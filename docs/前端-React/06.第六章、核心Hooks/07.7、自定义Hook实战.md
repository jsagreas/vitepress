---
title: 7ã€è‡ªå®šä¹‰Hookå®æˆ˜
---
## ğŸ“š ç›®å½•

1. [ä¸ºä»€ä¹ˆéœ€è¦è‡ªå®šä¹‰Hook](#1-ä¸ºä»€ä¹ˆéœ€è¦è‡ªå®šä¹‰hook)
2. [ç¼–å†™useXxx Hookå°è£…é€»è¾‘](#2-ç¼–å†™usexxx-hookå°è£…é€»è¾‘)
3. [æŠ½ç¦»é€šç”¨é€»è¾‘å®æˆ˜](#3-æŠ½ç¦»é€šç”¨é€»è¾‘å®æˆ˜)
4. [è‡ªå®šä¹‰Hookæœ€ä½³å®è·µ](#4-è‡ªå®šä¹‰hookæœ€ä½³å®è·µ)
5. [Hookç»„åˆä¸å¤ç”¨æŠ€å·§](#5-hookç»„åˆä¸å¤ç”¨æŠ€å·§)
6. [å¸¸è§è‡ªå®šä¹‰Hookæ¨¡å¼](#6-å¸¸è§è‡ªå®šä¹‰hookæ¨¡å¼)
7. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#7-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ¤” ä¸ºä»€ä¹ˆéœ€è¦è‡ªå®šä¹‰Hook


### 1.1 ä»€ä¹ˆæ˜¯è‡ªå®šä¹‰Hook

**ç®€å•ç†è§£**ï¼šè‡ªå®šä¹‰Hookå°±æ˜¯æŠŠé‡å¤çš„é€»è¾‘ä»£ç æŠ½å–å‡ºæ¥ï¼ŒåŒ…è£…æˆä¸€ä¸ªå¯ä»¥å¤ç”¨çš„å‡½æ•°ã€‚

```
æƒ³è±¡ä¸€ä¸‹ï¼š
ä½ æ¯æ¬¡åšèœéƒ½è¦å‡†å¤‡é£Ÿæã€è°ƒæ–™ã€é”…å…·
å¦‚æœæŠŠè¿™äº›å‡†å¤‡å·¥ä½œå°è£…æˆä¸€ä¸ª"å‡†å¤‡åšèœ"çš„æµç¨‹
ä¸‹æ¬¡åšèœå°±ç›´æ¥è°ƒç”¨è¿™ä¸ªæµç¨‹ï¼Œä¸ç”¨é‡å¤å‡†å¤‡

è‡ªå®šä¹‰Hookå°±æ˜¯è¿™ä¸ªé“ç†ï¼
```

### 1.2 è§£å†³çš„æ ¸å¿ƒé—®é¢˜

**ğŸ”¸ ä»£ç é‡å¤é—®é¢˜**
```javascript
// âŒ æ²¡æœ‰è‡ªå®šä¹‰Hookæ—¶ï¼šæ¯ä¸ªç»„ä»¶éƒ½è¦å†™ç›¸åŒçš„é€»è¾‘
function UserProfile() {
  const [user, setUser] = useState(null);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState(null);
  
  useEffect(() => {
    fetch('/api/user')
      .then(res => res.json())
      .then(data => {
        setUser(data);
        setLoading(false);
      })
      .catch(err => {
        setError(err);
        setLoading(false);
      });
  }, []);
  
  // ç»„ä»¶æ¸²æŸ“é€»è¾‘...
}

function ProductList() {
  const [products, setProducts] = useState([]);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState(null);
  
  useEffect(() => {
    fetch('/api/products')
      .then(res => res.json())
      .then(data => {
        setProducts(data);
        setLoading(false);
      })
      .catch(err => {
        setError(err);
        setLoading(false);
      });
  }, []);
  
  // ç»„ä»¶æ¸²æŸ“é€»è¾‘...
}
```

**âœ… ä½¿ç”¨è‡ªå®šä¹‰Hookåï¼šä¸€æ¬¡å°è£…ï¼Œåˆ°å¤„å¤ç”¨**
```javascript
// è‡ªå®šä¹‰Hookï¼šå°è£…æ•°æ®è¯·æ±‚é€»è¾‘
function useApi(url) {
  const [data, setData] = useState(null);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState(null);
  
  useEffect(() => {
    fetch(url)
      .then(res => res.json())
      .then(result => {
        setData(result);
        setLoading(false);
      })
      .catch(err => {
        setError(err);
        setLoading(false);
      });
  }, [url]);
  
  return { data, loading, error };
}

// ç»„ä»¶ä¸­ä½¿ç”¨ï¼šä»£ç ç®€æ´å¤šäº†ï¼
function UserProfile() {
  const { data: user, loading, error } = useApi('/api/user');
  
  if (loading) return <div>åŠ è½½ä¸­...</div>;
  if (error) return <div>å‡ºé”™äº†</div>;
  return <div>ç”¨æˆ·ï¼š{user.name}</div>;
}

function ProductList() {
  const { data: products, loading, error } = useApi('/api/products');
  
  if (loading) return <div>åŠ è½½ä¸­...</div>;
  if (error) return <div>å‡ºé”™äº†</div>;
  return <div>å•†å“æ•°é‡ï¼š{products.length}</div>;
}
```

### 1.3 è‡ªå®šä¹‰Hookçš„å¥½å¤„


| ä¼˜åŠ¿ | **è¯´æ˜** | **å®é™…æ•ˆæœ** |
|------|---------|-------------|
| ğŸ”„ **ä»£ç å¤ç”¨** | `ä¸€æ¬¡ç¼–å†™ï¼Œå¤šå¤„ä½¿ç”¨` | `å‡å°‘é‡å¤ä»£ç 80%ä»¥ä¸Š` |
| ğŸ§¹ **é€»è¾‘åˆ†ç¦»** | `ä¸šåŠ¡é€»è¾‘ä¸UIé€»è¾‘åˆ†å¼€` | `ç»„ä»¶æ›´å¹²å‡€ï¼Œä¸“æ³¨æ¸²æŸ“` |
| ğŸ”§ **æ˜“äºç»´æŠ¤** | `ä¿®æ”¹é€»è¾‘åªéœ€æ”¹ä¸€ä¸ªåœ°æ–¹` | `é™ä½ç»´æŠ¤æˆæœ¬å’Œå‡ºé”™ç‡` |
| ğŸ§ª **ä¾¿äºæµ‹è¯•** | `å¯ä»¥å•ç‹¬æµ‹è¯•Hooké€»è¾‘` | `æé«˜ä»£ç è´¨é‡å’Œå¯é æ€§` |

---

## 2. âš™ï¸ ç¼–å†™useXxx Hookå°è£…é€»è¾‘


### 2.1 è‡ªå®šä¹‰Hookçš„åŸºæœ¬è§„åˆ™


**ğŸ”¸ å‘½åè§„åˆ™**
```javascript
// âœ… æ­£ç¡®å‘½åï¼šå¿…é¡»ä»¥ "use" å¼€å¤´
function useCounter() { }
function useLocalStorage() { }
function useApi() { }

// âŒ é”™è¯¯å‘½åï¼šä¸ä»¥ "use" å¼€å¤´
function counter() { }        // Reactæ— æ³•è¯†åˆ«è¿™æ˜¯Hook
function getLocalStorage() { } // ä¸ç¬¦åˆHookå‘½åè§„èŒƒ
```

**ğŸ”¸ ä½¿ç”¨è§„åˆ™**
- **åªèƒ½åœ¨å‡½æ•°ç»„ä»¶ä¸­ä½¿ç”¨**
- **åªèƒ½åœ¨ç»„ä»¶é¡¶å±‚è°ƒç”¨**ï¼ˆä¸èƒ½åœ¨å¾ªç¯ã€æ¡ä»¶åˆ¤æ–­ä¸­ä½¿ç”¨ï¼‰
- **å¯ä»¥è°ƒç”¨å…¶ä»–Hook**

### 2.2 ç¬¬ä¸€ä¸ªè‡ªå®šä¹‰Hookï¼šè®¡æ•°å™¨


**ğŸ’¡ éœ€æ±‚åˆ†æ**
```
å¾ˆå¤šåœ°æ–¹éƒ½éœ€è¦è®¡æ•°åŠŸèƒ½ï¼š
- è´­ç‰©è½¦å•†å“æ•°é‡ +/-
- ç‚¹èµæ•° +/-  
- é¡µé¢æµè§ˆæ¬¡æ•° +/-

å…±åŒé€»è¾‘ï¼šæ•°å­—ã€å¢åŠ ã€å‡å°‘ã€é‡ç½®
```

**ğŸ”§ Hookå®ç°**
```javascript
// è‡ªå®šä¹‰Hookï¼šè®¡æ•°å™¨é€»è¾‘
function useCounter(initialValue = 0) {
  const [count, setCount] = useState(initialValue);
  
  // å¢åŠ 
  const increment = () => setCount(prev => prev + 1);
  
  // å‡å°‘  
  const decrement = () => setCount(prev => prev - 1);
  
  // é‡ç½®
  const reset = () => setCount(initialValue);
  
  // è¿”å›çŠ¶æ€å’Œæ“ä½œæ–¹æ³•
  return {
    count,
    increment,
    decrement,
    reset
  };
}
```

**ğŸ“± ç»„ä»¶ä¸­ä½¿ç”¨**
```javascript
// è´­ç‰©è½¦ç»„ä»¶
function ShoppingCart() {
  const { count, increment, decrement, reset } = useCounter(1);
  
  return (
    <div>
      <h3>å•†å“æ•°é‡ï¼š{count}</h3>
      <button onClick={decrement}>-</button>
      <button onClick={increment}>+</button>
      <button onClick={reset}>é‡ç½®</button>
    </div>
  );
}

// ç‚¹èµç»„ä»¶
function LikeButton() {
  const { count: likes, increment } = useCounter(0);
  
  return (
    <button onClick={increment}>
      ğŸ‘ {likes}
    </button>
  );
}
```

### 2.3 è¿›é˜¶Hookï¼šæœ¬åœ°å­˜å‚¨


**ğŸ’¡ éœ€æ±‚åˆ†æ**
```
å¾ˆå¤šæ•°æ®éœ€è¦ä¿å­˜åˆ°æµè§ˆå™¨ï¼š
- ç”¨æˆ·è®¾ç½®ï¼ˆä¸»é¢˜ã€è¯­è¨€ï¼‰
- è´­ç‰©è½¦å†…å®¹
- è¡¨å•è‰ç¨¿

å…±åŒé€»è¾‘ï¼šè¯»å–localStorageã€ä¿å­˜localStorageã€æ•°æ®åŒæ­¥
```

**ğŸ”§ Hookå®ç°**
```javascript
function useLocalStorage(key, defaultValue) {
  // ä»localStorageè¯»å–åˆå§‹å€¼
  const [value, setValue] = useState(() => {
    try {
      const item = window.localStorage.getItem(key);
      return item ? JSON.parse(item) : defaultValue;
    } catch (error) {
      console.log('è¯»å–localStorageå¤±è´¥:', error);
      return defaultValue;
    }
  });
  
  // æ›´æ–°localStorageçš„æ–¹æ³•
  const setStoredValue = (newValue) => {
    try {
      setValue(newValue);
      window.localStorage.setItem(key, JSON.stringify(newValue));
    } catch (error) {
      console.log('ä¿å­˜localStorageå¤±è´¥:', error);
    }
  };
  
  return [value, setStoredValue];
}
```

**ğŸ“± ç»„ä»¶ä¸­ä½¿ç”¨**
```javascript
// è®¾ç½®ç»„ä»¶
function Settings() {
  const [theme, setTheme] = useLocalStorage('theme', 'light');
  const [language, setLanguage] = useLocalStorage('language', 'zh');
  
  return (
    <div>
      <h3>å½“å‰ä¸»é¢˜ï¼š{theme}</h3>
      <button onClick={() => setTheme(theme === 'light' ? 'dark' : 'light')}>
        åˆ‡æ¢ä¸»é¢˜
      </button>
      
      <h3>å½“å‰è¯­è¨€ï¼š{language}</h3>
      <button onClick={() => setLanguage(language === 'zh' ? 'en' : 'zh')}>
        åˆ‡æ¢è¯­è¨€
      </button>
    </div>
  );
}
```

---

## 3. ğŸ¯ æŠ½ç¦»é€šç”¨é€»è¾‘å®æˆ˜


### 3.1 æ•°æ®è¯·æ±‚Hookï¼šuseApi


**ğŸ’¡ å®é™…åœºæ™¯**
```
å‡ ä¹æ¯ä¸ªé¡µé¢éƒ½è¦è¯·æ±‚æ•°æ®ï¼š
- ç”¨æˆ·ä¿¡æ¯ã€å•†å“åˆ—è¡¨ã€è®¢å•è¯¦æƒ…...
- éƒ½éœ€è¦ï¼šåŠ è½½çŠ¶æ€ã€é”™è¯¯å¤„ç†ã€æ•°æ®å­˜å‚¨

é‡å¤çš„é€»è¾‘ï¼šloadingã€errorã€dataçŠ¶æ€ç®¡ç†
```

**ğŸ”§ åŸºç¡€ç‰ˆæœ¬**
```javascript
function useApi(url) {
  const [data, setData] = useState(null);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState(null);
  
  useEffect(() => {
    const fetchData = async () => {
      try {
        setLoading(true);
        setError(null);
        
        const response = await fetch(url);
        if (!response.ok) {
          throw new Error(`è¯·æ±‚å¤±è´¥: ${response.status}`);
        }
        
        const result = await response.json();
        setData(result);
      } catch (err) {
        setError(err.message);
      } finally {
        setLoading(false);
      }
    };
    
    if (url) {
      fetchData();
    }
  }, [url]);
  
  return { data, loading, error };
}
```

**ğŸš€ å¢å¼ºç‰ˆæœ¬ï¼šæ”¯æŒé‡æ–°è¯·æ±‚**
```javascript
function useApi(url) {
  const [data, setData] = useState(null);
  const [loading, setLoading] = useState(false);
  const [error, setError] = useState(null);
  
  const fetchData = useCallback(async () => {
    try {
      setLoading(true);
      setError(null);
      
      const response = await fetch(url);
      if (!response.ok) {
        throw new Error(`è¯·æ±‚å¤±è´¥: ${response.status}`);
      }
      
      const result = await response.json();
      setData(result);
    } catch (err) {
      setError(err.message);
    } finally {
      setLoading(false);
    }
  }, [url]);
  
  useEffect(() => {
    if (url) {
      fetchData();
    }
  }, [fetchData]);
  
  return { 
    data, 
    loading, 
    error, 
    refetch: fetchData  // æ‰‹åŠ¨é‡æ–°è¯·æ±‚
  };
}
```

**ğŸ“± ä½¿ç”¨ç¤ºä¾‹**
```javascript
function UserList() {
  const { data: users, loading, error, refetch } = useApi('/api/users');
  
  if (loading) return <div>ğŸ”„ åŠ è½½ä¸­...</div>;
  if (error) return <div>âŒ {error}</div>;
  
  return (
    <div>
      <button onClick={refetch}>ğŸ”„ åˆ·æ–°æ•°æ®</button>
      <ul>
        {users?.map(user => (
          <li key={user.id}>{user.name}</li>
        ))}
      </ul>
    </div>
  );
}
```

### 3.2 è¡¨å•å¤„ç†Hookï¼šuseForm


**ğŸ’¡ è¡¨å•å¤„ç†çš„é€šç”¨é€»è¾‘**
```
æ¯ä¸ªè¡¨å•éƒ½éœ€è¦ï¼š
- å­˜å‚¨è¡¨å•æ•°æ®
- å¤„ç†è¾“å…¥å˜åŒ–
- è¡¨å•éªŒè¯
- æäº¤å¤„ç†
```

**ğŸ”§ Hookå®ç°**
```javascript
function useForm(initialValues = {}) {
  const [values, setValues] = useState(initialValues);
  const [errors, setErrors] = useState({});
  
  // å¤„ç†è¾“å…¥å˜åŒ–
  const handleChange = (name, value) => {
    setValues(prev => ({
      ...prev,
      [name]: value
    }));
    
    // æ¸…é™¤å¯¹åº”å­—æ®µçš„é”™è¯¯
    if (errors[name]) {
      setErrors(prev => ({
        ...prev,
        [name]: ''
      }));
    }
  };
  
  // é‡ç½®è¡¨å•
  const reset = () => {
    setValues(initialValues);
    setErrors({});
  };
  
  // è®¾ç½®é”™è¯¯
  const setFieldError = (name, error) => {
    setErrors(prev => ({
      ...prev,
      [name]: error
    }));
  };
  
  return {
    values,
    errors,
    handleChange,
    reset,
    setFieldError
  };
}
```

**ğŸ“± ä½¿ç”¨ç¤ºä¾‹**
```javascript
function LoginForm() {
  const { values, errors, handleChange, setFieldError } = useForm({
    username: '',
    password: ''
  });
  
  const handleSubmit = (e) => {
    e.preventDefault();
    
    // ç®€å•éªŒè¯
    if (!values.username) {
      setFieldError('username', 'è¯·è¾“å…¥ç”¨æˆ·å');
      return;
    }
    if (!values.password) {
      setFieldError('password', 'è¯·è¾“å…¥å¯†ç ');
      return;
    }
    
    console.log('æäº¤æ•°æ®:', values);
  };
  
  return (
    <form onSubmit={handleSubmit}>
      <div>
        <input
          placeholder="ç”¨æˆ·å"
          value={values.username}
          onChange={(e) => handleChange('username', e.target.value)}
        />
        {errors.username && <span style={{color: 'red'}}>{errors.username}</span>}
      </div>
      
      <div>
        <input
          type="password"
          placeholder="å¯†ç "
          value={values.password}
          onChange={(e) => handleChange('password', e.target.value)}
        />
        {errors.password && <span style={{color: 'red'}}>{errors.password}</span>}
      </div>
      
      <button type="submit">ç™»å½•</button>
    </form>
  );
}
```

---

## 4. ğŸ† è‡ªå®šä¹‰Hookæœ€ä½³å®è·µ


### 4.1 è®¾è®¡åŸåˆ™


**ğŸ”¸ å•ä¸€èŒè´£åŸåˆ™**
```javascript
// âœ… å¥½çš„è®¾è®¡ï¼šæ¯ä¸ªHookåªåšä¸€ä»¶äº‹
function useCounter() { /* åªå¤„ç†è®¡æ•°é€»è¾‘ */ }
function useApi() { /* åªå¤„ç†APIè¯·æ±‚ */ }
function useLocalStorage() { /* åªå¤„ç†æœ¬åœ°å­˜å‚¨ */ }

// âŒ ä¸å¥½çš„è®¾è®¡ï¼šä¸€ä¸ªHookåšå¤ªå¤šäº‹æƒ…
function useEverything() {
  // åˆç®¡è®¡æ•°ï¼Œåˆç®¡è¯·æ±‚ï¼Œåˆç®¡å­˜å‚¨...
  // è¿èƒŒäº†å•ä¸€èŒè´£åŸåˆ™
}
```

**ğŸ”¸ è¿”å›å€¼è®¾è®¡**
```javascript
// âœ… è¿”å›å¯¹è±¡ï¼šé€‚åˆå¤šä¸ªç›¸å…³å€¼
function useApi(url) {
  return { data, loading, error, refetch };
}

// âœ… è¿”å›æ•°ç»„ï¼šé€‚åˆç®€å•çš„å€¼å¯¹
function useToggle(initial = false) {
  const [value, setValue] = useState(initial);
  const toggle = () => setValue(prev => !prev);
  return [value, toggle];
}

// ğŸ¤” æ ¹æ®ä½¿ç”¨ä¹ æƒ¯é€‰æ‹©
const { data, loading } = useApi('/api/users');     // å¯¹è±¡è§£æ„
const [isOpen, toggleOpen] = useToggle(false);      // æ•°ç»„è§£æ„
```

**ğŸ”¸ å‚æ•°è®¾è®¡**
```javascript
// âœ… çµæ´»çš„å‚æ•°è®¾è®¡
function useApi(url, options = {}) {
  const {
    method = 'GET',
    headers = {},
    autoFetch = true
  } = options;
  
  // Hooké€»è¾‘...
}

// ä½¿ç”¨æ–¹å¼
const api1 = useApi('/api/users');                    // ç®€å•ä½¿ç”¨
const api2 = useApi('/api/data', {                    // è‡ªå®šä¹‰é…ç½®
  method: 'POST',
  autoFetch: false
});
```

### 4.2 æ€§èƒ½ä¼˜åŒ–


**ğŸ”¸ ä½¿ç”¨useCallbackä¼˜åŒ–å‡½æ•°**
```javascript
function useCounter(initialValue = 0) {
  const [count, setCount] = useState(initialValue);
  
  // âœ… ä½¿ç”¨useCallbacké¿å…å‡½æ•°é‡æ–°åˆ›å»º
  const increment = useCallback(() => {
    setCount(prev => prev + 1);
  }, []);
  
  const decrement = useCallback(() => {
    setCount(prev => prev - 1);
  }, []);
  
  return { count, increment, decrement };
}
```

**ğŸ”¸ åˆç†ä½¿ç”¨useMemo**
```javascript
function useExpensiveCalculation(data) {
  // âœ… å¯¹å¤æ‚è®¡ç®—ä½¿ç”¨useMemo
  const result = useMemo(() => {
    if (!data) return null;
    
    // å‡è®¾è¿™æ˜¯ä¸€ä¸ªå¾ˆè€—æ—¶çš„è®¡ç®—
    return data.map(item => ({
      ...item,
      processed: expensiveProcess(item)
    }));
  }, [data]);
  
  return result;
}
```

### 4.3 é”™è¯¯å¤„ç†


**ğŸ”¸ ä¼˜é›…çš„é”™è¯¯å¤„ç†**
```javascript
function useApi(url) {
  const [data, setData] = useState(null);
  const [loading, setLoading] = useState(false);
  const [error, setError] = useState(null);
  
  const fetchData = useCallback(async () => {
    try {
      setLoading(true);
      setError(null);
      
      const response = await fetch(url);
      
      // âœ… è¯¦ç»†çš„é”™è¯¯å¤„ç†
      if (!response.ok) {
        throw new Error(`HTTP Error: ${response.status} ${response.statusText}`);
      }
      
      const result = await response.json();
      setData(result);
      
    } catch (err) {
      // âœ… ç”¨æˆ·å‹å¥½çš„é”™è¯¯ä¿¡æ¯
      const friendlyMessage = err.message.includes('Failed to fetch') 
        ? 'ç½‘ç»œè¿æ¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œ'
        : err.message;
        
      setError(friendlyMessage);
      console.error('APIè¯·æ±‚å¤±è´¥:', err);
      
    } finally {
      setLoading(false);
    }
  }, [url]);
  
  return { data, loading, error, refetch: fetchData };
}
```

---

## 5. ğŸ”„ Hookç»„åˆä¸å¤ç”¨æŠ€å·§


### 5.1 Hookç»„åˆæ¨¡å¼


**ğŸ”¸ åŸºç¡€Hookç»„åˆ**
```javascript
// åŸºç¡€Hookï¼šuseLocalStorage
function useLocalStorage(key, defaultValue) {
  const [value, setValue] = useState(() => {
    try {
      const item = localStorage.getItem(key);
      return item ? JSON.parse(item) : defaultValue;
    } catch {
      return defaultValue;
    }
  });
  
  const setStoredValue = (newValue) => {
    setValue(newValue);
    localStorage.setItem(key, JSON.stringify(newValue));
  };
  
  return [value, setStoredValue];
}

// ç»„åˆHookï¼šuseSettings
function useSettings() {
  const [theme, setTheme] = useLocalStorage('theme', 'light');
  const [language, setLanguage] = useLocalStorage('language', 'zh');
  const [fontSize, setFontSize] = useLocalStorage('fontSize', 14);
  
  // ç»„åˆæ“ä½œ
  const resetSettings = () => {
    setTheme('light');
    setLanguage('zh');
    setFontSize(14);
  };
  
  return {
    theme, setTheme,
    language, setLanguage,
    fontSize, setFontSize,
    resetSettings
  };
}
```

**ğŸ“± ä½¿ç”¨ç»„åˆHook**
```javascript
function SettingsPanel() {
  const { 
    theme, setTheme,
    language, setLanguage,
    resetSettings 
  } = useSettings();
  
  return (
    <div>
      <h3>è®¾ç½®</h3>
      <div>
        ä¸»é¢˜ï¼š
        <select value={theme} onChange={e => setTheme(e.target.value)}>
          <option value="light">æµ…è‰²</option>
          <option value="dark">æ·±è‰²</option>
        </select>
      </div>
      
      <div>
        è¯­è¨€ï¼š
        <select value={language} onChange={e => setLanguage(e.target.value)}>
          <option value="zh">ä¸­æ–‡</option>
          <option value="en">English</option>
        </select>
      </div>
      
      <button onClick={resetSettings}>é‡ç½®è®¾ç½®</button>
    </div>
  );
}
```

### 5.2 æ¡ä»¶Hookæ¨¡å¼


**ğŸ”¸ æ ¹æ®æ¡ä»¶ä½¿ç”¨ä¸åŒHook**
```javascript
function useAuthenticatedApi(url, isAuthenticated) {
  // âš ï¸ æ³¨æ„ï¼šHookçš„è°ƒç”¨é¡ºåºå¿…é¡»ä¿æŒä¸€è‡´
  const publicApi = useApi(isAuthenticated ? null : url);
  const authenticatedApi = useApi(isAuthenticated ? url : null, {
    headers: {
      'Authorization': `Bearer ${getToken()}`
    }
  });
  
  return isAuthenticated ? authenticatedApi : publicApi;
}
```

**ğŸ”¸ æ›´å¥½çš„æ–¹å¼ï¼šå‚æ•°æ§åˆ¶**
```javascript
function useApi(url, options = {}) {
  const { 
    enabled = true,
    requireAuth = false 
  } = options;
  
  const finalUrl = enabled ? url : null;
  const headers = requireAuth ? {
    'Authorization': `Bearer ${getToken()}`,
    ...options.headers
  } : options.headers;
  
  // Hooké€»è¾‘...
}

// ä½¿ç”¨
function UserProfile() {
  const { isLoggedIn } = useAuth();
  const { data } = useApi('/api/profile', {
    enabled: isLoggedIn,
    requireAuth: true
  });
  
  return <div>{data?.name}</div>;
}
```

---

## 6. ğŸ¨ å¸¸è§è‡ªå®šä¹‰Hookæ¨¡å¼


### 6.1 çŠ¶æ€ç®¡ç†Hook


**ğŸ”¸ useToggle - å¼€å…³çŠ¶æ€**
```javascript
function useToggle(initialValue = false) {
  const [value, setValue] = useState(initialValue);
  
  const toggle = useCallback(() => setValue(prev => !prev), []);
  const setTrue = useCallback(() => setValue(true), []);
  const setFalse = useCallback(() => setValue(false), []);
  
  return [value, { toggle, setTrue, setFalse }];
}

// ä½¿ç”¨
function Modal() {
  const [isOpen, { toggle, setFalse }] = useToggle(false);
  
  return (
    <div>
      <button onClick={toggle}>æ‰“å¼€æ¨¡æ€æ¡†</button>
      {isOpen && (
        <div className="modal">
          <h3>æ¨¡æ€æ¡†å†…å®¹</h3>
          <button onClick={setFalse}>å…³é—­</button>
        </div>
      )}
    </div>
  );
}
```

**ğŸ”¸ usePrevious - è·å–å‰ä¸€ä¸ªå€¼**
```javascript
function usePrevious(value) {
  const ref = useRef();
  
  useEffect(() => {
    ref.current = value;
  });
  
  return ref.current;
}

// ä½¿ç”¨
function Counter() {
  const [count, setCount] = useState(0);
  const prevCount = usePrevious(count);
  
  return (
    <div>
      <h3>å½“å‰ï¼š{count}</h3>
      <h4>ä¹‹å‰ï¼š{prevCount}</h4>
      <button onClick={() => setCount(count + 1)}>+1</button>
    </div>
  );
}
```

### 6.2 å‰¯ä½œç”¨Hook


**ğŸ”¸ useDebounce - é˜²æŠ–**
```javascript
function useDebounce(value, delay) {
  const [debouncedValue, setDebouncedValue] = useState(value);
  
  useEffect(() => {
    const timer = setTimeout(() => {
      setDebouncedValue(value);
    }, delay);
    
    return () => clearTimeout(timer);
  }, [value, delay]);
  
  return debouncedValue;
}

// ä½¿ç”¨ï¼šæœç´¢è¾“å…¥é˜²æŠ–
function SearchBox() {
  const [searchTerm, setSearchTerm] = useState('');
  const debouncedSearchTerm = useDebounce(searchTerm, 500);
  
  useEffect(() => {
    if (debouncedSearchTerm) {
      console.log('æœç´¢:', debouncedSearchTerm);
      // æ‰§è¡Œæœç´¢è¯·æ±‚
    }
  }, [debouncedSearchTerm]);
  
  return (
    <input
      placeholder="æœç´¢..."
      value={searchTerm}
      onChange={(e) => setSearchTerm(e.target.value)}
    />
  );
}
```

**ğŸ”¸ useInterval - å®šæ—¶å™¨**
```javascript
function useInterval(callback, delay) {
  const savedCallback = useRef();
  
  useEffect(() => {
    savedCallback.current = callback;
  }, [callback]);
  
  useEffect(() => {
    if (delay !== null) {
      const timer = setInterval(() => savedCallback.current(), delay);
      return () => clearInterval(timer);
    }
  }, [delay]);
}

// ä½¿ç”¨ï¼šå®æ—¶æ—¶é’Ÿ
function Clock() {
  const [time, setTime] = useState(new Date());
  
  useInterval(() => {
    setTime(new Date());
  }, 1000);
  
  return <div>{time.toLocaleTimeString()}</div>;
}
```

---

## 7. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 7.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ è‡ªå®šä¹‰Hookæœ¬è´¨ï¼šæŠŠé‡å¤é€»è¾‘æŠ½å–æˆå¯å¤ç”¨çš„å‡½æ•°
ğŸ”¸ å‘½åè§„åˆ™ï¼šå¿…é¡»ä»¥"use"å¼€å¤´ï¼ŒReactæ‰èƒ½è¯†åˆ«
ğŸ”¸ ä½¿ç”¨è§„åˆ™ï¼šåªèƒ½åœ¨ç»„ä»¶é¡¶å±‚è°ƒç”¨ï¼Œä¸èƒ½åœ¨å¾ªç¯æˆ–æ¡ä»¶ä¸­ä½¿ç”¨
ğŸ”¸ è®¾è®¡åŸåˆ™ï¼šå•ä¸€èŒè´£ã€çµæ´»å‚æ•°ã€ä¼˜é›…é”™è¯¯å¤„ç†
ğŸ”¸ ç»„åˆæ¨¡å¼ï¼šåŸºç¡€Hookç»„åˆæˆæ›´å¼ºå¤§çš„Hook
```

### 7.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ ä»€ä¹ˆæ—¶å€™éœ€è¦è‡ªå®šä¹‰Hook**
```
å‡ºç°é‡å¤é€»è¾‘æ—¶ï¼š
- å¤šä¸ªç»„ä»¶æœ‰ç›¸åŒçš„çŠ¶æ€ç®¡ç†é€»è¾‘
- ç›¸åŒçš„å‰¯ä½œç”¨å¤„ç†ï¼ˆAPIè¯·æ±‚ã€å®šæ—¶å™¨ç­‰ï¼‰
- ç›¸åŒçš„æ•°æ®å¤„ç†é€»è¾‘

è§£å†³æ–¹æ¡ˆï¼š
- æŠ½å–æˆè‡ªå®šä¹‰Hook
- ä¸€æ¬¡ç¼–å†™ï¼Œå¤šå¤„å¤ç”¨
- é™ä½ç»´æŠ¤æˆæœ¬
```

**ğŸ”¹ è‡ªå®šä¹‰Hook vs æ™®é€šå‡½æ•°**
```
æ™®é€šå‡½æ•°ï¼š
- çº¯é€»è¾‘å¤„ç†ï¼Œä¸æ¶‰åŠReactçŠ¶æ€
- å¯ä»¥éšæ—¶è°ƒç”¨
- ä¾‹ï¼šæ•°æ®æ ¼å¼åŒ–ã€å·¥å…·å‡½æ•°

è‡ªå®šä¹‰Hookï¼š
- æ¶‰åŠReactçŠ¶æ€å’Œå‰¯ä½œç”¨
- åªèƒ½åœ¨ç»„ä»¶ä¸­è°ƒç”¨
- ä¾‹ï¼šçŠ¶æ€ç®¡ç†ã€APIè¯·æ±‚ã€äº‹ä»¶ç›‘å¬
```

**ğŸ”¹ è¿”å›å€¼è®¾è®¡æŠ€å·§**
```
ç®€å•å€¼å¯¹ï¼šè¿”å›æ•°ç»„
const [isOpen, toggleOpen] = useToggle();

å¤šä¸ªç›¸å…³å€¼ï¼šè¿”å›å¯¹è±¡  
const { data, loading, error } = useApi('/api/users');

ä¿æŒä¸€è‡´æ€§ï¼š
- ç±»ä¼¼useStateçš„Hookç”¨æ•°ç»„
- å¤æ‚æ•°æ®çš„Hookç”¨å¯¹è±¡
```

### 7.3 å®é™…åº”ç”¨åœºæ™¯


- **ğŸ”„ æ•°æ®è¯·æ±‚**ï¼šuseApiã€useFetchç»Ÿä¸€è¯·æ±‚é€»è¾‘
- **ğŸ“ è¡¨å•å¤„ç†**ï¼šuseFormå°è£…è¡¨å•çŠ¶æ€å’ŒéªŒè¯
- **ğŸ’¾ æœ¬åœ°å­˜å‚¨**ï¼šuseLocalStorageåŒæ­¥localStorage
- **â° å®šæ—¶ä»»åŠ¡**ï¼šuseIntervalã€useTimeoutç®¡ç†å®šæ—¶å™¨
- **ğŸ›ï¸ çŠ¶æ€ç®¡ç†**ï¼šuseToggleã€useCounteré€šç”¨çŠ¶æ€é€»è¾‘
- **ğŸ” æœç´¢åŠŸèƒ½**ï¼šuseDebounceé˜²æŠ–å¤„ç†
- **ğŸ“± å“åº”å¼**ï¼šuseMediaQueryå¤„ç†å±å¹•å°ºå¯¸

### 7.4 æœ€ä½³å®è·µå»ºè®®


**âœ… æ¨èåšæ³•**
- ä¿æŒHookçš„å•ä¸€èŒè´£
- ä½¿ç”¨TypeScriptå¢å¼ºç±»å‹å®‰å…¨
- æ·»åŠ é€‚å½“çš„é”™è¯¯å¤„ç†
- ç¼–å†™Hookçš„å•å…ƒæµ‹è¯•
- åˆç†ä½¿ç”¨useCallbackå’ŒuseMemoä¼˜åŒ–æ€§èƒ½

**âŒ é¿å…é™·é˜±**
- ä¸è¦åœ¨æ¡ä»¶è¯­å¥ä¸­è°ƒç”¨Hook
- ä¸è¦è¿‡åº¦æ‹†åˆ†ï¼Œä¿æŒHookçš„åˆç†ç²’åº¦
- ä¸è¦åœ¨Hookä¸­ç›´æ¥æ“ä½œDOM
- æ³¨æ„Hookçš„ä¾èµ–é¡¹ï¼Œé¿å…æ— é™å¾ªç¯

**æ ¸å¿ƒè®°å¿†**ï¼š
- è‡ªå®šä¹‰Hook = é‡å¤é€»è¾‘çš„æŠ½å–å™¨
- ä»¥"use"å¼€å¤´ï¼Œéµå¾ªHookè§„åˆ™
- ä¸€æ¬¡å°è£…ï¼Œåˆ°å¤„å¤ç”¨ï¼Œå¤§å¹…æå‡å¼€å‘æ•ˆç‡
- è®©ç»„ä»¶æ›´å¹²å‡€ï¼Œé€»è¾‘æ›´æ¸…æ™°ï¼Œä»£ç æ›´æ˜“ç»´æŠ¤