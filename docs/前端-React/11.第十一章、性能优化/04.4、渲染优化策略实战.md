---
title: 4ã€æ¸²æŸ“ä¼˜åŒ–ç­–ç•¥å®æˆ˜
---
## ğŸ“š ç›®å½•

1. [æ€§èƒ½ä¼˜åŒ–åŸºç¡€æ¦‚å¿µ](#1-æ€§èƒ½ä¼˜åŒ–åŸºç¡€æ¦‚å¿µ)
2. [é¿å…ä¸å¿…è¦çš„é‡æ¸²æŸ“](#2-é¿å…ä¸å¿…è¦çš„é‡æ¸²æŸ“)
3. [React.memoä½¿ç”¨ç­–ç•¥](#3-reactmemoä½¿ç”¨ç­–ç•¥)
4. [ç»„ä»¶æ‹†åˆ†ä¼˜åŒ–å®æˆ˜](#4-ç»„ä»¶æ‹†åˆ†ä¼˜åŒ–å®æˆ˜)
5. [keyå±æ€§ä¼˜åŒ–æŠ€å·§](#5-keyå±æ€§ä¼˜åŒ–æŠ€å·§)
6. [çŠ¶æ€è®¾è®¡å½±å“æ€§èƒ½](#6-çŠ¶æ€è®¾è®¡å½±å“æ€§èƒ½)
7. [æ€§èƒ½ç›‘æ§ä¸æœ€ä½³å®è·µ](#7-æ€§èƒ½ç›‘æ§ä¸æœ€ä½³å®è·µ)
8. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#8-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ¯ æ€§èƒ½ä¼˜åŒ–åŸºç¡€æ¦‚å¿µ


### 1.1 ä»€ä¹ˆæ˜¯Reactæ¸²æŸ“ä¼˜åŒ–


**ğŸ”¸ ç®€å•ç†è§£**
æƒ³è±¡ä½ åœ¨ç”»ç”»ï¼Œæ¯æ¬¡ä¿®æ”¹ä¸€ä¸ªå°åœ°æ–¹ï¼Œå¦‚æœæ•´å¹…ç”»éƒ½è¦é‡ç”»ä¸€éï¼Œé‚£å°±å¤ªæµªè´¹æ—¶é—´äº†ã€‚Reactæ¸²æŸ“ä¼˜åŒ–å°±æ˜¯è®©Reactåªé‡ç”»éœ€è¦ä¿®æ”¹çš„éƒ¨åˆ†ã€‚

**ğŸ”¸ æ ¸å¿ƒé—®é¢˜**
```
é—®é¢˜ï¼šé¡µé¢å˜æ…¢äº†ï¼Œç”¨æˆ·ä½“éªŒä¸å¥½
åŸå› ï¼šReactåœ¨åšæ— ç”¨åŠŸï¼Œé‡å¤æ¸²æŸ“æ²¡æœ‰å˜åŒ–çš„å†…å®¹
è§£å†³ï¼šè®©Reactèªæ˜ä¸€ç‚¹ï¼Œåªæ¸²æŸ“çœŸæ­£éœ€è¦æ›´æ–°çš„éƒ¨åˆ†
```

### 1.2 Reactæ¸²æŸ“çš„åŸºæœ¬è¿‡ç¨‹


**ğŸ”¸ æ¸²æŸ“è¿‡ç¨‹å›¾è§£**
```
çŠ¶æ€æ”¹å˜ â”€â”€â–¶ ç»„ä»¶é‡æ–°æ¸²æŸ“ â”€â”€â–¶ è™šæ‹ŸDOMå¯¹æ¯” â”€â”€â–¶ æ›´æ–°çœŸå®DOM
    â”‚              â”‚               â”‚              â”‚
    â–¼              â–¼               â–¼              â–¼
è§¦å‘æ›´æ–°        æ‰§è¡Œå‡½æ•°ç»„ä»¶     æ‰¾å‡ºå·®å¼‚        æµè§ˆå™¨é‡ç»˜
```

**ğŸ”¸ æ€§èƒ½ç“¶é¢ˆåœ¨å“ªé‡Œ**
- **ç»„ä»¶é‡æ–°æ¸²æŸ“**ï¼šå‡½æ•°é‡æ–°æ‰§è¡Œï¼Œæ¶ˆè€—CPU
- **å­ç»„ä»¶è¿å¸¦æ¸²æŸ“**ï¼šçˆ¶ç»„ä»¶æ¸²æŸ“æ—¶ï¼Œæ‰€æœ‰å­ç»„ä»¶éƒ½ä¼šé‡æ¸²æŸ“
- **å¤æ‚è®¡ç®—é‡å¤æ‰§è¡Œ**ï¼šæ¯æ¬¡æ¸²æŸ“éƒ½é‡æ–°è®¡ç®—ç›¸åŒçš„ç»“æœ

> ğŸ’¡ **æ ¸å¿ƒç†è§£**  
> Reacté»˜è®¤ç­–ç•¥æ˜¯"å®å¯æ¸²æŸ“é”™ï¼Œä¸å¯æ¼æ¸²æŸ“"ï¼Œæ‰€ä»¥ä¼šæ¯”è¾ƒä¿å®ˆï¼Œç»å¸¸åšæ— ç”¨åŠŸã€‚æˆ‘ä»¬è¦æ•™ä¼šå®ƒä»€ä¹ˆæ—¶å€™å¯ä»¥å·æ‡’ã€‚

---

## 2. ğŸš« é¿å…ä¸å¿…è¦çš„é‡æ¸²æŸ“


### 2.1 ä»€ä¹ˆæ˜¯ä¸å¿…è¦çš„é‡æ¸²æŸ“


**ğŸ”¸ ç”Ÿæ´»ç±»æ¯”**
å°±åƒä½ å¦ˆå¦ˆæ¯æ¬¡è¿›ä½ æˆ¿é—´éƒ½è¦é‡æ–°æ•´ç†ä¸€éï¼Œå³ä½¿æˆ¿é—´æœ¬æ¥å°±å¾ˆæ•´é½ã€‚Reactä¹Ÿä¼šè¿™æ ·ï¼Œçˆ¶ç»„ä»¶ä¸€æ›´æ–°ï¼Œå­ç»„ä»¶å°±ç®—æ²¡å˜åŒ–ä¹Ÿè¦é‡æ–°"æ•´ç†"ä¸€éã€‚

### 2.2 å¸¸è§çš„é‡æ¸²æŸ“åœºæ™¯


**ğŸ”¸ åœºæ™¯1ï¼šçˆ¶ç»„ä»¶æ›´æ–°å¯¼è‡´å­ç»„ä»¶æ— æ„ä¹‰æ¸²æŸ“**
```jsx
// âŒ é—®é¢˜ä»£ç 
function Parent() {
  const [count, setCount] = useState(0);
  const [name, setName] = useState('å¼ ä¸‰');
  
  return (
    <div>
      <button onClick={() => setCount(count + 1)}>
        ç‚¹å‡»æ¬¡æ•°: {count}
      </button>
      {/* nameæ²¡å˜ï¼Œä½†UserInfoä¼šé‡æ–°æ¸²æŸ“ */}
      <UserInfo name={name} />
    </div>
  );
}

function UserInfo({ name }) {
  console.log('UserInfoé‡æ–°æ¸²æŸ“äº†'); // æ¯æ¬¡ç‚¹å‡»éƒ½ä¼šæ‰“å°
  return <div>ç”¨æˆ·å: {name}</div>;
}
```

**ğŸ”¸ åœºæ™¯2ï¼šå¯¹è±¡å’Œå‡½æ•°æ¯æ¬¡éƒ½æ˜¯æ–°çš„**
```jsx
// âŒ é—®é¢˜ä»£ç 
function Parent() {
  const [count, setCount] = useState(0);
  
  return (
    <div>
      <button onClick={() => setCount(count + 1)}>è®¡æ•°: {count}</button>
      {/* æ¯æ¬¡æ¸²æŸ“userInfoéƒ½æ˜¯æ–°å¯¹è±¡ */}
      <UserCard userInfo={{name: 'å¼ ä¸‰', age: 25}} />
      {/* æ¯æ¬¡æ¸²æŸ“onClickéƒ½æ˜¯æ–°å‡½æ•° */}
      <Button onClick={() => console.log('ç‚¹å‡»äº†')}>æŒ‰é’®</Button>
    </div>
  );
}
```

### 2.3 è¯†åˆ«é‡æ¸²æŸ“çš„æ–¹æ³•


**ğŸ”¸ ç®€å•è°ƒè¯•æŠ€å·§**
```jsx
function MyComponent({ name }) {
  // åœ¨ç»„ä»¶å†…åŠ ä¸ªconsole.logï¼Œçœ‹çœ‹ä»€ä¹ˆæ—¶å€™é‡æ¸²æŸ“
  console.log('MyComponenté‡æ–°æ¸²æŸ“ï¼Œname=', name);
  
  return <div>{name}</div>;
}
```

**ğŸ”¸ Reactå¼€å‘å·¥å…·**
- å®‰è£…React DevToolsæµè§ˆå™¨æ’ä»¶
- æ‰“å¼€"Profiler"æ ‡ç­¾é¡µ
- è®°å½•ç»„ä»¶æ¸²æŸ“è¿‡ç¨‹
- æŸ¥çœ‹å“ªäº›ç»„ä»¶åœ¨ä¸å¿…è¦åœ°é‡æ¸²æŸ“

---

## 3. ğŸ›¡ï¸ React.memoä½¿ç”¨ç­–ç•¥


### 3.1 React.memoæ˜¯ä»€ä¹ˆ


**ğŸ”¸ ç®€å•ç†è§£**
React.memoå°±åƒç»™ç»„ä»¶è£…äº†ä¸ª"å¯¹æ¯”å™¨"ï¼Œå®ƒä¼šæ£€æŸ¥propsæœ‰æ²¡æœ‰å˜åŒ–ï¼Œå¦‚æœæ²¡å˜å°±ç›´æ¥ç”¨ä¸Šæ¬¡çš„ç»“æœï¼Œä¸é‡æ–°æ¸²æŸ“ã€‚

**ğŸ”¸ å·¥ä½œåŸç†**
```
æ–°çš„propsè¿›æ¥ â”€â”€â–¶ React.memoå¯¹æ¯” â”€â”€â–¶ æ²¡å˜åŒ–ï¼Ÿâ”€â”€â–¶ è·³è¿‡æ¸²æŸ“
                      â”‚                  â”‚
                      â–¼                  â–¼
                  æœ‰å˜åŒ–ï¼Œé‡æ–°æ¸²æŸ“      ä½¿ç”¨ç¼“å­˜ç»“æœ
```

### 3.2 åŸºæœ¬ä½¿ç”¨æ–¹æ³•


**ğŸ”¸ ç®€å•åŒ…è£…**
```jsx
// æ™®é€šç»„ä»¶
function UserInfo({ name, age }) {
  return (
    <div>
      <p>å§“å: {name}</p>
      <p>å¹´é¾„: {age}</p>
    </div>
  );
}

// ç”¨React.memoåŒ…è£…
const OptimizedUserInfo = React.memo(UserInfo);

// ç°åœ¨OptimizedUserInfoåªæœ‰åœ¨nameæˆ–ageå˜åŒ–æ—¶æ‰ä¼šé‡æ¸²æŸ“
```

**ğŸ”¸ ä½¿ç”¨æ•ˆæœå¯¹æ¯”**
```jsx
function App() {
  const [count, setCount] = useState(0);
  
  return (
    <div>
      <button onClick={() => setCount(count + 1)}>
        ç‚¹å‡»æ¬¡æ•°: {count}
      </button>
      
      {/* æ¯æ¬¡éƒ½é‡æ¸²æŸ“ */}
      <UserInfo name="å¼ ä¸‰" age={25} />
      
      {/* åªæœ‰propså˜åŒ–æ—¶æ‰é‡æ¸²æŸ“ */}
      <OptimizedUserInfo name="æå››" age={30} />
    </div>
  );
}
```

### 3.3 è‡ªå®šä¹‰æ¯”è¾ƒé€»è¾‘


**ğŸ”¸ ä»€ä¹ˆæ—¶å€™éœ€è¦è‡ªå®šä¹‰æ¯”è¾ƒ**
æœ‰æ—¶å€™React.memoçš„é»˜è®¤æ¯”è¾ƒä¸å¤Ÿèªæ˜ï¼Œæ¯”å¦‚å¯¹è±¡å±æ€§å¾ˆå¤šä½†æˆ‘ä»¬åªå…³å¿ƒå…¶ä¸­å‡ ä¸ªã€‚

```jsx
// ç”¨æˆ·å¯¹è±¡æœ‰å¾ˆå¤šå±æ€§ï¼Œä½†ç»„ä»¶åªå…³å¿ƒnameå’Œemail
const UserCard = React.memo(function UserCard({ user }) {
  return (
    <div>
      <h3>{user.name}</h3>
      <p>{user.email}</p>
    </div>
  );
}, (prevProps, nextProps) => {
  // åªæ¯”è¾ƒnameå’Œemailï¼Œå…¶ä»–å±æ€§å˜åŒ–ä¸é‡æ¸²æŸ“
  return prevProps.user.name === nextProps.user.name &&
         prevProps.user.email === nextProps.user.email;
});
```

### 3.4 React.memoçš„ä½¿ç”¨æ—¶æœº


**ğŸ”¸ é€‚åˆä½¿ç”¨çš„åœºæ™¯**
- âœ… ç»„ä»¶æ¸²æŸ“å¼€é”€æ¯”è¾ƒå¤§
- âœ… ç»„ä»¶ç»å¸¸æ”¶åˆ°ç›¸åŒçš„props
- âœ… çˆ¶ç»„ä»¶ç»å¸¸é‡æ¸²æŸ“ï¼Œä½†ä¼ ç»™å­ç»„ä»¶çš„propsä¸å¸¸å˜

**ğŸ”¸ ä¸é€‚åˆä½¿ç”¨çš„åœºæ™¯**
- âŒ propsç»å¸¸å˜åŒ–çš„ç»„ä»¶ï¼ˆmemoåè€Œå¢åŠ å¼€é”€ï¼‰
- âŒ æ¸²æŸ“å¾ˆç®€å•çš„ç»„ä»¶ï¼ˆä¼˜åŒ–æ„ä¹‰ä¸å¤§ï¼‰
- âŒ ç»„ä»¶å†…éƒ¨çŠ¶æ€ç»å¸¸å˜åŒ–

> âš ï¸ **é‡è¦æé†’**  
> React.memoä¸æ˜¯ä¸‡èƒ½è¯ï¼Œä¸è¦æ¯ä¸ªç»„ä»¶éƒ½ç”¨ã€‚åªåœ¨çœŸæ­£éœ€è¦çš„åœ°æ–¹ä½¿ç”¨ï¼Œè¿‡åº¦ä½¿ç”¨åè€Œä¼šå½±å“æ€§èƒ½ã€‚

---

## 4. ğŸ§© ç»„ä»¶æ‹†åˆ†ä¼˜åŒ–å®æˆ˜


### 4.1 ä¸ºä»€ä¹ˆè¦æ‹†åˆ†ç»„ä»¶


**ğŸ”¸ ç”Ÿæ´»ç±»æ¯”**
å°±åƒå¤§æ‰«é™¤ï¼Œå¦‚æœæ•´ä¸ªæˆ¿å­ä¸€èµ·æ‰“æ‰«ï¼Œæœ‰äººæ•´ç†ä¹¦æ¡Œæ—¶ï¼Œå¨æˆ¿ä¹Ÿè¦è·Ÿç€å¿™æ´»ã€‚å¦‚æœæŒ‰æˆ¿é—´åˆ†å·¥ï¼Œä¹¦æ¡Œå˜åŒ–æ—¶å¨æˆ¿å°±å¯ä»¥ä¼‘æ¯ã€‚

### 4.2 æ‹†åˆ†ç»„ä»¶çš„ç­–ç•¥


**ğŸ”¸ æŒ‰å˜åŒ–é¢‘ç‡æ‹†åˆ†**
```jsx
// âŒ é—®é¢˜ï¼šæ‰€æœ‰å†…å®¹åœ¨ä¸€ä¸ªç»„ä»¶é‡Œ
function Dashboard() {
  const [userInfo, setUserInfo] = useState({name: 'å¼ ä¸‰'});
  const [notifications, setNotifications] = useState([]);
  const [settings, setSettings] = useState({theme: 'light'});
  
  return (
    <div>
      {/* ç”¨æˆ·ä¿¡æ¯å¾ˆå°‘å˜ */}
      <div>
        <h2>{userInfo.name}</h2>
        <img src={userInfo.avatar} />
      </div>
      
      {/* é€šçŸ¥ç»å¸¸å˜ */}
      <div>
        {notifications.map(n => <div key={n.id}>{n.text}</div>)}
      </div>
      
      {/* è®¾ç½®å¾ˆå°‘å˜ */}
      <div>
        ä¸»é¢˜: {settings.theme}
      </div>
    </div>
  );
}

// âœ… ä¼˜åŒ–ï¼šæŒ‰å˜åŒ–é¢‘ç‡æ‹†åˆ†
function Dashboard() {
  const [userInfo, setUserInfo] = useState({name: 'å¼ ä¸‰'});
  const [notifications, setNotifications] = useState([]);
  const [settings, setSettings] = useState({theme: 'light'});
  
  return (
    <div>
      <UserProfile userInfo={userInfo} />
      <NotificationList notifications={notifications} />
      <SettingsPanel settings={settings} />
    </div>
  );
}

// é€šçŸ¥å˜åŒ–æ—¶ï¼ŒUserProfileå’ŒSettingsPanelä¸ä¼šé‡æ¸²æŸ“
const UserProfile = React.memo(function UserProfile({ userInfo }) {
  return (
    <div>
      <h2>{userInfo.name}</h2>
      <img src={userInfo.avatar} />
    </div>
  );
});
```

**ğŸ”¸ æŒ‰åŠŸèƒ½èŒè´£æ‹†åˆ†**
```jsx
// âŒ é—®é¢˜ï¼šä¸€ä¸ªç»„ä»¶åšå¤ªå¤šäº‹æƒ…
function ProductCard({ product }) {
  const [isLiked, setIsLiked] = useState(false);
  const [inCart, setInCart] = useState(false);
  
  return (
    <div>
      {/* å•†å“ä¿¡æ¯å±•ç¤º */}
      <img src={product.image} />
      <h3>{product.name}</h3>
      <p>{product.price}å…ƒ</p>
      
      {/* æ”¶è—åŠŸèƒ½ */}
      <button onClick={() => setIsLiked(!isLiked)}>
        {isLiked ? 'å·²æ”¶è—' : 'æ”¶è—'}
      </button>
      
      {/* è´­ç‰©è½¦åŠŸèƒ½ */}
      <button onClick={() => setInCart(!inCart)}>
        {inCart ? 'å·²åŠ å…¥è´­ç‰©è½¦' : 'åŠ å…¥è´­ç‰©è½¦'}
      </button>
    </div>
  );
}

// âœ… ä¼˜åŒ–ï¼šæŒ‰åŠŸèƒ½æ‹†åˆ†
function ProductCard({ product }) {
  return (
    <div>
      <ProductInfo product={product} />
      <ProductActions productId={product.id} />
    </div>
  );
}

// å•†å“ä¿¡æ¯å¾ˆå°‘å˜åŒ–ï¼Œå¯ä»¥ç”¨memoä¼˜åŒ–
const ProductInfo = React.memo(function ProductInfo({ product }) {
  return (
    <div>
      <img src={product.image} />
      <h3>{product.name}</h3>
      <p>{product.price}å…ƒ</p>
    </div>
  );
});

// æ“ä½œæŒ‰é’®çŠ¶æ€ç»å¸¸å˜åŒ–ï¼Œç‹¬ç«‹å‡ºæ¥
function ProductActions({ productId }) {
  const [isLiked, setIsLiked] = useState(false);
  const [inCart, setInCart] = useState(false);
  
  return (
    <div>
      <button onClick={() => setIsLiked(!isLiked)}>
        {isLiked ? 'å·²æ”¶è—' : 'æ”¶è—'}
      </button>
      <button onClick={() => setInCart(!inCart)}>
        {inCart ? 'å·²åŠ å…¥è´­ç‰©è½¦' : 'åŠ å…¥è´­ç‰©è½¦'}
      </button>
    </div>
  );
}
```

### 4.3 ç»„ä»¶æ‹†åˆ†çš„åŸåˆ™


**ğŸ”¸ æ‹†åˆ†åŸåˆ™æ€»ç»“**
- **å•ä¸€èŒè´£**ï¼šä¸€ä¸ªç»„ä»¶åªåšä¸€ä»¶äº‹
- **å˜åŒ–éš”ç¦»**ï¼šå˜åŒ–é¢‘ç¹çš„éƒ¨åˆ†ç‹¬ç«‹å‡ºæ¥
- **å¤ç”¨è€ƒè™‘**ï¼šå¯èƒ½é‡å¤ä½¿ç”¨çš„éƒ¨åˆ†æå–æˆç»„ä»¶
- **åˆé€‚ç²’åº¦**ï¼šä¸è¦æ‹†å¾—è¿‡ç»†ï¼Œä¹Ÿä¸è¦è¿‡ç²—

---

## 5. ğŸ”‘ keyå±æ€§ä¼˜åŒ–æŠ€å·§


### 5.1 keyå±æ€§çš„ä½œç”¨åŸç†


**ğŸ”¸ ç®€å•ç†è§£**
keyå°±åƒèº«ä»½è¯å·ï¼Œå¸®åŠ©Reactè¯†åˆ«åˆ—è¡¨ä¸­çš„æ¯ä¸€é¡¹ã€‚æ²¡æœ‰keyæˆ–keyç”¨é”™äº†ï¼ŒReactå°±ä¼š"è®¤é”™äºº"ï¼Œåšå¾ˆå¤šæ— ç”¨åŠŸã€‚

**ğŸ”¸ å·¥ä½œåŸç†å›¾è§£**
```
æ—§åˆ—è¡¨: [A, B, C]     æ–°åˆ—è¡¨: [A, C, B]
  â”‚                      â”‚
  â–¼                      â–¼
Reactå¯¹æ¯”è¿‡ç¨‹ï¼š
æœ‰key:   Aâ†’A(ä¸å˜) Câ†’C(ç§»åŠ¨) Bâ†’B(ç§»åŠ¨)
æ— key:   Aâ†’A(ä¸å˜) Bâ†’C(æ›´æ–°) Câ†’B(æ›´æ–°)

ç»“æœï¼šæœ‰keyåªéœ€è¦ç§»åŠ¨ï¼Œæ— keyéœ€è¦æ›´æ–°å†…å®¹
```

### 5.2 keyå±æ€§çš„å¸¸è§é”™è¯¯


**ğŸ”¸ é”™è¯¯1ï¼šä½¿ç”¨æ•°ç»„ä¸‹æ ‡ä½œä¸ºkey**
```jsx
// âŒ é—®é¢˜ä»£ç 
function TodoList({ todos }) {
  return (
    <ul>
      {todos.map((todo, index) => (
        <li key={index}>{todo.text}</li>
      ))}
    </ul>
  );
}

// å½“åˆ é™¤ç¬¬ä¸€é¡¹æ—¶ï¼š
// åŸæ¥: [0: "ä¹°èœ", 1: "åšé¥­", 2: "æ´—ç¢—"]
// åˆ é™¤å: [0: "åšé¥­", 1: "æ´—ç¢—"]
// Reactä»¥ä¸ºæ˜¯ï¼šç¬¬0é¡¹å†…å®¹ä»"ä¹°èœ"å˜æˆ"åšé¥­"ï¼Œç¬¬1é¡¹ä»"åšé¥­"å˜æˆ"æ´—ç¢—"ï¼Œç¬¬2é¡¹è¢«åˆ é™¤
// å®é™…ä¸Šï¼šç¬¬0é¡¹è¢«åˆ é™¤ï¼Œç¬¬1ã€2é¡¹ä½ç½®å‰ç§»
```

**ğŸ”¸ é”™è¯¯2ï¼škeyä¸ç¨³å®š**
```jsx
// âŒ é—®é¢˜ä»£ç 
function UserList({ users }) {
  return (
    <ul>
      {users.map(user => (
        <li key={Math.random()}>{user.name}</li>
      ))}
    </ul>
  );
}
// æ¯æ¬¡æ¸²æŸ“keyéƒ½ä¸ä¸€æ ·ï¼ŒReactæ— æ³•å¤ç”¨ä»»ä½•ç»„ä»¶
```

### 5.3 æ­£ç¡®çš„keyä½¿ç”¨æ–¹æ³•


**ğŸ”¸ ä½¿ç”¨å”¯ä¸€ä¸”ç¨³å®šçš„ID**
```jsx
// âœ… æ­£ç¡®åšæ³•
function TodoList({ todos }) {
  return (
    <ul>
      {todos.map(todo => (
        <li key={todo.id}>{todo.text}</li>
      ))}
    </ul>
  );
}

// æ•°æ®ç»“æ„
const todos = [
  { id: 1, text: "ä¹°èœ" },
  { id: 2, text: "åšé¥­" },
  { id: 3, text: "æ´—ç¢—" }
];
```

**ğŸ”¸ æ²¡æœ‰IDæ—¶çš„å¤„ç†æ–¹æ³•**
```jsx
// å¦‚æœæ•°æ®æœ¬èº«æ²¡æœ‰å”¯ä¸€IDï¼Œå¯ä»¥åˆ›å»ºä¸€ä¸ª
function processData(rawData) {
  return rawData.map((item, index) => ({
    ...item,
    uniqueId: `${item.name}-${item.type}-${index}` // ç»„åˆåˆ›å»ºå”¯ä¸€ID
  }));
}

function ItemList({ items }) {
  const processedItems = processData(items);
  
  return (
    <ul>
      {processedItems.map(item => (
        <li key={item.uniqueId}>{item.name}</li>
      ))}
    </ul>
  );
}
```

### 5.4 å¤æ‚åœºæ™¯çš„keyä¼˜åŒ–


**ğŸ”¸ åŠ¨æ€åˆ—è¡¨çš„keyç­–ç•¥**
```jsx
function SearchResults({ results, searchTerm }) {
  return (
    <div>
      {results.map(item => (
        <SearchResultItem 
          key={`${searchTerm}-${item.id}`} // æœç´¢è¯å˜åŒ–æ—¶å¼ºåˆ¶é‡æ–°åˆ›å»ºç»„ä»¶
          item={item}
          searchTerm={searchTerm}
        />
      ))}
    </div>
  );
}
```

> ğŸ’¡ **keyä½¿ç”¨è¦ç‚¹**  
> keyçš„ä½œç”¨æ˜¯å¸®åŠ©Reactè¯†åˆ«å“ªäº›é¡¹ç›®å‘ç”Ÿäº†å˜åŒ–ã€‚å¥½çš„keyåº”è¯¥æ˜¯å”¯ä¸€çš„ã€ç¨³å®šçš„ã€å¯é¢„æµ‹çš„ã€‚

---

## 6. ğŸ“Š çŠ¶æ€è®¾è®¡å½±å“æ€§èƒ½


### 6.1 çŠ¶æ€è®¾è®¡çš„æ€§èƒ½å½±å“


**ğŸ”¸ æ ¸å¿ƒç†è§£**
çŠ¶æ€çš„è®¾è®¡ç›´æ¥å½±å“ç»„ä»¶çš„é‡æ¸²æŸ“é¢‘ç‡ã€‚çŠ¶æ€è®¾è®¡å¾—ä¸å¥½ï¼Œå°±åƒåœ¨å®¶é‡Œæ”¾äº†ä¸ªå¾ˆæ•æ„Ÿçš„çƒŸé›¾æŠ¥è­¦å™¨ï¼Œç¨å¾®æœ‰ç‚¹åŠ¨é™å°±å«ä¸ªä¸åœã€‚

### 6.2 çŠ¶æ€ç²’åº¦ä¼˜åŒ–


**ğŸ”¸ é—®é¢˜ï¼šçŠ¶æ€ç²’åº¦å¤ªç²—**
```jsx
// âŒ é—®é¢˜ä»£ç ï¼šä¸€ä¸ªå¤§çŠ¶æ€å¯¹è±¡
function UserProfile() {
  const [userState, setUserState] = useState({
    personalInfo: { name: 'å¼ ä¸‰', email: 'zhang@email.com' },
    preferences: { theme: 'light', language: 'zh' },
    activities: { loginCount: 10, lastLogin: '2024-01-01' }
  });
  
  // ä¿®æ”¹ä¸»é¢˜æ—¶ï¼Œæ•´ä¸ªç»„ä»¶éƒ½ä¼šé‡æ¸²æŸ“
  const changeTheme = (theme) => {
    setUserState(prev => ({
      ...prev,
      preferences: { ...prev.preferences, theme }
    }));
  };
  
  return (
    <div>
      <PersonalInfo info={userState.personalInfo} />
      <ThemeSelector 
        theme={userState.preferences.theme} 
        onChange={changeTheme} 
      />
      <ActivityStats activities={userState.activities} />
    </div>
  );
}
```

**ğŸ”¸ ä¼˜åŒ–ï¼šåˆ†ç¦»å…³æ³¨ç‚¹**
```jsx
// âœ… ä¼˜åŒ–åï¼šåˆ†ç¦»ä¸åŒç±»å‹çš„çŠ¶æ€
function UserProfile() {
  const [personalInfo] = useState({ name: 'å¼ ä¸‰', email: 'zhang@email.com' });
  const [theme, setTheme] = useState('light');
  const [language, setLanguage] = useState('zh');
  const [activities] = useState({ loginCount: 10, lastLogin: '2024-01-01' });
  
  return (
    <div>
      <PersonalInfo info={personalInfo} />
      <ThemeSelector theme={theme} onChange={setTheme} />
      <LanguageSelector language={language} onChange={setLanguage} />
      <ActivityStats activities={activities} />
    </div>
  );
}

// ç°åœ¨ä¿®æ”¹ä¸»é¢˜åªä¼šå½±å“ThemeSelectorç›¸å…³çš„æ¸²æŸ“
```

### 6.3 çŠ¶æ€ä½ç½®ä¼˜åŒ–


**ğŸ”¸ é—®é¢˜ï¼šçŠ¶æ€æ”¾ç½®ä½ç½®ä¸åˆç†**
```jsx
// âŒ é—®é¢˜ï¼šçŠ¶æ€æ”¾åœ¨äº†è¿‡é«˜çš„å±‚çº§
function App() {
  const [userInfo, setUserInfo] = useState({});
  const [modalVisible, setModalVisible] = useState(false); // å¼¹çª—çŠ¶æ€å½±å“æ•´ä¸ªApp
  const [searchKeyword, setSearchKeyword] = useState(''); // æœç´¢çŠ¶æ€å½±å“æ•´ä¸ªApp
  
  return (
    <div>
      <Header userInfo={userInfo} />
      <SearchBar keyword={searchKeyword} onChange={setSearchKeyword} />
      <ProductList searchKeyword={searchKeyword} />
      <Footer />
      {modalVisible && <Modal onClose={() => setModalVisible(false)} />}
    </div>
  );
}
```

**ğŸ”¸ ä¼˜åŒ–ï¼šçŠ¶æ€ä¸‹æ²‰**
```jsx
// âœ… ä¼˜åŒ–ï¼šæŠŠçŠ¶æ€æ”¾åœ¨æœ€éœ€è¦çš„åœ°æ–¹
function App() {
  const [userInfo, setUserInfo] = useState({});
  
  return (
    <div>
      <Header userInfo={userInfo} />
      <SearchSection /> {/* æœç´¢ç›¸å…³çŠ¶æ€å†…éƒ¨ç®¡ç† */}
      <Footer />
    </div>
  );
}

function SearchSection() {
  const [searchKeyword, setSearchKeyword] = useState('');
  const [modalVisible, setModalVisible] = useState(false);
  
  return (
    <div>
      <SearchBar keyword={searchKeyword} onChange={setSearchKeyword} />
      <ProductList searchKeyword={searchKeyword} />
      {modalVisible && <Modal onClose={() => setModalVisible(false)} />}
    </div>
  );
}
```

### 6.4 çŠ¶æ€æ›´æ–°ç­–ç•¥


**ğŸ”¸ é—®é¢˜ï¼šé¢‘ç¹çš„çŠ¶æ€æ›´æ–°**
```jsx
// âŒ é—®é¢˜ï¼šæ¯æ¬¡è¾“å…¥éƒ½æ›´æ–°çŠ¶æ€
function SearchInput() {
  const [keyword, setKeyword] = useState('');
  const [results, setResults] = useState([]);
  
  const handleInput = (e) => {
    setKeyword(e.target.value);
    // æ¯æ¬¡è¾“å…¥éƒ½è§¦å‘æœç´¢ï¼Œæ€§èƒ½å¾ˆå·®
    searchAPI(e.target.value).then(setResults);
  };
  
  return (
    <div>
      <input value={keyword} onChange={handleInput} />
      <ResultsList results={results} />
    </div>
  );
}
```

**ğŸ”¸ ä¼˜åŒ–ï¼šé˜²æŠ–å’ŒçŠ¶æ€åˆ†ç¦»**
```jsx
// âœ… ä¼˜åŒ–ï¼šåˆ†ç¦»æ˜¾ç¤ºçŠ¶æ€å’Œæœç´¢çŠ¶æ€
function SearchInput() {
  const [displayValue, setDisplayValue] = useState(''); // ç”¨äºæ˜¾ç¤º
  const [searchKeyword, setSearchKeyword] = useState(''); // ç”¨äºæœç´¢
  const [results, setResults] = useState([]);
  
  // é˜²æŠ–æ›´æ–°æœç´¢å…³é”®è¯
  useEffect(() => {
    const timer = setTimeout(() => {
      setSearchKeyword(displayValue);
    }, 500);
    
    return () => clearTimeout(timer);
  }, [displayValue]);
  
  // æœç´¢å…³é”®è¯å˜åŒ–æ—¶æ‰æœç´¢
  useEffect(() => {
    if (searchKeyword) {
      searchAPI(searchKeyword).then(setResults);
    }
  }, [searchKeyword]);
  
  return (
    <div>
      <input 
        value={displayValue} 
        onChange={(e) => setDisplayValue(e.target.value)} 
      />
      <ResultsList results={results} />
    </div>
  );
}
```

---

## 7. ğŸ“ˆ æ€§èƒ½ç›‘æ§ä¸æœ€ä½³å®è·µ


### 7.1 æ€§èƒ½ç›‘æ§å·¥å…·


**ğŸ”¸ React DevTools Profiler**
```jsx
// åœ¨å¼€å‘ç¯å¢ƒä¸­ç›‘æ§ç»„ä»¶æ€§èƒ½
function App() {
  return (
    <React.Profiler 
      id="App" 
      onRender={(id, phase, actualDuration) => {
        console.log('ç»„ä»¶æ¸²æŸ“è€—æ—¶:', actualDuration);
      }}
    >
      <YourApp />
    </React.Profiler>
  );
}
```

**ğŸ”¸ è‡ªå®šä¹‰æ€§èƒ½ç›‘æ§Hook**
```jsx
function useRenderTracking(componentName) {
  const renderCount = useRef(0);
  const lastRenderTime = useRef(Date.now());
  
  useEffect(() => {
    renderCount.current += 1;
    const now = Date.now();
    const timeSinceLastRender = now - lastRenderTime.current;
    
    console.log(`${componentName} ç¬¬${renderCount.current}æ¬¡æ¸²æŸ“ï¼Œè·ç¦»ä¸Šæ¬¡${timeSinceLastRender}ms`);
    lastRenderTime.current = now;
  });
}

// ä½¿ç”¨æ–¹å¼
function MyComponent() {
  useRenderTracking('MyComponent');
  return <div>æˆ‘çš„ç»„ä»¶</div>;
}
```

### 7.2 æ€§èƒ½ä¼˜åŒ–æ£€æŸ¥æ¸…å•


**ğŸ”¸ æ¸²æŸ“ä¼˜åŒ–æ£€æŸ¥**
- [ ] æ˜¯å¦æœ‰ä¸å¿…è¦çš„é‡æ¸²æŸ“ï¼Ÿ
- [ ] å¤§åˆ—è¡¨æ˜¯å¦ä½¿ç”¨äº†æ­£ç¡®çš„keyï¼Ÿ
- [ ] å¤æ‚ç»„ä»¶æ˜¯å¦ç”¨äº†React.memoï¼Ÿ
- [ ] çŠ¶æ€æ˜¯å¦æ”¾åœ¨äº†åˆé€‚çš„ä½ç½®ï¼Ÿ

**ğŸ”¸ ä»£ç è´¨é‡æ£€æŸ¥**
- [ ] æ˜¯å¦åœ¨æ¸²æŸ“å‡½æ•°ä¸­åˆ›å»ºæ–°å¯¹è±¡/å‡½æ•°ï¼Ÿ
- [ ] useEffectçš„ä¾èµ–æ•°ç»„æ˜¯å¦æ­£ç¡®ï¼Ÿ
- [ ] æ˜¯å¦æœ‰å¿˜è®°æ¸…ç†çš„å®šæ—¶å™¨æˆ–äº‹ä»¶ç›‘å¬ï¼Ÿ

### 7.3 æ€§èƒ½ä¼˜åŒ–æœ€ä½³å®è·µ


**ğŸ”¸ å¼€å‘é˜¶æ®µ**
```jsx
// ä½¿ç”¨å¼€å‘å·¥å…·è¾…åŠ©
if (process.env.NODE_ENV === 'development') {
  // å¼€å¯Reactä¸¥æ ¼æ¨¡å¼
  root.render(
    <React.StrictMode>
      <App />
    </React.StrictMode>
  );
  
  // å®‰è£…React DevTools
  // å®šæœŸæ£€æŸ¥ç»„ä»¶æ¸²æŸ“æ¬¡æ•°
}
```

**ğŸ”¸ ç”Ÿäº§ç¯å¢ƒä¼˜åŒ–**
```jsx
// ç”Ÿäº§ç¯å¢ƒçš„ä¼˜åŒ–é…ç½®
const optimizedConfig = {
  // å¯ç”¨ç”Ÿäº§æ¨¡å¼
  mode: 'production',
  
  // ä»£ç åˆ†å‰²
  optimization: {
    splitChunks: {
      chunks: 'all'
    }
  },
  
  // å‹ç¼©é…ç½®
  minimize: true
};
```

> ğŸš€ **æ€§èƒ½ä¼˜åŒ–é‡‘å¥**  
> "è¿‡æ—©ä¼˜åŒ–æ˜¯ä¸‡æ¶ä¹‹æºï¼Œä½†åˆç†çš„ä¼˜åŒ–æ˜¯å¿…éœ€çš„ã€‚å…ˆè®©ä»£ç è·‘èµ·æ¥ï¼Œå†è®©å®ƒè·‘å¾—å¿«ã€‚"

---

## 8. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 8.1 å¿…é¡»æŒæ¡çš„ä¼˜åŒ–æ¦‚å¿µ


**ğŸ”¸ æ ¸å¿ƒåŸåˆ™**
- **å‡å°‘æ¸²æŸ“**ï¼šé¿å…ä¸å¿…è¦çš„ç»„ä»¶é‡æ–°æ¸²æŸ“
- **åˆç†æ‹†åˆ†**ï¼šæŒ‰å˜åŒ–é¢‘ç‡å’ŒåŠŸèƒ½èŒè´£æ‹†åˆ†ç»„ä»¶
- **æ­£ç¡®ä½¿ç”¨key**ï¼šå¸®åŠ©Reacté«˜æ•ˆæ›´æ–°åˆ—è¡¨
- **çŠ¶æ€è®¾è®¡**ï¼šçŠ¶æ€çš„ä½ç½®å’Œç²’åº¦å½±å“æ€§èƒ½

### 8.2 å®ç”¨ä¼˜åŒ–æŠ€å·§è®°å¿†


**ğŸ”¸ ä¼˜åŒ–è®°å¿†å£è¯€**
```
memoåŒ…è£…é˜²é‡æ¸²ï¼Œkeyå”¯ä¸€åŠ©æ›´æ–°
çŠ¶æ€åˆ†ç¦»é™å½±å“ï¼Œç»„ä»¶æ‹†åˆ†ææ€§èƒ½
å·¥å…·ç›‘æ§æ‰¾é—®é¢˜ï¼Œå®æµ‹ä¼˜åŒ–è§çœŸç« 
```

### 8.3 æ€§èƒ½ä¼˜åŒ–çš„å¹³è¡¡ç‚¹


**ğŸ”¸ ä»€ä¹ˆæ—¶å€™éœ€è¦ä¼˜åŒ–**
- âœ… ç”¨æˆ·æ„Ÿè§‰åˆ°æ˜æ˜¾çš„å¡é¡¿
- âœ… åˆ—è¡¨æ•°æ®é‡å¾ˆå¤§ï¼ˆ>100é¡¹ï¼‰
- âœ… ç»„ä»¶æ ‘æ¯”è¾ƒæ·±ä¸”å¤æ‚
- âœ… é¢‘ç¹çš„çŠ¶æ€æ›´æ–°

**ğŸ”¸ ä»€ä¹ˆæ—¶å€™ä¸éœ€è¦è¿‡åº¦ä¼˜åŒ–**
- âŒ ç»„ä»¶å¾ˆç®€å•ï¼Œæ¸²æŸ“å¾ˆå¿«
- âŒ æ•°æ®é‡å¾ˆå°
- âŒ ç”¨æˆ·äº¤äº’ä¸é¢‘ç¹
- âŒ ä¸ºäº†ä¼˜åŒ–è€Œä¼˜åŒ–

### 8.4 å­¦ä¹ å»ºè®®


**ğŸ“ å­¦ä¹ è·¯å¾„**
```
åŸºç¡€ç†è§£ â”€â”€â–¶ å·¥å…·ä½¿ç”¨ â”€â”€â–¶ å®é™…æµ‹è¯• â”€â”€â–¶ æŒç»­ä¼˜åŒ–
    â”‚           â”‚           â”‚           â”‚
    â–¼           â–¼           â–¼           â–¼
ç†è®ºæ¦‚å¿µ    DevTools    æ€§èƒ½æµ‹è¯•    ç”Ÿäº§ç›‘æ§
```

**ğŸ¯ å®è·µå»ºè®®**
1. **å…ˆå†™åŠŸèƒ½ï¼Œå†ä¼˜åŒ–æ€§èƒ½**
2. **ä½¿ç”¨å·¥å…·æ£€æµ‹æ€§èƒ½é—®é¢˜**  
3. **é’ˆå¯¹æ€§è§£å†³ï¼Œä¸ç›²ç›®ä¼˜åŒ–**
4. **å®šæœŸæ£€æŸ¥ï¼ŒæŒç»­æ”¹è¿›**

> ğŸ’¡ **æœ€ç»ˆæé†’**  
> æ€§èƒ½ä¼˜åŒ–æ˜¯ä¸€ä¸ªæŒç»­çš„è¿‡ç¨‹ï¼Œä¸æ˜¯ä¸€æ¬¡æ€§çš„å·¥ä½œã€‚é‡ç‚¹æ˜¯åŸ¹å…»æ€§èƒ½æ„è¯†ï¼Œåœ¨ç¼–ç æ—¶å°±è€ƒè™‘æ€§èƒ½å½±å“ï¼Œè€Œä¸æ˜¯ç­‰é—®é¢˜å‡ºç°å†å»è§£å†³ã€‚