---
title: 1、路由基础配置
---
## 📚 目录

1. [单页应用路由概念](#1-单页应用路由概念)
2. [React Router库介绍](#2-React-Router库介绍)
3. [安装与基本配置](#3-安装与基本配置)
4. [核心组件详解](#4-核心组件详解)
5. [导航与跳转](#5-导航与跳转)
6. [路由匹配规则](#6-路由匹配规则)
7. [实战配置示例](#7-实战配置示例)
8. [核心要点总结](#8-核心要点总结)

---

## 1. 🌐 单页应用路由概念


### 1.1 什么是单页应用（SPA）


**传统多页应用 vs 单页应用对比：**

```
传统多页应用：
用户点击链接 → 浏览器发请求 → 服务器返回新页面 → 页面刷新

单页应用：
用户点击链接 → JavaScript拦截 → 更新页面内容 → 页面不刷新
```

::: tip 💡 通俗理解
想象一本翻页书，传统网站就像每次都要换一本新书，而SPA就像在同一本书里翻不同的页面，速度更快，体验更流畅。
:::

### 1.2 路由是什么


**路由的本质：** 就是 **URL地址** 和 **页面内容** 的对应关系

```
🏠 /home        →  首页组件
👤 /profile     →  个人资料组件  
📝 /articles    →  文章列表组件
⚙️ /settings    →  设置页面组件
```

### 1.3 为什么需要路由


**解决的核心问题：**
- ✅ **页面导航**：用户能通过URL直接访问特定页面
- ✅ **浏览器前进后退**：支持浏览器的前进后退按钮
- ✅ **书签收藏**：用户可以收藏特定页面的URL
- ✅ **页面分享**：可以把具体页面链接分享给别人

---

## 2. 📦 React Router库介绍


### 2.1 React Router是什么


**简单理解：** React Router就是一个专门为React应用提供路由功能的工具库，让你的React应用能够根据URL显示不同的组件。

### 2.2 版本对比与选择


| 版本 | 发布时间 | 特点 | 推荐使用 |
|------|---------|------|----------|
| **v5** | `2019年` | `传统API，学习资料多` | `维护项目` |
| **v6** | `2021年` | `🔥新语法，性能更好，体积更小` | `✅新项目首选` |

::: warning ⚠️ 版本注意
v6相比v5语法变化较大，本笔记基于**React Router v6**讲解，这是目前的主流版本。
:::

### 2.3 核心理念


**声明式路由：** 用组件的方式声明路由，而不是配置对象

```jsx
// 声明式 - 就像写HTML一样自然
<Routes>
  <Route path="/home" element={<Home />} />
  <Route path="/about" element={<About />} />
</Routes>
```

---

## 3. 📥 安装与基本配置


### 3.1 安装React Router


```bash
# npm安装
npm install react-router-dom

# yarn安装  
yarn add react-router-dom
```

::: tip 💡 为什么是react-router-dom？
- `react-router`: 核心库，提供基础路由功能
- `react-router-dom`: 专门为Web应用设计，包含了react-router
- `react-router-native`: 专门为React Native应用设计
:::

### 3.2 项目结构建议


```
src/
├── components/          # 通用组件
├── pages/              # 页面组件
│   ├── Home.jsx        # 首页
│   ├── About.jsx       # 关于页面
│   └── Contact.jsx     # 联系页面
├── App.jsx             # 主应用组件
└── index.js            # 入口文件
```

---

## 4. 🧩 核心组件详解


### 4.1 BrowserRouter - 根路由容器


**作用：** 为整个应用提供路由功能的"大容器"

```jsx
import { BrowserRouter } from 'react-router-dom';

function App() {
  return (
    <BrowserRouter>
      {/* 你的应用内容 */}
    </BrowserRouter>
  );
}
```

::: tip 💡 通俗理解
BrowserRouter就像给你的应用戴上了"路由眼镜"，让应用能够"看懂"URL变化。
:::

**位置要求：** 必须包裹在应用的最外层，通常在`index.js`或`App.jsx`中使用

### 4.2 Routes - 路由容器


**作用：** 包裹所有Route组件的容器，确保同时只显示一个匹配的路由

```jsx
import { Routes, Route } from 'react-router-dom';

function App() {
  return (
    <Routes>
      <Route path="/home" element={<Home />} />
      <Route path="/about" element={<About />} />
    </Routes>
  );
}
```

### 4.3 Route - 路由规则


**作用：** 定义URL路径和组件的对应关系

```jsx
<Route path="/users" element={<UserList />} />
```

**核心属性：**
- `path`: URL路径
- `element`: 要渲染的组件

### 4.4 v6与v5的重要区别


```jsx
// ❌ React Router v5 (旧版本)
<Switch>
  <Route path="/home" component={Home} />
  <Route path="/about" component={About} />
</Switch>

// ✅ React Router v6 (新版本)  
<Routes>
  <Route path="/home" element={<Home />} />
  <Route path="/about" element={<About />} />
</Routes>
```

**主要变化：**
- `Switch` → `Routes`
- `component={Home}` → `element={<Home />}`

---

## 5. 🔗 导航与跳转


### 5.1 Link - 声明式导航


**作用：** 创建导航链接，点击后跳转到指定页面

```jsx
import { Link } from 'react-router-dom';

function Navigation() {
  return (
    <nav>
      <Link to="/home">首页</Link>
      <Link to="/about">关于我们</Link>
      <Link to="/contact">联系我们</Link>
    </nav>
  );
}
```

::: tip 💡 为什么用Link而不是<a>标签？
- `<a>` 标签会刷新整个页面
- `Link` 只更新页面内容，不刷新页面，速度更快
:::

### 5.2 NavLink - 活动链接


**作用：** 增强版的Link，能够识别当前活动的链接并添加样式

```jsx
import { NavLink } from 'react-router-dom';

function Navigation() {
  return (
    <nav>
      <NavLink 
        to="/home" 
        className={({ isActive }) => isActive ? 'active' : ''}
      >
        首页
      </NavLink>
      <NavLink to="/about">关于我们</NavLink>
    </nav>
  );
}
```

**与Link的区别：**
- `Link`: 普通链接，无法知道是否为当前页面
- `NavLink`: 智能链接，知道是否为当前活动页面，可以添加特殊样式

### 5.3 useNavigate - 编程式导航


**作用：** 在代码中主动控制页面跳转

```jsx
import { useNavigate } from 'react-router-dom';

function LoginForm() {
  const navigate = useNavigate();
  
  const handleLogin = () => {
    // 登录成功后跳转到首页
    navigate('/home');
  };
  
  return (
    <button onClick={handleLogin}>登录</button>
  );
}
```

**使用场景：**
- 🔐 **登录成功后跳转**
- ✅ **表单提交后跳转**  
- ❌ **权限验证失败跳转**
- ⏰ **定时跳转**

---

## 6. 🎯 路由匹配规则


### 6.1 精确匹配


**React Router v6默认精确匹配：**

```jsx
<Routes>
  <Route path="/users" element={<UserList />} />
  <Route path="/users/profile" element={<UserProfile />} />
</Routes>
```

**匹配规则：**
- `/users` → 只匹配 UserList 组件
- `/users/profile` → 只匹配 UserProfile 组件
- `/users/anything` → 不匹配任何组件

### 6.2 通配符匹配


```jsx
<Routes>
  <Route path="/users/*" element={<UserLayout />} />
  <Route path="*" element={<NotFound />} />
</Routes>
```

**通配符说明：**
- `*` 匹配任意路径
- 通常用于404页面或嵌套路由

### 6.3 默认路由（首页路由）


```jsx
<Routes>
  <Route path="/" element={<Home />} />
  <Route path="/about" element={<About />} />
</Routes>
```

---

## 7. 🚀 实战配置示例


### 7.1 完整的基础配置


```jsx
// App.jsx
import { BrowserRouter, Routes, Route, Link } from 'react-router-dom';
import Home from './pages/Home';
import About from './pages/About';
import Contact from './pages/Contact';
import NotFound from './pages/NotFound';

function App() {
  return (
    <BrowserRouter>
      {/* 导航栏 */}
      <nav className="navbar">
        <Link to="/" className="logo">我的网站</Link>
        <div className="nav-links">
          <Link to="/">首页</Link>
          <Link to="/about">关于</Link>
          <Link to="/contact">联系</Link>
        </div>
      </nav>
      
      {/* 路由区域 */}
      <main className="main-content">
        <Routes>
          <Route path="/" element={<Home />} />
          <Route path="/about" element={<About />} />
          <Route path="/contact" element={<Contact />} />
          <Route path="*" element={<NotFound />} />
        </Routes>
      </main>
    </BrowserRouter>
  );
}

export default App;
```

### 7.2 页面组件示例


```jsx
// pages/Home.jsx
function Home() {
  return (
    <div>
      <h1>欢迎来到首页</h1>
      <p>这里是网站的主页内容</p>
    </div>
  );
}

export default Home;
```

```jsx
// pages/NotFound.jsx
import { Link } from 'react-router-dom';

function NotFound() {
  return (
    <div>
      <h1>404 - 页面未找到</h1>
      <p>抱歉，您访问的页面不存在</p>
      <Link to="/">返回首页</Link>
    </div>
  );
}

export default NotFound;
```

### 7.3 路由重定向实现


```jsx
import { Navigate } from 'react-router-dom';

<Routes>
  <Route path="/" element={<Navigate to="/home" replace />} />
  <Route path="/home" element={<Home />} />
</Routes>
```

::: tip 💡 Navigate组件
`Navigate`组件用于重定向，`replace`属性表示替换当前历史记录而不是添加新记录。
:::

---

## 8. 📋 核心要点总结


### 8.1 必须掌握的核心概念


```
🔸 SPA路由：URL与组件的对应关系，无需页面刷新
🔸 BrowserRouter：应用路由根容器，提供路由功能
🔸 Routes：路由组件容器，确保只显示匹配的路由
🔸 Route：定义路径与组件的映射关系
🔸 Link/NavLink：声明式导航组件
🔸 useNavigate：编程式导航Hook
```

### 8.2 关键理解要点


**🔹 组件层级关系**
```
BrowserRouter (路由根容器)
  └── Routes (路由容器)
      ├── Route (路由规则1)
      ├── Route (路由规则2)
      └── Route (404路由)
```

**🔹 导航方式选择**
```
声明式导航：用户点击链接 → 使用 Link/NavLink
编程式导航：代码逻辑控制 → 使用 useNavigate
```

**🔹 v6重要变化**
```
✅ 语法更简洁：element={<Component />}
✅ 性能更好：自动代码分割支持
✅ 类型更安全：更好的TypeScript支持
```

### 8.3 实际应用价值


**🎯 业务场景应用：**
- **企业官网**：首页、产品介绍、联系我们等页面切换
- **管理后台**：用户管理、订单管理、系统设置等功能模块
- **电商应用**：商品列表、商品详情、购物车、用户中心
- **博客网站**：文章列表、文章详情、分类页面、标签页面

**🔧 开发实践：**
- **项目规划**：合理规划路由结构，便于维护
- **用户体验**：提供清晰的导航和面包屑
- **SEO优化**：配合服务端渲染优化搜索引擎收录
- **错误处理**：提供友好的404页面和错误处理

### 8.4 常见问题与解决


**🔸 安装问题**
```bash
# 确保安装正确版本
npm install react-router-dom@latest
```

**🔸 路由不生效**
- 检查是否用BrowserRouter包裹
- 检查Routes和Route组件是否正确嵌套

**🔸 页面刷新404**
- 开发环境：配置webpack devServer historyApiFallback
- 生产环境：配置服务器支持History API

**核心记忆：**
- 路由就是URL和组件的映射关系
- BrowserRouter是路由的"总开关"
- Routes确保只显示一个匹配的路由
- Link用于页面跳转，useNavigate用于代码控制跳转
- v6语法更简洁，推荐在新项目中使用