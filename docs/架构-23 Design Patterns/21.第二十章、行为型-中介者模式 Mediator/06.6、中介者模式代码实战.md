---
title: 6ã€ä¸­ä»‹è€…æ¨¡å¼ä»£ç å®æˆ˜
---
## ğŸ“š ç›®å½•

1. [ä¸­ä»‹è€…æ¨¡å¼å®æˆ˜æ¦‚è¿°](#1-ä¸­ä»‹è€…æ¨¡å¼å®æˆ˜æ¦‚è¿°)
2. [å¯¹è¯æ¡†ç³»ç»Ÿå®ç°](#2-å¯¹è¯æ¡†ç³»ç»Ÿå®ç°)
3. [èŠå¤©å®¤åŠŸèƒ½å¼€å‘](#3-èŠå¤©å®¤åŠŸèƒ½å¼€å‘)
4. [äº‹ä»¶åˆ†å‘æ¼”ç¤º](#4-äº‹ä»¶åˆ†å‘æ¼”ç¤º)
5. [ç³»ç»Ÿé›†æˆåº”ç”¨](#5-ç³»ç»Ÿé›†æˆåº”ç”¨)
6. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#6-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ¯ ä¸­ä»‹è€…æ¨¡å¼å®æˆ˜æ¦‚è¿°


### 1.1 ä»€ä¹ˆæ˜¯ä¸­ä»‹è€…æ¨¡å¼çš„å®æˆ˜åº”ç”¨


ğŸ§  **é€šä¿—ç†è§£**ï¼š
æƒ³è±¡ä¸€ä¸‹ç°å®ç”Ÿæ´»ä¸­çš„**æˆ¿å±‹ä¸­ä»‹**ã€‚ä½ æƒ³ç§Ÿæˆ¿å­ï¼Œæˆ¿ä¸œæƒ³å‡ºç§Ÿæˆ¿å­ï¼Œä½†ä½ ä»¬ä¸ç›´æ¥è”ç³»ï¼Œè€Œæ˜¯é€šè¿‡ä¸­ä»‹å…¬å¸ã€‚ä¸­ä»‹è´Ÿè´£åè°ƒä½ å’Œæˆ¿ä¸œä¹‹é—´çš„æ‰€æœ‰æ²Ÿé€šï¼ŒåŒ…æ‹¬çœ‹æˆ¿ã€è°ˆä»·æ ¼ã€ç­¾åˆåŒç­‰ã€‚

åœ¨ç¼–ç¨‹ä¸–ç•Œé‡Œï¼Œä¸­ä»‹è€…æ¨¡å¼å°±åƒè¿™ä¸ªæˆ¿å±‹ä¸­ä»‹ä¸€æ ·ï¼š
- **å„ä¸ªå¯¹è±¡**ï¼šå°±åƒç§Ÿå®¢å’Œæˆ¿ä¸œ
- **ä¸­ä»‹è€…**ï¼šè´Ÿè´£åè°ƒæ‰€æœ‰å¯¹è±¡ä¹‹é—´çš„äº¤äº’
- **å¥½å¤„**ï¼šå¯¹è±¡ä¹‹é—´ä¸ç”¨ç›´æ¥è®¤è¯†ï¼Œé™ä½è€¦åˆåº¦

```
ä¼ ç»Ÿæ–¹å¼ï¼ˆå¯¹è±¡ç›´æ¥äº¤äº’ï¼‰ï¼š
å¯¹è±¡A â†â†’ å¯¹è±¡B
  â†•      â†•
å¯¹è±¡C â†â†’ å¯¹è±¡D
ï¼ˆå¤æ‚çš„ç½‘çŠ¶å…³ç³»ï¼‰

ä¸­ä»‹è€…æ¨¡å¼ï¼š
å¯¹è±¡A â†’ ä¸­ä»‹è€… â† å¯¹è±¡B
å¯¹è±¡C â†’ ä¸­ä»‹è€… â† å¯¹è±¡D
ï¼ˆæ˜Ÿå‹å…³ç³»ï¼Œç®€å•æ¸…æ™°ï¼‰
```

### 1.2 å®æˆ˜ä»·å€¼ä¸åº”ç”¨åœºæ™¯


ğŸ“ **é‡è¦ç¨‹åº¦**ï¼šâ­â­â­â­ æ ¸å¿ƒè®¾è®¡æ¨¡å¼ï¼Œå®é™…é¡¹ç›®ä¸­ç»å¸¸ä½¿ç”¨

ğŸ¯ **é€‚ç”¨åœºæ™¯**ï¼š
- **GUIç•Œé¢å¼€å‘**ï¼šæŒ‰é’®ã€è¾“å…¥æ¡†ã€ä¸‹æ‹‰èœå•ç­‰ç»„ä»¶çš„åè°ƒ
- **èŠå¤©ç³»ç»Ÿ**ï¼šç”¨æˆ·ä¹‹é—´çš„æ¶ˆæ¯ä¼ é€’
- **å·¥ä½œæµç³»ç»Ÿ**ï¼šå„ä¸ªæ­¥éª¤ä¹‹é—´çš„åè°ƒ
- **æ¸¸æˆå¼€å‘**ï¼šç©å®¶ã€NPCã€é“å…·ä¹‹é—´çš„äº¤äº’

ğŸ’¡ **æ ¸å¿ƒä»·å€¼**ï¼š
```
è§£è€¦åˆï¼šå¯¹è±¡ä¸éœ€è¦çŸ¥é“å…¶ä»–å¯¹è±¡çš„å­˜åœ¨
æ˜“ç»´æŠ¤ï¼šä¿®æ”¹ä¸€ä¸ªå¯¹è±¡ä¸å½±å“å…¶ä»–å¯¹è±¡
æ˜“æ‰©å±•ï¼šæ·»åŠ æ–°å¯¹è±¡åªéœ€è¦åœ¨ä¸­ä»‹è€…ä¸­æ³¨å†Œ
ç»Ÿä¸€ç®¡ç†ï¼šæ‰€æœ‰äº¤äº’é€»è¾‘é›†ä¸­åœ¨ä¸­ä»‹è€…ä¸­
```

---

## 2. ğŸ–¥ï¸ å¯¹è¯æ¡†ç³»ç»Ÿå®ç°


### 2.1 å¯¹è¯æ¡†ç³»ç»Ÿéœ€æ±‚åˆ†æ


ğŸ’¼ **å®é™…åœºæ™¯**ï¼š
å¼€å‘ä¸€ä¸ªç”¨æˆ·æ³¨å†Œå¯¹è¯æ¡†ï¼ŒåŒ…å«ï¼š
- **ç”¨æˆ·åè¾“å…¥æ¡†**ï¼šè¾“å…¥ç”¨æˆ·å
- **å¯†ç è¾“å…¥æ¡†**ï¼šè¾“å…¥å¯†ç 
- **ç¡®è®¤å¯†ç è¾“å…¥æ¡†**ï¼šå†æ¬¡è¾“å…¥å¯†ç 
- **æäº¤æŒ‰é’®**ï¼šæäº¤è¡¨å•
- **é‡ç½®æŒ‰é’®**ï¼šæ¸…ç©ºæ‰€æœ‰è¾“å…¥

ğŸ”„ **äº¤äº’éœ€æ±‚**ï¼š
```
å½“ç”¨æˆ·åä¸ºç©ºæ—¶ â†’ æäº¤æŒ‰é’®ç¦ç”¨
å½“å¯†ç ä¸åŒ¹é…æ—¶ â†’ æäº¤æŒ‰é’®ç¦ç”¨
å½“æ‰€æœ‰è¾“å…¥æœ‰æ•ˆæ—¶ â†’ æäº¤æŒ‰é’®å¯ç”¨
ç‚¹å‡»é‡ç½®æŒ‰é’®æ—¶ â†’ æ¸…ç©ºæ‰€æœ‰è¾“å…¥æ¡†
```

### 2.2 ä¼ ç»Ÿæ–¹å¼çš„é—®é¢˜


âŒ **æ²¡æœ‰ä¸­ä»‹è€…çš„å¤æ‚å…³ç³»**ï¼š
```java
// æ¯ä¸ªç»„ä»¶éƒ½è¦çŸ¥é“å…¶ä»–ç»„ä»¶
class UsernameInput {
    private SubmitButton submitButton;
    private PasswordInput passwordInput;
    private ConfirmPasswordInput confirmInput;
    
    public void onTextChange() {
        // éœ€è¦æ£€æŸ¥æ‰€æœ‰å…¶ä»–ç»„ä»¶çš„çŠ¶æ€
        if (isEmpty() || passwordInput.isEmpty() || 
            !passwordInput.matches(confirmInput)) {
            submitButton.disable();
        }
    }
}
```

**é—®é¢˜åˆ†æ**ï¼š
- ğŸ”¸ **å¼ºè€¦åˆ**ï¼šæ¯ä¸ªç»„ä»¶éƒ½è¦çŸ¥é“å…¶ä»–ç»„ä»¶
- ğŸ”¸ **éš¾ç»´æŠ¤**ï¼šä¿®æ”¹ä¸€ä¸ªç»„ä»¶å¯èƒ½å½±å“å¤šä¸ªå…¶ä»–ç»„ä»¶
- ğŸ”¸ **ä»£ç é‡å¤**ï¼šç›¸åŒçš„é€»è¾‘åœ¨å¤šä¸ªç»„ä»¶ä¸­é‡å¤

### 2.3 ä¸­ä»‹è€…æ¨¡å¼å®ç°


ğŸ—ï¸ **æ ¸å¿ƒæ¶æ„**ï¼š
```
ç»„ä»¶å±‚ï¼šç”¨æˆ·åæ¡† â†’ ä¸­ä»‹è€… â† å¯†ç æ¡†
                â†‘        â†“
      é‡ç½®æŒ‰é’® â†’ ä¸­ä»‹è€… â† ç¡®è®¤å¯†ç æ¡†
                â†‘        â†“
             æäº¤æŒ‰é’® â†’ ä¸­ä»‹è€…
```

**æ­¥éª¤1ï¼šå®šä¹‰ä¸­ä»‹è€…æ¥å£**
```java
// ä¸­ä»‹è€…æ¥å£ - å®šä¹‰ç»„ä»¶é—´çš„é€šä¿¡åè®®
public interface DialogMediator {
    // ç»„ä»¶å‘ä¸­ä»‹è€…æŠ¥å‘ŠçŠ¶æ€å˜åŒ–
    void componentChanged(Component component);
    
    // æ³¨å†Œç»„ä»¶åˆ°ä¸­ä»‹è€…
    void registerComponent(Component component);
}
```

**æ­¥éª¤2ï¼šå®šä¹‰ç»„ä»¶åŸºç±»**
```java
// ç»„ä»¶åŸºç±» - æ‰€æœ‰UIç»„ä»¶çš„çˆ¶ç±»
public abstract class Component {
    protected DialogMediator mediator;
    protected String name;
    
    public Component(DialogMediator mediator, String name) {
        this.mediator = mediator;
        this.name = name;
    }
    
    // é€šçŸ¥ä¸­ä»‹è€…çŠ¶æ€å‘ç”Ÿå˜åŒ–
    protected void notifyMediator() {
        mediator.componentChanged(this);
    }
    
    // å­ç±»éœ€è¦å®ç°çš„æ–¹æ³•
    public abstract boolean isValid();
    public abstract void reset();
}
```

**æ­¥éª¤3ï¼šå®ç°å…·ä½“ç»„ä»¶**
```java
// è¾“å…¥æ¡†ç»„ä»¶
class InputField extends Component {
    private String value = "";
    
    public InputField(DialogMediator mediator, String name) {
        super(mediator, name);
    }
    
    public void setValue(String value) {
        this.value = value;
        System.out.println(name + "è¾“å…¥: " + value);
        notifyMediator(); // é€šçŸ¥ä¸­ä»‹è€…
    }
    
    public String getValue() {
        return value;
    }
    
    @Override
    public boolean isValid() {
        return value != null && !value.trim().isEmpty();
    }
    
    @Override
    public void reset() {
        setValue("");
    }
}

// æŒ‰é’®ç»„ä»¶
class Button extends Component {
    private boolean enabled = false;
    
    public Button(DialogMediator mediator, String name) {
        super(mediator, name);
    }
    
    public void click() {
        if (enabled) {
            System.out.println(name + "æŒ‰é’®è¢«ç‚¹å‡»");
            notifyMediator();
        } else {
            System.out.println(name + "æŒ‰é’®è¢«ç¦ç”¨ï¼Œæ— æ³•ç‚¹å‡»");
        }
    }
    
    public void setEnabled(boolean enabled) {
        this.enabled = enabled;
        System.out.println(name + "æŒ‰é’®çŠ¶æ€: " + (enabled ? "å¯ç”¨" : "ç¦ç”¨"));
    }
    
    @Override
    public boolean isValid() {
        return enabled;
    }
    
    @Override
    public void reset() {
        setEnabled(false);
    }
}
```

**æ­¥éª¤4ï¼šå®ç°å…·ä½“ä¸­ä»‹è€…**
```java
// å¯¹è¯æ¡†ä¸­ä»‹è€… - æ ¸å¿ƒåè°ƒç±»
public class RegistrationDialogMediator implements DialogMediator {
    private InputField usernameField;
    private InputField passwordField;
    private InputField confirmPasswordField;
    private Button submitButton;
    private Button resetButton;
    
    // æ³¨å†Œæ‰€æœ‰ç»„ä»¶
    public void initializeComponents() {
        usernameField = new InputField(this, "ç”¨æˆ·å");
        passwordField = new InputField(this, "å¯†ç ");
        confirmPasswordField = new InputField(this, "ç¡®è®¤å¯†ç ");
        submitButton = new Button(this, "æäº¤");
        resetButton = new Button(this, "é‡ç½®");
        
        // é‡ç½®æŒ‰é’®å§‹ç»ˆå¯ç”¨
        resetButton.setEnabled(true);
        
        registerComponent(usernameField);
        registerComponent(passwordField);
        registerComponent(confirmPasswordField);
        registerComponent(submitButton);
        registerComponent(resetButton);
    }
    
    @Override
    public void registerComponent(Component component) {
        System.out.println("æ³¨å†Œç»„ä»¶: " + component.name);
    }
    
    @Override
    public void componentChanged(Component component) {
        // ä¸­ä»‹è€…ç»Ÿä¸€å¤„ç†æ‰€æœ‰äº¤äº’é€»è¾‘
        if (component == resetButton) {
            handleReset();
        } else if (component == submitButton) {
            handleSubmit();
        } else {
            // è¾“å…¥æ¡†å˜åŒ–æ—¶ï¼Œæ£€æŸ¥æ˜¯å¦å¯ç”¨æäº¤æŒ‰é’®
            updateSubmitButtonState();
        }
    }
    
    // å¤„ç†é‡ç½®é€»è¾‘
    private void handleReset() {
        System.out.println("\n=== æ‰§è¡Œé‡ç½®æ“ä½œ ===");
        usernameField.reset();
        passwordField.reset();
        confirmPasswordField.reset();
        submitButton.setEnabled(false);
        System.out.println("=== é‡ç½®å®Œæˆ ===\n");
    }
    
    // å¤„ç†æäº¤é€»è¾‘
    private void handleSubmit() {
        if (isAllInputValid()) {
            System.out.println("\n=== æäº¤æˆåŠŸ ===");
            System.out.println("ç”¨æˆ·å: " + usernameField.getValue());
            System.out.println("å¯†ç : " + passwordField.getValue());
            System.out.println("=== æ³¨å†Œå®Œæˆ ===\n");
        }
    }
    
    // æ›´æ–°æäº¤æŒ‰é’®çŠ¶æ€ - æ ¸å¿ƒä¸šåŠ¡é€»è¾‘
    private void updateSubmitButtonState() {
        boolean shouldEnable = isAllInputValid();
        submitButton.setEnabled(shouldEnable);
        
        if (!shouldEnable) {
            System.out.println("æç¤º: " + getValidationMessage());
        }
    }
    
    // éªŒè¯æ‰€æœ‰è¾“å…¥
    private boolean isAllInputValid() {
        return usernameField.isValid() 
            && passwordField.isValid() 
            && confirmPasswordField.isValid()
            && passwordField.getValue().equals(confirmPasswordField.getValue());
    }
    
    // è·å–éªŒè¯æç¤ºä¿¡æ¯
    private String getValidationMessage() {
        if (!usernameField.isValid()) {
            return "è¯·è¾“å…¥ç”¨æˆ·å";
        }
        if (!passwordField.isValid()) {
            return "è¯·è¾“å…¥å¯†ç ";
        }
        if (!confirmPasswordField.isValid()) {
            return "è¯·ç¡®è®¤å¯†ç ";
        }
        if (!passwordField.getValue().equals(confirmPasswordField.getValue())) {
            return "ä¸¤æ¬¡å¯†ç è¾“å…¥ä¸ä¸€è‡´";
        }
        return "";
    }
    
    // æä¾›ç»™å¤–éƒ¨ä½¿ç”¨çš„æ–¹æ³•
    public InputField getUsernameField() { return usernameField; }
    public InputField getPasswordField() { return passwordField; }
    public InputField getConfirmPasswordField() { return confirmPasswordField; }
    public Button getSubmitButton() { return submitButton; }
    public Button getResetButton() { return resetButton; }
}
```

### 2.4 å®Œæ•´æ¼”ç¤ºä»£ç 


```java
public class DialogDemo {
    public static void main(String[] args) {
        // åˆ›å»ºå¯¹è¯æ¡†ç³»ç»Ÿ
        RegistrationDialogMediator dialog = new RegistrationDialogMediator();
        dialog.initializeComponents();
        
        System.out.println("=== ç”¨æˆ·æ³¨å†Œå¯¹è¯æ¡†æ¼”ç¤º ===\n");
        
        // æ¨¡æ‹Ÿç”¨æˆ·æ“ä½œæµç¨‹
        System.out.println("1. è¾“å…¥ç”¨æˆ·å:");
        dialog.getUsernameField().setValue("å¼ ä¸‰");
        
        System.out.println("\n2. è¾“å…¥å¯†ç :");
        dialog.getPasswordField().setValue("123456");
        
        System.out.println("\n3. è¾“å…¥ç¡®è®¤å¯†ç (é”™è¯¯):");
        dialog.getConfirmPasswordField().setValue("123457");
        
        System.out.println("\n4. å°è¯•æäº¤(åº”è¯¥å¤±è´¥):");
        dialog.getSubmitButton().click();
        
        System.out.println("\n5. ä¿®æ­£ç¡®è®¤å¯†ç :");
        dialog.getConfirmPasswordField().setValue("123456");
        
        System.out.println("\n6. æˆåŠŸæäº¤:");
        dialog.getSubmitButton().click();
        
        System.out.println("\n7. é‡ç½®è¡¨å•:");
        dialog.getResetButton().click();
    }
}
```

ğŸ¯ **è¿è¡Œæ•ˆæœåˆ†æ**ï¼š
```
ä¼˜åŠ¿å¯¹æ¯”ï¼š

ä¼ ç»Ÿæ–¹å¼ï¼š
- æ¯ä¸ªç»„ä»¶éœ€è¦çŸ¥é“å…¶ä»–3-4ä¸ªç»„ä»¶
- ä¿®æ”¹éªŒè¯é€»è¾‘éœ€è¦æ”¹åŠ¨å¤šä¸ªç±»
- æ–°å¢ç»„ä»¶éœ€è¦ä¿®æ”¹ç°æœ‰ç»„ä»¶

ä¸­ä»‹è€…æ¨¡å¼ï¼š
- æ¯ä¸ªç»„ä»¶åªéœ€è¦çŸ¥é“ä¸­ä»‹è€…
- æ‰€æœ‰é€»è¾‘é›†ä¸­åœ¨ä¸­ä»‹è€…ä¸­
- æ–°å¢ç»„ä»¶åªéœ€è¦åœ¨ä¸­ä»‹è€…ä¸­æ·»åŠ å¤„ç†é€»è¾‘
```

---

## 3. ğŸ’¬ èŠå¤©å®¤åŠŸèƒ½å¼€å‘


### 3.1 èŠå¤©å®¤ç³»ç»Ÿè®¾è®¡


ğŸ¯ **ç³»ç»Ÿéœ€æ±‚**ï¼š
- **å¤šç”¨æˆ·èŠå¤©**ï¼šæ”¯æŒå¤šä¸ªç”¨æˆ·åŒæ—¶åœ¨çº¿
- **ç¾¤ç»„åŠŸèƒ½**ï¼šç”¨æˆ·å¯ä»¥åŠ å…¥ä¸åŒçš„èŠå¤©ç¾¤ç»„
- **ç§èŠåŠŸèƒ½**ï¼šç”¨æˆ·ä¹‹é—´å¯ä»¥ç§ä¿¡
- **ç®¡ç†åŠŸèƒ½**ï¼šç®¡ç†å‘˜å¯ä»¥è¸¢å‡ºç”¨æˆ·

ğŸ’¡ **ä¸ºä»€ä¹ˆéœ€è¦ä¸­ä»‹è€…**ï¼š
```
ä¼ ç»Ÿæ–¹å¼çš„é—®é¢˜ï¼š
ç”¨æˆ·A â†’ ç›´æ¥å‘é€æ¶ˆæ¯ â†’ ç”¨æˆ·Bã€ç”¨æˆ·Cã€ç”¨æˆ·D...
æ¯ä¸ªç”¨æˆ·éƒ½è¦ç»´æŠ¤å…¶ä»–æ‰€æœ‰ç”¨æˆ·çš„å¼•ç”¨

ä¸­ä»‹è€…æ–¹å¼çš„ä¼˜åŠ¿ï¼š
ç”¨æˆ·A â†’ èŠå¤©å®¤ä¸­ä»‹è€… â†’ è½¬å‘ç»™ç›®æ ‡ç”¨æˆ·
ç”¨æˆ·åªéœ€è¦çŸ¥é“èŠå¤©å®¤ï¼Œä¸éœ€è¦çŸ¥é“å…¶ä»–ç”¨æˆ·
```

### 3.2 èŠå¤©å®¤æ ¸å¿ƒå®ç°


**æ­¥éª¤1ï¼šå®šä¹‰èŠå¤©å®¤ä¸­ä»‹è€…æ¥å£**
```java
// èŠå¤©å®¤ä¸­ä»‹è€…æ¥å£
public interface ChatRoomMediator {
    // ç”¨æˆ·å‘é€æ¶ˆæ¯
    void sendMessage(String message, User user);
    
    // ç”¨æˆ·å‘é€ç§ä¿¡
    void sendPrivateMessage(String message, User sender, User receiver);
    
    // ç”¨æˆ·åŠ å…¥èŠå¤©å®¤
    void addUser(User user);
    
    // ç”¨æˆ·ç¦»å¼€èŠå¤©å®¤
    void removeUser(User user);
    
    // å±•ç¤ºåœ¨çº¿ç”¨æˆ·åˆ—è¡¨
    void showOnlineUsers();
}
```

**æ­¥éª¤2ï¼šå®ç°ç”¨æˆ·ç±»**
```java
// ç”¨æˆ·ç±» - èŠå¤©å®¤çš„å‚ä¸è€…
public abstract class User {
    protected String name;
    protected ChatRoomMediator chatRoom;
    protected boolean isOnline;
    
    public User(String name, ChatRoomMediator chatRoom) {
        this.name = name;
        this.chatRoom = chatRoom;
        this.isOnline = true;
    }
    
    // å‘é€ç¾¤ç»„æ¶ˆæ¯
    public void sendMessage(String message) {
        System.out.println(name + " è¯´: " + message);
        chatRoom.sendMessage(message, this);
    }
    
    // å‘é€ç§ä¿¡
    public void sendPrivateMessage(String message, User receiver) {
        System.out.println(name + " ç§ä¿¡ç»™ " + receiver.name + ": " + message);
        chatRoom.sendPrivateMessage(message, this, receiver);
    }
    
    // æ¥æ”¶æ¶ˆæ¯ - å­ç±»å®ç°
    public abstract void receiveMessage(String message, User sender);
    
    // æ¥æ”¶ç§ä¿¡
    public abstract void receivePrivateMessage(String message, User sender);
    
    // åŠ å…¥èŠå¤©å®¤
    public void joinChatRoom() {
        chatRoom.addUser(this);
    }
    
    // ç¦»å¼€èŠå¤©å®¤
    public void leaveChatRoom() {
        isOnline = false;
        chatRoom.removeUser(this);
    }
    
    public String getName() { return name; }
    public boolean isOnline() { return isOnline; }
}

// æ™®é€šç”¨æˆ·
class RegularUser extends User {
    public RegularUser(String name, ChatRoomMediator chatRoom) {
        super(name, chatRoom);
    }
    
    @Override
    public void receiveMessage(String message, User sender) {
        if (!sender.equals(this)) { // ä¸æ¥æ”¶è‡ªå·±çš„æ¶ˆæ¯
            System.out.println("  " + name + " æ”¶åˆ°æ¶ˆæ¯: " + message);
        }
    }
    
    @Override
    public void receivePrivateMessage(String message, User sender) {
        System.out.println("  " + name + " æ”¶åˆ°ç§ä¿¡: " + message);
    }
}

// ç®¡ç†å‘˜ç”¨æˆ·
class AdminUser extends User {
    public AdminUser(String name, ChatRoomMediator chatRoom) {
        super(name, chatRoom);
    }
    
    @Override
    public void receiveMessage(String message, User sender) {
        if (!sender.equals(this)) {
            System.out.println("  [ç®¡ç†å‘˜] " + name + " æ”¶åˆ°æ¶ˆæ¯: " + message);
        }
    }
    
    @Override
    public void receivePrivateMessage(String message, User sender) {
        System.out.println("  [ç®¡ç†å‘˜] " + name + " æ”¶åˆ°ç§ä¿¡: " + message);
    }
    
    // ç®¡ç†å‘˜ç‰¹æƒï¼šè¸¢å‡ºç”¨æˆ·
    public void kickUser(User user) {
        System.out.println("[ç³»ç»Ÿ] ç®¡ç†å‘˜ " + name + " è¸¢å‡ºäº†ç”¨æˆ· " + user.getName());
        chatRoom.removeUser(user);
    }
}
```

**æ­¥éª¤3ï¼šå®ç°èŠå¤©å®¤ä¸­ä»‹è€…**
```java
// èŠå¤©å®¤ä¸­ä»‹è€…å®ç°
public class ChatRoom implements ChatRoomMediator {
    private List<User> users;
    private String roomName;
    
    public ChatRoom(String roomName) {
        this.roomName = roomName;
        this.users = new ArrayList<>();
    }
    
    @Override
    public void sendMessage(String message, User sender) {
        System.out.println("  [" + roomName + "] å¹¿æ’­æ¶ˆæ¯ä¸­...");
        
        // å‘æ‰€æœ‰åœ¨çº¿ç”¨æˆ·å¹¿æ’­æ¶ˆæ¯
        for (User user : users) {
            if (user.isOnline()) {
                user.receiveMessage(message, sender);
            }
        }
        System.out.println();
    }
    
    @Override
    public void sendPrivateMessage(String message, User sender, User receiver) {
        // æ£€æŸ¥æ¥æ”¶è€…æ˜¯å¦åœ¨çº¿
        if (receiver.isOnline() && users.contains(receiver)) {
            receiver.receivePrivateMessage(message, sender);
        } else {
            System.out.println("  [ç³»ç»Ÿ] ç”¨æˆ· " + receiver.getName() + " ä¸åœ¨çº¿æˆ–ä¸åœ¨æ­¤èŠå¤©å®¤");
        }
        System.out.println();
    }
    
    @Override
    public void addUser(User user) {
        users.add(user);
        System.out.println("[ç³»ç»Ÿ] " + user.getName() + " åŠ å…¥äº†èŠå¤©å®¤ " + roomName);
        
        // é€šçŸ¥å…¶ä»–ç”¨æˆ·
        notifyUserJoined(user);
        showOnlineUsers();
        System.out.println();
    }
    
    @Override
    public void removeUser(User user) {
        if (users.remove(user)) {
            System.out.println("[ç³»ç»Ÿ] " + user.getName() + " ç¦»å¼€äº†èŠå¤©å®¤ " + roomName);
            
            // é€šçŸ¥å…¶ä»–ç”¨æˆ·
            notifyUserLeft(user);
            System.out.println();
        }
    }
    
    @Override
    public void showOnlineUsers() {
        System.out.print("[åœ¨çº¿ç”¨æˆ·] ");
        for (User user : users) {
            if (user.isOnline()) {
                String userType = (user instanceof AdminUser) ? "[ç®¡ç†å‘˜]" : "";
                System.out.print(userType + user.getName() + " ");
            }
        }
        System.out.println("(å…± " + users.size() + " äºº)");
    }
    
    // é€šçŸ¥ç”¨æˆ·åŠ å…¥
    private void notifyUserJoined(User newUser) {
        for (User user : users) {
            if (user != newUser && user.isOnline()) {
                System.out.println("  " + user.getName() + " çœ‹åˆ°: " + newUser.getName() + " è¿›å…¥äº†èŠå¤©å®¤");
            }
        }
    }
    
    // é€šçŸ¥ç”¨æˆ·ç¦»å¼€
    private void notifyUserLeft(User leftUser) {
        for (User user : users) {
            if (user != leftUser && user.isOnline()) {
                System.out.println("  " + user.getName() + " çœ‹åˆ°: " + leftUser.getName() + " ç¦»å¼€äº†èŠå¤©å®¤");
            }
        }
    }
    
    public String getRoomName() { return roomName; }
    public int getUserCount() { return users.size(); }
}
```

### 3.3 èŠå¤©å®¤æ¼”ç¤º


```java
public class ChatRoomDemo {
    public static void main(String[] args) {
        // åˆ›å»ºèŠå¤©å®¤
        ChatRoom chatRoom = new ChatRoom("æŠ€æœ¯è®¨è®ºç¾¤");
        
        // åˆ›å»ºç”¨æˆ·
        User alice = new RegularUser("Alice", chatRoom);
        User bob = new RegularUser("Bob", chatRoom);
        User charlie = new RegularUser("Charlie", chatRoom);
        User admin = new AdminUser("Admin", chatRoom);
        
        System.out.println("=== èŠå¤©å®¤æ¼”ç¤ºå¼€å§‹ ===\n");
        
        // ç”¨æˆ·é™†ç»­åŠ å…¥
        System.out.println("1. ç”¨æˆ·é™†ç»­åŠ å…¥èŠå¤©å®¤:");
        alice.joinChatRoom();
        bob.joinChatRoom();
        admin.joinChatRoom();
        
        // ç¾¤ç»„èŠå¤©
        System.out.println("2. ç¾¤ç»„èŠå¤©:");
        alice.sendMessage("å¤§å®¶å¥½ï¼æˆ‘æ˜¯æ–°æ¥çš„");
        bob.sendMessage("æ¬¢è¿æ¬¢è¿ï¼");
        admin.sendMessage("æ¬¢è¿åŠ å…¥æŠ€æœ¯è®¨è®ºç¾¤");
        
        // æ–°ç”¨æˆ·åŠ å…¥
        System.out.println("3. æ–°ç”¨æˆ·åŠ å…¥:");
        charlie.joinChatRoom();
        charlie.sendMessage("Hi å¤§å®¶å¥½");
        
        // ç§èŠåŠŸèƒ½
        System.out.println("4. ç§èŠåŠŸèƒ½:");
        alice.sendPrivateMessage("æœ‰ä¸ªé—®é¢˜æƒ³è¯·æ•™ä½ ", admin);
        admin.sendPrivateMessage("æ²¡é—®é¢˜ï¼Œä»€ä¹ˆé—®é¢˜ï¼Ÿ", alice);
        
        // ç®¡ç†å‘˜åŠŸèƒ½
        System.out.println("5. ç®¡ç†å‘˜è¸¢å‡ºç”¨æˆ·:");
        AdminUser adminUser = (AdminUser) admin;
        adminUser.kickUser(charlie);
        
        // ç»§ç»­èŠå¤©
        System.out.println("6. ç»§ç»­ç¾¤ç»„èŠå¤©:");
        bob.sendMessage("åˆšæ‰é‚£ä¸ªäººæ€ä¹ˆäº†ï¼Ÿ");
        admin.sendMessage("è¿åç¾¤è§„è¢«è¸¢å‡ºäº†");
        
        System.out.println("=== æ¼”ç¤ºç»“æŸ ===");
    }
}
```

ğŸ¯ **å…³é”®ä¼˜åŠ¿åˆ†æ**ï¼š
```
ä¸­ä»‹è€…æ¨¡å¼åœ¨èŠå¤©å®¤ä¸­çš„ä»·å€¼ï¼š

è§£è€¦åˆï¼š
- ç”¨æˆ·ä¸éœ€è¦ç»´æŠ¤å…¶ä»–ç”¨æˆ·çš„å¼•ç”¨
- æ·»åŠ æ–°ç”¨æˆ·ä¸å½±å“ç°æœ‰ç”¨æˆ·ä»£ç 

ç»Ÿä¸€ç®¡ç†ï¼š
- æ‰€æœ‰æ¶ˆæ¯è½¬å‘é€»è¾‘åœ¨ChatRoomä¸­
- ä¾¿äºå®ç°ç¾¤ç»„ç®¡ç†ã€æƒé™æ§åˆ¶ç­‰åŠŸèƒ½

æ˜“æ‰©å±•ï¼š
- å¯ä»¥è½»æ¾æ·»åŠ æ–°çš„ç”¨æˆ·ç±»å‹
- å¯ä»¥å®ç°å¤æ‚çš„æ¶ˆæ¯è¿‡æ»¤ã€è®°å½•ç­‰åŠŸèƒ½
```

---

## 4. ğŸ“¡ äº‹ä»¶åˆ†å‘æ¼”ç¤º


### 4.1 äº‹ä»¶åˆ†å‘ç³»ç»Ÿæ¦‚è¿°


ğŸ’¡ **ä»€ä¹ˆæ˜¯äº‹ä»¶åˆ†å‘**ï¼š
æƒ³è±¡ä¸€ä¸‹**æ™ºèƒ½å®¶å±…ç³»ç»Ÿ**ï¼š
- æ¸©åº¦ä¼ æ„Ÿå™¨æ£€æµ‹åˆ°æ¸©åº¦å˜åŒ–
- è‡ªåŠ¨é€šçŸ¥ç©ºè°ƒã€åŠ æ¹¿å™¨ã€çª—å¸˜ç­‰è®¾å¤‡
- å„ä¸ªè®¾å¤‡æ ¹æ®æ¸©åº¦å˜åŒ–åšå‡ºç›¸åº”ååº”

åœ¨ç¨‹åºä¸­ï¼Œäº‹ä»¶åˆ†å‘å°±æ˜¯è¿™æ ·çš„æœºåˆ¶ï¼š
- **äº‹ä»¶æº**ï¼šäº§ç”Ÿäº‹ä»¶çš„å¯¹è±¡ï¼ˆå¦‚æŒ‰é’®ç‚¹å‡»ã€æ•°æ®æ›´æ–°ï¼‰
- **äº‹ä»¶ç›‘å¬å™¨**ï¼šå¤„ç†äº‹ä»¶çš„å¯¹è±¡
- **äº‹ä»¶åˆ†å‘å™¨**ï¼šä¸­ä»‹è€…ï¼Œè´Ÿè´£å°†äº‹ä»¶ä¼ é€’ç»™ç›¸å…³ç›‘å¬å™¨

### 4.2 äº‹ä»¶åˆ†å‘ç³»ç»Ÿå®ç°


**æ­¥éª¤1ï¼šå®šä¹‰äº‹ä»¶ç±»å‹**
```java
// äº‹ä»¶åŸºç±»
public abstract class Event {
    private String eventType;
    private Object source;
    private long timestamp;
    
    public Event(String eventType, Object source) {
        this.eventType = eventType;
        this.source = source;
        this.timestamp = System.currentTimeMillis();
    }
    
    public String getEventType() { return eventType; }
    public Object getSource() { return source; }
    public long getTimestamp() { return timestamp; }
}

// å…·ä½“äº‹ä»¶ç±»å‹
class ButtonClickEvent extends Event {
    private String buttonName;
    
    public ButtonClickEvent(Object source, String buttonName) {
        super("BUTTON_CLICK", source);
        this.buttonName = buttonName;
    }
    
    public String getButtonName() { return buttonName; }
}

class DataUpdateEvent extends Event {
    private String dataType;
    private Object newValue;
    private Object oldValue;
    
    public DataUpdateEvent(Object source, String dataType, Object oldValue, Object newValue) {
        super("DATA_UPDATE", source);
        this.dataType = dataType;
        this.oldValue = oldValue;
        this.newValue = newValue;
    }
    
    public String getDataType() { return dataType; }
    public Object getNewValue() { return newValue; }
    public Object getOldValue() { return oldValue; }
}

class SystemAlertEvent extends Event {
    private String alertLevel;
    private String message;
    
    public SystemAlertEvent(Object source, String alertLevel, String message) {
        super("SYSTEM_ALERT", source);
        this.alertLevel = alertLevel;
        this.message = message;
    }
    
    public String getAlertLevel() { return alertLevel; }
    public String getMessage() { return message; }
}
```

**æ­¥éª¤2ï¼šå®šä¹‰äº‹ä»¶ç›‘å¬å™¨**
```java
// äº‹ä»¶ç›‘å¬å™¨æ¥å£
public interface EventListener {
    // å¤„ç†äº‹ä»¶çš„æ–¹æ³•
    void handleEvent(Event event);
    
    // è·å–ç›‘å¬å™¨åç§°
    String getListenerName();
    
    // è·å–æ„Ÿå…´è¶£çš„äº‹ä»¶ç±»å‹
    List<String> getInterestedEventTypes();
}

// æ—¥å¿—è®°å½•ç›‘å¬å™¨
class LoggingListener implements EventListener {
    private String name;
    
    public LoggingListener(String name) {
        this.name = name;
    }
    
    @Override
    public void handleEvent(Event event) {
        System.out.println("[æ—¥å¿—] " + name + " è®°å½•äº‹ä»¶: " + 
                         event.getEventType() + " åœ¨ " + 
                         new java.util.Date(event.getTimestamp()));
        
        if (event instanceof ButtonClickEvent) {
            ButtonClickEvent btnEvent = (ButtonClickEvent) event;
            System.out.println("  æŒ‰é’®åç§°: " + btnEvent.getButtonName());
        } else if (event instanceof DataUpdateEvent) {
            DataUpdateEvent dataEvent = (DataUpdateEvent) event;
            System.out.println("  æ•°æ®å˜æ›´: " + dataEvent.getDataType() + 
                             " ä» " + dataEvent.getOldValue() + 
                             " å˜ä¸º " + dataEvent.getNewValue());
        }
    }
    
    @Override
    public String getListenerName() {
        return name;
    }
    
    @Override
    public List<String> getInterestedEventTypes() {
        return Arrays.asList("BUTTON_CLICK", "DATA_UPDATE", "SYSTEM_ALERT");
    }
}

// å®‰å…¨ç›‘æ§ç›‘å¬å™¨
class SecurityListener implements EventListener {
    @Override
    public void handleEvent(Event event) {
        if (event instanceof SystemAlertEvent) {
            SystemAlertEvent alertEvent = (SystemAlertEvent) event;
            if ("HIGH".equals(alertEvent.getAlertLevel())) {
                System.out.println("[å®‰å…¨è­¦æŠ¥] é«˜çº§åˆ«è­¦æŠ¥: " + alertEvent.getMessage());
                System.out.println("[å®‰å…¨] æ­£åœ¨é€šçŸ¥ç®¡ç†å‘˜...");
            }
        } else if (event instanceof ButtonClickEvent) {
            ButtonClickEvent btnEvent = (ButtonClickEvent) event;
            if ("DELETE".equals(btnEvent.getButtonName())) {
                System.out.println("[å®‰å…¨] æ£€æµ‹åˆ°åˆ é™¤æ“ä½œï¼Œè®°å½•ç”¨æˆ·è¡Œä¸º");
            }
        }
    }
    
    @Override
    public String getListenerName() {
        return "å®‰å…¨ç›‘æ§";
    }
    
    @Override
    public List<String> getInterestedEventTypes() {
        return Arrays.asList("SYSTEM_ALERT", "BUTTON_CLICK");
    }
}

// UIæ›´æ–°ç›‘å¬å™¨
class UIUpdateListener implements EventListener {
    @Override
    public void handleEvent(Event event) {
        if (event instanceof DataUpdateEvent) {
            DataUpdateEvent dataEvent = (DataUpdateEvent) event;
            System.out.println("[UIæ›´æ–°] æ•°æ®å˜åŒ–ï¼Œåˆ·æ–°ç•Œé¢æ˜¾ç¤º");
            System.out.println("  æ›´æ–°ç»„ä»¶: " + dataEvent.getDataType());
        } else if (event instanceof ButtonClickEvent) {
            ButtonClickEvent btnEvent = (ButtonClickEvent) event;
            System.out.println("[UIæ›´æ–°] æŒ‰é’®ç‚¹å‡»åé¦ˆ: " + btnEvent.getButtonName());
        }
    }
    
    @Override
    public String getListenerName() {
        return "UIæ›´æ–°å™¨";
    }
    
    @Override
    public List<String> getInterestedEventTypes() {
        return Arrays.asList("DATA_UPDATE", "BUTTON_CLICK");
    }
}
```

**æ­¥éª¤3ï¼šå®ç°äº‹ä»¶åˆ†å‘å™¨ï¼ˆä¸­ä»‹è€…ï¼‰**
```java
// äº‹ä»¶åˆ†å‘å™¨ - å……å½“ä¸­ä»‹è€…è§’è‰²
public class EventDispatcher {
    // å­˜å‚¨äº‹ä»¶ç±»å‹åˆ°ç›‘å¬å™¨åˆ—è¡¨çš„æ˜ å°„
    private Map<String, List<EventListener>> listeners;
    private String dispatcherName;
    
    public EventDispatcher(String name) {
        this.dispatcherName = name;
        this.listeners = new HashMap<>();
    }
    
    // æ³¨å†Œäº‹ä»¶ç›‘å¬å™¨
    public void registerListener(EventListener listener) {
        System.out.println("[åˆ†å‘å™¨] æ³¨å†Œç›‘å¬å™¨: " + listener.getListenerName());
        
        // ä¸ºæ¯ä¸ªæ„Ÿå…´è¶£çš„äº‹ä»¶ç±»å‹æ³¨å†Œç›‘å¬å™¨
        for (String eventType : listener.getInterestedEventTypes()) {
            listeners.computeIfAbsent(eventType, k -> new ArrayList<>()).add(listener);
        }
    }
    
    // ç§»é™¤äº‹ä»¶ç›‘å¬å™¨
    public void unregisterListener(EventListener listener) {
        System.out.println("[åˆ†å‘å™¨] ç§»é™¤ç›‘å¬å™¨: " + listener.getListenerName());
        
        for (String eventType : listener.getInterestedEventTypes()) {
            List<EventListener> eventListeners = listeners.get(eventType);
            if (eventListeners != null) {
                eventListeners.remove(listener);
            }
        }
    }
    
    // åˆ†å‘äº‹ä»¶ - æ ¸å¿ƒä¸­ä»‹é€»è¾‘
    public void dispatchEvent(Event event) {
        System.out.println("\n[åˆ†å‘å™¨] å¼€å§‹åˆ†å‘äº‹ä»¶: " + event.getEventType());
        
        List<EventListener> eventListeners = listeners.get(event.getEventType());
        if (eventListeners != null && !eventListeners.isEmpty()) {
            System.out.println("[åˆ†å‘å™¨] æ‰¾åˆ° " + eventListeners.size() + " ä¸ªç›‘å¬å™¨");
            
            // å‘æ‰€æœ‰ç›¸å…³ç›‘å¬å™¨åˆ†å‘äº‹ä»¶
            for (EventListener listener : eventListeners) {
                try {
                    listener.handleEvent(event);
                } catch (Exception e) {
                    System.out.println("[åˆ†å‘å™¨] ç›‘å¬å™¨ " + listener.getListenerName() + 
                                     " å¤„ç†äº‹ä»¶æ—¶å‡ºé”™: " + e.getMessage());
                }
            }
        } else {
            System.out.println("[åˆ†å‘å™¨] æ²¡æœ‰æ‰¾åˆ°ç›¸å…³ç›‘å¬å™¨");
        }
        
        System.out.println("[åˆ†å‘å™¨] äº‹ä»¶åˆ†å‘å®Œæˆ\n");
    }
    
    // æ˜¾ç¤ºå½“å‰æ³¨å†Œçš„ç›‘å¬å™¨
    public void showRegisteredListeners() {
        System.out.println("\n=== " + dispatcherName + " æ³¨å†Œçš„ç›‘å¬å™¨ ===");
        for (Map.Entry<String, List<EventListener>> entry : listeners.entrySet()) {
            System.out.println("äº‹ä»¶ç±»å‹: " + entry.getKey());
            for (EventListener listener : entry.getValue()) {
                System.out.println("  ç›‘å¬å™¨: " + listener.getListenerName());
            }
        }
        System.out.println("=============================\n");
    }
}
```

### 4.3 å®Œæ•´æ¼”ç¤ºä»£ç 


```java
public class EventDispatcherDemo {
    public static void main(String[] args) {
        // åˆ›å»ºäº‹ä»¶åˆ†å‘å™¨
        EventDispatcher dispatcher = new EventDispatcher("ä¸»äº‹ä»¶åˆ†å‘å™¨");
        
        // åˆ›å»ºå„ç§ç›‘å¬å™¨
        EventListener logger = new LoggingListener("ç³»ç»Ÿæ—¥å¿—");
        EventListener security = new SecurityListener();
        EventListener uiUpdater = new UIUpdateListener();
        
        System.out.println("=== äº‹ä»¶åˆ†å‘ç³»ç»Ÿæ¼”ç¤º ===\n");
        
        // æ³¨å†Œç›‘å¬å™¨
        System.out.println("1. æ³¨å†Œäº‹ä»¶ç›‘å¬å™¨:");
        dispatcher.registerListener(logger);
        dispatcher.registerListener(security);
        dispatcher.registerListener(uiUpdater);
        
        // æ˜¾ç¤ºæ³¨å†ŒçŠ¶æ€
        dispatcher.showRegisteredListeners();
        
        // åˆ†å‘å„ç§äº‹ä»¶
        System.out.println("2. åˆ†å‘æŒ‰é’®ç‚¹å‡»äº‹ä»¶:");
        Event btnClickEvent = new ButtonClickEvent("LoginForm", "LOGIN");
        dispatcher.dispatchEvent(btnClickEvent);
        
        System.out.println("3. åˆ†å‘æ•°æ®æ›´æ–°äº‹ä»¶:");
        Event dataUpdateEvent = new DataUpdateEvent("UserService", "ç”¨æˆ·æ•°é‡", 100, 101);
        dispatcher.dispatchEvent(dataUpdateEvent);
        
        System.out.println("4. åˆ†å‘æ™®é€šç³»ç»Ÿè­¦æŠ¥:");
        Event normalAlert = new SystemAlertEvent("SystemMonitor", "INFO", "ç³»ç»Ÿè¿è¡Œæ­£å¸¸");
        dispatcher.dispatchEvent(normalAlert);
        
        System.out.println("5. åˆ†å‘é«˜çº§åˆ«è­¦æŠ¥:");
        Event highAlert = new SystemAlertEvent("SecurityModule", "HIGH", "æ£€æµ‹åˆ°å¼‚å¸¸ç™»å½•");
        dispatcher.dispatchEvent(highAlert);
        
        System.out.println("6. åˆ†å‘åˆ é™¤æŒ‰é’®ç‚¹å‡»:");
        Event deleteEvent = new ButtonClickEvent("DataManager", "DELETE");
        dispatcher.dispatchEvent(deleteEvent);
        
        // ç§»é™¤ç›‘å¬å™¨
        System.out.println("7. ç§»é™¤å®‰å…¨ç›‘å¬å™¨:");
        dispatcher.unregisterListener(security);
        
        System.out.println("8. å†æ¬¡åˆ†å‘é«˜çº§åˆ«è­¦æŠ¥(å®‰å…¨ç›‘å¬å™¨å·²ç§»é™¤):");
        dispatcher.dispatchEvent(highAlert);
        
        System.out.println("=== æ¼”ç¤ºç»“æŸ ===");
    }
}
```

ğŸ¯ **äº‹ä»¶åˆ†å‘çš„æ ¸å¿ƒä»·å€¼**ï¼š
```
1. è§£è€¦åˆï¼š
   - äº‹ä»¶æºä¸éœ€è¦çŸ¥é“æœ‰å“ªäº›ç›‘å¬å™¨
   - ç›‘å¬å™¨ä¸éœ€è¦çŸ¥é“äº‹ä»¶ä»å“ªé‡Œæ¥

2. æ˜“æ‰©å±•ï¼š
   - æ·»åŠ æ–°çš„ç›‘å¬å™¨ä¸å½±å“ç°æœ‰ä»£ç 
   - å¯ä»¥åŠ¨æ€æ³¨å†Œå’Œç§»é™¤ç›‘å¬å™¨

3. ç»Ÿä¸€ç®¡ç†ï¼š
   - æ‰€æœ‰äº‹ä»¶åˆ†å‘é€»è¾‘é›†ä¸­åœ¨åˆ†å‘å™¨ä¸­
   - ä¾¿äºè°ƒè¯•ã€ç›‘æ§å’Œä¼˜åŒ–

4. çµæ´»æ€§ï¼š
   - ä¸€ä¸ªäº‹ä»¶å¯ä»¥è¢«å¤šä¸ªç›‘å¬å™¨å¤„ç†
   - ç›‘å¬å™¨å¯ä»¥é€‰æ‹©æ€§ç›‘å¬æ„Ÿå…´è¶£çš„äº‹ä»¶
```

---

## 5. ğŸ¢ ç³»ç»Ÿé›†æˆåº”ç”¨


### 5.1 ä¼ä¸šçº§ç³»ç»Ÿé›†æˆåœºæ™¯


ğŸ’¼ **å®é™…ä¸šåŠ¡åœºæ™¯**ï¼š
ä¼ä¸šå†…éƒ¨æœ‰å¤šä¸ªå­ç³»ç»Ÿï¼š
- **ç”¨æˆ·ç®¡ç†ç³»ç»Ÿ**ï¼šå¤„ç†ç”¨æˆ·æ³¨å†Œã€ç™»å½•ã€æƒé™ç®¡ç†
- **è®¢å•ç³»ç»Ÿ**ï¼šå¤„ç†è®¢å•åˆ›å»ºã€ä¿®æ”¹ã€æŸ¥è¯¢
- **åº“å­˜ç³»ç»Ÿ**ï¼šç®¡ç†å•†å“åº“å­˜
- **è´¢åŠ¡ç³»ç»Ÿ**ï¼šå¤„ç†æ”¯ä»˜ã€è´¦å•
- **é€šçŸ¥ç³»ç»Ÿ**ï¼šå‘é€é‚®ä»¶ã€çŸ­ä¿¡é€šçŸ¥

ğŸ”„ **ç³»ç»Ÿé—´åä½œéœ€æ±‚**ï¼š
```
ç”¨æˆ·ä¸‹å•æµç¨‹ï¼š
1. è®¢å•ç³»ç»Ÿåˆ›å»ºè®¢å•
2. åº“å­˜ç³»ç»Ÿå‡å°‘å•†å“åº“å­˜
3. è´¢åŠ¡ç³»ç»Ÿå¤„ç†æ”¯ä»˜
4. é€šçŸ¥ç³»ç»Ÿå‘é€ç¡®è®¤é‚®ä»¶
5. ç”¨æˆ·ç®¡ç†ç³»ç»Ÿè®°å½•ç”¨æˆ·è¡Œä¸º
```

âŒ **ä¼ ç»Ÿæ–¹å¼çš„é—®é¢˜**ï¼š
- æ¯ä¸ªç³»ç»Ÿéƒ½è¦çŸ¥é“å…¶ä»–ç³»ç»Ÿçš„æ¥å£
- ç³»ç»Ÿé—´å¼ºè€¦åˆï¼Œéš¾ä»¥ç»´æŠ¤
- æ·»åŠ æ–°ç³»ç»Ÿéœ€è¦ä¿®æ”¹ç°æœ‰ç³»ç»Ÿ

âœ… **ä¸­ä»‹è€…æ¨¡å¼çš„è§£å†³æ–¹æ¡ˆ**ï¼š
- é€šè¿‡**ä¼ä¸šæœåŠ¡æ€»çº¿ï¼ˆESBï¼‰**ä½œä¸ºä¸­ä»‹è€…
- å„ç³»ç»Ÿåªéœ€è¦ä¸ESBé€šä¿¡
- ESBè´Ÿè´£æ¶ˆæ¯è·¯ç”±å’Œåè°ƒ

### 5.2 ä¼ä¸šæœåŠ¡æ€»çº¿å®ç°


**æ­¥éª¤1ï¼šå®šä¹‰ç³»ç»Ÿæ¶ˆæ¯**
```java
// ç³»ç»Ÿé—´é€šä¿¡çš„æ¶ˆæ¯åŸºç±»
public abstract class SystemMessage {
    private String messageId;
    private String sourceSystem;
    private String targetSystem;
    private String messageType;
    private long timestamp;
    private Map<String, Object> data;
    
    public SystemMessage(String sourceSystem, String targetSystem, String messageType) {
        this.messageId = generateMessageId();
        this.sourceSystem = sourceSystem;
        this.targetSystem = targetSystem;
        this.messageType = messageType;
        this.timestamp = System.currentTimeMillis();
        this.data = new HashMap<>();
    }
    
    private String generateMessageId() {
        return "MSG_" + System.currentTimeMillis() + "_" + Math.random();
    }
    
    // Getters and setters...
    public String getMessageId() { return messageId; }
    public String getSourceSystem() { return sourceSystem; }
    public String getTargetSystem() { return targetSystem; }
    public String getMessageType() { return messageType; }
    public Map<String, Object> getData() { return data; }
    
    public void addData(String key, Object value) {
        data.put(key, value);
    }
}

// å…·ä½“æ¶ˆæ¯ç±»å‹
class OrderMessage extends SystemMessage {
    public OrderMessage(String sourceSystem, String targetSystem, String messageType) {
        super(sourceSystem, targetSystem, messageType);
    }
    
    public void setOrderInfo(String orderId, String userId, double amount, String productId) {
        addData("orderId", orderId);
        addData("userId", userId);
        addData("amount", amount);
        addData("productId", productId);
    }
}

class InventoryMessage extends SystemMessage {
    public InventoryMessage(String sourceSystem, String targetSystem, String messageType) {
        super(sourceSystem, targetSystem, messageType);
    }
    
    public void setInventoryInfo(String productId, int quantity, String operation) {
        addData("productId", productId);
        addData("quantity", quantity);
        addData("operation", operation); // DECREASE, INCREASE, CHECK
    }
}

class NotificationMessage extends SystemMessage {
    public NotificationMessage(String sourceSystem, String targetSystem, String messageType) {
        super(sourceSystem, targetSystem, messageType);
    }
    
    public void setNotificationInfo(String userId, String type, String content) {
        addData("userId", userId);
        addData("type", type); // EMAIL, SMS, PUSH
        addData("content", content);
    }
}
```

**æ­¥éª¤2ï¼šå®šä¹‰å­ç³»ç»Ÿæ¥å£**
```java
// å­ç³»ç»Ÿæ¥å£
public interface SubSystem {
    // å¤„ç†æ¥æ”¶åˆ°çš„æ¶ˆæ¯
    void handleMessage(SystemMessage message);
    
    // å‘é€æ¶ˆæ¯åˆ°ESB
    void sendMessage(SystemMessage message);
    
    // è·å–ç³»ç»Ÿåç§°
    String getSystemName();
    
    // ç³»ç»Ÿåˆå§‹åŒ–
    void initialize(EnterpriseServiceBus esb);
}

// æŠ½è±¡å­ç³»ç»ŸåŸºç±»
public abstract class AbstractSubSystem implements SubSystem {
    protected String systemName;
    protected EnterpriseServiceBus esb;
    
    public AbstractSubSystem(String systemName) {
        this.systemName = systemName;
    }
    
    @Override
    public void initialize(EnterpriseServiceBus esb) {
        this.esb = esb;
        System.out.println("[ç³»ç»Ÿ] " + systemName + " å·²è¿æ¥åˆ°ESB");
    }
    
    @Override
    public void sendMessage(SystemMessage message) {
        System.out.println("[" + systemName + "] å‘é€æ¶ˆæ¯: " + message.getMessageType() + 
                         " åˆ° " + message.getTargetSystem());
        esb.routeMessage(message);
    }
    
    @Override
    public String getSystemName() {
        return systemName;
    }
}
```

**æ­¥éª¤3ï¼šå®ç°å…·ä½“å­ç³»ç»Ÿ**
```java
// è®¢å•ç³»ç»Ÿ
class OrderSystem extends AbstractSubSystem {
    public OrderSystem() {
        super("è®¢å•ç³»ç»Ÿ");
    }
    
    @Override
    public void handleMessage(SystemMessage message) {
        System.out.println("[è®¢å•ç³»ç»Ÿ] å¤„ç†æ¶ˆæ¯: " + message.getMessageType());
        
        if ("INVENTORY_RESPONSE".equals(message.getMessageType())) {
            String result = (String) message.getData().get("result");
            if ("SUCCESS".equals(result)) {
                System.out.println("[è®¢å•ç³»ç»Ÿ] åº“å­˜æ£€æŸ¥é€šè¿‡ï¼Œç»§ç»­å¤„ç†è®¢å•");
                // å‘é€æ”¯ä»˜è¯·æ±‚
                OrderMessage paymentMsg = new OrderMessage(systemName, "è´¢åŠ¡ç³»ç»Ÿ", "PAYMENT_REQUEST");
                paymentMsg.addData("orderId", message.getData().get("orderId"));
                paymentMsg.addData("amount", message.getData().get("amount"));
                sendMessage(paymentMsg);
            } else {
                System.out.println("[è®¢å•ç³»ç»Ÿ] åº“å­˜ä¸è¶³ï¼Œè®¢å•åˆ›å»ºå¤±è´¥");
            }
        }
    }
    
    // åˆ›å»ºè®¢å•çš„ä¸šåŠ¡æ–¹æ³•
    public void createOrder(String orderId, String userId, String productId, int quantity, double amount) {
        System.out.println("[è®¢å•ç³»ç»Ÿ] åˆ›å»ºè®¢å•: " + orderId);
        
        // æ£€æŸ¥åº“å­˜
        InventoryMessage inventoryMsg = new InventoryMessage(systemName, "åº“å­˜ç³»ç»Ÿ", "CHECK_INVENTORY");
        inventoryMsg.setInventoryInfo(productId, quantity, "CHECK");
        inventoryMsg.addData("orderId", orderId);
        inventoryMsg.addData("amount", amount);
        sendMessage(inventoryMsg);
    }
}

// åº“å­˜ç³»ç»Ÿ
class InventorySystem extends AbstractSubSystem {
    private Map<String, Integer> inventory;
    
    public InventorySystem() {
        super("åº“å­˜ç³»ç»Ÿ");
        this.inventory = new HashMap<>();
        // åˆå§‹åŒ–ä¸€äº›åº“å­˜
        inventory.put("PROD_001", 50);
        inventory.put("PROD_002", 30);
    }
    
    @Override
    public void handleMessage(SystemMessage message) {
        System.out.println("[åº“å­˜ç³»ç»Ÿ] å¤„ç†æ¶ˆæ¯: " + message.getMessageType());
        
        if ("CHECK_INVENTORY".equals(message.getMessageType())) {
            String productId = (String) message.getData().get("productId");
            int requestQuantity = (Integer) message.getData().get("quantity");
            
            boolean hasStock = checkStock(productId, requestQuantity);
            
            // å›å¤è®¢å•ç³»ç»Ÿ
            OrderMessage response = new OrderMessage(systemName, "è®¢å•ç³»ç»Ÿ", "INVENTORY_RESPONSE");
            response.addData("result", hasStock ? "SUCCESS" : "FAILED");
            response.addData("orderId", message.getData().get("orderId"));
            response.addData("amount", message.getData().get("amount"));
            sendMessage(response);
            
            if (hasStock) {
                // å‡å°‘åº“å­˜
                inventory.put(productId, inventory.get(productId) - requestQuantity);
                System.out.println("[åº“å­˜ç³»ç»Ÿ] åº“å­˜å·²å‡å°‘ï¼Œå½“å‰åº“å­˜: " + inventory.get(productId));
            }
        }
    }
    
    private boolean checkStock(String productId, int quantity) {
        int currentStock = inventory.getOrDefault(productId, 0);
        System.out.println("[åº“å­˜ç³»ç»Ÿ] æ£€æŸ¥åº“å­˜ - å•†å“: " + productId + 
                         ", éœ€è¦: " + quantity + ", ç°æœ‰: " + currentStock);
        return currentStock >= quantity;
    }
}

// è´¢åŠ¡ç³»ç»Ÿ
class FinancialSystem extends AbstractSubSystem {
    public FinancialSystem() {
        super("è´¢åŠ¡ç³»ç»Ÿ");
    }
    
    @Override
    public void handleMessage(SystemMessage message) {
        System.out.println("[è´¢åŠ¡ç³»ç»Ÿ] å¤„ç†æ¶ˆæ¯: " + message.getMessageType());
        
        if ("PAYMENT_REQUEST".equals(message.getMessageType())) {
            String orderId = (String) message.getData().get("orderId");
            double amount = (Double) message.getData().get("amount");
            
            // æ¨¡æ‹Ÿæ”¯ä»˜å¤„ç†
            boolean paymentSuccess = processPayment(orderId, amount);
            
            if (paymentSuccess) {
                // é€šçŸ¥ç”¨æˆ·
                NotificationMessage notification = new NotificationMessage(systemName, "é€šçŸ¥ç³»ç»Ÿ", "SEND_NOTIFICATION");
                notification.setNotificationInfo("USER_001", "EMAIL", "è®¢å• " + orderId + " æ”¯ä»˜æˆåŠŸ");
                sendMessage(notification);
            }
        }
    }
    
    private boolean processPayment(String orderId, double amount) {
        System.out.println("[è´¢åŠ¡ç³»ç»Ÿ] å¤„ç†æ”¯ä»˜ - è®¢å•: " + orderId + ", é‡‘é¢: " + amount);
        // æ¨¡æ‹Ÿæ”¯ä»˜å¤„ç†æ—¶é—´
        try { Thread.sleep(100); } catch (InterruptedException e) {}
        System.out.println("[è´¢åŠ¡ç³»ç»Ÿ] æ”¯ä»˜å¤„ç†å®Œæˆ");
        return true;
    }
}

// é€šçŸ¥ç³»ç»Ÿ
class NotificationSystem extends AbstractSubSystem {
    public NotificationSystem() {
        super("é€šçŸ¥ç³»ç»Ÿ");
    }
    
    @Override
    public void handleMessage(SystemMessage message) {
        System.out.println("[é€šçŸ¥ç³»ç»Ÿ] å¤„ç†æ¶ˆæ¯: " + message.getMessageType());
        
        if ("SEND_NOTIFICATION".equals(message.getMessageType())) {
            String userId = (String) message.getData().get("userId");
            String type = (String) message.getData().get("type");
            String content = (String) message.getData().get("content");
            
            sendNotification(userId, type, content);
        }
    }
    
    private void sendNotification(String userId, String type, String content) {
        System.out.println("[é€šçŸ¥ç³»ç»Ÿ] å‘é€" + type + "é€šçŸ¥ç»™ç”¨æˆ· " + userId + ": " + content);
    }
}
```

**æ­¥éª¤4ï¼šå®ç°ä¼ä¸šæœåŠ¡æ€»çº¿ï¼ˆä¸­ä»‹è€…ï¼‰**
```java
// ä¼ä¸šæœåŠ¡æ€»çº¿ - å……å½“ä¸­ä»‹è€…è§’è‰²
public class EnterpriseServiceBus {
    private Map<String, SubSystem> registeredSystems;
    private List<SystemMessage> messageLog;
    
    public EnterpriseServiceBus() {
        this.registeredSystems = new HashMap<>();
        this.messageLog = new ArrayList<>();
    }
    
    // æ³¨å†Œå­ç³»ç»Ÿ
    public void registerSystem(SubSystem system) {
        registeredSystems.put(system.getSystemName(), system);
        system.initialize(this);
        System.out.println("[ESB] æ³¨å†Œç³»ç»Ÿ: " + system.getSystemName());
    }
    
    // è·¯ç”±æ¶ˆæ¯ - æ ¸å¿ƒä¸­ä»‹åŠŸèƒ½
    public void routeMessage(SystemMessage message) {
        System.out.println("\n[ESB] è·¯ç”±æ¶ˆæ¯: " + message.getMessageType() + 
                         " ä» " + message.getSourceSystem() + 
                         " åˆ° " + message.getTargetSystem());
        
        // è®°å½•æ¶ˆæ¯
        messageLog.add(message);
        
        // æŸ¥æ‰¾ç›®æ ‡ç³»ç»Ÿ
        SubSystem targetSystem = registeredSystems.get(message.getTargetSystem());
        if (targetSystem != null) {
            try {
                // å¼‚æ­¥å¤„ç†æ¶ˆæ¯ï¼ˆç®€åŒ–å®ç°ä¸ºåŒæ­¥ï¼‰
                targetSystem.handleMessage(message);
                System.out.println("[ESB] æ¶ˆæ¯è·¯ç”±æˆåŠŸ");
            } catch (Exception e) {
                System.out.println("[ESB] æ¶ˆæ¯å¤„ç†å¤±è´¥: " + e.getMessage());
            }
        } else {
            System.out.println("[ESB] ç›®æ ‡ç³»ç»Ÿä¸å­˜åœ¨: " + message.getTargetSystem());
        }
        System.out.println();
    }
    
    // æ˜¾ç¤ºç³»ç»ŸçŠ¶æ€
    public void showSystemStatus() {
        System.out.println("\n=== ESB ç³»ç»ŸçŠ¶æ€ ===");
        System.out.println("å·²æ³¨å†Œç³»ç»Ÿæ•°: " + registeredSystems.size());
        for (String systemName : registeredSystems.keySet()) {
            System.out.println("  - " + systemName);
        }
        System.out.println("æ¶ˆæ¯å¤„ç†æ€»æ•°: " + messageLog.size());
        System.out.println("==================\n");
    }
    
    // è·å–æ¶ˆæ¯æ—¥å¿—
    public void showMessageLog() {
        System.out.println("\n=== æ¶ˆæ¯å¤„ç†æ—¥å¿— ===");
        for (SystemMessage msg : messageLog) {
            System.out.println("æ¶ˆæ¯ID: " + msg.getMessageId() + 
                             " | ç±»å‹: " + msg.getMessageType() + 
                             " | è·¯å¾„: " + msg.getSourceSystem() + " â†’ " + msg.getTargetSystem());
        }
        System.out.println("===================\n");
    }
}
```

### 5.3 å®Œæ•´ç³»ç»Ÿé›†æˆæ¼”ç¤º


```java
public class EnterpriseSystemDemo {
    public static void main(String[] args) {
        // åˆ›å»ºä¼ä¸šæœåŠ¡æ€»çº¿
        EnterpriseServiceBus esb = new EnterpriseServiceBus();
        
        // åˆ›å»ºå„ä¸ªå­ç³»ç»Ÿ
        OrderSystem orderSystem = new OrderSystem();
        InventorySystem inventorySystem = new InventorySystem();
        FinancialSystem financialSystem = new FinancialSystem();
        NotificationSystem notificationSystem = new NotificationSystem();
        
        System.out.println("=== ä¼ä¸šç³»ç»Ÿé›†æˆæ¼”ç¤º ===\n");
        
        // æ³¨å†Œç³»ç»Ÿåˆ°ESB
        System.out.println("1. æ³¨å†Œå­ç³»ç»Ÿåˆ°ESB:");
        esb.registerSystem(orderSystem);
        esb.registerSystem(inventorySystem);
        esb.registerSystem(financialSystem);
        esb.registerSystem(notificationSystem);
        
        esb.showSystemStatus();
        
        // æ¨¡æ‹Ÿç”¨æˆ·ä¸‹å•æµç¨‹
        System.out.println("2. æ‰§è¡Œå®Œæ•´ä¸‹å•æµç¨‹:");
        System.out.println("=== ç”¨æˆ·ä¸‹å•å¼€å§‹ ===");
        orderSystem.createOrder("ORDER_001", "USER_001", "PROD_001", 2, 199.99);
        
        Thread.sleep(1000); // ç­‰å¾…æ‰€æœ‰å¼‚æ­¥å¤„ç†å®Œæˆ
        
        System.out.println("=== ä¸‹å•æµç¨‹ç»“æŸ ===\n");
        
        // æ˜¾ç¤ºæ¶ˆæ¯æ—¥å¿—
        esb.showMessageLog();
        
        // å†æ¬¡ä¸‹å•æµ‹è¯•åº“å­˜ä¸è¶³æƒ…å†µ
        System.out.println("3. æµ‹è¯•åº“å­˜ä¸è¶³æƒ…å†µ:");
        System.out.println("=== å¤§é‡ä¸‹å•æµ‹è¯• ===");
        orderSystem.createOrder("ORDER_002", "USER_002", "PROD_001", 60, 299.99);
        
        System.out.println("=== æ¼”ç¤ºç»“æŸ ===");
    }
}
```

ğŸ¯ **ä¼ä¸šçº§åº”ç”¨çš„æ ¸å¿ƒä»·å€¼**ï¼š
```
ç³»ç»Ÿè§£è€¦ï¼š
- å„å­ç³»ç»Ÿç‹¬ç«‹å¼€å‘å’Œéƒ¨ç½²
- ç³»ç»Ÿé—´é€šè¿‡æ¶ˆæ¯é€šä¿¡ï¼Œä¸ç›´æ¥ä¾èµ–

æ˜“äºç»´æŠ¤ï¼š
- ä¿®æ”¹ä¸€ä¸ªç³»ç»Ÿä¸å½±å“å…¶ä»–ç³»ç»Ÿ
- å¯ä»¥ç‹¬ç«‹å‡çº§å’Œæ›¿æ¢å­ç³»ç»Ÿ

é«˜å¯æ‰©å±•ï¼š
- æ·»åŠ æ–°ç³»ç»Ÿåªéœ€è¦åœ¨ESBä¸­æ³¨å†Œ
- æ”¯æŒåŠ¨æ€ç³»ç»Ÿå‘ç°å’Œæ³¨å†Œ

ç»Ÿä¸€ç®¡ç†ï¼š
- æ‰€æœ‰ç³»ç»Ÿé—´é€šä¿¡éƒ½ç»è¿‡ESB
- ä¾¿äºç›‘æ§ã€æ—¥å¿—è®°å½•å’Œæ•…éšœè¯Šæ–­

ä¸šåŠ¡æµç¨‹ç¼–æ’ï¼š
- å¯ä»¥åœ¨ESBä¸­å®ç°å¤æ‚çš„ä¸šåŠ¡æµç¨‹
- æ”¯æŒäº‹åŠ¡åè°ƒå’Œè¡¥å¿æœºåˆ¶
```

---

## 6. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 6.1 å¿…é¡»æŒæ¡çš„åŸºæœ¬æ¦‚å¿µ


ğŸ¯ **ä¸­ä»‹è€…æ¨¡å¼çš„æœ¬è´¨**ï¼š
```
ğŸ”¸ è§£è€¦å¯¹è±¡é—´çš„ç›´æ¥å¼•ç”¨ï¼šå¯¹è±¡ä¸ç›´æ¥çŸ¥é“å½¼æ­¤
ğŸ”¸ ç»Ÿä¸€äº¤äº’ç®¡ç†ï¼šæ‰€æœ‰äº¤äº’é€šè¿‡ä¸­ä»‹è€…åè°ƒ
ğŸ”¸ æ˜Ÿå‹ç½‘ç»œç»“æ„ï¼šä»ç½‘çŠ¶å…³ç³»å˜ä¸ºæ˜Ÿå‹å…³ç³»
ğŸ”¸ èŒè´£åˆ†ç¦»ï¼šä¸šåŠ¡é€»è¾‘ä¸äº¤äº’é€»è¾‘åˆ†ç¦»
```

ğŸ“ **æ ¸å¿ƒç»„ä»¶ç†è§£**ï¼š
```
ğŸ”¹ æŠ½è±¡ä¸­ä»‹è€…ï¼šå®šä¹‰äº¤äº’åè®®
ğŸ”¹ å…·ä½“ä¸­ä»‹è€…ï¼šå®ç°å…·ä½“åè°ƒé€»è¾‘
ğŸ”¹ æŠ½è±¡ç»„ä»¶ï¼šå®šä¹‰ç»„ä»¶ä¸ä¸­ä»‹è€…çš„æ¥å£
ğŸ”¹ å…·ä½“ç»„ä»¶ï¼šå®ç°å…·ä½“ä¸šåŠ¡åŠŸèƒ½ï¼Œé€šè¿‡ä¸­ä»‹è€…äº¤äº’
```

### 6.2 å…³é”®ç†è§£è¦ç‚¹


ğŸ§  **ä¸ºä»€ä¹ˆéœ€è¦ä¸­ä»‹è€…æ¨¡å¼**ï¼š
```
ä¼ ç»Ÿæ–¹å¼çš„é—®é¢˜ï¼š
- å¯¹è±¡é—´å¼ºè€¦åˆï¼Œä¸€ä¸ªå¯¹è±¡å˜åŒ–å½±å“å¤šä¸ªå¯¹è±¡
- å¤æ‚çš„ç½‘çŠ¶äº¤äº’å…³ç³»éš¾ä»¥ç†è§£å’Œç»´æŠ¤
- æ·»åŠ æ–°å¯¹è±¡éœ€è¦ä¿®æ”¹ç°æœ‰å¯¹è±¡

ä¸­ä»‹è€…æ¨¡å¼çš„è§£å†³ï¼š
- å°†å¤æ‚çš„å¤šå¯¹å¤šå…³ç³»è½¬æ¢ä¸ºç®€å•çš„ä¸€å¯¹å¤šå…³ç³»
- é›†ä¸­ç®¡ç†äº¤äº’é€»è¾‘ï¼Œä¾¿äºç»´æŠ¤å’Œæ‰©å±•
- æé«˜ä»£ç çš„å¯é‡ç”¨æ€§å’Œå¯æµ‹è¯•æ€§
```

ğŸ’¡ **ä¸­ä»‹è€…æ¨¡å¼çš„é€‚ç”¨åœºæ™¯åˆ¤æ–­**ï¼š
```
âœ… é€‚ç”¨æƒ…å†µï¼š
- å¯¹è±¡é—´å­˜åœ¨å¤æ‚çš„äº¤äº’å…³ç³»
- å¤šä¸ªå¯¹è±¡éœ€è¦åè°ƒå®ŒæˆæŸä¸ªåŠŸèƒ½
- å¸Œæœ›å¤ç”¨å¯¹è±¡ä½†ä¸æƒ³äº§ç”Ÿå¼ºä¾èµ–
- éœ€è¦ç»Ÿä¸€ç®¡ç†å¯¹è±¡é—´çš„äº¤äº’é€»è¾‘

âŒ ä¸é€‚ç”¨æƒ…å†µï¼š
- å¯¹è±¡é—´åªæœ‰ç®€å•çš„ä¸€å¯¹ä¸€å…³ç³»
- ç³»ç»Ÿè§„æ¨¡å¾ˆå°ï¼Œå¢åŠ ä¸­ä»‹è€…åè€Œå¤æ‚åŒ–
- æ€§èƒ½è¦æ±‚æé«˜ï¼Œä¸èƒ½æ‰¿å—ä¸­ä»‹è€…çš„å¼€é”€
```

### 6.3 å®æˆ˜åº”ç”¨æŒ‡å¯¼


ğŸ”§ **ä»£ç å®ç°è¦ç‚¹**ï¼š
```
è®¾è®¡åŸåˆ™ï¼š
1. æ˜ç¡®å®šä¹‰ä¸­ä»‹è€…æ¥å£ï¼Œè§„èŒƒäº¤äº’åè®®
2. ç»„ä»¶åªçŸ¥é“ä¸­ä»‹è€…ï¼Œä¸çŸ¥é“å…¶ä»–ç»„ä»¶
3. ä¸­ä»‹è€…é›†ä¸­å¤„ç†æ‰€æœ‰äº¤äº’é€»è¾‘
4. ä¿æŒç»„ä»¶çš„ç‹¬ç«‹æ€§ï¼Œä¾¿äºå•ç‹¬æµ‹è¯•

å¸¸è§é™·é˜±ï¼š
1. ä¸­ä»‹è€…å˜å¾—è¿‡äºå¤æ‚ï¼Œæ‰¿æ‹…è¿‡å¤šèŒè´£
2. ç»„ä»¶é—´ä»ç„¶ç›´æ¥äº¤äº’ï¼Œè¿èƒŒæ¨¡å¼åˆè¡·
3. ä¸­ä»‹è€…æˆä¸ºæ€§èƒ½ç“¶é¢ˆ
4. è¿‡åº¦ä½¿ç”¨å¯¼è‡´ç³»ç»Ÿç»“æ„å¤æ‚åŒ–
```

ğŸ“Š **æ€§èƒ½ä¸ç»´æŠ¤å¹³è¡¡**ï¼š
```
ä¼˜åŠ¿ï¼š
+ é™ä½ç³»ç»Ÿè€¦åˆåº¦
+ æé«˜ä»£ç å¯ç»´æŠ¤æ€§
+ ä¾¿äºåŠŸèƒ½æ‰©å±•
+ é›†ä¸­ç®¡ç†äº¤äº’é€»è¾‘

åŠ£åŠ¿ï¼š
- å¢åŠ ç³»ç»Ÿå¤æ‚åº¦
- å¯èƒ½æˆä¸ºæ€§èƒ½ç“¶é¢ˆ
- ä¸­ä»‹è€…å¯èƒ½å˜å¾—åºå¤§å¤æ‚
- è°ƒè¯•æ—¶éœ€è¦è·Ÿè¸ªä¸­ä»‹è€…é€»è¾‘
```

### 6.4 ä¸å…¶ä»–æ¨¡å¼çš„å…³ç³»


ğŸ”— **ç›¸å…³æ¨¡å¼å¯¹æ¯”**ï¼š
```
ä¸­ä»‹è€… vs è§‚å¯Ÿè€…ï¼š
- ä¸­ä»‹è€…ï¼šä¸€å¯¹å¤šçš„åè°ƒå…³ç³»ï¼ŒåŒå‘é€šä¿¡
- è§‚å¯Ÿè€…ï¼šä¸€å¯¹å¤šçš„é€šçŸ¥å…³ç³»ï¼Œå•å‘é€šä¿¡

ä¸­ä»‹è€… vs å¤–è§‚æ¨¡å¼ï¼š
- ä¸­ä»‹è€…ï¼šå¯¹è±¡é—´çš„åè°ƒï¼Œå†…éƒ¨å¯¹è±¡å¯èƒ½äº’ç›¸çŸ¥é“
- å¤–è§‚ï¼šä¸ºå­ç³»ç»Ÿæä¾›ç»Ÿä¸€æ¥å£ï¼Œå­ç³»ç»Ÿç‹¬ç«‹è¿è¡Œ

ä¸­ä»‹è€… vs å‘½ä»¤æ¨¡å¼ï¼š
- ä¸­ä»‹è€…ï¼šä¸“æ³¨äºå¯¹è±¡é—´åè°ƒ
- å‘½ä»¤ï¼šä¸“æ³¨äºè¯·æ±‚çš„å°è£…å’Œæ‰§è¡Œ
```

### 6.5 æœ€ä½³å®è·µå»ºè®®


âœ¨ **è®¾è®¡å»ºè®®**ï¼š
```
ğŸ¯ ä¿æŒä¸­ä»‹è€…èŒè´£å•ä¸€ï¼š
- é¿å…åœ¨ä¸­ä»‹è€…ä¸­æ··å…¥ä¸šåŠ¡é€»è¾‘
- ä¸­ä»‹è€…åªè´Ÿè´£åè°ƒï¼Œä¸è´Ÿè´£å…·ä½“ä¸šåŠ¡

ğŸ¯ åˆç†åˆ’åˆ†ä¸­ä»‹è€…ç²’åº¦ï¼š
- æŒ‰åŠŸèƒ½æ¨¡å—åˆ’åˆ†å¤šä¸ªä¸­ä»‹è€…
- é¿å…å•ä¸ªä¸­ä»‹è€…è¿‡äºåºå¤§

ğŸ¯ æä¾›æ¸…æ™°çš„æ¥å£ï¼š
- å®šä¹‰æ˜ç¡®çš„é€šä¿¡åè®®
- ä½¿ç”¨æ ‡å‡†çš„æ¶ˆæ¯æ ¼å¼

ğŸ¯ è€ƒè™‘å¼‚æ­¥å¤„ç†ï¼š
- å¯¹äºè€—æ—¶æ“ä½œï¼Œè€ƒè™‘å¼‚æ­¥æ¶ˆæ¯å¤„ç†
- é¿å…é˜»å¡ä¸­ä»‹è€…å½±å“æ•´ä½“æ€§èƒ½
```

ğŸ” **å­¦ä¹ æ£€æŸ¥ç‚¹**ï¼š
```
âœ… åŸºç¡€ç†è§£ï¼š
- [ ] èƒ½è§£é‡Šä¸­ä»‹è€…æ¨¡å¼çš„æ ¸å¿ƒæ€æƒ³
- [ ] èƒ½ç”»å‡ºä¸­ä»‹è€…æ¨¡å¼çš„ç»“æ„å›¾
- [ ] èƒ½è¯´å‡ºé€‚ç”¨åœºæ™¯å’Œä¼˜ç¼ºç‚¹

âœ… åº”ç”¨èƒ½åŠ›ï¼š
- [ ] èƒ½å®ç°ç®€å•çš„ä¸­ä»‹è€…æ¨¡å¼
- [ ] èƒ½åœ¨å®é™…é¡¹ç›®ä¸­è¯†åˆ«é€‚ç”¨åœºæ™¯
- [ ] èƒ½å¯¹æ¯”ä¸åŒçš„å®ç°æ–¹æ¡ˆ

âœ… è¿›é˜¶æŒæ¡ï¼š
- [ ] èƒ½å¤„ç†å¤æ‚çš„ç³»ç»Ÿé›†æˆåœºæ™¯
- [ ] èƒ½ä¼˜åŒ–ä¸­ä»‹è€…çš„æ€§èƒ½
- [ ] èƒ½ä¸å…¶ä»–æ¨¡å¼ç»“åˆä½¿ç”¨
```

ğŸ§  **è®°å¿†å£è¯€**ï¼š
> "å¯¹è±¡äº¤äº’ä¸ç›´è¿ï¼Œä¸­ä»‹åè°ƒåœ¨ä¸­é—´  
> æ˜Ÿå‹ç»“æ„æ›¿ç½‘çŠ¶ï¼Œè§£è€¦ç»´æŠ¤éƒ½ç®€å•  
> ç»Ÿä¸€ç®¡ç†äº¤äº’é€»è¾‘ï¼Œæ‰©å±•ä¿®æ”¹æ— è´Ÿæ‹…"

**æ ¸å¿ƒä»·å€¼æ€»ç»“**ï¼š
ä¸­ä»‹è€…æ¨¡å¼é€šè¿‡å¼•å…¥ä¸­ä»‹è€…å¯¹è±¡ï¼Œå°†å¤æ‚çš„å¤šå¯¹å¤šå¯¹è±¡å…³ç³»è½¬æ¢ä¸ºç®€å•çš„ä¸€å¯¹å¤šå…³ç³»ï¼Œå®ç°äº†å¯¹è±¡é—´çš„è§£è€¦ï¼Œæé«˜äº†ç³»ç»Ÿçš„å¯ç»´æŠ¤æ€§å’Œå¯æ‰©å±•æ€§ã€‚åœ¨GUIç³»ç»Ÿã€èŠå¤©åº”ç”¨ã€äº‹ä»¶åˆ†å‘ã€ä¼ä¸šç³»ç»Ÿé›†æˆç­‰åœºæ™¯ä¸­éƒ½æœ‰å¹¿æ³›åº”ç”¨ï¼Œæ˜¯è§£å†³å¤æ‚å¯¹è±¡äº¤äº’é—®é¢˜çš„é‡è¦è®¾è®¡æ¨¡å¼ã€‚