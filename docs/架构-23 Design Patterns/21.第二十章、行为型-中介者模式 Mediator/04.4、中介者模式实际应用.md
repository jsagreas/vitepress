---
title: 4ã€ä¸­ä»‹è€…æ¨¡å¼å®é™…åº”ç”¨
---
## ğŸ“š ç›®å½•

1. [ä¸­ä»‹è€…æ¨¡å¼åœ¨ç°å®ä¸­çš„ä½œç”¨](#1-ä¸­ä»‹è€…æ¨¡å¼åœ¨ç°å®ä¸­çš„ä½œç”¨)
2. [GUIå¯¹è¯æ¡†æ§åˆ¶åº”ç”¨](#2-GUIå¯¹è¯æ¡†æ§åˆ¶åº”ç”¨)
3. [MVCæ¶æ„æ§åˆ¶å™¨åº”ç”¨](#3-MVCæ¶æ„æ§åˆ¶å™¨åº”ç”¨)
4. [èŠå¤©å®¤ç³»ç»Ÿåº”ç”¨](#4-èŠå¤©å®¤ç³»ç»Ÿåº”ç”¨)
5. [å·¥ä½œæµå¼•æ“åº”ç”¨](#5-å·¥ä½œæµå¼•æ“åº”ç”¨)
6. [ç³»ç»Ÿé›†æˆä¸­é—´ä»¶åº”ç”¨](#6-ç³»ç»Ÿé›†æˆä¸­é—´ä»¶åº”ç”¨)
7. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#7-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ¯ ä¸­ä»‹è€…æ¨¡å¼åœ¨ç°å®ä¸­çš„ä½œç”¨


### 1.1 ä»€ä¹ˆæ˜¯ä¸­ä»‹è€…æ¨¡å¼çš„å®é™…æ„ä¹‰


**ç°å®ç±»æ¯”ç†è§£**ï¼š
```
æ²¡æœ‰ä¸­ä»‹è€…çš„æƒ…å†µï¼š           æœ‰ä¸­ä»‹è€…çš„æƒ…å†µï¼š
A â†â†’ B                      A â†’ ä¸­ä»‹è€… â† B
â†• Ã—  â†•                      â†“     â†‘
C â†â†’ D                      C â† â†’ D
å¤æ‚ç½‘çŠ¶å…³ç³»                 æ˜Ÿå½¢ç»“æ„ï¼Œç®€å•æ¸…æ™°
```

**æ ¸å¿ƒä»·å€¼**ï¼š
- **è§£è€¦åˆ**ï¼šå¯¹è±¡ä¹‹é—´ä¸ç›´æ¥æ²Ÿé€šï¼Œé€šè¿‡ä¸­ä»‹è€…è½¬å‘
- **ç®€åŒ–å…³ç³»**ï¼šå¤šå¯¹å¤šå˜æˆä¸€å¯¹å¤š
- **é›†ä¸­æ§åˆ¶**ï¼šæ‰€æœ‰äº¤äº’é€»è¾‘é›†ä¸­åœ¨ä¸­ä»‹è€…ä¸­
- **æ˜“äºç»´æŠ¤**ï¼šä¿®æ”¹äº¤äº’è§„åˆ™åªéœ€æ”¹ä¸­ä»‹è€…

> ğŸ’¡ **é€šä¿—ç†è§£**ï¼šå°±åƒç°å®ä¸­çš„æˆ¿äº§ä¸­ä»‹ï¼Œä¹°å®¶å’Œå–å®¶ä¸ç›´æ¥è”ç³»ï¼Œéƒ½é€šè¿‡ä¸­ä»‹æ¥æ²Ÿé€šï¼Œè¿™æ ·æ—¢å®‰å…¨åˆé«˜æ•ˆã€‚

### 1.2 é€‚ç”¨åœºæ™¯è¯†åˆ«


**ä»€ä¹ˆæ—¶å€™éœ€è¦ä¸­ä»‹è€…**ï¼š
- å¤šä¸ªå¯¹è±¡ä¹‹é—´å…³ç³»å¤æ‚ï¼Œç›¸äº’ä¾èµ–ä¸¥é‡
- å¯¹è±¡é—´çš„äº¤äº’é€»è¾‘ç»å¸¸å˜åŒ–
- æƒ³è¦å¤ç”¨æŸä¸ªå¯¹è±¡ï¼Œä½†å®ƒä¸å…¶ä»–å¯¹è±¡è€¦åˆå¤ªç´§
- éœ€è¦ç»Ÿä¸€ç®¡ç†å¤šä¸ªå¯¹è±¡çš„åä½œè¿‡ç¨‹

**åˆ¤æ–­æ ‡å‡†**ï¼š
```
ğŸ”¸ å¯¹è±¡æ•°é‡ï¼š3ä¸ªä»¥ä¸Šç›¸äº’äº¤äº’çš„å¯¹è±¡
ğŸ”¸ å…³ç³»å¤æ‚åº¦ï¼šæ¯ä¸ªå¯¹è±¡éƒ½è¦çŸ¥é“å…¶ä»–å¯¹è±¡çš„å­˜åœ¨
ğŸ”¸ å˜åŒ–é¢‘ç‡ï¼šå¯¹è±¡é—´çš„äº¤äº’è§„åˆ™ç»å¸¸æ”¹å˜
ğŸ”¸ å¤ç”¨éœ€æ±‚ï¼šå¸Œæœ›å•ç‹¬ä½¿ç”¨æŸäº›å¯¹è±¡
```

---

## 2. ğŸ–¥ï¸ GUIå¯¹è¯æ¡†æ§åˆ¶åº”ç”¨


### 2.1 ä¼ ç»ŸGUIå¼€å‘çš„ç—›ç‚¹


**é—®é¢˜åœºæ™¯**ï¼šè®¾è®¡ä¸€ä¸ªç”¨æˆ·æ³¨å†Œå¯¹è¯æ¡†
```
ç»„ä»¶åŒ…æ‹¬ï¼š
- ç”¨æˆ·åè¾“å…¥æ¡†
- å¯†ç è¾“å…¥æ¡†  
- ç¡®è®¤å¯†ç è¾“å…¥æ¡†
- é‚®ç®±è¾“å…¥æ¡†
- æäº¤æŒ‰é’®
- é‡ç½®æŒ‰é’®
```

**æ²¡æœ‰ä¸­ä»‹è€…çš„æ··ä¹±**ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ¯ä¸ªç»„ä»¶éƒ½è¦çŸ¥é“å…¶ä»–ç»„ä»¶çš„çŠ¶æ€      â”‚
â”‚                                     â”‚
â”‚  ç”¨æˆ·åæ¡† â†â†’ å¯†ç æ¡† â†â†’ ç¡®è®¤æ¡†        â”‚
â”‚     â†•          â†•        â†•           â”‚
â”‚  é‚®ç®±æ¡†  â†â†’ æäº¤æŒ‰é’® â†â†’ é‡ç½®æŒ‰é’®     â”‚
â”‚                                     â”‚
â”‚  å¤æ‚çš„ç½‘çŠ¶ä¾èµ–å…³ç³»                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 ä¸­ä»‹è€…æ¨¡å¼è§£å†³æ–¹æ¡ˆ


**è®¾è®¡æ€è·¯**ï¼šåˆ›å»ºä¸€ä¸ªå¯¹è¯æ¡†ä¸­ä»‹è€…ï¼Œæ‰€æœ‰ç»„ä»¶çš„äº¤äº’éƒ½é€šè¿‡å®ƒ

```java
// å¯¹è¯æ¡†ä¸­ä»‹è€…
public class RegistrationDialogMediator {
    private JTextField usernameField;
    private JPasswordField passwordField;
    private JPasswordField confirmField;
    private JTextField emailField;
    private JButton submitButton;
    private JButton resetButton;
    
    // æ„é€ æ–¹æ³•ï¼šç»‘å®šæ‰€æœ‰ç»„ä»¶
    public RegistrationDialogMediator() {
        initializeComponents();
        setupEventHandlers();
    }
    
    // ç»Ÿä¸€å¤„ç†æ‰€æœ‰äº¤äº’é€»è¾‘
    public void handleEvent(String eventType, Object source) {
        switch (eventType) {
            case "TEXT_CHANGED":
                validateForm();
                break;
            case "SUBMIT_CLICKED":
                submitForm();
                break;
            case "RESET_CLICKED":
                resetForm();
                break;
        }
    }
    
    // è¡¨å•éªŒè¯é€»è¾‘é›†ä¸­å¤„ç†
    private void validateForm() {
        boolean isValid = true;
        
        // æ£€æŸ¥ç”¨æˆ·å
        if (usernameField.getText().length() < 3) {
            isValid = false;
        }
        
        // æ£€æŸ¥å¯†ç åŒ¹é…
        if (!passwordField.getText().equals(confirmField.getText())) {
            isValid = false;
        }
        
        // æ£€æŸ¥é‚®ç®±æ ¼å¼
        if (!isValidEmail(emailField.getText())) {
            isValid = false;
        }
        
        // æ§åˆ¶æäº¤æŒ‰é’®çŠ¶æ€
        submitButton.setEnabled(isValid);
    }
}
```

**ä¼˜åŠ¿ä½“ç°**ï¼š
- **ç»„ä»¶è§£è€¦**ï¼šå„ä¸ªè¾“å…¥æ¡†ä¸éœ€è¦çŸ¥é“æŒ‰é’®çš„å­˜åœ¨
- **é€»è¾‘é›†ä¸­**ï¼šæ‰€æœ‰éªŒè¯è§„åˆ™éƒ½åœ¨ä¸­ä»‹è€…ä¸­
- **æ˜“äºæ‰©å±•**ï¼šæ–°å¢ç»„ä»¶åªéœ€åœ¨ä¸­ä»‹è€…ä¸­æ·»åŠ å¤„ç†é€»è¾‘
- **ä¾¿äºæµ‹è¯•**ï¼šå¯ä»¥å•ç‹¬æµ‹è¯•ä¸­ä»‹è€…çš„é€»è¾‘

### 2.3 å®é™…å¼€å‘ä¸­çš„åº”ç”¨


**å¸¸è§GUIæ¡†æ¶ä¸­çš„ä¸­ä»‹è€…**ï¼š

| æ¡†æ¶ | ä¸­ä»‹è€…å®ç° | ä½œç”¨ |
|------|------------|------|
| **Android** | `Activity/Fragment` | ç®¡ç†Viewä¹‹é—´çš„äº¤äº’ |
| **iOS** | `ViewController` | åè°ƒUIç»„ä»¶çš„è¡Œä¸º |
| **Webå‰ç«¯** | `ç»„ä»¶å®¹å™¨` | å¤„ç†è¡¨å•ç»„ä»¶é—´çš„è”åŠ¨ |
| **æ¡Œé¢åº”ç”¨** | `å¯¹è¯æ¡†æ§åˆ¶å™¨` | ç»Ÿä¸€ç®¡ç†çª—å£ç»„ä»¶ |

> âš ï¸ **æ³¨æ„äº‹é¡¹**ï¼šä¸­ä»‹è€…ä¸è¦æ‰¿æ‹…å¤ªå¤šèŒè´£ï¼Œé¿å…å˜æˆ"ä¸Šå¸ç±»"

---

## 3. ğŸ—ï¸ MVCæ¶æ„æ§åˆ¶å™¨åº”ç”¨


### 3.1 MVCæ¨¡å¼ä¸­çš„ä¸­ä»‹è€…è§’è‰²


**MVCæ¶æ„è§£æ**ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    é€šçŸ¥å˜åŒ–    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  View   â”‚ â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚  Model  â”‚
â”‚ (è§†å›¾)   â”‚               â”‚ (æ¨¡å‹)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â†‘                         â†‘
     â”‚ ç”¨æˆ·æ“ä½œ              â”‚ æ›´æ–°æ•°æ®
     â†“                         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    è°ƒç”¨æ–¹æ³•    â”€â”€â”€â”€â”€â”˜
â”‚Controllerâ”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”‚ (æ§åˆ¶å™¨) â”‚  â† è¿™å°±æ˜¯ä¸­ä»‹è€…ï¼
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ§åˆ¶å™¨ä½œä¸ºä¸­ä»‹è€…çš„èŒè´£**ï¼š
- **æ¥æ”¶ç”¨æˆ·è¾“å…¥**ï¼šå¤„ç†æ¥è‡ªè§†å›¾çš„ç”¨æˆ·æ“ä½œ
- **è°ƒç”¨æ¨¡å‹æ–¹æ³•**ï¼šæ ¹æ®ç”¨æˆ·æ“ä½œæ›´æ–°æ•°æ®
- **æ›´æ–°è§†å›¾çŠ¶æ€**ï¼šå°†æ¨¡å‹å˜åŒ–åæ˜ åˆ°ç•Œé¢ä¸Š
- **åè°ƒäº¤äº’**ï¼šç®¡ç†Viewå’ŒModelä¹‹é—´çš„é€šä¿¡

### 3.2 Webåº”ç”¨ä¸­çš„æ§åˆ¶å™¨ä¸­ä»‹è€…


**å®é™…æ¡ˆä¾‹ï¼šç”¨æˆ·ç®¡ç†ç³»ç»Ÿ**

```java
// ç”¨æˆ·æ§åˆ¶å™¨ - å……å½“ä¸­ä»‹è€…è§’è‰²
@Controller
public class UserController {
    
    @Autowired
    private UserService userService;  // Modelå±‚æœåŠ¡
    
    // å¤„ç†ç”¨æˆ·åˆ—è¡¨é¡µé¢è¯·æ±‚
    @GetMapping("/users")
    public String listUsers(Model model) {
        // 1. ä»Modelè·å–æ•°æ®
        List<User> users = userService.getAllUsers();
        
        // 2. ä¼ é€’ç»™View
        model.addAttribute("users", users);
        
        // 3. è¿”å›è§†å›¾åç§°
        return "user-list";  // å¯¹åº”user-list.htmlæ¨¡æ¿
    }
    
    // å¤„ç†ç”¨æˆ·åˆ›å»ºè¯·æ±‚
    @PostMapping("/users")
    public String createUser(@RequestParam String name, 
                           @RequestParam String email) {
        // 1. å°è£…ç”¨æˆ·æ•°æ®
        User newUser = new User(name, email);
        
        // 2. è°ƒç”¨Modelå±‚ä¿å­˜
        userService.saveUser(newUser);
        
        // 3. é‡å®šå‘åˆ°åˆ—è¡¨é¡µé¢
        return "redirect:/users";
    }
}
```

**ä¸­ä»‹è€…çš„ä»·å€¼ä½“ç°**ï¼š
- **Viewå’ŒModelè§£è€¦**ï¼šè§†å›¾ä¸ç›´æ¥è°ƒç”¨æ¨¡å‹æ–¹æ³•
- **ä¸šåŠ¡é€»è¾‘é›†ä¸­**ï¼šæ‰€æœ‰ç”¨æˆ·ç›¸å…³çš„å¤„ç†é€»è¾‘éƒ½åœ¨æ§åˆ¶å™¨ä¸­
- **æ˜“äºç»´æŠ¤**ï¼šä¿®æ”¹ä¸šåŠ¡æµç¨‹åªéœ€æ”¹æ§åˆ¶å™¨
- **ä¾¿äºæµ‹è¯•**ï¼šå¯ä»¥ç‹¬ç«‹æµ‹è¯•æ§åˆ¶å™¨é€»è¾‘

### 3.3 å‰ç«¯æ¡†æ¶ä¸­çš„ä¸­ä»‹è€…åº”ç”¨


**React/Vueä¸­çš„çŠ¶æ€ç®¡ç†**ï¼š
```javascript
// Vue.js ä¸­çš„ç»„ä»¶ä½œä¸ºä¸­ä»‹è€…
export default {
  data() {
    return {
      userForm: { name: '', email: '' },
      userList: [],
      isLoading: false
    }
  },
  
  methods: {
    // ä¸­ä»‹è€…æ–¹æ³•ï¼šå¤„ç†è¡¨å•æäº¤
    async submitUser() {
      this.isLoading = true;
      
      try {
        // è°ƒç”¨APIï¼ˆModelå±‚ï¼‰
        await this.userAPI.create(this.userForm);
        
        // æ›´æ–°åˆ—è¡¨ï¼ˆViewçŠ¶æ€ï¼‰
        await this.loadUsers();
        
        // æ¸…ç©ºè¡¨å•
        this.resetForm();
      } finally {
        this.isLoading = false;
      }
    },
    
    // ä¸­ä»‹è€…æ–¹æ³•ï¼šåè°ƒåŠ è½½å’Œæ˜¾ç¤º
    async loadUsers() {
      const users = await this.userAPI.getAll();
      this.userList = users;
    }
  }
}
```

---

## 4. ğŸ’¬ èŠå¤©å®¤ç³»ç»Ÿåº”ç”¨


### 4.1 èŠå¤©å®¤çš„å¤æ‚äº¤äº’åœºæ™¯


**ä¼ ç»Ÿæ–¹å¼çš„é—®é¢˜**ï¼š
```
æ²¡æœ‰ä¸­ä»‹è€…çš„èŠå¤©å®¤ï¼š
ç”¨æˆ·A â†â†’ ç”¨æˆ·B
  â†• Ã—   â†•
ç”¨æˆ·C â†â†’ ç”¨æˆ·D

é—®é¢˜ï¼š
- æ¯ä¸ªç”¨æˆ·éƒ½è¦ç»´æŠ¤å…¶ä»–æ‰€æœ‰ç”¨æˆ·çš„è¿æ¥
- å¹¿æ’­æ¶ˆæ¯éœ€è¦æ¯ä¸ªç”¨æˆ·éƒ½å‘é€ç»™å…¶ä»–æ‰€æœ‰ç”¨æˆ·
- ç”¨æˆ·è¿›å…¥/ç¦»å¼€éœ€è¦é€šçŸ¥æ‰€æœ‰å…¶ä»–ç”¨æˆ·
- ä»£ç å¤æ‚ï¼Œéš¾ä»¥ç»´æŠ¤
```

### 4.2 èŠå¤©å®¤ä¸­ä»‹è€…è®¾è®¡


**è®¾è®¡æ€è·¯**ï¼šåˆ›å»ºèŠå¤©å®¤ä¸­ä»‹è€…ï¼Œæ‰€æœ‰ç”¨æˆ·åªä¸ä¸­ä»‹è€…é€šä¿¡

```java
// èŠå¤©å®¤ä¸­ä»‹è€…
public class ChatRoomMediator {
    private Map<String, ChatUser> users = new HashMap<>();
    private List<String> messageHistory = new ArrayList<>();
    
    // ç”¨æˆ·åŠ å…¥èŠå¤©å®¤
    public void addUser(ChatUser user) {
        users.put(user.getName(), user);
        
        // é€šçŸ¥å…¶ä»–ç”¨æˆ·æœ‰æ–°äººåŠ å…¥
        broadcastMessage("ç³»ç»Ÿ", user.getName() + " åŠ å…¥äº†èŠå¤©å®¤");
        
        // å‘é€å†å²æ¶ˆæ¯ç»™æ–°ç”¨æˆ·
        sendHistoryToUser(user);
    }
    
    // ç”¨æˆ·å‘é€æ¶ˆæ¯
    public void sendMessage(String fromUser, String message) {
        String formattedMessage = fromUser + ": " + message;
        
        // ä¿å­˜åˆ°å†å²è®°å½•
        messageHistory.add(formattedMessage);
        
        // å¹¿æ’­ç»™æ‰€æœ‰å…¶ä»–ç”¨æˆ·
        broadcastMessage(fromUser, message);
    }
    
    // å¹¿æ’­æ¶ˆæ¯ç»™æ‰€æœ‰ç”¨æˆ·
    private void broadcastMessage(String fromUser, String message) {
        for (ChatUser user : users.values()) {
            if (!user.getName().equals(fromUser)) {
                user.receiveMessage(fromUser + ": " + message);
            }
        }
    }
    
    // ç”¨æˆ·ç¦»å¼€èŠå¤©å®¤
    public void removeUser(String userName) {
        ChatUser user = users.remove(userName);
        if (user != null) {
            broadcastMessage("ç³»ç»Ÿ", userName + " ç¦»å¼€äº†èŠå¤©å®¤");
        }
    }
}

// èŠå¤©ç”¨æˆ·ç±»
public class ChatUser {
    private String name;
    private ChatRoomMediator mediator;
    
    public ChatUser(String name, ChatRoomMediator mediator) {
        this.name = name;
        this.mediator = mediator;
    }
    
    // å‘é€æ¶ˆæ¯ï¼ˆé€šè¿‡ä¸­ä»‹è€…ï¼‰
    public void sendMessage(String message) {
        mediator.sendMessage(this.name, message);
    }
    
    // æ¥æ”¶æ¶ˆæ¯
    public void receiveMessage(String message) {
        System.out.println("[" + name + " æ”¶åˆ°]: " + message);
    }
}
```

### 4.3 èŠå¤©å®¤ä¸­ä»‹è€…çš„ä¼˜åŠ¿


**æ¶æ„å¯¹æ¯”**ï¼š
```
æœ‰ä¸­ä»‹è€…çš„èŠå¤©å®¤ï¼š
     ç”¨æˆ·A
       â†“
èŠå¤©å®¤ä¸­ä»‹è€… â† ç”¨æˆ·B
       â†‘
     ç”¨æˆ·C

ä¼˜åŠ¿ï¼š
âœ… ç”¨æˆ·åªéœ€çŸ¥é“ä¸­ä»‹è€…ï¼Œä¸éœ€è¦çŸ¥é“å…¶ä»–ç”¨æˆ·
âœ… æ¶ˆæ¯å¹¿æ’­ç”±ä¸­ä»‹è€…ç»Ÿä¸€å¤„ç†
âœ… æ–°åŠŸèƒ½ï¼ˆå¦‚ç§èŠã€ç¾¤ç»„ï¼‰å®¹æ˜“æ·»åŠ 
âœ… ç”¨æˆ·è¿›å‡ºç®¡ç†ç®€å•
```

**å®é™…åº”ç”¨åœºæ™¯**ï¼š
- **åœ¨çº¿æ¸¸æˆ**ï¼šæ¸¸æˆæˆ¿é—´ç®¡ç†ç©å®¶äº¤äº’
- **è§†é¢‘ä¼šè®®**ï¼šä¼šè®®å®¤åè°ƒå‚ä¼šè€…éŸ³è§†é¢‘
- **åä½œå·¥å…·**ï¼šå›¢é˜Ÿåä½œå¹³å°çš„æ¶ˆæ¯åˆ†å‘
- **ç›´æ’­å¹³å°**ï¼šç›´æ’­é—´ç®¡ç†è§‚ä¼—äº’åŠ¨

---

## 5. âš™ï¸ å·¥ä½œæµå¼•æ“åº”ç”¨


### 5.1 å·¥ä½œæµçš„å¤æ‚åè°ƒéœ€æ±‚


**ä¸šåŠ¡åœºæ™¯ï¼šè¯·å‡å®¡æ‰¹æµç¨‹**
```
å‘˜å·¥ç”³è¯· â†’ ç›´æ¥ä¸»ç®¡ â†’ éƒ¨é—¨ç»ç† â†’ HRå®¡æ ¸ â†’ å®Œæˆ

ä¼ ç»Ÿæ–¹å¼çš„é—®é¢˜ï¼š
- æ¯ä¸ªç¯èŠ‚éƒ½è¦çŸ¥é“ä¸‹ä¸€ä¸ªç¯èŠ‚æ˜¯è°
- æµç¨‹å˜æ›´éœ€è¦ä¿®æ”¹å¤šä¸ªç¯èŠ‚çš„ä»£ç 
- éš¾ä»¥æ”¯æŒå¹¶è¡Œå®¡æ‰¹ã€è·³è·ƒå®¡æ‰¹ç­‰å¤æ‚åœºæ™¯
```

### 5.2 å·¥ä½œæµä¸­ä»‹è€…è®¾è®¡


**æ ¸å¿ƒæ€æƒ³**ï¼šå·¥ä½œæµå¼•æ“ä½œä¸ºä¸­ä»‹è€…ï¼Œåè°ƒå„ä¸ªå®¡æ‰¹èŠ‚ç‚¹

```java
// å·¥ä½œæµå¼•æ“ä¸­ä»‹è€…
public class WorkflowEngine {
    private Map<String, WorkflowNode> nodes = new HashMap<>();
    private Map<String, List<String>> flowRules = new HashMap<>();
    
    // æ³¨å†Œå·¥ä½œæµèŠ‚ç‚¹
    public void registerNode(String nodeId, WorkflowNode node) {
        nodes.put(nodeId, node);
        node.setMediator(this);  // è®¾ç½®ä¸­ä»‹è€…å¼•ç”¨
    }
    
    // å®šä¹‰æµç¨‹è§„åˆ™
    public void defineFlow(String fromNode, String toNode) {
        flowRules.computeIfAbsent(fromNode, k -> new ArrayList<>()).add(toNode);
    }
    
    // å¯åŠ¨å·¥ä½œæµ
    public void startWorkflow(String startNodeId, WorkflowData data) {
        WorkflowNode startNode = nodes.get(startNodeId);
        if (startNode != null) {
            startNode.process(data);
        }
    }
    
    // èŠ‚ç‚¹å®Œæˆå¤„ç†åçš„æµè½¬æ§åˆ¶
    public void nodeCompleted(String nodeId, WorkflowData data, boolean approved) {
        if (approved) {
            // æŸ¥æ‰¾ä¸‹ä¸€ä¸ªèŠ‚ç‚¹
            List<String> nextNodes = flowRules.get(nodeId);
            if (nextNodes != null) {
                for (String nextNodeId : nextNodes) {
                    WorkflowNode nextNode = nodes.get(nextNodeId);
                    nextNode.process(data);
                }
            } else {
                // æµç¨‹ç»“æŸ
                System.out.println("å·¥ä½œæµå®Œæˆï¼š" + data.getTitle());
            }
        } else {
            // æ‹’ç»ï¼Œæµç¨‹ç»“æŸ
            System.out.println("å·¥ä½œæµè¢«æ‹’ç»ï¼š" + data.getTitle());
        }
    }
}

// å·¥ä½œæµèŠ‚ç‚¹æŠ½è±¡ç±»
public abstract class WorkflowNode {
    protected WorkflowEngine mediator;
    protected String nodeId;
    
    public void setMediator(WorkflowEngine mediator) {
        this.mediator = mediator;
    }
    
    // å¤„ç†å·¥ä½œæµæ•°æ®
    public abstract void process(WorkflowData data);
    
    // å®Œæˆå¤„ç†ï¼Œé€šçŸ¥ä¸­ä»‹è€…
    protected void complete(WorkflowData data, boolean approved) {
        mediator.nodeCompleted(nodeId, data, approved);
    }
}

// å…·ä½“å®¡æ‰¹èŠ‚ç‚¹
public class ManagerApprovalNode extends WorkflowNode {
    public ManagerApprovalNode() {
        this.nodeId = "manager_approval";
    }
    
    @Override
    public void process(WorkflowData data) {
        System.out.println("ç»ç†å®¡æ‰¹ï¼š" + data.getTitle());
        
        // æ¨¡æ‹Ÿå®¡æ‰¹é€»è¾‘
        boolean approved = data.getDays() <= 5;  // 5å¤©å†…è‡ªåŠ¨é€šè¿‡
        
        complete(data, approved);
    }
}
```

### 5.3 å·¥ä½œæµä¸­ä»‹è€…çš„ä»·å€¼


**çµæ´»æ€§æå‡**ï¼š
- **åŠ¨æ€é…ç½®**ï¼šæµç¨‹è§„åˆ™å¯ä»¥åŠ¨æ€ä¿®æ”¹
- **èŠ‚ç‚¹å¤ç”¨**ï¼šåŒä¸€ä¸ªå®¡æ‰¹èŠ‚ç‚¹å¯ç”¨äºä¸åŒæµç¨‹
- **å¹¶è¡Œæ”¯æŒ**ï¼šä¸­ä»‹è€…å¯ä»¥åè°ƒå¹¶è¡Œå®¡æ‰¹
- **ç›‘æ§ç»Ÿè®¡**ï¼šä¸­ä»‹è€…å¯ä»¥æ”¶é›†æµç¨‹æ‰§è¡Œæ•°æ®

**å®é™…åº”ç”¨é¢†åŸŸ**ï¼š
```
ğŸ”¸ ä¼ä¸šOAç³»ç»Ÿï¼šå„ç±»å®¡æ‰¹æµç¨‹
ğŸ”¸ ç”µå•†å¹³å°ï¼šè®¢å•å¤„ç†æµç¨‹
ğŸ”¸ é“¶è¡Œç³»ç»Ÿï¼šè´·æ¬¾å®¡æ‰¹æµç¨‹
ğŸ”¸ åˆ¶é€ ä¸šï¼šç”Ÿäº§å·¥è‰ºæµç¨‹
ğŸ”¸ å†…å®¹ç®¡ç†ï¼šæ–‡ç« å‘å¸ƒå®¡æ ¸æµç¨‹
```

---

## 6. ğŸ”— ç³»ç»Ÿé›†æˆä¸­é—´ä»¶åº”ç”¨


### 6.1 ä¼ä¸šç³»ç»Ÿé›†æˆæŒ‘æˆ˜


**å…¸å‹ä¼ä¸šITç¯å¢ƒ**ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  CRM    â”‚  â”‚  ERP    â”‚  â”‚  OA     â”‚
â”‚ ç³»ç»Ÿ    â”‚  â”‚ ç³»ç»Ÿ    â”‚  â”‚ ç³»ç»Ÿ    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚            â”‚            â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è´¢åŠ¡    â”‚  â”‚ åº“å­˜    â”‚  â”‚ äººäº‹    â”‚
â”‚ ç³»ç»Ÿ    â”‚  â”‚ ç³»ç»Ÿ    â”‚  â”‚ ç³»ç»Ÿ    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

é—®é¢˜ï¼šç³»ç»Ÿé—´éœ€è¦æ•°æ®äº¤æ¢ï¼Œä½†æ¥å£å„ä¸ç›¸åŒ
```

### 6.2 ä¼ä¸šæœåŠ¡æ€»çº¿ï¼ˆESBï¼‰ä¸­ä»‹è€…


**ESBä½œä¸ºç³»ç»Ÿé›†æˆä¸­ä»‹è€…**ï¼š

```java
// ä¼ä¸šæœåŠ¡æ€»çº¿ä¸­ä»‹è€…
public class EnterpriseServiceBus {
    private Map<String, SystemAdapter> systemAdapters = new HashMap<>();
    private Map<String, MessageTransformer> transformers = new HashMap<>();
    private MessageQueue messageQueue = new MessageQueue();
    
    // æ³¨å†Œç³»ç»Ÿé€‚é…å™¨
    public void registerSystem(String systemId, SystemAdapter adapter) {
        systemAdapters.put(systemId, adapter);
    }
    
    // ç³»ç»Ÿé—´æ¶ˆæ¯è·¯ç”±
    public void routeMessage(String fromSystem, String toSystem, Message message) {
        try {
            // 1. æ¶ˆæ¯æ ¼å¼è½¬æ¢
            Message transformedMessage = transformMessage(message, fromSystem, toSystem);
            
            // 2. å¼‚æ­¥å‘é€ï¼ˆè§£è€¦æ—¶é—´ä¾èµ–ï¼‰
            messageQueue.enqueue(new RoutedMessage(toSystem, transformedMessage));
            
            // 3. è®°å½•æ—¥å¿—
            logMessage(fromSystem, toSystem, message);
            
        } catch (Exception e) {
            handleError(fromSystem, toSystem, message, e);
        }
    }
    
    // æ¶ˆæ¯æ ¼å¼è½¬æ¢
    private Message transformMessage(Message message, String fromSystem, String toSystem) {
        String transformerKey = fromSystem + "_to_" + toSystem;
        MessageTransformer transformer = transformers.get(transformerKey);
        
        if (transformer != null) {
            return transformer.transform(message);
        }
        
        return message;  // æ— éœ€è½¬æ¢
    }
    
    // å¤„ç†æ¶ˆæ¯é˜Ÿåˆ—ä¸­çš„æ¶ˆæ¯
    public void processMessages() {
        while (!messageQueue.isEmpty()) {
            RoutedMessage routedMessage = messageQueue.dequeue();
            
            SystemAdapter targetAdapter = systemAdapters.get(routedMessage.getTargetSystem());
            if (targetAdapter != null) {
                targetAdapter.handleMessage(routedMessage.getMessage());
            }
        }
    }
}

// ç³»ç»Ÿé€‚é…å™¨æ¥å£
public interface SystemAdapter {
    void handleMessage(Message message);
    void sendMessage(String targetSystem, Message message);
}

// CRMç³»ç»Ÿé€‚é…å™¨ç¤ºä¾‹
public class CRMSystemAdapter implements SystemAdapter {
    private EnterpriseServiceBus esb;
    
    @Override
    public void handleMessage(Message message) {
        if ("CUSTOMER_CREATED".equals(message.getType())) {
            // å¤„ç†æ–°å®¢æˆ·åˆ›å»ºæ¶ˆæ¯
            Customer customer = (Customer) message.getData();
            saveToCRM(customer);
            
            // é€šçŸ¥å…¶ä»–ç³»ç»Ÿ
            Message erpMessage = createERPMessage(customer);
            esb.routeMessage("CRM", "ERP", erpMessage);
        }
    }
    
    @Override
    public void sendMessage(String targetSystem, Message message) {
        esb.routeMessage("CRM", targetSystem, message);
    }
}
```

### 6.3 ä¸­é—´ä»¶ä¸­ä»‹è€…çš„æ ¸å¿ƒä»·å€¼


**è§£å†³çš„å…³é”®é—®é¢˜**ï¼š

| é—®é¢˜ | ä¸­ä»‹è€…è§£å†³æ–¹æ¡ˆ | æ•ˆæœ |
|------|---------------|------|
| **æ¥å£ä¸ç»Ÿä¸€** | æä¾›ç»Ÿä¸€çš„æ¶ˆæ¯æ ¼å¼ | ç³»ç»Ÿé—´æ— éœ€äº†è§£å½¼æ­¤æ¥å£ |
| **æ—¶é—´è€¦åˆ** | å¼‚æ­¥æ¶ˆæ¯é˜Ÿåˆ— | ç³»ç»Ÿå¯ä»¥åœ¨ä¸åŒæ—¶é—´å¤„ç†æ¶ˆæ¯ |
| **æ ¼å¼è½¬æ¢** | å†…ç½®æ¶ˆæ¯è½¬æ¢å™¨ | è‡ªåŠ¨å¤„ç†æ•°æ®æ ¼å¼å·®å¼‚ |
| **é”™è¯¯å¤„ç†** | é›†ä¸­å¼‚å¸¸å¤„ç† | ç»Ÿä¸€çš„é‡è¯•å’Œé”™è¯¯æ¢å¤æœºåˆ¶ |
| **ç›‘æ§å®¡è®¡** | é›†ä¸­æ—¥å¿—è®°å½• | å®Œæ•´çš„æ¶ˆæ¯æµè½¬è®°å½• |

**å®é™…äº§å“ä¸¾ä¾‹**ï¼š
- **Apache Camel**ï¼šå¼€æºé›†æˆæ¡†æ¶
- **MuleSoft**ï¼šä¼ä¸šçº§é›†æˆå¹³å°
- **IBM WebSphere ESB**ï¼šIBMçš„ä¼ä¸šæœåŠ¡æ€»çº¿
- **Spring Integration**ï¼šSpringç”Ÿæ€çš„é›†æˆæ¡†æ¶

> ğŸ’¡ **å…³é”®ç†è§£**ï¼šä¸­é—´ä»¶ä¸­ä»‹è€…è®©åŸæœ¬å¤æ‚çš„NÃ—Nç³»ç»Ÿé›†æˆå˜æˆäº†ç®€å•çš„NÃ—1é›†æˆ

---

## 7. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 7.1 ä¸­ä»‹è€…æ¨¡å¼åº”ç”¨çš„å…±åŒç‰¹å¾


**æ ¸å¿ƒä½œç”¨æœºåˆ¶**ï¼š
```
ğŸ”¸ é›†ä¸­åè°ƒï¼šæ‰€æœ‰äº¤äº’éƒ½é€šè¿‡ä¸­ä»‹è€…è¿›è¡Œ
ğŸ”¸ è§£è€¦å…³ç³»ï¼šå¯¹è±¡é—´ä¸ç›´æ¥ä¾èµ–ï¼Œåªä¾èµ–ä¸­ä»‹è€…
ğŸ”¸ ç®€åŒ–é€šä¿¡ï¼šå¤æ‚çš„å¤šå¯¹å¤šå…³ç³»å˜æˆç®€å•çš„ä¸€å¯¹å¤š
ğŸ”¸ ç»Ÿä¸€ç®¡ç†ï¼šäº¤äº’é€»è¾‘é›†ä¸­åœ¨ä¸­ä»‹è€…ä¸­ï¼Œä¾¿äºç»´æŠ¤
```

### 7.2 äº”å¤§åº”ç”¨é¢†åŸŸå¯¹æ¯”


| åº”ç”¨é¢†åŸŸ | **ä¸­ä»‹è€…å®ä½“** | **åè°ƒå¯¹è±¡** | **ä¸»è¦ä»·å€¼** |
|---------|---------------|-------------|-------------|
| **GUIæ§åˆ¶** | `å¯¹è¯æ¡†æ§åˆ¶å™¨` | `UIç»„ä»¶` | `ç»„ä»¶è§£è€¦ï¼Œäº¤äº’é›†ä¸­` |
| **MVCæ¶æ„** | `Controlleræ§åˆ¶å™¨` | `Modelå’ŒView` | `ä¸šåŠ¡é€»è¾‘é›†ä¸­ï¼Œæ¶æ„æ¸…æ™°` |
| **èŠå¤©ç³»ç»Ÿ** | `èŠå¤©å®¤ç®¡ç†å™¨` | `ç”¨æˆ·å¯¹è±¡` | `æ¶ˆæ¯è·¯ç”±ï¼Œç”¨æˆ·ç®¡ç†` |
| **å·¥ä½œæµç¨‹** | `å·¥ä½œæµå¼•æ“` | `æµç¨‹èŠ‚ç‚¹` | `æµç¨‹æ§åˆ¶ï¼Œè§„åˆ™é›†ä¸­` |
| **ç³»ç»Ÿé›†æˆ** | `ä¼ä¸šæœåŠ¡æ€»çº¿` | `å„ä¸šåŠ¡ç³»ç»Ÿ` | `ç³»ç»Ÿè§£è€¦ï¼Œæ•°æ®è½¬æ¢` |

### 7.3 è®¾è®¡è¦ç‚¹ä¸æ³¨æ„äº‹é¡¹


**âœ… æ­£ç¡®ä½¿ç”¨åœºæ™¯**ï¼š
- å¤šä¸ªå¯¹è±¡é—´å­˜åœ¨å¤æ‚çš„äº¤äº’å…³ç³»
- å¯¹è±¡é—´çš„äº¤äº’é€»è¾‘ç»å¸¸å˜åŒ–
- å¸Œæœ›æé«˜å¯¹è±¡çš„å¯å¤ç”¨æ€§
- éœ€è¦ç»Ÿä¸€ç®¡ç†åä½œè¿‡ç¨‹

**âš ï¸ é¿å…çš„é™·é˜±**ï¼š
- **ä¸­ä»‹è€…è¿‡äºå¤æ‚**ï¼šä¸è¦è®©ä¸­ä»‹è€…æ‰¿æ‹…å¤ªå¤šèŒè´£
- **æ€§èƒ½è€ƒè™‘**ï¼šä¸­ä»‹è€…å¯èƒ½æˆä¸ºæ€§èƒ½ç“¶é¢ˆ
- **è¿‡åº¦ä½¿ç”¨**ï¼šç®€å•çš„å¯¹è±¡å…³ç³»ä¸éœ€è¦ä¸­ä»‹è€…
- **èŒè´£ä¸æ¸…**ï¼šä¸­ä»‹è€…åº”è¯¥åªç®¡åè°ƒï¼Œä¸å¤„ç†ä¸šåŠ¡é€»è¾‘

### 7.4 å®é™…å¼€å‘æŒ‡å¯¼


**é€‰æ‹©æ ‡å‡†**ï¼š
```java
// åˆ¤æ–­æ˜¯å¦éœ€è¦ä¸­ä»‹è€…çš„æ£€æŸ¥æ¸…å•
boolean needMediator = 
    (objectCount >= 3) &&                    // å¯¹è±¡æ•°é‡
    (interactionComplexity >= MEDIUM) &&     // äº¤äº’å¤æ‚åº¦
    (changeFrequency >= REGULAR) &&          // å˜åŒ–é¢‘ç‡
    (reusabilityRequirement == HIGH);        // å¤ç”¨è¦æ±‚
```

**å®ç°å»ºè®®**ï¼š
1. **æ˜ç¡®èŒè´£è¾¹ç•Œ**ï¼šä¸­ä»‹è€…åªè´Ÿè´£åè°ƒï¼Œä¸å¤„ç†å…·ä½“ä¸šåŠ¡
2. **æ¥å£è®¾è®¡**ï¼šå®šä¹‰æ¸…æ™°çš„æ¶ˆæ¯ä¼ é€’æ¥å£
3. **å¼‚å¸¸å¤„ç†**ï¼šè€ƒè™‘ä¸­ä»‹è€…æ•…éšœçš„å¤„ç†æœºåˆ¶
4. **æ€§èƒ½ä¼˜åŒ–**ï¼šé¿å…ä¸­ä»‹è€…æˆä¸ºç³»ç»Ÿç“¶é¢ˆ
5. **æ–‡æ¡£è®°å½•**ï¼šè¯¦ç»†è®°å½•åè°ƒè§„åˆ™å’Œæ¶ˆæ¯æ ¼å¼

### 7.5 å­¦ä¹ å»ºè®®


**æ¸è¿›å¼å­¦ä¹ è·¯å¾„**ï¼š
1. **ç†è§£æ¦‚å¿µ**ï¼šä»ç°å®ç”Ÿæ´»çš„ä¸­ä»‹ä¾‹å­å¼€å§‹ç†è§£
2. **ç®€å•åº”ç”¨**ï¼šä»GUIå¯¹è¯æ¡†æ§åˆ¶å¼€å§‹å®è·µ
3. **æ¶æ„ç†è§£**ï¼šå­¦ä¹ MVCä¸­æ§åˆ¶å™¨çš„ä¸­ä»‹è€…è§’è‰²
4. **å¤æ‚åœºæ™¯**ï¼šæŒæ¡å·¥ä½œæµå’Œç³»ç»Ÿé›†æˆçš„åº”ç”¨
5. **è®¾è®¡åŸåˆ™**ï¼šæ€»ç»“ä¸­ä»‹è€…æ¨¡å¼çš„è®¾è®¡è¦ç‚¹

> ğŸ§  **è®°å¿†è¦ç‚¹**ï¼šä¸­ä»‹è€…æ¨¡å¼çš„æ ¸å¿ƒæ˜¯"ç»Ÿä¸€åè°ƒï¼Œç®€åŒ–å…³ç³»"ï¼Œå®ƒè®©å¤æ‚çš„ç½‘çŠ¶å…³ç³»å˜æˆç®€å•çš„æ˜Ÿå½¢ç»“æ„ï¼Œå°±åƒç°å®ä¸­çš„è°ƒåº¦ä¸­å¿ƒä¸€æ ·ã€‚

**ä¸‹ä¸€æ­¥å­¦ä¹ **ï¼š
- [ ] ç†è§£ä¸­ä»‹è€…ä¸è§‚å¯Ÿè€…æ¨¡å¼çš„åŒºåˆ«
- [ ] å­¦ä¹ ä¸­ä»‹è€…åœ¨å¾®æœåŠ¡æ¶æ„ä¸­çš„åº”ç”¨
- [ ] å®è·µè®¾è®¡ä¸€ä¸ªç®€å•çš„èŠå¤©å®¤ç³»ç»Ÿ
- [ ] æ·±å…¥äº†è§£ä¼ä¸šé›†æˆæ¨¡å¼