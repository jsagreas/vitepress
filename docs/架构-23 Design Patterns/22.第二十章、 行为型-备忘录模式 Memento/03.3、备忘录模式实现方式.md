---
title: 3ã€å¤‡å¿˜å½•æ¨¡å¼å®ç°æ–¹å¼
---
## ğŸ“š ç›®å½•

1. [å¤‡å¿˜å½•æ¨¡å¼å®ç°æ¦‚è¿°](#1-å¤‡å¿˜å½•æ¨¡å¼å®ç°æ¦‚è¿°)
2. [ç™½ç®±å¤‡å¿˜å½•å®ç°](#2-ç™½ç®±å¤‡å¿˜å½•å®ç°)
3. [é»‘ç®±å¤‡å¿˜å½•å®ç°](#3-é»‘ç®±å¤‡å¿˜å½•å®ç°)
4. [å¤šé‡æ£€æŸ¥ç‚¹å®ç°](#4-å¤šé‡æ£€æŸ¥ç‚¹å®ç°)
5. [å¢é‡å¤‡å¿˜å½•å®ç°](#5-å¢é‡å¤‡å¿˜å½•å®ç°)
6. [å‹ç¼©å¤‡å¿˜å½•å®ç°](#6-å‹ç¼©å¤‡å¿˜å½•å®ç°)
7. [å®ç°æ–¹å¼å¯¹æ¯”ä¸é€‰æ‹©](#7-å®ç°æ–¹å¼å¯¹æ¯”ä¸é€‰æ‹©)
8. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#8-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ¯ å¤‡å¿˜å½•æ¨¡å¼å®ç°æ¦‚è¿°


### 1.1 ä»€ä¹ˆæ˜¯å¤‡å¿˜å½•æ¨¡å¼çš„ä¸åŒå®ç°æ–¹å¼


**ç®€å•ç†è§£**ï¼šå°±åƒæˆ‘ä»¬ä¿å­˜æ¸¸æˆå­˜æ¡£ä¸€æ ·ï¼Œå¯ä»¥æœ‰ä¸åŒçš„ä¿å­˜æ–¹æ³•

```
æ¸¸æˆå­˜æ¡£çš„ä¸åŒæ–¹å¼ï¼š

å…¨é‡å­˜æ¡£ï¼ˆç™½ç®±ï¼‰ï¼š
æŠŠæ¸¸æˆçš„æ‰€æœ‰çŠ¶æ€éƒ½ä¿å­˜ä¸‹æ¥
â†’ ä¼˜ç‚¹ï¼šæ¢å¤å®Œæ•´ï¼Œå®ç°ç®€å•
â†’ ç¼ºç‚¹ï¼šå ç”¨ç©ºé—´å¤§

åŠ å¯†å­˜æ¡£ï¼ˆé»‘ç®±ï¼‰ï¼š
æŠŠå­˜æ¡£å†…å®¹åŠ å¯†ä¿æŠ¤
â†’ ä¼˜ç‚¹ï¼šæ•°æ®å®‰å…¨ï¼Œä¸èƒ½éšæ„ä¿®æ”¹
â†’ ç¼ºç‚¹ï¼šå®ç°å¤æ‚

å¤šä¸ªå­˜æ¡£æ§½ï¼ˆå¤šé‡æ£€æŸ¥ç‚¹ï¼‰ï¼š
å¯ä»¥ä¿å­˜å¤šä¸ªä¸åŒæ—¶é—´ç‚¹çš„å­˜æ¡£
â†’ ä¼˜ç‚¹ï¼šå¯ä»¥å›åˆ°ä»»æ„æ—¶é—´ç‚¹
â†’ ç¼ºç‚¹ï¼šç®¡ç†å¤æ‚

å·®å¼‚å­˜æ¡£ï¼ˆå¢é‡ï¼‰ï¼š
åªä¿å­˜å’Œä¸Šæ¬¡çš„å·®å¼‚
â†’ ä¼˜ç‚¹ï¼šèŠ‚çœç©ºé—´
â†’ ç¼ºç‚¹ï¼šæ¢å¤éœ€è¦è®¡ç®—

å‹ç¼©å­˜æ¡£ï¼ˆå‹ç¼©ï¼‰ï¼š
æŠŠå­˜æ¡£æ–‡ä»¶å‹ç¼©
â†’ ä¼˜ç‚¹ï¼šç©ºé—´æœ€å°
â†’ ç¼ºç‚¹ï¼šæ—¶é—´å¼€é”€
```

### 1.2 å®ç°æ–¹å¼åˆ†ç±»


**æŒ‰è®¿é—®æ§åˆ¶åˆ†ç±»**ï¼š
- **ç™½ç®±å¤‡å¿˜å½•**ï¼šçŠ¶æ€å®Œå…¨å…¬å¼€ï¼Œä»»ä½•äººéƒ½èƒ½è®¿é—®
- **é»‘ç®±å¤‡å¿˜å½•**ï¼šçŠ¶æ€è¢«å°è£…ä¿æŠ¤ï¼Œåªæœ‰ç‰¹å®šå¯¹è±¡èƒ½è®¿é—®

**æŒ‰ä¿å­˜ç­–ç•¥åˆ†ç±»**ï¼š
- **å•ä¸€å¤‡å¿˜å½•**ï¼šåªä¿å­˜ä¸€ä¸ªçŠ¶æ€å¿«ç…§
- **å¤šé‡æ£€æŸ¥ç‚¹**ï¼šä¿å­˜å¤šä¸ªæ—¶é—´ç‚¹çš„çŠ¶æ€
- **å¢é‡å¤‡å¿˜å½•**ï¼šåªä¿å­˜çŠ¶æ€çš„å˜åŒ–éƒ¨åˆ†
- **å‹ç¼©å¤‡å¿˜å½•**ï¼šå¯¹ä¿å­˜çš„çŠ¶æ€è¿›è¡Œå‹ç¼©

---

## 2. ğŸ“– ç™½ç®±å¤‡å¿˜å½•å®ç°


### 2.1 ç™½ç®±å¤‡å¿˜å½•çš„æ ¸å¿ƒæ¦‚å¿µ


**ä»€ä¹ˆæ˜¯ç™½ç®±å¤‡å¿˜å½•**ï¼š
> ğŸ’¡ **ç®€å•è¯´**ï¼šå°±æ˜¯æŠŠå¯¹è±¡çš„çŠ¶æ€å®Œå…¨å…¬å¼€åœ°ä¿å­˜èµ·æ¥ï¼Œå°±åƒæŠŠæ‰€æœ‰æ•°æ®éƒ½å†™åœ¨çº¸ä¸Šï¼Œä»»ä½•äººéƒ½èƒ½çœ‹åˆ°å’Œä¿®æ”¹

**ç‰¹ç‚¹**ï¼š
- âœ… **å®ç°ç®€å•**ï¼šç›´æ¥ä¿å­˜æ‰€æœ‰çŠ¶æ€å±æ€§
- âœ… **è®¿é—®æ–¹ä¾¿**ï¼šå¯ä»¥éšæ—¶æŸ¥çœ‹å’Œä¿®æ”¹ä¿å­˜çš„çŠ¶æ€
- âŒ **å°è£…æ€§å·®**ï¼šè¿èƒŒäº†é¢å‘å¯¹è±¡çš„å°è£…åŸåˆ™
- âŒ **å®‰å…¨æ€§ä½**ï¼šçŠ¶æ€å¯èƒ½è¢«æ„å¤–ä¿®æ”¹

### 2.2 ç™½ç®±å¤‡å¿˜å½•å®ç°ç¤ºä¾‹


**ğŸ“ æ–‡æœ¬ç¼–è¾‘å™¨çš„ç™½ç®±å¤‡å¿˜å½•**ï¼š

```java
// æ–‡æœ¬ç¼–è¾‘å™¨ï¼ˆå‘èµ·äººï¼‰
class TextEditor {
    private String content;
    private int cursorPosition;
    private String fontStyle;
    
    public TextEditor(String content) {
        this.content = content;
        this.cursorPosition = 0;
        this.fontStyle = "Arial";
    }
    
    // åˆ›å»ºå¤‡å¿˜å½•ï¼ˆç™½ç®±æ–¹å¼ï¼‰
    public TextMemento createMemento() {
        return new TextMemento(content, cursorPosition, fontStyle);
    }
    
    // æ¢å¤çŠ¶æ€
    public void restore(TextMemento memento) {
        this.content = memento.content;
        this.cursorPosition = memento.cursorPosition;
        this.fontStyle = memento.fontStyle;
    }
    
    // æ—¥å¸¸æ“ä½œ
    public void write(String text) {
        content += text;
        cursorPosition += text.length();
    }
    
    public void changeFont(String font) {
        this.fontStyle = font;
    }
    
    @Override
    public String toString() {
        return String.format("å†…å®¹: %s, å…‰æ ‡: %d, å­—ä½“: %s", 
                           content, cursorPosition, fontStyle);
    }
}

// ç™½ç®±å¤‡å¿˜å½•ï¼ˆæ‰€æœ‰å±æ€§éƒ½æ˜¯å…¬å¼€çš„ï¼‰
class TextMemento {
    public final String content;        // å…¬å¼€å±æ€§
    public final int cursorPosition;    // å…¬å¼€å±æ€§
    public final String fontStyle;     // å…¬å¼€å±æ€§
    
    public TextMemento(String content, int cursorPosition, String fontStyle) {
        this.content = content;
        this.cursorPosition = cursorPosition;
        this.fontStyle = fontStyle;
    }
}

// ç®¡ç†è€…
class EditorHistory {
    private TextMemento savedState;
    
    public void save(TextMemento memento) {
        this.savedState = memento;
        System.out.println("âœ… å·²ä¿å­˜ç¼–è¾‘å™¨çŠ¶æ€");
    }
    
    public TextMemento restore() {
        System.out.println("ğŸ”„ æ­£åœ¨æ¢å¤ç¼–è¾‘å™¨çŠ¶æ€");
        return savedState;
    }
}
```

**ä½¿ç”¨ç¤ºä¾‹**ï¼š
```java
public class WhiteBoxExample {
    public static void main(String[] args) {
        TextEditor editor = new TextEditor("Hello");
        EditorHistory history = new EditorHistory();
        
        System.out.println("åˆå§‹çŠ¶æ€: " + editor);
        
        // ä¿å­˜å½“å‰çŠ¶æ€
        history.save(editor.createMemento());
        
        // è¿›è¡Œä¸€äº›æ“ä½œ
        editor.write(" World!");
        editor.changeFont("Times New Roman");
        System.out.println("ä¿®æ”¹å: " + editor);
        
        // æ¢å¤åˆ°ä¹‹å‰çš„çŠ¶æ€
        editor.restore(history.restore());
        System.out.println("æ¢å¤å: " + editor);
        
        // ç™½ç®±çš„é—®é¢˜ï¼šå¯ä»¥ç›´æ¥ä¿®æ”¹å¤‡å¿˜å½•
        TextMemento memento = editor.createMemento();
        // è¿™æ ·æ˜¯ä¸å®‰å…¨çš„ï¼Œä½†ç™½ç®±å…è®¸è¿™ä¹ˆåš
        System.out.println("å¯ä»¥ç›´æ¥è®¿é—®: " + memento.content);
    }
}
```

### 2.3 ç™½ç®±å¤‡å¿˜å½•çš„ä¼˜ç¼ºç‚¹


**âœ… ä¼˜ç‚¹**ï¼š
- **å®ç°ç®€å•**ï¼šä¸éœ€è¦å¤æ‚çš„å°è£…æœºåˆ¶
- **æ€§èƒ½è¾ƒå¥½**ï¼šç›´æ¥è®¿é—®ï¼Œæ²¡æœ‰é¢å¤–å¼€é”€
- **è°ƒè¯•æ–¹ä¾¿**ï¼šå¯ä»¥ç›´æ¥æŸ¥çœ‹ä¿å­˜çš„çŠ¶æ€

**âŒ ç¼ºç‚¹**ï¼š
- **ç ´åå°è£…**ï¼šè¿èƒŒäº†é¢å‘å¯¹è±¡çš„å°è£…åŸåˆ™
- **ä¸å¤Ÿå®‰å…¨**ï¼šçŠ¶æ€å¯èƒ½è¢«æ„å¤–ä¿®æ”¹
- **è€¦åˆåº¦é«˜**ï¼šå¤‡å¿˜å½•å’Œå‘èµ·äººç´§å¯†è€¦åˆ

---

## 3. ğŸ”’ é»‘ç®±å¤‡å¿˜å½•å®ç°


### 3.1 é»‘ç®±å¤‡å¿˜å½•çš„æ ¸å¿ƒæ¦‚å¿µ


**ä»€ä¹ˆæ˜¯é»‘ç®±å¤‡å¿˜å½•**ï¼š
> ğŸ’¡ **ç®€å•è¯´**ï¼šå°±åƒé“¶è¡Œä¿é™©ç®±ä¸€æ ·ï¼Œåªæœ‰æ‹¥æœ‰é’¥åŒ™çš„äººæ‰èƒ½æ‰“å¼€ï¼Œå¤–äººæ— æ³•çœ‹åˆ°é‡Œé¢çš„å†…å®¹

**æ ¸å¿ƒç‰¹ç‚¹**ï¼š
- ğŸ” **å°è£…æ€§å¥½**ï¼šçŠ¶æ€è¢«å®Œå…¨éšè—ä¿æŠ¤
- ğŸ›¡ï¸ **å®‰å…¨æ€§é«˜**ï¼šåªæœ‰å‘èµ·äººæ‰èƒ½è®¿é—®çŠ¶æ€
- ğŸ¯ **ç¬¦åˆåŸåˆ™**ï¼šéµå¾ªé¢å‘å¯¹è±¡å°è£…åŸåˆ™
- ğŸ”§ **å®ç°å¤æ‚**ï¼šéœ€è¦é¢å¤–çš„å°è£…æœºåˆ¶

### 3.2 é»‘ç®±å¤‡å¿˜å½•å®ç°åŸç†


**å°è£…æœºåˆ¶å›¾ç¤º**ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           å‘èµ·äºº(Originator)        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  - state: String                    â”‚
â”‚  + createMemento(): Memento         â”‚
â”‚  + restore(memento: Memento)        â”‚
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚     å†…éƒ¨å¤‡å¿˜å½•ç±»                 â”‚â”‚
â”‚  â”‚  (åªæœ‰å‘èµ·äººèƒ½è®¿é—®)              â”‚â”‚
â”‚  â”‚  - state: String                â”‚â”‚
â”‚  â”‚  + getState(): String           â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.3 é»‘ç®±å¤‡å¿˜å½•å®ç°ç¤ºä¾‹


```java
// æ¸¸æˆè§’è‰²ï¼ˆå‘èµ·äººï¼‰
class GameCharacter {
    private String name;
    private int level;
    private int health;
    private int mana;
    private List<String> inventory;
    
    public GameCharacter(String name) {
        this.name = name;
        this.level = 1;
        this.health = 100;
        this.mana = 50;
        this.inventory = new ArrayList<>();
    }
    
    // åˆ›å»ºé»‘ç®±å¤‡å¿˜å½•
    public Memento createMemento() {
        return new CharacterMemento();
    }
    
    // ä»å¤‡å¿˜å½•æ¢å¤çŠ¶æ€
    public void restore(Memento memento) {
        if (memento instanceof CharacterMemento) {
            CharacterMemento cm = (CharacterMemento) memento;
            this.level = cm.getLevel();
            this.health = cm.getHealth();
            this.mana = cm.getMana();
            this.inventory = new ArrayList<>(cm.getInventory());
        }
    }
    
    // æ¸¸æˆæ“ä½œ
    public void levelUp() {
        level++;
        health += 20;
        mana += 10;
        System.out.println(name + " å‡çº§äº†! ç­‰çº§: " + level);
    }
    
    public void addItem(String item) {
        inventory.add(item);
        System.out.println("è·å¾—ç‰©å“: " + item);
    }
    
    public void takeDamage(int damage) {
        health -= damage;
        System.out.println("å—åˆ°ä¼¤å®³: " + damage + ", å‰©ä½™è¡€é‡: " + health);
    }
    
    @Override
    public String toString() {
        return String.format("%s - ç­‰çº§:%d, è¡€é‡:%d, æ³•åŠ›:%d, ç‰©å“:%s", 
                           name, level, health, mana, inventory);
    }
    
    // é»‘ç®±å¤‡å¿˜å½•æ¥å£ï¼ˆå¤–éƒ¨åªèƒ½çœ‹åˆ°è¿™ä¸ªæ¥å£ï¼‰
    public interface Memento {
        // ç©ºæ¥å£ï¼Œå¤–éƒ¨æ— æ³•è®¿é—®ä»»ä½•çŠ¶æ€
    }
    
    // å†…éƒ¨å¤‡å¿˜å½•å®ç°ï¼ˆç§æœ‰ç±»ï¼Œå¤–éƒ¨æ— æ³•è®¿é—®ï¼‰
    private class CharacterMemento implements Memento {
        private final int level;
        private final int health;
        private final int mana;
        private final List<String> inventory;
        
        public CharacterMemento() {
            // ä¿å­˜å¤–éƒ¨ç±»çš„çŠ¶æ€
            this.level = GameCharacter.this.level;
            this.health = GameCharacter.this.health;
            this.mana = GameCharacter.this.mana;
            this.inventory = new ArrayList<>(GameCharacter.this.inventory);
        }
        
        // åªæœ‰å‘èµ·äººèƒ½è°ƒç”¨è¿™äº›æ–¹æ³•
        private int getLevel() { return level; }
        private int getHealth() { return health; }
        private int getMana() { return mana; }
        private List<String> getInventory() { return inventory; }
    }
}

// æ¸¸æˆå­˜æ¡£ç®¡ç†å™¨
class SaveGameManager {
    private GameCharacter.Memento savedGame;
    
    public void saveGame(GameCharacter.Memento memento) {
        this.savedGame = memento;
        System.out.println("ğŸ® æ¸¸æˆå·²ä¿å­˜");
    }
    
    public GameCharacter.Memento loadGame() {
        if (savedGame != null) {
            System.out.println("ğŸ“ æ­£åœ¨åŠ è½½æ¸¸æˆå­˜æ¡£...");
            return savedGame;
        }
        System.out.println("âŒ æ²¡æœ‰æ‰¾åˆ°å­˜æ¡£æ–‡ä»¶");
        return null;
    }
}
```

**ä½¿ç”¨ç¤ºä¾‹**ï¼š
```java
public class BlackBoxExample {
    public static void main(String[] args) {
        GameCharacter player = new GameCharacter("å‹‡è€…å°æ˜");
        SaveGameManager saveManager = new SaveGameManager();
        
        System.out.println("æ¸¸æˆå¼€å§‹: " + player);
        
        // è¿›è¡Œä¸€äº›æ¸¸æˆæ“ä½œ
        player.addItem("é“å‰‘");
        player.levelUp();
        player.addItem("ç”Ÿå‘½è¯æ°´");
        System.out.println("æ¸¸æˆè¿›è¡Œä¸­: " + player);
        
        // ä¿å­˜æ¸¸æˆï¼ˆåˆ›å»ºé»‘ç®±å¤‡å¿˜å½•ï¼‰
        GameCharacter.Memento savePoint = player.createMemento();
        saveManager.saveGame(savePoint);
        
        // ç»§ç»­æ¸¸æˆï¼Œé‡åˆ°å±é™©
        player.takeDamage(80);
        player.takeDamage(30);
        System.out.println("é‡åˆ°å±é™©: " + player);
        
        // åŠ è½½å­˜æ¡£æ¢å¤çŠ¶æ€
        GameCharacter.Memento loadedGame = saveManager.loadGame();
        if (loadedGame != null) {
            player.restore(loadedGame);
            System.out.println("æ¢å¤å­˜æ¡£: " + player);
        }
        
        // é»‘ç®±çš„å®‰å…¨æ€§ï¼šå¤–éƒ¨æ— æ³•ç›´æ¥è®¿é—®å¤‡å¿˜å½•å†…å®¹
        // savePoint.getLevel(); // ç¼–è¯‘é”™è¯¯ï¼å¤–éƒ¨æ— æ³•è®¿é—®
        System.out.println("âœ… çŠ¶æ€è¢«å®‰å…¨ä¿æŠ¤ï¼Œå¤–éƒ¨æ— æ³•ç›´æ¥è®¿é—®");
    }
}
```

### 3.4 é»‘ç®±å¤‡å¿˜å½•çš„å…³é”®æŠ€æœ¯


**â‘ â‘¡ å†…éƒ¨ç±»æœºåˆ¶**ï¼š
```java
class Originator {
    private String state;
    
    // å…¬å…±æ¥å£ï¼ˆé»‘ç®±ï¼‰
    public interface Memento {}
    
    // ç§æœ‰å®ç°ï¼ˆåªæœ‰å‘èµ·äººèƒ½è®¿é—®ï¼‰
    private class ConcreteMemento implements Memento {
        private String savedState;
        
        public ConcreteMemento() {
            this.savedState = Originator.this.state; // è®¿é—®å¤–éƒ¨ç±»çŠ¶æ€
        }
        
        public String getState() {
            return savedState;
        }
    }
}
```

**â‘¢â‘£ æ¥å£éš”ç¦»åŸç†**ï¼š
- ğŸ”¸ å¤–éƒ¨åªèƒ½çœ‹åˆ° `Memento` æ¥å£
- ğŸ”¸ æ— æ³•è®¿é—®å…·ä½“çš„çŠ¶æ€æ•°æ®
- ğŸ”¸ åªæœ‰å‘èµ·äººçŸ¥é“çœŸå®çš„å®ç°ç±»

---

## 4. ğŸ“Š å¤šé‡æ£€æŸ¥ç‚¹å®ç°


### 4.1 å¤šé‡æ£€æŸ¥ç‚¹çš„æ ¸å¿ƒæ¦‚å¿µ


**ä»€ä¹ˆæ˜¯å¤šé‡æ£€æŸ¥ç‚¹**ï¼š
> ğŸ’¡ **ç®€å•è¯´**ï¼šå°±åƒæ¸¸æˆä¸­çš„å¤šä¸ªå­˜æ¡£æ§½ï¼Œå¯ä»¥åœ¨ä¸åŒæ—¶é—´ç‚¹ä¿å­˜çŠ¶æ€ï¼Œéœ€è¦æ—¶å¯ä»¥å›åˆ°ä»»æ„ä¸€ä¸ªæ—¶é—´ç‚¹

**ç”Ÿæ´»ä¸­çš„ä¾‹å­**ï¼š
```
Gitç‰ˆæœ¬æ§åˆ¶ï¼š
commit 1: åˆå§‹ç‰ˆæœ¬
commit 2: æ·»åŠ ç™»å½•åŠŸèƒ½  
commit 3: ä¿®å¤bug
commit 4: æ·»åŠ æ”¯ä»˜åŠŸèƒ½

å¯ä»¥å›åˆ°ä»»æ„ä¸€ä¸ªcommitæ—¶é—´ç‚¹
```

### 4.2 å¤šé‡æ£€æŸ¥ç‚¹è®¾è®¡æ€è·¯


**æ—¶é—´è½´ç¤ºæ„å›¾**ï¼š
```
æ—¶é—´ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’
     â†“         â†“         â†“         â†“
   å­˜æ¡£1     å­˜æ¡£2     å­˜æ¡£3     å½“å‰çŠ¶æ€
  (å¼€å§‹)   (å‡çº§å)  (è·å¾—è£…å¤‡)  (é‡åˆ°boss)
     â†‘         â†‘         â†‘         â†‘
   å¯æ¢å¤   å¯æ¢å¤   å¯æ¢å¤     æ­£åœ¨è¿›è¡Œ
```

### 4.3 å¤šé‡æ£€æŸ¥ç‚¹å®ç°ç¤ºä¾‹


```java
// å¤šé‡æ£€æŸ¥ç‚¹ç®¡ç†å™¨
class MultiCheckpointManager {
    private Map<String, GameCharacter.Memento> checkpoints;
    private List<String> checkpointHistory; // ä¿å­˜æ£€æŸ¥ç‚¹çš„æ—¶é—´é¡ºåº
    
    public MultiCheckpointManager() {
        this.checkpoints = new HashMap<>();
        this.checkpointHistory = new ArrayList<>();
    }
    
    // åˆ›å»ºå‘½åæ£€æŸ¥ç‚¹
    public void createCheckpoint(String checkpointName, GameCharacter.Memento memento) {
        checkpoints.put(checkpointName, memento);
        checkpointHistory.add(checkpointName);
        System.out.println("ğŸ“‹ åˆ›å»ºæ£€æŸ¥ç‚¹: " + checkpointName);
    }
    
    // æ¢å¤åˆ°æŒ‡å®šæ£€æŸ¥ç‚¹
    public GameCharacter.Memento restoreCheckpoint(String checkpointName) {
        GameCharacter.Memento memento = checkpoints.get(checkpointName);
        if (memento != null) {
            System.out.println("ğŸ”„ æ¢å¤åˆ°æ£€æŸ¥ç‚¹: " + checkpointName);
            return memento;
        } else {
            System.out.println("âŒ æ£€æŸ¥ç‚¹ä¸å­˜åœ¨: " + checkpointName);
            return null;
        }
    }
    
    // æ˜¾ç¤ºæ‰€æœ‰æ£€æŸ¥ç‚¹
    public void listCheckpoints() {
        System.out.println("ğŸ“‹ å¯ç”¨æ£€æŸ¥ç‚¹:");
        for (int i = 0; i < checkpointHistory.size(); i++) {
            String name = checkpointHistory.get(i);
            System.out.println("  " + (i + 1) + ". " + name);
        }
    }
    
    // åˆ é™¤æ£€æŸ¥ç‚¹
    public void removeCheckpoint(String checkpointName) {
        if (checkpoints.remove(checkpointName) != null) {
            checkpointHistory.remove(checkpointName);
            System.out.println("ğŸ—‘ï¸ åˆ é™¤æ£€æŸ¥ç‚¹: " + checkpointName);
        }
    }
    
    // å›åˆ°ä¸Šä¸€ä¸ªæ£€æŸ¥ç‚¹
    public GameCharacter.Memento restorePrevious() {
        if (!checkpointHistory.isEmpty()) {
            String lastCheckpoint = checkpointHistory.get(checkpointHistory.size() - 1);
            return restoreCheckpoint(lastCheckpoint);
        }
        return null;
    }
}

// å¸¦æ—¶é—´æˆ³çš„æ£€æŸ¥ç‚¹ç®¡ç†å™¨
class TimestampCheckpointManager extends MultiCheckpointManager {
    
    // è‡ªåŠ¨åˆ›å»ºå¸¦æ—¶é—´æˆ³çš„æ£€æŸ¥ç‚¹
    public void autoSave(GameCharacter.Memento memento) {
        String timestamp = java.time.LocalDateTime.now()
                          .format(java.time.format.DateTimeFormatter.ofPattern("yyyy-MM-dd HH:mm:ss"));
        String checkpointName = "è‡ªåŠ¨å­˜æ¡£_" + timestamp;
        createCheckpoint(checkpointName, memento);
    }
    
    // åˆ›å»ºå…³é”®äº‹ä»¶æ£€æŸ¥ç‚¹
    public void saveKeyEvent(String eventName, GameCharacter.Memento memento) {
        String timestamp = java.time.LocalDateTime.now()
                          .format(java.time.format.DateTimeFormatter.ofPattern("HH:mm:ss"));
        String checkpointName = eventName + "_" + timestamp;
        createCheckpoint(checkpointName, memento);
    }
}
```

**ä½¿ç”¨ç¤ºä¾‹**ï¼š
```java
public class MultiCheckpointExample {
    public static void main(String[] args) {
        GameCharacter player = new GameCharacter("å†’é™©è€…");
        TimestampCheckpointManager manager = new TimestampCheckpointManager();
        
        System.out.println("=== æ¸¸æˆå¼€å§‹ ===");
        System.out.println(player);
        
        // æ£€æŸ¥ç‚¹1ï¼šæ¸¸æˆå¼€å§‹
        manager.createCheckpoint("æ¸¸æˆå¼€å§‹", player.createMemento());
        
        // å‡çº§å¹¶åˆ›å»ºæ£€æŸ¥ç‚¹
        player.levelUp();
        player.addItem("æ–°æ‰‹å‰‘");
        manager.saveKeyEvent("é¦–æ¬¡å‡çº§", player.createMemento());
        
        // ç»§ç»­æ¸¸æˆ
        player.levelUp();
        player.addItem("é­”æ³•ç›¾");
        player.addItem("ç”Ÿå‘½è¯æ°´");
        manager.saveKeyEvent("è·å¾—è£…å¤‡", player.createMemento());
        
        // é‡åˆ°å±é™©
        player.takeDamage(150); // è¡€é‡ä¸è¶³
        System.out.println("\n=== å½“å‰çŠ¶æ€å±é™© ===");
        System.out.println(player);
        
        // æŸ¥çœ‹æ‰€æœ‰æ£€æŸ¥ç‚¹
        System.out.println("\n=== å¯ç”¨æ£€æŸ¥ç‚¹ ===");
        manager.listCheckpoints();
        
        // æ¢å¤åˆ°å®‰å…¨çš„æ£€æŸ¥ç‚¹
        System.out.println("\n=== æ¢å¤åˆ°å®‰å…¨çŠ¶æ€ ===");
        GameCharacter.Memento safePoint = manager.restoreCheckpoint("è·å¾—è£…å¤‡_" + 
            java.time.LocalDateTime.now().format(
                java.time.format.DateTimeFormatter.ofPattern("HH:mm:ss")));
        
        if (safePoint != null) {
            player.restore(safePoint);
            System.out.println("æ¢å¤åçŠ¶æ€: " + player);
        }
        
        // ä¹Ÿå¯ä»¥å›åˆ°æ¸¸æˆå¼€å§‹
        System.out.println("\n=== é‡æ–°å¼€å§‹æ¸¸æˆ ===");
        GameCharacter.Memento startPoint = manager.restoreCheckpoint("æ¸¸æˆå¼€å§‹");
        if (startPoint != null) {
            player.restore(startPoint);
            System.out.println("é‡æ–°å¼€å§‹: " + player);
        }
    }
}
```

### 4.4 å¤šé‡æ£€æŸ¥ç‚¹çš„ä¼˜åŒ–ç­–ç•¥


**ğŸ’¾ å­˜å‚¨ä¼˜åŒ–**ï¼š
- **é™åˆ¶æ•°é‡**ï¼šæœ€å¤šä¿å­˜Nä¸ªæ£€æŸ¥ç‚¹ï¼Œè¶…å‡ºæ—¶åˆ é™¤æœ€è€çš„
- **é‡è¦æ€§åˆ†çº§**ï¼šå…³é”®æ£€æŸ¥ç‚¹æ°¸ä¹…ä¿å­˜ï¼Œæ™®é€šæ£€æŸ¥ç‚¹å®šæœŸæ¸…ç†
- **å­˜å‚¨å‹ç¼©**ï¼šå¯¹æ£€æŸ¥ç‚¹æ•°æ®è¿›è¡Œå‹ç¼©å­˜å‚¨

**âš¡ æ€§èƒ½ä¼˜åŒ–**ï¼š
- **å»¶è¿Ÿåˆ›å»º**ï¼šåªåœ¨çœŸæ­£éœ€è¦æ—¶æ‰åˆ›å»ºæ£€æŸ¥ç‚¹
- **å¢é‡ä¿å­˜**ï¼šåªä¿å­˜ä¸ä¸Šæ¬¡çš„å·®å¼‚
- **åå°å¤„ç†**ï¼šå¼‚æ­¥åˆ›å»ºæ£€æŸ¥ç‚¹ï¼Œä¸é˜»å¡ä¸»æµç¨‹

---

## 5. ğŸ“ˆ å¢é‡å¤‡å¿˜å½•å®ç°


### 5.1 å¢é‡å¤‡å¿˜å½•çš„æ ¸å¿ƒæ¦‚å¿µ


**ä»€ä¹ˆæ˜¯å¢é‡å¤‡å¿˜å½•**ï¼š
> ğŸ’¡ **ç®€å•è¯´**ï¼šåªä¿å­˜å’Œä¸Šä¸€æ¬¡ç›¸æ¯”å‘ç”Ÿå˜åŒ–çš„éƒ¨åˆ†ï¼Œå°±åƒåªè®°å½•"å˜æ›´æ—¥å¿—"è€Œä¸æ˜¯"å®Œæ•´å¿«ç…§"

**ç±»æ¯”ç†è§£**ï¼š
```
ä¼ ç»Ÿå¤‡å¿˜å½•ï¼ˆå…¨é‡ï¼‰ï¼š
æ¯æ¬¡ä¿å­˜ â†’ å®Œæ•´ç…§ç‰‡
å­˜æ¡£1: [å®Œæ•´æ¸¸æˆçŠ¶æ€A]
å­˜æ¡£2: [å®Œæ•´æ¸¸æˆçŠ¶æ€B] 
å­˜æ¡£3: [å®Œæ•´æ¸¸æˆçŠ¶æ€C]

å¢é‡å¤‡å¿˜å½•ï¼š
ç¬¬ä¸€æ¬¡ â†’ å®Œæ•´ç…§ç‰‡
åç»­ â†’ åªä¿å­˜å·®å¼‚
å­˜æ¡£1: [å®Œæ•´æ¸¸æˆçŠ¶æ€A]
å­˜æ¡£2: [ä»Aåˆ°Bçš„å˜åŒ–]
å­˜æ¡£3: [ä»Båˆ°Cçš„å˜åŒ–]
```

### 5.2 å¢é‡å¤‡å¿˜å½•è®¾è®¡åŸç†


**å˜åŒ–è¿½è¸ªæœºåˆ¶**ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            å¯¹è±¡çŠ¶æ€                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  å±æ€§1: å€¼A â†’ å€¼A' (å˜åŒ–)           â”‚
â”‚  å±æ€§2: å€¼B â†’ å€¼B  (æ— å˜åŒ–)         â”‚  
â”‚  å±æ€§3: å€¼C â†’ å€¼C' (å˜åŒ–)           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â†“ åªä¿å­˜å˜åŒ–çš„éƒ¨åˆ†
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           å¢é‡å¤‡å¿˜å½•                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  å˜åŒ–è®°å½•:                          â”‚
â”‚  - å±æ€§1: A â†’ A'                    â”‚
â”‚  - å±æ€§3: C â†’ C'                    â”‚
â”‚  (å±æ€§2æ— å˜åŒ–ï¼Œä¸è®°å½•)               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.3 å¢é‡å¤‡å¿˜å½•å®ç°ç¤ºä¾‹


```java
// å±æ€§å˜åŒ–è®°å½•
class PropertyChange {
    private String propertyName;
    private Object oldValue;
    private Object newValue;
    
    public PropertyChange(String propertyName, Object oldValue, Object newValue) {
        this.propertyName = propertyName;
        this.oldValue = oldValue;
        this.newValue = newValue;
    }
    
    // åº”ç”¨å˜åŒ–
    public void applyChange(Object target) throws Exception {
        Field field = target.getClass().getDeclaredField(propertyName);
        field.setAccessible(true);
        field.set(target, newValue);
    }
    
    // æ’¤é”€å˜åŒ–
    public void undoChange(Object target) throws Exception {
        Field field = target.getClass().getDeclaredField(propertyName);
        field.setAccessible(true);
        field.set(target, oldValue);
    }
    
    @Override
    public String toString() {
        return String.format("%s: %s â†’ %s", propertyName, oldValue, newValue);
    }
}

// å¢é‡å¤‡å¿˜å½•
class IncrementalMemento {
    private List<PropertyChange> changes;
    private long timestamp;
    
    public IncrementalMemento() {
        this.changes = new ArrayList<>();
        this.timestamp = System.currentTimeMillis();
    }
    
    public void addChange(PropertyChange change) {
        changes.add(change);
    }
    
    public List<PropertyChange> getChanges() {
        return new ArrayList<>(changes);
    }
    
    public long getTimestamp() {
        return timestamp;
    }
    
    public boolean isEmpty() {
        return changes.isEmpty();
    }
    
    @Override
    public String toString() {
        StringBuilder sb = new StringBuilder();
        sb.append("å¢é‡å˜åŒ– (").append(changes.size()).append("é¡¹):\n");
        for (PropertyChange change : changes) {
            sb.append("  - ").append(change).append("\n");
        }
        return sb.toString();
    }
}

// æ”¯æŒå¢é‡å¤‡å¿˜å½•çš„æ¸¸æˆè§’è‰²
class IncrementalGameCharacter {
    private String name;
    private int level;
    private int health;
    private int mana;
    private List<String> inventory;
    
    // ç”¨äºè¿½è¸ªå˜åŒ–çš„å¿«ç…§
    private IncrementalGameCharacter lastSnapshot;
    
    public IncrementalGameCharacter(String name) {
        this.name = name;
        this.level = 1;
        this.health = 100;
        this.mana = 50;
        this.inventory = new ArrayList<>();
        updateSnapshot();
    }
    
    // æ›´æ–°å¿«ç…§ï¼ˆç”¨äºåç»­æ¯”è¾ƒï¼‰
    private void updateSnapshot() {
        lastSnapshot = new IncrementalGameCharacter();
        lastSnapshot.name = this.name;
        lastSnapshot.level = this.level;
        lastSnapshot.health = this.health;
        lastSnapshot.mana = this.mana;
        lastSnapshot.inventory = new ArrayList<>(this.inventory);
    }
    
    // ç§æœ‰æ„é€ å‡½æ•°ï¼Œç”¨äºåˆ›å»ºå¿«ç…§
    private IncrementalGameCharacter() {}
    
    // åˆ›å»ºå¢é‡å¤‡å¿˜å½•
    public IncrementalMemento createIncrementalMemento() {
        IncrementalMemento memento = new IncrementalMemento();
        
        // æ£€æŸ¥å„ä¸ªå±æ€§çš„å˜åŒ–
        if (!Objects.equals(this.level, lastSnapshot.level)) {
            memento.addChange(new PropertyChange("level", lastSnapshot.level, this.level));
        }
        
        if (!Objects.equals(this.health, lastSnapshot.health)) {
            memento.addChange(new PropertyChange("health", lastSnapshot.health, this.health));
        }
        
        if (!Objects.equals(this.mana, lastSnapshot.mana)) {
            memento.addChange(new PropertyChange("mana", lastSnapshot.mana, this.mana));
        }
        
        if (!this.inventory.equals(lastSnapshot.inventory)) {
            memento.addChange(new PropertyChange("inventory", 
                new ArrayList<>(lastSnapshot.inventory), 
                new ArrayList<>(this.inventory)));
        }
        
        // æ›´æ–°å¿«ç…§
        updateSnapshot();
        
        return memento;
    }
    
    // åº”ç”¨å¢é‡å˜åŒ–
    public void applyIncrementalMemento(IncrementalMemento memento) {
        try {
            for (PropertyChange change : memento.getChanges()) {
                change.applyChange(this);
            }
            updateSnapshot();
            System.out.println("âœ… åº”ç”¨äº† " + memento.getChanges().size() + " é¡¹å˜åŒ–");
        } catch (Exception e) {
            System.err.println("âŒ åº”ç”¨å¢é‡å¤‡å¿˜å½•å¤±è´¥: " + e.getMessage());
        }
    }
    
    // æ¸¸æˆæ“ä½œ
    public void levelUp() {
        level++;
        health += 20;
        mana += 10;
        System.out.println(name + " å‡çº§äº†! ç­‰çº§: " + level);
    }
    
    public void addItem(String item) {
        inventory.add(item);
        System.out.println("è·å¾—ç‰©å“: " + item);
    }
    
    public void takeDamage(int damage) {
        health -= damage;
        System.out.println("å—åˆ°ä¼¤å®³: " + damage + ", å‰©ä½™è¡€é‡: " + health);
    }
    
    @Override
    public String toString() {
        return String.format("%s - ç­‰çº§:%d, è¡€é‡:%d, æ³•åŠ›:%d, ç‰©å“:%s", 
                           name, level, health, mana, inventory);
    }
}

// å¢é‡å¤‡å¿˜å½•ç®¡ç†å™¨
class IncrementalMementoManager {
    private List<IncrementalMemento> mementoChain;
    
    public IncrementalMementoManager() {
        this.mementoChain = new ArrayList<>();
    }
    
    public void saveIncrement(IncrementalMemento memento) {
        if (!memento.isEmpty()) {
            mementoChain.add(memento);
            System.out.println("ğŸ’¾ ä¿å­˜å¢é‡å¤‡å¿˜å½• #" + mementoChain.size());
            System.out.println(memento);
        } else {
            System.out.println("â­ï¸ æ²¡æœ‰å˜åŒ–ï¼Œè·³è¿‡ä¿å­˜");
        }
    }
    
    public void showHistory() {
        System.out.println("ğŸ“‹ å˜åŒ–å†å²:");
        for (int i = 0; i < mementoChain.size(); i++) {
            System.out.println("å˜åŒ– #" + (i + 1) + ":");
            System.out.println(mementoChain.get(i));
        }
    }
    
    public long getTotalSize() {
        return mementoChain.stream()
                          .mapToLong(m -> m.getChanges().size())
                          .sum();
    }
}
```

**ä½¿ç”¨ç¤ºä¾‹**ï¼š
```java
public class IncrementalMementoExample {
    public static void main(String[] args) {
        IncrementalGameCharacter player = new IncrementalGameCharacter("æ³•å¸ˆå°ç‹");
        IncrementalMementoManager manager = new IncrementalMementoManager();
        
        System.out.println("=== æ¸¸æˆå¼€å§‹ ===");
        System.out.println(player);
        
        // ç¬¬ä¸€æ¬¡æ“ä½œï¼šå‡çº§
        System.out.println("\n=== ç¬¬ä¸€æ¬¡æ“ä½œï¼šå‡çº§ ===");
        player.levelUp();
        IncrementalMemento memento1 = player.createIncrementalMemento();
        manager.saveIncrement(memento1);
        
        // ç¬¬äºŒæ¬¡æ“ä½œï¼šè·å¾—ç‰©å“
        System.out.println("\n=== ç¬¬äºŒæ¬¡æ“ä½œï¼šè·å¾—ç‰©å“ ===");
        player.addItem("é­”æ³•æ£’");
        player.addItem("æ³•å¸ˆå¸½");
        IncrementalMemento memento2 = player.createIncrementalMemento();
        manager.saveIncrement(memento2);
        
        // ç¬¬ä¸‰æ¬¡æ“ä½œï¼šå—ä¼¤
        System.out.println("\n=== ç¬¬ä¸‰æ¬¡æ“ä½œï¼šå—ä¼¤ ===");
        player.takeDamage(30);
        IncrementalMemento memento3 = player.createIncrementalMemento();
        manager.saveIncrement(memento3);
        
        // ç¬¬å››æ¬¡æ“ä½œï¼šæ²¡æœ‰å˜åŒ–
        System.out.println("\n=== ç¬¬å››æ¬¡æ“ä½œï¼šæ²¡æœ‰å˜åŒ– ===");
        IncrementalMemento memento4 = player.createIncrementalMemento();
        manager.saveIncrement(memento4);
        
        // æ˜¾ç¤ºå˜åŒ–å†å²
        System.out.println("\n=== å˜åŒ–å†å² ===");
        manager.showHistory();
        
        System.out.println("æ€»å˜åŒ–è®°å½•æ•°: " + manager.getTotalSize());
        System.out.println("å½“å‰çŠ¶æ€: " + player);
    }
}
```

### 5.4 å¢é‡å¤‡å¿˜å½•çš„ä¼˜ç¼ºç‚¹


**âœ… ä¼˜ç‚¹**ï¼š
- **èŠ‚çœç©ºé—´**ï¼šåªå­˜å‚¨å˜åŒ–éƒ¨åˆ†ï¼Œç©ºé—´æ•ˆç‡é«˜
- **å˜åŒ–è¿½è¸ª**ï¼šæ¸…æ¥šè®°å½•æ¯æ¬¡å˜åŒ–ï¼Œä¾¿äºå®¡è®¡
- **å¢é‡æ¢å¤**ï¼šå¯ä»¥é€æ­¥åº”ç”¨æˆ–æ’¤é”€å˜åŒ–

**âŒ ç¼ºç‚¹**ï¼š
- **å®ç°å¤æ‚**ï¼šéœ€è¦æ¯”è¾ƒé€»è¾‘å’Œå˜åŒ–è¿½è¸ª
- **æ¢å¤æ…¢**ï¼šéœ€è¦åº”ç”¨æ‰€æœ‰å¢é‡æ‰èƒ½æ¢å¤å®Œæ•´çŠ¶æ€
- **ä¾èµ–æ€§å¼º**ï¼šå¢é‡ä¹‹é—´æœ‰ä¾èµ–å…³ç³»ï¼Œä¸èƒ½å•ç‹¬ä½¿ç”¨

---

## 6. ğŸ—œï¸ å‹ç¼©å¤‡å¿˜å½•å®ç°


### 6.1 å‹ç¼©å¤‡å¿˜å½•çš„æ ¸å¿ƒæ¦‚å¿µ


**ä»€ä¹ˆæ˜¯å‹ç¼©å¤‡å¿˜å½•**ï¼š
> ğŸ’¡ **ç®€å•è¯´**ï¼šæŠŠè¦ä¿å­˜çš„çŠ¶æ€æ•°æ®è¿›è¡Œå‹ç¼©å­˜å‚¨ï¼Œå°±åƒæŠŠæ–‡ä»¶æ‰“åŒ…æˆZIPä¸€æ ·ï¼ŒèŠ‚çœå­˜å‚¨ç©ºé—´ä½†éœ€è¦é¢å¤–çš„å‹ç¼©/è§£å‹æ—¶é—´

**å‹ç¼©æ•ˆæœå¯¹æ¯”**ï¼š
```
åŸå§‹çŠ¶æ€æ•°æ®ï¼š1000KB
â”‚
â”œâ”€ æ— å‹ç¼©å¤‡å¿˜å½•ï¼š1000KB
â”‚
â”œâ”€ ç®€å•å‹ç¼©ï¼š600KB (40%å‹ç¼©ç‡)
â”‚
â”œâ”€ é«˜æ•ˆå‹ç¼©ï¼š300KB (70%å‹ç¼©ç‡)
â”‚
â””â”€ å®šåˆ¶å‹ç¼©ï¼š150KB (85%å‹ç¼©ç‡)
```

### 6.2 å‹ç¼©ç­–ç•¥é€‰æ‹©


**â‘ â‘¡ é€šç”¨å‹ç¼©ç®—æ³•**ï¼š
- **GZIP**ï¼šå¹³è¡¡å‹ç¼©ç‡å’Œé€Ÿåº¦
- **LZ4**ï¼šå‹ç¼©é€Ÿåº¦å¿«ï¼Œé€‚åˆå®æ—¶åœºæ™¯
- **Brotli**ï¼šå‹ç¼©ç‡é«˜ï¼Œé€‚åˆå­˜å‚¨åœºæ™¯

**â‘¢â‘£ å®šåˆ¶å‹ç¼©ç­–ç•¥**ï¼š
- **å­—å…¸å‹ç¼©**ï¼šé’ˆå¯¹é‡å¤å­—ç¬¦ä¸²
- **å·®å¼‚å‹ç¼©**ï¼šé’ˆå¯¹ç›¸ä¼¼æ•°æ®
- **åˆ†å±‚å‹ç¼©**ï¼šä¸åŒæ•°æ®ç”¨ä¸åŒç®—æ³•

### 6.3 å‹ç¼©å¤‡å¿˜å½•å®ç°ç¤ºä¾‹


```java
import java.io.*;
import java.util.zip.*;

// å‹ç¼©å·¥å…·ç±»
class CompressionUtil {
    
    // GZIPå‹ç¼©
    public static byte[] gzipCompress(String data) throws IOException {
        ByteArrayOutputStream baos = new ByteArrayOutputStream();
        try (GZIPOutputStream gzipOut = new GZIPOutputStream(baos)) {
            gzipOut.write(data.getBytes("UTF-8"));
        }
        return baos.toByteArray();
    }
    
    // GZIPè§£å‹
    public static String gzipDecompress(byte[] compressed) throws IOException {
        ByteArrayInputStream bais = new ByteArrayInputStream(compressed);
        try (GZIPInputStream gzipIn = new GZIPInputStream(bais);
             ByteArrayOutputStream baos = new ByteArrayOutputStream()) {
            
            byte[] buffer = new byte[1024];
            int len;
            while ((len = gzipIn.read(buffer)) != -1) {
                baos.write(buffer, 0, len);
            }
            return baos.toString("UTF-8");
        }
    }
    
    // è®¡ç®—å‹ç¼©ç‡
    public static double compressionRatio(int originalSize, int compressedSize) {
        return (1.0 - (double) compressedSize / originalSize) * 100;
    }
}

// å‹ç¼©å¤‡å¿˜å½•
class CompressedMemento {
    private byte[] compressedData;
    private int originalSize;
    private String compressionType;
    private long timestamp;
    
    public CompressedMemento(String originalData, String compressionType) throws IOException {
        this.originalSize = originalData.getBytes("UTF-8").length;
        this.compressionType = compressionType;
        this.timestamp = System.currentTimeMillis();
        
        switch (compressionType.toLowerCase()) {
            case "gzip":
                this.compressedData = CompressionUtil.gzipCompress(originalData);
                break;
            default:
                throw new IllegalArgumentException("ä¸æ”¯æŒçš„å‹ç¼©ç±»å‹: " + compressionType);
        }
    }
    
    public String decompress() throws IOException {
        switch (compressionType.toLowerCase()) {
            case "gzip":
                return CompressionUtil.gzipDecompress(compressedData);
            default:
                throw new IllegalArgumentException("ä¸æ”¯æŒçš„å‹ç¼©ç±»å‹: " + compressionType);
        }
    }
    
    public int getCompressedSize() {
        return compressedData.length;
    }
    
    public int getOriginalSize() {
        return originalSize;
    }
    
    public double getCompressionRatio() {
        return CompressionUtil.compressionRatio(originalSize, compressedData.length);
    }
    
    public String getCompressionInfo() {
        return String.format("%s: %d â†’ %d bytes (%.1f%% å‹ç¼©ç‡)", 
                           compressionType, originalSize, compressedData.length, 
                           getCompressionRatio());
    }
}

// æ”¯æŒå‹ç¼©çš„æ¸¸æˆä¸–ç•Œ
class GameWorld {
    private String worldName;
    private Map<String, String> terrainData;
    private List<String> playerActions;
    private Map<String, Object> gameSettings;
    
    public GameWorld(String worldName) {
        this.worldName = worldName;
        this.terrainData = new HashMap<>();
        this.playerActions = new ArrayList<>();
        this.gameSettings = new HashMap<>();
        initializeWorld();
    }
    
    private void initializeWorld() {
        // æ¨¡æ‹Ÿå¤§é‡åœ°å½¢æ•°æ®
        for (int i = 0; i < 100; i++) {
            for (int j = 0; j < 100; j++) {
                String key = "tile_" + i + "_" + j;
                String value = "grass_texture_detailed_" + (i * j % 10) + "_with_flowers";
                terrainData.put(key, value);
            }
        }
        
        // åˆå§‹è®¾ç½®
        gameSettings.put("difficulty", "normal");
        gameSettings.put("music_volume", 0.8);
        gameSettings.put("graphics_quality", "high");
    }
    
    // æ·»åŠ ç©å®¶è¡ŒåŠ¨
    public void addPlayerAction(String action) {
        playerActions.add(System.currentTimeMillis() + ": " + action);
        System.out.println("ğŸ® ç©å®¶è¡ŒåŠ¨: " + action);
    }
    
    // ä¿®æ”¹åœ°å½¢
    public void modifyTerrain(String location, String newTerrain) {
        terrainData.put(location, newTerrain);
        System.out.println("ğŸ—ºï¸ åœ°å½¢å˜åŒ–: " + location + " â†’ " + newTerrain);
    }
    
    // åºåˆ—åŒ–ä¸ºå­—ç¬¦ä¸²
    public String serialize() {
        StringBuilder sb = new StringBuilder();
        sb.append("WORLD:").append(worldName).append("\n");
        
        sb.append("TERRAIN:\n");
        for (Map.Entry<String, String> entry : terrainData.entrySet()) {
            sb.append(entry.getKey()).append("=").append(entry.getValue()).append("\n");
        }
        
        sb.append("ACTIONS:\n");
        for (String action : playerActions) {
            sb.append(action).append("\n");
        }
        
        sb.append("SETTINGS:\n");
        for (Map.Entry<String, Object> entry : gameSettings.entrySet()) {
            sb.append(entry.getKey()).append("=").append(entry.getValue()).append("\n");
        }
        
        return sb.toString();
    }
    
    // ä»å­—ç¬¦ä¸²æ¢å¤
    public void deserialize(String data) {
        String[] lines = data.split("\n");
        String currentSection = "";
        
        terrainData.clear();
        playerActions.clear();
        gameSettings.clear();
        
        for (String line : lines) {
            if (line.startsWith("WORLD:")) {
                worldName = line.substring(6);
            } else if (line.equals("TERRAIN:") || line.equals("ACTIONS:") || line.equals("SETTINGS:")) {
                currentSection = line;
            } else if (!line.trim().isEmpty()) {
                switch (currentSection) {
                    case "TERRAIN:":
                        String[] terrainParts = line.split("=", 2);
                        if (terrainParts.length == 2) {
                            terrainData.put(terrainParts[0], terrainParts[1]);
                        }
                        break;
                    case "ACTIONS:":
                        playerActions.add(line);
                        break;
                    case "SETTINGS:":
                        String[] settingParts = line.split("=", 2);
                        if (settingParts.length == 2) {
                            gameSettings.put(settingParts[0], settingParts[1]);
                        }
                        break;
                }
            }
        }
    }
    
    // åˆ›å»ºå‹ç¼©å¤‡å¿˜å½•
    public CompressedMemento createCompressedMemento(String compressionType) throws IOException {
        String serializedData = serialize();
        return new CompressedMemento(serializedData, compressionType);
    }
    
    // ä»å‹ç¼©å¤‡å¿˜å½•æ¢å¤
    public void restoreFromCompressed(CompressedMemento memento) throws IOException {
        String restoredData = memento.decompress();
        deserialize(restoredData);
        System.out.println("âœ… ä»å‹ç¼©å¤‡å¿˜å½•æ¢å¤ä¸–ç•ŒçŠ¶æ€");
        System.out.println("ğŸ“Š " + memento.getCompressionInfo());
    }
    
    @Override
    public String toString() {
        return String.format("ä¸–ç•Œ: %s, åœ°å½¢å—: %d, è¡ŒåŠ¨: %d, è®¾ç½®: %d", 
                           worldName, terrainData.size(), playerActions.size(), gameSettings.size());
    }
}
```

**ä½¿ç”¨ç¤ºä¾‹**ï¼š
```java
public class CompressedMementoExample {
    public static void main(String[] args) {
        try {
            GameWorld world = new GameWorld("é­”æ³•æ£®æ—");
            System.out.println("åˆå§‹ä¸–ç•Œ: " + world);
            
            // è¿›è¡Œä¸€äº›æ¸¸æˆæ“ä½œ
            world.addPlayerAction("ç©å®¶è¿›å…¥æ£®æ—");
            world.addPlayerAction("ç©å®¶ç ä¼æ ‘æœ¨");
            world.modifyTerrain("tile_50_50", "chopped_tree_stump");
            world.addPlayerAction("ç©å®¶å»ºé€ å°å±‹");
            world.modifyTerrain("tile_51_51", "wooden_house");
            
            System.out.println("æ“ä½œåä¸–ç•Œ: " + world);
            
            // åˆ›å»ºä¸åŒå‹ç¼©æ–¹å¼çš„å¤‡å¿˜å½•è¿›è¡Œå¯¹æ¯”
            System.out.println("\n=== å‹ç¼©å¯¹æ¯”æµ‹è¯• ===");
            
            // åŸå§‹æ•°æ®å¤§å°
            String originalData = world.serialize();
            int originalSize = originalData.getBytes("UTF-8").length;
            System.out.println("åŸå§‹æ•°æ®å¤§å°: " + originalSize + " bytes");
            
            // GZIPå‹ç¼©
            CompressedMemento gzipMemento = world.createCompressedMemento("gzip");
            System.out.println("GZIP " + gzipMemento.getCompressionInfo());
            
            // æ¨¡æ‹Ÿæ¸¸æˆå´©æºƒï¼Œéœ€è¦æ¢å¤
            System.out.println("\n=== æ¨¡æ‹Ÿæ¸¸æˆå´©æºƒæ¢å¤ ===");
            GameWorld crashedWorld = new GameWorld("ä¸´æ—¶ä¸–ç•Œ");
            System.out.println("å´©æºƒå‰ä¸–ç•Œ: " + crashedWorld);
            
            // ä»å‹ç¼©å¤‡å¿˜å½•æ¢å¤
            crashedWorld.restoreFromCompressed(gzipMemento);
            System.out.println("æ¢å¤åä¸–ç•Œ: " + crashedWorld);
            
            // éªŒè¯æ•°æ®å®Œæ•´æ€§
            String restoredData = crashedWorld.serialize();
            boolean dataIntegrity = originalData.equals(restoredData);
            System.out.println("æ•°æ®å®Œæ•´æ€§æ£€æŸ¥: " + (dataIntegrity ? "âœ… é€šè¿‡" : "âŒ å¤±è´¥"));
            
        } catch (IOException e) {
            System.err.println("å‹ç¼©/è§£å‹é”™è¯¯: " + e.getMessage());
        }
    }
}
```

### 6.4 é«˜çº§å‹ç¼©ä¼˜åŒ–ç­–ç•¥


**â‘ â‘¡ åˆ†å±‚å‹ç¼©**ï¼š
```java
// å¯¹ä¸åŒç±»å‹çš„æ•°æ®ä½¿ç”¨ä¸åŒå‹ç¼©ç­–ç•¥
class LayeredCompressionMemento {
    private byte[] compressedStaticData;    // é™æ€æ•°æ®ç”¨é«˜å‹ç¼©ç‡
    private byte[] compressedDynamicData;   // åŠ¨æ€æ•°æ®ç”¨å¿«é€Ÿå‹ç¼©
    private byte[] compressedLogData;       // æ—¥å¿—æ•°æ®ç”¨ä¸“é—¨ç®—æ³•
    
    // åˆ†åˆ«å‹ç¼©ä¸åŒç±»å‹çš„æ•°æ®
    public LayeredCompressionMemento(GameWorld world) {
        // å®ç°åˆ†å±‚å‹ç¼©é€»è¾‘
    }
}
```

**â‘¢â‘£ è‡ªé€‚åº”å‹ç¼©**ï¼š
```java
// æ ¹æ®æ•°æ®ç‰¹å¾è‡ªåŠ¨é€‰æ‹©æœ€ä½³å‹ç¼©ç®—æ³•
class AdaptiveCompressionMemento {
    private String chosenAlgorithm;
    
    public AdaptiveCompressionMemento(String data) {
        // åˆ†ææ•°æ®ç‰¹å¾
        if (hasHighRepetition(data)) {
            chosenAlgorithm = "gzip";  // é‡å¤åº¦é«˜ç”¨GZIP
        } else if (isLargeSize(data)) {
            chosenAlgorithm = "lz4";   // å¤§æ–‡ä»¶ç”¨LZ4
        } else {
            chosenAlgorithm = "none";  // å°æ–‡ä»¶ä¸å‹ç¼©
        }
    }
}
```

---

## 7. ğŸ“Š å®ç°æ–¹å¼å¯¹æ¯”ä¸é€‰æ‹©


### 7.1 å®ç°æ–¹å¼ç»¼åˆå¯¹æ¯”


| å®ç°æ–¹å¼ | **å®‰å…¨æ€§** | **ç©ºé—´æ•ˆç‡** | **æ—¶é—´æ•ˆç‡** | **å®ç°å¤æ‚åº¦** | **é€‚ç”¨åœºæ™¯** |
|---------|----------|------------|------------|-------------|-------------|
| **ç™½ç®±å¤‡å¿˜å½•** | â­â­ | â­â­â­ | â­â­â­â­â­ | â­â­â­â­â­ | `ç®€å•åº”ç”¨ï¼Œå¿«é€Ÿå¼€å‘` |
| **é»‘ç®±å¤‡å¿˜å½•** | â­â­â­â­â­ | â­â­â­ | â­â­â­â­ | â­â­â­ | `ä¼ä¸šåº”ç”¨ï¼Œå®‰å…¨è¦æ±‚é«˜` |
| **å¤šé‡æ£€æŸ¥ç‚¹** | â­â­â­ | â­â­ | â­â­â­ | â­â­ | `ç‰ˆæœ¬æ§åˆ¶ï¼Œæ¸¸æˆå­˜æ¡£` |
| **å¢é‡å¤‡å¿˜å½•** | â­â­â­ | â­â­â­â­â­ | â­â­ | â­ | `é¢‘ç¹å˜æ›´ï¼Œå®¡è®¡éœ€æ±‚` |
| **å‹ç¼©å¤‡å¿˜å½•** | â­â­â­ | â­â­â­â­â­ | â­ | â­â­ | `å¤§æ•°æ®ï¼Œå­˜å‚¨å—é™` |

### 7.2 é€‰æ‹©å†³ç­–æ ‘


```
å¼€å§‹é€‰æ‹©å®ç°æ–¹å¼
         â†“
    å®‰å…¨æ€§è¦æ±‚é«˜ï¼Ÿ
       â†™   â†˜
     æ˜¯      å¦
     â†“       â†“
  é»‘ç®±å¤‡å¿˜å½•   å­˜å‚¨ç©ºé—´å—é™ï¼Ÿ
              â†™   â†˜
            æ˜¯      å¦
            â†“       â†“
       æ•°æ®é‡å¤§ï¼Ÿ    éœ€è¦å¤šç‰ˆæœ¬ï¼Ÿ
      â†™   â†˜         â†™   â†˜
    æ˜¯     å¦       æ˜¯     å¦
    â†“      â†“       â†“      â†“
  å‹ç¼©   å¢é‡    å¤šé‡    ç™½ç®±
  å¤‡å¿˜å½• å¤‡å¿˜å½•  æ£€æŸ¥ç‚¹  å¤‡å¿˜å½•
```

### 7.3 æ··åˆå®ç°ç­–ç•¥


**ç»„åˆä½¿ç”¨ç¤ºä¾‹**ï¼š
```java
// æ··åˆå¤‡å¿˜å½•ç®¡ç†å™¨
class HybridMementoManager {
    
    // æ ¹æ®åœºæ™¯é€‰æ‹©æœ€ä½³ç­–ç•¥
    public Memento createOptimalMemento(Object originator, MementoContext context) {
        
        if (context.isSecurityCritical()) {
            return createBlackBoxMemento(originator);
        }
        
        if (context.isStorageLimited()) {
            if (context.getDataSize() > LARGE_DATA_THRESHOLD) {
                return createCompressedMemento(originator);
            } else {
                return createIncrementalMemento(originator);
            }
        }
        
        if (context.needsMultipleVersions()) {
            return createCheckpointMemento(originator);
        }
        
        // é»˜è®¤ä½¿ç”¨ç™½ç®±ï¼ˆæœ€ç®€å•ï¼‰
        return createWhiteBoxMemento(originator);
    }
}
```

---

## 8. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 8.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ ç™½ç®±å¤‡å¿˜å½•ï¼šçŠ¶æ€å®Œå…¨å…¬å¼€ï¼Œå®ç°ç®€å•ä½†å®‰å…¨æ€§å·®
ğŸ”¸ é»‘ç®±å¤‡å¿˜å½•ï¼šçŠ¶æ€å°è£…ä¿æŠ¤ï¼Œå®‰å…¨æ€§é«˜ä½†å®ç°å¤æ‚
ğŸ”¸ å¤šé‡æ£€æŸ¥ç‚¹ï¼šä¿å­˜å¤šä¸ªæ—¶é—´ç‚¹ï¼Œå¯çµæ´»å›é€€ä½†ç®¡ç†å¤æ‚
ğŸ”¸ å¢é‡å¤‡å¿˜å½•ï¼šåªä¿å­˜å˜åŒ–éƒ¨åˆ†ï¼ŒèŠ‚çœç©ºé—´ä½†æ¢å¤å¤æ‚
ğŸ”¸ å‹ç¼©å¤‡å¿˜å½•ï¼šå‹ç¼©å­˜å‚¨çŠ¶æ€ï¼Œæœ€çœç©ºé—´ä½†æœ‰æ—¶é—´å¼€é”€
```

### 8.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ å®ç°æ–¹å¼çš„æœ¬è´¨åŒºåˆ«**ï¼š
```
è®¿é—®æ§åˆ¶ç»´åº¦ï¼š
- ç™½ç®±ï¼šå®Œå…¨å¼€æ”¾ â†’ ç®€å•ä½†ä¸å®‰å…¨
- é»‘ç®±ï¼šå°è£…ä¿æŠ¤ â†’ å¤æ‚ä½†å®‰å…¨

å­˜å‚¨ç­–ç•¥ç»´åº¦ï¼š
- å…¨é‡ï¼šä¿å­˜å®Œæ•´çŠ¶æ€ â†’ ç©ºé—´å¤§ä½†æ¢å¤å¿«
- å¢é‡ï¼šåªä¿å­˜å˜åŒ– â†’ ç©ºé—´å°ä½†æ¢å¤æ…¢
- å‹ç¼©ï¼šå‹ç¼©å®Œæ•´çŠ¶æ€ â†’ æœ€çœç©ºé—´ä½†æœ‰è®¡ç®—å¼€é”€
```

**ğŸ”¹ é€‰æ‹©ç­–ç•¥çš„æƒè¡¡**ï¼š
```
æ€§èƒ½ vs å®‰å…¨æ€§ï¼š
ç™½ç®±æ€§èƒ½å¥½ä½†ä¸å®‰å…¨ï¼Œé»‘ç®±å®‰å…¨ä½†æ€§èƒ½ç¨å·®

ç©ºé—´ vs æ—¶é—´ï¼š
å‹ç¼©å’Œå¢é‡èŠ‚çœç©ºé—´ä½†å¢åŠ æ—¶é—´å¼€é”€

ç®€å•æ€§ vs åŠŸèƒ½æ€§ï¼š
ç™½ç®±å®ç°ç®€å•ï¼Œå¤šé‡æ£€æŸ¥ç‚¹åŠŸèƒ½å¼ºå¤§ä½†å¤æ‚
```

### 8.3 å®é™…åº”ç”¨æŒ‡å¯¼


**ğŸ’¼ ä¼ä¸šçº§åº”ç”¨**ï¼š
- **é€‰æ‹©é»‘ç®±å¤‡å¿˜å½•**ï¼šä¿æŠ¤ä¸šåŠ¡æ•°æ®å®‰å…¨
- **ç»“åˆå‹ç¼©æŠ€æœ¯**ï¼šåœ¨æ•°æ®é‡å¤§æ—¶å‡å°‘å­˜å‚¨æˆæœ¬
- **è®¾è®¡å®¡è®¡åŠŸèƒ½**ï¼šè®°å½•çŠ¶æ€å˜åŒ–å†å²

**ğŸ® æ¸¸æˆå¼€å‘**ï¼š
- **é€‰æ‹©å¤šé‡æ£€æŸ¥ç‚¹**ï¼šæ”¯æŒå¤šå­˜æ¡£åŠŸèƒ½
- **ç»“åˆå¢é‡å¤‡å¿˜å½•**ï¼šä¼˜åŒ–å­˜æ¡£å¤§å°
- **è€ƒè™‘ç”¨æˆ·ä½“éªŒ**ï¼šå­˜æ¡£å’Œè¯»æ¡£çš„é€Ÿåº¦

**ğŸ“± ç§»åŠ¨åº”ç”¨**ï¼š
- **ä¼˜å…ˆè€ƒè™‘ç©ºé—´æ•ˆç‡**ï¼šé€‰æ‹©å‹ç¼©æˆ–å¢é‡æ–¹æ¡ˆ
- **ç®€åŒ–å®ç°**ï¼šé¿å…è¿‡åº¦å¤æ‚çš„è®¾è®¡
- **è€ƒè™‘ç”µæ± æ¶ˆè€—**ï¼šå¹³è¡¡å‹ç¼©å¸¦æ¥çš„CPUå¼€é”€

### 8.4 å¸¸è§å‘ç‚¹å’Œæ³¨æ„äº‹é¡¹


**âš ï¸ è®¾è®¡é™·é˜±**ï¼š
```
ç™½ç®±å¤‡å¿˜å½•çš„è¯¯ç”¨ï¼š
âŒ åœ¨å®‰å…¨æ•æ„Ÿåœºæ™¯ä½¿ç”¨ç™½ç®±
âœ… ä»…åœ¨ç®€å•ã€å†…éƒ¨ä½¿ç”¨çš„åœºæ™¯ä½¿ç”¨

å¢é‡å¤‡å¿˜å½•çš„å¤æ‚æ€§ï¼š
âŒ æ²¡æœ‰è€ƒè™‘å¢é‡é“¾çš„å®Œæ•´æ€§
âœ… è®¾è®¡å¢é‡é“¾çš„éªŒè¯å’Œä¿®å¤æœºåˆ¶

å‹ç¼©å¤‡å¿˜å½•çš„å¼€é”€ï¼š
âŒ å¯¹å°æ•°æ®ä¹Ÿè¿›è¡Œå‹ç¼©
âœ… æ ¹æ®æ•°æ®å¤§å°å†³å®šæ˜¯å¦å‹ç¼©
```

**ğŸ’¡ æœ€ä½³å®è·µ**ï¼š
- **æ ¹æ®åœºæ™¯é€‰æ‹©**ï¼šæ²¡æœ‰ä¸‡èƒ½çš„å®ç°æ–¹å¼
- **æ€§èƒ½æµ‹è¯•**ï¼šåœ¨å®é™…ç¯å¢ƒä¸­æµ‹è¯•å„ç§æ–¹æ¡ˆ
- **æ¸è¿›æ”¹è¿›**ï¼šä»ç®€å•æ–¹æ¡ˆå¼€å§‹ï¼Œé€æ­¥ä¼˜åŒ–
- **æ–‡æ¡£è®°å½•**ï¼šæ¸…æ¥šè®°å½•é€‰æ‹©ç†ç”±å’Œä½¿ç”¨æ–¹æ³•

**æ ¸å¿ƒè®°å¿†**ï¼š
- ç™½ç®±ç®€å•é»‘ç®±å®‰å…¨ï¼Œå¤šé‡æ£€æŸ¥çµæ´»ç®¡ç†
- å¢é‡èŠ‚çœå‹ç¼©é«˜æ•ˆï¼Œæ··åˆä½¿ç”¨æ•ˆæœæœ€ä½³
- æ ¹æ®åœºæ™¯åšé€‰æ‹©ï¼Œæƒè¡¡åˆ©å¼Šæ‰¾å¹³è¡¡
- å…ˆç®€å•åå¤æ‚ï¼Œæµ‹è¯•éªŒè¯ä¿è´¨é‡