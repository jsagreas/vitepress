---
title: 1ã€å¤–è§‚æ¨¡å¼æ¦‚å¿µåŸç†
---
## ğŸ“š ç›®å½•


1. [å¤–è§‚æ¨¡å¼æ˜¯ä»€ä¹ˆ](#1-å¤–è§‚æ¨¡å¼æ˜¯ä»€ä¹ˆ)
2. [ä¸ºä»€ä¹ˆéœ€è¦å¤–è§‚æ¨¡å¼](#2-ä¸ºä»€ä¹ˆéœ€è¦å¤–è§‚æ¨¡å¼)
3. [å¤–è§‚æ¨¡å¼çš„ç»“æ„ç»„æˆ](#3-å¤–è§‚æ¨¡å¼çš„ç»“æ„ç»„æˆ)
4. [å¤–è§‚æ¨¡å¼çš„å®ç°æ–¹å¼](#4-å¤–è§‚æ¨¡å¼çš„å®ç°æ–¹å¼)
5. [å…¸å‹åº”ç”¨åœºæ™¯åˆ†æ](#5-å…¸å‹åº”ç”¨åœºæ™¯åˆ†æ)
6. [å¤–è§‚æ¨¡å¼çš„ä¼˜ç¼ºç‚¹](#6-å¤–è§‚æ¨¡å¼çš„ä¼˜ç¼ºç‚¹)
7. [ä½¿ç”¨æ³¨æ„äº‹é¡¹ä¸æœ€ä½³å®è·µ](#7-ä½¿ç”¨æ³¨æ„äº‹é¡¹ä¸æœ€ä½³å®è·µ)
8. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#8-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

# 1. ğŸ­ å¤–è§‚æ¨¡å¼æ˜¯ä»€ä¹ˆ



## 1.1 ç”Ÿæ´»ä¸­çš„å¤–è§‚æ¨¡å¼



æƒ³è±¡ä½ å»ä¸€å®¶**é«˜æ¡£é¤å…**åƒé¥­ï¼š

```
ä¼ ç»Ÿæ–¹å¼ï¼ˆæ²¡æœ‰æœåŠ¡å‘˜ï¼‰ï¼š
ä½ éœ€è¦ â†’ è‡ªå·±å»å¨æˆ¿æ‰¾å¨å¸ˆç‚¹èœ
     â†’ è‡ªå·±å»ä»“åº“æ‰¾é£Ÿæ
     â†’ è‡ªå·±è”ç³»æ¸…æ´å·¥æ”¶æ‹¾æ¡Œå­
     â†’ è‡ªå·±æ‰¾æ”¶é“¶å‘˜ç»“è´¦
     â†’ å„ç§å¤æ‚æ“ä½œ...

æœ‰æœåŠ¡å‘˜çš„æ–¹å¼ï¼ˆå¤–è§‚æ¨¡å¼ï¼‰ï¼š
ä½ åªéœ€è¦ â†’ å‘Šè¯‰æœåŠ¡å‘˜"æˆ‘è¦ä¸€ä»½ç‰›æ’å¥—é¤"
æœåŠ¡å‘˜å¸®ä½  â†’ åè°ƒå¨å¸ˆã€é£Ÿæã€æ¸…æ´ã€æ”¶é“¶ç­‰æ‰€æœ‰ç¯èŠ‚
```

**è¿™é‡Œçš„æœåŠ¡å‘˜å°±æ˜¯"å¤–è§‚"**ï¼Œä»–æŠŠå¤æ‚çš„åå¨æ“ä½œéƒ½ç®€åŒ–æˆäº†ä¸€ä¸ªç®€å•çš„ç‚¹é¤æ¥å£ã€‚

## 1.2 å¤–è§‚æ¨¡å¼çš„æ­£å¼å®šä¹‰



**å¤–è§‚æ¨¡å¼ï¼ˆFacade Patternï¼‰** æ˜¯ä¸€ç§**ç»“æ„å‹è®¾è®¡æ¨¡å¼**ï¼Œå®ƒï¼š

- **æä¾›ç»Ÿä¸€æ¥å£**ï¼šä¸ºå¤æ‚çš„å­ç³»ç»Ÿæä¾›ä¸€ä¸ªç®€å•çš„ç»Ÿä¸€æ¥å£
- **éšè—å¤æ‚æ€§**ï¼šå®¢æˆ·ç«¯ä¸éœ€è¦çŸ¥é“å­ç³»ç»Ÿå†…éƒ¨çš„å¤æ‚å®ç°
- **é™ä½è€¦åˆåº¦**ï¼šå®¢æˆ·ç«¯ä¸å­ç³»ç»Ÿä¹‹é—´çš„ä¾èµ–å…³ç³»è¢«é™ä½

> ğŸ’¡ **é€šä¿—ç†è§£**ï¼šå¤–è§‚æ¨¡å¼å°±åƒæ˜¯ç»™å¤æ‚ç³»ç»Ÿè£…äº†ä¸€ä¸ª"é¥æ§å™¨"ï¼Œç”¨æˆ·åªéœ€è¦æŒ‰å‡ ä¸ªç®€å•æŒ‰é’®ï¼Œå°±èƒ½æ§åˆ¶èƒŒåå¤æ‚çš„è®¾å¤‡ç¾¤ã€‚

## 1.3 å¤–è§‚æ¨¡å¼çš„æœ¬è´¨ä½œç”¨



```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              å®¢æˆ·ç«¯ä»£ç                   â”‚ â† ç®€å•è°ƒç”¨
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚            å¤–è§‚ç±» (Facade)              â”‚ â† ç»Ÿä¸€æ¥å£
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   å­ç³»ç»ŸA       â”‚   å­ç³»ç»ŸB   â”‚ å­ç³»ç»ŸC  â”‚ â† å¤æ‚å®ç°
â”‚  â”Œâ”€â”€â”€â” â”Œâ”€â”€â”€â”   â”‚  â”Œâ”€â”€â”€â”     â”‚ â”Œâ”€â”€â”€â”   â”‚
â”‚  â”‚ç±»1â”‚ â”‚ç±»2â”‚   â”‚  â”‚ç±»3â”‚     â”‚ â”‚ç±»4â”‚   â”‚
â”‚  â””â”€â”€â”€â”˜ â””â”€â”€â”€â”˜   â”‚  â””â”€â”€â”€â”˜     â”‚ â””â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

# 2. ğŸ¤” ä¸ºä»€ä¹ˆéœ€è¦å¤–è§‚æ¨¡å¼



## 2.1 å­ç³»ç»Ÿå¤æ‚æ€§é—®é¢˜



åœ¨ç°ä»£è½¯ä»¶å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸é‡åˆ°è¿™æ ·çš„æƒ…å†µï¼š

### **é—®é¢˜åœºæ™¯ï¼šæ™ºèƒ½å®¶å±…ç³»ç»Ÿ**



```java
// æ²¡æœ‰å¤–è§‚æ¨¡å¼æ—¶ï¼Œå®¢æˆ·ç«¯éœ€è¦è¿™æ ·æ“ä½œ
public class HomeController {
    public void leaveHome() {
        // å…³é—­æ‰€æœ‰è®¾å¤‡éœ€è¦è°ƒç”¨å¾ˆå¤šç³»ç»Ÿ
        LightSystem lights = new LightSystem();
        SecuritySystem security = new SecuritySystem();
        AirConditioner ac = new AirConditioner();
        MusicSystem music = new MusicSystem();
        
        lights.turnOffAllLights();           // å…³ç¯ç³»ç»Ÿ
        lights.setNightMode();
        
        security.enableAlarm();              // å®‰é˜²ç³»ç»Ÿ
        security.lockAllDoors();
        security.activateMotionSensor();
        
        ac.setTemperature(26);               // ç©ºè°ƒç³»ç»Ÿ
        ac.setEconomyMode();
        
        music.stopAllMusic();                // éŸ³å“ç³»ç»Ÿ
        music.saveCurrentPlaylist();
        
        // è¿˜æœ‰æ›´å¤šå¤æ‚æ“ä½œ...
    }
}
```

### **å­˜åœ¨çš„é—®é¢˜**



| é—®é¢˜ç±»å‹ | å…·ä½“è¡¨ç° | å½±å“ |
|---------|---------|------|
| **å¤æ‚åº¦é«˜** | å®¢æˆ·ç«¯éœ€è¦äº†è§£æ‰€æœ‰å­ç³»ç»Ÿçš„æ¥å£ | å­¦ä¹ æˆæœ¬é«˜ï¼Œå®¹æ˜“å‡ºé”™ |
| **è€¦åˆåº¦é«˜** | å®¢æˆ·ç«¯ç›´æ¥ä¾èµ–å¤šä¸ªå­ç³»ç»Ÿç±» | ç³»ç»Ÿè„†å¼±ï¼Œéš¾ä»¥ç»´æŠ¤ |
| **é‡å¤ä»£ç ** | ç›¸åŒçš„æ“ä½œåºåˆ—åœ¨å¤šå¤„é‡å¤ | ä»£ç å†—ä½™ï¼Œç»´æŠ¤å›°éš¾ |
| **æ˜“å‡ºé”™** | è°ƒç”¨é¡ºåºå¤æ‚ï¼Œå®¹æ˜“é—æ¼æ­¥éª¤ | ç³»ç»Ÿä¸ç¨³å®š |

## 2.2 å¤–è§‚æ¨¡å¼çš„è§£å†³æ–¹æ¡ˆ



### **ä½¿ç”¨å¤–è§‚æ¨¡å¼å**



```java
// å¤–è§‚ç±»ï¼šæ™ºèƒ½å®¶å±…æ§åˆ¶å™¨
public class SmartHomeFacade {
    private LightSystem lights;
    private SecuritySystem security;
    private AirConditioner ac;
    private MusicSystem music;
    
    public SmartHomeFacade() {
        this.lights = new LightSystem();
        this.security = new SecuritySystem();
        this.ac = new AirConditioner();
        this.music = new MusicSystem();
    }
    
    // ä¸€é”®ç¦»å®¶æ¨¡å¼
    public void leaveHome() {
        System.out.println("ğŸ  å¯åŠ¨ç¦»å®¶æ¨¡å¼...");
        lights.turnOffAllLights();
        lights.setNightMode();
        security.enableAlarm();
        security.lockAllDoors();
        ac.setEconomyMode();
        music.stopAllMusic();
        System.out.println("âœ… ç¦»å®¶æ¨¡å¼è®¾ç½®å®Œæˆ");
    }
    
    // ä¸€é”®å›å®¶æ¨¡å¼  
    public void arriveHome() {
        System.out.println("ğŸ  å¯åŠ¨å›å®¶æ¨¡å¼...");
        security.disableAlarm();
        security.unlockMainDoor();
        lights.turnOnWelcomeLights();
        ac.setComfortMode();
        music.playWelcomeMusic();
        System.out.println("âœ… å›å®¶æ¨¡å¼è®¾ç½®å®Œæˆ");
    }
}

// å®¢æˆ·ç«¯ä½¿ç”¨å˜å¾—éå¸¸ç®€å•
public class HomeController {
    public void leaveHome() {
        SmartHomeFacade home = new SmartHomeFacade();
        home.leaveHome();  // ä¸€è¡Œä»£ç æå®šï¼
    }
}
```

### **è§£å†³æ•ˆæœå¯¹æ¯”**



```
ä½¿ç”¨å‰ï¼šå®¢æˆ·ç«¯éœ€è¦è°ƒç”¨ 15+ ä¸ªæ–¹æ³•ï¼Œäº†è§£ 4 ä¸ªå­ç³»ç»Ÿ
ä½¿ç”¨åï¼šå®¢æˆ·ç«¯åªéœ€è°ƒç”¨ 1 ä¸ªæ–¹æ³•ï¼Œä¸éœ€è¦äº†è§£å­ç³»ç»Ÿ

ä»£ç è¡Œæ•°ï¼šä» 20+ è¡Œå‡å°‘åˆ° 2 è¡Œ
å¤æ‚åº¦ï¼šä» O(n) é™ä½åˆ° O(1)
é”™è¯¯ç‡ï¼šæ˜¾è‘—é™ä½ï¼Œä¸ä¼šé—æ¼æ­¥éª¤
```

---

# 3. ğŸ—ï¸ å¤–è§‚æ¨¡å¼çš„ç»“æ„ç»„æˆ



## 3.1 æ ¸å¿ƒè§’è‰²è¯´æ˜



å¤–è§‚æ¨¡å¼åŒ…å«ä»¥ä¸‹å‡ ä¸ªæ ¸å¿ƒè§’è‰²ï¼š

```
ğŸ“‹ è§’è‰²æ¸…å•ï¼š
â”œâ”€â”€ ğŸ­ å¤–è§‚ç±» (Facade)          â† æ ¸å¿ƒè§’è‰²
â”œâ”€â”€ ğŸ”§ å­ç³»ç»Ÿç±» (Subsystem)     â† å…·ä½“å®ç°
â””â”€â”€ ğŸ‘¤ å®¢æˆ·ç«¯ (Client)          â† ä½¿ç”¨è€…
```

## 3.2 è§’è‰²èŒè´£è¯¦è§£



### **ğŸ­ å¤–è§‚ç±» (Facade)**



**èŒè´£**ï¼šæä¾›ç®€åŒ–çš„ç»Ÿä¸€æ¥å£

**ç‰¹ç‚¹**ï¼š
- çŸ¥é“å“ªäº›å­ç³»ç»Ÿè´Ÿè´£å¤„ç†è¯·æ±‚
- å°†å®¢æˆ·ç«¯çš„è¯·æ±‚å§”æ‰˜ç»™åˆé€‚çš„å­ç³»ç»Ÿå¯¹è±¡
- ä¸è¿›è¡Œå…·ä½“çš„ä¸šåŠ¡é€»è¾‘å¤„ç†

```java
// å¤–è§‚ç±»çš„å…¸å‹ç»“æ„
public class SystemFacade {
    // æŒæœ‰å­ç³»ç»Ÿçš„å¼•ç”¨
    private SubsystemA subsystemA;
    private SubsystemB subsystemB;
    private SubsystemC subsystemC;
    
    // æ„é€ å™¨ä¸­åˆå§‹åŒ–å­ç³»ç»Ÿ
    public SystemFacade() {
        this.subsystemA = new SubsystemA();
        this.subsystemB = new SubsystemB();
        this.subsystemC = new SubsystemC();
    }
    
    // æä¾›ç®€åŒ–çš„æ“ä½œæ–¹æ³•
    public void simpleOperation() {
        subsystemA.operationA();
        subsystemB.operationB();
        subsystemC.operationC();
    }
}
```

### **ğŸ”§ å­ç³»ç»Ÿç±» (Subsystem)**



**èŒè´£**ï¼šå®ç°å…·ä½“çš„ä¸šåŠ¡åŠŸèƒ½

**ç‰¹ç‚¹**ï¼š
- å¤„ç†å¤–è§‚ç±»åˆ†é…çš„å·¥ä½œ
- ä¸çŸ¥é“å¤–è§‚ç±»çš„å­˜åœ¨
- å¯ä»¥è¢«å®¢æˆ·ç«¯ç›´æ¥è®¿é—®ï¼ˆä½†ä¸æ¨èï¼‰

### **ğŸ‘¤ å®¢æˆ·ç«¯ (Client)**



**èŒè´£**ï¼šä½¿ç”¨å¤–è§‚ç±»æä¾›çš„æ¥å£

**ç‰¹ç‚¹**ï¼š
- ä¸éœ€è¦äº†è§£å­ç³»ç»Ÿçš„å¤æ‚æ€§
- é€šè¿‡å¤–è§‚ç±»é—´æ¥ä½¿ç”¨å­ç³»ç»ŸåŠŸèƒ½
- ä»£ç ç®€æ´ï¼Œæ˜“äºç»´æŠ¤

## 3.3 ç»“æ„å…³ç³»å›¾



```
        å®¢æˆ·ç«¯ (Client)
            â”‚
            â”‚ è°ƒç”¨
            â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   å¤–è§‚ç±»         â”‚
    â”‚   (Facade)      â”‚ â† ç»Ÿä¸€å…¥å£
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
         åè°ƒè°ƒç”¨
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”
    â–¼       â–¼       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”
â”‚å­ç³»ç»ŸAâ”‚ â”‚å­ç³»ç»ŸBâ”‚ â”‚å­ç³»ç»ŸCâ”‚ â† å…·ä½“å®ç°
â”‚       â”‚ â”‚       â”‚ â”‚       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

# 4. ğŸ’» å¤–è§‚æ¨¡å¼çš„å®ç°æ–¹å¼



## 4.1 åŸºç¡€å®ç°ç¤ºä¾‹



æˆ‘ä»¬ä»¥**å¤šåª’ä½“æ’­æ”¾å™¨**ä¸ºä¾‹ï¼Œæ¼”ç¤ºå¤–è§‚æ¨¡å¼çš„å®ç°ï¼š

### **å­ç³»ç»Ÿç±»å®ç°**



```java
// éŸ³é¢‘è§£ç å­ç³»ç»Ÿ
class AudioDecoder {
    public void decodeAudio(String audioFile) {
        System.out.println("ğŸµ è§£ç éŸ³é¢‘æ–‡ä»¶: " + audioFile);
    }
}

// è§†é¢‘è§£ç å­ç³»ç»Ÿ  
class VideoDecoder {
    public void decodeVideo(String videoFile) {
        System.out.println("ğŸ¬ è§£ç è§†é¢‘æ–‡ä»¶: " + videoFile);
    }
}

// å­—å¹•å¤„ç†å­ç³»ç»Ÿ
class SubtitleRenderer {
    public void loadSubtitle(String subtitleFile) {
        System.out.println("ğŸ“ åŠ è½½å­—å¹•: " + subtitleFile);
    }
}

// æ’­æ”¾æ§åˆ¶å­ç³»ç»Ÿ
class MediaPlayer {
    public void play() {
        System.out.println("â–¶ï¸ å¼€å§‹æ’­æ”¾åª’ä½“");
    }
    
    public void pause() {
        System.out.println("â¸ï¸ æš‚åœæ’­æ”¾");
    }
}
```

### **å¤–è§‚ç±»å®ç°**



```java
// å¤šåª’ä½“å¤–è§‚ç±»
public class MultimediaFacade {
    private AudioDecoder audioDecoder;
    private VideoDecoder videoDecoder;
    private SubtitleRenderer subtitleRenderer;
    private MediaPlayer mediaPlayer;
    
    public MultimediaFacade() {
        this.audioDecoder = new AudioDecoder();
        this.videoDecoder = new VideoDecoder();
        this.subtitleRenderer = new SubtitleRenderer();
        this.mediaPlayer = new MediaPlayer();
    }
    
    // ä¸€é”®æ’­æ”¾ç”µå½±ï¼ˆå¸¦å­—å¹•ï¼‰
    public void playMovie(String movieFile, String subtitleFile) {
        System.out.println("ğŸ¬ å‡†å¤‡æ’­æ”¾ç”µå½±...");
        
        // åè°ƒå¤šä¸ªå­ç³»ç»Ÿå·¥ä½œ
        videoDecoder.decodeVideo(movieFile);
        audioDecoder.decodeAudio(movieFile);
        subtitleRenderer.loadSubtitle(subtitleFile);
        mediaPlayer.play();
        
        System.out.println("âœ… ç”µå½±æ’­æ”¾å°±ç»ª");
    }
    
    // ä¸€é”®æ’­æ”¾éŸ³ä¹
    public void playMusic(String musicFile) {
        System.out.println("ğŸµ å‡†å¤‡æ’­æ”¾éŸ³ä¹...");
        
        audioDecoder.decodeAudio(musicFile);
        mediaPlayer.play();
        
        System.out.println("âœ… éŸ³ä¹æ’­æ”¾å¼€å§‹");
    }
}
```

### **å®¢æˆ·ç«¯ä½¿ç”¨**



```java
public class MultimediaApp {
    public static void main(String[] args) {
        MultimediaFacade player = new MultimediaFacade();
        
        // ç®€å•çš„ä¸€è¡Œè°ƒç”¨ï¼ŒèƒŒåå´åè°ƒäº†å¤šä¸ªå¤æ‚å­ç³»ç»Ÿ
        player.playMovie("movie.mp4", "subtitle.srt");
        
        System.out.println();
        
        player.playMusic("song.mp3");
    }
}
```

## 4.2 è¿›é˜¶å®ç°ï¼šåˆ†å±‚å¤–è§‚



å¯¹äºç‰¹åˆ«å¤æ‚çš„ç³»ç»Ÿï¼Œå¯ä»¥åˆ›å»º**å¤šå±‚å¤–è§‚**ï¼š

```java
// åº•å±‚å¤–è§‚ï¼šç¡¬ä»¶æ§åˆ¶
class HardwareFacade {
    public void initializeHardware() {
        System.out.println("ğŸ”§ åˆå§‹åŒ–ç¡¬ä»¶è®¾å¤‡");
    }
}

// ä¸­å±‚å¤–è§‚ï¼šç³»ç»ŸæœåŠ¡
class SystemServiceFacade {
    private HardwareFacade hardware = new HardwareFacade();
    
    public void startSystemServices() {
        hardware.initializeHardware();
        System.out.println("âš™ï¸ å¯åŠ¨ç³»ç»ŸæœåŠ¡");
    }
}

// é«˜å±‚å¤–è§‚ï¼šåº”ç”¨æ¥å£
class ApplicationFacade {
    private SystemServiceFacade systemService = new SystemServiceFacade();
    
    public void launchApplication() {
        systemService.startSystemServices();
        System.out.println("ğŸš€ å¯åŠ¨åº”ç”¨ç¨‹åº");
    }
}
```

## 4.3 å®ç°è¦ç‚¹æ€»ç»“



| å®ç°è¦ç‚¹ | è¯´æ˜ | ç¤ºä¾‹ |
|---------|------|------|
| **ä¾èµ–æ³¨å…¥** | å¤–è§‚ç±»æŒæœ‰å­ç³»ç»Ÿå¼•ç”¨ | `private AudioDecoder audioDecoder;` |
| **æ–¹æ³•å§”æ‰˜** | å¤–è§‚æ–¹æ³•è°ƒç”¨å­ç³»ç»Ÿæ–¹æ³• | `audioDecoder.decodeAudio(file);` |
| **ä¸šåŠ¡å°è£…** | å°†å¤šä¸ªå­ç³»ç»Ÿè°ƒç”¨å°è£…æˆä¸šåŠ¡æ“ä½œ | `playMovie()` æ–¹æ³• |
| **é”™è¯¯å¤„ç†** | å¤–è§‚ç±»å¯ä»¥ç»Ÿä¸€å¤„ç†å¼‚å¸¸ | try-catch åŒ…è£… |

---

# 5. ğŸ¯ å…¸å‹åº”ç”¨åœºæ™¯åˆ†æ



## 5.1 Webæ¡†æ¶ä¸­çš„å¤–è§‚æ¨¡å¼



ç°ä»£Webæ¡†æ¶å¤§é‡ä½¿ç”¨å¤–è§‚æ¨¡å¼æ¥ç®€åŒ–å¼€å‘ï¼š

### **Springæ¡†æ¶ç¤ºä¾‹**



```java
// ä¼ ç»ŸJDBCæ“ä½œï¼ˆå¤æ‚ï¼‰
public class TraditionalDAO {
    public User findUserById(Long id) {
        Connection conn = null;
        PreparedStatement stmt = null;
        ResultSet rs = null;
        try {
            // 1. è·å–æ•°æ®åº“è¿æ¥
            conn = DriverManager.getConnection(url, user, password);
            // 2. åˆ›å»ºSQLè¯­å¥
            stmt = conn.prepareStatement("SELECT * FROM users WHERE id = ?");
            stmt.setLong(1, id);
            // 3. æ‰§è¡ŒæŸ¥è¯¢
            rs = stmt.executeQuery();
            // 4. å¤„ç†ç»“æœé›†
            if (rs.next()) {
                return new User(rs.getLong("id"), rs.getString("name"));
            }
        } catch (SQLException e) {
            // 5. å¼‚å¸¸å¤„ç†
            e.printStackTrace();
        } finally {
            // 6. èµ„æºæ¸…ç†
            closeResources(rs, stmt, conn);
        }
        return null;
    }
}

// Springçš„JdbcTemplateï¼ˆå¤–è§‚æ¨¡å¼ï¼‰
@Repository
public class SpringDAO {
    @Autowired
    private JdbcTemplate jdbcTemplate;  // è¿™å°±æ˜¯å¤–è§‚ç±»
    
    public User findUserById(Long id) {
        // ä¸€è¡Œä»£ç å®Œæˆæ‰€æœ‰å¤æ‚æ“ä½œï¼
        return jdbcTemplate.queryForObject(
            "SELECT * FROM users WHERE id = ?", 
            new UserRowMapper(), 
            id
        );
    }
}
```

**å¤–è§‚æ¨¡å¼çš„ä»·å€¼**ï¼š
- **ç®€åŒ–äº†æ•°æ®åº“æ“ä½œ**ï¼šä»20+è¡Œä»£ç å‡å°‘åˆ°3è¡Œ
- **éšè—äº†JDBCå¤æ‚æ€§**ï¼šè¿æ¥ç®¡ç†ã€å¼‚å¸¸å¤„ç†ã€èµ„æºæ¸…ç†éƒ½è¢«å°è£…
- **æé«˜äº†å¼€å‘æ•ˆç‡**ï¼šå¼€å‘è€…ä¸“æ³¨ä¸šåŠ¡é€»è¾‘ï¼Œä¸éœ€è¦å¤„ç†åº•å±‚ç»†èŠ‚

## 5.2 ç¬¬ä¸‰æ–¹APIé›†æˆ



### **æ”¯ä»˜ç³»ç»Ÿå¤–è§‚**



```java
// å„ç§æ”¯ä»˜æ–¹å¼çš„å¤æ‚æ¥å£
class AlipaySDK {
    public AlipayResponse processPayment(AlipayRequest request) {
        // æ”¯ä»˜å®å¤æ‚çš„æ”¯ä»˜æµç¨‹
        return new AlipayResponse();
    }
}

class WeChatPaySDK {
    public WeChatPayResult executePayment(WeChatPayParams params) {
        // å¾®ä¿¡æ”¯ä»˜å¤æ‚çš„æ”¯ä»˜æµç¨‹  
        return new WeChatPayResult();
    }
}

// æ”¯ä»˜å¤–è§‚ç±» - ç»Ÿä¸€æ”¯ä»˜æ¥å£
public class PaymentFacade {
    private AlipaySDK alipaySDK;
    private WeChatPaySDK wechatSDK;
    
    public PaymentFacade() {
        this.alipaySDK = new AlipaySDK();
        this.wechatSDK = new WeChatPaySDK();
    }
    
    // ç»Ÿä¸€çš„æ”¯ä»˜æ–¹æ³•
    public PaymentResult pay(PaymentRequest request) {
        switch (request.getPaymentType()) {
            case ALIPAY:
                return processAlipay(request);
            case WECHAT:
                return processWechat(request);
            default:
                throw new UnsupportedOperationException("ä¸æ”¯æŒçš„æ”¯ä»˜æ–¹å¼");
        }
    }
    
    private PaymentResult processAlipay(PaymentRequest request) {
        // è½¬æ¢å‚æ•°æ ¼å¼ï¼Œè°ƒç”¨æ”¯ä»˜å®SDK
        AlipayRequest alipayReq = convertToAlipayRequest(request);
        AlipayResponse response = alipaySDK.processPayment(alipayReq);
        return convertToStandardResult(response);
    }
    
    private PaymentResult processWechat(PaymentRequest request) {
        // è½¬æ¢å‚æ•°æ ¼å¼ï¼Œè°ƒç”¨å¾®ä¿¡SDK  
        WeChatPayParams wechatParams = convertToWeChatParams(request);
        WeChatPayResult result = wechatSDK.executePayment(wechatParams);
        return convertToStandardResult(result);
    }
}
```

## 5.3 å¾®æœåŠ¡æ¶æ„ä¸­çš„ç½‘å…³



```
APIç½‘å…³ä½œä¸ºå¤–è§‚æ¨¡å¼çš„å…¸å‹åº”ç”¨ï¼š

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ç§»åŠ¨ç«¯    â”‚    â”‚                 â”‚    â”‚  ç”¨æˆ·æœåŠ¡   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚                 â”‚    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   Webç«¯     â”‚â”€â”€â”€â–¶â”‚   APIç½‘å…³       â”‚â”€â”€â”€â–¶â”‚  è®¢å•æœåŠ¡   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚  (å¤–è§‚æ¨¡å¼)      â”‚    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ç¬¬ä¸‰æ–¹åº”ç”¨  â”‚    â”‚                 â”‚    â”‚  æ”¯ä»˜æœåŠ¡   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ç½‘å…³èŒè´£ï¼š
âœ… ç»Ÿä¸€å…¥å£ï¼šæ‰€æœ‰å®¢æˆ·ç«¯åªéœ€è¦çŸ¥é“ç½‘å…³åœ°å€
âœ… è·¯ç”±åˆ†å‘ï¼šæ ¹æ®è¯·æ±‚è·¯å¾„è½¬å‘åˆ°å¯¹åº”å¾®æœåŠ¡
âœ… ç»Ÿä¸€è®¤è¯ï¼šåœ¨ç½‘å…³å±‚å¤„ç†èº«ä»½éªŒè¯
âœ… æµé‡æ§åˆ¶ï¼šé™æµã€ç†”æ–­ç­‰æ¨ªåˆ‡å…³æ³¨ç‚¹
```

## 5.4 åº”ç”¨åœºæ™¯æ€»ç»“



| åœºæ™¯ç±»å‹ | å…·ä½“åº”ç”¨ | å¤–è§‚ä½œç”¨ |
|---------|---------|---------|
| **ä¼ä¸šçº§æ¡†æ¶** | Springã€Hibernate | ç®€åŒ–å¤æ‚é…ç½®å’ŒAPIè°ƒç”¨ |
| **ç¬¬ä¸‰æ–¹é›†æˆ** | æ”¯ä»˜ã€çŸ­ä¿¡ã€åœ°å›¾æœåŠ¡ | ç»Ÿä¸€ä¸åŒå‚å•†çš„æ¥å£å·®å¼‚ |
| **ç³»ç»Ÿé›†æˆ** | ERPã€CRMç³»ç»Ÿå¯¹æ¥ | éšè—è€æ—§ç³»ç»Ÿçš„å¤æ‚æ€§ |
| **å¾®æœåŠ¡** | APIç½‘å…³ã€æœåŠ¡ç¼–æ’ | æä¾›ç»Ÿä¸€çš„æœåŠ¡å…¥å£ |
| **ç§»åŠ¨å¼€å‘** | SDKå°è£… | ç®€åŒ–nativeåŠŸèƒ½è°ƒç”¨ |

---

# 6. âš–ï¸ å¤–è§‚æ¨¡å¼çš„ä¼˜ç¼ºç‚¹



## 6.1 ä¸»è¦ä¼˜ç‚¹



### **ğŸ”¸ ç®€åŒ–å®¢æˆ·ç«¯æ“ä½œ**



```java
// ä¼˜ç‚¹ä½“ç°ï¼šå¤æ‚æ“ä½œçš„ç®€åŒ–
// åŸæœ¬éœ€è¦çš„ä»£ç 
database.connect();
database.beginTransaction();
userService.validateUser(user);
orderService.createOrder(order);
paymentService.processPayment(payment);
emailService.sendConfirmation(email);
database.commitTransaction();
database.disconnect();

// ä½¿ç”¨å¤–è§‚æ¨¡å¼å
OrderFacade facade = new OrderFacade();
facade.placeOrder(orderInfo); // ä¸€è¡Œæå®šï¼
```

### **ğŸ”¸ é™ä½ç³»ç»Ÿè€¦åˆåº¦**



**è€¦åˆåº¦å¯¹æ¯”åˆ†æ**ï¼š

| æ–¹é¢ | ç›´æ¥è°ƒç”¨å­ç³»ç»Ÿ | ä½¿ç”¨å¤–è§‚æ¨¡å¼ |
|------|---------------|-------------|
| **ä¾èµ–æ•°é‡** | å®¢æˆ·ç«¯ä¾èµ–Nä¸ªå­ç³»ç»Ÿ | å®¢æˆ·ç«¯åªä¾èµ–1ä¸ªå¤–è§‚ç±» |
| **ä¿®æ”¹å½±å“** | å­ç³»ç»Ÿå˜åŒ–å½±å“æ‰€æœ‰å®¢æˆ·ç«¯ | å­ç³»ç»Ÿå˜åŒ–åªå½±å“å¤–è§‚ç±» |
| **æµ‹è¯•éš¾åº¦** | éœ€è¦æ¨¡æ‹Ÿå¤šä¸ªå­ç³»ç»Ÿ | åªéœ€è¦æ¨¡æ‹Ÿå¤–è§‚ç±» |
| **ä»£ç ç»´æŠ¤** | åˆ†æ•£åœ¨å¤šå¤„ï¼Œéš¾ä»¥ç»´æŠ¤ | é›†ä¸­åœ¨å¤–è§‚ç±»ï¼Œæ˜“äºç»´æŠ¤ |

### **ğŸ”¸ æé«˜ä»£ç å¤ç”¨æ€§**



```java
// å¤–è§‚æ¨¡å¼ä¿ƒè¿›ä»£ç å¤ç”¨
public class ReportFacade {
    // è¿™äº›é€šç”¨æ“ä½œå¯ä»¥è¢«å¤šä¸ªå®¢æˆ·ç«¯å¤ç”¨
    public void generateSalesReport() { /* ç»Ÿä¸€çš„æŠ¥è¡¨ç”Ÿæˆæµç¨‹ */ }
    public void generateUserReport() { /* ç»Ÿä¸€çš„æŠ¥è¡¨ç”Ÿæˆæµç¨‹ */ }
    public void generateFinanceReport() { /* ç»Ÿä¸€çš„æŠ¥è¡¨ç”Ÿæˆæµç¨‹ */ }
}
```

### **ğŸ”¸ æ›´å¥½çš„åˆ†å±‚æ¶æ„**



```
åˆ†å±‚æ•ˆæœï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    è¡¨ç°å±‚        â”‚ â† åªå…³æ³¨UIé€»è¾‘
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    å¤–è§‚å±‚        â”‚ â† åè°ƒä¸šåŠ¡æµç¨‹  
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    ä¸šåŠ¡é€»è¾‘å±‚     â”‚ â† ä¸“æ³¨ä¸šåŠ¡å®ç°
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    æ•°æ®è®¿é—®å±‚     â”‚ â† ä¸“æ³¨æ•°æ®æ“ä½œ
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 6.2 ä¸»è¦ç¼ºç‚¹



### **ğŸ”¸ å¢åŠ ç³»ç»Ÿå¤æ‚æ€§**



```java
// ç®€å•ç³»ç»Ÿä½¿ç”¨å¤–è§‚æ¨¡å¼å¯èƒ½è¿‡åº¦è®¾è®¡
class SimpleCalculator {
    public int add(int a, int b) {
        return a + b;  // è¿™ç§æƒ…å†µä¸éœ€è¦å¤–è§‚æ¨¡å¼
    }
}

// è¿‡åº¦è®¾è®¡çš„å¤–è§‚
class CalculatorFacade {
    private SimpleCalculator calculator = new SimpleCalculator();
    
    public int performAddition(int a, int b) {  // æ²¡æœ‰å¿…è¦çš„å°è£…
        return calculator.add(a, b);
    }
}
```

### **ğŸ”¸ å¤–è§‚ç±»å¯èƒ½å˜å¾—åºå¤§**



```java
// å¤–è§‚ç±»æ‰¿æ‹…è¿‡å¤šèŒè´£çš„é£é™©
public class SystemFacade {
    // éšç€åŠŸèƒ½å¢åŠ ï¼Œå¤–è§‚ç±»è¶Šæ¥è¶Šå¤§
    public void userManagement() { /* ç”¨æˆ·ç®¡ç† */ }
    public void orderProcessing() { /* è®¢å•å¤„ç† */ }
    public void paymentHandling() { /* æ”¯ä»˜å¤„ç† */ }
    public void inventoryControl() { /* åº“å­˜æ§åˆ¶ */ }
    public void reportGeneration() { /* æŠ¥è¡¨ç”Ÿæˆ */ }
    // ... æ›´å¤šæ–¹æ³•
}
```

**è§£å†³æ–¹æ¡ˆ**ï¼šæŒ‰åŠŸèƒ½é¢†åŸŸæ‹†åˆ†å¤šä¸ªå¤–è§‚ç±»

```java
// æ›´å¥½çš„è®¾è®¡ï¼šæ‹†åˆ†å¤–è§‚ç±»
public class UserFacade { /* ä¸“æ³¨ç”¨æˆ·ç›¸å…³æ“ä½œ */ }
public class OrderFacade { /* ä¸“æ³¨è®¢å•ç›¸å…³æ“ä½œ */ }
public class PaymentFacade { /* ä¸“æ³¨æ”¯ä»˜ç›¸å…³æ“ä½œ */ }
```

### **ğŸ”¸ ä¸ç¬¦åˆå¼€é—­åŸåˆ™**



å½“éœ€è¦**æ–°å¢å­ç³»ç»ŸåŠŸèƒ½**æ—¶ï¼Œå¾€å¾€éœ€è¦**ä¿®æ”¹å¤–è§‚ç±»**ï¼Œè¿™è¿åäº†å¼€é—­åŸåˆ™ã€‚

**æ”¹è¿›æ–¹æ¡ˆ**ï¼šä½¿ç”¨ç­–ç•¥æ¨¡å¼æˆ–æ’ä»¶æœºåˆ¶è®©å¤–è§‚ç±»æ›´åŠ çµæ´»ã€‚

## 6.3 é€‚ç”¨æ€§åˆ¤æ–­



### **âœ… é€‚åˆä½¿ç”¨å¤–è§‚æ¨¡å¼çš„æƒ…å†µ**



- å­ç³»ç»Ÿå¤æ‚ï¼Œå®¢æˆ·ç«¯éœ€è¦è°ƒç”¨å¤šä¸ªç±»
- å¸Œæœ›åœ¨å®¢æˆ·ç«¯å’Œå­ç³»ç»Ÿä¹‹é—´å»ºç«‹ç®€å•æ¥å£
- éœ€è¦ä¸ºå¤æ‚çš„å­ç³»ç»Ÿæä¾›åˆ†å±‚ç»“æ„
- è¦é›†æˆå¤šä¸ªç¬¬ä¸‰æ–¹åº“æˆ–é—ç•™ç³»ç»Ÿ

### **âŒ ä¸é€‚åˆä½¿ç”¨å¤–è§‚æ¨¡å¼çš„æƒ…å†µ**



- ç³»ç»Ÿæœ¬èº«å°±å¾ˆç®€å•ï¼Œåªæœ‰1-2ä¸ªç±»
- å®¢æˆ·ç«¯éœ€è¦è®¿é—®å­ç³»ç»Ÿçš„è¯¦ç»†åŠŸèƒ½
- å¤–è§‚ç±»ä¼šå˜å¾—è¿‡äºå¤æ‚å’Œåºå¤§
- æ€§èƒ½è¦æ±‚æé«˜ï¼Œä¸èƒ½å®¹å¿é¢å¤–çš„è°ƒç”¨å±‚æ¬¡

---

# 7. âš ï¸ ä½¿ç”¨æ³¨æ„äº‹é¡¹ä¸æœ€ä½³å®è·µ



## 7.1 è®¾è®¡åŸåˆ™



### **ğŸ”¸ å•ä¸€èŒè´£åŸåˆ™**



å¤–è§‚ç±»åº”è¯¥ä¸“æ³¨äº**åè°ƒå­ç³»ç»Ÿ**ï¼Œè€Œä¸æ˜¯å®ç°å…·ä½“ä¸šåŠ¡é€»è¾‘ï¼š

```java
// âŒ é”™è¯¯ç¤ºä¾‹ï¼šå¤–è§‚ç±»åŒ…å«ä¸šåŠ¡é€»è¾‘
public class OrderFacade {
    public void processOrder(Order order) {
        // ä¸åº”è¯¥åœ¨å¤–è§‚ç±»ä¸­å†™å¤æ‚çš„ä¸šåŠ¡é€»è¾‘
        if (order.getAmount() > 1000) {
            order.setDiscount(0.1); // ä¸šåŠ¡é€»è¾‘åº”è¯¥åœ¨ä¸šåŠ¡å±‚
        }
        
        orderService.createOrder(order);
        paymentService.processPayment(order);
    }
}

// âœ… æ­£ç¡®ç¤ºä¾‹ï¼šå¤–è§‚ç±»åªè´Ÿè´£åè°ƒ
public class OrderFacade {
    public void processOrder(Order order) {
        // åªè´Ÿè´£åè°ƒï¼Œä¸åŒ…å«ä¸šåŠ¡é€»è¾‘
        Order processedOrder = orderService.createOrder(order);
        paymentService.processPayment(processedOrder);
        notificationService.sendConfirmation(processedOrder);
    }
}
```

### **ğŸ”¸ æ¥å£éš”ç¦»åŸåˆ™**



ä¸ºä¸åŒç±»å‹çš„å®¢æˆ·ç«¯æä¾›**ä¸“é—¨çš„å¤–è§‚æ¥å£**ï¼š

```java
// ä¸ºç§»åŠ¨ç«¯æä¾›çš„ç®€åŒ–æ¥å£
public interface MobileFacade {
    void quickOrder(String productId, int quantity);
    OrderStatus getOrderStatus(String orderId);
}

// ä¸ºç®¡ç†åå°æä¾›çš„å®Œæ•´æ¥å£
public interface AdminFacade extends MobileFacade {
    void cancelOrder(String orderId, String reason);
    List<Order> getOrdersByDate(Date date);
    void refundOrder(String orderId, double amount);
}
```

## 7.2 å®ç°æŠ€å·§



### **ğŸ”¸ å‚æ•°å¯¹è±¡æ¨¡å¼**



å½“å¤–è§‚æ–¹æ³•å‚æ•°è¿‡å¤šæ—¶ï¼Œä½¿ç”¨å‚æ•°å¯¹è±¡ï¼š

```java
// âŒ å‚æ•°è¿‡å¤šï¼Œéš¾ä»¥ç»´æŠ¤
public void createUser(String name, String email, String phone, 
                      String address, int age, String department) {
    // ...
}

// âœ… ä½¿ç”¨å‚æ•°å¯¹è±¡
public class UserCreationRequest {
    private String name;
    private String email;
    private String phone;
    // ... å…¶ä»–å­—æ®µå’Œgetter/setter
}

public void createUser(UserCreationRequest request) {
    // ä»£ç æ›´æ¸…æ™°ï¼Œæ˜“äºæ‰©å±•
}
```

### **ğŸ”¸ å¼‚å¸¸ç»Ÿä¸€å¤„ç†**



å¤–è§‚ç±»åº”è¯¥**ç»Ÿä¸€å¤„ç†**å’Œ**è½¬æ¢å¼‚å¸¸**ï¼š

```java
public class ServiceFacade {
    public void performComplexOperation() throws ServiceException {
        try {
            subSystemA.operationA();
            subSystemB.operationB();
            subSystemC.operationC();
        } catch (SubSystemException e) {
            // è½¬æ¢ä¸ºç»Ÿä¸€çš„ä¸šåŠ¡å¼‚å¸¸
            throw new ServiceException("æ“ä½œå¤±è´¥: " + e.getMessage(), e);
        }
    }
}
```

## 7.3 æ€§èƒ½è€ƒè™‘



### **ğŸ”¸ å»¶è¿Ÿåˆå§‹åŒ–**



å¯¹äºåˆ›å»ºæˆæœ¬é«˜çš„å­ç³»ç»Ÿï¼Œä½¿ç”¨å»¶è¿Ÿåˆå§‹åŒ–ï¼š

```java
public class HeavySystemFacade {
    private ExpensiveSubSystem expensiveSystem;
    
    private ExpensiveSubSystem getExpensiveSystem() {
        if (expensiveSystem == null) {
            expensiveSystem = new ExpensiveSubSystem(); // å»¶è¿Ÿåˆ›å»º
        }
        return expensiveSystem;
    }
    
    public void useExpensiveOperation() {
        getExpensiveSystem().doExpensiveWork();
    }
}
```

### **ğŸ”¸ ç¼“å­˜æœºåˆ¶**



å¯¹äºé¢‘ç¹è°ƒç”¨çš„æ“ä½œï¼Œè€ƒè™‘æ·»åŠ ç¼“å­˜ï¼š

```java
public class CachingFacade {
    private Map<String, Object> cache = new ConcurrentHashMap<>();
    
    public Object getComplexData(String key) {
        return cache.computeIfAbsent(key, k -> {
            // åªæœ‰ç¼“å­˜ä¸­æ²¡æœ‰æ—¶æ‰æ‰§è¡Œå¤æ‚æ“ä½œ
            return subSystem.computeComplexData(k);
        });
    }
}
```

## 7.4 æµ‹è¯•ç­–ç•¥



### **ğŸ”¸ å¤–è§‚ç±»çš„å•å…ƒæµ‹è¯•**



```java
@Test
public class OrderFacadeTest {
    @Mock private OrderService orderService;
    @Mock private PaymentService paymentService;
    @Mock private NotificationService notificationService;
    
    private OrderFacade orderFacade;
    
    @Before
    public void setUp() {
        MockitoAnnotations.initMocks(this);
        orderFacade = new OrderFacade(orderService, paymentService, notificationService);
    }
    
    @Test
    public void testProcessOrder() {
        // æµ‹è¯•å¤–è§‚ç±»æ˜¯å¦æ­£ç¡®åè°ƒäº†å„ä¸ªå­ç³»ç»Ÿ
        Order order = new Order();
        when(orderService.createOrder(order)).thenReturn(order);
        
        orderFacade.processOrder(order);
        
        verify(orderService).createOrder(order);
        verify(paymentService).processPayment(order);
        verify(notificationService).sendConfirmation(order);
    }
}
```

---

# 8. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“



## 8.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ



```
ğŸ”¸ å¤–è§‚æ¨¡å¼å®šä¹‰ï¼šä¸ºå¤æ‚å­ç³»ç»Ÿæä¾›ç®€å•ç»Ÿä¸€æ¥å£çš„ç»“æ„å‹æ¨¡å¼
ğŸ”¸ æ ¸å¿ƒä½œç”¨ï¼šç®€åŒ–å®¢æˆ·ç«¯æ“ä½œï¼Œé™ä½ç³»ç»Ÿè€¦åˆåº¦ï¼Œéšè—å­ç³»ç»Ÿå¤æ‚æ€§
ğŸ”¸ å…¸å‹ç»“æ„ï¼šå®¢æˆ·ç«¯ â†’ å¤–è§‚ç±» â†’ å¤šä¸ªå­ç³»ç»Ÿç±»  
ğŸ”¸ å…³é”®ç‰¹ç‚¹ï¼šç»Ÿä¸€æ¥å£ã€åè°ƒè°ƒç”¨ã€ä¸åŒ…å«ä¸šåŠ¡é€»è¾‘
ğŸ”¸ åº”ç”¨åœºæ™¯ï¼šå¤æ‚ç³»ç»Ÿé›†æˆã€ç¬¬ä¸‰æ–¹APIå°è£…ã€åˆ†å±‚æ¶æ„è®¾è®¡
```

## 8.2 å…³é”®ç†è§£è¦ç‚¹



### **ğŸ”¹ å¤–è§‚æ¨¡å¼çš„æœ¬è´¨ç†è§£**



å¤–è§‚æ¨¡å¼æœ¬è´¨ä¸Šæ˜¯ä¸€ç§**"ç®€åŒ–å™¨"**ï¼š
- **ä¸æ˜¯æ–°åŠŸèƒ½**ï¼šä¸åˆ›é€ æ–°çš„åŠŸèƒ½ï¼Œåªæ˜¯é‡æ–°ç»„ç»‡ç°æœ‰åŠŸèƒ½
- **åè°ƒè€…è§’è‰²**ï¼šåƒä¹é˜ŸæŒ‡æŒ¥ä¸€æ ·åè°ƒå„ä¸ª"ä¹å™¨"ï¼ˆå­ç³»ç»Ÿï¼‰
- **æ¥å£é€‚é…å™¨**ï¼šå°†å¤æ‚çš„æ¥å£è½¬æ¢ä¸ºç®€å•æ˜“ç”¨çš„æ¥å£

### **ğŸ”¹ ä¸å…¶ä»–æ¨¡å¼çš„åŒºåˆ«**



| æ¨¡å¼ | ä¸»è¦ç›®çš„ | ç»“æ„ç‰¹ç‚¹ | ä½¿ç”¨åœºæ™¯ |
|------|---------|---------|---------|
| **å¤–è§‚æ¨¡å¼** | ç®€åŒ–æ¥å£ | ä¸€å¯¹å¤šï¼Œéšè—å¤æ‚æ€§ | å­ç³»ç»Ÿå¤æ‚ï¼Œéœ€è¦ç®€åŒ– |
| **é€‚é…å™¨æ¨¡å¼** | æ¥å£è½¬æ¢ | ä¸€å¯¹ä¸€ï¼Œæ¥å£é€‚é… | æ¥å£ä¸å…¼å®¹ï¼Œéœ€è¦è½¬æ¢ |
| **ä»£ç†æ¨¡å¼** | æ§åˆ¶è®¿é—® | ä¸€å¯¹ä¸€ï¼Œå¢åŠ æ§åˆ¶ | éœ€è¦è®¿é—®æ§åˆ¶æˆ–å¢å¼º |

### **ğŸ”¹ è®¾è®¡æ—¶çš„æƒè¡¡è€ƒè™‘**



```
ç®€å•æ€§ vs çµæ´»æ€§ï¼š
âœ… å¤–è§‚æ¨¡å¼æä¾›ç®€å•æ¥å£ï¼Œä½†å¯èƒ½é™åˆ¶çµæ´»æ€§
âœ… éœ€è¦åœ¨æ˜“ç”¨æ€§å’ŒåŠŸèƒ½å®Œæ•´æ€§ä¹‹é—´æ‰¾åˆ°å¹³è¡¡

æ€§èƒ½ vs ä¾¿åˆ©æ€§ï¼š
âœ… å¤–è§‚æ¨¡å¼å¢åŠ ä¸€å±‚è°ƒç”¨ï¼Œå¯èƒ½å½±å“æ€§èƒ½
âœ… ä½†é€šå¸¸è¿™ç§å½±å“å¾ˆå°ï¼Œä¾¿åˆ©æ€§æ”¶ç›Šæ›´å¤§

ç»´æŠ¤æ€§ vs å¤æ‚æ€§ï¼š
âœ… å¤–è§‚æ¨¡å¼è®©å®¢æˆ·ç«¯æ›´æ˜“ç»´æŠ¤
âœ… ä½†å¤–è§‚ç±»æœ¬èº«å¯èƒ½å˜å¾—å¤æ‚ï¼Œéœ€è¦æ‹†åˆ†
```

## 8.3 å®é™…åº”ç”¨ä»·å€¼



### **ğŸ¯ åœ¨ä¼ä¸šé¡¹ç›®ä¸­çš„ä»·å€¼**



- **æå‡å¼€å‘æ•ˆç‡**ï¼šå‡å°‘å­¦ä¹ æˆæœ¬ï¼Œå¿«é€Ÿä¸Šæ‰‹å¤æ‚ç³»ç»Ÿ
- **é™ä½ç»´æŠ¤æˆæœ¬**ï¼šé›†ä¸­ç®¡ç†å˜åŒ–ï¼Œå‡å°‘ä»£ç ä¿®æ”¹å½±å“é¢
- **æ”¹å–„ä»£ç è´¨é‡**ï¼šå‡å°‘é‡å¤ä»£ç ï¼Œæé«˜ä»£ç å¤ç”¨ç‡
- **å¢å¼ºç³»ç»Ÿç¨³å®šæ€§**ï¼šç»Ÿä¸€å¼‚å¸¸å¤„ç†ï¼Œå‡å°‘å®¢æˆ·ç«¯é”™è¯¯

### **ğŸ¯ èŒä¸šå‘å±•ä¸­çš„æ„ä¹‰**



- **æ¶æ„è®¾è®¡èƒ½åŠ›**ï¼šå­¦ä¼šè®¾è®¡ç®€æ´æ˜“ç”¨çš„APIæ¥å£
- **ç³»ç»Ÿé›†æˆç»éªŒ**ï¼šæŒæ¡å¤æ‚ç³»ç»Ÿçš„æ•´åˆæŠ€å·§
- **ä»£ç é‡æ„æŠ€èƒ½**ï¼šèƒ½å¤Ÿè¯†åˆ«å¹¶ç®€åŒ–å¤æ‚çš„ä»£ç ç»“æ„

## 8.4 å­¦ä¹ å»ºè®®ä¸ä¸‹ä¸€æ­¥



### **ğŸ”¸ åŠ¨æ‰‹ç»ƒä¹ å»ºè®®**



1. **æ”¹é€ ç°æœ‰é¡¹ç›®**ï¼šæ‰¾åˆ°é¡¹ç›®ä¸­å¤æ‚çš„è°ƒç”¨ä»£ç ï¼Œå°è¯•ç”¨å¤–è§‚æ¨¡å¼ç®€åŒ–
2. **æ¨¡æ‹ŸçœŸå®åœºæ™¯**ï¼šå®ç°ä¸€ä¸ªç”µå•†è®¢å•å¤„ç†çš„å¤–è§‚ç±»
3. **é›†æˆç¬¬ä¸‰æ–¹æœåŠ¡**ï¼šå°è£…å¤šä¸ªæ”¯ä»˜æ¸ é“ä¸ºç»Ÿä¸€çš„æ”¯ä»˜æ¥å£

### **ğŸ”¸ æ·±å…¥å­¦ä¹ æ–¹å‘**



- ç ”ç©¶Springæ¡†æ¶ä¸­å¤–è§‚æ¨¡å¼çš„åº”ç”¨
- å­¦ä¹ å¾®æœåŠ¡æ¶æ„ä¸­APIç½‘å…³çš„è®¾è®¡
- äº†è§£é¢†åŸŸé©±åŠ¨è®¾è®¡ï¼ˆDDDï¼‰ä¸­çš„åº”ç”¨æœåŠ¡å±‚æ¦‚å¿µ

**æ ¸å¿ƒè®°å¿†å£è¯€**ï¼š
- å¤æ‚ç³»ç»Ÿéš¾ä½¿ç”¨ï¼Œå¤–è§‚æ¨¡å¼æ¥å¸®åŠ©
- ç»Ÿä¸€æ¥å£æœ€å…³é”®ï¼Œåè°ƒå­ç³»ç»Ÿæ˜¯èŒè´£  
- ç®€åŒ–å®¢æˆ·ç«¯æ“ä½œï¼Œé™ä½è€¦åˆåº¦æå‡
- ç¬¬ä¸‰æ–¹é›†æˆå¥½å¸®æ‰‹ï¼Œåˆ†å±‚æ¶æ„å¿…å¤‡å™¨