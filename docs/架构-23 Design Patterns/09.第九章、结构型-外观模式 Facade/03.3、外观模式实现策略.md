---
title: 3ã€å¤–è§‚æ¨¡å¼å®ç°ç­–ç•¥
---
## ğŸ“š ç›®å½•

1. [ç®€å•å¤–è§‚å®ç°](#1-ç®€å•å¤–è§‚å®ç°)
2. [åˆ†å±‚å¤–è§‚è®¾è®¡](#2-åˆ†å±‚å¤–è§‚è®¾è®¡)
3. [å¯é…ç½®å¤–è§‚](#3-å¯é…ç½®å¤–è§‚)
4. [å¤–è§‚å·¥å‚æ¨¡å¼](#4-å¤–è§‚å·¥å‚æ¨¡å¼)
5. [å¤–è§‚ä»£ç†ç»“åˆ](#5-å¤–è§‚ä»£ç†ç»“åˆ)
6. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#6-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ¯ ç®€å•å¤–è§‚å®ç°


### 1.1 ä»€ä¹ˆæ˜¯ç®€å•å¤–è§‚


â­â­â­ **æ ¸å¿ƒå¿…ä¼š**

**é€šä¿—ç†è§£**ï¼šç®€å•å¤–è§‚å°±åƒå®¶é‡Œçš„æ€»å¼€å…³ï¼ŒæŒ‰ä¸€ä¸‹å°±èƒ½æ§åˆ¶æ‰€æœ‰ç”µå™¨ï¼Œè€Œä¸ç”¨ä¸€ä¸ªä¸ªå»å¼€å…³ã€‚

```
ç”Ÿæ´»ä¸­çš„ä¾‹å­ï¼š
æ™ºèƒ½å®¶å±…æ§åˆ¶é¢æ¿ = å¤–è§‚
â”œâ”€â”€ ç¯å…‰ç³»ç»Ÿ      â† å¤æ‚å­ç³»ç»Ÿ1
â”œâ”€â”€ ç©ºè°ƒç³»ç»Ÿ      â† å¤æ‚å­ç³»ç»Ÿ2
â”œâ”€â”€ éŸ³å“ç³»ç»Ÿ      â† å¤æ‚å­ç³»ç»Ÿ3
â””â”€â”€ å®‰é˜²ç³»ç»Ÿ      â† å¤æ‚å­ç³»ç»Ÿ4

æŒ‰ä¸€ä¸ª"å›å®¶æ¨¡å¼"æŒ‰é’®ï¼š
âœ“ è‡ªåŠ¨å¼€ç¯
âœ“ è°ƒèŠ‚æ¸©åº¦
âœ“ æ’­æ”¾éŸ³ä¹
âœ“ å…³é—­å®‰é˜²
```

**ğŸ”¸ ä¸“ä¸šå®šä¹‰**ï¼šç®€å•å¤–è§‚æ˜¯æœ€åŸºç¡€çš„å¤–è§‚æ¨¡å¼å®ç°ï¼Œé€šè¿‡ä¸€ä¸ªç»Ÿä¸€æ¥å£å°è£…å¤šä¸ªå­ç³»ç»Ÿçš„å¤æ‚æ“ä½œã€‚

### 1.2 ç®€å•å¤–è§‚çš„åŸºæœ¬ç»“æ„


```
å®¢æˆ·ç«¯
  â†“
å¤–è§‚ç±» (Facade)
  â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å­ç³»ç»ŸA â”‚ å­ç³»ç»ŸB â”‚ å­ç³»ç»ŸC â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ğŸ”¸ å®ç°è¦ç‚¹**ï¼š
- **å•ä¸€å…¥å£**ï¼šå®¢æˆ·ç«¯åªéœ€è¦çŸ¥é“å¤–è§‚ç±»
- **å°è£…å¤æ‚æ€§**ï¼šéšè—å­ç³»ç»Ÿçš„å®ç°ç»†èŠ‚
- **ç®€åŒ–è°ƒç”¨**ï¼šæä¾›ç®€å•æ˜“ç”¨çš„æ¥å£

### 1.3 å®é™…ä»£ç ç¤ºä¾‹


ğŸ’¡ **åœºæ™¯**ï¼šç”µè„‘å¼€æœºè¿‡ç¨‹ï¼ˆæ¶‰åŠå¤šä¸ªç¡¬ä»¶å­ç³»ç»Ÿï¼‰

```java
// å­ç³»ç»Ÿ1ï¼šCPU
class CPU {
    public void start() {
        System.out.println("CPUå¼€å§‹å·¥ä½œ...");
    }
    
    public void stop() {
        System.out.println("CPUåœæ­¢å·¥ä½œ");
    }
}

// å­ç³»ç»Ÿ2ï¼šå†…å­˜
class Memory {
    public void load() {
        System.out.println("å†…å­˜åŠ è½½æ•°æ®...");
    }
    
    public void release() {
        System.out.println("å†…å­˜é‡Šæ”¾æ•°æ®");
    }
}

// å­ç³»ç»Ÿ3ï¼šç¡¬ç›˜
class HardDisk {
    public void read() {
        System.out.println("ç¡¬ç›˜è¯»å–æ•°æ®...");
    }
    
    public void write() {
        System.out.println("ç¡¬ç›˜å†™å…¥æ•°æ®");
    }
}

// ç®€å•å¤–è§‚ï¼šç”µè„‘
class Computer {
    private CPU cpu;
    private Memory memory;
    private HardDisk hardDisk;
    
    public Computer() {
        this.cpu = new CPU();
        this.memory = new Memory();
        this.hardDisk = new HardDisk();
    }
    
    // ä¸€é”®å¼€æœº
    public void startup() {
        System.out.println("=== ç”µè„‘å¼€æœºä¸­ ===");
        cpu.start();        // å¯åŠ¨CPU
        memory.load();      // åŠ è½½å†…å­˜
        hardDisk.read();    // è¯»å–ç³»ç»Ÿæ–‡ä»¶
        System.out.println("=== å¼€æœºå®Œæˆ ===");
    }
    
    // ä¸€é”®å…³æœº
    public void shutdown() {
        System.out.println("=== ç”µè„‘å…³æœºä¸­ ===");
        hardDisk.write();   // ä¿å­˜æ•°æ®
        memory.release();   // é‡Šæ”¾å†…å­˜
        cpu.stop();         // åœæ­¢CPU
        System.out.println("=== å…³æœºå®Œæˆ ===");
    }
}
```

**ğŸ¯ ä½¿ç”¨æ–¹å¼**ï¼š
```java
public class Client {
    public static void main(String[] args) {
        Computer computer = new Computer();
        
        // å®¢æˆ·ç«¯åªéœ€è¦è°ƒç”¨ç®€å•æ–¹æ³•
        computer.startup();   // ä¸€é”®å¼€æœº
        
        // ... ä½¿ç”¨ç”µè„‘ ...
        
        computer.shutdown();  // ä¸€é”®å…³æœº
    }
}
```

### 1.4 ç®€å•å¤–è§‚çš„ä¼˜ç¼ºç‚¹


| ğŸ†š **ç»´åº¦** | **ä¼˜ç‚¹** | **ç¼ºç‚¹** |
|-------------|----------|----------|
| ğŸ¯ **æ˜“ç”¨æ€§** | æ¥å£ç®€å•ï¼Œå®¹æ˜“ä½¿ç”¨ | åŠŸèƒ½å¯èƒ½ä¸å¤Ÿçµæ´» |
| ğŸ”§ **ç»´æŠ¤æ€§** | ä»£ç ç»“æ„æ¸…æ™° | å¤–è§‚ç±»å¯èƒ½å˜å¾—åºå¤§ |
| ğŸƒâ€â™‚ï¸ **æ€§èƒ½** | è°ƒç”¨è·¯å¾„çŸ­ | å¢åŠ äº†ä¸€å±‚æŠ½è±¡ |

---

## 2. ğŸ—ï¸ åˆ†å±‚å¤–è§‚è®¾è®¡


### 2.1 ä¸ºä»€ä¹ˆéœ€è¦åˆ†å±‚å¤–è§‚


â­â­ **éœ€è¦æŒæ¡**

**é—®é¢˜åœºæ™¯**ï¼šå½“ç³»ç»Ÿå˜å¾—éå¸¸å¤æ‚æ—¶ï¼Œå•ä¸€å¤–è§‚ç±»ä¼šå˜å¾—è‡ƒè‚¿éš¾ä»¥ç»´æŠ¤ã€‚

```
âŒ å•å±‚å¤–è§‚é—®é¢˜ï¼š
å·¨å¤§å¤–è§‚ç±»
â”œâ”€â”€ ç”¨æˆ·ç®¡ç† (20ä¸ªæ–¹æ³•)
â”œâ”€â”€ è®¢å•å¤„ç† (15ä¸ªæ–¹æ³•)  
â”œâ”€â”€ æ”¯ä»˜æµç¨‹ (12ä¸ªæ–¹æ³•)
â”œâ”€â”€ åº“å­˜ç®¡ç† (18ä¸ªæ–¹æ³•)
â””â”€â”€ ç‰©æµè·Ÿè¸ª (10ä¸ªæ–¹æ³•)
æ€»è®¡ï¼š75ä¸ªæ–¹æ³•ï¼å¤ªè‡ƒè‚¿äº†ï¼

âœ… åˆ†å±‚å¤–è§‚è§£å†³ï¼š
é¡¶å±‚å¤–è§‚
â”œâ”€â”€ ç”¨æˆ·å¤–è§‚ (UserFacade)
â”œâ”€â”€ è®¢å•å¤–è§‚ (OrderFacade)
â”œâ”€â”€ æ”¯ä»˜å¤–è§‚ (PaymentFacade)
â””â”€â”€ ç‰©æµå¤–è§‚ (LogisticsFacade)
æ¯ä¸ªå¤–è§‚åªè´Ÿè´£è‡ªå·±çš„é¢†åŸŸ
```

### 2.2 åˆ†å±‚å¤–è§‚çš„è®¾è®¡åŸåˆ™


**ğŸ”¸ å•ä¸€èŒè´£**ï¼šæ¯ä¸ªå¤–è§‚åªè´Ÿè´£ä¸€ä¸ªä¸šåŠ¡é¢†åŸŸ
**ğŸ”¸ å±‚æ¬¡æ¸…æ™°**ï¼šé«˜å±‚å¤–è§‚è°ƒç”¨ä½å±‚å¤–è§‚
**ğŸ”¸ æ¥å£ä¸€è‡´**ï¼šåŒå±‚å¤–è§‚æ¥å£é£æ ¼ä¿æŒä¸€è‡´

### 2.3 åˆ†å±‚å¤–è§‚å®ç°ç¤ºä¾‹


ğŸ’¡ **åœºæ™¯**ï¼šç”µå•†ç³»ç»Ÿçš„åˆ†å±‚å¤–è§‚è®¾è®¡

```java
// === åº•å±‚å­ç³»ç»Ÿ ===
class UserService {
    public void validateUser(String userId) {
        System.out.println("éªŒè¯ç”¨æˆ·: " + userId);
    }
}

class ProductService {
    public boolean checkStock(String productId, int quantity) {
        System.out.println("æ£€æŸ¥åº“å­˜: " + productId);
        return true;
    }
    
    public void reduceStock(String productId, int quantity) {
        System.out.println("å‡å°‘åº“å­˜: " + productId);
    }
}

class PaymentService {
    public boolean processPayment(double amount) {
        System.out.println("å¤„ç†æ”¯ä»˜: $" + amount);
        return true;
    }
}

// === ä¸­å±‚å¤–è§‚ ===
// è®¢å•å¤–è§‚
class OrderFacade {
    private ProductService productService = new ProductService();
    
    public boolean createOrder(String productId, int quantity) {
        if (productService.checkStock(productId, quantity)) {
            productService.reduceStock(productId, quantity);
            System.out.println("è®¢å•åˆ›å»ºæˆåŠŸ");
            return true;
        }
        return false;
    }
}

// æ”¯ä»˜å¤–è§‚
class PaymentFacade {
    private PaymentService paymentService = new PaymentService();
    
    public boolean handlePayment(double amount) {
        return paymentService.processPayment(amount);
    }
}

// === é¡¶å±‚å¤–è§‚ ===
class EcommerceFacade {
    private UserService userService = new UserService();
    private OrderFacade orderFacade = new OrderFacade();
    private PaymentFacade paymentFacade = new PaymentFacade();
    
    // ä¸€é”®è´­ä¹°æµç¨‹
    public boolean purchase(String userId, String productId, int quantity, double amount) {
        System.out.println("=== å¼€å§‹è´­ä¹°æµç¨‹ ===");
        
        // éªŒè¯ç”¨æˆ·
        userService.validateUser(userId);
        
        // åˆ›å»ºè®¢å•
        if (!orderFacade.createOrder(productId, quantity)) {
            System.out.println("è®¢å•åˆ›å»ºå¤±è´¥");
            return false;
        }
        
        // å¤„ç†æ”¯ä»˜
        if (!paymentFacade.handlePayment(amount)) {
            System.out.println("æ”¯ä»˜å¤±è´¥");
            return false;
        }
        
        System.out.println("=== è´­ä¹°æˆåŠŸ ===");
        return true;
    }
}
```

### 2.4 åˆ†å±‚å¤–è§‚çš„å±‚æ¬¡å›¾ç¤º


```
ğŸ“± å®¢æˆ·ç«¯åº”ç”¨
       â†“
ğŸŒ é¡¶å±‚ä¸šåŠ¡å¤–è§‚ (EcommerceFacade)
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è®¢å•å¤–è§‚     â”‚ æ”¯ä»˜å¤–è§‚     â”‚ ç”¨æˆ·å¤–è§‚     â”‚ â† ä¸­å±‚é¢†åŸŸå¤–è§‚
â”‚ OrderFacade â”‚PaymentFacadeâ”‚ UserFacade  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â†“             â†“             â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ äº§å“æœåŠ¡     â”‚ æ”¯ä»˜æœåŠ¡     â”‚ ç”¨æˆ·æœåŠ¡     â”‚ â† åº•å±‚æŠ€æœ¯æœåŠ¡
â”‚ProductServiceâ”‚PaymentServiceâ”‚UserService â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3. âš™ï¸ å¯é…ç½®å¤–è§‚


### 3.1 ä»€ä¹ˆæ˜¯å¯é…ç½®å¤–è§‚


â­â­ **éœ€è¦æŒæ¡**

**é€šä¿—ç†è§£**ï¼šå°±åƒæ‰‹æœºçš„å¿«æ·è®¾ç½®ï¼Œä½ å¯ä»¥è‡ªå®šä¹‰å“ªäº›åŠŸèƒ½æ”¾åœ¨æ§åˆ¶é¢æ¿ä¸Šã€‚

```
ğŸ”§ é…ç½®ç¤ºä¾‹ï¼š
ç”¨æˆ·Açš„å¤–è§‚é…ç½®ï¼š
â”œâ”€â”€ å¼€å¯æ—¥å¿—è®°å½•
â”œâ”€â”€ ä½¿ç”¨ç¼“å­˜
â””â”€â”€ å¼‚æ­¥å¤„ç†

ç”¨æˆ·Bçš„å¤–è§‚é…ç½®ï¼š
â”œâ”€â”€ å…³é—­æ—¥å¿—è®°å½•  
â”œâ”€â”€ ä¸ä½¿ç”¨ç¼“å­˜
â””â”€â”€ åŒæ­¥å¤„ç†

åŒä¸€ä¸ªå¤–è§‚ï¼Œä¸åŒçš„è¡Œä¸ºï¼
```

### 3.2 å¯é…ç½®å¤–è§‚çš„å®ç°ç­–ç•¥


**ğŸ”¸ é…ç½®æ–‡ä»¶æ–¹å¼**ï¼šé€šè¿‡å¤–éƒ¨é…ç½®æ–‡ä»¶æ§åˆ¶è¡Œä¸º
**ğŸ”¸ å‚æ•°æ³¨å…¥æ–¹å¼**ï¼šé€šè¿‡æ„é€ å‡½æ•°æˆ–setteræ–¹æ³•æ³¨å…¥é…ç½®
**ğŸ”¸ ç­–ç•¥æ¨¡å¼ç»“åˆ**ï¼šä¸åŒé…ç½®å¯¹åº”ä¸åŒçš„ç­–ç•¥å®ç°

### 3.3 é…ç½®æ–‡ä»¶æ–¹å¼å®ç°


```java
// é…ç½®ç±»
class FacadeConfig {
    private boolean enableLogging = true;
    private boolean enableCache = false;
    private int timeout = 5000;
    
    // æ„é€ å‡½æ•°ã€getterã€setterçœç•¥...
}

// å¯é…ç½®çš„æ•°æ®åº“å¤–è§‚
class DatabaseFacade {
    private FacadeConfig config;
    private Logger logger;
    private Cache cache;
    
    public DatabaseFacade(FacadeConfig config) {
        this.config = config;
        this.logger = config.isEnableLogging() ? new Logger() : null;
        this.cache = config.isEnableCache() ? new Cache() : null;
    }
    
    public String queryData(String sql) {
        // æ ¹æ®é…ç½®å†³å®šæ˜¯å¦è®°å½•æ—¥å¿—
        if (config.isEnableLogging() && logger != null) {
            logger.log("æ‰§è¡ŒæŸ¥è¯¢: " + sql);
        }
        
        // æ ¹æ®é…ç½®å†³å®šæ˜¯å¦ä½¿ç”¨ç¼“å­˜
        if (config.isEnableCache() && cache != null) {
            String cached = cache.get(sql);
            if (cached != null) {
                return cached;
            }
        }
        
        // å®é™…æŸ¥è¯¢æ•°æ®åº“
        String result = executeQuery(sql);
        
        // ç¼“å­˜ç»“æœ
        if (config.isEnableCache() && cache != null) {
            cache.put(sql, result);
        }
        
        return result;
    }
    
    private String executeQuery(String sql) {
        // æ¨¡æ‹Ÿæ•°æ®åº“æŸ¥è¯¢
        return "æŸ¥è¯¢ç»“æœ: " + sql;
    }
}
```

### 3.4 ç­–ç•¥æ¨¡å¼ç»“åˆå®ç°


```java
// å¤„ç†ç­–ç•¥æ¥å£
interface ProcessingStrategy {
    String process(String data);
}

// åŒæ­¥å¤„ç†ç­–ç•¥
class SyncStrategy implements ProcessingStrategy {
    public String process(String data) {
        return "åŒæ­¥å¤„ç†: " + data;
    }
}

// å¼‚æ­¥å¤„ç†ç­–ç•¥
class AsyncStrategy implements ProcessingStrategy {
    public String process(String data) {
        return "å¼‚æ­¥å¤„ç†: " + data;
    }
}

// å¯é…ç½®çš„ä¸šåŠ¡å¤–è§‚
class BusinessFacade {
    private ProcessingStrategy strategy;
    
    public BusinessFacade(String strategyType) {
        // æ ¹æ®é…ç½®é€‰æ‹©ç­–ç•¥
        if ("async".equals(strategyType)) {
            this.strategy = new AsyncStrategy();
        } else {
            this.strategy = new SyncStrategy();
        }
    }
    
    public String handleRequest(String request) {
        return strategy.process(request);
    }
}
```

**ğŸ¯ ä½¿ç”¨ç¤ºä¾‹**ï¼š
```java
// ä¸åŒçš„é…ç½®ï¼Œä¸åŒçš„è¡Œä¸º
BusinessFacade syncFacade = new BusinessFacade("sync");
BusinessFacade asyncFacade = new BusinessFacade("async");

System.out.println(syncFacade.handleRequest("æ•°æ®"));  // åŒæ­¥å¤„ç†
System.out.println(asyncFacade.handleRequest("æ•°æ®")); // å¼‚æ­¥å¤„ç†
```

---

## 4. ğŸ­ å¤–è§‚å·¥å‚æ¨¡å¼


### 4.1 å¤–è§‚å·¥å‚çš„ä½œç”¨


â­â­ **éœ€è¦æŒæ¡**

**é—®é¢˜åœºæ™¯**ï¼šå½“éœ€è¦åˆ›å»ºä¸åŒç±»å‹çš„å¤–è§‚æ—¶ï¼Œå®¢æˆ·ç«¯éœ€è¦äº†è§£å¤ªå¤šåˆ›å»ºç»†èŠ‚ã€‚

**è§£å†³æ–¹æ¡ˆ**ï¼šç”¨å·¥å‚æ¨¡å¼æ¥åˆ›å»ºå¤–è§‚ï¼Œå®¢æˆ·ç«¯åªéœ€è¦å‘Šè¯‰å·¥å‚æƒ³è¦ä»€ä¹ˆç±»å‹çš„å¤–è§‚ã€‚

```
ğŸ­ å¤–è§‚å·¥å‚çš„ä½œç”¨ï¼š
å®¢æˆ·ç«¯è¯´ï¼š"æˆ‘è¦ä¸€ä¸ªæ•°æ®åº“å¤–è§‚"
å·¥å‚å›å¤ï¼š"å¥½çš„ï¼ŒMySQLçš„è¿˜æ˜¯Oracleçš„ï¼Ÿ"
å®¢æˆ·ç«¯è¯´ï¼š"MySQLçš„"
å·¥å‚è¿”å›ï¼šé…ç½®å¥½çš„MySQLå¤–è§‚å®ä¾‹
```

### 4.2 å¤–è§‚å·¥å‚å®ç°ç¤ºä¾‹


```java
// æŠ½è±¡å¤–è§‚æ¥å£
interface DatabaseFacade {
    String connect();
    String query(String sql);
    void disconnect();
}

// MySQLå¤–è§‚å®ç°
class MySQLFacade implements DatabaseFacade {
    public String connect() {
        return "è¿æ¥åˆ°MySQLæ•°æ®åº“";
    }
    
    public String query(String sql) {
        return "MySQLæŸ¥è¯¢ç»“æœ: " + sql;
    }
    
    public void disconnect() {
        System.out.println("æ–­å¼€MySQLè¿æ¥");
    }
}

// Oracleå¤–è§‚å®ç°
class OracleFacade implements DatabaseFacade {
    public String connect() {
        return "è¿æ¥åˆ°Oracleæ•°æ®åº“";
    }
    
    public String query(String sql) {
        return "OracleæŸ¥è¯¢ç»“æœ: " + sql;
    }
    
    public void disconnect() {
        System.out.println("æ–­å¼€Oracleè¿æ¥");
    }
}

// å¤–è§‚å·¥å‚
class DatabaseFacadeFactory {
    
    // æ ¹æ®ç±»å‹åˆ›å»ºç›¸åº”çš„å¤–è§‚
    public static DatabaseFacade createFacade(String type) {
        if ("mysql".equalsIgnoreCase(type)) {
            return new MySQLFacade();
        } else if ("oracle".equalsIgnoreCase(type)) {
            return new OracleFacade();
        } else {
            throw new IllegalArgumentException("ä¸æ”¯æŒçš„æ•°æ®åº“ç±»å‹: " + type);
        }
    }
    
    // æ ¹æ®é…ç½®åˆ›å»ºå¤–è§‚
    public static DatabaseFacade createFacadeFromConfig(Properties config) {
        String dbType = config.getProperty("database.type", "mysql");
        return createFacade(dbType);
    }
}
```

**ğŸ¯ ä½¿ç”¨ç¤ºä¾‹**ï¼š
```java
public class Client {
    public static void main(String[] args) {
        // æ–¹å¼1ï¼šç›´æ¥æŒ‡å®šç±»å‹
        DatabaseFacade mysqlFacade = DatabaseFacadeFactory.createFacade("mysql");
        System.out.println(mysqlFacade.connect());
        
        // æ–¹å¼2ï¼šä»é…ç½®æ–‡ä»¶åˆ›å»º
        Properties config = new Properties();
        config.setProperty("database.type", "oracle");
        DatabaseFacade oracleFacade = DatabaseFacadeFactory.createFacadeFromConfig(config);
        System.out.println(oracleFacade.connect());
    }
}
```

### 4.3 å¤–è§‚å·¥å‚çš„ä¼˜åŠ¿


| ğŸ†š **å¯¹æ¯”ç»´åº¦** | **ç›´æ¥åˆ›å»º** | **å·¥å‚åˆ›å»º** |
|----------------|-------------|-------------|
| ğŸ§  **å¤æ‚åº¦** | å®¢æˆ·ç«¯éœ€è¦äº†è§£åˆ›å»ºç»†èŠ‚ | å®¢æˆ·ç«¯åªéœ€è¦çŸ¥é“ç±»å‹ |
| ğŸ”„ **æ‰©å±•æ€§** | æ·»åŠ æ–°ç±»å‹éœ€è¦ä¿®æ”¹å®¢æˆ·ç«¯ | åªéœ€è¦ä¿®æ”¹å·¥å‚ |
| ğŸ“¦ **å°è£…æ€§** | åˆ›å»ºé€»è¾‘åˆ†æ•£ | åˆ›å»ºé€»è¾‘é›†ä¸­ç®¡ç† |

---

## 5. ğŸ”— å¤–è§‚ä»£ç†ç»“åˆ


### 5.1 ä¸ºä»€ä¹ˆè¦ç»“åˆä»£ç†æ¨¡å¼


â­â­ **éœ€è¦æŒæ¡**

**åº”ç”¨åœºæ™¯**ï¼š
- **æƒé™æ§åˆ¶**ï¼šåœ¨è®¿é—®å¤–è§‚å‰æ£€æŸ¥æƒé™
- **æ€§èƒ½ç›‘æ§**ï¼šè®°å½•å¤–è§‚æ–¹æ³•çš„æ‰§è¡Œæ—¶é—´
- **ç¼“å­˜æœºåˆ¶**ï¼šç¼“å­˜é¢‘ç¹è°ƒç”¨çš„ç»“æœ
- **æ‡’åŠ è½½**ï¼šå»¶è¿Ÿåˆå§‹åŒ–å¤æ‚çš„å¤–è§‚å¯¹è±¡

```
ğŸ”— å¤–è§‚+ä»£ç†çš„ç»“æ„ï¼š
å®¢æˆ·ç«¯ â†’ å¤–è§‚ä»£ç† â†’ çœŸå®å¤–è§‚ â†’ å­ç³»ç»Ÿ
        â†‘
   åœ¨è¿™é‡Œæ·»åŠ é¢å¤–åŠŸèƒ½ï¼š
   â€¢ æƒé™æ£€æŸ¥
   â€¢ æ€§èƒ½ç›‘æ§  
   â€¢ ç¼“å­˜å¤„ç†
   â€¢ æ—¥å¿—è®°å½•
```

### 5.2 æƒé™æ§åˆ¶ä»£ç†ç¤ºä¾‹


```java
// å¤–è§‚æ¥å£
interface SystemFacade {
    String executeCommand(String command);
    String queryData(String table);
}

// çœŸå®å¤–è§‚å®ç°
class RealSystemFacade implements SystemFacade {
    
    public String executeCommand(String command) {
        return "æ‰§è¡Œå‘½ä»¤: " + command;
    }
    
    public String queryData(String table) {
        return "æŸ¥è¯¢è¡¨æ•°æ®: " + table;
    }
}

// æƒé™æ§åˆ¶ä»£ç†
class SecurityProxyFacade implements SystemFacade {
    private RealSystemFacade realFacade;
    private String userRole;
    
    public SecurityProxyFacade(String userRole) {
        this.userRole = userRole;
        this.realFacade = new RealSystemFacade();
    }
    
    public String executeCommand(String command) {
        // æƒé™æ£€æŸ¥
        if (!"admin".equals(userRole)) {
            return "æƒé™ä¸è¶³ï¼šéœ€è¦ç®¡ç†å‘˜æƒé™æ‰èƒ½æ‰§è¡Œå‘½ä»¤";
        }
        
        return realFacade.executeCommand(command);
    }
    
    public String queryData(String table) {
        // æŸ¥è¯¢æƒé™ç›¸å¯¹å®½æ¾ï¼Œæ™®é€šç”¨æˆ·ä¹Ÿå¯ä»¥
        if ("guest".equals(userRole)) {
            return "æƒé™ä¸è¶³ï¼šæ¸¸å®¢æ— æ³•æŸ¥è¯¢æ•°æ®";
        }
        
        return realFacade.queryData(table);
    }
}
```

### 5.3 æ€§èƒ½ç›‘æ§ä»£ç†ç¤ºä¾‹


```java
// æ€§èƒ½ç›‘æ§ä»£ç†
class PerformanceProxyFacade implements SystemFacade {
    private RealSystemFacade realFacade = new RealSystemFacade();
    
    public String executeCommand(String command) {
        long startTime = System.currentTimeMillis();
        
        String result = realFacade.executeCommand(command);
        
        long endTime = System.currentTimeMillis();
        System.out.println("æ‰§è¡Œå‘½ä»¤è€—æ—¶: " + (endTime - startTime) + "ms");
        
        return result;
    }
    
    public String queryData(String table) {
        long startTime = System.currentTimeMillis();
        
        String result = realFacade.queryData(table);
        
        long endTime = System.currentTimeMillis();
        System.out.println("æŸ¥è¯¢æ•°æ®è€—æ—¶: " + (endTime - startTime) + "ms");
        
        return result;
    }
}
```

### 5.4 ç¼“å­˜ä»£ç†ç¤ºä¾‹


```java
// ç¼“å­˜ä»£ç†
class CacheProxyFacade implements SystemFacade {
    private RealSystemFacade realFacade = new RealSystemFacade();
    private Map<String, String> cache = new HashMap<>();
    
    public String executeCommand(String command) {
        // å‘½ä»¤ç±»å‹çš„æ“ä½œä¸é€‚åˆç¼“å­˜
        return realFacade.executeCommand(command);
    }
    
    public String queryData(String table) {
        // æ£€æŸ¥ç¼“å­˜
        if (cache.containsKey(table)) {
            System.out.println("ä»ç¼“å­˜è¿”å›: " + table);
            return cache.get(table);
        }
        
        // ç¼“å­˜æœªå‘½ä¸­ï¼Œè°ƒç”¨çœŸå®å¤–è§‚
        String result = realFacade.queryData(table);
        
        // å­˜å…¥ç¼“å­˜
        cache.put(table, result);
        System.out.println("ç»“æœå·²ç¼“å­˜: " + table);
        
        return result;
    }
}
```

**ğŸ¯ ç»„åˆä½¿ç”¨ç¤ºä¾‹**ï¼š
```java
public class Client {
    public static void main(String[] args) {
        // ä¸åŒç”¨æˆ·ä½¿ç”¨ä¸åŒçš„ä»£ç†
        SystemFacade adminFacade = new SecurityProxyFacade("admin");
        SystemFacade userFacade = new SecurityProxyFacade("user");
        
        // ç®¡ç†å‘˜å¯ä»¥æ‰§è¡Œå‘½ä»¤
        System.out.println(adminFacade.executeCommand("restart"));
        
        // æ™®é€šç”¨æˆ·æ— æ³•æ‰§è¡Œå‘½ä»¤
        System.out.println(userFacade.executeCommand("restart"));
        
        // ä½¿ç”¨ç¼“å­˜ä»£ç†
        SystemFacade cacheFacade = new CacheProxyFacade();
        System.out.println(cacheFacade.queryData("users")); // ç¬¬ä¸€æ¬¡æŸ¥è¯¢
        System.out.println(cacheFacade.queryData("users")); // ä»ç¼“å­˜è¿”å›
    }
}
```

---

## 6. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 6.1 äº”ç§å®ç°ç­–ç•¥å¯¹æ¯”


| ğŸ¯ **ç­–ç•¥ç±»å‹** | **é€‚ç”¨åœºæ™¯** | **å¤æ‚åº¦** | **çµæ´»æ€§** |
|----------------|-------------|-----------|-----------|
| ğŸ”¸ **ç®€å•å¤–è§‚** | å°å‹ç³»ç»Ÿï¼Œæ¥å£ç¨³å®š | ä½ â­ | ä½ â­ |
| ğŸ—ï¸ **åˆ†å±‚å¤–è§‚** | å¤§å‹ç³»ç»Ÿï¼ŒèŒè´£åˆ†ç¦» | ä¸­ â­â­ | ä¸­ â­â­ |
| âš™ï¸ **å¯é…ç½®å¤–è§‚** | éœ€è¦è¿è¡Œæ—¶è°ƒæ•´è¡Œä¸º | ä¸­ â­â­ | é«˜ â­â­â­ |
| ğŸ­ **å¤–è§‚å·¥å‚** | å¤šç§å¤–è§‚ç±»å‹é€‰æ‹© | ä¸­ â­â­ | é«˜ â­â­â­ |
| ğŸ”— **å¤–è§‚ä»£ç†** | éœ€è¦é¢å¤–æ§åˆ¶åŠŸèƒ½ | é«˜ â­â­â­ | é«˜ â­â­â­ |

### 6.2 é€‰æ‹©æŒ‡å¯¼åŸåˆ™


**ğŸ¯ æ ¹æ®ç³»ç»Ÿè§„æ¨¡é€‰æ‹©**ï¼š
```
å°å‹é¡¹ç›® (< 10ä¸ªç±»)     â†’ ç®€å•å¤–è§‚
ä¸­å‹é¡¹ç›® (10-50ä¸ªç±»)    â†’ åˆ†å±‚å¤–è§‚
å¤§å‹é¡¹ç›® (> 50ä¸ªç±»)     â†’ åˆ†å±‚å¤–è§‚ + å·¥å‚
```

**ğŸ¯ æ ¹æ®åŠŸèƒ½éœ€æ±‚é€‰æ‹©**ï¼š
```
åŸºç¡€å°è£…éœ€æ±‚           â†’ ç®€å•å¤–è§‚
éœ€è¦è¿è¡Œæ—¶é…ç½®         â†’ å¯é…ç½®å¤–è§‚  
å¤šç§å®ç°æ–¹å¼           â†’ å¤–è§‚å·¥å‚
éœ€è¦æƒé™/ç›‘æ§/ç¼“å­˜     â†’ å¤–è§‚ä»£ç†
```

### 6.3 å®æ–½å»ºè®®


âœ… **æœ€ä½³å®è·µ**ï¼š
- ä»ç®€å•å¤–è§‚å¼€å§‹ï¼Œæ ¹æ®éœ€è¦é€æ­¥æ¼”è¿›
- ä¿æŒå¤–è§‚æ¥å£çš„ç¨³å®šæ€§
- åˆç†æ§åˆ¶å¤–è§‚çš„ç²’åº¦ï¼Œé¿å…è¿‡åº¦å°è£…
- ç»“åˆå…¶ä»–æ¨¡å¼æ—¶è¦è€ƒè™‘å¤æ‚åº¦æƒè¡¡

âš ï¸ **å¸¸è§é™·é˜±**ï¼š
- å¤–è§‚ç±»å˜å¾—è¿‡äºåºå¤§è‡ƒè‚¿
- è¿‡åº¦ä½¿ç”¨ä»£ç†å¯¼è‡´æ€§èƒ½æŸå¤±
- é…ç½®è¿‡äºå¤æ‚ï¼Œåè€Œé™ä½æ˜“ç”¨æ€§
- åˆ†å±‚è¿‡åº¦ï¼Œå¢åŠ ä¸å¿…è¦çš„å¤æ‚æ€§

ğŸ§  **è®°å¿†å£è¯€**ï¼š
```
å¤–è§‚æ¨¡å¼äº”ç­–ç•¥ï¼Œç®€å•åˆ†å±‚å¯é…ç½®
å·¥å‚åˆ›å»ºé€‰ç±»å‹ï¼Œä»£ç†å¢å¼ºæ·»åŠŸèƒ½
æ ¹æ®åœºæ™¯åšé€‰æ‹©ï¼Œä»ç®€åˆ°ç¹æ¸æ¼”è¿›
```

ğŸ’¡ **æ ¸å¿ƒä»·å€¼**ï¼š
å¤–è§‚æ¨¡å¼çš„ä¸åŒå®ç°ç­–ç•¥ä¸ºæˆ‘ä»¬æä¾›äº†çµæ´»çš„é€‰æ‹©ï¼Œå¯ä»¥æ ¹æ®é¡¹ç›®çš„å®é™…éœ€æ±‚é€‰æ‹©åˆé€‚çš„å®ç°æ–¹å¼ï¼Œæ—¢èƒ½ä¿æŒæ¥å£çš„ç®€æ´æ€§ï¼Œåˆèƒ½æ»¡è¶³å¤æ‚ç³»ç»Ÿçš„éœ€æ±‚ã€‚