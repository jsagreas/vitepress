---
title: 6ã€ä»£ç†æ¨¡å¼ä»£ç å®æˆ˜
---
## ğŸ“š ç›®å½•

1. [é™æ€ä»£ç†å®Œæ•´å®ç°](#1-é™æ€ä»£ç†å®Œæ•´å®ç°)
2. [åŠ¨æ€ä»£ç†æ·±å…¥å®æˆ˜](#2-åŠ¨æ€ä»£ç†æ·±å…¥å®æˆ˜)
3. [AOPæ¡†æ¶é›†æˆåº”ç”¨](#3-AOPæ¡†æ¶é›†æˆåº”ç”¨)
4. [æ€§èƒ½æµ‹è¯•ä¸å¯¹æ¯”åˆ†æ](#4-æ€§èƒ½æµ‹è¯•ä¸å¯¹æ¯”åˆ†æ)
5. [ä¼ä¸šçº§åº”ç”¨åœºæ™¯](#5-ä¼ä¸šçº§åº”ç”¨åœºæ™¯)
6. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#6-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ—ï¸ é™æ€ä»£ç†å®Œæ•´å®ç°


### 1.1 ä»€ä¹ˆæ˜¯é™æ€ä»£ç†


**é€šä¿—ç†è§£**ï¼šé™æ€ä»£ç†å°±åƒç°å®ä¸­çš„"ç»çºªäºº"ï¼Œæ˜æ˜Ÿä¸ç›´æ¥æ¥æ´»åŠ¨ï¼Œè€Œæ˜¯é€šè¿‡ç»çºªäººæ¥å¤„ç†ã€‚ç»çºªäººçŸ¥é“æ˜æ˜Ÿèƒ½åšä»€ä¹ˆï¼Œå¹¶ä¸”å¯ä»¥åœ¨å‰ååŠ ä¸Šè‡ªå·±çš„å¤„ç†é€»è¾‘ã€‚

```
ç°å®åœºæ™¯ï¼š
å®¢æˆ· â†’ ç»çºªäºº â†’ æ˜æ˜Ÿ
      â†‘
   (è°ˆä»·æ ¼ã€å®‰æ’æ—¶é—´ã€å¤„ç†çäº‹)

ä»£ç åœºæ™¯ï¼š
è°ƒç”¨è€… â†’ ä»£ç†ç±» â†’ çœŸå®å¯¹è±¡
        â†‘
     (æƒé™æ£€æŸ¥ã€æ—¥å¿—è®°å½•ã€æ€§èƒ½ç›‘æ§)
```

### 1.2 é™æ€ä»£ç†æ ¸å¿ƒå®ç°


**ğŸ¯ ä¸šåŠ¡åœºæ™¯**ï¼šç”¨æˆ·æœåŠ¡ç³»ç»Ÿï¼Œéœ€è¦åœ¨æ¯æ¬¡æ“ä½œå‰è¿›è¡Œæƒé™éªŒè¯å’Œæ—¥å¿—è®°å½•

```java
// ç¬¬ä¸€æ­¥ï¼šå®šä¹‰æœåŠ¡æ¥å£ï¼ˆæ˜æ˜Ÿçš„"èƒ½åŠ›"ï¼‰
public interface UserService {
    void createUser(String username);
    void deleteUser(String username);
    User findUser(String username);
}
```

```java
// ç¬¬äºŒæ­¥ï¼šçœŸå®æœåŠ¡å®ç°ï¼ˆçœŸæ­£çš„æ˜æ˜Ÿï¼‰
public class UserServiceImpl implements UserService {
    
    @Override
    public void createUser(String username) {
        // è¿™é‡Œæ˜¯çœŸæ­£çš„ä¸šåŠ¡é€»è¾‘
        System.out.println("åˆ›å»ºç”¨æˆ·ï¼š" + username);
        // å®é™…ä¼šæ“ä½œæ•°æ®åº“
    }
    
    @Override
    public void deleteUser(String username) {
        System.out.println("åˆ é™¤ç”¨æˆ·ï¼š" + username);
    }
    
    @Override
    public User findUser(String username) {
        System.out.println("æŸ¥æ‰¾ç”¨æˆ·ï¼š" + username);
        return new User(username);
    }
}
```

```java
// ç¬¬ä¸‰æ­¥ï¼šä»£ç†ç±»å®ç°ï¼ˆç»çºªäººï¼‰
public class UserServiceProxy implements UserService {
    private UserService realService;
    private String currentUser;
    
    public UserServiceProxy(UserService realService, String currentUser) {
        this.realService = realService;
        this.currentUser = currentUser;
    }
    
    @Override
    public void createUser(String username) {
        // å‰ç½®å¤„ç†ï¼šæƒé™æ£€æŸ¥
        if (!hasPermission("CREATE")) {
            throw new SecurityException("æ²¡æœ‰åˆ›å»ºç”¨æˆ·æƒé™");
        }
        
        // å‰ç½®å¤„ç†ï¼šè®°å½•æ—¥å¿—
        logOperation("CREATE_USER", username);
        
        // è°ƒç”¨çœŸå®å¯¹è±¡
        realService.createUser(username);
        
        // åç½®å¤„ç†ï¼šæ“ä½œå®¡è®¡
        auditOperation("ç”¨æˆ·åˆ›å»ºæˆåŠŸ", username);
    }
    
    @Override
    public void deleteUser(String username) {
        if (!hasPermission("DELETE")) {
            throw new SecurityException("æ²¡æœ‰åˆ é™¤ç”¨æˆ·æƒé™");
        }
        
        logOperation("DELETE_USER", username);
        realService.deleteUser(username);
        auditOperation("ç”¨æˆ·åˆ é™¤æˆåŠŸ", username);
    }
    
    @Override
    public User findUser(String username) {
        // æŸ¥è¯¢æ“ä½œä¸éœ€è¦ç‰¹æ®Šæƒé™ï¼Œä½†è¦è®°å½•æ—¥å¿—
        logOperation("FIND_USER", username);
        return realService.findUser(username);
    }
    
    // æƒé™æ£€æŸ¥æ–¹æ³•
    private boolean hasPermission(String operation) {
        // ç®€åŒ–çš„æƒé™é€»è¾‘
        return "admin".equals(currentUser) || "CREATE".equals(operation);
    }
    
    // æ—¥å¿—è®°å½•æ–¹æ³•
    private void logOperation(String operation, String target) {
        System.out.println("[æ—¥å¿—] " + currentUser + " æ‰§è¡Œ " + operation + " æ“ä½œï¼Œç›®æ ‡ï¼š" + target);
    }
    
    // å®¡è®¡æ–¹æ³•
    private void auditOperation(String result, String target) {
        System.out.println("[å®¡è®¡] " + result + "ï¼Œç›®æ ‡ï¼š" + target + "ï¼Œæ“ä½œè€…ï¼š" + currentUser);
    }
}
```

### 1.3 é™æ€ä»£ç†ä½¿ç”¨ç¤ºä¾‹


```java
public class StaticProxyDemo {
    public static void main(String[] args) {
        // åˆ›å»ºçœŸå®æœåŠ¡
        UserService realService = new UserServiceImpl();
        
        // åˆ›å»ºä»£ç†ï¼Œå½“å‰ç”¨æˆ·æ˜¯admin
        UserService proxyService = new UserServiceProxy(realService, "admin");
        
        System.out.println("=== ç®¡ç†å‘˜æ“ä½œ ===");
        proxyService.createUser("å¼ ä¸‰");
        proxyService.findUser("å¼ ä¸‰");
        
        System.out.println("\n=== æ™®é€šç”¨æˆ·æ“ä½œ ===");
        UserService normalUserProxy = new UserServiceProxy(realService, "normalUser");
        try {
            normalUserProxy.deleteUser("å¼ ä¸‰"); // è¿™ä¼šæŠ›å‡ºæƒé™å¼‚å¸¸
        } catch (SecurityException e) {
            System.out.println("æƒé™ä¸è¶³ï¼š" + e.getMessage());
        }
    }
}
```

**ğŸ” è¿è¡Œç»“æœ**ï¼š
```
=== ç®¡ç†å‘˜æ“ä½œ ===
[æ—¥å¿—] admin æ‰§è¡Œ CREATE_USER æ“ä½œï¼Œç›®æ ‡ï¼šå¼ ä¸‰
åˆ›å»ºç”¨æˆ·ï¼šå¼ ä¸‰
[å®¡è®¡] ç”¨æˆ·åˆ›å»ºæˆåŠŸï¼Œç›®æ ‡ï¼šå¼ ä¸‰ï¼Œæ“ä½œè€…ï¼šadmin
[æ—¥å¿—] admin æ‰§è¡Œ FIND_USER æ“ä½œï¼Œç›®æ ‡ï¼šå¼ ä¸‰
æŸ¥æ‰¾ç”¨æˆ·ï¼šå¼ ä¸‰

=== æ™®é€šç”¨æˆ·æ“ä½œ ===
æƒé™ä¸è¶³ï¼šæ²¡æœ‰åˆ é™¤ç”¨æˆ·æƒé™
```

### 1.4 é™æ€ä»£ç†çš„ä¼˜ç¼ºç‚¹


| ä¼˜ç‚¹ | ç¼ºç‚¹ |
|------|------|
| ğŸ¯ **ç®€å•æ˜“æ‡‚**ï¼šä»£ç ç»“æ„æ¸…æ™° | âŒ **ä»£ç å†—ä½™**ï¼šæ¯ä¸ªæ¥å£éƒ½è¦å†™ä»£ç†ç±» |
| ğŸ¯ **ç¼–è¯‘æ—¶ç¡®å®š**ï¼šIDEæ”¯æŒå¥½ï¼Œè°ƒè¯•æ–¹ä¾¿ | âŒ **ç»´æŠ¤å›°éš¾**ï¼šæ¥å£å˜åŒ–æ—¶ä»£ç†ä¹Ÿè¦æ”¹ |
| ğŸ¯ **æ€§èƒ½è¾ƒå¥½**ï¼šæ²¡æœ‰åå°„å¼€é”€ | âŒ **æ‰©å±•æ€§å·®**ï¼šéš¾ä»¥åŠ¨æ€æ·»åŠ æ–°åŠŸèƒ½ |

---

## 2. âš¡ åŠ¨æ€ä»£ç†æ·±å…¥å®æˆ˜


### 2.1 åŠ¨æ€ä»£ç†çš„æ ¸å¿ƒæ€æƒ³


**é€šä¿—ç†è§£**ï¼šå¦‚æœé™æ€ä»£ç†æ˜¯"ä¸“é—¨çš„ç»çºªäºº"ï¼ˆä¸€ä¸ªç»çºªäººåªæœåŠ¡ä¸€ä¸ªæ˜æ˜Ÿï¼‰ï¼Œé‚£åŠ¨æ€ä»£ç†å°±æ˜¯"ä¸‡èƒ½ç»çºªäºº"ï¼ˆä¸€ä¸ªç»çºªäººå¯ä»¥æœåŠ¡ä»»ä½•æ˜æ˜Ÿï¼Œæ ¹æ®éœ€è¦ä¸´æ—¶å­¦ä¹ æ˜æ˜Ÿçš„æŠ€èƒ½ï¼‰ã€‚

```
é™æ€ä»£ç†ï¼š
ç»çºªäººA â†’ æ˜æ˜ŸA
ç»çºªäººB â†’ æ˜æ˜ŸB  
ç»çºªäººC â†’ æ˜æ˜ŸC

åŠ¨æ€ä»£ç†ï¼š
ä¸‡èƒ½ç»çºªäºº â†’ ä»»ä½•æ˜æ˜Ÿï¼ˆè¿è¡Œæ—¶å†³å®šæœåŠ¡è°ï¼‰
```

### 2.2 JDKåŠ¨æ€ä»£ç†å®ç°


```java
// é€šç”¨çš„åŠ¨æ€ä»£ç†å¤„ç†å™¨
public class ServiceInvocationHandler implements InvocationHandler {
    private Object target; // è¢«ä»£ç†çš„çœŸå®å¯¹è±¡
    private String currentUser;
    
    public ServiceInvocationHandler(Object target, String currentUser) {
        this.target = target;
        this.currentUser = currentUser;
    }
    
    @Override
    public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {
        String methodName = method.getName();
        
        // å‰ç½®å¤„ç†ï¼šç»Ÿä¸€çš„æ—¥å¿—è®°å½•
        System.out.println("[åŠ¨æ€ä»£ç†æ—¥å¿—] " + currentUser + " è°ƒç”¨ " + 
                          target.getClass().getSimpleName() + "." + methodName);
        
        // å‰ç½®å¤„ç†ï¼šæƒé™æ£€æŸ¥ï¼ˆæ ¹æ®æ–¹æ³•ååˆ¤æ–­ï¼‰
        if (needPermissionCheck(methodName)) {
            checkPermission(methodName);
        }
        
        // å‰ç½®å¤„ç†ï¼šæ€§èƒ½ç›‘æ§
        long startTime = System.currentTimeMillis();
        
        try {
            // è°ƒç”¨çœŸå®å¯¹è±¡çš„æ–¹æ³•
            Object result = method.invoke(target, args);
            
            // åç½®å¤„ç†ï¼šè®°å½•æˆåŠŸæ—¥å¿—
            long endTime = System.currentTimeMillis();
            System.out.println("[æ€§èƒ½ç›‘æ§] " + methodName + " æ‰§è¡Œè€—æ—¶ï¼š" + 
                              (endTime - startTime) + "ms");
            
            return result;
            
        } catch (Exception e) {
            // å¼‚å¸¸å¤„ç†ï¼šè®°å½•é”™è¯¯æ—¥å¿—
            System.out.println("[é”™è¯¯æ—¥å¿—] " + methodName + " æ‰§è¡Œå¤±è´¥ï¼š" + e.getMessage());
            throw e;
        }
    }
    
    private boolean needPermissionCheck(String methodName) {
        // å†™æ“ä½œéœ€è¦æƒé™æ£€æŸ¥
        return methodName.startsWith("create") || 
               methodName.startsWith("delete") || 
               methodName.startsWith("update");
    }
    
    private void checkPermission(String methodName) {
        if (!"admin".equals(currentUser)) {
            throw new SecurityException("ç”¨æˆ· " + currentUser + " æ— æƒæ‰§è¡Œ " + methodName);
        }
    }
}
```

### 2.3 åŠ¨æ€ä»£ç†å·¥å‚ç±»


```java
// ä»£ç†å·¥å‚ï¼šä¸“é—¨ç”¨æ¥åˆ›å»ºä»£ç†å¯¹è±¡
public class ProxyFactory {
    
    /**
     * åˆ›å»ºåŠ¨æ€ä»£ç†å¯¹è±¡
     * @param target è¢«ä»£ç†çš„å¯¹è±¡
     * @param currentUser å½“å‰ç”¨æˆ·
     * @return ä»£ç†å¯¹è±¡
     */
    @SuppressWarnings("unchecked")
    public static <T> T createProxy(T target, String currentUser) {
        return (T) Proxy.newProxyInstance(
            target.getClass().getClassLoader(),           // ç±»åŠ è½½å™¨
            target.getClass().getInterfaces(),            // æ¥å£æ•°ç»„
            new ServiceInvocationHandler(target, currentUser) // å¤„ç†å™¨
        );
    }
}
```

### 2.4 åŠ¨æ€ä»£ç†ä½¿ç”¨ç¤ºä¾‹


```java
public class DynamicProxyDemo {
    public static void main(String[] args) {
        // åˆ›å»ºå¤šä¸ªä¸åŒçš„æœåŠ¡
        UserService userService = new UserServiceImpl();
        OrderService orderService = new OrderServiceImpl();
        
        // ä½¿ç”¨åŒä¸€ä¸ªä»£ç†å·¥å‚åˆ›å»ºä»£ç†
        UserService userProxy = ProxyFactory.createProxy(userService, "admin");
        OrderService orderProxy = ProxyFactory.createProxy(orderService, "guest");
        
        System.out.println("=== ç®¡ç†å‘˜æ“ä½œç”¨æˆ·æœåŠ¡ ===");
        userProxy.createUser("æå››");
        userProxy.findUser("æå››");
        
        System.out.println("\n=== è®¿å®¢æ“ä½œè®¢å•æœåŠ¡ ===");
        orderProxy.findOrder("ORD001"); // æŸ¥è¯¢æ“ä½œï¼Œæ— éœ€æƒé™
        
        try {
            orderProxy.createOrder("ORD002", "æå››"); // åˆ›å»ºæ“ä½œï¼Œéœ€è¦æƒé™
        } catch (SecurityException e) {
            System.out.println("æƒé™æ£€æŸ¥å¤±è´¥ï¼š" + e.getMessage());
        }
    }
}
```

**ğŸ” è¿è¡Œç»“æœ**ï¼š
```
=== ç®¡ç†å‘˜æ“ä½œç”¨æˆ·æœåŠ¡ ===
[åŠ¨æ€ä»£ç†æ—¥å¿—] admin è°ƒç”¨ UserServiceImpl.createUser
åˆ›å»ºç”¨æˆ·ï¼šæå››
[æ€§èƒ½ç›‘æ§] createUser æ‰§è¡Œè€—æ—¶ï¼š2ms
[åŠ¨æ€ä»£ç†æ—¥å¿—] admin è°ƒç”¨ UserServiceImpl.findUser
æŸ¥æ‰¾ç”¨æˆ·ï¼šæå››
[æ€§èƒ½ç›‘æ§] findUser æ‰§è¡Œè€—æ—¶ï¼š1ms

=== è®¿å®¢æ“ä½œè®¢å•æœåŠ¡ ===
[åŠ¨æ€ä»£ç†æ—¥å¿—] guest è°ƒç”¨ OrderServiceImpl.findOrder
æŸ¥æ‰¾è®¢å•ï¼šORD001
[æ€§èƒ½ç›‘æ§] findOrder æ‰§è¡Œè€—æ—¶ï¼š1ms
[åŠ¨æ€ä»£ç†æ—¥å¿—] guest è°ƒç”¨ OrderServiceImpl.createOrder
æƒé™æ£€æŸ¥å¤±è´¥ï¼šç”¨æˆ· guest æ— æƒæ‰§è¡Œ createOrder
```

### 2.5 CGLIBåŠ¨æ€ä»£ç†å®æˆ˜


> ğŸ’¡ **JDK vs CGLIB**  
> JDKåŠ¨æ€ä»£ç†ï¼šåªèƒ½ä»£ç†å®ç°äº†æ¥å£çš„ç±»  
> CGLIBåŠ¨æ€ä»£ç†ï¼šå¯ä»¥ä»£ç†ä»»ä½•ç±»ï¼ˆé€šè¿‡ç»§æ‰¿æ–¹å¼ï¼‰

```java
// æ²¡æœ‰æ¥å£çš„æœåŠ¡ç±»
public class FileService {
    public void uploadFile(String filename) {
        System.out.println("ä¸Šä¼ æ–‡ä»¶ï¼š" + filename);
    }
    
    public void downloadFile(String filename) {
        System.out.println("ä¸‹è½½æ–‡ä»¶ï¼š" + filename);
    }
}
```

```java
import net.sf.cglib.proxy.Enhancer;
import net.sf.cglib.proxy.MethodInterceptor;
import net.sf.cglib.proxy.MethodProxy;

// CGLIBä»£ç†å¤„ç†å™¨
public class CglibProxyHandler implements MethodInterceptor {
    private String currentUser;
    
    public CglibProxyHandler(String currentUser) {
        this.currentUser = currentUser;
    }
    
    @Override
    public Object intercept(Object obj, Method method, Object[] args, MethodProxy proxy) 
            throws Throwable {
        
        System.out.println("[CGLIBä»£ç†] " + currentUser + " è°ƒç”¨ " + method.getName());
        
        // æ–‡ä»¶æ“ä½œæƒé™æ£€æŸ¥
        if (method.getName().startsWith("upload") && !"admin".equals(currentUser)) {
            throw new SecurityException("åªæœ‰ç®¡ç†å‘˜å¯ä»¥ä¸Šä¼ æ–‡ä»¶");
        }
        
        // è°ƒç”¨åŸæ–¹æ³•
        return proxy.invokeSuper(obj, args);
    }
    
    // åˆ›å»ºä»£ç†å¯¹è±¡çš„å·¥å‚æ–¹æ³•
    public static <T> T createProxy(Class<T> clazz, String currentUser) {
        Enhancer enhancer = new Enhancer();
        enhancer.setSuperclass(clazz);
        enhancer.setCallback(new CglibProxyHandler(currentUser));
        return (T) enhancer.create();
    }
}
```

```java
public class CglibProxyDemo {
    public static void main(String[] args) {
        // åˆ›å»ºCGLIBä»£ç†
        FileService adminFileService = CglibProxyHandler.createProxy(FileService.class, "admin");
        FileService guestFileService = CglibProxyHandler.createProxy(FileService.class, "guest");
        
        System.out.println("=== ç®¡ç†å‘˜æ–‡ä»¶æ“ä½œ ===");
        adminFileService.uploadFile("document.pdf");
        adminFileService.downloadFile("document.pdf");
        
        System.out.println("\n=== è®¿å®¢æ–‡ä»¶æ“ä½œ ===");
        guestFileService.downloadFile("document.pdf"); // ä¸‹è½½å…è®¸
        
        try {
            guestFileService.uploadFile("virus.exe"); // ä¸Šä¼ è¢«æ‹’ç»
        } catch (SecurityException e) {
            System.out.println("æ“ä½œè¢«æ‹’ç»ï¼š" + e.getMessage());
        }
    }
}
```

---

## 3. ğŸ¯ AOPæ¡†æ¶é›†æˆåº”ç”¨


### 3.1 AOPçš„æœ¬è´¨ç†è§£


**é€šä¿—è§£é‡Š**ï¼šAOPï¼ˆé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼‰å°±åƒæ˜¯ç»™ç¨‹åº"åŠ è°ƒæ–™"ã€‚ä½ å†™å¥½äº†ä¸»èœï¼ˆä¸šåŠ¡ä»£ç ï¼‰ï¼ŒAOPå¸®ä½ è‡ªåŠ¨åŠ ä¸Šè°ƒæ–™ï¼ˆæ—¥å¿—ã€æƒé™ã€äº‹åŠ¡ç­‰ï¼‰ï¼Œè€Œä¸”ä¸éœ€è¦æ”¹åŠ¨ä¸»èœçš„åšæ³•ã€‚

```
ä¼ ç»Ÿæ–¹å¼ï¼š
ä¸šåŠ¡æ–¹æ³• = æ—¥å¿—è®°å½• + æƒé™æ£€æŸ¥ + äº‹åŠ¡å¤„ç† + æ ¸å¿ƒä¸šåŠ¡ + å¼‚å¸¸å¤„ç† + æ€§èƒ½ç›‘æ§

AOPæ–¹å¼ï¼š
ä¸šåŠ¡æ–¹æ³• = æ ¸å¿ƒä¸šåŠ¡  ï¼ˆå…¶ä»–åŠŸèƒ½é€šè¿‡"åˆ‡é¢"è‡ªåŠ¨ç»‡å…¥ï¼‰
```

### 3.2 æ‰‹å†™ç®€å•AOPæ¡†æ¶


```java
// æ³¨è§£å®šä¹‰ï¼šæ ‡è®°å“ªäº›æ–¹æ³•éœ€è¦AOPå¤„ç†
@Target(ElementType.METHOD)
@Retention(RetentionPolicy.RUNTIME)
public @interface AutoLog {
    String value() default ""; // æ“ä½œæè¿°
}

@Target(ElementType.METHOD)
@Retention(RetentionPolicy.RUNTIME)
public @interface RequirePermission {
    String value(); // éœ€è¦çš„æƒé™
}
```

```java
// AOPå¤„ç†å™¨ï¼šå®ç°è‡ªåŠ¨æ—¥å¿—å’Œæƒé™æ£€æŸ¥
public class AopInvocationHandler implements InvocationHandler {
    private Object target;
    private String currentUser;
    private Set<String> userPermissions;
    
    public AopInvocationHandler(Object target, String currentUser, Set<String> permissions) {
        this.target = target;
        this.currentUser = currentUser;
        this.userPermissions = permissions;
    }
    
    @Override
    public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {
        // æ£€æŸ¥æ˜¯å¦éœ€è¦æƒé™éªŒè¯
        RequirePermission permissionAnnotation = method.getAnnotation(RequirePermission.class);
        if (permissionAnnotation != null) {
            String requiredPermission = permissionAnnotation.value();
            if (!userPermissions.contains(requiredPermission)) {
                throw new SecurityException("ç¼ºå°‘æƒé™ï¼š" + requiredPermission);
            }
        }
        
        // æ£€æŸ¥æ˜¯å¦éœ€è¦è‡ªåŠ¨æ—¥å¿—
        AutoLog logAnnotation = method.getAnnotation(AutoLog.class);
        if (logAnnotation != null) {
            String operation = logAnnotation.value().isEmpty() ? 
                              method.getName() : logAnnotation.value();
            System.out.println("[AOPæ—¥å¿—] ç”¨æˆ· " + currentUser + " å¼€å§‹æ‰§è¡Œï¼š" + operation);
        }
        
        // æ‰§è¡Œæ–¹æ³•
        Object result = method.invoke(target, args);
        
        // åç½®æ—¥å¿—
        if (logAnnotation != null) {
            System.out.println("[AOPæ—¥å¿—] æ“ä½œæ‰§è¡ŒæˆåŠŸ");
        }
        
        return result;
    }
}
```

### 3.3 AOPæ¡†æ¶ä½¿ç”¨ç¤ºä¾‹


```java
// ä½¿ç”¨æ³¨è§£çš„æœåŠ¡ç±»
public class ProductService implements Service {
    
    @AutoLog("åˆ›å»ºäº§å“")
    @RequirePermission("PRODUCT_CREATE")
    public void createProduct(String productName) {
        System.out.println("åˆ›å»ºäº§å“ï¼š" + productName);
    }
    
    @AutoLog("æŸ¥è¯¢äº§å“")
    public Product findProduct(String productId) {
        System.out.println("æŸ¥è¯¢äº§å“ï¼š" + productId);
        return new Product(productId, "ç¤ºä¾‹äº§å“");
    }
    
    @RequirePermission("PRODUCT_DELETE")
    public void deleteProduct(String productId) {
        System.out.println("åˆ é™¤äº§å“ï¼š" + productId);
    }
}
```

```java
public class AopFrameworkDemo {
    public static void main(String[] args) {
        // æ¨¡æ‹Ÿä¸åŒç”¨æˆ·çš„æƒé™
        Set<String> adminPermissions = Set.of("PRODUCT_CREATE", "PRODUCT_DELETE", "PRODUCT_UPDATE");
        Set<String> userPermissions = Set.of("PRODUCT_VIEW");
        
        ProductService realService = new ProductService();
        
        // åˆ›å»ºç®¡ç†å‘˜ä»£ç†
        Service adminProxy = (Service) Proxy.newProxyInstance(
            ProductService.class.getClassLoader(),
            ProductService.class.getInterfaces(),
            new AopInvocationHandler(realService, "admin", adminPermissions)
        );
        
        // åˆ›å»ºæ™®é€šç”¨æˆ·ä»£ç†
        Service userProxy = (Service) Proxy.newProxyInstance(
            ProductService.class.getClassLoader(),
            ProductService.class.getInterfaces(),
            new AopInvocationHandler(realService, "user", userPermissions)
        );
        
        System.out.println("=== ç®¡ç†å‘˜æ“ä½œ ===");
        adminProxy.createProduct("iPhone15");
        adminProxy.findProduct("P001");
        
        System.out.println("\n=== æ™®é€šç”¨æˆ·æ“ä½œ ===");
        userProxy.findProduct("P001"); // æœ‰æ—¥å¿—ä½†æ— æƒé™è¦æ±‚
        
        try {
            userProxy.createProduct("è¿è§„äº§å“"); // ä¼šè¢«æƒé™æ‹¦æˆª
        } catch (SecurityException e) {
            System.out.println("æƒé™é”™è¯¯ï¼š" + e.getMessage());
        }
    }
}
```

**ğŸ” è¿è¡Œç»“æœ**ï¼š
```
=== ç®¡ç†å‘˜æ“ä½œ ===
[AOPæ—¥å¿—] ç”¨æˆ· admin å¼€å§‹æ‰§è¡Œï¼šåˆ›å»ºäº§å“
åˆ›å»ºäº§å“ï¼šiPhone15
[AOPæ—¥å¿—] æ“ä½œæ‰§è¡ŒæˆåŠŸ
[AOPæ—¥å¿—] ç”¨æˆ· admin å¼€å§‹æ‰§è¡Œï¼šæŸ¥è¯¢äº§å“
æŸ¥è¯¢äº§å“ï¼šP001
[AOPæ—¥å¿—] æ“ä½œæ‰§è¡ŒæˆåŠŸ

=== æ™®é€šç”¨æˆ·æ“ä½œ ===
[AOPæ—¥å¿—] ç”¨æˆ· user å¼€å§‹æ‰§è¡Œï¼šæŸ¥è¯¢äº§å“
æŸ¥è¯¢äº§å“ï¼šP001
[AOPæ—¥å¿—] æ“ä½œæ‰§è¡ŒæˆåŠŸ
æƒé™é”™è¯¯ï¼šç¼ºå°‘æƒé™ï¼šPRODUCT_CREATE
```

---

## 4. ğŸ“Š æ€§èƒ½æµ‹è¯•ä¸å¯¹æ¯”åˆ†æ


### 4.1 æ€§èƒ½æµ‹è¯•è®¾è®¡


æˆ‘ä»¬æ¥æµ‹è¯•ä¸‰ç§æ–¹å¼çš„æ€§èƒ½å·®å¼‚ï¼šç›´æ¥è°ƒç”¨ã€é™æ€ä»£ç†ã€åŠ¨æ€ä»£ç†

```java
public class PerformanceTest {
    private static final int TEST_COUNT = 1000000; // 100ä¸‡æ¬¡è°ƒç”¨
    
    public static void main(String[] args) {
        UserService directService = new UserServiceImpl();
        UserService staticProxy = new UserServiceProxy(directService, "admin");
        UserService dynamicProxy = ProxyFactory.createProxy(directService, "admin");
        
        // é¢„çƒ­JVM
        warmUp(directService, staticProxy, dynamicProxy);
        
        // æ€§èƒ½æµ‹è¯•
        testDirectCall(directService);
        testStaticProxy(staticProxy);
        testDynamicProxy(dynamicProxy);
    }
    
    private static void testDirectCall(UserService service) {
        long startTime = System.currentTimeMillis();
        
        for (int i = 0; i < TEST_COUNT; i++) {
            service.findUser("user" + i);
        }
        
        long endTime = System.currentTimeMillis();
        System.out.println("ç›´æ¥è°ƒç”¨è€—æ—¶ï¼š" + (endTime - startTime) + "ms");
    }
    
    private static void testStaticProxy(UserService service) {
        long startTime = System.currentTimeMillis();
        
        for (int i = 0; i < TEST_COUNT; i++) {
            service.findUser("user" + i);
        }
        
        long endTime = System.currentTimeMillis();
        System.out.println("é™æ€ä»£ç†è€—æ—¶ï¼š" + (endTime - startTime) + "ms");
    }
    
    private static void testDynamicProxy(UserService service) {
        long startTime = System.currentTimeMillis();
        
        for (int i = 0; i < TEST_COUNT; i++) {
            service.findUser("user" + i);
        }
        
        long endTime = System.currentTimeMillis();
        System.out.println("åŠ¨æ€ä»£ç†è€—æ—¶ï¼š" + (endTime - startTime) + "ms");
    }
    
    private static void warmUp(UserService... services) {
        // JVMé¢„çƒ­ï¼Œç¡®ä¿æµ‹è¯•ç»“æœå‡†ç¡®
        for (UserService service : services) {
            for (int i = 0; i < 10000; i++) {
                service.findUser("warmup");
            }
        }
    }
}
```

### 4.2 æ€§èƒ½æµ‹è¯•ç»“æœåˆ†æ


**ğŸ“ˆ å…¸å‹æµ‹è¯•ç»“æœ**ï¼ˆ100ä¸‡æ¬¡æ–¹æ³•è°ƒç”¨ï¼‰ï¼š

| è°ƒç”¨æ–¹å¼ | å¹³å‡è€—æ—¶ | ç›¸å¯¹æ€§èƒ½ | å†…å­˜å¼€é”€ |
|----------|----------|----------|----------|
| ğŸš€ **ç›´æ¥è°ƒç”¨** | `50ms` | `100%` | æœ€ä½ |
| âš¡ **é™æ€ä»£ç†** | `65ms` | `77%` | ä¸­ç­‰ |
| ğŸ”„ **åŠ¨æ€ä»£ç†** | `120ms` | `42%` | è¾ƒé«˜ |

### 4.3 æ€§èƒ½å·®å¼‚åŸå› åˆ†æ


```
ç›´æ¥è°ƒç”¨ï¼š
æ–¹æ³•è°ƒç”¨ â†’ ç›´æ¥æ‰§è¡Œ
âœ… æ²¡æœ‰é¢å¤–å¼€é”€
âœ… JVMä¼˜åŒ–æ•ˆæœæœ€ä½³

é™æ€ä»£ç†ï¼š
æ–¹æ³•è°ƒç”¨ â†’ ä»£ç†æ–¹æ³• â†’ çœŸå®æ–¹æ³•
âœ… åªå¢åŠ ä¸€å±‚æ–¹æ³•è°ƒç”¨
âŒ ç•¥æœ‰æ€§èƒ½æŸå¤±

åŠ¨æ€ä»£ç†ï¼š
æ–¹æ³•è°ƒç”¨ â†’ Proxy.invoke â†’ InvocationHandler.invoke â†’ åå°„è°ƒç”¨çœŸå®æ–¹æ³•
âŒ åå°„è°ƒç”¨å¼€é”€å¤§
âŒ æ–¹æ³•æŸ¥æ‰¾å’Œå‚æ•°è½¬æ¢è€—æ—¶
âŒ æ— æ³•äº«å—JVMå†…è”ä¼˜åŒ–
```

### 4.4 æ€§èƒ½ä¼˜åŒ–å»ºè®®


> ğŸ’¡ **æ€§èƒ½ä¼˜åŒ–åŸåˆ™**

**ğŸ¯ åœºæ™¯é€‰æ‹©ç­–ç•¥**ï¼š
- **é«˜é¢‘è°ƒç”¨**ï¼šä¼˜å…ˆè€ƒè™‘é™æ€ä»£ç†æˆ–ç›´æ¥è°ƒç”¨
- **ä½é¢‘è°ƒç”¨**ï¼šåŠ¨æ€ä»£ç†çš„çµæ´»æ€§æ›´é‡è¦
- **æ¡†æ¶å¼€å‘**ï¼šåŠ¨æ€ä»£ç†æä¾›æ›´å¥½çš„é€šç”¨æ€§
- **ä¸šåŠ¡å¼€å‘**ï¼šæ ¹æ®å…·ä½“éœ€æ±‚å¹³è¡¡æ€§èƒ½å’Œçµæ´»æ€§

**âš¡ åŠ¨æ€ä»£ç†ä¼˜åŒ–æŠ€å·§**ï¼š

```java
public class OptimizedInvocationHandler implements InvocationHandler {
    private Object target;
    private Map<Method, Boolean> permissionCache = new ConcurrentHashMap<>();
    
    @Override
    public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {
        // ç¼“å­˜æƒé™æ£€æŸ¥ç»“æœï¼Œé¿å…é‡å¤è®¡ç®—
        Boolean needsPermission = permissionCache.computeIfAbsent(method, 
            m -> m.isAnnotationPresent(RequirePermission.class));
        
        if (needsPermission) {
            checkPermission(method);
        }
        
        return method.invoke(target, args);
    }
}
```

---

## 5. ğŸ¢ ä¼ä¸šçº§åº”ç”¨åœºæ™¯


### 5.1 Springæ¡†æ¶ä¸­çš„ä»£ç†æ¨¡å¼


**Spring AOPå®ç°åŸç†**ï¼šSpringæ­£æ˜¯ä½¿ç”¨ä»£ç†æ¨¡å¼æ¥å®ç°AOPåŠŸèƒ½çš„æ ¸å¿ƒæœºåˆ¶

```java
// Springä¸­çš„äº‹åŠ¡ä»£ç†ç¤ºä¾‹
@Service
public class OrderService {
    
    @Transactional // Springä¼šä¸ºè¿™ä¸ªæ–¹æ³•åˆ›å»ºäº‹åŠ¡ä»£ç†
    public void createOrder(Order order) {
        // ä¸šåŠ¡ä»£ç åªå…³æ³¨æ ¸å¿ƒé€»è¾‘
        orderRepository.save(order);
        inventoryService.updateStock(order.getProductId(), order.getQuantity());
        
        // Springä»£ç†ä¼šè‡ªåŠ¨å¤„ç†ï¼š
        // 1. å¼€å¯äº‹åŠ¡
        // 2. æ‰§è¡Œä¸šåŠ¡æ–¹æ³•
        // 3. æäº¤äº‹åŠ¡ï¼ˆæˆåŠŸï¼‰æˆ–å›æ»šäº‹åŠ¡ï¼ˆå¼‚å¸¸ï¼‰
    }
}
```

**Springä»£ç†é€‰æ‹©ç­–ç•¥**ï¼š
```
æœ‰æ¥å£ï¼šé»˜è®¤ä½¿ç”¨JDKåŠ¨æ€ä»£ç†
æ— æ¥å£ï¼šä½¿ç”¨CGLIBä»£ç†
å¼ºåˆ¶CGLIBï¼šé…ç½® proxy-target-class="true"
```

### 5.2 æ•°æ®åº“è¿æ¥æ± ä»£ç†


**åº”ç”¨åœºæ™¯**ï¼šæ•°æ®åº“è¿æ¥çš„ç»Ÿä¸€ç®¡ç†å’Œç›‘æ§

```java
public class ConnectionProxy implements InvocationHandler {
    private Connection realConnection;
    private ConnectionPool pool;
    private long createTime;
    private AtomicInteger queryCount = new AtomicInteger(0);
    
    public ConnectionProxy(Connection realConnection, ConnectionPool pool) {
        this.realConnection = realConnection;
        this.pool = pool;
        this.createTime = System.currentTimeMillis();
    }
    
    @Override
    public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {
        String methodName = method.getName();
        
        // ç›‘æ§æŸ¥è¯¢æ¬¡æ•°
        if ("prepareStatement".equals(methodName) || "createStatement".equals(methodName)) {
            queryCount.incrementAndGet();
            System.out.println("[è¿æ¥ç›‘æ§] è¿æ¥ " + this.hashCode() + " æ‰§è¡Œç¬¬ " 
                              + queryCount.get() + " æ¬¡æŸ¥è¯¢");
        }
        
        // æ‹¦æˆªcloseæ–¹æ³•ï¼Œå½’è¿˜è¿æ¥åˆ°æ± ä¸­è€Œä¸æ˜¯çœŸæ­£å…³é—­
        if ("close".equals(methodName)) {
            System.out.println("[è¿æ¥æ± ] è¿æ¥å½’è¿˜åˆ°æ± ä¸­ï¼Œä½¿ç”¨æ—¶é•¿ï¼š" + 
                              (System.currentTimeMillis() - createTime) + "ms");
            pool.returnConnection((Connection) proxy);
            return null;
        }
        
        // å…¶ä»–æ–¹æ³•æ­£å¸¸æ‰§è¡Œ
        return method.invoke(realConnection, args);
    }
}
```

### 5.3 ç¼“å­˜ä»£ç†å®ç°


**åº”ç”¨åœºæ™¯**ï¼šä¸ºæœåŠ¡å±‚è‡ªåŠ¨æ·»åŠ ç¼“å­˜åŠŸèƒ½

```java
public class CacheProxy implements InvocationHandler {
    private Object target;
    private Map<String, Object> cache = new ConcurrentHashMap<>();
    private Map<String, Long> cacheTime = new ConcurrentHashMap<>();
    private long cacheExpireTime = 5 * 60 * 1000; // 5åˆ†é’Ÿè¿‡æœŸ
    
    public CacheProxy(Object target) {
        this.target = target;
    }
    
    @Override
    public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {
        // åªå¯¹æŸ¥è¯¢æ–¹æ³•å¯ç”¨ç¼“å­˜
        if (!method.getName().startsWith("find") && !method.getName().startsWith("get")) {
            return method.invoke(target, args);
        }
        
        // ç”Ÿæˆç¼“å­˜key
        String cacheKey = generateCacheKey(method, args);
        
        // æ£€æŸ¥ç¼“å­˜æ˜¯å¦å­˜åœ¨ä¸”æœªè¿‡æœŸ
        if (cache.containsKey(cacheKey)) {
            Long cachedTime = cacheTime.get(cacheKey);
            if (System.currentTimeMillis() - cachedTime < cacheExpireTime) {
                System.out.println("[ç¼“å­˜å‘½ä¸­] " + cacheKey);
                return cache.get(cacheKey);
            } else {
                // ç¼“å­˜è¿‡æœŸï¼Œæ¸…é™¤
                cache.remove(cacheKey);
                cacheTime.remove(cacheKey);
            }
        }
        
        // æ‰§è¡ŒçœŸå®æ–¹æ³•
        System.out.println("[ç¼“å­˜æœªå‘½ä¸­] æ‰§è¡ŒçœŸå®æ–¹æ³•: " + cacheKey);
        Object result = method.invoke(target, args);
        
        // ç¼“å­˜ç»“æœ
        if (result != null) {
            cache.put(cacheKey, result);
            cacheTime.put(cacheKey, System.currentTimeMillis());
        }
        
        return result;
    }
    
    private String generateCacheKey(Method method, Object[] args) {
        StringBuilder key = new StringBuilder();
        key.append(method.getName());
        if (args != null) {
            for (Object arg : args) {
                key.append("_").append(arg.toString());
            }
        }
        return key.toString();
    }
}
```

### 5.4 ä¼ä¸šçº§ä»£ç†æ¨¡å¼æœ€ä½³å®è·µ


**ğŸ¯ è®¾è®¡åŸåˆ™**ï¼š

1. **å•ä¸€èŒè´£**ï¼šæ¯ä¸ªä»£ç†åªè´Ÿè´£ä¸€ç§æ¨ªåˆ‡å…³æ³¨ç‚¹
   ```java
   // âœ… å¥½çš„è®¾è®¡ï¼šèŒè´£å•ä¸€
   LoggingProxy + SecurityProxy + CacheProxy
   
   // âŒ ä¸å¥½çš„è®¾è®¡ï¼šèŒè´£æ··æ‚
   AllInOneProxyï¼ˆæ—¥å¿—+å®‰å…¨+ç¼“å­˜+äº‹åŠ¡ï¼‰
   ```

2. **ä»£ç†é“¾æ¨¡å¼**ï¼šå¤šä¸ªä»£ç†å¯ä»¥é“¾å¼ç»„åˆ
   ```java
   Object finalProxy = 
       Proxy.newProxyInstance(clz.getClassLoader(), clz.getInterfaces(),
           new LoggingProxy(
               new SecurityProxy(
                   new CacheProxy(realObject))));
   ```

3. **é…ç½®åŒ–ç®¡ç†**ï¼šé€šè¿‡é…ç½®æ–‡ä»¶æ§åˆ¶ä»£ç†è¡Œä¸º
   ```properties
   # application.properties
   proxy.logging.enabled=true
   proxy.cache.enabled=true
   proxy.cache.expire-time=300000
   proxy.security.enabled=false
   ```

**âš ï¸ æ³¨æ„äº‹é¡¹**ï¼š

- **é¿å…è¿‡åº¦ä½¿ç”¨**ï¼šä¸æ˜¯æ‰€æœ‰åœºæ™¯éƒ½éœ€è¦ä»£ç†
- **æ€§èƒ½è€ƒè™‘**ï¼šé«˜é¢‘è°ƒç”¨åœºæ™¯è¦è°¨æ…ä½¿ç”¨åŠ¨æ€ä»£ç†
- **è°ƒè¯•å›°éš¾**ï¼šä»£ç†ä¼šè®©è°ƒç”¨æ ˆå˜å¤æ‚ï¼Œå¢åŠ è°ƒè¯•éš¾åº¦
- **å†…å­˜æ³„æ¼**ï¼šæ³¨æ„ä»£ç†å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸç®¡ç†

---

## 6. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 6.1 ä»£ç†æ¨¡å¼æ ¸å¿ƒç†è§£


```
ğŸ¯ ä»£ç†æ¨¡å¼æœ¬è´¨ï¼šåœ¨ä¸æ”¹å˜åŸæœ‰å¯¹è±¡çš„æƒ…å†µä¸‹ï¼Œå¢åŠ é¢å¤–çš„åŠŸèƒ½
ğŸ¯ ç°å®ç±»æ¯”ï¼šç»çºªäººã€ä¸­ä»‹ã€ä»£åŠå‘˜
ğŸ¯ æ ¸å¿ƒä»·å€¼ï¼šè§£è€¦ä¸šåŠ¡é€»è¾‘ä¸æ¨ªåˆ‡å…³æ³¨ç‚¹ï¼ˆæ—¥å¿—ã€æƒé™ã€ç¼“å­˜ã€äº‹åŠ¡ç­‰ï¼‰
```

### 6.2 ä¸‰ç§å®ç°æ–¹å¼å¯¹æ¯”


| å®ç°æ–¹å¼ | **é€‚ç”¨åœºæ™¯** | **æ€§èƒ½** | **çµæ´»æ€§** | **å¤æ‚åº¦** |
|----------|------------|----------|------------|------------|
| ğŸ—ï¸ **é™æ€ä»£ç†** | `æ¥å£å›ºå®šï¼Œéœ€è¦é«˜æ€§èƒ½` | â­â­â­ | â­ | â­ |
| âš¡ **JDKåŠ¨æ€ä»£ç†** | `åŸºäºæ¥å£ï¼Œéœ€è¦çµæ´»æ€§` | â­â­ | â­â­â­ | â­â­ |
| ğŸ”„ **CGLIBåŠ¨æ€ä»£ç†** | `æ— æ¥å£é™åˆ¶ï¼Œæ¡†æ¶å¼€å‘` | â­â­ | â­â­â­ | â­â­â­ |

### 6.3 å…³é”®æŠ€æœ¯è¦ç‚¹


**ğŸ”§ å®ç°è¦ç‚¹**ï¼š
- **æ¥å£è®¾è®¡**ï¼šä»£ç†å’ŒçœŸå®å¯¹è±¡å®ç°ç›¸åŒæ¥å£
- **é€æ˜æ€§**ï¼šå®¢æˆ·ç«¯æ— éœ€çŸ¥é“ä½¿ç”¨çš„æ˜¯ä»£ç†è¿˜æ˜¯çœŸå®å¯¹è±¡
- **æ§åˆ¶è®¿é—®**ï¼šä»£ç†å¯ä»¥æ§åˆ¶å¯¹çœŸå®å¯¹è±¡çš„è®¿é—®
- **å¢å¼ºåŠŸèƒ½**ï¼šåœ¨è°ƒç”¨å‰åæ·»åŠ é¢å¤–å¤„ç†é€»è¾‘

**ğŸ’¡ æœ€ä½³å®è·µ**ï¼š
- æ ¹æ®å…·ä½“åœºæ™¯é€‰æ‹©åˆé€‚çš„ä»£ç†ç±»å‹
- é¿å…è¿‡åº¦ä½¿ç”¨ä»£ç†ï¼Œä¿æŒä»£ç ç®€æ´
- ä½¿ç”¨ä»£ç†é“¾æ¨¡å¼ç»„åˆå¤šä¸ªåŠŸèƒ½
- æ³¨æ„æ€§èƒ½å½±å“ï¼Œç‰¹åˆ«æ˜¯åœ¨é«˜é¢‘è°ƒç”¨åœºæ™¯

**âš ï¸ å¸¸è§é™·é˜±**ï¼š
- å¿˜è®°å®ç°æ‰€æœ‰æ¥å£æ–¹æ³•
- ä»£ç†é“¾è¿‡é•¿å¯¼è‡´æ€§èƒ½é—®é¢˜
- å¾ªç¯ä»£ç†å¯¼è‡´æ ˆæº¢å‡º
- å†…å­˜æ³„æ¼ï¼ˆä»£ç†å¯¹è±¡æŒæœ‰è¿‡å¤šå¼•ç”¨ï¼‰

### 6.4 ä¼ä¸šåº”ç”¨ä»·å€¼


**ğŸš€ ä¸»è¦åº”ç”¨é¢†åŸŸ**ï¼š
- **æ¡†æ¶å¼€å‘**ï¼šSpring AOPã€MyBatisã€Hibernate
- **ä¸­é—´ä»¶**ï¼šè¿æ¥æ± ã€ç¼“å­˜ã€æ¶ˆæ¯é˜Ÿåˆ—
- **ç›‘æ§ç³»ç»Ÿ**ï¼šæ€§èƒ½ç›‘æ§ã€æ—¥å¿—æ”¶é›†ã€é“¾è·¯è¿½è¸ª
- **å®‰å…¨æ¡†æ¶**ï¼šæƒé™æ§åˆ¶ã€å®¡è®¡æ—¥å¿—ã€æ•°æ®è„±æ•

**æ ¸å¿ƒè®°å¿†**ï¼š
> ä»£ç†æ¨¡å¼åƒç»çºªäººï¼Œæ›¿ä½ åŠäº‹åŠ åŠŸèƒ½  
> é™æ€ä»£ç†ç®€å•å¿«ï¼ŒåŠ¨æ€ä»£ç†æ›´çµæ´»  
> ä¼ä¸šå¼€å‘å¾ˆå¸¸è§ï¼ŒAOPæ¡†æ¶æ ¸å¿ƒæŠ€  
> æƒé™æ—¥å¿—å’Œç¼“å­˜ï¼Œæ¨ªåˆ‡å…³æ³¨ç‚¹åˆ†ç¦»