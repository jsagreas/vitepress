---
title: 6ã€æ¨¡æ¿æ–¹æ³•æ¨¡å¼ä»£ç å®æˆ˜
---
## ğŸ“š ç›®å½•

1. [æ¨¡æ¿æ–¹æ³•æ¨¡å¼æ¦‚å¿µå›é¡¾](#1-æ¨¡æ¿æ–¹æ³•æ¨¡å¼æ¦‚å¿µå›é¡¾)
2. [æ ¸å¿ƒç»“æ„ä¸è§’è‰²](#2-æ ¸å¿ƒç»“æ„ä¸è§’è‰²)
3. [ç»å…¸åœºæ™¯ï¼šæ•°æ®å¤„ç†æ¨¡æ¿](#3-ç»å…¸åœºæ™¯æ•°æ®å¤„ç†æ¨¡æ¿)
4. [ç®—æ³•æ—å®ç°æ¡ˆä¾‹](#4-ç®—æ³•æ—å®ç°æ¡ˆä¾‹)
5. [æ¡†æ¶è®¾è®¡ä¸­çš„åº”ç”¨](#5-æ¡†æ¶è®¾è®¡ä¸­çš„åº”ç”¨)
6. [æ‰©å±•æ€§ä¸æœ€ä½³å®è·µ](#6-æ‰©å±•æ€§ä¸æœ€ä½³å®è·µ)
7. [æ€»ç»“ä¸æ ¸å¿ƒè¦ç‚¹](#7-æ€»ç»“ä¸æ ¸å¿ƒè¦ç‚¹)

---

## 1. ğŸ¯ æ¨¡æ¿æ–¹æ³•æ¨¡å¼æ¦‚å¿µå›é¡¾


### 1.1 ä»€ä¹ˆæ˜¯æ¨¡æ¿æ–¹æ³•æ¨¡å¼


**ç®€å•ç†è§£**ï¼šå°±åƒåšèœæœ‰å›ºå®šçš„æµç¨‹ï¼Œä½†æ¯é“èœçš„å…·ä½“åšæ³•ä¸åŒ

```
åšèœçš„é€šç”¨æµç¨‹ï¼š
1. å‡†å¤‡é£Ÿæ â† æ¯é“èœä¸åŒ
2. çƒ­é”…ä¸‹æ²¹ â† éƒ½ä¸€æ ·
3. çƒ¹é¥ªé£Ÿæ â† æ¯é“èœä¸åŒ  
4. è°ƒå‘³è£…ç›˜ â† æ¯é“èœä¸åŒ

æ¨¡æ¿æ–¹æ³•æ¨¡å¼å°±æ˜¯ï¼š
- å®šä¹‰åšäº‹çš„æ•´ä½“æµç¨‹ï¼ˆæ¨¡æ¿ï¼‰
- æŸäº›æ­¥éª¤å›ºå®šä¸å˜
- æŸäº›æ­¥éª¤è®©å­ç±»è‡ªå·±å®ç°
```

### 1.2 æ ¸å¿ƒæ€æƒ³


**ğŸ”¸ å®šä¹‰éª¨æ¶**ï¼šåœ¨çˆ¶ç±»ä¸­å®šä¹‰ç®—æ³•çš„æ•´ä½“ç»“æ„
**ğŸ”¸ å»¶è¿Ÿå®ç°**ï¼šæŠŠå˜åŒ–çš„éƒ¨åˆ†ç•™ç»™å­ç±»å®ç°
**ğŸ”¸ æ§åˆ¶æµç¨‹**ï¼šçˆ¶ç±»æ§åˆ¶è°ƒç”¨é¡ºåºï¼Œå­ç±»è´Ÿè´£å…·ä½“å®ç°

### 1.3 ç”Ÿæ´»ä¸­çš„ä¾‹å­


```
è€ƒè¯•æµç¨‹æ¨¡æ¿ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. å‘è¯•å·       â”‚ â† å›ºå®šæ­¥éª¤
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  2. åšé¢˜         â”‚ â† æ¯ä¸ªå­¦ç”Ÿä¸åŒ
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  3. æ£€æŸ¥         â”‚ â† æ¯ä¸ªå­¦ç”Ÿä¸åŒ
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  4. äº¤å·         â”‚ â† å›ºå®šæ­¥éª¤
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

æµç¨‹æ˜¯ç»Ÿä¸€çš„ï¼Œä½†æ¯ä¸ªäººåšé¢˜æ–¹å¼ä¸åŒ
```

---

## 2. ğŸ—ï¸ æ ¸å¿ƒç»“æ„ä¸è§’è‰²


### 2.1 è§’è‰²åˆ†å·¥


```
æ¨¡æ¿æ–¹æ³•æ¨¡å¼çš„è§’è‰²ï¼š

æŠ½è±¡ç±»ï¼ˆAbstractClassï¼‰
â”œâ”€â”€ templateMethod() â† æ¨¡æ¿æ–¹æ³•ï¼Œå®šä¹‰æµç¨‹
â”œâ”€â”€ step1()          â† å…·ä½“æ­¥éª¤ï¼Œå·²å®ç°
â”œâ”€â”€ step2()          â† æŠ½è±¡æ­¥éª¤ï¼Œå­ç±»å®ç°
â””â”€â”€ step3()          â† é’©å­æ–¹æ³•ï¼Œå¯é€‰å®ç°

å…·ä½“ç±»ï¼ˆConcreteClassï¼‰
â”œâ”€â”€ step2()          â† å®ç°æŠ½è±¡æ­¥éª¤
â””â”€â”€ step3()          â† å¯é‡å†™é’©å­æ–¹æ³•
```

### 2.2 æ–¹æ³•ç±»å‹è¯´æ˜


| æ–¹æ³•ç±»å‹ | **ä½œç”¨** | **å®ç°ä½ç½®** | **ç‰¹ç‚¹** |
|---------|---------|-------------|---------|
| **æ¨¡æ¿æ–¹æ³•** | `å®šä¹‰ç®—æ³•éª¨æ¶` | `æŠ½è±¡ç±»` | `finalä¿®é¥°ï¼Œä¸å¯é‡å†™` |
| **å…·ä½“æ–¹æ³•** | `é€šç”¨æ­¥éª¤å®ç°` | `æŠ½è±¡ç±»` | `æ‰€æœ‰å­ç±»å…±ç”¨` |
| **æŠ½è±¡æ–¹æ³•** | `å˜åŒ–æ­¥éª¤å®šä¹‰` | `æŠ½è±¡ç±»` | `å­ç±»å¿…é¡»å®ç°` |
| **é’©å­æ–¹æ³•** | `å¯é€‰æ‰©å±•ç‚¹` | `æŠ½è±¡ç±»` | `å­ç±»å¯é€‰æ‹©é‡å†™` |

### 2.3 åŸºç¡€ç»“æ„ä»£ç 


```java
// æŠ½è±¡æ¨¡æ¿ç±»
public abstract class AbstractTemplate {
    
    // æ¨¡æ¿æ–¹æ³•ï¼šå®šä¹‰ç®—æ³•éª¨æ¶ï¼ˆfinalé˜²æ­¢è¢«é‡å†™ï¼‰
    public final void templateMethod() {
        step1();           // å›ºå®šæ­¥éª¤
        step2();           // å˜åŒ–æ­¥éª¤
        if (needStep3()) { // é’©å­æ§åˆ¶
            step3();
        }
        step4();           // å›ºå®šæ­¥éª¤
    }
    
    // å…·ä½“æ–¹æ³•ï¼šé€šç”¨å®ç°
    private void step1() {
        System.out.println("æ‰§è¡Œé€šç”¨æ­¥éª¤1");
    }
    
    // æŠ½è±¡æ–¹æ³•ï¼šå­ç±»å¿…é¡»å®ç°
    protected abstract void step2();
    
    // é’©å­æ–¹æ³•ï¼šå­ç±»å¯é€‰å®ç°
    protected void step3() {
        System.out.println("é»˜è®¤æ­¥éª¤3");
    }
    
    // é’©å­æ–¹æ³•ï¼šæ§åˆ¶æµç¨‹
    protected boolean needStep3() {
        return true; // é»˜è®¤æ‰§è¡Œstep3
    }
    
    // å…·ä½“æ–¹æ³•ï¼šé€šç”¨å®ç°
    private void step4() {
        System.out.println("æ‰§è¡Œé€šç”¨æ­¥éª¤4");
    }
}
```

---

## 3. ğŸ“Š ç»å…¸åœºæ™¯ï¼šæ•°æ®å¤„ç†æ¨¡æ¿


### 3.1 ä¸šåŠ¡èƒŒæ™¯


æƒ³è±¡æˆ‘ä»¬è¦å¤„ç†ä¸åŒæ ¼å¼çš„æ•°æ®æ–‡ä»¶ï¼šCSVã€Excelã€JSONç­‰ï¼Œå¤„ç†æµç¨‹éƒ½æ˜¯ä¸€æ ·çš„ï¼Œä½†å…·ä½“è§£ææ–¹å¼ä¸åŒã€‚

```
æ•°æ®å¤„ç†é€šç”¨æµç¨‹ï¼š
è¯»å–æ–‡ä»¶ â†’ è§£ææ•°æ® â†’ éªŒè¯æ•°æ® â†’ ä¿å­˜ç»“æœ

å˜åŒ–ç‚¹ï¼š
- ä¸åŒæ ¼å¼çš„è§£ææ–¹å¼ä¸åŒ
- ä¸åŒæ•°æ®çš„éªŒè¯è§„åˆ™ä¸åŒ
```

### 3.2 æŠ½è±¡æ¨¡æ¿è®¾è®¡


```java
// æ•°æ®å¤„ç†æ¨¡æ¿
public abstract class DataProcessor {
    
    /**
     * æ¨¡æ¿æ–¹æ³•ï¼šå®šä¹‰æ•°æ®å¤„ç†æµç¨‹
     */
    public final ProcessResult process(String filePath) {
        System.out.println("=== å¼€å§‹æ•°æ®å¤„ç† ===");
        
        // 1. è¯»å–æ–‡ä»¶ï¼ˆé€šç”¨æ­¥éª¤ï¼‰
        String rawData = readFile(filePath);
        
        // 2. è§£ææ•°æ®ï¼ˆå˜åŒ–æ­¥éª¤ï¼‰
        List<Record> records = parseData(rawData);
        
        // 3. éªŒè¯æ•°æ®ï¼ˆå˜åŒ–æ­¥éª¤ï¼‰
        List<Record> validRecords = validateData(records);
        
        // 4. ä¿å­˜ç»“æœï¼ˆé€šç”¨æ­¥éª¤ï¼‰
        ProcessResult result = saveData(validRecords);
        
        // 5. æ¸…ç†èµ„æºï¼ˆé’©å­æ–¹æ³•ï¼‰
        if (needCleanup()) {
            cleanup();
        }
        
        System.out.println("=== æ•°æ®å¤„ç†å®Œæˆ ===");
        return result;
    }
    
    // é€šç”¨æ–¹æ³•ï¼šè¯»å–æ–‡ä»¶
    private String readFile(String filePath) {
        System.out.println("è¯»å–æ–‡ä»¶: " + filePath);
        // æ¨¡æ‹Ÿæ–‡ä»¶è¯»å–
        return "file_content_" + filePath;
    }
    
    // æŠ½è±¡æ–¹æ³•ï¼šè§£ææ•°æ®ï¼ˆå­ç±»å®ç°ï¼‰
    protected abstract List<Record> parseData(String rawData);
    
    // æŠ½è±¡æ–¹æ³•ï¼šéªŒè¯æ•°æ®ï¼ˆå­ç±»å®ç°ï¼‰
    protected abstract List<Record> validateData(List<Record> records);
    
    // é€šç”¨æ–¹æ³•ï¼šä¿å­˜æ•°æ®
    private ProcessResult saveData(List<Record> records) {
        System.out.println("ä¿å­˜ " + records.size() + " æ¡è®°å½•");
        return new ProcessResult(records.size(), "å¤„ç†æˆåŠŸ");
    }
    
    // é’©å­æ–¹æ³•ï¼šæ˜¯å¦éœ€è¦æ¸…ç†
    protected boolean needCleanup() {
        return false; // é»˜è®¤ä¸æ¸…ç†
    }
    
    // é’©å­æ–¹æ³•ï¼šæ¸…ç†èµ„æº
    protected void cleanup() {
        System.out.println("æ¸…ç†ä¸´æ—¶èµ„æº");
    }
}

// æ•°æ®è®°å½•ç±»
class Record {
    private String id;
    private String data;
    
    public Record(String id, String data) {
        this.id = id;
        this.data = data;
    }
    
    public String getId() { return id; }
    public String getData() { return data; }
}

// å¤„ç†ç»“æœç±»
class ProcessResult {
    private int count;
    private String message;
    
    public ProcessResult(int count, String message) {
        this.count = count;
        this.message = message;
    }
    
    public int getCount() { return count; }
    public String getMessage() { return message; }
}
```

### 3.3 å…·ä½“å®ç°ç±»


**CSVæ•°æ®å¤„ç†å™¨**ï¼š
```java
public class CsvDataProcessor extends DataProcessor {
    
    @Override
    protected List<Record> parseData(String rawData) {
        System.out.println("è§£æCSVæ ¼å¼æ•°æ®");
        List<Record> records = new ArrayList<>();
        
        // æ¨¡æ‹ŸCSVè§£æ
        String[] lines = rawData.split("\n");
        for (int i = 0; i < 3; i++) { // æ¨¡æ‹Ÿ3æ¡æ•°æ®
            records.add(new Record("csv_" + i, "data_" + i));
        }
        
        return records;
    }
    
    @Override
    protected List<Record> validateData(List<Record> records) {
        System.out.println("éªŒè¯CSVæ•°æ®æ ¼å¼");
        // è¿‡æ»¤æ‰æ— æ•ˆæ•°æ®
        return records.stream()
                .filter(record -> record.getData() != null)
                .collect(Collectors.toList());
    }
}
```

**JSONæ•°æ®å¤„ç†å™¨**ï¼š
```java
public class JsonDataProcessor extends DataProcessor {
    
    @Override
    protected List<Record> parseData(String rawData) {
        System.out.println("è§£æJSONæ ¼å¼æ•°æ®");
        List<Record> records = new ArrayList<>();
        
        // æ¨¡æ‹ŸJSONè§£æ
        for (int i = 0; i < 5; i++) { // JSONé€šå¸¸æ•°æ®æ›´å¤š
            records.add(new Record("json_" + i, "{\"value\": " + i + "}"));
        }
        
        return records;
    }
    
    @Override
    protected List<Record> validateData(List<Record> records) {
        System.out.println("éªŒè¯JSONæ•°æ®ç»“æ„");
        // JSONéœ€è¦æ›´ä¸¥æ ¼çš„éªŒè¯
        return records.stream()
                .filter(record -> record.getData().contains("value"))
                .collect(Collectors.toList());
    }
    
    @Override
    protected boolean needCleanup() {
        return true; // JSONå¤„ç†éœ€è¦æ¸…ç†
    }
    
    @Override
    protected void cleanup() {
        System.out.println("æ¸…ç†JSONè§£æç¼“å­˜");
    }
}
```

### 3.4 ä½¿ç”¨ç¤ºä¾‹


```java
public class DataProcessorDemo {
    public static void main(String[] args) {
        System.out.println("å¤„ç†CSVæ–‡ä»¶ï¼š");
        DataProcessor csvProcessor = new CsvDataProcessor();
        ProcessResult csvResult = csvProcessor.process("data.csv");
        
        System.out.println("\nå¤„ç†JSONæ–‡ä»¶ï¼š");
        DataProcessor jsonProcessor = new JsonDataProcessor();
        ProcessResult jsonResult = jsonProcessor.process("data.json");
        
        System.out.println("\nå¤„ç†ç»“æœï¼š");
        System.out.println("CSV: " + csvResult.getCount() + " æ¡è®°å½•");
        System.out.println("JSON: " + jsonResult.getCount() + " æ¡è®°å½•");
    }
}
```

**è¿è¡Œè¾“å‡º**ï¼š
```
å¤„ç†CSVæ–‡ä»¶ï¼š
=== å¼€å§‹æ•°æ®å¤„ç† ===
è¯»å–æ–‡ä»¶: data.csv
è§£æCSVæ ¼å¼æ•°æ®
éªŒè¯CSVæ•°æ®æ ¼å¼
ä¿å­˜ 3 æ¡è®°å½•
=== æ•°æ®å¤„ç†å®Œæˆ ===

å¤„ç†JSONæ–‡ä»¶ï¼š
=== å¼€å§‹æ•°æ®å¤„ç† ===
è¯»å–æ–‡ä»¶: data.json
è§£æJSONæ ¼å¼æ•°æ®
éªŒè¯JSONæ•°æ®ç»“æ„
ä¿å­˜ 5 æ¡è®°å½•
æ¸…ç†JSONè§£æç¼“å­˜
=== æ•°æ®å¤„ç†å®Œæˆ ===
```

---

## 4. ğŸ§® ç®—æ³•æ—å®ç°æ¡ˆä¾‹


### 4.1 æ’åºç®—æ³•æ¨¡æ¿


ä¸åŒçš„æ’åºç®—æ³•æœ‰ç›¸åŒçš„å¤„ç†æµç¨‹ï¼Œä½†å…·ä½“æ’åºé€»è¾‘ä¸åŒã€‚

```java
// æ’åºç®—æ³•æ¨¡æ¿
public abstract class SortTemplate {
    
    /**
     * æ¨¡æ¿æ–¹æ³•ï¼šæ’åºæµç¨‹
     */
    public final void sort(int[] array) {
        System.out.println("æ’åºå‰: " + Arrays.toString(array));
        
        // 1. é¢„å¤„ç†ï¼ˆå¯é€‰ï¼‰
        if (needPreprocess()) {
            preprocess(array);
        }
        
        // 2. æ‰§è¡Œæ’åºï¼ˆæ ¸å¿ƒç®—æ³•ï¼‰
        long startTime = System.nanoTime();
        doSort(array);
        long endTime = System.nanoTime();
        
        // 3. åå¤„ç†ï¼ˆå¯é€‰ï¼‰
        if (needPostprocess()) {
            postprocess(array);
        }
        
        // 4. æ˜¾ç¤ºç»“æœ
        System.out.println("æ’åºå: " + Arrays.toString(array));
        System.out.println("è€—æ—¶: " + (endTime - startTime) + " çº³ç§’");
        System.out.println("ç®—æ³•: " + getAlgorithmName());
    }
    
    // æŠ½è±¡æ–¹æ³•ï¼šå…·ä½“æ’åºç®—æ³•
    protected abstract void doSort(int[] array);
    
    // æŠ½è±¡æ–¹æ³•ï¼šç®—æ³•åç§°
    protected abstract String getAlgorithmName();
    
    // é’©å­æ–¹æ³•ï¼šæ˜¯å¦éœ€è¦é¢„å¤„ç†
    protected boolean needPreprocess() {
        return false;
    }
    
    // é’©å­æ–¹æ³•ï¼šé¢„å¤„ç†
    protected void preprocess(int[] array) {
        System.out.println("æ‰§è¡Œé¢„å¤„ç†");
    }
    
    // é’©å­æ–¹æ³•ï¼šæ˜¯å¦éœ€è¦åå¤„ç†
    protected boolean needPostprocess() {
        return false;
    }
    
    // é’©å­æ–¹æ³•ï¼šåå¤„ç†
    protected void postprocess(int[] array) {
        System.out.println("æ‰§è¡Œåå¤„ç†");
    }
}
```

### 4.2 å…·ä½“æ’åºç®—æ³•


**å†’æ³¡æ’åº**ï¼š
```java
public class BubbleSort extends SortTemplate {
    
    @Override
    protected void doSort(int[] array) {
        int n = array.length;
        for (int i = 0; i < n - 1; i++) {
            for (int j = 0; j < n - 1 - i; j++) {
                if (array[j] > array[j + 1]) {
                    // äº¤æ¢å…ƒç´ 
                    int temp = array[j];
                    array[j] = array[j + 1];
                    array[j + 1] = temp;
                }
            }
        }
    }
    
    @Override
    protected String getAlgorithmName() {
        return "å†’æ³¡æ’åº";
    }
}
```

**å¿«é€Ÿæ’åº**ï¼š
```java
public class QuickSort extends SortTemplate {
    
    @Override
    protected void doSort(int[] array) {
        quickSort(array, 0, array.length - 1);
    }
    
    private void quickSort(int[] array, int low, int high) {
        if (low < high) {
            int pi = partition(array, low, high);
            quickSort(array, low, pi - 1);
            quickSort(array, pi + 1, high);
        }
    }
    
    private int partition(int[] array, int low, int high) {
        int pivot = array[high];
        int i = (low - 1);
        
        for (int j = low; j < high; j++) {
            if (array[j] <= pivot) {
                i++;
                int temp = array[i];
                array[i] = array[j];
                array[j] = temp;
            }
        }
        
        int temp = array[i + 1];
        array[i + 1] = array[high];
        array[high] = temp;
        
        return i + 1;
    }
    
    @Override
    protected String getAlgorithmName() {
        return "å¿«é€Ÿæ’åº";
    }
    
    @Override
    protected boolean needPreprocess() {
        return true; // å¿«æ’éœ€è¦é¢„å¤„ç†
    }
    
    @Override
    protected void preprocess(int[] array) {
        System.out.println("å¿«æ’é¢„å¤„ç†ï¼šæ£€æŸ¥æ•°ç»„è¾¹ç•Œ");
    }
}
```

### 4.3 ç®—æ³•æ€§èƒ½æµ‹è¯•


```java
public class SortDemo {
    public static void main(String[] args) {
        int[] data1 = {64, 34, 25, 12, 22, 11, 90};
        int[] data2 = data1.clone(); // å¤åˆ¶æ•°ç»„ç”¨äºä¸åŒç®—æ³•æµ‹è¯•
        
        System.out.println("=== å†’æ³¡æ’åºæµ‹è¯• ===");
        SortTemplate bubbleSort = new BubbleSort();
        bubbleSort.sort(data1);
        
        System.out.println("\n=== å¿«é€Ÿæ’åºæµ‹è¯• ===");
        SortTemplate quickSort = new QuickSort();
        quickSort.sort(data2);
    }
}
```

---

## 5. ğŸ›ï¸ æ¡†æ¶è®¾è®¡ä¸­çš„åº”ç”¨


### 5.1 Webè¯·æ±‚å¤„ç†æ¡†æ¶


åœ¨Webå¼€å‘ä¸­ï¼Œå¤„ç†HTTPè¯·æ±‚çš„æµç¨‹æ˜¯å›ºå®šçš„ï¼Œä½†å…·ä½“ä¸šåŠ¡é€»è¾‘ä¸åŒã€‚

```java
// HTTPè¯·æ±‚å¤„ç†æ¨¡æ¿
public abstract class HttpRequestHandler {
    
    /**
     * æ¨¡æ¿æ–¹æ³•ï¼šå¤„ç†HTTPè¯·æ±‚
     */
    public final Response handleRequest(Request request) {
        // 1. è¯·æ±‚é¢„å¤„ç†
        if (!preprocessRequest(request)) {
            return new Response(400, "è¯·æ±‚é¢„å¤„ç†å¤±è´¥");
        }
        
        // 2. èº«ä»½éªŒè¯
        if (needAuthentication() && !authenticate(request)) {
            return new Response(401, "èº«ä»½éªŒè¯å¤±è´¥");
        }
        
        // 3. æƒé™æ£€æŸ¥
        if (needAuthorization() && !authorize(request)) {
            return new Response(403, "æƒé™ä¸è¶³");
        }
        
        // 4. æ‰§è¡Œä¸šåŠ¡é€»è¾‘
        try {
            Response response = processRequest(request);
            
            // 5. åå¤„ç†
            postprocessResponse(response);
            
            return response;
        } catch (Exception e) {
            return handleException(e);
        }
    }
    
    // é€šç”¨æ–¹æ³•ï¼šè¯·æ±‚é¢„å¤„ç†
    private boolean preprocessRequest(Request request) {
        System.out.println("é¢„å¤„ç†è¯·æ±‚: " + request.getPath());
        return request != null && request.getPath() != null;
    }
    
    // æŠ½è±¡æ–¹æ³•ï¼šæ ¸å¿ƒä¸šåŠ¡é€»è¾‘
    protected abstract Response processRequest(Request request);
    
    // é’©å­æ–¹æ³•ï¼šæ˜¯å¦éœ€è¦èº«ä»½éªŒè¯
    protected boolean needAuthentication() {
        return false;
    }
    
    // é’©å­æ–¹æ³•ï¼šèº«ä»½éªŒè¯
    protected boolean authenticate(Request request) {
        System.out.println("æ‰§è¡Œèº«ä»½éªŒè¯");
        return true; // é»˜è®¤é€šè¿‡
    }
    
    // é’©å­æ–¹æ³•ï¼šæ˜¯å¦éœ€è¦æƒé™æ£€æŸ¥
    protected boolean needAuthorization() {
        return false;
    }
    
    // é’©å­æ–¹æ³•ï¼šæƒé™æ£€æŸ¥
    protected boolean authorize(Request request) {
        System.out.println("æ‰§è¡Œæƒé™æ£€æŸ¥");
        return true; // é»˜è®¤é€šè¿‡
    }
    
    // é’©å­æ–¹æ³•ï¼šå“åº”åå¤„ç†
    protected void postprocessResponse(Response response) {
        System.out.println("å“åº”åå¤„ç†");
    }
    
    // å¼‚å¸¸å¤„ç†
    private Response handleException(Exception e) {
        System.out.println("å¤„ç†å¼‚å¸¸: " + e.getMessage());
        return new Response(500, "æœåŠ¡å™¨å†…éƒ¨é”™è¯¯");
    }
}

// ç®€å•çš„è¯·æ±‚å“åº”ç±»
class Request {
    private String path;
    private String method;
    
    public Request(String path, String method) {
        this.path = path;
        this.method = method;
    }
    
    public String getPath() { return path; }
    public String getMethod() { return method; }
}

class Response {
    private int status;
    private String body;
    
    public Response(int status, String body) {
        this.status = status;
        this.body = body;
    }
    
    public int getStatus() { return status; }
    public String getBody() { return body; }
}
```

### 5.2 å…·ä½“è¯·æ±‚å¤„ç†å™¨


**ç”¨æˆ·ç™»å½•å¤„ç†å™¨**ï¼š
```java
public class LoginHandler extends HttpRequestHandler {
    
    @Override
    protected Response processRequest(Request request) {
        System.out.println("å¤„ç†ç”¨æˆ·ç™»å½•è¯·æ±‚");
        // æ¨¡æ‹Ÿç™»å½•é€»è¾‘
        return new Response(200, "ç™»å½•æˆåŠŸ");
    }
    
    @Override
    protected boolean needAuthentication() {
        return false; // ç™»å½•æœ¬èº«ä¸éœ€è¦å…ˆéªŒè¯èº«ä»½
    }
}
```

**ç”¨æˆ·ä¿¡æ¯å¤„ç†å™¨**ï¼š
```java
public class UserInfoHandler extends HttpRequestHandler {
    
    @Override
    protected Response processRequest(Request request) {
        System.out.println("è·å–ç”¨æˆ·ä¿¡æ¯");
        return new Response(200, "ç”¨æˆ·ä¿¡æ¯ï¼šå¼ ä¸‰");
    }
    
    @Override
    protected boolean needAuthentication() {
        return true; // éœ€è¦èº«ä»½éªŒè¯
    }
    
    @Override
    protected boolean needAuthorization() {
        return true; // éœ€è¦æƒé™æ£€æŸ¥
    }
}
```

**ç®¡ç†å‘˜æ“ä½œå¤„ç†å™¨**ï¼š
```java
public class AdminHandler extends HttpRequestHandler {
    
    @Override
    protected Response processRequest(Request request) {
        System.out.println("æ‰§è¡Œç®¡ç†å‘˜æ“ä½œ");
        return new Response(200, "æ“ä½œæˆåŠŸ");
    }
    
    @Override
    protected boolean needAuthentication() {
        return true;
    }
    
    @Override
    protected boolean needAuthorization() {
        return true;
    }
    
    @Override
    protected boolean authorize(Request request) {
        System.out.println("æ£€æŸ¥ç®¡ç†å‘˜æƒé™");
        // æ¨¡æ‹Ÿæƒé™æ£€æŸ¥
        return true;
    }
}
```

### 5.3 æ¡†æ¶ä½¿ç”¨ç¤ºä¾‹


```java
public class WebFrameworkDemo {
    public static void main(String[] args) {
        // æ¨¡æ‹Ÿä¸åŒçš„HTTPè¯·æ±‚å¤„ç†
        
        System.out.println("=== å¤„ç†ç™»å½•è¯·æ±‚ ===");
        HttpRequestHandler loginHandler = new LoginHandler();
        Response loginResp = loginHandler.handleRequest(new Request("/login", "POST"));
        System.out.println("å“åº”: " + loginResp.getStatus() + " - " + loginResp.getBody());
        
        System.out.println("\n=== å¤„ç†ç”¨æˆ·ä¿¡æ¯è¯·æ±‚ ===");
        HttpRequestHandler userHandler = new UserInfoHandler();
        Response userResp = userHandler.handleRequest(new Request("/user/info", "GET"));
        System.out.println("å“åº”: " + userResp.getStatus() + " - " + userResp.getBody());
        
        System.out.println("\n=== å¤„ç†ç®¡ç†å‘˜è¯·æ±‚ ===");
        HttpRequestHandler adminHandler = new AdminHandler();
        Response adminResp = adminHandler.handleRequest(new Request("/admin/users", "GET"));
        System.out.println("å“åº”: " + adminResp.getStatus() + " - " + adminResp.getBody());
    }
}
```

---

## 6. ğŸš€ æ‰©å±•æ€§ä¸æœ€ä½³å®è·µ


### 6.1 æ‰©å±•æ€§è®¾è®¡


**å‚æ•°åŒ–æ¨¡æ¿æ–¹æ³•**ï¼š
```java
public abstract class ConfigurableTemplate<T, R> {
    
    // å‚æ•°åŒ–çš„æ¨¡æ¿æ–¹æ³•
    public final R execute(T input, ProcessConfig config) {
        // æ ¹æ®é…ç½®å†³å®šæ‰§è¡Œæµç¨‹
        if (config.isValidationEnabled()) {
            if (!validate(input)) {
                throw new IllegalArgumentException("è¾“å…¥éªŒè¯å¤±è´¥");
            }
        }
        
        // é¢„å¤„ç†
        T processedInput = preprocess(input, config);
        
        // æ ¸å¿ƒå¤„ç†
        R result = process(processedInput, config);
        
        // åå¤„ç†
        if (config.isPostProcessEnabled()) {
            result = postprocess(result, config);
        }
        
        return result;
    }
    
    // æŠ½è±¡æ–¹æ³•
    protected abstract R process(T input, ProcessConfig config);
    
    // é’©å­æ–¹æ³•
    protected boolean validate(T input) { return true; }
    protected T preprocess(T input, ProcessConfig config) { return input; }
    protected R postprocess(R result, ProcessConfig config) { return result; }
}

// é…ç½®ç±»
class ProcessConfig {
    private boolean validationEnabled = true;
    private boolean postProcessEnabled = true;
    
    // getters and setters
    public boolean isValidationEnabled() { return validationEnabled; }
    public boolean isPostProcessEnabled() { return postProcessEnabled; }
    public void setValidationEnabled(boolean enabled) { this.validationEnabled = enabled; }
    public void setPostProcessEnabled(boolean enabled) { this.postProcessEnabled = enabled; }
}
```

### 6.2 æœ€ä½³å®è·µæ€»ç»“


**ğŸ”¸ è®¾è®¡åŸåˆ™**ï¼š
- **å•ä¸€èŒè´£**ï¼šæ¯ä¸ªæ–¹æ³•åªè´Ÿè´£ä¸€ä¸ªæ­¥éª¤
- **å¼€é—­åŸåˆ™**ï¼šå¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­
- **é‡Œæ°æ›¿æ¢**ï¼šå­ç±»å¯ä»¥å®Œå…¨æ›¿æ¢çˆ¶ç±»

**ğŸ”¸ å®ç°è¦ç‚¹**ï¼š
```
âœ… æ¨¡æ¿æ–¹æ³•ç”¨finalä¿®é¥°ï¼Œé˜²æ­¢è¢«é‡å†™
âœ… æŠ½è±¡æ–¹æ³•å®šä¹‰æ¸…æ™°ï¼ŒèŒè´£æ˜ç¡®
âœ… é’©å­æ–¹æ³•æä¾›é»˜è®¤å®ç°
âœ… å¼‚å¸¸å¤„ç†è¦è€ƒè™‘å‘¨å…¨
âœ… æ—¥å¿—è®°å½•è¦å®Œæ•´
```

**ğŸ”¸ å¸¸è§é™·é˜±**ï¼š
```
âŒ æ¨¡æ¿æ–¹æ³•è¿‡äºå¤æ‚ï¼Œæ­¥éª¤å¤ªå¤š
âŒ é’©å­æ–¹æ³•å‘½åä¸æ¸…æ™°
âŒ æ²¡æœ‰è€ƒè™‘å¼‚å¸¸æƒ…å†µ
âŒ å­ç±»é‡å†™äº†ä¸è¯¥é‡å†™çš„æ–¹æ³•
âŒ æ¨¡æ¿æµç¨‹ç¼ºä¹çµæ´»æ€§
```

### 6.3 ä¸å…¶ä»–æ¨¡å¼çš„ç»“åˆ


**æ¨¡æ¿æ–¹æ³• + ç­–ç•¥æ¨¡å¼**ï¼š
```java
public abstract class TemplateWithStrategy {
    
    // ç­–ç•¥æ¥å£
    public interface ProcessStrategy {
        void execute(Object data);
    }
    
    // æ¨¡æ¿æ–¹æ³•ä¸­ä½¿ç”¨ç­–ç•¥
    public final void templateMethod(Object data, ProcessStrategy strategy) {
        preprocess(data);
        
        // ä½¿ç”¨ç­–ç•¥å¤„ç†æ ¸å¿ƒé€»è¾‘
        strategy.execute(data);
        
        postprocess(data);
    }
    
    protected abstract void preprocess(Object data);
    protected abstract void postprocess(Object data);
}
```

---

## 7. ğŸ“‹ æ€»ç»“ä¸æ ¸å¿ƒè¦ç‚¹


### 7.1 æ¨¡æ¿æ–¹æ³•æ¨¡å¼è¦ç‚¹å›é¡¾


**ğŸ¯ æ ¸å¿ƒæ€æƒ³**ï¼š
- **å®šä¹‰éª¨æ¶**ï¼šåœ¨çˆ¶ç±»ä¸­å®šä¹‰ç®—æ³•ç»“æ„
- **å»¶è¿Ÿå®ç°**ï¼šå˜åŒ–éƒ¨åˆ†ç•™ç»™å­ç±»
- **æ§åˆ¶åè½¬**ï¼šçˆ¶ç±»è°ƒç”¨å­ç±»æ–¹æ³•

**ğŸ”§ ä¸»è¦ç»„æˆ**ï¼š
```
æ¨¡æ¿æ–¹æ³•ï¼šå®šä¹‰ç®—æ³•éª¨æ¶ï¼Œfinalä¿®é¥°
å…·ä½“æ–¹æ³•ï¼šé€šç”¨æ­¥éª¤çš„å®ç°
æŠ½è±¡æ–¹æ³•ï¼šå˜åŒ–æ­¥éª¤çš„å®šä¹‰
é’©å­æ–¹æ³•ï¼šå¯é€‰çš„æ‰©å±•ç‚¹
```

### 7.2 é€‚ç”¨åœºæ™¯


**âœ… é€‚åˆä½¿ç”¨çš„æƒ…å†µ**ï¼š
- å¤šä¸ªç®—æ³•æœ‰ç›¸åŒçš„æ­¥éª¤ç»“æ„
- éœ€è¦æ§åˆ¶ç®—æ³•çš„æ‰§è¡Œé¡ºåº
- æŸäº›æ­¥éª¤çš„å®ç°ä¼šå˜åŒ–
- æƒ³é¿å…ä»£ç é‡å¤

**âŒ ä¸é€‚åˆä½¿ç”¨çš„æƒ…å†µ**ï¼š
- ç®—æ³•æ­¥éª¤å·®å¼‚å¾ˆå¤§
- éœ€è¦é¢‘ç¹ä¿®æ”¹ç®—æ³•ç»“æ„
- å­ç±»æ•°é‡å¯èƒ½å¾ˆå¤š
- ç®€å•çš„ç®—æ³•ä¸éœ€è¦æ¨¡æ¿

### 7.3 ä¼˜ç¼ºç‚¹åˆ†æ


| ä¼˜ç‚¹ | ç¼ºç‚¹ |
|------|------|
| `ä»£ç å¤ç”¨æ€§å¥½` | `ç±»æ•°é‡å¢åŠ ` |
| `ç®—æ³•ç»“æ„æ¸…æ™°` | `ç»§æ‰¿å…³ç³»å¤æ‚` |
| `æ˜“äºç»´æŠ¤å’Œæ‰©å±•` | `è°ƒè¯•ç›¸å¯¹å›°éš¾` |
| `ç¬¦åˆå¼€é—­åŸåˆ™` | `çˆ¶ç±»å˜åŒ–å½±å“å¤§` |

### 7.4 å®é™…åº”ç”¨å»ºè®®


**ğŸ”¸ ä½•æ—¶ä½¿ç”¨**ï¼š
- æ¡†æ¶è®¾è®¡ä¸­çš„é€šç”¨æµç¨‹
- ç®—æ³•æ—çš„ç»Ÿä¸€ç®¡ç†
- æ•°æ®å¤„ç†çš„æ ‡å‡†åŒ–æµç¨‹
- Webè¯·æ±‚çš„å¤„ç†ç®¡é“

**ğŸ”¸ è®¾è®¡æŠ€å·§**ï¼š
- ä¿æŒæ¨¡æ¿æ–¹æ³•ç®€æ´
- é’©å­æ–¹æ³•å‘½åè¦æ¸…æ™°
- å¼‚å¸¸å¤„ç†è¦å®Œå–„
- æ–‡æ¡£è¯´æ˜è¦è¯¦ç»†

**ğŸ”¸ è®°å¿†å£è¯€**ï¼š
```
æ¨¡æ¿å®šéª¨æ¶ï¼Œæµç¨‹çˆ¶ç±»æŠ“
å˜åŒ–ç•™å­ç±»ï¼Œé’©å­å¯æ‹¿ä¸‹
finalä¿ä¸å˜ï¼ŒæŠ½è±¡å¿…é¡»ç­”
å¤ç”¨åˆæ‰©å±•ï¼Œæ¡†æ¶å°±ç”¨å®ƒ
```

### 7.5 ä¸Springæ¡†æ¶çš„å…³ç³»


Springæ¡†æ¶ä¸­å¤§é‡ä½¿ç”¨äº†æ¨¡æ¿æ–¹æ³•æ¨¡å¼ï¼š
- **JdbcTemplate**ï¼šæ•°æ®åº“æ“ä½œæ¨¡æ¿
- **RestTemplate**ï¼šHTTPè¯·æ±‚æ¨¡æ¿  
- **TransactionTemplate**ï¼šäº‹åŠ¡å¤„ç†æ¨¡æ¿

è¿™äº›éƒ½æ˜¯æ¨¡æ¿æ–¹æ³•æ¨¡å¼åœ¨å®é™…æ¡†æ¶ä¸­çš„ç»å…¸åº”ç”¨ã€‚

---

**ğŸ’¡ å…³é”®ç†è§£**ï¼šæ¨¡æ¿æ–¹æ³•æ¨¡å¼å°±åƒåˆ¶å®šäº†ä¸€ä¸ªæ ‡å‡†ä½œä¸šæµç¨‹ï¼Œæ¯ä¸ªäººéƒ½æŒ‰è¿™ä¸ªæµç¨‹å·¥ä½œï¼Œä½†å…·ä½“æ€ä¹ˆåšæŸäº›æ­¥éª¤ï¼Œå¯ä»¥æ ¹æ®å®é™…æƒ…å†µæ¥è°ƒæ•´ã€‚è¿™æ ·æ—¢ä¿è¯äº†æ•´ä½“çš„ä¸€è‡´æ€§ï¼Œåˆå…è®¸å±€éƒ¨çš„çµæ´»æ€§ã€‚