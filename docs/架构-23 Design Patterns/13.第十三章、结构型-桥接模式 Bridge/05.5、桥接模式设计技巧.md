---
title: 5ã€æ¡¥æ¥æ¨¡å¼è®¾è®¡æŠ€å·§
---
## ğŸ“š ç›®å½•

1. [ç»´åº¦åˆ†ææ–¹æ³•](#1-ç»´åº¦åˆ†ææ–¹æ³•)
2. [æ¥å£ç²’åº¦æ§åˆ¶](#2-æ¥å£ç²’åº¦æ§åˆ¶)
3. [æ‰©å±•æ€§è®¾è®¡](#3-æ‰©å±•æ€§è®¾è®¡)
4. [æ€§èƒ½ä¼˜åŒ–è€ƒè™‘](#4-æ€§èƒ½ä¼˜åŒ–è€ƒè™‘)
5. [ç‰ˆæœ¬å…¼å®¹å¤„ç†](#5-ç‰ˆæœ¬å…¼å®¹å¤„ç†)
6. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#6-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ” ç»´åº¦åˆ†ææ–¹æ³•


### 1.1 ä»€ä¹ˆæ˜¯ç»´åº¦åˆ†æ


**ğŸ¯ é€šä¿—ç†è§£**ï¼š
å°±åƒæˆ‘ä»¬ä¹°æ‰‹æœºæ—¶è¦è€ƒè™‘å¤šä¸ªæ–¹é¢ä¸€æ ·ï¼š
- **å“ç‰Œç»´åº¦**ï¼šè‹¹æœã€åä¸ºã€å°ç±³...
- **ä»·æ ¼ç»´åº¦**ï¼šé«˜ç«¯ã€ä¸­ç«¯ã€ä½ç«¯...
- **åŠŸèƒ½ç»´åº¦**ï¼šæ‹ç…§ã€æ¸¸æˆã€å•†åŠ¡...

åœ¨ç¼–ç¨‹ä¸­ï¼Œ**ç»´åº¦**å°±æ˜¯**å˜åŒ–çš„æ–¹å‘**ã€‚å½“ä¸€ä¸ªç±»éœ€è¦åœ¨å¤šä¸ªæ–¹å‘ä¸Šå˜åŒ–æ—¶ï¼Œæˆ‘ä»¬å°±éœ€è¦ç”¨æ¡¥æ¥æ¨¡å¼æŠŠè¿™äº›å˜åŒ–åˆ†å¼€ã€‚

```
ğŸ¤” æ€è€ƒé¢˜ï¼šå›¾å½¢ç»˜åˆ¶ç³»ç»Ÿ
å½¢çŠ¶ç»´åº¦ï¼šåœ†å½¢ã€çŸ©å½¢ã€ä¸‰è§’å½¢...
é¢œè‰²ç»´åº¦ï¼šçº¢è‰²ã€è“è‰²ã€ç»¿è‰²...

å¦‚æœä¸ç”¨æ¡¥æ¥æ¨¡å¼ï¼š
RedCircleã€BlueCircleã€GreenCircle
RedRectangleã€BlueRectangleã€GreenRectangle
...ï¼ˆç±»çˆ†ç‚¸ğŸ’¥ï¼‰

ç”¨æ¡¥æ¥æ¨¡å¼ï¼š
Shapeï¼ˆå½¢çŠ¶æŠ½è±¡ï¼‰ + Colorï¼ˆé¢œè‰²å®ç°ï¼‰
åªéœ€è¦ 3ä¸ªå½¢çŠ¶ç±» + 3ä¸ªé¢œè‰²ç±» = 6ä¸ªç±»
```

### 1.2 ç»´åº¦è¯†åˆ«æŠ€å·§


**ğŸ”¸ è¯†åˆ«æ ‡å‡†**ï¼š
```
âœ… ç‹¬ç«‹å˜åŒ–ï¼šä¸¤ä¸ªç»´åº¦å¯ä»¥ç‹¬ç«‹æ”¹å˜
âœ… æ­£äº¤å…³ç³»ï¼šç»´åº¦ä¹‹é—´æ²¡æœ‰å¼ºä¾èµ–
âœ… ç»„åˆéœ€æ±‚ï¼šéœ€è¦è‡ªç”±ç»„åˆä¸åŒç»´åº¦
```

**ğŸ’¡ å®é™…æ¡ˆä¾‹åˆ†æ**ï¼š

**æ¡ˆä¾‹1ï¼šæ¶ˆæ¯å‘é€ç³»ç»Ÿ**
```
ç»´åº¦1ï¼šæ¶ˆæ¯ç±»å‹ï¼ˆæ–‡æœ¬ã€å›¾ç‰‡ã€è¯­éŸ³ï¼‰
ç»´åº¦2ï¼šå‘é€æ–¹å¼ï¼ˆé‚®ä»¶ã€çŸ­ä¿¡ã€å¾®ä¿¡ï¼‰

åˆ†æç»“æœï¼šâœ… é€‚åˆæ¡¥æ¥æ¨¡å¼
- æ¶ˆæ¯ç±»å‹å’Œå‘é€æ–¹å¼å¯ä»¥ç‹¬ç«‹å˜åŒ–
- ä»»æ„æ¶ˆæ¯ç±»å‹éƒ½å¯ä»¥é€šè¿‡ä»»æ„æ–¹å¼å‘é€
```

**æ¡ˆä¾‹2ï¼šæ¸¸æˆè§’è‰²ç³»ç»Ÿ**
```
ç»´åº¦1ï¼šèŒä¸šï¼ˆæˆ˜å£«ã€æ³•å¸ˆã€ç›—è´¼ï¼‰
ç»´åº¦2ï¼šæ­¦å™¨ï¼ˆå‰‘ã€æ³•æ–ã€åŒ•é¦–ï¼‰

åˆ†æç»“æœï¼šâŒ ä¸é€‚åˆæ¡¥æ¥æ¨¡å¼
- æ³•å¸ˆä¸èƒ½ç”¨å‰‘ï¼Œç›—è´¼ä¸èƒ½ç”¨æ³•æ–
- ç»´åº¦é—´æœ‰å¼ºä¾èµ–å…³ç³»
```

### 1.3 ç»´åº¦åˆ†ææ­¥éª¤


**ğŸ”„ åˆ†ææµç¨‹**ï¼š
```
Step 1 ğŸ¯ åˆ—å‡ºæ‰€æœ‰å˜åŒ–ç‚¹
Step 2 ğŸ” è¯†åˆ«å˜åŒ–æ¨¡å¼
Step 3 ğŸ“Š æ£€æŸ¥ç‹¬ç«‹æ€§
Step 4 âœ… ç¡®å®šç»´åº¦åˆ’åˆ†
```

**ğŸ“‹ åˆ†ææ¨¡æ¿**ï¼š
```
å˜åŒ–ç‚¹æ¸…å•ï¼š
1. _____ ä¼šå˜åŒ–
2. _____ ä¼šå˜åŒ–
3. _____ ä¼šå˜åŒ–

ç‹¬ç«‹æ€§æ£€æŸ¥ï¼š
å˜åŒ–ç‚¹A ä¸ å˜åŒ–ç‚¹Bï¼šâ–¡ ç‹¬ç«‹ â–¡ ç›¸å…³
å˜åŒ–ç‚¹A ä¸ å˜åŒ–ç‚¹Cï¼šâ–¡ ç‹¬ç«‹ â–¡ ç›¸å…³
å˜åŒ–ç‚¹B ä¸ å˜åŒ–ç‚¹Cï¼šâ–¡ ç‹¬ç«‹ â–¡ ç›¸å…³

ç»´åº¦åˆ’åˆ†ç»“æœï¼š
æŠ½è±¡ç»´åº¦ï¼š_____
å®ç°ç»´åº¦ï¼š_____
```

---

## 2. ğŸ›ï¸ æ¥å£ç²’åº¦æ§åˆ¶


### 2.1 ä»€ä¹ˆæ˜¯æ¥å£ç²’åº¦


**ğŸ¯ é€šä¿—ç†è§£**ï¼š
æ¥å£ç²’åº¦å°±åƒé¥æ§å™¨çš„æŒ‰é’®è®¾è®¡ï¼š
- **ç²—ç²’åº¦**ï¼šä¸€ä¸ªæŒ‰é’®æ§åˆ¶å¤šä¸ªåŠŸèƒ½ï¼ˆä¸€é”®å¼€æœº+è°ƒéŸ³é‡+æ¢å°ï¼‰
- **ç»†ç²’åº¦**ï¼šæ¯ä¸ªæŒ‰é’®åªæ§åˆ¶ä¸€ä¸ªåŠŸèƒ½ï¼ˆå¼€æœºé”®ã€éŸ³é‡é”®ã€æ¢å°é”®åˆ†å¼€ï¼‰

åœ¨æ¡¥æ¥æ¨¡å¼ä¸­ï¼Œå®ç°æ¥å£çš„ç²’åº¦ç›´æ¥å½±å“**çµæ´»æ€§**å’Œ**å¤æ‚æ€§**ã€‚

### 2.2 ç²’åº¦é€‰æ‹©åŸåˆ™


**âš–ï¸ ç²’åº¦å¹³è¡¡**ï¼š

| ç²’åº¦ç±»å‹ | **ä¼˜ç‚¹** | **ç¼ºç‚¹** | **é€‚ç”¨åœºæ™¯** |
|---------|----------|----------|-------------|
| ğŸ”¸ **ç²—ç²’åº¦** | `å®ç°ç®€å•ï¼Œè°ƒç”¨æ–¹ä¾¿` | `çµæ´»æ€§å·®ï¼Œéš¾ä»¥æ‰©å±•` | `åŠŸèƒ½ç¨³å®šï¼Œå˜åŒ–è¾ƒå°‘` |
| ğŸ”¸ **ç»†ç²’åº¦** | `çµæ´»æ€§é«˜ï¼Œæ˜“äºæ‰©å±•` | `å®ç°å¤æ‚ï¼Œè°ƒç”¨ç¹ç` | `éœ€æ±‚å¤šå˜ï¼ŒåŠŸèƒ½ä¸°å¯Œ` |
| ğŸ”¸ **æ··åˆç²’åº¦** | `å¹³è¡¡çµæ´»æ€§å’Œç®€ä¾¿æ€§` | `è®¾è®¡å¤æ‚åº¦ä¸­ç­‰` | `å¤§å¤šæ•°å®é™…é¡¹ç›®` |

### 2.3 ç²’åº¦è®¾è®¡å®ä¾‹


**ğŸ“± åª’ä½“æ’­æ”¾å™¨ç¤ºä¾‹**ï¼š

```java
// âŒ ç²’åº¦è¿‡ç²—ï¼šä¸€ä¸ªæ–¹æ³•åšå¤ªå¤šäº‹
interface MediaPlayer {
    void playWithEffects(String file, int volume, String effect);
}

// âŒ ç²’åº¦è¿‡ç»†ï¼šæ“ä½œå¤ªåˆ†æ•£
interface MediaPlayer {
    void openFile(String file);
    void setVolume(int volume);
    void addEffect(String effect);
    void startPlayback();
    void stopPlayback();
}

// âœ… åˆé€‚ç²’åº¦ï¼šåŠŸèƒ½ç›¸å…³çš„æ“ä½œç»„åˆ
interface MediaPlayer {
    void play(String file);           // åŸºç¡€æ’­æ”¾
    void setVolume(int volume);       // éŸ³é‡æ§åˆ¶
    void applyEffect(String effect);  // æ•ˆæœå¤„ç†
    void stop();                      // åœæ­¢æ’­æ”¾
}
```

**ğŸ§  è®°å¿†å£è¯€**ï¼š
> "**åŠŸèƒ½å†…èšæ“ä½œåˆ†ï¼Œç›¸å…³ç»„åˆç‹¬ç«‹åˆ†**"

### 2.4 ç²’åº¦æ§åˆ¶æŠ€å·§


**ğŸ”§ è®¾è®¡æŠ€å·§**ï¼š

**æŠ€å·§1ï¼šåŠŸèƒ½åˆ†å±‚**
```
é«˜å±‚æ¥å£ï¼šä¸šåŠ¡çº§æ“ä½œï¼ˆæ’­æ”¾éŸ³ä¹ã€å‘é€æ¶ˆæ¯ï¼‰
ä¸­å±‚æ¥å£ï¼šåŠŸèƒ½çº§æ“ä½œï¼ˆè®¾ç½®å‚æ•°ã€å¤„ç†æ•°æ®ï¼‰
åº•å±‚æ¥å£ï¼šåŸå­çº§æ“ä½œï¼ˆè¯»æ–‡ä»¶ã€å†™ç¼“å­˜ï¼‰
```

**æŠ€å·§2ï¼šé»˜è®¤å®ç°**
```java
interface Renderer {
    // æ ¸å¿ƒæ–¹æ³•ï¼šå¿…é¡»å®ç°
    void drawShape(Shape shape);
    
    // ä¾¿æ·æ–¹æ³•ï¼šæä¾›é»˜è®¤å®ç°
    default void drawWithBorder(Shape shape) {
        drawBorder(shape);
        drawShape(shape);
    }
    
    default void drawBorder(Shape shape) {
        // é»˜è®¤è¾¹æ¡†ç»˜åˆ¶é€»è¾‘
    }
}
```

**æŠ€å·§3ï¼šç»„åˆæ¥å£**
```java
// åŸºç¡€æ¥å£
interface BasicRenderer {
    void render();
}

// æ‰©å±•æ¥å£
interface AdvancedRenderer extends BasicRenderer {
    void renderWithEffect();
    void renderWithAnimation();
}

// æ ¹æ®éœ€è¦é€‰æ‹©å®ç°å“ªä¸ªæ¥å£
```

---

## 3. ğŸš€ æ‰©å±•æ€§è®¾è®¡


### 3.1 æ‰©å±•æ€§è®¾è®¡åŸåˆ™


**ğŸ¯ æ ¸å¿ƒç†å¿µ**ï¼š
æ‰©å±•æ€§å°±æ˜¯è®©ç³»ç»Ÿèƒ½å¤Ÿ**è½»æ¾æ·»åŠ æ–°åŠŸèƒ½**ï¼Œè€Œä¸éœ€è¦ä¿®æ”¹ç°æœ‰ä»£ç ã€‚

**ğŸ”¸ å¼€é—­åŸåˆ™**ï¼šå¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å°é—­
```
âœ… å¥½çš„è®¾è®¡ï¼šæ·»åŠ æ–°åŠŸèƒ½åªéœ€è¦å¢åŠ æ–°ç±»
âŒ åçš„è®¾è®¡ï¼šæ·»åŠ æ–°åŠŸèƒ½éœ€è¦ä¿®æ”¹ç°æœ‰ç±»
```

### 3.2 é¢„ç•™æ‰©å±•ç‚¹


**ğŸ’¡ æ‰©å±•ç‚¹è®¾è®¡ç­–ç•¥**ï¼š

**ç­–ç•¥1ï¼šå‚æ•°åŒ–é…ç½®**
```java
// ä¸å¥½çš„è®¾è®¡ï¼šç¡¬ç¼–ç 
class EmailSender {
    public void send(String content) {
        // å›ºå®šä½¿ç”¨SMTPåè®®
        sendViaSmtp(content);
    }
}

// å¥½çš„è®¾è®¡ï¼šå‚æ•°åŒ–
class MessageSender {
    private final Protocol protocol;
    
    public MessageSender(Protocol protocol) {
        this.protocol = protocol;
    }
    
    public void send(String content) {
        protocol.transmit(content);  // åè®®å¯ä»¥æ‰©å±•
    }
}
```

**ç­–ç•¥2ï¼šé’©å­æ–¹æ³•**
```java
abstract class AbstractRenderer {
    public final void render(Shape shape) {
        beforeRender(shape);    // é’©å­ï¼šå‰ç½®å¤„ç†
        doRender(shape);        // æ ¸å¿ƒï¼šå®é™…æ¸²æŸ“
        afterRender(shape);     // é’©å­ï¼šåç½®å¤„ç†
    }
    
    protected abstract void doRender(Shape shape);
    
    // é’©å­æ–¹æ³•ï¼šå­ç±»å¯é€‰æ‹©é‡å†™
    protected void beforeRender(Shape shape) {}
    protected void afterRender(Shape shape) {}
}
```

### 3.3 æ‰©å±•æ€§è¯„ä¼°æ ‡å‡†


**ğŸ“Š æ‰©å±•æ€§æ£€æŸ¥æ¸…å•**ï¼š

| æ£€æŸ¥é¡¹ | **è¯„ä¼°æ ‡å‡†** | **è¯„åˆ†** |
|--------|-------------|----------|
| ğŸ”„ **æ–°åŠŸèƒ½æ·»åŠ ** | `åªéœ€å¢åŠ æ–°ç±»ï¼Œæ— éœ€ä¿®æ”¹ç°æœ‰ä»£ç ` | â­â­â­â­â­ |
| ğŸ”§ **æ¥å£ç¨³å®šæ€§** | `æ ¸å¿ƒæ¥å£ä¸éœ€è¦é¢‘ç¹å˜æ›´` | â­â­â­â­ |
| ğŸ“¦ **æ¨¡å—ç‹¬ç«‹æ€§** | `å„æ¨¡å—å¯ä»¥ç‹¬ç«‹å¼€å‘å’Œæµ‹è¯•` | â­â­â­â­â­ |
| ğŸ¯ **èŒè´£å•ä¸€æ€§** | `æ¯ä¸ªç±»åªè´Ÿè´£ä¸€ä¸ªå˜åŒ–ç»´åº¦` | â­â­â­â­ |

### 3.4 æ‰©å±•æ€§æœ€ä½³å®è·µ


**ğŸ† æœ€ä½³å®è·µæ€»ç»“**ï¼š

**å®è·µ1ï¼šé¢å‘æ¥å£ç¼–ç¨‹**
```java
// âœ… ä¾èµ–æ¥å£ï¼Œä¸ä¾èµ–å…·ä½“å®ç°
public class ShapeDrawer {
    private final Renderer renderer;  // æ¥å£ç±»å‹
    
    public ShapeDrawer(Renderer renderer) {
        this.renderer = renderer;
    }
}

// âŒ ä¾èµ–å…·ä½“å®ç°ï¼Œéš¾ä»¥æ‰©å±•
public class ShapeDrawer {
    private final WindowsRenderer renderer;  // å…·ä½“ç±»å‹
}
```

**å®è·µ2ï¼šä½¿ç”¨å·¥å‚æ¨¡å¼**
```java
// æ¸²æŸ“å™¨å·¥å‚ï¼šä¾¿äºæ‰©å±•æ–°çš„æ¸²æŸ“å™¨
class RendererFactory {
    public static Renderer create(String type) {
        switch (type) {
            case "2D": return new Graphics2DRenderer();
            case "3D": return new OpenGLRenderer();
            case "web": return new CanvasRenderer();
            default: throw new IllegalArgumentException("Unknown type: " + type);
        }
    }
}
```

**å®è·µ3ï¼šé…ç½®é©±åŠ¨**
```java
// é€šè¿‡é…ç½®æ–‡ä»¶æ§åˆ¶è¡Œä¸º
class ConfigurableRenderer implements Renderer {
    private final Properties config;
    
    public ConfigurableRenderer(Properties config) {
        this.config = config;
    }
    
    @Override
    public void render(Shape shape) {
        String mode = config.getProperty("render.mode", "standard");
        if ("debug".equals(mode)) {
            renderWithDebugInfo(shape);
        } else {
            renderStandard(shape);
        }
    }
}
```

---

## 4. âš¡ æ€§èƒ½ä¼˜åŒ–è€ƒè™‘


### 4.1 æ¡¥æ¥æ¨¡å¼çš„æ€§èƒ½ç‰¹ç‚¹


**ğŸ“Š æ€§èƒ½åˆ†æ**ï¼š

**ä¼˜åŠ¿æ–¹é¢**ï¼š
```
ğŸ”¸ å‡å°‘ç±»æ•°é‡ï¼šé¿å…ç±»çˆ†ç‚¸ï¼Œå‡å°‘å†…å­˜å ç”¨
ğŸ”¸ å»¶è¿ŸåŠ è½½ï¼šå¯ä»¥æŒ‰éœ€åˆ›å»ºå®ç°å¯¹è±¡
ğŸ”¸ å¯¹è±¡å¤ç”¨ï¼šå®ç°å¯¹è±¡å¯ä»¥è¢«å¤šä¸ªæŠ½è±¡å¯¹è±¡å…±äº«
```

**åŠ£åŠ¿æ–¹é¢**ï¼š
```
ğŸ”¸ é—´æ¥è°ƒç”¨ï¼šå¢åŠ äº†ä¸€å±‚æ–¹æ³•è°ƒç”¨å¼€é”€
ğŸ”¸ å¯¹è±¡åˆ›å»ºï¼šéœ€è¦é¢å¤–åˆ›å»ºæ¡¥æ¥å¯¹è±¡
ğŸ”¸ å†…å­˜å¼•ç”¨ï¼šå¢åŠ äº†å¯¹è±¡é—´çš„å¼•ç”¨å…³ç³»
```

### 4.2 æ€§èƒ½ä¼˜åŒ–ç­–ç•¥


**ğŸš€ ä¼˜åŒ–æŠ€å·§**ï¼š

**æŠ€å·§1ï¼šå¯¹è±¡æ± åŒ–**
```java
// å®ç°å¯¹è±¡æ± ï¼Œé¿å…é‡å¤åˆ›å»º
class RendererPool {
    private static final Map<String, Renderer> pool = new ConcurrentHashMap<>();
    
    public static Renderer getRenderer(String type) {
        return pool.computeIfAbsent(type, k -> createRenderer(k));
    }
    
    private static Renderer createRenderer(String type) {
        // æ ¹æ®ç±»å‹åˆ›å»ºæ¸²æŸ“å™¨
        switch (type) {
            case "opengl": return new OpenGLRenderer();
            case "directx": return new DirectXRenderer();
            default: return new SoftwareRenderer();
        }
    }
}
```

**æŠ€å·§2ï¼šç¼“å­˜æœºåˆ¶**
```java
class CachedRenderer implements Renderer {
    private final Renderer delegate;
    private final Map<Shape, BufferedImage> cache = new HashMap<>();
    
    public CachedRenderer(Renderer delegate) {
        this.delegate = delegate;
    }
    
    @Override
    public void render(Shape shape) {
        BufferedImage cached = cache.get(shape);
        if (cached == null) {
            cached = delegate.renderToImage(shape);  // å®é™…æ¸²æŸ“
            cache.put(shape, cached);                // ç¼“å­˜ç»“æœ
        }
        displayImage(cached);                        // æ˜¾ç¤ºç¼“å­˜
    }
}
```

**æŠ€å·§3ï¼šæ‰¹é‡å¤„ç†**
```java
interface BatchRenderer extends Renderer {
    void renderBatch(List<Shape> shapes);  // æ‰¹é‡æ¸²æŸ“æ¥å£
    
    default void render(Shape shape) {
        renderBatch(Arrays.asList(shape));  // å•ä¸ªæ¸²æŸ“è½¬ä¸ºæ‰¹é‡
    }
}

class OpenGLBatchRenderer implements BatchRenderer {
    @Override
    public void renderBatch(List<Shape> shapes) {
        // ä¸€æ¬¡æ€§è®¾ç½®OpenGLçŠ¶æ€
        setupOpenGLState();
        
        // æ‰¹é‡æ¸²æŸ“æ‰€æœ‰å½¢çŠ¶
        for (Shape shape : shapes) {
            renderShapeInternal(shape);
        }
        
        // ä¸€æ¬¡æ€§æäº¤åˆ°GPU
        glFlush();
    }
}
```

### 4.3 æ€§èƒ½ç›‘æ§æŒ‡æ ‡


**ğŸ“ˆ å…³é”®æ€§èƒ½æŒ‡æ ‡**ï¼š

| æŒ‡æ ‡ | **è¯´æ˜** | **ç›‘æ§æ–¹æ³•** | **ä¼˜åŒ–ç›®æ ‡** |
|------|----------|-------------|-------------|
| ğŸ• **å“åº”æ—¶é—´** | `æ–¹æ³•è°ƒç”¨è€—æ—¶` | `è®¡æ—¶å™¨ç»Ÿè®¡` | `< 100ms` |
| ğŸ§  **å†…å­˜ä½¿ç”¨** | `å¯¹è±¡å ç”¨å†…å­˜` | `å†…å­˜åˆ†æå™¨` | `æœ€å°åŒ–åˆ›å»º` |
| ğŸ”„ **åˆ›å»ºå¼€é”€** | `å¯¹è±¡åˆ›å»ºæ—¶é—´` | `æ€§èƒ½åˆ†æå™¨` | `å¯¹è±¡å¤ç”¨` |
| ğŸ“¦ **ç¼“å­˜å‘½ä¸­ç‡** | `ç¼“å­˜ä½¿ç”¨æ•ˆæœ` | `ç»Ÿè®¡è®¡æ•°å™¨` | `> 80%` |

**ğŸ”§ ç›‘æ§ä»£ç ç¤ºä¾‹**ï¼š
```java
class PerformanceMonitor {
    private static final Map<String, Long> timings = new ConcurrentHashMap<>();
    
    public static <T> T monitor(String operation, Supplier<T> supplier) {
        long start = System.nanoTime();
        try {
            return supplier.get();
        } finally {
            long duration = System.nanoTime() - start;
            timings.merge(operation, duration, Long::sum);
        }
    }
    
    public static void printStats() {
        timings.forEach((op, time) -> 
            System.out.printf("%s: %.2f ms%n", op, time / 1_000_000.0));
    }
}
```

---

## 5. ğŸ”„ ç‰ˆæœ¬å…¼å®¹å¤„ç†


### 5.1 ç‰ˆæœ¬å…¼å®¹çš„æŒ‘æˆ˜


**ğŸ¤” ä¸ºä»€ä¹ˆéœ€è¦ç‰ˆæœ¬å…¼å®¹**ï¼š
åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œä»£ç ä¼šä¸æ–­æ¼”è¿›ï¼š
- **æ–°åŠŸèƒ½æ·»åŠ **ï¼šæ¥å£éœ€è¦æ‰©å±•æ–°æ–¹æ³•
- **æ€§èƒ½ä¼˜åŒ–**ï¼šå®ç°ç»†èŠ‚ä¼šå‘ç”Ÿå˜åŒ–
- **bugä¿®å¤**ï¼šå¯èƒ½å½±å“æ¥å£è¡Œä¸º
- **ç¬¬ä¸‰æ–¹ä¾èµ–**ï¼šå¤–éƒ¨åº“ç‰ˆæœ¬æ›´æ–°

**âš ï¸ å¸¸è§å…¼å®¹æ€§é—®é¢˜**ï¼š
```
é—®é¢˜1ï¼šæ¥å£æ–¹æ³•ç­¾åæ”¹å˜
æ—§ç‰ˆæœ¬ï¼švoid render(Shape shape)
æ–°ç‰ˆæœ¬ï¼švoid render(Shape shape, RenderContext context)

é—®é¢˜2ï¼šè¿”å›å€¼ç±»å‹å˜åŒ–
æ—§ç‰ˆæœ¬ï¼šString getResult()
æ–°ç‰ˆæœ¬ï¼šResult getResult()

é—®é¢˜3ï¼šå¼‚å¸¸å¤„ç†å˜åŒ–
æ—§ç‰ˆæœ¬ï¼šä¸æŠ›å¼‚å¸¸
æ–°ç‰ˆæœ¬ï¼šthrows RenderException
```

### 5.2 å…¼å®¹æ€§è®¾è®¡ç­–ç•¥


**ğŸ›¡ï¸ å…¼å®¹æ€§ç­–ç•¥**ï¼š

**ç­–ç•¥1ï¼šç‰ˆæœ¬åŒ–æ¥å£**
```java
// åŸºç¡€æ¥å£ï¼šä¿æŒç¨³å®š
interface Renderer {
    void render(Shape shape);
}

// æ‰©å±•æ¥å£ï¼šæ·»åŠ æ–°åŠŸèƒ½
interface RendererV2 extends Renderer {
    void render(Shape shape, RenderContext context);
    
    // æä¾›é»˜è®¤å®ç°ä¿è¯å…¼å®¹æ€§
    @Override
    default void render(Shape shape) {
        render(shape, RenderContext.getDefault());
    }
}

// æœ€æ–°æ¥å£ï¼šæŒç»­æ¼”è¿›
interface RendererV3 extends RendererV2 {
    CompletableFuture<RenderResult> renderAsync(Shape shape, RenderContext context);
}
```

**ç­–ç•¥2ï¼šé€‚é…å™¨æ¨¡å¼**
```java
// æ—§ç‰ˆæœ¬æ¥å£é€‚é…å™¨
class LegacyRendererAdapter implements RendererV2 {
    private final OldRenderer oldRenderer;
    
    public LegacyRendererAdapter(OldRenderer oldRenderer) {
        this.oldRenderer = oldRenderer;
    }
    
    @Override
    public void render(Shape shape, RenderContext context) {
        // è½¬æ¢æ–°å‚æ•°ä¸ºæ—§å‚æ•°æ ¼å¼
        OldRenderParams params = convertContext(context);
        oldRenderer.draw(shape, params);
    }
    
    private OldRenderParams convertContext(RenderContext context) {
        // å‚æ•°è½¬æ¢é€»è¾‘
        return new OldRenderParams(context.getColor(), context.getStyle());
    }
}
```

**ç­–ç•¥3ï¼šæ¸è¿›å¼å‡çº§**
```java
class CompatibleRenderer implements Renderer {
    private final boolean useNewImplementation;
    
    public CompatibleRenderer() {
        // é€šè¿‡é…ç½®å†³å®šä½¿ç”¨å“ªç§å®ç°
        this.useNewImplementation = Boolean.parseBoolean(
            System.getProperty("renderer.use.new", "false"));
    }
    
    @Override
    public void render(Shape shape) {
        if (useNewImplementation) {
            renderWithNewEngine(shape);
        } else {
            renderWithLegacyEngine(shape);
        }
    }
}
```

### 5.3 ç‰ˆæœ¬å…¼å®¹æœ€ä½³å®è·µ


**ğŸ† æœ€ä½³å®è·µæŒ‡å—**ï¼š

**å®è·µ1ï¼šè¯­ä¹‰åŒ–ç‰ˆæœ¬æ§åˆ¶**
```
ç‰ˆæœ¬æ ¼å¼ï¼šä¸»ç‰ˆæœ¬.æ¬¡ç‰ˆæœ¬.ä¿®è®¢ç‰ˆæœ¬ (å¦‚ 2.1.3)

ä¸»ç‰ˆæœ¬ï¼šä¸å…¼å®¹çš„APIä¿®æ”¹
æ¬¡ç‰ˆæœ¬ï¼šå‘åå…¼å®¹çš„åŠŸèƒ½æ€§æ–°å¢
ä¿®è®¢ç‰ˆæœ¬ï¼šå‘åå…¼å®¹çš„bugä¿®å¤
```

**å®è·µ2ï¼šå¼ƒç”¨è­¦å‘Šæœºåˆ¶**
```java
interface Renderer {
    @Deprecated(since = "2.0", forRemoval = true)
    @SuppressWarnings("removal")
    void renderOld(Shape shape);
    
    // æ–°æ–¹æ³•
    void render(Shape shape, RenderOptions options);
}
```

**å®è·µ3ï¼šè¿ç§»æŒ‡å—**
```java
/**
 * è¿ç§»æŒ‡å—ï¼š
 * 
 * æ—§ç”¨æ³•ï¼š
 * renderer.renderOld(shape);
 * 
 * æ–°ç”¨æ³•ï¼š
 * renderer.render(shape, RenderOptions.builder()
 *     .quality(Quality.HIGH)
 *     .antiAliasing(true)
 *     .build());
 * 
 * å…¼å®¹æ€§ï¼šæ­¤æ–¹æ³•å°†åœ¨ 3.0 ç‰ˆæœ¬ä¸­ç§»é™¤
 */
```

### 5.4 ç‰ˆæœ¬æ£€æµ‹ä¸å¤„ç†


**ğŸ” ç‰ˆæœ¬æ£€æµ‹æœºåˆ¶**ï¼š
```java
class VersionCompatibilityChecker {
    public static boolean isCompatible(Class<?> implementationClass) {
        // æ£€æŸ¥å®ç°ç±»æ”¯æŒçš„æ¥å£ç‰ˆæœ¬
        if (RendererV3.class.isAssignableFrom(implementationClass)) {
            return true;  // æœ€æ–°ç‰ˆæœ¬
        } else if (RendererV2.class.isAssignableFrom(implementationClass)) {
            logWarning("ä½¿ç”¨è¾ƒæ—§çš„æ¸²æŸ“å™¨ç‰ˆæœ¬ï¼Œå»ºè®®å‡çº§");
            return true;  // å…¼å®¹ç‰ˆæœ¬
        } else if (Renderer.class.isAssignableFrom(implementationClass)) {
            logWarning("ä½¿ç”¨è¿‡æ—¶çš„æ¸²æŸ“å™¨ç‰ˆæœ¬ï¼ŒåŠŸèƒ½å—é™");
            return true;  // åŸºç¡€å…¼å®¹
        }
        return false;  // ä¸å…¼å®¹
    }
}
```

---

## 6. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 6.1 è®¾è®¡æŠ€å·§è¦ç‚¹å›é¡¾


**ğŸ¯ æ ¸å¿ƒè®¾è®¡åŸåˆ™**ï¼š
```
ğŸ”¸ ç»´åº¦åˆ†æï¼šè¯†åˆ«ç‹¬ç«‹å˜åŒ–çš„ç»´åº¦ï¼Œåˆç†åˆ’åˆ†æŠ½è±¡å’Œå®ç°
ğŸ”¸ ç²’åº¦æ§åˆ¶ï¼šå¹³è¡¡æ¥å£çš„çµæ´»æ€§å’Œç®€ä¾¿æ€§
ğŸ”¸ æ‰©å±•è®¾è®¡ï¼šé¢„ç•™æ‰©å±•ç‚¹ï¼Œéµå¾ªå¼€é—­åŸåˆ™
ğŸ”¸ æ€§èƒ½ä¼˜åŒ–ï¼šåˆç†ä½¿ç”¨ç¼“å­˜ã€æ± åŒ–ç­‰æŠ€æœ¯
ğŸ”¸ ç‰ˆæœ¬å…¼å®¹ï¼šæ¸è¿›å¼å‡çº§ï¼Œä¿æŒå‘åå…¼å®¹
```

### 6.2 å®ç”¨æŠ€å·§æ€»ç»“


**ğŸ’¡ è®¾è®¡æŠ€å·§æ¸…å•**ï¼š

| æŠ€å·§ç±»åˆ« | **å…³é”®è¦ç‚¹** | **å®ç°æ–¹æ³•** |
|---------|-------------|-------------|
| ğŸ” **ç»´åº¦åˆ†æ** | `è¯†åˆ«æ­£äº¤çš„å˜åŒ–ç»´åº¦` | `åˆ—ä¸¾å˜åŒ–ç‚¹ï¼Œæ£€æŸ¥ç‹¬ç«‹æ€§` |
| ğŸ›ï¸ **æ¥å£ç²’åº¦** | `åŠŸèƒ½å†…èšï¼Œæ“ä½œåˆ†ç¦»` | `åˆ†å±‚è®¾è®¡ï¼Œæä¾›é»˜è®¤å®ç°` |
| ğŸš€ **æ‰©å±•æ€§** | `é¢„ç•™æ‰©å±•ç‚¹ï¼Œé¢å‘æ¥å£` | `é’©å­æ–¹æ³•ï¼Œå·¥å‚æ¨¡å¼ï¼Œé…ç½®é©±åŠ¨` |
| âš¡ **æ€§èƒ½ä¼˜åŒ–** | `å¯¹è±¡å¤ç”¨ï¼Œæ‰¹é‡å¤„ç†` | `å¯¹è±¡æ± ï¼Œç¼“å­˜æœºåˆ¶ï¼Œæ€§èƒ½ç›‘æ§` |
| ğŸ”„ **ç‰ˆæœ¬å…¼å®¹** | `æ¸è¿›å‡çº§ï¼Œå‘åå…¼å®¹` | `ç‰ˆæœ¬åŒ–æ¥å£ï¼Œé€‚é…å™¨ï¼Œè¿ç§»æŒ‡å—` |

### 6.3 å­¦ä¹ æ£€éªŒæ ‡å‡†


**âœ… æŒæ¡ç¨‹åº¦è‡ªæµ‹**ï¼š
- [ ] **åŸºç¡€çº§**ï¼šèƒ½è¯†åˆ«é€‚åˆä½¿ç”¨æ¡¥æ¥æ¨¡å¼çš„åœºæ™¯
- [ ] **åº”ç”¨çº§**ï¼šèƒ½è®¾è®¡åˆé€‚ç²’åº¦çš„æŠ½è±¡æ¥å£
- [ ] **è¿›é˜¶çº§**ï¼šèƒ½è€ƒè™‘æ€§èƒ½å’Œæ‰©å±•æ€§è¿›è¡Œä¼˜åŒ–è®¾è®¡
- [ ] **ä¸“å®¶çº§**ï¼šèƒ½å¤„ç†å¤æ‚çš„ç‰ˆæœ¬å…¼å®¹å’Œæ¼”è¿›é—®é¢˜

### 6.4 å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ


**â“ è®¾è®¡è¿‡ç¨‹ä¸­çš„å¸¸è§é—®é¢˜**ï¼š

**é—®é¢˜1ï¼šç»´åº¦åˆ’åˆ†ä¸æ¸…æ™°**
```
ç—‡çŠ¶ï¼šä¸çŸ¥é“å“ªäº›åº”è¯¥ä½œä¸ºæŠ½è±¡ï¼Œå“ªäº›ä½œä¸ºå®ç°
è§£å†³ï¼šä½¿ç”¨å˜åŒ–é¢‘ç‡å’Œç‹¬ç«‹æ€§ä½œä¸ºåˆ¤æ–­æ ‡å‡†
```

**é—®é¢˜2ï¼šæ¥å£è®¾è®¡è¿‡äºå¤æ‚**
```
ç—‡çŠ¶ï¼šæ¥å£æ–¹æ³•å¤ªå¤šï¼Œå®ç°ç±»è´Ÿæ‹…é‡
è§£å†³ï¼šæŒ‰åŠŸèƒ½åˆ†å±‚ï¼Œæä¾›åŸºç¡€å’Œæ‰©å±•æ¥å£
```

**é—®é¢˜3ï¼šæ€§èƒ½é—®é¢˜**
```
ç—‡çŠ¶ï¼šæ¡¥æ¥è°ƒç”¨å¸¦æ¥æ€§èƒ½å¼€é”€
è§£å†³ï¼šä½¿ç”¨ç¼“å­˜ã€æ‰¹é‡å¤„ç†ã€å¯¹è±¡æ± ç­‰ä¼˜åŒ–æŠ€æœ¯
```

**é—®é¢˜4ï¼šç‰ˆæœ¬æ¼”è¿›å›°éš¾**
```
ç—‡çŠ¶ï¼šæ–°éœ€æ±‚å¯¼è‡´æ¥å£é¢‘ç¹å˜æ›´
è§£å†³ï¼šè®¾è®¡æ—¶é¢„ç•™æ‰©å±•ç‚¹ï¼Œä½¿ç”¨ç‰ˆæœ¬åŒ–æ¥å£ç­–ç•¥
```

### 6.5 è¿›é˜¶å­¦ä¹ å»ºè®®


**ğŸ›¤ï¸ æ·±å…¥å­¦ä¹ è·¯å¾„**ï¼š

**é˜¶æ®µ1ï¼šç†è®ºæ·±åŒ–**
- ç ”ç©¶æ›´å¤šæ¡¥æ¥æ¨¡å¼çš„å˜ä½“å’Œåº”ç”¨
- å­¦ä¹ å…¶ä»–ç»“æ„å‹æ¨¡å¼çš„é…åˆä½¿ç”¨
- æ·±å…¥ç†è§£é¢å‘å¯¹è±¡è®¾è®¡åŸåˆ™

**é˜¶æ®µ2ï¼šå®è·µé¡¹ç›®**
- è®¾è®¡ä¸€ä¸ªå›¾å½¢æ¸²æŸ“ç³»ç»Ÿ
- å®ç°ä¸€ä¸ªè·¨å¹³å°çš„UIæ¡†æ¶
- å¼€å‘ä¸€ä¸ªå¤šåè®®çš„ç½‘ç»œé€šä¿¡åº“

**é˜¶æ®µ3ï¼šæºç ç ”ç©¶**
- åˆ†æçŸ¥åå¼€æºé¡¹ç›®ä¸­çš„æ¡¥æ¥æ¨¡å¼åº”ç”¨
- ç ”ç©¶æ¡†æ¶å’Œåº“çš„æ¥å£è®¾è®¡æ€è·¯
- å­¦ä¹ ä¼ä¸šçº§é¡¹ç›®çš„æ¶æ„è®¾è®¡

**ğŸ§  æ ¸å¿ƒè®°å¿†å£è¯€**ï¼š
> "**ç»´åº¦åˆ†ææ‰¾å˜åŒ–ï¼Œç²’åº¦æ§åˆ¶æ±‚å¹³è¡¡**  
> **æ‰©å±•è®¾è®¡ç•™åè·¯ï¼Œæ€§èƒ½ä¼˜åŒ–æœ‰ç« æ³•**  
> **ç‰ˆæœ¬å…¼å®¹æ¸è¿›è¡Œï¼Œæ¡¥æ¥æ¨¡å¼åŠ©æˆé•¿**"

**ğŸ¯ å®é™…åº”ç”¨ä»·å€¼**ï¼š
- **ç³»ç»Ÿæ¶æ„**ï¼šè®¾è®¡çµæ´»å¯æ‰©å±•çš„è½¯ä»¶æ¶æ„
- **APIè®¾è®¡**ï¼šåˆ›å»ºç¨³å®šè€Œå¼ºå¤§çš„ç¼–ç¨‹æ¥å£
- **è·¨å¹³å°å¼€å‘**ï¼šå®ç°ä¸€å¥—ä»£ç å¤šå¹³å°è¿è¡Œ
- **äº§å“æ¼”è¿›**ï¼šæ”¯æŒäº§å“åŠŸèƒ½çš„æŒç»­è¿­ä»£å’Œä¼˜åŒ–