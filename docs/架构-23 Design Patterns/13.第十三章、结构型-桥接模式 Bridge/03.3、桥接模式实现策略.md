---
title: 3ã€æ¡¥æ¥æ¨¡å¼å®ç°ç­–ç•¥
---
## ğŸ“š ç›®å½•

1. [æ¡¥æ¥æ¨¡å¼æ ¸å¿ƒæ€æƒ³](#1-æ¡¥æ¥æ¨¡å¼æ ¸å¿ƒæ€æƒ³)
2. [æŠ½è±¡å±‚æ¬¡è®¾è®¡](#2-æŠ½è±¡å±‚æ¬¡è®¾è®¡)
3. [å®ç°å±‚æ¬¡è®¾è®¡](#3-å®ç°å±‚æ¬¡è®¾è®¡)
4. [æ¡¥æ¥æ¥å£å®šä¹‰](#4-æ¡¥æ¥æ¥å£å®šä¹‰)
5. [ä¾èµ–æ³¨å…¥æœºåˆ¶](#5-ä¾èµ–æ³¨å…¥æœºåˆ¶)
6. [å·¥å‚æ¨¡å¼ç»“åˆ](#6-å·¥å‚æ¨¡å¼ç»“åˆ)
7. [å®æˆ˜åº”ç”¨æ¡ˆä¾‹](#7-å®æˆ˜åº”ç”¨æ¡ˆä¾‹)
8. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#8-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸŒ‰ æ¡¥æ¥æ¨¡å¼æ ¸å¿ƒæ€æƒ³


### 1.1 ä»€ä¹ˆæ˜¯æ¡¥æ¥æ¨¡å¼


**æ¡¥æ¥æ¨¡å¼**å°±åƒç°å®ä¸­çš„æ¡¥æ¢ä¸€æ ·ï¼Œ**æŠŠä¸¤ä¸ªç‹¬ç«‹å˜åŒ–çš„ä¸œè¥¿è¿æ¥èµ·æ¥**ã€‚

```
ç°å®ç”Ÿæ´»ç±»æ¯”ï¼š
æ‰‹æœº â†â†’ å……ç”µå™¨

æ‰‹æœºå“ç‰Œï¼šiPhoneã€åä¸ºã€å°ç±³...        (æŠ½è±¡å±‚)
å……ç”µæ¥å£ï¼šLightningã€Type-Cã€Micro-USB... (å®ç°å±‚)

æ¡¥æ¥çš„å¥½å¤„ï¼š
- æ‰‹æœºå¯ä»¥ç‹¬ç«‹å‡çº§æ¢ä»£
- å……ç”µæ¥å£å¯ä»¥ç‹¬ç«‹æ ‡å‡†åŒ–
- é€šè¿‡è½¬æ¥å¤´(æ¡¥æ¥)çµæ´»ç»„åˆ
```

**ğŸ¯ æ ¸å¿ƒç›®çš„**ï¼šå°†**æŠ½è±¡éƒ¨åˆ†**ä¸**å®ç°éƒ¨åˆ†**åˆ†ç¦»ï¼Œä½¿å®ƒä»¬éƒ½å¯ä»¥ç‹¬ç«‹å˜åŒ–ã€‚

### 1.2 ä¸ºä»€ä¹ˆéœ€è¦æ¡¥æ¥æ¨¡å¼


**ä¼ ç»Ÿç»§æ‰¿æ–¹å¼çš„é—®é¢˜**ï¼š
```
é¥æ§å™¨ä¾‹å­ï¼š

ä¼ ç»Ÿç»§æ‰¿æ ‘ï¼š
RemoteControl
â”œâ”€â”€ SonyTVRemote
â”œâ”€â”€ SamsungTVRemote  
â”œâ”€â”€ LGTVRemote
â””â”€â”€ ...

é—®é¢˜ï¼š
1. å¦‚æœå¢åŠ æ–°å“ç‰Œç”µè§† â†’ è¦å¢åŠ æ–°çš„é¥æ§å™¨ç±»
2. å¦‚æœå¢åŠ æ–°åŠŸèƒ½ â†’ æ‰€æœ‰é¥æ§å™¨éƒ½è¦ä¿®æ”¹
3. ç±»çš„æ•°é‡çˆ†ç‚¸å¼å¢é•¿ï¼šå“ç‰Œæ•° Ã— åŠŸèƒ½æ•°
```

**æ¡¥æ¥æ¨¡å¼çš„è§£å†³æ–¹æ¡ˆ**ï¼š
```
æ¡¥æ¥æ–¹å¼ï¼š

é¥æ§å™¨(æŠ½è±¡)    â†æ¡¥æ¥â†’    ç”µè§†(å®ç°)
- åŸºç¡€é¥æ§å™¨              - Sonyç”µè§†
- é«˜çº§é¥æ§å™¨              - Samsungç”µè§†  
- ä¸‡èƒ½é¥æ§å™¨              - LGç”µè§†

ä¼˜åŠ¿ï¼š
âœ… é¥æ§å™¨åŠŸèƒ½å¯ä»¥ç‹¬ç«‹æ‰©å±•
âœ… ç”µè§†å“ç‰Œå¯ä»¥ç‹¬ç«‹å¢åŠ 
âœ… ä»»æ„é¥æ§å™¨éƒ½èƒ½æ§åˆ¶ä»»æ„ç”µè§†
```

### 1.3 æ¡¥æ¥æ¨¡å¼ç»“æ„å›¾


```
å®¢æˆ·ç«¯(Client)
     |
     v
æŠ½è±¡ç±»(Abstraction) --------æ¡¥æ¥-------- å®ç°æ¥å£(Implementor)
     |                                        |
     |                                        |
æ‰©å±•æŠ½è±¡(RefinedAbstraction)            å…·ä½“å®ç°(ConcreteImplementor)
- é«˜çº§é¥æ§å™¨                            - Sonyç”µè§†
- ä¸‡èƒ½é¥æ§å™¨                            - Samsungç”µè§†
```

---

## 2. ğŸ—ï¸ æŠ½è±¡å±‚æ¬¡è®¾è®¡


### 2.1 æŠ½è±¡å±‚çš„èŒè´£


**æŠ½è±¡å±‚**è´Ÿè´£å®šä¹‰**å¯¹å¤–çš„ä¸šåŠ¡æ¥å£**ï¼Œå®ƒä¸å…³å¿ƒå…·ä½“æ€ä¹ˆå®ç°ï¼Œåªå…³å¿ƒ**æä¾›ä»€ä¹ˆåŠŸèƒ½**ã€‚

```java
// æŠ½è±¡å±‚ - é¥æ§å™¨çš„åŸºæœ¬å®šä¹‰
public abstract class RemoteControl {
    // æ¡¥æ¥ - æŒæœ‰å®ç°å±‚çš„å¼•ç”¨
    protected TV tv;
    
    // æ„é€ å‡½æ•°æ³¨å…¥å®ç°å±‚
    public RemoteControl(TV tv) {
        this.tv = tv;
    }
    
    // æŠ½è±¡å±‚å®šä¹‰çš„ä¸šåŠ¡æ–¹æ³•
    public abstract void power();
    public abstract void volumeUp();
    public abstract void volumeDown();
}
```

**ğŸ”‘ è®¾è®¡è¦ç‚¹**ï¼š
- **æŒæœ‰å®ç°å±‚å¼•ç”¨**ï¼šé€šè¿‡ç»„åˆè€Œéç»§æ‰¿
- **å®šä¹‰ä¸šåŠ¡æ¥å£**ï¼šå¯¹å¤–æä¾›ç»Ÿä¸€çš„æ“ä½œæ–¹å¼
- **å§”æ‰˜ç»™å®ç°å±‚**ï¼šå…·ä½“å·¥ä½œäº¤ç»™å®ç°å±‚å®Œæˆ

### 2.2 æ‰©å±•æŠ½è±¡ç±»è®¾è®¡


**æ‰©å±•æŠ½è±¡ç±»**åœ¨åŸºç¡€æŠ½è±¡ä¸Š**å¢åŠ æ›´ä¸°å¯Œçš„åŠŸèƒ½**ã€‚

```java
// æ‰©å±•æŠ½è±¡ - é«˜çº§é¥æ§å™¨
public class AdvancedRemote extends RemoteControl {
    
    public AdvancedRemote(TV tv) {
        super(tv);
    }
    
    @Override
    public void power() {
        System.out.println("é«˜çº§é¥æ§å™¨ï¼šæ™ºèƒ½å¼€å…³ç”µè§†");
        tv.powerOn();
    }
    
    @Override
    public void volumeUp() {
        tv.setVolume(tv.getVolume() + 1);
        System.out.println("éŸ³é‡è°ƒèŠ‚ä¸­...");
    }
    
    @Override  
    public void volumeDown() {
        tv.setVolume(tv.getVolume() - 1);
        System.out.println("éŸ³é‡è°ƒèŠ‚ä¸­...");
    }
    
    // é«˜çº§åŠŸèƒ½ - ä¸€é”®é™éŸ³
    public void mute() {
        System.out.println("ä¸€é”®é™éŸ³åŠŸèƒ½");
        tv.setVolume(0);
    }
    
    // é«˜çº§åŠŸèƒ½ - é¢‘é“è®°å¿†
    public void channelMemory(int channel) {
        System.out.println("ä¿å­˜å¸¸ç”¨é¢‘é“ï¼š" + channel);
        tv.setChannel(channel);
    }
}
```

### 2.3 æŠ½è±¡å±‚è®¾è®¡åŸåˆ™


**ğŸ“‹ è®¾è®¡åŸåˆ™**ï¼š

| åŸåˆ™ | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| **å•ä¸€èŒè´£** | åªè´Ÿè´£ä¸šåŠ¡é€»è¾‘ï¼Œä¸ç®¡å®ç°ç»†èŠ‚ | `é¥æ§å™¨åªç®¡å‘æŒ‡ä»¤ï¼Œä¸ç®¡ç”µè§†å†…éƒ¨å¦‚ä½•å·¥ä½œ` |
| **å¼€é—­åŸåˆ™** | å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­ | `æ–°å¢é¥æ§å™¨ç±»å‹ä¸å½±å“ç°æœ‰ä»£ç ` |
| **ä¾èµ–å€’ç½®** | ä¾èµ–æŠ½è±¡æ¥å£ï¼Œä¸ä¾èµ–å…·ä½“å®ç° | `é¥æ§å™¨ä¾èµ–TVæ¥å£ï¼Œä¸ä¾èµ–å…·ä½“å“ç‰Œ` |

---

## 3. âš™ï¸ å®ç°å±‚æ¬¡è®¾è®¡


### 3.1 å®ç°å±‚çš„èŒè´£


**å®ç°å±‚**è´Ÿè´£**å…·ä½“çš„ä¸šåŠ¡å®ç°**ï¼Œå®ƒçŸ¥é“æ€ä¹ˆåšï¼Œä½†ä¸å…³å¿ƒä½•æ—¶åšã€‚

```java
// å®ç°å±‚æ¥å£ - ç”µè§†çš„åŸºæœ¬èƒ½åŠ›
public interface TV {
    void powerOn();
    void powerOff();
    void setChannel(int channel);
    int getChannel();
    void setVolume(int volume);
    int getVolume();
}
```

**ğŸ¯ æ¥å£è®¾è®¡è¦ç‚¹**ï¼š
- **åŠŸèƒ½å®Œæ•´**ï¼šåŒ…å«æ‰€æœ‰å¿…è¦çš„åŸºç¡€æ“ä½œ
- **èŒè´£æ¸…æ™°**ï¼šæ¯ä¸ªæ–¹æ³•éƒ½æœ‰æ˜ç¡®çš„å•ä¸€èŒè´£
- **æ˜“äºæ‰©å±•**ï¼šæ–°å¢åŠŸèƒ½æ—¶å®¹æ˜“æ·»åŠ æ–°æ–¹æ³•

### 3.2 å…·ä½“å®ç°ç±»è®¾è®¡


æ¯ä¸ª**å…·ä½“å®ç°ç±»**ä»£è¡¨ä¸€ç§**çœŸå®çš„å®ç°æ–¹å¼**ã€‚

```java
// å…·ä½“å®ç° - Sonyç”µè§†
public class SonyTV implements TV {
    private boolean isOn = false;
    private int volume = 10;
    private int channel = 1;
    
    @Override
    public void powerOn() {
        isOn = true;
        System.out.println("Sonyç”µè§†ï¼šå¼€æœºå®Œæˆï¼Œæ˜¾ç¤ºSony logo");
    }
    
    @Override
    public void powerOff() {
        isOn = false;
        System.out.println("Sonyç”µè§†ï¼šå…³æœºä¸­ï¼ŒèŠ‚èƒ½æ¨¡å¼å¯åŠ¨");
    }
    
    @Override
    public void setChannel(int channel) {
        if (isOn) {
            this.channel = channel;
            System.out.println("Sonyç”µè§†ï¼šåˆ‡æ¢åˆ°é¢‘é“ " + channel);
        }
    }
    
    @Override
    public void setVolume(int volume) {
        if (isOn && volume >= 0 && volume <= 100) {
            this.volume = volume;
            System.out.println("Sonyç”µè§†ï¼šéŸ³é‡è®¾ç½®ä¸º " + volume);
        }
    }
    
    // getteræ–¹æ³•...
    @Override
    public int getChannel() { return channel; }
    
    @Override
    public int getVolume() { return volume; }
}

// å…·ä½“å®ç° - Samsungç”µè§†
public class SamsungTV implements TV {
    private boolean isOn = false;
    private int volume = 15;
    private int channel = 1;
    
    @Override
    public void powerOn() {
        isOn = true;
        System.out.println("Samsungç”µè§†ï¼šå¿«é€Ÿå¯åŠ¨ï¼Œæ™ºèƒ½ç³»ç»ŸåŠ è½½ä¸­");
    }
    
    @Override
    public void powerOff() {
        isOn = false;
        System.out.println("Samsungç”µè§†ï¼šä¿å­˜è®¾ç½®å¹¶å…³æœº");
    }
    
    @Override
    public void setChannel(int channel) {
        if (isOn) {
            this.channel = channel;
            System.out.println("Samsungç”µè§†ï¼šé¢‘é“" + channel + " é«˜æ¸…ä¿¡å·æ¥æ”¶ä¸­");
        }
    }
    
    @Override
    public void setVolume(int volume) {
        if (isOn && volume >= 0 && volume <= 100) {
            this.volume = volume;
            System.out.println("Samsungç”µè§†ï¼šæœæ¯”éŸ³æ•ˆï¼ŒéŸ³é‡" + volume);
        }
    }
    
    @Override
    public int getChannel() { return channel; }
    
    @Override
    public int getVolume() { return volume; }
}
```

### 3.3 å®ç°å±‚æ‰©å±•ç­–ç•¥


**æ–°å¢å®ç°çš„æ­¥éª¤**ï¼š

```java
// æ­¥éª¤1ï¼šå®ç°TVæ¥å£
public class LGTV implements TV {
    // å…·ä½“å®ç°LGç”µè§†çš„ç‰¹æ€§
    @Override
    public void powerOn() {
        System.out.println("LGç”µè§†ï¼šOLEDå±å¹•ç‚¹äº®");
    }
    // å…¶ä»–æ–¹æ³•å®ç°...
}

// æ­¥éª¤2ï¼šç›´æ¥ä½¿ç”¨ï¼Œæ— éœ€ä¿®æ”¹æŠ½è±¡å±‚
public class Demo {
    public static void main(String[] args) {
        // åˆ›å»ºLGç”µè§†
        TV lgTV = new LGTV();
        
        // ç”¨é«˜çº§é¥æ§å™¨æ§åˆ¶LGç”µè§†
        AdvancedRemote remote = new AdvancedRemote(lgTV);
        remote.power();  // è‡ªåŠ¨é€‚é…LGç”µè§†çš„å¼€æœºæ–¹å¼
    }
}
```

---

## 4. ğŸ”— æ¡¥æ¥æ¥å£å®šä¹‰


### 4.1 æ¡¥æ¥æ¥å£çš„ä½œç”¨


**æ¡¥æ¥æ¥å£**æ˜¯è¿æ¥æŠ½è±¡å±‚å’Œå®ç°å±‚çš„**çº½å¸¦**ï¼Œå®ƒå®šä¹‰äº†å®ç°å±‚å¿…é¡»æä¾›çš„**æ ‡å‡†èƒ½åŠ›**ã€‚

```
æ¡¥æ¥æ¥å£çš„æ¯”å–»ï¼š

å°±åƒUSBæ¥å£æ ‡å‡†ï¼š
- ç”µè„‘(æŠ½è±¡å±‚)ï¼šä¸ç®¡æ˜¯ä»€ä¹ˆè®¾å¤‡ï¼Œåªè¦æœ‰USBæ¥å£å°±èƒ½ç”¨
- USBè®¾å¤‡(å®ç°å±‚)ï¼šé¼ æ ‡ã€é”®ç›˜ã€Uç›˜ç­‰å„ç§è®¾å¤‡
- USBæ ‡å‡†(æ¡¥æ¥æ¥å£)ï¼šå®šä¹‰äº†ç»Ÿä¸€çš„è¿æ¥å’Œé€šä¿¡è§„èŒƒ

å¥½å¤„ï¼š
âœ… ç”µè„‘ä¸ç”¨å…³å¿ƒå…·ä½“æ˜¯ä»€ä¹ˆè®¾å¤‡
âœ… è®¾å¤‡ä¸ç”¨å…³å¿ƒè¿æ¥åˆ°ä»€ä¹ˆç”µè„‘
âœ… åªè¦éƒ½éµå¾ªUSBæ ‡å‡†ï¼Œå°±èƒ½äº’ç›¸é…åˆ
```

### 4.2 æ¥å£è®¾è®¡åŸåˆ™


**ğŸ¨ è‰¯å¥½æ¥å£çš„ç‰¹å¾**ï¼š

```java
public interface MediaPlayer {
    // âœ… æ–¹æ³•å‘½åæ¸…æ™°æ˜ç¡®
    void play();
    void pause(); 
    void stop();
    
    // âœ… å‚æ•°ç±»å‹ç®€å•é€šç”¨
    void setVolume(int volume);
    void seek(int position);
    
    // âœ… è¿”å›å€¼æœ‰æ„ä¹‰
    boolean isPlaying();
    int getCurrentPosition();
    int getDuration();
}
```

**âŒ ä¸å¥½çš„æ¥å£è®¾è®¡**ï¼š
```java
public interface BadMediaPlayer {
    // âŒ æ–¹æ³•åä¸æ¸…æ™°
    void doSomething();
    
    // âŒ å‚æ•°è¿‡äºå¤æ‚
    void configure(Map<String, Object> complexConfig);
    
    // âŒ èŒè´£ä¸æ˜ç¡®
    void playAndAlsoDoOtherThings();
}
```

### 4.3 æ¥å£æ‰©å±•ç­–ç•¥


**æ¥å£æ¼”è¿›çš„å®‰å…¨æ–¹å¼**ï¼š

```java
// æ–¹å¼1ï¼šæ–°å¢æ¥å£ç»§æ‰¿æ—§æ¥å£
public interface ExtendedTV extends TV {
    // æ–°å¢æ™ºèƒ½åŠŸèƒ½
    void connectWifi(String ssid, String password);
    void installApp(String appName);
    void voiceControl(String command);
}

// æ–¹å¼2ï¼šä¸ºæ–°åŠŸèƒ½å•ç‹¬å®šä¹‰æ¥å£
public interface SmartTV {
    void connectWifi(String ssid, String password);
    void installApp(String appName);
}

// å®ç°ç±»å¯ä»¥é€‰æ‹©å®ç°å¤šä¸ªæ¥å£
public class ModernSonyTV implements TV, SmartTV {
    // æ—¢æœ‰åŸºæœ¬TVåŠŸèƒ½ï¼Œåˆæœ‰æ™ºèƒ½åŠŸèƒ½
}
```

---

## 5. ğŸ’‰ ä¾èµ–æ³¨å…¥æœºåˆ¶


### 5.1 ä»€ä¹ˆæ˜¯ä¾èµ–æ³¨å…¥


**ä¾èµ–æ³¨å…¥**å°±æ˜¯**æŠŠéœ€è¦çš„ä¸œè¥¿ä»å¤–éƒ¨ä¼ è¿›æ¥**ï¼Œè€Œä¸æ˜¯åœ¨å†…éƒ¨è‡ªå·±åˆ›å»ºã€‚

```
ç”Ÿæ´»ä¸­çš„ä¾‹å­ï¼š

ä¸ç”¨ä¾èµ–æ³¨å…¥ï¼ˆè‡ªå·±åšé¥­ï¼‰ï¼š
- æ¯æ¬¡é¥¿äº†éƒ½è¦è‡ªå·±ä¹°èœã€æ´—èœã€åšé¥­
- å¦‚æœæƒ³åƒä¸åŒèœç³»ï¼Œè¦å­¦ä¼šå„ç§åšæ³•
- éº»çƒ¦ä¸”ä¸çµæ´»

ä½¿ç”¨ä¾èµ–æ³¨å…¥ï¼ˆç‚¹å¤–å–ï¼‰ï¼š
- é¥¿äº†å°±å«å¤–å–ï¼ˆæ³¨å…¥é£Ÿç‰©ï¼‰
- å¯ä»¥éšæ—¶æ¢ä¸åŒçš„é¤å…ï¼ˆæ³¨å…¥ä¸åŒå®ç°ï¼‰
- æ–¹ä¾¿ä¸”çµæ´»
```

### 5.2 æ„é€ å‡½æ•°æ³¨å…¥


**æœ€æ¨èçš„æ³¨å…¥æ–¹å¼**ï¼Œåœ¨åˆ›å»ºå¯¹è±¡æ—¶å°±æŠŠä¾èµ–ä¼ å…¥ã€‚

```java
public class BasicRemote extends RemoteControl {
    
    // æ„é€ å‡½æ•°æ³¨å…¥ - åˆ›å»ºæ—¶å¿…é¡»æä¾›TV
    public BasicRemote(TV tv) {
        super(tv);  // ä¼ ç»™çˆ¶ç±»ä¿å­˜
    }
    
    @Override
    public void power() {
        if (tv != null) {
            tv.powerOn();
        }
    }
}

// ä½¿ç”¨ç¤ºä¾‹
public class Demo {
    public static void main(String[] args) {
        // åˆ›å»ºå…·ä½“çš„ç”µè§†
        TV sonyTV = new SonyTV();
        
        // æ³¨å…¥åˆ°é¥æ§å™¨ä¸­
        RemoteControl remote = new BasicRemote(sonyTV);
        
        // ä½¿ç”¨
        remote.power();  // Sonyç”µè§†å¼€æœº
    }
}
```

**âœ… æ„é€ å‡½æ•°æ³¨å…¥çš„ä¼˜ç‚¹**ï¼š
- **å¼ºåˆ¶ä¾èµ–**ï¼šåˆ›å»ºå¯¹è±¡æ—¶å¿…é¡»æä¾›æ‰€éœ€ä¾èµ–
- **ä¸å¯å˜æ€§**ï¼šä¾èµ–ä¸€æ—¦æ³¨å…¥å°±ä¸ä¼šæ”¹å˜
- **çº¿ç¨‹å®‰å…¨**ï¼šä¸å­˜åœ¨å¹¶å‘ä¿®æ”¹é—®é¢˜

### 5.3 Setteræ–¹æ³•æ³¨å…¥


**è¿è¡Œæ—¶å¯ä»¥æ”¹å˜ä¾èµ–**çš„æ³¨å…¥æ–¹å¼ã€‚

```java
public class FlexibleRemote extends RemoteControl {
    
    public FlexibleRemote() {
        super(null);  // åˆå§‹æ—¶æ²¡æœ‰TV
    }
    
    // Setteræ³¨å…¥ - å¯ä»¥åç»­è®¾ç½®æˆ–æ›´æ¢TV
    public void setTV(TV tv) {
        this.tv = tv;
    }
    
    @Override
    public void power() {
        if (tv != null) {
            tv.powerOn();
        } else {
            System.out.println("è¯·å…ˆè¿æ¥ç”µè§†è®¾å¤‡");
        }
    }
    
    // æ”¯æŒè¿è¡Œæ—¶åˆ‡æ¢ç”µè§†
    public void switchTV(TV newTV) {
        System.out.println("åˆ‡æ¢ç”µè§†è®¾å¤‡...");
        this.tv = newTV;
    }
}

// ä½¿ç”¨ç¤ºä¾‹
public class Demo {
    public static void main(String[] args) {
        FlexibleRemote remote = new FlexibleRemote();
        
        // å…ˆè¿æ¥Sonyç”µè§†
        TV sonyTV = new SonyTV();
        remote.setTV(sonyTV);
        remote.power();  // Sonyç”µè§†å¼€æœº
        
        // è¿è¡Œæ—¶åˆ‡æ¢åˆ°Samsungç”µè§†
        TV samsungTV = new SamsungTV();
        remote.switchTV(samsungTV);
        remote.power();  // Samsungç”µè§†å¼€æœº
    }
}
```

### 5.4 ä¾èµ–æ³¨å…¥çš„å¥½å¤„


| å¥½å¤„ | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| **çµæ´»æ€§** | å¯ä»¥éšæ—¶æ›´æ¢å®ç° | `åŒä¸€ä¸ªé¥æ§å™¨æ§åˆ¶ä¸åŒå“ç‰Œç”µè§†` |
| **å¯æµ‹è¯•æ€§** | å¯ä»¥æ³¨å…¥æ¨¡æ‹Ÿå¯¹è±¡è¿›è¡Œæµ‹è¯• | `æ³¨å…¥æ¨¡æ‹ŸTVå¯¹è±¡æµ‹è¯•é¥æ§å™¨é€»è¾‘` |
| **è§£è€¦æ€§** | æŠ½è±¡å±‚ä¸ä¾èµ–å…·ä½“å®ç° | `é¥æ§å™¨ä¸éœ€è¦çŸ¥é“ç”µè§†çš„å…·ä½“å®ç°` |
| **å¯æ‰©å±•æ€§** | æ–°å¢å®ç°æ— éœ€ä¿®æ”¹ç°æœ‰ä»£ç  | `æ–°å¢ç”µè§†å“ç‰Œä¸å½±å“é¥æ§å™¨ä»£ç ` |

---

## 6. ğŸ­ å·¥å‚æ¨¡å¼ç»“åˆ


### 6.1 ä¸ºä»€ä¹ˆç»“åˆå·¥å‚æ¨¡å¼


**å•çº¯ä½¿ç”¨æ¡¥æ¥æ¨¡å¼çš„é—®é¢˜**ï¼š
```java
// å®¢æˆ·ç«¯éœ€è¦çŸ¥é“å¤ªå¤šå…·ä½“ç±»
public class Client {
    public void demo() {
        // éœ€è¦çŸ¥é“å…·ä½“çš„TVç±»
        TV tv = new SonyTV();  
        
        // éœ€è¦çŸ¥é“å…·ä½“çš„Remoteç±»
        RemoteControl remote = new AdvancedRemote(tv);
        
        // å¦‚æœç»„åˆå¾ˆå¤šï¼Œä»£ç ä¼šå¾ˆå¤æ‚
    }
}
```

**ç»“åˆå·¥å‚æ¨¡å¼çš„å¥½å¤„**ï¼š
```java
// å®¢æˆ·ç«¯åªéœ€è¦è¯´å‡ºéœ€æ±‚ï¼Œå·¥å‚è´Ÿè´£ç»„è£…
public class Client {
    public void demo() {
        // åªéœ€è¦è¯´æ˜éœ€æ±‚
        RemoteControl remote = RemoteFactory.createRemote("advanced", "sony");
        
        // ç›´æ¥ä½¿ç”¨ï¼Œä¸å…³å¿ƒå†…éƒ¨å¦‚ä½•ç»„è£…
        remote.power();
    }
}
```

### 6.2 ç®€å•å·¥å‚å®ç°


```java
// é¥æ§å™¨å·¥å‚
public class RemoteFactory {
    
    public static RemoteControl createRemote(String remoteType, String tvBrand) {
        // å…ˆåˆ›å»ºå¯¹åº”çš„ç”µè§†
        TV tv = createTV(tvBrand);
        
        // å†åˆ›å»ºå¯¹åº”çš„é¥æ§å™¨å¹¶æ³¨å…¥ç”µè§†
        switch (remoteType.toLowerCase()) {
            case "basic":
                return new BasicRemote(tv);
            case "advanced":
                return new AdvancedRemote(tv);
            default:
                throw new IllegalArgumentException("ä¸æ”¯æŒçš„é¥æ§å™¨ç±»å‹: " + remoteType);
        }
    }
    
    private static TV createTV(String brand) {
        switch (brand.toLowerCase()) {
            case "sony":
                return new SonyTV();
            case "samsung":
                return new SamsungTV();
            case "lg":
                return new LGTV();
            default:
                throw new IllegalArgumentException("ä¸æ”¯æŒçš„ç”µè§†å“ç‰Œ: " + brand);
        }
    }
}
```

### 6.3 æŠ½è±¡å·¥å‚å®ç°


**å½“ç»„åˆå˜å¾—å¤æ‚æ—¶**ï¼Œå¯ä»¥ä½¿ç”¨æŠ½è±¡å·¥å‚æ¨¡å¼ã€‚

```java
// æŠ½è±¡å·¥å‚æ¥å£
public interface ControlSystemFactory {
    RemoteControl createRemote();
    TV createTV();
}

// Sonyäº§å“æ—å·¥å‚
public class SonyControlSystemFactory implements ControlSystemFactory {
    @Override
    public RemoteControl createRemote() {
        return new AdvancedRemote(createTV());
    }
    
    @Override
    public TV createTV() {
        return new SonyTV();
    }
}

// Samsungäº§å“æ—å·¥å‚
public class SamsungControlSystemFactory implements ControlSystemFactory {
    @Override
    public RemoteControl createRemote() {
        return new AdvancedRemote(createTV());
    }
    
    @Override
    public TV createTV() {
        return new SamsungTV();
    }
}

// ä½¿ç”¨ç¤ºä¾‹
public class Demo {
    public static void main(String[] args) {
        // é€‰æ‹©Sonyäº§å“æ—
        ControlSystemFactory factory = new SonyControlSystemFactory();
        RemoteControl remote = factory.createRemote();
        
        // ç›´æ¥ä½¿ç”¨ï¼Œè‡ªåŠ¨åŒ¹é…çš„æ˜¯Sonyç”µè§†
        remote.power();
    }
}
```

### 6.4 é…ç½®é©±åŠ¨çš„å·¥å‚


**é€šè¿‡é…ç½®æ–‡ä»¶æ§åˆ¶åˆ›å»ºé€»è¾‘**ï¼Œæ›´åŠ çµæ´»ã€‚

```java
public class ConfigurableRemoteFactory {
    private Properties config;
    
    public ConfigurableRemoteFactory(String configFile) {
        config = new Properties();
        // åŠ è½½é…ç½®æ–‡ä»¶
        try {
            config.load(new FileInputStream(configFile));
        } catch (IOException e) {
            throw new RuntimeException("é…ç½®æ–‡ä»¶åŠ è½½å¤±è´¥", e);
        }
    }
    
    public RemoteControl createRemote(String profile) {
        String tvClass = config.getProperty(profile + ".tv");
        String remoteClass = config.getProperty(profile + ".remote");
        
        try {
            // ä½¿ç”¨åå°„åˆ›å»ºå¯¹è±¡
            TV tv = (TV) Class.forName(tvClass).newInstance();
            Class<?> remoteClazz = Class.forName(remoteClass);
            Constructor<?> constructor = remoteClazz.getConstructor(TV.class);
            
            return (RemoteControl) constructor.newInstance(tv);
        } catch (Exception e) {
            throw new RuntimeException("åˆ›å»ºå¤±è´¥", e);
        }
    }
}
```

é…ç½®æ–‡ä»¶ç¤ºä¾‹ï¼ˆ`remote.properties`ï¼‰ï¼š
```properties
# Sonyé«˜ç«¯é…ç½®
sony.premium.tv=com.example.SonyTV
sony.premium.remote=com.example.AdvancedRemote

# SamsungåŸºç¡€é…ç½®  
samsung.basic.tv=com.example.SamsungTV
samsung.basic.remote=com.example.BasicRemote
```

---

## 7. ğŸ¯ å®æˆ˜åº”ç”¨æ¡ˆä¾‹


### 7.1 å›¾å½¢ç»˜åˆ¶ç³»ç»Ÿ


**åœºæ™¯æè¿°**ï¼šå¼€å‘ä¸€ä¸ªå›¾å½¢ç»˜åˆ¶ç³»ç»Ÿï¼Œæ”¯æŒä¸åŒçš„å›¾å½¢å’Œä¸åŒçš„ç»˜åˆ¶å¹³å°ã€‚

```java
// å®ç°å±‚ - ç»˜åˆ¶å¹³å°æ¥å£
public interface DrawingAPI {
    void drawLine(int x1, int y1, int x2, int y2);
    void drawCircle(int x, int y, int radius);
}

// å…·ä½“å®ç° - Windowså¹³å°
public class WindowsDrawingAPI implements DrawingAPI {
    @Override
    public void drawLine(int x1, int y1, int x2, int y2) {
        System.out.println("Windowså¹³å°ç»˜åˆ¶ç›´çº¿ï¼š(" + x1 + "," + y1 + ") -> (" + x2 + "," + y2 + ")");
    }
    
    @Override
    public void drawCircle(int x, int y, int radius) {
        System.out.println("Windowså¹³å°ç»˜åˆ¶åœ†å½¢ï¼šä¸­å¿ƒ(" + x + "," + y + ") åŠå¾„" + radius);
    }
}

// å…·ä½“å®ç° - Linuxå¹³å°
public class LinuxDrawingAPI implements DrawingAPI {
    @Override
    public void drawLine(int x1, int y1, int x2, int y2) {
        System.out.println("Linuxå¹³å°ç»˜åˆ¶ç›´çº¿ï¼šä»[" + x1 + "," + y1 + "] åˆ°[" + x2 + "," + y2 + "]");
    }
    
    @Override
    public void drawCircle(int x, int y, int radius) {
        System.out.println("Linuxå¹³å°ç»˜åˆ¶åœ†å½¢ï¼šåœ†å¿ƒ[" + x + "," + y + "] r=" + radius);
    }
}

// æŠ½è±¡å±‚ - å›¾å½¢åŸºç±»
public abstract class Shape {
    protected DrawingAPI drawingAPI;
    
    public Shape(DrawingAPI drawingAPI) {
        this.drawingAPI = drawingAPI;
    }
    
    public abstract void draw();
    public abstract void resize(double factor);
}

// æ‰©å±•æŠ½è±¡ - åœ†å½¢
public class Circle extends Shape {
    private int x, y, radius;
    
    public Circle(int x, int y, int radius, DrawingAPI drawingAPI) {
        super(drawingAPI);
        this.x = x;
        this.y = y;
        this.radius = radius;
    }
    
    @Override
    public void draw() {
        drawingAPI.drawCircle(x, y, radius);
    }
    
    @Override
    public void resize(double factor) {
        radius = (int)(radius * factor);
    }
}

// æ‰©å±•æŠ½è±¡ - çŸ©å½¢
public class Rectangle extends Shape {
    private int x1, y1, x2, y2;
    
    public Rectangle(int x1, int y1, int x2, int y2, DrawingAPI drawingAPI) {
        super(drawingAPI);
        this.x1 = x1; this.y1 = y1;
        this.x2 = x2; this.y2 = y2;
    }
    
    @Override
    public void draw() {
        drawingAPI.drawLine(x1, y1, x2, y1);  // ä¸Šè¾¹
        drawingAPI.drawLine(x2, y1, x2, y2);  // å³è¾¹
        drawingAPI.drawLine(x2, y2, x1, y2);  // ä¸‹è¾¹
        drawingAPI.drawLine(x1, y2, x1, y1);  // å·¦è¾¹
    }
    
    @Override
    public void resize(double factor) {
        x2 = x1 + (int)((x2 - x1) * factor);
        y2 = y1 + (int)((y2 - y1) * factor);
    }
}
```

**ä½¿ç”¨ç¤ºä¾‹**ï¼š
```java
public class GraphicsDemo {
    public static void main(String[] args) {
        // åœ¨Windowså¹³å°ç»˜åˆ¶å›¾å½¢
        DrawingAPI windowsAPI = new WindowsDrawingAPI();
        Shape circle1 = new Circle(10, 10, 5, windowsAPI);
        Shape rect1 = new Rectangle(0, 0, 20, 10, windowsAPI);
        
        circle1.draw();  // Windowså¹³å°ç»˜åˆ¶åœ†å½¢
        rect1.draw();    // Windowså¹³å°ç»˜åˆ¶çŸ©å½¢
        
        // åˆ‡æ¢åˆ°Linuxå¹³å°ç»˜åˆ¶ç›¸åŒå›¾å½¢
        DrawingAPI linuxAPI = new LinuxDrawingAPI();
        Shape circle2 = new Circle(10, 10, 5, linuxAPI);
        
        circle2.draw();  // Linuxå¹³å°ç»˜åˆ¶åœ†å½¢
    }
}
```

### 7.2 æ•°æ®åº“è¿æ¥ç³»ç»Ÿ


**åœºæ™¯æè¿°**ï¼šæ”¯æŒä¸åŒæ•°æ®åº“å’Œä¸åŒè¿æ¥æ–¹å¼çš„ç³»ç»Ÿã€‚

```java
// å®ç°å±‚ - æ•°æ®åº“è¿æ¥æ¥å£
public interface DatabaseConnection {
    void connect(String url, String username, String password);
    void disconnect();
    void executeQuery(String sql);
    boolean isConnected();
}

// å…·ä½“å®ç° - MySQLè¿æ¥
public class MySQLConnection implements DatabaseConnection {
    private boolean connected = false;
    
    @Override
    public void connect(String url, String username, String password) {
        System.out.println("è¿æ¥MySQLæ•°æ®åº“ï¼š" + url);
        System.out.println("ä½¿ç”¨è´¦æˆ·ï¼š" + username);
        connected = true;
    }
    
    @Override
    public void disconnect() {
        System.out.println("æ–­å¼€MySQLè¿æ¥");
        connected = false;
    }
    
    @Override
    public void executeQuery(String sql) {
        if (connected) {
            System.out.println("MySQLæ‰§è¡ŒSQLï¼š" + sql);
        }
    }
    
    @Override
    public boolean isConnected() {
        return connected;
    }
}

// æŠ½è±¡å±‚ - æ•°æ®è®¿é—®å¯¹è±¡åŸºç±»
public abstract class DataAccessObject {
    protected DatabaseConnection connection;
    
    public DataAccessObject(DatabaseConnection connection) {
        this.connection = connection;
    }
    
    public abstract void save(Object data);
    public abstract Object findById(int id);
    
    // é€šç”¨è¿æ¥ç®¡ç†
    protected void ensureConnected() {
        if (!connection.isConnected()) {
            throw new RuntimeException("æ•°æ®åº“æœªè¿æ¥");
        }
    }
}

// æ‰©å±•æŠ½è±¡ - ç”¨æˆ·æ•°æ®è®¿é—®
public class UserDAO extends DataAccessObject {
    
    public UserDAO(DatabaseConnection connection) {
        super(connection);
    }
    
    @Override
    public void save(Object data) {
        ensureConnected();
        System.out.println("ä¿å­˜ç”¨æˆ·æ•°æ®ï¼š" + data);
        connection.executeQuery("INSERT INTO users...");
    }
    
    @Override
    public Object findById(int id) {
        ensureConnected();
        System.out.println("æŸ¥æ‰¾ç”¨æˆ·IDï¼š" + id);
        connection.executeQuery("SELECT * FROM users WHERE id=" + id);
        return "User" + id;  // æ¨¡æ‹Ÿè¿”å›æ•°æ®
    }
}
```

---

## 8. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 8.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ æ¡¥æ¥æ¨¡å¼ï¼šå°†æŠ½è±¡éƒ¨åˆ†ä¸å®ç°éƒ¨åˆ†åˆ†ç¦»ï¼Œä½¿å®ƒä»¬å¯ä»¥ç‹¬ç«‹å˜åŒ–
ğŸ”¸ æŠ½è±¡å±‚ï¼šå®šä¹‰å¯¹å¤–æ¥å£ï¼ŒæŒæœ‰å®ç°å±‚å¼•ç”¨ï¼Œè´Ÿè´£ä¸šåŠ¡é€»è¾‘
ğŸ”¸ å®ç°å±‚ï¼šå®šä¹‰å…·ä½“èƒ½åŠ›æ¥å£ï¼Œæä¾›çœŸæ­£çš„å®ç°
ğŸ”¸ æ¡¥æ¥æ¥å£ï¼šè¿æ¥æŠ½è±¡å±‚å’Œå®ç°å±‚çš„çº½å¸¦
ğŸ”¸ ä¾èµ–æ³¨å…¥ï¼šä»å¤–éƒ¨ä¼ å…¥ä¾èµ–ï¼Œè€Œéå†…éƒ¨åˆ›å»º
ğŸ”¸ å·¥å‚ç»“åˆï¼šç®€åŒ–å¯¹è±¡åˆ›å»ºå’Œç»„è£…è¿‡ç¨‹
```

### 8.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ æ¡¥æ¥ vs ç»§æ‰¿**
```
ç»§æ‰¿æ–¹å¼ï¼š
RemoteControl
â”œâ”€â”€ SonyRemote
â”œâ”€â”€ SamsungRemote  
â””â”€â”€ LGRemote

é—®é¢˜ï¼šå“ç‰Œå’ŒåŠŸèƒ½è€¦åˆï¼Œæ‰©å±•å›°éš¾

æ¡¥æ¥æ–¹å¼ï¼š
RemoteControl + TVæ¥å£
- é¥æ§å™¨åŠŸèƒ½ç‹¬ç«‹æ‰©å±•
- ç”µè§†å“ç‰Œç‹¬ç«‹æ‰©å±•
- ä»»æ„ç»„åˆï¼Œçµæ´»æ€§å¼º
```

**ğŸ”¹ ä½•æ—¶ä½¿ç”¨æ¡¥æ¥æ¨¡å¼**
```
é€‚ç”¨åœºæ™¯ï¼š
âœ… ä¸€ä¸ªç±»æœ‰ä¸¤ä¸ªæˆ–å¤šä¸ªå˜åŒ–ç»´åº¦
âœ… å¸Œæœ›åœ¨è¿è¡Œæ—¶åˆ‡æ¢å®ç°
âœ… å®ç°éƒ¨åˆ†éœ€è¦å¯¹å®¢æˆ·ç«¯éšè—
âœ… å¤šä¸ªå¯¹è±¡éœ€è¦å…±äº«åŒä¸€ä¸ªå®ç°

ä¸é€‚ç”¨åœºæ™¯ï¼š
âŒ åªæœ‰ä¸€ä¸ªå˜åŒ–ç»´åº¦
âŒ æŠ½è±¡å’Œå®ç°ç»‘å®šå¾ˆç´§å¯†
âŒ ç³»ç»Ÿç»“æ„ç›¸å¯¹ç®€å•
```

### 8.3 å®è·µåº”ç”¨æŒ‡å¯¼


**ğŸ¯ è®¾è®¡æ­¥éª¤**ï¼š
1. **è¯†åˆ«å˜åŒ–ç»´åº¦**ï¼šæ‰¾å‡ºç³»ç»Ÿä¸­ç‹¬ç«‹å˜åŒ–çš„ä¸¤ä¸ªæ–¹é¢
2. **å®šä¹‰å®ç°æ¥å£**ï¼šæŠ½å–å®ç°å±‚çš„å…±åŒèƒ½åŠ›
3. **è®¾è®¡æŠ½è±¡å±‚**ï¼šæŒæœ‰å®ç°å±‚å¼•ç”¨ï¼Œå®šä¹‰ä¸šåŠ¡æ¥å£
4. **åˆ›å»ºå…·ä½“ç±»**ï¼šåˆ†åˆ«å®ç°æŠ½è±¡å±‚å’Œå®ç°å±‚
5. **ä½¿ç”¨ä¾èµ–æ³¨å…¥**ï¼šå°†å®ç°å±‚æ³¨å…¥åˆ°æŠ½è±¡å±‚

**âš¡ ä¼˜åŠ¿æ€»ç»“**ï¼š
- **çµæ´»æ€§**ï¼šè¿è¡Œæ—¶å¯ä»¥åˆ‡æ¢å®ç°
- **æ‰©å±•æ€§**ï¼šä¸¤ä¸ªç»´åº¦å¯ä»¥ç‹¬ç«‹æ‰©å±•
- **å¤ç”¨æ€§**ï¼šå®ç°å±‚å¯ä»¥è¢«å¤šä¸ªæŠ½è±¡å±‚å¤ç”¨
- **è§£è€¦æ€§**ï¼šæŠ½è±¡å±‚å’Œå®ç°å±‚æ¾è€¦åˆ

**âš ï¸ æ³¨æ„äº‹é¡¹**ï¼š
- å¢åŠ äº†ç³»ç»Ÿå¤æ‚åº¦ï¼Œéœ€è¦æ›´å¤šçš„ç±»
- éœ€è¦æå‰è¯†åˆ«å‡ºç‹¬ç«‹å˜åŒ–çš„ç»´åº¦
- æ¥å£è®¾è®¡éœ€è¦è¶³å¤Ÿç¨³å®šå’Œé€šç”¨

**ğŸ§  æ ¸å¿ƒè®°å¿†**ï¼š
> æ¡¥æ¥æ¨¡å¼åƒçœŸæ­£çš„æ¡¥æ¢ï¼Œè¿æ¥ä¸¤ä¸ªç‹¬ç«‹çš„ä¸–ç•Œã€‚
> æŠ½è±¡å®šä¹‰åšä»€ä¹ˆï¼Œå®ç°å†³å®šæ€ä¹ˆåšï¼Œ
> æ¡¥æ¥è®©å®ƒä»¬æ—¢åˆ†ç¦»åˆåä½œï¼Œçµæ´»ç»„åˆåˆ›é€ æ— é™å¯èƒ½ã€‚