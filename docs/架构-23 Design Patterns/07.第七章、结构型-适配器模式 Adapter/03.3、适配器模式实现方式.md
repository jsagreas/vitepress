---
title: 3ã€é€‚é…å™¨æ¨¡å¼å®ç°æ–¹å¼
---
## ğŸ“š ç›®å½•

1. [é€‚é…å™¨æ¨¡å¼æ ¸å¿ƒç†è§£](#1-é€‚é…å™¨æ¨¡å¼æ ¸å¿ƒç†è§£)
2. [å¯¹è±¡é€‚é…å™¨å®ç°](#2-å¯¹è±¡é€‚é…å™¨å®ç°)
3. [ç±»é€‚é…å™¨å®ç°](#3-ç±»é€‚é…å™¨å®ç°)
4. [æ¥å£é€‚é…å™¨å®ç°](#4-æ¥å£é€‚é…å™¨å®ç°)
5. [åŒå‘é€‚é…å™¨è®¾è®¡](#5-åŒå‘é€‚é…å™¨è®¾è®¡)
6. [å¤šé‡é€‚é…å™¨é“¾](#6-å¤šé‡é€‚é…å™¨é“¾)
7. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#7-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ¯ é€‚é…å™¨æ¨¡å¼æ ¸å¿ƒç†è§£


### 1.1 ä»€ä¹ˆæ˜¯é€‚é…å™¨æ¨¡å¼


**ç”Ÿæ´»ä¸­çš„é€‚é…å™¨ç†è§£**ï¼š
```
æƒ³è±¡ä¸€ä¸‹ï¼š
ä½ æœ‰ä¸€ä¸ªä¸­å›½çš„ä¸‰å­”æ’å¤´ç”µå™¨ â†’ éœ€è¦æ’åˆ°ç¾å›½çš„ä¸¤å­”æ’åº§ä¸Š
æ€ä¹ˆåŠï¼Ÿ â†’ ç”¨ä¸€ä¸ªè½¬æ¢æ’å¤´ï¼ˆé€‚é…å™¨ï¼‰
è½¬æ¢æ’å¤´åšä»€ä¹ˆï¼Ÿ â†’ æŠŠä¸‰å­”æ’å¤´è½¬æ¢æˆä¸¤å­”æ’å¤´

è¿™å°±æ˜¯é€‚é…å™¨çš„ä½œç”¨ï¼
```

**åœ¨ç¼–ç¨‹ä¸­çš„å«ä¹‰**ï¼š
- **ç›®æ ‡**ï¼šè®©ä¸¤ä¸ªä¸å…¼å®¹çš„æ¥å£èƒ½å¤ŸååŒå·¥ä½œ
- **æœ¬è´¨**ï¼šåœ¨ä¸ä¿®æ”¹åŸæœ‰ä»£ç çš„å‰æä¸‹ï¼Œé€šè¿‡ä¸€ä¸ª"ä¸­é—´å±‚"æ¥è½¬æ¢æ¥å£
- **æ¯”å–»**ï¼šé€‚é…å™¨å°±åƒæ˜¯"ç¿»è¯‘å®˜"ï¼ŒæŠŠAè¯´çš„è¯ç¿»è¯‘ç»™Bå¬

### 1.2 é€‚é…å™¨æ¨¡å¼çš„ä¸‰ä¸ªè§’è‰²


```
ğŸ“± å®¢æˆ·ç«¯(Client)          ğŸ”Œ é€‚é…å™¨(Adapter)          ğŸ”‹ è¢«é€‚é…è€…(Adaptee)
     |                           |                           |
  æˆ‘è¦å……ç”µï¼               æˆ‘æ¥å¸®ä½ è½¬æ¢ï¼                æˆ‘æ˜¯è€å¼æ¥å£ï¼
     |                           |                           |
 éœ€è¦æ–°æ¥å£              å®ç°æ–°æ¥å£ï¼Œè°ƒç”¨æ—§æ¥å£            åªæœ‰æ—§æ¥å£
```

**ä¸‰ä¸ªè§’è‰²è¯¦è§£**ï¼š
- **ğŸ¯ ç›®æ ‡æ¥å£(Target)**ï¼šå®¢æˆ·ç«¯æœŸæœ›çš„æ¥å£æ ‡å‡†
- **ğŸ”Œ é€‚é…å™¨(Adapter)**ï¼šå®ç°ç›®æ ‡æ¥å£ï¼Œå†…éƒ¨è°ƒç”¨è¢«é€‚é…è€…
- **ğŸ”‹ è¢«é€‚é…è€…(Adaptee)**ï¼šå·²å­˜åœ¨çš„ç±»ï¼Œæ¥å£ä¸ç¬¦åˆç›®æ ‡è¦æ±‚

### 1.3 ä¸ºä»€ä¹ˆéœ€è¦é€‚é…å™¨æ¨¡å¼


**å¸¸è§åœºæ™¯**ï¼š
```
ğŸ”¸ ç³»ç»Ÿå‡çº§ï¼šè€ç³»ç»Ÿæ¥å£ â†’ æ–°ç³»ç»Ÿæ ‡å‡†
ğŸ”¸ ç¬¬ä¸‰æ–¹é›†æˆï¼šå¤–éƒ¨åº“æ¥å£ â†’ è‡ªå·±çš„æ¥å£è§„èŒƒ  
ğŸ”¸ æ•°æ®æ ¼å¼è½¬æ¢ï¼šXMLæ ¼å¼ â†’ JSONæ ¼å¼
ğŸ”¸ åè®®è½¬æ¢ï¼šHTTPåè®® â†’ WebSocketåè®®
```

**æ ¸å¿ƒä»·å€¼**ï¼š
- âœ… **ä¸ç ´ååŸæœ‰ä»£ç **ï¼šè€ä»£ç ç»§ç»­å·¥ä½œ
- âœ… **å¢å¼ºå…¼å®¹æ€§**ï¼šæ–°è€ç³»ç»Ÿå’Œè°å…±å­˜
- âœ… **æé«˜å¤ç”¨æ€§**ï¼šè®©æ›´å¤šç»„ä»¶å¯ä»¥ååŒå·¥ä½œ

---

## 2. ğŸ”§ å¯¹è±¡é€‚é…å™¨å®ç°


### 2.1 ä»€ä¹ˆæ˜¯å¯¹è±¡é€‚é…å™¨


**æ ¸å¿ƒæ€æƒ³**ï¼šé€šè¿‡**ç»„åˆ(åŒ…å«)**çš„æ–¹å¼æ¥å®ç°é€‚é…

```
å¯¹è±¡é€‚é…å™¨ = å®ç°ç›®æ ‡æ¥å£ + åŒ…å«è¢«é€‚é…è€…å¯¹è±¡
```

### 2.2 å®é™…åœºæ™¯ä¸¾ä¾‹


**åœºæ™¯**ï¼šå…¬å¸æœ‰ä¸ªè€çš„æ—¥å¿—ç³»ç»Ÿï¼Œä½†æ–°é¡¹ç›®è¦æ±‚ç»Ÿä¸€çš„æ—¥å¿—æ¥å£

```java
// ğŸ¯ æ–°é¡¹ç›®è¦æ±‚çš„ç»Ÿä¸€æ—¥å¿—æ¥å£
interface Logger {
    void log(String message);
    void error(String message);
}

// ğŸ”‹ è€ç³»ç»Ÿçš„æ—¥å¿—ç±»ï¼ˆå·²ç»åœ¨ç”¨ï¼Œä¸èƒ½æ”¹ï¼‰
class OldFileLogger {
    public void writeToFile(String content) {
        System.out.println("å†™å…¥æ–‡ä»¶: " + content);
    }
    
    public void writeError(String error) {
        System.out.println("é”™è¯¯æ—¥å¿—: " + error);
    }
}
```

### 2.3 å¯¹è±¡é€‚é…å™¨çš„å®ç°


```java
// ğŸ”Œ å¯¹è±¡é€‚é…å™¨ï¼šå®ç°æ–°æ¥å£ï¼Œå†…éƒ¨åŒ…å«è€å¯¹è±¡
class FileLoggerAdapter implements Logger {
    private OldFileLogger oldLogger;  // åŒ…å«è¢«é€‚é…è€…
    
    public FileLoggerAdapter(OldFileLogger oldLogger) {
        this.oldLogger = oldLogger;
    }
    
    @Override
    public void log(String message) {
        // è°ƒç”¨è€æ¥å£çš„æ–¹æ³•
        oldLogger.writeToFile(message);
    }
    
    @Override
    public void error(String message) {
        // è°ƒç”¨è€æ¥å£çš„é”™è¯¯æ–¹æ³•
        oldLogger.writeError(message);
    }
}
```

### 2.4 å®¢æˆ·ç«¯ä½¿ç”¨æ–¹å¼


```java
public class ClientTest {
    public static void main(String[] args) {
        // åˆ›å»ºè€çš„æ—¥å¿—å¯¹è±¡
        OldFileLogger oldLogger = new OldFileLogger();
        
        // é€šè¿‡é€‚é…å™¨ä½¿ç”¨
        Logger logger = new FileLoggerAdapter(oldLogger);
        
        // å®¢æˆ·ç«¯æŒ‰æ–°æ¥å£ä½¿ç”¨
        logger.log("è¿™æ˜¯æ™®é€šæ—¥å¿—");      // å®é™…è°ƒç”¨ oldLogger.writeToFile()
        logger.error("è¿™æ˜¯é”™è¯¯æ—¥å¿—");    // å®é™…è°ƒç”¨ oldLogger.writeError()
    }
}
```

### 2.5 å¯¹è±¡é€‚é…å™¨ä¼˜ç¼ºç‚¹


| ç‰¹ç‚¹ | **è¯´æ˜** | **ä¸¾ä¾‹** |
|------|---------|---------|
| âœ… **çµæ´»æ€§é«˜** | `è¿è¡Œæ—¶å¯ä»¥åˆ‡æ¢è¢«é€‚é…è€…` | `å¯ä»¥é€‚é…ä¸åŒçš„è€æ—¥å¿—ç±»` |
| âœ… **éµå¾ªç»„åˆåŸåˆ™** | `ä¼˜å…ˆä½¿ç”¨ç»„åˆè€Œéç»§æ‰¿` | `åŒ…å«è€å¯¹è±¡ï¼Œè€Œä¸æ˜¯ç»§æ‰¿` |
| âœ… **å¯é€‚é…å­ç±»** | `ä¸ä»…èƒ½é€‚é…çˆ¶ç±»ï¼Œå­ç±»ä¹Ÿè¡Œ` | `OldFileLoggerçš„å­ç±»ä¹Ÿèƒ½é€‚é…` |
| âŒ **ä»£ç ç›¸å¯¹å¤æ‚** | `éœ€è¦è½¬å‘æ‰€æœ‰æ–¹æ³•è°ƒç”¨` | `æ¯ä¸ªæ¥å£æ–¹æ³•éƒ½è¦å†™è½¬å‘ä»£ç ` |

---

## 3. ğŸ”— ç±»é€‚é…å™¨å®ç°


### 3.1 ä»€ä¹ˆæ˜¯ç±»é€‚é…å™¨


**æ ¸å¿ƒæ€æƒ³**ï¼šé€šè¿‡**ç»§æ‰¿**çš„æ–¹å¼æ¥å®ç°é€‚é…

```
ç±»é€‚é…å™¨ = ç»§æ‰¿è¢«é€‚é…è€… + å®ç°ç›®æ ‡æ¥å£
```

**æ³¨æ„**ï¼šJavaä¸æ”¯æŒå¤šé‡ç»§æ‰¿ï¼Œä½†å¯ä»¥ç”¨æ¥å£æ¨¡æ‹Ÿ

### 3.2 ç±»é€‚é…å™¨çš„å®ç°æ€è·¯


```
é€‚é…å™¨ç±»çš„è®¾è®¡ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ç±»é€‚é…å™¨       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ç»§æ‰¿: è¢«é€‚é…è€…   â”‚  â† è·å¾—è€æ¥å£çš„æ‰€æœ‰æ–¹æ³•
â”‚ å®ç°: ç›®æ ‡æ¥å£   â”‚  â† å¿…é¡»å®ç°æ–°æ¥å£çš„æ‰€æœ‰æ–¹æ³•
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.3 å®é™…ä»£ç å®ç°


```java
// ğŸ¯ ç›®æ ‡æ¥å£ï¼ˆæ–°æ ‡å‡†ï¼‰
interface MediaPlayer {
    void play(String filename);
}

// ğŸ”‹ è¢«é€‚é…è€…ï¼ˆè€çš„éŸ³é¢‘æ’­æ”¾å™¨ï¼‰
class AudioPlayer {
    public void playAudio(String filename) {
        System.out.println("æ’­æ”¾éŸ³é¢‘æ–‡ä»¶: " + filename);
    }
}

// ğŸ”Œ ç±»é€‚é…å™¨ï¼šç»§æ‰¿è€ç±»ï¼Œå®ç°æ–°æ¥å£
class AudioAdapter extends AudioPlayer implements MediaPlayer {
    @Override
    public void play(String filename) {
        // ç›´æ¥è°ƒç”¨ç»§æ‰¿æ¥çš„æ–¹æ³•
        super.playAudio(filename);
    }
}
```

### 3.4 ä½¿ç”¨ç¤ºä¾‹


```java
public class ClientExample {
    public static void main(String[] args) {
        // ç›´æ¥åˆ›å»ºé€‚é…å™¨ï¼ˆå®ƒåŒæ—¶æ˜¯AudioPlayerå’ŒMediaPlayerï¼‰
        MediaPlayer player = new AudioAdapter();
        
        // æŒ‰æ–°æ¥å£ä½¿ç”¨
        player.play("music.mp3");  // å®é™…è°ƒç”¨ç»§æ‰¿çš„playAudioæ–¹æ³•
    }
}
```

### 3.5 ç±»é€‚é…å™¨ä¼˜ç¼ºç‚¹


| ç‰¹ç‚¹ | **è¯´æ˜** | **å®é™…å½±å“** |
|------|---------|-------------|
| âœ… **ä»£ç ç®€æ´** | `ç›´æ¥ç»§æ‰¿ï¼Œæ— éœ€è½¬å‘` | `ä¸ç”¨å†™é‚£ä¹ˆå¤šè½¬å‘æ–¹æ³•` |
| âœ… **æ€§èƒ½æ›´å¥½** | `ç›´æ¥è°ƒç”¨ï¼Œæ— é¢å¤–å¯¹è±¡` | `å°‘äº†ä¸€å±‚å¯¹è±¡åŒ…è£…` |
| âŒ **ç»§æ‰¿é™åˆ¶** | `Javaå•ç»§æ‰¿ï¼Œé™åˆ¶çµæ´»æ€§` | `é€‚é…å™¨ä¸èƒ½ç»§æ‰¿å…¶ä»–ç±»äº†` |
| âŒ **è€¦åˆåº¦é«˜** | `ä¸è¢«é€‚é…è€…å¼ºç»‘å®š` | `è¢«é€‚é…è€…æ”¹å˜ä¼šå½±å“é€‚é…å™¨` |

---

## 4. ğŸ­ æ¥å£é€‚é…å™¨å®ç°


### 4.1 ä»€ä¹ˆæ˜¯æ¥å£é€‚é…å™¨


**åº”ç”¨åœºæ™¯**ï¼šå½“æ¥å£æ–¹æ³•å¤ªå¤šï¼Œä½†ä½ åªéœ€è¦å®ç°å…¶ä¸­å‡ ä¸ªæ–¹æ³•æ—¶

**ç”Ÿæ´»æ¯”å–»**ï¼š
```
æƒ³è±¡ä¸€ä¸ªä¸‡èƒ½é¥æ§å™¨ï¼š
- æœ‰100ä¸ªæŒ‰é’®ï¼ˆæ–¹æ³•ï¼‰
- ä½†ä½ åªç”¨å…¶ä¸­3ä¸ªæŒ‰é’®  
- å…¶ä»–97ä¸ªæŒ‰é’®éƒ½æ˜¯ç©ºå®ç°

æ¥å£é€‚é…å™¨å°±æ˜¯æä¾›è¿™æ ·ä¸€ä¸ª"é»˜è®¤é¥æ§å™¨"
```

### 4.2 é—®é¢˜åœºæ™¯


```java
// ğŸ¯ ä¸€ä¸ªå¾ˆå¤æ‚çš„ç›‘å¬å™¨æ¥å£
interface WindowListener {
    void windowOpened();      // çª—å£æ‰“å¼€
    void windowClosed();      // çª—å£å…³é—­  
    void windowActivated();   // çª—å£æ¿€æ´»
    void windowDeactivated(); // çª—å£å¤±æ•ˆ
    void windowIconified();   // çª—å£æœ€å°åŒ–
    void windowDeiconified(); // çª—å£æ¢å¤
    void windowClosing();     // çª—å£æ­£åœ¨å…³é—­
}
```

**é—®é¢˜**ï¼šå¦‚æœæˆ‘åªå…³å¿ƒçª—å£å…³é—­äº‹ä»¶ï¼Œä¹Ÿå¾—å®ç°æ‰€æœ‰7ä¸ªæ–¹æ³•ï¼

### 4.3 æ¥å£é€‚é…å™¨è§£å†³æ–¹æ¡ˆ


```java
// ğŸ”Œ æ¥å£é€‚é…å™¨ï¼šæä¾›æ‰€æœ‰æ–¹æ³•çš„ç©ºå®ç°
abstract class WindowAdapter implements WindowListener {
    @Override public void windowOpened() {}      // ç©ºå®ç°
    @Override public void windowClosed() {}      // ç©ºå®ç°
    @Override public void windowActivated() {}   // ç©ºå®ç°
    @Override public void windowDeactivated() {} // ç©ºå®ç°
    @Override public void windowIconified() {}   // ç©ºå®ç°
    @Override public void windowDeiconified() {} // ç©ºå®ç°
    @Override public void windowClosing() {}     // ç©ºå®ç°
}
```

### 4.4 å®¢æˆ·ç«¯ä½¿ç”¨


```java
// ğŸ“± å®¢æˆ·ç«¯ï¼šåªéœ€è¦å…³å¿ƒæ„Ÿå…´è¶£çš„æ–¹æ³•
public class MyWindow extends WindowAdapter {
    @Override
    public void windowClosed() {
        System.out.println("çª—å£å…³é—­äº†ï¼Œä¿å­˜æ•°æ®ï¼");
    }
    
    @Override
    public void windowClosing() {
        System.out.println("çª—å£æ­£åœ¨å…³é—­ï¼Œç¡®è®¤æ˜¯å¦ä¿å­˜ï¼Ÿ");
    }
    
    // å…¶ä»–5ä¸ªæ–¹æ³•ä¸ç”¨ç®¡ï¼Œé€‚é…å™¨å·²ç»æä¾›äº†ç©ºå®ç°
}
```

### 4.5 æ¥å£é€‚é…å™¨çš„ä»·å€¼


**è§£å†³çš„é—®é¢˜**ï¼š
```
ğŸ”¸ é¿å…å®ç°ä¸éœ€è¦çš„æ–¹æ³•
ğŸ”¸ è®©ä»£ç æ›´ç®€æ´ã€ä¸“æ³¨
ğŸ”¸ é™ä½æ¥å£ä½¿ç”¨çš„å¤æ‚åº¦
ğŸ”¸ æä¾›ä¸€ä¸ªä¾¿åˆ©çš„åŸºç±»
```

**å®é™…åº”ç”¨**ï¼š
- **GUIäº‹ä»¶å¤„ç†**ï¼šåªå…³å¿ƒç‰¹å®šäº‹ä»¶
- **æ•°æ®åº“è¿æ¥**ï¼šåªå®ç°éœ€è¦çš„å›è°ƒ
- **ç½‘ç»œç›‘å¬**ï¼šåªå¤„ç†å…³å¿ƒçš„æ¶ˆæ¯ç±»å‹

---

## 5. ğŸ”„ åŒå‘é€‚é…å™¨è®¾è®¡


### 5.1 ä»€ä¹ˆæ˜¯åŒå‘é€‚é…å™¨


**æ¦‚å¿µ**ï¼šè®©ä¸¤ä¸ªä¸å…¼å®¹çš„æ¥å£èƒ½å¤Ÿ**ç›¸äº’è°ƒç”¨**

**ç”Ÿæ´»æ¯”å–»**ï¼š
```
ä¸­è‹±æ–‡ç¿»è¯‘å®˜ï¼š
ä¸­æ–‡ â†â†’ è‹±æ–‡
æ—¢èƒ½æŠŠä¸­æ–‡ç¿»è¯‘æˆè‹±æ–‡ï¼Œä¹Ÿèƒ½æŠŠè‹±æ–‡ç¿»è¯‘æˆä¸­æ–‡

åŒå‘é€‚é…å™¨å°±æ˜¯è¿™æ ·çš„"åŒå‘ç¿»è¯‘å®˜"
```

### 5.2 åŒå‘é€‚é…å™¨çš„ç»“æ„


```
    æ¥å£A                åŒå‘é€‚é…å™¨                æ¥å£B
      â†•                      â†•                      â†•  
  [æ–¹æ³•A1]  â†â”€â”€â”€â”€â”€â”€â”€â”€â†’  [å®ç°A1å’ŒB1]  â†â”€â”€â”€â”€â”€â”€â”€â”€â†’  [æ–¹æ³•B1]
  [æ–¹æ³•A2]  â†â”€â”€â”€â”€â”€â”€â”€â”€â†’  [å®ç°A2å’ŒB2]  â†â”€â”€â”€â”€â”€â”€â”€â”€â†’  [æ–¹æ³•B2]
```

### 5.3 å®é™…åœºæ™¯ä¸¾ä¾‹


**åœºæ™¯**ï¼šæ–°è€ä¸¤å¥—ç”¨æˆ·ç®¡ç†ç³»ç»Ÿéœ€è¦äº’ç›¸è°ƒç”¨

```java
// ğŸ¯ æ–°ç³»ç»Ÿç”¨æˆ·æ¥å£
interface NewUserService {
    void createUser(String name, String email);
    String getUserInfo(int userId);
}

// ğŸ”‹ è€ç³»ç»Ÿç”¨æˆ·æ¥å£  
interface OldUserService {
    void addUser(String username, String mail);
    String queryUser(int id);
}
```

### 5.4 åŒå‘é€‚é…å™¨å®ç°


```java
// ğŸ”Œ åŒå‘é€‚é…å™¨ï¼šåŒæ—¶å®ç°ä¸¤ä¸ªæ¥å£
class UserServiceAdapter implements NewUserService, OldUserService {
    private NewUserService newService;  // åŒ…å«æ–°ç³»ç»Ÿå®ä¾‹
    private OldUserService oldService;  // åŒ…å«è€ç³»ç»Ÿå®ä¾‹
    
    public UserServiceAdapter(NewUserService newService, OldUserService oldService) {
        this.newService = newService;
        this.oldService = oldService;
    }
    
    // å®ç°æ–°æ¥å£ â†’ è°ƒç”¨è€æ¥å£
    @Override
    public void createUser(String name, String email) {
        oldService.addUser(name, email);  // è½¬å‘ç»™è€ç³»ç»Ÿ
    }
    
    @Override
    public String getUserInfo(int userId) {
        return oldService.queryUser(userId);  // è½¬å‘ç»™è€ç³»ç»Ÿ
    }
    
    // å®ç°è€æ¥å£ â†’ è°ƒç”¨æ–°æ¥å£
    @Override
    public void addUser(String username, String mail) {
        newService.createUser(username, mail);  // è½¬å‘ç»™æ–°ç³»ç»Ÿ
    }
    
    @Override
    public String queryUser(int id) {
        return newService.getUserInfo(id);  // è½¬å‘ç»™æ–°ç³»ç»Ÿ
    }
}
```

### 5.5 ä½¿ç”¨åœºæ™¯


```java
public class BidirectionalExample {
    public static void main(String[] args) {
        // åˆ›å»ºæ–°è€ç³»ç»Ÿå®ä¾‹
        NewUserService newSys = new NewUserServiceImpl();
        OldUserService oldSys = new OldUserServiceImpl();
        
        // åˆ›å»ºåŒå‘é€‚é…å™¨
        UserServiceAdapter adapter = new UserServiceAdapter(newSys, oldSys);
        
        // ä½œä¸ºæ–°æ¥å£ä½¿ç”¨ï¼ˆå†…éƒ¨è°ƒç”¨è€ç³»ç»Ÿï¼‰
        NewUserService asNew = adapter;
        asNew.createUser("å¼ ä¸‰", "zhangsan@example.com");
        
        // ä½œä¸ºè€æ¥å£ä½¿ç”¨ï¼ˆå†…éƒ¨è°ƒç”¨æ–°ç³»ç»Ÿï¼‰
        OldUserService asOld = adapter;
        asOld.addUser("æå››", "lisi@example.com");
    }
}
```

### 5.6 åŒå‘é€‚é…å™¨çš„ä¼˜åŠ¿


| ä¼˜åŠ¿ | **è¯´æ˜** | **å®é™…ä»·å€¼** |
|------|---------|-------------|
| ğŸ”„ **äº’æ“ä½œæ€§** | `ä¸¤ä¸ªç³»ç»Ÿå¯ä»¥ç›¸äº’è°ƒç”¨` | `æ•°æ®å¯ä»¥åœ¨æ–°è€ç³»ç»Ÿé—´æµè½¬` |
| ğŸ¯ **ç»Ÿä¸€æ¥å£** | `ä¸€ä¸ªé€‚é…å™¨è§£å†³ä¸¤ä¸ªæ–¹å‘` | `å‡å°‘é€‚é…å™¨ç±»çš„æ•°é‡` |
| ğŸ”§ **çµæ´»åˆ‡æ¢** | `è¿è¡Œæ—¶å†³å®šè°ƒç”¨å“ªä¸ªç³»ç»Ÿ` | `å¯ä»¥æ ¹æ®éœ€è¦é€‰æ‹©åç«¯å®ç°` |

---

## 6. ğŸ”— å¤šé‡é€‚é…å™¨é“¾


### 6.1 ä»€ä¹ˆæ˜¯å¤šé‡é€‚é…å™¨é“¾


**æ¦‚å¿µ**ï¼šå¤šä¸ªé€‚é…å™¨ä¸²è”ä½¿ç”¨ï¼Œå½¢æˆä¸€ä¸ªè½¬æ¢é“¾æ¡

**ç”Ÿæ´»æ¯”å–»**ï¼š
```
å›½é™…æ—…è¡Œçš„ç”µæºè½¬æ¢ï¼š
ä¸­å›½æ’å¤´ â†’ è½¬æ¢å™¨1 â†’ æ¬§æ´²æ’å¤´ â†’ è½¬æ¢å™¨2 â†’ ç¾å›½æ’å¤´

æ¯ä¸ªè½¬æ¢å™¨éƒ½æ˜¯ä¸€ä¸ªé€‚é…å™¨ï¼Œä¸²èµ·æ¥å°±æ˜¯é€‚é…å™¨é“¾
```

### 6.2 å¤šé‡é€‚é…å™¨é“¾çš„ç»“æ„


```
å®¢æˆ·ç«¯ â†’ é€‚é…å™¨A â†’ é€‚é…å™¨B â†’ é€‚é…å™¨C â†’ æœ€ç»ˆç›®æ ‡
   |        |         |         |         |
 è°ƒç”¨     è½¬æ¢1      è½¬æ¢2      è½¬æ¢3    çœŸæ­£æ‰§è¡Œ
```

### 6.3 å®é™…åœºæ™¯ï¼šæ•°æ®æ ¼å¼è½¬æ¢é“¾


**åœºæ™¯**ï¼šä»XML â†’ JSON â†’ æ•°æ®åº“æ ¼å¼çš„è½¬æ¢

```java
// ğŸ¯ æœ€ç»ˆç›®æ ‡ï¼šæ•°æ®åº“æ ¼å¼
interface DatabaseFormat {
    void saveToDatabase(String data);
}

// ğŸ”„ ä¸­é—´æ ¼å¼ï¼šJSONæ ¼å¼
interface JsonFormat {
    String toJson(String data);
}

// ğŸ”‹ æºæ ¼å¼ï¼šXMLæ ¼å¼
class XmlProcessor {
    public String processXml(String xmlData) {
        return "å¤„ç†è¿‡çš„XML: " + xmlData;
    }
}
```

### 6.4 æ„å»ºé€‚é…å™¨é“¾


```java
// ğŸ”Œ ç¬¬ä¸€ä¸ªé€‚é…å™¨ï¼šXML â†’ JSON
class XmlToJsonAdapter implements JsonFormat {
    private XmlProcessor xmlProcessor;
    
    public XmlToJsonAdapter(XmlProcessor xmlProcessor) {
        this.xmlProcessor = xmlProcessor;
    }
    
    @Override
    public String toJson(String xmlData) {
        String processedXml = xmlProcessor.processXml(xmlData);
        return "{\"data\": \"" + processedXml + "\"}";  // ç®€å•è½¬æ¢ä¸ºJSON
    }
}

// ğŸ”Œ ç¬¬äºŒä¸ªé€‚é…å™¨ï¼šJSON â†’ æ•°æ®åº“æ ¼å¼
class JsonToDatabaseAdapter implements DatabaseFormat {
    private JsonFormat jsonFormatter;
    
    public JsonToDatabaseAdapter(JsonFormat jsonFormatter) {
        this.jsonFormatter = jsonFormatter;
    }
    
    @Override
    public void saveToDatabase(String xmlData) {
        String jsonData = jsonFormatter.toJson(xmlData);  // å…ˆè½¬JSON
        System.out.println("ä¿å­˜åˆ°æ•°æ®åº“: " + jsonData);     // å†å­˜æ•°æ®åº“
    }
}
```

### 6.5 ä½¿ç”¨é€‚é…å™¨é“¾


```java
public class AdapterChainExample {
    public static void main(String[] args) {
        // æ„å»ºé€‚é…å™¨é“¾
        XmlProcessor xmlProcessor = new XmlProcessor();                    // XMLå¤„ç†å™¨
        JsonFormat jsonAdapter = new XmlToJsonAdapter(xmlProcessor);      // XMLâ†’JSONé€‚é…å™¨
        DatabaseFormat dbAdapter = new JsonToDatabaseAdapter(jsonAdapter); // JSONâ†’DBé€‚é…å™¨
        
        // å®¢æˆ·ç«¯ä½¿ç”¨ï¼šçœ‹èµ·æ¥ç›´æ¥å­˜æ•°æ®åº“ï¼Œå®é™…ç»è¿‡äº†å®Œæ•´è½¬æ¢é“¾
        dbAdapter.saveToDatabase("<user><name>å¼ ä¸‰</name></user>");
        
        // å®é™…æ‰§è¡Œæµç¨‹ï¼š
        // 1. XMLæ•°æ®è¿›å…¥JsonToDatabaseAdapter
        // 2. JsonToDatabaseAdapterè°ƒç”¨XmlToJsonAdapter.toJson()
        // 3. XmlToJsonAdapterè°ƒç”¨XmlProcessor.processXml()
        // 4. æ•°æ®ç»è¿‡ XMLå¤„ç† â†’ JSONè½¬æ¢ â†’ æ•°æ®åº“ä¿å­˜
    }
}
```

### 6.6 é€‚é…å™¨é“¾çš„ä¼˜åŠ¿ä¸æ³¨æ„äº‹é¡¹


**âœ… ä¼˜åŠ¿**ï¼š
```
ğŸ”¸ æ¨¡å—åŒ–è®¾è®¡ï¼šæ¯ä¸ªé€‚é…å™¨èŒè´£å•ä¸€
ğŸ”¸ å¯å¤ç”¨æ€§ï¼šå•ä¸ªé€‚é…å™¨å¯ä»¥åœ¨ä¸åŒé“¾ä¸­ä½¿ç”¨
ğŸ”¸ å¯æ‰©å±•æ€§ï¼šå®¹æ˜“æ·»åŠ æ–°çš„è½¬æ¢æ­¥éª¤
ğŸ”¸ å¯æµ‹è¯•æ€§ï¼šæ¯ä¸ªé€‚é…å™¨å¯ä»¥ç‹¬ç«‹æµ‹è¯•
```

**âš ï¸ æ³¨æ„äº‹é¡¹**ï¼š
```
ğŸ”¸ æ€§èƒ½å¼€é”€ï¼šå¤šå±‚è½¬æ¢ä¼šå½±å“æ€§èƒ½
ğŸ”¸ å¤æ‚åº¦å¢åŠ ï¼šè°ƒè¯•å’Œç»´æŠ¤æ¯”è¾ƒå›°éš¾
ğŸ”¸ é”™è¯¯ä¼ æ’­ï¼šé“¾ä¸­ä»»ä½•ä¸€ç¯å‡ºé”™éƒ½ä¼šå½±å“æ•´ä½“
ğŸ”¸ å†…å­˜æ¶ˆè€—ï¼šä¸­é—´æ ¼å¼å¯èƒ½å ç”¨é¢å¤–å†…å­˜
```

### 6.7 é€‚é…å™¨é“¾çš„æœ€ä½³å®è·µ


**è®¾è®¡åŸåˆ™**ï¼š
```java
// ğŸ’¡ æ¯ä¸ªé€‚é…å™¨éƒ½åº”è¯¥æ˜¯å¯ç‹¬ç«‹æµ‹è¯•çš„
public class AdapterChainBuilder {
    public static DatabaseFormat buildXmlToDatabaseChain() {
        XmlProcessor xmlProcessor = new XmlProcessor();
        JsonFormat jsonAdapter = new XmlToJsonAdapter(xmlProcessor);
        return new JsonToDatabaseAdapter(jsonAdapter);
    }
    
    // å¯ä»¥è½»æ¾æ„å»ºä¸åŒçš„é“¾
    public static DatabaseFormat buildDirectDatabaseAdapter() {
        // å¦‚æœä¸éœ€è¦XMLå¤„ç†ï¼Œå¯ä»¥æ„å»ºæ›´ç®€å•çš„é“¾
        return new DirectDatabaseAdapter();
    }
}
```

---

## 7. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 7.1 äº”ç§é€‚é…å™¨å®ç°å¯¹æ¯”


| å®ç°æ–¹å¼ | **ä½¿ç”¨åœºæ™¯** | **ä¼˜ç‚¹** | **ç¼ºç‚¹** | **æ¨èåº¦** |
|---------|-------------|---------|---------|-----------|
| ğŸ”§ **å¯¹è±¡é€‚é…å™¨** | `é€šç”¨åœºæ™¯ï¼Œæœ€å¸¸ç”¨` | `çµæ´»æ€§é«˜ï¼Œç»„åˆä¼˜äºç»§æ‰¿` | `ä»£ç ç¨å¤æ‚` | â­â­â­â­â­ |
| ğŸ”— **ç±»é€‚é…å™¨** | `ç®€å•é€‚é…ï¼Œæ€§èƒ½è¦æ±‚é«˜` | `ä»£ç ç®€æ´ï¼Œæ€§èƒ½å¥½` | `ç»§æ‰¿é™åˆ¶ï¼Œè€¦åˆé«˜` | â­â­â­ |
| ğŸ­ **æ¥å£é€‚é…å™¨** | `æ¥å£æ–¹æ³•å¤šï¼Œåªç”¨éƒ¨åˆ†` | `ä½¿ç”¨ä¾¿åˆ©ï¼Œä»£ç ç®€æ´` | `å¢åŠ æŠ½è±¡å±‚æ¬¡` | â­â­â­â­ |
| ğŸ”„ **åŒå‘é€‚é…å™¨** | `ä¸¤ç³»ç»Ÿéœ€è¦äº’ç›¸è°ƒç”¨` | `åŒå‘è½¬æ¢ï¼Œç»Ÿä¸€ç®¡ç†` | `å¤æ‚åº¦é«˜ï¼Œç»´æŠ¤éš¾` | â­â­â­ |
| ğŸ”— **å¤šé‡é€‚é…å™¨é“¾** | `å¤šæ­¥è½¬æ¢ï¼Œå¤æ‚ä¸šåŠ¡` | `æ¨¡å—åŒ–ï¼Œå¯æ‰©å±•` | `æ€§èƒ½å¼€é”€ï¼Œè°ƒè¯•éš¾` | â­â­ |

### 7.2 é€‰æ‹©é€‚é…å™¨çš„å†³ç­–æ ‘


```
éœ€è¦é€‚é…å™¨ï¼Ÿ
    â†“
æ˜¯å¦éœ€è¦åŒå‘è½¬æ¢ï¼Ÿ
    â”œâ”€ æ˜¯ â†’ åŒå‘é€‚é…å™¨
    â””â”€ å¦ â†“
æ˜¯å¦éœ€è¦å¤šæ­¥è½¬æ¢ï¼Ÿ
    â”œâ”€ æ˜¯ â†’ å¤šé‡é€‚é…å™¨é“¾
    â””â”€ å¦ â†“
æ¥å£æ–¹æ³•æ˜¯å¦å¾ˆå¤šä¸”åªç”¨éƒ¨åˆ†ï¼Ÿ
    â”œâ”€ æ˜¯ â†’ æ¥å£é€‚é…å™¨
    â””â”€ å¦ â†“
æ˜¯å¦æœ‰ç»§æ‰¿é™åˆ¶ï¼Ÿ
    â”œâ”€ æœ‰ â†’ å¯¹è±¡é€‚é…å™¨
    â””â”€ æ—  â†’ ç±»é€‚é…å™¨
```

### 7.3 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


**ğŸ”¸ é€‚é…å™¨çš„æœ¬è´¨**ï¼š
```
é€‚é…å™¨ = æ¥å£è½¬æ¢å™¨ = è®©ä¸å…¼å®¹çš„ä¸œè¥¿å˜å…¼å®¹
æ ¸å¿ƒæ€æƒ³ï¼šåœ¨ä¸ä¿®æ”¹åŸæœ‰ä»£ç çš„å‰æä¸‹ï¼Œå¢åŠ ä¸€ä¸ªè½¬æ¢å±‚
```

**ğŸ”¸ ä¸‰ç§åŸºæœ¬è§’è‰²**ï¼š
```
ğŸ¯ ç›®æ ‡æ¥å£ï¼šå®¢æˆ·ç«¯æœŸæœ›çš„æ ‡å‡†
ğŸ”Œ é€‚é…å™¨ï¼šå®ç°è½¬æ¢é€»è¾‘çš„ä¸­é—´å±‚
ğŸ”‹ è¢«é€‚é…è€…ï¼šéœ€è¦è¢«é€‚é…çš„åŸæœ‰ç»„ä»¶
```

**ğŸ”¸ ç»„åˆ vs ç»§æ‰¿**ï¼š
```
å¯¹è±¡é€‚é…å™¨ï¼ˆç»„åˆï¼‰ï¼šçµæ´»ã€æ¾è€¦åˆã€æ¨èä½¿ç”¨
ç±»é€‚é…å™¨ï¼ˆç»§æ‰¿ï¼‰ï¼šç®€æ´ã€æ€§èƒ½å¥½ã€ä½†æœ‰é™åˆ¶
```

### 7.4 å®é™…åº”ç”¨åœºæ™¯æ€»ç»“


**ğŸ’¼ å¸¸è§åº”ç”¨é¢†åŸŸ**ï¼š
```
ğŸ”¸ ç³»ç»Ÿé›†æˆï¼šæ–°è€ç³»ç»Ÿæ¥å£å¯¹æ¥
ğŸ”¸ ç¬¬ä¸‰æ–¹åº“ï¼šå¤–éƒ¨APIä¸å†…éƒ¨æ¥å£é€‚é…  
ğŸ”¸ æ•°æ®è½¬æ¢ï¼šä¸åŒæ ¼å¼é—´çš„è½¬æ¢
ğŸ”¸ åè®®è½¬æ¢ï¼šä¸åŒé€šä¿¡åè®®çš„é€‚é…
ğŸ”¸ GUIç¼–ç¨‹ï¼šäº‹ä»¶ç›‘å¬å™¨çš„ç®€åŒ–ä½¿ç”¨
```

**ğŸ’¡ è®¾è®¡å»ºè®®**ï¼š
```
ğŸ”¸ ä¼˜å…ˆé€‰æ‹©å¯¹è±¡é€‚é…å™¨ï¼ˆç»„åˆï¼‰
ğŸ”¸ æ¥å£å¤æ‚æ—¶è€ƒè™‘æ¥å£é€‚é…å™¨
ğŸ”¸ éœ€è¦åŒå‘è½¬æ¢æ‰ç”¨åŒå‘é€‚é…å™¨
ğŸ”¸ å¤šæ­¥è½¬æ¢è°¨æ…ä½¿ç”¨é€‚é…å™¨é“¾
ğŸ”¸ ä¿æŒé€‚é…å™¨çš„èŒè´£å•ä¸€
```

### 7.5 å­¦ä¹ è¦ç‚¹è®°å¿†


**æ ¸å¿ƒè®°å¿†å£è¯€**ï¼š
> **é€‚é…è½¬æ¢ä¸å…¼å®¹ï¼Œä¸‰ä¸ªè§’è‰²è¦è®°æ¸…**  
> **å¯¹è±¡ç»„åˆæœ€å¸¸ç”¨ï¼Œç±»ç»§æ‰¿ç®€æ´è¡Œ**  
> **æ¥å£å¤æ‚ç”¨é€‚é…ï¼ŒåŒå‘äº’è½¬è¦å°å¿ƒ**  
> **å¤šé‡é“¾æ¡è¦è°¨æ…ï¼Œæ€§èƒ½ç»´æŠ¤æ˜¯å…³é”®**

**å…³é”®ç†è§£**ï¼š
- é€‚é…å™¨æ¨¡å¼è§£å†³çš„æ˜¯**æ¥å£ä¸å…¼å®¹**é—®é¢˜
- **å¯¹è±¡é€‚é…å™¨**æ˜¯æœ€å®ç”¨çš„å®ç°æ–¹å¼
- **æ¥å£é€‚é…å™¨**è®©å¤æ‚æ¥å£å˜ç®€å•
- **åŒå‘å’Œå¤šé‡**é€‚é…å™¨é€‚ç”¨äºç‰¹æ®Šåœºæ™¯
- è®¾è®¡æ—¶è¦å¹³è¡¡**çµæ´»æ€§**å’Œ**å¤æ‚åº¦**