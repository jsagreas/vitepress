---
title: 4ã€é€‚é…å™¨æ¨¡å¼å®é™…åº”ç”¨
---
## ğŸ“š ç›®å½•

1. [é€‚é…å™¨æ¨¡å¼åœ¨å®é™…å¼€å‘ä¸­çš„ä½œç”¨](#1-é€‚é…å™¨æ¨¡å¼åœ¨å®é™…å¼€å‘ä¸­çš„ä½œç”¨)
2. [ç¬¬ä¸‰æ–¹åº“é›†æˆåº”ç”¨](#2-ç¬¬ä¸‰æ–¹åº“é›†æˆåº”ç”¨)
3. [æ•°æ®åº“é©±åŠ¨é€‚é…](#3-æ•°æ®åº“é©±åŠ¨é€‚é…)
4. [æ—¥å¿—æ¡†æ¶é€‚é…](#4-æ—¥å¿—æ¡†æ¶é€‚é…)
5. [ç¼“å­˜ç³»ç»Ÿé€‚é…](#5-ç¼“å­˜ç³»ç»Ÿé€‚é…)
6. [APIæ¥å£é€‚é…](#6-APIæ¥å£é€‚é…)
7. [å®é™…é¡¹ç›®ä¸­çš„æœ€ä½³å®è·µ](#7-å®é™…é¡¹ç›®ä¸­çš„æœ€ä½³å®è·µ)
8. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#8-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ¯ é€‚é…å™¨æ¨¡å¼åœ¨å®é™…å¼€å‘ä¸­çš„ä½œç”¨


### 1.1 ä¸ºä»€ä¹ˆéœ€è¦é€‚é…å™¨æ¨¡å¼


**ğŸ”¸ ç°å®å¼€å‘ä¸­çš„ç—›ç‚¹**

æƒ³è±¡ä¸€ä¸‹è¿™äº›å¸¸è§åœºæ™¯ï¼šä½ æ­£åœ¨å¼€å‘ä¸€ä¸ªé¡¹ç›®ï¼Œçªç„¶å‘ç°éœ€è¦é›†æˆä¸€ä¸ªç¬¬ä¸‰æ–¹æ”¯ä»˜åº“ï¼Œä½†æ˜¯è¿™ä¸ªåº“çš„æ¥å£é£æ ¼å’Œä½ é¡¹ç›®ä¸­å…¶ä»–ä»£ç å®Œå…¨ä¸ä¸€æ ·ã€‚æˆ–è€…å…¬å¸å†³å®šä»MySQLåˆ‡æ¢åˆ°PostgreSQLï¼Œä½†ä¸æƒ³ä¿®æ”¹æ‰€æœ‰ä¸šåŠ¡ä»£ç ã€‚è¿™æ—¶å€™ï¼Œé€‚é…å™¨æ¨¡å¼å°±åƒä¸€ä¸ª"ç¿»è¯‘å®˜"ï¼Œå¸®ä½ è§£å†³æ¥å£ä¸åŒ¹é…çš„é—®é¢˜ã€‚

```
ç°å®åœºæ™¯ç±»æ¯”ï¼š

å°±åƒæ‰‹æœºå……ç”µå™¨é€‚é…ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   iPhone    â”‚    â”‚  Type-Cè½¬   â”‚    â”‚   å®‰å“æ‰‹æœº   â”‚
â”‚  Lightning  â”‚ -> â”‚  Lightning  â”‚ -> â”‚   Type-C    â”‚
â”‚    æ¥å£     â”‚    â”‚   é€‚é…å™¨    â”‚    â”‚    æ¥å£     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

è½¯ä»¶å¼€å‘ä¸­çš„é€‚é…ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   æ—§ç³»ç»Ÿ    â”‚    â”‚   é€‚é…å™¨    â”‚    â”‚   æ–°æ¥å£    â”‚
â”‚   æ¥å£A     â”‚ -> â”‚    ç±»       â”‚ -> â”‚   æ¥å£B     â”‚
â”‚(ä¸å…¼å®¹æ ¼å¼) â”‚    â”‚(æ ¼å¼è½¬æ¢)   â”‚    â”‚(æœŸæœ›æ ¼å¼)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ğŸ’¡ é€‚é…å™¨è§£å†³çš„æ ¸å¿ƒé—®é¢˜**

- **æ¥å£ä¸å…¼å®¹**ï¼šä¸¤ä¸ªæœ¬æ¥å¯ä»¥ååŒå·¥ä½œçš„ç±»ï¼Œå› ä¸ºæ¥å£ä¸åŒ¹é…æ— æ³•ç›´æ¥ä½¿ç”¨
- **å†å²é—ç•™ä»£ç **ï¼šè€ç³»ç»Ÿçš„æ¥å£æ— æ³•ä¿®æ”¹ï¼Œä½†éœ€è¦ä¸æ–°ç³»ç»Ÿé›†æˆ
- **ç¬¬ä¸‰æ–¹åº“é›†æˆ**ï¼šå¤–éƒ¨åº“çš„æ¥å£é£æ ¼ä¸é¡¹ç›®ä¸ç»Ÿä¸€ï¼Œéœ€è¦ç»Ÿä¸€å°è£…
- **ç³»ç»Ÿå‡çº§**ï¼šå‡çº§ç»„ä»¶æ—¶ä¿æŒå‘åå…¼å®¹æ€§

### 1.2 é€‚é…å™¨æ¨¡å¼çš„ä¸¤ç§å½¢å¼


**ğŸ”§ å¯¹è±¡é€‚é…å™¨ vs ç±»é€‚é…å™¨**

```
å¯¹è±¡é€‚é…å™¨ï¼ˆæ¨èä½¿ç”¨ï¼‰ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   å®¢æˆ·ç«¯ä»£ç      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚ è°ƒç”¨
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   é€‚é…å™¨ç±»      â”‚ ç»„åˆ â”‚   è¢«é€‚é…çš„ç±»     â”‚
â”‚ - adaptee       â”‚ ---> â”‚   (æ—§æ¥å£)      â”‚
â”‚ + ç›®æ ‡æ–¹æ³•()    â”‚      â”‚ + åŸå§‹æ–¹æ³•()    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ä¼˜ç‚¹ï¼šçµæ´»æ€§é«˜ï¼Œå¯ä»¥é€‚é…å¤šä¸ªä¸åŒçš„ç±»
ç¼ºç‚¹ï¼šéœ€è¦é¢å¤–çš„å¯¹è±¡å¼•ç”¨

ç±»é€‚é…å™¨ï¼ˆJavaä¸­è¾ƒå°‘ä½¿ç”¨ï¼‰ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   é€‚é…å™¨ç±»      â”‚
â”‚ extends è¢«é€‚é…ç±» â”‚
â”‚ implements ç›®æ ‡æ¥å£â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ä¼˜ç‚¹ï¼šæ•ˆç‡ç¨é«˜ï¼Œç›´æ¥ç»§æ‰¿
ç¼ºç‚¹ï¼šJavaå•ç»§æ‰¿é™åˆ¶ï¼Œçµæ´»æ€§å·®
```

---

## 2. ğŸ”Œ ç¬¬ä¸‰æ–¹åº“é›†æˆåº”ç”¨


### 2.1 æ”¯ä»˜ç³»ç»Ÿé›†æˆæ¡ˆä¾‹


**ğŸ’³ ç»Ÿä¸€æ”¯ä»˜æ¥å£è®¾è®¡**

å‡è®¾æˆ‘ä»¬çš„ç”µå•†ç³»ç»Ÿéœ€è¦æ”¯æŒå¤šç§æ”¯ä»˜æ–¹å¼ï¼šæ”¯ä»˜å®ã€å¾®ä¿¡æ”¯ä»˜ã€PayPalã€‚æ¯ä¸ªæ”¯ä»˜å¹³å°çš„SDKæ¥å£éƒ½ä¸ä¸€æ ·ï¼Œä½†æˆ‘ä»¬å¸Œæœ›åœ¨ä¸šåŠ¡ä»£ç ä¸­ä½¿ç”¨ç»Ÿä¸€çš„æ¥å£ã€‚

```java
// æˆ‘ä»¬æœŸæœ›çš„ç»Ÿä¸€æ”¯ä»˜æ¥å£
public interface PaymentProcessor {
    PaymentResult processPayment(String orderId, double amount, String currency);
    boolean refund(String transactionId, double amount);
    PaymentStatus checkStatus(String transactionId);
}

// æ”¯ä»˜ç»“æœç»Ÿä¸€æ ¼å¼
public class PaymentResult {
    private boolean success;
    private String transactionId;
    private String message;
    // æ„é€ æ–¹æ³•å’Œgetter/setter...
}
```

**ğŸ”¸ æ”¯ä»˜å®SDKé€‚é…å™¨**

æ”¯ä»˜å®çš„SDKå¯èƒ½é•¿è¿™æ ·ï¼ˆç®€åŒ–ç‰ˆï¼‰ï¼š

```java
// æ”¯ä»˜å®SDKçš„åŸå§‹æ¥å£ï¼ˆæˆ‘ä»¬æ— æ³•ä¿®æ”¹ï¼‰
public class AlipayService {
    public AlipayResponse createOrder(String outTradeNo, String totalAmount) {
        // æ”¯ä»˜å®çš„åˆ›å»ºè®¢å•é€»è¾‘
        return new AlipayResponse("SUCCESS", "alipay_123456");
    }
    
    public String queryTradeStatus(String tradeNo) {
        // æŸ¥è¯¢äº¤æ˜“çŠ¶æ€
        return "TRADE_SUCCESS";
    }
    
    public boolean doRefund(String tradeNo, String refundAmount) {
        // é€€æ¬¾é€»è¾‘
        return true;
    }
}

// æ”¯ä»˜å®é€‚é…å™¨
public class AlipayAdapter implements PaymentProcessor {
    private AlipayService alipayService;
    
    public AlipayAdapter(AlipayService alipayService) {
        this.alipayService = alipayService;
    }
    
    @Override
    public PaymentResult processPayment(String orderId, double amount, String currency) {
        // å°†æˆ‘ä»¬çš„å‚æ•°è½¬æ¢ä¸ºæ”¯ä»˜å®éœ€è¦çš„æ ¼å¼
        AlipayResponse response = alipayService.createOrder(orderId, String.valueOf(amount));
        
        // å°†æ”¯ä»˜å®çš„è¿”å›ç»“æœè½¬æ¢ä¸ºæˆ‘ä»¬çš„ç»Ÿä¸€æ ¼å¼
        boolean success = "SUCCESS".equals(response.getCode());
        return new PaymentResult(success, response.getTradeNo(), response.getMsg());
    }
    
    @Override
    public boolean refund(String transactionId, double amount) {
        return alipayService.doRefund(transactionId, String.valueOf(amount));
    }
    
    @Override
    public PaymentStatus checkStatus(String transactionId) {
        String status = alipayService.queryTradeStatus(transactionId);
        // çŠ¶æ€è½¬æ¢é€»è¾‘
        return convertAlipayStatus(status);
    }
    
    private PaymentStatus convertAlipayStatus(String alipayStatus) {
        switch (alipayStatus) {
            case "TRADE_SUCCESS": return PaymentStatus.SUCCESS;
            case "TRADE_CLOSED": return PaymentStatus.FAILED;
            default: return PaymentStatus.PENDING;
        }
    }
}
```

**ğŸ“± å¾®ä¿¡æ”¯ä»˜é€‚é…å™¨**

```java
// å¾®ä¿¡æ”¯ä»˜SDKï¼ˆæ¥å£é£æ ¼å®Œå…¨ä¸åŒï¼‰
public class WechatPaySDK {
    public WechatPayResult unifiedOrder(WechatPayRequest request) {
        // å¾®ä¿¡çš„ç»Ÿä¸€ä¸‹å•æ¥å£
        return new WechatPayResult();
    }
    
    public WechatQueryResult orderQuery(String outTradeNo) {
        // è®¢å•æŸ¥è¯¢
        return new WechatQueryResult();
    }
}

// å¾®ä¿¡æ”¯ä»˜é€‚é…å™¨
public class WechatPayAdapter implements PaymentProcessor {
    private WechatPaySDK wechatPaySDK;
    
    public WechatPayAdapter(WechatPaySDK wechatPaySDK) {
        this.wechatPaySDK = wechatPaySDK;
    }
    
    @Override
    public PaymentResult processPayment(String orderId, double amount, String currency) {
        // æ„å»ºå¾®ä¿¡æ”¯ä»˜è¯·æ±‚
        WechatPayRequest request = new WechatPayRequest();
        request.setOutTradeNo(orderId);
        request.setTotalFee((int)(amount * 100)); // å¾®ä¿¡ç”¨åˆ†ä¸ºå•ä½
        
        WechatPayResult result = wechatPaySDK.unifiedOrder(request);
        
        // è½¬æ¢ä¸ºç»Ÿä¸€æ ¼å¼
        boolean success = "SUCCESS".equals(result.getReturnCode());
        return new PaymentResult(success, result.getPrepayId(), result.getReturnMsg());
    }
    
    // å…¶ä»–æ–¹æ³•çš„å®ç°...
}
```

**ğŸ¯ ä¸šåŠ¡ä»£ç ä½¿ç”¨**

æœ‰äº†é€‚é…å™¨ï¼Œä¸šåŠ¡ä»£ç å°±å¯ä»¥ç”¨ç»Ÿä¸€çš„æ–¹å¼å¤„ç†æ‰€æœ‰æ”¯ä»˜æ–¹å¼ï¼š

```java
public class OrderService {
    private PaymentProcessor paymentProcessor;
    
    public void processOrder(Order order, String paymentMethod) {
        // æ ¹æ®æ”¯ä»˜æ–¹å¼é€‰æ‹©ä¸åŒçš„é€‚é…å™¨
        switch (paymentMethod) {
            case "alipay":
                paymentProcessor = new AlipayAdapter(new AlipayService());
                break;
            case "wechat":
                paymentProcessor = new WechatPayAdapter(new WechatPaySDK());
                break;
            case "paypal":
                paymentProcessor = new PaypalAdapter(new PaypalSDK());
                break;
        }
        
        // ç»Ÿä¸€çš„æ”¯ä»˜å¤„ç†é€»è¾‘
        PaymentResult result = paymentProcessor.processPayment(
            order.getId(), 
            order.getAmount(), 
            order.getCurrency()
        );
        
        if (result.isSuccess()) {
            order.setStatus("PAID");
            order.setTransactionId(result.getTransactionId());
        } else {
            order.setStatus("PAYMENT_FAILED");
            log.error("æ”¯ä»˜å¤±è´¥: " + result.getMessage());
        }
    }
}
```

### 2.2 ç¬¬ä¸‰æ–¹åº“é€‚é…çš„é€šç”¨æ¨¡å¼


**ğŸ“‹ æ­¥éª¤æ€»ç»“**

```
ç¬¬ä¸‰æ–¹åº“é›†æˆçš„æ ‡å‡†æµç¨‹ï¼š

1. åˆ†æç°æœ‰æ¥å£
   â”œâ”€ äº†è§£ç¬¬ä¸‰æ–¹åº“çš„APIè®¾è®¡
   â”œâ”€ è¯†åˆ«å‚æ•°æ ¼å¼å’Œè¿”å›å€¼
   â””â”€ æ‰¾å‡ºä¸é¡¹ç›®æ ‡å‡†çš„å·®å¼‚ç‚¹

2. è®¾è®¡ç»Ÿä¸€æ¥å£
   â”œâ”€ å®šä¹‰ç¬¦åˆé¡¹ç›®é£æ ¼çš„æ¥å£
   â”œâ”€ ç¡®å®šç»Ÿä¸€çš„æ•°æ®æ ¼å¼
   â””â”€ è€ƒè™‘å¼‚å¸¸å¤„ç†æ–¹å¼

3. å®ç°é€‚é…å™¨
   â”œâ”€ å‚æ•°æ ¼å¼è½¬æ¢
   â”œâ”€ è¿”å›å€¼æ ¼å¼è½¬æ¢
   â”œâ”€ å¼‚å¸¸ä¿¡æ¯è½¬æ¢
   â””â”€ çŠ¶æ€ç æ˜ å°„

4. æµ‹è¯•éªŒè¯
   â”œâ”€ å•å…ƒæµ‹è¯•è¦†ç›–
   â”œâ”€ é›†æˆæµ‹è¯•éªŒè¯
   â””â”€ æ€§èƒ½å½±å“è¯„ä¼°
```

---

## 3. ğŸ—„ï¸ æ•°æ®åº“é©±åŠ¨é€‚é…


### 3.1 å¤šæ•°æ®åº“æ”¯æŒåœºæ™¯


**ğŸ”¸ é—®é¢˜èƒŒæ™¯**

å¾ˆå¤šä¼ä¸šçº§åº”ç”¨éœ€è¦æ”¯æŒå¤šç§æ•°æ®åº“ï¼šå¼€å‘ç¯å¢ƒç”¨H2ï¼Œæµ‹è¯•ç¯å¢ƒç”¨MySQLï¼Œç”Ÿäº§ç¯å¢ƒç”¨Oracleæˆ–PostgreSQLã€‚ä¸åŒæ•°æ®åº“çš„SQLè¯­æ³•ã€æ•°æ®ç±»å‹ã€ç‰¹æ®ŠåŠŸèƒ½éƒ½æœ‰å·®å¼‚ï¼Œç›´æ¥å†™åŸç”ŸSQLä¼šå¯¼è‡´ä»£ç æ— æ³•è·¨æ•°æ®åº“ã€‚

**ğŸ’¡ æ•°æ®è®¿é—®å±‚é€‚é…å™¨è®¾è®¡**

```java
// ç»Ÿä¸€çš„æ•°æ®è®¿é—®æ¥å£
public interface UserRepository {
    User findById(Long id);
    List<User> findByEmail(String email);
    void save(User user);
    void update(User user);
    void delete(Long id);
    List<User> findWithPagination(int page, int size);
}

// ç”¨æˆ·å®ä½“ç±»
public class User {
    private Long id;
    private String name;
    private String email;
    private Date createTime;
    // getter/setteræ–¹æ³•...
}
```

**ğŸ”§ MySQLé€‚é…å™¨å®ç°**

```java
public class MySQLUserRepository implements UserRepository {
    private DataSource dataSource;
    
    public MySQLUserRepository(DataSource dataSource) {
        this.dataSource = dataSource;
    }
    
    @Override
    public User findById(Long id) {
        String sql = "SELECT id, name, email, create_time FROM users WHERE id = ?";
        
        try (Connection conn = dataSource.getConnection();
             PreparedStatement stmt = conn.prepareStatement(sql)) {
            
            stmt.setLong(1, id);
            ResultSet rs = stmt.executeQuery();
            
            if (rs.next()) {
                return mapRowToUser(rs);
            }
            return null;
        } catch (SQLException e) {
            throw new DataAccessException("æŸ¥è¯¢ç”¨æˆ·å¤±è´¥", e);
        }
    }
    
    @Override
    public List<User> findWithPagination(int page, int size) {
        // MySQLçš„åˆ†é¡µè¯­æ³•
        String sql = "SELECT id, name, email, create_time FROM users " +
                    "ORDER BY id LIMIT ? OFFSET ?";
        
        List<User> users = new ArrayList<>();
        try (Connection conn = dataSource.getConnection();
             PreparedStatement stmt = conn.prepareStatement(sql)) {
            
            stmt.setInt(1, size);
            stmt.setInt(2, page * size);
            
            ResultSet rs = stmt.executeQuery();
            while (rs.next()) {
                users.add(mapRowToUser(rs));
            }
        } catch (SQLException e) {
            throw new DataAccessException("åˆ†é¡µæŸ¥è¯¢å¤±è´¥", e);
        }
        
        return users;
    }
    
    private User mapRowToUser(ResultSet rs) throws SQLException {
        User user = new User();
        user.setId(rs.getLong("id"));
        user.setName(rs.getString("name"));
        user.setEmail(rs.getString("email"));
        user.setCreateTime(rs.getTimestamp("create_time"));
        return user;
    }
}
```

**ğŸ˜ PostgreSQLé€‚é…å™¨å®ç°**

```java
public class PostgreSQLUserRepository implements UserRepository {
    private DataSource dataSource;
    
    public PostgreSQLUserRepository(DataSource dataSource) {
        this.dataSource = dataSource;
    }
    
    @Override
    public List<User> findWithPagination(int page, int size) {
        // PostgreSQLçš„åˆ†é¡µè¯­æ³•ï¼ˆä¸MySQLç•¥æœ‰ä¸åŒï¼‰
        String sql = "SELECT id, name, email, create_time FROM users " +
                    "ORDER BY id LIMIT ? OFFSET ?";
        
        // å®ç°é€»è¾‘ç±»ä¼¼MySQLï¼Œä½†å¯èƒ½éœ€è¦å¤„ç†PostgreSQLç‰¹æœ‰çš„æ•°æ®ç±»å‹
        return executeQuery(sql, page * size, size);
    }
    
    @Override
    public void save(User user) {
        // PostgreSQLæ”¯æŒRETURNINGå­å¥ï¼Œå¯ä»¥ä¸€æ¬¡æ€§æ’å…¥å¹¶è¿”å›ç”Ÿæˆçš„ID
        String sql = "INSERT INTO users (name, email, create_time) " +
                    "VALUES (?, ?, ?) RETURNING id";
        
        try (Connection conn = dataSource.getConnection();
             PreparedStatement stmt = conn.prepareStatement(sql)) {
            
            stmt.setString(1, user.getName());
            stmt.setString(2, user.getEmail());
            stmt.setTimestamp(3, new Timestamp(user.getCreateTime().getTime()));
            
            ResultSet rs = stmt.executeQuery();
            if (rs.next()) {
                user.setId(rs.getLong("id"));
            }
        } catch (SQLException e) {
            throw new DataAccessException("ä¿å­˜ç”¨æˆ·å¤±è´¥", e);
        }
    }
}
```

**ğŸ”§ Oracleé€‚é…å™¨å®ç°**

```java
public class OracleUserRepository implements UserRepository {
    private DataSource dataSource;
    
    @Override
    public List<User> findWithPagination(int page, int size) {
        // Oracleçš„åˆ†é¡µè¯­æ³•ï¼ˆä½¿ç”¨ROWNUMï¼‰
        String sql = "SELECT * FROM (" +
                    "  SELECT ROWNUM rn, u.* FROM (" +
                    "    SELECT id, name, email, create_time FROM users ORDER BY id" +
                    "  ) u WHERE ROWNUM <= ?" +
                    ") WHERE rn > ?";
        
        List<User> users = new ArrayList<>();
        try (Connection conn = dataSource.getConnection();
             PreparedStatement stmt = conn.prepareStatement(sql)) {
            
            int endRow = (page + 1) * size;
            int startRow = page * size;
            
            stmt.setInt(1, endRow);
            stmt.setInt(2, startRow);
            
            // æ‰§è¡ŒæŸ¥è¯¢é€»è¾‘...
        } catch (SQLException e) {
            throw new DataAccessException("Oracleåˆ†é¡µæŸ¥è¯¢å¤±è´¥", e);
        }
        
        return users;
    }
}
```

### 3.2 æ•°æ®åº“é€‚é…å™¨å·¥å‚


**ğŸ­ åŠ¨æ€é€‰æ‹©æ•°æ®åº“å®ç°**

```java
public class RepositoryFactory {
    
    public static UserRepository createUserRepository(String databaseType, DataSource dataSource) {
        switch (databaseType.toLowerCase()) {
            case "mysql":
                return new MySQLUserRepository(dataSource);
            case "postgresql":
                return new PostgreSQLUserRepository(dataSource);
            case "oracle":
                return new OracleUserRepository(dataSource);
            case "h2":
                return new H2UserRepository(dataSource);
            default:
                throw new IllegalArgumentException("ä¸æ”¯æŒçš„æ•°æ®åº“ç±»å‹: " + databaseType);
        }
    }
}

// ä½¿ç”¨ç¤ºä¾‹
public class UserService {
    private UserRepository userRepository;
    
    public UserService(String databaseType, DataSource dataSource) {
        this.userRepository = RepositoryFactory.createUserRepository(databaseType, dataSource);
    }
    
    public User getUserById(Long id) {
        return userRepository.findById(id);
    }
    
    public List<User> getUsersWithPaging(int page, int size) {
        return userRepository.findWithPagination(page, size);
    }
}
```

---

## 4. ğŸ“ æ—¥å¿—æ¡†æ¶é€‚é…


### 4.1 ç»Ÿä¸€æ—¥å¿—æ¥å£è®¾è®¡


**ğŸ”¸ æ—¥å¿—æ¡†æ¶çš„æŒ‘æˆ˜**

Javaç”Ÿæ€ä¸­æœ‰å¾ˆå¤šä¼˜ç§€çš„æ—¥å¿—æ¡†æ¶ï¼šLog4jã€Logbackã€java.util.loggingç­‰ã€‚ä¸åŒçš„æ¡†æ¶æœ‰ä¸åŒçš„é…ç½®æ–¹å¼å’ŒAPIï¼Œä½†æˆ‘ä»¬å¸Œæœ›åœ¨ä»£ç ä¸­ä½¿ç”¨ç»Ÿä¸€çš„æ—¥å¿—æ¥å£ï¼Œè¿™æ ·å¯ä»¥éšæ—¶åˆ‡æ¢åº•å±‚çš„æ—¥å¿—å®ç°ã€‚

**ğŸ’¡ é€šç”¨æ—¥å¿—é€‚é…å™¨è®¾è®¡**

```java
// æˆ‘ä»¬å®šä¹‰çš„ç»Ÿä¸€æ—¥å¿—æ¥å£
public interface Logger {
    void debug(String message);
    void debug(String message, Object... args);
    void info(String message);
    void info(String message, Object... args);
    void warn(String message);
    void warn(String message, Throwable throwable);
    void error(String message);
    void error(String message, Throwable throwable);
    
    boolean isDebugEnabled();
    boolean isInfoEnabled();
}
```

**ğŸ”§ Log4jé€‚é…å™¨å®ç°**

```java
import org.apache.log4j.Logger as Log4jLogger;

public class Log4jLoggerAdapter implements Logger {
    private final Log4jLogger log4jLogger;
    
    public Log4jLoggerAdapter(Class<?> clazz) {
        this.log4jLogger = Log4jLogger.getLogger(clazz);
    }
    
    public Log4jLoggerAdapter(String name) {
        this.log4jLogger = Log4jLogger.getLogger(name);
    }
    
    @Override
    public void debug(String message) {
        log4jLogger.debug(message);
    }
    
    @Override
    public void debug(String message, Object... args) {
        if (log4jLogger.isDebugEnabled()) {
            log4jLogger.debug(formatMessage(message, args));
        }
    }
    
    @Override
    public void info(String message) {
        log4jLogger.info(message);
    }
    
    @Override
    public void info(String message, Object... args) {
        if (log4jLogger.isInfoEnabled()) {
            log4jLogger.info(formatMessage(message, args));
        }
    }
    
    @Override
    public void warn(String message, Throwable throwable) {
        log4jLogger.warn(message, throwable);
    }
    
    @Override
    public void error(String message, Throwable throwable) {
        log4jLogger.error(message, throwable);
    }
    
    @Override
    public boolean isDebugEnabled() {
        return log4jLogger.isDebugEnabled();
    }
    
    @Override
    public boolean isInfoEnabled() {
        return log4jLogger.isInfoEnabled();
    }
    
    // æ ¼å¼åŒ–æ¶ˆæ¯çš„è¾…åŠ©æ–¹æ³•
    private String formatMessage(String pattern, Object... args) {
        if (args == null || args.length == 0) {
            return pattern;
        }
        
        // ç®€å•çš„å ä½ç¬¦æ›¿æ¢å®ç°
        String result = pattern;
        for (Object arg : args) {
            result = result.replaceFirst("\\{\\}", String.valueOf(arg));
        }
        return result;
    }
}
```

**ğŸ“‹ Logbacké€‚é…å™¨å®ç°**

```java
import ch.qos.logback.classic.Logger as LogbackLogger;
import org.slf4j.LoggerFactory;

public class LogbackLoggerAdapter implements Logger {
    private final LogbackLogger logbackLogger;
    
    public LogbackLoggerAdapter(Class<?> clazz) {
        this.logbackLogger = (LogbackLogger) LoggerFactory.getLogger(clazz);
    }
    
    @Override
    public void debug(String message, Object... args) {
        // Logbackæœ¬èº«æ”¯æŒå‚æ•°åŒ–æ—¥å¿—
        logbackLogger.debug(message, args);
    }
    
    @Override
    public void info(String message, Object... args) {
        logbackLogger.info(message, args);
    }
    
    @Override
    public void warn(String message, Throwable throwable) {
        logbackLogger.warn(message, throwable);
    }
    
    @Override
    public void error(String message, Throwable throwable) {
        logbackLogger.error(message, throwable);
    }
    
    @Override
    public boolean isDebugEnabled() {
        return logbackLogger.isDebugEnabled();
    }
    
    @Override
    public boolean isInfoEnabled() {
        return logbackLogger.isInfoEnabled();
    }
    
    // å…¶ä»–æ–¹æ³•å®ç°...
}
```

### 4.2 æ—¥å¿—å·¥å‚å’Œé…ç½®


**ğŸ­ æ—¥å¿—é€‚é…å™¨å·¥å‚**

```java
public class LoggerFactory {
    private static LoggerType currentLoggerType = LoggerType.LOG4J;
    
    public enum LoggerType {
        LOG4J, LOGBACK, JUL
    }
    
    public static void setLoggerType(LoggerType type) {
        currentLoggerType = type;
    }
    
    public static Logger getLogger(Class<?> clazz) {
        switch (currentLoggerType) {
            case LOG4J:
                return new Log4jLoggerAdapter(clazz);
            case LOGBACK:
                return new LogbackLoggerAdapter(clazz);
            case JUL:
                return new JULLoggerAdapter(clazz);
            default:
                throw new IllegalArgumentException("ä¸æ”¯æŒçš„æ—¥å¿—ç±»å‹");
        }
    }
    
    public static Logger getLogger(String name) {
        switch (currentLoggerType) {
            case LOG4J:
                return new Log4jLoggerAdapter(name);
            case LOGBACK:
                return new LogbackLoggerAdapter(name);
            case JUL:
                return new JULLoggerAdapter(name);
            default:
                throw new IllegalArgumentException("ä¸æ”¯æŒçš„æ—¥å¿—ç±»å‹");
        }
    }
}
```

**ğŸ“ ä¸šåŠ¡ä»£ç ä½¿ç”¨**

```java
public class OrderService {
    private static final Logger logger = LoggerFactory.getLogger(OrderService.class);
    
    public void createOrder(Order order) {
        logger.info("å¼€å§‹åˆ›å»ºè®¢å•ï¼Œè®¢å•å·: {}", order.getOrderNo());
        
        try {
            // è®¢å•åˆ›å»ºé€»è¾‘
            validateOrder(order);
            saveOrder(order);
            
            logger.info("è®¢å•åˆ›å»ºæˆåŠŸï¼Œè®¢å•ID: {}, é‡‘é¢: {}", order.getId(), order.getAmount());
        } catch (Exception e) {
            logger.error("è®¢å•åˆ›å»ºå¤±è´¥ï¼Œè®¢å•å·: " + order.getOrderNo(), e);
            throw e;
        }
    }
    
    private void validateOrder(Order order) {
        if (order.getAmount() <= 0) {
            logger.warn("è®¢å•é‡‘é¢å¼‚å¸¸ï¼Œè®¢å•å·: {}, é‡‘é¢: {}", order.getOrderNo(), order.getAmount());
            throw new IllegalArgumentException("è®¢å•é‡‘é¢å¿…é¡»å¤§äº0");
        }
    }
}
```

---

## 5. ğŸ’¾ ç¼“å­˜ç³»ç»Ÿé€‚é…


### 5.1 å¤šç§ç¼“å­˜è§£å†³æ–¹æ¡ˆé€‚é…


**ğŸ”¸ ç¼“å­˜æŠ€æœ¯é€‰æ‹©çš„æŒ‘æˆ˜**

ä¸åŒçš„åº”ç”¨åœºæ™¯éœ€è¦ä¸åŒçš„ç¼“å­˜æ–¹æ¡ˆï¼šæœ¬åœ°ç¼“å­˜ç”¨Caffeineã€åˆ†å¸ƒå¼ç¼“å­˜ç”¨Redisã€å¤§æ•°æ®åœºæ™¯ç”¨Hazelcastã€‚æˆ‘ä»¬å¸Œæœ›ä¸šåŠ¡ä»£ç ä¸å…³å¿ƒå…·ä½“ç”¨å“ªç§ç¼“å­˜ï¼Œå¯ä»¥çµæ´»åˆ‡æ¢ã€‚

**âš¡ ç»Ÿä¸€ç¼“å­˜æ¥å£è®¾è®¡**

```java
public interface CacheManager {
    void put(String key, Object value);
    void put(String key, Object value, long ttlSeconds);
    <T> T get(String key, Class<T> type);
    String get(String key);
    void delete(String key);
    void clear();
    boolean exists(String key);
    Set<String> keys(String pattern);
}

// ç¼“å­˜é…ç½®ç±»
public class CacheConfig {
    private int defaultTtl = 3600; // é»˜è®¤1å°æ—¶è¿‡æœŸ
    private int maxSize = 1000;    // æœ€å¤§ç¼“å­˜æ•°é‡
    private String keyPrefix = "app:"; // keyå‰ç¼€
    
    // getter/setteræ–¹æ³•...
}
```

**ğŸ”§ Redisç¼“å­˜é€‚é…å™¨**

```java
import redis.clients.jedis.Jedis;
import redis.clients.jedis.JedisPool;

public class RedisCacheManager implements CacheManager {
    private final JedisPool jedisPool;
    private final CacheConfig config;
    
    public RedisCacheManager(JedisPool jedisPool, CacheConfig config) {
        this.jedisPool = jedisPool;
        this.config = config;
    }
    
    @Override
    public void put(String key, Object value) {
        put(key, value, config.getDefaultTtl());
    }
    
    @Override
    public void put(String key, Object value, long ttlSeconds) {
        String fullKey = config.getKeyPrefix() + key;
        String jsonValue = JsonUtils.toJson(value);
        
        try (Jedis jedis = jedisPool.getResource()) {
            jedis.setex(fullKey, (int) ttlSeconds, jsonValue);
        }
    }
    
    @Override
    public <T> T get(String key, Class<T> type) {
        String jsonValue = get(key);
        if (jsonValue == null) {
            return null;
        }
        return JsonUtils.fromJson(jsonValue, type);
    }
    
    @Override
    public String get(String key) {
        String fullKey = config.getKeyPrefix() + key;
        
        try (Jedis jedis = jedisPool.getResource()) {
            return jedis.get(fullKey);
        }
    }
    
    @Override
    public void delete(String key) {
        String fullKey = config.getKeyPrefix() + key;
        
        try (Jedis jedis = jedisPool.getResource()) {
            jedis.del(fullKey);
        }
    }
    
    @Override
    public boolean exists(String key) {
        String fullKey = config.getKeyPrefix() + key;
        
        try (Jedis jedis = jedisPool.getResource()) {
            return jedis.exists(fullKey);
        }
    }
    
    @Override
    public Set<String> keys(String pattern) {
        String fullPattern = config.getKeyPrefix() + pattern;
        
        try (Jedis jedis = jedisPool.getResource()) {
            Set<String> fullKeys = jedis.keys(fullPattern);
            // å»æ‰å‰ç¼€åè¿”å›
            return fullKeys.stream()
                    .map(fullKey -> fullKey.substring(config.getKeyPrefix().length()))
                    .collect(Collectors.toSet());
        }
    }
    
    @Override
    public void clear() {
        try (Jedis jedis = jedisPool.getResource()) {
            String pattern = config.getKeyPrefix() + "*";
            Set<String> keys = jedis.keys(pattern);
            if (!keys.isEmpty()) {
                jedis.del(keys.toArray(new String[0]));
            }
        }
    }
}
```

**â˜• Caffeineæœ¬åœ°ç¼“å­˜é€‚é…å™¨**

```java
import com.github.benmanes.caffeine.cache.Cache;
import com.github.benmanes.caffeine.cache.Caffeine;

public class CaffeineCacheManager implements CacheManager {
    private final Cache<String, Object> cache;
    private final CacheConfig config;
    
    public CaffeineCacheManager(CacheConfig config) {
        this.config = config;
        this.cache = Caffeine.newBuilder()
                .maximumSize(config.getMaxSize())
                .expireAfterWrite(config.getDefaultTtl(), TimeUnit.SECONDS)
                .build();
    }
    
    @Override
    public void put(String key, Object value) {
        String fullKey = config.getKeyPrefix() + key;
        cache.put(fullKey, value);
    }
    
    @Override
    public void put(String key, Object value, long ttlSeconds) {
        // Caffeineä¸æ”¯æŒå•ç‹¬è®¾ç½®æ¯ä¸ªkeyçš„TTLï¼Œè¿™é‡Œåšç®€åŒ–å¤„ç†
        // å®é™…é¡¹ç›®ä¸­å¯èƒ½éœ€è¦ä½¿ç”¨å¤šä¸ªä¸åŒTTLçš„Cacheå®ä¾‹
        put(key, value);
    }
    
    @Override
    @SuppressWarnings("unchecked")
    public <T> T get(String key, Class<T> type) {
        String fullKey = config.getKeyPrefix() + key;
        Object value = cache.getIfPresent(fullKey);
        
        if (value == null) {
            return null;
        }
        
        if (type.isInstance(value)) {
            return (T) value;
        }
        
        // å¦‚æœç±»å‹ä¸åŒ¹é…ï¼Œå°è¯•JSONè½¬æ¢
        if (value instanceof String) {
            return JsonUtils.fromJson((String) value, type);
        }
        
        return null;
    }
    
    @Override
    public String get(String key) {
        String fullKey = config.getKeyPrefix() + key;
        Object value = cache.getIfPresent(fullKey);
        return value != null ? value.toString() : null;
    }
    
    @Override
    public void delete(String key) {
        String fullKey = config.getKeyPrefix() + key;
        cache.invalidate(fullKey);
    }
    
    @Override
    public boolean exists(String key) {
        String fullKey = config.getKeyPrefix() + key;
        return cache.getIfPresent(fullKey) != null;
    }
    
    @Override
    public Set<String> keys(String pattern) {
        // æœ¬åœ°ç¼“å­˜é€šå¸¸ä¸éœ€è¦å¤æ‚çš„keyæŸ¥æ‰¾
        return cache.asMap().keySet().stream()
                .filter(key -> key.startsWith(config.getKeyPrefix()))
                .map(key -> key.substring(config.getKeyPrefix().length()))
                .filter(key -> matchPattern(key, pattern))
                .collect(Collectors.toSet());
    }
    
    @Override
    public void clear() {
        cache.invalidateAll();
    }
    
    private boolean matchPattern(String key, String pattern) {
        // ç®€å•çš„é€šé…ç¬¦åŒ¹é…å®ç°
        return pattern.equals("*") || key.matches(pattern.replace("*", ".*"));
    }
}
```

### 5.2 ç¼“å­˜é€‚é…å™¨å·¥å‚


**ğŸ­ ç¼“å­˜ç®¡ç†å™¨å·¥å‚**

```java
public class CacheManagerFactory {
    
    public enum CacheType {
        REDIS, CAFFEINE, HAZELCAST
    }
    
    public static CacheManager createCacheManager(CacheType type, CacheConfig config) {
        switch (type) {
            case REDIS:
                JedisPool jedisPool = createJedisPool(config);
                return new RedisCacheManager(jedisPool, config);
                
            case CAFFEINE:
                return new CaffeineCacheManager(config);
                
            case HAZELCAST:
                return new HazelcastCacheManager(config);
                
            default:
                throw new IllegalArgumentException("ä¸æ”¯æŒçš„ç¼“å­˜ç±»å‹: " + type);
        }
    }
    
    private static JedisPool createJedisPool(CacheConfig config) {
        return new JedisPool(
            config.getRedisHost(), 
            config.getRedisPort()
        );
    }
}
```

**ğŸ’¼ ä¸šåŠ¡å±‚ä½¿ç”¨**

```java
public class UserService {
    private final CacheManager cacheManager;
    private final UserRepository userRepository;
    
    public UserService(CacheManager cacheManager, UserRepository userRepository) {
        this.cacheManager = cacheManager;
        this.userRepository = userRepository;
    }
    
    public User getUserById(Long userId) {
        String cacheKey = "user:" + userId;
        
        // å…ˆä»ç¼“å­˜æŸ¥æ‰¾
        User cachedUser = cacheManager.get(cacheKey, User.class);
        if (cachedUser != null) {
            return cachedUser;
        }
        
        // ç¼“å­˜æœªå‘½ä¸­ï¼Œä»æ•°æ®åº“æŸ¥è¯¢
        User user = userRepository.findById(userId);
        if (user != null) {
            // å­˜å…¥ç¼“å­˜ï¼Œè®¾ç½®30åˆ†é’Ÿè¿‡æœŸ
            cacheManager.put(cacheKey, user, 1800);
        }
        
        return user;
    }
    
    public void updateUser(User user) {
        // æ›´æ–°æ•°æ®åº“
        userRepository.update(user);
        
        // æ›´æ–°ç¼“å­˜
        String cacheKey = "user:" + user.getId();
        cacheManager.put(cacheKey, user, 1800);
    }
    
    public void deleteUser(Long userId) {
        // åˆ é™¤æ•°æ®åº“è®°å½•
        userRepository.delete(userId);
        
        // åˆ é™¤ç¼“å­˜
        String cacheKey = "user:" + userId;
        cacheManager.delete(cacheKey);
    }
}
```

---

## 6. ğŸŒ APIæ¥å£é€‚é…


### 6.1 å¤–éƒ¨APIæœåŠ¡é€‚é…


**ğŸ”¸ APIé›†æˆçš„å¸¸è§æŒ‘æˆ˜**

åœ¨å¾®æœåŠ¡æ¶æ„ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦è°ƒç”¨å¤–éƒ¨çš„APIæœåŠ¡ï¼Œæ¯”å¦‚æ”¯ä»˜APIã€çŸ­ä¿¡APIã€åœ°å›¾APIç­‰ã€‚è¿™äº›APIçš„æ¥å£æ ¼å¼ã€è®¤è¯æ–¹å¼ã€é”™è¯¯å¤„ç†éƒ½ä¸ä¸€æ ·ï¼Œä½†æˆ‘ä»¬å¸Œæœ›åœ¨é¡¹ç›®ä¸­ç”¨ç»Ÿä¸€çš„æ–¹å¼è°ƒç”¨ã€‚

**ğŸ’¡ ç»Ÿä¸€çš„APIå®¢æˆ·ç«¯æ¥å£**

```java
// ç»Ÿä¸€çš„APIå“åº”æ ¼å¼
public class ApiResponse<T> {
    private boolean success;
    private T data;
    private String errorCode;
    private String errorMessage;
    
    // é™æ€å·¥å‚æ–¹æ³•
    public static <T> ApiResponse<T> success(T data) {
        ApiResponse<T> response = new ApiResponse<>();
        response.success = true;
        response.data = data;
        return response;
    }
    
    public static <T> ApiResponse<T> error(String errorCode, String errorMessage) {
        ApiResponse<T> response = new ApiResponse<>();
        response.success = false;
        response.errorCode = errorCode;
        response.errorMessage = errorMessage;
        return response;
    }
    
    // getteræ–¹æ³•...
}

// çŸ­ä¿¡æœåŠ¡ç»Ÿä¸€æ¥å£
public interface SmsService {
    ApiResponse<String> sendSms(String phoneNumber, String message);
    ApiResponse<String> sendVerificationCode(String phoneNumber, String template);
    ApiResponse<Boolean> verifySmsCode(String phoneNumber, String code);
}
```

**ğŸ“± é˜¿é‡Œäº‘çŸ­ä¿¡æœåŠ¡é€‚é…å™¨**

```java
// é˜¿é‡Œäº‘çŸ­ä¿¡SDKçš„åŸå§‹æ¥å£ï¼ˆç®€åŒ–ï¼‰
public class AliyunSmsClient {
    public AliyunSmsResponse sendSms(AliyunSmsRequest request) {
        // é˜¿é‡Œäº‘çš„å‘é€çŸ­ä¿¡é€»è¾‘
        return new AliyunSmsResponse();
    }
}

// é˜¿é‡Œäº‘çŸ­ä¿¡é€‚é…å™¨
public class AliyunSmsAdapter implements SmsService {
    private final AliyunSmsClient aliyunClient;
    private final String accessKeyId;
    private final String accessKeySecret;
    
    public AliyunSmsAdapter(String accessKeyId, String accessKeySecret) {
        this.accessKeyId = accessKeyId;
        this.accessKeySecret = accessKeySecret;
        this.aliyunClient = new AliyunSmsClient();
    }
    
    @Override
    public ApiResponse<String> sendSms(String phoneNumber, String message) {
        try {
            // æ„å»ºé˜¿é‡Œäº‘è¯·æ±‚å‚æ•°
            AliyunSmsRequest request = new AliyunSmsRequest();
            request.setPhoneNumbers(phoneNumber);
            request.setSignName("æ‚¨çš„åº”ç”¨");
            request.setTemplateCode("SMS_123456");
            request.setTemplateParam("{\"content\":\"" + message + "\"}");
            
            // è°ƒç”¨é˜¿é‡Œäº‘API
            AliyunSmsResponse response = aliyunClient.sendSms(request);
            
            // è½¬æ¢ä¸ºç»Ÿä¸€æ ¼å¼
            if ("OK".equals(response.getCode())) {
                return ApiResponse.success(response.getBizId());
            } else {
                return ApiResponse.error(response.getCode(), response.getMessage());
            }
            
        } catch (Exception e) {
            return ApiResponse.error("SYSTEM_ERROR", "çŸ­ä¿¡å‘é€å¤±è´¥: " + e.getMessage());
        }
    }
    
    @Override
    public ApiResponse<String> sendVerificationCode(String phoneNumber, String template) {
        // ç”Ÿæˆ6ä½éªŒè¯ç 
        String code = generateVerificationCode();
        
        // å°†éªŒè¯ç ç¼“å­˜ï¼Œç”¨äºåç»­éªŒè¯
        cacheVerificationCode(phoneNumber, code);
        
        // æ„å»ºçŸ­ä¿¡å†…å®¹
        String message = "æ‚¨çš„éªŒè¯ç æ˜¯ï¼š" + code + "ï¼Œ5åˆ†é’Ÿå†…æœ‰æ•ˆã€‚";
        
        return sendSms(phoneNumber, message);
    }
    
    @Override
    public ApiResponse<Boolean> verifySmsCode(String phoneNumber, String code) {
        String cachedCode = getCachedVerificationCode(phoneNumber);
        
        if (cachedCode == null) {
            return ApiResponse.error("CODE_EXPIRED", "éªŒè¯ç å·²è¿‡æœŸ");
        }
        
        if (!cachedCode.equals(code)) {
            return ApiResponse.error("CODE_INVALID", "éªŒè¯ç é”™è¯¯");
        }
        
        // éªŒè¯æˆåŠŸååˆ é™¤ç¼“å­˜çš„éªŒè¯ç 
        removeCachedVerificationCode(phoneNumber);
        
        return ApiResponse.success(true);
    }
    
    private String generateVerificationCode() {
        return String.format("%06d", new Random().nextInt(1000000));
    }
    
    // ç¼“å­˜ç›¸å…³æ–¹æ³•çš„å®ç°...
}
```

**ğŸ’¬ è…¾è®¯äº‘çŸ­ä¿¡æœåŠ¡é€‚é…å™¨**

```java
public class TencentSmsAdapter implements SmsService {
    private final TencentSmsClient tencentClient;
    private final String secretId;
    private final String secretKey;
    
    public TencentSmsAdapter(String secretId, String secretKey) {
        this.secretId = secretId;
        this.secretKey = secretKey;
        this.tencentClient = new TencentSmsClient();
    }
    
    @Override
    public ApiResponse<String> sendSms(String phoneNumber, String message) {
        try {
            // è…¾è®¯äº‘çš„å‚æ•°æ ¼å¼
            TencentSmsRequest request = new TencentSmsRequest();
            request.setPhoneNumberSet(new String[]{phoneNumber});
            request.setSignName("åº”ç”¨åç§°");
            request.setTemplateId("12345");
            request.setTemplateParamSet(new String[]{message});
            
            TencentSmsResponse response = tencentClient.sendSms(request);
            
            // è…¾è®¯äº‘çš„æˆåŠŸåˆ¤æ–­æ–¹å¼
            if (response.getSendStatusSet()[0].getCode().equals("Ok")) {
                return ApiResponse.success(response.getSendStatusSet()[0].getSerialNo());
            } else {
                return ApiResponse.error(
                    response.getSendStatusSet()[0].getCode(),
                    response.getSendStatusSet()[0].getMessage()
                );
            }
            
        } catch (Exception e) {
            return ApiResponse.error("SYSTEM_ERROR", "çŸ­ä¿¡å‘é€å¤±è´¥: " + e.getMessage());
        }
    }
    
    // å…¶ä»–æ–¹æ³•å®ç°ç±»ä¼¼...
}
```

### 6.2 ç‰ˆæœ¬å…¼å®¹æ€§é€‚é…


**ğŸ”„ APIç‰ˆæœ¬å‡çº§é€‚é…**

å¾ˆå¤šç¬¬ä¸‰æ–¹æœåŠ¡ä¼šä¸æ–­å‡çº§APIç‰ˆæœ¬ï¼Œæ–°ç‰ˆæœ¬å¯èƒ½æœ‰æ›´å¥½çš„æ€§èƒ½æˆ–æ–°åŠŸèƒ½ï¼Œä½†æ¥å£æ ¼å¼æœ‰å˜åŒ–ã€‚é€‚é…å™¨æ¨¡å¼å¯ä»¥å¸®æˆ‘ä»¬å¹³æ»‘åœ°å¤„ç†ç‰ˆæœ¬å‡çº§ã€‚

```java
// åœ°å›¾æœåŠ¡çš„ç»Ÿä¸€æ¥å£
public interface GeocodeService {
    ApiResponse<Location> getLocationByAddress(String address);
    ApiResponse<String> getAddressByLocation(double latitude, double longitude);
}

// ä½ç½®ä¿¡æ¯ç»Ÿä¸€æ ¼å¼
public class Location {
    private double latitude;
    private double longitude;
    private String formattedAddress;
    // getter/setter...
}

// é«˜å¾·åœ°å›¾V1ç‰ˆæœ¬é€‚é…å™¨
public class AmapV1Adapter implements GeocodeService {
    private final AmapV1Client client;
    
    @Override
    public ApiResponse<Location> getLocationByAddress(String address) {
        try {
            // V1ç‰ˆæœ¬çš„è°ƒç”¨æ–¹å¼
            AmapV1GeocodeRequest request = new AmapV1GeocodeRequest();
            request.setAddress(address);
            request.setKey(apiKey);
            
            AmapV1GeocodeResponse response = client.geocode(request);
            
            if ("1".equals(response.getStatus())) {
                // V1ç‰ˆæœ¬çš„æ•°æ®ç»“æ„è½¬æ¢
                AmapV1Geocode geocode = response.getGeocodes().get(0);
                String[] location = geocode.getLocation().split(",");
                
                Location result = new Location();
                result.setLongitude(Double.parseDouble(location[0]));
                result.setLatitude(Double.parseDouble(location[1]));
                result.setFormattedAddress(geocode.getFormattedAddress());
                
                return ApiResponse.success(result);
            } else {
                return ApiResponse.error(response.getStatus(), response.getInfo());
            }
            
        } catch (Exception e) {
            return ApiResponse.error("SYSTEM_ERROR", "åœ°ç†ç¼–ç å¤±è´¥: " + e.getMessage());
        }
    }
}

// é«˜å¾·åœ°å›¾V2ç‰ˆæœ¬é€‚é…å™¨
public class AmapV2Adapter implements GeocodeService {
    private final AmapV2Client client;
    
    @Override
    public ApiResponse<Location> getLocationByAddress(String address) {
        try {
            // V2ç‰ˆæœ¬çš„è°ƒç”¨æ–¹å¼ï¼ˆæ¥å£æ ¼å¼æœ‰å˜åŒ–ï¼‰
            AmapV2GeocodeRequest request = new AmapV2GeocodeRequest();
            request.setAddress(address);
            request.setApiKey(apiKey);
            request.setOutput("JSON"); // V2ç‰ˆæœ¬éœ€è¦æŒ‡å®šè¾“å‡ºæ ¼å¼
            
            AmapV2GeocodeResponse response = client.geocode(request);
            
            if (response.isSuccess()) {
                // V2ç‰ˆæœ¬çš„æ•°æ®ç»“æ„è½¬æ¢
                AmapV2Location amapLocation = response.getResult().getLocation();
                
                Location result = new Location();
                result.setLatitude(amapLocation.getLat());
                result.setLongitude(amapLocation.getLng());
                result.setFormattedAddress(response.getResult().getFormattedAddress());
                
                return ApiResponse.success(result);
            } else {
                return ApiResponse.error(response.getErrorCode(), response.getErrorMessage());
            }
            
        } catch (Exception e) {
            return ApiResponse.error("SYSTEM_ERROR", "åœ°ç†ç¼–ç å¤±è´¥: " + e.getMessage());
        }
    }
}
```

**âš™ï¸ ç‰ˆæœ¬é€‚é…å·¥å‚**

```java
public class GeocodeServiceFactory {
    
    public enum ProviderVersion {
        AMAP_V1, AMAP_V2, BAIDU_V1, GOOGLE_V3
    }
    
    public static GeocodeService createGeocodeService(ProviderVersion version, String apiKey) {
        switch (version) {
            case AMAP_V1:
                return new AmapV1Adapter(apiKey);
            case AMAP_V2:
                return new AmapV2Adapter(apiKey);
            case BAIDU_V1:
                return new BaiduV1Adapter(apiKey);
            case GOOGLE_V3:
                return new GoogleV3Adapter(apiKey);
            default:
                throw new IllegalArgumentException("ä¸æ”¯æŒçš„åœ°å›¾æœåŠ¡ç‰ˆæœ¬: " + version);
        }
    }
}

// é…ç½®åˆ‡æ¢åœ°å›¾æœåŠ¡ç‰ˆæœ¬
public class LocationService {
    private GeocodeService geocodeService;
    
    public LocationService(String provider, String version, String apiKey) {
        ProviderVersion providerVersion = ProviderVersion.valueOf(
            provider.toUpperCase() + "_" + version.toUpperCase()
        );
        this.geocodeService = GeocodeServiceFactory.createGeocodeService(providerVersion, apiKey);
    }
    
    public Location searchLocation(String address) {
        ApiResponse<Location> response = geocodeService.getLocationByAddress(address);
        
        if (response.isSuccess()) {
            return response.getData();
        } else {
            throw new RuntimeException("åœ°å€è§£æå¤±è´¥: " + response.getErrorMessage());
        }
    }
}
```

---

## 7. ğŸ¯ å®é™…é¡¹ç›®ä¸­çš„æœ€ä½³å®è·µ


### 7.1 é€‚é…å™¨æ¨¡å¼çš„ä½¿ç”¨æ—¶æœº


**âœ… é€‚åˆä½¿ç”¨çš„åœºæ™¯**

```
æ¥å£ä¸å…¼å®¹ï¼š
- ç¬¬ä¸‰æ–¹åº“çš„æ¥å£ä¸é¡¹ç›®æ ‡å‡†ä¸ç¬¦
- é—ç•™ç³»ç»Ÿéœ€è¦ä¸æ–°ç³»ç»Ÿé›†æˆ
- ä¸åŒç‰ˆæœ¬APIä¹‹é—´çš„å…¼å®¹æ€§é—®é¢˜

æŠ€æœ¯æ ˆåˆ‡æ¢ï¼š
- æ•°æ®åº“ä»MySQLåˆ‡æ¢åˆ°PostgreSQL
- ç¼“å­˜ä»æœ¬åœ°ç¼“å­˜åˆ‡æ¢åˆ°Redis
- æ—¥å¿—æ¡†æ¶å‡çº§æˆ–æ›´æ¢

å¤šå‚å•†æ”¯æŒï¼š
- æ”¯æŒå¤šä¸ªæ”¯ä»˜å¹³å°
- æ”¯æŒå¤šä¸ªäº‘æœåŠ¡å•†
- æ”¯æŒå¤šä¸ªæ¶ˆæ¯é˜Ÿåˆ—äº§å“
```

**âŒ ä¸é€‚åˆä½¿ç”¨çš„åœºæ™¯**

```
ç®€å•çš„æ¥å£åŒ…è£…ï¼š
- ä»…ä»…æ˜¯æ–¹æ³•åç§°ä¸åŒï¼ŒåŠŸèƒ½å®Œå…¨ä¸€è‡´
- å¯ä»¥é€šè¿‡ç»§æ‰¿æˆ–ç»„åˆè½»æ¾è§£å†³
- é€‚é…çš„å¤æ‚åº¦è¶…è¿‡å¸¦æ¥çš„æ”¶ç›Š

æ€§èƒ½æ•æ„Ÿçš„åœºæ™¯ï¼š
- é€‚é…å™¨å¢åŠ äº†è°ƒç”¨é“¾è·¯
- å¯¹æ€§èƒ½è¦æ±‚æé«˜çš„æ ¸å¿ƒè·¯å¾„
- å®æ—¶æ€§è¦æ±‚å¾ˆé«˜çš„åœºæ™¯

ä¸´æ—¶æ€§çš„è§£å†³æ–¹æ¡ˆï¼š
- çŸ­æœŸå†…ä¼šè¢«é‡æ„çš„ä»£ç 
- ä¸€æ¬¡æ€§çš„æ•°æ®è¿ç§»ä»»åŠ¡
- åŸæœ‰æ¥å£å³å°†è¢«åºŸå¼ƒ
```

### 7.2 é€‚é…å™¨è®¾è®¡åŸåˆ™


**ğŸ“ è®¾è®¡è¦ç‚¹**

```
å•ä¸€èŒè´£ï¼š
âœ… ä¸€ä¸ªé€‚é…å™¨åªè§£å†³ä¸€ç§ä¸å…¼å®¹é—®é¢˜
âœ… ä¸è¦åœ¨é€‚é…å™¨ä¸­æ·»åŠ ä¸šåŠ¡é€»è¾‘
âœ… ä¿æŒé€‚é…å™¨çš„ç®€å•æ€§

æ¥å£ä¸€è‡´æ€§ï¼š
âœ… ç»Ÿä¸€çš„é”™è¯¯å¤„ç†æ–¹å¼
âœ… ç»Ÿä¸€çš„æ•°æ®æ ¼å¼è½¬æ¢
âœ… ç»Ÿä¸€çš„å¼‚å¸¸å¤„ç†ç­–ç•¥

å¯æµ‹è¯•æ€§ï¼š
âœ… é€‚é…å™¨åº”è¯¥å®¹æ˜“è¿›è¡Œå•å…ƒæµ‹è¯•
âœ… æä¾›mockå®ç°ç”¨äºæµ‹è¯•
âœ… é¿å…åœ¨é€‚é…å™¨ä¸­è¿›è¡Œå¤æ‚çš„åˆå§‹åŒ–
```

### 7.3 æ€§èƒ½å’Œç»´æŠ¤è€ƒè™‘


**âš¡ æ€§èƒ½ä¼˜åŒ–ç­–ç•¥**

```java
// è¿æ¥æ± å¤ç”¨
public class DatabaseAdapterPool {
    private final Map<String, DataSource> dataSources = new ConcurrentHashMap<>();
    
    public UserRepository getRepository(String dbType) {
        DataSource dataSource = dataSources.computeIfAbsent(dbType, this::createDataSource);
        return RepositoryFactory.createUserRepository(dbType, dataSource);
    }
    
    private DataSource createDataSource(String dbType) {
        // åˆ›å»ºè¿æ¥æ± ï¼Œè€Œä¸æ˜¯æ¯æ¬¡éƒ½åˆ›å»ºæ–°è¿æ¥
        return DataSourceBuilder.create()
                .driverClassName(getDriverClass(dbType))
                .url(getDbUrl(dbType))
                .build();
    }
}

// ç¼“å­˜é€‚é…ç»“æœ
public class CachedApiAdapter implements SmsService {
    private final SmsService delegate;
    private final Map<String, ApiResponse<String>> cache = new ConcurrentHashMap<>();
    
    public CachedApiAdapter(SmsService delegate) {
        this.delegate = delegate;
    }
    
    @Override
    public ApiResponse<String> sendSms(String phoneNumber, String message) {
        // å¯¹äºå¹‚ç­‰æ“ä½œï¼Œå¯ä»¥ç¼“å­˜ç»“æœ
        String cacheKey = phoneNumber + ":" + message.hashCode();
        
        return cache.computeIfAbsent(cacheKey, k -> {
            ApiResponse<String> result = delegate.sendSms(phoneNumber, message);
            // è®¾ç½®ç¼“å­˜è¿‡æœŸæ—¶é—´
            scheduleEviction(cacheKey, 60); // 60ç§’åæ¸…é™¤
            return result;
        });
    }
}
```

**ğŸ”§ ç»´æŠ¤æ€§æœ€ä½³å®è·µ**

```java
// é…ç½®é©±åŠ¨çš„é€‚é…å™¨é€‰æ‹©
@Configuration
public class AdapterConfiguration {
    
    @Value("${sms.provider:aliyun}")
    private String smsProvider;
    
    @Value("${cache.type:redis}")
    private String cacheType;
    
    @Bean
    public SmsService smsService() {
        switch (smsProvider.toLowerCase()) {
            case "aliyun":
                return new AliyunSmsAdapter(aliyunAccessKey, aliyunSecretKey);
            case "tencent":
                return new TencentSmsAdapter(tencentSecretId, tencentSecretKey);
            default:
                return new MockSmsAdapter(); // é»˜è®¤çš„æµ‹è¯•å®ç°
        }
    }
    
    @Bean
    public CacheManager cacheManager() {
        CacheConfig config = new CacheConfig();
        return CacheManagerFactory.createCacheManager(
            CacheManagerFactory.CacheType.valueOf(cacheType.toUpperCase()), 
            config
        );
    }
}

// é€‚é…å™¨çš„ç›‘æ§å’Œæ—¥å¿—
public class MonitoredSmsAdapter implements SmsService {
    private final SmsService delegate;
    private final MeterRegistry meterRegistry;
    private final Logger logger = LoggerFactory.getLogger(MonitoredSmsAdapter.class);
    
    public MonitoredSmsAdapter(SmsService delegate, MeterRegistry meterRegistry) {
        this.delegate = delegate;
        this.meterRegistry = meterRegistry;
    }
    
    @Override
    public ApiResponse<String> sendSms(String phoneNumber, String message) {
        Timer.Sample sample = Timer.start(meterRegistry);
        
        try {
            logger.info("å‘é€çŸ­ä¿¡å¼€å§‹ï¼Œæ‰‹æœºå·: {}", maskPhoneNumber(phoneNumber));
            
            ApiResponse<String> result = delegate.sendSms(phoneNumber, message);
            
            if (result.isSuccess()) {
                meterRegistry.counter("sms.send.success").increment();
                logger.info("çŸ­ä¿¡å‘é€æˆåŠŸï¼Œæ‰‹æœºå·: {}, æ¶ˆæ¯ID: {}", 
                    maskPhoneNumber(phoneNumber), result.getData());
            } else {
                meterRegistry.counter("sms.send.failed").increment();
                logger.warn("çŸ­ä¿¡å‘é€å¤±è´¥ï¼Œæ‰‹æœºå·: {}, é”™è¯¯: {}", 
                    maskPhoneNumber(phoneNumber), result.getErrorMessage());
            }
            
            return result;
            
        } catch (Exception e) {
            meterRegistry.counter("sms.send.error").increment();
            logger.error("çŸ­ä¿¡å‘é€å¼‚å¸¸ï¼Œæ‰‹æœºå·: " + maskPhoneNumber(phoneNumber), e);
            throw e;
        } finally {
            sample.stop(Timer.builder("sms.send.duration").register(meterRegistry));
        }
    }
    
    private String maskPhoneNumber(String phoneNumber) {
        if (phoneNumber == null || phoneNumber.length() < 7) {
            return "***";
        }
        return phoneNumber.substring(0, 3) + "****" + phoneNumber.substring(7);
    }
}
```

---

## 8. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 8.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ é€‚é…å™¨æ¨¡å¼æœ¬è´¨ï¼šè§£å†³æ¥å£ä¸å…¼å®¹é—®é¢˜çš„æ¡¥æ¢
ğŸ”¸ ä¸¤ç§å®ç°æ–¹å¼ï¼šå¯¹è±¡é€‚é…å™¨ï¼ˆç»„åˆï¼‰å’Œç±»é€‚é…å™¨ï¼ˆç»§æ‰¿ï¼‰
ğŸ”¸ æ ¸å¿ƒä»·å€¼ï¼šè®©ä¸å…¼å®¹çš„æ¥å£èƒ½å¤ŸååŒå·¥ä½œ
ğŸ”¸ åº”ç”¨åœºæ™¯ï¼šç¬¬ä¸‰æ–¹é›†æˆã€ç³»ç»Ÿå‡çº§ã€å¤šå‚å•†æ”¯æŒ
ğŸ”¸ è®¾è®¡åŸåˆ™ï¼šå•ä¸€èŒè´£ã€æ¥å£ç»Ÿä¸€ã€ä¿æŒç®€å•
```

### 8.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ é€‚é…å™¨æ¨¡å¼çš„ä»·å€¼**
```
ä»£ç å¤ç”¨ï¼š
- æ— éœ€ä¿®æ”¹ç°æœ‰çš„ä¸šåŠ¡é€»è¾‘
- å……åˆ†åˆ©ç”¨ç¬¬ä¸‰æ–¹åº“çš„åŠŸèƒ½
- ä¿æŒç³»ç»Ÿçš„ç¨³å®šæ€§

çµæ´»åˆ‡æ¢ï¼š
- æ”¯æŒå¤šç§æŠ€æœ¯æ–¹æ¡ˆå¹¶å­˜
- ä¾¿äºæ€§èƒ½æµ‹è¯•å’Œå¯¹æ¯”
- é™ä½æŠ€æœ¯é€‰å‹é£é™©

å‘åå…¼å®¹ï¼š
- å¹³æ»‘å¤„ç†ç‰ˆæœ¬å‡çº§
- ä¿æŠ¤å†å²æŠ•èµ„
- é™ä½ç»´æŠ¤æˆæœ¬
```

**ğŸ”¹ é€‚é…å™¨æ¨¡å¼çš„æ³¨æ„äº‹é¡¹**
```
æ€§èƒ½è€ƒè™‘ï¼š
- é€‚é…å™¨ä¼šå¢åŠ è°ƒç”¨å±‚æ¬¡
- æ³¨æ„ç¼“å­˜å’Œè¿æ¥æ± çš„ä½¿ç”¨
- é¿å…è¿‡åº¦é€‚é…å¯¼è‡´æ€§èƒ½æŸå¤±

ç»´æŠ¤å¤æ‚åº¦ï¼š
- é€‚é…å™¨æ•°é‡ä¸å®œè¿‡å¤š
- ä¿æŒé€‚é…é€»è¾‘çš„ç®€å•æ€§
- åŠæ—¶æ¸…ç†ä¸å†ä½¿ç”¨çš„é€‚é…å™¨

æµ‹è¯•ç­–ç•¥ï¼š
- ä¸ºæ¯ä¸ªé€‚é…å™¨ç¼–å†™å•å…ƒæµ‹è¯•
- æµ‹è¯•å¼‚å¸¸æƒ…å†µçš„å¤„ç†
- éªŒè¯æ ¼å¼è½¬æ¢çš„æ­£ç¡®æ€§
```

### 8.3 å®é™…åº”ç”¨æŒ‡å¯¼


**ğŸ’¡ æœ€ä½³å®è·µæ€»ç»“**
```
è®¾è®¡é˜¶æ®µï¼š
âœ… åˆ†ææ¥å£ä¸å…¼å®¹çš„å…·ä½“åŸå› 
âœ… è®¾è®¡ç»Ÿä¸€çš„ç›®æ ‡æ¥å£
âœ… è€ƒè™‘æ€§èƒ½å’Œç»´æŠ¤æˆæœ¬

å®ç°é˜¶æ®µï¼š
âœ… ä¿æŒé€‚é…å™¨çš„å•ä¸€èŒè´£
âœ… ç»Ÿä¸€é”™è¯¯å¤„ç†å’Œæ—¥å¿—è®°å½•
âœ… æä¾›é…ç½®åŒ–çš„é€‚é…å™¨é€‰æ‹©

ç»´æŠ¤é˜¶æ®µï¼š
âœ… ç›‘æ§é€‚é…å™¨çš„æ€§èƒ½è¡¨ç°
âœ… åŠæ—¶æ›´æ–°å’Œä¼˜åŒ–é€‚é…é€»è¾‘
âœ… å®šæœŸè¯„ä¼°æŠ€æœ¯æ ˆçš„ç»Ÿä¸€æ€§
```

**ğŸ¯ é€‰æ‹©é€‚é…å™¨çš„å†³ç­–æ ‘**
```
é‡åˆ°æ¥å£ä¸å…¼å®¹æ—¶ï¼š

1. è¯„ä¼°é—®é¢˜è§„æ¨¡
   â”œâ”€ ç®€å•å·®å¼‚ â†’ è€ƒè™‘åŒ…è£…ç±»æˆ–å·¥å…·æ–¹æ³•
   â””â”€ å¤æ‚å·®å¼‚ â†’ ä½¿ç”¨é€‚é…å™¨æ¨¡å¼

2. åˆ†æä½¿ç”¨é¢‘ç‡
   â”œâ”€ ä¸€æ¬¡æ€§ä½¿ç”¨ â†’ ä¸´æ—¶è§£å†³æ–¹æ¡ˆ
   â””â”€ é¢‘ç¹ä½¿ç”¨ â†’ æ ‡å‡†é€‚é…å™¨

3. è€ƒè™‘æ€§èƒ½è¦æ±‚
   â”œâ”€ æ€§èƒ½æ•æ„Ÿ â†’ è¯„ä¼°é€‚é…å¼€é”€
   â””â”€ æ€§èƒ½è¦æ±‚ä¸€èˆ¬ â†’ ä½¿ç”¨é€‚é…å™¨

4. è¯„ä¼°ç»´æŠ¤æˆæœ¬
   â”œâ”€ æ¥å£ç¨³å®š â†’ é•¿æœŸé€‚é…å™¨
   â””â”€ æ¥å£å˜åŒ–é¢‘ç¹ â†’ è€ƒè™‘é‡æ„
```

**æ ¸å¿ƒè®°å¿†è¦ç‚¹**ï¼š
- é€‚é…å™¨æ˜¯è§£å†³æ¥å£ä¸å…¼å®¹çš„é€šç”¨æ–¹æ¡ˆ
- å¯¹è±¡é€‚é…å™¨æ¯”ç±»é€‚é…å™¨æ›´çµæ´»å®ç”¨
- ç»Ÿä¸€æ¥å£è®¾è®¡æ˜¯é€‚é…å™¨æˆåŠŸçš„å…³é”®
- é€‚é…å™¨è¦ä¿æŒç®€å•ï¼Œé¿å…æ·»åŠ ä¸šåŠ¡é€»è¾‘
- é…ç½®åŒ–é€‰æ‹©è®©ç³»ç»Ÿæ›´åŠ çµæ´»å¯ç»´æŠ¤