---
title: 3ã€åŸå‹æ¨¡å¼å…‹éš†ç­–ç•¥
---
## ğŸ“š ç›®å½•

1. [åŸå‹æ¨¡å¼åŸºç¡€å›é¡¾](#1-åŸå‹æ¨¡å¼åŸºç¡€å›é¡¾)
2. [å…‹éš†æ·±åº¦æ§åˆ¶ç­–ç•¥](#2-å…‹éš†æ·±åº¦æ§åˆ¶ç­–ç•¥)
3. [å¾ªç¯å¼•ç”¨å¤„ç†æŠ€æœ¯](#3-å¾ªç¯å¼•ç”¨å¤„ç†æŠ€æœ¯)
4. [ä¸å¯å…‹éš†å¯¹è±¡å¤„ç†](#4-ä¸å¯å…‹éš†å¯¹è±¡å¤„ç†)
5. [å…‹éš†æ€§èƒ½ä¼˜åŒ–æŠ€å·§](#5-å…‹éš†æ€§èƒ½ä¼˜åŒ–æŠ€å·§)
6. [å†…å­˜ç®¡ç†è€ƒè™‘](#6-å†…å­˜ç®¡ç†è€ƒè™‘)
7. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#7-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ¯ åŸå‹æ¨¡å¼åŸºç¡€å›é¡¾


### 1.1 ä»€ä¹ˆæ˜¯åŸå‹æ¨¡å¼

**ç®€å•ç†è§£**ï¼šåŸå‹æ¨¡å¼å°±åƒ**å¤å°æœº**ï¼Œé€šè¿‡å¤åˆ¶ç°æœ‰å¯¹è±¡æ¥åˆ›å»ºæ–°å¯¹è±¡ï¼Œè€Œä¸æ˜¯ä»å¤´å¼€å§‹æ„å»ºã€‚

```
ç”Ÿæ´»ä¸­çš„ä¾‹å­ï¼š
ğŸ  æˆ¿å±‹è®¾è®¡å›¾ â†’ å¤å°å¤šä»½ â†’ å»ºé€ å¤šæ ‹ç›¸åŒæˆ¿å­
ğŸ“„ åˆåŒæ¨¡æ¿ â†’ å¤å°å¡«å†™ â†’ ç”Ÿæˆå¤šä»½åˆåŒ
ğŸª é¥¼å¹²æ¨¡å…· â†’ é‡å¤ä½¿ç”¨ â†’ åˆ¶ä½œå¤§æ‰¹é¥¼å¹²

ç¨‹åºä¸­çš„åŸå‹æ¨¡å¼ï¼š
ğŸ“‹ å¯¹è±¡åŸå‹ â†’ å…‹éš†æ“ä½œ â†’ åˆ›å»ºæ–°å¯¹è±¡å®ä¾‹
```

### 1.2 ä¸ºä»€ä¹ˆéœ€è¦åŸå‹æ¨¡å¼


**ğŸ”¸ è§£å†³çš„æ ¸å¿ƒé—®é¢˜**
```
ä¼ ç»Ÿåˆ›å»ºå¯¹è±¡çš„é—®é¢˜ï¼š
â€¢ å¤æ‚å¯¹è±¡åˆå§‹åŒ–æˆæœ¬é«˜
â€¢ éœ€è¦å¤§é‡ç›¸åŒé…ç½®çš„å¯¹è±¡
â€¢ å¯¹è±¡åˆ›å»ºè¿‡ç¨‹ç¹çå¤æ‚
â€¢ æ— æ³•é¢„çŸ¥è¦åˆ›å»ºçš„å¯¹è±¡ç±»å‹

åŸå‹æ¨¡å¼çš„ä¼˜åŠ¿ï¼š
âœ… é¿å…é‡å¤çš„åˆå§‹åŒ–å·¥ä½œ
âœ… ç®€åŒ–å¯¹è±¡åˆ›å»ºè¿‡ç¨‹
âœ… æé«˜å¯¹è±¡åˆ›å»ºæ•ˆç‡
âœ… è¿è¡Œæ—¶åŠ¨æ€é…ç½®å¯¹è±¡
```

**ğŸ’¡ ç”Ÿæ´»ç±»æ¯”**
> å°±åƒåˆ¶ä½œé¥ºå­ï¼šç¬¬ä¸€ä¸ªé¥ºå­éœ€è¦å’Œé¢ã€è°ƒé¦…ã€æ“€çš®ï¼Œå¾ˆè´¹æ—¶é—´ã€‚ä½†åšå¥½ç¬¬ä¸€ä¸ªåï¼Œåé¢çš„é¥ºå­å°±æ˜¯"å¤åˆ¶"è¿™ä¸ªæ¨¡æ¿ï¼Œå¿«é€ŸåŒ…åˆ¶å³å¯ã€‚

### 1.3 åŸå‹æ¨¡å¼çš„åŸºæœ¬ç»“æ„


**ğŸ—ï¸ æ ¸å¿ƒç»„ä»¶**
```
åŸå‹æ¨¡å¼è§’è‰²ï¼š

ğŸ“‹ Prototypeï¼ˆæŠ½è±¡åŸå‹ï¼‰
â”œâ”€â”€ å®šä¹‰å…‹éš†æ–¹æ³•æ¥å£
â””â”€â”€ å£°æ˜clone()æ–¹æ³•

ğŸ”§ ConcretePrototypeï¼ˆå…·ä½“åŸå‹ï¼‰  
â”œâ”€â”€ å®ç°clone()æ–¹æ³•
â”œâ”€â”€ è¿”å›è‡ªèº«çš„å‰¯æœ¬
â””â”€â”€ åŒ…å«å®é™…çš„ä¸šåŠ¡é€»è¾‘

ğŸ‘¤ Clientï¼ˆå®¢æˆ·ç«¯ï¼‰
â”œâ”€â”€ ä½¿ç”¨åŸå‹å¯¹è±¡
â””â”€â”€ è°ƒç”¨clone()åˆ›å»ºæ–°å®ä¾‹
```

---

## 2. ğŸšï¸ å…‹éš†æ·±åº¦æ§åˆ¶ç­–ç•¥


### 2.1 æµ…å…‹éš† vs æ·±å…‹éš†


**ğŸ”¸ æµ…å…‹éš†ï¼ˆShallow Cloneï¼‰**
```
æ¦‚å¿µï¼šåªå¤åˆ¶å¯¹è±¡æœ¬èº«ï¼Œä¸å¤åˆ¶å†…éƒ¨å¼•ç”¨çš„å¯¹è±¡

å½¢è±¡æ¯”å–»ï¼š
ğŸ  å¤åˆ¶æˆ¿å­çš„é’¥åŒ™ â†’ å¤šæŠŠé’¥åŒ™å¼€åŒä¸€æ‰‡é—¨
ğŸ“± å¤åˆ¶æ‰‹æœºè”ç³»äºº â†’ å¤šä¸ªè”ç³»äººæŒ‡å‘åŒä¸€ä¸ªäºº

ç‰¹ç‚¹ï¼š
â€¢ å…‹éš†å¯¹è±¡ä¸åŸå¯¹è±¡å…±äº«å¼•ç”¨ç±»å‹å±æ€§
â€¢ ä¿®æ”¹å¼•ç”¨å±æ€§ä¼šå½±å“åŸå¯¹è±¡
â€¢ æ€§èƒ½å¥½ï¼Œå†…å­˜å ç”¨å°‘
â€¢ é€‚åˆç®€å•å¯¹è±¡æˆ–ä¸å˜å¯¹è±¡
```

```java
// æµ…å…‹éš†ç¤ºä¾‹
public class ShallowCloneExample implements Cloneable {
    private String name;
    private List<String> hobbies;
    
    @Override
    public ShallowCloneExample clone() throws CloneNotSupportedException {
        return (ShallowCloneExample) super.clone(); // æµ…å…‹éš†
    }
}

// ä½¿ç”¨æ•ˆæœæ¼”ç¤º
ShallowCloneExample original = new ShallowCloneExample();
original.getHobbies().add("é˜…è¯»");

ShallowCloneExample copy = original.clone();
copy.getHobbies().add("æ¸¸æ³³"); // åŸå¯¹è±¡çš„hobbiesä¹Ÿä¼šè¢«ä¿®æ”¹ï¼
```

**ğŸ”¸ æ·±å…‹éš†ï¼ˆDeep Cloneï¼‰**
```
æ¦‚å¿µï¼šä¸ä»…å¤åˆ¶å¯¹è±¡æœ¬èº«ï¼Œè¿˜é€’å½’å¤åˆ¶æ‰€æœ‰å¼•ç”¨çš„å¯¹è±¡

å½¢è±¡æ¯”å–»ï¼š
ğŸ  å¤åˆ¶æ•´æ ‹æˆ¿å­ â†’ ä¸¤æ ‹å®Œå…¨ç‹¬ç«‹çš„æˆ¿å­
ğŸ“± å¤åˆ¶æ•´ä¸ªæ‰‹æœº â†’ ä¸¤éƒ¨å®Œå…¨ç‹¬ç«‹çš„æ‰‹æœº

ç‰¹ç‚¹ï¼š
â€¢ å…‹éš†å¯¹è±¡ä¸åŸå¯¹è±¡å®Œå…¨ç‹¬ç«‹
â€¢ ä¿®æ”¹ä»»ä½•å±æ€§éƒ½ä¸ä¼šäº’ç›¸å½±å“
â€¢ æ€§èƒ½ç¨å·®ï¼Œå†…å­˜å ç”¨å¤š
â€¢ é€‚åˆå¤æ‚å¯¹è±¡æˆ–å¯å˜å¯¹è±¡
```

```java
// æ·±å…‹éš†ç¤ºä¾‹
public class DeepCloneExample implements Cloneable {
    private String name;
    private List<String> hobbies;
    
    @Override
    public DeepCloneExample clone() throws CloneNotSupportedException {
        DeepCloneExample cloned = (DeepCloneExample) super.clone();
        // æ·±å…‹éš†ï¼šåˆ›å»ºæ–°çš„List
        cloned.hobbies = new ArrayList<>(this.hobbies);
        return cloned;
    }
}
```

### 2.2 å…‹éš†æ·±åº¦é€‰æ‹©ç­–ç•¥


**ğŸ“Š é€‰æ‹©æŒ‡å¯¼åŸåˆ™**

| åœºæ™¯ç±»å‹ | **æ¨èç­–ç•¥** | **åŸå› ** | **ç¤ºä¾‹** |
|---------|------------|---------|---------|
| ğŸ”’ **ä¸å¯å˜å¯¹è±¡** | `æµ…å…‹éš†` | `å…±äº«å®‰å…¨ï¼ŒèŠ‚çœå†…å­˜` | `Stringã€Integer` |
| ğŸ“ **é…ç½®å¯¹è±¡** | `æ·±å…‹éš†` | `é¿å…é…ç½®æ±¡æŸ“` | `æ•°æ®åº“è¿æ¥é…ç½®` |
| ğŸ“Š **æ•°æ®ä¼ è¾“å¯¹è±¡** | `æ·±å…‹éš†` | `ç¡®ä¿æ•°æ®ç‹¬ç«‹æ€§` | `ç”¨æˆ·ä¿¡æ¯ã€è®¢å•æ•°æ®` |
| ğŸ® **æ¸¸æˆè§’è‰²** | `æ·±å…‹éš†` | `è§’è‰²çŠ¶æ€ç‹¬ç«‹` | `ç©å®¶å±æ€§ã€è£…å¤‡åˆ—è¡¨` |
| ğŸ“ˆ **ç¼“å­˜å¯¹è±¡** | `æµ…å…‹éš†` | `å…±äº«æ•°æ®ï¼Œæé«˜æ•ˆç‡` | `åªè¯»æ•°æ®ã€å¸¸é‡å¯¹è±¡` |

**ğŸ”§ æ··åˆå…‹éš†ç­–ç•¥**
```java
public class SmartCloneExample implements Cloneable {
    private String id;              // æµ…å…‹éš†ï¼šä¸å¯å˜
    private Date createTime;        // æ·±å…‹éš†ï¼šå¯å˜
    private List<String> tags;      // æ·±å…‹éš†ï¼šé›†åˆç±»å‹
    private Config sharedConfig;    // æµ…å…‹éš†ï¼šå…±äº«é…ç½®
    
    @Override
    public SmartCloneExample clone() throws CloneNotSupportedException {
        SmartCloneExample cloned = (SmartCloneExample) super.clone();
        
        // æœ‰é€‰æ‹©åœ°æ·±å…‹éš†
        cloned.createTime = (Date) this.createTime.clone();
        cloned.tags = new ArrayList<>(this.tags);
        // sharedConfigä¿æŒæµ…å…‹éš†ï¼Œå¤šä¸ªå¯¹è±¡å…±äº«
        
        return cloned;
    }
}
```

---

## 3. ğŸ”„ å¾ªç¯å¼•ç”¨å¤„ç†æŠ€æœ¯


### 3.1 ä»€ä¹ˆæ˜¯å¾ªç¯å¼•ç”¨é—®é¢˜


**ğŸ”¸ é—®é¢˜æè¿°**
```
å¾ªç¯å¼•ç”¨ï¼šå¯¹è±¡Aå¼•ç”¨å¯¹è±¡Bï¼Œå¯¹è±¡Båˆå¼•ç”¨å¯¹è±¡A

ç”Ÿæ´»ç±»æ¯”ï¼š
ğŸ‘¥ å¼ ä¸‰æ˜¯æå››çš„æœ‹å‹ â†â†’ æå››æ˜¯å¼ ä¸‰çš„æœ‹å‹
ğŸ¢ éƒ¨é—¨Aä¾èµ–éƒ¨é—¨B â†â†’ éƒ¨é—¨Bä¾èµ–éƒ¨é—¨A

ç¨‹åºä¸­çš„è¡¨ç°ï¼š
ğŸ”— ç”¨æˆ·å¯¹è±¡åŒ…å«è®¢å•åˆ—è¡¨
ğŸ”— è®¢å•å¯¹è±¡åˆå¼•ç”¨ç”¨æˆ·å¯¹è±¡
ğŸ”— å½¢æˆUser â†â†’ Orderçš„å¾ªç¯å¼•ç”¨
```

**âš ï¸ å…‹éš†æ—¶çš„é—®é¢˜**
```
é—®é¢˜ç°è±¡ï¼š
1. æ— é™é€’å½’ï¼šAå…‹éš†Bï¼ŒBå…‹éš†Aï¼ŒAå…‹éš†B...
2. æ ˆæº¢å‡ºï¼šStackOverflowError
3. å†…å­˜æ³„æ¼ï¼šåˆ›å»ºå¤§é‡é‡å¤å¯¹è±¡
4. ç¨‹åºå´©æºƒï¼šç³»ç»Ÿèµ„æºè€—å°½
```

### 3.2 å¾ªç¯å¼•ç”¨æ£€æµ‹æœºåˆ¶


**ğŸ” æ£€æµ‹ç­–ç•¥**
```java
public class CircularReferenceDetector {
    private Set<Object> visitedObjects = new HashSet<>();
    
    public boolean hasCircularReference(Object obj) {
        if (visitedObjects.contains(obj)) {
            return true; // å‘ç°å¾ªç¯å¼•ç”¨
        }
        
        visitedObjects.add(obj);
        // æ£€æŸ¥å¯¹è±¡çš„æ‰€æœ‰å¼•ç”¨å±æ€§...
        return false;
    }
}
```

**ğŸ¯ æ£€æµ‹æ—¶æœº**
```
å…‹éš†å‰æ£€æµ‹ï¼š
âœ… é¢„é˜²æ€§æ£€æŸ¥ï¼Œé¿å…é—®é¢˜å‘ç”Ÿ
âœ… å¯ä»¥æå‰ç»™å‡ºè­¦å‘Šä¿¡æ¯
âŒ å¢åŠ å…‹éš†å‰çš„å¼€é”€

å…‹éš†ä¸­æ£€æµ‹ï¼š
âœ… å®æ—¶å‘ç°é—®é¢˜ï¼ŒåŠæ—¶åœæ­¢
âœ… ç²¾ç¡®å®šä½å¾ªç¯å¼•ç”¨ä½ç½®
âŒ å¯èƒ½å·²ç»åˆ›å»ºéƒ¨åˆ†å¯¹è±¡
```

### 3.3 å¾ªç¯å¼•ç”¨è§£å†³æ–¹æ¡ˆ


**ğŸ”§ æ–¹æ¡ˆ1ï¼šå¼•ç”¨æ˜ å°„è¡¨**
```java
public class SafeCloner {
    private Map<Object, Object> cloneMap = new HashMap<>();
    
    public Object safeClone(Object original) {
        // æ£€æŸ¥æ˜¯å¦å·²ç»å…‹éš†è¿‡
        if (cloneMap.containsKey(original)) {
            return cloneMap.get(original); // è¿”å›å·²å…‹éš†çš„å¯¹è±¡
        }
        
        // åˆ›å»ºæ–°å¯¹è±¡
        Object cloned = createClone(original);
        cloneMap.put(original, cloned); // è®°å½•æ˜ å°„å…³ç³»
        
        // å…‹éš†å±æ€§ï¼ˆæ­¤æ—¶å¯ä»¥å®‰å…¨å¤„ç†å¾ªç¯å¼•ç”¨ï¼‰
        cloneProperties(original, cloned);
        
        return cloned;
    }
}
```

**ğŸ”§ æ–¹æ¡ˆ2ï¼šé€’å½’æ·±åº¦é™åˆ¶**
```java
public class DepthLimitedCloner {
    private static final int MAX_DEPTH = 10;
    
    public Object cloneWithDepthLimit(Object obj, int currentDepth) {
        if (currentDepth > MAX_DEPTH) {
            return null; // è¶…è¿‡æ·±åº¦é™åˆ¶ï¼Œåœæ­¢å…‹éš†
        }
        
        // æ­£å¸¸å…‹éš†é€»è¾‘
        return doClone(obj, currentDepth + 1);
    }
}
```

**ğŸ”§ æ–¹æ¡ˆ3ï¼šæ ‡è®°æ¸…é™¤æ³•**
```java
public class MarkAndSweepCloner {
    private Set<Object> cloning = new HashSet<>();
    
    public Object clone(Object obj) {
        if (cloning.contains(obj)) {
            // æ­£åœ¨å…‹éš†ä¸­ï¼Œè¿”å›å ä½ç¬¦æˆ–null
            return createPlaceholder(obj);
        }
        
        cloning.add(obj);
        try {
            return doClone(obj);
        } finally {
            cloning.remove(obj); // æ¸…é™¤æ ‡è®°
        }
    }
}
```

---

## 4. âš ï¸ ä¸å¯å…‹éš†å¯¹è±¡å¤„ç†


### 4.1 è¯†åˆ«ä¸å¯å…‹éš†å¯¹è±¡


**ğŸš« å¸¸è§ä¸å¯å…‹éš†å¯¹è±¡ç±»å‹**
```
ç³»ç»Ÿèµ„æºç±»ï¼š
â€¢ æ–‡ä»¶å¥æŸ„ (FileInputStream)
â€¢ ç½‘ç»œè¿æ¥ (Socket, HttpConnection)  
â€¢ æ•°æ®åº“è¿æ¥ (Connection)
â€¢ çº¿ç¨‹å¯¹è±¡ (Thread)

å•ä¾‹å¯¹è±¡ç±»ï¼š
â€¢ é…ç½®ç®¡ç†å™¨ (ConfigManager)
â€¢ æ—¥å¿—è®°å½•å™¨ (Logger)
â€¢ ç¼“å­˜ç®¡ç†å™¨ (CacheManager)

å¤–éƒ¨ä¾èµ–ç±»ï¼š
â€¢ ç¬¬ä¸‰æ–¹APIå®¢æˆ·ç«¯
â€¢ ç¡¬ä»¶è®¾å¤‡é©±åŠ¨
â€¢ æ“ä½œç³»ç»ŸæœåŠ¡
```

**ğŸ” æ£€æµ‹æ–¹æ³•**
```java
public class CloneabilityChecker {
    
    public boolean isCloneable(Object obj) {
        // æ£€æŸ¥1ï¼šæ˜¯å¦å®ç°Cloneableæ¥å£
        if (!(obj instanceof Cloneable)) {
            return false;
        }
        
        // æ£€æŸ¥2ï¼šæ˜¯å¦ä¸ºç³»ç»Ÿèµ„æº
        if (isSystemResource(obj)) {
            return false;
        }
        
        // æ£€æŸ¥3ï¼šæ˜¯å¦ä¸ºå•ä¾‹å¯¹è±¡
        if (isSingleton(obj)) {
            return false;
        }
        
        return true;
    }
    
    private boolean isSystemResource(Object obj) {
        return obj instanceof InputStream || 
               obj instanceof OutputStream ||
               obj instanceof Socket ||
               obj instanceof Thread;
    }
}
```

### 4.2 ä¸å¯å…‹éš†å¯¹è±¡å¤„ç†ç­–ç•¥


**ğŸ“‹ å¤„ç†ç­–ç•¥å¯¹æ¯”**

| ç­–ç•¥ | **é€‚ç”¨åœºæ™¯** | **ä¼˜ç‚¹** | **ç¼ºç‚¹** | **ç¤ºä¾‹** |
|------|------------|---------|---------|---------|
| ğŸ”— **ä¿æŒå¼•ç”¨** | `å…±äº«å®‰å…¨çš„å¯¹è±¡` | `ç®€å•ç›´æ¥` | `å¯èƒ½å¯¼è‡´è€¦åˆ` | `æ—¥å¿—è®°å½•å™¨` |
| ğŸ”„ **é‡æ–°åˆ›å»º** | `å¯é‡å»ºçš„èµ„æº` | `å®Œå…¨ç‹¬ç«‹` | `åˆ›å»ºæˆæœ¬é«˜` | `æ•°æ®åº“è¿æ¥` |
| ğŸš« **è®¾ä¸ºnull** | `å¯é€‰çš„ä¾èµ–` | `é¿å…é—®é¢˜` | `åŠŸèƒ½ç¼ºå¤±` | `ä¸´æ—¶æ–‡ä»¶å¥æŸ„` |
| âš¡ **å»¶è¿Ÿåˆå§‹åŒ–** | `æŒ‰éœ€ä½¿ç”¨çš„èµ„æº` | `èŠ‚çœèµ„æº` | `é€»è¾‘å¤æ‚` | `ç½‘ç»œè¿æ¥` |

**ğŸ”§ å®ç°ç¤ºä¾‹**
```java
public class SmartObjectCloner {
    
    public Object handleUncloneableObject(Object obj, String fieldName) {
        if (obj instanceof Logger) {
            // ç­–ç•¥1ï¼šä¿æŒå¼•ç”¨ï¼ˆæ—¥å¿—å™¨å¯ä»¥å…±äº«ï¼‰
            return obj;
        }
        
        if (obj instanceof Connection) {
            // ç­–ç•¥2ï¼šé‡æ–°åˆ›å»ºï¼ˆæ•°æ®åº“è¿æ¥éœ€è¦ç‹¬ç«‹ï¼‰
            return createNewConnection();
        }
        
        if (obj instanceof FileInputStream) {
            // ç­–ç•¥3ï¼šè®¾ä¸ºnullï¼ˆæ–‡ä»¶æµä¸èƒ½å…±äº«ï¼‰
            return null;
        }
        
        if (obj instanceof Socket) {
            // ç­–ç•¥4ï¼šå»¶è¿Ÿåˆå§‹åŒ–ï¼ˆç½‘ç»œè¿æ¥æŒ‰éœ€åˆ›å»ºï¼‰
            return new LazySocketInitializer();
        }
        
        throw new CloneNotSupportedException("æ— æ³•å¤„ç†çš„å¯¹è±¡ç±»å‹: " + obj.getClass());
    }
}
```

**ğŸ’¡ æœ€ä½³å®è·µå»ºè®®**
```
è®¾è®¡åŸåˆ™ï¼š
ğŸ¯ åˆ†ç¦»å…³æ³¨ç‚¹ï¼šä¸šåŠ¡å¯¹è±¡ä¸èµ„æºå¯¹è±¡åˆ†ç¦»
ğŸ¯ ä¾èµ–æ³¨å…¥ï¼šé€šè¿‡æ„é€ å‡½æ•°æˆ–setteræ³¨å…¥èµ„æº
ğŸ¯ å·¥å‚æ¨¡å¼ï¼šä½¿ç”¨å·¥å‚åˆ›å»ºä¸å¯å…‹éš†çš„èµ„æº
ğŸ¯ ä»£ç†æ¨¡å¼ï¼šä¸ºä¸å¯å…‹éš†å¯¹è±¡åˆ›å»ºä»£ç†

ä»£ç ç¤ºä¾‹ï¼š
class User implements Cloneable {
    private String name;
    private transient Logger logger; // æ ‡è®°ä¸ºä¸å¯åºåˆ—åŒ–
    
    @Override
    public User clone() throws CloneNotSupportedException {
        User cloned = (User) super.clone();
        cloned.logger = LoggerFactory.getLogger(User.class); // é‡æ–°è·å–
        return cloned;
    }
}
```

---

## 5. âš¡ å…‹éš†æ€§èƒ½ä¼˜åŒ–æŠ€å·§


### 5.1 æ€§èƒ½ç“¶é¢ˆåˆ†æ


**ğŸ“Š å…‹éš†æ€§èƒ½å½±å“å› ç´ **
```
å½±å“æ€§èƒ½çš„ä¸»è¦å› ç´ ï¼š

ğŸ”¸ å¯¹è±¡å¤æ‚åº¦
â€¢ å±æ€§æ•°é‡ï¼šå±æ€§è¶Šå¤šï¼Œå…‹éš†è¶Šæ…¢
â€¢ åµŒå¥—æ·±åº¦ï¼šå±‚çº§è¶Šæ·±ï¼Œé€’å½’è¶Šå¤š
â€¢ é›†åˆå¤§å°ï¼šé›†åˆå…ƒç´ è¶Šå¤šï¼Œå¤åˆ¶è¶Šæ…¢

ğŸ”¸ å…‹éš†æ–¹å¼
â€¢ åå°„å…‹éš†ï¼šé€šç”¨ä½†æ…¢
â€¢ åºåˆ—åŒ–å…‹éš†ï¼šå®Œæ•´ä½†é‡
â€¢ æ‰‹åŠ¨å…‹éš†ï¼šå¿«é€Ÿä½†ç¹ç

ğŸ”¸ å†…å­˜åˆ†é…
â€¢ å¯¹è±¡åˆ›å»ºï¼šnewæ“ä½œçš„å¼€é”€
â€¢ åƒåœ¾å›æ”¶ï¼šé¢‘ç¹GCå½±å“æ€§èƒ½
â€¢ å†…å­˜ç¢ç‰‡ï¼šå½±å“åˆ†é…æ•ˆç‡
```

**â±ï¸ æ€§èƒ½æµ‹è¯•å¯¹æ¯”**
```
æµ‹è¯•æ•°æ®ï¼ˆå…‹éš†1000ä¸ªå¤æ‚å¯¹è±¡ï¼‰ï¼š

æ‰‹åŠ¨å…‹éš†ï¼š      ~5ms   â­â­â­â­â­
Apache Commons: ~15ms  â­â­â­â­
åŸç”Ÿclone():    ~25ms  â­â­â­
åºåˆ—åŒ–å…‹éš†ï¼š    ~100ms â­â­
åå°„å…‹éš†ï¼š      ~200ms â­
```

### 5.2 é«˜æ•ˆå…‹éš†æŠ€æœ¯


**ğŸš€ æŠ€æœ¯1ï¼šå¯¹è±¡æ± å¤ç”¨**
```java
public class ObjectPoolCloner<T> {
    private Queue<T> objectPool = new ConcurrentLinkedQueue<>();
    private Supplier<T> objectFactory;
    
    public T borrowObject() {
        T obj = objectPool.poll();
        if (obj == null) {
            obj = objectFactory.get(); // åˆ›å»ºæ–°å¯¹è±¡
        }
        return obj;
    }
    
    public void returnObject(T obj) {
        resetObject(obj); // é‡ç½®å¯¹è±¡çŠ¶æ€
        objectPool.offer(obj); // æ”¾å›å¯¹è±¡æ± 
    }
}
```

**ğŸš€ æŠ€æœ¯2ï¼šå±æ€§çº§åˆ«ç¼“å­˜**
```java
public class CachedCloner {
    private Map<String, Object> propertyCache = new ConcurrentHashMap<>();
    
    public Object cloneWithCache(Object original) {
        String cacheKey = generateKey(original);
        
        // æ£€æŸ¥ç¼“å­˜
        if (propertyCache.containsKey(cacheKey)) {
            return propertyCache.get(cacheKey);
        }
        
        // æ‰§è¡Œå…‹éš†
        Object cloned = performClone(original);
        
        // ç¼“å­˜ç»“æœï¼ˆé€‚ç”¨äºä¸å˜å¯¹è±¡ï¼‰
        propertyCache.put(cacheKey, cloned);
        
        return cloned;
    }
}
```

**ğŸš€ æŠ€æœ¯3ï¼šæ‰¹é‡å…‹éš†ä¼˜åŒ–**
```java
public class BatchCloner {
    
    public <T> List<T> cloneBatch(List<T> originals) {
        // é¢„åˆ†é…å®¹é‡ï¼Œé¿å…Listæ‰©å®¹
        List<T> clones = new ArrayList<>(originals.size());
        
        // å¤ç”¨å…‹éš†ä¸Šä¸‹æ–‡ï¼Œå‡å°‘åˆå§‹åŒ–å¼€é”€
        CloneContext context = new CloneContext();
        
        for (T original : originals) {
            clones.add(cloneWithContext(original, context));
        }
        
        return clones;
    }
}
```

### 5.3 å†…å­˜ä¼˜åŒ–ç­–ç•¥


**ğŸ§  å†…å­˜ä½¿ç”¨ä¼˜åŒ–**
```
ä¼˜åŒ–ç­–ç•¥ï¼š

ğŸ”¸ å»¶è¿Ÿå…‹éš†
â€¢ åªåœ¨çœŸæ­£éœ€è¦æ—¶æ‰æ‰§è¡Œå…‹éš†
â€¢ é€‚ç”¨äºå¯èƒ½ä¸ä¼šè¢«ä½¿ç”¨çš„å¯¹è±¡

ğŸ”¸ å¢é‡å…‹éš†  
â€¢ åªå…‹éš†å‘ç”Ÿå˜åŒ–çš„éƒ¨åˆ†
â€¢ é€‚ç”¨äºå¤§å¯¹è±¡çš„å°å¹…ä¿®æ”¹

ğŸ”¸ å…±äº«ä¸å˜éƒ¨åˆ†
â€¢ ä¸å¯å˜å¯¹è±¡å¯ä»¥å®‰å…¨å…±äº«
â€¢ å‡å°‘é‡å¤çš„å†…å­˜å ç”¨

ğŸ”¸ å†…å­˜æ± ç®¡ç†
â€¢ é¢„åˆ†é…å†…å­˜å—
â€¢ å‡å°‘é¢‘ç¹çš„å†…å­˜åˆ†é…
```

```java
public class MemoryEfficientCloner {
    // å»¶è¿Ÿå…‹éš†ç¤ºä¾‹
    public class LazyClone<T> {
        private T original;
        private T cloned;
        private boolean isCloned = false;
        
        public T get() {
            if (!isCloned) {
                cloned = performClone(original);
                isCloned = true;
            }
            return cloned;
        }
    }
    
    // å¢é‡å…‹éš†ç¤ºä¾‹
    public Object incrementalClone(Object original, Set<String> changedFields) {
        Object cloned = shallowClone(original);
        
        // åªå…‹éš†å‘ç”Ÿå˜åŒ–çš„å­—æ®µ
        for (String field : changedFields) {
            deepCloneField(original, cloned, field);
        }
        
        return cloned;
    }
}
```

---

## 6. ğŸ’¾ å†…å­˜ç®¡ç†è€ƒè™‘


### 6.1 å†…å­˜æ³„æ¼é¢„é˜²


**ğŸš¨ å¸¸è§å†…å­˜æ³„æ¼åœºæ™¯**
```
å…‹éš†ç›¸å…³çš„å†…å­˜æ³„æ¼ï¼š

ğŸ”¸ å¾ªç¯å¼•ç”¨æœªå¤„ç†
â€¢ å¯¹è±¡Aå¼•ç”¨Bï¼ŒBå¼•ç”¨A
â€¢ åƒåœ¾æ”¶é›†å™¨æ— æ³•å›æ”¶
â€¢ è§£å†³ï¼šä½¿ç”¨å¼±å¼•ç”¨æˆ–æ‰‹åŠ¨æ–­å¼€

ğŸ”¸ å…‹éš†æ˜ å°„è¡¨æœªæ¸…ç†
â€¢ å…‹éš†è¿‡ç¨‹ä¸­çš„ä¸´æ—¶æ˜ å°„
â€¢ é•¿æœŸæŒæœ‰åŸå¯¹è±¡å¼•ç”¨
â€¢ è§£å†³ï¼šåŠæ—¶æ¸…ç†æ˜ å°„è¡¨

ğŸ”¸ ç›‘å¬å™¨æœªç§»é™¤
â€¢ å…‹éš†å¯¹è±¡ä»æŒæœ‰ç›‘å¬å™¨
â€¢ è¢«ç›‘å¬å¯¹è±¡æ— æ³•å›æ”¶
â€¢ è§£å†³ï¼šå…‹éš†æ—¶ç§»é™¤ç›‘å¬å™¨
```

**ğŸ›¡ï¸ å†…å­˜æ³„æ¼é˜²æŠ¤**
```java
public class MemorySafeCloner {
    private ThreadLocal<Map<Object, Object>> cloneContext = 
        new ThreadLocal<Map<Object, Object>>() {
            @Override
            protected Map<Object, Object> initialValue() {
                return new IdentityHashMap<>();
            }
        };
    
    public Object clone(Object original) {
        try {
            return doClone(original);
        } finally {
            // ç¡®ä¿æ¸…ç†çº¿ç¨‹æœ¬åœ°å˜é‡
            cloneContext.remove();
        }
    }
    
    private Object doClone(Object obj) {
        Map<Object, Object> context = cloneContext.get();
        
        // æ£€æŸ¥æ˜¯å¦å·²å…‹éš†ï¼ˆé˜²æ­¢å¾ªç¯å¼•ç”¨ï¼‰
        if (context.containsKey(obj)) {
            return context.get(obj);
        }
        
        Object cloned = performClone(obj);
        context.put(obj, cloned);
        
        return cloned;
    }
}
```

### 6.2 åƒåœ¾å›æ”¶å‹å¥½è®¾è®¡


**â™»ï¸ GCå‹å¥½çš„å…‹éš†è®¾è®¡**
```
è®¾è®¡åŸåˆ™ï¼š

ğŸ”¸ é¿å…é•¿æœŸæŒæœ‰å¼•ç”¨
â€¢ å…‹éš†å®ŒæˆååŠæ—¶é‡Šæ”¾ä¸´æ—¶å¯¹è±¡
â€¢ ä½¿ç”¨å±€éƒ¨å˜é‡è€Œéæˆå‘˜å˜é‡
â€¢ è€ƒè™‘ä½¿ç”¨å¼±å¼•ç”¨

ğŸ”¸ å‡å°‘å¯¹è±¡åˆ›å»ºé¢‘ç‡
â€¢ å¤ç”¨ä¸´æ—¶å¯¹è±¡
â€¢ ä½¿ç”¨å¯¹è±¡æ± 
â€¢ æ‰¹é‡å¤„ç†å‡å°‘GCå‹åŠ›

ğŸ”¸ ä¼˜åŒ–å¯¹è±¡å¤§å°
â€¢ ç§»é™¤ä¸å¿…è¦çš„å­—æ®µ
â€¢ ä½¿ç”¨åŸå§‹ç±»å‹è€ŒéåŒ…è£…ç±»å‹
â€¢ è€ƒè™‘æ•°æ®å‹ç¼©
```

```java
public class GCFriendlyCloner {
    
    // ä½¿ç”¨å¯¹è±¡æ± å‡å°‘GCå‹åŠ›
    private final ObjectPool<StringBuilder> stringBuilderPool = 
        new ObjectPool<>(StringBuilder::new);
    
    public String cloneAndProcess(String original) {
        StringBuilder sb = stringBuilderPool.borrow();
        try {
            // ä½¿ç”¨StringBuilderå¤„ç†å­—ç¬¦ä¸²
            sb.append(original).append("_copy");
            return sb.toString();
        } finally {
            sb.setLength(0); // æ¸…ç©ºå†…å®¹
            stringBuilderPool.returnObject(sb); // å½’è¿˜å¯¹è±¡æ± 
        }
    }
    
    // ä½¿ç”¨å¼±å¼•ç”¨é¿å…å†…å­˜æ³„æ¼
    private WeakHashMap<Object, Object> cloneCache = new WeakHashMap<>();
    
    public Object cloneWithWeakCache(Object original) {
        Object cached = cloneCache.get(original);
        if (cached != null) {
            return cached;
        }
        
        Object cloned = performClone(original);
        cloneCache.put(original, cloned); // å¼±å¼•ç”¨ï¼Œå¯è¢«GCå›æ”¶
        
        return cloned;
    }
}
```

### 6.3 å†…å­˜ç›‘æ§ä¸è°ƒä¼˜


**ğŸ“Š å†…å­˜ä½¿ç”¨ç›‘æ§**
```java
public class CloneMemoryMonitor {
    private long cloneCount = 0;
    private long totalMemoryUsed = 0;
    
    public Object monitoredClone(Object original) {
        long beforeMemory = getUsedMemory();
        
        Object cloned = performClone(original);
        
        long afterMemory = getUsedMemory();
        long memoryDelta = afterMemory - beforeMemory;
        
        // è®°å½•ç»Ÿè®¡ä¿¡æ¯
        cloneCount++;
        totalMemoryUsed += memoryDelta;
        
        // å†…å­˜ä½¿ç”¨æŠ¥è­¦
        if (memoryDelta > MEMORY_THRESHOLD) {
            logger.warn("å…‹éš†æ“ä½œå†…å­˜ä½¿ç”¨è¿‡é«˜: {}MB", memoryDelta / 1024 / 1024);
        }
        
        return cloned;
    }
    
    private long getUsedMemory() {
        Runtime runtime = Runtime.getRuntime();
        return runtime.totalMemory() - runtime.freeMemory();
    }
}
```

**âš¡ æ€§èƒ½è°ƒä¼˜å»ºè®®**
```
è°ƒä¼˜ç­–ç•¥ï¼š

ğŸ¯ ç›‘æ§å…³é”®æŒ‡æ ‡
â€¢ å…‹éš†è€—æ—¶ç»Ÿè®¡
â€¢ å†…å­˜ä½¿ç”¨é‡å˜åŒ–
â€¢ GCé¢‘ç‡å’Œè€—æ—¶
â€¢ å¯¹è±¡åˆ›å»ºæ•°é‡

ğŸ¯ è®¾ç½®åˆç†é˜ˆå€¼
â€¢ å•æ¬¡å…‹éš†å†…å­˜ä¸Šé™
â€¢ å…‹éš†æ·±åº¦é™åˆ¶
â€¢ å¯¹è±¡æ± å¤§å°æ§åˆ¶
â€¢ ç¼“å­˜å®¹é‡é™åˆ¶

ğŸ¯ ä¼˜åŒ–çƒ­ç‚¹è·¯å¾„
â€¢ è¯†åˆ«é¢‘ç¹å…‹éš†çš„å¯¹è±¡
â€¢ ä¼˜åŒ–å…‹éš†ç®—æ³•
â€¢ è€ƒè™‘ç¼“å­˜ç­–ç•¥
â€¢ ä½¿ç”¨æ›´é«˜æ•ˆçš„æ•°æ®ç»“æ„
```

---

## 7. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 7.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ å…‹éš†æ·±åº¦æ§åˆ¶ï¼šæµ…å…‹éš†vsæ·±å…‹éš†ï¼Œæ ¹æ®éœ€æ±‚é€‰æ‹©åˆé€‚ç­–ç•¥
ğŸ”¸ å¾ªç¯å¼•ç”¨å¤„ç†ï¼šä½¿ç”¨æ˜ å°„è¡¨ã€æ·±åº¦é™åˆ¶ã€æ ‡è®°æ¸…é™¤ç­‰æŠ€æœ¯
ğŸ”¸ ä¸å¯å…‹éš†å¯¹è±¡ï¼šè¯†åˆ«å¹¶åˆç†å¤„ç†ç³»ç»Ÿèµ„æºã€å•ä¾‹ç­‰ç‰¹æ®Šå¯¹è±¡
ğŸ”¸ æ€§èƒ½ä¼˜åŒ–ï¼šå¯¹è±¡æ± ã€ç¼“å­˜ã€æ‰¹é‡å¤„ç†ç­‰æå‡å…‹éš†æ•ˆç‡
ğŸ”¸ å†…å­˜ç®¡ç†ï¼šé¢„é˜²å†…å­˜æ³„æ¼ï¼Œè®¾è®¡GCå‹å¥½çš„å…‹éš†æ–¹æ¡ˆ
```

### 7.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ ä½•æ—¶é€‰æ‹©æµ…å…‹éš†vsæ·±å…‹éš†**
```
é€‰æ‹©åŸåˆ™ï¼š
â€¢ ä¸å¯å˜å¯¹è±¡ â†’ æµ…å…‹éš†ï¼ˆå®‰å…¨ä¸”é«˜æ•ˆï¼‰
â€¢ å¯å˜å¯¹è±¡ä¸”éœ€è¦ç‹¬ç«‹æ€§ â†’ æ·±å…‹éš†
â€¢ éƒ¨åˆ†å…±äº«éƒ¨åˆ†ç‹¬ç«‹ â†’ æ··åˆå…‹éš†ç­–ç•¥
â€¢ æ€§èƒ½æ•æ„Ÿåœºæ™¯ â†’ ä¼˜å…ˆè€ƒè™‘æµ…å…‹éš†
```

**ğŸ”¹ å¾ªç¯å¼•ç”¨é—®é¢˜çš„æœ¬è´¨**
```
æ ¹æœ¬åŸå› ï¼š
â€¢ å¯¹è±¡é—´çš„åŒå‘æˆ–å¤šå‘å¼•ç”¨å…³ç³»
â€¢ å…‹éš†è¿‡ç¨‹ä¸­çš„æ— é™é€’å½’
â€¢ ç¼ºä¹è®¿é—®è®°å½•å’Œé‡å¤æ£€æµ‹æœºåˆ¶

è§£å†³æ€è·¯ï¼š
â€¢ è®°å½•å·²è®¿é—®å¯¹è±¡ï¼ˆæ˜ å°„è¡¨ï¼‰
â€¢ é™åˆ¶é€’å½’æ·±åº¦ï¼ˆæ·±åº¦æ§åˆ¶ï¼‰
â€¢ æ ‡è®°æ­£åœ¨å¤„ç†çš„å¯¹è±¡ï¼ˆé˜²é‡å…¥ï¼‰
```

**ğŸ”¹ æ€§èƒ½ä¼˜åŒ–çš„æ ¸å¿ƒç­–ç•¥**
```
ä¼˜åŒ–é‡ç‚¹ï¼š
â€¢ å‡å°‘å¯¹è±¡åˆ›å»ºï¼šå¤ç”¨ã€æ± åŒ–ã€ç¼“å­˜
â€¢ å‡å°‘å†…å­˜åˆ†é…ï¼šé¢„åˆ†é…ã€æ‰¹é‡å¤„ç†
â€¢ å‡å°‘GCå‹åŠ›ï¼šå¼±å¼•ç”¨ã€åŠæ—¶é‡Šæ”¾
â€¢ æé«˜ç®—æ³•æ•ˆç‡ï¼šæ‰‹åŠ¨å…‹éš†ã€å¢é‡å…‹éš†
```

### 7.3 å®é™…åº”ç”¨æŒ‡å¯¼


**ğŸ“ å­¦ä¹ æ£€æŸ¥ç‚¹**
- [ ] èƒ½å¤ŸåŒºåˆ†æµ…å…‹éš†å’Œæ·±å…‹éš†çš„ä½¿ç”¨åœºæ™¯
- [ ] ç†è§£å¾ªç¯å¼•ç”¨é—®é¢˜çš„äº§ç”Ÿå’Œè§£å†³æ–¹æ³•  
- [ ] æŒæ¡ä¸å¯å…‹éš†å¯¹è±¡çš„è¯†åˆ«å’Œå¤„ç†ç­–ç•¥
- [ ] äº†è§£å…‹éš†æ€§èƒ½ä¼˜åŒ–çš„å¸¸ç”¨æŠ€æœ¯
- [ ] å…·å¤‡å†…å­˜å®‰å…¨çš„å…‹éš†è®¾è®¡èƒ½åŠ›

**ğŸ¯ è®°å¿†å£è¯€**
> åŸå‹å…‹éš†æœ‰ç­–ç•¥ï¼Œæ·±æµ…é€‰æ‹©çœ‹éœ€æ±‚
> å¾ªç¯å¼•ç”¨è¦è®°å½•ï¼Œä¸å¯å…‹éš†å·§å¤„ç†  
> æ€§èƒ½ä¼˜åŒ–é å¤ç”¨ï¼Œå†…å­˜å®‰å…¨é˜²æ³„æ¼

**ğŸš€ å¿«é€Ÿä¸Šæ‰‹**
1ï¸âƒ£ **ç¬¬ä¸€æ­¥**ï¼šç¡®å®šå…‹éš†æ·±åº¦éœ€æ±‚ï¼ˆæµ…å…‹éš†è¿˜æ˜¯æ·±å…‹éš†ï¼‰
2ï¸âƒ£ **ç¬¬äºŒæ­¥**ï¼šæ£€æŸ¥æ˜¯å¦å­˜åœ¨å¾ªç¯å¼•ç”¨æˆ–ä¸å¯å…‹éš†å¯¹è±¡
3ï¸âƒ£ **ç¬¬ä¸‰æ­¥**ï¼šé€‰æ‹©åˆé€‚çš„å…‹éš†å®ç°æ–¹å¼ï¼ˆæ‰‹åŠ¨ã€åºåˆ—åŒ–ã€å·¥å…·åº“ï¼‰
4ï¸âƒ£ **ç¬¬å››æ­¥**ï¼šè€ƒè™‘æ€§èƒ½ä¼˜åŒ–å’Œå†…å­˜ç®¡ç†ç­–ç•¥

**ğŸ’¡ å…³é”®æ´å¯Ÿ**
> åŸå‹æ¨¡å¼çš„å…‹éš†ç­–ç•¥è®¾è®¡ï¼Œæœ¬è´¨ä¸Šæ˜¯åœ¨**å¤åˆ¶å®Œæ•´æ€§**ã€**æ€§èƒ½æ•ˆç‡**ã€**å†…å­˜å®‰å…¨**ä¸‰è€…ä¹‹é—´å¯»æ‰¾å¹³è¡¡ç‚¹ã€‚ç†è§£ä¸šåŠ¡éœ€æ±‚å’ŒæŠ€æœ¯çº¦æŸï¼Œé€‰æ‹©æœ€åˆé€‚çš„å…‹éš†ç­–ç•¥ï¼Œæ¯”ç›²ç›®è¿½æ±‚"å®Œç¾"çš„æ·±å…‹éš†æ›´é‡è¦ã€‚

**ğŸ”— çŸ¥è¯†å…³è”**
- **å‰ç½®çŸ¥è¯†**ï¼š[Javaå¯¹è±¡å…‹éš†æœºåˆ¶](#) | [å†…å­˜ç®¡ç†åŸºç¡€](#)
- **ç›¸å…³æ¨¡å¼**ï¼š[å»ºé€ è€…æ¨¡å¼](#) | [å·¥å‚æ¨¡å¼](#)  
- **åç»­å­¦ä¹ **ï¼š[åºåˆ—åŒ–å…‹éš†æŠ€æœ¯](#) | [å¯¹è±¡æ± è®¾è®¡æ¨¡å¼](#)

### 7.4 å¸¸è§è¯¯åŒºä¸æœ€ä½³å®è·µ


**âŒ å¸¸è§è¯¯åŒº**
```
è¯¯åŒº1ï¼šè®¤ä¸ºæ·±å…‹éš†æ€»æ˜¯æ¯”æµ…å…‹éš†å¥½
æ­£è§£ï¼šåº”è¯¥æ ¹æ®å…·ä½“éœ€æ±‚é€‰æ‹©ï¼Œæµ…å…‹éš†åœ¨å¾ˆå¤šåœºæ™¯ä¸‹æ›´åˆé€‚

è¯¯åŒº2ï¼šå¿½è§†å¾ªç¯å¼•ç”¨é—®é¢˜
æ­£è§£ï¼šè®¾è®¡æ—¶å°±è¦è€ƒè™‘å¯¹è±¡å…³ç³»ï¼Œé¢„é˜²å¾ªç¯å¼•ç”¨çš„äº§ç”Ÿ

è¯¯åŒº3ï¼šè¿‡åº¦ä¼˜åŒ–å…‹éš†æ€§èƒ½
æ­£è§£ï¼šå…ˆä¿è¯æ­£ç¡®æ€§ï¼Œå†åœ¨ç“¶é¢ˆç‚¹è¿›è¡Œé’ˆå¯¹æ€§ä¼˜åŒ–

è¯¯åŒº4ï¼šå…‹éš†æ‰€æœ‰å¯¹è±¡å±æ€§
æ­£è§£ï¼šåŒºåˆ†å“ªäº›éœ€è¦å…‹éš†ï¼Œå“ªäº›å¯ä»¥å…±äº«æˆ–é‡æ–°åˆ›å»º
```

**âœ… æœ€ä½³å®è·µ**
```
è®¾è®¡å®è·µï¼š
â€¢ ä¼˜å…ˆç»„åˆï¼Œå‡å°‘ç»§æ‰¿å±‚æ¬¡
â€¢ åˆ†ç¦»å¯å˜å’Œä¸å¯å˜éƒ¨åˆ†
â€¢ ä½¿ç”¨æ¥å£éš”ç¦»å…‹éš†é€»è¾‘
â€¢ æä¾›å¤šç§å…‹éš†ç­–ç•¥é€‰æ‹©

ç¼–ç å®è·µï¼š
â€¢ å®ç°Cloneableæ¥å£å¹¶é‡å†™clone()æ–¹æ³•
â€¢ ä¸ºå¤æ‚å¯¹è±¡æä¾›copyæ„é€ å‡½æ•°
â€¢ ä½¿ç”¨å·¥å‚æ–¹æ³•å°è£…å…‹éš†é€»è¾‘
â€¢ æ·»åŠ å…‹éš†ç›¸å…³çš„å•å…ƒæµ‹è¯•

æ€§èƒ½å®è·µï¼š
â€¢ ç›‘æ§å…‹éš†æ“ä½œçš„æ€§èƒ½æŒ‡æ ‡
â€¢ ä¸ºçƒ­ç‚¹å¯¹è±¡å®ç°ä¸“é—¨çš„å…‹éš†æ–¹æ³•
â€¢ åˆç†ä½¿ç”¨ç¼“å­˜å’Œå¯¹è±¡æ± 
â€¢ å®šæœŸè¿›è¡Œå†…å­˜ä½¿ç”¨åˆ†æ
```

**æ ¸å¿ƒè®°å¿†**ï¼š
- åŸå‹æ¨¡å¼çš„å…‹éš†ç­–ç•¥æ˜¯å¹³è¡¡æ•ˆç‡ä¸æ­£ç¡®æ€§çš„è‰ºæœ¯
- æ·±æµ…å…‹éš†å„æœ‰é€‚ç”¨åœºæ™¯ï¼Œå…³é”®æ˜¯ç†è§£ä¸šåŠ¡éœ€æ±‚
- å¾ªç¯å¼•ç”¨å’Œå†…å­˜ç®¡ç†æ˜¯å…‹éš†å®ç°çš„ä¸¤å¤§æŠ€æœ¯éš¾ç‚¹
- æ€§èƒ½ä¼˜åŒ–è¦åŸºäºå®é™…æµ‹é‡ï¼Œé¿å…è¿‡æ—©ä¼˜åŒ–