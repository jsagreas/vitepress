---
title: 6ã€å»ºé€ è€…æ¨¡å¼ä»£ç å®æˆ˜
---
## ğŸ“š ç›®å½•

1. [å»ºé€ è€…æ¨¡å¼æ ¸å¿ƒå›é¡¾](#1-å»ºé€ è€…æ¨¡å¼æ ¸å¿ƒå›é¡¾)
2. [ç®€å•å»ºé€ è€…å®ç°](#2-ç®€å•å»ºé€ è€…å®ç°)
3. [å¤šç§å»ºé€ è€…å¯¹æ¯”æ¼”ç¤º](#3-å¤šç§å»ºé€ è€…å¯¹æ¯”æ¼”ç¤º)
4. [å¤æ‚å¯¹è±¡æ„å»ºå®æˆ˜](#4-å¤æ‚å¯¹è±¡æ„å»ºå®æˆ˜)
5. [å‚æ•°éªŒè¯ä¸å¼‚å¸¸å¤„ç†](#5-å‚æ•°éªŒè¯ä¸å¼‚å¸¸å¤„ç†)
6. [å®é™…é¡¹ç›®åº”ç”¨æ¡ˆä¾‹](#6-å®é™…é¡¹ç›®åº”ç”¨æ¡ˆä¾‹)
7. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#7-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ”§ å»ºé€ è€…æ¨¡å¼æ ¸å¿ƒå›é¡¾


### 1.1 ä»€ä¹ˆæ˜¯å»ºé€ è€…æ¨¡å¼


> ğŸ’¡ **é€šä¿—ç†è§£**ï¼šå°±åƒæ­ç§¯æœ¨ä¸€æ ·ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ª"æŒ‡æŒ¥å®˜"å‘Šè¯‰"å·¥äºº"æŒ‰ç…§æ­¥éª¤æ¥ç»„è£…å¤æ‚çš„ä¸œè¥¿

**å»ºé€ è€…æ¨¡å¼**ï¼šæŠŠå¤æ‚å¯¹è±¡çš„æ„å»ºè¿‡ç¨‹åˆ†è§£æˆå¤šä¸ªç®€å•æ­¥éª¤ï¼Œé€šè¿‡ä¸åŒçš„å»ºé€ è€…å¯ä»¥åˆ›å»ºä¸åŒé£æ ¼çš„å¯¹è±¡ã€‚

```
ç”Ÿæ´»ä¸­çš„ä¾‹å­ï¼š
è£…ä¿®æˆ¿å­ = å»ºé€ è€…æ¨¡å¼
â”œâ”€â”€ æŒ‡æŒ¥å®˜ï¼ˆDirectorï¼‰      â† è£…ä¿®é˜Ÿé•¿ï¼ŒçŸ¥é“è£…ä¿®æµç¨‹
â”œâ”€â”€ å»ºé€ è€…ï¼ˆBuilderï¼‰       â† ä¸åŒè£…ä¿®å·¥äººï¼ˆæ°´ç”µå·¥ã€æœ¨å·¥ç­‰ï¼‰
â”œâ”€â”€ äº§å“ï¼ˆProductï¼‰         â† æœ€ç»ˆè£…ä¿®å¥½çš„æˆ¿å­
â””â”€â”€ å»ºé€ æ­¥éª¤               â† å…ˆæ°´ç”µâ†’å†æœ¨å·¥â†’æœ€åæ²¹æ¼†
```

### 1.2 å»ºé€ è€…æ¨¡å¼çš„æ ¸å¿ƒä½œç”¨


**è§£å†³ä»€ä¹ˆé—®é¢˜**ï¼š
- âœ… **å‚æ•°å¤ªå¤š**ï¼šé¿å…æ„é€ å‡½æ•°æœ‰åå‡ ä¸ªå‚æ•°
- âœ… **å‚æ•°å¯é€‰**ï¼šæœ‰äº›å‚æ•°å¯ä¼ å¯ä¸ä¼ 
- âœ… **æ„å»ºå¤æ‚**ï¼šå¯¹è±¡åˆ›å»ºéœ€è¦å¤šä¸ªæ­¥éª¤
- âœ… **ç±»å‹å®‰å…¨**ï¼šé¿å…å‚æ•°é¡ºåºæé”™

**å»ºé€ è€…æ¨¡å¼ vs ç›´æ¥æ„é€ **ï¼š
```
âŒ ç›´æ¥æ„é€ ï¼ˆå‚æ•°å¤ªå¤šï¼Œå®¹æ˜“å‡ºé”™ï¼‰ï¼š
Person p = new Person("å¼ ä¸‰", 25, "ç”·", "å·¥ç¨‹å¸ˆ", "åŒ—äº¬", "1234567890", "zhang@email.com");

âœ… å»ºé€ è€…æ¨¡å¼ï¼ˆæ¸…æ™°æ˜äº†ï¼‰ï¼š
Person p = new Person.Builder()
    .name("å¼ ä¸‰")
    .age(25)
    .gender("ç”·")
    .job("å·¥ç¨‹å¸ˆ")
    .city("åŒ—äº¬")
    .phone("1234567890")
    .email("zhang@email.com")
    .build();
```

---

## 2. ğŸ’» ç®€å•å»ºé€ è€…å®ç°


### 2.1 åŸºç¡€ç‰ˆå»ºé€ è€… - ç”µè„‘é…ç½®


è®©æˆ‘ä»¬ç”¨**ç»„è£…ç”µè„‘**è¿™ä¸ªä¾‹å­æ¥ç†è§£å»ºé€ è€…æ¨¡å¼ï¼š

```java
// ğŸ–¥ï¸ ç”µè„‘ç±»ï¼ˆè¦å»ºé€ çš„å¤æ‚å¯¹è±¡ï¼‰
public class Computer {
    // å¿…éœ€å‚æ•°
    private String cpu;        // CPUå‹å·
    private String memory;     // å†…å­˜å¤§å°
    
    // å¯é€‰å‚æ•°
    private String graphics;   // æ˜¾å¡ï¼ˆå¯é€‰ï¼‰
    private String storage;    // ç¡¬ç›˜ï¼ˆå¯é€‰ï¼‰
    private boolean hasWifi;   // æ˜¯å¦æœ‰WiFi
    
    // ç§æœ‰æ„é€ å‡½æ•°ï¼Œåªèƒ½é€šè¿‡å»ºé€ è€…åˆ›å»º
    private Computer(Builder builder) {
        this.cpu = builder.cpu;
        this.memory = builder.memory;
        this.graphics = builder.graphics;
        this.storage = builder.storage;
        this.hasWifi = builder.hasWifi;
    }
    
    // ğŸ“‹ å»ºé€ è€…ç±»ï¼ˆé™æ€å†…éƒ¨ç±»ï¼‰
    public static class Builder {
        // å¿…éœ€å‚æ•°
        private String cpu;
        private String memory;
        
        // å¯é€‰å‚æ•°ï¼ˆç»™é»˜è®¤å€¼ï¼‰
        private String graphics = "é›†æˆæ˜¾å¡";
        private String storage = "256GB SSD";
        private boolean hasWifi = true;
        
        // æ„é€ å‡½æ•°ï¼šè®¾ç½®å¿…éœ€å‚æ•°
        public Builder(String cpu, String memory) {
            this.cpu = cpu;
            this.memory = memory;
        }
        
        // ğŸ”§ è®¾ç½®å¯é€‰å‚æ•°çš„æ–¹æ³•ï¼ˆé“¾å¼è°ƒç”¨ï¼‰
        public Builder graphics(String graphics) {
            this.graphics = graphics;
            return this;  // è¿”å›è‡ªå·±ï¼Œæ”¯æŒé“¾å¼è°ƒç”¨
        }
        
        public Builder storage(String storage) {
            this.storage = storage;
            return this;
        }
        
        public Builder wifi(boolean hasWifi) {
            this.hasWifi = hasWifi;
            return this;
        }
        
        // ğŸ—ï¸ æœ€ç»ˆå»ºé€ æ–¹æ³•
        public Computer build() {
            return new Computer(this);
        }
    }
    
    // toStringæ–¹æ³•ï¼Œæ–¹ä¾¿æŸ¥çœ‹ç»“æœ
    @Override
    public String toString() {
        return "ç”µè„‘é…ç½®{" +
                "CPU='" + cpu + '\'' +
                ", å†…å­˜='" + memory + '\'' +
                ", æ˜¾å¡='" + graphics + '\'' +
                ", ç¡¬ç›˜='" + storage + '\'' +
                ", WiFi=" + (hasWifi ? "æœ‰" : "æ— ") +
                '}';
    }
}
```

### 2.2 ä½¿ç”¨å»ºé€ è€…åˆ›å»ºå¯¹è±¡


```java
public class BuilderDemo {
    public static void main(String[] args) {
        // ğŸ¯ åˆ›å»ºåŸºç¡€åŠå…¬ç”µè„‘
        Computer officeComputer = new Computer.Builder("Intel i5", "8GB")
                .build();
        
        // ğŸ® åˆ›å»ºæ¸¸æˆç”µè„‘
        Computer gamingComputer = new Computer.Builder("Intel i7", "16GB")
                .graphics("RTX 3060")
                .storage("1TB SSD")
                .wifi(true)
                .build();
        
        // ğŸ“Š åˆ›å»ºä¸“ä¸šå·¥ä½œç«™
        Computer workstation = new Computer.Builder("Intel i9", "32GB")
                .graphics("RTX 4090")
                .storage("2TB SSD")
                .wifi(false)  // ä¸“ä¸šç¯å¢ƒç”¨æœ‰çº¿ç½‘ç»œ
                .build();
        
        System.out.println("åŠå…¬ç”µè„‘ï¼š" + officeComputer);
        System.out.println("æ¸¸æˆç”µè„‘ï¼š" + gamingComputer);
        System.out.println("å·¥ä½œç«™ï¼š" + workstation);
    }
}
```

**è¿è¡Œç»“æœ**ï¼š
```
åŠå…¬ç”µè„‘ï¼šç”µè„‘é…ç½®{CPU='Intel i5', å†…å­˜='8GB', æ˜¾å¡='é›†æˆæ˜¾å¡', ç¡¬ç›˜='256GB SSD', WiFi=æœ‰}
æ¸¸æˆç”µè„‘ï¼šç”µè„‘é…ç½®{CPU='Intel i7', å†…å­˜='16GB', æ˜¾å¡='RTX 3060', ç¡¬ç›˜='1TB SSD', WiFi=æœ‰}
å·¥ä½œç«™ï¼šç”µè„‘é…ç½®{CPU='Intel i9', å†…å­˜='32GB', æ˜¾å¡='RTX 4090', ç¡¬ç›˜='2TB SSD', WiFi=æ— }
```

---

## 3. âš–ï¸ å¤šç§å»ºé€ è€…å¯¹æ¯”æ¼”ç¤º


### 3.1 æ ‡å‡†å»ºé€ è€… vs æµå¼å»ºé€ è€…


æˆ‘ä»¬æ¥å¯¹æ¯”ä¸¤ç§ä¸åŒçš„å»ºé€ è€…å®ç°æ–¹å¼ï¼š

**â‘  æ ‡å‡†å»ºé€ è€…ï¼ˆDirector + Builderï¼‰**ï¼š
```java
// ğŸ—ï¸ æ ‡å‡†å»ºé€ è€…æ¥å£
public interface CarBuilder {
    void buildEngine();    // å®‰è£…å¼•æ“
    void buildWheels();    // å®‰è£…è½®å­
    void buildSeats();     // å®‰è£…åº§æ¤…
    Car getResult();       // è·å–ç»“æœ
}

// ğŸš— æ±½è½¦ç±»
class Car {
    private String engine;
    private String wheels;
    private String seats;
    private String type;
    
    public Car(String type) {
        this.type = type;
    }
    
    // getterå’Œsetteræ–¹æ³•...
    public void setEngine(String engine) { this.engine = engine; }
    public void setWheels(String wheels) { this.wheels = wheels; }
    public void setSeats(String seats) { this.seats = seats; }
    
    @Override
    public String toString() {
        return type + "æ±½è½¦{å¼•æ“=" + engine + ", è½®å­=" + wheels + ", åº§æ¤…=" + seats + "}";
    }
}

// ğŸï¸ è·‘è½¦å»ºé€ è€…
class SportsCarBuilder implements CarBuilder {
    private Car car;
    
    public SportsCarBuilder() {
        this.car = new Car("è·‘è½¦");
    }
    
    @Override
    public void buildEngine() {
        car.setEngine("V8æ¶¡è½®å¢å‹å¼•æ“");
    }
    
    @Override
    public void buildWheels() {
        car.setWheels("18å¯¸è¿åŠ¨è½®æ¯‚");
    }
    
    @Override
    public void buildSeats() {
        car.setSeats("çœŸçš®è¿åŠ¨åº§æ¤…");
    }
    
    @Override
    public Car getResult() {
        return car;
    }
}

// ğŸš™ SUVå»ºé€ è€…
class SUVBuilder implements CarBuilder {
    private Car car;
    
    public SUVBuilder() {
        this.car = new Car("SUV");
    }
    
    @Override
    public void buildEngine() {
        car.setEngine("2.0Tæ¶¡è½®å¼•æ“");
    }
    
    @Override
    public void buildWheels() {
        car.setWheels("17å¯¸å…¨åœ°å½¢è½®èƒ");
    }
    
    @Override
    public void buildSeats() {
        car.setSeats("7åº§å®¶åº­åº§æ¤…");
    }
    
    @Override
    public Car getResult() {
        return car;
    }
}

// ğŸ‘· æŒ‡æŒ¥è€…ï¼ˆDirectorï¼‰
class CarDirector {
    public Car constructCar(CarBuilder builder) {
        builder.buildEngine();   // æ­¥éª¤1ï¼šå®‰è£…å¼•æ“
        builder.buildWheels();   // æ­¥éª¤2ï¼šå®‰è£…è½®å­
        builder.buildSeats();    // æ­¥éª¤3ï¼šå®‰è£…åº§æ¤…
        return builder.getResult();
    }
}
```

**â‘¡ æµå¼å»ºé€ è€…ï¼ˆFluent Builderï¼‰**ï¼š
```java
// ğŸ  æˆ¿å­ç±»ï¼ˆä½¿ç”¨æµå¼å»ºé€ è€…ï¼‰
public class House {
    private String foundation;  // åœ°åŸº
    private String structure;   // ç»“æ„
    private String roof;       // å±‹é¡¶
    private String interior;   // å†…è£…
    
    private House() {} // ç§æœ‰æ„é€ å‡½æ•°
    
    public static class Builder {
        private House house = new House();
        
        public Builder foundation(String foundation) {
            house.foundation = foundation;
            return this;
        }
        
        public Builder structure(String structure) {
            house.structure = structure;
            return this;
        }
        
        public Builder roof(String roof) {
            house.roof = roof;
            return this;
        }
        
        public Builder interior(String interior) {
            house.interior = interior;
            return this;
        }
        
        public House build() {
            // ğŸ” å¯ä»¥åœ¨è¿™é‡Œåšå‚æ•°æ ¡éªŒ
            if (house.foundation == null || house.structure == null) {
                throw new IllegalStateException("åœ°åŸºå’Œç»“æ„æ˜¯å¿…éœ€çš„ï¼");
            }
            return house;
        }
    }
    
    @Override
    public String toString() {
        return "æˆ¿å­{åœ°åŸº=" + foundation + ", ç»“æ„=" + structure + 
               ", å±‹é¡¶=" + roof + ", å†…è£…=" + interior + "}";
    }
}
```

### 3.2 ä¸¤ç§æ–¹å¼çš„ä½¿ç”¨å¯¹æ¯”


```java
public class BuilderComparison {
    public static void main(String[] args) {
        System.out.println("=== ğŸ—ï¸ æ ‡å‡†å»ºé€ è€…æ¼”ç¤º ===");
        
        // ä½¿ç”¨æ ‡å‡†å»ºé€ è€…
        CarDirector director = new CarDirector();
        
        Car sportsCar = director.constructCar(new SportsCarBuilder());
        Car suv = director.constructCar(new SUVBuilder());
        
        System.out.println(sportsCar);
        System.out.println(suv);
        
        System.out.println("\n=== ğŸŒŠ æµå¼å»ºé€ è€…æ¼”ç¤º ===");
        
        // ä½¿ç”¨æµå¼å»ºé€ è€…
        House villa = new House.Builder()
                .foundation("é’¢ç­‹æ··å‡åœŸåœ°åŸº")
                .structure("æ¡†æ¶ç»“æ„")
                .roof("å¡å±‹é¡¶")
                .interior("è±ªåè£…ä¿®")
                .build();
        
        House apartment = new House.Builder()
                .foundation("æ¡å½¢åŸºç¡€")
                .structure("ç –æ··ç»“æ„")
                .roof("å¹³å±‹é¡¶")
                .build();  // ä¸è®¾ç½®å†…è£…
        
        System.out.println(villa);
        System.out.println(apartment);
    }
}
```

**ä¸¤ç§æ–¹å¼å¯¹æ¯”**ï¼š

| ç‰¹ç‚¹ | **æ ‡å‡†å»ºé€ è€…** | **æµå¼å»ºé€ è€…** |
|------|---------------|---------------|
| **ä½¿ç”¨åœºæ™¯** | `æ„å»ºæ­¥éª¤å›ºå®šï¼Œéœ€è¦å¯¼æ¼”åè°ƒ` | `å‚æ•°å¾ˆå¤šï¼Œå¯é€‰é…ç½®çµæ´»` |
| **ä»£ç é£æ ¼** | `director.constructCar(builder)` | `new Builder().param1().param2().build()` |
| **ä¼˜ç‚¹** | `æ­¥éª¤æ¸…æ™°ï¼Œæ˜“äºæ‰©å±•æ–°ç±»å‹` | `é“¾å¼è°ƒç”¨ï¼Œç®€æ´ä¼˜é›…` |
| **ç¼ºç‚¹** | `ä»£ç è¾ƒå¤šï¼Œéœ€è¦Directorç±»` | `ä¸é€‚åˆå¤æ‚çš„æ„å»ºé€»è¾‘` |
| **é€‚ç”¨å¯¹è±¡** | `æ„å»ºè¿‡ç¨‹å¤æ‚çš„å¯¹è±¡` | `å‚æ•°å¾ˆå¤šçš„é…ç½®ç±»å¯¹è±¡` |

---

## 4. ğŸ—ï¸ å¤æ‚å¯¹è±¡æ„å»ºå®æˆ˜


### 4.1 æ•°æ®åº“è¿æ¥é…ç½®å»ºé€ è€…


åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œæ•°æ®åº“è¿æ¥å¾€å¾€æœ‰å¾ˆå¤šé…ç½®å‚æ•°ï¼Œå»ºé€ è€…æ¨¡å¼éå¸¸é€‚åˆï¼š

```java
// ğŸ“Š æ•°æ®åº“é…ç½®ç±»
public class DatabaseConfig {
    // å¿…éœ€å‚æ•°
    private final String host;
    private final int port;
    private final String database;
    private final String username;
    private final String password;
    
    // å¯é€‰å‚æ•°
    private final int connectionTimeout;
    private final int maxConnections;
    private final boolean useSSL;
    private final String charset;
    private final boolean autoReconnect;
    
    private DatabaseConfig(Builder builder) {
        // å¿…éœ€å‚æ•°
        this.host = builder.host;
        this.port = builder.port;
        this.database = builder.database;
        this.username = builder.username;
        this.password = builder.password;
        
        // å¯é€‰å‚æ•°ï¼ˆä»builderè·å–ï¼Œå¦‚æœæ²¡è®¾ç½®å°±ç”¨é»˜è®¤å€¼ï¼‰
        this.connectionTimeout = builder.connectionTimeout;
        this.maxConnections = builder.maxConnections;
        this.useSSL = builder.useSSL;
        this.charset = builder.charset;
        this.autoReconnect = builder.autoReconnect;
    }
    
    // ğŸ”§ æ•°æ®åº“é…ç½®å»ºé€ è€…
    public static class Builder {
        // å¿…éœ€å‚æ•°
        private String host;
        private int port;
        private String database;
        private String username;
        private String password;
        
        // å¯é€‰å‚æ•°ï¼ˆè®¾ç½®é»˜è®¤å€¼ï¼‰
        private int connectionTimeout = 5000;      // é»˜è®¤5ç§’è¶…æ—¶
        private int maxConnections = 10;           // é»˜è®¤æœ€å¤§10ä¸ªè¿æ¥
        private boolean useSSL = false;            // é»˜è®¤ä¸ä½¿ç”¨SSL
        private String charset = "UTF-8";          // é»˜è®¤UTF-8ç¼–ç 
        private boolean autoReconnect = true;      // é»˜è®¤è‡ªåŠ¨é‡è¿
        
        // è®¾ç½®å¿…éœ€å‚æ•°
        public Builder host(String host) {
            this.host = host;
            return this;
        }
        
        public Builder port(int port) {
            this.port = port;
            return this;
        }
        
        public Builder database(String database) {
            this.database = database;
            return this;
        }
        
        public Builder credentials(String username, String password) {
            this.username = username;
            this.password = password;
            return this;
        }
        
        // è®¾ç½®å¯é€‰å‚æ•°
        public Builder timeout(int seconds) {
            this.connectionTimeout = seconds * 1000;  // è½¬æ¢ä¸ºæ¯«ç§’
            return this;
        }
        
        public Builder maxConnections(int max) {
            this.maxConnections = max;
            return this;
        }
        
        public Builder ssl(boolean useSSL) {
            this.useSSL = useSSL;
            return this;
        }
        
        public Builder charset(String charset) {
            this.charset = charset;
            return this;
        }
        
        public Builder autoReconnect(boolean autoReconnect) {
            this.autoReconnect = autoReconnect;
            return this;
        }
        
        // ğŸ—ï¸ æ„å»ºæœ€ç»ˆå¯¹è±¡
        public DatabaseConfig build() {
            // åœ¨è¿™é‡Œè¿›è¡Œå‚æ•°éªŒè¯ï¼ˆä¸‹ä¸€èŠ‚è¯¦ç»†è®²è§£ï¼‰
            validateParameters();
            return new DatabaseConfig(this);
        }
        
        private void validateParameters() {
            if (host == null || host.trim().isEmpty()) {
                throw new IllegalArgumentException("æ•°æ®åº“ä¸»æœºåœ°å€ä¸èƒ½ä¸ºç©º");
            }
            if (port <= 0 || port > 65535) {
                throw new IllegalArgumentException("ç«¯å£å·å¿…é¡»åœ¨1-65535ä¹‹é—´");
            }
            if (database == null || database.trim().isEmpty()) {
                throw new IllegalArgumentException("æ•°æ®åº“åä¸èƒ½ä¸ºç©º");
            }
            if (username == null || username.trim().isEmpty()) {
                throw new IllegalArgumentException("ç”¨æˆ·åä¸èƒ½ä¸ºç©º");
            }
        }
    }
    
    // ğŸ“‹ è·å–è¿æ¥å­—ç¬¦ä¸²
    public String getConnectionUrl() {
        StringBuilder url = new StringBuilder();
        url.append("jdbc:mysql://").append(host).append(":").append(port).append("/").append(database);
        url.append("?useSSL=").append(useSSL);
        url.append("&characterEncoding=").append(charset);
        url.append("&autoReconnect=").append(autoReconnect);
        return url.toString();
    }
    
    @Override
    public String toString() {
        return "æ•°æ®åº“é…ç½®{" +
                "ä¸»æœº='" + host + '\'' +
                ", ç«¯å£=" + port +
                ", æ•°æ®åº“='" + database + '\'' +
                ", ç”¨æˆ·å='" + username + '\'' +
                ", è¶…æ—¶=" + connectionTimeout + "ms" +
                ", æœ€å¤§è¿æ¥=" + maxConnections +
                ", SSL=" + useSSL +
                ", ç¼–ç ='" + charset + '\'' +
                ", è‡ªåŠ¨é‡è¿=" + autoReconnect +
                '}';
    }
}
```

### 4.2 ä½¿ç”¨æ•°æ®åº“é…ç½®å»ºé€ è€…


```java
public class DatabaseConfigDemo {
    public static void main(String[] args) {
        // ğŸ¯ å¼€å‘ç¯å¢ƒé…ç½®ï¼ˆç®€å•é…ç½®ï¼‰
        DatabaseConfig devConfig = new DatabaseConfig.Builder()
                .host("localhost")
                .port(3306)
                .database("dev_db")
                .credentials("dev_user", "dev_pass")
                .build();
        
        // ğŸŒ ç”Ÿäº§ç¯å¢ƒé…ç½®ï¼ˆå®Œæ•´é…ç½®ï¼‰
        DatabaseConfig prodConfig = new DatabaseConfig.Builder()
                .host("prod-db-cluster.company.com")
                .port(3306)
                .database("production")
                .credentials("prod_user", "strong_password_123")
                .timeout(10)              // 10ç§’è¶…æ—¶
                .maxConnections(50)       // æœ€å¤§50ä¸ªè¿æ¥
                .ssl(true)               // ä½¿ç”¨SSLåŠ å¯†
                .charset("UTF-8")        // UTF-8ç¼–ç 
                .autoReconnect(true)     // è‡ªåŠ¨é‡è¿
                .build();
        
        // ğŸ“Š æµ‹è¯•ç¯å¢ƒé…ç½®ï¼ˆéƒ¨åˆ†è‡ªå®šä¹‰ï¼‰
        DatabaseConfig testConfig = new DatabaseConfig.Builder()
                .host("test-server")
                .port(3306)
                .database("test_db")
                .credentials("test_user", "test_pass")
                .maxConnections(5)       // æµ‹è¯•ç¯å¢ƒè¿æ¥å°‘ä¸€äº›
                .ssl(false)             // æµ‹è¯•ç¯å¢ƒä¸ç”¨SSL
                .build();
        
        System.out.println("å¼€å‘ç¯å¢ƒï¼š" + devConfig);
        System.out.println("è¿æ¥å­—ç¬¦ä¸²ï¼š" + devConfig.getConnectionUrl());
        System.out.println();
        
        System.out.println("ç”Ÿäº§ç¯å¢ƒï¼š" + prodConfig);
        System.out.println("è¿æ¥å­—ç¬¦ä¸²ï¼š" + prodConfig.getConnectionUrl());
        System.out.println();
        
        System.out.println("æµ‹è¯•ç¯å¢ƒï¼š" + testConfig);
        System.out.println("è¿æ¥å­—ç¬¦ä¸²ï¼š" + testConfig.getConnectionUrl());
    }
}
```

---

## 5. âœ… å‚æ•°éªŒè¯ä¸å¼‚å¸¸å¤„ç†


### 5.1 ä¸ºä»€ä¹ˆéœ€è¦å‚æ•°éªŒè¯


> ğŸ’¡ **é€šä¿—ç†è§£**ï¼šå°±åƒç»„è£…å®¶å…·æ—¶è¦æ£€æŸ¥èºä¸æ˜¯å¦é½å…¨ä¸€æ ·ï¼Œåˆ›å»ºå¯¹è±¡å‰ä¹Ÿè¦æ£€æŸ¥å‚æ•°æ˜¯å¦æ­£ç¡®

**å‚æ•°éªŒè¯çš„é‡è¦æ€§**ï¼š
- âœ… **é˜²æ­¢é”™è¯¯**ï¼šåŠæ—©å‘ç°å‚æ•°é—®é¢˜
- âœ… **æé«˜å®‰å…¨**ï¼šé¿å…æ— æ•ˆé…ç½®å¯¼è‡´ç³»ç»Ÿæ•…éšœ
- âœ… **ç”¨æˆ·å‹å¥½**ï¼šç»™å‡ºæ¸…æ™°çš„é”™è¯¯æç¤º
- âœ… **ç³»ç»Ÿç¨³å®š**ï¼šé˜²æ­¢è¿è¡Œæ—¶å‡ºç°å¥‡æ€ªé—®é¢˜

### 5.2 å®Œæ•´çš„å‚æ•°éªŒè¯å®ç°


```java
// ğŸ‘¤ ç”¨æˆ·æ³¨å†Œä¿¡æ¯ç±»ï¼ˆå¸¦å®Œæ•´éªŒè¯ï¼‰
public class UserRegistration {
    private final String username;
    private final String email;
    private final String password;
    private final int age;
    private final String phone;
    private final boolean agreeTerms;
    
    private UserRegistration(Builder builder) {
        this.username = builder.username;
        this.email = builder.email;
        this.password = builder.password;
        this.age = builder.age;
        this.phone = builder.phone;
        this.agreeTerms = builder.agreeTerms;
    }
    
    public static class Builder {
        private String username;
        private String email;
        private String password;
        private int age;
        private String phone;
        private boolean agreeTerms = false;  // é»˜è®¤ä¸åŒæ„æ¡æ¬¾
        
        public Builder username(String username) {
            this.username = username;
            return this;
        }
        
        public Builder email(String email) {
            this.email = email;
            return this;
        }
        
        public Builder password(String password) {
            this.password = password;
            return this;
        }
        
        public Builder age(int age) {
            this.age = age;
            return this;
        }
        
        public Builder phone(String phone) {
            this.phone = phone;
            return this;
        }
        
        public Builder agreeTerms() {
            this.agreeTerms = true;
            return this;
        }
        
        public UserRegistration build() {
            // ğŸ” æ‰§è¡Œæ‰€æœ‰éªŒè¯
            validateAllParameters();
            return new UserRegistration(this);
        }
        
        // ğŸ“‹ å‚æ•°éªŒè¯æ–¹æ³•
        private void validateAllParameters() {
            validateUsername();
            validateEmail();
            validatePassword();
            validateAge();
            validatePhone();
            validateTerms();
        }
        
        private void validateUsername() {
            if (username == null || username.trim().isEmpty()) {
                throw new IllegalArgumentException("âŒ ç”¨æˆ·åä¸èƒ½ä¸ºç©º");
            }
            if (username.length() < 3 || username.length() > 20) {
                throw new IllegalArgumentException("âŒ ç”¨æˆ·åé•¿åº¦å¿…é¡»åœ¨3-20ä¸ªå­—ç¬¦ä¹‹é—´");
            }
            if (!username.matches("^[a-zA-Z0-9_]+$")) {
                throw new IllegalArgumentException("âŒ ç”¨æˆ·ååªèƒ½åŒ…å«å­—æ¯ã€æ•°å­—å’Œä¸‹åˆ’çº¿");
            }
        }
        
        private void validateEmail() {
            if (email == null || email.trim().isEmpty()) {
                throw new IllegalArgumentException("âŒ é‚®ç®±ä¸èƒ½ä¸ºç©º");
            }
            // ç®€å•çš„é‚®ç®±æ ¼å¼éªŒè¯
            if (!email.matches("^[A-Za-z0-9+_.-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,}$")) {
                throw new IllegalArgumentException("âŒ é‚®ç®±æ ¼å¼ä¸æ­£ç¡®");
            }
        }
        
        private void validatePassword() {
            if (password == null || password.trim().isEmpty()) {
                throw new IllegalArgumentException("âŒ å¯†ç ä¸èƒ½ä¸ºç©º");
            }
            if (password.length() < 6) {
                throw new IllegalArgumentException("âŒ å¯†ç é•¿åº¦ä¸èƒ½å°‘äº6ä½");
            }
            if (!password.matches(".*[0-9].*")) {
                throw new IllegalArgumentException("âŒ å¯†ç å¿…é¡»åŒ…å«è‡³å°‘ä¸€ä¸ªæ•°å­—");
            }
            if (!password.matches(".*[a-zA-Z].*")) {
                throw new IllegalArgumentException("âŒ å¯†ç å¿…é¡»åŒ…å«è‡³å°‘ä¸€ä¸ªå­—æ¯");
            }
        }
        
        private void validateAge() {
            if (age < 13 || age > 150) {
                throw new IllegalArgumentException("âŒ å¹´é¾„å¿…é¡»åœ¨13-150å²ä¹‹é—´");
            }
        }
        
        private void validatePhone() {
            if (phone != null && !phone.isEmpty()) {
                if (!phone.matches("^1[3-9]\\d{9}$")) {
                    throw new IllegalArgumentException("âŒ æ‰‹æœºå·æ ¼å¼ä¸æ­£ç¡®");
                }
            }
        }
        
        private void validateTerms() {
            if (!agreeTerms) {
                throw new IllegalArgumentException("âŒ å¿…é¡»åŒæ„ç”¨æˆ·åè®®æ‰èƒ½æ³¨å†Œ");
            }
        }
    }
    
    @Override
    public String toString() {
        return "ç”¨æˆ·æ³¨å†Œ{" +
                "ç”¨æˆ·å='" + username + '\'' +
                ", é‚®ç®±='" + email + '\'' +
                ", å¹´é¾„=" + age +
                ", æ‰‹æœº='" + phone + '\'' +
                ", åŒæ„æ¡æ¬¾=" + agreeTerms +
                '}';
    }
}
```

### 5.3 å¼‚å¸¸å¤„ç†æ¼”ç¤º


```java
public class ValidationDemo {
    public static void main(String[] args) {
        System.out.println("=== âœ… æ­£ç¡®çš„ç”¨æˆ·æ³¨å†Œ ===");
        
        try {
            UserRegistration validUser = new UserRegistration.Builder()
                    .username("john_doe")
                    .email("john@example.com")
                    .password("pass123")
                    .age(25)
                    .phone("13812345678")
                    .agreeTerms()
                    .build();
            
            System.out.println("âœ… æ³¨å†ŒæˆåŠŸï¼š" + validUser);
        } catch (IllegalArgumentException e) {
            System.out.println("æ³¨å†Œå¤±è´¥ï¼š" + e.getMessage());
        }
        
        System.out.println("\n=== âŒ é”™è¯¯çš„ç”¨æˆ·æ³¨å†Œæ¼”ç¤º ===");
        
        // æµ‹è¯•å„ç§é”™è¯¯æƒ…å†µ
        testInvalidRegistration("ç”¨æˆ·åå¤ªçŸ­", () -> 
            new UserRegistration.Builder()
                .username("jo")  // ç”¨æˆ·åå¤ªçŸ­
                .email("john@example.com")
                .password("pass123")
                .age(25)
                .agreeTerms()
                .build()
        );
        
        testInvalidRegistration("é‚®ç®±æ ¼å¼é”™è¯¯", () -> 
            new UserRegistration.Builder()
                .username("john_doe")
                .email("invalid-email")  // é‚®ç®±æ ¼å¼é”™è¯¯
                .password("pass123")
                .age(25)
                .agreeTerms()
                .build()
        );
        
        testInvalidRegistration("å¯†ç ç¼ºå°‘æ•°å­—", () -> 
            new UserRegistration.Builder()
                .username("john_doe")
                .email("john@example.com")
                .password("password")  // æ²¡æœ‰æ•°å­—
                .age(25)
                .agreeTerms()
                .build()
        );
        
        testInvalidRegistration("æœªåŒæ„æ¡æ¬¾", () -> 
            new UserRegistration.Builder()
                .username("john_doe")
                .email("john@example.com")
                .password("pass123")
                .age(25)
                // æ²¡æœ‰è°ƒç”¨agreeTerms()
                .build()
        );
    }
    
    // ğŸ§ª æµ‹è¯•è¾…åŠ©æ–¹æ³•
    private static void testInvalidRegistration(String testName, Runnable test) {
        try {
            test.run();
            System.out.println(testName + "ï¼šâŒ åº”è¯¥æŠ›å‡ºå¼‚å¸¸ä½†æ²¡æœ‰");
        } catch (IllegalArgumentException e) {
            System.out.println(testName + "ï¼š" + e.getMessage());
        }
    }
}
```

**è¿è¡Œç»“æœç¤ºä¾‹**ï¼š
```
=== âœ… æ­£ç¡®çš„ç”¨æˆ·æ³¨å†Œ ===
âœ… æ³¨å†ŒæˆåŠŸï¼šç”¨æˆ·æ³¨å†Œ{ç”¨æˆ·å='john_doe', é‚®ç®±='john@example.com', å¹´é¾„=25, æ‰‹æœº='13812345678', åŒæ„æ¡æ¬¾=true}

=== âŒ é”™è¯¯çš„ç”¨æˆ·æ³¨å†Œæ¼”ç¤º ===
ç”¨æˆ·åå¤ªçŸ­ï¼šâŒ ç”¨æˆ·åé•¿åº¦å¿…é¡»åœ¨3-20ä¸ªå­—ç¬¦ä¹‹é—´
é‚®ç®±æ ¼å¼é”™è¯¯ï¼šâŒ é‚®ç®±æ ¼å¼ä¸æ­£ç¡®
å¯†ç ç¼ºå°‘æ•°å­—ï¼šâŒ å¯†ç å¿…é¡»åŒ…å«è‡³å°‘ä¸€ä¸ªæ•°å­—
æœªåŒæ„æ¡æ¬¾ï¼šâŒ å¿…é¡»åŒæ„ç”¨æˆ·åè®®æ‰èƒ½æ³¨å†Œ
```

---

## 6. ğŸš€ å®é™…é¡¹ç›®åº”ç”¨æ¡ˆä¾‹


### 6.1 Spring Booté…ç½®ç±»å»ºé€ è€…


åœ¨å®é™…çš„Spring Booté¡¹ç›®ä¸­ï¼Œå»ºé€ è€…æ¨¡å¼ç»å¸¸ç”¨äºé…ç½®ç±»ï¼š

```java
// ğŸŒ WebæœåŠ¡é…ç½®ç±»
@Component
public class WebServerConfig {
    private final int port;
    private final String contextPath;
    private final boolean enableSsl;
    private final int maxThreads;
    private final long sessionTimeout;
    private final boolean enableCompression;
    
    // ä½¿ç”¨å»ºé€ è€…æ¨¡å¼åˆ›å»ºé…ç½®
    private WebServerConfig(Builder builder) {
        this.port = builder.port;
        this.contextPath = builder.contextPath;
        this.enableSsl = builder.enableSsl;
        this.maxThreads = builder.maxThreads;
        this.sessionTimeout = builder.sessionTimeout;
        this.enableCompression = builder.enableCompression;
    }
    
    public static class Builder {
        private int port = 8080;                      // é»˜è®¤ç«¯å£
        private String contextPath = "/";             // é»˜è®¤æ ¹è·¯å¾„
        private boolean enableSsl = false;            // é»˜è®¤ä¸å¯ç”¨SSL
        private int maxThreads = 200;                 // é»˜è®¤æœ€å¤§çº¿ç¨‹æ•°
        private long sessionTimeout = 1800;          // é»˜è®¤30åˆ†é’Ÿsessionè¶…æ—¶
        private boolean enableCompression = true;     // é»˜è®¤å¯ç”¨å‹ç¼©
        
        public Builder port(int port) {
            this.port = port;
            return this;
        }
        
        public Builder contextPath(String contextPath) {
            this.contextPath = contextPath;
            return this;
        }
        
        public Builder ssl(boolean enableSsl) {
            this.enableSsl = enableSsl;
            return this;
        }
        
        public Builder maxThreads(int maxThreads) {
            this.maxThreads = maxThreads;
            return this;
        }
        
        public Builder sessionTimeout(long minutes) {
            this.sessionTimeout = minutes * 60;  // è½¬æ¢ä¸ºç§’
            return this;
        }
        
        public Builder compression(boolean enableCompression) {
            this.enableCompression = enableCompression;
            return this;
        }
        
        public WebServerConfig build() {
            validateConfig();
            return new WebServerConfig(this);
        }
        
        private void validateConfig() {
            if (port < 1 || port > 65535) {
                throw new IllegalArgumentException("ç«¯å£å¿…é¡»åœ¨1-65535ä¹‹é—´");
            }
            if (maxThreads < 1 || maxThreads > 1000) {
                throw new IllegalArgumentException("æœ€å¤§çº¿ç¨‹æ•°å¿…é¡»åœ¨1-1000ä¹‹é—´");
            }
        }
    }
    
    // getteræ–¹æ³•...
    public int getPort() { return port; }
    public String getContextPath() { return contextPath; }
    public boolean isEnableSsl() { return enableSsl; }
    public int getMaxThreads() { return maxThreads; }
    public long getSessionTimeout() { return sessionTimeout; }
    public boolean isEnableCompression() { return enableCompression; }
}
```

### 6.2 HTTPå®¢æˆ·ç«¯å»ºé€ è€…


```java
// ğŸŒ HTTPå®¢æˆ·ç«¯é…ç½®
public class HttpClientConfig {
    private final String baseUrl;
    private final int connectTimeout;
    private final int readTimeout;
    private final Map<String, String> defaultHeaders;
    private final boolean followRedirects;
    private final String userAgent;
    
    private HttpClientConfig(Builder builder) {
        this.baseUrl = builder.baseUrl;
        this.connectTimeout = builder.connectTimeout;
        this.readTimeout = builder.readTimeout;
        this.defaultHeaders = new HashMap<>(builder.defaultHeaders);
        this.followRedirects = builder.followRedirects;
        this.userAgent = builder.userAgent;
    }
    
    public static class Builder {
        private String baseUrl;
        private int connectTimeout = 5000;                    // é»˜è®¤5ç§’è¿æ¥è¶…æ—¶
        private int readTimeout = 10000;                     // é»˜è®¤10ç§’è¯»å–è¶…æ—¶
        private Map<String, String> defaultHeaders = new HashMap<>();
        private boolean followRedirects = true;              // é»˜è®¤è·Ÿéšé‡å®šå‘
        private String userAgent = "MyApp/1.0";              // é»˜è®¤User-Agent
        
        public Builder baseUrl(String baseUrl) {
            this.baseUrl = baseUrl;
            return this;
        }
        
        public Builder connectTimeout(int milliseconds) {
            this.connectTimeout = milliseconds;
            return this;
        }
        
        public Builder readTimeout(int milliseconds) {
            this.readTimeout = milliseconds;
            return this;
        }
        
        public Builder addHeader(String name, String value) {
            this.defaultHeaders.put(name, value);
            return this;
        }
        
        public Builder followRedirects(boolean follow) {
            this.followRedirects = follow;
            return this;
        }
        
        public Builder userAgent(String userAgent) {
            this.userAgent = userAgent;
            return this;
        }
        
        // ğŸ¯ é¢„è®¾é…ç½®æ–¹æ³•
        public Builder forJsonApi() {
            return this.addHeader("Content-Type", "application/json")
                      .addHeader("Accept", "application/json");
        }
        
        public Builder forRestApi() {
            return this.addHeader("Accept", "application/json")
                      .addHeader("User-Agent", "RestClient/1.0");
        }
        
        public HttpClientConfig build() {
            if (baseUrl == null || baseUrl.trim().isEmpty()) {
                throw new IllegalArgumentException("åŸºç¡€URLä¸èƒ½ä¸ºç©º");
            }
            return new HttpClientConfig(this);
        }
    }
    
    // ğŸ“‹ è·å–é…ç½®ä¿¡æ¯
    public String getBaseUrl() { return baseUrl; }
    public int getConnectTimeout() { return connectTimeout; }
    public int getReadTimeout() { return readTimeout; }
    public Map<String, String> getDefaultHeaders() { return new HashMap<>(defaultHeaders); }
    public boolean isFollowRedirects() { return followRedirects; }
    public String getUserAgent() { return userAgent; }
}
```

### 6.3 å®é™…ä½¿ç”¨åœºæ™¯


```java
public class ProjectExample {
    public static void main(String[] args) {
        System.out.println("=== ğŸŒ WebæœåŠ¡å™¨é…ç½® ===");
        
        // å¼€å‘ç¯å¢ƒé…ç½®
        WebServerConfig devServer = new WebServerConfig.Builder()
                .port(8080)
                .contextPath("/api")
                .maxThreads(50)
                .sessionTimeout(60)      // å¼€å‘ç¯å¢ƒsessionçŸ­ä¸€äº›
                .compression(false)      // å¼€å‘ç¯å¢ƒä¸å‹ç¼©ï¼Œä¾¿äºè°ƒè¯•
                .build();
        
        // ç”Ÿäº§ç¯å¢ƒé…ç½®
        WebServerConfig prodServer = new WebServerConfig.Builder()
                .port(80)
                .contextPath("/")
                .ssl(true)               // ç”Ÿäº§ç¯å¢ƒå¯ç”¨SSL
                .maxThreads(500)         // ç”Ÿäº§ç¯å¢ƒæ”¯æŒæ›´å¤šå¹¶å‘
                .sessionTimeout(30)      // 30åˆ†é’Ÿsession
                .compression(true)       // å¯ç”¨å‹ç¼©èŠ‚çœå¸¦å®½
                .build();
        
        System.out.println("å¼€å‘æœåŠ¡å™¨ç«¯å£ï¼š" + devServer.getPort());
        System.out.println("ç”Ÿäº§æœåŠ¡å™¨ç«¯å£ï¼š" + prodServer.getPort());
        
        System.out.println("\n=== ğŸŒ HTTPå®¢æˆ·ç«¯é…ç½® ===");
        
        // æ™®é€šAPIå®¢æˆ·ç«¯
        HttpClientConfig apiClient = new HttpClientConfig.Builder()
                .baseUrl("https://api.example.com")
                .forJsonApi()            // ä½¿ç”¨é¢„è®¾çš„JSON APIé…ç½®
                .connectTimeout(3000)
                .readTimeout(8000)
                .build();
        
        // ç¬¬ä¸‰æ–¹æœåŠ¡å®¢æˆ·ç«¯
        HttpClientConfig thirdPartyClient = new HttpClientConfig.Builder()
                .baseUrl("https://partner-api.com")
                .forRestApi()            // ä½¿ç”¨é¢„è®¾çš„REST APIé…ç½®
                .addHeader("API-Key", "your-api-key")
                .addHeader("Client-ID", "your-client-id")
                .connectTimeout(5000)
                .followRedirects(false)  // ä¸è·Ÿéšé‡å®šå‘
                .build();
        
        System.out.println("APIå®¢æˆ·ç«¯åŸºç¡€URLï¼š" + apiClient.getBaseUrl());
        System.out.println("ç¬¬ä¸‰æ–¹å®¢æˆ·ç«¯å¤´éƒ¨æ•°é‡ï¼š" + thirdPartyClient.getDefaultHeaders().size());
    }
}
```

---

## 7. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 7.1 å¿…é¡»æŒæ¡çš„åŸºæœ¬æ¦‚å¿µ


```
ğŸ”¸ å»ºé€ è€…æ¨¡å¼ï¼šåˆ†æ­¥éª¤æ„å»ºå¤æ‚å¯¹è±¡çš„è®¾è®¡æ¨¡å¼
ğŸ”¸ æ ¸å¿ƒç»„ä»¶ï¼šProduct(äº§å“) + Builder(å»ºé€ è€…) + Director(æŒ‡æŒ¥è€…ï¼Œå¯é€‰)
ğŸ”¸ ä¸»è¦ä¼˜åŠ¿ï¼šå‚æ•°æ¸…æ™°ã€é“¾å¼è°ƒç”¨ã€å‚æ•°éªŒè¯ã€å¯¹è±¡ä¸å¯å˜
ğŸ”¸ é€‚ç”¨åœºæ™¯ï¼šå‚æ•°å¾ˆå¤šã€å¯é€‰é…ç½®ã€æ„å»ºå¤æ‚çš„å¯¹è±¡
ğŸ”¸ ä¸¤ç§å®ç°ï¼šæ ‡å‡†å»ºé€ è€…(æœ‰Director) + æµå¼å»ºé€ è€…(é“¾å¼è°ƒç”¨)
```

### 7.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ å»ºé€ è€…æ¨¡å¼çš„æ ¸å¿ƒä»·å€¼**
```
è§£å†³æ„é€ å‡½æ•°å‚æ•°è¿‡å¤šçš„é—®é¢˜ï¼š
âŒ ä¼ ç»Ÿæ–¹å¼ï¼šnew Object(p1, p2, p3, p4, p5, p6, p7, p8)
âœ… å»ºé€ è€…æ–¹å¼ï¼šnew Builder().p1().p2().p3().build()

ä¼˜åŠ¿å¯¹æ¯”ï¼š
â€¢ å‚æ•°æ¸…æ™°ï¼šçŸ¥é“æ¯ä¸ªå‚æ•°çš„å«ä¹‰
â€¢ å¯é€‰å‚æ•°ï¼šä¸éœ€è¦çš„å‚æ•°å¯ä»¥ä¸è®¾ç½®
â€¢ ç±»å‹å®‰å…¨ï¼šé¿å…å‚æ•°é¡ºåºæé”™
â€¢ å‚æ•°éªŒè¯ï¼šåœ¨build()æ—¶ç»Ÿä¸€éªŒè¯
â€¢ å¯¹è±¡ä¸å¯å˜ï¼šåˆ›å»ºåä¸èƒ½ä¿®æ”¹ï¼Œçº¿ç¨‹å®‰å…¨
```

**ğŸ”¹ ä»€ä¹ˆæ—¶å€™ä½¿ç”¨å»ºé€ è€…æ¨¡å¼**
```
âœ… é€‚åˆä½¿ç”¨çš„åœºæ™¯ï¼š
â€¢ æ„é€ å‡½æ•°å‚æ•°è¶…è¿‡4ä¸ª
â€¢ æœ‰å¾ˆå¤šå¯é€‰å‚æ•°
â€¢ å‚æ•°ç±»å‹ç›¸åŒå®¹æ˜“ææ··
â€¢ å¯¹è±¡åˆ›å»ºè¿‡ç¨‹å¤æ‚
â€¢ éœ€è¦å‚æ•°éªŒè¯

âŒ ä¸é€‚åˆä½¿ç”¨çš„åœºæ™¯ï¼š
â€¢ å¯¹è±¡å¾ˆç®€å•ï¼Œå‚æ•°å¾ˆå°‘
â€¢ å¯¹è±¡ç»å¸¸éœ€è¦ä¿®æ”¹
â€¢ æ€§èƒ½è¦æ±‚æé«˜çš„åœºæ™¯
â€¢ å›¢é˜Ÿä¸ç†Ÿæ‚‰è¿™ç§æ¨¡å¼
```

**ğŸ”¹ ä¸¤ç§å»ºé€ è€…æ¨¡å¼çš„é€‰æ‹©**
```
æ ‡å‡†å»ºé€ è€…ï¼ˆæœ‰Directorï¼‰ï¼š
é€‚ç”¨ï¼šæ„å»ºæ­¥éª¤å›ºå®šä¸”å¤æ‚
ä¾‹å­ï¼šæ±½è½¦ç»„è£…ï¼ˆå…ˆè£…å¼•æ“â†’å†è£…è½®å­â†’æœ€åè£…åº§æ¤…ï¼‰

æµå¼å»ºé€ è€…ï¼ˆé“¾å¼è°ƒç”¨ï¼‰ï¼š
é€‚ç”¨ï¼šå‚æ•°é…ç½®ç±»å¯¹è±¡
ä¾‹å­ï¼šæ•°æ®åº“é…ç½®ã€HTTPå®¢æˆ·ç«¯é…ç½®
```

### 7.3 ä»£ç å®ç°æœ€ä½³å®è·µ


**ğŸ”§ å®ç°å»ºè®®**
```java
// âœ… å¥½çš„å»ºé€ è€…æ¨¡å¼å®ç°
public class GoodExample {
    // 1. å­—æ®µè®¾ä¸ºfinalï¼Œç¡®ä¿ä¸å¯å˜
    private final String field1;
    private final String field2;
    
    // 2. æ„é€ å‡½æ•°ç§æœ‰
    private GoodExample(Builder builder) {
        this.field1 = builder.field1;
        this.field2 = builder.field2;
    }
    
    // 3. Builderä½œä¸ºé™æ€å†…éƒ¨ç±»
    public static class Builder {
        private String field1;
        private String field2;
        
        // 4. æ¯ä¸ªsetterè¿”å›thisï¼Œæ”¯æŒé“¾å¼è°ƒç”¨
        public Builder field1(String field1) {
            this.field1 = field1;
            return this;
        }
        
        // 5. åœ¨build()æ–¹æ³•ä¸­éªŒè¯å‚æ•°
        public GoodExample build() {
            validateParameters();
            return new GoodExample(this);
        }
        
        private void validateParameters() {
            // å‚æ•°éªŒè¯é€»è¾‘
        }
    }
}
```

**âš ï¸ å¸¸è§é”™è¯¯**
```java
// âŒ å¸¸è§é”™è¯¯ç¤ºä¾‹
public class BadExample {
    // é”™è¯¯1ï¼šå­—æ®µä¸æ˜¯finalï¼Œå¯ä»¥è¢«ä¿®æ”¹
    private String field1;
    
    // é”™è¯¯2ï¼šæ„é€ å‡½æ•°æ˜¯publicï¼Œå¯ä»¥ç›´æ¥åˆ›å»º
    public BadExample(String field1) {
        this.field1 = field1;
    }
    
    public static class Builder {
        // é”™è¯¯3ï¼šsetterä¸è¿”å›thisï¼Œæ— æ³•é“¾å¼è°ƒç”¨
        public void field1(String field1) {
            // ä¸è¿”å›this
        }
        
        // é”™è¯¯4ï¼šbuild()æ–¹æ³•æ²¡æœ‰å‚æ•°éªŒè¯
        public BadExample build() {
            return new BadExample(field1);  // ç›´æ¥åˆ›å»ºï¼Œæ²¡éªŒè¯
        }
    }
}
```

### 7.4 å®é™…åº”ç”¨æŒ‡å¯¼


**ğŸ’¼ ä¼ä¸šçº§åº”ç”¨**
- **é…ç½®ç±»**ï¼šæ•°æ®åº“é…ç½®ã€ç¼“å­˜é…ç½®ã€HTTPå®¢æˆ·ç«¯é…ç½®
- **DTOå¯¹è±¡**ï¼šå¤æ‚çš„æ•°æ®ä¼ è¾“å¯¹è±¡
- **æµ‹è¯•æ•°æ®**ï¼šå•å…ƒæµ‹è¯•ä¸­åˆ›å»ºæµ‹è¯•æ•°æ®
- **APIå‚æ•°**ï¼šå¤æ‚çš„APIè¯·æ±‚å‚æ•°å¯¹è±¡

**ğŸ› ï¸ å¼€å‘å»ºè®®**
- **IDEæ”¯æŒ**ï¼šä½¿ç”¨Lombokçš„@Builderæ³¨è§£å¯ä»¥è‡ªåŠ¨ç”Ÿæˆå»ºé€ è€…ä»£ç 
- **å‚æ•°éªŒè¯**ï¼šä½¿ç”¨Bean Validationæ³¨è§£(å¦‚@NotNull, @Sizeç­‰)
- **æ–‡æ¡£æ³¨é‡Š**ï¼šä¸ºæ¯ä¸ªå‚æ•°å†™æ¸…æ¥šæ³¨é‡Šï¼Œæ–¹ä¾¿ä½¿ç”¨
- **å•å…ƒæµ‹è¯•**ï¼šé‡ç‚¹æµ‹è¯•å‚æ•°éªŒè¯é€»è¾‘

**æ ¸å¿ƒè®°å¿†**ï¼š
- å»ºé€ è€…æ¨¡å¼è®©å¤æ‚å¯¹è±¡åˆ›å»ºå˜ç®€å•
- é“¾å¼è°ƒç”¨æ¸…æ™°æ˜äº†ï¼Œå‚æ•°éªŒè¯ä¿è¯å®‰å…¨
- é€‚åˆå‚æ•°å¤šã€é…ç½®å¤æ‚çš„å¯¹è±¡åˆ›å»º
- å®é™…é¡¹ç›®ä¸­é…ç½®ç±»æœ€å¸¸ç”¨å»ºé€ è€…æ¨¡å¼