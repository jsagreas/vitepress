---
title: 4ã€è®¿é—®è€…æ¨¡å¼å®é™…åº”ç”¨
---
## ğŸ“š ç›®å½•


1. [è®¿é—®è€…æ¨¡å¼åº”ç”¨æ¦‚è¿°](#1-è®¿é—®è€…æ¨¡å¼åº”ç”¨æ¦‚è¿°)
2. [ç¼–è¯‘å™¨è¯­æ³•æ ‘å¤„ç†](#2-ç¼–è¯‘å™¨è¯­æ³•æ ‘å¤„ç†)
3. [æ–‡æ¡£å¯¹è±¡æ¨¡å‹æ“ä½œ](#3-æ–‡æ¡£å¯¹è±¡æ¨¡å‹æ“ä½œ)
4. [æŠ¥è¡¨ç”Ÿæˆç³»ç»Ÿ](#4-æŠ¥è¡¨ç”Ÿæˆç³»ç»Ÿ)
5. [æ•°æ®å¯¼å‡ºåŠŸèƒ½](#5-æ•°æ®å¯¼å‡ºåŠŸèƒ½)
6. [å¯¹è±¡åºåˆ—åŒ–å¤„ç†](#6-å¯¹è±¡åºåˆ—åŒ–å¤„ç†)
7. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#7-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

# ğŸ¯ **å­¦ä¹ è·¯å¾„å¯¼èˆª**


**å‰ç½®çŸ¥è¯†**ï¼šéœ€è¦æŒæ¡è®¿é—®è€…æ¨¡å¼åŸºæœ¬æ¦‚å¿µã€ç»“æ„ç»„æˆ â†’ **å½“å‰å†…å®¹**ï¼šè®¿é—®è€…æ¨¡å¼å®é™…åº”ç”¨ â†’ **åç»­å­¦ä¹ **ï¼šå»ºè®®å­¦ä¹ å…¶ä»–è¡Œä¸ºå‹æ¨¡å¼

â±ï¸ **é¢„è®¡å­¦ä¹ æ—¶é—´**ï¼šæœ¬ç« é¢„è®¡50åˆ†é’Ÿ | å®è·µç»ƒä¹ 40åˆ†é’Ÿ

ğŸ·ï¸ **çŸ¥è¯†æ ‡ç­¾**ï¼š`#è¡Œä¸ºå‹æ¨¡å¼` `#å®é™…åº”ç”¨` `#æ¶æ„è®¾è®¡` `#å¿…æŒæ¡`

---

## 1. ğŸŒ è®¿é—®è€…æ¨¡å¼åº”ç”¨æ¦‚è¿°



### 1.1 è®¿é—®è€…æ¨¡å¼çš„åº”ç”¨ä»·å€¼



**ğŸ”¸ æ ¸å¿ƒä»·å€¼**
è®¿é—®è€…æ¨¡å¼å°±åƒæ˜¯ä¸€ä¸ª"ä¸“ä¸šæœåŠ¡å›¢é˜Ÿ"ï¼Œé’ˆå¯¹ä¸åŒç±»å‹çš„å¯¹è±¡æä¾›ä¸“é—¨çš„å¤„ç†æœåŠ¡ã€‚

**ğŸ’¡ ç”Ÿæ´»ç±»æ¯”ç†è§£**
```
æƒ³è±¡ä¸€ä¸ªå¤§å‹è´­ç‰©ä¸­å¿ƒï¼š
- é¡¾å®¢(è®¿é—®è€…)ï¼šæœ‰ä¸åŒçš„éœ€æ±‚å’Œè¡Œä¸º
- åº—é“º(å…ƒç´ )ï¼šæä¾›ä¸åŒçš„å•†å“å’ŒæœåŠ¡
- å¯¼è´­æœåŠ¡(è®¿é—®)ï¼šæ ¹æ®é¡¾å®¢ç±»å‹æä¾›é’ˆå¯¹æ€§æœåŠ¡

è´­ç‰©ä¸­å¿ƒä¸éœ€è¦æ”¹å˜åº—é“ºç»“æ„ï¼Œ
åªéœ€è¦è®­ç»ƒå¯¼è´­å‘˜ä¸ºä¸åŒé¡¾å®¢æä¾›ä¸“ä¸šæœåŠ¡
```

### 1.2 è®¿é—®è€…æ¨¡å¼é€‚ç”¨åœºæ™¯åˆ†æ



| **åº”ç”¨åœºæ™¯** | **æ ¸å¿ƒç‰¹ç‚¹** | **é€‚ç”¨åº¦** | **å®ç°å¤æ‚åº¦** |
|-------------|-------------|-----------|---------------|
| **ç¼–è¯‘å™¨è¯­æ³•æ ‘** | ç»“æ„ç¨³å®šï¼Œæ“ä½œå¤šæ · | â­â­â­â­â­ | â­â­â­â­ |
| **æ–‡æ¡£å¯¹è±¡æ¨¡å‹** | èŠ‚ç‚¹ç±»å‹å›ºå®šï¼Œå¤„ç†çµæ´» | â­â­â­â­ | â­â­â­ |
| **æŠ¥è¡¨ç”Ÿæˆç³»ç»Ÿ** | æ•°æ®ç»“æ„å›ºå®šï¼Œè¾“å‡ºå¤šæ · | â­â­â­â­ | â­â­â­ |
| **æ•°æ®å¯¼å‡ºåŠŸèƒ½** | å¯¹è±¡ç±»å‹ç¨³å®šï¼Œæ ¼å¼å¤šå˜ | â­â­â­â­ | â­â­ |
| **å¯¹è±¡åºåˆ—åŒ–** | ç±»å‹å›ºå®šï¼Œåºåˆ—åŒ–æ–¹å¼å¤š | â­â­â­ | â­â­ |

### 1.3 è®¿é—®è€…æ¨¡å¼ä½¿ç”¨åˆ¤æ–­æ ‡å‡†



**âœ… é€‚åˆä½¿ç”¨è®¿é—®è€…æ¨¡å¼çš„æƒ…å†µ**
- å¯¹è±¡ç»“æ„ç¨³å®šï¼Œå¾ˆå°‘æ·»åŠ æ–°çš„å…ƒç´ ç±»å‹
- éœ€è¦å¯¹å¯¹è±¡ç»“æ„ä¸­çš„å…ƒç´ è¿›è¡Œå¾ˆå¤šä¸åŒçš„æ“ä½œ
- è¿™äº›æ“ä½œä¼šå¯¼è‡´ç±»çš„èŒè´£ä¸å•ä¸€
- æ“ä½œé€»è¾‘å¯èƒ½ä¼šé¢‘ç¹å˜åŒ–

**âŒ ä¸é€‚åˆä½¿ç”¨è®¿é—®è€…æ¨¡å¼çš„æƒ…å†µ**
- å¯¹è±¡ç»“æ„ç»å¸¸å˜åŒ–ï¼Œéœ€è¦é¢‘ç¹æ·»åŠ æ–°ç±»å‹
- æ“ä½œæ¯”è¾ƒç®€å•ä¸”ç¨³å®š
- å…ƒç´ ç±»å‹è¾ƒå°‘

---

## 2. ğŸ’» ç¼–è¯‘å™¨è¯­æ³•æ ‘å¤„ç†



### 2.1 ç¼–è¯‘å™¨è¯­æ³•æ ‘çš„è®¿é—®è€…åº”ç”¨



**ğŸ”¸ æ ¸å¿ƒæ¦‚å¿µç†è§£**
ç¼–è¯‘å™¨åœ¨å¤„ç†æºä»£ç æ—¶ï¼Œä¼šæŠŠä»£ç è§£ææˆè¯­æ³•æ ‘ã€‚è¿™ä¸ªè¯­æ³•æ ‘éœ€è¦è¿›è¡Œå¤šç§ä¸åŒçš„å¤„ç†ï¼Œæ¯”å¦‚è¯­æ³•æ£€æŸ¥ã€ä»£ç ä¼˜åŒ–ã€ä»£ç ç”Ÿæˆç­‰ã€‚

**ğŸŒ³ è¯­æ³•æ ‘ç»“æ„ç¤ºä¾‹**
```
è¡¨è¾¾å¼ï¼ša + b * c
è¯­æ³•æ ‘ç»“æ„ï¼š
    +
   / \
  a   *
     / \
    b   c

æ¯ä¸ªèŠ‚ç‚¹éƒ½æ˜¯ä¸åŒç±»å‹ï¼šå˜é‡èŠ‚ç‚¹ã€è¿ç®—ç¬¦èŠ‚ç‚¹
æ¯ç§å¤„ç†éƒ½éœ€è¦éå†æ•´ä¸ªæ ‘ï¼šç±»å‹æ£€æŸ¥ã€ä»£ç ç”Ÿæˆã€ä¼˜åŒ–
```

### 2.2 è¯­æ³•æ ‘èŠ‚ç‚¹å®šä¹‰



**ğŸ”§ åŸºç¡€èŠ‚ç‚¹ç»“æ„**
```java
// æŠ½è±¡è¯­æ³•æ ‘èŠ‚ç‚¹
abstract class ASTNode {
    // æ¥å—è®¿é—®è€…çš„æ–¹æ³•
    public abstract void accept(ASTVisitor visitor);
}

// å˜é‡èŠ‚ç‚¹
class VariableNode extends ASTNode {
    private String name;
    
    public VariableNode(String name) {
        this.name = name;
    }
    
    public String getName() { return name; }
    
    @Override
    public void accept(ASTVisitor visitor) {
        visitor.visitVariable(this);
    }
}

// è¿ç®—ç¬¦èŠ‚ç‚¹
class OperatorNode extends ASTNode {
    private String operator;
    private ASTNode left, right;
    
    public OperatorNode(String op, ASTNode left, ASTNode right) {
        this.operator = op;
        this.left = left;
        this.right = right;
    }
    
    // getteræ–¹æ³•
    public String getOperator() { return operator; }
    public ASTNode getLeft() { return left; }
    public ASTNode getRight() { return right; }
    
    @Override
    public void accept(ASTVisitor visitor) {
        visitor.visitOperator(this);
    }
}
```

### 2.3 ç¼–è¯‘å™¨è®¿é—®è€…å®ç°



**ğŸ“ ç±»å‹æ£€æŸ¥è®¿é—®è€…**
```java
// ç±»å‹æ£€æŸ¥è®¿é—®è€…
class TypeCheckVisitor implements ASTVisitor {
    private Map<String, String> symbolTable = new HashMap<>();
    
    @Override
    public void visitVariable(VariableNode node) {
        String varName = node.getName();
        if (!symbolTable.containsKey(varName)) {
            System.out.println("é”™è¯¯ï¼šæœªå£°æ˜çš„å˜é‡ " + varName);
        } else {
            System.out.println("å˜é‡ " + varName + " ç±»å‹æ£€æŸ¥é€šè¿‡");
        }
    }
    
    @Override
    public void visitOperator(OperatorNode node) {
        // å…ˆæ£€æŸ¥å·¦å³å­æ ‘
        node.getLeft().accept(this);
        node.getRight().accept(this);
        
        // å†æ£€æŸ¥è¿ç®—ç¬¦ç±»å‹å…¼å®¹æ€§
        System.out.println("æ£€æŸ¥è¿ç®—ç¬¦ " + node.getOperator() + " çš„ç±»å‹å…¼å®¹æ€§");
    }
    
    // æ·»åŠ å˜é‡åˆ°ç¬¦å·è¡¨
    public void addVariable(String name, String type) {
        symbolTable.put(name, type);
    }
}
```

**ğŸ¯ ä»£ç ç”Ÿæˆè®¿é—®è€…**
```java
// ä»£ç ç”Ÿæˆè®¿é—®è€…
class CodeGeneratorVisitor implements ASTVisitor {
    private StringBuilder code = new StringBuilder();
    
    @Override
    public void visitVariable(VariableNode node) {
        code.append(node.getName());
    }
    
    @Override
    public void visitOperator(OperatorNode node) {
        code.append("(");
        node.getLeft().accept(this);
        code.append(" ").append(node.getOperator()).append(" ");
        node.getRight().accept(this);
        code.append(")");
    }
    
    public String getGeneratedCode() {
        return code.toString();
    }
}
```

### 2.4 ç¼–è¯‘å™¨åº”ç”¨çš„ä¼˜åŠ¿



**ğŸ¯ è®¿é—®è€…æ¨¡å¼çš„ä»·å€¼ä½“ç°**
- **èŒè´£åˆ†ç¦»**ï¼šè¯­æ³•æ ‘èŠ‚ç‚¹åªè´Ÿè´£ç»“æ„ï¼Œå¤„ç†é€»è¾‘åœ¨è®¿é—®è€…ä¸­
- **æ˜“äºæ‰©å±•**ï¼šæ–°å¢ç¼–è¯‘é˜¶æ®µåªéœ€è¦æ–°å¢è®¿é—®è€…
- **ä»£ç å¤ç”¨**ï¼šåŒä¸€å¥—è¯­æ³•æ ‘å¯ä»¥ç”¨äºå¤šç§å¤„ç†
- **ç»´æŠ¤æ€§å¥½**ï¼šæ¯ç§å¤„ç†é€»è¾‘é›†ä¸­åœ¨ä¸€ä¸ªè®¿é—®è€…ä¸­

---

## 3. ğŸ“„ æ–‡æ¡£å¯¹è±¡æ¨¡å‹æ“ä½œ



### 3.1 æ–‡æ¡£å¯¹è±¡æ¨¡å‹çš„è®¿é—®è€…åº”ç”¨



**ğŸ”¸ æ ¸å¿ƒæ¦‚å¿µç†è§£**
æ–‡æ¡£å¯¹è±¡æ¨¡å‹(DOM)æŠŠæ–‡æ¡£è¡¨ç¤ºä¸ºèŠ‚ç‚¹æ ‘ï¼Œæ¯ä¸ªèŠ‚ç‚¹ä»£è¡¨æ–‡æ¡£çš„ä¸€éƒ¨åˆ†ã€‚è®¿é—®è€…æ¨¡å¼å¯ä»¥ç”¨æ¥å¯¹æ–‡æ¡£è¿›è¡Œå„ç§æ“ä½œï¼Œå¦‚æ ¼å¼åŒ–ã€å†…å®¹æå–ã€ç»“æ„åˆ†æç­‰ã€‚

**ğŸ“Š DOMç»“æ„ç¤ºä¾‹**
```
HTMLæ–‡æ¡£ç»“æ„ï¼š
document
â”œâ”€â”€ html
    â”œâ”€â”€ head
    â”‚   â”œâ”€â”€ title
    â”‚   â””â”€â”€ meta
    â””â”€â”€ body
        â”œâ”€â”€ h1
        â”œâ”€â”€ p
        â””â”€â”€ div
            â”œâ”€â”€ span
            â””â”€â”€ img

æ¯ä¸ªèŠ‚ç‚¹ç±»å‹å›ºå®šï¼Œä½†éœ€è¦ä¸åŒçš„å¤„ç†æ–¹å¼
```

### 3.2 æ–‡æ¡£èŠ‚ç‚¹å®šä¹‰



**ğŸ—ï¸ èŠ‚ç‚¹ç±»å‹ç»“æ„**
```java
// æ–‡æ¡£èŠ‚ç‚¹åŸºç±»
abstract class DocumentNode {
    protected String content;
    protected List<DocumentNode> children = new ArrayList<>();
    
    public abstract void accept(DocumentVisitor visitor);
    
    public void addChild(DocumentNode child) {
        children.add(child);
    }
    
    public List<DocumentNode> getChildren() { return children; }
    public String getContent() { return content; }
}

// æ–‡æœ¬èŠ‚ç‚¹
class TextNode extends DocumentNode {
    public TextNode(String text) {
        this.content = text;
    }
    
    @Override
    public void accept(DocumentVisitor visitor) {
        visitor.visitText(this);
    }
}

// å…ƒç´ èŠ‚ç‚¹
class ElementNode extends DocumentNode {
    private String tagName;
    
    public ElementNode(String tagName) {
        this.tagName = tagName;
    }
    
    public String getTagName() { return tagName; }
    
    @Override
    public void accept(DocumentVisitor visitor) {
        visitor.visitElement(this);
    }
}
```

### 3.3 æ–‡æ¡£å¤„ç†è®¿é—®è€…å®ç°



**ğŸ“ HTMLæ ¼å¼åŒ–è®¿é—®è€…**
```java
class HTMLFormatterVisitor implements DocumentVisitor {
    private StringBuilder html = new StringBuilder();
    private int indentLevel = 0;
    
    @Override
    public void visitElement(ElementNode node) {
        // å¼€å§‹æ ‡ç­¾
        addIndent();
        html.append("<").append(node.getTagName()).append(">");
        
        if (!node.getChildren().isEmpty()) {
            html.append("\n");
            indentLevel++;
            
            // å¤„ç†å­èŠ‚ç‚¹
            for (DocumentNode child : node.getChildren()) {
                child.accept(this);
            }
            
            indentLevel--;
            addIndent();
        }
        
        // ç»“æŸæ ‡ç­¾
        html.append("</").append(node.getTagName()).append(">\n");
    }
    
    @Override
    public void visitText(TextNode node) {
        addIndent();
        html.append(node.getContent()).append("\n");
    }
    
    private void addIndent() {
        for (int i = 0; i < indentLevel; i++) {
            html.append("  ");
        }
    }
    
    public String getFormattedHTML() {
        return html.toString();
    }
}
```

**ğŸ” å†…å®¹æå–è®¿é—®è€…**
```java
class ContentExtractorVisitor implements DocumentVisitor {
    private List<String> textContent = new ArrayList<>();
    private List<String> links = new ArrayList<>();
    
    @Override
    public void visitElement(ElementNode node) {
        // ç‰¹æ®Šå¤„ç†é“¾æ¥å…ƒç´ 
        if ("a".equals(node.getTagName())) {
            links.add("å‘ç°é“¾æ¥: " + node.getTagName());
        }
        
        // ç»§ç»­å¤„ç†å­èŠ‚ç‚¹
        for (DocumentNode child : node.getChildren()) {
            child.accept(this);
        }
    }
    
    @Override
    public void visitText(TextNode node) {
        textContent.add(node.getContent());
    }
    
    public List<String> getTextContent() { return textContent; }
    public List<String> getLinks() { return links; }
}
```

---

## 4. ğŸ“Š æŠ¥è¡¨ç”Ÿæˆç³»ç»Ÿ



### 4.1 æŠ¥è¡¨ç”Ÿæˆçš„è®¿é—®è€…åº”ç”¨



**ğŸ”¸ æ ¸å¿ƒæ¦‚å¿µç†è§£**
æŠ¥è¡¨ç³»ç»Ÿéœ€è¦å¤„ç†å„ç§æ•°æ®ç±»å‹ï¼Œå¹¶èƒ½ç”Ÿæˆä¸åŒæ ¼å¼çš„æŠ¥è¡¨ã€‚æ•°æ®ç»“æ„ç›¸å¯¹å›ºå®šï¼Œä½†è¾“å‡ºæ ¼å¼å¤šæ ·ï¼Œè¿™æ­£æ˜¯è®¿é—®è€…æ¨¡å¼çš„å…¸å‹åº”ç”¨åœºæ™¯ã€‚

**ğŸ’¡ ç”Ÿæ´»ç±»æ¯”ç†è§£**
```
å°±åƒåˆ¶ä½œä¸åŒé£å‘³çš„èœå“ï¼š
- åŸææ–™(æ•°æ®å…ƒç´ )ï¼šè‚‰ã€èœã€è°ƒæ–™ç­‰ï¼Œç§ç±»å›ºå®š
- å¨å¸ˆ(è®¿é—®è€…)ï¼šä¸­å¼å¨å¸ˆã€è¥¿å¼å¨å¸ˆã€æ—¥å¼å¨å¸ˆ
- æˆå“(æŠ¥è¡¨)ï¼šä¸­é¤ã€è¥¿é¤ã€æ—¥æ–™

åŒæ ·çš„åŸææ–™ï¼Œä¸åŒçš„å¨å¸ˆåšå‡ºä¸åŒé£å‘³çš„èœå“
```

### 4.2 æŠ¥è¡¨æ•°æ®å…ƒç´ å®šä¹‰



**ğŸ“‹ æ•°æ®å…ƒç´ ç»“æ„**
```java
// æŠ¥è¡¨æ•°æ®å…ƒç´ åŸºç±»
abstract class ReportElement {
    public abstract void accept(ReportVisitor visitor);
}

// é”€å”®æ•°æ®
class SalesData extends ReportElement {
    private String product;
    private double amount;
    private Date date;
    
    public SalesData(String product, double amount, Date date) {
        this.product = product;
        this.amount = amount;
        this.date = date;
    }
    
    // getteræ–¹æ³•
    public String getProduct() { return product; }
    public double getAmount() { return amount; }
    public Date getDate() { return date; }
    
    @Override
    public void accept(ReportVisitor visitor) {
        visitor.visitSalesData(this);
    }
}

// ç”¨æˆ·æ•°æ®
class UserData extends ReportElement {
    private String name;
    private String department;
    private int loginCount;
    
    public UserData(String name, String department, int loginCount) {
        this.name = name;
        this.department = department;
        this.loginCount = loginCount;
    }
    
    // getteræ–¹æ³•
    public String getName() { return name; }
    public String getDepartment() { return department; }
    public int getLoginCount() { return loginCount; }
    
    @Override
    public void accept(ReportVisitor visitor) {
        visitor.visitUserData(this);
    }
}
```

### 4.3 æŠ¥è¡¨æ ¼å¼è®¿é—®è€…å®ç°



**ğŸ“„ ExcelæŠ¥è¡¨è®¿é—®è€…**
```java
class ExcelReportVisitor implements ReportVisitor {
    private List<String[]> excelRows = new ArrayList<>();
    
    @Override
    public void visitSalesData(SalesData data) {
        String[] row = {
            "é”€å”®æ•°æ®",
            data.getProduct(),
            String.valueOf(data.getAmount()),
            data.getDate().toString()
        };
        excelRows.add(row);
    }
    
    @Override
    public void visitUserData(UserData data) {
        String[] row = {
            "ç”¨æˆ·æ•°æ®",
            data.getName(),
            data.getDepartment(),
            String.valueOf(data.getLoginCount())
        };
        excelRows.add(row);
    }
    
    public void generateExcel() {
        System.out.println("=== ExcelæŠ¥è¡¨ ===");
        for (String[] row : excelRows) {
            System.out.println(String.join("\t", row));
        }
    }
}
```

**ğŸ“‘ PDFæŠ¥è¡¨è®¿é—®è€…**
```java
class PDFReportVisitor implements ReportVisitor {
    private StringBuilder pdfContent = new StringBuilder();
    
    @Override
    public void visitSalesData(SalesData data) {
        pdfContent.append("ã€é”€å”®æŠ¥è¡¨ã€‘\n");
        pdfContent.append("äº§å“: ").append(data.getProduct()).append("\n");
        pdfContent.append("é‡‘é¢: Â¥").append(data.getAmount()).append("\n");
        pdfContent.append("æ—¥æœŸ: ").append(data.getDate()).append("\n");
        pdfContent.append("------------------------\n");
    }
    
    @Override
    public void visitUserData(UserData data) {
        pdfContent.append("ã€ç”¨æˆ·æŠ¥è¡¨ã€‘\n");
        pdfContent.append("å§“å: ").append(data.getName()).append("\n");
        pdfContent.append("éƒ¨é—¨: ").append(data.getDepartment()).append("\n");
        pdfContent.append("ç™»å½•æ¬¡æ•°: ").append(data.getLoginCount()).append("\n");
        pdfContent.append("------------------------\n");
    }
    
    public void generatePDF() {
        System.out.println("=== PDFæŠ¥è¡¨ ===");
        System.out.println(pdfContent.toString());
    }
}
```

---

## 5. ğŸ“¤ æ•°æ®å¯¼å‡ºåŠŸèƒ½



### 5.1 æ•°æ®å¯¼å‡ºçš„è®¿é—®è€…åº”ç”¨



**ğŸ”¸ æ ¸å¿ƒæ¦‚å¿µç†è§£**
æ•°æ®å¯¼å‡ºåŠŸèƒ½éœ€è¦å°†ç³»ç»Ÿä¸­çš„å„ç§å¯¹è±¡å¯¼å‡ºä¸ºä¸åŒæ ¼å¼ï¼Œå¦‚JSONã€XMLã€CSVç­‰ã€‚å¯¹è±¡ç±»å‹å›ºå®šï¼Œä½†å¯¼å‡ºæ ¼å¼å¤šæ ·ï¼Œè®¿é—®è€…æ¨¡å¼å¯ä»¥å¾ˆå¥½åœ°è§£å†³è¿™ä¸ªé—®é¢˜ã€‚

### 5.2 æ•°æ®å¯¹è±¡å®šä¹‰



**ğŸ—‚ï¸ æ•°æ®å¯¹è±¡ç»“æ„**
```java
// æ•°æ®å¯¹è±¡åŸºç±»
abstract class DataObject {
    public abstract void accept(ExportVisitor visitor);
}

// äº§å“å¯¹è±¡
class Product extends DataObject {
    private String id;
    private String name;
    private double price;
    
    public Product(String id, String name, double price) {
        this.id = id;
        this.name = name;
        this.price = price;
    }
    
    // getteræ–¹æ³•
    public String getId() { return id; }
    public String getName() { return name; }
    public double getPrice() { return price; }
    
    @Override
    public void accept(ExportVisitor visitor) {
        visitor.visitProduct(this);
    }
}

// è®¢å•å¯¹è±¡
class Order extends DataObject {
    private String orderId;
    private String customerId;
    private List<Product> products;
    
    public Order(String orderId, String customerId) {
        this.orderId = orderId;
        this.customerId = customerId;
        this.products = new ArrayList<>();
    }
    
    public void addProduct(Product product) {
        products.add(product);
    }
    
    // getteræ–¹æ³•
    public String getOrderId() { return orderId; }
    public String getCustomerId() { return customerId; }
    public List<Product> getProducts() { return products; }
    
    @Override
    public void accept(ExportVisitor visitor) {
        visitor.visitOrder(this);
    }
}
```

### 5.3 å¯¼å‡ºæ ¼å¼è®¿é—®è€…å®ç°



**ğŸ”§ JSONå¯¼å‡ºè®¿é—®è€…**
```java
class JSONExportVisitor implements ExportVisitor {
    private StringBuilder json = new StringBuilder();
    private boolean firstItem = true;
    
    public void startExport() {
        json.append("[\n");
        firstItem = true;
    }
    
    @Override
    public void visitProduct(Product product) {
        if (!firstItem) json.append(",\n");
        
        json.append("  {\n");
        json.append("    \"type\": \"product\",\n");
        json.append("    \"id\": \"").append(product.getId()).append("\",\n");
        json.append("    \"name\": \"").append(product.getName()).append("\",\n");
        json.append("    \"price\": ").append(product.getPrice()).append("\n");
        json.append("  }");
        
        firstItem = false;
    }
    
    @Override
    public void visitOrder(Order order) {
        if (!firstItem) json.append(",\n");
        
        json.append("  {\n");
        json.append("    \"type\": \"order\",\n");
        json.append("    \"orderId\": \"").append(order.getOrderId()).append("\",\n");
        json.append("    \"customerId\": \"").append(order.getCustomerId()).append("\",\n");
        json.append("    \"productCount\": ").append(order.getProducts().size()).append("\n");
        json.append("  }");
        
        firstItem = false;
    }
    
    public String finishExport() {
        json.append("\n]");
        return json.toString();
    }
}
```

**ğŸ“„ CSVå¯¼å‡ºè®¿é—®è€…**
```java
class CSVExportVisitor implements ExportVisitor {
    private List<String> csvLines = new ArrayList<>();
    
    public void startExport() {
        csvLines.add("ç±»å‹,ID,åç§°,ä»·æ ¼/å®¢æˆ·ID,äº§å“æ•°é‡");
    }
    
    @Override
    public void visitProduct(Product product) {
        String line = String.join(",",
            "äº§å“",
            product.getId(),
            product.getName(),
            String.valueOf(product.getPrice()),
            ""
        );
        csvLines.add(line);
    }
    
    @Override
    public void visitOrder(Order order) {
        String line = String.join(",",
            "è®¢å•",
            order.getOrderId(),
            "",
            order.getCustomerId(),
            String.valueOf(order.getProducts().size())
        );
        csvLines.add(line);
    }
    
    public String getCSV() {
        return String.join("\n", csvLines);
    }
}
```

---

## 6. ğŸ”„ å¯¹è±¡åºåˆ—åŒ–å¤„ç†



### 6.1 åºåˆ—åŒ–çš„è®¿é—®è€…åº”ç”¨



**ğŸ”¸ æ ¸å¿ƒæ¦‚å¿µç†è§£**
å¯¹è±¡åºåˆ—åŒ–æ˜¯å°†å†…å­˜ä¸­çš„å¯¹è±¡è½¬æ¢ä¸ºå¯å­˜å‚¨æˆ–ä¼ è¾“çš„æ ¼å¼ã€‚ä¸åŒçš„å¯¹è±¡ç±»å‹éœ€è¦ä¸åŒçš„åºåˆ—åŒ–æ–¹å¼ï¼Œè®¿é—®è€…æ¨¡å¼å¯ä»¥å°†åºåˆ—åŒ–é€»è¾‘ä¸å¯¹è±¡æœ¬èº«åˆ†ç¦»ã€‚

**ğŸ’¡ é€šä¿—ç†è§£**
```
åºåˆ—åŒ–å°±åƒæŠŠä¸åŒçš„ç‰©å“æ‰“åŒ…ï¼š
- ä¹¦ç±ï¼šç”¨ç¡¬çº¸ç®±åŒ…è£…
- è¡£æœï¼šç”¨å¡‘æ–™è¢‹åŒ…è£…  
- æ˜“ç¢å“ï¼šç”¨æ³¡æ²«åŒ…è£…

æ¯ç§ç‰©å“æœ‰æœ€é€‚åˆçš„åŒ…è£…æ–¹å¼
æ¯ç§åºåˆ—åŒ–æ ¼å¼æœ‰æœ€é€‚åˆçš„å¤„ç†æ–¹å¼
```

### 6.2 åºåˆ—åŒ–è®¿é—®è€…å®ç°



**ğŸ’¾ äºŒè¿›åˆ¶åºåˆ—åŒ–è®¿é—®è€…**
```java
class BinarySerializeVisitor implements SerializeVisitor {
    private ByteArrayOutputStream buffer = new ByteArrayOutputStream();
    private DataOutputStream output;
    
    public BinarySerializeVisitor() {
        output = new DataOutputStream(buffer);
    }
    
    @Override
    public void visitString(StringData data) {
        try {
            output.writeUTF("STRING");
            output.writeUTF(data.getValue());
        } catch (IOException e) {
            System.err.println("åºåˆ—åŒ–å­—ç¬¦ä¸²å¤±è´¥: " + e.getMessage());
        }
    }
    
    @Override
    public void visitNumber(NumberData data) {
        try {
            output.writeUTF("NUMBER");
            output.writeDouble(data.getValue());
        } catch (IOException e) {
            System.err.println("åºåˆ—åŒ–æ•°å­—å¤±è´¥: " + e.getMessage());
        }
    }
    
    public byte[] getSerializedData() {
        return buffer.toByteArray();
    }
}
```

**ğŸ“ XMLåºåˆ—åŒ–è®¿é—®è€…**
```java
class XMLSerializeVisitor implements SerializeVisitor {
    private StringBuilder xml = new StringBuilder();
    
    public void startDocument() {
        xml.append("<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n");
        xml.append("<document>\n");
    }
    
    @Override
    public void visitString(StringData data) {
        xml.append("  <string>")
           .append(escapeXML(data.getValue()))
           .append("</string>\n");
    }
    
    @Override
    public void visitNumber(NumberData data) {
        xml.append("  <number>")
           .append(data.getValue())
           .append("</number>\n");
    }
    
    public String finishDocument() {
        xml.append("</document>");
        return xml.toString();
    }
    
    private String escapeXML(String text) {
        return text.replace("&", "&amp;")
                  .replace("<", "&lt;")
                  .replace(">", "&gt;");
    }
}
```

### 6.3 åºåˆ—åŒ–åº”ç”¨ç¤ºä¾‹



**ğŸ¯ ä½¿ç”¨ç¤ºä¾‹**
```java
public class SerializationExample {
    public static void main(String[] args) {
        // åˆ›å»ºæ•°æ®å¯¹è±¡
        List<SerializableData> dataList = Arrays.asList(
            new StringData("Hello World"),
            new NumberData(42.5),
            new StringData("è®¾è®¡æ¨¡å¼å­¦ä¹ ")
        );
        
        // äºŒè¿›åˆ¶åºåˆ—åŒ–
        BinarySerializeVisitor binaryVisitor = new BinarySerializeVisitor();
        for (SerializableData data : dataList) {
            data.accept(binaryVisitor);
        }
        byte[] binaryData = binaryVisitor.getSerializedData();
        System.out.println("äºŒè¿›åˆ¶åºåˆ—åŒ–å®Œæˆï¼Œå¤§å°: " + binaryData.length + " å­—èŠ‚");
        
        // XMLåºåˆ—åŒ–
        XMLSerializeVisitor xmlVisitor = new XMLSerializeVisitor();
        xmlVisitor.startDocument();
        for (SerializableData data : dataList) {
            data.accept(xmlVisitor);
        }
        String xmlData = xmlVisitor.finishDocument();
        System.out.println("XMLåºåˆ—åŒ–ç»“æœ:\n" + xmlData);
    }
}
```

---

## 7. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“



### 7.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ



```
ğŸ”¸ è®¿é—®è€…æ¨¡å¼åº”ç”¨æœ¬è´¨ï¼šåœ¨å¯¹è±¡ç»“æ„ç¨³å®šæ—¶ï¼Œä¸ºä¸åŒçš„å¤„ç†éœ€æ±‚æä¾›çµæ´»çš„è§£å†³æ–¹æ¡ˆ
ğŸ”¸ ç¼–è¯‘å™¨åº”ç”¨ï¼šè¯­æ³•æ ‘ç»“æ„å›ºå®šï¼Œå¤„ç†é˜¶æ®µå¤šæ ·(è¯æ³•åˆ†æã€è¯­æ³•æ£€æŸ¥ã€ä»£ç ç”Ÿæˆ)
ğŸ”¸ æ–‡æ¡£å¤„ç†åº”ç”¨ï¼šDOMç»“æ„å›ºå®šï¼Œæ“ä½œå¤šæ ·(æ ¼å¼åŒ–ã€å†…å®¹æå–ã€ç»“æ„åˆ†æ)
ğŸ”¸ æŠ¥è¡¨ç”Ÿæˆåº”ç”¨ï¼šæ•°æ®ç±»å‹å›ºå®šï¼Œè¾“å‡ºæ ¼å¼å¤šæ ·(Excelã€PDFã€HTML)
ğŸ”¸ æ•°æ®å¯¼å‡ºåº”ç”¨ï¼šå¯¹è±¡ç±»å‹å›ºå®šï¼Œå¯¼å‡ºæ ¼å¼å¤šæ ·(JSONã€XMLã€CSV)
ğŸ”¸ åºåˆ—åŒ–åº”ç”¨ï¼šå¯¹è±¡ç»“æ„å›ºå®šï¼Œåºåˆ—åŒ–æ–¹å¼å¤šæ ·(äºŒè¿›åˆ¶ã€XMLã€JSON)
```

### 7.2 å…³é”®ç†è§£è¦ç‚¹



**ğŸ”¹ è®¿é—®è€…æ¨¡å¼çš„åº”ç”¨ä»·å€¼**
```
èŒè´£åˆ†ç¦»ï¼šå¯¹è±¡è´Ÿè´£æ•°æ®ç»“æ„ï¼Œè®¿é—®è€…è´Ÿè´£å¤„ç†é€»è¾‘
æ‰©å±•æ€§å¼ºï¼šæ–°å¢å¤„ç†æ–¹å¼åªéœ€è¦æ–°å¢è®¿é—®è€…
ä»£ç å¤ç”¨ï¼šåŒä¸€å¥—å¯¹è±¡ç»“æ„å¯ä»¥ç”¨äºå¤šç§å¤„ç†
ç»´æŠ¤æ€§å¥½ï¼šæ¯ç§å¤„ç†é€»è¾‘é›†ä¸­åœ¨ä¸€ä¸ªç±»ä¸­
```

**ğŸ”¹ é€‰æ‹©è®¿é—®è€…æ¨¡å¼çš„åˆ¤æ–­æ ‡å‡†**
```
å¯¹è±¡ç»“æ„ç¨³å®š + æ“ä½œå¤šæ · = é€‚åˆè®¿é—®è€…æ¨¡å¼
å¯¹è±¡ç»“æ„å¤šå˜ + æ“ä½œç®€å• = ä¸é€‚åˆè®¿é—®è€…æ¨¡å¼

æ ¸å¿ƒåˆ¤æ–­ï¼šç»“æ„çš„ç¨³å®šæ€§ vs æ“ä½œçš„å¤šæ ·æ€§
```

### 7.3 å®é™…åº”ç”¨æŒ‡å¯¼



**ğŸ¯ è®¾è®¡å»ºè®®**
- **æ¥å£è®¾è®¡**ï¼šè®¿é—®è€…æ¥å£è¦è€ƒè™‘æ‰€æœ‰å¯èƒ½çš„å…ƒç´ ç±»å‹
- **æ‰©å±•æ€§è€ƒè™‘**ï¼šæ–°å¢å…ƒç´ ç±»å‹ä¼šå½±å“æ‰€æœ‰è®¿é—®è€…
- **æ€§èƒ½ä¼˜åŒ–**ï¼šé¿å…åœ¨è®¿é—®è¿‡ç¨‹ä¸­ä¿®æ”¹å¯¹è±¡ç»“æ„
- **é”™è¯¯å¤„ç†**ï¼šè®¿é—®è€…è¦å¤„ç†å„ç§å¼‚å¸¸æƒ…å†µ

**âš ï¸ å¸¸è§è¯¯åŒº**
```
è¯¯åŒº1ï¼šåœ¨å¯¹è±¡ç»“æ„ç»å¸¸å˜åŒ–æ—¶ä½¿ç”¨è®¿é—®è€…æ¨¡å¼
æ­£ç¡®ç†è§£ï¼šè®¿é—®è€…æ¨¡å¼é€‚åˆç»“æ„ç¨³å®šã€æ“ä½œå¤šæ ·çš„åœºæ™¯

è¯¯åŒº2ï¼šä¸ºç®€å•æ“ä½œä½¿ç”¨è®¿é—®è€…æ¨¡å¼
æ­£ç¡®ç†è§£ï¼šç®€å•æ“ä½œç›´æ¥åœ¨å¯¹è±¡ä¸­å®ç°æ›´åˆé€‚

è¯¯åŒº3ï¼šè®¿é—®è€…ä¹‹é—´æœ‰å¤æ‚ä¾èµ–å…³ç³»
æ­£ç¡®ç†è§£ï¼šè®¿é—®è€…åº”è¯¥ç›¸äº’ç‹¬ç«‹ï¼Œé¿å…è€¦åˆ
```

### 7.4 å­¦ä¹ æ£€æŸ¥æ¸…å•



**ğŸ“ åŸºç¡€ç†è§£æ£€æŸ¥**
- [ ] èƒ½å¤Ÿè¯†åˆ«è®¿é—®è€…æ¨¡å¼çš„é€‚ç”¨åœºæ™¯
- [ ] ç†è§£è®¿é—®è€…æ¨¡å¼çš„æ ¸å¿ƒä»·å€¼å’Œä¼˜åŠ¿
- [ ] æŒæ¡è®¿é—®è€…æ¨¡å¼çš„åŸºæœ¬å®ç°æ–¹æ³•

**ğŸ”§ å®è·µèƒ½åŠ›æ£€æŸ¥**
- [ ] èƒ½å¤Ÿä¸ºç¼–è¯‘å™¨è®¾è®¡è¯­æ³•æ ‘è®¿é—®è€…
- [ ] èƒ½å¤Ÿå®ç°æ–‡æ¡£å¤„ç†çš„è®¿é—®è€…
- [ ] èƒ½å¤Ÿè®¾è®¡æŠ¥è¡¨ç”Ÿæˆçš„è®¿é—®è€…ç³»ç»Ÿ
- [ ] èƒ½å¤Ÿå®ç°æ•°æ®å¯¼å‡ºå’Œåºåˆ—åŒ–è®¿é—®è€…

**ğŸ¯ åº”ç”¨è®¾è®¡æ£€æŸ¥**
- [ ] èƒ½å¤Ÿåˆ¤æ–­ä½•æ—¶ä½¿ç”¨è®¿é—®è€…æ¨¡å¼
- [ ] èƒ½å¤Ÿè®¾è®¡è®¿é—®è€…æ¥å£å’Œå…ƒç´ æ¥å£
- [ ] èƒ½å¤Ÿå¤„ç†è®¿é—®è€…æ¨¡å¼çš„æ‰©å±•é—®é¢˜
- [ ] èƒ½å¤Ÿä¼˜åŒ–è®¿é—®è€…æ¨¡å¼çš„æ€§èƒ½

### 7.5 å®æˆ˜ç»ƒä¹ å»ºè®®



**ğŸ† ç»ƒä¹ é¡¹ç›®**
1. **ç®€å•è®¡ç®—å™¨**ï¼šå®ç°è¡¨è¾¾å¼è§£æå’Œå¤šç§æ±‚å€¼æ–¹å¼
2. **é…ç½®æ–‡ä»¶å¤„ç†å™¨**ï¼šæ”¯æŒå¤šç§æ ¼å¼çš„é…ç½®æ–‡ä»¶è¯»å†™
3. **æ—¥å¿—åˆ†æå·¥å…·**ï¼šå¯¹æ—¥å¿—æ•°æ®è¿›è¡Œå¤šç§ç»Ÿè®¡åˆ†æ
4. **ä»£ç åˆ†æå·¥å…·**ï¼šå¯¹ä»£ç è¿›è¡Œå¤šç§è´¨é‡æ£€æŸ¥

**ğŸ”‘ æ ¸å¿ƒè®°å¿†å£è¯€**
> ç»“æ„ç¨³å®šæ“ä½œå¤šï¼Œè®¿é—®è€…æ¨¡å¼æ¥å¸®åŠ©
> ç¼–è¯‘æŠ¥è¡¨å’Œå¯¼å‡ºï¼Œåºåˆ—åŒ–ä¸­æ˜¾ç¥é€š
> èŒè´£åˆ†ç¦»æ˜“æ‰©å±•ï¼Œä»£ç å¤ç”¨ç»´æŠ¤å¥½

**ğŸ’¡ å»¶ä¼¸å­¦ä¹ æ–¹å‘**
- å­¦ä¹ å…¶ä»–è¡Œä¸ºå‹æ¨¡å¼çš„ç»„åˆä½¿ç”¨
- ç ”ç©¶è®¿é—®è€…æ¨¡å¼åœ¨å¼€æºé¡¹ç›®ä¸­çš„åº”ç”¨
- äº†è§£è®¿é—®è€…æ¨¡å¼çš„æ€§èƒ½ä¼˜åŒ–æŠ€å·§
- æ¢ç´¢è®¿é—®è€…æ¨¡å¼ä¸å‡½æ•°å¼ç¼–ç¨‹çš„ç»“åˆ