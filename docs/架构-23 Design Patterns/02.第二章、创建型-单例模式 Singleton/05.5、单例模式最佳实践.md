---
title: 5ã€å•ä¾‹æ¨¡å¼æœ€ä½³å®è·µ
---
## ğŸ“š ç›®å½•

1. [å®ç°æ–¹å¼é€‰æ‹©æ ‡å‡†](#1-å®ç°æ–¹å¼é€‰æ‹©æ ‡å‡†)
2. [ç ´åå•ä¾‹çš„æ–¹å¼](#2-ç ´åå•ä¾‹çš„æ–¹å¼)
3. [åå°„æ”»å‡»é˜²æŠ¤](#3-åå°„æ”»å‡»é˜²æŠ¤)
4. [åºåˆ—åŒ–é—®é¢˜å¤„ç†](#4-åºåˆ—åŒ–é—®é¢˜å¤„ç†)
5. [æµ‹è¯•å‹å¥½æ€§è®¾è®¡](#5-æµ‹è¯•å‹å¥½æ€§è®¾è®¡)
6. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#6-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ¯ å®ç°æ–¹å¼é€‰æ‹©æ ‡å‡†


### 1.1 ä»€ä¹ˆæ˜¯å®ç°æ–¹å¼é€‰æ‹©æ ‡å‡†

**é€šä¿—ç†è§£**ï¼šå°±åƒé€‰æ‹©äº¤é€šå·¥å…·ä¸€æ ·ï¼Œä¸åŒåœºæ™¯ä¸‹è¦é€‰æ‹©æœ€åˆé€‚çš„å•ä¾‹å®ç°æ–¹å¼

```
é€‰æ‹©äº¤é€šå·¥å…·çš„ç±»æ¯”ï¼š
çŸ­è·ç¦» â†’ èµ°è·¯/è‡ªè¡Œè½¦     (ç®€å•åœºæ™¯ â†’ é¥¿æ±‰å¼)
ä¸­è·ç¦» â†’ å…¬äº¤/åœ°é“       (ä¸€èˆ¬åœºæ™¯ â†’ æ‡’æ±‰å¼)
é•¿è·ç¦» â†’ é«˜é“/é£æœº       (å¤æ‚åœºæ™¯ â†’ æšä¸¾å¼)
ç´§æ€¥æƒ…å†µ â†’ æ•‘æŠ¤è½¦        (é«˜è¦æ±‚ â†’ åŒé‡æ£€æŸ¥)
```

### 1.2 å„ç§å®ç°æ–¹å¼çš„é€‚ç”¨åœºæ™¯


**ğŸ”¸ é¥¿æ±‰å¼ - é€‚åˆç®€å•åœºæ™¯**
```java
// é¥¿æ±‰å¼ï¼šç±»åŠ è½½æ—¶å°±åˆ›å»ºå®ä¾‹
public class EagerSingleton {
    // åœ¨ç±»åŠ è½½æ—¶å°±åˆ›å»ºï¼Œç®€å•ç›´æ¥
    private static final EagerSingleton instance = new EagerSingleton();
    
    private EagerSingleton() {}
    
    public static EagerSingleton getInstance() {
        return instance;
    }
}
```

> ğŸ’¡ **é€‚ç”¨åœºæ™¯**ï¼šç¨‹åºå¯åŠ¨æ—¶å°±éœ€è¦ä½¿ç”¨ï¼Œå®ä¾‹åˆ›å»ºæˆæœ¬ä¸é«˜

**ğŸ”¸ æ‡’æ±‰å¼ - é€‚åˆå»¶è¿ŸåŠ è½½**
```java
// æ‡’æ±‰å¼ï¼šç¬¬ä¸€æ¬¡ä½¿ç”¨æ—¶æ‰åˆ›å»º
public class LazySingleton {
    private static LazySingleton instance;
    
    private LazySingleton() {}
    
    // synchronizedç¡®ä¿çº¿ç¨‹å®‰å…¨ï¼Œä½†æ€§èƒ½ç¨å·®
    public static synchronized LazySingleton getInstance() {
        if (instance == null) {
            instance = new LazySingleton();
        }
        return instance;
    }
}
```

> ğŸ’¡ **é€‚ç”¨åœºæ™¯**ï¼šå¯èƒ½ä¸ä¼šç”¨åˆ°ï¼Œæˆ–è€…åˆ›å»ºæˆæœ¬æ¯”è¾ƒé«˜

**ğŸ”¸ åŒé‡æ£€æŸ¥é” - é€‚åˆé«˜å¹¶å‘åœºæ™¯**
```java
// åŒé‡æ£€æŸ¥ï¼šæ—¢å»¶è¿ŸåŠ è½½åˆé«˜æ€§èƒ½
public class DoubleCheckSingleton {
    // volatileç¡®ä¿å¯è§æ€§å’Œç¦æ­¢é‡æ’åº
    private static volatile DoubleCheckSingleton instance;
    
    private DoubleCheckSingleton() {}
    
    public static DoubleCheckSingleton getInstance() {
        if (instance == null) {  // ç¬¬ä¸€æ¬¡æ£€æŸ¥
            synchronized (DoubleCheckSingleton.class) {
                if (instance == null) {  // ç¬¬äºŒæ¬¡æ£€æŸ¥
                    instance = new DoubleCheckSingleton();
                }
            }
        }
        return instance;
    }
}
```

> ğŸ’¡ **é€‚ç”¨åœºæ™¯**ï¼šé«˜å¹¶å‘ç¯å¢ƒï¼Œæ—¢è¦å»¶è¿ŸåŠ è½½åˆè¦æ€§èƒ½

### 1.3 é€‰æ‹©å†³ç­–è¡¨


| åœºæ™¯ç‰¹ç‚¹ | **æ¨èå®ç°** | **ç†ç”±** |
|---------|------------|---------|
| ğŸ”¸ **ç®€å•åº”ç”¨ï¼Œå¯åŠ¨å°±ç”¨** | `é¥¿æ±‰å¼` | `ä»£ç ç®€å•ï¼Œçº¿ç¨‹å®‰å…¨ï¼Œæ— æ€§èƒ½é—®é¢˜` |
| ğŸ”¸ **å¯èƒ½ä¸ä½¿ç”¨** | `æ‡’æ±‰å¼` | `èŠ‚çœå†…å­˜ï¼ŒæŒ‰éœ€åˆ›å»º` |
| ğŸ”¸ **é«˜å¹¶å‘è®¿é—®** | `åŒé‡æ£€æŸ¥é”` | `æ€§èƒ½å¥½ï¼Œçº¿ç¨‹å®‰å…¨` |
| ğŸ”¸ **è¦æ±‚æœ€é«˜å®‰å…¨æ€§** | `æšä¸¾å¼` | `é˜²åå°„ï¼Œé˜²åºåˆ—åŒ–` |
| ğŸ”¸ **Springç­‰æ¡†æ¶ä¸­** | `é™æ€å†…éƒ¨ç±»` | `å»¶è¿ŸåŠ è½½ï¼Œæ€§èƒ½å¥½` |

---

## 2. âš ï¸ ç ´åå•ä¾‹çš„æ–¹å¼


### 2.1 ä»€ä¹ˆå«ç ´åå•ä¾‹

**é€šä¿—è§£é‡Š**ï¼šå°±åƒæœ¬æ¥åªèƒ½æœ‰ä¸€ä¸ªå›½ç‹ï¼Œä½†é€šè¿‡æŸäº›æ‰‹æ®µåˆåˆ›é€ å‡ºäº†ç¬¬äºŒä¸ªå›½ç‹

### 2.2 åå°„ç ´åå•ä¾‹


**ğŸš¨ é—®é¢˜æ¼”ç¤º**
```java
public class ReflectionAttack {
    public static void main(String[] args) throws Exception {
        // æ­£å¸¸è·å–å®ä¾‹
        Singleton s1 = Singleton.getInstance();
        
        // é€šè¿‡åå°„è·å–æ„é€ å™¨
        Constructor<Singleton> constructor = Singleton.class.getDeclaredConstructor();
        constructor.setAccessible(true);  // çªç ´privateé™åˆ¶
        
        // åˆ›å»ºæ–°å®ä¾‹ - å•ä¾‹è¢«ç ´åäº†ï¼
        Singleton s2 = constructor.newInstance();
        
        System.out.println(s1 == s2);  // false - ä¸æ˜¯åŒä¸€ä¸ªå®ä¾‹
        System.out.println("å•ä¾‹è¢«ç ´åäº†ï¼");
    }
}
```

> âš ï¸ **é—®é¢˜æœ¬è´¨**ï¼šåå°„å¯ä»¥å¼ºåˆ¶è°ƒç”¨privateæ„é€ å™¨ï¼Œåˆ›å»ºæ–°å®ä¾‹

### 2.3 åºåˆ—åŒ–ç ´åå•ä¾‹


**ğŸš¨ é—®é¢˜æ¼”ç¤º**
```java
// å®ç°Serializableçš„å•ä¾‹
public class SerializableSingleton implements Serializable {
    private static final SerializableSingleton instance = new SerializableSingleton();
    
    private SerializableSingleton() {}
    
    public static SerializableSingleton getInstance() {
        return instance;
    }
}

// æµ‹è¯•åºåˆ—åŒ–ç ´å
public class SerializationAttack {
    public static void main(String[] args) throws Exception {
        SerializableSingleton s1 = SerializableSingleton.getInstance();
        
        // åºåˆ—åŒ–åˆ°æ–‡ä»¶
        ObjectOutputStream oos = new ObjectOutputStream(new FileOutputStream("singleton.ser"));
        oos.writeObject(s1);
        oos.close();
        
        // ä»æ–‡ä»¶ååºåˆ—åŒ– - ä¼šåˆ›å»ºæ–°å®ä¾‹ï¼
        ObjectInputStream ois = new ObjectInputStream(new FileInputStream("singleton.ser"));
        SerializableSingleton s2 = (SerializableSingleton) ois.readObject();
        ois.close();
        
        System.out.println(s1 == s2);  // false - ä¸æ˜¯åŒä¸€ä¸ªå®ä¾‹
        System.out.println("å•ä¾‹è¢«åºåˆ—åŒ–ç ´åäº†ï¼");
    }
}
```

> âš ï¸ **é—®é¢˜æœ¬è´¨**ï¼šååºåˆ—åŒ–æ—¶ä¼šè°ƒç”¨æ„é€ å™¨åˆ›å»ºæ–°å¯¹è±¡

### 2.4 å…‹éš†ç ´åå•ä¾‹


**ğŸš¨ é—®é¢˜æ¼”ç¤º**
```java
// å®ç°Cloneableçš„å•ä¾‹ï¼ˆé”™è¯¯åšæ³•ï¼‰
public class CloneableSingleton implements Cloneable {
    private static final CloneableSingleton instance = new CloneableSingleton();
    
    private CloneableSingleton() {}
    
    public static CloneableSingleton getInstance() {
        return instance;
    }
    
    // å¦‚æœé‡å†™äº†cloneæ–¹æ³•ï¼Œå°±å¯èƒ½è¢«ç ´å
    @Override
    protected Object clone() throws CloneNotSupportedException {
        return super.clone();  // å±é™©ï¼ä¼šåˆ›å»ºæ–°å®ä¾‹
    }
}
```

> âš ï¸ **é—®é¢˜æœ¬è´¨**ï¼šcloneæ–¹æ³•ç»•è¿‡æ„é€ å™¨åˆ›å»ºæ–°å¯¹è±¡

---

## 3. ğŸ›¡ï¸ åå°„æ”»å‡»é˜²æŠ¤


### 3.1 é˜²æŠ¤åŸç†

**é€šä¿—ç†è§£**ï¼šå°±åƒåœ¨æ„é€ å™¨é‡Œè®¾ç½®"é—¨å«"ï¼Œç¬¬äºŒæ¬¡æœ‰äººæƒ³è¿›æ¥å°±æ‹¦ä½

### 3.2 æ„é€ å™¨ä¸­æ·»åŠ æ£€æŸ¥


**âœ… é˜²æŠ¤ä»£ç **
```java
public class ReflectionSafeSingleton {
    private static final ReflectionSafeSingleton instance = new ReflectionSafeSingleton();
    private static boolean created = false;  // æ ‡è®°æ˜¯å¦å·²åˆ›å»º
    
    private ReflectionSafeSingleton() {
        // é˜²æŠ¤ï¼šå¦‚æœå·²ç»åˆ›å»ºè¿‡ï¼Œå°±æŠ›å¼‚å¸¸
        if (created) {
            throw new RuntimeException("ä¸èƒ½é€šè¿‡åå°„åˆ›å»ºå¤šä¸ªå®ä¾‹ï¼");
        }
        created = true;  // æ ‡è®°å·²åˆ›å»º
    }
    
    public static ReflectionSafeSingleton getInstance() {
        return instance;
    }
}
```

**ğŸ”§ æµ‹è¯•é˜²æŠ¤æ•ˆæœ**
```java
public class TestReflectionSafe {
    public static void main(String[] args) {
        try {
            // æ­£å¸¸è·å–
            ReflectionSafeSingleton s1 = ReflectionSafeSingleton.getInstance();
            
            // å°è¯•åå°„æ”»å‡»
            Constructor<ReflectionSafeSingleton> constructor = 
                ReflectionSafeSingleton.class.getDeclaredConstructor();
            constructor.setAccessible(true);
            
            // è¿™é‡Œä¼šæŠ›å¼‚å¸¸
            ReflectionSafeSingleton s2 = constructor.newInstance();
        } catch (Exception e) {
            System.out.println("é˜²æŠ¤æˆåŠŸï¼š" + e.getMessage());
        }
    }
}
```

### 3.3 æšä¸¾å¼å¤©ç„¶é˜²åå°„


**âœ… æœ€å®‰å…¨çš„å®ç°**
```java
// æšä¸¾å¤©ç„¶é˜²åå°„
public enum EnumSingleton {
    INSTANCE;  // è¿™å°±æ˜¯å•ä¾‹å®ä¾‹
    
    public void doSomething() {
        System.out.println("æ‰§è¡Œä¸šåŠ¡é€»è¾‘");
    }
}

// ä½¿ç”¨æ–¹å¼
public class TestEnum {
    public static void main(String[] args) {
        EnumSingleton singleton = EnumSingleton.INSTANCE;
        singleton.doSomething();
        
        // åå°„æ— æ³•æ”»å‡»æšä¸¾ï¼JVMå±‚é¢ä¿è¯
    }
}
```

> ğŸ’¡ **ä¸ºä»€ä¹ˆæšä¸¾å®‰å…¨**ï¼šJVMè§„èŒƒç¦æ­¢é€šè¿‡åå°„åˆ›å»ºæšä¸¾å®ä¾‹

---

## 4. ğŸ“¦ åºåˆ—åŒ–é—®é¢˜å¤„ç†


### 4.1 é—®é¢˜æ ¹æº

**é€šä¿—è§£é‡Š**ï¼šåºåˆ—åŒ–å°±åƒæŠŠå¯¹è±¡"å†·å†»"ä¿å­˜ï¼Œååºåˆ—åŒ–æ—¶"è§£å†»"ä¼šé‡æ–°åˆ›å»ºå¯¹è±¡

### 4.2 readResolveæ–¹æ³•è§£å†³


**âœ… æ­£ç¡®çš„åºåˆ—åŒ–å•ä¾‹**
```java
public class SerializationSafeSingleton implements Serializable {
    private static final SerializationSafeSingleton instance = new SerializationSafeSingleton();
    
    private SerializationSafeSingleton() {}
    
    public static SerializationSafeSingleton getInstance() {
        return instance;
    }
    
    // å…³é”®ï¼šæ·»åŠ è¿™ä¸ªæ–¹æ³•é˜²æ­¢åºåˆ—åŒ–ç ´å
    private Object readResolve() {
        return instance;  // è¿”å›åŸæ¥çš„å®ä¾‹ï¼Œä¸åˆ›å»ºæ–°çš„
    }
}
```

**ğŸ”§ å·¥ä½œåŸç†å›¾ç¤º**
```
æ­£å¸¸åºåˆ—åŒ–æµç¨‹ï¼š
å¯¹è±¡ â†’ åºåˆ—åŒ– â†’ æ–‡ä»¶ â†’ ååºåˆ—åŒ– â†’ æ–°å¯¹è±¡ âŒ

æ·»åŠ readResolveåï¼š
å¯¹è±¡ â†’ åºåˆ—åŒ– â†’ æ–‡ä»¶ â†’ ååºåˆ—åŒ– â†’ readResolve() â†’ åŸå¯¹è±¡ âœ…
```

### 4.3 æµ‹è¯•åºåˆ—åŒ–å®‰å…¨æ€§


```java
public class TestSerializationSafe {
    public static void main(String[] args) throws Exception {
        SerializationSafeSingleton s1 = SerializationSafeSingleton.getInstance();
        
        // åºåˆ—åŒ–
        ByteArrayOutputStream bos = new ByteArrayOutputStream();
        ObjectOutputStream oos = new ObjectOutputStream(bos);
        oos.writeObject(s1);
        
        // ååºåˆ—åŒ–
        ByteArrayInputStream bis = new ByteArrayInputStream(bos.toByteArray());
        ObjectInputStream ois = new ObjectInputStream(bis);
        SerializationSafeSingleton s2 = (SerializationSafeSingleton) ois.readObject();
        
        System.out.println(s1 == s2);  // true - æ˜¯åŒä¸€ä¸ªå®ä¾‹
        System.out.println("åºåˆ—åŒ–å®‰å…¨ï¼");
    }
}
```

### 4.4 æšä¸¾è‡ªåŠ¨è§£å†³åºåˆ—åŒ–é—®é¢˜


```java
// æšä¸¾å¤©ç„¶æ”¯æŒåºåˆ—åŒ–ï¼Œä¸ä¼šæœ‰é—®é¢˜
public enum SafestSingleton implements Serializable {
    INSTANCE;
    
    private String data = "é‡è¦æ•°æ®";
    
    public String getData() {
        return data;
    }
    
    public void setData(String data) {
        this.data = data;
    }
}
```

> ğŸ’¡ **æšä¸¾ä¼˜åŠ¿**ï¼šJVMä¿è¯åºåˆ—åŒ–/ååºåˆ—åŒ–æ—¶æ˜¯åŒä¸€ä¸ªå®ä¾‹

---

## 5. ğŸ§ª æµ‹è¯•å‹å¥½æ€§è®¾è®¡


### 5.1 å•ä¾‹æµ‹è¯•çš„å›°éš¾

**é€šä¿—ç†è§£**ï¼šå•ä¾‹å°±åƒå…¨å±€å˜é‡ï¼Œæµ‹è¯•æ—¶å¾ˆéš¾"é‡ç½®"çŠ¶æ€

### 5.2 æµ‹è¯•ä¸­çš„é—®é¢˜


**âŒ éš¾ä»¥æµ‹è¯•çš„å•ä¾‹**
```java
public class HardToTestSingleton {
    private static HardToTestSingleton instance;
    private int count = 0;
    
    private HardToTestSingleton() {}
    
    public static HardToTestSingleton getInstance() {
        if (instance == null) {
            instance = new HardToTestSingleton();
        }
        return instance;
    }
    
    public void increment() {
        count++;
    }
    
    public int getCount() {
        return count;
    }
}

// æµ‹è¯•é—®é¢˜ï¼šå¤šä¸ªæµ‹è¯•é—´çŠ¶æ€ä¼šäº’ç›¸å½±å“
class TestProblem {
    @Test
    void test1() {
        HardToTestSingleton singleton = HardToTestSingleton.getInstance();
        singleton.increment();
        assertEquals(1, singleton.getCount());  // å¯èƒ½å¤±è´¥
    }
    
    @Test
    void test2() {
        HardToTestSingleton singleton = HardToTestSingleton.getInstance();
        assertEquals(0, singleton.getCount());  // æœŸæœ›0ï¼Œä½†å¯èƒ½æ˜¯1
    }
}
```

### 5.3 æµ‹è¯•å‹å¥½çš„è®¾è®¡


**âœ… æ–¹æ¡ˆ1ï¼šæä¾›é‡ç½®æ–¹æ³•**
```java
public class TestFriendlySingleton {
    private static TestFriendlySingleton instance;
    private int count = 0;
    
    private TestFriendlySingleton() {}
    
    public static TestFriendlySingleton getInstance() {
        if (instance == null) {
            instance = new TestFriendlySingleton();
        }
        return instance;
    }
    
    // æä¾›é‡ç½®æ–¹æ³•ï¼ˆä»…ç”¨äºæµ‹è¯•ï¼‰
    public static void resetForTesting() {
        instance = null;
    }
    
    public void increment() {
        count++;
    }
    
    public int getCount() {
        return count;
    }
}
```

**âœ… æ–¹æ¡ˆ2ï¼šä¾èµ–æ³¨å…¥è®¾è®¡**
```java
// ä¸ç›´æ¥ä½¿ç”¨å•ä¾‹ï¼Œè€Œæ˜¯é€šè¿‡æ¥å£
public interface CounterService {
    void increment();
    int getCount();
}

// å•ä¾‹å®ç°
public class SingletonCounter implements CounterService {
    private static SingletonCounter instance;
    private int count = 0;
    
    public static SingletonCounter getInstance() {
        if (instance == null) {
            instance = new SingletonCounter();
        }
        return instance;
    }
    
    @Override
    public void increment() {
        count++;
    }
    
    @Override
    public int getCount() {
        return count;
    }
}

// ä¸šåŠ¡ç±»ä¾èµ–æ¥å£
public class BusinessService {
    private final CounterService counter;
    
    public BusinessService(CounterService counter) {
        this.counter = counter;
    }
    
    public void doSomething() {
        counter.increment();
    }
}
```

**ğŸ”§ æµ‹è¯•ä»£ç **
```java
class TestWithDI {
    @Test
    void testBusinessService() {
        // æµ‹è¯•æ—¶æ³¨å…¥Mockå¯¹è±¡
        CounterService mockCounter = Mockito.mock(CounterService.class);
        BusinessService service = new BusinessService(mockCounter);
        
        service.doSomething();
        
        // éªŒè¯è°ƒç”¨
        Mockito.verify(mockCounter).increment();
    }
}
```

### 5.4 æµ‹è¯•æœ€ä½³å®è·µ


**ğŸ¯ å®è·µå»ºè®®**
```
æµ‹è¯•ç­–ç•¥é€‰æ‹©ï¼š

ç®€å•å•ä¾‹ï¼š
- æä¾›resetæ–¹æ³•
- æµ‹è¯•åæ¸…ç†çŠ¶æ€

å¤æ‚å•ä¾‹ï¼š
- ä½¿ç”¨ä¾èµ–æ³¨å…¥
- é¢å‘æ¥å£ç¼–ç¨‹
- ä¾¿äºMockæµ‹è¯•

å…³é”®åŸåˆ™ï¼š
- å•ä¾‹åªç®¡åˆ›å»ºï¼Œä¸ç®¡ä¸šåŠ¡
- ä¸šåŠ¡é€»è¾‘é€šè¿‡ä¾èµ–æ³¨å…¥
- ä¿æŒæµ‹è¯•çš„ç‹¬ç«‹æ€§
```

---

## 6. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 6.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ

```
ğŸ”¸ å®ç°é€‰æ‹©ï¼šæ ¹æ®å…·ä½“åœºæ™¯é€‰æ‹©åˆé€‚çš„å•ä¾‹å®ç°æ–¹å¼
ğŸ”¸ å®‰å…¨é˜²æŠ¤ï¼šäº†è§£åå°„ã€åºåˆ—åŒ–ç­‰æ”»å‡»æ–¹å¼åŠé˜²æŠ¤æ–¹æ³•
ğŸ”¸ æµ‹è¯•å‹å¥½ï¼šè®¾è®¡æ—¶è€ƒè™‘æµ‹è¯•çš„ä¾¿åˆ©æ€§
ğŸ”¸ æšä¸¾ä¼˜åŠ¿ï¼šæšä¸¾æ˜¯æœ€å®‰å…¨ã€æœ€ç®€å•çš„å•ä¾‹å®ç°
```

### 6.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ å®ç°æ–¹å¼é€‰æ‹©æ ‡å‡†**
```
æ€§èƒ½è¦æ±‚é«˜ + é«˜å¹¶å‘ â†’ åŒé‡æ£€æŸ¥é”
ç®€å•åœºæ™¯ + å¯åŠ¨å°±ç”¨ â†’ é¥¿æ±‰å¼  
å¯èƒ½ä¸ç”¨ + èŠ‚çœå†…å­˜ â†’ æ‡’æ±‰å¼
æœ€é«˜å®‰å…¨æ€§è¦æ±‚ â†’ æšä¸¾å¼
```

**ğŸ”¹ å®‰å…¨æ€§è€ƒè™‘**
```
åå°„æ”»å‡» â†’ æ„é€ å™¨æ£€æŸ¥ + æšä¸¾é˜²æŠ¤
åºåˆ—åŒ–æ”»å‡» â†’ readResolveæ–¹æ³• + æšä¸¾è‡ªåŠ¨å¤„ç†
å…‹éš†æ”»å‡» â†’ ä¸å®ç°Cloneableæˆ–é‡å†™è¿”å›åŒä¸€å®ä¾‹
```

**ğŸ”¹ æµ‹è¯•å‹å¥½è®¾è®¡**
```
ç®€å•åœºæ™¯ â†’ æä¾›resetæ–¹æ³•
å¤æ‚åœºæ™¯ â†’ ä¾èµ–æ³¨å…¥ + æ¥å£è®¾è®¡
å…³é”®åŸåˆ™ â†’ å•ä¾‹ä¸“æ³¨åˆ›å»ºï¼Œä¸šåŠ¡é€šè¿‡æ³¨å…¥
```

### 6.3 å®é™…åº”ç”¨æŒ‡å¯¼


**ğŸ’¡ é€‰æ‹©å»ºè®®**
- **æ–°æ‰‹æ¨è**ï¼šæšä¸¾å¼å•ä¾‹ï¼ˆæœ€å®‰å…¨ã€æœ€ç®€å•ï¼‰
- **æ€§èƒ½æ•æ„Ÿ**ï¼šåŒé‡æ£€æŸ¥é”ï¼ˆé«˜å¹¶å‘å‹å¥½ï¼‰
- **Springç¯å¢ƒ**ï¼šé™æ€å†…éƒ¨ç±»ï¼ˆæ¡†æ¶å‹å¥½ï¼‰
- **ç®€å•åº”ç”¨**ï¼šé¥¿æ±‰å¼ï¼ˆå¤Ÿç”¨å°±è¡Œï¼‰

**âš ï¸ æ³¨æ„äº‹é¡¹**
- ä¸è¦ä¸ºäº†ç‚«æŠ€é€‰æ‹©å¤æ‚å®ç°
- è€ƒè™‘æµ‹è¯•çš„ä¾¿åˆ©æ€§
- æ³¨æ„åºåˆ—åŒ–å®‰å…¨æ€§
- é˜²èŒƒåå°„æ”»å‡»

**æ ¸å¿ƒè®°å¿†**ï¼š
- é€‰æ‹©å®ç°çœ‹åœºæ™¯ï¼Œå®‰å…¨é˜²æŠ¤è¦è€ƒè™‘
- æšä¸¾æœ€å®‰å…¨ï¼ŒåŒæ£€æ€§èƒ½å¥½
- æµ‹è¯•è¦å‹å¥½ï¼Œæ³¨å…¥æ¥è§£è€¦
- å•ä¾‹ç®¡åˆ›å»ºï¼Œä¸šåŠ¡é ä¾èµ–