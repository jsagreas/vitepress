---
title: 5ã€è¿­ä»£å™¨æ¨¡å¼é«˜çº§ç‰¹æ€§
---
## ğŸ“š ç›®å½•

1. [æ‡’åŠ è½½è¿­ä»£å™¨](#1-æ‡’åŠ è½½è¿­ä»£å™¨)
2. [è¿‡æ»¤è¿­ä»£å™¨](#2-è¿‡æ»¤è¿­ä»£å™¨)
3. [å˜æ¢è¿­ä»£å™¨](#3-å˜æ¢è¿­ä»£å™¨)
4. [ç»„åˆè¿­ä»£å™¨](#4-ç»„åˆè¿­ä»£å™¨)
5. [æ— é™åºåˆ—è¿­ä»£å™¨](#5-æ— é™åºåˆ—è¿­ä»£å™¨)
6. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#6-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ”„ æ‡’åŠ è½½è¿­ä»£å™¨


### 1.1 ä»€ä¹ˆæ˜¯æ‡’åŠ è½½è¿­ä»£å™¨


**é€šä¿—ç†è§£**ï¼šå°±åƒ"æŒ‰éœ€å–èœ"ä¸€æ ·ï¼Œåªæœ‰å½“ä½ çœŸæ­£è¦åƒçš„æ—¶å€™æ‰å»å–ï¼Œè€Œä¸æ˜¯ä¸€å¼€å§‹å°±æŠŠæ‰€æœ‰èœéƒ½ç«¯åˆ°æ¡Œä¸Šã€‚

**æ ¸å¿ƒæ¦‚å¿µ**ï¼š
```
ä¼ ç»Ÿè¿­ä»£å™¨ï¼šä¸€æ¬¡æ€§åŠ è½½æ‰€æœ‰æ•°æ®åˆ°å†…å­˜
æ‡’åŠ è½½è¿­ä»£å™¨ï¼šéœ€è¦æ—¶æ‰è®¡ç®—/åŠ è½½ä¸‹ä¸€ä¸ªå…ƒç´ 

å¥½å¤„ï¼š
â€¢ èŠ‚çœå†…å­˜ï¼šä¸ç”¨ä¸€æ¬¡æ€§å­˜å‚¨å¤§é‡æ•°æ®
â€¢ æå‡æ€§èƒ½ï¼šé¿å…ä¸å¿…è¦çš„è®¡ç®—
â€¢ å¤„ç†å¤§æ•°æ®ï¼šå¯ä»¥å¤„ç†å†…å­˜è£…ä¸ä¸‹çš„æ•°æ®é›†
```

### 1.2 ç”Ÿæ´»ä¸­çš„ç±»æ¯”


```
ä¼ ç»Ÿæ–¹å¼ï¼šå»å›¾ä¹¦é¦†å€Ÿä¹¦
- ä¸€æ¬¡æ€§æŠŠå¯èƒ½ç”¨åˆ°çš„100æœ¬ä¹¦éƒ½å€Ÿå›å®¶
- å®¶é‡Œç©ºé—´ä¸å¤Ÿï¼Œå¾ˆå¤šä¹¦ç”¨ä¸åˆ°
- æ¬è¿å›°éš¾ï¼Œæ•ˆç‡ä½ä¸‹

æ‡’åŠ è½½æ–¹å¼ï¼šåœ¨çº¿é˜…è¯»
- éœ€è¦å“ªæœ¬ä¹¦æ—¶æ‰æ‰“å¼€å“ªæœ¬
- ä¸å ç”¨æœ¬åœ°å­˜å‚¨ç©ºé—´
- éšç”¨éšå–ï¼Œçµæ´»é«˜æ•ˆ
```

### 1.3 æ‡’åŠ è½½è¿­ä»£å™¨å®ç°


```java
// æ‡’åŠ è½½æ–‡ä»¶è¡Œè¿­ä»£å™¨
public class LazyFileLineIterator implements Iterator<String> {
    private BufferedReader reader;
    private String nextLine;
    private boolean hasNext = true;
    
    public LazyFileLineIterator(String filename) throws IOException {
        this.reader = new BufferedReader(new FileReader(filename));
        advance(); // é¢„è¯»ç¬¬ä¸€è¡Œ
    }
    
    @Override
    public boolean hasNext() {
        return hasNext;
    }
    
    @Override
    public String next() {
        if (!hasNext) {
            throw new NoSuchElementException();
        }
        
        String current = nextLine;
        advance(); // è¯»å–ä¸‹ä¸€è¡Œ
        return current;
    }
    
    // æ ¸å¿ƒï¼šæ‡’åŠ è½½çš„ç²¾é«“ - æŒ‰éœ€è¯»å–
    private void advance() {
        try {
            nextLine = reader.readLine();
            if (nextLine == null) {
                hasNext = false;
                reader.close();
            }
        } catch (IOException e) {
            hasNext = false;
        }
    }
}
```

**ä½¿ç”¨åœºæ™¯ç¤ºä¾‹**ï¼š
```java
// å¤„ç†å¤§æ–‡ä»¶æ—¶çš„ä¼˜åŠ¿å¯¹æ¯”
public class BigFileProcessor {
    
    // âŒ ä¼ ç»Ÿæ–¹å¼ï¼šå†…å­˜å¯èƒ½ä¸å¤Ÿ
    public void processTraditional(String filename) {
        List<String> allLines = Files.readAllLines(Paths.get(filename));
        // å¦‚æœæ–‡ä»¶100GBï¼Œè¿™é‡Œå°±çˆ†å†…å­˜äº†ï¼
        
        for (String line : allLines) {
            processLine(line);
        }
    }
    
    // âœ… æ‡’åŠ è½½æ–¹å¼ï¼šå†…å­˜å‹å¥½
    public void processLazy(String filename) throws IOException {
        LazyFileLineIterator iterator = new LazyFileLineIterator(filename);
        
        while (iterator.hasNext()) {
            String line = iterator.next();
            processLine(line); // å¤„ç†å®Œå°±é‡Šæ”¾ï¼Œå†…å­˜å ç”¨å¾ˆå°
        }
    }
}
```

### 1.4 æ‡’åŠ è½½çš„æ ¸å¿ƒä»·å€¼


| æ–¹é¢ | **ä¼ ç»Ÿè¿­ä»£å™¨** | **æ‡’åŠ è½½è¿­ä»£å™¨** |
|------|---------------|----------------|
| ğŸ’¾ **å†…å­˜ä½¿ç”¨** | `ä¸€æ¬¡æ€§åŠ è½½å…¨éƒ¨æ•°æ®` | `åªä¿å­˜å½“å‰éœ€è¦çš„æ•°æ®` |
| âš¡ **å¯åŠ¨é€Ÿåº¦** | `æ…¢ï¼ˆéœ€è¦é¢„åŠ è½½ï¼‰` | `å¿«ï¼ˆç«‹å³å¯ç”¨ï¼‰` |
| ğŸ¯ **é€‚ç”¨åœºæ™¯** | `å°æ•°æ®é›†ï¼Œå…¨é‡å¤„ç†` | `å¤§æ•°æ®é›†ï¼Œå¯èƒ½ä¸­é€”åœæ­¢` |
| ğŸ”§ **å®ç°å¤æ‚åº¦** | `ç®€å•` | `ç¨å¤æ‚ï¼ˆéœ€è¦çŠ¶æ€ç®¡ç†ï¼‰` |

---

## 2. ğŸ” è¿‡æ»¤è¿­ä»£å™¨


### 2.1 è¿‡æ»¤è¿­ä»£å™¨çš„å«ä¹‰


**ç”Ÿæ´»ç±»æ¯”**ï¼šå°±åƒç­›å­ç­›ç±³ä¸€æ ·ï¼ŒæŠŠç¬¦åˆæ¡ä»¶çš„ç•™ä¸‹ï¼Œä¸ç¬¦åˆçš„è¿‡æ»¤æ‰ã€‚

**æ ¸å¿ƒæ€æƒ³**ï¼š
```
åŸå§‹æ•°æ®ï¼š[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
è¿‡æ»¤æ¡ä»¶ï¼šåªè¦å¶æ•°
ç»“æœæ•°æ®ï¼š[2, 4, 6, 8, 10]

å…³é”®ï¼šåœ¨éå†è¿‡ç¨‹ä¸­åŠ¨æ€å†³å®šå“ªäº›å…ƒç´ è¦è¿”å›
```

### 2.2 è¿‡æ»¤è¿­ä»£å™¨çš„ç»“æ„è®¾è®¡


```
è¿‡æ»¤è¿­ä»£å™¨çš„ç»„æˆéƒ¨åˆ†ï¼š

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   åŸå§‹è¿­ä»£å™¨     â”‚ â† æä¾›æ•°æ®æº
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  
â”‚   è¿‡æ»¤æ¡ä»¶       â”‚ â† åˆ¤æ–­é€»è¾‘ï¼ˆè°“è¯ï¼‰
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   è¿‡æ»¤é€»è¾‘       â”‚ â† è·³è¿‡ä¸ç¬¦åˆæ¡ä»¶çš„å…ƒç´ 
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   ç»“æœè¾“å‡º       â”‚ â† åªè¿”å›ç¬¦åˆæ¡ä»¶çš„å…ƒç´ 
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.3 è¿‡æ»¤è¿­ä»£å™¨å®ç°


```java
// é€šç”¨è¿‡æ»¤è¿­ä»£å™¨
public class FilterIterator<T> implements Iterator<T> {
    private Iterator<T> sourceIterator;  // åŸå§‹æ•°æ®æ¥æº
    private Predicate<T> filter;        // è¿‡æ»¤æ¡ä»¶
    private T nextElement;               // é¢„å­˜çš„ä¸‹ä¸€ä¸ªå…ƒç´ 
    private boolean hasNextElement;      // æ˜¯å¦è¿˜æœ‰ä¸‹ä¸€ä¸ªå…ƒç´ 
    
    public FilterIterator(Iterator<T> source, Predicate<T> filter) {
        this.sourceIterator = source;
        this.filter = filter;
        findNext(); // æ‰¾åˆ°ç¬¬ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„å…ƒç´ 
    }
    
    @Override
    public boolean hasNext() {
        return hasNextElement;
    }
    
    @Override
    public T next() {
        if (!hasNextElement) {
            throw new NoSuchElementException();
        }
        
        T current = nextElement;
        findNext(); // æ‰¾ä¸‹ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„å…ƒç´ 
        return current;
    }
    
    // æ ¸å¿ƒæ–¹æ³•ï¼šæ‰¾åˆ°ä¸‹ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„å…ƒç´ 
    private void findNext() {
        hasNextElement = false;
        
        while (sourceIterator.hasNext()) {
            T candidate = sourceIterator.next();
            if (filter.test(candidate)) { // æµ‹è¯•æ˜¯å¦ç¬¦åˆè¿‡æ»¤æ¡ä»¶
                nextElement = candidate;
                hasNextElement = true;
                break; // æ‰¾åˆ°äº†ï¼Œåœæ­¢æœç´¢
            }
            // ä¸ç¬¦åˆæ¡ä»¶ï¼Œç»§ç»­æ‰¾ä¸‹ä¸€ä¸ª
        }
    }
}
```

### 2.4 å®é™…åº”ç”¨ç¤ºä¾‹


```java
public class FilterExample {
    
    // ç¤ºä¾‹ï¼šä»å­¦ç”Ÿåˆ—è¡¨ä¸­ç­›é€‰ä¼˜ç§€å­¦ç”Ÿ
    public static void demonstrateFilter() {
        List<Student> students = Arrays.asList(
            new Student("å¼ ä¸‰", 85),
            new Student("æå››", 92),
            new Student("ç‹äº”", 78),
            new Student("èµµå…­", 96)
        );
        
        // åˆ›å»ºè¿‡æ»¤è¿­ä»£å™¨ï¼šåªè¦åˆ†æ•°>=90çš„å­¦ç”Ÿ
        FilterIterator<Student> excellentStudents = 
            new FilterIterator<>(
                students.iterator(),
                student -> student.getScore() >= 90  // è¿‡æ»¤æ¡ä»¶
            );
        
        System.out.println("ä¼˜ç§€å­¦ç”Ÿåå•ï¼š");
        while (excellentStudents.hasNext()) {
            Student student = excellentStudents.next();
            System.out.println(student.getName() + ": " + student.getScore());
        }
        // è¾“å‡ºï¼šæå››: 92, èµµå…­: 96
    }
}
```

**è¿‡æ»¤å™¨çš„é“¾å¼ç»„åˆ**ï¼š
```java
// å¤šé‡è¿‡æ»¤ï¼šå¹´é¾„>18 ä¸” åˆ†æ•°>=90
Iterator<Student> filteredStudents = 
    new FilterIterator<>(
        new FilterIterator<>(
            students.iterator(),
            student -> student.getAge() > 18
        ),
        student -> student.getScore() >= 90
    );
```

---

## 3. ğŸ”„ å˜æ¢è¿­ä»£å™¨


### 3.1 å˜æ¢è¿­ä»£å™¨çš„æ ¸å¿ƒæ¦‚å¿µ


**ç®€å•ç†è§£**ï¼šå°±åƒ"åŠ å·¥å‚"ä¸€æ ·ï¼ŒæŠŠåŸææ–™ï¼ˆåŸå§‹æ•°æ®ï¼‰åŠ å·¥æˆæˆå“ï¼ˆç›®æ ‡æ•°æ®ï¼‰ã€‚

**å˜æ¢è¿‡ç¨‹å›¾ç¤º**ï¼š
```
åŸå§‹æ•°æ®    å˜æ¢å‡½æ•°    ç›®æ ‡æ•°æ®
   â†“          â†“          â†“
  [1,2,3] â†’ (x*2) â†’ [2,4,6]
  
  å­—ç¬¦ä¸²    å˜æ¢å‡½æ•°    æ•°å­—
   â†“          â†“        â†“
["1","2"] â†’ parseInt â†’ [1,2]
```

### 3.2 å˜æ¢è¿­ä»£å™¨çš„è®¾è®¡æ€è·¯


**æ ¸å¿ƒè¦ç´ **ï¼š
- **è¾“å…¥ç±»å‹**ï¼šåŸå§‹æ•°æ®çš„ç±»å‹
- **è¾“å‡ºç±»å‹**ï¼šè½¬æ¢åçš„ç±»å‹
- **å˜æ¢å‡½æ•°**ï¼šå®šä¹‰å¦‚ä½•ä»è¾“å…¥å¾—åˆ°è¾“å‡º
- **ä¸€å¯¹ä¸€æ˜ å°„**ï¼šæ¯ä¸ªè¾“å…¥å…ƒç´ å¯¹åº”ä¸€ä¸ªè¾“å‡ºå…ƒç´ 

### 3.3 å˜æ¢è¿­ä»£å™¨å®ç°


```java
// é€šç”¨å˜æ¢è¿­ä»£å™¨
public class TransformIterator<T, R> implements Iterator<R> {
    private Iterator<T> sourceIterator;    // åŸå§‹æ•°æ®æº
    private Function<T, R> transformer;    // å˜æ¢å‡½æ•°
    
    public TransformIterator(Iterator<T> source, Function<T, R> transformer) {
        this.sourceIterator = source;
        this.transformer = transformer;
    }
    
    @Override
    public boolean hasNext() {
        return sourceIterator.hasNext(); // ç›´æ¥å§”æ‰˜ç»™åŸå§‹è¿­ä»£å™¨
    }
    
    @Override
    public R next() {
        T originalElement = sourceIterator.next();
        return transformer.apply(originalElement); // åº”ç”¨å˜æ¢å‡½æ•°
    }
}
```

### 3.4 å˜æ¢è¿­ä»£å™¨çš„åº”ç”¨åœºæ™¯


**åœºæ™¯1ï¼šæ•°æ®ç±»å‹è½¬æ¢**
```java
// å°†å­—ç¬¦ä¸²åˆ—è¡¨è½¬æ¢ä¸ºæ•´æ•°åˆ—è¡¨
List<String> stringNumbers = Arrays.asList("1", "2", "3", "4");

TransformIterator<String, Integer> numberIterator = 
    new TransformIterator<>(
        stringNumbers.iterator(),
        Integer::parseInt  // å˜æ¢å‡½æ•°ï¼šå­—ç¬¦ä¸²è½¬æ•´æ•°
    );

while (numberIterator.hasNext()) {
    Integer number = numberIterator.next();
    System.out.println("æ•°å­—: " + number);
}
```

**åœºæ™¯2ï¼šå¯¹è±¡å±æ€§æå–**
```java
// ä»å‘˜å·¥å¯¹è±¡ä¸­æå–å§“å
List<Employee> employees = getEmployees();

TransformIterator<Employee, String> nameIterator = 
    new TransformIterator<>(
        employees.iterator(),
        Employee::getName  // æå–å§“åå±æ€§
    );

// ç°åœ¨å¯ä»¥ç›´æ¥éå†å‘˜å·¥å§“å
while (nameIterator.hasNext()) {
    String name = nameIterator.next();
    System.out.println("å‘˜å·¥å§“å: " + name);
}
```

**åœºæ™¯3ï¼šæ•°æ®è®¡ç®—å¤„ç†**
```java
// è®¡ç®—ä»·æ ¼åˆ—è¡¨çš„æŠ˜æ‰£ä»·æ ¼
List<BigDecimal> originalPrices = Arrays.asList(
    new BigDecimal("100.00"),
    new BigDecimal("200.00"),
    new BigDecimal("300.00")
);

TransformIterator<BigDecimal, BigDecimal> discountIterator = 
    new TransformIterator<>(
        originalPrices.iterator(),
        price -> price.multiply(new BigDecimal("0.8")) // 8æŠ˜ä¼˜æƒ 
    );
```

---

## 4. ğŸ”— ç»„åˆè¿­ä»£å™¨


### 4.1 ç»„åˆè¿­ä»£å™¨çš„åŸºæœ¬æ€æƒ³


**ç”Ÿæ´»ç±»æ¯”**ï¼šå°±åƒæŠŠå‡ ä¸ªä¸åŒçš„éŸ³ä¹æ’­æ”¾åˆ—è¡¨åˆå¹¶æˆä¸€ä¸ªå¤§çš„æ’­æ”¾åˆ—è¡¨ï¼Œå¯ä»¥è¿ç»­æ’­æ”¾æ‰€æœ‰æ­Œæ›²ã€‚

**ç»„åˆè¿‡ç¨‹ç¤ºæ„**ï¼š
```
è¿­ä»£å™¨1: [A, B, C]
è¿­ä»£å™¨2: [D, E]
è¿­ä»£å™¨3: [F, G, H, I]
         â†“
ç»„åˆç»“æœ: [A, B, C, D, E, F, G, H, I]
```

### 4.2 ç»„åˆè¿­ä»£å™¨çš„è®¾è®¡æŒ‘æˆ˜


**éœ€è¦è§£å†³çš„é—®é¢˜**ï¼š
- **åˆ‡æ¢æ—¶æœº**ï¼šä»€ä¹ˆæ—¶å€™ä»å½“å‰è¿­ä»£å™¨åˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªï¼Ÿ
- **çŠ¶æ€ç®¡ç†**ï¼šå¦‚ä½•è·Ÿè¸ªå½“å‰æ­£åœ¨ä½¿ç”¨å“ªä¸ªè¿­ä»£å™¨ï¼Ÿ
- **è¾¹ç•Œå¤„ç†**ï¼šå¦‚ä½•å¤„ç†ç©ºè¿­ä»£å™¨ï¼Ÿ

### 4.3 ç»„åˆè¿­ä»£å™¨å®ç°


```java
public class CompositeIterator<T> implements Iterator<T> {
    private List<Iterator<T>> iterators;  // æ‰€æœ‰è¦ç»„åˆçš„è¿­ä»£å™¨
    private int currentIndex;             // å½“å‰ä½¿ç”¨çš„è¿­ä»£å™¨ç´¢å¼•
    
    public CompositeIterator(List<Iterator<T>> iterators) {
        this.iterators = new ArrayList<>(iterators);
        this.currentIndex = 0;
        skipEmptyIterators(); // è·³è¿‡ç©ºçš„è¿­ä»£å™¨
    }
    
    @Override
    public boolean hasNext() {
        // å¦‚æœå½“å‰è¿­ä»£å™¨è¿˜æœ‰å…ƒç´ ï¼Œè¿”å›true
        if (currentIndex < iterators.size() && 
            iterators.get(currentIndex).hasNext()) {
            return true;
        }
        
        // å¦åˆ™æ£€æŸ¥åç»­è¿­ä»£å™¨æ˜¯å¦æœ‰å…ƒç´ 
        for (int i = currentIndex + 1; i < iterators.size(); i++) {
            if (iterators.get(i).hasNext()) {
                return true;
            }
        }
        
        return false; // æ‰€æœ‰è¿­ä»£å™¨éƒ½æ²¡æœ‰å…ƒç´ äº†
    }
    
    @Override
    public T next() {
        if (!hasNext()) {
            throw new NoSuchElementException();
        }
        
        // ç¡®ä¿å½“å‰è¿­ä»£å™¨æœ‰å…ƒç´ 
        skipEmptyIterators();
        
        // ä»å½“å‰è¿­ä»£å™¨è·å–ä¸‹ä¸€ä¸ªå…ƒç´ 
        return iterators.get(currentIndex).next();
    }
    
    // è·³è¿‡æ²¡æœ‰å…ƒç´ çš„è¿­ä»£å™¨
    private void skipEmptyIterators() {
        while (currentIndex < iterators.size() && 
               !iterators.get(currentIndex).hasNext()) {
            currentIndex++;
        }
    }
}
```

### 4.4 ç»„åˆè¿­ä»£å™¨çš„ä½¿ç”¨ç¤ºä¾‹


```java
public class CompositeExample {
    
    public static void demonstrateComposite() {
        // åˆ›å»ºå‡ ä¸ªä¸åŒçš„æ•°æ®æº
        List<String> fruits = Arrays.asList("è‹¹æœ", "é¦™è•‰");
        List<String> vegetables = Arrays.asList("èƒ¡èåœ", "ç™½èœ", "åœŸè±†");
        List<String> meats = Arrays.asList("ç‰›è‚‰", "é¸¡è‚‰");
        
        // ç»„åˆæˆä¸€ä¸ªç»Ÿä¸€çš„é£Ÿç‰©è¿­ä»£å™¨
        CompositeIterator<String> foodIterator = new CompositeIterator<>(
            Arrays.asList(
                fruits.iterator(),
                vegetables.iterator(),
                meats.iterator()
            )
        );
        
        System.out.println("æ‰€æœ‰é£Ÿç‰©æ¸…å•ï¼š");
        while (foodIterator.hasNext()) {
            System.out.println("- " + foodIterator.next());
        }
        
        // è¾“å‡ºï¼šè‹¹æœ, é¦™è•‰, èƒ¡èåœ, ç™½èœ, åœŸè±†, ç‰›è‚‰, é¸¡è‚‰
    }
}
```

**ç»„åˆè¿­ä»£å™¨çš„å…¸å‹åº”ç”¨**ï¼š
- **æ–‡ä»¶ç³»ç»Ÿ**ï¼šéå†å¤šä¸ªç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶
- **æ•°æ®åº“**ï¼šåˆå¹¶å¤šä¸ªæŸ¥è¯¢ç»“æœ
- **é…ç½®ç®¡ç†**ï¼šåˆå¹¶å¤šä¸ªé…ç½®æº
- **æ—¥å¿—å¤„ç†**ï¼šåˆå¹¶å¤šä¸ªæ—¥å¿—æ–‡ä»¶

---

## 5. â™¾ï¸ æ— é™åºåˆ—è¿­ä»£å™¨


### 5.1 æ— é™åºåˆ—çš„æ¦‚å¿µ


**ä»€ä¹ˆæ˜¯æ— é™åºåˆ—**ï¼šç†è®ºä¸Šå¯ä»¥æ— é™äº§ç”Ÿå…ƒç´ çš„åºåˆ—ï¼Œä½†å®é™…ä½¿ç”¨æ—¶é€šå¸¸ä¼šæœ‰åœæ­¢æ¡ä»¶ã€‚

**ç”Ÿæ´»ä¸­çš„ä¾‹å­**ï¼š
```
è‡ªç„¶æ•°åºåˆ—ï¼š1, 2, 3, 4, 5, 6, 7, 8, ...
æ–æ³¢é‚£å¥‘æ•°åˆ—ï¼š1, 1, 2, 3, 5, 8, 13, 21, ...
æ—¶é—´æˆ³åºåˆ—ï¼šæ¯ç§’äº§ç”Ÿä¸€ä¸ªå½“å‰æ—¶é—´æˆ³
éšæœºæ•°åºåˆ—ï¼šæ— é™äº§ç”Ÿéšæœºæ•°
```

### 5.2 æ— é™åºåˆ—è¿­ä»£å™¨çš„ç‰¹ç‚¹


**æ ¸å¿ƒç‰¹å¾**ï¼š
- **hasNext()æ€»æ˜¯è¿”å›true**ï¼šç†è®ºä¸Šæ°¸è¿œæœ‰ä¸‹ä¸€ä¸ªå…ƒç´ 
- **æŒ‰éœ€ç”Ÿæˆ**ï¼šå…ƒç´ æ˜¯åŠ¨æ€è®¡ç®—å‡ºæ¥çš„ï¼Œä¸æ˜¯é¢„å…ˆå­˜å‚¨çš„
- **çŠ¶æ€é©±åŠ¨**ï¼šé€šå¸¸åŸºäºæŸç§çŠ¶æ€æˆ–è§„å¾‹ç”Ÿæˆä¸‹ä¸€ä¸ªå…ƒç´ 

### 5.3 æ— é™åºåˆ—è¿­ä»£å™¨å®ç°ç¤ºä¾‹


**è‡ªç„¶æ•°åºåˆ—è¿­ä»£å™¨**ï¼š
```java
// æ— é™è‡ªç„¶æ•°åºåˆ—ï¼š1, 2, 3, 4, 5, ...
public class NaturalNumberIterator implements Iterator<Integer> {
    private int current = 0; // å½“å‰æ•°å­—
    
    @Override
    public boolean hasNext() {
        return true; // æ°¸è¿œæœ‰ä¸‹ä¸€ä¸ªæ•°å­—
    }
    
    @Override
    public Integer next() {
        return ++current; // è¿”å›ä¸‹ä¸€ä¸ªè‡ªç„¶æ•°
    }
}
```

**æ–æ³¢é‚£å¥‘æ•°åˆ—è¿­ä»£å™¨**ï¼š
```java
// æ— é™æ–æ³¢é‚£å¥‘æ•°åˆ—ï¼š1, 1, 2, 3, 5, 8, 13, ...
public class FibonacciIterator implements Iterator<Long> {
    private long previous = 0;  // å‰ä¸€ä¸ªæ•°
    private long current = 1;   // å½“å‰æ•°
    
    @Override
    public boolean hasNext() {
        return true; // æ•°å­¦ä¸Šæ— é™
    }
    
    @Override
    public Long next() {
        long result = current;
        long nextValue = previous + current;
        previous = current;
        current = nextValue;
        return result;
    }
}
```

**éšæœºæ•°åºåˆ—è¿­ä»£å™¨**ï¼š
```java
// æ— é™éšæœºæ•°åºåˆ—
public class RandomNumberIterator implements Iterator<Integer> {
    private Random random = new Random();
    private int min, max;
    
    public RandomNumberIterator(int min, int max) {
        this.min = min;
        this.max = max;
    }
    
    @Override
    public boolean hasNext() {
        return true; // å¯ä»¥æ— é™ç”Ÿæˆéšæœºæ•°
    }
    
    @Override
    public Integer next() {
        return random.nextInt(max - min + 1) + min;
    }
}
```

### 5.4 æ— é™åºåˆ—çš„å®‰å…¨ä½¿ç”¨


**âš ï¸ é‡è¦æé†’**ï¼šæ— é™åºåˆ—å¿…é¡»æœ‰åœæ­¢æ¡ä»¶ï¼Œå¦åˆ™ç¨‹åºä¼šæ— é™å¾ªç¯ï¼

**å®‰å…¨ä½¿ç”¨æ–¹å¼**ï¼š

**æ–¹å¼1ï¼šé™åˆ¶è¿­ä»£æ¬¡æ•°**
```java
// åªå–å‰10ä¸ªæ–æ³¢é‚£å¥‘æ•°
FibonacciIterator fib = new FibonacciIterator();
int count = 0;
while (fib.hasNext() && count < 10) {
    System.out.println(fib.next());
    count++;
}
```

**æ–¹å¼2ï¼šåŸºäºæ¡ä»¶åœæ­¢**
```java
// å–å°äº1000çš„æ–æ³¢é‚£å¥‘æ•°
FibonacciIterator fib = new FibonacciIterator();
while (fib.hasNext()) {
    Long number = fib.next();
    if (number > 1000) {
        break; // è¶…è¿‡1000å°±åœæ­¢
    }
    System.out.println(number);
}
```

**æ–¹å¼3ï¼šåˆ›å»ºæœ‰ç•Œç‰ˆæœ¬**
```java
// å¸¦åœæ­¢æ¡ä»¶çš„æœ‰ç•Œè¿­ä»£å™¨
public class BoundedIterator<T> implements Iterator<T> {
    private Iterator<T> source;
    private Predicate<T> stopCondition;
    private T nextElement;
    private boolean finished = false;
    
    public BoundedIterator(Iterator<T> source, Predicate<T> stopCondition) {
        this.source = source;
        this.stopCondition = stopCondition;
        advance();
    }
    
    @Override
    public boolean hasNext() {
        return !finished;
    }
    
    @Override
    public T next() {
        if (finished) {
            throw new NoSuchElementException();
        }
        
        T current = nextElement;
        advance();
        return current;
    }
    
    private void advance() {
        if (source.hasNext()) {
            nextElement = source.next();
            if (stopCondition.test(nextElement)) {
                finished = true;
            }
        } else {
            finished = true;
        }
    }
}
```

### 5.5 æ— é™åºåˆ—çš„å®é™…åº”ç”¨


| åº”ç”¨åœºæ™¯ | **å…·ä½“ä¾‹å­** | **åœæ­¢æ¡ä»¶** |
|---------|-------------|-------------|
| ğŸ² **æ¸¸æˆå¼€å‘** | `éšæœºäº‹ä»¶ç”Ÿæˆå™¨` | `æ¸¸æˆç»“æŸæˆ–ç‰¹å®šäº‹ä»¶` |
| ğŸ“Š **æ•°æ®åˆ†æ** | `æ—¶é—´åºåˆ—æ•°æ®ç”Ÿæˆ` | `è¾¾åˆ°æŒ‡å®šæ—¶é—´ç‚¹` |
| ğŸ§ª **ç®—æ³•æµ‹è¯•** | `æµ‹è¯•æ•°æ®ç”Ÿæˆå™¨` | `ç”Ÿæˆè¶³å¤Ÿçš„æµ‹è¯•ç”¨ä¾‹` |
| ğŸ”„ **æ¨¡æ‹Ÿç³»ç»Ÿ** | `ç”¨æˆ·è¡Œä¸ºæ¨¡æ‹Ÿ` | `æ¨¡æ‹Ÿæ—¶é•¿åˆ°è¾¾` |
| ğŸ“ˆ **æ€§èƒ½æµ‹è¯•** | `è´Ÿè½½æ•°æ®ç”Ÿæˆ` | `æµ‹è¯•ç›®æ ‡è¾¾æˆ` |

---

## 6. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 6.1 äº”ç§é«˜çº§è¿­ä»£å™¨å¯¹æ¯”


| è¿­ä»£å™¨ç±»å‹ | **æ ¸å¿ƒä½œç”¨** | **ä¸»è¦ä¼˜åŠ¿** | **é€‚ç”¨åœºæ™¯** |
|-----------|------------|-------------|-------------|
| ğŸ”„ **æ‡’åŠ è½½** | `æŒ‰éœ€åŠ è½½æ•°æ®` | `èŠ‚çœå†…å­˜ï¼Œæå‡æ€§èƒ½` | `å¤§æ•°æ®é›†ï¼Œæ–‡ä»¶å¤„ç†` |
| ğŸ” **è¿‡æ»¤** | `ç­›é€‰ç¬¦åˆæ¡ä»¶çš„å…ƒç´ ` | `å‡å°‘æ— æ•ˆæ•°æ®å¤„ç†` | `æ•°æ®æ¸…æ´—ï¼Œæ¡ä»¶æŸ¥è¯¢` |
| ğŸ”„ **å˜æ¢** | `è½¬æ¢æ•°æ®ç±»å‹æˆ–æ ¼å¼` | `ç»Ÿä¸€æ•°æ®å¤„ç†æ¥å£` | `æ•°æ®è½¬æ¢ï¼Œç±»å‹é€‚é…` |
| ğŸ”— **ç»„åˆ** | `åˆå¹¶å¤šä¸ªæ•°æ®æº` | `ç»Ÿä¸€è®¿é—®æ¥å£` | `å¤šæºæ•°æ®æ•´åˆ` |
| â™¾ï¸ **æ— é™åºåˆ—** | `åŠ¨æ€ç”Ÿæˆæ— é™æ•°æ®` | `ç†è®ºæ— é™ï¼ŒæŒ‰éœ€ç”Ÿæˆ` | `ç®—æ³•ç”Ÿæˆï¼Œæ¨¡æ‹Ÿæµ‹è¯•` |

### 6.2 è®¾è®¡æ€æƒ³æ€»ç»“


**ğŸ”¹ å…±åŒè®¾è®¡åŸåˆ™**
```
å•ä¸€èŒè´£ï¼šæ¯ç§è¿­ä»£å™¨ä¸“æ³¨è§£å†³ä¸€ç±»é—®é¢˜
ç»„åˆä¼˜äºç»§æ‰¿ï¼šé€šè¿‡åŒ…è£…ç°æœ‰è¿­ä»£å™¨å®ç°æ–°åŠŸèƒ½
å»¶è¿Ÿè®¡ç®—ï¼šåªåœ¨éœ€è¦æ—¶æ‰æ‰§è¡Œå®é™…æ“ä½œ
çŠ¶æ€å°è£…ï¼šå¦¥å–„ç®¡ç†è¿­ä»£çŠ¶æ€ï¼Œç¡®ä¿çº¿ç¨‹å®‰å…¨
```

**ğŸ”¹ å®ç°è¦ç‚¹**
```
æ‡’åŠ è½½ï¼šå…³é”®åœ¨äº advance() æ–¹æ³•çš„è®¾è®¡
è¿‡æ»¤ï¼šæ ¸å¿ƒæ˜¯ findNext() ä¸­çš„æ¡ä»¶åˆ¤æ–­é€»è¾‘
å˜æ¢ï¼šé‡ç‚¹æ˜¯å˜æ¢å‡½æ•°çš„æ­£ç¡®åº”ç”¨
ç»„åˆï¼šéš¾ç‚¹åœ¨äºå¤šä¸ªè¿­ä»£å™¨é—´çš„åˆ‡æ¢é€»è¾‘
æ— é™åºåˆ—ï¼šå…³é”®æ˜¯çŠ¶æ€æ›´æ–°å’Œå®‰å…¨ä½¿ç”¨
```

### 6.3 æœ€ä½³å®è·µå»ºè®®


**âœ… æ¨èåšæ³•**
- **é€‰æ‹©åˆé€‚çš„è¿­ä»£å™¨ç±»å‹**ï¼šæ ¹æ®å®é™…éœ€æ±‚é€‰æ‹©æœ€åŒ¹é…çš„è¿­ä»£å™¨
- **åˆç†ç»„åˆä½¿ç”¨**ï¼šå¯ä»¥å°†å¤šç§é«˜çº§è¿­ä»£å™¨ä¸²è”ä½¿ç”¨
- **æ³¨æ„å†…å­˜ç®¡ç†**ï¼šåŠæ—¶é‡Šæ”¾ä¸å†éœ€è¦çš„èµ„æº
- **è®¾ç½®å®‰å…¨è¾¹ç•Œ**ï¼šç‰¹åˆ«æ˜¯æ— é™åºåˆ—ï¼Œå¿…é¡»æœ‰åœæ­¢æ¡ä»¶

**âŒ é¿å…çš„é™·é˜±**
- **è¿‡åº¦è®¾è®¡**ï¼šä¸è¦ä¸ºäº†ä½¿ç”¨é«˜çº§ç‰¹æ€§è€Œä½¿ç”¨
- **å¿½ç•¥æ€§èƒ½**ï¼šæŸäº›ç»„åˆå¯èƒ½å¸¦æ¥æ€§èƒ½å¼€é”€
- **ç¼ºå°‘è¾¹ç•Œæ£€æŸ¥**ï¼šæ— é™åºåˆ—è¦ç‰¹åˆ«æ³¨æ„
- **çº¿ç¨‹å®‰å…¨é—®é¢˜**ï¼šå¤šçº¿ç¨‹ç¯å¢ƒä¸‹è¦æ³¨æ„çŠ¶æ€åŒæ­¥

### 6.4 å­¦ä¹ å»ºè®®


**ğŸ¯ å­¦ä¹ è·¯å¾„**
1. **ä»ç®€å•å¼€å§‹**ï¼šå…ˆæŒæ¡æ‡’åŠ è½½å’Œè¿‡æ»¤è¿­ä»£å™¨
2. **ç†è§£æ ¸å¿ƒæ€æƒ³**ï¼šé‡ç‚¹ç†è§£æ¯ç§è¿­ä»£å™¨è§£å†³çš„æ ¸å¿ƒé—®é¢˜
3. **åŠ¨æ‰‹å®è·µ**ï¼šç¼–å†™è‡ªå·±çš„è¿­ä»£å™¨å®ç°
4. **ç»„åˆåº”ç”¨**ï¼šå°è¯•å°†å¤šç§è¿­ä»£å™¨ç»„åˆä½¿ç”¨
5. **æ€§èƒ½è°ƒä¼˜**ï¼šåœ¨å®é™…é¡¹ç›®ä¸­ä¼˜åŒ–è¿­ä»£å™¨æ€§èƒ½

**ğŸ’¡ ç†è§£è¦ç‚¹**
- é«˜çº§è¿­ä»£å™¨æœ¬è´¨ä¸Šæ˜¯å¯¹åŸºæœ¬è¿­ä»£å™¨çš„åŠŸèƒ½æ‰©å±•
- æ¯ç§è¿­ä»£å™¨éƒ½æ˜¯ä¸ºäº†è§£å†³ç‰¹å®šçš„å®é™…é—®é¢˜
- ç»„åˆä½¿ç”¨å¾€å¾€èƒ½å‘æŒ¥æ›´å¤§çš„å¨åŠ›
- åˆç†ä½¿ç”¨èƒ½æ˜¾è‘—æå‡ä»£ç çš„å¯è¯»æ€§å’Œæ€§èƒ½

**æ ¸å¿ƒè®°å¿†**ï¼š
- æ‡’åŠ è½½èŠ‚çœå†…å­˜ï¼ŒæŒ‰éœ€å–ç”¨æœ€é«˜æ•ˆ
- è¿‡æ»¤ç­›é€‰å»ç³Ÿç²•ï¼Œå˜æ¢è½¬æ¢å˜æ ¼å¼  
- ç»„åˆåˆå¹¶å¤šæ•°æ®ï¼Œæ— é™ç”Ÿæˆè¦å°å¿ƒ
- äº”ç§è¿­ä»£å„æœ‰ç”¨ï¼Œç»„åˆåº”ç”¨å¨åŠ›å¤§