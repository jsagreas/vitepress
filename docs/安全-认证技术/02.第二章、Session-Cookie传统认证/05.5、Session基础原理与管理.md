---
title: 5ã€SessionåŸºç¡€åŸç†ä¸ç®¡ç†
---
## ğŸ“š ç›®å½•

1. [Sessionçš„å®šä¹‰ä¸ä½œç”¨](#1-Sessionçš„å®šä¹‰ä¸ä½œç”¨)
2. [SessionIDçš„ç”Ÿæˆå­˜å‚¨éªŒè¯æµç¨‹](#2-SessionIDçš„ç”Ÿæˆå­˜å‚¨éªŒè¯æµç¨‹)
3. [Sessionæ•°æ®çš„å­˜å‚¨ä½ç½®](#3-Sessionæ•°æ®çš„å­˜å‚¨ä½ç½®)
4. [Sessionç”Ÿå‘½å‘¨æœŸä¸è¿‡æœŸç­–ç•¥](#4-Sessionç”Ÿå‘½å‘¨æœŸä¸è¿‡æœŸç­–ç•¥)
5. [Sessionå¤±æ•ˆåçš„å¤„ç†](#5-Sessionå¤±æ•ˆåçš„å¤„ç†)
6. [å­˜å‚¨æ–¹å¼å¯¹æ¯”åˆ†æ](#6-å­˜å‚¨æ–¹å¼å¯¹æ¯”åˆ†æ)
7. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#7-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸª Sessionçš„å®šä¹‰ä¸ä½œç”¨


### 1.1 ä»€ä¹ˆæ˜¯Sessionï¼Ÿé€šä¿—è§£é‡Š


> ğŸ’¡ **ç”Ÿæ´»ç±»æ¯”**ï¼šSessionå°±åƒ**è¶…å¸‚å‚¨ç‰©æŸœ**ï¼

```
ç°å®ç”Ÿæ´»ä¸­çš„å‚¨ç‰©æŸœï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸª è¶…å¸‚å…¥å£                         â”‚
â”‚                                     â”‚
â”‚ ä½ æ¥è´­ç‰© â†’ æ‹¿åˆ°å‚¨ç‰©æŸœé’¥åŒ™(ç¼–å·007)   â”‚
â”‚            â†“                       â”‚
â”‚ æŠŠåŒ…æ”¾è¿›007å·æŸœå­é‡Œ                 â”‚
â”‚            â†“                       â”‚
â”‚ è´­ç‰©æ—¶åªéœ€è¦å¸¦ç€é’¥åŒ™                â”‚
â”‚            â†“                       â”‚
â”‚ ç¦»å¼€æ—¶ç”¨é’¥åŒ™å–å›åŒ…åŒ…               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ç½‘ç«™ä¸­çš„Sessionæœºåˆ¶ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸŒ ç½‘ç«™ç™»å½•                        â”‚
â”‚                                     â”‚
â”‚ ç”¨æˆ·ç™»å½• â†’ è·å¾—SessionID(abc123)    â”‚
â”‚            â†“                       â”‚
â”‚ æœåŠ¡å™¨æŠŠç”¨æˆ·ä¿¡æ¯å­˜å‚¨èµ·æ¥            â”‚
â”‚            â†“                       â”‚
â”‚ æµè§ˆæ—¶åªéœ€è¦å¸¦ç€SessionID           â”‚
â”‚            â†“                       â”‚
â”‚ é€€å‡ºæ—¶æ¸…é™¤Sessionä¿¡æ¯              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.2 Sessionçš„æ ¸å¿ƒä½œç”¨


**ğŸ”¸ èº«ä»½è¯†åˆ«**
- ğŸ“ **é—®é¢˜**ï¼šHTTPæ˜¯æ— çŠ¶æ€åè®®ï¼ŒæœåŠ¡å™¨ä¸çŸ¥é“"ä½ æ˜¯è°"
- ğŸ’¡ **è§£å†³**ï¼šSessionå¸®æœåŠ¡å™¨"è®°ä½"ä½ æ˜¯è°

**ğŸ”¸ æ•°æ®å­˜å‚¨**
- ğŸ“ **é—®é¢˜**ï¼šéœ€è¦ä¸´æ—¶å­˜å‚¨ç”¨æˆ·ç›¸å…³æ•°æ®
- ğŸ’¡ **è§£å†³**ï¼šSessionæä¾›æœåŠ¡å™¨ç«¯å­˜å‚¨ç©ºé—´

**ğŸ”¸ çŠ¶æ€ä¿æŒ**
- ğŸ“ **é—®é¢˜**ï¼šé¡µé¢è·³è½¬åä¸¢å¤±ç™»å½•çŠ¶æ€
- ğŸ’¡ **è§£å†³**ï¼šSessionç»´æŒç™»å½•çŠ¶æ€

```java
// ç®€å•ç†è§£Sessionçš„ä½œç”¨
// æ²¡æœ‰Sessionæ—¶ï¼š
æ¯æ¬¡è¯·æ±‚ â†’ æœåŠ¡å™¨ï¼šä½ æ˜¯è°ï¼Ÿä¸è®¤è¯†ä½ ï¼
æ¯æ¬¡è¯·æ±‚ â†’ ç”¨æˆ·ï¼šæˆ‘æ˜¯å¼ ä¸‰ï¼Œå¯†ç 123456
æ¯æ¬¡è¯·æ±‚ â†’ æœåŠ¡å™¨ï¼šéªŒè¯ä¸­...å¥½å§ä½ æ˜¯å¼ ä¸‰

// æœ‰äº†Sessionåï¼š
é¦–æ¬¡ç™»å½• â†’ æœåŠ¡å™¨ï¼šä½ æ˜¯å¼ ä¸‰ï¼Œç»™ä½ SessionIDï¼šabc123
åç»­è¯·æ±‚ â†’ ç”¨æˆ·ï¼šæˆ‘çš„SessionIDæ˜¯abc123
åç»­è¯·æ±‚ â†’ æœåŠ¡å™¨ï¼šçŸ¥é“äº†ï¼Œä½ æ˜¯å¼ ä¸‰ï¼
```

### 1.3 Session vs Cookie åŸºæœ¬åŒºåˆ«


| ç‰¹å¾ | **Session** | **Cookie** |
|------|-------------|------------|
| ğŸ“ **å­˜å‚¨ä½ç½®** | `æœåŠ¡å™¨ç«¯` | `å®¢æˆ·ç«¯æµè§ˆå™¨` |
| ğŸ”’ **å®‰å…¨æ€§** | `ç›¸å¯¹å®‰å…¨` | `å®¹æ˜“è¢«ç¯¡æ”¹` |
| ğŸ’¾ **å­˜å‚¨å®¹é‡** | `å‡ ä¹æ— é™åˆ¶` | `4KBå·¦å³é™åˆ¶` |
| âš¡ **æ€§èƒ½å½±å“** | `å ç”¨æœåŠ¡å™¨å†…å­˜` | `æ¯æ¬¡è¯·æ±‚éƒ½ä¼ è¾“` |
| ğŸ• **ç”Ÿå‘½å‘¨æœŸ** | `æœåŠ¡å™¨æ§åˆ¶` | `å¯è®¾ç½®è¿‡æœŸæ—¶é—´` |

---

## 2. ğŸ”„ SessionIDçš„ç”Ÿæˆå­˜å‚¨éªŒè¯æµç¨‹


### 2.1 å®Œæ•´å·¥ä½œæµç¨‹


```
ç”¨æˆ·ç™»å½•è®¤è¯çš„å®Œæ•´æµç¨‹ï¼š

å®¢æˆ·ç«¯(æµè§ˆå™¨)              æœåŠ¡å™¨
     |                      |
     |--[1]ç™»å½•è¯·æ±‚--------->|
     | (ç”¨æˆ·å+å¯†ç )         |
     |                      |--[2]éªŒè¯ç”¨æˆ·ä¿¡æ¯
     |                      |   (æŸ¥æ•°æ®åº“)
     |                      |
     |<--[3]è¿”å›SessionID----|--[ç”Ÿæˆå”¯ä¸€SessionID]
     | (é€šè¿‡Cookie)          |   (abc123)
     |                      |
     |                      |--[4]å­˜å‚¨Sessionæ•°æ®
     |                      |   SessionID: abc123
     |                      |   ç”¨æˆ·ID: 1001
     |                      |   ç”¨æˆ·å: å¼ ä¸‰
     |                      |
     |--[5]åç»­è¯·æ±‚--------->|
     | (æºå¸¦SessionID)       |
     |                      |--[6]éªŒè¯SessionID
     |                      |   (æŸ¥æ‰¾Sessionä¿¡æ¯)
     |                      |
     |<--[7]è¿”å›è¯·æ±‚ç»“æœ-----|
     |                      |
```

### 2.2 SessionIDç”Ÿæˆæœºåˆ¶


**ğŸ”¸ ç”Ÿæˆè¦æ±‚**
- âœ… **å”¯ä¸€æ€§**ï¼šä¸èƒ½é‡å¤
- âœ… **éšæœºæ€§**ï¼šä¸èƒ½è¢«çŒœæµ‹
- âœ… **åˆé€‚é•¿åº¦**ï¼šæ—¢å®‰å…¨åˆä¸å¤ªé•¿

```java
// SessionIDç”Ÿæˆç¤ºä¾‹
public class SessionIdGenerator {
    
    // æ–¹å¼1ï¼šUUIDç”Ÿæˆ
    public static String generateByUUID() {
        return UUID.randomUUID().toString().replace("-", "");
        // ç»“æœï¼ša1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6
    }
    
    // æ–¹å¼2ï¼šæ—¶é—´æˆ³ + éšæœºæ•°
    public static String generateByTime() {
        long timestamp = System.currentTimeMillis();
        String random = UUID.randomUUID().toString().substring(0, 8);
        return timestamp + "_" + random;
        // ç»“æœï¼š1692701234567_a1b2c3d4
    }
    
    // æ–¹å¼3ï¼šè‡ªå®šä¹‰ç®—æ³•
    public static String generateCustom() {
        return "SESS_" + System.currentTimeMillis() + "_" + 
               new Random().nextInt(999999);
        // ç»“æœï¼šSESS_1692701234567_123456
    }
}
```

### 2.3 SessionIDçš„ä¼ è¾“æ–¹å¼


**ğŸ”¸ æ–¹å¼1ï¼šCookieä¼ è¾“ï¼ˆæœ€å¸¸ç”¨ï¼‰**
```http
// ç™»å½•æˆåŠŸåï¼ŒæœåŠ¡å™¨å“åº”
HTTP/1.1 200 OK
Set-Cookie: JSESSIONID=abc123; Path=/; HttpOnly

// åç»­è¯·æ±‚ï¼Œæµè§ˆå™¨è‡ªåŠ¨æºå¸¦
GET /user/profile HTTP/1.1
Cookie: JSESSIONID=abc123
```

**ğŸ”¸ æ–¹å¼2ï¼šURLå‚æ•°ä¼ è¾“**
```http
// URLä¸­æºå¸¦SessionID
GET /user/profile?jsessionid=abc123 HTTP/1.1

// é€‚ç”¨åœºæ™¯ï¼šCookieè¢«ç¦ç”¨æ—¶çš„å¤‡é€‰æ–¹æ¡ˆ
```

**ğŸ”¸ æ–¹å¼3ï¼šè¯·æ±‚å¤´ä¼ è¾“**
```http
// è‡ªå®šä¹‰è¯·æ±‚å¤´
GET /user/profile HTTP/1.1
Session-Token: abc123

// é€‚ç”¨åœºæ™¯ï¼šç§»åŠ¨Appã€APIæ¥å£
```

### 2.4 SessionéªŒè¯è¿‡ç¨‹


```java
// SessionéªŒè¯ä¼ªä»£ç 
public class SessionValidator {
    
    public boolean validateSession(String sessionId) {
        // æ­¥éª¤1ï¼šæ£€æŸ¥SessionIDæ ¼å¼
        if (sessionId == null || sessionId.isEmpty()) {
            return false;
        }
        
        // æ­¥éª¤2ï¼šä»å­˜å‚¨ä¸­æŸ¥æ‰¾Session
        SessionData session = sessionStore.get(sessionId);
        if (session == null) {
            return false; // Sessionä¸å­˜åœ¨
        }
        
        // æ­¥éª¤3ï¼šæ£€æŸ¥Sessionæ˜¯å¦è¿‡æœŸ
        if (session.isExpired()) {
            sessionStore.remove(sessionId); // æ¸…ç†è¿‡æœŸSession
            return false;
        }
        
        // æ­¥éª¤4ï¼šæ›´æ–°æœ€åè®¿é—®æ—¶é—´
        session.updateLastAccessTime();
        
        return true; // éªŒè¯é€šè¿‡
    }
}
```

---

## 3. ğŸ’¾ Sessionæ•°æ®çš„å­˜å‚¨ä½ç½®


### 3.1 å†…å­˜å­˜å‚¨


> ğŸ’¡ **ç±»æ¯”**ï¼šå°±åƒæŠŠä¸œè¥¿æ”¾åœ¨**æ¡Œé¢ä¸Š**ï¼Œæ‹¿å–æœ€å¿«ä½†å…³æœºå°±æ²¡äº†

**ğŸ”¸ å·¥ä½œåŸç†**
```java
// å†…å­˜å­˜å‚¨ç¤ºä¾‹
public class MemorySessionStore {
    // ä½¿ç”¨å†…å­˜Mapå­˜å‚¨Session
    private static Map<String, SessionData> sessionMap = 
        new ConcurrentHashMap<>();
    
    // å­˜å‚¨Session
    public void save(String sessionId, SessionData data) {
        sessionMap.put(sessionId, data);
    }
    
    // è·å–Session
    public SessionData get(String sessionId) {
        return sessionMap.get(sessionId);
    }
    
    // åˆ é™¤Session
    public void remove(String sessionId) {
        sessionMap.remove(sessionId);
    }
}
```

**âœ… ä¼˜ç‚¹**
- âš¡ **é€Ÿåº¦æå¿«**ï¼šå†…å­˜è®¿é—®æ¯«ç§’çº§
- ğŸ¯ **å®ç°ç®€å•**ï¼šç›´æ¥ç”¨Mapå­˜å‚¨
- ğŸ’° **æˆæœ¬ä½**ï¼šä¸éœ€è¦é¢å¤–ä¸­é—´ä»¶

**âŒ ç¼ºç‚¹**
- ğŸ’£ **æ˜“ä¸¢å¤±**ï¼šæœåŠ¡å™¨é‡å¯å°±å…¨æ²¡äº†
- ğŸ“ **å®¹é‡é™åˆ¶**ï¼šå—æœåŠ¡å™¨å†…å­˜é™åˆ¶
- ğŸš« **æ— æ³•å…±äº«**ï¼šå¤šå°æœåŠ¡å™¨æ— æ³•å…±äº«

**ğŸ¯ é€‚ç”¨åœºæ™¯**
- ğŸ  **å•æœºåº”ç”¨**ï¼šåªæœ‰ä¸€å°æœåŠ¡å™¨
- ğŸƒ **å¼€å‘æµ‹è¯•**ï¼šä¸éœ€è¦æŒä¹…åŒ–
- âš¡ **é«˜æ€§èƒ½è¦æ±‚**ï¼šè¿½æ±‚æè‡´é€Ÿåº¦

### 3.2 æ•°æ®åº“å­˜å‚¨


> ğŸ’¡ **ç±»æ¯”**ï¼šå°±åƒæŠŠä¸œè¥¿æ”¾åœ¨**ä¿é™©æŸœ**é‡Œï¼Œå®‰å…¨å¯é ä½†å–ç”¨ç¨æ…¢

**ğŸ”¸ æ•°æ®åº“è¡¨ç»“æ„**
```sql
-- Sessionå­˜å‚¨è¡¨
CREATE TABLE user_sessions (
    session_id VARCHAR(64) PRIMARY KEY,     -- SessionID
    user_id INT NOT NULL,                   -- ç”¨æˆ·ID
    session_data TEXT,                      -- Sessionæ•°æ®(JSON)
    create_time TIMESTAMP DEFAULT NOW(),    -- åˆ›å»ºæ—¶é—´
    last_access_time TIMESTAMP DEFAULT NOW(), -- æœ€åè®¿é—®æ—¶é—´
    expire_time TIMESTAMP NOT NULL          -- è¿‡æœŸæ—¶é—´
);

-- ç¤ºä¾‹æ•°æ®
INSERT INTO user_sessions VALUES (
    'abc123',
    1001,
    '{"username":"å¼ ä¸‰","role":"user","loginTime":"2024-08-12 10:00:00"}',
    '2024-08-12 10:00:00',
    '2024-08-12 15:30:00',
    '2024-08-12 22:00:00'
);
```

**ğŸ”¸ æ“ä½œç¤ºä¾‹**
```java
public class DatabaseSessionStore {
    
    // ä¿å­˜Sessionåˆ°æ•°æ®åº“
    public void save(String sessionId, SessionData data) {
        String sql = "INSERT INTO user_sessions (session_id, user_id, " +
                    "session_data, expire_time) VALUES (?, ?, ?, ?)";
        // æ‰§è¡ŒSQLæ’å…¥...
    }
    
    // ä»æ•°æ®åº“è·å–Session
    public SessionData get(String sessionId) {
        String sql = "SELECT * FROM user_sessions WHERE session_id = ? " +
                    "AND expire_time > NOW()";
        // æ‰§è¡ŒSQLæŸ¥è¯¢...
        return sessionData;
    }
    
    // æ¸…ç†è¿‡æœŸSession
    public void cleanExpired() {
        String sql = "DELETE FROM user_sessions WHERE expire_time < NOW()";
        // å®šæ—¶æ‰§è¡Œæ¸…ç†...
    }
}
```

**âœ… ä¼˜ç‚¹**
- ğŸ›¡ï¸ **æŒä¹…åŒ–**ï¼šæœåŠ¡å™¨é‡å¯æ•°æ®ä¸ä¸¢
- ğŸŒ **å¯å…±äº«**ï¼šå¤šå°æœåŠ¡å™¨å…±äº«åŒä¸€æ•°æ®åº“
- ğŸ“Š **å¯ç»Ÿè®¡**ï¼šå¯ä»¥åšç”¨æˆ·è¡Œä¸ºåˆ†æ
- ğŸ” **å¯æŸ¥è¯¢**ï¼šæ”¯æŒå¤æ‚æŸ¥è¯¢æ“ä½œ

**âŒ ç¼ºç‚¹**
- ğŸŒ **é€Ÿåº¦è¾ƒæ…¢**ï¼šéœ€è¦ç½‘ç»œIOå’Œç£ç›˜IO
- ğŸ’° **æˆæœ¬é«˜**ï¼šéœ€è¦æ•°æ®åº“æœåŠ¡å™¨
- ğŸ”§ **å¤æ‚åº¦é«˜**ï¼šéœ€è¦ç»´æŠ¤æ•°æ®åº“è¡¨

**ğŸ¯ é€‚ç”¨åœºæ™¯**
- ğŸ¢ **ä¼ä¸šåº”ç”¨**ï¼šéœ€è¦é«˜å¯é æ€§
- ğŸŒ **é›†ç¾¤éƒ¨ç½²**ï¼šå¤šå°æœåŠ¡å™¨
- ğŸ“Š **æ•°æ®åˆ†æ**ï¼šéœ€è¦ç»Ÿè®¡ç”¨æˆ·è¡Œä¸º

### 3.3 ç¼“å­˜å­˜å‚¨ï¼ˆRedisï¼‰


> ğŸ’¡ **ç±»æ¯”**ï¼šå°±åƒæŠŠä¸œè¥¿æ”¾åœ¨**å¿«é€’æŸœ**é‡Œï¼Œå–ç”¨å¿«é€Ÿä¸”ç›¸å¯¹å®‰å…¨

**ğŸ”¸ Rediså­˜å‚¨ç¤ºä¾‹**
```java
public class RedisSessionStore {
    private RedisTemplate redisTemplate;
    
    // ä¿å­˜Sessionåˆ°Redis
    public void save(String sessionId, SessionData data, int expireSeconds) {
        String key = "session:" + sessionId;
        redisTemplate.opsForValue().set(key, data, expireSeconds, TimeUnit.SECONDS);
    }
    
    // ä»Redisè·å–Session
    public SessionData get(String sessionId) {
        String key = "session:" + sessionId;
        return (SessionData) redisTemplate.opsForValue().get(key);
    }
    
    // åˆ é™¤Session
    public void remove(String sessionId) {
        String key = "session:" + sessionId;
        redisTemplate.delete(key);
    }
    
    // å»¶é•¿Sessionæœ‰æ•ˆæœŸ
    public void extend(String sessionId, int expireSeconds) {
        String key = "session:" + sessionId;
        redisTemplate.expire(key, expireSeconds, TimeUnit.SECONDS);
    }
}
```

**ğŸ”¸ Redisä¸­çš„Sessionæ•°æ®**
```redis
# æŸ¥çœ‹Sessionæ•°æ®
127.0.0.1:6379> GET session:abc123
"{\"userId\":1001,\"username\":\"å¼ ä¸‰\",\"role\":\"user\",\"loginTime\":\"2024-08-12 10:00:00\"}"

# æŸ¥çœ‹å‰©ä½™è¿‡æœŸæ—¶é—´
127.0.0.1:6379> TTL session:abc123
7200  # è¿˜æœ‰7200ç§’(2å°æ—¶)è¿‡æœŸ
```

**âœ… ä¼˜ç‚¹**
- âš¡ **é€Ÿåº¦å¿«**ï¼šå†…å­˜çº§åˆ«è®¿é—®é€Ÿåº¦
- ğŸ›¡ï¸ **æŒä¹…åŒ–**ï¼šæ”¯æŒæ•°æ®æŒä¹…åŒ–
- ğŸŒ **å¯å…±äº«**ï¼šå¤šå°æœåŠ¡å™¨å…±äº«
- â° **è‡ªåŠ¨è¿‡æœŸ**ï¼šRedisè‡ªåŠ¨æ¸…ç†è¿‡æœŸæ•°æ®
- ğŸ”§ **åŠŸèƒ½ä¸°å¯Œ**ï¼šæ”¯æŒå¤æ‚æ•°æ®ç»“æ„

**âŒ ç¼ºç‚¹**
- ğŸ’° **é¢å¤–æˆæœ¬**ï¼šéœ€è¦RedisæœåŠ¡å™¨
- ğŸ”§ **è¿ç»´å¤æ‚**ï¼šéœ€è¦ç»´æŠ¤Redisé›†ç¾¤
- ğŸ“ **å†…å­˜é™åˆ¶**ï¼šå—Rediså†…å­˜é™åˆ¶

**ğŸ¯ é€‚ç”¨åœºæ™¯**
- ğŸš€ **é«˜å¹¶å‘åº”ç”¨**ï¼šéœ€è¦å¿«é€Ÿå“åº”
- ğŸŒ **åˆ†å¸ƒå¼ç³»ç»Ÿ**ï¼šå¤šå°æœåŠ¡å™¨éƒ¨ç½²
- âš¡ **ç¼“å­˜åœºæ™¯**ï¼šæ—¢è¦é€Ÿåº¦åˆè¦å¯é æ€§

---

## 4. â° Sessionç”Ÿå‘½å‘¨æœŸä¸è¿‡æœŸç­–ç•¥


### 4.1 Sessionç”Ÿå‘½å‘¨æœŸ


```
Sessionçš„ä¸€ç”Ÿï¼š

åˆ›å»ºé˜¶æ®µï¼š
ç”¨æˆ·ç™»å½•æˆåŠŸ â†’ ç”ŸæˆSessionID â†’ å­˜å‚¨Sessionæ•°æ®
        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Sessionæ´»è·ƒæœŸ                    â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ç”¨æˆ·æ­£å¸¸ä½¿ç”¨ â†’ å»¶é•¿æœ‰æ•ˆæœŸ        â”‚ â”‚
â”‚ â”‚        â†“                        â”‚ â”‚
â”‚ â”‚ è¯·æ±‚é¡µé¢ â†’ æ›´æ–°æœ€åè®¿é—®æ—¶é—´      â”‚ â”‚
â”‚ â”‚        â†“                        â”‚ â”‚
â”‚ â”‚ æ“ä½œæ•°æ® â†’ Sessionä¿æŒæ´»è·ƒ       â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“
é”€æ¯é˜¶æ®µï¼š
ç”¨æˆ·ä¸»åŠ¨ç™»å‡º OR è¶…æ—¶æœªè®¿é—® OR æœåŠ¡å™¨é‡å¯
        â†“
æ¸…é™¤Sessionæ•°æ® â†’ Sessionç”Ÿå‘½ç»“æŸ
```

### 4.2 è¿‡æœŸç­–ç•¥è¯¦è§£


**ğŸ”¸ å›ºå®šæ—¶é—´è¿‡æœŸ**
```java
// åˆ›å»ºSessionæ—¶è®¾ç½®å›ºå®šè¿‡æœŸæ—¶é—´
public class FixedExpireSession {
    
    public void createSession(String sessionId, int expireMinutes) {
        // è®¡ç®—è¿‡æœŸæ—¶é—´ï¼šå½“å‰æ—¶é—´ + å›ºå®šæ—¶é•¿
        LocalDateTime expireTime = LocalDateTime.now()
            .plusMinutes(expireMinutes);
        
        SessionData data = new SessionData();
        data.setExpireTime(expireTime);
        
        sessionStore.save(sessionId, data);
    }
}

// ç¤ºä¾‹ï¼šç™»å½•å2å°æ—¶å›ºå®šè¿‡æœŸ
ç”¨æˆ·10:00ç™»å½• â†’ Session 12:00è¿‡æœŸï¼ˆæ— è®ºæ˜¯å¦æ´»è·ƒï¼‰
```

**ğŸ”¸ æ»‘åŠ¨æ—¶é—´è¿‡æœŸï¼ˆå¸¸ç”¨ï¼‰**
```java
// æ¯æ¬¡è®¿é—®éƒ½å»¶é•¿è¿‡æœŸæ—¶é—´
public class SlidingExpireSession {
    
    public boolean validateAndExtend(String sessionId, int expireMinutes) {
        SessionData session = sessionStore.get(sessionId);
        
        if (session != null && !session.isExpired()) {
            // å»¶é•¿è¿‡æœŸæ—¶é—´
            LocalDateTime newExpireTime = LocalDateTime.now()
                .plusMinutes(expireMinutes);
            session.setExpireTime(newExpireTime);
            
            sessionStore.save(sessionId, session);
            return true;
        }
        
        return false;
    }
}

// ç¤ºä¾‹ï¼šæ¯æ¬¡è®¿é—®å»¶é•¿30åˆ†é’Ÿ
ç”¨æˆ·10:00ç™»å½• â†’ Session 10:30è¿‡æœŸ
ç”¨æˆ·10:20è®¿é—® â†’ Session 10:50è¿‡æœŸï¼ˆå»¶é•¿äº†ï¼‰
ç”¨æˆ·10:45è®¿é—® â†’ Session 11:15è¿‡æœŸï¼ˆå†æ¬¡å»¶é•¿ï¼‰
```

**ğŸ”¸ ç»å¯¹æ—¶é—´è¿‡æœŸ**
```java
// è®¾ç½®ç»å¯¹è¿‡æœŸæ—¶é—´ï¼Œä¸å¯å»¶é•¿
public class AbsoluteExpireSession {
    
    public void createSession(String sessionId) {
        // ç»å¯¹è¿‡æœŸæ—¶é—´ï¼šä»Šå¤©æ™šä¸Š24ç‚¹
        LocalDateTime absoluteExpire = LocalDate.now()
            .plusDays(1)
            .atStartOfDay();
        
        SessionData data = new SessionData();
        data.setAbsoluteExpireTime(absoluteExpire);
        
        sessionStore.save(sessionId, data);
    }
}

// ç¤ºä¾‹ï¼šå½“å¤©24ç‚¹å¼ºåˆ¶è¿‡æœŸ
ä»»ä½•æ—¶é—´ç™»å½• â†’ å½“å¤©24:00å¿…é¡»é‡æ–°ç™»å½•
```

### 4.3 è¿‡æœŸç­–ç•¥é…ç½®


```java
// Sessionè¿‡æœŸé…ç½®ç±»
public class SessionConfig {
    
    // é»˜è®¤è¿‡æœŸæ—¶é—´ï¼ˆåˆ†é’Ÿï¼‰
    private int defaultExpireMinutes = 30;
    
    // æœ€å¤§è¿‡æœŸæ—¶é—´ï¼ˆåˆ†é’Ÿï¼‰
    private int maxExpireMinutes = 480; // 8å°æ—¶
    
    // æ˜¯å¦å¯ç”¨æ»‘åŠ¨è¿‡æœŸ
    private boolean slidingExpiration = true;
    
    // æ˜¯å¦å¯ç”¨ç»å¯¹è¿‡æœŸ
    private boolean absoluteExpiration = false;
    
    // è®°ä½æˆ‘åŠŸèƒ½çš„è¿‡æœŸæ—¶é—´ï¼ˆå¤©ï¼‰
    private int rememberMeDays = 7;
    
    // é…ç½®ç¤ºä¾‹
    public SessionConfig buildConfig() {
        return SessionConfig.builder()
            .defaultExpireMinutes(30)      // é»˜è®¤30åˆ†é’Ÿ
            .maxExpireMinutes(480)         // æœ€é•¿8å°æ—¶
            .slidingExpiration(true)       // å¯ç”¨æ»‘åŠ¨è¿‡æœŸ
            .rememberMeDays(7)            // è®°ä½æˆ‘7å¤©
            .build();
    }
}
```

---

## 5. ğŸ”„ Sessionå¤±æ•ˆåçš„å¤„ç†


### 5.1 å¼ºåˆ¶é‡æ–°ç™»å½•


**ğŸ”¸ æ£€æµ‹å¤±æ•ˆå¹¶è·³è½¬ç™»å½•**
```java
// Sessionå¤±æ•ˆå¤„ç†æ‹¦æˆªå™¨
public class SessionInterceptor {
    
    public boolean preHandle(HttpServletRequest request, 
                           HttpServletResponse response) {
        
        String sessionId = getSessionId(request);
        
        // æ£€æŸ¥Sessionæ˜¯å¦æœ‰æ•ˆ
        if (!sessionValidator.isValid(sessionId)) {
            
            // æ¸…é™¤å®¢æˆ·ç«¯Cookie
            clearSessionCookie(response);
            
            // é‡å®šå‘åˆ°ç™»å½•é¡µ
            if (isAjaxRequest(request)) {
                // AJAXè¯·æ±‚è¿”å›JSON
                writeJsonResponse(response, "SESSION_EXPIRED");
            } else {
                // æ™®é€šè¯·æ±‚é‡å®šå‘
                response.sendRedirect("/login");
            }
            
            return false; // æ‹¦æˆªè¯·æ±‚
        }
        
        return true; // ç»§ç»­å¤„ç†
    }
}
```

**ğŸ”¸ å‰ç«¯å¤„ç†Sessionå¤±æ•ˆ**
```javascript
// å‰ç«¯æ£€æµ‹Sessionå¤±æ•ˆ
function handleSessionExpired() {
    // æ–¹å¼1ï¼šæ‹¦æˆªHTTPå“åº”
    axios.interceptors.response.use(
        response => response,
        error => {
            if (error.response?.data?.code === 'SESSION_EXPIRED') {
                // æç¤ºç”¨æˆ·
                alert('ç™»å½•å·²è¿‡æœŸï¼Œè¯·é‡æ–°ç™»å½•');
                // è·³è½¬ç™»å½•é¡µ
                window.location.href = '/login';
            }
            return Promise.reject(error);
        }
    );
    
    // æ–¹å¼2ï¼šå®šæ—¶æ£€æŸ¥Session
    setInterval(() => {
        fetch('/api/check-session')
            .then(response => {
                if (!response.ok) {
                    // Sessionå·²å¤±æ•ˆ
                    showLoginDialog();
                }
            });
    }, 60000); // æ¯åˆ†é’Ÿæ£€æŸ¥ä¸€æ¬¡
}
```

### 5.2 è‡ªåŠ¨ç»­æœŸæœºåˆ¶


**ğŸ”¸ æ´»è·ƒç”¨æˆ·è‡ªåŠ¨ç»­æœŸ**
```java
// è‡ªåŠ¨ç»­æœŸå¤„ç†
public class AutoRenewalHandler {
    
    public void handleRequest(String sessionId) {
        SessionData session = sessionStore.get(sessionId);
        
        if (session != null && !session.isExpired()) {
            
            // æ£€æŸ¥æ˜¯å¦éœ€è¦ç»­æœŸ
            if (shouldRenew(session)) {
                
                // å»¶é•¿Sessionæœ‰æ•ˆæœŸ
                extendSession(sessionId, 30); // å»¶é•¿30åˆ†é’Ÿ
                
                // è®°å½•ç»­æœŸæ—¥å¿—
                logger.info("Sessionè‡ªåŠ¨ç»­æœŸ: {}", sessionId);
            }
        }
    }
    
    // åˆ¤æ–­æ˜¯å¦éœ€è¦ç»­æœŸ
    private boolean shouldRenew(SessionData session) {
        LocalDateTime now = LocalDateTime.now();
        LocalDateTime expireTime = session.getExpireTime();
        
        // å¦‚æœè¿˜æœ‰10åˆ†é’Ÿè¿‡æœŸï¼Œå°±è‡ªåŠ¨ç»­æœŸ
        return ChronoUnit.MINUTES.between(now, expireTime) <= 10;
    }
}
```

**ğŸ”¸ å‰ç«¯ä¸»åŠ¨ç»­æœŸ**
```javascript
// å‰ç«¯ä¸»åŠ¨ç»­æœŸSession
class SessionManager {
    constructor() {
        this.renewalTimer = null;
        this.startAutoRenewal();
    }
    
    // å¼€å§‹è‡ªåŠ¨ç»­æœŸ
    startAutoRenewal() {
        // æ¯25åˆ†é’Ÿè‡ªåŠ¨ç»­æœŸä¸€æ¬¡
        this.renewalTimer = setInterval(() => {
            this.renewSession();
        }, 25 * 60 * 1000);
    }
    
    // ç»­æœŸSession
    async renewSession() {
        try {
            const response = await fetch('/api/renew-session', {
                method: 'POST',
                credentials: 'include' // æºå¸¦Cookie
            });
            
            if (response.ok) {
                console.log('Sessionç»­æœŸæˆåŠŸ');
            } else {
                console.log('Sessionç»­æœŸå¤±è´¥');
                this.handleSessionExpired();
            }
        } catch (error) {
            console.error('ç»­æœŸè¯·æ±‚å¤±è´¥:', error);
        }
    }
    
    // åœæ­¢è‡ªåŠ¨ç»­æœŸ
    stopAutoRenewal() {
        if (this.renewalTimer) {
            clearInterval(this.renewalTimer);
        }
    }
}
```

### 5.3 ä¼˜é›…é™çº§å¤„ç†


**ğŸ”¸ éƒ¨åˆ†åŠŸèƒ½é™çº§**
```java
// ä¼˜é›…é™çº§ç­–ç•¥
public class GracefulDegradation {
    
    public ModelAndView handleExpiredSession(HttpServletRequest request) {
        
        // ä¿å­˜ç”¨æˆ·å½“å‰æ“ä½œ
        saveUserOperation(request);
        
        // æ ¹æ®åŠŸèƒ½é‡è¦æ€§åˆ†çº§å¤„ç†
        String requestPath = request.getRequestURI();
        
        if (isCriticalFunction(requestPath)) {
            // å…³é”®åŠŸèƒ½ï¼šå¼ºåˆ¶ç™»å½•
            return redirectToLogin();
            
        } else if (isReadOnlyFunction(requestPath)) {
            // åªè¯»åŠŸèƒ½ï¼šå…è®¸è®¿é—®ä½†æç¤ºç™»å½•
            ModelAndView mv = new ModelAndView("page");
            mv.addObject("showLoginTip", true);
            return mv;
            
        } else {
            // ä¸€èˆ¬åŠŸèƒ½ï¼šæç¤ºå¹¶å¼•å¯¼ç™»å½•
            return showGentleLoginPrompt();
        }
    }
    
    // ä¿å­˜ç”¨æˆ·æ“ä½œï¼Œç™»å½•åæ¢å¤
    private void saveUserOperation(HttpServletRequest request) {
        String operation = buildOperationContext(request);
        // å­˜å‚¨åˆ°ä¸´æ—¶å­˜å‚¨ä¸­ï¼Œç”¨sessionIdæˆ–IPæ ‡è¯†
        tempStorage.save(getUserIdentifier(request), operation);
    }
}
```

---

## 6. ğŸ“Š å­˜å‚¨æ–¹å¼å¯¹æ¯”åˆ†æ


### 6.1 æ€§èƒ½å¯¹æ¯”


| å­˜å‚¨æ–¹å¼ | **å“åº”æ—¶é—´** | **å¹¶å‘å¤„ç†èƒ½åŠ›** | **å†…å­˜å ç”¨** | **æ‰©å±•æ€§** |
|---------|-------------|----------------|-------------|-----------|
| ğŸ§  **å†…å­˜å­˜å‚¨** | `<1ms` | `æé«˜(10000+)` | `é«˜` | `å•æœºé™åˆ¶` |
| ğŸ—„ï¸ **æ•°æ®åº“å­˜å‚¨** | `10-50ms` | `ä¸­ç­‰(1000)` | `ä½` | `æ°´å¹³æ‰©å±•` |
| âš¡ **Redisç¼“å­˜** | `1-5ms` | `é«˜(5000+)` | `ä¸­ç­‰` | `æ°´å¹³æ‰©å±•` |

### 6.2 å¯é æ€§å¯¹æ¯”


```
å¯é æ€§ç­‰çº§ï¼ˆä»ä½åˆ°é«˜ï¼‰ï¼š

ğŸ”´ å†…å­˜å­˜å‚¨
â”œâ”€ æœåŠ¡å™¨é‡å¯ â†’ æ•°æ®å…¨ä¸¢å¤±
â”œâ”€ è¿›ç¨‹å´©æºƒ â†’ æ•°æ®å…¨ä¸¢å¤±  
â””â”€ é€‚ç”¨ï¼šå¼€å‘æµ‹è¯•ç¯å¢ƒ

ğŸŸ¡ Redisç¼“å­˜
â”œâ”€ é…ç½®æŒä¹…åŒ– â†’ é‡å¯åå¯æ¢å¤
â”œâ”€ ä¸»ä»å¤‡ä»½ â†’ é«˜å¯ç”¨éƒ¨ç½²
â””â”€ é€‚ç”¨ï¼šç”Ÿäº§ç¯å¢ƒï¼ˆé…ç½®å¾—å½“ï¼‰

ğŸŸ¢ æ•°æ®åº“å­˜å‚¨
â”œâ”€ äº‹åŠ¡ä¿è¯ â†’ æ•°æ®ä¸€è‡´æ€§
â”œâ”€ å¤‡ä»½æ¢å¤ â†’ æ•°æ®æ°¸ä¸ä¸¢å¤±
â””â”€ é€‚ç”¨ï¼šä¼ä¸šçº§åº”ç”¨
```

### 6.3 æˆæœ¬å¯¹æ¯”


**ğŸ”¸ å¼€å‘æˆæœ¬**
```
å†…å­˜å­˜å‚¨ï¼š     â­ (æœ€ç®€å•)
Redisç¼“å­˜ï¼š    â­â­â­ (éœ€è¦å­¦ä¹ Redis)
æ•°æ®åº“å­˜å‚¨ï¼š   â­â­â­â­ (éœ€è¦è®¾è®¡è¡¨ç»“æ„)
```

**ğŸ”¸ è¿ç»´æˆæœ¬**
```
å†…å­˜å­˜å‚¨ï¼š     â­ (æ— é¢å¤–è¿ç»´)
Redisç¼“å­˜ï¼š    â­â­â­ (éœ€è¦ç»´æŠ¤Redisé›†ç¾¤)
æ•°æ®åº“å­˜å‚¨ï¼š   â­â­â­â­ (éœ€è¦DBAç»´æŠ¤)
```

**ğŸ”¸ ç¡¬ä»¶æˆæœ¬**
```
å†…å­˜å­˜å‚¨ï¼š     åº”ç”¨æœåŠ¡å™¨å†…å­˜
Redisç¼“å­˜ï¼š    åº”ç”¨æœåŠ¡å™¨ + RedisæœåŠ¡å™¨
æ•°æ®åº“å­˜å‚¨ï¼š   åº”ç”¨æœåŠ¡å™¨ + æ•°æ®åº“æœåŠ¡å™¨
```

### 6.4 é€‰æ‹©å»ºè®®


**ğŸ¯ é€‰æ‹©å†³ç­–æ ‘**
```
å¼€å§‹é€‰æ‹©
    â†“
æ˜¯å¦å•æœºéƒ¨ç½²ï¼Ÿ
    â”œâ”€ æ˜¯ â†’ æ•°æ®é‡å¤§å—ï¼Ÿ
    â”‚     â”œâ”€ å¦ â†’ å†…å­˜å­˜å‚¨ âœ“
    â”‚     â””â”€ æ˜¯ â†’ Redisç¼“å­˜ âœ“
    â”‚
    â””â”€ å¦ â†’ éœ€è¦æ•°æ®åˆ†æå—ï¼Ÿ
          â”œâ”€ æ˜¯ â†’ æ•°æ®åº“å­˜å‚¨ âœ“
          â””â”€ å¦ â†’ Redisç¼“å­˜ âœ“
```

**ğŸ“‹ å…·ä½“åœºæ™¯æ¨è**

> ğŸ  **ä¸ªäººé¡¹ç›®/å°å‹ç½‘ç«™**
> - æ¨èï¼šå†…å­˜å­˜å‚¨
> - ç†ç”±ï¼šç®€å•å¿«é€Ÿï¼Œæˆæœ¬ä½

> ğŸ¢ **ä¸­å°ä¼ä¸šåº”ç”¨**
> - æ¨èï¼šRedisç¼“å­˜
> - ç†ç”±ï¼šæ€§èƒ½å¥½ï¼Œå¯æ‰©å±•

> ğŸ­ **å¤§å‹ä¼ä¸šç³»ç»Ÿ**
> - æ¨èï¼šæ•°æ®åº“å­˜å‚¨ + Redisç¼“å­˜
> - ç†ç”±ï¼šå¯é æ€§é«˜ï¼Œæ”¯æŒå¤æ‚éœ€æ±‚

> âš¡ **é«˜å¹¶å‘åº”ç”¨**
> - æ¨èï¼šRedisé›†ç¾¤
> - ç†ç”±ï¼šé«˜æ€§èƒ½ï¼Œæ”¯æŒåˆ†å¸ƒå¼

---

## 7. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 7.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ Sessionæœ¬è´¨ï¼šæœåŠ¡å™¨ç«¯å­˜å‚¨ï¼Œç”¨äºè¯†åˆ«ç”¨æˆ·èº«ä»½å’Œä¿æŒçŠ¶æ€
ğŸ”¸ SessionIDï¼šå”¯ä¸€æ ‡è¯†ç¬¦ï¼Œé€šè¿‡Cookieã€URLæˆ–è¯·æ±‚å¤´ä¼ è¾“
ğŸ”¸ å­˜å‚¨é€‰æ‹©ï¼šå†…å­˜(å¿«)ã€æ•°æ®åº“(å¯é )ã€Redis(å¹³è¡¡)
ğŸ”¸ è¿‡æœŸç­–ç•¥ï¼šå›ºå®šè¿‡æœŸã€æ»‘åŠ¨è¿‡æœŸã€ç»å¯¹è¿‡æœŸ
ğŸ”¸ å¤±æ•ˆå¤„ç†ï¼šå¼ºåˆ¶ç™»å½•ã€è‡ªåŠ¨ç»­æœŸã€ä¼˜é›…é™çº§
```

### 7.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ Session vs Cookie çš„å…³ç³»**
```
Cookieæ˜¯è½½ä½“ï¼ŒSessionæ˜¯è´§ç‰©ï¼š
- SessionIDé€šè¿‡Cookieä¼ è¾“åˆ°å®¢æˆ·ç«¯
- çœŸæ­£çš„æ•°æ®å­˜å‚¨åœ¨æœåŠ¡å™¨ç«¯Sessionä¸­
- Cookieå¯ä»¥è¢«ç¦ç”¨ï¼Œä½†Sessionæœºåˆ¶ä»ç„¶æœ‰æ•ˆï¼ˆé€šè¿‡URLä¼ é€’ï¼‰
```

**ğŸ”¹ ä¸ºä»€ä¹ˆéœ€è¦Session**
```
HTTPæ— çŠ¶æ€çš„é—®é¢˜ï¼š
- æ¯æ¬¡è¯·æ±‚éƒ½æ˜¯ç‹¬ç«‹çš„ï¼ŒæœåŠ¡å™¨ä¸çŸ¥é“"ä½ æ˜¯è°"
- Sessionè®©æœåŠ¡å™¨èƒ½å¤Ÿ"è®°ä½"ç”¨æˆ·ä¿¡æ¯
- è§£å†³äº†ç”¨æˆ·çŠ¶æ€ä¿æŒçš„æ ¸å¿ƒé—®é¢˜
```

**ğŸ”¹ è¿‡æœŸç­–ç•¥çš„é€‰æ‹©**
```
å›ºå®šè¿‡æœŸï¼šé€‚åˆå®‰å…¨è¦æ±‚é«˜çš„åœºæ™¯ï¼ˆé“¶è¡Œç³»ç»Ÿï¼‰
æ»‘åŠ¨è¿‡æœŸï¼šé€‚åˆä¸€èˆ¬Webåº”ç”¨ï¼ˆç”¨æˆ·ä½“éªŒå¥½ï¼‰
ç»å¯¹è¿‡æœŸï¼šé€‚åˆæ—¶é—´æ•æ„Ÿçš„åœºæ™¯ï¼ˆè€ƒè¯•ç³»ç»Ÿï¼‰
```

### 7.3 å®é™…åº”ç”¨ä»·å€¼


**ğŸ’» å¼€å‘åœºæ™¯**
- **ç”¨æˆ·ç™»å½•**ï¼šä¿æŒç™»å½•çŠ¶æ€
- **è´­ç‰©è½¦**ï¼šå­˜å‚¨ä¸´æ—¶å•†å“ä¿¡æ¯  
- **è¡¨å•æ•°æ®**ï¼šå¤šæ­¥éª¤è¡¨å•çš„æ•°æ®ä¿å­˜
- **ç”¨æˆ·åå¥½**ï¼šå­˜å‚¨ç”¨æˆ·è®¾ç½®å’Œåå¥½

**ğŸ”§ æŠ€æœ¯é€‰å‹**
- **å°é¡¹ç›®**ï¼šå†…å­˜å­˜å‚¨ï¼Œå¿«é€Ÿå¼€å‘
- **ä¸­é¡¹ç›®**ï¼šRedisç¼“å­˜ï¼Œæ€§èƒ½ä¸å¯é æ€§å¹³è¡¡
- **å¤§é¡¹ç›®**ï¼šæ•°æ®åº“+Redisï¼Œä¼ä¸šçº§å¯é æ€§

**âš ï¸ æ³¨æ„äº‹é¡¹**
- **å®‰å…¨æ€§**ï¼šSessionIDè¦è¶³å¤Ÿéšæœºï¼Œé˜²æ­¢è¢«çŒœæµ‹
- **æ€§èƒ½**ï¼šé€‰æ‹©åˆé€‚çš„å­˜å‚¨æ–¹å¼ï¼Œé¿å…æ€§èƒ½ç“¶é¢ˆ
- **æ‰©å±•æ€§**ï¼šè€ƒè™‘åˆ†å¸ƒå¼éƒ¨ç½²çš„Sessionå…±äº«é—®é¢˜

**æ ¸å¿ƒè®°å¿†å£è¯€**ï¼š
```
Sessionåƒå‚¨ç‰©æŸœï¼ŒSessionIDæ˜¯é’¥åŒ™
æœåŠ¡å™¨ç«¯æ¥å­˜å‚¨ï¼Œå®¢æˆ·ç«¯å¸¦ç€ID
è¿‡æœŸç­–ç•¥è¦é€‰å¥½ï¼Œå¤±æ•ˆå¤„ç†è¦ä¼˜é›…
å­˜å‚¨æ–¹å¼çœ‹åœºæ™¯ï¼Œæ€§èƒ½å¯é è¦å¹³è¡¡
```