---
title: 9ã€LDAPè¿ç»´æ•…éšœæ’æŸ¥
---
## ğŸ“š ç›®å½•

1. [LDAPæ•…éšœæ’æŸ¥åŸºç¡€](#1-LDAPæ•…éšœæ’æŸ¥åŸºç¡€)
2. [è¿æ¥å¤±è´¥é—®é¢˜æ’æŸ¥](#2-è¿æ¥å¤±è´¥é—®é¢˜æ’æŸ¥)
3. [è®¤è¯å¤±è´¥é—®é¢˜æ’æŸ¥](#3-è®¤è¯å¤±è´¥é—®é¢˜æ’æŸ¥)
4. [æ•°æ®ä¸å¯è§é—®é¢˜æ’æŸ¥](#4-æ•°æ®ä¸å¯è§é—®é¢˜æ’æŸ¥)
5. [Schemaå†²çªé—®é¢˜æ’æŸ¥](#5-Schemaå†²çªé—®é¢˜æ’æŸ¥)
6. [LDIFå¯¼å…¥é”™è¯¯æ’æŸ¥](#6-LDIFå¯¼å…¥é”™è¯¯æ’æŸ¥)
7. [æ—¥å¿—æ’æŸ¥å®æˆ˜æ–¹æ³•](#7-æ—¥å¿—æ’æŸ¥å®æˆ˜æ–¹æ³•)
8. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#8-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ” LDAPæ•…éšœæ’æŸ¥åŸºç¡€


### 1.1 ä»€ä¹ˆæ˜¯LDAPæ•…éšœæ’æŸ¥


**ğŸ¯ æ ¸å¿ƒå®šä¹‰**
```
LDAPæ•…éšœæ’æŸ¥ï¼šå½“LDAPç›®å½•æœåŠ¡å‡ºç°é—®é¢˜æ—¶ï¼Œé€šè¿‡ç³»ç»Ÿæ€§çš„æ–¹æ³•
å¿«é€Ÿå®šä½é—®é¢˜åŸå› ï¼Œå¹¶æ‰¾åˆ°è§£å†³æ–¹æ¡ˆçš„è¿‡ç¨‹

å°±åƒåŒ»ç”Ÿçœ‹ç—…ï¼š
- å¬ç—‡çŠ¶ï¼ˆæ”¶é›†é”™è¯¯ä¿¡æ¯ï¼‰
- åšæ£€æŸ¥ï¼ˆæŸ¥çœ‹æ—¥å¿—ã€æµ‹è¯•è¿æ¥ï¼‰  
- æ‰¾ç—…å› ï¼ˆåˆ†ææ ¹æœ¬åŸå› ï¼‰
- å¼€è¯æ–¹ï¼ˆå®æ–½è§£å†³æ–¹æ¡ˆï¼‰
```

### 1.2 LDAPæ•…éšœçš„å¸¸è§ç±»å‹


**ğŸ”¸ è¿æ¥å±‚é¢æ•…éšœ**
```
ç½‘ç»œé—®é¢˜ï¼šæœåŠ¡å™¨æ— æ³•è®¿é—®
ç«¯å£é—®é¢˜ï¼šç«¯å£æœªå¼€æ”¾æˆ–è¢«å ç”¨
è¯ä¹¦é—®é¢˜ï¼šSSL/TLSé…ç½®é”™è¯¯
é˜²ç«å¢™ï¼šç½‘ç»œè®¿é—®è¢«é˜»æ–­
```

**ğŸ”¸ è®¤è¯å±‚é¢æ•…éšœ**
```
å¯†ç é”™è¯¯ï¼šç”¨æˆ·å‡­æ®ä¸æ­£ç¡®
DNæ ¼å¼ï¼šç”¨æˆ·æ ‡è¯†æ ¼å¼é”™è¯¯
æƒé™ä¸è¶³ï¼šæ²¡æœ‰è¶³å¤Ÿçš„è®¿é—®æƒé™
è´¦æˆ·çŠ¶æ€ï¼šè´¦æˆ·è¢«ç¦ç”¨æˆ–è¿‡æœŸ
```

**ğŸ”¸ æ•°æ®å±‚é¢æ•…éšœ**
```
æŸ¥è¯¢æ— ç»“æœï¼šæœç´¢æ¡ä»¶æˆ–æƒé™é—®é¢˜
æ•°æ®ä¸ä¸€è‡´ï¼šåŒæ­¥æˆ–å¤åˆ¶é—®é¢˜
ç»“æ„é”™è¯¯ï¼šSchemaå®šä¹‰é—®é¢˜
ç¼–ç é—®é¢˜ï¼šå­—ç¬¦é›†ä¸åŒ¹é…
```

### 1.3 æ’æŸ¥é—®é¢˜çš„åŸºæœ¬æ€è·¯


```
é—®é¢˜åˆ†ææµç¨‹ï¼š

1ï¸âƒ£ é—®é¢˜ç°è±¡ â†’ èƒ½å¦è¿æ¥åˆ°LDAPæœåŠ¡å™¨ï¼Ÿ
        â†“
2ï¸âƒ£ è¿æ¥æ£€æŸ¥ â†’ èƒ½å¦é€šè¿‡èº«ä»½éªŒè¯ï¼Ÿ
        â†“
3ï¸âƒ£ è®¤è¯æ£€æŸ¥ â†’ èƒ½å¦æŸ¥è¯¢åˆ°é¢„æœŸæ•°æ®ï¼Ÿ
        â†“
4ï¸âƒ£ æ•°æ®æ£€æŸ¥ â†’ æ•°æ®æ˜¯å¦ç¬¦åˆSchemaï¼Ÿ
        â†“
5ï¸âƒ£ ç»“æ„æ£€æŸ¥ â†’ æŸ¥çœ‹è¯¦ç»†æ—¥å¿—å®šä½æ ¹å› 
```

> ğŸ’¡ **æ’æŸ¥åŸåˆ™**  
> ä»å¤–åˆ°å†…ï¼Œä»ç®€å•åˆ°å¤æ‚ï¼Œé€å±‚æ’æŸ¥ï¼Œä¸è¦ä¸€å¼€å§‹å°±æ·±å…¥ç»†èŠ‚

---

## 2. ğŸŒ è¿æ¥å¤±è´¥é—®é¢˜æ’æŸ¥


### 2.1 ç«¯å£é—®é¢˜æ’æŸ¥


**ğŸ”¸ ç«¯å£ä¸é€šé—®é¢˜**

LDAPæœåŠ¡æœ‰ä¸¤ä¸ªæ ‡å‡†ç«¯å£ï¼š
- **389ç«¯å£**ï¼šæ™®é€šLDAPè¿æ¥ï¼ˆæ˜æ–‡ä¼ è¾“ï¼‰
- **636ç«¯å£**ï¼šLDAPSè¿æ¥ï¼ˆåŠ å¯†ä¼ è¾“ï¼‰

```bash
# æ£€æŸ¥ç«¯å£æ˜¯å¦å¼€æ”¾
telnet ldap.example.com 389
telnet ldap.example.com 636

# ä½¿ç”¨nmapæ‰«æç«¯å£
nmap -p 389,636 ldap.example.com

# æ£€æŸ¥æœ¬æœºç«¯å£ç›‘å¬çŠ¶æ€
netstat -tlnp | grep :389
ss -tlnp | grep :636
```

**å¸¸è§ç«¯å£é—®é¢˜**ï¼š
```
âŒ Connection refused â†’ æœåŠ¡æœªå¯åŠ¨æˆ–ç«¯å£æœªç›‘å¬
âŒ Connection timeout â†’ é˜²ç«å¢™é˜»æ–­æˆ–ç½‘ç»œä¸é€š
âŒ No route to host â†’ ç½‘ç»œè·¯ç”±é—®é¢˜
âœ… Connected to... â†’ ç«¯å£æ­£å¸¸å¼€æ”¾
```

### 2.2 é˜²ç«å¢™é—®é¢˜æ’æŸ¥


**ğŸ”¸ æ£€æŸ¥é˜²ç«å¢™è®¾ç½®**

```bash
# CentOS/RHEL é˜²ç«å¢™æ£€æŸ¥
firewall-cmd --list-ports
firewall-cmd --list-services

# ä¸´æ—¶å¼€æ”¾LDAPç«¯å£æµ‹è¯•
firewall-cmd --add-port=389/tcp
firewall-cmd --add-port=636/tcp

# Ubuntu/Debian é˜²ç«å¢™æ£€æŸ¥
ufw status
ufw allow 389/tcp
ufw allow 636/tcp
```

**é˜²ç«å¢™æ’æŸ¥æ­¥éª¤**ï¼š
```
1ï¸âƒ£ æ£€æŸ¥æœåŠ¡å™¨é˜²ç«å¢™è®¾ç½®
2ï¸âƒ£ æ£€æŸ¥ç½‘ç»œè®¾å¤‡é˜²ç«å¢™è§„åˆ™
3ï¸âƒ£ ä¸´æ—¶å…³é—­é˜²ç«å¢™æµ‹è¯•è¿æ¥
4ï¸âƒ£ ç¡®è®¤é—®é¢˜åå†å¼€æ”¾ç›¸åº”ç«¯å£
```

### 2.3 TLS/SSLé—®é¢˜æ’æŸ¥


**ğŸ”¸ è¯ä¹¦ç›¸å…³é—®é¢˜**

```bash
# æµ‹è¯•SSLè¿æ¥
openssl s_client -connect ldap.example.com:636

# æ£€æŸ¥è¯ä¹¦è¯¦ç»†ä¿¡æ¯
openssl s_client -connect ldap.example.com:636 -showcerts

# éªŒè¯è¯ä¹¦æœ‰æ•ˆæœŸ
echo | openssl s_client -connect ldap.example.com:636 2>/dev/null | \
openssl x509 -noout -dates
```

**å¸¸è§TLSé—®é¢˜**ï¼š
```
âŒ certificate verify failed â†’ è¯ä¹¦éªŒè¯å¤±è´¥
âŒ wrong version number â†’ ç«¯å£é…ç½®é”™è¯¯ï¼ˆç”¨HTTPè®¿é—®HTTPSç«¯å£ï¼‰
âŒ connection refused â†’ SSLæœªæ­£ç¡®é…ç½®
âœ… Verify return code: 0 (ok) â†’ è¯ä¹¦éªŒè¯æˆåŠŸ
```

### 2.4 è¿æ¥é—®é¢˜å®æˆ˜æ¡ˆä¾‹


**ğŸŒ° æ¡ˆä¾‹ï¼šæ— æ³•è¿æ¥LDAPæœåŠ¡å™¨**

```
é”™è¯¯ç°è±¡ï¼š
åº”ç”¨ç¨‹åºæŠ¥é”™"LDAP: error code 91 - Connect Error"

æ’æŸ¥æ­¥éª¤ï¼š
1ï¸âƒ£ ping ldap.example.com â†’ ç½‘ç»œé€šç•…
2ï¸âƒ£ telnet ldap.example.com 389 â†’ è¿æ¥è¢«æ‹’ç»
3ï¸âƒ£ ç™»å½•æœåŠ¡å™¨æ£€æŸ¥ï¼šsystemctl status slapd â†’ æœåŠ¡æœªå¯åŠ¨
4ï¸âƒ£ å¯åŠ¨æœåŠ¡ï¼šsystemctl start slapd
5ï¸âƒ£ å†æ¬¡æµ‹è¯•è¿æ¥ â†’ é—®é¢˜è§£å†³
```

> âš ï¸ **å¸¸è§è¯¯åŒº**  
> ä¸è¦ä¸€å¼€å§‹å°±æ£€æŸ¥å¤æ‚çš„é…ç½®ï¼Œå…ˆç¡®ä¿åŸºæœ¬çš„ç½‘ç»œè¿é€šæ€§

---

## 3. ğŸ” è®¤è¯å¤±è´¥é—®é¢˜æ’æŸ¥


### 3.1 å¯†ç é”™è¯¯é—®é¢˜


**ğŸ”¸ å¸¸è§å¯†ç é—®é¢˜**

```
è®¤è¯å¤±è´¥çš„å…¸å‹é”™è¯¯ï¼š
- LDAP: error code 49 - Invalid credentials
- Authentication failed
- Bad username or password
```

**å¯†ç é—®é¢˜æ’æŸ¥**ï¼š
```bash
# ä½¿ç”¨ldapwhoamiæµ‹è¯•è®¤è¯
ldapwhoami -x -D "cn=admin,dc=example,dc=com" -W -H ldap://localhost

# ä½¿ç”¨ç®€å•ç»‘å®šæµ‹è¯•
ldapbind -x -D "cn=admin,dc=example,dc=com" -w password

# æµ‹è¯•åŒ¿åç»‘å®šï¼ˆå¦‚æœå…è®¸ï¼‰
ldapwhoami -x -H ldap://localhost
```

**ğŸ” å¯†ç æ£€æŸ¥æ¸…å•**ï¼š
- [ ] å¯†ç æ‹¼å†™æ˜¯å¦æ­£ç¡®ï¼ˆæ³¨æ„å¤§å°å†™ï¼‰
- [ ] å¯†ç ä¸­æ˜¯å¦åŒ…å«ç‰¹æ®Šå­—ç¬¦éœ€è¦è½¬ä¹‰
- [ ] ç”¨æˆ·è´¦æˆ·æ˜¯å¦è¢«é”å®šæˆ–ç¦ç”¨
- [ ] å¯†ç æ˜¯å¦å·²è¿‡æœŸ

### 3.2 DNä¸åŒ¹é…é—®é¢˜


**ğŸ”¸ ä»€ä¹ˆæ˜¯DNï¼ˆDistinguished Nameï¼‰**

```
DNå°±åƒäººçš„èº«ä»½è¯å·ï¼Œåœ¨LDAPä¸­å”¯ä¸€æ ‡è¯†ä¸€ä¸ªæ¡ç›®

é”™è¯¯çš„DNæ ¼å¼ï¼š
âŒ admin@example.com ï¼ˆè¿™æ˜¯é‚®ç®±æ ¼å¼ï¼‰
âŒ example\admin ï¼ˆè¿™æ˜¯WindowsåŸŸæ ¼å¼ï¼‰

æ­£ç¡®çš„DNæ ¼å¼ï¼š
âœ… cn=admin,dc=example,dc=com
âœ… uid=john,ou=users,dc=example,dc=com
âœ… cn=John Doe,ou=people,o=company
```

**DNé—®é¢˜æ’æŸ¥æ–¹æ³•**ï¼š
```bash
# æœç´¢ç”¨æˆ·çš„å®Œæ•´DN
ldapsearch -x -b "dc=example,dc=com" "(uid=john)" dn

# æœç´¢ç®¡ç†å‘˜DN
ldapsearch -x -b "dc=example,dc=com" "(cn=admin)" dn

# åˆ—å‡ºæŸä¸ªOUä¸‹çš„æ‰€æœ‰æ¡ç›®
ldapsearch -x -b "ou=users,dc=example,dc=com" "(objectClass=*)" dn
```

### 3.3 è®¤è¯æƒé™é—®é¢˜


**ğŸ”¸ è®¿é—®æ§åˆ¶åˆ—è¡¨ï¼ˆACLï¼‰é—®é¢˜**

```
LDAPæƒé™å°±åƒå»ºç­‘ç‰©çš„é—¨ç¦ç³»ç»Ÿï¼š
- æœ‰äº›é—¨åªæœ‰ç‰¹å®šçš„äººèƒ½å¼€ï¼ˆç®¡ç†å‘˜æƒé™ï¼‰
- æœ‰äº›é—¨ä»»ä½•äººéƒ½èƒ½æ¨å¼€ï¼ˆåŒ¿åè®¿é—®ï¼‰
- æœ‰äº›é—¨åªèƒ½çœ‹ä¸èƒ½æ‘¸ï¼ˆåªè¯»æƒé™ï¼‰
```

**æƒé™é—®é¢˜æ’æŸ¥**ï¼š
```bash
# æ£€æŸ¥å½“å‰ç”¨æˆ·çš„æƒé™
ldapwhoami -x -D "uid=john,ou=users,dc=example,dc=com" -W

# å°è¯•ä»¥ç®¡ç†å‘˜èº«ä»½æœç´¢
ldapsearch -x -D "cn=admin,dc=example,dc=com" -W -b "dc=example,dc=com" "(uid=john)"

# å°è¯•åŒ¿åæœç´¢
ldapsearch -x -b "dc=example,dc=com" "(uid=john)"
```

### 3.4 è®¤è¯é—®é¢˜å®æˆ˜æ¡ˆä¾‹


**ğŸŒ° æ¡ˆä¾‹ï¼šç”¨æˆ·æ— æ³•ç™»å½•ç³»ç»Ÿ**

```
é”™è¯¯ç°è±¡ï¼š
ç”¨æˆ·johnåé¦ˆæ— æ³•ç™»å½•ï¼Œç³»ç»Ÿæç¤º"è®¤è¯å¤±è´¥"

æ’æŸ¥è¿‡ç¨‹ï¼š
1ï¸âƒ£ æ£€æŸ¥ç”¨æˆ·æ˜¯å¦å­˜åœ¨ï¼š
   ldapsearch -x -b "dc=example,dc=com" "(uid=john)"
   â†’ æ‰¾åˆ°ç”¨æˆ·ï¼šuid=john,ou=users,dc=example,dc=com

2ï¸âƒ£ æµ‹è¯•ç”¨æˆ·è®¤è¯ï¼š
   ldapwhoami -x -D "uid=john,ou=users,dc=example,dc=com" -W
   â†’ æç¤ºï¼šInvalid credentials

3ï¸âƒ£ æ£€æŸ¥ç”¨æˆ·å¯†ç ï¼š
   å‘ç°ç”¨æˆ·è¾“å…¥çš„æ˜¯æ—§å¯†ç 

4ï¸âƒ£ é‡ç½®ç”¨æˆ·å¯†ç ï¼š
   ldappasswd -x -D "cn=admin,dc=example,dc=com" -W -S "uid=john,ou=users,dc=example,dc=com"

5ï¸âƒ£ ç”¨æˆ·é‡æ–°ç™»å½• â†’ é—®é¢˜è§£å†³
```

---

## 4. ğŸ‘ï¸ æ•°æ®ä¸å¯è§é—®é¢˜æ’æŸ¥


### 4.1 æƒé™å¯¼è‡´çš„æ•°æ®ä¸å¯è§


**ğŸ”¸ ä»€ä¹ˆå«æ•°æ®ä¸å¯è§**

```
æ•°æ®ä¸å¯è§å°±åƒï¼š
- ä½ çŸ¥é“å›¾ä¹¦é¦†æœ‰è¿™æœ¬ä¹¦
- ä½†æ˜¯ä½ æ²¡æœ‰å€Ÿé˜…æƒé™
- æˆ–è€…è¿™æœ¬ä¹¦åœ¨ä½ æ— æ³•è¿›å…¥çš„åŒºåŸŸ

åœ¨LDAPä¸­è¡¨ç°ä¸ºï¼š
- æ¡ç›®å­˜åœ¨ä½†æœç´¢ä¸åˆ°
- èƒ½çœ‹åˆ°æ¡ç›®ä½†çœ‹ä¸åˆ°æŸäº›å±æ€§
- æœç´¢è¿”å›æƒé™ä¸è¶³é”™è¯¯
```

**æƒé™é—®é¢˜æ£€æŸ¥**ï¼š
```bash
# ç”¨ä¸åŒèº«ä»½æœç´¢åŒä¸€æ¡ç›®
# ç®¡ç†å‘˜èº«ä»½
ldapsearch -x -D "cn=admin,dc=example,dc=com" -W -b "dc=example,dc=com" "(uid=john)"

# æ™®é€šç”¨æˆ·èº«ä»½  
ldapsearch -x -D "uid=mary,ou=users,dc=example,dc=com" -W -b "dc=example,dc=com" "(uid=john)"

# åŒ¿åèº«ä»½
ldapsearch -x -b "dc=example,dc=com" "(uid=john)"
```

### 4.2 è¿‡æ»¤æ¡ä»¶é—®é¢˜


**ğŸ”¸ æœç´¢è¿‡æ»¤å™¨é”™è¯¯**

```
è¿‡æ»¤å™¨å°±åƒæœç´¢å¼•æ“çš„å…³é”®è¯ï¼š
- å…³é”®è¯é”™è¯¯ â†’ æ‰¾ä¸åˆ°ç»“æœ  
- å…³é”®è¯å¤ªå®½æ³› â†’ ç»“æœå¤ªå¤š
- å…³é”®è¯å¤ªä¸¥æ ¼ â†’ é—æ¼ç»“æœ

å¸¸è§è¿‡æ»¤å™¨é”™è¯¯ï¼š
âŒ (name=john)         â†’ å±æ€§åé”™è¯¯ï¼Œåº”è¯¥ç”¨uidæˆ–cn
âŒ (uid=John)          â†’ å¤§å°å†™æ•æ„Ÿï¼Œå®é™…å¯èƒ½æ˜¯john
âŒ (uid=john*)         â†’ é€šé…ç¬¦ä½ç½®é”™è¯¯
âœ… (uid=john)          â†’ ç²¾ç¡®åŒ¹é…
âœ… (cn=John*)          â†’ æ­£ç¡®çš„é€šé…ç¬¦ä½¿ç”¨
```

**è¿‡æ»¤å™¨æµ‹è¯•æ–¹æ³•**ï¼š
```bash
# é€æ­¥æ”¾å®½æœç´¢æ¡ä»¶
ldapsearch -x -b "dc=example,dc=com" "(objectClass=*)"           # æŸ¥çœ‹æ‰€æœ‰æ¡ç›®
ldapsearch -x -b "dc=example,dc=com" "(objectClass=person)"      # æŸ¥çœ‹æ‰€æœ‰äººå‘˜
ldapsearch -x -b "dc=example,dc=com" "(uid=*)"                   # æŸ¥çœ‹æœ‰uidçš„æ¡ç›®
ldapsearch -x -b "dc=example,dc=com" "(uid=john)"                # ç²¾ç¡®æŸ¥æ‰¾john
```

### 4.3 æœç´¢èŒƒå›´é—®é¢˜


**ğŸ”¸ æœç´¢åŸºç¡€DNä¸æ­£ç¡®**

```
æœç´¢åŸºç¡€å°±åƒï¼š
- åœ¨é”™è¯¯çš„æ–‡ä»¶å¤¹é‡Œæ‰¾æ–‡ä»¶ â†’ å½“ç„¶æ‰¾ä¸åˆ°
- åŸºç¡€DNæŒ‡å®šäº†æœç´¢çš„èµ·å§‹ä½ç½®

å¸¸è§åŸºç¡€DNé”™è¯¯ï¼š
âŒ -b "ou=users,dc=example,dc=com" æœç´¢ uid=admin
   â†’ adminåœ¨dc=example,dc=comä¸‹ï¼Œä¸åœ¨usersä¸‹

âœ… -b "dc=example,dc=com" æœç´¢ uid=admin  
   â†’ ä»æ ¹å¼€å§‹æœç´¢ï¼Œå¯ä»¥æ‰¾åˆ°
```

**æœç´¢èŒƒå›´è°ƒæ•´**ï¼š
```bash
# ä»æ ¹DNå¼€å§‹æœç´¢
ldapsearch -x -b "dc=example,dc=com" "(uid=john)"

# é™åˆ¶åœ¨ç‰¹å®šOUæœç´¢
ldapsearch -x -b "ou=users,dc=example,dc=com" "(uid=john)"

# æŸ¥çœ‹LDAPçš„æ ¹DSEä¿¡æ¯
ldapsearch -x -s base -b "" "(objectClass=*)" namingContexts
```

### 4.4 æ•°æ®ä¸å¯è§å®æˆ˜æ¡ˆä¾‹


**ğŸŒ° æ¡ˆä¾‹ï¼šæ–°å»ºç”¨æˆ·æ— æ³•è¢«æœç´¢åˆ°**

```
é—®é¢˜ç°è±¡ï¼š
åˆšåˆ›å»ºçš„ç”¨æˆ·tomæ— æ³•åœ¨LDAPæœç´¢ä¸­æ‰¾åˆ°

æ’æŸ¥è¿‡ç¨‹ï¼š
1ï¸âƒ£ ç¡®è®¤ç”¨æˆ·æ˜¯å¦çœŸçš„åˆ›å»ºæˆåŠŸï¼š
   ldapsearch -x -D "cn=admin,dc=example,dc=com" -W -b "dc=example,dc=com" "(uid=tom)"
   â†’ ç®¡ç†å‘˜å¯ä»¥æœç´¢åˆ°

2ï¸âƒ£ æ™®é€šç”¨æˆ·æœç´¢æµ‹è¯•ï¼š
   ldapsearch -x -b "dc=example,dc=com" "(uid=tom)"
   â†’ æœç´¢ä¸åˆ°

3ï¸âƒ£ æ£€æŸ¥ACLé…ç½®ï¼š
   å‘ç°æ–°ç”¨æˆ·é»˜è®¤æ²¡æœ‰è¢«æˆäºˆå¯è§æƒé™

4ï¸âƒ£ ä¿®æ”¹ACLæˆ–å°†ç”¨æˆ·åŠ å…¥æ­£ç¡®çš„ç»„
   â†’ é—®é¢˜è§£å†³
```

---

## 5. ğŸ“‹ Schemaå†²çªé—®é¢˜æ’æŸ¥


### 5.1 ä»€ä¹ˆæ˜¯Schemaå†²çª


**ğŸ”¸ Schemaçš„é€šä¿—ç†è§£**

```
Schemaå°±åƒæ•°æ®åº“çš„è¡¨ç»“æ„å®šä¹‰ï¼š
- è§„å®šäº†æœ‰å“ªäº›å­—æ®µï¼ˆå±æ€§ï¼‰
- æ¯ä¸ªå­—æ®µæ˜¯ä»€ä¹ˆç±»å‹ï¼ˆè¯­æ³•ï¼‰
- å“ªäº›å­—æ®µæ˜¯å¿…éœ€çš„ï¼ˆMUSTï¼‰
- å“ªäº›å­—æ®µæ˜¯å¯é€‰çš„ï¼ˆMAYï¼‰

Schemaå†²çªå°±åƒï¼š
- æƒ³åœ¨"å§“å"å­—æ®µé‡Œå­˜ç”µè¯å·ç  â†’ ç±»å‹ä¸åŒ¹é…
- æ¼å¡«äº†å¿…å¡«å­—æ®µ â†’ ç¼ºå°‘å¿…éœ€å±æ€§
- ä½¿ç”¨äº†ä¸å­˜åœ¨çš„å­—æ®µå â†’ å±æ€§æœªå®šä¹‰
```

### 5.2 å¸¸è§Schemaé”™è¯¯ç±»å‹


**ğŸ”¸ å±æ€§æœªå®šä¹‰é”™è¯¯**

```bash
# é”™è¯¯ä¿¡æ¯ç¤ºä¾‹
ldap_add: Undefined attribute type (17)
additional info: cn: attribute type undefined

# æ£€æŸ¥å¯ç”¨çš„å±æ€§ç±»å‹
ldapsearch -x -s base -b "cn=Subschema" "(objectClass=*)" attributeTypes | grep cn

# æŸ¥çœ‹æŸä¸ªå¯¹è±¡ç±»çš„å®šä¹‰
ldapsearch -x -s base -b "cn=Subschema" "(objectClass=*)" objectClasses | grep person
```

**ğŸ”¸ å¿…éœ€å±æ€§ç¼ºå¤±**

```
é”™è¯¯ç¤ºä¾‹ï¼š
ldap_add: Object class violation (65)
additional info: object class 'person' requires attribute 'sn'

è§£é‡Šï¼špersonå¯¹è±¡ç±»è¦æ±‚å¿…é¡»æœ‰snï¼ˆsurnameï¼Œå§“ï¼‰å±æ€§
```

**Schemaæ£€æŸ¥æ–¹æ³•**ï¼š
```bash
# æŸ¥çœ‹æ‰€æœ‰å¯ç”¨çš„å¯¹è±¡ç±»
ldapsearch -x -s base -b "cn=Subschema" "(objectClass=*)" objectClasses

# æŸ¥çœ‹æŸä¸ªå¯¹è±¡ç±»çš„è¯¦ç»†å®šä¹‰
ldapsearch -x -s base -b "cn=Subschema" "(objectClass=*)" objectClasses | grep -A 10 "person"

# æ£€æŸ¥å±æ€§ç±»å‹å®šä¹‰
ldapsearch -x -s base -b "cn=Subschema" "(objectClass=*)" attributeTypes | grep "telephoneNumber"
```

### 5.3 Schemaå†²çªè§£å†³æ–¹æ³•


**ğŸ”¸ ç¼ºå°‘å¿…éœ€å±æ€§**

```ldif
# âŒ é”™è¯¯çš„LDIFï¼ˆç¼ºå°‘å¿…éœ€çš„snå±æ€§ï¼‰
dn: cn=John,ou=users,dc=example,dc=com
objectClass: person
cn: John

# âœ… æ­£ç¡®çš„LDIFï¼ˆè¡¥å……å¿…éœ€å±æ€§ï¼‰
dn: cn=John,ou=users,dc=example,dc=com  
objectClass: person
cn: John
sn: Doe
```

**ğŸ”¸ å±æ€§ç±»å‹ä¸åŒ¹é…**

```ldif
# âŒ é”™è¯¯ï¼štelephoneNumberå±æ€§ä½¿ç”¨äº†éæ•°å­—å­—ç¬¦
telephoneNumber: call-me-maybe

# âœ… æ­£ç¡®ï¼štelephoneNumberåº”è¯¥æ˜¯æ•°å­—æ ¼å¼
telephoneNumber: +86-138-0013-8000
```

### 5.4 Schemaé—®é¢˜å®æˆ˜æ¡ˆä¾‹


**ğŸŒ° æ¡ˆä¾‹ï¼šå¯¼å…¥ç”¨æˆ·æ•°æ®æ—¶Schemaé”™è¯¯**

```
é—®é¢˜ç°è±¡ï¼š
æ‰¹é‡å¯¼å…¥ç”¨æˆ·æ—¶å‡ºç°"Object class violation"é”™è¯¯

é”™è¯¯çš„LDIFæ–‡ä»¶ï¼š
dn: uid=alice,ou=users,dc=example,dc=com
objectClass: inetOrgPerson  
uid: alice
cn: Alice
mail: alice@example.com
# ç¼ºå°‘äº†snå±æ€§

è§£å†³æ–¹æ¡ˆï¼š
1ï¸âƒ£ æ£€æŸ¥inetOrgPersonå¯¹è±¡ç±»å®šä¹‰ï¼š
   ldapsearch -x -s base -b "cn=Subschema" "(objectClass=*)" objectClasses | grep inetOrgPerson

2ï¸âƒ£ å‘ç°inetOrgPersonç»§æ‰¿è‡ªpersonï¼Œéœ€è¦snå±æ€§

3ï¸âƒ£ ä¿®æ­£LDIFæ–‡ä»¶ï¼š
dn: uid=alice,ou=users,dc=example,dc=com
objectClass: inetOrgPerson
uid: alice
cn: Alice
sn: Smith        # æ·»åŠ å¿…éœ€çš„snå±æ€§
mail: alice@example.com

4ï¸âƒ£ é‡æ–°å¯¼å…¥ â†’ æˆåŠŸ
```

---

## 6. ğŸ“„ LDIFå¯¼å…¥é”™è¯¯æ’æŸ¥


### 6.1 ä»€ä¹ˆæ˜¯LDIFæ–‡ä»¶


**ğŸ”¸ LDIFçš„é€šä¿—ç†è§£**

```
LDIF (LDAP Data Interchange Format) å°±åƒï¼š
- Excelçš„CSVæ–‡ä»¶ â†’ ç”¨äºæ•°æ®äº¤æ¢
- çº¯æ–‡æœ¬æ ¼å¼ â†’ äººç±»å¯è¯»ï¼Œæœºå™¨å¯è§£æ
- æ ‡å‡†æ ¼å¼ â†’ ä¸åŒLDAPæœåŠ¡å™¨éƒ½èƒ½ç†è§£

LDIFæ–‡ä»¶å°±åƒä¸€ä»½"å…¥ä½ç™»è®°è¡¨"ï¼š
- æ¯ä¸ªæ¡ç›®éƒ½è¦å¡«å†™å®Œæ•´ä¿¡æ¯
- æ ¼å¼å¿…é¡»ä¸¥æ ¼æŒ‰è§„å®š
- ä¿¡æ¯ä¸èƒ½æœ‰é”™æ¼
```

### 6.2 å¸¸è§LDIFæ ¼å¼é”™è¯¯


**ğŸ”¸ è¯­æ³•æ ¼å¼é”™è¯¯**

```ldif
# âŒ å¸¸è§æ ¼å¼é”™è¯¯
dn:cn=john,ou=users,dc=example,dc=com    # ç¼ºå°‘ç©ºæ ¼
objectclass: person                       # å¤§å°å†™é”™è¯¯
cn : John                                 # å†’å·å‰åç©ºæ ¼ä¸è§„èŒƒ
sn= Doe                                   # ç­‰å·ä½¿ç”¨é”™è¯¯

# âœ… æ­£ç¡®æ ¼å¼
dn: cn=john,ou=users,dc=example,dc=com   # dnåé¢è·Ÿå†’å·å’Œç©ºæ ¼
objectClass: person                       # æ³¨æ„å¤§å°å†™
cn: John                                  # å±æ€§ååå†’å·å’Œç©ºæ ¼
sn: Doe                                   # å€¼å‰é¢ä¸€ä¸ªç©ºæ ¼
```

**ğŸ”¸ ç¼–ç é—®é¢˜**

```ldif
# åŒ…å«ä¸­æ–‡æˆ–ç‰¹æ®Šå­—ç¬¦æ—¶éœ€è¦base64ç¼–ç 
cn:: 5byg5LiJ        # base64ç¼–ç çš„"å¼ ä¸‰"
# æˆ–è€…ä½¿ç”¨UTF-8ç¼–ç å¹¶æ­£ç¡®ä¿å­˜æ–‡ä»¶
cn: å¼ ä¸‰
```

### 6.3 LDIFå¯¼å…¥é—®é¢˜æ’æŸ¥


**ğŸ”¸ é€æ­¥éªŒè¯æ–¹æ³•**

```bash
# 1ï¸âƒ£ è¯­æ³•æ£€æŸ¥ï¼ˆä¸å®é™…å¯¼å…¥ï¼‰
ldapmodify -x -D "cn=admin,dc=example,dc=com" -W -n -f users.ldif

# 2ï¸âƒ£ è¯¦ç»†é”™è¯¯ä¿¡æ¯å¯¼å…¥
ldapmodify -x -D "cn=admin,dc=example,dc=com" -W -v -f users.ldif

# 3ï¸âƒ£ å•æ¡è®°å½•æµ‹è¯•
echo "dn: cn=test,dc=example,dc=com
objectClass: person
cn: test
sn: user" | ldapmodify -x -D "cn=admin,dc=example,dc=com" -W -a

# 4ï¸âƒ£ æ£€æŸ¥å¯¼å…¥ç»“æœ
ldapsearch -x -b "cn=test,dc=example,dc=com" "(objectClass=*)"
```

**å¸¸è§å¯¼å…¥é”™è¯¯**ï¼š
```
âŒ ldap_add: Already exists (68)
   â†’ æ¡ç›®å·²å­˜åœ¨ï¼Œä½¿ç”¨-cå‚æ•°è·³è¿‡æˆ–å…ˆåˆ é™¤

âŒ ldap_add: No such object (32)  
   â†’ çˆ¶æ¡ç›®ä¸å­˜åœ¨ï¼Œéœ€è¦å…ˆåˆ›å»ºçˆ¶èŠ‚ç‚¹

âŒ ldap_add: Invalid syntax (21)
   â†’ LDIFæ ¼å¼é”™è¯¯ï¼Œæ£€æŸ¥ç©ºæ ¼ã€æ¢è¡Œ

âŒ ldap_add: Insufficient access (50)
   â†’ æƒé™ä¸è¶³ï¼Œæ£€æŸ¥ç»‘å®šç”¨æˆ·æƒé™
```

### 6.4 LDIFé—®é¢˜å®æˆ˜æ¡ˆä¾‹


**ğŸŒ° æ¡ˆä¾‹ï¼šæ‰¹é‡ç”¨æˆ·å¯¼å…¥å¤±è´¥**

```
é—®é¢˜ç°è±¡ï¼š
å¯¼å…¥100ä¸ªç”¨æˆ·ï¼ŒåªæˆåŠŸäº†50ä¸ªï¼Œå…¶ä½™å¤±è´¥

é—®é¢˜LDIFç‰‡æ®µï¼š
dn: uid=user51,ou=users,dc=example,dc=com
objectClass: inetOrgPerson
uid: user51  
cn: User 51
sn: Test
mail: user51@example.com

dn: uid=user52,ou=users,dc=example,dc=com
objectClass: inetOrgPerson
uid: user52
cn: User 52                    # è¿™é‡Œç¼ºå°‘ç©ºè¡Œåˆ†éš”ï¼
sn: Test
mail: user52@example.com

è§£å†³æ–¹æ¡ˆï¼š
1ï¸âƒ£ åœ¨æ¯ä¸ªæ¡ç›®ä¹‹é—´æ·»åŠ ç©ºè¡Œåˆ†éš”
2ï¸âƒ£ ä½¿ç”¨-cå‚æ•°ç»§ç»­å¤„ç†é”™è¯¯æ¡ç›®ï¼š
   ldapmodify -c -x -D "cn=admin,dc=example,dc=com" -W -f users.ldif
3ï¸âƒ£ æ£€æŸ¥å¯¼å…¥æ—¥å¿—æ‰¾å‡ºå¤±è´¥çš„å…·ä½“åŸå› 
```

---

## 7. ğŸ“Š æ—¥å¿—æ’æŸ¥å®æˆ˜æ–¹æ³•


### 7.1 LDAPæ—¥å¿—ç±»å‹ä¸ä½ç½®


**ğŸ”¸ å¸¸è§æ—¥å¿—æ–‡ä»¶ä½ç½®**

```bash
# OpenLDAPæ—¥å¿—ä½ç½®
/var/log/slapd.log              # ä¸»è¦æ—¥å¿—æ–‡ä»¶
/var/log/openldap/ldap.log      # æœ‰äº›å‘è¡Œç‰ˆçš„ä½ç½®
/var/log/messages               # ç³»ç»Ÿæ—¥å¿—ä¸­çš„LDAPä¿¡æ¯

# Active Directoryæ—¥å¿—ä½ç½®  
# Windowsäº‹ä»¶æŸ¥çœ‹å™¨ â†’ Windowsæ—¥å¿— â†’ ç³»ç»Ÿ
# åº”ç”¨ç¨‹åºå’ŒæœåŠ¡æ—¥å¿— â†’ Directory Service

# æ£€æŸ¥å½“å‰æ—¥å¿—é…ç½®
grep -i log /etc/openldap/slapd.conf
```

### 7.2 æ—¥å¿—çº§åˆ«è¯¦è§£


**ğŸ”¸ OpenLDAPæ—¥å¿—çº§åˆ«**

```
æ—¥å¿—çº§åˆ«å°±åƒåŒ»é™¢çš„æ£€æŸ¥é¡¹ç›®ï¼š
- çº§åˆ«è¶Šé«˜ â†’ æ£€æŸ¥è¶Šè¯¦ç»† â†’ ä¿¡æ¯è¶Šå¤š
- çº§åˆ«è¶Šä½ â†’ åªçœ‹é‡è¦é—®é¢˜ â†’ ä¿¡æ¯è¶Šå°‘

å¸¸ç”¨æ—¥å¿—çº§åˆ«ï¼š
-1 (0xffffffff) â†’ æ‰€æœ‰æ—¥å¿—ï¼ˆè°ƒè¯•ç”¨ï¼‰
256 (0x100)     â†’ è¿æ¥ç®¡ç†
512 (0x200)     â†’ æ•°æ®åŒ…å¤„ç†  
1024 (0x400)    â†’ æœç´¢è¿‡æ»¤å¤„ç†
2048 (0x800)    â†’ é…ç½®æ–‡ä»¶å¤„ç†
```

**è®¾ç½®æ—¥å¿—çº§åˆ«**ï¼š
```bash
# ä¸´æ—¶è®¾ç½®è¯¦ç»†æ—¥å¿—ï¼ˆè°ƒè¯•ç”¨ï¼‰
ldapmodify -Y EXTERNAL -H ldapi:/// << EOF
dn: cn=config
changetype: modify
replace: olcLogLevel  
olcLogLevel: stats
EOF

# é‡å¯æœåŠ¡ä½¿é…ç½®ç”Ÿæ•ˆ
systemctl restart slapd
```

### 7.3 æ—¥å¿—åˆ†æå®æˆ˜æŠ€å·§


**ğŸ”¸ å…³é”®ä¿¡æ¯æå–**

```bash
# æŸ¥çœ‹è¿æ¥ç›¸å…³æ—¥å¿—
grep -i "conn=" /var/log/slapd.log

# æŸ¥çœ‹è®¤è¯å¤±è´¥æ—¥å¿—
grep -i "bind.*invalid" /var/log/slapd.log  

# æŸ¥çœ‹æœç´¢æ“ä½œæ—¥å¿—
grep -i "search" /var/log/slapd.log

# å®æ—¶ç›‘æ§æ—¥å¿—
tail -f /var/log/slapd.log | grep -i error
```

**ğŸ”¸ æ—¥å¿—è§£è¯»ç¤ºä¾‹**

```
æ—¥å¿—æ¡ç›®è§£è¯»ï¼š
Jan 12 10:30:15 server slapd[1234]: conn=1000 fd=12 ACCEPT from IP=192.168.1.100:45678 (IP=0.0.0.0:389)

è§£é‡Šï¼š
- Jan 12 10:30:15 â†’ æ—¶é—´æˆ³
- server â†’ ä¸»æœºå  
- slapd[1234] â†’ è¿›ç¨‹åå’ŒPID
- conn=1000 â†’ è¿æ¥ç¼–å·ï¼ˆç”¨äºè·Ÿè¸ªåŒä¸€è¿æ¥çš„æ“ä½œï¼‰
- fd=12 â†’ æ–‡ä»¶æè¿°ç¬¦
- ACCEPT â†’ æ¥å—è¿æ¥
- from IP=192.168.1.100:45678 â†’ å®¢æˆ·ç«¯IPå’Œç«¯å£
```

### 7.4 ç»¼åˆæ•…éšœæ’æŸ¥å®æˆ˜


**ğŸŒ° æ¡ˆä¾‹ï¼šç”¨æˆ·åé¦ˆç³»ç»Ÿå“åº”æ…¢**

```
é—®é¢˜ç°è±¡ï¼š
ç”¨æˆ·åé¦ˆç™»å½•ç³»ç»Ÿå¾ˆæ…¢ï¼Œæœ‰æ—¶å€™è¶…æ—¶

æ’æŸ¥è¿‡ç¨‹ï¼š
1ï¸âƒ£ æ£€æŸ¥LDAPæœåŠ¡å™¨è´Ÿè½½ï¼š
   top | grep slapd
   â†’ CPUä½¿ç”¨ç‡æ­£å¸¸

2ï¸âƒ£ æŸ¥çœ‹è¿æ¥æ•°ï¼š  
   netstat -an | grep :389 | wc -l
   â†’ è¿æ¥æ•°è¿‡å¤šï¼ˆè¶…è¿‡1000ä¸ªï¼‰

3ï¸âƒ£ åˆ†ææ—¥å¿—æŸ¥æ‰¾åŸå› ï¼š
   grep "conn=" /var/log/slapd.log | tail -100
   â†’ å‘ç°å¤§é‡æ…¢æŸ¥è¯¢

4ï¸âƒ£ æŸ¥çœ‹å…·ä½“æœç´¢æ“ä½œï¼š
   grep "SEARCH" /var/log/slapd.log | grep "nentries=0"
   â†’ å‘ç°å¾ˆå¤šæ— æ•ˆæœç´¢

5ï¸âƒ£ åˆ†ææœç´¢è¿‡æ»¤å™¨ï¼š
   â†’ å‘ç°åº”ç”¨ç¨‹åºä½¿ç”¨äº†æ•ˆç‡ä½ä¸‹çš„é€šé…ç¬¦æœç´¢

6ï¸âƒ£ è§£å†³æ–¹æ¡ˆï¼š
   - ä¼˜åŒ–åº”ç”¨ç¨‹åºçš„æœç´¢è¿‡æ»¤å™¨
   - ä¸ºå¸¸ç”¨å±æ€§å»ºç«‹ç´¢å¼•
   - è®¾ç½®è¿æ¥æ± é™åˆ¶
```

**ğŸ” æ—¥å¿—æ’æŸ¥æ£€æŸ¥æ¸…å•**ï¼š
- [ ] ç¡®è®¤æ—¥å¿—æ–‡ä»¶ä½ç½®å’Œæƒé™
- [ ] è®¾ç½®åˆé€‚çš„æ—¥å¿—çº§åˆ«
- [ ] æŒ‰æ—¶é—´é¡ºåºåˆ†ææ—¥å¿—äº‹ä»¶
- [ ] å…³æ³¨é”™è¯¯ä»£ç å’Œæè¿°ä¿¡æ¯
- [ ] è·Ÿè¸ªè¿æ¥ä»å»ºç«‹åˆ°å…³é—­çš„å…¨è¿‡ç¨‹
- [ ] åˆ†ææ€§èƒ½ç›¸å…³çš„ç»Ÿè®¡ä¿¡æ¯

---

## 8. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 8.1 æ•…éšœæ’æŸ¥åŸºæœ¬åŸåˆ™


**ğŸ”¸ ç³»ç»ŸåŒ–æ’æŸ¥æ€è·¯**
```
ç½‘ç»œè¿é€š â†’ ç«¯å£å¼€æ”¾ â†’ æœåŠ¡è¿è¡Œ â†’ è®¤è¯é€šè¿‡ â†’ æ•°æ®å¯è§ â†’ æ ¼å¼æ­£ç¡®

åƒä¿®ç”µè„‘ä¸€æ ·ï¼š
1ï¸âƒ£ å…ˆæ£€æŸ¥ç”µæºï¼ˆç½‘ç»œè¿é€šæ€§ï¼‰
2ï¸âƒ£ å†çœ‹æ˜¾ç¤ºå™¨ï¼ˆç«¯å£å’ŒæœåŠ¡ï¼‰  
3ï¸âƒ£ ç„¶åæµ‹è¯•é”®ç›˜ï¼ˆè®¤è¯åŠŸèƒ½ï¼‰
4ï¸âƒ£ æœ€åæ£€æŸ¥è½¯ä»¶ï¼ˆæ•°æ®å’Œé…ç½®ï¼‰
```

**ğŸ”¸ å¿«é€Ÿå®šä½æ–¹æ³•**
- **è¿æ¥é—®é¢˜** â†’ ping + telnet + é˜²ç«å¢™
- **è®¤è¯é—®é¢˜** â†’ ldapwhoami + å¯†ç  + DNæ ¼å¼
- **æƒé™é—®é¢˜** â†’ ä¸åŒèº«ä»½æµ‹è¯• + ACLæ£€æŸ¥
- **æ•°æ®é—®é¢˜** â†’ æœç´¢æ¡ä»¶ + SchemaéªŒè¯
- **æ ¼å¼é—®é¢˜** â†’ LDIFè¯­æ³• + ç¼–ç æ£€æŸ¥

### 8.2 å¸¸ç”¨æ’æŸ¥å‘½ä»¤é€ŸæŸ¥


| é—®é¢˜ç±»å‹ | **æ’æŸ¥å‘½ä»¤** | **ä½œç”¨è¯´æ˜** |
|---------|-------------|-------------|
| ğŸŒ **è¿æ¥æµ‹è¯•** | `telnet server 389` | `æ£€æŸ¥ç«¯å£è¿é€šæ€§` |
| ğŸ” **è®¤è¯æµ‹è¯•** | `ldapwhoami -x -D DN -W` | `æµ‹è¯•ç”¨æˆ·è®¤è¯` |
| ğŸ” **æœç´¢æµ‹è¯•** | `ldapsearch -x -b baseDN filter` | `æµ‹è¯•æ•°æ®æŸ¥è¯¢` |
| ğŸ“‹ **Schemaæ£€æŸ¥** | `ldapsearch -s base -b "cn=Subschema"` | `æŸ¥çœ‹Schemaå®šä¹‰` |
| ğŸ“„ **LDIFéªŒè¯** | `ldapmodify -n -f file.ldif` | `è¯­æ³•æ£€æŸ¥ä¸å¯¼å…¥` |
| ğŸ“Š **æ—¥å¿—ç›‘æ§** | `tail -f /var/log/slapd.log` | `å®æ—¶æŸ¥çœ‹æ—¥å¿—` |

### 8.3 é¢„é˜²æ€§è¿ç»´å»ºè®®


**ğŸ”¸ ç›‘æ§è¦ç‚¹**
```
æ€§èƒ½ç›‘æ§ï¼š
- è¿æ¥æ•°é‡å’Œå“åº”æ—¶é—´
- CPUå’Œå†…å­˜ä½¿ç”¨ç‡
- ç£ç›˜ç©ºé—´å’ŒI/Oæ€§èƒ½

åŠŸèƒ½ç›‘æ§ï¼š  
- è®¤è¯æˆåŠŸç‡
- æœç´¢å“åº”æ—¶é—´
- å¤åˆ¶åŒæ­¥çŠ¶æ€
```

**ğŸ”¸ ç»´æŠ¤å»ºè®®**
- ğŸ“ˆ **å®šæœŸæ£€æŸ¥æ—¥å¿—**ï¼ŒåŠæ—¶å‘ç°å¼‚å¸¸
- ğŸ”„ **å¤‡ä»½é…ç½®æ–‡ä»¶**ï¼Œä¾¿äºå¿«é€Ÿæ¢å¤  
- ğŸ“Š **ç›‘æ§ç³»ç»Ÿæ€§èƒ½**ï¼Œé¢„é˜²æ€§èƒ½é—®é¢˜
- ğŸ”§ **æ›´æ–°å®‰å…¨è¡¥ä¸**ï¼Œä¿éšœç³»ç»Ÿå®‰å…¨
- ğŸ“š **æ–‡æ¡£åŒ–é…ç½®**ï¼Œæ–¹ä¾¿å›¢é˜Ÿåä½œ

### 8.4 åº”æ€¥å¤„ç†æµç¨‹


**ğŸš¨ ç´§æ€¥æ•…éšœå¤„ç†æ­¥éª¤**
```
å‘ç°é—®é¢˜ â†’ åˆæ­¥åˆ¤æ–­ â†’ å½±å“è¯„ä¼° â†’ åº”æ€¥æªæ–½ â†’ æ ¹å› åˆ†æ â†’ æ°¸ä¹…ä¿®å¤

åº”æ€¥æªæ–½ç¤ºä¾‹ï¼š
- æœåŠ¡æ— æ³•å¯åŠ¨ â†’ æ£€æŸ¥é…ç½®æ–‡ä»¶ â†’ æ¢å¤å¤‡ä»½é…ç½®
- è®¤è¯å¤§é¢ç§¯å¤±è´¥ â†’ æ£€æŸ¥ç½‘ç»œ â†’ é‡å¯LDAPæœåŠ¡  
- æ€§èƒ½æ€¥å‰§ä¸‹é™ â†’ æŸ¥çœ‹ç³»ç»Ÿè´Ÿè½½ â†’ ä¸´æ—¶é™åˆ¶è¿æ¥æ•°
```

**æ ¸å¿ƒè®°å¿†è¦ç‚¹**ï¼š
- æ•…éšœæ’æŸ¥è¦æœ‰æ¡ä¸ç´Šï¼Œä»å¤–åˆ°å†…é€å±‚æ£€æŸ¥
- æ—¥å¿—æ˜¯æ’æŸ¥é—®é¢˜çš„é‡è¦çº¿ç´¢ï¼Œè¦å–„äºåˆ†æ  
- é¢„é˜²èƒœäºæ²»ç–—ï¼Œå®šæœŸç»´æŠ¤å¯é¿å…å¤§éƒ¨åˆ†é—®é¢˜
- æ–‡æ¡£åŒ–å’Œå¤‡ä»½æ˜¯å¿«é€Ÿæ¢å¤çš„å…³é”®ä¿éšœ