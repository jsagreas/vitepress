---
title: 8ã€ç”¨æˆ·ä¸åª’ä»‹ç®¡ç†API
---
## ğŸ“š ç›®å½•

1. [ç”¨æˆ·ç®¡ç†APIæ¦‚è¿°](#1-ç”¨æˆ·ç®¡ç†APIæ¦‚è¿°)
2. [ç”¨æˆ·åŸºç¡€æ“ä½œ](#2-ç”¨æˆ·åŸºç¡€æ“ä½œ)
3. [ç”¨æˆ·ç»„ç®¡ç†](#3-ç”¨æˆ·ç»„ç®¡ç†)
4. [åª’ä»‹ç±»å‹ç®¡ç†](#4-åª’ä»‹ç±»å‹ç®¡ç†)
5. [æƒé™ä¸è®¿é—®æ§åˆ¶](#5-æƒé™ä¸è®¿é—®æ§åˆ¶)
6. [å®é™…åº”ç”¨åœºæ™¯](#6-å®é™…åº”ç”¨åœºæ™¯)
7. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#7-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ‘¥ ç”¨æˆ·ç®¡ç†APIæ¦‚è¿°


### 1.1 ä»€ä¹ˆæ˜¯Zabbixç”¨æˆ·ç®¡ç†

**é€šä¿—è§£é‡Š**ï¼šæƒ³è±¡Zabbixæ˜¯ä¸€åº§åŠå…¬å¤§æ¥¼ï¼Œç”¨æˆ·ç®¡ç†å°±æ˜¯è¿™åº§å¤§æ¥¼çš„é—¨å«ç³»ç»Ÿã€‚å®ƒå†³å®šå“ªäº›äººèƒ½è¿›æ¥ï¼Œèƒ½çœ‹åˆ°ä»€ä¹ˆï¼Œèƒ½åšä»€ä¹ˆæ“ä½œã€‚

```
ç°å®ç”Ÿæ´»ä¸­çš„æƒé™ï¼š             Zabbixä¸­çš„ç”¨æˆ·æƒé™ï¼š
     å¤§æ¥¼é—¨ç¦                    ç”¨æˆ·ç™»å½•è®¤è¯
       â†“                          â†“
   æ¥¼å±‚è®¿é—®å¡                  ç”¨æˆ·ç»„æƒé™åˆ†é…
       â†“                          â†“
  åŠå…¬å®¤é’¥åŒ™                   ä¸»æœºç»„è®¿é—®æƒé™
       â†“                          â†“
   ä¿é™©æŸœå¯†ç                   æ•æ„Ÿæ“ä½œæƒé™
```

### 1.2 ç”¨æˆ·ç®¡ç†çš„æ ¸å¿ƒç»„æˆ

**æ ¸å¿ƒè¦ç´ ç†è§£**ï¼š
- **ğŸ‘¤ ç”¨æˆ·ï¼ˆUserï¼‰**ï¼šå…·ä½“çš„äººï¼Œæœ‰è´¦å·å¯†ç ï¼Œèƒ½ç™»å½•ç³»ç»Ÿ
- **ğŸ‘¥ ç”¨æˆ·ç»„ï¼ˆUser Groupï¼‰**ï¼šä¸€ç¾¤äººçš„é›†åˆï¼Œç»Ÿä¸€ç®¡ç†æƒé™
- **ğŸ“¢ åª’ä»‹ï¼ˆMediaï¼‰**ï¼šé€šçŸ¥æ–¹å¼ï¼Œæ¯”å¦‚é‚®ä»¶ã€çŸ­ä¿¡ã€å¾®ä¿¡
- **ğŸ”‘ æƒé™ï¼ˆPermissionï¼‰**ï¼šèƒ½åšä»€ä¹ˆäº‹æƒ…çš„æ§åˆ¶

```
ç”¨æˆ·ç®¡ç†æ¶æ„å›¾ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                ç”¨æˆ·ç®¡ç†                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    ç”¨æˆ·     â”‚   ç”¨æˆ·ç»„    â”‚   åª’ä»‹ç±»å‹   â”‚
â”‚             â”‚             â”‚             â”‚
â”‚  â€¢ è´¦å·å¯†ç   â”‚  â€¢ æƒé™é›†åˆ  â”‚  â€¢ é‚®ä»¶     â”‚
â”‚  â€¢ ä¸ªäººä¿¡æ¯  â”‚  â€¢ æˆå‘˜ç®¡ç†  â”‚  â€¢ çŸ­ä¿¡     â”‚
â”‚  â€¢ åª’ä»‹é…ç½®  â”‚  â€¢ è®¿é—®æ§åˆ¶  â”‚  â€¢ å¾®ä¿¡     â”‚
â”‚  â€¢ çŠ¶æ€ç®¡ç†  â”‚  â€¢ ç»§æ‰¿æƒé™  â”‚  â€¢ é’‰é’‰     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. ğŸ”§ ç”¨æˆ·åŸºç¡€æ“ä½œ


### 2.1 æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯ï¼ˆuser.getï¼‰

**ç”¨é€”è¯´æ˜**ï¼šå°±åƒæŸ¥çœ‹å‘˜å·¥èŠ±åå†Œï¼Œäº†è§£ç³»ç»Ÿä¸­æœ‰å“ªäº›ç”¨æˆ·ï¼Œä»–ä»¬çš„åŸºæœ¬ä¿¡æ¯å’Œæƒé™çŠ¶æ€ã€‚

**åŸºç¡€æŸ¥è¯¢ç¤ºä¾‹**ï¼š
```bash
# æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·çš„åŸºæœ¬ä¿¡æ¯
curl -X POST http://zabbix-server/api_jsonrpc.php \
-H "Content-Type: application/json" \
-d '{
    "jsonrpc": "2.0",
    "method": "user.get",
    "params": {
        "output": ["userid", "username", "name", "surname"],
        "selectUsrgrps": "extend"
    },
    "auth": "your_auth_token",
    "id": 1
}'
```

**è¯¦ç»†ä¿¡æ¯æŸ¥è¯¢**ï¼š
```bash
# æŸ¥è¯¢ç‰¹å®šç”¨æˆ·çš„è¯¦ç»†ä¿¡æ¯ï¼ŒåŒ…æ‹¬åª’ä»‹é…ç½®
curl -X POST http://zabbix-server/api_jsonrpc.php \
-H "Content-Type: application/json" \
-d '{
    "jsonrpc": "2.0",
    "method": "user.get",
    "params": {
        "output": "extend",
        "selectUsrgrps": "extend",
        "selectMedias": "extend",
        "userids": ["2"]
    },
    "auth": "your_auth_token",
    "id": 1
}'
```

### 2.2 åˆ›å»ºæ–°ç”¨æˆ·ï¼ˆuser.createï¼‰

**æ“ä½œè¯´æ˜**ï¼šå°±åƒHRç»™æ–°å‘˜å·¥åŠå…¥èŒæ‰‹ç»­ï¼Œåˆ›å»ºè´¦å·ã€åˆ†é…æƒé™ã€é…ç½®é€šçŸ¥æ–¹å¼ã€‚

**åˆ›å»ºåŸºç¡€ç”¨æˆ·**ï¼š
```bash
# åˆ›å»ºä¸€ä¸ªæ™®é€šç›‘æ§ç”¨æˆ·
curl -X POST http://zabbix-server/api_jsonrpc.php \
-H "Content-Type: application/json" \
-d '{
    "jsonrpc": "2.0",
    "method": "user.create",
    "params": {
        "username": "monitor_user",
        "passwd": "SecurePass123",
        "name": "å¼ ",
        "surname": "ä¸‰",
        "type": 1,
        "usrgrps": [
            {"usrgrpid": "7"}
        ]
    },
    "auth": "your_auth_token",
    "id": 1
}'
```

**åˆ›å»ºç®¡ç†å‘˜ç”¨æˆ·**ï¼š
```bash
# åˆ›å»ºä¸€ä¸ªå…·æœ‰ç®¡ç†æƒé™çš„ç”¨æˆ·
curl -X POST http://zabbix-server/api_jsonrpc.php \
-H "Content-Type: application/json" \
-d '{
    "jsonrpc": "2.0",
    "method": "user.create",
    "params": {
        "username": "admin_zhang",
        "passwd": "AdminPass456",
        "name": "å¼ ",
        "surname": "ç®¡ç†å‘˜",
        "type": 3,
        "gui_access": 0,
        "usrgrps": [
            {"usrgrpid": "7"},
            {"usrgrpid": "11"}
        ],
        "medias": [
            {
                "mediatypeid": "1",
                "sendto": ["zhang@company.com"],
                "active": 0,
                "severity": 63,
                "period": "1-7,00:00-24:00"
            }
        ]
    },
    "auth": "your_auth_token",
    "id": 1
}'
```

### 2.3 ç”¨æˆ·ç±»å‹è¯´æ˜

**type å‚æ•°è¯¦è§£**ï¼š

| æ•°å€¼ | **ç”¨æˆ·ç±»å‹** | **æƒé™è¯´æ˜** | **é€‚ç”¨åœºæ™¯** |
|------|-------------|-------------|-------------|
| `1` | **Zabbixç”¨æˆ·** | `åªèƒ½æŸ¥çœ‹ï¼Œä¸èƒ½é…ç½®` | `æ™®é€šè¿ç»´äººå‘˜æŸ¥çœ‹ç›‘æ§` |
| `2` | **Zabbixç®¡ç†å‘˜** | `å¯ä»¥é…ç½®ï¼Œä½†ä¸èƒ½ç®¡ç†ç”¨æˆ·` | `æŠ€æœ¯è´Ÿè´£äººç®¡ç†ç›‘æ§é…ç½®` |
| `3` | **Zabbixè¶…çº§ç®¡ç†å‘˜** | `å®Œå…¨æƒé™ï¼ŒåŒ…æ‹¬ç”¨æˆ·ç®¡ç†` | `ç³»ç»Ÿç®¡ç†å‘˜ï¼Œæƒé™æœ€é«˜` |

### 2.4 æ›´æ–°ç”¨æˆ·ä¿¡æ¯ï¼ˆuser.updateï¼‰

**åº”ç”¨åœºæ™¯**ï¼šå‘˜å·¥ä¿¡æ¯å˜æ›´ã€å¯†ç é‡ç½®ã€æƒé™è°ƒæ•´ç­‰æ—¥å¸¸ç®¡ç†æ“ä½œã€‚

```bash
# æ›´æ–°ç”¨æˆ·å¯†ç å’Œè”ç³»æ–¹å¼
curl -X POST http://zabbix-server/api_jsonrpc.php \
-H "Content-Type: application/json" \
-d '{
    "jsonrpc": "2.0",
    "method": "user.update",
    "params": {
        "userid": "5",
        "passwd": "NewPassword789",
        "name": "æ",
        "surname": "å››",
        "medias": [
            {
                "mediatypeid": "1",
                "sendto": ["li.si@newcompany.com"],
                "active": 0,
                "severity": 63
            }
        ]
    },
    "auth": "your_auth_token",
    "id": 1
}'
```

### 2.5 åˆ é™¤ç”¨æˆ·ï¼ˆuser.deleteï¼‰

**æ³¨æ„äº‹é¡¹**ï¼šåˆ é™¤ç”¨æˆ·æ˜¯ä¸å¯é€†æ“ä½œï¼Œå°±åƒæ³¨é”€å‘˜å·¥è´¦å·ï¼Œéœ€è¦è°¨æ…å¤„ç†ã€‚

```bash
# åˆ é™¤æŒ‡å®šç”¨æˆ·
curl -X POST http://zabbix-server/api_jsonrpc.php \
-H "Content-Type: application/json" \
-d '{
    "jsonrpc": "2.0",
    "method": "user.delete",
    "params": ["5", "6"],
    "auth": "your_auth_token",
    "id": 1
}'
```

---

## 3. ğŸ‘¥ ç”¨æˆ·ç»„ç®¡ç†


### 3.1 ç”¨æˆ·ç»„çš„ä½œç”¨

**é€šä¿—ç†è§£**ï¼šç”¨æˆ·ç»„å°±åƒå…¬å¸çš„éƒ¨é—¨ï¼ŒåŒä¸€ä¸ªéƒ¨é—¨çš„äººæœ‰ç›¸ä¼¼çš„å·¥ä½œèŒè´£å’Œæƒé™ã€‚æ¯”å¦‚è¿ç»´éƒ¨é—¨èƒ½çœ‹æœåŠ¡å™¨ç›‘æ§ï¼Œå¼€å‘éƒ¨é—¨èƒ½çœ‹åº”ç”¨ç›‘æ§ã€‚

```
ç”¨æˆ·ç»„æƒé™ç»§æ‰¿å›¾ï¼š
ç”¨æˆ·ç»„ï¼ˆè¿ç»´éƒ¨é—¨ï¼‰
    â”œâ”€ æƒé™1ï¼šæœåŠ¡å™¨ç›‘æ§è¯»å†™
    â”œâ”€ æƒé™2ï¼šç½‘ç»œè®¾å¤‡åªè¯»
    â””â”€ æƒé™3ï¼šæ¥æ”¶å‘Šè­¦é€šçŸ¥
         â†“ ç»§æ‰¿
ç”¨æˆ·Aï¼ˆå¼ ä¸‰ï¼‰ â† è‡ªåŠ¨è·å¾—ä¸Šè¿°æ‰€æœ‰æƒé™
ç”¨æˆ·Bï¼ˆæå››ï¼‰ â† è‡ªåŠ¨è·å¾—ä¸Šè¿°æ‰€æœ‰æƒé™
```

### 3.2 æŸ¥è¯¢ç”¨æˆ·ç»„ï¼ˆusergroup.getï¼‰

```bash
# æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·ç»„åŠå…¶æƒé™
curl -X POST http://zabbix-server/api_jsonrpc.php \
-H "Content-Type: application/json" \
-d '{
    "jsonrpc": "2.0",
    "method": "usergroup.get",
    "params": {
        "output": "extend",
        "selectUsers": ["username", "name", "surname"],
        "selectRights": "extend"
    },
    "auth": "your_auth_token",
    "id": 1
}'
```

### 3.3 åˆ›å»ºç”¨æˆ·ç»„ï¼ˆusergroup.createï¼‰

**å®é™…åº”ç”¨**ï¼šä¸ºä¸åŒéƒ¨é—¨æˆ–è§’è‰²åˆ›å»ºä¸“é—¨çš„ç”¨æˆ·ç»„ï¼Œå®ç°ç²¾ç»†åŒ–æƒé™ç®¡ç†ã€‚

```bash
# åˆ›å»ºè¿ç»´éƒ¨é—¨ç”¨æˆ·ç»„
curl -X POST http://zabbix-server/api_jsonrpc.php \
-H "Content-Type: application/json" \
-d '{
    "jsonrpc": "2.0",
    "method": "usergroup.create",
    "params": {
        "name": "è¿ç»´éƒ¨é—¨",
        "gui_access": 0,
        "users_status": 0,
        "debug_mode": 0,
        "rights": [
            {
                "permission": 3,
                "id": "2"
            }
        ]
    },
    "auth": "your_auth_token",
    "id": 1
}'
```

### 3.4 GUIè®¿é—®æƒé™è¯´æ˜

**gui_access å‚æ•°è§£é‡Š**ï¼š

| æ•°å€¼ | **è®¿é—®æ–¹å¼** | **è¯´æ˜** | **ä½¿ç”¨åœºæ™¯** |
|------|-------------|----------|-------------|
| `0` | **ç³»ç»Ÿé»˜è®¤** | `è·Ÿéšç³»ç»Ÿè®¾ç½®` | `å¤§å¤šæ•°æ™®é€šç”¨æˆ·` |
| `1` | **å†…éƒ¨è®¤è¯** | `åªèƒ½ç”¨Zabbixå†…éƒ¨è´¦å·ç™»å½•` | `çº¯å†…ç½‘ç¯å¢ƒ` |
| `2` | **LDAPè®¤è¯** | `å¿…é¡»é€šè¿‡LDAPéªŒè¯` | `ä¼ä¸šç»Ÿä¸€è®¤è¯` |
| `3` | **ç¦ç”¨è®¿é—®** | `ä¸èƒ½ç™»å½•Webç•Œé¢` | `APIä¸“ç”¨è´¦å·` |

---

## 4. ğŸ“¢ åª’ä»‹ç±»å‹ç®¡ç†


### 4.1 åª’ä»‹ç±»å‹æ¦‚å¿µ

**å½¢è±¡æ¯”å–»**ï¼šåª’ä»‹ç±»å‹å°±åƒä¸åŒçš„é€šä¿¡å·¥å…·ï¼Œé‚®ä»¶åƒå†™ä¿¡ã€çŸ­ä¿¡åƒç”µæŠ¥ã€å¾®ä¿¡åƒå¯¹è®²æœºï¼Œæ¯ç§å·¥å…·æœ‰ä¸åŒçš„ç‰¹ç‚¹å’Œç”¨é€”ã€‚

```
é€šçŸ¥æµç¨‹å›¾ï¼š
ç›‘æ§å‘ç°é—®é¢˜ â†’ è§¦å‘å™¨æ¿€æ´» â†’ åŠ¨ä½œæ‰§è¡Œ â†’ é€‰æ‹©åª’ä»‹ç±»å‹ â†’ å‘é€é€šçŸ¥
     â†“              â†“           â†“            â†“           â†“
  CPUä½¿ç”¨ç‡é«˜    å‘Šè­¦è§¦å‘å™¨   å‘é€å‘Šè­¦åŠ¨ä½œ   é‚®ä»¶åª’ä»‹    zhang@xx.com
```

### 4.2 æŸ¥è¯¢åª’ä»‹ç±»å‹ï¼ˆmediatype.getï¼‰

```bash
# æŸ¥è¯¢æ‰€æœ‰å¯ç”¨çš„åª’ä»‹ç±»å‹
curl -X POST http://zabbix-server/api_jsonrpc.php \
-H "Content-Type: application/json" \
-d '{
    "jsonrpc": "2.0",
    "method": "mediatype.get",
    "params": {
        "output": "extend",
        "selectActions": "extend"
    },
    "auth": "your_auth_token",
    "id": 1
}'
```

### 4.3 åˆ›å»ºé‚®ä»¶åª’ä»‹ç±»å‹ï¼ˆmediatype.createï¼‰

**å®é™…åº”ç”¨**ï¼šé…ç½®ä¼ä¸šé‚®ç®±ä½œä¸ºå‘Šè­¦é€šçŸ¥æ¸ é“ã€‚

```bash
# åˆ›å»ºä¼ä¸šé‚®ç®±åª’ä»‹ç±»å‹
curl -X POST http://zabbix-server/api_jsonrpc.php \
-H "Content-Type: application/json" \
-d '{
    "jsonrpc": "2.0",
    "method": "mediatype.create",
    "params": {
        "name": "ä¼ä¸šé‚®ç®±",
        "type": 0,
        "smtp_server": "smtp.company.com",
        "smtp_port": 587,
        "smtp_helo": "zabbix.company.com",
        "smtp_email": "zabbix@company.com",
        "smtp_authentication": 1,
        "username": "zabbix@company.com",
        "passwd": "email_password",
        "smtp_security": 1,
        "smtp_verify_peer": 0,
        "smtp_verify_host": 0,
        "content_type": 1,
        "subject": "Zabbixå‘Šè­¦: {ALERT.SUBJECT}",
        "message": "æ—¶é—´: {ALERT.DATE} {ALERT.TIME}\nä¸»æœº: {HOST.NAME}\nå‘Šè­¦: {ALERT.SUBJECT}\nè¯¦æƒ…: {ALERT.MESSAGE}"
    },
    "auth": "your_auth_token",
    "id": 1
}'
```

### 4.4 åª’ä»‹ç±»å‹åˆ†ç±»

**type å‚æ•°è¯´æ˜**ï¼š

| æ•°å€¼ | **åª’ä»‹ç±»å‹** | **ä½¿ç”¨åœºæ™¯** | **é…ç½®å¤æ‚åº¦** |
|------|-------------|-------------|---------------|
| `0` | **é‚®ä»¶** | `è¯¦ç»†æŠ¥å‘Šï¼Œéç´§æ€¥é€šçŸ¥` | `ä¸­ç­‰` |
| `1` | **è„šæœ¬** | `è‡ªå®šä¹‰é€šçŸ¥æ–¹å¼` | `é«˜` |
| `2` | **çŸ­ä¿¡** | `ç´§æ€¥å‘Šè­¦ï¼Œå¿«é€Ÿé€šçŸ¥` | `ä¸­ç­‰` |
| `3` | **Webhook** | `ç¬¬ä¸‰æ–¹é›†æˆï¼ˆé’‰é’‰ã€ä¼å¾®ï¼‰` | `é«˜` |

---

## 5. ğŸ”‘ æƒé™ä¸è®¿é—®æ§åˆ¶


### 5.1 æƒé™çº§åˆ«ç†è§£

**permission å‚æ•°è¯¦è§£**ï¼š

```
æƒé™ç­‰çº§ç¤ºæ„å›¾ï¼š
0 (æ‹’ç»è®¿é—®) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ âŒ å®Œå…¨çœ‹ä¸åˆ°
    â†“
2 (åªè¯»æƒé™) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ğŸ‘ï¸ åªèƒ½æŸ¥çœ‹ç›‘æ§æ•°æ®
    â†“
3 (è¯»å†™æƒé™) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ âœï¸ å¯ä»¥ä¿®æ”¹é…ç½®å’ŒæŸ¥çœ‹
```

| æƒé™å€¼ | **æƒé™åç§°** | **èƒ½åšä»€ä¹ˆ** | **ä¸èƒ½åšä»€ä¹ˆ** |
|--------|-------------|-------------|---------------|
| `0` | **æ‹’ç»è®¿é—®** | `ä»€ä¹ˆéƒ½çœ‹ä¸åˆ°` | `å®Œå…¨æ— æƒé™` |
| `2` | **åªè¯»æƒé™** | `æŸ¥çœ‹ç›‘æ§æ•°æ®ã€å›¾è¡¨` | `ä¿®æ”¹é…ç½®` |
| `3` | **è¯»å†™æƒé™** | `æŸ¥çœ‹å’Œä¿®æ”¹æ‰€æœ‰é…ç½®` | `åˆ é™¤é‡è¦æ•°æ®éœ€è¦æ›´é«˜æƒé™` |

### 5.2 ç”¨æˆ·çŠ¶æ€ç®¡ç†

**users_status å‚æ•°è¯´æ˜**ï¼š

```bash
# å¯ç”¨ç”¨æˆ·çŠ¶æ€
"users_status": 0  # ç”¨æˆ·å¯ä»¥æ­£å¸¸ç™»å½•ä½¿ç”¨

# ç¦ç”¨ç”¨æˆ·çŠ¶æ€  
"users_status": 1  # ç”¨æˆ·è¢«æš‚æ—¶ç¦ç”¨ï¼Œæ— æ³•ç™»å½•
```

**åº”ç”¨åœºæ™¯**ï¼š
- **å‘˜å·¥ç¦»èŒ**ï¼šç¦ç”¨è´¦å·è€Œä¸åˆ é™¤ï¼Œä¿ç•™å†å²è®°å½•
- **ä¸´æ—¶å°ç¦**ï¼šè¿è§„æ“ä½œåçš„ä¸´æ—¶é™åˆ¶
- **æ‰¹é‡ç®¡ç†**ï¼šèŠ‚å‡æ—¥æ‰¹é‡ç¦ç”¨å¤–åŒ…äººå‘˜è´¦å·

### 5.3 è°ƒè¯•æ¨¡å¼é…ç½®

**debug_mode å‚æ•°ç”¨é€”**ï¼š

```bash
# å…³é—­è°ƒè¯•æ¨¡å¼ï¼ˆç”Ÿäº§ç¯å¢ƒæ¨èï¼‰
"debug_mode": 0

# å¼€å¯è°ƒè¯•æ¨¡å¼ï¼ˆæ•…éšœæ’æŸ¥æ—¶ä½¿ç”¨ï¼‰
"debug_mode": 1
```

---

## 6. ğŸ’¼ å®é™…åº”ç”¨åœºæ™¯


### 6.1 æ‰¹é‡ç”¨æˆ·åˆ›å»ºè„šæœ¬

**åº”ç”¨èƒŒæ™¯**ï¼šæ–°å‘˜å·¥å…¥èŒæˆ–é¡¹ç›®ç»„æˆç«‹æ—¶ï¼Œéœ€è¦æ‰¹é‡åˆ›å»ºç”¨æˆ·è´¦å·ã€‚

```python
#!/usr/bin/env python3
# æ‰¹é‡åˆ›å»ºç”¨æˆ·è„šæœ¬ç¤ºä¾‹

import requests
import json

class ZabbixUserManager:
    def __init__(self, url, auth_token):
        self.url = url
        self.auth_token = auth_token
    
    def create_user_batch(self, users_data):
        """æ‰¹é‡åˆ›å»ºç”¨æˆ·"""
        for user in users_data:
            payload = {
                "jsonrpc": "2.0",
                "method": "user.create",
                "params": {
                    "username": user["username"],
                    "passwd": user["password"], 
                    "name": user["name"],
                    "surname": user["surname"],
                    "type": user.get("type", 1),
                    "usrgrps": user["groups"],
                    "medias": user.get("medias", [])
                },
                "auth": self.auth_token,
                "id": 1
            }
            
            response = requests.post(self.url, json=payload)
            result = response.json()
            
            if "result" in result:
                print(f"âœ… ç”¨æˆ· {user['username']} åˆ›å»ºæˆåŠŸ")
            else:
                print(f"âŒ ç”¨æˆ· {user['username']} åˆ›å»ºå¤±è´¥: {result.get('error')}")

# ä½¿ç”¨ç¤ºä¾‹
users_to_create = [
    {
        "username": "dev_zhang",
        "password": "TempPass123",
        "name": "å¼ ",
        "surname": "å¼€å‘",
        "type": 1,
        "groups": [{"usrgrpid": "8"}],
        "medias": [
            {
                "mediatypeid": "1",
                "sendto": ["zhang.dev@company.com"],
                "active": 0,
                "severity": 63
            }
        ]
    }
]
```

### 6.2 æƒé™å®¡è®¡æŸ¥è¯¢

**ä¸šåŠ¡éœ€æ±‚**ï¼šå®šæœŸæ£€æŸ¥ç”¨æˆ·æƒé™ï¼Œç¡®ä¿ç¬¦åˆå®‰å…¨è¦æ±‚ã€‚

```bash
# æŸ¥è¯¢æ‰€æœ‰è¶…çº§ç®¡ç†å‘˜ç”¨æˆ·
curl -X POST http://zabbix-server/api_jsonrpc.php \
-H "Content-Type: application/json" \
-d '{
    "jsonrpc": "2.0",
    "method": "user.get",
    "params": {
        "output": ["username", "name", "surname", "type"],
        "filter": {
            "type": "3"
        },
        "selectUsrgrps": ["name"]
    },
    "auth": "your_auth_token",
    "id": 1
}'
```

### 6.3 åª’ä»‹é…ç½®æ¨¡æ¿

**å®ç”¨æŠ€å·§**ï¼šä¸ºä¸åŒçº§åˆ«ç”¨æˆ·é…ç½®æ ‡å‡†åŒ–çš„é€šçŸ¥æ–¹å¼ã€‚

```
é€šçŸ¥çº§åˆ«é…ç½®ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   å‘Šè­¦çº§åˆ«   â”‚   é€šçŸ¥æ–¹å¼   â”‚   é€šçŸ¥æ—¶é—´   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ç¾éš¾(32)    â”‚ çŸ­ä¿¡+é‚®ä»¶   â”‚ 24å°æ—¶      â”‚
â”‚ ä¸¥é‡(16)    â”‚ é‚®ä»¶+å¾®ä¿¡   â”‚ å·¥ä½œæ—¶é—´    â”‚  
â”‚ è­¦å‘Š(8)     â”‚ é‚®ä»¶       â”‚ å·¥ä½œæ—¶é—´    â”‚
â”‚ ä¿¡æ¯(4)     â”‚ é‚®ä»¶       â”‚ å·¥ä½œæ—¥      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 7. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 7.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ

```
ğŸ”¸ ç”¨æˆ·ç®¡ç†ï¼šè´¦å·åˆ›å»ºã€æƒé™åˆ†é…ã€çŠ¶æ€æ§åˆ¶
ğŸ”¸ ç”¨æˆ·ç»„ï¼šæ‰¹é‡æƒé™ç®¡ç†ï¼ŒèŒèƒ½åˆ†ç»„
ğŸ”¸ åª’ä»‹ç±»å‹ï¼šé€šçŸ¥æ¸ é“é…ç½®ï¼Œå‘Šè­¦ä¼ é€’
ğŸ”¸ æƒé™æ§åˆ¶ï¼šè®¿é—®çº§åˆ«ï¼Œæ“ä½œé™åˆ¶
ğŸ”¸ æ‰¹é‡æ“ä½œï¼šæé«˜ç®¡ç†æ•ˆç‡ï¼Œå‡å°‘é‡å¤å·¥ä½œ
```

### 7.2 å…³é”®å‚æ•°é€Ÿè®°

**ç”¨æˆ·ç±»å‹è®°å¿†**ï¼š
- `type=1`ï¼šæ™®é€šç”¨æˆ·ï¼ˆğŸ‘ï¸ åªçœ‹ï¼‰
- `type=2`ï¼šç®¡ç†å‘˜ï¼ˆğŸ”§ èƒ½æ”¹ï¼‰  
- `type=3`ï¼šè¶…ç®¡ï¼ˆğŸ’ª å…¨èƒ½ï¼‰

**æƒé™çº§åˆ«è®°å¿†**ï¼š
- `permission=0`ï¼šæ‹’ç»ï¼ˆâŒï¼‰
- `permission=2`ï¼šåªè¯»ï¼ˆğŸ‘ï¸ï¼‰
- `permission=3`ï¼šè¯»å†™ï¼ˆâœï¸ï¼‰

### 7.3 å®é™…åº”ç”¨ä»·å€¼

**ğŸ¯ ä¼ä¸šçº§ç”¨æˆ·ç®¡ç†**ï¼š
- **è§„èŒƒåŒ–**ï¼šç»Ÿä¸€çš„ç”¨æˆ·åˆ›å»ºå’Œæƒé™åˆ†é…æµç¨‹
- **å®‰å…¨æ€§**ï¼šç²¾ç»†åŒ–æƒé™æ§åˆ¶ï¼Œæœ€å°æƒé™åŸåˆ™
- **æ•ˆç‡æ€§**ï¼šæ‰¹é‡æ“ä½œï¼Œè‡ªåŠ¨åŒ–ç®¡ç†
- **å¯è¿½æº¯**ï¼šç”¨æˆ·æ“ä½œè®°å½•ï¼Œå®‰å…¨å®¡è®¡

**ğŸ”§ è¿ç»´å®è·µè¦ç‚¹**ï¼š
- **æƒé™æœ€å°åŒ–**ï¼šåªç»™å¿…è¦çš„æƒé™ï¼Œå®šæœŸå®¡æŸ¥
- **åˆ†å±‚ç®¡ç†**ï¼šç”¨æˆ·ç»„ç»Ÿä¸€ç®¡ç†ï¼Œä¸ªäººç‰¹æ®Šé…ç½®
- **é€šçŸ¥ä¼˜åŒ–**ï¼šåˆç†é…ç½®åª’ä»‹ï¼Œé¿å…å‘Šè­¦ç–²åŠ³
- **å®‰å…¨åŠ å›º**ï¼šå¼ºå¯†ç ç­–ç•¥ï¼Œå®šæœŸæ›´æ¢å¯†ç 

**ğŸ’¡ æ•…éšœæ’æŸ¥æŠ€å·§**ï¼š
- **ç™»å½•é—®é¢˜**ï¼šæ£€æŸ¥ç”¨æˆ·çŠ¶æ€ã€å¯†ç ã€æƒé™
- **é€šçŸ¥ä¸åˆ°**ï¼šéªŒè¯åª’ä»‹é…ç½®ã€ç½‘ç»œè¿é€šæ€§
- **æƒé™å¼‚å¸¸**ï¼šç¡®è®¤ç”¨æˆ·ç»„åˆ†é…ã€æƒé™ç»§æ‰¿
- **APIè°ƒç”¨**ï¼šæ£€æŸ¥è®¤è¯ä»¤ç‰Œã€å‚æ•°æ ¼å¼

### 7.4 æœ€ä½³å®è·µå»ºè®®

```
âœ… æ¨èåšæ³•ï¼š
â€¢ ä½¿ç”¨ç”¨æˆ·ç»„ç®¡ç†æ‰¹é‡æƒé™
â€¢ ä¸ºä¸åŒè§’è‰²åˆ›å»ºæ ‡å‡†æ¨¡æ¿
â€¢ å®šæœŸå®¡æŸ¥å’Œæ¸…ç†æ— æ•ˆè´¦å·
â€¢ é…ç½®å¤šç§åª’ä»‹ç±»å‹ç¡®ä¿é€šçŸ¥åˆ°è¾¾

âŒ é¿å…é”™è¯¯ï¼š
â€¢ ç»™æ‰€æœ‰äººè¶…ç®¡æƒé™
â€¢ ä½¿ç”¨å¼±å¯†ç æˆ–é»˜è®¤å¯†ç 
â€¢ å¿½ç•¥ç”¨æˆ·çŠ¶æ€ç®¡ç†
â€¢ åª’ä»‹é…ç½®é”™è¯¯å¯¼è‡´é€šçŸ¥å¤±è´¥
```

**æ ¸å¿ƒè®°å¿†å£è¯€**ï¼š
- ç”¨æˆ·ç®¡ç†æ‰¾å¯¹äººï¼Œæƒé™åˆ†é…è¦ç²¾å‡†
- ç”¨æˆ·ç»„é‡Œæ‰¹é‡ç®¡ï¼Œåª’ä»‹é…ç½®é€šçŸ¥å…¨
- ç±»å‹çº§åˆ«è¦ææ¸…ï¼ŒçŠ¶æ€æ§åˆ¶ä¿å®‰å…¨
- APIæ“ä½œè¦è§„èŒƒï¼Œæ‰¹é‡å¤„ç†ææ•ˆç‡