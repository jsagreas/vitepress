---
title: 3ã€TypeScripté›†æˆ
---
## ğŸ“š ç›®å½•

1. [TypeScriptåŸºç¡€è®¤çŸ¥](#1-TypeScriptåŸºç¡€è®¤çŸ¥)
2. [ç¼–è¯‘æµç¨‹æ·±åº¦è§£æ](#2-ç¼–è¯‘æµç¨‹æ·±åº¦è§£æ)
3. [ts-loaderé…ç½®å®æˆ˜](#3-ts-loaderé…ç½®å®æˆ˜)
4. [tsconfig.jsonæ ¸å¿ƒé…ç½®](#4-tsconfig-jsonæ ¸å¿ƒé…ç½®)
5. [ç±»å‹æ£€æŸ¥ä¸æ„å»ºä¼˜åŒ–](#5-ç±»å‹æ£€æŸ¥ä¸æ„å»ºä¼˜åŒ–)
6. [TypeScriptå¼€å‘ä¼˜åŠ¿](#6-TypeScriptå¼€å‘ä¼˜åŠ¿)
7. [ä¸Babelåä½œé…ç½®](#7-ä¸Babelåä½œé…ç½®)
8. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#8-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ“– TypeScriptåŸºç¡€è®¤çŸ¥


### 1.1 ä»€ä¹ˆæ˜¯TypeScript


> **ç®€å•ç†è§£**ï¼šTypeScriptå°±æ˜¯**å¸¦ç±»å‹çš„JavaScript**ï¼Œå¯ä»¥ç†è§£ä¸ºJavaScriptçš„"ä¸¥æ ¼ç‰ˆæœ¬"

```
é€šä¿—æ¯”å–»ï¼š
å¦‚æœJavaScriptæ˜¯ä¸€ä¸ªéšæ„çš„èŠå¤©ç¾¤
é‚£TypeScriptå°±æ˜¯ä¸€ä¸ªæœ‰è§„åˆ™çš„æ­£å¼ä¼šè®®

JavaScript: ä»»ä½•äººå¯ä»¥è¯´ä»»ä½•è¯
TypeScript: æ¯ä¸ªäººå¿…é¡»æŒ‰è§„å®šæ ¼å¼å‘è¨€
```

**ğŸ”¸ æ ¸å¿ƒç‰¹ç‚¹å¯¹æ¯”**

| **JavaScript** | **TypeScript** | **é€šä¿—è§£é‡Š** |
|---------------|----------------|-------------|
| `åŠ¨æ€ç±»å‹` | `é™æ€ç±»å‹` | `è¿è¡Œæ—¶æ‰çŸ¥é“å˜é‡ç±»å‹ vs å†™ä»£ç æ—¶å°±ç¡®å®šç±»å‹` |
| `è¿è¡Œæ—¶æŠ¥é”™` | `ç¼–è¯‘æ—¶æŠ¥é”™` | `ç¨‹åºè·‘èµ·æ¥æ‰å‘ç°é—®é¢˜ vs å†™ä»£ç æ—¶å°±æé†’é”™è¯¯` |
| `çµæ´»ä½†å®¹æ˜“å‡ºé”™` | `ä¸¥æ ¼ä½†æ›´å®‰å…¨` | `è‡ªç”±å‘æŒ¥ä½†æ˜“çŠ¯é”™ vs æŒ‰è§„åˆ™æ¥ä½†æ›´å¯é ` |

### 1.2 ä¸ºä»€ä¹ˆè¦ç”¨TypeScript


**ğŸ¯ æ ¸å¿ƒä»·å€¼**

```
å®é™…å¼€å‘åœºæ™¯å¯¹æ¯”ï¼š

JavaScriptå†™æ³•ï¼š
function getUserInfo(id) {
    return api.get('/user/' + id)  // ä¸çŸ¥é“idåº”è¯¥æ˜¯ä»€ä¹ˆç±»å‹
}
getUserInfo("abc")  // ä¼ äº†å­—ç¬¦ä¸²ï¼Œå¯èƒ½å‡ºé”™
getUserInfo(123)    // ä¼ äº†æ•°å­—ï¼Œè¿è¡Œæ—¶æ‰çŸ¥é“å¯¹ä¸å¯¹

TypeScriptå†™æ³•ï¼š
function getUserInfo(id: number): Promise<User> {
    return api.get('/user/' + id)  // æ˜ç¡®çŸ¥é“idå¿…é¡»æ˜¯æ•°å­—
}
getUserInfo("abc")  // IDEç«‹å³æç¤ºé”™è¯¯ï¼Œä¸ç”¨ç­‰è¿è¡Œ
getUserInfo(123)    // æ­£ç¡®ç”¨æ³•ï¼ŒIDEæç¤ºå®Œæ•´
```

**ğŸ’¡ å®é™…å¥½å¤„**

- **æå‰å‘ç°é”™è¯¯**ï¼šå†™ä»£ç æ—¶å°±çŸ¥é“å“ªé‡Œæœ‰é—®é¢˜ï¼Œä¸ç”¨ç­‰ç¨‹åºè·‘èµ·æ¥
- **æ™ºèƒ½æç¤ºæ›´å¼º**ï¼šIDEçŸ¥é“æ¯ä¸ªå˜é‡çš„ç±»å‹ï¼Œæç¤ºæ›´å‡†ç¡®
- **ä»£ç æ›´æ˜“è¯»**ï¼šçœ‹å‡½æ•°å®šä¹‰å°±çŸ¥é“å‚æ•°å’Œè¿”å›å€¼æ˜¯ä»€ä¹ˆ
- **é‡æ„æ›´å®‰å…¨**ï¼šæ”¹ä»£ç æ—¶ï¼Œç›¸å…³åœ°æ–¹ä¼šè‡ªåŠ¨æç¤ºéœ€è¦åŒæ­¥ä¿®æ”¹

---

## 2. âš™ï¸ ç¼–è¯‘æµç¨‹æ·±åº¦è§£æ


### 2.1 TypeScriptç¼–è¯‘åŸç†


**ğŸ”„ ç¼–è¯‘æµç¨‹å›¾è§£**

```
TypeScriptç¼–è¯‘å®Œæ•´æµç¨‹ï¼š

æºä»£ç é˜¶æ®µ          ç¼–è¯‘æ£€æŸ¥é˜¶æ®µ         è¾“å‡ºé˜¶æ®µ
     â†“                   â†“                â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  .tsæ–‡ä»¶    â”‚    â”‚  ç±»å‹æ£€æŸ¥    â”‚    â”‚  .jsæ–‡ä»¶    â”‚
â”‚  (TypeScriptâ”‚ â†’  â”‚  è¯­æ³•åˆ†æ    â”‚ â†’  â”‚  (JavaScriptâ”‚
â”‚   æºç )     â”‚    â”‚  é”™è¯¯æç¤º    â”‚    â”‚   ç›®æ ‡ç )   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ğŸ” ç¼–è¯‘è¿‡ç¨‹è¯¦è§£**

```typescript
// æºç ç¤ºä¾‹ (main.ts)
interface User {
    name: string;
    age: number;
}

function greetUser(user: User): string {
    return `Hello, ${user.name}!`;
}

const currentUser: User = { name: "å¼ ä¸‰", age: 25 };
console.log(greetUser(currentUser));
```

```javascript
// ç¼–è¯‘åè¾“å‡º (main.js)
function greetUser(user) {
    return "Hello, " + user.name + "!";
}
var currentUser = { name: "å¼ ä¸‰", age: 25 };
console.log(greetUser(currentUser));
```

> **ğŸ’¡ å…³é”®ç†è§£**ï¼šTypeScriptçš„ç±»å‹ä¿¡æ¯åœ¨ç¼–è¯‘å**å®Œå…¨æ¶ˆå¤±**ï¼Œæœ€ç»ˆè¿è¡Œçš„è¿˜æ˜¯æ™®é€šJavaScript

### 2.2 Webpackä¸­çš„ç¼–è¯‘æµç¨‹


```
Webpack + TypeScript å¤„ç†æµç¨‹ï¼š

.tsæ–‡ä»¶ â†’ ts-loader â†’ TypeScriptç¼–è¯‘å™¨ â†’ .jsæ–‡ä»¶ â†’ Webpackæ‰“åŒ… â†’ bundle.js

å…·ä½“è¿‡ç¨‹ï¼š
1. Webpacké‡åˆ°.tsæ–‡ä»¶
2. äº¤ç»™ts-loaderå¤„ç†  
3. ts-loaderè°ƒç”¨TypeScriptç¼–è¯‘å™¨
4. ç¼–è¯‘å™¨è¿›è¡Œç±»å‹æ£€æŸ¥ + è½¬æ¢ä¸ºJS
5. è¿”å›JSä»£ç ç»™Webpackç»§ç»­å¤„ç†
6. æœ€ç»ˆæ‰“åŒ…åˆ°bundleæ–‡ä»¶
```

---

## 3. ğŸ”§ ts-loaderé…ç½®å®æˆ˜


### 3.1 åŸºç¡€å®‰è£…é…ç½®


**ğŸ“¦ å¿…è¦ä¾èµ–å®‰è£…**

```bash
# å®‰è£…TypeScriptå’Œç›¸å…³loader
npm install --save-dev typescript ts-loader

# å¯é€‰ï¼šå®‰è£…ç±»å‹å®šä¹‰ï¼ˆå¦‚æœç”¨åˆ°ç›¸å…³åº“ï¼‰
npm install --save-dev @types/node
```

### 3.2 Webpacké…ç½®è¯¦è§£


**âš¡ åŸºç¡€é…ç½®ç¤ºä¾‹**

```javascript
// webpack.config.js
module.exports = {
    entry: './src/index.ts',
    
    module: {
        rules: [
            {
                test: /\.ts$/,              // åŒ¹é….tsæ–‡ä»¶
                use: 'ts-loader',           // ä½¿ç”¨ts-loaderå¤„ç†
                exclude: /node_modules/     // æ’é™¤node_modules
            }
        ]
    },
    
    resolve: {
        extensions: ['.ts', '.js']          // è‡ªåŠ¨è§£æè¿™äº›åç¼€
    },
    
    output: {
        filename: 'bundle.js',
        path: __dirname + '/dist'
    }
};
```

**ğŸ¯ é…ç½®è¦ç‚¹è§£é‡Š**

| **é…ç½®é¡¹** | **ä½œç”¨** | **é€šä¿—è§£é‡Š** |
|-----------|---------|-------------|
| `test: /\.ts$/` | `åŒ¹é…TypeScriptæ–‡ä»¶` | `å‘Šè¯‰Webpackå“ªäº›æ–‡ä»¶éœ€è¦ç‰¹æ®Šå¤„ç†` |
| `use: 'ts-loader'` | `æŒ‡å®šå¤„ç†å™¨` | `ç”¨ts-loaderæ¥å¤„ç†TypeScriptæ–‡ä»¶` |
| `extensions` | `è‡ªåŠ¨è¡¥å…¨åç¼€` | `importæ—¶ä¸ç”¨å†™.tsï¼ŒWebpackè‡ªåŠ¨è¯†åˆ«` |

### 3.3 è¿›é˜¶é…ç½®é€‰é¡¹


**ğŸ”¨ æ€§èƒ½ä¼˜åŒ–é…ç½®**

```javascript
// webpack.config.js (ä¼˜åŒ–ç‰ˆæœ¬)
module.exports = {
    module: {
        rules: [
            {
                test: /\.ts$/,
                use: {
                    loader: 'ts-loader',
                    options: {
                        transpileOnly: true,        // åªè½¬æ¢ï¼Œä¸ç±»å‹æ£€æŸ¥ï¼ˆæå‡é€Ÿåº¦ï¼‰
                        happyPackMode: true         // å¼€å¯å¤šè¿›ç¨‹æ¨¡å¼
                    }
                },
                exclude: /node_modules/
            }
        ]
    }
};
```

> **âš ï¸ æ³¨æ„**ï¼š`transpileOnly: true` ä¼šè·³è¿‡ç±»å‹æ£€æŸ¥ï¼Œé€Ÿåº¦æ›´å¿«ä½†å¤±å»äº†ç±»å‹å®‰å…¨ï¼Œé€‚åˆå¼€å‘ç¯å¢ƒ

---

## 4. ğŸ“ tsconfig.jsonæ ¸å¿ƒé…ç½®


### 4.1 é…ç½®æ–‡ä»¶ä½œç”¨


> **ç®€å•ç†è§£**ï¼š`tsconfig.json`å°±æ˜¯TypeScriptçš„**è§„åˆ™æ‰‹å†Œ**ï¼Œå‘Šè¯‰ç¼–è¯‘å™¨æ€ä¹ˆå¤„ç†TypeScriptä»£ç 

### 4.2 åŸºç¡€é…ç½®ç»“æ„


**ğŸ“‹ å®Œæ•´é…ç½®ç¤ºä¾‹**

```json
{
  "compilerOptions": {
    // è¾“å‡ºé…ç½®
    "target": "ES2018",                 // ç¼–è¯‘ç›®æ ‡ç‰ˆæœ¬
    "module": "ESNext",                 // æ¨¡å—ç³»ç»Ÿ
    "outDir": "./dist",                 // è¾“å‡ºç›®å½•
    
    // ç±»å‹æ£€æŸ¥é…ç½®
    "strict": true,                     // å¯ç”¨ä¸¥æ ¼æ¨¡å¼
    "noImplicitAny": true,              // ç¦æ­¢éšå¼anyç±»å‹
    "strictNullChecks": true,           // ä¸¥æ ¼ç©ºå€¼æ£€æŸ¥
    
    // æ¨¡å—è§£æé…ç½®
    "moduleResolution": "node",         // æ¨¡å—è§£æç­–ç•¥
    "baseUrl": "./src",                 // åŸºç¡€è·¯å¾„
    "paths": {                          // è·¯å¾„æ˜ å°„
      "@/*": ["*"]
    },
    
    // å¼€å‘ä½“éªŒé…ç½®
    "sourceMap": true,                  // ç”Ÿæˆæºç æ˜ å°„
    "declaration": true,                // ç”Ÿæˆç±»å‹å£°æ˜æ–‡ä»¶
    "esModuleInterop": true,            // ESæ¨¡å—äº’æ“ä½œ
    "allowSyntheticDefaultImports": true
  },
  
  "include": [                          // åŒ…å«çš„æ–‡ä»¶
    "src/**/*"
  ],
  
  "exclude": [                          // æ’é™¤çš„æ–‡ä»¶
    "node_modules",
    "dist"
  ]
}
```

### 4.3 å…³é”®é…ç½®è¯¦è§£


**ğŸ¯ é‡è¦é…ç½®è¯´æ˜**

| **é…ç½®é¡¹** | **æ¨èå€¼** | **ä½œç”¨** | **é€šä¿—è§£é‡Š** |
|-----------|-----------|---------|-------------|
| `target` | `ES2018` | `ç¼–è¯‘ç›®æ ‡` | `æŠŠTSä»£ç è½¬æ¢æˆå“ªä¸ªç‰ˆæœ¬çš„JS` |
| `module` | `ESNext` | `æ¨¡å—æ ¼å¼` | `ä½¿ç”¨å“ªç§import/exportè¯­æ³•` |
| `strict` | `true` | `ä¸¥æ ¼æ¨¡å¼` | `å¼€å¯æœ€ä¸¥æ ¼çš„ç±»å‹æ£€æŸ¥` |
| `sourceMap` | `true` | `è°ƒè¯•æ˜ å°„` | `æ–¹ä¾¿åœ¨æµè§ˆå™¨ä¸­è°ƒè¯•åŸå§‹TSä»£ç ` |

**ğŸ’¡ é…ç½®é€‰æ‹©å»ºè®®**

```typescript
// æ–°æ‰‹æ¨èé…ç½®
{
  "compilerOptions": {
    "target": "ES2018",           // å…¼å®¹æ€§å¥½ï¼ŒåŠŸèƒ½å¤Ÿç”¨
    "module": "ESNext",           // ç°ä»£æ¨¡å—è¯­æ³•
    "strict": true,               // ä¸¥æ ¼æ¨¡å¼ï¼Œå¸®åŠ©å‘ç°é—®é¢˜
    "sourceMap": true,            // æ–¹ä¾¿è°ƒè¯•
    "esModuleInterop": true       // æ›´å¥½çš„æ¨¡å—å…¼å®¹æ€§
  }
}
```

---

## 5. ğŸ” ç±»å‹æ£€æŸ¥ä¸æ„å»ºä¼˜åŒ–


### 5.1 ç±»å‹æ£€æŸ¥æœºåˆ¶


**ğŸ” ç±»å‹æ£€æŸ¥å·¥ä½œåŸç†**

```typescript
// TypeScriptå¦‚ä½•è¿›è¡Œç±»å‹æ£€æŸ¥

// 1. å˜é‡ç±»å‹æ£€æŸ¥
let userName: string = "å¼ ä¸‰";
userName = 123;  // âŒ é”™è¯¯ï¼šæ•°å­—ä¸èƒ½èµ‹å€¼ç»™å­—ç¬¦ä¸²

// 2. å‡½æ•°å‚æ•°æ£€æŸ¥
function calculateAge(birthYear: number): number {
    return new Date().getFullYear() - birthYear;
}
calculateAge("1990");  // âŒ é”™è¯¯ï¼šå­—ç¬¦ä¸²ä¸èƒ½ä¼ ç»™æ•°å­—å‚æ•°

// 3. å¯¹è±¡å±æ€§æ£€æŸ¥
interface UserProfile {
    name: string;
    email: string;
}
const user: UserProfile = {
    name: "æå››",
    // âŒ ç¼ºå°‘emailå±æ€§ï¼ŒTypeScriptä¼šæç¤ºé”™è¯¯
};
```

### 5.2 ç±»å‹æ£€æŸ¥çº§åˆ«æ§åˆ¶


**âš™ï¸ æ£€æŸ¥ä¸¥æ ¼ç¨‹åº¦é…ç½®**

```json
// tsconfig.json - æ¸è¿›å¼ä¸¥æ ¼é…ç½®
{
  "compilerOptions": {
    // ğŸŸ¢ å…¥é—¨çº§ï¼šåŸºç¡€ç±»å‹æ£€æŸ¥
    "noImplicitAny": false,         // å…è®¸éšå¼anyï¼ˆæ–°æ‰‹å‹å¥½ï¼‰
    "strictNullChecks": false,      // ä¸ä¸¥æ ¼æ£€æŸ¥null/undefined
    
    // ğŸŸ¡ è¿›é˜¶çº§ï¼šé€‚åº¦ä¸¥æ ¼
    "noImplicitAny": true,          // ç¦æ­¢éšå¼any
    "strictNullChecks": true,       // ä¸¥æ ¼ç©ºå€¼æ£€æŸ¥
    
    // ğŸ”´ ä¸“å®¶çº§ï¼šæœ€ä¸¥æ ¼æ£€æŸ¥
    "strict": true,                 // å¼€å¯æ‰€æœ‰ä¸¥æ ¼æ£€æŸ¥
    "noImplicitReturns": true,      // å‡½æ•°å¿…é¡»æœ‰æ˜ç¡®è¿”å›
    "noUnusedLocals": true          // ä¸å…è®¸æœªä½¿ç”¨çš„å˜é‡
  }
}
```

### 5.3 æ„å»ºæ€§èƒ½ä¼˜åŒ–


**âš¡ æå‡ç¼–è¯‘é€Ÿåº¦çš„æ–¹æ³•**

```javascript
// webpack.config.js - æ€§èƒ½ä¼˜åŒ–é…ç½®
module.exports = {
    module: {
        rules: [
            {
                test: /\.ts$/,
                use: [
                    {
                        loader: 'ts-loader',
                        options: {
                            transpileOnly: true,    // è·³è¿‡ç±»å‹æ£€æŸ¥ï¼Œåªåšè½¬æ¢
                            experimentalWatchApi: true  // ä½¿ç”¨å®éªŒæ€§ç›‘å¬API
                        }
                    }
                ]
            }
        ]
    },
    
    // ä½¿ç”¨ç¼“å­˜æå‡é‡æ–°æ„å»ºé€Ÿåº¦
    cache: {
        type: 'filesystem',
        buildDependencies: {
            config: [__filename]
        }
    }
};
```

> **ğŸ’¡ æ€§èƒ½ä¼˜åŒ–ç­–ç•¥**ï¼šå¼€å‘ç¯å¢ƒä½¿ç”¨`transpileOnly`æå‡é€Ÿåº¦ï¼ŒCI/CDç¯å¢ƒå•ç‹¬è¿è¡Œç±»å‹æ£€æŸ¥

---

## 6. ğŸŒŸ TypeScriptå¼€å‘ä¼˜åŠ¿


### 6.1 é™æ€ç±»å‹æ£€æŸ¥ä¼˜åŠ¿


**ğŸ›¡ï¸ é”™è¯¯æå‰å‘ç°**

```typescript
// é™æ€ç±»å‹æ£€æŸ¥çš„å®é™…ä»·å€¼

// âŒ JavaScriptç‰ˆæœ¬ - è¿è¡Œæ—¶æ‰å‘ç°é”™è¯¯
function processUserData(users) {
    return users.map(user => ({
        fullName: user.firstName + ' ' + user.lastName,
        isAdult: user.age >= 18
    }));
}

// è°ƒç”¨æ—¶ä¼ é”™äº†å‚æ•°ï¼Œè¿è¡Œæ—¶æ‰æŠ¥é”™
processUserData("not an array");  // ğŸ’¥ è¿è¡Œæ—¶é”™è¯¯

// âœ… TypeScriptç‰ˆæœ¬ - ç¼–å†™æ—¶å°±å‘ç°é”™è¯¯
interface User {
    firstName: string;
    lastName: string;
    age: number;
}

function processUserData(users: User[]): ProcessedUser[] {
    return users.map(user => ({
        fullName: user.firstName + ' ' + user.lastName,
        isAdult: user.age >= 18
    }));
}

// IDEç«‹å³æç¤ºé”™è¯¯ï¼Œä¸ç”¨ç­‰è¿è¡Œ
processUserData("not an array");  // ğŸ”´ ç¼–è¯‘æ—¶é”™è¯¯æç¤º
```

### 6.2 ä»£ç è´¨é‡æå‡


**ğŸ“ˆ å¯ç»´æŠ¤æ€§å¢å¼º**

```typescript
// ä»£ç è‡ªæ–‡æ¡£åŒ–ç¤ºä¾‹

// âŒ JavaScript - éœ€è¦çŒœæµ‹å‚æ•°å’Œè¿”å›å€¼
function fetchUserProfile(id, includePrivate) {
    // ä¸çŸ¥é“idåº”è¯¥æ˜¯ä»€ä¹ˆç±»å‹
    // ä¸çŸ¥é“includePrivateæ˜¯ä»€ä¹ˆæ„æ€
    // ä¸çŸ¥é“è¿”å›å€¼æ˜¯ä»€ä¹ˆç»“æ„
}

// âœ… TypeScript - ä¸€ç›®äº†ç„¶
interface UserProfile {
    id: number;
    name: string;
    email: string;
    avatar?: string;        // å¯é€‰å±æ€§
    privateInfo?: {         // ç§äººä¿¡æ¯
        phone: string;
        address: string;
    };
}

async function fetchUserProfile(
    userId: number, 
    includePrivateInfo: boolean = false
): Promise<UserProfile> {
    // å‡½æ•°ç­¾åå°±æ˜¯æœ€å¥½çš„æ–‡æ¡£
    // ä¸€çœ‹å°±çŸ¥é“ï¼š
    // - userIdå¿…é¡»æ˜¯æ•°å­—
    // - includePrivateInfoæ˜¯å¸ƒå°”å€¼ï¼Œé»˜è®¤false
    // - è¿”å›PromiseåŒ…è£…çš„UserProfileå¯¹è±¡
}
```

### 6.3 IDEæ™ºèƒ½æç¤ºå¢å¼º


**ğŸ§  å¼€å‘æ•ˆç‡æå‡**

```typescript
// IDEæ™ºèƒ½æç¤ºçš„å®é™…ä½“éªŒ

interface APIResponse<T> {
    data: T;
    status: number;
    message: string;
}

interface Product {
    id: number;
    name: string;
    price: number;
    category: string;
    inStock: boolean;
}

// å½“ä½ è¾“å…¥è¿™ä¸ªå‡½æ•°æ—¶
async function getProduct(id: number): Promise<APIResponse<Product>> {
    const response = await fetch(`/api/products/${id}`);
    return response.json();
}

// ä½¿ç”¨æ—¶IDEä¼šè‡ªåŠ¨æç¤º
getProduct(123).then(result => {
    // è¾“å…¥ result. æ—¶ï¼ŒIDEè‡ªåŠ¨æç¤ºï¼š
    // - result.data (ç±»å‹ï¼šProduct)
    // - result.status (ç±»å‹ï¼šnumber)  
    // - result.message (ç±»å‹ï¼šstring)
    
    // è¾“å…¥ result.data. æ—¶ï¼ŒIDEè‡ªåŠ¨æç¤ºï¼š
    // - result.data.id
    // - result.data.name
    // - result.data.price
    // - result.data.category
    // - result.data.inStock
});
```

### 6.4 å›¢é˜Ÿåä½œä¼˜åŠ¿


**ğŸ‘¥ å›¢é˜Ÿå¼€å‘è§„èŒƒ**

```typescript
// å›¢é˜Ÿåä½œä¸­çš„ç±»å‹çº¦å®š

// å®šä¹‰ç»Ÿä¸€çš„æ•°æ®æ¥å£
export interface User {
    readonly id: number;           // åªè¯»ï¼Œé˜²æ­¢æ„å¤–ä¿®æ”¹
    username: string;
    email: string;
    role: 'admin' | 'user' | 'guest';  // é™å®šå¯é€‰å€¼
    createdAt: Date;
    lastLogin?: Date;              // å¯é€‰å­—æ®µ
}

// å®šä¹‰ç»Ÿä¸€çš„APIå“åº”æ ¼å¼
export interface APIResult<T = any> {
    success: boolean;
    data?: T;
    error?: string;
    code: number;
}

// å›¢é˜Ÿæˆå‘˜ä½¿ç”¨æ—¶ï¼Œè‡ªåŠ¨éµå¾ªè§„èŒƒ
function createUser(userData: Omit<User, 'id' | 'createdAt'>): Promise<APIResult<User>> {
    // Omitç±»å‹å·¥å…·è‡ªåŠ¨æ’é™¤idå’ŒcreatedAt
    // ç¡®ä¿æ‰€æœ‰å›¢é˜Ÿæˆå‘˜éƒ½æŒ‰ç›¸åŒæ ¼å¼åˆ›å»ºç”¨æˆ·
}
```

---

## 7. ğŸ¤ ä¸Babelåä½œé…ç½®


### 7.1 ä¸ºä»€ä¹ˆéœ€è¦Babelåä½œ


> **æ ¸å¿ƒé—®é¢˜**ï¼šTypeScriptç¼–è¯‘å™¨ä¸»è¦è´Ÿè´£**ç±»å‹æ£€æŸ¥å’Œç±»å‹æ“¦é™¤**ï¼Œä½†åœ¨**è¯­æ³•è½¬æ¢å’Œå…¼å®¹æ€§**æ–¹é¢ï¼ŒBabelæ›´ä¸“ä¸š

```
èŒè´£åˆ†å·¥å¯¹æ¯”ï¼š

TypeScriptç¼–è¯‘å™¨ï¼š
âœ… ç±»å‹æ£€æŸ¥ï¼ˆç¡®ä¿ä»£ç æ­£ç¡®ï¼‰
âœ… ç±»å‹æ“¦é™¤ï¼ˆç§»é™¤ç±»å‹ä¿¡æ¯ï¼‰
âš ï¸ è¯­æ³•è½¬æ¢ï¼ˆåŸºç¡€è½¬æ¢ï¼‰
âŒ å¤æ‚polyfillï¼ˆå…¼å®¹æ€§å¤„ç†ï¼‰

Babelï¼š
âŒ ç±»å‹æ£€æŸ¥ï¼ˆä¸æ‡‚ç±»å‹ï¼‰
âœ… è¯­æ³•è½¬æ¢ï¼ˆä¸“ä¸šå¼ºå¤§ï¼‰
âœ… Polyfillæ³¨å…¥ï¼ˆå…¼å®¹æ€§ä¸“å®¶ï¼‰
âœ… æ’ä»¶ç”Ÿæ€ï¼ˆåŠŸèƒ½ä¸°å¯Œï¼‰
```

### 7.2 åä½œé…ç½®æ–¹æ¡ˆ


**ğŸ”§ æ¨èé…ç½®ï¼šTypeScript + Babel**

```javascript
// webpack.config.js
module.exports = {
    module: {
        rules: [
            {
                test: /\.ts$/,
                use: [
                    // 2. Babelå¤„ç†å…¼å®¹æ€§å’Œé«˜çº§è½¬æ¢
                    {
                        loader: 'babel-loader',
                        options: {
                            presets: [
                                ['@babel/preset-env', {
                                    targets: '> 1%',           // å…¼å®¹ç›®æ ‡æµè§ˆå™¨
                                    useBuiltIns: 'usage',      // æŒ‰éœ€å¼•å…¥polyfill
                                    corejs: 3
                                }]
                            ]
                        }
                    },
                    // 1. TypeScriptå…ˆå¤„ç†ç±»å‹
                    {
                        loader: 'ts-loader',
                        options: {
                            transpileOnly: true             // åªåšç±»å‹æ“¦é™¤ï¼Œä¸è½¬æ¢è¯­æ³•
                        }
                    }
                ],
                exclude: /node_modules/
            }
        ]
    }
};
```

### 7.3 é…ç½®ä¼˜åŠ¿è¯´æ˜


**ğŸ’¡ åŒé‡å¤„ç†çš„å¥½å¤„**

```typescript
// æºä»£ç ç¤ºä¾‹
interface UserConfig {
    theme: 'light' | 'dark';
    language: string;
}

class AppManager {
    #privateData: UserConfig;  // ç§æœ‰å­—æ®µè¯­æ³•ï¼ˆè¾ƒæ–°ï¼‰
    
    constructor(config: UserConfig) {
        this.#privateData = config;
    }
    
    async loadSettings(): Promise<UserConfig> {
        // å¯é€‰é“¾æ“ä½œç¬¦ï¼ˆè¾ƒæ–°è¯­æ³•ï¼‰
        const saved = await localStorage?.getItem?.('config');
        return saved ? JSON.parse(saved) : this.#privateData;
    }
}
```

```javascript
// TypeScriptå¤„ç†åï¼ˆä»æœ‰æ–°è¯­æ³•ï¼‰
class AppManager {
    #privateData;              // ç§æœ‰å­—æ®µä¿ç•™
    
    constructor(config) {
        this.#privateData = config;
    }
    
    async loadSettings() {
        const saved = await localStorage?.getItem?.('config');  // å¯é€‰é“¾ä¿ç•™
        return saved ? JSON.parse(saved) : this.#privateData;
    }
}
```

```javascript
// Babelæœ€ç»ˆå¤„ç†åï¼ˆå…¼å®¹æ€§å¥½ï¼‰
class AppManager {
    constructor(config) {
        this._privateData = config;  // ç§æœ‰å­—æ®µè½¬æ¢ä¸ºæ™®é€šå±æ€§
    }
    
    async loadSettings() {
        // å¯é€‰é“¾è½¬æ¢ä¸ºå…¼å®¹å†™æ³•
        var _localStorage, _localStorage$getItem;
        const saved = await ((_localStorage = localStorage) === null || 
            _localStorage === void 0 ? void 0 : 
            (_localStorage$getItem = _localStorage.getItem) === null || 
            _localStorage$getItem === void 0 ? void 0 : 
            _localStorage$getItem.call(_localStorage, 'config'));
        
        return saved ? JSON.parse(saved) : this._privateData;
    }
}
```

### 7.4 é…ç½®æ–‡ä»¶ç¤ºä¾‹


**ğŸ“ å®Œæ•´é…ç½®æ–‡ä»¶**

```javascript
// babel.config.js
module.exports = {
    presets: [
        ['@babel/preset-env', {
            targets: {
                browsers: ['> 1%', 'last 2 versions']
            },
            useBuiltIns: 'usage',
            corejs: 3
        }]
    ],
    plugins: [
        '@babel/plugin-proposal-class-properties',    // ç±»å±æ€§æ”¯æŒ
        '@babel/plugin-proposal-optional-chaining'    // å¯é€‰é“¾æ”¯æŒ
    ]
};
```

```json
// tsconfig.json
{
  "compilerOptions": {
    "target": "ESNext",                    // ä¿æŒæ–°è¯­æ³•ï¼Œè®©Babelå¤„ç†
    "module": "ESNext",                    // ç°ä»£æ¨¡å—è¯­æ³•
    "strict": true,                        // ä¸¥æ ¼ç±»å‹æ£€æŸ¥
    "noEmit": true                         // ä¸è¾“å‡ºæ–‡ä»¶ï¼Œåªåšç±»å‹æ£€æŸ¥
  }
}
```

---

## 8. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 8.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ TypeScriptæœ¬è´¨ï¼šå¸¦ç±»å‹çš„JavaScriptï¼Œç¼–è¯‘æ—¶æ£€æŸ¥ï¼Œè¿è¡Œæ—¶æ¶ˆå¤±
ğŸ”¸ ç¼–è¯‘æµç¨‹ï¼šTSæºç  â†’ ç±»å‹æ£€æŸ¥ â†’ JSä»£ç  â†’ Webpackæ‰“åŒ…
ğŸ”¸ ts-loaderï¼šWebpackä¸­å¤„ç†TypeScriptçš„ä¸“ç”¨åŠ è½½å™¨
ğŸ”¸ tsconfig.jsonï¼šTypeScriptç¼–è¯‘å™¨çš„é…ç½®è§„åˆ™æ‰‹å†Œ
ğŸ”¸ ç±»å‹æ£€æŸ¥ï¼šé™æ€åˆ†æä»£ç ï¼Œæå‰å‘ç°æ½œåœ¨é”™è¯¯
ğŸ”¸ å¼€å‘ä¼˜åŠ¿ï¼šæ›´å®‰å…¨ã€æ›´æ™ºèƒ½ã€æ›´æ˜“ç»´æŠ¤çš„ä»£ç 
ğŸ”¸ Babelåä½œï¼šTypeScriptè´Ÿè´£ç±»å‹ï¼ŒBabelè´Ÿè´£å…¼å®¹æ€§
```

### 8.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ TypeScriptçš„æ ¸å¿ƒä»·å€¼**
```
ä¸æ˜¯ä¸ºäº†å¢åŠ å¤æ‚åº¦ï¼Œè€Œæ˜¯ä¸ºäº†ï¼š
- è®©é”™è¯¯åœ¨å†™ä»£ç æ—¶å°±è¢«å‘ç°ï¼Œè€Œä¸æ˜¯ç­‰ç”¨æˆ·ä½¿ç”¨æ—¶
- è®©IDEæ›´èªæ˜ï¼Œæç¤ºæ›´å‡†ç¡®ï¼Œå¼€å‘æ›´é«˜æ•ˆ  
- è®©ä»£ç è‡ªå¸¦æ–‡æ¡£ï¼Œå›¢é˜Ÿåä½œæ›´é¡ºç•…
- è®©é‡æ„æ›´å®‰å…¨ï¼Œå¤§å‹é¡¹ç›®æ›´å¯æ§
```

**ğŸ”¹ é…ç½®çš„æ¸è¿›ç­–ç•¥**
```
æ–°æ‰‹å…¥é—¨ï¼šåŸºç¡€é…ç½® + å®½æ¾ç±»å‹æ£€æŸ¥
ç†Ÿç»ƒå¼€å‘ï¼šæ ‡å‡†é…ç½® + é€‚åº¦ä¸¥æ ¼æ£€æŸ¥  
é¡¹ç›®æˆç†Ÿï¼šå®Œæ•´é…ç½® + æœ€ä¸¥æ ¼æ£€æŸ¥
```

**ğŸ”¹ æ€§èƒ½ä¸è´¨é‡çš„å¹³è¡¡**
```
å¼€å‘ç¯å¢ƒï¼štranspileOnly=trueï¼Œé€Ÿåº¦ä¼˜å…ˆ
ç”Ÿäº§ç¯å¢ƒï¼šå®Œæ•´ç±»å‹æ£€æŸ¥ï¼Œè´¨é‡ä¼˜å…ˆ
CI/CDï¼šå•ç‹¬ç±»å‹æ£€æŸ¥æ­¥éª¤ï¼Œç¡®ä¿ä»£ç è´¨é‡
```

### 8.3 å®é™…åº”ç”¨æŒ‡å¯¼


**ğŸ’¼ é¡¹ç›®é›†æˆç­–ç•¥**
- **æ–°é¡¹ç›®**ï¼šç›´æ¥ä½¿ç”¨TypeScriptï¼Œä»ä¸¥é…ç½®
- **æ—§é¡¹ç›®**ï¼šæ¸è¿›è¿ç§»ï¼Œå…ˆå®½æ¾åä¸¥æ ¼
- **å›¢é˜Ÿé¡¹ç›®**ï¼šç»Ÿä¸€é…ç½®ï¼Œå…±äº«ç±»å‹å®šä¹‰
- **ç»„ä»¶åº“**ï¼šç”Ÿæˆå£°æ˜æ–‡ä»¶ï¼Œæä¾›ç±»å‹æ”¯æŒ

**ğŸ› ï¸ å¼€å‘æœ€ä½³å®è·µ**
- **ç±»å‹å®šä¹‰**ï¼šä¼˜å…ˆä½¿ç”¨interfaceï¼Œé€‚åº¦ä½¿ç”¨type
- **ä¸¥æ ¼æ¨¡å¼**ï¼šé€æ­¥å¯ç”¨ï¼Œä¸è¦ä¸€æ­¥åˆ°ä½
- **é”™è¯¯å¤„ç†**ï¼šé‡è§†ç±»å‹é”™è¯¯ï¼Œä¸è¦éšæ„ä½¿ç”¨any
- **å·¥å…·é…ç½®**ï¼šIDEæ’ä»¶ + ESLint + Prettieré›†æˆ

**âš¡ æ€§èƒ½ä¼˜åŒ–å»ºè®®**
- **å¼€å‘æ—¶**ï¼šä½¿ç”¨transpileOnlyæå‡ç¼–è¯‘é€Ÿåº¦
- **æ„å»ºæ—¶**ï¼šå¯ç”¨ç¼“å­˜ï¼Œä½¿ç”¨å¢é‡ç¼–è¯‘
- **æ£€æŸ¥æ—¶**ï¼šåˆ†ç¦»ç±»å‹æ£€æŸ¥å’Œæ„å»ºè¿‡ç¨‹
- **ç›‘å¬æ—¶**ï¼šä½¿ç”¨æ–‡ä»¶ç³»ç»Ÿç¼“å­˜ä¼˜åŒ–é‡æ–°æ„å»º

### 8.4 å¸¸è§é—®é¢˜è§£å†³


**â“ æ–°æ‰‹å¸¸é‡é—®é¢˜**
```
ç±»å‹é”™è¯¯ä¸çŸ¥é“æ€ä¹ˆä¿®ï¼šä»å…·ä½“é”™è¯¯ä¿¡æ¯å…¥æ‰‹ï¼Œé€æ­¥ç†è§£
é…ç½®å¤ªå¤æ‚ä¸çŸ¥ä»ä½•ä¸‹æ‰‹ï¼šä½¿ç”¨å®˜æ–¹æ¨èé…ç½®ï¼Œé€æ­¥è°ƒæ•´
ç¼–è¯‘é€Ÿåº¦æ…¢ï¼šå¼€å‘ç¯å¢ƒä½¿ç”¨transpileOnlyï¼Œç”Ÿäº§ç¯å¢ƒå®Œæ•´æ£€æŸ¥
ç¬¬ä¸‰æ–¹åº“æ²¡æœ‰ç±»å‹ï¼šå®‰è£…@types/åŒ…æˆ–å£°æ˜ambientæ¨¡å—
```

**ğŸ’¡ è§£å†³æ€è·¯**
```
é‡åˆ°ç±»å‹é”™è¯¯ï¼šç†è§£é”™è¯¯å«ä¹‰ï¼Œä¸è¦æ€¥äºä½¿ç”¨anyç»•è¿‡
é…ç½®ä¸ç”Ÿæ•ˆï¼šæ£€æŸ¥æ–‡ä»¶è·¯å¾„å’Œé…ç½®ä¼˜å…ˆçº§
æ€§èƒ½é—®é¢˜ï¼šåˆ†æç“¶é¢ˆï¼Œé€‰æ‹©åˆé€‚çš„ä¼˜åŒ–ç­–ç•¥
å›¢é˜Ÿè§„èŒƒï¼šç»Ÿä¸€é…ç½®æ–‡ä»¶ï¼Œå»ºç«‹ä»£ç reviewæœºåˆ¶
```

**æ ¸å¿ƒè®°å¿†å£è¯€**ï¼š
```
TypeScriptå°±æ˜¯ä¸¥æ ¼ç‰ˆJavaScriptï¼Œå†™æ—¶æ£€æŸ¥è¿è¡Œæ— ç—•è¿¹
ts-loaderè´Ÿè´£ç¼–è¯‘è½¬æ¢ï¼Œtsconfigæ§åˆ¶æ£€æŸ¥è§„åˆ™
ç±»å‹å®‰å…¨æå‡ä»£ç è´¨é‡ï¼ŒIDEæ™ºèƒ½å¼€å‘æ›´é«˜æ•ˆ
Babelåä½œå¤„ç†å…¼å®¹æ€§ï¼ŒTypeScriptä¸“æ³¨ç±»å‹æ£€æŸ¥äº‹
```