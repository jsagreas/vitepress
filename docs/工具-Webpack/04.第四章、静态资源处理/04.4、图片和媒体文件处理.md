---
title: 4ã€å›¾ç‰‡å’Œåª’ä½“æ–‡ä»¶å¤„ç†
---
## ğŸ“š ç›®å½•

1. [èµ„æºå¤„ç†æ¦‚è¿°](#1-èµ„æºå¤„ç†æ¦‚è¿°)
2. [Asset Modulesè¯¦è§£](#2-Asset-Modulesè¯¦è§£)
3. [å›¾ç‰‡å¤„ç†å®æˆ˜](#3-å›¾ç‰‡å¤„ç†å®æˆ˜)
4. [åª’ä½“æ–‡ä»¶å¤„ç†](#4-åª’ä½“æ–‡ä»¶å¤„ç†)
5. [ä¼˜åŒ–ç­–ç•¥è¯¦è§£](#5-ä¼˜åŒ–ç­–ç•¥è¯¦è§£)
6. [æ–°æ—§æ–¹æ¡ˆå¯¹æ¯”](#6-æ–°æ—§æ–¹æ¡ˆå¯¹æ¯”)
7. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#7-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ¯ èµ„æºå¤„ç†æ¦‚è¿°


### 1.1 ä»€ä¹ˆæ˜¯é™æ€èµ„æºå¤„ç†


**ç®€å•ç†è§£**ï¼š
é™æ€èµ„æºå°±æ˜¯ç½‘é¡µä¸­é‚£äº›ä¸å˜çš„æ–‡ä»¶ï¼Œæ¯”å¦‚å›¾ç‰‡ã€éŸ³é¢‘ã€è§†é¢‘ã€å­—ä½“ç­‰ã€‚Webpackéœ€è¦çŸ¥é“å¦‚ä½•å¤„ç†è¿™äº›æ–‡ä»¶ï¼Œæ˜¯ç›´æ¥å¤åˆ¶åˆ°æ‰“åŒ…ç›®å½•ï¼Œè¿˜æ˜¯è½¬æ¢æˆå…¶ä»–æ ¼å¼ã€‚

```
ç½‘é¡µéœ€è¦çš„æ–‡ä»¶ç±»å‹ï¼š
ğŸ“„ HTMLã€CSSã€JS  â† ä»£ç æ–‡ä»¶ï¼ˆéœ€è¦å¤„ç†ï¼‰
ğŸ–¼ï¸ å›¾ç‰‡ã€è§†é¢‘ã€éŸ³é¢‘ â† é™æ€èµ„æºï¼ˆéœ€è¦å¤„ç†è·¯å¾„å’Œä¼˜åŒ–ï¼‰
ğŸ”¤ å­—ä½“æ–‡ä»¶        â† é™æ€èµ„æºï¼ˆéœ€è¦æ­£ç¡®å¼•ç”¨ï¼‰
```

### 1.2 ä¸ºä»€ä¹ˆéœ€è¦å¤„ç†é™æ€èµ„æº


**æ ¸å¿ƒé—®é¢˜**ï¼š
```
å¼€å‘æ—¶çš„è·¯å¾„ï¼š     ./images/logo.png
æ‰“åŒ…åçš„è·¯å¾„ï¼š     /dist/assets/logo.a8b9c1.png

é—®é¢˜ï¼šè·¯å¾„å˜äº†æ€ä¹ˆåŠï¼Ÿ
è§£å†³ï¼šWebpackå¸®ä½ è‡ªåŠ¨å¤„ç†è·¯å¾„å¼•ç”¨
```

**å®é™…éœ€æ±‚**ï¼š
- **è·¯å¾„é—®é¢˜**ï¼šå¼€å‘å’Œç”Ÿäº§ç¯å¢ƒè·¯å¾„ä¸åŒ
- **æ–‡ä»¶ä¼˜åŒ–**ï¼šå‹ç¼©å›¾ç‰‡å‡å°ä½“ç§¯
- **ç¼“å­˜ä¼˜åŒ–**ï¼šæ–‡ä»¶ååŠ å“ˆå¸Œï¼Œä¾¿äºç¼“å­˜æ›´æ–°
- **åŠ è½½ä¼˜åŒ–**ï¼šå°å›¾ç‰‡è½¬base64ï¼Œå‡å°‘HTTPè¯·æ±‚

---

## 2. âš¡ Asset Modulesè¯¦è§£


### 2.1 ä»€ä¹ˆæ˜¯Asset Modules


**é€šä¿—è§£é‡Š**ï¼š
Asset Modulesæ˜¯Webpack 5æ–°å¢çš„åŠŸèƒ½ï¼Œä¸“é—¨ç”¨æ¥å¤„ç†é™æ€èµ„æºã€‚ä»¥å‰éœ€è¦å®‰è£…é¢å¤–çš„loaderï¼Œç°åœ¨Webpackè‡ªå·±å°±èƒ½å¤„ç†äº†ã€‚

```
ä»¥å‰çš„åšæ³•ï¼ˆWebpack 4ï¼‰ï¼š
éœ€è¦å®‰è£… file-loaderã€url-loader ç­‰æ’ä»¶

ç°åœ¨çš„åšæ³•ï¼ˆWebpack 5ï¼‰ï¼š
ç›´æ¥ä½¿ç”¨å†…ç½®çš„ Asset Modulesï¼Œä¸éœ€è¦é¢å¤–æ’ä»¶
```

### 2.2 å››ç§Assetç±»å‹è¯¦è§£


#### ğŸ”¸ asset/resource - æ–‡ä»¶è¾“å‡ºç±»å‹


**å«ä¹‰**ï¼šæŠŠèµ„æºæ–‡ä»¶å¤åˆ¶åˆ°è¾“å‡ºç›®å½•ï¼Œè¿”å›æ–‡ä»¶è·¯å¾„

```javascript
// webpack.config.js
module.exports = {
  module: {
    rules: [
      {
        test: /\.(png|jpg|jpeg|gif)$/,
        type: 'asset/resource',
        generator: {
          filename: 'images/[name].[hash][ext]'
        }
      }
    ]
  }
}
```

**å®é™…æ•ˆæœ**ï¼š
```
è¾“å…¥ï¼šsrc/logo.png
è¾“å‡ºï¼šdist/images/logo.a8b9c1.png
ä»£ç ä¸­ï¼šimport logo from './logo.png' 
ç»“æœï¼šlogo = '/images/logo.a8b9c1.png'
```

#### ğŸ”¸ asset/inline - å†…è”ç±»å‹


**å«ä¹‰**ï¼šæŠŠå°æ–‡ä»¶è½¬æ¢æˆbase64å­—ç¬¦ä¸²ï¼Œç›´æ¥åµŒå…¥åˆ°ä»£ç ä¸­

```javascript
{
  test: /\.svg$/,
  type: 'asset/inline'
}
```

**å®é™…æ•ˆæœ**ï¼š
```
è¾“å…¥ï¼šicon.svg (å°å›¾æ ‡)
è¾“å‡ºï¼šdata:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQi...
ä¼˜ç‚¹ï¼šå‡å°‘HTTPè¯·æ±‚
ç¼ºç‚¹ï¼šå¢åŠ æ–‡ä»¶å¤§å°
```

#### ğŸ”¸ asset - è‡ªåŠ¨é€‰æ‹©ç±»å‹


**å«ä¹‰**ï¼šWebpackæ ¹æ®æ–‡ä»¶å¤§å°è‡ªåŠ¨å†³å®šæ˜¯è¾“å‡ºæ–‡ä»¶è¿˜æ˜¯å†…è”

```javascript
{
  test: /\.(png|jpg|jpeg|gif|svg)$/,
  type: 'asset',
  parser: {
    dataUrlCondition: {
      maxSize: 8 * 1024 // 8KBä»¥ä¸‹å†…è”ï¼Œä»¥ä¸Šè¾“å‡ºæ–‡ä»¶
    }
  }
}
```

**æ™ºèƒ½åˆ¤æ–­**ï¼š
```
æ–‡ä»¶å¤§å° â‰¤ 8KB  â†’ è½¬base64å†…è”ï¼ˆç±»ä¼¼asset/inlineï¼‰
æ–‡ä»¶å¤§å° > 8KB  â†’ è¾“å‡ºæ–‡ä»¶ï¼ˆç±»ä¼¼asset/resourceï¼‰
```

#### ğŸ”¸ asset/source - æºç ç±»å‹


**å«ä¹‰**ï¼šç›´æ¥å¯¼å…¥æ–‡ä»¶å†…å®¹ä½œä¸ºå­—ç¬¦ä¸²ï¼ˆè¾ƒå°‘ä½¿ç”¨ï¼‰

```javascript
{
  test: /\.txt$/,
  type: 'asset/source'
}
```

### 2.3 Asset Modulesé…ç½®è¯¦è§£


**å®Œæ•´é…ç½®ç¤ºä¾‹**ï¼š
```javascript
module.exports = {
  module: {
    rules: [
      {
        test: /\.(png|jpg|jpeg|gif)$/,
        type: 'asset',
        parser: {
          dataUrlCondition: {
            maxSize: 10 * 1024 // 10KBé˜ˆå€¼
          }
        },
        generator: {
          filename: 'images/[name].[contenthash:8][ext]'
        }
      }
    ]
  }
}
```

**é…ç½®è¯´æ˜**ï¼š
- **`maxSize`**ï¼šå†³å®šå†…è”è¿˜æ˜¯è¾“å‡ºçš„æ–‡ä»¶å¤§å°é˜ˆå€¼
- **`filename`**ï¼šè¾“å‡ºæ–‡ä»¶çš„å‘½åè§„åˆ™
- **`[contenthash:8]`**ï¼šæ ¹æ®æ–‡ä»¶å†…å®¹ç”Ÿæˆ8ä½å“ˆå¸Œå€¼

---

## 3. ğŸ–¼ï¸ å›¾ç‰‡å¤„ç†å®æˆ˜


### 3.1 åŸºç¡€å›¾ç‰‡å¤„ç†é…ç½®


```javascript
// webpack.config.js
module.exports = {
  module: {
    rules: [
      {
        test: /\.(png|jpg|jpeg|gif|webp)$/,
        type: 'asset',
        parser: {
          dataUrlCondition: {
            maxSize: 8 * 1024 // 8KB
          }
        },
        generator: {
          filename: 'assets/images/[name].[contenthash:8][ext]'
        }
      }
    ]
  }
}
```

### 3.2 ä¸åŒå›¾ç‰‡æ ¼å¼çš„å¤„ç†ç­–ç•¥


| å›¾ç‰‡ç±»å‹ | **é€‚ç”¨åœºæ™¯** | **å¤„ç†å»ºè®®** | **é˜ˆå€¼è®¾ç½®** |
|---------|------------|-------------|-------------|
| **PNG** | `é€æ˜èƒŒæ™¯å›¾ç‰‡` | `å°å›¾æ ‡å†…è”ï¼Œå¤§å›¾è¾“å‡º` | `4-8KB` |
| **JPG** | `ç…§ç‰‡ã€å¤æ‚å›¾åƒ` | `é€šå¸¸è¾“å‡ºæ–‡ä»¶` | `10-20KB` |
| **SVG** | `çŸ¢é‡å›¾æ ‡` | `å°SVGå†…è”` | `2-4KB` |
| **WebP** | `ç°ä»£æ ¼å¼å›¾ç‰‡` | `ä¼˜å…ˆä½¿ç”¨ï¼Œè¾“å‡ºæ–‡ä»¶` | `8-15KB` |

### 3.3 å›¾ç‰‡åœ¨ä»£ç ä¸­çš„ä½¿ç”¨æ–¹å¼


**JavaScriptä¸­ä½¿ç”¨**ï¼š
```javascript
// å¯¼å…¥å›¾ç‰‡
import logo from './assets/logo.png'
import smallIcon from './assets/icon.svg' // å¯èƒ½è¢«å†…è”

// ä½¿ç”¨å›¾ç‰‡
const img = document.createElement('img')
img.src = logo // è‡ªåŠ¨å¤„ç†è·¯å¾„
document.body.appendChild(img)
```

**CSSä¸­ä½¿ç”¨**ï¼š
```css
.hero {
  background-image: url('./images/hero.jpg');
  /* Webpackä¼šè‡ªåŠ¨å¤„ç†è¿™ä¸ªè·¯å¾„ */
}

.icon {
  background-image: url('./icons/star.svg');
  /* å°å›¾æ ‡å¯èƒ½è¢«è½¬ä¸ºbase64 */
}
```

**HTMLä¸­ä½¿ç”¨**ï¼š
```html
<!-- éœ€è¦é€šè¿‡æ¨¡æ¿å¼•æ“æˆ–JSåŠ¨æ€è®¾ç½® -->
<img src="<%= require('./logo.png') %>" alt="Logo">
```

### 3.4 å›¾ç‰‡è·¯å¾„è§£æè§„åˆ™


**è·¯å¾„è§£æç¤ºä¾‹**ï¼š
```
å¼€å‘ç¯å¢ƒæ–‡ä»¶ç»“æ„ï¼š
src/
  â”œâ”€â”€ images/
  â”‚   â”œâ”€â”€ logo.png
  â”‚   â””â”€â”€ hero.jpg
  â””â”€â”€ components/
      â””â”€â”€ Header.js

æ‰“åŒ…åç»“æ„ï¼š
dist/
  â”œâ”€â”€ assets/
  â”‚   â””â”€â”€ images/
  â”‚       â”œâ”€â”€ logo.a8b9c1d2.png
  â”‚       â””â”€â”€ hero.f3e4d5c6.jpg
  â””â”€â”€ index.html
```

---

## 4. ğŸµ åª’ä½“æ–‡ä»¶å¤„ç†


### 4.1 éŸ³é¢‘æ–‡ä»¶å¤„ç†


```javascript
{
  test: /\.(mp3|wav|ogg|aac)$/,
  type: 'asset/resource',
  generator: {
    filename: 'assets/audio/[name].[contenthash:8][ext]'
  }
}
```

**ä½¿ç”¨ç¤ºä¾‹**ï¼š
```javascript
import backgroundMusic from './audio/bg-music.mp3'

const audio = new Audio(backgroundMusic)
audio.play()
```

### 4.2 è§†é¢‘æ–‡ä»¶å¤„ç†


```javascript
{
  test: /\.(mp4|webm|ogg|avi)$/,
  type: 'asset/resource',
  generator: {
    filename: 'assets/video/[name].[contenthash:8][ext]'
  }
}
```

**ä½¿ç”¨ç¤ºä¾‹**ï¼š
```javascript
import introVideo from './video/intro.mp4'

const video = document.querySelector('video')
video.src = introVideo
```

### 4.3 å­—ä½“æ–‡ä»¶å¤„ç†


```javascript
{
  test: /\.(woff|woff2|eot|ttf|otf)$/,
  type: 'asset/resource',
  generator: {
    filename: 'assets/fonts/[name].[contenthash:8][ext]'
  }
}
```

**CSSä¸­ä½¿ç”¨**ï¼š
```css
@font-face {
  font-family: 'MyFont';
  src: url('./fonts/my-font.woff2') format('woff2'),
       url('./fonts/my-font.woff') format('woff');
}

.custom-text {
  font-family: 'MyFont', sans-serif;
}
```

---

## 5. ğŸš€ ä¼˜åŒ–ç­–ç•¥è¯¦è§£


### 5.1 æ–‡ä»¶å¤§å°é˜ˆå€¼ä¼˜åŒ–


**é˜ˆå€¼è®¾ç½®åŸåˆ™**ï¼š
```javascript
// æ ¹æ®æ–‡ä»¶ç±»å‹è®¾ç½®ä¸åŒé˜ˆå€¼
module.exports = {
  module: {
    rules: [
      // å°å›¾æ ‡ - è¾ƒå°é˜ˆå€¼
      {
        test: /\.svg$/,
        type: 'asset',
        parser: {
          dataUrlCondition: {
            maxSize: 4 * 1024 // 4KB
          }
        }
      },
      // æ™®é€šå›¾ç‰‡ - é€‚ä¸­é˜ˆå€¼
      {
        test: /\.(png|jpg|jpeg)$/,
        type: 'asset',
        parser: {
          dataUrlCondition: {
            maxSize: 8 * 1024 // 8KB
          }
        }
      }
    ]
  }
}
```

**é˜ˆå€¼é€‰æ‹©å»ºè®®**ï¼š
```
å›¾æ ‡ç±»æ–‡ä»¶ï¼š    2-4KB  ï¼ˆé€šå¸¸å¾ˆå°ï¼Œé€‚åˆå†…è”ï¼‰
æ™®é€šå›¾ç‰‡ï¼š      8-12KB ï¼ˆå¹³è¡¡è¯·æ±‚æ•°å’Œæ–‡ä»¶å¤§å°ï¼‰
é«˜è´¨é‡å›¾ç‰‡ï¼š    15-20KBï¼ˆé€šå¸¸è¾ƒå¤§ï¼Œé¿å…å†…è”ï¼‰
```

### 5.2 å›¾ç‰‡å‹ç¼©å’Œä¼˜åŒ–


**å¼€å‘ç¯å¢ƒé…ç½®**ï¼š
```javascript
// å¼€å‘ç¯å¢ƒ - ä¸å‹ç¼©ï¼Œå¿«é€Ÿæ„å»º
{
  test: /\.(png|jpg|jpeg|gif)$/,
  type: 'asset',
  parser: {
    dataUrlCondition: {
      maxSize: 8 * 1024
    }
  }
}
```

**ç”Ÿäº§ç¯å¢ƒé…ç½®**ï¼š
```javascript
// ç”Ÿäº§ç¯å¢ƒ - æ·»åŠ å›¾ç‰‡å‹ç¼©
const ImageMinimizerPlugin = require('image-minimizer-webpack-plugin')

module.exports = {
  optimization: {
    minimizer: [
      new ImageMinimizerPlugin({
        minimizer: {
          implementation: ImageMinimizerPlugin.imageminMinify,
          options: {
            plugins: [
              ['imagemin-pngquant', { quality: [0.6, 0.8] }],
              ['imagemin-mozjpeg', { quality: 80 }]
            ]
          }
        }
      })
    ]
  }
}
```

### 5.3 å“åº”å¼å›¾ç‰‡æ–¹æ¡ˆ


**å¤šå°ºå¯¸å›¾ç‰‡å¤„ç†**ï¼š
```javascript
// ç”Ÿæˆå¤šä¸ªå°ºå¯¸çš„å›¾ç‰‡
const ResponsiveLoaderPlugin = require('responsive-loader/webpack')

{
  test: /\.(png|jpg)$/,
  use: {
    loader: 'responsive-loader',
    options: {
      adapter: ResponsiveLoaderPlugin.adapter,
      sizes: [300, 600, 1200, 1800],
      placeholder: true,
      placeholderSize: 50
    }
  }
}
```

---

## 6. ğŸ”„ æ–°æ—§æ–¹æ¡ˆå¯¹æ¯”


### 6.1 å†å²æ¼”è¿›å¯¹æ¯”


| æ–¹æ¡ˆå¯¹æ¯” | **Webpack 4åŠä»¥å‰** | **Webpack 5 Asset Modules** |
|---------|-------------------|----------------------------|
| **ä¾èµ–** | `éœ€è¦å®‰è£…file-loaderã€url-loader` | `å†…ç½®æ”¯æŒï¼Œæ— éœ€é¢å¤–å®‰è£…` |
| **é…ç½®** | `å¤æ‚çš„loaderé…ç½®` | `ç®€æ´çš„typeé…ç½®` |
| **åŠŸèƒ½** | `åŠŸèƒ½åˆ†æ•£åœ¨ä¸åŒloader` | `ç»Ÿä¸€çš„assetå¤„ç†` |
| **æ€§èƒ½** | `å¤šä¸ªloaderå¤„ç†é“¾` | `åŸç”Ÿæ”¯æŒï¼Œæ€§èƒ½æ›´å¥½` |

### 6.2 é…ç½®å¯¹æ¯”ç¤ºä¾‹


**æ—§æ–¹æ¡ˆï¼ˆWebpack 4ï¼‰**ï¼š
```javascript
// éœ€è¦å®‰è£… file-loader å’Œ url-loader
module.exports = {
  module: {
    rules: [
      {
        test: /\.(png|jpg|jpeg|gif)$/,
        use: [
          {
            loader: 'url-loader',
            options: {
              limit: 8192,
              name: 'images/[name].[hash].[ext]',
              fallback: 'file-loader'
            }
          }
        ]
      }
    ]
  }
}
```

**æ–°æ–¹æ¡ˆï¼ˆWebpack 5ï¼‰**ï¼š
```javascript
// æ— éœ€å®‰è£…é¢å¤–ä¾èµ–
module.exports = {
  module: {
    rules: [
      {
        test: /\.(png|jpg|jpeg|gif)$/,
        type: 'asset',
        parser: {
          dataUrlCondition: {
            maxSize: 8 * 1024
          }
        },
        generator: {
          filename: 'images/[name].[contenthash][ext]'
        }
      }
    ]
  }
}
```

### 6.3 è¿ç§»æŒ‡å—


**ä»file-loaderè¿ç§»**ï¼š
```javascript
// æ—§é…ç½®
{
  test: /\.(png|jpg|gif)$/,
  use: 'file-loader'
}

// æ–°é…ç½®
{
  test: /\.(png|jpg|gif)$/,
  type: 'asset/resource'
}
```

**ä»url-loaderè¿ç§»**ï¼š
```javascript
// æ—§é…ç½®
{
  test: /\.(png|jpg|gif)$/,
  use: {
    loader: 'url-loader',
    options: {
      limit: 8192
    }
  }
}

// æ–°é…ç½®
{
  test: /\.(png|jpg|gif)$/,
  type: 'asset',
  parser: {
    dataUrlCondition: {
      maxSize: 8 * 1024
    }
  }
}
```

---

## 7. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 7.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ Asset Modulesï¼šWebpack 5å†…ç½®çš„èµ„æºå¤„ç†åŠŸèƒ½
ğŸ”¸ å››ç§ç±»å‹ï¼šasset/resourceã€asset/inlineã€assetã€asset/source
ğŸ”¸ æ™ºèƒ½é€‰æ‹©ï¼šæ ¹æ®æ–‡ä»¶å¤§å°è‡ªåŠ¨å†³å®šå†…è”è¿˜æ˜¯è¾“å‡º
ğŸ”¸ è·¯å¾„å¤„ç†ï¼šè‡ªåŠ¨å¤„ç†å¼€å‘å’Œç”Ÿäº§ç¯å¢ƒçš„è·¯å¾„å·®å¼‚
ğŸ”¸ æ–‡ä»¶å‘½åï¼šæ”¯æŒå“ˆå¸Œå€¼ï¼Œä¾¿äºç¼“å­˜ç®¡ç†
```

### 7.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ ä»€ä¹ˆæ—¶å€™ç”¨å†…è”ï¼Œä»€ä¹ˆæ—¶å€™è¾“å‡ºæ–‡ä»¶**
```
å†…è”é€‚åˆï¼š
- å°å›¾æ ‡ï¼ˆ< 4KBï¼‰
- ç®€å•SVGå›¾æ ‡
- å‡å°‘HTTPè¯·æ±‚

è¾“å‡ºæ–‡ä»¶é€‚åˆï¼š
- å¤§å›¾ç‰‡ï¼ˆ> 8KBï¼‰
- ç…§ç‰‡ã€å¤æ‚å›¾åƒ
- ä¾¿äºç¼“å­˜ç®¡ç†
```

**ğŸ”¹ é˜ˆå€¼è®¾ç½®çš„è€ƒè™‘å› ç´ **
```
è®¾ç½®åŸåˆ™ï¼š
- å¤ªå°ï¼šå¾ˆå¤šæ–‡ä»¶è¾“å‡ºï¼Œå¢åŠ è¯·æ±‚æ•°
- å¤ªå¤§ï¼šCSS/JSæ–‡ä»¶è¿‡å¤§ï¼Œå½±å“é¦–å±åŠ è½½
- å»ºè®®ï¼š4-12KBä¹‹é—´ï¼Œæ ¹æ®é¡¹ç›®è°ƒæ•´
```

**ğŸ”¹ æ–‡ä»¶åå“ˆå¸Œçš„ä½œç”¨**
```
[contenthash]çš„å¥½å¤„ï¼š
- æ–‡ä»¶å†…å®¹å˜åŒ–æ—¶ï¼Œå“ˆå¸Œå€¼å˜åŒ–
- æµè§ˆå™¨ç¼“å­˜è‡ªåŠ¨æ›´æ–°
- æ–‡ä»¶å†…å®¹ä¸å˜æ—¶ï¼Œå“ˆå¸Œä¸å˜ï¼Œåˆ©ç”¨ç¼“å­˜
```

### 7.3 å®é™…åº”ç”¨æŒ‡å¯¼


**æœ€ä½³å®è·µé…ç½®**ï¼š
```javascript
module.exports = {
  module: {
    rules: [
      // å›¾ç‰‡å¤„ç†
      {
        test: /\.(png|jpg|jpeg|gif|webp)$/,
        type: 'asset',
        parser: {
          dataUrlCondition: {
            maxSize: 8 * 1024
          }
        },
        generator: {
          filename: 'assets/images/[name].[contenthash:8][ext]'
        }
      },
      // SVGå›¾æ ‡
      {
        test: /\.svg$/,
        type: 'asset',
        parser: {
          dataUrlCondition: {
            maxSize: 4 * 1024
          }
        }
      },
      // å­—ä½“æ–‡ä»¶
      {
        test: /\.(woff|woff2|eot|ttf|otf)$/,
        type: 'asset/resource',
        generator: {
          filename: 'assets/fonts/[name].[contenthash:8][ext]'
        }
      }
    ]
  }
}
```

**å¸¸è§é—®é¢˜è§£å†³**ï¼š
- **è·¯å¾„é—®é¢˜**ï¼šç¡®ä¿publicPathé…ç½®æ­£ç¡®
- **ç¼“å­˜é—®é¢˜**ï¼šä½¿ç”¨contenthashè€Œä¸æ˜¯hash
- **å¤§å°é—®é¢˜**ï¼šåˆç†è®¾ç½®maxSizeé˜ˆå€¼
- **æ ¼å¼é—®é¢˜**ï¼šä¼˜å…ˆä½¿ç”¨ç°ä»£å›¾ç‰‡æ ¼å¼ï¼ˆWebPï¼‰

**æ ¸å¿ƒè®°å¿†**ï¼š
- Asset Modulesæ˜¯Webpack 5çš„æ–°ç‰¹æ€§ï¼Œæ›¿ä»£äº†file-loaderå’Œurl-loader
- å°æ–‡ä»¶å†…è”å‡å°‘è¯·æ±‚ï¼Œå¤§æ–‡ä»¶è¾“å‡ºä¾¿äºç¼“å­˜
- åˆç†è®¾ç½®é˜ˆå€¼æ˜¯å…³é”®ï¼Œä¸€èˆ¬8KBå·¦å³æ¯”è¾ƒåˆé€‚
- æ–‡ä»¶ååŠ å“ˆå¸Œå€¼ï¼Œä¾¿äºç¼“å­˜ç®¡ç†å’Œæ›´æ–°