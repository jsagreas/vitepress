---
title: 5ã€å¤šé¡µé¢æ‰“åŒ…å®æˆ˜æ–¹æ¡ˆ
---
## ğŸ“š ç›®å½•

1. [å¤šé¡µé¢åº”ç”¨æ¦‚å¿µç†è§£](#1-å¤šé¡µé¢åº”ç”¨æ¦‚å¿µç†è§£)
2. [Entryå¤šå…¥å£é…ç½®è¯¦è§£](#2-Entryå¤šå…¥å£é…ç½®è¯¦è§£)
3. [HtmlWebpackPluginå¤šå®ä¾‹é…ç½®](#3-HtmlWebpackPluginå¤šå®ä¾‹é…ç½®)
4. [ç›®å½•ç»“æ„æœ€ä½³è®¾è®¡](#4-ç›®å½•ç»“æ„æœ€ä½³è®¾è®¡)
5. [é¡µé¢é—´èµ„æºå…±äº«æ–¹æ¡ˆ](#5-é¡µé¢é—´èµ„æºå…±äº«æ–¹æ¡ˆ)
6. [å®Œæ•´å®æˆ˜é…ç½®æ¡ˆä¾‹](#6-å®Œæ•´å®æˆ˜é…ç½®æ¡ˆä¾‹)
7. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#7-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸŒ å¤šé¡µé¢åº”ç”¨æ¦‚å¿µç†è§£


### 1.1 ä»€ä¹ˆæ˜¯å¤šé¡µé¢åº”ç”¨


**é€šä¿—ç†è§£**ï¼šå¤šé¡µé¢åº”ç”¨å°±åƒä¸€ä¸ªæœ‰å¾ˆå¤šæˆ¿é—´çš„æˆ¿å­ï¼Œæ¯ä¸ªæˆ¿é—´ï¼ˆé¡µé¢ï¼‰éƒ½æ˜¯ç‹¬ç«‹çš„ï¼Œæœ‰è‡ªå·±çš„é—¨ï¼ˆå…¥å£ï¼‰å’Œè£…ä¿®ï¼ˆæ ·å¼ã€åŠŸèƒ½ï¼‰ã€‚

```
ä¼ ç»Ÿç½‘ç«™ç»“æ„ï¼š
www.shop.com/
â”œâ”€â”€ index.html     â† é¦–é¡µ
â”œâ”€â”€ login.html     â† ç™»å½•é¡µ
â”œâ”€â”€ admin.html     â† ç®¡ç†é¡µ
â””â”€â”€ product.html   â† å•†å“é¡µ

æ¯ä¸ªé¡µé¢éƒ½æ˜¯ç‹¬ç«‹çš„å®Œæ•´é¡µé¢
ç”¨æˆ·é€šè¿‡ä¸åŒURLè®¿é—®ä¸åŒé¡µé¢
```

### 1.2 å¤šé¡µé¢ vs å•é¡µé¢åº”ç”¨


| ç‰¹å¾å¯¹æ¯” | **å¤šé¡µé¢åº”ç”¨ï¼ˆMPAï¼‰** | **å•é¡µé¢åº”ç”¨ï¼ˆSPAï¼‰** |
|---------|---------------------|---------------------|
| ğŸŒ **é¡µé¢æ•°é‡** | `å¤šä¸ªç‹¬ç«‹HTMLé¡µé¢` | `ä¸€ä¸ªHTMLé¡µé¢` |
| ğŸ”„ **é¡µé¢è·³è½¬** | `æµè§ˆå™¨é‡æ–°åŠ è½½` | `JavaScriptè·¯ç”±åˆ‡æ¢` |
| ğŸ¯ **é€‚ç”¨åœºæ™¯** | `ä¼ä¸šå®˜ç½‘ã€ç”µå•†ã€åå°ç®¡ç†` | `ç§»åŠ¨APPã€å®æ—¶åº”ç”¨` |
| âš¡ **é¦–æ¬¡åŠ è½½** | `å¿«é€Ÿï¼ŒåªåŠ è½½å½“å‰é¡µé¢` | `æ…¢ï¼Œéœ€åŠ è½½æ•´ä¸ªåº”ç”¨` |

### 1.3 å¤šé¡µé¢åº”ç”¨çš„å…¸å‹åœºæ™¯


**ğŸ¢ ä¼ä¸šåå°ç®¡ç†ç³»ç»Ÿ**
```
åå°ç³»ç»Ÿå¸¸è§é¡µé¢ï¼š
â”œâ”€â”€ ç™»å½•é¡µé¢     â† login.html
â”œâ”€â”€ ä¸»æ§é¢æ¿     â† dashboard.html  
â”œâ”€â”€ ç”¨æˆ·ç®¡ç†     â† users.html
â”œâ”€â”€ è®¢å•ç®¡ç†     â† orders.html
â””â”€â”€ ç³»ç»Ÿè®¾ç½®     â† settings.html

æ¯ä¸ªé¡µé¢åŠŸèƒ½ç‹¬ç«‹ï¼Œç”¨æˆ·æŒ‰éœ€è®¿é—®
```

**ğŸ›’ ç”µå•†è´­ç‰©å¹³å°**
```
ç”µå•†ç½‘ç«™é¡µé¢ç»“æ„ï¼š
â”œâ”€â”€ é¦–é¡µ         â† index.html
â”œâ”€â”€ å•†å“åˆ—è¡¨     â† products.html
â”œâ”€â”€ å•†å“è¯¦æƒ…     â† detail.html
â”œâ”€â”€ è´­ç‰©è½¦       â† cart.html
â””â”€â”€ ç”¨æˆ·ä¸­å¿ƒ     â† profile.html

SEOå‹å¥½ï¼Œæœç´¢å¼•æ“å®¹æ˜“æ”¶å½•
```

---

## 2. ğŸ”§ Entryå¤šå…¥å£é…ç½®è¯¦è§£


### 2.1 Entryé…ç½®åŸºæœ¬åŸç†


**æ ¸å¿ƒæ¦‚å¿µ**ï¼š`entry`å°±åƒæ˜¯å‘Šè¯‰webpack"ä»å“ªå‡ ä¸ªé—¨è¿›å…¥æ‰“åŒ…è¿™ä¸ªæˆ¿å­"ã€‚

```javascript
// å•å…¥å£é…ç½®ï¼ˆå•é¡µé¢åº”ç”¨ï¼‰
module.exports = {
  entry: './src/main.js'  // åªæœ‰ä¸€ä¸ªå…¥å£
}

// å¤šå…¥å£é…ç½®ï¼ˆå¤šé¡µé¢åº”ç”¨ï¼‰ 
module.exports = {
  entry: {
    home: './src/pages/home/main.js',      // é¦–é¡µå…¥å£
    login: './src/pages/login/main.js',    // ç™»å½•é¡µå…¥å£
    admin: './src/pages/admin/main.js'     // ç®¡ç†é¡µå…¥å£
  }
}
```

### 2.2 Entryå¤šå…¥å£é…ç½®æ–¹æ³•


**ğŸ¯ å¯¹è±¡å½¢å¼é…ç½®**ï¼ˆæ¨èæ–¹å¼ï¼‰
```javascript
module.exports = {
  entry: {
    // é¡µé¢åç§°: å…¥å£æ–‡ä»¶è·¯å¾„
    index: './src/pages/index/main.js',
    login: './src/pages/login/main.js', 
    dashboard: './src/pages/dashboard/main.js',
    products: './src/pages/products/main.js'
  }
}
```

**ğŸ’¡ é…ç½®è§£é‡Š**ï¼š
- `index`ã€`login`ç­‰æ˜¯**é¡µé¢åç§°**ï¼Œä¹Ÿæ˜¯æœ€ç»ˆç”Ÿæˆçš„JSæ–‡ä»¶å
- `./src/pages/index/main.js`æ˜¯è¯¥é¡µé¢çš„**å…¥å£æ–‡ä»¶è·¯å¾„**
- webpackä¼šä¸ºæ¯ä¸ªå…¥å£ç”Ÿæˆç‹¬ç«‹çš„æ‰“åŒ…æ–‡ä»¶

### 2.3 åŠ¨æ€ç”ŸæˆEntryé…ç½®


**é—®é¢˜**ï¼šé¡µé¢å¾ˆå¤šæ—¶ï¼Œæ‰‹åŠ¨å†™entryé…ç½®å¤ªéº»çƒ¦

**è§£å†³æ–¹æ¡ˆ**ï¼šç”¨ä»£ç è‡ªåŠ¨ç”Ÿæˆentryé…ç½®
```javascript
const path = require('path');
const fs = require('fs');

// è‡ªåŠ¨æ‰«æpagesç›®å½•ï¼Œç”Ÿæˆentryé…ç½®
function getEntries() {
  const entries = {};
  const pagesDir = path.resolve(__dirname, 'src/pages');
  
  // è¯»å–pagesç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶å¤¹
  const pagesDirs = fs.readdirSync(pagesDir);
  
  pagesDirs.forEach(dir => {
    const entryFile = path.join(pagesDir, dir, 'main.js');
    if (fs.existsSync(entryFile)) {
      entries[dir] = entryFile;  // æ–‡ä»¶å¤¹åä½œä¸ºé¡µé¢å
    }
  });
  
  return entries;
}

module.exports = {
  entry: getEntries()  // è‡ªåŠ¨ç”Ÿæˆçš„entryé…ç½®
}
```

---

## 3. ğŸ  HtmlWebpackPluginå¤šå®ä¾‹é…ç½®


### 3.1 HtmlWebpackPluginçš„ä½œç”¨


**é€šä¿—ç†è§£**ï¼šHtmlWebpackPluginå°±åƒæ˜¯"æˆ¿å±‹è£…ä¿®å·¥"ï¼Œä¸ºæ¯ä¸ªé¡µé¢ç”Ÿæˆå¯¹åº”çš„HTMLæ–‡ä»¶ï¼Œå¹¶è‡ªåŠ¨æŠŠæ‰“åŒ…å¥½çš„JSã€CSSæ–‡ä»¶å¼•å…¥è¿›å»ã€‚

```
æ²¡æœ‰HtmlWebpackPluginï¼š
ğŸ“‚ dist/
â”œâ”€â”€ index.js      â† webpackæ‰“åŒ…ç”Ÿæˆ
â”œâ”€â”€ login.js      â† webpackæ‰“åŒ…ç”Ÿæˆ  
â””â”€â”€ âŒ æ²¡æœ‰HTMLæ–‡ä»¶ï¼Œæ— æ³•åœ¨æµè§ˆå™¨ä¸­è®¿é—®

ä½¿ç”¨HtmlWebpackPluginï¼š
ğŸ“‚ dist/
â”œâ”€â”€ index.html    â† è‡ªåŠ¨ç”Ÿæˆï¼Œå·²å¼•å…¥index.js
â”œâ”€â”€ index.js      
â”œâ”€â”€ login.html    â† è‡ªåŠ¨ç”Ÿæˆï¼Œå·²å¼•å…¥login.js
â””â”€â”€ login.js
```

### 3.2 å¤šå®ä¾‹åŸºæœ¬é…ç½®


**æ ¸å¿ƒæ–¹æ³•**ï¼šä¸ºæ¯ä¸ªé¡µé¢åˆ›å»ºä¸€ä¸ªHtmlWebpackPluginå®ä¾‹

```javascript
const HtmlWebpackPlugin = require('html-webpack-plugin');

module.exports = {
  entry: {
    index: './src/pages/index/main.js',
    login: './src/pages/login/main.js',
    admin: './src/pages/admin/main.js'
  },
  
  plugins: [
    // é¦–é¡µHTMLç”Ÿæˆ
    new HtmlWebpackPlugin({
      filename: 'index.html',           // ç”Ÿæˆçš„HTMLæ–‡ä»¶å
      template: './src/pages/index/index.html',  // HTMLæ¨¡æ¿
      chunks: ['index']                 // åªå¼•å…¥index.js
    }),
    
    // ç™»å½•é¡µHTMLç”Ÿæˆ  
    new HtmlWebpackPlugin({
      filename: 'login.html',
      template: './src/pages/login/login.html', 
      chunks: ['login']                 // åªå¼•å…¥login.js
    }),
    
    // ç®¡ç†é¡µHTMLç”Ÿæˆ
    new HtmlWebpackPlugin({
      filename: 'admin.html',
      template: './src/pages/admin/admin.html',
      chunks: ['admin']                 // åªå¼•å…¥admin.js
    })
  ]
}
```

### 3.3 HtmlWebpackPluginå…³é”®å‚æ•°è¯¦è§£


| å‚æ•°å | **ä½œç”¨è¯´æ˜** | **ç¤ºä¾‹å€¼** |
|-------|-------------|-----------|
| `filename` | `ç”Ÿæˆçš„HTMLæ–‡ä»¶å` | `'index.html'` |
| `template` | `HTMLæ¨¡æ¿æ–‡ä»¶è·¯å¾„` | `'./src/pages/index/index.html'` |
| `chunks` | `è¦å¼•å…¥çš„JSæ–‡ä»¶ï¼ˆå¯¹åº”entryåï¼‰` | `['index', 'common']` |
| `title` | `HTMLé¡µé¢æ ‡é¢˜` | `'é¦–é¡µ - æˆ‘çš„ç½‘ç«™'` |
| `inject` | `JS/CSSæ³¨å…¥ä½ç½®` | `'body'`ï¼ˆåº•éƒ¨æ³¨å…¥ï¼‰ |

### 3.4 æ‰¹é‡ç”ŸæˆHtmlWebpackPluginé…ç½®


```javascript
// é¡µé¢é…ç½®æ•°æ®
const pages = [
  { name: 'index', title: 'é¦–é¡µ' },
  { name: 'login', title: 'ç™»å½•' }, 
  { name: 'admin', title: 'ç®¡ç†åå°' },
  { name: 'products', title: 'å•†å“åˆ—è¡¨' }
];

// æ‰¹é‡ç”ŸæˆHtmlWebpackPluginå®ä¾‹
const htmlPlugins = pages.map(page => {
  return new HtmlWebpackPlugin({
    filename: `${page.name}.html`,
    template: `./src/pages/${page.name}/index.html`,
    chunks: [page.name],
    title: page.title
  });
});

module.exports = {
  plugins: [
    ...htmlPlugins,  // å±•å¼€æ‰€æœ‰HTMLæ’ä»¶å®ä¾‹
    // å…¶ä»–æ’ä»¶...
  ]
}
```

---

## 4. ğŸ“ ç›®å½•ç»“æ„æœ€ä½³è®¾è®¡


### 4.1 æ¨èçš„é¡¹ç›®ç›®å½•ç»“æ„


```
my-multipage-app/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ pages/                    â† é¡µé¢ç›®å½•
â”‚   â”‚   â”œâ”€â”€ index/               â† é¦–é¡µ
â”‚   â”‚   â”‚   â”œâ”€â”€ index.html       â† HTMLæ¨¡æ¿
â”‚   â”‚   â”‚   â”œâ”€â”€ main.js          â† å…¥å£JSæ–‡ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ style.css        â† é¡µé¢æ ·å¼
â”‚   â”‚   â”‚   â””â”€â”€ components/      â† é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ login/               â† ç™»å½•é¡µ
â”‚   â”‚   â”‚   â”œâ”€â”€ index.html
â”‚   â”‚   â”‚   â”œâ”€â”€ main.js
â”‚   â”‚   â”‚   â””â”€â”€ style.css
â”‚   â”‚   â””â”€â”€ admin/               â† ç®¡ç†é¡µ
â”‚   â”‚       â”œâ”€â”€ index.html
â”‚   â”‚       â”œâ”€â”€ main.js
â”‚   â”‚       â””â”€â”€ style.css
â”‚   â”œâ”€â”€ shared/                   â† å…±äº«èµ„æº
â”‚   â”‚   â”œâ”€â”€ components/          â† å…¬å…±ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ utils/               â† å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ styles/              â† å…¬å…±æ ·å¼
â”‚   â”‚   â””â”€â”€ assets/              â† é™æ€èµ„æº
â”‚   â””â”€â”€ common/                   â† å…¬å…±å…¥å£
â”‚       â””â”€â”€ vendor.js            â† ç¬¬ä¸‰æ–¹åº“
â”œâ”€â”€ dist/                        â† æ‰“åŒ…è¾“å‡º
â””â”€â”€ webpack.config.js
```

### 4.2 ç›®å½•ç»“æ„è®¾è®¡åŸåˆ™


**ğŸ¯ é¡µé¢ç‹¬ç«‹åŸåˆ™**
```
æ¯ä¸ªé¡µé¢ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼š
pages/login/
â”œâ”€â”€ index.html    â† è¯¥é¡µé¢çš„HTMLæ¨¡æ¿
â”œâ”€â”€ main.js       â† è¯¥é¡µé¢çš„å…¥å£æ–‡ä»¶
â”œâ”€â”€ style.css     â† è¯¥é¡µé¢ä¸“å±æ ·å¼
â””â”€â”€ api.js        â† è¯¥é¡µé¢ä¸“å±æ¥å£

ä¼˜åŠ¿ï¼šé¡µé¢é—´ç›¸äº’ç‹¬ç«‹ï¼Œä¾¿äºç»´æŠ¤
```

**ğŸ”„ èµ„æºå…±äº«åŸåˆ™**
```
å…¬å…±èµ„æºç»Ÿä¸€ç®¡ç†ï¼š
shared/
â”œâ”€â”€ components/   â† æ‰€æœ‰é¡µé¢éƒ½å¯èƒ½ç”¨åˆ°çš„ç»„ä»¶
â”œâ”€â”€ utils/        â† å…¬å…±å·¥å…·å‡½æ•°
â””â”€â”€ styles/       â† å…¬å…±æ ·å¼å˜é‡ã€é‡ç½®æ ·å¼

ä¼˜åŠ¿ï¼šé¿å…é‡å¤ä»£ç ï¼Œä¾¿äºç»Ÿä¸€ä¿®æ”¹
```

### 4.3 é¡µé¢æ¨¡æ¿è®¾è®¡


**HTMLæ¨¡æ¿ç¤ºä¾‹**
```html
<!-- src/pages/index/index.html -->
<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title><%= htmlWebpackPlugin.options.title %></title>
</head>
<body>
  <div id="app">
    <h1>è¿™æ˜¯é¦–é¡µ</h1>
    <nav>
      <a href="login.html">ç™»å½•</a>
      <a href="admin.html">ç®¡ç†åå°</a>
    </nav>
  </div>
  <!-- webpackä¼šè‡ªåŠ¨æ³¨å…¥æ‰“åŒ…åçš„JSå’ŒCSS -->
</body>
</html>
```

**é¡µé¢å…¥å£æ–‡ä»¶ç¤ºä¾‹**
```javascript
// src/pages/index/main.js
import './style.css';                    // å¼•å…¥é¡µé¢æ ·å¼
import { initHeader } from '../../shared/components/header';  // å…¬å…±ç»„ä»¶
import { api } from './api';             // é¡µé¢ä¸“å±æ¥å£

// é¡µé¢åˆå§‹åŒ–é€»è¾‘
document.addEventListener('DOMContentLoaded', () => {
  initHeader();
  loadPageData();
});

async function loadPageData() {
  const data = await api.getHomeData();
  renderPage(data);
}
```

---

## 5. ğŸ”— é¡µé¢é—´èµ„æºå…±äº«æ–¹æ¡ˆ


### 5.1 å…¬å…±ä»£ç æå–çš„é‡è¦æ€§


**é—®é¢˜æè¿°**ï¼šå¦‚æœä¸åšå…¬å…±ä»£ç æå–ï¼Œæ¯ä¸ªé¡µé¢éƒ½ä¼šåŒ…å«é‡å¤çš„ä»£ç 

```
ä¸æå–å…¬å…±ä»£ç çš„é—®é¢˜ï¼š
index.js (500KB)    â† åŒ…å«Vueã€lodashã€å…¬å…±ç»„ä»¶
login.js (480KB)    â† åŒ…å«Vueã€lodashã€å…¬å…±ç»„ä»¶  
admin.js (520KB)    â† åŒ…å«Vueã€lodashã€å…¬å…±ç»„ä»¶

æ€»å¤§å°ï¼š1.5MBï¼Œå¤§é‡é‡å¤ä»£ç ï¼
```

**è§£å†³æ–¹æ¡ˆ**ï¼šæå–å…¬å…±ä»£ç åˆ°å•ç‹¬æ–‡ä»¶
```
æå–å…¬å…±ä»£ç åï¼š
vendor.js (300KB)   â† Vueã€lodashç­‰ç¬¬ä¸‰æ–¹åº“
common.js (50KB)    â† å…¬å…±ç»„ä»¶ã€å·¥å…·å‡½æ•°
index.js (150KB)    â† é¦–é¡µä¸“å±ä»£ç 
login.js (130KB)    â† ç™»å½•é¡µä¸“å±ä»£ç   
admin.js (170KB)    â† ç®¡ç†é¡µä¸“å±ä»£ç 

æ€»å¤§å°ï¼š800KBï¼ŒèŠ‚çœäº†47%çš„ç©ºé—´ï¼
```

### 5.2 SplitChunksPluginé…ç½®


**åŸºç¡€é…ç½®**ï¼šè‡ªåŠ¨æå–å…¬å…±ä»£ç 
```javascript
module.exports = {
  optimization: {
    splitChunks: {
      chunks: 'all',                    // å¯¹æ‰€æœ‰chunkè¿›è¡Œåˆ†å‰²
      cacheGroups: {
        // æå–ç¬¬ä¸‰æ–¹åº“
        vendor: {
          name: 'vendor',               // ç”Ÿæˆvendor.js
          test: /[\\/]node_modules[\\/]/, // åŒ¹é…node_modulesä¸­çš„æ¨¡å—
          priority: 10,                 // ä¼˜å…ˆçº§
          chunks: 'all'
        },
        
        // æå–å…¬å…±ä»£ç 
        common: {
          name: 'common',               // ç”Ÿæˆcommon.js  
          minChunks: 2,                 // è‡³å°‘è¢«2ä¸ªé¡µé¢ä½¿ç”¨
          priority: 5,
          chunks: 'all',
          enforce: true
        }
      }
    }
  }
}
```

### 5.3 HtmlWebpackPluginä¸­å¼•å…¥å…¬å…±èµ„æº


```javascript
const htmlPlugins = pages.map(page => {
  return new HtmlWebpackPlugin({
    filename: `${page.name}.html`,
    template: `./src/pages/${page.name}/index.html`,
    chunks: [
      'vendor',                         // ç¬¬ä¸‰æ–¹åº“
      'common',                         // å…¬å…±ä»£ç 
      page.name                         // é¡µé¢ä¸“å±ä»£ç 
    ],
    chunksSortMode: 'manual'            // æŒ‰chunksæ•°ç»„é¡ºåºåŠ è½½
  });
});
```

**åŠ è½½é¡ºåºè¯´æ˜**ï¼š
1. **vendor.js** - ç¬¬ä¸‰æ–¹åº“ï¼ˆå¦‚Vueã€jQueryï¼‰
2. **common.js** - å…¬å…±ç»„ä»¶å’Œå·¥å…·å‡½æ•°  
3. **é¡µé¢.js** - é¡µé¢ä¸“å±ä»£ç 

### 5.4 å…¬å…±èµ„æºç®¡ç†ç­–ç•¥


**ğŸ“š å…¬å…±ç»„ä»¶è®¾è®¡**
```javascript
// shared/components/header/index.js
export function createHeader(title) {
  const header = document.createElement('header');
  header.innerHTML = `
    <h1>${title}</h1>
    <nav>
      <a href="index.html">é¦–é¡µ</a>
      <a href="products.html">å•†å“</a>
      <a href="admin.html">ç®¡ç†</a>
    </nav>
  `;
  return header;
}

// åœ¨å„é¡µé¢ä¸­ä½¿ç”¨
// pages/index/main.js
import { createHeader } from '../../shared/components/header';
document.body.prepend(createHeader('é¦–é¡µ'));
```

**ğŸ¨ å…¬å…±æ ·å¼ç®¡ç†**
```css
/* shared/styles/variables.css */
:root {
  --primary-color: #007bff;
  --secondary-color: #6c757d;
  --border-radius: 4px;
}

/* shared/styles/reset.css */
* { margin: 0; padding: 0; box-sizing: border-box; }

/* åœ¨é¡µé¢æ ·å¼ä¸­å¼•å…¥ */
/* pages/index/style.css */
@import '../../shared/styles/variables.css';
@import '../../shared/styles/reset.css';
```

---

## 6. ğŸš€ å®Œæ•´å®æˆ˜é…ç½®æ¡ˆä¾‹


### 6.1 ç”µå•†å¤šé¡µé¢é¡¹ç›®é…ç½®


**é¡¹ç›®åœºæ™¯**ï¼šç”µå•†ç½‘ç«™åŒ…å«é¦–é¡µã€å•†å“åˆ—è¡¨ã€å•†å“è¯¦æƒ…ã€è´­ç‰©è½¦ã€ç”¨æˆ·ä¸­å¿ƒç­‰é¡µé¢

```javascript
// webpack.config.js
const path = require('path');
const HtmlWebpackPlugin = require('html-webpack-plugin');
const MiniCssExtractPlugin = require('mini-css-extract-plugin');

// é¡µé¢é…ç½®
const pages = [
  { name: 'index', title: 'é¦–é¡µ - è´­ç‰©å•†åŸ', template: 'index' },
  { name: 'products', title: 'å•†å“åˆ—è¡¨ - è´­ç‰©å•†åŸ', template: 'products' },
  { name: 'detail', title: 'å•†å“è¯¦æƒ… - è´­ç‰©å•†åŸ', template: 'detail' },
  { name: 'cart', title: 'è´­ç‰©è½¦ - è´­ç‰©å•†åŸ', template: 'cart' },
  { name: 'profile', title: 'ç”¨æˆ·ä¸­å¿ƒ - è´­ç‰©å•†åŸ', template: 'profile' }
];

// ç”Ÿæˆentryé…ç½®
const entries = {};
pages.forEach(page => {
  entries[page.name] = `./src/pages/${page.name}/main.js`;
});

// ç”ŸæˆHTMLæ’ä»¶
const htmlPlugins = pages.map(page => {
  return new HtmlWebpackPlugin({
    filename: `${page.name}.html`,
    template: `./src/pages/${page.template}/index.html`,
    title: page.title,
    chunks: ['vendor', 'common', page.name],
    chunksSortMode: 'manual'
  });
});

module.exports = {
  mode: 'production',
  
  // å¤šå…¥å£é…ç½®
  entry: entries,
  
  // è¾“å‡ºé…ç½®
  output: {
    path: path.resolve(__dirname, 'dist'),
    filename: 'js/[name].[contenthash:8].js',
    clean: true
  },
  
  // æ¨¡å—å¤„ç†
  module: {
    rules: [
      {
        test: /\.js$/,
        exclude: /node_modules/,
        use: {
          loader: 'babel-loader',
          options: {
            presets: ['@babel/preset-env']
          }
        }
      },
      {
        test: /\.css$/,
        use: [MiniCssExtractPlugin.loader, 'css-loader']
      },
      {
        test: /\.(png|jpg|gif|svg)$/,
        type: 'asset/resource',
        generator: {
          filename: 'images/[name].[hash:8][ext]'
        }
      }
    ]
  },
  
  // æ’ä»¶é…ç½®
  plugins: [
    // CSSæå–
    new MiniCssExtractPlugin({
      filename: 'css/[name].[contenthash:8].css'
    }),
    
    // HTMLç”Ÿæˆ
    ...htmlPlugins
  ],
  
  // ä»£ç åˆ†å‰²
  optimization: {
    splitChunks: {
      chunks: 'all',
      cacheGroups: {
        // ç¬¬ä¸‰æ–¹åº“
        vendor: {
          name: 'vendor',
          test: /[\\/]node_modules[\\/]/,
          priority: 10,
          chunks: 'all'
        },
        
        // å…¬å…±ä»£ç 
        common: {
          name: 'common', 
          minChunks: 2,
          priority: 5,
          chunks: 'all',
          enforce: true
        }
      }
    }
  }
};
```

### 6.2 åå°ç®¡ç†ç³»ç»Ÿé…ç½®


**é¡¹ç›®åœºæ™¯**ï¼šåå°ç®¡ç†ç³»ç»ŸåŒ…å«ç™»å½•ã€æ§åˆ¶å°ã€ç”¨æˆ·ç®¡ç†ã€è®¢å•ç®¡ç†ç­‰é¡µé¢

```javascript
// webpack.admin.config.js
const pages = [
  { name: 'login', title: 'ç™»å½• - ç®¡ç†åå°' },
  { name: 'dashboard', title: 'æ§åˆ¶å° - ç®¡ç†åå°' },
  { name: 'users', title: 'ç”¨æˆ·ç®¡ç† - ç®¡ç†åå°' },
  { name: 'orders', title: 'è®¢å•ç®¡ç† - ç®¡ç†åå°' },
  { name: 'settings', title: 'ç³»ç»Ÿè®¾ç½® - ç®¡ç†åå°' }
];

module.exports = {
  entry: {
    // è‡ªåŠ¨ç”Ÿæˆentry
    ...pages.reduce((entries, page) => {
      entries[page.name] = `./src/admin/pages/${page.name}/main.js`;
      return entries;
    }, {})
  },
  
  output: {
    path: path.resolve(__dirname, 'dist/admin'),  // å•ç‹¬è¾“å‡ºç›®å½•
    filename: '[name].[contenthash:8].js'
  },
  
  plugins: [
    ...pages.map(page => {
      return new HtmlWebpackPlugin({
        filename: `${page.name}.html`,
        template: `./src/admin/pages/${page.name}/index.html`,
        title: page.title,
        chunks: ['vendor', 'common', page.name]
      });
    })
  ]
};
```

### 6.3 å¼€å‘ç¯å¢ƒé…ç½®ä¼˜åŒ–


```javascript
// webpack.dev.js
module.exports = {
  mode: 'development',
  
  // å¼€å‘æœåŠ¡å™¨
  devServer: {
    contentBase: path.join(__dirname, 'dist'),
    port: 8080,
    hot: true,                          // çƒ­æ›´æ–°
    open: true,                         // è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨
    openPage: 'index.html',            // é»˜è®¤æ‰“å¼€é¦–é¡µ
    
    // å¤šé¡µé¢è·¯ç”±é…ç½®
    historyApiFallback: {
      rewrites: [
        { from: /^\/admin/, to: '/admin.html' },
        { from: /^\/login/, to: '/login.html' },
        { from: /./, to: '/index.html' }
      ]
    }
  }
};
```

---

## 7. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 7.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ å¤šé¡µé¢åº”ç”¨ï¼šæ¯ä¸ªé¡µé¢éƒ½æ˜¯ç‹¬ç«‹çš„HTMLæ–‡ä»¶ï¼Œé€‚åˆä¼ä¸šå®˜ç½‘ã€ç”µå•†ã€åå°ç®¡ç†
ğŸ”¸ Entryå¤šå…¥å£ï¼šç”¨å¯¹è±¡å½¢å¼é…ç½®å¤šä¸ªå…¥å£ï¼Œæ¯ä¸ªå…¥å£å¯¹åº”ä¸€ä¸ªé¡µé¢
ğŸ”¸ HtmlWebpackPluginå¤šå®ä¾‹ï¼šä¸ºæ¯ä¸ªé¡µé¢åˆ›å»ºHTMLæ–‡ä»¶å¹¶è‡ªåŠ¨å¼•å…¥å¯¹åº”èµ„æº
ğŸ”¸ å…¬å…±ä»£ç æå–ï¼šä½¿ç”¨SplitChunksPluginé¿å…ä»£ç é‡å¤ï¼Œå‡å°åŒ…ä½“ç§¯
ğŸ”¸ ç›®å½•ç»“æ„è®¾è®¡ï¼šé¡µé¢ç‹¬ç«‹ + èµ„æºå…±äº«çš„ç»„ç»‡æ–¹å¼
```

### 7.2 å…³é”®é…ç½®è¦ç‚¹


**ğŸ”¹ Entryé…ç½®åŸåˆ™**
```
å¯¹è±¡å½¢å¼é…ç½®ï¼š
{
  é¡µé¢å: å…¥å£æ–‡ä»¶è·¯å¾„,
  index: './src/pages/index/main.js',
  login: './src/pages/login/main.js'
}

é¡µé¢åå†³å®šç”Ÿæˆçš„JSæ–‡ä»¶å
å…¥å£æ–‡ä»¶æ˜¯è¯¥é¡µé¢çš„å¯åŠ¨æ–‡ä»¶
```

**ğŸ”¹ HtmlWebpackPluginæ ¸å¿ƒå‚æ•°**
```
filename: ç”Ÿæˆçš„HTMLæ–‡ä»¶å
template: HTMLæ¨¡æ¿æ–‡ä»¶è·¯å¾„  
chunks: è¦å¼•å…¥çš„JSæ–‡ä»¶ï¼ˆå¯¹åº”entryåï¼‰
title: é¡µé¢æ ‡é¢˜
```

**ğŸ”¹ å…¬å…±èµ„æºå¤„ç†**
```
SplitChunksPluginæå–å…¬å…±ä»£ç ï¼š
- vendor: ç¬¬ä¸‰æ–¹åº“ä»£ç 
- common: é¡µé¢é—´å…±äº«çš„ä¸šåŠ¡ä»£ç 
- é¡µé¢ä¸“å±: æ¯ä¸ªé¡µé¢ç‰¹æœ‰çš„ä»£ç 

åŠ è½½é¡ºåºï¼švendor â†’ common â†’ é¡µé¢ä»£ç 
```

### 7.3 å®é™…åº”ç”¨æŒ‡å¯¼


**ğŸ¯ é€‚ç”¨åœºæ™¯åˆ¤æ–­**
- âœ… **ä¼ä¸šå®˜ç½‘**ï¼šé¦–é¡µã€å…³äºæˆ‘ä»¬ã€äº§å“ä»‹ç»ã€è”ç³»æˆ‘ä»¬
- âœ… **ç”µå•†å¹³å°**ï¼šé¦–é¡µã€å•†å“åˆ—è¡¨ã€å•†å“è¯¦æƒ…ã€è´­ç‰©è½¦ã€ç”¨æˆ·ä¸­å¿ƒ
- âœ… **åå°ç®¡ç†**ï¼šç™»å½•ã€æ§åˆ¶å°ã€å„ç§ç®¡ç†é¡µé¢
- âœ… **SEOè¦æ±‚é«˜**ï¼šæ¯ä¸ªé¡µé¢ç‹¬ç«‹URLï¼Œæœç´¢å¼•æ“å‹å¥½

**ğŸ› ï¸ é…ç½®æœ€ä½³å®è·µ**
```
ç›®å½•ç»“æ„æ¸…æ™°ï¼šé¡µé¢ç‹¬ç«‹æ–‡ä»¶å¤¹
å…¬å…±èµ„æºæå–ï¼šå‡å°‘é‡å¤ä»£ç 
HTMLæ¨¡æ¿å¤ç”¨ï¼šç»Ÿä¸€é¡µé¢ç»“æ„
å¼€å‘ç¯å¢ƒä¼˜åŒ–ï¼šçƒ­æ›´æ–°ã€è‡ªåŠ¨åˆ·æ–°
ç”Ÿäº§ç¯å¢ƒä¼˜åŒ–ï¼šä»£ç å‹ç¼©ã€ç¼“å­˜ç­–ç•¥
```

**ğŸ’¡ æ€§èƒ½ä¼˜åŒ–å»ºè®®**
- åˆç†æå–å…¬å…±ä»£ç ï¼Œé¿å…å•ä¸ªæ–‡ä»¶è¿‡å¤§
- ä½¿ç”¨contenthashç¡®ä¿ç¼“å­˜ç­–ç•¥æœ‰æ•ˆ
- å›¾ç‰‡ç­‰é™æ€èµ„æºå•ç‹¬å¤„ç†
- å¼€å‘ç¯å¢ƒä½¿ç”¨çƒ­æ›´æ–°æé«˜å¼€å‘æ•ˆç‡

**æ ¸å¿ƒè®°å¿†**ï¼š
- å¤šé¡µé¢å°±æ˜¯å¤šä¸ªç‹¬ç«‹çš„HTMLé¡µé¢
- Entryé…ç½®å¤šä¸ªå…¥å£ï¼ŒHtmlWebpackPluginåˆ›å»ºå¤šä¸ªHTML
- å…¬å…±ä»£ç è¦æå–ï¼Œé¿å…é‡å¤æ‰“åŒ…
- ç›®å½•ç»“æ„è¦æ¸…æ™°ï¼Œé¡µé¢ç‹¬ç«‹èµ„æºå…±äº«