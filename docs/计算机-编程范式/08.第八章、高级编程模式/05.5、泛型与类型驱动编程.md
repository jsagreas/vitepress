---
title: 5ã€æ³›å‹ä¸ç±»å‹é©±åŠ¨ç¼–ç¨‹
---
## ğŸ“š ç›®å½•

1. [æ³›å‹ç¼–ç¨‹åŸºç¡€](#1-æ³›å‹ç¼–ç¨‹åŸºç¡€)
2. [ç±»å‹çº¦æŸä¸è¾¹ç•Œ](#2-ç±»å‹çº¦æŸä¸è¾¹ç•Œ)  
3. [ç±»å‹å®‰å…¨ä¸å¯ç»„åˆæ€§](#3-ç±»å‹å®‰å…¨ä¸å¯ç»„åˆæ€§)
4. [åå˜ä¸é€†å˜](#4-åå˜ä¸é€†å˜)
5. [ç±»å‹é©±åŠ¨çš„APIè®¾è®¡](#5-ç±»å‹é©±åŠ¨çš„APIè®¾è®¡)
6. [ä»£æ•°æ•°æ®ç±»å‹å…¥é—¨](#6-ä»£æ•°æ•°æ®ç±»å‹å…¥é—¨)
7. [ç±»å‹æ“¦é™¤ä¸é‡åŒ–](#7-ç±»å‹æ“¦é™¤ä¸é‡åŒ–)
8. [å®ç”¨ç±»å‹æŠ€å·§](#8-å®ç”¨ç±»å‹æŠ€å·§)
9. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#9-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ¯ æ³›å‹ç¼–ç¨‹åŸºç¡€


### 1.1 ä»€ä¹ˆæ˜¯æ³›å‹


**é€šä¿—ç†è§£**ï¼šæ³›å‹å°±åƒæ˜¯ä»£ç çš„"ä¸‡èƒ½æ¨¡æ¿"ï¼Œè®©æˆ‘ä»¬å†™ä¸€æ¬¡ä»£ç å°±èƒ½å¤„ç†å¤šç§ç±»å‹çš„æ•°æ®ã€‚

```
ç”Ÿæ´»ç±»æ¯”ï¼š
åˆ¶ä½œç›’å­çš„æ¨¡å…· â†’ æ³›å‹ç±»
- åŒä¸€ä¸ªæ¨¡å…·å¯ä»¥åšè£…è‹¹æœçš„ç›’å­
- ä¹Ÿå¯ä»¥åšè£…æ©˜å­çš„ç›’å­  
- è¿˜å¯ä»¥åšè£…ä¹¦æœ¬çš„ç›’å­

ç¼–ç¨‹ä¸­ï¼š
åŒä¸€ä¸ªæ³›å‹ç±»å¯ä»¥å­˜å‚¨ä¸åŒç±»å‹
- List<String> å­˜å‚¨å­—ç¬¦ä¸²
- List<Integer> å­˜å‚¨æ•´æ•°
- List<User> å­˜å‚¨ç”¨æˆ·å¯¹è±¡
```

### 1.2 ä¸ºä»€ä¹ˆéœ€è¦æ³›å‹


**ğŸ”¸ æ²¡æœ‰æ³›å‹çš„ç—›ç‚¹**
```java
// è€å¼å†™æ³• - å®¹æ˜“å‡ºé”™
List list = new ArrayList();
list.add("hello");
list.add(123);

// å–å‡ºæ—¶éœ€è¦å¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œå®¹æ˜“å‡ºé”™
String str = (String) list.get(0);  // æ­£å¸¸
String str2 = (String) list.get(1); // è¿è¡Œæ—¶å´©æºƒï¼
```

**ğŸ”¸ ä½¿ç”¨æ³›å‹çš„å¥½å¤„**
```java
// ç°ä»£å†™æ³• - ç±»å‹å®‰å…¨
List<String> stringList = new ArrayList<>();
stringList.add("hello");
// stringList.add(123);  // ç¼–è¯‘æ—¶å°±æŠ¥é”™ï¼Œä¸å…è®¸æ·»åŠ 

String str = stringList.get(0);  // ä¸éœ€è¦ç±»å‹è½¬æ¢
```

### 1.3 ç±»å‹å‚æ•°æ¦‚å¿µ


**ç±»å‹å‚æ•°**ï¼šç”¨å°–æ‹¬å·`<>`åŒ…å›´çš„å ä½ç¬¦ï¼Œä»£è¡¨å…·ä½“ä½¿ç”¨æ—¶ä¼šæŒ‡å®šçš„ç±»å‹ã€‚

```
å¸¸è§çº¦å®šï¼š
T  â†’ Typeï¼ˆç±»å‹ï¼‰
E  â†’ Elementï¼ˆå…ƒç´ ï¼‰ 
K  â†’ Keyï¼ˆé”®ï¼‰
V  â†’ Valueï¼ˆå€¼ï¼‰
R  â†’ Resultï¼ˆç»“æœï¼‰

å®é™…ç¤ºä¾‹ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  class Box<T> {                 â”‚
â”‚      private T content;         â”‚  â† Tæ˜¯ç±»å‹å‚æ•°
â”‚                                 â”‚
â”‚      public void set(T item) {  â”‚
â”‚          this.content = item;   â”‚
â”‚      }                          â”‚
â”‚                                 â”‚
â”‚      public T get() {           â”‚
â”‚          return content;        â”‚
â”‚      }                          â”‚
â”‚  }                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.4 åŸºç¡€ä½¿ç”¨ç¤ºä¾‹


```java
// å®šä¹‰æ³›å‹ç±»
public class Container<T> {
    private T item;
    
    public void set(T item) {
        this.item = item;
    }
    
    public T get() {
        return item;
    }
}

// ä½¿ç”¨æ³›å‹ç±»
Container<String> stringBox = new Container<>();
stringBox.set("Hello");
String value = stringBox.get();  // æ— éœ€ç±»å‹è½¬æ¢

Container<Integer> intBox = new Container<>();
intBox.set(42);
Integer number = intBox.get();
```

---

## 2. ğŸ”’ ç±»å‹çº¦æŸä¸è¾¹ç•Œ


### 2.1 ä¸Šç•Œçº¦æŸï¼ˆextendsï¼‰


**æ¦‚å¿µ**ï¼šé™åˆ¶ç±»å‹å‚æ•°å¿…é¡»æ˜¯æŸä¸ªç±»çš„å­ç±»æˆ–å®ç°æŸä¸ªæ¥å£ã€‚

**è¯­æ³•**ï¼š`<T extends SomeClass>`

```java
// åªæ¥å—NumberåŠå…¶å­ç±»
public class NumberContainer<T extends Number> {
    private T value;
    
    public void setValue(T value) {
        this.value = value;
        // å¯ä»¥è°ƒç”¨Numberçš„æ–¹æ³•
        System.out.println("æ•°å€¼: " + value.doubleValue());
    }
}

// ä½¿ç”¨ç¤ºä¾‹
NumberContainer<Integer> intContainer = new NumberContainer<>();  âœ…
NumberContainer<Double> doubleContainer = new NumberContainer<>(); âœ…
// NumberContainer<String> stringContainer = new NumberContainer<>(); âŒ ç¼–è¯‘é”™è¯¯
```

### 2.2 ä¸‹ç•Œçº¦æŸï¼ˆsuperï¼‰


**æ¦‚å¿µ**ï¼šé™åˆ¶ç±»å‹å‚æ•°å¿…é¡»æ˜¯æŸä¸ªç±»çš„çˆ¶ç±»ã€‚

**è¯­æ³•**ï¼š`<T super SomeClass>`

```java
// å®é™…åº”ç”¨åœºæ™¯ï¼šå‘é›†åˆæ·»åŠ å…ƒç´ 
public static void addNumbers(List<? super Integer> list) {
    list.add(1);     // å¯ä»¥æ·»åŠ Integer
    list.add(2);     // å¯ä»¥æ·»åŠ Integer
    // å› ä¸ºIntegerçš„çˆ¶ç±»è‚¯å®šèƒ½å®¹çº³Integer
}

// ä½¿ç”¨ç¤ºä¾‹
List<Number> numberList = new ArrayList<>();
List<Object> objectList = new ArrayList<>();
addNumbers(numberList);  âœ… Numberæ˜¯Integerçš„çˆ¶ç±»
addNumbers(objectList);  âœ… Objectæ˜¯Integerçš„çˆ¶ç±»
```

### 2.3 é€šé…ç¬¦è¯¦è§£


**ğŸ”¸ æ— ç•Œé€šé…ç¬¦ `<?>`**
```java
// è¡¨ç¤ºä»»æ„ç±»å‹ï¼Œä½†ä¸èƒ½ä¿®æ”¹
public void printList(List<?> list) {
    for (Object item : list) {
        System.out.println(item);  // åªèƒ½å½“ä½œObjectå¤„ç†
    }
    // list.add("something");  // âŒ ä¸èƒ½æ·»åŠ å…ƒç´ 
}
```

**ğŸ”¸ æœ‰ç•Œé€šé…ç¬¦å¯¹æ¯”**

| é€šé…ç¬¦ç±»å‹ | è¯­æ³• | å«ä¹‰ | èƒ½è¯»å– | èƒ½å†™å…¥ |
|-----------|------|------|--------|--------|
| **ä¸Šç•Œ** | `<? extends T>` | TåŠå…¶å­ç±» | âœ… å½“ä½œTè¯»å– | âŒ ä¸èƒ½å†™å…¥ |
| **ä¸‹ç•Œ** | `<? super T>` | TåŠå…¶çˆ¶ç±» | âŒ åªèƒ½å½“Object | âœ… å¯å†™å…¥T |
| **æ— ç•Œ** | `<?>` | ä»»æ„ç±»å‹ | âŒ åªèƒ½å½“Object | âŒ ä¸èƒ½å†™å…¥ |

### 2.4 å¤šé‡è¾¹ç•Œ


```java
// åŒæ—¶çº¦æŸç±»å’Œæ¥å£
public class MultiConstraint<T extends Number & Comparable<T>> {
    public T getMax(T a, T b) {
        // å¯ä»¥è°ƒç”¨Numberçš„æ–¹æ³•
        System.out.println("açš„å€¼: " + a.doubleValue());
        
        // å¯ä»¥è°ƒç”¨Comparableçš„æ–¹æ³•
        return a.compareTo(b) > 0 ? a : b;
    }
}

// ä½¿ç”¨ç¤ºä¾‹
MultiConstraint<Integer> constraint = new MultiConstraint<>();
Integer max = constraint.getMax(10, 20);  // è¿”å›20
```

---

## 3. ğŸ›¡ï¸ ç±»å‹å®‰å…¨ä¸å¯ç»„åˆæ€§


### 3.1 ç±»å‹å®‰å…¨çš„æœ¬è´¨


**ç±»å‹å®‰å…¨**ï¼šç¼–è¯‘å™¨ä¿è¯ç±»å‹ä½¿ç”¨çš„æ­£ç¡®æ€§ï¼Œé˜²æ­¢ç±»å‹ç›¸å…³çš„è¿è¡Œæ—¶é”™è¯¯ã€‚

```
ç±»å‹å®‰å…¨çš„ä¿éšœï¼š
ç¼–è¯‘æ—¶æ£€æŸ¥ â†’ é˜²æ­¢ç±»å‹é”™è¯¯è¿›å…¥è¿è¡Œæ—¶
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç¼–è¯‘å™¨æ£€æŸ¥é˜¶æ®µ                   â”‚
â”‚ List<String> list = ...;        â”‚
â”‚ list.add(123);  â† ç¼–è¯‘é”™è¯¯      â”‚
â”‚ "ä¸èƒ½å°†intæ·»åŠ åˆ°Stringåˆ—è¡¨"      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 ç±»å‹å®‰å…¨çš„å¥½å¤„


**ğŸ”¸ é”™è¯¯å‘ç°æ—¶æœºæå‰**
```java
// ä¸å®‰å…¨çš„ä»£ç 
Object obj = getUnknownObject();
String str = (String) obj;  // å¯èƒ½è¿è¡Œæ—¶å´©æºƒ

// ç±»å‹å®‰å…¨çš„ä»£ç 
Optional<String> maybeString = getTypedString();
if (maybeString.isPresent()) {
    String str = maybeString.get();  // ç»å¯¹å®‰å…¨
}
```

**ğŸ”¸ ä»£ç è‡ªæ–‡æ¡£åŒ–**
```java
// ä»æ–¹æ³•ç­¾åå°±èƒ½çŸ¥é“æœŸæœ›çš„ç±»å‹
public List<User> getActiveUsers();           // æ˜ç¡®è¿”å›Useråˆ—è¡¨
public Map<String, Integer> getWordCount();   // æ˜ç¡®è¿”å›å­—ç¬¦ä¸²åˆ°æ•´æ•°çš„æ˜ å°„
```

### 3.3 å¯ç»„åˆæ€§æ¦‚å¿µ


**å¯ç»„åˆæ€§**ï¼šå°çš„ã€ç±»å‹å®‰å…¨çš„ç»„ä»¶å¯ä»¥ç»„åˆæˆæ›´å¤§çš„ç³»ç»Ÿã€‚

```java
// åŸºç¡€ç»„ä»¶
public class Result<T> {
    private final T value;
    private final String error;
    
    // ç»„åˆæ“ä½œï¼šmap
    public <U> Result<U> map(Function<T, U> mapper) {
        if (error != null) return Result.error(error);
        return Result.success(mapper.apply(value));
    }
    
    // ç»„åˆæ“ä½œï¼šflatMap
    public <U> Result<U> flatMap(Function<T, Result<U>> mapper) {
        if (error != null) return Result.error(error);
        return mapper.apply(value);
    }
}

// ç»„åˆä½¿ç”¨
Result<String> input = Result.success("123");
Result<Double> result = input
    .map(Integer::parseInt)      // String â†’ Integer
    .map(i -> i * 2.0);         // Integer â†’ Double
```

### 3.4 æ³›å‹çš„ç»„åˆæ¨¡å¼


```java
// å‡½æ•°å¼æ¥å£çš„ç»„åˆ
Function<String, Integer> parseToInt = Integer::parseInt;
Function<Integer, String> intToHex = Integer::toHexString;

// ç»„åˆæˆæ–°çš„å‡½æ•°
Function<String, String> parseAndConvertToHex = 
    parseToInt.andThen(intToHex);

String result = parseAndConvertToHex.apply("255");  // "ff"
```

---

## 4. ğŸ”„ åå˜ä¸é€†å˜


### 4.1 åå˜æ€§æ¦‚å¿µ


**åå˜**ï¼šå¦‚æœAæ˜¯Bçš„å­ç±»ï¼Œé‚£ä¹ˆå®¹å™¨`Container<A>`ä¹Ÿè¢«è®¤ä¸ºæ˜¯`Container<B>`çš„å­ç±»ã€‚

```
ç†è§£åå˜ï¼š

åŠ¨ç‰©å±‚æ¬¡ç»“æ„ï¼š
   Animal (åŠ¨ç‰©)
      â†‘
     Dog (ç‹—)
      â†‘  
   Bulldog (æ–—ç‰›çŠ¬)

åå˜çš„ç†æƒ³æƒ…å†µï¼š
List<Bulldog> â†’ List<Dog> â†’ List<Animal>
ï¼ˆæ–—ç‰›çŠ¬åˆ—è¡¨å¯ä»¥å½“ä½œç‹—åˆ—è¡¨ä½¿ç”¨ï¼‰
```

**ğŸ”¸ Javaä¸­çš„åå˜å®ç°**
```java
// ä½¿ç”¨ä¸Šç•Œé€šé…ç¬¦å®ç°åå˜
List<? extends Animal> animals;

List<Dog> dogs = new ArrayList<>();
animals = dogs;        âœ… å¯ä»¥èµ‹å€¼

// ä½†æ˜¯ä¸èƒ½æ·»åŠ å…ƒç´ 
// animals.add(new Cat());  âŒ ç¼–è¯‘é”™è¯¯
// å› ä¸ºä¸çŸ¥é“å…·ä½“æ˜¯ä»€ä¹ˆç±»å‹çš„Animalåˆ—è¡¨
```

### 4.2 é€†å˜æ€§æ¦‚å¿µ


**é€†å˜**ï¼šå¦‚æœAæ˜¯Bçš„å­ç±»ï¼Œé‚£ä¹ˆå®¹å™¨`Container<B>`å¯ä»¥è¢«è®¤ä¸ºæ˜¯`Container<A>`çš„è¶…ç±»ã€‚

```java
// ä½¿ç”¨ä¸‹ç•Œé€šé…ç¬¦å®ç°é€†å˜
public static void addDogs(List<? super Dog> list) {
    list.add(new Dog());      âœ… å¯ä»¥æ·»åŠ Dog
    list.add(new Bulldog());  âœ… å¯ä»¥æ·»åŠ Dogçš„å­ç±»
}

// ä½¿ç”¨ç¤ºä¾‹
List<Animal> animals = new ArrayList<>();
addDogs(animals);  âœ… Animalåˆ—è¡¨å¯ä»¥æ¥å—Dog
```

### 4.3 PECSåŸåˆ™


**PECS**ï¼š**P**roducer **E**xtends, **C**onsumer **S**uper

```
è®°å¿†å£è¯€ï¼š
ğŸ“¤ ç”Ÿäº§è€…ç”¨extendsï¼ˆå–å‡ºæ•°æ®ï¼‰
ğŸ“¥ æ¶ˆè´¹è€…ç”¨superï¼ˆæ”¾å…¥æ•°æ®ï¼‰

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç”Ÿäº§è€…ï¼ˆProducerï¼‰               â”‚
â”‚ List<? extends T>               â”‚
â”‚ â†‘ åªèƒ½è¯»å–ï¼Œå½“ä½œTç±»å‹å¤„ç†        â”‚
â”‚                                 â”‚
â”‚ æ¶ˆè´¹è€…ï¼ˆConsumerï¼‰               â”‚  
â”‚ List<? super T>                 â”‚
â”‚ â†“ åªèƒ½å†™å…¥Tç±»å‹çš„æ•°æ®           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å®é™…åº”ç”¨ç¤ºä¾‹**
```java
// ä»æºåˆ—è¡¨å¤åˆ¶åˆ°ç›®æ ‡åˆ—è¡¨
public static <T> void copy(
    List<? super T> dest,    // æ¶ˆè´¹è€…ï¼šæ¥æ”¶æ•°æ®
    List<? extends T> src    // ç”Ÿäº§è€…ï¼šæä¾›æ•°æ®
) {
    for (T item : src) {
        dest.add(item);
    }
}

// ä½¿ç”¨ç¤ºä¾‹
List<Dog> dogs = Arrays.asList(new Dog(), new Bulldog());
List<Animal> animals = new ArrayList<>();
copy(animals, dogs);  // å°†dogså¤åˆ¶åˆ°animals
```

### 4.4 ä¸å˜æ€§


**ä¸å˜**ï¼šJavaçš„æ³›å‹é»˜è®¤æ˜¯ä¸å˜çš„ï¼Œå³ä½¿å­˜åœ¨ç»§æ‰¿å…³ç³»ï¼Œæ³›å‹ç±»å‹ä¹‹é—´ä¹Ÿæ²¡æœ‰ç»§æ‰¿å…³ç³»ã€‚

```java
List<Dog> dogs = new ArrayList<>();
// List<Animal> animals = dogs;  âŒ ç¼–è¯‘é”™è¯¯

// åŸå› ï¼šå¦‚æœå…è®¸è¿™æ ·åšä¼šæœ‰é—®é¢˜
// animals.add(new Cat());  // ä¼šå¾€ç‹—åˆ—è¡¨é‡ŒåŠ çŒ«ï¼
```

---

## 5. ğŸ—ï¸ ç±»å‹é©±åŠ¨çš„APIè®¾è®¡


### 5.1 ç±»å‹é©±åŠ¨è®¾è®¡æ€ç»´


**æ ¸å¿ƒç†å¿µ**ï¼šè®©ç±»å‹ç³»ç»Ÿå¸®åŠ©æˆ‘ä»¬è®¾è®¡æ›´å®‰å…¨ã€æ›´æ˜“ç”¨çš„APIã€‚

```
è®¾è®¡åŸåˆ™ï¼š
1. è®©é”™è¯¯çš„ä½¿ç”¨æ–¹å¼æ— æ³•ç¼–è¯‘é€šè¿‡
2. æ­£ç¡®çš„ä½¿ç”¨æ–¹å¼æ˜¾è€Œæ˜“è§
3. ç±»å‹å°±æ˜¯æœ€å¥½çš„æ–‡æ¡£

ä¼ ç»Ÿè®¾è®¡ vs ç±»å‹é©±åŠ¨è®¾è®¡ï¼š

âŒ ä¼ ç»Ÿæ–¹å¼ï¼š
public void processFile(String filePath, int mode);
// modeçš„å«ä¹‰ä¸æ¸…æ¥šï¼Œå®¹æ˜“ä¼ é”™å€¼

âœ… ç±»å‹é©±åŠ¨æ–¹å¼ï¼š
enum FileMode { READ_ONLY, READ_WRITE, CREATE_NEW }
public void processFile(Path filePath, FileMode mode);
// ç±»å‹æ˜ç¡®ï¼Œä¸ä¼šä¼ é”™
```

### 5.2 å»ºé€ è€…æ¨¡å¼çš„ç±»å‹å®‰å…¨


```java
// ç±»å‹å®‰å…¨çš„å»ºé€ è€…æ¨¡å¼
public class HttpRequest {
    private final String url;
    private final String method;
    private final Map<String, String> headers;
    
    // ç§æœ‰æ„é€ å‡½æ•°
    private HttpRequest(Builder builder) {
        this.url = builder.url;
        this.method = builder.method;
        this.headers = builder.headers;
    }
    
    // ç±»å‹å®‰å…¨çš„å»ºé€ è€…
    public static class Builder {
        private String url;
        private String method = "GET";
        private Map<String, String> headers = new HashMap<>();
        
        public Builder url(String url) {
            this.url = url;
            return this;
        }
        
        public Builder method(HttpMethod method) {  // ä½¿ç”¨æšä¸¾è€Œä¸æ˜¯å­—ç¬¦ä¸²
            this.method = method.name();
            return this;
        }
        
        public Builder header(String key, String value) {
            this.headers.put(key, value);
            return this;
        }
        
        public HttpRequest build() {
            if (url == null) throw new IllegalStateException("URLä¸èƒ½ä¸ºç©º");
            return new HttpRequest(this);
        }
    }
}

// ä½¿ç”¨ç¤ºä¾‹
HttpRequest request = new HttpRequest.Builder()
    .url("https://api.example.com")
    .method(HttpMethod.POST)  // ç±»å‹å®‰å…¨
    .header("Content-Type", "application/json")
    .build();
```

### 5.3 çŠ¶æ€æœºçš„ç±»å‹å»ºæ¨¡


```java
// ç”¨ç±»å‹è¡¨ç¤ºçŠ¶æ€
public class Connection<State> {
    // ç§æœ‰æ„é€ å‡½æ•°ï¼Œé˜²æ­¢å¤–éƒ¨ç›´æ¥åˆ›å»º
    private Connection() {}
    
    // çŠ¶æ€æ ‡è®°ç±»
    public static class Disconnected {}
    public static class Connected {}
    public static class Authenticated {}
    
    // å·¥å‚æ–¹æ³•
    public static Connection<Disconnected> create() {
        return new Connection<>();
    }
    
    // çŠ¶æ€è½¬æ¢æ–¹æ³•
    public Connection<Connected> connect(String host) {
        // è¿æ¥é€»è¾‘
        return new Connection<>();
    }
    
    public Connection<Authenticated> authenticate(String credentials) {
        // åªæœ‰ConnectedçŠ¶æ€æ‰èƒ½è°ƒç”¨æ­¤æ–¹æ³•
        return new Connection<>();
    }
    
    public void sendMessage(String message) {
        // åªæœ‰AuthenticatedçŠ¶æ€æ‰èƒ½è°ƒç”¨æ­¤æ–¹æ³•
    }
}

// ä½¿ç”¨ç¤ºä¾‹ - ç¼–è¯‘æ—¶ä¿è¯çŠ¶æ€æ­£ç¡®æ€§
Connection<Disconnected> conn = Connection.create();
Connection<Connected> connected = conn.connect("localhost");
Connection<Authenticated> auth = connected.authenticate("user:pass");
auth.sendMessage("Hello");  // åªæœ‰è®¤è¯åæ‰èƒ½å‘é€æ¶ˆæ¯
```

### 5.4 è¿”å›ç±»å‹çš„ç²¾ç¡®å»ºæ¨¡


```java
// ä½¿ç”¨æ³›å‹ç²¾ç¡®è¡¨è¾¾è¿”å›ç±»å‹
public class QueryResult<T> {
    private final List<T> items;
    private final int totalCount;
    private final boolean hasMore;
    
    public QueryResult(List<T> items, int totalCount, boolean hasMore) {
        this.items = List.copyOf(items);  // ä¸å¯å˜é›†åˆ
        this.totalCount = totalCount;
        this.hasMore = hasMore;
    }
    
    public List<T> getItems() { return items; }
    public int getTotalCount() { return totalCount; }
    public boolean hasMore() { return hasMore; }
    
    // ç±»å‹å®‰å…¨çš„è½¬æ¢
    public <U> QueryResult<U> map(Function<T, U> mapper) {
        List<U> mappedItems = items.stream()
            .map(mapper)
            .collect(Collectors.toList());
        return new QueryResult<>(mappedItems, totalCount, hasMore);
    }
}

// ä½¿ç”¨ç¤ºä¾‹
QueryResult<User> users = userService.findUsers("keyword");
QueryResult<UserDTO> userDTOs = users.map(this::toUserDTO);
```

---

## 6. ğŸ§® ä»£æ•°æ•°æ®ç±»å‹å…¥é—¨


### 6.1 ä»€ä¹ˆæ˜¯ä»£æ•°æ•°æ®ç±»å‹


**ä»£æ•°æ•°æ®ç±»å‹**ï¼šé€šè¿‡ç»„åˆæ›´ç®€å•çš„ç±»å‹æ¥æ„å»ºå¤æ‚ç±»å‹çš„æ–¹å¼ã€‚

```
æ•°å­¦ç±»æ¯”ï¼š
2 + 3 = 5  ï¼ˆåŠ æ³•ï¼‰
2 Ã— 3 = 6  ï¼ˆä¹˜æ³•ï¼‰

ç±»å‹ç³»ç»Ÿï¼š
Sum Typeï¼ˆå’Œç±»å‹ï¼‰â†’ "æˆ–è€…"çš„å…³ç³»
Product Typeï¼ˆç§¯ç±»å‹ï¼‰â†’ "å¹¶ä¸”"çš„å…³ç³»

ç°å®ä¾‹å­ï¼š
äº¤é€šå·¥å…· = æ±½è½¦ | è‡ªè¡Œè½¦ | ç«è½¦  ï¼ˆå’Œç±»å‹ï¼šä¸‰é€‰ä¸€ï¼‰
æ±½è½¦ = å“ç‰Œ Ã— é¢œè‰² Ã— å¹´ä»½          ï¼ˆç§¯ç±»å‹ï¼šä¸‰ä¸ªéƒ½è¦æœ‰ï¼‰
```

### 6.2 å’Œç±»å‹ï¼ˆSum Typesï¼‰


**æ¦‚å¿µ**ï¼šè¡¨ç¤º"Aæˆ–Bæˆ–C"çš„é€‰æ‹©å…³ç³»ã€‚

```java
// Javaä¸­ç”¨ç»§æ‰¿å’Œæ¥å£æ¨¡æ‹Ÿå’Œç±»å‹
public abstract class Shape {
    // é˜²æ­¢å¤–éƒ¨æ‰©å±•
    private Shape() {}
    
    public static class Circle extends Shape {
        public final double radius;
        public Circle(double radius) { this.radius = radius; }
    }
    
    public static class Rectangle extends Shape {
        public final double width, height;
        public Rectangle(double width, double height) {
            this.width = width;
            this.height = height;
        }
    }
    
    public static class Triangle extends Shape {
        public final double base, height;
        public Triangle(double base, double height) {
            this.base = base;
            this.height = height;
        }
    }
}

// æ¨¡å¼åŒ¹é…å¤„ç†
public static double calculateArea(Shape shape) {
    if (shape instanceof Shape.Circle) {
        Shape.Circle circle = (Shape.Circle) shape;
        return Math.PI * circle.radius * circle.radius;
    } else if (shape instanceof Shape.Rectangle) {
        Shape.Rectangle rect = (Shape.Rectangle) shape;
        return rect.width * rect.height;
    } else if (shape instanceof Shape.Triangle) {
        Shape.Triangle triangle = (Shape.Triangle) shape;
        return 0.5 * triangle.base * triangle.height;
    }
    throw new IllegalArgumentException("æœªçŸ¥å½¢çŠ¶ç±»å‹");
}
```

### 6.3 ç§¯ç±»å‹ï¼ˆProduct Typesï¼‰


**æ¦‚å¿µ**ï¼šè¡¨ç¤º"Aå¹¶ä¸”Bå¹¶ä¸”C"çš„ç»„åˆå…³ç³»ã€‚

```java
// ç”¨ç±»å’Œè®°å½•è¡¨ç¤ºç§¯ç±»å‹
public class User {
    private final String name;     // å¿…é¡»æœ‰åå­—
    private final int age;         // å¿…é¡»æœ‰å¹´é¾„  
    private final String email;   // å¿…é¡»æœ‰é‚®ç®±
    
    public User(String name, int age, String email) {
        this.name = Objects.requireNonNull(name);
        this.age = age;
        this.email = Objects.requireNonNull(email);
    }
    
    // getters...
}

// Java 14+ çš„recordè¯­æ³•æ›´ç®€æ´
public record Point(double x, double y) {
    // è‡ªåŠ¨ç”Ÿæˆæ„é€ å‡½æ•°ã€getterã€equalsã€hashCodeã€toString
}
```

### 6.4 Optionç±»å‹ï¼ˆMaybeç±»å‹ï¼‰


**æ¦‚å¿µ**ï¼šä¼˜é›…åœ°å¤„ç†å¯èƒ½ä¸å­˜åœ¨çš„å€¼ï¼Œé¿å…nullæŒ‡é’ˆå¼‚å¸¸ã€‚

```java
// ç®€åŒ–ç‰ˆçš„Optionå®ç°
public abstract class Option<T> {
    
    public static <T> Option<T> some(T value) {
        return new Some<>(value);
    }
    
    public static <T> Option<T> none() {
        return new None<>();
    }
    
    public abstract boolean isSome();
    public abstract T get();
    public abstract <U> Option<U> map(Function<T, U> mapper);
    
    private static class Some<T> extends Option<T> {
        private final T value;
        
        Some(T value) {
            this.value = Objects.requireNonNull(value);
        }
        
        public boolean isSome() { return true; }
        public T get() { return value; }
        
        public <U> Option<U> map(Function<T, U> mapper) {
            return Option.some(mapper.apply(value));
        }
    }
    
    private static class None<T> extends Option<T> {
        public boolean isSome() { return false; }
        public T get() { throw new NoSuchElementException(); }
        
        public <U> Option<U> map(Function<T, U> mapper) {
            return Option.none();
        }
    }
}

// ä½¿ç”¨ç¤ºä¾‹
Option<String> maybeName = getUserName(userId);
Option<String> upperName = maybeName.map(String::toUpperCase);

if (upperName.isSome()) {
    System.out.println("ç”¨æˆ·å: " + upperName.get());
} else {
    System.out.println("ç”¨æˆ·ä¸å­˜åœ¨");
}
```

---

## 7. ğŸ—‚ï¸ ç±»å‹æ“¦é™¤ä¸é‡åŒ–


### 7.1 ç±»å‹æ“¦é™¤æ¦‚å¿µ


**ç±»å‹æ“¦é™¤**ï¼šJavaåœ¨ç¼–è¯‘åä¼šåˆ é™¤æ³›å‹çš„ç±»å‹ä¿¡æ¯ï¼Œè¿è¡Œæ—¶åªä¿ç•™åŸå§‹ç±»å‹ã€‚

```
ç¼–è¯‘å‰çš„ä»£ç ï¼š
List<String> strings = new ArrayList<String>();
List<Integer> numbers = new ArrayList<Integer>();

ç¼–è¯‘åçš„å­—èŠ‚ç ï¼ˆç±»å‹æ“¦é™¤ï¼‰ï¼š
List strings = new ArrayList();
List numbers = new ArrayList();

ç±»å‹ä¿¡æ¯æ¶ˆå¤±äº†ï¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç¼–è¯‘æ—¶ï¼šç±»å‹æ£€æŸ¥ï¼Œä¿è¯ç±»å‹å®‰å…¨   â”‚
â”‚ è¿è¡Œæ—¶ï¼šç±»å‹ä¿¡æ¯è¢«æ“¦é™¤          â”‚
â”‚ ç›®çš„ï¼šä¸æ—§ç‰ˆJavaä»£ç å…¼å®¹        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 7.2 ç±»å‹æ“¦é™¤çš„å½±å“


**ğŸ”¸ åå°„æ—¶çš„é™åˆ¶**
```java
// æ— æ³•åœ¨è¿è¡Œæ—¶è·å–æ³›å‹ç±»å‹
List<String> stringList = new ArrayList<>();
Class<?> clazz = stringList.getClass();
System.out.println(clazz);  // è¾“å‡ºï¼šclass java.util.ArrayList
// æ— æ³•çŸ¥é“è¿™æ˜¯ArrayList<String>è¿˜æ˜¯ArrayList<Integer>

// ä½†æ˜¯å¯ä»¥é€šè¿‡å…¶ä»–æ–¹å¼è·å–ç±»å‹ä¿¡æ¯
public abstract class TypeReference<T> {
    private final Type type;
    
    protected TypeReference() {
        Type superclass = getClass().getGenericSuperclass();
        this.type = ((ParameterizedType) superclass).getActualTypeArguments()[0];
    }
    
    public Type getType() { return type; }
}

// ä½¿ç”¨ç¤ºä¾‹
TypeReference<List<String>> typeRef = new TypeReference<List<String>>() {};
Type type = typeRef.getType();  // å¯ä»¥è·å–åˆ°List<String>çš„ç±»å‹ä¿¡æ¯
```

**ğŸ”¸ æ•°ç»„åˆ›å»ºçš„é™åˆ¶**
```java
// ä¸èƒ½åˆ›å»ºæ³›å‹æ•°ç»„
// T[] array = new T[10];  âŒ ç¼–è¯‘é”™è¯¯

// è§£å†³æ–¹æ¡ˆ1ï¼šä½¿ç”¨Objectæ•°ç»„
@SuppressWarnings("unchecked")
T[] array = (T[]) new Object[10];

// è§£å†³æ–¹æ¡ˆ2ï¼šä½¿ç”¨åå°„
@SuppressWarnings("unchecked")
T[] array = (T[]) Array.newInstance(clazz, 10);

// è§£å†³æ–¹æ¡ˆ3ï¼šä½¿ç”¨é›†åˆ
List<T> list = new ArrayList<>();
```

### 7.3 é‡åŒ–æ¦‚å¿µ


**é‡åŒ–**ï¼šæŸäº›è¯­è¨€ï¼ˆå¦‚C#ï¼‰åœ¨è¿è¡Œæ—¶ä¿ç•™å®Œæ•´çš„æ³›å‹ç±»å‹ä¿¡æ¯ã€‚

```
C#ä¸­çš„é‡åŒ–æ³›å‹ï¼š
List<string> strings = new List<string>();
List<int> numbers = new List<int>();

è¿è¡Œæ—¶ä»ç„¶çŸ¥é“ï¼š
- stringsæ˜¯List<string>ç±»å‹  
- numbersæ˜¯List<int>ç±»å‹

å¥½å¤„ï¼š
âœ… è¿è¡Œæ—¶ç±»å‹å®‰å…¨
âœ… æ›´å¥½çš„æ€§èƒ½ï¼ˆé¿å…è£…ç®±æ‹†ç®±ï¼‰
âœ… å®Œæ•´çš„åå°„æ”¯æŒ

Javaä¸ºä»€ä¹ˆä¸é‡‡ç”¨ï¼š
âŒ å‘åå…¼å®¹æ€§é—®é¢˜
âŒ JVMéœ€è¦å¤§æ”¹åŠ¨
âŒ ä¼šå¢åŠ è¿è¡Œæ—¶å¼€é”€
```

### 7.4 åº”å¯¹ç±»å‹æ“¦é™¤çš„ç­–ç•¥


```java
// ç­–ç•¥1ï¼šä½¿ç”¨Classå‚æ•°ä¼ é€’ç±»å‹ä¿¡æ¯
public class GenericDAO<T> {
    private final Class<T> entityClass;
    
    public GenericDAO(Class<T> entityClass) {
        this.entityClass = entityClass;
    }
    
    public T findById(Long id) {
        // å¯ä»¥ä½¿ç”¨entityClassè¿›è¡Œåå°„æ“ä½œ
        return entityClass.cast(someObject);
    }
}

// ç­–ç•¥2ï¼šä½¿ç”¨TypeTokenæ¨¡å¼
public class TypeToken<T> {
    private final Type type;
    
    protected TypeToken() {
        this.type = getSuperclassTypeParameter(getClass());
    }
    
    public Type getType() { return type; }
    
    private static Type getSuperclassTypeParameter(Class<?> subclass) {
        Type superclass = subclass.getGenericSuperclass();
        if (superclass instanceof ParameterizedType) {
            return ((ParameterizedType) superclass).getActualTypeArguments()[0];
        }
        throw new RuntimeException("Missing type parameter.");
    }
}

// ä½¿ç”¨ç¤ºä¾‹
TypeToken<List<String>> token = new TypeToken<List<String>>() {};
Type listType = token.getType();  // è·å–List<String>ç±»å‹
```

---

## 8. ğŸ”§ å®ç”¨ç±»å‹æŠ€å·§


### 8.1 çª„åŒ–ç±»å‹


**æ¦‚å¿µ**ï¼šå°†å®½æ³›çš„ç±»å‹é€æ­¥ç¼©å°åˆ°æ›´å…·ä½“çš„ç±»å‹ã€‚

```java
// ç±»å‹çª„åŒ–ç¤ºä¾‹
public static Optional<Integer> parseInteger(String input) {
    try {
        return Optional.of(Integer.parseInt(input));
    } catch (NumberFormatException e) {
        return Optional.empty();
    }
}

// ä»Objectçª„åŒ–åˆ°å…·ä½“ç±»å‹
public static <T> Optional<T> safeCast(Object obj, Class<T> targetType) {
    if (targetType.isInstance(obj)) {
        return Optional.of(targetType.cast(obj));
    }
    return Optional.empty();
}

// ä½¿ç”¨ç¤ºä¾‹
Object unknownObject = getUnknownObject();
Optional<String> maybeString = safeCast(unknownObject, String.class);
maybeString.ifPresent(str -> System.out.println("å­—ç¬¦ä¸²é•¿åº¦: " + str.length()));
```

### 8.2 éç©ºç±»å‹è®¾è®¡


**æ¦‚å¿µ**ï¼šåœ¨ç±»å‹å±‚é¢ä¿è¯æŸäº›å€¼ä¸ä¸ºnullã€‚

```java
// éç©ºç±»å‹çš„è®¾è®¡æ¨¡å¼
public class NonNull<T> {
    private final T value;
    
    private NonNull(T value) {
        this.value = Objects.requireNonNull(value, "å€¼ä¸èƒ½ä¸ºnull");
    }
    
    public static <T> NonNull<T> of(T value) {
        return new NonNull<>(value);
    }
    
    public T get() {
        return value;  // ç»å¯¹ä¸ä¼šè¿”å›null
    }
    
    public <U> NonNull<U> map(Function<T, U> mapper) {
        U result = mapper.apply(value);
        return NonNull.of(result);  // ç¡®ä¿ç»“æœä¹Ÿénull
    }
}

// ä½¿ç”¨ç¤ºä¾‹
NonNull<String> nonNullString = NonNull.of("Hello");
NonNull<Integer> length = nonNullString.map(String::length);
System.out.println("é•¿åº¦: " + length.get());  // ç»å¯¹å®‰å…¨
```

### 8.3 å¯ç©ºç±»å‹å»ºæ¨¡


**æ¦‚å¿µ**ï¼šæ˜ç¡®è¡¨ç¤ºå¯èƒ½ä¸ºç©ºçš„å€¼ã€‚

```java
// å¯ç©ºç±»å‹çš„Optionå®ç°
public class Nullable<T> {
    private final T value;  // å¯èƒ½ä¸ºnull
    
    private Nullable(T value) {
        this.value = value;
    }
    
    public static <T> Nullable<T> of(T value) {
        return new Nullable<>(value);
    }
    
    public static <T> Nullable<T> empty() {
        return new Nullable<>(null);
    }
    
    public boolean isPresent() {
        return value != null;
    }
    
    public T orElse(T defaultValue) {
        return value != null ? value : defaultValue;
    }
    
    public <U> Nullable<U> map(Function<T, U> mapper) {
        if (value == null) return Nullable.empty();
        return Nullable.of(mapper.apply(value));
    }
}

// APIè®¾è®¡ä¸­çš„ä½¿ç”¨
public class UserService {
    // æ˜ç¡®è¡¨ç¤ºå¯èƒ½æ‰¾ä¸åˆ°ç”¨æˆ·
    public Nullable<User> findUserByEmail(String email) {
        User user = database.findByEmail(email);
        return user != null ? Nullable.of(user) : Nullable.empty();
    }
    
    // æ˜ç¡®è¡¨ç¤ºä¸€å®šè¦è¿”å›ç”¨æˆ·ï¼ˆæ‰¾ä¸åˆ°å°±æŠ›å¼‚å¸¸ï¼‰
    public NonNull<User> getUserByEmail(String email) {
        User user = database.findByEmail(email);
        if (user == null) {
            throw new UserNotFoundException("æ‰¾ä¸åˆ°é‚®ç®±ä¸º " + email + " çš„ç”¨æˆ·");
        }
        return NonNull.of(user);
    }
}
```

### 8.4 ç»“æœä¸é”™è¯¯å»ºæ¨¡


**æ¦‚å¿µ**ï¼šç”¨ç±»å‹å®‰å…¨çš„æ–¹å¼å¤„ç†å¯èƒ½å¤±è´¥çš„æ“ä½œã€‚

```java
// Resultç±»å‹ï¼šè¦ä¹ˆæˆåŠŸè¦ä¹ˆå¤±è´¥
public abstract class Result<T, E> {
    
    public static <T, E> Result<T, E> success(T value) {
        return new Success<>(value);
    }
    
    public static <T, E> Result<T, E> failure(E error) {
        return new Failure<>(error);
    }
    
    public abstract boolean isSuccess();
    public abstract T getValue();
    public abstract E getError();
    
    // å‡½æ•°å¼æ“ä½œ
    public abstract <U> Result<U, E> map(Function<T, U> mapper);
    public abstract <U> Result<U, E> flatMap(Function<T, Result<U, E>> mapper);
    
    private static class Success<T, E> extends Result<T, E> {
        private final T value;
        
        Success(T value) {
            this.value = Objects.requireNonNull(value);
        }
        
        public boolean isSuccess() { return true; }
        public T getValue() { return value; }
        public E getError() { throw new IllegalStateException("æˆåŠŸç»“æœæ²¡æœ‰é”™è¯¯"); }
        
        public <U> Result<U, E> map(Function<T, U> mapper) {
            return Result.success(mapper.apply(value));
        }
        
        public <U> Result<U, E> flatMap(Function<T, Result<U, E>> mapper) {
            return mapper.apply(value);
        }
    }
    
    private static class Failure<T, E> extends Result<T, E> {
        private final E error;
        
        Failure(E error) {
            this.error = Objects.requireNonNull(error);
        }
        
        public boolean isSuccess() { return false; }
        public T getValue() { throw new IllegalStateException("å¤±è´¥ç»“æœæ²¡æœ‰å€¼"); }
        public E getError() { return error; }
        
        public <U> Result<U, E> map(Function<T, U> mapper) {
            return Result.failure(error);
        }
        
        public <U> Result<U, E> flatMap(Function<T, Result<U, E>> mapper) {
            return Result.failure(error);
        }
    }
}

// å®é™…ä½¿ç”¨ç¤ºä¾‹
public Result<User, String> createUser(String name, String email) {
    if (name == null || name.trim().isEmpty()) {
        return Result.failure("ç”¨æˆ·åä¸èƒ½ä¸ºç©º");
    }
    
    if (!isValidEmail(email)) {
        return Result.failure("é‚®ç®±æ ¼å¼ä¸æ­£ç¡®");
    }
    
    try {
        User user = new User(name, email);
        userRepository.save(user);
        return Result.success(user);
    } catch (Exception e) {
        return Result.failure("ä¿å­˜ç”¨æˆ·å¤±è´¥: " + e.getMessage());
    }
}

// é“¾å¼æ“ä½œ
Result<String, String> result = createUser("å¼ ä¸‰", "zhangsan@example.com")
    .map(user -> "ç”¨æˆ·åˆ›å»ºæˆåŠŸï¼ŒID: " + user.getId())
    .flatMap(message -> sendWelcomeEmail(message));

if (result.isSuccess()) {
    System.out.println(result.getValue());
} else {
    System.err.println("æ“ä½œå¤±è´¥: " + result.getError());
}
```

---

## 9. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 9.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ æ³›å‹åŸºç¡€ï¼šç±»å‹å‚æ•°ã€ç±»å‹å®‰å…¨ã€é¿å…å¼ºåˆ¶è½¬æ¢
ğŸ”¸ ç±»å‹çº¦æŸï¼šä¸Šç•Œextendsã€ä¸‹ç•Œsuperã€PECSåŸåˆ™  
ğŸ”¸ åå˜é€†å˜ï¼šç”Ÿäº§è€…extendsã€æ¶ˆè´¹è€…superã€ä¸å˜æ€§é»˜è®¤
ğŸ”¸ ç±»å‹æ“¦é™¤ï¼šç¼–è¯‘æ—¶æ£€æŸ¥ã€è¿è¡Œæ—¶æ“¦é™¤ã€å…¼å®¹æ€§è€ƒè™‘
ğŸ”¸ ä»£æ•°ç±»å‹ï¼šå’Œç±»å‹ï¼ˆé€‰æ‹©ï¼‰ã€ç§¯ç±»å‹ï¼ˆç»„åˆï¼‰ã€Optionæ¨¡å¼
ğŸ”¸ å®ç”¨æŠ€å·§ï¼šçª„åŒ–ç±»å‹ã€éç©ºä¿è¯ã€é”™è¯¯å»ºæ¨¡
```

### 9.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ æ³›å‹çš„ä»·å€¼**
```
ç±»å‹å®‰å…¨ï¼šç¼–è¯‘æ—¶å‘ç°é”™è¯¯ï¼Œè€Œä¸æ˜¯è¿è¡Œæ—¶å´©æºƒ
ä»£ç å¤ç”¨ï¼šä¸€ä»½ä»£ç å¤„ç†å¤šç§ç±»å‹
è‡ªæ–‡æ¡£åŒ–ï¼šç±»å‹å°±æ˜¯æœ€å¥½çš„æ–‡æ¡£
```

**ğŸ”¹ PECSè®°å¿†æ³•**
```
ğŸ“¤ Producer Extendsï¼ˆç”Ÿäº§è€…ï¼‰
   - ä»å®¹å™¨ä¸­å–å‡ºæ•°æ®
   - List<? extends T>
   - åªè¯»ä¸å†™

ğŸ“¥ Consumer Superï¼ˆæ¶ˆè´¹è€…ï¼‰  
   - å‘å®¹å™¨ä¸­æ”¾å…¥æ•°æ®
   - List<? super T>
   - åªå†™ä¸è¯»
```

**ğŸ”¹ ç±»å‹é©±åŠ¨è®¾è®¡**
```
è®©é”™è¯¯çš„ç”¨æ³•æ— æ³•ç¼–è¯‘
è®©æ­£ç¡®çš„ç”¨æ³•æ˜¾è€Œæ˜“è§  
ç”¨ç±»å‹ç³»ç»Ÿè¡¨è¾¾ä¸šåŠ¡é€»è¾‘
```

### 9.3 å®é™…åº”ç”¨æŒ‡å¯¼


**âœ… æœ€ä½³å®è·µ**
- ä¼˜å…ˆä½¿ç”¨æ³›å‹è€Œä¸æ˜¯åŸå§‹ç±»å‹
- åˆç†ä½¿ç”¨é€šé…ç¬¦ï¼Œéµå¾ªPECSåŸåˆ™
- è®¾è®¡APIæ—¶è€ƒè™‘ç±»å‹å®‰å…¨
- ç”¨ä»£æ•°æ•°æ®ç±»å‹å»ºæ¨¡å¤æ‚ä¸šåŠ¡

**âŒ å¸¸è§è¯¯åŒº**  
- è¿‡åº¦ä½¿ç”¨å¤æ‚çš„æ³›å‹ï¼Œé™ä½å¯è¯»æ€§
- å¿½ç•¥ç±»å‹æ“¦é™¤çš„é™åˆ¶
- æ»¥ç”¨é€šé…ç¬¦ï¼Œè®©ä»£ç éš¾ä»¥ç†è§£
- ä¸åŒºåˆ†å¯ç©ºå’Œéç©ºç±»å‹

**ğŸ¯ å­¦ä¹ å»ºè®®**
- ä»ç®€å•æ³›å‹å¼€å§‹ï¼Œé€æ­¥æŒæ¡é«˜çº§ç‰¹æ€§
- å¤šç»ƒä¹ PECSåŸåˆ™çš„åº”ç”¨
- å°è¯•ç”¨ç±»å‹ç³»ç»Ÿè¡¨è¾¾ä¸šåŠ¡è§„åˆ™
- å…³æ³¨å…¶ä»–è¯­è¨€çš„ç±»å‹ç³»ç»Ÿè®¾è®¡

**æ ¸å¿ƒè®°å¿†å£è¯€**ï¼š
- æ³›å‹ä¿å®‰å…¨ï¼Œç±»å‹è¦æ˜ç¡®
- ç”Ÿäº§ç”¨extendsï¼Œæ¶ˆè´¹ç”¨super  
- æ“¦é™¤æœ‰é™åˆ¶ï¼Œè®¾è®¡è¦å·§å¦™
- ä»£æ•°å»ºæ¨¡å¥½ï¼Œé”™è¯¯æ—©å‘ç°