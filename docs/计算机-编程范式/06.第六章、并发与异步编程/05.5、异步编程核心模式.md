---
title: 5ã€å¼‚æ­¥ç¼–ç¨‹æ ¸å¿ƒæ¨¡å¼
---
## ğŸ“š ç›®å½•

1. [å¼‚æ­¥ç¼–ç¨‹åŸºç¡€æ¦‚å¿µ](#1-å¼‚æ­¥ç¼–ç¨‹åŸºç¡€æ¦‚å¿µ)
2. [å›è°ƒå‡½æ•°è¯¦è§£](#2-å›è°ƒå‡½æ•°è¯¦è§£)
3. [Promiseæœºåˆ¶æ·±å…¥](#3-Promiseæœºåˆ¶æ·±å…¥)
4. [async/awaitç°ä»£å†™æ³•](#4-async-awaitç°ä»£å†™æ³•)
5. [ç”Ÿæˆå™¨ä¸è¿­ä»£å™¨](#5-ç”Ÿæˆå™¨ä¸è¿­ä»£å™¨)
6. [äº‹ä»¶å¾ªç¯æœºåˆ¶](#6-äº‹ä»¶å¾ªç¯æœºåˆ¶)
7. [å¼‚æ­¥ç¼–ç¨‹æœ€ä½³å®è·µ](#7-å¼‚æ­¥ç¼–ç¨‹æœ€ä½³å®è·µ)
8. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#8-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸŒŸ å¼‚æ­¥ç¼–ç¨‹åŸºç¡€æ¦‚å¿µ


### 1.1 ä»€ä¹ˆæ˜¯å¼‚æ­¥ç¼–ç¨‹


**ğŸ”¸ åŒæ­¥ vs å¼‚æ­¥çš„ç”Ÿæ´»ä¾‹å­**
```
åŒæ­¥ç¼–ç¨‹åƒæ˜¯ï¼š
ä½ å»é¤å…ç‚¹é¤ â†’ å¨å¸ˆåšèœ â†’ ä½ ç­‰ç€ â†’ èœåšå¥½äº†ä½ æ‰èƒ½åšå…¶ä»–äº‹

å¼‚æ­¥ç¼–ç¨‹åƒæ˜¯ï¼š
ä½ å»é¤å…ç‚¹é¤ â†’ æ‹¿åˆ°å·ç ç‰Œ â†’ ä½ å¯ä»¥ç©æ‰‹æœºã€èŠå¤© â†’ å«å·æ—¶å†å»å–é¤
```

**ğŸ’¡ æ ¸å¿ƒç†è§£**
- **åŒæ­¥**ï¼šå¿…é¡»ç­‰ä¸€ä»¶äº‹åšå®Œï¼Œæ‰èƒ½åšä¸‹ä¸€ä»¶äº‹
- **å¼‚æ­¥**ï¼šä¸ç”¨ç­‰ï¼Œå¯ä»¥åŒæ—¶å¤„ç†å¤šä»¶äº‹
- **å¼‚æ­¥ç¼–ç¨‹**ï¼šè®©ç¨‹åºåœ¨ç­‰å¾…è€—æ—¶æ“ä½œæ—¶ï¼Œè¿˜èƒ½å¤„ç†å…¶ä»–ä»»åŠ¡

### 1.2 ä¸ºä»€ä¹ˆéœ€è¦å¼‚æ­¥ç¼–ç¨‹


**ğŸš€ ç°å®åœºæ™¯éœ€æ±‚**
```
ç½‘é¡µåŠ è½½å›¾ç‰‡ï¼š
âŒ åŒæ­¥æ–¹å¼ï¼šé¡µé¢å¡ä½ï¼Œç­‰æ‰€æœ‰å›¾ç‰‡åŠ è½½å®Œæ‰èƒ½æ“ä½œ
âœ… å¼‚æ­¥æ–¹å¼ï¼šå›¾ç‰‡åœ¨åå°åŠ è½½ï¼Œç”¨æˆ·å¯ä»¥ç»§ç»­æµè§ˆ

å‘é€ç½‘ç»œè¯·æ±‚ï¼š
âŒ åŒæ­¥æ–¹å¼ï¼šç‚¹å‡»æŒ‰é’®åç•Œé¢å†»ç»“ï¼Œç­‰æœåŠ¡å™¨å“åº”
âœ… å¼‚æ­¥æ–¹å¼ï¼šæ˜¾ç¤ºåŠ è½½çŠ¶æ€ï¼Œç”¨æˆ·å¯ä»¥å–æ¶ˆæˆ–åšå…¶ä»–æ“ä½œ
```

**âš¡ æ ¸å¿ƒä»·å€¼**
- **æå‡ç”¨æˆ·ä½“éªŒ**ï¼šç•Œé¢ä¸å¡é¡¿ï¼Œå“åº”æ›´æµç•…
- **æé«˜ç¨‹åºæ•ˆç‡**ï¼šå……åˆ†åˆ©ç”¨ç­‰å¾…æ—¶é—´å¤„ç†å…¶ä»–ä»»åŠ¡
- **å¤„ç†è€—æ—¶æ“ä½œ**ï¼šæ–‡ä»¶è¯»å†™ã€ç½‘ç»œè¯·æ±‚ã€æ•°æ®åº“æŸ¥è¯¢ç­‰

### 1.3 å¼‚æ­¥ç¼–ç¨‹çš„æŒ‘æˆ˜


**ğŸ¤” ä¸»è¦éš¾ç‚¹**
```
ç†è§£éš¾åº¦ï¼š
- ä»£ç æ‰§è¡Œé¡ºåºä¸æ˜¯ä»ä¸Šåˆ°ä¸‹
- éœ€è¦ç†è§£å›è°ƒã€Promiseç­‰æ¦‚å¿µ

é”™è¯¯å¤„ç†ï¼š
- å¼‚æ­¥é”™è¯¯ä¸èƒ½ç”¨æ™®é€štry-catchæ•è·
- éœ€è¦ç‰¹æ®Šçš„é”™è¯¯å¤„ç†æœºåˆ¶

è°ƒè¯•å›°éš¾ï¼š
- è°ƒç”¨æ ˆå˜å¾—å¤æ‚
- æ–­ç‚¹è°ƒè¯•ä¸å¤Ÿç›´è§‚
```

---

## 2. ğŸ“ å›è°ƒå‡½æ•°è¯¦è§£


### 2.1 ä»€ä¹ˆæ˜¯å›è°ƒå‡½æ•°


**ğŸ”¸ å›è°ƒå‡½æ•°çš„æœ¬è´¨**
```javascript
// å›è°ƒå‡½æ•°å°±æ˜¯"ç¨åå†è°ƒç”¨çš„å‡½æ•°"
function åšå®Œé¥­åè¦åšçš„äº‹() {
    console.log("å¼€é¥­å•¦ï¼");
}

function åšé¥­(åšå®Œåçš„åŠ¨ä½œ) {
    console.log("å¼€å§‹åšé¥­...");
    // æ¨¡æ‹Ÿåšé¥­éœ€è¦æ—¶é—´
    setTimeout(() => {
        console.log("é¥­åšå¥½äº†");
        åšå®Œåçš„åŠ¨ä½œ(); // è¿™å°±æ˜¯å›è°ƒ
    }, 2000);
}

åšé¥­(åšå®Œé¥­åè¦åšçš„äº‹);
```

**ğŸ’¡ é€šä¿—ç†è§£**
- **å›è°ƒå‡½æ•°**ï¼šä½ å‘Šè¯‰åˆ«äºº"äº‹æƒ…åšå®Œåï¼Œè®°å¾—é€šçŸ¥æˆ‘"
- **å›è°ƒ**ï¼šå°±æ˜¯"åšå®Œåé€šçŸ¥ä½ "è¿™ä¸ªåŠ¨ä½œ
- **å‡½æ•°ä½œä¸ºå‚æ•°**ï¼šæŠŠ"é€šçŸ¥æ–¹å¼"å‘Šè¯‰å¯¹æ–¹

### 2.2 å›è°ƒå‡½æ•°çš„åŸºæœ¬ç”¨æ³•


**ğŸ“ ç®€å•ç¤ºä¾‹**
```javascript
// 1. æœ€ç®€å•çš„å›è°ƒ
function sayHello(name, callback) {
    console.log(`ä½ å¥½, ${name}`);
    callback();
}

sayHello("å°æ˜", function() {
    console.log("é—®å€™å®Œæˆï¼");
});

// 2. å¸¦å‚æ•°çš„å›è°ƒ
function fetchUserData(userId, onSuccess, onError) {
    // æ¨¡æ‹Ÿç½‘ç»œè¯·æ±‚
    if (userId > 0) {
        onSuccess({ id: userId, name: "ç”¨æˆ·" + userId });
    } else {
        onError("ç”¨æˆ·IDæ— æ•ˆ");
    }
}

fetchUserData(1, 
    function(user) { 
        console.log("è·å–ç”¨æˆ·æˆåŠŸ:", user); 
    },
    function(error) { 
        console.log("è·å–ç”¨æˆ·å¤±è´¥:", error); 
    }
);
```

### 2.3 å›è°ƒåœ°ç‹±é—®é¢˜


**ğŸ˜± ä»€ä¹ˆæ˜¯å›è°ƒåœ°ç‹±**
```javascript
// è¿™å°±æ˜¯ä¼ è¯´ä¸­çš„"å›è°ƒåœ°ç‹±"
getUserInfo(userId, function(user) {
    getOrderList(user.id, function(orders) {
        getOrderDetail(orders[0].id, function(detail) {
            getPaymentInfo(detail.paymentId, function(payment) {
                console.log("ç»ˆäºæ‹¿åˆ°æ”¯ä»˜ä¿¡æ¯äº†:", payment);
                // ä»£ç è¶Šæ¥è¶Šå¾€å³ç¼©è¿›ï¼Œåƒé‡‘å­—å¡”ä¸€æ ·
            });
        });
    });
});
```

**ğŸ”¸ å›è°ƒåœ°ç‹±çš„é—®é¢˜**
```
å¯è¯»æ€§å·®ï¼š
- ä»£ç å±‚å±‚åµŒå¥—ï¼Œéš¾ä»¥ç†è§£
- ç¼©è¿›è¶Šæ¥è¶Šæ·±ï¼Œåƒé‡‘å­—å¡”

ç»´æŠ¤å›°éš¾ï¼š
- æ·»åŠ æ–°é€»è¾‘å¾ˆå¤æ‚
- é”™è¯¯å¤„ç†åˆ†æ•£åœ¨å„ä¸ªå±‚çº§

è°ƒè¯•è‰°éš¾ï¼š
- å¾ˆéš¾è·Ÿè¸ªç¨‹åºæ‰§è¡Œæµç¨‹
- é”™è¯¯æ ˆä¿¡æ¯æ··ä¹±
```

**âš ï¸ å›è°ƒåœ°ç‹±çš„ç‰¹å¾**
- **å±‚å±‚åµŒå¥—**ï¼šå›è°ƒå‡½æ•°é‡Œè¿˜æœ‰å›è°ƒå‡½æ•°
- **æ¨ªå‘å‘å±•**ï¼šä»£ç ä¸æ–­å‘å³ç¼©è¿›
- **éš¾ä»¥ç»´æŠ¤**ï¼šä¿®æ”¹ä¸€ä¸ªåœ°æ–¹å½±å“å¤šä¸ªå±‚çº§

---

## 3. ğŸ¤ Promiseæœºåˆ¶æ·±å…¥


### 3.1 Promiseæ˜¯ä»€ä¹ˆ


**ğŸ¯ Promiseçš„ç”Ÿæ´»æ¯”å–»**
```
Promiseå°±åƒæ˜¯ä¸€å¼ "æ¬ æ¡"ï¼š

æƒ…å†µ1 - æœªå†³å®š(pending)ï¼š
"æˆ‘æ‰¿è¯ºæ˜å¤©ç»™ä½ ç»“æœï¼Œä½†ç°åœ¨è¿˜ä¸çŸ¥é“æ˜¯ä»€ä¹ˆ"

æƒ…å†µ2 - å·²å…‘ç°(fulfilled)ï¼š
"æˆ‘æ‰¿è¯ºçš„äº‹æƒ…åšå®Œäº†ï¼Œè¿™æ˜¯ç»“æœ"

æƒ…å†µ3 - å·²æ‹’ç»(rejected)ï¼š
"ä¸å¥½æ„æ€ï¼Œæ‰¿è¯ºçš„äº‹æƒ…æ²¡èƒ½åšåˆ°ï¼Œè¿™æ˜¯åŸå› "
```

**ğŸ’¡ Promiseçš„æ ¸å¿ƒç†è§£**
- **Promise**ï¼šä»£è¡¨ä¸€ä¸ªæœªæ¥æ‰ä¼šå®Œæˆçš„æ“ä½œ
- **çŠ¶æ€**ï¼šæœ‰ä¸‰ç§çŠ¶æ€ï¼Œåªèƒ½ä»pendingå˜ä¸ºfulfilledæˆ–rejected
- **ä¸å¯é€†**ï¼šçŠ¶æ€ä¸€æ—¦æ”¹å˜å°±ä¸èƒ½å†å˜

### 3.2 PromiseåŸºæœ¬è¯­æ³•


**ğŸ“ åˆ›å»ºPromise**
```javascript
// 1. åŸºæœ¬çš„Promiseåˆ›å»º
const myPromise = new Promise((resolve, reject) => {
    // è¿™é‡Œæ”¾å¼‚æ­¥æ“ä½œ
    const success = true; // å‡è®¾è¿™æ˜¯æ“ä½œç»“æœ
    
    if (success) {
        resolve("æ“ä½œæˆåŠŸï¼"); // æˆåŠŸæ—¶è°ƒç”¨resolve
    } else {
        reject("æ“ä½œå¤±è´¥ï¼");  // å¤±è´¥æ—¶è°ƒç”¨reject
    }
});

// 2. ä½¿ç”¨Promise
myPromise
    .then(result => {
        console.log("æˆåŠŸ:", result);
    })
    .catch(error => {
        console.log("å¤±è´¥:", error);
    });
```

**ğŸ”§ å®é™…åº”ç”¨ç¤ºä¾‹**
```javascript
// æ¨¡æ‹Ÿç½‘ç»œè¯·æ±‚çš„Promise
function fetchData(url) {
    return new Promise((resolve, reject) => {
        // æ¨¡æ‹Ÿç½‘ç»œå»¶è¿Ÿ
        setTimeout(() => {
            if (url.includes("api")) {
                resolve({ data: "ä»æœåŠ¡å™¨è·å–çš„æ•°æ®" });
            } else {
                reject(new Error("æ— æ•ˆçš„APIåœ°å€"));
            }
        }, 1000);
    });
}

// ä½¿ç”¨
fetchData("https://api.example.com")
    .then(response => {
        console.log("æ•°æ®è·å–æˆåŠŸ:", response.data);
    })
    .catch(error => {
        console.log("æ•°æ®è·å–å¤±è´¥:", error.message);
    });
```

### 3.3 Promiseé“¾å¼è°ƒç”¨


**â›“ï¸ è§£å†³å›è°ƒåœ°ç‹±**
```javascript
// ä¹‹å‰çš„å›è°ƒåœ°ç‹±
getUserInfo(userId, function(user) {
    getOrderList(user.id, function(orders) {
        getOrderDetail(orders[0].id, function(detail) {
            console.log("è®¢å•è¯¦æƒ…:", detail);
        });
    });
});

// ç”¨Promiseé‡å†™ï¼Œå˜æˆé“¾å¼è°ƒç”¨
getUserInfo(userId)
    .then(user => getOrderList(user.id))
    .then(orders => getOrderDetail(orders[0].id))
    .then(detail => {
        console.log("è®¢å•è¯¦æƒ…:", detail);
    })
    .catch(error => {
        console.log("ä»»ä½•ä¸€æ­¥å‡ºé”™éƒ½ä¼šåˆ°è¿™é‡Œ:", error);
    });
```

**ğŸ”¸ é“¾å¼è°ƒç”¨çš„å…³é”®ç‚¹**
```javascript
// thenæ–¹æ³•çš„è¿”å›å€¼å†³å®šä¸‹ä¸€ä¸ªthenæ¥æ”¶ä»€ä¹ˆ
promise
    .then(result => {
        return "æ™®é€šå€¼";        // ä¸‹ä¸ªthenæ¥æ”¶"æ™®é€šå€¼"
    })
    .then(result => {
        return Promise.resolve("Promiseå€¼"); // ä¸‹ä¸ªthenæ¥æ”¶"Promiseå€¼"
    })
    .then(result => {
        console.log(result);    // è¾“å‡º: "Promiseå€¼"
    });
```

### 3.4 Promiseçš„å¸¸ç”¨æ–¹æ³•


**ğŸ› ï¸ Promise.all() - å…¨éƒ¨å®Œæˆ**
```javascript
// ç­‰æ‰€æœ‰Promiseéƒ½æˆåŠŸ
const promises = [
    fetchData("api1"),
    fetchData("api2"), 
    fetchData("api3")
];

Promise.all(promises)
    .then(results => {
        console.log("æ‰€æœ‰æ•°æ®éƒ½è·å–æˆåŠŸ:", results);
        // resultsæ˜¯ä¸€ä¸ªæ•°ç»„ï¼ŒåŒ…å«æ‰€æœ‰Promiseçš„ç»“æœ
    })
    .catch(error => {
        console.log("æœ‰ä»»ä½•ä¸€ä¸ªå¤±è´¥:", error);
    });
```

**âš¡ Promise.race() - æœ€å¿«å®Œæˆ**
```javascript
// è°æœ€å¿«å®Œæˆå°±ç”¨è°çš„ç»“æœ
Promise.race([
    fetchData("å¿«é€ŸæœåŠ¡å™¨"),
    fetchData("æ…¢é€ŸæœåŠ¡å™¨")
])
.then(result => {
    console.log("æœ€å¿«çš„ç»“æœ:", result);
});
```

---

## 4. ğŸš€ async/awaitç°ä»£å†™æ³•


### 4.1 async/awaitæ˜¯ä»€ä¹ˆ


**ğŸ¯ è®©å¼‚æ­¥ä»£ç çœ‹èµ·æ¥åƒåŒæ­¥**
```javascript
// Promiseå†™æ³•ï¼ˆçœ‹èµ·æ¥è¿˜æ˜¯å¾ˆå¤æ‚ï¼‰
function getData() {
    return fetchUser()
        .then(user => fetchOrders(user.id))
        .then(orders => fetchOrderDetail(orders[0].id))
        .then(detail => {
            console.log("è®¢å•è¯¦æƒ…:", detail);
            return detail;
        });
}

// async/awaitå†™æ³•ï¼ˆçœ‹èµ·æ¥åƒåŒæ­¥ä»£ç ï¼‰
async function getData() {
    const user = await fetchUser();
    const orders = await fetchOrders(user.id);
    const detail = await fetchOrderDetail(orders[0].id);
    
    console.log("è®¢å•è¯¦æƒ…:", detail);
    return detail;
}
```

**ğŸ’¡ æ ¸å¿ƒç†è§£**
- **async**ï¼šæ ‡è®°è¿™ä¸ªå‡½æ•°ä¼šä½¿ç”¨await
- **await**ï¼šç­‰å¾…Promiseå®Œæˆï¼Œç„¶åæ‹¿åˆ°ç»“æœ
- **æœ¬è´¨**ï¼šPromiseçš„è¯­æ³•ç³–ï¼Œè®©ä»£ç æ›´å®¹æ˜“è¯»å†™

### 4.2 async/awaitåŸºæœ¬ç”¨æ³•


**ğŸ“ åŸºç¡€è¯­æ³•**
```javascript
// 1. å£°æ˜asyncå‡½æ•°
async function myAsyncFunction() {
    // å¯ä»¥åœ¨è¿™é‡Œä½¿ç”¨await
}

// 2. awaitåªèƒ½åœ¨asyncå‡½æ•°å†…ä½¿ç”¨
async function fetchUserData() {
    try {
        const response = await fetch("https://api.example.com/user");
        const data = await response.json();
        return data;
    } catch (error) {
        console.log("è·å–æ•°æ®å¤±è´¥:", error);
        throw error; // é‡æ–°æŠ›å‡ºé”™è¯¯
    }
}

// 3. è°ƒç”¨asyncå‡½æ•°
fetchUserData()
    .then(data => console.log("ç”¨æˆ·æ•°æ®:", data))
    .catch(error => console.log("å¤„ç†å¤±è´¥:", error));
```

**ğŸ”§ å®é™…åº”ç”¨å¯¹æ¯”**
```javascript
// Promiseæ–¹å¼
function loadPageData() {
    return getUser()
        .then(user => {
            return getSettings().then(settings => {
                return getContent().then(content => {
                    return { user, settings, content };
                });
            });
        });
}

// async/awaitæ–¹å¼
async function loadPageData() {
    const user = await getUser();
    const settings = await getSettings();
    const content = await getContent();
    
    return { user, settings, content };
}
```

### 4.3 é”™è¯¯å¤„ç†


**âš ï¸ try-catchå¤„ç†é”™è¯¯**
```javascript
async function safeOperation() {
    try {
        const step1 = await doSomething();
        const step2 = await doAnotherThing(step1);
        const step3 = await finalStep(step2);
        
        console.log("æ‰€æœ‰æ­¥éª¤å®Œæˆ:", step3);
        return step3;
    } catch (error) {
        console.log("æŸä¸ªæ­¥éª¤å¤±è´¥äº†:", error.message);
        // å¯ä»¥é€‰æ‹©è¿”å›é»˜è®¤å€¼æˆ–é‡æ–°æŠ›å‡ºé”™è¯¯
        return null;
    }
}
```

**ğŸ”¸ é”™è¯¯å¤„ç†æœ€ä½³å®è·µ**
```javascript
// 1. å…·ä½“é”™è¯¯å¤„ç†
async function fetchWithRetry(url, maxRetries = 3) {
    for (let i = 0; i < maxRetries; i++) {
        try {
            const response = await fetch(url);
            if (response.ok) {
                return await response.json();
            }
            throw new Error(`HTTP ${response.status}`);
        } catch (error) {
            console.log(`å°è¯• ${i + 1} å¤±è´¥:`, error.message);
            if (i === maxRetries - 1) {
                throw error; // æœ€åä¸€æ¬¡é‡è¯•å¤±è´¥ï¼ŒæŠ›å‡ºé”™è¯¯
            }
            await sleep(1000); // ç­‰å¾…1ç§’åé‡è¯•
        }
    }
}

function sleep(ms) {
    return new Promise(resolve => setTimeout(resolve, ms));
}
```

### 4.4 å¹¶å‘å¤„ç†


**âš¡ åŒæ—¶æ‰§è¡Œå¤šä¸ªå¼‚æ­¥æ“ä½œ**
```javascript
// âŒ ä¸²è¡Œæ‰§è¡Œï¼ˆæ•ˆç‡ä½ï¼‰
async function slowWay() {
    const user = await fetchUser();      // ç­‰å¾…1ç§’
    const posts = await fetchPosts();    // å†ç­‰å¾…1ç§’
    const comments = await fetchComments(); // å†ç­‰å¾…1ç§’
    // æ€»å…±éœ€è¦3ç§’
    return { user, posts, comments };
}

// âœ… å¹¶è¡Œæ‰§è¡Œï¼ˆæ•ˆç‡é«˜ï¼‰
async function fastWay() {
    const [user, posts, comments] = await Promise.all([
        fetchUser(),      // ä¸‰ä¸ªè¯·æ±‚åŒæ—¶å‘å‡º
        fetchPosts(),     // éƒ½åœ¨1ç§’å†…å®Œæˆ
        fetchComments()   // æ€»å…±åªéœ€è¦1ç§’
    ]);
    return { user, posts, comments };
}
```

---

## 5. ğŸ”„ ç”Ÿæˆå™¨ä¸è¿­ä»£å™¨


### 5.1 ä»€ä¹ˆæ˜¯ç”Ÿæˆå™¨


**ğŸ¯ ç”Ÿæˆå™¨çš„ç”Ÿæ´»æ¯”å–»**
```
ç”Ÿæˆå™¨å°±åƒæ˜¯ä¸€ä¸ª"åˆ†æ®µæ’­æ”¾å™¨"ï¼š

æ™®é€šå‡½æ•°ï¼š
- ä¸€æ¬¡æ€§æ’­æ”¾å®Œæ•´é¦–æ­Œ
- ä¸­é€”ä¸èƒ½æš‚åœ

ç”Ÿæˆå™¨å‡½æ•°ï¼š
- å¯ä»¥æ’­æ”¾ä¸€æ®µï¼Œç„¶åæš‚åœ
- æƒ³ç»§ç»­æ—¶å†æ’­æ”¾ä¸‹ä¸€æ®µ
- å®Œå…¨ç”±ä½ æ§åˆ¶æ’­æ”¾è¿›åº¦
```

**ğŸ’¡ ç”Ÿæˆå™¨çš„æ ¸å¿ƒç‰¹ç‚¹**
- **å¯æš‚åœ**ï¼šå‡½æ•°æ‰§è¡Œå¯ä»¥ä¸­é€”åœä¸‹æ¥
- **å¯æ¢å¤**ï¼šå¯ä»¥ä»åœä¸‹çš„åœ°æ–¹ç»§ç»­æ‰§è¡Œ
- **æ‡’æƒ°**ï¼šåªæœ‰éœ€è¦æ—¶æ‰è®¡ç®—ä¸‹ä¸€ä¸ªå€¼

### 5.2 ç”Ÿæˆå™¨åŸºæœ¬è¯­æ³•


**ğŸ“ åˆ›å»ºå’Œä½¿ç”¨ç”Ÿæˆå™¨**
```javascript
// 1. åˆ›å»ºç”Ÿæˆå™¨å‡½æ•°ï¼ˆæ³¨æ„functionåé¢çš„*ï¼‰
function* simpleGenerator() {
    console.log("å¼€å§‹æ‰§è¡Œ");
    yield "ç¬¬ä¸€ä¸ªå€¼";
    console.log("ç¬¬ä¸€æ¬¡æš‚åœåç»§ç»­");
    yield "ç¬¬äºŒä¸ªå€¼";
    console.log("ç¬¬äºŒæ¬¡æš‚åœåç»§ç»­");
    return "ç»“æŸå€¼";
}

// 2. ä½¿ç”¨ç”Ÿæˆå™¨
const generator = simpleGenerator(); // è¿™æ—¶è¿˜æ²¡å¼€å§‹æ‰§è¡Œ

console.log(generator.next()); // å¼€å§‹æ‰§è¡Œï¼Œé‡åˆ°ç¬¬ä¸€ä¸ªyieldæš‚åœ
// è¾“å‡º: å¼€å§‹æ‰§è¡Œ
// { value: "ç¬¬ä¸€ä¸ªå€¼", done: false }

console.log(generator.next()); // ç»§ç»­æ‰§è¡Œï¼Œé‡åˆ°ç¬¬äºŒä¸ªyieldæš‚åœ
// è¾“å‡º: ç¬¬ä¸€æ¬¡æš‚åœåç»§ç»­
// { value: "ç¬¬äºŒä¸ªå€¼", done: false }

console.log(generator.next()); // ç»§ç»­æ‰§è¡Œåˆ°ç»“æŸ
// è¾“å‡º: ç¬¬äºŒæ¬¡æš‚åœåç»§ç»­
// { value: "ç»“æŸå€¼", done: true }
```

**ğŸ”§ å®é™…åº”ç”¨ç¤ºä¾‹**
```javascript
// ç”Ÿæˆå™¨ç”Ÿæˆæ— é™åºåˆ—
function* numberGenerator() {
    let num = 1;
    while (true) {
        yield num++;
    }
}

const numbers = numberGenerator();
console.log(numbers.next().value); // 1
console.log(numbers.next().value); // 2
console.log(numbers.next().value); // 3
// å¯ä»¥æ— é™è·å–ä¸‹å»ï¼Œä½†ä¸ä¼šå†…å­˜æº¢å‡º

// ç”Ÿæˆå™¨å¤„ç†å¼‚æ­¥æ“ä½œ
function* asyncFlow() {
    try {
        const user = yield fetchUser();
        const orders = yield fetchOrders(user.id);
        const detail = yield fetchOrderDetail(orders[0].id);
        return detail;
    } catch (error) {
        console.log("å¼‚æ­¥æ“ä½œå¤±è´¥:", error);
    }
}
```

### 5.3 ä»€ä¹ˆæ˜¯è¿­ä»£å™¨


**ğŸ”¸ è¿­ä»£å™¨åè®®**
```javascript
// è¿­ä»£å™¨å°±æ˜¯æœ‰next()æ–¹æ³•çš„å¯¹è±¡
const myIterator = {
    current: 0,
    max: 3,
    
    next() {
        if (this.current < this.max) {
            return { value: this.current++, done: false };
        } else {
            return { done: true };
        }
    }
};

// ä½¿ç”¨è¿­ä»£å™¨
console.log(myIterator.next()); // { value: 0, done: false }
console.log(myIterator.next()); // { value: 1, done: false }
console.log(myIterator.next()); // { value: 2, done: false }
console.log(myIterator.next()); // { done: true }
```

**âš¡ å¯è¿­ä»£å¯¹è±¡**
```javascript
// å®ç°Symbol.iteratorè®©å¯¹è±¡å¯è¿­ä»£
const iterableObject = {
    data: [1, 2, 3],
    
    [Symbol.iterator]() {
        let index = 0;
        const data = this.data;
        
        return {
            next() {
                if (index < data.length) {
                    return { value: data[index++], done: false };
                } else {
                    return { done: true };
                }
            }
        };
    }
};

// ç°åœ¨å¯ä»¥ç”¨for...oféå†
for (const value of iterableObject) {
    console.log(value); // 1, 2, 3
}
```

### 5.4 ç”Ÿæˆå™¨ä¸å¼‚æ­¥ç¼–ç¨‹


**ğŸš€ ç”¨ç”Ÿæˆå™¨ç®€åŒ–å¼‚æ­¥ä»£ç **
```javascript
// ç”Ÿæˆå™¨ç‰ˆæœ¬çš„async/awaitï¼ˆåŸç†æ¼”ç¤ºï¼‰
function runAsync(generatorFunction) {
    const generator = generatorFunction();
    
    function handle(result) {
        if (!result.done) {
            return Promise.resolve(result.value)
                .then(res => handle(generator.next(res)))
                .catch(err => handle(generator.throw(err)));
        }
        return result.value;
    }
    
    return handle(generator.next());
}

// ä½¿ç”¨æ–¹å¼
function* asyncTask() {
    try {
        const user = yield fetchUser();
        const orders = yield fetchOrders(user.id);
        console.log("ä»»åŠ¡å®Œæˆ:", orders);
    } catch (error) {
        console.log("ä»»åŠ¡å¤±è´¥:", error);
    }
}

runAsync(asyncTask);
```

---

## 6. ğŸ¡ äº‹ä»¶å¾ªç¯æœºåˆ¶


### 6.1 ä»€ä¹ˆæ˜¯äº‹ä»¶å¾ªç¯


**ğŸ¯ äº‹ä»¶å¾ªç¯çš„é¤å…æ¯”å–»**
```
JavaScriptå¼•æ“å°±åƒæ˜¯ä¸€ä¸ªå•çº¿ç¨‹çš„æœåŠ¡å‘˜ï¼š

ä¸»çº¿ç¨‹ï¼ˆæœåŠ¡å‘˜ï¼‰ï¼š
- ä¸€æ¬¡åªèƒ½åšä¸€ä»¶äº‹
- å¤„ç†å®¢äººç‚¹é¤ï¼ˆæ‰§è¡ŒåŒæ­¥ä»£ç ï¼‰

ä»»åŠ¡é˜Ÿåˆ—ï¼ˆå¨æˆ¿ä¼ èœå£ï¼‰ï¼š
- å¨æˆ¿åšå¥½çš„èœæ”¾åœ¨è¿™é‡Œï¼ˆå¼‚æ­¥ä»»åŠ¡çš„å›è°ƒï¼‰
- æœåŠ¡å‘˜å¿™å®Œæ‰‹å¤´çš„äº‹å°±æ¥å–èœï¼ˆäº‹ä»¶å¾ªç¯ï¼‰

å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼ˆVIPå¿«é€Ÿé€šé“ï¼‰ï¼š
- é‡è¦å®¢äººçš„èœä¼˜å…ˆå¤„ç†ï¼ˆPromiseã€queueMicrotaskï¼‰
- æ¯”æ™®é€šé˜Ÿåˆ—ä¼˜å…ˆçº§æ›´é«˜
```

**ğŸ’¡ äº‹ä»¶å¾ªç¯çš„æ ¸å¿ƒç†è§£**
- **å•çº¿ç¨‹**ï¼šJavaScriptä¸»çº¿ç¨‹ä¸€æ¬¡åªèƒ½åšä¸€ä»¶äº‹
- **éé˜»å¡**ï¼šè€—æ—¶æ“ä½œä¸ä¼šå¡ä½ä¸»çº¿ç¨‹
- **å¾ªç¯æ£€æŸ¥**ï¼šä¸»çº¿ç¨‹ä¸æ–­æ£€æŸ¥ä»»åŠ¡é˜Ÿåˆ—

### 6.2 ä»»åŠ¡é˜Ÿåˆ—åˆ†ç±»


**ğŸ“‹ å®ä»»åŠ¡ï¼ˆMacroTaskï¼‰**
```javascript
// è¿™äº›éƒ½æ˜¯å®ä»»åŠ¡
setTimeout(() => console.log("å®ä»»åŠ¡1"), 0);
setInterval(() => console.log("å®ä»»åŠ¡2"), 1000);

// ç”¨æˆ·äº¤äº’
button.addEventListener('click', () => {
    console.log("å®ä»»åŠ¡3ï¼šæŒ‰é’®ç‚¹å‡»");
});

// ç½‘ç»œè¯·æ±‚
fetch('/api').then(() => {
    console.log("è¿™ä¸ªthenæ˜¯å¾®ä»»åŠ¡");
});
```

**âš¡ å¾®ä»»åŠ¡ï¼ˆMicroTaskï¼‰**
```javascript
// è¿™äº›éƒ½æ˜¯å¾®ä»»åŠ¡
Promise.resolve().then(() => console.log("å¾®ä»»åŠ¡1"));

queueMicrotask(() => console.log("å¾®ä»»åŠ¡2"));

// async/awaitä¹Ÿä¼šäº§ç”Ÿå¾®ä»»åŠ¡
async function test() {
    console.log("åŒæ­¥ä»£ç ");
    await Promise.resolve();
    console.log("è¿™æ˜¯å¾®ä»»åŠ¡"); // awaitåé¢çš„ä»£ç æ˜¯å¾®ä»»åŠ¡
}
```

### 6.3 äº‹ä»¶å¾ªç¯æ‰§è¡Œé¡ºåº


**ğŸ”„ æ‰§è¡Œé¡ºåºå›¾è§£**
```
æ‰§è¡Œæµç¨‹ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   æ‰§è¡ŒåŒæ­¥ä»£ç     â”‚ â† é¦–å…ˆæ‰§è¡Œæ‰€æœ‰åŒæ­¥ä»£ç 
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ¸…ç©ºå¾®ä»»åŠ¡é˜Ÿåˆ—   â”‚ â† ç„¶åæ‰§è¡Œæ‰€æœ‰å¾®ä»»åŠ¡
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ‰§è¡Œä¸€ä¸ªå®ä»»åŠ¡   â”‚ â† æ¥ç€æ‰§è¡Œä¸€ä¸ªå®ä»»åŠ¡
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ¸…ç©ºå¾®ä»»åŠ¡é˜Ÿåˆ—   â”‚ â† å†æ¬¡æ¸…ç©ºå¾®ä»»åŠ¡é˜Ÿåˆ—
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
       é‡å¤å¾ªç¯...
```

**ğŸ“ å®é™…æ‰§è¡Œç¤ºä¾‹**
```javascript
console.log("1: å¼€å§‹"); // åŒæ­¥ä»£ç 

setTimeout(() => console.log("2: å®ä»»åŠ¡"), 0); // å®ä»»åŠ¡

Promise.resolve().then(() => console.log("3: å¾®ä»»åŠ¡1")); // å¾®ä»»åŠ¡

Promise.resolve().then(() => {
    console.log("4: å¾®ä»»åŠ¡2");
    // å¾®ä»»åŠ¡ä¸­åˆäº§ç”Ÿå¾®ä»»åŠ¡
    Promise.resolve().then(() => console.log("5: åµŒå¥—å¾®ä»»åŠ¡"));
});

console.log("6: ç»“æŸ"); // åŒæ­¥ä»£ç 

// æ‰§è¡Œç»“æœï¼š
// 1: å¼€å§‹
// 6: ç»“æŸ
// 3: å¾®ä»»åŠ¡1
// 4: å¾®ä»»åŠ¡2
// 5: åµŒå¥—å¾®ä»»åŠ¡
// 2: å®ä»»åŠ¡
```

### 6.4 å¸¸è§çš„æ‰§è¡Œé¡ºåºé™·é˜±


**ğŸª¤ ç»å…¸é¢è¯•é¢˜è§£æ**
```javascript
async function async1() {
    console.log("async1 å¼€å§‹");
    await async2();
    console.log("async1 ç»“æŸ"); // è¿™æ˜¯å¾®ä»»åŠ¡
}

async function async2() {
    console.log("async2");
}

console.log("è„šæœ¬å¼€å§‹");

setTimeout(() => console.log("setTimeout"), 0);

async1();

new Promise(resolve => {
    console.log("Promiseæ„é€ å‡½æ•°");
    resolve();
}).then(() => console.log("Promise.then"));

console.log("è„šæœ¬ç»“æŸ");

// æ‰§è¡Œç»“æœï¼š
// è„šæœ¬å¼€å§‹
// async1 å¼€å§‹
// async2
// Promiseæ„é€ å‡½æ•°
// è„šæœ¬ç»“æŸ
// async1 ç»“æŸ
// Promise.then
// setTimeout
```

**ğŸ”¸ ç†è§£è¦ç‚¹**
```
åŒæ­¥ä»£ç ä¼˜å…ˆï¼š
- console.logç«‹å³æ‰§è¡Œ
- Promiseæ„é€ å‡½æ•°ç«‹å³æ‰§è¡Œ

å¾®ä»»åŠ¡æ¬¡ä¹‹ï¼š
- Promise.then
- async/awaitåé¢çš„ä»£ç 

å®ä»»åŠ¡æœ€åï¼š
- setTimeout
- setInterval
- äº‹ä»¶å›è°ƒ
```

---

## 7. ğŸ¯ å¼‚æ­¥ç¼–ç¨‹æœ€ä½³å®è·µ


### 7.1 é€‰æ‹©åˆé€‚çš„å¼‚æ­¥æ–¹æ¡ˆ


**ğŸ“Š æ–¹æ¡ˆå¯¹æ¯”è¡¨æ ¼**

| åœºæ™¯ | **æ¨èæ–¹æ¡ˆ** | **ç†ç”±** | **ç¤ºä¾‹** |
|------|------------|---------|----------|
| ğŸ¯ **ç°ä»£é¡¹ç›®** | `async/await` | `ä»£ç æ¸…æ™°ï¼Œæ˜“äºè°ƒè¯•` | `const data = await fetch()` |
| ğŸ”— **é“¾å¼æ“ä½œ** | `Promiseé“¾` | `thené“¾æ¡æ¸…æ™°` | `fetch().then().then()` |
| âš¡ **å¹¶å‘è¯·æ±‚** | `Promise.all` | `åŒæ—¶æ‰§è¡Œï¼Œæ•ˆç‡é«˜` | `await Promise.all([...])` |
| ğŸ“ **ç®€å•å›è°ƒ** | `å›è°ƒå‡½æ•°` | `è½»é‡çº§ï¼Œæ— éœ€Promise` | `setTimeout(callback, 1000)` |
| ğŸ”„ **æµå¼æ•°æ®** | `ç”Ÿæˆå™¨` | `é€æ­¥å¤„ç†ï¼Œå†…å­˜å‹å¥½` | `function* stream()` |

### 7.2 é”™è¯¯å¤„ç†ç­–ç•¥


**âš ï¸ ç»Ÿä¸€é”™è¯¯å¤„ç†**
```javascript
// åˆ›å»ºé”™è¯¯å¤„ç†åŒ…è£…å™¨
function withErrorHandling(asyncFunction) {
    return async function(...args) {
        try {
            return await asyncFunction.apply(this, args);
        } catch (error) {
            console.error(`${asyncFunction.name} æ‰§è¡Œå¤±è´¥:`, error);
            // ç»Ÿä¸€é”™è¯¯ä¸ŠæŠ¥
            reportError(error);
            throw error;
        }
    };
}

// ä½¿ç”¨åŒ…è£…å™¨
const safeFetch = withErrorHandling(async function fetchData(url) {
    const response = await fetch(url);
    return await response.json();
});
```

**ğŸ”§ é‡è¯•æœºåˆ¶**
```javascript
async function retry(operation, maxAttempts = 3, delay = 1000) {
    for (let attempt = 1; attempt <= maxAttempts; attempt++) {
        try {
            return await operation();
        } catch (error) {
            console.log(`å°è¯• ${attempt}/${maxAttempts} å¤±è´¥:`, error.message);
            
            if (attempt === maxAttempts) {
                throw new Error(`æ“ä½œå¤±è´¥ï¼Œå·²é‡è¯• ${maxAttempts} æ¬¡`);
            }
            
            // ç­‰å¾…åé‡è¯•
            await new Promise(resolve => setTimeout(resolve, delay));
        }
    }
}

// ä½¿ç”¨é‡è¯•æœºåˆ¶
const result = await retry(async () => {
    return await fetch("https://api.example.com/data");
}, 3, 2000);
```

### 7.3 æ€§èƒ½ä¼˜åŒ–æŠ€å·§


**âš¡ é¿å…ä¸å¿…è¦çš„ç­‰å¾…**
```javascript
// âŒ ä¸²è¡Œæ‰§è¡Œï¼ˆæ…¢ï¼‰
async function loadUserData(userId) {
    const user = await fetchUser(userId);
    const avatar = await fetchAvatar(userId);
    const preferences = await fetchPreferences(userId);
    return { user, avatar, preferences };
}

// âœ… å¹¶è¡Œæ‰§è¡Œï¼ˆå¿«ï¼‰
async function loadUserDataFast(userId) {
    const [user, avatar, preferences] = await Promise.all([
        fetchUser(userId),
        fetchAvatar(userId),
        fetchPreferences(userId)
    ]);
    return { user, avatar, preferences };
}
```

**ğŸ¯ æ™ºèƒ½ç¼“å­˜**
```javascript
// ç®€å•çš„å¼‚æ­¥ç¼“å­˜å®ç°
class AsyncCache {
    constructor() {
        this.cache = new Map();
    }
    
    async get(key, fetcher) {
        if (this.cache.has(key)) {
            return this.cache.get(key);
        }
        
        const promise = fetcher();
        this.cache.set(key, promise);
        
        try {
            const result = await promise;
            return result;
        } catch (error) {
            // å¤±è´¥æ—¶æ¸…é™¤ç¼“å­˜
            this.cache.delete(key);
            throw error;
        }
    }
}

// ä½¿ç”¨ç¼“å­˜
const cache = new AsyncCache();

async function getUserData(userId) {
    return cache.get(`user:${userId}`, () => fetchUser(userId));
}
```

### 7.4 è°ƒè¯•å¼‚æ­¥ä»£ç 


**ğŸ” è°ƒè¯•æŠ€å·§**
```javascript
// 1. æ·»åŠ è°ƒè¯•ä¿¡æ¯
async function debugAsyncFlow() {
    console.log("ğŸŸ¡ å¼€å§‹å¼‚æ­¥æµç¨‹");
    
    try {
        console.log("ğŸ”µ è·å–ç”¨æˆ·ä¿¡æ¯...");
        const user = await fetchUser();
        console.log("âœ… ç”¨æˆ·ä¿¡æ¯è·å–æˆåŠŸ:", user.name);
        
        console.log("ğŸ”µ è·å–ç”¨æˆ·è®¢å•...");
        const orders = await fetchOrders(user.id);
        console.log("âœ… è®¢å•è·å–æˆåŠŸï¼Œå…±", orders.length, "ä¸ª");
        
        return { user, orders };
    } catch (error) {
        console.log("âŒ å¼‚æ­¥æµç¨‹å¤±è´¥:", error.message);
        throw error;
    } finally {
        console.log("ğŸŸ¢ å¼‚æ­¥æµç¨‹ç»“æŸ");
    }
}

// 2. ä½¿ç”¨Promise.raceè¿›è¡Œè¶…æ—¶æ§åˆ¶
function withTimeout(promise, timeoutMs) {
    const timeout = new Promise((_, reject) => {
        setTimeout(() => reject(new Error("æ“ä½œè¶…æ—¶")), timeoutMs);
    });
    
    return Promise.race([promise, timeout]);
}

// ä½¿ç”¨è¶…æ—¶æ§åˆ¶
const result = await withTimeout(fetchData(), 5000); // 5ç§’è¶…æ—¶
```

---

## 8. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 8.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ¯ å¼‚æ­¥ç¼–ç¨‹æœ¬è´¨ï¼š
âœ“ ä¸é˜»å¡ä¸»çº¿ç¨‹ï¼Œè®©ç¨‹åºå¯ä»¥åŒæ—¶å¤„ç†å¤šä¸ªä»»åŠ¡
âœ“ é€šè¿‡å›è°ƒã€Promiseã€async/awaitç­‰æ–¹å¼å¤„ç†å¼‚æ­¥æ“ä½œ
âœ“ ç†è§£åŒæ­¥vså¼‚æ­¥çš„åŒºåˆ«å’Œé€‚ç”¨åœºæ™¯

ğŸ”— å›è°ƒå‡½æ•°ï¼š
âœ“ æœ€åŸºç¡€çš„å¼‚æ­¥å¤„ç†æ–¹å¼
âœ“ å®¹æ˜“äº§ç”Ÿå›è°ƒåœ°ç‹±ï¼Œå¯è¯»æ€§å·®
âœ“ é€‚åˆç®€å•çš„å¼‚æ­¥æ“ä½œ

ğŸ¤ Promiseæœºåˆ¶ï¼š
âœ“ è§£å†³å›è°ƒåœ°ç‹±é—®é¢˜ï¼Œæ”¯æŒé“¾å¼è°ƒç”¨
âœ“ ä¸‰ç§çŠ¶æ€ï¼špendingã€fulfilledã€rejected
âœ“ æä¾›thenã€catchã€finallyç­‰æ–¹æ³•

ğŸš€ async/awaitï¼š
âœ“ Promiseçš„è¯­æ³•ç³–ï¼Œè®©å¼‚æ­¥ä»£ç çœ‹èµ·æ¥åƒåŒæ­¥
âœ“ é”™è¯¯å¤„ç†ç”¨try-catchï¼Œæ›´ç›´è§‚
âœ“ æ˜¯ç°ä»£JavaScriptå¼‚æ­¥ç¼–ç¨‹çš„é¦–é€‰

ğŸ”„ ç”Ÿæˆå™¨ä¸è¿­ä»£å™¨ï¼š
âœ“ ç”Ÿæˆå™¨å¯ä»¥æš‚åœå’Œæ¢å¤å‡½æ•°æ‰§è¡Œ
âœ“ è¿­ä»£å™¨æä¾›ç»Ÿä¸€çš„éå†æ¥å£
âœ“ æ˜¯ç†è§£async/awaitåº•å±‚åŸç†çš„åŸºç¡€

ğŸ¡ äº‹ä»¶å¾ªç¯ï¼š
âœ“ JavaScriptå•çº¿ç¨‹éé˜»å¡çš„æ ¸å¿ƒæœºåˆ¶
âœ“ å¾®ä»»åŠ¡ä¼˜å…ˆçº§é«˜äºå®ä»»åŠ¡
âœ“ ç†è§£æ‰§è¡Œé¡ºåºå¯¹è°ƒè¯•å¼‚æ­¥ä»£ç å¾ˆé‡è¦
```

### 8.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ å¼‚æ­¥ç¼–ç¨‹çš„æ€ç»´è½¬æ¢**
```
ä»åŒæ­¥æ€ç»´åˆ°å¼‚æ­¥æ€ç»´ï¼š
- ä¸è¦æƒ³ç€"ç­‰å¾…ç»“æœ"ï¼Œè€Œæ˜¯"æ³¨å†Œå›è°ƒ"
- ä¸è¦æœŸæœ›ç«‹å³å¾—åˆ°ç»“æœï¼Œè€Œæ˜¯"å°†æ¥ä¼šé€šçŸ¥ä½ "
- å­¦ä¼šç”¨Promise.allå¹¶è¡Œå¤„ç†ï¼Œæé«˜æ•ˆç‡
```

**ğŸ”¹ é€‰æ‹©åˆé€‚çš„å¼‚æ­¥æ–¹æ¡ˆ**
```
ç®€å•åœºæ™¯ï¼šå›è°ƒå‡½æ•°
å¤æ‚æµç¨‹ï¼šasync/await
å¹¶å‘å¤„ç†ï¼šPromise.all/race
æµå¼æ•°æ®ï¼šç”Ÿæˆå™¨
```

**ğŸ”¹ é”™è¯¯å¤„ç†çš„é‡è¦æ€§**
```
å¼‚æ­¥é”™è¯¯å¤„ç†æ¯”åŒæ­¥æ›´å¤æ‚ï¼š
- try-catchä¸èƒ½æ•è·å¼‚æ­¥é”™è¯¯
- Promiseéœ€è¦.catch()æˆ–try-catché…åˆasync/await
- è¦è€ƒè™‘ç½‘ç»œé”™è¯¯ã€è¶…æ—¶ç­‰æƒ…å†µ
```

### 8.3 å®é™…åº”ç”¨æŒ‡å¯¼


**ğŸ’¡ å¼€å‘å»ºè®®**
- âœ… **ä¼˜å…ˆä½¿ç”¨async/await**ï¼šä»£ç æ›´æ¸…æ™°æ˜“è¯»
- âœ… **åˆç†ä½¿ç”¨å¹¶å‘**ï¼šèƒ½å¹¶è¡Œå°±ä¸è¦ä¸²è¡Œ
- âœ… **åšå¥½é”™è¯¯å¤„ç†**ï¼šæ¯ä¸ªå¼‚æ­¥æ“ä½œéƒ½è¦è€ƒè™‘å¤±è´¥æƒ…å†µ
- âœ… **æ·»åŠ è¶…æ—¶æ§åˆ¶**ï¼šé¿å…æ— é™ç­‰å¾…
- âœ… **é€‚å½“æ·»åŠ ç¼“å­˜**ï¼šé¿å…é‡å¤çš„ç½‘ç»œè¯·æ±‚

**âš ï¸ å¸¸è§é™·é˜±**
- âŒ **å¿˜è®°await**ï¼šå¯¼è‡´Promiseå¯¹è±¡è€Œéç»“æœå€¼
- âŒ **è¿‡åº¦ä¸²è¡Œ**ï¼šæœ¬å¯å¹¶è¡Œçš„æ“ä½œä¸²è¡Œæ‰§è¡Œ
- âŒ **å¿½ç•¥é”™è¯¯å¤„ç†**ï¼šå¼‚æ­¥é”™è¯¯è¢«åæ²¡
- âŒ **ä¸ç†è§£äº‹ä»¶å¾ªç¯**ï¼šå¯¹æ‰§è¡Œé¡ºåºæœ‰é”™è¯¯é¢„æœŸ

### 8.4 å­¦ä¹ è·¯å¾„å»ºè®®


```
å…¥é—¨é˜¶æ®µï¼š
ğŸ“š ç†è§£åŒæ­¥vså¼‚æ­¥çš„åŒºåˆ«
ğŸ“š æŒæ¡å›è°ƒå‡½æ•°çš„åŸºæœ¬ç”¨æ³•
ğŸ“š å­¦ä¼šPromiseçš„åˆ›å»ºå’Œä½¿ç”¨

è¿›é˜¶é˜¶æ®µï¼š
ğŸ”§ ç†Ÿç»ƒä½¿ç”¨async/await
ğŸ”§ ç†è§£äº‹ä»¶å¾ªç¯æœºåˆ¶
ğŸ”§ æŒæ¡é”™è¯¯å¤„ç†å’Œè°ƒè¯•æŠ€å·§

é«˜çº§é˜¶æ®µï¼š
âš¡ å­¦ä¹ ç”Ÿæˆå™¨å’Œè¿­ä»£å™¨
âš¡ æ€§èƒ½ä¼˜åŒ–å’Œæœ€ä½³å®è·µ
âš¡ æ·±å…¥ç†è§£åº•å±‚åŸç†
```

**ğŸ’­ è®°å¿†å£è¯€**
```
å¼‚æ­¥ç¼–ç¨‹ä¸ç¥ç§˜ï¼Œå›è°ƒPromiseåŠ await
äº‹ä»¶å¾ªç¯å¾ˆé‡è¦ï¼Œå¾®ä»»åŠ¡å®ä»»åŠ¡è¦åˆ†æ¸…
é”™è¯¯å¤„ç†ä¸èƒ½å¿˜ï¼Œtry-catché…åˆcatchç”¨
å¹¶å‘å¤„ç†æ•ˆç‡é«˜ï¼ŒPromise.allæ˜¯å¥½å¸®æ‰‹
```

**ğŸ¯ æ ¸å¿ƒä»·å€¼**
å¼‚æ­¥ç¼–ç¨‹æ˜¯ç°ä»£Webå¼€å‘çš„æ ¸å¿ƒæŠ€èƒ½ï¼ŒæŒæ¡äº†å¼‚æ­¥ç¼–ç¨‹ï¼Œä½ å°±èƒ½å†™å‡ºç”¨æˆ·ä½“éªŒæ›´å¥½ã€æ€§èƒ½æ›´é«˜çš„åº”ç”¨ç¨‹åºã€‚ä»å›è°ƒå‡½æ•°åˆ°Promiseï¼Œå†åˆ°async/awaitï¼Œæ¯ä¸€æ­¥éƒ½æ˜¯ä¸ºäº†è®©å¼‚æ­¥ä»£ç æ›´å®¹æ˜“ç¼–å†™å’Œç»´æŠ¤ã€‚ç†è§£äº‹ä»¶å¾ªç¯æœºåˆ¶ï¼Œèƒ½å¸®ä½ æ›´å¥½åœ°è°ƒè¯•å’Œä¼˜åŒ–ä»£ç ã€‚è®°ä½ï¼šå¼‚æ­¥ç¼–ç¨‹çš„ç›®æ ‡ä¸æ˜¯è®©ä»£ç å˜å¤æ‚ï¼Œè€Œæ˜¯è®©ç”¨æˆ·ç•Œé¢å§‹ç»ˆä¿æŒå“åº”æ€§ï¼