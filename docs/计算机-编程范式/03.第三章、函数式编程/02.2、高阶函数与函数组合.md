---
title: 2ã€é«˜é˜¶å‡½æ•°ä¸å‡½æ•°ç»„åˆ
---
## ğŸ“š ç›®å½•

1. [é«˜é˜¶å‡½æ•°åŸºç¡€æ¦‚å¿µ](#1-é«˜é˜¶å‡½æ•°åŸºç¡€æ¦‚å¿µ)
2. [é—­åŒ…ä¸è¯æ³•ä½œç”¨åŸŸ](#2-é—­åŒ…ä¸è¯æ³•ä½œç”¨åŸŸ)
3. [å‡½æ•°ç»„åˆä¸ç®¡é“æ“ä½œ](#3-å‡½æ•°ç»„åˆä¸ç®¡é“æ“ä½œ)
4. [æ ¸å¿ƒé«˜é˜¶å‡½æ•°è¯¦è§£](#4-æ ¸å¿ƒé«˜é˜¶å‡½æ•°è¯¦è§£)
5. [Lambdaè¡¨è¾¾å¼æ·±å…¥ç†è§£](#5-Lambdaè¡¨è¾¾å¼æ·±å…¥ç†è§£)
6. [æƒ°æ€§æ±‚å€¼åŸç†](#6-æƒ°æ€§æ±‚å€¼åŸç†)
7. [æŸ¯é‡ŒåŒ–æŠ€æœ¯è¯¦è§£](#7-æŸ¯é‡ŒåŒ–æŠ€æœ¯è¯¦è§£)
8. [ListStreamå¤„ç†æ¨¡å¼](#8-ListStreamå¤„ç†æ¨¡å¼)
9. [é€’å½’vsè¿­ä»£é€‰æ‹©ç­–ç•¥](#9-é€’å½’vsè¿­ä»£é€‰æ‹©ç­–ç•¥)
10. [å¸¸è§åæ¨¡å¼é¿å…](#10-å¸¸è§åæ¨¡å¼é¿å…)
11. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#11-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ”§ é«˜é˜¶å‡½æ•°åŸºç¡€æ¦‚å¿µ


### 1.1 ä»€ä¹ˆæ˜¯é«˜é˜¶å‡½æ•°


**é€šä¿—ç†è§£**ï¼šé«˜é˜¶å‡½æ•°å°±åƒæ˜¯"å‡½æ•°çš„å‡½æ•°"ï¼Œå®ƒå¯ä»¥æŠŠå…¶ä»–å‡½æ•°å½“ä½œæ™®é€šå€¼ä¸€æ ·æ¥ä½¿ç”¨ã€‚

```
ç®€å•ç±»æ¯”ï¼š
æ™®é€šå‡½æ•°ï¼šåŠ å·¥åŸææ–™ â†’ äº§å“
é«˜é˜¶å‡½æ•°ï¼šç®¡ç†åŠ å·¥æµç¨‹ â†’ æŒ‡æŒ¥å¤šä¸ªåŠ å·¥æ­¥éª¤

å°±åƒå·¥å‚é‡Œçš„æµæ°´çº¿ç®¡ç†å‘˜ï¼Œä¸ç›´æ¥åŠ å·¥äº§å“ï¼Œ
è€Œæ˜¯å®‰æ’å’Œç»„ç»‡å„ä¸ªåŠ å·¥ç¯èŠ‚ã€‚
```

**é«˜é˜¶å‡½æ•°çš„ä¸¤ç§å½¢å¼**ï¼š
- ğŸ”¸ **æ¥æ”¶å‡½æ•°ä½œä¸ºå‚æ•°** - æŠŠå‡½æ•°å½“ä½œ"å·¥å…·"ä¼ é€’è¿›æ¥
- ğŸ”¸ **è¿”å›å‡½æ•°ä½œä¸ºç»“æœ** - åˆ¶é€ å‡ºæ–°çš„"å·¥å…·å‡½æ•°"

### 1.2 å‡½æ•°ä½œä¸ºå‚æ•°çš„å®ä¾‹


```javascript
// ğŸ¯ æœ€ç®€å•çš„ä¾‹å­ï¼šè®¡ç®—å™¨å‡½æ•°
function calculator(a, b, operation) {
  return operation(a, b);  // operationæ˜¯ä¼ å…¥çš„å‡½æ•°
}

// å®šä¹‰å…·ä½“çš„æ“ä½œå‡½æ•°
function add(x, y) { return x + y; }
function multiply(x, y) { return x * y; }

// ä½¿ç”¨é«˜é˜¶å‡½æ•°
console.log(calculator(5, 3, add));      // 8
console.log(calculator(5, 3, multiply)); // 15
```

**ä¸ºä»€ä¹ˆè¿™æ ·åšæœ‰ç”¨ï¼Ÿ**
```
ä¼ ç»Ÿæ–¹å¼ï¼šéœ€è¦å†™å¾ˆå¤šif-elseåˆ¤æ–­
if (operator === '+') return a + b;
if (operator === '*') return a * b;
// ...æ›´å¤šåˆ¤æ–­

é«˜é˜¶å‡½æ•°æ–¹å¼ï¼šç›´æ¥ä¼ å…¥å¯¹åº”çš„å‡½æ•°
calculator(a, b, addFunction)  // ç®€æ´æ˜äº†
```

### 1.3 è¿”å›å‡½æ•°çš„å®ä¾‹


```javascript
// ğŸ­ å‡½æ•°å·¥å‚ï¼šåˆ¶é€ ä¸“é—¨çš„å‡½æ•°
function createMultiplier(factor) {
  return function(number) {
    return number * factor;
  };
}

// åˆ¶é€ ä¸¤ä¸ªä¸“ç”¨å‡½æ•°
const double = createMultiplier(2);   // ä¸“é—¨ç”¨æ¥ç¿»å€çš„å‡½æ•°
const triple = createMultiplier(3);   // ä¸“é—¨ç”¨æ¥ä¸‰å€çš„å‡½æ•°

console.log(double(5));  // 10
console.log(triple(4));  // 12
```

**å®é™…åº”ç”¨åœºæ™¯**ï¼š
```
ğŸ¯ é…ç½®ä¸åŒçš„å¤„ç†å™¨
const taxCalculator = createTaxCalculator(0.08);  // 8%ç¨ç‡
const discountCalculator = createDiscountCalculator(0.2);  // 20%æŠ˜æ‰£

ğŸ¯ åˆ›å»ºä¸åŒçš„éªŒè¯å™¨
const emailValidator = createValidator(/^[\w\.-]+@[\w\.-]+\.\w+$/);
const phoneValidator = createValidator(/^\d{3}-\d{3}-\d{4}$/);
```

---

## 2. ğŸ”’ é—­åŒ…ä¸è¯æ³•ä½œç”¨åŸŸ


### 2.1 ä»€ä¹ˆæ˜¯é—­åŒ…


**é€šä¿—è§£é‡Š**ï¼šé—­åŒ…å°±åƒæ˜¯ä¸€ä¸ª"è®°å¿†ç›’å­"ï¼Œå‡½æ•°æ‰§è¡Œå®Œåï¼Œå®ƒè¿˜èƒ½è®°ä½æ‰§è¡Œæ—¶çš„ç¯å¢ƒå˜é‡ã€‚

```
ç°å®ç±»æ¯”ï¼š
ä½ ç¦»å¼€å®¶æ—¶ï¼ŒæŠŠé’¥åŒ™ç»™äº†æœ‹å‹
å³ä½¿ä½ ä¸åœ¨å®¶ï¼Œæœ‹å‹ä¾ç„¶å¯ä»¥è¿›å…¥ä½ çš„æˆ¿é—´
é—­åŒ…å°±æ˜¯è¿™æŠŠ"é’¥åŒ™"ï¼Œè®©å‡½æ•°èƒ½è®¿é—®å¤–éƒ¨å˜é‡
```

### 2.2 é—­åŒ…å¦‚ä½•å·¥ä½œ


```javascript
// ğŸ  ç»å…¸çš„è®¡æ•°å™¨ä¾‹å­
function createCounter() {
  let count = 0;  // è¿™ä¸ªå˜é‡è¢«"å°é—­"åœ¨å‡½æ•°å†…éƒ¨
  
  return function() {
    count++;      // å†…éƒ¨å‡½æ•°å¯ä»¥è®¿é—®å¤–éƒ¨å˜é‡
    return count;
  };
}

const counter1 = createCounter();
const counter2 = createCounter();

console.log(counter1()); // 1
console.log(counter1()); // 2
console.log(counter2()); // 1  <- æ³¨æ„ï¼šcounter2æœ‰è‡ªå·±ç‹¬ç«‹çš„count
```

**é—­åŒ…çš„ç¥å¥‡ä¹‹å¤„**ï¼š
```
âœ¨ æ•°æ®ç§æœ‰ï¼šcountå˜é‡å¤–éƒ¨æ— æ³•ç›´æ¥è®¿é—®
âœ¨ çŠ¶æ€ä¿æŒï¼šæ¯æ¬¡è°ƒç”¨éƒ½è®°ä½ä¸Šæ¬¡çš„ç»“æœ  
âœ¨ ç‹¬ç«‹å®ä¾‹ï¼šæ¯ä¸ªcounteréƒ½æœ‰è‡ªå·±çš„count
```

### 2.3 è¯æ³•ä½œç”¨åŸŸè¯¦è§£


**è¯æ³•ä½œç”¨åŸŸ**ï¼šå‡½æ•°åœ¨**å®šä¹‰ä½ç½®**å†³å®šäº†å®ƒèƒ½è®¿é—®å“ªäº›å˜é‡ï¼Œè€Œä¸æ˜¯åœ¨**è°ƒç”¨ä½ç½®**ã€‚

```javascript
// ğŸ“– è¯æ³•ä½œç”¨åŸŸç¤ºä¾‹
let globalVar = "æˆ‘æ˜¯å…¨å±€å˜é‡";

function outerFunction() {
  let outerVar = "æˆ‘æ˜¯å¤–å±‚å˜é‡";
  
  function innerFunction() {
    let innerVar = "æˆ‘æ˜¯å†…å±‚å˜é‡";
    
    // å†…å±‚å‡½æ•°å¯ä»¥è®¿é—®ï¼š
    console.log(innerVar);  // âœ… è‡ªå·±çš„å˜é‡
    console.log(outerVar);  // âœ… å¤–å±‚å˜é‡  
    console.log(globalVar); // âœ… å…¨å±€å˜é‡
  }
  
  return innerFunction;
}

const myFunc = outerFunction();
myFunc(); // å³ä½¿outerFunctionå·²ç»æ‰§è¡Œå®Œï¼ŒinnerFunctionä»èƒ½è®¿é—®outerVar
```

**ä½œç”¨åŸŸé“¾**ï¼š
```
å†…å±‚å‡½æ•° â†’ å¤–å±‚å‡½æ•° â†’ å…¨å±€ä½œç”¨åŸŸ
     â†‘         â†‘         â†‘
   innerVar  outerVar  globalVar

åƒä¿„ç½—æ–¯å¥—å¨ƒä¸€æ ·ï¼Œä¸€å±‚å¥—ä¸€å±‚ï¼
```

### 2.4 å‡½æ•°å·¥å‚å®é™…åº”ç”¨


**ä»€ä¹ˆæ˜¯å‡½æ•°å·¥å‚**ï¼šä¸“é—¨ç”¨æ¥"ç”Ÿäº§"å…¶ä»–å‡½æ•°çš„å‡½æ•°

```javascript
// ğŸ›ï¸ é…ç½®ä¸åŒåŠŸèƒ½çš„å‡½æ•°
function createLogger(prefix) {
  return function(message) {
    console.log(`[${prefix}] ${new Date().toISOString()}: ${message}`);
  };
}

const errorLogger = createLogger("ERROR");
const infoLogger = createLogger("INFO");

errorLogger("æ•°æ®åº“è¿æ¥å¤±è´¥");  // [ERROR] 2024-08-15T10:30:00.000Z: æ•°æ®åº“è¿æ¥å¤±è´¥
infoLogger("ç”¨æˆ·ç™»å½•æˆåŠŸ");    // [INFO] 2024-08-15T10:30:00.000Z: ç”¨æˆ·ç™»å½•æˆåŠŸ
```

---

## 3. ğŸ”— å‡½æ•°ç»„åˆä¸ç®¡é“æ“ä½œ


### 3.1 å‡½æ•°ç»„åˆçš„æ¦‚å¿µ


**é€šä¿—ç†è§£**ï¼šå‡½æ•°ç»„åˆå°±åƒæ­ç§¯æœ¨ï¼ŒæŠŠå°åŠŸèƒ½ç»„åˆæˆå¤§åŠŸèƒ½ã€‚

```
æ•°å­¦æ¦‚å¿µï¼šf(g(x)) 
å®é™…ç†è§£ï¼šå…ˆç”¨gå¤„ç†xï¼Œå†ç”¨få¤„ç†ç»“æœ

å°±åƒå·¥å‚æµæ°´çº¿ï¼š
åŸæ–™ â†’ åŠ å·¥1 â†’ åŠ å·¥2 â†’ åŠ å·¥3 â†’ æˆå“
```

### 3.2 åŸºç¡€ç»„åˆç¤ºä¾‹


```javascript
// ğŸ§± åŸºç¡€çš„å‡½æ•°ç»„åˆ
const add1 = x => x + 1;
const multiply2 = x => x * 2;
const square = x => x * x;

// ä¼ ç»Ÿæ–¹å¼ï¼šåµŒå¥—è°ƒç”¨
const result1 = square(multiply2(add1(3))); // 64

// ç»„åˆå‡½æ•°æ–¹å¼
function compose(f, g) {
  return function(x) {
    return f(g(x));
  };
}

const addThenMultiply = compose(multiply2, add1);
const result2 = addThenMultiply(3); // 8 (å…ˆ+1å¾—4ï¼Œå†*2å¾—8)
```

### 3.3 ç®¡é“æ“ä½œè¯¦è§£


**ç®¡é“æ“ä½œ**ï¼šä»å·¦åˆ°å³çš„å‡½æ•°ç»„åˆï¼Œæ›´ç¬¦åˆäººç±»é˜…è¯»ä¹ æƒ¯ã€‚

```javascript
// ğŸš° ç®¡é“å‡½æ•°å®ç°
function pipe(...functions) {
  return function(input) {
    return functions.reduce((result, fn) => fn(result), input);
  };
}

// ğŸ¯ å®é™…åº”ç”¨ï¼šæ•°æ®å¤„ç†ç®¡é“
const processUserData = pipe(
  data => data.trim(),           // 1. å»é™¤ç©ºæ ¼
  data => data.toLowerCase(),    // 2. è½¬å°å†™  
  data => data.replace(/\s+/g, '-'), // 3. ç©ºæ ¼æ¢æˆè¿å­—ç¬¦
  data => `user-${data}`         // 4. æ·»åŠ å‰ç¼€
);

console.log(processUserData("  John Doe  ")); // "user-john-doe"
```

**ç®¡é“ vs ç»„åˆå¯¹æ¯”**ï¼š
```
ç»„åˆï¼ˆcomposeï¼‰ï¼šä»å³åˆ°å·¦æ‰§è¡Œ f(g(h(x)))
ç®¡é“ï¼ˆpipeï¼‰ï¼šä»å·¦åˆ°å³æ‰§è¡Œï¼Œæ›´ç›´è§‚

// ç»„åˆæ–¹å¼
const result = compose(step3, compose(step2, step1))(input);

// ç®¡é“æ–¹å¼  
const result = pipe(step1, step2, step3)(input);
```

### 3.4 å®é™…é¡¹ç›®ä¸­çš„ç»„åˆåº”ç”¨


```javascript
// ğŸª ç”µå•†ç½‘ç«™ä»·æ ¼è®¡ç®—ç®¡é“
const calculatePrice = pipe(
  price => price * 0.9,        // åº”ç”¨10%æŠ˜æ‰£
  price => price + 5,          // åŠ è¿è´¹
  price => price * 1.08,       // åŠ ç¨
  price => Math.round(price * 100) / 100  // ä¿ç•™ä¸¤ä½å°æ•°
);

console.log(calculatePrice(100)); // 102.2
```

---

## 4. âš¡ æ ¸å¿ƒé«˜é˜¶å‡½æ•°è¯¦è§£


### 4.1 Mapå‡½æ•°æ·±å…¥ç†è§£


**Mapçš„æœ¬è´¨**ï¼šå¯¹æ¯ä¸ªå…ƒç´ åº”ç”¨ç›¸åŒçš„è½¬æ¢è§„åˆ™ã€‚

```
å½¢è±¡ç†è§£ï¼š
åŸå§‹æ•°ç»„ï¼š[ğŸ, ğŸŒ, ğŸŠ]
è½¬æ¢è§„åˆ™ï¼šæ°´æœ â†’ æœæ±  
ç»“æœæ•°ç»„ï¼š[ğŸ§ƒ, ğŸ§ƒ, ğŸ§ƒ]

æ¯ä¸ªå…ƒç´ éƒ½ç»å†ç›¸åŒçš„å˜æ¢è¿‡ç¨‹ï¼
```

```javascript
// ğŸ¯ Mapçš„å¤šç§ç”¨æ³•
const numbers = [1, 2, 3, 4, 5];

// åŸºç¡€è½¬æ¢
const doubled = numbers.map(x => x * 2);        // [2, 4, 6, 8, 10]
const squared = numbers.map(x => x * x);        // [1, 4, 9, 16, 25]

// å¯¹è±¡è½¬æ¢
const users = [
  { name: "Alice", age: 25 },
  { name: "Bob", age: 30 }
];

const userNames = users.map(user => user.name);          // ["Alice", "Bob"]
const userInfo = users.map(user => `${user.name}(${user.age})`); // ["Alice(25)", "Bob(30)"]
```

**Mapçš„ç‰¹ç‚¹**ï¼š
- âœ… **ä¸æ”¹å˜åŸæ•°ç»„**ï¼šè¿”å›æ–°æ•°ç»„
- âœ… **ä¸€å¯¹ä¸€æ˜ å°„**ï¼šè¾“å…¥nä¸ªå…ƒç´ ï¼Œè¾“å‡ºnä¸ªå…ƒç´ 
- âœ… **çº¯å‡½æ•°**ï¼šç›¸åŒè¾“å…¥æ€»æ˜¯äº§ç”Ÿç›¸åŒè¾“å‡º

### 4.2 Filterå‡½æ•°æ·±å…¥ç†è§£


**Filterçš„æœ¬è´¨**ï¼šåƒç­›å­ä¸€æ ·ï¼Œåªç•™ä¸‹ç¬¦åˆæ¡ä»¶çš„å…ƒç´ ã€‚

```javascript
// ğŸ” Filterçš„å®é™…åº”ç”¨
const products = [
  { name: "ç¬”è®°æœ¬", price: 5000, category: "ç”µå­" },
  { name: "é¼ æ ‡", price: 100, category: "ç”µå­" },
  { name: "ä¹¦åŒ…", price: 200, category: "æœé¥°" },
  { name: "æ‰‹æœº", price: 3000, category: "ç”µå­" }
];

// ç­›é€‰ç”µå­äº§å“
const electronics = products.filter(product => product.category === "ç”µå­");

// ç­›é€‰ä»·æ ¼å¤§äº1000çš„äº§å“
const expensive = products.filter(product => product.price > 1000);

// é“¾å¼è°ƒç”¨ï¼šç­›é€‰ä¾¿å®œçš„ç”µå­äº§å“
const cheapElectronics = products
  .filter(product => product.category === "ç”µå­")
  .filter(product => product.price < 500);
```

### 4.3 Reduceå‡½æ•°æ·±å…¥ç†è§£


**Reduceçš„æœ¬è´¨**ï¼šæŠŠå¤šä¸ªå€¼"å‹ç¼©"æˆä¸€ä¸ªå€¼ã€‚

```
å½¢è±¡ç†è§£ï¼š
[1, 2, 3, 4, 5] â†’ (ç´¯åŠ ) â†’ 15
[ğŸ, ğŸŒ, ğŸŠ] â†’ (åˆ¶ä½œ) â†’ ğŸ¥— (æ°´æœæ²™æ‹‰)

æŠŠæ•°ç»„"å‡å°‘"æˆå•ä¸€ç»“æœï¼
```

```javascript
// ğŸ² Reduceçš„å¤šç§åº”ç”¨
const numbers = [1, 2, 3, 4, 5];

// åŸºç¡€ç´¯åŠ 
const sum = numbers.reduce((total, current) => total + current, 0); // 15

// æ‰¾æœ€å¤§å€¼
const max = numbers.reduce((maxValue, current) => 
  current > maxValue ? current : maxValue
); // 5

// è®¡ç®—å¹³å‡å€¼
const average = numbers.reduce((sum, current, index, array) => {
  sum += current;
  return index === array.length - 1 ? sum / array.length : sum;
}, 0); // 3

// å¯¹è±¡ç»Ÿè®¡
const fruits = ["è‹¹æœ", "é¦™è•‰", "è‹¹æœ", "æ©™å­", "é¦™è•‰", "è‹¹æœ"];
const fruitCount = fruits.reduce((count, fruit) => {
  count[fruit] = (count[fruit] || 0) + 1;
  return count;
}, {}); // { è‹¹æœ: 3, é¦™è•‰: 2, æ©™å­: 1 }
```

### 4.4 Mapã€Filterã€Reduceç»„åˆåº”ç”¨


```javascript
// ğŸ“Š å®é™…ä¸šåŠ¡åœºæ™¯ï¼šé”€å”®æ•°æ®åˆ†æ
const salesData = [
  { product: "ç¬”è®°æœ¬", quantity: 2, price: 5000, region: "åŒ—äº¬" },
  { product: "é¼ æ ‡", quantity: 10, price: 100, region: "ä¸Šæµ·" },
  { product: "é”®ç›˜", quantity: 5, price: 300, region: "åŒ—äº¬" },
  { product: "æ˜¾ç¤ºå™¨", quantity: 3, price: 2000, region: "å¹¿å·" }
];

// ğŸ¯ è®¡ç®—åŒ—äº¬åœ°åŒºçš„æ€»é”€å”®é¢
const beijingRevenue = salesData
  .filter(sale => sale.region === "åŒ—äº¬")              // ç­›é€‰åŒ—äº¬æ•°æ®
  .map(sale => sale.quantity * sale.price)             // è®¡ç®—æ¯ä¸ªäº§å“é”€å”®é¢
  .reduce((total, revenue) => total + revenue, 0);     // ç´¯åŠ æ€»é”€å”®é¢

console.log(beijingRevenue); // 11500
```

---

## 5. ğŸ¹ Lambdaè¡¨è¾¾å¼æ·±å…¥ç†è§£


### 5.1 ä»€ä¹ˆæ˜¯Lambdaè¡¨è¾¾å¼


**é€šä¿—è§£é‡Š**ï¼šLambdaè¡¨è¾¾å¼å°±æ˜¯"åŒ¿åçš„å°å‡½æ•°"ï¼Œåƒä¾¿åˆ©è´´ä¸€æ ·ç®€çŸ­å®ç”¨ã€‚

```
ä¼ ç»Ÿå‡½æ•°ï¼šéœ€è¦èµ·åå­—ï¼Œæ­£å¼å®šä¹‰
function add(a, b) {
  return a + b;
}

Lambdaè¡¨è¾¾å¼ï¼šåŒ¿åï¼Œå³ç”¨å³å†™
(a, b) => a + b

å°±åƒï¼š
ä¼ ç»Ÿæ–¹å¼ï¼šå»ºä¸€ä¸ªä¸“é—¨çš„å·¥å‚ç”Ÿäº§äº§å“
Lambdaæ–¹å¼ï¼šç°åœºæ‰‹å·¥åˆ¶ä½œï¼Œç”¨å®Œå°±ä¸¢
```

### 5.2 Lambdaè¯­æ³•è¯¦è§£


```javascript
// ğŸ“ Lambdaè¡¨è¾¾å¼çš„ä¸åŒå†™æ³•

// 1. å¤šå‚æ•°ï¼Œå¤šè¡Œä»£ç 
const complexFunction = (a, b, c) => {
  const sum = a + b;
  const result = sum * c;
  return result;
};

// 2. å•å‚æ•°ï¼Œå¯çœç•¥æ‹¬å·
const double = x => x * 2;
const square = x => x * x;

// 3. æ— å‚æ•°ï¼Œå¿…é¡»å†™ç©ºæ‹¬å·
const getCurrentTime = () => new Date();

// 4. å•è¡Œè¿”å›ï¼Œå¯çœç•¥return
const isEven = n => n % 2 === 0;
const greeting = name => `Hello, ${name}!`;

// 5. è¿”å›å¯¹è±¡ï¼Œéœ€è¦ç”¨æ‹¬å·åŒ…å›´
const createUser = (name, age) => ({
  name: name,
  age: age,
  id: Math.random()
});
```

### 5.3 Lambdaåœ¨é«˜é˜¶å‡½æ•°ä¸­çš„åº”ç”¨


```javascript
// ğŸ¯ Lambdaè®©ä»£ç æ›´ç®€æ´
const numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];

// ä¼ ç»Ÿå†™æ³•ï¼šéœ€è¦å®šä¹‰å‘½åå‡½æ•°
function isEven(n) { return n % 2 === 0; }
function square(n) { return n * n; }
const result1 = numbers.filter(isEven).map(square);

// Lambdaå†™æ³•ï¼šç›´æ¥å†…è”
const result2 = numbers
  .filter(n => n % 2 === 0)
  .map(n => n * n);

console.log(result2); // [4, 16, 36, 64, 100]
```

### 5.4 Lambdaçš„ä½¿ç”¨åœºæ™¯


```javascript
// ğŸš€ å¸¸è§ä½¿ç”¨åœºæ™¯

// 1. æ•°ç»„å¤„ç†
const users = ["alice", "bob", "charlie"];
const formattedUsers = users.map(name => name.toUpperCase()); // ["ALICE", "BOB", "CHARLIE"]

// 2. äº‹ä»¶å¤„ç†ï¼ˆåœ¨å‰ç«¯ä¸­ï¼‰
button.addEventListener('click', event => {
  console.log('æŒ‰é’®è¢«ç‚¹å‡»äº†');
});

// 3. å¼‚æ­¥å¤„ç†
fetch('/api/data')
  .then(response => response.json())
  .then(data => console.log(data))
  .catch(error => console.error(error));

// 4. æ¡ä»¶åˆ¤æ–­ç®€åŒ–
const isAdult = age => age >= 18;
const canVote = users.filter(user => isAdult(user.age));
```

---

## 6. ğŸ˜´ æƒ°æ€§æ±‚å€¼åŸç†


### 6.1 ä»€ä¹ˆæ˜¯æƒ°æ€§æ±‚å€¼


**é€šä¿—è§£é‡Š**ï¼šæƒ°æ€§æ±‚å€¼å°±åƒ"æŒ‰éœ€è®¡ç®—"ï¼Œåªæœ‰çœŸæ­£éœ€è¦ç»“æœæ—¶æ‰å¼€å§‹è®¡ç®—ã€‚

```
ç°å®ç±»æ¯”ï¼š
æ€¥æ€§æ±‚å€¼ï¼šæå‰æŠŠæ‰€æœ‰èœéƒ½åšå¥½ï¼Œæ”¾åœ¨æ¡Œä¸Šç­‰å®¢äºº
æƒ°æ€§æ±‚å€¼ï¼šå®¢äººç‚¹ä»€ä¹ˆèœï¼Œç°åšä»€ä¹ˆèœ

ä¼˜åŠ¿ï¼šä¸æµªè´¹èµ„æºï¼ŒæŒ‰éœ€åˆ†é…ï¼
```

### 6.2 æƒ°æ€§æ±‚å€¼çš„ä¼˜åŠ¿


```javascript
// ğŸŒ æ€¥æ€§æ±‚å€¼çš„é—®é¢˜
function expensiveCalculation(n) {
  console.log(`æ­£åœ¨è®¡ç®— ${n} çš„å¹³æ–¹...`);
  return n * n;
}

const numbers = [1, 2, 3, 4, 5];

// æ€¥æ€§æ±‚å€¼ï¼šç«‹å³è®¡ç®—æ‰€æœ‰ç»“æœ
const eagerResults = numbers.map(expensiveCalculation); // æ‰€æœ‰è®¡ç®—ç«‹å³æ‰§è¡Œ
console.log("åªéœ€è¦ç¬¬ä¸€ä¸ªç»“æœ:", eagerResults[0]);

// ğŸ˜´ æƒ°æ€§æ±‚å€¼çš„æ€è·¯
function* lazyMap(array, fn) {
  for (let item of array) {
    yield fn(item);  // åªæœ‰è®¿é—®æ—¶æ‰è®¡ç®—
  }
}

const lazyResults = lazyMap(numbers, expensiveCalculation);
console.log("åªéœ€è¦ç¬¬ä¸€ä¸ªç»“æœ:", lazyResults.next().value); // åªè®¡ç®—ç¬¬ä¸€ä¸ª
```

### 6.3 JavaScriptä¸­çš„æƒ°æ€§æ±‚å€¼å®ç°


```javascript
// ğŸ”§ æƒ°æ€§è®¡ç®—å™¨
class LazyValue {
  constructor(computation) {
    this.computation = computation;
    this.computed = false;
    this.value = null;
  }
  
  getValue() {
    if (!this.computed) {
      console.log("å¼€å§‹è®¡ç®—...");
      this.value = this.computation();
      this.computed = true;
    }
    return this.value;
  }
}

// ä½¿ç”¨æƒ°æ€§å€¼
const lazyExpensiveValue = new LazyValue(() => {
  // æ¨¡æ‹Ÿè€—æ—¶è®¡ç®—
  let sum = 0;
  for (let i = 0; i < 1000000; i++) {
    sum += i;
  }
  return sum;
});

console.log("åˆ›å»ºäº†æƒ°æ€§å€¼"); // ä¸ä¼šè§¦å‘è®¡ç®—
console.log("ç¬¬ä¸€æ¬¡è·å–:", lazyExpensiveValue.getValue()); // è§¦å‘è®¡ç®—
console.log("ç¬¬äºŒæ¬¡è·å–:", lazyExpensiveValue.getValue()); // ä½¿ç”¨ç¼“å­˜ç»“æœ
```

### 6.4 Streamå¤„ç†ä¸­çš„æƒ°æ€§æ±‚å€¼


```javascript
// ğŸŒŠ æ¨¡æ‹ŸStreamçš„æƒ°æ€§å¤„ç†
class LazyStream {
  constructor(data) {
    this.data = data;
    this.operations = [];
  }
  
  map(fn) {
    this.operations.push({type: 'map', fn});
    return this; // è¿”å›è‡ªèº«ï¼Œæ”¯æŒé“¾å¼è°ƒç”¨
  }
  
  filter(fn) {
    this.operations.push({type: 'filter', fn});
    return this;
  }
  
  // åªæœ‰è°ƒç”¨collectæ—¶æ‰çœŸæ­£æ‰§è¡Œæ‰€æœ‰æ“ä½œ
  collect() {
    let result = this.data;
    for (let op of this.operations) {
      if (op.type === 'map') {
        result = result.map(op.fn);
      } else if (op.type === 'filter') {
        result = result.filter(op.fn);
      }
    }
    return result;
  }
}

// ä½¿ç”¨æƒ°æ€§Stream
const stream = new LazyStream([1, 2, 3, 4, 5])
  .map(x => x * 2)      // è¿™é‡Œä¸æ‰§è¡Œ
  .filter(x => x > 5)   // è¿™é‡Œä¹Ÿä¸æ‰§è¡Œ
  .map(x => x + 1);     // è¿™é‡Œè¿˜æ˜¯ä¸æ‰§è¡Œ

console.log("æ“ä½œå·²å®šä¹‰ï¼Œä½†æœªæ‰§è¡Œ");
console.log(stream.collect()); // [7, 9, 11] - ç°åœ¨æ‰æ‰§è¡Œæ‰€æœ‰æ“ä½œ
```

---

## 7. ğŸ› æŸ¯é‡ŒåŒ–æŠ€æœ¯è¯¦è§£


### 7.1 ä»€ä¹ˆæ˜¯æŸ¯é‡ŒåŒ–


**é€šä¿—è§£é‡Š**ï¼šæŸ¯é‡ŒåŒ–å°±åƒ"åˆ†æœŸä»˜æ¬¾"ï¼ŒæŠŠå¤šå‚æ•°å‡½æ•°å˜æˆå¤šä¸ªå•å‚æ•°å‡½æ•°ã€‚

```
æ™®é€šå‡½æ•°ï¼šä¸€æ¬¡æ€§ä¼ å…¥æ‰€æœ‰å‚æ•°
add(2, 3, 4) â†’ 9

æŸ¯é‡ŒåŒ–å‡½æ•°ï¼šåˆ†å¤šæ¬¡ä¼ å…¥å‚æ•°  
add(2)(3)(4) â†’ 9

å°±åƒï¼š
æ™®é€šæ–¹å¼ï¼šä¸€æ¬¡æ€§ä¹°å…¨å¥—å®¶å…·
æŸ¯é‡ŒåŒ–ï¼šå…ˆä¹°æ¡Œå­ï¼Œå†ä¹°æ¤…å­ï¼Œæœ€åä¹°æŸœå­
```

### 7.2 æŸ¯é‡ŒåŒ–çš„åŸºæœ¬å®ç°


```javascript
// ğŸ”§ æ‰‹åŠ¨å®ç°æŸ¯é‡ŒåŒ–
function curry(fn) {
  return function curried(...args) {
    if (args.length >= fn.length) {
      // å‚æ•°å¤Ÿäº†ï¼Œæ‰§è¡ŒåŸå‡½æ•°
      return fn.apply(this, args);
    } else {
      // å‚æ•°ä¸å¤Ÿï¼Œè¿”å›æ–°å‡½æ•°ç­‰å¾…æ›´å¤šå‚æ•°
      return function(...nextArgs) {
        return curried.apply(this, args.concat(nextArgs));
      };
    }
  };
}

// æ™®é€šçš„ä¸‰å‚æ•°å‡½æ•°
function add(a, b, c) {
  return a + b + c;
}

// æŸ¯é‡ŒåŒ–åçš„å‡½æ•°
const curriedAdd = curry(add);

// å¤šç§è°ƒç”¨æ–¹å¼éƒ½å¯ä»¥
console.log(curriedAdd(1)(2)(3));    // 6
console.log(curriedAdd(1, 2)(3));    // 6  
console.log(curriedAdd(1)(2, 3));    // 6
console.log(curriedAdd(1, 2, 3));    // 6
```

### 7.3 æŸ¯é‡ŒåŒ–çš„å®é™…åº”ç”¨


```javascript
// ğŸ¯ é…ç½®åŒ–å‡½æ•°çš„åˆ›å»º
const multiply = curry((a, b, c) => a * b * c);

// åˆ›å»ºä¸“ç”¨çš„å€æ•°å‡½æ•°
const double = multiply(2);        // å›ºå®šç¬¬ä¸€ä¸ªå‚æ•°ä¸º2
const triple = multiply(3);        // å›ºå®šç¬¬ä¸€ä¸ªå‚æ•°ä¸º3

// è¿›ä¸€æ­¥ä¸“åŒ–
const doubleAndAdd5 = double(5);   // å›ºå®šå‰ä¸¤ä¸ªå‚æ•°

console.log(doubleAndAdd5(10));    // 2 * 5 * 10 = 100

// ğŸ› ï¸ å®é™…ä¸šåŠ¡åœºæ™¯ï¼šç¨è´¹è®¡ç®—
const calculateTax = curry((taxRate, discount, price) => {
  const discountedPrice = price * (1 - discount);
  return discountedPrice * (1 + taxRate);
});

// åˆ›å»ºä¸åŒåœ°åŒºçš„ç¨è´¹è®¡ç®—å™¨
const beijingTax = calculateTax(0.08);      // åŒ—äº¬ç¨ç‡8%
const shanghaiTax = calculateTax(0.06);     // ä¸Šæµ·ç¨ç‡6%

// åˆ›å»ºç‰¹å®šæŠ˜æ‰£çš„è®¡ç®—å™¨
const beijingVIPTax = beijingTax(0.1);      // åŒ—äº¬VIPå®¢æˆ·10%æŠ˜æ‰£

console.log(beijingVIPTax(1000));           // æœ€ç»ˆä»·æ ¼
```

### 7.4 æŸ¯é‡ŒåŒ–ä¸éƒ¨åˆ†åº”ç”¨çš„åŒºåˆ«


```javascript
// ğŸ“Š æŸ¯é‡ŒåŒ– vs éƒ¨åˆ†åº”ç”¨

// æŸ¯é‡ŒåŒ–ï¼šæ€»æ˜¯è¿”å›å•å‚æ•°å‡½æ•°
const curriedAdd = a => b => c => a + b + c;
curriedAdd(1)(2)(3); // å¿…é¡»ä¸€ä¸ªä¸€ä¸ªä¼ å‚

// éƒ¨åˆ†åº”ç”¨ï¼šå¯ä»¥ä¸€æ¬¡ä¼ å…¥å¤šä¸ªå‚æ•°
function partial(fn, ...presetArgs) {
  return function(...laterArgs) {
    return fn(...presetArgs, ...laterArgs);
  };
}

const add3Numbers = (a, b, c) => a + b + c;
const partiallyApplied = partial(add3Numbers, 1, 2);
partiallyApplied(3); // ä¸€æ¬¡ä¼ å…¥å‰©ä½™å‚æ•°
```

---

## 8. ğŸ“‹ List/Streamå¤„ç†æ¨¡å¼


### 8.1 Listå¤„ç†çš„å‡½æ•°å¼æ€ç»´


**æ ¸å¿ƒæ€æƒ³**ï¼šæŠŠListçœ‹ä½œæ•°æ®æµï¼Œç”¨ç®¡é“çš„æ–¹å¼é€æ­¥å¤„ç†ã€‚

```
ä¼ ç»Ÿæ€ç»´ï¼šå¾ªç¯éå†ï¼Œæ‰‹åŠ¨å¤„ç†æ¯ä¸ªå…ƒç´ 
for (let i = 0; i < list.length; i++) {
  // æ‰‹åŠ¨å¤„ç†é€»è¾‘
}

å‡½æ•°å¼æ€ç»´ï¼šæ•°æ®æµæ°´çº¿å¤„ç†
list.filter(condition).map(transform).reduce(aggregate)
```

### 8.2 Streamå¤„ç†çš„é“¾å¼æ“ä½œ


```javascript
// ğŸ­ æ•°æ®å¤„ç†æµæ°´çº¿
const orders = [
  { id: 1, customer: "Alice", amount: 150, status: "completed" },
  { id: 2, customer: "Bob", amount: 75, status: "pending" },
  { id: 3, customer: "Charlie", amount: 200, status: "completed" },
  { id: 4, customer: "David", amount: 50, status: "cancelled" },
  { id: 5, customer: "Eve", amount: 300, status: "completed" }
];

// ğŸ¯ ä¸šåŠ¡éœ€æ±‚ï¼šè®¡ç®—å·²å®Œæˆè®¢å•çš„å¹³å‡é‡‘é¢
const averageCompletedAmount = orders
  .filter(order => order.status === "completed")    // ç­›é€‰å·²å®Œæˆè®¢å•
  .map(order => order.amount)                       // æå–é‡‘é¢
  .reduce((sum, amount, index, array) => {          // è®¡ç®—å¹³å‡å€¼
    sum += amount;
    return index === array.length - 1 ? sum / array.length : sum;
  }, 0);

console.log(averageCompletedAmount); // 216.67

// ğŸ” æ›´å¤æ‚çš„å¤„ç†ï¼šæŒ‰å®¢æˆ·åˆ†ç»„ç»Ÿè®¡
const customerStats = orders
  .filter(order => order.status === "completed")
  .reduce((stats, order) => {
    if (!stats[order.customer]) {
      stats[order.customer] = { totalAmount: 0, orderCount: 0 };
    }
    stats[order.customer].totalAmount += order.amount;
    stats[order.customer].orderCount += 1;
    return stats;
  }, {});

console.log(customerStats);
// { Alice: {totalAmount: 150, orderCount: 1}, Charlie: {totalAmount: 200, orderCount: 1}, ... }
```

### 8.3 æƒ°æ€§Streamå®ç°


```javascript
// ğŸŒŠ æƒ°æ€§Streamçš„å®Œæ•´å®ç°
class Stream {
  constructor(iterable) {
    this.iterable = iterable;
  }
  
  static of(...items) {
    return new Stream(items);
  }
  
  static range(start, end) {
    return new Stream(function* () {
      for (let i = start; i < end; i++) {
        yield i;
      }
    }());
  }
  
  map(fn) {
    const self = this;
    return new Stream(function* () {
      for (let item of self.iterable) {
        yield fn(item);
      }
    }());
  }
  
  filter(predicate) {
    const self = this;
    return new Stream(function* () {
      for (let item of self.iterable) {
        if (predicate(item)) {
          yield item;
        }
      }
    }());
  }
  
  take(count) {
    const self = this;
    return new Stream(function* () {
      let taken = 0;
      for (let item of self.iterable) {
        if (taken >= count) break;
        yield item;
        taken++;
      }
    }());
  }
  
  toArray() {
    return Array.from(this.iterable);
  }
}

// ğŸ¯ æƒ°æ€§Streamçš„ä½¿ç”¨
const result = Stream
  .range(1, 1000000)           // ç”Ÿæˆå¤§èŒƒå›´æ•°å­—ï¼ˆä¸ä¼šç«‹å³ç”Ÿæˆï¼‰
  .filter(n => n % 2 === 0)    // ç­›é€‰å¶æ•°ï¼ˆä¸ä¼šç«‹å³æ‰§è¡Œï¼‰
  .map(n => n * n)             // è®¡ç®—å¹³æ–¹ï¼ˆä¸ä¼šç«‹å³æ‰§è¡Œï¼‰
  .take(5)                     // åªè¦å‰5ä¸ªï¼ˆä¸ä¼šç«‹å³æ‰§è¡Œï¼‰
  .toArray();                  // ç°åœ¨æ‰å¼€å§‹çœŸæ­£è®¡ç®—

console.log(result); // [4, 16, 36, 64, 100]
```

---

## 9. ğŸ”„ é€’å½’vsè¿­ä»£é€‰æ‹©ç­–ç•¥


### 9.1 é€’å½’çš„ç‰¹ç‚¹å’Œé€‚ç”¨åœºæ™¯


**é€’å½’çš„æœ¬è´¨**ï¼šå‡½æ•°è°ƒç”¨è‡ªå·±ï¼Œè§£å†³é—®é¢˜çš„è§„æ¨¡é€æ­¥ç¼©å°ã€‚

```
é€’å½’ä¸‰è¦ç´ ï¼š
1. åŸºç¡€æƒ…å†µï¼ˆé€’å½’ç»ˆæ­¢æ¡ä»¶ï¼‰
2. é€’å½’æƒ…å†µï¼ˆé—®é¢˜è§„æ¨¡ç¼©å°ï¼‰  
3. è‡ªè°ƒç”¨ï¼ˆå‡½æ•°è°ƒç”¨è‡ªå·±ï¼‰

å°±åƒä¿„ç½—æ–¯å¥—å¨ƒï¼š
æœ€å¤–å±‚å¥—å¨ƒåŒ…å«ç¨å°çš„å¥—å¨ƒ
ç¨å°çš„å¥—å¨ƒåŒ…å«æ›´å°çš„å¥—å¨ƒ
...
ç›´åˆ°æœ€å°çš„å®å¿ƒå¥—å¨ƒï¼ˆåŸºç¡€æƒ…å†µï¼‰
```

### 9.2 ç»å…¸é€’å½’ç¤ºä¾‹


```javascript
// ğŸ§® é˜¶ä¹˜è®¡ç®—
function factorial(n) {
  // åŸºç¡€æƒ…å†µ
  if (n <= 1) return 1;
  
  // é€’å½’æƒ…å†µï¼šn! = n * (n-1)!
  return n * factorial(n - 1);
}

console.log(factorial(5)); // 120

// ğŸŒ³ æ ‘ç»“æ„éå†
function traverseTree(node, callback) {
  // å¤„ç†å½“å‰èŠ‚ç‚¹
  callback(node.value);
  
  // é€’å½’å¤„ç†å­èŠ‚ç‚¹
  if (node.children) {
    node.children.forEach(child => traverseTree(child, callback));
  }
}

// ğŸ“ æ–‡ä»¶ç³»ç»Ÿéå†
function findFiles(directory, extension) {
  let results = [];
  
  // åŸºç¡€æƒ…å†µï¼šæ˜¯æ–‡ä»¶
  if (directory.type === 'file') {
    if (directory.name.endsWith(extension)) {
      results.push(directory.name);
    }
    return results;
  }
  
  // é€’å½’æƒ…å†µï¼šæ˜¯ç›®å½•
  if (directory.children) {
    for (let child of directory.children) {
      results = results.concat(findFiles(child, extension));
    }
  }
  
  return results;
}
```

### 9.3 è¿­ä»£çš„ç‰¹ç‚¹å’Œé€‚ç”¨åœºæ™¯


```javascript
// ğŸ”„ åŒæ ·çš„é˜¶ä¹˜ï¼Œç”¨è¿­ä»£å®ç°
function factorialIterative(n) {
  let result = 1;
  for (let i = 2; i <= n; i++) {
    result *= i;
  }
  return result;
}

// ğŸ¯ æ–æ³¢é‚£å¥‘æ•°åˆ—å¯¹æ¯”
// é€’å½’ç‰ˆæœ¬ï¼ˆæ•ˆç‡ä½ï¼Œä¼šé‡å¤è®¡ç®—ï¼‰
function fibRecursive(n) {
  if (n <= 1) return n;
  return fibRecursive(n - 1) + fibRecursive(n - 2);
}

// è¿­ä»£ç‰ˆæœ¬ï¼ˆæ•ˆç‡é«˜ï¼‰
function fibIterative(n) {
  if (n <= 1) return n;
  
  let a = 0, b = 1;
  for (let i = 2; i <= n; i++) {
    let temp = a + b;
    a = b;
    b = temp;
  }
  return b;
}

// æ€§èƒ½å¯¹æ¯”
console.time("é€’å½’");
fibRecursive(35); // å¾ˆæ…¢
console.timeEnd("é€’å½’");

console.time("è¿­ä»£");
fibIterative(35); // å¾ˆå¿«
console.timeEnd("è¿­ä»£");
```

### 9.4 é€‰æ‹©ç­–ç•¥æŒ‡å—


| åœºæ™¯ | æ¨èæ–¹å¼ | åŸå›  |
|------|---------|------|
| **æ ‘/å›¾éå†** | ğŸ”„ é€’å½’ | è‡ªç„¶è¡¨è¾¾å±‚æ¬¡ç»“æ„ |
| **æ•°å­¦è®¡ç®—** | âš¡ è¿­ä»£ | é¿å…æ ˆæº¢å‡ºï¼Œæ€§èƒ½æ›´å¥½ |
| **åˆ†æ²»ç®—æ³•** | ğŸ”„ é€’å½’ | é—®é¢˜å¤©ç„¶å…·æœ‰é€’å½’æ€§è´¨ |
| **ç®€å•å¾ªç¯** | âš¡ è¿­ä»£ | ä»£ç ç®€æ´ï¼Œæ€§èƒ½ç¨³å®š |
| **æ·±åº¦å¾ˆå¤§** | âš¡ è¿­ä»£ | é¿å…æ ˆæº¢å‡ºé”™è¯¯ |
| **å¤æ‚çŠ¶æ€** | âš¡ è¿­ä»£ | æ›´å®¹æ˜“æ§åˆ¶å’Œè°ƒè¯• |

```javascript
// ğŸ¯ é€’å½’è½¬è¿­ä»£çš„é€šç”¨æŠ€å·§ï¼šä½¿ç”¨æ ˆ
function treeTraversalIterative(root, callback) {
  const stack = [root];
  
  while (stack.length > 0) {
    const node = stack.pop();
    callback(node.value);
    
    // å°†å­èŠ‚ç‚¹å‹å…¥æ ˆï¼ˆæ³¨æ„é¡ºåºï¼‰
    if (node.children) {
      for (let i = node.children.length - 1; i >= 0; i--) {
        stack.push(node.children[i]);
      }
    }
  }
}
```

---

## 10. âš ï¸ å¸¸è§åæ¨¡å¼é¿å…


### 10.1 æ»¥ç”¨é—­åŒ…çš„é—®é¢˜


```javascript
// âŒ åæ¨¡å¼ï¼šåˆ›å»ºè¿‡å¤šé—­åŒ…
function createHandlers() {
  const handlers = [];
  for (var i = 0; i < 10; i++) {
    handlers.push(function() {
      console.log(i); // æ‰€æœ‰å‡½æ•°éƒ½ä¼šæ‰“å°10ï¼
    });
  }
  return handlers;
}

// âœ… æ­£ç¡®æ–¹å¼1ï¼šä½¿ç”¨let
function createHandlersCorrect1() {
  const handlers = [];
  for (let i = 0; i < 10; i++) { // ä½¿ç”¨letåˆ›å»ºå—çº§ä½œç”¨åŸŸ
    handlers.push(function() {
      console.log(i);
    });
  }
  return handlers;
}

// âœ… æ­£ç¡®æ–¹å¼2ï¼šä½¿ç”¨ç«‹å³æ‰§è¡Œå‡½æ•°
function createHandlersCorrect2() {
  const handlers = [];
  for (var i = 0; i < 10; i++) {
    handlers.push((function(index) {
      return function() {
        console.log(index);
      };
    })(i));
  }
  return handlers;
}
```

### 10.2 è¿‡åº¦ä½¿ç”¨é€’å½’


```javascript
// âŒ åæ¨¡å¼ï¼šç®€å•é—®é¢˜ç”¨å¤æ‚é€’å½’
function sumArrayRecursive(arr, index = 0) {
  if (index >= arr.length) return 0;
  return arr[index] + sumArrayRecursive(arr, index + 1);
}

// âœ… æ­£ç¡®æ–¹å¼ï¼šç”¨reduceæˆ–ç®€å•å¾ªç¯
const sumArray = arr => arr.reduce((sum, num) => sum + num, 0);

// âŒ åæ¨¡å¼ï¼šæ²¡æœ‰ä¼˜åŒ–çš„é€’å½’ï¼ˆé‡å¤è®¡ç®—ï¼‰
function fibonacci(n) {
  if (n <= 1) return n;
  return fibonacci(n - 1) + fibonacci(n - 2); // å¤§é‡é‡å¤è®¡ç®—
}

// âœ… æ­£ç¡®æ–¹å¼ï¼šè®°å¿†åŒ–é€’å½’
const fibonacciMemo = (function() {
  const cache = {};
  return function fib(n) {
    if (n in cache) return cache[n];
    if (n <= 1) return n;
    cache[n] = fib(n - 1) + fib(n - 2);
    return cache[n];
  };
})();
```

### 10.3 å‡½æ•°å¼ç¼–ç¨‹çš„è¯¯ç”¨


```javascript
// âŒ åæ¨¡å¼ï¼šè¿‡åº¦é“¾å¼è°ƒç”¨
const result = data
  .filter(x => x.status === 'active')
  .map(x => ({ ...x, processed: true }))
  .filter(x => x.type === 'premium')
  .map(x => ({ ...x, priority: 'high' }))
  .filter(x => x.region === 'US')
  .map(x => ({ ...x, formatted: formatData(x) }))
  .reduce((acc, x) => acc + x.value, 0);

// âœ… æ­£ç¡®æ–¹å¼ï¼šåˆå¹¶æ“ä½œï¼Œæé«˜æ•ˆç‡
const result = data
  .filter(x => x.status === 'active' && x.type === 'premium' && x.region === 'US')
  .map(x => ({
    ...x,
    processed: true,
    priority: 'high',
    formatted: formatData(x)
  }))
  .reduce((acc, x) => acc + x.value, 0);

// âŒ åæ¨¡å¼ï¼šå¿½ç•¥æ€§èƒ½ï¼Œç›²ç›®ä½¿ç”¨å‡½æ•°å¼
const processLargeData = (largeArray) => {
  return largeArray
    .map(item => expensiveOperation1(item))    // ä¸‰æ¬¡éå†å¤§æ•°ç»„
    .map(item => expensiveOperation2(item))    // æ€§èƒ½å¾ˆå·®
    .map(item => expensiveOperation3(item));
};

// âœ… æ­£ç¡®æ–¹å¼ï¼šåˆå¹¶æ“ä½œæˆ–ä½¿ç”¨ä¼ ç»Ÿå¾ªç¯
const processLargeDataEfficient = (largeArray) => {
  return largeArray.map(item => {
    const step1 = expensiveOperation1(item);
    const step2 = expensiveOperation2(step1);
    return expensiveOperation3(step2);
  });
};
```

### 10.4 æŸ¯é‡ŒåŒ–çš„è¿‡åº¦ä½¿ç”¨


```javascript
// âŒ åæ¨¡å¼ï¼šä¸ºäº†æŸ¯é‡ŒåŒ–è€ŒæŸ¯é‡ŒåŒ–
const add = a => b => c => d => a + b + c + d;
const result = add(1)(2)(3)(4); // éš¾è¯»éš¾ç»´æŠ¤

// âœ… æ­£ç¡®æ–¹å¼ï¼šåªåœ¨æœ‰æ„ä¹‰æ—¶æ‰æŸ¯é‡ŒåŒ–
const createApiCall = baseUrl => endpoint => params => {
  return fetch(`${baseUrl}/${endpoint}`, { params });
};

const apiCall = createApiCall('https://api.example.com');
const getUserData = apiCall('users');
const getOrderData = apiCall('orders');

// è¿™æ ·çš„æŸ¯é‡ŒåŒ–æ˜¯æœ‰æ„ä¹‰çš„ï¼Œåˆ›å»ºäº†å¯é‡ç”¨çš„é…ç½®
```

---

## 11. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 11.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ é«˜é˜¶å‡½æ•°ï¼šå‡½æ•°çš„å‡½æ•°ï¼Œæ¥æ”¶æˆ–è¿”å›å‡½æ•°
ğŸ”¸ é—­åŒ…æœºåˆ¶ï¼šå‡½æ•°è®°ä½å¤–éƒ¨å˜é‡çš„"è®°å¿†ç›’å­"
ğŸ”¸ å‡½æ•°ç»„åˆï¼šåƒæ­ç§¯æœ¨ä¸€æ ·ç»„åˆå°åŠŸèƒ½æˆå¤§åŠŸèƒ½
ğŸ”¸ æ ¸å¿ƒæ“ä½œï¼šMap(è½¬æ¢)ã€Filter(ç­›é€‰)ã€Reduce(èšåˆ)
ğŸ”¸ Lambdaè¡¨è¾¾å¼ï¼šåŒ¿åå‡½æ•°ï¼Œç®€æ´çš„å‡½æ•°è¡¨è¾¾æ–¹å¼
ğŸ”¸ æƒ°æ€§æ±‚å€¼ï¼šæŒ‰éœ€è®¡ç®—ï¼Œæé«˜æ•ˆç‡
ğŸ”¸ æŸ¯é‡ŒåŒ–ï¼šåˆ†æ­¥ä¼ å‚ï¼Œåˆ›å»ºä¸“ç”¨å‡½æ•°
```

### 11.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ å‡½æ•°å¼ç¼–ç¨‹çš„æ€ç»´è½¬å˜**
```
ä»"å¦‚ä½•åš"åˆ°"åšä»€ä¹ˆ"ï¼š
å‘½ä»¤å¼ï¼šå‘Šè¯‰è®¡ç®—æœºæ¯ä¸€æ­¥æ€ä¹ˆåš
å‡½æ•°å¼ï¼šæè¿°æ•°æ®å¦‚ä½•å˜æ¢

ä»"æ”¹å˜æ•°æ®"åˆ°"åˆ›å»ºæ–°æ•°æ®"ï¼š
å‘½ä»¤å¼ï¼šä¿®æ”¹åŸæœ‰æ•°æ®
å‡½æ•°å¼ï¼šåŸºäºåŸæ•°æ®åˆ›å»ºæ–°æ•°æ®
```

**ğŸ”¹ é«˜é˜¶å‡½æ•°çš„å®é™…ä»·å€¼**
```
ä»£ç å¤ç”¨ï¼šå†™ä¸€æ¬¡ï¼Œåˆ°å¤„ç”¨
é€»è¾‘åˆ†ç¦»ï¼šä¸šåŠ¡é€»è¾‘å’Œå¤„ç†é€»è¾‘åˆ†å¼€
ç»„åˆèƒ½åŠ›ï¼šå°å‡½æ•°ç»„åˆæˆå¤§åŠŸèƒ½
æµ‹è¯•å‹å¥½ï¼šçº¯å‡½æ•°å®¹æ˜“æµ‹è¯•
```

**ğŸ”¹ Mapã€Filterã€Reduceçš„é€‰æ‹©**
```
Mapï¼šéœ€è¦è½¬æ¢æ¯ä¸ªå…ƒç´ æ—¶ä½¿ç”¨
Filterï¼šéœ€è¦ç­›é€‰ç¬¦åˆæ¡ä»¶çš„å…ƒç´ æ—¶ä½¿ç”¨
Reduceï¼šéœ€è¦å°†æ•°ç»„å½’çº¦ä¸ºå•ä¸€å€¼æ—¶ä½¿ç”¨
```

### 11.3 å®é™…åº”ç”¨æŒ‡å¯¼


**âœ… ä½•æ—¶ä½¿ç”¨å‡½æ•°å¼ç¼–ç¨‹**
- æ•°æ®å¤„ç†å’Œè½¬æ¢
- æ— å‰¯ä½œç”¨çš„è®¡ç®—
- å¯é¢„æµ‹çš„è¾“å…¥è¾“å‡º
- éœ€è¦é«˜åº¦å¤ç”¨çš„é€»è¾‘

**âš ï¸ ä½•æ—¶è°¨æ…ä½¿ç”¨**
- æ€§èƒ½è¦æ±‚æé«˜çš„åœºæ™¯
- éœ€è¦é¢‘ç¹ä¿®æ”¹çŠ¶æ€
- ä¸ç°æœ‰å‘½ä»¤å¼ä»£ç é›†æˆ
- å›¢é˜Ÿä¸ç†Ÿæ‚‰å‡½æ•°å¼ç¼–ç¨‹

**ğŸ¯ æœ€ä½³å®è·µå»ºè®®**
```
1. ä»ç®€å•å¼€å§‹ï¼šå…ˆæŒæ¡mapã€filterã€reduce
2. é€æ­¥è¿‡æ¸¡ï¼šä¸è¦ä¸€æ¬¡æ€§æ”¹å†™æ‰€æœ‰ä»£ç 
3. æ€§èƒ½è€ƒè™‘ï¼šå¤§æ•°æ®å¤„ç†æ—¶æ³¨æ„æ•ˆç‡
4. å¯è¯»æ€§ä¼˜å…ˆï¼šä¸è¦ä¸ºäº†å‡½æ•°å¼è€Œå‡½æ•°å¼
5. å›¢é˜Ÿåä½œï¼šç¡®ä¿å›¢é˜Ÿæˆå‘˜ç†è§£ä»£ç æ„å›¾
```

### 11.4 å­¦ä¹ è·¯å¾„å»ºè®®


```
åˆçº§é˜¶æ®µï¼š
â€¢ æŒæ¡Arrayçš„mapã€filterã€reduce
â€¢ ç†è§£ç®­å¤´å‡½æ•°å’ŒLambdaè¡¨è¾¾å¼
â€¢ å­¦ä¼šåŸºç¡€çš„å‡½æ•°ç»„åˆ

ä¸­çº§é˜¶æ®µï¼š
â€¢ æ·±å…¥ç†è§£é—­åŒ…å’Œä½œç”¨åŸŸ
â€¢ æŒæ¡æŸ¯é‡ŒåŒ–å’Œéƒ¨åˆ†åº”ç”¨
â€¢ å­¦ä¹ æƒ°æ€§æ±‚å€¼æ¦‚å¿µ

é«˜çº§é˜¶æ®µï¼š
â€¢ è®¾è®¡å¤æ‚çš„å‡½æ•°ç»„åˆ
â€¢ ä¼˜åŒ–æ€§èƒ½å’Œé¿å…åæ¨¡å¼
â€¢ ç»“åˆå…·ä½“ä¸šåŠ¡åœºæ™¯åº”ç”¨
```

**æ ¸å¿ƒè®°å¿†å£è¯€**ï¼š
```
é«˜é˜¶å‡½æ•°å¾ˆç¥å¥‡ï¼Œæ¥æ”¶è¿”å›éƒ½æ˜¯å‡½æ•°ä½“
é—­åŒ…è®°å¿†å˜é‡å€¼ï¼Œç»„åˆç®¡é“æ•°æ®æµ
Mapè½¬æ¢Filterç­›ï¼ŒReduceèšåˆä¸€ä¸ªå€¼
Lambdaç®€æ´åˆå®ç”¨ï¼ŒæŸ¯é‡ŒåŒ–åˆ†æ­¥æ¥è¿›è¡Œ
```