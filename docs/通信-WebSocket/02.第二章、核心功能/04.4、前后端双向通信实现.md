---
title: 4ã€å‰åç«¯åŒå‘é€šä¿¡å®ç°
---
## ğŸ“š ç›®å½•

1. [ä»€ä¹ˆæ˜¯åŒå‘é€šä¿¡](#1-ä»€ä¹ˆæ˜¯åŒå‘é€šä¿¡)
2. [å‰ç«¯è¿æ¥åç«¯æœåŠ¡](#2-å‰ç«¯è¿æ¥åç«¯æœåŠ¡)
3. [æ¶ˆæ¯å‘é€ä¸æ¥æ”¶æµç¨‹](#3-æ¶ˆæ¯å‘é€ä¸æ¥æ”¶æµç¨‹)
4. [JSONæ¶ˆæ¯æ ¼å¼ç»Ÿä¸€](#4-JSONæ¶ˆæ¯æ ¼å¼ç»Ÿä¸€)
5. [å®Œæ•´åŒå‘é€šä¿¡å®æˆ˜](#5-å®Œæ•´åŒå‘é€šä¿¡å®æˆ˜)
6. [æµè§ˆå™¨è°ƒè¯•æŠ€å·§](#6-æµè§ˆå™¨è°ƒè¯•æŠ€å·§)
7. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#7-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ¤ ä»€ä¹ˆæ˜¯åŒå‘é€šä¿¡


### 1.1 ä¼ ç»Ÿé€šä¿¡ vs åŒå‘é€šä¿¡


**ğŸ”¸ ä¼ ç»ŸHTTPé€šä¿¡ï¼ˆå•å‘ï¼‰**
```
æµè§ˆå™¨ â”€â”€è¯·æ±‚â”€â”€â–¶ æœåŠ¡å™¨
æµè§ˆå™¨ â—€â”€â”€å“åº”â”€â”€ æœåŠ¡å™¨

ç‰¹ç‚¹ï¼šåªèƒ½æµè§ˆå™¨ä¸»åŠ¨å‘èµ·ï¼ŒæœåŠ¡å™¨è¢«åŠ¨å“åº”
å°±åƒï¼šæ‰“ç”µè¯åªèƒ½ä½ æ‰“ç»™åˆ«äººï¼Œåˆ«äººä¸èƒ½æ‰“ç»™ä½ 
```

**ğŸ”¸ WebSocketåŒå‘é€šä¿¡**
```
æµè§ˆå™¨ â—€â”€â”€â”€â”€æ¶ˆæ¯â”€â”€â”€â–¶ æœåŠ¡å™¨
æµè§ˆå™¨ â—€â”€â”€â”€â”€æ¶ˆæ¯â”€â”€â”€â–¶ æœåŠ¡å™¨

ç‰¹ç‚¹ï¼šåŒæ–¹éƒ½å¯ä»¥ä¸»åŠ¨å‘é€æ¶ˆæ¯
å°±åƒï¼šæ­£å¸¸çš„ç”µè¯é€šè¯ï¼ŒåŒæ–¹éƒ½å¯ä»¥è¯´è¯
```

### 1.2 åŒå‘é€šä¿¡çš„å®é™…æ„ä¹‰


> ğŸ’¡ **é€šä¿—ç†è§£**  
> å°±åƒå¾®ä¿¡èŠå¤©ä¸€æ ·ï¼Œä½ å¯ä»¥ç»™æœ‹å‹å‘æ¶ˆæ¯ï¼Œæœ‹å‹ä¹Ÿå¯ä»¥ä¸»åŠ¨ç»™ä½ å‘æ¶ˆæ¯ï¼Œä¸éœ€è¦ä½ å…ˆå‘ä¸ª"åœ¨å—"æ‰èƒ½æ”¶åˆ°å›å¤

**ğŸ”¸ å®é™…åº”ç”¨åœºæ™¯**
- **åœ¨çº¿èŠå¤©**ï¼šç”¨æˆ·Aå‘æ¶ˆæ¯ï¼Œç”¨æˆ·Bç«‹å³æ”¶åˆ°
- **è‚¡ç¥¨è¡Œæƒ…**ï¼šä»·æ ¼å˜åŒ–æ—¶ï¼ŒæœåŠ¡å™¨ä¸»åŠ¨æ¨é€ç»™æ‰€æœ‰ç”¨æˆ·
- **åœ¨çº¿æ¸¸æˆ**ï¼šå…¶ä»–ç©å®¶çš„åŠ¨ä½œå®æ—¶åŒæ­¥åˆ°ä½ çš„å±å¹•
- **ååŒç¼–è¾‘**ï¼šåˆ«äººä¿®æ”¹æ–‡æ¡£æ—¶ï¼Œä½ ç«‹å³çœ‹åˆ°å˜åŒ–

---

## 2. ğŸ”Œ å‰ç«¯è¿æ¥åç«¯æœåŠ¡


### 2.1 è¿æ¥åœ°å€é…ç½®


**ğŸ”¸ WebSocketè¿æ¥åœ°å€æ ¼å¼**
```javascript
// åŸºæœ¬æ ¼å¼
ws://æœåŠ¡å™¨åœ°å€:ç«¯å£å·/è·¯å¾„

// å…·ä½“ç¤ºä¾‹
ws://localhost:8080/websocket    // æœ¬åœ°å¼€å‘
ws://192.168.1.100:8080/chat     // å±€åŸŸç½‘
wss://api.example.com/websocket  // ç”Ÿäº§ç¯å¢ƒï¼ˆåŠ å¯†ï¼‰
```

> ğŸ” **åœ°å€ç»„æˆè§£é‡Š**  
> - `ws://` = WebSocketåè®®ï¼ˆç±»ä¼¼HTTPçš„http://ï¼‰
> - `wss://` = åŠ å¯†WebSocketåè®®ï¼ˆç±»ä¼¼HTTPSçš„https://ï¼‰
> - `localhost:8080` = æœåŠ¡å™¨åœ°å€å’Œç«¯å£
> - `/websocket` = æœåŠ¡å™¨ä¸Šçš„WebSocketè·¯å¾„

### 2.2 å‰ç«¯è¿æ¥ä»£ç 


```javascript
// ğŸ”¸ åˆ›å»ºè¿æ¥
const socket = new WebSocket('ws://localhost:8080/websocket');

// ğŸ”¸ è¿æ¥æˆåŠŸæ—¶
socket.onopen = function() {
    console.log('è¿æ¥æˆåŠŸï¼');
    // è¿æ¥æˆåŠŸåå¯ä»¥å‘é€æ¶ˆæ¯
};

// ğŸ”¸ è¿æ¥å¤±è´¥æ—¶
socket.onerror = function(error) {
    console.log('è¿æ¥å¤±è´¥ï¼š', error);
};
```

### 2.3 è¿æ¥çŠ¶æ€è¯´æ˜


```javascript
// WebSocketè¿æ¥æœ‰4ç§çŠ¶æ€
console.log(socket.readyState);

// 0 = CONNECTING (æ­£åœ¨è¿æ¥)
// 1 = OPEN (è¿æ¥æˆåŠŸï¼Œå¯ä»¥é€šä¿¡)  
// 2 = CLOSING (æ­£åœ¨å…³é—­è¿æ¥)
// 3 = CLOSED (è¿æ¥å·²å…³é—­)
```

---

## 3. ğŸ“¡ æ¶ˆæ¯å‘é€ä¸æ¥æ”¶æµç¨‹


### 3.1 å®Œæ•´é€šä¿¡æµç¨‹å›¾


```
ğŸ–¥ï¸ å‰ç«¯æµè§ˆå™¨                    ğŸ–¥ï¸ åç«¯æœåŠ¡å™¨
      â”‚                              â”‚
      â”‚â”€[1]å»ºç«‹è¿æ¥â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
      â”‚â—€â”€[2]è¿æ¥ç¡®è®¤â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
      â”‚                              â”‚
      â”‚â”€[3]å‘é€æ¶ˆæ¯â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
      â”‚                              â”‚â”€â”€[4]å¤„ç†æ¶ˆæ¯
      â”‚â—€â”€[5]å›å¤æ¶ˆæ¯â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
      â”‚                              â”‚
      â”‚â”€â”€[6]ç»§ç»­å‘é€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
      â”‚â—€â”€â”€[7]ç»§ç»­å›å¤â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
```

### 3.2 å®¢æˆ·ç«¯å‘é€æ¶ˆæ¯


```javascript
const socket = new WebSocket('ws://localhost:8080/websocket');

socket.onopen = function() {
    // ğŸ”¸ è¿æ¥æˆåŠŸåå‘é€æ¶ˆæ¯
    socket.send('Hello Server!');
    
    // ğŸ”¸ ä¹Ÿå¯ä»¥å‘é€JSONæ ¼å¼çš„æ¶ˆæ¯
    const message = {
        type: 'chat',
        content: 'ä½ å¥½ï¼ŒæœåŠ¡å™¨ï¼',
        time: new Date().toLocaleTimeString()
    };
    socket.send(JSON.stringify(message));
};
```

### 3.3 å®¢æˆ·ç«¯æ¥æ”¶æ¶ˆæ¯


```javascript
// ğŸ”¸ æ¥æ”¶æœåŠ¡å™¨å‘æ¥çš„æ¶ˆæ¯
socket.onmessage = function(event) {
    console.log('æ”¶åˆ°æœåŠ¡å™¨æ¶ˆæ¯ï¼š', event.data);
    
    // å¦‚æœæ˜¯JSONæ ¼å¼ï¼Œéœ€è¦è§£æ
    try {
        const message = JSON.parse(event.data);
        console.log('è§£æåçš„æ¶ˆæ¯ï¼š', message);
    } catch (e) {
        console.log('æ™®é€šæ–‡æœ¬æ¶ˆæ¯ï¼š', event.data);
    }
};
```

### 3.4 æœåŠ¡ç«¯å¤„ç†æµç¨‹


> ğŸ’¡ **æœåŠ¡ç«¯å·¥ä½œåŸç†**  
> æœåŠ¡ç«¯å°±åƒä¸€ä¸ª"æ¶ˆæ¯ä¸­è½¬ç«™"ï¼Œæ¥æ”¶åˆ°æ¶ˆæ¯åå¯ä»¥ï¼š
> 1. ç›´æ¥å›å¤ç»™å‘é€è€…
> 2. è½¬å‘ç»™å…¶ä»–è¿æ¥çš„ç”¨æˆ·  
> 3. ä¿å­˜åˆ°æ•°æ®åº“
> 4. è¿›è¡Œä¸šåŠ¡é€»è¾‘å¤„ç†

```java
// ç®€åŒ–çš„æœåŠ¡ç«¯å¤„ç†é€»è¾‘ï¼ˆJavaç¤ºä¾‹ï¼‰
@OnMessage
public void onMessage(String message, Session session) {
    System.out.println("æ”¶åˆ°æ¶ˆæ¯ï¼š" + message);
    
    // ğŸ”¸ å¤„ç†æ¶ˆæ¯å¹¶å›å¤
    String reply = "æœåŠ¡å™¨å›å¤ï¼š" + message;
    session.getBasicRemote().sendText(reply);
}
```

---

## 4. ğŸ“ JSONæ¶ˆæ¯æ ¼å¼ç»Ÿä¸€


### 4.1 ä¸ºä»€ä¹ˆä½¿ç”¨JSONæ ¼å¼


> ğŸ¤” **ä¸ºä»€ä¹ˆä¸ç›´æ¥å‘é€æ–‡æœ¬ï¼Ÿ**  
> å¦‚æœåªå‘é€"ä½ å¥½"è¿™æ ·çš„æ–‡æœ¬ï¼ŒæœåŠ¡å™¨ä¸çŸ¥é“è¿™æ˜¯èŠå¤©æ¶ˆæ¯ã€ç³»ç»ŸæŒ‡ä»¤è¿˜æ˜¯å…¶ä»–ç±»å‹çš„æ•°æ®ã€‚å°±åƒå¿«é€’åŒ…è£¹éœ€è¦æ ‡æ³¨å†…å®¹ç±»å‹ä¸€æ ·ï¼Œæ¶ˆæ¯ä¹Ÿéœ€è¦æ ¼å¼è§„èŒƒã€‚

**ğŸ”¸ JSONæ ¼å¼çš„ä¼˜åŠ¿**
- **ç»“æ„æ¸…æ™°**ï¼šåŒ…å«æ¶ˆæ¯ç±»å‹ã€å†…å®¹ã€æ—¶é—´ç­‰ä¿¡æ¯
- **æ˜“äºè§£æ**ï¼šå‰åç«¯éƒ½èƒ½è½»æ¾å¤„ç†
- **æ‰©å±•æ€§å¥½**ï¼šå¯ä»¥éšæ—¶æ·»åŠ æ–°å­—æ®µ
- **æ ‡å‡†é€šç”¨**ï¼šæ‰€æœ‰ç¼–ç¨‹è¯­è¨€éƒ½æ”¯æŒ

### 4.2 ç»Ÿä¸€æ¶ˆæ¯æ ¼å¼è®¾è®¡


```javascript
// ğŸ”¸ æ ‡å‡†æ¶ˆæ¯æ ¼å¼
const messageFormat = {
    type: 'chat',           // æ¶ˆæ¯ç±»å‹
    content: 'æ¶ˆæ¯å†…å®¹',     // å…·ä½“å†…å®¹  
    sender: 'user123',      // å‘é€è€…
    time: '14:30:25',       // å‘é€æ—¶é—´
    target: 'all'          // ç›®æ ‡æ¥æ”¶è€…ï¼ˆå¯é€‰ï¼‰
};

// ğŸ”¸ ä¸åŒç±»å‹çš„æ¶ˆæ¯ç¤ºä¾‹
// èŠå¤©æ¶ˆæ¯
const chatMessage = {
    type: 'chat',
    content: 'å¤§å®¶å¥½ï¼',
    sender: 'å¼ ä¸‰',
    time: '14:30:25'
};

// ç³»ç»Ÿé€šçŸ¥
const systemMessage = {
    type: 'system',
    content: 'ç”¨æˆ·å¼ ä¸‰è¿›å…¥äº†èŠå¤©å®¤',
    time: '14:30:25'
};

// å¿ƒè·³æ¶ˆæ¯
const heartbeat = {
    type: 'heartbeat',
    content: 'ping',
    time: '14:30:25'
};
```

### 4.3 æ¶ˆæ¯å‘é€å’Œè§£æ


```javascript
// ğŸ”¸ å‘é€JSONæ¶ˆæ¯
function sendMessage(type, content) {
    const message = {
        type: type,
        content: content,
        sender: 'å½“å‰ç”¨æˆ·',
        time: new Date().toLocaleTimeString()
    };
    
    socket.send(JSON.stringify(message));
}

// ğŸ”¸ æ¥æ”¶å¹¶è§£ææ¶ˆæ¯
socket.onmessage = function(event) {
    try {
        const message = JSON.parse(event.data);
        
        // æ ¹æ®æ¶ˆæ¯ç±»å‹è¿›è¡Œä¸åŒå¤„ç†
        switch(message.type) {
            case 'chat':
                displayChatMessage(message);
                break;
            case 'system':
                displaySystemNotice(message);
                break;
            default:
                console.log('æœªçŸ¥æ¶ˆæ¯ç±»å‹ï¼š', message);
        }
    } catch (e) {
        console.log('æ¶ˆæ¯æ ¼å¼é”™è¯¯ï¼š', event.data);
    }
};
```

---

## 5. ğŸ’¬ å®Œæ•´åŒå‘é€šä¿¡å®æˆ˜


### 5.1 ç®€å•èŠå¤©å®¤å®ç°


**ğŸ”¸ HTMLé¡µé¢ç»“æ„**
```html
<!DOCTYPE html>
<html>
<head>
    <title>ç®€å•èŠå¤©å®¤</title>
</head>
<body>
    <div id="messages"></div>
    <input type="text" id="messageInput" placeholder="è¾“å…¥æ¶ˆæ¯...">
    <button onclick="sendMessage()">å‘é€</button>
    
    <script src="chat.js"></script>
</body>
</html>
```

**ğŸ”¸ å®Œæ•´JavaScriptå®ç°**
```javascript
// ğŸ”¸ åˆ›å»ºWebSocketè¿æ¥
const socket = new WebSocket('ws://localhost:8080/websocket');
const messagesDiv = document.getElementById('messages');
const messageInput = document.getElementById('messageInput');

// ğŸ”¸ è¿æ¥å»ºç«‹
socket.onopen = function() {
    addMessage('ç³»ç»Ÿ', 'è¿æ¥æˆåŠŸï¼', 'system');
};

// ğŸ”¸ æ¥æ”¶æ¶ˆæ¯
socket.onmessage = function(event) {
    const message = JSON.parse(event.data);
    addMessage(message.sender, message.content, message.type);
};

// ğŸ”¸ å‘é€æ¶ˆæ¯å‡½æ•°
function sendMessage() {
    const content = messageInput.value.trim();
    if (content) {
        const message = {
            type: 'chat',
            content: content,
            sender: 'æˆ‘',
            time: new Date().toLocaleTimeString()
        };
        
        socket.send(JSON.stringify(message));
        messageInput.value = '';
    }
}

// ğŸ”¸ æ˜¾ç¤ºæ¶ˆæ¯å‡½æ•°
function addMessage(sender, content, type) {
    const messageElement = document.createElement('div');
    messageElement.innerHTML = `
        <strong>${sender}:</strong> ${content}
        <span style="color: gray; font-size: 12px;">
            ${new Date().toLocaleTimeString()}
        </span>
    `;
    
    if (type === 'system') {
        messageElement.style.color = 'blue';
    }
    
    messagesDiv.appendChild(messageElement);
    messagesDiv.scrollTop = messagesDiv.scrollHeight;
}

// ğŸ”¸ å›è½¦å‘é€æ¶ˆæ¯
messageInput.addEventListener('keypress', function(e) {
    if (e.key === 'Enter') {
        sendMessage();
    }
});
```

### 5.2 äº¤äº’æ—¶åºå›¾è¯¦è§£


```
ç”¨æˆ·A                    æœåŠ¡å™¨                    ç”¨æˆ·B
  â”‚                        â”‚                        â”‚
  â”‚â”€[1]è¿æ¥æœåŠ¡å™¨â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                        â”‚
  â”‚â—€â”€[2]è¿æ¥æˆåŠŸâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                        â”‚
  â”‚                        â”‚â—€â”€[3]è¿æ¥æœåŠ¡å™¨â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
  â”‚                        â”‚â”€[4]è¿æ¥æˆåŠŸâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
  â”‚â”€[5]å‘é€"ä½ å¥½"â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                        â”‚
  â”‚                        â”‚â”€[6]è½¬å‘"ä½ å¥½"â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
  â”‚                        â”‚â—€â”€[7]å‘é€"æ”¶åˆ°"â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
  â”‚â—€â”€[8]è½¬å‘"æ”¶åˆ°"â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                        â”‚
```

> ğŸ“– **æ—¶åºå›¾è¯´æ˜**  
> 1-2ï¼šç”¨æˆ·Aè¿æ¥åˆ°æœåŠ¡å™¨  
> 3-4ï¼šç”¨æˆ·Bä¹Ÿè¿æ¥åˆ°æœåŠ¡å™¨  
> 5-6ï¼šç”¨æˆ·Aå‘é€æ¶ˆæ¯ï¼ŒæœåŠ¡å™¨è½¬å‘ç»™ç”¨æˆ·B  
> 7-8ï¼šç”¨æˆ·Bå›å¤æ¶ˆæ¯ï¼ŒæœåŠ¡å™¨è½¬å‘ç»™ç”¨æˆ·A

---

## 6. ğŸ” æµè§ˆå™¨è°ƒè¯•æŠ€å·§


### 6.1 å¼€å‘è€…å·¥å…·æŸ¥çœ‹WebSocket


**ğŸ”¸ æŸ¥çœ‹WebSocketè¿æ¥**
```
1. æŒ‰F12æ‰“å¼€å¼€å‘è€…å·¥å…·
2. ç‚¹å‡»"Network"æ ‡ç­¾é¡µ
3. åˆ·æ–°é¡µé¢å»ºç«‹è¿æ¥
4. åœ¨å·¦ä¾§æ‰¾åˆ°"WS"ï¼ˆWebSocketï¼‰ç±»å‹çš„è¯·æ±‚
5. ç‚¹å‡»æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯
```

**ğŸ”¸ å®æ—¶æŸ¥çœ‹æ¶ˆæ¯æ”¶å‘**
```
åœ¨WebSocketè¯·æ±‚è¯¦æƒ…é¡µé¢ï¼š
- "Headers"ï¼šæŸ¥çœ‹è¿æ¥ä¿¡æ¯
- "Messages"ï¼šå®æ—¶æŸ¥çœ‹å‘é€å’Œæ¥æ”¶çš„æ¶ˆæ¯
- ç»¿è‰²ç®­å¤´ â†‘ï¼šå‘é€çš„æ¶ˆæ¯
- çº¢è‰²ç®­å¤´ â†“ï¼šæ¥æ”¶çš„æ¶ˆæ¯
```

### 6.2 å¸¸ç”¨è°ƒè¯•ä»£ç 


```javascript
// ğŸ”¸ æ·»åŠ è¯¦ç»†æ—¥å¿—
socket.onopen = function() {
    console.log('âœ… WebSocketè¿æ¥å·²å»ºç«‹');
    console.log('è¿æ¥åœ°å€ï¼š', socket.url);
    console.log('è¿æ¥çŠ¶æ€ï¼š', socket.readyState);
};

socket.onmessage = function(event) {
    console.log('ğŸ“¥ æ”¶åˆ°æ¶ˆæ¯ï¼š', event.data);
    console.log('æ¶ˆæ¯æ—¶é—´ï¼š', new Date().toLocaleTimeString());
};

socket.onclose = function() {
    console.log('âŒ WebSocketè¿æ¥å·²å…³é—­');
};

// ğŸ”¸ æ¶ˆæ¯å‘é€æ—¥å¿—
function sendMessage(message) {
    console.log('ğŸ“¤ å‘é€æ¶ˆæ¯ï¼š', message);
    socket.send(JSON.stringify(message));
}
```

### 6.3 å¸¸è§é—®é¢˜æ’æŸ¥


**ğŸ”¸ è¿æ¥å¤±è´¥æ’æŸ¥**
```javascript
socket.onerror = function(error) {
    console.error('è¿æ¥é”™è¯¯ï¼š', error);
    console.log('æ£€æŸ¥é¡¹ç›®ï¼š');
    console.log('1. æœåŠ¡å™¨æ˜¯å¦å¯åŠ¨ï¼Ÿ');
    console.log('2. ç«¯å£å·æ˜¯å¦æ­£ç¡®ï¼Ÿ');
    console.log('3. åœ°å€æ‹¼å†™æ˜¯å¦æ­£ç¡®ï¼Ÿ');
};
```

**ğŸ”¸ æ¶ˆæ¯æ ¼å¼æ£€æŸ¥**
```javascript
socket.onmessage = function(event) {
    console.log('åŸå§‹æ¶ˆæ¯ï¼š', event.data);
    
    try {
        const parsed = JSON.parse(event.data);
        console.log('è§£ææˆåŠŸï¼š', parsed);
    } catch (e) {
        console.error('JSONè§£æå¤±è´¥ï¼š', e.message);
        console.log('å¯èƒ½æ˜¯æ™®é€šæ–‡æœ¬æ¶ˆæ¯');
    }
};
```

---

## 7. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 7.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ åŒå‘é€šä¿¡ï¼šå‰ç«¯å’Œåç«¯éƒ½å¯ä»¥ä¸»åŠ¨å‘é€æ¶ˆæ¯ï¼Œå®ç°å®æ—¶äº¤äº’
ğŸ”¸ è¿æ¥åœ°å€ï¼šws://æœåŠ¡å™¨:ç«¯å£/è·¯å¾„çš„æ ¼å¼ï¼Œæ³¨æ„wså’Œwssçš„åŒºåˆ«
ğŸ”¸ æ¶ˆæ¯æ ¼å¼ï¼šç»Ÿä¸€ä½¿ç”¨JSONæ ¼å¼ï¼ŒåŒ…å«typeã€contentç­‰å­—æ®µ
ğŸ”¸ å‘é€æ¥æ”¶ï¼šsocket.send()å‘é€ï¼Œonmessageæ¥æ”¶
ğŸ”¸ çŠ¶æ€ç®¡ç†ï¼šonopenè¿æ¥æˆåŠŸï¼Œonerrorè¿æ¥å¤±è´¥ï¼Œoncloseè¿æ¥å…³é—­
```

### 7.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ åŒå‘é€šä¿¡çš„æœ¬è´¨**
```
ä¼ ç»Ÿæ–¹å¼ï¼šæµè§ˆå™¨é—®ä¸€å¥ï¼ŒæœåŠ¡å™¨ç­”ä¸€å¥
WebSocketï¼šå°±åƒæ­£å¸¸å¯¹è¯ï¼ŒåŒæ–¹éƒ½èƒ½ä¸»åŠ¨è¯´è¯
åº”ç”¨ä»·å€¼ï¼šå®ç°çœŸæ­£çš„å®æ—¶äº¤äº’ä½“éªŒ
```

**ğŸ”¹ JSONæ ¼å¼çš„é‡è¦æ€§**
```
ä¸ºä»€ä¹ˆç”¨JSONï¼šå°±åƒé‚®ä»¶éœ€è¦æ ‡é¢˜ã€æ­£æ–‡ã€å‘ä»¶äººä¸€æ ·
æ¶ˆæ¯ä¹Ÿéœ€è¦ç»“æ„åŒ–ä¿¡æ¯
å¥½å¤„ï¼šæ˜“äºè§£æï¼Œæ‰©å±•æ€§å¼ºï¼Œå‰åç«¯é€šç”¨
```

**ğŸ”¹ å®Œæ•´é€šä¿¡æµç¨‹**
```
å»ºç«‹è¿æ¥ â†’ åŒæ–¹å‘é€æ¶ˆæ¯ â†’ æ¥æ”¶å¤„ç†æ¶ˆæ¯ â†’ ç»§ç»­é€šä¿¡
æ¯ä¸ªç¯èŠ‚éƒ½æœ‰å¯¹åº”çš„äº‹ä»¶å¤„ç†å‡½æ•°
```

### 7.3 å®é™…åº”ç”¨ä»·å€¼


- **å³æ—¶é€šè®¯**ï¼šQQã€å¾®ä¿¡ç­‰èŠå¤©åº”ç”¨çš„æŠ€æœ¯åŸºç¡€
- **å®æ—¶æ›´æ–°**ï¼šè‚¡ç¥¨ä»·æ ¼ã€æ–°é—»æ¨é€ç­‰æ•°æ®å®æ—¶å±•ç¤º
- **ååŒå·¥ä½œ**ï¼šå¤šäººåŒæ—¶ç¼–è¾‘æ–‡æ¡£ã€åœ¨çº¿ä¼šè®®ç­‰
- **æ¸¸æˆå¼€å‘**ï¼šå¤šäººåœ¨çº¿æ¸¸æˆçš„å®æ—¶åŒæ­¥
- **ç³»ç»Ÿç›‘æ§**ï¼šæœåŠ¡å™¨çŠ¶æ€ã€æ—¥å¿—ä¿¡æ¯çš„å®æ—¶ç›‘æ§

### 7.4 å­¦ä¹ æ£€æŸ¥æ¸…å•


- [ ] **ç†è§£æ¦‚å¿µ**ï¼šèƒ½è¯´å‡ºåŒå‘é€šä¿¡å’Œä¼ ç»ŸHTTPçš„åŒºåˆ«
- [ ] **å»ºç«‹è¿æ¥**ï¼šèƒ½å†™å‡ºWebSocketè¿æ¥ä»£ç 
- [ ] **å‘é€æ¶ˆæ¯**ï¼šèƒ½å‘é€æ–‡æœ¬å’ŒJSONæ ¼å¼æ¶ˆæ¯
- [ ] **æ¥æ”¶å¤„ç†**ï¼šèƒ½æ¥æ”¶å¹¶è§£æä¸åŒç±»å‹çš„æ¶ˆæ¯
- [ ] **è°ƒè¯•æŠ€å·§**ï¼šä¼šä½¿ç”¨æµè§ˆå™¨å·¥å…·æŸ¥çœ‹WebSocketé€šä¿¡
- [ ] **å®æˆ˜åº”ç”¨**ï¼šèƒ½å®ç°ç®€å•çš„èŠå¤©åŠŸèƒ½

**ğŸ§  è®°å¿†è¦ç‚¹**ï¼š
- WebSocket = åŒå‘ç”µè¯ï¼ŒHTTP = å•å‘å¹¿æ’­
- JSONæ ¼å¼ = ç»“æ„åŒ–çš„æ¶ˆæ¯ä¿¡å°
- å‰ç«¯è¿æ¥ï¼ŒåŒæ–¹å‘æ¶ˆæ¯ï¼Œå®æ—¶èƒ½çœ‹åˆ°
- æµè§ˆå™¨F12æŸ¥çœ‹ï¼Œè°ƒè¯•æ¶ˆæ¯å¾ˆæ–¹ä¾¿