---
title: 1ã€åˆ†åº“åˆ†è¡¨æ¶æ„é€‰å‹å¯¹æ¯”
---
## ğŸ“š ç›®å½•

1. [åˆ†å¸ƒå¼æ•°æ®åº“åŸºç¡€æ¦‚å¿µ](#1-åˆ†å¸ƒå¼æ•°æ®åº“åŸºç¡€æ¦‚å¿µ)
2. [åˆ†åº“åˆ†è¡¨æ ¸å¿ƒæ¶æ„æ¨¡å¼](#2-åˆ†åº“åˆ†è¡¨æ ¸å¿ƒæ¶æ„æ¨¡å¼)
3. [å‚ç›´æ‹†åˆ†ä¸æ°´å¹³æ‹†åˆ†ç­–ç•¥](#3-å‚ç›´æ‹†åˆ†ä¸æ°´å¹³æ‹†åˆ†ç­–ç•¥)
4. [æ¶æ„é€‰å‹å¯¹æ¯”åˆ†æ](#4-æ¶æ„é€‰å‹å¯¹æ¯”åˆ†æ)
5. [ä¼ä¸šçº§å®æ–½å†³ç­–æ¡†æ¶](#5-ä¼ä¸šçº§å®æ–½å†³ç­–æ¡†æ¶)
6. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#6-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ’¾ åˆ†å¸ƒå¼æ•°æ®åº“åŸºç¡€æ¦‚å¿µ


### 1.1 ä»€ä¹ˆæ˜¯åˆ†å¸ƒå¼æ•°æ®åº“


**ğŸ”¸ æ ¸å¿ƒå®šä¹‰**
åˆ†å¸ƒå¼æ•°æ®åº“ç®€å•æ¥è¯´ï¼Œå°±æ˜¯æŠŠåŸæœ¬å­˜åœ¨ä¸€å°æœºå™¨ä¸Šçš„æ•°æ®åº“ï¼Œæ‹†åˆ†åˆ°å¤šå°æœºå™¨ä¸Šå»å­˜å‚¨å’Œç®¡ç†ã€‚æƒ³è±¡ä¸€ä¸‹ï¼ŒåŸæ¥ä½ å®¶é‡Œçš„æ‰€æœ‰ä¸œè¥¿éƒ½æ”¾åœ¨ä¸€ä¸ªæˆ¿é—´é‡Œï¼Œç°åœ¨è¦æ¬åˆ°å¤šä¸ªæˆ¿é—´ï¼Œæ¯ä¸ªæˆ¿é—´è´Ÿè´£å­˜å‚¨ä¸åŒç±»å‹çš„ç‰©å“ï¼Œè¿™æ ·å°±ä¸ä¼šå› ä¸ºä¸œè¥¿å¤ªå¤šè€Œæ‹¥æŒ¤ã€‚

```
ä¼ ç»Ÿå•æœºæ•°æ®åº“ vs åˆ†å¸ƒå¼æ•°æ®åº“ï¼š

å•æœºæ•°æ®åº“ï¼ˆä¸€ä¸ªæˆ¿é—´å­˜æ‰€æœ‰ä¸œè¥¿ï¼‰ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          MySQLæœåŠ¡å™¨            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ç”¨æˆ·è¡¨â”‚è®¢å•è¡¨â”‚å•†å“è¡¨â”‚...  â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”˜      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

åˆ†å¸ƒå¼æ•°æ®åº“ï¼ˆå¤šä¸ªæˆ¿é—´åˆ†ç±»å­˜å‚¨ï¼‰ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   æœåŠ¡å™¨A    â”‚  â”‚   æœåŠ¡å™¨B    â”‚  â”‚   æœåŠ¡å™¨C    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”    â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”    â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ç”¨æˆ·è¡¨â”‚    â”‚  â”‚  â”‚è®¢å•è¡¨â”‚    â”‚  â”‚  â”‚å•†å“è¡¨â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”˜    â”‚  â”‚  â””â”€â”€â”€â”€â”€â”˜    â”‚  â”‚  â””â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

> **ğŸ’¡ é€šä¿—ç†è§£**ï¼šå°±åƒå¤§å‹è¶…å¸‚ä¸ä¼šæŠŠæ‰€æœ‰å•†å“éƒ½å †åœ¨ä¸€ä¸ªè´§æ¶ä¸Šï¼Œè€Œæ˜¯åˆ†ç±»æ”¾åœ¨ä¸åŒåŒºåŸŸï¼Œè¿™æ ·é¡¾å®¢æ‰¾ä¸œè¥¿æ›´å¿«ï¼Œç®¡ç†ä¹Ÿæ›´æ–¹ä¾¿ã€‚

### 1.2 ä¸ºä»€ä¹ˆéœ€è¦åˆ†å¸ƒå¼æ•°æ®åº“


**ğŸš¨ å•æœºæ•°æ®åº“é¢ä¸´çš„é—®é¢˜**

å½“ä½ çš„ç½‘ç«™ç”¨æˆ·è¶Šæ¥è¶Šå¤šï¼Œæ•°æ®è¶Šæ¥è¶Šå¤§æ—¶ï¼Œå•å°æ•°æ®åº“æœåŠ¡å™¨å°±åƒä¸€ä¸ªäººè¦å¤„ç†æ‰€æœ‰å·¥ä½œï¼Œä¼šé‡åˆ°è¿™äº›é—®é¢˜ï¼š

| **é—®é¢˜ç±»å‹** | **å…·ä½“è¡¨ç°** | **çœŸå®åœºæ™¯ä¸¾ä¾‹** |
|-------------|-------------|-----------------|
| **æ€§èƒ½ç“¶é¢ˆ** | `æŸ¥è¯¢è¶Šæ¥è¶Šæ…¢` | `ç”¨æˆ·ç™»å½•éœ€è¦ç­‰å¾…10ç§’` |
| **å­˜å‚¨é™åˆ¶** | `ç¡¬ç›˜ç©ºé—´ä¸å¤Ÿ` | `1000ä¸‡ç”¨æˆ·æ•°æ®å­˜ä¸ä¸‹` |
| **å¹¶å‘é™åˆ¶** | `åŒæ—¶è®¿é—®äººæ•°æœ‰é™` | `åŒ11æ´»åŠ¨æ—¶ç½‘ç«™å´©æºƒ` |
| **å¯ç”¨æ€§é£é™©** | `æœåŠ¡å™¨åäº†å°±å…¨éƒ¨åœæœº` | `ç¡¬ç›˜æŸåï¼Œæ•´ä¸ªç½‘ç«™æ— æ³•è®¿é—®` |

**âœ… åˆ†å¸ƒå¼æ•°æ®åº“çš„ä¼˜åŠ¿**

```
è§£å†³æ–¹æ¡ˆå¯¹æ¯”ï¼š

é—®é¢˜ï¼šæ•°æ®é‡å¤ªå¤§ï¼ŒæŸ¥è¯¢æ…¢
å•æœºè§£å†³ï¼šå‡çº§ç¡¬ä»¶ï¼ˆæ²»æ ‡ä¸æ²»æœ¬ï¼Œæˆæœ¬é«˜ï¼‰
åˆ†å¸ƒå¼è§£å†³ï¼šæ•°æ®åˆ†æ•£å­˜å‚¨ï¼Œå¹¶è¡ŒæŸ¥è¯¢ï¼ˆæ ¹æœ¬è§£å†³ï¼‰

é—®é¢˜ï¼šå¹¶å‘è®¿é—®é‡å¤§
å•æœºè§£å†³ï¼šå¢åŠ å†…å­˜å’ŒCPUï¼ˆæœ‰ä¸Šé™ï¼‰
åˆ†å¸ƒå¼è§£å†³ï¼šå¤šå°æœåŠ¡å™¨åŒæ—¶å¤„ç†ï¼ˆç†è®ºæ— ä¸Šé™ï¼‰

é—®é¢˜ï¼šå•ç‚¹æ•…éšœé£é™©
å•æœºè§£å†³ï¼šåšå¤‡ä»½ï¼ˆåˆ‡æ¢æ—¶é—´é•¿ï¼‰
åˆ†å¸ƒå¼è§£å†³ï¼šå¤šå°æœåŠ¡å™¨å¤‡ä»½ï¼ˆè‡ªåŠ¨åˆ‡æ¢ï¼‰
```

### 1.3 åˆ†å¸ƒå¼ç³»ç»Ÿçš„åŸºæœ¬ç‰¹å¾


**ğŸ”— CAPç†è®ºåœ¨åˆ†åº“åˆ†è¡¨ä¸­çš„åº”ç”¨**

CAPç†è®ºæ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿçš„åŸºæœ¬ç†è®ºï¼Œå°±åƒåšèœæ—¶"å¥½åƒã€ä¾¿å®œã€å¿«é€Ÿ"ä¸‰è€…å¾ˆéš¾åŒæ—¶æ»¡è¶³ä¸€æ ·ï¼Œåˆ†å¸ƒå¼ç³»ç»Ÿä¸­çš„ä¸€è‡´æ€§(C)ã€å¯ç”¨æ€§(A)ã€åˆ†åŒºå®¹é”™æ€§(P)ä¹Ÿå¾ˆéš¾åŒæ—¶å®Œç¾å®ç°ã€‚

```
CAPç†è®ºç®€å•ç†è§£ï¼š

ä¸€è‡´æ€§(Consistency)ï¼š
æ‰€æœ‰æœåŠ¡å™¨ä¸Šçš„æ•°æ®éƒ½æ˜¯ä¸€æ ·çš„
ä¸¾ä¾‹ï¼šä½ åœ¨åŒ—äº¬æŸ¥åˆ°ä½™é¢100å…ƒï¼Œåœ¨ä¸Šæµ·ä¹Ÿåº”è¯¥çœ‹åˆ°100å…ƒ

å¯ç”¨æ€§(Availability)ï¼š
ç³»ç»Ÿä¸€ç›´èƒ½æ­£å¸¸æä¾›æœåŠ¡
ä¸¾ä¾‹ï¼šå³ä½¿æŸå°æœåŠ¡å™¨åäº†ï¼Œç”¨æˆ·è¿˜èƒ½æ­£å¸¸ä½¿ç”¨ç½‘ç«™

åˆ†åŒºå®¹é”™æ€§(Partition tolerance)ï¼š
ç½‘ç»œå‡ºé—®é¢˜æ—¶ç³»ç»Ÿè¿˜èƒ½å·¥ä½œ
ä¸¾ä¾‹ï¼šæœºæˆ¿ä¹‹é—´ç½‘ç»œæ–­äº†ï¼Œå„è‡ªè¿˜èƒ½ç»§ç»­å·¥ä½œ
```

åœ¨åˆ†åº“åˆ†è¡¨å®è·µä¸­ï¼Œæˆ‘ä»¬é€šå¸¸é€‰æ‹©ï¼š
- **CPæ¨¡å¼**ï¼šä¿è¯ä¸€è‡´æ€§å’Œåˆ†åŒºå®¹é”™ï¼Œå¯èƒ½ç‰ºç‰²éƒ¨åˆ†å¯ç”¨æ€§ï¼ˆå¦‚é“¶è¡Œç³»ç»Ÿï¼‰
- **APæ¨¡å¼**ï¼šä¿è¯å¯ç”¨æ€§å’Œåˆ†åŒºå®¹é”™ï¼Œå…è®¸æ•°æ®æš‚æ—¶ä¸ä¸€è‡´ï¼ˆå¦‚ç¤¾äº¤åª’ä½“ï¼‰

---

## 2. ğŸ—ï¸ åˆ†åº“åˆ†è¡¨æ ¸å¿ƒæ¶æ„æ¨¡å¼


### 2.1 åˆ†åº“åˆ†è¡¨çš„åŸºæœ¬åˆ†ç±»


åˆ†åº“åˆ†è¡¨å°±åƒæ•´ç†æˆ¿é—´ï¼Œæœ‰ä¸¤ç§åŸºæœ¬æ–¹æ³•ï¼š**æŒ‰åŠŸèƒ½åˆ†ç±»**å’Œ**æŒ‰æ•°é‡åˆ†æ‰¹**ã€‚

**ğŸ“Š å››ç§åŸºæœ¬æ¨¡å¼å¯¹æ¯”**

```
åˆ†åº“åˆ†è¡¨å››ç§æ¨¡å¼ï¼š

â‘  å•åº“åˆ†è¡¨ï¼ˆä¸€ä¸ªæ•°æ®åº“ï¼Œå¤šå¼ è¡¨ï¼‰
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        Database_1           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚user_1â”‚user_2â”‚user_3â”‚user_4â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â‘¡ åˆ†åº“ä¸åˆ†è¡¨ï¼ˆå¤šä¸ªæ•°æ®åº“ï¼Œæ¯ä¸ªä¸€å¼ è¡¨ï¼‰
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Database_1  â”‚ â”‚ Database_2  â”‚ â”‚ Database_3  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”   â”‚ â”‚  â”Œâ”€â”€â”€â”€â”€â”   â”‚ â”‚  â”Œâ”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚user â”‚   â”‚ â”‚  â”‚orderâ”‚   â”‚ â”‚  â”‚goodsâ”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”˜   â”‚ â”‚  â””â”€â”€â”€â”€â”€â”˜   â”‚ â”‚  â””â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â‘¢ åˆ†åº“åˆ†è¡¨ï¼ˆå¤šä¸ªæ•°æ®åº“ï¼Œæ¯ä¸ªå¤šå¼ è¡¨ï¼‰
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Database_1  â”‚ â”‚ Database_2  â”‚
â”‚ â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â” â”‚ â”‚ â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â” â”‚
â”‚ â”‚user_1â”‚user_2â”‚ â”‚ â”‚user_3â”‚user_4â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”˜ â”‚ â”‚ â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

| **æ¨¡å¼** | **é€‚ç”¨åœºæ™¯** | **ä¼˜ç‚¹** | **ç¼ºç‚¹** |
|---------|-------------|---------|---------|
| **å•åº“åˆ†è¡¨** | `æ•°æ®é‡å¤§ä½†å¹¶å‘ä¸é«˜` | `å®ç°ç®€å•ï¼Œäº‹åŠ¡æ”¯æŒå¥½` | `å•æœºæ€§èƒ½ä»æœ‰ç“¶é¢ˆ` |
| **åˆ†åº“ä¸åˆ†è¡¨** | `ä¸šåŠ¡æ¨¡å—ç‹¬ç«‹` | `ä¸šåŠ¡éš”ç¦»æ¸…æ™°` | `å•è¡¨æ•°æ®é‡ä»å¯èƒ½è¿‡å¤§` |
| **åˆ†åº“åˆ†è¡¨** | `æ•°æ®é‡å¤§ä¸”å¹¶å‘é«˜` | `æ€§èƒ½å’Œæ‰©å±•æ€§æœ€å¥½` | `å¤æ‚åº¦æœ€é«˜` |

### 2.2 å‚ç›´æ‹†åˆ†è¯¦è§£


**ğŸ” ä»€ä¹ˆæ˜¯å‚ç›´æ‹†åˆ†**

å‚ç›´æ‹†åˆ†å°±åƒæŠŠä¸åŒç±»å‹çš„ä¸œè¥¿æ”¾åˆ°ä¸åŒçš„æŸœå­é‡Œã€‚æ¯”å¦‚æŠŠè¡£æœæ”¾è¡£æŸœï¼ŒæŠŠä¹¦æ”¾ä¹¦æŸœï¼ŒæŠŠé¤å…·æ”¾æ©±æŸœã€‚

```java
// å‚ç›´æ‹†åˆ†å‰ï¼šæ‰€æœ‰ä¸šåŠ¡æ•°æ®åœ¨ä¸€ä¸ªæ•°æ®åº“
// åŸå§‹çš„å•ä½“æ•°æ®åº“
Database: ecommerce_db
â”œâ”€â”€ users (ç”¨æˆ·è¡¨)
â”œâ”€â”€ orders (è®¢å•è¡¨) 
â”œâ”€â”€ products (å•†å“è¡¨)
â”œâ”€â”€ payments (æ”¯ä»˜è¡¨)
â”œâ”€â”€ logistics (ç‰©æµè¡¨)
â””â”€â”€ reviews (è¯„è®ºè¡¨)

// å‚ç›´æ‹†åˆ†åï¼šæŒ‰ä¸šåŠ¡æ¨¡å—åˆ†åº“
ç”¨æˆ·ä¸­å¿ƒæ•°æ®åº“ï¼šuser_db
â”œâ”€â”€ users
â”œâ”€â”€ user_profiles  
â””â”€â”€ user_settings

è®¢å•ä¸­å¿ƒæ•°æ®åº“ï¼šorder_db
â”œâ”€â”€ orders
â”œâ”€â”€ order_items
â””â”€â”€ order_status

å•†å“ä¸­å¿ƒæ•°æ®åº“ï¼šproduct_db  
â”œâ”€â”€ products
â”œâ”€â”€ categories
â””â”€â”€ inventory
```

**ğŸ¯ å‚ç›´æ‹†åˆ†çš„å®æ–½åŸåˆ™**

```
ä¸šåŠ¡è¾¹ç•Œè¯†åˆ«æ–¹æ³•ï¼š

1. æŒ‰ä¸šåŠ¡åŠŸèƒ½åˆ’åˆ†ï¼š
   ç”¨æˆ·ç®¡ç† â†’ user_db
   è®¢å•å¤„ç† â†’ order_db  
   å•†å“ç®¡ç† â†’ product_db
   æ”¯ä»˜å¤„ç† â†’ payment_db

2. æŒ‰è®¿é—®é¢‘ç‡åˆ’åˆ†ï¼š
   çƒ­ç‚¹æ•°æ® â†’ é«˜æ€§èƒ½æ•°æ®åº“
   å†·é—¨æ•°æ® â†’ æ™®é€šæ•°æ®åº“
   
3. æŒ‰å®‰å…¨çº§åˆ«åˆ’åˆ†ï¼š
   æ•æ„Ÿæ•°æ® â†’ å®‰å…¨æ•°æ®åº“ï¼ˆå¦‚æ”¯ä»˜ä¿¡æ¯ï¼‰
   æ™®é€šæ•°æ® â†’ å¸¸è§„æ•°æ®åº“ï¼ˆå¦‚å•†å“ä¿¡æ¯ï¼‰
```

**ğŸ’¡ å‚ç›´æ‹†åˆ†ç¤ºä¾‹ä»£ç **

```java
// å‚ç›´æ‹†åˆ†åçš„æ•°æ®è®¿é—®å±‚è®¾è®¡

// ç”¨æˆ·æœåŠ¡ - åªè®¿é—®ç”¨æˆ·æ•°æ®åº“
@Service
public class UserService {
    @Autowired
    private UserMapper userMapper; // è¿æ¥åˆ° user_db
    
    public User getUserById(Long userId) {
        return userMapper.selectById(userId);
    }
}

// è®¢å•æœåŠ¡ - åªè®¿é—®è®¢å•æ•°æ®åº“  
@Service
public class OrderService {
    @Autowired
    private OrderMapper orderMapper; // è¿æ¥åˆ° order_db
    
    public Order getOrderById(Long orderId) {
        return orderMapper.selectById(orderId);
    }
}

// ä¸šåŠ¡ç¼–æ’å±‚ - åè°ƒå¤šä¸ªæœåŠ¡
@Service  
public class BusinessService {
    @Autowired
    private UserService userService;
    @Autowired
    private OrderService orderService;
    
    // éœ€è¦è·¨åº“æŸ¥è¯¢æ—¶ï¼Œåœ¨åº”ç”¨å±‚ç»„è£…æ•°æ®
    public OrderDetailVO getOrderDetail(Long orderId) {
        Order order = orderService.getOrderById(orderId);
        User user = userService.getUserById(order.getUserId());
        
        OrderDetailVO vo = new OrderDetailVO();
        vo.setOrder(order);
        vo.setUser(user);
        return vo;
    }
}
```

### 2.3 æ°´å¹³æ‹†åˆ†è¯¦è§£


**ğŸ” ä»€ä¹ˆæ˜¯æ°´å¹³æ‹†åˆ†**

æ°´å¹³æ‹†åˆ†å°±åƒæŠŠåŒä¸€ç±»ä¸œè¥¿åˆ†æˆå‡ å †ã€‚æ¯”å¦‚æœ‰1000æœ¬ä¹¦ï¼Œä½ å¯ä»¥æŠŠå‰500æœ¬æ”¾åœ¨ä¹¦æ¶Aï¼Œå500æœ¬æ”¾åœ¨ä¹¦æ¶Bã€‚

```
æ°´å¹³æ‹†åˆ†ç­–ç•¥å›¾è§£ï¼š

ç”¨æˆ·è¡¨æŒ‰IDèŒƒå›´æ‹†åˆ†ï¼š
user_1: id 1-100ä¸‡    â†’ å­˜å‚¨åœ¨ db_1
user_2: id 101-200ä¸‡  â†’ å­˜å‚¨åœ¨ db_2  
user_3: id 201-300ä¸‡  â†’ å­˜å‚¨åœ¨ db_3

ç”¨æˆ·è¡¨æŒ‰åœ°åŒºæ‹†åˆ†ï¼š
user_north: åŒ—æ–¹ç”¨æˆ·  â†’ å­˜å‚¨åœ¨ db_north
user_south: å—æ–¹ç”¨æˆ·  â†’ å­˜å‚¨åœ¨ db_south

ç”¨æˆ·è¡¨æŒ‰æ—¶é—´æ‹†åˆ†ï¼š
user_2023: 2023å¹´æ³¨å†Œ â†’ å­˜å‚¨åœ¨ db_2023
user_2024: 2024å¹´æ³¨å†Œ â†’ å­˜å‚¨åœ¨ db_2024
```

**ğŸ”§ å¸¸ç”¨çš„æ°´å¹³æ‹†åˆ†ç®—æ³•**

```java
// 1. èŒƒå›´åˆ†ç‰‡ - é€‚åˆæœ‰æ˜æ˜¾èŒƒå›´çš„æ•°æ®
public class RangeShardingStrategy {
    public String getDataSource(Long userId) {
        if (userId <= 1000000) {
            return "db_1";
        } else if (userId <= 2000000) {
            return "db_2"; 
        } else {
            return "db_3";
        }
    }
}

// 2. å“ˆå¸Œåˆ†ç‰‡ - æ•°æ®åˆ†å¸ƒæœ€å‡åŒ€
public class HashShardingStrategy {
    public String getDataSource(Long userId) {
        int dbIndex = (int)(userId % 4); // 4ä¸ªæ•°æ®åº“
        return "db_" + dbIndex;
    }
    
    public String getTableName(Long userId) {
        int tableIndex = (int)(userId % 8); // 8å¼ è¡¨
        return "user_" + tableIndex;
    }
}

// 3. ä¸€è‡´æ€§å“ˆå¸Œ - æ‰©å®¹æ—¶æ•°æ®è¿ç§»æœ€å°‘
public class ConsistentHashShardingStrategy {
    private final TreeMap<Long, String> ring = new TreeMap<>();
    
    public void addNode(String nodeName) {
        for (int i = 0; i < 100; i++) { // æ¯ä¸ªèŠ‚ç‚¹100ä¸ªè™šæ‹ŸèŠ‚ç‚¹
            long hash = hash(nodeName + ":" + i);
            ring.put(hash, nodeName);
        }
    }
    
    public String getDataSource(Long userId) {
        long hash = hash(userId.toString());
        Long key = ring.ceilingKey(hash);
        if (key == null) {
            key = ring.firstKey(); // ç¯å½¢ç»“æ„
        }
        return ring.get(key);
    }
}
```

---

## 3. âš–ï¸ å‚ç›´æ‹†åˆ†ä¸æ°´å¹³æ‹†åˆ†ç­–ç•¥


### 3.1 å‚ç›´æ‹†åˆ†æ·±å…¥åˆ†æ


**ğŸ¯ å‚ç›´æ‹†åˆ†çš„é€‚ç”¨åœºæ™¯**

å‚ç›´æ‹†åˆ†å°±åƒæŠŠä¸€ä¸ªå¤§å…¬å¸æŒ‰éƒ¨é—¨åˆ†æˆå¤šä¸ªå°å…¬å¸ï¼Œæ¯ä¸ªå…¬å¸ä¸“é—¨è´Ÿè´£è‡ªå·±çš„ä¸šåŠ¡ã€‚

```
å‚ç›´æ‹†åˆ†å†³ç­–æ ‘ï¼š

æ˜¯å¦æœ‰æ˜ç¡®çš„ä¸šåŠ¡è¾¹ç•Œï¼Ÿ
â”œâ”€â”€ æ˜¯ â†’ æŒ‰ä¸šåŠ¡æ¨¡å—æ‹†åˆ†
â”‚   â”œâ”€â”€ ç”¨æˆ·ç›¸å…³ â†’ user_db  
â”‚   â”œâ”€â”€ è®¢å•ç›¸å…³ â†’ order_db
â”‚   â””â”€â”€ å•†å“ç›¸å…³ â†’ product_db
â”‚
â””â”€â”€ å¦ â†’ æŒ‰å…¶ä»–ç»´åº¦æ‹†åˆ†
    â”œâ”€â”€ æŒ‰è®¿é—®é¢‘ç‡ â†’ çƒ­/å†·æ•°æ®åˆ†ç¦»
    â”œâ”€â”€ æŒ‰å®‰å…¨çº§åˆ« â†’ æ•æ„Ÿ/æ™®é€šæ•°æ®åˆ†ç¦»  
    â””â”€â”€ æŒ‰æ•°æ®å¤§å° â†’ å¤§è¡¨/å°è¡¨åˆ†ç¦»
```

**ğŸ“‹ å‚ç›´æ‹†åˆ†å®æ–½æ­¥éª¤**

| **æ­¥éª¤** | **å…·ä½“æ“ä½œ** | **æ³¨æ„äº‹é¡¹** |
|---------|-------------|-------------|
| **1. ä¸šåŠ¡åˆ†æ** | `æ¢³ç†ä¸šåŠ¡æ¨¡å—å’Œæ•°æ®å…³ç³»` | `é¿å…å¾ªç¯ä¾èµ–` |
| **2. ä¾èµ–æ¢³ç†** | `æ‰¾å‡ºè¡¨ä¹‹é—´çš„å…³è”å…³ç³»` | `å‡å°‘è·¨åº“å…³è”` |
| **3. æ‹†åˆ†è®¾è®¡** | `è®¾è®¡æ‹†åˆ†åçš„æ•°æ®åº“ç»“æ„` | `ä¿è¯æ•°æ®å®Œæ•´æ€§` |
| **4. åº”ç”¨æ”¹é€ ** | `ä¿®æ”¹åº”ç”¨ä»£ç é€‚é…å¤šæ•°æ®æº` | `äº‹åŠ¡å¤„ç†è¦ç‰¹åˆ«æ³¨æ„` |
| **5. æ•°æ®è¿ç§»** | `å°†æ•°æ®è¿ç§»åˆ°æ–°çš„æ•°æ®åº“` | `ç¡®ä¿æ•°æ®ä¸€è‡´æ€§` |

**âš ï¸ å‚ç›´æ‹†åˆ†çš„æŒ‘æˆ˜**

```java
// å‚ç›´æ‹†åˆ†åé¢ä¸´çš„ä¸»è¦é—®é¢˜

// 1. è·¨åº“è”æŸ¥é—®é¢˜
// åŸæ¥çš„SQLï¼ˆå•åº“æ—¶ä»£ï¼‰ï¼š
SELECT u.name, o.amount 
FROM users u 
JOIN orders o ON u.id = o.user_id;

// æ‹†åˆ†åéœ€è¦æ”¹é€ ä¸ºï¼š
// æ­¥éª¤1ï¼šæŸ¥è¯¢è®¢å•
List<Order> orders = orderService.getOrdersByUserId(userId);
// æ­¥éª¤2ï¼šæŸ¥è¯¢ç”¨æˆ·  
User user = userService.getUserById(userId);
// æ­¥éª¤3ï¼šåœ¨åº”ç”¨å±‚ç»„è£…æ•°æ®
OrderWithUserVO result = assembleData(orders, user);

// 2. åˆ†å¸ƒå¼äº‹åŠ¡é—®é¢˜
@Transactional // è¿™ä¸ªæ³¨è§£åœ¨è·¨åº“æ—¶ä¸èµ·ä½œç”¨
public void createOrderWithUser() {
    userService.updateUser(user);     // user_db 
    orderService.createOrder(order);  // order_db
    // å¦‚æœorderåˆ›å»ºå¤±è´¥ï¼Œuserçš„æ›´æ–°æ— æ³•è‡ªåŠ¨å›æ»š
}

// éœ€è¦ä½¿ç”¨åˆ†å¸ƒå¼äº‹åŠ¡è§£å†³æ–¹æ¡ˆ
@GlobalTransactional // Seataç­‰åˆ†å¸ƒå¼äº‹åŠ¡æ¡†æ¶
public void createOrderWithUser() {
    userService.updateUser(user);    
    orderService.createOrder(order); 
}
```

### 3.2 æ°´å¹³æ‹†åˆ†æ·±å…¥åˆ†æ


**ğŸ” æ°´å¹³æ‹†åˆ†çš„æ ¸å¿ƒæ€æƒ³**

æ°´å¹³æ‹†åˆ†å°±åƒå›¾ä¹¦é¦†æŠŠä¹¦æŒ‰ç¼–å·åˆ†æ”¾åˆ°ä¸åŒæ¥¼å±‚ï¼Œæ¯å±‚çš„ä¹¦æ¶ç»“æ„éƒ½ä¸€æ ·ï¼Œåªæ˜¯å­˜çš„ä¹¦ä¸åŒã€‚

**ğŸ“Š åˆ†ç‰‡é”®é€‰æ‹©ç­–ç•¥**

åˆ†ç‰‡é”®å°±åƒå›¾ä¹¦é¦†çš„åˆ†ç±»æ ‡å‡†ï¼Œé€‰é”™äº†ä¼šå¯¼è‡´ä¹¦ç±åˆ†å¸ƒä¸å‡åŒ€æˆ–è€…æ‰¾ä¹¦å›°éš¾ã€‚

```
åˆ†ç‰‡é”®é€‰æ‹©åŸåˆ™ï¼š

1. æ•°æ®åˆ†å¸ƒå‡åŒ€æ€§ï¼š
   å¥½çš„åˆ†ç‰‡é”®ï¼šuser_idï¼ˆç”¨æˆ·IDï¼‰
   â”œâ”€â”€ æ¯ä¸ªç”¨æˆ·æ•°æ®é‡ç›¸è¿‘
   â””â”€â”€ ç”¨æˆ·åˆ†å¸ƒç›¸å¯¹å‡åŒ€
   
   ä¸å¥½çš„åˆ†ç‰‡é”®ï¼šcreate_timeï¼ˆåˆ›å»ºæ—¶é—´ï¼‰  
   â”œâ”€â”€ æ–°æ•°æ®éƒ½é›†ä¸­åœ¨æœ€æ–°çš„åˆ†ç‰‡
   â””â”€â”€ æ—§åˆ†ç‰‡ç©ºé—²ï¼Œæ–°åˆ†ç‰‡å‹åŠ›å¤§

2. æŸ¥è¯¢å‹å¥½æ€§ï¼š
   å¥½çš„è®¾è®¡ï¼šæ ¹æ®user_idæŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯
   â”œâ”€â”€ èƒ½å‡†ç¡®å®šä½åˆ°å…·ä½“åˆ†ç‰‡
   â””â”€â”€ åªéœ€æŸ¥è¯¢ä¸€ä¸ªæ•°æ®åº“
   
   ä¸å¥½çš„è®¾è®¡ï¼šæ ¹æ®ç”¨æˆ·åæ¨¡ç³ŠæŸ¥è¯¢
   â”œâ”€â”€ æ— æ³•ç¡®å®šåœ¨å“ªä¸ªåˆ†ç‰‡
   â””â”€â”€ éœ€è¦æŸ¥è¯¢æ‰€æœ‰åˆ†ç‰‡

3. æ‰©å±•ä¾¿åˆ©æ€§ï¼š
   å®¹æ˜“æ‰©å±•ï¼šå“ˆå¸Œåˆ†ç‰‡
   â”œâ”€â”€ å¢åŠ åˆ†ç‰‡æ—¶é‡æ–°è®¡ç®—å“ˆå¸Œ
   â””â”€â”€ æ•°æ®è¿ç§»ç›¸å¯¹ç®€å•
   
   ä¸æ˜“æ‰©å±•ï¼šèŒƒå›´åˆ†ç‰‡
   â”œâ”€â”€ éœ€è¦é‡æ–°åˆ’åˆ†èŒƒå›´
   â””â”€â”€ å¯èƒ½æ¶‰åŠå¤§é‡æ•°æ®è¿ç§»
```

**ğŸ› ï¸ æ°´å¹³æ‹†åˆ†å®ç°æ–¹æ¡ˆ**

```java
// å®Œæ•´çš„åˆ†åº“åˆ†è¡¨å®ç°ç¤ºä¾‹

// 1. åˆ†ç‰‡ç­–ç•¥æ¥å£
public interface ShardingStrategy {
    String getDataSource(Object shardingKey);
    String getTableName(Object shardingKey);
}

// 2. å…·ä½“çš„åˆ†ç‰‡ç­–ç•¥å®ç°
@Component
public class UserShardingStrategy implements ShardingStrategy {
    private static final int DB_COUNT = 4;    // 4ä¸ªæ•°æ®åº“
    private static final int TABLE_COUNT = 8; // æ¯ä¸ªåº“8å¼ è¡¨
    
    @Override
    public String getDataSource(Object shardingKey) {
        Long userId = (Long) shardingKey;
        int dbIndex = (int)(userId % DB_COUNT);
        return "ds_" + dbIndex; // ds_0, ds_1, ds_2, ds_3
    }
    
    @Override  
    public String getTableName(Object shardingKey) {
        Long userId = (Long) shardingKey;
        int tableIndex = (int)(userId % TABLE_COUNT);
        return "user_" + tableIndex; // user_0, user_1, ..., user_7
    }
}

// 3. è·¯ç”±é€‰æ‹©å™¨
@Component
public class ShardingRouter {
    @Autowired
    private UserShardingStrategy userShardingStrategy;
    
    public void selectDataSourceAndTable(Long userId) {
        String dataSource = userShardingStrategy.getDataSource(userId);
        String tableName = userShardingStrategy.getTableName(userId);
        
        // è®¾ç½®å½“å‰çº¿ç¨‹ä½¿ç”¨çš„æ•°æ®æºå’Œè¡¨å
        ShardingContext.setDataSource(dataSource);
        ShardingContext.setTableName(tableName);
    }
}

// 4. ä¸šåŠ¡å±‚ä½¿ç”¨
@Service
public class UserService {
    @Autowired
    private ShardingRouter shardingRouter;
    @Autowired  
    private UserMapper userMapper;
    
    public User getUserById(Long userId) {
        // æ ¹æ®ç”¨æˆ·IDé€‰æ‹©åˆ†ç‰‡
        shardingRouter.selectDataSourceAndTable(userId);
        
        // æ‰§è¡ŒæŸ¥è¯¢ï¼ˆæ¡†æ¶ä¼šè‡ªåŠ¨è·¯ç”±åˆ°æ­£ç¡®çš„åº“è¡¨ï¼‰
        return userMapper.selectById(userId);
    }
}
```

### 3.3 åˆ†åº“åˆ†è¡¨çš„ç»„åˆç­–ç•¥


**ğŸ”„ å‚ç›´+æ°´å¹³æ‹†åˆ†ç»„åˆ**

åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦æŠŠå‚ç›´æ‹†åˆ†å’Œæ°´å¹³æ‹†åˆ†ç»“åˆä½¿ç”¨ï¼Œå°±åƒå…ˆæŠŠå•†å“æŒ‰ç±»åˆ«åˆ†åˆ°ä¸åŒä»“åº“ï¼Œå†åœ¨æ¯ä¸ªä»“åº“å†…æŒ‰ç¼–å·åˆ†åˆ°ä¸åŒè´§æ¶ã€‚

```
ç»„åˆæ‹†åˆ†æ¶æ„å›¾ï¼š

ç¬¬ä¸€æ­¥ï¼šå‚ç›´æ‹†åˆ†ï¼ˆæŒ‰ä¸šåŠ¡ï¼‰
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ç”¨æˆ·ä¸­å¿ƒ   â”‚ â”‚   è®¢å•ä¸­å¿ƒ   â”‚ â”‚   å•†å“ä¸­å¿ƒ   â”‚
â”‚   user_db   â”‚ â”‚  order_db   â”‚ â”‚ product_db  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ç¬¬äºŒæ­¥ï¼šæ°´å¹³æ‹†åˆ†ï¼ˆæŒ‰æ•°æ®é‡ï¼‰
ç”¨æˆ·ä¸­å¿ƒï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ user_db_0â”‚ â”‚user_db_1â”‚ â”‚user_db_2â”‚ â”‚user_db_3â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

è®¢å•ä¸­å¿ƒï¼š  
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚order_db_0â”‚ â”‚order_db_1â”‚ â”‚order_db_2â”‚ â”‚order_db_3â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 4. ğŸ“Š æ¶æ„é€‰å‹å¯¹æ¯”åˆ†æ


### 4.1 æŠ€æœ¯æ ˆå…¼å®¹æ€§åˆ†æ


é€‰æ‹©åˆ†åº“åˆ†è¡¨æ–¹æ¡ˆæ—¶ï¼Œå°±åƒä¹°è½¦è¦è€ƒè™‘æ²¹è€—ã€ä¿å…»æˆæœ¬ã€é…ä»¶æ˜¯å¦å¥½ä¹°ä¸€æ ·ï¼Œæˆ‘ä»¬ä¹Ÿè¦è€ƒè™‘æŠ€æœ¯æ–¹æ¡ˆæ˜¯å¦ä¸ç°æœ‰ç³»ç»Ÿå…¼å®¹ã€‚

**ğŸ”§ ä¸»æµåˆ†åº“åˆ†è¡¨æ¡†æ¶å¯¹æ¯”**

| **æ¡†æ¶** | **å­¦ä¹ æˆæœ¬** | **åŠŸèƒ½å®Œæ•´æ€§** | **ç¤¾åŒºæ´»è·ƒåº¦** | **ä¼ä¸šåº”ç”¨** |
|---------|-------------|---------------|---------------|-------------|
| **Sharding-JDBC** | `â­â­â­` | `â­â­â­â­â­` | `â­â­â­â­â­` | `å¹¿æ³›ä½¿ç”¨` |
| **MyCat** | `â­â­â­â­` | `â­â­â­â­` | `â­â­â­` | `ä¸­ç­‰ä½¿ç”¨` |
| **TDDL** | `â­â­` | `â­â­â­â­` | `â­â­` | `é˜¿é‡Œå†…éƒ¨` |
| **è‡ªç ”æ–¹æ¡ˆ** | `â­â­â­â­â­` | `â­â­â­` | `â­` | `å®šåˆ¶åŒ–å¼º` |

```java
// Sharding-JDBCé…ç½®ç¤ºä¾‹ï¼ˆæ¨èï¼‰
@Configuration
public class ShardingConfig {
    
    // é…ç½®å¤šä¸ªæ•°æ®æº
    @Bean("ds0")
    public DataSource dataSource0() {
        return DruidDataSourceBuilder.create()
            .url("jdbc:mysql://localhost:3306/user_db_0")
            .username("root")
            .password("password")
            .build();
    }
    
    @Bean("ds1") 
    public DataSource dataSource1() {
        return DruidDataSourceBuilder.create()
            .url("jdbc:mysql://localhost:3306/user_db_1")
            .username("root")
            .password("password")
            .build();
    }
    
    // é…ç½®åˆ†ç‰‡è§„åˆ™
    @Bean
    public DataSource shardingDataSource() {
        Map<String, DataSource> dataSourceMap = new HashMap<>();
        dataSourceMap.put("ds0", dataSource0());
        dataSourceMap.put("ds1", dataSource1());
        
        // åˆ†åº“è§„åˆ™ï¼šæ ¹æ®user_idå–æ¨¡
        TableRuleConfiguration tableRuleConfig = 
            new TableRuleConfiguration("user", "ds${0..1}.user_${0..3}");
        tableRuleConfig.setDatabaseShardingStrategyConfig(
            new InlineShardingStrategyConfiguration("user_id", "ds${user_id % 2}"));
        tableRuleConfig.setTableShardingStrategyConfig(
            new InlineShardingStrategyConfiguration("user_id", "user_${user_id % 4}"));
            
        ShardingRuleConfiguration shardingRuleConfig = new ShardingRuleConfiguration();
        shardingRuleConfig.getTableRuleConfigs().add(tableRuleConfig);
        
        return ShardingDataSourceFactory.createDataSource(dataSourceMap, shardingRuleConfig, new Properties());
    }
}
```

### 4.2 æˆæœ¬æ•ˆç›Šè¯„ä¼°æ¨¡å‹


**ğŸ’° åˆ†åº“åˆ†è¡¨æˆæœ¬åˆ†æ**

å®æ–½åˆ†åº“åˆ†è¡¨å°±åƒè£…ä¿®æˆ¿å­ï¼Œå‰æœŸæŠ•å…¥å¤§ï¼Œä½†é•¿æœŸæ”¶ç›Šæ˜æ˜¾ã€‚

```
æˆæœ¬æ„æˆåˆ†æï¼š

ä¸€æ¬¡æ€§æˆæœ¬ï¼š
â”œâ”€â”€ æ¶æ„è®¾è®¡è´¹ç”¨ï¼š1-2äººæœˆ
â”œâ”€â”€ ä»£ç æ”¹é€ è´¹ç”¨ï¼š3-6äººæœˆ  
â”œâ”€â”€ æ•°æ®è¿ç§»è´¹ç”¨ï¼š1-3äººæœˆ
â”œâ”€â”€ æµ‹è¯•éªŒè¯è´¹ç”¨ï¼š2-4äººæœˆ
â””â”€â”€ åŸ¹è®­æ¨å¹¿è´¹ç”¨ï¼š1äººæœˆ

æŒç»­æ€§æˆæœ¬ï¼š
â”œâ”€â”€ è¿ç»´å¤æ‚åº¦æå‡ï¼š20-30%
â”œâ”€â”€ ç›‘æ§ç³»ç»Ÿå»ºè®¾ï¼šæŒç»­æŠ•å…¥
â”œâ”€â”€ æ•…éšœå¤„ç†æˆæœ¬ï¼šå¢åŠ 50%
â””â”€â”€ äººå‘˜æŠ€èƒ½è¦æ±‚ï¼šæé«˜ä¸€ä¸ªç­‰çº§

æ”¶ç›Šåˆ†æï¼š
â”œâ”€â”€ æ€§èƒ½æå‡ï¼š3-10å€æŸ¥è¯¢æ€§èƒ½
â”œâ”€â”€ æ‰©å±•èƒ½åŠ›ï¼šç†è®ºæ— é™æ‰©å±•
â”œâ”€â”€ å¯ç”¨æ€§æå‡ï¼šå•ç‚¹æ•…éšœé£é™©é™ä½
â””â”€â”€ ä¸šåŠ¡æ”¯æ’‘ï¼šæ”¯æŒæ›´å¤§ä¸šåŠ¡è§„æ¨¡
```

**ğŸ“ˆ ROIè®¡ç®—æ¨¡å‹**

```java
// åˆ†åº“åˆ†è¡¨æŠ•èµ„å›æŠ¥ç‡è®¡ç®—å·¥å…·
public class ShardingROICalculator {
    
    // è®¡ç®—æ€§èƒ½æå‡æ”¶ç›Š
    public double calculatePerformanceBenefit(
        int currentQPS,           // å½“å‰QPS
        int targetQPS,           // ç›®æ ‡QPS  
        double revenuePerQuery,  // æ¯æ¬¡æŸ¥è¯¢çš„æ”¶ç›Š
        int months) {            // è®¡ç®—å‘¨æœŸï¼ˆæœˆï¼‰
        
        int improvedQPS = targetQPS - currentQPS;
        double dailyBenefit = improvedQPS * revenuePerQuery * 24 * 3600;
        return dailyBenefit * 30 * months;
    }
    
    // è®¡ç®—å¯ç”¨æ€§æå‡æ”¶ç›Š
    public double calculateAvailabilityBenefit(
        double currentAvailability,  // å½“å‰å¯ç”¨æ€§ 99%
        double targetAvailability,   // ç›®æ ‡å¯ç”¨æ€§ 99.9%
        double downtimeCostPerHour,  // æ¯å°æ—¶å®•æœºæŸå¤±
        int months) {
        
        double currentDowntime = (1 - currentAvailability) * 24 * 30 * months;
        double targetDowntime = (1 - targetAvailability) * 24 * 30 * months;
        double savedDowntime = currentDowntime - targetDowntime;
        return savedDowntime * downtimeCostPerHour;
    }
    
    // ç»¼åˆROIè®¡ç®—
    public double calculateTotalROI(
        double totalCost,         // æ€»æŠ•å…¥æˆæœ¬
        double performanceBenefit, // æ€§èƒ½æ”¶ç›Š
        double availabilityBenefit, // å¯ç”¨æ€§æ”¶ç›Š
        double scalabilityBenefit) { // æ‰©å±•æ€§æ”¶ç›Š
        
        double totalBenefit = performanceBenefit + availabilityBenefit + scalabilityBenefit;
        return (totalBenefit - totalCost) / totalCost * 100; // ROIç™¾åˆ†æ¯”
    }
}
```

### 4.3 æ¶æ„æˆç†Ÿåº¦è¯„ä¼°


**ğŸ“Š åˆ†åº“åˆ†è¡¨æˆç†Ÿåº¦ç­‰çº§**

```
æˆç†Ÿåº¦çº§åˆ«åˆ’åˆ†ï¼š

Level 1 - åŸºç¡€çº§åˆ«ï¼š
â”œâ”€â”€ å•åº“åˆ†è¡¨
â”œâ”€â”€ ç®€å•å“ˆå¸Œåˆ†ç‰‡
â”œâ”€â”€ åº”ç”¨å±‚è·¯ç”±
â””â”€â”€ æ‰‹åŠ¨è¿ç»´

Level 2 - è¿›é˜¶çº§åˆ«ï¼š  
â”œâ”€â”€ åˆ†åº“åˆ†è¡¨
â”œâ”€â”€ å¤šç§åˆ†ç‰‡ç­–ç•¥
â”œâ”€â”€ ä¸­é—´ä»¶æ”¯æŒ
â””â”€â”€ åŸºç¡€ç›‘æ§

Level 3 - ä¸“ä¸šçº§åˆ«ï¼š
â”œâ”€â”€ è¯»å†™åˆ†ç¦» + åˆ†åº“åˆ†è¡¨
â”œâ”€â”€ åˆ†å¸ƒå¼äº‹åŠ¡æ”¯æŒ
â”œâ”€â”€ è‡ªåŠ¨åŒ–è¿ç»´
â””â”€â”€ å®Œå–„ç›‘æ§å‘Šè­¦

Level 4 - ä¸“å®¶çº§åˆ«ï¼š
â”œâ”€â”€ å¼¹æ€§æ‰©ç¼©å®¹
â”œâ”€â”€ å¤šæ•°æ®ä¸­å¿ƒéƒ¨ç½²
â”œâ”€â”€ æ™ºèƒ½åŒ–è¿ç»´
â””â”€â”€ å…¨é“¾è·¯ç›‘æ§

Level 5 - å¤§å¸ˆçº§åˆ«ï¼š
â”œâ”€â”€ äº‘åŸç”Ÿæ¶æ„
â”œâ”€â”€ è‡ªé€‚åº”åˆ†ç‰‡
â”œâ”€â”€ AIè¾…åŠ©è¿ç»´  
â””â”€â”€ å…¨çƒåŒ–éƒ¨ç½²
```

---

## 5. ğŸ¯ ä¼ä¸šçº§å®æ–½å†³ç­–æ¡†æ¶


### 5.1 åˆ†åº“åˆ†è¡¨å†³ç­–çŸ©é˜µ


é€‰æ‹©æ˜¯å¦è¦åšåˆ†åº“åˆ†è¡¨ï¼Œå°±åƒå†³å®šæ˜¯å¦è¦æ¬å®¶ä¸€æ ·ï¼Œéœ€è¦ç»¼åˆè€ƒè™‘å„ç§å› ç´ ã€‚

**ğŸ“‹ å†³ç­–è¯„ä¼°è¡¨**

| **è¯„ä¼°ç»´åº¦** | **æƒé‡** | **è¯„åˆ†æ ‡å‡†** | **å†³ç­–å½±å“** |
|-------------|---------|-------------|-------------|
| **æ•°æ®é‡è§„æ¨¡** | `30%` | `<100ä¸‡(1åˆ†) 100-1000ä¸‡(3åˆ†) >1000ä¸‡(5åˆ†)` | `æ ¸å¿ƒå› ç´ ` |
| **å¹¶å‘è®¿é—®é‡** | `25%` | `<1000(1åˆ†) 1000-1ä¸‡(3åˆ†) >1ä¸‡(5åˆ†)` | `æ€§èƒ½å…³é”®` |
| **ä¸šåŠ¡å¢é•¿é€Ÿåº¦** | `20%` | `ç¼“æ…¢(1åˆ†) ç¨³å®š(3åˆ†) å¿«é€Ÿ(5åˆ†)` | `æ‰©å±•éœ€æ±‚` |
| **æŠ€æœ¯å›¢é˜Ÿèƒ½åŠ›** | `15%` | `åˆçº§(1åˆ†) ä¸­çº§(3åˆ†) é«˜çº§(5åˆ†)` | `å®æ–½é£é™©` |
| **è¿ç»´å¤æ‚åº¦æ‰¿å—** | `10%` | `ä¸æ¥å—(1åˆ†) å¯æ¥å—(3åˆ†) å®Œå…¨æ¥å—(5åˆ†)` | `ç»´æŠ¤æˆæœ¬` |

```java
// å†³ç­–è®¡ç®—å™¨
public class ShardingDecisionCalculator {
    
    public class EvaluationResult {
        private double totalScore;
        private String recommendation;
        private List<String> reasons;
        
        // getters and setters
    }
    
    public EvaluationResult evaluate(
        int dataVolume,      // æ•°æ®é‡ï¼ˆä¸‡ï¼‰
        int concurrency,     // å¹¶å‘é‡  
        int growthRate,      // å¢é•¿ç‡ï¼ˆ%ï¼‰
        int teamLevel,       // å›¢é˜Ÿæ°´å¹³ï¼ˆ1-5ï¼‰
        int complexityTolerance) { // å¤æ‚åº¦æ‰¿å—åŠ›ï¼ˆ1-5ï¼‰
        
        double dataScore = calculateDataScore(dataVolume) * 0.3;
        double concurrencyScore = calculateConcurrencyScore(concurrency) * 0.25;
        double growthScore = calculateGrowthScore(growthRate) * 0.2;
        double teamScore = teamLevel * 0.15;
        double complexityScore = complexityTolerance * 0.1;
        
        double totalScore = dataScore + concurrencyScore + growthScore + teamScore + complexityScore;
        
        EvaluationResult result = new EvaluationResult();
        result.setTotalScore(totalScore);
        
        if (totalScore >= 4.0) {
            result.setRecommendation("å¼ºçƒˆæ¨èå®æ–½åˆ†åº“åˆ†è¡¨");
        } else if (totalScore >= 3.0) {
            result.setRecommendation("å»ºè®®å®æ–½åˆ†åº“åˆ†è¡¨");
        } else if (totalScore >= 2.0) {
            result.setRecommendation("å¯ä»¥è€ƒè™‘åˆ†åº“åˆ†è¡¨");
        } else {
            result.setRecommendation("æš‚æ—¶ä¸å»ºè®®åˆ†åº“åˆ†è¡¨");
        }
        
        return result;
    }
    
    private double calculateDataScore(int dataVolume) {
        if (dataVolume < 100) return 1.0;
        if (dataVolume < 1000) return 3.0; 
        return 5.0;
    }
    
    private double calculateConcurrencyScore(int concurrency) {
        if (concurrency < 1000) return 1.0;
        if (concurrency < 10000) return 3.0;
        return 5.0;
    }
    
    private double calculateGrowthScore(int growthRate) {
        if (growthRate < 20) return 1.0;
        if (growthRate < 50) return 3.0;
        return 5.0;
    }
}
```

### 5.2 å¾®æœåŠ¡æ¶æ„ä¸‹çš„æ•°æ®åº“æ‹†åˆ†ç­–ç•¥


åœ¨å¾®æœåŠ¡æ¶æ„ä¸­ï¼Œæ•°æ®åº“æ‹†åˆ†å°±åƒåŸå¸‚è§„åˆ’ï¼Œæ¯ä¸ªå¾®æœåŠ¡å°±æ˜¯ä¸€ä¸ªåŠŸèƒ½åŒºï¼Œéœ€è¦åˆç†è§„åˆ’æ•°æ®å­˜å‚¨ã€‚

**ğŸ—ï¸ å¾®æœåŠ¡æ•°æ®æ‹†åˆ†åŸåˆ™**

```
å¾®æœåŠ¡æ•°æ®æ‹†åˆ†ç­–ç•¥ï¼š

åŸåˆ™1ï¼šæ¯ä¸ªå¾®æœåŠ¡æ‹¥æœ‰ç‹¬ç«‹çš„æ•°æ®åº“
ç”¨æˆ·æœåŠ¡ â†’ user_service_db
è®¢å•æœåŠ¡ â†’ order_service_db  
å•†å“æœåŠ¡ â†’ product_service_db
æ”¯ä»˜æœåŠ¡ â†’ payment_service_db

åŸåˆ™2ï¼šé¿å…è·¨æœåŠ¡çš„æ•°æ®åº“è®¿é—®
âŒ é”™è¯¯åšæ³•ï¼šè®¢å•æœåŠ¡ç›´æ¥è®¿é—®ç”¨æˆ·æ•°æ®åº“
âœ… æ­£ç¡®åšæ³•ï¼šè®¢å•æœåŠ¡é€šè¿‡APIè°ƒç”¨ç”¨æˆ·æœåŠ¡

åŸåˆ™3ï¼šæ•°æ®ä¸€è‡´æ€§é€šè¿‡äº‹ä»¶é©±åŠ¨ä¿è¯
ç”¨æˆ·ä¿¡æ¯å˜æ›´ â†’ å‘å¸ƒäº‹ä»¶ â†’ è®¢å•æœåŠ¡æ›´æ–°æœ¬åœ°ç”¨æˆ·ä¿¡æ¯å‰¯æœ¬
```

```java
// å¾®æœåŠ¡æ¶æ„ä¸‹çš„æ•°æ®è®¿é—®æ¨¡å¼

// 1. æ¯ä¸ªå¾®æœåŠ¡ç‹¬ç«‹çš„æ•°æ®è®¿é—®å±‚
@Service
public class OrderService {
    
    @Autowired
    private OrderRepository orderRepository; // åªè®¿é—®è‡ªå·±çš„æ•°æ®åº“
    
    @Autowired  
    private UserServiceClient userServiceClient; // é€šè¿‡APIè®¿é—®å…¶ä»–æœåŠ¡æ•°æ®
    
    public OrderDetailDTO getOrderDetail(Long orderId) {
        // æŸ¥è¯¢æœ¬æœåŠ¡æ•°æ®
        Order order = orderRepository.findById(orderId);
        
        // é€šè¿‡APIè·å–å…¶ä»–æœåŠ¡æ•°æ®
        UserDTO user = userServiceClient.getUserById(order.getUserId());
        
        // ç»„è£…è¿”å›ç»“æœ
        return OrderDetailDTO.builder()
            .order(order)
            .user(user)
            .build();
    }
}

// 2. äº‹ä»¶é©±åŠ¨çš„æ•°æ®åŒæ­¥
@Component
public class UserEventHandler {
    
    @Autowired
    private OrderUserInfoRepository orderUserInfoRepository;
    
    // ç›‘å¬ç”¨æˆ·ä¿¡æ¯å˜æ›´äº‹ä»¶
    @EventListener
    public void handleUserUpdated(UserUpdatedEvent event) {
        // æ›´æ–°è®¢å•æœåŠ¡ä¸­çš„ç”¨æˆ·ä¿¡æ¯å‰¯æœ¬
        OrderUserInfo userInfo = new OrderUserInfo();
        userInfo.setUserId(event.getUserId());
        userInfo.setUserName(event.getUserName());
        userInfo.setPhone(event.getPhone());
        
        orderUserInfoRepository.updateByUserId(userInfo);
    }
}
```

### 5.3 è¯»å†™åˆ†ç¦»ä¸åˆ†åº“åˆ†è¡¨ç»“åˆ


è¯»å†™åˆ†ç¦»é…åˆåˆ†åº“åˆ†è¡¨ï¼Œå°±åƒé«˜é€Ÿå…¬è·¯è®¾ç½®ä¸“ç”¨è½¦é“ï¼Œè®©ä¸åŒç±»å‹çš„æµé‡èµ°ä¸åŒçš„è·¯çº¿ï¼Œæé«˜æ•´ä½“æ•ˆç‡ã€‚

```
è¯»å†™åˆ†ç¦» + åˆ†åº“åˆ†è¡¨æ¶æ„ï¼š

åº”ç”¨å±‚
    â†“
åˆ†åº“åˆ†è¡¨ä¸­é—´ä»¶ï¼ˆSharding-JDBCï¼‰
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    æ•°æ®åº“é›†ç¾¤                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚  â”‚   åˆ†ç‰‡1é›†ç¾¤    â”‚    â”‚   åˆ†ç‰‡2é›†ç¾¤    â”‚                â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚                â”‚
â”‚  â”‚  â”‚ Master  â”‚  â”‚    â”‚  â”‚ Master  â”‚  â”‚  â† å¤„ç†å†™æ“ä½œ   â”‚
â”‚  â”‚  â”‚ (å†™)    â”‚  â”‚    â”‚  â”‚ (å†™)    â”‚  â”‚                â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚                â”‚
â”‚  â”‚  â”‚ Slave1  â”‚  â”‚    â”‚  â”‚ Slave1  â”‚  â”‚  â† å¤„ç†è¯»æ“ä½œ   â”‚
â”‚  â”‚  â”‚ (è¯»)    â”‚  â”‚    â”‚  â”‚ (è¯»)    â”‚  â”‚                â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚                â”‚
â”‚  â”‚  â”‚ Slave2  â”‚  â”‚    â”‚  â”‚ Slave2  â”‚  â”‚  â† å¤„ç†è¯»æ“ä½œ   â”‚
â”‚  â”‚  â”‚ (è¯»)    â”‚  â”‚    â”‚  â”‚ (è¯»)    â”‚  â”‚                â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 6. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 6.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ åˆ†å¸ƒå¼æ•°æ®åº“ï¼šå°†æ•°æ®åˆ†æ•£å­˜å‚¨åˆ°å¤šå°æœåŠ¡å™¨ï¼Œæé«˜æ€§èƒ½å’Œå¯æ‰©å±•æ€§
ğŸ”¸ å‚ç›´æ‹†åˆ†ï¼šæŒ‰ä¸šåŠ¡åŠŸèƒ½åˆ’åˆ†æ•°æ®åº“ï¼Œå®ç°ä¸šåŠ¡éš”ç¦»
ğŸ”¸ æ°´å¹³æ‹†åˆ†ï¼šæŒ‰æ•°æ®é‡æˆ–å…¶ä»–è§„åˆ™æ‹†åˆ†è¡¨ï¼Œè§£å†³å•è¡¨æ€§èƒ½é—®é¢˜
ğŸ”¸ åˆ†ç‰‡é”®é€‰æ‹©ï¼šå½±å“æ•°æ®åˆ†å¸ƒå‡åŒ€æ€§å’ŒæŸ¥è¯¢æ•ˆç‡çš„å…³é”®å› ç´ 
ğŸ”¸ CAPç†è®ºï¼šä¸€è‡´æ€§ã€å¯ç”¨æ€§ã€åˆ†åŒºå®¹é”™æ€§çš„æƒè¡¡å–èˆ
ğŸ”¸ æŠ€æœ¯é€‰å‹ï¼šæ ¹æ®ä¸šåŠ¡éœ€æ±‚å’Œå›¢é˜Ÿèƒ½åŠ›é€‰æ‹©åˆé€‚çš„åˆ†åº“åˆ†è¡¨æ–¹æ¡ˆ
```

### 6.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ ä»€ä¹ˆæ—¶å€™éœ€è¦åˆ†åº“åˆ†è¡¨**
```
æ•°æ®é‡å¤§ï¼šå•è¡¨è¶…è¿‡1000ä¸‡è®°å½•
å¹¶å‘é«˜ï¼šQPSè¶…è¿‡1ä¸‡æ¬¡/ç§’
å¢é•¿å¿«ï¼šæ•°æ®é‡å¿«é€Ÿå¢é•¿
æ‰©å±•éœ€æ±‚ï¼šéœ€è¦æ”¯æŒæ›´å¤§è§„æ¨¡ä¸šåŠ¡
```

**ğŸ”¹ å‚ç›´æ‹†åˆ† vs æ°´å¹³æ‹†åˆ†**
```
å‚ç›´æ‹†åˆ†ï¼šè§£å†³ä¸šåŠ¡å¤æ‚åº¦é—®é¢˜ï¼ŒæŒ‰åŠŸèƒ½åˆ’åˆ†
æ°´å¹³æ‹†åˆ†ï¼šè§£å†³æ•°æ®é‡å¤§çš„é—®é¢˜ï¼ŒæŒ‰æ•°æ®åˆ†ç‰‡
å®é™…é¡¹ç›®ï¼šé€šå¸¸ä¸¤è€…ç»“åˆä½¿ç”¨
```

**ğŸ”¹ æ¶æ„é€‰æ‹©åŸåˆ™**
```
ä¸šåŠ¡ä¼˜å…ˆï¼šå…ˆè€ƒè™‘ä¸šåŠ¡éœ€æ±‚å’Œå‘å±•æ–¹å‘
æŠ€æœ¯åŒ¹é…ï¼šé€‰æ‹©å›¢é˜Ÿèƒ½å¤Ÿé©¾é©­çš„æŠ€æœ¯æ ˆ
æˆæœ¬æ§åˆ¶ï¼šæƒè¡¡å®æ–½æˆæœ¬å’Œé•¿æœŸæ”¶ç›Š
é£é™©å¯æ§ï¼šç¡®ä¿å®æ–½è¿‡ç¨‹é£é™©å¯æ§
```

### 6.3 å®é™…åº”ç”¨æŒ‡å¯¼


**ğŸ’¼ ä¼ä¸šå®æ–½å»ºè®®**
- **å°æ­¥å¿«è·‘**ï¼šä»å•åº“åˆ†è¡¨å¼€å§‹ï¼Œé€æ­¥æ¼”è¿›åˆ°åˆ†åº“åˆ†è¡¨
- **ä¸šåŠ¡å…ˆè¡Œ**ï¼šå…ˆåšå‚ç›´æ‹†åˆ†ï¼Œå†æ ¹æ®éœ€è¦åšæ°´å¹³æ‹†åˆ†
- **å·¥å…·é€‰æ‹©**ï¼šä¼˜å…ˆé€‰æ‹©æˆç†Ÿçš„å¼€æºæ–¹æ¡ˆï¼Œå¦‚Sharding-JDBC
- **å›¢é˜Ÿå»ºè®¾**ï¼šæå‰åŸ¹å…»å›¢é˜Ÿçš„åˆ†å¸ƒå¼ç³»ç»Ÿèƒ½åŠ›

**ğŸ¯ å¸¸è§è¯¯åŒºé¿å…**
- **è¿‡åº¦è®¾è®¡**ï¼šä¸è¦åœ¨æ•°æ®é‡ä¸å¤§æ—¶å°±åšåˆ†åº“åˆ†è¡¨
- **å¿½è§†è¿ç»´**ï¼šè¦å……åˆ†è€ƒè™‘åˆ†åº“åˆ†è¡¨åçš„è¿ç»´å¤æ‚åº¦
- **æŠ€æœ¯å´‡æ‹œ**ï¼šä¸è¦ä¸ºäº†æŠ€æœ¯è€ŒæŠ€æœ¯ï¼Œè¦ä»¥è§£å†³é—®é¢˜ä¸ºç›®æ ‡
- **ä¸€æ­¥åˆ°ä½**ï¼šä¸è¦è¯•å›¾ä¸€æ¬¡æ€§è§£å†³æ‰€æœ‰é—®é¢˜

**ğŸ”§ å®æ–½å…³é”®ç‚¹**
- **å……åˆ†æµ‹è¯•**ï¼šåˆ†åº“åˆ†è¡¨æ”¹é€ åè¦è¿›è¡Œå……åˆ†çš„æµ‹è¯•éªŒè¯
- **ç°åº¦å‘å¸ƒ**ï¼šé€šè¿‡ç°åº¦å‘å¸ƒé™ä½ä¸Šçº¿é£é™©
- **ç›‘æ§å®Œå–„**ï¼šå»ºç«‹å®Œå–„çš„ç›‘æ§å’Œå‘Šè­¦æœºåˆ¶
- **åº”æ€¥é¢„æ¡ˆ**ï¼šå‡†å¤‡æ•°æ®åº“æ•…éšœå’Œæ€§èƒ½é—®é¢˜çš„åº”æ€¥é¢„æ¡ˆ

### 6.4 å‘å±•è¶‹åŠ¿ä¸å±•æœ›


**ğŸš€ æŠ€æœ¯å‘å±•æ–¹å‘**
```
äº‘åŸç”Ÿï¼šå®¹å™¨åŒ–éƒ¨ç½²ï¼Œå¼¹æ€§æ‰©ç¼©å®¹
æ™ºèƒ½åŒ–ï¼šAIè¾…åŠ©çš„è‡ªåŠ¨åˆ†ç‰‡å’Œè°ƒä¼˜
æ ‡å‡†åŒ–ï¼šåˆ†å¸ƒå¼æ•°æ®åº“æ ‡å‡†çš„å®Œå–„
ä¸€ä½“åŒ–ï¼šåˆ†åº“åˆ†è¡¨ä¸­é—´ä»¶çš„åŠŸèƒ½æ•´åˆ
```

**ğŸ’¡ å­¦ä¹ å»ºè®®**
```
ç†è®ºåŸºç¡€ï¼šæ·±å…¥ç†è§£åˆ†å¸ƒå¼ç³»ç»ŸåŸç†
å®è·µç»éªŒï¼šåœ¨é¡¹ç›®ä¸­ç§¯ç´¯åˆ†åº“åˆ†è¡¨ç»éªŒ
å·¥å…·æŒæ¡ï¼šç†Ÿç»ƒä½¿ç”¨ä¸»æµåˆ†åº“åˆ†è¡¨æ¡†æ¶
è¿ç»´æŠ€èƒ½ï¼šæŒæ¡åˆ†å¸ƒå¼æ•°æ®åº“è¿ç»´æŠ€æœ¯
```

**æ ¸å¿ƒè®°å¿†è¦ç‚¹**ï¼š
```
åˆ†åº“åˆ†è¡¨ä¸æ˜¯ä¸‡èƒ½è¯ï¼Œè¦æ ¹æ®å®é™…éœ€æ±‚é€‰æ‹©
å‚ç›´æ‹†åˆ†æŒ‰ä¸šåŠ¡åˆ†ï¼Œæ°´å¹³æ‹†åˆ†æŒ‰æ•°æ®åˆ†
åˆ†ç‰‡é”®é€‰æ‹©å¾ˆå…³é”®ï¼Œå½±å“æ€§èƒ½å’Œæ‰©å±•æ€§
æŠ€æœ¯é€‰å‹è¦è°¨æ…ï¼Œå›¢é˜Ÿèƒ½åŠ›æ˜¯åŸºç¡€
å®æ–½è¦æ¸è¿›å¼ï¼Œç›‘æ§è¿ç»´è¦è·Ÿä¸Š
```