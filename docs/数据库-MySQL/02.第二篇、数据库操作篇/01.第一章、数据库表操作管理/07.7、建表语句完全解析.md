---
title: 7ã€å»ºè¡¨è¯­å¥å®Œå…¨è§£æž
---
## ðŸ“š ç›®å½•

1. [CREATE TABLEåŸºç¡€æ¦‚å¿µ](#1-CREATE-TABLEåŸºç¡€æ¦‚å¿µ)
2. [å®Œæ•´è¯­æ³•ç»“æž„è§£æž](#2-å®Œæ•´è¯­æ³•ç»“æž„è§£æž)
3. [å­—æ®µå®šä¹‰ä¸Žæ•°æ®ç±»åž‹](#3-å­—æ®µå®šä¹‰ä¸Žæ•°æ®ç±»åž‹)
4. [å­˜å‚¨å¼•æ“ŽENGINEæŒ‡å®š](#4-å­˜å‚¨å¼•æ“ŽENGINEæŒ‡å®š)
5. [è¡¨æ³¨é‡ŠCOMMENTä½¿ç”¨](#5-è¡¨æ³¨é‡ŠCOMMENTä½¿ç”¨)
6. [ä¸´æ—¶è¡¨TEMPORARYåˆ›å»º](#6-ä¸´æ—¶è¡¨TEMPORARYåˆ›å»º)
7. [CREATE TABLE IF NOT EXISTSè¯­æ³•](#7-CREATE-TABLE-IF-NOT-EXISTSè¯­æ³•)
8. [CREATE TABLE AS SELECTç”¨æ³•](#8-CREATE-TABLE-AS-SELECTç”¨æ³•)
9. [å®žé™…åº”ç”¨åœºæ™¯ä¸Žæœ€ä½³å®žè·µ](#9-å®žé™…åº”ç”¨åœºæ™¯ä¸Žæœ€ä½³å®žè·µ)
10. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#10-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ðŸŽ¯ CREATE TABLEåŸºç¡€æ¦‚å¿µ


### 1.1 ä»€ä¹ˆæ˜¯CREATE TABLE


**ðŸ”¸ ç®€å•ç†è§£**
`CREATE TABLE`å°±åƒæ˜¯åœ¨æ•°æ®åº“ä¸­**"æ­å»ºä¸€ä¸ªè¡¨æ ¼æ¡†æž¶"**ã€‚æƒ³è±¡ä½ è¦åˆ¶ä½œä¸€ä¸ªExcelè¡¨æ ¼ï¼Œéœ€è¦å…ˆå®šä¹‰è¡¨æ ¼æœ‰å“ªäº›åˆ—ã€æ¯åˆ—æ”¾ä»€ä¹ˆç±»åž‹çš„æ•°æ®ã€è¡¨æ ¼å«ä»€ä¹ˆåå­—ã€‚`CREATE TABLE`å°±æ˜¯åšè¿™ä»¶äº‹çš„SQLè¯­å¥ã€‚

**ðŸ”¸ æ ¸å¿ƒä½œç”¨**
- **å®šä¹‰è¡¨ç»“æž„**ï¼šç¡®å®šè¡¨æœ‰å“ªäº›å­—æ®µï¼ˆåˆ—ï¼‰
- **æŒ‡å®šæ•°æ®ç±»åž‹**ï¼šæ¯ä¸ªå­—æ®µèƒ½å­˜æ”¾ä»€ä¹ˆç±»åž‹çš„æ•°æ®
- **è®¾ç½®çº¦æŸæ¡ä»¶**ï¼šè§„å®šæ•°æ®å¿…é¡»æ»¡è¶³çš„è§„åˆ™
- **é…ç½®è¡¨å±žæ€§**ï¼šè¡¨çš„å­˜å‚¨æ–¹å¼ã€å­—ç¬¦é›†ç­‰è®¾ç½®

### 1.2 ä¸ºä»€ä¹ˆéœ€è¦CREATE TABLE


**æ•°æ®åº“è®¾è®¡çš„åŸºç¡€**ï¼š
```
æ²¡æœ‰è¡¨å°±æ²¡æœ‰æ•°æ®å­˜å‚¨çš„åœ°æ–¹
                â†“
CREATE TABLEåˆ›å»ºå­˜å‚¨æ¡†æž¶
                â†“
INSERTè¯­å¥å¾€è¡¨é‡Œæ”¾æ•°æ®
                â†“
SELECTè¯­å¥ä»Žè¡¨é‡Œå–æ•°æ®
```

**å®žé™…ç±»æ¯”**ï¼š
- **å»ºæˆ¿å­**ï¼šCREATE TABLE = æ‰“åœ°åŸºå»ºæ¡†æž¶ï¼ŒINSERT = æ¬å®¶å…·
- **å¼€é“¶è¡Œ**ï¼šCREATE TABLE = è®¾ç«‹è´¦æˆ·ç±»åž‹ï¼ŒINSERT = å¼€æˆ·å­˜é’±
- **å›¾ä¹¦é¦†**ï¼šCREATE TABLE = è®¾è®¡ä¹¦æž¶åˆ†ç±»ï¼ŒINSERT = ä¸Šæž¶å›¾ä¹¦

---

## 2. ðŸ“‹ å®Œæ•´è¯­æ³•ç»“æž„è§£æž


### 2.1 åŸºæœ¬è¯­æ³•æ¡†æž¶


```sql
CREATE [TEMPORARY] TABLE [IF NOT EXISTS] table_name (
    column1 datatype [constraints],
    column2 datatype [constraints],
    ...
    [table_constraints]
) [ENGINE=storage_engine]
  [CHARSET=character_set]
  [COMMENT='table_comment'];
```

### 2.2 è¯­æ³•ç»„æˆéƒ¨åˆ†è¯¦è§£


**ðŸ”¸ è¯­æ³•ç»“æž„æ‹†è§£å›¾**
```
CREATE TABLEè¯­å¥æž„æˆï¼š

â”Œâ”€ CREATE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ å…³é”®å­—
â”‚
â”œâ”€ [TEMPORARY] â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ å¯é€‰ï¼šä¸´æ—¶è¡¨
â”‚
â”œâ”€ TABLE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ å…³é”®å­—
â”‚
â”œâ”€ [IF NOT EXISTS] â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ å¯é€‰ï¼šé˜²é‡å¤åˆ›å»º
â”‚
â”œâ”€ table_name â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ è¡¨å
â”‚
â”œâ”€ ( â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ å­—æ®µå®šä¹‰å¼€å§‹
â”‚   â”‚
â”‚   â”œâ”€ column_name datatype [constraints] â”€â”€ å­—æ®µå®šä¹‰
â”‚   â”œâ”€ column_name datatype [constraints] â”€â”€ å­—æ®µå®šä¹‰
â”‚   â””â”€ [table_constraints] â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ è¡¨çº§çº¦æŸ
â”‚
â”œâ”€ ) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ å­—æ®µå®šä¹‰ç»“æŸ
â”‚
â””â”€ [table_options] â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ è¡¨é€‰é¡¹
```

### 2.3 åŸºç¡€ç¤ºä¾‹æ¼”ç¤º


**ðŸ”§ ç®€å•ç”¨æˆ·è¡¨åˆ›å»º**
```sql
-- æœ€åŸºç¡€çš„CREATE TABLEç¤ºä¾‹
CREATE TABLE users (
    id INT PRIMARY KEY,
    username VARCHAR(50),
    email VARCHAR(100),
    created_at TIMESTAMP
);
```

**è§£é‡Šè¯´æ˜Ž**ï¼š
- **users**ï¼šè¡¨åï¼Œå­˜å‚¨ç”¨æˆ·ä¿¡æ¯
- **id INT**ï¼šæ•´æ•°ç±»åž‹çš„ç”¨æˆ·ID
- **PRIMARY KEY**ï¼šä¸»é”®çº¦æŸï¼Œç¡®ä¿IDå”¯ä¸€
- **VARCHAR(50)**ï¼šæœ€å¤§50å­—ç¬¦çš„å¯å˜å­—ç¬¦ä¸²
- **TIMESTAMP**ï¼šæ—¶é—´æˆ³ç±»åž‹ï¼Œè®°å½•åˆ›å»ºæ—¶é—´

---

## 3. ðŸ“Š å­—æ®µå®šä¹‰ä¸Žæ•°æ®ç±»åž‹


### 3.1 æ•°æ®ç±»åž‹åˆ†ç±»è¯¦è§£


**ðŸ”¸ æ•°å­—ç±»åž‹å®¶æ—**

```
æ•´æ•°ç±»åž‹é€‰æ‹©æŒ‡å—ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ç±»åž‹åç§°   â”‚   å­—èŠ‚å¤§å°    â”‚     æ•°å€¼èŒƒå›´     â”‚     åº”ç”¨åœºæ™¯     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   TINYINT   â”‚     1å­—èŠ‚    â”‚    -128~127     â”‚   å¹´é¾„ã€çŠ¶æ€ç    â”‚
â”‚   SMALLINT  â”‚     2å­—èŠ‚    â”‚  -32768~32767   â”‚   å•†å“æ•°é‡      â”‚
â”‚   INT       â”‚     4å­—èŠ‚    â”‚   çº¦-21äº¿~21äº¿   â”‚   ç”¨æˆ·IDã€è®¢å•å· â”‚
â”‚   BIGINT    â”‚     8å­—èŠ‚    â”‚   è¶…å¤§æ•°å€¼èŒƒå›´   â”‚   æ—¶é—´æˆ³ã€å¤§æ•°æ® â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

å°æ•°ç±»åž‹é€‰æ‹©ï¼š
DECIMAL(10,2) â†’ å›ºå®šç²¾åº¦ï¼Œé€‚åˆé‡‘é¢ï¼ˆ123456.78ï¼‰
FLOAT        â†’ å•ç²¾åº¦æµ®ç‚¹ï¼Œé€‚åˆç§‘å­¦è®¡ç®—
DOUBLE       â†’ åŒç²¾åº¦æµ®ç‚¹ï¼Œé€‚åˆé«˜ç²¾åº¦è®¡ç®—
```

**ðŸ”¸ å­—ç¬¦ä¸²ç±»åž‹è¯¦è§£**

```sql
-- å­—ç¬¦ä¸²ç±»åž‹å®žé™…åº”ç”¨
CREATE TABLE content_demo (
    title VARCHAR(200),      -- æ ‡é¢˜ï¼šå¯å˜é•¿åº¦ï¼ŒèŠ‚çœç©ºé—´
    content TEXT,           -- æ–‡ç« å†…å®¹ï¼šå¤§æ–‡æœ¬ï¼Œæ— é•¿åº¦é™åˆ¶
    status CHAR(1),         -- çŠ¶æ€ï¼šå›ºå®š1å­—ç¬¦ï¼Œå¦‚'Y'/'N'
    tags JSON               -- æ ‡ç­¾ï¼šJSONæ ¼å¼ï¼Œå­˜å‚¨å¤æ‚æ•°æ®
);
```

**ä½¿ç”¨åœºæ™¯è¯´æ˜Ž**ï¼š
- **CHAR**ï¼šå›ºå®šé•¿åº¦ï¼Œå¦‚èº«ä»½è¯å·ç ã€çŠ¶æ€ç 
- **VARCHAR**ï¼šå¯å˜é•¿åº¦ï¼Œå¦‚å§“åã€é‚®ç®±ã€æ ‡é¢˜  
- **TEXT**ï¼šå¤§æ®µæ–‡æœ¬ï¼Œå¦‚æ–‡ç« å†…å®¹ã€äº§å“æè¿°
- **JSON**ï¼šç»“æž„åŒ–æ•°æ®ï¼Œå¦‚é…ç½®ä¿¡æ¯ã€æ ‡ç­¾æ•°ç»„

**ðŸ”¸ æ—¥æœŸæ—¶é—´ç±»åž‹**

```sql
-- æ—¶é—´ç±»åž‹åº”ç”¨ç¤ºä¾‹
CREATE TABLE events (
    event_date DATE,            -- ä»…æ—¥æœŸï¼š2025-01-20
    event_time TIME,            -- ä»…æ—¶é—´ï¼š14:30:00
    event_datetime DATETIME,    -- æ—¥æœŸ+æ—¶é—´ï¼š2025-01-20 14:30:00
    created_at TIMESTAMP        -- è‡ªåŠ¨æ—¶é—´æˆ³ï¼šè‡ªåŠ¨è®°å½•åˆ›å»ºæ—¶é—´
);
```

### 3.2 å­—æ®µçº¦æŸæ¡ä»¶


**ðŸ”¸ å¸¸ç”¨çº¦æŸç±»åž‹**

```sql
-- çº¦æŸæ¡ä»¶å®Œæ•´ç¤ºä¾‹
CREATE TABLE products (
    id INT AUTO_INCREMENT PRIMARY KEY,    -- è‡ªå¢žä¸»é”®
    product_name VARCHAR(100) NOT NULL,   -- éžç©ºçº¦æŸ
    price DECIMAL(10,2) CHECK (price > 0), -- æ£€æŸ¥çº¦æŸ
    category_id INT,
    email VARCHAR(100) UNIQUE,            -- å”¯ä¸€çº¦æŸ
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP, -- é»˜è®¤å€¼
    
    FOREIGN KEY (category_id) REFERENCES categories(id) -- å¤–é”®çº¦æŸ
);
```

**çº¦æŸæ¡ä»¶å«ä¹‰è§£é‡Š**ï¼š
- **PRIMARY KEY**ï¼šä¸»é”®ï¼Œè¡¨ä¸­æ¯è¡Œçš„å”¯ä¸€æ ‡è¯†
- **AUTO_INCREMENT**ï¼šè‡ªåŠ¨é€’å¢žï¼Œæ’å…¥æ•°æ®æ—¶è‡ªåŠ¨ç”Ÿæˆæ•°å­—
- **NOT NULL**ï¼šä¸èƒ½ä¸ºç©ºï¼Œå¿…é¡»æä¾›å€¼
- **UNIQUE**ï¼šå”¯ä¸€æ€§ï¼Œæ•´ä¸ªè¡¨ä¸­ä¸èƒ½æœ‰é‡å¤å€¼
- **DEFAULT**ï¼šé»˜è®¤å€¼ï¼Œä¸æä¾›æ•°æ®æ—¶ä½¿ç”¨çš„é»˜è®¤å€¼
- **CHECK**ï¼šæ£€æŸ¥çº¦æŸï¼Œæ•°æ®å¿…é¡»æ»¡è¶³çš„æ¡ä»¶
- **FOREIGN KEY**ï¼šå¤–é”®ï¼Œå…³è”åˆ°å…¶ä»–è¡¨çš„å­—æ®µ

### 3.3 æ•°æ®ç±»åž‹é€‰æ‹©æŒ‡å¯¼


**ðŸ’¡ é€‰æ‹©åŽŸåˆ™**

> âš ï¸ **é‡è¦æç¤º**ï¼šæ•°æ®ç±»åž‹ä¸€æ—¦ç¡®å®šï¼ŒåŽæœŸä¿®æ”¹æˆæœ¬å¾ˆé«˜ï¼Œéœ€è¦è°¨æ…Žé€‰æ‹©

**é€‰æ‹©å†³ç­–æµç¨‹**ï¼š
```
æ•°æ®ç±»åž‹é€‰æ‹©æµç¨‹å›¾ï¼š

å­˜å‚¨çš„æ˜¯ä»€ä¹ˆæ•°æ®ï¼Ÿ
         |
    â”Œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”
    |    |    |    |    |
   æ•°å­—  æ–‡æœ¬  æ—¶é—´  å¸ƒå°”  å…¶ä»–
    |    |    |    |    |
    â†“    â†“    â†“    â†“    â†“
æ˜¯å¦éœ€è¦   é•¿åº¦   ç²¾åº¦   çœŸå‡   JSON/
å°æ•°ç‚¹ï¼Ÿ   å›ºå®šï¼Ÿ  è¦æ±‚ï¼Ÿ  å€¼    äºŒè¿›åˆ¶
    |      |      |     |      |
   â†“      â†“      â†“     â†“      â†“
INT/    CHAR/   DATE/  TINYINT  JSON/
DECIMAL VARCHAR DATETIME (0,1)   BLOB
```

**å®žé™…é€‰æ‹©æ¡ˆä¾‹**ï¼š
```sql
-- ç”µå•†ç”¨æˆ·è¡¨çš„å­—æ®µç±»åž‹é€‰æ‹©æ€è·¯
CREATE TABLE ecommerce_users (
    user_id BIGINT AUTO_INCREMENT,     -- ç”¨æˆ·IDï¼šé¢„æœŸç”¨æˆ·é‡å¤§ï¼Œç”¨BIGINT
    username VARCHAR(50),              -- ç”¨æˆ·åï¼šé•¿åº¦ä¸å›ºå®šï¼Œç”¨VARCHAR
    phone CHAR(11),                    -- æ‰‹æœºå·ï¼šå›ºå®š11ä½ï¼Œç”¨CHAR
    balance DECIMAL(10,2),             -- ä½™é¢ï¼šæ¶‰åŠé‡‘é’±ï¼Œå¿…é¡»ç²¾ç¡®
    birth_date DATE,                   -- ç”Ÿæ—¥ï¼šåªéœ€è¦æ—¥æœŸï¼Œä¸éœ€è¦æ—¶é—´
    is_vip TINYINT(1),                -- VIPçŠ¶æ€ï¼šå¸ƒå°”å€¼ï¼Œ0æˆ–1
    preferences JSON,                  -- åå¥½è®¾ç½®ï¼šå¤æ‚ç»“æž„ï¼Œç”¨JSON
    avatar MEDIUMBLOB,                 -- å¤´åƒï¼šäºŒè¿›åˆ¶æ–‡ä»¶
    
    PRIMARY KEY (user_id)
);
```

---

## 4. ðŸ”§ å­˜å‚¨å¼•æ“ŽENGINEæŒ‡å®š


### 4.1 ä»€ä¹ˆæ˜¯å­˜å‚¨å¼•æ“Ž


**ðŸ”¸ é€šä¿—è§£é‡Š**
å­˜å‚¨å¼•æ“Žå°±åƒæ˜¯**"æ•°æ®åº“çš„å‘åŠ¨æœº"**ï¼Œå†³å®šäº†æ•°æ®æ€Žä¹ˆå­˜å‚¨ã€æ€Žä¹ˆè¯»å–ã€æ€§èƒ½å¦‚ä½•ã€‚å°±åƒæ±½è½¦å¯ä»¥é€‰æ‹©æ±½æ²¹å‘åŠ¨æœºæˆ–ç”µåŠ¨å‘åŠ¨æœºä¸€æ ·ï¼ŒMySQLè¡¨å¯ä»¥é€‰æ‹©ä¸åŒçš„å­˜å‚¨å¼•æ“Žã€‚

**ðŸ”¸ å­˜å‚¨å¼•æ“Žçš„ä½œç”¨**
- **æ•°æ®å­˜å‚¨æ–¹å¼**ï¼šæ–‡ä»¶æ ¼å¼ã€ç´¢å¼•ç»“æž„
- **äº‹åŠ¡å¤„ç†èƒ½åŠ›**ï¼šæ˜¯å¦æ”¯æŒäº‹åŠ¡ã€å›žæ»š
- **å¹¶å‘å¤„ç†**ï¼šå¤šç”¨æˆ·åŒæ—¶è®¿é—®çš„å¤„ç†æ–¹å¼
- **æ€§èƒ½ç‰¹å¾**ï¼šè¯»å†™é€Ÿåº¦ã€å†…å­˜ä½¿ç”¨æ•ˆçŽ‡

### 4.2 ä¸»è¦å­˜å‚¨å¼•æ“Žå¯¹æ¯”


**ðŸ”¥ InnoDB vs MyISAMæ ¸å¿ƒåŒºåˆ«**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     ç‰¹æ€§        â”‚     InnoDB      â”‚     MyISAM      â”‚     é€‰æ‹©å»ºè®®     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   äº‹åŠ¡æ”¯æŒ      â”‚      âœ…æ”¯æŒ      â”‚      âŒä¸æ”¯æŒ    â”‚  éœ€è¦äº‹åŠ¡é€‰InnoDB â”‚
â”‚   è¡Œçº§é”å®š      â”‚      âœ…æ”¯æŒ      â”‚      âŒè¡¨çº§é”    â”‚  é«˜å¹¶å‘é€‰InnoDB  â”‚
â”‚   å¤–é”®çº¦æŸ      â”‚      âœ…æ”¯æŒ      â”‚      âŒä¸æ”¯æŒ    â”‚  æ•°æ®å…³è”é€‰InnoDB â”‚
â”‚   å´©æºƒæ¢å¤      â”‚      âœ…è‡ªåŠ¨      â”‚      âŒæ‰‹åŠ¨      â”‚  å®‰å…¨æ€§é€‰InnoDB  â”‚
â”‚   è¯»å–é€Ÿåº¦      â”‚      å¿«          â”‚      âœ…æ›´å¿«      â”‚  åªè¯»åº”ç”¨é€‰MyISAM â”‚
â”‚   å­˜å‚¨ç©ºé—´      â”‚      è¾ƒå¤§        â”‚      âœ…æ›´å°      â”‚  ç©ºé—´ç´§å¼ é€‰MyISAM â”‚
â”‚   å…¨æ–‡ç´¢å¼•      â”‚      âœ…æ”¯æŒ      â”‚      âœ…æ”¯æŒ      â”‚  æœç´¢åŠŸèƒ½éƒ½æ”¯æŒ   â”‚
â”‚   åŽ‹ç¼©å­˜å‚¨      â”‚      éƒ¨åˆ†æ”¯æŒ     â”‚      âœ…æ”¯æŒ      â”‚  å½’æ¡£æ•°æ®é€‰MyISAM â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ðŸ”¸ å¼•æ“Žé€‰æ‹©å†³ç­–æ ‘**
```
é€‰æ‹©å­˜å‚¨å¼•æ“Žå†³ç­–æµç¨‹ï¼š

éœ€è¦äº‹åŠ¡å¤„ç†å—ï¼Ÿ
    |
   æ˜¯ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ InnoDB
    |
   å¦
    |
éœ€è¦é«˜å¹¶å‘å†™å…¥å—ï¼Ÿ
    |
   æ˜¯ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ InnoDB
    |  
   å¦
    |
ä¸»è¦ç”¨é€”æ˜¯ä»€ä¹ˆï¼Ÿ
    |
â”Œâ”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   |             |
æŸ¥è¯¢  æ—¥å¿—è®°å½•    æ•°æ®å½’æ¡£
å¯†é›†  ç»Ÿè®¡åˆ†æž    åŽ†å²æ•°æ®
|     |           |
|     |           |
InnoDB MyISAM    MyISAM
(ç´¢å¼•ä¼˜åŒ–) (è¯»å–å¿«)  (åŽ‹ç¼©å¥½)
```

### 4.3 ENGINEæŒ‡å®šè¯­æ³•


**ðŸ”§ åŸºæœ¬è¯­æ³•**
```sql
-- æ–¹å¼1ï¼šåˆ›å»ºè¡¨æ—¶æŒ‡å®šå¼•æ“Ž
CREATE TABLE orders (
    order_id INT PRIMARY KEY,
    customer_id INT,
    total_amount DECIMAL(10,2)
) ENGINE=InnoDB;

-- æ–¹å¼2ï¼šä¿®æ”¹çŽ°æœ‰è¡¨çš„å¼•æ“Ž
ALTER TABLE orders ENGINE=MyISAM;

-- æ–¹å¼3ï¼šæŸ¥çœ‹è¡¨ä½¿ç”¨çš„å¼•æ“Ž
SHOW CREATE TABLE orders;
SHOW TABLE STATUS LIKE 'orders';
```

**ðŸ”¸ å¼•æ“Žä½¿ç”¨å®žä¾‹**

```sql
-- ç”µå•†ç³»ç»Ÿä¸åŒè¡¨çš„å¼•æ“Žé€‰æ‹©
-- è®¢å•è¡¨ï¼šéœ€è¦äº‹åŠ¡ï¼Œé€‰æ‹©InnoDB
CREATE TABLE orders (
    order_id BIGINT AUTO_INCREMENT PRIMARY KEY,
    user_id BIGINT NOT NULL,
    total_amount DECIMAL(10,2) NOT NULL,
    status TINYINT DEFAULT 1,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
) ENGINE=InnoDB COMMENT='è®¢å•è¡¨';

-- è®¿é—®æ—¥å¿—è¡¨ï¼šåªéœ€è¦å¿«é€Ÿå†™å…¥ï¼Œé€‰æ‹©MyISAM  
CREATE TABLE access_logs (
    log_id BIGINT AUTO_INCREMENT PRIMARY KEY,
    ip_address VARCHAR(45),
    url VARCHAR(500),
    access_time TIMESTAMP
) ENGINE=MyISAM COMMENT='è®¿é—®æ—¥å¿—è¡¨';

-- å•†å“åˆ†ç±»è¡¨ï¼šè¯»å¤šå†™å°‘ï¼Œé€‰æ‹©MyISAM
CREATE TABLE categories (
    category_id INT AUTO_INCREMENT PRIMARY KEY,
    category_name VARCHAR(100),
    parent_id INT DEFAULT 0
) ENGINE=MyISAM COMMENT='å•†å“åˆ†ç±»è¡¨';
```

---

## 5. ðŸ’¬ è¡¨æ³¨é‡ŠCOMMENTä½¿ç”¨


### 5.1 COMMENTçš„ä½œç”¨å’Œé‡è¦æ€§


**ðŸ”¸ ä¸ºä»€ä¹ˆéœ€è¦æ³¨é‡Š**
æ•°æ®åº“è¡¨å°±åƒä»£ç ä¸€æ ·ï¼Œæ—¶é—´ä¹…äº†å®¹æ˜“å¿˜è®°è®¾è®¡åˆè¡·ã€‚COMMENTå°±æ˜¯ç»™**æœªæ¥çš„è‡ªå·±å’ŒåŒäº‹ç•™è¨€**ï¼Œè¯´æ˜Žè¿™ä¸ªè¡¨æ˜¯å¹²ä»€ä¹ˆç”¨çš„ã€‚

**ðŸ”¸ æ³¨é‡Šçš„å±‚çº§**
- **è¡¨çº§æ³¨é‡Š**ï¼šè¯´æ˜Žæ•´ä¸ªè¡¨çš„ç”¨é€”
- **å­—æ®µçº§æ³¨é‡Š**ï¼šè¯´æ˜Žæ¯ä¸ªå­—æ®µçš„å«ä¹‰

### 5.2 è¡¨æ³¨é‡Šè¯­æ³•


**ðŸ”§ è¡¨çº§æ³¨é‡Šè¯­æ³•**
```sql
-- åœ¨CREATE TABLEè¯­å¥æœ«å°¾æ·»åŠ 
CREATE TABLE user_profiles (
    user_id INT PRIMARY KEY,
    nickname VARCHAR(50),
    avatar_url VARCHAR(200)
) COMMENT='ç”¨æˆ·ä¸ªäººèµ„æ–™è¡¨ï¼Œå­˜å‚¨ç”¨æˆ·æ˜µç§°ã€å¤´åƒç­‰åŸºæœ¬ä¿¡æ¯';
```

**ðŸ”§ å­—æ®µçº§æ³¨é‡Šè¯­æ³•**
```sql
CREATE TABLE products (
    product_id INT AUTO_INCREMENT PRIMARY KEY COMMENT 'å•†å“å”¯ä¸€æ ‡è¯†ID',
    product_name VARCHAR(200) NOT NULL COMMENT 'å•†å“åç§°ï¼Œå¦‚iPhone 15 Pro',
    price DECIMAL(10,2) NOT NULL COMMENT 'å•†å“ä»·æ ¼ï¼Œå•ä½ï¼šå…ƒ',
    stock_quantity INT DEFAULT 0 COMMENT 'åº“å­˜æ•°é‡ï¼Œ0è¡¨ç¤ºç¼ºè´§',
    category_id INT COMMENT 'åˆ†ç±»IDï¼Œå…³è”categoriesè¡¨',
    status TINYINT DEFAULT 1 COMMENT 'å•†å“çŠ¶æ€ï¼š1=ä¸Šæž¶ï¼Œ0=ä¸‹æž¶ï¼Œ2=åˆ é™¤',
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´'
) ENGINE=InnoDB COMMENT='å•†å“ä¿¡æ¯è¡¨ï¼Œå­˜å‚¨æ‰€æœ‰å•†å“çš„åŸºæœ¬ä¿¡æ¯å’Œåº“å­˜çŠ¶æ€';
```

### 5.3 æ³¨é‡Šæœ€ä½³å®žè·µ


**ðŸ’¡ æ³¨é‡Šç¼–å†™æŒ‡å¯¼**

> âœ… **å¥½çš„æ³¨é‡Šç¤ºä¾‹**
```sql
price DECIMAL(10,2) COMMENT 'å•†å“ä»·æ ¼ï¼Œå•ä½ï¼šå…ƒï¼Œæœ€å¤§æ”¯æŒ99999999.99'
status TINYINT COMMENT 'è®¢å•çŠ¶æ€ï¼š0=å¾…ä»˜æ¬¾ï¼Œ1=å·²ä»˜æ¬¾ï¼Œ2=å·²å‘è´§ï¼Œ3=å·²å®Œæˆï¼Œ-1=å·²å–æ¶ˆ'
```

> âŒ **ä¸å¥½çš„æ³¨é‡Šç¤ºä¾‹**  
```sql
price DECIMAL(10,2) COMMENT 'ä»·æ ¼'  -- å¤ªç®€å•ï¼Œæ²¡æœ‰è¯´æ˜Žå•ä½å’ŒèŒƒå›´
status TINYINT COMMENT 'çŠ¶æ€'       -- æ²¡æœ‰è¯´æ˜Žå…·ä½“å«ä¹‰
```

**ðŸ“ æ³¨é‡Šç¼–å†™è§„èŒƒ**ï¼š
```
å­—æ®µæ³¨é‡Šå†…å®¹å»ºè®®ï¼š
1. å­—æ®µç”¨é€”è¯´æ˜Ž
2. æ•°æ®æ ¼å¼è¦æ±‚  
3. å–å€¼èŒƒå›´è¯´æ˜Ž
4. ç‰¹æ®Šå€¼å«ä¹‰
5. ä¸šåŠ¡è§„åˆ™è¯´æ˜Ž
6. å…³è”å…³ç³»è¯´æ˜Ž

è¡¨æ³¨é‡Šå†…å®¹å»ºè®®ï¼š
1. è¡¨çš„ä¸šåŠ¡ç”¨é€”
2. æ•°æ®æ¥æºè¯´æ˜Ž
3. æ›´æ–°é¢‘çŽ‡
4. ç›¸å…³è¡¨å…³ç³»
5. é‡è¦ä¸šåŠ¡è§„åˆ™
```

---

## 6. â° ä¸´æ—¶è¡¨TEMPORARYåˆ›å»º


### 6.1 ä»€ä¹ˆæ˜¯ä¸´æ—¶è¡¨


**ðŸ”¸ ä¸´æ—¶è¡¨çš„ç‰¹ç‚¹**
ä¸´æ—¶è¡¨å°±åƒæ˜¯**"ä¾¿ç­¾çº¸"**ï¼Œç”¨å®Œå°±æ‰”æŽ‰ï¼Œä¸ä¼šé•¿æœŸä¿å­˜ã€‚ä¸»è¦ç”¨äºŽå­˜å‚¨ä¸´æ—¶è®¡ç®—ç»“æžœæˆ–ä¸­é—´æ•°æ®ã€‚

**ä¸´æ—¶è¡¨ç‰¹å¾**ï¼š
- **ä¼šè¯ç‹¬ç«‹**ï¼šæ¯ä¸ªæ•°æ®åº“è¿žæŽ¥åˆ›å»ºçš„ä¸´æ—¶è¡¨äº’ä¸å½±å“
- **è‡ªåŠ¨é”€æ¯**ï¼šè¿žæŽ¥æ–­å¼€æ—¶è‡ªåŠ¨åˆ é™¤
- **ä¸å¯è§æ€§**ï¼šå…¶ä»–è¿žæŽ¥çœ‹ä¸åˆ°ä½ åˆ›å»ºçš„ä¸´æ—¶è¡¨
- **åç§°é‡å¤**ï¼šä¸åŒè¿žæŽ¥å¯ä»¥åˆ›å»ºåŒåä¸´æ—¶è¡¨

### 6.2 ä¸´æ—¶è¡¨è¯­æ³•


**ðŸ”§ åŸºæœ¬åˆ›å»ºè¯­æ³•**
```sql
-- åˆ›å»ºä¸´æ—¶è¡¨
CREATE TEMPORARY TABLE temp_calculations (
    user_id INT,
    total_orders INT,
    avg_amount DECIMAL(10,2)
);

-- ä½¿ç”¨ä¸´æ—¶è¡¨
INSERT INTO temp_calculations 
SELECT user_id, COUNT(*), AVG(total_amount)
FROM orders 
GROUP BY user_id;

-- æŸ¥è¯¢ä¸´æ—¶è¡¨
SELECT * FROM temp_calculations WHERE total_orders > 10;

-- è¿žæŽ¥æ–­å¼€æ—¶è‡ªåŠ¨åˆ é™¤ï¼Œæ— éœ€æ‰‹åŠ¨DROP
```

### 6.3 ä¸´æ—¶è¡¨åº”ç”¨åœºæ™¯


**ðŸŽ¯ å…¸åž‹ä½¿ç”¨åœºæ™¯**

**æ•°æ®æŠ¥è¡¨ç”Ÿæˆ**ï¼š
```sql
-- ç”Ÿæˆæœˆåº¦é”€å”®æŠ¥è¡¨çš„ä¸´æ—¶è¡¨
CREATE TEMPORARY TABLE monthly_sales_report (
    product_id INT,
    product_name VARCHAR(200),
    sales_quantity INT,
    sales_amount DECIMAL(12,2),
    rank_position INT
);

-- å¡«å……æŠ¥è¡¨æ•°æ®
INSERT INTO monthly_sales_report
SELECT 
    p.product_id,
    p.product_name,
    SUM(oi.quantity) as sales_quantity,
    SUM(oi.price * oi.quantity) as sales_amount,
    ROW_NUMBER() OVER (ORDER BY SUM(oi.price * oi.quantity) DESC) as rank_position
FROM products p
JOIN order_items oi ON p.product_id = oi.product_id
JOIN orders o ON oi.order_id = o.order_id
WHERE o.created_at >= '2025-01-01' AND o.created_at < '2025-02-01'
GROUP BY p.product_id, p.product_name;
```

**å¤æ‚æŸ¥è¯¢çš„ä¸­é—´ç»“æžœ**ï¼š
```sql
-- ç”¨æˆ·è¡Œä¸ºåˆ†æžä¸´æ—¶è¡¨
CREATE TEMPORARY TABLE user_behavior_analysis (
    user_id BIGINT,
    login_days INT,
    order_count INT,
    total_spending DECIMAL(12,2),
    user_level VARCHAR(20)
);

-- åˆ†æ­¥éª¤å¡«å……æ•°æ®ï¼Œæœ€åŽç”Ÿæˆæœ€ç»ˆç»“æžœ
```

**ðŸ’¡ ä¸´æ—¶è¡¨ä¼˜åŠ¿**ï¼š
- **æ€§èƒ½æå‡**ï¼šé¿å…é‡å¤å¤æ‚è®¡ç®—
- **ä»£ç ç®€åŒ–**ï¼šå°†å¤æ‚æŸ¥è¯¢åˆ†è§£ä¸ºç®€å•æ­¥éª¤
- **å†…å­˜æ•ˆçŽ‡**ï¼šè‡ªåŠ¨æ¸…ç†ï¼Œä¸å ç”¨æ°¸ä¹…ç©ºé—´
- **è°ƒè¯•æ–¹ä¾¿**ï¼šå¯ä»¥æŸ¥çœ‹ä¸­é—´ç»“æžœ

---

## 7. ðŸ›¡ï¸ CREATE TABLE IF NOT EXISTSè¯­æ³•


### 7.1 ä¸ºä»€ä¹ˆéœ€è¦IF NOT EXISTS


**ðŸ”¸ é—®é¢˜åœºæ™¯**
```
å¸¸è§é—®é¢˜ï¼š
å¼€å‘çŽ¯å¢ƒå·²ç»æœ‰usersè¡¨
    â†“
è¿è¡ŒCREATE TABLE usersè¯­å¥
    â†“
æŠ¥é”™ï¼šTable 'users' already exists
    â†“
ç¨‹åºä¸­æ–­ï¼Œéƒ¨ç½²å¤±è´¥
```

**ðŸ”¸ è§£å†³æ–¹æ¡ˆ**
`IF NOT EXISTS`å°±åƒæ˜¯**"ç¤¼è²Œæ•²é—¨"**ï¼Œå…ˆæ£€æŸ¥è¡¨æ˜¯å¦å­˜åœ¨ï¼Œä¸å­˜åœ¨æ‰åˆ›å»ºï¼Œå­˜åœ¨å°±å®‰é™è·³è¿‡ã€‚

### 7.2 è¯­æ³•ä½¿ç”¨æ–¹æ³•


**ðŸ”§ åŸºæœ¬è¯­æ³•**
```sql
-- å®‰å…¨åˆ›å»ºè¡¨çš„è¯­æ³•
CREATE TABLE IF NOT EXISTS users (
    user_id INT AUTO_INCREMENT PRIMARY KEY,
    username VARCHAR(50) NOT NULL,
    email VARCHAR(100) UNIQUE,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
) ENGINE=InnoDB COMMENT='ç”¨æˆ·åŸºç¡€ä¿¡æ¯è¡¨';
```

**æ‰§è¡Œç»“æžœè¯´æ˜Ž**ï¼š
```
æƒ…å†µ1ï¼šè¡¨ä¸å­˜åœ¨
â†’ æ­£å¸¸åˆ›å»ºè¡¨
â†’ è¿”å›žï¼šQuery OK, 0 rows affected

æƒ…å†µ2ï¼šè¡¨å·²å­˜åœ¨  
â†’ è·³è¿‡åˆ›å»ºï¼Œä¸æŠ¥é”™
â†’ è¿”å›žï¼šQuery OK, 0 rows affected (Note: table exists)
```

### 7.3 å®žé™…åº”ç”¨åœºæ™¯


**ðŸŽ¯ éƒ¨ç½²è„šæœ¬ä¸­çš„åº”ç”¨**
```sql
-- åº”ç”¨åˆå§‹åŒ–è„šæœ¬ init.sql
-- ç¡®ä¿å¿…è¦çš„è¡¨éƒ½å­˜åœ¨ï¼Œä¸ä¼šå› ä¸ºé‡å¤æ‰§è¡Œè€ŒæŠ¥é”™

CREATE TABLE IF NOT EXISTS users (
    user_id BIGINT AUTO_INCREMENT PRIMARY KEY,
    username VARCHAR(50) NOT NULL UNIQUE,
    password_hash VARCHAR(255) NOT NULL,
    email VARCHAR(100) UNIQUE,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
) ENGINE=InnoDB COMMENT='ç”¨æˆ·è´¦æˆ·è¡¨';

CREATE TABLE IF NOT EXISTS user_profiles (
    user_id BIGINT PRIMARY KEY,
    nickname VARCHAR(100),
    avatar_url VARCHAR(500),
    bio TEXT,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES users(user_id)
) ENGINE=InnoDB COMMENT='ç”¨æˆ·èµ„æ–™è¡¨';

CREATE TABLE IF NOT EXISTS orders (
    order_id BIGINT AUTO_INCREMENT PRIMARY KEY,
    user_id BIGINT NOT NULL,
    total_amount DECIMAL(12,2) NOT NULL,
    status TINYINT DEFAULT 1,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES users(user_id)
) ENGINE=InnoDB COMMENT='è®¢å•è¡¨';
```

**ðŸ’¡ ä½¿ç”¨ä¼˜åŠ¿**ï¼š
- **è„šæœ¬å¹‚ç­‰æ€§**ï¼šå¤šæ¬¡æ‰§è¡Œç›¸åŒç»“æžœ
- **éƒ¨ç½²å®‰å…¨æ€§**ï¼šä¸ä¼šå› ä¸ºé‡å¤éƒ¨ç½²è€Œå¤±è´¥
- **å›¢é˜Ÿåä½œ**ï¼šå¤šäººå¼€å‘æ—¶é¿å…å†²çª
- **è‡ªåŠ¨åŒ–å‹å¥½**ï¼šé€‚åˆCI/CDè‡ªåŠ¨åŒ–éƒ¨ç½²

**âš ï¸ æ³¨æ„äº‹é¡¹**
```
é™åˆ¶è¯´æ˜Žï¼š
- åªæ£€æŸ¥è¡¨åæ˜¯å¦å­˜åœ¨
- ä¸æ£€æŸ¥è¡¨ç»“æž„æ˜¯å¦ä¸€è‡´
- å¦‚æžœè¡¨å­˜åœ¨ä½†ç»“æž„ä¸åŒï¼Œä¸ä¼šæŠ¥é”™ä¹Ÿä¸ä¼šä¿®æ”¹

è§£å†³æ–¹æ¡ˆï¼š
æ–¹æ¡ˆ1ï¼šå…ˆDROP TABLE IF EXISTSï¼Œå†CREATE TABLE
æ–¹æ¡ˆ2ï¼šä½¿ç”¨æ•°æ®åº“è¿ç§»å·¥å…·ç®¡ç†è¡¨ç»“æž„å˜æ›´
```

---

## 8. ðŸ”„ CREATE TABLE AS SELECTç”¨æ³•


### 8.1 CTASåŸºæœ¬æ¦‚å¿µ


**ðŸ”¸ CTASå«ä¹‰**
`CREATE TABLE AS SELECT`ï¼ˆç®€ç§°CTASï¼‰å°±åƒæ˜¯**"å¤å°æœº+å‰ªåˆ€"**çš„ç»„åˆæ“ä½œï¼š
- **å¤å°æœºåŠŸèƒ½**ï¼šå¤åˆ¶çŽ°æœ‰è¡¨çš„æ•°æ®
- **å‰ªåˆ€åŠŸèƒ½**ï¼šå¯ä»¥é€‰æ‹©éœ€è¦çš„éƒ¨åˆ†æ•°æ®  
- **é‡æ–°è£…è®¢**ï¼šåˆ›å»ºä¸€ä¸ªæ–°çš„è¡¨æ¥å­˜æ”¾

**ðŸ”¸ è¯­æ³•ç»“æž„**
```sql
CREATE TABLE new_table_name AS 
SELECT columns 
FROM existing_table 
WHERE conditions;
```

### 8.2 åŸºç¡€ä½¿ç”¨ç¤ºä¾‹


**ðŸ”§ ç®€å•æ•°æ®å¤åˆ¶**
```sql
-- å¤‡ä»½æ•´ä¸ªç”¨æˆ·è¡¨
CREATE TABLE users_backup AS 
SELECT * FROM users;

-- åªå¤åˆ¶æ´»è·ƒç”¨æˆ·
CREATE TABLE active_users AS
SELECT user_id, username, email, last_login_time
FROM users 
WHERE last_login_time > '2025-01-01';

-- åˆ›å»ºç»Ÿè®¡æ±‡æ€»è¡¨
CREATE TABLE monthly_stats AS
SELECT 
    DATE_FORMAT(created_at, '%Y-%m') as month,
    COUNT(*) as user_count,
    AVG(age) as avg_age
FROM users 
GROUP BY DATE_FORMAT(created_at, '%Y-%m');
```

### 8.3 é«˜çº§åº”ç”¨åœºæ™¯


**ðŸ”¥ æ•°æ®åˆ†æžä¸´æ—¶è¡¨**

```sql
-- åˆ›å»ºç”¨æˆ·æ¶ˆè´¹è¡Œä¸ºåˆ†æžè¡¨
CREATE TABLE user_spending_analysis AS
SELECT 
    u.user_id,
    u.username,
    COUNT(o.order_id) as total_orders,
    SUM(o.total_amount) as total_spending,
    AVG(o.total_amount) as avg_order_amount,
    MAX(o.created_at) as last_order_date,
    CASE 
        WHEN SUM(o.total_amount) > 10000 THEN 'VIP'
        WHEN SUM(o.total_amount) > 5000 THEN 'é«˜ä»·å€¼ç”¨æˆ·'
        WHEN SUM(o.total_amount) > 1000 THEN 'æ™®é€šç”¨æˆ·'
        ELSE 'æ–°ç”¨æˆ·'
    END as user_level
FROM users u
LEFT JOIN orders o ON u.user_id = o.user_id
WHERE u.created_at > '2024-01-01'
GROUP BY u.user_id, u.username;
```

**ðŸ”¥ åŽ†å²æ•°æ®å½’æ¡£**

```sql
-- å°†æ—§è®¢å•æ•°æ®å½’æ¡£åˆ°åŽ†å²è¡¨
CREATE TABLE orders_2024_archive AS
SELECT 
    order_id,
    user_id, 
    total_amount,
    status,
    created_at,
    '2024å¹´å½’æ¡£æ•°æ®' as archive_note
FROM orders
WHERE created_at >= '2024-01-01' 
  AND created_at < '2025-01-01'
  AND status IN (3, -1); -- å·²å®Œæˆæˆ–å·²å–æ¶ˆçš„è®¢å•
```

### 8.4 CTASæ³¨æ„äº‹é¡¹


**âš ï¸ é‡è¦é™åˆ¶è¯´æ˜Ž**

> **å…³é”®ç‚¹**ï¼šCTASåªå¤åˆ¶æ•°æ®å’ŒåŸºæœ¬å­—æ®µç±»åž‹ï¼Œä¸å¤åˆ¶çº¦æŸã€ç´¢å¼•ã€è§¦å‘å™¨

**ä¸ä¼šå¤åˆ¶çš„å†…å®¹**ï¼š
```
âŒ ä¸»é”®çº¦æŸ (PRIMARY KEY)
âŒ å¤–é”®çº¦æŸ (FOREIGN KEY)  
âŒ å”¯ä¸€çº¦æŸ (UNIQUE)
âŒ æ£€æŸ¥çº¦æŸ (CHECK)
âŒ ç´¢å¼• (INDEX)
âŒ è‡ªå¢žå±žæ€§ (AUTO_INCREMENT)
âŒ é»˜è®¤å€¼ (DEFAULT)
âŒ è§¦å‘å™¨ (TRIGGER)
```

**ðŸ’¡ å®Œæ•´å¤åˆ¶è§£å†³æ–¹æ¡ˆ**ï¼š
```sql
-- æ–¹æ¡ˆ1ï¼šå…ˆåˆ›å»ºç»“æž„ï¼Œå†æ’å…¥æ•°æ®
CREATE TABLE users_backup LIKE users;    -- å¤åˆ¶è¡¨ç»“æž„
INSERT INTO users_backup SELECT * FROM users; -- å¤åˆ¶æ•°æ®

-- æ–¹æ¡ˆ2ï¼šCTASåŽè¡¥å……çº¦æŸ
CREATE TABLE users_backup AS SELECT * FROM users;
ALTER TABLE users_backup ADD PRIMARY KEY (user_id);
ALTER TABLE users_backup ADD UNIQUE KEY (username);
```

### 8.5 æ€§èƒ½è€ƒè™‘


**ðŸš€ æ€§èƒ½ä¼˜åŒ–æŠ€å·§**

```sql
-- å¤§è¡¨CTASæ€§èƒ½ä¼˜åŒ–
CREATE TABLE large_table_backup AS
SELECT /*+ USE_INDEX(users, idx_created_at) */ 
    user_id, username, email
FROM users 
WHERE created_at > '2024-01-01'
ORDER BY user_id
LIMIT 1000000;

-- åˆ†æ‰¹å¤„ç†å¤§é‡æ•°æ®
CREATE TABLE batch_backup_1 AS
SELECT * FROM large_table WHERE id BETWEEN 1 AND 100000;

CREATE TABLE batch_backup_2 AS  
SELECT * FROM large_table WHERE id BETWEEN 100001 AND 200000;
```

**æ€§èƒ½å¯¹æ¯”**ï¼š
```
ç›´æŽ¥å¤åˆ¶vs CTASæ€§èƒ½å¯¹æ¯”ï¼š

æ’å…¥1000ä¸‡æ¡è®°å½•ï¼š
æ–¹å¼1ï¼šINSERT INTO ... SELECT ...
è€—æ—¶ï¼šçº¦45åˆ†é’Ÿ

æ–¹å¼2ï¼šCREATE TABLE AS SELECT
è€—æ—¶ï¼šçº¦25åˆ†é’Ÿ (å¿«çº¦80%)

åŽŸå› ï¼šCTASæ²¡æœ‰çº¦æŸæ£€æŸ¥å’Œç´¢å¼•ç»´æŠ¤å¼€é”€
```

---

## 9. ðŸ—ï¸ å®žé™…åº”ç”¨åœºæ™¯ä¸Žæœ€ä½³å®žè·µ


### 9.1 ç”µå•†ç³»ç»Ÿè¡¨è®¾è®¡å®žæˆ˜


**ðŸ”¥ å®Œæ•´ç”µå•†è¡¨è®¾è®¡ç¤ºä¾‹**

```sql
-- ç”¨æˆ·è´¦æˆ·è¡¨
CREATE TABLE IF NOT EXISTS users (
    user_id BIGINT AUTO_INCREMENT PRIMARY KEY COMMENT 'ç”¨æˆ·å”¯ä¸€æ ‡è¯†',
    username VARCHAR(50) NOT NULL UNIQUE COMMENT 'ç”¨æˆ·åï¼Œ3-50å­—ç¬¦ï¼Œå…¨å±€å”¯ä¸€',
    email VARCHAR(100) NOT NULL UNIQUE COMMENT 'é‚®ç®±åœ°å€ï¼Œç”¨äºŽç™»å½•å’Œé€šçŸ¥',
    password_hash VARCHAR(255) NOT NULL COMMENT 'å¯†ç å“ˆå¸Œå€¼ï¼ŒBCryptåŠ å¯†',
    phone CHAR(11) COMMENT 'æ‰‹æœºå·ç ï¼Œ11ä½æ•°å­—',
    status TINYINT DEFAULT 1 COMMENT 'è´¦æˆ·çŠ¶æ€ï¼š1=æ­£å¸¸ï¼Œ0=ç¦ç”¨ï¼Œ-1=åˆ é™¤',
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT 'æ³¨å†Œæ—¶é—´',
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'æœ€åŽæ›´æ–°æ—¶é—´'
) ENGINE=InnoDB 
  DEFAULT CHARSET=utf8mb4 
  COLLATE=utf8mb4_unicode_ci 
  COMMENT='ç”¨æˆ·è´¦æˆ·è¡¨ï¼Œå­˜å‚¨ç”¨æˆ·åŸºæœ¬è´¦æˆ·ä¿¡æ¯å’Œç™»å½•å‡­æ®';

-- å•†å“ä¿¡æ¯è¡¨  
CREATE TABLE IF NOT EXISTS products (
    product_id BIGINT AUTO_INCREMENT PRIMARY KEY COMMENT 'å•†å“å”¯ä¸€æ ‡è¯†',
    product_name VARCHAR(200) NOT NULL COMMENT 'å•†å“åç§°',
    category_id INT NOT NULL COMMENT 'å•†å“åˆ†ç±»IDï¼Œå…³è”categoriesè¡¨',
    price DECIMAL(10,2) NOT NULL COMMENT 'å•†å“ä»·æ ¼ï¼Œå•ä½ï¼šå…ƒ',
    stock_quantity INT DEFAULT 0 COMMENT 'åº“å­˜æ•°é‡ï¼Œ0è¡¨ç¤ºç¼ºè´§',
    description TEXT COMMENT 'å•†å“è¯¦ç»†æè¿°',
    images JSON COMMENT 'å•†å“å›¾ç‰‡URLsï¼ŒJSONæ•°ç»„æ ¼å¼',
    attributes JSON COMMENT 'å•†å“å±žæ€§ï¼Œå¦‚é¢œè‰²ã€å°ºå¯¸ç­‰',
    status TINYINT DEFAULT 1 COMMENT 'å•†å“çŠ¶æ€ï¼š1=ä¸Šæž¶ï¼Œ0=ä¸‹æž¶ï¼Œ2=åˆ é™¤',
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´',
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'æ›´æ–°æ—¶é—´'
) ENGINE=InnoDB 
  DEFAULT CHARSET=utf8mb4 
  COMMENT='å•†å“ä¿¡æ¯è¡¨ï¼Œå­˜å‚¨å•†å“åŸºæœ¬ä¿¡æ¯ã€ä»·æ ¼ã€åº“å­˜ç­‰';
```

### 9.2 æ•°æ®åˆ†æžåœºæ™¯åº”ç”¨


**ðŸ”¥ åˆ†æžåž‹ä¸´æ—¶è¡¨åˆ›å»º**

```sql
-- åˆ›å»ºç”¨æˆ·è¡Œä¸ºåˆ†æžä¸´æ—¶è¡¨
CREATE TEMPORARY TABLE user_behavior_temp AS
SELECT 
    u.user_id,
    u.username,
    u.created_at as register_date,
    COUNT(DISTINCT o.order_id) as total_orders,
    COALESCE(SUM(o.total_amount), 0) as total_spending,
    COUNT(DISTINCT DATE(o.created_at)) as active_days,
    DATEDIFF(CURDATE(), MAX(o.created_at)) as days_since_last_order
FROM users u
LEFT JOIN orders o ON u.user_id = o.user_id 
WHERE u.created_at >= '2024-01-01'
GROUP BY u.user_id, u.username, u.created_at;

-- åŸºäºŽä¸´æ—¶è¡¨è¿›è¡Œè¿›ä¸€æ­¥åˆ†æž
CREATE TABLE user_segments AS
SELECT 
    user_id,
    username,
    total_orders,
    total_spending,
    CASE 
        WHEN total_spending >= 10000 THEN 'VIPå®¢æˆ·'
        WHEN total_spending >= 5000 THEN 'é‡è¦å®¢æˆ·'  
        WHEN total_spending >= 1000 THEN 'æ™®é€šå®¢æˆ·'
        WHEN total_orders > 0 THEN 'æ½œåœ¨å®¢æˆ·'
        ELSE 'æ–°æ³¨å†Œç”¨æˆ·'
    END as user_segment,
    CASE
        WHEN days_since_last_order <= 30 THEN 'æ´»è·ƒ'
        WHEN days_since_last_order <= 90 THEN 'ä¸€èˆ¬'
        ELSE 'æµå¤±'
    END as activity_status
FROM user_behavior_temp;
```

### 9.3 å¼€å‘çŽ¯å¢ƒæœ€ä½³å®žè·µ


**ðŸ”§ å¼€å‘è§„èŒƒå»ºè®®**

**è¡¨åˆ›å»ºè„šæœ¬è§„èŒƒ**ï¼š
```sql
-- æ ‡å‡†çš„è¡¨åˆ›å»ºè„šæœ¬æ ¼å¼
-- æ–‡ä»¶ï¼šcreate_users_table.sql
-- ä½œè€…ï¼šå¼€å‘å›¢é˜Ÿ
-- æ—¶é—´ï¼š2025-01-20
-- è¯´æ˜Žï¼šç”¨æˆ·è´¦æˆ·è¡¨åˆ›å»ºè„šæœ¬

-- 1. å®‰å…¨åˆ é™¤çŽ°æœ‰è¡¨ï¼ˆå¼€å‘çŽ¯å¢ƒï¼‰
DROP TABLE IF EXISTS users;

-- 2. åˆ›å»ºæ–°è¡¨
CREATE TABLE users (
    -- ä¸»é”®å­—æ®µ
    user_id BIGINT AUTO_INCREMENT PRIMARY KEY COMMENT 'ç”¨æˆ·ID',
    
    -- åŸºæœ¬ä¿¡æ¯å­—æ®µ
    username VARCHAR(50) NOT NULL UNIQUE COMMENT 'ç”¨æˆ·å',
    email VARCHAR(100) NOT NULL UNIQUE COMMENT 'é‚®ç®±',
    
    -- å®‰å…¨ç›¸å…³å­—æ®µ
    password_hash VARCHAR(255) NOT NULL COMMENT 'å¯†ç å“ˆå¸Œ',
    salt VARCHAR(32) NOT NULL COMMENT 'å¯†ç ç›å€¼',
    
    -- çŠ¶æ€å­—æ®µ
    status TINYINT DEFAULT 1 COMMENT 'çŠ¶æ€ï¼š1=æ­£å¸¸ï¼Œ0=ç¦ç”¨',
    
    -- æ—¶é—´å­—æ®µ
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´',
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'æ›´æ–°æ—¶é—´'
    
) ENGINE=InnoDB 
  DEFAULT CHARSET=utf8mb4 
  COLLATE=utf8mb4_unicode_ci
  AUTO_INCREMENT=1001
  COMMENT='ç”¨æˆ·è´¦æˆ·è¡¨';

-- 3. åˆ›å»ºå¿…è¦çš„ç´¢å¼•
CREATE INDEX idx_users_email ON users(email);
CREATE INDEX idx_users_status ON users(status);
CREATE INDEX idx_users_created_at ON users(created_at);

-- 4. æ’å…¥æµ‹è¯•æ•°æ®ï¼ˆå¯é€‰ï¼‰
INSERT INTO users (username, email, password_hash, salt) VALUES
('admin', 'admin@example.com', 'hashed_password_1', 'salt_1'),
('testuser', 'test@example.com', 'hashed_password_2', 'salt_2');
```

**ðŸ“‹ å›¢é˜Ÿåä½œè§„èŒƒ**ï¼š
```
CREATE TABLEè„šæœ¬ç¼–å†™è§„èŒƒï¼š

æ–‡ä»¶å‘½åï¼š
âœ… create_table_users.sql
âœ… 001_create_users_table.sql
âŒ users.sql (å¤ªç®€å•)
âŒ create.sql (ä¸æ˜Žç¡®)

è„šæœ¬å†…å®¹ï¼š
âœ… åŒ…å«å®Œæ•´æ³¨é‡Šè¯´æ˜Ž
âœ… ä½¿ç”¨IF NOT EXISTSé˜²æ­¢é‡å¤
âœ… ç»Ÿä¸€çš„å­—æ®µå‘½åè§„èŒƒ
âœ… åˆç†çš„æ•°æ®ç±»åž‹é€‰æ‹©
âœ… å¿…è¦çš„ç´¢å¼•åˆ›å»º

ç‰ˆæœ¬æŽ§åˆ¶ï¼š
âœ… æ‰€æœ‰DDLè„šæœ¬çº³å…¥Gitç®¡ç†
âœ… æ•°æ®åº“å˜æ›´è®°å½•åœ¨changelogä¸­
âœ… ä¸åŒçŽ¯å¢ƒä½¿ç”¨ç›¸åŒçš„è„šæœ¬
```

---

## 10. ðŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 10.1 å¿…é¡»æŽŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ðŸ”¸ CREATE TABLEæœ¬è´¨ï¼šå®šä¹‰æ•°æ®å­˜å‚¨ç»“æž„çš„DDLè¯­å¥
ðŸ”¸ è¯­æ³•ç»„æˆï¼šè¡¨å + å­—æ®µå®šä¹‰ + çº¦æŸæ¡ä»¶ + è¡¨é€‰é¡¹
ðŸ”¸ æ•°æ®ç±»åž‹ï¼šæ ¹æ®æ•°æ®ç‰¹ç‚¹é€‰æ‹©åˆé€‚ç±»åž‹ï¼Œå½±å“å­˜å‚¨å’Œæ€§èƒ½
ðŸ”¸ å­˜å‚¨å¼•æ“Žï¼šå†³å®šè¡¨çš„å­˜å‚¨æ–¹å¼å’ŒåŠŸèƒ½ç‰¹æ€§
ðŸ”¸ è¡¨æ³¨é‡Šï¼šå›¢é˜Ÿåä½œçš„é‡è¦æ–‡æ¡£ï¼Œå¿…é¡»è¯¦ç»†å‡†ç¡®
ðŸ”¸ ä¸´æ—¶è¡¨ï¼šä¼šè¯çº§åˆ«çš„ä¸´æ—¶å­˜å‚¨ï¼Œç”¨å®Œè‡ªåŠ¨æ¸…ç†
ðŸ”¸ IF NOT EXISTSï¼šé˜²æ­¢é‡å¤åˆ›å»ºçš„å®‰å…¨è¯­æ³•
ðŸ”¸ AS SELECTï¼šåŸºäºŽæŸ¥è¯¢ç»“æžœåˆ›å»ºæ–°è¡¨çš„å¿«æ·æ–¹å¼
```

### 10.2 å…³é”®ç†è§£è¦ç‚¹


**ðŸ”¹ æ•°æ®ç±»åž‹é€‰æ‹©çš„é‡è¦æ€§**
```
å½±å“å› ç´ ï¼š
- å­˜å‚¨ç©ºé—´ï¼šç›´æŽ¥å½±å“æ•°æ®åº“æ–‡ä»¶å¤§å°
- æŸ¥è¯¢æ€§èƒ½ï¼šæ•°æ®ç±»åž‹å½±å“ç´¢å¼•æ•ˆçŽ‡
- åº”ç”¨å…¼å®¹ï¼šæŸäº›è¯­è¨€å¯¹ç‰¹å®šç±»åž‹æ”¯æŒæ›´å¥½
- åŽæœŸç»´æŠ¤ï¼šç±»åž‹å˜æ›´æˆæœ¬æžé«˜

é€‰æ‹©åŽŸåˆ™ï¼š
- å¤Ÿç”¨å°±å¥½ï¼šä¸è¦é€‰æ‹©è¿‡å¤§çš„ç±»åž‹
- é¢„ç•™ç©ºé—´ï¼šé€‚å½“é¢„ç•™æœªæ¥æ‰©å±•ç©ºé—´  
- ä¸šåŠ¡åŒ¹é…ï¼šç±»åž‹è¦ç¬¦åˆä¸šåŠ¡é€»è¾‘
- æ€§èƒ½è€ƒè™‘ï¼šé«˜é¢‘æŸ¥è¯¢å­—æ®µä¼˜å…ˆè€ƒè™‘æ€§èƒ½
```

**ðŸ”¹ å­˜å‚¨å¼•æ“Žé€‰æ‹©ç­–ç•¥**
```
InnoDBé€‚åˆï¼š
âœ… ç”µå•†è®¢å•ç³»ç»Ÿï¼ˆéœ€è¦äº‹åŠ¡ï¼‰
âœ… ç”¨æˆ·ç®¡ç†ç³»ç»Ÿï¼ˆéœ€è¦å¤–é”®ï¼‰
âœ… è´¢åŠ¡ç³»ç»Ÿï¼ˆæ•°æ®å®‰å…¨ç¬¬ä¸€ï¼‰
âœ… é«˜å¹¶å‘åº”ç”¨ï¼ˆè¡Œçº§é”å®šï¼‰

MyISAMé€‚åˆï¼š
âœ… æ•°æ®ä»“åº“ï¼ˆè¯»å¤šå†™å°‘ï¼‰
âœ… æ—¥å¿—ç³»ç»Ÿï¼ˆæ‰¹é‡æ’å…¥ï¼‰
âœ… é™æ€æ•°æ®ï¼ˆå¾ˆå°‘ä¿®æ”¹ï¼‰
âœ… å…¨æ–‡æœç´¢ï¼ˆå…¨æ–‡ç´¢å¼•ä¼˜åŠ¿ï¼‰
```

**ðŸ”¹ æ³¨é‡Šçš„ä»·å€¼ä½“çŽ°**
```
çŸ­æœŸä»·å€¼ï¼š
- å¸®åŠ©å›¢é˜Ÿæˆå‘˜ç†è§£è¡¨ç»“æž„
- å‡å°‘æ²Ÿé€šæˆæœ¬å’Œè¯¯è§£
- æé«˜ä»£ç å®¡æŸ¥æ•ˆçŽ‡

é•¿æœŸä»·å€¼ï¼š
- ç³»ç»Ÿç»´æŠ¤çš„é‡è¦å‚è€ƒ
- æ–°äººå¿«é€Ÿä¸Šæ‰‹çš„æŒ‡å—
- ä¸šåŠ¡é€»è¾‘çš„æ–‡æ¡£è®°å½•
- æ•°æ®åº“è®¾è®¡å†³ç­–çš„è¿½æº¯
```

### 10.3 å®žé™…åº”ç”¨æŒ‡å¯¼


**ðŸ’¡ å¼€å‘é˜¶æ®µåº”ç”¨**
- **åŽŸåž‹è®¾è®¡**ï¼šå¿«é€Ÿåˆ›å»ºè¡¨ç»“æž„éªŒè¯æƒ³æ³•
- **æµ‹è¯•æ•°æ®å‡†å¤‡**ï¼šä½¿ç”¨CTASåˆ›å»ºæµ‹è¯•æ•°æ®è¡¨
- **åŠŸèƒ½å¼€å‘**ï¼šæ ¹æ®ä¸šåŠ¡éœ€æ±‚è®¾è®¡åˆé€‚çš„è¡¨ç»“æž„

**ðŸ”§ ç”Ÿäº§çŽ¯å¢ƒåº”ç”¨**  
- **æ•°æ®å¤‡ä»½**ï¼šä½¿ç”¨CTASå¿«é€Ÿå¤‡ä»½é‡è¦æ•°æ®
- **æŠ¥è¡¨ç”Ÿæˆ**ï¼šåˆ›å»ºæ±‡æ€»åˆ†æžè¡¨
- **æ•°æ®å½’æ¡£**ï¼šå°†åŽ†å²æ•°æ®è¿ç§»åˆ°å½’æ¡£è¡¨
- **æ€§èƒ½ä¼˜åŒ–**ï¼šé€šè¿‡è¡¨ç»“æž„è°ƒæ•´æå‡æŸ¥è¯¢æ•ˆçŽ‡

**ðŸŽ¯ è¿ç»´ç®¡ç†åº”ç”¨**
- **ç›‘æŽ§æŠ¥è¡¨**ï¼šåˆ›å»ºç³»ç»Ÿç›‘æŽ§æ•°æ®æ±‡æ€»è¡¨
- **æ•…éšœåˆ†æž**ï¼šå¿«é€Ÿåˆ›å»ºé—®é¢˜æ•°æ®çš„åˆ†æžè¡¨
- **å®¹é‡è§„åˆ’**ï¼šç»Ÿè®¡åˆ†æžè¡¨ç©ºé—´ä½¿ç”¨æƒ…å†µ

**æ ¸å¿ƒè®°å¿†è¦ç‚¹**ï¼š
- CREATE TABLEæ˜¯æ•°æ®åº“è®¾è®¡çš„åŸºç¡€ï¼Œå­—æ®µç±»åž‹å’Œçº¦æŸçš„é€‰æ‹©ç›´æŽ¥å½±å“ç³»ç»Ÿæ€§èƒ½
- å­˜å‚¨å¼•æ“Žçš„é€‰æ‹©è¦æ ¹æ®ä¸šåŠ¡ç‰¹ç‚¹ï¼šäº‹åŠ¡éœ€æ±‚é€‰InnoDBï¼Œè¯»å–æ€§èƒ½é€‰MyISAM
- æ³¨é‡Šæ˜¯å›¢é˜Ÿåä½œçš„å…³é”®ï¼Œè¯¦ç»†çš„æ³¨é‡Šèƒ½å¤§å¤§é™ä½Žç»´æŠ¤æˆæœ¬
- IF NOT EXISTSå’ŒAS SELECTæ˜¯æé«˜å¼€å‘æ•ˆçŽ‡çš„å®žç”¨è¯­æ³•æŠ€å·§