---
title: 20ã€MySQLç´¢å¼•ç‰ˆæœ¬å…¼å®¹æ€§
---
## ğŸ“š ç›®å½•

1. [MySQLç‰ˆæœ¬ç´¢å¼•å·®å¼‚æ¦‚è¿°](#1-MySQLç‰ˆæœ¬ç´¢å¼•å·®å¼‚æ¦‚è¿°)
2. [ä¸»è¦ç‰ˆæœ¬ç´¢å¼•æ ¼å¼å˜æ›´](#2-ä¸»è¦ç‰ˆæœ¬ç´¢å¼•æ ¼å¼å˜æ›´)
3. [ç‰ˆæœ¬å‡çº§ç´¢å¼•è¿ç§»ç­–ç•¥](#3-ç‰ˆæœ¬å‡çº§ç´¢å¼•è¿ç§»ç­–ç•¥)
4. [å…¼å®¹æ€§æ£€æŸ¥å·¥å…·åº”ç”¨](#4-å…¼å®¹æ€§æ£€æŸ¥å·¥å…·åº”ç”¨)
5. [ç´¢å¼•æ ¼å¼è½¬æ¢å®è·µ](#5-ç´¢å¼•æ ¼å¼è½¬æ¢å®è·µ)
6. [å‘åå…¼å®¹æ€§ä¿è¯æœºåˆ¶](#6-å‘åå…¼å®¹æ€§ä¿è¯æœºåˆ¶)
7. [è‡ªåŠ¨åŒ–è¿ç§»å·¥å…·](#7-è‡ªåŠ¨åŒ–è¿ç§»å·¥å…·)
8. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#8-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ”„ MySQLç‰ˆæœ¬ç´¢å¼•å·®å¼‚æ¦‚è¿°


### 1.1 ä¸ºä»€ä¹ˆä¼šæœ‰ç´¢å¼•å…¼å®¹æ€§é—®é¢˜


**ğŸ”¸ ç´¢å¼•å…¼å®¹æ€§é—®é¢˜çš„æœ¬è´¨**
```
MySQLç‰ˆæœ¬æ¼”è¿›è¿‡ç¨‹ä¸­çš„å˜åŒ–ï¼š
â€¢ å­˜å‚¨å¼•æ“æ”¹è¿›ï¼šInnoDBä¸æ–­ä¼˜åŒ–ç´¢å¼•ç»“æ„
â€¢ æ•°æ®ç±»å‹æ‰©å±•ï¼šæ–°ç‰ˆæœ¬æ”¯æŒæ›´å¤šæ•°æ®ç±»å‹
â€¢ æ€§èƒ½ä¼˜åŒ–ï¼šç´¢å¼•ç®—æ³•å’Œå­˜å‚¨æ ¼å¼å‡çº§
â€¢ åŠŸèƒ½å¢å¼ºï¼šæ–°çš„ç´¢å¼•ç‰¹æ€§å’Œçº¦æŸ

å®é™…å½±å“ï¼š
è€ç‰ˆæœ¬çš„ç´¢å¼•æ–‡ä»¶å¯èƒ½æ— æ³•åœ¨æ–°ç‰ˆæœ¬ç›´æ¥ä½¿ç”¨
æ–°ç‰ˆæœ¬åˆ›å»ºçš„ç´¢å¼•åœ¨è€ç‰ˆæœ¬ä¸­æ— æ³•è¯†åˆ«
å‡çº§è¿‡ç¨‹ä¸­å¯èƒ½éœ€è¦é‡å»ºç´¢å¼•
```

**ğŸ’¡ å¸¸è§å…¼å®¹æ€§åœºæ™¯**
```
å…¸å‹åœºæ™¯ï¼š
MySQL 5.7 â†’ MySQL 8.0 å‡çº§
â€¢ æŸäº›ç´¢å¼•æ ¼å¼ä¸å…¼å®¹
â€¢ éœ€è¦é‡æ–°åˆ›å»ºæˆ–è½¬æ¢

å¼€å‘ç¯å¢ƒ vs ç”Ÿäº§ç¯å¢ƒï¼š
â€¢ å¼€å‘ç”¨MySQL 8.0
â€¢ ç”Ÿäº§è¿˜åœ¨ç”¨MySQL 5.7
â€¢ ç´¢å¼•DDLè¯­å¥å¯èƒ½ä¸å…¼å®¹
```

### 1.2 ç´¢å¼•å…¼å®¹æ€§å½±å“èŒƒå›´


**ğŸ“Š å½±å“å±‚é¢åˆ†æ**
```
æ•°æ®æ–‡ä»¶å±‚é¢ï¼š
â€¢ .frmæ–‡ä»¶æ ¼å¼å˜æ›´
â€¢ .ibdæ–‡ä»¶å†…éƒ¨ç»“æ„è°ƒæ•´
â€¢ ç´¢å¼•é¡µé¢æ ¼å¼ä¼˜åŒ–

SQLè¯­æ³•å±‚é¢ï¼š  
â€¢ æ–°å¢ç´¢å¼•ç±»å‹è¯­æ³•
â€¢ ç´¢å¼•é€‰é¡¹å‚æ•°å˜åŒ–
â€¢ çº¦æŸå®šä¹‰æ–¹å¼è°ƒæ•´

æ€§èƒ½å±‚é¢ï¼š
â€¢ ç´¢å¼•ç®—æ³•ä¼˜åŒ–
â€¢ ç»Ÿè®¡ä¿¡æ¯æ”¶é›†æ–¹å¼å˜åŒ–
â€¢ æŸ¥è¯¢ä¼˜åŒ–å™¨æ”¹è¿›
```

**âš ï¸ å…¼å®¹æ€§é£é™©è¯„ä¼°**

| é£é™©ç±»å‹ | **å½±å“ç¨‹åº¦** | **è§£å†³éš¾åº¦** | **ä¸šåŠ¡å½±å“** | **å¤„ç†ä¼˜å…ˆçº§** |
|---------|-------------|-------------|-------------|-------------|
| **ç´¢å¼•è¯­æ³•ä¸å…¼å®¹** | `ä¸­` | `ä½` | `å¼€å‘é˜¶æ®µå½±å“` | `ğŸŸ¡ ä¸­` |
| **ç´¢å¼•æ–‡ä»¶æ ¼å¼å˜æ›´** | `é«˜` | `é«˜` | `å‡çº§æ—¶å½±å“` | `ğŸ”´ é«˜` |
| **æ€§èƒ½å·®å¼‚** | `ä¸­` | `ä¸­` | `è¿è¡Œæ—¶å½±å“` | `ğŸŸ¡ ä¸­` |
| **æ–°ç‰¹æ€§ä¾èµ–** | `ä½` | `ä½` | `åŠŸèƒ½å—é™` | `ğŸŸ¢ ä½` |

---

## 2. ğŸ”§ ä¸»è¦ç‰ˆæœ¬ç´¢å¼•æ ¼å¼å˜æ›´


### 2.1 MySQL 5.7 vs 8.0 å…³é”®å·®å¼‚


**ğŸ”¸ é‡å¤§ç´¢å¼•å˜æ›´ç‚¹**
```
MySQL 8.0çš„ä¸»è¦å˜æ›´ï¼š

1. éšè—ç´¢å¼•åŠŸèƒ½
MySQL 8.0æ–°å¢ï¼š
ALTER TABLE users ADD INDEX idx_name (name) INVISIBLE;
MySQL 5.7ä¸æ”¯æŒï¼šè¯­æ³•é”™è¯¯

2. é™åºç´¢å¼•çœŸæ­£æ”¯æŒ
MySQL 8.0ï¼š
CREATE INDEX idx_order ON orders (order_date DESC, amount ASC);
MySQL 5.7ï¼šè¯­æ³•æ”¯æŒä½†å†…éƒ¨ä»æ˜¯å‡åºå­˜å‚¨

3. å‡½æ•°ç´¢å¼•æ”¯æŒ
MySQL 8.0ï¼š
CREATE INDEX idx_func ON users ((UPPER(email)));
MySQL 5.7ï¼šä¸æ”¯æŒå‡½æ•°ç´¢å¼•

4. è¡¨ç©ºé—´å˜æ›´
MySQL 8.0ï¼šä½¿ç”¨.ibdæ–‡ä»¶
MySQL 5.7ï¼š.frm + .ibdæ–‡ä»¶ç»„åˆ
```

**ğŸ”§ ç‰ˆæœ¬å·®å¼‚æ£€æµ‹æŸ¥è¯¢**
```sql
-- æ£€æŸ¥å½“å‰MySQLç‰ˆæœ¬
SELECT 
    VERSION() as mysql_version,
    CASE 
        WHEN VERSION() LIKE '8.%' THEN 'âœ… MySQL 8.0 - æ”¯æŒæ‰€æœ‰æ–°ç‰¹æ€§'
        WHEN VERSION() LIKE '5.7.%' THEN 'âš ï¸ MySQL 5.7 - éƒ¨åˆ†ç‰¹æ€§å—é™'
        WHEN VERSION() LIKE '5.6.%' THEN 'ğŸ”´ MySQL 5.6 - å»ºè®®å‡çº§'
        ELSE 'â“ å…¶ä»–ç‰ˆæœ¬'
    END as version_status;

-- æ£€æŸ¥ç´¢å¼•æ”¯æŒçš„ç‰¹æ€§
SELECT 
    'éšè—ç´¢å¼•æ”¯æŒ' as feature,
    CASE WHEN VERSION() >= '8.0.0' THEN 'âœ… æ”¯æŒ' ELSE 'âŒ ä¸æ”¯æŒ' END as support_status
UNION ALL
SELECT 
    'å‡½æ•°ç´¢å¼•æ”¯æŒ',
    CASE WHEN VERSION() >= '8.0.13' THEN 'âœ… æ”¯æŒ' ELSE 'âŒ ä¸æ”¯æŒ' END
UNION ALL
SELECT 
    'é™åºç´¢å¼•æ”¯æŒ',
    CASE WHEN VERSION() >= '8.0.0' THEN 'âœ… çœŸæ­£æ”¯æŒ' ELSE 'âš ï¸ è¯­æ³•æ”¯æŒä½†æ— æ•ˆæœ' END
UNION ALL
SELECT 
    'JSONç´¢å¼•æ”¯æŒ',
    CASE WHEN VERSION() >= '5.7.8' THEN 'âœ… æ”¯æŒ' ELSE 'âŒ ä¸æ”¯æŒ' END;
```

### 2.2 å­˜å‚¨æ ¼å¼å˜æ›´è¯¦è§£


**ğŸ“ æ•°æ®å­—å…¸å˜æ›´å½±å“**
```
MySQL 8.0é‡å¤§å˜æ›´ï¼š
â€¢ ç§»é™¤.frmæ–‡ä»¶ï¼šè¡¨å®šä¹‰å­˜å‚¨åœ¨æ•°æ®å­—å…¸ä¸­
â€¢ ç»Ÿä¸€.ibdæ ¼å¼ï¼šæ‰€æœ‰è¡¨æ•°æ®å­˜å‚¨æ ¼å¼ç»Ÿä¸€
â€¢ åŸå­DDLï¼šç´¢å¼•åˆ›å»ºå˜æˆåŸå­æ“ä½œ

æ–‡ä»¶ç»“æ„å¯¹æ¯”ï¼š
MySQL 5.7:                MySQL 8.0:
table.frm (è¡¨ç»“æ„)    â†’    æ•°æ®å­—å…¸ (ç³»ç»Ÿè¡¨)
table.ibd (æ•°æ®+ç´¢å¼•) â†’    table.ibd (æ•°æ®+ç´¢å¼•)
```

**ğŸ”§ æ£€æŸ¥ç´¢å¼•æ ¼å¼å…¼å®¹æ€§**
```sql
-- æŸ¥çœ‹è¡¨çš„ç´¢å¼•å­˜å‚¨ä¿¡æ¯
SELECT 
    table_schema,
    table_name,
    engine,
    version,
    table_collation,
    create_options
FROM information_schema.tables
WHERE table_schema NOT IN ('information_schema', 'mysql', 'performance_schema', 'sys')
  AND engine = 'InnoDB'
ORDER BY table_schema, table_name;

-- æŸ¥çœ‹ç´¢å¼•çš„è¯¦ç»†ä¿¡æ¯
SELECT 
    table_schema,
    table_name, 
    index_name,
    index_type,
    is_visible,  -- MySQL 8.0 æ–°å¢å­—æ®µ
    CASE 
        WHEN is_visible IS NULL THEN 'âš ï¸ MySQL 5.7æ ¼å¼'
        WHEN is_visible = 'YES' THEN 'âœ… å¯è§ç´¢å¼•'
        ELSE 'ğŸ” éšè—ç´¢å¼•'
    END as index_status
FROM information_schema.statistics
WHERE table_schema = 'your_database'
GROUP BY table_schema, table_name, index_name, index_type, is_visible
ORDER BY table_name, index_name;
```

---

## 3. ğŸš€ ç‰ˆæœ¬å‡çº§ç´¢å¼•è¿ç§»ç­–ç•¥


### 3.1 å‡çº§å‰å‡†å¤‡å·¥ä½œ


**ğŸ“‹ å‡çº§å‰ç´¢å¼•æ£€æŸ¥æ¸…å•**
```sql
-- 1. æ£€æŸ¥å½“å‰ç´¢å¼•çŠ¶æ€
SELECT 
    'ç´¢å¼•æ€»æ•°' as check_item,
    COUNT(*) as count_value,
    'è®°å½•å½“å‰ç´¢å¼•æ•°é‡' as description
FROM information_schema.statistics
WHERE table_schema NOT IN ('information_schema', 'mysql', 'performance_schema', 'sys')
UNION ALL

-- 2. æ£€æŸ¥å¯èƒ½æœ‰é—®é¢˜çš„ç´¢å¼•
SELECT 
    'é•¿åº¦è¿‡é•¿çš„ç´¢å¼•',
    COUNT(*),
    'è¶…è¿‡767å­—èŠ‚çš„ç´¢å¼•åœ¨å‡çº§æ—¶å¯èƒ½æœ‰é—®é¢˜'
FROM information_schema.statistics s
JOIN information_schema.columns c ON s.table_schema = c.table_schema 
    AND s.table_name = c.table_name 
    AND s.column_name = c.column_name
WHERE c.character_maximum_length * 4 > 767  -- UTF8MB4å­—ç¬¦é›†
UNION ALL

-- 3. æ£€æŸ¥å¤–é”®çº¦æŸ
SELECT 
    'å¤–é”®çº¦æŸæ•°',
    COUNT(*),
    'å¤–é”®çº¦æŸå¯èƒ½å½±å“ç´¢å¼•å‡çº§'
FROM information_schema.KEY_COLUMN_USAGE
WHERE referenced_table_name IS NOT NULL;
```

### 3.2 å‡çº§ç­–ç•¥åˆ¶å®š


**ğŸ¯ ä¸‰ç§å‡çº§ç­–ç•¥å¯¹æ¯”**

| å‡çº§ç­–ç•¥ | **åœæœºæ—¶é—´** | **æ•°æ®å®‰å…¨æ€§** | **å›æ»šéš¾åº¦** | **é€‚ç”¨åœºæ™¯** |
|---------|-------------|-------------|-------------|-------------|
| **åŸåœ°å‡çº§** | `çŸ­` | `ä¸­` | `å›°éš¾` | `å¼€å‘æµ‹è¯•ç¯å¢ƒ` |
| **å¯¼å‡ºå¯¼å…¥** | `é•¿` | `é«˜` | `å®¹æ˜“` | `æ•°æ®é‡è¾ƒå°` |
| **ä¸»ä»åˆ‡æ¢** | `å¾ˆçŸ­` | `é«˜` | `å®¹æ˜“` | `ç”Ÿäº§ç¯å¢ƒæ¨è` |

**ğŸ”§ åŸåœ°å‡çº§æ–¹æ¡ˆ**
```bash
#!/bin/bash
# mysql_inplace_upgrade.sh

# å‡çº§å‰å¤‡ä»½
mysqldump --all-databases --routines --triggers > backup_before_upgrade.sql

# æ£€æŸ¥ç´¢å¼•å…¼å®¹æ€§
mysql -e "
-- æ£€æŸ¥å¯èƒ½æœ‰é—®é¢˜çš„ç´¢å¼•
SELECT 
    CONCAT(table_schema, '.', table_name) as table_full_name,
    index_name,
    GROUP_CONCAT(column_name ORDER BY seq_in_index) as index_columns,
    index_type,
    'éœ€è¦é‡å»º' as action
FROM information_schema.statistics
WHERE table_schema NOT IN ('information_schema', 'mysql', 'performance_schema', 'sys')
  AND index_type = 'BTREE'
  AND (cardinality = 0 OR cardinality IS NULL)
GROUP BY table_schema, table_name, index_name
" > indexes_to_rebuild.txt

# åœæ­¢MySQL
systemctl stop mysql

# å‡çº§MySQLè½¯ä»¶åŒ…
yum update mysql-server  # æˆ– apt upgrade mysql-server

# å¯åŠ¨MySQLå¹¶è¿è¡Œå‡çº§
systemctl start mysql
mysql_upgrade --force
systemctl restart mysql

echo "å‡çº§å®Œæˆï¼Œè¯·æ£€æŸ¥ç´¢å¼•çŠ¶æ€"
```

### 3.3 ä¸»ä»åˆ‡æ¢å‡çº§æ–¹æ¡ˆ


**ğŸ”§ é›¶åœæœºå‡çº§æµç¨‹**
```
å‡çº§æµç¨‹å›¾ï¼š
ä¸»åº“(5.7) â†â†’ ä»åº“(5.7)
    â†“           â†“
ä¸»åº“(5.7) â†â†’ ä»åº“(8.0) â† å‡çº§ä»åº“
    â†“           â†“
ä¸»åº“(5.7) â†   ä»åº“(8.0) â† åœæ­¢å¤åˆ¶ï¼Œæ£€æŸ¥
    â†“           â†“
  åˆ‡æ¢è§’è‰²      ä¸»åº“(8.0) â† ä»åº“æå‡ä¸ºä¸»åº“
    â†“           â†“
ä»åº“(8.0) â†â†’ ä¸»åº“(8.0) â† åŸä¸»åº“ä½œä¸ºä»åº“
```

**ğŸ”§ åˆ‡æ¢å‡çº§è„šæœ¬**
```bash
#!/bin/bash
# master_slave_upgrade.sh

# Step 1: å‡çº§ä»åº“
echo "=== Step 1: å‡çº§ä»åº“åˆ°MySQL 8.0 ==="

# åœ¨ä»åº“æ‰§è¡Œ
SLAVE_HOST="192.168.1.101"
ssh root@${SLAVE_HOST} "
    # åœæ­¢ä»åº“å¤åˆ¶
    mysql -e 'STOP SLAVE;'
    
    # å¤‡ä»½ä»åº“
    mysqldump --all-databases > backup_slave_before_upgrade.sql
    
    # å‡çº§MySQL
    systemctl stop mysql
    yum update mysql-server
    systemctl start mysql
    mysql_upgrade --force
    systemctl restart mysql
    
    echo 'ä»åº“å‡çº§å®Œæˆ'
"

# Step 2: æ£€æŸ¥å‡çº§åçš„ç´¢å¼•å…¼å®¹æ€§
ssh root@${SLAVE_HOST} "
    mysql -e \"
        SELECT 'ç´¢å¼•å…¼å®¹æ€§æ£€æŸ¥' as check_type;
        SELECT COUNT(*) as total_indexes 
        FROM information_schema.statistics 
        WHERE table_schema NOT IN ('information_schema', 'mysql', 'performance_schema', 'sys');
    \"
"

# Step 3: ä¸»ä»åˆ‡æ¢ï¼ˆéœ€è¦çŸ­æš‚åœæœºï¼‰
echo "=== Step 3: æ‰§è¡Œä¸»ä»åˆ‡æ¢ ==="

# åœæ­¢åº”ç”¨å†™å…¥ï¼ˆä¸šåŠ¡é€»è¾‘ï¼‰
echo "è¯·ç¡®è®¤å·²åœæ­¢åº”ç”¨å†™å…¥ï¼ŒæŒ‰å›è½¦ç»§ç»­..."
read

# åœ¨åŸä¸»åº“æ‰§è¡Œ
mysql -e "FLUSH TABLES WITH READ LOCK;"

# è®°å½•ä¸»åº“ä½ç½®
MASTER_STATUS=$(mysql -e "SHOW MASTER STATUS\G" | grep -E "File|Position")

# åœ¨ä»åº“æ‰§è¡Œåˆ‡æ¢
ssh root@${SLAVE_HOST} "
    mysql -e \"
        START SLAVE UNTIL MASTER_LOG_FILE='${MASTER_LOG_FILE}', MASTER_LOG_POS=${MASTER_LOG_POS};
        -- ç­‰å¾…åŒæ­¥å®Œæˆ
        -- åœæ­¢ä»åº“ï¼Œå‡†å¤‡æˆä¸ºä¸»åº“
        STOP SLAVE;
        RESET SLAVE ALL;
        UNLOCK TABLES;
    \"
"

echo "ä¸»ä»åˆ‡æ¢å®Œæˆï¼Œæ–°ä¸»åº“(MySQL 8.0)å·²å°±ç»ª"
```

---

## 4. ğŸ” å…¼å®¹æ€§æ£€æŸ¥å·¥å…·åº”ç”¨


### 4.1 MySQLå®˜æ–¹æ£€æŸ¥å·¥å…·


**ğŸ”§ mysql_upgradeå·¥å…·ä½¿ç”¨**
```bash
# MySQLå‡çº§æ£€æŸ¥å·¥å…·
mysql_upgrade --version-check --verbose

# å®Œæ•´å‡çº§æ£€æŸ¥
mysql_upgrade --check --verbose > upgrade_check_report.txt

# å¼ºåˆ¶å‡çº§ï¼ˆæ…ç”¨ï¼‰
mysql_upgrade --force --verbose

# åªæ£€æŸ¥ä¸æ‰§è¡Œ
mysql_upgrade --check-only --verbose
```

**ğŸ“‹ æ£€æŸ¥æŠ¥å‘Šè§£è¯»**
```bash
# å…¸å‹æ£€æŸ¥è¾“å‡º
Checking if update is needed.
Checking server version.
Running queries to upgrade MySQL server.
Checking system database.
mysql.columns_priv                                 OK
mysql.db                                           OK
mysql.engine_cost                                  OK

# é—®é¢˜ç¤ºä¾‹è¾“å‡º
mydb.large_table
  error    : Table upgrade required. Please do "REPAIR TABLE `large_table`" or dump/reload to fix it!
  
# è§£å†³æ–¹æ¡ˆ
REPAIR TABLE mydb.large_table;
-- æˆ–è€…
ALTER TABLE mydb.large_table ENGINE=InnoDB;
```

### 4.2 è‡ªå®šä¹‰å…¼å®¹æ€§æ£€æŸ¥


**ğŸ”§ ç´¢å¼•å…¼å®¹æ€§æ£€æŸ¥è„šæœ¬**
```sql
-- åˆ›å»ºå…¼å®¹æ€§æ£€æŸ¥å­˜å‚¨è¿‡ç¨‹
DELIMITER //
CREATE PROCEDURE CheckIndexCompatibility()
BEGIN
    -- æ£€æŸ¥å¯èƒ½æœ‰å…¼å®¹æ€§é—®é¢˜çš„ç´¢å¼•
    SELECT 
        '=== ç´¢å¼•å…¼å®¹æ€§æ£€æŸ¥æŠ¥å‘Š ===' as report_section,
        '' as table_name,
        '' as index_name,
        '' as issue_type,
        '' as recommendation;
    
    -- æ£€æŸ¥è¿‡é•¿çš„ç´¢å¼•é”®
    SELECT 
        'é”®é•¿åº¦æ£€æŸ¥',
        CONCAT(table_schema, '.', table_name),
        index_name,
        CASE 
            WHEN SUM(IFNULL(character_maximum_length, 4)) * 4 > 3072 THEN 'âš ï¸ ç´¢å¼•é”®è¿‡é•¿'
            ELSE 'âœ… é•¿åº¦æ­£å¸¸'
        END,
        CASE 
            WHEN SUM(IFNULL(character_maximum_length, 4)) * 4 > 3072 THEN 'å»ºè®®æ‹†åˆ†æˆ–ä½¿ç”¨å‰ç¼€ç´¢å¼•'
            ELSE 'æ— éœ€å¤„ç†'
        END
    FROM information_schema.statistics s
    LEFT JOIN information_schema.columns c ON 
        s.table_schema = c.table_schema AND 
        s.table_name = c.table_name AND 
        s.column_name = c.column_name
    WHERE s.table_schema NOT IN ('information_schema', 'mysql', 'performance_schema', 'sys')
    GROUP BY s.table_schema, s.table_name, s.index_name
    HAVING SUM(IFNULL(character_maximum_length, 4)) * 4 > 767;  -- æ£€æŸ¥å¯èƒ½æœ‰é—®é¢˜çš„ç´¢å¼•
    
    -- æ£€æŸ¥ç‰¹æ®Šå­—ç¬¦é›†ç´¢å¼•
    SELECT 
        'å­—ç¬¦é›†æ£€æŸ¥',
        CONCAT(table_schema, '.', table_name),
        index_name,
        CASE 
            WHEN table_collation LIKE '%utf8mb4%' THEN 'âœ… UTF8MB4å…¼å®¹'
            WHEN table_collation LIKE '%utf8%' THEN 'âš ï¸ UTF8å­—ç¬¦é›†'
            ELSE 'ğŸ”´ å…¶ä»–å­—ç¬¦é›†'
        END,
        CASE 
            WHEN table_collation NOT LIKE '%utf8mb4%' THEN 'å»ºè®®è½¬æ¢ä¸ºUTF8MB4'
            ELSE 'æ— éœ€å¤„ç†'
        END
    FROM information_schema.statistics s
    JOIN information_schema.tables t ON 
        s.table_schema = t.table_schema AND s.table_name = t.table_name
    WHERE s.table_schema NOT IN ('information_schema', 'mysql', 'performance_schema', 'sys')
    GROUP BY s.table_schema, s.table_name, s.index_name, t.table_collation;

END //
DELIMITER ;

-- æ‰§è¡Œæ£€æŸ¥
CALL CheckIndexCompatibility();
```

### 4.3 å…¼å®¹æ€§æµ‹è¯•æ¡†æ¶


**ğŸ§ª ç´¢å¼•å…¼å®¹æ€§æµ‹è¯•**
```sql
-- åˆ›å»ºæµ‹è¯•ç”¨ä¾‹è¡¨
CREATE TABLE index_compatibility_test (
    id INT AUTO_INCREMENT PRIMARY KEY,
    test_name VARCHAR(100),
    mysql_version VARCHAR(20),
    sql_statement TEXT,
    execution_result ENUM('SUCCESS', 'ERROR', 'WARNING'),
    error_message TEXT,
    execution_time TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- æµ‹è¯•ç”¨ä¾‹1ï¼šéšè—ç´¢å¼•
INSERT INTO index_compatibility_test (test_name, mysql_version, sql_statement)
VALUES ('éšè—ç´¢å¼•æµ‹è¯•', VERSION(), 'CREATE INDEX idx_hidden ON test_table (name) INVISIBLE');

-- æµ‹è¯•ç”¨ä¾‹2ï¼šå‡½æ•°ç´¢å¼•
INSERT INTO index_compatibility_test (test_name, mysql_version, sql_statement)  
VALUES ('å‡½æ•°ç´¢å¼•æµ‹è¯•', VERSION(), 'CREATE INDEX idx_func ON test_table ((UPPER(email)))');

-- æµ‹è¯•ç”¨ä¾‹3ï¼šé™åºç´¢å¼•
INSERT INTO index_compatibility_test (test_name, mysql_version, sql_statement)
VALUES ('é™åºç´¢å¼•æµ‹è¯•', VERSION(), 'CREATE INDEX idx_desc ON test_table (created_at DESC)');

-- æ‰§è¡Œæµ‹è¯•å¹¶è®°å½•ç»“æœ
UPDATE index_compatibility_test 
SET execution_result = 'SUCCESS' 
WHERE id = 1 AND VERSION() >= '8.0.0';

UPDATE index_compatibility_test 
SET execution_result = 'ERROR', error_message = 'ä¸æ”¯æŒéšè—ç´¢å¼•'
WHERE id = 1 AND VERSION() < '8.0.0';
```

---

## 5. ğŸ”„ ç´¢å¼•æ ¼å¼è½¬æ¢å®è·µ


### 5.1 ç´¢å¼•é‡å»ºç­–ç•¥


**ğŸ”§ å®‰å…¨çš„ç´¢å¼•é‡å»ºæ–¹æ³•**
```sql
-- æ£€æŸ¥éœ€è¦é‡å»ºçš„ç´¢å¼•
SELECT 
    table_schema,
    table_name,
    index_name,
    CONCAT(
        'ALTER TABLE ', table_schema, '.', table_name,
        ' DROP INDEX ', index_name, ', ',
        'ADD INDEX ', index_name, ' (',
        GROUP_CONCAT(column_name ORDER BY seq_in_index), ');'
    ) as rebuild_sql
FROM information_schema.statistics
WHERE table_schema = 'your_database'
  AND index_name != 'PRIMARY'
  AND cardinality = 0  -- ç»Ÿè®¡ä¿¡æ¯å¯èƒ½éœ€è¦æ›´æ–°çš„ç´¢å¼•
GROUP BY table_schema, table_name, index_name;

-- æ‰¹é‡é‡å»ºç´¢å¼•
SET @sql = '';
SELECT GROUP_CONCAT(rebuild_sql SEPARATOR ' ')
INTO @sql
FROM (
    SELECT CONCAT('ALTER TABLE ', table_name, ' FORCE;') as rebuild_sql
    FROM information_schema.tables
    WHERE table_schema = 'your_database'
      AND engine = 'InnoDB'
) t;

-- æ‰§è¡Œé‡å»ºï¼ˆè¯·åœ¨ç»´æŠ¤çª—å£æ‰§è¡Œï¼‰
-- PREPARE stmt FROM @sql;
-- EXECUTE stmt;
```

### 5.2 ç´¢å¼•ç»Ÿè®¡ä¿¡æ¯æ›´æ–°


**ğŸ“Š ç»Ÿè®¡ä¿¡æ¯å…¼å®¹æ€§å¤„ç†**
```sql
-- æ›´æ–°æ‰€æœ‰è¡¨çš„ç´¢å¼•ç»Ÿè®¡ä¿¡æ¯
SELECT 
    CONCAT('ANALYZE TABLE ', table_schema, '.', table_name, ';') as analyze_sql
FROM information_schema.tables
WHERE table_schema NOT IN ('information_schema', 'mysql', 'performance_schema', 'sys')
  AND engine = 'InnoDB'
ORDER BY table_schema, table_name;

-- æ£€æŸ¥ç»Ÿè®¡ä¿¡æ¯æ˜¯å¦å‡†ç¡®
SELECT 
    table_schema,
    table_name,
    index_name,
    cardinality,
    CASE 
        WHEN cardinality = 0 THEN 'âš ï¸ éœ€è¦æ›´æ–°ç»Ÿè®¡ä¿¡æ¯'
        WHEN cardinality IS NULL THEN 'ğŸ”´ ç»Ÿè®¡ä¿¡æ¯ç¼ºå¤±'
        ELSE 'âœ… ç»Ÿè®¡ä¿¡æ¯æ­£å¸¸'
    END as status
FROM information_schema.statistics
WHERE table_schema = 'your_database'
  AND index_name != 'PRIMARY'
ORDER BY table_name, index_name;
```

---

## 6. ğŸ›¡ï¸ å‘åå…¼å®¹æ€§ä¿è¯æœºåˆ¶


### 6.1 MySQLçš„å…¼å®¹æ€§ä¿è¯ç­–ç•¥


**ğŸ”¸ MySQLå®˜æ–¹å…¼å®¹æ€§æ‰¿è¯º**
```
å®˜æ–¹ä¿è¯ï¼š
â€¢ æ•°æ®æ–‡ä»¶å‘å‰å…¼å®¹ï¼šè€ç‰ˆæœ¬çš„æ•°æ®æ–‡ä»¶å¯ä»¥åœ¨æ–°ç‰ˆæœ¬ä½¿ç”¨
â€¢ åŸºç¡€SQLå…¼å®¹ï¼šæ ¸å¿ƒSQLè¯­æ³•ä¿æŒå…¼å®¹
â€¢ é…ç½®æ–‡ä»¶å…¼å®¹ï¼šå¤§éƒ¨åˆ†é…ç½®å‚æ•°ä¿æŒæœ‰æ•ˆ

ä¸ä¿è¯çš„å†…å®¹ï¼š
â€¢ æ–°ç‰¹æ€§è¯­æ³•ï¼šæ–°ç‰ˆæœ¬çš„ç‰¹æ€§åœ¨è€ç‰ˆæœ¬ä¸å¯ç”¨
â€¢ æ€§èƒ½è¡¨ç°ï¼šåŒæ ·çš„æŸ¥è¯¢åœ¨ä¸åŒç‰ˆæœ¬æ€§èƒ½å¯èƒ½å·®å¼‚
â€¢ å†…éƒ¨å®ç°ï¼šå­˜å‚¨æ ¼å¼å¯èƒ½æœ‰å†…éƒ¨ä¼˜åŒ–
```

### 6.2 ç¼–å†™å…¼å®¹æ€§è‰¯å¥½çš„ç´¢å¼•DDL


**âœ… è·¨ç‰ˆæœ¬å…¼å®¹çš„ç´¢å¼•åˆ›å»º**
```sql
-- å¥½çš„å®è·µï¼šä½¿ç”¨åŸºç¡€è¯­æ³•
CREATE INDEX idx_user_email ON users (email);
CREATE INDEX idx_order_date ON orders (order_date);
CREATE INDEX idx_composite ON products (category_id, price);

-- é¿å…çš„å†™æ³•ï¼šç‰ˆæœ¬ç‰¹å®šè¯­æ³•
-- CREATE INDEX idx_invisible ON users (name) INVISIBLE;  -- ä»…MySQL 8.0
-- CREATE INDEX idx_func ON users ((UPPER(email)));       -- ä»…MySQL 8.0

-- æ¡ä»¶æ€§åˆ›å»ºç´¢å¼•ï¼ˆç‰ˆæœ¬å…¼å®¹ï¼‰
SET @sql = CASE 
    WHEN VERSION() >= '8.0.0' THEN 
        'CREATE INDEX idx_advanced ON users (name) INVISIBLE'
    ELSE 
        'CREATE INDEX idx_advanced ON users (name)'
END;

PREPARE stmt FROM @sql;
EXECUTE stmt;
DEALLOCATE PREPARE stmt;
```

### 6.3 ç‰ˆæœ¬æ£€æµ‹ä¸é€‚é…


**ğŸ”§ æ™ºèƒ½ç‰ˆæœ¬é€‚é…**
```sql
-- åˆ›å»ºç‰ˆæœ¬é€‚é…å­˜å‚¨è¿‡ç¨‹
DELIMITER //
CREATE PROCEDURE CreateVersionCompatibleIndex(
    IN table_name VARCHAR(64),
    IN index_name VARCHAR(64),
    IN column_list VARCHAR(255),
    IN is_invisible BOOLEAN DEFAULT FALSE
)
BEGIN
    DECLARE mysql_version DECIMAL(3,2);
    DECLARE sql_stmt VARCHAR(500);
    
    -- è·å–MySQLä¸»ç‰ˆæœ¬å·
    SELECT CAST(LEFT(VERSION(), 3) AS DECIMAL(3,2)) INTO mysql_version;
    
    -- æ„é€ å…¼å®¹çš„SQLè¯­å¥
    SET sql_stmt = CONCAT('CREATE INDEX ', index_name, ' ON ', table_name, ' (', column_list, ')');
    
    -- MySQL 8.0æ”¯æŒéšè—ç´¢å¼•
    IF mysql_version >= 8.0 AND is_invisible THEN
        SET sql_stmt = CONCAT(sql_stmt, ' INVISIBLE');
    END IF;
    
    -- æ‰§è¡Œåˆ›å»º
    SET @create_sql = sql_stmt;
    PREPARE stmt FROM @create_sql;
    EXECUTE stmt;
    DEALLOCATE PREPARE stmt;
    
    SELECT CONCAT('ç´¢å¼•åˆ›å»ºæˆåŠŸ: ', sql_stmt) as result;
END //
DELIMITER ;

-- ä½¿ç”¨ç¤ºä¾‹
CALL CreateVersionCompatibleIndex('users', 'idx_email', 'email', TRUE);
CALL CreateVersionCompatibleIndex('orders', 'idx_date', 'order_date', FALSE);
```

---

## 7. ğŸ¤– è‡ªåŠ¨åŒ–è¿ç§»å·¥å…·


### 7.1 ç´¢å¼•è¿ç§»è„šæœ¬


**ğŸ› ï¸ ç®€åŒ–çš„è¿ç§»å·¥å…·**
```bash
#!/bin/bash
# index_migration_tool.sh

DB_USER="root"
DB_PASS="password"
DB_HOST="localhost"
SOURCE_DB="old_database"
TARGET_DB="new_database"

# å‡½æ•°ï¼šæå–ç´¢å¼•DDL
extract_index_ddl() {
    mysql -u${DB_USER} -p${DB_PASS} -h${DB_HOST} -e "
        SELECT CONCAT(
            'CREATE INDEX ', index_name, 
            ' ON ', table_name, ' (',
            GROUP_CONCAT(column_name ORDER BY seq_in_index), 
            ');'
        ) as ddl_statement
        FROM information_schema.statistics
        WHERE table_schema = '${SOURCE_DB}'
          AND index_name != 'PRIMARY'
        GROUP BY table_name, index_name
        ORDER BY table_name, index_name;
    " --skip-column-names > ${SOURCE_DB}_indexes.sql
    
    echo "ç´¢å¼•DDLå·²æå–åˆ° ${SOURCE_DB}_indexes.sql"
}

# å‡½æ•°ï¼šåº”ç”¨ç´¢å¼•DDL
apply_index_ddl() {
    echo "å¼€å§‹åœ¨ç›®æ ‡æ•°æ®åº“åº”ç”¨ç´¢å¼•..."
    
    # ä¿®æ”¹DDLä¸­çš„æ•°æ®åº“å
    sed "s/ON ${SOURCE_DB}\./ON ${TARGET_DB}./g" ${SOURCE_DB}_indexes.sql > ${TARGET_DB}_indexes.sql
    
    # åº”ç”¨DDL
    mysql -u${DB_USER} -p${DB_PASS} -h${DB_HOST} ${TARGET_DB} < ${TARGET_DB}_indexes.sql
    
    if [ $? -eq 0 ]; then
        echo "âœ… ç´¢å¼•è¿ç§»æˆåŠŸ"
    else
        echo "âŒ ç´¢å¼•è¿ç§»å¤±è´¥ï¼Œè¯·æ£€æŸ¥é”™è¯¯æ—¥å¿—"
    fi
}

# ä¸»æ‰§è¡Œæµç¨‹
case "${1:-help}" in
    extract)
        extract_index_ddl
        ;;
    apply)
        apply_index_ddl
        ;;
    migrate)
        extract_index_ddl
        apply_index_ddl
        ;;
    *)
        echo "ç”¨æ³•: $0 [extract|apply|migrate]"
        echo "  extract: æå–æºæ•°æ®åº“ç´¢å¼•DDL"
        echo "  apply: åº”ç”¨ç´¢å¼•DDLåˆ°ç›®æ ‡æ•°æ®åº“"
        echo "  migrate: æ‰§è¡Œå®Œæ•´è¿ç§»æµç¨‹"
        ;;
esac
```

### 7.2 ç´¢å¼•å…¼å®¹æ€§æµ‹è¯•è‡ªåŠ¨åŒ–


**ğŸ§ª è‡ªåŠ¨åŒ–æµ‹è¯•æ¡†æ¶**
```python
#!/usr/bin/env python3
# index_compatibility_tester.py

import mysql.connector
import json

class IndexCompatibilityTester:
    def __init__(self, config):
        self.mysql_config = config
        self.test_results = []
    
    def connect(self):
        return mysql.connector.connect(**self.mysql_config)
    
    def test_index_features(self):
        """æµ‹è¯•ç´¢å¼•ç‰¹æ€§å…¼å®¹æ€§"""
        conn = self.connect()
        cursor = conn.cursor()
        
        # æµ‹è¯•ç”¨ä¾‹å®šä¹‰
        test_cases = [
            {
                'name': 'éšè—ç´¢å¼•æµ‹è¯•',
                'min_version': '8.0.0',
                'sql': 'CREATE INDEX test_invisible ON test_table (id) INVISIBLE',
                'cleanup': 'DROP INDEX test_invisible ON test_table'
            },
            {
                'name': 'å‡½æ•°ç´¢å¼•æµ‹è¯•', 
                'min_version': '8.0.13',
                'sql': 'CREATE INDEX test_func ON test_table ((UPPER(name)))',
                'cleanup': 'DROP INDEX test_func ON test_table'
            },
            {
                'name': 'å¤šå€¼ç´¢å¼•æµ‹è¯•',
                'min_version': '8.0.17',  
                'sql': 'CREATE INDEX test_mv ON test_table ((CAST(json_col->"$.tags" AS CHAR(255) ARRAY)))',
                'cleanup': 'DROP INDEX test_mv ON test_table'
            }
        ]
        
        # è·å–å½“å‰ç‰ˆæœ¬
        cursor.execute("SELECT VERSION()")
        current_version = cursor.fetchone()[0]
        
        # æ‰§è¡Œæµ‹è¯•
        for test in test_cases:
            try:
                if self.version_compare(current_version, test['min_version']) >= 0:
                    cursor.execute(test['sql'])
                    cursor.execute(test['cleanup'])
                    result = 'âœ… æ”¯æŒ'
                else:
                    result = 'âš ï¸ ç‰ˆæœ¬è¿‡ä½'
            except mysql.connector.Error as e:
                result = f'âŒ é”™è¯¯: {e.msg}'
            
            self.test_results.append({
                'test_name': test['name'],
                'current_version': current_version,
                'required_version': test['min_version'],
                'result': result
            })
        
        cursor.close()
        conn.close()
    
    def version_compare(self, version1, version2):
        """æ¯”è¾ƒç‰ˆæœ¬å·å¤§å°"""
        v1_parts = [int(x) for x in version1.split('.')[0:3]]
        v2_parts = [int(x) for x in version2.split('.')[0:3]]
        
        for i in range(3):
            if v1_parts[i] > v2_parts[i]:
                return 1
            elif v1_parts[i] < v2_parts[i]:
                return -1
        return 0
    
    def generate_report(self):
        """ç”Ÿæˆæµ‹è¯•æŠ¥å‘Š"""
        print("=== MySQLç´¢å¼•å…¼å®¹æ€§æµ‹è¯•æŠ¥å‘Š ===")
        for result in self.test_results:
            print(f"æµ‹è¯•: {result['test_name']}")
            print(f"å½“å‰ç‰ˆæœ¬: {result['current_version']}")
            print(f"è¦æ±‚ç‰ˆæœ¬: {result['required_version']}")
            print(f"æµ‹è¯•ç»“æœ: {result['result']}")
            print("-" * 40)

# ä½¿ç”¨ç¤ºä¾‹
config = {
    'host': 'localhost',
    'user': 'test_user', 
    'password': 'test_pass',
    'database': 'test_db'
}

tester = IndexCompatibilityTester(config)
tester.test_index_features()
tester.generate_report()
```

---

## 8. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 8.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


**ğŸ”¸ ç´¢å¼•å…¼å®¹æ€§çš„æœ¬è´¨ç†è§£**
```
å…¼å®¹æ€§é—®é¢˜äº§ç”ŸåŸå› ï¼š
â€¢ MySQLç‰ˆæœ¬å‡çº§å¸¦æ¥å­˜å‚¨æ ¼å¼å˜åŒ–
â€¢ æ–°ç‰¹æ€§è¯­æ³•åœ¨è€ç‰ˆæœ¬ä¸æ”¯æŒ
â€¢ æ€§èƒ½ä¼˜åŒ–å¯¼è‡´å†…éƒ¨å®ç°å·®å¼‚

è§£å†³æ€è·¯ï¼š
â€¢ å‡çº§å‰åšå……åˆ†æ£€æŸ¥å’Œæµ‹è¯•
â€¢ ä½¿ç”¨å…¼å®¹æ€§å¥½çš„åŸºç¡€è¯­æ³•
â€¢ åˆ¶å®šåˆé€‚çš„å‡çº§ç­–ç•¥
```

**ğŸ”¸ ç‰ˆæœ¬å·®å¼‚çš„å…³é”®ç†è§£**
```
MySQL 5.7 â†’ 8.0 ä¸»è¦å˜åŒ–ï¼š
â€¢ éšè—ç´¢å¼•ï¼šæ–°åŠŸèƒ½ï¼Œè€ç‰ˆæœ¬ä¸æ”¯æŒ
â€¢ å‡½æ•°ç´¢å¼•ï¼š8.0çœŸæ­£æ”¯æŒï¼Œ5.7ä¸æ”¯æŒ  
â€¢ é™åºç´¢å¼•ï¼š8.0çœŸæ­£ç”Ÿæ•ˆï¼Œ5.7åªæ˜¯è¯­æ³•æ”¯æŒ
â€¢ æ•°æ®å­—å…¸ï¼š8.0ç»Ÿä¸€å­˜å‚¨ï¼Œ5.7åˆ†æ•£å­˜å‚¨
```

### 8.2 å®é™…é—®é¢˜è§£å†³æ–¹æ³•


**ğŸ”¹ å‡çº§ç­–ç•¥é€‰æ‹©**
```
ç”Ÿäº§ç¯å¢ƒå‡çº§ç­–ç•¥ï¼š
é«˜å¯ç”¨è¦æ±‚ â†’ ä¸»ä»åˆ‡æ¢å‡çº§ï¼ˆæ¨èï¼‰
æ•°æ®é‡å° â†’ å¯¼å‡ºå¯¼å…¥å‡çº§
æµ‹è¯•ç¯å¢ƒ â†’ åŸåœ°å‡çº§

å‡çº§å‡†å¤‡ï¼š
â€¢ å®Œæ•´å¤‡ä»½æ•°æ®
â€¢ æ£€æŸ¥ç´¢å¼•å…¼å®¹æ€§
â€¢ åˆ¶å®šå›æ»šæ–¹æ¡ˆ
â€¢ é€‰æ‹©åˆé€‚ç»´æŠ¤çª—å£
```

**ğŸ”¹ æ—¥å¸¸å¼€å‘æ³¨æ„äº‹é¡¹**
```
ç¼–å†™å…¼å®¹æ€§å¥½çš„SQLï¼š
â€¢ ä¼˜å…ˆä½¿ç”¨åŸºç¡€è¯­æ³•
â€¢ é¿å…ç‰ˆæœ¬ç‰¹å®šåŠŸèƒ½
â€¢ åšå¥½ç‰ˆæœ¬æ£€æµ‹
â€¢ æµ‹è¯•å¤šä¸ªç‰ˆæœ¬ç¯å¢ƒ

ç´¢å¼•è®¾è®¡åŸåˆ™ï¼š
â€¢ ä¿æŒç´¢å¼•åç§°ç®€æ´
â€¢ é¿å…è¿‡é•¿çš„ç´¢å¼•é”®
â€¢ ä¼˜å…ˆä½¿ç”¨æ ‡å‡†å­—ç¬¦é›†
â€¢ è®°å½•ç´¢å¼•åˆ›å»ºåŸå› 
```

### 8.3 ç”Ÿäº§ç¯å¢ƒæœ€ä½³å®è·µ


**ğŸ¯ ç›‘æ§å’Œç»´æŠ¤**
```
å®šæœŸæ£€æŸ¥ï¼š
â€¢ æ¯æœˆæ£€æŸ¥ç´¢å¼•ç»Ÿè®¡ä¿¡æ¯
â€¢ å®šæœŸæµ‹è¯•å¤‡ä»½æ¢å¤æµç¨‹
â€¢ ç›‘æ§ç‰ˆæœ¬å®‰å…¨æ›´æ–°

å‡çº§è®¡åˆ’ï¼š
â€¢ åˆ¶å®šç‰ˆæœ¬å‡çº§è·¯çº¿å›¾
â€¢ å»ºç«‹æµ‹è¯•ç¯å¢ƒéªŒè¯
â€¢ å‡†å¤‡åº”æ€¥å›æ»šæ–¹æ¡ˆ
```

**ğŸ› ï¸ å·¥å…·å’Œæµç¨‹**
```
å¿…å¤‡å·¥å…·ï¼š
â€¢ mysql_upgradeï¼šå®˜æ–¹å‡çº§æ£€æŸ¥å·¥å…·
â€¢ mysqldumpï¼šæ•°æ®å¤‡ä»½å·¥å…·
â€¢ è‡ªå®šä¹‰å…¼å®¹æ€§æ£€æŸ¥è„šæœ¬

æ ‡å‡†æµç¨‹ï¼š
1. ç¯å¢ƒè¯„ä¼°å’Œè§„åˆ’
2. å…¼å®¹æ€§æµ‹è¯•éªŒè¯
3. å¤‡ä»½å’Œå‡çº§æ‰§è¡Œ
4. éªŒè¯å’Œç›‘æ§è·Ÿè¿›
```

**ğŸ’¡ å…³é”®å»ºè®®**
- **å°æ­¥å¿«è·‘**ï¼šåˆ†é˜¶æ®µå‡çº§ï¼Œé™ä½é£é™©
- **æµ‹è¯•é©±åŠ¨**ï¼šå……åˆ†æµ‹è¯•åå†ä¸Šç”Ÿäº§
- **ç›‘æ§å…ˆè¡Œ**ï¼šå‡çº§è¿‡ç¨‹è¦æœ‰å®æ—¶ç›‘æ§
- **æ–‡æ¡£è®°å½•**ï¼šè®°å½•å‡çº§è¿‡ç¨‹å’Œé—®é¢˜è§£å†³æ–¹æ³•
- **å›¢é˜Ÿåä½œ**ï¼šå‡çº§æ¶‰åŠå¤šä¸ªè§’è‰²ï¼Œéœ€è¦åè°ƒé…åˆ

**æ ¸å¿ƒè®°å¿†**ï¼š
- ç´¢å¼•å…¼å®¹æ€§ä¸»è¦çœ‹MySQLç‰ˆæœ¬å·®å¼‚
- å‡çº§å‰å¿…é¡»åšå…¼å®¹æ€§æ£€æŸ¥å’Œå¤‡ä»½
- ç”Ÿäº§ç¯å¢ƒæ¨èä¸»ä»åˆ‡æ¢å‡çº§æ–¹å¼
- æ—¥å¸¸å¼€å‘è¦æ³¨æ„å†™å…¼å®¹æ€§å¥½çš„SQL
- ç›‘æ§å’Œæµ‹è¯•æ˜¯æˆåŠŸå‡çº§çš„å…³é”®