---
title: 6ã€ç´¢å¼•ä¸‹æ¨ICPä¼˜åŒ–ç­–ç•¥
---
## ğŸ“š ç›®å½•

1. [ç´¢å¼•ä¸‹æ¨ICPåŸºæœ¬æ¦‚å¿µ](#1-ç´¢å¼•ä¸‹æ¨ICPåŸºæœ¬æ¦‚å¿µ)
2. [ICPå®ç°æœºåˆ¶è¯¦è§£](#2-ICPå®ç°æœºåˆ¶è¯¦è§£)
3. [ICPæ¡ä»¶ä¸‹æ¨è§„åˆ™](#3-ICPæ¡ä»¶ä¸‹æ¨è§„åˆ™)
4. [ICPæ€§èƒ½æå‡åˆ†æ](#4-ICPæ€§èƒ½æå‡åˆ†æ)
5. [ICPé€‚ç”¨æ¡ä»¶ä¸åœºæ™¯](#5-ICPé€‚ç”¨æ¡ä»¶ä¸åœºæ™¯)
6. [ICPå¼€å¯é…ç½®ä¸ç›‘æ§](#6-ICPå¼€å¯é…ç½®ä¸ç›‘æ§)
7. [ICPä¸å…¶ä»–ä¼˜åŒ–æŠ€æœ¯ååŒ](#7-ICPä¸å…¶ä»–ä¼˜åŒ–æŠ€æœ¯ååŒ)
8. [ICPæ€§èƒ½è¯„ä¼°æ–¹æ³•](#8-ICPæ€§èƒ½è¯„ä¼°æ–¹æ³•)
9. [ICPä¼˜åŒ–ç­–ç•¥åˆ¶å®š](#9-ICPä¼˜åŒ–ç­–ç•¥åˆ¶å®š)
10. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#10-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ¯ ç´¢å¼•ä¸‹æ¨ICPåŸºæœ¬æ¦‚å¿µ


### 1.1 ä»€ä¹ˆæ˜¯ç´¢å¼•ä¸‹æ¨


**ğŸ”¸ Index Condition Pushdown (ICP)åŸºæœ¬å®šä¹‰**
ç´¢å¼•ä¸‹æ¨å°±åƒæ˜¯æŠŠ"è´¨æ£€å‘˜"ä»å·¥å‚æ€»éƒ¨æ´¾åˆ°ç”Ÿäº§çº¿ä¸Šã€‚åŸæ¥éœ€è¦æŠŠæ‰€æœ‰äº§å“è¿åˆ°æ€»éƒ¨æ£€æŸ¥ï¼Œç°åœ¨åœ¨ç”Ÿäº§çº¿ä¸Šå°±èƒ½ç­›é€‰å‡ºåˆæ ¼äº§å“ï¼Œå¤§å¤§å‡å°‘äº†è¿è¾“æˆæœ¬ã€‚

```
ä¼ ç»ŸæŸ¥è¯¢æ¨¡å¼ï¼ˆæ— ICPï¼‰ï¼š
å­˜å‚¨å¼•æ“ â”€â”€â†’ å–å‡ºæ‰€æœ‰å¯èƒ½çš„è¡Œ â”€â”€â†’ è¿”å›ç»™MySQL Server â”€â”€â†’ åº”ç”¨WHEREæ¡ä»¶è¿‡æ»¤

ICPä¼˜åŒ–æ¨¡å¼ï¼š
å­˜å‚¨å¼•æ“ â”€â”€â†’ åœ¨å¼•æ“å±‚åº”ç”¨WHEREæ¡ä»¶ â”€â”€â†’ åªè¿”å›ç¬¦åˆæ¡ä»¶çš„è¡Œç»™MySQL Server
```

> **ğŸ’¡ å…³é”®ç†è§£**ï¼šICPçš„æ ¸å¿ƒæ˜¯å°†WHEREæ¡ä»¶çš„è¿‡æ»¤å·¥ä½œä»MySQL Serverå±‚ä¸‹æ¨åˆ°å­˜å‚¨å¼•æ“å±‚ï¼Œå‡å°‘ä¸å¿…è¦çš„æ•°æ®ä¼ è¾“å’Œå¤„ç†ã€‚

### 1.2 ICPè§£å†³çš„æ ¸å¿ƒé—®é¢˜


**ğŸ”¸ ä¼ ç»Ÿç´¢å¼•æŸ¥è¯¢çš„æ•ˆç‡é—®é¢˜**

å‡è®¾ä½ åœ¨å›¾ä¹¦é¦†æ‰¾"è®¡ç®—æœº"ç›¸å…³çš„ä¹¦ï¼Œä¼ ç»Ÿæ–¹å¼æ˜¯ï¼š
1. æ ¹æ®ä¹¦åç›®å½•æ‰¾åˆ°æ‰€æœ‰å¯èƒ½çš„ä¹¦
2. æŠŠè¿™äº›ä¹¦éƒ½æ¬åˆ°é˜…è¯»å®¤  
3. åœ¨é˜…è¯»å®¤é‡Œä¸€æœ¬æœ¬ç¿»çœ‹å†…å®¹ï¼Œç­›é€‰å‡ºçœŸæ­£éœ€è¦çš„

ICPå°±æ˜¯è®©å›¾ä¹¦ç®¡ç†å‘˜åœ¨ä¹¦æ¶ä¸Šå°±å¸®ä½ ç­›é€‰ï¼ŒåªæŠŠç¬¦åˆè¦æ±‚çš„ä¹¦æ¬åˆ°é˜…è¯»å®¤ã€‚

```sql
-- é—®é¢˜åœºæ™¯ï¼šå¤åˆç´¢å¼•çš„éƒ¨åˆ†æ¡ä»¶æŸ¥è¯¢
CREATE INDEX idx_name_age_city ON users(name, age, city);

-- æŸ¥è¯¢ï¼šä½¿ç”¨äº†nameï¼Œä½†ageæ˜¯èŒƒå›´æŸ¥è¯¢ï¼Œcityæ¡ä»¶æ— æ³•åˆ©ç”¨ç´¢å¼•
SELECT * FROM users 
WHERE name = 'å¼ ä¸‰' 
  AND age > 25 
  AND city = 'åŒ—äº¬';

æ‰§è¡Œè®¡åˆ’åˆ†æï¼š
1. ä½¿ç”¨ç´¢å¼•å¿«é€Ÿå®šä½name='å¼ ä¸‰'çš„è®°å½•
2. ç”±äºageæ˜¯èŒƒå›´æŸ¥è¯¢ï¼Œcityæ¡ä»¶æ— æ³•é€šè¿‡ç´¢å¼•è¿‡æ»¤
3. è¿”å›æ‰€æœ‰name='å¼ ä¸‰' AND age>25çš„è®°å½•åˆ°Serverå±‚
4. åœ¨Serverå±‚å†æ¬¡åº”ç”¨city='åŒ—äº¬'æ¡ä»¶
```

### 1.3 ICPçš„æŠ€æœ¯èƒŒæ™¯


**ğŸ“ˆ ICPæŠ€æœ¯å‘å±•å†ç¨‹**

```
MySQLç‰ˆæœ¬æ¼”è¿›ï¼š

MySQL 5.5ä¹‹å‰ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å­˜å‚¨å¼•æ“å±‚   â”‚â”€â”€â”€â–¶â”‚ MySQL Serverâ”‚
â”‚ï¼ˆç®€å•ç´¢å¼•ï¼‰  â”‚    â”‚ï¼ˆå¤æ‚è¿‡æ»¤ï¼‰  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
é—®é¢˜ï¼šå¤§é‡æ— æ•ˆæ•°æ®ä¼ è¾“

MySQL 5.6å¼•å…¥ICPï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å­˜å‚¨å¼•æ“å±‚   â”‚â”€â”€â”€â–¶â”‚ MySQL Serverâ”‚
â”‚ï¼ˆæ™ºèƒ½è¿‡æ»¤ï¼‰  â”‚    â”‚ï¼ˆæœ€ç»ˆå¤„ç†ï¼‰  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
ä¼˜åŒ–ï¼šå­˜å‚¨å¼•æ“å±‚å°±èƒ½è¿‡æ»¤æ•°æ®
```

---

## 2. âš™ï¸ ICPå®ç°æœºåˆ¶è¯¦è§£


### 2.1 ICPå·¥ä½œæµç¨‹åˆ†æ


**ğŸ”¸ è¯¦ç»†å·¥ä½œæœºåˆ¶**

```
ICPæ‰§è¡Œæµç¨‹ï¼š

æ­¥éª¤1ï¼šæŸ¥è¯¢è§£æ
MySQL Serverè§£æSQLï¼Œè¯†åˆ«å¯ä»¥ä¸‹æ¨çš„æ¡ä»¶

æ­¥éª¤2ï¼šæ¡ä»¶ä¸‹æ¨
å°†é€‚åˆçš„WHEREæ¡ä»¶å‘é€ç»™å­˜å‚¨å¼•æ“

æ­¥éª¤3ï¼šå¼•æ“å±‚è¿‡æ»¤
å­˜å‚¨å¼•æ“åœ¨è¯»å–ç´¢å¼•æ—¶åº”ç”¨è¿™äº›æ¡ä»¶

æ­¥éª¤4ï¼šè¿”å›ç»“æœ
åªè¿”å›æ»¡è¶³æ¡ä»¶çš„è®°å½•ç»™MySQL Server

æ­¥éª¤5ï¼šæœ€ç»ˆå¤„ç†
MySQL Serverå¤„ç†å‰©ä½™ä¸èƒ½ä¸‹æ¨çš„æ¡ä»¶
```

**ğŸ”§ ICP vs éICPå¯¹æ¯”å®ä¾‹**

```sql
-- æµ‹è¯•è¡¨ç»“æ„
CREATE TABLE employees (
    id INT PRIMARY KEY,
    name VARCHAR(50),
    age INT,
    department VARCHAR(50),
    salary DECIMAL(10,2),
    hire_date DATE
);

-- åˆ›å»ºå¤åˆç´¢å¼•
CREATE INDEX idx_name_age ON employees(name, age);

-- æµ‹è¯•æŸ¥è¯¢
SELECT * FROM employees 
WHERE name LIKE 'å¼ %' 
  AND age BETWEEN 25 AND 35 
  AND department = 'æŠ€æœ¯éƒ¨';
```

**ğŸ” æ‰§è¡Œè¿‡ç¨‹å¯¹æ¯”**

```
ä¸ä½¿ç”¨ICPçš„æ‰§è¡Œè¿‡ç¨‹ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚1. å­˜å‚¨å¼•æ“å±‚            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚â€¢ ä½¿ç”¨idx_name_ageç´¢å¼•   â”‚
â”‚â€¢ æ‰¾åˆ°name LIKE 'å¼ %'    â”‚
â”‚â€¢ è¯»å–æ‰€æœ‰åŒ¹é…è®°å½•        â”‚
â”‚â€¢ è¿”å›1000æ¡è®°å½•         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â†“ ä¼ è¾“1000æ¡è®°å½•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚2. MySQL Serverå±‚       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚â€¢ åº”ç”¨age BETWEENæ¡ä»¶    â”‚
â”‚â€¢ åº”ç”¨departmentæ¡ä»¶     â”‚
â”‚â€¢ æœ€ç»ˆè¿”å›50æ¡è®°å½•       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ä½¿ç”¨ICPçš„æ‰§è¡Œè¿‡ç¨‹ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚1. å­˜å‚¨å¼•æ“å±‚            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚â€¢ ä½¿ç”¨idx_name_ageç´¢å¼•   â”‚
â”‚â€¢ æ‰¾åˆ°name LIKE 'å¼ %'    â”‚
â”‚â€¢ åŒæ—¶åº”ç”¨age BETWEENæ¡ä»¶â”‚ â† ICPåœ¨è¿™é‡Œå‘æŒ¥ä½œç”¨
â”‚â€¢ åªè¿”å›200æ¡è®°å½•        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â†“ ä¼ è¾“200æ¡è®°å½•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚2. MySQL Serverå±‚       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚â€¢ åº”ç”¨departmentæ¡ä»¶     â”‚
â”‚â€¢ æœ€ç»ˆè¿”å›50æ¡è®°å½•       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

æ€§èƒ½æå‡ï¼šå‡å°‘äº†80%çš„æ— æ•ˆæ•°æ®ä¼ è¾“
```

### 2.2 ICPåœ¨ä¸åŒå­˜å‚¨å¼•æ“ä¸­çš„å®ç°


**ğŸ”¸ InnoDBä¸­çš„ICPå®ç°**

```
InnoDB ICPå·¥ä½œæœºåˆ¶ï¼š

ç´¢å¼•æ‰«æè¿‡ç¨‹ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å®šä½ç´¢å¼•  â”‚â”€â”€â”€â–¶â”‚ åº”ç”¨ICPæ¡ä»¶ â”‚â”€â”€â”€â–¶â”‚ è¯»å–è¡Œæ•°æ® â”‚
â”‚ èµ·å§‹ä½ç½®  â”‚    â”‚   è¿‡æ»¤      â”‚    â”‚ ï¼ˆå¿…è¦æ—¶ï¼‰ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â†‘
                 ICPä¼˜åŒ–ç‚¹ï¼šå‡å°‘ä¸å¿…è¦çš„è¡Œè¯»å–
```

**ğŸ’¾ å­˜å‚¨å±‚çº§ä¼˜åŒ–åŸç†**

```
æ•°æ®è®¿é—®å±‚æ¬¡ï¼š

L1: ç´¢å¼•é¡µç¼“å­˜ï¼ˆæœ€å¿«ï¼‰
â”œâ”€ ç´¢å¼•é”®å€¼æ¯”è¾ƒ
â”œâ”€ ICPæ¡ä»¶è¿‡æ»¤ â† ICPåœ¨æ­¤å±‚ç”Ÿæ•ˆ
â””â”€ ç¡®å®šéœ€è¦çš„è®°å½•ä½ç½®

L2: æ•°æ®é¡µç¼“å­˜ï¼ˆå¿«ï¼‰  
â”œâ”€ è¯»å–å®Œæ•´è¡Œæ•°æ®
â”œâ”€ åº”ç”¨å‰©ä½™WHEREæ¡ä»¶
â””â”€ è¿”å›æœ€ç»ˆç»“æœ

L3: ç£ç›˜å­˜å‚¨ï¼ˆæ…¢ï¼‰
â””â”€ ç‰©ç†I/Oæ“ä½œ

ä¼˜åŒ–æ•ˆæœï¼šICPå‡å°‘äº†ä»L1åˆ°L2çš„æ— æ•ˆæ•°æ®è¯»å–
```

### 2.3 ICPæ¡ä»¶è¯„ä¼°æœºåˆ¶


**ğŸ”§ æ¡ä»¶ä¸‹æ¨çš„åˆ¤æ–­é€»è¾‘**

```java
// ICPæ¡ä»¶è¯„ä¼°ä¼ªä»£ç 
class ICPConditionEvaluator {
    
    public boolean canPushDown(WhereCondition condition, Index index) {
        
        // 1. æ£€æŸ¥æ¡ä»¶æ˜¯å¦æ¶‰åŠç´¢å¼•åˆ—
        if (!condition.referencesIndexColumns(index)) {
            return false;  // ä¸æ¶‰åŠç´¢å¼•åˆ—ï¼Œæ— æ³•ä¸‹æ¨
        }
        
        // 2. æ£€æŸ¥æ¡ä»¶ç±»å‹
        if (condition.isSubquery() || condition.hasStoredFunction()) {
            return false;  // å­æŸ¥è¯¢å’Œå­˜å‚¨å‡½æ•°æ— æ³•ä¸‹æ¨
        }
        
        // 3. æ£€æŸ¥è¡¨è¾¾å¼å¤æ‚åº¦
        if (condition.isTooComplex()) {
            return false;  // è¿‡äºå¤æ‚çš„è¡¨è¾¾å¼ä¸ä¸‹æ¨
        }
        
        // 4. æ£€æŸ¥å­˜å‚¨å¼•æ“æ”¯æŒ
        if (!storageEngine.supportsICP()) {
            return false;  // å­˜å‚¨å¼•æ“ä¸æ”¯æŒICP
        }
        
        return true;  // å¯ä»¥ä¸‹æ¨
    }
}
```

---

## 3. ğŸ“‹ ICPæ¡ä»¶ä¸‹æ¨è§„åˆ™


### 3.1 å¯ä¸‹æ¨æ¡ä»¶ç±»å‹


**âœ… æ”¯æŒä¸‹æ¨çš„æ¡ä»¶ç±»å‹**

```sql
-- 1. ç®€å•æ¯”è¾ƒæ¡ä»¶
SELECT * FROM users WHERE name = 'å¼ ä¸‰' AND age > 25;
-- ä¸‹æ¨ï¼šage > 25ï¼ˆå¦‚æœageåœ¨ç´¢å¼•ä¸­ï¼‰

-- 2. èŒƒå›´æŸ¥è¯¢æ¡ä»¶  
SELECT * FROM products WHERE category = 'ç”µå­äº§å“' AND price BETWEEN 1000 AND 5000;
-- ä¸‹æ¨ï¼šprice BETWEENï¼ˆå¦‚æœpriceåœ¨ç´¢å¼•ä¸­ï¼‰

-- 3. LIKEæ¨¡å¼åŒ¹é…
SELECT * FROM articles WHERE title LIKE 'æŠ€æœ¯%' AND status = 'published';
-- ä¸‹æ¨ï¼šstatus = 'published'ï¼ˆå¦‚æœstatusåœ¨ç´¢å¼•ä¸­ï¼‰

-- 4. INæŸ¥è¯¢æ¡ä»¶
SELECT * FROM orders WHERE user_id IN (1,2,3) AND status = 'paid';
-- ä¸‹æ¨ï¼šstatus = 'paid'ï¼ˆå¦‚æœstatusåœ¨ç´¢å¼•ä¸­ï¼‰

-- 5. IS NULL/IS NOT NULL
SELECT * FROM customers WHERE phone IS NOT NULL AND city = 'ä¸Šæµ·';
-- ä¸‹æ¨ï¼šphone IS NOT NULLï¼ˆå¦‚æœphoneåœ¨ç´¢å¼•ä¸­ï¼‰
```

**âŒ ä¸æ”¯æŒä¸‹æ¨çš„æ¡ä»¶ç±»å‹**

```sql
-- 1. å­æŸ¥è¯¢æ¡ä»¶
SELECT * FROM users 
WHERE age > 25 
  AND id IN (SELECT user_id FROM orders WHERE amount > 1000);
-- åŸå› ï¼šå­æŸ¥è¯¢éœ€è¦è®¿é—®å…¶ä»–è¡¨ï¼Œå­˜å‚¨å¼•æ“å±‚æ— æ³•å¤„ç†

-- 2. å­˜å‚¨å‡½æ•°è°ƒç”¨
SELECT * FROM users 
WHERE age > 25 
  AND custom_function(name) = 'result';
-- åŸå› ï¼šå­˜å‚¨å‡½æ•°åœ¨MySQL Serverå±‚æ‰§è¡Œ

-- 3. å¤æ‚è¡¨è¾¾å¼
SELECT * FROM products 
WHERE price > 100 
  AND (description LIKE '%å…³é”®è¯1%' OR description LIKE '%å…³é”®è¯2%');
-- åŸå› ï¼šå¤æ‚çš„ORæ¡ä»¶éš¾ä»¥åœ¨å­˜å‚¨å¼•æ“å±‚ä¼˜åŒ–

-- 4. è·¨è¡¨å¼•ç”¨
SELECT * FROM users u
WHERE u.age > 25 
  AND EXISTS (SELECT 1 FROM orders o WHERE o.user_id = u.id);
-- åŸå› ï¼šéœ€è¦è®¿é—®å…¶ä»–è¡¨çš„æ•°æ®
```

### 3.2 ç´¢å¼•è¦†ç›–åº¦ä¸ä¸‹æ¨æ•ˆæœ


**ğŸ”¸ ç´¢å¼•åˆ—è¦†ç›–åº¦åˆ†æ**

```sql
-- ç¤ºä¾‹è¡¨å’Œç´¢å¼•
CREATE TABLE user_orders (
    id INT PRIMARY KEY,
    user_id INT,
    order_date DATE,
    amount DECIMAL(10,2),
    status VARCHAR(20),
    city VARCHAR(50)
);

CREATE INDEX idx_user_date_amount ON user_orders(user_id, order_date, amount);
```

**ğŸ“Š ä¸åŒæŸ¥è¯¢çš„ICPæ•ˆæœ**

| æŸ¥è¯¢æ¡ä»¶ | **ç´¢å¼•ä½¿ç”¨æƒ…å†µ** | **ICPä¸‹æ¨æ¡ä»¶** | **æ€§èƒ½æå‡** |
|---------|----------------|----------------|-------------|
| `user_id=1 AND order_date>'2024-01-01'` | `å®Œå…¨åŒ¹é…` | `æ— éœ€ä¸‹æ¨` | `æ— é¢å¤–æå‡` |
| `user_id=1 AND amount>1000` | `éƒ¨åˆ†åŒ¹é…` | `amount>1000` | `â˜…â˜…â˜…â˜†â˜†` |
| `user_id=1 AND order_date>'2024-01-01' AND amount>1000` | `éƒ¨åˆ†åŒ¹é…` | `amount>1000` | `â˜…â˜…â˜…â˜…â˜†` |
| `user_id=1 AND amount>1000 AND status='paid'` | `éƒ¨åˆ†åŒ¹é…` | `amount>1000` | `â˜…â˜…â˜…â˜†â˜†` |

### 3.3 ICPä¸‹æ¨æ¡ä»¶çš„é™åˆ¶


**ğŸ”¸ MySQL ICPé™åˆ¶æ¡ä»¶**

```
ICPä¸èƒ½ä¸‹æ¨çš„æƒ…å†µï¼š

ğŸ”¸ å­˜å‚¨å¼•æ“é™åˆ¶
â€¢ MyISAMï¼šä¸æ”¯æŒICP
â€¢ Memoryï¼šä¸æ”¯æŒICP  
â€¢ InnoDBï¼šæ”¯æŒICP âœ“
â€¢ NDBï¼šæ”¯æŒICP âœ“

ğŸ”¸ æŸ¥è¯¢ç±»å‹é™åˆ¶
â€¢ ä¸»é”®æŸ¥è¯¢ï¼šä¸éœ€è¦ICP
â€¢ è¦†ç›–ç´¢å¼•æŸ¥è¯¢ï¼šå·²ç»æœ€ä¼˜åŒ–
â€¢ å…¨è¡¨æ‰«æï¼šæ— ç´¢å¼•å¯ç”¨

ğŸ”¸ æ¡ä»¶å¤æ‚åº¦é™åˆ¶
â€¢ åŒ…å«å­æŸ¥è¯¢çš„æ¡ä»¶
â€¢ è°ƒç”¨å­˜å‚¨å‡½æ•°çš„æ¡ä»¶
â€¢ è¿‡äºå¤æ‚çš„è¡¨è¾¾å¼è®¡ç®—
```

**ğŸ”§ ICPé™åˆ¶æ£€æŸ¥ç¤ºä¾‹**

```sql
-- æŸ¥çœ‹æŸä¸ªæŸ¥è¯¢æ˜¯å¦ä½¿ç”¨äº†ICP
EXPLAIN FORMAT=JSON 
SELECT * FROM user_orders 
WHERE user_id = 1001 
  AND order_date > '2024-01-01' 
  AND amount > 1000;

-- åœ¨JSONè¾“å‡ºä¸­æŸ¥æ‰¾ï¼š
-- "index_condition": "(user_orders.amount > 1000)"
-- è¯´æ˜amount > 1000æ¡ä»¶è¢«ä¸‹æ¨äº†
```

---

## 4. ğŸ“ˆ ICPæ€§èƒ½æå‡åˆ†æ


### 4.1 æ€§èƒ½æå‡çš„é‡åŒ–åˆ†æ


**ğŸ”¸ å›è¡¨æ¬¡æ•°å‡å°‘æ•ˆæœ**

```
æ€§èƒ½æµ‹è¯•åœºæ™¯ï¼š
è¡¨è®°å½•æ•°ï¼š1000ä¸‡æ¡
ç´¢å¼•ï¼šKEY idx_name_age(name, age)
æŸ¥è¯¢ï¼šWHERE name LIKE 'å¼ %' AND age > 30 AND salary > 8000

æ— ICPæƒ…å†µï¼š
1. ç´¢å¼•æ‰«ææ‰¾åˆ°name LIKE 'å¼ %'ï¼šçº¦10ä¸‡æ¡è®°å½•
2. å…¨éƒ¨å›è¡¨è¯»å–å®Œæ•´è¡Œï¼š10ä¸‡æ¬¡ç£ç›˜I/O
3. Serverå±‚åº”ç”¨ageå’Œsalaryæ¡ä»¶ï¼šæœ€ç»ˆ1ä¸‡æ¡ç¬¦åˆ

æœ‰ICPæƒ…å†µï¼š  
1. ç´¢å¼•æ‰«ææ‰¾åˆ°name LIKE 'å¼ %'ï¼šçº¦10ä¸‡æ¡è®°å½•
2. å­˜å‚¨å¼•æ“å±‚åº”ç”¨age > 30ï¼šè¿‡æ»¤åˆ°5ä¸‡æ¡
3. åªå¯¹5ä¸‡æ¡è®°å½•å›è¡¨ï¼š5ä¸‡æ¬¡ç£ç›˜I/O
4. Serverå±‚åº”ç”¨salaryæ¡ä»¶ï¼šæœ€ç»ˆ1ä¸‡æ¡ç¬¦åˆ

æ€§èƒ½æå‡ï¼šå‡å°‘50%çš„å›è¡¨æ“ä½œ
```

**ğŸ“Š çœŸå®æ€§èƒ½æµ‹è¯•æ•°æ®**

```
æµ‹è¯•ç¯å¢ƒï¼šMySQL 8.0ï¼ŒInnoDBï¼Œ1000ä¸‡æ¡è®°å½•

æµ‹è¯•æ¡ˆä¾‹1ï¼šå¤åˆç´¢å¼•éƒ¨åˆ†æ¡ä»¶æŸ¥è¯¢
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æŸ¥è¯¢ç±»å‹   â”‚ æ— ICPè€—æ—¶ â”‚ æœ‰ICPè€—æ—¶ â”‚ æå‡æ¯”ä¾‹ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å•åˆ—ç²¾ç¡®åŒ¹é… â”‚   0.1ç§’  â”‚   0.1ç§’  â”‚   0%    â”‚
â”‚ åŒåˆ—èŒƒå›´æŸ¥è¯¢ â”‚   3.2ç§’  â”‚   1.8ç§’  â”‚  44%    â”‚
â”‚ ä¸‰åˆ—æ··åˆæŸ¥è¯¢ â”‚   5.5ç§’  â”‚   2.1ç§’  â”‚  62%    â”‚
â”‚ LIKE+èŒƒå›´æŸ¥è¯¢â”‚   8.7ç§’  â”‚   3.2ç§’  â”‚  63%    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 I/Oå‡å°‘é‡åŒ–åˆ†æ


**ğŸ”¸ ç£ç›˜I/Oä¼˜åŒ–æ•ˆæœ**

```
I/Oæ“ä½œåˆ†æï¼ˆä»¥100ä¸‡è®°å½•è¡¨ä¸ºä¾‹ï¼‰ï¼š

åœºæ™¯ï¼šWHERE name='å¸¸è§å§“' AND age>25 AND department='æŠ€æœ¯éƒ¨'
ç´¢å¼•ï¼šidx_name_age(name, age)

æ— ICPçš„I/Oå¼€é”€ï¼š
â”Œâ”€ ç´¢å¼•æ‰«æ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è¯»å–ç´¢å¼•é¡µï¼šçº¦100é¡µ        â”‚
â”‚ æ‰¾åˆ°åŒ¹é…è®°å½•ï¼š5000æ¡       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€ å›è¡¨æ“ä½œ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  
â”‚ è¯»å–æ•°æ®é¡µï¼š5000é¡µ         â”‚ â† å…¨éƒ¨éœ€è¦è¯»å–
â”‚ åº”ç”¨å‰©ä½™æ¡ä»¶ç­›é€‰           â”‚
â”‚ æœ€ç»ˆç»“æœï¼š500æ¡            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
æ€»I/Oï¼š5100é¡µè¯»å–

ä½¿ç”¨ICPçš„I/Oå¼€é”€ï¼š
â”Œâ”€ ç´¢å¼•æ‰«æ+ICPè¿‡æ»¤ â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è¯»å–ç´¢å¼•é¡µï¼šçº¦100é¡µ        â”‚
â”‚ åº”ç”¨age>25æ¡ä»¶è¿‡æ»¤        â”‚
â”‚ ç¡®å®šéœ€è¦å›è¡¨ï¼š2000æ¡       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€ å›è¡¨æ“ä½œ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è¯»å–æ•°æ®é¡µï¼š2000é¡µ         â”‚ â† å‡å°‘60%è¯»å–
â”‚ åº”ç”¨å‰©ä½™æ¡ä»¶ç­›é€‰           â”‚  
â”‚ æœ€ç»ˆç»“æœï¼š500æ¡            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
æ€»I/Oï¼š2100é¡µè¯»å–

I/Oå‡å°‘ï¼š(5100-2100)/5100 = 59%
```

### 4.3 CPUå¼€é”€åˆ†æ


**ğŸ”¸ CPUä½¿ç”¨æ¨¡å¼å˜åŒ–**

```
CPUå¼€é”€é‡æ–°åˆ†é…ï¼š

ä¼ ç»Ÿæ¨¡å¼CPUåˆ†å¸ƒï¼š
å­˜å‚¨å¼•æ“å±‚ï¼š30%ï¼ˆç´¢å¼•æ‰«æï¼‰
ç½‘ç»œä¼ è¾“ï¼š  20%ï¼ˆå¤§é‡æ•°æ®ä¼ è¾“ï¼‰
Serverå±‚ï¼š  50%ï¼ˆæ¡ä»¶è¿‡æ»¤ã€ç»“æœå¤„ç†ï¼‰

ICPæ¨¡å¼CPUåˆ†å¸ƒï¼š  
å­˜å‚¨å¼•æ“å±‚ï¼š45%ï¼ˆç´¢å¼•æ‰«æ+æ¡ä»¶è¿‡æ»¤ï¼‰â† å¢åŠ 
ç½‘ç»œä¼ è¾“ï¼š  5% ï¼ˆå‡å°‘æ•°æ®ä¼ è¾“ï¼‰      â† å¤§å¹…å‡å°‘
Serverå±‚ï¼š  50%ï¼ˆç»“æœå¤„ç†ï¼‰          â† ç•¥å¾®å‡å°‘

æ€»ä½“æ•ˆæœï¼šæ€»CPUä½¿ç”¨é‡é™ä½ï¼Œä½†åˆ†å¸ƒæ›´åˆç†
```

---

## 5. ğŸ¯ ICPé€‚ç”¨æ¡ä»¶ä¸åœºæ™¯


### 5.1 ICPå¯ç”¨çš„å‰ç½®æ¡ä»¶


**ğŸ“‹ ICPå¯ç”¨æ€§æ£€æŸ¥æ¸…å•**

```
ğŸ“‹ **ICPå¯ç”¨æ¡ä»¶æ£€æŸ¥**
- [ ] MySQLç‰ˆæœ¬ â‰¥ 5.6
- [ ] å­˜å‚¨å¼•æ“ä¸ºInnoDBæˆ–NDB
- [ ] æŸ¥è¯¢ä½¿ç”¨äºŒçº§ç´¢å¼•ï¼ˆéä¸»é”®ç´¢å¼•ï¼‰
- [ ] WHEREæ¡ä»¶æ¶‰åŠç´¢å¼•ä¸­çš„åˆ—
- [ ] æ¡ä»¶ä¸åŒ…å«å­æŸ¥è¯¢æˆ–å­˜å‚¨å‡½æ•°
- [ ] optimizer_switchä¸­index_condition_pushdown=on
```

**ğŸ”§ ç¯å¢ƒæ£€æŸ¥å‘½ä»¤**

```sql
-- 1. æ£€æŸ¥MySQLç‰ˆæœ¬
SELECT VERSION();

-- 2. æ£€æŸ¥ICPæ˜¯å¦å¯ç”¨
SHOW VARIABLES LIKE 'optimizer_switch';
-- æŸ¥æ‰¾ï¼šindex_condition_pushdown=on

-- 3. æ£€æŸ¥è¡¨çš„å­˜å‚¨å¼•æ“
SELECT TABLE_NAME, ENGINE 
FROM information_schema.TABLES 
WHERE TABLE_SCHEMA = 'your_database';

-- 4. æŸ¥çœ‹å½“å‰ä¼šè¯ICPçŠ¶æ€
SELECT $$optimizer_switch;
```

### 5.2 æœ€é€‚åˆICPçš„æŸ¥è¯¢åœºæ™¯


**ğŸ¯ é«˜æ”¶ç›ŠICPåœºæ™¯**

```sql
-- åœºæ™¯1ï¼šå¤åˆç´¢å¼•çš„å‰ç¼€+èŒƒå›´æŸ¥è¯¢
CREATE INDEX idx_category_price ON products(category, price);

SELECT * FROM products 
WHERE category = 'ç”µå­äº§å“' 
  AND price > 1000          -- å¯ä»¥ä¸‹æ¨
  AND description LIKE '%çƒ­é”€%';  -- æ— æ³•ä¸‹æ¨ï¼Œåœ¨Serverå±‚å¤„ç†

-- åœºæ™¯2ï¼šLIKEæŸ¥è¯¢+é™„åŠ æ¡ä»¶
CREATE INDEX idx_name_age ON employees(name, age);

SELECT * FROM employees 
WHERE name LIKE 'å¼ %'        -- ç´¢å¼•èŒƒå›´æ‰«æ
  AND age BETWEEN 25 AND 40  -- å¯ä»¥ä¸‹æ¨
  AND department = 'ç ”å‘éƒ¨';  -- åœ¨Serverå±‚å¤„ç†

-- åœºæ™¯3ï¼šå¤šæ¡ä»¶ç»„åˆæŸ¥è¯¢
CREATE INDEX idx_date_status ON orders(order_date, status);

SELECT * FROM orders 
WHERE order_date >= '2024-01-01'  -- ç´¢å¼•èµ·å§‹æ¡ä»¶
  AND status IN ('paid', 'shipped')  -- å¯ä»¥ä¸‹æ¨
  AND amount > 500;                  -- åœ¨Serverå±‚å¤„ç†
```

### 5.3 ICPæ•ˆæœä¸æ˜æ˜¾çš„åœºæ™¯


**âš ï¸ ä½æ”¶ç›Šæˆ–æ— æ•ˆæœåœºæ™¯**

```sql
-- 1. è¦†ç›–ç´¢å¼•æŸ¥è¯¢ï¼ˆå·²ç»æœ€ä¼˜ï¼‰
CREATE INDEX idx_cover ON users(name, age, city);
SELECT name, age, city FROM users WHERE name = 'å¼ ä¸‰' AND age > 25;
-- ICPæ— æ•ˆæœï¼šä¸éœ€è¦å›è¡¨ï¼Œå·²ç»æ˜¯æœ€ä¼˜çŠ¶æ€

-- 2. ä¸»é”®æŸ¥è¯¢ï¼ˆç›´æ¥å®šä½ï¼‰
SELECT * FROM users WHERE id = 12345;
-- ICPæ— æ•ˆæœï¼šä¸»é”®æŸ¥è¯¢ç›´æ¥å®šä½ï¼Œæ— éœ€è¿‡æ»¤

-- 3. å…¨è¡¨æ‰«ææŸ¥è¯¢
SELECT * FROM users WHERE salary > 10000;  -- æ— ç´¢å¼•
-- ICPæ— æ•ˆæœï¼šæ²¡æœ‰å¯ç”¨ç´¢å¼•

-- 4. ç®€å•ç´¢å¼•æŸ¥è¯¢
CREATE INDEX idx_name ON users(name);
SELECT * FROM users WHERE name = 'å¼ ä¸‰';
-- ICPæå‡æœ‰é™ï¼šæ¡ä»¶å·²ç»å®Œå…¨åŒ¹é…ç´¢å¼•
```

### 5.4 ICPé€‚ç”¨åœºæ™¯å†³ç­–æ ‘


```
ICPé€‚ç”¨æ€§åˆ¤æ–­æµç¨‹ï¼š

æŸ¥è¯¢æ˜¯å¦ä½¿ç”¨ç´¢å¼•ï¼Ÿ
â”œâ”€ No â”€â”€â†’ å…¨è¡¨æ‰«æï¼ŒICPæ— æ•ˆ
â””â”€ Yes
    â†“
ç´¢å¼•æ˜¯å¦ä¸ºå¤åˆç´¢å¼•æˆ–éƒ¨åˆ†åŒ¹é…ï¼Ÿ
â”œâ”€ No â”€â”€â†’ ç®€å•ç´¢å¼•å®Œå…¨åŒ¹é…ï¼ŒICPæå‡æœ‰é™
â””â”€ Yes  
    â†“
WHEREæ¡ä»¶æ˜¯å¦åŒ…å«ç´¢å¼•åç»­åˆ—ï¼Ÿ
â”œâ”€ No â”€â”€â†’ æ— å¯ä¸‹æ¨æ¡ä»¶ï¼ŒICPæ— æ•ˆ
â””â”€ Yes
    â†“
æ¡ä»¶æ˜¯å¦åŒ…å«å­æŸ¥è¯¢/å‡½æ•°ï¼Ÿ
â”œâ”€ Yes â”€â”€â†’ æ— æ³•ä¸‹æ¨ï¼ŒICPæ— æ•ˆ
â””â”€ No â”€â”€â†’ âœ… é€‚åˆä½¿ç”¨ICPä¼˜åŒ–

æœ€ä½³åœºæ™¯ï¼šå¤åˆç´¢å¼• + å‰ç¼€ç²¾ç¡®åŒ¹é… + åç»­åˆ—èŒƒå›´æ¡ä»¶
```

---

## 6. âš™ï¸ ICPå¼€å¯é…ç½®ä¸ç›‘æ§


### 6.1 ICPåŠŸèƒ½é…ç½®


**ğŸ”§ ICPå¼€å¯å’Œé…ç½®**

```sql
-- 1. æ£€æŸ¥ICPå½“å‰çŠ¶æ€
SELECT $$optimizer_switch;

-- 2. å…¨å±€å¯ç”¨ICPï¼ˆå½±å“æ‰€æœ‰æ–°è¿æ¥ï¼‰
SET GLOBAL optimizer_switch = 'index_condition_pushdown=on';

-- 3. å½“å‰ä¼šè¯å¯ç”¨ICP  
SET SESSION optimizer_switch = 'index_condition_pushdown=on';

-- 4. ä¸´æ—¶ç¦ç”¨ICPï¼ˆç”¨äºå¯¹æ¯”æµ‹è¯•ï¼‰
SET SESSION optimizer_switch = 'index_condition_pushdown=off';

-- 5. åœ¨æŸ¥è¯¢ä¸­å¼ºåˆ¶ä½¿ç”¨æˆ–ç¦ç”¨ICP
SELECT /*+ USE_INDEX_CONDITION_PUSHDOWN */ * FROM users WHERE name LIKE 'å¼ %' AND age > 25;
SELECT /*+ NO_ICP */ * FROM users WHERE name LIKE 'å¼ %' AND age > 25;
```

**ğŸ“ é…ç½®æ–‡ä»¶è®¾ç½®**

```ini
# my.cnfé…ç½®æ–‡ä»¶ä¸­å¯ç”¨ICP
[mysqld]
# å¯ç”¨ICPå’Œç›¸å…³ä¼˜åŒ–å™¨é€‰é¡¹
optimizer_switch = 'index_condition_pushdown=on,mrr=on,mrr_cost_based=on'

# ç›¸å…³æ€§èƒ½å‚æ•°
innodb_buffer_pool_size = 2G
read_ahead_threshold = 56
read_rnd_buffer_size = 2M
```

### 6.2 ICPæ€§èƒ½ç›‘æ§


**ğŸ“Š ICPç›‘æ§æŒ‡æ ‡**

```sql
-- 1. æŸ¥çœ‹ICPç»Ÿè®¡ä¿¡æ¯
SELECT * FROM performance_schema.events_statements_summary_by_digest 
WHERE DIGEST_TEXT LIKE '%your_table%' 
ORDER BY AVG_TIMER_WAIT DESC;

-- 2. ç›‘æ§HandlerçŠ¶æ€
SHOW STATUS LIKE 'Handler_%';
-- å…³æ³¨ï¼š
-- Handler_read_nextï¼šç´¢å¼•æ‰«ææ¬¡æ•°
-- Handler_read_rnd_nextï¼šå…¨è¡¨æ‰«ææ¬¡æ•°

-- 3. æŸ¥çœ‹æŸ¥è¯¢æ‰§è¡Œè®¡åˆ’
EXPLAIN FORMAT=JSON 
SELECT * FROM users 
WHERE name LIKE 'å¼ %' AND age > 25;

-- åœ¨JSONè¾“å‡ºä¸­æŸ¥æ‰¾ï¼š
-- "index_condition": "(users.age > 25)"
```

**ğŸ“ˆ ICPæ•ˆæœç›‘æ§ä»ªè¡¨æ¿**

```java
public class ICPPerformanceMonitor {
    
    // ç›‘æ§ICPæ•ˆæœçš„å…³é”®æŒ‡æ ‡
    public class ICPMetrics {
        private long totalQueries;
        private long icpEnabledQueries;
        private double avgExecutionTimeWithICP;
        private double avgExecutionTimeWithoutICP;
        private long logicalReads;
        private long physicalReads;
        
        public double getPerformanceImprovement() {
            return (avgExecutionTimeWithoutICP - avgExecutionTimeWithICP) 
                   / avgExecutionTimeWithoutICP * 100;
        }
        
        public double getIOReduction() {
            return (1.0 - (double) physicalReads / logicalReads) * 100;
        }
    }
    
    // å®æ—¶ç›‘æ§ICPæ•ˆæœ
    public void monitorICPPerformance(String query) {
        long startTime = System.currentTimeMillis();
        
        // æ‰§è¡ŒæŸ¥è¯¢å¹¶æ”¶é›†ç»Ÿè®¡ä¿¡æ¯
        executeQueryWithStatistics(query);
        
        long executionTime = System.currentTimeMillis() - startTime;
        
        // è¾“å‡ºç›‘æ§æŠ¥å‘Š
        System.out.printf("""
            â”Œâ”€ ğŸ“Š ICPæ€§èƒ½ç›‘æ§æŠ¥å‘Š â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚ æŸ¥è¯¢è€—æ—¶: %d ms                â”‚
            â”‚ ICPå‘½ä¸­: %s                    â”‚
            â”‚ é€»è¾‘è¯»å–: %,d é¡µ               â”‚
            â”‚ ç‰©ç†è¯»å–: %,d é¡µ               â”‚ 
            â”‚ I/Oå‡å°‘: %.1f%%                â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            """, 
            executionTime,
            isICPUsed(query) ? "âœ…" : "âŒ",
            getLogicalReads(),
            getPhysicalReads(),
            getIOReduction()
        );
    }
}
```

### 6.3 ICPçŠ¶æ€è¯Šæ–­


**ğŸ” ICPé—®é¢˜è¯Šæ–­æµç¨‹**

```sql
-- è¯Šæ–­ICPæ˜¯å¦æ­£å¸¸å·¥ä½œ

-- 1. éªŒè¯åŸºç¡€é…ç½®
SELECT 
    $$version AS mysql_version,
    $$optimizer_switch LIKE '%index_condition_pushdown=on%' AS icp_enabled;

-- 2. åˆ†æå…·ä½“æŸ¥è¯¢
EXPLAIN FORMAT=TRADITIONAL 
SELECT * FROM test_table WHERE col1 = 'value' AND col2 > 100;

-- 3. è¯¦ç»†æ‰§è¡Œè®¡åˆ’åˆ†æ
EXPLAIN FORMAT=JSON 
SELECT * FROM test_table WHERE col1 = 'value' AND col2 > 100;

-- 4. æŸ¥çœ‹Handlerç»Ÿè®¡
FLUSH STATUS;
SELECT * FROM test_table WHERE col1 = 'value' AND col2 > 100;
SHOW STATUS LIKE 'Handler_read%';
```

**ğŸ› ï¸ å¸¸è§ICPé—®é¢˜è¯Šæ–­**

| ç—‡çŠ¶ | **å¯èƒ½åŸå› ** | **è§£å†³æ–¹æ³•** |
|------|-------------|-------------|
| `EXPLAINä¸­æ— ICPä¿¡æ¯` | `optimizer_switchå…³é—­` | `SET optimizer_switch='index_condition_pushdown=on'` |
| `æŸ¥è¯¢ä»ç„¶å¾ˆæ…¢` | `ç´¢å¼•è®¾è®¡ä¸åˆç†` | `åˆ†ææŸ¥è¯¢æ¨¡å¼ï¼Œé‡æ–°è®¾è®¡ç´¢å¼•` |
| `Handler_read_rndè¿‡å¤š` | `å›è¡¨æ“ä½œå¤ªå¤š` | `è€ƒè™‘è¦†ç›–ç´¢å¼•æˆ–ä¼˜åŒ–æŸ¥è¯¢æ¡ä»¶` |
| `ICPæ¡ä»¶æ˜¾ç¤ºä¸å…¨` | `æ¡ä»¶è¿‡äºå¤æ‚` | `ç®€åŒ–WHEREæ¡ä»¶æˆ–æ‹†åˆ†æŸ¥è¯¢` |

---

## 7. ğŸ”„ ICPä¸å…¶ä»–ä¼˜åŒ–æŠ€æœ¯ååŒ


### 7.1 ICPä¸è¦†ç›–ç´¢å¼•ç»“åˆ


**ğŸ”¸ æœ€å¼ºç»„åˆï¼šICP + è¦†ç›–ç´¢å¼•**

è¦†ç›–ç´¢å¼•å°±åƒæ˜¯å•†å“çš„è¯¦ç»†æ ‡ç­¾ï¼Œä¸Šé¢å†™ç€å•†å“çš„æ‰€æœ‰ä¿¡æ¯ï¼Œä¸ç”¨æ‹†åŒ…å°±èƒ½çŸ¥é“é‡Œé¢æ˜¯ä»€ä¹ˆã€‚ICP+è¦†ç›–ç´¢å¼•å°±æ˜¯æ—¢æœ‰è¯¦ç»†æ ‡ç­¾ï¼Œåˆæœ‰æ™ºèƒ½ç­›é€‰ã€‚

```sql
-- ç¤ºä¾‹ï¼šè®¢å•æŸ¥è¯¢ä¼˜åŒ–

-- åŸå§‹æŸ¥è¯¢
SELECT order_id, user_id, order_date, amount 
FROM orders 
WHERE user_id = 1001 
  AND order_date >= '2024-01-01' 
  AND amount > 1000;

-- ä¼˜åŒ–ç­–ç•¥ï¼šåˆ›å»ºè¦†ç›–ç´¢å¼•
CREATE INDEX idx_cover_icp ON orders(user_id, order_date, amount, order_id);

æ‰§è¡Œè®¡åˆ’åˆ†æï¼š
1. ç´¢å¼•å®Œå…¨è¦†ç›–æŸ¥è¯¢æ‰€éœ€å­—æ®µ âœ“
2. ICPä¸‹æ¨amount > 1000æ¡ä»¶ âœ“  
3. æ— éœ€å›è¡¨æ“ä½œ âœ“
4. æ€§èƒ½æå‡ï¼š5-10å€
```

**ğŸ“Š ç»„åˆä¼˜åŒ–æ•ˆæœå¯¹æ¯”**

| ä¼˜åŒ–ç­–ç•¥ | **æ‰§è¡Œæ—¶é—´** | **I/Oæ“ä½œ** | **é€‚ç”¨åœºæ™¯** |
|---------|-------------|------------|-------------|
| `æ™®é€šç´¢å¼•` | `100ms` | `1000æ¬¡å›è¡¨` | `åŸºç¡€æŸ¥è¯¢` |
| `æ™®é€šç´¢å¼•+ICP` | `60ms` | `400æ¬¡å›è¡¨` | `å¤æ‚æ¡ä»¶æŸ¥è¯¢` |
| `è¦†ç›–ç´¢å¼•` | `20ms` | `0æ¬¡å›è¡¨` | `å­—æ®µè¾ƒå°‘çš„æŸ¥è¯¢` |
| `è¦†ç›–ç´¢å¼•+ICP` | `10ms` | `0æ¬¡å›è¡¨` | `å¤æ‚æ¡ä»¶+å­—æ®µè¾ƒå°‘` |

### 7.2 ICPä¸MRRååŒä¼˜åŒ–


**ğŸ”¸ Multi-Range Read (MRR) + ICP**

```sql
-- å¯ç”¨MRRå’ŒICPååŒå·¥ä½œ
SET SESSION optimizer_switch = 'mrr=on,mrr_cost_based=on,index_condition_pushdown=on';

-- ä¼˜åŒ–æ•ˆæœï¼šèŒƒå›´æŸ¥è¯¢+æ’åº
SELECT * FROM orders 
WHERE user_id BETWEEN 1000 AND 2000 
  AND order_date >= '2024-01-01'
  AND amount > 500
ORDER BY order_date;

æ‰§è¡Œä¼˜åŒ–ï¼š
1. MRRä¼˜åŒ–ï¼šå°†éšæœºI/Oè½¬æ¢ä¸ºé¡ºåºI/O
2. ICPä¼˜åŒ–ï¼šåœ¨ç´¢å¼•å±‚è¿‡æ»¤order_dateå’Œamountæ¡ä»¶
3. ååŒæ•ˆæœï¼šå‡å°‘å›è¡¨æ¬¡æ•°+ä¼˜åŒ–I/Oæ¨¡å¼
```

### 7.3 ICPä¸åˆ†åŒºè¡¨ä¼˜åŒ–


**ğŸ”¸ åˆ†åŒºè¡¨ä¸­çš„ICPåº”ç”¨**

```sql
-- åˆ›å»ºåˆ†åŒºè¡¨
CREATE TABLE sales_data (
    id INT,
    sale_date DATE,
    region VARCHAR(50),
    amount DECIMAL(10,2),
    product_id INT
) PARTITION BY RANGE (YEAR(sale_date)) (
    PARTITION p2022 VALUES LESS THAN (2023),
    PARTITION p2023 VALUES LESS THAN (2024),
    PARTITION p2024 VALUES LESS THAN (2025)
);

-- åˆ›å»ºç´¢å¼•
CREATE INDEX idx_region_amount ON sales_data(region, amount);

-- ä¼˜åŒ–æŸ¥è¯¢ï¼šåˆ†åŒºå‰ªæ + ICP
SELECT * FROM sales_data 
WHERE sale_date >= '2024-01-01'    -- è§¦å‘åˆ†åŒºå‰ªæ
  AND region = 'åä¸œ'              -- ç´¢å¼•ç²¾ç¡®åŒ¹é…
  AND amount > 10000;              -- ICPæ¡ä»¶ä¸‹æ¨

ä¼˜åŒ–æ•ˆæœå åŠ ï¼š
åˆ†åŒºå‰ªæï¼šå‡å°‘67%çš„æ•°æ®æ‰«æï¼ˆåªæ‰«æ2024åˆ†åŒºï¼‰
ICPä¼˜åŒ–ï¼šå‡å°‘60%çš„å›è¡¨æ“ä½œ
æ€»ä½“æå‡ï¼šçº¦5-8å€æ€§èƒ½æå‡
```

---

## 8. ğŸ“Š ICPæ€§èƒ½è¯„ä¼°æ–¹æ³•


### 8.1 æ€§èƒ½æµ‹è¯•æ–¹æ³•


**ğŸ”§ A/Bæµ‹è¯•æ¡†æ¶**

```java
public class ICPPerformanceTester {
    
    public class TestResult {
        private long executionTime;
        private long logicalReads;
        private long rowsExamined;
        private long rowsReturned;
        
        public double getSelectivity() {
            return (double) rowsReturned / rowsExamined;
        }
    }
    
    public void compareICPPerformance(String testQuery) {
        // æµ‹è¯•1ï¼šç¦ç”¨ICP
        TestResult withoutICP = executeWithConfig(testQuery, 
            "index_condition_pushdown=off");
        
        // æµ‹è¯•2ï¼šå¯ç”¨ICP
        TestResult withICP = executeWithConfig(testQuery,
            "index_condition_pushdown=on");
        
        // è®¡ç®—æ€§èƒ½æå‡
        double timeImprovement = calculateImprovement(
            withoutICP.getExecutionTime(), 
            withICP.getExecutionTime()
        );
        
        double ioImprovement = calculateImprovement(
            withoutICP.getLogicalReads(),
            withICP.getLogicalReads()
        );
        
        // è¾“å‡ºå¯¹æ¯”æŠ¥å‘Š
        printComparisonReport(withoutICP, withICP, timeImprovement, ioImprovement);
    }
    
    private void printComparisonReport(TestResult without, TestResult with, 
                                     double timeImprove, double ioImprove) {
        System.out.printf("""
            â”Œâ”€ ğŸ§ª ICPæ€§èƒ½æµ‹è¯•æŠ¥å‘Š â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚                  â”‚ æ— ICP   â”‚ æœ‰ICP   â”‚ æå‡    â”‚
            â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
            â”‚ æ‰§è¡Œæ—¶é—´(ms)     â”‚ %7d â”‚ %7d â”‚ %.1f%%  â”‚
            â”‚ é€»è¾‘è¯»å–(é¡µ)     â”‚ %7d â”‚ %7d â”‚ %.1f%%  â”‚  
            â”‚ æ‰«æè¡Œæ•°         â”‚ %7d â”‚ %7d â”‚ %.1f%%  â”‚
            â”‚ è¿”å›è¡Œæ•°         â”‚ %7d â”‚ %7d â”‚ â”€       â”‚
            â”‚ é€‰æ‹©æ€§           â”‚ %.3f   â”‚ %.3f   â”‚ â”€       â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            """,
            without.getExecutionTime(), with.getExecutionTime(), timeImprove,
            without.getLogicalReads(), with.getLogicalReads(), ioImprove,
            without.getRowsExamined(), with.getRowsExamined(),
            (double)(without.getRowsExamined() - with.getRowsExamined()) / without.getRowsExamined() * 100,
            without.getRowsReturned(), with.getRowsReturned(),
            without.getSelectivity(), with.getSelectivity()
        );
    }
}
```

### 8.2 ICPæ•ˆæœé‡åŒ–æŒ‡æ ‡


**ğŸ“Š å…³é”®æ€§èƒ½æŒ‡æ ‡å®šä¹‰**

```
ICPæ•ˆæœè¯„ä¼°æŒ‡æ ‡ï¼š

ğŸ”¸ æ—¶é—´æ€§èƒ½æŒ‡æ ‡
â€¢ æŸ¥è¯¢å“åº”æ—¶é—´ï¼šå®é™…ç”¨æˆ·ä½“éªŒ
â€¢ å•ä½ï¼šæ¯«ç§’(ms)
â€¢ ç›®æ ‡ï¼šå‡å°‘30-70%

ğŸ”¸ I/Oæ•ˆç‡æŒ‡æ ‡  
â€¢ é€»è¾‘è¯»å–é¡µæ•°ï¼šä»ç¼“å†²æ± è¯»å–çš„é¡µæ•°
â€¢ ç‰©ç†è¯»å–é¡µæ•°ï¼šä»ç£ç›˜è¯»å–çš„é¡µæ•°
â€¢ ç›®æ ‡ï¼šå‡å°‘40-80%

ğŸ”¸ CPUæ•ˆç‡æŒ‡æ ‡
â€¢ CPUåˆ©ç”¨ç‡åˆ†å¸ƒï¼šå­˜å‚¨å¼•æ“vs Serverå±‚
â€¢ æŒ‡ä»¤æ‰§è¡Œæ•ˆç‡ï¼šå‡å°‘æ— æ•ˆè®¡ç®—
â€¢ ç›®æ ‡ï¼šæ€»CPUä½¿ç”¨é‡é™ä½20-50%

ğŸ”¸ æ‰«ææ•ˆç‡æŒ‡æ ‡
â€¢ è¡Œæ‰«ææ¯”ä¾‹ï¼šæ‰«æè¡Œæ•°/è¿”å›è¡Œæ•°
â€¢ ç´¢å¼•å‘½ä¸­ç‡ï¼šæœ‰æ•ˆåˆ©ç”¨ç´¢å¼•çš„æ¯”ä¾‹  
â€¢ ç›®æ ‡ï¼šæ‰«ææ•ˆç‡æå‡2-5å€
```

### 8.3 é•¿æœŸæ€§èƒ½ç›‘æ§


**ğŸ“ˆ æŒç»­ç›‘æ§ä½“ç³»**

```sql
-- åˆ›å»ºICPæ€§èƒ½ç›‘æ§è§†å›¾
CREATE VIEW icp_performance_monitor AS
SELECT 
    DIGEST_TEXT,
    COUNT_STAR as execution_count,
    AVG_TIMER_WAIT/1000000000 as avg_execution_time_sec,
    SUM_ROWS_EXAMINED/COUNT_STAR as avg_rows_examined,
    SUM_ROWS_SENT/COUNT_STAR as avg_rows_returned,
    (SUM_ROWS_SENT/SUM_ROWS_EXAMINED)*100 as selectivity_percent,
    FIRST_SEEN,
    LAST_SEEN
FROM performance_schema.events_statements_summary_by_digest
WHERE DIGEST_TEXT IS NOT NULL
  AND DIGEST_TEXT LIKE '%WHERE%'
  AND SUM_ROWS_EXAMINED > SUM_ROWS_SENT  -- æœ‰è¿‡æ»¤æ¡ä»¶çš„æŸ¥è¯¢
ORDER BY COUNT_STAR DESC;

-- å®šæœŸæ£€æŸ¥ICPæ•ˆæœ
SELECT * FROM icp_performance_monitor 
WHERE avg_rows_examined / avg_rows_returned > 5  -- é€‰æ‹©æ€§è¾ƒä½çš„æŸ¥è¯¢
LIMIT 10;
```

---

## 9. ğŸ¯ ICPä¼˜åŒ–ç­–ç•¥åˆ¶å®š


### 9.1 åŸºäºä¸šåŠ¡åœºæ™¯çš„ä¼˜åŒ–ç­–ç•¥


**ğŸ”¸ ç”µå•†ç³»ç»ŸICPä¼˜åŒ–æ¡ˆä¾‹**

```sql
-- ç”µå•†è®¢å•æŸ¥è¯¢åœºæ™¯åˆ†æ
-- å¸¸è§æŸ¥è¯¢æ¨¡å¼ï¼šæŒ‰ç”¨æˆ·ã€æ—¶é—´ã€çŠ¶æ€æŸ¥è¯¢è®¢å•

-- ä¸šåŠ¡æŸ¥è¯¢1ï¼šç”¨æˆ·è®¢å•å†å²
SELECT * FROM orders 
WHERE user_id = 12345 
  AND order_date >= '2024-01-01' 
  AND status IN ('paid', 'shipped');

-- ä¼˜åŒ–ç´¢å¼•è®¾è®¡
CREATE INDEX idx_user_date_status ON orders(user_id, order_date, status);

-- ICPä¼˜åŒ–æ•ˆæœï¼š
-- ä¸‹æ¨æ¡ä»¶ï¼šorder_date >= '2024-01-01' AND status IN ('paid', 'shipped')
-- é¢„æœŸæå‡ï¼š40-60%
```

**ğŸ“Š ä¸åŒä¸šåŠ¡åœºæ™¯çš„ICPæ”¶ç›Š**

| ä¸šåŠ¡åœºæ™¯ | **å…¸å‹æŸ¥è¯¢ç‰¹å¾** | **ICPé€‚ç”¨æ€§** | **é¢„æœŸæ”¶ç›Š** |
|---------|----------------|-------------|-------------|
| ğŸ›’ **ç”µå•†è®¢å•** | `ç”¨æˆ·+æ—¶é—´+çŠ¶æ€è¿‡æ»¤` | `â˜…â˜…â˜…â˜…â˜…` | `40-70%æå‡` |
| ğŸ“Š **æ•°æ®åˆ†æ** | `å¤šç»´åº¦èŒƒå›´æŸ¥è¯¢` | `â˜…â˜…â˜…â˜…â˜†` | `30-60%æå‡` |
| ğŸ‘¥ **ç”¨æˆ·ç®¡ç†** | `å±æ€§ç»„åˆæŸ¥è¯¢` | `â˜…â˜…â˜…â˜†â˜†` | `20-40%æå‡` |
| ğŸ“ **å†…å®¹æœç´¢** | `å…³é”®å­—+è¿‡æ»¤æ¡ä»¶` | `â˜…â˜…â˜…â˜…â˜†` | `50-80%æå‡` |
| ğŸ’° **é‡‘èäº¤æ˜“** | `ç²¾ç¡®åŒ¹é…ä¸ºä¸»` | `â˜…â˜…â˜†â˜†â˜†` | `10-30%æå‡` |

### 9.2 ç´¢å¼•è®¾è®¡ä¸ICPååŒç­–ç•¥


**ğŸ”§ ICPå‹å¥½çš„ç´¢å¼•è®¾è®¡åŸåˆ™**

```sql
-- åŸåˆ™1ï¼šå¸¸ç”¨ç²¾ç¡®æ¡ä»¶æ”¾åœ¨ç´¢å¼•å‰é¢
-- ä¸šåŠ¡éœ€æ±‚ï¼šç»å¸¸æŒ‰éƒ¨é—¨æŸ¥è¯¢å‘˜å·¥ï¼Œç„¶åè¿‡æ»¤å¹´é¾„å’Œè–ªèµ„
CREATE INDEX idx_dept_age_salary ON employees(department, age, salary);

-- æŸ¥è¯¢ç¤ºä¾‹
SELECT * FROM employees 
WHERE department = 'æŠ€æœ¯éƒ¨'     -- ç´¢å¼•ç²¾ç¡®åŒ¹é…
  AND age BETWEEN 25 AND 35    -- ICPä¸‹æ¨æ¡ä»¶  
  AND salary > 8000;           -- ICPä¸‹æ¨æ¡ä»¶

-- åŸåˆ™2ï¼šåŒºåˆ†åº¦é«˜çš„åˆ—ä¼˜å…ˆ
-- åˆ†æåˆ—çš„åŒºåˆ†åº¦
SELECT 
    COUNT(DISTINCT department) / COUNT(*) as dept_selectivity,
    COUNT(DISTINCT age) / COUNT(*) as age_selectivity,
    COUNT(DISTINCT salary) / COUNT(*) as salary_selectivity
FROM employees;

-- æ ¹æ®åŒºåˆ†åº¦æ’åºï¼šdepartment > salary > age
CREATE INDEX idx_optimal ON employees(department, salary, age);
```

**ğŸ¯ ç´¢å¼•è®¾è®¡å†³ç­–çŸ©é˜µ**

```
ç´¢å¼•åˆ—é¡ºåºå†³ç­–ï¼š

é«˜é€‰æ‹©æ€§ + å¸¸ç”¨ç²¾ç¡®æŸ¥è¯¢ â”€â”€â†’ ç´¢å¼•æœ€å‰é¢
â”œâ”€ ç¤ºä¾‹ï¼šuser_idï¼ˆå”¯ä¸€å€¼ï¼Œå¸¸ç”¨ç­‰å€¼æŸ¥è¯¢ï¼‰
â””â”€ ä½œç”¨ï¼šå¿«é€Ÿå®šä½åŸºç¡€æ•°æ®é›†

ä¸­é€‰æ‹©æ€§ + èŒƒå›´æŸ¥è¯¢ â”€â”€â†’ ç´¢å¼•ä¸­é—´ä½ç½®  
â”œâ”€ ç¤ºä¾‹ï¼šorder_dateï¼ˆæ—¥æœŸèŒƒå›´æŸ¥è¯¢ï¼‰
â””â”€ ä½œç”¨ï¼šICPä¸‹æ¨çš„ä¸»è¦ç›®æ ‡

ä½é€‰æ‹©æ€§ + è¿‡æ»¤æ¡ä»¶ â”€â”€â†’ ç´¢å¼•æœ«å°¾
â”œâ”€ ç¤ºä¾‹ï¼šstatusï¼ˆæœ‰é™çŠ¶æ€å€¼ï¼‰
â””â”€ ä½œç”¨ï¼šæœ€å¤§åŒ–ICPè¿‡æ»¤æ•ˆæœ
```

### 9.3 ICPä¸æŸ¥è¯¢é‡å†™ååŒ


**ğŸ”§ æŸ¥è¯¢é‡å†™é…åˆICPä¼˜åŒ–**

```sql
-- åŸå§‹ä½æ•ˆæŸ¥è¯¢
SELECT * FROM products 
WHERE (category = 'ç”µå­äº§å“' OR category = 'æ•°ç äº§å“')
  AND price > 1000 
  AND brand = 'åä¸º';

-- ICPä¼˜åŒ–é‡å†™1ï¼šä½¿ç”¨INæ›¿ä»£OR
SELECT * FROM products 
WHERE category IN ('ç”µå­äº§å“', 'æ•°ç äº§å“')
  AND price > 1000 
  AND brand = 'åä¸º';

-- ICPä¼˜åŒ–é‡å†™2ï¼šè°ƒæ•´æ¡ä»¶é¡ºåº  
SELECT * FROM products 
WHERE brand = 'åä¸º'        -- å¦‚æœbrandåŒºåˆ†åº¦æ›´é«˜
  AND category IN ('ç”µå­äº§å“', 'æ•°ç äº§å“')
  AND price > 1000;

-- é…åˆç´¢å¼•ï¼š
CREATE INDEX idx_brand_category_price ON products(brand, category, price);
-- ICPä¸‹æ¨ï¼šcategory IN (...) AND price > 1000
```

---

## 10. ğŸ“Š ICPæœ€ä½³å®è·µæŒ‡å—


### 10.1 ICPéƒ¨ç½²å®æ–½æ­¥éª¤


**ğŸš€ ICPä¼˜åŒ–å®æ–½roadmap**

```
é˜¶æ®µ1ï¼šç°çŠ¶åˆ†æï¼ˆ1-2å¤©ï¼‰
â”œâ”€â”€ åˆ†æå½“å‰æ…¢æŸ¥è¯¢æ—¥å¿—
â”œâ”€â”€ è¯†åˆ«é€‚åˆICPä¼˜åŒ–çš„æŸ¥è¯¢æ¨¡å¼  
â”œâ”€â”€ è¯„ä¼°ç°æœ‰ç´¢å¼•çš„ICPæ½œåŠ›
â””â”€â”€ åˆ¶å®šä¼˜åŒ–ä¼˜å…ˆçº§

é˜¶æ®µ2ï¼šç´¢å¼•ä¼˜åŒ–ï¼ˆ3-5å¤©ï¼‰
â”œâ”€â”€ è®¾è®¡ICPå‹å¥½çš„å¤åˆç´¢å¼•
â”œâ”€â”€ åœ¨æµ‹è¯•ç¯å¢ƒéªŒè¯æ•ˆæœ
â”œâ”€â”€ åˆ¶å®šç´¢å¼•éƒ¨ç½²è®¡åˆ’
â””â”€â”€ å‡†å¤‡å›æ»šæ–¹æ¡ˆ

é˜¶æ®µ3ï¼šé…ç½®è°ƒä¼˜ï¼ˆ1å¤©ï¼‰
â”œâ”€â”€ å¯ç”¨ICPç›¸å…³å‚æ•°
â”œâ”€â”€ é…ç½®æ€§èƒ½ç›‘æ§
â”œâ”€â”€ å»ºç«‹åŸºå‡†æ€§èƒ½æŒ‡æ ‡
â””â”€â”€ éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ

é˜¶æ®µ4ï¼šæ•ˆæœç›‘æ§ï¼ˆæŒç»­ï¼‰
â”œâ”€â”€ ç›‘æ§æŸ¥è¯¢æ€§èƒ½å˜åŒ–
â”œâ”€â”€ åˆ†æICPä½¿ç”¨æ•ˆæœ
â”œâ”€â”€ ä¼˜åŒ–ç´¢å¼•ç­–ç•¥
â””â”€â”€ æŒç»­æ”¹è¿›
```

**ğŸ“‹ å®æ–½æ£€æŸ¥æ¸…å•**

```
ğŸ“‹ **ICPéƒ¨ç½²å‰æ£€æŸ¥**
- [ ] MySQLç‰ˆæœ¬æ”¯æŒï¼ˆâ‰¥5.6ï¼‰
- [ ] å­˜å‚¨å¼•æ“å…¼å®¹ï¼ˆInnoDB/NDBï¼‰
- [ ] æ…¢æŸ¥è¯¢åˆ†æå®Œæˆ
- [ ] æµ‹è¯•ç¯å¢ƒéªŒè¯é€šè¿‡
- [ ] æ€§èƒ½ç›‘æ§å·¥å…·å°±ç»ª
- [ ] å›æ»šæ–¹æ¡ˆå‡†å¤‡å®Œæ¯•

ğŸ“‹ **ICPéƒ¨ç½²åéªŒè¯**
- [ ] optimizer_switché…ç½®æ­£ç¡®
- [ ] ç›®æ ‡æŸ¥è¯¢ç¡®å®ä½¿ç”¨ICP
- [ ] æ€§èƒ½æå‡è¾¾åˆ°é¢„æœŸ
- [ ] æ— ä¸šåŠ¡é€»è¾‘é”™è¯¯
- [ ] ç³»ç»Ÿèµ„æºä½¿ç”¨æ­£å¸¸
- [ ] ç›‘æ§å‘Šè­¦æ­£å¸¸
```

### 10.2 ICPæ•ˆæœè¯„ä¼°æ ‡å‡†


**ğŸ“Š æ€§èƒ½æå‡è¯„ä¼°æ ‡å‡†**

```
ICPæ•ˆæœè¯„çº§ï¼š

ğŸ† ä¼˜ç§€æ•ˆæœï¼ˆ>50%æå‡ï¼‰
æ¡ä»¶ï¼š
â€¢ å¤åˆç´¢å¼•å‰ç¼€åŒ¹é… + å¤šä¸ªåç»­æ¡ä»¶
â€¢ æŸ¥è¯¢é€‰æ‹©æ€§é€‚ä¸­ï¼ˆ1%-20%ï¼‰
â€¢ å›è¡¨æ“ä½œè¾ƒå¤š
ç¤ºä¾‹ï¼šWHERE name='å¸¸è§å' AND age>25 AND salary>8000

â­ è‰¯å¥½æ•ˆæœï¼ˆ30-50%æå‡ï¼‰  
æ¡ä»¶ï¼š
â€¢ éƒ¨åˆ†ç´¢å¼•åŒ¹é… + å°‘é‡ä¸‹æ¨æ¡ä»¶
â€¢ æŸ¥è¯¢é€‰æ‹©æ€§é€‚ä¸­
â€¢ ä¸­ç­‰å›è¡¨é‡
ç¤ºä¾‹ï¼šWHERE category='çƒ­é—¨ç±»åˆ«' AND price>average_price

ğŸ“ˆ ä¸€èˆ¬æ•ˆæœï¼ˆ10-30%æå‡ï¼‰
æ¡ä»¶ï¼š
â€¢ ç®€å•ç´¢å¼• + å•ä¸ªä¸‹æ¨æ¡ä»¶
â€¢ æŸ¥è¯¢é€‰æ‹©æ€§è¾ƒé«˜æˆ–è¾ƒä½
â€¢ å›è¡¨æ“ä½œè¾ƒå°‘
ç¤ºä¾‹ï¼šWHERE id>1000 AND status='active'

ğŸ“‰ æ•ˆæœæœ‰é™ï¼ˆ<10%æå‡ï¼‰
æ¡ä»¶ï¼š
â€¢ è¦†ç›–ç´¢å¼•æŸ¥è¯¢
â€¢ ä¸»é”®æŸ¥è¯¢
â€¢ å…¨è¡¨æ‰«ææŸ¥è¯¢
```

### 10.3 ROIè®¡ç®—æ¨¡å‹


**ğŸ’° ICPä¼˜åŒ–æŠ•èµ„å›æŠ¥åˆ†æ**

```java
public class ICPROICalculator {
    
    public class ICPROIMetrics {
        // æˆæœ¬æŒ‡æ ‡
        private double developmentHours;      // å¼€å‘æ—¶é—´
        private double testingHours;          // æµ‹è¯•æ—¶é—´
        private double deploymentRisk;        // éƒ¨ç½²é£é™©æˆæœ¬
        
        // æ”¶ç›ŠæŒ‡æ ‡
        private double querySpeedImprovement; // æŸ¥è¯¢é€Ÿåº¦æå‡%
        private double serverResourceSaving;  // æœåŠ¡å™¨èµ„æºèŠ‚çœ%
        private double userExperienceGain;    // ç”¨æˆ·ä½“éªŒæ”¹å–„
        
        public double calculateROI() {
            double totalCost = (developmentHours + testingHours) * HOURLY_RATE + deploymentRisk;
            double annualBenefit = calculateAnnualBenefit();
            return (annualBenefit - totalCost) / totalCost * 100;
        }
        
        private double calculateAnnualBenefit() {
            // æœåŠ¡å™¨æˆæœ¬èŠ‚çœ + ç”¨æˆ·ä½“éªŒä»·å€¼ + å¼€å‘æ•ˆç‡æå‡
            return serverResourceSaving * SERVER_COST_PER_YEAR + 
                   userExperienceGain * USER_VALUE_PER_YEAR;
        }
    }
}
```

**ğŸ“Š å…¸å‹ICPé¡¹ç›®ROIåˆ†æ**

```
é¡¹ç›®æ¡ˆä¾‹ï¼šç”µå•†å¹³å°è®¢å•æŸ¥è¯¢ä¼˜åŒ–

æŠ•å…¥æˆæœ¬ï¼š
â€¢ å¼€å‘æ—¶é—´ï¼š40å°æ—¶ Ã— Â¥500/å°æ—¶ = Â¥20,000
â€¢ æµ‹è¯•æ—¶é—´ï¼š20å°æ—¶ Ã— Â¥300/å°æ—¶ = Â¥6,000  
â€¢ æ€»æŠ•å…¥ï¼šÂ¥26,000

ä¼˜åŒ–æ”¶ç›Šï¼š
â€¢ æŸ¥è¯¢æ€§èƒ½æå‡ï¼šå¹³å‡å“åº”æ—¶é—´ä»800msé™åˆ°300ms
â€¢ æœåŠ¡å™¨èµ„æºèŠ‚çœï¼šCPUä½¿ç”¨ç‡é™ä½30%ï¼Œçº¦Â¥50,000/å¹´
â€¢ ç”¨æˆ·ä½“éªŒæå‡ï¼šé¡µé¢åŠ è½½é€Ÿåº¦æå‡ï¼Œè½¬åŒ–ç‡å¢åŠ 2%ï¼Œçº¦Â¥200,000/å¹´

ROIè®¡ç®—ï¼š
å¹´æ”¶ç›Šï¼šÂ¥250,000
æŠ•èµ„å›æŠ¥ç‡ï¼š(Â¥250,000 - Â¥26,000) / Â¥26,000 = 862%
å›æœ¬å‘¨æœŸï¼šçº¦5å‘¨
```

---

## 11. ğŸ¯ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 11.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ ICPæœ¬è´¨ï¼šå°†WHEREæ¡ä»¶è¿‡æ»¤ä¸‹æ¨åˆ°å­˜å‚¨å¼•æ“å±‚ï¼Œå‡å°‘æ— æ•ˆæ•°æ®ä¼ è¾“
ğŸ”¸ å·¥ä½œåŸç†ï¼šåœ¨ç´¢å¼•æ‰«æè¿‡ç¨‹ä¸­åº”ç”¨è¿‡æ»¤æ¡ä»¶ï¼Œå‡å°‘å›è¡¨æ¬¡æ•°
ğŸ”¸ é€‚ç”¨æ¡ä»¶ï¼šMySQL 5.6+ï¼ŒInnoDBå¼•æ“ï¼Œå¤åˆç´¢å¼•ï¼ŒèŒƒå›´æŸ¥è¯¢
ğŸ”¸ æ€§èƒ½æ•ˆæœï¼šé€šå¸¸æå‡30-70%ï¼Œåœ¨ç‰¹å®šåœºæ™¯ä¸‹å¯è¾¾80%ä»¥ä¸Š
ğŸ”¸ ç›‘æ§æŒ‡æ ‡ï¼šæ‰§è¡Œæ—¶é—´ã€I/Oæ¬¡æ•°ã€è¡Œæ‰«ææ•°ã€é€‰æ‹©æ€§æ¯”ä¾‹
ğŸ”¸ ååŒæŠ€æœ¯ï¼šè¦†ç›–ç´¢å¼•ã€MRRã€åˆ†åŒºè¡¨ç­‰å¯å åŠ ä¼˜åŒ–æ•ˆæœ
```

### 11.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ ä¸ºä»€ä¹ˆICPèƒ½æ˜¾è‘—æå‡æ€§èƒ½**
```
æ•°æ®æµé‡å‡å°‘åˆ†æï¼š
ä¼ ç»Ÿæ¨¡å¼ï¼šç´¢å¼•â†’å¤§é‡å€™é€‰è¡Œâ†’ç½‘ç»œä¼ è¾“â†’Serverè¿‡æ»¤â†’å°‘é‡ç»“æœ
ICPæ¨¡å¼ï¼šç´¢å¼•â†’å¼•æ“å±‚è¿‡æ»¤â†’å°‘é‡å€™é€‰è¡Œâ†’ç½‘ç»œä¼ è¾“â†’ç»“æœ

å…³é”®ä¼˜åŒ–ç‚¹ï¼š
â€¢ å‡å°‘å­˜å‚¨å¼•æ“åˆ°Serverå±‚çš„æ•°æ®ä¼ è¾“
â€¢ å‡å°‘å†…å­˜ä¸­çš„ä¸´æ—¶æ•°æ®å­˜å‚¨
â€¢ å‡å°‘CPUåœ¨æ•°æ®ç§»åŠ¨ä¸Šçš„å¼€é”€
â€¢ æå‰è¿‡æ»¤æ— æ•ˆæ•°æ®ï¼Œé™ä½åç»­å¤„ç†å‹åŠ›
```

**ğŸ”¹ ICPä»€ä¹ˆæ—¶å€™æ•ˆæœæœ€å¥½**
```
æœ€ä½³åœºæ™¯ç‰¹å¾ï¼š
â€¢ å¤åˆç´¢å¼•ï¼šæœ‰å¤šä¸ªåˆ—å¯ä»¥åº”ç”¨æ¡ä»¶
â€¢ é€‰æ‹©æ€§é€‚ä¸­ï¼šä¸æ˜¯å¤ªç²¾ç¡®ä¹Ÿä¸æ˜¯å¤ªå®½æ³›ï¼ˆ1-20%ï¼‰
â€¢ èŒƒå›´æŸ¥è¯¢ï¼šæœ‰å¯ä¸‹æ¨çš„èŒƒå›´æˆ–INæ¡ä»¶
â€¢ é¢‘ç¹æŸ¥è¯¢ï¼šä¼˜åŒ–æ•ˆæœå¯ä»¥è¢«åå¤åˆ©ç”¨

æ•ˆæœé‡åŒ–å…¬å¼ï¼š
ICPæ•ˆæœ â‰ˆ å›è¡¨å‡å°‘æ¯”ä¾‹ Ã— æŸ¥è¯¢é¢‘ç‡ Ã— æ•°æ®ä¼ è¾“æˆæœ¬
```

**ğŸ”¹ ICPçš„å±€é™æ€§ç†è§£**
```
ICPæ— æ³•è§£å†³çš„é—®é¢˜ï¼š
â€¢ ç´¢å¼•è®¾è®¡ä¸å½“ï¼šICPä¸èƒ½å¼¥è¡¥ç³Ÿç³•çš„ç´¢å¼•è®¾è®¡
â€¢ æŸ¥è¯¢é€»è¾‘å¤æ‚ï¼šå­æŸ¥è¯¢ã€å‡½æ•°è°ƒç”¨ç­‰æ— æ³•ä¸‹æ¨
â€¢ ç¡¬ä»¶ç“¶é¢ˆï¼šå¦‚æœç£ç›˜I/Oå·²ç»é¥±å’Œï¼ŒICPæ•ˆæœæœ‰é™
â€¢ ç½‘ç»œç“¶é¢ˆï¼šå†…ç½‘æŸ¥è¯¢ä¸­ï¼Œç½‘ç»œä¼ è¾“ä¸æ˜¯ç“¶é¢ˆ

æ­£ç¡®é¢„æœŸï¼š
ICPæ˜¯ä¼˜åŒ–å·¥å…·ï¼Œä¸æ˜¯ä¸‡èƒ½è¯
éœ€è¦é…åˆåˆç†çš„ç´¢å¼•è®¾è®¡å’ŒæŸ¥è¯¢ä¼˜åŒ–
```

### 11.3 å®é™…åº”ç”¨æŒ‡å¯¼


**ğŸ¯ ICPä¼˜åŒ–å®æ–½æŒ‡å—**

```
ğŸ”¸ å¿«é€Ÿè§æ•ˆç­–ç•¥ï¼ˆ1å‘¨å†…ï¼‰
â€¢ å¯ç”¨ICPåŠŸèƒ½ï¼šSET optimizer_switch='index_condition_pushdown=on'
â€¢ åˆ†ææ…¢æŸ¥è¯¢æ—¥å¿—ï¼Œè¯†åˆ«é«˜é¢‘å¤åˆç´¢å¼•æŸ¥è¯¢
â€¢ éªŒè¯è¿™äº›æŸ¥è¯¢æ˜¯å¦å·²ä½¿ç”¨ICP
â€¢ ç›‘æ§æ€§èƒ½å˜åŒ–ï¼Œé‡åŒ–æ•ˆæœ

ğŸ”¸ æ·±åº¦ä¼˜åŒ–ç­–ç•¥ï¼ˆ1æœˆå†…ï¼‰
â€¢ é‡æ–°è®¾è®¡å…³é”®ç´¢å¼•ï¼Œä¼˜åŒ–ICPæ•ˆæœ
â€¢ ç»“åˆè¦†ç›–ç´¢å¼•ï¼Œè¿›ä¸€æ­¥å‡å°‘å›è¡¨
â€¢ å®æ–½æŸ¥è¯¢é‡å†™ï¼Œæé«˜ICPé€‚ç”¨æ€§
â€¢ å»ºç«‹é•¿æœŸæ€§èƒ½ç›‘æ§ä½“ç³»

ğŸ”¸ æ¶æ„çº§ä¼˜åŒ–ï¼ˆ3æœˆå†…ï¼‰  
â€¢ åˆ¶å®šå…¨å±€ç´¢å¼•ç­–ç•¥ï¼Œç³»ç»Ÿæ€§åº”ç”¨ICP
â€¢ ç»“åˆåˆ†åŒºè¡¨ã€è¯»å†™åˆ†ç¦»ç­‰æŠ€æœ¯
â€¢ å»ºç«‹è‡ªåŠ¨åŒ–æ€§èƒ½åˆ†æå’Œä¼˜åŒ–æµç¨‹
â€¢ åŸ¹è®­å›¢é˜Ÿï¼Œå½¢æˆICPä¼˜åŒ–çš„æœ€ä½³å®è·µ
```

**ğŸ§  è®°å¿†æŠ€å·§å’Œè¯Šæ–­æ–¹æ³•**

```
ğŸµ **ICPä¼˜åŒ–è®°å¿†å£è¯€**
"å¤åˆç´¢å¼•æ˜¯åŸºç¡€ï¼Œå‰ç¼€åŒ¹é…åç»­æ¨
èŒƒå›´æŸ¥è¯¢æœ€å—ç›Šï¼Œå›è¡¨å‡å°‘æ€§èƒ½ä¼˜
ç›‘æ§æŒ‡æ ‡è¦ç›¯ç´§ï¼Œæ•ˆæœé‡åŒ–æ‰æ¸…æ¥š"

ğŸ” **ICPé—®é¢˜å¿«é€Ÿè¯Šæ–­**
Step 1: EXPLAINæŸ¥çœ‹æ˜¯å¦æœ‰"Using index condition"
Step 2: æ£€æŸ¥optimizer_switchæ˜¯å¦å¯ç”¨ICP
Step 3: åˆ†æç´¢å¼•åˆ—ä¸WHEREæ¡ä»¶çš„åŒ¹é…åº¦
Step 4: æŸ¥çœ‹Handler_read_*ç»Ÿè®¡ç¡®è®¤I/Oå‡å°‘
Step 5: å¯¹æ¯”å¯ç”¨å‰åçš„æ€§èƒ½æŒ‡æ ‡

ğŸ·ï¸ **æ ¸å¿ƒå…³é”®è¯è®°å¿†**
`æ¡ä»¶ä¸‹æ¨` `å­˜å‚¨å¼•æ“è¿‡æ»¤` `å›è¡¨å‡å°‘` `å¤åˆç´¢å¼•` `èŒƒå›´æŸ¥è¯¢`
```

### 11.4 æ³¨æ„äº‹é¡¹å’Œæœ€ä½³å®è·µ


**âš ï¸ ICPä½¿ç”¨æ³¨æ„äº‹é¡¹**

```
ğŸ”¸ æ•°æ®ä¸€è‡´æ€§è€ƒè™‘
â€¢ ICPä¸å½±å“æŸ¥è¯¢ç»“æœçš„æ­£ç¡®æ€§
â€¢ ä½†è¦æ³¨æ„ä¸äº‹åŠ¡éš”ç¦»çº§åˆ«çš„äº¤äº’
â€¢ åœ¨READ UNCOMMITTEDçº§åˆ«ä¸‹è¦ç‰¹åˆ«å°å¿ƒ

ğŸ”¸ èµ„æºä½¿ç”¨è€ƒè™‘
â€¢ ICPä¼šå¢åŠ å­˜å‚¨å¼•æ“å±‚çš„CPUä½¿ç”¨
â€¢ åœ¨CPUå·²ç»é¥±å’Œçš„ç³»ç»Ÿä¸­å¯èƒ½æ•ˆæœä¸æ˜æ˜¾
â€¢ éœ€è¦å¹³è¡¡CPUå’ŒI/Oçš„èµ„æºä½¿ç”¨

ğŸ”¸ ç‰ˆæœ¬å…¼å®¹æ€§è€ƒè™‘
â€¢ MySQL 5.6ä¹‹å‰ç‰ˆæœ¬ä¸æ”¯æŒ
â€¢ ä¸åŒå°ç‰ˆæœ¬é—´ICPå®ç°å¯èƒ½æœ‰å·®å¼‚
â€¢ å‡çº§æ—¶è¦é‡æ–°æµ‹è¯•ICPæ•ˆæœ
```

**ğŸ› ï¸ ICPä¼˜åŒ–æœ€ä½³å®è·µ**

```
ğŸ“‹ **ICPæœ€ä½³å®è·µæ¸…å•**

ç´¢å¼•è®¾è®¡å®è·µï¼š
- [ ] å¤åˆç´¢å¼•åˆ—é¡ºåºï¼šç²¾ç¡®æ¡ä»¶â†’èŒƒå›´æ¡ä»¶â†’è¿‡æ»¤æ¡ä»¶
- [ ] é¿å…è¿‡å¤šçš„å¤åˆç´¢å¼•ï¼ˆæ¯è¡¨ä¸è¶…è¿‡5-7ä¸ªï¼‰
- [ ] å®šæœŸåˆ†æç´¢å¼•ä½¿ç”¨ç»Ÿè®¡ï¼Œæ¸…ç†æ— æ•ˆç´¢å¼•

æŸ¥è¯¢ä¼˜åŒ–å®è·µï¼š
- [ ] é‡å†™å¤æ‚ORæ¡ä»¶ä¸ºUNIONæˆ–IN
- [ ] é¿å…åœ¨WHEREä¸­ä½¿ç”¨å‡½æ•°å¤„ç†ç´¢å¼•åˆ—
- [ ] åˆç†ä½¿ç”¨LIMITå‡å°‘ä¸å¿…è¦çš„æ•°æ®è¯»å–

ç›‘æ§è¿ç»´å®è·µï¼š
- [ ] å»ºç«‹ICPæ€§èƒ½ç›‘æ§ä»ªè¡¨æ¿
- [ ] å®šæœŸåˆ†ææ…¢æŸ¥è¯¢ä¸­çš„ICPä½¿ç”¨æƒ…å†µ
- [ ] è®¾ç½®æ€§èƒ½å›é€€å‘Šè­¦æœºåˆ¶
- [ ] å»ºç«‹ç´¢å¼•ä¼˜åŒ–çš„å®šæœŸreviewæµç¨‹

å›¢é˜Ÿåä½œå®è·µï¼š
- [ ] åˆ¶å®šICPä¼˜åŒ–çš„å¼€å‘è§„èŒƒ
- [ ] å»ºç«‹ä»£ç reviewä¸­çš„ç´¢å¼•æ£€æŸ¥é¡¹
- [ ] å®šæœŸåŸ¹è®­å›¢é˜ŸICPç›¸å…³çŸ¥è¯†
- [ ] å»ºç«‹æ€§èƒ½ä¼˜åŒ–çš„çŸ¥è¯†åº“
```

**ğŸ¯ æˆåŠŸæ¡ˆä¾‹æ€»ç»“**

```
å…¸å‹æˆåŠŸæ¡ˆä¾‹ç‰¹å¾ï¼š
âœ… æ˜ç¡®çš„ä¸šåŠ¡æŸ¥è¯¢æ¨¡å¼
âœ… åˆç†çš„ç´¢å¼•è®¾è®¡ç­–ç•¥
âœ… ç³»ç»Ÿæ€§çš„æ€§èƒ½ç›‘æ§
âœ… å›¢é˜Ÿçš„æŠ€æœ¯èƒ½åŠ›å»ºè®¾

å¤±è´¥æ¡ˆä¾‹æ•™è®­ï¼š
âŒ ç›²ç›®å¯ç”¨è€Œä¸åˆ†æé€‚ç”¨æ€§
âŒ å¿½è§†ç´¢å¼•è®¾è®¡çš„åŸºç¡€å·¥ä½œ
âŒ ç¼ºä¹æŒç»­çš„æ€§èƒ½ç›‘æ§
âŒ å¯¹ICPæœŸæœ›è¿‡é«˜ï¼Œå¿½è§†å…¶ä»–ç“¶é¢ˆ
```

**æ ¸å¿ƒè®°å¿†**ï¼š
- ICPæ˜¯MySQL 5.6å¼•å…¥çš„é‡è¦ä¼˜åŒ–æŠ€æœ¯ï¼Œé€šè¿‡æ¡ä»¶ä¸‹æ¨å‡å°‘æ— æ•ˆæ•°æ®ä¼ è¾“
- æœ€é€‚ç”¨äºå¤åˆç´¢å¼•çš„èŒƒå›´æŸ¥è¯¢åœºæ™¯ï¼Œå¯ä»¥æ˜¾è‘—å‡å°‘å›è¡¨æ¬¡æ•°
- éœ€è¦é…åˆåˆç†çš„ç´¢å¼•è®¾è®¡æ‰èƒ½å‘æŒ¥æœ€å¤§æ•ˆæœ
- æ€§èƒ½æå‡é€šå¸¸åœ¨30-70%ä¹‹é—´ï¼Œå…·ä½“æ•ˆæœå–å†³äºæŸ¥è¯¢æ¨¡å¼å’Œæ•°æ®ç‰¹å¾
- ICPæ˜¯ç³»ç»Ÿæ€§ä¼˜åŒ–çš„ä¸€éƒ¨åˆ†ï¼Œéœ€è¦ä¸å…¶ä»–æŠ€æœ¯ååŒä½¿ç”¨æ‰èƒ½è¾¾åˆ°æœ€ä½³æ•ˆæœ