---
title: 1、MySQL安装前准备
---
## 📚 目录

1. [硬件资源评估与规划](#1-硬件资源评估与规划)
2. [操作系统选型与配置](#2-操作系统选型与配置)
3. [存储架构设计](#3-存储架构设计)
4. [网络与系统环境准备](#4-网络与系统环境准备)
5. [部署架构规划](#5-部署架构规划)
6. [核心要点总结](#6-核心要点总结)

---

## 1. 💻 硬件资源评估与规划


### 1.1 CPU性能要求分析


**🔸 CPU选择的关键考量**

> **CPU对MySQL的作用**：MySQL是一个多线程数据库系统，CPU负责处理SQL查询、数据计算、索引维护等核心任务。CPU性能直接影响数据库的查询响应速度和并发处理能力。

```
MySQL CPU使用场景分析：

高CPU消耗操作：
┌─────────────────────────────────────────────────────┐
│ 复杂SQL查询 → 大表JOIN → 聚合计算 → 排序操作         │
│ 索引维护 → 数据压缩 → 备份还原 → 复制同步           │
└─────────────────────────────────────────────────────┘

轻CPU消耗操作：
┌─────────────────────────────────────────────────────┐
│ 简单查询 → 主键查找 → 缓存命中 → 数据传输           │
└─────────────────────────────────────────────────────┘
```

**📊 CPU配置建议表**

| **业务规模** | **CPU核心数** | **主频要求** | **典型场景** | **说明** |
|-------------|-------------|-------------|-------------|---------|
| 🟢 **小型应用** | `4-8核` | `2.4GHz+` | `个人网站、小企业` | `基础配置即可满足` |
| 🟡 **中型应用** | `8-16核` | `2.8GHz+` | `中型电商、企业系统` | `需要较好的单核性能` |
| 🔴 **大型应用** | `16-32核` | `3.0GHz+` | `大型网站、金融系统` | `多核+高频并重` |
| ⚫ **超大规模** | `32+核` | `3.2GHz+` | `互联网巨头、云服务` | `顶级配置要求` |

**💡 NUMA架构评估**

什么是NUMA？NUMA(Non-Uniform Memory Access)是一种内存架构，CPU访问本地内存比访问远程内存更快。

```bash
# 检查NUMA配置
numactl --hardware
numastat

# NUMA优化建议
echo 'vm.zone_reclaim_mode = 0' >> /etc/sysctl.conf
# 解释：关闭NUMA区域回收，避免性能抖动
```

### 1.2 内存容量计算方法


**🧠 内存在MySQL中的作用**

内存是MySQL性能的关键因素，主要用于：
- **缓冲池**：缓存热点数据页，减少磁盘IO
- **查询缓存**：缓存SELECT查询结果
- **连接缓冲**：每个客户端连接占用的内存
- **临时表**：排序和分组操作的临时存储

```
MySQL内存使用分布图：

┌─────────────────────────────────────────────────────────┐
│                    系统总内存                            │
├─────────────────┬─────────────────┬─────────────────────┤
│   操作系统预留   │   MySQL使用     │    其他应用预留      │
│    (15-20%)    │    (60-75%)    │     (10-15%)       │
├─────────────────┼─────────────────┼─────────────────────┤
│• 内核缓存       │• InnoDB缓冲池   │• 监控软件           │
│• 系统进程       │• 查询缓存       │• 备份工具           │
│• 网络缓冲       │• 连接缓冲       │• 日志服务           │
└─────────────────┴─────────────────┴─────────────────────┘
```

**📏 内存计算公式**

```bash
# 基础内存需求计算
总内存需求 = 数据文件大小 × 0.8 + 索引大小 × 1.2 + 连接内存 + 系统预留

# 实际案例
数据库大小：100GB
索引大小：20GB
最大连接数：500
每连接内存：2MB

推荐内存 = 100GB × 0.8 + 20GB × 1.2 + 500 × 2MB + 系统预留(16GB)
         = 80GB + 24GB + 1GB + 16GB = 121GB

# 实际配置建议：128GB
```

### 1.3 存储性能需求分析


**💾 SSD vs HDD存储选择**

存储是数据库性能的瓶颈，选择合适的存储类型至关重要：

| **存储类型** | **IOPS性能** | **延迟** | **适用场景** | **成本** |
|-------------|-------------|---------|-------------|---------|
| **机械硬盘(HDD)** | `100-200` | `5-10ms` | `归档数据、冷备份` | `💰 低` |
| **SATA SSD** | `10,000-50,000` | `0.1-1ms` | `一般业务数据库` | `💰💰 中` |
| **NVMe SSD** | `100,000-500,000` | `<0.1ms` | `高性能数据库` | `💰💰💰 高` |
| **企业级SSD** | `500,000+` | `<0.05ms` | `关键业务系统` | `💰💰💰💰 很高` |

**🔧 RAID配置基础**

RAID(独立磁盘冗余阵列)用于提高存储性能和可靠性：

```
常用RAID配置对比：

RAID 0 (条带化)：
┌─────┬─────┐    性能：⭐⭐⭐⭐⭐
│ 数据A │ 数据B │    可靠性：⭐
└─────┴─────┘    说明：最快但无冗余

RAID 1 (镜像)：
┌─────┬─────┐    性能：⭐⭐⭐
│ 数据A │ 数据A │    可靠性：⭐⭐⭐⭐
└─────┴─────┘    说明：安全但浪费空间

RAID 10 (推荐)：
┌─────┬─────┐    性能：⭐⭐⭐⭐
│ 数据A │ 数据A │    可靠性：⭐⭐⭐⭐
├─────┼─────┤    说明：平衡性能和安全
│ 数据B │ 数据B │
└─────┴─────┘
```

---

## 2. 🐧 操作系统选型与配置


### 2.1 Linux发行版选择标准


**🔸 为什么选择Linux？**

Linux是MySQL部署的首选操作系统，原因包括：
- **稳定性好**：长时间运行不需要重启
- **性能优越**：内核针对服务器优化
- **成本低廉**：开源免费，无授权费用
- **社区支持**：丰富的文档和社区支持

**📋 主流发行版对比**

| **发行版** | **特点** | **适用场景** | **优势** | **劣势** |
|-----------|---------|-------------|---------|---------|
| **CentOS/RHEL** | `企业级稳定` | `生产环境首选` | `稳定、长期支持` | `软件版本较旧` |
| **Ubuntu LTS** | `易用性好` | `中小企业、云环境` | `软件新、文档全` | `更新频繁` |
| **SUSE SLES** | `商业支持` | `关键业务系统` | `专业技术支持` | `成本较高` |
| **Debian** | `纯净稳定` | `技术团队强` | `包管理优秀` | `学习门槛高` |

> **推荐选择**：生产环境建议使用 **CentOS 7/8** 或 **Rocky Linux 8+**，这些发行版专为服务器设计，稳定性和安全性都有保障。

### 2.2 系统内核版本兼容性


**⚙️ 内核版本要求**

MySQL对Linux内核版本有一定要求，不同版本的性能和特性支持差异较大：

```bash
# 查看当前内核版本
uname -r
# 示例输出：3.10.0-1127.el7.x86_64

# MySQL版本与内核兼容性
MySQL 5.7：推荐内核 3.10+
MySQL 8.0：推荐内核 4.4+
MySQL 8.0.28+：推荐内核 4.18+
```

**🔧 内核参数优化**

```bash
# 关键内核参数配置 (/etc/sysctl.conf)
# 网络相关优化
net.core.rmem_max = 134217728          # 最大接收缓冲区
net.core.wmem_max = 134217728          # 最大发送缓冲区
net.ipv4.tcp_rmem = 4096 87380 134217728
net.ipv4.tcp_wmem = 4096 65536 134217728

# 内存管理优化
vm.swappiness = 1                      # 减少swap使用
vm.dirty_ratio = 15                    # 脏页比例
vm.dirty_background_ratio = 5          # 后台刷新比例

# 文件系统优化
fs.file-max = 6815744                  # 最大文件句柄数
```

### 2.3 透明大页THP设置建议


**🔸 什么是透明大页？**

透明大页(THP)是Linux的内存管理功能，自动将小页(4KB)合并成大页(2MB)以提高内存访问效率。但对数据库可能造成性能问题。

**❌ THP对MySQL的负面影响**

```
THP问题分析：

正常内存分配：
┌────┬────┬────┬────┐ 4KB × 4 = 16KB
│ 4KB│ 4KB│ 4KB│ 4KB│ 分配快速，释放及时
└────┴────┴────┴────┘

THP内存分配：
┌─────────────────────┐ 2MB大页
│       2MB           │ 分配缓慢，可能阻塞
└─────────────────────┘

导致问题：
• 内存分配延迟增加
• 可能触发系统级锁等待
• 造成查询响应时间抖动
```

**✅ 禁用THP的方法**

```bash
# 立即禁用（临时）
echo never > /sys/kernel/mm/transparent_hugepage/enabled
echo never > /sys/kernel/mm/transparent_hugepage/defrag

# 永久禁用（添加到/etc/rc.local）
cat >> /etc/rc.local << 'EOF'
echo never > /sys/kernel/mm/transparent_hugepage/enabled
echo never > /sys/kernel/mm/transparent_hugepage/defrag
EOF

# 验证设置
cat /sys/kernel/mm/transparent_hugepage/enabled
# 应该显示：always madvise [never]
```

---

## 3. 💽 存储架构设计


### 3.1 磁盘空间规划


**📊 MySQL数据目录空间分配**

合理的磁盘空间规划是数据库稳定运行的基础：

```
MySQL数据目录空间分布：

/var/lib/mysql/ (数据根目录)
├── 数据文件目录 (60-70%)
│   ├── database1/
│   │   ├── table1.ibd (数据文件)
│   │   └── table2.ibd
│   └── database2/
├── 日志文件目录 (15-20%)
│   ├── ib_logfile0 (重做日志)
│   ├── ib_logfile1
│   └── mysql-bin.000001 (二进制日志)
├── 临时文件目录 (10-15%)
│   ├── tmp/ (临时表空间)
│   └── #sql_*.frm (临时文件)
└── 备份预留空间 (5-10%)
    └── backup/ (本地备份)
```

**🔢 空间容量计算公式**

```bash
# 磁盘空间需求计算
基础空间需求：
- 数据文件：预估数据量 × 1.3 (考虑索引和增长)
- 日志文件：数据量 × 0.2 (二进制日志和重做日志)
- 临时空间：内存大小 × 2 (大查询临时表)
- 系统预留：总容量 × 0.1 (系统运行预留)

# 实际案例
预估数据量：500GB
计算结果：
- 数据文件：500GB × 1.3 = 650GB
- 日志文件：500GB × 0.2 = 100GB  
- 临时空间：64GB × 2 = 128GB
- 系统预留：(650+100+128) × 0.1 = 88GB
- 总需求：650 + 100 + 128 + 88 = 966GB
- 建议配置：1TB+
```

### 3.2 文件系统选择


**🗂️ 文件系统对比分析**

文件系统的选择直接影响数据库的性能和可靠性：

| **文件系统** | **性能** | **可靠性** | **特性** | **推荐指数** |
|-------------|---------|-----------|---------|-------------|
| **ext4** | ⭐⭐⭐ | ⭐⭐⭐⭐ | `成熟稳定，兼容性好` | ⭐⭐⭐⭐ |
| **XFS** | ⭐⭐⭐⭐ | ⭐⭐⭐⭐ | `大文件性能好，适合大型数据库` | ⭐⭐⭐⭐⭐ |
| **Btrfs** | ⭐⭐⭐ | ⭐⭐⭐ | `快照功能强，但相对新` | ⭐⭐⭐ |
| **ZFS** | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | `功能最强，但资源消耗大` | ⭐⭐⭐⭐ |

**🔧 推荐配置：XFS文件系统**

```bash
# XFS文件系统创建和挂载
# 创建XFS文件系统
mkfs.xfs -f /dev/sdb1

# 优化挂载选项 (/etc/fstab)
/dev/sdb1 /var/lib/mysql xfs defaults,noatime,nodiratime,nobarrier 0 0

# 挂载选项说明：
# noatime：不更新访问时间，提高性能
# nodiratime：不更新目录访问时间
# nobarrier：禁用写屏障(仅在有UPS的情况下)
```

### 3.3 存储IO性能测试


**📈 基准性能测试方法**

在部署MySQL前，必须先测试存储性能，确保满足业务需求：

```bash
# 使用fio工具进行存储性能测试

# 安装fio
yum install -y fio  # CentOS
apt install -y fio  # Ubuntu

# 随机读测试
fio -filename=/var/lib/mysql/testfile \
    -direct=1 -iodepth=64 -thread -rw=randread \
    -ioengine=libaio -bs=4k -size=10G \
    -numjobs=4 -runtime=60 -group_reporting \
    -name=randread-test

# 随机写测试  
fio -filename=/var/lib/mysql/testfile \
    -direct=1 -iodepth=64 -thread -rw=randwrite \
    -ioengine=libaio -bs=4k -size=10G \
    -numjobs=4 -runtime=60 -group_reporting \
    -name=randwrite-test
```

**📊 性能指标解读**

```
测试结果示例及分析：

randread: (groupid=0, jobs=4): err= 0: pid=1234: Mon Jan 1 00:00:00 2024
  read: IOPS=15.2k, BW=59.4MiB/s (62.3MB/s)(3564MiB/60001msec)
  ↑            ↑                              ↑
  随机读IOPS   带宽                           总读取量

性能评估标准：
• IOPS > 10,000：优秀，适合高并发OLTP
• IOPS 5,000-10,000：良好，适合一般业务
• IOPS 1,000-5,000：可用，适合轻负载
• IOPS < 1,000：较差，需要优化或升级
```

---

## 4. 🌐 网络与系统环境准备


### 4.1 网络带宽规划


**🔸 网络在MySQL中的重要性**

网络是数据库服务的通道，影响客户端连接速度、主从复制效率、备份恢复时间等关键指标。

```
MySQL网络流量分析：

客户端连接流量：
┌─────────────┐    查询请求     ┌─────────────┐
│   应用服务器  │ ────────────► │  MySQL服务器 │
│             │ ◄──────────── │             │
└─────────────┘    结果返回     └─────────────┘

主从复制流量：
┌─────────────┐   二进制日志    ┌─────────────┐
│   主服务器   │ ────────────► │   从服务器   │
└─────────────┘                └─────────────┘

备份传输流量：
┌─────────────┐    备份数据     ┌─────────────┐
│  MySQL服务器 │ ────────────► │   备份服务器  │
└─────────────┘                └─────────────┘
```

**📏 带宽需求计算**

```bash
# 网络带宽评估公式
总带宽需求 = 业务流量 + 复制流量 + 备份流量 + 管理流量

# 实际案例计算
业务场景：每秒1000个查询，平均响应50KB
复制场景：主从复制，每秒写入10MB数据
备份场景：每天全备份，200GB数据

计算过程：
- 业务流量：1000 × 50KB = 50MB/s
- 复制流量：10MB/s (峰值可能达到30MB/s)  
- 备份流量：200GB ÷ 8小时 = 7MB/s
- 安全系数：1.5倍

建议带宽：(50 + 30 + 7) × 1.5 = 130MB/s
推荐配置：千兆网卡(125MB/s)或万兆网卡
```

### 4.2 网络配置验证方法


**🔧 网络连通性测试**

```bash
# 基础网络测试
# 1. 延迟测试
ping -c 10 target_server
# 期望结果：< 1ms (同机房), < 50ms (同城), < 200ms (跨地域)

# 2. 带宽测试
iperf3 -s  # 在目标服务器运行服务端
iperf3 -c target_ip -t 30  # 在源服务器测试

# 3. 端口连通性测试
telnet target_ip 3306
nc -zv target_ip 3306

# 4. DNS解析测试
nslookup mysql-server.example.com
dig mysql-server.example.com
```

**🛠️ 网络参数优化**

```bash
# TCP参数优化 (/etc/sysctl.conf)
# 增加TCP缓冲区大小
net.core.rmem_default = 262144
net.core.rmem_max = 16777216
net.core.wmem_default = 262144  
net.core.wmem_max = 16777216

# TCP连接优化
net.ipv4.tcp_keepalive_time = 600      # TCP保活时间
net.ipv4.tcp_keepalive_intvl = 30      # 保活探测间隔
net.ipv4.tcp_keepalive_probes = 3      # 保活探测次数

# 连接队列优化
net.core.somaxconn = 65535             # 监听队列大小
net.ipv4.tcp_max_syn_backlog = 65535   # SYN队列大小

# 应用配置后重启网络
sysctl -p
```

### 4.3 依赖软件检查


**📦 MySQL运行环境依赖**

MySQL正常运行需要一些基础软件和库文件的支持：

```bash
# CentOS/RHEL 系统依赖检查
# 1. 基础开发工具
yum groupinstall -y "Development Tools"
yum install -y gcc gcc-c++ make cmake

# 2. 必需的库文件
yum install -y libaio-devel          # 异步IO库
yum install -y numactl-devel         # NUMA支持
yum install -y openssl-devel         # SSL支持
yum install -y ncurses-devel         # 终端库

# 3. 其他常用工具
yum install -y wget curl            # 下载工具
yum install -y vim net-tools        # 编辑和网络工具
yum install -y htop iotop           # 性能监控工具

# Ubuntu/Debian 系统对应命令
apt update
apt install -y build-essential cmake
apt install -y libaio-dev libssl-dev libncurses5-dev
apt install -y numactl libnuma-dev
```

**🔍 依赖验证脚本**

```bash
#!/bin/bash
# MySQL环境依赖检查脚本

echo "检查MySQL部署环境依赖..."

# 检查必需的库文件
echo "1. 检查依赖库..."
libraries=("libaio" "libssl" "libncurses" "libnuma")
for lib in "${libraries[@]}"; do
    if ldconfig -p | grep -q "$lib"; then
        echo "✓ $lib 已安装"
    else
        echo "✗ $lib 未安装"
    fi
done

# 检查系统资源
echo "2. 检查系统资源..."
echo "CPU核心数: $(nproc)"
echo "内存大小: $(free -h | grep '^Mem:' | awk '{print $2}')"
echo "磁盘空间: $(df -h / | tail -1 | awk '{print $4}')"

# 检查网络配置  
echo "3. 检查网络配置..."
echo "主机名: $(hostname)"
echo "IP地址: $(hostname -I)"

echo "环境检查完成!"
```

---

## 5. 🏗️ 部署架构规划


### 5.1 高可用部署架构规划


**🔸 什么是高可用架构？**

高可用(HA)架构是指系统在面临硬件故障、软件错误、人为操作失误等异常情况时，仍能继续提供服务的能力。对于数据库而言，这意味着业务不会因为单点故障而中断。

```
MySQL高可用架构演进：

单机部署 → 主从复制 → 主主复制 → 集群部署
    ↓          ↓          ↓          ↓
  99.9%     99.95%     99.99%     99.999%
 (8.8小时/年) (4.4小时/年) (53分钟/年) (5.3分钟/年)
```

**🏛️ 常见高可用架构模式**

```
1. 主从复制架构 (Master-Slave)：
┌─────────────┐    二进制日志    ┌─────────────┐
│    主库     │ ────────────►  │    从库     │
│   (写入)    │                │   (读取)    │
└─────────────┘                └─────────────┘
优点：简单可靠，读写分离
缺点：主库故障需要手动切换

2. 主主复制架构 (Master-Master)：
┌─────────────┐ ◄──────────► ┌─────────────┐
│    主库A    │  互相复制    │    主库B    │
│  (活跃)     │              │  (备用)     │  
└─────────────┘              └─────────────┘
优点：快速故障切换
缺点：数据冲突风险

3. MGR集群架构 (MySQL Group Replication)：
    ┌─────────────┐
    │   节点1     │
    └──────┬──────┘
           │
┌─────────────┐    Group    ┌─────────────┐
│   节点2     │ Replication │   节点3     │
└─────────────┘             └─────────────┘
优点：自动故障检测和恢复
缺点：配置相对复杂
```

### 5.2 云环境部署规划


**☁️ 云平台部署的特殊考虑**

云环境部署MySQL需要考虑云平台的特性和限制：

**📋 云环境vs物理环境对比**

| **方面** | **云环境** | **物理环境** | **说明** |
|---------|-----------|-------------|---------|
| **弹性扩展** | ⭐⭐⭐⭐⭐ | ⭐⭐ | `云环境可快速调整配置` |
| **性能稳定性** | ⭐⭐⭐ | ⭐⭐⭐⭐⭐ | `物理环境性能更稳定` |
| **成本控制** | ⭐⭐⭐⭐ | ⭐⭐⭐ | `云环境按需付费` |
| **运维复杂度** | ⭐⭐ | ⭐⭐⭐⭐ | `云环境运维更简单` |

**🔧 云环境部署建议**

```bash
# AWS RDS vs 自建MySQL选择建议
选择RDS的情况：
• 团队MySQL运维经验不足
• 希望减少运维工作量  
• 业务规模不是特别大
• 对成本不太敏感

选择自建MySQL的情况：
• 需要深度定制配置
• 对性能要求极高
• 希望控制成本
• 有专业DBA团队

# 混合云架构考虑
┌─────────────┐    数据同步    ┌─────────────┐
│   云端MySQL  │ ◄──────────► │  本地MySQL   │
│   (主要业务) │              │  (灾备)     │
└─────────────┘              └─────────────┘
```

### 5.3 容器化部署前置条件


**🐳 Docker容器化部署的准备工作**

容器化部署MySQL需要特别注意数据持久化和性能优化：

```bash
# Docker环境准备
# 1. 安装Docker
curl -fsSL https://get.docker.com | bash
systemctl start docker
systemctl enable docker

# 2. 准备数据目录
mkdir -p /docker/mysql/{data,logs,conf}
chown -R 999:999 /docker/mysql/data  # MySQL用户ID

# 3. MySQL配置文件准备 (/docker/mysql/conf/my.cnf)
cat > /docker/mysql/conf/my.cnf << 'EOF'
[mysqld]
# 基础配置
port = 3306
datadir = /var/lib/mysql
socket = /var/lib/mysql/mysql.sock

# InnoDB配置
innodb_buffer_pool_size = 1G
innodb_log_file_size = 256M
innodb_flush_log_at_trx_commit = 2

# 日志配置
log-error = /var/log/mysql/error.log
slow_query_log = 1
slow_query_log_file = /var/log/mysql/slow.log
EOF

# 4. Docker运行MySQL
docker run -d \
  --name mysql-server \
  --restart unless-stopped \
  -p 3306:3306 \
  -e MYSQL_ROOT_PASSWORD=your_password \
  -v /docker/mysql/data:/var/lib/mysql \
  -v /docker/mysql/logs:/var/log/mysql \
  -v /docker/mysql/conf/my.cnf:/etc/mysql/my.cnf \
  mysql:8.0
```

**⚠️ 容器化部署注意事项**

```yaml
# Docker Compose配置示例 (docker-compose.yml)
version: '3.8'
services:
  mysql:
    image: mysql:8.0
    container_name: mysql-prod
    restart: unless-stopped
    environment:
      MYSQL_ROOT_PASSWORD: ${MYSQL_ROOT_PASSWORD}
      MYSQL_DATABASE: ${MYSQL_DATABASE}
    ports:
      - "3306:3306"
    volumes:
      - mysql_data:/var/lib/mysql
      - ./conf/my.cnf:/etc/mysql/my.cnf
      - ./logs:/var/log/mysql
    # 性能优化配置
    ulimits:
      nofile:
        soft: 65536
        hard: 65536
    # 内存限制
    mem_limit: 4g
    
volumes:
  mysql_data:
    driver: local
```

---

## 6. 📋 核心要点总结


### 6.1 必须掌握的核心概念


```
🔸 硬件评估：CPU多核高频、内存充足、存储高性能是基础
🔸 系统选型：Linux企业版、内核优化、THP禁用是关键
🔸 存储规划：XFS文件系统、SSD存储、RAID10配置是首选
🔸 网络配置：千兆带宽、低延迟、参数优化是保障
🔸 架构设计：高可用、可扩展、容器化是趋势
```

### 6.2 关键配置检查清单


**✅ 部署前必检项目**

<details>
<summary>🔍 点击展开详细检查清单</summary>

**硬件资源检查：**
- [ ] CPU核心数 ≥ 8核，主频 ≥ 2.4GHz
- [ ] 内存容量 ≥ 数据量的80% + 16GB系统预留
- [ ] 存储IOPS ≥ 10,000（生产环境）
- [ ] 网络带宽 ≥ 1Gbps

**操作系统检查：**
- [ ] Linux发行版为企业级版本
- [ ] 内核版本 ≥ 3.10
- [ ] 透明大页已禁用
- [ ] 必要的依赖库已安装

**存储配置检查：**
- [ ] 文件系统为XFS或ext4
- [ ] RAID配置为RAID10
- [ ] 磁盘空间 ≥ 预估需求的1.5倍
- [ ] 挂载参数已优化

**网络环境检查：**
- [ ] 防火墙规则已配置
- [ ] DNS解析正常
- [ ] 网络延迟 < 50ms
- [ ] TCP参数已优化

</details>

### 6.3 常见问题预防


**⚠️ 新手常犯错误及预防**

| **错误类型** | **具体问题** | **预防措施** | **影响程度** |
|-------------|-------------|-------------|-------------|
| **硬件配置不当** | `内存过小导致频繁swap` | `按公式计算内存需求` | 🔴 **严重** |
| **存储选择错误** | `使用机械硬盘导致性能差` | `生产环境必须用SSD` | 🔴 **严重** |
| **系统配置遗漏** | `THP未禁用导致性能抖动` | `严格按检查清单执行` | 🟡 **中等** |
| **网络配置不当** | `防火墙阻断连接` | `测试网络连通性` | 🟡 **中等** |

### 6.4 最佳实践建议


**🏆 生产环境部署标准**

```
硬件配置推荐：
• CPU：16核 3.0GHz+ 
• 内存：64GB+ DDR4
• 存储：NVMe SSD RAID10
• 网络：万兆网卡

系统配置要求：
• OS：CentOS 7/8 或 Rocky Linux
• 内核：4.18+
• 文件系统：XFS
• 安全：SELinux disabled

监控工具必备：
• 系统监控：Prometheus + Grafana
• MySQL监控：PMM 或 自建监控
• 日志监控：ELK Stack
• 告警通知：邮件 + 短信 + 微信
```

**🚀 性能优化建议**

```
部署后优化重点：
1. 参数调优：根据业务特点调整MySQL参数
2. 索引优化：建立适当的索引提升查询性能  
3. 架构优化：读写分离、分库分表
4. 监控建设：全方位监控系统运行状态
5. 备份策略：制定完善的备份恢复策略
```

**核心记忆要点**：
```
硬件够用系统稳，存储快速网络通
参数优化很关键，监控备份不能松
架构设计要合理，扩展维护都轻松
```