---
title: 5ã€å¤šè¯­è¨€æ”¯æŒ
---
## ğŸ“š ç›®å½•

1. [å¤šè¯­è¨€æ•°æ®æ¨¡å‹è®¾è®¡](#1-å¤šè¯­è¨€æ•°æ®æ¨¡å‹è®¾è®¡)
2. [è¯­è¨€åŒ…ç®¡ç†ç³»ç»Ÿ](#2-è¯­è¨€åŒ…ç®¡ç†ç³»ç»Ÿ)
3. [å†…å®¹æœ¬åœ°åŒ–ç­–ç•¥](#3-å†…å®¹æœ¬åœ°åŒ–ç­–ç•¥)
4. [è¯­è¨€åˆ‡æ¢æœºåˆ¶](#4-è¯­è¨€åˆ‡æ¢æœºåˆ¶)
5. [ç¿»è¯‘å·¥ä½œæµç®¡ç†](#5-ç¿»è¯‘å·¥ä½œæµç®¡ç†)
6. [å¤šè¯­è¨€SEOä¼˜åŒ–](#6-å¤šè¯­è¨€SEOä¼˜åŒ–)
7. [æ€§èƒ½ä¼˜åŒ–ä¸ç¼“å­˜](#7-æ€§èƒ½ä¼˜åŒ–ä¸ç¼“å­˜)
8. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#8-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ—„ï¸ å¤šè¯­è¨€æ•°æ®æ¨¡å‹è®¾è®¡


### 1.1 å¤šè¯­è¨€æ•°æ®æ¨¡å‹çš„æ ¸å¿ƒæ€æƒ³


**ä»€ä¹ˆæ˜¯å¤šè¯­è¨€æ•°æ®æ¨¡å‹ï¼Ÿ**
ç®€å•æ¥è¯´ï¼Œå°±æ˜¯è®©åŒä¸€ä»½å†…å®¹èƒ½å¤Ÿä»¥ä¸åŒè¯­è¨€å­˜å‚¨å’Œå±•ç¤ºã€‚æ¯”å¦‚ä¸€ç¯‡æ–‡ç« ï¼Œä¸­æ–‡æ ‡é¢˜æ˜¯"Hello World"ï¼Œè‹±æ–‡æ ‡é¢˜æ˜¯"ä½ å¥½ä¸–ç•Œ"ï¼Œä½†å®ƒä»¬æœ¬è´¨ä¸Šæ˜¯åŒä¸€ç¯‡æ–‡ç« ã€‚

```
ä¼ ç»Ÿå•è¯­è¨€æ¨¡å¼ï¼š
æ–‡ç« è¡¨ â†’ ä¸€æ¡è®°å½•åªèƒ½å­˜ä¸€ç§è¯­è¨€

å¤šè¯­è¨€æ¨¡å¼ï¼š
æ–‡ç« è¡¨ï¼ˆä¸»ä½“ä¿¡æ¯ï¼‰ + æ–‡ç« ç¿»è¯‘è¡¨ï¼ˆå„è¯­è¨€å†…å®¹ï¼‰
ä¸€ç¯‡æ–‡ç« å¯ä»¥æœ‰å¤šä¸ªè¯­è¨€ç‰ˆæœ¬
```

### 1.2 ä¸»æµæ•°æ®æ¨¡å‹è®¾è®¡æ–¹æ¡ˆ


#### ğŸ”¸ æ–¹æ¡ˆä¸€ï¼šå•è¡¨å¤šåˆ—æ¨¡å¼ï¼ˆé€‚åˆå°‘é‡è¯­è¨€ï¼‰


```sql
-- ç®€å•ç›´æ¥ï¼Œé€‚åˆ2-3ç§è¯­è¨€
CREATE TABLE articles_simple (
    id INT PRIMARY KEY AUTO_INCREMENT,
    title_zh VARCHAR(255),           -- ä¸­æ–‡æ ‡é¢˜
    title_en VARCHAR(255),           -- è‹±æ–‡æ ‡é¢˜
    content_zh TEXT,                 -- ä¸­æ–‡å†…å®¹
    content_en TEXT,                 -- è‹±æ–‡å†…å®¹
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

**ä¼˜ç¼ºç‚¹åˆ†æï¼š**
```
âœ… ä¼˜ç‚¹ï¼š
- ç»“æ„ç®€å•ï¼ŒæŸ¥è¯¢ç›´æ¥
- æ— éœ€å¤æ‚å…³è”æŸ¥è¯¢
- æ•°æ®å®Œæ•´æ€§å¥½

âŒ ç¼ºç‚¹ï¼š
- æ‰©å±•æ€§å·®ï¼Œå¢åŠ è¯­è¨€éœ€è¦æ”¹è¡¨ç»“æ„
- å­—æ®µå†—ä½™ï¼Œç»´æŠ¤å›°éš¾
- åªé€‚åˆå›ºå®šçš„å°‘é‡è¯­è¨€
```

#### ğŸ”¸ æ–¹æ¡ˆäºŒï¼šä¸»ä»è¡¨åˆ†ç¦»æ¨¡å¼ï¼ˆæ¨èï¼‰


```sql
-- ä¸»è¡¨ï¼šå­˜å‚¨è¯­è¨€æ— å…³çš„ä¿¡æ¯
CREATE TABLE articles (
    id INT PRIMARY KEY AUTO_INCREMENT,
    author_id INT,
    category_id INT,
    status ENUM('draft', 'published', 'archived') DEFAULT 'draft',
    default_language VARCHAR(5) DEFAULT 'zh-CN',
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    INDEX idx_status (status),
    INDEX idx_category (category_id)
);

-- ç¿»è¯‘è¡¨ï¼šå­˜å‚¨å„è¯­è¨€ç‰ˆæœ¬çš„å†…å®¹
CREATE TABLE article_translations (
    id INT PRIMARY KEY AUTO_INCREMENT,
    article_id INT,
    language_code VARCHAR(5),        -- zh-CN, en-US, ja-JPç­‰
    title VARCHAR(255) NOT NULL,
    content TEXT,
    meta_description VARCHAR(500),
    slug VARCHAR(255),               -- URLå‹å¥½çš„æ ‡è¯†ç¬¦
    is_completed BOOLEAN DEFAULT FALSE, -- ç¿»è¯‘æ˜¯å¦å®Œæˆ
    translated_by INT,               -- ç¿»è¯‘è€…ID
    translated_at TIMESTAMP NULL,
    
    UNIQUE KEY unique_translation (article_id, language_code),
    FOREIGN KEY (article_id) REFERENCES articles(id) ON DELETE CASCADE,
    INDEX idx_language (language_code),
    INDEX idx_slug (slug)
);
```

**ä¸ºä»€ä¹ˆè¿™æ ·è®¾è®¡ï¼Ÿ**
```
ä¸»è¡¨èŒè´£ï¼š
- å­˜å‚¨æ–‡ç« çš„åŸºæœ¬ä¿¡æ¯ï¼ˆä½œè€…ã€åˆ†ç±»ã€çŠ¶æ€ï¼‰
- è¿™äº›ä¿¡æ¯ä¸è¯­è¨€æ— å…³ï¼Œä¸éœ€è¦ç¿»è¯‘

ç¿»è¯‘è¡¨èŒè´£ï¼š
- å­˜å‚¨éœ€è¦ç¿»è¯‘çš„å†…å®¹ï¼ˆæ ‡é¢˜ã€æ­£æ–‡ã€æè¿°ï¼‰
- ä¸€ä¸ªä¸»è®°å½•å¯¹åº”å¤šä¸ªç¿»è¯‘è®°å½•
- æ”¯æŒæ— é™æ‰©å±•è¯­è¨€
```

### 1.3 è¯­è¨€ä»£ç æ ‡å‡†åŒ–


```sql
-- è¯­è¨€é…ç½®è¡¨
CREATE TABLE languages (
    code VARCHAR(5) PRIMARY KEY,     -- zh-CN, en-US
    name VARCHAR(50) NOT NULL,       -- ä¸­æ–‡, English
    native_name VARCHAR(50),         -- ä¸­æ–‡, English
    direction ENUM('ltr', 'rtl') DEFAULT 'ltr', -- æ–‡å­—æ–¹å‘
    is_active BOOLEAN DEFAULT TRUE,
    sort_order INT DEFAULT 0,
    
    INDEX idx_active (is_active),
    INDEX idx_sort (sort_order)
);

-- é¢„ç½®è¯­è¨€æ•°æ®
INSERT INTO languages VALUES 
('zh-CN', 'ä¸­æ–‡', 'ä¸­æ–‡', 'ltr', TRUE, 1),
('en-US', 'English', 'English', 'ltr', TRUE, 2),
('ja-JP', 'æ—¥æœ¬è¯­', 'æ—¥æœ¬èª', 'ltr', FALSE, 3);
```

### 1.4 å®é™…æŸ¥è¯¢ç¤ºä¾‹


```sql
-- è·å–æŒ‡å®šè¯­è¨€çš„æ–‡ç« åˆ—è¡¨
SELECT 
    a.id,
    a.author_id,
    a.created_at,
    t.title,
    t.content,
    t.language_code
FROM articles a
LEFT JOIN article_translations t ON a.id = t.article_id
WHERE t.language_code = 'zh-CN' 
    AND a.status = 'published'
ORDER BY a.created_at DESC;

-- è·å–æ–‡ç« çš„æ‰€æœ‰è¯­è¨€ç‰ˆæœ¬
SELECT 
    a.id as article_id,
    l.name as language_name,
    t.title,
    t.is_completed,
    t.translated_at
FROM articles a
LEFT JOIN article_translations t ON a.id = t.article_id
LEFT JOIN languages l ON t.language_code = l.code
WHERE a.id = 1;
```

---

## 2. ğŸ“¦ è¯­è¨€åŒ…ç®¡ç†ç³»ç»Ÿ


### 2.1 ä»€ä¹ˆæ˜¯è¯­è¨€åŒ…ï¼Ÿ


**è¯­è¨€åŒ…çš„æ¦‚å¿µï¼š**
è¯­è¨€åŒ…å°±åƒæ˜¯ç½‘ç«™ç•Œé¢çš„"ç¿»è¯‘å­—å…¸"ã€‚æ¯”å¦‚ç½‘ç«™ä¸Šçš„"ç™»å½•"æŒ‰é’®ï¼Œä¸­æ–‡æ˜¾ç¤º"ç™»å½•"ï¼Œè‹±æ–‡æ˜¾ç¤º"Login"ï¼Œæ—¥æ–‡æ˜¾ç¤º"ãƒ­ã‚°ã‚¤ãƒ³"ã€‚è¿™äº›ç¿»è¯‘å°±å­˜å‚¨åœ¨è¯­è¨€åŒ…é‡Œã€‚

```
ç•Œé¢å…ƒç´  â†’ è¯­è¨€åŒ…Key â†’ ä¸åŒè¯­è¨€çš„æ˜¾ç¤ºæ–‡æœ¬
æŒ‰é’®     â†’ "login"    â†’ ä¸­æ–‡ï¼š"ç™»å½•" / è‹±æ–‡ï¼š"Login"
æ ‡é¢˜     â†’ "welcome"  â†’ ä¸­æ–‡ï¼š"æ¬¢è¿" / è‹±æ–‡ï¼š"Welcome"
```

### 2.2 è¯­è¨€åŒ…æ•°æ®åº“è®¾è®¡


```sql
-- è¯­è¨€åŒ…åˆ†ç»„è¡¨ï¼ˆæŒ‰åŠŸèƒ½æ¨¡å—åˆ†ç±»ï¼‰
CREATE TABLE translation_groups (
    id INT PRIMARY KEY AUTO_INCREMENT,
    name VARCHAR(50) NOT NULL,           -- common, user, admin, product
    description VARCHAR(200),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    
    UNIQUE KEY unique_name (name)
);

-- ç¿»è¯‘é”®å€¼è¡¨
CREATE TABLE translations (
    id INT PRIMARY KEY AUTO_INCREMENT,
    group_id INT,
    trans_key VARCHAR(100) NOT NULL,     -- login, welcome, save_success
    description VARCHAR(200),            -- ç¿»è¯‘è¯´æ˜ï¼Œå¸®åŠ©ç¿»è¯‘è€…ç†è§£
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    
    UNIQUE KEY unique_key (group_id, trans_key),
    FOREIGN KEY (group_id) REFERENCES translation_groups(id),
    INDEX idx_key (trans_key)
);

-- ç¿»è¯‘å†…å®¹è¡¨
CREATE TABLE translation_values (
    id INT PRIMARY KEY AUTO_INCREMENT,
    translation_id INT,
    language_code VARCHAR(5),
    value TEXT NOT NULL,                 -- å®é™…çš„ç¿»è¯‘å†…å®¹
    is_approved BOOLEAN DEFAULT FALSE,   -- ç¿»è¯‘æ˜¯å¦å·²å®¡æ ¸
    translator_id INT,                   -- ç¿»è¯‘è€…
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    
    UNIQUE KEY unique_translation (translation_id, language_code),
    FOREIGN KEY (translation_id) REFERENCES translations(id) ON DELETE CASCADE,
    FOREIGN KEY (language_code) REFERENCES languages(code),
    INDEX idx_language (language_code),
    INDEX idx_approved (is_approved)
);
```

### 2.3 è¯­è¨€åŒ…çš„å®é™…åº”ç”¨


```sql
-- åˆå§‹åŒ–åŸºç¡€åˆ†ç»„
INSERT INTO translation_groups (name, description) VALUES 
('common', 'é€šç”¨ç•Œé¢å…ƒç´ '),
('auth', 'ç™»å½•æ³¨å†Œç›¸å…³'),
('user', 'ç”¨æˆ·ä¸­å¿ƒ'),
('admin', 'ç®¡ç†åå°');

-- æ·»åŠ ç¿»è¯‘é”®
INSERT INTO translations (group_id, trans_key, description) VALUES 
(1, 'save', 'ä¿å­˜æŒ‰é’®'),
(1, 'cancel', 'å–æ¶ˆæŒ‰é’®'),
(1, 'delete_confirm', 'åˆ é™¤ç¡®è®¤æç¤º'),
(2, 'login', 'ç™»å½•æŒ‰é’®'),
(2, 'register', 'æ³¨å†ŒæŒ‰é’®');

-- æ·»åŠ ç¿»è¯‘å†…å®¹
INSERT INTO translation_values (translation_id, language_code, value, is_approved) VALUES 
(1, 'zh-CN', 'ä¿å­˜', TRUE),
(1, 'en-US', 'Save', TRUE),
(1, 'ja-JP', 'ä¿å­˜', FALSE),
(2, 'zh-CN', 'å–æ¶ˆ', TRUE),
(2, 'en-US', 'Cancel', TRUE);
```

### 2.4 è·å–è¯­è¨€åŒ…çš„æŸ¥è¯¢æ–¹æ³•


```sql
-- è·å–æŒ‡å®šè¯­è¨€çš„æ‰€æœ‰ç¿»è¯‘
SELECT 
    tg.name as group_name,
    t.trans_key,
    tv.value,
    tv.is_approved
FROM translation_groups tg
JOIN translations t ON tg.id = t.group_id
LEFT JOIN translation_values tv ON t.id = tv.translation_id 
    AND tv.language_code = 'zh-CN'
ORDER BY tg.name, t.trans_key;

-- æ£€æŸ¥ç¼ºå¤±çš„ç¿»è¯‘
SELECT 
    t.trans_key,
    l.code as language_code,
    l.name as language_name
FROM translations t
CROSS JOIN languages l
LEFT JOIN translation_values tv ON t.id = tv.translation_id 
    AND l.code = tv.language_code
WHERE tv.id IS NULL AND l.is_active = TRUE;
```

---

## 3. ğŸŒ å†…å®¹æœ¬åœ°åŒ–ç­–ç•¥


### 3.1 ä»€ä¹ˆæ˜¯å†…å®¹æœ¬åœ°åŒ–ï¼Ÿ


**æœ¬åœ°åŒ– vs ç¿»è¯‘çš„åŒºåˆ«ï¼š**
```
ç¿»è¯‘ï¼šæŠŠ"Hello"ç¿»è¯‘æˆ"ä½ å¥½"
æœ¬åœ°åŒ–ï¼šä¸ä»…ç¿»è¯‘æ–‡å­—ï¼Œè¿˜è¦é€‚é…å½“åœ°æ–‡åŒ–ã€æ ¼å¼ã€ä¹ æƒ¯

ä¸¾ä¾‹è¯´æ˜ï¼š
æ—¥æœŸæ ¼å¼ï¼šä¸­æ–‡"2024å¹´1æœˆ1æ—¥" vs ç¾å›½"01/01/2024"
è´§å¸æ˜¾ç¤ºï¼šä¸­æ–‡"ï¿¥100" vs ç¾å›½"$15.99"
æ’ç‰ˆæ–¹å‘ï¼šé˜¿æ‹‰ä¼¯è¯­ä»å³åˆ°å·¦é˜…è¯»
```

### 3.2 æœ¬åœ°åŒ–æ•°æ®å­˜å‚¨è®¾è®¡


```sql
-- æœ¬åœ°åŒ–é…ç½®è¡¨
CREATE TABLE localization_configs (
    id INT PRIMARY KEY AUTO_INCREMENT,
    language_code VARCHAR(5),
    config_key VARCHAR(50),              -- date_format, currency, number_format
    config_value VARCHAR(200),
    description VARCHAR(200),
    
    UNIQUE KEY unique_config (language_code, config_key),
    FOREIGN KEY (language_code) REFERENCES languages(code)
);

-- æœ¬åœ°åŒ–é…ç½®æ•°æ®ç¤ºä¾‹
INSERT INTO localization_configs VALUES 
(1, 'zh-CN', 'date_format', 'Yå¹´mæœˆdæ—¥', 'ä¸­æ–‡æ—¥æœŸæ ¼å¼'),
(2, 'en-US', 'date_format', 'm/d/Y', 'ç¾å¼æ—¥æœŸæ ¼å¼'),
(3, 'zh-CN', 'currency_symbol', 'ï¿¥', 'äººæ°‘å¸ç¬¦å·'),
(4, 'en-US', 'currency_symbol', '$', 'ç¾å…ƒç¬¦å·'),
(5, 'zh-CN', 'decimal_separator', '.', 'å°æ•°ç‚¹åˆ†éš”ç¬¦'),
(6, 'zh-CN', 'thousand_separator', ',', 'åƒä½åˆ†éš”ç¬¦');
```

### 3.3 åŒºåŸŸåŒ–å†…å®¹ç®¡ç†


```sql
-- åŒºåŸŸåŒ–å†…å®¹è¡¨ï¼ˆå¦‚è½®æ’­å›¾ã€å¹¿å‘Šç­‰ï¼‰
CREATE TABLE localized_content (
    id INT PRIMARY KEY AUTO_INCREMENT,
    content_type ENUM('banner', 'ad', 'notice') NOT NULL,
    language_code VARCHAR(5),
    title VARCHAR(255),
    content TEXT,
    image_url VARCHAR(500),
    link_url VARCHAR(500),
    display_order INT DEFAULT 0,
    is_active BOOLEAN DEFAULT TRUE,
    start_date DATE,
    end_date DATE,
    
    FOREIGN KEY (language_code) REFERENCES languages(code),
    INDEX idx_type_lang (content_type, language_code),
    INDEX idx_active_order (is_active, display_order)
);
```

### 3.4 æœ¬åœ°åŒ–æŸ¥è¯¢å®è·µ


```sql
-- è·å–æŒ‡å®šè¯­è¨€çš„è½®æ’­å›¾
SELECT 
    lc.*,
    l.name as language_name
FROM localized_content lc
JOIN languages l ON lc.language_code = l.code
WHERE lc.content_type = 'banner' 
    AND lc.language_code = 'zh-CN'
    AND lc.is_active = TRUE
    AND (lc.start_date IS NULL OR lc.start_date <= CURDATE())
    AND (lc.end_date IS NULL OR lc.end_date >= CURDATE())
ORDER BY lc.display_order;

-- æœ¬åœ°åŒ–é…ç½®è·å–
SELECT config_key, config_value 
FROM localization_configs 
WHERE language_code = 'zh-CN';
```

---

## 4. ğŸ”„ è¯­è¨€åˆ‡æ¢æœºåˆ¶


### 4.1 è¯­è¨€åˆ‡æ¢çš„ç”¨æˆ·ä½“éªŒè®¾è®¡


**è¯­è¨€åˆ‡æ¢éœ€è¦è€ƒè™‘çš„é—®é¢˜ï¼š**
```
ğŸ¯ ç”¨æˆ·åœºæ™¯ï¼š
- é¦–æ¬¡è®¿é—®ï¼šå¦‚ä½•ç¡®å®šç”¨æˆ·è¯­è¨€åå¥½ï¼Ÿ
- ä¸»åŠ¨åˆ‡æ¢ï¼šç”¨æˆ·ç‚¹å‡»è¯­è¨€åˆ‡æ¢æŒ‰é’®
- è®°ä½é€‰æ‹©ï¼šä¸‹æ¬¡è®¿é—®æ—¶è‡ªåŠ¨ä½¿ç”¨ç”¨æˆ·åå¥½è¯­è¨€
- URLå¤„ç†ï¼šåˆ‡æ¢è¯­è¨€åURLå¦‚ä½•å˜åŒ–ï¼Ÿ
```

### 4.2 ç”¨æˆ·è¯­è¨€åå¥½å­˜å‚¨


```sql
-- ç”¨æˆ·è¯­è¨€åå¥½è¡¨
CREATE TABLE user_language_preferences (
    id INT PRIMARY KEY AUTO_INCREMENT,
    user_id INT,
    language_code VARCHAR(5),
    is_primary BOOLEAN DEFAULT TRUE,     -- æ˜¯å¦ä¸ºä¸»è¦è¯­è¨€
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    
    UNIQUE KEY unique_user_primary (user_id, is_primary),
    FOREIGN KEY (language_code) REFERENCES languages(code),
    INDEX idx_user (user_id)
);

-- è®¿å®¢è¯­è¨€è®°å½•è¡¨ï¼ˆæœªç™»å½•ç”¨æˆ·ï¼‰
CREATE TABLE session_languages (
    session_id VARCHAR(128) PRIMARY KEY,
    language_code VARCHAR(5),
    ip_address VARCHAR(45),
    user_agent TEXT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    
    FOREIGN KEY (language_code) REFERENCES languages(code),
    INDEX idx_updated (updated_at)
);
```

### 4.3 æ™ºèƒ½è¯­è¨€æ£€æµ‹æœºåˆ¶


```sql
-- IPåœ°å€ä¸è¯­è¨€å…³è”è¡¨
CREATE TABLE ip_language_mapping (
    id INT PRIMARY KEY AUTO_INCREMENT,
    ip_range_start BIGINT UNSIGNED,      -- IPèŒƒå›´èµ·å§‹
    ip_range_end BIGINT UNSIGNED,        -- IPèŒƒå›´ç»“æŸ
    country_code VARCHAR(2),             -- å›½å®¶ä»£ç 
    suggested_language VARCHAR(5),        -- å»ºè®®è¯­è¨€
    confidence DECIMAL(3,2) DEFAULT 0.8, -- ç½®ä¿¡åº¦
    
    FOREIGN KEY (suggested_language) REFERENCES languages(code),
    INDEX idx_ip_range (ip_range_start, ip_range_end)
);

-- æµè§ˆå™¨è¯­è¨€åå¥½è§£æ
-- è¿™ä¸ªé€šå¸¸åœ¨åº”ç”¨å±‚å¤„ç†ï¼Œæ•°æ®åº“å­˜å‚¨è§£æç»“æœ
CREATE TABLE browser_language_stats (
    id INT PRIMARY KEY AUTO_INCREMENT,
    accept_language VARCHAR(200),        -- æµè§ˆå™¨å‘é€çš„Accept-Language
    parsed_language VARCHAR(5),          -- è§£æå‡ºçš„è¯­è¨€ä»£ç 
    hit_count INT DEFAULT 1,
    last_seen TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    
    UNIQUE KEY unique_accept_lang (accept_language),
    INDEX idx_parsed (parsed_language)
);
```

### 4.4 è¯­è¨€åˆ‡æ¢URLç­–ç•¥


```
å¸¸è§URLå¤šè¯­è¨€æ–¹æ¡ˆï¼š

æ–¹æ¡ˆ1ï¼šå­åŸŸå
https://zh.example.com/article/123
https://en.example.com/article/123

æ–¹æ¡ˆ2ï¼šè·¯å¾„å‰ç¼€
https://example.com/zh/article/123
https://example.com/en/article/123  

æ–¹æ¡ˆ3ï¼šå‚æ•°æ–¹å¼
https://example.com/article/123?lang=zh
https://example.com/article/123?lang=en
```

```sql
-- URLå¤šè¯­è¨€è·¯ç”±è¡¨
CREATE TABLE multilang_routes (
    id INT PRIMARY KEY AUTO_INCREMENT,
    original_path VARCHAR(255),          -- åŸå§‹è·¯å¾„
    language_code VARCHAR(5),
    localized_path VARCHAR(255),         -- æœ¬åœ°åŒ–è·¯å¾„
    is_active BOOLEAN DEFAULT TRUE,
    
    UNIQUE KEY unique_route (original_path, language_code),
    FOREIGN KEY (language_code) REFERENCES languages(code),
    INDEX idx_localized (localized_path)
);

-- ç¤ºä¾‹è·¯ç”±æ•°æ®
INSERT INTO multilang_routes VALUES
(1, '/about', 'zh-CN', '/å…³äºæˆ‘ä»¬', TRUE),
(2, '/about', 'en-US', '/about', TRUE),
(3, '/contact', 'zh-CN', '/è”ç³»æˆ‘ä»¬', TRUE),
(4, '/contact', 'en-US', '/contact', TRUE);
```

---

## 5. ğŸ”„ ç¿»è¯‘å·¥ä½œæµç®¡ç†


### 5.1 ç¿»è¯‘å·¥ä½œæµçš„åŸºæœ¬æ¦‚å¿µ


**ä»€ä¹ˆæ˜¯ç¿»è¯‘å·¥ä½œæµï¼Ÿ**
æƒ³è±¡ä¸€ä¸ªæ–‡ç« ä»ä¸­æ–‡ç¿»è¯‘æˆè‹±æ–‡çš„è¿‡ç¨‹ï¼š
```
1. åˆ›å»ºåŸæ–‡ â†’ 2. åˆ†é…ç¿»è¯‘ä»»åŠ¡ â†’ 3. ç¿»è¯‘å¸ˆç¿»è¯‘ â†’ 4. å®¡æ ¸æ ¡å¯¹ â†’ 5. å‘å¸ƒä¸Šçº¿
```

å°±åƒç”Ÿäº§çº¿ä¸€æ ·ï¼Œæ¯ä¸ªæ­¥éª¤éƒ½æœ‰æ˜ç¡®çš„è´£ä»»äººå’Œè´¨é‡æ ‡å‡†ã€‚

### 5.2 ç¿»è¯‘ä»»åŠ¡ç®¡ç†ç³»ç»Ÿ


```sql
-- ç¿»è¯‘ä»»åŠ¡è¡¨
CREATE TABLE translation_tasks (
    id INT PRIMARY KEY AUTO_INCREMENT,
    content_type ENUM('article', 'product', 'page', 'ui') NOT NULL,
    content_id INT NOT NULL,             -- å¯¹åº”å†…å®¹çš„ID
    source_language VARCHAR(5),          -- æºè¯­è¨€
    target_language VARCHAR(5),          -- ç›®æ ‡è¯­è¨€
    status ENUM('pending', 'assigned', 'in_progress', 'review', 'approved', 'rejected') DEFAULT 'pending',
    priority ENUM('low', 'normal', 'high', 'urgent') DEFAULT 'normal',
    
    -- å·¥ä½œæµç›¸å…³
    assigned_to INT,                     -- åˆ†é…ç»™è°ç¿»è¯‘
    reviewer_id INT,                     -- å®¡æ ¸è€…
    deadline DATE,                       -- æˆªæ­¢æ—¶é—´
    estimated_hours DECIMAL(4,1),        -- é¢„ä¼°å·¥æ—¶
    actual_hours DECIMAL(4,1),           -- å®é™…å·¥æ—¶
    
    -- è¿›åº¦è·Ÿè¸ª
    progress DECIMAL(5,2) DEFAULT 0.00,  -- å®Œæˆè¿›åº¦ 0-100
    word_count INT DEFAULT 0,            -- è¯æ±‡æ•°é‡
    completed_words INT DEFAULT 0,       -- å·²ç¿»è¯‘è¯æ±‡
    
    -- æ—¶é—´è®°å½•
    assigned_at TIMESTAMP NULL,
    started_at TIMESTAMP NULL,
    submitted_at TIMESTAMP NULL,
    approved_at TIMESTAMP NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    
    FOREIGN KEY (source_language) REFERENCES languages(code),
    FOREIGN KEY (target_language) REFERENCES languages(code),
    INDEX idx_status (status),
    INDEX idx_assigned (assigned_to),
    INDEX idx_deadline (deadline)
);
```

### 5.3 ç¿»è¯‘è´¨é‡ç®¡ç†


```sql
-- ç¿»è¯‘è´¨é‡è¯„åˆ†è¡¨
CREATE TABLE translation_quality_scores (
    id INT PRIMARY KEY AUTO_INCREMENT,
    task_id INT,
    reviewer_id INT,
    accuracy_score DECIMAL(3,1),         -- å‡†ç¡®æ€§å¾—åˆ† 0-10
    fluency_score DECIMAL(3,1),          -- æµç•…æ€§å¾—åˆ† 0-10
    style_score DECIMAL(3,1),            -- é£æ ¼å¾—åˆ† 0-10
    overall_score DECIMAL(3,1),          -- æ€»ä½“å¾—åˆ†
    feedback TEXT,                       -- å®¡æ ¸æ„è§
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    
    FOREIGN KEY (task_id) REFERENCES translation_tasks(id),
    INDEX idx_task (task_id),
    INDEX idx_score (overall_score)
);

-- ç¿»è¯‘è®°å¿†åº“ï¼ˆå¤ç”¨ä¹‹å‰çš„ç¿»è¯‘ï¼‰
CREATE TABLE translation_memory (
    id INT PRIMARY KEY AUTO_INCREMENT,
    source_text TEXT NOT NULL,
    target_text TEXT NOT NULL,
    source_language VARCHAR(5),
    target_language VARCHAR(5),
    context_info VARCHAR(500),           -- ä¸Šä¸‹æ–‡ä¿¡æ¯
    domain VARCHAR(50),                  -- é¢†åŸŸåˆ†ç±»ï¼štech, marketing, legal
    quality_score DECIMAL(3,1),          -- è´¨é‡è¯„åˆ†
    usage_count INT DEFAULT 1,           -- ä½¿ç”¨æ¬¡æ•°
    last_used TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    created_by INT,                      -- åˆ›å»ºè€…
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    
    FOREIGN KEY (source_language) REFERENCES languages(code),
    FOREIGN KEY (target_language) REFERENCES languages(code),
    INDEX idx_source_target (source_language, target_language),
    INDEX idx_domain (domain),
    FULLTEXT idx_source_text (source_text),
    FULLTEXT idx_target_text (target_text)
);
```

### 5.4 æœºå™¨ç¿»è¯‘é›†æˆç®¡ç†


```sql
-- æœºå™¨ç¿»è¯‘æœåŠ¡é…ç½®
CREATE TABLE mt_service_configs (
    id INT PRIMARY KEY AUTO_INCREMENT,
    service_name VARCHAR(50),            -- google, baidu, tencent, openai
    api_endpoint VARCHAR(200),
    api_key_encrypted VARCHAR(500),      -- åŠ å¯†å­˜å‚¨çš„APIå¯†é’¥
    supported_languages JSON,            -- æ”¯æŒçš„è¯­è¨€å¯¹
    is_active BOOLEAN DEFAULT TRUE,
    daily_quota INT DEFAULT 10000,       -- æ¯æ—¥é…é¢
    used_today INT DEFAULT 0,            -- ä»Šæ—¥å·²ç”¨
    cost_per_char DECIMAL(8,6),         -- æ¯å­—ç¬¦æˆæœ¬
    quality_rating DECIMAL(3,1),         -- è´¨é‡è¯„çº§
    
    INDEX idx_active (is_active),
    INDEX idx_rating (quality_rating)
);

-- æœºå™¨ç¿»è¯‘ä½¿ç”¨è®°å½•
CREATE TABLE mt_usage_logs (
    id INT PRIMARY KEY AUTO_INCREMENT,
    service_id INT,
    task_id INT,
    source_text TEXT,
    translated_text TEXT,
    source_language VARCHAR(5),
    target_language VARCHAR(5),
    character_count INT,
    confidence_score DECIMAL(3,2),       -- ç½®ä¿¡åº¦
    processing_time INT,                 -- å¤„ç†æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰
    cost DECIMAL(8,4),                   -- å®é™…æˆæœ¬
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    
    FOREIGN KEY (service_id) REFERENCES mt_service_configs(id),
    FOREIGN KEY (task_id) REFERENCES translation_tasks(id),
    INDEX idx_service_date (service_id, created_at),
    INDEX idx_task (task_id)
);
```

### 5.5 ç¿»è¯‘å·¥ä½œæµæŸ¥è¯¢ç¤ºä¾‹


```sql
-- è·å–å¾…åˆ†é…çš„ç¿»è¯‘ä»»åŠ¡
SELECT 
    tt.*,
    ls.name as source_lang_name,
    lt.name as target_lang_name,
    CASE tt.content_type
        WHEN 'article' THEN (SELECT title FROM articles WHERE id = tt.content_id)
        ELSE 'Other Content'
    END as content_title
FROM translation_tasks tt
JOIN languages ls ON tt.source_language = ls.code
JOIN languages lt ON tt.target_language = lt.code
WHERE tt.status = 'pending'
ORDER BY tt.priority DESC, tt.deadline ASC;

-- ç¿»è¯‘å¸ˆå·¥ä½œè´Ÿè½½ç»Ÿè®¡
SELECT 
    assigned_to,
    COUNT(*) as active_tasks,
    AVG(progress) as avg_progress,
    SUM(estimated_hours) as total_estimated_hours
FROM translation_tasks 
WHERE status IN ('assigned', 'in_progress')
    AND assigned_to IS NOT NULL
GROUP BY assigned_to;

-- ç¿»è¯‘è®°å¿†åº“åŒ¹é…æŸ¥è¯¢
SELECT 
    tm.*,
    MATCH(source_text) AGAINST('ä½ å¥½ä¸–ç•Œ' IN NATURAL LANGUAGE MODE) as relevance
FROM translation_memory tm
WHERE source_language = 'zh-CN' 
    AND target_language = 'en-US'
    AND MATCH(source_text) AGAINST('ä½ å¥½ä¸–ç•Œ' IN NATURAL LANGUAGE MODE) > 0.1
ORDER BY relevance DESC, quality_score DESC
LIMIT 5;
```

---

## 6. ğŸ” å¤šè¯­è¨€SEOä¼˜åŒ–


### 6.1 å¤šè¯­è¨€SEOçš„æ ¸å¿ƒæ¦‚å¿µ


**ä»€ä¹ˆæ˜¯å¤šè¯­è¨€SEOï¼Ÿ**
ç®€å•è¯´ï¼Œå°±æ˜¯è®©æœç´¢å¼•æ“èƒ½å¤Ÿæ­£ç¡®ç†è§£ä½ çš„å¤šè¯­è¨€ç½‘ç«™ï¼Œå¹¶åœ¨ç”¨æˆ·æœç´¢æ—¶å±•ç¤ºæ­£ç¡®è¯­è¨€ç‰ˆæœ¬çš„å†…å®¹ã€‚

```
ç”¨æˆ·åœºæ™¯ï¼š
ä¸­å›½ç”¨æˆ·æœç´¢"è‹¹æœæ‰‹æœº" â†’ æ˜¾ç¤ºä¸­æ–‡é¡µé¢
ç¾å›½ç”¨æˆ·æœç´¢"iPhone" â†’ æ˜¾ç¤ºè‹±æ–‡é¡µé¢
æ—¥æœ¬ç”¨æˆ·æœç´¢"ã‚¢ã‚¤ãƒ•ã‚©ãƒ³" â†’ æ˜¾ç¤ºæ—¥æ–‡é¡µé¢

æŠ€æœ¯å®ç°ï¼š
éœ€è¦å‘Šè¯‰æœç´¢å¼•æ“ï¼šè¿™äº›æ˜¯åŒä¸€ä¸ªäº§å“çš„ä¸åŒè¯­è¨€ç‰ˆæœ¬
```

### 6.2 å¤šè¯­è¨€SEOæ•°æ®è¡¨è®¾è®¡


```sql
-- SEOå…ƒæ•°æ®å¤šè¯­è¨€è¡¨
CREATE TABLE seo_metadata_multilang (
    id INT PRIMARY KEY AUTO_INCREMENT,
    content_type VARCHAR(50),            -- article, product, category
    content_id INT,
    language_code VARCHAR(5),
    
    -- åŸºç¡€SEOå­—æ®µ
    meta_title VARCHAR(255),
    meta_description VARCHAR(500),
    meta_keywords VARCHAR(500),
    canonical_url VARCHAR(500),
    
    -- ç»“æ„åŒ–æ•°æ®
    schema_markup JSON,                  -- JSON-LDæ ¼å¼çš„ç»“æ„åŒ–æ•°æ®
    
    -- å¤šè¯­è¨€ç‰¹å®šå­—æ®µ
    hreflang VARCHAR(10),               -- è¯­è¨€æ ‡è®° zh-CN, en-US
    alternate_urls JSON,                 -- å…¶ä»–è¯­è¨€ç‰ˆæœ¬çš„URL
    
    -- SEOçŠ¶æ€
    is_indexed BOOLEAN DEFAULT TRUE,     -- æ˜¯å¦å…è®¸ç´¢å¼•
    is_followed BOOLEAN DEFAULT TRUE,    -- æ˜¯å¦å…è®¸è·Ÿè¸ªé“¾æ¥
    
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    
    UNIQUE KEY unique_content_lang (content_type, content_id, language_code),
    FOREIGN KEY (language_code) REFERENCES languages(code),
    INDEX idx_content (content_type, content_id)
);
```

### 6.3 hreflangæ ‡ç­¾ç®¡ç†


```sql
-- hreflangå…³ç³»è¡¨ï¼ˆå‘Šè¯‰æœç´¢å¼•æ“é¡µé¢ä¹‹é—´çš„è¯­è¨€å…³ç³»ï¼‰
CREATE TABLE hreflang_relationships (
    id INT PRIMARY KEY AUTO_INCREMENT,
    source_url VARCHAR(500),
    source_language VARCHAR(5),
    target_url VARCHAR(500),
    target_language VARCHAR(5),
    relationship_type ENUM('alternate', 'canonical') DEFAULT 'alternate',
    is_bidirectional BOOLEAN DEFAULT TRUE, -- æ˜¯å¦åŒå‘å…³è”
    
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    
    FOREIGN KEY (source_language) REFERENCES languages(code),
    FOREIGN KEY (target_language) REFERENCES languages(code),
    INDEX idx_source (source_url),
    INDEX idx_target (target_url)
);

-- è‡ªåŠ¨ç”Ÿæˆhreflangæ•°æ®
INSERT INTO hreflang_relationships 
(source_url, source_language, target_url, target_language)
SELECT 
    CONCAT('https://example.com/', l1.code, '/article/1') as source_url,
    l1.code as source_language,
    CONCAT('https://example.com/', l2.code, '/article/1') as target_url,
    l2.code as target_language
FROM languages l1
CROSS JOIN languages l2
WHERE l1.code != l2.code 
    AND l1.is_active = TRUE 
    AND l2.is_active = TRUE;
```

### 6.4 å¤šè¯­è¨€å…³é”®è¯ç®¡ç†


```sql
-- å¤šè¯­è¨€å…³é”®è¯è¡¨
CREATE TABLE multilang_keywords (
    id INT PRIMARY KEY AUTO_INCREMENT,
    keyword_group VARCHAR(100),          -- å…³é”®è¯ç»„å
    language_code VARCHAR(5),
    keyword VARCHAR(200),
    search_volume INT DEFAULT 0,         -- æœç´¢é‡
    competition ENUM('low', 'medium', 'high') DEFAULT 'medium',
    cpc DECIMAL(6,2),                   -- æ¯æ¬¡ç‚¹å‡»æˆæœ¬
    target_url VARCHAR(500),
    
    -- æ’åè·Ÿè¸ª
    current_ranking INT,                 -- å½“å‰æ’å
    best_ranking INT,                    -- å†å²æœ€å¥½æ’å
    last_updated TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    
    FOREIGN KEY (language_code) REFERENCES languages(code),
    INDEX idx_keyword (keyword),
    INDEX idx_group_lang (keyword_group, language_code),
    INDEX idx_ranking (current_ranking)
);

-- ç¤ºä¾‹å…³é”®è¯æ•°æ®
INSERT INTO multilang_keywords VALUES
(1, 'phone_products', 'zh-CN', 'è‹¹æœæ‰‹æœº', 50000, 'high', 2.50, '/zh/products/iphone', 15, 8, NOW()),
(2, 'phone_products', 'en-US', 'iPhone', 80000, 'high', 3.20, '/en/products/iphone', 12, 5, NOW()),
(3, 'phone_products', 'ja-JP', 'ã‚¢ã‚¤ãƒ•ã‚©ãƒ³', 20000, 'medium', 1.80, '/ja/products/iphone', 20, 15, NOW());
```

### 6.5 SEOæ€§èƒ½ç›‘æ§


```sql
-- SEOæ€§èƒ½ç»Ÿè®¡è¡¨
CREATE TABLE seo_performance_multilang (
    id INT PRIMARY KEY AUTO_INCREMENT,
    date DATE,
    language_code VARCHAR(5),
    
    -- æœç´¢å¼•æ“æµé‡
    organic_traffic INT DEFAULT 0,
    impressions BIGINT DEFAULT 0,
    clicks INT DEFAULT 0,
    ctr DECIMAL(5,2),                   -- ç‚¹å‡»ç‡
    avg_position DECIMAL(4,1),          -- å¹³å‡æ’åä½ç½®
    
    -- é¡µé¢æ€§èƒ½
    bounce_rate DECIMAL(5,2),
    avg_session_duration INT,           -- å¹³å‡ä¼šè¯æ—¶é•¿ï¼ˆç§’ï¼‰
    pages_per_session DECIMAL(4,2),
    
    -- è½¬åŒ–æŒ‡æ ‡
    conversions INT DEFAULT 0,
    conversion_rate DECIMAL(5,2),
    revenue DECIMAL(10,2),
    
    FOREIGN KEY (language_code) REFERENCES languages(code),
    UNIQUE KEY unique_date_lang (date, language_code),
    INDEX idx_date (date),
    INDEX idx_traffic (organic_traffic)
);
```

### 6.6 SEOæŸ¥è¯¢å®æˆ˜ç¤ºä¾‹


```sql
-- è·å–é¡µé¢çš„å®Œæ•´SEOä¿¡æ¯
SELECT 
    s.meta_title,
    s.meta_description,
    s.canonical_url,
    s.hreflang,
    l.name as language_name,
    JSON_EXTRACT(s.alternate_urls, '$') as other_versions
FROM seo_metadata_multilang s
JOIN languages l ON s.language_code = l.code
WHERE s.content_type = 'article' 
    AND s.content_id = 1
    AND s.language_code = 'zh-CN';

-- å¤šè¯­è¨€å…³é”®è¯æ’åå¯¹æ¯”
SELECT 
    keyword_group,
    language_code,
    AVG(current_ranking) as avg_ranking,
    COUNT(*) as keyword_count,
    SUM(search_volume) as total_volume
FROM multilang_keywords 
WHERE keyword_group = 'phone_products'
GROUP BY keyword_group, language_code
ORDER BY avg_ranking;

-- SEOæµé‡è¶‹åŠ¿åˆ†æ
SELECT 
    DATE_FORMAT(date, '%Y-%m') as month,
    language_code,
    SUM(organic_traffic) as total_traffic,
    AVG(ctr) as avg_ctr,
    AVG(avg_position) as avg_ranking
FROM seo_performance_multilang 
WHERE date >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
GROUP BY DATE_FORMAT(date, '%Y-%m'), language_code
ORDER BY month DESC, total_traffic DESC;
```

---

## 7. âš¡ æ€§èƒ½ä¼˜åŒ–ä¸ç¼“å­˜


### 7.1 å¤šè¯­è¨€ç½‘ç«™çš„æ€§èƒ½æŒ‘æˆ˜


**æ€§èƒ½é—®é¢˜åˆ†æï¼š**
```
ğŸš¨ å¸¸è§é—®é¢˜ï¼š
1. æ•°æ®åº“æŸ¥è¯¢å¤æ‚ï¼šéœ€è¦å…³è”å¤šä¸ªç¿»è¯‘è¡¨
2. å†…å®¹ä½“ç§¯å¢å¤§ï¼šåŒæ ·å†…å®¹å­˜å‚¨å¤šä»½
3. ç¼“å­˜ç­–ç•¥å¤æ‚ï¼šä¸åŒè¯­è¨€éœ€è¦ä¸åŒç¼“å­˜
4. CDNé…ç½®å›°éš¾ï¼šå…¨çƒåŒ–éƒ¨ç½²çš„æŒ‘æˆ˜

ğŸ’¡ è§£å†³æ€è·¯ï¼š
- ä¼˜åŒ–æ•°æ®åº“æŸ¥è¯¢ç»“æ„
- å®æ–½å¤šå±‚ç¼“å­˜ç­–ç•¥
- ä½¿ç”¨CDNåŠ é€Ÿå†…å®¹åˆ†å‘
- å®ç°æ™ºèƒ½é¢„åŠ è½½æœºåˆ¶
```

### 7.2 æ•°æ®åº“æŸ¥è¯¢ä¼˜åŒ–


```sql
-- åˆ›å»ºå¤šè¯­è¨€å†…å®¹è§†å›¾ï¼ˆç®€åŒ–æŸ¥è¯¢ï¼‰
CREATE VIEW articles_with_translations AS
SELECT 
    a.id,
    a.author_id,
    a.category_id,
    a.status,
    a.created_at,
    a.updated_at,
    at.language_code,
    at.title,
    at.content,
    at.meta_description,
    at.slug,
    at.is_completed as translation_completed
FROM articles a
LEFT JOIN article_translations at ON a.id = at.article_id
WHERE a.status = 'published';

-- ä¼˜åŒ–çš„å¤šè¯­è¨€æŸ¥è¯¢
-- åä¾‹å­ï¼šæ¯æ¬¡éƒ½å…³è”æŸ¥è¯¢
SELECT * FROM articles a 
LEFT JOIN article_translations at ON a.id = at.article_id 
WHERE at.language_code = 'zh-CN';

-- å¥½ä¾‹å­ï¼šä½¿ç”¨è§†å›¾ç®€åŒ–
SELECT * FROM articles_with_translations 
WHERE language_code = 'zh-CN' 
ORDER BY created_at DESC 
LIMIT 20;
```

### 7.3 ç¼“å­˜ç­–ç•¥è®¾è®¡


```sql
-- ç¼“å­˜é…ç½®è¡¨
CREATE TABLE cache_configs (
    id INT PRIMARY KEY AUTO_INCREMENT,
    cache_key_pattern VARCHAR(200),      -- articles:{lang}:{id}
    cache_type ENUM('redis', 'memcached', 'file') DEFAULT 'redis',
    ttl_seconds INT DEFAULT 3600,        -- ç¼“å­˜æ—¶é—´
    compression BOOLEAN DEFAULT FALSE,    -- æ˜¯å¦å‹ç¼©
    version INT DEFAULT 1,               -- ç¼“å­˜ç‰ˆæœ¬
    
    description VARCHAR(500),
    is_active BOOLEAN DEFAULT TRUE,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    
    UNIQUE KEY unique_pattern (cache_key_pattern)
);

-- ç¼“å­˜å¤±æ•ˆè®°å½•è¡¨
CREATE TABLE cache_invalidation_logs (
    id INT PRIMARY KEY AUTO_INCREMENT,
    cache_pattern VARCHAR(200),
    invalidation_reason VARCHAR(500),
    affected_keys_count INT DEFAULT 0,
    execution_time_ms INT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    
    INDEX idx_pattern (cache_pattern),
    INDEX idx_created (created_at)
);
```

### 7.4 å†…å®¹é¢„åŠ è½½ç­–ç•¥


```sql
-- å†…å®¹é¢„åŠ è½½è§„åˆ™è¡¨
CREATE TABLE content_preload_rules (
    id INT PRIMARY KEY AUTO_INCREMENT,
    content_type VARCHAR(50),
    trigger_condition VARCHAR(200),      -- user_location, time_zone, browser_lang
    preload_languages JSON,              -- ["zh-CN", "en-US"]
    priority ENUM('low', 'normal', 'high') DEFAULT 'normal',
    is_active BOOLEAN DEFAULT TRUE,
    
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    INDEX idx_content_type (content_type)
);

-- é¢„åŠ è½½æ‰§è¡Œæ—¥å¿—
CREATE TABLE preload_execution_logs (
    id INT PRIMARY KEY AUTO_INCREMENT,
    rule_id INT,
    user_identifier VARCHAR(100),       -- IPæˆ–ç”¨æˆ·ID
    requested_language VARCHAR(5),
    preloaded_languages JSON,
    execution_time_ms INT,
    cache_hit_rate DECIMAL(5,2),        -- å‘½ä¸­ç‡
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    
    FOREIGN KEY (rule_id) REFERENCES content_preload_rules(id),
    INDEX idx_rule_time (rule_id, created_at)
);
```

### 7.5 CDNå¤šè¯­è¨€é…ç½®


```sql
-- CDNé…ç½®è¡¨
CREATE TABLE cdn_language_configs (
    id INT PRIMARY KEY AUTO_INCREMENT,
    language_code VARCHAR(5),
    cdn_provider VARCHAR(50),            -- cloudflare, aws, aliyun
    
    -- åœ°ç†é…ç½®
    primary_regions JSON,                -- ["china", "asia-pacific"]
    fallback_regions JSON,
    
    -- ç¼“å­˜é…ç½®  
    static_cache_ttl INT DEFAULT 86400,  -- é™æ€èµ„æºç¼“å­˜æ—¶é—´
    dynamic_cache_ttl INT DEFAULT 3600,  -- åŠ¨æ€å†…å®¹ç¼“å­˜æ—¶é—´
    
    -- å‹ç¼©é…ç½®
    gzip_enabled BOOLEAN DEFAULT TRUE,
    brotli_enabled BOOLEAN DEFAULT TRUE,
    minify_html BOOLEAN DEFAULT TRUE,
    
    -- æ€§èƒ½é…ç½®
    http2_enabled BOOLEAN DEFAULT TRUE,
    keep_alive_timeout INT DEFAULT 300,
    
    is_active BOOLEAN DEFAULT TRUE,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    
    FOREIGN KEY (language_code) REFERENCES languages(code),
    UNIQUE KEY unique_lang_provider (language_code, cdn_provider)
);
```

### 7.6 æ€§èƒ½ç›‘æ§æŒ‡æ ‡


```sql
-- å¤šè¯­è¨€æ€§èƒ½ç›‘æ§è¡¨
CREATE TABLE multilang_performance_metrics (
    id INT PRIMARY KEY AUTO_INCREMENT,
    measurement_time TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    language_code VARCHAR(5),
    
    -- é¡µé¢åŠ è½½æ€§èƒ½
    page_load_time_ms INT,               -- é¡µé¢åŠ è½½æ—¶é—´
    first_contentful_paint_ms INT,       -- é¦–æ¬¡å†…å®¹ç»˜åˆ¶
    largest_contentful_paint_ms INT,     -- æœ€å¤§å†…å®¹ç»˜åˆ¶
    cumulative_layout_shift DECIMAL(4,3), -- ç´¯è®¡å¸ƒå±€åç§»
    
    -- æ•°æ®åº“æ€§èƒ½
    db_query_time_ms INT,                -- æ•°æ®åº“æŸ¥è¯¢æ—¶é—´
    db_connection_count INT,             -- æ•°æ®åº“è¿æ¥æ•°
    
    -- ç¼“å­˜æ€§èƒ½
    cache_hit_rate DECIMAL(5,2),         -- ç¼“å­˜å‘½ä¸­ç‡
    cache_response_time_ms INT,          -- ç¼“å­˜å“åº”æ—¶é—´
    
    -- ç½‘ç»œæ€§èƒ½
    cdn_response_time_ms INT,            -- CDNå“åº”æ—¶é—´
    bandwidth_usage_mb DECIMAL(8,2),     -- å¸¦å®½ä½¿ç”¨é‡
    
    FOREIGN KEY (language_code) REFERENCES languages(code),
    INDEX idx_lang_time (language_code, measurement_time),
    INDEX idx_performance (page_load_time_ms)
);
```

### 7.7 æ€§èƒ½ä¼˜åŒ–æŸ¥è¯¢ç¤ºä¾‹


```sql
-- æŸ¥æ‰¾æ…¢æŸ¥è¯¢çš„å¤šè¯­è¨€å†…å®¹
SELECT 
    language_code,
    AVG(db_query_time_ms) as avg_query_time,
    COUNT(*) as request_count,
    MAX(db_query_time_ms) as max_query_time
FROM multilang_performance_metrics 
WHERE measurement_time >= DATE_SUB(NOW(), INTERVAL 1 DAY)
    AND db_query_time_ms > 100  -- è¶…è¿‡100msçš„æŸ¥è¯¢
GROUP BY language_code
ORDER BY avg_query_time DESC;

-- ç¼“å­˜æ•ˆç‡åˆ†æ
SELECT 
    language_code,
    DATE(measurement_time) as date,
    AVG(cache_hit_rate) as avg_hit_rate,
    AVG(cache_response_time_ms) as avg_response_time
FROM multilang_performance_metrics
WHERE measurement_time >= DATE_SUB(CURDATE(), INTERVAL 7 DAY)
GROUP BY language_code, DATE(measurement_time)
ORDER BY date DESC, avg_hit_rate ASC;

-- å„è¯­è¨€é¡µé¢æ€§èƒ½å¯¹æ¯”
SELECT 
    l.name as language_name,
    l.code,
    AVG(m.page_load_time_ms) as avg_load_time,
    AVG(m.first_contentful_paint_ms) as avg_fcp,
    COUNT(m.id) as sample_count
FROM languages l
LEFT JOIN multilang_performance_metrics m ON l.code = m.language_code
    AND m.measurement_time >= DATE_SUB(NOW(), INTERVAL 1 DAY)
WHERE l.is_active = TRUE
GROUP BY l.code, l.name
ORDER BY avg_load_time DESC;
```

---

## 8. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 8.1 æ•°æ®åº“è®¾è®¡è¦ç‚¹å›é¡¾


| ğŸ¯ **è®¾è®¡åŸåˆ™** | **å…·ä½“å®è·µ** | **é¿å…è¯¯åŒº** |
|----------------|------------|------------|
| **ä¸»ä»åˆ†ç¦»** | `ä¸»è¡¨å­˜è¯­è¨€æ— å…³ä¿¡æ¯ï¼Œç¿»è¯‘è¡¨å­˜å¤šè¯­è¨€å†…å®¹` | `âŒ ä¸è¦åœ¨ä¸»è¡¨ç›´æ¥åŠ å¤šè¯­è¨€å­—æ®µ` |
| **æ ‡å‡†åŒ–è¯­è¨€ä»£ç ** | `ä½¿ç”¨ zh-CN, en-US æ ¼å¼` | `âŒ ä¸è¦ç”¨ chinese, english` |  
| **åˆç†ç´¢å¼•** | `language_code, content_id å¤åˆç´¢å¼•` | `âŒ ä¸è¦å¿½ç•¥æŸ¥è¯¢æ€§èƒ½` |
| **æ‰©å±•æ€§è®¾è®¡** | `æ”¯æŒæ— é™è¯­è¨€æ‰©å±•` | `âŒ ä¸è¦ç¡¬ç¼–ç å›ºå®šè¯­è¨€` |

### 8.2 æ ¸å¿ƒæ¦‚å¿µç†è§£


```
ğŸ”¸ å¤šè¯­è¨€æ•°æ®æ¨¡å‹ï¼šä¸€ä»½å†…å®¹ï¼Œå¤šç§è¯­è¨€è¡¨è¾¾
ğŸ”¸ è¯­è¨€åŒ…ç®¡ç†ï¼šç•Œé¢å…ƒç´ çš„ç¿»è¯‘è¯å…¸
ğŸ”¸ å†…å®¹æœ¬åœ°åŒ–ï¼šä¸ä»…ç¿»è¯‘ï¼Œè¿˜è¦é€‚é…æ–‡åŒ–
ğŸ”¸ ç¿»è¯‘å·¥ä½œæµï¼šä»ç¿»è¯‘åˆ°å‘å¸ƒçš„æ ‡å‡†åŒ–æµç¨‹
ğŸ”¸ å¤šè¯­è¨€SEOï¼šè®©æœç´¢å¼•æ“ç†è§£è¯­è¨€å…³ç³»
ğŸ”¸ æ€§èƒ½ä¼˜åŒ–ï¼šå¤šè¯­è¨€å¸¦æ¥çš„æ€§èƒ½æŒ‘æˆ˜ä¸è§£å†³æ–¹æ¡ˆ
```

### 8.3 å®è·µå»ºè®®æ€»ç»“


**ğŸ“ è®¾è®¡é˜¶æ®µè¦ç‚¹ï¼š**
- æå‰è§„åˆ’æ”¯æŒçš„è¯­è¨€èŒƒå›´
- é€‰æ‹©åˆé€‚çš„URLå¤šè¯­è¨€ç­–ç•¥  
- è®¾è®¡å®Œæ•´çš„ç¿»è¯‘å·¥ä½œæµç¨‹
- è€ƒè™‘SEOå’Œæ€§èƒ½ä¼˜åŒ–éœ€æ±‚

**ğŸ”§ å¼€å‘é˜¶æ®µè¦ç‚¹ï¼š**
- ä½¿ç”¨æ ‡å‡†çš„è¯­è¨€ä»£ç æ ¼å¼
- å®ç°æ™ºèƒ½çš„è¯­è¨€æ£€æµ‹æœºåˆ¶
- å»ºç«‹å®Œå–„çš„ç¼“å­˜ç­–ç•¥
- åšå¥½æ•°æ®åº“æŸ¥è¯¢ä¼˜åŒ–

**ğŸš€ è¿è¥é˜¶æ®µè¦ç‚¹ï¼š**  
- ç›‘æ§å„è¯­è¨€ç‰ˆæœ¬çš„æ€§èƒ½è¡¨ç°
- å»ºç«‹ç¿»è¯‘è´¨é‡ç®¡ç†ä½“ç³»
- æŒç»­ä¼˜åŒ–ç”¨æˆ·è¯­è¨€åˆ‡æ¢ä½“éªŒ
- å®šæœŸåˆ†æå¤šè¯­è¨€SEOæ•ˆæœ

### 8.4 å¸¸è§é™·é˜±ä¸è§£å†³æ–¹æ¡ˆ


| **ğŸš¨ å¸¸è§é—®é¢˜** | **ğŸ’¡ è§£å†³æ–¹æ¡ˆ** |
|----------------|----------------|
| `ç¿»è¯‘å†…å®¹ä¸åŒæ­¥` | `å»ºç«‹å†…å®¹æ›´æ–°é€šçŸ¥æœºåˆ¶` |
| `æŸ¥è¯¢æ€§èƒ½ä¸‹é™` | `ä¼˜åŒ–ç´¢å¼•ï¼Œä½¿ç”¨ç¼“å­˜å’Œè§†å›¾` |
| `SEOæ•ˆæœå·®` | `æ­£ç¡®é…ç½®hreflangï¼Œä¼˜åŒ–metaä¿¡æ¯` |
| `ç”¨æˆ·ä½“éªŒæ··ä¹±` | `æ™ºèƒ½è¯­è¨€æ£€æµ‹+è®°ä½ç”¨æˆ·é€‰æ‹©` |
| `ç»´æŠ¤æˆæœ¬é«˜` | `è‡ªåŠ¨åŒ–ç¿»è¯‘å·¥ä½œæµï¼Œå¤ç”¨ç¿»è¯‘è®°å¿†` |

### 8.5 æ ¸å¿ƒSQLæ¨¡å¼


```sql
-- ğŸ”¸ è·å–å¤šè¯­è¨€å†…å®¹çš„æ ‡å‡†æ¨¡å¼
SELECT a.*, t.title, t.content 
FROM main_table a
LEFT JOIN translation_table t ON a.id = t.main_id 
WHERE t.language_code = ? AND a.status = 'published';

-- ğŸ”¸ æ£€æŸ¥ç¿»è¯‘å®Œæ•´æ€§çš„æ¨¡å¼  
SELECT main_id, language_code, 
       COUNT(*) as translated_fields,
       COUNT(CASE WHEN field IS NOT NULL THEN 1 END) as completed_fields
FROM translation_table 
GROUP BY main_id, language_code;

-- ğŸ”¸ è¯­è¨€åˆ‡æ¢URLç”Ÿæˆæ¨¡å¼
SELECT original_path, language_code, localized_path
FROM multilang_routes 
WHERE original_path = ? AND is_active = TRUE;
```

**ğŸ’¡ è®°å¿†è¦ç‚¹ï¼š**
- å¤šè¯­è¨€æ•°æ®åº“è®¾è®¡çš„æ ¸å¿ƒæ˜¯"åˆ†ç¦»å…³æ³¨ç‚¹"
- æ€§èƒ½ä¼˜åŒ–çš„å…³é”®æ˜¯"åˆç†ç¼“å­˜+æŸ¥è¯¢ä¼˜åŒ–" 
- ç”¨æˆ·ä½“éªŒçš„è¦ç‚¹æ˜¯"æ™ºèƒ½æ£€æµ‹+è®°ä½é€‰æ‹©"
- SEOæˆåŠŸçš„åŸºç¡€æ˜¯"æ­£ç¡®çš„æŠ€æœ¯æ ‡è®°+ä¼˜è´¨å†…å®¹"