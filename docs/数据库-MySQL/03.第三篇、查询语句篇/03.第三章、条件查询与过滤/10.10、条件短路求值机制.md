---
title: 10ã€æ¡ä»¶çŸ­è·¯æ±‚å€¼æœºåˆ¶
---
## ğŸ“š ç›®å½•

1. [çŸ­è·¯æ±‚å€¼åŸºç¡€æ¦‚å¿µ](#1-çŸ­è·¯æ±‚å€¼åŸºç¡€æ¦‚å¿µ)
2. [ANDçŸ­è·¯æ±‚å€¼æœºåˆ¶](#2-ANDçŸ­è·¯æ±‚å€¼æœºåˆ¶)
3. [ORçŸ­è·¯æ±‚å€¼æœºåˆ¶](#3-ORçŸ­è·¯æ±‚å€¼æœºåˆ¶)
4. [æ¡ä»¶æ±‚å€¼é¡ºåº](#4-æ¡ä»¶æ±‚å€¼é¡ºåº)
5. [çŸ­è·¯ä¼˜åŒ–ç­–ç•¥](#5-çŸ­è·¯ä¼˜åŒ–ç­–ç•¥)
6. [æ™ºèƒ½æ¡ä»¶æ’åº](#6-æ™ºèƒ½æ¡ä»¶æ’åº)
7. [çŸ­è·¯æ±‚å€¼ä¼˜åŒ–å®è·µ](#7-çŸ­è·¯æ±‚å€¼ä¼˜åŒ–å®è·µ)
8. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#8-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. âš¡ çŸ­è·¯æ±‚å€¼åŸºç¡€æ¦‚å¿µ


### 1.1 ä»€ä¹ˆæ˜¯çŸ­è·¯æ±‚å€¼


**ğŸ”¸ åŸºæœ¬å®šä¹‰**
```
çŸ­è·¯æ±‚å€¼ = Short-Circuit Evaluation
æœ¬è´¨ï¼šåœ¨é€»è¾‘è¿ç®—ä¸­ï¼Œæ ¹æ®ç¬¬ä¸€ä¸ªæ¡ä»¶çš„ç»“æœå†³å®šæ˜¯å¦éœ€è¦è®¡ç®—åç»­æ¡ä»¶
ç›®çš„ï¼šæé«˜ç¨‹åºæ‰§è¡Œæ•ˆç‡ï¼Œé¿å…ä¸å¿…è¦çš„è®¡ç®—
```

**ğŸ’¡ ç”Ÿæ´»ä¸­çš„ç±»æ¯”**
æƒ³è±¡ä½ è¦å†³å®šæ˜¯å¦å‡ºé—¨ï¼š
```
æ¡ä»¶1ï¼šä»Šå¤©æ˜¯å¦æœ‰ç©ºé—²æ—¶é—´ï¼Ÿ
æ¡ä»¶2ï¼šå¤©æ°”æ˜¯å¦æ™´æœ—ï¼Ÿ
æ¡ä»¶3ï¼šé’±åŒ…é‡Œæ˜¯å¦æœ‰è¶³å¤Ÿçš„é’±ï¼Ÿ

ANDé€»è¾‘ï¼ˆéƒ½è¦æ»¡è¶³ï¼‰ï¼š
å¦‚æœç¬¬ä¸€ä¸ªæ¡ä»¶"æ²¡æœ‰ç©ºé—²æ—¶é—´"å°±æ˜¯false
é‚£ä¹ˆä¸ç®¡å¤©æ°”å¦‚ä½•ã€é’±å¤Ÿä¸å¤Ÿï¼Œéƒ½ä¸ä¼šå‡ºé—¨
â†’ æ²¡å¿…è¦å†æ£€æŸ¥åé¢çš„æ¡ä»¶

ORé€»è¾‘ï¼ˆæ»¡è¶³ä¸€ä¸ªå³å¯ï¼‰ï¼š
å¦‚æœç¬¬ä¸€ä¸ªæ¡ä»¶"æœ‰ç´§æ€¥äº‹æƒ…"å°±æ˜¯true  
é‚£ä¹ˆä¸ç®¡å…¶ä»–æ¡ä»¶å¦‚ä½•ï¼Œéƒ½å¿…é¡»å‡ºé—¨
â†’ æ²¡å¿…è¦å†æ£€æŸ¥åé¢çš„æ¡ä»¶
```

### 1.2 çŸ­è·¯æ±‚å€¼çš„å·¥ä½œåŸç†


**ğŸ”§ åŸºæœ¬å·¥ä½œæœºåˆ¶**
```
ANDè¿ç®—ï¼ˆ&&ï¼‰çŸ­è·¯ï¼š
- ä»å·¦åˆ°å³ä¾æ¬¡è®¡ç®—æ¡ä»¶
- é‡åˆ°ç¬¬ä¸€ä¸ªfalseå°±ç«‹å³è¿”å›false
- åç»­æ¡ä»¶ä¸å†è®¡ç®—

ORè¿ç®—ï¼ˆ||ï¼‰çŸ­è·¯ï¼š
- ä»å·¦åˆ°å³ä¾æ¬¡è®¡ç®—æ¡ä»¶
- é‡åˆ°ç¬¬ä¸€ä¸ªtrueå°±ç«‹å³è¿”å›true  
- åç»­æ¡ä»¶ä¸å†è®¡ç®—
```

**ğŸ“Š çŸ­è·¯æ±‚å€¼æµç¨‹å›¾**
```
ANDè¿ç®—æµç¨‹:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    false    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ¡ä»¶1   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚  è¿”å›false   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚ true
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    false    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ¡ä»¶2   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚  è¿”å›false   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚ true
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    false    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ¡ä»¶3   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚  è¿”å›false   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚ true
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è¿”å›true    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ORè¿ç®—æµç¨‹:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    true     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ¡ä»¶1   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚  è¿”å›true    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚ false
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    true     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ¡ä»¶2   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚  è¿”å›true    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚ false
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ¡ä»¶3   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.3 ä¸ºä»€ä¹ˆéœ€è¦çŸ­è·¯æ±‚å€¼


**âš¡ æ€§èƒ½ä¼˜åŠ¿**
```
è®¡ç®—æˆæœ¬èŠ‚çœï¼š
â€¢ é¿å…æ‰§è¡Œæ˜‚è´µçš„å‡½æ•°è°ƒç”¨
â€¢ å‡å°‘æ•°æ®åº“æŸ¥è¯¢æ¬¡æ•°
â€¢ é™ä½ç½‘ç»œè¯·æ±‚å¼€é”€
â€¢ å‡å°‘CPUè®¡ç®—æ—¶é—´

å†…å­˜ä½¿ç”¨ä¼˜åŒ–ï¼š
â€¢ é¿å…åˆ›å»ºä¸å¿…è¦çš„å¯¹è±¡
â€¢ å‡å°‘ä¸´æ—¶å˜é‡åˆ†é…
â€¢ é™ä½åƒåœ¾å›æ”¶å‹åŠ›

å“åº”æ—¶é—´æ”¹å–„ï¼š
â€¢ æ›´å¿«çš„æ¡ä»¶åˆ¤æ–­
â€¢ å‡å°‘ç­‰å¾…æ—¶é—´
â€¢ æå‡ç”¨æˆ·ä½“éªŒ
```

**ğŸ›¡ï¸ å®‰å…¨æ€§ä¿éšœ**
```
ç©ºæŒ‡é’ˆä¿æŠ¤ï¼š
if (object != null && object.method())
// å¦‚æœobjectæ˜¯nullï¼Œä¸ä¼šè°ƒç”¨method()ï¼Œé¿å…å¼‚å¸¸

æ•°ç»„è¶Šç•Œä¿æŠ¤ï¼š
if (index < array.length && array[index] == value)
// å…ˆæ£€æŸ¥ç´¢å¼•æœ‰æ•ˆæ€§ï¼Œé¿å…æ•°ç»„è¶Šç•Œå¼‚å¸¸

èµ„æºå¯ç”¨æ€§æ£€æŸ¥ï¼š
if (file.exists() && file.canRead())
// å…ˆç¡®è®¤æ–‡ä»¶å­˜åœ¨ï¼Œå†æ£€æŸ¥æ˜¯å¦å¯è¯»
```

---

## 2. ğŸ”€ ANDçŸ­è·¯æ±‚å€¼æœºåˆ¶


### 2.1 ANDçŸ­è·¯æ±‚å€¼è§„åˆ™


**ğŸ”¸ æ ¸å¿ƒè§„åˆ™**
```
ANDè¿ç®—ï¼ˆ&&ï¼‰çŸ­è·¯è§„åˆ™ï¼š
â€¢ åªè¦æœ‰ä¸€ä¸ªæ¡ä»¶ä¸ºfalseï¼Œæ•´ä¸ªè¡¨è¾¾å¼å°±æ˜¯false
â€¢ ä»å·¦åˆ°å³ä¾æ¬¡è®¡ç®—ï¼Œé‡åˆ°falseå°±åœæ­¢
â€¢ æ‰€æœ‰æ¡ä»¶éƒ½ä¸ºtrueæ—¶ï¼Œæ•´ä¸ªè¡¨è¾¾å¼æ‰ä¸ºtrue
```

**ğŸ’» åŸºç¡€ç¤ºä¾‹**
```java
// ç¤ºä¾‹1ï¼šç®€å•çš„ANDçŸ­è·¯
boolean result = (5 > 10) && (getUserName() != null);
//               â†‘ false      â†‘ è¿™ä¸ªå‡½æ•°ä¸ä¼šè¢«è°ƒç”¨
// ç»“æœï¼šfalseï¼ŒgetUserName()å‡½æ•°ä¸æ‰§è¡Œ

// ç¤ºä¾‹2ï¼šå¤æ‚æ¡ä»¶çš„ANDçŸ­è·¯
boolean canProcess = user != null && 
                    user.isActive() && 
                    user.hasPermission("READ") &&
                    database.isConnected();

æ‰§è¡Œè¿‡ç¨‹ï¼š
1. æ£€æŸ¥ user != null
   - å¦‚æœuseræ˜¯null â†’ è¿”å›falseï¼Œåç»­æ¡ä»¶éƒ½ä¸æ£€æŸ¥
   - å¦‚æœuserä¸æ˜¯null â†’ ç»§ç»­ä¸‹ä¸€ä¸ªæ¡ä»¶
2. æ£€æŸ¥ user.isActive()
   - å¦‚æœä¸æ´»è·ƒ â†’ è¿”å›falseï¼Œåœæ­¢æ£€æŸ¥
   - å¦‚æœæ´»è·ƒ â†’ ç»§ç»­ä¸‹ä¸€ä¸ªæ¡ä»¶
3. ä¾æ­¤ç±»æ¨...
```

### 2.2 ANDçŸ­è·¯çš„æ€§èƒ½ä¼˜åŒ–


**âš¡ æ€§èƒ½ä¼˜åŒ–ç­–ç•¥**
```
ç­–ç•¥ä¸€ï¼šå¼€é”€å°çš„æ¡ä»¶æ”¾å‰é¢
// âŒ ä½æ•ˆå†™æ³•
if (expensiveNetworkCall() && user.getId() > 0) {
    // ä¸ç®¡user.getId()å¦‚ä½•ï¼Œéƒ½è¦æ‰§è¡Œç½‘ç»œè°ƒç”¨
}

// âœ… é«˜æ•ˆå†™æ³•  
if (user.getId() > 0 && expensiveNetworkCall()) {
    // å¦‚æœIDæ— æ•ˆï¼Œå°±ä¸æ‰§è¡Œç½‘ç»œè°ƒç”¨
}
```

**ğŸ“Š æ¡ä»¶æˆæœ¬å¯¹æ¯”è¡¨**

| æ¡ä»¶ç±»å‹ | **æ‰§è¡Œæˆæœ¬** | **å»ºè®®ä¼˜å…ˆçº§** | **ç¤ºä¾‹** |
|---------|------------|-------------|---------|
| ğŸŸ¢ **ç®€å•æ¯”è¾ƒ** | `æä½` | `æœ€é«˜(ç¬¬1ä½)` | `x > 0, user != null` |
| ğŸŸ¡ **å±æ€§è®¿é—®** | `ä½` | `é«˜(ç¬¬2ä½)` | `user.isActive()` |
| ğŸŸ  **æ–¹æ³•è°ƒç”¨** | `ä¸­ç­‰` | `ä¸­ç­‰(ç¬¬3ä½)` | `validateInput()` |
| ğŸ”´ **æ•°æ®åº“æŸ¥è¯¢** | `é«˜` | `ä½(ç¬¬4ä½)` | `checkUserExists()` |
| âš« **ç½‘ç»œè¯·æ±‚** | `æé«˜` | `æœ€ä½(æœ€å)` | `callExternalAPI()` |

**ğŸ¯ å®é™…åº”ç”¨ç¤ºä¾‹**
```java
public boolean canUserAccessResource(User user, String resourceId) {
    // æŒ‰æˆæœ¬ä»ä½åˆ°é«˜æ’åˆ—æ¡ä»¶
    return user != null &&                          // æˆæœ¬ï¼šæä½
           user.isActive() &&                       // æˆæœ¬ï¼šä½  
           resourceId != null &&                    // æˆæœ¬ï¼šæä½
           resourceId.length() > 0 &&              // æˆæœ¬ï¼šä½
           user.hasRole("USER") &&                 // æˆæœ¬ï¼šä¸­ç­‰
           permissionService.hasAccess(user, resourceId) && // æˆæœ¬ï¼šé«˜
           auditService.logAccessAttempt(user, resourceId); // æˆæœ¬ï¼šé«˜
}
```

### 2.3 ANDçŸ­è·¯çš„å‰¯ä½œç”¨å¤„ç†


**âš ï¸ å‰¯ä½œç”¨é—®é¢˜**
```java
// âŒ æœ‰å‰¯ä½œç”¨çš„é”™è¯¯ç¤ºä¾‹
int counter = 0;
boolean result = (counter++ > 5) && (counter++ > 10);
//                â†‘ counterå˜ä¸º1      â†‘ å¯èƒ½ä¸æ‰§è¡Œï¼Œcounterå¯èƒ½è¿˜æ˜¯1

// æ­£ç¡®çš„å¤„ç†æ–¹å¼
int counter = 0;
boolean condition1 = (++counter > 5);  // counterå˜ä¸º1
boolean condition2 = (++counter > 10); // counterå˜ä¸º2  
boolean result = condition1 && condition2;
```

**ğŸ”§ é¿å…å‰¯ä½œç”¨çš„æœ€ä½³å®è·µ**
```java
// âœ… æ¨èåšæ³•ï¼šæ¡ä»¶åˆ¤æ–­ä¸å‰¯ä½œç”¨åˆ†ç¦»
public boolean processUserData(User user) {
    // å…ˆåšæ— å‰¯ä½œç”¨çš„æ£€æŸ¥
    if (user == null || !user.isValid()) {
        return false;
    }
    
    // å†æ‰§è¡Œæœ‰å‰¯ä½œç”¨çš„æ“ä½œ
    logUserAccess(user);
    updateUserLastSeen(user);
    return true;
}
```

---

## 3. ğŸ”„ ORçŸ­è·¯æ±‚å€¼æœºåˆ¶


### 3.1 ORçŸ­è·¯æ±‚å€¼è§„åˆ™


**ğŸ”¸ æ ¸å¿ƒè§„åˆ™**
```
ORè¿ç®—ï¼ˆ||ï¼‰çŸ­è·¯è§„åˆ™ï¼š
â€¢ åªè¦æœ‰ä¸€ä¸ªæ¡ä»¶ä¸ºtrueï¼Œæ•´ä¸ªè¡¨è¾¾å¼å°±æ˜¯true
â€¢ ä»å·¦åˆ°å³ä¾æ¬¡è®¡ç®—ï¼Œé‡åˆ°trueå°±åœæ­¢
â€¢ æ‰€æœ‰æ¡ä»¶éƒ½ä¸ºfalseæ—¶ï¼Œæ•´ä¸ªè¡¨è¾¾å¼æ‰ä¸ºfalse
```

**ğŸ’» åŸºç¡€ç¤ºä¾‹**
```java
// ç¤ºä¾‹1ï¼šç®€å•çš„ORçŸ­è·¯
boolean hasAccess = user.isAdmin() || user.hasPermission("READ");
//                  â†‘ å¦‚æœæ˜¯ç®¡ç†å‘˜      â†‘ è¿™ä¸ªæ£€æŸ¥å¯èƒ½ä¸æ‰§è¡Œ
// å¦‚æœç”¨æˆ·æ˜¯ç®¡ç†å‘˜ï¼Œå°±ä¸éœ€è¦æ£€æŸ¥å…·ä½“æƒé™

// ç¤ºä¾‹2ï¼šå¤šé‡å¤‡é€‰æ–¹æ¡ˆ
String getValue() {
    return cache.get("key") ||           // é¦–é€‰ï¼šä»ç¼“å­˜è·å–
           database.query("key") ||       // å¤‡é€‰ï¼šä»æ•°æ®åº“æŸ¥è¯¢  
           defaultValue;                  // å…œåº•ï¼šä½¿ç”¨é»˜è®¤å€¼
}
```

### 3.2 ORçŸ­è·¯çš„ä¼˜åŒ–ç­–ç•¥


**âš¡ æ€§èƒ½ä¼˜åŒ–åŸåˆ™**
```
ç­–ç•¥ï¼šæˆåŠŸæ¦‚ç‡é«˜çš„æ¡ä»¶æ”¾å‰é¢
// âŒ ä½æ•ˆå†™æ³•
if (rareCondition() || commonCondition()) {
    // rareCondition()æˆåŠŸæ¦‚ç‡å¾ˆä½ï¼Œä½†æ€»æ˜¯å…ˆæ‰§è¡Œ
}

// âœ… é«˜æ•ˆå†™æ³•
if (commonCondition() || rareCondition()) {  
    // commonCondition()æˆåŠŸæ¦‚ç‡é«˜ï¼Œç»å¸¸èƒ½çŸ­è·¯
}
```

**ğŸ“Š æ¡ä»¶æˆåŠŸç‡åˆ†æ**
```java
public boolean canUserLogin(User user, String password) {
    // æŒ‰æˆåŠŸç‡ä»é«˜åˆ°ä½æ’åˆ—
    return user.isRemembered() ||              // æˆåŠŸç‡ï¼š80%
           (user.isActive() && 
            validatePassword(user, password)) || // æˆåŠŸç‡ï¼š60%
           user.isSuperUser();                  // æˆåŠŸç‡ï¼š5%
}

ä¼˜åŒ–æ•ˆæœåˆ†æï¼š
â€¢ 80%çš„æƒ…å†µä¸‹ï¼Œåªéœ€è¦æ£€æŸ¥isRemembered()
â€¢ 20%çš„æƒ…å†µä¸‹ï¼Œéœ€è¦æ£€æŸ¥åˆ°password validation
â€¢ åªæœ‰å¾ˆå°‘æƒ…å†µéœ€è¦æ£€æŸ¥isSuperUser()
```

### 3.3 ORçŸ­è·¯çš„å®é™…åº”ç”¨


**ğŸ¯ é…ç½®è·å–åœºæ™¯**
```java
public String getConfigValue(String key) {
    // å¤šå±‚é…ç½®ä¼˜å…ˆçº§
    return systemProperties.get(key) ||        // ä¼˜å…ˆçº§1ï¼šç³»ç»Ÿå±æ€§
           environmentVariables.get(key) ||    // ä¼˜å…ˆçº§2ï¼šç¯å¢ƒå˜é‡
           configFile.get(key) ||             // ä¼˜å…ˆçº§3ï¼šé…ç½®æ–‡ä»¶
           defaultValues.get(key) ||          // ä¼˜å…ˆçº§4ï¼šé»˜è®¤å€¼
           "unknown";                         // å…œåº•å€¼
}
```

**ğŸ” æ•°æ®æŸ¥æ‰¾åœºæ™¯**
```java
public User findUser(String identifier) {
    // å¤šç§æŸ¥æ‰¾æ–¹å¼
    return userCache.findById(identifier) ||      // æœ€å¿«ï¼šç¼“å­˜æŸ¥æ‰¾
           userCache.findByEmail(identifier) ||   // æ¬¡å¿«ï¼šç¼“å­˜é‚®ç®±æŸ¥æ‰¾  
           database.findById(identifier) ||       // è¾ƒæ…¢ï¼šæ•°æ®åº“IDæŸ¥æ‰¾
           database.findByEmail(identifier) ||    // æœ€æ…¢ï¼šæ•°æ®åº“é‚®ç®±æŸ¥æ‰¾
           createGuestUser();                     // å…œåº•ï¼šåˆ›å»ºè®¿å®¢ç”¨æˆ·
}
```

---

## 4. ğŸ“‹ æ¡ä»¶æ±‚å€¼é¡ºåº


### 4.1 æ±‚å€¼é¡ºåºçš„é‡è¦æ€§


**ğŸ¯ ä¸ºä»€ä¹ˆé¡ºåºå¾ˆé‡è¦**
```
å½±å“å› ç´ ï¼š
1. æ‰§è¡Œæ•ˆç‡ï¼šå…ˆç®—å®¹æ˜“æ»¡è¶³çš„æ¡ä»¶
2. å®‰å…¨æ€§ï¼šå…ˆæ£€æŸ¥å®‰å…¨æ¡ä»¶é¿å…å¼‚å¸¸
3. é€»è¾‘æ­£ç¡®æ€§ï¼šç¡®ä¿ç¨‹åºè¡Œä¸ºç¬¦åˆé¢„æœŸ
4. å¯è¯»æ€§ï¼šè®©ä»£ç é€»è¾‘æ›´æ¸…æ™°
```

**ğŸ“Š é¡ºåºä¼˜åŒ–å‰åå¯¹æ¯”**
```java
// âŒ æœªä¼˜åŒ–çš„é¡ºåº
public boolean processOrder(Order order) {
    return validatePayment(order) &&        // è€—æ—¶ï¼š500ms
           checkInventory(order) &&         // è€—æ—¶ï¼š200ms  
           order != null &&                 // è€—æ—¶ï¼š<1ms
           order.getAmount() > 0;           // è€—æ—¶ï¼š<1ms
}

// âœ… ä¼˜åŒ–åçš„é¡ºåº
public boolean processOrder(Order order) {
    return order != null &&                 // è€—æ—¶ï¼š<1msï¼Œå…ˆæ£€æŸ¥
           order.getAmount() > 0 &&         // è€—æ—¶ï¼š<1msï¼Œå¿«é€ŸéªŒè¯
           checkInventory(order) &&         // è€—æ—¶ï¼š200msï¼Œä¸­ç­‰å¼€é”€
           validatePayment(order);          // è€—æ—¶ï¼š500msï¼Œæœ€åæ£€æŸ¥
}

æ€§èƒ½æå‡ï¼š
â€¢ å¦‚æœorderä¸ºnullï¼Œä»500msé™åˆ°1ms
â€¢ å¦‚æœé‡‘é¢æ— æ•ˆï¼Œä»700msé™åˆ°2ms
â€¢ å¦‚æœåº“å­˜ä¸è¶³ï¼Œä»700msé™åˆ°202ms
```

### 4.2 æ¡ä»¶æ’åºçš„é€šç”¨è§„åˆ™


**ğŸ”¢ æ’åºä¼˜å…ˆçº§è§„åˆ™**
```
ç¬¬1ä¼˜å…ˆçº§ï¼šç©ºå€¼å’ŒåŸºæœ¬éªŒè¯
â€¢ nullæ£€æŸ¥
â€¢ åŸºæœ¬æ•°æ®ç±»å‹æ¯”è¾ƒ
â€¢ ç®€å•çš„èŒƒå›´æ£€æŸ¥

ç¬¬2ä¼˜å…ˆçº§ï¼šå¯¹è±¡å±æ€§è®¿é—®
â€¢ å¯¹è±¡æ–¹æ³•è°ƒç”¨
â€¢ å±æ€§è¯»å–
â€¢ ç¼“å­˜æŸ¥æ‰¾

ç¬¬3ä¼˜å…ˆçº§ï¼šä¸šåŠ¡é€»è¾‘éªŒè¯
â€¢ å¤æ‚è®¡ç®—
â€¢ æ•°æ®è½¬æ¢
â€¢ å†…å­˜ä¸­çš„ä¸šåŠ¡è§„åˆ™

ç¬¬4ä¼˜å…ˆçº§ï¼šå¤–éƒ¨ç³»ç»Ÿè°ƒç”¨
â€¢ æ•°æ®åº“æŸ¥è¯¢
â€¢ æ–‡ä»¶ç³»ç»Ÿæ“ä½œ
â€¢ ç½‘ç»œè¯·æ±‚
```

**ğŸ“‹ å®ç”¨çš„æ’åºæ£€æŸ¥æ¸…å•**
```
âœ… å®‰å…¨æ€§æ£€æŸ¥ï¼š
   â–¡ ç©ºæŒ‡é’ˆæ£€æŸ¥æ˜¯å¦æ”¾åœ¨æœ€å‰é¢ï¼Ÿ
   â–¡ æ•°ç»„è¶Šç•Œæ£€æŸ¥æ˜¯å¦åœ¨è®¿é—®ä¹‹å‰ï¼Ÿ
   â–¡ æƒé™æ£€æŸ¥æ˜¯å¦åœ¨æ“ä½œä¹‹å‰ï¼Ÿ

âœ… æ€§èƒ½æ£€æŸ¥ï¼š
   â–¡ å¿«é€Ÿå¤±è´¥çš„æ¡ä»¶æ˜¯å¦é å‰ï¼Ÿ
   â–¡ æ˜‚è´µæ“ä½œæ˜¯å¦æ”¾åœ¨æœ€åï¼Ÿ
   â–¡ é«˜æˆåŠŸç‡æ¡ä»¶æ˜¯å¦ä¼˜å…ˆï¼ˆORæƒ…å†µä¸‹ï¼‰ï¼Ÿ

âœ… é€»è¾‘æ£€æŸ¥ï¼š
   â–¡ æ¡ä»¶ä¾èµ–å…³ç³»æ˜¯å¦æ­£ç¡®ï¼Ÿ
   â–¡ çŸ­è·¯åæ˜¯å¦å½±å“å¿…éœ€çš„å‰¯ä½œç”¨ï¼Ÿ
   â–¡ å¼‚å¸¸æƒ…å†µæ˜¯å¦èƒ½æ­£ç¡®å¤„ç†ï¼Ÿ
```

### 4.3 å¤æ‚æ¡ä»¶çš„æ’åºç­–ç•¥


**ğŸ§© å¤šå±‚åµŒå¥—æ¡ä»¶å¤„ç†**
```java
// å¤æ‚æ¡ä»¶çš„åˆ†å±‚å¤„ç†
public boolean canExecuteTransaction(User user, Transaction tx) {
    // ç¬¬1å±‚ï¼šåŸºç¡€éªŒè¯ï¼ˆå¿«é€Ÿå¤±è´¥ï¼‰
    if (user == null || tx == null || tx.getAmount() <= 0) {
        return false;
    }
    
    // ç¬¬2å±‚ï¼šç”¨æˆ·çŠ¶æ€æ£€æŸ¥ï¼ˆä¸­ç­‰æˆæœ¬ï¼‰
    if (!user.isActive() || user.isBlocked()) {
        return false;
    }
    
    // ç¬¬3å±‚ï¼šä¸šåŠ¡è§„åˆ™æ£€æŸ¥ï¼ˆè¾ƒé«˜æˆæœ¬ï¼‰
    if (!user.hasPermission("TRANSACTION") || 
        tx.getAmount() > user.getTransactionLimit()) {
        return false;
    }
    
    // ç¬¬4å±‚ï¼šå¤–éƒ¨ç³»ç»Ÿæ£€æŸ¥ï¼ˆæœ€é«˜æˆæœ¬ï¼‰
    return bankService.validateAccount(user.getAccountId()) &&
           fraudService.checkTransaction(tx);
}
```

**âš–ï¸ å¹³è¡¡è€ƒè™‘å› ç´ **
```java
// åœ¨æ€§èƒ½å’Œå¯è¯»æ€§ä¹‹é—´å¹³è¡¡
public boolean isValidUser(User user, String operation) {
    // æ–¹æ¡ˆAï¼šçº¯æ€§èƒ½ä¼˜åŒ–
    return user != null && user.getId() > 0 && user.isActive() && 
           !user.isBlocked() && user.hasPermission(operation) &&
           rateLimitService.allowRequest(user.getId());
    
    // æ–¹æ¡ˆBï¼šå¯è¯»æ€§ä¼˜åŒ–
    boolean basicValidation = (user != null && user.getId() > 0);
    boolean statusValidation = (user.isActive() && !user.isBlocked());  
    boolean permissionValidation = user.hasPermission(operation);
    boolean rateLimitValidation = rateLimitService.allowRequest(user.getId());
    
    return basicValidation && statusValidation && 
           permissionValidation && rateLimitValidation;
           
    // æ¨èæ–¹æ¡ˆCï¼šåˆ†ç»„ä¼˜åŒ–
    return isUserBasicallyValid(user) &&
           isUserStatusValid(user) &&
           isUserAuthorized(user, operation) &&
           isRequestAllowed(user.getId());
}
```

---

## 5. ğŸ¯ çŸ­è·¯ä¼˜åŒ–ç­–ç•¥


### 5.1 åŸºäºæ¦‚ç‡çš„ä¼˜åŒ–


**ğŸ“Š ç»Ÿè®¡é©±åŠ¨çš„æ¡ä»¶æ’åº**
```java
public class SmartConditionOptimizer {
    private Map<String, Integer> conditionStats = new HashMap<>();
    
    public boolean evaluateConditions(User user, String resource) {
        // æ ¹æ®å†å²ç»Ÿè®¡æ•°æ®è°ƒæ•´æ¡ä»¶é¡ºåº
        
        // ç»Ÿè®¡è¡¨æ˜è¿™äº›æ¡ä»¶çš„å¤±è´¥ç‡
        Map<String, Double> failureRates = Map.of(
            "nullCheck", 0.05,      // 5%çš„æƒ…å†µuserä¸ºnull
            "activeCheck", 0.15,    // 15%çš„ç”¨æˆ·ä¸æ´»è·ƒ
            "permissionCheck", 0.30,  // 30%æƒé™ä¸è¶³
            "rateLimit", 0.10       // 10%è¶…è¿‡é™æµ
        );
        
        // æŒ‰å¤±è´¥ç‡æ’åºï¼Œå¤±è´¥ç‡é«˜çš„æ”¾å‰é¢ï¼ˆANDåœºæ™¯ï¼‰
        return user != null &&              // å¤±è´¥ç‡5%ï¼Œå¿«é€Ÿæ£€æŸ¥
               user.isActive() &&           // å¤±è´¥ç‡15%ï¼Œè¾ƒå¿«æ£€æŸ¥
               !isRateLimited(user) &&      // å¤±è´¥ç‡10%ï¼Œä¸­ç­‰æ£€æŸ¥
               hasPermission(user, resource); // å¤±è´¥ç‡30%ï¼Œä½†æˆæœ¬é«˜
    }
}
```

**ğŸ”¬ A/Bæµ‹è¯•ä¼˜åŒ–æ¡ä»¶é¡ºåº**
```java
// å¯ä»¥é€šè¿‡å®éªŒç¡®å®šæœ€ä¼˜é¡ºåº
@Component
public class ConditionOrderExperiment {
    
    // ç­–ç•¥Aï¼šä¼ ç»Ÿé¡ºåº
    public boolean strategyA(User user, Order order) {
        return user != null &&
               order != null &&
               user.isActive() &&
               order.getAmount() > 0 &&
               validatePayment(order);
    }
    
    // ç­–ç•¥Bï¼šä¼˜åŒ–é¡ºåº
    public boolean strategyB(User user, Order order) {
        return user != null &&
               user.isActive() &&
               order != null &&
               order.getAmount() > 0 &&
               validatePayment(order);
    }
    
    // é€šè¿‡ç›‘æ§ä¸¤ç§ç­–ç•¥çš„æ€§èƒ½è¡¨ç°æ¥é€‰æ‹©æœ€ä¼˜æ–¹æ¡ˆ
}
```

### 5.2 åŠ¨æ€æ¡ä»¶ä¼˜åŒ–


**ğŸ”„ è‡ªé€‚åº”æ¡ä»¶æ’åº**
```java
public class AdaptiveConditionEvaluator {
    private final Map<String, ConditionMetrics> metrics;
    
    public boolean evaluate(List<Condition> conditions) {
        // æ ¹æ®è¿è¡Œæ—¶æ€§èƒ½åŠ¨æ€æ’åº
        conditions.sort((c1, c2) -> {
            ConditionMetrics m1 = metrics.get(c1.getName());
            ConditionMetrics m2 = metrics.get(c2.getName());
            
            // ç»¼åˆè€ƒè™‘æ‰§è¡Œæ—¶é—´å’ŒæˆåŠŸç‡
            double score1 = m1.getAverageTime() * (1 - m1.getSuccessRate());
            double score2 = m2.getAverageTime() * (1 - m2.getSuccessRate());
            
            return Double.compare(score1, score2);
        });
        
        // æ‰§è¡Œä¼˜åŒ–åçš„æ¡ä»¶åºåˆ—
        for (Condition condition : conditions) {
            long startTime = System.nanoTime();
            boolean result = condition.evaluate();
            long endTime = System.nanoTime();
            
            // æ›´æ–°æ€§èƒ½ç»Ÿè®¡
            updateMetrics(condition.getName(), endTime - startTime, result);
            
            if (!result) {
                return false; // çŸ­è·¯è¿”å›
            }
        }
        
        return true;
    }
}
```

### 5.3 ç¼“å­˜è¾…åŠ©ä¼˜åŒ–


**ğŸ’¾ æ¡ä»¶ç»“æœç¼“å­˜**
```java
public class CachedConditionEvaluator {
    private final Cache<String, Boolean> conditionCache;
    private final Cache<String, Object> dataCache;
    
    public boolean evaluateUserAccess(String userId, String resourceId) {
        String cacheKey = userId + ":" + resourceId;
        
        // 1. é¦–å…ˆæ£€æŸ¥ç»“æœç¼“å­˜
        Boolean cachedResult = conditionCache.get(cacheKey);
        if (cachedResult != null) {
            return cachedResult;
        }
        
        // 2. è·å–ç”¨æˆ·æ•°æ®ï¼ˆå¯èƒ½æ¥è‡ªç¼“å­˜ï¼‰
        User user = getUserFromCache(userId);
        
        // 3. æŒ‰ä¼˜åŒ–é¡ºåºæ‰§è¡Œæ¡ä»¶
        boolean result = user != null &&                    // åŸºç¡€æ£€æŸ¥
                        user.isActive() &&                  // çŠ¶æ€æ£€æŸ¥ï¼ˆå¯èƒ½ç¼“å­˜ï¼‰
                        hasPermissionCached(user, resourceId) && // æƒé™æ£€æŸ¥ï¼ˆç¼“å­˜ï¼‰
                        validateRateLimit(userId);           // é™æµæ£€æŸ¥ï¼ˆå®æ—¶ï¼‰
        
        // 4. ç¼“å­˜ç»“æœï¼ˆè®¾ç½®çŸ­æœŸç¼“å­˜é¿å…çŠ¶æ€ä¸ä¸€è‡´ï¼‰
        if (result) {
            conditionCache.put(cacheKey, result, Duration.ofMinutes(5));
        }
        
        return result;
    }
    
    private User getUserFromCache(String userId) {
        return (User) dataCache.computeIfAbsent("user:" + userId, 
            key -> userService.findById(userId));
    }
}
```

---

## 6. ğŸ§  æ™ºèƒ½æ¡ä»¶æ’åº


### 6.1 æœºå™¨å­¦ä¹ é©±åŠ¨çš„æ’åº


**ğŸ¤– åŸºäºå†å²æ•°æ®çš„æ™ºèƒ½æ’åº**
```java
public class MLConditionOptimizer {
    private final ConditionPerformanceModel model;
    
    public List<Condition> optimizeOrder(List<Condition> conditions, Context context) {
        // ç‰¹å¾æå–
        FeatureVector features = extractFeatures(conditions, context);
        
        // ä½¿ç”¨æœºå™¨å­¦ä¹ æ¨¡å‹é¢„æµ‹æœ€ä¼˜é¡ºåº
        OptimalOrder prediction = model.predict(features);
        
        // æ ¹æ®é¢„æµ‹ç»“æœé‡æ–°æ’åºæ¡ä»¶
        return reorderConditions(conditions, prediction);
    }
    
    private FeatureVector extractFeatures(List<Condition> conditions, Context context) {
        return FeatureVector.builder()
            .userType(context.getUserType())           // ç”¨æˆ·ç±»å‹
            .timeOfDay(context.getTimeOfDay())         // æ—¶é—´æ®µ
            .systemLoad(context.getSystemLoad())       // ç³»ç»Ÿè´Ÿè½½
            .conditionTypes(getConditionTypes(conditions)) // æ¡ä»¶ç±»å‹
            .historicalPerformance(getHistoricalPerformance(conditions))
            .build();
    }
}
```

**ğŸ“ˆ æ€§èƒ½å­¦ä¹ å’Œåé¦ˆ**
```java
@Service
public class PerformanceLearningService {
    
    public void recordExecutionResult(List<Condition> conditions, 
                                    long executionTime, 
                                    boolean result,
                                    int shortCircuitPosition) {
        // è®°å½•æ€§èƒ½æ•°æ®
        PerformanceRecord record = PerformanceRecord.builder()
            .conditions(conditions)
            .executionTime(executionTime)
            .result(result)
            .shortCircuitPosition(shortCircuitPosition)
            .timestamp(System.currentTimeMillis())
            .build();
            
        // ä¿å­˜åˆ°å­¦ä¹ æ•°æ®é›†
        performanceRepository.save(record);
        
        // è§¦å‘æ¨¡å‹é‡è®­ç»ƒï¼ˆå¼‚æ­¥ï¼‰
        if (shouldRetrainModel()) {
            modelTrainingService.scheduleRetraining();
        }
    }
    
    private boolean shouldRetrainModel() {
        long recordsSinceLastTrain = getRecordsSinceLastTraining();
        return recordsSinceLastTrain > 10000; // æ¯10000æ¡è®°å½•é‡è®­ç»ƒä¸€æ¬¡
    }
}
```

### 6.2 ä¸Šä¸‹æ–‡æ„ŸçŸ¥çš„æ¡ä»¶æ’åº


**ğŸŒ ç¯å¢ƒè‡ªé€‚åº”ä¼˜åŒ–**
```java
public class ContextAwareOptimizer {
    
    public boolean evaluateWithContext(User user, String resource, Context context) {
        // æ ¹æ®ä¸åŒä¸Šä¸‹æ–‡é‡‡ç”¨ä¸åŒç­–ç•¥
        
        if (context.isHighTrafficPeriod()) {
            // é«˜æµé‡æœŸé—´ï¼šä¼˜å…ˆè€ƒè™‘æ€§èƒ½
            return optimizeForPerformance(user, resource);
            
        } else if (context.isMaintenanceMode()) {
            // ç»´æŠ¤æ¨¡å¼ï¼šä¼˜å…ˆè€ƒè™‘ç¨³å®šæ€§
            return optimizeForStability(user, resource);
            
        } else if (context.isSecurityAlert()) {
            // å®‰å…¨è­¦æŠ¥ï¼šä¼˜å…ˆè€ƒè™‘å®‰å…¨æ£€æŸ¥
            return optimizeForSecurity(user, resource);
            
        } else {
            // æ­£å¸¸æƒ…å†µï¼šå¹³è¡¡ä¼˜åŒ–
            return optimizeBalanced(user, resource);
        }
    }
    
    private boolean optimizeForPerformance(User user, String resource) {
        // æ€§èƒ½ä¼˜å…ˆï¼šå¿«é€Ÿæ£€æŸ¥æ”¾å‰é¢ï¼Œè·³è¿‡æ˜‚è´µæ£€æŸ¥
        return user != null &&
               isUserCached(user.getId()) &&          // ç¼“å­˜å‘½ä¸­å¿«
               hasBasicPermission(user, resource) &&   // åŸºç¡€æƒé™å¿«
               skipExpensiveValidation(user, resource); // è·³è¿‡æ˜‚è´µéªŒè¯
    }
    
    private boolean optimizeForSecurity(User user, String resource) {
        // å®‰å…¨ä¼˜å…ˆï¼šæ‰€æœ‰å®‰å…¨æ£€æŸ¥éƒ½è¦æ‰§è¡Œï¼Œä¸ä¾èµ–ç¼“å­˜
        return user != null &&
               validateUserAuthentication(user) &&     // é‡æ–°éªŒè¯èº«ä»½
               checkSecurityBlacklist(user) &&        // æ£€æŸ¥é»‘åå•
               validateDetailedPermissions(user, resource) && // è¯¦ç»†æƒé™
               auditSecurityAccess(user, resource);    // è®°å½•å®‰å…¨å®¡è®¡
    }
}
```

### 6.3 é¢„æµ‹æ€§æ¡ä»¶ä¼˜åŒ–


**ğŸ”® é¢„æµ‹æ€§èƒ½çƒ­ç‚¹**
```java
public class PredictiveOptimizer {
    private final TimeSeriesPredictor predictor;
    
    public void optimizeForPredictedLoad() {
        // é¢„æµ‹æœªæ¥1å°æ—¶çš„ç³»ç»Ÿè´Ÿè½½
        LoadPrediction prediction = predictor.predictLoad(Duration.ofHours(1));
        
        if (prediction.isHighLoadExpected()) {
            // é¢„æœŸé«˜è´Ÿè½½ï¼šé¢„çƒ­ç¼“å­˜ï¼Œç®€åŒ–æ¡ä»¶æ£€æŸ¥
            preheatCriticalCaches();
            switchToPerformanceMode();
        } else if (prediction.isLowLoadExpected()) {
            // é¢„æœŸä½è´Ÿè½½ï¼šå¯ä»¥æ‰§è¡Œæ›´è¯¦ç»†çš„æ£€æŸ¥
            switchToAccuracyMode();
        }
    }
    
    private void preheatCriticalCaches() {
        // é¢„åŠ è½½çƒ­ç‚¹æ•°æ®
        cacheManager.preload("user_permissions");
        cacheManager.preload("rate_limits");
        cacheManager.preload("security_rules");
    }
    
    private void switchToPerformanceMode() {
        // åˆ‡æ¢åˆ°æ€§èƒ½æ¨¡å¼çš„æ¡ä»¶é¡ºåº
        ConditionOrderConfig.setMode(OptimizationMode.PERFORMANCE);
    }
}
```

---

## 7. ğŸ”§ çŸ­è·¯æ±‚å€¼ä¼˜åŒ–å®è·µ


### 7.1 æ•°æ®åº“æŸ¥è¯¢ä¼˜åŒ–å®è·µ


**ğŸ—„ï¸ æŸ¥è¯¢æ¡ä»¶ä¼˜åŒ–**
```java
public class DatabaseQueryOptimizer {
    
    // âŒ æœªä¼˜åŒ–çš„æŸ¥è¯¢æ¡ä»¶
    public List<User> findUsersUnoptimized(String email, String status, Integer age) {
        return userRepository.findAll().stream()
            .filter(user -> expensiveEmailValidation(user.getEmail(), email))  // æ˜‚è´µæ“ä½œåœ¨å‰
            .filter(user -> user.getStatus().equals(status))                   // ç®€å•æ¯”è¾ƒåœ¨å
            .filter(user -> user.getAge() > age)                              // ç®€å•æ¯”è¾ƒåœ¨å
            .collect(Collectors.toList());
    }
    
    // âœ… ä¼˜åŒ–åçš„æŸ¥è¯¢æ¡ä»¶
    public List<User> findUsersOptimized(String email, String status, Integer age) {
        return userRepository.findAll().stream()
            .filter(user -> user.getAge() > age)                              // å¿«é€Ÿæ•°å­—æ¯”è¾ƒ
            .filter(user -> status.equals(user.getStatus()))                  // å­—ç¬¦ä¸²æ¯”è¾ƒ
            .filter(user -> expensiveEmailValidation(user.getEmail(), email)) // æ˜‚è´µæ“ä½œæœ€å
            .collect(Collectors.toList());
    }
    
    // æ›´å¥½çš„æ–¹æ¡ˆï¼šåœ¨SQLå±‚é¢ä¼˜åŒ–
    public List<User> findUsersWithSQL(String email, String status, Integer age) {
        // è®©æ•°æ®åº“å…ˆè¿‡æ»¤ç®€å•æ¡ä»¶ï¼Œå‡å°‘è¿”å›çš„æ•°æ®é‡
        return userRepository.findByStatusAndAgeGreaterThan(status, age).stream()
            .filter(user -> expensiveEmailValidation(user.getEmail(), email))
            .collect(Collectors.toList());
    }
}
```

### 7.2 Webè¯·æ±‚å¤„ç†ä¼˜åŒ–


**ğŸŒ HTTPè¯·æ±‚éªŒè¯ä¼˜åŒ–**
```java
@RestController
public class OptimizedController {
    
    @PostMapping("/api/users/{userId}/orders")
    public ResponseEntity<?> createOrder(@PathVariable String userId,
                                       @RequestBody OrderRequest request) {
        
        // æŒ‰ç…§æˆæœ¬å’Œå¤±è´¥ç‡ä¼˜åŒ–éªŒè¯é¡ºåº
        ValidationResult validation = validateRequest(userId, request);
        if (!validation.isValid()) {
            return ResponseEntity.badRequest().body(validation.getError());
        }
        
        // ç»§ç»­å¤„ç†...
        return ResponseEntity.ok(orderService.createOrder(userId, request));
    }
    
    private ValidationResult validateRequest(String userId, OrderRequest request) {
        // ç¬¬1å±‚ï¼šå¿«é€Ÿæ ¼å¼æ£€æŸ¥ï¼ˆæˆæœ¬æä½ï¼Œå¤±è´¥ç‡ä¸­ç­‰ï¼‰
        if (!isValidUserId(userId)) {
            return ValidationResult.error("Invalid user ID format");
        }
        
        if (request == null || request.getAmount() <= 0) {
            return ValidationResult.error("Invalid order amount");
        }
        
        // ç¬¬2å±‚ï¼šä¸šåŠ¡è§„åˆ™æ£€æŸ¥ï¼ˆæˆæœ¬ä½ï¼Œå¤±è´¥ç‡ä¸­ç­‰ï¼‰
        if (request.getAmount() > MAX_ORDER_AMOUNT) {
            return ValidationResult.error("Order amount exceeds limit");
        }
        
        // ç¬¬3å±‚ï¼šæ•°æ®å­˜åœ¨æ€§æ£€æŸ¥ï¼ˆæˆæœ¬ä¸­ç­‰ï¼Œå¤±è´¥ç‡ä½ï¼‰
        User user = userService.findById(userId);
        if (user == null || !user.isActive()) {
            return ValidationResult.error("User not found or inactive");
        }
        
        // ç¬¬4å±‚ï¼šæƒé™å’Œé™æµæ£€æŸ¥ï¼ˆæˆæœ¬é«˜ï¼Œå¤±è´¥ç‡ä½ï¼‰
        if (!user.hasPermission("CREATE_ORDER")) {
            return ValidationResult.error("Insufficient permissions");
        }
        
        if (rateLimitService.isExceeded(userId)) {
            return ValidationResult.error("Rate limit exceeded");
        }
        
        return ValidationResult.success();
    }
}
```

### 7.3 ç¼“å­˜ç­–ç•¥ä¼˜åŒ–


**ğŸ’¾ å¤šçº§ç¼“å­˜ä¼˜åŒ–**
```java
public class MultiLevelCacheOptimizer {
    private final Cache<String, Boolean> l1Cache; // æœ¬åœ°ç¼“å­˜
    private final Cache<String, Boolean> l2Cache; // Redisç¼“å­˜
    private final Database database;
    
    public boolean hasPermission(String userId, String resource) {
        String cacheKey = "perm:" + userId + ":" + resource;
        
        // L1ç¼“å­˜å‘½ä¸­ç‡: 90%, å»¶è¿Ÿ: <1ms
        Boolean result = l1Cache.get(cacheKey);
        if (result != null) {
            return result;
        }
        
        // L2ç¼“å­˜å‘½ä¸­ç‡: 95%, å»¶è¿Ÿ: 5ms
        result = l2Cache.get(cacheKey);
        if (result != null) {
            l1Cache.put(cacheKey, result); // å›å¡«L1ç¼“å­˜
            return result;
        }
        
        // æ•°æ®åº“æŸ¥è¯¢: å‘½ä¸­ç‡: 100%, å»¶è¿Ÿ: 50ms
        result = database.checkPermission(userId, resource);
        
        // å›å¡«æ‰€æœ‰çº§åˆ«çš„ç¼“å­˜
        l2Cache.put(cacheKey, result, Duration.ofMinutes(30));
        l1Cache.put(cacheKey, result, Duration.ofMinutes(5));
        
        return result;
    }
    
    // æ™ºèƒ½é¢„çƒ­ç­–ç•¥
    public void preheatCache(String userId) {
        // æ ¹æ®ç”¨æˆ·è§’è‰²é¢„çƒ­å¯èƒ½éœ€è¦çš„æƒé™
        List<String> likelyResources = predictLikelyResources(userId);
        
        // å¼‚æ­¥é¢„çƒ­ï¼Œä¸é˜»å¡ä¸»æµç¨‹
        CompletableFuture.runAsync(() -> {
            for (String resource : likelyResources) {
                hasPermission(userId, resource);
            }
        });
    }
}
```

### 7.4 å¼‚æ­¥å¤„ç†ä¼˜åŒ–


**âš¡ å¼‚æ­¥æ¡ä»¶æ£€æŸ¥**
```java
public class AsyncConditionEvaluator {
    private final ExecutorService executor;
    
    public CompletableFuture<Boolean> evaluateAsync(User user, String resource) {
        // åŒæ­¥æ‰§è¡Œå¿«é€Ÿæ£€æŸ¥
        if (user == null || !user.isActive()) {
            return CompletableFuture.completedFuture(false);
        }
        
        // å¼‚æ­¥æ‰§è¡Œæ…¢é€Ÿæ£€æŸ¥
        CompletableFuture<Boolean> permissionCheck = 
            CompletableFuture.supplyAsync(() -> 
                permissionService.hasPermission(user, resource), executor);
                
        CompletableFuture<Boolean> rateLimitCheck = 
            CompletableFuture.supplyAsync(() -> 
                rateLimitService.checkLimit(user.getId()), executor);
                
        CompletableFuture<Boolean> auditCheck = 
            CompletableFuture.supplyAsync(() -> 
                auditService.validateAccess(user, resource), executor);
        
        // ä½¿ç”¨allOfç­‰å¾…æ‰€æœ‰æ£€æŸ¥å®Œæˆ
        return CompletableFuture.allOf(permissionCheck, rateLimitCheck, auditCheck)
            .thenApply(ignored -> 
                permissionCheck.join() && 
                rateLimitCheck.join() && 
                auditCheck.join());
    }
    
    // å¸¦è¶…æ—¶çš„å¼‚æ­¥æ£€æŸ¥
    public boolean evaluateWithTimeout(User user, String resource, Duration timeout) {
        try {
            return evaluateAsync(user, resource)
                .orTimeout(timeout.toMillis(), TimeUnit.MILLISECONDS)
                .get();
        } catch (TimeoutException e) {
            // è¶…æ—¶æ—¶çš„é™çº§ç­–ç•¥
            return evaluateFallback(user, resource);
        } catch (Exception e) {
            log.error("Async evaluation failed", e);
            return false;
        }
    }
}
```

---

## 8. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 8.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ çŸ­è·¯æ±‚å€¼æœ¬è´¨ï¼šæ ¹æ®é€»è¾‘è¿ç®—ç‰¹æ€§ï¼Œé¿å…ä¸å¿…è¦çš„æ¡ä»¶è®¡ç®—
ğŸ”¸ ANDçŸ­è·¯ï¼šé‡åˆ°falseå°±åœæ­¢ï¼Œé€‚åˆå®‰å…¨æ£€æŸ¥å’Œå¿«é€Ÿå¤±è´¥
ğŸ”¸ ORçŸ­è·¯ï¼šé‡åˆ°trueå°±åœæ­¢ï¼Œé€‚åˆå¤‡é€‰æ–¹æ¡ˆå’Œé…ç½®è·å–
ğŸ”¸ æ¡ä»¶æ’åºï¼šä½æˆæœ¬æ¡ä»¶åœ¨å‰ï¼Œé«˜æˆæœ¬æ¡ä»¶åœ¨å
ğŸ”¸ æ™ºèƒ½ä¼˜åŒ–ï¼šåŸºäºç»Ÿè®¡æ•°æ®å’Œä¸Šä¸‹æ–‡è‡ªé€‚åº”è°ƒæ•´æ¡ä»¶é¡ºåº
```

### 8.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ ä¸ºä»€ä¹ˆçŸ­è·¯æ±‚å€¼å¦‚æ­¤é‡è¦**
```
æ€§èƒ½å½±å“ï¼š
â€¢ åœ¨é«˜å¹¶å‘åœºæ™¯ä¸‹ï¼Œå¾®ç§’çº§çš„ä¼˜åŒ–ç´¯è®¡æ•ˆæœæ˜¾è‘—
â€¢ é¿å…ä¸å¿…è¦çš„æ•°æ®åº“æŸ¥è¯¢å¯ä»¥èŠ‚çœå¤§é‡èµ„æº
â€¢ å‡å°‘ç½‘ç»œè¯·æ±‚å¯ä»¥æ˜¾è‘—æå‡å“åº”é€Ÿåº¦

å®‰å…¨ä¿éšœï¼š
â€¢ å…ˆæ£€æŸ¥æƒé™å†æ‰§è¡Œæ“ä½œï¼Œé¿å…å®‰å…¨æ¼æ´
â€¢ å…ˆéªŒè¯è¾“å…¥å†å¤„ç†æ•°æ®ï¼Œé¿å…æ³¨å…¥æ”»å‡»
â€¢ å…ˆæ£€æŸ¥èµ„æºå­˜åœ¨å†è®¿é—®ï¼Œé¿å…å¼‚å¸¸é”™è¯¯

ç”¨æˆ·ä½“éªŒï¼š
â€¢ æ›´å¿«çš„å“åº”æ—¶é—´æå‡ç”¨æˆ·æ»¡æ„åº¦
â€¢ å‡å°‘ç³»ç»Ÿèµ„æºæ¶ˆè€—ï¼Œæé«˜ç³»ç»Ÿç¨³å®šæ€§
â€¢ é™ä½å»¶è¿Ÿï¼Œæ”¹å–„å®æ—¶æ€§è¦æ±‚é«˜çš„åŠŸèƒ½
```

**ğŸ”¹ å¦‚ä½•è®¾è®¡é«˜æ•ˆçš„æ¡ä»¶æ£€æŸ¥**
```
è®¾è®¡æ€è·¯ï¼š
1. åˆ†ææ¡ä»¶çš„æˆæœ¬å’Œå¤±è´¥ç‡
2. å°†é«˜å¤±è´¥ç‡ã€ä½æˆæœ¬çš„æ¡ä»¶æ”¾å‰é¢
3. è€ƒè™‘æ¡ä»¶ä¹‹é—´çš„ä¾èµ–å…³ç³»
4. å¹³è¡¡æ€§èƒ½å’Œä»£ç å¯è¯»æ€§
5. ä½¿ç”¨ç›‘æ§æ•°æ®æŒç»­ä¼˜åŒ–

å¸¸è§é™·é˜±ï¼š
â€¢ å¿½è§†æ¡ä»¶æ£€æŸ¥çš„å‰¯ä½œç”¨
â€¢ è¿‡åº¦ä¼˜åŒ–å¯¼è‡´ä»£ç éš¾ä»¥ç»´æŠ¤
â€¢ æ²¡æœ‰è€ƒè™‘ä¸åŒåœºæ™¯çš„æ¡ä»¶ç‰¹ç‚¹
â€¢ ç¼ºä¹æ€§èƒ½ç›‘æ§å’Œåé¦ˆæœºåˆ¶
```

**ğŸ”¹ æ™ºèƒ½æ¡ä»¶æ’åºçš„ä»·å€¼**
```
é€‚åº”æ€§å¼ºï¼š
â€¢ æ ¹æ®å®é™…è¿è¡Œæ•°æ®è°ƒæ•´ç­–ç•¥
â€¢ ä¸åŒä¸šåŠ¡åœºæ™¯é‡‡ç”¨ä¸åŒä¼˜åŒ–æ–¹æ¡ˆ
â€¢ ç³»ç»Ÿè´Ÿè½½å˜åŒ–æ—¶è‡ªåŠ¨é€‚é…

å¯æŒç»­æ”¹è¿›ï¼š
â€¢ æœºå™¨å­¦ä¹ æ¨¡å‹ä¸æ–­å­¦ä¹ å’Œä¼˜åŒ–
â€¢ A/Bæµ‹è¯•éªŒè¯ä¼˜åŒ–æ•ˆæœ
â€¢ å†å²æ•°æ®æŒ‡å¯¼æœªæ¥å†³ç­–

ä¸šåŠ¡ä»·å€¼ï¼š
â€¢ é™ä½ç³»ç»Ÿèµ„æºæ¶ˆè€—
â€¢ æé«˜ç³»ç»Ÿå¤„ç†èƒ½åŠ›
â€¢ æ”¹å–„ç”¨æˆ·ä½“éªŒ
â€¢ å‡å°‘è¿è¥æˆæœ¬
```

### 8.3 å®é™…åº”ç”¨æŒ‡å¯¼


**ğŸ¯ ä½•æ—¶åº”è¯¥å…³æ³¨çŸ­è·¯ä¼˜åŒ–**
```
é€‚ç”¨åœºæ™¯ï¼š
âœ… é«˜å¹¶å‘ç³»ç»Ÿçš„æƒé™æ£€æŸ¥
âœ… å¤æ‚çš„ä¸šåŠ¡è§„åˆ™éªŒè¯
âœ… å¤šæ•°æ®æºçš„æŸ¥è¯¢æ“ä½œ
âœ… å®æ—¶æ€§è¦æ±‚é«˜çš„APIæ¥å£
âœ… èµ„æºæœ‰é™çš„ç§»åŠ¨ç«¯åº”ç”¨

ä¸å¿…è¦çš„åœºæ™¯ï¼š
âŒ æ¡ä»¶æ£€æŸ¥æœ¬èº«å¾ˆå¿«çš„ç®€å•åº”ç”¨
âŒ æ¡ä»¶æ•°é‡å°‘ä¸”æˆæœ¬å·®å¼‚å°
âŒ ä¸€æ¬¡æ€§è„šæœ¬æˆ–æ‰¹å¤„ç†ç¨‹åº
âŒ å¯¹æ€§èƒ½è¦æ±‚ä¸é«˜çš„å†…éƒ¨å·¥å…·
```

**ğŸ”§ å®æ–½å»ºè®®**
```
ç¬¬1æ­¥ï¼šæ€§èƒ½åŸºçº¿æµ‹è¯•
â€¢ æµ‹é‡å½“å‰æ¡ä»¶æ£€æŸ¥çš„è€—æ—¶
â€¢ ç»Ÿè®¡å„æ¡ä»¶çš„æˆåŠŸç‡å’Œå¤±è´¥ç‡
â€¢ è¯†åˆ«æ€§èƒ½ç“¶é¢ˆå’Œä¼˜åŒ–ç©ºé—´

ç¬¬2æ­¥ï¼šæ¡ä»¶é‡æ’åº
â€¢ æŒ‰æˆæœ¬å’Œå¤±è´¥ç‡æ’åºæ¡ä»¶
â€¢ è€ƒè™‘å®‰å…¨æ€§å’Œä¾èµ–å…³ç³»
â€¢ è¿›è¡Œå°èŒƒå›´æµ‹è¯•éªŒè¯æ•ˆæœ

ç¬¬3æ­¥ï¼šæŒç»­ç›‘æ§ä¼˜åŒ–
â€¢ å»ºç«‹æ€§èƒ½ç›‘æ§æŒ‡æ ‡
â€¢ å®šæœŸåˆ†ææ¡ä»¶æ‰§è¡Œç»Ÿè®¡
â€¢ æ ¹æ®åé¦ˆè°ƒæ•´ä¼˜åŒ–ç­–ç•¥

ç¬¬4æ­¥ï¼šè‡ªåŠ¨åŒ–ä¼˜åŒ–
â€¢ å®ç°åŸºäºç»Ÿè®¡çš„è‡ªåŠ¨æ’åº
â€¢ å»ºç«‹A/Bæµ‹è¯•æ¡†æ¶
â€¢ é›†æˆæœºå™¨å­¦ä¹ ä¼˜åŒ–æ¨¡å‹
```

### 8.4 æ€§èƒ½ä¼˜åŒ–æ•ˆæœ


**ğŸ“Š å…¸å‹ä¼˜åŒ–æ•ˆæœ**
```
Web APIå“åº”æ—¶é—´ä¼˜åŒ–ï¼š
â€¢ ä¼˜åŒ–å‰ï¼šå¹³å‡200mså“åº”æ—¶é—´
â€¢ ä¼˜åŒ–åï¼šå¹³å‡80mså“åº”æ—¶é—´
â€¢ æå‡å¹…åº¦ï¼š60%æ€§èƒ½æå‡

æ•°æ®åº“æŸ¥è¯¢ä¼˜åŒ–ï¼š
â€¢ ä¼˜åŒ–å‰ï¼šæ¯ç§’1000æ¬¡æŸ¥è¯¢
â€¢ ä¼˜åŒ–åï¼šæ¯ç§’3000æ¬¡æŸ¥è¯¢  
â€¢ æå‡å¹…åº¦ï¼š200%ååé‡æå‡

ç¼“å­˜å‘½ä¸­ç‡ä¼˜åŒ–ï¼š
â€¢ ä¼˜åŒ–å‰ï¼š70%ç¼“å­˜å‘½ä¸­ç‡
â€¢ ä¼˜åŒ–åï¼š90%ç¼“å­˜å‘½ä¸­ç‡
â€¢ æ•ˆæœï¼šå‡å°‘30%æ•°æ®åº“å‹åŠ›
```

**æ ¸å¿ƒè®°å¿†å£è¯€**ï¼š
- çŸ­è·¯æ±‚å€¼çœè®¡ç®—ï¼Œæ¡ä»¶æ’åºè®²ç­–ç•¥
- å¿«é€Ÿæ¡ä»¶æ”¾å‰é¢ï¼Œæ˜‚è´µæ“ä½œæ’åå¤´
- ANDé‡å‡å°±åœæ­¢ï¼ŒORé‡çœŸå³è¿”å›
- æ™ºèƒ½æ’åºé æ•°æ®ï¼ŒæŒç»­ä¼˜åŒ–æ•ˆæœä½³