---
title: 1ã€mysqldumpè¯¦è§£
---
## ğŸ“š ç›®å½•

1. [mysqldumpåŸºç¡€æ¦‚å¿µ](#1-mysqldumpåŸºç¡€æ¦‚å¿µ)
2. [æ ¸å¿ƒå‚æ•°è¯¦è§£](#2-æ ¸å¿ƒå‚æ•°è¯¦è§£)
3. [ä¸€è‡´æ€§å¤‡ä»½æœºåˆ¶](#3-ä¸€è‡´æ€§å¤‡ä»½æœºåˆ¶)
4. [é‡è¦é€‰é¡¹è¯¦è§£](#4-é‡è¦é€‰é¡¹è¯¦è§£)
5. [æœ€ä½³å®è·µç­–ç•¥](#5-æœ€ä½³å®è·µç­–ç•¥)
6. [æ€§èƒ½è°ƒä¼˜æŠ€å·§](#6-æ€§èƒ½è°ƒä¼˜æŠ€å·§)
7. [æ•…éšœæ’æŸ¥æŒ‡å—](#7-æ•…éšœæ’æŸ¥æŒ‡å—)
8. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#8-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ”§ mysqldumpåŸºç¡€æ¦‚å¿µ


### 1.1 ä»€ä¹ˆæ˜¯mysqldump


**mysqldump** æ˜¯MySQLå®˜æ–¹æä¾›çš„é€»è¾‘å¤‡ä»½å·¥å…·ï¼Œå®ƒèƒ½å°†æ•°æ®åº“ä¸­çš„æ•°æ®å’Œç»“æ„å¯¼å‡ºä¸ºSQLè¯­å¥ã€‚

**æ ¸å¿ƒä½œç”¨**ï¼š
```
æ•°æ®å¯¼å‡ºï¼šå°†è¡¨æ•°æ®è½¬æ¢ä¸ºINSERTè¯­å¥
ç»“æ„å¯¼å‡ºï¼šå°†è¡¨ç»“æ„è½¬æ¢ä¸ºCREATEè¯­å¥
å®Œæ•´å¤‡ä»½ï¼šåŒ…å«æ•°æ®+ç»“æ„+å­˜å‚¨è¿‡ç¨‹+è§¦å‘å™¨ç­‰
è·¨å¹³å°ï¼šç”Ÿæˆçš„SQLæ–‡ä»¶å¯åœ¨ä¸åŒå¹³å°é—´è¿ç§»
```

**é€»è¾‘å¤‡ä»½ vs ç‰©ç†å¤‡ä»½**ï¼š
```
é€»è¾‘å¤‡ä»½(mysqldump)ï¼š
â”œâ”€â”€ å¯¼å‡ºSQLè¯­å¥
â”œâ”€â”€ å¯è¯»æ€§å¼ºï¼Œä¾¿äºç¼–è¾‘
â”œâ”€â”€ è·¨ç‰ˆæœ¬å…¼å®¹æ€§å¥½
â””â”€â”€ æ¢å¤é€Ÿåº¦ç›¸å¯¹è¾ƒæ…¢

ç‰©ç†å¤‡ä»½(xtrabackup)ï¼š
â”œâ”€â”€ ç›´æ¥å¤åˆ¶æ•°æ®æ–‡ä»¶
â”œâ”€â”€ å¤‡ä»½æ¢å¤é€Ÿåº¦å¿«
â”œâ”€â”€ æ–‡ä»¶ä½“ç§¯å¤§
â””â”€â”€ ç‰ˆæœ¬ä¾èµ–æ€§å¼º
```

### 1.2 å·¥ä½œåŸç†


mysqldumpé€šè¿‡è¿æ¥MySQLæœåŠ¡å™¨ï¼Œæ‰§è¡ŒSELECTè¯­å¥è¯»å–æ•°æ®ï¼Œç„¶åå°†ç»“æœè½¬æ¢ä¸ºç›¸åº”çš„SQLè¯­å¥ã€‚

**å¤‡ä»½æµç¨‹**ï¼š
```
è¿æ¥æ•°æ®åº“ â†’ è¯»å–è¡¨ç»“æ„ â†’ è¯»å–è¡¨æ•°æ® â†’ ç”ŸæˆSQLè¯­å¥ â†’ è¾“å‡ºåˆ°æ–‡ä»¶
    â†“             â†“           â†“           â†“            â†“
å»ºç«‹è¿æ¥      SHOW CREATE   SELECT *    INSERT INTO   é‡å®šå‘è¾“å‡º
```

---

## 2. âš™ï¸ æ ¸å¿ƒå‚æ•°è¯¦è§£


### 2.1 äº‹åŠ¡ä¸€è‡´æ€§å‚æ•°


#### --single-transaction


**ä½œç”¨**ï¼šåœ¨å•ä¸ªäº‹åŠ¡ä¸­æ‰§è¡Œå¤‡ä»½ï¼Œä¿è¯æ•°æ®ä¸€è‡´æ€§

```bash
# åŸºæœ¬ç”¨æ³•
mysqldump --single-transaction -u root -p mydb > backup.sql

# è¯¦ç»†è¯´æ˜
mysqldump \
  --single-transaction \     # å¼€å¯å•äº‹åŠ¡å¤‡ä»½
  --routines \              # åŒ…å«å­˜å‚¨è¿‡ç¨‹
  --triggers \              # åŒ…å«è§¦å‘å™¨
  -u root -p mydb > backup.sql
```

**å·¥ä½œæœºåˆ¶**ï¼š
- æ‰§è¡Œ `START TRANSACTION WITH CONSISTENT SNAPSHOT`
- åœ¨äº‹åŠ¡å¼€å§‹æ—¶åˆ›å»ºä¸€è‡´æ€§å¿«ç…§
- æ‰€æœ‰æ•°æ®éƒ½ä»è¿™ä¸ªå¿«ç…§ä¸­è¯»å–
- **ä»…é€‚ç”¨äºæ”¯æŒäº‹åŠ¡çš„å­˜å‚¨å¼•æ“**ï¼ˆå¦‚InnoDBï¼‰

> ğŸ’¡ **é‡è¦**ï¼šMyISAMè¡¨ä¸æ”¯æŒäº‹åŠ¡ï¼Œ--single-transactionå¯¹å…¶æ— æ•ˆ

#### --lock-all-tables


**ä½œç”¨**ï¼šé”å®šæ‰€æœ‰è¡¨è¿›è¡Œå¤‡ä»½ï¼Œé€‚ç”¨äºMyISAMè¡¨

```bash
# MyISAMè¡¨å¤‡ä»½
mysqldump --lock-all-tables -u root -p mydb > backup.sql

# æ³¨æ„ï¼šä¼šé˜»å¡æ‰€æœ‰å†™æ“ä½œ
```

**å¯¹æ¯”é€‰æ‹©**ï¼š
| å‚æ•° | é€‚ç”¨åœºæ™¯ | å½±å“ | ä¸€è‡´æ€§ |
|------|---------|------|--------|
| `--single-transaction` | InnoDBè¡¨ | **æ— é˜»å¡** | âœ… å¼ºä¸€è‡´æ€§ |
| `--lock-all-tables` | MyISAMè¡¨ | **é˜»å¡å†™å…¥** | âœ… å¼ºä¸€è‡´æ€§ |
| éƒ½ä¸ç”¨ | æµ‹è¯•ç¯å¢ƒ | æ— é˜»å¡ | âŒ å¯èƒ½ä¸ä¸€è‡´ |

### 2.2 ä¸»ä»å¤åˆ¶å‚æ•°


#### --master-data


**ä½œç”¨**ï¼šè®°å½•å¤‡ä»½æ—¶çš„ä¸»åº“ä½ç½®ä¿¡æ¯ï¼Œç”¨äºæ­å»ºä»åº“

```bash
# è®°å½•ä¸»åº“ä½ç½®
mysqldump --single-transaction --master-data=2 -u root -p mydb > backup.sql

# å‚æ•°è¯´æ˜
--master-data=1  # ç›´æ¥å†™å…¥CHANGE MASTERè¯­å¥
--master-data=2  # æ³¨é‡Šå½¢å¼è®°å½•ä½ç½®ä¿¡æ¯
```

**ç”Ÿæˆå†…å®¹ç¤ºä¾‹**ï¼š
```sql
-- master-data=2 çš„è¾“å‡º
-- CHANGE MASTER TO MASTER_LOG_FILE='mysql-bin.000001', MASTER_LOG_POS=154;

-- master-data=1 çš„è¾“å‡º  
CHANGE MASTER TO MASTER_LOG_FILE='mysql-bin.000001', MASTER_LOG_POS=154;
```

> ğŸ¯ **åº”ç”¨åœºæ™¯**ï¼šä¸»ä»å¤åˆ¶æ­å»ºã€æ•°æ®åº“è¿ç§»æ—¶ä¿æŒå¤åˆ¶å…³ç³»

### 2.3 å­—ç¬¦é›†å¤„ç†


#### --default-character-set


**ä½œç”¨**ï¼šæŒ‡å®šå®¢æˆ·ç«¯å­—ç¬¦é›†ï¼Œé¿å…ä¸­æ–‡ä¹±ç 

```bash
# æŒ‡å®šå­—ç¬¦é›†
mysqldump --default-character-set=utf8mb4 -u root -p mydb > backup.sql

# å¸¸è§å­—ç¬¦é›†é€‰æ‹©
--default-character-set=utf8mb4   # æ¨èï¼Œæ”¯æŒemoji
--default-character-set=utf8      # æ ‡å‡†UTF-8
--default-character-set=gbk       # ä¸­æ–‡ç¯å¢ƒ
```

**å­—ç¬¦é›†é—®é¢˜å¯¹æ¯”**ï¼š
```
ä¸æŒ‡å®šå­—ç¬¦é›†ï¼š
ä¸­æ–‡æ•°æ® â†’ ??? ä¹±ç 
è¡¨æƒ…ç¬¦å· â†’ ä¸¢å¤±

æŒ‡å®šutf8mb4ï¼š
ä¸­æ–‡æ•°æ® â†’ æ­£å¸¸æ˜¾ç¤º  âœ…
è¡¨æƒ…ç¬¦å· â†’ æ­£å¸¸æ˜¾ç¤º  âœ…
```

---

## 3. ğŸ”’ ä¸€è‡´æ€§å¤‡ä»½æœºåˆ¶


### 3.1 äº‹åŠ¡éš”ç¦»çº§åˆ«


mysqldumpä½¿ç”¨ **REPEATABLE READ** éš”ç¦»çº§åˆ«ç¡®ä¿ä¸€è‡´æ€§è¯»å–ã€‚

**ä¸€è‡´æ€§å¿«ç…§å·¥ä½œåŸç†**ï¼š
```
æ—¶é—´è½´ï¼š
T1: START TRANSACTION WITH CONSISTENT SNAPSHOT
T2: å…¶ä»–äº‹åŠ¡ä¿®æ”¹æ•°æ®
T3: mysqldumpè¯»å–æ•°æ® (ä»ç„¶çœ‹åˆ°T1æ—¶åˆ»çš„æ•°æ®)
T4: COMMIT

å…³é”®ï¼šT3æ—¶åˆ»è¯»å–çš„æ•°æ®ä¸å—T2æ—¶åˆ»ä¿®æ”¹å½±å“
```

### 3.2 é”æœºåˆ¶é€‰æ‹©


**ä¸åŒåœºæ™¯çš„é”ç­–ç•¥**ï¼š

```bash
# åœºæ™¯1ï¼šçº¯InnoDBç¯å¢ƒ (æ¨è)
mysqldump --single-transaction --routines --triggers -u root -p

# åœºæ™¯2ï¼šæ··åˆå­˜å‚¨å¼•æ“
mysqldump --lock-all-tables --routines --triggers -u root -p  

# åœºæ™¯3ï¼šåªè¯»ä»åº“å¤‡ä»½ (æœ€å®‰å…¨)
mysqldump --single-transaction --master-data=2 -u root -p
```

---

## 4. ğŸ“‹ é‡è¦é€‰é¡¹è¯¦è§£


### 4.1 å­˜å‚¨è¿‡ç¨‹å’Œè§¦å‘å™¨


#### --routines å­˜å‚¨è¿‡ç¨‹å¤‡ä»½


**ä½œç”¨**ï¼šå¤‡ä»½å­˜å‚¨è¿‡ç¨‹å’Œå‡½æ•°

```bash
# åŒ…å«å­˜å‚¨è¿‡ç¨‹
mysqldump --routines -u root -p mydb > backup.sql
```

**å¤‡ä»½å†…å®¹**ï¼š
```sql
-- å­˜å‚¨è¿‡ç¨‹ç¤ºä¾‹
DELIMITER ;;
CREATE PROCEDURE `GetUserCount`()
BEGIN
    SELECT COUNT(*) FROM users;
END ;;
DELIMITER ;
```

#### --triggers è§¦å‘å™¨å¤‡ä»½


**ä½œç”¨**ï¼šå¤‡ä»½è¡¨è§¦å‘å™¨

```bash
# åŒ…å«è§¦å‘å™¨
mysqldump --triggers -u root -p mydb > backup.sql
```

#### --events äº‹ä»¶å¤‡ä»½


**ä½œç”¨**ï¼šå¤‡ä»½å®šæ—¶äº‹ä»¶

```bash
# åŒ…å«äº‹ä»¶è°ƒåº¦å™¨
mysqldump --events -u root -p mydb > backup.sql
```

**å®Œæ•´å¤‡ä»½å‘½ä»¤**ï¼š
```bash
mysqldump \
  --single-transaction \
  --routines \
  --triggers \
  --events \
  --master-data=2 \
  --default-character-set=utf8mb4 \
  -u root -p mydb > complete_backup.sql
```

### 4.2 æƒé™å’ŒäºŒè¿›åˆ¶æ•°æ®


#### --flush-privileges æƒé™åˆ·æ–°


**ä½œç”¨**ï¼šå¤‡ä»½mysqlç³»ç»Ÿåº“æ—¶åˆ·æ–°æƒé™

```bash
# å¤‡ä»½ç”¨æˆ·æƒé™
mysqldump --flush-privileges mysql > mysql_backup.sql
```

#### --hex-blob äºŒè¿›åˆ¶æ•°æ®å¤„ç†


**ä½œç”¨**ï¼šå°†BLOBæ•°æ®è½¬æ¢ä¸ºåå…­è¿›åˆ¶æ ¼å¼

```bash
# å¤„ç†äºŒè¿›åˆ¶æ•°æ®
mysqldump --hex-blob -u root -p mydb > backup.sql
```

**äºŒè¿›åˆ¶æ•°æ®å¯¹æ¯”**ï¼š
```sql
-- ä¸ä½¿ç”¨ --hex-blob (å¯èƒ½ä¹±ç )
INSERT INTO files VALUES (1, 'ä¹±ç å†…å®¹');

-- ä½¿ç”¨ --hex-blob (å®‰å…¨æ ¼å¼)  
INSERT INTO files VALUES (1, 0x89504E470D0A1A0A...);
```

---

## 5. ğŸš€ æœ€ä½³å®è·µç­–ç•¥


### 5.1 å‚æ•°ç»„åˆæ¨è


#### ç”Ÿäº§ç¯å¢ƒå®Œæ•´å¤‡ä»½


```bash
# æ ‡å‡†ç”Ÿäº§ç¯å¢ƒå¤‡ä»½
mysqldump \
  --single-transaction \          # äº‹åŠ¡ä¸€è‡´æ€§
  --routines \                   # å­˜å‚¨è¿‡ç¨‹
  --triggers \                   # è§¦å‘å™¨  
  --events \                     # å®šæ—¶äº‹ä»¶
  --master-data=2 \              # ä¸»ä»ä½ç½®ä¿¡æ¯
  --default-character-set=utf8mb4 \  # å­—ç¬¦é›†
  --hex-blob \                   # äºŒè¿›åˆ¶å®‰å…¨
  --set-gtid-purged=OFF \        # GTIDå¤„ç†
  -u backup_user -p database_name > backup_$(date +%Y%m%d_%H%M%S).sql
```

#### å¿«é€Ÿæ•°æ®è¿ç§»


```bash
# ä»…æ•°æ®ï¼Œæ— ç»“æ„
mysqldump \
  --no-create-info \             # ä¸å¯¼å‡ºè¡¨ç»“æ„
  --single-transaction \
  --default-character-set=utf8mb4 \
  -u root -p source_db > data_only.sql
```

#### ä»…ç»“æ„å¤‡ä»½


```bash
# ä»…ç»“æ„ï¼Œæ— æ•°æ®
mysqldump \
  --no-data \                    # ä¸å¯¼å‡ºæ•°æ®
  --routines \
  --triggers \
  --events \
  -u root -p mydb > structure_only.sql
```

### 5.2 åˆ†åº“åˆ†è¡¨å¤‡ä»½ç­–ç•¥


#### æŒ‰è¡¨å¤‡ä»½


```bash
# å¤‡ä»½å•ä¸ªè¡¨
mysqldump -u root -p mydb user_table > user_backup.sql

# å¤‡ä»½å¤šä¸ªæŒ‡å®šè¡¨
mysqldump -u root -p mydb table1 table2 table3 > tables_backup.sql
```

#### æŒ‰åº“å¤‡ä»½


```bash
# å¤‡ä»½å¤šä¸ªæ•°æ®åº“
mysqldump -u root -p --databases db1 db2 db3 > multi_db_backup.sql

# å¤‡ä»½æ‰€æœ‰æ•°æ®åº“
mysqldump -u root -p --all-databases > all_db_backup.sql
```

---

## 6. âš¡ æ€§èƒ½è°ƒä¼˜æŠ€å·§


### 6.1 å†…å­˜ä¼˜åŒ–å‚æ•°


#### --quick é¿å…å†…å­˜æº¢å‡º


**ä½œç”¨**ï¼šé€è¡Œæ£€ç´¢æ•°æ®ï¼Œé¿å…å°†æ•´ä¸ªç»“æœé›†åŠ è½½åˆ°å†…å­˜

```bash
# å¤§è¡¨å¤‡ä»½å¿…å¤‡
mysqldump --quick --single-transaction -u root -p large_db > backup.sql
```

**å†…å­˜ä½¿ç”¨å¯¹æ¯”**ï¼š
```
ä¸ä½¿ç”¨ --quickï¼š
å†…å­˜ä½¿ç”¨ = æ•´ä¸ªè¡¨å¤§å° (å¯èƒ½å¯¼è‡´OOM)

ä½¿ç”¨ --quickï¼š  
å†…å­˜ä½¿ç”¨ = å•è¡Œæ•°æ®å¤§å° âœ…
```

#### --opt é»˜è®¤ä¼˜åŒ–


mysqldumpé»˜è®¤å¯ç”¨ `--opt`ï¼Œç­‰ä»·äºï¼š
```bash
--add-drop-table     # æ·»åŠ DROP TABLEè¯­å¥
--add-locks          # æ·»åŠ é”è¡¨è¯­å¥  
--create-options     # åŒ…å«è¡¨é€‰é¡¹
--disable-keys       # ç¦ç”¨ç´¢å¼• 
--extended-insert    # æ‰©å±•INSERTè¯­æ³•
--lock-tables        # é”è¡¨
--quick              # å¿«é€Ÿæ£€ç´¢
--set-charset        # è®¾ç½®å­—ç¬¦é›†
```

### 6.2 å‹ç¼©è¾“å‡º


#### --compress å‹ç¼©ä¼ è¾“


```bash
# å‹ç¼©ç½‘ç»œä¼ è¾“
mysqldump --compress --single-transaction -u root -p mydb > backup.sql

# ç»“åˆgzipå‹ç¼©æ–‡ä»¶
mysqldump --single-transaction -u root -p mydb | gzip > backup.sql.gz
```

### 6.3 å¤§è¡¨åˆ†ç‰‡ç­–ç•¥


#### WHEREæ¡ä»¶åˆ†ç‰‡


```bash
# æŒ‰IDèŒƒå›´åˆ†ç‰‡
mysqldump --where="id >= 1 AND id <= 100000" -u root -p mydb large_table > part1.sql
mysqldump --where="id >= 100001 AND id <= 200000" -u root -p mydb large_table > part2.sql

# æŒ‰æ—¶é—´åˆ†ç‰‡
mysqldump --where="created_date >= '2023-01-01' AND created_date < '2023-02-01'" \
  -u root -p mydb orders > orders_202301.sql
```

---

## 7. ğŸ” æ•…éšœæ’æŸ¥æŒ‡å—


### 7.1 å¸¸è§é”™è¯¯é—®é¢˜


#### æƒé™ä¸è¶³


```bash
# é”™è¯¯ä¿¡æ¯
mysqldump: Error: 'Access denied; you need (at least one of) the PROCESS privilege(s)'

# è§£å†³æ–¹æ¡ˆ
GRANT SELECT, LOCK TABLES, SHOW VIEW, EVENT, TRIGGER, PROCESS ON *.* TO 'backup_user'@'%';
```

#### å­—ç¬¦é›†ä¹±ç 


```bash
# é”™è¯¯ç°è±¡ï¼šä¸­æ–‡æ˜¾ç¤ºä¸ºé—®å·
# è§£å†³æ–¹æ¡ˆ
mysqldump --default-character-set=utf8mb4 -u root -p mydb > backup.sql
```

#### å†…å­˜ä¸è¶³


```bash
# é”™è¯¯ä¿¡æ¯ï¼šMySQL server has gone away
# è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨ --quick å‚æ•°
mysqldump --quick --single-transaction -u root -p large_db > backup.sql
```

### 7.2 ç‰ˆæœ¬å…¼å®¹æ€§


#### MySQLç‰ˆæœ¬å·®å¼‚


```bash
# MySQL 5.7 å¤‡ä»½åˆ° MySQL 8.0
mysqldump --set-gtid-purged=OFF --single-transaction -u root -p db57 > backup.sql

# MySQL 8.0 å¤‡ä»½åˆ° MySQL 5.7  
mysqldump --column-statistics=0 --single-transaction -u root -p db80 > backup.sql
```

| MySQLç‰ˆæœ¬ | æ–°å¢å‚æ•° | ç”¨é€” |
|-----------|---------|------|
| **8.0** | `--column-statistics=0` | ç¦ç”¨åˆ—ç»Ÿè®¡ä¿¡æ¯ |
| **5.7** | `--set-gtid-purged=OFF` | ç¦ç”¨GTIDä¿¡æ¯ |
| **5.6** | `--single-transaction` | äº‹åŠ¡ä¸€è‡´æ€§æ”¯æŒ |

---

## 8. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 8.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ mysqldumpæœ¬è´¨ï¼šé€»è¾‘å¤‡ä»½å·¥å…·ï¼Œå¯¼å‡ºSQLè¯­å¥
ğŸ”¸ ä¸€è‡´æ€§ä¿è¯ï¼š--single-transaction + äº‹åŠ¡å¿«ç…§
ğŸ”¸ å­˜å‚¨å¼•æ“å·®å¼‚ï¼šInnoDBç”¨äº‹åŠ¡ï¼ŒMyISAMç”¨é”è¡¨
ğŸ”¸ å­—ç¬¦é›†é‡è¦æ€§ï¼š--default-character-seté¿å…ä¹±ç 
ğŸ”¸ å®Œæ•´å¤‡ä»½è¦ç´ ï¼šæ•°æ®+ç»“æ„+å­˜å‚¨è¿‡ç¨‹+è§¦å‘å™¨+äº‹ä»¶
```

### 8.2 å…³é”®å‚æ•°è®°å¿†


**ğŸ”¹ å¿…å¤‡å‚æ•°ç»„åˆ**ï¼š
```bash
# ç”Ÿäº§ç¯å¢ƒæ ‡å‡†å¤‡ä»½
--single-transaction          # äº‹åŠ¡ä¸€è‡´æ€§
--routines --triggers --events  # å®Œæ•´å¯¹è±¡
--master-data=2              # ä¸»ä»ä¿¡æ¯
--default-character-set=utf8mb4  # å­—ç¬¦é›†
--hex-blob                   # äºŒè¿›åˆ¶å®‰å…¨
```

**ğŸ”¹ æ€§èƒ½ä¼˜åŒ–å‚æ•°**ï¼š
```bash
--quick                      # é€è¡Œæ£€ç´¢ï¼ŒèŠ‚çœå†…å­˜
--compress                   # å‹ç¼©ä¼ è¾“
--where="conditions"         # æ¡ä»¶è¿‡æ»¤
```

### 8.3 å®é™…åº”ç”¨åœºæ™¯


- **æ•°æ®è¿ç§»**ï¼šè·¨æœåŠ¡å™¨ã€è·¨ç‰ˆæœ¬æ•°æ®è¿ç§»
- **ä¸»ä»æ­å»º**ï¼š--master-dataè®°å½•ä½ç½®ä¿¡æ¯
- **å®šæœŸå¤‡ä»½**ï¼šç»“åˆcrontabå®ç°è‡ªåŠ¨å¤‡ä»½
- **å¼€å‘æµ‹è¯•**ï¼šç”Ÿäº§æ•°æ®å¯¼å…¥æµ‹è¯•ç¯å¢ƒ
- **æ•°æ®æ¢å¤**ï¼šè¯¯åˆ æ•°æ®çš„æ¢å¤æ“ä½œ

### 8.4 æœ€ä½³å®è·µæ€»ç»“


> ğŸ’¡ **è®°ä½**ï¼šé€‰æ‹©åˆé€‚çš„å‚æ•°ç»„åˆæ¯”è®°ä½æ‰€æœ‰å‚æ•°æ›´é‡è¦

**ğŸ¯ é€‰æ‹©ç­–ç•¥**ï¼š
- **InnoDBç¯å¢ƒ** â†’ `--single-transaction`
- **æ··åˆå¼•æ“** â†’ `--lock-all-tables`  
- **å¤§æ•°æ®é‡** â†’ `--quick` + åˆ†ç‰‡ç­–ç•¥
- **å®Œæ•´å¤‡ä»½** â†’ åŒ…å«routines/triggers/events
- **ä¸­æ–‡æ•°æ®** â†’ `--default-character-set=utf8mb4`

**æ ¸å¿ƒè®°å¿†**ï¼š
- mysqldumpæ˜¯é€»è¾‘å¤‡ä»½ï¼Œå¯¼å‡ºSQLè¯­å¥
- ä¸€è‡´æ€§é äº‹åŠ¡å¿«ç…§æˆ–é”è¡¨ä¿è¯
- å­—ç¬¦é›†å¤„ç†é¿å…ä¸­æ–‡ä¹±ç é—®é¢˜
- å‚æ•°ç»„åˆæ¯”å•ä¸ªå‚æ•°æ›´é‡è¦