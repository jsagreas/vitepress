---
title: 11ã€æ•°æ®å­—å…¸ç¼–åˆ¶åŸºç¡€
---
## ðŸ“š ç›®å½•

1. [æ•°æ®å­—å…¸åŸºç¡€æ¦‚å¿µ](#1-æ•°æ®å­—å…¸åŸºç¡€æ¦‚å¿µ)
2. [æ•°æ®å­—å…¸åŸºæœ¬ç»„æˆ](#2-æ•°æ®å­—å…¸åŸºæœ¬ç»„æˆ)
3. [å®žä½“å®šä¹‰æ ‡å‡†æ ¼å¼](#3-å®žä½“å®šä¹‰æ ‡å‡†æ ¼å¼)
4. [å±žæ€§æè¿°è§„èŒƒ](#4-å±žæ€§æè¿°è§„èŒƒ)
5. [çº¦æŸè§„åˆ™æ–‡æ¡£åŒ–](#5-çº¦æŸè§„åˆ™æ–‡æ¡£åŒ–)
6. [ä¸šåŠ¡è§„åˆ™è®°å½•æ–¹æ³•](#6-ä¸šåŠ¡è§„åˆ™è®°å½•æ–¹æ³•)
7. [ç¼–åˆ¶æ–¹æ³•ä¸Žæ ‡å‡†åŒ–](#7-ç¼–åˆ¶æ–¹æ³•ä¸Žæ ‡å‡†åŒ–)
8. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#8-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ðŸ“– æ•°æ®å­—å…¸åŸºç¡€æ¦‚å¿µ


### 1.1 ðŸ”‘ ä»€ä¹ˆæ˜¯æ•°æ®å­—å…¸


**é€šä¿—ç†è§£**ï¼šæ•°æ®å­—å…¸å°±åƒä¸€æœ¬"æ•°æ®åº“è¯´æ˜Žä¹¦"ï¼Œè¯¦ç»†è®°å½•äº†æ•°æ®åº“ä¸­æ¯ä¸ªè¡¨ã€æ¯ä¸ªå­—æ®µçš„å…·ä½“å«ä¹‰å’Œä½¿ç”¨è§„åˆ™ã€‚

```
å°±åƒæ–°åŽå­—å…¸è§£é‡Šæ±‰å­—å«ä¹‰ä¸€æ ·ï¼š
æ–°åŽå­—å…¸ â†’ è§£é‡Šæ–‡å­—å«ä¹‰
æ•°æ®å­—å…¸ â†’ è§£é‡Šæ•°æ®å«ä¹‰

å®žé™…ä½œç”¨ï¼š
- å¼€å‘äººå‘˜æŸ¥é˜…å­—æ®µå«ä¹‰
- ç»´æŠ¤äººå‘˜äº†è§£è¡¨ç»“æž„  
- æ–°äººå¿«é€Ÿç†Ÿæ‚‰ç³»ç»Ÿ
- è§„èŒƒæ•°æ®ä½¿ç”¨æ ‡å‡†
```

### 1.2 æ•°æ®å­—å…¸çš„é‡è¦ä»·å€¼


**æ ¸å¿ƒä»·å€¼**ï¼š
- **ðŸ“‹ è§„èŒƒåŒ–æ–‡æ¡£** - ç»Ÿä¸€æ•°æ®ç†è§£æ ‡å‡†
- **ðŸ” å¿«é€ŸæŸ¥è¯¢** - è¿…é€Ÿæ‰¾åˆ°æ‰€éœ€æ•°æ®ä¿¡æ¯
- **ðŸ›¡ï¸ è´¨é‡ä¿è¯** - ç¡®ä¿æ•°æ®ä½¿ç”¨çš„ä¸€è‡´æ€§
- **ðŸ‘¥ å›¢é˜Ÿåä½œ** - å‡å°‘æ²Ÿé€šæˆæœ¬å’Œè¯¯è§£

**å®žé™…åº”ç”¨åœºæ™¯**ï¼š
```
åœºæ™¯1ï¼šæ–°å‘˜å·¥å…¥èŒ
é—®é¢˜ï¼š"customer_statuså­—æ®µçš„1ã€2ã€3åˆ†åˆ«ä»£è¡¨ä»€ä¹ˆï¼Ÿ"
è§£å†³ï¼šæŸ¥é˜…æ•°æ®å­—å…¸ï¼Œå¿«é€Ÿäº†è§£å«ä¹‰

åœºæ™¯2ï¼šç³»ç»Ÿå¯¹æŽ¥
é—®é¢˜ï¼š"ä¸¤ä¸ªç³»ç»Ÿçš„ç”¨æˆ·è¡¨ç»“æž„æ˜¯å¦å…¼å®¹ï¼Ÿ"
è§£å†³ï¼šå¯¹æ¯”æ•°æ®å­—å…¸ï¼Œè¯†åˆ«å·®å¼‚

åœºæ™¯3ï¼šæ•°æ®åˆ†æž
é—®é¢˜ï¼š"è¿™ä¸ªå­—æ®µå¯ä»¥ä¸ºç©ºå—ï¼Ÿæœ‰ä»€ä¹ˆå–å€¼èŒƒå›´ï¼Ÿ"
è§£å†³ï¼šæ•°æ®å­—å…¸æä¾›å®Œæ•´çº¦æŸä¿¡æ¯
```

### 1.3 æ•°æ®å­—å…¸åœ¨æ•°æ®åº“è®¾è®¡ä¸­çš„ä½ç½®


```
æ•°æ®åº“è®¾è®¡æµç¨‹ï¼š

éœ€æ±‚åˆ†æž â†’ æ¦‚å¿µå»ºæ¨¡ â†’ é€»è¾‘å»ºæ¨¡ â†’ ç‰©ç†å»ºæ¨¡ â†’ å®žçŽ°éƒ¨ç½²
                                        â†“
                                   æ•°æ®å­—å…¸ç¼–åˆ¶
                                   ï¼ˆè´¯ç©¿å…¨è¿‡ç¨‹ï¼‰
```

---

## 2. ðŸ§© æ•°æ®å­—å…¸åŸºæœ¬ç»„æˆ


### 2.1 ðŸ”¥ æ•°æ®å­—å…¸åŸºæœ¬ç»„æˆç»“æž„


**æ ¸å¿ƒç»„æˆéƒ¨åˆ†**ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           æ•°æ®å­—å…¸               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  1ï¸âƒ£ å®žä½“/è¡¨å®šä¹‰                 â”‚
â”‚     - è¡¨åã€è¡¨ç”¨é€”ã€ä¸šåŠ¡å«ä¹‰      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  
â”‚  2ï¸âƒ£ å±žæ€§/å­—æ®µå®šä¹‰               â”‚
â”‚     - å­—æ®µåã€ç±»åž‹ã€é•¿åº¦ã€å«ä¹‰    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  3ï¸âƒ£ çº¦æŸè§„åˆ™                   â”‚
â”‚     - ä¸»é”®ã€å¤–é”®ã€æ£€æŸ¥çº¦æŸ       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  4ï¸âƒ£ ä¸šåŠ¡è§„åˆ™                   â”‚
â”‚     - ä¸šåŠ¡é€»è¾‘ã€è®¡ç®—è§„åˆ™         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  5ï¸âƒ£ ç´¢å¼•ä¿¡æ¯                   â”‚
â”‚     - ç´¢å¼•ç±»åž‹ã€å­—æ®µç»„åˆ         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 ç»„æˆè¦ç´ è¯¦ç»†è¯´æ˜Ž


**å®žä½“å±‚é¢ä¿¡æ¯**ï¼š
- **è¡¨åç§°** - ç‰©ç†è¡¨åå’Œä¸­æ–‡åç§°
- **è¡¨ç”¨é€”** - ä¸šåŠ¡åŠŸèƒ½å’Œä½œç”¨è¯´æ˜Ž
- **æ•°æ®æ¥æº** - æ•°æ®çš„äº§ç”Ÿæ–¹å¼å’Œæ¥æº
- **æ›´æ–°é¢‘çŽ‡** - æ•°æ®æ›´æ–°çš„æ—¶é—´è§„å¾‹

**å±žæ€§å±‚é¢ä¿¡æ¯**ï¼š
- **å­—æ®µå®šä¹‰** - åç§°ã€ç±»åž‹ã€é•¿åº¦ã€ç²¾åº¦
- **ä¸šåŠ¡å«ä¹‰** - å­—æ®µåœ¨ä¸šåŠ¡ä¸­çš„å®žé™…æ„ä¹‰
- **å–å€¼è¯´æ˜Ž** - å¯èƒ½çš„å–å€¼å’Œå«ä¹‰è§£é‡Š
- **è´¨é‡è¦æ±‚** - æ•°æ®è´¨é‡æ ‡å‡†å’Œæ ¡éªŒè§„åˆ™

---

## 3. ðŸ“ å®žä½“å®šä¹‰æ ‡å‡†æ ¼å¼


### 3.1 ðŸ”¥ å®žä½“å®šä¹‰æ ‡å‡†æ ¼å¼


**æ ‡å‡†æ¨¡æ¿ç»“æž„**ï¼š

| é¡¹ç›® | å†…å®¹ç¤ºä¾‹ | è¯´æ˜Ž |
|------|---------|------|
| **å®žä½“åç§°** | `ç”¨æˆ·ä¿¡æ¯è¡¨(users)` | ä¸­æ–‡åç§°+è‹±æ–‡è¡¨å |
| **ä¸šåŠ¡ç”¨é€”** | `å­˜å‚¨ç³»ç»Ÿç”¨æˆ·çš„åŸºæœ¬ä¿¡æ¯å’Œè´¦æˆ·çŠ¶æ€` | ä¸šåŠ¡åŠŸèƒ½è¯´æ˜Ž |
| **æ•°æ®æ¥æº** | `ç”¨æˆ·æ³¨å†Œã€ç®¡ç†å‘˜ç»´æŠ¤ã€ç¬¬ä¸‰æ–¹åŒæ­¥` | æ•°æ®äº§ç”Ÿæ–¹å¼ |
| **æ›´æ–°é¢‘çŽ‡** | `å®žæ—¶æ›´æ–°ï¼Œå¹³å‡æ¯å¤©æ–°å¢ž100æ¡è®°å½•` | æ•°æ®å˜åŒ–è§„å¾‹ |
| **è´Ÿè´£äºº** | `å¼ ä¸‰(å¼€å‘)ã€æŽå››(ä¸šåŠ¡)` | è´£ä»»äººä¿¡æ¯ |
| **åˆ›å»ºæ—¶é—´** | `2024-01-15` | è¡¨åˆ›å»ºæ—¥æœŸ |
| **æœ€åŽä¿®æ”¹** | `2024-08-20 å¢žåŠ æ‰‹æœºå·å­—æ®µ` | å˜æ›´åŽ†å² |

### 3.2 å®žä½“åˆ†ç±»æ ‡å‡†


**æŒ‰ä¸šåŠ¡åŠŸèƒ½åˆ†ç±»**ï¼š
```
ðŸ“Š ä¸»æ•°æ®è¡¨ï¼š
- ç”¨æˆ·è¡¨ã€å•†å“è¡¨ã€å®¢æˆ·è¡¨
- ç‰¹ç‚¹ï¼šä¸šåŠ¡æ ¸å¿ƒå®žä½“ï¼Œå˜åŒ–é¢‘çŽ‡ä½Ž

ðŸ“ˆ äº¤æ˜“æ•°æ®è¡¨ï¼š
- è®¢å•è¡¨ã€æ”¯ä»˜è®°å½•è¡¨ã€æ—¥å¿—è¡¨  
- ç‰¹ç‚¹ï¼šä¸šåŠ¡äº¤æ˜“äº§ç”Ÿï¼Œå˜åŒ–é¢‘çŽ‡é«˜

ðŸ“‹ é…ç½®æ•°æ®è¡¨ï¼š
- å­—å…¸è¡¨ã€å‚æ•°é…ç½®è¡¨ã€æƒé™è¡¨
- ç‰¹ç‚¹ï¼šç³»ç»Ÿé…ç½®ä¿¡æ¯ï¼Œç®¡ç†å‘˜ç»´æŠ¤

ðŸ“ ä¸´æ—¶æ•°æ®è¡¨ï¼š
- ä¸­é—´è¡¨ã€ç¼“å­˜è¡¨ã€ä¸´æ—¶è®¡ç®—è¡¨
- ç‰¹ç‚¹ï¼šä¸´æ—¶å­˜å‚¨ï¼Œå®šæœŸæ¸…ç†
```

### 3.3 å®žä½“å…³ç³»æè¿°


**å…³ç³»ç±»åž‹æ ‡å‡†æè¿°**ï¼š
```
ä¸€å¯¹ä¸€å…³ç³» (1:1)ï¼š
ç”¨æˆ·è¡¨ â†â†’ ç”¨æˆ·æ‰©å±•ä¿¡æ¯è¡¨
æè¿°ï¼šæ¯ä¸ªç”¨æˆ·å¯¹åº”å”¯ä¸€çš„æ‰©å±•ä¿¡æ¯

ä¸€å¯¹å¤šå…³ç³» (1:N)ï¼š  
ç”¨æˆ·è¡¨ â†’ è®¢å•è¡¨
æè¿°ï¼šä¸€ä¸ªç”¨æˆ·å¯ä»¥æœ‰å¤šä¸ªè®¢å•

å¤šå¯¹å¤šå…³ç³» (M:N)ï¼š
ç”¨æˆ·è¡¨ â†â†’ è§’è‰²è¡¨ï¼ˆé€šè¿‡ç”¨æˆ·è§’è‰²å…³è”è¡¨ï¼‰
æè¿°ï¼šç”¨æˆ·å’Œè§’è‰²ä¹‹é—´çš„å¤šå¯¹å¤šåˆ†é…å…³ç³»
```

---

## 4. ðŸ“Š å±žæ€§æè¿°è§„èŒƒ


### 4.1 ðŸ”¥ å±žæ€§æè¿°è§„èŒƒç»“æž„


**æ ‡å‡†å±žæ€§å®šä¹‰æ¨¡æ¿**ï¼š

| å­—æ®µè‹±æ–‡å | å­—æ®µä¸­æ–‡å | æ•°æ®ç±»åž‹ | é•¿åº¦ | å°æ•°ä½ | æ˜¯å¦ä¸ºç©º | é»˜è®¤å€¼ | ä¸šåŠ¡å«ä¹‰ | å–å€¼è¯´æ˜Ž | å¤‡æ³¨ |
|-----------|-----------|---------|------|--------|---------|--------|---------|---------|------|
| `user_id` | ç”¨æˆ·ID | INT | 11 | 0 | NOT NULL | AUTO | ç”¨æˆ·å”¯ä¸€æ ‡è¯† | è‡ªåŠ¨é€’å¢ž | ä¸»é”® |
| `username` | ç”¨æˆ·å | VARCHAR | 50 | - | NOT NULL | - | ç™»å½•è´¦å· | å­—æ¯æ•°å­—ç»„åˆ | å”¯ä¸€ç´¢å¼• |
| `status` | è´¦æˆ·çŠ¶æ€ | TINYINT | 1 | 0 | NOT NULL | 1 | è´¦æˆ·çŠ¶æ€æ ‡è¯† | 0åœç”¨ 1æ­£å¸¸ 2é”å®š | - |
| `created_time` | åˆ›å»ºæ—¶é—´ | DATETIME | - | - | NOT NULL | NOW() | è®°å½•åˆ›å»ºæ—¶é—´ | ç³»ç»Ÿæ—¶é—´ | - |

### 4.2 æ•°æ®ç±»åž‹æ ‡å‡†åŒ–


**æ•°æ®ç±»åž‹ä½¿ç”¨è§„èŒƒ**ï¼š
```
ðŸ”¸ å­—ç¬¦ä¸²ç±»åž‹ï¼š
VARCHAR(n)ï¼šå¯å˜é•¿åº¦å­—ç¬¦ä¸²ï¼Œå¦‚å§“åã€åœ°å€
CHAR(n)ï¼šå›ºå®šé•¿åº¦å­—ç¬¦ä¸²ï¼Œå¦‚æ‰‹æœºå·ã€èº«ä»½è¯å·
TEXTï¼šé•¿æ–‡æœ¬ï¼Œå¦‚å•†å“æè¿°ã€å¤‡æ³¨ä¿¡æ¯

ðŸ”¸ æ•°å€¼ç±»åž‹ï¼š
INTï¼šæ•´æ•°ï¼Œå¦‚IDã€æ•°é‡ã€å¹´é¾„
DECIMAL(m,n)ï¼šç²¾ç¡®å°æ•°ï¼Œå¦‚é‡‘é¢ã€æ±‡çŽ‡
FLOAT/DOUBLEï¼šè¿‘ä¼¼å°æ•°ï¼Œå¦‚ç»Ÿè®¡æ•°æ®

ðŸ”¸ æ—¥æœŸæ—¶é—´ï¼š
DATEï¼šæ—¥æœŸï¼Œå¦‚ç”Ÿæ—¥ã€åˆ°æœŸæ—¥æœŸ
DATETIMEï¼šæ—¥æœŸæ—¶é—´ï¼Œå¦‚åˆ›å»ºæ—¶é—´ã€æ›´æ–°æ—¶é—´
TIMESTAMPï¼šæ—¶é—´æˆ³ï¼Œå¦‚æ—¥å¿—è®°å½•æ—¶é—´
```

### 4.3 å­—æ®µå‘½åè§„èŒƒ


**å‘½åæ ‡å‡†**ï¼š
- **å°å†™å­—æ¯** - å…¨éƒ¨ä½¿ç”¨å°å†™
- **ä¸‹åˆ’çº¿åˆ†éš”** - å•è¯é—´ç”¨ä¸‹åˆ’çº¿è¿žæŽ¥
- **è¯­ä¹‰æ˜Žç¡®** - åç§°èƒ½åæ˜ å­—æ®µå«ä¹‰
- **é•¿åº¦é€‚ä¸­** - ä¸€èˆ¬ä¸è¶…è¿‡30ä¸ªå­—ç¬¦

**å¸¸ç”¨å‘½åæ¨¡å¼**ï¼š
```
IDç±»å­—æ®µï¼šxxx_idï¼ˆå¦‚user_idã€order_idï¼‰
æ—¶é—´ç±»å­—æ®µï¼šxxx_timeï¼ˆå¦‚create_timeã€update_timeï¼‰  
çŠ¶æ€ç±»å­—æ®µï¼šxxx_statusï¼ˆå¦‚order_statusã€user_statusï¼‰
æ ‡è¯†ç±»å­—æ®µï¼šis_xxxï¼ˆå¦‚is_deleteã€is_activeï¼‰
æ•°é‡ç±»å­—æ®µï¼šxxx_count/xxx_numï¼ˆå¦‚visit_countã€total_numï¼‰
```

---

## 5. ðŸ“‹ çº¦æŸè§„åˆ™æ–‡æ¡£åŒ–


### 5.1 ðŸ”¥ çº¦æŸè§„åˆ™æ–‡æ¡£åŒ–æ–¹æ³•


**çº¦æŸç±»åž‹åŠæ–‡æ¡£æ ¼å¼**ï¼š

| çº¦æŸç±»åž‹ | æ–‡æ¡£æ ¼å¼ | ç¤ºä¾‹è¯´æ˜Ž | ä¸šåŠ¡å«ä¹‰ |
|---------|---------|---------|---------|
| **ä¸»é”®çº¦æŸ** | `PRIMARY KEY (å­—æ®µå)` | `PRIMARY KEY (user_id)` | ç”¨æˆ·å”¯ä¸€æ ‡è¯† |
| **å¤–é”®çº¦æŸ** | `FOREIGN KEY å¼•ç”¨å…³ç³»` | `order.user_id â†’ users.user_id` | è®¢å•å±žäºŽç‰¹å®šç”¨æˆ· |
| **å”¯ä¸€çº¦æŸ** | `UNIQUE (å­—æ®µç»„åˆ)` | `UNIQUE (username)` | ç”¨æˆ·åä¸èƒ½é‡å¤ |
| **æ£€æŸ¥çº¦æŸ** | `CHECK (æ¡ä»¶è¡¨è¾¾å¼)` | `CHECK (age >= 0 AND age <= 150)` | å¹´é¾„åˆç†èŒƒå›´ |
| **éžç©ºçº¦æŸ** | `NOT NULL` | `username NOT NULL` | ç”¨æˆ·åå¿…é¡»å¡«å†™ |

### 5.2 çº¦æŸè§„åˆ™è¯¦ç»†æè¿°


**ä¸»é”®çº¦æŸè¯´æ˜Ž**ï¼š
```
çº¦æŸåç§°ï¼šPK_users_user_id
çº¦æŸç±»åž‹ï¼šä¸»é”®çº¦æŸ
æ¶‰åŠå­—æ®µï¼šuser_id
ä¸šåŠ¡å«ä¹‰ï¼šç¡®ä¿æ¯ä¸ªç”¨æˆ·è®°å½•çš„å”¯ä¸€æ€§
å®žçŽ°æ–¹å¼ï¼šè‡ªå¢žæ•´æ•°ï¼Œç³»ç»Ÿè‡ªåŠ¨åˆ†é…
è¿ååŽæžœï¼šæ’å…¥å¤±è´¥ï¼Œæç¤ºä¸»é”®å†²çª
```

**å¤–é”®çº¦æŸè¯¦ç»†è®°å½•**ï¼š
```
çº¦æŸåç§°ï¼šFK_orders_user_id
çº¦æŸç±»åž‹ï¼šå¤–é”®çº¦æŸ
æœ¬è¡¨å­—æ®µï¼šorders.user_id
å¼•ç”¨è¡¨ï¼šusers.user_id
çº§è”è§„åˆ™ï¼šON DELETE RESTRICT ON UPDATE CASCADE
ä¸šåŠ¡å«ä¹‰ï¼šç¡®ä¿è®¢å•å¿…é¡»å±žäºŽå­˜åœ¨çš„ç”¨æˆ·
è¿ååŽæžœï¼šæ’å…¥æ— æ•ˆç”¨æˆ·IDçš„è®¢å•æ—¶å¤±è´¥
```

### 5.3 ç»„åˆçº¦æŸå¤„ç†


**å¤åˆçº¦æŸç¤ºä¾‹**ï¼š
```sql
-- å¤åˆä¸»é”®
PRIMARY KEY (order_id, product_id)
æ–‡æ¡£è¯´æ˜Žï¼šè®¢å•æ˜Žç»†è¡¨ä»¥è®¢å•IDå’Œå•†å“IDç»„åˆä½œä¸ºä¸»é”®

-- å¤åˆå”¯ä¸€çº¦æŸ  
UNIQUE (username, email)
æ–‡æ¡£è¯´æ˜Žï¼šç”¨æˆ·åå’Œé‚®ç®±çš„ç»„åˆå¿…é¡»å”¯ä¸€

-- å¤åˆå¤–é”®
FOREIGN KEY (dept_id, position_id) 
REFERENCES dept_positions(dept_id, position_id)
æ–‡æ¡£è¯´æ˜Žï¼šéƒ¨é—¨å’ŒèŒä½çš„ç»„åˆå¿…é¡»åœ¨éƒ¨é—¨èŒä½è¡¨ä¸­å­˜åœ¨
```

---

## 6. ðŸ“ ä¸šåŠ¡è§„åˆ™è®°å½•æ–¹æ³•


### 6.1 ðŸ”¥ ä¸šåŠ¡è§„åˆ™è®°å½•æ–¹æ³•


**ä¸šåŠ¡è§„åˆ™åˆ†ç±»è®°å½•**ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        ä¸šåŠ¡è§„åˆ™ç±»åž‹          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ðŸ”¸ æ•°æ®éªŒè¯è§„åˆ™             â”‚
â”‚     - æ ¼å¼éªŒè¯ã€èŒƒå›´æ£€æŸ¥      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ðŸ”¸ ä¸šåŠ¡æµç¨‹è§„åˆ™             â”‚  
â”‚     - çŠ¶æ€è½¬æ¢ã€æ“ä½œé¡ºåº      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ðŸ”¸ è®¡ç®—æ´¾ç”Ÿè§„åˆ™             â”‚
â”‚     - å…¬å¼è®¡ç®—ã€æ±‡æ€»ç»Ÿè®¡      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ðŸ”¸ æƒé™æŽ§åˆ¶è§„åˆ™             â”‚
â”‚     - è®¿é—®æƒé™ã€æ“ä½œæƒé™      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6.2 ä¸šåŠ¡è§„åˆ™æ–‡æ¡£æ ¼å¼


**è§„åˆ™ç¼–å·ä½“ç³»**ï¼š
```
BR001ï¼šæ•°æ®éªŒè¯ç±»è§„åˆ™
BR002ï¼šä¸šåŠ¡æµç¨‹ç±»è§„åˆ™  
BR003ï¼šè®¡ç®—æ´¾ç”Ÿç±»è§„åˆ™
BR004ï¼šæƒé™æŽ§åˆ¶ç±»è§„åˆ™
```

**è¯¦ç»†è§„åˆ™è®°å½•æ ¼å¼**ï¼š
```
ã€è§„åˆ™ç¼–å·ã€‘BR001-USER-001
ã€è§„åˆ™åç§°ã€‘ç”¨æˆ·å¹´é¾„éªŒè¯è§„åˆ™
ã€è§„åˆ™ç±»åž‹ã€‘æ•°æ®éªŒè¯è§„åˆ™
ã€é€‚ç”¨è¡¨ã€‘usersè¡¨
ã€æ¶‰åŠå­—æ®µã€‘ageå­—æ®µ
ã€è§„åˆ™å†…å®¹ã€‘ç”¨æˆ·å¹´é¾„å¿…é¡»åœ¨0-150å²ä¹‹é—´
ã€å®žçŽ°æ–¹å¼ã€‘CHECKçº¦æŸ: age >= 0 AND age <= 150
ã€ä¸šåŠ¡è¯´æ˜Žã€‘ç¡®ä¿å¹´é¾„æ•°æ®çš„åˆç†æ€§ï¼Œé¿å…å¼‚å¸¸æ•°æ®
ã€å¼‚å¸¸å¤„ç†ã€‘å¹´é¾„è¶…å‡ºèŒƒå›´æ—¶æ‹’ç»æ’å…¥ï¼Œè¿”å›žé”™è¯¯æç¤º
ã€ç»´æŠ¤äººã€‘å¼ ä¸‰
ã€åˆ›å»ºæ—¶é—´ã€‘2024-01-15
ã€æœ€åŽä¿®æ”¹ã€‘2024-06-20
```

### 6.3 çŠ¶æ€è½¬æ¢è§„åˆ™è®°å½•


**è®¢å•çŠ¶æ€è½¬æ¢ç¤ºä¾‹**ï¼š
```
ã€è§„åˆ™ç¼–å·ã€‘BR002-ORDER-001
ã€è§„åˆ™åç§°ã€‘è®¢å•çŠ¶æ€æµè½¬è§„åˆ™
ã€è§„åˆ™ç±»åž‹ã€‘ä¸šåŠ¡æµç¨‹è§„åˆ™

çŠ¶æ€è½¬æ¢å›¾ï¼š
å¾…æ”¯ä»˜(1) â†’ å·²æ”¯ä»˜(2) â†’ å·²å‘è´§(3) â†’ å·²æ”¶è´§(4) â†’ å·²å®Œæˆ(5)
    â†“           â†“           â†“           â†“
   å–æ¶ˆ(0)     å–æ¶ˆ(0)     é€€è´§(6)     é€€è´§(6)

è½¬æ¢æ¡ä»¶ï¼š
- å¾…æ”¯ä»˜â†’å·²æ”¯ä»˜ï¼šæ”¶åˆ°æ”¯ä»˜ç¡®è®¤
- å·²æ”¯ä»˜â†’å–æ¶ˆï¼šè¶…æ—¶æœªå¤„ç†æˆ–ç”¨æˆ·ç”³è¯·
- å·²å‘è´§â†’é€€è´§ï¼šç”¨æˆ·ç”³è¯·ä¸”åœ¨é€€è´§æœŸå†…

ç¦æ­¢è½¬æ¢ï¼š
- å·²å®Œæˆä¸èƒ½ç›´æŽ¥è½¬ä¸ºå¾…æ”¯ä»˜
- å·²å–æ¶ˆçš„è®¢å•ä¸èƒ½æ¢å¤åˆ°å…¶ä»–çŠ¶æ€
```

---

## 7. ðŸŽ¯ ç¼–åˆ¶æ–¹æ³•ä¸Žæ ‡å‡†åŒ–


### 7.1 ðŸ”‘ å­—å…¸ç¼–åˆ¶åŸºæœ¬æ–¹æ³•


**ç¼–åˆ¶æµç¨‹**ï¼š
```
â‘  éœ€æ±‚è°ƒç ”
   â†“
â‘¡ çŽ°çŠ¶åˆ†æž  
   â†“
â‘¢ æ ‡å‡†åˆ¶å®š
   â†“
â‘£ å†…å®¹ç¼–å†™
   â†“  
â‘¤ å®¡æ ¸ç¡®è®¤
   â†“
â‘¥ å‘å¸ƒç»´æŠ¤
```

### 7.2 ðŸ”‘ æ–‡æ¡£æ ‡å‡†åŒ–è¦æ±‚


**æ ‡å‡†åŒ–åŽŸåˆ™**ï¼š

**ðŸ”¸ å‘½åæ ‡å‡†åŒ–**ï¼š
```
è¡¨å‘½åè§„èŒƒï¼š
- ä¸šåŠ¡å‰ç¼€ + å®žä½“åç§°ï¼šuser_infoã€order_detail
- å…³è”è¡¨ï¼šè¡¨1_è¡¨2_relï¼šuser_role_rel
- åŽ†å²è¡¨ï¼šåŽŸè¡¨å_hisï¼šuser_info_his

å­—æ®µå‘½åè§„èŒƒï¼š
- ä¸»é”®ï¼šè¡¨å_idï¼šuser_idã€order_id
- å¤–é”®ï¼šå¼•ç”¨è¡¨_idï¼šuser_idï¼ˆåœ¨è®¢å•è¡¨ä¸­ï¼‰
- çŠ¶æ€ï¼šxxx_statusï¼šorder_statusã€user_status
- æ—¶é—´ï¼šxxx_timeï¼šcreate_timeã€update_time
```

**ðŸ”¸ æè¿°æ ‡å‡†åŒ–**ï¼š
```
å­—æ®µæè¿°æ ¼å¼ï¼š
- ä¸šåŠ¡å«ä¹‰ + æŠ€æœ¯è¯´æ˜Ž + ç‰¹æ®Šæ³¨æ„äº‹é¡¹
- ç¤ºä¾‹ï¼š"ç”¨æˆ·ç™»å½•åï¼Œç”¨äºŽç³»ç»Ÿç™»å½•è®¤è¯ï¼Œä¸å¯é‡å¤"

å–å€¼è¯´æ˜Žæ ¼å¼ï¼š
- æžšä¸¾å€¼ï¼š0-åœç”¨ 1-æ­£å¸¸ 2-é”å®š
- èŒƒå›´å€¼ï¼š1-100ï¼ˆç™¾åˆ†æ¯”ï¼‰
- æ ¼å¼è¦æ±‚ï¼šæ‰‹æœºå·æ ¼å¼ä¸º11ä½æ•°å­—
```

### 7.3 è´¨é‡æŽ§åˆ¶æ ‡å‡†


**è´¨é‡æ£€æŸ¥è¦ç‚¹**ï¼š
- **å®Œæ•´æ€§æ£€æŸ¥** - æ‰€æœ‰è¡¨å’Œå­—æ®µéƒ½æœ‰è¯´æ˜Ž
- **ä¸€è‡´æ€§æ£€æŸ¥** - ç›¸åŒå«ä¹‰çš„å­—æ®µæè¿°ä¸€è‡´  
- **å‡†ç¡®æ€§æ£€æŸ¥** - æè¿°ä¸Žå®žé™…å®žçŽ°ä¸€è‡´
- **åŠæ—¶æ€§æ£€æŸ¥** - ç»“æž„å˜æ›´åŽåŠæ—¶æ›´æ–°å­—å…¸

**ðŸ”§ ç»´æŠ¤æ›´æ–°æœºåˆ¶**ï¼š
```
å˜æ›´è§¦å‘ï¼š
- è¡¨ç»“æž„å˜æ›´ â†’ ç«‹å³æ›´æ–°å­—å…¸
- ä¸šåŠ¡è§„åˆ™è°ƒæ•´ â†’ åŒæ­¥æ›´æ–°è¯´æ˜Ž
- å®šæœŸå›žé¡¾ â†’ æ¯å­£åº¦å…¨é¢æ£€æŸ¥

ç‰ˆæœ¬ç®¡ç†ï¼š
- ç‰ˆæœ¬å·ï¼šv1.0ã€v1.1ã€v2.0
- å˜æ›´æ—¥å¿—ï¼šè®°å½•æ¯æ¬¡ä¿®æ”¹å†…å®¹
- å®¡æ‰¹æµç¨‹ï¼šå˜æ›´éœ€è¦ç›¸å…³äººå‘˜ç¡®è®¤
```

---

## 8. ðŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 8.1 ðŸ”‘ æ•°æ®å­—å…¸æ ¸å¿ƒä»·å€¼


```
ðŸ”¸ æ ‡å‡†åŒ–æ–‡æ¡£ï¼šç»Ÿä¸€å›¢é˜Ÿå¯¹æ•°æ®çš„ç†è§£
ðŸ”¸ å¿«é€ŸæŸ¥è¯¢ï¼šæ–°äººå’Œç»´æŠ¤äººå‘˜çš„å¾—åŠ›åŠ©æ‰‹  
ðŸ”¸ è´¨é‡ä¿è¯ï¼šç¡®ä¿æ•°æ®ä½¿ç”¨çš„è§„èŒƒæ€§
ðŸ”¸ åä½œå·¥å…·ï¼šå‡å°‘æ²Ÿé€šæˆæœ¬ï¼Œæé«˜å¼€å‘æ•ˆçŽ‡
ðŸ”¸ çŸ¥è¯†ä¼ æ‰¿ï¼šä¿å­˜ç³»ç»Ÿè®¾è®¡çš„æ ¸å¿ƒçŸ¥è¯†
```

### 8.2 ç¼–åˆ¶æ–¹æ³•è¦ç‚¹


**ðŸ”¹ å†…å®¹ç»„ç»‡åŽŸåˆ™**
```
å®žä½“å®šä¹‰ï¼š
- è¡¨åã€ç”¨é€”ã€æ¥æºã€é¢‘çŽ‡è¦æ¸…æ™°
- ä¸šåŠ¡å«ä¹‰æ¯”æŠ€æœ¯ç»†èŠ‚æ›´é‡è¦
- å…³è”å…³ç³»è¦æ˜Žç¡®æè¿°

å±žæ€§è§„èŒƒï¼š
- å­—æ®µåã€ç±»åž‹ã€é•¿åº¦è¦å‡†ç¡®
- ä¸šåŠ¡å«ä¹‰è¦é€šä¿—æ˜“æ‡‚
- å–å€¼èŒƒå›´å’Œæ ¼å¼è¦å…·ä½“

çº¦æŸæ–‡æ¡£ï¼š
- æ¯ä¸ªçº¦æŸéƒ½è¦æœ‰ä¸šåŠ¡è§£é‡Š
- è¿åçº¦æŸçš„åŽæžœè¦è¯´æ˜Ž
- çº¦æŸå®žçŽ°æ–¹å¼è¦è®°å½•
```

**ðŸ”¹ è´¨é‡ä¿è¯æŽªæ–½**
```
ç¼–åˆ¶é˜¶æ®µï¼š
- å¤šäººå‚ä¸Žï¼Œåˆ†å·¥æ˜Žç¡®
- ä¸šåŠ¡äººå‘˜å’ŒæŠ€æœ¯äººå‘˜å…±åŒç¡®è®¤
- ä½¿ç”¨æ ‡å‡†æ¨¡æ¿ï¼Œç¡®ä¿æ ¼å¼ä¸€è‡´

ç»´æŠ¤é˜¶æ®µï¼š  
- å˜æ›´å¿…é¡»åŒæ­¥æ›´æ–°å­—å…¸
- å®šæœŸå®¡æŸ¥ï¼Œç¡®ä¿å‡†ç¡®æ€§
- ç‰ˆæœ¬ç®¡ç†ï¼Œè®°å½•å˜æ›´åŽ†å²
```

### 8.3 å®žé™…åº”ç”¨æŒ‡å¯¼


**ðŸ“– ä½¿ç”¨æ•°æ®å­—å…¸çš„æœ€ä½³å®žè·µ**ï¼š
- **å¼€å‘é˜¶æ®µ** - æ ¹æ®å­—å…¸è¿›è¡Œæ•°æ®åº“è®¾è®¡å’Œç¼–ç 
- **æµ‹è¯•é˜¶æ®µ** - å¯¹ç…§å­—å…¸éªŒè¯æ•°æ®è´¨é‡
- **ç»´æŠ¤é˜¶æ®µ** - å‚è€ƒå­—å…¸è¿›è¡Œé—®é¢˜è¯Šæ–­
- **åŸ¹è®­é˜¶æ®µ** - ä½œä¸ºæ–°äººå­¦ä¹ çš„åŸºç¡€èµ„æ–™

**âš ï¸ å¸¸è§é—®é¢˜åŠé¿å…**ï¼š
- **å†…å®¹è¿‡æ—¶** - å»ºç«‹å˜æ›´åŒæ­¥æœºåˆ¶
- **æè¿°ä¸æ¸…** - ä¸šåŠ¡äººå‘˜å‚ä¸Žç¼–å†™å’Œå®¡æ ¸
- **æ ‡å‡†ä¸ç»Ÿä¸€** - åˆ¶å®šå¹¶ä¸¥æ ¼æ‰§è¡Œç¼–åˆ¶è§„èŒƒ
- **ç»´æŠ¤å›°éš¾** - ä½¿ç”¨å·¥å…·åŒ–æ‰‹æ®µè¾…åŠ©ç»´æŠ¤

**æ ¸å¿ƒè®°å¿†è¦ç‚¹**ï¼š
- æ•°æ®å­—å…¸æ˜¯æ•°æ®åº“çš„"è¯´æ˜Žä¹¦"
- æ ‡å‡†åŒ–æ ¼å¼ç¡®ä¿æ–‡æ¡£è´¨é‡
- ä¸šåŠ¡å«ä¹‰æ¯”æŠ€æœ¯ç»†èŠ‚æ›´é‡è¦
- æŒç»­ç»´æŠ¤æ˜¯å­—å…¸ä»·å€¼çš„ä¿è¯
- å›¢é˜Ÿåä½œæ˜¯ç¼–åˆ¶æˆåŠŸçš„å…³é”®