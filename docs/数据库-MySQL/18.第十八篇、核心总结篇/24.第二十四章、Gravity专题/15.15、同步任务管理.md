---
title: 15ã€åŒæ­¥ä»»åŠ¡ç®¡ç†
---
## ðŸ“š ç›®å½•

1. [ä»»åŠ¡ç®¡ç†æ¦‚è¿°](#1-ä»»åŠ¡ç®¡ç†æ¦‚è¿°)
2. [ä»»åŠ¡åˆ›å»ºä¸Žé…ç½®](#2-ä»»åŠ¡åˆ›å»ºä¸Žé…ç½®)
3. [ä»»åŠ¡ç”Ÿå‘½å‘¨æœŸç®¡ç†](#3-ä»»åŠ¡ç”Ÿå‘½å‘¨æœŸç®¡ç†)
4. [ä»»åŠ¡çŠ¶æ€ç›‘æŽ§](#4-ä»»åŠ¡çŠ¶æ€ç›‘æŽ§)
5. [ä»»åŠ¡è¿›åº¦æŸ¥è¯¢](#5-ä»»åŠ¡è¿›åº¦æŸ¥è¯¢)
6. [ä»»åŠ¡å¼‚å¸¸å¤„ç†](#6-ä»»åŠ¡å¼‚å¸¸å¤„ç†)
7. [ä»»åŠ¡é…ç½®ç®¡ç†](#7-ä»»åŠ¡é…ç½®ç®¡ç†)
8. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#8-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ðŸŽ¯ ä»»åŠ¡ç®¡ç†æ¦‚è¿°


### 1.1 ä»€ä¹ˆæ˜¯GravityåŒæ­¥ä»»åŠ¡


**å®šä¹‰è§£é‡Š**ï¼š
GravityåŒæ­¥ä»»åŠ¡å°±æ˜¯ä¸€ä¸ªä¸“é—¨è´Ÿè´£æŠŠMySQLæ•°æ®ä»Žæºåº“åŒæ­¥åˆ°ç›®æ ‡åº“çš„å·¥ä½œå•å…ƒã€‚å¯ä»¥æŠŠå®ƒç†è§£ä¸ºä¸€ä¸ª"æ•°æ®æ¬è¿å·¥"ï¼Œå®ƒä¼šæŒç»­ä¸æ–­åœ°ç›‘è§†æºæ•°æ®åº“çš„å˜åŒ–ï¼Œç„¶åŽæŠŠè¿™äº›å˜åŒ–å®žæ—¶åŒæ­¥åˆ°ç›®æ ‡æ•°æ®åº“ã€‚

```
ç®€å•ç†è§£ï¼š
æºæ•°æ®åº“ â”€â”€â”€â”€â†’ [GravityåŒæ­¥ä»»åŠ¡] â”€â”€â”€â”€â†’ ç›®æ ‡æ•°æ®åº“
   (æœ‰æ–°æ•°æ®)      (æ£€æµ‹å¹¶ä¼ è¾“)        (æŽ¥æ”¶æ–°æ•°æ®)

å°±åƒä¸€ä¸ªä¼ é€å¸¦ï¼Œæºå¤´æ”¾ä¸œè¥¿ï¼Œç›®æ ‡ç«¯å°±èƒ½æ”¶åˆ°
```

### 1.2 ä»»åŠ¡ç®¡ç†çš„æ ¸å¿ƒä»·å€¼


**ä¸ºä»€ä¹ˆéœ€è¦ä»»åŠ¡ç®¡ç†**ï¼š

```
å®žé™…ä¸šåŠ¡åœºæ™¯ï¼š
ðŸ¢ ç”µå•†ç³»ç»Ÿï¼šè®¢å•æ•°æ®éœ€è¦ä»Žä¸»åº“åŒæ­¥åˆ°åˆ†æžåº“
ðŸ“Š æ•°æ®ä»“åº“ï¼šä¸šåŠ¡æ•°æ®éœ€è¦å®žæ—¶åŒæ­¥åˆ°æ•°æ®ä»“åº“
ðŸ”„ ç³»ç»Ÿè¿ç§»ï¼šè€ç³»ç»Ÿæ•°æ®éœ€è¦åŒæ­¥åˆ°æ–°ç³»ç»Ÿ
ðŸŒ å¤šåœ°éƒ¨ç½²ï¼šä¸»åº“æ•°æ®éœ€è¦åŒæ­¥åˆ°å„åœ°åˆ†åº“
```

**ç®¡ç†çš„å¿…è¦æ€§**ï¼š
- **å¯æŽ§æ€§**ï¼šèƒ½å¤Ÿéšæ—¶å¯åŠ¨ã€åœæ­¢ã€é‡å¯åŒæ­¥ä»»åŠ¡
- **å¯è§æ€§**ï¼šæ¸…æ¥šçŸ¥é“ä»»åŠ¡è¿è¡ŒçŠ¶æ€å’ŒåŒæ­¥è¿›åº¦
- **å¯é æ€§**ï¼šä»»åŠ¡å¼‚å¸¸æ—¶èƒ½å¤ŸåŠæ—¶å‘çŽ°å’Œå¤„ç†
- **çµæ´»æ€§**ï¼šå¯ä»¥æ ¹æ®ä¸šåŠ¡éœ€è¦è°ƒæ•´åŒæ­¥é…ç½®

### 1.3 ä»»åŠ¡ç®¡ç†æž¶æž„å›¾


```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Gravityä»»åŠ¡ç®¡ç†ç³»ç»Ÿ                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   ä»»åŠ¡åˆ›å»ºé…ç½®   â”‚   ä»»åŠ¡ç”Ÿå‘½å‘¨æœŸ   â”‚    ä»»åŠ¡ç›‘æŽ§æŸ¥è¯¢      â”‚
â”‚                â”‚     ç®¡ç†        â”‚                    â”‚
â”‚  â€¢ æºåº“é…ç½®     â”‚  â€¢ å¯åŠ¨/åœæ­¢    â”‚  â€¢ çŠ¶æ€ç›‘æŽ§        â”‚
â”‚  â€¢ ç›®æ ‡åº“é…ç½®   â”‚  â€¢ æš‚åœ/æ¢å¤    â”‚  â€¢ è¿›åº¦æŸ¥è¯¢        â”‚
â”‚  â€¢ åŒæ­¥è§„åˆ™     â”‚  â€¢ é‡å¯æœºåˆ¶     â”‚  â€¢ æ€§èƒ½ç›‘æŽ§        â”‚
â”‚  â€¢ è¿‡æ»¤æ¡ä»¶     â”‚  â€¢ åˆ é™¤æ“ä½œ     â”‚  â€¢ æ—¥å¿—æŸ¥çœ‹        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. âš™ï¸ ä»»åŠ¡åˆ›å»ºä¸Žé…ç½®


### 2.1 ä»»åŠ¡åˆ›å»ºåŸºç¡€æµç¨‹


**åˆ›å»ºä»»åŠ¡çš„åŸºæœ¬æ­¥éª¤**ï¼š

```
ç¬¬1æ­¥ï¼šå‡†å¤‡å·¥ä½œ
â”œâ”€â”€ ç¡®è®¤æºåº“å’Œç›®æ ‡åº“ä¿¡æ¯
â”œâ”€â”€ å‡†å¤‡æ•°æ®åº“è¿žæŽ¥æƒé™  
â”œâ”€â”€ ç¡®å®šåŒæ­¥çš„è¡¨å’Œå­—æ®µ
â””â”€â”€ è§„åˆ’åŒæ­¥ç­–ç•¥

ç¬¬2æ­¥ï¼šåŸºç¡€é…ç½®
â”œâ”€â”€ è®¾ç½®ä»»åŠ¡åç§°å’Œæè¿°
â”œâ”€â”€ é…ç½®æºåº“è¿žæŽ¥ä¿¡æ¯
â”œâ”€â”€ é…ç½®ç›®æ ‡åº“è¿žæŽ¥ä¿¡æ¯
â””â”€â”€ é€‰æ‹©åŒæ­¥æ¨¡å¼

ç¬¬3æ­¥ï¼šè¯¦ç»†é…ç½®  
â”œâ”€â”€ è®¾ç½®è¡¨è¿‡æ»¤è§„åˆ™
â”œâ”€â”€ é…ç½®å­—æ®µæ˜ å°„å…³ç³»
â”œâ”€â”€ è®¾ç½®åŒæ­¥é¢‘çŽ‡
â””â”€â”€ é…ç½®å¼‚å¸¸å¤„ç†ç­–ç•¥

ç¬¬4æ­¥ï¼šéªŒè¯å’Œå¯åŠ¨
â”œâ”€â”€ è¿žæŽ¥æµ‹è¯•
â”œâ”€â”€ é…ç½®éªŒè¯
â”œâ”€â”€ è¯•è¿è¡Œæµ‹è¯•
â””â”€â”€ æ­£å¼å¯åŠ¨ä»»åŠ¡
```

### 2.2 æ ¸å¿ƒé…ç½®å‚æ•°è¯¦è§£


#### ðŸ”— æ•°æ®åº“è¿žæŽ¥é…ç½®


**æºåº“é…ç½®ç¤ºä¾‹**ï¼š
```yaml
# æºæ•°æ®åº“é…ç½®
source:
  host: "192.168.1.100"        # æºåº“IPåœ°å€
  port: 3306                   # æºåº“ç«¯å£
  username: "sync_user"        # è¿žæŽ¥ç”¨æˆ·å  
  password: "password123"      # è¿žæŽ¥å¯†ç 
  database: "business_db"      # æºæ•°æ®åº“å
  charset: "utf8mb4"          # å­—ç¬¦ç¼–ç 
```

**ç›®æ ‡åº“é…ç½®ç¤ºä¾‹**ï¼š
```yaml
# ç›®æ ‡æ•°æ®åº“é…ç½®  
target:
  host: "192.168.1.200"        # ç›®æ ‡åº“IPåœ°å€
  port: 3306                   # ç›®æ ‡åº“ç«¯å£
  username: "target_user"      # è¿žæŽ¥ç”¨æˆ·å
  password: "target_pass"      # è¿žæŽ¥å¯†ç   
  database: "warehouse_db"     # ç›®æ ‡æ•°æ®åº“å
  charset: "utf8mb4"          # å­—ç¬¦ç¼–ç 
```

**é…ç½®è¯´æ˜Ž**ï¼š
- **host/port**ï¼šæ•°æ®åº“æœåŠ¡å™¨åœ°å€å’Œç«¯å£ï¼Œå°±åƒå®¶åº­åœ°å€ä¸€æ ·ï¼Œå‘Šè¯‰GravityåŽ»å“ªé‡Œæ‰¾æ•°æ®åº“
- **username/password**ï¼šè®¿é—®æ•°æ®åº“çš„è´¦å·å¯†ç ï¼Œéœ€è¦æœ‰è¶³å¤Ÿçš„æƒé™è¯»å–æºåº“å’Œå†™å…¥ç›®æ ‡åº“
- **database**ï¼šå…·ä½“çš„æ•°æ®åº“åç§°ï¼Œä¸€ä¸ªMySQLæœåŠ¡å™¨å¯ä»¥æœ‰å¤šä¸ªæ•°æ®åº“
- **charset**ï¼šå­—ç¬¦ç¼–ç ï¼Œç¡®ä¿ä¸­æ–‡ç­‰ç‰¹æ®Šå­—ç¬¦èƒ½æ­£ç¡®ä¼ è¾“

#### ðŸ“‹ åŒæ­¥è§„åˆ™é…ç½®


**è¡¨è¿‡æ»¤é…ç½®**ï¼š
```yaml
# åŒæ­¥è§„åˆ™é…ç½®
sync_rules:
  # åŒ…å«çš„è¡¨ï¼ˆåªåŒæ­¥è¿™äº›è¡¨ï¼‰
  include_tables:
    - "user_info"               # ç”¨æˆ·ä¿¡æ¯è¡¨
    - "order_*"                 # æ‰€æœ‰è®¢å•ç›¸å…³è¡¨ï¼ˆæ”¯æŒé€šé…ç¬¦ï¼‰
    - "product_catalog"         # å•†å“ç›®å½•è¡¨
  
  # æŽ’é™¤çš„è¡¨ï¼ˆä¸åŒæ­¥è¿™äº›è¡¨ï¼‰  
  exclude_tables:
    - "temp_*"                  # æ‰€æœ‰ä¸´æ—¶è¡¨
    - "log_*"                   # æ‰€æœ‰æ—¥å¿—è¡¨
    - "session_data"            # ä¼šè¯æ•°æ®è¡¨
```

**å­—æ®µæ˜ å°„é…ç½®**ï¼š
```yaml
# å­—æ®µæ˜ å°„è§„åˆ™
field_mapping:
  user_info:
    source_field: target_field  # æºå­—æ®µå: ç›®æ ‡å­—æ®µå
    user_id: uid                # ç”¨æˆ·IDå­—æ®µé‡å‘½å
    create_time: created_at     # åˆ›å»ºæ—¶é—´å­—æ®µé‡å‘½å
    
  order_info:
    order_id: order_no          # è®¢å•IDæ˜ å°„ä¸ºè®¢å•å·
    user_id: customer_id        # ç”¨æˆ·IDæ˜ å°„ä¸ºå®¢æˆ·ID
```

### 2.3 ä»»åŠ¡åˆ›å»ºå®žé™…æ“ä½œ


**é€šè¿‡é…ç½®æ–‡ä»¶åˆ›å»ºä»»åŠ¡**ï¼š
```bash
# 1. å‡†å¤‡ä»»åŠ¡é…ç½®æ–‡ä»¶
cat > sync_task.yaml << EOF
task:
  name: "user_order_sync"
  description: "ç”¨æˆ·è®¢å•æ•°æ®åŒæ­¥ä»»åŠ¡"
  
source:
  host: "192.168.1.100"
  port: 3306
  username: "sync_user"
  password: "password123"
  database: "business_db"

target:
  host: "192.168.1.200" 
  port: 3306
  username: "target_user"
  password: "target_pass"
  database: "warehouse_db"

sync_rules:
  include_tables:
    - "user_info"
    - "order_*"
EOF

# 2. åˆ›å»ºåŒæ­¥ä»»åŠ¡
gravity-ctl task create --config sync_task.yaml
```

**é€šè¿‡å‘½ä»¤è¡Œåˆ›å»ºä»»åŠ¡**ï¼š
```bash
# å¿«é€Ÿåˆ›å»ºç®€å•åŒæ­¥ä»»åŠ¡
gravity-ctl task create \
  --name "quick_sync" \
  --source-host "192.168.1.100" \
  --source-db "business_db" \
  --target-host "192.168.1.200" \
  --target-db "warehouse_db" \
  --tables "user_info,order_info"
```

---

## 3. ðŸ”„ ä»»åŠ¡ç”Ÿå‘½å‘¨æœŸç®¡ç†


### 3.1 ä»»åŠ¡çŠ¶æ€æµè½¬å›¾


```
ä»»åŠ¡ç”Ÿå‘½å‘¨æœŸçŠ¶æ€æµè½¬ï¼š

   [åˆ›å»º] â”€â”€â”€â”€â”€â”€â†’ [å·²åˆ›å»º]
      â”‚              â”‚
      â”‚              â–¼
      â”‚          [å¯åŠ¨ä¸­] â”€â”€â†’ [å¯åŠ¨å¤±è´¥]
      â”‚              â”‚           â”‚
      â”‚              â–¼           â”‚
      â”‚          [è¿è¡Œä¸­] â†â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚              â”‚
      â”‚              â”œâ”€â”€â†’ [æš‚åœä¸­] â”€â”€â†’ [å·²æš‚åœ]
      â”‚              â”‚       â”‚          â”‚
      â”‚              â”‚       â–¼          â”‚
      â”‚              â”‚   [æš‚åœå¤±è´¥]      â”‚
      â”‚              â”‚                  â”‚
      â”‚              â”œâ”€â”€â†’ [åœæ­¢ä¸­] â”€â”€â†’ [å·²åœæ­¢]
      â”‚              â”‚       â”‚          â”‚
      â”‚              â”‚       â–¼          â”‚
      â”‚              â”‚   [åœæ­¢å¤±è´¥]      â”‚
      â”‚              â”‚                  â”‚
      â”‚              â–¼                  â”‚
      â”‚          [å¼‚å¸¸çŠ¶æ€] â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚              â”‚
      â–¼              â–¼
   [åˆ é™¤ä¸­] â”€â”€â”€â”€â”€â”€â†’ [å·²åˆ é™¤]
```

### 3.2 ä»»åŠ¡å¯åŠ¨æ“ä½œ


**å¯åŠ¨å•ä¸ªä»»åŠ¡**ï¼š
```bash
# å¯åŠ¨æŒ‡å®šåç§°çš„ä»»åŠ¡
gravity-ctl task start --name "user_order_sync"

# å¯åŠ¨æŒ‡å®šIDçš„ä»»åŠ¡  
gravity-ctl task start --id "task_001"

# å¯åŠ¨ä»»åŠ¡å¹¶æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯
gravity-ctl task start --name "user_order_sync" --verbose
```

**æ‰¹é‡å¯åŠ¨ä»»åŠ¡**ï¼š
```bash
# å¯åŠ¨æ‰€æœ‰å·²åœæ­¢çš„ä»»åŠ¡
gravity-ctl task start --all --status stopped

# å¯åŠ¨åŒ¹é…æ¨¡å¼çš„ä»»åŠ¡
gravity-ctl task start --pattern "order_*"

# å¯åŠ¨æŒ‡å®šæ ‡ç­¾çš„ä»»åŠ¡
gravity-ctl task start --label "env=prod"
```

**å¯åŠ¨è¿‡ç¨‹è¯´æ˜Ž**ï¼š
1. **é…ç½®éªŒè¯**ï¼šæ£€æŸ¥ä»»åŠ¡é…ç½®æ˜¯å¦æ­£ç¡®
2. **è¿žæŽ¥æµ‹è¯•**ï¼šæµ‹è¯•æºåº“å’Œç›®æ ‡åº“è¿žæŽ¥æ˜¯å¦æ­£å¸¸
3. **æƒé™æ£€æŸ¥**ï¼šéªŒè¯æ•°æ®åº“ç”¨æˆ·æƒé™æ˜¯å¦è¶³å¤Ÿ
4. **èµ„æºåˆ†é…**ï¼šä¸ºä»»åŠ¡åˆ†é…CPUã€å†…å­˜ç­‰èµ„æº
5. **æœåŠ¡å¯åŠ¨**ï¼šå¯åŠ¨åŒæ­¥æœåŠ¡å¼€å§‹å·¥ä½œ

### 3.3 ä»»åŠ¡åœæ­¢æ“ä½œ


**æ­£å¸¸åœæ­¢ä»»åŠ¡**ï¼š
```bash
# ä¼˜é›…åœæ­¢ä»»åŠ¡ï¼ˆç­‰å¾…å½“å‰æ“ä½œå®Œæˆï¼‰
gravity-ctl task stop --name "user_order_sync" --graceful

# ç«‹å³åœæ­¢ä»»åŠ¡ï¼ˆå¯èƒ½ä¸¢å¤±éƒ¨åˆ†æ•°æ®ï¼‰
gravity-ctl task stop --name "user_order_sync" --force

# åœæ­¢å¹¶ä¿å­˜çŠ¶æ€ç‚¹
gravity-ctl task stop --name "user_order_sync" --save-position
```

**æ‰¹é‡åœæ­¢ä»»åŠ¡**ï¼š
```bash
# åœæ­¢æ‰€æœ‰è¿è¡Œä¸­çš„ä»»åŠ¡
gravity-ctl task stop --all --status running

# åœæ­¢å¼‚å¸¸çŠ¶æ€çš„ä»»åŠ¡
gravity-ctl task stop --all --status error
```

### 3.4 ä»»åŠ¡æš‚åœä¸Žæ¢å¤


**æš‚åœä»»åŠ¡åŠŸèƒ½**ï¼š
```bash
# æš‚åœä»»åŠ¡ï¼ˆä¿æŒåŒæ­¥ä½ç½®ï¼‰
gravity-ctl task pause --name "user_order_sync"

# æš‚åœä»»åŠ¡å¹¶è®¾ç½®æ¢å¤æ—¶é—´
gravity-ctl task pause --name "user_order_sync" --resume-at "2024-01-01 10:00:00"
```

**æ¢å¤ä»»åŠ¡åŠŸèƒ½**ï¼š
```bash
# æ¢å¤æš‚åœçš„ä»»åŠ¡
gravity-ctl task resume --name "user_order_sync"

# ä»ŽæŒ‡å®šä½ç½®æ¢å¤
gravity-ctl task resume --name "user_order_sync" --from-position "mysql-bin.000100:1234"
```

**æš‚åœæ¢å¤çš„åº”ç”¨åœºæ™¯**ï¼š
- **ç³»ç»Ÿç»´æŠ¤**ï¼šæ•°æ®åº“ç»´æŠ¤æœŸé—´æš‚åœåŒæ­¥
- **æµé‡æŽ§åˆ¶**ï¼šé«˜å³°æœŸæš‚åœéžå…³é”®åŒæ­¥
- **æ•…éšœå¤„ç†**ï¼šç›®æ ‡åº“æ•…éšœæ—¶æš‚åœç­‰å¾…ä¿®å¤
- **èµ„æºè°ƒåº¦**ï¼šä¸ºé‡è¦ä»»åŠ¡è®©å‡ºèµ„æº

### 3.5 ä»»åŠ¡é‡å¯æœºåˆ¶


**æ‰‹åŠ¨é‡å¯ä»»åŠ¡**ï¼š
```bash
# é‡å¯ä»»åŠ¡ï¼ˆå…ˆåœæ­¢å†å¯åŠ¨ï¼‰
gravity-ctl task restart --name "user_order_sync"

# å¼ºåˆ¶é‡å¯ï¼ˆå¿½ç•¥å½“å‰çŠ¶æ€ï¼‰
gravity-ctl task restart --name "user_order_sync" --force

# é‡å¯å¹¶é‡ç½®åŒæ­¥ä½ç½®
gravity-ctl task restart --name "user_order_sync" --reset-position
```

**è‡ªåŠ¨é‡å¯é…ç½®**ï¼š
```yaml
# ä»»åŠ¡é‡å¯ç­–ç•¥é…ç½®
restart_policy:
  enable: true                    # å¯ç”¨è‡ªåŠ¨é‡å¯
  max_retries: 3                 # æœ€å¤§é‡è¯•æ¬¡æ•°
  retry_interval: "30s"          # é‡è¯•é—´éš”
  backoff_multiplier: 2          # é€€é¿å€æ•°
  max_retry_interval: "300s"     # æœ€å¤§é‡è¯•é—´éš”
  
  # é‡å¯è§¦å‘æ¡ä»¶
  restart_conditions:
    - "connection_lost"          # è¿žæŽ¥ä¸¢å¤±
    - "sync_lag_exceeded"        # åŒæ­¥å»¶è¿Ÿè¶…æ ‡
    - "error_rate_high"          # é”™è¯¯çŽ‡è¿‡é«˜
```

### 3.6 ä»»åŠ¡åˆ é™¤æ“ä½œ


**åˆ é™¤ä»»åŠ¡æ­¥éª¤**ï¼š
```bash
# 1. åœæ­¢ä»»åŠ¡
gravity-ctl task stop --name "user_order_sync"

# 2. ç¡®è®¤ä»»åŠ¡çŠ¶æ€
gravity-ctl task status --name "user_order_sync"

# 3. åˆ é™¤ä»»åŠ¡ï¼ˆéœ€è¦ç¡®è®¤ï¼‰
gravity-ctl task delete --name "user_order_sync" --confirm

# 4. å¼ºåˆ¶åˆ é™¤ï¼ˆè·³è¿‡ç¡®è®¤ï¼‰
gravity-ctl task delete --name "user_order_sync" --force
```

**åˆ é™¤æ³¨æ„äº‹é¡¹**ï¼š
- **æ•°æ®å®‰å…¨**ï¼šåˆ é™¤å‰ç¡®ä¿ç›®æ ‡åº“æ•°æ®å®Œæ•´
- **ä¾èµ–å…³ç³»**ï¼šæ£€æŸ¥æ˜¯å¦æœ‰å…¶ä»–ç³»ç»Ÿä¾èµ–æ­¤ä»»åŠ¡
- **é…ç½®å¤‡ä»½**ï¼šåˆ é™¤å‰å¤‡ä»½ä»»åŠ¡é…ç½®ä»¥ä¾¿æ¢å¤
- **æ—¥å¿—ä¿ç•™**ï¼šè€ƒè™‘æ˜¯å¦éœ€è¦ä¿ç•™åŒæ­¥æ—¥å¿—

---

## 4. ðŸ“Š ä»»åŠ¡çŠ¶æ€ç›‘æŽ§


### 4.1 ä»»åŠ¡çŠ¶æ€æŸ¥è¯¢


**æŸ¥çœ‹å•ä¸ªä»»åŠ¡çŠ¶æ€**ï¼š
```bash
# æŸ¥çœ‹ä»»åŠ¡åŸºæœ¬çŠ¶æ€
gravity-ctl task status --name "user_order_sync"

# æŸ¥çœ‹ä»»åŠ¡è¯¦ç»†çŠ¶æ€
gravity-ctl task status --name "user_order_sync" --detailed

# å®žæ—¶ç›‘æŽ§ä»»åŠ¡çŠ¶æ€
gravity-ctl task status --name "user_order_sync" --watch
```

**çŠ¶æ€è¾“å‡ºç¤ºä¾‹**ï¼š
```
ä»»åŠ¡çŠ¶æ€ä¿¡æ¯ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ä»»åŠ¡åç§°         â”‚ user_order_sync                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ä»»åŠ¡ID          â”‚ task_001                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å½“å‰çŠ¶æ€         â”‚ è¿è¡Œä¸­                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ è¿è¡Œæ—¶é•¿         â”‚ 2å¤©3å°æ—¶15åˆ†é’Ÿ                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ åŒæ­¥è¿›åº¦         â”‚ 85.6%                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ åŒæ­¥å»¶è¿Ÿ         â”‚ 2.3ç§’                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ é”™è¯¯è®¡æ•°         â”‚ 0                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 çŠ¶æ€åˆ†ç±»è¯¦è§£


**æ­£å¸¸çŠ¶æ€ç±»åž‹**ï¼š

| çŠ¶æ€ | å«ä¹‰è¯´æ˜Ž | ç‰¹å¾è¡¨çŽ° | æ“ä½œå»ºè®® |
|------|----------|----------|----------|
| **å·²åˆ›å»º** | ä»»åŠ¡é…ç½®å®Œæˆä½†æœªå¯åŠ¨ | `é…ç½®å°±ç»ªï¼Œç­‰å¾…å¯åŠ¨` | æ£€æŸ¥é…ç½®åŽå¯åŠ¨ |
| **å¯åŠ¨ä¸­** | ä»»åŠ¡æ­£åœ¨å¯åŠ¨è¿‡ç¨‹ä¸­ | `åˆå§‹åŒ–è¿žæŽ¥å’Œèµ„æº` | ç­‰å¾…å¯åŠ¨å®Œæˆ |
| **è¿è¡Œä¸­** | ä»»åŠ¡æ­£å¸¸è¿è¡ŒåŒæ­¥ | `æŒç»­åŒæ­¥æ•°æ®` | å®šæœŸæ£€æŸ¥æ€§èƒ½ |
| **å·²æš‚åœ** | ä»»åŠ¡ä¸´æ—¶æš‚åœ | `ä¿æŒåŒæ­¥ä½ç½®ä¸å˜` | æ ¹æ®éœ€è¦æ¢å¤ |
| **å·²åœæ­¢** | ä»»åŠ¡æ­£å¸¸åœæ­¢ | `åŒæ­¥ä½ç½®å·²ä¿å­˜` | å¯ä»¥å®‰å…¨é‡å¯ |

**å¼‚å¸¸çŠ¶æ€ç±»åž‹**ï¼š

| çŠ¶æ€ | å¯èƒ½åŽŸå›  | é”™è¯¯è¡¨çŽ° | å¤„ç†æ–¹æ³• |
|------|----------|----------|----------|
| **è¿žæŽ¥å¤±è´¥** | ç½‘ç»œæˆ–æƒé™é—®é¢˜ | `æ— æ³•è¿žæŽ¥æ•°æ®åº“` | æ£€æŸ¥ç½‘ç»œå’Œæƒé™ |
| **åŒæ­¥å¼‚å¸¸** | æ•°æ®å†²çªæˆ–æ ¼å¼é”™è¯¯ | `åŒæ­¥è¿‡ç¨‹æŠ¥é”™` | æŸ¥çœ‹é”™è¯¯æ—¥å¿— |
| **èµ„æºä¸è¶³** | CPUæˆ–å†…å­˜ä¸å¤Ÿ | `æ€§èƒ½ä¸‹é™æˆ–å¡æ­»` | å¢žåŠ èµ„æºæˆ–ä¼˜åŒ– |
| **é…ç½®é”™è¯¯** | å‚æ•°è®¾ç½®ä¸å½“ | `å¯åŠ¨å¤±è´¥æˆ–è¿è¡Œå¼‚å¸¸` | ä¿®æ­£é…ç½®å‚æ•° |

### 4.3 æ‰¹é‡çŠ¶æ€æŸ¥è¯¢


**æŸ¥çœ‹æ‰€æœ‰ä»»åŠ¡çŠ¶æ€**ï¼š
```bash
# åˆ—å‡ºæ‰€æœ‰ä»»åŠ¡
gravity-ctl task list

# æŒ‰çŠ¶æ€è¿‡æ»¤
gravity-ctl task list --status running
gravity-ctl task list --status error

# æŒ‰æ ‡ç­¾è¿‡æ»¤
gravity-ctl task list --label "env=prod"

# æ ¼å¼åŒ–è¾“å‡º
gravity-ctl task list --output table
gravity-ctl task list --output json
```

**çŠ¶æ€ç»Ÿè®¡ä¿¡æ¯**ï¼š
```bash
# æŸ¥çœ‹ä»»åŠ¡çŠ¶æ€ç»Ÿè®¡
gravity-ctl task stats

# è¾“å‡ºç¤ºä¾‹ï¼š
ä»»åŠ¡çŠ¶æ€ç»Ÿè®¡ï¼š
â”œâ”€â”€ æ€»ä»»åŠ¡æ•°ï¼š15
â”œâ”€â”€ è¿è¡Œä¸­ï¼š8
â”œâ”€â”€ å·²åœæ­¢ï¼š4  
â”œâ”€â”€ æš‚åœä¸­ï¼š2
â””â”€â”€ å¼‚å¸¸çŠ¶æ€ï¼š1
```

### 4.4 å®žæ—¶ç›‘æŽ§åŠŸèƒ½


**ç›‘æŽ§ä»ªè¡¨æ¿æŸ¥çœ‹**ï¼š
```bash
# å¯åŠ¨ç›‘æŽ§ä»ªè¡¨æ¿
gravity-ctl dashboard --port 8080

# ç›‘æŽ§ç‰¹å®šä»»åŠ¡
gravity-ctl monitor --name "user_order_sync"
```

**ç›‘æŽ§æŒ‡æ ‡è¯´æ˜Ž**ï¼š
- **åŒæ­¥é€ŸçŽ‡**ï¼šæ¯ç§’å¤„ç†çš„è®°å½•æ•°
- **åŒæ­¥å»¶è¿Ÿ**ï¼šæºåº“å’Œç›®æ ‡åº“çš„æ•°æ®æ—¶é—´å·®
- **é”™è¯¯çŽ‡**ï¼šå¤±è´¥æ“ä½œå æ€»æ“ä½œçš„æ¯”ä¾‹
- **èµ„æºä½¿ç”¨**ï¼šCPUã€å†…å­˜ã€ç½‘ç»œä½¿ç”¨æƒ…å†µ

---

## 5. ðŸ“ˆ ä»»åŠ¡è¿›åº¦æŸ¥è¯¢


### 5.1 è¿›åº¦æŸ¥è¯¢å‘½ä»¤


**åŸºç¡€è¿›åº¦æŸ¥è¯¢**ï¼š
```bash
# æŸ¥çœ‹ä»»åŠ¡åŒæ­¥è¿›åº¦
gravity-ctl task progress --name "user_order_sync"

# æŸ¥çœ‹è¯¦ç»†è¿›åº¦ä¿¡æ¯
gravity-ctl task progress --name "user_order_sync" --detailed

# å®žæ—¶è·Ÿè¸ªè¿›åº¦
gravity-ctl task progress --name "user_order_sync" --follow
```

**è¿›åº¦ä¿¡æ¯å±•ç¤º**ï¼š
```
åŒæ­¥è¿›åº¦è¯¦æƒ…ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ä»»åŠ¡è¿›åº¦ä¿¡æ¯                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æ€»ä½“è¿›åº¦         â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 68.5%            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å·²åŒæ­¥è®°å½•       â”‚ 1,234,567 / 1,800,000                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å‰©ä½™æ—¶é—´         â”‚ çº¦ 2å°æ—¶15åˆ†é’Ÿ                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ åŒæ­¥é€ŸçŽ‡         â”‚ 450 è®°å½•/ç§’                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å½“å‰ä½ç½®         â”‚ mysql-bin.000156:8945672             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.2 åˆ†è¡¨è¿›åº¦æŸ¥è¯¢


**æŒ‰è¡¨æŸ¥çœ‹è¿›åº¦**ï¼š
```bash
# æŸ¥çœ‹å„è¡¨åŒæ­¥è¿›åº¦
gravity-ctl task progress --name "user_order_sync" --by-table

# æŸ¥çœ‹ç‰¹å®šè¡¨è¿›åº¦
gravity-ctl task progress --name "user_order_sync" --table "order_info"
```

**åˆ†è¡¨è¿›åº¦å±•ç¤º**ï¼š
```
å„è¡¨åŒæ­¥è¿›åº¦ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è¡¨å            â”‚ æ€»è®°å½•æ•°     â”‚ å·²åŒæ­¥è®°å½•   â”‚ å®Œæˆç™¾åˆ†æ¯”   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ user_info       â”‚ 500,000     â”‚ 500,000     â”‚ 100%        â”‚
â”‚ order_info      â”‚ 2,000,000   â”‚ 1,234,567   â”‚ 61.7%       â”‚  
â”‚ order_detail    â”‚ 5,000,000   â”‚ 2,890,123   â”‚ 57.8%       â”‚
â”‚ product_info    â”‚ 100,000     â”‚ 100,000     â”‚ 100%        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.3 åŽ†å²è¿›åº¦åˆ†æž


**è¿›åº¦åŽ†å²æŸ¥è¯¢**ï¼š
```bash
# æŸ¥çœ‹è¿‡åŽ»24å°æ—¶çš„è¿›åº¦å˜åŒ–
gravity-ctl task progress --name "user_order_sync" --history 24h

# æŸ¥çœ‹è¿‡åŽ»ä¸€å‘¨çš„è¿›åº¦è¶‹åŠ¿
gravity-ctl task progress --name "user_order_sync" --history 7d

# å¯¼å‡ºè¿›åº¦æŠ¥å‘Š
gravity-ctl task progress --name "user_order_sync" --export progress_report.json
```

**è¿›åº¦è¶‹åŠ¿å›¾ï¼ˆASCIIï¼‰**ï¼š
```
è¿‡åŽ»24å°æ—¶åŒæ­¥è¿›åº¦å˜åŒ–ï¼š

è¿›åº¦ %
100 â”‚                                          
 90 â”‚                                    â—â—â—â—â—â—
 80 â”‚                              â—â—â—â—â—â—      
 70 â”‚                        â—â—â—â—â—â—            
 60 â”‚                  â—â—â—â—â—â—                  
 50 â”‚            â—â—â—â—â—â—                        
 40 â”‚      â—â—â—â—â—â—                              
 30 â”‚â—â—â—â—â—â—                                    
 20 â”‚                                          
 10 â”‚                                          
  0 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    0   4   8   12  16  20  24 å°æ—¶
```

### 5.4 è¿›åº¦é¢„ä¼°åŠŸèƒ½


**å®Œæˆæ—¶é—´é¢„ä¼°**ï¼š
```bash
# é¢„ä¼°å®Œæˆæ—¶é—´
gravity-ctl task estimate --name "user_order_sync"

# åŸºäºŽåŽ†å²æ•°æ®é¢„ä¼°
gravity-ctl task estimate --name "user_order_sync" --based-on-history

# è€ƒè™‘ä¸šåŠ¡é«˜å³°é¢„ä¼°
gravity-ctl task estimate --name "user_order_sync" --consider-peak-hours
```

**é¢„ä¼°ç»“æžœå±•ç¤º**ï¼š
```
åŒæ­¥å®Œæˆæ—¶é—´é¢„ä¼°ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ é¢„ä¼°æ–¹å¼         â”‚ é¢„è®¡å®Œæˆæ—¶é—´                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å½“å‰é€ŸçŽ‡é¢„ä¼°     â”‚ 2024-01-15 14:30:00 (è¿˜éœ€2å°æ—¶)      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å¹³å‡é€ŸçŽ‡é¢„ä¼°     â”‚ 2024-01-15 15:45:00 (è¿˜éœ€3å°æ—¶15åˆ†)   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ä¿å®ˆé¢„ä¼°         â”‚ 2024-01-15 18:00:00 (è¿˜éœ€5å°æ—¶30åˆ†)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ðŸ“Š é¢„ä¼°è¯´æ˜Žï¼š
â€¢ å½“å‰é€ŸçŽ‡ï¼šåŸºäºŽæœ€è¿‘1å°æ—¶çš„åŒæ­¥é€Ÿåº¦
â€¢ å¹³å‡é€ŸçŽ‡ï¼šåŸºäºŽä»»åŠ¡å¯åŠ¨ä»¥æ¥çš„å¹³å‡é€Ÿåº¦  
â€¢ ä¿å®ˆé¢„ä¼°ï¼šè€ƒè™‘ä¸šåŠ¡é«˜å³°å’Œå¯èƒ½çš„æ€§èƒ½ä¸‹é™
```

---

## 6. âš ï¸ ä»»åŠ¡å¼‚å¸¸å¤„ç†


### 6.1 å¸¸è§å¼‚å¸¸ç±»åž‹


**è¿žæŽ¥å¼‚å¸¸å¤„ç†**ï¼š

```
å¼‚å¸¸ç±»åž‹ï¼šæ•°æ®åº“è¿žæŽ¥å¤±è´¥
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å¯èƒ½åŽŸå› ï¼š                               â”‚
â”‚ â€¢ ç½‘ç»œè¿žæŽ¥ä¸­æ–­                          â”‚
â”‚ â€¢ æ•°æ®åº“æœåŠ¡åœæ­¢                        â”‚  
â”‚ â€¢ ç”¨æˆ·æƒé™ä¸è¶³                          â”‚
â”‚ â€¢ è¿žæŽ¥æ•°è¾¾åˆ°ä¸Šé™                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

å¤„ç†æ­¥éª¤ï¼š
1. æ£€æŸ¥ç½‘ç»œè¿žé€šæ€§
2. éªŒè¯æ•°æ®åº“æœåŠ¡çŠ¶æ€
3. ç¡®è®¤ç”¨æˆ·æƒé™é…ç½®
4. æ£€æŸ¥è¿žæŽ¥æ•°é™åˆ¶
```

**æ•°æ®å¼‚å¸¸å¤„ç†**ï¼š

```
å¼‚å¸¸ç±»åž‹ï¼šæ•°æ®åŒæ­¥é”™è¯¯
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å¯èƒ½åŽŸå› ï¼š                               â”‚
â”‚ â€¢ ä¸»é”®å†²çª                              â”‚
â”‚ â€¢ æ•°æ®ç±»åž‹ä¸åŒ¹é…                        â”‚
â”‚ â€¢ å­—æ®µé•¿åº¦è¶…é™                          â”‚
â”‚ â€¢ å¤–é”®çº¦æŸè¿å                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

å¤„ç†ç­–ç•¥ï¼š
1. è·³è¿‡é”™è¯¯è®°å½•ç»§ç»­åŒæ­¥
2. ä¿®æ­£æ•°æ®åŽé‡æ–°åŒæ­¥
3. è°ƒæ•´ç›®æ ‡åº“ç»“æž„
4. ä¿®æ”¹åŒæ­¥è§„åˆ™
```

### 6.2 å¼‚å¸¸ç›‘æŽ§ä¸Žå‘Šè­¦


**å¼‚å¸¸ç›‘æŽ§é…ç½®**ï¼š
```yaml
# å¼‚å¸¸ç›‘æŽ§è§„åˆ™
monitoring:
  error_threshold:
    connection_error: 3        # è¿žæŽ¥é”™è¯¯é˜ˆå€¼
    sync_error_rate: 0.05     # åŒæ­¥é”™è¯¯çŽ‡é˜ˆå€¼(5%)
    lag_threshold: "300s"     # å»¶è¿Ÿå‘Šè­¦é˜ˆå€¼
    
  alert_channels:
    - type: "email"
      recipients: ["admin@company.com"]
    - type: "slack" 
      webhook: "https://hooks.slack.com/xxx"
    - type: "sms"
      phones: ["+86138xxxx"]
```

**å‘Šè­¦æ¶ˆæ¯ç¤ºä¾‹**ï¼š
```
ðŸš¨ GravityåŒæ­¥ä»»åŠ¡å‘Šè­¦

ä»»åŠ¡åç§°ï¼šuser_order_sync
å‘Šè­¦ç±»åž‹ï¼šåŒæ­¥å»¶è¿Ÿè¿‡é«˜
å‘Šè­¦çº§åˆ«ï¼šè­¦å‘Š

è¯¦ç»†ä¿¡æ¯ï¼š
â€¢ å½“å‰å»¶è¿Ÿï¼š5åˆ†30ç§’
â€¢ å‘Šè­¦é˜ˆå€¼ï¼š5åˆ†é’Ÿ
â€¢ å‘ç”Ÿæ—¶é—´ï¼š2024-01-15 14:25:00
â€¢ å½±å“èŒƒå›´ï¼šè®¢å•æ•°æ®åŒæ­¥

å»ºè®®æ“ä½œï¼š
1. æ£€æŸ¥ç›®æ ‡åº“æ€§èƒ½
2. æŸ¥çœ‹ç½‘ç»œå»¶è¿Ÿæƒ…å†µ
3. è€ƒè™‘ä¸´æ—¶æš‚åœéžå…³é”®åŒæ­¥ä»»åŠ¡
```

### 6.3 æ•…éšœæ¢å¤æœºåˆ¶


**è‡ªåŠ¨æ¢å¤ç­–ç•¥**ï¼š
```bash
# é…ç½®è‡ªåŠ¨æ¢å¤è§„åˆ™
gravity-ctl task config --name "user_order_sync" --recovery-policy '{
  "auto_recovery": true,
  "max_retries": 5,
  "retry_interval": "30s",
  "recovery_actions": [
    "reconnect",
    "restart_from_last_position", 
    "skip_error_record"
  ]
}'
```

**æ‰‹åŠ¨æ¢å¤æ“ä½œ**ï¼š
```bash
# æŸ¥çœ‹é”™è¯¯è¯¦æƒ…
gravity-ctl task errors --name "user_order_sync"

# è·³è¿‡é”™è¯¯è®°å½•ç»§ç»­åŒæ­¥
gravity-ctl task skip-error --name "user_order_sync" --error-id "err_001"

# ä»ŽæŒ‡å®šä½ç½®æ¢å¤
gravity-ctl task recover --name "user_order_sync" --from-position "mysql-bin.000156:8945672"

# é‡ç½®ä»»åŠ¡çŠ¶æ€
gravity-ctl task reset --name "user_order_sync" --confirm
```

### 6.4 é”™è¯¯æ—¥å¿—åˆ†æž


**æ—¥å¿—æŸ¥çœ‹å‘½ä»¤**ï¼š
```bash
# æŸ¥çœ‹æœ€è¿‘çš„é”™è¯¯æ—¥å¿—
gravity-ctl logs --name "user_order_sync" --level error --tail 100

# æŸ¥çœ‹ç‰¹å®šæ—¶é—´æ®µçš„æ—¥å¿—
gravity-ctl logs --name "user_order_sync" --since "2024-01-15 10:00:00" --until "2024-01-15 12:00:00"

# æœç´¢ç‰¹å®šé”™è¯¯
gravity-ctl logs --name "user_order_sync" --grep "connection timeout"
```

**é”™è¯¯æ—¥å¿—ç¤ºä¾‹**ï¼š
```
[2024-01-15 14:25:30] ERROR user_order_sync: 
è¿žæŽ¥å¼‚å¸¸ - æ— æ³•è¿žæŽ¥åˆ°ç›®æ ‡æ•°æ®åº“
è¯¦ç»†ä¿¡æ¯ï¼š
  é”™è¯¯ä»£ç : 2003
  é”™è¯¯æ¶ˆæ¯: Can't connect to MySQL server on '192.168.1.200'
  é‡è¯•æ¬¡æ•°: 3/5
  ä¸‹æ¬¡é‡è¯•: 2024-01-15 14:26:00
  
[2024-01-15 14:30:15] WARN user_order_sync:
åŒæ­¥å»¶è¿Ÿå‘Šè­¦ - å½“å‰å»¶è¿Ÿè¶…è¿‡é˜ˆå€¼
è¯¦ç»†ä¿¡æ¯ï¼š
  å½“å‰å»¶è¿Ÿ: 5åˆ†30ç§’
  å‘Šè­¦é˜ˆå€¼: 5åˆ†é’Ÿ  
  å¾…åŒæ­¥è®°å½•: 1,234æ¡
  å»ºè®®æ“ä½œ: æ£€æŸ¥ç›®æ ‡åº“æ€§èƒ½
```

---

## 7. ðŸ”§ ä»»åŠ¡é…ç½®ç®¡ç†


### 7.1 é…ç½®æŸ¥çœ‹ä¸Žä¿®æ”¹


**æŸ¥çœ‹ä»»åŠ¡é…ç½®**ï¼š
```bash
# æŸ¥çœ‹å®Œæ•´é…ç½®
gravity-ctl task config --name "user_order_sync" --show

# æŸ¥çœ‹ç‰¹å®šé…ç½®é¡¹
gravity-ctl task config --name "user_order_sync" --get source.host

# å¯¼å‡ºé…ç½®æ–‡ä»¶
gravity-ctl task config --name "user_order_sync" --export config.yaml
```

**åœ¨çº¿ä¿®æ”¹é…ç½®**ï¼š
```bash
# ä¿®æ”¹å•ä¸ªé…ç½®é¡¹
gravity-ctl task config --name "user_order_sync" --set "sync_rules.batch_size=1000"

# ä¿®æ”¹æ•°æ®åº“å¯†ç 
gravity-ctl task config --name "user_order_sync" --set "target.password=new_password"

# æ·»åŠ æ–°çš„åŒæ­¥è¡¨
gravity-ctl task config --name "user_order_sync" --add "sync_rules.include_tables=new_table"
```

### 7.2 é…ç½®çƒ­æ›´æ–°


**æ”¯æŒçƒ­æ›´æ–°çš„é…ç½®é¡¹**ï¼š

| é…ç½®ç±»åž‹ | çƒ­æ›´æ–°æ”¯æŒ | è¯´æ˜Ž |
|----------|------------|------|
| **åŒæ­¥è§„åˆ™** | âœ… æ”¯æŒ | æ–°å¢žè¡¨ã€ä¿®æ”¹è¿‡æ»¤æ¡ä»¶ |
| **æ€§èƒ½å‚æ•°** | âœ… æ”¯æŒ | æ‰¹é‡å¤§å°ã€å¹¶å‘æ•°ç­‰ |
| **ç›‘æŽ§é…ç½®** | âœ… æ”¯æŒ | å‘Šè­¦é˜ˆå€¼ã€æ—¥å¿—çº§åˆ« |
| **è¿žæŽ¥é…ç½®** | âŒ éœ€é‡å¯ | æ•°æ®åº“åœ°å€ã€ç”¨æˆ·åç­‰ |
| **å®‰å…¨é…ç½®** | âŒ éœ€é‡å¯ | å¯†ç ã€è¯ä¹¦ç­‰ |

**çƒ­æ›´æ–°æ“ä½œç¤ºä¾‹**ï¼š
```bash
# çƒ­æ›´æ–°åŒæ­¥æ‰¹é‡å¤§å°
gravity-ctl task config --name "user_order_sync" --set "performance.batch_size=2000" --hot-reload

# çƒ­æ›´æ–°æ·»åŠ æ–°è¡¨
gravity-ctl task config --name "user_order_sync" --add "sync_rules.include_tables=payment_info" --hot-reload

# éªŒè¯çƒ­æ›´æ–°ç»“æžœ
gravity-ctl task config --name "user_order_sync" --validate
```

### 7.3 é…ç½®ç‰ˆæœ¬ç®¡ç†


**é…ç½®å¤‡ä»½åŠŸèƒ½**ï¼š
```bash
# è‡ªåŠ¨å¤‡ä»½å½“å‰é…ç½®
gravity-ctl task config --name "user_order_sync" --backup "ä¿®æ”¹åŒæ­¥è§„åˆ™å‰çš„å¤‡ä»½"

# æŸ¥çœ‹é…ç½®åŽ†å²ç‰ˆæœ¬
gravity-ctl task config --name "user_order_sync" --history

# å›žæ»šåˆ°æŒ‡å®šç‰ˆæœ¬
gravity-ctl task config --name "user_order_sync" --rollback "version_20240115_143000"
```

**é…ç½®ç‰ˆæœ¬å¯¹æ¯”**ï¼š
```bash
# å¯¹æ¯”ä¸¤ä¸ªç‰ˆæœ¬çš„é…ç½®å·®å¼‚
gravity-ctl task config --name "user_order_sync" --diff version1 version2

# æŸ¥çœ‹é…ç½®å˜æ›´è®°å½•
gravity-ctl task config --name "user_order_sync" --changelog
```

### 7.4 é…ç½®æ¨¡æ¿ç®¡ç†


**åˆ›å»ºé…ç½®æ¨¡æ¿**ï¼š
```bash
# åŸºäºŽçŽ°æœ‰ä»»åŠ¡åˆ›å»ºæ¨¡æ¿
gravity-ctl template create --from-task "user_order_sync" --name "standard_sync_template"

# åŸºäºŽé…ç½®æ–‡ä»¶åˆ›å»ºæ¨¡æ¿
gravity-ctl template create --from-file "config.yaml" --name "custom_template"
```

**ä½¿ç”¨æ¨¡æ¿åˆ›å»ºä»»åŠ¡**ï¼š
```bash
# åŸºäºŽæ¨¡æ¿åˆ›å»ºæ–°ä»»åŠ¡
gravity-ctl task create --from-template "standard_sync_template" --name "new_sync_task" --override '{
  "source.database": "new_source_db",
  "target.database": "new_target_db"
}'
```

---

## 8. ðŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 8.1 å¿…é¡»æŽŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ðŸ”¸ ä»»åŠ¡ç®¡ç†æœ¬è´¨ï¼šGravityåŒæ­¥ä»»åŠ¡æ˜¯æ•°æ®ä¼ è¾“çš„åŸºæœ¬å·¥ä½œå•å…ƒ
ðŸ”¸ ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼šåˆ›å»ºâ†’å¯åŠ¨â†’è¿è¡Œâ†’ç›‘æŽ§â†’åœæ­¢â†’åˆ é™¤çš„å®Œæ•´æµç¨‹
ðŸ”¸ çŠ¶æ€ç›‘æŽ§é‡è¦æ€§ï¼šå®žæ—¶äº†è§£ä»»åŠ¡å¥åº·çŠ¶å†µï¼ŒåŠæ—¶å‘çŽ°å’Œå¤„ç†é—®é¢˜
ðŸ”¸ è¿›åº¦æŸ¥è¯¢ä»·å€¼ï¼šå‡†ç¡®è¯„ä¼°åŒæ­¥è¿›å±•ï¼Œåˆç†å®‰æŽ’ä¸šåŠ¡è®¡åˆ’
ðŸ”¸ å¼‚å¸¸å¤„ç†ç­–ç•¥ï¼šé¢„é˜²ä¸ºä¸»ï¼Œå¿«é€Ÿå“åº”ï¼Œè‡ªåŠ¨æ¢å¤
ðŸ”¸ é…ç½®ç®¡ç†çµæ´»æ€§ï¼šæ”¯æŒçƒ­æ›´æ–°ï¼Œç‰ˆæœ¬æŽ§åˆ¶ï¼Œæ¨¡æ¿å¤ç”¨
```

### 8.2 å…³é”®æ“ä½œè¦ç‚¹


**ðŸ”¹ ä»»åŠ¡åˆ›å»ºæœ€ä½³å®žè·µ**ï¼š
```
é…ç½®å‡†å¤‡ï¼š
â€¢ ç¡®ä¿æ•°æ®åº“ç”¨æˆ·æœ‰è¶³å¤Ÿæƒé™
â€¢ æµ‹è¯•ç½‘ç»œè¿žæŽ¥ç¨³å®šæ€§
â€¢ è§„åˆ’åˆç†çš„åŒæ­¥ç­–ç•¥
â€¢ é¢„ä¼°èµ„æºéœ€æ±‚

æ“ä½œå»ºè®®ï¼š
â€¢ å…ˆå°èŒƒå›´æµ‹è¯•å†å…¨é‡åŒæ­¥
â€¢ è®¾ç½®åˆç†çš„æ‰¹é‡å¤§å°
â€¢ é…ç½®é€‚å½“çš„é”™è¯¯å¤„ç†ç­–ç•¥
â€¢ å»ºç«‹ç›‘æŽ§å’Œå‘Šè­¦æœºåˆ¶
```

**ðŸ”¹ æ—¥å¸¸è¿ç»´è¦ç‚¹**ï¼š
```
ç›‘æŽ§å…³æ³¨ï¼š
â€¢ åŒæ­¥çŠ¶æ€æ˜¯å¦æ­£å¸¸
â€¢ åŒæ­¥å»¶è¿Ÿæ˜¯å¦åœ¨å¯æŽ¥å—èŒƒå›´
â€¢ é”™è¯¯çŽ‡æ˜¯å¦è¶…è¿‡é˜ˆå€¼
â€¢ èµ„æºä½¿ç”¨æ˜¯å¦åˆç†

ç»´æŠ¤æ“ä½œï¼š
â€¢ å®šæœŸæ£€æŸ¥ä»»åŠ¡é…ç½®
â€¢ åŠæ—¶å¤„ç†å¼‚å¸¸å‘Šè­¦
â€¢ å®šæœŸå¤‡ä»½é…ç½®æ–‡ä»¶
â€¢ å…³æ³¨æ€§èƒ½è¶‹åŠ¿å˜åŒ–
```

### 8.3 å®žé™…åº”ç”¨ä»·å€¼


**ðŸ“Š ä¸šåŠ¡åœºæ™¯åº”ç”¨**ï¼š
- **æ•°æ®ä»“åº“å»ºè®¾**ï¼šå®žæ—¶åŒæ­¥ä¸šåŠ¡æ•°æ®åˆ°åˆ†æžç³»ç»Ÿ
- **ç³»ç»Ÿè¿ç§»å‡çº§**ï¼šå¹³æ»‘è¿ç§»æ•°æ®åˆ°æ–°ç³»ç»Ÿ
- **å¼‚åœ°å®¹ç¾å¤‡ä»½**ï¼šå®žæ—¶å¤‡ä»½å…³é”®ä¸šåŠ¡æ•°æ®
- **è¯»å†™åˆ†ç¦»æž¶æž„**ï¼šåŒæ­¥æ•°æ®åˆ°åªè¯»ä»Žåº“

**ðŸ”§ è¿ç»´ç®¡ç†ä»·å€¼**ï¼š
- **å¯è§†åŒ–ç®¡ç†**ï¼šç›´è§‚äº†è§£æ‰€æœ‰åŒæ­¥ä»»åŠ¡çŠ¶æ€
- **è‡ªåŠ¨åŒ–è¿ç»´**ï¼šå‡å°‘äººå·¥å¹²é¢„ï¼Œæé«˜å¯é æ€§
- **é—®é¢˜å¿«é€Ÿå®šä½**ï¼šä¸°å¯Œçš„ç›‘æŽ§å’Œæ—¥å¿—ä¿¡æ¯
- **çµæ´»é…ç½®è°ƒæ•´**ï¼šæ”¯æŒåœ¨çº¿ä¿®æ”¹ï¼Œé€‚åº”ä¸šåŠ¡å˜åŒ–

**æ ¸å¿ƒè®°å¿†è¦ç‚¹**ï¼š
- ä»»åŠ¡ç®¡ç†æ˜¯Gravityçš„æ ¸å¿ƒåŠŸèƒ½ï¼ŒæŽŒæ¡ç”Ÿå‘½å‘¨æœŸæ“ä½œæ˜¯åŸºç¡€
- ç›‘æŽ§å’Œè¿›åº¦æŸ¥è¯¢å¸®åŠ©åŠæ—¶å‘çŽ°é—®é¢˜ï¼Œä¿éšœæ•°æ®åŒæ­¥è´¨é‡
- å¼‚å¸¸å¤„ç†æœºåˆ¶ç¡®ä¿ç³»ç»Ÿç¨³å®šæ€§ï¼Œé…ç½®ç®¡ç†æä¾›æ“ä½œçµæ´»æ€§
- åˆç†ä½¿ç”¨å„ç§åŠŸèƒ½ï¼Œèƒ½å¤Ÿå¤§å¤§æé«˜æ•°æ®åŒæ­¥çš„æ•ˆçŽ‡å’Œå¯é æ€§