---
title: 30ã€æ—¥å¿—åˆ†æè‡ªåŠ¨åŒ–å·¥å…·
---
## ğŸ“š ç›®å½•

1. [æ—¥å¿—åˆ†æè‡ªåŠ¨åŒ–æ¦‚è¿°](#1-æ—¥å¿—åˆ†æè‡ªåŠ¨åŒ–æ¦‚è¿°)
2. [æ—¥å¿—æ”¶é›†Agenté…ç½®](#2-æ—¥å¿—æ”¶é›†Agenté…ç½®)
3. [ELK Stackæ—¥å¿—åˆ†æ](#3-ELK-Stackæ—¥å¿—åˆ†æ)
4. [Fluentdæ—¥å¿—æ”¶é›†](#4-Fluentdæ—¥å¿—æ”¶é›†)
5. [æ—¥å¿—è§£æè§„åˆ™é…ç½®](#5-æ—¥å¿—è§£æè§„åˆ™é…ç½®)
6. [å®æ—¶æµå¤„ç†åˆ†æ](#6-å®æ—¶æµå¤„ç†åˆ†æ)
7. [æ—¥å¿—æ•°æ®å¯è§†åŒ–](#7-æ—¥å¿—æ•°æ®å¯è§†åŒ–)
8. [å¼‚å¸¸æ¨¡å¼è¯†åˆ«](#8-å¼‚å¸¸æ¨¡å¼è¯†åˆ«)
9. [è‡ªåŠ¨åŒ–æŠ¥å‘Šç”Ÿæˆ](#9-è‡ªåŠ¨åŒ–æŠ¥å‘Šç”Ÿæˆ)
10. [æ—¥å¿—å½’æ¡£ç­–ç•¥](#10-æ—¥å¿—å½’æ¡£ç­–ç•¥)
11. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#11-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ¯ æ—¥å¿—åˆ†æè‡ªåŠ¨åŒ–æ¦‚è¿°


### 1.1 ä»€ä¹ˆæ˜¯æ—¥å¿—åˆ†æè‡ªåŠ¨åŒ–


**ç®€å•ç†è§£**ï¼šå°±åƒå·¥å‚é‡Œçš„è‡ªåŠ¨åŒ–ç”Ÿäº§çº¿ä¸€æ ·ï¼ŒæŠŠåŸæœ¬éœ€è¦äººå·¥å¤„ç†çš„æ—¥å¿—åˆ†æå·¥ä½œï¼Œäº¤ç»™æœºå™¨è‡ªåŠ¨å®Œæˆã€‚

```
ä¼ ç»Ÿäººå·¥æ–¹å¼ï¼š
DBAæ‰‹åŠ¨æŸ¥çœ‹æ—¥å¿— â†’ æ‰‹åŠ¨åˆ†æé—®é¢˜ â†’ æ‰‹åŠ¨ç”ŸæˆæŠ¥å‘Š
                 â†“
è€—æ—¶è´¹åŠ›ï¼Œå®¹æ˜“é—æ¼ï¼Œæ— æ³•å®æ—¶ç›‘æ§

è‡ªåŠ¨åŒ–æ–¹å¼ï¼š
ç³»ç»Ÿè‡ªåŠ¨æ”¶é›† â†’ è‡ªåŠ¨åˆ†æ â†’ è‡ªåŠ¨å‘Šè­¦ â†’ è‡ªåŠ¨ç”ŸæˆæŠ¥å‘Š
                 â†“
7Ã—24å°æ—¶ç›‘æ§ï¼Œç§’çº§å“åº”ï¼Œé›¶é—æ¼
```

**ğŸ“ æ ¸å¿ƒä»·å€¼**ï¼š
- **ğŸ”¸ å®æ—¶æ€§**ï¼šé—®é¢˜å‘ç”Ÿç«‹å³å‘ç°ï¼Œä¸ç”¨ç­‰åˆ°ç¬¬äºŒå¤©æŸ¥çœ‹
- **ğŸ”¸ å‡†ç¡®æ€§**ï¼šæœºå™¨ä¸ä¼šç–²åŠ³ï¼Œä¸ä¼šæ¼æ‰ä»»ä½•å¼‚å¸¸
- **ğŸ”¸ æ•ˆç‡æ€§**ï¼šä¸€å¥—ç³»ç»Ÿç›‘æ§æˆç™¾ä¸Šåƒä¸ªæ•°æ®åº“
- **ğŸ”¸ å¯è§†æ€§**ï¼šå¤æ‚æ•°æ®å˜æˆç›´è§‚å›¾è¡¨

### 1.2 è‡ªåŠ¨åŒ–è§£å†³çš„æ ¸å¿ƒé—®é¢˜


**ğŸ’¼ å®é™…ä¸šåŠ¡åœºæ™¯**ï¼š
```
ç”µå•†ç½‘ç«™åœºæ™¯ï¼š
åŒ11æœŸé—´ï¼Œæ•°æ®åº“æŸ¥è¯¢é‡æš´å¢10å€
â†’ æ…¢æŸ¥è¯¢æ•°é‡æ€¥å‰§ä¸Šå‡
â†’ ä¼ ç»Ÿæ–¹å¼ï¼šDBAåŠ ç­é€šå®µåˆ†ææ—¥å¿—
â†’ è‡ªåŠ¨åŒ–æ–¹å¼ï¼šç³»ç»Ÿè‡ªåŠ¨è¯†åˆ«å¼‚å¸¸ï¼Œ5åˆ†é’Ÿå†…å®šä½é—®é¢˜

é“¶è¡Œç³»ç»Ÿåœºæ™¯ï¼š
æŸä¸ªå¤æ‚æŸ¥è¯¢çªç„¶å˜æ…¢
â†’ å½±å“å®¢æˆ·è½¬è´¦ä¸šåŠ¡
â†’ ä¼ ç»Ÿæ–¹å¼ï¼šç”¨æˆ·æŠ•è¯‰åæ‰å‘ç°é—®é¢˜
â†’ è‡ªåŠ¨åŒ–æ–¹å¼ï¼šæŸ¥è¯¢å“åº”æ—¶é—´è¶…é˜ˆå€¼ç«‹å³å‘Šè­¦
```

**ğŸ¯ è§£å†³çš„æ ¸å¿ƒç—›ç‚¹**ï¼š
- **äººå·¥åˆ†ææ…¢**ï¼šå‡ GBçš„æ—¥å¿—æ–‡ä»¶ï¼Œäººå·¥åˆ†æéœ€è¦å‡ å°æ—¶
- **é—®é¢˜å‘ç°æ™š**ï¼šå¾€å¾€æ˜¯ç”¨æˆ·æŠ•è¯‰åæ‰çŸ¥é“æœ‰é—®é¢˜
- **åˆ†æä¸å…¨é¢**ï¼šäººå·¥å®¹æ˜“å¿½ç•¥ä¸€äº›æ½œåœ¨é—®é¢˜
- **æŠ¥å‘Šä¸åŠæ—¶**ï¼šå‘¨æŠ¥ã€æœˆæŠ¥åˆ¶ä½œè€—æ—¶ä¸”æ ¼å¼ä¸ç»Ÿä¸€

---

## 2. ğŸ“¡ æ—¥å¿—æ”¶é›†Agenté…ç½®


### 2.1 ä»€ä¹ˆæ˜¯æ—¥å¿—æ”¶é›†Agent


**é€šä¿—è§£é‡Š**ï¼šAgentå°±åƒä¸€ä¸ª"æ•°æ®å¿«é€’å‘˜"ï¼Œä¸“é—¨è´Ÿè´£æŠŠMySQLäº§ç”Ÿçš„æ—¥å¿—æ–‡ä»¶"æ‰“åŒ…"é€åˆ°åˆ†æç³»ç»Ÿã€‚

```
æ•°æ®åº“æœåŠ¡å™¨               æ—¥å¿—åˆ†æç³»ç»Ÿ
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚MySQL    â”‚              â”‚ELK      â”‚
     â”‚æ…¢æŸ¥è¯¢æ—¥å¿—â”‚ â†â”€â”€ Agent â”€â”€â†’ â”‚åˆ†æå¹³å°  â”‚
     â”‚é”™è¯¯æ—¥å¿—  â”‚              â”‚         â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 å¸¸ç”¨Agenté€‰æ‹©å¯¹æ¯”


| **Agentç±»å‹** | **é€‚ç”¨åœºæ™¯** | **ä¼˜åŠ¿** | **åŠ£åŠ¿** |
|--------------|-------------|----------|----------|
| ğŸ”¸ **Filebeat** | `å°ä¸­å‹é¡¹ç›®` | è½»é‡çº§ï¼Œé…ç½®ç®€å• | åŠŸèƒ½ç›¸å¯¹ç®€å• |
| ğŸ”¸ **Fluentd** | `ä¼ä¸šçº§é¡¹ç›®` | åŠŸèƒ½å¼ºå¤§ï¼Œæ’ä»¶ä¸°å¯Œ | é…ç½®ç›¸å¯¹å¤æ‚ |
| ğŸ”¸ **Logstash** | `é‡åº¦å¤„ç†éœ€æ±‚` | æ•°æ®å¤„ç†èƒ½åŠ›å¼º | èµ„æºæ¶ˆè€—å¤§ |

### 2.3 Filebeaté…ç½®å®æˆ˜


**ğŸ”§ åŸºç¡€é…ç½®ç¤ºä¾‹**ï¼š
```yaml
# filebeat.yml - æœ€ç®€å•å®ç”¨çš„é…ç½®
filebeat.inputs:
- type: log
  enabled: true
  paths:
    - /var/log/mysql/mysql-slow.log  # æ…¢æŸ¥è¯¢æ—¥å¿—è·¯å¾„
  fields:
    log_type: mysql_slow
    server_name: web-db-01

- type: log
  enabled: true  
  paths:
    - /var/log/mysql/error.log       # é”™è¯¯æ—¥å¿—è·¯å¾„
  fields:
    log_type: mysql_error
    server_name: web-db-01

# è¾“å‡ºåˆ°Elasticsearch
output.elasticsearch:
  hosts: ["192.168.1.100:9200"]
  index: "mysql-logs-%{+yyyy.MM.dd}"

# æ—¥å¿—æ ¼å¼é…ç½®
processors:
- add_host_metadata: ~
```

**ğŸ’¡ é…ç½®è¦ç‚¹è§£é‡Š**ï¼š
- **paths**ï¼šå‘Šè¯‰Filebeatå»å“ªé‡Œæ‰¾æ—¥å¿—æ–‡ä»¶
- **fields**ï¼šç»™æ—¥å¿—æ‰“ä¸Šæ ‡ç­¾ï¼Œæ–¹ä¾¿åç»­åˆ†æ
- **index**ï¼šå†³å®šæ•°æ®å­˜å‚¨åœ¨Elasticsearchçš„å“ªä¸ªç´¢å¼•ä¸­
- **processors**ï¼šå¯¹æ—¥å¿—è¿›è¡Œé¢„å¤„ç†

**ğŸš€ å¯åŠ¨å’ŒéªŒè¯**ï¼š
```bash
# å¯åŠ¨Filebeat
sudo systemctl start filebeat

# æ£€æŸ¥æ˜¯å¦æ­£å¸¸è¿è¡Œ
sudo systemctl status filebeat

# æŸ¥çœ‹æ—¥å¿—è¾“å‡º
tail -f /var/log/filebeat/filebeat
```

---

## 3. ğŸ” ELK Stackæ—¥å¿—åˆ†æ


### 3.1 ELK Stackæ˜¯ä»€ä¹ˆ


**é€šä¿—ç†è§£**ï¼šELKå°±åƒä¸€ä¸ªå®Œæ•´çš„"æ—¥å¿—å¤„ç†å·¥å‚"ï¼Œæœ‰ä¸‰ä¸ªä¸»è¦è½¦é—´ï¼š

```
E - Elasticsearchï¼šæ•°æ®ä»“åº“
    â””â”€â”€ è´Ÿè´£å­˜å‚¨å’Œå¿«é€Ÿæœç´¢æ—¥å¿—æ•°æ®

L - Logstashï¼šæ•°æ®åŠ å·¥è½¦é—´  
    â””â”€â”€ è´Ÿè´£æ¸…æ´—ã€è½¬æ¢ã€è§£ææ—¥å¿—

K - Kibanaï¼šæ•°æ®å±•ç¤ºå…
    â””â”€â”€ è´Ÿè´£æŠŠæ•°æ®å˜æˆæ¼‚äº®çš„å›¾è¡¨å’ŒæŠ¥å‘Š
```

### 3.2 Elasticsearché…ç½®


**ğŸ”§ æ ¸å¿ƒé…ç½®**ï¼š
```yaml
# elasticsearch.yml
cluster.name: mysql-log-cluster
node.name: log-node-1
path.data: /var/lib/elasticsearch
path.logs: /var/log/elasticsearch
network.host: 0.0.0.0
http.port: 9200

# ç´¢å¼•æ¨¡æ¿é…ç½® - ä¼˜åŒ–MySQLæ—¥å¿—å­˜å‚¨
PUT _template/mysql-logs
{
  "index_patterns": ["mysql-logs-*"],
  "settings": {
    "number_of_shards": 3,
    "number_of_replicas": 1,
    "index.refresh_interval": "5s"
  },
  "mappings": {
    "properties": {
      "query_time": {"type": "float"},
      "lock_time": {"type": "float"},
      "rows_examined": {"type": "long"},
      "rows_sent": {"type": "long"},
      "timestamp": {"type": "date"}
    }
  }
}
```

### 3.3 Logstashæ—¥å¿—è§£æé…ç½®


**ğŸ”§ æ…¢æŸ¥è¯¢æ—¥å¿—è§£æ**ï¼š
```ruby
# logstash.conf
input {
  beats {
    port => 5044
  }
}

filter {
  if [fields][log_type] == "mysql_slow" {
    # è§£æMySQLæ…¢æŸ¥è¯¢æ—¥å¿—æ ¼å¼
    grok {
      match => { 
        "message" => "# Time: %{TIMESTAMP_ISO8601:query_timestamp}.*Query_time: %{NUMBER:query_time}.*Lock_time: %{NUMBER:lock_time}.*Rows_sent: %{NUMBER:rows_sent}.*Rows_examined: %{NUMBER:rows_examined}"
      }
    }
    
    # æå–SQLè¯­å¥
    grok {
      match => {
        "message" => "(?m)^(?:SET timestamp=\d+;|#.*)*\s*(?<sql_statement>.*)"
      }
    }
    
    # æ•°æ®ç±»å‹è½¬æ¢
    mutate {
      convert => {
        "query_time" => "float"
        "lock_time" => "float"
        "rows_sent" => "integer"
        "rows_examined" => "integer"
      }
    }
  }
}

output {
  elasticsearch {
    hosts => ["localhost:9200"]
    index => "mysql-logs-%{+YYYY.MM.dd}"
  }
}
```

---

## 4. ğŸŒŠ Fluentdæ—¥å¿—æ”¶é›†


### 4.1 Fluentdæ ¸å¿ƒç‰¹ç‚¹


**ç®€å•ç†è§£**ï¼šFluentdå°±åƒä¸€ä¸ª"æ™ºèƒ½å¿«é€’åˆ†æ‹£ä¸­å¿ƒ"ï¼Œèƒ½å¤Ÿï¼š
- **ç»Ÿä¸€æ”¶é›†**ï¼šä»å„ç§æ¥æºæ”¶é›†æ—¥å¿—ï¼ˆMySQLã€Apacheã€Nginxç­‰ï¼‰
- **æ™ºèƒ½è·¯ç”±**ï¼šæ ¹æ®æ—¥å¿—ç±»å‹å‘é€åˆ°ä¸åŒçš„å¤„ç†ç³»ç»Ÿ
- **æ ¼å¼ç»Ÿä¸€**ï¼šæŠŠä¸åŒæ ¼å¼çš„æ—¥å¿—è½¬æ¢æˆç»Ÿä¸€æ ¼å¼

### 4.2 Fluentdé…ç½®å®æˆ˜


**ğŸ”§ MySQLæ…¢æŸ¥è¯¢æ”¶é›†é…ç½®**ï¼š
```xml
# fluent.conf
<source>
  @type tail
  path /var/log/mysql/mysql-slow.log
  pos_file /var/log/fluentd/mysql-slow.log.pos
  tag mysql.slow
  format multiline
  format_firstline /^# Time:/
  format1 /^# Time: (?<time>[^\n]+)/
  format2 /^# User@Host: (?<user>[^\[]+)\[(?<user_name>[^\]]*)\] @ (?<host>[^\[]*)\[(?<ip>[^\]]*)\]/
  format3 /^# Query_time: (?<query_time>[^\s]+)\s+Lock_time: (?<lock_time>[^\s]+)\s+Rows_sent: (?<rows_sent>[^\s]+)\s+Rows_examined: (?<rows_examined>[^\n]+)/
  format4 /^(?<sql>.*)/m
</source>

# æ•°æ®æ¸…æ´—å’Œæ ¼å¼åŒ–
<filter mysql.slow>
  @type record_transformer
  <record>
    server_name "#{Socket.gethostname}"
    log_type "mysql_slow"
    query_time_f ${record["query_time"].to_f}
    rows_examined_i ${record["rows_examined"].to_i}
  </record>
</filter>

# è¾“å‡ºåˆ°Elasticsearch
<match mysql.slow>
  @type elasticsearch
  host localhost
  port 9200
  index_name mysql-slow-logs
  type_name _doc
  logstash_format true
  logstash_prefix mysql-slow
</match>
```

**ğŸ’¡ é…ç½®è§£é‡Š**ï¼š
- **multiline**ï¼šå¤„ç†è·¨å¤šè¡Œçš„æ—¥å¿—è®°å½•
- **format_firstline**ï¼šè¯†åˆ«æ–°è®°å½•çš„å¼€å§‹æ ‡å¿—
- **record_transformer**ï¼šå¯¹æ•°æ®è¿›è¡Œæ¸…æ´—å’Œæ·»åŠ å­—æ®µ

---

## 5. âš™ï¸ æ—¥å¿—è§£æè§„åˆ™é…ç½®


### 5.1 MySQLæ—¥å¿—æ ¼å¼ç†è§£


**ğŸ”¸ æ…¢æŸ¥è¯¢æ—¥å¿—æ ¼å¼ç¤ºä¾‹**ï¼š
```
# Time: 2024-01-15T10:30:45.123456Z
# User@Host: app_user[app_user] @ web-server[192.168.1.50]
# Query_time: 2.345678  Lock_time: 0.000123  Rows_sent: 1  Rows_examined: 10000
SET timestamp=1705315845;
SELECT * FROM orders WHERE customer_id = 12345 AND order_date > '2024-01-01';
```

**ğŸ¯ éœ€è¦æå–çš„å…³é”®ä¿¡æ¯**ï¼š
- **æ—¶é—´ä¿¡æ¯**ï¼šä»€ä¹ˆæ—¶å€™å‘ç”Ÿçš„
- **ç”¨æˆ·ä¿¡æ¯**ï¼šè°æ‰§è¡Œçš„æŸ¥è¯¢
- **æ€§èƒ½æŒ‡æ ‡**ï¼šæŸ¥è¯¢æ—¶é—´ã€é”ç­‰å¾…æ—¶é—´ã€æ‰«æè¡Œæ•°
- **SQLè¯­å¥**ï¼šå…·ä½“æ‰§è¡Œäº†ä»€ä¹ˆæŸ¥è¯¢

### 5.2 Grokæ¨¡å¼è¯¦è§£


**ğŸ“ åŸºç¡€Grokæ¨¡å¼**ï¼š
```ruby
# æ—¶é—´è§£æ
TIME_PATTERN = "# Time: %{TIMESTAMP_ISO8601:timestamp}"

# ç”¨æˆ·ä¿¡æ¯è§£æ
USER_PATTERN = "# User@Host: %{WORD:user}(?:\[%{WORD:user_name}?\])? @ %{WORD:host}(?:\[%{IP:client_ip}?\])?"

# æ€§èƒ½æŒ‡æ ‡è§£æ
METRICS_PATTERN = "# Query_time: %{NUMBER:query_time}\s+Lock_time: %{NUMBER:lock_time}\s+Rows_sent: %{NUMBER:rows_sent}\s+Rows_examined: %{NUMBER:rows_examined}"

# SQLè¯­å¥è§£æ
SQL_PATTERN = "(?<sql>(?:(?!^#).*\n?)*)"
```

**ğŸ”§ å®Œæ•´è§£æé…ç½®**ï¼š
```ruby
filter {
  if [fields][log_type] == "mysql_slow" {
    # å¤šè¡Œåˆå¹¶
    multiline {
      pattern => "^# Time:"
      negate => true
      what => "previous"
    }
    
    # åˆ†æ­¥è§£æ
    grok {
      match => { "message" => "%{TIME_PATTERN}" }
    }
    
    grok {
      match => { "message" => "%{USER_PATTERN}" }
    }
    
    grok {
      match => { "message" => "%{METRICS_PATTERN}" }
    }
    
    # æå–SQLè¯­å¥ï¼ˆæœ€å¤æ‚çš„éƒ¨åˆ†ï¼‰
    grok {
      match => { 
        "message" => "(?m)SET timestamp=\d+;\s*(?<sql_query>.*?)(?=\n#|\Z)"
      }
    }
  }
}
```

---

## 6. ğŸŒŠ å®æ—¶æµå¤„ç†åˆ†æ


### 6.1 å®æ—¶åˆ†æçš„é‡è¦æ€§


**ğŸ’¼ ä¸šåŠ¡åœºæ™¯å¯¹æ¯”**ï¼š
```
ä¼ ç»Ÿæ‰¹å¤„ç†æ–¹å¼ï¼š
æ…¢æŸ¥è¯¢å‘ç”Ÿ â†’ ç­‰å¾…1å°æ—¶ â†’ æ‰¹é‡å¤„ç† â†’ å‘ç°é—®é¢˜
é—®é¢˜å½±å“ï¼š1å°æ—¶å†…çš„æ‰€æœ‰ç”¨æˆ·éƒ½å—å½±å“

å®æ—¶æµå¤„ç†æ–¹å¼ï¼š
æ…¢æŸ¥è¯¢å‘ç”Ÿ â†’ 5ç§’å†…åˆ†æ â†’ ç«‹å³å‘Šè­¦ â†’ å¿«é€Ÿå“åº”
é—®é¢˜å½±å“ï¼šæœ€å¤šå½±å“å‡ ä¸ªç”¨æˆ·
```

### 6.2 Kafka + Stream Processingæ¶æ„


**ğŸ—ï¸ å®æ—¶å¤„ç†æ¶æ„**ï¼š
```
MySQLæ—¥å¿— â†’ Filebeat â†’ Kafka â†’ Streamå¤„ç† â†’ å®æ—¶å‘Šè­¦
                        â†“
                   æ•°æ®æŒä¹…åŒ– â†’ Elasticsearch â†’ Kibanaä»ªè¡¨æ¿
```

**ğŸ”§ Kafkaé…ç½®ç¤ºä¾‹**ï¼š
```properties
# server.properties
broker.id=1
listeners=PLAINTEXT://localhost:9092
log.dirs=/var/kafka-logs
num.network.threads=8
num.io.threads=16
socket.send.buffer.bytes=102400
socket.receive.buffer.bytes=102400
log.retention.hours=168
log.segment.bytes=1073741824
```

### 6.3 å®æ—¶è§„åˆ™å¼•æ“


**ğŸ”§ åŸºäºApache Stormçš„å®æ—¶åˆ†æ**ï¼š
```java
// å®æ—¶æ…¢æŸ¥è¯¢æ£€æµ‹Bolt
public class SlowQueryDetectionBolt extends BaseRichBolt {
    private static final double SLOW_THRESHOLD = 1.0; // 1ç§’é˜ˆå€¼
    
    @Override
    public void execute(Tuple tuple) {
        String logLine = tuple.getStringByField("log");
        
        // è§£ææŸ¥è¯¢æ—¶é—´
        double queryTime = parseQueryTime(logLine);
        String sqlQuery = parseSQLQuery(logLine);
        
        if (queryTime > SLOW_THRESHOLD) {
            // å‘é€å‘Šè­¦
            sendAlert(queryTime, sqlQuery);
            
            // è®°å½•åˆ°æ—¶åºæ•°æ®åº“
            recordMetric(queryTime, sqlQuery);
        }
        
        collector.ack(tuple);
    }
    
    private void sendAlert(double queryTime, String sql) {
        Alert alert = new Alert()
            .setType("SLOW_QUERY")
            .setMessage(String.format("æ…¢æŸ¥è¯¢å‘Šè­¦ï¼šæ‰§è¡Œæ—¶é—´%.2fç§’", queryTime))
            .setSqlQuery(sql)
            .setTimestamp(System.currentTimeMillis());
            
        alertService.send(alert);
    }
}
```

---

## 7. ğŸ“Š æ—¥å¿—æ•°æ®å¯è§†åŒ–


### 7.1 Kibanaä»ªè¡¨æ¿è®¾è®¡


**ğŸ¯ æ ¸å¿ƒç›‘æ§æŒ‡æ ‡**ï¼š
- **æŸ¥è¯¢æ€§èƒ½è¶‹åŠ¿**ï¼šæŸ¥è¯¢æ—¶é—´çš„å˜åŒ–è¶‹åŠ¿
- **æ…¢æŸ¥è¯¢TOPæ¦œ**ï¼šæœ€æ…¢çš„æŸ¥è¯¢æ’è¡Œ
- **æ•°æ®åº“è´Ÿè½½åˆ†æ**ï¼šä¸åŒæ—¶é—´æ®µçš„æŸ¥è¯¢åˆ†å¸ƒ
- **å¼‚å¸¸æ£€æµ‹å›¾è¡¨**ï¼šçªå‘çš„æ€§èƒ½é—®é¢˜

### 7.2 å…³é”®å¯è§†åŒ–å›¾è¡¨


**ğŸ“ˆ æŸ¥è¯¢æ€§èƒ½æ—¶é—´çº¿å›¾**ï¼š
```json
{
  "visualization": {
    "title": "MySQLæŸ¥è¯¢æ€§èƒ½è¶‹åŠ¿",
    "type": "line",
    "params": {
      "grid": {"categoryLines": false, "style": {"color": "#eee"}},
      "categoryAxes": [{
        "id": "CategoryAxis-1",
        "type": "category",
        "position": "bottom",
        "show": true,
        "style": {},
        "scale": {"type": "linear"},
        "labels": {"show": true, "truncate": 100},
        "title": {}
      }],
      "valueAxes": [{
        "id": "ValueAxis-1",
        "name": "LeftAxis-1",
        "type": "value",
        "position": "left",
        "show": true,
        "style": {},
        "scale": {"type": "linear", "mode": "normal"},
        "labels": {"show": true, "rotate": 0, "filter": false, "truncate": 100},
        "title": {"text": "æŸ¥è¯¢æ—¶é—´(ç§’)"}
      }]
    }
  }
}
```

**ğŸ† æ…¢æŸ¥è¯¢TOP10ç»Ÿè®¡**ï¼š
```json
{
  "aggs": {
    "top_slow_queries": {
      "terms": {
        "field": "sql_fingerprint.keyword",
        "size": 10,
        "order": {"avg_query_time": "desc"}
      },
      "aggs": {
        "avg_query_time": {
          "avg": {"field": "query_time"}
        },
        "query_count": {
          "value_count": {"field": "query_time"}
        }
      }
    }
  }
}
```

### 7.3 å®æ—¶å‘Šè­¦ä»ªè¡¨æ¿


**âš¡ å®æ—¶ç›‘æ§é…ç½®**ï¼š
```json
{
  "watcher": {
    "trigger": {
      "schedule": {"interval": "30s"}
    },
    "input": {
      "search": {
        "request": {
          "search_type": "query_then_fetch",
          "indices": ["mysql-logs-*"],
          "body": {
            "query": {
              "bool": {
                "must": [
                  {"range": {"@timestamp": {"gte": "now-1m"}}},
                  {"range": {"query_time": {"gte": 2.0}}}
                ]
              }
            }
          }
        }
      }
    },
    "condition": {
      "compare": {"ctx.payload.hits.total": {"gt": 5}}
    },
    "actions": {
      "send_email": {
        "email": {
          "to": ["dba@company.com"],
          "subject": "MySQLæ…¢æŸ¥è¯¢å‘Šè­¦",
          "body": "æ£€æµ‹åˆ°é¢‘ç¹æ…¢æŸ¥è¯¢ï¼Œè¯·åŠæ—¶å¤„ç†"
        }
      }
    }
  }
}
```

---

## 8. ğŸ” å¼‚å¸¸æ¨¡å¼è¯†åˆ«


### 8.1 ä»€ä¹ˆæ˜¯å¼‚å¸¸æ¨¡å¼


**é€šä¿—ç†è§£**ï¼šå°±åƒåŒ»ç”Ÿé€šè¿‡ç—‡çŠ¶è¯Šæ–­ç–¾ç—…ä¸€æ ·ï¼Œé€šè¿‡åˆ†ææ—¥å¿—ä¸­çš„"ç—‡çŠ¶"æ¥å‘ç°æ½œåœ¨é—®é¢˜ã€‚

**ğŸ”¸ å¸¸è§å¼‚å¸¸æ¨¡å¼**ï¼š
- **æŸ¥è¯¢æ—¶é—´çªå¢**ï¼šå¹³æ—¶1ç§’çš„æŸ¥è¯¢çªç„¶å˜æˆ10ç§’
- **æŸ¥è¯¢é¢‘ç‡å¼‚å¸¸**ï¼šæŸä¸ªæŸ¥è¯¢çªç„¶è¢«é¢‘ç¹æ‰§è¡Œ
- **æ‰«æè¡Œæ•°æš´å¢**ï¼šå¹³æ—¶æ‰«æ100è¡Œçš„æŸ¥è¯¢çªç„¶æ‰«æ10ä¸‡è¡Œ
- **é”ç­‰å¾…æ—¶é—´é•¿**ï¼šå‡ºç°å¤§é‡é”ç­‰å¾…

### 8.2 æœºå™¨å­¦ä¹ å¼‚å¸¸æ£€æµ‹


**ğŸ”§ åŸºäºç»Ÿè®¡çš„å¼‚å¸¸æ£€æµ‹**ï¼š
```python
# æŸ¥è¯¢æ—¶é—´å¼‚å¸¸æ£€æµ‹ç®—æ³•
class QueryTimeAnomalyDetector:
    def __init__(self, window_size=100):
        self.window_size = window_size
        self.query_times = []
        
    def detect_anomaly(self, query_time, sql_hash):
        # è·å–å†å²æ•°æ®
        historical_times = self.get_historical_times(sql_hash)
        
        if len(historical_times) < 10:
            return False  # æ•°æ®ä¸è¶³ï¼Œæ— æ³•åˆ¤æ–­
            
        # è®¡ç®—ç»Ÿè®¡æŒ‡æ ‡
        mean_time = np.mean(historical_times)
        std_time = np.std(historical_times)
        
        # 3ÏƒåŸåˆ™æ£€æµ‹å¼‚å¸¸
        threshold = mean_time + 3 * std_time
        
        if query_time > threshold:
            return {
                'is_anomaly': True,
                'severity': self.calculate_severity(query_time, mean_time),
                'baseline': mean_time,
                'current': query_time
            }
        
        return {'is_anomaly': False}
    
    def calculate_severity(self, current, baseline):
        ratio = current / baseline
        if ratio > 10:
            return 'CRITICAL'
        elif ratio > 5:
            return 'HIGH'
        elif ratio > 2:
            return 'MEDIUM'
        else:
            return 'LOW'
```

### 8.3 æ¨¡å¼è¯†åˆ«è§„åˆ™


**ğŸ¯ é¢„å®šä¹‰æ£€æµ‹è§„åˆ™**ï¼š
```yaml
# å¼‚å¸¸æ£€æµ‹è§„åˆ™é…ç½®
anomaly_rules:
  - name: "æ…¢æŸ¥è¯¢çªå¢"
    condition: "query_time > historical_avg * 3"
    severity: "HIGH"
    action: "immediate_alert"
    
  - name: "æ‰«æè¡Œæ•°å¼‚å¸¸"
    condition: "rows_examined > 100000 AND query_time > 2.0"
    severity: "MEDIUM" 
    action: "log_and_alert"
    
  - name: "é¢‘ç¹æ‰§è¡Œå¼‚å¸¸"
    condition: "query_count_per_minute > 100"
    severity: "HIGH"
    action: "immediate_alert"
    
  - name: "é”ç­‰å¾…ä¸¥é‡"
    condition: "lock_time > 1.0"
    severity: "CRITICAL"
    action: "immediate_alert"
```

---

## 9. ğŸ“‹ è‡ªåŠ¨åŒ–æŠ¥å‘Šç”Ÿæˆ


### 9.1 æŠ¥å‘Šå†…å®¹è§„åˆ’


**ğŸ“Š æ—¥æŠ¥å†…å®¹ç»“æ„**ï¼š
```
MySQLæ€§èƒ½æ—¥æŠ¥ - 2024å¹´01æœˆ15æ—¥
â”œâ”€â”€ ğŸ“ˆ æ€»ä½“æ¦‚å†µ
â”‚   â”œâ”€â”€ æŸ¥è¯¢æ€»æ•°ï¼š45,678æ¬¡
â”‚   â”œâ”€â”€ æ…¢æŸ¥è¯¢æ•°ï¼š234æ¬¡ (0.51%)
â”‚   â””â”€â”€ å¹³å‡å“åº”æ—¶é—´ï¼š0.23ç§’
â”œâ”€â”€ ğŸ” TOPé—®é¢˜åˆ†æ  
â”‚   â”œâ”€â”€ æœ€æ…¢æŸ¥è¯¢TOP5
â”‚   â”œâ”€â”€ æœ€é¢‘ç¹æ…¢æŸ¥è¯¢TOP5
â”‚   â””â”€â”€ æ‰«æè¡Œæ•°æœ€å¤šTOP5
â”œâ”€â”€ ğŸ“Š è¶‹åŠ¿åˆ†æ
â”‚   â”œâ”€â”€ 24å°æ—¶æ€§èƒ½è¶‹åŠ¿å›¾
â”‚   â”œâ”€â”€ æŸ¥è¯¢ç±»å‹åˆ†å¸ƒ
â”‚   â””â”€â”€ æ•°æ®åº“è´Ÿè½½åˆ†æ
â””â”€â”€ ğŸ’¡ ä¼˜åŒ–å»ºè®®
    â”œâ”€â”€ ç´¢å¼•å»ºè®®
    â”œâ”€â”€ æŸ¥è¯¢ä¼˜åŒ–å»ºè®®
    â””â”€â”€ é…ç½®è°ƒæ•´å»ºè®®
```

### 9.2 è‡ªåŠ¨åŒ–æŠ¥å‘Šç”Ÿæˆè„šæœ¬


**ğŸ”§ PythonæŠ¥å‘Šç”Ÿæˆå™¨**ï¼š
```python
class MySQLReportGenerator:
    def __init__(self, es_client, report_date):
        self.es = es_client
        self.report_date = report_date
        
    def generate_daily_report(self):
        # æ”¶é›†æ•°æ®
        stats = self.collect_daily_stats()
        slow_queries = self.get_top_slow_queries()
        trends = self.analyze_trends()
        
        # ç”ŸæˆæŠ¥å‘Š
        report = self.build_report_template()
        report.add_summary(stats)
        report.add_slow_query_analysis(slow_queries)
        report.add_trend_analysis(trends)
        report.add_recommendations(self.generate_recommendations(stats))
        
        # è¾“å‡ºæŠ¥å‘Š
        self.save_report(report)
        self.send_email_report(report)
        
    def collect_daily_stats(self):
        query = {
            "query": {
                "range": {
                    "@timestamp": {
                        "gte": f"{self.report_date}T00:00:00",
                        "lte": f"{self.report_date}T23:59:59"
                    }
                }
            },
            "aggs": {
                "total_queries": {"value_count": {"field": "query_time"}},
                "slow_queries": {
                    "filter": {"range": {"query_time": {"gte": 1.0}}},
                    "aggs": {"count": {"value_count": {"field": "query_time"}}}
                },
                "avg_query_time": {"avg": {"field": "query_time"}},
                "max_query_time": {"max": {"field": "query_time"}}
            }
        }
        
        result = self.es.search(index="mysql-logs-*", body=query)
        return self.parse_stats(result)
        
    def generate_recommendations(self, stats):
        recommendations = []
        
        # åŸºäºç»Ÿè®¡æ•°æ®ç”Ÿæˆå»ºè®®
        if stats['slow_query_ratio'] > 0.05:  # æ…¢æŸ¥è¯¢è¶…è¿‡5%
            recommendations.append({
                'type': 'INDEX',
                'message': 'æ…¢æŸ¥è¯¢æ¯”ä¾‹åé«˜ï¼Œå»ºè®®æ£€æŸ¥ç´¢å¼•è¦†ç›–æƒ…å†µ'
            })
            
        if stats['avg_query_time'] > 0.5:  # å¹³å‡æŸ¥è¯¢æ—¶é—´è¶…è¿‡0.5ç§’
            recommendations.append({
                'type': 'OPTIMIZATION', 
                'message': 'å¹³å‡æŸ¥è¯¢æ—¶é—´åé«˜ï¼Œå»ºè®®è¿›è¡ŒSQLä¼˜åŒ–'
            })
            
        return recommendations
```

### 9.3 æŠ¥å‘Šæ¨¡æ¿è®¾è®¡


**ğŸ“ HTMLæŠ¥å‘Šæ¨¡æ¿**ï¼š
```html
<!DOCTYPE html>
<html>
<head>
    <title>MySQLæ€§èƒ½æ—¥æŠ¥</title>
    <style>
        .summary-card { background: #f8f9fa; padding: 20px; margin: 10px; border-radius: 8px; }
        .metric { font-size: 24px; font-weight: bold; color: #007bff; }
        .trend-chart { width: 100%; height: 300px; }
        .recommendation { background: #d4edda; padding: 10px; margin: 5px; border-left: 4px solid #28a745; }
    </style>
</head>
<body>
    <h1>ğŸ“Š MySQLæ€§èƒ½æ—¥æŠ¥ - {{report_date}}</h1>
    
    <div class="summary-section">
        <h2>ğŸ“ˆ æ€»ä½“æ¦‚å†µ</h2>
        <div class="summary-card">
            <div class="metric">{{total_queries}}</div>
            <div>æ€»æŸ¥è¯¢æ•°</div>
        </div>
        <div class="summary-card">
            <div class="metric">{{slow_queries}} ({{slow_ratio}}%)</div>
            <div>æ…¢æŸ¥è¯¢æ•°</div>
        </div>
    </div>
    
    <div class="analysis-section">
        <h2>ğŸ” TOPé—®é¢˜åˆ†æ</h2>
        <table class="table">
            <thead>
                <tr><th>SQLæ‘˜è¦</th><th>å¹³å‡æ—¶é—´</th><th>æ‰§è¡Œæ¬¡æ•°</th><th>å½±å“çº§åˆ«</th></tr>
            </thead>
            <tbody>
                {{#each top_slow_queries}}
                <tr>
                    <td>{{sql_fingerprint}}</td>
                    <td>{{avg_time}}s</td>
                    <td>{{count}}</td>
                    <td><span class="badge {{severity_class}}">{{severity}}</span></td>
                </tr>
                {{/each}}
            </tbody>
        </table>
    </div>
    
    <div class="recommendations-section">
        <h2>ğŸ’¡ ä¼˜åŒ–å»ºè®®</h2>
        {{#each recommendations}}
        <div class="recommendation">
            <strong>{{type}}:</strong> {{message}}
        </div>
        {{/each}}
    </div>
</body>
</html>
```

---

## 10. ğŸ—„ï¸ æ—¥å¿—å½’æ¡£ç­–ç•¥


### 10.1 ä¸ºä»€ä¹ˆéœ€è¦æ—¥å¿—å½’æ¡£


**ğŸ’° æˆæœ¬è€ƒè™‘**ï¼š
```
å®æ—¶å­˜å‚¨æˆæœ¬ï¼šSSDå­˜å‚¨ï¼Œæ¯GBçº¦1å…ƒ/æœˆ
å½’æ¡£å­˜å‚¨æˆæœ¬ï¼šå¯¹è±¡å­˜å‚¨ï¼Œæ¯GBçº¦0.1å…ƒ/æœˆ
æˆæœ¬èŠ‚çœï¼š90%çš„å­˜å‚¨æˆæœ¬èŠ‚çœ

æ•°æ®å¢é•¿è§„å¾‹ï¼š
ç¬¬1ä¸ªæœˆï¼š100GBæ—¥å¿—
ç¬¬6ä¸ªæœˆï¼š600GBæ—¥å¿—  
ç¬¬1å¹´ï¼š1.2TBæ—¥å¿—
å¦‚æœä¸å½’æ¡£ï¼Œå­˜å‚¨æˆæœ¬çº¿æ€§å¢é•¿
```

### 10.2 åˆ†å±‚å­˜å‚¨ç­–ç•¥


**ğŸ—‚ï¸ æ•°æ®ç”Ÿå‘½å‘¨æœŸç®¡ç†**ï¼š
```
çƒ­æ•°æ® (0-7å¤©):
å­˜å‚¨ï¼šé«˜æ€§èƒ½SSD
ç”¨é€”ï¼šå®æ—¶æŸ¥è¯¢ã€å‘Šè­¦åˆ†æ
ä¿ç•™ï¼šElasticsearché›†ç¾¤

æ¸©æ•°æ® (8-90å¤©):
å­˜å‚¨ï¼šæ™®é€šç£ç›˜
ç”¨é€”ï¼šå†å²è¶‹åŠ¿åˆ†æã€é—®é¢˜å›æº¯
ä¿ç•™ï¼šå‹ç¼©å­˜å‚¨

å†·æ•°æ® (90å¤©ä»¥ä¸Š):
å­˜å‚¨ï¼šå¯¹è±¡å­˜å‚¨(S3/OSS)
ç”¨é€”ï¼šåˆè§„è¦æ±‚ã€å¹´åº¦åˆ†æ
ä¿ç•™ï¼šé«˜å‹ç¼©æ¯”å½’æ¡£
```

### 10.3 è‡ªåŠ¨åŒ–å½’æ¡£å®ç°


**ğŸ”§ Elasticsearch ILMç­–ç•¥**ï¼š
```json
{
  "policy": {
    "phases": {
      "hot": {
        "actions": {
          "rollover": {
            "max_size": "5GB",
            "max_age": "1d"
          }
        }
      },
      "warm": {
        "min_age": "7d",
        "actions": {
          "allocate": {
            "number_of_replicas": 0
          },
          "forcemerge": {
            "max_num_segments": 1
          }
        }
      },
      "cold": {
        "min_age": "30d", 
        "actions": {
          "allocate": {
            "number_of_replicas": 0,
            "require": {
              "data": "cold"
            }
          }
        }
      },
      "delete": {
        "min_age": "365d"
      }
    }
  }
}
```

**ğŸ“¦ æ•°æ®å‹ç¼©å’Œå¤‡ä»½è„šæœ¬**ï¼š
```bash
#!/bin/bash
# æ—¥å¿—å½’æ¡£è„šæœ¬

DATE=$(date -d "90 days ago" +%Y.%m.%d)
INDEX_NAME="mysql-logs-${DATE}"

# 1. å¯¼å‡ºæ•°æ®
elasticdump \
  --input=http://localhost:9200/${INDEX_NAME} \
  --output=/backup/mysql-logs-${DATE}.json \
  --type=data

# 2. å‹ç¼©æ•°æ®
gzip /backup/mysql-logs-${DATE}.json

# 3. ä¸Šä¼ åˆ°å¯¹è±¡å­˜å‚¨
aws s3 cp /backup/mysql-logs-${DATE}.json.gz \
  s3://mysql-logs-archive/year=$(date -d "90 days ago" +%Y)/month=$(date -d "90 days ago" +%m)/

# 4. åˆ é™¤æœ¬åœ°æ–‡ä»¶
rm /backup/mysql-logs-${DATE}.json.gz

# 5. åˆ é™¤ESä¸­çš„æ—§ç´¢å¼•
curl -X DELETE "localhost:9200/${INDEX_NAME}"
```

---

## 11. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 11.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ æ—¥å¿—åˆ†æè‡ªåŠ¨åŒ–ï¼šç”¨æœºå™¨ä»£æ›¿äººå·¥ï¼Œå®ç°7Ã—24å°æ—¶å®æ—¶ç›‘æ§
ğŸ”¸ ELK Stackï¼šE(å­˜å‚¨æœç´¢) + L(æ•°æ®å¤„ç†) + K(å¯è§†åŒ–å±•ç¤º)
ğŸ”¸ å®æ—¶æµå¤„ç†ï¼šç§’çº§åˆ†æå“åº”ï¼Œä¸æ˜¯ä¼ ç»Ÿçš„æ‰¹å¤„ç†æ–¹å¼
ğŸ”¸ å¼‚å¸¸æ¨¡å¼è¯†åˆ«ï¼šé€šè¿‡ç®—æ³•è‡ªåŠ¨å‘ç°æ€§èƒ½é—®é¢˜å’Œæ½œåœ¨é£é™©
ğŸ”¸ è‡ªåŠ¨åŒ–æŠ¥å‘Šï¼šå®šæœŸç”Ÿæˆæ ‡å‡†åŒ–çš„æ€§èƒ½åˆ†ææŠ¥å‘Š
```

### 11.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ ä¸ºä»€ä¹ˆè¦è‡ªåŠ¨åŒ–**ï¼š
```
äººå·¥åˆ†æçš„å±€é™æ€§ï¼š
â€¢ æ•ˆç‡ä½ï¼šå‡ GBæ—¥å¿—éœ€è¦å‡ å°æ—¶åˆ†æ
â€¢ å®¹æ˜“é—æ¼ï¼šäººå·¥å®¹æ˜“å¿½ç•¥æ½œåœ¨é—®é¢˜
â€¢ ä¸åŠæ—¶ï¼šå¾€å¾€æ˜¯é—®é¢˜å‘ç”Ÿåæ‰å‘ç°

è‡ªåŠ¨åŒ–çš„ä»·å€¼ï¼š
â€¢ å®æ—¶æ€§ï¼šé—®é¢˜å‘ç”Ÿç«‹å³å‘ç°
â€¢ å‡†ç¡®æ€§ï¼šæœºå™¨ä¸ä¼šç–²åŠ³å’Œé—æ¼
â€¢ å¯æ‰©å±•ï¼šä¸€å¥—ç³»ç»Ÿç›‘æ§æ‰€æœ‰æ•°æ®åº“
```

**ğŸ”¹ æŠ€æœ¯é€‰å‹è€ƒè™‘**ï¼š
```
å°è§„æ¨¡é¡¹ç›®ï¼šFilebeat + Elasticsearch + Kibana
ä¸­ç­‰è§„æ¨¡ï¼šFluentd + Kafka + ELK Stack
å¤§è§„æ¨¡é¡¹ç›®ï¼šå®Œæ•´çš„å®æ—¶æµå¤„ç†æ¶æ„

é€‰æ‹©åŸåˆ™ï¼š
â€¢ æ•°æ®é‡ï¼šå†³å®šå­˜å‚¨å’Œå¤„ç†èƒ½åŠ›éœ€æ±‚
â€¢ å®æ—¶æ€§ï¼šå†³å®šæ˜¯å¦éœ€è¦æµå¤„ç†
â€¢ å›¢é˜ŸæŠ€èƒ½ï¼šå†³å®šæŠ€æœ¯å¤æ‚åº¦çš„æ¥å—åº¦
```

### 11.3 å®é™…åº”ç”¨ä»·å€¼


**ğŸ’¼ ä¸šåŠ¡åœºæ™¯ä»·å€¼**ï¼š
- **ç”µå•†ç½‘ç«™**ï¼šå¤§ä¿ƒæœŸé—´å®æ—¶ç›‘æ§ï¼Œé¿å…æ€§èƒ½é—®é¢˜å½±å“é”€å”®
- **é‡‘èç³»ç»Ÿ**ï¼šå¿«é€Ÿå‘ç°æŸ¥è¯¢å¼‚å¸¸ï¼Œä¿éšœäº¤æ˜“ç³»ç»Ÿç¨³å®š
- **SaaSå¹³å°**ï¼šå¤šç§Ÿæˆ·ç¯å¢ƒä¸‹ï¼Œå¿«é€Ÿå®šä½æ€§èƒ½é—®é¢˜
- **è¿ç»´å›¢é˜Ÿ**ï¼šä»è¢«åŠ¨æ•‘ç«å˜ä¸ºä¸»åŠ¨é¢„é˜²

**ğŸ¯ é‡åŒ–æ”¶ç›Š**ï¼š
```
æ•ˆç‡æå‡ï¼š
â€¢ é—®é¢˜å‘ç°æ—¶é—´ï¼šä»å‡ å°æ—¶ç¼©çŸ­åˆ°å‡ ç§’
â€¢ åˆ†ææ•ˆç‡ï¼šä»äººå·¥åŠå¤©ç¼©çŸ­åˆ°è‡ªåŠ¨åŒ–å‡ åˆ†é’Ÿ
â€¢ è¿ç»´æˆæœ¬ï¼šå‡å°‘50%çš„äººå·¥æ“ä½œæ—¶é—´

ä¸šåŠ¡ä»·å€¼ï¼š
â€¢ ç”¨æˆ·ä½“éªŒï¼šå‡å°‘90%çš„æ€§èƒ½é—®é¢˜å½±å“æ—¶é—´
â€¢ ç³»ç»Ÿç¨³å®šæ€§ï¼šæå‡99.9%çš„SLAä¿éšœ
â€¢ è¿è¥æ•ˆç‡ï¼šæ”¯æŒ10å€ä¸šåŠ¡è§„æ¨¡æ‰©å±•
```

**æ ¸å¿ƒè®°å¿†å£è¯€**ï¼š
- æ—¥å¿—è‡ªåŠ¨åŒ–ï¼Œæ•ˆç‡æˆå€åŠ 
- ELKæ¥åˆ†æï¼Œå®æ—¶åˆå‡†ç¡®  
- å¼‚å¸¸è‡ªå‘ç°ï¼Œé—®é¢˜æ—©è§£å†³
- æŠ¥å‘Šè‡ªåŠ¨ç”Ÿæˆï¼Œè¿ç»´æ›´è½»æ¾