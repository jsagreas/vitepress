---
title: 4ã€MySQL Shell ç®¡ç†å·¥å…·ä»‹ç»
---
## ğŸ“š ç›®å½•

1. [MySQL Shell æ¦‚è¿°](#1-mysql-shell-æ¦‚è¿°)
2. [æ ¸å¿ƒåŠŸèƒ½ç‰¹æ€§](#2-æ ¸å¿ƒåŠŸèƒ½ç‰¹æ€§)
3. [AdminAPI ç®¡ç†æ¥å£](#3-adminapi-ç®¡ç†æ¥å£)
4. [ç¼–ç¨‹è¯­è¨€æ”¯æŒ](#4-ç¼–ç¨‹è¯­è¨€æ”¯æŒ)
5. [é›†ç¾¤ç®¡ç†å‘½ä»¤](#5-é›†ç¾¤ç®¡ç†å‘½ä»¤)
6. [é…ç½®ä¸ç›‘æ§åŠŸèƒ½](#6-é…ç½®ä¸ç›‘æ§åŠŸèƒ½)
7. [è‡ªåŠ¨åŒ–è„šæœ¬èƒ½åŠ›](#7-è‡ªåŠ¨åŒ–è„šæœ¬èƒ½åŠ›)
8. [äº¤äº’å¼æ“ä½œç•Œé¢](#8-äº¤äº’å¼æ“ä½œç•Œé¢)
9. [æ‰¹é‡ç®¡ç†åŠŸèƒ½](#9-æ‰¹é‡ç®¡ç†åŠŸèƒ½)
10. [å®æˆ˜åº”ç”¨æŒ‡å—](#10-å®æˆ˜åº”ç”¨æŒ‡å—)
11. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#11-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ”§ MySQL Shell æ¦‚è¿°


### 1.1 ä»€ä¹ˆæ˜¯ MySQL Shell


**ç®€å•ç†è§£**ï¼šMySQL Shell å°±æ˜¯ MySQL å®˜æ–¹æä¾›çš„ä¸€ä¸ª"è¶…çº§ç®¡ç†å·¥å…·"ï¼Œä¸“é—¨ç”¨æ¥ç®¡ç† MySQL æ•°æ®åº“é›†ç¾¤ã€‚

```
ä¼ ç»Ÿæ–¹å¼ç®¡ç† MySQLï¼š
ç”¨æˆ· â†’ mysql å®¢æˆ·ç«¯ â†’ å•ä¸ªæ•°æ®åº“å®ä¾‹

MySQL Shell ç®¡ç†æ–¹å¼ï¼š
ç”¨æˆ· â†’ MySQL Shell â†’ æ•´ä¸ªæ•°æ®åº“é›†ç¾¤
                   â”œâ”€ ä¸»èŠ‚ç‚¹
                   â”œâ”€ ä»èŠ‚ç‚¹  
                   â””â”€ è·¯ç”±å™¨
```

**æ ¸å¿ƒä½œç”¨**ï¼š
- **é›†ç¾¤ç®¡ç†å™¨**ï¼šä¸“é—¨ç®¡ç† InnoDB Cluster é›†ç¾¤
- **é«˜çº§å®¢æˆ·ç«¯**ï¼šæ¯”æ™®é€š mysql å®¢æˆ·ç«¯åŠŸèƒ½æ›´å¼ºå¤§
- **è‡ªåŠ¨åŒ–å·¥å…·**ï¼šå¯ä»¥å†™è„šæœ¬æ‰¹é‡æ“ä½œæ•°æ®åº“

### 1.2 ä¸ºä»€ä¹ˆéœ€è¦ MySQL Shell


**ä¼ ç»Ÿç®¡ç†çš„ç—›ç‚¹**ï¼š
```
âŒ æ‰‹å·¥é…ç½®å¤æ‚ï¼šéœ€è¦æ‰‹åŠ¨é…ç½®ä¸»ä»å¤åˆ¶
âŒ æ“ä½œå®¹æ˜“å‡ºé”™ï¼šä¸€ä¸ªå‘½ä»¤é”™è¯¯å¯èƒ½å½±å“æ•´ä¸ªé›†ç¾¤
âŒ ç›‘æ§ä¸ç›´è§‚ï¼šéœ€è¦åˆ†åˆ«è¿æ¥æ¯ä¸ªèŠ‚ç‚¹æŸ¥çœ‹çŠ¶æ€
âŒ æ‰©å®¹å¾ˆéº»çƒ¦ï¼šæ·»åŠ æ–°èŠ‚ç‚¹éœ€è¦å¾ˆå¤šæ­¥éª¤
```

**MySQL Shell çš„ä¼˜åŠ¿**ï¼š
```
âœ… ä¸€é”®åˆ›å»ºé›†ç¾¤ï¼šè‡ªåŠ¨é…ç½®æ‰€æœ‰å¤åˆ¶å…³ç³»
âœ… æ™ºèƒ½æ•…éšœå¤„ç†ï¼šè‡ªåŠ¨æ£€æµ‹å¹¶å¤„ç†èŠ‚ç‚¹æ•…éšœ
âœ… ç»Ÿä¸€ç®¡ç†å…¥å£ï¼šä¸€ä¸ªå·¥å…·ç®¡ç†æ•´ä¸ªé›†ç¾¤
âœ… å›¾å½¢åŒ–ç›‘æ§ï¼šç›´è§‚æ˜¾ç¤ºé›†ç¾¤çŠ¶æ€
```

### 1.3 é€‚ç”¨åœºæ™¯


| ä½¿ç”¨åœºæ™¯ | **ä¼ ç»Ÿæ–¹å¼** | **MySQL Shell** | **ä¼˜åŠ¿** |
|---------|-------------|----------------|----------|
| **åˆ›å»ºé›†ç¾¤** | `æ‰‹åŠ¨é…ç½®å¤åˆ¶` | `dba.createCluster()` | `è‡ªåŠ¨åŒ–ï¼Œå‡å°‘é”™è¯¯` |
| **æ·»åŠ èŠ‚ç‚¹** | `å¤šæ­¥æ‰‹åŠ¨æ“ä½œ` | `cluster.addInstance()` | `ä¸€æ¡å‘½ä»¤å®Œæˆ` |
| **æ•…éšœåˆ‡æ¢** | `æ‰‹åŠ¨æå‡ä»åº“` | `è‡ªåŠ¨æ•…éšœè½¬ç§»` | `é«˜å¯ç”¨ä¿éšœ` |
| **çŠ¶æ€ç›‘æ§** | `åˆ†åˆ«è¿æ¥æŸ¥çœ‹` | `cluster.status()` | `ç»Ÿä¸€è§†å›¾` |

---

## 2. âš¡ æ ¸å¿ƒåŠŸèƒ½ç‰¹æ€§


### 2.1 å¤šåè®®æ”¯æŒ


**è¿æ¥æ–¹å¼å¯¹æ¯”**ï¼š
```
ç»å…¸ MySQL åè®®ï¼ˆä¼ ç»Ÿï¼‰ï¼š
åº”ç”¨ç¨‹åº â†’ MySQL Server â†’ æ•°æ®åº“
ç‰¹ç‚¹ï¼šå‘åå…¼å®¹ï¼Œé€‚åˆä¼ ç»Ÿåº”ç”¨

X åè®®ï¼ˆæ–°ä¸€ä»£ï¼‰ï¼š
åº”ç”¨ç¨‹åº â†’ MySQL Shell/Router â†’ MySQL Server â†’ æ•°æ®åº“
ç‰¹ç‚¹ï¼šæ”¯æŒ NoSQL æ“ä½œï¼Œæ€§èƒ½æ›´å¥½
```

### 2.2 å¤šç§å·¥ä½œæ¨¡å¼


**ğŸ”¸ SQL æ¨¡å¼**
```sql
-- ä¼ ç»Ÿ SQL æŸ¥è¯¢æ¨¡å¼
MySQL Shell> \sql
MySQL SQL > SELECT * FROM users;
MySQL SQL > CREATE TABLE products(id INT, name VARCHAR(100));
```

**ğŸ”¸ JavaScript æ¨¡å¼**  
```javascript
// é¢å‘å¯¹è±¡çš„é›†ç¾¤ç®¡ç†
MySQL Shell> \js
MySQL JS > var cluster = dba.getCluster('myCluster')
MySQL JS > cluster.status()
```

**ğŸ”¸ Python æ¨¡å¼**
```python
# Python è¯­æ³•çš„æ•°æ®åº“æ“ä½œ
MySQL Shell> \py
MySQL Py > cluster = dba.get_cluster('myCluster')
MySQL Py > cluster.add_instance('mysql2:3306')
```

### 2.3 é«˜çº§ç®¡ç†åŠŸèƒ½


**ğŸ¯ æ ¸å¿ƒç®¡ç†èƒ½åŠ›**ï¼š

```
é›†ç¾¤ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼š
â”Œâ”€ åˆ›å»ºé›†ç¾¤ â”€â”€â”€â”€â”€â”    â”Œâ”€ æ‰©å±•é›†ç¾¤ â”€â”€â”€â”€â”€â”    â”Œâ”€ ç»´æŠ¤é›†ç¾¤ â”€â”€â”€â”€â”€â”
â”‚ â€¢ åˆå§‹åŒ–é…ç½®   â”‚ â†’  â”‚ â€¢ æ·»åŠ èŠ‚ç‚¹     â”‚ â†’  â”‚ â€¢ å¥åº·æ£€æŸ¥     â”‚
â”‚ â€¢ è‡ªåŠ¨å¤åˆ¶     â”‚    â”‚ â€¢ è´Ÿè½½å‡è¡¡     â”‚    â”‚ â€¢ æ€§èƒ½ç›‘æ§     â”‚
â”‚ â€¢ å®‰å…¨è®¾ç½®     â”‚    â”‚ â€¢ å®¹é‡è§„åˆ’     â”‚    â”‚ â€¢ æ•…éšœæ¢å¤     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3. ğŸ› ï¸ AdminAPI ç®¡ç†æ¥å£


### 3.1 ä»€ä¹ˆæ˜¯ AdminAPI


**é€šä¿—è§£é‡Š**ï¼šAdminAPI å°±æ˜¯ MySQL Shell æä¾›çš„ä¸€å¥—"ç®¡ç†å‘½ä»¤åŒ…"ï¼Œä¸“é—¨ç”¨æ¥æ“ä½œæ•°æ®åº“é›†ç¾¤ã€‚

```
æƒ³è±¡æˆé¥æ§å™¨ï¼š
æ™®é€šé¥æ§å™¨ï¼ˆmysqlå®¢æˆ·ç«¯ï¼‰ï¼š åªèƒ½æ§åˆ¶ä¸€å°ç”µè§†
ä¸‡èƒ½é¥æ§å™¨ï¼ˆAdminAPIï¼‰ï¼š     å¯ä»¥æ§åˆ¶æ•´å¥—å®¶åº­å½±é™¢ç³»ç»Ÿ
```

### 3.2 æ ¸å¿ƒ API åˆ†ç±»


**ğŸ”¸ DBA æ¥å£ï¼ˆDatabase Administratorï¼‰**
```javascript
// é›†ç¾¤çº§åˆ«æ“ä½œ
dba.createCluster('myCluster')     // åˆ›å»ºé›†ç¾¤
dba.getCluster('myCluster')        // è·å–é›†ç¾¤å¯¹è±¡
dba.dropMetadataSchema()           // æ¸…ç†å…ƒæ•°æ®
dba.checkInstanceConfiguration()   // æ£€æŸ¥å®ä¾‹é…ç½®
```

**ğŸ”¸ Cluster æ¥å£**
```javascript
// è·å–é›†ç¾¤å¯¹è±¡
var cluster = dba.getCluster()

// èŠ‚ç‚¹ç®¡ç†
cluster.addInstance('mysql2:3306')        // æ·»åŠ èŠ‚ç‚¹
cluster.removeInstance('mysql3:3306')     // ç§»é™¤èŠ‚ç‚¹
cluster.rejoinInstance('mysql2:3306')     // é‡æ–°åŠ å…¥èŠ‚ç‚¹

// çŠ¶æ€æŸ¥çœ‹
cluster.status()                          // æŸ¥çœ‹é›†ç¾¤çŠ¶æ€
cluster.describe()                        // æŸ¥çœ‹é›†ç¾¤é…ç½®
```

### 3.3 å®ç”¨ç®¡ç†å‘½ä»¤


**ğŸ’¡ æ—¥å¸¸è¿ç»´å‘½ä»¤ç¤ºä¾‹**ï¼š

```javascript
// 1. é›†ç¾¤å¥åº·æ£€æŸ¥
MySQL JS > var cluster = dba.getCluster()
MySQL JS > cluster.status()
{
    "clusterName": "myCluster",
    "defaultReplicaSet": {
        "status": "OK",               // âœ… é›†ç¾¤çŠ¶æ€æ­£å¸¸
        "topology": {
            "mysql1:3306": {
                "status": "ONLINE"    // âœ… ä¸»èŠ‚ç‚¹åœ¨çº¿
            },
            "mysql2:3306": {
                "status": "ONLINE"    // âœ… ä»èŠ‚ç‚¹åœ¨çº¿
            }
        }
    }
}

// 2. ç´§æ€¥æ•…éšœå¤„ç†
MySQL JS > cluster.forceQuorumUsingPartitionOf('mysql1:3306')  // å¼ºåˆ¶ä»²è£

// 3. æ€§èƒ½ä¼˜åŒ–
MySQL JS > cluster.rescan()                    // é‡æ–°æ‰«ææ‹“æ‰‘
MySQL JS > cluster.checkInstanceState()        // æ£€æŸ¥å®ä¾‹çŠ¶æ€
```

---

## 4. ğŸ’» ç¼–ç¨‹è¯­è¨€æ”¯æŒ


### 4.1 JavaScript æ”¯æŒè¯¦è§£


**ä¸ºä»€ä¹ˆé€‰æ‹© JavaScript**ï¼š
- **ç®€å•æ˜“å­¦**ï¼šè¯­æ³•æ¥è¿‘è‡ªç„¶è¯­è¨€
- **å¯¹è±¡å¯¼å‘**ï¼šcluster.method() çš„è°ƒç”¨æ–¹å¼å¾ˆç›´è§‚  
- **JSON æ”¯æŒ**ï¼šé…ç½®å’ŒçŠ¶æ€éƒ½ç”¨ JSON æ ¼å¼ï¼Œä¾¿äºç†è§£

**ğŸ”¸ JavaScript æ¨¡å¼å®æˆ˜**ï¼š
```javascript
// åˆ‡æ¢åˆ° JS æ¨¡å¼
MySQL Shell> \js

// åˆ›å»ºå’Œç®¡ç†é›†ç¾¤çš„å®Œæ•´æµç¨‹
MySQL JS > // ç¬¬1æ­¥ï¼šåˆ›å»ºé›†ç¾¤
MySQL JS > var cluster = dba.createCluster('prodCluster', {
    memberSslMode: 'REQUIRED',           // å¯ç”¨ SSL åŠ å¯†
    ipWhitelist: '192.168.1.0/24'       // è®¾ç½®IPç™½åå•
})

MySQL JS > // ç¬¬2æ­¥ï¼šæ·»åŠ èŠ‚ç‚¹
MySQL JS > cluster.addInstance('mysql2:3306', {
    password: 'secretPassword',          // èŠ‚ç‚¹å¯†ç 
    recoveryMethod: 'clone'              // ä½¿ç”¨å…‹éš†æ¢å¤
})

MySQL JS > // ç¬¬3æ­¥ï¼šæŸ¥çœ‹ç»“æœ
MySQL JS > cluster.status()
```

### 4.2 Python æ”¯æŒè¯¦è§£


**Python çš„ä¼˜åŠ¿**ï¼š
- **è„šæœ¬å‹å¥½**ï¼šé€‚åˆå†™è‡ªåŠ¨åŒ–è¿ç»´è„šæœ¬
- **åº“æ”¯æŒä¸°å¯Œ**ï¼šå¯ä»¥ç»“åˆå…¶ä»– Python åº“ä½¿ç”¨
- **æ•°æ®å¤„ç†å¼º**ï¼šæ–¹ä¾¿å¤„ç†ç›‘æ§æ•°æ®å’Œæ—¥å¿—

**ğŸ”¸ Python æ¨¡å¼å®æˆ˜**ï¼š
```python
# åˆ‡æ¢åˆ° Python æ¨¡å¼
MySQL Shell> \py

# è‡ªåŠ¨åŒ–è¿ç»´è„šæœ¬ç¤ºä¾‹
MySQL Py > def check_cluster_health():
    """æ£€æŸ¥é›†ç¾¤å¥åº·çŠ¶æ€çš„å‡½æ•°"""
    cluster = dba.get_cluster()
    status = cluster.status()
    
    # æ£€æŸ¥æ¯ä¸ªèŠ‚ç‚¹çŠ¶æ€
    for instance, info in status['defaultReplicaSet']['topology'].items():
        if info['status'] != 'ONLINE':
            print(f"âš ï¸ è­¦å‘Šï¼šèŠ‚ç‚¹ {instance} çŠ¶æ€å¼‚å¸¸ï¼š{info['status']}")
            return False
    
    print("âœ… é›†ç¾¤çŠ¶æ€æ­£å¸¸")
    return True

MySQL Py > # è°ƒç”¨å¥åº·æ£€æŸ¥
MySQL Py > check_cluster_health()
```

### 4.3 è¯­è¨€æ¨¡å¼åˆ‡æ¢


**ğŸ”„ æ¨¡å¼åˆ‡æ¢å‘½ä»¤**ï¼š
```bash
# åœ¨ MySQL Shell ä¸­åˆ‡æ¢è¯­è¨€æ¨¡å¼
\sql     # åˆ‡æ¢åˆ° SQL æ¨¡å¼ - æ‰§è¡Œä¼ ç»Ÿ SQL è¯­å¥
\js      # åˆ‡æ¢åˆ° JavaScript æ¨¡å¼ - é›†ç¾¤ç®¡ç†
\py      # åˆ‡æ¢åˆ° Python æ¨¡å¼ - è‡ªåŠ¨åŒ–è„šæœ¬
\?       # æŸ¥çœ‹å¸®åŠ©ä¿¡æ¯
\quit    # é€€å‡º Shell
```

**ğŸ’¡ é€‰æ‹©å»ºè®®**ï¼š
```
æ—¥å¸¸ç®¡ç†ï¼š         JavaScript æ¨¡å¼
è‡ªåŠ¨åŒ–è„šæœ¬ï¼š       Python æ¨¡å¼  
ä¼ ç»ŸæŸ¥è¯¢ï¼š         SQL æ¨¡å¼
å­¦ä¹ å’Œæµ‹è¯•ï¼š       JavaScript æ¨¡å¼ï¼ˆæ›´ç›´è§‚ï¼‰
```

---

## 5. ğŸ“‹ é›†ç¾¤ç®¡ç†å‘½ä»¤


### 5.1 é›†ç¾¤åˆ›å»ºä¸åˆå§‹åŒ–


**ğŸ”¸ åŸºç¡€åˆ›å»ºæµç¨‹**ï¼š
```javascript
// ç¬¬1æ­¥ï¼šæ£€æŸ¥å®ä¾‹é…ç½®ï¼ˆé‡è¦ï¼ï¼‰
MySQL JS > dba.checkInstanceConfiguration('mysql1:3306')
{
    "status": "ok",                    // âœ… é…ç½®æ£€æŸ¥é€šè¿‡
    "description": "Instance configuration is suitable for InnoDB cluster usage."
}

// ç¬¬2æ­¥ï¼šé…ç½®å®ä¾‹ï¼ˆå¦‚æœéœ€è¦ï¼‰
MySQL JS > dba.configureInstance('mysql1:3306')
// ä¼šè‡ªåŠ¨è®¾ç½®å¿…è¦çš„å‚æ•°ï¼Œå¦‚ï¼š
// - server_id
// - gtid_mode=ON  
// - enforce_gtid_consistency=ON

// ç¬¬3æ­¥ï¼šåˆ›å»ºé›†ç¾¤
MySQL JS > var cluster = dba.createCluster('myProdCluster')
```

### 5.2 èŠ‚ç‚¹ç®¡ç†æ“ä½œ


**ğŸ”¸ æ·»åŠ èŠ‚ç‚¹ï¼ˆæ‰©å®¹ï¼‰**ï¼š
```javascript
// æ ‡å‡†æ·»åŠ èŠ‚ç‚¹
MySQL JS > cluster.addInstance('mysql2:3306')

// é«˜çº§é€‰é¡¹æ·»åŠ 
MySQL JS > cluster.addInstance('mysql3:3306', {
    recoveryMethod: 'clone',           // ä½¿ç”¨å…‹éš†æ–¹å¼åŒæ­¥æ•°æ®
    memberWeight: 50,                  // è®¾ç½®èŠ‚ç‚¹æƒé‡ï¼ˆ0-100ï¼‰
    autoRejoinTries: 3                 // è‡ªåŠ¨é‡è¿å°è¯•æ¬¡æ•°
})
```

**ğŸ”¸ ç§»é™¤èŠ‚ç‚¹**ï¼š
```javascript
// æ­£å¸¸ç§»é™¤ï¼ˆæ¨èï¼‰
MySQL JS > cluster.removeInstance('mysql3:3306')

// å¼ºåˆ¶ç§»é™¤ï¼ˆèŠ‚ç‚¹æ— æ³•è¿æ¥æ—¶ï¼‰
MySQL JS > cluster.removeInstance('mysql3:3306', {force: true})
```

### 5.3 é›†ç¾¤çŠ¶æ€ç®¡ç†


**ğŸ”¸ è¯¦ç»†çŠ¶æ€æŸ¥çœ‹**ï¼š
```javascript
MySQL JS > cluster.status({extended: 1})
{
    "clusterName": "myProdCluster",
    "defaultReplicaSet": {
        "status": "OK",
        "statusText": "Cluster is ONLINE and can tolerate up to ONE failure.",
        "topology": {
            "mysql1:3306": {
                "address": "mysql1:3306",
                "mode": "R/W",                    // è¯»å†™æ¨¡å¼ï¼ˆä¸»èŠ‚ç‚¹ï¼‰
                "readReplicas": {},
                "role": "HA",                     // é«˜å¯ç”¨è§’è‰²
                "status": "ONLINE",
                "version": "8.0.28"
            },
            "mysql2:3306": {
                "address": "mysql2:3306", 
                "mode": "R/O",                    // åªè¯»æ¨¡å¼ï¼ˆä»èŠ‚ç‚¹ï¼‰
                "readReplicas": {},
                "role": "HA",
                "status": "ONLINE",
                "version": "8.0.28"
            }
        }
    }
}
```

### 5.4 æ•…éšœå¤„ç†å‘½ä»¤


**ğŸ”¸ å¸¸è§æ•…éšœåœºæ™¯å¤„ç†**ï¼š

```javascript
// åœºæ™¯1ï¼šèŠ‚ç‚¹æ„å¤–æ–­å¼€
MySQL JS > cluster.rejoinInstance('mysql2:3306')  // é‡æ–°åŠ å…¥é›†ç¾¤

// åœºæ™¯2ï¼šç½‘ç»œåˆ†åŒºå¯¼è‡´å¤±å»ä»²è£
MySQL JS > cluster.forceQuorumUsingPartitionOf('mysql1:3306')  // å¼ºåˆ¶ä»²è£

// åœºæ™¯3ï¼šä¸»èŠ‚ç‚¹æ•…éšœéœ€è¦æ‰‹åŠ¨åˆ‡æ¢
MySQL JS > cluster.setPrimaryInstance('mysql2:3306')  // æ‰‹åŠ¨è®¾ç½®ä¸»èŠ‚ç‚¹

// åœºæ™¯4ï¼šé›†ç¾¤å…ƒæ•°æ®æŸå
MySQL JS > dba.rebootClusterFromCompleteOutage()  // ä»å®Œå…¨å®•æœºä¸­æ¢å¤
```

---

## 6. ğŸ“Š é…ç½®ä¸ç›‘æ§åŠŸèƒ½


### 6.1 é›†ç¾¤é…ç½®ç®¡ç†


**ğŸ”¸ é…ç½®é€‰é¡¹è¯¦è§£**ï¼š
```javascript
// æŸ¥çœ‹å½“å‰é…ç½®
MySQL JS > cluster.options()
{
    "global": {
        "clusterName": "myProdCluster",
        "memberSslMode": "REQUIRED",       // SSL åŠ å¯†å¿…éœ€
        "disableClone": false              // å¯ç”¨å…‹éš†åŠŸèƒ½
    },
    "topology": {
        "mysql1:3306": {
            "autoRejoinTries": 3,          // è‡ªåŠ¨é‡è¿æ¬¡æ•°
            "memberWeight": 100            // èŠ‚ç‚¹æƒé‡
        }
    }
}

// ä¿®æ”¹é…ç½®
MySQL JS > cluster.setOption('memberSslMode', 'VERIFY_IDENTITY')
MySQL JS > cluster.setInstanceOption('mysql2:3306', 'memberWeight', 75)
```

### 6.2 å®æ—¶ç›‘æ§åŠŸèƒ½


**ğŸ”¸ æ€§èƒ½ç›‘æ§è„šæœ¬**ï¼š
```javascript
// åˆ›å»ºç›‘æ§å‡½æ•°
MySQL JS > function monitorCluster() {
    var cluster = dba.getCluster()
    var status = cluster.status({extended: 2})  // è·å–è¯¦ç»†çŠ¶æ€
    
    console.log("=== é›†ç¾¤ç›‘æ§æŠ¥å‘Š ===")
    console.log("é›†ç¾¤åç§°ï¼š" + status.clusterName)
    console.log("æ•´ä½“çŠ¶æ€ï¼š" + status.defaultReplicaSet.status)
    
    // ç›‘æ§æ¯ä¸ªèŠ‚ç‚¹
    Object.keys(status.defaultReplicaSet.topology).forEach(function(instance) {
        var node = status.defaultReplicaSet.topology[instance]
        console.log(`èŠ‚ç‚¹ ${instance}ï¼š`)
        console.log(`  çŠ¶æ€ï¼š${node.status}`)
        console.log(`  è§’è‰²ï¼š${node.role}`)
        console.log(`  æ¨¡å¼ï¼š${node.mode}`)
        
        // æ£€æŸ¥å¤åˆ¶å»¶è¿Ÿï¼ˆå¦‚æœæœ‰ï¼‰
        if (node.replicationLag) {
            console.log(`  å¤åˆ¶å»¶è¿Ÿï¼š${node.replicationLag}`)
        }
    })
}

// å®šæœŸæ‰§è¡Œç›‘æ§
MySQL JS > monitorCluster()
```

### 6.3 æ—¥å¿—å’Œè¯Šæ–­


**ğŸ”¸ è¯Šæ–­å·¥å…·ä½¿ç”¨**ï¼š
```javascript
// 1. æ£€æŸ¥å®ä¾‹çŠ¶æ€
MySQL JS > cluster.checkInstanceState('mysql2:3306')

// 2. é‡æ–°æ‰«æé›†ç¾¤æ‹“æ‰‘
MySQL JS > cluster.rescan()
{
    "name": "myProdCluster",
    "newTopologyMode": null,
    "newlyDiscoveredInstances": [],      // æ–°å‘ç°çš„å®ä¾‹
    "unavailableInstances": []           // ä¸å¯ç”¨çš„å®ä¾‹
}

// 3. æè¿°é›†ç¾¤è¯¦ç»†ä¿¡æ¯
MySQL JS > cluster.describe()
{
    "clusterName": "myProdCluster",
    "defaultReplicaSet": {
        "topology": [
            {
                "address": "mysql1:3306",
                "label": "mysql1:3306",
                "role": "HA"
            }
        ]
    }
}
```

---

## 7. ğŸ¤– è‡ªåŠ¨åŒ–è„šæœ¬èƒ½åŠ›


### 7.1 æ‰¹å¤„ç†è„šæœ¬


**ğŸ”¸ åˆ›å»ºè‡ªåŠ¨åŒ–éƒ¨ç½²è„šæœ¬**ï¼š
```javascript
// æ–‡ä»¶ï¼šdeploy_cluster.js
function deployCluster(clusterName, instances) {
    print("å¼€å§‹éƒ¨ç½²é›†ç¾¤ï¼š" + clusterName)
    
    // ç¬¬1æ­¥ï¼šæ£€æŸ¥æ‰€æœ‰å®ä¾‹
    print("æ£€æŸ¥å®ä¾‹é…ç½®...")
    for (var i = 0; i < instances.length; i++) {
        var result = dba.checkInstanceConfiguration(instances[i])
        if (result.status !== "ok") {
            print("é…ç½®å®ä¾‹ï¼š" + instances[i])
            dba.configureInstance(instances[i])
        }
    }
    
    // ç¬¬2æ­¥ï¼šåˆ›å»ºé›†ç¾¤
    print("åˆ›å»ºé›†ç¾¤...")
    var cluster = dba.createCluster(clusterName, {
        memberSslMode: 'REQUIRED'
    })
    
    // ç¬¬3æ­¥ï¼šæ·»åŠ å…¶ä»–èŠ‚ç‚¹
    print("æ·»åŠ èŠ‚ç‚¹...")
    for (var i = 1; i < instances.length; i++) {
        print("æ·»åŠ èŠ‚ç‚¹ï¼š" + instances[i])
        cluster.addInstance(instances[i], {
            recoveryMethod: 'clone'
        })
    }
    
    print("é›†ç¾¤éƒ¨ç½²å®Œæˆï¼")
    return cluster
}

// ä½¿ç”¨è„šæœ¬
var instances = ['mysql1:3306', 'mysql2:3306', 'mysql3:3306']
var cluster = deployCluster('prodCluster', instances)
```

### 7.2 ç»´æŠ¤è‡ªåŠ¨åŒ–è„šæœ¬


**ğŸ”¸ å®šæœŸç»´æŠ¤è„šæœ¬**ï¼š
```python
# æ–‡ä»¶ï¼šcluster_maintenance.py
def daily_maintenance():
    """æ¯æ—¥ç»´æŠ¤æ£€æŸ¥"""
    cluster = dba.get_cluster()
    
    # 1. å¥åº·æ£€æŸ¥
    print("æ‰§è¡Œå¥åº·æ£€æŸ¥...")
    status = cluster.status()
    
    # 2. æ£€æŸ¥å¤åˆ¶å»¶è¿Ÿ
    print("æ£€æŸ¥å¤åˆ¶å»¶è¿Ÿ...")
    topology = status['defaultReplicaSet']['topology']
    for instance, info in topology.items():
        if 'replicationLag' in info and info['replicationLag'] > 5:
            print(f"è­¦å‘Šï¼š{instance} å¤åˆ¶å»¶è¿Ÿ {info['replicationLag']} ç§’")
    
    # 3. æ¸…ç†è¿‡æœŸæ—¥å¿—
    print("æ¸…ç†è¿‡æœŸæ—¥å¿—...")
    session.run_sql("PURGE BINARY LOGS BEFORE DATE_SUB(NOW(), INTERVAL 7 DAY)")
    
    print("ç»´æŠ¤å®Œæˆ")

# æ‰§è¡Œç»´æŠ¤
daily_maintenance()
```

### 7.3 è„šæœ¬æ‰§è¡Œæ–¹å¼


**ğŸ”¸ å‘½ä»¤è¡Œæ‰§è¡Œ**ï¼š
```bash
# æ‰§è¡Œ JavaScript è„šæœ¬
$ mysqlsh --js -f deploy_cluster.js

# æ‰§è¡Œ Python è„šæœ¬  
$ mysqlsh --py -f cluster_maintenance.py

# äº¤äº’å¼æ‰§è¡Œ
$ mysqlsh
MySQL Shell> \source deploy_cluster.js
```

---

## 8. ğŸ–¥ï¸ äº¤äº’å¼æ“ä½œç•Œé¢


### 8.1 å‘½ä»¤è¡Œç•Œé¢ç‰¹æ€§


**ğŸ”¸ æ™ºèƒ½æç¤ºåŠŸèƒ½**ï¼š
```bash
MySQL JS > cluster.   # æŒ‰ Tab é”®è‡ªåŠ¨è¡¥å…¨
# æ˜¾ç¤ºå¯ç”¨æ–¹æ³•ï¼š
addInstance()       describe()         rejoinInstance()
removeInstance()    options()          rescan()
status()           setOption()        setPrimaryInstance()
```

**ğŸ”¸ å†å²å‘½ä»¤ç®¡ç†**ï¼š
```bash
# æŸ¥çœ‹å‘½ä»¤å†å²
MySQL JS > \history

# é‡å¤æ‰§è¡Œä¸Šä¸€æ¡å‘½ä»¤
MySQL JS > !!

# æœç´¢å†å²å‘½ä»¤
MySQL JS > \history | grep "addInstance"
```

### 8.2 è¾“å‡ºæ ¼å¼æ§åˆ¶


**ğŸ”¸ ä¸åŒè¾“å‡ºæ ¼å¼**ï¼š
```javascript
// JSON æ ¼å¼ï¼ˆé»˜è®¤ï¼‰
MySQL JS > cluster.status()

// è¡¨æ ¼æ ¼å¼
MySQL JS > \option outputFormat table
MySQL JS > cluster.status()

// å‚ç›´æ ¼å¼ï¼ˆé€‚åˆå®½è¾“å‡ºï¼‰
MySQL JS > \option outputFormat vertical  
MySQL JS > cluster.status()
```

### 8.3 ä¼šè¯ç®¡ç†


**ğŸ”¸ è¿æ¥ä¼šè¯ç®¡ç†**ï¼š
```javascript
// æŸ¥çœ‹å½“å‰ä¼šè¯
MySQL JS > \status
MySQL Server 8.0.28                           Source distribution
Protocol version: 10
Connection: mysql1:3306 via TCP/IP
Server characterset: utf8mb4

// åˆ‡æ¢è¿æ¥
MySQL JS > \connect mysql2:3306
MySQL JS > \disconnect

// ä¿å­˜ä¼šè¯é…ç½®
MySQL JS > \option --persist defaultMode js
```

---

## 9. ğŸ“¦ æ‰¹é‡ç®¡ç†åŠŸèƒ½


### 9.1 å¤šå®ä¾‹æ‰¹é‡æ“ä½œ


**ğŸ”¸ æ‰¹é‡é…ç½®å®ä¾‹**ï¼š
```javascript
// æ‰¹é‡é…ç½®å¤šä¸ªå®ä¾‹
function configureMultipleInstances(instances) {
    var results = {}
    
    instances.forEach(function(instance) {
        print("é…ç½®å®ä¾‹ï¼š" + instance)
        try {
            // æ£€æŸ¥é…ç½®
            var check = dba.checkInstanceConfiguration(instance)
            if (check.status !== "ok") {
                // è‡ªåŠ¨é…ç½®
                dba.configureInstance(instance, {restart: true})
                results[instance] = "å·²é…ç½®"
            } else {
                results[instance] = "æ— éœ€é…ç½®"
            }
        } catch (error) {
            results[instance] = "é…ç½®å¤±è´¥ï¼š" + error.message
        }
    })
    
    return results
}

// ä½¿ç”¨ç¤ºä¾‹
var instances = ['mysql1:3306', 'mysql2:3306', 'mysql3:3306']
var results = configureMultipleInstances(instances)
print(JSON.stringify(results, null, 2))
```

### 9.2 é›†ç¾¤æ‰¹é‡éƒ¨ç½²


**ğŸ”¸ ç¯å¢ƒæ‰¹é‡éƒ¨ç½²è„šæœ¬**ï¼š
```javascript
// æ‰¹é‡éƒ¨ç½²å¤šä¸ªç¯å¢ƒçš„é›†ç¾¤
function deployEnvironments(environments) {
    environments.forEach(function(env) {
        print("=== éƒ¨ç½²ç¯å¢ƒï¼š" + env.name + " ===")
        
        try {
            // åˆ›å»ºé›†ç¾¤
            var cluster = dba.createCluster(env.clusterName, env.config)
            
            // æ·»åŠ èŠ‚ç‚¹
            env.instances.slice(1).forEach(function(instance) {
                cluster.addInstance(instance, {recoveryMethod: 'clone'})
            })
            
            print("ç¯å¢ƒ " + env.name + " éƒ¨ç½²æˆåŠŸ")
            
        } catch (error) {
            print("ç¯å¢ƒ " + env.name + " éƒ¨ç½²å¤±è´¥ï¼š" + error.message)
        }
    })
}

// é…ç½®å¤šä¸ªç¯å¢ƒ
var environments = [
    {
        name: "å¼€å‘ç¯å¢ƒ",
        clusterName: "devCluster", 
        instances: ['dev-mysql1:3306', 'dev-mysql2:3306'],
        config: {memberSslMode: 'DISABLED'}
    },
    {
        name: "ç”Ÿäº§ç¯å¢ƒ",
        clusterName: "prodCluster",
        instances: ['prod-mysql1:3306', 'prod-mysql2:3306', 'prod-mysql3:3306'],
        config: {memberSslMode: 'REQUIRED'}
    }
]

deployEnvironments(environments)
```

### 9.3 æ‰¹é‡ç›‘æ§å’ŒæŠ¥å‘Š


**ğŸ”¸ å¤šé›†ç¾¤ç›‘æ§è„šæœ¬**ï¼š
```python
def monitor_all_clusters():
    """ç›‘æ§æ‰€æœ‰é›†ç¾¤çš„çŠ¶æ€"""
    clusters = ['devCluster', 'testCluster', 'prodCluster']
    
    report = {
        'timestamp': datetime.now().isoformat(),
        'clusters': {}
    }
    
    for cluster_name in clusters:
        try:
            cluster = dba.get_cluster(cluster_name)
            status = cluster.status()
            
            report['clusters'][cluster_name] = {
                'status': status['defaultReplicaSet']['status'],
                'node_count': len(status['defaultReplicaSet']['topology']),
                'online_nodes': 0,
                'issues': []
            }
            
            # æ£€æŸ¥æ¯ä¸ªèŠ‚ç‚¹
            for instance, info in status['defaultReplicaSet']['topology'].items():
                if info['status'] == 'ONLINE':
                    report['clusters'][cluster_name]['online_nodes'] += 1
                else:
                    report['clusters'][cluster_name]['issues'].append(
                        f"{instance}: {info['status']}"
                    )
                    
        except Exception as e:
            report['clusters'][cluster_name] = {
                'status': 'ERROR',
                'error': str(e)
            }
    
    return report

# ç”Ÿæˆç›‘æ§æŠ¥å‘Š
monitoring_report = monitor_all_clusters()
print(json.dumps(monitoring_report, indent=2))
```

---

## 10. ğŸ¯ å®æˆ˜åº”ç”¨æŒ‡å—


### 10.1 æ—¥å¸¸è¿ç»´æœ€ä½³å®è·µ


**ğŸ”¸ æ¯æ—¥æ£€æŸ¥æ¸…å•**ï¼š
```javascript
// æ¯æ—¥è¿ç»´æ£€æŸ¥è„šæœ¬
function dailyHealthCheck() {
    var cluster = dba.getCluster()
    var issues = []
    
    print("=== æ¯æ—¥å¥åº·æ£€æŸ¥ ===")
    
    // 1. é›†ç¾¤æ•´ä½“çŠ¶æ€
    var status = cluster.status()
    print("é›†ç¾¤çŠ¶æ€ï¼š" + status.defaultReplicaSet.status)
    
    if (status.defaultReplicaSet.status !== "OK") {
        issues.push("é›†ç¾¤çŠ¶æ€å¼‚å¸¸ï¼š" + status.defaultReplicaSet.status)
    }
    
    // 2. èŠ‚ç‚¹çŠ¶æ€æ£€æŸ¥
    var topology = status.defaultReplicaSet.topology
    Object.keys(topology).forEach(function(instance) {
        var nodeStatus = topology[instance].status
        print("èŠ‚ç‚¹ " + instance + "ï¼š" + nodeStatus)
        
        if (nodeStatus !== "ONLINE") {
            issues.push("èŠ‚ç‚¹ " + instance + " çŠ¶æ€å¼‚å¸¸ï¼š" + nodeStatus)
        }
    })
    
    // 3. ç”ŸæˆæŠ¥å‘Š
    if (issues.length === 0) {
        print("âœ… æ‰€æœ‰æ£€æŸ¥é€šè¿‡ï¼Œé›†ç¾¤è¿è¡Œæ­£å¸¸")
    } else {
        print("âš ï¸ å‘ç°ä»¥ä¸‹é—®é¢˜ï¼š")
        issues.forEach(function(issue) {
            print("  - " + issue)
        })
    }
    
    return issues.length === 0
}

// æ‰§è¡Œæ£€æŸ¥
dailyHealthCheck()
```

### 10.2 æ•…éšœå¤„ç†æµç¨‹


**ğŸ”¸ æ•…éšœè¯Šæ–­æ­¥éª¤**ï¼š

```
æ•…éšœå¤„ç†æµç¨‹ï¼š
é—®é¢˜å‘ç° â†’ çŠ¶æ€è¯Šæ–­ â†’ é—®é¢˜å®šä½ â†’ è§£å†³æ–¹æ¡ˆ â†’ éªŒè¯æ¢å¤

ç¬¬1æ­¥ï¼šå¿«é€Ÿè¯Šæ–­
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ cluster.status()            â”‚ â†’ æŸ¥çœ‹æ•´ä½“çŠ¶æ€
â”‚ cluster.checkInstanceState()â”‚ â†’ æ£€æŸ¥é—®é¢˜èŠ‚ç‚¹  
â”‚ cluster.rescan()            â”‚ â†’ é‡æ–°æ‰«ææ‹“æ‰‘
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ç¬¬2æ­¥ï¼šå¸¸è§é—®é¢˜å¤„ç†
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ èŠ‚ç‚¹ç¦»çº¿ï¼š                   â”‚
â”‚ cluster.rejoinInstance()    â”‚ â†’ é‡æ–°åŠ å…¥
â”‚                            â”‚
â”‚ ç½‘ç»œåˆ†åŒºï¼š                   â”‚ 
â”‚ cluster.forceQuorum...()    â”‚ â†’ å¼ºåˆ¶ä»²è£
â”‚                            â”‚
â”‚ ä¸»èŠ‚ç‚¹æ•…éšœï¼š                 â”‚
â”‚ cluster.setPrimaryInstance()â”‚ â†’ æ‰‹åŠ¨åˆ‡æ¢
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 10.3 æ€§èƒ½ä¼˜åŒ–å»ºè®®


**ğŸ”¸ é›†ç¾¤æ€§èƒ½è°ƒä¼˜**ï¼š
```javascript
// æ€§èƒ½ä¼˜åŒ–é…ç½®ç¤ºä¾‹
function optimizeCluster() {
    var cluster = dba.getCluster()
    
    // 1. è°ƒæ•´èŠ‚ç‚¹æƒé‡ï¼ˆå½±å“é€‰ä¸»ï¼‰
    cluster.setInstanceOption('mysql1:3306', 'memberWeight', 100)  // ä¸»èŠ‚ç‚¹
    cluster.setInstanceOption('mysql2:3306', 'memberWeight', 90)   // å¤‡é€‰ä¸»èŠ‚ç‚¹  
    cluster.setInstanceOption('mysql3:3306', 'memberWeight', 80)   // ä»èŠ‚ç‚¹
    
    // 2. è®¾ç½®è‡ªåŠ¨é‡è¿å‚æ•°
    cluster.setInstanceOption('mysql2:3306', 'autoRejoinTries', 5)
    cluster.setInstanceOption('mysql3:3306', 'autoRejoinTries', 5)
    
    // 3. å¯ç”¨å¹¶è¡Œå¤åˆ¶ï¼ˆåœ¨æ¯ä¸ªèŠ‚ç‚¹ä¸Šæ‰§è¡Œï¼‰
    session.runSql("SET GLOBAL slave_parallel_workers = 4")
    session.runSql("SET GLOBAL slave_parallel_type = 'LOGICAL_CLOCK'")
    
    print("é›†ç¾¤æ€§èƒ½ä¼˜åŒ–é…ç½®å®Œæˆ")
}

optimizeCluster()
```

---

## 11. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 11.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ MySQL Shell æœ¬è´¨ï¼šMySQL å®˜æ–¹çš„é›†ç¾¤ç®¡ç†è¶…çº§å·¥å…·
ğŸ”¸ AdminAPI æ¥å£ï¼šä¸“é—¨æ“ä½œ InnoDB Cluster çš„ç®¡ç†å‘½ä»¤åŒ…
ğŸ”¸ å¤šè¯­è¨€æ”¯æŒï¼šJavaScriptï¼ˆæ—¥å¸¸ç®¡ç†ï¼‰ã€Pythonï¼ˆè‡ªåŠ¨åŒ–ï¼‰ã€SQLï¼ˆä¼ ç»ŸæŸ¥è¯¢ï¼‰
ğŸ”¸ é›†ç¾¤ç”Ÿå‘½å‘¨æœŸï¼šåˆ›å»º â†’ æ‰©å±• â†’ ç›‘æ§ â†’ ç»´æŠ¤ â†’ æ•…éšœå¤„ç†
ğŸ”¸ è‡ªåŠ¨åŒ–èƒ½åŠ›ï¼šè„šæœ¬åŒ–æ‰¹é‡æ“ä½œï¼Œæé«˜è¿ç»´æ•ˆç‡
```

### 11.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ ä¸ºä»€ä¹ˆ MySQL Shell è¿™ä¹ˆé‡è¦**
```
ä¼ ç»Ÿæ–¹å¼ï¼šæ‰‹å·¥é…ç½®ï¼Œå®¹æ˜“å‡ºé”™ï¼Œæ•ˆç‡ä½ä¸‹
Shell æ–¹å¼ï¼šè‡ªåŠ¨åŒ–ç®¡ç†ï¼Œæ™ºèƒ½æ•…éšœå¤„ç†ï¼Œç»Ÿä¸€æ“ä½œå…¥å£

æ ¸å¿ƒä»·å€¼ï¼š
â€¢ ç®€åŒ–å¤æ‚æ“ä½œï¼šä¸€æ¡å‘½ä»¤å®Œæˆå¤šæ­¥æ“ä½œ
â€¢ å‡å°‘äººä¸ºé”™è¯¯ï¼šè‡ªåŠ¨é…ç½®å’ŒéªŒè¯
â€¢ æé«˜è¿ç»´æ•ˆç‡ï¼šæ‰¹é‡ç®¡ç†å’Œè‡ªåŠ¨åŒ–è„šæœ¬
â€¢ ä¿éšœé«˜å¯ç”¨ï¼šæ™ºèƒ½æ•…éšœæ£€æµ‹å’Œå¤„ç†
```

**ğŸ”¹ AdminAPI çš„è®¾è®¡ç†å¿µ**
```
é¢å‘å¯¹è±¡ï¼šcluster.addInstance() æ¯” SQL å‘½ä»¤æ›´ç›´è§‚
å£°æ˜å¼æ“ä½œï¼šå‘Šè¯‰ç³»ç»Ÿè¦ä»€ä¹ˆç»“æœï¼Œä¸ç”¨å…³å¿ƒå…·ä½“æ­¥éª¤
å¹‚ç­‰æ€§æ“ä½œï¼šé‡å¤æ‰§è¡Œç›¸åŒå‘½ä»¤ä¸ä¼šäº§ç”Ÿå‰¯ä½œç”¨
```

**ğŸ”¹ è¯­è¨€é€‰æ‹©ç­–ç•¥**
```
JavaScriptï¼š
â€¢ è¯­æ³•ç®€å•ï¼Œé€‚åˆæ—¥å¸¸ç®¡ç†
â€¢ JSON æ ¼å¼è¾“å‡ºï¼Œä¾¿äºé˜…è¯»
â€¢ å¯¹è±¡æ–¹æ³•è°ƒç”¨ï¼Œç¬¦åˆç›´è§‰

Pythonï¼š
â€¢ è„šæœ¬åŠŸèƒ½å¼ºå¤§ï¼Œé€‚åˆè‡ªåŠ¨åŒ–
â€¢ åº“æ”¯æŒä¸°å¯Œï¼Œå¯æ‰©å±•æ€§å¥½
â€¢ æ•°æ®å¤„ç†èƒ½åŠ›å¼º

SQLï¼š
â€¢ ä¼ ç»ŸæŸ¥è¯¢éœ€æ±‚
â€¢ æ•°æ®åˆ†æå’ŒæŠ¥è¡¨
â€¢ ä¸ç°æœ‰ SQL æŠ€èƒ½åŒ¹é…
```

### 11.3 å®é™…åº”ç”¨ä»·å€¼


**ğŸ¯ ä¸šåŠ¡åœºæ™¯åº”ç”¨**
- **å¿«é€Ÿéƒ¨ç½²**ï¼šæ–°é¡¹ç›®å¯ä»¥å¿«é€Ÿæ­å»ºé«˜å¯ç”¨æ•°æ®åº“é›†ç¾¤
- **å¼¹æ€§æ‰©å®¹**ï¼šä¸šåŠ¡å¢é•¿æ—¶ä¸€é”®æ·»åŠ æ•°æ®åº“èŠ‚ç‚¹
- **æ•…éšœæ¢å¤**ï¼šè‡ªåŠ¨æ£€æµ‹å’Œå¤„ç†èŠ‚ç‚¹æ•…éšœï¼Œä¿éšœä¸šåŠ¡è¿ç»­æ€§
- **è¿ç»´è‡ªåŠ¨åŒ–**ï¼šå‡å°‘äººå·¥æ“ä½œï¼Œé™ä½è¿ç»´æˆæœ¬

**ğŸ”§ è¿ç»´å®è·µä»·å€¼**
- **æ ‡å‡†åŒ–æ“ä½œ**ï¼šç»Ÿä¸€çš„ç®¡ç†å‘½ä»¤ï¼Œå‡å°‘æ“ä½œå·®å¼‚
- **å¯è§†åŒ–ç›‘æ§**ï¼šç›´è§‚çš„çŠ¶æ€å±•ç¤ºï¼Œä¾¿äºé—®é¢˜å‘ç°
- **è„šæœ¬åŒ–ç®¡ç†**ï¼šæ‰¹é‡æ“ä½œå’Œå®šæ—¶ä»»åŠ¡ï¼Œæé«˜æ•ˆç‡
- **çŸ¥è¯†æ²‰æ·€**ï¼šè„šæœ¬å¯ä»¥å¤ç”¨ï¼Œç»éªŒå¯ä»¥ä¼ æ‰¿

### 11.4 å­¦ä¹ å»ºè®®


**ğŸš€ å­¦ä¹ è·¯å¾„**
```
å…¥é—¨é˜¶æ®µï¼šæŒæ¡åŸºæœ¬çš„é›†ç¾¤åˆ›å»ºå’Œç®¡ç†å‘½ä»¤
è¿›é˜¶é˜¶æ®µï¼šå­¦ä¼šç¼–å†™ç®€å•çš„è‡ªåŠ¨åŒ–è„šæœ¬
é«˜çº§é˜¶æ®µï¼šèƒ½å¤Ÿå¤„ç†å¤æ‚æ•…éšœå’Œæ€§èƒ½ä¼˜åŒ–
ä¸“å®¶é˜¶æ®µï¼šè®¾è®¡ä¼ä¸šçº§æ•°æ®åº“é›†ç¾¤è§£å†³æ–¹æ¡ˆ
```

**ğŸ’¡ å®è·µå»ºè®®**
- **å¤šåŠ¨æ‰‹**ï¼šåœ¨æµ‹è¯•ç¯å¢ƒä¸­åå¤ç»ƒä¹ åŸºæœ¬æ“ä½œ
- **çœ‹æ—¥å¿—**ï¼šå‡ºç°é—®é¢˜æ—¶ä»”ç»†æŸ¥çœ‹é”™è¯¯ä¿¡æ¯
- **å†™è„šæœ¬**ï¼šå°†é‡å¤æ“ä½œæ•´ç†æˆè„šæœ¬ï¼Œæé«˜æ•ˆç‡
- **åšè®°å½•**ï¼šè®°å½•å¸¸è§é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆï¼Œå»ºç«‹çŸ¥è¯†åº“

**æ ¸å¿ƒè®°å¿†**ï¼š
- MySQL Shell æ˜¯é›†ç¾¤ç®¡ç†çš„ç‘å£«å†›åˆ€
- AdminAPI è®©å¤æ‚æ“ä½œå˜å¾—ç®€å•ç›´è§‚
- JavaScript æ—¥å¸¸ç®¡ç†ï¼ŒPython è‡ªåŠ¨åŒ–è¿ç»´
- ä¸€æ¡å‘½ä»¤èƒœè¿‡åƒè¡Œé…ç½®ï¼Œæ™ºèƒ½åŒ–æ˜¯è¶‹åŠ¿