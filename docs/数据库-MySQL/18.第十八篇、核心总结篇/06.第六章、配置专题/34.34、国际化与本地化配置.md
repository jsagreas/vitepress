---
title: 34ã€å›½é™…åŒ–ä¸Žæœ¬åœ°åŒ–é…ç½®
---
## ðŸ“š ç›®å½•

1. [å›½é™…åŒ–é…ç½®æ¦‚è¿°](#1-å›½é™…åŒ–é…ç½®æ¦‚è¿°)
2. [å­—ç¬¦é›†é…ç½®è¯¦è§£](#2-å­—ç¬¦é›†é…ç½®è¯¦è§£)
3. [æŽ’åºè§„åˆ™é…ç½®](#3-æŽ’åºè§„åˆ™é…ç½®)
4. [è¯­è¨€ä¸Žæ—¶åŒºè®¾ç½®](#4-è¯­è¨€ä¸Žæ—¶åŒºè®¾ç½®)
5. [è¿žæŽ¥çº§å­—ç¬¦é›†é…ç½®](#5-è¿žæŽ¥çº§å­—ç¬¦é›†é…ç½®)
6. [å®žé™…åº”ç”¨ä¸Žæœ€ä½³å®žè·µ](#6-å®žé™…åº”ç”¨ä¸Žæœ€ä½³å®žè·µ)
7. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#7-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ðŸŒ å›½é™…åŒ–é…ç½®æ¦‚è¿°


### 1.1 ä»€ä¹ˆæ˜¯å›½é™…åŒ–é…ç½®


**é€šä¿—ç†è§£**ï¼šå›½é™…åŒ–é…ç½®å°±åƒç»™MySQLè£…ä¸Š"ç¿»è¯‘å™¨"å’Œ"æ–‡åŒ–é€‚é…å™¨"ï¼Œè®©å®ƒèƒ½æ­£ç¡®å¤„ç†ä¸åŒå›½å®¶å’Œåœ°åŒºçš„æ–‡å­—ã€æ—¶é—´æ ¼å¼ã€æŽ’åºæ–¹å¼ç­‰ã€‚

```
çŽ°å®žç”Ÿæ´»ç±»æ¯”ï¼š
ä¸­æ–‡ç½‘ç«™ â†’ æ˜¾ç¤ºä¸­æ–‡ï¼ŒæŒ‰æ‹¼éŸ³æŽ’åºï¼Œæ˜¾ç¤ºå†œåŽ†
è‹±æ–‡ç½‘ç«™ â†’ æ˜¾ç¤ºè‹±æ–‡ï¼ŒæŒ‰å­—æ¯æŽ’åºï¼Œæ˜¾ç¤ºå…¬åŽ†
æ—¥æ–‡ç½‘ç«™ â†’ æ˜¾ç¤ºæ—¥æ–‡ï¼ŒæŒ‰å‡åæŽ’åºï¼Œæ˜¾ç¤ºå’ŒåŽ†

MySQLå›½é™…åŒ–ï¼š
ä¸­æ–‡æ•°æ®åº“ â†’ utf8å­—ç¬¦é›†ï¼Œä¸­æ–‡æŽ’åºï¼Œä¸­æ–‡é”™è¯¯ä¿¡æ¯
è‹±æ–‡æ•°æ®åº“ â†’ latin1å­—ç¬¦é›†ï¼Œè‹±æ–‡æŽ’åºï¼Œè‹±æ–‡é”™è¯¯ä¿¡æ¯
```

### 1.2 å›½é™…åŒ–é…ç½®çš„æ ¸å¿ƒç»„æˆ


**ðŸ”¸ ä¸‰å¤§æ ¸å¿ƒè¦ç´ **

```
å­—ç¬¦é›†(Character Set)ï¼š
â€¢ ä½œç”¨ï¼šå†³å®šèƒ½å­˜å‚¨å“ªäº›æ–‡å­—
â€¢ ç±»æ¯”ï¼šå°±åƒä¸åŒçš„"å­—å…¸"
â€¢ ç¤ºä¾‹ï¼šutf8æ”¯æŒä¸­æ–‡ï¼Œlatin1åªæ”¯æŒè‹±æ–‡

æŽ’åºè§„åˆ™(Collation)ï¼š
â€¢ ä½œç”¨ï¼šå†³å®šæ–‡å­—å¦‚ä½•æŽ’åºå’Œæ¯”è¾ƒ
â€¢ ç±»æ¯”ï¼šå°±åƒä¸åŒçš„"æŽ’åºæ–¹æ³•"
â€¢ ç¤ºä¾‹ï¼šä¸­æ–‡æŒ‰æ‹¼éŸ³æŽ’åºï¼Œè‹±æ–‡æŒ‰å­—æ¯æŽ’åº

è¯­è¨€æ¶ˆæ¯(Language Messages)ï¼š
â€¢ ä½œç”¨ï¼šå†³å®šé”™è¯¯ä¿¡æ¯ç”¨ä»€ä¹ˆè¯­è¨€æ˜¾ç¤º
â€¢ ç±»æ¯”ï¼šå°±åƒç³»ç»Ÿçš„"æç¤ºè¯­è¨€"
â€¢ ç¤ºä¾‹ï¼šé”™è¯¯ä¿¡æ¯æ˜¾ç¤ºä¸­æ–‡è¿˜æ˜¯è‹±æ–‡
```

### 1.3 é…ç½®å±‚çº§ç»“æž„


```
MySQLå­—ç¬¦é›†é…ç½®å±‚çº§ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    æœåŠ¡å™¨çº§åˆ«       â”‚ â† character_set_server
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    æ•°æ®åº“çº§åˆ«       â”‚ â† character_set_database
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    è¡¨çº§åˆ«          â”‚ â† CREATE TABLEæ—¶æŒ‡å®š
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    åˆ—çº§åˆ«          â”‚ â† åˆ—å®šä¹‰æ—¶æŒ‡å®š
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ä¼˜å…ˆçº§ï¼šåˆ—çº§åˆ« > è¡¨çº§åˆ« > æ•°æ®åº“çº§åˆ« > æœåŠ¡å™¨çº§åˆ«
```

---

## 2. ðŸ“ å­—ç¬¦é›†é…ç½®è¯¦è§£


### 2.1 æœåŠ¡å™¨çº§å­—ç¬¦é›†è®¾ç½®


**character_set_server**ï¼šæœåŠ¡å™¨é»˜è®¤å­—ç¬¦é›†

```ini
# my.cnfé…ç½®
[mysqld]
# è®¾ç½®æœåŠ¡å™¨é»˜è®¤å­—ç¬¦é›†ä¸ºUTF8
character_set_server = utf8mb4

# å¸¸ç”¨å­—ç¬¦é›†é€‰æ‹©
character_set_server = utf8mb4    # æŽ¨èï¼šæ”¯æŒå®Œæ•´Unicodeï¼ŒåŒ…æ‹¬emoji
character_set_server = utf8       # æ ‡å‡†ï¼šæ”¯æŒå¤§éƒ¨åˆ†Unicodeå­—ç¬¦
character_set_server = latin1     # ä»…è‹±æ–‡ï¼šåªæ”¯æŒè¥¿æ¬§å­—ç¬¦
character_set_server = gbk        # ä¸­æ–‡ï¼šæ”¯æŒç®€ä½“ä¸­æ–‡
```

**ðŸ’¡ å­—ç¬¦é›†é€‰æ‹©æŒ‡å—**

| å­—ç¬¦é›† | **æ”¯æŒè¯­è¨€** | **å­˜å‚¨ç©ºé—´** | **é€‚ç”¨åœºæ™¯** |
|--------|-------------|-------------|-------------|
| `utf8mb4` | å…¨çƒæ‰€æœ‰è¯­è¨€+emoji | 1-4å­—èŠ‚/å­—ç¬¦ | **æŽ¨èé€‰æ‹©ï¼Œå›½é™…åŒ–åº”ç”¨** |
| `utf8` | å¤§éƒ¨åˆ†è¯­è¨€(ä¸å«emoji) | 1-3å­—èŠ‚/å­—ç¬¦ | å¤šè¯­è¨€åº”ç”¨ |
| `gbk` | ç®€ä½“ä¸­æ–‡+è‹±æ–‡ | 1-2å­—èŠ‚/å­—ç¬¦ | çº¯ä¸­æ–‡åº”ç”¨ |
| `latin1` | è‹±æ–‡+è¥¿æ¬§è¯­è¨€ | 1å­—èŠ‚/å­—ç¬¦ | è‹±æ–‡åº”ç”¨ï¼Œæ€§èƒ½æœ€å¥½ |

### 2.2 å®¢æˆ·ç«¯è¿žæŽ¥å­—ç¬¦é›†


**character_set_client**ï¼šå®¢æˆ·ç«¯å‘é€æ•°æ®çš„å­—ç¬¦é›†

```ini
# å®¢æˆ·ç«¯å­—ç¬¦é›†é…ç½®
[mysql]
default-character-set = utf8mb4

[mysqld]
# æœåŠ¡å™¨æŽ¥æ”¶å®¢æˆ·ç«¯æ•°æ®çš„å­—ç¬¦é›†
character_set_client = utf8mb4
```

**character_set_connection**ï¼šè¿žæŽ¥å­—ç¬¦é›†

```ini
# è¿žæŽ¥è¿‡ç¨‹ä¸­çš„å­—ç¬¦é›†è½¬æ¢
character_set_connection = utf8mb4
```

**character_set_results**ï¼šè¿”å›žç»“æžœçš„å­—ç¬¦é›†

```ini
# æœåŠ¡å™¨è¿”å›žç»™å®¢æˆ·ç«¯çš„å­—ç¬¦é›†
character_set_results = utf8mb4
```

### 2.3 æ–‡ä»¶ç³»ç»Ÿå­—ç¬¦é›†


**character_set_filesystem**ï¼šæ–‡ä»¶ç³»ç»Ÿå­—ç¬¦é›†

```ini
# æ–‡ä»¶ç³»ç»Ÿå­—ç¬¦é›†è®¾ç½®
character_set_filesystem = binary  # é»˜è®¤å€¼ï¼ŒæŽ¨èä¿æŒ

# ç‰¹æ®Šæƒ…å†µï¼šWindowsä¸­æ–‡ç³»ç»Ÿ
character_set_filesystem = gbk
```

**ðŸ” ä½œç”¨è¯´æ˜Ž**ï¼š
- `binary`ï¼šæŒ‰äºŒè¿›åˆ¶å¤„ç†æ–‡ä»¶åï¼Œæœ€å®‰å…¨
- å…¶ä»–å­—ç¬¦é›†ï¼šå½“æ–‡ä»¶ç³»ç»Ÿæ–‡ä»¶åéœ€è¦ç‰¹æ®Šå­—ç¬¦é›†è½¬æ¢æ—¶ä½¿ç”¨

---

## 3. ðŸ”¤ æŽ’åºè§„åˆ™é…ç½®


### 3.1 ä»€ä¹ˆæ˜¯æŽ’åºè§„åˆ™


**é€šä¿—ç†è§£**ï¼šæŽ’åºè§„åˆ™å†³å®šäº†æ–‡å­—å¦‚ä½•æ¯”è¾ƒå¤§å°å’ŒæŽ’åºï¼Œå°±åƒä¸åŒçš„"æŽ’åºæ ‡å‡†"ã€‚

```
ä¸­æ–‡æŽ’åºç¤ºä¾‹ï¼š
æŒ‰æ‹¼éŸ³ï¼šé˜¿ã€ç™¾ã€è‰ã€çš„
æŒ‰ç¬”ç”»ï¼šä¸€ã€ä¹™ã€äºŒã€å

è‹±æ–‡æŽ’åºç¤ºä¾‹ï¼š
åŒºåˆ†å¤§å°å†™ï¼šAã€Bã€aã€b
ä¸åŒºåˆ†å¤§å°å†™ï¼šAã€aã€Bã€b

æ•°å­—æŽ’åºç¤ºä¾‹ï¼š
å­—ç¬¦ä¸²æŽ’åºï¼š1ã€10ã€2ã€20
æ•°å€¼æŽ’åºï¼š1ã€2ã€10ã€20
```

### 3.2 æœåŠ¡å™¨çº§æŽ’åºè§„åˆ™


**collation_server**ï¼šæœåŠ¡å™¨é»˜è®¤æŽ’åºè§„åˆ™

```ini
# æœåŠ¡å™¨æŽ’åºè§„åˆ™é…ç½®
[mysqld]
collation_server = utf8mb4_unicode_ci

# å¸¸ç”¨æŽ’åºè§„åˆ™è¯´æ˜Ž
collation_server = utf8mb4_unicode_ci    # æŽ¨èï¼šUnicodeæ ‡å‡†æŽ’åº
collation_server = utf8mb4_general_ci    # é€šç”¨ï¼šç®€åŒ–å¿«é€ŸæŽ’åº
collation_server = utf8mb4_bin          # äºŒè¿›åˆ¶ï¼šåŒºåˆ†å¤§å°å†™
collation_server = utf8mb4_0900_ai_ci   # MySQL 8.0æ–°æ ‡å‡†
```

**æŽ’åºè§„åˆ™å‘½åè§„å¾‹**ï¼š
```
utf8mb4_unicode_ci è§£è¯»ï¼š
â”œâ”€ utf8mb4     â† å­—ç¬¦é›†åç§°
â”œâ”€ unicode     â† æŽ’åºç®—æ³•(unicodeæ ‡å‡†)
â””â”€ ci          â† Case Insensitive(ä¸åŒºåˆ†å¤§å°å†™)

å…¶ä»–åŽç¼€å«ä¹‰ï¼š
â€¢ ci = Case Insensitive (ä¸åŒºåˆ†å¤§å°å†™)
â€¢ cs = Case Sensitive (åŒºåˆ†å¤§å°å†™)  
â€¢ bin = Binary (äºŒè¿›åˆ¶æ¯”è¾ƒ)
â€¢ ai = Accent Insensitive (ä¸åŒºåˆ†é‡éŸ³)
```

### 3.3 è¿žæŽ¥å’Œæ•°æ®åº“æŽ’åºè§„åˆ™


**collation_connection**ï¼šè¿žæŽ¥æŽ’åºè§„åˆ™

```ini
# è¿žæŽ¥æ—¶çš„æŽ’åºè§„åˆ™
collation_connection = utf8mb4_unicode_ci
```

**collation_database**ï¼šæ•°æ®åº“é»˜è®¤æŽ’åºè§„åˆ™

```ini
# æ•°æ®åº“çº§åˆ«æŽ’åºè§„åˆ™
collation_database = utf8mb4_unicode_ci
```

### 3.4 æŽ’åºè§„åˆ™å¯¹æ¯”ç¤ºä¾‹


```sql
-- æ¼”ç¤ºä¸åŒæŽ’åºè§„åˆ™çš„æ•ˆæžœ
-- æ•°æ®ï¼š'Apple', 'apple', 'APPLE', 'è‹¹æžœ'

-- 1. ä¸åŒºåˆ†å¤§å°å†™æŽ’åº (utf8mb4_unicode_ci)
SELECT * FROM test ORDER BY name COLLATE utf8mb4_unicode_ci;
-- ç»“æžœï¼š'Apple', 'apple', 'APPLE', 'è‹¹æžœ'

-- 2. åŒºåˆ†å¤§å°å†™æŽ’åº (utf8mb4_bin)  
SELECT * FROM test ORDER BY name COLLATE utf8mb4_bin;
-- ç»“æžœï¼š'APPLE', 'Apple', 'apple', 'è‹¹æžœ'

-- 3. äºŒè¿›åˆ¶æŽ’åº (binary)
SELECT * FROM test ORDER BY name COLLATE binary;
-- ç»“æžœï¼šæŒ‰ASCIIå€¼æŽ’åº
```

---

## 4. ðŸŒ è¯­è¨€ä¸Žæ—¶åŒºè®¾ç½®


### 4.1 è¯­è¨€æ¶ˆæ¯é…ç½®


**lc_messages**ï¼šé”™è¯¯æ¶ˆæ¯è¯­è¨€

```ini
# é”™è¯¯æ¶ˆæ¯è¯­è¨€è®¾ç½®
[mysqld]
lc_messages = en_US          # è‹±æ–‡é”™è¯¯æ¶ˆæ¯
lc_messages = zh_CN          # ä¸­æ–‡é”™è¯¯æ¶ˆæ¯
lc_messages = ja_JP          # æ—¥æ–‡é”™è¯¯æ¶ˆæ¯
```

**lc_messages_dir**ï¼šæ¶ˆæ¯æ–‡ä»¶ç›®å½•

```ini
# æ¶ˆæ¯æ–‡ä»¶ç›®å½•(é€šå¸¸æ— éœ€ä¿®æ”¹)
lc_messages_dir = /usr/share/mysql
```

**ðŸ” é”™è¯¯æ¶ˆæ¯å¯¹æ¯”**ï¼š
```sql
-- è‹±æ–‡é”™è¯¯æ¶ˆæ¯ (lc_messages = en_US)
ERROR 1146 (42S02): Table 'test.nonexistent' doesn't exist

-- ä¸­æ–‡é”™è¯¯æ¶ˆæ¯ (lc_messages = zh_CN)  
ERROR 1146 (42S02): è¡¨ 'test.nonexistent' ä¸å­˜åœ¨
```

### 4.2 æ—¶é—´åç§°è®¾ç½®


**lc_time_names**ï¼šæ—¶é—´åç§°è¯­è¨€

```ini
# æ—¶é—´æ˜¾ç¤ºè¯­è¨€
[mysqld]
lc_time_names = en_US        # è‹±æ–‡ï¼šJanuary, Monday
lc_time_names = zh_CN        # ä¸­æ–‡ï¼šä¸€æœˆ, æ˜ŸæœŸä¸€
lc_time_names = ja_JP        # æ—¥æ–‡ï¼š1æœˆ, æœˆæ›œæ—¥
```

**ðŸ“… æ—¶é—´åç§°æ•ˆæžœç¤ºä¾‹**ï¼š
```sql
-- è‹±æ–‡æ—¶é—´åç§°
SELECT DATE_FORMAT(NOW(), '%M %W');
-- ç»“æžœï¼šSeptember Wednesday

-- ä¸­æ–‡æ—¶é—´åç§°  
SET lc_time_names = 'zh_CN';
SELECT DATE_FORMAT(NOW(), '%M %W');
-- ç»“æžœï¼šä¹æœˆ æ˜ŸæœŸä¸‰
```

---

## 5. ðŸ”— è¿žæŽ¥çº§å­—ç¬¦é›†é…ç½®


### 5.1 è¿žæŽ¥åˆå§‹åŒ–è¯­å¥


**init_connect**ï¼šå®¢æˆ·ç«¯è¿žæŽ¥æ—¶è‡ªåŠ¨æ‰§è¡Œçš„è¯­å¥

```ini
# è¿žæŽ¥åˆå§‹åŒ–é…ç½®
[mysqld]
# è®¾ç½®è¿žæŽ¥æ—¶çš„å­—ç¬¦é›†å’Œæ—¶åŒº
init_connect = 'SET NAMES utf8mb4; SET time_zone = "+08:00"'

# å¤šæ¡åˆå§‹åŒ–è¯­å¥
init_connect = 'SET NAMES utf8mb4; SET sql_mode = "STRICT_TRANS_TABLES"; SET time_zone = "+08:00"'
```

**âš ï¸ é‡è¦æé†’**ï¼š
- `init_connect`å¯¹rootç”¨æˆ·æ— æ•ˆ
- ä¸»è¦ç”¨äºŽæ™®é€šç”¨æˆ·çš„çŽ¯å¢ƒåˆå§‹åŒ–
- è¯­æ³•é”™è¯¯ä¼šå¯¼è‡´è¿žæŽ¥å¤±è´¥

### 5.2 å­—ç¬¦é›†è½¬æ¢æµç¨‹


```
å®¢æˆ·ç«¯è¿žæŽ¥å­—ç¬¦é›†è½¬æ¢æµç¨‹ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   å®¢æˆ·ç«¯æ•°æ®    â”‚â”€â”€â”€â†’â”‚   MySQLæœåŠ¡å™¨   â”‚â”€â”€â”€â†’â”‚   å­˜å‚¨åˆ°ç£ç›˜    â”‚
â”‚character_set_   â”‚    â”‚character_set_   â”‚    â”‚   è¡¨å­—ç¬¦é›†      â”‚
â”‚client           â”‚    â”‚connection       â”‚    â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†‘                        â†“                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   è¿”å›žç»™å®¢æˆ·ç«¯  â”‚â†â”€â”€â”€â”‚   æŸ¥è¯¢ç»“æžœå¤„ç†  â”‚â†â”€â”€â”€â”‚   ä»Žç£ç›˜è¯»å–    â”‚
â”‚character_set_   â”‚    â”‚character_set_   â”‚    â”‚   è¡¨å­—ç¬¦é›†      â”‚
â”‚results          â”‚    â”‚connection       â”‚    â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.3 SET NAMESå‘½ä»¤


**å¿«é€Ÿè®¾ç½®è¿žæŽ¥å­—ç¬¦é›†**ï¼š
```sql
-- ç­‰æ•ˆäºŽåŒæ—¶è®¾ç½®ä¸‰ä¸ªå­—ç¬¦é›†å˜é‡
SET NAMES utf8mb4;

-- ç­‰æ•ˆäºŽï¼š
SET character_set_client = utf8mb4;
SET character_set_connection = utf8mb4;  
SET character_set_results = utf8mb4;

-- åŒæ—¶è®¾ç½®æŽ’åºè§„åˆ™
SET NAMES utf8mb4 COLLATE utf8mb4_unicode_ci;
```

---

## 6. ðŸ› ï¸ å®žé™…åº”ç”¨ä¸Žæœ€ä½³å®žè·µ


### 6.1 å®Œæ•´çš„å›½é™…åŒ–é…ç½®ç¤ºä¾‹


```ini
# my.cnf - æŽ¨èçš„å›½é™…åŒ–é…ç½®
[mysqld]
# === å­—ç¬¦é›†é…ç½® ===
character_set_server = utf8mb4
character_set_filesystem = binary

# === æŽ’åºè§„åˆ™é…ç½® ===  
collation_server = utf8mb4_unicode_ci

# === è¯­è¨€é…ç½® ===
lc_messages = en_US
lc_time_names = en_US

# === è¿žæŽ¥åˆå§‹åŒ– ===
init_connect = 'SET NAMES utf8mb4 COLLATE utf8mb4_unicode_ci'

[mysql]
# å®¢æˆ·ç«¯é»˜è®¤å­—ç¬¦é›†
default-character-set = utf8mb4

[client]
# å®¢æˆ·ç«¯è¿žæŽ¥å­—ç¬¦é›†
default-character-set = utf8mb4
```

### 6.2 ä¸åŒåº”ç”¨åœºæ™¯çš„é…ç½®


**ðŸŒ å¤šè¯­è¨€å›½é™…åŒ–åº”ç”¨**ï¼š
```ini
[mysqld]
character_set_server = utf8mb4
collation_server = utf8mb4_unicode_ci
lc_messages = en_US
lc_time_names = en_US
init_connect = 'SET NAMES utf8mb4'
```

**ðŸ‡¨ðŸ‡³ çº¯ä¸­æ–‡åº”ç”¨**ï¼š
```ini
[mysqld]
character_set_server = utf8mb4
collation_server = utf8mb4_unicode_ci
lc_messages = zh_CN
lc_time_names = zh_CN
init_connect = 'SET NAMES utf8mb4'
```

**ðŸ‡ºðŸ‡¸ çº¯è‹±æ–‡é«˜æ€§èƒ½åº”ç”¨**ï¼š
```ini
[mysqld]
character_set_server = latin1
collation_server = latin1_swedish_ci
lc_messages = en_US
lc_time_names = en_US
init_connect = 'SET NAMES latin1'
```

### 6.3 é…ç½®éªŒè¯æ–¹æ³•


**æ£€æŸ¥å½“å‰å­—ç¬¦é›†è®¾ç½®**ï¼š
```sql
-- æŸ¥çœ‹æ‰€æœ‰å­—ç¬¦é›†å˜é‡
SHOW VARIABLES LIKE 'character_set%';

-- æŸ¥çœ‹æ‰€æœ‰æŽ’åºè§„åˆ™å˜é‡
SHOW VARIABLES LIKE 'collation%';

-- æŸ¥çœ‹è¯­è¨€è®¾ç½®
SHOW VARIABLES LIKE 'lc_%';
```

**æµ‹è¯•å­—ç¬¦é›†æ˜¯å¦æ­£ç¡®**ï¼š
```sql
-- åˆ›å»ºæµ‹è¯•è¡¨
CREATE TABLE charset_test (
    id INT PRIMARY KEY,
    name VARCHAR(50)
) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;

-- æ’å…¥å¤šè¯­è¨€æµ‹è¯•æ•°æ®
INSERT INTO charset_test VALUES 
(1, 'Hello World'),
(2, 'ä½ å¥½ä¸–ç•Œ'),  
(3, 'ã“ã‚“ã«ã¡ã¯'),
(4, 'ðŸŒðŸŒŽðŸŒ');

-- æŸ¥è¯¢éªŒè¯
SELECT * FROM charset_test;
```

### 6.4 å¸¸è§é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ


**âŒ ä¹±ç é—®é¢˜**ï¼š
```
é—®é¢˜ï¼šä¸­æ–‡æ˜¾ç¤ºä¸º???æˆ–ä¹±ç 
åŽŸå› ï¼šå­—ç¬¦é›†é…ç½®ä¸åŒ¹é…
è§£å†³ï¼šç»Ÿä¸€ä½¿ç”¨utf8mb4å­—ç¬¦é›†
```

**âŒ emojiå­˜å‚¨å¤±è´¥**ï¼š
```
é—®é¢˜ï¼šemojiå­—ç¬¦æ— æ³•å­˜å‚¨
åŽŸå› ï¼šä½¿ç”¨äº†utf8è€Œä¸æ˜¯utf8mb4
è§£å†³ï¼šå‡çº§åˆ°utf8mb4å­—ç¬¦é›†
```

**âŒ æŽ’åºç»“æžœä¸ç¬¦åˆé¢„æœŸ**ï¼š
```
é—®é¢˜ï¼šä¸­æ–‡æŽ’åºé¡ºåºé”™è¯¯
åŽŸå› ï¼šæŽ’åºè§„åˆ™ä¸é€‚åˆä¸­æ–‡
è§£å†³ï¼šä½¿ç”¨utf8mb4_unicode_ciæŽ’åºè§„åˆ™
```

**ðŸ”§ åº”æ€¥ä¿®å¤å‘½ä»¤**ï¼š
```sql
-- ä¸´æ—¶ä¿®æ”¹ä¼šè¯å­—ç¬¦é›†
SET NAMES utf8mb4 COLLATE utf8mb4_unicode_ci;

-- ä¿®æ”¹æ•°æ®åº“å­—ç¬¦é›†
ALTER DATABASE dbname CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;

-- ä¿®æ”¹è¡¨å­—ç¬¦é›†
ALTER TABLE tablename CONVERT TO CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
```

---

## 7. ðŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 7.1 å¿…é¡»æŽŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ðŸ”¸ å­—ç¬¦é›†ä¸‰å…„å¼Ÿï¼š
â€¢ character_set_serverï¼šæœåŠ¡å™¨é»˜è®¤å­—ç¬¦é›†
â€¢ character_set_clientï¼šå®¢æˆ·ç«¯å­—ç¬¦é›†  
â€¢ character_set_resultsï¼šç»“æžœå­—ç¬¦é›†

ðŸ”¸ æŽ’åºè§„åˆ™åŒèƒžèƒŽï¼š
â€¢ collation_serverï¼šæœåŠ¡å™¨æŽ’åºè§„åˆ™
â€¢ collation_connectionï¼šè¿žæŽ¥æŽ’åºè§„åˆ™

ðŸ”¸ è¯­è¨€è®¾ç½®ç»„åˆï¼š
â€¢ lc_messagesï¼šé”™è¯¯æ¶ˆæ¯è¯­è¨€
â€¢ lc_time_namesï¼šæ—¶é—´åç§°è¯­è¨€
```

### 7.2 å…³é”®ç†è§£è¦ç‚¹


**ðŸ”¹ å­—ç¬¦é›†é€‰æ‹©åŽŸåˆ™**ï¼š
```
é€‰æ‹©æ ‡å‡†ï¼š
â€¢ å›½é™…åŒ–åº”ç”¨ â†’ utf8mb4 (æ”¯æŒemoji)
â€¢ å¤šè¯­è¨€åº”ç”¨ â†’ utf8 (ä¸å«emoji)  
â€¢ çº¯ä¸­æ–‡åº”ç”¨ â†’ utf8mb4 (å…¼å®¹æ€§å¥½)
â€¢ çº¯è‹±æ–‡åº”ç”¨ â†’ latin1 (æ€§èƒ½æœ€ä½³)

é…ç½®ä¸€è‡´æ€§ï¼š
â€¢ æœåŠ¡å™¨ã€å®¢æˆ·ç«¯ã€è¿žæŽ¥å­—ç¬¦é›†ä¿æŒä¸€è‡´
â€¢ æ•°æ®åº“ã€è¡¨ã€åˆ—å­—ç¬¦é›†å±‚å±‚ç»§æ‰¿
â€¢ é¿å…å­—ç¬¦é›†è½¬æ¢å¯¼è‡´çš„æ€§èƒ½æŸå¤±
```

**ðŸ”¹ æŽ’åºè§„åˆ™å½±å“èŒƒå›´**ï¼š
```
å½±å“æ“ä½œï¼š
â€¢ ORDER BY æŽ’åº
â€¢ GROUP BY åˆ†ç»„
â€¢ å­—ç¬¦ä¸²æ¯”è¾ƒ (=, >, <)
â€¢ DISTINCT åŽ»é‡
â€¢ JOIN è¿žæŽ¥æ¡ä»¶

æ€§èƒ½è€ƒè™‘ï¼š
â€¢ unicode_ciï¼šå‡†ç¡®ä½†è¾ƒæ…¢
â€¢ general_ciï¼šå¿«é€Ÿä½†ä¸å¤Ÿå‡†ç¡®
â€¢ binï¼šæœ€å¿«ä½†åŒºåˆ†å¤§å°å†™
```

### 7.3 å®žé™…åº”ç”¨ä»·å€¼


**ðŸŽ¯ ä¸šåŠ¡åœºæ™¯åº”ç”¨**ï¼š
- **ç”µå•†ç½‘ç«™**ï¼šutf8mb4æ”¯æŒå…¨çƒå•†å“åç§°å’Œemojiè¯„ä»·
- **ç¤¾äº¤å¹³å°**ï¼šutf8mb4_unicode_ciç¡®ä¿ç”¨æˆ·åæ­£ç¡®æŽ’åº
- **ä¼ä¸šç³»ç»Ÿ**ï¼šinit_connectç»Ÿä¸€è®¾ç½®å‘˜å·¥è¿žæŽ¥çŽ¯å¢ƒ
- **æ•°æ®è¿ç§»**ï¼šå­—ç¬¦é›†è½¬æ¢ä¿è¯æ•°æ®å®Œæ•´æ€§

**ðŸ”§ è¿ç»´å®žè·µ**ï¼š
- **ç›‘æŽ§å‘Šè­¦**ï¼šæ£€æŸ¥å­—ç¬¦é›†è®¾ç½®æ˜¯å¦ä¸€è‡´
- **æ€§èƒ½ä¼˜åŒ–**ï¼šæ ¹æ®ä¸šåŠ¡é€‰æ‹©åˆé€‚çš„æŽ’åºè§„åˆ™
- **æ•…éšœå¤„ç†**ï¼šå¿«é€Ÿå®šä½å’Œä¿®å¤ä¹±ç é—®é¢˜
- **ç‰ˆæœ¬å‡çº§**ï¼šå¹³æ»‘è¿ç§»åˆ°æ–°å­—ç¬¦é›†æ ‡å‡†

**ðŸ“š å­¦ä¹ å»ºè®®**ï¼š
- ç†è§£å­—ç¬¦é›†å’ŒæŽ’åºè§„åˆ™çš„æœ¬è´¨åŒºåˆ«
- æŽŒæ¡è¿žæŽ¥çº§å­—ç¬¦é›†è½¬æ¢æµç¨‹
- ç†Ÿç»ƒä½¿ç”¨SET NAMESå‘½ä»¤
- å»ºç«‹å®Œæ•´çš„æµ‹è¯•éªŒè¯æµç¨‹

**æ ¸å¿ƒè®°å¿†å£è¯€**ï¼š
```
å­—ç¬¦é›†æŽ’åºè¦ç»Ÿä¸€ï¼Œä¸‰ä¸ªå±‚æ¬¡è¦ç‰¢è®°
æœåŠ¡å™¨ç«¯åšé»˜è®¤ï¼Œå®¢æˆ·è¿žæŽ¥è¦å¯¹åº”  
utf8mb4æœ€å…¨é¢ï¼ŒunicodeæŽ’åºæœ€æ ‡å‡†
ä¹±ç é—®é¢˜æ‰¾å­—ç¬¦é›†ï¼ŒæŽ’åºé—®é¢˜æŸ¥è§„åˆ™
```