---
title: 21ã€é”™è¯¯æ—¥å¿—æ•…éšœè¯Šæ–­ä¸æ’æŸ¥
---
## ğŸ“š ç›®å½•

1. [åŸºäºé”™è¯¯æ—¥å¿—çš„æ•…éšœè¯Šæ–­æµç¨‹](#1-åŸºäºé”™è¯¯æ—¥å¿—çš„æ•…éšœè¯Šæ–­æµç¨‹)
2. [MySQLå¯åŠ¨å¤±è´¥é”™è¯¯åˆ†æ](#2-MySQLå¯åŠ¨å¤±è´¥é”™è¯¯åˆ†æ)
3. [æ•°æ®åº“è¿æ¥é—®é¢˜æ’æŸ¥](#3-æ•°æ®åº“è¿æ¥é—®é¢˜æ’æŸ¥)
4. [InnoDBå´©æºƒæ¢å¤é”™è¯¯å¤„ç†](#4-InnoDBå´©æºƒæ¢å¤é”™è¯¯å¤„ç†)
5. [ç³»ç»Ÿèµ„æºç›¸å…³é”™è¯¯è¯Šæ–­](#5-ç³»ç»Ÿèµ„æºç›¸å…³é”™è¯¯è¯Šæ–­)
6. [æƒé™ç›¸å…³é”™è¯¯æ’æŸ¥](#6-æƒé™ç›¸å…³é”™è¯¯æ’æŸ¥)
7. [å¤åˆ¶ä¸­æ–­é”™è¯¯åˆ†æ](#7-å¤åˆ¶ä¸­æ–­é”™è¯¯åˆ†æ)
8. [æ­»é”é—®é¢˜è¿½è¸ª](#8-æ­»é”é—®é¢˜è¿½è¸ª)
9. [è¡¨æŸåé”™è¯¯è¯†åˆ«](#9-è¡¨æŸåé”™è¯¯è¯†åˆ«)
10. [æ€§èƒ½ç“¶é¢ˆå‘ç°](#10-æ€§èƒ½ç“¶é¢ˆå‘ç°)
11. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#11-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ” åŸºäºé”™è¯¯æ—¥å¿—çš„æ•…éšœè¯Šæ–­æµç¨‹


### 1.1 é”™è¯¯æ—¥å¿—è¯Šæ–­æ€ç»´æ¨¡å‹

ğŸ¯ **æ•…éšœè¯Šæ–­å°±åƒåŒ»ç”Ÿçœ‹ç—…ï¼Œé”™è¯¯æ—¥å¿—æ˜¯æœ€é‡è¦çš„"åŒ–éªŒæŠ¥å‘Š"**

```
åŒ»ç”Ÿçœ‹ç—…æµç¨‹ï¼š          é”™è¯¯æ—¥å¿—è¯Šæ–­æµç¨‹ï¼š
1. å¬æ‚£è€…æè¿°ç—‡çŠ¶       1. äº†è§£æ•…éšœç°è±¡
2. æŸ¥çœ‹åŒ–éªŒæŠ¥å‘Š        2. åˆ†æé”™è¯¯æ—¥å¿—
3. ç»“åˆç»éªŒåˆ¤æ–­        3. å®šä½æ ¹æœ¬åŸå›   
4. åˆ¶å®šæ²»ç–—æ–¹æ¡ˆ        4. åˆ¶å®šè§£å†³æ–¹æ¡ˆ
5. è§‚å¯Ÿæ²»ç–—æ•ˆæœ        5. éªŒè¯ä¿®å¤ç»“æœ
```

**ğŸ”¸ è¯Šæ–­æµç¨‹æ ‡å‡†åŒ–æ­¥éª¤**
```
ç¬¬ä¸€æ­¥ï¼šç°è±¡æ”¶é›†
- æ•…éšœå‘ç”Ÿæ—¶é—´
- æ•…éšœå½±å“èŒƒå›´
- ç”¨æˆ·åé¦ˆä¿¡æ¯
- ç³»ç»Ÿç›‘æ§å‘Šè­¦

ç¬¬äºŒæ­¥ï¼šæ—¥å¿—å®šä½
- ç¡®å®šé”™è¯¯æ—¥å¿—ä½ç½®
- æ‰¾åˆ°æ•…éšœæ—¶é—´æ®µçš„æ—¥å¿—
- è¯†åˆ«å…³é”®é”™è¯¯ä¿¡æ¯
- åˆ†æé”™è¯¯ä¸¥é‡ç¨‹åº¦

ç¬¬ä¸‰æ­¥ï¼šæ ¹å› åˆ†æ
- é”™è¯¯ä¿¡æ¯åˆ†ç±»
- æŸ¥æ‰¾ç›¸å…³æ¨¡å¼
- ç¡®å®šæ•…éšœæ ¹æœ¬åŸå› 
- è¯„ä¼°ä¿®å¤å¤æ‚åº¦

ç¬¬å››æ­¥ï¼šè§£å†³æ–¹æ¡ˆ
- åˆ¶å®šä¿®å¤è®¡åˆ’
- è¯„ä¼°é£é™©å½±å“
- æ‰§è¡Œä¿®å¤æ“ä½œ
- éªŒè¯ä¿®å¤æ•ˆæœ
```

### 1.2 é”™è¯¯æ—¥å¿—è¯»å–æŠ€å·§

**ğŸ“– å¿«é€Ÿå®šä½å…³é”®ä¿¡æ¯çš„æ–¹æ³•**

```bash
# 1. æŸ¥çœ‹æœ€è¿‘çš„é”™è¯¯ä¿¡æ¯
tail -100 /var/log/mysql/error.log

# 2. æŒ‰æ—¶é—´æ®µè¿‡æ»¤é”™è¯¯
grep "2024-01-11 15:" /var/log/mysql/error.log

# 3. æŸ¥æ‰¾ç‰¹å®šé”™è¯¯ç±»å‹
grep -i "error\|fatal\|crash" /var/log/mysql/error.log

# 4. ç»Ÿè®¡é”™è¯¯é¢‘ç‡
grep "ERROR" /var/log/mysql/error.log | cut -d' ' -f1-3 | sort | uniq -c

# 5. å®æ—¶ç›‘æ§é”™è¯¯æ—¥å¿—
tail -f /var/log/mysql/error.log | grep --color=always -i error
```

**ğŸ”§ æ—¥å¿—åˆ†æå·¥å…·æ¨è**
```bash
# pt-query-digest - åˆ†ææ…¢æŸ¥è¯¢å’Œé”™è¯¯æ¨¡å¼
pt-query-digest /var/log/mysql/error.log

# mysqlbinlog - åˆ†æäºŒè¿›åˆ¶æ—¥å¿—ç›¸å…³é”™è¯¯
mysqlbinlog --start-datetime="2024-01-11 15:00:00" mysql-bin.000001

# awkè„šæœ¬ - è‡ªå®šä¹‰é”™è¯¯ç»Ÿè®¡
awk '/ERROR/ {print $4" "$5" "$6}' error.log | sort | uniq -c | sort -rn
```

### 1.3 é”™è¯¯ä¸¥é‡ç¨‹åº¦åˆ†çº§

**âš¡ é”™è¯¯ä¼˜å…ˆçº§åˆ¤æ–­æ ‡å‡†**

| çº§åˆ« | **ä¸¥é‡ç¨‹åº¦** | **å½±å“èŒƒå›´** | **å¤„ç†æ—¶é—´** | **å…¸å‹é”™è¯¯** |
|------|-------------|-------------|-------------|-------------|
| ğŸ”´ **è‡´å‘½** | `æœåŠ¡åœæ­¢` | `å…¨éƒ¨ç”¨æˆ·` | `ç«‹å³å¤„ç†` | `å¯åŠ¨å¤±è´¥ã€å´©æºƒ` |
| ğŸŸ  **ä¸¥é‡** | `åŠŸèƒ½å¼‚å¸¸` | `éƒ¨åˆ†ç”¨æˆ·` | `1å°æ—¶å†…` | `è¿æ¥è¶…é™ã€æ­»é”` |
| ğŸŸ¡ **è­¦å‘Š** | `æ€§èƒ½ä¸‹é™` | `ä¸ªåˆ«åŠŸèƒ½` | `24å°æ—¶å†…` | `æ…¢æŸ¥è¯¢ã€èµ„æºä¸è¶³` |
| ğŸŸ¢ **ä¿¡æ¯** | `æ­£å¸¸è®°å½•` | `æ— å½±å“` | `å®šæœŸæ£€æŸ¥` | `å¯åŠ¨ä¿¡æ¯ã€ç»Ÿè®¡` |

---

## 2. ğŸš€ MySQLå¯åŠ¨å¤±è´¥é”™è¯¯åˆ†æ


### 2.1 å¸¸è§å¯åŠ¨å¤±è´¥åœºæ™¯

**ğŸ¯ å¯åŠ¨å¤±è´¥å°±åƒæ±½è½¦æ— æ³•å‘åŠ¨ï¼Œéœ€è¦é€ä¸€æ£€æŸ¥å„ä¸ªç³»ç»Ÿ**

```
æ±½è½¦æ— æ³•å¯åŠ¨çš„æ£€æŸ¥é¡ºåºï¼š    MySQLå¯åŠ¨å¤±è´¥çš„æ£€æŸ¥é¡ºåºï¼š
1. æ£€æŸ¥æ²¹é‡ï¼ˆç‡ƒæ–™ï¼‰         1. æ£€æŸ¥é…ç½®æ–‡ä»¶
2. æ£€æŸ¥ç”µæ± ï¼ˆç”µæºï¼‰         2. æ£€æŸ¥æ•°æ®ç›®å½•æƒé™
3. æ£€æŸ¥å‘åŠ¨æœºï¼ˆæ ¸å¿ƒï¼‰       3. æ£€æŸ¥ç«¯å£å ç”¨
4. æ£€æŸ¥ç‚¹ç«ç³»ç»Ÿ            4. æ£€æŸ¥å­˜å‚¨å¼•æ“
```

**âŒ é…ç½®æ–‡ä»¶é”™è¯¯**
```bash
# å…¸å‹é”™è¯¯ä¿¡æ¯ï¼š
[ERROR] [MY-000067] [Server] unknown variable 'innodb_buffer_pool_siz=1G'
[ERROR] [MY-010334] [Server] Failed to initialize DD Storage Engine

# è¯Šæ–­æ­¥éª¤ï¼š
# 1. æ£€æŸ¥é…ç½®æ–‡ä»¶è¯­æ³•
mysqld --help --verbose > /dev/null

# 2. é€æ®µæµ‹è¯•é…ç½®
mysqld --defaults-file=/etc/mysql/my.cnf --help

# 3. æœ€å°é…ç½®å¯åŠ¨æµ‹è¯•
mysqld --no-defaults --datadir=/var/lib/mysql
```

**ğŸ”§ é…ç½®æ–‡ä»¶é—®é¢˜è§£å†³æ–¹æ¡ˆ**
```bash
# 1. å¤‡ä»½å½“å‰é…ç½®
cp /etc/mysql/my.cnf /etc/mysql/my.cnf.backup

# 2. ä½¿ç”¨æœ€å°é…ç½®
cat > /etc/mysql/my.cnf.minimal << EOF
[mysqld]
datadir=/var/lib/mysql
socket=/var/lib/mysql/mysql.sock
user=mysql
EOF

# 3. é€é¡¹æ·»åŠ é…ç½®æµ‹è¯•
systemctl start mysql
# æˆåŠŸåå†é€æ­¥æ·»åŠ å…¶ä»–é…ç½®é¡¹
```

### 2.2 æ•°æ®ç›®å½•é—®é¢˜è¯Šæ–­

**ğŸ“ æ•°æ®ç›®å½•é—®é¢˜å°±åƒå®¶é—¨é’¥åŒ™ä¸å¯¹ï¼Œæ— æ³•è¿›å…¥**

```
æ•°æ®ç›®å½•å¸¸è§é—®é¢˜ï¼š
1. æƒé™ä¸æ­£ç¡® - åƒé—¨é”æ¢äº†ä½†æ²¡ç»™æ–°é’¥åŒ™
2. ç›®å½•ä¸å­˜åœ¨ - åƒæˆ¿å­è¢«æ‹†äº†
3. ç£ç›˜ç©ºé—´ä¸è¶³ - åƒæˆ¿é—´è¢«å †æ»¡äº†ä¸œè¥¿
4. æ–‡ä»¶æŸå - åƒé—¨é”åäº†
```

**âŒ å…¸å‹æƒé™é”™è¯¯**
```bash
# é”™è¯¯ä¿¡æ¯ï¼š
[ERROR] [MY-010119] [Server] Aborting
[ERROR] [MY-010116] [Server] /usr/sbin/mysqld: Can't create/write to file '/var/lib/mysql/mysql.pid' (Errcode: 13 - Permission denied)

# è¯Šæ–­å‘½ä»¤ï¼š
ls -la /var/lib/mysql/
# æŸ¥çœ‹ç›®å½•æƒé™å’Œæ‰€æœ‰è€…

# è§£å†³æ–¹æ¡ˆï¼š
sudo chown -R mysql:mysql /var/lib/mysql
sudo chmod 755 /var/lib/mysql
sudo chmod 644 /var/lib/mysql/*
```

**ğŸ”§ æ•°æ®ç›®å½•åˆå§‹åŒ–é—®é¢˜**
```bash
# é”™è¯¯ä¿¡æ¯ï¼š
[ERROR] [MY-010457] [Server] --initialize specified but the data directory has files in it. Aborting.

# è§£å†³æ­¥éª¤ï¼š
# 1. å¤‡ä»½é‡è¦æ•°æ®
sudo mv /var/lib/mysql /var/lib/mysql.old

# 2. é‡æ–°åˆå§‹åŒ–
sudo mysqld --initialize --user=mysql --datadir=/var/lib/mysql

# 3. è®°å½•ä¸´æ—¶å¯†ç 
sudo grep 'temporary password' /var/log/mysql/error.log
```

### 2.3 ç«¯å£å†²çªé—®é¢˜

**ğŸ”Œ ç«¯å£å†²çªå°±åƒä¸¤ä¸ªäººæƒ³ç”¨åŒä¸€ä¸ªç”µè¯ï¼Œå¿…ç„¶å†²çª**

```bash
# é”™è¯¯ä¿¡æ¯ï¼š
[ERROR] [MY-010262] [Server] Can't start server: Bind on TCP/IP port: Address already in use

# è¯Šæ–­æ­¥éª¤ï¼š
# 1. æ£€æŸ¥ç«¯å£å ç”¨
sudo netstat -tlnp | grep 3306
sudo lsof -i :3306

# 2. æŸ¥æ‰¾å ç”¨è¿›ç¨‹
ps aux | grep mysql

# 3. æ¸…ç†åƒµå°¸è¿›ç¨‹
sudo pkill -f mysql
sudo systemctl stop mysql

# 4. ç¡®è®¤ç«¯å£é‡Šæ”¾åé‡å¯
sudo systemctl start mysql
```

---

## 3. ğŸ”— æ•°æ®åº“è¿æ¥é—®é¢˜æ’æŸ¥


### 3.1 è¿æ¥æ•°è¶…é™é—®é¢˜

**ğŸšª è¿æ¥æ•°è¶…é™å°±åƒé¤å…åº§ä½æ»¡äº†ï¼Œæ–°å®¢æˆ·æ— æ³•å…¥åº§**

```
é¤å…åº§ä½ç®¡ç†ï¼š              MySQLè¿æ¥ç®¡ç†ï¼š
æ€»åº§ä½æ•°ï¼š100ä¸ª             max_connectionsï¼š151
å½“å‰å®¢äººï¼š100ä¸ª             å½“å‰è¿æ¥ï¼š151ä¸ª  
æ–°å®¢äººï¼šæ— æ³•å®‰æ’            æ–°è¿æ¥ï¼šè¢«æ‹’ç»
è§£å†³åŠæ³•ï¼šå¢åŠ åº§ä½æˆ–å®¢äººç¦»å¼€   è§£å†³åŠæ³•ï¼šå¢åŠ è¿æ¥æ•°æˆ–å…³é—­æ— ç”¨è¿æ¥
```

**âŒ å…¸å‹è¿æ¥è¶…é™é”™è¯¯**
```bash
# é”™è¯¯ä¿¡æ¯ï¼š
[Warning] [MY-010909] [Server] Too many connections
[Note] [MY-010914] [Server] Aborted connection 1234 to db: 'test' user: 'app' host: '192.168.1.100' (Got an error reading communication packets)

# è¯Šæ–­æŸ¥è¯¢ï¼š
mysql> SHOW VARIABLES LIKE 'max_connections';
mysql> SHOW STATUS LIKE 'Connections';
mysql> SHOW STATUS LIKE 'Max_used_connections';
mysql> SHOW PROCESSLIST;
```

**ğŸ”§ è¿æ¥æ•°é—®é¢˜è§£å†³æ–¹æ¡ˆ**
```sql
-- 1. ä¸´æ—¶å¢åŠ è¿æ¥æ•°ï¼ˆé‡å¯åå¤±æ•ˆï¼‰
SET GLOBAL max_connections = 500;

-- 2. æŸ¥çœ‹å½“å‰è¿æ¥åˆ†å¸ƒ
SELECT 
    user,
    host,
    db,
    COUNT(*) as connection_count
FROM information_schema.processlist 
GROUP BY user, host, db
ORDER BY connection_count DESC;

-- 3. å…³é—­ç©ºé—²è¿æ¥
SELECT 
    id,
    user,
    host,
    time,
    state
FROM information_schema.processlist 
WHERE command = 'Sleep' 
AND time > 300;  -- ç©ºé—²è¶…è¿‡5åˆ†é’Ÿ

-- æ€æ­»é•¿æ—¶é—´ç©ºé—²è¿æ¥
KILL è¿æ¥ID;
```

### 3.2 ç½‘ç»œè¿æ¥è¶…æ—¶åˆ†æ

**â° ç½‘ç»œè¶…æ—¶å°±åƒç”µè¯æ‰“ä¸é€šï¼Œå¯èƒ½æ˜¯çº¿è·¯é—®é¢˜ä¹Ÿå¯èƒ½æ˜¯å¯¹æ–¹å¿™**

```
ç”µè¯æ‰“ä¸é€šçš„åŸå› åˆ†æï¼š        ç½‘ç»œè¿æ¥è¶…æ—¶çš„åŸå› åˆ†æï¼š
1. å¯¹æ–¹å…³æœº                  1. æœåŠ¡æœªå¯åŠ¨
2. ä¿¡å·ä¸å¥½                  2. ç½‘ç»œä¸é€š
3. å¯¹æ–¹å çº¿                  3. è¿æ¥æ•°æ»¡
4. å·ç é”™è¯¯                  4. é…ç½®é”™è¯¯
```

**âŒ ç½‘ç»œè¶…æ—¶é”™è¯¯æ¨¡å¼**
```bash
# é”™è¯¯ä¿¡æ¯ï¼š
[Warning] [MY-010927] [Server] Aborted connection 123 to db: 'mydb' user: 'myuser' host: '192.168.1.50' (Got timeout reading communication packets)

# è¯Šæ–­æ­¥éª¤ï¼š
# 1. æ£€æŸ¥ç½‘ç»œè¿é€šæ€§
ping 192.168.1.50
telnet 192.168.1.50 3306

# 2. æ£€æŸ¥é˜²ç«å¢™è®¾ç½®
sudo iptables -L | grep 3306
sudo ufw status

# 3. æŸ¥çœ‹è¿æ¥è¶…æ—¶è®¾ç½®
mysql> SHOW VARIABLES LIKE '%timeout%';
```

**ğŸ”§ è¶…æ—¶é—®é¢˜è°ƒä¼˜**
```sql
-- å¸¸ç”¨è¶…æ—¶å‚æ•°è°ƒæ•´
SET GLOBAL connect_timeout = 20;          -- è¿æ¥è¶…æ—¶ï¼ˆç§’ï¼‰
SET GLOBAL interactive_timeout = 28800;   -- äº¤äº’å¼è¿æ¥è¶…æ—¶ï¼ˆ8å°æ—¶ï¼‰
SET GLOBAL wait_timeout = 28800;          -- éäº¤äº’å¼è¿æ¥è¶…æ—¶ï¼ˆ8å°æ—¶ï¼‰
SET GLOBAL net_read_timeout = 30;         -- ç½‘ç»œè¯»å–è¶…æ—¶
SET GLOBAL net_write_timeout = 60;        -- ç½‘ç»œå†™å…¥è¶…æ—¶

-- æŸ¥çœ‹è¶…æ—¶ç›¸å…³çŠ¶æ€
SHOW STATUS LIKE '%timeout%';
SHOW STATUS LIKE '%aborted%';
```

### 3.3 è®¤è¯å¤±è´¥é—®é¢˜

**ğŸ” è®¤è¯å¤±è´¥å°±åƒå¯†ç é”™è¯¯ï¼Œé—¨å«ä¸è®©è¿›**

```bash
# é”™è¯¯ä¿¡æ¯ï¼š
[Warning] [MY-010055] [Server] IP address '192.168.1.100' could not be resolved: Name or service not known
[Note] [MY-010051] [Server] Access denied for user 'app'@'192.168.1.100' (using password: YES)

# è¯Šæ–­æ­¥éª¤ï¼š
# 1. æ£€æŸ¥ç”¨æˆ·æ˜¯å¦å­˜åœ¨
mysql> SELECT user, host FROM mysql.user WHERE user = 'app';

# 2. æ£€æŸ¥æƒé™è®¾ç½®
mysql> SHOW GRANTS FOR 'app'@'192.168.1.100';

# 3. æ£€æŸ¥å¯†ç æ˜¯å¦æ­£ç¡®
mysql> SELECT authentication_string FROM mysql.user WHERE user = 'app';
```

---

## 4. ğŸ’¥ InnoDBå´©æºƒæ¢å¤é”™è¯¯å¤„ç†


### 4.1 InnoDBå´©æºƒæ¢å¤åŸç†

**ğŸ”„ InnoDBå´©æºƒæ¢å¤å°±åƒç”µè„‘çªç„¶æ–­ç”µåé‡å¯ï¼Œéœ€è¦æ£€æŸ¥å’Œä¿®å¤**

```
ç”µè„‘çªç„¶æ–­ç”µé‡å¯è¿‡ç¨‹ï¼š          InnoDBå´©æºƒæ¢å¤è¿‡ç¨‹ï¼š
1. æ£€æŸ¥æ–‡ä»¶ç³»ç»Ÿå®Œæ•´æ€§          1. æ£€æŸ¥è¡¨ç©ºé—´å®Œæ•´æ€§
2. æ¢å¤æœªä¿å­˜çš„æ–‡æ¡£            2. å›æ»šæœªæäº¤äº‹åŠ¡
3. é‡åšå·²ä¿å­˜çš„æ“ä½œ            3. é‡åšå·²æäº¤äº‹åŠ¡
4. æ¸…ç†ä¸´æ—¶æ–‡ä»¶                4. æ¸…ç†ä¸´æ—¶æ•°æ®
```

**ğŸ”¸ å´©æºƒæ¢å¤å…³é”®æ¦‚å¿µ**
```
InnoDBå´©æºƒæ¢å¤çš„æ ¸å¿ƒæœºåˆ¶ï¼š

Redo Logï¼ˆé‡åšæ—¥å¿—ï¼‰ï¼š
- ä½œç”¨ï¼šè®°å½•å·²æäº¤çš„äº‹åŠ¡ä¿®æ”¹
- æ¢å¤ï¼šé‡åšæ‰€æœ‰å·²æäº¤ä½†æœªå†™å…¥æ•°æ®æ–‡ä»¶çš„æ“ä½œ
- æ¯”å–»ï¼šåƒé“¶è¡Œçš„äº¤æ˜“è®°å½•ï¼Œç¡®ä¿ä¸ä¸¢å¤±

Undo Logï¼ˆå›æ»šæ—¥å¿—ï¼‰ï¼š  
- ä½œç”¨ï¼šè®°å½•äº‹åŠ¡çš„åå‘æ“ä½œ
- æ¢å¤ï¼šå›æ»šæ‰€æœ‰æœªæäº¤çš„äº‹åŠ¡
- æ¯”å–»ï¼šåƒæ–‡æ¡£çš„æ’¤é”€åŠŸèƒ½ï¼Œèƒ½å›åˆ°ä¹‹å‰çŠ¶æ€

Checkpointï¼ˆæ£€æŸ¥ç‚¹ï¼‰ï¼š
- ä½œç”¨ï¼šæ ‡è®°å·²å®‰å…¨å†™å…¥ç£ç›˜çš„æ•°æ®ä½ç½®
- æ¢å¤ï¼šä»æ£€æŸ¥ç‚¹å¼€å§‹æ¢å¤ï¼Œæé«˜æ•ˆç‡
- æ¯”å–»ï¼šåƒæ¸¸æˆçš„å­˜æ¡£ç‚¹ï¼Œä»æœ€è¿‘çš„å­˜æ¡£å¼€å§‹
```

### 4.2 å¸¸è§InnoDBé”™è¯¯åˆ†æ

**âŒ è¡¨ç©ºé—´æŸåé”™è¯¯**

```bash
# é”™è¯¯ä¿¡æ¯ï¼š
[ERROR] [MY-012216] [InnoDB] Cannot open datafile for read-only: './mydb/mytable.ibd' OS error: 71
[ERROR] [MY-012930] [InnoDB] Plugin initialization aborted with error Generic error

# è¯Šæ–­æ­¥éª¤ï¼š
# 1. æ£€æŸ¥æ–‡ä»¶å®Œæ•´æ€§
sudo file /var/lib/mysql/mydb/mytable.ibd
sudo ls -la /var/lib/mysql/mydb/

# 2. å°è¯•å¼ºåˆ¶æ¢å¤å¯åŠ¨
sudo systemctl stop mysql
```

**ğŸ”§ å¼ºåˆ¶æ¢å¤æ–¹æ³•**
```sql
-- åœ¨ my.cnf ä¸­æ·»åŠ å¼ºåˆ¶æ¢å¤è®¾ç½®
[mysqld]
innodb_force_recovery = 1

-- å¼ºåˆ¶æ¢å¤çº§åˆ«è¯´æ˜ï¼š
-- 1: å¿½ç•¥æŸåçš„æ•°æ®é¡µï¼Œè·³è¿‡æŸåè®°å½•
-- 2: é˜»æ­¢ä¸»çº¿ç¨‹è¿è¡Œï¼Œé˜²æ­¢purgeæ“ä½œ
-- 3: ä¸æ‰§è¡Œäº‹åŠ¡å›æ»šæ“ä½œ
-- 4: ä¸æ‰§è¡Œæ’å…¥ç¼“å†²çš„åˆå¹¶æ“ä½œ
-- 5: ä¸æŸ¥çœ‹æ’¤é”€æ—¥å¿—ï¼Œæœªæäº¤äº‹åŠ¡è§†ä¸ºå·²æäº¤
-- 6: ä¸æ‰§è¡Œå‰æ»šæ“ä½œ

-- æ¢å¤åçš„æ•°æ®å¯¼å‡º
mysqldump --single-transaction --routines --triggers \
  --all-databases > recovery_backup.sql

-- æ³¨æ„ï¼šæ¢å¤æ¨¡å¼ä¸‹åªèƒ½è¯»å–ï¼Œä¸èƒ½å†™å…¥
```

### 4.3 äº‹åŠ¡å›æ»šé—®é¢˜

**ğŸ”„ é•¿æ—¶é—´å›æ»šå°±åƒæ’¤é”€ä¸€ä¸ªå·¨å¤§çš„é”™è¯¯æ“ä½œï¼Œéœ€è¦è€å¿ƒç­‰å¾…**

```bash
# é”™è¯¯ä¿¡æ¯ï¼š
[Note] [MY-012190] [InnoDB] Rollback of trx with id 421886838272 completed
[Note] [MY-012189] [InnoDB] Rollback of non-MVCC table with id 421886838271 took 1800 seconds

# ç›‘æ§å›æ»šè¿›åº¦ï¼š
mysql> SELECT 
  trx_id,
  trx_state,
  trx_started,
  trx_mysql_thread_id,
  trx_query
FROM information_schema.INNODB_TRX;

# æŸ¥çœ‹å›æ»šè¯¦æƒ…ï¼š
mysql> SHOW ENGINE INNODB STATUS\G
-- æŸ¥çœ‹ "TRANSACTIONS" éƒ¨åˆ†çš„å›æ»šä¿¡æ¯
```

---

## 5. ğŸ’¾ ç³»ç»Ÿèµ„æºç›¸å…³é”™è¯¯è¯Šæ–­


### 5.1 ç£ç›˜ç©ºé—´ä¸è¶³é”™è¯¯

**ğŸ“¦ ç£ç›˜ç©ºé—´ä¸è¶³å°±åƒä»“åº“æ»¡äº†ï¼Œæ— æ³•å†å­˜æ”¾æ–°è´§ç‰©**

```
ä»“åº“ç®¡ç†ç±»æ¯”ï¼š              ç£ç›˜ç©ºé—´ç®¡ç†ï¼š
ä»“åº“å®¹é‡ï¼š1000ç«‹æ–¹ç±³        ç£ç›˜å®¹é‡ï¼š100GB
å·²ç”¨ç©ºé—´ï¼š950ç«‹æ–¹ç±³         å·²ç”¨ç©ºé—´ï¼š95GB
å‰©ä½™ç©ºé—´ï¼š50ç«‹æ–¹ç±³          å‰©ä½™ç©ºé—´ï¼š5GB
æ–°è´§ç‰©ï¼šéœ€è¦100ç«‹æ–¹ç±³       æ–°æ•°æ®ï¼šéœ€è¦10GB
ç»“æœï¼šæ— æ³•å­˜æ”¾              ç»“æœï¼šå†™å…¥å¤±è´¥
```

**âŒ ç£ç›˜ç©ºé—´é”™è¯¯è¯†åˆ«**
```bash
# å…¸å‹é”™è¯¯ä¿¡æ¯ï¼š
[ERROR] [MY-000035] [Server] Disk is full writing './mydb/mytable.ibd' (Errcode: 28 - No space left on device)
[Warning] [MY-010909] [Server] The table 'mytable' is full

# å¿«é€Ÿè¯Šæ–­å‘½ä»¤ï¼š
df -h                          # æŸ¥çœ‹ç£ç›˜ä½¿ç”¨æƒ…å†µ
du -sh /var/lib/mysql/*        # æŸ¥çœ‹MySQLç›®å½•å¤§å°
du -sh /var/log/mysql/*        # æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶å¤§å°
```

**ğŸ”§ ç©ºé—´æ¸…ç†ç­–ç•¥**
```bash
# 1. æ¸…ç†äºŒè¿›åˆ¶æ—¥å¿—
mysql> PURGE BINARY LOGS BEFORE DATE(NOW() - INTERVAL 7 DAY);
mysql> SHOW BINARY LOGS;

# 2. æ¸…ç†æ…¢æŸ¥è¯¢æ—¥å¿—
sudo mv /var/log/mysql/slow.log /var/log/mysql/slow.log.old
sudo touch /var/log/mysql/slow.log
sudo chown mysql:mysql /var/log/mysql/slow.log

# 3. æ¸…ç†é”™è¯¯æ—¥å¿—
sudo mv /var/log/mysql/error.log /var/log/mysql/error.log.old
sudo touch /var/log/mysql/error.log
sudo chown mysql:mysql /var/log/mysql/error.log

# 4. ä¼˜åŒ–è¡¨ç©ºé—´
mysql> OPTIMIZE TABLE table_name;
mysql> ALTER TABLE table_name ENGINE=InnoDB;  # é‡å»ºè¡¨
```

### 5.2 å†…å­˜ä¸è¶³é”™è¯¯è¯Šæ–­

**ğŸ§  å†…å­˜ä¸è¶³å°±åƒå¤§è„‘è¶…è´Ÿè·ï¼Œæ— æ³•å¤„ç†æ›´å¤šä¿¡æ¯**

```
å¤§è„‘å·¥ä½œç±»æ¯”ï¼š              MySQLå†…å­˜ç®¡ç†ï¼š
å·¥ä½œå†…å­˜ï¼šæœ‰é™              InnoDBç¼“å†²æ± ï¼šå›ºå®šå¤§å°
å½“å‰ä»»åŠ¡ï¼šå¾ˆå¤š              å½“å‰æŸ¥è¯¢ï¼šå¾ˆå¤š
æ–°ä»»åŠ¡ï¼šå¤æ‚æŸ¥è¯¢            å¤§æŸ¥è¯¢ï¼šéœ€è¦æ›´å¤šå†…å­˜
ç»“æœï¼šå¤„ç†èƒ½åŠ›ä¸‹é™          ç»“æœï¼šæ€§èƒ½ä¸‹é™æˆ–å¤±è´¥
```

**âŒ å†…å­˜ä¸è¶³é”™è¯¯æ¨¡å¼**
```bash
# é”™è¯¯ä¿¡æ¯ï¼š
[Warning] [MY-013360] [Server] Plugin mysql_native_password reported: 'mysql_native_password_get_salt: failed to generate random salt. Errno: 12'
[ERROR] [MY-000067] [Server] Out of memory (Needed 16777216 bytes)

# å†…å­˜ä½¿ç”¨è¯Šæ–­ï¼š
free -h                        # ç³»ç»Ÿå†…å­˜ä½¿ç”¨
cat /proc/meminfo              # è¯¦ç»†å†…å­˜ä¿¡æ¯
mysql> SHOW ENGINE INNODB STATUS\G  # InnoDBå†…å­˜ä½¿ç”¨
```

**ğŸ”§ å†…å­˜ä¼˜åŒ–ç­–ç•¥**
```sql
-- æŸ¥çœ‹å†…å­˜ç›¸å…³é…ç½®
SHOW VARIABLES LIKE '%buffer%';
SHOW VARIABLES LIKE '%cache%';
SHOW VARIABLES LIKE '%size%';

-- å…³é”®å†…å­˜å‚æ•°è°ƒæ•´
SET GLOBAL innodb_buffer_pool_size = 1073741824;  -- 1GB
SET GLOBAL query_cache_size = 67108864;           -- 64MB
SET GLOBAL tmp_table_size = 16777216;             -- 16MB
SET GLOBAL max_heap_table_size = 16777216;        -- 16MB

-- å†…å­˜ä½¿ç”¨ç›‘æ§
SELECT 
  ($$innodb_buffer_pool_size) as buffer_pool_size,
  ($$key_buffer_size) as key_buffer_size,
  ($$query_cache_size) as query_cache_size;
```

### 5.3 æ–‡ä»¶å¥æŸ„ä¸è¶³é”™è¯¯

**ğŸ“ æ–‡ä»¶å¥æŸ„ä¸è¶³å°±åƒæ‰‹ä¸å¤Ÿç”¨ï¼Œæ— æ³•åŒæ—¶æ‹¿æ›´å¤šä¸œè¥¿**

```bash
# é”™è¯¯ä¿¡æ¯ï¼š
[Warning] [MY-010061] [Server] Can't create a new thread (errno 11); if you are not out of available memory, you can consult the manual for a possible OS-dependent bug
[ERROR] [MY-000035] [Server] Can't open file: './mydb/mytable.frm' (errno: 24 - Too many open files)

# è¯Šæ–­æ­¥éª¤ï¼š
ulimit -n                      # æŸ¥çœ‹æ–‡ä»¶å¥æŸ„é™åˆ¶
lsof -p $(pgrep mysqld)        # æŸ¥çœ‹MySQLæ‰“å¼€çš„æ–‡ä»¶
cat /proc/sys/fs/file-max      # ç³»ç»Ÿæœ€å¤§æ–‡ä»¶å¥æŸ„æ•°

# è§£å†³æ–¹æ¡ˆï¼š
# 1. ä¸´æ—¶å¢åŠ é™åˆ¶
ulimit -n 65536

# 2. æ°¸ä¹…ä¿®æ”¹ï¼ˆéœ€è¦é‡å¯ï¼‰
echo "mysql soft nofile 65536" >> /etc/security/limits.conf
echo "mysql hard nofile 65536" >> /etc/security/limits.conf
```

---

## 6. ğŸ” æƒé™ç›¸å…³é”™è¯¯æ’æŸ¥


### 6.1 ç”¨æˆ·æƒé™é—®é¢˜è¯Šæ–­

**ğŸšª æƒé™é—®é¢˜å°±åƒé—¨ç¦å¡ï¼Œæ²¡æœ‰ç›¸åº”æƒé™å°±æ— æ³•è¿›å…¥ç‰¹å®šåŒºåŸŸ**

```
å…¬å¸é—¨ç¦ç³»ç»Ÿï¼š              MySQLæƒé™ç³»ç»Ÿï¼š
æ€»é—¨ç¦ï¼šèƒ½å¦è¿›å…¥å…¬å¸        è¿æ¥æƒé™ï¼šèƒ½å¦è¿æ¥æ•°æ®åº“
éƒ¨é—¨é—¨ç¦ï¼šèƒ½å¦è¿›å…¥éƒ¨é—¨      æ•°æ®åº“æƒé™ï¼šèƒ½å¦è®¿é—®ç‰¹å®šåº“
æˆ¿é—´é—¨ç¦ï¼šèƒ½å¦è¿›å…¥æˆ¿é—´      è¡¨æƒé™ï¼šèƒ½å¦è®¿é—®ç‰¹å®šè¡¨
ä¿é™©ç®±ï¼šèƒ½å¦æ“ä½œä¿é™©ç®±      å­—æ®µæƒé™ï¼šèƒ½å¦è®¿é—®ç‰¹å®šå­—æ®µ
```

**âŒ æƒé™æ‹’ç»é”™è¯¯åˆ†æ**
```bash
# å…¸å‹æƒé™é”™è¯¯ï¼š
[Note] [MY-010051] [Server] Access denied for user 'app'@'localhost' (using password: YES)
[Note] [MY-010055] [Server] IP address '192.168.1.100' has been resolved to the host name '192.168.1.100', which resembles IPv4-address itself.

# æƒé™è¯Šæ–­æŸ¥è¯¢ï¼š
mysql> SELECT user, host, authentication_string FROM mysql.user;
mysql> SHOW GRANTS FOR 'app'@'localhost';
mysql> SELECT * FROM mysql.db WHERE user = 'app';
```

**ğŸ”§ æƒé™é—®é¢˜è§£å†³æ­¥éª¤**
```sql
-- 1. åˆ›å»ºç”¨æˆ·ï¼ˆå¦‚æœä¸å­˜åœ¨ï¼‰
CREATE USER 'app'@'localhost' IDENTIFIED BY 'secure_password';
CREATE USER 'app'@'%' IDENTIFIED BY 'secure_password';

-- 2. æˆäºˆåŸºæœ¬æƒé™
GRANT SELECT, INSERT, UPDATE, DELETE ON mydb.* TO 'app'@'localhost';
GRANT SELECT, INSERT, UPDATE, DELETE ON mydb.* TO 'app'@'%';

-- 3. åˆ·æ–°æƒé™
FLUSH PRIVILEGES;

-- 4. éªŒè¯æƒé™
SHOW GRANTS FOR 'app'@'localhost';

-- 5. æµ‹è¯•è¿æ¥
mysql -u app -p -h localhost
```

### 6.2 æ–‡ä»¶ç³»ç»Ÿæƒé™é—®é¢˜

**ğŸ“‚ æ–‡ä»¶æƒé™å°±åƒæ–‡ä»¶æŸœçš„é’¥åŒ™ï¼Œæ²¡æœ‰é’¥åŒ™å°±æ— æ³•æ‰“å¼€**

```bash
# æ–‡ä»¶æƒé™é”™è¯¯ï¼š
[ERROR] [MY-010116] [Server] /usr/sbin/mysqld: Can't create/write to file '/tmp/ibXXXXXX' (Errcode: 13 - Permission denied)
[Warning] [MY-010909] [Server] Changed limits: max_open_files: 1024 (requested 5000)

# æƒé™æ£€æŸ¥å‘½ä»¤ï¼š
ls -la /var/lib/mysql/          # æ•°æ®ç›®å½•æƒé™
ls -la /tmp/                    # ä¸´æ—¶ç›®å½•æƒé™
ps aux | grep mysql             # MySQLè¿è¡Œç”¨æˆ·
id mysql                        # MySQLç”¨æˆ·ä¿¡æ¯

# æƒé™ä¿®å¤ï¼š
sudo chown -R mysql:mysql /var/lib/mysql
sudo chmod 755 /var/lib/mysql
sudo chmod 660 /var/lib/mysql/mysql.sock
```

### 6.3 SELinuxæƒé™é—®é¢˜

**ğŸ›¡ï¸ SELinuxå°±åƒé¢å¤–çš„å®‰å…¨æ£€æŸ¥ï¼Œå³ä½¿æœ‰é’¥åŒ™è¿˜è¦æ ¸æŸ¥èº«ä»½**

```bash
# SELinuxç›¸å…³é”™è¯¯ï¼š
[ERROR] [MY-010119] [Server] Aborting
audit: type=1400 audit(1640995200.123:456): avc: denied { write } for pid=1234 comm="mysqld"

# SELinuxçŠ¶æ€æ£€æŸ¥ï¼š
getenforce                      # æŸ¥çœ‹SELinuxçŠ¶æ€
sestatus                        # è¯¦ç»†SELinuxä¿¡æ¯
audit2why < /var/log/audit/audit.log  # åˆ†ææ‹’ç»åŸå› 

# SELinuxé—®é¢˜è§£å†³ï¼š
# 1. ä¸´æ—¶å…³é—­ï¼ˆé‡å¯åæ¢å¤ï¼‰
sudo setenforce 0

# 2. è®¾ç½®æ­£ç¡®çš„SELinuxä¸Šä¸‹æ–‡
sudo setsebool -P mysql_connect_any 1
sudo restorecon -R /var/lib/mysql

# 3. åˆ›å»ºè‡ªå®šä¹‰ç­–ç•¥ï¼ˆå¤æ‚æƒ…å†µï¼‰
audit2allow -a -M mysql_custom
sudo semodule -i mysql_custom.pp
```

---

## 7. ğŸ”„ å¤åˆ¶ä¸­æ–­é”™è¯¯åˆ†æ


### 7.1 ä¸»ä»å¤åˆ¶é”™è¯¯ç±»å‹

**ğŸšš ä¸»ä»å¤åˆ¶å°±åƒè´§ç‰©è¿è¾“ï¼Œå„ä¸ªç¯èŠ‚éƒ½å¯èƒ½å‡ºé—®é¢˜**

```
è´§ç‰©è¿è¾“é“¾æ¡ï¼š              ä¸»ä»å¤åˆ¶é“¾æ¡ï¼š
1. è£…è´§ï¼ˆä¸»åº“å†™å…¥ï¼‰         1. ä¸»åº“äº‹åŠ¡æäº¤
2. è¿è¾“ï¼ˆç½‘ç»œä¼ è¾“ï¼‰         2. binlogä¼ è¾“
3. å¸è´§ï¼ˆä»åº“æ¥æ”¶ï¼‰         3. ä»åº“IOçº¿ç¨‹æ¥æ”¶
4. å…¥åº“ï¼ˆä»åº“åº”ç”¨ï¼‰         4. ä»åº“SQLçº¿ç¨‹æ‰§è¡Œ

å¯èƒ½çš„é—®é¢˜ï¼š
- è£…è´§é”™è¯¯ï¼šä¸»åº“æ•…éšœ
- è¿è¾“ä¸­æ–­ï¼šç½‘ç»œé—®é¢˜  
- å¸è´§å¤±è´¥ï¼šä»åº“IOé—®é¢˜
- å…¥åº“é”™è¯¯ï¼šä»åº“SQLé—®é¢˜
```

**âŒ IOçº¿ç¨‹é”™è¯¯åˆ†æ**
```bash
# IOçº¿ç¨‹é”™è¯¯ä¿¡æ¯ï¼š
[Warning] [MY-010897] [Repl] Storing MySQL user name or password information in the master info repository is not secure
[ERROR] [MY-010557] [Repl] Error reading packet from server for channel '': Lost connection to MySQL server during query (server_errno=2013)

# è¯Šæ–­æ­¥éª¤ï¼š
mysql> SHOW SLAVE STATUS\G
-- é‡ç‚¹æŸ¥çœ‹ï¼š
-- Slave_IO_Running: No
-- Last_IO_Error: å…·ä½“é”™è¯¯ä¿¡æ¯
-- Last_IO_Errno: é”™è¯¯ä»£ç 

# ç½‘ç»œè¿é€šæ€§æµ‹è¯•ï¼š
ping master_host
telnet master_host 3306
mysql -h master_host -u repl_user -p
```

**ğŸ”§ IOçº¿ç¨‹é—®é¢˜è§£å†³**
```sql
-- 1. åœæ­¢å¤åˆ¶
STOP SLAVE;

-- 2. é‡ç½®å¤åˆ¶è¿æ¥
RESET SLAVE;

-- 3. é‡æ–°é…ç½®ä¸»åº“ä¿¡æ¯
CHANGE MASTER TO 
  MASTER_HOST='192.168.1.10',
  MASTER_USER='repl_user',
  MASTER_PASSWORD='repl_password',
  MASTER_AUTO_POSITION=1;

-- 4. å¯åŠ¨å¤åˆ¶
START SLAVE;

-- 5. éªŒè¯çŠ¶æ€
SHOW SLAVE STATUS\G
```

### 7.2 SQLçº¿ç¨‹é”™è¯¯å¤„ç†

**âš™ï¸ SQLçº¿ç¨‹é”™è¯¯å°±åƒå·¥å‚æµæ°´çº¿å¡ä½ï¼Œéœ€è¦æ‰¾åˆ°å¡ä½çš„ç¯èŠ‚**

```bash
# SQLçº¿ç¨‹å…¸å‹é”™è¯¯ï¼š
[ERROR] [MY-010584] [Repl] Slave SQL for channel '': Error 'Duplicate entry '123' for key 'PRIMARY'' on query.
[Warning] [MY-010584] [Repl] Slave SQL for channel '': ... The slave coordinator and worker threads are stopped, possibly leaving data in inconsistent state.

# é”™è¯¯ä¿¡æ¯åˆ†æï¼š
mysql> SHOW SLAVE STATUS\G
-- å…³é”®å­—æ®µï¼š
-- Slave_SQL_Running: No
-- Last_SQL_Error: å…·ä½“SQLé”™è¯¯
-- Last_SQL_Errno: é”™è¯¯ä»£ç 
-- Last_SQL_Error_Timestamp: é”™è¯¯æ—¶é—´
```

**ğŸ”§ å¸¸è§SQLé”™è¯¯è§£å†³æ–¹æ¡ˆ**
```sql
-- 1. ä¸»é”®å†²çªé”™è¯¯
-- ä¸´æ—¶è·³è¿‡é”™è¯¯ï¼ˆè°¨æ…ä½¿ç”¨ï¼‰
SET GLOBAL sql_slave_skip_counter = 1;
START SLAVE;

-- 2. æ•°æ®ä¸ä¸€è‡´ä¿®å¤
-- åœ¨ä»åº“æ‰‹åŠ¨ä¿®å¤å†²çªæ•°æ®
DELETE FROM table_name WHERE id = 123;
START SLAVE;

-- 3. ä½¿ç”¨pt-table-checksumæ£€æŸ¥ä¸€è‡´æ€§
-- pt-table-checksum --host=master_host --databases=mydb
-- pt-table-sync --execute --host=slave_host master_host

-- 4. é‡æ–°åˆå§‹åŒ–ä»åº“ï¼ˆæœ€åæ‰‹æ®µï¼‰
STOP SLAVE;
RESET SLAVE ALL;
-- é‡æ–°å¯¼å…¥ä¸»åº“æ•°æ®å¹¶è®¾ç½®å¤åˆ¶
```

### 7.3 GTIDå¤åˆ¶é”™è¯¯

**ğŸ†” GTIDé”™è¯¯å°±åƒå¿«é€’å•å·æ··ä¹±ï¼Œéœ€è¦é‡æ–°æ•´ç†é¡ºåº**

```bash
# GTIDç›¸å…³é”™è¯¯ï¼š
[Warning] [MY-010544] [Repl] Slave SQL for channel '': When $$SESSION.GTID_NEXT is set to a GTID, you must explicitly set it to a different value after a COMMIT or ROLLBACK.
[ERROR] [MY-010563] [Repl] Slave SQL for channel '': Could not execute Write_rows event on table mydb.mytable; Duplicate entry '456' for key 'PRIMARY'

# GTIDçŠ¶æ€æ£€æŸ¥ï¼š
mysql> SELECT $$gtid_executed;
mysql> SELECT $$gtid_purged;
mysql> SHOW SLAVE STATUS\G
-- æŸ¥çœ‹ï¼šRetrieved_Gtid_Set å’Œ Executed_Gtid_Set
```

**ğŸ”§ GTIDé—®é¢˜ä¿®å¤**
```sql
-- 1. è·³è¿‡æœ‰é—®é¢˜çš„GTID
STOP SLAVE;
SET GTID_NEXT = '3e11fa47-71ca-11e1-9e33-c80aa9429562:23';
BEGIN;
COMMIT;
SET GTID_NEXT = 'AUTOMATIC';
START SLAVE;

-- 2. é‡ç½®GTIDä¿¡æ¯ï¼ˆè°¨æ…æ“ä½œï¼‰
STOP SLAVE;
RESET MASTER;
RESET SLAVE;
SET GLOBAL gtid_purged = '3e11fa47-71ca-11e1-9e33-c80aa9429562:1-22';
-- é‡æ–°é…ç½®å¤åˆ¶

-- 3. ä¸€è‡´æ€§ä¿®å¤åé‡æ–°åŒæ­¥
-- ä½¿ç”¨mysqldump --set-gtid-purged=ONé‡æ–°å¯¼å…¥æ•°æ®
```

---

## 8. ğŸ”’ æ­»é”é—®é¢˜è¿½è¸ª


### 8.1 æ­»é”æ£€æµ‹ä¸è®°å½•

**ğŸ”„ æ­»é”å°±åƒä¸¤è¾†è½¦åœ¨ç‹­çª„è·¯å£ç›¸é‡ï¼Œè°éƒ½ä¸è®©è·¯**

```
äº¤é€šæ­»é”åœºæ™¯ï¼š              æ•°æ®åº“æ­»é”åœºæ™¯ï¼š
è½¦Aç­‰è½¦Bè®©è·¯               äº‹åŠ¡Aç­‰å¾…äº‹åŠ¡Bé‡Šæ”¾é”
è½¦Bç­‰è½¦Aè®©è·¯               äº‹åŠ¡Bç­‰å¾…äº‹åŠ¡Aé‡Šæ”¾é”
ç»“æœï¼šéƒ½æ— æ³•é€šè¡Œ            ç»“æœï¼šéƒ½æ— æ³•ç»§ç»­æ‰§è¡Œ
è§£å†³ï¼šå…¶ä¸­ä¸€è¾†å€’è½¦          è§£å†³ï¼šå›æ»šå…¶ä¸­ä¸€ä¸ªäº‹åŠ¡
```

**ğŸ” æ­»é”ä¿¡æ¯åœ¨é”™è¯¯æ—¥å¿—ä¸­çš„è¡¨ç°**
```bash
# æ­»é”é”™è¯¯æ—¥å¿—ç¤ºä¾‹ï¼š
[Note] [MY-011825] [InnoDB] LATEST DETECTED DEADLOCK
------------------------
2024-01-11 15:30:15 0x7f8b44003700
*** (1) TRANSACTION:
TRANSACTION 421886838272, ACTIVE 5 sec starting index read
mysql tables in use 1, locked 1
LOCK WAIT 3 lock struct(s), heap size 1136, 2 row lock(s)
MySQL thread id 123, OS thread handle 140239392409344, query id 456 localhost myuser updating
UPDATE orders SET status='paid' WHERE order_id=1001

*** (2) TRANSACTION: 
TRANSACTION 421886838273, ACTIVE 3 sec starting index read
mysql tables in use 1, locked 1
3 lock struct(s), heap size 1136, 2 row lock(s)
MySQL thread id 124, OS thread handle 140239392409344, query id 457 localhost myuser updating  
UPDATE customers SET balance=balance-100 WHERE customer_id=501

*** WE ROLL BACK TRANSACTION (2)
```

### 8.2 æ­»é”åˆ†ææ–¹æ³•

**ğŸ” åˆ†ææ­»é”å°±åƒç ´æ¡ˆï¼Œéœ€è¦è¿˜åŸäº‹ä»¶ç°åœº**

```sql
-- 1. æŸ¥çœ‹æœ€è¿‘çš„æ­»é”ä¿¡æ¯
SHOW ENGINE INNODB STATUS\G
-- åœ¨è¾“å‡ºä¸­æŸ¥æ‰¾ "LATEST DETECTED DEADLOCK" éƒ¨åˆ†

-- 2. å¼€å¯æ­»é”æ—¥å¿—è®°å½•
SET GLOBAL innodb_print_all_deadlocks = ON;
-- ä¹‹åæ‰€æœ‰æ­»é”éƒ½ä¼šè®°å½•åˆ°é”™è¯¯æ—¥å¿—

-- 3. ç›‘æ§å½“å‰é”ç­‰å¾…æƒ…å†µ
SELECT 
    r.trx_id waiting_trx_id,
    r.trx_mysql_thread_id waiting_thread,
    r.trx_query waiting_query,
    b.trx_id blocking_trx_id,
    b.trx_mysql_thread_id blocking_thread,
    b.trx_query blocking_query
FROM information_schema.innodb_lock_waits w
INNER JOIN information_schema.innodb_trx b ON b.trx_id = w.blocking_trx_id
INNER JOIN information_schema.innodb_trx r ON r.trx_id = w.requesting_trx_id;
```

### 8.3 æ­»é”é¢„é˜²ç­–ç•¥

**ğŸ›¡ï¸ æ­»é”é¢„é˜²å°±åƒäº¤é€šè§„åˆ™ï¼Œé¿å…å†²çªå‘ç”Ÿ**

```
äº¤é€šæ­»é”é¢„é˜²ï¼š              æ•°æ®åº“æ­»é”é¢„é˜²ï¼š
1. çº¢ç»¿ç¯æ§åˆ¶              1. ç»Ÿä¸€é”é¡ºåº
2. å•è¡Œé“è®¾è®¡              2. å‡å°‘äº‹åŠ¡æ—¶é—´
3. ç¯å²›åˆ†æµ                3. é™ä½éš”ç¦»çº§åˆ«
4. é”™å³°å‡ºè¡Œ                4. ä¼˜åŒ–ç´¢å¼•è®¾è®¡
```

**ğŸ”§ æ­»é”é¢„é˜²æœ€ä½³å®è·µ**
```sql
-- 1. ç»Ÿä¸€è®¿é—®é¡ºåºï¼ˆæŒ‰ä¸»é”®æ’åºï¼‰
-- é”™è¯¯ç¤ºä¾‹ï¼šå¯èƒ½æ­»é”
BEGIN;
UPDATE table1 SET col1='value' WHERE id=2;
UPDATE table1 SET col1='value' WHERE id=1;
COMMIT;

-- æ­£ç¡®ç¤ºä¾‹ï¼šæŒ‰IDé¡ºåºè®¿é—®
BEGIN; 
UPDATE table1 SET col1='value' WHERE id IN (1,2) ORDER BY id;
COMMIT;

-- 2. ç¼©çŸ­äº‹åŠ¡æ—¶é—´
-- å°†é•¿æ—¶é—´çš„è®¡ç®—ç§»åˆ°äº‹åŠ¡å¤–
SELECT complex_calculation();  -- äº‹åŠ¡å¤–æ‰§è¡Œ
BEGIN;
UPDATE table1 SET result=@calculated_value WHERE id=1;
COMMIT;

-- 3. ä½¿ç”¨åˆé€‚çš„ç´¢å¼•
-- ç¡®ä¿WHEREæ¡ä»¶èƒ½ä½¿ç”¨ç´¢å¼•ï¼Œå‡å°‘é”èŒƒå›´
CREATE INDEX idx_status_date ON orders(status, created_date);
```

---

## 9. ğŸ”§ è¡¨æŸåé”™è¯¯è¯†åˆ«


### 9.1 è¡¨æŸåç±»å‹è¯†åˆ«

**ğŸ  è¡¨æŸåå°±åƒæˆ¿å±‹å—æŸï¼Œæœ‰ç»“æ„é—®é¢˜ä¹Ÿæœ‰è£…ä¿®é—®é¢˜**

```
æˆ¿å±‹æŸåç±»å‹ï¼š              è¡¨æŸåç±»å‹ï¼š
1. åœ°åŸºä¸‹æ²‰ï¼ˆç»“æ„æ€§ï¼‰       1. è¡¨ç»“æ„æ–‡ä»¶æŸåï¼ˆ.frmï¼‰
2. å¢™ä½“å¼€è£‚ï¼ˆå±€éƒ¨ï¼‰         2. æ•°æ®æ–‡ä»¶æŸåï¼ˆ.ibd/.MYDï¼‰
3. è£…ä¿®è„±è½ï¼ˆè¡¨é¢ï¼‰         3. ç´¢å¼•æ–‡ä»¶æŸåï¼ˆ.MYIï¼‰
4. æ°´ç®¡æ¼æ°´ï¼ˆåŠŸèƒ½æ€§ï¼‰       4. è¡¨ç©ºé—´æŸåï¼ˆå…±äº«è¡¨ç©ºé—´ï¼‰
```

**âŒ è¡¨æŸåé”™è¯¯è¯†åˆ«**
```bash
# MyISAMè¡¨æŸåé”™è¯¯ï¼š
[ERROR] [MY-008053] [Server] /var/lib/mysql/mydb/mytable.MYI' for table './mydb/mytable' is incorrectly formed
[Warning] [MY-008061] [Server] Checking table: './mydb/mytable'

# InnoDBè¡¨æŸåé”™è¯¯ï¼š
[ERROR] [MY-012216] [InnoDB] Cannot open datafile for read-only: './mydb/mytable.ibd' OS error: 71
[Warning] [MY-012049] [InnoDB] Retry attempts for opening './mydb/mytable.ibd' have exceeded the maximum limit

# è¡¨æŸåæ£€æµ‹å‘½ä»¤ï¼š
mysql> CHECK TABLE mytable;
mysql> CHECK TABLE mytable EXTENDED;
mysql> CHECK TABLE mytable FOR UPGRADE;
```

### 9.2 è¡¨ä¿®å¤æ–¹æ³•

**ğŸ”¨ è¡¨ä¿®å¤å°±åƒæˆ¿å±‹ç»´ä¿®ï¼Œæ ¹æ®æŸåç¨‹åº¦é€‰æ‹©ä¿®å¤æ–¹æ³•**

```sql
-- 1. MyISAMè¡¨ä¿®å¤
REPAIR TABLE mytable;
REPAIR TABLE mytable EXTENDED;
REPAIR TABLE mytable USE_FRM;  -- ä½¿ç”¨.frmæ–‡ä»¶é‡å»ºç´¢å¼•

-- 2. InnoDBè¡¨ä¿®å¤ï¼ˆæ›´å¤æ‚ï¼‰
-- InnoDBè¡¨é€šå¸¸éœ€è¦é€šè¿‡é‡å»ºæ¥ä¿®å¤
ALTER TABLE mytable ENGINE=InnoDB;

-- 3. ä½¿ç”¨å¤–éƒ¨å·¥å…·ä¿®å¤
-- myisamchkï¼ˆMyISAMè¡¨ï¼‰
sudo myisamchk --recover /var/lib/mysql/mydb/mytable.MYI
sudo myisamchk --safe-recover /var/lib/mysql/mydb/mytable.MYI

-- innochecksumï¼ˆInnoDBè¡¨ï¼‰
sudo innochecksum /var/lib/mysql/mydb/mytable.ibd
```

**ğŸ”§ é¢„é˜²æ€§ç»´æŠ¤**
```sql
-- å®šæœŸæ£€æŸ¥è¡¨å®Œæ•´æ€§
-- åˆ›å»ºæ£€æŸ¥è„šæœ¬
#!/bin/bash
mysql -e "
SELECT 
  table_schema,
  table_name,
  'CHECK TABLE' as operation
FROM information_schema.tables 
WHERE table_schema NOT IN ('information_schema','performance_schema','mysql','sys')
" | while read db table op; do
  echo "Checking $db.$table..."
  mysql -e "CHECK TABLE $db.$table"
done

-- è®¾ç½®è‡ªåŠ¨æ£€æŸ¥
-- åœ¨my.cnfä¸­å¯ç”¨
[mysqld]
myisam_recover_options = BACKUP,FORCE

-- å®šæœŸä¼˜åŒ–è¡¨
mysql> OPTIMIZE TABLE mytable;
mysql> ANALYZE TABLE mytable;
```

### 9.3 æ•°æ®æ¢å¤ç­–ç•¥

**ğŸ’¾ æ•°æ®æ¢å¤å°±åƒæ–‡ä»¶è¯¯åˆ æ¢å¤ï¼Œè¶Šæ—©å¤„ç†æˆåŠŸç‡è¶Šé«˜**

```bash
# 1. ä»å¤‡ä»½æ¢å¤ï¼ˆæœ€å¯é ï¼‰
# æ¢å¤æœ€è¿‘çš„å…¨é‡å¤‡ä»½
mysql < full_backup_20240110.sql

# åº”ç”¨å¢é‡æ—¥å¿—åˆ°æ•…éšœæ—¶é—´ç‚¹
mysqlbinlog --start-datetime="2024-01-10 00:00:00" \
  --stop-datetime="2024-01-11 14:30:00" \
  mysql-bin.* | mysql

# 2. éƒ¨åˆ†æ•°æ®æ•‘æ´
# å¯¼å‡ºèƒ½è¯»å–çš„æ•°æ®
mysqldump --single-transaction --where="1 limit 10000" \
  mydb mytable > partial_data.sql

# 3. ä½¿ç”¨æ•°æ®æ¢å¤å·¥å…·
# MySQL Enterprise Backup
# Percona XtraBackup
# ç¬¬ä¸‰æ–¹æ•°æ®æ¢å¤å·¥å…·
```

---

## 10. âš¡ æ€§èƒ½ç“¶é¢ˆå‘ç°


### 10.1 æ€§èƒ½ç›¸å…³é”™è¯¯æ¨¡å¼

**ğŸš— æ€§èƒ½é—®é¢˜å°±åƒäº¤é€šæ‹¥å µï¼Œéœ€è¦æ‰¾åˆ°å µç‚¹**

```
äº¤é€šæ‹¥å µåˆ†æï¼š              æ•°æ®åº“æ€§èƒ½åˆ†æï¼š
1. é“è·¯å¤ªçª„ï¼ˆç¡¬ä»¶é™åˆ¶ï¼‰     1. CPU/å†…å­˜/ç£ç›˜ä¸è¶³
2. è½¦æµé‡å¤§ï¼ˆä¸šåŠ¡é«˜å³°ï¼‰     2. å¹¶å‘è¿æ¥æ•°è¿‡å¤š
3. çº¢ç»¿ç¯é•¿ï¼ˆæ…¢æŸ¥è¯¢ï¼‰       3. æ…¢SQLè¯­å¥
4. äº‹æ•…é˜»å¡ï¼ˆé”ç­‰å¾…ï¼‰       4. é”å†²çªå’Œæ­»é”
```

**âš ï¸ æ€§èƒ½è­¦å‘Šä¿¡æ¯è¯†åˆ«**
```bash
# æ…¢æŸ¥è¯¢ç›¸å…³è­¦å‘Šï¼š
[Warning] [MY-010909] [Server] Sort aborted for order by query
[Note] [MY-010052] [Server] /usr/sbin/mysqld: Normal shutdown

# è¿æ¥æ•°ç›¸å…³è­¦å‘Šï¼š
[Warning] [MY-010909] [Server] Too many connections
[Warning] [MY-011810] [Server] Temporary file write failure

# å†…å­˜ç›¸å…³è­¦å‘Šï¼š
[Warning] [MY-013360] [Server] Plugin mysql_native_password reported: 'mysql_native_password_get_salt: failed to generate random salt. Errno: 12'
```

### 10.2 æ…¢æŸ¥è¯¢æ—¥å¿—åˆ†æ

**ğŸŒ æ…¢æŸ¥è¯¢å°±åƒèœ—ç‰›çˆ¬è¡Œï¼Œéœ€è¦æ‰¾åˆ°æ…¢çš„åŸå› **

```sql
-- å¼€å¯æ…¢æŸ¥è¯¢æ—¥å¿—
SET GLOBAL slow_query_log = ON;
SET GLOBAL long_query_time = 2;  -- è¶…è¿‡2ç§’çš„æŸ¥è¯¢è®°å½•
SET GLOBAL log_queries_not_using_indexes = ON;

-- æŸ¥çœ‹æ…¢æŸ¥è¯¢ç»Ÿè®¡
SHOW GLOBAL STATUS LIKE 'Slow_queries';
SHOW GLOBAL VARIABLES LIKE 'slow_query_log%';

-- åˆ†ææ…¢æŸ¥è¯¢æ¨¡å¼
SELECT 
  sql_text,
  exec_count,
  avg_timer_wait/1000000000 as avg_time_sec,
  sum_timer_wait/1000000000 as total_time_sec
FROM performance_schema.events_statements_summary_by_digest 
ORDER BY sum_timer_wait DESC 
LIMIT 10;
```

**ğŸ”§ æ…¢æŸ¥è¯¢ä¼˜åŒ–æŒ‡å¯¼**
```bash
# ä½¿ç”¨pt-query-digeståˆ†ææ…¢æŸ¥è¯¢æ—¥å¿—
pt-query-digest /var/log/mysql/slow.log > slow_analysis.txt

# æ…¢æŸ¥è¯¢æ—¥å¿—æ ·æœ¬åˆ†æï¼š
# Time: 2024-01-11T15:30:15.123456Z
# User@Host: app[app] @ [192.168.1.100]
# Thread_id: 123  Schema: mydb  QC_hit: No
# Query_time: 5.123456  Lock_time: 0.000123  Rows_sent: 1000  Rows_examined: 1000000
# SET timestamp=1640995815;
# SELECT * FROM orders WHERE created_date BETWEEN '2024-01-01' AND '2024-01-31';

# ä¼˜åŒ–å»ºè®®ï¼š
# 1. æ·»åŠ ç´¢å¼•ï¼šcreated_dateå­—æ®µ
# 2. é™åˆ¶è¿”å›è¡Œæ•°ï¼šæ·»åŠ LIMIT
# 3. é€‰æ‹©å¿…è¦å­—æ®µï¼šé¿å…SELECT *
```

### 10.3 èµ„æºç›‘æ§ä¸å‘Šè­¦

**ğŸ“Š æ€§èƒ½ç›‘æ§å°±åƒå¥åº·ä½“æ£€ï¼Œå®šæœŸæ£€æŸ¥å„é¡¹æŒ‡æ ‡**

```sql
-- å…³é”®æ€§èƒ½æŒ‡æ ‡ç›‘æ§
SELECT 
  'Connections' as metric,
  VARIABLE_VALUE as current_value,
  'connections' as unit
FROM performance_schema.global_status 
WHERE VARIABLE_NAME = 'Threads_connected'

UNION ALL

SELECT 
  'QPS' as metric,
  VARIABLE_VALUE as current_value,
  'queries/sec' as unit  
FROM performance_schema.global_status
WHERE VARIABLE_NAME = 'Queries'

UNION ALL

SELECT
  'Buffer Pool Hit Ratio' as metric,
  ROUND(
    (1 - (SELECT VARIABLE_VALUE FROM performance_schema.global_status WHERE VARIABLE_NAME = 'Innodb_buffer_pool_reads') /
    (SELECT VARIABLE_VALUE FROM performance_schema.global_status WHERE VARIABLE_NAME = 'Innodb_buffer_pool_read_requests')) * 100, 2
  ) as current_value,
  '%' as unit;
```

**ğŸš¨ æ€§èƒ½å‘Šè­¦è„šæœ¬ç¤ºä¾‹**
```bash
#!/bin/bash
# MySQLæ€§èƒ½ç›‘æ§è„šæœ¬

# æ£€æŸ¥è¿æ¥æ•°
CONNECTIONS=$(mysql -e "SHOW STATUS LIKE 'Threads_connected'" | grep Threads_connected | awk '{print $2}')
MAX_CONNECTIONS=$(mysql -e "SHOW VARIABLES LIKE 'max_connections'" | grep max_connections | awk '{print $2}')
CONNECTION_USAGE=$(echo "scale=2; $CONNECTIONS / $MAX_CONNECTIONS * 100" | bc)

if (( $(echo "$CONNECTION_USAGE > 80" | bc -l) )); then
    echo "WARNING: Connection usage is ${CONNECTION_USAGE}% (${CONNECTIONS}/${MAX_CONNECTIONS})"
fi

# æ£€æŸ¥æ…¢æŸ¥è¯¢
SLOW_QUERIES=$(mysql -e "SHOW STATUS LIKE 'Slow_queries'" | grep Slow_queries | awk '{print $2}')
echo "Current slow queries: $SLOW_QUERIES"

# æ£€æŸ¥InnoDBç¼“å†²æ± å‘½ä¸­ç‡
BUFFER_POOL_READS=$(mysql -e "SHOW STATUS LIKE 'Innodb_buffer_pool_reads'" | awk '{print $2}')
BUFFER_POOL_READ_REQUESTS=$(mysql -e "SHOW STATUS LIKE 'Innodb_buffer_pool_read_requests'" | awk '{print $2}')
HIT_RATIO=$(echo "scale=2; (1 - $BUFFER_POOL_READS / $BUFFER_POOL_READ_REQUESTS) * 100" | bc)

if (( $(echo "$HIT_RATIO < 95" | bc -l) )); then
    echo "WARNING: Buffer pool hit ratio is ${HIT_RATIO}%"
fi
```

---

## 11. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 11.1 å¿…é¡»æŒæ¡çš„è¯Šæ–­æµç¨‹


```
ğŸ”¸ æ•…éšœè¯Šæ–­æ ‡å‡†æµç¨‹ï¼šç°è±¡æ”¶é›†â†’æ—¥å¿—å®šä½â†’æ ¹å› åˆ†æâ†’è§£å†³æ–¹æ¡ˆâ†’æ•ˆæœéªŒè¯
ğŸ”¸ é”™è¯¯åˆ†çº§å¤„ç†ï¼šè‡´å‘½(ç«‹å³)â†’ä¸¥é‡(1å°æ—¶)â†’è­¦å‘Š(24å°æ—¶)â†’ä¿¡æ¯(å®šæœŸ)
ğŸ”¸ æ—¥å¿—åˆ†ææŠ€å·§ï¼šæ—¶é—´è¿‡æ»¤ã€å…³é”®å­—æœç´¢ã€æ¨¡å¼è¯†åˆ«ã€é¢‘ç‡ç»Ÿè®¡
ğŸ”¸ è¯Šæ–­å·¥å…·ä½¿ç”¨ï¼štailã€grepã€awkã€pt-query-digestç­‰
ğŸ”¸ ç›‘æ§å‘Šè­¦ä½“ç³»ï¼šå…³é”®æŒ‡æ ‡ç›‘æ§ã€é˜ˆå€¼å‘Šè­¦ã€è‡ªåŠ¨åŒ–å¤„ç†
```

### 11.2 å…³é”®é”™è¯¯ç±»å‹åŠè§£å†³æ€è·¯


**ğŸ”¹ å¯åŠ¨å¤±è´¥ç±»é”™è¯¯**
```
è¯Šæ–­æ€è·¯ï¼š
- é…ç½®æ–‡ä»¶è¯­æ³•æ£€æŸ¥
- æ•°æ®ç›®å½•æƒé™éªŒè¯  
- ç«¯å£å ç”¨æƒ…å†µæ’æŸ¥
- å­˜å‚¨å¼•æ“åˆå§‹åŒ–çŠ¶æ€

è§£å†³ç­–ç•¥ï¼š
- æœ€å°é…ç½®å¯åŠ¨æµ‹è¯•
- é€é¡¹é…ç½®æ·»åŠ éªŒè¯
- æƒé™å’Œèµ„æºä¿®å¤
- åˆå§‹åŒ–æ•°æ®ç›®å½•
```

**ğŸ”¹ è¿æ¥é—®é¢˜ç±»é”™è¯¯**
```
è¯Šæ–­æ€è·¯ï¼š
- è¿æ¥æ•°é™åˆ¶æ£€æŸ¥
- ç½‘ç»œè¿é€šæ€§æµ‹è¯•
- ç”¨æˆ·æƒé™éªŒè¯
- è¶…æ—¶å‚æ•°åˆ†æ

è§£å†³ç­–ç•¥ï¼š
- è°ƒæ•´è¿æ¥å‚æ•°
- ä¼˜åŒ–è¿æ¥æ± é…ç½®
- ä¿®å¤æƒé™è®¾ç½®
- ç½‘ç»œç¯å¢ƒä¼˜åŒ–
```

**ğŸ”¹ æ€§èƒ½é—®é¢˜ç±»é”™è¯¯**
```
è¯Šæ–­æ€è·¯ï¼š
- èµ„æºä½¿ç”¨æƒ…å†µåˆ†æ
- æ…¢æŸ¥è¯¢æ¨¡å¼è¯†åˆ«
- é”ç­‰å¾…çŠ¶å†µæ£€æŸ¥
- ç³»ç»Ÿç“¶é¢ˆå®šä½

è§£å†³ç­–ç•¥ï¼š
- ç¡¬ä»¶èµ„æºæ‰©å®¹
- SQLè¯­å¥ä¼˜åŒ–
- ç´¢å¼•è®¾è®¡æ”¹è¿›
- é…ç½®å‚æ•°è°ƒä¼˜
```

### 11.3 å®é™…åº”ç”¨ä»·å€¼


**ğŸ¯ ç”Ÿäº§ç¯å¢ƒåº”ç”¨åœºæ™¯**
- **ç”µå•†å¹³å°**ï¼šåŒ11å¤§ä¿ƒæœŸé—´å¿«é€Ÿå®šä½å’Œè§£å†³çªå‘æ•…éšœ
- **é‡‘èç³»ç»Ÿ**ï¼šäº¤æ˜“é«˜å³°æœŸçš„æ€§èƒ½ç“¶é¢ˆå¿«é€Ÿè¯Šæ–­
- **å†…å®¹å¹³å°**ï¼šç”¨æˆ·è®¿é—®å¼‚å¸¸çš„è¿æ¥é—®é¢˜æ’æŸ¥
- **ä¼ä¸šERP**ï¼šä¸šåŠ¡æ“ä½œç¼“æ…¢çš„æ ¹å› åˆ†æ

**ğŸ”§ è¿ç»´å®è·µå»ºè®®**
- **æ ‡å‡†åŒ–æµç¨‹**ï¼šå»ºç«‹æ•…éšœè¯Šæ–­çš„æ ‡å‡†æ“ä½œæµç¨‹
- **å·¥å…·é›†æˆ**ï¼šæ•´åˆå„ç§è¯Šæ–­å·¥å…·ï¼Œæé«˜æ’æŸ¥æ•ˆç‡
- **çŸ¥è¯†ç§¯ç´¯**ï¼šå»ºç«‹é”™è¯¯çŸ¥è¯†åº“ï¼Œç§¯ç´¯è§£å†³ç»éªŒ
- **é¢„é˜²ä¸ºä¸»**ï¼šé€šè¿‡ç›‘æ§å‘Šè­¦ï¼Œå˜è¢«åŠ¨å“åº”ä¸ºä¸»åŠ¨é¢„é˜²

**ğŸ“ˆ æŠ€èƒ½æå‡ä»·å€¼**
- **å¿«é€Ÿå®šä½**ï¼šç¼©çŸ­æ•…éšœå®šä½æ—¶é—´ï¼Œå‡å°‘ä¸šåŠ¡å½±å“
- **æ ¹å› åˆ†æ**ï¼šåŸ¹å…»ç³»ç»Ÿæ€§æ€ç»´ï¼Œè§£å†³æ ¹æœ¬é—®é¢˜
- **é¢„é˜²æ„è¯†**ï¼šé€šè¿‡æ—¥å¿—åˆ†æï¼Œå‘ç°æ½œåœ¨é£é™©
- **ä¸“ä¸šèƒ½åŠ›**ï¼šæå‡æ•°æ®åº“è¿ç»´ä¸“ä¸šæ°´å¹³

**æ ¸å¿ƒè®°å¿†å£è¯€**ï¼š
- é”™è¯¯æ—¥å¿—æ˜¯æ•…éšœè¯Šæ–­çš„ç¬¬ä¸€æ‰‹èµ„æ–™
- æ ‡å‡†æµç¨‹æ¯”ç»éªŒæ›´å¯é 
- åˆ†çº§å¤„ç†æ¯”ä¸€è§†åŒä»æ›´é«˜æ•ˆ  
- é¢„é˜²ç›‘æ§æ¯”äº‹åè¡¥æ•‘æ›´é‡è¦