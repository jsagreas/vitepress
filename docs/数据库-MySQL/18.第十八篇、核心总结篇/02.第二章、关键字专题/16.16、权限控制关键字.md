---
title: 16、权限控制关键字
---
## 📚 目录

1. [权限控制基础概念](#1-权限控制基础概念)
2. [GRANT授权机制](#2-GRANT授权机制)
3. [REVOKE撤销权限](#3-REVOKE撤销权限)
4. [PRIVILEGES权限体系](#4-PRIVILEGES权限体系)
5. [IDENTIFIED身份认证](#5-IDENTIFIED身份认证)
6. [PASSWORD密码管理](#6-PASSWORD密码管理)
7. [USER用户管理](#7-USER用户管理)
8. [ROLE角色权限](#8-ROLE角色权限)
9. [WITH伴随子句](#9-WITH伴随子句)
10. [OPTION选项详解](#10-OPTION选项详解)
11. [核心要点总结](#11-核心要点总结)

---

## 1. 🔐 权限控制基础概念


### 1.1 什么是权限控制

**权限控制**就是决定谁能对数据库做什么操作的安全机制。

```
简单理解：
就像家里的钥匙管理
- 主人：拥有所有房间的钥匙（管理员权限）
- 客人：只能进客厅，不能进卧室（普通用户权限）
- 保姆：能进厨房和客厅，不能进书房（特定权限）
```

### 1.2 为什么需要权限控制

**🔸 数据安全保护**
- 防止未授权访问
- 避免数据被恶意修改或删除
- 保护敏感信息不被泄露

**🔸 操作规范管理**
- 不同角色的人做不同的事
- 避免误操作造成数据损失
- 便于管理和审计

### 1.3 权限控制的基本原理

```
权限控制三要素：
主体（谁）→ 操作（做什么）→ 客体（对什么）

例如：
用户张三 → 查询操作 → 订单表
用户李四 → 插入操作 → 产品表
管理员 → 所有操作 → 所有数据库
```

**权限验证流程图：**
```
用户登录请求
    ↓
身份验证（用户名密码）
    ↓
权限检查（是否有操作权限）
    ↓
执行操作 或 拒绝访问
```

---

## 2. 🎫 GRANT授权机制


### 2.1 GRANT是什么

**GRANT**是MySQL中用来**给用户分配权限**的命令，就像给员工发工作证一样。

**🔸 基本语法理解**
```sql
GRANT 权限类型 ON 数据库.表 TO 用户;
```

**通俗解释：**
- **GRANT** = "我现在要给某人权限"
- **权限类型** = "给什么样的权限"（读、写、删除等）
- **ON** = "在哪个地方"（哪个数据库、哪个表）
- **TO** = "给谁"（哪个用户）

### 2.2 GRANT基本用法

**🔸 给用户基本查询权限**
```sql
-- 给用户john在products表上的查询权限
GRANT SELECT ON shop.products TO 'john'@'localhost';
```

**解释：**
- `SELECT` = 查询权限（只能看，不能改）
- `shop.products` = 在shop数据库的products表上
- `'john'@'localhost'` = 给本地用户john

**🔸 给用户多种权限**
```sql
-- 给用户mary在整个shop数据库的读写权限
GRANT SELECT, INSERT, UPDATE ON shop.* TO 'mary'@'localhost';
```

**解释：**
- `SELECT, INSERT, UPDATE` = 查询、插入、修改权限
- `shop.*` = shop数据库下的所有表
- 用逗号分隔多个权限

### 2.3 GRANT权限级别


**🔸 全局权限（整个MySQL服务器）**
```sql
-- 给用户管理员权限
GRANT ALL PRIVILEGES ON *.* TO 'admin'@'localhost';
```
- `*.*` = 所有数据库的所有表
- `ALL PRIVILEGES` = 所有权限

**🔸 数据库级权限**
```sql
-- 给用户在整个数据库的权限
GRANT CREATE, DROP ON testdb.* TO 'developer'@'localhost';
```
- `testdb.*` = testdb数据库下的所有表
- 可以创建和删除表

**🔸 表级权限**
```sql
-- 只能操作特定表
GRANT SELECT, UPDATE ON shop.users TO 'customer_service'@'localhost';
```

**🔸 列级权限**
```sql
-- 只能查看用户表的特定列
GRANT SELECT(name, email) ON shop.users TO 'marketing'@'localhost';
```

---

## 3. ❌ REVOKE撤销权限


### 3.1 REVOKE是什么

**REVOKE**是用来**收回用户权限**的命令，就像收回员工的工作证一样。

**🔸 基本语法**
```sql
REVOKE 权限类型 ON 数据库.表 FROM 用户;
```

**通俗理解：**
- **REVOKE** = "我要收回某人的权限"
- **FROM** = "从谁那里收回"（注意是FROM不是TO）

### 3.2 REVOKE基本用法


**🔸 收回特定权限**
```sql
-- 收回john的插入权限，但保留查询权限
REVOKE INSERT ON shop.products FROM 'john'@'localhost';
```

**🔸 收回多个权限**
```sql
-- 收回mary的修改和删除权限
REVOKE UPDATE, DELETE ON shop.* FROM 'mary'@'localhost';
```

**🔸 收回所有权限**
```sql
-- 收回用户的所有权限
REVOKE ALL PRIVILEGES ON shop.* FROM 'temp_user'@'localhost';
```

### 3.3 GRANT与REVOKE对应关系


| **操作** | **GRANT示例** | **REVOKE示例** |
|---------|---------------|----------------|
| **授权查询** | `GRANT SELECT` | `REVOKE SELECT` |
| **授权修改** | `GRANT UPDATE` | `REVOKE UPDATE` |
| **授权全部** | `GRANT ALL PRIVILEGES` | `REVOKE ALL PRIVILEGES` |

**⚠️ 重要提示：**
```sql
-- 错误示例
REVOKE SELECT TO user;  -- 错误！应该用FROM

-- 正确示例  
REVOKE SELECT FROM user;  -- 正确！
```

---

## 4. 🏆 PRIVILEGES权限体系


### 4.1 什么是PRIVILEGES

**PRIVILEGES**就是"特权"或"权限"的意思，指用户能对数据库进行哪些操作。

### 4.2 常用权限类型详解


**🔸 数据操作权限**
```sql
SELECT   -- 查询权限：能看数据
INSERT   -- 插入权限：能添加新数据  
UPDATE   -- 修改权限：能修改现有数据
DELETE   -- 删除权限：能删除数据
```

**实际理解：**
- `SELECT` = 只能"看"，不能"动"
- `INSERT` = 能"添加"新内容
- `UPDATE` = 能"修改"现有内容  
- `DELETE` = 能"删除"内容

**🔸 数据库结构权限**
```sql
CREATE   -- 创建权限：能建新表、新数据库
DROP     -- 删除权限：能删除表、数据库
ALTER    -- 修改权限：能修改表结构
INDEX    -- 索引权限：能创建和删除索引
```

**🔸 管理权限**
```sql
GRANT OPTION    -- 授权权限：能给别人分配权限
SUPER          -- 超级权限：几乎所有管理操作
RELOAD         -- 重载权限：能刷新权限表
SHUTDOWN       -- 关闭权限：能关闭MySQL服务器
```

### 4.3 权限组合使用


**🔸 常见权限组合**
```sql
-- 只读用户（适合报表查询）
GRANT SELECT ON company.* TO 'reporter'@'localhost';

-- 应用用户（适合程序连接）
GRANT SELECT, INSERT, UPDATE, DELETE ON app.* TO 'app_user'@'localhost';

-- 开发用户（适合开发测试）
GRANT CREATE, DROP, ALTER, SELECT, INSERT, UPDATE, DELETE 
ON dev_db.* TO 'developer'@'localhost';

-- 管理用户（几乎全部权限）
GRANT ALL PRIVILEGES ON *.* TO 'admin'@'localhost';
```

### 4.4 权限等级对照表


| **用户类型** | **权限范围** | **典型权限** | **使用场景** |
|-------------|-------------|-------------|-------------|
| **只读用户** | `SELECT` | 查询 | 数据分析、报表 |
| **应用用户** | `SELECT,INSERT,UPDATE,DELETE` | 基本数据操作 | 应用程序连接 |
| **开发用户** | `基本权限 + CREATE,DROP,ALTER` | 开发测试 | 开发环境 |
| **管理员** | `ALL PRIVILEGES` | 所有权限 | 系统管理 |

---

## 5. 🔑 IDENTIFIED身份认证


### 5.1 什么是IDENTIFIED

**IDENTIFIED**是用来**设置用户身份验证方式**的关键字，主要用于指定用户的密码。

**通俗理解：**
就像办银行卡时设置密码，`IDENTIFIED`就是"用什么方式来证明你是你"。

### 5.2 IDENTIFIED基本用法


**🔸 创建用户时设置密码**
```sql
-- 创建用户并设置密码
CREATE USER 'newuser'@'localhost' IDENTIFIED BY '123456';
```

**解释：**
- `IDENTIFIED BY` = "用密码来证明身份"
- `'123456'` = 设置的密码（实际使用要复杂密码）

**🔸 授权时设置密码**
```sql
-- 授权同时设置密码（较老的写法）
GRANT SELECT ON shop.* TO 'user1'@'localhost' IDENTIFIED BY 'password123';
```

### 5.3 不同认证方式


**🔸 普通密码认证**
```sql
-- 最常用的密码认证
CREATE USER 'john'@'localhost' IDENTIFIED BY 'mypassword';
```

**🔸 哈希密码认证**
```sql
-- 使用已加密的密码
CREATE USER 'mary'@'localhost' 
IDENTIFIED BY PASSWORD '*6C8989366EAF75BB670AD8EA7A7FC1176A95CEF4';
```

**🔸 插件认证（MySQL 8.0+）**
```sql
-- 使用特定的认证插件
CREATE USER 'admin'@'localhost' 
IDENTIFIED WITH mysql_native_password BY 'strongpassword';
```

### 5.4 修改认证信息


**🔸 修改用户密码**
```sql
-- 修改现有用户的密码
ALTER USER 'john'@'localhost' IDENTIFIED BY 'newpassword';
```

**🔸 查看当前认证方式**
```sql
-- 查看用户的认证信息
SELECT user, host, plugin, authentication_string 
FROM mysql.user WHERE user = 'john';
```

---

## 6. 🔒 PASSWORD密码管理


### 6.1 PASSWORD的作用

**PASSWORD**是用来管理用户登录密码的，确保只有知道正确密码的人才能访问数据库。

### 6.2 密码设置方式


**🔸 明文密码设置**
```sql
-- 直接使用明文密码（MySQL会自动加密）
SET PASSWORD FOR 'user'@'localhost' = 'newpassword123';
```

**🔸 使用PASSWORD函数**
```sql
-- 使用PASSWORD函数加密（MySQL 5.7及以前）
SET PASSWORD FOR 'user'@'localhost' = PASSWORD('newpassword123');
```

**🔸 现代方式（推荐）**
```sql
-- MySQL 8.0推荐方式
ALTER USER 'user'@'localhost' IDENTIFIED BY 'newpassword123';
```

### 6.3 密码安全最佳实践


**🔸 强密码要求**
```
✅ 长度至少8位
✅ 包含大小写字母
✅ 包含数字
✅ 包含特殊符号
✅ 不使用常见单词
```

**🔸 密码管理示例**
```sql
-- 好的密码示例
CREATE USER 'app_user'@'localhost' IDENTIFIED BY 'MyApp@2023#Secure';

-- 不好的密码示例（避免使用）
-- CREATE USER 'user'@'localhost' IDENTIFIED BY '123456';
-- CREATE USER 'user'@'localhost' IDENTIFIED BY 'password';
```

### 6.4 密码相关操作


**🔸 修改自己的密码**
```sql
-- 用户修改自己的密码
SET PASSWORD = 'my_new_password';
```

**🔸 管理员重置用户密码**
```sql
-- 管理员为其他用户重置密码
ALTER USER 'john'@'localhost' IDENTIFIED BY 'reset_password_123';
```

**🔸 查看密码策略**
```sql
-- 查看密码验证相关设置
SHOW VARIABLES LIKE 'validate_password%';
```

---

## 7. 👤 USER用户管理


### 7.1 什么是USER

**USER**就是数据库的"用户账号"，每个连接数据库的人或程序都需要一个用户账号。

**通俗理解：**
就像手机号码一样，每个人都有自己的账号，用来区分不同的使用者。

### 7.2 用户的组成结构

MySQL中的用户由两部分组成：**用户名@主机名**

```
格式：'username'@'hostname'

示例：
'john'@'localhost'     -- 用户john从本地连接
'mary'@'192.168.1.100' -- 用户mary从指定IP连接  
'app'@'%'              -- 用户app从任何地方连接
```

### 7.3 用户管理操作


**🔸 创建用户**
```sql
-- 创建本地用户
CREATE USER 'john'@'localhost' IDENTIFIED BY 'password123';

-- 创建可以从任何地方连接的用户
CREATE USER 'remote_user'@'%' IDENTIFIED BY 'strong_password';

-- 创建只能从特定IP连接的用户
CREATE USER 'office_user'@'192.168.1.%' IDENTIFIED BY 'office_pass';
```

**🔸 查看用户**
```sql
-- 查看所有用户
SELECT user, host FROM mysql.user;

-- 查看当前用户
SELECT USER(), CURRENT_USER();
```

**🔸 删除用户**
```sql
-- 删除用户（同时删除该用户的所有权限）
DROP USER 'john'@'localhost';

-- 删除多个用户
DROP USER 'user1'@'localhost', 'user2'@'%';
```

### 7.4 用户主机限制详解


**🔸 主机名通配符含义**
```sql
'user'@'localhost'        -- 只能本地连接
'user'@'127.0.0.1'       -- 只能从127.0.0.1连接
'user'@'192.168.1.100'   -- 只能从指定IP连接
'user'@'192.168.1.%'     -- 可以从192.168.1.x网段连接
'user'@'%.example.com'   -- 可以从example.com域下连接
'user'@'%'               -- 可以从任何地方连接（不安全）
```

**🔸 安全建议**
```
✅ 优先使用具体的IP地址
✅ 使用网段限制（如192.168.1.%）
⚠️ 谨慎使用'%'通配符
❌ 避免无限制的远程访问
```

---

## 8. 🎭 ROLE角色权限


### 8.1 什么是ROLE

**ROLE**（角色）是一组权限的集合，就像"职位"一样。

**通俗理解：**
```
传统方式：给每个员工单独发各种工作证
角色方式：定义"经理"职位，给经理发一套权限，然后任命某人为经理

好处：
- 管理简单：只需要管理几个角色
- 权限统一：同样职位的人有同样权限
- 变更方便：修改角色权限，所有该角色用户同时生效
```

### 8.2 角色的基本操作


**🔸 创建角色**
```sql
-- 创建一个只读角色
CREATE ROLE 'read_only';

-- 创建应用操作角色
CREATE ROLE 'app_operator';

-- 创建管理员角色
CREATE ROLE 'database_admin';
```

**🔸 给角色分配权限**
```sql
-- 给只读角色分配查询权限
GRANT SELECT ON company.* TO 'read_only';

-- 给应用角色分配基本操作权限
GRANT SELECT, INSERT, UPDATE, DELETE ON app.* TO 'app_operator';

-- 给管理员角色分配管理权限
GRANT ALL PRIVILEGES ON *.* TO 'database_admin';
```

**🔸 将角色分配给用户**
```sql
-- 创建用户并分配角色
CREATE USER 'reporter'@'localhost' IDENTIFIED BY 'pass123';
GRANT 'read_only' TO 'reporter'@'localhost';

-- 给现有用户分配角色
GRANT 'app_operator' TO 'john'@'localhost';
```

### 8.3 角色管理实例


**🔸 完整的角色管理示例**
```sql
-- 1. 创建角色
CREATE ROLE 'sales_role';
CREATE ROLE 'hr_role';
CREATE ROLE 'it_role';

-- 2. 给角色分配权限
GRANT SELECT ON sales.* TO 'sales_role';
GRANT SELECT, UPDATE ON employees.* TO 'hr_role';  
GRANT ALL PRIVILEGES ON *.* TO 'it_role';

-- 3. 创建用户并分配角色
CREATE USER 'alice'@'localhost' IDENTIFIED BY 'alice_pass';
CREATE USER 'bob'@'localhost' IDENTIFIED BY 'bob_pass';
CREATE USER 'charlie'@'localhost' IDENTIFIED BY 'charlie_pass';

GRANT 'sales_role' TO 'alice'@'localhost';
GRANT 'hr_role' TO 'bob'@'localhost';
GRANT 'it_role' TO 'charlie'@'localhost';

-- 4. 激活角色（用户需要设置默认角色）
ALTER USER 'alice'@'localhost' DEFAULT ROLE 'sales_role';
ALTER USER 'bob'@'localhost' DEFAULT ROLE 'hr_role';
ALTER USER 'charlie'@'localhost' DEFAULT ROLE 'it_role';
```

### 8.4 角色vs直接授权对比


| **方式** | **管理复杂度** | **权限一致性** | **变更便利性** | **适用场景** |
|---------|-------------|-------------|-------------|-------------|
| **直接授权** | 🔴高 | 🔴难保证 | 🔴需要逐个修改 | 用户少，权限简单 |
| **角色授权** | 🟢低 | 🟢容易保证 | 🟢修改角色即可 | 用户多，权限复杂 |

---

## 9. 🔗 WITH伴随子句


### 9.1 什么是WITH

**WITH**是GRANT语句的伴随子句，用来附加一些额外的权限选项。

**通俗理解：**
就像给员工发工作证时，除了基本权限，还可以附加一些特殊权限，比如"可以给其他人发证"。

### 9.2 WITH GRANT OPTION


**🔸 基本含义**
```sql
-- 给用户权限，同时允许他把这些权限再给别人
GRANT SELECT, INSERT ON shop.* TO 'manager'@'localhost' WITH GRANT OPTION;
```

**解释：**
- `WITH GRANT OPTION` = "你不仅有这些权限，还可以把这些权限给别人"
- 就像部门经理不仅能干活，还能给下属分配工作权限

**🔸 实际应用场景**
```sql
-- 部门主管：可以查看数据，也可以给下属分配查看权限
GRANT SELECT ON company.department1 TO 'dept_manager'@'localhost' WITH GRANT OPTION;

-- 现在dept_manager可以执行：
-- GRANT SELECT ON company.department1 TO 'employee1'@'localhost';
```

### 9.3 其他WITH选项


**🔸 WITH MAX_QUERIES_PER_HOUR**
```sql
-- 限制每小时最多查询100次
GRANT SELECT ON shop.* TO 'limited_user'@'localhost' 
WITH MAX_QUERIES_PER_HOUR 100;
```

**🔸 WITH MAX_CONNECTIONS_PER_HOUR**
```sql
-- 限制每小时最多连接10次
GRANT SELECT ON shop.* TO 'api_user'@'localhost' 
WITH MAX_CONNECTIONS_PER_HOUR 10;
```

**🔸 WITH MAX_USER_CONNECTIONS**
```sql
-- 限制同时最多2个连接
GRANT SELECT ON shop.* TO 'report_user'@'localhost' 
WITH MAX_USER_CONNECTIONS 2;
```

### 9.4 WITH选项组合使用

```sql
-- 多个WITH选项一起使用
GRANT SELECT, INSERT ON app.* TO 'app_user'@'localhost'
WITH GRANT OPTION
WITH MAX_QUERIES_PER_HOUR 1000
WITH MAX_CONNECTIONS_PER_HOUR 50
WITH MAX_USER_CONNECTIONS 5;
```

---

## 10. ⚙️ OPTION选项详解


### 10.1 什么是OPTION

**OPTION**是权限管理中的各种选项设置，用来精细控制权限的使用方式和限制。

### 10.2 GRANT OPTION详解

**🔸 GRANT OPTION的权力**
拥有GRANT OPTION的用户可以：
- 将自己拥有的权限授予其他用户
- 创建与自己权限相同或更少的用户

**🔸 GRANT OPTION示例**
```sql
-- 用户A获得WITH GRANT OPTION权限
GRANT SELECT, INSERT ON shop.products TO 'userA'@'localhost' WITH GRANT OPTION;

-- 现在userA可以将这些权限分配给其他人
-- （以userA身份执行）
GRANT SELECT ON shop.products TO 'userB'@'localhost';  -- ✅ 可以
GRANT INSERT ON shop.products TO 'userC'@'localhost';  -- ✅ 可以
GRANT DELETE ON shop.products TO 'userD'@'localhost';  -- ❌ 不可以，因为userA没有DELETE权限
```

### 10.3 资源限制选项


**🔸 查询限制**
```sql
MAX_QUERIES_PER_HOUR count    -- 每小时最大查询次数
MAX_UPDATES_PER_HOUR count    -- 每小时最大更新次数  
MAX_CONNECTIONS_PER_HOUR count -- 每小时最大连接次数
MAX_USER_CONNECTIONS count     -- 同时最大连接数
```

**🔸 实际使用示例**
```sql
-- API用户：限制访问频率，防止滥用
CREATE USER 'api_user'@'%' IDENTIFIED BY 'api_password';
GRANT SELECT ON api.* TO 'api_user'@'%'
WITH MAX_QUERIES_PER_HOUR 10000
WITH MAX_CONNECTIONS_PER_HOUR 100
WITH MAX_USER_CONNECTIONS 10;

-- 报表用户：允许长时间连接，但限制并发
CREATE USER 'report_user'@'localhost' IDENTIFIED BY 'report_pass';
GRANT SELECT ON warehouse.* TO 'report_user'@'localhost'
WITH MAX_USER_CONNECTIONS 3;
```

### 10.4 选项管理操作


**🔸 查看用户的选项限制**
```sql
-- 查看用户的资源限制
SELECT user, host, max_queries, max_connections, max_user_connections
FROM mysql.user WHERE user = 'api_user';
```

**🔸 修改用户的选项限制**
```sql
-- 修改现有用户的资源限制
ALTER USER 'api_user'@'%' 
WITH MAX_QUERIES_PER_HOUR 20000;
```

**🔸 清除选项限制**
```sql
-- 清除资源限制（设置为0表示无限制）
ALTER USER 'api_user'@'%' 
WITH MAX_QUERIES_PER_HOUR 0;
```

---

## 11. 📋 核心要点总结


### 11.1 必须掌握的核心概念

```
🔸 权限控制：决定谁能对数据库做什么操作的安全机制
🔸 GRANT授权：给用户分配权限的命令，语法是GRANT...TO
🔸 REVOKE撤销：收回用户权限的命令，语法是REVOKE...FROM
🔸 PRIVILEGES：各种权限类型，如SELECT、INSERT、UPDATE等
🔸 IDENTIFIED：设置用户身份验证方式，主要是密码
🔸 PASSWORD：用户登录密码管理
🔸 USER：数据库用户账号，格式为'用户名'@'主机名'
🔸 ROLE：角色是一组权限的集合，便于批量管理
🔸 WITH：GRANT语句的伴随选项，如WITH GRANT OPTION
🔸 OPTION：各种权限选项和限制设置
```

### 11.2 关键理解要点


**🔹 权限管理的基本思路**
```
1. 最小权限原则：只给必需的权限，不多给
2. 角色化管理：用角色而不是直接授权
3. 定期审查：检查用户权限是否合理
4. 密码安全：使用强密码并定期更换
```

**🔹 常见权限组合模式**
```
只读用户：SELECT
应用用户：SELECT, INSERT, UPDATE, DELETE  
开发用户：基本权限 + CREATE, DROP, ALTER
管理用户：ALL PRIVILEGES
```

**🔹 用户主机限制策略**
```
本地用户：'user'@'localhost'
内网用户：'user'@'192.168.1.%'  
特定IP：'user'@'192.168.1.100'
任意连接：'user'@'%'（需谨慎使用）
```

### 11.3 实际应用最佳实践


**🔸 权限分配建议**
```sql
-- 1. 应用连接用户（最常用）
CREATE USER 'app_user'@'192.168.1.%' IDENTIFIED BY 'strong_password';
GRANT SELECT, INSERT, UPDATE, DELETE ON app_database.* TO 'app_user'@'192.168.1.%';

-- 2. 只读报表用户
CREATE USER 'report_user'@'localhost' IDENTIFIED BY 'report_password';
GRANT SELECT ON app_database.* TO 'report_user'@'localhost';

-- 3. 开发测试用户
CREATE USER 'dev_user'@'localhost' IDENTIFIED BY 'dev_password';
GRANT ALL PRIVILEGES ON test_database.* TO 'dev_user'@'localhost';

-- 4. 备份用户
CREATE USER 'backup_user'@'localhost' IDENTIFIED BY 'backup_password';
GRANT SELECT, LOCK TABLES ON *.* TO 'backup_user'@'localhost';
```

**🔸 角色管理示例**
```sql
-- 使用角色管理（MySQL 8.0+）
CREATE ROLE 'app_read_write';
GRANT SELECT, INSERT, UPDATE, DELETE ON app.* TO 'app_read_write';

CREATE USER 'user1'@'%' IDENTIFIED BY 'pass1';
CREATE USER 'user2'@'%' IDENTIFIED BY 'pass2';

GRANT 'app_read_write' TO 'user1'@'%';
GRANT 'app_read_write' TO 'user2'@'%';
```

### 11.4 安全注意事项


**🔸 密码安全**
```
✅ 使用复杂密码（大小写+数字+特殊符号）
✅ 定期更换密码
✅ 不在脚本中硬编码密码
❌ 避免使用弱密码如123456、password
```

**🔸 权限安全**
```
✅ 遵循最小权限原则
✅ 定期审查用户权限
✅ 及时回收离职员工权限
❌ 避免随意给予ALL PRIVILEGES
❌ 避免使用%通配符连接主机
```

**🔸 常用管理命令**
```sql
-- 查看所有用户
SELECT user, host FROM mysql.user;

-- 查看用户权限
SHOW GRANTS FOR 'username'@'hostname';

-- 刷新权限（修改权限后执行）
FLUSH PRIVILEGES;

-- 查看当前用户
SELECT USER(), CURRENT_USER();
```

**核心记忆口诀**：
- 权限控制保安全，GRANT授权REVOKE收
- 用户密码要设强，角色管理更方便
- 最小权限是原则，定期检查不能忘
- WITH选项功能多，OPTION限制要记牢