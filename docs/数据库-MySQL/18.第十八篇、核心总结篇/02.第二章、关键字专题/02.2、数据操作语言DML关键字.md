---
title: 2、数据操作语言DML关键字
---
## 📚 目录

1. [DML概述与核心概念](#1-DML概述与核心概念)
2. [数据查询操作](#2-数据查询操作)
3. [数据插入操作](#3-数据插入操作)
4. [数据更新操作](#4-数据更新操作)
5. [数据删除操作](#5-数据删除操作)
6. [高级数据操作](#6-高级数据操作)
7. [操作修饰符详解](#7-操作修饰符详解)
8. [核心要点总结](#8-核心要点总结)

---

## 1. 💾 DML概述与核心概念


### 1.1 什么是DML


**🔸 基本定义**
```
DML（Data Manipulation Language）：数据操作语言
作用：专门用来操作数据库中的数据
目标：实现对表中数据的增删改查操作
特点：直接影响表中的实际数据内容
```

**💡 DML的核心思想**
DML就像是操作Excel表格的工具，只不过是在数据库中进行：
- **查看数据**：就像打开Excel查看内容
- **添加数据**：就像在Excel中新增一行
- **修改数据**：就像编辑Excel中的某个单元格
- **删除数据**：就像删除Excel中的某一行

### 1.2 DML在SQL中的地位


**🏗️ SQL语言分类**
```
┌─────────────────────────────┐
│         SQL 语言            │
├─────────────────────────────┤
│  DDL (数据定义语言)          │ ← CREATE TABLE、ALTER等
├─────────────────────────────┤
│  DML (数据操作语言) ★        │ ← SELECT、INSERT、UPDATE等
├─────────────────────────────┤
│  DCL (数据控制语言)          │ ← GRANT、REVOKE等
├─────────────────────────────┤
│  TCL (事务控制语言)          │ ← COMMIT、ROLLBACK等
└─────────────────────────────┘

重点：DML是日常开发中使用最频繁的SQL语言部分
```

### 1.3 DML的四大基本操作


**📋 CRUD操作对应关系**
| 操作类型 | **英文名称** | **DML关键字** | **生活类比** |
|---------|-------------|-------------|-------------|
| 🔍 **查询** | `Read` | `SELECT` | `翻阅书籍找信息` |
| ➕ **插入** | `Create` | `INSERT` | `在笔记本写新内容` |
| ✏️ **更新** | `Update` | `UPDATE` | `用橡皮擦改错字` |
| 🗑️ **删除** | `Delete` | `DELETE` | `撕掉不要的纸张` |

---

## 2. 🔍 数据查询操作


### 2.1 SELECT - 查询数据的核心


**🔸 基本概念**
```
SELECT：选择、查询的意思
作用：从数据库表中获取数据
特点：不会改变原始数据，只是读取显示
用途：这是使用频率最高的SQL语句
```

**💡 SELECT的工作原理**
SELECT就像是一个"数据过滤器"：
1. **指定要看什么**：选择哪些列（字段）
2. **指定从哪里看**：从哪个表查询
3. **指定看什么条件的**：满足什么条件的数据

**🔧 基本语法结构**
```sql
-- 最基本的查询语法
SELECT 列名1, 列名2 FROM 表名;

-- 实际示例
SELECT name, age FROM students;
-- 含义：从students表中查询name和age这两列的数据
```

### 2.2 FROM - 数据来源指定


**🔸 基本概念**
```
FROM：来自、从...的意思
作用：指定数据的来源表
位置：必须紧跟在SELECT后面
特点：告诉数据库去哪张表找数据
```

**💡 FROM的作用类比**
FROM就像是告诉别人"去哪个房间找东西"：
- `SELECT name FROM students` = "从学生花名册中找姓名"
- `SELECT * FROM products` = "从商品清单中找所有信息"

**🔧 常见用法**
```sql
-- 单表查询
SELECT * FROM users;

-- 多表查询（后续会详细讲解）
SELECT u.name, p.title 
FROM users u, posts p 
WHERE u.id = p.user_id;
```

### 2.3 WHERE - 条件筛选


**🔸 基本概念**
```
WHERE：在哪里、什么条件下
作用：设置查询条件，过滤数据
特点：只返回满足条件的数据行
位置：在FROM子句之后
```

**💡 WHERE的筛选机制**
WHERE就像是一个"筛子"：
- 把所有数据倒进去
- 只有符合条件的数据能"漏"下来
- 不符合的数据被"挡"住了

**🔧 常用条件类型**
```sql
-- 数值比较
SELECT * FROM students WHERE age > 18;

-- 文本匹配  
SELECT * FROM users WHERE name = '张三';

-- 范围查询
SELECT * FROM products WHERE price BETWEEN 100 AND 500;

-- 模糊查询
SELECT * FROM students WHERE name LIKE '张%';
```

---

## 3. ➕ 数据插入操作


### 3.1 INSERT - 插入新数据


**🔸 基本概念**
```
INSERT：插入、添加的意思
作用：向数据库表中添加新的数据行
特点：每执行一次就增加数据
结果：表中的数据总数会增加
```

**💡 INSERT的工作过程**
INSERT就像往表格里"加新行"：
1. **准备数据**：确定要添加什么信息
2. **指定位置**：确定添加到哪张表
3. **执行插入**：数据库自动分配新行
4. **保存数据**：新数据永久存储

### 3.2 INTO - 插入目标指定


**🔸 基本概念**
```
INTO：到...里面、进入
作用：指定数据插入的目标表
用法：与INSERT配合使用
含义：INSERT INTO = "插入到某表中"
```

**🔧 基本语法**
```sql
-- 完整语法
INSERT INTO 表名 (列1, 列2, 列3) VALUES (值1, 值2, 值3);

-- 实际示例
INSERT INTO students (name, age, grade) VALUES ('李四', 20, '大二');
-- 含义：向students表中插入一条新学生记录
```

### 3.3 VALUES - 具体数值指定


**🔸 基本概念**
```
VALUES：值、数值的意思
作用：指定要插入的具体数据
特点：与列名一一对应
格式：用括号包围，逗号分隔
```

**💡 VALUES的对应关系**
```sql
INSERT INTO students (name,    age,  grade) 
            VALUES  ('张三',   18,   '大一');
            
对应关系：
name ← '张三'
age  ← 18  
grade ← '大一'
```

### 3.4 SET - 设置字段值


**🔸 基本概念**
```
SET：设置、赋值的意思
作用：以"字段=值"的方式指定数据
用法：INSERT的另一种语法形式
优点：更直观地看出字段和值的对应关系
```

**🔧 SET语法示例**
```sql
-- 使用SET的INSERT语法
INSERT INTO students SET name='王五', age=19, grade='大一';

-- 等价于VALUES语法
INSERT INTO students (name, age, grade) VALUES ('王五', 19, '大一');
```

---

## 4. ✏️ 数据更新操作


### 4.1 UPDATE - 更新现有数据


**🔸 基本概念**
```
UPDATE：更新、修改的意思
作用：修改表中已存在的数据
特点：不增加新行，只改变现有数据
危险性：如果没有WHERE条件会修改所有行
```

**💡 UPDATE的工作机制**
UPDATE就像用"查找替换"功能：
1. **找到目标**：根据条件找到要改的数据
2. **执行修改**：把旧值换成新值
3. **保存更改**：修改结果永久保存

**⚠️ 安全提醒**
```sql
-- 危险操作：会把所有学生年龄都改为20
UPDATE students SET age = 20;

-- 安全操作：只修改特定学生
UPDATE students SET age = 20 WHERE name = '张三';
```

### 4.2 UPDATE中的SET子句


**🔸 SET在UPDATE中的作用**
```
作用：指定要修改的字段和新值
格式：字段名 = 新值
特点：可以同时修改多个字段
```

**🔧 实用示例**
```sql
-- 修改单个字段
UPDATE students SET grade = '大二' WHERE name = '张三';

-- 修改多个字段
UPDATE students 
SET age = 19, grade = '大二', class = '计算机1班' 
WHERE name = '张三';
```

---

## 5. 🗑️ 数据删除操作


### 5.1 DELETE - 删除数据


**🔸 基本概念**
```
DELETE：删除、移除的意思
作用：从表中删除数据行
特点：彻底删除，无法直接恢复
影响：表中数据总数减少
```

**💡 DELETE的工作过程**
DELETE就像从通讯录中"删除联系人"：
1. **定位目标**：找到要删除的数据行
2. **执行删除**：从表中移除这些行
3. **释放空间**：数据库回收存储空间

**⚠️ 重要警告**
```sql
-- 极危险：删除表中所有数据
DELETE FROM students;

-- 安全做法：删除特定条件的数据
DELETE FROM students WHERE age < 18;
```

### 5.2 DELETE与WHERE的配合


**🔧 精确删除示例**
```sql
-- 删除特定学生
DELETE FROM students WHERE name = '张三';

-- 删除符合条件的多条记录
DELETE FROM students WHERE grade = '毕业' AND age > 25;

-- 删除前先查看要删除的数据
SELECT * FROM students WHERE grade = '毕业';  -- 先看看
DELETE FROM students WHERE grade = '毕业';    -- 再删除
```

---

## 6. 🔧 高级数据操作


### 6.1 REPLACE - 替换插入


**🔸 基本概念**
```
REPLACE：替换的意思
作用：智能插入数据，如果主键冲突则替换
特点：INSERT + UPDATE 的组合操作
逻辑：有则更新，无则插入
```

**💡 REPLACE的工作逻辑**
```
执行REPLACE时的判断流程：

数据是否已存在？
├─ 不存在 → 执行INSERT插入新数据
└─ 已存在 → 先DELETE旧数据，再INSERT新数据
```

**🔧 实际应用场景**
```sql
-- 学生信息更新：如果学号存在就更新，不存在就添加
REPLACE INTO students (student_id, name, age) 
VALUES (1001, '张三', 20);

-- 第一次执行：插入新学生
-- 再次执行相同语句：更新该学生信息
```

### 6.2 LOAD - 批量加载数据


**🔸 基本概念**
```
LOAD：加载、装载的意思
作用：从外部文件批量导入数据
用途：数据迁移、批量导入
优点：比逐条INSERT快很多
```

**💡 LOAD的典型场景**
想象你要把Excel表格中的1万条数据导入数据库：
- 方法1：写1万条INSERT语句 ❌ 太慢
- 方法2：用LOAD批量导入 ✅ 快速

**🔧 常见语法**
```sql
-- 从CSV文件加载数据
LOAD DATA INFILE 'students.csv'
INTO TABLE students
FIELDS TERMINATED BY ','
LINES TERMINATED BY '\n';
```

---

## 7. ⚙️ 操作修饰符详解


### 7.1 优先级控制修饰符


**🔸 LOW_PRIORITY - 低优先级**
```
含义：让当前操作等待其他操作完成
作用：避免阻塞其他重要操作
适用：INSERT、UPDATE、DELETE
场景：数据导入、批量更新等不紧急操作
```

**🔸 HIGH_PRIORITY - 高优先级**
```
含义：让当前操作优先执行
作用：插队执行重要操作
适用：SELECT查询
注意：可能会让其他操作等待
```

**💡 优先级的实际意义**
```
数据库操作队列示意：

正常情况：
[操作1] → [操作2] → [操作3] → [操作4]

使用HIGH_PRIORITY：
[操作1] → [HIGH优先操作] → [操作2] → [操作3] → [操作4]
```

### 7.2 错误处理修饰符


**🔸 IGNORE - 忽略错误**
```
含义：遇到错误时跳过，继续执行
作用：避免因个别错误导致整个操作失败
适用：INSERT、UPDATE、DELETE
场景：批量操作中允许部分失败
```

**🔧 IGNORE的实际应用**
```sql
-- 批量插入，重复数据自动跳过
INSERT IGNORE INTO students (student_id, name) VALUES 
(1001, '张三'),
(1002, '李四'),  
(1001, '王五');  -- 这行会被跳过，因为学号1001重复

-- 结果：只插入了张三和李四，王五被忽略
```

### 7.3 特殊操作修饰符


**🔸 DELAYED - 延迟操作**
```
含义：操作放入队列稍后执行
作用：不阻塞当前连接，立即返回
适用：INSERT操作
场景：日志记录、数据统计等
```

**🔸 QUICK - 快速操作**
```
含义：使用更快但可能不安全的方式
作用：提高DELETE操作速度
风险：可能影响数据完整性
场景：确定安全的情况下使用
```

### 7.4 重复处理修饰符


**🔸 ON DUPLICATE KEY - 重复键处理**
```
含义：当主键或唯一键冲突时的处理方式
作用：避免插入失败，改为更新操作
优点：一条语句实现"有则更新，无则插入"
```

**🔧 实际应用示例**
```sql
-- 智能插入/更新学生信息
INSERT INTO students (student_id, name, age) 
VALUES (1001, '张三', 20)
ON DUPLICATE KEY UPDATE 
    name = VALUES(name),
    age = VALUES(age);

-- 逻辑：
-- 如果学号1001不存在 → 插入新记录
-- 如果学号1001已存在 → 更新姓名和年龄
```

---

## 8. 📋 核心要点总结


### 8.1 必须掌握的基本概念


```
🔸 DML本质：专门操作数据的SQL语言
🔸 四大操作：SELECT查询、INSERT插入、UPDATE更新、DELETE删除
🔸 基本结构：关键字 + 目标表 + 条件/数据
🔸 安全原则：操作前先查询，确认后再执行
🔸 WHERE重要性：几乎所有DML操作都需要条件限制
```

### 8.2 关键理解要点


**🔹 SELECT - 数据查询核心**
```
记忆要点：
- SELECT：选择要看的列
- FROM：指定数据来源表  
- WHERE：设置筛选条件
- 顺序：SELECT → FROM → WHERE
```

**🔹 INSERT - 数据插入方式**
```
两种语法：
- VALUES方式：INSERT INTO 表名 (列...) VALUES (值...)
- SET方式：INSERT INTO 表名 SET 列1=值1, 列2=值2
- 选择原则：少量字段用SET，多字段用VALUES
```

**🔹 UPDATE/DELETE - 修改删除安全**
```
安全原则：
1. 必须使用WHERE条件（除非确定要操作所有行）
2. 操作前先用SELECT验证条件
3. 重要数据操作前先备份
4. 使用事务确保可以回滚
```

### 8.3 实际应用指导


**📊 操作频率与重要性**
| 操作类型 | **使用频率** | **重要程度** | **风险级别** | **学习重点** |
|---------|-------------|-------------|-------------|-------------|
| `SELECT` | `极高★★★` | `★★★` | `无风险` | `掌握各种查询语法` |
| `INSERT` | `高★★` | `★★★` | `低风险` | `掌握两种插入语法` |
| `UPDATE` | `中★` | `★★★` | `高风险` | `重点练习WHERE条件` |
| `DELETE` | `低` | `★★` | `极高风险` | `谨慎使用，做好备份` |

**🎯 学习路径建议**
```
第1阶段：掌握基本CRUD
├─ 熟练使用SELECT查询数据
├─ 掌握INSERT插入数据  
├─ 学会UPDATE修改数据
└─ 谨慎使用DELETE删除数据

第2阶段：掌握条件和修饰符
├─ 熟练使用WHERE条件
├─ 了解各种操作修饰符
├─ 掌握REPLACE替换插入
└─ 学习批量操作技巧

第3阶段：综合应用
├─ 复杂条件查询
├─ 批量数据处理
├─ 事务中的DML操作
└─ 性能优化技巧
```

**💡 实践建议**
- **多练习SELECT**：这是最常用也是最安全的操作
- **小心UPDATE/DELETE**：始终使用WHERE条件
- **善用REPLACE**：处理"有则更新，无则插入"的场景
- **关注性能**：大批量操作时考虑使用LOAD或批量操作

**核心记忆口诀**：
```
DML操作要记牢，增删改查是基础
SELECT查询最常用，FROM WHERE要配好
INSERT添加新数据，INTO VALUES不能少  
UPDATE修改要小心，WHERE条件是关键
DELETE删除风险高，三思而后再执行
```