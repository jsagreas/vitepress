---
title: 41ã€DDLæ“ä½œç‰ˆæœ¬ç®¡ç†
---
## ðŸ“š ç›®å½•

1. [æ•°æ®åº“ç‰ˆæœ¬æŽ§åˆ¶åŸºç¡€](#1-æ•°æ®åº“ç‰ˆæœ¬æŽ§åˆ¶åŸºç¡€)
2. [Schemaå˜æ›´ç®¡ç†ç­–ç•¥](#2-Schemaå˜æ›´ç®¡ç†ç­–ç•¥)
3. [ç‰ˆæœ¬å‘å¸ƒä¸Žå›žæ»šç®¡ç†](#3-ç‰ˆæœ¬å‘å¸ƒä¸Žå›žæ»šç®¡ç†)
4. [å›¢é˜Ÿåä½œä¸Žå†²çªè§£å†³](#4-å›¢é˜Ÿåä½œä¸Žå†²çªè§£å†³)
5. [ç‰ˆæœ¬æŽ§åˆ¶å·¥å…·ä¸Žè‡ªåŠ¨åŒ–](#5-ç‰ˆæœ¬æŽ§åˆ¶å·¥å…·ä¸Žè‡ªåŠ¨åŒ–)
6. [æœ€ä½³å®žè·µä¸Žæ¡ˆä¾‹åˆ†æž](#6-æœ€ä½³å®žè·µä¸Žæ¡ˆä¾‹åˆ†æž)
7. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#7-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ðŸ—‚ï¸ æ•°æ®åº“ç‰ˆæœ¬æŽ§åˆ¶åŸºç¡€


### 1.1 ä»€ä¹ˆæ˜¯æ•°æ®åº“ç‰ˆæœ¬æŽ§åˆ¶


ðŸ’­ **å…ˆæƒ³æƒ³è¿™ä¸ªé—®é¢˜**ï¼šä¸ºä»€ä¹ˆä»£ç æœ‰Gitç®¡ç†ï¼Œæ•°æ®åº“ç»“æž„ä¹Ÿéœ€è¦ç‰ˆæœ¬æŽ§åˆ¶ï¼Ÿ

**ðŸ·ï¸ æ•°æ®åº“ç‰ˆæœ¬æŽ§åˆ¶** = å¯¹æ•°æ®åº“ç»“æž„å˜æ›´è¿›è¡Œç³»ç»ŸåŒ–ç®¡ç†çš„æ–¹æ³•ï¼Œå°±åƒGitç®¡ç†ä»£ç ä¸€æ ·ç®¡ç†Schemaå˜æ›´ã€‚

```
æƒ³è±¡ä¸€ä¸‹è¿™ä¸ªåœºæ™¯ï¼š
å¼€å‘çŽ¯å¢ƒï¼šæ·»åŠ äº†æ–°å­—æ®µ user_avatar
æµ‹è¯•çŽ¯å¢ƒï¼šå­—æ®µåå« avatar_url  
ç”Ÿäº§çŽ¯å¢ƒï¼šè¿˜æ˜¯æ—§ç»“æž„

æ²¡æœ‰ç‰ˆæœ¬æŽ§åˆ¶ = ä¸€å›¢ç³Ÿï¼
æœ‰ç‰ˆæœ¬æŽ§åˆ¶ = äº•äº•æœ‰æ¡ï¼
```

### 1.2 ä¸ºä»€ä¹ˆéœ€è¦ç‰ˆæœ¬æŽ§åˆ¶


**ðŸ¤” ä¸ºä»€ä¹ˆè¿™æ ·**ï¼š

```
ä¼ ç»Ÿæ–¹å¼çš„é—®é¢˜ï¼š
ðŸ‘¤ å¼€å‘Aï¼šç›´æŽ¥åœ¨æ•°æ®åº“æ‰§è¡Œ ALTER TABLE
ðŸ‘¤ å¼€å‘Bï¼šä¸çŸ¥é“Açš„æ”¹åŠ¨ï¼Œä»£ç æŠ¥é”™
ðŸ‘¤ è¿ç»´ï¼šä¸æ•¢éƒ¨ç½²ï¼Œæ€•æ•°æ®åº“å‡ºé—®é¢˜
ðŸ‘¤ æµ‹è¯•ï¼šçŽ¯å¢ƒä¸ä¸€è‡´ï¼Œbugæ‰¾ä¸åˆ°åŽŸå› 

ç‰ˆæœ¬æŽ§åˆ¶çš„å¥½å¤„ï¼š
âœ… å˜æ›´å¯è¿½è¸ªï¼šçŸ¥é“è°æ”¹äº†ä»€ä¹ˆ
âœ… çŽ¯å¢ƒä¸€è‡´æ€§ï¼šå¼€å‘/æµ‹è¯•/ç”Ÿäº§ç»“æž„åŒæ­¥
âœ… å®‰å…¨å›žæ»šï¼šå‡ºé—®é¢˜èƒ½å¿«é€Ÿæ¢å¤
âœ… å›¢é˜Ÿåä½œï¼šå¤šäººä¿®æ”¹ä¸å†²çª
```

### 1.3 ç‰ˆæœ¬æŽ§åˆ¶çš„æ ¸å¿ƒæ¦‚å¿µ


**ðŸ“‹ çŸ¥è¯†æ¸…å•**ï¼š

ðŸ”¹ **Migrationï¼ˆè¿ç§»ï¼‰**ï¼šä¸€æ¬¡æ•°æ®åº“ç»“æž„å˜æ›´
ðŸ”¹ **Versionï¼ˆç‰ˆæœ¬ï¼‰**ï¼šæ•°æ®åº“å½“å‰çŠ¶æ€çš„æ ‡è¯†
ðŸ”¹ **Rollbackï¼ˆå›žæ»šï¼‰**ï¼šæ’¤é”€æŸæ¬¡å˜æ›´
ðŸ”¹ **Schemaï¼ˆæ¨¡å¼ï¼‰**ï¼šæ•°æ®åº“çš„ç»“æž„å®šä¹‰

**ðŸŒ° ä¸¾ä¸ªä¾‹å­**ï¼š
```sql
-- Migration V1.0.1: åˆ›å»ºç”¨æˆ·è¡¨
CREATE TABLE users (
    id INT AUTO_INCREMENT PRIMARY KEY,
    username VARCHAR(50) NOT NULL
);

-- Migration V1.0.2: æ·»åŠ é‚®ç®±å­—æ®µ
ALTER TABLE users ADD COLUMN email VARCHAR(100);

-- Migration V1.0.3: æ·»åŠ ç´¢å¼•
CREATE INDEX idx_username ON users(username);
```

---

## 2. ðŸ“Š Schemaå˜æ›´ç®¡ç†ç­–ç•¥


### 2.1 å˜æ›´åˆ†ç±»ä¸Žç®¡ç†


**ðŸ—ï¸ å˜æ›´ç±»åž‹åˆ†ç±»**ï¼š

```
ä½Žé£Žé™©å˜æ›´ï¼ˆç»¿ç¯ï¼‰ï¼š
âœ… æ·»åŠ æ–°å­—æ®µï¼ˆå…è®¸NULLï¼‰
âœ… æ·»åŠ æ–°è¡¨  
âœ… æ·»åŠ ç´¢å¼•
âœ… æ·»åŠ æ³¨é‡Š

ä¸­é£Žé™©å˜æ›´ï¼ˆé»„ç¯ï¼‰ï¼š
âš ï¸ ä¿®æ”¹å­—æ®µç±»åž‹ï¼ˆå…¼å®¹æ‰©å±•ï¼‰
âš ï¸ é‡å‘½åå­—æ®µ
âš ï¸ åˆ é™¤ç´¢å¼•

é«˜é£Žé™©å˜æ›´ï¼ˆçº¢ç¯ï¼‰ï¼š
ðŸš¨ åˆ é™¤å­—æ®µ
ðŸš¨ åˆ é™¤è¡¨
ðŸš¨ ä¿®æ”¹å­—æ®µç±»åž‹ï¼ˆä¸å…¼å®¹ï¼‰
ðŸš¨ åˆ é™¤çº¦æŸ
```

### 2.2 å‘å‰å…¼å®¹åŽŸåˆ™


**ðŸ’¡ æ ¸å¿ƒæ€æƒ³**ï¼šæ–°ç‰ˆæœ¬çš„Schemaè¦èƒ½å…¼å®¹æ—§ç‰ˆæœ¬çš„ä»£ç 

**ðŸ”„ æ¢å¥è¯è¯´**ï¼šå‡çº§æ•°æ®åº“åŽï¼Œæ—§ä»£ç è¿˜èƒ½æ­£å¸¸è¿è¡Œã€‚

```sql
-- âŒ é”™è¯¯åšæ³•ï¼šç›´æŽ¥åˆ é™¤å­—æ®µ
ALTER TABLE users DROP COLUMN old_field;

-- âœ… æ­£ç¡®åšæ³•ï¼šåˆ†æ­¥éª¤åºŸå¼ƒ
-- æ­¥éª¤1ï¼šæ ‡è®°åºŸå¼ƒï¼Œæ·»åŠ æ–°å­—æ®µ
ALTER TABLE users ADD COLUMN new_field VARCHAR(100);

-- æ­¥éª¤2ï¼šä»£ç é€æ­¥è¿ç§»åˆ°æ–°å­—æ®µ
-- ï¼ˆåº”ç”¨ä»£ç æ›´æ–°æœŸï¼‰

-- æ­¥éª¤3ï¼šç¡®è®¤æ— æ—§ä»£ç ä½¿ç”¨åŽå†åˆ é™¤
ALTER TABLE users DROP COLUMN old_field;
```

### 2.3 å˜æ›´å‘½åè§„èŒƒ


**ðŸ“ æ–‡ä»¶å‘½åè§„èŒƒ**ï¼š
```
æ ¼å¼ï¼šV{ç‰ˆæœ¬å·}__{æè¿°}.sql

ç¤ºä¾‹ï¼š
V001__create_users_table.sql
V002__add_email_to_users.sql  
V003__create_orders_table.sql
V004__add_index_on_username.sql
```

**ðŸ”‘ å…³é”®è¯æå–**ï¼šç‰ˆæœ¬å· + åŒä¸‹åˆ’çº¿ + è‹±æ–‡æè¿°

### 2.4 å˜æ›´å†…å®¹æ ‡å‡†


**ðŸ“š æ¯ä¸ªè¿ç§»æ–‡ä»¶åº”åŒ…å«**ï¼š

```sql
-- ==========================================
-- Migration: V005__add_user_profile_table.sql
-- Author: zhangsan
-- Date: 2024-03-15
-- Description: æ·»åŠ ç”¨æˆ·è¯¦ç»†ä¿¡æ¯è¡¨
-- Jira: PROJ-123
-- ==========================================

-- å‰ç½®æ£€æŸ¥
-- æ£€æŸ¥è¡¨æ˜¯å¦å·²å­˜åœ¨
SELECT COUNT(*) FROM information_schema.tables 
WHERE table_name = 'user_profiles';

-- æ­£å‘å˜æ›´
CREATE TABLE user_profiles (
    id BIGINT AUTO_INCREMENT PRIMARY KEY,
    user_id BIGINT NOT NULL,
    avatar_url VARCHAR(500),
    bio TEXT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    INDEX idx_user_id (user_id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

-- åå‘å˜æ›´ï¼ˆå›žæ»šç”¨ï¼‰
-- DROP TABLE user_profiles;
```

---

## 3. ðŸš€ ç‰ˆæœ¬å‘å¸ƒä¸Žå›žæ»šç®¡ç†


### 3.1 å‘å¸ƒç­–ç•¥è®¾è®¡


**ðŸŽ¯ å‘å¸ƒæµç¨‹**ï¼š

```
å¼€å‘çŽ¯å¢ƒ â†’ æµ‹è¯•çŽ¯å¢ƒ â†’ é¢„å‘å¸ƒçŽ¯å¢ƒ â†’ ç”Ÿäº§çŽ¯å¢ƒ
    â†“          â†“           â†“            â†“
   è‡ªç”±æµ‹è¯•   â†’ åŠŸèƒ½æµ‹è¯•   â†’ çœŸå®žæ•°æ®æµ‹è¯• â†’ æ­£å¼å‘å¸ƒ
```

**â­ é‡ç‚¹æ ‡è®°**ï¼šæ¯ä¸ªçŽ¯å¢ƒéƒ½è¦æ‰§è¡Œ**ç›¸åŒçš„è¿ç§»è„šæœ¬**

### 3.2 ç°åº¦å‘å¸ƒæœºåˆ¶


**ðŸ” æ·±å…¥ç†è§£**ï¼šä¸æ˜¯ä¸€æ¬¡æ€§å…¨é‡å‘å¸ƒï¼Œè€Œæ˜¯é€æ­¥æ›¿æ¢

```
ç¬¬ä¸€é˜¶æ®µï¼šåŒå†™ç­–ç•¥
æ–°æ—§å­—æ®µåŒæ—¶å†™å…¥ï¼Œè¯»å–ä»ç”¨æ—§å­—æ®µ

ç¬¬äºŒé˜¶æ®µï¼šåˆ‡æ¢è¯»å–
å¼€å§‹ä»Žæ–°å­—æ®µè¯»å–æ•°æ®

ç¬¬ä¸‰é˜¶æ®µï¼šæ¸…ç†æ—§æ•°æ®
ç¡®è®¤æ— é—®é¢˜åŽåˆ é™¤æ—§å­—æ®µ
```

**ðŸŒ° ä¸¾ä¸ªä¾‹å­**ï¼š
```sql
-- åŽŸæ¥çš„å­—æ®µï¼šuser_name
-- æ–°çš„å­—æ®µï¼šusername

-- ç¬¬ä¸€é˜¶æ®µï¼šæ·»åŠ æ–°å­—æ®µ
ALTER TABLE users ADD COLUMN username VARCHAR(50);

-- åº”ç”¨ä»£ç ï¼šåŒæ—¶å†™å…¥ä¸¤ä¸ªå­—æ®µ
INSERT INTO users (user_name, username) VALUES ('å¼ ä¸‰', 'å¼ ä¸‰');

-- ç¬¬äºŒé˜¶æ®µï¼šåˆ‡æ¢è¯»å–
SELECT username FROM users WHERE id = 1;

-- ç¬¬ä¸‰é˜¶æ®µï¼šåˆ é™¤æ—§å­—æ®µ  
ALTER TABLE users DROP COLUMN user_name;
```

### 3.3 å›žæ»šç­–ç•¥


**ðŸ”§ å›žæ»šçš„åŸºæœ¬åŽŸåˆ™**ï¼š

| åœºæ™¯ | å›žæ»šç­–ç•¥ | é£Žé™©ç­‰çº§ |
|------|----------|----------|
| **æ·»åŠ å­—æ®µ** | `ALTER TABLE DROP COLUMN` | â­ ä½Žé£Žé™© |
| **æ·»åŠ è¡¨** | `DROP TABLE` | â­ ä½Žé£Žé™© |
| **åˆ é™¤å­—æ®µ** | âŒ æ— æ³•å›žæ»š | ðŸš¨ é«˜é£Žé™© |
| **ä¿®æ”¹å­—æ®µç±»åž‹** | éƒ¨åˆ†å¯å›žæ»š | âš ï¸ ä¸­é£Žé™© |

**ðŸš¨ é‡è¦æé†’**ï¼šåˆ é™¤æ“ä½œé€šå¸¸æ— æ³•å®‰å…¨å›žæ»šï¼Œéœ€è¦ç‰¹åˆ«è°¨æ…Žï¼

**ðŸ’¥ å®¹æ˜“å‡ºé”™**ï¼šä»¥ä¸ºæ‰€æœ‰DDLéƒ½èƒ½å›žæ»šï¼Œå®žé™…ä¸Šæ•°æ®åˆ é™¤ä¸å¯é€†ã€‚

---

## 4. ðŸ¤ å›¢é˜Ÿåä½œä¸Žå†²çªè§£å†³


### 4.1 åˆ†æ”¯ç®¡ç†ç­–ç•¥


**ðŸ—ï¸ åˆ†æ”¯æž¶æž„**ï¼š
```
masteråˆ†æ”¯ï¼š      ç”Ÿäº§çŽ¯å¢ƒçš„ç¨³å®šç‰ˆæœ¬
  â†‘
developåˆ†æ”¯ï¼š     é›†æˆæµ‹è¯•çš„å¼€å‘ç‰ˆæœ¬  
  â†‘
featureåˆ†æ”¯ï¼š     å„åŠŸèƒ½çš„ç‹¬ç«‹å¼€å‘
```

### 4.2 å†²çªç±»åž‹ä¸Žè§£å†³


**ðŸ“Š å¸¸è§å†²çªåœºæ™¯**ï¼š

**ðŸ”¸ ç‰ˆæœ¬å·å†²çª**ï¼š
```
å¼€å‘Aï¼šåˆ›å»ºäº† V005__add_user_table.sql
å¼€å‘Bï¼šåŒæ—¶åˆ›å»ºäº† V005__add_order_table.sql

è§£å†³æ–¹æ¡ˆï¼š
- é‡æ–°åˆ†é…ç‰ˆæœ¬å·
- ä½¿ç”¨æ—¶é—´æˆ³ç‰ˆæœ¬å·ï¼šV20240315001__xxx.sql
```

**ðŸ”¸ å­—æ®µå†²çª**ï¼š
```
å¼€å‘Aï¼šæ·»åŠ å­—æ®µ user_status INT
å¼€å‘Bï¼šæ·»åŠ å­—æ®µ user_status VARCHAR(20)

è§£å†³æ–¹æ¡ˆï¼š
- å›¢é˜Ÿè®¨è®ºç»Ÿä¸€å­—æ®µå®šä¹‰
- é‡æ–°è®¾è®¡å­—æ®µåç§°
```

### 4.3 å›¢é˜Ÿåä½œè§„èŒƒ


**âœ… åä½œæ¸…å•**ï¼š

```
æäº¤å‰æ£€æŸ¥ï¼š
â–¡ ç‰ˆæœ¬å·æ˜¯å¦å”¯ä¸€
â–¡ æ˜¯å¦åŒ…å«å›žæ»šè„šæœ¬  
â–¡ æ˜¯å¦ç»è¿‡æœ¬åœ°æµ‹è¯•
â–¡ æ˜¯å¦æ›´æ–°äº†æ–‡æ¡£

Code Reviewè¦ç‚¹ï¼š
â–¡ DDLè¯­å¥æ˜¯å¦å®‰å…¨
â–¡ ç´¢å¼•è®¾è®¡æ˜¯å¦åˆç†
â–¡ æ˜¯å¦è€ƒè™‘äº†æ€§èƒ½å½±å“
â–¡ å‘½åæ˜¯å¦ç¬¦åˆè§„èŒƒ
```

---

## 5. ðŸ› ï¸ ç‰ˆæœ¬æŽ§åˆ¶å·¥å…·ä¸Žè‡ªåŠ¨åŒ–


### 5.1 ä¸»æµå·¥å…·å¯¹æ¯”


| å·¥å…· | **é€‚ç”¨åœºæ™¯** | **ä¼˜åŠ¿** | **åŠ£åŠ¿** |
|------|-------------|----------|----------|
| **Flyway** | `Javaç”Ÿæ€` | ç®€å•æ˜“ç”¨ï¼Œç¤¾åŒºæ´»è·ƒ | åŠŸèƒ½ç›¸å¯¹åŸºç¡€ |
| **Liquibase** | `ä¼ä¸šçº§é¡¹ç›®` | åŠŸèƒ½å¼ºå¤§ï¼Œæ”¯æŒå¤šæ ¼å¼ | å­¦ä¹ æˆæœ¬é«˜ |
| **Alembic** | `Pythoné¡¹ç›®` | ä¸ŽSQLAlchemyé›†æˆå¥½ | ä»…æ”¯æŒPython |
| **Laravel Migration** | `PHPé¡¹ç›®` | æ¡†æž¶é›†æˆï¼Œå¼€å‘æ•ˆçŽ‡é«˜ | ç»‘å®šLaravel |

### 5.2 Flywayå®žè·µç¤ºä¾‹


**ðŸ”¢ æ­¥éª¤åˆ†è§£**ï¼š

**æ­¥éª¤1ï¼šåˆå§‹åŒ–é¡¹ç›®**
```bash
# å®‰è£…Flyway
curl -L https://flywaydb.org/download/community | tar xvz

# é…ç½®æ•°æ®åº“è¿žæŽ¥
cat > flyway.conf << EOF
flyway.url=jdbc:mysql://localhost:3306/mydb
flyway.user=root
flyway.password=123456
EOF
```

**æ­¥éª¤2ï¼šåˆ›å»ºè¿ç§»æ–‡ä»¶**
```sql
-- sql/V001__create_users_table.sql
CREATE TABLE users (
    id BIGINT AUTO_INCREMENT PRIMARY KEY,
    username VARCHAR(50) NOT NULL UNIQUE,
    email VARCHAR(100),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;
```

**æ­¥éª¤3ï¼šæ‰§è¡Œè¿ç§»**
```bash
# æŸ¥çœ‹å½“å‰çŠ¶æ€
./flyway info

# æ‰§è¡Œè¿ç§»
./flyway migrate

# æŸ¥çœ‹åŽ†å²
./flyway info
```

### 5.3 CI/CDé›†æˆ


**ðŸ”— è‡ªåŠ¨åŒ–æµç¨‹**ï¼š

```yaml
# .github/workflows/db-migration.yml
name: Database Migration

on:
  push:
    branches: [main]
    paths: ['sql/**']

jobs:
  migrate:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      
      - name: Run Flyway Migration
        run: |
          ./flyway -configFiles=flyway.conf migrate
          
      - name: Validate Migration
        run: |
          ./flyway -configFiles=flyway.conf validate
```

---

## 6. ðŸ† æœ€ä½³å®žè·µä¸Žæ¡ˆä¾‹åˆ†æž


### 6.1 ç‰ˆæœ¬ç®¡ç†æœ€ä½³å®žè·µ


**ðŸŽ¯ æœ€ä½³å®žè·µæ¸…å•**ï¼š

**ðŸ“š å‰ç½®è§„åˆ’**ï¼š
- âœ… åˆ¶å®šæ˜Žç¡®çš„å‘½åè§„èŒƒ
- âœ… å»ºç«‹åˆ†æ”¯ç®¡ç†ç­–ç•¥  
- âœ… è®¾è®¡å®¡æ‰¹æµç¨‹
- âœ… å‡†å¤‡åº”æ€¥é¢„æ¡ˆ

**âš¡ æ‰§è¡Œé˜¶æ®µ**ï¼š
- âœ… å°æ­¥å¿«è·‘ï¼Œé¿å…å¤§æ‰¹é‡å˜æ›´
- âœ… æµ‹è¯•çŽ¯å¢ƒå……åˆ†éªŒè¯
- âœ… ä¿æŒå‘å‰å…¼å®¹
- âœ… è¯¦ç»†è®°å½•å˜æ›´æ—¥å¿—

**ðŸ”„ è¿ç»´é˜¶æ®µ**ï¼š
- âœ… ç›‘æŽ§æ€§èƒ½å½±å“
- âœ… å®šæœŸæ¸…ç†æ— ç”¨ç‰ˆæœ¬
- âœ… å¤‡ä»½å…³é”®èŠ‚ç‚¹
- âœ… æŒç»­ä¼˜åŒ–æµç¨‹

### 6.2 å¤§åž‹é¡¹ç›®æ¡ˆä¾‹åˆ†æž


**ðŸŒ° æ¡ˆä¾‹ï¼šç”µå•†å¹³å°è®¢å•ç³»ç»Ÿé‡æž„**

**èƒŒæ™¯**ï¼šè®¢å•è¡¨æ•°æ®é‡2äº¿+ï¼Œéœ€è¦åˆ†åº“åˆ†è¡¨

**ðŸ”¢ å˜æ›´æ­¥éª¤**ï¼š

```sql
-- Phase 1: åˆ›å»ºæ–°çš„åˆ†è¡¨ç»“æž„
CREATE TABLE orders_202401 LIKE orders;
CREATE TABLE orders_202402 LIKE orders;
-- ... å…¶ä»–æœˆä»½è¡¨

-- Phase 2: åŒå†™æœŸï¼ˆæ•°æ®åŒæ­¥å†™å…¥æ–°æ—§è¡¨ï¼‰
-- åº”ç”¨å±‚å®žçŽ°åŒå†™é€»è¾‘

-- Phase 3: æ•°æ®è¿ç§»
-- åŽå°ä»»åŠ¡è¿ç§»åŽ†å²æ•°æ®

-- Phase 4: åˆ‡æ¢è¯»å–
-- åº”ç”¨å±‚åˆ‡æ¢åˆ°æ–°è¡¨è¯»å–

-- Phase 5: æ¸…ç†æ—§è¡¨
-- ç¡®è®¤ç¨³å®šåŽåˆ é™¤æ—§è¡¨
```

**ðŸ“ˆ å…³é”®æŒ‡æ ‡**ï¼š
- è¿ç§»è€—æ—¶ï¼š3ä¸ªæœˆ
- åœæœºæ—¶é—´ï¼š0ï¼ˆé›¶åœæœºè¿ç§»ï¼‰
- æ•°æ®ä¸¢å¤±ï¼š0
- æ€§èƒ½æå‡ï¼šæŸ¥è¯¢é€Ÿåº¦æå‡5å€

### 6.3 å¸¸è§é—®é¢˜ä¸Žè§£å†³æ–¹æ¡ˆ


**âŒ å¸¸è§è¯¯åŒºä¸Žè§£å†³**ï¼š

| é—®é¢˜ | **åŽŸå› ** | **è§£å†³æ–¹æ¡ˆ** |
|------|----------|-------------|
| **ç‰ˆæœ¬æ··ä¹±** | `ç¼ºä¹ç»Ÿä¸€ç®¡ç†` | å»ºç«‹ç‰ˆæœ¬æŽ§åˆ¶è§„èŒƒ |
| **å›žæ»šå¤±è´¥** | `æœªå‡†å¤‡å›žæ»šè„šæœ¬` | å¼ºåˆ¶è¦æ±‚å›žæ»šæ–¹æ¡ˆ |
| **çŽ¯å¢ƒä¸ä¸€è‡´** | `æ‰‹åŠ¨æ“ä½œå·®å¼‚` | è‡ªåŠ¨åŒ–éƒ¨ç½²æµç¨‹ |
| **æ€§èƒ½é—®é¢˜** | `æœªè¯„ä¼°å˜æ›´å½±å“` | å˜æ›´å‰æ€§èƒ½æµ‹è¯• |

---

## 7. ðŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 7.1 å¿…é¡»æŽŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ðŸ”¸ ç‰ˆæœ¬æŽ§åˆ¶ï¼šåƒç®¡ç†ä»£ç ä¸€æ ·ç®¡ç†æ•°æ®åº“ç»“æž„å˜æ›´
ðŸ”¸ å‘å‰å…¼å®¹ï¼šæ–°ç‰ˆæœ¬èƒ½å…¼å®¹æ—§ä»£ç ï¼Œé¿å…åº”ç”¨ä¸­æ–­  
ðŸ”¸ è¿ç§»ç®¡ç†ï¼šæœ‰åºçš„ã€å¯è¿½è¸ªçš„æ•°æ®åº“ç»“æž„å˜æ›´
ðŸ”¸ å›žæ»šç­–ç•¥ï¼šå‡ºçŽ°é—®é¢˜æ—¶çš„å¿«é€Ÿæ¢å¤æœºåˆ¶
ðŸ”¸ å›¢é˜Ÿåä½œï¼šå¤šäººå¼€å‘æ—¶çš„å†²çªå¤„ç†å’Œè§„èŒƒç®¡ç†
```

### 7.2 å…³é”®ç†è§£è¦ç‚¹


**ðŸ”¹ ä¸ºä»€ä¹ˆéœ€è¦ç‰ˆæœ¬æŽ§åˆ¶**
```
è§£å†³çš„æ ¸å¿ƒé—®é¢˜ï¼š
- çŽ¯å¢ƒä¸€è‡´æ€§ï¼šå¼€å‘ã€æµ‹è¯•ã€ç”Ÿäº§ä¿æŒåŒæ­¥
- å˜æ›´å¯è¿½è¸ªï¼šçŸ¥é“è°åœ¨ä»€ä¹ˆæ—¶å€™æ”¹äº†ä»€ä¹ˆ
- å›¢é˜Ÿåä½œï¼šå¤šäººåŒæ—¶å¼€å‘ä¸å†²çª
- å®‰å…¨ä¿éšœï¼šå‡ºé—®é¢˜èƒ½å¿«é€Ÿå›žæ»š
```

**ðŸ”¹ ç‰ˆæœ¬æŽ§åˆ¶çš„æ ¸å¿ƒåŽŸåˆ™**
```
å°æ­¥å¿«è·‘ï¼šæ¯æ¬¡å˜æ›´å°½é‡å°ï¼Œé™ä½Žé£Žé™©
å‘å‰å…¼å®¹ï¼šæ–°ç‰ˆæœ¬è¦å…¼å®¹æ—§ä»£ç 
å……åˆ†æµ‹è¯•ï¼šæµ‹è¯•çŽ¯å¢ƒéªŒè¯åŽå†ä¸Šç”Ÿäº§
è¯¦ç»†è®°å½•ï¼šå˜æ›´åŽŸå› ã€å½±å“èŒƒå›´éƒ½è¦è®°å½•
```

### 7.3 å®žé™…åº”ç”¨ä»·å€¼


**ðŸ¢ å·¥ä½œä¸­çš„åº”ç”¨**ï¼š
- **é¡¹ç›®å¼€å‘**ï¼šå¤šäººåä½œæ—¶ä¿æŒæ•°æ®åº“ç»“æž„åŒæ­¥
- **ç‰ˆæœ¬å‘å¸ƒ**ï¼šå®‰å…¨ã€æœ‰åºåœ°å‘å¸ƒæ•°æ®åº“å˜æ›´
- **æ•…éšœå¤„ç†**ï¼šå¿«é€Ÿå®šä½å’Œå›žæ»šé—®é¢˜å˜æ›´
- **å›¢é˜Ÿç®¡ç†**ï¼šå»ºç«‹è§„èŒƒåŒ–çš„æ•°æ®åº“å˜æ›´æµç¨‹

**ðŸ› ï¸ å·¥å…·é€‰æ‹©æŒ‡å—**ï¼š
- **å°åž‹é¡¹ç›®**ï¼šFlywayï¼Œç®€å•æ˜“ç”¨
- **ä¼ä¸šé¡¹ç›®**ï¼šLiquibaseï¼ŒåŠŸèƒ½å¼ºå¤§
- **ç‰¹å®šæ¡†æž¶**ï¼šä½¿ç”¨æ¡†æž¶è‡ªå¸¦çš„è¿ç§»å·¥å…·

**ðŸŽª è®°å¿†æŠ€å·§**ï¼š
```
ç‰ˆæœ¬æŽ§åˆ¶ä¸‰æ¿æ–§ï¼š
1. ç®¡ï¼ˆç®¡ç†å˜æ›´ï¼‰
2. æµ‹ï¼ˆæµ‹è¯•éªŒè¯ï¼‰ 
3. å›žï¼ˆå›žæ»šä¿éšœï¼‰

å›¢é˜Ÿåä½œä¸‰åŽŸåˆ™ï¼š
1. è§„èŒƒå…ˆè¡Œ
2. æ²Ÿé€šå……åˆ†
3. è‡ªåŠ¨åŒ–ä¼˜å…ˆ
```

**æ ¸å¿ƒè®°å¿†**ï¼š
- æ•°æ®åº“ç‰ˆæœ¬æŽ§åˆ¶æ˜¯çŽ°ä»£è½¯ä»¶å¼€å‘çš„å¿…å¤‡æŠ€èƒ½
- å‘å‰å…¼å®¹å’Œå°æ­¥å¿«è·‘æ˜¯æœ€é‡è¦çš„ä¸¤ä¸ªåŽŸåˆ™
- å·¥å…·åªæ˜¯æ‰‹æ®µï¼Œè§„èŒƒå’Œæµç¨‹æ‰æ˜¯å…³é”®
- å›¢é˜Ÿåä½œé‡äºŽä¸ªäººæŠ€æœ¯ï¼Œæ²Ÿé€šèƒœè¿‡å·¥å…·