---
title: 12ã€æ•°æ®è¿‡æ»¤ä¸è·¯ç”±è§„åˆ™
---
## ğŸ“š ç›®å½•

1. [æ•°æ®è¿‡æ»¤æ¦‚è¿°](#1-æ•°æ®è¿‡æ»¤æ¦‚è¿°)
2. [åº“çº§è¿‡æ»¤è§„åˆ™](#2-åº“çº§è¿‡æ»¤è§„åˆ™)
3. [è¡¨çº§è¿‡æ»¤è§„åˆ™](#3-è¡¨çº§è¿‡æ»¤è§„åˆ™)
4. [è¡Œçº§æ•°æ®è¿‡æ»¤](#4-è¡Œçº§æ•°æ®è¿‡æ»¤)
5. [åˆ—çº§æ•°æ®è¿‡æ»¤](#5-åˆ—çº§æ•°æ®è¿‡æ»¤)
6. [æ­£åˆ™è¡¨è¾¾å¼è¿‡æ»¤](#6-æ­£åˆ™è¡¨è¾¾å¼è¿‡æ»¤)
7. [è‡ªå®šä¹‰è¿‡æ»¤è„šæœ¬](#7-è‡ªå®šä¹‰è¿‡æ»¤è„šæœ¬)
8. [è·¯ç”±è§„åˆ™é…ç½®](#8-è·¯ç”±è§„åˆ™é…ç½®)
9. [æ¡ä»¶è·¯ç”±è®¾ç½®](#9-æ¡ä»¶è·¯ç”±è®¾ç½®)
10. [åŠ¨æ€è·¯ç”±è°ƒæ•´](#10-åŠ¨æ€è·¯ç”±è°ƒæ•´)
11. [è¿‡æ»¤æ€§èƒ½ä¼˜åŒ–](#11-è¿‡æ»¤æ€§èƒ½ä¼˜åŒ–)
12. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#12-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ“‹ æ•°æ®è¿‡æ»¤æ¦‚è¿°


### 1.1 ä»€ä¹ˆæ˜¯æ•°æ®è¿‡æ»¤


æ•°æ®è¿‡æ»¤å°±åƒæ˜¯ç»™æ•°æ®åŒæ­¥åŠ äº†ä¸€ä¸ª**ç­›å­**ï¼Œåªè®©ç¬¦åˆæ¡ä»¶çš„æ•°æ®é€šè¿‡ã€‚æƒ³è±¡ä¸€ä¸‹ç­›æ²™å­çš„è¿‡ç¨‹ï¼š
- å¤§é¢—ç²’çŸ³å¤´è¢«æŒ¡ä½ï¼ˆä¸éœ€è¦çš„æ•°æ®ï¼‰
- ç»†æ²™ç²’é€šè¿‡ç­›å­ï¼ˆéœ€è¦åŒæ­¥çš„æ•°æ®ï¼‰

**ğŸ”¸ è¿‡æ»¤çš„æ ¸å¿ƒç›®çš„**
```
ä¸ºä»€ä¹ˆè¦è¿‡æ»¤æ•°æ®ï¼Ÿ
â€¢ å‡å°‘ç½‘ç»œä¼ è¾“ï¼šåªä¼ è¾“å¿…è¦çš„æ•°æ®
â€¢ æé«˜åŒæ­¥æ•ˆç‡ï¼šé¿å…å¤„ç†æ— ç”¨æ•°æ®
â€¢ ä¿æŠ¤æ•æ„Ÿä¿¡æ¯ï¼šè¿‡æ»¤æ‰ä¸è¯¥åŒæ­¥çš„æ•°æ®
â€¢ èŠ‚çœå­˜å‚¨ç©ºé—´ï¼šç›®æ ‡ç«¯åªå­˜å‚¨æœ‰ç”¨æ•°æ®
```

### 1.2 è¿‡æ»¤å±‚çº§ç»“æ„


Otterçš„è¿‡æ»¤æœºåˆ¶åˆ†ä¸ºå››ä¸ªå±‚çº§ï¼Œ**ä»ç²—åˆ°ç»†**é€å±‚ç­›é€‰ï¼š

```
æ•°æ®è¿‡æ»¤å±‚çº§ç»“æ„ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            æºæ•°æ®åº“                  â”‚
â”‚                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚  db1    â”‚  â”‚  db2    â”‚           â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â” â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â” â”‚           â”‚
â”‚  â”‚ â”‚tableâ”‚ â”‚  â”‚ â”‚tableâ”‚ â”‚           â”‚
â”‚  â”‚ â”‚rows â”‚ â”‚  â”‚ â”‚rows â”‚ â”‚           â”‚
â”‚  â”‚ â”‚cols â”‚ â”‚  â”‚ â”‚cols â”‚ â”‚           â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”˜ â”‚  â”‚ â””â”€â”€â”€â”€â”€â”˜ â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“
    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ åº“çº§è¿‡æ»¤ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
           â†“
    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ è¡¨çº§è¿‡æ»¤ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
           â†“  
    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ è¡Œçº§è¿‡æ»¤ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
           â†“
    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ åˆ—çº§è¿‡æ»¤ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           ç›®æ ‡æ•°æ®åº“                 â”‚
â”‚        (è¿‡æ»¤åçš„æ•°æ®)                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.3 è·¯ç”±è§„åˆ™çš„ä½œç”¨


**è·¯ç”±è§„åˆ™**å°±åƒæ˜¯**å¿«é€’åˆ†æ‹£ä¸­å¿ƒ**ï¼Œå†³å®šæ•°æ®åº”è¯¥é€åˆ°å“ªé‡Œï¼š
- åŒä¸€ä»½æ•°æ®å¯ä»¥é€åˆ°å¤šä¸ªç›®çš„åœ°
- ä¸åŒæ¡ä»¶çš„æ•°æ®é€åˆ°ä¸åŒçš„åœ°æ–¹
- å¯ä»¥æ ¹æ®æ•°æ®å†…å®¹åŠ¨æ€é€‰æ‹©ç›®çš„åœ°

---

## 2. ğŸ—ƒï¸ åº“çº§è¿‡æ»¤è§„åˆ™


### 2.1 åº“çº§è¿‡æ»¤åŸç†


åº“çº§è¿‡æ»¤æ˜¯**æœ€ç²—ç²’åº¦**çš„è¿‡æ»¤ï¼Œå†³å®šå“ªäº›æ•°æ®åº“éœ€è¦åŒæ­¥ã€‚

**ğŸ”¸ åŸºæœ¬æ¦‚å¿µ**
```
ä»€ä¹ˆæ˜¯åº“çº§è¿‡æ»¤ï¼Ÿ
å°±æ˜¯å‘Šè¯‰Otterï¼š"æˆ‘åªè¦è¿™å‡ ä¸ªæ•°æ®åº“çš„æ•°æ®ï¼Œå…¶ä»–çš„éƒ½ä¸è¦"

æ¯”å¦‚ï¼š
æºç«¯æœ‰ï¼šuser_db, order_db, log_db, temp_db
æˆ‘åªè¦ï¼šuser_db, order_db
è¿‡æ»¤æ‰ï¼šlog_db, temp_db
```

### 2.2 é…ç½®æ–¹å¼


**ç®¡ç†ç•Œé¢é…ç½®**
```
æ•°æ®æºé…ç½® â†’ è¿‡æ»¤è§„åˆ™ â†’ åº“çº§è¿‡æ»¤

åŒ…å«æ¨¡å¼ï¼ˆç™½åå•ï¼‰ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ åªåŒæ­¥è¿™äº›åº“ï¼š               â”‚
â”‚ user_db                    â”‚
â”‚ order_db                   â”‚
â”‚ product_db                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

æ’é™¤æ¨¡å¼ï¼ˆé»‘åå•ï¼‰ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ä¸è¦åŒæ­¥è¿™äº›åº“ï¼š             â”‚
â”‚ temp_db                    â”‚
â”‚ log_db                     â”‚
â”‚ test_db                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.3 é…ç½®ç¤ºä¾‹


**åœºæ™¯ï¼šç”µå•†ç³»ç»Ÿæ•°æ®åŒæ­¥**
```yaml
# åªåŒæ­¥æ ¸å¿ƒä¸šåŠ¡åº“
include_databases:
  - user_database     # ç”¨æˆ·ä¿¡æ¯åº“
  - order_database    # è®¢å•åº“  
  - product_database  # å•†å“åº“
  - payment_database  # æ”¯ä»˜åº“

# æ’é™¤æµ‹è¯•å’Œæ—¥å¿—åº“
exclude_databases:
  - test_*           # æ‰€æœ‰testå¼€å¤´çš„åº“
  - log_*            # æ‰€æœ‰logå¼€å¤´çš„åº“
  - temp_*           # æ‰€æœ‰tempå¼€å¤´çš„åº“
  - backup_*         # æ‰€æœ‰backupå¼€å¤´çš„åº“
```

### 2.4 é€šé…ç¬¦æ”¯æŒ


**æ”¯æŒçš„é€šé…ç¬¦æ¨¡å¼**

| é€šé…ç¬¦ | å«ä¹‰ | ç¤ºä¾‹ | åŒ¹é…ç»“æœ |
|--------|------|------|----------|
| `*` | åŒ¹é…ä»»æ„å­—ç¬¦ | `user_*` | `user_db`, `user_test`, `user_backup` |
| `?` | åŒ¹é…å•ä¸ªå­—ç¬¦ | `db?` | `db1`, `db2`, `dba` |
| `[abc]` | åŒ¹é…æŒ‡å®šå­—ç¬¦ | `db[123]` | `db1`, `db2`, `db3` |
| `[a-z]` | åŒ¹é…å­—ç¬¦èŒƒå›´ | `test_[a-c]` | `test_a`, `test_b`, `test_c` |

**å®é™…é…ç½®ç¤ºä¾‹**
```
# åŒæ­¥æ‰€æœ‰ç”¨æˆ·ç›¸å…³çš„åº“
user_*

# åŒæ­¥ç¼–å·1-9çš„åˆ†åº“
order_db[1-9]

# æ’é™¤æ‰€æœ‰ä¸´æ—¶åº“
exclude: temp_*, test_*, *_backup
```

---

## 3. ğŸ“Š è¡¨çº§è¿‡æ»¤è§„åˆ™


### 3.1 è¡¨çº§è¿‡æ»¤æ¦‚å¿µ


è¡¨çº§è¿‡æ»¤æ˜¯åœ¨åº“çº§è¿‡æ»¤åŸºç¡€ä¸Šï¼Œ**è¿›ä¸€æ­¥ç­›é€‰è¡¨**ã€‚å°±åƒé€‰å®šäº†æŸä¸ªå•†åœºåï¼Œå†é€‰æ‹©è¦é€›å“ªäº›åº—é“ºã€‚

**ğŸ”¸ è¿‡æ»¤é€»è¾‘**
```
åº“çº§è¿‡æ»¤é€šè¿‡å â†’ è¡¨çº§è¿‡æ»¤ â†’ å†³å®šåŒæ­¥å“ªäº›è¡¨

ä¸¾ä¾‹ï¼š
æ•°æ®åº“ï¼šuser_db âœ“ (åº“çº§è¿‡æ»¤é€šè¿‡)
â”œâ”€â”€ user_profile      âœ“ è¦åŒæ­¥
â”œâ”€â”€ user_login_log    âœ— ä¸åŒæ­¥(æ—¥å¿—è¡¨)
â”œâ”€â”€ user_temp         âœ— ä¸åŒæ­¥(ä¸´æ—¶è¡¨)
â””â”€â”€ user_settings     âœ“ è¦åŒæ­¥
```

### 3.2 é…ç½®ç­–ç•¥


**ç™½åå•æ¨¡å¼ï¼ˆæ¨èï¼‰**
```yaml
# åªåŒæ­¥æŒ‡å®šçš„è¡¨
include_tables:
  user_db:
    - user_profile
    - user_settings
    - user_preferences
  order_db:
    - orders
    - order_items
    - order_payments
```

**é»‘åå•æ¨¡å¼**
```yaml
# æ’é™¤ä¸éœ€è¦çš„è¡¨
exclude_tables:
  user_db:
    - user_login_log      # ç™»å½•æ—¥å¿—è¡¨
    - user_operation_log  # æ“ä½œæ—¥å¿—è¡¨
    - user_temp_*         # ä¸´æ—¶è¡¨
  order_db:
    - order_log_*         # è®¢å•æ—¥å¿—è¡¨
    - order_backup_*      # å¤‡ä»½è¡¨
```

### 3.3 è¡¨è¿‡æ»¤æœ€ä½³å®è·µ


**æ€§èƒ½è€ƒè™‘**
```
ä¼˜å…ˆçº§æ’åºï¼š
1. æ ¸å¿ƒä¸šåŠ¡è¡¨ â†’ æœ€é«˜ä¼˜å…ˆçº§åŒæ­¥
2. é…ç½®å‚æ•°è¡¨ â†’ ä¸­ç­‰ä¼˜å…ˆçº§
3. ç»Ÿè®¡æŠ¥è¡¨è¡¨ â†’ è¾ƒä½ä¼˜å…ˆçº§  
4. æ—¥å¿—ä¸´æ—¶è¡¨ â†’ ä¸åŒæ­¥

ç¤ºä¾‹é…ç½®ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ é«˜ä¼˜å…ˆçº§ï¼ˆå®æ—¶åŒæ­¥ï¼‰                  â”‚
â”‚ â€¢ users, orders, products           â”‚
â”‚ â€¢ payments, inventory               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ä¸­ä¼˜å…ˆçº§ï¼ˆå®šæ—¶åŒæ­¥ï¼‰                  â”‚
â”‚ â€¢ user_settings, system_config      â”‚
â”‚ â€¢ categories, promotions            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ä½ä¼˜å…ˆçº§ï¼ˆæŒ‰éœ€åŒæ­¥ï¼‰                  â”‚
â”‚ â€¢ reports, statistics               â”‚
â”‚ â€¢ audit_trail                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ä¸åŒæ­¥                              â”‚
â”‚ â€¢ *_log, *_temp, *_backup          â”‚
â”‚ â€¢ test_*, debug_*                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 4. ğŸ“ è¡Œçº§æ•°æ®è¿‡æ»¤


### 4.1 è¡Œçº§è¿‡æ»¤åŸç†


è¡Œçº§è¿‡æ»¤æ˜¯**æœ€ç²¾ç»†**çš„æ•°æ®è¿‡æ»¤ï¼Œæ ¹æ®**è¡Œçš„å†…å®¹**å†³å®šæ˜¯å¦åŒæ­¥ã€‚å°±åƒä»ä¸€å †è‹¹æœä¸­ï¼ŒåªæŒ‘é€‰çº¢è‰²çš„ã€å¤§ä¸ªçš„è‹¹æœã€‚

**ğŸ”¸ å…¸å‹åº”ç”¨åœºæ™¯**
```
åœºæ™¯1ï¼šæŒ‰æ—¶é—´è¿‡æ»¤
åªåŒæ­¥æœ€è¿‘30å¤©çš„è®¢å•æ•°æ®
WHERE create_time >= DATE_SUB(NOW(), INTERVAL 30 DAY)

åœºæ™¯2ï¼šæŒ‰çŠ¶æ€è¿‡æ»¤  
åªåŒæ­¥æœ‰æ•ˆç”¨æˆ·çš„æ•°æ®
WHERE status = 'active' AND deleted = 0

åœºæ™¯3ï¼šæŒ‰åœ°åŒºè¿‡æ»¤
åªåŒæ­¥ç‰¹å®šåœ°åŒºçš„æ•°æ®
WHERE region IN ('åä¸œ', 'åå—', 'ååŒ—')
```

### 4.2 è¿‡æ»¤æ¡ä»¶é…ç½®


**SQLæ¡ä»¶è¿‡æ»¤**
```sql
-- ç”¨æˆ·è¡¨ï¼šåªåŒæ­¥æ´»è·ƒç”¨æˆ·
table: user_profile
filter: status = 'active' AND last_login_time >= DATE_SUB(NOW(), INTERVAL 90 DAY)

-- è®¢å•è¡¨ï¼šåªåŒæ­¥å·²æ”¯ä»˜è®¢å•
table: orders  
filter: pay_status = 'paid' AND order_status NOT IN ('cancelled', 'refunded')

-- å•†å“è¡¨ï¼šåªåŒæ­¥ä¸Šæ¶å•†å“
table: products
filter: is_online = 1 AND stock_quantity > 0
```

**é…ç½®ç•Œé¢ç¤ºä¾‹**
```
è¡¨è¿‡æ»¤é…ç½®ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è¡¨åï¼šorders                          â”‚
â”‚ è¿‡æ»¤æ¡ä»¶ï¼š                            â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ pay_status = 'paid'              â”‚   â”‚
â”‚ â”‚ AND create_time >= '2024-01-01'  â”‚   â”‚
â”‚ â”‚ AND order_amount > 0             â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                      â”‚
â”‚ [æµ‹è¯•SQL] [ä¿å­˜é…ç½®]                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.3 åŠ¨æ€è¿‡æ»¤æ¡ä»¶


**æ—¶é—´çª—å£è¿‡æ»¤**
```sql
-- æ»šåŠ¨æ—¶é—´çª—å£ï¼ˆåªåŒæ­¥æœ€è¿‘çš„æ•°æ®ï¼‰
WHERE create_time >= DATE_SUB(NOW(), INTERVAL 7 DAY)

-- å¢é‡åŒæ­¥ï¼ˆåªåŒæ­¥æ›´æ–°çš„æ•°æ®ï¼‰  
WHERE update_time > '${last_sync_time}'

-- æŒ‰æ—¥æœŸåˆ†åŒºåŒæ­¥
WHERE DATE(create_time) = '${sync_date}'
```

**æ¡ä»¶å‚æ•°åŒ–**
```yaml
# é…ç½®æ–‡ä»¶ä¸­å®šä¹‰å‚æ•°
filter_params:
  sync_days: 30
  min_amount: 100
  active_status: ['active', 'premium']

# SQLä¸­ä½¿ç”¨å‚æ•°
filter_sql: |
  status IN (${active_status}) 
  AND create_time >= DATE_SUB(NOW(), INTERVAL ${sync_days} DAY)
  AND amount >= ${min_amount}
```

---

## 5. ğŸ“‹ åˆ—çº§æ•°æ®è¿‡æ»¤


### 5.1 åˆ—çº§è¿‡æ»¤æ¦‚å¿µ


åˆ—çº§è¿‡æ»¤æ˜¯**é€‰æ‹©åŒæ­¥å“ªäº›å­—æ®µ**ï¼Œå°±åƒå¤å°æ–‡ä»¶æ—¶å¯ä»¥é€‰æ‹©å¤å°å“ªäº›é¡µé¢ã€‚

**ğŸ”¸ ä¸ºä»€ä¹ˆéœ€è¦åˆ—çº§è¿‡æ»¤ï¼Ÿ**
```
å®é™…åœºæ™¯ï¼š
ç”¨æˆ·è¡¨æœ‰50ä¸ªå­—æ®µï¼Œä½†ç›®æ ‡ç³»ç»Ÿåªéœ€è¦10ä¸ªæ ¸å¿ƒå­—æ®µ

å¥½å¤„ï¼š
â€¢ å‡å°‘ç½‘ç»œä¼ è¾“é‡ï¼šå°‘ä¼ è¾“40ä¸ªå­—æ®µçš„æ•°æ®
â€¢ ä¿æŠ¤æ•æ„Ÿä¿¡æ¯ï¼šå¯†ç ã€èº«ä»½è¯å·ç­‰ä¸åŒæ­¥
â€¢ æé«˜åŒæ­¥é€Ÿåº¦ï¼šæ•°æ®é‡å‡å°‘ï¼Œé€Ÿåº¦æ›´å¿«
â€¢ èŠ‚çœå­˜å‚¨ç©ºé—´ï¼šç›®æ ‡ç«¯åªå­˜å‚¨éœ€è¦çš„å­—æ®µ
```

### 5.2 å­—æ®µé€‰æ‹©ç­–ç•¥


**åŒ…å«æ¨¡å¼ï¼ˆç™½åå•ï¼‰**
```yaml
# åªåŒæ­¥æŒ‡å®šå­—æ®µ
column_filter:
  users:
    include:
      - user_id          # ç”¨æˆ·IDï¼ˆå¿…é¡»ï¼‰
      - username         # ç”¨æˆ·å
      - email           # é‚®ç®±
      - phone           # æ‰‹æœºå·
      - create_time     # åˆ›å»ºæ—¶é—´
      - update_time     # æ›´æ–°æ—¶é—´
    # æ’é™¤ï¼špassword, id_card, bank_account ç­‰æ•æ„Ÿå­—æ®µ
```

**æ’é™¤æ¨¡å¼ï¼ˆé»‘åå•ï¼‰**
```yaml
# æ’é™¤æ•æ„Ÿå­—æ®µï¼Œå…¶ä»–éƒ½åŒæ­¥
column_filter:
  users:
    exclude:
      - password        # å¯†ç 
      - salt           # å¯†ç ç›å€¼
      - id_card        # èº«ä»½è¯å·
      - bank_account   # é“¶è¡Œè´¦æˆ·
      - secret_key     # å¯†é’¥
```

### 5.3 å­—æ®µæ˜ å°„é…ç½®


**å­—æ®µé‡å‘½å**
```yaml
# æºå­—æ®µå â†’ ç›®æ ‡å­—æ®µå
field_mapping:
  users:
    user_name: username      # æºç«¯user_name â†’ ç›®æ ‡ç«¯username
    mobile: phone           # æºç«¯mobile â†’ ç›®æ ‡ç«¯phone  
    gmt_create: create_time # æºç«¯gmt_create â†’ ç›®æ ‡ç«¯create_time
```

**å­—æ®µç±»å‹è½¬æ¢**
```yaml
# æ•°æ®ç±»å‹è½¬æ¢
type_conversion:
  users:
    create_time: 
      from: "varchar"      # æºç«¯æ˜¯å­—ç¬¦ä¸²
      to: "datetime"       # ç›®æ ‡ç«¯è½¬ä¸ºæ—¥æœŸæ—¶é—´
      format: "yyyy-MM-dd HH:mm:ss"
    
    amount:
      from: "decimal(10,2)" # æºç«¯å°æ•°
      to: "varchar(20)"     # ç›®æ ‡ç«¯å­—ç¬¦ä¸²
```

### 5.4 æ•æ„Ÿæ•°æ®å¤„ç†


**æ•°æ®è„±æ•é…ç½®**
```yaml
# æ•æ„Ÿå­—æ®µè„±æ•å¤„ç†
data_masking:
  users:
    phone:
      type: "mask"
      pattern: "138****5678"  # æ‰‹æœºå·è„±æ•
    
    email:  
      type: "mask"
      pattern: "abc***@**.com" # é‚®ç®±è„±æ•
      
    id_card:
      type: "hash"            # èº«ä»½è¯å·å“ˆå¸Œå¤„ç†
      algorithm: "MD5"
```

---

## 6. ğŸ” æ­£åˆ™è¡¨è¾¾å¼è¿‡æ»¤


### 6.1 æ­£åˆ™è¿‡æ»¤åŸç†


æ­£åˆ™è¡¨è¾¾å¼å°±åƒæ˜¯ä¸€ä¸ª**æ™ºèƒ½çš„æ¨¡å¼åŒ¹é…å™¨**ï¼Œå¯ä»¥æ ¹æ®å¤æ‚çš„è§„åˆ™æ¥ç­›é€‰æ•°æ®ã€‚

**ğŸ”¸ ä»€ä¹ˆæ—¶å€™ç”¨æ­£åˆ™ï¼Ÿ**
```
ç®€å•è¿‡æ»¤ï¼štable_name = 'users'     (ç›´æ¥åŒ¹é…)
å¤æ‚è¿‡æ»¤ï¼štable_name REGEXP '^user_[0-9]+$'  (æ­£åˆ™åŒ¹é…)

æ­£åˆ™çš„ä¼˜åŠ¿ï¼š
â€¢ æ¨¡å¼åŒ¹é…ï¼šåŒ¹é…å¤æ‚çš„å‘½åè§„å¾‹
â€¢ æ‰¹é‡å¤„ç†ï¼šä¸€ä¸ªè§„åˆ™å¤„ç†å¤šä¸ªå¯¹è±¡  
â€¢ çµæ´»ç­›é€‰ï¼šæ”¯æŒå„ç§æ¡ä»¶ç»„åˆ
```

### 6.2 å¸¸ç”¨æ­£åˆ™æ¨¡å¼


**è¡¨åè¿‡æ»¤æ­£åˆ™**

| éœ€æ±‚ | æ­£åˆ™è¡¨è¾¾å¼ | è¯´æ˜ | åŒ¹é…ç¤ºä¾‹ |
|------|-----------|------|----------|
| ç”¨æˆ·ç›¸å…³è¡¨ | `^user_.*` | ä»¥user_å¼€å¤´ | `user_profile`, `user_login` |
| åˆ†è¡¨åŒ¹é… | `^order_[0-9]+$` | order_åŠ æ•°å­— | `order_1`, `order_2`, `order_100` |
| æ’é™¤æ—¥å¿—è¡¨ | `^(?!.*_log).*$` | ä¸åŒ…å«_log | åŒ¹é…é™¤æ—¥å¿—è¡¨å¤–çš„æ‰€æœ‰è¡¨ |
| ä¸´æ—¶è¡¨æ’é™¤ | `^(?!temp_).*` | ä¸ä»¥temp_å¼€å¤´ | æ’é™¤æ‰€æœ‰ä¸´æ—¶è¡¨ |

**å­—æ®µåè¿‡æ»¤æ­£åˆ™**
```regex
# åªåŒæ­¥åŸºç¡€ä¿¡æ¯å­—æ®µ
^(id|name|email|phone|create_time|update_time)$

# æ’é™¤æ•æ„Ÿå­—æ®µ
^(?!.*(password|secret|key|token|salt)).*$

# åªåŒæ­¥æ•°å€¼ç±»å‹å­—æ®µ
.*(amount|price|count|quantity|score).*

# æ’é™¤ç»Ÿè®¡å­—æ®µ
^(?!.*(total|sum|avg|max|min|count)).*$
```

### 6.3 æ•°æ®å†…å®¹æ­£åˆ™è¿‡æ»¤


**è¡Œæ•°æ®å†…å®¹è¿‡æ»¤**
```sql
-- æ‰‹æœºå·æ ¼å¼éªŒè¯
WHERE phone REGEXP '^1[3-9][0-9]{9}$'

-- é‚®ç®±æ ¼å¼éªŒè¯  
WHERE email REGEXP '^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,}$'

-- èº«ä»½è¯å·æ ¼å¼éªŒè¯
WHERE id_card REGEXP '^[1-9][0-9]{5}(19|20)[0-9]{2}(0[1-9]|1[0-2])(0[1-9]|[12][0-9]|3[01])[0-9]{3}[0-9Xx]$'

-- å•†å“ç¼–å·æ ¼å¼éªŒè¯
WHERE product_code REGEXP '^[A-Z]{2}[0-9]{6}$'
```

### 6.4 æ­£åˆ™é…ç½®ç¤ºä¾‹


**ç®¡é“é…ç½®æ–‡ä»¶**
```yaml
# è¡¨çº§æ­£åˆ™è¿‡æ»¤
table_regex_filter:
  include:
    - "^(user|order|product)_.*"    # æ ¸å¿ƒä¸šåŠ¡è¡¨
    - "^sys_config$"                # ç³»ç»Ÿé…ç½®è¡¨
  exclude:  
    - ".*_log$"                     # æ‰€æœ‰æ—¥å¿—è¡¨
    - ".*_temp$"                    # æ‰€æœ‰ä¸´æ—¶è¡¨
    - "^test_.*"                    # æ‰€æœ‰æµ‹è¯•è¡¨

# å­—æ®µçº§æ­£åˆ™è¿‡æ»¤
column_regex_filter:
  include:
    - "^(id|.*_id)$"               # IDå­—æ®µ
    - "^(name|title|description)$" # åŸºç¡€ä¿¡æ¯å­—æ®µ
    - "^(create_time|update_time)$" # æ—¶é—´å­—æ®µ
  exclude:
    - ".*(password|secret|key).*"  # æ•æ„Ÿå­—æ®µ
```

---

## 7. âš™ï¸ è‡ªå®šä¹‰è¿‡æ»¤è„šæœ¬


### 7.1 è„šæœ¬è¿‡æ»¤æ¦‚å¿µ


å½“æ ‡å‡†çš„è¿‡æ»¤è§„åˆ™æ— æ³•æ»¡è¶³å¤æ‚éœ€æ±‚æ—¶ï¼Œå¯ä»¥ä½¿ç”¨**è‡ªå®šä¹‰è„šæœ¬**å®ç°ä¸ªæ€§åŒ–è¿‡æ»¤é€»è¾‘ã€‚

**ğŸ”¸ è„šæœ¬çš„ä¼˜åŠ¿**
```
æ ‡å‡†è¿‡æ»¤ï¼šç®€å•æ¡ä»¶ï¼Œé…ç½®å³å¯
è„šæœ¬è¿‡æ»¤ï¼šå¤æ‚é€»è¾‘ï¼Œç¼–ç¨‹å®ç°

èƒ½è§£å†³çš„é—®é¢˜ï¼š
â€¢ å¤šè¡¨å…³è”åˆ¤æ–­ï¼šéœ€è¦æŸ¥è¯¢å…¶ä»–è¡¨çš„æ•°æ®
â€¢ å¤æ‚ä¸šåŠ¡é€»è¾‘ï¼šæ ¹æ®ä¸šåŠ¡è§„åˆ™å†³å®šæ˜¯å¦åŒæ­¥
â€¢ æ•°æ®è½¬æ¢å¤„ç†ï¼šåŒæ­¥å‰å¯¹æ•°æ®è¿›è¡ŒåŠ å·¥
â€¢ åŠ¨æ€è¿‡æ»¤æ¡ä»¶ï¼šæ ¹æ®å®æ—¶æƒ…å†µè°ƒæ•´è¿‡æ»¤è§„åˆ™
```

### 7.2 è„šæœ¬ç±»å‹


**Groovyè„šæœ¬ï¼ˆæ¨èï¼‰**
```groovy
// ç¤ºä¾‹ï¼šè®¢å•æ•°æ®è¿‡æ»¤è„šæœ¬
import com.alibaba.otter.shared.etl.model.EventData

def filter(EventData eventData) {
    // è·å–è¡¨å
    String tableName = eventData.getTableName()
    
    // åªå¤„ç†è®¢å•è¡¨
    if (tableName != "orders") {
        return true  // å…¶ä»–è¡¨ç›´æ¥é€šè¿‡
    }
    
    // è·å–è¡Œæ•°æ®
    Map<String, String> rowData = eventData.getColumns()
    
    // ä¸šåŠ¡é€»è¾‘ï¼šåªåŒæ­¥é‡‘é¢å¤§äº100çš„å·²æ”¯ä»˜è®¢å•
    String orderAmount = rowData.get("order_amount")
    String payStatus = rowData.get("pay_status")
    
    if (orderAmount != null && payStatus != null) {
        double amount = Double.parseDouble(orderAmount)
        return amount >= 100.0 && "paid".equals(payStatus)
    }
    
    return false  // æ•°æ®ä¸å®Œæ•´ï¼Œä¸åŒæ­¥
}
```

**JavaScriptè„šæœ¬**
```javascript
// ç”¨æˆ·æ•°æ®è¿‡æ»¤è„šæœ¬
function filter(eventData) {
    var tableName = eventData.getTableName();
    
    if (tableName === "users") {
        var rowData = eventData.getColumns();
        var userStatus = rowData.get("status");
        var lastLoginTime = rowData.get("last_login_time");
        
        // åªåŒæ­¥æ´»è·ƒç”¨æˆ·ï¼ˆ90å¤©å†…æœ‰ç™»å½•ï¼‰
        if (userStatus === "active" && lastLoginTime) {
            var loginTime = new Date(lastLoginTime);
            var now = new Date();
            var daysDiff = (now - loginTime) / (1000 * 60 * 60 * 24);
            
            return daysDiff <= 90;
        }
    }
    
    return true;  // å…¶ä»–æƒ…å†µé»˜è®¤é€šè¿‡
}
```

### 7.3 é«˜çº§è„šæœ¬ç¤ºä¾‹


**å¤šè¡¨å…³è”è¿‡æ»¤**
```groovy
// éœ€è¦æŸ¥è¯¢æ•°æ®åº“çš„å¤æ‚è¿‡æ»¤é€»è¾‘
import java.sql.*

def filter(EventData eventData) {
    String tableName = eventData.getTableName()
    
    if (tableName == "order_items") {
        Map<String, String> rowData = eventData.getColumns()
        String productId = rowData.get("product_id")
        
        // æŸ¥è¯¢å•†å“æ˜¯å¦ä¸ºæœ‰æ•ˆå•†å“
        if (productId != null) {
            // æ‰§è¡Œæ•°æ®åº“æŸ¥è¯¢ï¼ˆéœ€è¦é…ç½®æ•°æ®æºï¼‰
            String sql = "SELECT status FROM products WHERE id = ?"
            // ... æ•°æ®åº“æŸ¥è¯¢é€»è¾‘
            // åªæœ‰ä¸Šæ¶å•†å“çš„è®¢å•é¡¹æ‰åŒæ­¥
            return isProductOnline(productId)
        }
    }
    
    return true
}

// è¾…åŠ©æ–¹æ³•
def isProductOnline(String productId) {
    // å®é™…çš„æ•°æ®åº“æŸ¥è¯¢é€»è¾‘
    return true  // ç®€åŒ–ç¤ºä¾‹
}
```

**æ•°æ®è½¬æ¢è¿‡æ»¤**
```groovy
// æ•°æ®è½¬æ¢ + è¿‡æ»¤
def filter(EventData eventData) {
    if (eventData.getTableName() == "users") {
        Map<String, String> columns = eventData.getColumns()
        
        // æ•°æ®è½¬æ¢ï¼šæ‰‹æœºå·è„±æ•
        String phone = columns.get("phone")
        if (phone != null && phone.length() == 11) {
            String maskedPhone = phone.substring(0, 3) + "****" + phone.substring(7)
            columns.put("phone", maskedPhone)
        }
        
        // æ•°æ®è½¬æ¢ï¼šé‚®ç®±è„±æ•
        String email = columns.get("email")
        if (email != null) {
            String[] parts = email.split("@")
            if (parts.length == 2) {
                String maskedEmail = parts[0].substring(0, 2) + "***@" + parts[1]
                columns.put("email", maskedEmail)
            }
        }
    }
    
    return true  // è½¬æ¢åç»§ç»­åŒæ­¥
}
```

### 7.4 è„šæœ¬é…ç½®ç®¡ç†


**é…ç½®ç•Œé¢**
```
è‡ªå®šä¹‰è¿‡æ»¤è„šæœ¬é…ç½®ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è„šæœ¬åç§°ï¼šè®¢å•é‡‘é¢è¿‡æ»¤                  â”‚
â”‚ è„šæœ¬ç±»å‹ï¼š[Groovy â–¼]                  â”‚
â”‚ é€‚ç”¨è¡¨ï¼šorders                        â”‚
â”‚                                      â”‚
â”‚ è„šæœ¬å†…å®¹ï¼š                            â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ def filter(EventData eventData) {â”‚   â”‚
â”‚ â”‚   // è„šæœ¬å†…å®¹...                 â”‚   â”‚
â”‚ â”‚   return true                    â”‚   â”‚
â”‚ â”‚ }                                â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                      â”‚
â”‚ [æµ‹è¯•è„šæœ¬] [ä¿å­˜] [å¯ç”¨]               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 8. ğŸš€ è·¯ç”±è§„åˆ™é…ç½®


### 8.1 è·¯ç”±è§„åˆ™æ¦‚å¿µ


è·¯ç”±è§„åˆ™å†³å®š**æ•°æ®åŒæ­¥åˆ°å“ªé‡Œ**ï¼Œå°±åƒå¿«é€’çš„é…é€è§„åˆ™ï¼šæ ¹æ®åŒ…è£¹ä¿¡æ¯å†³å®šé€åˆ°å“ªä¸ªåœ°å€ã€‚

**ğŸ”¸ è·¯ç”±çš„æ ¸å¿ƒä½œç”¨**
```
å•æ•°æ®æº â†’ å¤šç›®æ ‡çš„åˆ†å‘ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   æºæ•°æ®åº“   â”‚
â”‚             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ users   â”‚ â”‚ â”€â”€â”€â”€â”
â”‚ â”‚ orders  â”‚ â”‚     â”‚
â”‚ â”‚ productsâ”‚ â”‚     â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
                   â”‚ è·¯ç”±åˆ†å‘
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â–¼         â–¼         â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ æ•°æ®ä»“åº“ â”‚ â”‚ ç¼“å­˜åº“   â”‚ â”‚ æŠ¥è¡¨åº“   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 8.2 è·¯ç”±ç­–ç•¥ç±»å‹


**è¡¨çº§è·¯ç”±**
```yaml
# ä¸åŒè¡¨è·¯ç”±åˆ°ä¸åŒç›®æ ‡
table_routing:
  users:
    targets: 
      - datawarehouse_db.users     # æ•°æ®ä»“åº“
      - cache_db.user_cache        # ç¼“å­˜åº“
  
  orders:
    targets:
      - datawarehouse_db.orders    # æ•°æ®ä»“åº“  
      - report_db.order_summary    # æŠ¥è¡¨åº“
  
  products:
    targets:
      - cache_db.product_cache     # ç¼“å­˜åº“
      - search_db.product_index    # æœç´¢åº“
```

**æ¡ä»¶è·¯ç”±**
```yaml
# æ ¹æ®æ•°æ®å†…å®¹è·¯ç”±
conditional_routing:
  orders:
    - condition: "order_amount >= 1000"
      targets: ["vip_db.large_orders"]      # å¤§é¢è®¢å•
    
    - condition: "region = 'åä¸œ'"
      targets: ["east_db.orders"]           # åä¸œåŒºè®¢å•
    
    - condition: "pay_status = 'paid'"  
      targets: ["finance_db.paid_orders"]   # å·²æ”¯ä»˜è®¢å•
    
    - condition: "default"
      targets: ["archive_db.orders"]        # é»˜è®¤å½’æ¡£åº“
```

### 8.3 è·¯ç”±é…ç½®ç¤ºä¾‹


**ä¸šåŠ¡åœºæ™¯è·¯ç”±**
```yaml
# ç”µå•†ç³»ç»Ÿæ•°æ®åˆ†å‘
routing_rules:
  # ç”¨æˆ·æ•°æ®åˆ†å‘
  user_profile:
    - target: "crm_db.customers"           # CRMç³»ç»Ÿ
      condition: "user_type = 'enterprise'" # ä¼ä¸šç”¨æˆ·
    
    - target: "marketing_db.users"         # è¥é”€ç³»ç»Ÿ
      condition: "marketing_consent = 1"    # åŒæ„è¥é”€
    
    - target: "archive_db.users"           # å½’æ¡£åº“
      condition: "default"                 # é»˜è®¤è·¯ç”±

  # è®¢å•æ•°æ®åˆ†å‘  
  orders:
    - target: "realtime_db.orders"         # å®æ—¶åº“
      condition: "order_status IN ('pending', 'processing')"
    
    - target: "finance_db.orders"          # è´¢åŠ¡åº“
      condition: "pay_status = 'paid'"
    
    - target: "warehouse_db.orders"        # æ•°æ®ä»“åº“
      condition: "create_time < DATE_SUB(NOW(), INTERVAL 30 DAY)"
```

### 8.4 è·¯ç”±æ€§èƒ½ä¼˜åŒ–


**è·¯ç”±ä¼˜å…ˆçº§**
```yaml
# æŒ‰ä¼˜å…ˆçº§é…ç½®è·¯ç”±è§„åˆ™
routing_priority:
  high_priority:     # é«˜ä¼˜å…ˆçº§ï¼ˆå®æ—¶åŒæ­¥ï¼‰
    - "realtime_db.*"
    - "cache_db.*"
  
  medium_priority:   # ä¸­ä¼˜å…ˆçº§ï¼ˆå‡†å®æ—¶ï¼‰
    - "report_db.*"
    - "search_db.*"
  
  low_priority:      # ä½ä¼˜å…ˆçº§ï¼ˆæ‰¹é‡åŒæ­¥ï¼‰
    - "archive_db.*"
    - "backup_db.*"
```

---

## 9. ğŸ¯ æ¡ä»¶è·¯ç”±è®¾ç½®


### 9.1 æ¡ä»¶è·¯ç”±åŸç†


æ¡ä»¶è·¯ç”±æ˜¯æ ¹æ®**æ•°æ®å†…å®¹**åŠ¨æ€å†³å®šè·¯ç”±ç›®æ ‡ï¼Œå®ç°æ™ºèƒ½åˆ†å‘ã€‚

**ğŸ”¸ æ¡ä»¶ç±»å‹**
```
æ—¶é—´æ¡ä»¶ï¼šæ ¹æ®æ—¶é—´å­—æ®µè·¯ç”±
çŠ¶æ€æ¡ä»¶ï¼šæ ¹æ®çŠ¶æ€å­—æ®µè·¯ç”±  
æ•°å€¼æ¡ä»¶ï¼šæ ¹æ®æ•°å€¼å¤§å°è·¯ç”±
å­—ç¬¦æ¡ä»¶ï¼šæ ¹æ®æ–‡æœ¬å†…å®¹è·¯ç”±
ç»„åˆæ¡ä»¶ï¼šå¤šä¸ªæ¡ä»¶çš„ç»„åˆ
```

### 9.2 æ—¶é—´æ¡ä»¶è·¯ç”±


**æŒ‰æ—¶é—´åˆ†åº“**
```sql
-- çƒ­æ•°æ®è·¯ç”±ï¼ˆæœ€è¿‘30å¤©ï¼‰
condition: "create_time >= DATE_SUB(NOW(), INTERVAL 30 DAY)"
target: "hot_db.orders"

-- æ¸©æ•°æ®è·¯ç”±ï¼ˆ30-365å¤©ï¼‰  
condition: "create_time BETWEEN DATE_SUB(NOW(), INTERVAL 365 DAY) 
           AND DATE_SUB(NOW(), INTERVAL 30 DAY)"
target: "warm_db.orders"

-- å†·æ•°æ®è·¯ç”±ï¼ˆ365å¤©ä»¥å‰ï¼‰
condition: "create_time < DATE_SUB(NOW(), INTERVAL 365 DAY)"  
target: "cold_db.orders"
```

**æŒ‰æ—¶é—´åˆ†è¡¨**
```yaml
# æŒ‰æœˆåˆ†è¡¨è·¯ç”±
time_based_routing:
  orders:
    pattern: "orders_{YYYY_MM}"
    condition: "DATE_FORMAT(create_time, '%Y_%m')"
    targets:
      - "target_db.orders_2024_01"  # 2024å¹´1æœˆ
      - "target_db.orders_2024_02"  # 2024å¹´2æœˆ
      - "target_db.orders_2024_03"  # 2024å¹´3æœˆ
```

### 9.3 ä¸šåŠ¡æ¡ä»¶è·¯ç”±


**æŒ‰ç”¨æˆ·ç±»å‹è·¯ç”±**
```yaml
user_type_routing:
  users:
    - condition: "user_level = 'vip'"
      target: "vip_db.vip_users"
      priority: 1
    
    - condition: "user_level = 'premium'"  
      target: "premium_db.premium_users"
      priority: 2
    
    - condition: "user_level = 'normal'"
      target: "normal_db.normal_users" 
      priority: 3
```

**æŒ‰åœ°åŒºè·¯ç”±**
```yaml
region_routing:
  orders:
    - condition: "region IN ('åŒ—äº¬', 'ä¸Šæµ·', 'å¹¿å·', 'æ·±åœ³')"
      target: "tier1_db.orders"        # ä¸€çº¿åŸå¸‚
    
    - condition: "region IN ('æ­å·', 'å—äº¬', 'æˆéƒ½', 'æ­¦æ±‰')"  
      target: "tier2_db.orders"        # äºŒçº¿åŸå¸‚
    
    - condition: "region NOT IN (SELECT city FROM tier1_cities 
                 UNION SELECT city FROM tier2_cities)"
      target: "other_db.orders"        # å…¶ä»–åŸå¸‚
```

### 9.4 å¤æ‚æ¡ä»¶ç»„åˆ


**å¤šç»´åº¦æ¡ä»¶**
```sql
-- ç»„åˆæ¡ä»¶ç¤ºä¾‹
SELECT * FROM orders WHERE 
  order_amount >= 1000                    -- é‡‘é¢æ¡ä»¶
  AND region = 'åä¸œ'                     -- åœ°åŒºæ¡ä»¶  
  AND create_time >= '2024-01-01'         -- æ—¶é—´æ¡ä»¶
  AND pay_status = 'paid'                 -- çŠ¶æ€æ¡ä»¶
```

**æ¡ä»¶ä¼˜å…ˆçº§**
```yaml
# æ¡ä»¶åŒ¹é…ä¼˜å…ˆçº§ï¼ˆä»ä¸Šåˆ°ä¸‹ï¼‰
priority_routing:
  orders:
    1:  # æœ€é«˜ä¼˜å…ˆçº§
      condition: "order_amount >= 10000 AND user_level = 'vip'"
      target: "vip_large_orders_db"
    
    2:  # é«˜ä¼˜å…ˆçº§
      condition: "order_amount >= 10000"  
      target: "large_orders_db"
    
    3:  # ä¸­ä¼˜å…ˆçº§
      condition: "user_level = 'vip'"
      target: "vip_orders_db"
    
    4:  # é»˜è®¤ä¼˜å…ˆçº§
      condition: "default"
      target: "normal_orders_db"
```

---

## 10. ğŸ”„ åŠ¨æ€è·¯ç”±è°ƒæ•´


### 10.1 åŠ¨æ€è·¯ç”±æ¦‚å¿µ


åŠ¨æ€è·¯ç”±æ˜¯æŒ‡**è¿è¡Œæ—¶å¯ä»¥è°ƒæ•´**çš„è·¯ç”±è§„åˆ™ï¼Œæ— éœ€é‡å¯æœåŠ¡å³å¯ç”Ÿæ•ˆã€‚

**ğŸ”¸ åŠ¨æ€è°ƒæ•´çš„åœºæ™¯**
```
ä¸šåŠ¡å˜åŒ–ï¼šæ–°å¢ä¸šåŠ¡çº¿ï¼Œéœ€è¦æ–°çš„è·¯ç”±è§„åˆ™
æ€§èƒ½ä¼˜åŒ–ï¼šæŸä¸ªç›®æ ‡åº“å‹åŠ›å¤§ï¼Œä¸´æ—¶è°ƒæ•´è·¯ç”±
æ•…éšœå¤„ç†ï¼šç›®æ ‡åº“æ•…éšœï¼Œç´§æ€¥åˆ‡æ¢åˆ°å¤‡ç”¨åº“
æ‰©å®¹ç¼©å®¹ï¼šæ•°æ®åº“æ‰©å®¹åï¼Œé‡æ–°åˆ†é…è·¯ç”±
```

### 10.2 çƒ­æ›´æ–°é…ç½®


**é…ç½®çƒ­åŠ è½½**
```yaml
# æ”¯æŒçƒ­æ›´æ–°çš„é…ç½®
dynamic_routing:
  enable_hot_reload: true
  config_refresh_interval: 30s    # 30ç§’æ£€æŸ¥ä¸€æ¬¡é…ç½®å˜æ›´
  
  # é…ç½®æº
  config_source:
    type: "database"              # é…ç½®å­˜å‚¨åœ¨æ•°æ®åº“
    connection: "config_db"       # é…ç½®æ•°æ®åº“è¿æ¥
    table: "otter_routing_rules"  # è·¯ç”±è§„åˆ™è¡¨
```

**è§„åˆ™å˜æ›´æ£€æµ‹**
```sql
-- è·¯ç”±è§„åˆ™è¡¨ç»“æ„
CREATE TABLE otter_routing_rules (
  id INT AUTO_INCREMENT PRIMARY KEY,
  rule_name VARCHAR(100) NOT NULL,       -- è§„åˆ™åç§°
  source_table VARCHAR(100) NOT NULL,    -- æºè¡¨
  condition_sql TEXT,                    -- è·¯ç”±æ¡ä»¶
  target_db VARCHAR(100) NOT NULL,       -- ç›®æ ‡åº“
  target_table VARCHAR(100) NOT NULL,    -- ç›®æ ‡è¡¨
  priority INT DEFAULT 0,                -- ä¼˜å…ˆçº§
  status ENUM('active', 'inactive') DEFAULT 'active', -- çŠ¶æ€
  create_time TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  update_time TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);
```

### 10.3 è·¯ç”±åˆ‡æ¢ç­–ç•¥


**ç°åº¦åˆ‡æ¢**
```yaml
# æ¸è¿›å¼è·¯ç”±åˆ‡æ¢
gray_scale_routing:
  orders:
    old_target: "old_db.orders"    # åŸç›®æ ‡
    new_target: "new_db.orders"    # æ–°ç›®æ ‡
    
    switch_schedule:
      - time: "2024-01-01 00:00:00"
        ratio: 10                   # 10%æµé‡åˆ°æ–°ç›®æ ‡
      
      - time: "2024-01-01 12:00:00"  
        ratio: 50                   # 50%æµé‡åˆ°æ–°ç›®æ ‡
      
      - time: "2024-01-02 00:00:00"
        ratio: 100                  # 100%æµé‡åˆ°æ–°ç›®æ ‡
```

**æ•…éšœåˆ‡æ¢**
```yaml
# è‡ªåŠ¨æ•…éšœåˆ‡æ¢
failover_routing:
  orders:
    primary_target: "primary_db.orders"     # ä¸»ç›®æ ‡
    backup_target: "backup_db.orders"       # å¤‡ç”¨ç›®æ ‡
    
    health_check:
      interval: 10s                         # å¥åº·æ£€æŸ¥é—´éš”
      timeout: 5s                          # æ£€æŸ¥è¶…æ—¶æ—¶é—´
      failure_threshold: 3                  # å¤±è´¥é˜ˆå€¼
    
    auto_switch: true                       # è‡ªåŠ¨åˆ‡æ¢
    switch_back: true                       # è‡ªåŠ¨åˆ‡å›
```

### 10.4 è·¯ç”±ç›‘æ§å‘Šè­¦


**ç›‘æ§æŒ‡æ ‡**
```yaml
routing_monitoring:
  metrics:
    - route_success_rate     # è·¯ç”±æˆåŠŸç‡
    - route_latency         # è·¯ç”±å»¶è¿Ÿ
    - target_connection     # ç›®æ ‡è¿æ¥çŠ¶æ€
    - data_distribution     # æ•°æ®åˆ†å¸ƒæƒ…å†µ
  
  alerts:
    - name: "route_failure"
      condition: "success_rate < 95%"
      action: "send_alert"
    
    - name: "target_unavailable"  
      condition: "connection_failed"
      action: "failover_switch"
```

---

## 11. âš¡ è¿‡æ»¤æ€§èƒ½ä¼˜åŒ–


### 11.1 æ€§èƒ½ç“¶é¢ˆåˆ†æ


**å¸¸è§æ€§èƒ½é—®é¢˜**
```
è¿‡æ»¤æ€§èƒ½ç“¶é¢ˆç‚¹ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. è¿‡æ»¤æ¡ä»¶å¤æ‚                      â”‚
â”‚    â€¢ å¤šè¡¨å…³è”æŸ¥è¯¢                    â”‚
â”‚    â€¢ å¤æ‚çš„æ­£åˆ™è¡¨è¾¾å¼                â”‚
â”‚    â€¢ å¤§é‡çš„æ¡ä»¶åˆ¤æ–­                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 2. æ•°æ®é‡å¤§                         â”‚
â”‚    â€¢ å•è¡¨æ•°æ®é‡è¿‡å¤§                  â”‚
â”‚    â€¢ é¢‘ç¹çš„å…¨è¡¨æ‰«æ                  â”‚
â”‚    â€¢ å†…å­˜ä½¿ç”¨è¿‡å¤š                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 3. è„šæœ¬æ‰§è¡Œæ…¢                       â”‚
â”‚    â€¢ è‡ªå®šä¹‰è„šæœ¬é€»è¾‘å¤æ‚              â”‚
â”‚    â€¢ é¢‘ç¹çš„æ•°æ®åº“æŸ¥è¯¢                â”‚
â”‚    â€¢ è„šæœ¬ç¼–è¯‘å¼€é”€                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 11.2 ç´¢å¼•ä¼˜åŒ–ç­–ç•¥


**è¿‡æ»¤å­—æ®µç´¢å¼•**
```sql
-- ä¸ºè¿‡æ»¤å¸¸ç”¨å­—æ®µåˆ›å»ºç´¢å¼•
-- æ—¶é—´å­—æ®µç´¢å¼•ï¼ˆæœ€å¸¸ç”¨ï¼‰
CREATE INDEX idx_create_time ON orders(create_time);
CREATE INDEX idx_update_time ON orders(update_time);

-- çŠ¶æ€å­—æ®µç´¢å¼•
CREATE INDEX idx_status ON orders(status);
CREATE INDEX idx_pay_status ON orders(pay_status);

-- ç»„åˆç´¢å¼•ï¼ˆå¤šæ¡ä»¶è¿‡æ»¤ï¼‰
CREATE INDEX idx_status_time ON orders(status, create_time);
CREATE INDEX idx_region_amount ON orders(region, order_amount);
```

**ç´¢å¼•ä½¿ç”¨ç›‘æ§**
```sql
-- æ£€æŸ¥ç´¢å¼•ä½¿ç”¨æƒ…å†µ
EXPLAIN SELECT * FROM orders 
WHERE status = 'paid' 
  AND create_time >= '2024-01-01';

-- ä¼˜åŒ–å»ºè®®ï¼š
-- âœ“ ä½¿ç”¨ç´¢å¼•ï¼škey = 'idx_status_time'
-- âœ— å…¨è¡¨æ‰«æï¼škey = NULL
```

### 11.3 æ‰¹é‡å¤„ç†ä¼˜åŒ–


**åˆ†æ‰¹è¿‡æ»¤å¤„ç†**
```yaml
# æ‰¹é‡å¤„ç†é…ç½®
batch_processing:
  batch_size: 1000              # æ¯æ‰¹å¤„ç†1000æ¡
  parallel_threads: 4           # 4ä¸ªçº¿ç¨‹å¹¶è¡Œå¤„ç†
  max_memory_usage: "512MB"     # æœ€å¤§å†…å­˜ä½¿ç”¨
  
  # å¤§è¡¨åˆ†ç‰‡å¤„ç†
  large_table_sharding:
    orders:
      shard_key: "id"           # åˆ†ç‰‡é”®
      shard_size: 10000         # æ¯ç‰‡10000æ¡è®°å½•
      parallel_shards: 8        # 8ä¸ªåˆ†ç‰‡å¹¶è¡Œå¤„ç†
```

**å†…å­˜ç®¡ç†**
```java
// æµå¼å¤„ç†å¤§æ•°æ®é‡
public class StreamingFilter {
    private static final int BATCH_SIZE = 1000;
    
    public void filterLargeTable(String tableName) {
        int offset = 0;
        
        while (true) {
            // åˆ†æ‰¹è¯»å–æ•°æ®
            List<EventData> batch = loadBatch(tableName, offset, BATCH_SIZE);
            
            if (batch.isEmpty()) {
                break;  // å¤„ç†å®Œæˆ
            }
            
            // æ‰¹é‡è¿‡æ»¤å¤„ç†
            List<EventData> filtered = filterBatch(batch);
            
            // æ‰¹é‡è¾“å‡º
            outputBatch(filtered);
            
            offset += BATCH_SIZE;
            
            // å†…å­˜æ¸…ç†
            System.gc();
        }
    }
}
```

### 11.4 ç¼“å­˜ä¼˜åŒ–ç­–ç•¥


**è¿‡æ»¤ç»“æœç¼“å­˜**
```yaml
# è¿‡æ»¤ç¼“å­˜é…ç½®
filter_cache:
  enable: true
  cache_type: "redis"           # ä½¿ç”¨Redisç¼“å­˜
  
  # è¡¨çº§è¿‡æ»¤ç¼“å­˜
  table_filter_cache:
    ttl: 3600                   # ç¼“å­˜1å°æ—¶
    max_size: 10000             # æœ€å¤§ç¼“å­˜10000ä¸ªè¡¨
  
  # è¡Œçº§è¿‡æ»¤ç¼“å­˜  
  row_filter_cache:
    ttl: 1800                   # ç¼“å­˜30åˆ†é’Ÿ
    max_size: 100000            # æœ€å¤§ç¼“å­˜100000è¡Œ
    
  # è„šæœ¬ç¼–è¯‘ç¼“å­˜
  script_cache:
    ttl: 7200                   # ç¼“å­˜2å°æ—¶
    max_size: 100               # æœ€å¤§ç¼“å­˜100ä¸ªè„šæœ¬
```

**æ™ºèƒ½ç¼“å­˜ç­–ç•¥**
```java
// ç¼“å­˜é”®è®¾è®¡
public class FilterCacheManager {
    
    // è¡¨è¿‡æ»¤ç¼“å­˜é”®
    private String getTableCacheKey(String database, String table) {
        return String.format("table_filter:%s:%s", database, table);
    }
    
    // è¡Œè¿‡æ»¤ç¼“å­˜é”®ï¼ˆåŒ…å«è¿‡æ»¤æ¡ä»¶å“ˆå¸Œï¼‰
    private String getRowCacheKey(String table, String conditionHash) {
        return String.format("row_filter:%s:%s", table, conditionHash);
    }
    
    // ç¼“å­˜ç©¿é€ä¿æŠ¤
    private Boolean isTableFiltered(String database, String table) {
        String cacheKey = getTableCacheKey(database, table);
        Boolean cached = redisTemplate.opsForValue().get(cacheKey);
        
        if (cached != null) {
            return cached;  // ç¼“å­˜å‘½ä¸­
        }
        
        // ç¼“å­˜æœªå‘½ä¸­ï¼Œæ‰§è¡Œè¿‡æ»¤é€»è¾‘
        Boolean result = executeTableFilter(database, table);
        
        // ç»“æœç¼“å­˜ï¼ˆåŒ…æ‹¬è´Ÿç»“æœï¼‰
        redisTemplate.opsForValue().set(cacheKey, result, 3600, TimeUnit.SECONDS);
        
        return result;
    }
}
```

### 11.5 ç›‘æ§æ€§èƒ½æŒ‡æ ‡


**å…³é”®æ€§èƒ½æŒ‡æ ‡**
```yaml
performance_metrics:
  # è¿‡æ»¤æ€§èƒ½æŒ‡æ ‡
  filter_performance:
    - filter_latency           # è¿‡æ»¤å»¶è¿Ÿ
    - filter_throughput        # è¿‡æ»¤ååé‡
    - filter_success_rate      # è¿‡æ»¤æˆåŠŸç‡
    - memory_usage            # å†…å­˜ä½¿ç”¨
  
  # ç¼“å­˜æ€§èƒ½æŒ‡æ ‡  
  cache_performance:
    - cache_hit_rate          # ç¼“å­˜å‘½ä¸­ç‡
    - cache_miss_rate         # ç¼“å­˜æœªå‘½ä¸­ç‡
    - cache_eviction_rate     # ç¼“å­˜æ·˜æ±°ç‡
  
  # æ•°æ®åº“æ€§èƒ½æŒ‡æ ‡
  database_performance:
    - query_latency           # æŸ¥è¯¢å»¶è¿Ÿ
    - connection_pool_usage   # è¿æ¥æ± ä½¿ç”¨ç‡
    - slow_query_count        # æ…¢æŸ¥è¯¢æ•°é‡
```

**æ€§èƒ½è°ƒä¼˜å»ºè®®**
```
æ€§èƒ½ä¼˜åŒ–æ£€æŸ¥æ¸…å•ï¼š
â–¡ æ˜¯å¦ä¸ºè¿‡æ»¤å­—æ®µåˆ›å»ºäº†åˆé€‚çš„ç´¢å¼•ï¼Ÿ
â–¡ æ˜¯å¦ä½¿ç”¨äº†æ‰¹é‡å¤„ç†é¿å…å†…å­˜æº¢å‡ºï¼Ÿ
â–¡ æ˜¯å¦å¯ç”¨äº†è¿‡æ»¤ç»“æœç¼“å­˜ï¼Ÿ
â–¡ æ˜¯å¦ä¼˜åŒ–äº†å¤æ‚çš„æ­£åˆ™è¡¨è¾¾å¼ï¼Ÿ
â–¡ æ˜¯å¦ç®€åŒ–äº†è‡ªå®šä¹‰è„šæœ¬é€»è¾‘ï¼Ÿ
â–¡ æ˜¯å¦ç›‘æ§äº†å…³é”®æ€§èƒ½æŒ‡æ ‡ï¼Ÿ
â–¡ æ˜¯å¦è®¾ç½®äº†åˆç†çš„å‘Šè­¦é˜ˆå€¼ï¼Ÿ
```

---

## 12. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 12.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ æ•°æ®è¿‡æ»¤ï¼šå››å±‚è¿‡æ»¤ç»“æ„ï¼ˆåº“â†’è¡¨â†’è¡Œâ†’åˆ—ï¼‰
ğŸ”¸ è·¯ç”±è§„åˆ™ï¼šæ•°æ®åˆ†å‘çš„æ™ºèƒ½å†³ç­–æœºåˆ¶
ğŸ”¸ è¿‡æ»¤ç­–ç•¥ï¼šç™½åå•ã€é»‘åå•ã€æ­£åˆ™è¡¨è¾¾å¼
ğŸ”¸ è„šæœ¬è¿‡æ»¤ï¼šå¤„ç†å¤æ‚ä¸šåŠ¡é€»è¾‘çš„ç¼–ç¨‹æ–¹å¼
ğŸ”¸ åŠ¨æ€è·¯ç”±ï¼šè¿è¡Œæ—¶å¯è°ƒæ•´çš„è·¯ç”±é…ç½®
ğŸ”¸ æ€§èƒ½ä¼˜åŒ–ï¼šç´¢å¼•ã€ç¼“å­˜ã€æ‰¹é‡å¤„ç†çš„ç»¼åˆè¿ç”¨
```

### 12.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ è¿‡æ»¤çš„å±‚æ¬¡æ€§**
```
ç†è§£è¦ç‚¹ï¼š
- åº“çº§è¿‡æ»¤ï¼šç²—ç²’åº¦ç­›é€‰ï¼Œç¡®å®šåŒæ­¥èŒƒå›´
- è¡¨çº§è¿‡æ»¤ï¼šä¸­ç²’åº¦ç­›é€‰ï¼Œé€‰æ‹©éœ€è¦çš„è¡¨
- è¡Œçº§è¿‡æ»¤ï¼šç»†ç²’åº¦ç­›é€‰ï¼Œè¿‡æ»¤å…·ä½“æ•°æ®
- åˆ—çº§è¿‡æ»¤ï¼šç²¾ç»†ç­›é€‰ï¼Œé€‰æ‹©éœ€è¦çš„å­—æ®µ

è®¾è®¡åŸåˆ™ï¼š
- è¶Šæ—©è¿‡æ»¤è¶Šå¥½ï¼šå‡å°‘åç»­å¤„ç†é‡
- è¶Šç®€å•è¶Šå¥½ï¼šé¿å…å¤æ‚é€»è¾‘å½±å“æ€§èƒ½
- è¶Šé€šç”¨è¶Šå¥½ï¼šå‡å°‘ç»´æŠ¤æˆæœ¬
```

**ğŸ”¹ è·¯ç”±çš„æ™ºèƒ½æ€§**
```
è·¯ç”±ç­–ç•¥ï¼š
- å†…å®¹è·¯ç”±ï¼šæ ¹æ®æ•°æ®å†…å®¹å†³å®šç›®æ ‡
- æ—¶é—´è·¯ç”±ï¼šæ ¹æ®æ—¶é—´ç»´åº¦åˆ†å‘æ•°æ®
- è´Ÿè½½è·¯ç”±ï¼šæ ¹æ®ç›®æ ‡è´Ÿè½½å‡è¡¡åˆ†å‘
- æ•…éšœè·¯ç”±ï¼šè‡ªåŠ¨æ•…éšœåˆ‡æ¢ä¿è¯å¯ç”¨æ€§

åº”ç”¨ä»·å€¼ï¼š
- æ•°æ®åˆ†å±‚ï¼šçƒ­æ¸©å†·æ•°æ®åˆ†ç¦»å­˜å‚¨
- ä¸šåŠ¡åˆ†ç¦»ï¼šä¸åŒä¸šåŠ¡çº¿ç‹¬ç«‹å­˜å‚¨
- æ€§èƒ½ä¼˜åŒ–ï¼šåˆç†åˆ†å¸ƒå‡å°‘å•ç‚¹å‹åŠ›
```

**ğŸ”¹ æ€§èƒ½ä¼˜åŒ–çš„é‡è¦æ€§**
```
ä¼˜åŒ–ç»´åº¦ï¼š
- è¿‡æ»¤æ•ˆç‡ï¼šé€šè¿‡ç´¢å¼•å’Œç¼“å­˜æå‡è¿‡æ»¤é€Ÿåº¦
- å†…å­˜ç®¡ç†ï¼šæ‰¹é‡å¤„ç†é¿å…å†…å­˜æº¢å‡º
- å¹¶è¡Œå¤„ç†ï¼šå¤šçº¿ç¨‹æå‡å¤„ç†èƒ½åŠ›
- æ™ºèƒ½ç¼“å­˜ï¼šå‡å°‘é‡å¤è®¡ç®—å’ŒæŸ¥è¯¢

ç›‘æ§æŒ‡æ ‡ï¼š
- ååé‡ï¼šå•ä½æ—¶é—´å¤„ç†çš„æ•°æ®é‡
- å»¶è¿Ÿï¼šä»æ•°æ®äº§ç”Ÿåˆ°è¿‡æ»¤å®Œæˆçš„æ—¶é—´
- æˆåŠŸç‡ï¼šè¿‡æ»¤å¤„ç†çš„æˆåŠŸæ¯”ä¾‹
- èµ„æºä½¿ç”¨ï¼šCPUã€å†…å­˜ã€ç½‘ç»œçš„ä½¿ç”¨æƒ…å†µ
```

### 12.3 å®é™…åº”ç”¨ä»·å€¼


**ä¸šåŠ¡åœºæ™¯åº”ç”¨**ï¼š
- **æ•°æ®ä»“åº“ETL**ï¼šç²¾ç¡®æ§åˆ¶è¿›å…¥æ•°ä»“çš„æ•°æ®è´¨é‡å’ŒèŒƒå›´
- **å®æ—¶æ•°æ®åŒæ­¥**ï¼šé«˜æ•ˆåŒæ­¥æ ¸å¿ƒä¸šåŠ¡æ•°æ®åˆ°ç¼“å­˜ç³»ç»Ÿ
- **æ•°æ®å®‰å…¨åˆè§„**ï¼šè¿‡æ»¤æ•æ„Ÿæ•°æ®ï¼Œæ»¡è¶³éšç§ä¿æŠ¤è¦æ±‚
- **å¤šç§Ÿæˆ·ç³»ç»Ÿ**ï¼šæŒ‰ç§Ÿæˆ·è·¯ç”±æ•°æ®åˆ°ä¸“å±å­˜å‚¨ç©ºé—´

**æŠ€æœ¯æ¶æ„ä»·å€¼**ï¼š
- **è§£è€¦åˆ**ï¼šé€šè¿‡è¿‡æ»¤è·¯ç”±å®ç°æ•°æ®æºå’Œç›®æ ‡çš„è§£è€¦
- **å¯æ‰©å±•**ï¼šåŠ¨æ€è·¯ç”±æ”¯æŒç³»ç»Ÿçš„æ°´å¹³æ‰©å±•
- **é«˜å¯ç”¨**ï¼šæ•…éšœåˆ‡æ¢ä¿è¯æ•°æ®åŒæ­¥çš„è¿ç»­æ€§
- **é«˜æ€§èƒ½**ï¼šæ™ºèƒ½è¿‡æ»¤å‡å°‘æ— æ•ˆæ•°æ®ä¼ è¾“

### 12.4 æœ€ä½³å®è·µæŒ‡å—


**é…ç½®è®¾è®¡åŸåˆ™**ï¼š
```
1. å…ˆç²—åç»†ï¼šåº“çº§â†’è¡¨çº§â†’è¡Œçº§â†’åˆ—çº§
2. å…ˆç®€åç¹ï¼šç®€å•æ¡ä»¶â†’å¤æ‚é€»è¾‘â†’è‡ªå®šä¹‰è„šæœ¬
3. å…ˆé™ååŠ¨ï¼šé™æ€é…ç½®â†’åŠ¨æ€è§„åˆ™â†’å®æ—¶è°ƒæ•´
4. å…ˆå•åå¤šï¼šå•ä¸€ç›®æ ‡â†’å¤šç›®æ ‡è·¯ç”±â†’æ™ºèƒ½åˆ†å‘
```

**è¿ç»´ç®¡ç†è¦ç‚¹**ï¼š
```
ç›‘æ§å‘Šè­¦ï¼š
âœ“ è®¾ç½®è¿‡æ»¤æˆåŠŸç‡å‘Šè­¦é˜ˆå€¼
âœ“ ç›‘æ§è·¯ç”±ç›®æ ‡çš„å¥åº·çŠ¶æ€
âœ“ è·Ÿè¸ªæ€§èƒ½æŒ‡æ ‡çš„å˜åŒ–è¶‹åŠ¿

é…ç½®ç®¡ç†ï¼š
âœ“ ç‰ˆæœ¬æ§åˆ¶è¿‡æ»¤è§„åˆ™çš„å˜æ›´
âœ“ ç°åº¦å‘å¸ƒæ–°çš„è·¯ç”±é…ç½®  
âœ“ å®šæœŸå®¡è®¡è¿‡æ»¤è„šæœ¬çš„å®‰å…¨æ€§

æ•…éšœå¤„ç†ï¼š
âœ“ åˆ¶å®šè¿‡æ»¤æ•…éšœçš„åº”æ€¥é¢„æ¡ˆ
âœ“ å‡†å¤‡è·¯ç”±åˆ‡æ¢çš„å¤‡ç”¨æ–¹æ¡ˆ
âœ“ å»ºç«‹æ€§èƒ½é—®é¢˜çš„è¯Šæ–­æµç¨‹
```

**æ ¸å¿ƒè®°å¿†å£è¯€**ï¼š
- å››å±‚è¿‡æ»¤å±‚å±‚ç­›ï¼Œåº“è¡¨è¡Œåˆ—æœ‰æ¡ç†
- è·¯ç”±è§„åˆ™æ™ºèƒ½åˆ†ï¼Œå†…å®¹æ—¶é—´è´Ÿè½½å‡
- è„šæœ¬è¿‡æ»¤å¤„å¤æ‚ï¼Œæ­£åˆ™è¡¨è¾¾æ›´ç²¾å‡†  
- åŠ¨æ€è°ƒæ•´ä¿çµæ´»ï¼Œæ€§èƒ½ä¼˜åŒ–æ˜¯å…³é”®
- ç›‘æ§å‘Šè­¦ä¸å¯å°‘ï¼Œæ•…éšœåˆ‡æ¢è¦åŠæ—¶