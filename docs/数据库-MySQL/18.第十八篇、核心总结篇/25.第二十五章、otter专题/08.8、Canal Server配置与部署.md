---
title: 8ã€Canal Serveré…ç½®ä¸éƒ¨ç½²
---
## ğŸ“š ç›®å½•


1. [Canal ServeråŸºç¡€æ¦‚å¿µ](#1-Canal-ServeråŸºç¡€æ¦‚å¿µ)
2. [Canal Serverå®‰è£…éƒ¨ç½²](#2-Canal-Serverå®‰è£…éƒ¨ç½²)
3. [Instanceå®ä¾‹é…ç½®è¯¦è§£](#3-Instanceå®ä¾‹é…ç½®è¯¦è§£)
4. [MySQLè¿æ¥å‚æ•°é…ç½®](#4-MySQLè¿æ¥å‚æ•°é…ç½®)
5. [Binlogè§£æé…ç½®](#5-Binlogè§£æé…ç½®)
6. [è¿‡æ»¤è§„åˆ™è®¾ç½®](#6-è¿‡æ»¤è§„åˆ™è®¾ç½®)
7. [ä½ç‚¹å­˜å‚¨é…ç½®](#7-ä½ç‚¹å­˜å‚¨é…ç½®)
8. [å¤šå®ä¾‹ç®¡ç†](#8-å¤šå®ä¾‹ç®¡ç†)
9. [Canal Adminç®¡ç†](#9-Canal-Adminç®¡ç†)
10. [ç›‘æ§æŒ‡æ ‡é…ç½®](#10-ç›‘æ§æŒ‡æ ‡é…ç½®)
11. [é«˜å¯ç”¨é…ç½®](#11-é«˜å¯ç”¨é…ç½®)
12. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#12-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸŒŠ Canal ServeråŸºç¡€æ¦‚å¿µ



### 1.1 ä»€ä¹ˆæ˜¯Canal Server



**Canal Server**ï¼šCanalçš„æ ¸å¿ƒæœåŠ¡ç»„ä»¶ï¼Œè´Ÿè´£è¿æ¥MySQLæ•°æ®åº“ï¼Œè§£æbinlogæ—¥å¿—ï¼Œå¹¶å°†æ•°æ®å˜æ›´æ¨é€ç»™å®¢æˆ·ç«¯ã€‚

```
ç®€å•ç†è§£ï¼š
Canal Server = MySQLæ•°æ®å˜æ›´çš„"ç›‘å¬å™¨" + "è½¬å‘å™¨"
å°±åƒä¸€ä¸ªä¸“é—¨ç›¯ç€MySQLæ•°æ®åº“çš„"å“¨å…µ"ï¼Œ
ä¸€æ—¦æœ‰æ•°æ®å˜åŒ–ï¼Œç«‹å³æŠ“å–å¹¶å‘ŠçŸ¥å…¶ä»–ç³»ç»Ÿ
```

**æ ¸å¿ƒåŠŸèƒ½**ï¼š
- ğŸ”¸ **è¿æ¥MySQL**ï¼šä¼ªè£…æˆMySQLçš„ä»åº“ï¼Œè·å–binlog
- ğŸ”¸ **è§£æbinlog**ï¼šå°†äºŒè¿›åˆ¶æ—¥å¿—è§£ææˆç»“æ„åŒ–æ•°æ®
- ğŸ”¸ **æ•°æ®è¿‡æ»¤**ï¼šæ ¹æ®è§„åˆ™è¿‡æ»¤ä¸éœ€è¦çš„æ•°æ®
- ğŸ”¸ **æ¨é€æ•°æ®**ï¼šå°†å˜æ›´æ•°æ®æ¨é€ç»™è®¢é˜…çš„å®¢æˆ·ç«¯

### 1.2 Canal Serveræ¶æ„ç»„æˆ



```
Canal Serveræ¶æ„å›¾ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Canal Server            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚  Instance1  â”‚ â”‚  Instance2  â”‚â”‚ â† å¤šä¸ªå®ä¾‹
â”‚  â”‚             â”‚ â”‚             â”‚â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚â”‚
â”‚  â”‚ â”‚Parser   â”‚ â”‚ â”‚ â”‚Parser   â”‚ â”‚â”‚ â† binlogè§£æå™¨
â”‚  â”‚ â”‚Sink     â”‚ â”‚ â”‚ â”‚Sink     â”‚ â”‚â”‚ â† æ•°æ®å¤„ç†å™¨
â”‚  â”‚ â”‚Store    â”‚ â”‚ â”‚ â”‚Store    â”‚ â”‚â”‚ â† å­˜å‚¨ç®¡ç†å™¨
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“               â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   MySQL1    â”‚ â”‚   MySQL2    â”‚ â† æºæ•°æ®åº“
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ ¸å¿ƒç»„ä»¶è¯´æ˜**ï¼š
- **Instanceï¼ˆå®ä¾‹ï¼‰**ï¼šä¸€ä¸ªInstanceå¯¹åº”ä¸€ä¸ªMySQLæ•°æ®åº“çš„åŒæ­¥ä»»åŠ¡
- **Parserï¼ˆè§£æå™¨ï¼‰**ï¼šè´Ÿè´£è§£æMySQLçš„binlogæ—¥å¿—
- **Sinkï¼ˆå¤„ç†å™¨ï¼‰**ï¼šè´Ÿè´£æ•°æ®çš„è¿‡æ»¤ã€è½¬æ¢ç­‰å¤„ç†
- **Storeï¼ˆå­˜å‚¨å™¨ï¼‰**ï¼šè´Ÿè´£ä½ç‚¹å­˜å‚¨å’Œæ•°æ®ç¼“å­˜

---

## 2. ğŸš€ Canal Serverå®‰è£…éƒ¨ç½²



### 2.1 ç¯å¢ƒå‡†å¤‡



**ç³»ç»Ÿè¦æ±‚**ï¼š
```
æ“ä½œç³»ç»Ÿï¼šLinuxï¼ˆæ¨èCentOS 7+ï¼‰
Javaç‰ˆæœ¬ï¼šJDK 1.8+
å†…å­˜è¦æ±‚ï¼šæœ€å°‘2GBï¼Œæ¨è4GB+
ç£ç›˜ç©ºé—´ï¼š10GB+ï¼ˆç”¨äºæ—¥å¿—å’Œä½ç‚¹å­˜å‚¨ï¼‰
```

**MySQLè¦æ±‚**ï¼š
```
MySQLç‰ˆæœ¬ï¼š5.6+ï¼ˆæ¨è5.7+ï¼‰
binlogæ ¼å¼ï¼šROWæ ¼å¼
binlogå¼€å¯ï¼šlog-bin = mysql-bin
ä»åº“æƒé™ï¼šREPLICATION SLAVE, REPLICATION CLIENT
```

### 2.2 ä¸‹è½½ä¸å®‰è£…



**æ­¥éª¤1ï¼šä¸‹è½½Canal**
```bash
# ä¸‹è½½Canal Server

wget https://github.com/alibaba/canal/releases/download/canal-1.1.6/canal.deployer-1.1.6.tar.gz

# åˆ›å»ºå®‰è£…ç›®å½•

mkdir -p /opt/canal
cd /opt/canal

# è§£å‹

tar -zxvf canal.deployer-1.1.6.tar.gz
```

**æ­¥éª¤2ï¼šç›®å½•ç»“æ„è§£æ**
```
canalå®‰è£…ç›®å½•ç»“æ„ï¼š
/opt/canal/
â”œâ”€â”€ bin/                    â† å¯åŠ¨è„šæœ¬
â”‚   â”œâ”€â”€ startup.sh         â† å¯åŠ¨è„šæœ¬
â”‚   â””â”€â”€ stop.sh           â† åœæ­¢è„šæœ¬
â”œâ”€â”€ conf/                  â† é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ canal.properties  â† ä¸»é…ç½®æ–‡ä»¶
â”‚   â””â”€â”€ example/          â† å®ä¾‹é…ç½®ç›®å½•
â”‚       â””â”€â”€ instance.properties
â”œâ”€â”€ lib/                   â† ä¾èµ–åŒ…
â”œâ”€â”€ logs/                  â† æ—¥å¿—ç›®å½•
â””â”€â”€ plugin/               â† æ’ä»¶ç›®å½•
```

### 2.3 åŸºç¡€é…ç½®



**é…ç½®canal.propertiesï¼ˆä¸»é…ç½®ï¼‰**ï¼š
```properties
# Canal Serverçš„åŸºæœ¬é…ç½®

canal.port = 11111
canal.metrics.pull.port = 11112

# å®ä¾‹é…ç½®

canal.destinations = example
canal.conf.dir = ../conf
canal.auto.scan = true
canal.auto.scan.interval = 5

# ZooKeeperé…ç½®ï¼ˆé›†ç¾¤æ¨¡å¼éœ€è¦ï¼‰

canal.zkServers = 127.0.0.1:2181
```

> ğŸ’¡ **é…ç½®è¯´æ˜**ï¼š
> - `canal.port`ï¼šCanal Serverç›‘å¬ç«¯å£
> - `canal.destinations`ï¼šå®ä¾‹åç§°åˆ—è¡¨
> - `canal.auto.scan`ï¼šæ˜¯å¦è‡ªåŠ¨æ‰«æå®ä¾‹é…ç½®å˜æ›´

---

## 3. âš™ï¸ Instanceå®ä¾‹é…ç½®è¯¦è§£



### 3.1 ä»€ä¹ˆæ˜¯Instance



**Instanceï¼ˆå®ä¾‹ï¼‰**ï¼šCanalä¸­ä¸€ä¸ªç‹¬ç«‹çš„åŒæ­¥ä»»åŠ¡å•å…ƒï¼Œæ¯ä¸ªInstanceå¯¹åº”ä¸€ä¸ªMySQLæ•°æ®åº“çš„binlogè§£æä»»åŠ¡ã€‚

```
ç†è§£Instanceï¼š
ä¸€ä¸ªCanal Serverå¯ä»¥ç®¡ç†å¤šä¸ªInstance
æ¯ä¸ªInstance = ä¸€ä¸ªMySQLæ•°æ®åº“çš„"ä¸“å±ç›‘å¬å™¨"
ä¸åŒInstanceä¹‹é—´å®Œå…¨éš”ç¦»ï¼Œäº’ä¸å½±å“
```

### 3.2 å®ä¾‹é…ç½®æ–‡ä»¶ç»“æ„



**åˆ›å»ºå®ä¾‹é…ç½®**ï¼š
```bash
# å¤åˆ¶ç¤ºä¾‹é…ç½®

cd /opt/canal/conf
cp -r example mydb

# ç¼–è¾‘å®ä¾‹é…ç½®

vim mydb/instance.properties
```

### 3.3 æ ¸å¿ƒå®ä¾‹é…ç½®



**instance.propertieså®Œæ•´é…ç½®**ï¼š
```properties
################################################


# MySQLè¿æ¥é…ç½®


################################################


canal.instance.mysql.slaveId=20

# MySQLä¸»åº“è¿æ¥ä¿¡æ¯

canal.instance.master.address=192.168.1.100:3306
canal.instance.master.journal.name=
canal.instance.master.position=
canal.instance.master.timestamp=
canal.instance.master.gtid=

# MySQLè¿æ¥è´¦å·

canal.instance.dbUsername=canal
canal.instance.dbPassword=canal123
canal.instance.connectionCharset=UTF-8

# é»˜è®¤æ•°æ®åº“

canal.instance.defaultDatabaseName=test

################################################


# æ•°æ®è§£æé…ç½®


################################################


# è§£æè¡¨åè§„åˆ™

canal.instance.filter.regex=.*\\..*

# é»‘åå•ï¼ˆä¸è§£æçš„è¡¨ï¼‰

canal.instance.filter.black.regex=mysql\\.slave_.*

################################################


# ä½ç‚¹å­˜å‚¨é…ç½®


################################################


# ä½ç‚¹å­˜å‚¨æ¨¡å¼ï¼šmemory, file, zookeeper, mixed

canal.instance.memory.buffer.size=16384
canal.instance.memory.buffer.memunit=1024

################################################


# é«˜çº§é…ç½®


################################################


# æ‰¹é‡å¤§å°

canal.instance.memory.batch.mode=MEMSIZE
canal.instance.memory.batch.timeout=1000

# ç½‘ç»œé…ç½®

canal.instance.network.receiveBufferSize=16384
canal.instance.network.sendBufferSize=16384
```

> ğŸ“ **é‡è¦å‚æ•°è¯´æ˜**ï¼š
> - `slaveId`ï¼šæ¨¡æ‹Ÿä»åº“çš„å”¯ä¸€IDï¼Œä¸èƒ½ä¸çœŸå®ä»åº“é‡å¤
> - `master.address`ï¼šMySQLä¸»åº“åœ°å€
> - `filter.regex`ï¼šè¡¨åè¿‡æ»¤æ­£åˆ™è¡¨è¾¾å¼
> - `memory.buffer.size`ï¼šå†…å­˜ç¼“å†²åŒºå¤§å°

---

## 4. ğŸ”— MySQLè¿æ¥å‚æ•°é…ç½®



### 4.1 MySQLç”¨æˆ·æƒé™è®¾ç½®



**åˆ›å»ºCanalä¸“ç”¨ç”¨æˆ·**ï¼š
```sql
-- åˆ›å»ºcanalç”¨æˆ·
CREATE USER 'canal'@'%' IDENTIFIED BY 'canal123';

-- æˆæƒå¤åˆ¶æƒé™
GRANT REPLICATION SLAVE, REPLICATION CLIENT ON *.* TO 'canal'@'%';

-- æˆæƒæŸ¥è¯¢æƒé™ï¼ˆç”¨äºè§£æè¡¨ç»“æ„ï¼‰
GRANT SELECT ON *.* TO 'canal'@'%';

-- åˆ·æ–°æƒé™
FLUSH PRIVILEGES;
```

### 4.2 è¿æ¥å‚æ•°è¯¦è§£



**åŸºç¡€è¿æ¥é…ç½®**ï¼š
```properties
# MySQLæœåŠ¡å™¨åœ°å€å’Œç«¯å£

canal.instance.master.address=192.168.1.100:3306

# è¿æ¥ç”¨æˆ·åå’Œå¯†ç 

canal.instance.dbUsername=canal
canal.instance.dbPassword=canal123

# å­—ç¬¦é›†è®¾ç½®

canal.instance.connectionCharset=UTF-8

# è¿æ¥è¶…æ—¶è®¾ç½®

canal.instance.defaultDatabaseName=test
canal.instance.connectionCharset=UTF-8
```

### 4.3 SlaveIdé…ç½®è§„åˆ™



**SlaveIdé€‰æ‹©åŸåˆ™**ï¼š
```
SlaveId = Canalå®ä¾‹çš„å”¯ä¸€æ ‡è¯†ç¬¦

é€‰æ‹©è§„åˆ™ï¼š
1. ä¸èƒ½ä¸ç°æœ‰MySQLä»åº“çš„server-idé‡å¤
2. å»ºè®®ä½¿ç”¨å¤§æ•°å€¼ï¼Œå¦‚ï¼š1001ã€1002...
3. åŒä¸€ä¸ªMySQLä¸»åº“çš„ä¸åŒCanalå®ä¾‹å¿…é¡»ä½¿ç”¨ä¸åŒSlaveId

ç¤ºä¾‹é…ç½®ï¼š
MySQLä¸»åº“ï¼šserver-id = 1
MySQLä»åº“1ï¼šserver-id = 2
MySQLä»åº“2ï¼šserver-id = 3
Canalå®ä¾‹1ï¼šslaveId = 1001
Canalå®ä¾‹2ï¼šslaveId = 1002
```

### 4.4 è¿æ¥æ± é…ç½®



**é«˜çº§è¿æ¥å‚æ•°**ï¼š
```properties
# è¿æ¥æ± å¤§å°

canal.instance.connectionCharset=UTF-8
canal.instance.defaultDatabaseName=test

# ç½‘ç»œå‚æ•°

canal.instance.network.receiveBufferSize=16384
canal.instance.network.sendBufferSize=16384
canal.instance.network.soTimeout=30

# å¿ƒè·³æ£€æµ‹

canal.instance.detect.heartbeat=true
canal.instance.detect.heartbeat.period=3000
```

---

## 5. ğŸ“Š Binlogè§£æé…ç½®



### 5.1 Binlogè§£æåŸç†



**è§£ææµç¨‹**ï¼š
```
MySQL Binlogè§£ææµç¨‹ï¼š
MySQLä¸»åº“ â†’ ç”ŸæˆBinlog â†’ Canalæ¨¡æ‹Ÿä»åº“ â†’ è·å–Binlog â†’ è§£ææˆäº‹ä»¶ â†’ æ¨é€ç»™å®¢æˆ·ç«¯

Binlogæ ¼å¼è¦æ±‚ï¼š
1. binlog_format = ROWï¼ˆå¿…é¡»ï¼‰
2. binlog_row_image = FULLï¼ˆæ¨èï¼‰
3. log-bin = mysql-binï¼ˆå¼€å¯binlogï¼‰
```

### 5.2 è§£æå™¨é…ç½®



**Parserè§£æå™¨é…ç½®**ï¼š
```properties
# è§£æå™¨ç±»å‹

canal.instance.parser.parallel=true
canal.instance.parser.parallelBufferSize=256

# è§£æè¶…æ—¶

canal.instance.parser.parallelThreadSize=60
canal.instance.parser.isGTIDMode=false

# äº‹ä»¶è§£æ

canal.instance.parser.supportBinlogFormats=ROW,STATEMENT,MIXED
canal.instance.parser.supportBinlogImages=FULL,MINIMAL,NOBLOB
```

### 5.3 ä½ç‚¹ç®¡ç†é…ç½®



**èµ·å§‹ä½ç‚¹è®¾ç½®**ï¼š
```properties
# æŒ‡å®šèµ·å§‹binlogæ–‡ä»¶å

canal.instance.master.journal.name=mysql-bin.000001

# æŒ‡å®šèµ·å§‹ä½ç‚¹

canal.instance.master.position=154

# æŒ‡å®šèµ·å§‹æ—¶é—´æˆ³ï¼ˆä¼˜å…ˆçº§ä½äºpositionï¼‰

canal.instance.master.timestamp=1640995200000

# GTIDæ¨¡å¼é…ç½®

canal.instance.master.gtid=
```

**ä½ç‚¹è·å–æ–¹æ³•**ï¼š
```sql
-- æŸ¥çœ‹å½“å‰binlogæ–‡ä»¶å’Œä½ç‚¹
SHOW MASTER STATUS;

-- æŸ¥çœ‹binlogæ–‡ä»¶åˆ—è¡¨
SHOW BINARY LOGS;

-- æ ¹æ®æ—¶é—´æŸ¥æ‰¾ä½ç‚¹
SHOW BINLOG EVENTS IN 'mysql-bin.000001' FROM 154;
```

---

## 6. ğŸ¯ è¿‡æ»¤è§„åˆ™è®¾ç½®



### 6.1 è¿‡æ»¤è§„åˆ™æ¦‚å¿µ



**è¿‡æ»¤è§„åˆ™**ï¼šå†³å®šCanalè§£æå“ªäº›åº“è¡¨çš„æ•°æ®å˜æ›´ï¼Œå“ªäº›æ•°æ®éœ€è¦å¿½ç•¥ã€‚

```
è¿‡æ»¤ä½œç”¨ï¼š
1. å‡å°‘ä¸å¿…è¦çš„æ•°æ®è§£æï¼Œæé«˜æ€§èƒ½
2. åªå…³æ³¨ä¸šåŠ¡ç›¸å…³çš„è¡¨ï¼Œé¿å…ç³»ç»Ÿè¡¨å¹²æ‰°
3. æ”¯æŒç²¾ç¡®åˆ°å­—æ®µçº§åˆ«çš„è¿‡æ»¤
```

### 6.2 åŸºç¡€è¿‡æ»¤é…ç½®



**ç™½åå•è¿‡æ»¤ï¼ˆfilter.regexï¼‰**ï¼š
```properties
# è§£ææ‰€æœ‰åº“è¡¨ï¼ˆé»˜è®¤ï¼‰

canal.instance.filter.regex=.*\\..*

# åªè§£æç‰¹å®šåº“

canal.instance.filter.regex=mydb\\..*

# åªè§£æç‰¹å®šè¡¨

canal.instance.filter.regex=mydb\\.user,mydb\\.order

# æ”¯æŒæ­£åˆ™è¡¨è¾¾å¼

canal.instance.filter.regex=mydb\\.(user|order).*
```

**é»‘åå•è¿‡æ»¤ï¼ˆfilter.black.regexï¼‰**ï¼š
```properties
# æ’é™¤ç³»ç»Ÿåº“è¡¨

canal.instance.filter.black.regex=mysql\\..*,information_schema\\..*

# æ’é™¤ç‰¹å®šè¡¨

canal.instance.filter.black.regex=mydb\\.temp_.*,mydb\\.log_.*

# ç»„åˆæ’é™¤

canal.instance.filter.black.regex=mysql\\.slave_.*,performance_schema\\..*
```

### 6.3 é«˜çº§è¿‡æ»¤è§„åˆ™



**å¤šå®ä¾‹è¿‡æ»¤ç¤ºä¾‹**ï¼š
```properties
# å®ä¾‹1ï¼šåªåŒæ­¥ç”¨æˆ·ç›¸å…³è¡¨

canal.instance.filter.regex=userdb\\.(user|user_profile|user_log)

# å®ä¾‹2ï¼šåªåŒæ­¥è®¢å•ç›¸å…³è¡¨  

canal.instance.filter.regex=orderdb\\.(order|order_item|payment)

# å®ä¾‹3ï¼šåŒæ­¥å¤šä¸ªåº“çš„æŒ‡å®šè¡¨

canal.instance.filter.regex=(db1|db2)\\.(table1|table2)
```

**è¿‡æ»¤è§„åˆ™æµ‹è¯•**ï¼š
```bash
# å¯åŠ¨CanalåæŸ¥çœ‹æ—¥å¿—éªŒè¯è¿‡æ»¤è§„åˆ™

tail -f /opt/canal/logs/example/example.log

# å…³é”®æ—¥å¿—ä¿¡æ¯ï¼š

# filter matched: db.table

# filter not matched: db.table

```

---

## 7. ğŸ’¾ ä½ç‚¹å­˜å‚¨é…ç½®



### 7.1 ä½ç‚¹å­˜å‚¨æ¦‚å¿µ



**ä½ç‚¹ï¼ˆPositionï¼‰**ï¼šè®°å½•Canalå·²ç»è§£æåˆ°MySQL binlogçš„å“ªä¸ªä½ç½®ï¼Œç”¨äºæ–­ç‚¹ç»­ä¼ ã€‚

```
ä½ç‚¹ä½œç”¨ï¼š
1. è®°å½•è§£æè¿›åº¦ï¼Œé¿å…é‡å¤è§£æ
2. æ”¯æŒCanalé‡å¯åä»ä¸Šæ¬¡ä½ç½®ç»§ç»­
3. ä¿è¯æ•°æ®ä¸ä¸¢å¤±ã€ä¸é‡å¤
```

### 7.2 å­˜å‚¨æ¨¡å¼å¯¹æ¯”



| å­˜å‚¨æ¨¡å¼ | **ç‰¹ç‚¹** | **é€‚ç”¨åœºæ™¯** | **ä¼˜ç¼ºç‚¹** |
|---------|----------|-------------|-----------|
| ğŸ”¸ **memory** | `å†…å­˜å­˜å‚¨` | `æµ‹è¯•ç¯å¢ƒ` | `æ€§èƒ½æœ€é«˜ï¼Œé‡å¯ä¸¢å¤±` |
| ğŸ”¸ **file** | `æœ¬åœ°æ–‡ä»¶å­˜å‚¨` | `å•æœºéƒ¨ç½²` | `ç®€å•å¯é ï¼Œä¸æ”¯æŒé›†ç¾¤` |
| ğŸ”¸ **zookeeper** | `ZKé›†ç¾¤å­˜å‚¨` | `é›†ç¾¤éƒ¨ç½²` | `é«˜å¯ç”¨ï¼Œä½†ä¾èµ–ZK` |
| ğŸ”¸ **mixed** | `æ··åˆæ¨¡å¼` | `ç”Ÿäº§ç¯å¢ƒ` | `å…¼é¡¾æ€§èƒ½å’Œå¯é æ€§` |

### 7.3 ä½ç‚¹å­˜å‚¨é…ç½®



**Fileæ¨¡å¼é…ç½®**ï¼š
```properties
# å¯ç”¨æ–‡ä»¶å­˜å‚¨

canal.instance.memory.buffer.size=16384

# æ–‡ä»¶å­˜å‚¨è·¯å¾„

canal.file.data.dir = ../conf
canal.file.flush.period = 1000
```

**ZooKeeperæ¨¡å¼é…ç½®**ï¼š
```properties
# ZKé›†ç¾¤åœ°å€

canal.zkServers=192.168.1.101:2181,192.168.1.102:2181

# ZKå­˜å‚¨è·¯å¾„

canal.zookeeper.flush.period=1000
canal.instance.memory.buffer.size=16384
```

**Mixedæ¨¡å¼é…ç½®**ï¼š
```properties
# æ··åˆæ¨¡å¼ï¼šå†…å­˜+æ–‡ä»¶

canal.instance.memory.buffer.size=32768
canal.instance.memory.buffer.memunit=1024

# æ‰¹æ¬¡é…ç½®

canal.instance.memory.batch.mode=MEMSIZE
canal.instance.memory.batch.timeout=1000
```

### 7.4 ä½ç‚¹ç®¡ç†å‘½ä»¤



**æŸ¥çœ‹ä½ç‚¹ä¿¡æ¯**ï¼š
```bash
# é€šè¿‡Canal AdminæŸ¥çœ‹

curl http://127.0.0.1:11110/api/v1/canal/config/example

# æŸ¥çœ‹æ–‡ä»¶å­˜å‚¨çš„ä½ç‚¹

cat /opt/canal/conf/example/meta.dat
```

---

## 8. ğŸ¢ å¤šå®ä¾‹ç®¡ç†



### 8.1 å¤šå®ä¾‹æ¶æ„



**å¤šå®ä¾‹éƒ¨ç½²æ¨¡å¼**ï¼š
```
å•Canal Serverç®¡ç†å¤šä¸ªInstanceï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Canal Server            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚Instance1  â”‚ â”‚  Instance2    â”‚â”‚
â”‚  â”‚(userdb)   â”‚ â”‚  (orderdb)    â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚Instance3  â”‚ â”‚  Instance4    â”‚â”‚
â”‚  â”‚(logdb)    â”‚ â”‚  (configdb)   â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 8.2 å®ä¾‹é…ç½®ç®¡ç†



**åˆ›å»ºå¤šä¸ªå®ä¾‹**ï¼š
```bash
cd /opt/canal/conf

# åˆ›å»ºç”¨æˆ·åº“å®ä¾‹

cp -r example userdb
vim userdb/instance.properties

# åˆ›å»ºè®¢å•åº“å®ä¾‹

cp -r example orderdb  
vim orderdb/instance.properties

# åˆ›å»ºæ—¥å¿—åº“å®ä¾‹

cp -r example logdb
vim logdb/instance.properties
```

**ä¸»é…ç½®æ–‡ä»¶æ›´æ–°**ï¼š
```properties
# æ›´æ–°canal.properties

canal.destinations = userdb,orderdb,logdb

# å®ä¾‹è‡ªåŠ¨å‘ç°

canal.auto.scan = true
canal.auto.scan.interval = 5
```

### 8.3 å®ä¾‹é…ç½®ç¤ºä¾‹



**ç”¨æˆ·åº“å®ä¾‹é…ç½®**ï¼š
```properties
# userdb/instance.properties

canal.instance.mysql.slaveId=1001
canal.instance.master.address=192.168.1.100:3306
canal.instance.dbUsername=canal
canal.instance.dbPassword=canal123
canal.instance.filter.regex=userdb\\..*
```

**è®¢å•åº“å®ä¾‹é…ç½®**ï¼š
```properties
# orderdb/instance.properties  

canal.instance.mysql.slaveId=1002
canal.instance.master.address=192.168.1.101:3306
canal.instance.dbUsername=canal
canal.instance.dbPassword=canal123
canal.instance.filter.regex=orderdb\\..*
```

### 8.4 å®ä¾‹å¯åœç®¡ç†



**å¯åŠ¨æŒ‡å®šå®ä¾‹**ï¼š
```bash
# å¯åŠ¨æ‰€æœ‰å®ä¾‹

sh bin/startup.sh

# æŸ¥çœ‹å®ä¾‹çŠ¶æ€

curl http://127.0.0.1:11110/api/v1/canal/config
```

**å®ä¾‹ç›‘æ§å‘½ä»¤**ï¼š
```bash
# æŸ¥çœ‹å®ä¾‹è¿è¡ŒçŠ¶æ€

tail -f logs/userdb/userdb.log
tail -f logs/orderdb/orderdb.log

# æŸ¥çœ‹å®ä¾‹è§£æä½ç‚¹

curl http://127.0.0.1:11110/api/v1/canal/config/userdb
```

---

## 9. ğŸ›ï¸ Canal Adminç®¡ç†



### 9.1 Canal Adminæ¦‚è¿°



**Canal Admin**ï¼šCanalçš„Webç®¡ç†ç•Œé¢ï¼Œæä¾›å¯è§†åŒ–çš„é…ç½®ç®¡ç†å’Œç›‘æ§åŠŸèƒ½ã€‚

```
Canal AdminåŠŸèƒ½ï¼š
1. å®ä¾‹é…ç½®ç®¡ç†ï¼šå›¾å½¢åŒ–é…ç½®Canalå®ä¾‹
2. æœåŠ¡å™¨ç›‘æ§ï¼šç›‘æ§Canal Serverè¿è¡ŒçŠ¶æ€
3. æ—¥å¿—æŸ¥çœ‹ï¼šåœ¨çº¿æŸ¥çœ‹Canalè¿è¡Œæ—¥å¿—
4. ä½ç‚¹ç®¡ç†ï¼šæŸ¥çœ‹å’Œç®¡ç†è§£æä½ç‚¹
```

### 9.2 Canal Adminå®‰è£…



**ä¸‹è½½å®‰è£…**ï¼š
```bash
# ä¸‹è½½Canal Admin

wget https://github.com/alibaba/canal/releases/download/canal-1.1.6/canal.admin-1.1.6.tar.gz

# è§£å‹å®‰è£…

mkdir -p /opt/canal-admin
cd /opt/canal-admin
tar -zxvf canal.admin-1.1.6.tar.gz
```

**æ•°æ®åº“åˆå§‹åŒ–**ï¼š
```sql
-- åˆ›å»ºcanal_manageræ•°æ®åº“
CREATE DATABASE canal_manager DEFAULT CHARSET utf8mb4;

-- å¯¼å…¥è¡¨ç»“æ„
USE canal_manager;
SOURCE /opt/canal-admin/conf/canal_manager.sql;
```

### 9.3 Canal Adminé…ç½®



**application.ymlé…ç½®**ï¼š
```yaml
server:
  port: 8089

spring:
  jackson:
    date-format: yyyy-MM-dd HH:mm:ss
    time-zone: GMT+8

# æ•°æ®åº“é…ç½®

spring:
  datasource:
    address: 127.0.0.1:3306
    database: canal_manager
    username: root
    password: 123456
    driver-class-name: com.mysql.jdbc.Driver

# Canal Serveré…ç½®

canal:
  adminUser: admin
  adminPasswd: admin
```

### 9.4 Webç®¡ç†åŠŸèƒ½



**ä¸»è¦ç®¡ç†åŠŸèƒ½**ï¼š
- âœ… **é›†ç¾¤ç®¡ç†**ï¼šç®¡ç†å¤šä¸ªCanal ServerèŠ‚ç‚¹
- âœ… **å®ä¾‹ç®¡ç†**ï¼šåˆ›å»ºã€ç¼–è¾‘ã€åˆ é™¤å®ä¾‹é…ç½®
- âœ… **ç›‘æ§é¢æ¿**ï¼šå®æ—¶ç›‘æ§è§£æè¿›åº¦å’Œæ€§èƒ½
- âœ… **æ—¥å¿—æŸ¥çœ‹**ï¼šåœ¨çº¿æŸ¥çœ‹è¿è¡Œæ—¥å¿—å’Œé”™è¯¯ä¿¡æ¯
- âœ… **ä½ç‚¹ç®¡ç†**ï¼šæŸ¥çœ‹å½“å‰è§£æä½ç½®ï¼Œæ”¯æŒä½ç‚¹é‡ç½®

**è®¿é—®ç®¡ç†ç•Œé¢**ï¼š
```bash
# å¯åŠ¨Canal Admin

sh bin/startup.sh

# è®¿é—®Webç•Œé¢

http://localhost:8089
ç”¨æˆ·åï¼šadmin
å¯†ç ï¼šadmin
```

---

## 10. ğŸ“ˆ ç›‘æ§æŒ‡æ ‡é…ç½®



### 10.1 ç›‘æ§æŒ‡æ ‡æ¦‚è¿°



**æ ¸å¿ƒç›‘æ§æŒ‡æ ‡**ï¼š
```
æ€§èƒ½æŒ‡æ ‡ï¼š
- è§£æé€Ÿåº¦ï¼šæ¯ç§’å¤„ç†çš„binlogäº‹ä»¶æ•°
- å»¶è¿Ÿæ—¶é—´ï¼šCanalè§£æå»¶è¿Ÿå½“å‰æ—¶é—´çš„å·®å€¼
- å†…å­˜ä½¿ç”¨ï¼šCanal Serverå†…å­˜å ç”¨æƒ…å†µ

ä¸šåŠ¡æŒ‡æ ‡ï¼š
- ä½ç‚¹è¿›åº¦ï¼šå½“å‰è§£æåˆ°çš„binlogä½ç½®
- é”™è¯¯ç»Ÿè®¡ï¼šè§£æé”™è¯¯ã€è¿æ¥é”™è¯¯æ¬¡æ•°
- å®¢æˆ·ç«¯è¿æ¥ï¼šå½“å‰è¿æ¥çš„å®¢æˆ·ç«¯æ•°é‡
```

### 10.2 Metricsç«¯ç‚¹é…ç½®



**å¼€å¯ç›‘æ§ç«¯ç‚¹**ï¼š
```properties
# canal.properties

canal.metrics.pull.port = 11112
canal.metrics.pull.enabled = true

# ç›‘æ§æ•°æ®è¾“å‡ºæ ¼å¼

canal.metrics.pull.period = 5
```

**ç›‘æ§æ•°æ®è·å–**ï¼š
```bash
# è·å–ç›‘æ§æ•°æ®

curl http://127.0.0.1:11112/metrics

# è¾“å‡ºç¤ºä¾‹ï¼š

canal_instance_parser_mode{instance="example"} 1.0
canal_instance_put_rows{instance="example"} 12345.0
canal_instance_get_rows{instance="example"} 12345.0
```

### 10.3 é›†æˆPrometheusç›‘æ§



**Prometheusé…ç½®**ï¼š
```yaml
# prometheus.yml

scrape_configs:
  - job_name: 'canal'
    static_configs:
      - targets: ['127.0.0.1:11112']
    scrape_interval: 15s
    metrics_path: /metrics
```

**Grafanaä»ªè¡¨æ¿**ï¼š
```json
{
  "dashboard": {
    "title": "Canalç›‘æ§",
    "panels": [
      {
        "title": "è§£æé€Ÿåº¦",
        "targets": [
          {
            "expr": "rate(canal_instance_get_rows[5m])"
          }
        ]
      }
    ]
  }
}
```

### 10.4 æ—¥å¿—ç›‘æ§é…ç½®



**æ—¥å¿—çº§åˆ«é…ç½®**ï¼š
```properties
# logback.xml

<logger name="com.alibaba.otter.canal" level="INFO"/>
<logger name="com.alibaba.otter.canal.parse" level="WARN"/>

# é”™è¯¯æ—¥å¿—å•ç‹¬è¾“å‡º

<appender name="errorAppender" class="ch.qos.logback.core.rolling.RollingFileAppender">
    <file>../logs/canal/error.log</file>
    <filter class="ch.qos.logback.classic.filter.LevelFilter">
        <level>ERROR</level>
        <onMatch>ACCEPT</onMatch>
        <onMismatch>DENY</onMismatch>
    </filter>
</appender>
```

---

## 11. ğŸ—ï¸ é«˜å¯ç”¨é…ç½®



### 11.1 é«˜å¯ç”¨æ¶æ„



**Canal HAæ¶æ„**ï¼š
```
Canalé«˜å¯ç”¨éƒ¨ç½²æ¶æ„ï¼š
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ ZooKeeper   â”‚
        â”‚   Cluster   â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚         â”‚         â”‚
â”Œâ”€â”€â”€â–¼â”€â”€â”€â” â”Œâ”€â”€â”€â–¼â”€â”€â”€â” â”Œâ”€â”€â”€â–¼â”€â”€â”€â”
â”‚Canal  â”‚ â”‚Canal  â”‚ â”‚Canal  â”‚
â”‚Server1â”‚ â”‚Server2â”‚ â”‚Server3â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚         â”‚         â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
        â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”
        â”‚   MySQL   â”‚
        â”‚  Master   â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 11.2 ZooKeeperé›†ç¾¤é…ç½®



**ZKé›†ç¾¤æ­å»º**ï¼š
```bash
# ZooKeeperé…ç½®æ–‡ä»¶ zoo.cfg

tickTime=2000
initLimit=10  
syncLimit=5
dataDir=/opt/zookeeper/data
clientPort=2181

# é›†ç¾¤èŠ‚ç‚¹é…ç½®

server.1=192.168.1.101:2888:3888
server.2=192.168.1.102:2888:3888  
server.3=192.168.1.103:2888:3888
```

### 11.3 Canal HAé…ç½®



**ä¸»é…ç½®æ–‡ä»¶**ï¼š
```properties
# canal.properties (æ¯ä¸ªCanal Serverç›¸åŒé…ç½®)

canal.zkServers=192.168.1.101:2181,192.168.1.102:2181,192.168.1.103:2181

# å¼€å¯HAæ¨¡å¼

canal.serverMode = tcp
canal.zookeeper.flush.period = 1000

# å®ä¾‹é…ç½®

canal.destinations = example
canal.auto.scan = true
```

**å®ä¾‹HAé…ç½®**ï¼š
```properties
# instance.properties (æ¯ä¸ªServerç›¸åŒé…ç½®)

canal.instance.mysql.slaveId=20

# HAæ¨¡å¼é…ç½®

canal.instance.ha.enable = true
canal.instance.ha.heartbeatHaEnable = true
canal.instance.ha.heartbeatInterval = 5000
```

### 11.4 æ•…éšœåˆ‡æ¢æµ‹è¯•



**HAåˆ‡æ¢éªŒè¯**ï¼š
```bash
# 1. å¯åŠ¨æ‰€æœ‰Canal ServerèŠ‚ç‚¹

sh bin/startup.sh

# 2. æŸ¥çœ‹ZKä¸­çš„leaderä¿¡æ¯

/opt/zookeeper/bin/zkCli.sh
ls /otter/canal/destinations/example/running

# 3. åœæ­¢å½“å‰leaderèŠ‚ç‚¹

sh bin/stop.sh

# 4. è§‚å¯Ÿå…¶ä»–èŠ‚ç‚¹è‡ªåŠ¨æ¥ç®¡

tail -f logs/example/example.log
```

**åˆ‡æ¢ç›‘æ§**ï¼š
```bash
# ç›‘æ§è„šæœ¬

#!/bin/bash

while true; do
    leader=$(zkCli.sh <<< "get /otter/canal/destinations/example/running" | grep -E "192.168")
    echo "$(date): Current leader: $leader"
    sleep 10
done
```

---

## 12. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“



### 12.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ



```
ğŸ”¸ Canal Serverï¼šMySQL binlogè§£æå’Œæ¨é€çš„æ ¸å¿ƒæœåŠ¡
ğŸ”¸ Instanceå®ä¾‹ï¼šç‹¬ç«‹çš„åŒæ­¥ä»»åŠ¡å•å…ƒï¼Œä¸€ä¸ªå®ä¾‹å¯¹åº”ä¸€ä¸ªMySQL
ğŸ”¸ ä½ç‚¹ç®¡ç†ï¼šè®°å½•è§£æè¿›åº¦ï¼Œä¿è¯æ•°æ®ä¸ä¸¢å¤±ä¸é‡å¤  
ğŸ”¸ è¿‡æ»¤è§„åˆ™ï¼šæ§åˆ¶è§£æå“ªäº›åº“è¡¨ï¼Œæé«˜æ€§èƒ½å’Œç²¾ç¡®æ€§
ğŸ”¸ é«˜å¯ç”¨é…ç½®ï¼šé€šè¿‡ZKé›†ç¾¤å®ç°CanalæœåŠ¡çš„æ•…éšœè‡ªåŠ¨åˆ‡æ¢
```

### 12.2 å…³é”®é…ç½®è¦ç‚¹



**ğŸ”¹ MySQLè¿æ¥é…ç½®**
```
æ ¸å¿ƒè¦ç‚¹ï¼š
- åˆ›å»ºä¸“ç”¨canalç”¨æˆ·ï¼Œæˆäºˆå¤åˆ¶æƒé™
- slaveIdä¸èƒ½ä¸ç°æœ‰ä»åº“é‡å¤
- ç¡®ä¿MySQLå¼€å¯ROWæ ¼å¼binlog
- æ­£ç¡®é…ç½®èµ·å§‹è§£æä½ç‚¹
```

**ğŸ”¹ å®ä¾‹ç®¡ç†é…ç½®**  
```
æ ¸å¿ƒè¦ç‚¹ï¼š
- ä¸€ä¸ªå®ä¾‹å¯¹åº”ä¸€ä¸ªMySQLæ•°æ®åº“
- åˆç†è®¾ç½®è¿‡æ»¤è§„åˆ™ï¼Œåªè§£æéœ€è¦çš„è¡¨
- é€‰æ‹©é€‚åˆçš„ä½ç‚¹å­˜å‚¨æ¨¡å¼
- å¤šå®ä¾‹é—´é…ç½®éš”ç¦»ï¼Œé¿å…å†²çª
```

**ğŸ”¹ ç”Ÿäº§ç¯å¢ƒé…ç½®**
```
æ ¸å¿ƒè¦ç‚¹ï¼š
- ä½¿ç”¨Canal Adminè¿›è¡Œå¯è§†åŒ–ç®¡ç†
- é…ç½®å®Œå–„çš„ç›‘æ§å’Œå‘Šè­¦
- éƒ¨ç½²HAæ¶æ„ä¿è¯é«˜å¯ç”¨
- å®šæœŸå¤‡ä»½ä½ç‚¹ä¿¡æ¯å’Œé…ç½®æ–‡ä»¶
```

### 12.3 å®é™…åº”ç”¨ä»·å€¼



- **æ•°æ®åŒæ­¥**ï¼šå®æ—¶åŒæ­¥MySQLæ•°æ®åˆ°å…¶ä»–ç³»ç»Ÿ
- **æ•°æ®åˆ†æ**ï¼šå®æ—¶åˆ†æä¸šåŠ¡æ•°æ®å˜æ›´è¶‹åŠ¿
- **ç¼“å­˜æ›´æ–°**ï¼šæ•°æ®å˜æ›´æ—¶è‡ªåŠ¨æ›´æ–°Redisç¼“å­˜
- **æœç´¢å¼•æ“**ï¼šå®æ—¶æ›´æ–°Elasticsearchç´¢å¼•
- **æ¶ˆæ¯æ¨é€**ï¼šæ•°æ®å˜æ›´è§¦å‘ä¸šåŠ¡æ¶ˆæ¯æ¨é€

**æ ¸å¿ƒè®°å¿†**ï¼š
- Canal Serveræ˜¯MySQLæ•°æ®å˜æ›´çš„"ç›‘å¬å™¨"å’Œ"è½¬å‘å™¨"
- Instanceæ˜¯ç‹¬ç«‹çš„åŒæ­¥ä»»åŠ¡ï¼Œä¸MySQLä¸€ä¸€å¯¹åº”
- è¿‡æ»¤è§„åˆ™å†³å®šç›‘å¬å“ªäº›è¡¨ï¼Œä½ç‚¹è®°å½•è§£æè¿›åº¦
- ç”Ÿäº§ç¯å¢ƒå¿…é¡»è€ƒè™‘é«˜å¯ç”¨å’Œç›‘æ§å‘Šè­¦