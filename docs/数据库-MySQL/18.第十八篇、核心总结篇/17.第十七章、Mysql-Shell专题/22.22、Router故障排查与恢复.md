---
title: 22ã€Routeræ•…éšœæ’æŸ¥ä¸æ¢å¤
---
## ğŸ“š ç›®å½•

1. [MySQL Routeræ•…éšœæ¦‚è¿°](#1-mysql-routeræ•…éšœæ¦‚è¿°)
2. [Routerå¯åŠ¨å¤±è´¥é—®é¢˜](#2-routerå¯åŠ¨å¤±è´¥é—®é¢˜)
3. [è·¯ç”±è¿æ¥é”™è¯¯è¯Šæ–­](#3-è·¯ç”±è¿æ¥é”™è¯¯è¯Šæ–­)
4. [åç«¯æœåŠ¡å™¨è¿æ¥é—®é¢˜](#4-åç«¯æœåŠ¡å™¨è¿æ¥é—®é¢˜)
5. [é…ç½®æ–‡ä»¶ç›¸å…³æ•…éšœ](#5-é…ç½®æ–‡ä»¶ç›¸å…³æ•…éšœ)
6. [ç«¯å£å†²çªä¸ç½‘ç»œé—®é¢˜](#6-ç«¯å£å†²çªä¸ç½‘ç»œé—®é¢˜)
7. [SSLè¿æ¥æ•…éšœå¤„ç†](#7-sslè¿æ¥æ•…éšœå¤„ç†)
8. [æ€§èƒ½é—®é¢˜è¯Šæ–­ä¸ä¼˜åŒ–](#8-æ€§èƒ½é—®é¢˜è¯Šæ–­ä¸ä¼˜åŒ–)
9. [æ—¥å¿—åˆ†æä¸é”™è¯¯å®šä½](#9-æ—¥å¿—åˆ†æä¸é”™è¯¯å®šä½)
10. [ç´§æ€¥æ¢å¤æ–¹æ¡ˆ](#10-ç´§æ€¥æ¢å¤æ–¹æ¡ˆ)
11. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#11-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸš¨ MySQL Routeræ•…éšœæ¦‚è¿°


### 1.1 ä»€ä¹ˆæ˜¯MySQL Routeræ•…éšœ


**ç®€å•ç†è§£**ï¼šMySQL Routerå°±åƒä¸€ä¸ª**äº¤é€šæŒ‡æŒ¥å‘˜**ï¼Œè´Ÿè´£æŠŠå®¢æˆ·ç«¯çš„æ•°æ®åº“è¯·æ±‚åˆ†å‘åˆ°æ­£ç¡®çš„MySQLæœåŠ¡å™¨ä¸Šã€‚å½“è¿™ä¸ª"æŒ‡æŒ¥å‘˜"å‡ºé—®é¢˜æ—¶ï¼Œæ•´ä¸ªæ•°æ®åº“è®¿é—®å°±ä¼šå‡ºç°æ•…éšœã€‚

```
æ­£å¸¸æƒ…å†µï¼š
å®¢æˆ·ç«¯åº”ç”¨ â†’ MySQL Router â†’ åç«¯MySQLæœåŠ¡å™¨ âœ…

æ•…éšœæƒ…å†µï¼š  
å®¢æˆ·ç«¯åº”ç”¨ â†’ MySQL Router âŒ â†’ æ— æ³•è¿æ¥/é”™è¯¯è·¯ç”±
```

### 1.2 å¸¸è§æ•…éšœç±»å‹åˆ†ç±»


**ğŸ”¸ å¯åŠ¨ç±»æ•…éšœ**
```
ç°è±¡ï¼šRouteræœåŠ¡æ— æ³•å¯åŠ¨
å½±å“ï¼šæ•´ä¸ªè·¯ç”±æœåŠ¡ä¸å¯ç”¨
ä¸¥é‡ç¨‹åº¦ï¼šâ­â­â­â­â­ (æœ€é«˜)
```

**ğŸ”¸ è¿æ¥ç±»æ•…éšœ**
```
ç°è±¡ï¼šå®¢æˆ·ç«¯æ— æ³•é€šè¿‡Routerè¿æ¥åˆ°æ•°æ®åº“
å½±å“ï¼šåº”ç”¨æ— æ³•è®¿é—®æ•°æ®åº“
ä¸¥é‡ç¨‹åº¦ï¼šâ­â­â­â­â˜† (é«˜)
```

**ğŸ”¸ è·¯ç”±ç±»æ•…éšœ**
```
ç°è±¡ï¼šè¿æ¥å»ºç«‹ä½†è·¯ç”±åˆ°é”™è¯¯çš„æœåŠ¡å™¨
å½±å“ï¼šæ•°æ®ä¸ä¸€è‡´ï¼Œè¯»å†™æ··ä¹±
ä¸¥é‡ç¨‹åº¦ï¼šâ­â­â­â­â­ (æœ€é«˜)
```

**ğŸ”¸ æ€§èƒ½ç±»æ•…éšœ**
```
ç°è±¡ï¼šè¿æ¥æ­£å¸¸ä½†å“åº”ç¼“æ…¢
å½±å“ï¼šç”¨æˆ·ä½“éªŒå·®ï¼Œå¯èƒ½è¶…æ—¶
ä¸¥é‡ç¨‹åº¦ï¼šâ­â­â­â˜†â˜† (ä¸­ç­‰)
```

### 1.3 æ•…éšœè¯Šæ–­åŸºæœ¬æ€è·¯


**ğŸ“‹ æ•…éšœè¯Šæ–­æµç¨‹å›¾**
```
å‘ç°æ•…éšœ
    â†“
æ£€æŸ¥RouteræœåŠ¡çŠ¶æ€
    â†“
    â”œâ”€â”€ æœåŠ¡æœªå¯åŠ¨ â†’ æ£€æŸ¥å¯åŠ¨é—®é¢˜
    â”œâ”€â”€ æœåŠ¡è¿è¡Œä¸­ â†’ æ£€æŸ¥è¿æ¥é—®é¢˜
    â””â”€â”€ æœåŠ¡å¼‚å¸¸ â†’ æ£€æŸ¥é…ç½®å’Œæ—¥å¿—
    â†“
å®šä½å…·ä½“åŸå› 
    â†“
å®æ–½ä¿®å¤æ–¹æ¡ˆ
    â†“
éªŒè¯ä¿®å¤ç»“æœ
```

---

## 2. ğŸ”§ Routerå¯åŠ¨å¤±è´¥é—®é¢˜


### 2.1 å¯åŠ¨å¤±è´¥çš„å¸¸è§åŸå› 


**ğŸ”¸ æƒé™é—®é¢˜**
```bash
# æ£€æŸ¥Routerè¿›ç¨‹æ‰€éœ€æƒé™
ls -l /usr/bin/mysqlrouter
ls -l /etc/mysqlrouter/

# å¸¸è§æƒé™é”™è¯¯
Error: Permission denied accessing configuration file
```

> ğŸ’¡ **é€šä¿—è§£é‡Š**ï¼šå°±åƒä½ è¦å¼€ä¸€æ‰‡é—¨ï¼Œä½†æ²¡æœ‰é’¥åŒ™ä¸€æ ·ã€‚Routeréœ€è¦è¯»å–é…ç½®æ–‡ä»¶ã€å†™å…¥æ—¥å¿—ç­‰æƒé™ï¼Œå¦‚æœæƒé™ä¸å¤Ÿå°±å¯åŠ¨ä¸äº†ã€‚

**ğŸ”¸ é…ç½®æ–‡ä»¶è¯­æ³•é”™è¯¯**
```bash
# æ£€æŸ¥é…ç½®æ–‡ä»¶è¯­æ³•
mysqlrouter --validate-config -c /etc/mysqlrouter/mysqlrouter.conf

# å¸¸è§è¯­æ³•é”™è¯¯ç¤ºä¾‹
[DEFAULT]
logging_folder = /var/log/mysqlrouter  # ç¼ºå°‘å¼•å·å¯èƒ½å¯¼è‡´é—®é¢˜
bind_port = abc  # ç«¯å£å·å¿…é¡»æ˜¯æ•°å­—
```

### 2.2 å¯åŠ¨å¤±è´¥æ’æŸ¥æ­¥éª¤


**ç¬¬ä¸€æ­¥ï¼šæ£€æŸ¥æœåŠ¡çŠ¶æ€**
```bash
# æ£€æŸ¥RouteræœåŠ¡çŠ¶æ€
systemctl status mysqlrouter

# æ‰‹åŠ¨å¯åŠ¨æŸ¥çœ‹è¯¦ç»†é”™è¯¯
sudo mysqlrouter -c /etc/mysqlrouter/mysqlrouter.conf --verbose
```

**ç¬¬äºŒæ­¥ï¼šæ£€æŸ¥é…ç½®æ–‡ä»¶**
```bash
# éªŒè¯é…ç½®æ–‡ä»¶è¯­æ³•
mysqlrouter --validate-config

# æ£€æŸ¥é…ç½®æ–‡ä»¶æƒé™
ls -la /etc/mysqlrouter/mysqlrouter.conf
```

**ç¬¬ä¸‰æ­¥ï¼šæ£€æŸ¥ä¾èµ–æ¡ä»¶**
```bash
# æ£€æŸ¥æ‰€éœ€ç«¯å£æ˜¯å¦è¢«å ç”¨
netstat -tuln | grep 6446
netstat -tuln | grep 6447

# æ£€æŸ¥æ—¥å¿—ç›®å½•æƒé™
ls -ld /var/log/mysqlrouter/
```

### 2.3 å¯åŠ¨å¤±è´¥è§£å†³æ–¹æ¡ˆ


**ğŸ’¡ æƒé™é—®é¢˜è§£å†³**
```bash
# è®¾ç½®æ­£ç¡®çš„æ–‡ä»¶æƒé™
sudo chown mysql:mysql /etc/mysqlrouter/mysqlrouter.conf
sudo chmod 640 /etc/mysqlrouter/mysqlrouter.conf

# è®¾ç½®æ—¥å¿—ç›®å½•æƒé™
sudo chown -R mysql:mysql /var/log/mysqlrouter/
sudo chmod 755 /var/log/mysqlrouter/
```

**ğŸ’¡ é…ç½®é”™è¯¯ä¿®å¤**
```ini
# æ­£ç¡®çš„é…ç½®æ–‡ä»¶ç¤ºä¾‹
[DEFAULT]
logging_folder = /var/log/mysqlrouter
plugin_folder = /usr/lib/mysqlrouter
config_folder = /etc/mysqlrouter

[logger]
level = INFO

[routing:primary]
bind_address = 0.0.0.0
bind_port = 6446
destinations = 192.168.1.10:3306,192.168.1.11:3306
routing_strategy = first-available
```

---

## 3. ğŸ”— è·¯ç”±è¿æ¥é”™è¯¯è¯Šæ–­


### 3.1 è¿æ¥é”™è¯¯çš„è¡¨ç°å½¢å¼


**ğŸ”¸ å®¢æˆ·ç«¯è¿æ¥è¢«æ‹’ç»**
```
é”™è¯¯ä¿¡æ¯ï¼šCan't connect to MySQL server on 'router-host' (111)
å«ä¹‰ï¼šRouteræ‹’ç»äº†å®¢æˆ·ç«¯çš„è¿æ¥è¯·æ±‚
```

> ğŸ“ **ç®€å•ç†è§£**ï¼šå°±åƒä½ æ‰“ç”µè¯ï¼Œä½†å¯¹æ–¹å…³æœºäº†ä¸€æ ·ã€‚å®¢æˆ·ç«¯æƒ³è¿Routerï¼Œä½†Routeræ²¡æœ‰åœ¨æŒ‡å®šç«¯å£"æ¥ç”µè¯"ã€‚

**ğŸ”¸ è¿æ¥è¶…æ—¶**
```
é”™è¯¯ä¿¡æ¯ï¼šLost connection to MySQL server during query (2013)
å«ä¹‰ï¼šè¿æ¥å»ºç«‹ååœ¨æŸ¥è¯¢è¿‡ç¨‹ä¸­æ–­å¼€
```

**ğŸ”¸ è®¤è¯å¤±è´¥**
```
é”™è¯¯ä¿¡æ¯ï¼šAccess denied for user 'username'@'hostname' (1045)
å«ä¹‰ï¼šç”¨æˆ·åå¯†ç éªŒè¯å¤±è´¥
```

### 3.2 è¿æ¥é—®é¢˜è¯Šæ–­æ–¹æ³•


**ç¬¬ä¸€æ­¥ï¼šæ£€æŸ¥Routerç›‘å¬çŠ¶æ€**
```bash
# æ£€æŸ¥Routeræ˜¯å¦åœ¨æ­£ç¡®ç«¯å£ç›‘å¬
netstat -tuln | grep 6446
ss -tuln | grep 6446

# é¢„æœŸç»“æœåº”è¯¥ç±»ä¼¼ï¼š
# tcp   0   0   0.0.0.0:6446   0.0.0.0:*   LISTEN
```

**ç¬¬äºŒæ­¥ï¼šæµ‹è¯•åŸºæœ¬è¿æ¥**
```bash
# ä½¿ç”¨telnetæµ‹è¯•ç«¯å£è¿é€šæ€§
telnet router-host 6446

# ä½¿ç”¨MySQLå®¢æˆ·ç«¯æµ‹è¯•
mysql -h router-host -P 6446 -u testuser -p
```

**ç¬¬ä¸‰æ­¥ï¼šæ£€æŸ¥é˜²ç«å¢™å’Œç½‘ç»œ**
```bash
# æ£€æŸ¥é˜²ç«å¢™è§„åˆ™
sudo iptables -L | grep 6446
sudo firewall-cmd --list-ports

# æ£€æŸ¥è·¯ç”±å’Œç½‘ç»œè¿é€šæ€§
ping router-host
traceroute router-host
```

### 3.3 è¿æ¥é”™è¯¯è§£å†³æ–¹æ¡ˆ


**ğŸ’¡ ç«¯å£ç›‘å¬é—®é¢˜**
```ini
# ç¡®ä¿Routeré…ç½®æ­£ç¡®ç›‘å¬
[routing:primary]
bind_address = 0.0.0.0  # ç›‘å¬æ‰€æœ‰ç½‘å¡
bind_port = 6446
destinations = 192.168.1.10:3306
```

**ğŸ’¡ é˜²ç«å¢™é…ç½®**
```bash
# å¼€æ”¾Routerç«¯å£
sudo firewall-cmd --permanent --add-port=6446/tcp
sudo firewall-cmd --permanent --add-port=6447/tcp
sudo firewall-cmd --reload

# æˆ–è€…iptablesæ–¹å¼
sudo iptables -A INPUT -p tcp --dport 6446 -j ACCEPT
```

---

## 4. ğŸŒ åç«¯æœåŠ¡å™¨è¿æ¥é—®é¢˜


### 4.1 åç«¯æœåŠ¡å™¨ä¸å¯è¾¾çš„åŸå› 


**ğŸ”¸ MySQLæœåŠ¡å™¨å®•æœº**
```
ç°è±¡ï¼šRouteræ— æ³•è¿æ¥åˆ°é…ç½®çš„MySQLæœåŠ¡å™¨
æ—¥å¿—ä¿¡æ¯ï¼šCan't connect to MySQL server on '192.168.1.10'
```

> ğŸ”§ **é€šä¿—è§£é‡Š**ï¼šRouterå°±åƒä¸€ä¸ªä»£ç†ï¼Œå®ƒéœ€è¦æŠŠè¯·æ±‚è½¬å‘ç»™åç«¯çš„MySQLæœåŠ¡å™¨ã€‚å¦‚æœMySQLæœåŠ¡å™¨å…³æœºäº†ï¼ŒRouterå°±æ‰¾ä¸åˆ°äººå¤„ç†è¯·æ±‚äº†ã€‚

**ğŸ”¸ ç½‘ç»œè¿æ¥é—®é¢˜**
```
ç°è±¡ï¼šç½‘ç»œä¸é€šå¯¼è‡´æ— æ³•è®¿é—®åç«¯æœåŠ¡å™¨
å¯èƒ½åŸå› ï¼šç½‘ç»œæ•…éšœã€è·¯ç”±é—®é¢˜ã€é˜²ç«å¢™é˜»æŒ¡
```

**ğŸ”¸ MySQLæœåŠ¡å™¨è´Ÿè½½è¿‡é«˜**
```
ç°è±¡ï¼šè¿æ¥è¶…æ—¶æˆ–å“åº”ç¼“æ…¢
åŸå› ï¼šæœåŠ¡å™¨è´Ÿè½½é«˜ï¼Œæ— æ³•åŠæ—¶å“åº”è¿æ¥è¯·æ±‚
```

### 4.2 åç«¯è¿æ¥é—®é¢˜è¯Šæ–­


**æ£€æŸ¥åç«¯æœåŠ¡å™¨çŠ¶æ€**
```bash
# æ£€æŸ¥MySQLæœåŠ¡çŠ¶æ€
systemctl status mysql
systemctl status mysqld

# æ£€æŸ¥MySQLè¿›ç¨‹
ps aux | grep mysql
```

**æµ‹è¯•åˆ°åç«¯çš„è¿æ¥**
```bash
# ä»RouteræœåŠ¡å™¨æµ‹è¯•åˆ°åç«¯MySQLçš„è¿æ¥
mysql -h 192.168.1.10 -P 3306 -u router_user -p

# æ£€æŸ¥ç½‘ç»œè¿é€šæ€§
ping 192.168.1.10
telnet 192.168.1.10 3306
```

**æ£€æŸ¥MySQLæœåŠ¡å™¨æ—¥å¿—**
```bash
# æŸ¥çœ‹MySQLé”™è¯¯æ—¥å¿—
tail -f /var/log/mysql/error.log
tail -f /var/log/mysqld.log

# æŸ¥çœ‹è¿æ¥ç›¸å…³æ—¥å¿—
grep "connection" /var/log/mysql/error.log
```

### 4.3 åç«¯è¿æ¥é—®é¢˜è§£å†³


**ğŸ“‹ åç«¯æœåŠ¡å™¨çŠ¶æ€æ£€æŸ¥æ¸…å•**

| æ£€æŸ¥é¡¹ç›® | å‘½ä»¤ | é¢„æœŸç»“æœ |
|---------|------|----------|
| **MySQLæœåŠ¡çŠ¶æ€** | `systemctl status mysql` | `active (running)` |
| **ç«¯å£ç›‘å¬** | `netstat -tuln \| grep 3306` | `LISTENçŠ¶æ€` |
| **ç½‘ç»œè¿é€š** | `ping åç«¯IP` | `æ­£å¸¸å“åº”` |
| **é˜²ç«å¢™** | `iptables -L` | `å…è®¸3306ç«¯å£` |

**ğŸ’¡ åç«¯æœåŠ¡å™¨æ¢å¤æ­¥éª¤**
```bash
# 1. å¯åŠ¨MySQLæœåŠ¡
sudo systemctl start mysql
sudo systemctl enable mysql

# 2. æ£€æŸ¥MySQLé…ç½®
sudo mysql -u root -p -e "SHOW VARIABLES LIKE 'bind_address';"

# 3. ç¡®ä¿Routerç”¨æˆ·æƒé™æ­£ç¡®
sudo mysql -u root -p
CREATE USER 'router_user'@'%' IDENTIFIED BY 'router_password';
GRANT SELECT ON mysql_innodb_cluster_metadata.* TO 'router_user'@'%';
GRANT SELECT ON performance_schema.replication_group_members TO 'router_user'@'%';
FLUSH PRIVILEGES;
```

---

## 5. âš™ï¸ é…ç½®æ–‡ä»¶ç›¸å…³æ•…éšœ


### 5.1 é…ç½®æ–‡ä»¶å¸¸è§é”™è¯¯


**ğŸ”¸ è·¯å¾„é…ç½®é”™è¯¯**
```ini
# é”™è¯¯ç¤ºä¾‹ï¼šè·¯å¾„ä¸å­˜åœ¨æˆ–æƒé™ä¸å¤Ÿ
[DEFAULT]
logging_folder = /nonexistent/path/logs  # è·¯å¾„ä¸å­˜åœ¨
plugin_folder = /wrong/path              # è·¯å¾„é”™è¯¯
```

> ğŸ“ **é€šä¿—è§£é‡Š**ï¼šå°±åƒä½ å‘Šè¯‰æœ‹å‹å»ä¸€ä¸ªä¸å­˜åœ¨çš„åœ°å€ä¸€æ ·ï¼ŒRouteræ‰¾ä¸åˆ°æŒ‡å®šçš„æ–‡ä»¶å¤¹å°±ä¼šæŠ¥é”™ã€‚

**ğŸ”¸ ç›®æ ‡æœåŠ¡å™¨é…ç½®é”™è¯¯**
```ini
# é”™è¯¯ç¤ºä¾‹ï¼šIPåœ°å€æˆ–ç«¯å£é”™è¯¯
[routing:primary]
destinations = 192.168.1.999:3306  # IPåœ°å€æ— æ•ˆ
destinations = 192.168.1.10:99999  # ç«¯å£å·è¶…å‡ºèŒƒå›´
```

**ğŸ”¸ è·¯ç”±ç­–ç•¥é…ç½®é”™è¯¯**
```ini
# é”™è¯¯ç¤ºä¾‹ï¼šç­–ç•¥åç§°æ‹¼å†™é”™è¯¯
[routing:primary]
routing_strategy = first_available  # åº”è¯¥æ˜¯ first-available
routing_strategy = unknown_strategy  # ä¸å­˜åœ¨çš„ç­–ç•¥
```

### 5.2 é…ç½®éªŒè¯æ–¹æ³•


**è¯­æ³•æ£€æŸ¥**
```bash
# éªŒè¯é…ç½®æ–‡ä»¶è¯­æ³•
mysqlrouter --validate-config -c /etc/mysqlrouter/mysqlrouter.conf

# æŸ¥çœ‹é…ç½®è§£æç»“æœ
mysqlrouter --help --config=/etc/mysqlrouter/mysqlrouter.conf
```

**é…ç½®é¡¹æ£€æŸ¥**
```bash
# æ£€æŸ¥å…³é”®é…ç½®é¡¹
grep -n "destinations" /etc/mysqlrouter/mysqlrouter.conf
grep -n "bind_port" /etc/mysqlrouter/mysqlrouter.conf
grep -n "routing_strategy" /etc/mysqlrouter/mysqlrouter.conf
```

### 5.3 æ ‡å‡†é…ç½®æ–‡ä»¶æ¨¡æ¿


**ğŸ’¡ å®Œæ•´é…ç½®æ–‡ä»¶ç¤ºä¾‹**
```ini
# /etc/mysqlrouter/mysqlrouter.conf
[DEFAULT]
# åŸºç¡€è·¯å¾„é…ç½®
logging_folder = /var/log/mysqlrouter
plugin_folder = /usr/lib/mysqlrouter
config_folder = /etc/mysqlrouter
runtime_folder = /run/mysqlrouter

# æ—¥å¿—é…ç½®
[logger]
level = INFO
filename = mysqlrouter.log

# è¯»å†™åˆ†ç¦» - å†™å…¥è·¯ç”±
[routing:primary]
bind_address = 0.0.0.0
bind_port = 6446
destinations = 192.168.1.10:3306,192.168.1.11:3306
routing_strategy = first-available
protocol = classic

# è¯»å†™åˆ†ç¦» - åªè¯»è·¯ç”±  
[routing:secondary]
bind_address = 0.0.0.0
bind_port = 6447
destinations = 192.168.1.12:3306,192.168.1.13:3306
routing_strategy = round-robin
protocol = classic

# ç®¡ç†ç«¯å£é…ç½®
[http_server]
port = 8443
ssl = 1
ssl_cert = /etc/mysqlrouter/router-cert.pem
ssl_key = /etc/mysqlrouter/router-key.pem
```

**ğŸ”§ é…ç½®å‚æ•°è¯¦è§£**

| å‚æ•° | å«ä¹‰ | å¸¸ç”¨å€¼ | è¯´æ˜ |
|------|------|--------|------|
| **bind_address** | ç›‘å¬åœ°å€ | `0.0.0.0` | ç›‘å¬æ‰€æœ‰ç½‘å¡ |
| **bind_port** | ç›‘å¬ç«¯å£ | `6446/6447` | æ ‡å‡†Routerç«¯å£ |
| **routing_strategy** | è·¯ç”±ç­–ç•¥ | `first-available`<br>`round-robin` | æ•…éšœè½¬ç§»<br>è´Ÿè½½å‡è¡¡ |
| **protocol** | åè®®ç±»å‹ | `classic` | MySQLåè®® |

---

## 6. ğŸ”Œ ç«¯å£å†²çªä¸ç½‘ç»œé—®é¢˜


### 6.1 ç«¯å£å†²çªè¯Šæ–­


**ğŸ”¸ ç«¯å£å ç”¨æ£€æŸ¥**
```bash
# æ£€æŸ¥Routeré»˜è®¤ç«¯å£æ˜¯å¦è¢«å ç”¨
netstat -tuln | grep 6446
netstat -tuln | grep 6447

# æŸ¥çœ‹å ç”¨ç«¯å£çš„è¿›ç¨‹
lsof -i :6446
fuser -v 6446/tcp
```

> ğŸšª **ç®€å•ç†è§£**ï¼šæ¯ä¸ªç½‘ç»œæœåŠ¡éƒ½éœ€è¦ä¸€ä¸ª"é—¨ç‰Œå·"(ç«¯å£)æ¥æ¥æ”¶è®¿é—®ã€‚å¦‚æœä¸¤ä¸ªæœåŠ¡ç”¨åŒä¸€ä¸ªé—¨ç‰Œå·ï¼Œå°±ä¼šå‘ç”Ÿå†²çªï¼Œå°±åƒä¸¤å®¶åº—ä¸èƒ½æœ‰ç›¸åŒåœ°å€ä¸€æ ·ã€‚

**ğŸ”¸ å¸¸è§ç«¯å£å†²çªæƒ…å†µ**
```
æƒ…å†µ1ï¼šå…¶ä»–åº”ç”¨å ç”¨äº†6446ç«¯å£
æƒ…å†µ2ï¼šRouteré…ç½®äº†é‡å¤çš„ç«¯å£å·
æƒ…å†µ3ï¼šé˜²ç«å¢™é˜»æŒ¡äº†ç«¯å£è®¿é—®
```

### 6.2 ç½‘ç»œè¿é€šæ€§é—®é¢˜


**æ£€æŸ¥ç½‘ç»œè¿é€šæ€§**
```bash
# æ£€æŸ¥åŸºæœ¬ç½‘ç»œè¿é€š
ping router-host
ping backend-mysql-host

# æ£€æŸ¥è·¯ç”±è¡¨
route -n
ip route show

# æ£€æŸ¥DNSè§£æ
nslookup router-host
nslookup backend-mysql-host
```

**æ£€æŸ¥é˜²ç«å¢™è§„åˆ™**
```bash
# CentOS/RHEL é˜²ç«å¢™æ£€æŸ¥
firewall-cmd --list-all
firewall-cmd --list-ports

# Ubuntu é˜²ç«å¢™æ£€æŸ¥  
ufw status
ufw status verbose

# iptables æ£€æŸ¥
iptables -L -n
```

### 6.3 ç«¯å£å’Œç½‘ç»œé—®é¢˜è§£å†³


**ğŸ’¡ ç«¯å£å†²çªè§£å†³æ–¹æ¡ˆ**

<details>
<summary>ç‚¹å‡»æŸ¥çœ‹è¯¦ç»†è§£å†³æ­¥éª¤</summary>

```bash
# æ–¹æ¡ˆ1ï¼šæ›´æ”¹Routerç«¯å£
# ä¿®æ”¹é…ç½®æ–‡ä»¶ä½¿ç”¨å…¶ä»–ç«¯å£
[routing:primary]
bind_port = 6448  # æ”¹ä¸ºå…¶ä»–æœªå ç”¨ç«¯å£

# æ–¹æ¡ˆ2ï¼šåœæ­¢å†²çªæœåŠ¡
# æ‰¾åˆ°å ç”¨ç«¯å£çš„è¿›ç¨‹å¹¶åœæ­¢
lsof -i :6446
kill -9 <è¿›ç¨‹ID>

# æ–¹æ¡ˆ3ï¼šé…ç½®é˜²ç«å¢™å…è®¸è®¿é—®
sudo firewall-cmd --permanent --add-port=6446/tcp
sudo firewall-cmd --reload
```

</details>

**ğŸ’¡ ç½‘ç»œé—®é¢˜è§£å†³**
```bash
# é…ç½®é˜²ç«å¢™è§„åˆ™
sudo firewall-cmd --permanent --add-service=mysql
sudo firewall-cmd --permanent --add-port=6446-6447/tcp
sudo firewall-cmd --reload

# ä¿®å¤DNSè§£æé—®é¢˜
echo "192.168.1.10 mysql-primary" >> /etc/hosts
echo "192.168.1.11 mysql-secondary" >> /etc/hosts
```

---

## 7. ğŸ” SSLè¿æ¥æ•…éšœå¤„ç†


### 7.1 SSLé…ç½®ç›¸å…³é—®é¢˜


**ğŸ”¸ è¯ä¹¦æ–‡ä»¶é—®é¢˜**
```
å¸¸è§é”™è¯¯ï¼š
- è¯ä¹¦æ–‡ä»¶ä¸å­˜åœ¨æˆ–è·¯å¾„é”™è¯¯
- è¯ä¹¦æƒé™ä¸æ­£ç¡®
- è¯ä¹¦å·²è¿‡æœŸæˆ–æ— æ•ˆ
- ç§é’¥å’Œè¯ä¹¦ä¸åŒ¹é…
```

> ğŸ”’ **é€šä¿—è§£é‡Š**ï¼šSSLå°±åƒä¸€æŠŠé”ï¼Œä¿æŠ¤æ•°æ®ä¼ è¾“å®‰å…¨ã€‚å¦‚æœé”åäº†ã€é’¥åŒ™ä¸¢äº†ã€æˆ–è€…é”å’Œé’¥åŒ™ä¸åŒ¹é…ï¼Œå°±æ— æ³•å»ºç«‹å®‰å…¨è¿æ¥ã€‚

**ğŸ”¸ SSLé…ç½®ç¤ºä¾‹**
```ini
# Router SSLé…ç½®
[routing:primary]
bind_address = 0.0.0.0
bind_port = 6446
destinations = 192.168.1.10:3306
client_ssl_mode = PREFERRED
server_ssl_mode = PREFERRED
client_ssl_cert = /etc/mysqlrouter/client-cert.pem
client_ssl_key = /etc/mysqlrouter/client-key.pem
client_ssl_ca = /etc/mysqlrouter/ca-cert.pem
```

### 7.2 SSLé—®é¢˜è¯Šæ–­


**æ£€æŸ¥è¯ä¹¦æ–‡ä»¶**
```bash
# æ£€æŸ¥è¯ä¹¦æ–‡ä»¶æ˜¯å¦å­˜åœ¨
ls -la /etc/mysqlrouter/*.pem

# æ£€æŸ¥è¯ä¹¦æœ‰æ•ˆæœŸ
openssl x509 -in /etc/mysqlrouter/client-cert.pem -text -noout | grep "Not After"

# éªŒè¯è¯ä¹¦å’Œç§é’¥åŒ¹é…
openssl x509 -noout -modulus -in /etc/mysqlrouter/client-cert.pem | openssl md5
openssl rsa -noout -modulus -in /etc/mysqlrouter/client-key.pem | openssl md5
```

**æµ‹è¯•SSLè¿æ¥**
```bash
# æµ‹è¯•Routerçš„SSLè¿æ¥
mysql -h router-host -P 6446 -u testuser -p --ssl-mode=REQUIRED

# æ£€æŸ¥SSLçŠ¶æ€
mysql -h router-host -P 6446 -u testuser -p -e "SHOW STATUS LIKE 'Ssl%';"
```

### 7.3 SSLé—®é¢˜è§£å†³æ–¹æ¡ˆ


**ğŸ’¡ è¯ä¹¦æƒé™ä¿®å¤**
```bash
# è®¾ç½®æ­£ç¡®çš„è¯ä¹¦æƒé™
sudo chown mysql:mysql /etc/mysqlrouter/*.pem
sudo chmod 600 /etc/mysqlrouter/*-key.pem
sudo chmod 644 /etc/mysqlrouter/*-cert.pem
```

**ğŸ’¡ é‡æ–°ç”Ÿæˆè¯ä¹¦**
```bash
# ç”Ÿæˆæ–°çš„SSLè¯ä¹¦
sudo mysql_ssl_rsa_setup --datadir=/var/lib/mysql

# å¤åˆ¶è¯ä¹¦åˆ°Routerç›®å½•
sudo cp /var/lib/mysql/ca.pem /etc/mysqlrouter/ca-cert.pem
sudo cp /var/lib/mysql/client-cert.pem /etc/mysqlrouter/
sudo cp /var/lib/mysql/client-key.pem /etc/mysqlrouter/
```

---

## 8. ğŸ“ˆ æ€§èƒ½é—®é¢˜è¯Šæ–­ä¸ä¼˜åŒ–


### 8.1 æ€§èƒ½é—®é¢˜çš„è¡¨ç°


**ğŸ”¸ è¿æ¥ç¼“æ…¢**
```
ç°è±¡ï¼šå»ºç«‹è¿æ¥éœ€è¦å¾ˆé•¿æ—¶é—´
å¯èƒ½åŸå› ï¼šDNSè§£ææ…¢ã€ç½‘ç»œå»¶è¿Ÿé«˜ã€Routerè´Ÿè½½é«˜
```

**ğŸ”¸ æŸ¥è¯¢å“åº”æ…¢**
```
ç°è±¡ï¼šSQLæŸ¥è¯¢æ‰§è¡Œæ—¶é—´å¾ˆé•¿
å¯èƒ½åŸå› ï¼šåç«¯MySQLæ€§èƒ½é—®é¢˜ã€è·¯ç”±ç­–ç•¥ä¸å½“
```

> â±ï¸ **ç®€å•ç†è§£**ï¼šæ€§èƒ½é—®é¢˜å°±åƒäº¤é€šå µå¡ï¼ŒåŸæœ¬å¾ˆå¿«çš„è·¯ç¨‹å˜å¾—ç¼“æ…¢ã€‚å¯èƒ½æ˜¯è·¯ä¸Šè½¦å¤ªå¤š(è´Ÿè½½é«˜)ï¼Œä¹Ÿå¯èƒ½æ˜¯è·¯æœ¬èº«æœ‰é—®é¢˜(é…ç½®ä¸å½“)ã€‚

### 8.2 æ€§èƒ½ç›‘æ§å’Œè¯Šæ–­


**ç›‘æ§RouterçŠ¶æ€**
```bash
# æŸ¥çœ‹RouterçŠ¶æ€ä¿¡æ¯
curl http://router-host:8443/api/20190715/router/status

# æŸ¥çœ‹è¿æ¥ç»Ÿè®¡
curl http://router-host:8443/api/20190715/router/connections

# ç›‘æ§Routerè¿›ç¨‹èµ„æºä½¿ç”¨
top -p $(pgrep mysqlrouter)
htop -p $(pgrep mysqlrouter)
```

**æ£€æŸ¥è¿æ¥æ± çŠ¶æ€**
```bash
# æŸ¥çœ‹å½“å‰è¿æ¥æ•°
netstat -an | grep :6446 | grep ESTABLISHED | wc -l

# æŸ¥çœ‹Routeræ—¥å¿—ä¸­çš„æ€§èƒ½ä¿¡æ¯
grep -i "slow\|timeout\|connection" /var/log/mysqlrouter/mysqlrouter.log
```

### 8.3 æ€§èƒ½ä¼˜åŒ–é…ç½®


**ğŸ’¡ è¿æ¥æ± ä¼˜åŒ–**
```ini
# ä¼˜åŒ–Routeré…ç½®ä»¥æå‡æ€§èƒ½
[routing:primary]
bind_address = 0.0.0.0
bind_port = 6446
destinations = 192.168.1.10:3306,192.168.1.11:3306
routing_strategy = round-robin
max_connections = 1000          # å¢åŠ æœ€å¤§è¿æ¥æ•°
max_connect_errors = 100        # è®¾ç½®è¿æ¥é”™è¯¯é˜ˆå€¼
connect_timeout = 3             # å‡å°‘è¿æ¥è¶…æ—¶æ—¶é—´
client_connect_timeout = 9      # å®¢æˆ·ç«¯è¿æ¥è¶…æ—¶
```

**ğŸ“Š æ€§èƒ½è°ƒä¼˜å»ºè®®è¡¨**

| é…ç½®é¡¹ | æ¨èå€¼ | è¯´æ˜ | å½±å“ |
|--------|--------|------|------|
| **max_connections** | `1000-5000` | æœ€å¤§å¹¶å‘è¿æ¥æ•° | å†…å­˜ä½¿ç”¨vså¹¶å‘èƒ½åŠ› |
| **connect_timeout** | `3-5ç§’` | åç«¯è¿æ¥è¶…æ—¶ | æ•…éšœæ£€æµ‹é€Ÿåº¦ |
| **routing_strategy** | `round-robin` | è´Ÿè½½å‡è¡¡ç­–ç•¥ | æ€§èƒ½åˆ†å¸ƒå‡åŒ€æ€§ |

---

## 9. ğŸ“‹ æ—¥å¿—åˆ†æä¸é”™è¯¯å®šä½


### 9.1 Routeræ—¥å¿—ç±»å‹å’Œä½ç½®


**ğŸ”¸ ä¸»è¦æ—¥å¿—æ–‡ä»¶**
```bash
# Routerä¸»æ—¥å¿—
/var/log/mysqlrouter/mysqlrouter.log

# ç³»ç»ŸæœåŠ¡æ—¥å¿—
journalctl -u mysqlrouter -f

# é”™è¯¯æ—¥å¿—
/var/log/mysqlrouter/error.log
```

> ğŸ“„ **é€šä¿—è§£é‡Š**ï¼šæ—¥å¿—å°±åƒæ˜¯Routerçš„"æ—¥è®°æœ¬"ï¼Œè®°å½•äº†å®ƒæ¯å¤©åšäº†ä»€ä¹ˆã€é‡åˆ°äº†ä»€ä¹ˆé—®é¢˜ã€‚é€šè¿‡çœ‹æ—¥å¿—ï¼Œæˆ‘ä»¬å¯ä»¥çŸ¥é“Routeråœ¨ä»€ä¹ˆæ—¶å€™å‡ºäº†ä»€ä¹ˆé—®é¢˜ã€‚

### 9.2 å¸¸è§é”™è¯¯ä¿¡æ¯è§£è¯»


**ğŸ”¸ è¿æ¥ç›¸å…³é”™è¯¯**
```
# é”™è¯¯ä¿¡æ¯ç¤ºä¾‹åŠå«ä¹‰
[ERROR] Can't connect to MySQL server on '192.168.1.10' (111)
å«ä¹‰ï¼šæ— æ³•è¿æ¥åˆ°åç«¯MySQLæœåŠ¡å™¨ï¼Œå¯èƒ½æœåŠ¡å™¨å®•æœºæˆ–ç½‘ç»œé—®é¢˜

[ERROR] Access denied for user 'router_user'@'%' (1045)  
å«ä¹‰ï¼šRouterç”¨æˆ·è®¤è¯å¤±è´¥ï¼Œç”¨æˆ·åå¯†ç é”™è¯¯æˆ–æƒé™ä¸è¶³

[ERROR] Lost connection to MySQL server during query (2013)
å«ä¹‰ï¼šæŸ¥è¯¢è¿‡ç¨‹ä¸­è¿æ¥æ–­å¼€ï¼Œå¯èƒ½ç½‘ç»œä¸ç¨³å®šæˆ–è¶…æ—¶
```

**ğŸ”¸ é…ç½®ç›¸å…³é”™è¯¯**
```
[ERROR] Configuration error in section [routing:primary]
å«ä¹‰ï¼šè·¯ç”±é…ç½®æ®µæœ‰é”™è¯¯ï¼Œéœ€è¦æ£€æŸ¥é…ç½®è¯­æ³•

[ERROR] Plugin 'routing' failed to initialize
å«ä¹‰ï¼šè·¯ç”±æ’ä»¶åˆå§‹åŒ–å¤±è´¥ï¼Œå¯èƒ½é…ç½®æˆ–æƒé™é—®é¢˜
```

### 9.3 æ—¥å¿—åˆ†ææŠ€å·§


**å®æ—¶ç›‘æ§æ—¥å¿—**
```bash
# å®æ—¶æŸ¥çœ‹Routeræ—¥å¿—
tail -f /var/log/mysqlrouter/mysqlrouter.log

# è¿‡æ»¤ç‰¹å®šé”™è¯¯ä¿¡æ¯
tail -f /var/log/mysqlrouter/mysqlrouter.log | grep -i error

# æŸ¥çœ‹æœ€è¿‘çš„è¿æ¥é—®é¢˜
grep -i "connection\|connect" /var/log/mysqlrouter/mysqlrouter.log | tail -20
```

**æ—¥å¿—åˆ†æè„šæœ¬ç¤ºä¾‹**
```bash
#!/bin/bash
# Routeræ—¥å¿—åˆ†æè„šæœ¬

LOGFILE="/var/log/mysqlrouter/mysqlrouter.log"

echo "=== Routeré”™è¯¯ç»Ÿè®¡ ==="
grep -c "ERROR" $LOGFILE
echo ""

echo "=== æœ€è¿‘10ä¸ªé”™è¯¯ ==="
grep "ERROR" $LOGFILE | tail -10
echo ""

echo "=== è¿æ¥é—®é¢˜ç»Ÿè®¡ ==="
grep -c "Can't connect\|Lost connection" $LOGFILE
```

---

## 10. ğŸš‘ ç´§æ€¥æ¢å¤æ–¹æ¡ˆ


### 10.1 æœåŠ¡ç´§æ€¥é‡å¯


**ğŸ”¸ å¿«é€Ÿé‡å¯RouteræœåŠ¡**
```bash
# æ–¹æ³•1ï¼šä½¿ç”¨systemctlé‡å¯
sudo systemctl restart mysqlrouter
sudo systemctl status mysqlrouter

# æ–¹æ³•2ï¼šå¼ºåˆ¶æ€è¿›ç¨‹é‡å¯
sudo pkill -f mysqlrouter
sudo systemctl start mysqlrouter

# æ–¹æ³•3ï¼šæ‰‹åŠ¨å¯åŠ¨æ£€æŸ¥é—®é¢˜
sudo mysqlrouter -c /etc/mysqlrouter/mysqlrouter.conf --verbose
```

> ğŸš¨ **ç´§æ€¥å¤„ç†æ€è·¯**ï¼šå½“Routerå®Œå…¨æ— æ³•å·¥ä½œæ—¶ï¼Œæœ€å¿«çš„æ–¹æ³•å°±æ˜¯é‡å¯æœåŠ¡ã€‚å°±åƒç”µè„‘æ­»æœºæ—¶é‡å¯ä¸€æ ·ï¼Œèƒ½è§£å†³å¤§éƒ¨åˆ†é—®é¢˜ã€‚

### 10.2 å¿«é€Ÿæ•…éšœåˆ‡æ¢


**åº”ç”¨å±‚åˆ‡æ¢æ–¹æ¡ˆ**
```python
# Pythonåº”ç”¨ç¤ºä¾‹ï¼šæ•°æ®åº“è¿æ¥æ•…éšœåˆ‡æ¢
import mysql.connector
from mysql.connector import Error

def get_database_connection():
    # è¿æ¥é…ç½®åˆ—è¡¨ï¼šRouter -> ç›´è¿ä¸»åº“ -> ç›´è¿ä»åº“
    configs = [
        {
            'host': 'router-host',
            'port': 6446,
            'user': 'app_user',
            'password': 'app_pass',
            'database': 'mydb'
        },
        {
            'host': '192.168.1.10',  # ä¸»åº“ç›´è¿
            'port': 3306,
            'user': 'app_user', 
            'password': 'app_pass',
            'database': 'mydb'
        }
    ]
    
    for config in configs:
        try:
            connection = mysql.connector.connect(**config)
            if connection.is_connected():
                print(f"è¿æ¥æˆåŠŸ: {config['host']}:{config['port']}")
                return connection
        except Error as e:
            print(f"è¿æ¥å¤±è´¥ {config['host']}: {e}")
            continue
    
    raise Exception("æ‰€æœ‰æ•°æ®åº“è¿æ¥éƒ½å¤±è´¥äº†")
```

### 10.3 é…ç½®å¤‡ä»½å’Œæ¢å¤


**ğŸ’¡ é…ç½®æ–‡ä»¶å¤‡ä»½ç­–ç•¥**
```bash
# åˆ›å»ºé…ç½®å¤‡ä»½
sudo cp /etc/mysqlrouter/mysqlrouter.conf /etc/mysqlrouter/mysqlrouter.conf.backup.$(date +%Y%m%d)

# åˆ›å»ºå¤‡ä»½è„šæœ¬
cat << 'EOF' > /usr/local/bin/backup-router-config.sh
#!/bin/bash
BACKUP_DIR="/backup/mysqlrouter"
DATE=$(date +%Y%m%d_%H%M%S)

mkdir -p $BACKUP_DIR
cp -r /etc/mysqlrouter/ $BACKUP_DIR/config_$DATE
tar -czf $BACKUP_DIR/mysqlrouter_config_$DATE.tar.gz -C /etc mysqlrouter/

echo "Routeré…ç½®å·²å¤‡ä»½åˆ°: $BACKUP_DIR/mysqlrouter_config_$DATE.tar.gz"
EOF

chmod +x /usr/local/bin/backup-router-config.sh
```

**å¿«é€Ÿæ¢å¤é…ç½®**
```bash
# ä»å¤‡ä»½æ¢å¤é…ç½®
sudo systemctl stop mysqlrouter
sudo cp /etc/mysqlrouter/mysqlrouter.conf.backup.20241201 /etc/mysqlrouter/mysqlrouter.conf
sudo systemctl start mysqlrouter
```

### 10.4 ç´§æ€¥æ’æŸ¥æ¸…å•


**ğŸ”§ 5åˆ†é’Ÿå¿«é€Ÿæ’æŸ¥æ­¥éª¤**

> â±ï¸ **ç´§æ€¥æƒ…å†µå¤„ç†æµç¨‹**ï¼šå½“ç”Ÿäº§ç¯å¢ƒRouterå‡ºç°æ•…éšœæ—¶ï¼ŒæŒ‰ç…§ä»¥ä¸‹æ­¥éª¤å¿«é€Ÿå®šä½å’Œè§£å†³é—®é¢˜ã€‚

```
âœ… ç¬¬1åˆ†é’Ÿï¼šæ£€æŸ¥æœåŠ¡çŠ¶æ€
   systemctl status mysqlrouter
   
âœ… ç¬¬2åˆ†é’Ÿï¼šæ£€æŸ¥ç«¯å£ç›‘å¬
   netstat -tuln | grep 6446
   
âœ… ç¬¬3åˆ†é’Ÿï¼šæŸ¥çœ‹æœ€è¿‘æ—¥å¿—
   tail -50 /var/log/mysqlrouter/mysqlrouter.log
   
âœ… ç¬¬4åˆ†é’Ÿï¼šæµ‹è¯•åç«¯è¿æ¥
   mysql -h åç«¯IP -P 3306 -u router_user -p
   
âœ… ç¬¬5åˆ†é’Ÿï¼šå†³å®šå¤„ç†æ–¹æ¡ˆ
   - é‡å¯æœåŠ¡
   - åˆ‡æ¢åˆ°å¤‡ç”¨é…ç½®  
   - åº”ç”¨ç›´è¿æ•°æ®åº“
```

---

## 11. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 11.1 å¿…é¡»æŒæ¡çš„æ•…éšœå¤„ç†æŠ€èƒ½


```
ğŸ”¸ åŸºç¡€è¯Šæ–­ï¼šæœåŠ¡çŠ¶æ€æ£€æŸ¥ã€æ—¥å¿—åˆ†æã€ç½‘ç»œè¿é€šæ€§æµ‹è¯•
ğŸ”¸ é…ç½®ç®¡ç†ï¼šè¯­æ³•éªŒè¯ã€å‚æ•°è°ƒä¼˜ã€å¤‡ä»½æ¢å¤
ğŸ”¸ è¿æ¥é—®é¢˜ï¼šç«¯å£å†²çªã€æƒé™è®¤è¯ã€SSLé…ç½®
ğŸ”¸ æ€§èƒ½ä¼˜åŒ–ï¼šè¿æ¥æ± è°ƒæ•´ã€è·¯ç”±ç­–ç•¥é€‰æ‹©ã€ç›‘æ§æŒ‡æ ‡
ğŸ”¸ ç´§æ€¥å¤„ç†ï¼šå¿«é€Ÿé‡å¯ã€æ•…éšœåˆ‡æ¢ã€åº”æ€¥æ–¹æ¡ˆ
```

### 11.2 å…³é”®æ•…éšœåˆ¤æ–­é€»è¾‘


**ğŸ”¹ æ•…éšœåˆ†ç±»å’Œå¤„ç†ä¼˜å…ˆçº§**
```
ğŸš¨ P0 - æœåŠ¡å®Œå…¨ä¸å¯ç”¨ï¼š
   â†’ ç«‹å³é‡å¯æœåŠ¡
   â†’ åº”ç”¨åˆ‡æ¢ç›´è¿
   â†’ ç´§æ€¥é€šçŸ¥ç›¸å…³äººå‘˜

âš ï¸ P1 - éƒ¨åˆ†åŠŸèƒ½å¼‚å¸¸ï¼š
   â†’ æ£€æŸ¥é…ç½®æ–‡ä»¶
   â†’ åˆ†æé”™è¯¯æ—¥å¿—
   â†’ ä¿®å¤å…·ä½“é—®é¢˜

ğŸ“Š P2 - æ€§èƒ½é—®é¢˜ï¼š
   â†’ ç›‘æ§èµ„æºä½¿ç”¨
   â†’ ä¼˜åŒ–é…ç½®å‚æ•°
   â†’ è°ƒæ•´è·¯ç”±ç­–ç•¥
```

### 11.3 æ•…éšœé¢„é˜²æœ€ä½³å®è·µ


**ğŸ’¡ é¢„é˜²æªæ–½æ¸…å•**
- **å®šæœŸå¤‡ä»½**ï¼šé…ç½®æ–‡ä»¶ã€è¯ä¹¦æ–‡ä»¶æ¯å‘¨å¤‡ä»½
- **ç›‘æ§å‘Šè­¦**ï¼šè®¾ç½®æœåŠ¡çŠ¶æ€ã€è¿æ¥æ•°ã€é”™è¯¯ç‡ç›‘æ§
- **æ–‡æ¡£ç®¡ç†**ï¼šç»´æŠ¤é…ç½®å˜æ›´è®°å½•å’Œæ•…éšœå¤„ç†æ‰‹å†Œ
- **æµ‹è¯•éªŒè¯**ï¼šé…ç½®å˜æ›´å‰åœ¨æµ‹è¯•ç¯å¢ƒéªŒè¯
- **æƒé™ç®¡ç†**ï¼šå®šæœŸæ£€æŸ¥æ–‡ä»¶æƒé™å’Œç”¨æˆ·æƒé™

### 11.4 å®é™…åº”ç”¨ä»·å€¼


- **å¿«é€Ÿå®šä½**ï¼šé€šè¿‡æ—¥å¿—å’Œè¯Šæ–­å‘½ä»¤å¿«é€Ÿæ‰¾åˆ°é—®é¢˜æ ¹æº
- **é«˜æ•ˆæ¢å¤**ï¼šæŒæ¡å¤šç§æ¢å¤æ–¹æ¡ˆï¼Œæœ€å°åŒ–æœåŠ¡ä¸­æ–­æ—¶é—´
- **é¢„é˜²æ•…éšœ**ï¼šäº†è§£å¸¸è§é—®é¢˜æ¨¡å¼ï¼Œæå‰åšå¥½é¢„é˜²æªæ–½
- **è¿ç»´è‡ªåŠ¨åŒ–**ï¼šä½¿ç”¨è„šæœ¬å’Œå·¥å…·æé«˜æ•…éšœå¤„ç†æ•ˆç‡

**ğŸ§  æ ¸å¿ƒè®°å¿†å£è¯€**ï¼š
- æ•…éšœå¤„ç†å…ˆæŸ¥çŠ¶æ€å†çœ‹æ—¥å¿—
- ç½‘ç»œè¿é€šé…ç½®æ­£ç¡®æƒé™è¶³å¤Ÿ
- æ€§èƒ½é—®é¢˜ç›‘æ§å…ˆè¡Œè°ƒä¼˜è·Ÿä¸Š
- ç´§æ€¥æƒ…å†µé‡å¯ä¼˜å…ˆåˆ‡æ¢å¤‡ç”¨