---
title: 7ã€Maxwellæ ¸å¿ƒé…ç½®è¯¦è§£
---
## ğŸ“š ç›®å½•

1. [Maxwellé…ç½®æ–‡ä»¶æ¦‚è¿°](#1-Maxwellé…ç½®æ–‡ä»¶æ¦‚è¿°)
2. [æ•°æ®åº“è¿æ¥é…ç½®è¯¦è§£](#2-æ•°æ®åº“è¿æ¥é…ç½®è¯¦è§£)
3. [ç”¨æˆ·æƒé™é…ç½®ç®¡ç†](#3-ç”¨æˆ·æƒé™é…ç½®ç®¡ç†)
4. [Binlogè¿æ¥å™¨é…ç½®](#4-Binlogè¿æ¥å™¨é…ç½®)
5. [æ•°æ®è¾“å‡ºProduceré…ç½®](#5-æ•°æ®è¾“å‡ºProduceré…ç½®)
6. [é«˜çº§é…ç½®é€‰é¡¹](#6-é«˜çº§é…ç½®é€‰é¡¹)
7. [é…ç½®æ–‡ä»¶å®Œæ•´ç¤ºä¾‹](#7-é…ç½®æ–‡ä»¶å®Œæ•´ç¤ºä¾‹)
8. [å¸¸è§é…ç½®é—®é¢˜æ’æŸ¥](#8-å¸¸è§é…ç½®é—®é¢˜æ’æŸ¥)
9. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#9-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ”§ Maxwellé…ç½®æ–‡ä»¶æ¦‚è¿°


### 1.1 ä»€ä¹ˆæ˜¯Maxwellé…ç½®æ–‡ä»¶


**config.propertiesæ–‡ä»¶**æ˜¯Maxwellçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼Œå°±åƒæ˜¯Maxwellçš„"èº«ä»½è¯"å’Œ"æ“ä½œæ‰‹å†Œ"ã€‚

```
ç®€å•ç†è§£ï¼š
Maxwell = æ•°æ®æ¬è¿å·¥
config.properties = æ¬è¿å·¥çš„å·¥ä½œæŒ‡å—

å‘Šè¯‰Maxwellï¼š
â€¢ ä»å“ªä¸ªæ•°æ®åº“å–æ•°æ®ï¼Ÿ
â€¢ ç”¨ä»€ä¹ˆè´¦å·å¯†ç ï¼Ÿ
â€¢ æ•°æ®æ¬åˆ°å“ªé‡Œå»ï¼Ÿ
â€¢ æ€ä¹ˆæ¬è¿æ•°æ®ï¼Ÿ
```

**é…ç½®æ–‡ä»¶çš„ä½œç”¨**ï¼š
- ğŸ¯ **è¿æ¥ä¿¡æ¯**ï¼šå‘Šè¯‰Maxwellè¿æ¥å“ªä¸ªMySQLæ•°æ®åº“
- ğŸ” **è®¤è¯ä¿¡æ¯**ï¼šæä¾›ç”¨æˆ·åå’Œå¯†ç 
- ğŸ“¤ **è¾“å‡ºè®¾ç½®**ï¼šå®šä¹‰æ•°æ®è¾“å‡ºåˆ°ä»€ä¹ˆåœ°æ–¹ï¼ˆKafkaã€æ–‡ä»¶ç­‰ï¼‰
- âš™ï¸ **è¿è¡Œå‚æ•°**ï¼šæ§åˆ¶Maxwellçš„è¿è¡Œè¡Œä¸º

### 1.2 é…ç½®æ–‡ä»¶ä½ç½®å’Œæ ¼å¼


**æ–‡ä»¶ä½ç½®**ï¼š
```
é»˜è®¤ä½ç½®ï¼šMaxwellå®‰è£…ç›®å½•/config.properties
è‡ªå®šä¹‰ä½ç½®ï¼šé€šè¿‡ --config å‚æ•°æŒ‡å®š

ç¤ºä¾‹ï¼š
./bin/maxwell --config /path/to/your/config.properties
```

**æ–‡ä»¶æ ¼å¼**ï¼š
```properties
# è¿™æ˜¯æ³¨é‡Šï¼Œä»¥#å¼€å¤´
é…ç½®é¡¹åç§°=é…ç½®å€¼
# ä¸è¦æœ‰å¤šä½™çš„ç©ºæ ¼
# ä¸€è¡Œä¸€ä¸ªé…ç½®é¡¹
```

---

## 2. ğŸŒ æ•°æ®åº“è¿æ¥é…ç½®è¯¦è§£


### 2.1 hostæ•°æ®åº“è¿æ¥é…ç½®


**hostå‚æ•°**å°±æ˜¯å‘Šè¯‰Maxwellï¼š"ä½ è¦è¿æ¥çš„MySQLæ•°æ®åº“åœ¨å“ªå°æœºå™¨ä¸Š"

```properties
# åŸºæœ¬è¯­æ³•
host=æ•°æ®åº“æœåŠ¡å™¨åœ°å€

# å¸¸è§é…ç½®ç¤ºä¾‹
host=localhost          # æœ¬æœºæ•°æ®åº“
host=127.0.0.1          # æœ¬æœºIPåœ°å€
host=192.168.1.100      # å±€åŸŸç½‘å†…å…¶ä»–æœºå™¨
host=db.company.com     # åŸŸååœ°å€
```

**é…ç½®è¯´æ˜**ï¼š

| åœºæ™¯ | é…ç½®ç¤ºä¾‹ | è¯´æ˜ |
|------|----------|------|
| **æœ¬æœºå¼€å‘** | `host=localhost` | Maxwellå’ŒMySQLåœ¨åŒä¸€å°æœºå™¨ |
| **å†…ç½‘éƒ¨ç½²** | `host=192.168.1.100` | è¿æ¥å†…ç½‘å…¶ä»–æœåŠ¡å™¨ |
| **äº‘ç«¯æ•°æ®åº“** | `host=xxx.rds.amazonaws.com` | è¿æ¥äº‘æ•°æ®åº“æœåŠ¡ |
| **Dockerç¯å¢ƒ** | `host=mysql-container` | ä½¿ç”¨å®¹å™¨åç§°è¿æ¥ |

> ğŸ’¡ **æç¤º**ï¼šå¦‚æœè¿æ¥ä¸ä¸Šï¼Œå…ˆç”¨`ping hoståœ°å€`æµ‹è¯•ç½‘ç»œæ˜¯å¦é€šç•…

### 2.2 portç«¯å£é…ç½®


**portå‚æ•°**æŒ‡å®šMySQLæ•°æ®åº“çš„ç«¯å£å·ï¼Œå°±åƒæˆ¿é—´å·ä¸€æ ·ã€‚

```properties
# MySQLé»˜è®¤ç«¯å£
port=3306

# è‡ªå®šä¹‰ç«¯å£ç¤ºä¾‹
port=3307    # å¦‚æœMySQLè¿è¡Œåœ¨å…¶ä»–ç«¯å£
```

**ç«¯å£é…ç½®è¦ç‚¹**ï¼š
- ğŸ”¸ **é»˜è®¤å€¼**ï¼šMySQLé»˜è®¤ä½¿ç”¨3306ç«¯å£
- ğŸ”¸ **è‡ªå®šä¹‰ç«¯å£**ï¼šå¦‚æœMySQLæ”¹äº†ç«¯å£ï¼Œè¿™é‡Œä¹Ÿè¦æ”¹
- ğŸ”¸ **é˜²ç«å¢™**ï¼šç¡®ä¿è¯¥ç«¯å£å…è®¸å¤–éƒ¨è®¿é—®

### 2.3 schema_databaseé…ç½®


**schema_database**æ˜¯ä¸€ä¸ªå®¹æ˜“æ··æ·†çš„æ¦‚å¿µï¼Œè®©æˆ‘ç”¨é€šä¿—çš„è¯è§£é‡Šï¼š

```
Maxwelléœ€è¦ä¸€ä¸ª"å·¥ä½œå°"æ¥å­˜æ”¾è‡ªå·±çš„å·¥ä½œè®°å½•
schema_databaseå°±æ˜¯æŒ‡å®šè¿™ä¸ª"å·¥ä½œå°"æ”¾åœ¨å“ªä¸ªæ•°æ®åº“é‡Œ

é€šä¿—ç†è§£ï¼š
MySQLæ•°æ®åº“ = å¤§ä»“åº“  
schema_database = Maxwellä¸“ç”¨çš„å°ä»“åº“ï¼ˆå­˜æ”¾å·¥ä½œè®°å½•ï¼‰
```

```properties
# Maxwellå…ƒæ•°æ®åº“é…ç½®
schema_database=maxwell

# è¿™ä¼šåœ¨MySQLä¸­åˆ›å»ºä¸€ä¸ªåä¸ºmaxwellçš„æ•°æ®åº“
# ç”¨æ¥å­˜å‚¨Maxwellçš„ä½ç½®ä¿¡æ¯ã€è¡¨ç»“æ„å˜åŒ–ç­‰
```

**é‡è¦è¯´æ˜**ï¼š
- âœ… **è‡ªåŠ¨åˆ›å»º**ï¼šå¦‚æœæ•°æ®åº“ä¸å­˜åœ¨ï¼ŒMaxwellä¼šè‡ªåŠ¨åˆ›å»º
- âœ… **ç‹¬ç«‹å­˜å‚¨**ï¼šä¸ä¼šå½±å“ä½ çš„ä¸šåŠ¡æ•°æ®
- âš ï¸ **æƒé™è¦æ±‚**ï¼šMaxwellç”¨æˆ·éœ€è¦æœ‰åˆ›å»ºæ•°æ®åº“çš„æƒé™

---

## 3. ğŸ” ç”¨æˆ·æƒé™é…ç½®ç®¡ç†


### 3.1 useræƒé™ç”¨æˆ·é…ç½®


**userå‚æ•°**æŒ‡å®šMaxwellè¿æ¥MySQLæ—¶ä½¿ç”¨çš„ç”¨æˆ·åã€‚

```properties
# ç”¨æˆ·åé…ç½®
user=maxwell_user

# ä¹Ÿå¯ä»¥ä½¿ç”¨ç°æœ‰ç”¨æˆ·ï¼ˆéœ€è¦è¶³å¤Ÿæƒé™ï¼‰
user=root
```

**Maxwellç”¨æˆ·æƒé™è¦æ±‚**ï¼š

```
Maxwellç”¨æˆ·éœ€è¦çš„æƒé™æ¸…å•ï¼š

å¿…éœ€æƒé™ï¼š
â€¢ REPLICATION SLAVE    - è¯»å–binlogæ—¥å¿—
â€¢ REPLICATION CLIENT   - è·å–binlogä½ç½®ä¿¡æ¯  
â€¢ SELECT              - æŸ¥è¯¢è¡¨ç»“æ„å’Œæ•°æ®
â€¢ INSERT, UPDATE, DELETE - æ“ä½œå…ƒæ•°æ®è¡¨

æ¨èæƒé™ï¼š
â€¢ CREATE              - åˆ›å»ºschema_database
â€¢ ALTER               - å¤„ç†è¡¨ç»“æ„å˜æ›´
```

**åˆ›å»ºMaxwellä¸“ç”¨ç”¨æˆ·ç¤ºä¾‹**ï¼š
```sql
-- 1. åˆ›å»ºç”¨æˆ·
CREATE USER 'maxwell'@'%' IDENTIFIED BY 'maxwell_password';

-- 2. æˆäºˆå¿…è¦æƒé™
GRANT REPLICATION SLAVE ON *.* TO 'maxwell'@'%';
GRANT REPLICATION CLIENT ON *.* TO 'maxwell'@'%';
GRANT SELECT ON *.* TO 'maxwell'@'%';
GRANT INSERT, UPDATE, DELETE ON maxwell.* TO 'maxwell'@'%';

-- 3. åˆ·æ–°æƒé™
FLUSH PRIVILEGES;
```

> ğŸ”§ **å®è·µå»ºè®®**ï¼šä¸ºMaxwellåˆ›å»ºä¸“ç”¨ç”¨æˆ·ï¼Œé¿å…ä½¿ç”¨rootç”¨æˆ·

### 3.2 passwordå¯†ç ç®¡ç†


**passwordå‚æ•°**é…ç½®Maxwellç”¨æˆ·çš„å¯†ç ã€‚

```properties
# æ˜æ–‡å¯†ç é…ç½®
password=your_password_here

# å¯†ç å®‰å…¨æ³¨æ„äº‹é¡¹
password=Maxwell@2024!    # ä½¿ç”¨å¼ºå¯†ç 
```

**å¯†ç å®‰å…¨æœ€ä½³å®è·µ**ï¼š

```
å¯†ç å®‰å…¨checklistï¼š
âœ… ä½¿ç”¨å¼ºå¯†ç ï¼ˆå¤§å°å†™+æ•°å­—+ç‰¹æ®Šå­—ç¬¦ï¼‰
âœ… å®šæœŸæ›´æ¢å¯†ç 
âœ… ä¸è¦ä½¿ç”¨é»˜è®¤å¯†ç 
âœ… é…ç½®æ–‡ä»¶æƒé™è®¾ç½®ä¸º600
âš ï¸ é¿å…åœ¨æ—¥å¿—ä¸­è®°å½•å¯†ç 
```

**é…ç½®æ–‡ä»¶æƒé™è®¾ç½®**ï¼š
```bash
# è®¾ç½®é…ç½®æ–‡ä»¶åªæœ‰æ‰€æœ‰è€…å¯è¯»å†™
chmod 600 config.properties

# æ£€æŸ¥æƒé™
ls -la config.properties
# åº”è¯¥æ˜¾ç¤ºï¼š-rw------- 1 user group ...
```

---

## 4. ğŸ“¡ Binlogè¿æ¥å™¨é…ç½®


### 4.1 ä»€ä¹ˆæ˜¯Binlogè¿æ¥å™¨


**Binlogè¿æ¥å™¨**æ˜¯Maxwellçš„"çœ¼ç›"ï¼Œä¸“é—¨è´Ÿè´£è¯»å–MySQLçš„binlogæ—¥å¿—ã€‚

```
å½¢è±¡æ¯”å–»ï¼š
MySQL binlog = æ•°æ®åº“çš„"ç›‘æ§å½•åƒ"
Maxwell = ä¸“ä¸šçš„"å½•åƒåˆ†æå¸ˆ"  
binlog_connector = "å½•åƒæ’­æ”¾å™¨"

ä½œç”¨ï¼š
â€¢ è¿æ¥åˆ°MySQLçš„binlogæµ
â€¢ å®æ—¶è¯»å–æ•°æ®å˜åŒ–
â€¢ è§£æbinlogå†…å®¹
â€¢ è½¬æ¢ä¸ºMaxwellèƒ½ç†è§£çš„æ ¼å¼
```

### 4.2 binlog_connectoræ ¸å¿ƒé…ç½®


```properties
# binlogè¿æ¥å™¨ç±»å‹
binlog_connector=mysql

# binlogè¯»å–èµ·å§‹ä½ç½®
binlog_position_file=mysql-bin.000001
binlog_position_offset=4

# æœåŠ¡å™¨IDï¼ˆç”¨äºåŒºåˆ†ä¸åŒçš„ä»åº“ï¼‰
server_id=12345
```

**é…ç½®é¡¹è¯¦è§£**ï¼š

| é…ç½®é¡¹ | ä½œç”¨ | ç¤ºä¾‹å€¼ | è¯´æ˜ |
|--------|------|--------|------|
| `binlog_connector` | è¿æ¥å™¨ç±»å‹ | `mysql` | ç›®å‰ä¸»è¦æ”¯æŒmysql |
| `server_id` | æœåŠ¡å™¨æ ‡è¯† | `12345` | å”¯ä¸€æ ‡è¯†Maxwellå®ä¾‹ |
| `binlog_position_file` | binlogæ–‡ä»¶å | `mysql-bin.000001` | ä»å“ªä¸ªæ–‡ä»¶å¼€å§‹è¯» |
| `binlog_position_offset` | æ–‡ä»¶å†…åç§»é‡ | `4` | ä»æ–‡ä»¶çš„å“ªä¸ªä½ç½®å¼€å§‹ |

### 4.3 Binlogä½ç½®ç®¡ç†


**ä»€ä¹ˆæ˜¯Binlogä½ç½®**ï¼š
```
MySQL binlog = ä¸€æœ¬å¾ˆåšçš„æ—¥è®°æœ¬
æ¯ä¸€é¡µ = ä¸€ä¸ªbinlogæ–‡ä»¶ï¼ˆå¦‚mysql-bin.000001ï¼‰
æ¯ä¸€è¡Œ = ä¸€ä¸ªæ•°æ®å˜åŒ–äº‹ä»¶
ä½ç½® = "ç¬¬å‡ é¡µç¬¬å‡ è¡Œ"

Maxwelléœ€è¦çŸ¥é“ï¼š
"æˆ‘ä¸Šæ¬¡è¯»åˆ°ç¬¬å‡ é¡µç¬¬å‡ è¡Œäº†ï¼Ÿ"
"è¿™æ¬¡ä»å“ªé‡Œå¼€å§‹ç»§ç»­è¯»ï¼Ÿ"
```

**ä½ç½®é…ç½®ç¤ºä¾‹**ï¼š
```properties
# ä»æœ€æ–°ä½ç½®å¼€å§‹ï¼ˆæ¨èç”¨äºç”Ÿäº§ç¯å¢ƒï¼‰
# Maxwellä¼šè‡ªåŠ¨ç®¡ç†ä½ç½®ï¼Œä¸éœ€è¦æ‰‹åŠ¨æŒ‡å®š

# ä»æŒ‡å®šä½ç½®å¼€å§‹ï¼ˆç”¨äºæ¢å¤æˆ–ç‰¹æ®Šéœ€æ±‚ï¼‰
binlog_position_file=mysql-bin.000005
binlog_position_offset=154
```

> ğŸ’¡ **é‡è¦**ï¼šç”Ÿäº§ç¯å¢ƒä¸­é€šå¸¸è®©Maxwellè‡ªåŠ¨ç®¡ç†ä½ç½®ï¼Œé¿å…æ•°æ®ä¸¢å¤±

---

## 5. ğŸ“¤ æ•°æ®è¾“å‡ºProduceré…ç½®


### 5.1 ä»€ä¹ˆæ˜¯Producer


**Producer**æ˜¯Maxwellçš„"å˜´å·´"ï¼Œè´Ÿè´£æŠŠè§£æåçš„æ•°æ®å‘é€åˆ°ç›®æ ‡ç³»ç»Ÿã€‚

```
æ•°æ®æµå‘ï¼š
MySQLæ•°æ®å˜åŒ– â†’ Maxwellè¯»å– â†’ Producerè¾“å‡º â†’ ç›®æ ‡ç³»ç»Ÿ

Producerç±»å‹ï¼š
â€¢ Kafka Producer  - å‘é€åˆ°Kafkaæ¶ˆæ¯é˜Ÿåˆ—
â€¢ File Producer   - å†™å…¥åˆ°æ–‡ä»¶
â€¢ Redis Producer  - å‘é€åˆ°Redis
â€¢ Stdout Producer - æ‰“å°åˆ°æ§åˆ¶å°
```

### 5.2 producerè¾“å‡ºé…ç½®è¯¦è§£


**åŸºç¡€Produceré…ç½®**ï¼š
```properties
# æŒ‡å®šè¾“å‡ºç±»å‹
producer=kafka        # è¾“å‡ºåˆ°Kafka
# producer=file       # è¾“å‡ºåˆ°æ–‡ä»¶  
# producer=stdout     # è¾“å‡ºåˆ°æ§åˆ¶å°
```

**Kafka Produceré…ç½®ç¤ºä¾‹**ï¼š
```properties
# KafkaåŸºç¡€é…ç½®
producer=kafka
kafka.bootstrap.servers=localhost:9092
kafka_topic=maxwell_topic

# Kafkaé«˜çº§é…ç½®
kafka_partition_columns=database,table    # åˆ†åŒºç­–ç•¥
kafka_key_format=hash                     # æ¶ˆæ¯keyæ ¼å¼
```

**File Produceré…ç½®ç¤ºä¾‹**ï¼š
```properties
# æ–‡ä»¶è¾“å‡ºé…ç½®
producer=file
output_file=/path/to/maxwell_output.json

# æ–‡ä»¶è½®è½¬é…ç½®
rotate_output_file=true
rotate_output_file_size_mb=100
```

### 5.3 è¾“å‡ºæ•°æ®æ ¼å¼


Maxwellè¾“å‡ºçš„æ•°æ®æ˜¯JSONæ ¼å¼ï¼ŒåŒ…å«å®Œæ•´çš„å˜æ›´ä¿¡æ¯ï¼š

```json
{
  "database": "test_db",
  "table": "users", 
  "type": "insert",
  "ts": 1642521600,
  "xid": 12345,
  "data": {
    "id": 1,
    "name": "å¼ ä¸‰",
    "email": "zhangsan@example.com"
  }
}
```

**JSONå­—æ®µè¯´æ˜**ï¼š
- ğŸ”¸ **database**ï¼šæ•°æ®åº“åç§°
- ğŸ”¸ **table**ï¼šè¡¨åç§°  
- ğŸ”¸ **type**ï¼šæ“ä½œç±»å‹ï¼ˆinsert/update/deleteï¼‰
- ğŸ”¸ **ts**ï¼šæ—¶é—´æˆ³
- ğŸ”¸ **data**ï¼šå˜æ›´çš„æ•°æ®å†…å®¹

---

## 6. âš™ï¸ é«˜çº§é…ç½®é€‰é¡¹


### 6.1 è¿‡æ»¤é…ç½®


Maxwellæ”¯æŒé…ç½®å“ªäº›æ•°æ®åº“ã€è¡¨éœ€è¦ç›‘æ§ï¼š

```properties
# åªç›‘æ§ç‰¹å®šæ•°æ®åº“
include_dbs=test_db,production_db

# æ’é™¤ç‰¹å®šæ•°æ®åº“  
exclude_dbs=mysql,information_schema,performance_schema

# åªç›‘æ§ç‰¹å®šè¡¨
include_tables=users,orders,products

# æ’é™¤ç‰¹å®šè¡¨
exclude_tables=temp_table,log_table
```

### 6.2 æ€§èƒ½è°ƒä¼˜é…ç½®


```properties
# æ‰¹å¤„ç†å¤§å°
max_batch_size=1000

# å†…å­˜ç¼“å†²åŒºå¤§å°
ring_buffer_size=16384

# è¿æ¥æ± é…ç½®
connection_pool_size=5
```

### 6.3 é”™è¯¯å¤„ç†é…ç½®


```properties
# é”™è¯¯æ—¶æ˜¯å¦åœæ­¢
halt_on_error=false

# é‡è¯•é…ç½®
retry_count=3
retry_delay_ms=1000
```

---

## 7. ğŸ“‹ é…ç½®æ–‡ä»¶å®Œæ•´ç¤ºä¾‹


### 7.1 å¼€å‘ç¯å¢ƒé…ç½®


```properties
# ===== æ•°æ®åº“è¿æ¥é…ç½® =====
host=localhost
port=3306
user=maxwell
password=maxwell123
schema_database=maxwell

# ===== è¾“å‡ºé…ç½® =====
producer=stdout

# ===== è¿‡æ»¤é…ç½® =====
include_dbs=test_db
exclude_tables=temp_table

# ===== Binlogé…ç½® =====
server_id=12345

# ===== å…¶ä»–é…ç½® =====
log_level=info
```

### 7.2 ç”Ÿäº§ç¯å¢ƒé…ç½®


```properties
# ===== æ•°æ®åº“è¿æ¥é…ç½® =====
host=production-mysql.example.com
port=3306
user=maxwell_prod
password=SecurePassword2024!
schema_database=maxwell

# ===== Kafkaè¾“å‡ºé…ç½® =====
producer=kafka
kafka.bootstrap.servers=kafka1:9092,kafka2:9092,kafka3:9092
kafka_topic=maxwell_binlog
kafka_partition_columns=database,table
kafka_key_format=hash

# ===== è¿‡æ»¤é…ç½® =====
include_dbs=ecommerce,user_system
exclude_tables=audit_log,temp_data

# ===== æ€§èƒ½é…ç½® =====
max_batch_size=2000
ring_buffer_size=32768

# ===== é”™è¯¯å¤„ç† =====
halt_on_error=false
retry_count=5

# ===== æ—¥å¿—é…ç½® =====
log_level=warn
```

---

## 8. ğŸ” å¸¸è§é…ç½®é—®é¢˜æ’æŸ¥


### 8.1 è¿æ¥é—®é¢˜


**é—®é¢˜1ï¼šæ— æ³•è¿æ¥åˆ°MySQL**
```
é”™è¯¯ä¿¡æ¯ï¼šConnection refused

æ’æŸ¥æ­¥éª¤ï¼š
âœ… æ£€æŸ¥hostå’Œporté…ç½®æ˜¯å¦æ­£ç¡®
âœ… ç¡®è®¤MySQLæœåŠ¡æ˜¯å¦å¯åŠ¨
âœ… æ£€æŸ¥é˜²ç«å¢™è®¾ç½®
âœ… éªŒè¯ç½‘ç»œè¿é€šæ€§ï¼šping hoståœ°å€
```

**é—®é¢˜2ï¼šè®¤è¯å¤±è´¥**
```
é”™è¯¯ä¿¡æ¯ï¼šAccess denied for user

è§£å†³æ–¹æ¡ˆï¼š
âœ… æ£€æŸ¥ç”¨æˆ·åå¯†ç æ˜¯å¦æ­£ç¡®
âœ… ç¡®è®¤ç”¨æˆ·æƒé™æ˜¯å¦è¶³å¤Ÿ
âœ… éªŒè¯ç”¨æˆ·æ˜¯å¦å…è®¸ä»å½“å‰IPè¿æ¥
```

### 8.2 æƒé™é—®é¢˜


**ç¼ºå°‘binlogæƒé™**ï¼š
```sql
-- æ£€æŸ¥å½“å‰ç”¨æˆ·æƒé™
SHOW GRANTS FOR 'maxwell'@'%';

-- è¡¥å……å¿…è¦æƒé™
GRANT REPLICATION SLAVE ON *.* TO 'maxwell'@'%';
GRANT REPLICATION CLIENT ON *.* TO 'maxwell'@'%';
```

### 8.3 è¾“å‡ºé—®é¢˜


**Kafkaè¿æ¥å¤±è´¥**ï¼š
```properties
# æ£€æŸ¥Kafkaé…ç½®
kafka.bootstrap.servers=correct_kafka_address:9092

# æµ‹è¯•Kafkaè¿é€šæ€§
telnet kafka_host 9092
```

**æ–‡ä»¶å†™å…¥å¤±è´¥**ï¼š
```bash
# æ£€æŸ¥ç›®å½•æƒé™
ls -la /path/to/output/directory

# ç¡®ä¿Maxwellè¿›ç¨‹æœ‰å†™å…¥æƒé™
chmod 755 /path/to/output/directory
```

---

## 9. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 9.1 å¿…é¡»æŒæ¡çš„é…ç½®è¦ç‚¹


```
ğŸ”¸ æ•°æ®åº“è¿æ¥ï¼šhostã€portã€userã€passwordæ˜¯åŸºç¡€å››è¦ç´ 
ğŸ”¸ æƒé™é…ç½®ï¼šMaxwellç”¨æˆ·å¿…é¡»æœ‰REPLICATIONç›¸å…³æƒé™
ğŸ”¸ è¾“å‡ºé…ç½®ï¼šæ ¹æ®éœ€æ±‚é€‰æ‹©åˆé€‚çš„producerç±»å‹
ğŸ”¸ è¿‡æ»¤é…ç½®ï¼šä½¿ç”¨include/excludeæ§åˆ¶ç›‘æ§èŒƒå›´
ğŸ”¸ å®‰å…¨é…ç½®ï¼šé…ç½®æ–‡ä»¶æƒé™ã€å¼ºå¯†ç ã€ä¸“ç”¨ç”¨æˆ·
```

### 9.2 é…ç½®æœ€ä½³å®è·µ


**ğŸ”¹ å®‰å…¨ç¬¬ä¸€**ï¼š
```
â€¢ åˆ›å»ºMaxwellä¸“ç”¨ç”¨æˆ·ï¼Œé¿å…ä½¿ç”¨root
â€¢ è®¾ç½®å¼ºå¯†ç ï¼Œå®šæœŸæ›´æ¢
â€¢ é…ç½®æ–‡ä»¶æƒé™è®¾ä¸º600
â€¢ åªæˆäºˆå¿…è¦çš„æœ€å°æƒé™
```

**ğŸ”¹ æ€§èƒ½ä¼˜åŒ–**ï¼š
```
â€¢ åˆç†è®¾ç½®æ‰¹å¤„ç†å¤§å°
â€¢ æ ¹æ®æ•°æ®é‡è°ƒæ•´ç¼“å†²åŒº
â€¢ ä½¿ç”¨è¿‡æ»¤é…ç½®å‡å°‘ä¸å¿…è¦çš„æ•°æ®ä¼ è¾“
â€¢ ç›‘æ§Maxwellçš„å†…å­˜å’ŒCPUä½¿ç”¨æƒ…å†µ
```

**ğŸ”¹ è¿ç»´ç®¡ç†**ï¼š
```
â€¢ å¤‡ä»½é…ç½®æ–‡ä»¶
â€¢ å»ºç«‹é…ç½®æ–‡ä»¶ç‰ˆæœ¬ç®¡ç†
â€¢ æ–‡æ¡£åŒ–æ¯ä¸ªé…ç½®é¡¹çš„ä½œç”¨
â€¢ å»ºç«‹é…ç½®å˜æ›´å®¡æ‰¹æµç¨‹
```

### 9.3 é…ç½®è®°å¿†è¦ç‚¹


```
é…ç½®æ–‡ä»¶ç»“æ„ï¼š
æ•°æ®åº“è¿æ¥ + ç”¨æˆ·æƒé™ + è¾“å‡ºé…ç½® + é«˜çº§é€‰é¡¹

å…³é”®é…ç½®é¡¹ï¼š
â€¢ host/port - è¿æ¥å“ªé‡Œ
â€¢ user/password - ç”¨ä»€ä¹ˆèº«ä»½
â€¢ producer - è¾“å‡ºåˆ°å“ªé‡Œ
â€¢ include/exclude - ç›‘æ§ä»€ä¹ˆ

å¸¸è§é—®é¢˜ï¼š
â€¢ è¿æ¥ä¸ä¸Š â†’ æ£€æŸ¥ç½‘ç»œå’Œåœ°å€
â€¢ æƒé™ä¸å¤Ÿ â†’ æ£€æŸ¥ç”¨æˆ·æƒé™
â€¢ è¾“å‡ºå¤±è´¥ â†’ æ£€æŸ¥ç›®æ ‡ç³»ç»ŸçŠ¶æ€
```

**æ ¸å¿ƒè®°å¿†**ï¼š
- Maxwellé…ç½®å°±æ˜¯å‘Šè¯‰å®ƒ"ä»å“ªé‡Œå–æ•°æ®ï¼Œç”¨ä»€ä¹ˆèº«ä»½ï¼Œå‘åˆ°å“ªé‡Œå»"
- å®‰å…¨é…ç½®æ¯”åŠŸèƒ½é…ç½®æ›´é‡è¦ï¼Œå…ˆä¿è¯å®‰å…¨å†è¿½æ±‚æ€§èƒ½
- å‡ºé—®é¢˜æ—¶å…ˆæ£€æŸ¥è¿æ¥ã€å†æ£€æŸ¥æƒé™ã€æœ€åæ£€æŸ¥é…ç½®è¯­æ³•
- é…ç½®è¦æœ‰å¤‡ä»½ï¼Œå˜æ›´è¦æœ‰è®°å½•ï¼Œé—®é¢˜è¦æœ‰é¢„æ¡ˆ