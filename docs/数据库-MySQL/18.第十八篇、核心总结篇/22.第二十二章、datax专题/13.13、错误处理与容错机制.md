---
title: 13ã€é”™è¯¯å¤„ç†ä¸å®¹é”™æœºåˆ¶
---
## ğŸ“š ç›®å½•

1. [DataXé”™è¯¯å¤„ç†æ¦‚è¿°](#1-DataXé”™è¯¯å¤„ç†æ¦‚è¿°)
2. [é”™è¯¯ç±»å‹ä¸è¯†åˆ«](#2-é”™è¯¯ç±»å‹ä¸è¯†åˆ«)
3. [é”™è¯¯å¤„ç†ç­–ç•¥é…ç½®](#3-é”™è¯¯å¤„ç†ç­–ç•¥é…ç½®)
4. [è„æ•°æ®å¤„ç†æœºåˆ¶](#4-è„æ•°æ®å¤„ç†æœºåˆ¶)
5. [é‡è¯•æœºåˆ¶ä¸æ¢å¤](#5-é‡è¯•æœºåˆ¶ä¸æ¢å¤)
6. [å®¹é”™é˜ˆå€¼ä¸ç›‘æ§](#6-å®¹é”™é˜ˆå€¼ä¸ç›‘æ§)
7. [é”™è¯¯æ—¥å¿—åˆ†æ](#7-é”™è¯¯æ—¥å¿—åˆ†æ)
8. [æ•°æ®è´¨é‡æ£€æŸ¥](#8-æ•°æ®è´¨é‡æ£€æŸ¥)
9. [æ€§èƒ½ä¸å®¹é”™å¹³è¡¡](#9-æ€§èƒ½ä¸å®¹é”™å¹³è¡¡)
10. [æœ€ä½³å®è·µæ€»ç»“](#10-æœ€ä½³å®è·µæ€»ç»“)

---

## 1. ğŸ›¡ï¸ DataXé”™è¯¯å¤„ç†æ¦‚è¿°


### 1.1 ä»€ä¹ˆæ˜¯DataXé”™è¯¯å¤„ç†


**åŸºæœ¬æ¦‚å¿µ**ï¼š
DataXé”™è¯¯å¤„ç†æ˜¯æŒ‡åœ¨æ•°æ®åŒæ­¥è¿‡ç¨‹ä¸­ï¼Œå½“é‡åˆ°å„ç§å¼‚å¸¸æƒ…å†µæ—¶ï¼Œç³»ç»Ÿå¦‚ä½•è¯†åˆ«ã€å¤„ç†å’Œæ¢å¤çš„æœºåˆ¶ã€‚

> ğŸ’¡ **é€šä¿—ç†è§£**  
> å°±åƒæ¬å®¶æ—¶æ€»ä¼šé‡åˆ°ä¸€äº›ç‰©å“æŸåæˆ–ä¸¢å¤±ï¼ŒDataXçš„é”™è¯¯å¤„ç†å°±æ˜¯åˆ¶å®šåº”å¯¹è¿™äº›"æ„å¤–"çš„æ–¹æ¡ˆï¼Œç¡®ä¿æ•´ä¸ªæ¬å®¶è¿‡ç¨‹èƒ½é¡ºåˆ©å®Œæˆã€‚

**æ ¸å¿ƒä½œç”¨**ï¼š
```
ğŸ”¸ ä¿éšœä»»åŠ¡ç¨³å®šæ€§ï¼šé¿å…å•ä¸ªé”™è¯¯å¯¼è‡´æ•´ä¸ªä»»åŠ¡å¤±è´¥
ğŸ”¸ æå‡æ•°æ®è´¨é‡ï¼šè¯†åˆ«å’Œå¤„ç†è„æ•°æ®
ğŸ”¸ é™ä½è¿ç»´æˆæœ¬ï¼šè‡ªåŠ¨å¤„ç†å¸¸è§é”™è¯¯ï¼Œå‡å°‘äººå·¥å¹²é¢„
ğŸ”¸ ç¡®ä¿ä¸šåŠ¡è¿ç»­æ€§ï¼šé€šè¿‡å®¹é”™æœºåˆ¶ä¿è¯æ ¸å¿ƒä¸šåŠ¡ä¸ä¸­æ–­
```

### 1.2 DataXé”™è¯¯å¤„ç†çš„é‡è¦æ€§


**ä¸šåŠ¡åœºæ™¯ä¸¾ä¾‹**ï¼š
```
ç”µå•†è®¢å•åŒæ­¥åœºæ™¯ï¼š
â”œâ”€â”€ æ•°æ®æºï¼šMySQLè®¢å•è¡¨ï¼ˆ100ä¸‡æ¡è®°å½•ï¼‰
â”œâ”€â”€ ç›®æ ‡ï¼šå¤§æ•°æ®å¹³å°ï¼ˆç”¨äºåˆ†æï¼‰
â””â”€â”€ å¯èƒ½é‡åˆ°çš„é—®é¢˜ï¼š
    â”œâ”€â”€ ç½‘ç»œä¸ç¨³å®šå¯¼è‡´è¿æ¥ä¸­æ–­
    â”œâ”€â”€ éƒ¨åˆ†è®¢å•æ•°æ®æ ¼å¼å¼‚å¸¸
    â”œâ”€â”€ ç›®æ ‡ç³»ç»Ÿå¶å°”å“åº”è¶…æ—¶
    â””â”€â”€ æŸäº›å­—æ®µåŒ…å«ç‰¹æ®Šå­—ç¬¦

ä¼ ç»Ÿåšæ³•ï¼šä»»åŠ¡å¤±è´¥ï¼Œé‡æ–°å…¨é‡åŒæ­¥
DataXå®¹é”™ï¼šè·³è¿‡é—®é¢˜æ•°æ®ï¼Œè®°å½•é”™è¯¯ï¼Œç»§ç»­æ‰§è¡Œ
```

### 1.3 é”™è¯¯å¤„ç†çš„æ ¸å¿ƒç†å¿µ


**è®¾è®¡åŸåˆ™**ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              å®¹é”™åŸåˆ™               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ¯ å°½æœ€å¤§åŠªåŠ›å®Œæˆä»»åŠ¡              â”‚
â”‚  ğŸ“Š è¯¦ç»†è®°å½•æ‰€æœ‰é”™è¯¯ä¿¡æ¯            â”‚
â”‚  âš¡ å¿«é€Ÿæ¢å¤ï¼Œå‡å°‘åœæœºæ—¶é—´          â”‚
â”‚  ğŸ” æä¾›å®Œæ•´çš„é”™è¯¯è¿½è¸ªé“¾æ¡          â”‚
â”‚  ğŸ“ˆ æ”¯æŒçµæ´»çš„é”™è¯¯é˜ˆå€¼é…ç½®          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. ğŸ” é”™è¯¯ç±»å‹ä¸è¯†åˆ«


### 2.1 DataXé”™è¯¯åˆ†ç±»ä½“ç³»


**æŒ‰é”™è¯¯æ¥æºåˆ†ç±»**ï¼š

| é”™è¯¯ç±»å‹ | **å…·ä½“è¡¨ç°** | **å½±å“èŒƒå›´** | **å¤„ç†éš¾åº¦** |
|---------|-------------|-------------|-------------|
| ğŸ”Œ **è¿æ¥é”™è¯¯** | `ç½‘ç»œä¸­æ–­ã€è®¤è¯å¤±è´¥` | `æ•´ä¸ªä»»åŠ¡` | `ä¸­ç­‰` |
| ğŸ“Š **æ•°æ®é”™è¯¯** | `æ ¼å¼å¼‚å¸¸ã€ç±»å‹ä¸åŒ¹é…` | `å•æ¡è®°å½•` | `ç®€å•` |
| ğŸ’¾ **ç³»ç»Ÿé”™è¯¯** | `å†…å­˜ä¸è¶³ã€ç£ç›˜æ»¡` | `æ•´ä¸ªä»»åŠ¡` | `å›°éš¾` |
| âš™ï¸ **é…ç½®é”™è¯¯** | `å‚æ•°é”™è¯¯ã€è·¯å¾„ä¸å­˜åœ¨` | `æ•´ä¸ªä»»åŠ¡` | `ç®€å•` |

### 2.2 å¸¸è§é”™è¯¯è¯¦è§£


#### ğŸ”Œ è¿æ¥ç±»é”™è¯¯


**é”™è¯¯è¡¨ç°**ï¼š
```bash
# æ•°æ®åº“è¿æ¥è¶…æ—¶
ERROR - connect to [jdbc:mysql://192.168.1.100:3306/test] failed
java.sql.SQLException: Communications link failure

# è®¤è¯å¤±è´¥
ERROR - Access denied for user 'datax'@'192.168.1.50' 
(using password: YES)
```

**äº§ç”ŸåŸå› **ï¼š
- ç½‘ç»œä¸ç¨³å®šæˆ–ä¸­æ–­
- æ•°æ®åº“æœåŠ¡å™¨é‡å¯
- ç”¨æˆ·åå¯†ç é”™è¯¯
- é˜²ç«å¢™è§„åˆ™å˜æ›´

#### ğŸ“Š æ•°æ®ç±»é”™è¯¯


**é”™è¯¯è¡¨ç°**ï¼š
```bash
# æ•°æ®ç±»å‹è½¬æ¢å¤±è´¥
ERROR - Can't convert string '2023-13-45' to date
ERROR - NumberFormatException: For input string: "abc123"

# æ•°æ®é•¿åº¦è¶…é™
ERROR - Data truncation: Data too long for column 'name' at row 1
```

**å…·ä½“ç¤ºä¾‹**ï¼š
```sql
-- æºæ•°æ®ï¼ˆæœ‰é—®é¢˜çš„è®°å½•ï¼‰
+----+----------+------------+-------+
| id | name     | birth_date | age   |
+----+----------+------------+-------+
| 1  | å¼ ä¸‰     | 2023-13-45 | 25    |  â† æ—¥æœŸæ ¼å¼é”™è¯¯
| 2  | æå››æå››æå››æå›› | 1990-01-01 | abc   |  â† å§“åè¿‡é•¿ï¼Œå¹´é¾„éæ•°å­—
| 3  | ç‹äº”     | 1985-05-15 | 30    |  â† æ­£å¸¸æ•°æ®
+----+----------+------------+-------+
```

### 2.3 é”™è¯¯è¯†åˆ«æœºåˆ¶


**DataXé”™è¯¯è¯†åˆ«æµç¨‹**ï¼š
```
æ•°æ®è¯»å– â†’ ç±»å‹è½¬æ¢ â†’ æ ¼å¼æ ¡éªŒ â†’ å†™å…¥ç›®æ ‡
    â†“         â†“         â†“         â†“
   è¿æ¥å¼‚å¸¸   è½¬æ¢å¼‚å¸¸   æ ¡éªŒå¼‚å¸¸   å†™å…¥å¼‚å¸¸
    â†“         â†“         â†“         â†“
 é‡è¯•/è·³è¿‡  è®°å½•è„æ•°æ®  è®°å½•è„æ•°æ®  é‡è¯•/è·³è¿‡
```

---

## 3. âš™ï¸ é”™è¯¯å¤„ç†ç­–ç•¥é…ç½®


### 3.1 åŸºç¡€å®¹é”™é…ç½®


**æ ¸å¿ƒå‚æ•°è¯´æ˜**ï¼š

```json
{
  "core": {
    "transport": {
      "channel": {
        "errorLimit": {
          "record": 100,     // å…è®¸çš„é”™è¯¯è®°å½•æ•°ä¸Šé™
          "percentage": 0.1  // å…è®¸çš„é”™è¯¯æ¯”ä¾‹ä¸Šé™ï¼ˆ10%ï¼‰
        }
      }
    }
  }
}
```

> ğŸ“‹ **å‚æ•°å«ä¹‰è§£é‡Š**  
> - `record`: ç»å¯¹æ•°é‡é™åˆ¶ï¼Œæ¯”å¦‚å…è®¸æœ€å¤š100æ¡é”™è¯¯è®°å½•
> - `percentage`: ç›¸å¯¹æ¯”ä¾‹é™åˆ¶ï¼Œæ¯”å¦‚é”™è¯¯ç‡ä¸è¶…è¿‡10%
> - **ç”Ÿæ•ˆè§„åˆ™**: ä¸¤ä¸ªæ¡ä»¶ä»»æ„ä¸€ä¸ªè¾¾åˆ°å°±åœæ­¢ä»»åŠ¡

### 3.2 è¯¦ç»†é…ç½®ç¤ºä¾‹


**å®Œæ•´çš„é”™è¯¯å¤„ç†é…ç½®**ï¼š

```json
{
  "job": {
    "setting": {
      "errorLimit": {
        "record": 1000,           // æœ€å¤šå…è®¸1000æ¡é”™è¯¯è®°å½•
        "percentage": 0.05        // é”™è¯¯ç‡ä¸è¶…è¿‡5%
      },
      "dirty": {
        "path": "/data/datax/dirty",           // è„æ•°æ®ä¿å­˜è·¯å¾„
        "hadoopConfig": {
          "fs.default.name": "hdfs://namenode:9000"
        }
      }
    },
    "content": [
      {
        "reader": {
          "name": "mysqlreader",
          "parameter": {
            "connection": [
              {
                "jdbcUrl": ["jdbc:mysql://localhost:3306/test"],
                "table": ["user_table"]
              }
            ],
            "username": "root",
            "password": "password",
            "column": ["id", "name", "age", "email"]
          }
        },
        "writer": {
          "name": "mysqlwriter", 
          "parameter": {
            "writeMode": "insert",
            "batchSize": 1024,
            "connection": [
              {
                "jdbcUrl": "jdbc:mysql://target:3306/warehouse",
                "table": ["user_dim"]
              }
            ],
            "username": "datax",
            "password": "datax123",
            "column": ["user_id", "user_name", "user_age", "user_email"],
            "preSql": ["set session sql_mode='ANSI'"],    // é¢„å¤„ç†SQL
            "postSql": ["optimize table user_dim"]        // åå¤„ç†SQL
          }
        }
      }
    ]
  }
}
```

### 3.3 ä¸åŒç­–ç•¥å¯¹æ¯”


**ç­–ç•¥é€‰æ‹©æŒ‡å—**ï¼š

| ä¸šåŠ¡åœºæ™¯ | **æ¨èé…ç½®** | **ç†ç”±è¯´æ˜** |
|---------|-------------|-------------|
| ğŸª **æ ¸å¿ƒä¸šåŠ¡æ•°æ®** | `record=0, percentage=0` | `æ•°æ®å®Œæ•´æ€§è¦æ±‚æé«˜ï¼Œä¸å…è®¸ä»»ä½•é”™è¯¯` |
| ğŸ“Š **æ—¥å¿—åˆ†ææ•°æ®** | `record=10000, percentage=0.1` | `å…è®¸å°‘é‡æ•°æ®ä¸¢å¤±ï¼Œé‡è§†åŒæ­¥æ•ˆç‡` |
| ğŸ”„ **å¢é‡åŒæ­¥** | `record=100, percentage=0.01` | `å¹³è¡¡æ•°æ®è´¨é‡å’ŒåŒæ­¥ç¨³å®šæ€§` |
| ğŸ§ª **æµ‹è¯•ç¯å¢ƒ** | `record=âˆ, percentage=1` | `å…è®¸å¤§é‡é”™è¯¯ï¼Œä¸“æ³¨åŠŸèƒ½éªŒè¯` |

---

## 4. ğŸ—‚ï¸ è„æ•°æ®å¤„ç†æœºåˆ¶


### 4.1 ä»€ä¹ˆæ˜¯è„æ•°æ®


**å®šä¹‰**ï¼š
è„æ•°æ®æ˜¯æŒ‡åœ¨æ•°æ®åŒæ­¥è¿‡ç¨‹ä¸­æ— æ³•æ­£å¸¸å¤„ç†çš„è®°å½•ï¼ŒåŒ…æ‹¬æ ¼å¼é”™è¯¯ã€ç±»å‹ä¸åŒ¹é…ã€çº¦æŸè¿åç­‰ã€‚

**è„æ•°æ®ç¤ºä¾‹**ï¼š
```
åŸå§‹æ•°æ®è¡¨ï¼š
+----+--------+------------+----------+
| id | name   | birth_date | phone    |
+----+--------+------------+----------+
| 1  | å¼ ä¸‰   | 1990-01-01 | 13800138000 |  â† æ­£å¸¸
| 2  | NULL   | 1985-05-15 | 13900139000 |  â† å§“åä¸ºç©º
| 3  | æå››   | 1995-13-01 | 13700137000 |  â† æ—¥æœŸæ ¼å¼é”™è¯¯  
| 4  | ç‹äº”   | 1988-08-08 | 1380013800  |  â† æ‰‹æœºå·ä½æ•°ä¸å¤Ÿ
+----+--------+------------+----------+

è„æ•°æ®ï¼šè®°å½•2ã€3ã€4éƒ½æ˜¯è„æ•°æ®
```

### 4.2 è„æ•°æ®ä¿å­˜é…ç½®


**æ–‡ä»¶ç³»ç»Ÿä¿å­˜**ï¼š
```json
{
  "dirty": {
    "path": "/data/datax/dirty/user_sync_20230915",
    "fileName": "dirty_records.txt",
    "hadoopConfig": {
      "fs.default.name": "file:///"  // æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿ
    }
  }
}
```

**HDFSä¿å­˜**ï¼š
```json
{
  "dirty": {
    "path": "/datax/dirty/user_sync/",
    "hadoopConfig": {
      "fs.default.name": "hdfs://namenode:9000",
      "dfs.nameservices": "mycluster"
    }
  }
}
```

### 4.3 è„æ•°æ®æ–‡ä»¶æ ¼å¼


**å…¸å‹è„æ•°æ®è®°å½•**ï¼š
```
==================== è„æ•°æ® ====================
é”™è¯¯æ—¶é—´: 2023-09-15 14:30:25
é”™è¯¯ç±»å‹: æ•°æ®è½¬æ¢å¼‚å¸¸
é”™è¯¯æè¿°: Cannot parse date '1995-13-01' 
åŸå§‹è®°å½•: {"id":3,"name":"æå››","birth_date":"1995-13-01","phone":"13700137000"}
ç›®æ ‡è¡¨: user_dim
é”™è¯¯å­—æ®µ: birth_date
é”™è¯¯åŸå› : java.text.ParseException: Unparseable date: "1995-13-01"
===============================================

==================== è„æ•°æ® ====================  
é”™è¯¯æ—¶é—´: 2023-09-15 14:30:26
é”™è¯¯ç±»å‹: çº¦æŸè¿å
é”™è¯¯æè¿°: Column 'name' cannot be null
åŸå§‹è®°å½•: {"id":2,"name":null,"birth_date":"1985-05-15","phone":"13900139000"}
ç›®æ ‡è¡¨: user_dim
é”™è¯¯å­—æ®µ: name
é”™è¯¯åŸå› : com.mysql.jdbc.exceptions.MySQLIntegrityConstraintViolationException
===============================================
```

### 4.4 è„æ•°æ®åˆ†æä¸å¤„ç†


**è„æ•°æ®ç»Ÿè®¡åˆ†æ**ï¼š
```bash
#!/bin/bash
# è„æ•°æ®åˆ†æè„šæœ¬

dirty_file="/data/datax/dirty/user_sync_20230915/dirty_records.txt"

echo "=== è„æ•°æ®ç»Ÿè®¡æŠ¥å‘Š ==="
echo "æ€»é”™è¯¯æ•°é‡: $(grep -c 'é”™è¯¯æ—¶é—´' $dirty_file)"
echo ""

echo "=== é”™è¯¯ç±»å‹åˆ†å¸ƒ ==="
grep 'é”™è¯¯ç±»å‹:' $dirty_file | sort | uniq -c | sort -nr

echo ""
echo "=== é”™è¯¯å­—æ®µç»Ÿè®¡ ==="
grep 'é”™è¯¯å­—æ®µ:' $dirty_file | sort | uniq -c | sort -nr

echo ""
echo "=== æŒ‰å°æ—¶é”™è¯¯åˆ†å¸ƒ ==="
grep 'é”™è¯¯æ—¶é—´:' $dirty_file | cut -d' ' -f2 | cut -d':' -f1 | sort | uniq -c
```

**è¾“å‡ºç¤ºä¾‹**ï¼š
```
=== è„æ•°æ®ç»Ÿè®¡æŠ¥å‘Š ===
æ€»é”™è¯¯æ•°é‡: 156

=== é”™è¯¯ç±»å‹åˆ†å¸ƒ ===
     89 æ•°æ®è½¬æ¢å¼‚å¸¸
     45 çº¦æŸè¿å  
     22 æ•°æ®é•¿åº¦è¶…é™

=== é”™è¯¯å­—æ®µç»Ÿè®¡ ===
     67 birth_date
     34 phone
     28 name
     27 email

=== æŒ‰å°æ—¶é”™è¯¯åˆ†å¸ƒ ===
     45 14
     38 15
     32 16
     28 13
     13 17
```

---

## 5. ğŸ”„ é‡è¯•æœºåˆ¶ä¸æ¢å¤


### 5.1 é‡è¯•æœºåˆ¶åŸç†


**é‡è¯•è§¦å‘æ¡ä»¶**ï¼š
- ç½‘ç»œè¿æ¥æš‚æ—¶ä¸­æ–­
- ç›®æ ‡ç³»ç»Ÿæš‚æ—¶ä¸å¯ç”¨
- ä¸´æ—¶çš„èµ„æºç«äº‰é—®é¢˜

> ğŸ’¡ **é‡è¯•vsè·³è¿‡çš„åŒºåˆ«**  
> - **é‡è¯•**ï¼šé’ˆå¯¹å¯èƒ½ä¸´æ—¶æ¢å¤çš„é”™è¯¯ï¼ˆå¦‚ç½‘ç»œä¸­æ–­ï¼‰
> - **è·³è¿‡**ï¼šé’ˆå¯¹æ•°æ®æœ¬èº«æœ‰é—®é¢˜çš„é”™è¯¯ï¼ˆå¦‚æ ¼å¼é”™è¯¯ï¼‰

### 5.2 é‡è¯•ç­–ç•¥é…ç½®


**åŸºç¡€é‡è¯•é…ç½®**ï¼š
```json
{
  "core": {
    "transport": {
      "channel": {
        "capacity": 512,
        "byteCapacity": 67108864
      }
    },
    "datax": {
      "job": {
        "reportInterval": 30000,
        "sleepInterval": 100,
        "maxRetryTimes": 3,        // æœ€å¤§é‡è¯•æ¬¡æ•°
        "retryInterval": 10000     // é‡è¯•é—´éš”ï¼ˆæ¯«ç§’ï¼‰
      }
    }
  }
}
```

**Readeré‡è¯•é…ç½®**ï¼š
```json
{
  "reader": {
    "name": "mysqlreader",
    "parameter": {
      "fetchSize": 1024,
      "queryTimeOut": 3600,
      "retryTime": 3,            // Readeré‡è¯•æ¬¡æ•°
      "retryInterval": 5000,     // Readeré‡è¯•é—´éš”
      "connection": [
        {
          "jdbcUrl": ["jdbc:mysql://localhost:3306/test?autoReconnect=true"],
          "table": ["user_table"]
        }
      ]
    }
  }
}
```

### 5.3 é‡è¯•åœºæ™¯ç¤ºä¾‹


**ç½‘ç»œé‡è¯•åœºæ™¯**ï¼š
```
æ—¶é—´è½´æ¼”ç¤ºï¼š
14:30:00 - å¼€å§‹åŒæ­¥ï¼Œå‰1000æ¡è®°å½•æ­£å¸¸
14:30:15 - ç½‘ç»œä¸­æ–­ï¼Œè¿æ¥å¤±è´¥
14:30:16 - ç¬¬1æ¬¡é‡è¯•å¤±è´¥ï¼ˆç½‘ç»œä»æœªæ¢å¤ï¼‰
14:30:26 - ç¬¬2æ¬¡é‡è¯•å¤±è´¥ï¼ˆç­‰å¾…10ç§’åé‡è¯•ï¼‰
14:30:36 - ç¬¬3æ¬¡é‡è¯•æˆåŠŸï¼ˆç½‘ç»œå·²æ¢å¤ï¼‰
14:30:37 - ç»§ç»­åŒæ­¥å‰©ä½™æ•°æ®

é‡è¯•æ—¥å¿—ï¼š
[INFO] 2023-09-15 14:30:15 - Task-1 connection lost, starting retry...
[WARN] 2023-09-15 14:30:16 - Task-1 retry 1/3 failed: Connection refused
[WARN] 2023-09-15 14:30:26 - Task-1 retry 2/3 failed: Connection timeout
[INFO] 2023-09-15 14:30:36 - Task-1 retry 3/3 success: Connection restored
[INFO] 2023-09-15 14:30:37 - Task-1 resuming data transfer...
```

### 5.4 å¤±è´¥ä»»åŠ¡æ¢å¤


**æ–­ç‚¹ç»­ä¼ æœºåˆ¶**ï¼š
```bash
# æŸ¥çœ‹å¤±è´¥ä»»åŠ¡çŠ¶æ€
datax_status_check.sh job_20230915_143000

# è¾“å‡ºï¼š
# ä»»åŠ¡ID: job_20230915_143000
# å¼€å§‹æ—¶é—´: 2023-09-15 14:30:00
# å¤±è´¥æ—¶é—´: 2023-09-15 14:35:22
# å·²å¤„ç†è®°å½•: 45,678 / 100,000
# å¤±è´¥åŸå› : Target database connection timeout
# å¯æ¢å¤: Yes

# ä»æ–­ç‚¹æ¢å¤ä»»åŠ¡
python datax.py --resume job_20230915_143000
```

**æ¢å¤é…ç½®ç¤ºä¾‹**ï¼š
```json
{
  "job": {
    "setting": {
      "restore": {
        "isRestore": true,
        "restoreFromBreakPoint": true,
        "restoreTable": "datax_checkpoint",
        "restoreColumn": ["job_id", "table_name", "last_value"]
      }
    }
  }
}
```

---

## 6. ğŸ“Š å®¹é”™é˜ˆå€¼ä¸ç›‘æ§


### 6.1 é˜ˆå€¼è®¾ç½®ç­–ç•¥


**åŠ¨æ€é˜ˆå€¼è®¡ç®—**ï¼š
```java
// åŸºäºæ•°æ®é‡çš„åŠ¨æ€é˜ˆå€¼è®¾ç½®
public class ErrorThresholdCalculator {
    
    public static ErrorThreshold calculate(long totalRecords, String businessType) {
        ErrorThreshold threshold = new ErrorThreshold();
        
        if ("CRITICAL".equals(businessType)) {
            // æ ¸å¿ƒä¸šåŠ¡ï¼šä¸¥æ ¼æ§åˆ¶
            threshold.setMaxErrors(Math.min(10, totalRecords / 10000));
            threshold.setMaxPercentage(0.001); // 0.1%
        } else if ("NORMAL".equals(businessType)) {
            // æ™®é€šä¸šåŠ¡ï¼šé€‚ä¸­æ§åˆ¶
            threshold.setMaxErrors(Math.min(100, totalRecords / 1000));
            threshold.setMaxPercentage(0.01);  // 1%
        } else {
            // éæ ¸å¿ƒä¸šåŠ¡ï¼šå®½æ¾æ§åˆ¶
            threshold.setMaxErrors(Math.min(1000, totalRecords / 100));
            threshold.setMaxPercentage(0.05);  // 5%
        }
        
        return threshold;
    }
}
```

### 6.2 å®æ—¶ç›‘æ§æŒ‡æ ‡


**å…³é”®ç›‘æ§æŒ‡æ ‡**ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            DataXç›‘æ§é¢æ¿            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“Š åŒæ­¥è¿›åº¦: 75,690 / 100,000     â”‚
â”‚  â±ï¸  æ‰§è¡Œæ—¶é—´: 00:15:23             â”‚
â”‚  ğŸ”¥ å¤„ç†é€Ÿåº¦: 82 records/sec       â”‚
â”‚  âŒ é”™è¯¯æ•°é‡: 23 errors            â”‚
â”‚  ğŸ“ˆ é”™è¯¯ç‡: 0.03%                  â”‚
â”‚  ğŸ¯ å‰©ä½™æ—¶é—´: 00:05:12             â”‚
â”‚  ğŸ’¾ å†…å­˜ä½¿ç”¨: 1.2GB / 4GB          â”‚
â”‚  ğŸ”„ é‡è¯•æ¬¡æ•°: 5 retries            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ç›‘æ§å‘Šè­¦é…ç½®**ï¼š
```yaml
# DataXç›‘æ§å‘Šè­¦è§„åˆ™
alerts:
  - name: "é«˜é”™è¯¯ç‡å‘Šè­¦"
    condition: "error_rate > 0.05"  # é”™è¯¯ç‡è¶…è¿‡5%
    action: "å‘é€é‚®ä»¶+çŸ­ä¿¡"
    
  - name: "ä»»åŠ¡è¶…æ—¶å‘Šè­¦" 
    condition: "duration > 3600"    # æ‰§è¡Œè¶…è¿‡1å°æ—¶
    action: "å‘é€é‚®ä»¶"
    
  - name: "å†…å­˜ä½¿ç”¨å‘Šè­¦"
    condition: "memory_usage > 0.9"  # å†…å­˜ä½¿ç”¨è¶…è¿‡90%
    action: "å‘é€é‚®ä»¶+é’‰é’‰"
```

### 6.3 ç›‘æ§æ•°æ®æ”¶é›†


**ç›‘æ§æ•°æ®ç¤ºä¾‹**ï¼š
```json
{
  "jobId": "job_20230915_143000",
  "startTime": "2023-09-15T14:30:00Z",
  "endTime": "2023-09-15T14:45:23Z",
  "status": "SUCCESS",
  "metrics": {
    "totalRecords": 100000,
    "successRecords": 99977,
    "errorRecords": 23,
    "errorRate": 0.00023,
    "avgSpeed": 82.5,
    "maxSpeed": 156.7,
    "minSpeed": 45.2,
    "retryCount": 5,
    "memoryUsage": {
      "max": "1.2GB",
      "avg": "0.8GB"
    }
  },
  "errors": [
    {
      "type": "æ•°æ®è½¬æ¢å¼‚å¸¸",
      "count": 15,
      "percentage": 65.2
    },
    {
      "type": "çº¦æŸè¿å", 
      "count": 8,
      "percentage": 34.8
    }
  ]
}
```

---

## 7. ğŸ“ é”™è¯¯æ—¥å¿—åˆ†æ


### 7.1 æ—¥å¿—çº§åˆ«ä¸æ ¼å¼


**DataXæ—¥å¿—çº§åˆ«**ï¼š
```
FATAL â†’ ç³»ç»Ÿå´©æºƒçº§é”™è¯¯ï¼Œä»»åŠ¡æ— æ³•ç»§ç»­
ERROR â†’ ä¸¥é‡é”™è¯¯ï¼Œå½±å“æ•°æ®åŒæ­¥  
WARN  â†’ è­¦å‘Šä¿¡æ¯ï¼Œå¯èƒ½å½±å“æ€§èƒ½
INFO  â†’ ä¸€èˆ¬ä¿¡æ¯ï¼Œä»»åŠ¡æ‰§è¡ŒçŠ¶æ€
DEBUG â†’ è¯¦ç»†è°ƒè¯•ä¿¡æ¯ï¼Œé—®é¢˜æ’æŸ¥ç”¨
TRACE â†’ æœ€è¯¦ç»†çš„è·Ÿè¸ªä¿¡æ¯
```

**æ ‡å‡†æ—¥å¿—æ ¼å¼**ï¼š
```
[æ—¥å¿—çº§åˆ«] æ—¶é—´æˆ³ çº¿ç¨‹å ç±»å - æ—¥å¿—å†…å®¹

ç¤ºä¾‹ï¼š
[ERROR] 2023-09-15 14:30:25.123 job-0 Reader.Task - 
connect to [jdbc:mysql://192.168.1.100:3306/test] failed, 
errorMessage:Communications link failure
```

### 7.2 å¸¸è§é”™è¯¯æ¨¡å¼è¯†åˆ«


**é”™è¯¯æ¨¡å¼åˆ†ç±»è¡¨**ï¼š

| é”™è¯¯å…³é”®å­— | **é”™è¯¯ç±»å‹** | **å¸¸è§åŸå› ** | **è§£å†³æ–¹æ¡ˆ** |
|----------|-------------|-------------|-------------|
| `Communications link failure` | **è¿æ¥ä¸­æ–­** | `ç½‘ç»œä¸ç¨³å®š` | `å¢åŠ é‡è¯•æ¬¡æ•°ï¼Œæ£€æŸ¥ç½‘ç»œ` |
| `Access denied` | **è®¤è¯å¤±è´¥** | `ç”¨æˆ·åå¯†ç é”™è¯¯` | `æ£€æŸ¥æ•°æ®åº“è¿æ¥ä¿¡æ¯` |
| `Table doesn't exist` | **è¡¨ä¸å­˜åœ¨** | `è¡¨åé”™è¯¯æˆ–æƒé™ä¸è¶³` | `æ£€æŸ¥è¡¨åå’Œç”¨æˆ·æƒé™` |
| `Data truncation` | **æ•°æ®æˆªæ–­** | `å­—æ®µé•¿åº¦è¶…é™` | `è°ƒæ•´ç›®æ ‡å­—æ®µé•¿åº¦` |
| `Duplicate entry` | **ä¸»é”®å†²çª** | `é‡å¤æ’å…¥ç›¸åŒä¸»é”®` | `ä½¿ç”¨replaceæ¨¡å¼` |
| `OutOfMemoryError` | **å†…å­˜ä¸è¶³** | `æ‰¹å¤„ç†å¤§å°è¿‡å¤§` | `å‡å°‘batchSizeå‚æ•°` |

### 7.3 æ—¥å¿—åˆ†æå·¥å…·


**é”™è¯¯ç»Ÿè®¡è„šæœ¬**ï¼š
```bash
#!/bin/bash
# DataXæ—¥å¿—åˆ†æå·¥å…·

log_file="/path/to/datax.log"
analysis_date=$(date +%Y-%m-%d)

echo "=== DataXæ—¥å¿—åˆ†ææŠ¥å‘Š ($analysis_date) ==="

# é”™è¯¯æ€»æ•°ç»Ÿè®¡
error_count=$(grep -c "ERROR" $log_file)
warn_count=$(grep -c "WARN" $log_file)

echo "é”™è¯¯æ€»æ•°: $error_count"
echo "è­¦å‘Šæ€»æ•°: $warn_count"
echo ""

# Top 10 é”™è¯¯ç±»å‹
echo "=== Top 10 é”™è¯¯ç±»å‹ ==="
grep "ERROR" $log_file | \
cut -d'-' -f4- | \
sort | uniq -c | sort -nr | head -10

echo ""

# é”™è¯¯æ—¶é—´åˆ†å¸ƒ
echo "=== é”™è¯¯æ—¶é—´åˆ†å¸ƒ ==="
grep "ERROR" $log_file | \
cut -d' ' -f2 | cut -d':' -f1 | \
sort | uniq -c | sort -k2

echo ""

# å†…å­˜ä½¿ç”¨æƒ…å†µ
echo "=== å†…å­˜ä½¿ç”¨å³°å€¼ ==="
grep "OutOfMemoryError\|GC" $log_file | tail -5
```

**è¾“å‡ºç¤ºä¾‹**ï¼š
```
=== DataXæ—¥å¿—åˆ†ææŠ¥å‘Š (2023-09-15) ===
é”™è¯¯æ€»æ•°: 45
è­¦å‘Šæ€»æ•°: 128

=== Top 10 é”™è¯¯ç±»å‹ ===
     23 connect to [jdbc:mysql://...] failed
     12 Data truncation: Data too long for column
      6 Duplicate entry '1001' for key 'PRIMARY'  
      3 Table 'test.user_backup' doesn't exist
      1 OutOfMemoryError: Java heap space

=== é”™è¯¯æ—¶é—´åˆ†å¸ƒ ===
      8 14
     15 15  
     18 16
      4 17

=== å†…å­˜ä½¿ç”¨å³°å€¼ ===
[WARN] 2023-09-15 16:23:45 GC overhead limit exceeded
[ERROR] 2023-09-15 16:24:12 OutOfMemoryError: Java heap space
```

---

## 8. ğŸ” æ•°æ®è´¨é‡æ£€æŸ¥


### 8.1 æ•°æ®è´¨é‡æ£€æŸ¥æ¦‚è¿°


**ä»€ä¹ˆæ˜¯æ•°æ®è´¨é‡æ£€æŸ¥**ï¼š
åœ¨æ•°æ®åŒæ­¥è¿‡ç¨‹ä¸­ï¼Œå¯¹æ•°æ®çš„å®Œæ•´æ€§ã€å‡†ç¡®æ€§ã€ä¸€è‡´æ€§è¿›è¡ŒéªŒè¯çš„è¿‡ç¨‹ã€‚

> ğŸ’¡ **é€šä¿—ç†è§£**  
> å°±åƒå·¥å‚è´¨æ£€å‘˜æ£€æŸ¥äº§å“è´¨é‡ä¸€æ ·ï¼Œæ•°æ®è´¨é‡æ£€æŸ¥ç¡®ä¿æ¯æ¡æ•°æ®éƒ½ç¬¦åˆé¢„å®šçš„æ ‡å‡†å’Œæ ¼å¼è¦æ±‚ã€‚

### 8.2 è´¨é‡æ£€æŸ¥è§„åˆ™é…ç½®


**åŸºç¡€æ ¡éªŒè§„åˆ™**ï¼š
```json
{
  "transformer": [
    {
      "name": "dx_groovy",
      "parameter": {
        "code": "
          // æ•°æ®è´¨é‡æ£€æŸ¥è„šæœ¬
          def record = record;
          
          // 1. å¿…å¡«å­—æ®µæ£€æŸ¥
          if (!record.getColumn('name').asString()) {
            throw new RuntimeException('å§“åå­—æ®µä¸èƒ½ä¸ºç©º');
          }
          
          // 2. æ•°æ®æ ¼å¼æ£€æŸ¥  
          def phone = record.getColumn('phone').asString();
          if (phone && !phone.matches('^1[3-9]\\\\d{9}$')) {
            throw new RuntimeException('æ‰‹æœºå·æ ¼å¼ä¸æ­£ç¡®: ' + phone);
          }
          
          // 3. æ•°æ®èŒƒå›´æ£€æŸ¥
          def age = record.getColumn('age').asLong();
          if (age && (age < 0 || age > 150)) {
            throw new RuntimeException('å¹´é¾„è¶…å‡ºåˆç†èŒƒå›´: ' + age);
          }
          
          // 4. æ—¥æœŸæ ¼å¼æ£€æŸ¥
          def birthDate = record.getColumn('birth_date').asString();
          if (birthDate) {
            try {
              Date.parse('yyyy-MM-dd', birthDate);
            } catch (Exception e) {
              throw new RuntimeException('æ—¥æœŸæ ¼å¼é”™è¯¯: ' + birthDate);
            }
          }
          
          return record;
        "
      }
    }
  ]
}
```

### 8.3 å¸¸è§è´¨é‡é—®é¢˜ä¸æ£€æŸ¥


**æ•°æ®è´¨é‡é—®é¢˜åˆ†ç±»**ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           æ•°æ®è´¨é‡é—®é¢˜ç±»å‹           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ” å®Œæ•´æ€§é—®é¢˜                      â”‚
â”‚     â€¢ å¿…å¡«å­—æ®µä¸ºç©º                  â”‚
â”‚     â€¢ å…³é”®ä¿¡æ¯ç¼ºå¤±                  â”‚
â”‚                                     â”‚
â”‚  ğŸ“ å‡†ç¡®æ€§é—®é¢˜                      â”‚  
â”‚     â€¢ æ•°æ®æ ¼å¼ä¸ç¬¦åˆè§„èŒƒ            â”‚
â”‚     â€¢ æ•°å€¼è¶…å‡ºåˆç†èŒƒå›´              â”‚
â”‚                                     â”‚
â”‚  ğŸ”— ä¸€è‡´æ€§é—®é¢˜                      â”‚
â”‚     â€¢ åŒä¸€å®ä½“ä¿¡æ¯ä¸ä¸€è‡´            â”‚ 
â”‚     â€¢ å¼•ç”¨æ•°æ®ä¸å­˜åœ¨                â”‚
â”‚                                     â”‚
â”‚  â° æ—¶æ•ˆæ€§é—®é¢˜                      â”‚
â”‚     â€¢ æ•°æ®è¿‡æœŸå¤±æ•ˆ                  â”‚
â”‚     â€¢ æ—¶é—´æˆ³å¼‚å¸¸                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å…·ä½“æ£€æŸ¥ç¤ºä¾‹**ï¼š
```sql
-- æºæ•°æ®ç¤ºä¾‹ï¼ˆåŒ…å«è´¨é‡é—®é¢˜ï¼‰
+----+--------+------------+-------+---------------+
| id | name   | birth_date | age   | phone         |
+----+--------+------------+-------+---------------+
| 1  | å¼ ä¸‰   | 1990-01-01 | 33    | 13800138000   |  â† æ­£å¸¸
| 2  | NULL   | 1985-05-15 | 38    | 13900139000   |  â† å§“åä¸ºç©º
| 3  | æå››   | 1995-13-01 | 28    | 13700137000   |  â† æ—¥æœŸé”™è¯¯
| 4  | ç‹äº”   | 1988-08-08 | -5    | 1380013800    |  â† å¹´é¾„å¼‚å¸¸ï¼Œæ‰‹æœºå·ä½æ•°ä¸å¤Ÿ
| 5  | èµµå…­   | 2025-01-01 | 200   | 13600136000   |  â† å‡ºç”Ÿæ—¥æœŸæœªæ¥ï¼Œå¹´é¾„è¶…é™
+----+--------+------------+-------+---------------+

è´¨é‡æ£€æŸ¥ç»“æœï¼š
âœ… è®°å½•1ï¼šé€šè¿‡æ‰€æœ‰æ£€æŸ¥
âŒ è®°å½•2ï¼šå§“åå­—æ®µä¸èƒ½ä¸ºç©º
âŒ è®°å½•3ï¼šæ—¥æœŸæ ¼å¼é”™è¯¯: 1995-13-01  
âŒ è®°å½•4ï¼šå¹´é¾„è¶…å‡ºåˆç†èŒƒå›´: -5, æ‰‹æœºå·æ ¼å¼ä¸æ­£ç¡®: 1380013800
âŒ è®°å½•5ï¼šå¹´é¾„è¶…å‡ºåˆç†èŒƒå›´: 200
```

### 8.4 è´¨é‡æŠ¥å‘Šç”Ÿæˆ


**è´¨é‡æ£€æŸ¥æŠ¥å‘Šæ ¼å¼**ï¼š
```json
{
  "qualityReport": {
    "jobId": "job_20230915_143000",
    "checkTime": "2023-09-15T14:45:00Z",
    "totalRecords": 100000,
    "checkedRecords": 100000,
    "passedRecords": 99850,
    "failedRecords": 150,
    "passRate": 99.85,
    "checkRules": [
      {
        "ruleName": "å¿…å¡«å­—æ®µæ£€æŸ¥",
        "description": "æ£€æŸ¥å…³é”®å­—æ®µæ˜¯å¦ä¸ºç©º",
        "failedCount": 45,
        "failedRate": 0.045
      },
      {
        "ruleName": "æ•°æ®æ ¼å¼æ£€æŸ¥", 
        "description": "æ£€æŸ¥æ‰‹æœºå·ã€é‚®ç®±ç­‰æ ¼å¼",
        "failedCount": 67,
        "failedRate": 0.067
      },
      {
        "ruleName": "æ•°æ®èŒƒå›´æ£€æŸ¥",
        "description": "æ£€æŸ¥æ•°å€¼æ˜¯å¦åœ¨åˆç†èŒƒå›´å†…",
        "failedCount": 38,
        "failedRate": 0.038
      }
    ],
    "recommendation": [
      "å»ºè®®åŠ å¼ºæºç³»ç»Ÿæ•°æ®å½•å…¥éªŒè¯",
      "è€ƒè™‘å¢åŠ æ•°æ®æ¸…æ´—ç¯èŠ‚",
      "å®šæœŸæ›´æ–°æ•°æ®æ ¡éªŒè§„åˆ™"
    ]
  }
}
```

---

## 9. âš–ï¸ æ€§èƒ½ä¸å®¹é”™å¹³è¡¡


### 9.1 å®¹é”™å¯¹æ€§èƒ½çš„å½±å“


**æ€§èƒ½å½±å“åˆ†æ**ï¼š

```
æ— å®¹é”™é…ç½®ï¼š
â”œâ”€â”€ ä¼˜ç‚¹ï¼šæ‰§è¡Œé€Ÿåº¦å¿«ï¼Œèµ„æºæ¶ˆè€—å°‘
â”œâ”€â”€ ç¼ºç‚¹ï¼šä»»ä½•é”™è¯¯éƒ½ä¼šå¯¼è‡´ä»»åŠ¡å¤±è´¥
â””â”€â”€ é€‚ç”¨ï¼šæµ‹è¯•ç¯å¢ƒï¼Œæ•°æ®è´¨é‡å¾ˆé«˜çš„åœºæ™¯

æ ‡å‡†å®¹é”™é…ç½®ï¼š  
â”œâ”€â”€ ä¼˜ç‚¹ï¼šå¹³è¡¡äº†ç¨³å®šæ€§å’Œæ€§èƒ½
â”œâ”€â”€ ç¼ºç‚¹ï¼šæœ‰ä¸€å®šçš„é¢å¤–å¼€é”€
â””â”€â”€ é€‚ç”¨ï¼šç”Ÿäº§ç¯å¢ƒï¼Œå¤§éƒ¨åˆ†ä¸šåŠ¡åœºæ™¯

ä¸¥æ ¼å®¹é”™é…ç½®ï¼š
â”œâ”€â”€ ä¼˜ç‚¹ï¼šæœ€å¤§åŒ–ä»»åŠ¡æˆåŠŸç‡
â”œâ”€â”€ ç¼ºç‚¹ï¼šæ€§èƒ½å¼€é”€è¾ƒå¤§
â””â”€â”€ é€‚ç”¨ï¼šæ ¸å¿ƒä¸šåŠ¡ï¼Œæ•°æ®è´¨é‡è¦æ±‚æé«˜
```

### 9.2 æ€§èƒ½ä¼˜åŒ–ç­–ç•¥


**åˆ†é˜¶æ®µä¼˜åŒ–æ–¹æ¡ˆ**ï¼š

| ä¼˜åŒ–é˜¶æ®µ | **é…ç½®è°ƒæ•´** | **æ€§èƒ½æå‡** | **å®¹é”™å½±å“** |
|---------|-------------|-------------|-------------|
| ğŸš€ **ç¬¬ä¸€é˜¶æ®µ** | `å¢å¤§batchSizeåˆ°2048` | `+30%` | `è„æ•°æ®æ‰¹é‡å¤„ç†` |
| âš¡ **ç¬¬äºŒé˜¶æ®µ** | `å¹¶å‘channelæ•°+1` | `+50%` | `é”™è¯¯åˆ†æ•£åˆ°å¤šchannel` |
| ğŸ”§ **ç¬¬ä¸‰é˜¶æ®µ** | `ä¼˜åŒ–SQLè¯­å¥å’Œç´¢å¼•` | `+80%` | `å‡å°‘æ•°æ®åº“é”™è¯¯` |
| ğŸ’¾ **ç¬¬å››é˜¶æ®µ** | `è°ƒæ•´JVMå†…å­˜å‚æ•°` | `+20%` | `å‡å°‘OOMé”™è¯¯` |

**ä¼˜åŒ–é…ç½®ç¤ºä¾‹**ï¼š
```json
{
  "core": {
    "transport": {
      "channel": {
        "class": "com.alibaba.datax.core.transport.channel.memory.MemoryChannel",
        "capacity": 2048,        // å¢å¤§é€šé“å®¹é‡
        "byteCapacity": 134217728,
        "flowControlInterval": 20,
        "speed": {
          "byte": 10485760,      // 10MB/sé™é€Ÿ
          "record": 100000       // 10ä¸‡æ¡/sé™é€Ÿ
        }
      }
    }
  },
  "job": {
    "setting": {
      "speed": {
        "channel": 3             // å¢åŠ å¹¶å‘é€šé“æ•°
      },
      "errorLimit": {
        "record": 1000,          // é€‚åº¦çš„é”™è¯¯å®¹å¿
        "percentage": 0.01
      }
    }
  }
}
```

### 9.3 ç›‘æ§è°ƒä¼˜å»ºè®®


**å…³é”®æ€§èƒ½æŒ‡æ ‡**ï¼š
```bash
# æ€§èƒ½ç›‘æ§è„šæœ¬
#!/bin/bash

# è·å–DataXè¿›ç¨‹PID
DATAX_PID=$(ps -ef | grep datax | grep -v grep | awk '{print $2}')

if [ -n "$DATAX_PID" ]; then
    echo "=== DataXæ€§èƒ½ç›‘æ§ ==="
    echo "è¿›ç¨‹ID: $DATAX_PID"
    
    # CPUä½¿ç”¨ç‡
    cpu_usage=$(ps -p $DATAX_PID -o pcpu= | tr -d ' ')
    echo "CPUä½¿ç”¨ç‡: ${cpu_usage}%"
    
    # å†…å­˜ä½¿ç”¨æƒ…å†µ
    memory_info=$(ps -p $DATAX_PID -o pid,vsz,rss,pmem= | tail -1)
    echo "å†…å­˜ä¿¡æ¯: $memory_info"
    
    # ç½‘ç»œè¿æ¥æ•°
    conn_count=$(netstat -an | grep :3306 | wc -l)
    echo "æ•°æ®åº“è¿æ¥æ•°: $conn_count"
    
    # GCæƒ…å†µï¼ˆéœ€è¦JVMå‚æ•°æ”¯æŒï¼‰
    echo "=== GCä¿¡æ¯ ==="
    jstat -gc $DATAX_PID
else
    echo "DataXè¿›ç¨‹æœªè¿è¡Œ"
fi
```

---

## 10. ğŸ“‹ æœ€ä½³å®è·µæ€»ç»“


### 10.1 é”™è¯¯å¤„ç†æœ€ä½³å®è·µ


**ğŸ¯ æ ¸å¿ƒåŸåˆ™**ï¼š
```
1. é¢„é˜²ä¼˜äºæ²»ç–—
   â”œâ”€â”€ æºå¤´æ•°æ®è´¨é‡æ§åˆ¶
   â”œâ”€â”€ å……åˆ†çš„æµ‹è¯•éªŒè¯
   â””â”€â”€ å®Œå–„çš„ç›‘æ§ä½“ç³»

2. å¿«é€Ÿå‘ç°å¿«é€Ÿæ¢å¤
   â”œâ”€â”€ å®æ—¶ç›‘æ§å‘Šè­¦
   â”œâ”€â”€ è‡ªåŠ¨é‡è¯•æœºåˆ¶
   â””â”€â”€ æ–­ç‚¹ç»­ä¼ åŠŸèƒ½

3. è¯¦ç»†è®°å½•ä¾¿äºåˆ†æ
   â”œâ”€â”€ å®Œæ•´çš„é”™è¯¯æ—¥å¿—
   â”œâ”€â”€ è„æ•°æ®ä¿å­˜
   â””â”€â”€ å®šæœŸåˆ†ææŠ¥å‘Š
```

### 10.2 é…ç½®å»ºè®®çŸ©é˜µ


**ä¸åŒåœºæ™¯çš„æ¨èé…ç½®**ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   é…ç½®å»ºè®®çŸ©é˜µ                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ä¸šåŠ¡ç±»å‹ â”‚  é”™è¯¯é™åˆ¶  â”‚  é‡è¯•é…ç½®  â”‚     ç›‘æ§çº§åˆ«      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æ ¸å¿ƒä¸šåŠ¡ â”‚ record=10 â”‚ retry=5   â”‚ å®æ—¶å‘Šè­¦+äººå·¥å€¼ç­ â”‚
â”‚         â”‚ rate=0.1% â”‚ interval= â”‚                 â”‚
â”‚         â”‚          â”‚ 30s       â”‚                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ é‡è¦ä¸šåŠ¡ â”‚ record=100â”‚ retry=3   â”‚ 5åˆ†é’Ÿå»¶è¿Ÿå‘Šè­¦    â”‚
â”‚         â”‚ rate=1%   â”‚ interval= â”‚                 â”‚
â”‚         â”‚          â”‚ 10s       â”‚                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ä¸€èˆ¬ä¸šåŠ¡ â”‚ record=1000â”‚retry=3   â”‚ 1å°æ—¶æ±‡æ€»å‘Šè­¦    â”‚
â”‚         â”‚ rate=5%   â”‚ interval= â”‚                 â”‚
â”‚         â”‚          â”‚ 10s       â”‚                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æµ‹è¯•ç¯å¢ƒ â”‚ æ— é™åˆ¶    â”‚ retry=1   â”‚ æ—¥æŠ¥å‘Š          â”‚
â”‚         â”‚          â”‚ interval= â”‚                 â”‚
â”‚         â”‚          â”‚ 5s        â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 10.3 è¿ç»´æ£€æŸ¥æ¸…å•


**æ—¥å¸¸è¿ç»´è¦ç‚¹**ï¼š

> âœ… **æ¯æ—¥æ£€æŸ¥**  
> - [ ] æŸ¥çœ‹é”™è¯¯æ—¥å¿—ï¼Œè¯†åˆ«å¼‚å¸¸æ¨¡å¼
> - [ ] æ£€æŸ¥è„æ•°æ®æ–‡ä»¶å¤§å°å’Œå†…å®¹
> - [ ] ç›‘æ§ä»»åŠ¡æ‰§è¡Œæ—¶é—´è¶‹åŠ¿
> - [ ] éªŒè¯å…³é”®ä¸šåŠ¡æ•°æ®åŒæ­¥çŠ¶æ€

> âœ… **æ¯å‘¨æ£€æŸ¥**  
> - [ ] åˆ†æé”™è¯¯ç»Ÿè®¡æŠ¥å‘Š
> - [ ] è¯„ä¼°å®¹é”™é˜ˆå€¼è®¾ç½®åˆç†æ€§  
> - [ ] æ£€æŸ¥ç£ç›˜ç©ºé—´ä½¿ç”¨æƒ…å†µ
> - [ ] æ›´æ–°æ•°æ®è´¨é‡æ£€æŸ¥è§„åˆ™

> âœ… **æ¯æœˆæ£€æŸ¥**  
> - [ ] æ•´ä½“æ€§èƒ½è¶‹åŠ¿åˆ†æ
> - [ ] å®¹é”™é…ç½®ä¼˜åŒ–è°ƒæ•´
> - [ ] å¤‡ä»½å’Œå½’æ¡£å†å²æ—¥å¿—
> - [ ] åˆ¶å®šæ”¹è¿›è®¡åˆ’

### 10.4 æ•…éšœå¤„ç†æµç¨‹


**æ ‡å‡†å¤„ç†æµç¨‹**ï¼š
```
æ•…éšœå‘ç°
    â†“
å¿«é€Ÿè¯„ä¼°å½±å“èŒƒå›´
    â†“
åˆ¤æ–­æ˜¯å¦éœ€è¦ç´§æ€¥åœæ­¢
    â†“               â†“
   æ˜¯              å¦
    â†“               â†“
ç«‹å³åœæ­¢ä»»åŠ¡     ç»§ç»­ç›‘æ§
    â†“               â†“
åˆ†æé”™è¯¯åŸå›      æ”¶é›†é”™è¯¯ä¿¡æ¯
    â†“               â†“
åˆ¶å®šæ¢å¤æ–¹æ¡ˆ     è¯„ä¼°æ˜¯å¦éœ€è¦å¹²é¢„
    â†“               â†“
æ‰§è¡Œæ¢å¤æ“ä½œ     è°ƒæ•´é…ç½®å‚æ•°
    â†“               â†“
éªŒè¯æ¢å¤æ•ˆæœ     æŒç»­ç›‘æ§
    â†“               â†“
æ›´æ–°åº”æ€¥é¢„æ¡ˆ     å®šæœŸå›é¡¾æ€»ç»“
```

### 10.5 æ ¸å¿ƒè¦ç‚¹è®°å¿†


> ğŸ’¡ **æ ¸å¿ƒè®°å¿†å£è¯€**  
> - **é¢„é˜²ä¸ºä¸»**ï¼šæºå¤´æ§åˆ¶èƒœè¿‡åæœŸå¤„ç†
> - **å¿«é€Ÿå“åº”**ï¼šåŠæ—¶å‘ç°åŠæ—¶å¤„ç†
> - **è¯¦ç»†è®°å½•**ï¼šå®Œæ•´æ—¥å¿—ä¾¿äºåˆ†æ
> - **å¹³è¡¡é…ç½®**ï¼šæ€§èƒ½å®¹é”™è¦å…¼é¡¾
> - **æŒç»­æ”¹è¿›**ï¼šå®šæœŸåˆ†æä¼˜åŒ–é…ç½®

**å…³é”®æ•°å­—è®°å¿†**ï¼š
- ğŸ“Š **é”™è¯¯ç‡æ§åˆ¶**ï¼šæ ¸å¿ƒä¸šåŠ¡<0.1%ï¼Œä¸€èˆ¬ä¸šåŠ¡<5%
- ğŸ”„ **é‡è¯•é…ç½®**ï¼š3-5æ¬¡é‡è¯•ï¼Œ10-30ç§’é—´éš”  
- â° **ç›‘æ§é¢‘ç‡**ï¼šæ ¸å¿ƒä¸šåŠ¡å®æ—¶ï¼Œä¸€èˆ¬ä¸šåŠ¡å°æ—¶çº§
- ğŸ’¾ **æ—¥å¿—ä¿ç•™**ï¼šè‡³å°‘30å¤©ï¼Œæ ¸å¿ƒä¸šåŠ¡90å¤©

---

**æ€»ç»“**ï¼šDataXçš„é”™è¯¯å¤„ç†ä¸å®¹é”™æœºåˆ¶æ˜¯ä¿éšœæ•°æ®åŒæ­¥ç¨³å®šæ€§çš„å…³é”®æŠ€æœ¯ã€‚é€šè¿‡åˆç†çš„é…ç½®ã€å®Œå–„çš„ç›‘æ§å’Œè§„èŒƒçš„è¿ç»´æµç¨‹ï¼Œå¯ä»¥å¤§å¤§æé«˜æ•°æ®åŒæ­¥ä»»åŠ¡çš„æˆåŠŸç‡å’Œå¯é æ€§ã€‚è®°ä½ï¼šå¥½çš„å®¹é”™æœºåˆ¶ä¸æ˜¯è®©é”™è¯¯æ¶ˆå¤±ï¼Œè€Œæ˜¯è®©ç³»ç»Ÿèƒ½å¤Ÿä¼˜é›…åœ°å¤„ç†é”™è¯¯ï¼Œç¡®ä¿ä¸šåŠ¡è¿ç»­æ€§ã€‚