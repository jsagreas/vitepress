---
title: 5ã€å†…å­˜æ€§èƒ½ä¼˜åŒ–ç­–ç•¥
---
## ğŸ“š ç›®å½•

1. [å†…å­˜ç¢ç‰‡å¤„ç†](#1-å†…å­˜ç¢ç‰‡å¤„ç†)
2. [å†…å­˜æ± ç®¡ç†ä¼˜åŒ–](#2-å†…å­˜æ± ç®¡ç†ä¼˜åŒ–)
3. [å¤§é¡µå†…å­˜é…ç½®](#3-å¤§é¡µå†…å­˜é…ç½®)
4. [å†…å­˜é¢„åˆ†é…ç­–ç•¥](#4-å†…å­˜é¢„åˆ†é…ç­–ç•¥)
5. [å†…å­˜å›æ”¶æœºåˆ¶](#5-å†…å­˜å›æ”¶æœºåˆ¶)
6. [å†…å­˜ä½¿ç”¨ä¼˜åŒ–](#6-å†…å­˜ä½¿ç”¨ä¼˜åŒ–)
7. [å†…å­˜æ€§èƒ½è°ƒä¼˜](#7-å†…å­˜æ€§èƒ½è°ƒä¼˜)
8. [å†…å­˜èµ„æºè§„åˆ’](#8-å†…å­˜èµ„æºè§„åˆ’)
9. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#9-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ”§ å†…å­˜ç¢ç‰‡å¤„ç†


### 1.1 ä»€ä¹ˆæ˜¯å†…å­˜ç¢ç‰‡

å†…å­˜ç¢ç‰‡å°±åƒä¸€ä¸ªæ»¡æ˜¯å°æŠ½å±‰çš„è¡£æŸœï¼Œè™½ç„¶æ€»ç©ºé—´å¤Ÿå¤§ï¼Œä½†æ²¡æœ‰è¶³å¤Ÿçš„è¿ç»­ç©ºé—´æ¥æ”¾å¤§ä»¶è¡£æœã€‚MySQLåœ¨é•¿æ—¶é—´è¿è¡Œåï¼Œå†…å­˜ä¹Ÿä¼šå‡ºç°è¿™ç§"ç¢ç‰‡åŒ–"ç°è±¡ã€‚

**ğŸ” å†…å­˜ç¢ç‰‡äº§ç”ŸåŸå› **ï¼š
```
æ•°æ®é¢‘ç¹æ’å…¥åˆ é™¤ â†’ å†…å­˜åˆ†é…é‡Šæ”¾ä¸è§„å¾‹ â†’ äº§ç”Ÿå†…å­˜ç©ºæ´
æŸ¥è¯¢ç»“æœé›†å¤§å°ä¸ä¸€ â†’ å†…å­˜å—å¤§å°å„å¼‚ â†’ å½¢æˆç¢ç‰‡ç©ºé—´
ä¸´æ—¶è¡¨åˆ›å»ºé”€æ¯ â†’ çŸ­æœŸå†…å­˜ä½¿ç”¨ â†’ ç•™ä¸‹ä¸è¿ç»­åŒºåŸŸ
```

### 1.2 å†…å­˜ç¢ç‰‡æ£€æµ‹æ–¹æ³•


**ğŸ“Š æŸ¥çœ‹å†…å­˜ç¢ç‰‡çŠ¶æ€**ï¼š
```sql
-- æŸ¥çœ‹å†…å­˜ä½¿ç”¨æƒ…å†µ
SHOW STATUS LIKE 'memory%';

-- æŸ¥çœ‹ç¼“å†²æ± çŠ¶æ€
SHOW ENGINE INNODB STATUS\G

-- æ£€æŸ¥å†…å­˜ç¢ç‰‡ç‡
SELECT 
  ROUND(
    (1 - ($$innodb_buffer_pool_pages_free * $$innodb_page_size) / 
    ($$innodb_buffer_pool_size)) * 100, 2
  ) AS buffer_pool_utilization_percent;
```

### 1.3 å†…å­˜ç¢ç‰‡å¤„ç†ç­–ç•¥


**ğŸ› ï¸ ä¸»åŠ¨ç¢ç‰‡æ•´ç†**ï¼š
```sql
-- é‡ç»„ç¼“å†²æ± ï¼ˆMySQL 8.0+ï¼‰
SET GLOBAL innodb_buffer_pool_dump_at_shutdown = ON;
SET GLOBAL innodb_buffer_pool_load_at_startup = ON;

-- æ‰‹åŠ¨è§¦å‘ç¼“å†²æ± è½¬å‚¨
SET GLOBAL innodb_buffer_pool_dump_now = ON;
```

**âš™ï¸ é¢„é˜²æ€§é…ç½®**ï¼š
```ini
[mysqld]
# å¯ç”¨ç¼“å†²æ± é¢„åŠ è½½
innodb_buffer_pool_load_at_startup = 1
# å…³é—­æ—¶ä¿å­˜ç¼“å†²æ± çŠ¶æ€
innodb_buffer_pool_dump_at_shutdown = 1
# è®¾ç½®åˆç†çš„ç¼“å†²æ± å®ä¾‹æ•°
innodb_buffer_pool_instances = 8
```

---

## 2. ğŸŠâ€â™‚ï¸ å†…å­˜æ± ç®¡ç†ä¼˜åŒ–


### 2.1 InnoDBç¼“å†²æ± ä¼˜åŒ–

ç¼“å†²æ± å°±åƒæ•°æ®åº“çš„"å†…å­˜ä»“åº“"ï¼Œå­˜å‚¨æœ€å¸¸ç”¨çš„æ•°æ®é¡µé¢ï¼Œé¿å…é¢‘ç¹è¯»å–ç£ç›˜ã€‚

**ğŸ“ ç¼“å†²æ± å¤§å°é…ç½®**ï¼š
```sql
-- æŸ¥çœ‹å½“å‰ç¼“å†²æ± é…ç½®
SHOW VARIABLES LIKE 'innodb_buffer_pool_size';

-- è®¾ç½®ç¼“å†²æ± å¤§å°ï¼ˆå»ºè®®ä¸ºå¯ç”¨å†…å­˜çš„70-80%ï¼‰
SET GLOBAL innodb_buffer_pool_size = 8589934592; -- 8GB
```

**ğŸ”„ ç¼“å†²æ± å®ä¾‹ä¼˜åŒ–**ï¼š
```ini
[mysqld]
# ç¼“å†²æ± å¤§å°ï¼ˆ8GBç¤ºä¾‹ï¼‰
innodb_buffer_pool_size = 8G
# ç¼“å†²æ± å®ä¾‹æ•°ï¼ˆæ¯ä¸ªå®ä¾‹å»ºè®®1-2GBï¼‰
innodb_buffer_pool_instances = 8
# ç¼“å†²æ± é¢„çƒ­
innodb_buffer_pool_load_at_startup = 1
```

### 2.2 æŸ¥è¯¢ç¼“å­˜ä¼˜åŒ–


**âš ï¸ é‡è¦æç¤º**ï¼šMySQL 8.0å·²ç§»é™¤æŸ¥è¯¢ç¼“å­˜ï¼Œä»¥ä¸‹é…ç½®ä»…é€‚ç”¨äºMySQL 5.7åŠæ›´æ—©ç‰ˆæœ¬ã€‚

```ini
[mysqld]
# MySQL 5.7åŠä»¥ä¸‹ç‰ˆæœ¬
query_cache_type = 1
query_cache_size = 256M
query_cache_limit = 2M
```

### 2.3 è¿æ¥æ± å†…å­˜ç®¡ç†


**ğŸ”— è¿æ¥ç›¸å…³å†…å­˜é…ç½®**ï¼š
```ini
[mysqld]
# æ¯ä¸ªè¿æ¥çš„å†…å­˜åˆ†é…
read_buffer_size = 1M        # é¡ºåºè¯»ç¼“å†²
read_rnd_buffer_size = 2M    # éšæœºè¯»ç¼“å†²
sort_buffer_size = 2M        # æ’åºç¼“å†²
join_buffer_size = 2M        # è¿æ¥ç¼“å†²
thread_stack = 512K          # çº¿ç¨‹æ ˆå¤§å°
```

**ğŸ’¡ è¿æ¥æ•°ä¸å†…å­˜å…³ç³»**ï¼š
```
æ€»è¿æ¥å†…å­˜ â‰ˆ max_connections Ã— (
  read_buffer_size + 
  read_rnd_buffer_size + 
  sort_buffer_size + 
  join_buffer_size + 
  thread_stack
)
```

---

## 3. ğŸ“„ å¤§é¡µå†…å­˜é…ç½®


### 3.1 ä»€ä¹ˆæ˜¯å¤§é¡µå†…å­˜

å¤§é¡µå†…å­˜å°±åƒæŠŠå¾ˆå¤šå°æˆ¿é—´åˆå¹¶æˆå¤§æˆ¿é—´ï¼Œå‡å°‘äº†"æˆ¿é—´ç®¡ç†"çš„å¼€é”€ï¼Œæé«˜å†…å­˜è®¿é—®æ•ˆç‡ã€‚

**ğŸ¯ å¤§é¡µå†…å­˜ä¼˜åŠ¿**ï¼š
- **å‡å°‘TLBç¼ºå¤±**ï¼šé™ä½åœ°å€ç¿»è¯‘å¼€é”€
- **æé«˜å†…å­˜æ•ˆç‡**ï¼šå‡å°‘é¡µè¡¨å ç”¨ç©ºé—´
- **æ”¹å–„æ€§èƒ½**ï¼šç‰¹åˆ«æ˜¯å¤§å†…å­˜ç³»ç»Ÿ

### 3.2 Linuxå¤§é¡µé…ç½®


**ğŸ”§ ç³»ç»Ÿçº§é…ç½®**ï¼š
```bash
# æŸ¥çœ‹å¤§é¡µæ”¯æŒæƒ…å†µ
cat /proc/meminfo | grep -i huge

# è®¾ç½®å¤§é¡µæ•°é‡ï¼ˆæ¯é¡µ2MBï¼‰
echo 1024 > /proc/sys/vm/nr_hugepages

# æ°¸ä¹…é…ç½®
echo 'vm.nr_hugepages = 1024' >> /etc/sysctl.conf
sysctl -p
```

**ğŸ“‹ æŸ¥çœ‹å¤§é¡µä½¿ç”¨çŠ¶å†µ**ï¼š
```bash
# æ£€æŸ¥å¤§é¡µé…ç½®
grep -i huge /proc/meminfo

# è¾“å‡ºç¤ºä¾‹ï¼š
# HugePages_Total:    1024
# HugePages_Free:      512
# HugePages_Rsvd:        0
# Hugepagesize:       2048 kB
```

### 3.3 MySQLå¤§é¡µé…ç½®


**âš™ï¸ MySQLé…ç½®**ï¼š
```ini
[mysqld]
# å¯ç”¨å¤§é¡µå†…å­˜
large-pages = 1
# æˆ–è€…ä½¿ç”¨å…·ä½“å¤§é¡µå¤§å°
large-pages = 2M
```

**ğŸ“Š éªŒè¯å¤§é¡µä½¿ç”¨**ï¼š
```sql
-- æŸ¥çœ‹å¤§é¡µç›¸å…³çŠ¶æ€
SHOW STATUS LIKE 'innodb_buffer_pool_pages_total';
SHOW VARIABLES LIKE 'large_pages';
```

---

## 4. ğŸ“¦ å†…å­˜é¢„åˆ†é…ç­–ç•¥


### 4.1 é¢„åˆ†é…çš„é‡è¦æ€§

é¢„åˆ†é…å°±åƒæå‰å‡†å¤‡å¥½å·¥å…·ï¼Œé¿å…ç”¨æ—¶å†æ‰¾ï¼Œå‡å°‘ä¸´æ—¶åˆ†é…çš„æ€§èƒ½å¼€é”€ã€‚

**ğŸ¯ é¢„åˆ†é…ä¼˜åŠ¿**ï¼š
```
é¿å…è¿è¡Œæ—¶åˆ†é… â†’ å‡å°‘åˆ†é…å»¶è¿Ÿ
æå‰å ç”¨å†…å­˜ â†’ é¿å…å†…å­˜ä¸è¶³
è¿ç»­å†…å­˜åˆ†é… â†’ æé«˜è®¿é—®æ•ˆç‡
å‡å°‘ç³»ç»Ÿè°ƒç”¨ â†’ é™ä½CPUå¼€é”€
```

### 4.2 InnoDBé¢„åˆ†é…é…ç½®


**ğŸ”§ é¢„åˆ†é…ç›¸å…³å‚æ•°**ï¼š
```ini
[mysqld]
# æ•°æ®æ–‡ä»¶è‡ªåŠ¨æ‰©å±•å¤§å°
innodb_autoextend_increment = 64M
# æ—¥å¿—æ–‡ä»¶é¢„åˆ†é…
innodb_log_file_size = 1G
# ä¸´æ—¶è¡¨ç©ºé—´é¢„åˆ†é…
innodb_temp_data_file_path = ibtmp1:12M:autoextend:max:5G
```

### 4.3 è¡¨ç©ºé—´é¢„åˆ†é…ç­–ç•¥


**ğŸ“Š è¡¨ç©ºé—´ç®¡ç†**ï¼š
```sql
-- åˆ›å»ºè¡¨æ—¶é¢„åˆ†é…ç©ºé—´
CREATE TABLE user_data (
    id INT PRIMARY KEY,
    data TEXT
) ENGINE=InnoDB 
ROW_FORMAT=DYNAMIC
DATA DIRECTORY = '/data/mysql/'
INDEX DIRECTORY = '/index/mysql/';

-- é¢„å…ˆæ‰©å±•è¡¨ç©ºé—´
ALTER TABLE user_data ENGINE=InnoDB;
```

---

## 5. ğŸ”„ å†…å­˜å›æ”¶æœºåˆ¶


### 5.1 InnoDBå†…å­˜å›æ”¶åŸç†

å†…å­˜å›æ”¶å°±åƒå®šæœŸæ¸…ç†ä»“åº“ï¼ŒæŠŠä¸å¸¸ç”¨çš„ä¸œè¥¿æ¸…ç†å‡ºå»ï¼Œä¸ºæ–°çš„æ•°æ®è…¾å‡ºç©ºé—´ã€‚

**ğŸ”„ LRUå›æ”¶ç®—æ³•**ï¼š
```
æœ€è¿‘æœ€å°‘ä½¿ç”¨é¡µé¢ â†’ ä¼˜å…ˆå›æ”¶ç›®æ ‡
çƒ­æ•°æ®ä¿æŒåœ¨å†…å­˜ â†’ æé«˜å‘½ä¸­ç‡  
å†·æ•°æ®åŠæ—¶æ¸…ç† â†’ é‡Šæ”¾å†…å­˜ç©ºé—´
```

### 5.2 å›æ”¶æœºåˆ¶é…ç½®


**âš™ï¸ å›æ”¶ç›¸å…³å‚æ•°**ï¼š
```ini
[mysqld]
# è„é¡µåˆ·æ–°æ¯”ä¾‹
innodb_max_dirty_pages_pct = 75
# è„é¡µåˆ·æ–°çº¿ç¨‹æ•°
innodb_page_cleaners = 4
# IOå®¹é‡è®¾ç½®
innodb_io_capacity = 2000
innodb_io_capacity_max = 4000
```

### 5.3 ç›‘æ§å†…å­˜å›æ”¶çŠ¶æ€


**ğŸ“Š å›æ”¶çŠ¶æ€ç›‘æ§**ï¼š
```sql
-- æŸ¥çœ‹ç¼“å†²æ± çŠ¶æ€
SELECT 
    pool_id,
    pool_size,
    free_buffers,
    database_pages,
    old_database_pages
FROM information_schema.INNODB_BUFFER_POOL_STATS;

-- ç›‘æ§è„é¡µæƒ…å†µ
SHOW STATUS LIKE 'innodb_buffer_pool_pages_dirty';
SHOW STATUS LIKE 'innodb_buffer_pool_pages_flushed';
```

---

## 6. âš¡ å†…å­˜ä½¿ç”¨ä¼˜åŒ–


### 6.1 SQLè¯­å¥å†…å­˜ä¼˜åŒ–

ç¼–å†™é«˜æ•ˆçš„SQLå°±åƒæ•´ç†æˆ¿é—´ï¼Œç”¨æœ€å°‘çš„ç©ºé—´å­˜æ”¾æœ€å¤šçš„ä¸œè¥¿ã€‚

**ğŸ’¡ å†…å­˜å‹å¥½çš„SQLå†™æ³•**ï¼š
```sql
-- âŒ é¿å…ï¼šå¤§ç»“æœé›†æŸ¥è¯¢
SELECT * FROM large_table;

-- âœ… æ¨èï¼šåˆ†é¡µæŸ¥è¯¢
SELECT * FROM large_table LIMIT 1000 OFFSET 0;

-- âŒ é¿å…ï¼šå¤§æ’åºæ“ä½œ
SELECT * FROM orders ORDER BY create_time;

-- âœ… æ¨èï¼šæ·»åŠ ç´¢å¼•ä¼˜åŒ–æ’åº
CREATE INDEX idx_create_time ON orders(create_time);
SELECT * FROM orders ORDER BY create_time LIMIT 100;
```

### 6.2 ä¸´æ—¶è¡¨å†…å­˜ä¼˜åŒ–


**ğŸ”§ ä¸´æ—¶è¡¨é…ç½®**ï¼š
```ini
[mysqld]
# ä¸´æ—¶è¡¨æœ€å¤§å†…å­˜å¤§å°
tmp_table_size = 512M
max_heap_table_size = 512M
# ä¸´æ—¶ç›®å½•é…ç½®
tmpdir = /tmp:/var/tmp
```

**ğŸ“Š ç›‘æ§ä¸´æ—¶è¡¨ä½¿ç”¨**ï¼š
```sql
-- æŸ¥çœ‹ä¸´æ—¶è¡¨åˆ›å»ºæƒ…å†µ
SHOW STATUS LIKE 'Created_tmp%';

-- ä¼˜åŒ–å»ºè®®ï¼šCreated_tmp_disk_tables / Created_tmp_tables < 0.1
```

### 6.3 å†…å­˜è¡¨ä¼˜åŒ–


**âš¡ MEMORYå¼•æ“ä½¿ç”¨**ï¼š
```sql
-- åˆ›å»ºå†…å­˜è¡¨
CREATE TABLE session_cache (
    session_id VARCHAR(64) PRIMARY KEY,
    user_id INT,
    data TEXT,
    expire_time TIMESTAMP
) ENGINE=MEMORY;

-- æ³¨æ„ï¼šæœåŠ¡å™¨é‡å¯æ•°æ®ä¼šä¸¢å¤±
```

---

## 7. ğŸ›ï¸ å†…å­˜æ€§èƒ½è°ƒä¼˜


### 7.1 æ€§èƒ½ç›‘æ§æŒ‡æ ‡


**ğŸ“Š å…³é”®ç›‘æ§æŒ‡æ ‡**ï¼š
```sql
-- ç¼“å†²æ± å‘½ä¸­ç‡ï¼ˆåº” > 99%ï¼‰
SELECT 
    ROUND(
        (1 - (
            (SELECT VARIABLE_VALUE FROM performance_schema.global_status WHERE VARIABLE_NAME = 'Innodb_buffer_pool_reads') /
            (SELECT VARIABLE_VALUE FROM performance_schema.global_status WHERE VARIABLE_NAME = 'Innodb_buffer_pool_read_requests')
        )) * 100, 2
    ) AS buffer_pool_hit_ratio;

-- å†…å­˜ä½¿ç”¨æ•ˆç‡
SHOW STATUS LIKE 'innodb_buffer_pool_pages%';
```

### 7.2 æ€§èƒ½è°ƒä¼˜æ­¥éª¤


**ğŸ”„ è°ƒä¼˜æµç¨‹**ï¼š
```
1. åŸºçº¿æµ‹è¯• â†’ è®°å½•å½“å‰æ€§èƒ½æŒ‡æ ‡
2. è¯†åˆ«ç“¶é¢ˆ â†’ åˆ†æå†…å­˜ä½¿ç”¨çƒ­ç‚¹  
3. å‚æ•°è°ƒæ•´ â†’ é€æ­¥ä¼˜åŒ–é…ç½®å‚æ•°
4. æ•ˆæœéªŒè¯ â†’ å¯¹æ¯”æ€§èƒ½æ”¹å–„æƒ…å†µ
5. æŒç»­ç›‘æ§ â†’ å»ºç«‹é•¿æœŸç›‘æ§æœºåˆ¶
```

### 7.3 è°ƒä¼˜æœ€ä½³å®è·µ


**ğŸ’¡ è°ƒä¼˜å»ºè®®**ï¼š
```ini
[mysqld]
# ç”Ÿäº§ç¯å¢ƒæ¨èé…ç½®
innodb_buffer_pool_size = ç‰©ç†å†…å­˜çš„70-80%
innodb_buffer_pool_instances = 8-16
innodb_log_file_size = ç¼“å†²æ± å¤§å°çš„25%
innodb_flush_method = O_DIRECT
innodb_io_capacity = SSD:2000, HDD:200
```

---

## 8. ğŸ“‹ å†…å­˜èµ„æºè§„åˆ’


### 8.1 å†…å­˜å®¹é‡è§„åˆ’


**ğŸ“Š å†…å­˜åˆ†é…ç­–ç•¥**ï¼š
```
æ€»å¯ç”¨å†…å­˜ = ç‰©ç†å†…å­˜ - æ“ä½œç³»ç»Ÿä¿ç•™å†…å­˜

MySQLå†…å­˜åˆ†é…ï¼š
â”œâ”€â”€ InnoDBç¼“å†²æ± ï¼š70-80%
â”œâ”€â”€ è¿æ¥å†…å­˜ï¼š10-15%  
â”œâ”€â”€ æŸ¥è¯¢ç¼“å­˜ï¼š5-10%ï¼ˆMySQL 5.7åŠä»¥ä¸‹ï¼‰
â””â”€â”€ ç³»ç»Ÿé¢„ç•™ï¼š5-10%
```

### 8.2 ä¸åŒåœºæ™¯çš„å†…å­˜é…ç½®


**ğŸ¯ åœºæ™¯åŒ–é…ç½®ç¤ºä¾‹**ï¼š

**OLTPç³»ç»Ÿï¼ˆåœ¨çº¿äº‹åŠ¡å¤„ç†ï¼‰**ï¼š
```ini
[mysqld]
innodb_buffer_pool_size = 16G
max_connections = 1000
read_buffer_size = 128K
sort_buffer_size = 256K
```

**OLAPç³»ç»Ÿï¼ˆåœ¨çº¿åˆ†æå¤„ç†ï¼‰**ï¼š
```ini
[mysqld]
innodb_buffer_pool_size = 24G
max_connections = 200
read_buffer_size = 2M
sort_buffer_size = 8M
read_rnd_buffer_size = 4M
```

### 8.3 å†…å­˜ç›‘æ§å’Œå‘Šè­¦


**ğŸ“ˆ ç›‘æ§è„šæœ¬ç¤ºä¾‹**ï¼š
```bash
#!/bin/bash
# MySQLå†…å­˜ç›‘æ§è„šæœ¬

# è·å–ç¼“å†²æ± å‘½ä¸­ç‡
hit_ratio=$(mysql -e "
SELECT ROUND((1 - (
    (SELECT VARIABLE_VALUE FROM performance_schema.global_status WHERE VARIABLE_NAME = 'Innodb_buffer_pool_reads') /
    (SELECT VARIABLE_VALUE FROM performance_schema.global_status WHERE VARIABLE_NAME = 'Innodb_buffer_pool_read_requests')
)) * 100, 2) AS hit_ratio;" --skip-column-names)

# å‘Šè­¦é˜ˆå€¼æ£€æŸ¥
if [ $(echo "$hit_ratio < 95" | bc) -eq 1 ]; then
    echo "è­¦å‘Šï¼šç¼“å†²æ± å‘½ä¸­ç‡è¿‡ä½ï¼š$hit_ratio%"
fi
```

---

## 9. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 9.1 å¿…é¡»æŒæ¡çš„å…³é”®æ¦‚å¿µ


```
ğŸ”¸ å†…å­˜ç¢ç‰‡ï¼šé•¿æœŸè¿è¡Œäº§ç”Ÿçš„ä¸è¿ç»­å†…å­˜ç©ºé—´ï¼Œå½±å“åˆ†é…æ•ˆç‡
ğŸ”¸ ç¼“å†²æ± ï¼šMySQLæœ€é‡è¦çš„å†…å­˜ç»“æ„ï¼Œç¼“å­˜æ•°æ®é¡µæé«˜è®¿é—®é€Ÿåº¦
ğŸ”¸ å¤§é¡µå†…å­˜ï¼šå‡å°‘é¡µè¡¨å¼€é”€ï¼Œæé«˜å¤§å†…å­˜ç³»ç»Ÿçš„è®¿é—®æ•ˆç‡
ğŸ”¸ å†…å­˜é¢„åˆ†é…ï¼šæå‰åˆ†é…å†…å­˜ç©ºé—´ï¼Œé¿å…è¿è¡Œæ—¶åˆ†é…å»¶è¿Ÿ
ğŸ”¸ LRUå›æ”¶ï¼šæœ€è¿‘æœ€å°‘ä½¿ç”¨ç®—æ³•ï¼Œæ™ºèƒ½ç®¡ç†å†…å­˜ä¸­çš„æ•°æ®é¡µ
ğŸ”¸ å†…å­˜ç›‘æ§ï¼šé€šè¿‡æŒ‡æ ‡ç›‘æ§å†…å­˜ä½¿ç”¨çŠ¶å†µï¼ŒåŠæ—¶å‘ç°é—®é¢˜
```

### 9.2 å…³é”®é…ç½®å‚æ•°


| å‚æ•°åç§° | **æ¨èå€¼** | **è¯´æ˜** |
|---------|-----------|----------|
| `innodb_buffer_pool_size` | **ç‰©ç†å†…å­˜70-80%** | æœ€é‡è¦çš„å†…å­˜å‚æ•° |
| `innodb_buffer_pool_instances` | **8-16** | æé«˜å¹¶å‘æ€§èƒ½ |
| `max_connections` | **æ ¹æ®ä¸šåŠ¡éœ€æ±‚** | å½±å“è¿æ¥å†…å­˜æ€»é‡ |
| `tmp_table_size` | **256M-512M** | ä¸´æ—¶è¡¨å†…å­˜é™åˆ¶ |
| `sort_buffer_size` | **2M-8M** | æ’åºæ“ä½œç¼“å†²åŒº |

### 9.3 ä¼˜åŒ–å®æ–½æ­¥éª¤


**ğŸ”„ ç³»ç»ŸåŒ–ä¼˜åŒ–æµç¨‹**ï¼š
```
Step 1: ç°çŠ¶è¯„ä¼° â†’ æ”¶é›†å½“å‰å†…å­˜ä½¿ç”¨æ•°æ®
Step 2: ç“¶é¢ˆè¯†åˆ« â†’ æ‰¾å‡ºå†…å­˜ä½¿ç”¨çƒ­ç‚¹å’Œé—®é¢˜
Step 3: å‚æ•°è°ƒä¼˜ â†’ æ ¹æ®ä¸šåŠ¡ç‰¹ç‚¹è°ƒæ•´é…ç½®
Step 4: æ•ˆæœéªŒè¯ â†’ æµ‹è¯•ä¼˜åŒ–åçš„æ€§èƒ½è¡¨ç°
Step 5: ç›‘æ§ç»´æŠ¤ â†’ å»ºç«‹æŒç»­ç›‘æ§æœºåˆ¶
```

### 9.4 å®é™…åº”ç”¨ä»·å€¼


**ğŸ’¼ ä¸šåŠ¡åœºæ™¯åº”ç”¨**ï¼š
- **é«˜å¹¶å‘OLTP**ï¼šä¼˜åŒ–ç¼“å†²æ± å’Œè¿æ¥å†…å­˜ï¼Œæå‡äº‹åŠ¡å¤„ç†èƒ½åŠ›
- **å¤§æ•°æ®OLAP**ï¼šé…ç½®å¤§é¡µå†…å­˜å’Œåˆ†æç¼“å†²åŒºï¼ŒåŠ é€ŸæŸ¥è¯¢åˆ†æ
- **æ··åˆè´Ÿè½½**ï¼šå¹³è¡¡å„ç±»å†…å­˜åˆ†é…ï¼Œé€‚åº”ä¸åŒå·¥ä½œè´Ÿè½½
- **äº‘ç¯å¢ƒéƒ¨ç½²**ï¼šæ ¹æ®å®ä¾‹è§„æ ¼åˆç†åˆ†é…å†…å­˜èµ„æº

**ğŸ¯ æ€§èƒ½æå‡æ•ˆæœ**ï¼š
- **ç¼“å†²æ± å‘½ä¸­ç‡**ï¼šä»90%æå‡åˆ°99%ä»¥ä¸Š
- **æŸ¥è¯¢å“åº”æ—¶é—´**ï¼šå‡å°‘20-50%
- **å¹¶å‘å¤„ç†èƒ½åŠ›**ï¼šæå‡30-80%
- **ç³»ç»Ÿç¨³å®šæ€§**ï¼šå‡å°‘å› å†…å­˜ä¸è¶³å¯¼è‡´çš„æ€§èƒ½æ³¢åŠ¨

**æ ¸å¿ƒè®°å¿†å£è¯€**ï¼š
- å†…å­˜ä¼˜åŒ–æŠ“é‡ç‚¹ï¼Œç¼“å†²æ± é…ç½®æ˜¯å…³é”®
- ç¢ç‰‡æ•´ç†é˜²æ€§èƒ½é™ï¼Œå¤§é¡µå†…å­˜ææ•ˆç‡
- é¢„åˆ†é…å‡ä¸´æ—¶å¼€é”€ï¼Œå›æ”¶æœºåˆ¶ä¿å¹³è¡¡
- ç›‘æ§å‘Šè­¦ä¸å¯å°‘ï¼ŒæŒç»­ä¼˜åŒ–ä¿æ€§èƒ½