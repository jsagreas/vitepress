---
title: 5ã€notifiers-default.ymlé€šçŸ¥é…ç½®
---
## ğŸ“š ç›®å½•


1. [é€šçŸ¥é…ç½®æ–‡ä»¶æ¦‚è¿°](#1-é€šçŸ¥é…ç½®æ–‡ä»¶æ¦‚è¿°)
2. [åŸºç¡€é…ç½®ç»“æ„](#2-åŸºç¡€é…ç½®ç»“æ„)
3. [é€šçŸ¥å™¨æ ¸å¿ƒå±æ€§](#3-é€šçŸ¥å™¨æ ¸å¿ƒå±æ€§)
4. [å¸¸è§é€šçŸ¥å™¨ç±»å‹è¯¦è§£](#4-å¸¸è§é€šçŸ¥å™¨ç±»å‹è¯¦è§£)
5. [é«˜çº§é…ç½®é€‰é¡¹](#5-é«˜çº§é…ç½®é€‰é¡¹)
6. [å®é™…é…ç½®æ¡ˆä¾‹](#6-å®é™…é…ç½®æ¡ˆä¾‹)
7. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#7-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ“¬ é€šçŸ¥é…ç½®æ–‡ä»¶æ¦‚è¿°



### 1.1 ä»€ä¹ˆæ˜¯é€šçŸ¥é…ç½®æ–‡ä»¶


**ç®€å•ç†è§£**ï¼šé€šçŸ¥é…ç½®æ–‡ä»¶å°±åƒæ˜¯Grafanaçš„"è”ç³»äººé€šè®¯å½•"ï¼Œå½“ç›‘æ§å‘ç°é—®é¢˜æ—¶ï¼Œå‘Šè¯‰Grafanaåº”è¯¥é€šçŸ¥è°ã€æ€ä¹ˆé€šçŸ¥ã€‚

```
ç°å®ç±»æ¯”ï¼š
ç«ç¾æŠ¥è­¦ç³»ç»Ÿ â†’ Grafanaç›‘æ§
ç´§æ€¥è”ç³»äººåå• â†’ é€šçŸ¥é…ç½®æ–‡ä»¶
æŠ¥è­¦æ–¹å¼(ç”µè¯/çŸ­ä¿¡) â†’ é€šçŸ¥å™¨ç±»å‹
```

### 1.2 notifiers-default.ymlæ–‡ä»¶ä½œç”¨


**æ ¸å¿ƒä½œç”¨**ï¼š
- ğŸ¯ **é¢„å®šä¹‰é€šçŸ¥æ–¹å¼**ï¼šæå‰é…ç½®å¥½å„ç§é€šçŸ¥æ¸ é“
- ğŸ”„ **è‡ªåŠ¨åŒ–éƒ¨ç½²**ï¼šæ–°ç¯å¢ƒå¿«é€Ÿå¤åˆ¶é€šçŸ¥é…ç½®
- ğŸ“‹ **ç»Ÿä¸€ç®¡ç†**ï¼šé›†ä¸­ç®¡ç†æ‰€æœ‰é€šçŸ¥å™¨è®¾ç½®
- ğŸ›¡ï¸ **æ ‡å‡†åŒ–é…ç½®**ï¼šç¡®ä¿é€šçŸ¥é…ç½®çš„ä¸€è‡´æ€§

### 1.3 é…ç½®æ–‡ä»¶çš„å·¥ä½œåŸç†


```
ç›‘æ§å‘Šè­¦è§¦å‘ â†’ æŸ¥æ‰¾é€šçŸ¥å™¨ â†’ æ ¹æ®é…ç½®å‘é€é€šçŸ¥

è¯¦ç»†æµç¨‹ï¼š
1. ç›‘æ§è§„åˆ™æ£€æµ‹åˆ°å¼‚å¸¸
2. è§¦å‘å‘Šè­¦è§„åˆ™
3. æŸ¥æ‰¾å¯¹åº”çš„é€šçŸ¥å™¨é…ç½®
4. æŒ‰ç…§é…ç½®çš„æ–¹å¼å‘é€é€šçŸ¥
5. è®°å½•é€šçŸ¥å‘é€ç»“æœ
```

---

## 2. ğŸ—ï¸ åŸºç¡€é…ç½®ç»“æ„



### 2.1 æ–‡ä»¶æ•´ä½“ç»“æ„



```yaml
# notifiers-default.yml åŸºæœ¬ç»“æ„

notifiers:
  - name: "é‚®ä»¶é€šçŸ¥"
    type: "email"
    uid: "email001"
#    # ... å…¶ä»–é…ç½®
  - name: "é’‰é’‰é€šçŸ¥"
    type: "webhook"
    uid: "dingtalk001"
#    # ... å…¶ä»–é…ç½®
```

**ç»“æ„è§£é‡Š**ï¼š
- `notifiers`ï¼š**é€šçŸ¥å™¨åˆ—è¡¨çš„æ ¹èŠ‚ç‚¹**ï¼ŒåŒ…å«æ‰€æœ‰é€šçŸ¥å™¨é…ç½®
- æ¯ä¸ª `-` å¼€å¤´ï¼šä»£è¡¨**ä¸€ä¸ªç‹¬ç«‹çš„é€šçŸ¥å™¨**
- æ¯ä¸ªé€šçŸ¥å™¨ï¼šæœ‰è‡ªå·±çš„**åç§°ã€ç±»å‹å’Œå…·ä½“è®¾ç½®**

### 2.2 é…ç½®æ–‡ä»¶å±‚æ¬¡å…³ç³»



```
notifiers-default.yml
â”œâ”€â”€ notifiers (é€šçŸ¥å™¨åˆ—è¡¨)
â”‚   â”œâ”€â”€ é€šçŸ¥å™¨1 (é‚®ä»¶)
â”‚   â”‚   â”œâ”€â”€ åŸºæœ¬ä¿¡æ¯ (name, type, uid)
â”‚   â”‚   â”œâ”€â”€ ç»„ç»‡ä¿¡æ¯ (org_id)
â”‚   â”‚   â”œâ”€â”€ è¡Œä¸ºè®¾ç½® (is_default, send_reminder)
â”‚   â”‚   â””â”€â”€ å…·ä½“è®¾ç½® (settings)
â”‚   â”œâ”€â”€ é€šçŸ¥å™¨2 (Slack)
â”‚   â”‚   â”œâ”€â”€ åŸºæœ¬ä¿¡æ¯
â”‚   â”‚   â”œâ”€â”€ ç»„ç»‡ä¿¡æ¯
â”‚   â”‚   â””â”€â”€ å…·ä½“è®¾ç½®
â”‚   â””â”€â”€ é€šçŸ¥å™¨3 (Webhook)
```

---

## 3. âš™ï¸ é€šçŸ¥å™¨æ ¸å¿ƒå±æ€§



### 3.1 åŸºç¡€æ ‡è¯†å±æ€§



| å±æ€§ | å«ä¹‰ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| **name** | é€šçŸ¥å™¨åç§° | âœ… | åœ¨ç•Œé¢ä¸Šæ˜¾ç¤ºçš„åå­—ï¼Œè¦èµ·å¾—æœ‰æ„ä¹‰ |
| **type** | é€šçŸ¥å™¨ç±»å‹ | âœ… | å†³å®šç”¨ä»€ä¹ˆæ–¹å¼å‘é€šçŸ¥ï¼ˆé‚®ä»¶/å¾®ä¿¡/é’‰é’‰ç­‰ï¼‰ |
| **uid** | å”¯ä¸€æ ‡è¯†ç¬¦ | âœ… | ç³»ç»Ÿå†…éƒ¨è¯†åˆ«ç ï¼Œä¸èƒ½é‡å¤ |

**å®é™…åº”ç”¨**ï¼š
```yaml
name: "è¿ç»´å›¢é˜Ÿé‚®ä»¶"     # ğŸ‘ˆ äººçœ‹çš„åå­—ï¼Œè¦ä¸€ç›®äº†ç„¶
type: "email"           # ğŸ‘ˆ å‘Šè¯‰ç³»ç»Ÿè¿™æ˜¯é‚®ä»¶é€šçŸ¥
uid: "ops-team-email"   # ğŸ‘ˆ ç³»ç»Ÿå†…éƒ¨ä»£å·ï¼Œè¦å”¯ä¸€
```

### 3.2 ç»„ç»‡ç®¡ç†å±æ€§



**org_idç»„ç»‡ID**ï¼š
- **å«ä¹‰**ï¼šæŒ‡å®šé€šçŸ¥å™¨å±äºå“ªä¸ªç»„ç»‡
- **é»˜è®¤å€¼**ï¼š`1`ï¼ˆä¸»ç»„ç»‡ï¼‰
- **ä½¿ç”¨åœºæ™¯**ï¼šå¤šç§Ÿæˆ·ç¯å¢ƒä¸‹åŒºåˆ†ä¸åŒå›¢é˜Ÿçš„é€šçŸ¥å™¨

```yaml
org_id: 1    # ğŸ‘ˆ å±äºç»„ç»‡1ï¼Œä¸€èˆ¬æ˜¯é»˜è®¤ç»„ç»‡
```

### 3.3 è¡Œä¸ºæ§åˆ¶å±æ€§



**is_defaulté»˜è®¤é€šçŸ¥å™¨**ï¼š
```yaml
is_default: true    # ğŸ‘ˆ è®¾ä¸ºé»˜è®¤é€šçŸ¥å™¨
is_default: false   # ğŸ‘ˆ éé»˜è®¤é€šçŸ¥å™¨
```
- **ä½œç”¨**ï¼šæ–°å»ºå‘Šè­¦è§„åˆ™æ—¶**è‡ªåŠ¨é€‰æ‹©**è¿™ä¸ªé€šçŸ¥å™¨
- **å»ºè®®**ï¼šæ¯ç§ç±»å‹æœ€å¥½åªæœ‰ä¸€ä¸ªé»˜è®¤é€šçŸ¥å™¨

**send_reminderå‘é€æé†’**ï¼š
```yaml
send_reminder: true   # ğŸ‘ˆ å¯ç”¨æé†’åŠŸèƒ½
send_reminder: false  # ğŸ‘ˆ å…³é—­æé†’åŠŸèƒ½
```
- **ä½œç”¨**ï¼šé—®é¢˜æœªè§£å†³æ—¶**å®šæœŸé‡å¤**å‘é€é€šçŸ¥
- **é€‚ç”¨åœºæ™¯**ï¼šé‡è¦å‘Šè­¦éœ€è¦æŒç»­å…³æ³¨

**disable_resolve_messageç¦ç”¨è§£å†³æ¶ˆæ¯**ï¼š
```yaml
disable_resolve_message: false  # ğŸ‘ˆ å‘é€è§£å†³é€šçŸ¥
disable_resolve_message: true   # ğŸ‘ˆ ä¸å‘é€è§£å†³é€šçŸ¥
```
- **ä½œç”¨**ï¼šæ§åˆ¶é—®é¢˜è§£å†³åæ˜¯å¦å‘é€"é—®é¢˜å·²è§£å†³"çš„é€šçŸ¥

### 3.4 é¢‘ç‡æ§åˆ¶å±æ€§



**frequencyé€šçŸ¥é¢‘ç‡**ï¼š
```yaml
frequency: "10m"    # ğŸ‘ˆ æ¯10åˆ†é’Ÿæé†’ä¸€æ¬¡
frequency: "1h"     # ğŸ‘ˆ æ¯1å°æ—¶æé†’ä¸€æ¬¡
frequency: "24h"    # ğŸ‘ˆ æ¯24å°æ—¶æé†’ä¸€æ¬¡
```

**é¢‘ç‡è®¾ç½®å»ºè®®**ï¼š
- ğŸ”´ **ä¸¥é‡å‘Šè­¦**ï¼š`5m` æˆ– `10m`ï¼ˆå¿«é€Ÿå“åº”ï¼‰
- ğŸŸ¡ **ä¸€èˆ¬å‘Šè­¦**ï¼š`30m` æˆ– `1h`ï¼ˆé€‚åº¦å…³æ³¨ï¼‰
- ğŸŸ¢ **è½»å¾®å‘Šè­¦**ï¼š`4h` æˆ– `24h`ï¼ˆé¿å…æ‰“æ‰°ï¼‰

---

## 4. ğŸ“¨ å¸¸è§é€šçŸ¥å™¨ç±»å‹è¯¦è§£



### 4.1 é‚®ä»¶é€šçŸ¥å™¨(email)



**åŸºæœ¬é…ç½®ç¤ºä¾‹**ï¼š
```yaml
- name: "è¿ç»´é‚®ä»¶é€šçŸ¥"
  type: "email"
  uid: "ops-email-notifier"
  org_id: 1
  is_default: true
  settings:
    addresses: "ops@company.com;alert@company.com"
    subject: "ã€Grafanaå‘Šè­¦ã€‘{{ .CommonLabels.alertname }}"
    body: |
      å‘Šè­¦è¯¦æƒ…ï¼š
      å‘Šè­¦åç§°ï¼š{{ .CommonLabels.alertname }}
      å‘Šè­¦çŠ¶æ€ï¼š{{ .Status }}
      è§¦å‘æ—¶é—´ï¼š{{ .FiringAlerts | len }}
```

**é‚®ä»¶é…ç½®å…³é”®å‚æ•°**ï¼š
- `addresses`ï¼š**æ”¶ä»¶äººé‚®ç®±**ï¼Œå¤šä¸ªé‚®ç®±ç”¨`;`åˆ†éš”
- `subject`ï¼š**é‚®ä»¶æ ‡é¢˜**ï¼Œæ”¯æŒæ¨¡æ¿å˜é‡
- `body`ï¼š**é‚®ä»¶å†…å®¹**ï¼Œæ”¯æŒHTMLå’Œæ¨¡æ¿

### 4.2 Webhooké€šçŸ¥å™¨(webhook)



**ä»€ä¹ˆæ˜¯Webhook**ï¼š
```
Webhook = Web + Hookï¼ˆé’©å­ï¼‰
ç®€å•ç†è§£ï¼šå½“æœ‰å‘Šè­¦æ—¶ï¼ŒGrafanaä¸»åŠ¨"æ‰“ç”µè¯"ç»™æŒ‡å®šçš„ç½‘å€
```

**é’‰é’‰ç¾¤æœºå™¨äººé…ç½®**ï¼š
```yaml
- name: "é’‰é’‰ç¾¤é€šçŸ¥"
  type: "webhook"
  uid: "dingtalk-webhook"
  settings:
    url: "https://oapi.dingtalk.com/robot/send?access_token=xxx"
    username: "Grafanaå‘Šè­¦æœºå™¨äºº"
    httpMethod: "POST"
    title: "{{ .Status | title }}: {{ .CommonLabels.alertname }}"
    text: |
#      ## ğŸ“Š Grafanaç›‘æ§å‘Šè­¦
      
      **å‘Šè­¦åç§°**: {{ .CommonLabels.alertname }}
      **å‘Šè­¦çŠ¶æ€**: {{ .Status }}
      **è§¦å‘æ—¶é—´**: {{ .CommonAnnotations.description }}
```

**ä¼ä¸šå¾®ä¿¡é…ç½®**ï¼š
```yaml
- name: "ä¼ä¸šå¾®ä¿¡é€šçŸ¥"
  type: "webhook"
  uid: "wechat-webhook"
  settings:
    url: "https://qyapi.weixin.qq.com/cgi-bin/webhook/send?key=xxx"
    httpMethod: "POST"
    title: "Grafanaå‘Šè­¦"
    text: |
      {
        "msgtype": "markdown",
        "markdown": {
          "content": "## ğŸ“Š ç›‘æ§å‘Šè­¦\nå‘Šè­¦ï¼š{{ .CommonLabels.alertname }}\nçŠ¶æ€ï¼š{{ .Status }}"
        }
      }
```

### 4.3 Slacké€šçŸ¥å™¨(slack)



```yaml
- name: "Slackè¿ç»´é¢‘é“"
  type: "slack"
  uid: "slack-ops-channel"
  settings:
    url: "https://hooks.slack.com/services/xxx/xxx/xxx"
    username: "Grafana"
    channel: "#ops-alerts"
    title: "{{ .Status | title }}: {{ .CommonLabels.alertname }}"
    text: |
      :warning: *å‘Šè­¦è¯¦æƒ…*
      *åç§°*: {{ .CommonLabels.alertname }}
      *çŠ¶æ€*: {{ .Status }}
      *æ—¶é—´*: {{ .FiringAlerts | len }} ä¸ªå‘Šè­¦è§¦å‘
```

### 4.4 Teamsé€šçŸ¥å™¨(teams)



```yaml
- name: "Teamsè¿ç»´ç¾¤"
  type: "teams"
  uid: "teams-ops-group"
  settings:
    url: "https://outlook.office.com/webhook/xxx"
    title: "Grafanaç›‘æ§å‘Šè­¦"
    text: |
      **å‘Šè­¦åç§°**: {{ .CommonLabels.alertname }}
      **å‘Šè­¦çŠ¶æ€**: {{ .Status }}
      **è¯¦ç»†ä¿¡æ¯**: {{ .CommonAnnotations.description }}
```

---

## 5. ğŸ”§ é«˜çº§é…ç½®é€‰é¡¹



### 5.1 æ¨¡æ¿å˜é‡è¯¦è§£



**å¸¸ç”¨æ¨¡æ¿å˜é‡**ï¼š
```yaml
# å‘Šè­¦åŸºæœ¬ä¿¡æ¯

{{ .Status }}                    # ğŸ‘ˆ å‘Šè­¦çŠ¶æ€ï¼šfiring/resolved
{{ .CommonLabels.alertname }}    # ğŸ‘ˆ å‘Šè­¦è§„åˆ™åç§°
{{ .CommonLabels.instance }}     # ğŸ‘ˆ å‘Šè­¦å®ä¾‹
{{ .CommonAnnotations.summary }} # ğŸ‘ˆ å‘Šè­¦æ‘˜è¦
{{ .CommonAnnotations.description }} # ğŸ‘ˆ å‘Šè­¦æè¿°

# å‘Šè­¦æ•°é‡å’Œæ—¶é—´

{{ .FiringAlerts | len }}        # ğŸ‘ˆ è§¦å‘å‘Šè­¦æ•°é‡
{{ .ResolvedAlerts | len }}      # ğŸ‘ˆ è§£å†³å‘Šè­¦æ•°é‡

# é«˜çº§æ¨¡æ¿ï¼ˆå¾ªç¯æ˜¾ç¤ºï¼‰

{{ range .FiringAlerts }}
  å‘Šè­¦ï¼š{{ .Labels.alertname }}
  å®ä¾‹ï¼š{{ .Labels.instance }}
{{ end }}
```

### 5.2 è®¤è¯é…ç½®



**HTTPåŸºç¡€è®¤è¯**ï¼š
```yaml
settings:
  url: "https://api.example.com/webhook"
  username: "api_user"
  password: "api_password"
  httpMethod: "POST"
```

**Tokenè®¤è¯**ï¼š
```yaml
settings:
  url: "https://api.example.com/webhook"
  httpMethod: "POST"
  title: "Grafana Alert"
  text: "Alert content"
#  # åœ¨headersä¸­æ·»åŠ è®¤è¯ä¿¡æ¯
```

### 5.3 æ¡ä»¶è¿‡æ»¤é…ç½®



**æŒ‰ä¸¥é‡çº§åˆ«è¿‡æ»¤**ï¼š
```yaml
- name: "ä¸¥é‡å‘Šè­¦ä¸“ç”¨é€šçŸ¥"
  type: "email"
  uid: "critical-only"
  settings:
    addresses: "ceo@company.com"
#    # åªæœ‰criticalçº§åˆ«æ‰å‘é€
```

---

## 6. ğŸ’¼ å®é™…é…ç½®æ¡ˆä¾‹



### 6.1 å®Œæ•´çš„å¤šé€šçŸ¥å™¨é…ç½®



```yaml
# notifiers-default.yml å®Œæ•´ç¤ºä¾‹

notifiers:
#  # ğŸ“§ é‚®ä»¶é€šçŸ¥å™¨ - ä¸»è¦å‘Šè­¦æ¸ é“
  - name: "è¿ç»´å›¢é˜Ÿé‚®ä»¶"
    type: "email"
    uid: "ops-email-main"
    org_id: 1
    is_default: true
    send_reminder: true
    disable_resolve_message: false
    frequency: "10m"
    settings:
      addresses: "ops@company.com;devops@company.com"
      subject: "ğŸš¨ã€{{ .Status }}ã€‘{{ .CommonLabels.alertname }}"
      body: |
        <h2>ğŸ“Š Grafanaç›‘æ§å‘Šè­¦</h2>
        <p><strong>å‘Šè­¦åç§°:</strong> {{ .CommonLabels.alertname }}</p>
        <p><strong>å‘Šè­¦çŠ¶æ€:</strong> {{ .Status }}</p>
        <p><strong>è§¦å‘æ—¶é—´:</strong> {{ .FiringAlerts | len }} ä¸ªå‘Šè­¦</p>
        <p><strong>è¯¦ç»†æè¿°:</strong> {{ .CommonAnnotations.description }}</p>

#  # ğŸ’¬ é’‰é’‰é€šçŸ¥å™¨ - å®æ—¶æ²Ÿé€š
  - name: "é’‰é’‰è¿ç»´ç¾¤"
    type: "webhook"
    uid: "dingtalk-ops-group"
    org_id: 1
    is_default: false
    send_reminder: false
    frequency: "5m"
    settings:
      url: "https://oapi.dingtalk.com/robot/send?access_token=your_token"
      httpMethod: "POST"
      title: "{{ .Status | title }}: {{ .CommonLabels.alertname }}"
      text: |
        {
          "msgtype": "markdown",
          "markdown": {
            "title": "Grafanaç›‘æ§å‘Šè­¦",
            "text": "## ğŸ“Š ç›‘æ§å‘Šè­¦é€šçŸ¥\n\n**å‘Šè­¦åç§°**: {{ .CommonLabels.alertname }}\n\n**å‘Šè­¦çŠ¶æ€**: {{ .Status }}\n\n**å®ä¾‹ä¿¡æ¯**: {{ .CommonLabels.instance }}\n\n**å‘Šè­¦æè¿°**: {{ .CommonAnnotations.description }}"
          }
        }

#  # ğŸ“± Slacké€šçŸ¥å™¨ - å›½é™…å›¢é˜Ÿ
  - name: "Slackå›½é™…è¿ç»´"
    type: "slack"
    uid: "slack-global-ops"
    org_id: 1
    is_default: false
    send_reminder: true
    frequency: "15m"
    settings:
      url: "https://hooks.slack.com/services/your/slack/webhook"
      username: "Grafana-Bot"
      channel: "#ops-alerts"
      title: "{{ .Status | title }}: {{ .CommonLabels.alertname }}"
      text: |
        :warning: *Monitoring Alert*
        *Alert*: {{ .CommonLabels.alertname }}
        *Status*: {{ .Status }}
        *Instance*: {{ .CommonLabels.instance }}
        *Description*: {{ .CommonAnnotations.description }}

#  # ğŸ”” ä¼ä¸šå¾®ä¿¡é€šçŸ¥å™¨ - ç®¡ç†å±‚
  - name: "ä¼ä¸šå¾®ä¿¡ç®¡ç†å±‚"
    type: "webhook"
    uid: "wechat-management"
    org_id: 1
    is_default: false
    send_reminder: false
    disable_resolve_message: true
    frequency: "1h"
    settings:
      url: "https://qyapi.weixin.qq.com/cgi-bin/webhook/send?key=your_key"
      httpMethod: "POST"
      title: "é‡è¦ç³»ç»Ÿå‘Šè­¦"
      text: |
        {
          "msgtype": "text",
          "text": {
            "content": "ã€é‡è¦å‘Šè­¦ã€‘\nå‘Šè­¦åç§°: {{ .CommonLabels.alertname }}\nå‘Šè­¦çŠ¶æ€: {{ .Status }}\nè¯·åŠæ—¶å…³æ³¨å¤„ç†"
          }
        }
```

### 6.2 é…ç½®æ–‡ä»¶æœ€ä½³å®è·µ



**å‘½åè§„èŒƒå»ºè®®**ï¼š
```yaml
# âœ… æ¨èå‘½åæ–¹å¼

name: "é‚®ä»¶-è¿ç»´å›¢é˜Ÿ-ä¸»è¦"      # ç±»å‹-å›¢é˜Ÿ-ç”¨é€”
name: "é’‰é’‰-å¼€å‘ç»„-æ—¥å¸¸"        # ä¾¿äºè¯†åˆ«å’Œç®¡ç†
name: "Slack-å›½é™…-ç´§æ€¥"

# âŒ ä¸æ¨èå‘½åæ–¹å¼  

name: "notifier1"              # æ— æ„ä¹‰
name: "test"                   # ä¸æ˜ç¡®ç”¨é€”
```

**UIDè§„èŒƒå»ºè®®**ï¼š
```yaml
# âœ… æ¨èUIDæ ¼å¼

uid: "email-ops-main"          # ç±»å‹-å›¢é˜Ÿ-ç”¨é€”
uid: "webhook-dingtalk-dev"    # ä¾¿äºç¨‹åºè¯†åˆ«
uid: "slack-global-urgent"

# âŒ ä¸æ¨èUIDæ ¼å¼

uid: "123456"                  # çº¯æ•°å­—
uid: "notifier_test"           # ä¸è§„èŒƒ
```

---

## 7. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“



### 7.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ



```
ğŸ”¸ é€šçŸ¥é…ç½®æ–‡ä»¶æœ¬è´¨ï¼šå‘Šè¯‰Grafana"å‡ºé—®é¢˜æ—¶æ‰¾è°ã€æ€ä¹ˆæ‰¾"
ğŸ”¸ notifiersæ ¹èŠ‚ç‚¹ï¼šåŒ…å«æ‰€æœ‰é€šçŸ¥å™¨çš„åˆ—è¡¨é…ç½®
ğŸ”¸ åŸºç¡€ä¸‰è¦ç´ ï¼šname(åç§°)ã€type(ç±»å‹)ã€uid(å”¯ä¸€ID)
ğŸ”¸ è¡Œä¸ºæ§åˆ¶ï¼šis_defaultã€send_reminderã€frequency
ğŸ”¸ æ¨¡æ¿å˜é‡ï¼šè®©é€šçŸ¥å†…å®¹åŠ¨æ€æ˜¾ç¤ºå‘Šè­¦ä¿¡æ¯
```

### 7.2 å…³é”®ç†è§£è¦ç‚¹



**ğŸ”¹ é€šçŸ¥å™¨ç±»å‹é€‰æ‹©**ï¼š
```
é‚®ä»¶(email)ï¼š
â€¢ ä¼˜åŠ¿ï¼šæ­£å¼ã€å¯è¿½æº¯ã€æ”¯æŒå¯Œæ–‡æœ¬
â€¢ é€‚ç”¨ï¼šé‡è¦å‘Šè­¦ã€ç•™æ¡£éœ€æ±‚

Webhookï¼š
â€¢ ä¼˜åŠ¿ï¼šçµæ´»ã€å¯å¯¹æ¥å„ç§ç³»ç»Ÿ
â€¢ é€‚ç”¨ï¼šé’‰é’‰ã€ä¼ä¸šå¾®ä¿¡ã€è‡ªå®šä¹‰ç³»ç»Ÿ

Slack/Teamsï¼š
â€¢ ä¼˜åŠ¿ï¼šå›¢é˜Ÿåä½œã€å®æ—¶æ€§å¥½
â€¢ é€‚ç”¨ï¼šå›½é™…å›¢é˜Ÿã€åä½œåœºæ™¯
```

**ğŸ”¹ é…ç½®ç­–ç•¥å»ºè®®**ï¼š
```
å¤šå±‚çº§é€šçŸ¥ï¼š
â€¢ é‚®ä»¶ï¼šæ‰€æœ‰å‘Šè­¦éƒ½å‘é€ï¼ˆè®°å½•ç”¨ï¼‰
â€¢ å³æ—¶é€šè®¯ï¼šç´§æ€¥å‘Šè­¦å‘é€ï¼ˆå¿«é€Ÿå“åº”ï¼‰
â€¢ ç®¡ç†å±‚ï¼šé‡è¦å‘Šè­¦å‘é€ï¼ˆå†³ç­–ç”¨ï¼‰

é¢‘ç‡æ§åˆ¶ï¼š
â€¢ ä¸¥é‡å‘Šè­¦ï¼š5-10åˆ†é’Ÿæé†’
â€¢ ä¸€èˆ¬å‘Šè­¦ï¼š30åˆ†é’Ÿ-1å°æ—¶
â€¢ è½»å¾®å‘Šè­¦ï¼š4-24å°æ—¶
```

**ğŸ”¹ æ¨¡æ¿å˜é‡è¿ç”¨**ï¼š
```
åŸºç¡€ä¿¡æ¯å¿…å¤‡ï¼š
â€¢ {{ .CommonLabels.alertname }}  - å‘Šè­¦åç§°
â€¢ {{ .Status }}                  - å‘Šè­¦çŠ¶æ€  
â€¢ {{ .CommonAnnotations.description }} - å‘Šè­¦æè¿°

è¿›é˜¶ä¿¡æ¯é€‰ç”¨ï¼š
â€¢ {{ .FiringAlerts | len }}      - å‘Šè­¦æ•°é‡
â€¢ {{ .CommonLabels.instance }}   - å®ä¾‹ä¿¡æ¯
```

### 7.3 å®é™…åº”ç”¨æŒ‡å¯¼



**é…ç½®æ–‡ä»¶éƒ¨ç½²æµç¨‹**ï¼š
```
1ï¸âƒ£ å‡†å¤‡é…ç½®æ–‡ä»¶
   â””â”€â”€ ç¼–å†™notifiers-default.yml

2ï¸âƒ£ æ”¾ç½®åˆ°æ­£ç¡®ä½ç½®
   â””â”€â”€ Grafanaçš„provisioning/notifiers/ç›®å½•

3ï¸âƒ£ é‡å¯GrafanaæœåŠ¡
   â””â”€â”€ è®©é…ç½®ç”Ÿæ•ˆ

4ï¸âƒ£ éªŒè¯é…ç½®
   â””â”€â”€ åœ¨ç•Œé¢æŸ¥çœ‹é€šçŸ¥å™¨æ˜¯å¦æ­£ç¡®åŠ è½½
```

**å¸¸è§é—®é¢˜æ’æŸ¥**ï¼š
- âœ… **é…ç½®ä¸ç”Ÿæ•ˆ**ï¼šæ£€æŸ¥æ–‡ä»¶è·¯å¾„å’ŒYAMLè¯­æ³•
- âœ… **é€šçŸ¥å‘é€å¤±è´¥**ï¼šéªŒè¯URLå’Œè®¤è¯ä¿¡æ¯
- âœ… **æ¨¡æ¿æ˜¾ç¤ºå¼‚å¸¸**ï¼šæ£€æŸ¥å˜é‡åç§°æ˜¯å¦æ­£ç¡®
- âœ… **é¢‘ç‡æ§åˆ¶æ— æ•ˆ**ï¼šç¡®è®¤frequencyæ ¼å¼æ˜¯å¦æ­£ç¡®

### 7.4 æœ€ä½³å®è·µæ€»ç»“



**å®‰å…¨æ€§è€ƒè™‘**ï¼š
- ğŸ” **æ•æ„Ÿä¿¡æ¯**ï¼šTokenå’Œå¯†ç ä¸è¦ç¡¬ç¼–ç åœ¨é…ç½®æ–‡ä»¶ä¸­
- ğŸ” **æƒé™æ§åˆ¶**ï¼šä¸åŒç»„ç»‡ä½¿ç”¨ä¸åŒorg_idéš”ç¦»
- ğŸ” **è®¿é—®é™åˆ¶**ï¼šWebhook URLè¦åšå¥½è®¿é—®æ§åˆ¶

**ç»´æŠ¤æ€§è€ƒè™‘**ï¼š
- ğŸ“ **å‘½åè§„èŒƒ**ï¼šä½¿ç”¨æœ‰æ„ä¹‰çš„nameå’Œuid
- ğŸ“ **æ³¨é‡Šè¯´æ˜**ï¼šåœ¨é…ç½®æ–‡ä»¶ä¸­æ·»åŠ å¿…è¦æ³¨é‡Š
- ğŸ“ **ç‰ˆæœ¬ç®¡ç†**ï¼šé…ç½®æ–‡ä»¶çº³å…¥ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ

**æ•ˆç‡æ€§è€ƒè™‘**ï¼š
- âš¡ **é€šçŸ¥å»é‡**ï¼šé¿å…åŒä¸€å‘Šè­¦é‡å¤å‘é€
- âš¡ **åˆ†çº§é€šçŸ¥**ï¼šæ ¹æ®ä¸¥é‡ç¨‹åº¦é€‰æ‹©ä¸åŒé€šçŸ¥æ–¹å¼
- âš¡ **æ¨¡æ¿ä¼˜åŒ–**ï¼šä½¿ç”¨æ¸…æ™°ç®€æ´çš„é€šçŸ¥æ¨¡æ¿

**æ ¸å¿ƒè®°å¿†è¦ç‚¹**ï¼š
- é€šçŸ¥é…ç½®æ˜¯ç›‘æ§ç³»ç»Ÿçš„"æœ€åä¸€å…¬é‡Œ"
- åˆç†çš„é€šçŸ¥ç­–ç•¥æ¯”æŠ€æœ¯å®ç°æ›´é‡è¦
- æ¨¡æ¿å˜é‡è®©é€šçŸ¥å†…å®¹æ›´æœ‰ä»·å€¼
- å¤šæ¸ é“é€šçŸ¥ç¡®ä¿å‘Šè­¦ä¸è¢«é—æ¼