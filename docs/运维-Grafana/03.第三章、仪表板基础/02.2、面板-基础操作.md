---
title: 2、面板-基础操作
---
## 📚 目录

1. [面板是什么](#1-面板是什么)
2. [添加面板的方法](#2-添加面板的方法)
3. [面板类型选择详解](#3-面板类型选择详解)
4. [查询编辑器使用](#4-查询编辑器使用)
5. [面板标题和描述设置](#5-面板标题和描述设置)
6. [复制和移动面板](#6-复制和移动面板)
7. [面板布局调整技巧](#7-面板布局调整技巧)
8. [核心要点总结](#8-核心要点总结)

---

## 1. 📊 面板是什么


### 1.1 面板的基本概念


**面板（Panel）**就像是仪表板上的一个**"小窗口"**，专门用来展示某一种特定的监控数据。

```
把仪表板想象成一面墙：
┌─────────────────────────────────────┐
│              仪表板              │
│  ┌─────────┐  ┌─────────┐  ┌─────│
│  │ CPU使用率│  │ 内存使用 │  │ 网络│
│  │   面板   │  │   面板   │  │面板 │
│  └─────────┘  └─────────┘  └─────│
│  ┌─────────┐  ┌─────────┐        │
│  │ 磁盘IO  │  │ 错误日志 │        │
│  │   面板   │  │   面板   │        │
│  └─────────┘  └─────────┘        │
└─────────────────────────────────────┘

每个面板负责展示一种数据
```

### 1.2 面板的作用


**🔸 数据可视化的基本单位**
- 每个面板专注展示**一种类型**的数据
- 把复杂的数字变成**直观的图表**
- 让运维人员能**快速理解**系统状态

**💡 实际例子**
```
原始数据：CPU使用率 85.6%
面板展示：一个红色的进度条，快要满了！
效果：一眼就知道CPU快爆了，需要关注
```

### 1.3 面板的核心特点


| 特点 | **说明** | **新手理解** |
|------|---------|-------------|
| 🎯 **专一性** | `每个面板只管一种数据` | `就像汽车仪表盘上的速度表，只显示速度` |
| 🔄 **实时性** | `数据会自动更新` | `不用手动刷新，数据会自己变化` |
| 🎨 **可定制** | `颜色、样式可以调整` | `像装修房子一样，可以改变外观` |
| 📱 **响应式** | `屏幕大小改变，面板会自适应` | `在手机或电脑上都能正常显示` |

---

## 2. ➕ 添加面板的方法


### 2.1 最简单的添加方式


**步骤一：点击添加按钮**
```
在仪表板右上角找到：
[+ Add panel] 按钮 → 点击它
```

**步骤二：选择面板类型**
```
会弹出一个选择界面：
┌─────────────────────┐
│    添加新面板        │
├─────────────────────┤
│ 📈 Graph            │ ← 线图，最常用
│ 📊 Stat             │ ← 数值显示
│ 📋 Table            │ ← 表格
│ 🗺️  Geomap          │ ← 地图
│ ... 更多选项        │
└─────────────────────┘
```

### 2.2 快速添加的技巧


**🔸 复制已有面板（推荐新手）**
```
操作步骤：
1. 找到一个类似的面板
2. 点击面板标题 → Panel options
3. 选择 "Duplicate" (复制)
4. 修改数据源和查询条件
```

**💡 为什么推荐复制？**
- **省时间**：不用重新设置样式
- **避免错误**：复制的配置是已经验证过的
- **学习机会**：可以看别人是怎么配置的

### 2.3 添加面板的位置控制


```
面板会添加到的位置：
📍 默认位置：仪表板的底部
📍 自定义位置：拖拽到想要的地方

位置规划建议：
🔝 重要数据 → 放在顶部
🔗 相关数据 → 放在一起
📱 手机查看 → 重要的放左边
```

---

## 3. 🎨 面板类型选择详解


### 3.1 最常用的面板类型


**📈 Time Series（时间序列图）**
```
用途：显示数据随时间的变化
最适合：CPU使用率、内存使用量、网络流量

外观特点：
     ▲
  80%│   ╱╲
     │  ╱  ╲
  40%│ ╱    ╲╱
     │╱
   0%└─────────────►
     12:00  13:00  时间

什么时候用：想看趋势变化的时候
```

**📊 Stat（统计数值）**
```
用途：显示单个数值
最适合：当前CPU使用率、在线用户数、错误计数

外观特点：
┌─────────────┐
│   CPU使用率  │
│             │
│    85.6%    │ ← 大大的数字
│             │
└─────────────┘

什么时候用：想快速看到准确数值的时候
```

**📋 Table（表格）**
```
用途：显示多行多列的详细数据
最适合：服务器列表、错误日志、用户统计

外观特点：
┌─────────┬─────────┬─────────┐
│ 服务器  │ CPU使用 │ 内存使用 │
├─────────┼─────────┼─────────┤
│ web-01  │  45%    │  67%    │
│ web-02  │  52%    │  71%    │
│ db-01   │  89%    │  45%    │
└─────────┴─────────┴─────────┘

什么时候用：需要看详细列表的时候
```

### 3.2 面板类型选择指南


```
🤔 如何选择面板类型？

问自己几个问题：
❓ 要看趋势变化吗？ → 选择 Time Series
❓ 只要看当前数值吗？ → 选择 Stat  
❓ 需要看详细列表吗？ → 选择 Table
❓ 要比较多个数值吗？ → 选择 Bar Chart
❓ 要看分布比例吗？ → 选择 Pie Chart
```

### 3.3 新手建议的面板组合


**🏆 经典组合（适合新手）**
```
监控 CPU：
├─ Stat面板：显示当前CPU使用率 (85.6%)
└─ Time Series面板：显示CPU使用率趋势图

监控内存：
├─ Stat面板：显示当前内存使用 (6.4GB/8GB)  
└─ Time Series面板：显示内存使用趋势

监控服务器：
└─ Table面板：显示所有服务器的状态列表
```

---

## 4. 🔍 查询编辑器使用


### 4.1 什么是查询编辑器


**查询编辑器**就是告诉面板**"去哪里取数据"**的地方，就像给面板一个地址。

```
类比理解：
查询编辑器 = 外卖地址
面板 = 外卖员
数据源 = 餐厅

你告诉外卖员（面板）去哪个餐厅（数据源）取什么菜（查询语句）
```

### 4.2 查询编辑器的基本界面


```
查询编辑器界面布局：
┌─────────────────────────────────────┐
│ 📋 Query                           │
├─────────────────────────────────────┤
│ Data Source: [Prometheus ▼]        │ ← 选择数据来源
├─────────────────────────────────────┤
│ Metric: cpu_usage                   │ ← 选择要查询的指标
├─────────────────────────────────────┤
│ Legend: {{instance}}                │ ← 图例显示内容
├─────────────────────────────────────┤
│ [Run Query] [🔄]                   │ ← 执行查询按钮
└─────────────────────────────────────┘
```

### 4.3 查询编辑器的基本操作


**🔸 选择数据源**
```
步骤：
1. 点击 "Data Source" 下拉框
2. 选择你的数据源（如 Prometheus）
3. 确保数据源状态正常（绿色图标）

⚠️ 注意：如果没有数据源，需要先配置数据源
```

**🔸 编写查询语句**
```
简单示例：
cpu_usage{instance="web-server-01"}

解释：
- cpu_usage：指标名称（要查询的数据）
- {instance="web-server-01"}：过滤条件（只看这台服务器）

就像问："web-server-01这台机器的CPU使用率是多少？"
```

**🔸 测试查询结果**
```
操作：点击 "Run Query" 按钮
结果：会在下方显示查询到的数据
检查：确保有数据返回，没有错误信息
```

### 4.4 常见查询语句示例


```
📊 实用查询示例：

CPU使用率：
cpu_usage_percent

内存使用率：  
memory_usage_percent

磁盘空间：
disk_free_bytes

网络流量：
network_bytes_total

错误日志数量：
log_errors_total

⭐ 新手提示：
- 先用简单的指标名称
- 逐步添加过滤条件
- 多用 "Run Query" 测试结果
```

---

## 5. 📝 面板标题和描述设置


### 5.1 为什么要设置标题和描述


**标题和描述**就像给面板贴一个**"说明标签"**，让别人（包括未来的自己）知道这个面板是干什么用的。

```
没有标题的面板：
┌─────────────┐
│      ???    │ ← 不知道显示什么
│   📊 85.6%  │
└─────────────┘

有标题的面板：
┌─────────────┐
│ Web服务器CPU │ ← 一眼就明白
│   📊 85.6%  │
└─────────────┘
```

### 5.2 设置面板标题


**🔸 基本设置步骤**
```
1. 点击面板标题（或右键面板）
2. 选择 "Edit"（编辑）
3. 在右侧面板中找到 "Panel options"
4. 在 "Title" 字段输入标题
5. 点击 "Apply" 保存
```

**🔸 好标题的特点**
```
✅ 简洁明了：CPU使用率
✅ 指明范围：Web服务器CPU使用率  
✅ 包含单位：内存使用量(GB)
✅ 说明用途：登录成功率

❌ 避免的标题：
❌ 太长：Web服务器集群中所有机器的CPU使用率监控面板
❌ 太模糊：数据
❌ 无意义：Panel 1
```

### 5.3 设置面板描述


**🔸 描述的作用**
- **详细说明**：解释面板显示的具体内容
- **使用指导**：告诉别人如何理解这个面板
- **注意事项**：提醒重要的监控阈值

**🔸 描述设置方法**
```
在 "Panel options" 中：
1. 找到 "Description" 字段
2. 输入详细描述
3. 可以使用 Markdown 格式
4. 保存后，描述会在面板上显示小图标
```

**🔸 实用描述示例**
```
标题：Web服务器CPU使用率
描述：
显示所有Web服务器的CPU使用率
- 正常范围：0-70%
- 警告范围：70-85%  
- 危险范围：85%以上
- 数据来源：Prometheus node_exporter
- 更新频率：15秒
```

### 5.4 标题和描述的最佳实践


```
🎯 命名规范建议：

服务器监控：
- CPU使用率 - Web集群
- 内存使用量 - 数据库服务器
- 磁盘IO - 存储节点

应用监控：
- 请求响应时间 - API服务
- 错误率 - 用户登录
- 并发用户数 - 在线系统

业务监控：
- 订单成功率 - 电商平台
- 支付成功率 - 支付系统
- 用户活跃度 - 移动应用
```

---

## 6. 📋 复制和移动面板


### 6.1 为什么要复制面板


**复制面板**就像**"复印文件"**一样，把现有的面板配置完全复制一份，然后稍微修改就能用。

```
使用场景：
🔄 监控多台服务器 → 复制CPU面板，改变服务器过滤条件
🔄 监控多个服务 → 复制错误率面板，改变服务名称
🔄 不同时间范围 → 复制面板，设置不同的时间窗口
```

### 6.2 复制面板的方法


**🔸 方法一：面板菜单复制**
```
步骤：
1. 点击面板标题
2. 选择 "More..." → "Duplicate"
3. 新面板会出现在原面板下方
4. 编辑新面板，修改查询条件
```

**🔸 方法二：右键菜单复制**
```
步骤：  
1. 右键点击面板区域
2. 选择 "Duplicate"
3. 立即生成副本
```

**🔸 方法三：键盘快捷键**
```
快捷操作：
1. 点击选中面板
2. 按 Ctrl+C (复制)
3. 按 Ctrl+V (粘贴)
```

### 6.3 移动面板位置


**🔸 拖拽移动（推荐方法）**
```
操作方式：
1. 鼠标悬停在面板标题上
2. 出现拖拽图标 ⋮⋮
3. 按住鼠标左键拖拽
4. 拖到目标位置释放

📍 拖拽技巧：
- 蓝色线条显示可放置位置
- 松开鼠标前可以改变主意
- 其他面板会自动让位
```

**🔸 网格对齐效果**
```
Grafana会自动对齐：
┌─────┬─────┬─────┐
│面板A│面板B│面板C│
├─────┼─────┼─────┤
│面板D│面板E│面板F│
└─────┴─────┴─────┘

不会出现：
┌─────┬──┬────────┐
│面板A│面│  面板C  │ ← 错乱的布局
├─────┤板├────────┤
│面板D│B │ 面板E  │
└─────┴──┴────────┘
```

### 6.4 跨仪表板复制面板


**🔸 复制到剪贴板**
```
步骤：
1. 编辑要复制的面板
2. 点击右上角 "Copy to clipboard"
3. 切换到目标仪表板
4. 添加新面板 → "Paste from clipboard"
```

**🔸 导出导入JSON**
```
高级方法：
1. 面板菜单 → "Inspect" → "Panel JSON"
2. 复制完整JSON配置
3. 在新仪表板中粘贴JSON
4. 适合复杂面板配置的迁移
```

---

## 7. 📐 面板布局调整技巧


### 7.1 理解网格系统


**Grafana使用24列网格系统**，就像把屏幕分成24个等宽的小格子。

```
屏幕宽度分布：
|1|2|3|4|5|6|7|8|9|10|11|12|13|14|15|16|17|18|19|20|21|22|23|24|

常见布局：
全宽面板：占用24列 (100%宽度)
半宽面板：占用12列 (50%宽度)  
三分宽：  占用8列  (33%宽度)
四分宽：  占用6列  (25%宽度)
```

### 7.2 调整面板大小


**🔸 拖拽调整尺寸**
```
操作方法：
1. 将鼠标移到面板右下角
2. 出现调整大小图标 ↘
3. 拖拽改变面板尺寸
4. 释放鼠标确定大小

调整规则：
📏 宽度：必须是网格的倍数
📏 高度：可以自由调整  
📏 最小：不能小于2×2网格
```

**🔸 精确设置尺寸**
```
编辑面板时设置：
Panel options → 
- Width: 12 (占一半宽度)
- Height: 300px (高度300像素)

常用尺寸参考：
- 小面板：6列 × 200px
- 中面板：12列 × 300px  
- 大面板：24列 × 400px
```

### 7.3 布局设计原则


**🔸 重要性原则**
```
布局优先级：
🔝 最重要 → 左上角，大尺寸
📊 重要   → 上半部分，中等尺寸
📋 一般   → 下半部分，小尺寸
📁 详细   → 最底部，表格形式

实际应用：
┌─────────────┬─────────────┐
│  系统状态   │  CPU使用率   │ ← 最关键信息
├─────────────┼─────────────┤
│  内存使用   │  磁盘使用   │ ← 重要监控
├─────────────┴─────────────┤
│        详细服务器列表      │ ← 详细信息
└─────────────────────────────┘
```

**🔸 关联性原则**
```
相关数据放在一起：
CPU + 内存 + 磁盘 → 系统资源区域
请求数 + 响应时间 + 错误率 → 应用性能区域
登录 + 注册 + 活跃用户 → 用户行为区域
```

**🔸 响应式设计**
```
移动设备适配：
- 重要面板放在顶部
- 避免过于复杂的布局
- 文字大小要适中
- 颜色对比要明显

桌面显示优化：
- 充分利用屏幕宽度
- 合理安排面板密度
- 考虑多显示器环境
```

### 7.4 布局模板推荐


**🏆 经典服务器监控布局**
```
第一行：概览面板（占满宽度）
┌─────────────────────────────────────┐
│           系统健康状态概览           │
└─────────────────────────────────────┘

第二行：核心指标（四等分）
┌─────────┬─────────┬─────────┬─────────┐
│ CPU使用 │ 内存使用 │ 磁盘使用 │ 网络IO  │
└─────────┴─────────┴─────────┴─────────┘

第三行：趋势图表（二等分）
┌─────────────────┬─────────────────┐
│   CPU使用趋势    │   内存使用趋势   │
└─────────────────┴─────────────────┘

第四行：详细列表（占满宽度）
┌─────────────────────────────────────┐
│           服务器详细状态列表         │
└─────────────────────────────────────┘
```

---

## 8. 📋 核心要点总结


### 8.1 必须掌握的基本概念


```
🔸 面板本质：仪表板上展示特定数据的"小窗口"
🔸 添加方法：+ Add panel 按钮，选择合适的面板类型
🔸 查询编辑器：告诉面板从哪里取什么数据的地方
🔸 标题描述：让别人理解面板用途的标识信息
🔸 复制移动：快速创建相似面板和调整布局的方法
🔸 布局调整：通过拖拽改变面板位置和大小
```

### 8.2 关键理解要点


**🔹 面板类型选择思路**
```
时间趋势 → Time Series 线图
当前数值 → Stat 数字面板  
详细列表 → Table 表格
数据对比 → Bar Chart 柱状图
比例分布 → Pie Chart 饼图
```

**🔹 查询编辑器使用技巧**
```
新手策略：
1. 先选好数据源
2. 用简单的指标名
3. 多用 "Run Query" 测试
4. 逐步添加过滤条件
5. 遇到问题及时求助
```

**🔹 布局设计原则**
```
重要信息 → 左上角、大尺寸
相关数据 → 放在一起
响应式 → 考虑移动设备查看
整洁性 → 避免过于拥挤
```

### 8.3 实际应用指导


**🎯 新手建议的操作顺序**
1. **先从复制开始** - 找相似的面板复制修改
2. **逐步学习查询** - 从简单指标到复杂查询
3. **重视标题描述** - 让团队成员都能理解
4. **规划好布局** - 重要数据放在显眼位置
5. **经常保存** - 避免配置丢失

**🔧 常见问题解决**
```
❓ 面板没有数据？
→ 检查数据源连接状态
→ 确认查询语句正确性
→ 验证时间范围设置

❓ 面板显示错乱？
→ 调整面板大小
→ 检查网格对齐
→ 考虑屏幕分辨率

❓ 查询太慢？
→ 缩短时间范围
→ 优化查询条件
→ 考虑数据源性能
```

**💡 进阶学习建议**
- **多看示例** - 观察别人的仪表板设计
- **动手实践** - 创建自己的监控面板
- **团队协作** - 和同事分享经验
- **持续优化** - 根据使用反馈调整

**核心记忆**：
- 面板是数据展示的基本单位，选对类型很重要
- 查询编辑器是面板的"大脑"，告诉它取什么数据
- 好的标题描述让面板更容易理解和维护
- 合理的布局让监控信息更直观有效