---
title: 2ã€å¤‡ä»½-æ¢å¤
---
## ğŸ“š ç›®å½•

1. [å¤‡ä»½æ¢å¤åŸºç¡€æ¦‚å¿µ](#1-å¤‡ä»½æ¢å¤åŸºç¡€æ¦‚å¿µ)
2. [ä»ªè¡¨æ¿å¤‡ä»½ç®¡ç†](#2-ä»ªè¡¨æ¿å¤‡ä»½ç®¡ç†)
3. [æ•°æ®åº“å¤‡ä»½ç­–ç•¥](#3-æ•°æ®åº“å¤‡ä»½ç­–ç•¥)
4. [é…ç½®æ–‡ä»¶è¿ç§»](#4-é…ç½®æ–‡ä»¶è¿ç§»)
5. [ç‰ˆæœ¬ç®¡ç†æœ€ä½³å®è·µ](#5-ç‰ˆæœ¬ç®¡ç†æœ€ä½³å®è·µ)
6. [ç¾éš¾æ¢å¤æ–¹æ¡ˆ](#6-ç¾éš¾æ¢å¤æ–¹æ¡ˆ)
7. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#7-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ¯ å¤‡ä»½æ¢å¤åŸºç¡€æ¦‚å¿µ


### 1.1 ä»€ä¹ˆæ˜¯Grafanaå¤‡ä»½æ¢å¤


ğŸ’­ **ç®€å•ç†è§£**ï¼šå°±åƒç»™æ‰‹æœºåšå¤‡ä»½ä¸€æ ·ï¼ŒGrafanaå¤‡ä»½å°±æ˜¯æŠŠé‡è¦çš„é…ç½®ã€æ•°æ®ä¿å­˜èµ·æ¥ï¼Œä¸‡ä¸€å‡ºé—®é¢˜äº†èƒ½å¿«é€Ÿæ¢å¤ã€‚

**ğŸ·ï¸ æ ¸å¿ƒæ¦‚å¿µè§£é‡Š**ï¼š
- **`å¤‡ä»½(Backup)`** = æŠŠé‡è¦æ•°æ®å¤åˆ¶ä¿å­˜åˆ°å®‰å…¨åœ°æ–¹
- **`æ¢å¤(Recovery)`** = ä»å¤‡ä»½ä¸­æŠŠæ•°æ®è¿˜åŸå›æ¥
- **`è¿ç§»(Migration)`** = æŠŠé…ç½®ä»ä¸€ä¸ªç¯å¢ƒæ¬åˆ°å¦ä¸€ä¸ªç¯å¢ƒ

### 1.2 ä¸ºä»€ä¹ˆéœ€è¦å¤‡ä»½æ¢å¤


ğŸ¤” **æƒ³è±¡è¿™äº›åœºæ™¯**ï¼š
```
æƒ…å†µ1ï¼šæœåŠ¡å™¨ç¡¬ç›˜åäº†
ç»“æœï¼šæ‰€æœ‰ä»ªè¡¨æ¿ã€æ•°æ®æºé…ç½®å…¨ä¸¢å¤±

æƒ…å†µ2ï¼šè¯¯åˆ äº†é‡è¦ä»ªè¡¨æ¿
ç»“æœï¼šèŠ±è´¹å‡ å¤©æ—¶é—´é‡æ–°åˆ›å»º

æƒ…å†µ3ï¼šç³»ç»Ÿå‡çº§å¤±è´¥
ç»“æœï¼šæ•´ä¸ªGrafanaæ— æ³•å¯åŠ¨

æƒ…å†µ4ï¼šéœ€è¦æ­å»ºæµ‹è¯•ç¯å¢ƒ
ç»“æœï¼šæ‰‹åŠ¨é‡æ–°é…ç½®æ‰€æœ‰è®¾ç½®
```

âœ… **å¤‡ä»½çš„å¥½å¤„**ï¼š
- **æ•°æ®å®‰å…¨**ï¼šé˜²æ­¢æ„å¤–ä¸¢å¤±
- **å¿«é€Ÿæ¢å¤**ï¼šå‡ åˆ†é’Ÿæ¢å¤vså‡ å¤©é‡å»º
- **ç¯å¢ƒå¤åˆ¶**ï¼šè½»æ¾æ­å»ºæµ‹è¯•ç¯å¢ƒ
- **ç‰ˆæœ¬ç®¡ç†**ï¼šå¯ä»¥å›é€€åˆ°å†å²ç‰ˆæœ¬

### 1.3 Grafanaéœ€è¦å¤‡ä»½ä»€ä¹ˆ


ğŸ“‹ **å¤‡ä»½å†…å®¹æ¸…å•**ï¼š
```
å¿…å¤‡å¤‡ä»½å†…å®¹ï¼š
â”œâ”€â”€ ä»ªè¡¨æ¿é…ç½® (Dashboard JSON)
â”œâ”€â”€ æ•°æ®æºé…ç½® (Datasource Config)  
â”œâ”€â”€ ç”¨æˆ·æƒé™è®¾ç½® (Users & Teams)
â”œâ”€â”€ æŠ¥è­¦è§„åˆ™é…ç½® (Alert Rules)
â””â”€â”€ ç³»ç»Ÿé…ç½®æ–‡ä»¶ (grafana.ini)

å¯é€‰å¤‡ä»½å†…å®¹ï¼š
â”œâ”€â”€ å†å²æ•°æ® (å¦‚æœä½¿ç”¨å†…ç½®æ•°æ®åº“)
â”œâ”€â”€ æ’ä»¶é…ç½® (Plugins)
â”œâ”€â”€ ä¸»é¢˜è‡ªå®šä¹‰ (Custom Themes)
â””â”€â”€ SSLè¯ä¹¦æ–‡ä»¶ (Certificates)
```

---

## 2. ğŸ“Š ä»ªè¡¨æ¿å¤‡ä»½ç®¡ç†


### 2.1 æ‰‹åŠ¨å¯¼å‡ºä»ªè¡¨æ¿


ğŸ’¡ **æœ€ç®€å•çš„æ–¹æ³•**ï¼šé€šè¿‡Webç•Œé¢å¯¼å‡º

**ğŸ”¢ æ“ä½œæ­¥éª¤**ï¼š
```
æ­¥éª¤1ï¼šæ‰“å¼€è¦å¤‡ä»½çš„ä»ªè¡¨æ¿
æ­¥éª¤2ï¼šç‚¹å‡»å³ä¸Šè§’é½¿è½®å›¾æ ‡(Settings)
æ­¥éª¤3ï¼šé€‰æ‹©"JSON Model"é€‰é¡¹å¡
æ­¥éª¤4ï¼šç‚¹å‡»"Copy to Clipboard"å¤åˆ¶JSON
æ­¥éª¤5ï¼šä¿å­˜åˆ°.jsonæ–‡ä»¶ä¸­
```

ğŸŒ° **ä¸¾ä¸ªä¾‹å­**ï¼š
```json
{
  "dashboard": {
    "id": 1,
    "title": "ç³»ç»Ÿç›‘æ§é¢æ¿",
    "tags": ["system", "monitoring"],
    "timezone": "browser",
    "panels": [...]
  },
  "meta": {
    "type": "db",
    "canSave": true,
    "canEdit": true
  }
}
```

**ğŸ“ æ–‡ä»¶å‘½åå»ºè®®**ï¼š
```
å‘½åæ ¼å¼ï¼šä»ªè¡¨æ¿åç§°_æ—¥æœŸ_ç‰ˆæœ¬.json
ç¤ºä¾‹ï¼š
- ç³»ç»Ÿç›‘æ§_20241201_v1.0.json
- åº”ç”¨æ€§èƒ½_20241201_v2.1.json
- ä¸šåŠ¡æŒ‡æ ‡_20241201_latest.json
```

### 2.2 æ‰¹é‡å¯¼å‡ºä»ªè¡¨æ¿


ğŸ› ï¸ **ä½¿ç”¨Grafana APIæ‰¹é‡å¯¼å‡º**ï¼š

```bash
#!/bin/bash
# æ‰¹é‡å¯¼å‡ºæ‰€æœ‰ä»ªè¡¨æ¿è„šæœ¬

GRAFANA_URL="http://localhost:3000"
API_KEY="your-api-key"
BACKUP_DIR="./dashboard-backup"

# åˆ›å»ºå¤‡ä»½ç›®å½•
mkdir -p $BACKUP_DIR

# è·å–æ‰€æœ‰ä»ªè¡¨æ¿åˆ—è¡¨
curl -H "Authorization: Bearer $API_KEY" \
     "$GRAFANA_URL/api/search?type=dash-db" | \
     jq -r '.[] | "\(.uid),\(.title)"' > dashboard-list.txt

# é€ä¸ªå¯¼å‡ºä»ªè¡¨æ¿
while IFS=',' read -r uid title; do
    echo "å¯¼å‡ºä»ªè¡¨æ¿: $title"
    curl -H "Authorization: Bearer $API_KEY" \
         "$GRAFANA_URL/api/dashboards/uid/$uid" | \
         jq '.dashboard' > "$BACKUP_DIR/${title// /_}.json"
done < dashboard-list.txt

echo "æ‰€æœ‰ä»ªè¡¨æ¿å¯¼å‡ºå®Œæˆåˆ° $BACKUP_DIR"
```

ğŸ’­ **è„šæœ¬å·¥ä½œåŸç†**ï¼š
1. **è·å–åˆ—è¡¨**ï¼šå…ˆæŸ¥è¯¢æ‰€æœ‰ä»ªè¡¨æ¿çš„åŸºæœ¬ä¿¡æ¯
2. **é€ä¸ªå¯¼å‡º**ï¼šæ ¹æ®UIDè·å–å®Œæ•´çš„ä»ªè¡¨æ¿é…ç½®
3. **ä¿å­˜æ–‡ä»¶**ï¼šä»¥ä»ªè¡¨æ¿åç§°å‘½åJSONæ–‡ä»¶

### 2.3 å¯¼å…¥ä»ªè¡¨æ¿


**ğŸ”„ é€šè¿‡ç•Œé¢å¯¼å…¥**ï¼š
```
æ–¹æ³•1ï¼šJSONæ–‡æœ¬å¯¼å…¥
æ­¥éª¤ï¼šDashboard â†’ Import â†’ ç²˜è´´JSON â†’ Import

æ–¹æ³•2ï¼šæ–‡ä»¶ä¸Šä¼ å¯¼å…¥  
æ­¥éª¤ï¼šDashboard â†’ Import â†’ Upload JSON file â†’ Import

æ–¹æ³•3ï¼šé€šè¿‡URLå¯¼å…¥
æ­¥éª¤ï¼šDashboard â†’ Import â†’ è¾“å…¥JSON URL â†’ Load
```

**âš ï¸ å¯¼å…¥æ³¨æ„äº‹é¡¹**ï¼š
- **UIDå†²çª**ï¼šå¦‚æœå·²å­˜åœ¨ç›¸åŒUIDçš„ä»ªè¡¨æ¿ï¼Œéœ€è¦ä¿®æ”¹æˆ–é€‰æ‹©è¦†ç›–
- **æ•°æ®æºæ˜ å°„**ï¼šç¡®ä¿ç›®æ ‡ç¯å¢ƒæœ‰å¯¹åº”çš„æ•°æ®æº
- **æƒé™æ£€æŸ¥**ï¼šç¡®è®¤æœ‰è¶³å¤Ÿæƒé™å¯¼å…¥ä»ªè¡¨æ¿

---

## 3. ğŸ—„ï¸ æ•°æ®åº“å¤‡ä»½ç­–ç•¥


### 3.1 Grafanaæ•°æ®åº“ç±»å‹


ğŸ“‹ **æ”¯æŒçš„æ•°æ®åº“ç±»å‹**ï¼š

| æ•°æ®åº“ç±»å‹ | **é€‚ç”¨åœºæ™¯** | **å¤‡ä»½æ–¹å¼** | **æ¢å¤éš¾åº¦** |
|-----------|-------------|-------------|-------------|
| **SQLite** | `å°å‹éƒ¨ç½²ã€æµ‹è¯•ç¯å¢ƒ` | `æ–‡ä»¶å¤åˆ¶` | `â˜…â˜†â˜†â˜†â˜†` |
| **MySQL** | `ä¸­å‹ç”Ÿäº§ç¯å¢ƒ` | `mysqldump` | `â˜…â˜…â˜†â˜†â˜†` |
| **PostgreSQL** | `å¤§å‹ç”Ÿäº§ç¯å¢ƒ` | `pg_dump` | `â˜…â˜…â˜†â˜†â˜†` |

### 3.2 SQLiteæ•°æ®åº“å¤‡ä»½


ğŸ’¡ **æœ€ç®€å•çš„æƒ…å†µ**ï¼šGrafanaé»˜è®¤ä½¿ç”¨SQLite

ğŸ” **æ‰¾åˆ°æ•°æ®åº“æ–‡ä»¶**ï¼š
```bash
# é»˜è®¤ä½ç½®
/var/lib/grafana/grafana.db

# æŸ¥çœ‹é…ç½®ç¡®è®¤ä½ç½®
grep -A 5 "\[database\]" /etc/grafana/grafana.ini
```

ğŸ“¦ **å¤‡ä»½æ–¹æ³•**ï¼š
```bash
# æ–¹æ³•1ï¼šç›´æ¥å¤åˆ¶æ–‡ä»¶(åœæ­¢æœåŠ¡çŠ¶æ€ä¸‹)
sudo systemctl stop grafana-server
sudo cp /var/lib/grafana/grafana.db /backup/grafana.db.$(date +%Y%m%d)
sudo systemctl start grafana-server

# æ–¹æ³•2ï¼šåœ¨çº¿å¤‡ä»½(æœåŠ¡è¿è¡Œä¸­)
sqlite3 /var/lib/grafana/grafana.db ".backup /backup/grafana-$(date +%Y%m%d).db"
```

### 3.3 MySQLæ•°æ®åº“å¤‡ä»½


ğŸ› ï¸ **ç”Ÿäº§ç¯å¢ƒå¸¸ç”¨æ–¹å¼**ï¼š

```bash
# å®Œæ•´å¤‡ä»½å‘½ä»¤
mysqldump -h localhost -u grafana -p \
          --single-transaction \
          --routines \
          --triggers \
          grafana > grafana-backup-$(date +%Y%m%d).sql

# æ¢å¤å‘½ä»¤
mysql -h localhost -u grafana -p grafana < grafana-backup-20241201.sql
```

ğŸ”„ **è‡ªåŠ¨åŒ–å¤‡ä»½è„šæœ¬**ï¼š
```bash
#!/bin/bash
# MySQLè‡ªåŠ¨å¤‡ä»½è„šæœ¬

DB_HOST="localhost"
DB_USER="grafana"
DB_PASS="your-password"  
DB_NAME="grafana"
BACKUP_DIR="/backup/grafana"
RETENTION_DAYS=30

# åˆ›å»ºå¤‡ä»½ç›®å½•
mkdir -p $BACKUP_DIR

# æ‰§è¡Œå¤‡ä»½
BACKUP_FILE="$BACKUP_DIR/grafana-$(date +%Y%m%d_%H%M%S).sql"
mysqldump -h $DB_HOST -u $DB_USER -p$DB_PASS \
          --single-transaction $DB_NAME > $BACKUP_FILE

# å‹ç¼©å¤‡ä»½æ–‡ä»¶
gzip $BACKUP_FILE

# æ¸…ç†è¿‡æœŸå¤‡ä»½
find $BACKUP_DIR -name "*.sql.gz" -mtime +$RETENTION_DAYS -delete

echo "å¤‡ä»½å®Œæˆ: ${BACKUP_FILE}.gz"
```

### 3.4 PostgreSQLæ•°æ®åº“å¤‡ä»½


ğŸ˜ **ä¼ä¸šçº§æ•°æ®åº“å¤‡ä»½**ï¼š

```bash
# å¤‡ä»½å‘½ä»¤
pg_dump -h localhost -U grafana -W grafana > grafana-backup-$(date +%Y%m%d).sql

# æ¢å¤å‘½ä»¤
psql -h localhost -U grafana -d grafana < grafana-backup-20241201.sql
```

---

## 4. âš™ï¸ é…ç½®æ–‡ä»¶è¿ç§»


### 4.1 é‡è¦é…ç½®æ–‡ä»¶æ¸…å•


ğŸ“ **éœ€è¦å¤‡ä»½çš„é…ç½®æ–‡ä»¶**ï¼š
```
ä¸»é…ç½®æ–‡ä»¶ï¼š
â”œâ”€â”€ /etc/grafana/grafana.ini (ä¸»é…ç½®)
â”œâ”€â”€ /etc/grafana/ldap.toml (LDAPé…ç½®)
â””â”€â”€ /etc/grafana/provisioning/ (è‡ªåŠ¨é…ç½®ç›®å½•)

æ•°æ®ç›®å½•ï¼š
â”œâ”€â”€ /var/lib/grafana/grafana.db (æ•°æ®åº“æ–‡ä»¶)
â”œâ”€â”€ /var/lib/grafana/plugins/ (æ’ä»¶ç›®å½•)
â””â”€â”€ /var/lib/grafana/png/ (å›¾ç‰‡ç¼“å­˜)

æ—¥å¿—æ–‡ä»¶ï¼š
â””â”€â”€ /var/log/grafana/ (æ—¥å¿—ç›®å½•)
```

### 4.2 é…ç½®æ–‡ä»¶å¤‡ä»½


ğŸ”§ **å®Œæ•´å¤‡ä»½è„šæœ¬**ï¼š
```bash
#!/bin/bash
# Grafanaå®Œæ•´é…ç½®å¤‡ä»½

BACKUP_ROOT="/backup/grafana"
DATE=$(date +%Y%m%d_%H%M%S)
BACKUP_DIR="$BACKUP_ROOT/grafana-config-$DATE"

echo "å¼€å§‹Grafanaé…ç½®å¤‡ä»½..."

# åˆ›å»ºå¤‡ä»½ç›®å½•
mkdir -p $BACKUP_DIR

# åœæ­¢GrafanaæœåŠ¡
systemctl stop grafana-server

# å¤‡ä»½é…ç½®æ–‡ä»¶
echo "å¤‡ä»½é…ç½®æ–‡ä»¶..."
cp -r /etc/grafana $BACKUP_DIR/

# å¤‡ä»½æ•°æ®ç›®å½•
echo "å¤‡ä»½æ•°æ®ç›®å½•..."
cp -r /var/lib/grafana $BACKUP_DIR/

# å¤‡ä»½æ—¥å¿—(å¯é€‰)
echo "å¤‡ä»½æ—¥å¿—æ–‡ä»¶..."
cp -r /var/log/grafana $BACKUP_DIR/

# å¯åŠ¨GrafanaæœåŠ¡
systemctl start grafana-server

# åˆ›å»ºå¤‡ä»½è¯´æ˜æ–‡ä»¶
cat > $BACKUP_DIR/README.txt << EOF
Grafanaå¤‡ä»½ä¿¡æ¯
å¤‡ä»½æ—¶é—´: $(date)
å¤‡ä»½å†…å®¹: 
- é…ç½®æ–‡ä»¶ (/etc/grafana)
- æ•°æ®ç›®å½• (/var/lib/grafana)  
- æ—¥å¿—æ–‡ä»¶ (/var/log/grafana)

æ¢å¤æ–¹æ³•:
1. åœæ­¢grafanaæœåŠ¡
2. æ›¿æ¢å¯¹åº”ç›®å½•
3. å¯åŠ¨grafanaæœåŠ¡
EOF

# æ‰“åŒ…å‹ç¼©
echo "å‹ç¼©å¤‡ä»½æ–‡ä»¶..."
cd $BACKUP_ROOT
tar -czf "grafana-config-$DATE.tar.gz" "grafana-config-$DATE"
rm -rf "grafana-config-$DATE"

echo "å¤‡ä»½å®Œæˆ: $BACKUP_ROOT/grafana-config-$DATE.tar.gz"
```

### 4.3 ç¯å¢ƒè¿ç§»æ­¥éª¤


ğŸš€ **ä»æµ‹è¯•ç¯å¢ƒè¿ç§»åˆ°ç”Ÿäº§ç¯å¢ƒ**ï¼š

```
è¿ç§»å‡†å¤‡æ¸…å•ï¼š
â–¡ ç¡®è®¤ç›®æ ‡ç¯å¢ƒGrafanaç‰ˆæœ¬å…¼å®¹
â–¡ æ£€æŸ¥æ•°æ®æºè¿æ¥é…ç½®
â–¡ éªŒè¯æ’ä»¶ä¾èµ–å…³ç³»  
â–¡ å¤‡ä»½ç›®æ ‡ç¯å¢ƒç°æœ‰é…ç½®

è¿ç§»æ‰§è¡Œæ­¥éª¤ï¼š
1ï¸âƒ£ å¯¼å‡ºæºç¯å¢ƒä»ªè¡¨æ¿å’Œæ•°æ®æº
2ï¸âƒ£ ä¿®æ”¹æ•°æ®æºè¿æ¥å‚æ•°
3ï¸âƒ£ åœ¨ç›®æ ‡ç¯å¢ƒå¯¼å…¥é…ç½®
4ï¸âƒ£ éªŒè¯åŠŸèƒ½æ­£å¸¸æ€§
5ï¸âƒ£ æ›´æ–°æƒé™å’Œç”¨æˆ·é…ç½®
```

---

## 5. ğŸ“‚ ç‰ˆæœ¬ç®¡ç†æœ€ä½³å®è·µ


### 5.1 Gitç‰ˆæœ¬æ§åˆ¶


ğŸ¯ **ç”¨Gitç®¡ç†Grafanaé…ç½®**å°±åƒç®¡ç†ä»£ç ä¸€æ ·ï¼š

```bash
# åˆå§‹åŒ–Gitä»“åº“
mkdir grafana-configs
cd grafana-configs
git init

# åˆ›å»ºç›®å½•ç»“æ„
mkdir -p {dashboards,datasources,alerts,provisioning}

# å¯¼å‡ºé…ç½®åˆ°Gitä»“åº“
./export-dashboards.sh > dashboards/
./export-datasources.sh > datasources/
cp /etc/grafana/provisioning/* provisioning/

# æäº¤ç‰ˆæœ¬
git add .
git commit -m "åˆå§‹ç‰ˆæœ¬ï¼šåŒ…å«æ‰€æœ‰ä»ªè¡¨æ¿å’Œæ•°æ®æºé…ç½®"
git tag v1.0
```

### 5.2 ç‰ˆæœ¬å‘½åè§„èŒƒ


ğŸ“ **ç‰ˆæœ¬æ ‡ç­¾å»ºè®®**ï¼š
```
å‘½åæ ¼å¼ï¼šv{ä¸»ç‰ˆæœ¬}.{æ¬¡ç‰ˆæœ¬}.{ä¿®è®¢ç‰ˆæœ¬}

ç¤ºä¾‹ï¼š
v1.0.0 - åˆå§‹ç¨³å®šç‰ˆæœ¬
v1.1.0 - æ–°å¢åŠŸèƒ½ç‰ˆæœ¬  
v1.1.1 - é—®é¢˜ä¿®å¤ç‰ˆæœ¬
v2.0.0 - é‡å¤§æ›´æ–°ç‰ˆæœ¬

ç‰¹æ®Šæ ‡ç­¾ï¼š
latest - æœ€æ–°ç¨³å®šç‰ˆ
dev - å¼€å‘ç‰ˆæœ¬
prod - ç”Ÿäº§ç¯å¢ƒç‰ˆæœ¬
```

### 5.3 é…ç½®å³ä»£ç (Configuration as Code)


ğŸ’¡ **é€šè¿‡ä»£ç ç®¡ç†é…ç½®**ï¼š

```yaml
# datasources.yml - æ•°æ®æºé…ç½®
apiVersion: 1
datasources:
  - name: Prometheus
    type: prometheus
    url: http://prometheus:9090
    access: proxy
    isDefault: true
    
  - name: Loki
    type: loki  
    url: http://loki:3100
    access: proxy
```

```yaml
# dashboards.yml - ä»ªè¡¨æ¿é…ç½®
apiVersion: 1
providers:
  - name: 'default'
    orgId: 1
    folder: ''
    type: file
    options:
      path: /var/lib/grafana/dashboards
```

---

## 6. ğŸ†˜ ç¾éš¾æ¢å¤æ–¹æ¡ˆ


### 6.1 æ¢å¤ç­‰çº§åˆ†ç±»


â­ **æŒ‰ç´§æ€¥ç¨‹åº¦åˆ†ç±»**ï¼š

| æ¢å¤ç­‰çº§ | **æ¢å¤æ—¶é—´ç›®æ ‡** | **é€‚ç”¨åœºæ™¯** | **æ¢å¤æ–¹å¼** |
|---------|----------------|-------------|-------------|
| **ğŸ”´ ç´§æ€¥** | `< 5åˆ†é’Ÿ` | `ç”Ÿäº§ç¯å¢ƒå®Œå…¨å®•æœº` | `çƒ­å¤‡ä»½åˆ‡æ¢` |
| **ğŸŸ¡ é‡è¦** | `< 30åˆ†é’Ÿ` | `éƒ¨åˆ†åŠŸèƒ½å¼‚å¸¸` | `å¿«é€Ÿæ¢å¤` |
| **ğŸŸ¢ ä¸€èˆ¬** | `< 2å°æ—¶` | `è®¡åˆ’ç»´æŠ¤` | `å®Œæ•´æ¢å¤` |

### 6.2 å¿«é€Ÿæ¢å¤æµç¨‹


ğŸš¨ **ç´§æ€¥æƒ…å†µæ¢å¤æ­¥éª¤**ï¼š
```
ç«‹å³å“åº”(5åˆ†é’Ÿå†…)ï¼š
1ï¸âƒ£ ç¡®è®¤é—®é¢˜å½±å“èŒƒå›´
2ï¸âƒ£ å¯åŠ¨å¤‡ç”¨ç›‘æ§ç³»ç»Ÿ
3ï¸âƒ£ é€šçŸ¥ç›¸å…³äººå‘˜

å¿«é€Ÿæ¢å¤(30åˆ†é’Ÿå†…)ï¼š  
1ï¸âƒ£ åœæ­¢å¼‚å¸¸æœåŠ¡
2ï¸âƒ£ æ¢å¤æœ€æ–°æ•°æ®åº“å¤‡ä»½
3ï¸âƒ£ å¯¼å…¥æ ¸å¿ƒä»ªè¡¨æ¿
4ï¸âƒ£ éªŒè¯åŸºç¡€åŠŸèƒ½

å®Œæ•´æ¢å¤(2å°æ—¶å†…)ï¼š
1ï¸âƒ£ æ¢å¤æ‰€æœ‰é…ç½®æ–‡ä»¶
2ï¸âƒ£ é‡æ–°é…ç½®æ•°æ®æº
3ï¸âƒ£ å¯¼å…¥æ‰€æœ‰ä»ªè¡¨æ¿
4ï¸âƒ£ æ¢å¤ç”¨æˆ·æƒé™
5ï¸âƒ£ å…¨é¢åŠŸèƒ½æµ‹è¯•
```

### 6.3 å®¹ç¾æ¶æ„è®¾è®¡


ğŸ—ï¸ **é«˜å¯ç”¨æ¶æ„æ–¹æ¡ˆ**ï¼š
```
ä¸»å¤‡æ¶æ„ï¼š
Primary Grafana â†â†’ Backup Grafana
      â†“                â†“
Shared Database  â†â†’  Database Replica

è´Ÿè½½å‡è¡¡æ¶æ„ï¼š
Load Balancer
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Grafana-1â”‚Grafana-2â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“
  Shared Database
```

### 6.4 æ¢å¤æµ‹è¯•è®¡åˆ’


ğŸ”¬ **å®šæœŸæ¢å¤æ¼”ç»ƒ**ï¼š
```
æœˆåº¦æµ‹è¯•æ¸…å•ï¼š
â–¡ æµ‹è¯•æ•°æ®åº“å¤‡ä»½æ¢å¤
â–¡ éªŒè¯ä»ªè¡¨æ¿å¯¼å…¥å¯¼å‡º
â–¡ æ£€æŸ¥é…ç½®æ–‡ä»¶å®Œæ•´æ€§
â–¡ ç¡®è®¤ç›‘æ§å‘Šè­¦æ­£å¸¸

å­£åº¦æ¼”ç»ƒå†…å®¹ï¼š
â–¡ å®Œæ•´ç¾éš¾æ¢å¤æµç¨‹
â–¡ è·¨ç¯å¢ƒè¿ç§»æµ‹è¯•  
â–¡ æ€§èƒ½åŸºå‡†æµ‹è¯•
â–¡ æ–‡æ¡£æµç¨‹æ›´æ–°
```

---

## 7. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 7.1 å¤‡ä»½æ¢å¤æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ¯ å¿…é¡»æŒæ¡çš„åŸºæœ¬æ¦‚å¿µï¼š
â€¢ å¤‡ä»½ï¼šæŠŠé‡è¦é…ç½®å’Œæ•°æ®å®‰å…¨ä¿å­˜
â€¢ æ¢å¤ï¼šä»å¤‡ä»½ä¸­è¿˜åŸæ•°æ®å’Œé…ç½®
â€¢ è¿ç§»ï¼šåœ¨ä¸åŒç¯å¢ƒé—´è½¬ç§»é…ç½®
â€¢ ç‰ˆæœ¬ç®¡ç†ï¼šè·Ÿè¸ªé…ç½®å˜æ›´å†å²
â€¢ ç¾éš¾æ¢å¤ï¼šåº”å¯¹ä¸¥é‡æ•…éšœçš„é¢„æ¡ˆ
```

### 7.2 å®é™…æ“ä½œè¦ç‚¹


ğŸ”‘ **å…³é”®æ“ä½œæ€»ç»“**ï¼š
```
ä»ªè¡¨æ¿ç®¡ç†ï¼š
âœ… æ‰‹åŠ¨å¯¼å‡ºï¼šSettings â†’ JSON Model â†’ Copy
âœ… æ‰¹é‡å¯¼å‡ºï¼šä½¿ç”¨APIè„šæœ¬è‡ªåŠ¨åŒ–
âœ… ç‰ˆæœ¬æ§åˆ¶ï¼šç”¨Gitç®¡ç†é…ç½®å˜æ›´

æ•°æ®åº“å¤‡ä»½ï¼š
âœ… SQLiteï¼šæ–‡ä»¶å¤åˆ¶æˆ–sqlite3å‘½ä»¤
âœ… MySQLï¼šmysqldump + å®šæ—¶ä»»åŠ¡  
âœ… PostgreSQLï¼špg_dump + è‡ªåŠ¨åŒ–è„šæœ¬

é…ç½®è¿ç§»ï¼š
âœ… é…ç½®æ–‡ä»¶ï¼š/etc/grafana/å®Œæ•´å¤‡ä»½
âœ… æ•°æ®ç›®å½•ï¼š/var/lib/grafana/å®Œæ•´å¤‡ä»½
âœ… ç¯å¢ƒé€‚é…ï¼šä¿®æ”¹è¿æ¥å‚æ•°å’Œæƒé™
```

### 7.3 æœ€ä½³å®è·µå»ºè®®


ğŸ’¡ **ç”Ÿäº§ç¯å¢ƒå»ºè®®**ï¼š
```
å¤‡ä»½ç­–ç•¥ï¼š
â€¢ æ¯æ—¥è‡ªåŠ¨å¤‡ä»½æ•°æ®åº“
â€¢ æ¯æ¬¡å˜æ›´åå¤‡ä»½ä»ªè¡¨æ¿
â€¢ æ¯å‘¨å®Œæ•´é…ç½®å¤‡ä»½
â€¢ æ¯æœˆå¼‚åœ°å¤‡ä»½å­˜å‚¨

ç‰ˆæœ¬ç®¡ç†ï¼š
â€¢ ä½¿ç”¨Gitè·Ÿè¸ªé…ç½®å˜æ›´
â€¢ é‡è¦å˜æ›´æ‰“tagæ ‡è®°  
â€¢ ä¿ç•™è‡³å°‘3ä¸ªæœˆå†å²ç‰ˆæœ¬
â€¢ æ–‡æ¡£åŒ–å˜æ›´è¯´æ˜

æ¢å¤å‡†å¤‡ï¼š
â€¢ å®šæœŸæµ‹è¯•æ¢å¤æµç¨‹
â€¢ ç»´æŠ¤æ¢å¤æ“ä½œæ‰‹å†Œ
â€¢ å»ºç«‹å€¼ç­å“åº”æœºåˆ¶
â€¢ å‡†å¤‡åº”æ€¥è”ç³»æ–¹å¼
```

### 7.4 å¸¸è§é—®é¢˜ä¸è§£å†³


âŒ **é¿å…è¿™äº›å¸¸è§é”™è¯¯**ï¼š
```
å¤‡ä»½ä¸å®Œæ•´ï¼š
é—®é¢˜ï¼šåªå¤‡ä»½ä»ªè¡¨æ¿ï¼Œå¿½ç•¥æ•°æ®æºé…ç½®
è§£å†³ï¼šå»ºç«‹å®Œæ•´å¤‡ä»½æ¸…å•

æ¢å¤æµ‹è¯•ä¸è¶³ï¼š
é—®é¢˜ï¼šå¤‡ä»½æ–‡ä»¶æŸåæ—¶æ‰å‘ç°
è§£å†³ï¼šå®šæœŸéªŒè¯å¤‡ä»½æ–‡ä»¶æœ‰æ•ˆæ€§

æƒé™é…ç½®ä¸¢å¤±ï¼š
é—®é¢˜ï¼šæ¢å¤åç”¨æˆ·æ— æ³•è®¿é—®
è§£å†³ï¼šå¤‡ä»½ç”¨æˆ·å’Œæƒé™é…ç½®

è·¨ç‰ˆæœ¬å…¼å®¹ï¼š
é—®é¢˜ï¼šæ–°ç‰ˆæœ¬æ— æ³•å¯¼å…¥æ—§é…ç½®
è§£å†³ï¼šæ³¨æ„ç‰ˆæœ¬å…¼å®¹æ€§ï¼Œé€æ­¥å‡çº§
```

ğŸ¯ **æ ¸å¿ƒè®°å¿†è¦ç‚¹**ï¼š
- **å®šæœŸå¤‡ä»½**ï¼šæ•°æ®åº“+é…ç½®+ä»ªè¡¨æ¿ï¼Œä¸€ä¸ªéƒ½ä¸èƒ½å°‘
- **æµ‹è¯•æ¢å¤**ï¼šå¤‡ä»½ä¸æµ‹è¯•ç­‰äºæ²¡å¤‡ä»½
- **ç‰ˆæœ¬ç®¡ç†**ï¼šç”¨Gitç®¡ç†é…ç½®ï¼Œåƒç®¡ç†ä»£ç ä¸€æ ·
- **å¿«é€Ÿå“åº”**ï¼šåˆ¶å®šåº”æ€¥é¢„æ¡ˆï¼Œå…³é”®æ—¶åˆ»ä¸æ…Œä¹±

ğŸ’­ **ä¸€å¥è¯æ€»ç»“**ï¼šGrafanaå¤‡ä»½æ¢å¤å°±æ˜¯ç»™ç›‘æ§ç³»ç»Ÿä¹°ä¿é™©ï¼Œå¹³æ—¶åšå¥½å‡†å¤‡ï¼Œå…³é”®æ—¶åˆ»æ•‘å‘½ç”¨ï¼