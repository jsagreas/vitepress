---
title: 3、表格图-配置
---
## 📚 目录

1. [表格面板基础概念](#1-表格面板基础概念)
2. [Table面板配置入门](#2-Table面板配置入门)
3. [列显示配置详解](#3-列显示配置详解)
4. [数据格式化设置](#4-数据格式化设置)
5. [排序和过滤功能](#5-排序和过滤功能)
6. [分页设置优化](#6-分页设置优化)
7. [表格样式美化](#7-表格样式美化)
8. [实战应用场景](#8-实战应用场景)
9. [核心要点总结](#9-核心要点总结)

---

## 1. 📊 表格面板基础概念


### 1.1 什么是Table面板


**🔸 通俗理解**
想象一下Excel表格，Table面板就是Grafana中的"Excel表格"，用来展示监控数据的详细信息。

```
监控场景举例：
服务器列表 → 显示每台服务器的CPU、内存、磁盘使用率
应用状态 → 显示各个应用的运行状态、响应时间
日志统计 → 显示错误日志的详细信息和数量
```

**💡 核心作用**
- **详细展示**：显示具体的数值数据，不像图表那样只看趋势
- **对比分析**：多个指标放在一起，方便横向对比
- **精确查看**：可以看到确切的数字，而不是估算

### 1.2 表格面板的特点


**✅ 优势特点**
```
🔸 数据精确：显示准确的数值，不是估算
🔸 信息密集：一个表格可以展示大量信息
🔸 易于比较：同类数据排列整齐，便于对比
🔸 支持操作：可以排序、过滤、分页
```

**🎯 适用场景**
- **服务器监控**：CPU、内存、磁盘等关键指标
- **应用性能**：响应时间、错误率、吞吐量
- **业务数据**：订单统计、用户活跃度
- **告警列表**：当前告警的详细信息

### 1.3 表格vs其他图表类型


**📋 对比分析**

| 图表类型 | **适用场景** | **优势** | **劣势** |
|---------|------------|---------|---------|
| 📊 **折线图** | `趋势观察` | `直观看趋势` | `不显示具体数值` |
| 📈 **柱状图** | `数量对比` | `大小对比明显` | `数据点有限` |
| 📋 **表格** | `详细数据` | `精确数值，信息全面` | `不易看出趋势` |
| 🥧 **饼图** | `比例展示` | `占比关系清晰` | `不适合多维数据` |

---

## 2. 🛠️ Table面板配置入门


### 2.1 创建表格面板的基本步骤


**📝 操作步骤**
```
步骤1：点击Dashboard右上角的"+"号
步骤2：选择"Add visualization"
步骤3：选择数据源（如Prometheus）
步骤4：在右侧面板选择"Table"类型
步骤5：配置查询语句获取数据
```

**🎯 快速上手示例**
假设我们要监控服务器状态，查询语句可能是：
```
up{job="node-exporter"}
```
这会显示所有服务器的在线状态。

### 2.2 基础配置界面


**🔧 配置面板结构**
```
左侧区域：预览表格效果
右侧区域：配置选项
├── Query（查询配置）
├── Transform（数据转换）
├── Field（字段配置）
└── Panel options（面板选项）
```

### 2.3 第一个表格的简单配置


**💡 实战演示**

假设要显示服务器CPU使用率：

**查询配置：**
```
100 - (avg(rate(node_cpu_seconds_total{mode="idle"}[5m])) by (instance) * 100)
```

**字段说明：**
- `instance`：服务器地址
- `Value`：CPU使用率百分比

这样就能得到一个显示各服务器CPU使用率的表格。

---

## 3. 🎨 列显示配置详解


### 3.1 列的基本概念


**🔸 什么是列**
表格中的每一列代表一种数据类型，比如：
- **标签列**：显示服务器名称、应用名称等
- **数值列**：显示CPU使用率、内存占用等
- **时间列**：显示最后更新时间等

### 3.2 列的显示控制


**👁️ 显示/隐藏列**
```
配置路径：Field → Standard options
选项说明：
• Display name：列的显示名称
• Visible：是否显示该列
• Width：列的宽度设置
```

**🎯 实用技巧**
- **隐藏无用列**：把不需要的系统字段隐藏掉
- **重命名列**：把技术字段名改成易懂的中文名
- **调整宽度**：让重要的列显示更宽

### 3.3 列的重新排序


**📋 排序方式**
```
方法1：拖拽Field配置中的字段顺序
方法2：在表格头部点击列名进行临时排序
方法3：使用Transform功能重新组织数据
```

**💡 最佳实践**
- **重要列在前**：把最关心的指标放在最左边
- **逻辑分组**：相关的列放在一起
- **保持一致**：多个Dashboard使用相同的列顺序

### 3.4 列标题的自定义


**✏️ 自定义列名**
```
原始字段名：node_memory_MemAvailable_bytes
自定义名称：可用内存
显示效果：表格更易读懂
```

**🌍 多语言支持**
可以根据团队需要，使用中文或英文列名，让不同背景的人都能看懂。

---

## 4. 📊 数据格式化设置


### 4.1 数字格式化


**🔢 常见数字格式**

| 原始数值 | **格式类型** | **显示效果** | **适用场景** |
|---------|------------|-------------|-------------|
| `1024` | `bytes` | `1.0 KB` | `内存、磁盘容量` |
| `0.856` | `percent` | `85.6%` | `CPU使用率` |
| `1634567890` | `dateTimeFromNow` | `2小时前` | `最后更新时间` |
| `125.6789` | `number` | `125.68` | `响应时间(ms)` |

**⚙️ 配置方法**
```
配置路径：Field → Standard options → Unit
常用单位：
• bytes：字节单位（自动转换KB、MB、GB）
• percent(0-100)：百分比
• ms：毫秒
• ops：每秒操作数
```

### 4.2 时间格式化


**🕐 时间显示格式**
```
Unix时间戳 → 可读时间
1634567890 → 2023-10-18 14:31:30

配置选项：
• dateTimeAsIso：ISO格式
• dateTimeFromNow：相对时间（如"2小时前"）
• dateTimeAsLocal：本地时间格式
```

### 4.3 小数位数控制


**🎯 精度设置**
```
场景示例：
CPU使用率：保留1位小数 → 85.6%
内存使用：保留2位小数 → 1024.25 MB
响应时间：保留0位小数 → 125 ms

配置位置：Field → Standard options → Decimals
```

### 4.4 条件格式化


**🎨 颜色规则设置**

**阈值配置：**
```
绿色（正常）：CPU < 70%
黄色（警告）：70% ≤ CPU < 90%
红色（危险）：CPU ≥ 90%

配置路径：Field → Thresholds
```

**💡 实际效果**
- **正常状态**：绿色背景，数据安全
- **警告状态**：黄色背景，需要关注
- **危险状态**：红色背景，立即处理

---

## 5. 🔍 排序和过滤功能


### 5.1 表格排序功能


**📈 排序操作方法**
```
操作方式：
• 点击列标题：按该列升序排列
• 再次点击：改为降序排列
• 第三次点击：恢复原始顺序

排序状态显示：
↑ 升序箭头
↓ 降序箭头
```

**🎯 实用场景**
- **找出问题**：按CPU使用率降序，快速找到负载最高的服务器
- **性能对比**：按响应时间排序，识别最慢的服务
- **资源规划**：按内存使用排序，了解资源分配情况

### 5.2 数据过滤功能


**🔎 过滤器类型**

**内置过滤器：**
```
搜索框：在表格顶部输入关键词
支持功能：
• 文本搜索：查找包含特定文字的行
• 数值范围：筛选特定范围的数据
• 正则表达式：高级文本匹配
```

**💡 过滤示例**
```
场景1：查找特定服务器
输入："web-server" → 只显示包含"web-server"的行

场景2：查找高负载服务器
数值过滤：CPU > 80 → 只显示CPU使用率超过80%的服务器

场景3：查找错误日志
文本搜索："ERROR" → 只显示包含错误信息的日志
```

### 5.3 多列组合排序


**🔧 高级排序技巧**
虽然界面默认只支持单列排序，但可以通过以下方式实现：

```
方法1：使用Transform功能预处理数据
方法2：在查询阶段就进行排序
方法3：创建计算字段作为排序依据

实例：先按服务器类型分组，再按CPU使用率排序
```

---

## 6. 📄 分页设置优化


### 6.1 分页功能基础


**📋 分页的作用**
当数据量很大时（比如监控100台服务器），一次显示所有数据会：
- **影响性能**：页面加载缓慢
- **难以查看**：需要滚动很久才能看完
- **体验不好**：信息过载，难以聚焦

### 6.2 分页配置选项


**⚙️ 基本设置**
```
配置路径：Panel options → Table options

主要选项：
• Show header：显示表格标题
• Cell display mode：单元格显示模式
• Pagination：分页设置
```

**📊 分页参数**
```
每页行数选项：
• 10行：适合详细查看
• 25行：平衡显示和性能
• 50行：快速浏览
• 100行：大量数据概览

建议设置：
• 监控面板：25-50行
• 告警列表：10-25行
• 报表数据：50-100行
```

### 6.3 分页最佳实践


**🎯 优化建议**

**性能优化：**
```
数据量级          建议页大小    原因说明
1-50条           不分页        数据少，直接显示
50-200条         25-50行       平衡性能和体验
200-1000条       50行          避免页面卡顿
1000+条          25-50行       保证响应速度
```

**用户体验：**
- **重要数据在前**：通过排序把关键信息显示在第一页
- **合理的页大小**：不要太大影响性能，不要太小频繁翻页
- **添加搜索功能**：配合过滤器快速定位数据

---

## 7. 🎨 表格样式美化


### 7.1 基础样式配置


**🎨 外观设置**
```
配置路径：Panel options → Panel options

基础选项：
• Title：面板标题
• Description：描述信息
• Transparent：透明背景
• Repeat：重复面板设置
```

### 7.2 颜色主题设置


**🌈 颜色配置策略**

**状态色彩：**
```
正常状态：绿色系 (#28a745)
警告状态：黄色系 (#ffc107)  
危险状态：红色系 (#dc3545)
未知状态：灰色系 (#6c757d)
```

**💡 配置方法**
```
路径：Field → Thresholds
步骤：
1. 设置阈值数值
2. 选择对应颜色
3. 选择显示模式（背景色/文字色）
```

### 7.3 字体和间距调整


**📝 文字样式**
```
可调整项目：
• 字体大小：通过浏览器缩放或CSS调整
• 行高：表格行的高度间距
• 对齐方式：左对齐、居中、右对齐
• 文字颜色：配合主题使用
```

### 7.4 条纹和边框


**📋 表格美化技巧**
```
视觉增强：
• 隔行变色：提高数据可读性
• 边框线条：清晰分隔数据
• 鼠标悬停：高亮当前查看行
• 选中状态：突出重要数据

实现方式：
多数通过Grafana主题自动实现，
也可以通过自定义CSS进行调整
```

---

## 8. 🚀 实战应用场景


### 8.1 服务器监控表格


**📊 常见监控指标**
```
服务器性能监控表格结构：

列名              数据类型    格式化设置
服务器名称        文本        -
CPU使用率         数值        百分比，1位小数
内存使用率        数值        百分比，1位小数  
磁盘使用率        数值        百分比，1位小数
网络流量          数值        bytes/sec
最后更新          时间        相对时间
状态              文本        颜色标记
```

**🎯 配置要点**
- **排序**：默认按CPU使用率降序，快速发现问题
- **颜色**：CPU/内存超过80%显示红色警告
- **过滤**：添加服务器名称搜索功能

### 8.2 应用性能监控


**⚡ 应用指标展示**
```
应用监控表格示例：

应用名称    响应时间(ms)  QPS    错误率(%)  可用性(%)
用户服务    125.6        1200   0.1        99.9
订单服务    89.2         800    0.05       99.95
支付服务    156.3        400    0.2        99.8
```

**💡 业务价值**
- **快速定位**：响应时间异常的服务一目了然
- **性能对比**：不同服务的性能指标横向对比
- **趋势发现**：结合时间维度分析性能变化

### 8.3 告警列表展示


**🚨 告警信息表格**
```
告警管理表格设计：

级别  服务名    告警内容              开始时间      持续时间
高    Web服务   CPU使用率超过90%      10:30        2小时15分
中    DB服务    磁盘空间不足          09:45        3小时01分
低    缓存服务  连接数接近上限        11:20        45分钟
```

**🔧 特殊配置**
- **级别标记**：用不同颜色区分告警级别
- **时间格式**：相对时间更直观（如"2小时前"）
- **自动刷新**：设置较短的刷新间隔（30秒-1分钟）

---

## 9. 📋 核心要点总结


### 9.1 必须掌握的基本概念


```
🔸 Table面板：Grafana中显示详细数据的表格组件
🔸 列配置：控制显示哪些列，如何显示，列的顺序
🔸 数据格式化：让原始数据以易读的格式展示
🔸 排序过滤：帮助用户快速找到关心的数据
🔸 分页功能：处理大量数据时的性能和体验平衡
🔸 样式美化：通过颜色、格式提升数据的可读性
```

### 9.2 关键配置要点


**🔹 数据展示优化**
```
格式化原则：
• 数值类：选择合适的单位和精度
• 时间类：使用相对时间更直观
• 状态类：用颜色区分不同状态
• 文本类：保持简洁清晰
```

**🔹 用户体验提升**
```
易用性设计：
• 重要列放在左侧
• 使用中文列名
• 合理设置分页大小
• 提供搜索和排序功能
```

**🔹 性能考虑**
```
优化策略：
• 控制数据量：通过查询限制和分页
• 合理刷新：根据数据重要性设置刷新频率
• 简化计算：避免复杂的实时计算
```

### 9.3 实际应用指导


**✅ 适用场景**
- **运维监控**：服务器、应用、网络设备状态
- **业务分析**：订单数据、用户统计、财务报表
- **告警管理**：当前告警列表、历史告警统计
- **资源规划**：容量使用情况、趋势分析

**❌ 不适用场景**
- **趋势分析**：用折线图更直观
- **比例展示**：用饼图或环形图
- **实时监控**：用仪表盘或单值面板
- **地理分布**：用地图面板

### 9.4 进阶学习建议


**🎯 提升方向**
```
基础掌握后的进阶内容：
• 数据源集成：不同数据源的表格展示
• 自定义查询：复杂业务逻辑的数据查询
• 模板变量：动态表格内容
• 导出功能：数据导出和分享
• API集成：程序化操作表格数据
```

**📚 学习资源**
- **官方文档**：Table panel配置详解
- **社区案例**：不同行业的表格应用
- **最佳实践**：性能优化和用户体验

**核心记忆**：
- 表格面板是展示详细监控数据的最佳选择
- 合理的格式化让数据更易读懂
- 排序过滤帮助快速定位问题
- 样式配置提升整体使用体验
- 根据实际场景选择合适的配置策略