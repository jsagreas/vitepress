---
title: 1、时序图-配置
---
## 📚 目录

1. [Time Series面板基础](#1-Time-Series面板基础)
2. [线条样式设置详解](#2-线条样式设置详解)
3. [填充和透明度配置](#3-填充和透明度配置)
4. [点显示配置技巧](#4-点显示配置技巧)
5. [Y轴刻度设置](#5-Y轴刻度设置)
6. [图例配置优化](#6-图例配置优化)
7. [实战应用场景](#7-实战应用场景)
8. [核心要点总结](#8-核心要点总结)

---

## 1. 📈 Time Series面板基础


### 1.1 什么是时序图


**简单理解**：时序图就像是给数据拍"连续照片"，把随时间变化的数据用线条连起来，形成一条趋势线。

```
想象一下体温计的使用：
今天上午37°C → 中午36.5°C → 下午36.8°C → 晚上37.2°C

把这些点连起来就是时序图：
     37.2°C ●
37°C ●       /
     \     /
36.5°C ●---/
     上午  中午  下午  晚上
```

**核心概念**：
- **时间轴（X轴）**：横向显示时间进度
- **数值轴（Y轴）**：纵向显示数据大小
- **数据线**：连接各个时间点的数据值
- **趋势**：通过线条看出数据的变化规律

### 1.2 Time Series面板的作用


**主要用途**：
```
🔸 监控系统性能
• CPU使用率随时间变化
• 内存占用情况
• 网络流量趋势

🔸 业务数据分析
• 网站访问量变化
• 销售额趋势
• 用户活跃度

🔸 故障诊断
• 错误率突增时间点
• 响应时间异常
• 服务可用性监控
```

### 1.3 面板创建基础流程


**创建步骤**：
```
步骤1：添加面板
Dashboard → Add Panel → Add a new panel

步骤2：选择数据源
Data Source → 选择你的数据源（如Prometheus）

步骤3：选择可视化类型
Visualization → Time Series

步骤4：配置查询语句
Query → 输入你的查询语句

步骤5：调整显示样式
Panel options → 配置线条、颜色、图例等
```

---

## 2. 🎨 线条样式设置详解


### 2.1 线条基本属性


**线条宽度设置**：
```
作用：控制数据线的粗细程度
建议配置：
• 细线（1-2px）：适合多条线的对比图
• 中等（3-4px）：适合单条或少量线条
• 粗线（5px+）：适合重点突出某条线

实际效果对比：
────────  细线：不抢眼，适合背景数据
━━━━━━━━  中线：清晰可见，通用选择
████████  粗线：重点突出，主要指标
```

**线条类型选择**：
```
实线（Solid）：
━━━━━━━━━━  标准选择，清晰直观

虚线（Dashed）：
─ ─ ─ ─ ─ ─  适合预测数据或参考线

点线（Dotted）：
· · · · · ·  适合辅助线或次要数据

使用建议：
• 主要数据用实线
• 预测数据用虚线
• 阈值线用点线
```

### 2.2 线条颜色配置


**颜色选择原则**：
```
🟢 绿色系：正常状态、成功率、健康指标
🔴 红色系：错误状态、告警数据、异常指标
🔵 蓝色系：中性数据、流量指标、常规监控
🟡 黄色系：警告状态、注意事项、边界值

颜色搭配技巧：
• 对比鲜明：便于区分不同指标
• 符合直觉：红色危险、绿色安全
• 考虑色盲：避免红绿难分辨的搭配
```

### 2.3 线条插值方式


**插值模式说明**：
```
Linear（线性）：
A ●────● B    直线连接，最常用

Smooth（平滑）：
A ●~~~~● B    曲线连接，美观但可能失真

Step before（阶梯-前）：
A ●━━━━
     ┗━━━● B    保持前一个值

Step after（阶梯-后）：
A ●
  ┗━━━━━━● B    直到下一个值才变化

选择建议：
• 连续性数据用Linear
• 状态型数据用Step
• 展示用途可选Smooth
```

---

## 3. 🎭 填充和透明度配置


### 3.1 区域填充功能


**填充的作用**：
```
想象给线条"涂颜色"：

无填充：
     ●───●───●    只有线条

有填充：
     ●───●───●
    ▓▓▓▓▓▓▓▓▓▓    线条下方有颜色区域

好处：
• 更直观显示数据量级
• 便于对比不同时期的数据规模
• 视觉效果更丰富
```

### 3.2 透明度设置技巧


**透明度级别**：
```
0% 透明度（完全不透明）：
████████  颜色很重，适合单条线

25% 透明度（轻微透明）：
▓▓▓▓▓▓▓▓  颜色较重，适合少量线条

50% 透明度（半透明）：
▒▒▒▒▒▒▒▒  平衡效果，通用选择

75% 透明度（高透明）：
░░░░░░░░  颜色很淡，适合多条线重叠

配置建议：
• 单条线：20-40%透明度
• 多条线：60-80%透明度
• 重叠数据：80%+透明度
```

### 3.3 填充模式选择


**填充到零点**：
```
普通情况：线条下方填充到X轴
     ●───●───●
    ▓▓▓▓▓▓▓▓▓▓
    ▓▓▓▓▓▓▓▓▓▓  ← 填充到0点
────────────────
```

**填充到其他线**：
```
两条线之间的差值填充：
线A  ●───●───●
    ▓▓▓▓▓▓▓▓▓▓  ← 两线之间填充
线B  ●───●───●

适用场景：
• 对比两个指标的差异
• 显示上下限范围
• 展示变化幅度
```

---

## 4. 🔘 点显示配置技巧


### 4.1 数据点的作用


**为什么需要显示点**：
```
只有线条：
─────────────  不知道实际数据采集点在哪

显示数据点：
──●──●──●──  清楚看到每个实际数据点

作用：
• 明确数据采集频率
• 识别数据缺失情况
• 便于精确读数
```

### 4.2 点的大小设置


**不同大小的视觉效果**：
```
小点（2-3px）：
──•──•──•──  不抢眼，适合高频数据

中等点（4-5px）：
──●──●──●──  清晰可见，通用选择

大点（6px+）：
──⬤──⬤──⬤──  突出显示，适合关键数据点

选择原则：
• 数据点密集 → 用小点
• 数据点稀疏 → 可用大点
• 重要指标 → 适当大一些
```

### 4.3 点的显示条件


**智能显示策略**：
```
自动模式：
• 数据点少时：显示所有点
• 数据点多时：自动隐藏避免拥挤

始终显示：
• 不管多少数据点都显示
• 适合需要精确分析的场景

从不显示：
• 只显示线条，隐藏所有点
• 适合趋势展示，简洁美观

配置建议：
大部分情况选择"自动模式"
```

---

## 5. 📏 Y轴刻度设置


### 5.1 Y轴范围控制


**自动范围 vs 手动范围**：
```
自动范围：
根据数据自动调整，数据从85-95
┌─────100
│      95 ●───●───●
│      90
│      85 ●───●───●
└─────80

手动范围：
固定范围0-100，便于对比
┌─────100
│      95 ●───●───●
│      50
│      85 ●───●───●
└──────0

选择建议：
• 监控类数据：手动设置0-100%
• 对比分析：固定相同范围
• 探索性分析：使用自动范围
```

### 5.2 刻度单位设置


**常见单位类型**：
```
🔸 百分比单位
显示：95% 而不是 0.95

🔸 字节单位  
显示：1.2MB 而不是 1200000

🔸 时间单位
显示：5.2s 而不是 5200ms

🔸 自定义单位
显示：1.5K QPS 而不是 1500

配置方法：
Unit → 选择对应的单位类型
```

### 5.3 刻度间隔优化


**刻度密度控制**：
```
稀疏刻度：
100 ─
    │
 50 ─  清晰，适合简单对比
    │
  0 ─

密集刻度：
100 ─
 90 ─
 80 ─  详细，适合精确分析
 70 ─
 60 ─

平衡原则：
• 既要信息充分
• 又要避免拥挤
• 根据面板大小调整
```

---

## 6. 📋 图例配置优化


### 6.1 图例位置选择


**不同位置的效果**：
```
底部图例（推荐）：
┌─────────────────┐
│    数据线图表    │
│                 │
└─────────────────┘
■ CPU ■ Memory ■ Disk

右侧图例：
┌─────────────┬───┐
│  数据线图表  │■ CPU  │
│             │■ Memory│
│             │■ Disk │
└─────────────┴───┘

选择建议：
• 底部：节省水平空间，适合宽屏
• 右侧：节省垂直空间，适合高屏
• 顶部：较少使用，特殊需求
```

### 6.2 图例信息配置


**显示内容选择**：
```
基础信息：
■ CPU使用率

详细信息：
■ CPU使用率 | 当前: 85% | 最大: 92% | 平均: 78%

信息类型：
• Current：当前值
• Max：最大值  
• Min：最小值
• Avg：平均值
• Total：总和
• Last：最后值

配置原则：
• 监控面板：显示当前值和最大值
• 分析面板：显示平均值和总和
• 简单展示：只显示名称
```

### 6.3 图例交互功能


**点击图例的效果**：
```
单击图例：
■ CPU使用率     → 隐藏/显示该条线
■ 内存使用率
■ 磁盘使用率

Ctrl+单击：
■ CPU使用率     → 只显示该条线，隐藏其他
■ 内存使用率
■ 磁盘使用率

实用技巧：
• 对比特定指标时使用Ctrl+单击
• 排除干扰数据时单击隐藏
• 快速切换关注焦点
```

---

## 7. 🎯 实战应用场景


### 7.1 服务器监控配置


**CPU监控时序图**：
```
配置要点：
• Y轴范围：0-100%
• 单位：百分比
• 线条：实线，中等粗细
• 填充：25%透明度
• 颜色：蓝色（正常）转红色（高负载）
• 图例：显示当前值、最大值

查询示例：
100 - (avg(irate(node_cpu_seconds_total{mode="idle"}[5m])) * 100)

告警线添加：
• 80%警告线（黄色虚线）
• 90%危险线（红色虚线）
```

### 7.2 应用性能监控


**响应时间监控**：
```
配置要点：
• Y轴：自适应范围
• 单位：毫秒(ms)
• 线条：平滑曲线
• 点显示：自动模式
• 多条线对比不同接口

图例配置：
显示平均值、95分位值、最大值

颜色策略：
• <100ms：绿色
• 100-500ms：黄色  
• >500ms：红色
```

### 7.3 业务指标监控


**用户访问量监控**：
```
配置特点：
• Y轴：从0开始
• 单位：每分钟请求数(rpm)
• 填充：显示访问量规模
• 时间聚合：5分钟平均值

多维度展示：
• 总访问量（粗线）
• PC端访问（细线）  
• 移动端访问（细线）
• 各功能模块访问（更细线）

堆叠模式：
显示各部分占比关系
```

---

## 8. 📊 核心要点总结


### 8.1 配置优先级


**新手配置顺序**：
```
1️⃣ 数据查询正确
确保能获取到数据

2️⃣ Y轴单位设置
让数值有意义（%、MB、ms等）

3️⃣ 线条颜色区分
不同指标用不同颜色

4️⃣ 图例信息完善
显示有用的统计信息

5️⃣ 细节美化调整
线条粗细、填充、点显示等
```

### 8.2 常见配置误区


**避免这些问题**：
```
❌ Y轴范围过小
导致数据变化看起来很剧烈

❌ 颜色区分不明显
多条线看不清哪条是哪条

❌ 图例信息过多
显示太多统计值反而混乱

❌ 线条过粗或过细
影响数据可读性

❌ 单位显示错误
0.85显示成85000（单位问题）

✅ 正确做法：
• 合理的Y轴范围
• 清晰的颜色对比
• 适度的信息展示
• 合适的线条粗细
• 正确的单位设置
```

### 8.3 最佳实践建议


**配置标准化**：
```
🔸 监控类面板
• Y轴：0-100%固定范围
• 颜色：绿色正常，红色告警
• 线条：中等粗细，实线
• 告警线：80%黄色，90%红色

🔸 分析类面板  
• Y轴：自适应范围
• 颜色：区分度高的配色
• 线条：可用平滑曲线
• 图例：显示统计信息

🔸 展示类面板
• 美观优先：填充、渐变
• 简洁图例：只显示名称
• 合适透明度：避免重叠混乱
```

### 8.4 记忆要点


**核心配置逻辑**：
```
数据准确 → 显示清晰 → 美观易读

具体检查清单：
□ 数据查询无误
□ Y轴单位正确
□ 颜色区分明显  
□ 图例信息有用
□ 整体美观协调

快速上手口诀：
先查数据后调样式
Y轴单位别忘记
颜色对比要明显
图例信息要有用
```

**实用技巧总结**：
- **新建面板**：复制现有配置良好的面板，再修改查询
- **调试技巧**：先用最简单配置确保数据正确，再逐步美化
- **团队协作**：建立统一的配色和样式规范
- **性能考虑**：避免在一个面板显示过多数据线