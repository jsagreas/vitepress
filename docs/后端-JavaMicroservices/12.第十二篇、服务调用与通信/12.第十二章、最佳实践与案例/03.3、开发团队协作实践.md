---
title: 3ã€å¼€å‘å›¢é˜Ÿåä½œå®è·µ
---
## ğŸ“š ç›®å½•


1. [æ¥å£è®¾è®¡è§„èŒƒ](#1-æ¥å£è®¾è®¡è§„èŒƒ)
2. [ä»£ç Reviewæ ‡å‡†](#2-ä»£ç Reviewæ ‡å‡†)
3. [æµ‹è¯•ç­–ç•¥è§„èŒƒ](#3-æµ‹è¯•ç­–ç•¥è§„èŒƒ)
4. [å˜æ›´ç®¡ç†æµç¨‹](#4-å˜æ›´ç®¡ç†æµç¨‹)
5. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#5-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ“ æ¥å£è®¾è®¡è§„èŒƒ



### 1.1 ä¸ºä»€ä¹ˆéœ€è¦æ¥å£è®¾è®¡è§„èŒƒ



> **ğŸ’¡ æ ¸å¿ƒç†è§£**  
> æƒ³è±¡ä¸€ä¸‹ï¼Œå¦‚æœæ¯ä¸ªå¼€å‘äººå‘˜éƒ½æŒ‰ç…§è‡ªå·±çš„æƒ³æ³•è®¾è®¡æ¥å£ï¼Œå°±åƒæ¯ä¸ªäººè¯´ä¸åŒçš„æ–¹è¨€ï¼Œäº’ç›¸æ ¹æœ¬å¬ä¸æ‡‚ï¼æ¥å£è®¾è®¡è§„èŒƒå°±æ˜¯è®©å›¢é˜Ÿ"è¯´åŒä¸€ç§è¯­è¨€"çš„è§„åˆ™ã€‚

**æ¥å£è®¾è®¡çš„é‡è¦æ€§**ï¼š
```
æ²¡æœ‰è§„èŒƒçš„å›¢é˜Ÿï¼š
å¼€å‘Aï¼šPOST /getUser        â† æ–¹æ³•é”™è¯¯
å¼€å‘Bï¼šGET /user_info        â† å‘½åæ··ä¹±
å¼€å‘Cï¼šGET /queryUserById    â† å†—ä½™å‘½å

æœ‰è§„èŒƒçš„å›¢é˜Ÿï¼š
ç»Ÿä¸€æ ‡å‡†ï¼šGET /users/{id}   â† æ¸…æ™°ã€è§„èŒƒã€æ˜“æ‡‚
```

### 1.2 RESTfulæ¥å£è®¾è®¡è§„èŒƒ



**ğŸ”¸ URLè·¯å¾„è®¾è®¡åŸåˆ™**

> **ğŸ“‹ æ ¸å¿ƒè§„åˆ™**
> - ä½¿ç”¨åè¯å¤æ•°è¡¨ç¤ºèµ„æºï¼š`/users` è€Œä¸æ˜¯ `/user`
> - ä½¿ç”¨å°å†™å­—æ¯å’Œä¸­åˆ’çº¿ï¼š`/order-items` è€Œä¸æ˜¯ `/OrderItems`
> - ä½“ç°èµ„æºçš„å±‚çº§å…³ç³»ï¼š`/users/{id}/orders`

**å¸¸è§èµ„æºURLè®¾è®¡**ï¼š

| æ“ä½œè¯´æ˜ | HTTPæ–¹æ³• | URLç¤ºä¾‹ | è¯´æ˜ |
|---------|---------|---------|------|
| è·å–ç”¨æˆ·åˆ—è¡¨ | `GET` | `/users` | æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ· |
| è·å–å•ä¸ªç”¨æˆ· | `GET` | `/users/{id}` | æŸ¥è¯¢æŒ‡å®šç”¨æˆ· |
| åˆ›å»ºç”¨æˆ· | `POST` | `/users` | æ–°å»ºç”¨æˆ· |
| æ›´æ–°ç”¨æˆ· | `PUT` | `/users/{id}` | å®Œæ•´æ›´æ–° |
| éƒ¨åˆ†æ›´æ–° | `PATCH` | `/users/{id}` | éƒ¨åˆ†å­—æ®µæ›´æ–° |
| åˆ é™¤ç”¨æˆ· | `DELETE` | `/users/{id}` | åˆ é™¤ç”¨æˆ· |

**ğŸ”¸ è¯·æ±‚å‚æ•°è§„èŒƒ**

```
æŸ¥è¯¢å‚æ•°è®¾è®¡ï¼š
GET /users?page=1&size=10&sort=createTime,desc

å«ä¹‰ï¼š
- pageï¼šç¬¬å‡ é¡µï¼ˆä»1å¼€å§‹ï¼‰
- sizeï¼šæ¯é¡µæ¡æ•°
- sortï¼šæ’åºå­—æ®µï¼Œæ ¼å¼ä¸º"å­—æ®µå,æ’åºæ–¹å‘"
```

**å‚æ•°å‘½åå»ºè®®**ï¼š
- âœ… ä½¿ç”¨é©¼å³°å‘½åï¼š`userName` è€Œä¸æ˜¯ `user_name`
- âœ… è¯­ä¹‰æ¸…æ™°ï¼š`startDate` è€Œä¸æ˜¯ `sd`
- âœ… é¿å…ç¼©å†™ï¼š`maximum` è€Œä¸æ˜¯ `max`ï¼ˆé™¤éæ˜¯è¡Œä¸šé€šç”¨ç¼©å†™ï¼‰

### 1.3 æ¥å£å“åº”è§„èŒƒ



**ğŸ”¸ ç»Ÿä¸€å“åº”æ ¼å¼**

> **âš ï¸ é‡è¦åŸåˆ™**  
> æ— è®ºæˆåŠŸè¿˜æ˜¯å¤±è´¥ï¼Œéƒ½è¦è¿”å›ç»Ÿä¸€çš„æ•°æ®ç»“æ„ï¼Œè®©å‰ç«¯èƒ½å¤Ÿç»Ÿä¸€å¤„ç†ï¼

**æ ‡å‡†å“åº”æ ¼å¼**ï¼š
```json
{
  "code": 200,
  "message": "æ“ä½œæˆåŠŸ",
  "data": {
    "id": 1001,
    "userName": "å¼ ä¸‰"
  },
  "timestamp": 1695456789000
}
```

**å“åº”å­—æ®µè¯´æ˜**ï¼š
- `code`ï¼šä¸šåŠ¡çŠ¶æ€ç ï¼ˆ200æˆåŠŸï¼Œå…¶ä»–è¡¨ç¤ºå„ç§é”™è¯¯ï¼‰
- `message`ï¼šç»™ç”¨æˆ·çœ‹çš„æç¤ºä¿¡æ¯
- `data`ï¼šå®é™…çš„ä¸šåŠ¡æ•°æ®
- `timestamp`ï¼šå“åº”æ—¶é—´æˆ³

**ğŸ”¸ çŠ¶æ€ç è®¾è®¡**

```
HTTPçŠ¶æ€ç åˆ†ç±»ï¼š
2xx - æˆåŠŸ
â”œâ”€â”€ 200 OKï¼šè¯·æ±‚æˆåŠŸ
â”œâ”€â”€ 201 Createdï¼šåˆ›å»ºæˆåŠŸ
â””â”€â”€ 204 No Contentï¼šåˆ é™¤æˆåŠŸ

4xx - å®¢æˆ·ç«¯é”™è¯¯
â”œâ”€â”€ 400 Bad Requestï¼šå‚æ•°é”™è¯¯
â”œâ”€â”€ 401 Unauthorizedï¼šæœªç™»å½•
â”œâ”€â”€ 403 Forbiddenï¼šæ— æƒé™
â””â”€â”€ 404 Not Foundï¼šèµ„æºä¸å­˜åœ¨

5xx - æœåŠ¡å™¨é”™è¯¯
â”œâ”€â”€ 500 Internal Server Errorï¼šæœåŠ¡å™¨å†…éƒ¨é”™è¯¯
â””â”€â”€ 503 Service Unavailableï¼šæœåŠ¡ä¸å¯ç”¨
```

**ä¸šåŠ¡çŠ¶æ€ç è®¾è®¡ç¤ºä¾‹**ï¼š

| ä¸šåŠ¡ç  | å«ä¹‰ | ä½¿ç”¨åœºæ™¯ |
|-------|------|---------|
| `200` | æˆåŠŸ | æ“ä½œæˆåŠŸ |
| `1001` | å‚æ•°é”™è¯¯ | å‚æ•°æ ¡éªŒå¤±è´¥ |
| `1002` | ä¸šåŠ¡å¼‚å¸¸ | ä½™é¢ä¸è¶³ã€åº“å­˜ä¸è¶³ç­‰ |
| `2001` | æœªç™»å½• | Tokenè¿‡æœŸæˆ–æ— æ•ˆ |
| `2002` | æ— æƒé™ | è®¿é—®è¢«æ‹’ç» |
| `5000` | ç³»ç»Ÿé”™è¯¯ | æœªçŸ¥å¼‚å¸¸ |

### 1.4 æ¥å£æ–‡æ¡£è§„èŒƒ



**ğŸ”¸ ä½¿ç”¨Swagger/OpenAPI**

> **ğŸ’¡ ä¸ºä»€ä¹ˆç”¨Swaggerï¼Ÿ**  
> å°±åƒç»™æ¥å£é…äº†ä¸€ä»½"è¯´æ˜ä¹¦"ï¼Œä¸ç”¨çœ‹ä»£ç å°±çŸ¥é“æ¥å£æ€ä¹ˆç”¨ï¼Œå‚æ•°æ˜¯ä»€ä¹ˆï¼Œè¿”å›ä»€ä¹ˆã€‚

**Swaggeræ³¨è§£ç¤ºä¾‹**ï¼š
```java
@RestController
@RequestMapping("/users")
@Api(tags = "ç”¨æˆ·ç®¡ç†æ¥å£")
public class UserController {
    
    @GetMapping("/{id}")
    @ApiOperation(value = "æ ¹æ®IDæŸ¥è¯¢ç”¨æˆ·", notes = "è¿”å›ç”¨æˆ·è¯¦ç»†ä¿¡æ¯")
    @ApiImplicitParam(name = "id", value = "ç”¨æˆ·ID", required = true)
    public Result<User> getUser(@PathVariable Long id) {
        // å®ç°é€»è¾‘
    }
}
```

**æ¥å£æ–‡æ¡£å¿…å¤‡å†…å®¹**ï¼š
- [ ] æ¥å£åŠŸèƒ½æè¿°
- [ ] è¯·æ±‚æ–¹æ³•å’ŒURL
- [ ] è¯·æ±‚å‚æ•°è¯´æ˜ï¼ˆå¿…å¡«/é€‰å¡«ã€ç±»å‹ã€ç¤ºä¾‹ï¼‰
- [ ] å“åº”æ•°æ®ç»“æ„
- [ ] é”™è¯¯ç è¯´æ˜
- [ ] è°ƒç”¨ç¤ºä¾‹

---

## 2. ğŸ” ä»£ç Reviewæ ‡å‡†



### 2.1 ä»€ä¹ˆæ˜¯ä»£ç Review



> **ğŸ’¡ é€šä¿—ç†è§£**  
> å°±åƒå†™å®Œä½œæ–‡è¦è®©åŒå­¦æˆ–è€å¸ˆæ£€æŸ¥ä¸€æ ·ï¼Œä»£ç å†™å®Œåä¹Ÿè¦è®©å›¢é˜Ÿæˆå‘˜æ£€æŸ¥ã€‚è¿™æ ·èƒ½å‘ç°é—®é¢˜ã€ç»Ÿä¸€é£æ ¼ã€äº’ç›¸å­¦ä¹ ã€‚

**ä»£ç Reviewçš„ä»·å€¼**ï¼š
```
å‘ç°é—®é¢˜ï¼š
é€»è¾‘é”™è¯¯ â†’ æ½œåœ¨Bug â†’ æ€§èƒ½é—®é¢˜ â†’ å®‰å…¨æ¼æ´
    â†“         â†“         â†“         â†“
Review   Review    Review    Review
    â†“         â†“         â†“         â†“
ä¿®å¤å‰   ä¿®å¤å‰    ä¼˜åŒ–å‰    ä¿®å¤å‰
```

### 2.2 Reviewæ£€æŸ¥æ¸…å•



**ğŸ”¸ ä»£ç è§„èŒƒæ£€æŸ¥**

> **ğŸ“‹ åŸºç¡€æ£€æŸ¥é¡¹**
> - å‘½åæ˜¯å¦ç¬¦åˆå›¢é˜Ÿè§„èŒƒï¼Ÿ
> - ç¼©è¿›å’Œæ ¼å¼æ˜¯å¦ç»Ÿä¸€ï¼Ÿ
> - æ˜¯å¦æœ‰æ³¨é‡Šè¯´æ˜å¤æ‚é€»è¾‘ï¼Ÿ

**å‘½åè§„èŒƒç¤ºä¾‹**ï¼š
```java
// âŒ ä¸å¥½çš„å‘½å
public void getData(int a, String b) {
    List list = new ArrayList();
    // ...
}

// âœ… å¥½çš„å‘½å
public void getUserOrders(int userId, String orderStatus) {
    List<Order> userOrders = new ArrayList<>();
    // ...
}
```

**ğŸ”¸ é€»è¾‘æ­£ç¡®æ€§æ£€æŸ¥**

**å¸¸è§é—®é¢˜æ£€æŸ¥ç‚¹**ï¼š
```
è¾¹ç•Œæ¡ä»¶æ£€æŸ¥ï¼š
- ç©ºå€¼åˆ¤æ–­ï¼šlist.size() > 0 ä¹‹å‰æ˜¯å¦åˆ¤ç©ºï¼Ÿ
- æ•°ç»„è¶Šç•Œï¼šè®¿é—®ç´¢å¼•å‰æ˜¯å¦æ£€æŸ¥é•¿åº¦ï¼Ÿ
- é™¤é›¶é”™è¯¯ï¼šé™¤æ³•è¿ç®—å‰æ˜¯å¦æ£€æŸ¥é™¤æ•°ï¼Ÿ

ç¤ºä¾‹ï¼š
âŒ å±é™©ä»£ç ï¼š
int average = totalScore / studentCount;

âœ… å®‰å…¨ä»£ç ï¼š
int average = studentCount > 0 ? 
    totalScore / studentCount : 0;
```

**ğŸ”¸ æ€§èƒ½å’Œèµ„æºæ£€æŸ¥**

| æ£€æŸ¥é¡¹ | å¸¸è§é—®é¢˜ | è§£å†³æ–¹æ¡ˆ |
|-------|---------|---------|
| æ•°æ®åº“æŸ¥è¯¢ | N+1æŸ¥è¯¢é—®é¢˜ | ä½¿ç”¨joinæˆ–æ‰¹é‡æŸ¥è¯¢ |
| å¾ªç¯åµŒå¥— | æ—¶é—´å¤æ‚åº¦è¿‡é«˜ | ä¼˜åŒ–ç®—æ³•æˆ–ä½¿ç”¨Map |
| èµ„æºå…³é—­ | æµæœªå…³é—­ | ä½¿ç”¨try-with-resources |
| å†…å­˜æ³„æ¼ | å¯¹è±¡å¼•ç”¨æœªæ¸…ç† | åŠæ—¶ç½®ç©ºæˆ–ä½¿ç”¨å¼±å¼•ç”¨ |

**ğŸ”¸ å®‰å…¨æ€§æ£€æŸ¥**

**é‡ç‚¹å…³æ³¨ç‚¹**ï¼š
- SQLæ³¨å…¥ï¼šæ˜¯å¦ä½¿ç”¨å‚æ•°åŒ–æŸ¥è¯¢ï¼Ÿ
- XSSæ”»å‡»ï¼šç”¨æˆ·è¾“å…¥æ˜¯å¦åšäº†è½¬ä¹‰ï¼Ÿ
- æ•æ„Ÿä¿¡æ¯ï¼šå¯†ç ã€å¯†é’¥æ˜¯å¦åŠ å¯†å­˜å‚¨ï¼Ÿ
- æƒé™æ§åˆ¶ï¼šæ˜¯å¦éªŒè¯ç”¨æˆ·æƒé™ï¼Ÿ

### 2.3 Reviewæµç¨‹è§„èŒƒ



**ğŸ“Š æ ‡å‡†Reviewæµç¨‹**ï¼š
```
å¼€å‘å®Œæˆ
    â†“
è‡ªæµ‹é€šè¿‡
    â†“
æäº¤MR/PRï¼ˆMerge Request/Pull Requestï¼‰
    â†“
æŒ‡å®šReviewer
    â†“
Revieweræ£€æŸ¥ä»£ç 
    â†“
æœ‰é—®é¢˜ â†’ æå‡ºæ„è§ â†’ å¼€å‘ä¿®æ”¹ â†’ é‡æ–°Review
    â†“
æ²¡é—®é¢˜ â†’ æ‰¹å‡†åˆå¹¶
    â†“
åˆå¹¶åˆ°ä¸»åˆ†æ”¯
```

**Reviewæ—¶é—´å»ºè®®**ï¼š
- ğŸŸ¢ **æ™®é€šåŠŸèƒ½**ï¼š1-2å°æ—¶å†…å“åº”
- ğŸŸ¡ **é‡è¦åŠŸèƒ½**ï¼šå½“å¤©å“åº”
- ğŸ”´ **ç´§æ€¥ä¿®å¤**ï¼š30åˆ†é’Ÿå†…å“åº”

**Reviewåé¦ˆè§„èŒƒ**ï¼š
```
ğŸ”¸ ç»™å‡ºå…·ä½“å»ºè®®ï¼š
âŒ "è¿™é‡Œå†™å¾—ä¸å¥½"
âœ… "è¿™é‡Œå¯ä»¥ç”¨Stream APIç®€åŒ–ï¼Œæé«˜å¯è¯»æ€§"

ğŸ”¸ åŒºåˆ†ä¸¥é‡ç¨‹åº¦ï¼š
ğŸ”´ å¿…é¡»ä¿®æ”¹ï¼šå®‰å…¨ã€æ€§èƒ½ã€é€»è¾‘é”™è¯¯
ğŸŸ¡ å»ºè®®ä¿®æ”¹ï¼šä»£ç ä¼˜åŒ–ã€è§„èŒƒé—®é¢˜
ğŸŸ¢ å¯é€‰ä¿®æ”¹ï¼šä¸ªäººåå¥½ã€å°ç»†èŠ‚
```

---

## 3. ğŸ§ª æµ‹è¯•ç­–ç•¥è§„èŒƒ



### 3.1 æµ‹è¯•é‡‘å­—å¡”æ¨¡å‹



> **ğŸ’¡ æ ¸å¿ƒç†å¿µ**  
> æµ‹è¯•å°±åƒå»ºæˆ¿å­ï¼Œéœ€è¦æ‰“å¥½åœ°åŸºï¼ˆå•å…ƒæµ‹è¯•ï¼‰ï¼Œæ­å¥½æ¡†æ¶ï¼ˆé›†æˆæµ‹è¯•ï¼‰ï¼Œæœ€åè£…ä¿®ï¼ˆç«¯åˆ°ç«¯æµ‹è¯•ï¼‰ã€‚

**æµ‹è¯•é‡‘å­—å¡”ç»“æ„**ï¼š
```
            /\
           /E2E\      â† ç«¯åˆ°ç«¯æµ‹è¯•ï¼ˆå°‘é‡ï¼‰
          /------\
         /é›†æˆæµ‹è¯•\    â† é›†æˆæµ‹è¯•ï¼ˆé€‚é‡ï¼‰
        /----------\
       /  å•å…ƒæµ‹è¯•  \  â† å•å…ƒæµ‹è¯•ï¼ˆå¤§é‡ï¼‰
      /--------------\
```

**å„å±‚æµ‹è¯•å æ¯”å»ºè®®**ï¼š
- å•å…ƒæµ‹è¯•ï¼š70%ï¼ˆå¿«é€Ÿã€ç¨³å®šã€è¦†ç›–é¢å¹¿ï¼‰
- é›†æˆæµ‹è¯•ï¼š20%ï¼ˆéªŒè¯æ¨¡å—é—´åä½œï¼‰
- E2Eæµ‹è¯•ï¼š10%ï¼ˆéªŒè¯æ ¸å¿ƒä¸šåŠ¡æµç¨‹ï¼‰

### 3.2 å•å…ƒæµ‹è¯•è§„èŒƒ



**ğŸ”¸ å•å…ƒæµ‹è¯•åŸºæœ¬åŸåˆ™**

> **ğŸ“‹ FIRSTåŸåˆ™**
> - **F**astï¼ˆå¿«é€Ÿï¼‰ï¼šæ¯«ç§’çº§æ‰§è¡Œ
> - **I**ndependentï¼ˆç‹¬ç«‹ï¼‰ï¼šæµ‹è¯•é—´äº’ä¸å½±å“
> - **R**epeatableï¼ˆå¯é‡å¤ï¼‰ï¼šå¤šæ¬¡è¿è¡Œç»“æœä¸€è‡´
> - **S**elf-Validatingï¼ˆè‡ªéªŒè¯ï¼‰ï¼šè‡ªåŠ¨åˆ¤æ–­æˆåŠŸå¤±è´¥
> - **T**imelyï¼ˆåŠæ—¶ï¼‰ï¼šä»£ç å†™å®Œç«‹å³æµ‹è¯•

**å•å…ƒæµ‹è¯•ç¤ºä¾‹**ï¼š
```java
@Test
public void testCalculateDiscount() {
    // Given - å‡†å¤‡æµ‹è¯•æ•°æ®
    Order order = new Order();
    order.setAmount(1000);
    order.setVipLevel(2);
    
    // When - æ‰§è¡Œæµ‹è¯•
    double discount = orderService.calculateDiscount(order);
    
    // Then - éªŒè¯ç»“æœ
    assertEquals(0.8, discount, 0.01);
}
```

**ğŸ”¸ Mockä½¿ç”¨è§„èŒƒ**

**ä»€ä¹ˆæ—¶å€™ç”¨Mockï¼Ÿ**
- ä¾èµ–å¤–éƒ¨æœåŠ¡ï¼ˆæ•°æ®åº“ã€Redisã€ç¬¬ä¸‰æ–¹APIï¼‰
- ä¾èµ–ç»„ä»¶åˆå§‹åŒ–å¤æ‚
- éœ€è¦æ¨¡æ‹Ÿå¼‚å¸¸åœºæ™¯

**Mockç¤ºä¾‹**ï¼š
```java
@Test
public void testUserService() {
    // Mockæ•°æ®åº“æŸ¥è¯¢
    when(userMapper.selectById(1L))
        .thenReturn(new User(1L, "å¼ ä¸‰"));
    
    // æ‰§è¡Œä¸šåŠ¡é€»è¾‘
    User user = userService.getUser(1L);
    
    // éªŒè¯
    assertEquals("å¼ ä¸‰", user.getName());
    verify(userMapper, times(1)).selectById(1L);
}
```

### 3.3 é›†æˆæµ‹è¯•è§„èŒƒ



**ğŸ”¸ é›†æˆæµ‹è¯•é‡ç‚¹**

| æµ‹è¯•åœºæ™¯ | æµ‹è¯•å†…å®¹ | ç¤ºä¾‹ |
|---------|---------|------|
| æœåŠ¡é—´è°ƒç”¨ | RPC/HTTPè°ƒç”¨æ˜¯å¦æ­£å¸¸ | è®¢å•æœåŠ¡è°ƒç”¨åº“å­˜æœåŠ¡ |
| æ•°æ®åº“äº¤äº’ | SQLæ‰§è¡Œã€äº‹åŠ¡ç®¡ç† | æ–°å¢è®¢å•ååº“å­˜æ‰£å‡ |
| æ¶ˆæ¯é˜Ÿåˆ— | æ¶ˆæ¯å‘é€å’Œæ¶ˆè´¹ | è®¢å•åˆ›å»ºåå‘é€MQé€šçŸ¥ |
| ç¼“å­˜æœºåˆ¶ | ç¼“å­˜è¯»å†™ã€è¿‡æœŸç­–ç•¥ | Redisç¼“å­˜å‘½ä¸­ç‡ |

**é›†æˆæµ‹è¯•ç¤ºä¾‹**ï¼š
```java
@SpringBootTest
public class OrderIntegrationTest {
    
    @Test
    public void testCreateOrder() {
        // åˆ›å»ºè®¢å•
        OrderDTO order = new OrderDTO();
        order.setProductId(100L);
        order.setQuantity(2);
        
        // è°ƒç”¨æ¥å£
        Result result = orderService.createOrder(order);
        
        // éªŒè¯è®¢å•åˆ›å»ºæˆåŠŸ
        assertTrue(result.isSuccess());
        
        // éªŒè¯åº“å­˜å·²æ‰£å‡ï¼ˆé›†æˆéªŒè¯ï¼‰
        Stock stock = stockService.getStock(100L);
        assertEquals(98, stock.getQuantity());
    }
}
```

### 3.4 æµ‹è¯•è¦†ç›–ç‡è¦æ±‚



**ğŸ”¸ è¦†ç›–ç‡ç›®æ ‡**

```
æµ‹è¯•è¦†ç›–ç‡æ ‡å‡†ï¼š
ğŸŸ¢ æ ¸å¿ƒä¸šåŠ¡ä»£ç ï¼š80%ä»¥ä¸Š
ğŸŸ¡ å·¥å…·ç±»ã€é€šç”¨ç»„ä»¶ï¼š70%ä»¥ä¸Š
âšª é…ç½®ç±»ã€å¸¸é‡ç±»ï¼šå¯ä¸è¦†ç›–
```

**å¦‚ä½•æŸ¥çœ‹è¦†ç›–ç‡**ï¼š
- IDEæ’ä»¶ï¼šIntelliJ IDEAè‡ªå¸¦è¦†ç›–ç‡ç»Ÿè®¡
- å·¥å…·ï¼šJaCoCoã€Cobertura
- æŒç»­é›†æˆï¼šé›†æˆåˆ°CI/CDæµç¨‹

> **âš ï¸ æ³¨æ„äº‹é¡¹**  
> è¦†ç›–ç‡åªæ˜¯æŒ‡æ ‡ï¼Œä¸æ˜¯ç›®çš„ï¼å…³é”®æ˜¯æµ‹è¯•çš„è´¨é‡ï¼Œè€Œä¸æ˜¯æ•°é‡ã€‚

---

## 4. ğŸ”„ å˜æ›´ç®¡ç†æµç¨‹



### 4.1 ä»€ä¹ˆæ˜¯å˜æ›´ç®¡ç†



> **ğŸ’¡ é€šä¿—ç†è§£**  
> å°±åƒè£…ä¿®æˆ¿å­è¦å…ˆæŠ¥å¤‡ã€åšæ–¹æ¡ˆã€å†æ–½å·¥ä¸€æ ·ï¼Œä»£ç çš„ä¿®æ”¹ä¹Ÿéœ€è¦æœ‰è®¡åˆ’ã€æœ‰å®¡æ‰¹ã€æœ‰è®°å½•ï¼Œé¿å…å‡ºä¹±å­ã€‚

**ä¸ºä»€ä¹ˆéœ€è¦å˜æ›´ç®¡ç†**ï¼š
```
æ²¡æœ‰å˜æ›´ç®¡ç†ï¼š
å¼€å‘Aæ”¹äº†æ¥å£å‚æ•° â†’ æ²¡é€šçŸ¥å¼€å‘B â†’ Bçš„ä»£ç æŠ¥é”™ â†’ çº¿ä¸Šæ•…éšœ
    â†“
ç”Ÿäº§äº‹æ•…

æœ‰å˜æ›´ç®¡ç†ï¼š
è®¡åˆ’å˜æ›´ â†’ è¯„ä¼°å½±å“ â†’ é€šçŸ¥ç›¸å…³æ–¹ â†’ ç°åº¦å‘å¸ƒ â†’ å…¨é‡ä¸Šçº¿
    â†“
å¹³ç¨³ä¸Šçº¿
```

### 4.2 å˜æ›´åˆ†ç±»ä¸æµç¨‹



**ğŸ”¸ å˜æ›´ç±»å‹åˆ†ç±»**

| å˜æ›´ç±»å‹ | è¯´æ˜ | å®¡æ‰¹æµç¨‹ | ç¤ºä¾‹ |
|---------|------|---------|------|
| ğŸŸ¢ **æ ‡å‡†å˜æ›´** | å¸¸è§„åŠŸèƒ½è¿­ä»£ | ç»ç†å®¡æ‰¹ | æ–°å¢ç”¨æˆ·å­—æ®µ |
| ğŸŸ¡ **ç´§æ€¥å˜æ›´** | çº¿ä¸ŠBugä¿®å¤ | å¿«é€Ÿé€šé“ | ä¿®å¤æ”¯ä»˜æ¼æ´ |
| ğŸ”´ **é‡å¤§å˜æ›´** | æ¶æ„è°ƒæ•´ | æŠ€æœ¯å§”å‘˜ä¼š | æ•°æ®åº“è¿ç§» |

**ğŸ”¸ æ ‡å‡†å˜æ›´æµç¨‹**

```
å˜æ›´ç”³è¯·é˜¶æ®µï¼š
    â†“
å¡«å†™å˜æ›´ç”³è¯·å•
â”œâ”€â”€ å˜æ›´å†…å®¹æè¿°
â”œâ”€â”€ å½±å“èŒƒå›´è¯„ä¼°
â”œâ”€â”€ å›æ»šæ–¹æ¡ˆ
â””â”€â”€ ä¸Šçº¿æ—¶é—´è®¡åˆ’
    â†“
å®¡æ‰¹é˜¶æ®µï¼š
    â†“
æŠ€æœ¯ç»ç†å®¡æ‰¹
    â†“
æµ‹è¯•ç¯å¢ƒéªŒè¯
    â†“
é¢„å‘å¸ƒç¯å¢ƒéªŒè¯
    â†“
ç”Ÿäº§ç¯å¢ƒå‘å¸ƒ
    â†“
ç›‘æ§è§‚å¯ŸæœŸï¼ˆ24å°æ—¶ï¼‰
```

### 4.3 å˜æ›´è¯„ä¼°æ£€æŸ¥è¡¨



**ğŸ”¸ å½±å“èŒƒå›´è¯„ä¼°**

> **ğŸ” å¿…é¡»å›ç­”çš„é—®é¢˜**
> - å“ªäº›æœåŠ¡ä¼šå—åˆ°å½±å“ï¼Ÿ
> - æ˜¯å¦éœ€è¦æ•°æ®åº“å˜æ›´ï¼Ÿ
> - æ˜¯å¦å½±å“å…¶ä»–å›¢é˜Ÿçš„æ¥å£ï¼Ÿ
> - æ˜¯å¦éœ€è¦åœæœºç»´æŠ¤ï¼Ÿ

**è¯„ä¼°ç»´åº¦**ï¼š
```
æŠ€æœ¯å½±å“è¯„ä¼°ï¼š
â”œâ”€â”€ æ€§èƒ½å½±å“ï¼šQPSã€RTæ˜¯å¦æœ‰å˜åŒ–ï¼Ÿ
â”œâ”€â”€ å­˜å‚¨å½±å“ï¼šæ˜¯å¦éœ€è¦æ‰©å®¹ï¼Ÿ
â”œâ”€â”€ ä¾èµ–å½±å“ï¼šä¸Šä¸‹æ¸¸æœåŠ¡æ˜¯å¦å…¼å®¹ï¼Ÿ
â””â”€â”€ æ•°æ®å½±å“ï¼šæ˜¯å¦éœ€è¦æ•°æ®è¿ç§»ï¼Ÿ

ä¸šåŠ¡å½±å“è¯„ä¼°ï¼š
â”œâ”€â”€ ç”¨æˆ·å½±å“ï¼šå¤šå°‘ç”¨æˆ·å—å½±å“ï¼Ÿ
â”œâ”€â”€ åŠŸèƒ½å½±å“ï¼šå“ªäº›åŠŸèƒ½ä¸å¯ç”¨ï¼Ÿ
â”œâ”€â”€ æ—¶é—´å½±å“ï¼šå½±å“æŒç»­å¤šä¹…ï¼Ÿ
â””â”€â”€ é£é™©è¯„ä¼°ï¼šæœ€åæƒ…å†µæ˜¯ä»€ä¹ˆï¼Ÿ
```

### 4.4 å›æ»šæ–¹æ¡ˆ



**ğŸ”¸ å›æ»šæ–¹æ¡ˆå¿…å¤‡è¦ç´ **

| è¦ç´  | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| è§¦å‘æ¡ä»¶ | ä»€ä¹ˆæƒ…å†µä¸‹å›æ»š | é”™è¯¯ç‡>1%ç«‹å³å›æ»š |
| å›æ»šæ­¥éª¤ | è¯¦ç»†çš„å›æ»šæ“ä½œ | 1.åœæ­¢æœåŠ¡ 2.åˆ‡æ¢ç‰ˆæœ¬ 3.é‡å¯ |
| å›æ»šæ—¶é•¿ | é¢„è®¡å›æ»šæ—¶é—´ | 5åˆ†é’Ÿå†…å®Œæˆå›æ»š |
| æ•°æ®å¤„ç† | æ•°æ®å¦‚ä½•æ¢å¤ | æ‰§è¡Œå›æ»šSQLè„šæœ¬ |

**å›æ»šæ“ä½œç¤ºä¾‹**ï¼š
```bash
# å¿«é€Ÿå›æ»šè„šæœ¬

#!/bin/bash


echo "å¼€å§‹å›æ»šåˆ°ä¸Šä¸€ç‰ˆæœ¬..."

# 1. åœæ­¢å½“å‰æœåŠ¡

docker stop order-service

# 2. åˆ‡æ¢åˆ°ä¸Šä¸€ç‰ˆæœ¬

docker tag order-service:v1.2.0 order-service:current

# 3. å¯åŠ¨æœåŠ¡

docker start order-service

# 4. å¥åº·æ£€æŸ¥

curl http://localhost:8080/health

echo "å›æ»šå®Œæˆï¼"
```

### 4.5 å˜æ›´è®°å½•ä¸è¿½æº¯



**ğŸ”¸ å˜æ›´è®°å½•æ¨¡æ¿**

```markdown
# å˜æ›´è®°å½• #2023-09-23-001



**å˜æ›´ç±»å‹**ï¼šæ ‡å‡†å˜æ›´  
**å˜æ›´æ—¶é—´**ï¼š2023-09-23 10:00  
**å˜æ›´äººå‘˜**ï¼šå¼ ä¸‰  
**å®¡æ‰¹äººå‘˜**ï¼šæå››

## å˜æ›´å†…å®¹


- ç”¨æˆ·æœåŠ¡æ–°å¢ç§¯åˆ†å­—æ®µ
- ä¿®æ”¹è®¢å•æ¥å£è¿”å›ç»“æ„

## å½±å“èŒƒå›´


- ç”¨æˆ·æœåŠ¡ï¼šæ–°å¢å­—æ®µ
- è®¢å•æœåŠ¡ï¼šæ¥å£å˜æ›´
- å‰ç«¯ï¼šéœ€è¦é€‚é…æ–°å­—æ®µ

## æµ‹è¯•æƒ…å†µ


âœ… å•å…ƒæµ‹è¯•é€šè¿‡  
âœ… é›†æˆæµ‹è¯•é€šè¿‡  
âœ… é¢„å‘å¸ƒéªŒè¯é€šè¿‡

## ä¸Šçº¿ç»“æœ


ğŸŸ¢ æˆåŠŸä¸Šçº¿ï¼Œæ— å¼‚å¸¸
```

**å˜æ›´è¿½æº¯å·¥å…·**ï¼š
- Gitæäº¤è®°å½•ï¼šå…³è”å˜æ›´å•å·
- Jiraå·¥å•ï¼šè®°å½•éœ€æ±‚å’Œå˜æ›´
- éƒ¨ç½²å¹³å°ï¼šè®°å½•å‘å¸ƒå†å²
- ç›‘æ§å‘Šè­¦ï¼šè§‚å¯Ÿå˜æ›´åæŒ‡æ ‡

---

## 5. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“



### 5.1 æ¥å£è®¾è®¡å…³é”®ç‚¹



> **ğŸ¯ æ ¸å¿ƒè®°å¿†**
> - RESTfulè§„èŒƒï¼šURLç”¨åè¯ï¼Œæ–¹æ³•ç”¨HTTPåŠ¨è¯
> - ç»Ÿä¸€å“åº”ï¼šæˆåŠŸå¤±è´¥éƒ½ç”¨ç›¸åŒç»“æ„
> - æ–‡æ¡£å…ˆè¡Œï¼šå…ˆå†™æ–‡æ¡£å†å†™ä»£ç 

**æ¥å£è®¾è®¡å£è¯€**ï¼š
```
URLè·¯å¾„ç”¨åè¯ï¼Œæ–¹æ³•GET POSTåˆ†æ¸…æ¥š
å‚æ•°å‘½åé©¼å³°å¼ï¼Œå“åº”æ ¼å¼è¦ç»Ÿä¸€
æ–‡æ¡£æ³¨è§£å†™è¯¦ç»†ï¼Œå‰åç«¯å¯¹æ¥æ— éšœç¢
```

### 5.2 Code Reviewè¦ç‚¹



> **ğŸ¯ æ ¸å¿ƒè®°å¿†**
> - è§„èŒƒæ£€æŸ¥ï¼šå‘½åã€æ ¼å¼ã€æ³¨é‡Š
> - é€»è¾‘æ£€æŸ¥ï¼šè¾¹ç•Œã€å¼‚å¸¸ã€æ€§èƒ½
> - å®‰å…¨æ£€æŸ¥ï¼šSQLæ³¨å…¥ã€XSSã€æƒé™

**Reviewæ£€æŸ¥å£è¯€**ï¼š
```
ä»£ç è§„èŒƒç¬¬ä¸€çœ‹ï¼Œå‘½åæ ¼å¼è¦è§„èŒƒ
é€»è¾‘æ­£ç¡®ä»”ç»†æŸ¥ï¼Œè¾¹ç•Œå¼‚å¸¸åˆ«è½ä¸‹
æ€§èƒ½å®‰å…¨è¦é‡è§†ï¼Œå›¢é˜Ÿä»£ç å…±æå‡
```

### 5.3 æµ‹è¯•ç­–ç•¥è¦ç‚¹



> **ğŸ¯ æ ¸å¿ƒè®°å¿†**
> - æµ‹è¯•é‡‘å­—å¡”ï¼šå•å…ƒ70%ã€é›†æˆ20%ã€E2E 10%
> - FIRSTåŸåˆ™ï¼šå¿«é€Ÿã€ç‹¬ç«‹ã€å¯é‡å¤
> - è¦†ç›–ç‡ç›®æ ‡ï¼šæ ¸å¿ƒä»£ç 80%ä»¥ä¸Š

**æµ‹è¯•ç­–ç•¥é‡‘å­—å¡”**ï¼š
```
       E2E
      /  \
    é›†æˆæµ‹è¯•
   /      \
  å•å…ƒæµ‹è¯•åŸºç¡€
```

### 5.4 å˜æ›´ç®¡ç†è¦ç‚¹



> **ğŸ¯ æ ¸å¿ƒè®°å¿†**
> - å˜æ›´è¯„ä¼°ï¼šå½±å“èŒƒå›´ã€é£é™©åˆ†æ
> - æµç¨‹è§„èŒƒï¼šç”³è¯·ã€å®¡æ‰¹ã€éªŒè¯ã€ä¸Šçº¿
> - åº”æ€¥å‡†å¤‡ï¼šå›æ»šæ–¹æ¡ˆã€ç›‘æ§å‘Šè­¦

**å˜æ›´ç®¡ç†å£è¯€**ï¼š
```
å˜æ›´ä¹‹å‰åšè¯„ä¼°ï¼Œå½±å“èŒƒå›´è¦ææ¸…
å®¡æ‰¹æµç¨‹èµ°è§„èŒƒï¼Œæµ‹è¯•éªŒè¯ä¸èƒ½çœ
å›æ»šæ–¹æ¡ˆè¦å‡†å¤‡ï¼Œä¸Šçº¿ç›‘æ§ç´§ç›¯ä½
```

### 5.5 å›¢é˜Ÿåä½œæ ¸å¿ƒä»·å€¼



**ğŸŒŸ ä¸ºä»€ä¹ˆè¿™äº›è§„èŒƒå¦‚æ­¤é‡è¦**ï¼š

```
ä¸ªäººå¼€å‘ vs å›¢é˜Ÿåä½œï¼š

ä¸ªäººå¼€å‘ï¼š
æƒ³æ€ä¹ˆå†™å°±æ€ä¹ˆå†™ â†’ è‡ªå·±çœ‹å¾—æ‡‚å°±è¡Œ

å›¢é˜Ÿåä½œï¼š
ç»Ÿä¸€è§„èŒƒ â†’ äº’ç›¸ç†è§£ â†’ é«˜æ•ˆåä½œ
    â†“         â†“         â†“
 æ¥å£è§„èŒƒ   ä»£ç å®¡æŸ¥   æµ‹è¯•ä¿éšœ
    â†“         â†“         â†“
è´¨é‡ä¿è¯   çŸ¥è¯†å…±äº«   é£é™©å¯æ§
```

**å®è·µå»ºè®®**ï¼š
- [ ] æ–°äººå…¥èŒï¼šå­¦ä¹ å›¢é˜Ÿè§„èŒƒæ–‡æ¡£
- [ ] æ—¥å¸¸å¼€å‘ï¼šéµå®ˆæ¥å£å’Œä»£ç è§„èŒƒ
- [ ] æäº¤ä»£ç ï¼šå¿…é¡»é€šè¿‡Review
- [ ] åŠŸèƒ½ä¸Šçº¿ï¼šèµ°å®Œæ•´å˜æ›´æµç¨‹
- [ ] æŒç»­æ”¹è¿›ï¼šå®šæœŸå¤ç›˜ä¼˜åŒ–è§„èŒƒ

> **ğŸ’ª æœ€åçš„è¯**  
> è¿™äº›è§„èŒƒçœ‹ä¼¼ç¹çï¼Œä½†å°±åƒäº¤é€šè§„åˆ™ä¸€æ ·ï¼Œæ˜¯ä¸ºäº†è®©å¤§å®¶èƒ½å¤Ÿå®‰å…¨ã€é«˜æ•ˆåœ°åä½œã€‚åˆšå¼€å§‹å¯èƒ½ä¸ä¹ æƒ¯ï¼Œä½†åšæŒä¸‹æ¥ï¼Œä½ ä¼šå‘ç°å›¢é˜Ÿçš„å¼€å‘æ•ˆç‡å’Œä»£ç è´¨é‡éƒ½ä¼šå¤§å¹…æå‡ï¼

---

**ğŸ”— ç›¸å…³ä¸»é¢˜æ¨è**ï¼š
- å¾®æœåŠ¡APIç½‘å…³è®¾è®¡
- åˆ†å¸ƒå¼äº‹åŠ¡å¤„ç†
- æœåŠ¡ç›‘æ§ä¸å‘Šè­¦
- DevOpså®è·µæŒ‡å—