---
title: 1ã€SpringCloudç”µå•†ç³»ç»Ÿè¿½è¸ªå®æˆ˜
---
## ğŸ“š ç›®å½•

1. [ç”µå•†ç³»ç»Ÿæ¶æ„ä¸è¿½è¸ªéœ€æ±‚](#1-ç”µå•†ç³»ç»Ÿæ¶æ„ä¸è¿½è¸ªéœ€æ±‚)
2. [è®¢å•é“¾è·¯è¿½è¸ªå®æˆ˜](#2-è®¢å•é“¾è·¯è¿½è¸ªå®æˆ˜)
3. [æ”¯ä»˜æµç¨‹ç›‘æ§](#3-æ”¯ä»˜æµç¨‹ç›‘æ§)
4. [åº“å­˜æœåŠ¡ç›‘æ§](#4-åº“å­˜æœåŠ¡ç›‘æ§)
5. [ç”¨æˆ·æœåŠ¡è¿½è¸ª](#5-ç”¨æˆ·æœåŠ¡è¿½è¸ª)
6. [è´­ç‰©è½¦è¿½è¸ªä¼˜åŒ–](#6-è´­ç‰©è½¦è¿½è¸ªä¼˜åŒ–)
7. [å•†å“æœåŠ¡ç›‘æ§](#7-å•†å“æœåŠ¡ç›‘æ§)
8. [æ€§èƒ½ä¼˜åŒ–å®è·µ](#8-æ€§èƒ½ä¼˜åŒ–å®è·µ)
9. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#9-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸª ç”µå•†ç³»ç»Ÿæ¶æ„ä¸è¿½è¸ªéœ€æ±‚


### 1.1 ç”µå•†ç³»ç»Ÿä¸šåŠ¡åœºæ™¯


**ä»€ä¹ˆæ˜¯ç”µå•†ç³»ç»Ÿçš„å¾®æœåŠ¡æ¶æ„ï¼Ÿ**

> **ğŸ’¡ é€šä¿—ç†è§£**
> å°±åƒä¸€ä¸ªå¤§å•†åœºï¼Œä¸æ˜¯æ‰€æœ‰ä¸šåŠ¡éƒ½åœ¨ä¸€ä¸ªæŸœå°åŠç†ï¼Œè€Œæ˜¯åˆ†æˆäº†ä¸åŒçš„éƒ¨é—¨ï¼š
> - **ç”¨æˆ·éƒ¨é—¨**ï¼šç®¡ç†ç”¨æˆ·ç™»å½•ã€æ³¨å†Œã€ä¸ªäººä¿¡æ¯
> - **å•†å“éƒ¨é—¨**ï¼šå±•ç¤ºå•†å“ã€ç®¡ç†åº“å­˜
> - **è´­ç‰©è½¦éƒ¨é—¨**ï¼šæ·»åŠ å•†å“ã€è®¡ç®—ä»·æ ¼
> - **è®¢å•éƒ¨é—¨**ï¼šåˆ›å»ºè®¢å•ã€è®¢å•æŸ¥è¯¢
> - **æ”¯ä»˜éƒ¨é—¨**ï¼šå¤„ç†æ”¯ä»˜ã€é€€æ¬¾
> 
> æ¯ä¸ªéƒ¨é—¨ç‹¬ç«‹å·¥ä½œï¼Œä½†éœ€è¦äº’ç›¸é…åˆå®Œæˆä¸€ç¬”äº¤æ˜“

**å…¸å‹çš„ç”µå•†ä¸šåŠ¡æµç¨‹ï¼š**

```
ç”¨æˆ·è´­ç‰©å®Œæ•´æµç¨‹ï¼š

1ï¸âƒ£ ç”¨æˆ·ç™»å½• (User Service)
   â†“
2ï¸âƒ£ æµè§ˆå•†å“ (Product Service)
   â†“
3ï¸âƒ£ åŠ å…¥è´­ç‰©è½¦ (Cart Service)
   â†“
4ï¸âƒ£ åˆ›å»ºè®¢å• (Order Service) â†’ æ£€æŸ¥åº“å­˜ (Inventory Service)
   â†“
5ï¸âƒ£ å‘èµ·æ”¯ä»˜ (Payment Service)
   â†“
6ï¸âƒ£ æ‰£å‡åº“å­˜ (Inventory Service)
   â†“
7ï¸âƒ£ è®¢å•å®Œæˆ
```

### 1.2 ä¸ºä»€ä¹ˆéœ€è¦åˆ†å¸ƒå¼è¿½è¸ªï¼Ÿ


**ğŸ”¸ ä¸šåŠ¡åœºæ™¯ä¸­çš„ç—›ç‚¹ï¼š**

å‡è®¾ç”¨æˆ·åé¦ˆï¼š"æˆ‘ä¸‹å•åæ”¯ä»˜å¤±è´¥äº†ï¼"

**æ²¡æœ‰è¿½è¸ªç³»ç»Ÿæ—¶ï¼š**
- âŒ ä¸çŸ¥é“è¯·æ±‚ç»è¿‡äº†å“ªäº›æœåŠ¡
- âŒ ä¸çŸ¥é“åœ¨å“ªä¸ªç¯èŠ‚å¤±è´¥çš„
- âŒ å„ä¸ªæœåŠ¡çš„æ—¥å¿—åˆ†æ•£åœ¨ä¸åŒæœºå™¨
- âŒ æ’æŸ¥é—®é¢˜éœ€è¦ç™»å½•å¤šå°æœåŠ¡å™¨æŸ¥æ—¥å¿—

**æœ‰äº†SkyWalkingè¿½è¸ªåï¼š**
- âœ… ä¸€çœ¼çœ‹åˆ°å®Œæ•´çš„è°ƒç”¨é“¾è·¯
- âœ… å‡†ç¡®å®šä½å¤±è´¥çš„æœåŠ¡å’Œå…·ä½“åŸå› 
- âœ… æŸ¥çœ‹æ¯ä¸ªç¯èŠ‚çš„è€—æ—¶
- âœ… æ‰€æœ‰æ—¥å¿—é›†ä¸­å±•ç¤º

### 1.3 ç”µå•†ç³»ç»Ÿæ¶æ„å›¾


```
                        [ç”¨æˆ·æµè§ˆå™¨]
                             |
                             â†“
                    [API Gateway ç½‘å…³]
                             |
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â†“                    â†“                    â†“
   [User Service]      [Product Service]    [Cart Service]
   ç”¨æˆ·æœåŠ¡            å•†å“æœåŠ¡              è´­ç‰©è½¦æœåŠ¡
        |                    |                    |
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â†“
                      [Order Service]
                        è®¢å•æœåŠ¡
                             |
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â†“                 â†“
            [Payment Service]  [Inventory Service]
             æ”¯ä»˜æœåŠ¡           åº“å­˜æœåŠ¡
                    |                 |
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â†“
                      [Database æ•°æ®åº“]

æ¯ä¸ªæœåŠ¡éƒ½é›†æˆ SkyWalking Agent è¿›è¡Œè¿½è¸ª
```

**ğŸ¯ å…³é”®ç›‘æ§ç‚¹ï¼š**
- ç”¨æˆ·ç™»å½•æˆåŠŸç‡
- å•†å“æŸ¥è¯¢å“åº”æ—¶é—´
- è´­ç‰©è½¦æ“ä½œæˆåŠŸç‡
- è®¢å•åˆ›å»ºå®Œæˆç‡
- æ”¯ä»˜æˆåŠŸç‡ï¼ˆæ ¸å¿ƒæŒ‡æ ‡ï¼‰
- åº“å­˜æ‰£å‡å‡†ç¡®æ€§

---

## 2. ğŸ“¦ è®¢å•é“¾è·¯è¿½è¸ªå®æˆ˜


### 2.1 è®¢å•æœåŠ¡æ ¸å¿ƒä¸šåŠ¡


**è®¢å•åˆ›å»ºçš„å®Œæ•´æµç¨‹ï¼š**

```
è®¢å•æœåŠ¡æ”¶åˆ°è¯·æ±‚ 
  â†“
â‘  éªŒè¯ç”¨æˆ·ä¿¡æ¯ (è°ƒç”¨ User Service)
  â†“
â‘¡ æ£€æŸ¥å•†å“ä¿¡æ¯ (è°ƒç”¨ Product Service)
  â†“
â‘¢ éªŒè¯åº“å­˜å……è¶³ (è°ƒç”¨ Inventory Service)
  â†“
â‘£ è®¡ç®—è®¢å•é‡‘é¢
  â†“
â‘¤ ä¿å­˜è®¢å•åˆ°æ•°æ®åº“
  â†“
â‘¥ è¿”å›è®¢å•å·ç»™ç”¨æˆ·
```

### 2.2 è®¢å•æœåŠ¡ä»£ç ç¤ºä¾‹


```java
@Service
public class OrderService {
    
    @Autowired
    private UserServiceClient userClient;
    
    @Autowired
    private ProductServiceClient productClient;
    
    @Autowired
    private InventoryServiceClient inventoryClient;
    
    /**
     * åˆ›å»ºè®¢å• - è¿™ä¸ªæ–¹æ³•ä¼šè¢«SkyWalkingè‡ªåŠ¨è¿½è¸ª
     */
    public OrderDTO createOrder(OrderRequest request) {
        // â‘  éªŒè¯ç”¨æˆ·
        UserDTO user = userClient.getUserById(request.getUserId());
        if (user == null) {
            throw new BusinessException("ç”¨æˆ·ä¸å­˜åœ¨");
        }
        
        // â‘¡ æ£€æŸ¥å•†å“
        ProductDTO product = productClient.getProductById(request.getProductId());
        if (product == null) {
            throw new BusinessException("å•†å“ä¸å­˜åœ¨");
        }
        
        // â‘¢ æ£€æŸ¥åº“å­˜
        boolean hasStock = inventoryClient.checkStock(
            request.getProductId(), 
            request.getQuantity()
        );
        if (!hasStock) {
            throw new BusinessException("åº“å­˜ä¸è¶³");
        }
        
        // â‘£ è®¡ç®—é‡‘é¢
        BigDecimal totalAmount = product.getPrice()
            .multiply(new BigDecimal(request.getQuantity()));
        
        // â‘¤ ä¿å­˜è®¢å•
        Order order = new Order();
        order.setUserId(request.getUserId());
        order.setProductId(request.getProductId());
        order.setQuantity(request.getQuantity());
        order.setTotalAmount(totalAmount);
        order.setStatus("CREATED");
        orderRepository.save(order);
        
        return convertToDTO(order);
    }
}
```

### 2.3 åœ¨SkyWalkingä¸­è§‚å¯Ÿè®¢å•é“¾è·¯


**ğŸ” è¿½è¸ªä¿¡æ¯å±•ç¤ºï¼š**

| æ­¥éª¤ | **æœåŠ¡åç§°** | **æ“ä½œ** | **è€—æ—¶** | **çŠ¶æ€** |
|------|------------|---------|---------|---------|
| 1 | `order-service` | `createOrder` | `5ms` | âœ… æˆåŠŸ |
| 2 | `user-service` | `getUserById` | `12ms` | âœ… æˆåŠŸ |
| 3 | `product-service` | `getProductById` | `8ms` | âœ… æˆåŠŸ |
| 4 | `inventory-service` | `checkStock` | `15ms` | âœ… æˆåŠŸ |
| 5 | `order-service` | `save to DB` | `20ms` | âœ… æˆåŠŸ |
| **æ€»è®¡** | - | - | **60ms** | âœ… æˆåŠŸ |

> **ğŸ’¡ å®æˆ˜æŠ€å·§**
> ä»è¿½è¸ªæ•°æ®å¯ä»¥çœ‹å‡ºï¼Œåº“å­˜æ£€æŸ¥ï¼ˆ15msï¼‰å’Œæ•°æ®åº“ä¿å­˜ï¼ˆ20msï¼‰æ˜¯æœ€è€—æ—¶çš„æ“ä½œï¼Œè¿™å°±æ˜¯ä¼˜åŒ–çš„é‡ç‚¹æ–¹å‘

### 2.4 è®¢å•å¼‚å¸¸åœºæ™¯è¿½è¸ª


**åœºæ™¯ï¼šè®¢å•åˆ›å»ºå¤±è´¥**

```
è¿½è¸ªé“¾è·¯æ˜¾ç¤ºï¼š

order-service (5ms) âœ…
  â””â†’ user-service (12ms) âœ…
  â””â†’ product-service (8ms) âœ…
  â””â†’ inventory-service (15ms) âŒ å¤±è´¥
      â””â†’ é”™è¯¯ä¿¡æ¯ï¼šåº“å­˜ä¸è¶³
      â””â†’ å¼‚å¸¸å †æ ˆï¼šStockNotFoundException...
```

**ğŸ”§ é—®é¢˜å®šä½ï¼š**
- **å¤±è´¥èŠ‚ç‚¹**ï¼šinventory-service
- **å¤±è´¥åŸå› **ï¼šåº“å­˜ä¸è¶³
- **å½±å“èŒƒå›´**ï¼šè®¢å•åˆ›å»ºå¤±è´¥ï¼Œä½†æ²¡æœ‰æ‰£åº“å­˜ï¼Œæ•°æ®ä¸€è‡´

---

## 3. ğŸ’° æ”¯ä»˜æµç¨‹ç›‘æ§


### 3.1 æ”¯ä»˜ä¸šåŠ¡çš„å¤æ‚æ€§


**ä¸ºä»€ä¹ˆæ”¯ä»˜éœ€è¦é‡ç‚¹ç›‘æ§ï¼Ÿ**

> **âš ï¸ æ ¸å¿ƒåŸå› **
> - æ¶‰åŠçœŸå®èµ„é‡‘æµåŠ¨ï¼Œå‡ºé”™å½±å“å·¨å¤§
> - è°ƒç”¨ç¬¬ä¸‰æ–¹æ”¯ä»˜æ¥å£ï¼Œå¤–éƒ¨ä¾èµ–å¤š
> - éœ€è¦å¤„ç†å„ç§å¼‚å¸¸æƒ…å†µï¼ˆè¶…æ—¶ã€é‡å¤æ”¯ä»˜ç­‰ï¼‰
> - å¿…é¡»ä¿è¯è®¢å•çŠ¶æ€å’Œæ”¯ä»˜çŠ¶æ€ä¸€è‡´

**æ”¯ä»˜å®Œæ•´æµç¨‹ï¼š**

```
ç”¨æˆ·ç‚¹å‡»æ”¯ä»˜æŒ‰é’®
  â†“
â‘  è®¢å•æœåŠ¡ï¼šéªŒè¯è®¢å•çŠ¶æ€
  â†“
â‘¡ æ”¯ä»˜æœåŠ¡ï¼šåˆ›å»ºæ”¯ä»˜è®°å½•
  â†“
â‘¢ æ”¯ä»˜æœåŠ¡ï¼šè°ƒç”¨ç¬¬ä¸‰æ–¹æ”¯ä»˜ï¼ˆæ”¯ä»˜å®/å¾®ä¿¡ï¼‰
  â†“
â‘£ ç­‰å¾…æ”¯ä»˜å›è°ƒ
  â†“
â‘¤ æ”¯ä»˜æœåŠ¡ï¼šæ›´æ–°æ”¯ä»˜çŠ¶æ€
  â†“
â‘¥ è®¢å•æœåŠ¡ï¼šæ›´æ–°è®¢å•çŠ¶æ€ä¸º"å·²æ”¯ä»˜"
  â†“
â‘¦ åº“å­˜æœåŠ¡ï¼šæ‰£å‡åº“å­˜
```

### 3.2 æ”¯ä»˜æœåŠ¡ä»£ç ç¤ºä¾‹


```java
@Service
public class PaymentService {
    
    @Autowired
    private OrderServiceClient orderClient;
    
    @Autowired
    private ThirdPartyPayClient payClient;
    
    /**
     * å‘èµ·æ”¯ä»˜ - å…³é”®ä¸šåŠ¡ï¼Œé‡ç‚¹è¿½è¸ª
     */
    @Traced(operationName = "initiatePayment") // è‡ªå®šä¹‰è¿½è¸ªåç§°
    public PaymentDTO initiatePayment(PaymentRequest request) {
        // â‘  éªŒè¯è®¢å•
        OrderDTO order = orderClient.getOrder(request.getOrderId());
        if (!"CREATED".equals(order.getStatus())) {
            throw new BusinessException("è®¢å•çŠ¶æ€å¼‚å¸¸ï¼Œæ— æ³•æ”¯ä»˜");
        }
        
        // â‘¡ åˆ›å»ºæ”¯ä»˜è®°å½•
        Payment payment = new Payment();
        payment.setOrderId(request.getOrderId());
        payment.setAmount(order.getTotalAmount());
        payment.setStatus("PENDING");
        paymentRepository.save(payment);
        
        // â‘¢ è°ƒç”¨ç¬¬ä¸‰æ–¹æ”¯ä»˜ - è¿™é‡Œå¯èƒ½å¾ˆæ…¢
        try {
            ThirdPartyResponse response = payClient.pay(
                payment.getId(),
                payment.getAmount(),
                request.getPayChannel() // æ”¯ä»˜å®/å¾®ä¿¡
            );
            
            payment.setThirdPartyId(response.getPayId());
            payment.setPayUrl(response.getPayUrl());
            paymentRepository.save(payment);
            
            return convertToDTO(payment);
            
        } catch (Exception e) {
            payment.setStatus("FAILED");
            paymentRepository.save(payment);
            throw new PaymentException("æ”¯ä»˜å‘èµ·å¤±è´¥", e);
        }
    }
    
    /**
     * å¤„ç†æ”¯ä»˜å›è°ƒ
     */
    public void handleCallback(PaymentCallback callback) {
        Payment payment = paymentRepository.findById(callback.getPaymentId());
        
        if ("SUCCESS".equals(callback.getStatus())) {
            // æ”¯ä»˜æˆåŠŸ
            payment.setStatus("SUCCESS");
            paymentRepository.save(payment);
            
            // é€šçŸ¥è®¢å•æœåŠ¡
            orderClient.updateOrderStatus(payment.getOrderId(), "PAID");
            
            // æ‰£å‡åº“å­˜
            inventoryClient.deductStock(order.getProductId(), order.getQuantity());
        }
    }
}
```

### 3.3 æ”¯ä»˜ç›‘æ§å…³é”®æŒ‡æ ‡


**ğŸ“Š æ ¸å¿ƒç›‘æ§æŒ‡æ ‡ï¼š**

| æŒ‡æ ‡åç§° | **æ­£å¸¸å€¼** | **å‘Šè­¦é˜ˆå€¼** | **è¯´æ˜** |
|---------|-----------|------------|---------|
| æ”¯ä»˜æˆåŠŸç‡ | `>99%` | `<95%` | ä½äº95%ç«‹å³å‘Šè­¦ |
| ç¬¬ä¸‰æ–¹æ¥å£å“åº”æ—¶é—´ | `<2s` | `>5s` | è¶…è¿‡5ç§’å½±å“ç”¨æˆ·ä½“éªŒ |
| æ”¯ä»˜å›è°ƒå»¶è¿Ÿ | `<30s` | `>60s` | å½±å“è®¢å•çŠ¶æ€æ›´æ–° |
| é‡å¤æ”¯ä»˜æ¬¡æ•° | `0` | `>0` | å‘ç°ç«‹å³å¤„ç† |

**ğŸ” SkyWalkingè¿½è¸ªç¤ºä¾‹ï¼š**

```
æ”¯ä»˜æˆåŠŸåœºæ™¯ï¼š
payment-service (1850ms) âœ…
  â””â†’ order-service::getOrder (10ms) âœ…
  â””â†’ DB::save payment (5ms) âœ…
  â””â†’ third-party::alipay (1800ms) âœ… â† è€—æ—¶æœ€é•¿
  â””â†’ DB::update payment (8ms) âœ…

å…³é”®å‘ç°ï¼šç¬¬ä¸‰æ–¹æ”¯ä»˜æ¥å£å ç”¨äº†97%çš„æ—¶é—´
ä¼˜åŒ–æ–¹å‘ï¼šå¼‚æ­¥å¤„ç†ã€å¢åŠ è¶…æ—¶æ§åˆ¶
```

---

## 4. ğŸ“¦ åº“å­˜æœåŠ¡ç›‘æ§


### 4.1 åº“å­˜æœåŠ¡çš„å…³é”®é—®é¢˜


**ä¸ºä»€ä¹ˆåº“å­˜ç›‘æ§å¾ˆé‡è¦ï¼Ÿ**

> **ğŸ’¡ æ ¸å¿ƒç†è§£**
> åº“å­˜æ˜¯ç”µå•†çš„æ ¸å¿ƒèµ„æºï¼Œå‡ºç°é—®é¢˜ä¼šå¯¼è‡´ï¼š
> - **è¶…å–**ï¼šåº“å­˜ä¸º0è¿˜åœ¨å–ï¼Œå¯¼è‡´æ— æ³•å‘è´§
> - **å°‘å–**ï¼šæœ‰åº“å­˜å´æ˜¾ç¤ºç¼ºè´§ï¼ŒæŸå¤±é”€å”®æœºä¼š
> - **æ•°æ®ä¸ä¸€è‡´**ï¼šè®¢å•å’Œåº“å­˜å¯¹ä¸ä¸Š

**åº“å­˜æ“ä½œåœºæ™¯ï¼š**

```
åº“å­˜æœåŠ¡ä¸»è¦æ“ä½œï¼š

ğŸ”¸ æŸ¥è¯¢åº“å­˜ (checkStock)
   - ç”¨æˆ·ä¸‹å•å‰æ£€æŸ¥
   - é«˜å¹¶å‘åœºæ™¯
   
ğŸ”¸ é”å®šåº“å­˜ (lockStock)
   - è®¢å•åˆ›å»ºæ—¶é¢„å 
   - é˜²æ­¢è¶…å–
   
ğŸ”¸ æ‰£å‡åº“å­˜ (deductStock)
   - æ”¯ä»˜æˆåŠŸåçœŸæ­£æ‰£é™¤
   - å¿…é¡»å‡†ç¡®
   
ğŸ”¸ é‡Šæ”¾åº“å­˜ (releaseStock)
   - è®¢å•å–æ¶ˆæ—¶å½’è¿˜
   - è¶…æ—¶æœªæ”¯ä»˜æ—¶å½’è¿˜
```

### 4.2 åº“å­˜æœåŠ¡ä»£ç ç¤ºä¾‹


```java
@Service
public class InventoryService {
    
    @Autowired
    private RedisTemplate<String, Integer> redisTemplate;
    
    /**
     * æ£€æŸ¥åº“å­˜ - é«˜é¢‘è°ƒç”¨ï¼Œéœ€è¦ä¼˜åŒ–
     */
    public boolean checkStock(Long productId, Integer quantity) {
        String key = "stock:" + productId;
        Integer stock = redisTemplate.opsForValue().get(key);
        
        if (stock == null) {
            // ä»æ•°æ®åº“åŠ è½½
            stock = loadStockFromDB(productId);
            redisTemplate.opsForValue().set(key, stock);
        }
        
        return stock >= quantity;
    }
    
    /**
     * æ‰£å‡åº“å­˜ - å…³é”®æ“ä½œï¼Œå¿…é¡»å‡†ç¡®
     */
    @Transactional
    public void deductStock(Long productId, Integer quantity) {
        String key = "stock:" + productId;
        
        // RedisåŸå­æ“ä½œ
        Long result = redisTemplate.opsForValue().decrement(key, quantity);
        
        if (result < 0) {
            // å›æ»š
            redisTemplate.opsForValue().increment(key, quantity);
            throw new StockException("åº“å­˜ä¸è¶³");
        }
        
        // åŒæ­¥åˆ°æ•°æ®åº“
        updateStockInDB(productId, quantity);
    }
}
```

### 4.3 åº“å­˜å¼‚å¸¸è¿½è¸ªæ¡ˆä¾‹


**åœºæ™¯ï¼šå‘ç°åº“å­˜æ•°æ®ä¸ä¸€è‡´**

```
SkyWalkingè¿½è¸ªå‘ç°ï¼š

11:23:45 - order-service åˆ›å»ºè®¢å•æˆåŠŸ
11:23:46 - inventory-service é”å®šåº“å­˜ (product_id=100, qty=5) âœ…
11:23:50 - payment-service æ”¯ä»˜è¶…æ—¶ âŒ
11:24:00 - inventory-service é‡Šæ”¾åº“å­˜å¤±è´¥ âŒ
            â””â†’ Redisè¿æ¥è¶…æ—¶
            â””â†’ åº“å­˜æœªå½’è¿˜

ç»“æœï¼šè®¢å•å–æ¶ˆäº†ï¼Œä½†åº“å­˜æ²¡æœ‰é‡Šæ”¾ â†’ å°‘å–
```

**ğŸ”§ è§£å†³æ–¹æ¡ˆï¼š**
- å¢åŠ Redisè¿æ¥æ± ç›‘æ§
- åº“å­˜æ“ä½œå¢åŠ é‡è¯•æœºåˆ¶
- å®šæ—¶ä»»åŠ¡æ ¡éªŒåº“å­˜ä¸€è‡´æ€§

---

## 5. ğŸ‘¤ ç”¨æˆ·æœåŠ¡è¿½è¸ª


### 5.1 ç”¨æˆ·æœåŠ¡çš„ç›‘æ§é‡ç‚¹


**ç”¨æˆ·æœåŠ¡åŒ…å«å“ªäº›åŠŸèƒ½ï¼Ÿ**

```
ç”¨æˆ·æœåŠ¡æ ¸å¿ƒåŠŸèƒ½ï¼š

ğŸ”¸ ç”¨æˆ·è®¤è¯
   - ç™»å½• (login)
   - æ³¨å†Œ (register)
   - éªŒè¯Token (validateToken)
   
ğŸ”¸ ç”¨æˆ·ä¿¡æ¯
   - è·å–ç”¨æˆ·ä¿¡æ¯ (getUserInfo)
   - æ›´æ–°ç”¨æˆ·ä¿¡æ¯ (updateUserInfo)
   
ğŸ”¸ æƒé™éªŒè¯
   - æ£€æŸ¥ç”¨æˆ·æƒé™ (checkPermission)
   - è·å–ç”¨æˆ·è§’è‰² (getUserRoles)
```

**ä¸ºä»€ä¹ˆè¦è¿½è¸ªç”¨æˆ·æœåŠ¡ï¼Ÿ**

> **âš ï¸ å®‰å…¨ä¸æ€§èƒ½å¹¶é‡**
> - ç”¨æˆ·ç™»å½•æ˜¯å…¥å£ï¼Œå¤±è´¥ç‡å½±å“æ•´ä½“ä¸šåŠ¡
> - TokenéªŒè¯é¢‘ç¹è°ƒç”¨ï¼Œæ€§èƒ½è¦æ±‚é«˜
> - éœ€è¦ç›‘æ§å¼‚å¸¸ç™»å½•è¡Œä¸ºï¼ˆæš´åŠ›ç ´è§£ç­‰ï¼‰

### 5.2 ç”¨æˆ·è®¤è¯è¿½è¸ª


```java
@Service
public class UserService {
    
    /**
     * ç”¨æˆ·ç™»å½• - éœ€è¦ç›‘æ§æˆåŠŸç‡
     */
    @Traced(operationName = "userLogin")
    public LoginResponse login(LoginRequest request) {
        // â‘  æŸ¥è¯¢ç”¨æˆ·
        User user = userRepository.findByUsername(request.getUsername());
        if (user == null) {
            // è®°å½•å¤±è´¥æ—¥å¿—
            log.warn("ç”¨æˆ·ä¸å­˜åœ¨: {}", request.getUsername());
            throw new AuthException("ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯");
        }
        
        // â‘¡ éªŒè¯å¯†ç 
        if (!passwordEncoder.matches(request.getPassword(), user.getPassword())) {
            log.warn("å¯†ç é”™è¯¯: {}", request.getUsername());
            throw new AuthException("ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯");
        }
        
        // â‘¢ ç”ŸæˆToken
        String token = jwtService.generateToken(user.getId());
        
        // â‘£ æ›´æ–°ç™»å½•æ—¶é—´
        user.setLastLoginTime(new Date());
        userRepository.save(user);
        
        return new LoginResponse(token, user.getId());
    }
}
```

**ğŸ“Š ç™»å½•ç›‘æ§æŒ‡æ ‡ï¼š**

| æ—¶é—´æ®µ | **ç™»å½•è¯·æ±‚** | **æˆåŠŸ** | **å¤±è´¥** | **æˆåŠŸç‡** | **å¹³å‡è€—æ—¶** |
|-------|------------|---------|---------|-----------|------------|
| 10:00-11:00 | 1500 | 1480 | 20 | `98.7%` | `45ms` |
| 11:00-12:00 | 2300 | 2250 | 50 | `97.8%` | `52ms` |
| 12:00-13:00 | 3200 | 2800 | 400 | `87.5%` âš ï¸ | `180ms` âš ï¸ |

> **ğŸ” å‘ç°é—®é¢˜**
> 12ç‚¹æ—¶æ®µç™»å½•æˆåŠŸç‡ä¸‹é™åˆ°87.5%ï¼Œå¹³å‡è€—æ—¶å¢åŠ åˆ°180ms
> 
> **è¿½è¸ªåˆ†æï¼š**
> - æ•°æ®åº“è¿æ¥æ± è€—å°½
> - æ…¢æŸ¥è¯¢å¯¼è‡´å“åº”å˜æ…¢
> - éœ€è¦æ‰©å®¹æ•°æ®åº“è¿æ¥æ•°

---

## 6. ğŸ›’ è´­ç‰©è½¦è¿½è¸ªä¼˜åŒ–


### 6.1 è´­ç‰©è½¦çš„æ€§èƒ½æŒ‘æˆ˜


**è´­ç‰©è½¦æœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Ÿ**

> **ğŸ’¡ ä¸šåŠ¡ç‰¹ç‚¹**
> - **é«˜é¢‘è®¿é—®**ï¼šç”¨æˆ·é¢‘ç¹æŸ¥çœ‹è´­ç‰©è½¦
> - **ä¸´æ—¶æ•°æ®**ï¼šä¸ä¸€å®šä¼šä¸‹å•ï¼Œå¯ä»¥ä¸¢å¤±
> - **è®¡ç®—å¯†é›†**ï¼šéœ€è¦å®æ—¶è®¡ç®—ä»·æ ¼ã€ä¼˜æƒ 

**è´­ç‰©è½¦æ“ä½œæµç¨‹ï¼š**

```
ç”¨æˆ·æ“ä½œè´­ç‰©è½¦ï¼š

1ï¸âƒ£ æ·»åŠ å•†å“
   â””â†’ cart-service: addItem
       â””â†’ product-service: getProductInfo (è·å–ä»·æ ¼)
       â””â†’ redis: save cart data
       
2ï¸âƒ£ æŸ¥çœ‹è´­ç‰©è½¦
   â””â†’ cart-service: getCart
       â””â†’ redis: load cart data
       â””â†’ product-service: batchGetProducts (æ‰¹é‡è·å–å•†å“ä¿¡æ¯)
       â””â†’ è®¡ç®—æ€»ä»·
       
3ï¸âƒ£ ä¿®æ”¹æ•°é‡
   â””â†’ cart-service: updateQuantity
       â””â†’ redis: update cart data
```

### 6.2 è´­ç‰©è½¦æœåŠ¡ä¼˜åŒ–


```java
@Service
public class CartService {
    
    @Autowired
    private RedisTemplate<String, String> redisTemplate;
    
    /**
     * è·å–è´­ç‰©è½¦ - ä¼˜åŒ–ç‰ˆæœ¬
     */
    public CartDTO getCart(Long userId) {
        String cartKey = "cart:" + userId;
        
        // â‘  ä»Redisè·å–è´­ç‰©è½¦æ•°æ®
        String cartData = redisTemplate.opsForValue().get(cartKey);
        if (cartData == null) {
            return new CartDTO(); // ç©ºè´­ç‰©è½¦
        }
        
        CartDTO cart = JSON.parseObject(cartData, CartDTO.class);
        
        // â‘¡ æ‰¹é‡è·å–å•†å“ä¿¡æ¯ï¼ˆé¿å…N+1æŸ¥è¯¢ï¼‰
        List<Long> productIds = cart.getItems().stream()
            .map(CartItem::getProductId)
            .collect(Collectors.toList());
            
        Map<Long, ProductDTO> products = productClient.batchGetProducts(productIds);
        
        // â‘¢ å¡«å……å•†å“ä¿¡æ¯å¹¶è®¡ç®—ä»·æ ¼
        BigDecimal totalAmount = BigDecimal.ZERO;
        for (CartItem item : cart.getItems()) {
            ProductDTO product = products.get(item.getProductId());
            item.setProductName(product.getName());
            item.setPrice(product.getPrice());
            
            BigDecimal itemAmount = product.getPrice()
                .multiply(new BigDecimal(item.getQuantity()));
            totalAmount = totalAmount.add(itemAmount);
        }
        
        cart.setTotalAmount(totalAmount);
        return cart;
    }
}
```

**ğŸ”§ ä¼˜åŒ–å‰åå¯¹æ¯”ï¼š**

```
ä¼˜åŒ–å‰ï¼ˆN+1æŸ¥è¯¢é—®é¢˜ï¼‰ï¼š
cart-service::getCart (850ms)
  â””â†’ redis::get cart (5ms)
  â””â†’ product-service::getProduct (å•†å“1) (80ms)
  â””â†’ product-service::getProduct (å•†å“2) (75ms)
  â””â†’ product-service::getProduct (å•†å“3) (90ms)
  â””â†’ ... (10ä¸ªå•†å“å°±æ˜¯10æ¬¡è°ƒç”¨)

ä¼˜åŒ–åï¼ˆæ‰¹é‡æŸ¥è¯¢ï¼‰ï¼š
cart-service::getCart (120ms) âœ… æå‡85%
  â””â†’ redis::get cart (5ms)
  â””â†’ product-service::batchGetProducts (100ms) â† ä¸€æ¬¡è°ƒç”¨
```

---

## 7. ğŸ“± å•†å“æœåŠ¡ç›‘æ§


### 7.1 å•†å“æœåŠ¡çš„æ ¸å¿ƒæŒ‡æ ‡


**å•†å“æœåŠ¡è´Ÿè´£ä»€ä¹ˆï¼Ÿ**

```
å•†å“æœåŠ¡ä¸»è¦åŠŸèƒ½ï¼š

ğŸ”¸ å•†å“æŸ¥è¯¢
   - å•†å“è¯¦æƒ… (getProductDetail)
   - å•†å“åˆ—è¡¨ (getProductList)
   - å•†å“æœç´¢ (searchProducts)
   
ğŸ”¸ å•†å“ç®¡ç†
   - åˆ›å»ºå•†å“ (createProduct)
   - æ›´æ–°å•†å“ (updateProduct)
   - ä¸Šä¸‹æ¶ (publishProduct)
```

### 7.2 å•†å“æŸ¥è¯¢æ€§èƒ½ä¼˜åŒ–


**é—®é¢˜åœºæ™¯ï¼šå•†å“åˆ—è¡¨æŸ¥è¯¢æ…¢**

```
è¿½è¸ªå‘ç°é—®é¢˜ï¼š

product-service::getProductList (1200ms) âš ï¸
  â””â†’ DB::query products (50ms)
  â””â†’ DB::query categories (30ms)
  â””â†’ image-service::getBatchImages (1100ms) â† ç“¶é¢ˆ
      â””â†’ é€ä¸ªä»OSSè·å–å›¾ç‰‡URL (æ¯ä¸ª100ms Ã— 10å¼ )
```

**ä¼˜åŒ–æ–¹æ¡ˆï¼š**

```java
@Service
public class ProductService {
    
    /**
     * è·å–å•†å“åˆ—è¡¨ - ä¼˜åŒ–ç‰ˆ
     */
    @Cacheable(value = "productList", key = "#page + '-' + #size")
    public PageResult<ProductDTO> getProductList(int page, int size) {
        // â‘  æŸ¥è¯¢å•†å“åŸºæœ¬ä¿¡æ¯
        Page<Product> products = productRepository.findAll(
            PageRequest.of(page, size)
        );
        
        // â‘¡ å•†å“å›¾ç‰‡URLä½¿ç”¨CDNç¼“å­˜
        List<ProductDTO> result = products.stream()
            .map(product -> {
                ProductDTO dto = new ProductDTO();
                dto.setId(product.getId());
                dto.setName(product.getName());
                // ä½¿ç”¨CDN URLæ¨¡æ¿ï¼Œé¿å…å®æ—¶æŸ¥è¯¢
                dto.setImageUrl("https://cdn.example.com/images/" 
                    + product.getId() + ".jpg");
                return dto;
            })
            .collect(Collectors.toList());
            
        return new PageResult<>(result, products.getTotalElements());
    }
}
```

**ğŸ“Š ä¼˜åŒ–æ•ˆæœï¼š**

| ä¼˜åŒ–é¡¹ | **ä¼˜åŒ–å‰** | **ä¼˜åŒ–å** | **æå‡** |
|-------|----------|----------|---------|
| å“åº”æ—¶é—´ | `1200ms` | `80ms` | `93%` â†‘ |
| æ•°æ®åº“æŸ¥è¯¢ | `2æ¬¡` | `1æ¬¡` | `50%` â†“ |
| å¤–éƒ¨è°ƒç”¨ | `10æ¬¡` | `0æ¬¡` | `100%` â†“ |
| ç¼“å­˜å‘½ä¸­ç‡ | `0%` | `85%` | - |

---

## 8. âš¡ æ€§èƒ½ä¼˜åŒ–å®è·µ


### 8.1 å…¨é“¾è·¯æ€§èƒ½ä¼˜åŒ–ç­–ç•¥


**ğŸ¯ ä¼˜åŒ–æ€»ä½“æ€è·¯ï¼š**

```
æ€§èƒ½ä¼˜åŒ–å››æ­¥æ³•ï¼š

ç¬¬1æ­¥ï¼šè¯†åˆ«ç“¶é¢ˆ
  â””â†’ ä½¿ç”¨SkyWalkingæ‰¾å‡ºæ…¢æœåŠ¡
  
ç¬¬2æ­¥ï¼šåˆ†æåŸå› 
  â””â†’ æ•°æ®åº“æ…¢æŸ¥è¯¢ï¼Ÿ
  â””â†’ å¤–éƒ¨æ¥å£æ…¢ï¼Ÿ
  â””â†’ ä»£ç é€»è¾‘é—®é¢˜ï¼Ÿ
  
ç¬¬3æ­¥ï¼šåˆ¶å®šæ–¹æ¡ˆ
  â””â†’ åŠ ç¼“å­˜
  â””â†’ æ‰¹é‡æŸ¥è¯¢
  â””â†’ å¼‚æ­¥å¤„ç†
  
ç¬¬4æ­¥ï¼šæ•ˆæœéªŒè¯
  â””â†’ å¯¹æ¯”ä¼˜åŒ–å‰åçš„è¿½è¸ªæ•°æ®
```

### 8.2 å¸¸è§æ€§èƒ½é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ


**é—®é¢˜1ï¼šæ•°æ®åº“æŸ¥è¯¢æ…¢**

```
å‘ç°é—®é¢˜ï¼š
order-service::getOrderList (800ms)
  â””â†’ DB::query orders (750ms) â† æ…¢æŸ¥è¯¢

è§£å†³æ–¹æ¡ˆï¼š
âœ… æ·»åŠ æ•°æ®åº“ç´¢å¼•
âœ… ä¼˜åŒ–SQLè¯­å¥
âœ… åˆ†é¡µæŸ¥è¯¢é™åˆ¶æ•°é‡

ä¼˜åŒ–åï¼š
order-service::getOrderList (80ms)
  â””â†’ DB::query orders (50ms)
```

**é—®é¢˜2ï¼šæœåŠ¡é—´è°ƒç”¨æ¬¡æ•°è¿‡å¤š**

```
å‘ç°é—®é¢˜ï¼š
order-service::getOrderDetail è°ƒç”¨äº†5ä¸ªå…¶ä»–æœåŠ¡
  â””â†’ user-service (è·å–ç”¨æˆ·ä¿¡æ¯)
  â””â†’ product-service (è·å–å•†å“ä¿¡æ¯)
  â””â†’ inventory-service (è·å–åº“å­˜)
  â””â†’ payment-service (è·å–æ”¯ä»˜çŠ¶æ€)
  â””â†’ logistics-service (è·å–ç‰©æµä¿¡æ¯)

è§£å†³æ–¹æ¡ˆï¼š
âœ… æ‰¹é‡æŸ¥è¯¢åˆå¹¶æ¥å£
âœ… éæ ¸å¿ƒä¿¡æ¯å¼‚æ­¥åŠ è½½
âœ… ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—è§£è€¦

ä¼˜åŒ–åï¼šåªè°ƒç”¨2ä¸ªæ ¸å¿ƒæœåŠ¡ï¼Œå…¶ä»–ä¿¡æ¯å¼‚æ­¥è·å–
```

**é—®é¢˜3ï¼šç¼“å­˜ä½¿ç”¨ä¸å½“**

> **ğŸ’¡ ç¼“å­˜ä½¿ç”¨åŸåˆ™**
> - **é«˜é¢‘è¯»å–**çš„æ•°æ®æ‰åŠ ç¼“å­˜
> - è®¾ç½®åˆç†çš„**è¿‡æœŸæ—¶é—´**
> - æ³¨æ„**ç¼“å­˜å‡»ç©¿ã€ç©¿é€**é—®é¢˜

```java
// âŒ é”™è¯¯ç¤ºä¾‹ï¼šæ‰€æœ‰æ•°æ®éƒ½ç¼“å­˜
@Cacheable(value = "product")
public ProductDTO getProduct(Long id) {
    return productRepository.findById(id);
}

// âœ… æ­£ç¡®ç¤ºä¾‹ï¼šåŒºåˆ†çƒ­ç‚¹æ•°æ®
@Cacheable(value = "hotProduct", unless = "#result == null")
public ProductDTO getHotProduct(Long id) {
    // åªç¼“å­˜æµè§ˆé‡>1000çš„çƒ­é—¨å•†å“
    ProductDTO product = productRepository.findById(id);
    if (product.getViewCount() < 1000) {
        return product; // ä¸ç¼“å­˜
    }
    return product;
}
```

### 8.3 SkyWalkingæ€§èƒ½åˆ†ææŠ€å·§


**ğŸ“Š å…³é”®åˆ†æç»´åº¦ï¼š**

```
1ï¸âƒ£ æ—¶é—´ç»´åº¦åˆ†æ
   â””â†’ æ‰¾å‡ºå“åº”æ—¶é—´è¶…è¿‡é˜ˆå€¼çš„è¯·æ±‚
   â””â†’ åˆ†æé«˜å³°æœŸçš„æ€§èƒ½è¡¨ç°
   
2ï¸âƒ£ æœåŠ¡ç»´åº¦åˆ†æ
   â””â†’ å“ªä¸ªæœåŠ¡æœ€æ…¢ï¼Ÿ
   â””â†’ å“ªä¸ªæœåŠ¡è°ƒç”¨æ¬¡æ•°æœ€å¤šï¼Ÿ
   
3ï¸âƒ£ æ¥å£ç»´åº¦åˆ†æ
   â””â†’ å“ªä¸ªæ¥å£å“åº”æ—¶é—´æœ€é•¿ï¼Ÿ
   â””â†’ å“ªä¸ªæ¥å£é”™è¯¯ç‡æœ€é«˜ï¼Ÿ
   
4ï¸âƒ£ ä¾èµ–å…³ç³»åˆ†æ
   â””â†’ æœåŠ¡ä¹‹é—´çš„è°ƒç”¨å…³ç³»
   â””â†’ æ‰¾å‡ºå…³é”®è·¯å¾„
```

**ğŸ” å®æˆ˜æ¡ˆä¾‹ï¼šä¼˜åŒ–è®¢å•æŸ¥è¯¢**

```
åˆ†ææµç¨‹ï¼š

ç¬¬1æ­¥ï¼šå‘ç°é—®é¢˜
SkyWalkingæ˜¾ç¤º getOrderDetail å¹³å‡è€—æ—¶ 1.2s

ç¬¬2æ­¥ï¼šå®šä½ç“¶é¢ˆ
è¿½è¸ªé“¾è·¯æ˜¾ç¤ºï¼š
  - è®¢å•åŸºç¡€æŸ¥è¯¢ï¼š50ms
  - è·å–ç”¨æˆ·ä¿¡æ¯ï¼š80ms
  - è·å–å•†å“ä¿¡æ¯ï¼š900ms â† ç“¶é¢ˆ
  - è·å–ç‰©æµä¿¡æ¯ï¼š150ms

ç¬¬3æ­¥ï¼šæ·±å…¥åˆ†æ
product-service å†…éƒ¨è¿½è¸ªæ˜¾ç¤ºï¼š
  - æ•°æ®åº“æŸ¥è¯¢ï¼š20ms
  - å›¾ç‰‡å¤„ç†ï¼š850ms â† æ ¹æœ¬åŸå› 
  - ç¼“å­˜æœªå‘½ä¸­å¯¼è‡´æ¯æ¬¡éƒ½è¦å¤„ç†å›¾ç‰‡

ç¬¬4æ­¥ï¼šä¼˜åŒ–æ–¹æ¡ˆ
  - å›¾ç‰‡URLæå‰ç”Ÿæˆå¹¶ç¼“å­˜
  - ä½¿ç”¨CDNåŠ é€Ÿå›¾ç‰‡è®¿é—®
  - éå¿…è¦å›¾ç‰‡å»¶è¿ŸåŠ è½½

ç¬¬5æ­¥ï¼šéªŒè¯æ•ˆæœ
ä¼˜åŒ–å getOrderDetail å¹³å‡è€—æ—¶é™è‡³ 280ms
æ€§èƒ½æå‡ï¼š77%
```

---

## 9. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 9.1 ç”µå•†ç³»ç»Ÿè¿½è¸ªçš„å…³é”®ç‚¹


**ğŸ”¸ å¿…é¡»ç›‘æ§çš„æ ¸å¿ƒæŒ‡æ ‡ï¼š**

| ä¸šåŠ¡åœºæ™¯ | **æ ¸å¿ƒæŒ‡æ ‡** | **å‘Šè­¦é˜ˆå€¼** | **é‡è¦æ€§** |
|---------|------------|------------|-----------|
| ç”¨æˆ·ç™»å½• | ç™»å½•æˆåŠŸç‡ | `<95%` | â­â­â­â­â­ |
| å•†å“æŸ¥è¯¢ | å“åº”æ—¶é—´ | `>500ms` | â­â­â­â­ |
| è®¢å•åˆ›å»º | æˆåŠŸç‡ | `<98%` | â­â­â­â­â­ |
| æ”¯ä»˜å¤„ç† | æˆåŠŸç‡ | `<99%` | â­â­â­â­â­ |
| åº“å­˜æ“ä½œ | ä¸€è‡´æ€§ | `å‡ºç°å·®å¼‚` | â­â­â­â­â­ |

**ğŸ”¸ è¿½è¸ªæ•°æ®çš„åº”ç”¨åœºæ™¯ï¼š**

```
åœºæ™¯1ï¼šæ•…éšœæ’æŸ¥
é—®é¢˜ï¼šç”¨æˆ·åé¦ˆæ”¯ä»˜å¤±è´¥
å¤„ç†ï¼šSkyWalkingä¸­æœç´¢è¯¥è®¢å•å· â†’ æ‰¾åˆ°å®Œæ•´è°ƒç”¨é“¾ 
     â†’ å®šä½æ”¯ä»˜æœåŠ¡è¶…æ—¶ â†’ å¿«é€Ÿè§£å†³

åœºæ™¯2ï¼šæ€§èƒ½ä¼˜åŒ–  
é—®é¢˜ï¼šè®¢å•åˆ—è¡¨æŸ¥è¯¢æ…¢
å¤„ç†ï¼šåˆ†æè¿½è¸ªæ•°æ® â†’ å‘ç°N+1æŸ¥è¯¢é—®é¢˜ 
     â†’ æ”¹ä¸ºæ‰¹é‡æŸ¥è¯¢ â†’ æ€§èƒ½æå‡10å€

åœºæ™¯3ï¼šå®¹é‡è§„åˆ’
é—®é¢˜ï¼šéœ€è¦æ‰©å®¹æœåŠ¡å™¨
å¤„ç†ï¼šæŸ¥çœ‹å„æœåŠ¡çš„è¯·æ±‚é‡å’Œèµ„æºä½¿ç”¨ 
     â†’ ç¡®å®šç“¶é¢ˆæœåŠ¡ â†’ ç²¾å‡†æ‰©å®¹
```

### 9.2 å®æˆ˜ç»éªŒæ€»ç»“


**âœ… æœ€ä½³å®è·µï¼š**

1. **å…³é”®è·¯å¾„å…¨è¦†ç›–**
   - æ”¯ä»˜ã€è®¢å•ã€åº“å­˜ç­‰æ ¸å¿ƒä¸šåŠ¡å¿…é¡»è¿½è¸ª
   - è®¾ç½®åˆç†çš„å‘Šè­¦é˜ˆå€¼

2. **æ€§èƒ½åŸºå‡†å»ºç«‹**
   - è®°å½•æ­£å¸¸æƒ…å†µä¸‹çš„æ€§èƒ½æŒ‡æ ‡
   - å®šæœŸå›é¡¾ï¼Œå‘ç°è¶‹åŠ¿å˜åŒ–

3. **å¼‚å¸¸å¿«é€Ÿå®šä½**
   - å–„ç”¨SkyWalkingçš„æœç´¢å’Œè¿‡æ»¤
   - å…³æ³¨é”™è¯¯ç‡å’Œæ…¢è¯·æ±‚

4. **æŒç»­ä¼˜åŒ–**
   - æ ¹æ®è¿½è¸ªæ•°æ®ä¸æ–­ä¼˜åŒ–
   - éªŒè¯ä¼˜åŒ–æ•ˆæœ

**âŒ å¸¸è§è¯¯åŒºï¼š**

- âŒ åªè¿½è¸ªä¸åˆ†æï¼šæ”¶é›†äº†æ•°æ®ä½†ä¸çœ‹
- âŒ è¿½è¸ªç²’åº¦è¿‡ç»†ï¼šå¯¼è‡´æ€§èƒ½æŸè€—
- âŒ å¿½ç•¥å‘Šè­¦é…ç½®ï¼šé—®é¢˜å‘ç”Ÿäº†æ‰çŸ¥é“
- âŒ ä¼˜åŒ–æ²¡æœ‰ä¾æ®ï¼šæ‹è„‘è¢‹å†³å®šä¼˜åŒ–æ–¹å‘

### 9.3 è®°å¿†è¦ç‚¹


> **ğŸ¯ ä¸€å¥è¯æ€»ç»“**
> SkyWalkingå°±åƒç»™å¾®æœåŠ¡ç³»ç»Ÿè£…ä¸Šäº†"ç›‘æ§æ‘„åƒå¤´"ï¼Œè®©æˆ‘ä»¬èƒ½å®æ—¶çœ‹åˆ°æ¯ä¸ªè¯·æ±‚çš„å®Œæ•´è·¯å¾„ï¼Œå¿«é€Ÿå‘ç°å’Œè§£å†³é—®é¢˜

**ğŸ“Œ æ ¸å¿ƒè®°å¿†ï¼š**
- **è®¢å•é“¾è·¯**ï¼šå…³æ³¨æ¯ä¸€æ­¥çš„è€—æ—¶å’ŒæˆåŠŸç‡
- **æ”¯ä»˜æµç¨‹**ï¼šé‡ç‚¹ç›‘æ§ç¬¬ä¸‰æ–¹æ¥å£å’Œæ•°æ®ä¸€è‡´æ€§
- **åº“å­˜æœåŠ¡**ï¼šé˜²æ­¢è¶…å–å’Œæ•°æ®ä¸ä¸€è‡´
- **æ€§èƒ½ä¼˜åŒ–**ï¼šåŸºäºè¿½è¸ªæ•°æ®ï¼Œæœ‰çš„æ”¾çŸ¢åœ°ä¼˜åŒ–

**ğŸ”‘ å…³é”®æŠ€èƒ½ï¼š**
1. ä¼šçœ‹è¿½è¸ªé“¾è·¯å›¾ï¼Œæ‰¾å‡ºæ…¢æœåŠ¡
2. ä¼šåˆ†æé”™è¯¯ä¿¡æ¯ï¼Œå®šä½é—®é¢˜æ ¹æº
3. ä¼šä½¿ç”¨ç›‘æ§æ•°æ®ï¼ŒæŒ‡å¯¼æ€§èƒ½ä¼˜åŒ–
4. ä¼šé…ç½®å‘Šè­¦è§„åˆ™ï¼ŒåŠæ—¶å‘ç°å¼‚å¸¸