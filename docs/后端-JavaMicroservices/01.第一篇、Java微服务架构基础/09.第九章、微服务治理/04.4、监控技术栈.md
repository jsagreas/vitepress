---
title: 4ã€ç›‘æ§æŠ€æœ¯æ ˆ
---
## ğŸ“š ç›®å½•

1. [å¾®æœåŠ¡ç›‘æ§æ¦‚è¿°](#1-å¾®æœåŠ¡ç›‘æ§æ¦‚è¿°)
2. [Prometheusç›‘æ§æ ¸å¿ƒ](#2-Prometheusç›‘æ§æ ¸å¿ƒ)
3. [Grafanaå¯è§†åŒ–å¤§ç›˜](#3-Grafanaå¯è§†åŒ–å¤§ç›˜)
4. [MicrometeræŒ‡æ ‡ä½“ç³»](#4-MicrometeræŒ‡æ ‡ä½“ç³»)
5. [æ—¶åºæ•°æ®åº“è¯¦è§£](#5-æ—¶åºæ•°æ®åº“è¯¦è§£)
6. [å‘Šè­¦æœºåˆ¶è®¾è®¡](#6-å‘Šè­¦æœºåˆ¶è®¾è®¡)
7. [å®¹é‡è§„åˆ’å®è·µ](#7-å®¹é‡è§„åˆ’å®è·µ)
8. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#8-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ¯ å¾®æœåŠ¡ç›‘æ§æ¦‚è¿°


### 1.1 ä¸ºä»€ä¹ˆå¾®æœåŠ¡éœ€è¦ç›‘æ§


**ä¼ ç»Ÿå•ä½“åº”ç”¨çš„ç›‘æ§ç—›ç‚¹**ï¼š
```
å•ä½“åº”ç”¨ï¼šå°±åƒä¸€æ ‹æˆ¿å­
ğŸ  æˆ¿å­åªæœ‰ä¸€ä¸ªå¤§é—¨ï¼Œå‡ºé—®é¢˜å®¹æ˜“å‘ç°
ğŸ“Š åªéœ€è¦ç›‘æ§ä¸€ä¸ªè¿›ç¨‹çš„çŠ¶æ€
ğŸ”§ é—®é¢˜å®šä½ç›¸å¯¹ç®€å•

å¾®æœåŠ¡åº”ç”¨ï¼šå°±åƒä¸€ä¸ªå°åŒº
ğŸ˜ï¸ å°åŒºæœ‰å¾ˆå¤šæ ‹æ¥¼ï¼Œæ¯æ ‹æ¥¼éƒ½å¯èƒ½å‡ºé—®é¢˜
ğŸ“ˆ éœ€è¦ç›‘æ§æ•°åä¸ªç”šè‡³ä¸Šç™¾ä¸ªæœåŠ¡
ğŸ” é—®é¢˜å¯èƒ½å‘ç”Ÿåœ¨ä»»ä½•ä¸€ä¸ªæœåŠ¡ä¸­
ğŸ•¸ï¸ æœåŠ¡ä¹‹é—´è°ƒç”¨å¤æ‚ï¼Œé—®é¢˜å½±å“é¢éš¾ç¡®å®š
```

**å¾®æœåŠ¡ç›‘æ§çš„æ ¸å¿ƒç›®æ ‡**ï¼š
- **ğŸ” æ•…éšœå‘ç°**ï¼šç¬¬ä¸€æ—¶é—´å‘ç°é—®é¢˜
- **ğŸ“ é—®é¢˜å®šä½**ï¼šå¿«é€Ÿæ‰¾åˆ°æ•…éšœæºå¤´
- **ğŸ“Š æ€§èƒ½åˆ†æ**ï¼šäº†è§£ç³»ç»Ÿè¿è¡ŒçŠ¶å†µ
- **ğŸ“ˆ å®¹é‡è§„åˆ’**ï¼šä¸ºæ‰©å®¹æä¾›æ•°æ®æ”¯æ’‘

### 1.2 ç›‘æ§æŠ€æœ¯æ ˆå…¨æ™¯å›¾


```
ç›‘æ§æŠ€æœ¯æ ˆæ¶æ„ï¼š

åº”ç”¨å±‚ç›‘æ§          å¯è§†åŒ–å±‚           æ•°æ®å­˜å‚¨å±‚        å‘Šè­¦é€šçŸ¥å±‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Javaåº”ç”¨    â”‚    â”‚  Grafana    â”‚    â”‚ Prometheus  â”‚   â”‚  é‚®ä»¶å‘Šè­¦   â”‚
â”‚ Micrometer  â”‚â”€â”€â”€â–¶â”‚   Dashboard â”‚â—€â”€â”€â”€â”‚   TSDB      â”‚â”€â”€â–¶â”‚  çŸ­ä¿¡å‘Šè­¦   â”‚
â”‚   æŒ‡æ ‡      â”‚    â”‚             â”‚    â”‚             â”‚   â”‚  é’‰é’‰å‘Šè­¦   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                   â”‚                  â”‚                 â”‚
       â–¼                   â–¼                  â–¼                 â–¼
   ä¸šåŠ¡æŒ‡æ ‡           å›¾è¡¨å±•ç¤º           æ—¶åºå­˜å‚¨          åŠæ—¶é€šçŸ¥
```

---

## 2. ğŸ”§ Prometheusç›‘æ§æ ¸å¿ƒ


### 2.1 Prometheusæ˜¯ä»€ä¹ˆ


**é€šä¿—ç†è§£**ï¼š
> Prometheuså°±åƒä¸€ä¸ª**å‹¤åŠ³çš„æ•°æ®æ”¶é›†å‘˜**ï¼Œå®ƒä¼šå®šæ—¶å»å„ä¸ªå¾®æœåŠ¡é‚£é‡Œ"é—®"ï¼šä½ ç°åœ¨æ€ä¹ˆæ ·ï¼ŸCPUç”¨äº†å¤šå°‘ï¼Ÿå†…å­˜å ç”¨å¤šå°‘ï¼Ÿå¤„ç†äº†å¤šå°‘è¯·æ±‚ï¼Ÿç„¶åæŠŠè¿™äº›æ•°æ®éƒ½è®°å½•ä¸‹æ¥ï¼Œä¾›åç»­åˆ†æä½¿ç”¨ã€‚

**æ ¸å¿ƒç‰¹ç‚¹**ï¼š
```
ğŸ”„ æ‹‰å–æ¨¡å¼ï¼šä¸»åŠ¨å»æœåŠ¡é‚£é‡Œè·å–æ•°æ®ï¼ˆè€Œä¸æ˜¯ç­‰æœåŠ¡æ¨é€ï¼‰
ğŸ“Š æ—¶åºæ•°æ®ï¼šæŒ‰æ—¶é—´é¡ºåºå­˜å‚¨æŒ‡æ ‡æ•°æ®
ğŸ·ï¸ æ ‡ç­¾åŒ–ï¼šç»™æ¯ä¸ªæŒ‡æ ‡è´´ä¸Šæ ‡ç­¾ï¼Œæ–¹ä¾¿åˆ†ç±»æŸ¥è¯¢
ğŸ“ æŸ¥è¯¢è¯­è¨€ï¼šæä¾›PromQLæŸ¥è¯¢è¯­è¨€åˆ†ææ•°æ®
```

### 2.2 Prometheuså·¥ä½œåŸç†


**æ•°æ®æ”¶é›†æµç¨‹**ï¼š
```
ç¬¬1æ­¥ï¼šæœåŠ¡æš´éœ²æŒ‡æ ‡
Javaå¾®æœåŠ¡ â”€â”€â–¶ /actuator/prometheus ç«¯ç‚¹
              æš´éœ²æŒ‡æ ‡æ•°æ®

ç¬¬2æ­¥ï¼šPrometheusæ‹‰å–
Prometheus â”€â”€â–¶ å®šæ—¶è¯·æ±‚å„æœåŠ¡çš„æŒ‡æ ‡ç«¯ç‚¹
              (é»˜è®¤15ç§’ä¸€æ¬¡)

ç¬¬3æ­¥ï¼šæ•°æ®å­˜å‚¨
æ”¶é›†åˆ°çš„æ•°æ® â”€â”€â–¶ å­˜å‚¨åˆ°æ—¶åºæ•°æ®åº“
               æŒ‰æ—¶é—´åºåˆ—ç»„ç»‡

ç¬¬4æ­¥ï¼šæ•°æ®æŸ¥è¯¢
PromQLæŸ¥è¯¢ â”€â”€â–¶ åˆ†æå’Œå±•ç¤ºæ•°æ®
              ç”Ÿæˆå›¾è¡¨å’Œå‘Šè­¦
```

### 2.3 é…ç½®Prometheus


**åŸºç¡€é…ç½®ç¤ºä¾‹**ï¼š
```yaml
# prometheus.yml
global:
  scrape_interval: 15s    # å…¨å±€æ‹‰å–é—´éš”15ç§’
  
scrape_configs:
  # ç”¨æˆ·æœåŠ¡ç›‘æ§
  - job_name: 'user-service'
    static_configs:
      - targets: ['localhost:8080']  # ç”¨æˆ·æœåŠ¡åœ°å€
    metrics_path: '/actuator/prometheus'  # æŒ‡æ ‡ç«¯ç‚¹
    
  # è®¢å•æœåŠ¡ç›‘æ§  
  - job_name: 'order-service'
    static_configs:
      - targets: ['localhost:8081']
    metrics_path: '/actuator/prometheus'
```

**é‡è¦é…ç½®è¯´æ˜**ï¼š
- **`scrape_interval`**ï¼šå¤šä¹…å»æ”¶é›†ä¸€æ¬¡æ•°æ®ï¼ˆç±»ä¼¼ä½“æ£€é¢‘ç‡ï¼‰
- **`job_name`**ï¼šç»™ç›‘æ§ä»»åŠ¡èµ·ä¸ªåå­—ï¼Œæ–¹ä¾¿åŒºåˆ†
- **`targets`**ï¼šè¦ç›‘æ§çš„æœåŠ¡åœ°å€
- **`metrics_path`**ï¼šæœåŠ¡æš´éœ²æŒ‡æ ‡çš„URLè·¯å¾„

---

## 3. ğŸ“Š Grafanaå¯è§†åŒ–å¤§ç›˜


### 3.1 Grafanaçš„ä½œç”¨


**å½¢è±¡æ¯”å–»**ï¼š
> å¦‚æœè¯´Prometheusæ˜¯æ•°æ®æ”¶é›†å‘˜ï¼Œé‚£ä¹ˆGrafanaå°±æ˜¯**æ•°æ®åˆ†æå¸ˆ**ã€‚å®ƒæŠŠPrometheusæ”¶é›†çš„æ¯ç‡¥æ•°å­—å˜æˆæ¼‚äº®çš„å›¾è¡¨ï¼Œè®©ä½ ä¸€çœ¼å°±èƒ½çœ‹å‡ºç³»ç»Ÿçš„å¥åº·çŠ¶å†µã€‚

**æ ¸å¿ƒåŠŸèƒ½**ï¼š
```
ğŸ“ˆ å›¾è¡¨å±•ç¤ºï¼šå°†æ•°å­—æ•°æ®è½¬æ¢ä¸ºç›´è§‚å›¾è¡¨
ğŸ›ï¸ ä»ªè¡¨ç›˜ï¼šå¤šä¸ªå›¾è¡¨ç»„åˆæˆç›‘æ§å¤§ç›˜
ğŸš¨ å‘Šè­¦å¯è§†åŒ–ï¼šå›¾è¡¨ä¸Šç›´æ¥æ˜¾ç¤ºå‘Šè­¦çŠ¶æ€
ğŸ‘¥ æƒé™ç®¡ç†ï¼šä¸åŒè§’è‰²çœ‹åˆ°ä¸åŒçš„ç›‘æ§å†…å®¹
```

### 3.2 å¸¸ç”¨å›¾è¡¨ç±»å‹


| å›¾è¡¨ç±»å‹ | **é€‚ç”¨åœºæ™¯** | **ç¤ºä¾‹ç”¨é€”** |
|---------|-------------|-------------|
| ğŸ“ˆ **æŠ˜çº¿å›¾** | `è¶‹åŠ¿åˆ†æ` | `CPUä½¿ç”¨ç‡å˜åŒ–è¶‹åŠ¿` |
| ğŸ“Š **æŸ±çŠ¶å›¾** | `æ•°é‡å¯¹æ¯”` | `å„æœåŠ¡è¯·æ±‚é‡å¯¹æ¯”` |
| ğŸŸ¢ **ä»ªè¡¨ç›˜** | `å½“å‰çŠ¶æ€` | `å†…å­˜ä½¿ç”¨ç‡å½“å‰å€¼` |
| ğŸ—ºï¸ **çƒ­åŠ›å›¾** | `åˆ†å¸ƒæƒ…å†µ` | `å“åº”æ—¶é—´åˆ†å¸ƒå›¾` |
| ğŸ“‹ **è¡¨æ ¼** | `è¯¦ç»†æ•°æ®` | `é”™è¯¯æ—¥å¿—æ˜ç»†` |

### 3.3 ç›‘æ§å¤§ç›˜è®¾è®¡


**å…¸å‹çš„å¾®æœåŠ¡ç›‘æ§å¤§ç›˜ç»“æ„**ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    å¾®æœåŠ¡ç›‘æ§å¤§ç›˜                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ¯ æ ¸å¿ƒæŒ‡æ ‡åŒº                                                â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚ â”‚ç³»ç»Ÿå¯ç”¨ç‡â”‚ â”‚è¯·æ±‚æ€»é‡ â”‚ â”‚å¹³å‡å»¶è¿Ÿ â”‚ â”‚é”™è¯¯ç‡   â”‚              â”‚
â”‚ â”‚  99.9%  â”‚ â”‚ 1.2K/s  â”‚ â”‚ 120ms   â”‚ â”‚  0.1%   â”‚              â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“ˆ è¶‹åŠ¿åˆ†æåŒº                                                â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚ â”‚   QPSå˜åŒ–è¶‹åŠ¿    â”‚ â”‚  å“åº”æ—¶é—´è¶‹åŠ¿    â”‚                    â”‚
â”‚ â”‚     ğŸ“ˆ          â”‚ â”‚      ğŸ“ˆ         â”‚                    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ” è¯¦ç»†æŒ‡æ ‡åŒº                                                â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚ â”‚   å„æœåŠ¡çŠ¶æ€     â”‚ â”‚   èµ„æºä½¿ç”¨æƒ…å†µ   â”‚                    â”‚
â”‚ â”‚     ğŸ“Š          â”‚ â”‚      ğŸ“Š         â”‚                    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 4. âš™ï¸ MicrometeræŒ‡æ ‡ä½“ç³»


### 4.1 Micrometerçš„ä½œç”¨


**é€šä¿—è§£é‡Š**ï¼š
> Micrometerå°±åƒæ˜¯ç»™ä½ çš„Javaåº”ç”¨è£…äº†ä¸€å¥—**ä¼ æ„Ÿå™¨ç³»ç»Ÿ**ã€‚å°±åƒæ±½è½¦ä»ªè¡¨ç›˜ä¸Šçš„ä¼ æ„Ÿå™¨èƒ½å‘Šè¯‰ä½ æ²¹é‡ã€è½¬é€Ÿã€æ¸©åº¦ä¸€æ ·ï¼ŒMicrometerèƒ½å‘Šè¯‰ä½ åº”ç”¨çš„å„ç§è¿è¡ŒæŒ‡æ ‡ã€‚

**æ ¸å¿ƒä»·å€¼**ï¼š
```
ğŸ”Œ ç»Ÿä¸€æ¥å£ï¼šä¸ç®¡åº•å±‚ç”¨ä»€ä¹ˆç›‘æ§ç³»ç»Ÿï¼Œä»£ç éƒ½ä¸€æ ·
ğŸ“Š ä¸°å¯ŒæŒ‡æ ‡ï¼šæä¾›è®¡æ•°å™¨ã€è®¡æ—¶å™¨ã€ä»ªè¡¨ç­‰å¤šç§æŒ‡æ ‡ç±»å‹
ğŸ¯ ç®€å•æ˜“ç”¨ï¼šæ³¨è§£æ–¹å¼å°±èƒ½æ·»åŠ ç›‘æ§ï¼Œä»£ç ä¾µå…¥æ€§ä½
ğŸ”„ è‡ªåŠ¨é›†æˆï¼šä¸Spring Bootå®Œç¾æ•´åˆï¼Œå¼€ç®±å³ç”¨
```

### 4.2 æ ¸å¿ƒæŒ‡æ ‡ç±»å‹


**1. Counterï¼ˆè®¡æ•°å™¨ï¼‰**
```java
// ç”¨é€”ï¼šç»Ÿè®¡ç´¯è®¡æ•°é‡ï¼Œåªå¢ä¸å‡
@RestController
public class UserController {
    
    private Counter userRegistrationCounter;
    
    public UserController(MeterRegistry meterRegistry) {
        // åˆ›å»ºç”¨æˆ·æ³¨å†Œè®¡æ•°å™¨
        this.userRegistrationCounter = Counter.builder("user.registration")
            .description("ç”¨æˆ·æ³¨å†Œæ€»æ•°")
            .register(meterRegistry);
    }
    
    @PostMapping("/users")
    public User registerUser(@RequestBody User user) {
        // æ¯æ¬¡ç”¨æˆ·æ³¨å†Œï¼Œè®¡æ•°å™¨+1
        userRegistrationCounter.increment();
        return userService.register(user);
    }
}
```

**2. Timerï¼ˆè®¡æ—¶å™¨ï¼‰**
```java
// ç”¨é€”ï¼šç»Ÿè®¡æ“ä½œè€—æ—¶å’Œé¢‘ç‡
@RestController
public class OrderController {
    
    private Timer orderProcessTimer;
    
    public OrderController(MeterRegistry meterRegistry) {
        this.orderProcessTimer = Timer.builder("order.process.time")
            .description("è®¢å•å¤„ç†è€—æ—¶")
            .register(meterRegistry);
    }
    
    @PostMapping("/orders")
    public Order createOrder(@RequestBody Order order) {
        // è‡ªåŠ¨è®¡æ—¶ï¼šè®°å½•è¿™ä¸ªæ“ä½œèŠ±è´¹çš„æ—¶é—´
        return orderProcessTimer.recordCallable(() -> {
            return orderService.processOrder(order);
        });
    }
}
```

**3. Gaugeï¼ˆä»ªè¡¨ï¼‰**
```java
// ç”¨é€”ï¼šæ˜¾ç¤ºå½“å‰çŠ¶æ€å€¼ï¼Œå¯å¢å¯å‡
@Component
public class SystemMetrics {
    
    private final Queue<String> pendingTasks = new LinkedList<>();
    
    public SystemMetrics(MeterRegistry meterRegistry) {
        // æ³¨å†Œé˜Ÿåˆ—å¤§å°ä»ªè¡¨
        Gauge.builder("pending.tasks.count")
            .description("å¾…å¤„ç†ä»»åŠ¡æ•°é‡")
            .register(meterRegistry, this, SystemMetrics::getPendingTasksCount);
    }
    
    public double getPendingTasksCount() {
        return pendingTasks.size();  // è¿”å›å½“å‰é˜Ÿåˆ—å¤§å°
    }
}
```

### 4.3 Spring Booté›†æˆ


**æ·»åŠ ä¾èµ–**ï¼š
```xml
<dependency>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-starter-actuator</artifactId>
</dependency>
<dependency>
    <groupId>io.micrometer</groupId>
    <artifactId>micrometer-registry-prometheus</artifactId>
</dependency>
```

**é…ç½®ç›‘æ§ç«¯ç‚¹**ï¼š
```yaml
# application.yml
management:
  endpoints:
    web:
      exposure:
        include: prometheus,health,info  # æš´éœ²ç›‘æ§ç«¯ç‚¹
  endpoint:
    prometheus:
      enabled: true
  metrics:
    export:
      prometheus:
        enabled: true
```

---

## 5. ğŸ—„ï¸ æ—¶åºæ•°æ®åº“è¯¦è§£


### 5.1 ä»€ä¹ˆæ˜¯æ—¶åºæ•°æ®åº“


**ç”Ÿæ´»åŒ–ç†è§£**ï¼š
> æ—¶åºæ•°æ®åº“å°±åƒæ˜¯ä¸€ä¸ª**ä¸“é—¨è®°å½•æ—¶é—´æ—¥è®°çš„æœ¬å­**ã€‚æ™®é€šæ•°æ®åº“åƒé€šè®¯å½•ï¼Œä¸»è¦å…³å¿ƒ"è°æ˜¯è°"ï¼›æ—¶åºæ•°æ®åº“åƒæ—¥è®°æœ¬ï¼Œä¸»è¦å…³å¿ƒ"ä»€ä¹ˆæ—¶å€™å‘ç”Ÿäº†ä»€ä¹ˆ"ã€‚

**æ—¶åºæ•°æ®ç‰¹ç‚¹**ï¼š
```
â° æ—¶é—´æ ‡è®°ï¼šæ¯æ¡æ•°æ®éƒ½æœ‰ç²¾ç¡®çš„æ—¶é—´æˆ³
ğŸ“ˆ æŒç»­å¢é•¿ï¼šæ•°æ®åªå¢åŠ ï¼Œå¾ˆå°‘ä¿®æ”¹æˆ–åˆ é™¤
ğŸ·ï¸ æ ‡ç­¾ä¸°å¯Œï¼šé€šè¿‡æ ‡ç­¾åŒºåˆ†ä¸åŒç»´åº¦çš„æ•°æ®
ğŸ“Š èšåˆå‹å¥½ï¼šæ–¹ä¾¿æŒ‰æ—¶é—´æ®µç»Ÿè®¡åˆ†æ
```

### 5.2 æ—¶åºæ•°æ®å­˜å‚¨åŸç†


**æ•°æ®å­˜å‚¨ç¤ºä¾‹**ï¼š
```
æŒ‡æ ‡åç§°ï¼šhttp_requests_total
æ—¶é—´æˆ³ï¼š2025-09-22 15:30:00
æ ‡ç­¾ï¼š{service="user-service", method="GET", status="200"}
æ•°å€¼ï¼š1524

æŒ‡æ ‡åç§°ï¼šhttp_requests_total  
æ—¶é—´æˆ³ï¼š2025-09-22 15:30:15
æ ‡ç­¾ï¼š{service="user-service", method="GET", status="200"}  
æ•°å€¼ï¼š1530

æŒ‡æ ‡åç§°ï¼šhttp_requests_total
æ—¶é—´æˆ³ï¼š2025-09-22 15:30:30
æ ‡ç­¾ï¼š{service="user-service", method="GET", status="200"}
æ•°å€¼ï¼š1545
```

**å­˜å‚¨ä¼˜åŒ–ç­–ç•¥**ï¼š
```
ğŸ—œï¸ æ•°æ®å‹ç¼©ï¼šç›¸ä¼¼æ•°æ®è¿›è¡Œå‹ç¼©å­˜å‚¨
â±ï¸ æ•°æ®åˆ†å±‚ï¼šçƒ­æ•°æ®å¿«é€Ÿè®¿é—®ï¼Œå†·æ•°æ®å½’æ¡£å­˜å‚¨
ğŸ”„ è‡ªåŠ¨æ¸…ç†ï¼šè¶…è¿‡ä¿ç•™æœŸçš„æ•°æ®è‡ªåŠ¨åˆ é™¤
ğŸ“Š é¢„èšåˆï¼šå¸¸ç”¨æŸ¥è¯¢ç»“æœæå‰è®¡ç®—ç¼“å­˜
```

### 5.3 å¸¸ç”¨æ—¶åºæ•°æ®åº“å¯¹æ¯”


| æ•°æ®åº“ | **ä¼˜åŠ¿** | **åŠ£åŠ¿** | **é€‚ç”¨åœºæ™¯** |
|-------|----------|----------|-------------|
| ğŸ“Š **Prometheus** | `éƒ¨ç½²ç®€å•ï¼ŒPromQLå¼ºå¤§` | `é›†ç¾¤åŠŸèƒ½å¼±ï¼Œå­˜å‚¨æœ‰é™` | `ä¸­å°è§„æ¨¡ç›‘æ§` |
| âš¡ **InfluxDB** | `æ€§èƒ½ä¼˜ç§€ï¼ŒåŠŸèƒ½ä¸°å¯Œ` | `å•†ä¸šç‰ˆæ”¶è´¹` | `å¤§è§„æ¨¡æ—¶åºæ•°æ®` |
| ğŸš€ **TimescaleDB** | `SQLå…¼å®¹ï¼Œæ‰©å±•æ€§å¥½` | `è¿ç»´å¤æ‚` | `éœ€è¦SQLæŸ¥è¯¢çš„åœºæ™¯` |

---

## 6. ğŸš¨ å‘Šè­¦æœºåˆ¶è®¾è®¡


### 6.1 å‘Šè­¦çš„é‡è¦æ€§


**å‘Šè­¦å°±åƒå®¶é‡Œçš„çƒŸé›¾æŠ¥è­¦å™¨**ï¼š
> ğŸ  å¹³æ—¶é»˜é»˜ç›‘æ§ï¼Œä¸€æ—¦å‘ç°å¼‚å¸¸ç«‹å³å“é“ƒ
> ğŸ”¥ è®©ä½ åœ¨å°ç«è‹—é˜¶æ®µå°±å‘ç°é—®é¢˜ï¼Œè€Œä¸æ˜¯ç­‰æˆ¿å­çƒ§å…‰äº†æ‰çŸ¥é“
> ğŸ“ ä¸ä»…è¦å“ï¼Œè¿˜è¦é€šçŸ¥åˆ°æ­£ç¡®çš„äºº

### 6.2 å‘Šè­¦è§„åˆ™è®¾è®¡


**å‘Šè­¦è§„åˆ™çš„æ ¸å¿ƒè¦ç´ **ï¼š
```
ğŸ“ è§¦å‘æ¡ä»¶ï¼šä»€ä¹ˆæƒ…å†µä¸‹éœ€è¦å‘Šè­¦
â° æŒç»­æ—¶é—´ï¼šå¼‚å¸¸æŒç»­å¤šä¹…æ‰å‘Šè­¦ï¼ˆé¿å…è¯¯æŠ¥ï¼‰
ğŸ”” å‘Šè­¦çº§åˆ«ï¼šç´§æ€¥ç¨‹åº¦åˆ†çº§
ğŸ‘¥ é€šçŸ¥å¯¹è±¡ï¼šåº”è¯¥é€šçŸ¥å“ªäº›äºº
ğŸ’¬ å‘Šè­¦å†…å®¹ï¼šå‘Šè­¦æ¶ˆæ¯è¦åŒ…å«å“ªäº›ä¿¡æ¯
```

**å®é™…å‘Šè­¦è§„åˆ™ç¤ºä¾‹**ï¼š
```yaml
# Prometheuså‘Šè­¦è§„åˆ™
groups:
  - name: microservice-alerts
    rules:
      # æœåŠ¡ä¸å¯ç”¨å‘Šè­¦
      - alert: ServiceDown
        expr: up == 0
        for: 1m  # æŒç»­1åˆ†é’Ÿæ‰å‘Šè­¦
        labels:
          severity: critical  # ä¸¥é‡çº§åˆ«
        annotations:
          summary: "æœåŠ¡{{ $labels.instance }}å·²åœæ­¢"
          description: "{{ $labels.job }}æœåŠ¡åœ¨{{ $labels.instance }}ä¸Šå·²ç»åœæ­¢è¶…è¿‡1åˆ†é’Ÿ"
          
      # å“åº”æ—¶é—´è¿‡é•¿å‘Šè­¦  
      - alert: HighResponseTime
        expr: http_request_duration_seconds_p99 > 2
        for: 5m
        labels:
          severity: warning
        annotations:
          summary: "å“åº”æ—¶é—´è¿‡é•¿"
          description: "{{ $labels.service }}æœåŠ¡99%åˆ†ä½å“åº”æ—¶é—´è¶…è¿‡2ç§’ï¼Œå½“å‰å€¼ï¼š{{ $value }}ç§’"
```

### 6.3 å‘Šè­¦é€šçŸ¥æ¸ é“


**å¤šæ¸ é“é€šçŸ¥ç­–ç•¥**ï¼š
```
å‘Šè­¦çº§åˆ«åˆ†æµï¼š
â”œâ”€â”€ ğŸ”´ Criticalï¼ˆä¸¥é‡ï¼‰
â”‚   â”œâ”€â”€ ğŸ“ ç”µè¯é€šçŸ¥
â”‚   â”œâ”€â”€ ğŸ“± çŸ­ä¿¡é€šçŸ¥  
â”‚   â””â”€â”€ ğŸ’¬ å³æ—¶æ¶ˆæ¯
â”œâ”€â”€ ğŸŸ¡ Warningï¼ˆè­¦å‘Šï¼‰
â”‚   â”œâ”€â”€ ğŸ“§ é‚®ä»¶é€šçŸ¥
â”‚   â””â”€â”€ ğŸ’¬ å³æ—¶æ¶ˆæ¯
â””â”€â”€ ğŸ”µ Infoï¼ˆä¿¡æ¯ï¼‰
    â””â”€â”€ ğŸ“§ é‚®ä»¶é€šçŸ¥
```

**é€šçŸ¥é…ç½®ç¤ºä¾‹**ï¼š
```yaml
# alertmanager.yml
route:
  group_by: ['alertname']
  group_wait: 10s      # ç­‰å¾…10ç§’æ”¶é›†åŒç»„å‘Šè­¦
  group_interval: 10s
  repeat_interval: 1h  # 1å°æ—¶å†…ä¸é‡å¤å‘é€ç›¸åŒå‘Šè­¦
  receiver: 'default-receiver'
  
receivers:
  - name: 'default-receiver'
    webhook_configs:
      - url: 'http://your-webhook-url'  # é’‰é’‰æœºå™¨äººåœ°å€
        send_resolved: true
    email_configs:
      - to: 'admin@company.com'
        subject: 'ã€å‘Šè­¦ã€‘{{ .GroupLabels.alertname }}'
        body: |
          å‘Šè­¦è¯¦æƒ…ï¼š
          {{ range .Alerts }}
          - å‘Šè­¦åç§°ï¼š{{ .Annotations.summary }}
          - è¯¦ç»†æè¿°ï¼š{{ .Annotations.description }}
          - å‘Šè­¦æ—¶é—´ï¼š{{ .StartsAt }}
          {{ end }}
```

### 6.4 å‘Šè­¦ä¼˜åŒ–ç­–ç•¥


**é¿å…å‘Šè­¦ç–²åŠ³**ï¼š
```
ğŸ¯ ç²¾å‡†åº¦ä¼˜åŒ–ï¼š
- è°ƒæ•´é˜ˆå€¼ï¼Œå‡å°‘è¯¯æŠ¥
- å¢åŠ æŒç»­æ—¶é—´ï¼Œè¿‡æ»¤ç¬æ—¶æŠ–åŠ¨
- è®¾ç½®åˆç†çš„å‘Šè­¦çº§åˆ«

â° æ—¶é—´ç­–ç•¥ï¼š
- å·¥ä½œæ—¶é—´ vs éå·¥ä½œæ—¶é—´ä¸åŒå¤„ç†
- é‡è¦å‘Šè­¦ç«‹å³é€šçŸ¥ï¼Œæ¬¡è¦å‘Šè­¦æ±‡æ€»å‘é€
- é¿å…å‡Œæ™¨éç´§æ€¥å‘Šè­¦

ğŸ‘¥ äººå‘˜ç­–ç•¥ï¼š
- ä¸€çº¿è¿ç»´ â†’ äºŒçº¿å¼€å‘ â†’ ä¸‰çº¿ä¸“å®¶çš„å‡çº§æœºåˆ¶
- ä¸åŒæœåŠ¡é€šçŸ¥ä¸åŒçš„è´Ÿè´£äºº
- å‘Šè­¦è‡ªåŠ¨åˆ†æ´¾ç»™å½“ç­äººå‘˜
```

---

## 7. ğŸ“ˆ å®¹é‡è§„åˆ’å®è·µ


### 7.1 å®¹é‡è§„åˆ’çš„æ„ä¹‰


**å®¹é‡è§„åˆ’å°±åƒåŸå¸‚äº¤é€šè§„åˆ’**ï¼š
> ğŸš— ç°åœ¨è·¯ä¸Šæœ‰å¤šå°‘è½¦ï¼Ÿï¼ˆå½“å‰è´Ÿè½½ï¼‰
> ğŸ›£ï¸ é“è·¯èƒ½æ‰¿å—å¤šå°‘è½¦ï¼Ÿï¼ˆç³»ç»Ÿå®¹é‡ï¼‰
> ğŸ“ˆ æœªæ¥è½¦ä¼šå¢åŠ å¤šå°‘ï¼Ÿï¼ˆä¸šåŠ¡å¢é•¿é¢„æµ‹ï¼‰
> ğŸ—ï¸ éœ€è¦ä¿®å‡ æ¡æ–°è·¯ï¼Ÿï¼ˆæ‰©å®¹è®¡åˆ’ï¼‰

### 7.2 å…³é”®å®¹é‡æŒ‡æ ‡


**æ ¸å¿ƒç›‘æ§æŒ‡æ ‡ä½“ç³»**ï¼š

| æŒ‡æ ‡ç±»åˆ« | **å…·ä½“æŒ‡æ ‡** | **å«ä¹‰è¯´æ˜** | **å‘Šè­¦é˜ˆå€¼** |
|---------|-------------|-------------|-------------|
| ğŸ–¥ï¸ **CPU** | `cpuä½¿ç”¨ç‡` | `å¤„ç†å™¨ç¹å¿™ç¨‹åº¦` | `>80%å‘Šè­¦` |
| ğŸ’¾ **å†…å­˜** | `å†…å­˜ä½¿ç”¨ç‡` | `å†…å­˜å ç”¨æƒ…å†µ` | `>85%å‘Šè­¦` |
| ğŸ’½ **ç£ç›˜** | `ç£ç›˜ä½¿ç”¨ç‡` | `å­˜å‚¨ç©ºé—´å ç”¨` | `>90%å‘Šè­¦` |
| ğŸŒ **ç½‘ç»œ** | `ç½‘ç»œå¸¦å®½ä½¿ç”¨ç‡` | `ç½‘ç»œä¼ è¾“å‹åŠ›` | `>70%å‘Šè­¦` |
| ğŸ”„ **QPS** | `æ¯ç§’è¯·æ±‚æ•°` | `ç³»ç»Ÿå¤„ç†èƒ½åŠ›` | `æŒ‰æœåŠ¡å®šåˆ¶` |
| â±ï¸ **å»¶è¿Ÿ** | `å“åº”æ—¶é—´` | `ç”¨æˆ·ä½“éªŒæŒ‡æ ‡` | `P99<500ms` |

### 7.3 å®¹é‡è§„åˆ’æµç¨‹


**ç¬¬1æ­¥ï¼šåŸºå‡†æµ‹è¯•**
```
ğŸ¯ ç›®æ ‡ï¼šäº†è§£å•å°æœåŠ¡å™¨çš„å¤„ç†èƒ½åŠ›ä¸Šé™

æµ‹è¯•æ–¹æ³•ï¼š
1. ä½¿ç”¨å‹æµ‹å·¥å…·ï¼ˆå¦‚JMeterï¼‰
2. é€æ­¥å¢åŠ å¹¶å‘é‡
3. è®°å½•æ€§èƒ½æ‹ç‚¹

å…¸å‹ç»“æœï¼š
- å•å°æœåŠ¡å™¨æœ€å¤§QPSï¼š1000
- CPUä½¿ç”¨ç‡è¾¾åˆ°80%æ—¶å“åº”æ—¶é—´å¼€å§‹æ¶åŒ–
- å†…å­˜ä½¿ç”¨ç‡ç¨³å®šåœ¨60%å·¦å³
```

**ç¬¬2æ­¥ï¼šå®¹é‡å»ºæ¨¡**
```
ğŸ§® æ ¹æ®ä¸šåŠ¡æŒ‡æ ‡è®¡ç®—æ‰€éœ€å®¹é‡

ç¤ºä¾‹è®¡ç®—ï¼š
- é¢„æœŸæ—¥æ´»ç”¨æˆ·ï¼š100ä¸‡
- æ¯ä¸ªç”¨æˆ·å¹³å‡è¯·æ±‚ï¼š20æ¬¡/å¤©
- å³°å€¼æ—¶æ®µé›†ä¸­åº¦ï¼š20%ï¼ˆ8å°æ—¶å†…ï¼‰
- å®‰å…¨å†—ä½™ï¼š2å€

æ€»QPSéœ€æ±‚ = 100ä¸‡ Ã— 20 Ã· (8Ã—3600) Ã— 0.2 Ã— 2 = 2778 QPS
æ‰€éœ€æœåŠ¡å™¨ = 2778 Ã· 1000 = 3å°ï¼ˆå‘ä¸Šå–æ•´ï¼‰
```

**ç¬¬3æ­¥ï¼šæ‰©å®¹ç­–ç•¥**
```
ğŸ“Š åˆ¶å®šåˆ†é˜¶æ®µæ‰©å®¹è®¡åˆ’

é˜¶æ®µ1ï¼šå½“å‰çŠ¶æ€
- æœåŠ¡å™¨æ•°é‡ï¼š2å°
- å¤„ç†èƒ½åŠ›ï¼š2000 QPS
- ä½¿ç”¨ç‡ï¼š60%

é˜¶æ®µ2ï¼šä¸šåŠ¡å¢é•¿50%
- é¢„æœŸQPSï¼š3000  
- éœ€è¦æœåŠ¡å™¨ï¼š3å°
- æ‰©å®¹æ—¶æœºï¼šå½“å‰QPSè¾¾åˆ°1600æ—¶

é˜¶æ®µ3ï¼šä¸šåŠ¡ç¿»å€
- é¢„æœŸQPSï¼š4000
- éœ€è¦æœåŠ¡å™¨ï¼š4å°  
- æ‰©å®¹æ—¶æœºï¼šå½“å‰QPSè¾¾åˆ°2400æ—¶
```

### 7.4 è‡ªåŠ¨åŒ–å®¹é‡ç®¡ç†


**åŸºäºç›‘æ§çš„è‡ªåŠ¨æ‰©å®¹**ï¼š
```yaml
# Kubernetes HPAé…ç½®ç¤ºä¾‹
apiVersion: autoscaling/v2
kind: HorizontalPodAutoscaler
metadata:
  name: user-service-hpa
spec:
  scaleTargetRef:
    apiVersion: apps/v1
    kind: Deployment
    name: user-service
  minReplicas: 2      # æœ€å°‘å®ä¾‹æ•°
  maxReplicas: 10     # æœ€å¤šå®ä¾‹æ•°
  metrics:
    - type: Resource
      resource:
        name: cpu
        target:
          type: Utilization
          averageUtilization: 70  # CPUè¶…è¿‡70%æ—¶æ‰©å®¹
    - type: Pods
      pods:
        metric:
          name: http_requests_per_second
        target:
          type: AverageValue
          averageValue: "800"     # æ¯ä¸ªPod QPSè¶…è¿‡800æ—¶æ‰©å®¹
```

---

## 8. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 8.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ ç›‘æ§æŠ€æœ¯æ ˆï¼šPrometheus + Grafana + Micrometerçš„å®Œæ•´ä½“ç³»
ğŸ”¸ æ—¶åºæ•°æ®ï¼šæŒ‰æ—¶é—´åºåˆ—å­˜å‚¨çš„ç›‘æ§æŒ‡æ ‡æ•°æ®
ğŸ”¸ å‘Šè­¦æœºåˆ¶ï¼šè‡ªåŠ¨å‘ç°é—®é¢˜å¹¶åŠæ—¶é€šçŸ¥çš„ç³»ç»Ÿ
ğŸ”¸ å®¹é‡è§„åˆ’ï¼šåŸºäºç›‘æ§æ•°æ®è¿›è¡Œçš„èµ„æºè§„åˆ’
ğŸ”¸ å¯è§†åŒ–ï¼šå°†æ•°å­—æŒ‡æ ‡è½¬æ¢ä¸ºç›´è§‚å›¾è¡¨çš„è¿‡ç¨‹
```

### 8.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ ç›‘æ§çš„æœ¬è´¨**
```
ä¸æ˜¯ä¸ºäº†ç›‘æ§è€Œç›‘æ§ï¼Œè€Œæ˜¯ä¸ºäº†ï¼š
âœ… åŠæ—¶å‘ç°é—®é¢˜
âœ… å¿«é€Ÿå®šä½æ•…éšœ  
âœ… ä¼˜åŒ–ç³»ç»Ÿæ€§èƒ½
âœ… æŒ‡å¯¼å®¹é‡è§„åˆ’
âœ… æå‡ç”¨æˆ·ä½“éªŒ
```

**ğŸ”¹ æŒ‡æ ‡çš„é€‰æ‹©åŸåˆ™**
```
é»„é‡‘æŒ‡æ ‡æ³•åˆ™ï¼š
- å»¶è¿Ÿï¼ˆLatencyï¼‰ï¼šç”¨æˆ·ç­‰å¾…æ—¶é—´
- æµé‡ï¼ˆTrafficï¼‰ï¼šç³»ç»Ÿå¤„ç†è¯·æ±‚é‡
- é”™è¯¯ï¼ˆErrorsï¼‰ï¼šå¤±è´¥è¯·æ±‚æ¯”ä¾‹  
- é¥±å’Œåº¦ï¼ˆSaturationï¼‰ï¼šèµ„æºä½¿ç”¨ç¨‹åº¦

ä¸šåŠ¡æŒ‡æ ‡ï¼š
- ç”¨æˆ·æ³¨å†Œæ•°ã€è®¢å•é‡ç­‰ä¸šåŠ¡KPI
- ä¸å…¬å¸æ ¸å¿ƒæŒ‡æ ‡ç›´æ¥ç›¸å…³
```

**ğŸ”¹ å‘Šè­¦è®¾è®¡å“²å­¦**
```
å®å¯æ¼æŠ¥ï¼Œä¸è¦è¯¯æŠ¥ï¼š
- è¯¯æŠ¥ä¼šè®©äººå¯¹å‘Šè­¦å¤±å»ä¿¡ä»»
- åˆç†è®¾ç½®é˜ˆå€¼å’ŒæŒç»­æ—¶é—´
- å®šæœŸå›é¡¾å’Œä¼˜åŒ–å‘Šè­¦è§„åˆ™

åˆ†çº§å¤„ç†ï¼Œå¿«é€Ÿå“åº”ï¼š
- ä¸¥é‡é—®é¢˜ç«‹å³é€šçŸ¥
- ä¸€èˆ¬é—®é¢˜æ±‡æ€»é€šçŸ¥
- å»ºç«‹å‘Šè­¦å‡çº§æœºåˆ¶
```

### 8.3 å®é™…åº”ç”¨ä»·å€¼


**ğŸ¯ ä¸šåŠ¡ä»·å€¼ä½“ç°**ï¼š
- **æ•…éšœæ¢å¤æ—¶é—´**ï¼šä»å°æ—¶çº§ç¼©çŸ­åˆ°åˆ†é’Ÿçº§
- **ç³»ç»Ÿå¯ç”¨æ€§**ï¼šä»99%æå‡åˆ°99.9%ä»¥ä¸Š
- **è¿ç»´æ•ˆç‡**ï¼šå‡å°‘80%çš„äººå·¥å·¡æ£€å·¥ä½œ
- **æˆæœ¬ä¼˜åŒ–**ï¼šé¿å…è¿‡åº¦é…ç½®ï¼ŒèŠ‚çœ20-30%æˆæœ¬

**ğŸ”§ æŠ€æœ¯å®è·µè¦ç‚¹**ï¼š
- **ç›‘æ§å…¨è¦†ç›–**ï¼šä»åŸºç¡€è®¾æ–½åˆ°ä¸šåŠ¡æŒ‡æ ‡
- **å¯è§†åŒ–ç›´è§‚**ï¼šè®©éæŠ€æœ¯äººå‘˜ä¹Ÿèƒ½çœ‹æ‡‚
- **å‘Šè­¦åŠæ—¶å‡†ç¡®**ï¼šç¬¬ä¸€æ—¶é—´å‘ç°å¹¶é€šçŸ¥é—®é¢˜
- **æ•°æ®é©±åŠ¨å†³ç­–**ï¼šåŸºäºç›‘æ§æ•°æ®åšæŠ€æœ¯å†³ç­–

### 8.4 å­¦ä¹ è·¯å¾„å»ºè®®


**ğŸ“š å­¦ä¹ é¡ºåº**ï¼š
```
ç¬¬1é˜¶æ®µï¼šç†è§£ç›‘æ§æ¦‚å¿µ
â”œâ”€â”€ ç›‘æ§çš„ä½œç”¨å’Œä»·å€¼
â”œâ”€â”€ å¸¸è§ç›‘æ§æŒ‡æ ‡å«ä¹‰
â””â”€â”€ ç›‘æ§æŠ€æœ¯æ ˆæ¦‚è§ˆ

ç¬¬2é˜¶æ®µï¼šåŠ¨æ‰‹å®è·µ
â”œâ”€â”€ æ­å»ºPrometheus+Grafanaç¯å¢ƒ
â”œâ”€â”€ åœ¨Spring Bootä¸­é›†æˆMicrometer
â””â”€â”€ é…ç½®åŸºç¡€ç›‘æ§å¤§ç›˜

ç¬¬3é˜¶æ®µï¼šæ·±å…¥åº”ç”¨  
â”œâ”€â”€ è®¾è®¡ä¸šåŠ¡ç›‘æ§æŒ‡æ ‡
â”œâ”€â”€ é…ç½®å‘Šè­¦è§„åˆ™
â””â”€â”€ åˆ¶å®šå®¹é‡è§„åˆ’æ–¹æ¡ˆ

ç¬¬4é˜¶æ®µï¼šä¼˜åŒ–æå‡
â”œâ”€â”€ ç›‘æ§æ€§èƒ½è°ƒä¼˜
â”œâ”€â”€ å‘Šè­¦è§„åˆ™ä¼˜åŒ–
â””â”€â”€ è‡ªåŠ¨åŒ–è¿ç»´å®è·µ
```

**ğŸ’¡ å®è·µå»ºè®®**ï¼š
- **ä»ç®€å•å¼€å§‹**ï¼šå…ˆç›‘æ§åŸºç¡€æŒ‡æ ‡ï¼Œå†é€æ­¥å®Œå–„
- **å…³æ³¨ä¸šåŠ¡**ï¼šæŠ€æœ¯æŒ‡æ ‡è¦ä¸ä¸šåŠ¡ç›®æ ‡å…³è”
- **æŒç»­æ”¹è¿›**ï¼šå®šæœŸå›é¡¾ç›‘æ§æ•ˆæœï¼Œä¼˜åŒ–é…ç½®
- **å›¢é˜Ÿåä½œ**ï¼šå¼€å‘å’Œè¿ç»´å›¢é˜Ÿå…±åŒå‚ä¸ç›‘æ§å»ºè®¾

**æ ¸å¿ƒè®°å¿†å£è¯€**ï¼š
```
ç›‘æ§å¦‚åŒ»ç”Ÿï¼Œæ—¶åˆ»æŸ¥ä½“å¾
æŒ‡æ ‡è¦ç²¾å‡†ï¼Œå‘Šè­¦éœ€åŠæ—¶  
å›¾è¡¨æ˜¾ç›´è§‚ï¼Œå®¹é‡æå‰çŸ¥
æŠ€æœ¯æœåŠ¡ä¸šåŠ¡ï¼Œæ•°æ®é©±åŠ¨å†³ç­–
```