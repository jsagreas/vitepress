---
title: 2ã€SSOå®ç°æ–¹æ¡ˆ
---
## ğŸ“š ç›®å½•

1. [SSOå•ç‚¹ç™»å½•åŸºç¡€æ¦‚å¿µ](#1-SSOå•ç‚¹ç™»å½•åŸºç¡€æ¦‚å¿µ)
2. [OAuth2.0ä¸SSOçš„å…³ç³»](#2-OAuth20ä¸SSOçš„å…³ç³»)
3. [SSOå®ç°æ–¹æ¡ˆè®¾è®¡](#3-SSOå®ç°æ–¹æ¡ˆè®¾è®¡)
4. [OAuth2.0æœåŠ¡é›†æˆå®æˆ˜](#4-OAuth20æœåŠ¡é›†æˆå®æˆ˜)
5. [ç™»å½•ç™»å‡ºæµç¨‹å®ç°](#5-ç™»å½•ç™»å‡ºæµç¨‹å®ç°)
6. [çŠ¶æ€ç®¡ç†ä¸ä¼šè¯æ§åˆ¶](#6-çŠ¶æ€ç®¡ç†ä¸ä¼šè¯æ§åˆ¶)
7. [è·¨åŸŸé—®é¢˜è§£å†³æ–¹æ¡ˆ](#7-è·¨åŸŸé—®é¢˜è§£å†³æ–¹æ¡ˆ)
8. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#8-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ” SSOå•ç‚¹ç™»å½•åŸºç¡€æ¦‚å¿µ


### 1.1 ä»€ä¹ˆæ˜¯SSOå•ç‚¹ç™»å½•


**ç”Ÿæ´»åŒ–ç†è§£**ï¼š
```
ä¼ ç»Ÿç™»å½•æ–¹å¼ï¼š
- è®¿é—®äº¬ä¸œ â†’ ç™»å½•äº¬ä¸œè´¦å·
- è®¿é—®å¤©çŒ« â†’ ç™»å½•å¤©çŒ«è´¦å·
- è®¿é—®æ‹¼å¤šå¤š â†’ ç™»å½•æ‹¼å¤šå¤šè´¦å·
æ¯ä¸ªç½‘ç«™éƒ½è¦ç™»å½•ä¸€æ¬¡ï¼Œå¾ˆéº»çƒ¦ï¼

SSOå•ç‚¹ç™»å½•ï¼š
- ç™»å½•å¾®ä¿¡ â†’ è‡ªåŠ¨ç™»å½•æ‰€æœ‰è…¾è®¯ç³»åº”ç”¨
- ç™»å½•æ·˜å® â†’ è‡ªåŠ¨ç™»å½•å¤©çŒ«ã€é—²é±¼ã€é£çŒª
ä¸€æ¬¡ç™»å½•ï¼Œå¤„å¤„ç•…é€šï¼
```

**ä¸“ä¸šå®šä¹‰**ï¼š
```
SSOï¼ˆSingle Sign-Onï¼‰å•ç‚¹ç™»å½•ï¼š
ç”¨æˆ·åªéœ€è¦ç™»å½•ä¸€æ¬¡ï¼Œå°±å¯ä»¥è®¿é—®æ‰€æœ‰ç›¸äº’ä¿¡ä»»çš„åº”ç”¨ç³»ç»Ÿ
æ— éœ€åœ¨æ¯ä¸ªç³»ç»Ÿä¸­é‡å¤ç™»å½•

æ ¸å¿ƒä»·å€¼ï¼š
âœ… ç”¨æˆ·ä½“éªŒå¥½ - ä¸€æ¬¡ç™»å½•åˆ°å¤„ç”¨
âœ… å®‰å…¨æ€§é«˜ - ç»Ÿä¸€çš„èº«ä»½è®¤è¯ä¸­å¿ƒ
âœ… ç»´æŠ¤æ–¹ä¾¿ - é›†ä¸­ç®¡ç†ç”¨æˆ·ä¿¡æ¯
âœ… é™ä½æˆæœ¬ - å‡å°‘é‡å¤å¼€å‘
```

### 1.2 SSOçš„åº”ç”¨åœºæ™¯


**ä¼ä¸šå†…éƒ¨ç³»ç»Ÿ**ï¼š
```
åœºæ™¯ï¼šå…¬å¸æœ‰å¤šä¸ªä¸šåŠ¡ç³»ç»Ÿ
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        ç»Ÿä¸€è®¤è¯ä¸­å¿ƒ              â”‚
â”‚     (ADåŸŸ/LDAP/è‡ªå»º)            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“ ä¸€æ¬¡ç™»å½•
    â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”
    â†“             â†“      â†“      â†“
  OAç³»ç»Ÿ      é‚®ä»¶ç³»ç»Ÿ  ERP   CRM

å‘˜å·¥åªéœ€ç™»å½•ä¸€æ¬¡ï¼Œè®¿é—®æ‰€æœ‰ç³»ç»Ÿ
```

**äº’è”ç½‘å¹³å°**ï¼š
```
åœºæ™¯ï¼šå¤§å‹äº’è”ç½‘å…¬å¸çš„äº§å“çŸ©é˜µ
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        é˜¿é‡Œå·´å·´è´¦å·ä½“ç³»          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“ ä¸€æ¬¡ç™»å½•
    â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”
    â†“             â†“      â†“      â†“
  æ·˜å®          å¤©çŒ«    æ”¯ä»˜å®  é’‰é’‰

ç”¨æˆ·ç™»å½•æ·˜å®åï¼Œè®¿é—®å…¶ä»–åº”ç”¨è‡ªåŠ¨ç™»å½•
```

### 1.3 SSOçš„æ ¸å¿ƒç»„æˆ


**ä¸‰å¤§è§’è‰²**ï¼š
```
ç”¨æˆ·(User)           â†â†’    è®¤è¯ä¸­å¿ƒ(Auth Server)
   â†“                              â†“
è®¿é—®åº”ç”¨ â†’ æ£€æŸ¥ç™»å½• â†’ é‡å®šå‘è®¤è¯ â†’ éªŒè¯èº«ä»½
   â†“                              â†“
åº”ç”¨ç³»ç»Ÿ(Service)    â†â”€ è¿”å›å‡­è¯ â”€â”˜

ğŸ”¸ ç”¨æˆ·ï¼šè¦è®¿é—®ç³»ç»Ÿçš„äºº
ğŸ”¸ è®¤è¯ä¸­å¿ƒï¼šè´Ÿè´£éªŒè¯èº«ä»½çš„æœåŠ¡å™¨
ğŸ”¸ åº”ç”¨ç³»ç»Ÿï¼šéœ€è¦è¢«è®¿é—®çš„å„ä¸ªä¸šåŠ¡ç³»ç»Ÿ
```

**å·¥ä½œæµç¨‹ç®€åŒ–ç‰ˆ**ï¼š
```
æ­¥éª¤1: ç”¨æˆ·è®¿é—®åº”ç”¨A
æ­¥éª¤2: åº”ç”¨Aå‘ç°ç”¨æˆ·æœªç™»å½•
æ­¥éª¤3: é‡å®šå‘åˆ°è®¤è¯ä¸­å¿ƒ
æ­¥éª¤4: ç”¨æˆ·åœ¨è®¤è¯ä¸­å¿ƒç™»å½•
æ­¥éª¤5: è®¤è¯ä¸­å¿ƒè¿”å›ç™»å½•å‡­è¯
æ­¥éª¤6: åº”ç”¨AéªŒè¯å‡­è¯ï¼Œå…è®¸è®¿é—®
æ­¥éª¤7: ç”¨æˆ·è®¿é—®åº”ç”¨Bæ—¶ï¼Œç›´æ¥ä½¿ç”¨åŒä¸€å‡­è¯
```

---

## 2. ğŸ”— OAuth2.0ä¸SSOçš„å…³ç³»


### 2.1 OAuth2.0å’ŒSSOçš„åŒºåˆ«


**æœ¬è´¨åŒºåˆ«**ï¼š
```
OAuth2.0ï¼šæˆæƒåè®®
- ç›®çš„ï¼šè®©ç¬¬ä¸‰æ–¹åº”ç”¨è·å¾—æœ‰é™çš„è®¿é—®æƒé™
- ä¾‹å­ï¼šç”¨å¾®ä¿¡ç™»å½•å…¶ä»–APPï¼Œå…è®¸è¯»å–æ˜µç§°å¤´åƒ

SSOï¼šè®¤è¯æ–¹æ¡ˆ
- ç›®çš„ï¼šè®©ç”¨æˆ·ä¸€æ¬¡ç™»å½•è®¿é—®å¤šä¸ªè‡ªå®¶ç³»ç»Ÿ
- ä¾‹å­ï¼šç™»å½•æ·˜å®åè‡ªåŠ¨ç™»å½•å¤©çŒ«
```

**å½¢è±¡å¯¹æ¯”**ï¼š
```
â”Œâ”€ OAuth2.0 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å°±åƒä½ è¯·æœ‹å‹å¸®å¿™ä»£æ‹¿å¿«é€’    â”‚
â”‚ ä½ ç»™æœ‹å‹ä¸€ä¸ªå–ä»¶ç (token)   â”‚
â”‚ æœ‹å‹åªèƒ½å–è¿™ä¸ªå¿«é€’ï¼Œä¸èƒ½å¼€  â”‚
â”‚ ä½ çš„æˆ¿é—¨(æœ‰é™æˆæƒ)         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ SSO â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å°±åƒä½ ç”¨ä¸€æŠŠä¸»é’¥åŒ™          â”‚
â”‚ å¯ä»¥å¼€è‡ªå·±å®¶æ‰€æœ‰æˆ¿é—´çš„é—¨    â”‚
â”‚ å§å®¤ã€å¨æˆ¿ã€ä¹¦æˆ¿éƒ½èƒ½è¿›      â”‚
â”‚ (ç»Ÿä¸€è®¤è¯ï¼Œåˆ°å¤„è®¿é—®)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 ä¸ºä»€ä¹ˆç”¨OAuth2.0å®ç°SSO


**OAuth2.0çš„ä¼˜åŠ¿**ï¼š
```
âœ… æ ‡å‡†åŒ–åè®® - ä¸šç•Œé€šç”¨ï¼Œæˆç†Ÿç¨³å®š
âœ… çµæ´»æ€§é«˜ - æ”¯æŒå¤šç§æˆæƒæ¨¡å¼
âœ… å®‰å…¨æ€§å¼º - Tokenæœºåˆ¶ï¼Œä¸ä¼ å¯†ç 
âœ… æ˜“äºé›†æˆ - ä¸»æµæ¡†æ¶éƒ½æ”¯æŒ
âœ… å¯æ‰©å±•æ€§å¥½ - é€‚åˆå¾®æœåŠ¡æ¶æ„
```

**å®é™…ä½¿ç”¨åœºæ™¯**ï¼š
```
åœºæ™¯1ï¼šä¼ä¸šå†…éƒ¨SSO
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Spring Security OAuth2     â”‚
â”‚ ä½œä¸ºè®¤è¯ä¸­å¿ƒ               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â†“
  å„ä¸ªå¾®æœåŠ¡ä½œä¸ºèµ„æºæœåŠ¡å™¨

åœºæ™¯2ï¼šå¼€æ”¾å¹³å°SSO
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ä½¿ç”¨OAuth2.0æˆæƒç æ¨¡å¼     â”‚
â”‚ å®ç°ç¬¬ä¸‰æ–¹ç™»å½•             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.3 OAuth2.0çš„å››ç§æ¨¡å¼é€‰æ‹©


**æˆæƒç æ¨¡å¼ï¼ˆæœ€å®‰å…¨ï¼ŒSSOå¸¸ç”¨ï¼‰**ï¼š
```
é€‚ç”¨åœºæ™¯ï¼šæœ‰åç«¯æœåŠ¡å™¨çš„Webåº”ç”¨
å®‰å…¨æ€§ï¼šâ­â­â­â­â­
æµç¨‹ï¼š
ç”¨æˆ· â†’ åº”ç”¨ â†’ è®¤è¯ä¸­å¿ƒ â†’ è·å–æˆæƒç  
     â†’ åº”ç”¨åç«¯ç”¨æˆæƒç æ¢token

ä¼˜ç‚¹ï¼štokenä¸ç»è¿‡æµè§ˆå™¨ï¼Œæœ€å®‰å…¨
```

**ç®€åŒ–æ¨¡å¼ï¼ˆå·²ä¸æ¨èï¼‰**ï¼š
```
é€‚ç”¨åœºæ™¯ï¼šçº¯å‰ç«¯åº”ç”¨ï¼ˆSPAï¼‰
å®‰å…¨æ€§ï¼šâ­â­â­â˜†â˜†
æµç¨‹ï¼š
ç”¨æˆ· â†’ åº”ç”¨ â†’ è®¤è¯ä¸­å¿ƒ â†’ ç›´æ¥è¿”å›token

ç¼ºç‚¹ï¼štokenæš´éœ²åœ¨URLä¸­ï¼Œæœ‰é£é™©
```

**å¯†ç æ¨¡å¼ï¼ˆä¿¡ä»»åœºæ™¯ï¼‰**ï¼š
```
é€‚ç”¨åœºæ™¯ï¼šè‡ªå®¶åº”ç”¨ï¼Œé«˜åº¦ä¿¡ä»»
å®‰å…¨æ€§ï¼šâ­â­â­â­â˜†
æµç¨‹ï¼š
ç”¨æˆ·ç›´æ¥æŠŠè´¦å·å¯†ç ç»™åº”ç”¨
åº”ç”¨æ‹¿è´¦å·å¯†ç å»æ¢token

ä½¿ç”¨åœºæ™¯ï¼šç§»åŠ¨APPç™»å½•
```

**å®¢æˆ·ç«¯æ¨¡å¼ï¼ˆæœåŠ¡é—´è°ƒç”¨ï¼‰**ï¼š
```
é€‚ç”¨åœºæ™¯ï¼šå¾®æœåŠ¡ä¹‹é—´çš„è°ƒç”¨
å®‰å…¨æ€§ï¼šâ­â­â­â­â˜†
æµç¨‹ï¼š
æœåŠ¡Aç›´æ¥ç”¨client_idå’Œsecretæ¢token

ä½¿ç”¨åœºæ™¯ï¼šåå°å®šæ—¶ä»»åŠ¡ã€æœåŠ¡è°ƒç”¨
```

---

## 3. ğŸ—ï¸ SSOå®ç°æ–¹æ¡ˆè®¾è®¡


### 3.1 æ•´ä½“æ¶æ„è®¾è®¡


**æ¶æ„å›¾ç¤º**ï¼š
```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  è®¤è¯ä¸­å¿ƒ        â”‚
                    â”‚  (Auth Server)  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â†‘ â†“
              éªŒè¯token    â†‘ â†“    é¢å‘token
                           â†‘ â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â†“                  â†“                     â†“
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ ç”¨æˆ·æœåŠ¡ â”‚       â”‚ è®¢å•æœåŠ¡ â”‚          â”‚ å•†å“æœåŠ¡ â”‚
   â”‚ (å¾®æœåŠ¡A)â”‚       â”‚ (å¾®æœåŠ¡B)â”‚          â”‚ (å¾®æœåŠ¡C)â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†‘                  â†‘                     â†‘
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          ç”¨æˆ·è®¿é—®
```

**å…³é”®ç»„ä»¶**ï¼š
```
ğŸ”¸ è®¤è¯ä¸­å¿ƒï¼ˆAuthorization Serverï¼‰
   - è´Ÿè´£ç”¨æˆ·ç™»å½•éªŒè¯
   - é¢å‘å’Œç®¡ç†token
   - å­˜å‚¨ç”¨æˆ·ä¿¡æ¯

ğŸ”¸ èµ„æºæœåŠ¡å™¨ï¼ˆResource Serverï¼‰
   - å„ä¸ªä¸šåŠ¡å¾®æœåŠ¡
   - éªŒè¯tokenæœ‰æ•ˆæ€§
   - æä¾›ä¸šåŠ¡åŠŸèƒ½

ğŸ”¸ ç½‘å…³ï¼ˆGatewayï¼‰
   - ç»Ÿä¸€å…¥å£
   - tokenéªŒè¯
   - è¯·æ±‚è½¬å‘
```

### 3.2 æŠ€æœ¯é€‰å‹æ–¹æ¡ˆ


**Spring Cloudå…¨å®¶æ¡¶æ–¹æ¡ˆ**ï¼š
```
â”Œâ”€ æ¨èæŠ€æœ¯æ ˆ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            â”‚
â”‚ è®¤è¯ä¸­å¿ƒï¼š                 â”‚
â”‚  â”œâ”€ Spring Authorization   â”‚
â”‚  â”‚   Server (æœ€æ–°)        â”‚
â”‚  â””â”€ Spring Security        â”‚
â”‚                            â”‚
â”‚ èµ„æºæœåŠ¡å™¨ï¼š               â”‚
â”‚  â”œâ”€ Spring Security OAuth2 â”‚
â”‚  â”‚   Resource Server      â”‚
â”‚  â””â”€ Spring Security        â”‚
â”‚                            â”‚
â”‚ Tokenå­˜å‚¨ï¼š                â”‚
â”‚  â”œâ”€ Redis (æ¨è)          â”‚
â”‚  â””â”€ JWT (æ— çŠ¶æ€)          â”‚
â”‚                            â”‚
â”‚ ç½‘å…³ï¼š                     â”‚
â”‚  â””â”€ Spring Cloud Gateway  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.3 æ•°æ®åº“è®¾è®¡


**æ ¸å¿ƒè¡¨ç»“æ„**ï¼š
```sql
-- ç”¨æˆ·è¡¨
ç”¨æˆ·è¡¨ (oauth_user)
â”œâ”€ id: ç”¨æˆ·ID
â”œâ”€ username: ç”¨æˆ·å
â”œâ”€ password: å¯†ç (åŠ å¯†)
â”œâ”€ enabled: æ˜¯å¦å¯ç”¨
â””â”€ create_time: åˆ›å»ºæ—¶é—´

-- å®¢æˆ·ç«¯è¡¨
å®¢æˆ·ç«¯è¡¨ (oauth_client)
â”œâ”€ client_id: å®¢æˆ·ç«¯ID
â”œâ”€ client_secret: å®¢æˆ·ç«¯å¯†é’¥
â”œâ”€ scope: æˆæƒèŒƒå›´
â”œâ”€ grant_types: æˆæƒç±»å‹
â””â”€ redirect_uris: å›è°ƒåœ°å€

-- Tokenè¡¨
Tokenè¡¨ (oauth_token)
â”œâ”€ token_id: Token ID
â”œâ”€ token_value: Tokenå€¼
â”œâ”€ user_id: ç”¨æˆ·ID
â”œâ”€ client_id: å®¢æˆ·ç«¯ID
â”œâ”€ expire_time: è¿‡æœŸæ—¶é—´
â””â”€ create_time: åˆ›å»ºæ—¶é—´
```

---

## 4. ğŸ”§ OAuth2.0æœåŠ¡é›†æˆå®æˆ˜


### 4.1 è®¤è¯ä¸­å¿ƒæ­å»º


**Mavenä¾èµ–**ï¼š
```xml
<!-- Spring Security OAuth2 è®¤è¯ä¸­å¿ƒ -->
<dependency>
    <groupId>org.springframework.security</groupId>
    <artifactId>spring-security-oauth2-authorization-server</artifactId>
</dependency>

<!-- Rediså­˜å‚¨Token -->
<dependency>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-starter-data-redis</artifactId>
</dependency>
```

**æ ¸å¿ƒé…ç½®ç±»**ï¼š
```java
@Configuration
public class AuthServerConfig {
    
    // é…ç½®å®¢æˆ·ç«¯ä¿¡æ¯
    @Bean
    public RegisteredClientRepository clientRepository() {
        RegisteredClient client = RegisteredClient
            .withId("user-service")
            .clientId("user-client")
            .clientSecret("{noop}secret") // å®é™…ä½¿ç”¨è¦åŠ å¯†
            .authorizationGrantType(AuthorizationGrantType.AUTHORIZATION_CODE)
            .redirectUri("http://localhost:8081/login/oauth2/code/user")
            .scope("user.read")
            .scope("user.write")
            .build();
            
        return new InMemoryRegisteredClientRepository(client);
    }
    
    // é…ç½®Tokenè®¾ç½®
    @Bean
    public TokenSettings tokenSettings() {
        return TokenSettings.builder()
            .accessTokenTimeToLive(Duration.ofHours(2)) // tokenæœ‰æ•ˆæœŸ2å°æ—¶
            .refreshTokenTimeToLive(Duration.ofDays(7)) // åˆ·æ–°tokenæœ‰æ•ˆæœŸ7å¤©
            .build();
    }
}
```

### 4.2 èµ„æºæœåŠ¡å™¨é›†æˆ


**é…ç½®æ–‡ä»¶**ï¼š
```yaml
spring:
  security:
    oauth2:
      resourceserver:
        jwt:
          # è®¤è¯ä¸­å¿ƒçš„åœ°å€
          issuer-uri: http://localhost:9000
```

**å®‰å…¨é…ç½®**ï¼š
```java
@Configuration
@EnableWebSecurity
public class ResourceServerConfig {
    
    @Bean
    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {
        http
            .authorizeHttpRequests(auth -> auth
                .requestMatchers("/public/**").permitAll() // å…¬å¼€æ¥å£
                .anyRequest().authenticated() // å…¶ä»–éœ€è¦è®¤è¯
            )
            .oauth2ResourceServer(oauth2 -> oauth2
                .jwt(jwt -> jwt.decoder(jwtDecoder())) // JWTè§£æ
            );
        return http.build();
    }
}
```

### 4.3 ç½‘å…³ç»Ÿä¸€è®¤è¯


**ç½‘å…³é…ç½®**ï¼š
```yaml
spring:
  cloud:
    gateway:
      routes:
        - id: user-service
          uri: lb://user-service
          predicates:
            - Path=/user/**
          filters:
            - TokenRelay # ä¼ é€’token
            
        - id: order-service  
          uri: lb://order-service
          predicates:
            - Path=/order/**
          filters:
            - TokenRelay
```

---

## 5. ğŸ”„ ç™»å½•ç™»å‡ºæµç¨‹å®ç°


### 5.1 ç™»å½•æµç¨‹è¯¦è§£


**å®Œæ•´ç™»å½•æ—¶åº**ï¼š
```
ç”¨æˆ·                åº”ç”¨               è®¤è¯ä¸­å¿ƒ            èµ„æºæœåŠ¡
 |                  |                   |                    |
 |--è®¿é—®/user/info-->|                   |                    |
 |                  |--æ£€æŸ¥token-------->|                    |
 |                  |<--æœªç™»å½•-è¿”å›------|                    |
 |<--é‡å®šå‘åˆ°ç™»å½•é¡µ--|                   |                    |
 |                  |                   |                    |
 |--------è¾“å…¥è´¦å·å¯†ç ------------------>|                    |
 |                  |                   |--éªŒè¯è´¦å·å¯†ç        |
 |                  |                   |<--éªŒè¯é€šè¿‡          |
 |<----------è¿”å›æˆæƒç ------------------|                    |
 |                  |                   |                    |
 |--æºå¸¦æˆæƒç ------>|                   |                    |
 |                  |--æˆæƒç æ¢token---->|                    |
 |                  |<--è¿”å›token--------|                    |
 |                  |                   |                    |
 |                  |--æºå¸¦tokenè¯·æ±‚-------------------->    |
 |                  |                   |                    |
 |<--è¿”å›ç”¨æˆ·ä¿¡æ¯---------------------------------<-----------|
```

**ä»£ç å®ç°**ï¼š
```java
@RestController
public class LoginController {
    
    @Autowired
    private OAuth2AuthorizedClientService clientService;
    
    // ç™»å½•æˆåŠŸåçš„å¤„ç†
    @GetMapping("/login/success")
    public ResponseEntity<User> loginSuccess(
        @RegisteredOAuth2AuthorizedClient("user-client") 
        OAuth2AuthorizedClient client) {
        
        // è·å–token
        String accessToken = client.getAccessToken().getTokenValue();
        
        // è·å–ç”¨æˆ·ä¿¡æ¯
        User user = getUserInfo(accessToken);
        
        // å­˜å‚¨åˆ°sessionæˆ–redis
        saveUserSession(user, accessToken);
        
        return ResponseEntity.ok(user);
    }
}
```

### 5.2 ç™»å‡ºæµç¨‹å®ç°


**å•ç‚¹ç™»å‡ºæµç¨‹**ï¼š
```
æ­¥éª¤1: ç”¨æˆ·ç‚¹å‡»ç™»å‡º
æ­¥éª¤2: åº”ç”¨æ¸…é™¤æœ¬åœ°session/cookie
æ­¥éª¤3: é€šçŸ¥è®¤è¯ä¸­å¿ƒç™»å‡º
æ­¥éª¤4: è®¤è¯ä¸­å¿ƒæ¸…é™¤token
æ­¥éª¤5: è®¤è¯ä¸­å¿ƒé€šçŸ¥å…¶ä»–åº”ç”¨ç™»å‡º(å¯é€‰)
æ­¥éª¤6: è¿”å›ç™»å‡ºæˆåŠŸ
```

**ç™»å‡ºä»£ç **ï¼š
```java
@RestController
public class LogoutController {
    
    @Autowired
    private RedisTemplate<String, Object> redisTemplate;
    
    @PostMapping("/logout")
    public ResponseEntity<String> logout(HttpServletRequest request) {
        
        // 1. è·å–å½“å‰token
        String token = extractToken(request);
        
        // 2. ä»redisåˆ é™¤token
        redisTemplate.delete("token:" + token);
        
        // 3. æ¸…é™¤session
        request.getSession().invalidate();
        
        // 4. é€šçŸ¥è®¤è¯ä¸­å¿ƒç™»å‡º
        revokeToken(token);
        
        return ResponseEntity.ok("ç™»å‡ºæˆåŠŸ");
    }
    
    // é€šçŸ¥è®¤è¯ä¸­å¿ƒæ’¤é”€token
    private void revokeToken(String token) {
        RestTemplate restTemplate = new RestTemplate();
        String url = "http://auth-server/oauth2/revoke";
        
        HttpHeaders headers = new HttpHeaders();
        headers.setContentType(MediaType.APPLICATION_FORM_URLENCODED);
        
        MultiValueMap<String, String> params = new LinkedMultiValueMap<>();
        params.add("token", token);
        
        restTemplate.postForEntity(url, 
            new HttpEntity<>(params, headers), String.class);
    }
}
```

---

## 6. ğŸ’¾ çŠ¶æ€ç®¡ç†ä¸ä¼šè¯æ§åˆ¶


### 6.1 Tokenå­˜å‚¨æ–¹æ¡ˆ


**Rediså­˜å‚¨ï¼ˆæ¨èï¼‰**ï¼š
```java
@Service
public class TokenService {
    
    @Autowired
    private RedisTemplate<String, Object> redisTemplate;
    
    // å­˜å‚¨token
    public void saveToken(String token, UserInfo user, long expireSeconds) {
        String key = "token:" + token;
        redisTemplate.opsForValue().set(key, user, expireSeconds, TimeUnit.SECONDS);
    }
    
    // éªŒè¯token
    public UserInfo validateToken(String token) {
        String key = "token:" + token;
        return (UserInfo) redisTemplate.opsForValue().get(key);
    }
    
    // åˆ·æ–°tokenè¿‡æœŸæ—¶é—´
    public void refreshToken(String token, long expireSeconds) {
        String key = "token:" + token;
        redisTemplate.expire(key, expireSeconds, TimeUnit.SECONDS);
    }
}
```

**JWTè‡ªåŒ…å«ï¼ˆæ— çŠ¶æ€ï¼‰**ï¼š
```java
@Service
public class JwtTokenService {
    
    private static final String SECRET = "your-secret-key";
    
    // ç”ŸæˆJWT token
    public String generateToken(UserInfo user) {
        return Jwts.builder()
            .setSubject(user.getUsername())
            .claim("userId", user.getId())
            .claim("roles", user.getRoles())
            .setIssuedAt(new Date())
            .setExpiration(new Date(System.currentTimeMillis() + 7200000)) // 2å°æ—¶
            .signWith(SignatureAlgorithm.HS256, SECRET)
            .compact();
    }
    
    // è§£æJWT token
    public UserInfo parseToken(String token) {
        Claims claims = Jwts.parser()
            .setSigningKey(SECRET)
            .parseClaimsJws(token)
            .getBody();
            
        UserInfo user = new UserInfo();
        user.setUsername(claims.getSubject());
        user.setId(claims.get("userId", Long.class));
        user.setRoles(claims.get("roles", List.class));
        return user;
    }
}
```

### 6.2 ä¼šè¯åŒæ­¥æœºåˆ¶


**Sessionå…±äº«æ–¹æ¡ˆ**ï¼š
```yaml
# Spring Session Redisé…ç½®
spring:
  session:
    store-type: redis
    redis:
      namespace: spring:session
      flush-mode: on_save
      
  redis:
    host: localhost
    port: 6379
```

**Tokenç»­æœŸç­–ç•¥**ï¼š
```java
@Component
public class TokenRefreshFilter extends OncePerRequestFilter {
    
    @Autowired
    private TokenService tokenService;
    
    @Override
    protected void doFilterInternal(HttpServletRequest request, 
        HttpServletResponse response, FilterChain chain) {
        
        String token = extractToken(request);
        
        if (token != null) {
            UserInfo user = tokenService.validateToken(token);
            
            if (user != null) {
                // æ£€æŸ¥tokenæ˜¯å¦å¿«è¿‡æœŸ(å‰©ä½™æ—¶é—´<30åˆ†é’Ÿ)
                long remainTime = getTokenRemainTime(token);
                if (remainTime < 1800) {
                    // è‡ªåŠ¨ç»­æœŸ2å°æ—¶
                    tokenService.refreshToken(token, 7200);
                }
            }
        }
        
        chain.doFilter(request, response);
    }
}
```

### 6.3 å¤šç«¯ç™»å½•æ§åˆ¶


**äº’è¸¢ç­–ç•¥ï¼ˆåŒä¸€è´¦å·åªèƒ½ä¸€å¤„ç™»å½•ï¼‰**ï¼š
```java
@Service
public class LoginControlService {
    
    @Autowired
    private RedisTemplate<String, String> redisTemplate;
    
    // ç™»å½•æ—¶æ£€æŸ¥æ˜¯å¦æœ‰å…¶ä»–è®¾å¤‡ç™»å½•
    public void checkAndKickOldDevice(Long userId, String newToken) {
        String key = "user:token:" + userId;
        String oldToken = redisTemplate.opsForValue().get(key);
        
        if (oldToken != null) {
            // åˆ é™¤æ—§tokenï¼Œè¸¢æ‰æ—§è®¾å¤‡
            redisTemplate.delete("token:" + oldToken);
        }
        
        // ä¿å­˜æ–°token
        redisTemplate.opsForValue().set(key, newToken);
    }
}
```

**å¤šç«¯å¹¶å­˜ç­–ç•¥ï¼ˆå…è®¸å¤šè®¾å¤‡åŒæ—¶ç™»å½•ï¼‰**ï¼š
```java
@Service
public class MultiDeviceLoginService {
    
    // ä½¿ç”¨Setå­˜å‚¨åŒä¸€ç”¨æˆ·çš„å¤šä¸ªtoken
    public void addDeviceToken(Long userId, String token, String deviceInfo) {
        String key = "user:devices:" + userId;
        
        DeviceToken dt = new DeviceToken(token, deviceInfo, System.currentTimeMillis());
        redisTemplate.opsForSet().add(key, dt);
        
        // é™åˆ¶æœ€å¤š5ä¸ªè®¾å¤‡
        if (redisTemplate.opsForSet().size(key) > 5) {
            // åˆ é™¤æœ€æ—§çš„è®¾å¤‡
            removeOldestDevice(key);
        }
    }
}
```

---

## 7. ğŸŒ è·¨åŸŸé—®é¢˜è§£å†³æ–¹æ¡ˆ


### 7.1 è·¨åŸŸé—®é¢˜äº§ç”ŸåŸå› 


**æµè§ˆå™¨åŒæºç­–ç•¥**ï¼š
```
åŒæºå®šä¹‰ï¼šåè®® + åŸŸå + ç«¯å£ å®Œå…¨ç›¸åŒ

ä¸¾ä¾‹è¯´æ˜ï¼š
åŸå§‹åœ°å€ï¼šhttp://www.example.com:8080/api/user

âœ… åŒæºï¼š
http://www.example.com:8080/api/order
http://www.example.com:8080/login

âŒ è·¨åŸŸï¼š
https://www.example.com:8080/api/user  (åè®®ä¸åŒ)
http://api.example.com:8080/api/user   (åŸŸåä¸åŒ)
http://www.example.com:8081/api/user   (ç«¯å£ä¸åŒ)
```

**å¾®æœåŠ¡åœºæ™¯çš„è·¨åŸŸ**ï¼š
```
å‰ç«¯é¡µé¢ï¼šhttp://localhost:3000
è®¤è¯ä¸­å¿ƒï¼šhttp://localhost:9000
ç”¨æˆ·æœåŠ¡ï¼šhttp://localhost:8081
è®¢å•æœåŠ¡ï¼šhttp://localhost:8082

å‰ç«¯è®¿é—®ä»»ä½•åç«¯æœåŠ¡éƒ½ä¼šè·¨åŸŸï¼
```

### 7.2 è®¤è¯ä¸­å¿ƒè·¨åŸŸé…ç½®


**Spring Securityè·¨åŸŸé…ç½®**ï¼š
```java
@Configuration
public class CorsConfig {
    
    @Bean
    public CorsConfigurationSource corsConfigurationSource() {
        CorsConfiguration config = new CorsConfiguration();
        
        // å…è®¸çš„æº
        config.addAllowedOrigin("http://localhost:3000");
        config.addAllowedOrigin("http://localhost:8080");
        
        // å…è®¸çš„è¯·æ±‚æ–¹æ³•
        config.addAllowedMethod("*");
        
        // å…è®¸çš„è¯·æ±‚å¤´
        config.addAllowedHeader("*");
        
        // å…è®¸æºå¸¦å‡­è¯(cookie)
        config.setAllowCredentials(true);
        
        // é¢„æ£€è¯·æ±‚æœ‰æ•ˆæœŸ
        config.setMaxAge(3600L);
        
        UrlBasedCorsConfigurationSource source = 
            new UrlBasedCorsConfigurationSource();
        source.registerCorsConfiguration("/**", config);
        
        return source;
    }
}
```

### 7.3 ç½‘å…³ç»Ÿä¸€è·¨åŸŸå¤„ç†


**Gatewayå…¨å±€è·¨åŸŸé…ç½®**ï¼š
```yaml
spring:
  cloud:
    gateway:
      globalcors:
        cors-configurations:
          '[/**]':
            allowed-origins: 
              - "http://localhost:3000"
              - "http://localhost:8080"
            allowed-methods:
              - GET
              - POST
              - PUT
              - DELETE
            allowed-headers: "*"
            allow-credentials: true
            max-age: 3600
```

**ç½‘å…³è·¨åŸŸè¿‡æ»¤å™¨**ï¼š
```java
@Component
public class CorsFilter implements GlobalFilter, Ordered {
    
    @Override
    public Mono<Void> filter(ServerWebExchange exchange, GatewayFilterChain chain) {
        
        ServerHttpRequest request = exchange.getRequest();
        
        // OPTIONSé¢„æ£€è¯·æ±‚ç›´æ¥è¿”å›
        if (request.getMethod() == HttpMethod.OPTIONS) {
            ServerHttpResponse response = exchange.getResponse();
            HttpHeaders headers = response.getHeaders();
            
            headers.add("Access-Control-Allow-Origin", 
                request.getHeaders().getOrigin());
            headers.add("Access-Control-Allow-Methods", "*");
            headers.add("Access-Control-Allow-Headers", "*");
            headers.add("Access-Control-Allow-Credentials", "true");
            headers.add("Access-Control-Max-Age", "3600");
            
            response.setStatusCode(HttpStatus.OK);
            return Mono.empty();
        }
        
        return chain.filter(exchange);
    }
    
    @Override
    public int getOrder() {
        return -100; // ä¼˜å…ˆçº§æœ€é«˜
    }
}
```

### 7.4 Tokenè·¨åŸŸä¼ é€’


**å‰ç«¯æºå¸¦Tokenæ–¹å¼**ï¼š
```javascript
// æ–¹å¼1ï¼šè¯·æ±‚å¤´æºå¸¦(æ¨è)
axios.get('/api/user/info', {
  headers: {
    'Authorization': 'Bearer ' + token
  },
  withCredentials: true // å…è®¸æºå¸¦cookie
})

// æ–¹å¼2ï¼šCookieè‡ªåŠ¨æºå¸¦
// æœåŠ¡ç«¯è®¾ç½®cookieæ—¶æŒ‡å®šdomain
response.addCookie(new Cookie("token", tokenValue) {{
    setDomain(".example.com"); // ä¸»åŸŸåï¼Œå­åŸŸåéƒ½å¯è®¿é—®
    setPath("/");
    setHttpOnly(true);
    setSecure(true);
}});
```

---

## 8. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 8.1 SSOå®ç°è¦ç‚¹


**å…³é”®æŠ€æœ¯é€‰å‹**ï¼š
```
ğŸ”¸ è®¤è¯ä¸­å¿ƒï¼šSpring Authorization Server
ğŸ”¸ èµ„æºæœåŠ¡å™¨ï¼šSpring Security OAuth2 Resource Server  
ğŸ”¸ Tokenå­˜å‚¨ï¼šRedis(æœ‰çŠ¶æ€) æˆ– JWT(æ— çŠ¶æ€)
ğŸ”¸ ç½‘å…³ï¼šSpring Cloud Gateway
ğŸ”¸ è·¨åŸŸï¼šCORSç»Ÿä¸€é…ç½®
```

### 8.2 ç™»å½•ç™»å‡ºæµç¨‹


**ç™»å½•æ ¸å¿ƒæ­¥éª¤**ï¼š
```
1ï¸âƒ£ ç”¨æˆ·è®¿é—®åº”ç”¨ï¼Œæ£€æµ‹æœªç™»å½•
2ï¸âƒ£ é‡å®šå‘åˆ°è®¤è¯ä¸­å¿ƒç™»å½•é¡µ
3ï¸âƒ£ ç”¨æˆ·è¾“å…¥è´¦å·å¯†ç ï¼Œè®¤è¯ä¸­å¿ƒéªŒè¯
4ï¸âƒ£ éªŒè¯é€šè¿‡ï¼Œè¿”å›æˆæƒç 
5ï¸âƒ£ åº”ç”¨ç”¨æˆæƒç æ¢å–token
6ï¸âƒ£ ä¿å­˜tokenï¼Œåç»­è¯·æ±‚æºå¸¦token
```

**ç™»å‡ºå…³é”®æ“ä½œ**ï¼š
```
1ï¸âƒ£ æ¸…é™¤æœ¬åœ°session/cookie
2ï¸âƒ£ åˆ é™¤Redisä¸­çš„token
3ï¸âƒ£ é€šçŸ¥è®¤è¯ä¸­å¿ƒæ’¤é”€token
4ï¸âƒ£ å¯é€‰ï¼šé€šçŸ¥å…¶ä»–åº”ç”¨åŒæ­¥ç™»å‡º
```

### 8.3 çŠ¶æ€ç®¡ç†ç­–ç•¥


**Tokenç®¡ç†**ï¼š
```
å­˜å‚¨æ–¹å¼ï¼š
âœ… Rediså­˜å‚¨ - å¯æ§æ€§å¼ºï¼Œæ”¯æŒä¸»åŠ¨å¤±æ•ˆ
âœ… JWTè‡ªåŒ…å« - æ— çŠ¶æ€ï¼Œå‡è½»æœåŠ¡å™¨å‹åŠ›

ç»­æœŸç­–ç•¥ï¼š
âœ… æ»‘åŠ¨è¿‡æœŸ - æ´»è·ƒç”¨æˆ·è‡ªåŠ¨ç»­æœŸ
âœ… å›ºå®šè¿‡æœŸ - åˆ°æœŸå¿…é¡»é‡æ–°ç™»å½•
```

**ä¼šè¯æ§åˆ¶**ï¼š
```
å•è®¾å¤‡ç™»å½•ï¼š
- æ–°è®¾å¤‡ç™»å½•è‡ªåŠ¨è¸¢æ‰æ—§è®¾å¤‡
- é€‚åˆå®‰å…¨æ€§è¦æ±‚é«˜çš„åœºæ™¯

å¤šè®¾å¤‡ç™»å½•ï¼š
- å…è®¸å¤šä¸ªè®¾å¤‡åŒæ—¶åœ¨çº¿
- å¯é™åˆ¶è®¾å¤‡æ•°é‡ä¸Šé™
```

### 8.4 è·¨åŸŸè§£å†³æ–¹æ¡ˆ


**é…ç½®è¦ç‚¹**ï¼š
```
ğŸ”¸ è®¤è¯ä¸­å¿ƒï¼šé…ç½®å…è®¸çš„å‰ç«¯åŸŸå
ğŸ”¸ ç½‘å…³ï¼šç»Ÿä¸€å¤„ç†è·¨åŸŸï¼Œé¿å…é‡å¤é…ç½®
ğŸ”¸ èµ„æºæœåŠ¡å™¨ï¼šå¦‚æœç›´æ¥è®¿é—®ä¹Ÿéœ€é…ç½®
ğŸ”¸ å‰ç«¯ï¼šwithCredentials=true å…è®¸æºå¸¦å‡­è¯
```

### 8.5 å®æˆ˜æœ€ä½³å®è·µ


**å®‰å…¨å»ºè®®**ï¼š
```
ğŸ” Tokenå®‰å…¨ï¼š
- ä½¿ç”¨HTTPSä¼ è¾“
- Tokenè®¾ç½®åˆç†è¿‡æœŸæ—¶é—´
- æ•æ„Ÿæ“ä½œäºŒæ¬¡éªŒè¯

ğŸ” å¯†ç å®‰å…¨ï¼š
- BCryptåŠ å¯†å­˜å‚¨
- é™åˆ¶ç™»å½•å¤±è´¥æ¬¡æ•°
- å¼‚åœ°ç™»å½•æé†’

ğŸ” æ¥å£å®‰å…¨ï¼š
- æ¥å£é™æµé˜²åˆ·
- æ•æ„Ÿæ¥å£é‰´æƒ
- æ—¥å¿—å®¡è®¡è®°å½•
```

**æ€§èƒ½ä¼˜åŒ–**ï¼š
```
âš¡ ç¼“å­˜ç­–ç•¥ï¼š
- ç”¨æˆ·ä¿¡æ¯ç¼“å­˜
- TokenéªŒè¯ç»“æœç¼“å­˜
- å…¬å…±æ•°æ®é¢„åŠ è½½

âš¡ å¹¶å‘æ§åˆ¶ï¼š
- é™åˆ¶å•ç”¨æˆ·å¹¶å‘è¯·æ±‚
- çƒ­ç‚¹æ•°æ®é™çº§
- å¼‚æ­¥å¤„ç†éæ ¸å¿ƒæµç¨‹
```

### 8.6 å¸¸è§é—®é¢˜å¤„ç†


| é—®é¢˜ | **åŸå› ** | **è§£å†³æ–¹æ¡ˆ** |
|------|---------|-------------|
| **Tokenå¤±æ•ˆ** | `è¿‡æœŸæˆ–è¢«åˆ é™¤` | `å®ç°tokenåˆ·æ–°æœºåˆ¶` |
| **è·¨åŸŸå¤±è´¥** | `CORSé…ç½®é”™è¯¯` | `æ£€æŸ¥ç½‘å…³å’ŒæœåŠ¡ç«¯é…ç½®` |
| **é‡å¤ç™»å½•** | `æœªæ£€æŸ¥å·²ç™»å½•çŠ¶æ€` | `ç™»å½•å‰æ£€æŸ¥session/token` |
| **ç™»å‡ºä¸å½»åº•** | `å¤šå¤„å­˜å‚¨æœªæ¸…é™¤` | `ç»Ÿä¸€æ¸…é™¤sessionã€cookieã€redis` |

---

ğŸ¯ **å­¦ä¹ æ£€æŸ¥æ¸…å•**ï¼š
- [ ] ç†è§£SSOå’ŒOAuth2.0çš„åŒºåˆ«å’Œè”ç³»
- [ ] æŒæ¡OAuth2.0å››ç§æˆæƒæ¨¡å¼çš„åº”ç”¨åœºæ™¯
- [ ] èƒ½å¤Ÿæ­å»ºè®¤è¯ä¸­å¿ƒå’Œèµ„æºæœåŠ¡å™¨
- [ ] å®ç°å®Œæ•´çš„ç™»å½•ç™»å‡ºæµç¨‹
- [ ] æŒæ¡Tokenå­˜å‚¨å’Œä¼šè¯ç®¡ç†
- [ ] è§£å†³è·¨åŸŸå’Œå®‰å…¨é—®é¢˜
- [ ] äº†è§£å¤šç«¯ç™»å½•æ§åˆ¶ç­–ç•¥

ğŸ’¡ **è®°å¿†è¦ç‚¹**ï¼š
```
SSO = ä¸€æ¬¡ç™»å½•ï¼Œåˆ°å¤„è®¿é—®
OAuth2.0 = æœ‰é™æˆæƒï¼Œå®‰å…¨å¯æ§
Token = è®¿é—®å‡­è¯ï¼Œéœ€è¦ä¿æŠ¤
è·¨åŸŸ = æµè§ˆå™¨é™åˆ¶ï¼Œéœ€è¦é…ç½®
```