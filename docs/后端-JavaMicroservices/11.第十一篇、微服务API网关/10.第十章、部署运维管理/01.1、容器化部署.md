---
title: 1ã€å®¹å™¨åŒ–éƒ¨ç½²
---
## ğŸ“š ç›®å½•

1. [å®¹å™¨åŒ–éƒ¨ç½²åŸºç¡€](#1-å®¹å™¨åŒ–éƒ¨ç½²åŸºç¡€)
2. [Dockerfileç¼–å†™è§„èŒƒ](#2-Dockerfileç¼–å†™è§„èŒƒ)
3. [é•œåƒæ„å»ºä¼˜åŒ–](#3-é•œåƒæ„å»ºä¼˜åŒ–)
4. [å¤šé˜¶æ®µæ„å»º](#4-å¤šé˜¶æ®µæ„å»º)
5. [å®¹å™¨èµ„æºé™åˆ¶](#5-å®¹å™¨èµ„æºé™åˆ¶)
6. [å¥åº·æ£€æŸ¥é…ç½®](#6-å¥åº·æ£€æŸ¥é…ç½®)
7. [å®¹å™¨ç¼–æ’éƒ¨ç½²](#7-å®¹å™¨ç¼–æ’éƒ¨ç½²)
8. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#8-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ³ å®¹å™¨åŒ–éƒ¨ç½²åŸºç¡€


### 1.1 ä»€ä¹ˆæ˜¯å®¹å™¨åŒ–éƒ¨ç½²


**é€šä¿—ç†è§£**ï¼šæŠŠä½ çš„APIç½‘å…³ç¨‹åºæ‰“åŒ…æˆä¸€ä¸ª"é›†è£…ç®±"ï¼Œè¿™ä¸ªé›†è£…ç®±é‡ŒåŒ…å«äº†ç¨‹åºè¿è¡Œéœ€è¦çš„ä¸€åˆ‡ä¸œè¥¿ï¼ˆä»£ç ã€è¿è¡Œç¯å¢ƒã€é…ç½®ç­‰ï¼‰ï¼Œå¯ä»¥åœ¨ä»»ä½•æ”¯æŒDockerçš„æœºå™¨ä¸Šè¿è¡Œã€‚

```
ä¼ ç»Ÿéƒ¨ç½²æ–¹å¼çš„é—®é¢˜ï¼š
å¼€å‘ç¯å¢ƒ âœ… â†’ æµ‹è¯•ç¯å¢ƒ âŒ â†’ ç”Ÿäº§ç¯å¢ƒ âŒ
"åœ¨æˆ‘ç”µè„‘ä¸Šèƒ½è·‘å•Šï¼" 

å®¹å™¨åŒ–éƒ¨ç½²çš„ä¼˜åŠ¿ï¼š
å¼€å‘ç¯å¢ƒ âœ… â†’ æµ‹è¯•ç¯å¢ƒ âœ… â†’ ç”Ÿäº§ç¯å¢ƒ âœ…
"åœ¨å“ªéƒ½èƒ½è·‘ï¼"
```

**æ ¸å¿ƒä»·å€¼**ï¼š
- **ç¯å¢ƒä¸€è‡´æ€§**ï¼šå¼€å‘ã€æµ‹è¯•ã€ç”Ÿäº§ç¯å¢ƒå®Œå…¨ç›¸åŒ
- **å¿«é€Ÿéƒ¨ç½²**ï¼šå‡ ç§’é’Ÿå°±èƒ½å¯åŠ¨ä¸€ä¸ªæ–°å®ä¾‹
- **èµ„æºéš”ç¦»**ï¼šæ¯ä¸ªå®¹å™¨ç‹¬ç«‹è¿è¡Œï¼Œäº’ä¸å¹²æ‰°
- **ç‰ˆæœ¬ç®¡ç†**ï¼šå¯ä»¥éšæ—¶å›æ»šåˆ°ä¹‹å‰çš„ç‰ˆæœ¬

### 1.2 å®¹å™¨åŒ–éƒ¨ç½²æµç¨‹


```
å®Œæ•´éƒ¨ç½²æµç¨‹ï¼š

ç¬¬ä¸€æ­¥ï¼šç¼–å†™ä»£ç 
    â†“
ç¬¬äºŒæ­¥ï¼šç¼–å†™Dockerfileï¼ˆå‘Šè¯‰Dockeræ€ä¹ˆæ‰“åŒ…ï¼‰
    â†“
ç¬¬ä¸‰æ­¥ï¼šæ„å»ºé•œåƒï¼ˆDocker buildï¼‰
    â†“
ç¬¬å››æ­¥ï¼šæ¨é€åˆ°é•œåƒä»“åº“ï¼ˆç±»ä¼¼ä»£ç ä»“åº“ï¼‰
    â†“
ç¬¬äº”æ­¥ï¼šåœ¨æœåŠ¡å™¨æ‹‰å–é•œåƒå¹¶è¿è¡Œ
    â†“
ç¬¬å…­æ­¥ï¼šç›‘æ§å’Œç»´æŠ¤
```

**å…³é”®æ¦‚å¿µå¯¹æ¯”**ï¼š

| æ¦‚å¿µ | é€šä¿—è§£é‡Š | ä½œç”¨ |
|------|---------|------|
| **Dockerfile** | `é…æ–¹æ–‡ä»¶ï¼Œå‘Šè¯‰Dockeræ€ä¹ˆåšè¿™é“èœ` | `å®šä¹‰é•œåƒæ„å»ºæ­¥éª¤` |
| **é•œåƒ(Image)** | `åšå¥½çš„æˆå“èœï¼Œå¯ä»¥ä¿å­˜å’Œåˆ†äº«` | `ç¨‹åº+ç¯å¢ƒçš„å®Œæ•´åŒ…` |
| **å®¹å™¨(Container)** | `æŠŠæˆå“èœç«¯ä¸Šæ¡Œï¼Œå¼€å§‹äº«ç”¨` | `é•œåƒè¿è¡Œçš„å®ä¾‹` |
| **ä»“åº“(Registry)** | `èœè°±å’Œæˆå“èœçš„å­˜æ”¾ä»“åº“` | `å­˜å‚¨å’Œåˆ†å‘é•œåƒ` |

---

## 2. ğŸ“ Dockerfileç¼–å†™è§„èŒƒ


### 2.1 DockerfileåŸºæœ¬ç»“æ„


**ä»€ä¹ˆæ˜¯Dockerfile**ï¼šå®ƒå°±åƒä¸€ä»½"è£…ä¿®æ–½å·¥å›¾"ï¼Œå‘Šè¯‰Dockerè¦å‡†å¤‡ä»€ä¹ˆææ–™ã€æŒ‰ä»€ä¹ˆé¡ºåºæ–½å·¥ï¼Œæœ€ç»ˆå¾—åˆ°ä¸€ä¸ªå¯ä»¥è¿è¡Œä½ ç¨‹åºçš„ç¯å¢ƒã€‚

**æ ‡å‡†Dockerfileç»“æ„**ï¼š

```dockerfile
# ç¬¬ä¸€æ­¥ï¼šé€‰æ‹©åŸºç¡€é•œåƒï¼ˆç›¸å½“äºé€‰æ‹©æ¯›å¯æˆ¿ï¼‰
FROM openjdk:11-jre-slim

# ç¬¬äºŒæ­¥ï¼šè®¾ç½®å·¥ä½œç›®å½•ï¼ˆç›¸å½“äºç¡®å®šè£…ä¿®çš„æˆ¿é—´ï¼‰
WORKDIR /app

# ç¬¬ä¸‰æ­¥ï¼šå¤åˆ¶ç¨‹åºæ–‡ä»¶ï¼ˆæŠŠå®¶å…·æ¬è¿›æ¥ï¼‰
COPY target/gateway.jar app.jar

# ç¬¬å››æ­¥ï¼šæš´éœ²ç«¯å£ï¼ˆå‘Šè¯‰å¤–ç•Œä»å“ªä¸ªé—¨è¿›æ¥ï¼‰
EXPOSE 8080

# ç¬¬äº”æ­¥ï¼šå¯åŠ¨å‘½ä»¤ï¼ˆå…¥ä½åè¦åšçš„äº‹ï¼‰
ENTRYPOINT ["java", "-jar", "app.jar"]
```

### 2.2 ç¼–å†™è§„èŒƒè¯¦è§£


**è§„èŒƒ1ï¼šé€‰æ‹©åˆé€‚çš„åŸºç¡€é•œåƒ**

> ğŸ’¡ **ç†è§£è¦ç‚¹**ï¼šåŸºç¡€é•œåƒå°±åƒä¹°æˆ¿å­ï¼Œæœ‰æ¯›å¯æˆ¿ï¼ˆæœ€å°ç‰ˆæœ¬ï¼‰ã€ç®€è£…æˆ¿ï¼ˆæ ‡å‡†ç‰ˆï¼‰ã€è±ªè£…æˆ¿ï¼ˆåŒ…å«å¾ˆå¤šå·¥å…·çš„ç‰ˆæœ¬ï¼‰

```
é•œåƒé€‰æ‹©ç­–ç•¥ï¼š

âŒ ä¸æ¨èï¼šopenjdk:11ï¼ˆ700MBï¼Œå¤ªå¤§äº†ï¼ï¼‰
âœ… æ¨èï¼šopenjdk:11-jre-slimï¼ˆ200MBï¼Œå¤Ÿç”¨ä¸”ç²¾ç®€ï¼‰
ğŸŒŸ æœ€ä½³ï¼šadoptopenjdk:11-jre-hotspotï¼ˆç»è¿‡ä¼˜åŒ–ï¼‰

é€‰æ‹©åŸåˆ™ï¼š
- åªè¦è¿è¡Œç¯å¢ƒ(JRE)ï¼Œä¸è¦å¼€å‘ç¯å¢ƒ(JDK)
- é€‰Alpineæˆ–Slimç‰ˆæœ¬ï¼ˆä½“ç§¯å°ï¼‰
- ä½¿ç”¨å®˜æ–¹ç»´æŠ¤çš„é•œåƒï¼ˆå®‰å…¨æ€§é«˜ï¼‰
```

**è§„èŒƒ2ï¼šä¼˜åŒ–å±‚çš„é¡ºåº**

> ğŸ“– **æ ¸å¿ƒæ¦‚å¿µ**ï¼šDockeré•œåƒæ˜¯åˆ†å±‚çš„ï¼Œåƒåƒå±‚é¥¼ä¸€æ ·ã€‚æ¯æ¡æŒ‡ä»¤éƒ½ä¼šåˆ›å»ºä¸€å±‚ï¼Œæ”¹åŠ¨è¶Šå°‘çš„å±‚æ”¾è¶Šä¸‹é¢ã€‚

```dockerfile
# âŒ é”™è¯¯ç¤ºä¾‹ï¼šé¢‘ç¹æ”¹åŠ¨çš„æ”¾å‰é¢
COPY target/gateway.jar app.jar  # ä»£ç ç»å¸¸å˜
RUN apt-get update              # ä¾èµ–å¾ˆå°‘å˜

# âœ… æ­£ç¡®ç¤ºä¾‹ï¼šä¸å¸¸å˜çš„æ”¾å‰é¢
FROM openjdk:11-jre-slim
# å…ˆå¤„ç†ä¾èµ–ï¼ˆä¸å¸¸å˜ï¼‰
RUN apt-get update && apt-get install -y curl

# å†å¤åˆ¶é…ç½®ï¼ˆå¶å°”å˜ï¼‰
COPY config/ /app/config/

# æœ€åå¤åˆ¶ä»£ç ï¼ˆç»å¸¸å˜ï¼‰
COPY target/gateway.jar app.jar
```

**è§„èŒƒ3ï¼šå‡å°‘é•œåƒå±‚æ•°**

```dockerfile
# âŒ ä¸å¥½çš„å†™æ³•ï¼šæ¯ä¸ªRUNåˆ›å»ºä¸€å±‚
RUN apt-get update
RUN apt-get install -y curl
RUN apt-get clean

# âœ… å¥½çš„å†™æ³•ï¼šåˆå¹¶æˆä¸€å±‚
RUN apt-get update && \
    apt-get install -y curl && \
    apt-get clean && \
    rm -rf /var/lib/apt/lists/*
```

### 2.3 å®æˆ˜ç¤ºä¾‹ï¼šSpring Cloud Gateway


```dockerfile
# å®Œæ•´çš„ç”Ÿäº§çº§Dockerfileç¤ºä¾‹

# 1. åŸºç¡€é•œåƒé€‰æ‹©
FROM openjdk:11-jre-slim

# 2. è®¾ç½®ç»´æŠ¤è€…ä¿¡æ¯
LABEL maintainer="your-email@example.com"

# 3. å®‰è£…å¿…è¦å·¥å…·ï¼ˆç”¨äºå¥åº·æ£€æŸ¥ï¼‰
RUN apt-get update && \
    apt-get install -y curl && \
    rm -rf /var/lib/apt/lists/*

# 4. åˆ›å»ºérootç”¨æˆ·ï¼ˆå®‰å…¨è€ƒè™‘ï¼‰
RUN groupadd -r gateway && useradd -r -g gateway gateway

# 5. è®¾ç½®å·¥ä½œç›®å½•
WORKDIR /app

# 6. å¤åˆ¶jaråŒ…
COPY target/gateway.jar app.jar

# 7. ä¿®æ”¹æ–‡ä»¶æƒé™
RUN chown -R gateway:gateway /app

# 8. åˆ‡æ¢åˆ°érootç”¨æˆ·
USER gateway

# 9. æš´éœ²ç«¯å£
EXPOSE 8080

# 10. å¯åŠ¨å‘½ä»¤
ENTRYPOINT ["java", \
            "-XX:+UseContainerSupport", \
            "-XX:MaxRAMPercentage=75.0", \
            "-Djava.security.egd=file:/dev/./urandom", \
            "-jar", "app.jar"]
```

**å‚æ•°è¯´æ˜**ï¼š
- `UseContainerSupport`ï¼šè®©JVMæ„ŸçŸ¥å®¹å™¨ç¯å¢ƒ
- `MaxRAMPercentage=75.0`ï¼šæœ€å¤šä½¿ç”¨å®¹å™¨75%çš„å†…å­˜
- `java.security.egd`ï¼šåŠ é€Ÿéšæœºæ•°ç”Ÿæˆï¼Œå®¹å™¨å¯åŠ¨æ›´å¿«

---

## 3. âš¡ é•œåƒæ„å»ºä¼˜åŒ–


### 3.1 ä¸ºä»€ä¹ˆè¦ä¼˜åŒ–é•œåƒ


**å®é™…é—®é¢˜**ï¼š
```
æœªä¼˜åŒ–çš„é•œåƒï¼š
å¤§å°ï¼š1.2GB
æ„å»ºæ—¶é—´ï¼š5åˆ†é’Ÿ
å¯åŠ¨æ—¶é—´ï¼š30ç§’

ä¼˜åŒ–åçš„é•œåƒï¼š
å¤§å°ï¼š180MB  â¬‡ï¸ å‡å°‘85%
æ„å»ºæ—¶é—´ï¼š1åˆ†é’Ÿ  â¬‡ï¸ å‡å°‘80%
å¯åŠ¨æ—¶é—´ï¼š5ç§’   â¬‡ï¸ å‡å°‘83%
```

### 3.2 ä¼˜åŒ–æŠ€å·§


**æŠ€å·§1ï¼šåˆ©ç”¨æ„å»ºç¼“å­˜**

> ğŸ’¡ **ç†è§£è¦ç‚¹**ï¼šDockerä¼šç¼“å­˜æ¯ä¸€å±‚ï¼Œå¦‚æœè¿™ä¸€å±‚æ²¡å˜åŒ–ï¼Œä¸‹æ¬¡æ„å»ºç›´æ¥ç”¨ç¼“å­˜ã€‚

```
æ„å»ºç¼“å­˜å·¥ä½œåŸç†ï¼š

ç¬¬ä¸€æ¬¡æ„å»ºï¼š
FROM openjdk:11           â† ä¸‹è½½åŸºç¡€é•œåƒï¼ˆæ…¢ï¼‰
COPY pom.xml .            â† å¤åˆ¶æ–‡ä»¶
RUN mvn dependency:go     â† ä¸‹è½½ä¾èµ–ï¼ˆæ…¢ï¼‰
COPY src/ ./src/          â† å¤åˆ¶æºç 
RUN mvn package           â† ç¼–è¯‘æ‰“åŒ…ï¼ˆæ…¢ï¼‰

ç¬¬äºŒæ¬¡æ„å»ºï¼ˆåªæ”¹äº†ä»£ç ï¼‰ï¼š
FROM openjdk:11           â† ç”¨ç¼“å­˜ âš¡
COPY pom.xml .            â† ç”¨ç¼“å­˜ âš¡
RUN mvn dependency:go     â† ç”¨ç¼“å­˜ âš¡
COPY src/ ./src/          â† é‡æ–°å¤åˆ¶ â°
RUN mvn package           â† é‡æ–°ç¼–è¯‘ â°
```

**æŠ€å·§2ï¼šé€‰æ‹©è½»é‡çº§åŸºç¡€é•œåƒ**

| åŸºç¡€é•œåƒ | å¤§å° | é€‚ç”¨åœºæ™¯ |
|---------|------|---------|
| `openjdk:11` | `~630MB` | âŒ å¤ªå¤§ï¼Œä¸æ¨è |
| `openjdk:11-jre` | `~300MB` | âš ï¸ å¯ä»¥ç”¨ï¼Œä½†è¿˜èƒ½æ›´å° |
| `openjdk:11-jre-slim` | `~200MB` | âœ… æ¨èï¼šä½“ç§¯å°ï¼ŒåŠŸèƒ½å¤Ÿç”¨ |
| `adoptopenjdk:11-jre-hotspot-bionic` | `~230MB` | âœ… æ¨èï¼šç»è¿‡ä¼˜åŒ– |

**æŠ€å·§3ï¼šæ¸…ç†æ— ç”¨æ–‡ä»¶**

```dockerfile
# æ¯ä¸€æ­¥éƒ½æ¸…ç†ä¸´æ—¶æ–‡ä»¶
RUN apt-get update && \
    apt-get install -y curl && \
    apt-get clean && \              # æ¸…ç†aptç¼“å­˜
    rm -rf /var/lib/apt/lists/* && \ # åˆ é™¤åŒ…åˆ—è¡¨
    rm -rf /tmp/*                    # æ¸…ç©ºä¸´æ—¶ç›®å½•
```

### 3.3 æ„å»ºå‘½ä»¤ä¼˜åŒ–


**åŸºç¡€æ„å»ºå‘½ä»¤**ï¼š
```bash
# æ™®é€šæ„å»º
docker build -t gateway:1.0 .

# æŒ‡å®šDockerfileè·¯å¾„
docker build -f Dockerfile.prod -t gateway:1.0 .

# ä¸ä½¿ç”¨ç¼“å­˜ï¼ˆå¼ºåˆ¶é‡æ–°æ„å»ºï¼‰
docker build --no-cache -t gateway:1.0 .
```

**é«˜çº§æ„å»ºä¼˜åŒ–**ï¼š
```bash
# ä½¿ç”¨BuildKitï¼ˆæ–°ä¸€ä»£æ„å»ºå¼•æ“ï¼Œæ›´å¿«æ›´å¼ºï¼‰
DOCKER_BUILDKIT=1 docker build -t gateway:1.0 .

# å¹¶è¡Œæ„å»ºå¤šä¸ªå¹³å°ç‰ˆæœ¬
docker buildx build \
  --platform linux/amd64,linux/arm64 \
  -t gateway:1.0 .
```

---

## 4. ğŸ”§ å¤šé˜¶æ®µæ„å»º


### 4.1 ä»€ä¹ˆæ˜¯å¤šé˜¶æ®µæ„å»º


**é€šä¿—ç†è§£**ï¼šå°±åƒåšèœåˆ†ä¸¤æ­¥ - å…ˆåœ¨å¨æˆ¿åšèœï¼ˆç¼–è¯‘ï¼‰ï¼Œç„¶ååªæŠŠæˆå“ç«¯åˆ°é¤æ¡Œï¼ˆè¿è¡Œï¼‰ï¼Œä¸æŠŠå¨æˆ¿çš„é”…ç¢—ç“¢ç›†éƒ½æ¬å‡ºæ¥ã€‚

```
ä¼ ç»Ÿå•é˜¶æ®µæ„å»ºçš„é—®é¢˜ï¼š

[æ„å»ºé˜¶æ®µ]
Maven + JDK + æºä»£ç  + ä¾èµ–  â†’  ç¼–è¯‘  â†’  ç”ŸæˆjaråŒ…
          â†“
[æœ€ç»ˆé•œåƒ]
Maven + JDK + æºä»£ç  + ä¾èµ– + jaråŒ…  â† å…¨éƒ¨æ‰“åŒ…ï¼ˆ1GB+ï¼‰
é—®é¢˜ï¼šåªéœ€è¦jaråŒ…ï¼Œå…¶ä»–éƒ½æ˜¯åƒåœ¾ï¼

å¤šé˜¶æ®µæ„å»ºçš„è§£å†³æ–¹æ¡ˆï¼š

[ç¬¬ä¸€é˜¶æ®µï¼šæ„å»º]
Maven + JDK + æºä»£ç   â†’  ç¼–è¯‘  â†’  jaråŒ…

[ç¬¬äºŒé˜¶æ®µï¼šè¿è¡Œ]
åªå¤åˆ¶jaråŒ… + è½»é‡JRE  â† åªæ‰“åŒ…éœ€è¦çš„ï¼ˆ200MBï¼‰
```

### 4.2 å¤šé˜¶æ®µæ„å»ºå®æˆ˜


**å®Œæ•´ç¤ºä¾‹**ï¼š

```dockerfile
# ============ ç¬¬ä¸€é˜¶æ®µï¼šæ„å»ºé˜¶æ®µ ============
FROM maven:3.8-openjdk-11 AS builder

# è®¾ç½®å·¥ä½œç›®å½•
WORKDIR /build

# å…ˆå¤åˆ¶pom.xmlï¼ˆåˆ©ç”¨ç¼“å­˜ï¼‰
COPY pom.xml .
RUN mvn dependency:go-offline

# å†å¤åˆ¶æºä»£ç 
COPY src ./src

# ç¼–è¯‘æ‰“åŒ…ï¼ˆè·³è¿‡æµ‹è¯•åŠ å¿«é€Ÿåº¦ï¼‰
RUN mvn clean package -DskipTests

# ============ ç¬¬äºŒé˜¶æ®µï¼šè¿è¡Œé˜¶æ®µ ============
FROM openjdk:11-jre-slim

WORKDIR /app

# ä»æ„å»ºé˜¶æ®µå¤åˆ¶jaråŒ…ï¼ˆå…³é”®ï¼ï¼‰
COPY --from=builder /build/target/gateway.jar app.jar

# æš´éœ²ç«¯å£
EXPOSE 8080

# å¯åŠ¨å‘½ä»¤
ENTRYPOINT ["java", "-jar", "app.jar"]
```

**å…³é”®ç‚¹è§£æ**ï¼š
- `AS builder`ï¼šç»™ç¬¬ä¸€é˜¶æ®µèµ·ä¸ªåå­—ï¼Œæ–¹ä¾¿åé¢å¼•ç”¨
- `COPY --from=builder`ï¼šä»ç¬¬ä¸€é˜¶æ®µå¤åˆ¶æ–‡ä»¶åˆ°ç¬¬äºŒé˜¶æ®µ
- ç¬¬ä¸€é˜¶æ®µçš„æ‰€æœ‰å†…å®¹éƒ½ä¼šè¢«ä¸¢å¼ƒï¼Œåªä¿ç•™ç¬¬äºŒé˜¶æ®µ

### 4.3 å¤šé˜¶æ®µæ„å»ºçš„ä¼˜åŠ¿


**ä½“ç§¯å¯¹æ¯”**ï¼š

```
å•é˜¶æ®µæ„å»ºé•œåƒï¼š
Maven(200MB) + JDK(300MB) + ä¾èµ–(400MB) + jar(100MB) 
= 1000MB ğŸ˜±

å¤šé˜¶æ®µæ„å»ºé•œåƒï¼š
JRE(150MB) + jar(100MB) 
= 250MB ğŸ˜Š

å‡å°‘ï¼š75%çš„ä½“ç§¯ï¼
```

**å®‰å…¨æ€§æå‡**ï¼š
```
å•é˜¶æ®µï¼šåŒ…å«æºä»£ç ã€ç¼–è¯‘å·¥å…·  â† æœ‰å®‰å…¨é£é™©
å¤šé˜¶æ®µï¼šåªæœ‰è¿è¡Œç¯å¢ƒå’ŒjaråŒ…   â† æ›´å®‰å…¨
```

---

## 5. ğŸ“Š å®¹å™¨èµ„æºé™åˆ¶


### 5.1 ä¸ºä»€ä¹ˆè¦é™åˆ¶èµ„æº


**å®é™…åœºæ™¯**ï¼š
```
åœºæ™¯1ï¼šå†…å­˜æ³„æ¼
æŸä¸ªç½‘å…³å®ä¾‹å†…å­˜æ³„æ¼ï¼Œä¸æ–­åƒå†…å­˜
æ— é™åˆ¶ â†’ å æ»¡æ•´ä¸ªæœåŠ¡å™¨ â†’ å…¶ä»–æœåŠ¡å´©æºƒ ğŸ’¥
æœ‰é™åˆ¶ â†’ åªå½±å“è‡ªå·±ï¼Œè‡ªåŠ¨é‡å¯ âœ…

åœºæ™¯2ï¼šCPUæŠ¢å 
æŸä¸ªç½‘å…³å¤„ç†å¤§é‡è¯·æ±‚ï¼ŒCPU 100%
æ— é™åˆ¶ â†’ å…¶ä»–æœåŠ¡å¡æ­» ğŸ’¥
æœ‰é™åˆ¶ â†’ CPUå…¬å¹³åˆ†é…ï¼Œå¤§å®¶éƒ½èƒ½ç”¨ âœ…
```

### 5.2 èµ„æºé™åˆ¶é…ç½®


**Dockerè¿è¡Œæ—¶é™åˆ¶**ï¼š

```bash
# é™åˆ¶å†…å­˜å’ŒCPU
docker run -d \
  --name gateway \
  --memory="512m" \              # æœ€å¤§å†…å­˜512MB
  --memory-swap="512m" \         # ç¦ç”¨swap
  --cpus="1.0" \                 # æœ€å¤šç”¨1ä¸ªCPUæ ¸å¿ƒ
  --cpu-shares=1024 \            # CPUæƒé‡ï¼ˆç›¸å¯¹å€¼ï¼‰
  gateway:1.0
```

**å‚æ•°è¯¦è§£**ï¼š

| å‚æ•° | å«ä¹‰ | æ¨èå€¼ |
|------|------|--------|
| `--memory` | `å†…å­˜ç¡¬é™åˆ¶ï¼Œè¶…è¿‡ä¼šè¢«æ€æ­»` | `æœåŠ¡å™¨å†…å­˜çš„20-30%` |
| `--memory-swap` | `å†…å­˜+äº¤æ¢ç©ºé—´æ€»å’Œ` | `ä¸memoryç›¸åŒï¼ˆç¦swapï¼‰` |
| `--cpus` | `CPUæ ¸å¿ƒæ•°é™åˆ¶` | `0.5-2.0ä¹‹é—´` |
| `--cpu-shares` | `CPUåˆ†é…æƒé‡` | `1024ä¸ºæ ‡å‡†å€¼` |

**Javaå †å†…å­˜é…ç½®**ï¼š

> âš ï¸ **é‡è¦**ï¼šå®¹å™¨å†…å­˜é™åˆ¶å’ŒJVMå †å†…å­˜è¦é…åˆä½¿ç”¨ï¼

```dockerfile
# åœ¨Dockerfileä¸­è®¾ç½®JVMå‚æ•°
ENTRYPOINT ["java", \
  "-Xms256m", \                    # åˆå§‹å †å†…å­˜256MB
  "-Xmx384m", \                    # æœ€å¤§å †å†…å­˜384MBï¼ˆå®¹å™¨512MBçš„75%ï¼‰
  "-XX:+UseContainerSupport", \    # æ„ŸçŸ¥å®¹å™¨ç¯å¢ƒ
  "-XX:MaxRAMPercentage=75.0", \   # æˆ–ç”¨ç™¾åˆ†æ¯”è®¾ç½®
  "-jar", "app.jar"]
```

**å†…å­˜åˆ†é…å»ºè®®**ï¼š
```
å®¹å™¨æ€»å†…å­˜ = JVMå †å†…å­˜ + éå †å†…å­˜ + æ“ä½œç³»ç»Ÿå¼€é”€

ç¤ºä¾‹ï¼ˆ512MBå®¹å™¨ï¼‰ï¼š
JVMå †å†…å­˜ï¼š    384MB (75%)
JVMéå †å†…å­˜ï¼š   64MB (12%)
æ“ä½œç³»ç»Ÿï¼š      64MB (13%)
æ€»è®¡ï¼š         512MB (100%)
```

### 5.3 èµ„æºç›‘æ§


**æŸ¥çœ‹å®¹å™¨èµ„æºä½¿ç”¨**ï¼š
```bash
# å®æ—¶ç›‘æ§
docker stats gateway

# è¾“å‡ºç¤ºä¾‹ï¼š
CONTAINER  CPU %   MEM USAGE / LIMIT     MEM %
gateway    2.5%    320MB / 512MB         62.5%
```

**è®¾ç½®èµ„æºå‘Šè­¦**ï¼š
```yaml
# åœ¨docker-composeä¸­é…ç½®
services:
  gateway:
    image: gateway:1.0
    deploy:
      resources:
        limits:
          cpus: '1.0'
          memory: 512M
        reservations:  # é¢„ç•™èµ„æº
          cpus: '0.5'
          memory: 256M
```

---

## 6. â¤ï¸ å¥åº·æ£€æŸ¥é…ç½®


### 6.1 ä»€ä¹ˆæ˜¯å¥åº·æ£€æŸ¥


**é€šä¿—ç†è§£**ï¼šå°±åƒå®šæœŸä½“æ£€ï¼ŒDockerä¼šå®šæ—¶æ£€æŸ¥ä½ çš„ç¨‹åºæ˜¯å¦è¿˜"æ´»ç€"ï¼Œæ˜¯å¦èƒ½æ­£å¸¸å·¥ä½œã€‚

```
æ²¡æœ‰å¥åº·æ£€æŸ¥çš„é—®é¢˜ï¼š

å®¹å™¨å¯åŠ¨ â†’ ç¨‹åºå¡æ­» â†’ ä½†å®¹å™¨è¿˜åœ¨è¿è¡Œ â†’ å¤–ç•Œæ— æ³•è®¿é—®
Dockerä»¥ä¸ºï¼šä¸€åˆ‡æ­£å¸¸ âœ…
å®é™…æƒ…å†µï¼šå·²ç»æŒ‚äº† âŒ

æœ‰å¥åº·æ£€æŸ¥çš„æƒ…å†µï¼š

å®¹å™¨å¯åŠ¨ â†’ ç¨‹åºå¡æ­» â†’ å¥åº·æ£€æŸ¥å¤±è´¥ â†’ Dockerè‡ªåŠ¨é‡å¯
DockerçŸ¥é“ï¼šå‡ºé—®é¢˜äº†ï¼Œéœ€è¦é‡å¯ âœ…
```

### 6.2 å¥åº·æ£€æŸ¥é…ç½®æ–¹å¼


**æ–¹å¼1ï¼šåœ¨Dockerfileä¸­é…ç½®**

```dockerfile
FROM openjdk:11-jre-slim

WORKDIR /app
COPY target/gateway.jar app.jar

# é…ç½®å¥åº·æ£€æŸ¥
HEALTHCHECK --interval=30s \      # æ¯30ç§’æ£€æŸ¥ä¸€æ¬¡
            --timeout=10s \       # è¶…æ—¶æ—¶é—´10ç§’
            --start-period=60s \  # å¯åŠ¨å60ç§’æ‰å¼€å§‹æ£€æŸ¥
            --retries=3 \         # å¤±è´¥3æ¬¡æ‰åˆ¤å®šä¸å¥åº·
  CMD curl -f http://localhost:8080/actuator/health || exit 1

EXPOSE 8080
ENTRYPOINT ["java", "-jar", "app.jar"]
```

**æ–¹å¼2ï¼šåœ¨docker runä¸­é…ç½®**

```bash
docker run -d \
  --name gateway \
  --health-cmd="curl -f http://localhost:8080/actuator/health || exit 1" \
  --health-interval=30s \
  --health-timeout=10s \
  --health-retries=3 \
  --health-start-period=60s \
  gateway:1.0
```

### 6.3 å¥åº·æ£€æŸ¥ç«¯ç‚¹


**Spring Boot Actuatorå¥åº·ç«¯ç‚¹**ï¼š

```yaml
# application.ymlä¸­é…ç½®
management:
  endpoints:
    web:
      exposure:
        include: health  # æš´éœ²å¥åº·æ£€æŸ¥ç«¯ç‚¹
  endpoint:
    health:
      show-details: always
```

**å¥åº·æ£€æŸ¥è¿”å›ç¤ºä¾‹**ï¼š
```json
// http://localhost:8080/actuator/health

{
  "status": "UP",
  "components": {
    "diskSpace": {
      "status": "UP"
    },
    "ping": {
      "status": "UP"
    },
    "redis": {
      "status": "UP"
    }
  }
}
```

**æŸ¥çœ‹å¥åº·çŠ¶æ€**ï¼š
```bash
# æŸ¥çœ‹å®¹å™¨å¥åº·çŠ¶æ€
docker inspect --format='{{.State.Health.Status}}' gateway

# å¯èƒ½çš„çŠ¶æ€ï¼š
# - startingï¼ˆå¯åŠ¨ä¸­ï¼‰
# - healthyï¼ˆå¥åº·ï¼‰
# - unhealthyï¼ˆä¸å¥åº·ï¼‰
```

---

## 7. ğŸš€ å®¹å™¨ç¼–æ’éƒ¨ç½²


### 7.1 ä»€ä¹ˆæ˜¯å®¹å™¨ç¼–æ’


**é€šä¿—ç†è§£**ï¼šç¼–æ’å°±æ˜¯"æŒ‡æŒ¥å®˜"ï¼Œç®¡ç†å¤šä¸ªå®¹å™¨ååŒå·¥ä½œã€‚å°±åƒä¹é˜ŸæŒ‡æŒ¥ï¼Œåè°ƒå„ä¸ªä¹å™¨åˆå¥ã€‚

```
å•ä¸ªå®¹å™¨éƒ¨ç½²ï¼š
æ‰‹åŠ¨å¯åŠ¨ gatewayå®¹å™¨

å¤šå®¹å™¨ç³»ç»Ÿï¼š
gateway + redis + mysql + config-server + ...
â†’ éœ€è¦ç¼–æ’å·¥å…·ç®¡ç†ï¼
```

### 7.2 Docker Composeç¼–æ’


**ä»€ä¹ˆæ˜¯Docker Compose**ï¼šç”¨ä¸€ä¸ªé…ç½®æ–‡ä»¶ç®¡ç†å¤šä¸ªå®¹å™¨çš„å¯åŠ¨ã€åœæ­¢ã€ç½‘ç»œã€æ•°æ®å·ç­‰ã€‚

**å®Œæ•´ç¼–æ’ç¤ºä¾‹**ï¼š

```yaml
# docker-compose.yml
version: '3.8'

services:
  # RedisæœåŠ¡
  redis:
    image: redis:6-alpine
    ports:
      - "6379:6379"
    networks:
      - microservice-net
  
  # MySQLæœåŠ¡
  mysql:
    image: mysql:8
    environment:
      MYSQL_ROOT_PASSWORD: root123
      MYSQL_DATABASE: gateway_db
    ports:
      - "3306:3306"
    volumes:
      - mysql-data:/var/lib/mysql
    networks:
      - microservice-net
  
  # APIç½‘å…³
  gateway:
    image: gateway:1.0
    ports:
      - "8080:8080"
    environment:
      - SPRING_REDIS_HOST=redis
      - SPRING_DATASOURCE_URL=jdbc:mysql://mysql:3306/gateway_db
    depends_on:
      - redis
      - mysql
    deploy:
      resources:
        limits:
          cpus: '1.0'
          memory: 512M
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:8080/actuator/health"]
      interval: 30s
      timeout: 10s
      retries: 3
    networks:
      - microservice-net

# å®šä¹‰ç½‘ç»œ
networks:
  microservice-net:
    driver: bridge

# å®šä¹‰æ•°æ®å·
volumes:
  mysql-data:
```

**å…³é”®é…ç½®è¯´æ˜**ï¼š

| é…ç½®é¡¹ | ä½œç”¨ | ç¤ºä¾‹è¯´æ˜ |
|-------|------|---------|
| `depends_on` | `å®šä¹‰å¯åŠ¨é¡ºåº` | `gatewayè¦ç­‰rediså’Œmysqlå¯åŠ¨åå†å¯åŠ¨` |
| `environment` | `ç¯å¢ƒå˜é‡é…ç½®` | `é…ç½®æ•°æ®åº“è¿æ¥ä¿¡æ¯` |
| `networks` | `å®¹å™¨ç½‘ç»œ` | `è®©å®¹å™¨é—´å¯ä»¥äº’ç›¸è®¿é—®` |
| `volumes` | `æ•°æ®æŒä¹…åŒ–` | `ä¿å­˜MySQLæ•°æ®ï¼Œå®¹å™¨é‡å¯ä¸ä¸¢å¤±` |

**å¸¸ç”¨å‘½ä»¤**ï¼š
```bash
# å¯åŠ¨æ‰€æœ‰æœåŠ¡
docker-compose up -d

# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
docker-compose ps

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f gateway

# åœæ­¢æ‰€æœ‰æœåŠ¡
docker-compose down

# é‡å¯æŸä¸ªæœåŠ¡
docker-compose restart gateway
```

### 7.3 Kubernetesç¼–æ’ï¼ˆK8sï¼‰


**ä»€ä¹ˆæ˜¯Kubernetes**ï¼šä¼ä¸šçº§å®¹å™¨ç¼–æ’å¹³å°ï¼Œå¯ä»¥ç®¡ç†æˆç™¾ä¸Šåƒä¸ªå®¹å™¨ï¼Œè‡ªåŠ¨è´Ÿè½½å‡è¡¡ã€æ•…éšœæ¢å¤ç­‰ã€‚

**åŸºç¡€æ¦‚å¿µå¯¹æ¯”**ï¼š

```
Docker Composeï¼šå°å…¬å¸çš„ç®¡ç†
- ç®¡ç†å•å°æœåŠ¡å™¨çš„å®¹å™¨
- é€‚åˆå¼€å‘æµ‹è¯•ç¯å¢ƒ
- é…ç½®ç®€å•

Kubernetesï¼šå¤§ä¼ä¸šçš„ç®¡ç†
- ç®¡ç†å¤šå°æœåŠ¡å™¨é›†ç¾¤
- é€‚åˆç”Ÿäº§ç¯å¢ƒ
- åŠŸèƒ½å¼ºå¤§ä½†å¤æ‚
```

**K8séƒ¨ç½²ç¤ºä¾‹**ï¼š

```yaml
# deployment.yaml - éƒ¨ç½²é…ç½®
apiVersion: apps/v1
kind: Deployment
metadata:
  name: gateway-deployment
spec:
  replicas: 3  # è¿è¡Œ3ä¸ªå®ä¾‹
  selector:
    matchLabels:
      app: gateway
  template:
    metadata:
      labels:
        app: gateway
    spec:
      containers:
      - name: gateway
        image: gateway:1.0
        ports:
        - containerPort: 8080
        resources:
          limits:
            cpu: "1"
            memory: "512Mi"
          requests:
            cpu: "0.5"
            memory: "256Mi"
        livenessProbe:  # å­˜æ´»æ£€æŸ¥
          httpGet:
            path: /actuator/health
            port: 8080
          initialDelaySeconds: 60
          periodSeconds: 30
        readinessProbe:  # å°±ç»ªæ£€æŸ¥
          httpGet:
            path: /actuator/health
            port: 8080
          initialDelaySeconds: 30
          periodSeconds: 10

---
# service.yaml - æœåŠ¡æš´éœ²
apiVersion: v1
kind: Service
metadata:
  name: gateway-service
spec:
  type: LoadBalancer  # è´Ÿè½½å‡è¡¡ç±»å‹
  selector:
    app: gateway
  ports:
  - port: 80
    targetPort: 8080
```

**K8sæ ¸å¿ƒæ¦‚å¿µ**ï¼š

```
Podï¼ˆè±†èšï¼‰ï¼š
- æœ€å°éƒ¨ç½²å•å…ƒ
- åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªå®¹å™¨
- å…±äº«ç½‘ç»œå’Œå­˜å‚¨

Deploymentï¼ˆéƒ¨ç½²ï¼‰ï¼š
- ç®¡ç†Podçš„å‰¯æœ¬æ•°é‡
- æ”¯æŒæ»šåŠ¨æ›´æ–°
- è‡ªåŠ¨æ•…éšœæ¢å¤

Serviceï¼ˆæœåŠ¡ï¼‰ï¼š
- ä¸ºPodæä¾›ç¨³å®šçš„è®¿é—®å…¥å£
- è´Ÿè½½å‡è¡¡
- æœåŠ¡å‘ç°
```

**éƒ¨ç½²æµç¨‹**ï¼š
```bash
# åº”ç”¨éƒ¨ç½²é…ç½®
kubectl apply -f deployment.yaml
kubectl apply -f service.yaml

# æŸ¥çœ‹éƒ¨ç½²çŠ¶æ€
kubectl get deployments
kubectl get pods
kubectl get services

# æ‰©å®¹åˆ°5ä¸ªå®ä¾‹
kubectl scale deployment gateway-deployment --replicas=5

# æŸ¥çœ‹æ—¥å¿—
kubectl logs -f <pod-name>
```

---

## 8. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 8.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ å®¹å™¨åŒ–æœ¬è´¨ï¼šæ‰“åŒ…ç¨‹åº+ç¯å¢ƒï¼Œå®ç°"ä¸€æ¬¡æ„å»ºï¼Œåˆ°å¤„è¿è¡Œ"
ğŸ”¸ Dockerfileï¼šå®šä¹‰é•œåƒæ„å»ºæ­¥éª¤çš„é…æ–¹æ–‡ä»¶
ğŸ”¸ é•œåƒä¼˜åŒ–ï¼šé€‰è½»é‡åŸºç¡€é•œåƒã€å¤šé˜¶æ®µæ„å»ºã€åˆ©ç”¨ç¼“å­˜
ğŸ”¸ èµ„æºé™åˆ¶ï¼šé˜²æ­¢å•ä¸ªå®¹å™¨å½±å“æ•´ä½“ï¼Œä¿è¯ç³»ç»Ÿç¨³å®š
ğŸ”¸ å¥åº·æ£€æŸ¥ï¼šè‡ªåŠ¨å‘ç°é—®é¢˜å¹¶é‡å¯ï¼Œæé«˜å¯ç”¨æ€§
ğŸ”¸ å®¹å™¨ç¼–æ’ï¼šç”¨å·¥å…·ç®¡ç†å¤šå®¹å™¨ç³»ç»Ÿï¼Œå®ç°è‡ªåŠ¨åŒ–éƒ¨ç½²
```

### 8.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ Dockerfileç¼–å†™åŸåˆ™**
```
è®°ä½å£è¯€ï¼š
- åŸºç¡€é•œåƒé€‰è½»é‡
- å˜åŒ–å°‘çš„æ”¾ä¸‹å±‚
- å¤šæ¡å‘½ä»¤è¦åˆå¹¶
- ä¸´æ—¶æ–‡ä»¶åŠæ—¶æ¸…
```

**ğŸ”¹ å¤šé˜¶æ®µæ„å»ºçš„ä»·å€¼**
```
æ ¸å¿ƒæ€æƒ³ï¼šåˆ†ç¦»æ„å»ºå’Œè¿è¡Œ
- æ„å»ºé˜¶æ®µï¼šéœ€è¦ç¼–è¯‘å·¥å…·
- è¿è¡Œé˜¶æ®µï¼šåªè¦è¿è¡Œç¯å¢ƒ
- å¥½å¤„ï¼šé•œåƒä½“ç§¯å‡å°‘70%ä»¥ä¸Š
```

**ğŸ”¹ èµ„æºé…ç½®ç»éªŒå€¼**
```
å†…å­˜é…ç½®ï¼š
å®¹å™¨å†…å­˜ = JVMå †(75%) + éå †(15%) + ç³»ç»Ÿ(10%)

CPUé…ç½®ï¼š
å¼€å‘ç¯å¢ƒï¼š0.5æ ¸
æµ‹è¯•ç¯å¢ƒï¼š1æ ¸
ç”Ÿäº§ç¯å¢ƒï¼š2-4æ ¸
```

### 8.3 å®æˆ˜éƒ¨ç½²æµç¨‹


**ğŸ“ å®Œæ•´éƒ¨ç½²æ£€æŸ¥æ¸…å•**

```
ç¬¬ä¸€æ­¥ï¼šå‡†å¤‡Dockerfile âœ…
- é€‰æ‹©åˆé€‚åŸºç¡€é•œåƒ
- é…ç½®å¥åº·æ£€æŸ¥
- è®¾ç½®JVMå‚æ•°

ç¬¬äºŒæ­¥ï¼šæ„å»ºé•œåƒ âœ…
- ä½¿ç”¨å¤šé˜¶æ®µæ„å»º
- å¯ç”¨BuildKitåŠ é€Ÿ
- æ‰“ä¸Šç‰ˆæœ¬æ ‡ç­¾

ç¬¬ä¸‰æ­¥ï¼šæœ¬åœ°æµ‹è¯• âœ…
- docker runå¯åŠ¨å®¹å™¨
- æµ‹è¯•åŠŸèƒ½æ˜¯å¦æ­£å¸¸
- æ£€æŸ¥èµ„æºå ç”¨

ç¬¬å››æ­¥ï¼šæ¨é€é•œåƒ âœ…
- ç™»å½•é•œåƒä»“åº“
- docker pushæ¨é€
- éªŒè¯æ¨é€æˆåŠŸ

ç¬¬äº”æ­¥ï¼šç”Ÿäº§éƒ¨ç½² âœ…
- ä½¿ç”¨docker-composeæˆ–k8s
- é…ç½®èµ„æºé™åˆ¶
- å¯ç”¨å¥åº·æ£€æŸ¥
- é…ç½®æ—¥å¿—æ”¶é›†
```

### 8.4 å¸¸è§é—®é¢˜ä¸è§£å†³


**é—®é¢˜1ï¼šå®¹å™¨å¯åŠ¨æ…¢**
```
åŸå› åˆ†æï¼š
âŒ JVMå¯åŠ¨éœ€è¦æ—¶é—´
âŒ å¥åº·æ£€æŸ¥é…ç½®ä¸å½“

è§£å†³æ–¹æ¡ˆï¼š
âœ… è°ƒæ•´å¥åº·æ£€æŸ¥start-period
âœ… ä½¿ç”¨java.security.egdåŠ é€Ÿéšæœºæ•°
âœ… å‡å°JVMåˆå§‹åŒ–å‚æ•°
```

**é—®é¢˜2ï¼šå®¹å™¨é¢‘ç¹é‡å¯**
```
åŸå› åˆ†æï¼š
âŒ å†…å­˜ä¸è¶³è¢«OOMæ€æ­»
âŒ å¥åº·æ£€æŸ¥å¤±è´¥

è§£å†³æ–¹æ¡ˆï¼š
âœ… å¢åŠ å†…å­˜é™åˆ¶
âœ… è°ƒæ•´JVMå †å¤§å°
âœ… æ£€æŸ¥å¥åº·æ£€æŸ¥ç«¯ç‚¹
```

**é—®é¢˜3ï¼šé•œåƒå¤ªå¤§**
```
åŸå› åˆ†æï¼š
âŒ ä½¿ç”¨äº†å®Œæ•´JDK
âŒ åŒ…å«äº†æ„å»ºå·¥å…·

è§£å†³æ–¹æ¡ˆï¼š
âœ… ä½¿ç”¨JRE slimç‰ˆæœ¬
âœ… é‡‡ç”¨å¤šé˜¶æ®µæ„å»º
âœ… æ¸…ç†ä¸´æ—¶æ–‡ä»¶
```

### 8.5 æœ€ä½³å®è·µå»ºè®®


**ğŸŒŸ ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²å»ºè®®**

```
å®‰å…¨æ€§ï¼š
- ä½¿ç”¨érootç”¨æˆ·è¿è¡Œ
- å®šæœŸæ›´æ–°åŸºç¡€é•œåƒ
- æ‰«æé•œåƒå®‰å…¨æ¼æ´

å¯é æ€§ï¼š
- é…ç½®å¥åº·æ£€æŸ¥
- è®¾ç½®èµ„æºé™åˆ¶
- ä½¿ç”¨æ»šåŠ¨æ›´æ–°

å¯ç»´æŠ¤æ€§ï¼š
- ç»Ÿä¸€é•œåƒå‘½åè§„èŒƒ
- ç‰ˆæœ¬å·ç®¡ç†æ¸…æ™°
- æ—¥å¿—é›†ä¸­æ”¶é›†
- ç›‘æ§å‘Šè­¦å®Œå–„
```

**æ ¸å¿ƒè®°å¿†**ï¼š
- å®¹å™¨åŒ–éƒ¨ç½²çœå¿ƒåŠ›ï¼Œç¯å¢ƒä¸€è‡´ä¸å‡ºé”™
- Dockerfileåˆ†å±‚å»ºï¼Œå˜å°‘åœ¨ä¸‹æ•ˆç‡é«˜
- å¤šé˜¶æ®µæ„å»ºçœç©ºé—´ï¼Œåªç•™è¿è¡Œå»å†—ä½™
- èµ„æºé™åˆ¶è¦åˆç†ï¼Œå¥åº·æ£€æŸ¥ä¿ç¨³å®š
- ç¼–æ’å·¥å…·ç®¡å…¨å±€ï¼Œè‡ªåŠ¨è¿ç»´æ›´è½»æ¾