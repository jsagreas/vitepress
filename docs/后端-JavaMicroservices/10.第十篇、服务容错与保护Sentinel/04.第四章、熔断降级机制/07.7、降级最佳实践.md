---
title: 7ã€é™çº§æœ€ä½³å®è·µ
---
## ğŸ“š ç›®å½•

1. [æœåŠ¡é™çº§æ ¸å¿ƒæ¦‚å¿µ](#1-æœåŠ¡é™çº§æ ¸å¿ƒæ¦‚å¿µ)
2. [ä¼˜é›…é™çº§ç­–ç•¥](#2-ä¼˜é›…é™çº§ç­–ç•¥)
3. [æ ¸å¿ƒä¸éæ ¸å¿ƒæœåŠ¡åŒºåˆ†](#3-æ ¸å¿ƒä¸éæ ¸å¿ƒæœåŠ¡åŒºåˆ†)
4. [å…œåº•ç­–ç•¥è®¾è®¡](#4-å…œåº•ç­–ç•¥è®¾è®¡)
5. [åˆ†çº§ç†”æ–­æœºåˆ¶](#5-åˆ†çº§ç†”æ–­æœºåˆ¶)
6. [ç†”æ–­é™çº§ç»„åˆåº”ç”¨](#6-ç†”æ–­é™çº§ç»„åˆåº”ç”¨)
7. [æœåŠ¡ç¨³å®šæ€§ä¿éšœ](#7-æœåŠ¡ç¨³å®šæ€§ä¿éšœ)
8. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#8-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ¯ æœåŠ¡é™çº§æ ¸å¿ƒæ¦‚å¿µ


### 1.1 ä»€ä¹ˆæ˜¯æœåŠ¡é™çº§


**é€šä¿—ç†è§£**ï¼šæœåŠ¡é™çº§å°±åƒåº”æ€¥é¢„æ¡ˆï¼Œå½“ç³»ç»Ÿå‹åŠ›å¤§æˆ–å‡ºé—®é¢˜æ—¶ï¼Œä¸»åŠ¨æ”¾å¼ƒä¸€äº›ä¸é‚£ä¹ˆé‡è¦çš„åŠŸèƒ½ï¼Œä¿è¯æ ¸å¿ƒåŠŸèƒ½æ­£å¸¸è¿è¡Œã€‚

```
ç”Ÿæ´»ä¸­çš„é™çº§ï¼š
å•†åœºåœç”µ â†’ å…³é—­æ‰¶æ¢¯ï¼ˆé™çº§ï¼‰â†’ ä¿è¯ç…§æ˜å’Œæ”¶é“¶ï¼ˆæ ¸å¿ƒåŠŸèƒ½ï¼‰

å¾®æœåŠ¡ä¸­çš„é™çº§ï¼š
ç³»ç»Ÿå‹åŠ›å¤§ â†’ å…³é—­æ¨èæœåŠ¡ï¼ˆé™çº§ï¼‰â†’ ä¿è¯ä¸‹å•å’Œæ”¯ä»˜ï¼ˆæ ¸å¿ƒåŠŸèƒ½ï¼‰
```

**æœ¬è´¨ç†è§£**ï¼š
```
é™çº§ = ç‰ºç‰²æ¬¡è¦åŠŸèƒ½ + ä¿æŠ¤æ ¸å¿ƒåŠŸèƒ½ + ç»´æŒç³»ç»Ÿæ•´ä½“å¯ç”¨

æ ¸å¿ƒæ€æƒ³ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ä¸å…¶å…¨éƒ¨ç˜«ç—ªï¼Œä¸å¦‚éƒ¨åˆ†é™çº§ä¿æ ¸å¿ƒ  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.2 é™çº§ vs ç†”æ–­çš„åŒºåˆ«


å¾ˆå¤šåŒå­¦å®¹æ˜“æ··æ·†é™çº§å’Œç†”æ–­ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹å®ƒä»¬çš„æœ¬è´¨åŒºåˆ«ï¼š

| å¯¹æ¯”ç»´åº¦ | **ç†”æ–­ï¼ˆCircuit Breakerï¼‰** | **é™çº§ï¼ˆDegradationï¼‰** |
|---------|---------------------------|------------------------|
| **è§¦å‘æ—¶æœº** | è¢«åŠ¨è§¦å‘ï¼Œæ£€æµ‹åˆ°å¼‚å¸¸æ‰å¯åŠ¨ | ä¸»åŠ¨è§¦å‘ï¼Œé¢„å…ˆé…ç½®ç­–ç•¥ |
| **ç›®çš„** | ä¿æŠ¤è°ƒç”¨æ–¹ï¼Œé¿å…èµ„æºæµªè´¹ | ä¿è¯æ ¸å¿ƒåŠŸèƒ½ï¼Œç‰ºç‰²æ¬¡è¦åŠŸèƒ½ |
| **ä½œç”¨èŒƒå›´** | é’ˆå¯¹æŸä¸ªå…·ä½“çš„è¿œç¨‹è°ƒç”¨ | é’ˆå¯¹æ•´ä¸ªæœåŠ¡æˆ–åŠŸèƒ½æ¨¡å— |
| **æ¢å¤æœºåˆ¶** | è‡ªåŠ¨æ¢å¤ï¼Œæœ‰åŠå¼€çŠ¶æ€ | æ‰‹åŠ¨æ¢å¤æˆ–è‡ªåŠ¨æ¢å¤ |

```
ç®€å•è®°å¿†ï¼š
ğŸ”¥ ç†”æ–­ï¼šåƒä¿é™©ä¸ï¼Œå‘ç°é—®é¢˜è‡ªåŠ¨æ–­å¼€
ğŸšï¸ é™çº§ï¼šåƒåº”æ€¥å¼€å…³ï¼Œä¸»åŠ¨å…³é—­ä¸é‡è¦çš„åŠŸèƒ½
```

### 1.3 é™çº§çš„åº”ç”¨åœºæ™¯


**å…¸å‹åœºæ™¯åˆ†æ**ï¼š

```
åœºæ™¯1ï¼šç”µå•†å¤§ä¿ƒ
æ­£å¸¸æµé‡ï¼š1000 QPS
å¤§ä¿ƒæµé‡ï¼š10000 QPSï¼ˆ10å€å‹åŠ›ï¼‰

é™çº§ç­–ç•¥ï¼š
âœ… ä¿ç•™ï¼šå•†å“æµè§ˆã€åŠ è´­ç‰©è½¦ã€ä¸‹å•ã€æ”¯ä»˜
âŒ é™çº§ï¼šå•†å“æ¨èã€è¯„ä»·å±•ç¤ºã€ä¼˜æƒ åˆ¸å‘æ”¾

ç»“æœï¼šæ ¸å¿ƒäº¤æ˜“æµç¨‹ç¨³å®šï¼Œç”¨æˆ·èƒ½æ­£å¸¸è´­ç‰©
```

```
åœºæ™¯2ï¼šç³»ç»Ÿæ•…éšœ
é—®é¢˜ï¼šæ•°æ®åº“è¿æ¥æ± è€—å°½
å½±å“ï¼šæ‰€æœ‰æŸ¥è¯¢éƒ½ä¼šè¶…æ—¶

é™çº§ç­–ç•¥ï¼š
âœ… ä¿ç•™ï¼šç”¨æˆ·ç™»å½•ã€è®¢å•æŸ¥è¯¢ï¼ˆæŸ¥ç¼“å­˜ï¼‰
âŒ é™çº§ï¼šå†å²è®¢å•ã€æ•°æ®ç»Ÿè®¡ã€æŠ¥è¡¨å¯¼å‡º

ç»“æœï¼šå…³é”®ä¸šåŠ¡å¯ç”¨ï¼Œéå…³é”®ä¸šåŠ¡æš‚åœ
```

---

## 2. ğŸ¨ ä¼˜é›…é™çº§ç­–ç•¥


### 2.1 ä»€ä¹ˆæ˜¯ä¼˜é›…é™çº§


**ä¸ä¼˜é›…çš„é™çº§**ï¼šç›´æ¥è¿”å›é”™è¯¯æˆ–ç©ºæ•°æ®
```
ç”¨æˆ·ï¼šæŸ¥çœ‹å•†å“æ¨è
ç³»ç»Ÿï¼šæœåŠ¡ä¸å¯ç”¨ï¼ˆ500é”™è¯¯ï¼‰
ä½“éªŒï¼šç³Ÿç³•ï¼ç”¨æˆ·ä»¥ä¸ºç³»ç»Ÿåäº†
```

**ä¼˜é›…çš„é™çº§**ï¼šè¿”å›å…œåº•æ•°æ®æˆ–å‹å¥½æç¤º
```
ç”¨æˆ·ï¼šæŸ¥çœ‹å•†å“æ¨è
ç³»ç»Ÿï¼šå±•ç¤ºçƒ­é—¨å•†å“æˆ–é»˜è®¤æ¨è
ä½“éªŒï¼šè™½ç„¶ä¸æ˜¯ä¸ªæ€§åŒ–ï¼Œä½†è‡³å°‘èƒ½ç”¨
```

### 2.2 ä¼˜é›…é™çº§çš„å®ç°æ–¹å¼


**æ–¹å¼1ï¼šé™æ€å…œåº•æ•°æ®**

```java
@Service
public class ProductRecommendService {
    
    @Resource
    private RecommendClient recommendClient;
    
    // é¢„å…ˆå‡†å¤‡çš„çƒ­é—¨å•†å“åˆ—è¡¨
    private static final List<Product> DEFAULT_HOT_PRODUCTS = Arrays.asList(
        new Product(1, "çƒ­é”€å•†å“A"),
        new Product(2, "çƒ­é”€å•†å“B"),
        new Product(3, "çƒ­é”€å•†å“C")
    );
    
    @SentinelResource(value = "getRecommend", 
                      blockHandler = "handleBlock")
    public List<Product> getRecommendProducts(Long userId) {
        // æ­£å¸¸è°ƒç”¨æ¨èæœåŠ¡
        return recommendClient.getPersonalRecommend(userId);
    }
    
    // é™çº§å¤„ç†ï¼šè¿”å›çƒ­é—¨å•†å“
    public List<Product> handleBlock(Long userId, BlockException ex) {
        // è¿”å›é™æ€çš„çƒ­é—¨å•†å“ï¼Œè€Œä¸æ˜¯æŠ¥é”™
        return DEFAULT_HOT_PRODUCTS;
    }
}
```

**å…³é”®è¦ç‚¹**ï¼š
> ğŸ’¡ **ç”¨æˆ·æ— æ„ŸçŸ¥**ï¼šç”¨æˆ·çœ‹åˆ°çš„æ˜¯å•†å“åˆ—è¡¨ï¼Œä¸çŸ¥é“åå°åšäº†é™çº§  
> ğŸ’¡ **ä¸šåŠ¡å¯ç”¨**ï¼šè™½ç„¶ä¸æ˜¯ä¸ªæ€§åŒ–æ¨èï¼Œä½†è‡³å°‘æœ‰å†…å®¹å±•ç¤º  
> ğŸ’¡ **æå‰å‡†å¤‡**ï¼šå…œåº•æ•°æ®è¦æå‰å‡†å¤‡å¥½ï¼Œä¸èƒ½ä¸´æ—¶ç”Ÿæˆ

**æ–¹å¼2ï¼šç¼“å­˜å…œåº•**

```java
@Service
public class UserInfoService {
    
    @Resource
    private UserClient userClient;
    
    @Resource
    private RedisTemplate<String, UserInfo> redisTemplate;
    
    @SentinelResource(value = "getUserInfo", 
                      fallback = "getUserInfoFallback")
    public UserInfo getUserInfo(Long userId) {
        UserInfo userInfo = userClient.getUser(userId);
        // æˆåŠŸè·å–åæ›´æ–°ç¼“å­˜
        redisTemplate.opsForValue().set("user:" + userId, userInfo, 1, TimeUnit.HOURS);
        return userInfo;
    }
    
    // é™çº§ï¼šä»ç¼“å­˜è¯»å–
    public UserInfo getUserInfoFallback(Long userId, Throwable ex) {
        // å…ˆå°è¯•ä»ç¼“å­˜è·å–
        UserInfo cached = redisTemplate.opsForValue().get("user:" + userId);
        if (cached != null) {
            return cached;  // è¿”å›ç¼“å­˜æ•°æ®
        }
        // ç¼“å­˜ä¹Ÿæ²¡æœ‰ï¼Œè¿”å›åŸºæœ¬ä¿¡æ¯
        return UserInfo.builder()
            .userId(userId)
            .userName("æ¸¸å®¢ç”¨æˆ·")
            .build();
    }
}
```

**é™çº§æµç¨‹å›¾**ï¼š
```
ç”¨æˆ·è¯·æ±‚
   â†“
å°è¯•è°ƒç”¨è¿œç¨‹æœåŠ¡
   â†“
æœåŠ¡æ­£å¸¸ï¼Ÿ
   â”œâ”€ æ˜¯ â†’ è¿”å›æœ€æ–°æ•°æ® â†’ æ›´æ–°ç¼“å­˜
   â†“
   â””â”€ å¦ â†’ è§¦å‘é™çº§
           â†“
       ç¼“å­˜æœ‰æ•°æ®ï¼Ÿ
           â”œâ”€ æ˜¯ â†’ è¿”å›ç¼“å­˜æ•°æ®ï¼ˆå¯èƒ½è¿‡æœŸä½†èƒ½ç”¨ï¼‰
           â†“
           â””â”€ å¦ â†’ è¿”å›é»˜è®¤æ•°æ®
```

### 2.3 é™çº§çš„å‹å¥½æç¤º


**ç”¨æˆ·ä½“éªŒä¼˜åŒ–**ï¼š

```java
@RestController
public class OrderController {
    
    @Resource
    private CouponService couponService;
    
    @GetMapping("/order/coupons")
    public Result getCoupons() {
        try {
            List<Coupon> coupons = couponService.getAvailableCoupons();
            return Result.success(coupons);
        } catch (DegradeException e) {
            // é™çº§æ—¶è¿”å›å‹å¥½æç¤º
            return Result.success(Collections.emptyList())
                .message("ä¼˜æƒ åˆ¸æœåŠ¡ç¹å¿™ï¼Œè¯·ç¨åæŸ¥çœ‹");
        }
    }
}
```

**å‰ç«¯å±•ç¤º**ï¼š
```
æ­£å¸¸æƒ…å†µï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å¯ç”¨ä¼˜æƒ åˆ¸         â”‚
â”‚ â”œâ”€ æ»¡100å‡20      â”‚
â”‚ â”œâ”€ æ–°äººä¸“äº«åˆ¸     â”‚
â”‚ â””â”€ é™æ—¶æŠ˜æ‰£åˆ¸     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

é™çº§æƒ…å†µï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å¯ç”¨ä¼˜æƒ åˆ¸         â”‚
â”‚                    â”‚
â”‚ ä¼˜æƒ åˆ¸æœåŠ¡ç¹å¿™     â”‚
â”‚ è¯·ç¨åæŸ¥çœ‹         â”‚
â”‚                    â”‚
â”‚ [åˆ·æ–°] æŒ‰é’®        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3. ğŸ¯ æ ¸å¿ƒä¸éæ ¸å¿ƒæœåŠ¡åŒºåˆ†


### 3.1 æœåŠ¡é‡è¦æ€§åˆ†çº§


**åˆ†çº§æ ‡å‡†**ï¼š

```
ğŸ”´ P0çº§ï¼ˆæ ¸å¿ƒæœåŠ¡ï¼‰ï¼šå½±å“ä¸»æµç¨‹ï¼Œå¿…é¡»ä¿è¯
ğŸŸ¡ P1çº§ï¼ˆé‡è¦æœåŠ¡ï¼‰ï¼šå½±å“ä½“éªŒï¼Œå°½é‡ä¿è¯  
ğŸŸ¢ P2çº§ï¼ˆä¸€èˆ¬æœåŠ¡ï¼‰ï¼šé”¦ä¸Šæ·»èŠ±ï¼Œå¯ä»¥ç‰ºç‰²
```

**ç”µå•†ç³»ç»Ÿåˆ†çº§ç¤ºä¾‹**ï¼š

| æœåŠ¡ç±»å‹ | **ä¼˜å…ˆçº§** | **åŠŸèƒ½** | **é™çº§ç­–ç•¥** |
|---------|-----------|---------|------------|
| ç”¨æˆ·ç™»å½• | ğŸ”´ P0 | èº«ä»½è®¤è¯ | **ç»ä¸é™çº§** |
| å•†å“æœç´¢ | ğŸ”´ P0 | æŸ¥æ‰¾å•†å“ | **ç»ä¸é™çº§** |
| ä¸‹å•æ”¯ä»˜ | ğŸ”´ P0 | å®Œæˆäº¤æ˜“ | **ç»ä¸é™çº§** |
| è´­ç‰©è½¦ | ğŸŸ¡ P1 | ä¸´æ—¶å­˜å‚¨ | é™çº§ä¸ºæœ¬åœ°å­˜å‚¨ |
| å•†å“æ¨è | ğŸŸ¢ P2 | ä¸ªæ€§åŒ–æ¨è | è¿”å›çƒ­é—¨å•†å“ |
| è¯„ä»·å±•ç¤º | ğŸŸ¢ P2 | ç”¨æˆ·è¯„ä»· | éšè—æˆ–è¿”å›ç¼“å­˜ |
| ç§¯åˆ†æŸ¥è¯¢ | ğŸŸ¢ P2 | ç§¯åˆ†ä½™é¢ | è¿”å›é»˜è®¤å€¼ |

### 3.2 æœåŠ¡åˆ†çº§é…ç½®


**é…ç½®ç¤ºä¾‹**ï¼š

```java
/**
 * æœåŠ¡åˆ†çº§é…ç½®
 */
@Configuration
public class ServiceLevelConfig {
    
    /**
     * P0çº§æœåŠ¡ï¼šæ ¸å¿ƒæœåŠ¡ï¼Œç»ä¸é™çº§
     */
    public static final Set<String> P0_SERVICES = new HashSet<>(Arrays.asList(
        "user-login",      // ç”¨æˆ·ç™»å½•
        "product-search",  // å•†å“æœç´¢
        "order-create",    // åˆ›å»ºè®¢å•
        "payment-service"  // æ”¯ä»˜æœåŠ¡
    ));
    
    /**
     * P1çº§æœåŠ¡ï¼šé‡è¦æœåŠ¡ï¼Œæœ‰é™é™çº§
     */
    public static final Set<String> P1_SERVICES = new HashSet<>(Arrays.asList(
        "shopping-cart",   // è´­ç‰©è½¦
        "order-query",     // è®¢å•æŸ¥è¯¢
        "user-info"        // ç”¨æˆ·ä¿¡æ¯
    ));
    
    /**
     * P2çº§æœåŠ¡ï¼šä¸€èˆ¬æœåŠ¡ï¼Œä¼˜å…ˆé™çº§
     */
    public static final Set<String> P2_SERVICES = new HashSet<>(Arrays.asList(
        "product-recommend", // å•†å“æ¨è
        "comment-service",   // è¯„ä»·æœåŠ¡
        "point-service",     // ç§¯åˆ†æœåŠ¡
        "coupon-service"     // ä¼˜æƒ åˆ¸æœåŠ¡
    ));
}
```

### 3.3 é™çº§ä¼˜å…ˆçº§ç­–ç•¥


**é™çº§é¡ºåº**ï¼š
```
ç³»ç»Ÿå‹åŠ›ä¸Šå‡
   â†“
ç¬¬1é˜¶æ®µï¼šé™çº§P2çº§æœåŠ¡ï¼ˆç§¯åˆ†ã€æ¨èã€è¯„ä»·ï¼‰
   â†“
å‹åŠ›ä»ç„¶å¾ˆå¤§ï¼Ÿ
   â†“
ç¬¬2é˜¶æ®µï¼šéƒ¨åˆ†é™çº§P1çº§æœåŠ¡ï¼ˆè´­ç‰©è½¦æ”¹æœ¬åœ°å­˜å‚¨ï¼‰
   â†“
å‹åŠ›è¿˜æ˜¯å¾ˆå¤§ï¼Ÿ
   â†“
ç¬¬3é˜¶æ®µï¼šP1çº§æœåŠ¡æ·±åº¦é™çº§ï¼ˆåªè¯»ç¼“å­˜ï¼‰
   â†“
P0çº§æœåŠ¡å§‹ç»ˆä¸é™çº§
```

---

## 4. ğŸ›¡ï¸ å…œåº•ç­–ç•¥è®¾è®¡


### 4.1 å…œåº•ç­–ç•¥çš„æ ¸å¿ƒåŸåˆ™


> ğŸ“Œ **æ ¸å¿ƒåŸåˆ™**ï¼šå…œåº•ä¸æ˜¯æ‘†çƒ‚ï¼Œè€Œæ˜¯æä¾›å¯ç”¨çš„æ›¿ä»£æ–¹æ¡ˆ

**å…œåº•ç­–ç•¥è®¾è®¡è¦ç‚¹**ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. æå‰å‡†å¤‡ï¼šä¸èƒ½ä¸´æ—¶æŠ±ä½›è„š     â”‚
â”‚ 2. æ•°æ®çœŸå®ï¼šå…œåº•æ•°æ®è¦åˆç†     â”‚
â”‚ 3. ç”¨æˆ·å‹å¥½ï¼šè¦æœ‰æ¸…æ™°çš„æç¤º     â”‚
â”‚ 4. å¯é™å¯å‡ï¼šèƒ½è‡ªåŠ¨æ¢å¤æ­£å¸¸     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 å¸¸è§å…œåº•ç­–ç•¥


**ç­–ç•¥1ï¼šé»˜è®¤å€¼å…œåº•**

```java
@Service
public class WeatherService {
    
    @Resource
    private WeatherClient weatherClient;
    
    @SentinelResource(value = "getWeather", 
                      blockHandler = "weatherFallback")
    public WeatherInfo getWeather(String city) {
        return weatherClient.getWeatherInfo(city);
    }
    
    // å…œåº•ï¼šè¿”å›é»˜è®¤å¤©æ°”
    public WeatherInfo weatherFallback(String city, BlockException ex) {
        return WeatherInfo.builder()
            .city(city)
            .temperature(25)  // é»˜è®¤æ¸©åº¦
            .weather("æœªçŸ¥")
            .tips("å¤©æ°”æœåŠ¡æš‚æ—¶ä¸å¯ç”¨ï¼Œæ•°æ®å¯èƒ½ä¸å‡†ç¡®")
            .build();
    }
}
```

**ç­–ç•¥2ï¼šå†å²æ•°æ®å…œåº•**

```java
@Service
public class StockPriceService {
    
    @Resource
    private PriceClient priceClient;
    
    @Resource
    private PriceHistoryRepository historyRepo;
    
    @SentinelResource(value = "getPrice", 
                      fallback = "priceFallback")
    public StockPrice getCurrentPrice(String stockCode) {
        StockPrice price = priceClient.getRealTimePrice(stockCode);
        // ä¿å­˜å†å²æ•°æ®
        historyRepo.save(price);
        return price;
    }
    
    // å…œåº•ï¼šè¿”å›æœ€è¿‘çš„å†å²ä»·æ ¼
    public StockPrice priceFallback(String stockCode, Throwable ex) {
        StockPrice lastPrice = historyRepo.findLatest(stockCode);
        if (lastPrice != null) {
            lastPrice.setRealTime(false);  // æ ‡è®°ä¸ºéå®æ—¶
            lastPrice.setTips("å½“å‰ä¸ºå†å²ä»·æ ¼ï¼Œä»…ä¾›å‚è€ƒ");
        }
        return lastPrice;
    }
}
```

**ç­–ç•¥3ï¼šç®€åŒ–åŠŸèƒ½å…œåº•**

```java
@Service
public class SearchService {
    
    @Resource
    private ElasticSearchClient esClient;
    
    @Resource
    private ProductRepository productRepo;
    
    @SentinelResource(value = "search", 
                      fallback = "searchFallback")
    public List<Product> search(String keyword) {
        // æ­£å¸¸ï¼šä½¿ç”¨ESæœç´¢ï¼Œæ”¯æŒæ¨¡ç³Šã€åˆ†è¯ã€æ’åº
        return esClient.search(keyword);
    }
    
    // å…œåº•ï¼šé™çº§ä¸ºæ•°æ®åº“likeæŸ¥è¯¢
    public List<Product> searchFallback(String keyword, Throwable ex) {
        // åŠŸèƒ½ç®€åŒ–ï¼šåªæ”¯æŒç®€å•likeæŸ¥è¯¢
        return productRepo.findByNameLike("%" + keyword + "%")
            .stream()
            .limit(20)  // é™åˆ¶è¿”å›æ•°é‡
            .collect(Collectors.toList());
    }
}
```

### 4.3 å…œåº•æ•°æ®çš„å‡†å¤‡


**å‡†å¤‡æ–¹å¼å¯¹æ¯”**ï¼š

| å‡†å¤‡æ–¹å¼ | **ä¼˜ç‚¹** | **ç¼ºç‚¹** | **é€‚ç”¨åœºæ™¯** |
|---------|---------|---------|------------|
| é™æ€é…ç½® | ç®€å•å¿«é€Ÿ | æ•°æ®ä¸å¤ŸçœŸå® | ä¸å¸¸å˜åŒ–çš„æ•°æ® |
| ç¼“å­˜æ•°æ® | æ•°æ®è¾ƒæ–° | ç¼“å­˜å¯èƒ½è¿‡æœŸ | æŸ¥è¯¢ç±»æœåŠ¡ |
| å†å²æ•°æ® | çœŸå®å¯é  | å¯èƒ½ä¸æ˜¯æœ€æ–° | æ•°æ®åˆ†æç±» |
| ç®€åŒ–é€»è¾‘ | åŠŸèƒ½å¯ç”¨ | ä½“éªŒä¸‹é™ | å¤æ‚æŸ¥è¯¢ |

---

## 5. ğŸ“Š åˆ†çº§ç†”æ–­æœºåˆ¶


### 5.1 ä»€ä¹ˆæ˜¯åˆ†çº§ç†”æ–­


**é€šä¿—ç†è§£**ï¼šåˆ†çº§ç†”æ–­å°±åƒåŒ»é™¢çš„åˆ†è¯Šåˆ¶åº¦ï¼Œæ ¹æ®é—®é¢˜ä¸¥é‡ç¨‹åº¦é‡‡å–ä¸åŒçš„æªæ–½ã€‚

```
åŒ»é™¢åˆ†è¯Šï¼š
è½»ç—‡ â†’ é—¨è¯Šï¼ˆæ™®é€šå¤„ç†ï¼‰
é‡ç—‡ â†’ ä½é™¢ï¼ˆé‡ç‚¹å…³æ³¨ï¼‰
å±é‡ â†’ ICUï¼ˆç«‹å³æŠ¢æ•‘ï¼‰

ç³»ç»Ÿåˆ†çº§ç†”æ–­ï¼š
è½»å¾®å¼‚å¸¸ â†’ é™æµï¼ˆæ§åˆ¶æµé‡ï¼‰
å¼‚å¸¸å¢å¤š â†’ é™çº§ï¼ˆå…³é—­éæ ¸å¿ƒï¼‰
ä¸¥é‡æ•…éšœ â†’ ç†”æ–­ï¼ˆåˆ‡æ–­è°ƒç”¨ï¼‰
```

### 5.2 åˆ†çº§ç†”æ–­ç­–ç•¥


**ä¸‰çº§ç†”æ–­æœºåˆ¶**ï¼š

```
ğŸ“Š åˆ†çº§ç†”æ–­æ¶æ„

Level 1ï¼šé¢„è­¦çº§ï¼ˆé»„è‰²è­¦æŠ¥ï¼‰
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è§¦å‘æ¡ä»¶ï¼šé”™è¯¯ç‡ > 10%       â”‚
â”‚ å“åº”æªæ–½ï¼šé™æµ + ç›‘æ§å‘Šè­¦    â”‚
â”‚ å½±å“èŒƒå›´ï¼šä¸å½±å“ç”¨æˆ·         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“ æƒ…å†µæ¶åŒ–
         
Level 2ï¼šé™çº§çº§ï¼ˆæ©™è‰²è­¦æŠ¥ï¼‰  
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è§¦å‘æ¡ä»¶ï¼šé”™è¯¯ç‡ > 30%       â”‚
â”‚ å“åº”æªæ–½ï¼šé™çº§éæ ¸å¿ƒæœåŠ¡     â”‚
â”‚ å½±å“èŒƒå›´ï¼šéƒ¨åˆ†åŠŸèƒ½å—é™       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“ æƒ…å†µæ¶åŒ–
         
Level 3ï¼šç†”æ–­çº§ï¼ˆçº¢è‰²è­¦æŠ¥ï¼‰
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è§¦å‘æ¡ä»¶ï¼šé”™è¯¯ç‡ > 50%       â”‚
â”‚ å“åº”æªæ–½ï¼šå®Œå…¨ç†”æ–­           â”‚
â”‚ å½±å“èŒƒå›´ï¼šè¯¥æœåŠ¡ä¸å¯ç”¨       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.3 åˆ†çº§ç†”æ–­é…ç½®


```java
@Configuration
public class GradedCircuitBreakerConfig {
    
    /**
     * Level 1ï¼šé¢„è­¦çº§ç†”æ–­è§„åˆ™
     */
    @Bean
    public DegradeRule level1Rule() {
        DegradeRule rule = new DegradeRule();
        rule.setResource("product-recommend");
        rule.setGrade(RuleConstant.DEGRADE_GRADE_EXCEPTION_RATIO);
        rule.setCount(0.1);  // é”™è¯¯ç‡10%
        rule.setTimeWindow(10);  // ç†”æ–­æ—¶é•¿10ç§’
        rule.setMinRequestAmount(20);  // æœ€å°è¯·æ±‚æ•°
        return rule;
    }
    
    /**
     * Level 2ï¼šé™çº§çº§ç†”æ–­è§„åˆ™
     */
    @Bean
    public DegradeRule level2Rule() {
        DegradeRule rule = new DegradeRule();
        rule.setResource("product-recommend");
        rule.setGrade(RuleConstant.DEGRADE_GRADE_EXCEPTION_RATIO);
        rule.setCount(0.3);  // é”™è¯¯ç‡30%
        rule.setTimeWindow(30);  // ç†”æ–­æ—¶é•¿30ç§’
        rule.setMinRequestAmount(10);
        return rule;
    }
    
    /**
     * Level 3ï¼šç†”æ–­çº§è§„åˆ™
     */
    @Bean
    public DegradeRule level3Rule() {
        DegradeRule rule = new DegradeRule();
        rule.setResource("product-recommend");
        rule.setGrade(RuleConstant.DEGRADE_GRADE_EXCEPTION_RATIO);
        rule.setCount(0.5);  // é”™è¯¯ç‡50%
        rule.setTimeWindow(60);  // ç†”æ–­æ—¶é•¿60ç§’
        rule.setMinRequestAmount(5);
        return rule;
    }
}
```

**åˆ†çº§å“åº”å¤„ç†**ï¼š

```java
@Service
public class RecommendService {
    
    @Resource
    private RecommendClient recommendClient;
    
    private AtomicInteger currentLevel = new AtomicInteger(0);
    
    @SentinelResource(value = "getRecommend",
                      blockHandler = "handleBlock",
                      fallback = "handleFallback")
    public List<Product> getRecommend(Long userId) {
        return recommendClient.getPersonalRecommend(userId);
    }
    
    // ç†”æ–­å¤„ç†ï¼šæ ¹æ®çº§åˆ«è¿”å›ä¸åŒå†…å®¹
    public List<Product> handleBlock(Long userId, BlockException ex) {
        int level = determineLevel(ex);
        
        switch (level) {
            case 1:  // Level 1ï¼šè¿”å›ç¼“å­˜æ¨è
                return getCachedRecommend(userId);
            case 2:  // Level 2ï¼šè¿”å›çƒ­é—¨å•†å“
                return getHotProducts();
            case 3:  // Level 3ï¼šè¿”å›ç©ºåˆ—è¡¨+æç¤º
                return Collections.emptyList();
            default:
                return getDefaultProducts();
        }
    }
    
    // å¼‚å¸¸å¤„ç†
    public List<Product> handleFallback(Long userId, Throwable ex) {
        // æ ¹æ®å¼‚å¸¸ç±»å‹åˆ¤æ–­ä¸¥é‡ç¨‹åº¦
        if (ex instanceof TimeoutException) {
            return getCachedRecommend(userId);  // è¶…æ—¶ï¼Œè¿”å›ç¼“å­˜
        } else if (ex instanceof ServiceException) {
            return getHotProducts();  // æœåŠ¡å¼‚å¸¸ï¼Œè¿”å›çƒ­é—¨
        } else {
            return Collections.emptyList();  // ä¸¥é‡å¼‚å¸¸ï¼Œè¿”å›ç©º
        }
    }
}
```

---

## 6. ğŸ”— ç†”æ–­é™çº§ç»„åˆåº”ç”¨


### 6.1 ç†”æ–­ä¸é™çº§çš„é…åˆ


**æ ¸å¿ƒç†å¿µ**ï¼šç†”æ–­è´Ÿè´£å‘ç°é—®é¢˜ï¼Œé™çº§è´Ÿè´£è§£å†³é—®é¢˜

```
ç»„åˆåº”ç”¨æµç¨‹ï¼š

æœåŠ¡è°ƒç”¨
   â†“
ç†”æ–­å™¨æ£€æµ‹ï¼ˆåˆ¤æ–­æ˜¯å¦è¯¥ç†”æ–­ï¼‰
   â”œâ”€ æ­£å¸¸ â†’ ç»§ç»­è°ƒç”¨ â†’ æˆåŠŸè¿”å›
   â†“
   â””â”€ å¼‚å¸¸ â†’ è§¦å‘ç†”æ–­
              â†“
          é™çº§å¤„ç†ï¼ˆæä¾›å…œåº•æ–¹æ¡ˆï¼‰
              â†“
          è¿”å›é™çº§ç»“æœ
```

### 6.2 ç»„åˆåº”ç”¨å®æˆ˜


**åœºæ™¯ï¼šè®¢å•æœåŠ¡è°ƒç”¨åº“å­˜æœåŠ¡**

```java
@Service
public class OrderService {
    
    @Resource
    private StockClient stockClient;
    
    @Resource
    private RedisTemplate redisTemplate;
    
    /**
     * åˆ›å»ºè®¢å•
     * ç†”æ–­ï¼šæ£€æµ‹åº“å­˜æœåŠ¡å¥åº·çŠ¶æ€
     * é™çº§ï¼šåº“å­˜æœåŠ¡ä¸å¯ç”¨æ—¶çš„å¤„ç†
     */
    @SentinelResource(
        value = "createOrder",
        blockHandler = "createOrderBlock",     // ç†”æ–­å¤„ç†
        fallback = "createOrderFallback"       // é™çº§å¤„ç†
    )
    public Order createOrder(OrderRequest request) {
        // 1. æ£€æŸ¥åº“å­˜ï¼ˆè¿œç¨‹è°ƒç”¨ï¼‰
        boolean hasStock = stockClient.checkStock(
            request.getProductId(), 
            request.getQuantity()
        );
        
        if (!hasStock) {
            throw new BusinessException("åº“å­˜ä¸è¶³");
        }
        
        // 2. æ‰£å‡åº“å­˜
        stockClient.deductStock(
            request.getProductId(), 
            request.getQuantity()
        );
        
        // 3. åˆ›å»ºè®¢å•
        return orderRepository.save(createOrderEntity(request));
    }
    
    /**
     * ç†”æ–­å¤„ç†ï¼šåº“å­˜æœåŠ¡è¢«ç†”æ–­æ—¶è§¦å‘
     */
    public Order createOrderBlock(OrderRequest request, BlockException ex) {
        // ç†”æ–­è¯´æ˜åº“å­˜æœåŠ¡æœ‰é—®é¢˜ï¼Œé‡‡ç”¨é™çº§ç­–ç•¥
        return handleDegradedOrder(request);
    }
    
    /**
     * é™çº§å¤„ç†ï¼šåº“å­˜æœåŠ¡è°ƒç”¨å¤±è´¥æ—¶è§¦å‘  
     */
    public Order createOrderFallback(OrderRequest request, Throwable ex) {
        // å¼‚å¸¸ä¹Ÿä½¿ç”¨é™çº§ç­–ç•¥
        return handleDegradedOrder(request);
    }
    
    /**
     * é™çº§ç­–ç•¥ï¼šåˆ›å»ºé¢„å è®¢å•
     */
    private Order handleDegradedOrder(OrderRequest request) {
        // 1. å°è¯•ä»ç¼“å­˜è¯»å–åº“å­˜
        Integer cacheStock = (Integer) redisTemplate.opsForValue()
            .get("stock:" + request.getProductId());
        
        if (cacheStock != null && cacheStock >= request.getQuantity()) {
            // 2. åˆ›å»ºé¢„å è®¢å•ï¼ˆå¾…ç¡®è®¤çŠ¶æ€ï¼‰
            Order order = createOrderEntity(request);
            order.setStatus(OrderStatus.PENDING);  // å¾…ç¡®è®¤
            order.setNote("åº“å­˜æœåŠ¡ç¹å¿™ï¼Œè®¢å•å¾…ç¡®è®¤");
            
            // 3. å‘é€å¼‚æ­¥æ¶ˆæ¯ï¼Œåç»­å¤„ç†
            sendStockCheckMessage(order);
            
            return orderRepository.save(order);
        } else {
            throw new BusinessException("å½“å‰å•†å“åº“å­˜ä¸è¶³ï¼Œè¯·ç¨åå†è¯•");
        }
    }
}
```

**æ‰§è¡Œæµç¨‹å›¾**ï¼š
```
ç”¨æˆ·ä¸‹å•
   â†“
è°ƒç”¨åº“å­˜æœåŠ¡æ£€æŸ¥åº“å­˜
   â†“
åº“å­˜æœåŠ¡æ­£å¸¸ï¼Ÿ
   â”œâ”€ æ˜¯ â†’ æ‰£å‡åº“å­˜ â†’ åˆ›å»ºè®¢å• â†’ è¿”å›æˆåŠŸ
   â†“
   â””â”€ å¦ â†’ è§¦å‘ç†”æ–­/é™çº§
           â†“
       æŸ¥è¯¢åº“å­˜ç¼“å­˜
           â”œâ”€ æœ‰åº“å­˜ â†’ åˆ›å»ºé¢„å è®¢å• â†’ å¼‚æ­¥å¤„ç†
           â†“
           â””â”€ æ— åº“å­˜ â†’ è¿”å›åº“å­˜ä¸è¶³
```

### 6.3 ç»„åˆç­–ç•¥æœ€ä½³å®è·µ


**ç­–ç•¥çŸ©é˜µ**ï¼š

| æœåŠ¡çŠ¶æ€ | **ç†”æ–­ç­–ç•¥** | **é™çº§ç­–ç•¥** | **ç”¨æˆ·ä½“éªŒ** |
|---------|------------|------------|------------|
| æ­£å¸¸ | ä¸ç†”æ–­ | ä¸é™çº§ | å®Œæ•´åŠŸèƒ½ |
| å¶å‘å¼‚å¸¸ | åŠå¼€è¯•æ¢ | éƒ¨åˆ†é™çº§ | åŸºæœ¬å¯ç”¨ |
| æŒç»­å¼‚å¸¸ | å®Œå…¨ç†”æ–­ | æ·±åº¦é™çº§ | ä¿è¯æ ¸å¿ƒ |
| æ¢å¤ä¸­ | é€æ­¥æ”¾å¼€ | é€æ­¥æ¢å¤ | é€æ¸æ­£å¸¸ |

---

## 7. ğŸ›¡ï¸ æœåŠ¡ç¨³å®šæ€§ä¿éšœ


### 7.1 ç¨³å®šæ€§ä¿éšœä½“ç³»


**å››å±‚é˜²æŠ¤ä½“ç³»**ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Layer 4: ä¸šåŠ¡é™çº§ï¼ˆæœ€åé˜²çº¿ï¼‰        â”‚
â”‚ â”œâ”€ æ ¸å¿ƒåŠŸèƒ½ä¿è¯                      â”‚
â”‚ â””â”€ éæ ¸å¿ƒåŠŸèƒ½é™çº§                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Layer 3: æœåŠ¡ç†”æ–­ï¼ˆæ•…éšœéš”ç¦»ï¼‰        â”‚
â”‚ â”œâ”€ å¿«é€Ÿå¤±è´¥                          â”‚
â”‚ â””â”€ é˜²æ­¢é›ªå´©                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Layer 2: æµé‡æ§åˆ¶ï¼ˆé¢„é˜²ä¸ºä¸»ï¼‰        â”‚
â”‚ â”œâ”€ é™æµ                              â”‚
â”‚ â””â”€ æ’é˜Ÿ                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Layer 1: èµ„æºéš”ç¦»ï¼ˆåŸºç¡€ä¿éšœï¼‰        â”‚
â”‚ â”œâ”€ çº¿ç¨‹æ± éš”ç¦»                        â”‚
â”‚ â””â”€ ä¿¡å·é‡éš”ç¦»                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 7.2 ç›‘æ§ä¸å‘Šè­¦


**ç›‘æ§æŒ‡æ ‡**ï¼š

```java
@Component
public class ServiceMonitor {
    
    /**
     * æ ¸å¿ƒç›‘æ§æŒ‡æ ‡
     */
    public void monitor() {
        // 1. æœåŠ¡å¯ç”¨æ€§
        double availability = calculateAvailability();
        
        // 2. å“åº”æ—¶é—´
        long responseTime = getAvgResponseTime();
        
        // 3. é”™è¯¯ç‡
        double errorRate = calculateErrorRate();
        
        // 4. é™çº§æ¬¡æ•°
        int degradeCount = getDegradeCount();
        
        // 5. ç†”æ–­æ¬¡æ•°  
        int circuitBreakerCount = getCircuitBreakerCount();
        
        // å‘é€ç›‘æ§æ•°æ®
        sendMetrics(availability, responseTime, errorRate, 
                   degradeCount, circuitBreakerCount);
    }
    
    /**
     * å‘Šè­¦è§„åˆ™
     */
    private void checkAlerts(MetricsData metrics) {
        // ğŸ”´ ä¸¥é‡å‘Šè­¦
        if (metrics.getAvailability() < 0.95) {
            sendAlert("æœåŠ¡å¯ç”¨æ€§ä½äº95%", AlertLevel.CRITICAL);
        }
        
        // ğŸŸ¡ è­¦å‘Šå‘Šè­¦  
        if (metrics.getErrorRate() > 0.1) {
            sendAlert("é”™è¯¯ç‡è¶…è¿‡10%", AlertLevel.WARNING);
        }
        
        // ğŸŸ¢ ä¿¡æ¯å‘Šè­¦
        if (metrics.getDegradeCount() > 100) {
            sendAlert("é™çº§æ¬¡æ•°è¿‡å¤š", AlertLevel.INFO);
        }
    }
}
```

### 7.3 è‡ªåŠ¨åŒ–è¿ç»´


**è‡ªåŠ¨æ‰©å®¹ç­–ç•¥**ï¼š

```
å‹åŠ›æ£€æµ‹
   â†“
CPUä½¿ç”¨ç‡ > 80% æˆ– é”™è¯¯ç‡ > 20%
   â†“
è§¦å‘è‡ªåŠ¨æ‰©å®¹
   â†“
å¯åŠ¨æ–°å®ä¾‹
   â†“
å¥åº·æ£€æŸ¥é€šè¿‡
   â†“
åŠ å…¥æœåŠ¡é›†ç¾¤
   â†“
é€æ­¥æ¥æ”¶æµé‡
   â†“
è§‚å¯ŸæŒ‡æ ‡
   â”œâ”€ æ­£å¸¸ â†’ ä¿æŒ
   â””â”€ ä»ç„¶é«˜ â†’ ç»§ç»­æ‰©å®¹
```

---

## 8. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 8.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ æœåŠ¡é™çº§ï¼šä¸»åŠ¨ç‰ºç‰²æ¬¡è¦åŠŸèƒ½ï¼Œä¿è¯æ ¸å¿ƒåŠŸèƒ½å¯ç”¨
ğŸ”¸ ä¼˜é›…é™çº§ï¼šä¸æ˜¯ç›´æ¥æŠ¥é”™ï¼Œè€Œæ˜¯æä¾›å…œåº•æ–¹æ¡ˆ
ğŸ”¸ æœåŠ¡åˆ†çº§ï¼šåŒºåˆ†æ ¸å¿ƒä¸éæ ¸å¿ƒï¼Œä¼˜å…ˆä¿æŠ¤æ ¸å¿ƒ
ğŸ”¸ å…œåº•ç­–ç•¥ï¼šæå‰å‡†å¤‡é»˜è®¤å€¼ã€ç¼“å­˜ã€å†å²æ•°æ®
ğŸ”¸ åˆ†çº§ç†”æ–­ï¼šæ ¹æ®ä¸¥é‡ç¨‹åº¦é‡‡å–ä¸åŒçš„åº”å¯¹æªæ–½
ğŸ”¸ ç»„åˆåº”ç”¨ï¼šç†”æ–­å‘ç°é—®é¢˜ï¼Œé™çº§è§£å†³é—®é¢˜
```

### 8.2 é™çº§ç­–ç•¥è®¾è®¡åŸåˆ™


> ğŸ’¡ **è®¾è®¡åŸåˆ™é€Ÿè®°**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. ä¿æ ¸å¿ƒï¼šæ ¸å¿ƒåŠŸèƒ½ç»ä¸é™çº§     â”‚
â”‚ 2. æœ‰é¢„æ¡ˆï¼šæå‰å‡†å¤‡å…œåº•æ–¹æ¡ˆ     â”‚
â”‚ 3. é‡ä½“éªŒï¼šé™çº§ä¹Ÿè¦ç”¨æˆ·å‹å¥½     â”‚
â”‚ 4. èƒ½æ¢å¤ï¼šè‡ªåŠ¨æˆ–æ‰‹åŠ¨æ¢å¤æœºåˆ¶   â”‚
â”‚ 5. å¯ç›‘æ§ï¼šå®Œå–„çš„ç›‘æ§å’Œå‘Šè­¦     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 8.3 å®æ–½æ£€æŸ¥æ¸…å•


**é™çº§å®æ–½æ­¥éª¤**ï¼š
- [ ] è¯†åˆ«æ ¸å¿ƒæœåŠ¡ï¼ˆP0çº§ï¼‰å’Œéæ ¸å¿ƒæœåŠ¡ï¼ˆP1/P2çº§ï¼‰
- [ ] ä¸ºéæ ¸å¿ƒæœåŠ¡è®¾è®¡é™çº§ç­–ç•¥
- [ ] å‡†å¤‡å…œåº•æ•°æ®ï¼ˆé»˜è®¤å€¼ã€ç¼“å­˜ã€å†å²æ•°æ®ï¼‰
- [ ] é…ç½®åˆ†çº§ç†”æ–­è§„åˆ™
- [ ] å®ç°ä¼˜é›…é™çº§å¤„ç†å™¨
- [ ] æ·»åŠ é™çº§ç›‘æ§æŒ‡æ ‡
- [ ] è®¾ç½®å‘Šè­¦è§„åˆ™
- [ ] ç¼–å†™é™çº§æµ‹è¯•ç”¨ä¾‹
- [ ] åˆ¶å®šåº”æ€¥é¢„æ¡ˆ

### 8.4 å¸¸è§é—®é¢˜ä¸è§£å†³


| é—®é¢˜ | **åŸå› ** | **è§£å†³æ–¹æ¡ˆ** |
|-----|---------|------------|
| é™çº§åç”¨æˆ·ä½“éªŒå·® | ç›´æ¥è¿”å›é”™è¯¯ | è®¾è®¡ä¼˜é›…é™çº§ï¼Œæä¾›å…œåº•æ•°æ® |
| æ ¸å¿ƒåŠŸèƒ½ä¹Ÿè¢«é™çº§ | æœåŠ¡åˆ†çº§ä¸æ¸…æ™° | æ˜ç¡®P0çº§æœåŠ¡ï¼Œç»ä¸é™çº§ |
| é™çº§æ¢å¤ä¸åŠæ—¶ | ç¼ºå°‘è‡ªåŠ¨æ¢å¤æœºåˆ¶ | å®ç°åŠå¼€çŠ¶æ€ï¼Œè‡ªåŠ¨è¯•æ¢ |
| é™çº§æ•°æ®ä¸çœŸå® | å…œåº•æ•°æ®è¿‡äºç®€å• | ä½¿ç”¨ç¼“å­˜æˆ–å†å²æ•°æ® |

**æ ¸å¿ƒè®°å¿†å£è¯€**ï¼š
```
é™çº§ä¸æ˜¯æ‘†çƒ‚ï¼Œè€Œæ˜¯ä¼˜é›…å…œåº•
æ ¸å¿ƒæœåŠ¡ä¿æŠ¤ï¼Œéæ ¸å¿ƒå¯ç‰ºç‰²
ç†”æ–­å‘ç°é—®é¢˜ï¼Œé™çº§è§£å†³é—®é¢˜
ç›‘æ§å‘Šè­¦å®Œå–„ï¼Œè‡ªåŠ¨æ¢å¤åŠæ—¶
```