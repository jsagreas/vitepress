---
title: 2ã€è¿‡æ»¤æœç´¢æœºåˆ¶
---
## ğŸ“š ç›®å½•

1. [è¿‡æ»¤æœç´¢åŸºç¡€æ¦‚å¿µ](#1-è¿‡æ»¤æœç´¢åŸºç¡€æ¦‚å¿µ)
2. [ç­›é€‰å‚æ•°è®¾è®¡åŸåˆ™](#2-ç­›é€‰å‚æ•°è®¾è®¡åŸåˆ™)
3. [ç²¾ç¡®åŒ¹é…è¿‡æ»¤](#3-ç²¾ç¡®åŒ¹é…è¿‡æ»¤)
4. [æ¨¡ç³Šæœç´¢å®ç°](#4-æ¨¡ç³Šæœç´¢å®ç°)
5. [èŒƒå›´æŸ¥è¯¢è®¾è®¡](#5-èŒƒå›´æŸ¥è¯¢è®¾è®¡)
6. [å¤šæ¡ä»¶ç»„åˆæŸ¥è¯¢](#6-å¤šæ¡ä»¶ç»„åˆæŸ¥è¯¢)
7. [ç‰¹æ®Šç±»å‹è¿‡æ»¤](#7-ç‰¹æ®Šç±»å‹è¿‡æ»¤)
8. [æ€§èƒ½ä¼˜åŒ–ç­–ç•¥](#8-æ€§èƒ½ä¼˜åŒ–ç­–ç•¥)
9. [æœ€ä½³å®è·µæ€»ç»“](#9-æœ€ä½³å®è·µæ€»ç»“)

---

## 1. ğŸ¯ è¿‡æ»¤æœç´¢åŸºç¡€æ¦‚å¿µ


### 1.1 ä»€ä¹ˆæ˜¯APIè¿‡æ»¤æœç´¢


> ğŸ’¡ **æ ¸å¿ƒæ¦‚å¿µ**ï¼šAPIè¿‡æ»¤æœç´¢å°±æ˜¯è®©å®¢æˆ·ç«¯å¯ä»¥é€šè¿‡URLå‚æ•°æ¥ç­›é€‰å’ŒæŸ¥æ‰¾æ•°æ®ï¼Œè€Œä¸æ˜¯æ¯æ¬¡éƒ½è¿”å›å…¨éƒ¨æ•°æ®ã€‚

**é€šä¿—ç†è§£**ï¼š
- å°±åƒåœ¨ç½‘è´­æ—¶å¯ä»¥é€‰æ‹©"ä»·æ ¼èŒƒå›´"ã€"å“ç‰Œ"ã€"é¢œè‰²"æ¥ç­›é€‰å•†å“
- APIä¹Ÿéœ€è¦è¿™æ ·çš„ç­›é€‰åŠŸèƒ½ï¼Œè®©å‰ç«¯å¯ä»¥æŒ‰éœ€è·å–æ•°æ®

### 1.2 ä¸ºä»€ä¹ˆéœ€è¦è¿‡æ»¤æœç´¢


```
âŒ æ²¡æœ‰è¿‡æ»¤åŠŸèƒ½çš„é—®é¢˜ï¼š
ç”¨æˆ·æƒ³æŸ¥çœ‹"å·²å®Œæˆçš„è®¢å•" â†’ APIè¿”å›æ‰€æœ‰è®¢å•ï¼ˆå¯èƒ½ä¸Šä¸‡æ¡ï¼‰
å‰ç«¯éœ€è¦è‡ªå·±è¿‡æ»¤ â†’ æµªè´¹ç½‘ç»œæµé‡ï¼Œé€Ÿåº¦æ…¢

âœ… æœ‰è¿‡æ»¤åŠŸèƒ½çš„ä¼˜åŠ¿ï¼š
ç”¨æˆ·æƒ³æŸ¥çœ‹"å·²å®Œæˆçš„è®¢å•" â†’ APIåªè¿”å›å·²å®Œæˆçš„è®¢å•
å‡å°‘æ•°æ®ä¼ è¾“ â†’ æå‡å“åº”é€Ÿåº¦ï¼ŒèŠ‚çœæµé‡
```

### 1.3 è¿‡æ»¤æœç´¢çš„åŸºæœ¬æ¶æ„


```
å®¢æˆ·ç«¯è¯·æ±‚                  æœåŠ¡ç«¯å¤„ç†                  æ•°æ®åº“æŸ¥è¯¢
     |                         |                         |
/api/users?status=active â†’ è§£æå‚æ•°status=active â†’ WHERE status='active'
     |                         |                         |
     â† è¿”å›æ´»è·ƒç”¨æˆ·åˆ—è¡¨ â† æ„é€ å“åº”æ•°æ® â† æŸ¥è¯¢ç»“æœ
```

---

## 2. ğŸ”§ ç­›é€‰å‚æ•°è®¾è®¡åŸåˆ™


### 2.1 å‚æ•°å‘½åè§„èŒƒ


**âœ… æ¨èçš„å‚æ•°å‘½å**ï¼š
- `keyword` - å…³é”®è¯æœç´¢
- `status` - çŠ¶æ€ç­›é€‰
- `type` - ç±»å‹ç­›é€‰
- `category` - åˆ†ç±»ç­›é€‰
- `created_at` - åˆ›å»ºæ—¶é—´
- `updated_at` - æ›´æ–°æ—¶é—´

**âŒ ä¸æ¨èçš„å‘½å**ï¼š
- `q` - å«ä¹‰ä¸æ˜ç¡®
- `filter1` - æ— æ„ä¹‰å‘½å
- `searchText` - é©¼å³°å‘½åä¸ç¬¦åˆRESTfulè§„èŒƒ

### 2.2 URIè®¾è®¡æ¨è


| åœºæ™¯ | **æ¨èå†™æ³•** | **è¯´æ˜** |
|------|-------------|----------|
| ğŸ” **å…³é”®è¯æœç´¢** | `/api/products?keyword=æ‰‹æœº` | `ç®€æ´æ˜äº†` |
| ğŸ“Š **çŠ¶æ€ç­›é€‰** | `/api/orders?status=completed` | `çŠ¶æ€å€¼è¦æ¸…æ™°` |
| ğŸ·ï¸ **ç±»å‹è¿‡æ»¤** | `/api/articles?type=news` | `ç±»å‹åè¦ç»Ÿä¸€` |
| ğŸ“… **æ—¶é—´èŒƒå›´** | `/api/logs?start_date=2024-01-01&end_date=2024-01-31` | `æ—¥æœŸæ ¼å¼æ ‡å‡†åŒ–` |
| ğŸ”¢ **æ•°å€¼èŒƒå›´** | `/api/products?min_price=100&max_price=500` | `èŒƒå›´è¾¹ç•Œæ¸…æ™°` |

### 2.3 å‚æ•°å€¼æ ¼å¼è§„èŒƒ


```
âœ… æ¨èæ ¼å¼ï¼š
- æ—¥æœŸï¼šYYYY-MM-DD (2024-01-15)
- æ—¶é—´ï¼šYYYY-MM-DD HH:mm:ss (2024-01-15 14:30:00)
- å¸ƒå°”å€¼ï¼štrue/false æˆ– 1/0
- æ•°ç»„ï¼šid=1,2,3 æˆ– id[]=1&id[]=2&id[]=3

âŒ é¿å…æ ¼å¼ï¼š
- æ—¥æœŸï¼š15/01/2024 (æ ¼å¼ä¸ç»Ÿä¸€)
- å¸ƒå°”å€¼ï¼šyes/no (å«ä¹‰æ¨¡ç³Š)
- æ•°ç»„ï¼šid=1|2|3 (åˆ†éš”ç¬¦ä¸æ ‡å‡†)
```

---

## 3. ğŸ¯ ç²¾ç¡®åŒ¹é…è¿‡æ»¤


### 3.1 ä»€ä¹ˆæ˜¯ç²¾ç¡®åŒ¹é…


> ğŸ’¡ **æ ¸å¿ƒæ¦‚å¿µ**ï¼šç²¾ç¡®åŒ¹é…å°±æ˜¯å®Œå…¨ç›¸ç­‰çš„æŸ¥è¯¢ï¼ŒæŸ¥æ‰¾çš„å†…å®¹å¿…é¡»å’Œç»™å®šçš„å€¼å®Œå…¨ä¸€æ ·ã€‚

**ç”Ÿæ´»ä¾‹å­**ï¼š
- åœ¨å›¾ä¹¦é¦†æ‰¾"ç¼–å·ä¸º001çš„ä¹¦" - å¿…é¡»å®Œå…¨åŒ¹é…ç¼–å·001
- æŸ¥æ‰¾"çŠ¶æ€ä¸ºå·²å‘è´§çš„è®¢å•" - çŠ¶æ€å¿…é¡»å®Œå…¨ç­‰äº"å·²å‘è´§"

### 3.2 å¸¸è§çš„ç²¾ç¡®åŒ¹é…åœºæ™¯


**ğŸ“‹ çŠ¶æ€è¿‡æ»¤**ï¼š
```
GET /api/orders?status=pending
GET /api/users?is_active=true
GET /api/articles?published=false
```

**ğŸ·ï¸ åˆ†ç±»è¿‡æ»¤**ï¼š
```
GET /api/products?category=electronics
GET /api/articles?type=news
GET /api/files?format=pdf
```

**ğŸ‘¤ ç”¨æˆ·ç›¸å…³è¿‡æ»¤**ï¼š
```
GET /api/orders?user_id=123
GET /api/posts?author_id=456
GET /api/comments?article_id=789
```

### 3.3 åç«¯å®ç°ç¤ºä¾‹


**Node.js + Express å®ç°**ï¼š
```javascript
// ç®€å•çš„ç²¾ç¡®åŒ¹é…å®ç°
app.get('/api/products', (req, res) => {
    let query = 'SELECT * FROM products WHERE 1=1';
    const params = [];
    
    // çŠ¶æ€è¿‡æ»¤
    if (req.query.status) {
        query += ' AND status = ?';
        params.push(req.query.status);
    }
    
    // åˆ†ç±»è¿‡æ»¤
    if (req.query.category) {
        query += ' AND category = ?';
        params.push(req.query.category);
    }
    
    // æ‰§è¡ŒæŸ¥è¯¢
    db.query(query, params, (err, results) => {
        res.json(results);
    });
});
```

---

## 4. ğŸ” æ¨¡ç³Šæœç´¢å®ç°


### 4.1 ä»€ä¹ˆæ˜¯æ¨¡ç³Šæœç´¢


> ğŸ’¡ **æ ¸å¿ƒæ¦‚å¿µ**ï¼šæ¨¡ç³Šæœç´¢å°±æ˜¯éƒ¨åˆ†åŒ¹é…ï¼Œåªè¦åŒ…å«å…³é”®è¯å°±èƒ½æ‰¾åˆ°ï¼Œä¸éœ€è¦å®Œå…¨ä¸€æ ·ã€‚

**ç”Ÿæ´»ä¾‹å­**ï¼š
- æœç´¢"è‹¹æœ"èƒ½æ‰¾åˆ°"è‹¹æœæ‰‹æœº"ã€"çº¢è‹¹æœ"ã€"è‹¹æœæ±"
- æœç´¢"å¼ "èƒ½æ‰¾åˆ°"å¼ ä¸‰"ã€"å¼ å°æ˜"ã€"å°å¼ "

### 4.2 æ¨¡ç³Šæœç´¢çš„å®ç°æ–¹å¼


**ğŸ”¸ LIKEæŸ¥è¯¢ï¼ˆæœ€å¸¸ç”¨ï¼‰**ï¼š
```sql
-- æŸ¥æ‰¾åç§°åŒ…å«"æ‰‹æœº"çš„å•†å“
SELECT * FROM products WHERE name LIKE '%æ‰‹æœº%';

-- æŸ¥æ‰¾ä»¥"iPhone"å¼€å¤´çš„å•†å“
SELECT * FROM products WHERE name LIKE 'iPhone%';

-- æŸ¥æ‰¾ä»¥".pdf"ç»“å°¾çš„æ–‡ä»¶
SELECT * FROM files WHERE filename LIKE '%.pdf';
```

**ğŸ”¸ å…¨æ–‡æœç´¢ï¼ˆé«˜çº§åŠŸèƒ½ï¼‰**ï¼š
```sql
-- MySQLå…¨æ–‡æœç´¢
SELECT * FROM articles 
WHERE MATCH(title, content) AGAINST('äººå·¥æ™ºèƒ½' IN NATURAL LANGUAGE MODE);
```

### 4.3 å‰ç«¯è°ƒç”¨ç¤ºä¾‹


```javascript
// æœç´¢å•†å“
fetch('/api/products?keyword=è‹¹æœæ‰‹æœº')
  .then(res => res.json())
  .then(data => console.log(data));

// æœç´¢æ–‡ç« 
fetch('/api/articles?search=Vueæ•™ç¨‹')
  .then(res => res.json())
  .then(data => console.log(data));
```

### 4.4 åç«¯å®ç°ä»£ç 


```javascript
app.get('/api/products', (req, res) => {
    let query = 'SELECT * FROM products WHERE 1=1';
    const params = [];
    
    // å…³é”®è¯æ¨¡ç³Šæœç´¢
    if (req.query.keyword) {
        query += ' AND (name LIKE ? OR description LIKE ?)';
        const keyword = `%${req.query.keyword}%`;
        params.push(keyword, keyword);
    }
    
    db.query(query, params, (err, results) => {
        res.json(results);
    });
});
```

---

## 5. ğŸ“Š èŒƒå›´æŸ¥è¯¢è®¾è®¡


### 5.1 ä»€ä¹ˆæ˜¯èŒƒå›´æŸ¥è¯¢


> ğŸ’¡ **æ ¸å¿ƒæ¦‚å¿µ**ï¼šèŒƒå›´æŸ¥è¯¢å°±æ˜¯åœ¨æŸä¸ªèŒƒå›´å†…æŸ¥æ‰¾æ•°æ®ï¼Œæ¯”å¦‚ä»·æ ¼åœ¨100-500ä¹‹é—´ï¼Œæ—¶é—´åœ¨æŸä¸ªæœˆå†…ã€‚

**å¸¸è§èŒƒå›´ç±»å‹**ï¼š
- **æ•°å€¼èŒƒå›´**ï¼šä»·æ ¼ã€å¹´é¾„ã€è¯„åˆ†
- **æ—¶é—´èŒƒå›´**ï¼šåˆ›å»ºæ—¶é—´ã€æ›´æ–°æ—¶é—´
- **æ—¥æœŸèŒƒå›´**ï¼šè®¢å•æ—¥æœŸã€æ´»åŠ¨æ—¶é—´

### 5.2 èŒƒå›´æŸ¥è¯¢å‚æ•°è®¾è®¡


**ğŸ”¸ æ ‡å‡†èŒƒå›´å‚æ•°**ï¼š
```
gte (greater than or equal) - å¤§äºç­‰äº
lte (less than or equal) - å°äºç­‰äº
gt (greater than) - å¤§äº
lt (less than) - å°äº
between - åœ¨...ä¹‹é—´
```

**ğŸ”¸ å®é™…APIè°ƒç”¨ä¾‹å­**ï¼š
```
ä»·æ ¼èŒƒå›´æŸ¥è¯¢ï¼š
GET /api/products?min_price=100&max_price=500
GET /api/products?price_gte=100&price_lte=500

æ—¶é—´èŒƒå›´æŸ¥è¯¢ï¼š
GET /api/orders?start_date=2024-01-01&end_date=2024-01-31
GET /api/logs?created_gte=2024-01-01&created_lte=2024-01-31

è¯„åˆ†èŒƒå›´ï¼š
GET /api/reviews?rating_gte=4&rating_lte=5
```

### 5.3 èŒƒå›´æŸ¥è¯¢å®ç°


```javascript
app.get('/api/products', (req, res) => {
    let query = 'SELECT * FROM products WHERE 1=1';
    const params = [];
    
    // ä»·æ ¼èŒƒå›´
    if (req.query.min_price) {
        query += ' AND price >= ?';
        params.push(req.query.min_price);
    }
    if (req.query.max_price) {
        query += ' AND price <= ?';
        params.push(req.query.max_price);
    }
    
    // æ—¶é—´èŒƒå›´
    if (req.query.start_date) {
        query += ' AND created_at >= ?';
        params.push(req.query.start_date);
    }
    if (req.query.end_date) {
        query += ' AND created_at <= ?';
        params.push(req.query.end_date + ' 23:59:59');
    }
    
    db.query(query, params, (err, results) => {
        res.json(results);
    });
});
```

---

## 6. ğŸ”„ å¤šæ¡ä»¶ç»„åˆæŸ¥è¯¢


### 6.1 ä»€ä¹ˆæ˜¯å¤šæ¡ä»¶ç»„åˆ


> ğŸ’¡ **æ ¸å¿ƒæ¦‚å¿µ**ï¼šå¤šæ¡ä»¶ç»„åˆå°±æ˜¯åŒæ—¶ä½¿ç”¨å¤šä¸ªç­›é€‰æ¡ä»¶ï¼Œè®©æœç´¢ç»“æœæ›´ç²¾ç¡®ã€‚

**ç”Ÿæ´»ä¾‹å­**ï¼š
- æ‰¾"ä»·æ ¼åœ¨100-500ä¹‹é—´ AND å“ç‰Œæ˜¯è‹¹æœ AND çŠ¶æ€æ˜¯æœ‰è´§"çš„å•†å“
- æŸ¥çœ‹"åˆ›å»ºæ—¶é—´åœ¨æœ¬æœˆ AND çŠ¶æ€æ˜¯å·²å®Œæˆ AND ç”¨æˆ·IDæ˜¯123"çš„è®¢å•

### 6.2 ANDé€»è¾‘ç»„åˆ


**æ‰€æœ‰æ¡ä»¶éƒ½å¿…é¡»æ»¡è¶³**ï¼š
```
æŸ¥æ‰¾æ¡ä»¶ï¼šä»·æ ¼100-500 AND åˆ†ç±»æ˜¯æ‰‹æœº AND æœ‰åº“å­˜
GET /api/products?min_price=100&max_price=500&category=mobile&in_stock=true

SQLç­‰ä»·ï¼š
SELECT * FROM products 
WHERE price >= 100 
  AND price <= 500 
  AND category = 'mobile' 
  AND in_stock = true;
```

### 6.3 ORé€»è¾‘ç»„åˆ


**æ»¡è¶³ä»»æ„ä¸€ä¸ªæ¡ä»¶å³å¯**ï¼š
```
æŸ¥æ‰¾æ¡ä»¶ï¼šåˆ†ç±»æ˜¯æ‰‹æœº OR åˆ†ç±»æ˜¯ç”µè„‘
GET /api/products?category=mobile,computer

æˆ–è€…ï¼š
GET /api/products?category[]=mobile&category[]=computer

SQLç­‰ä»·ï¼š
SELECT * FROM products 
WHERE category IN ('mobile', 'computer');
```

### 6.4 å¤æ‚ç»„åˆå®ç°


```javascript
app.get('/api/orders', (req, res) => {
    let query = 'SELECT * FROM orders WHERE 1=1';
    const params = [];
    
    // ç”¨æˆ·ID (ç²¾ç¡®åŒ¹é…)
    if (req.query.user_id) {
        query += ' AND user_id = ?';
        params.push(req.query.user_id);
    }
    
    // çŠ¶æ€ (å¯ä»¥æ˜¯å¤šä¸ªå€¼)
    if (req.query.status) {
        const statuses = req.query.status.split(',');
        const placeholders = statuses.map(() => '?').join(',');
        query += ` AND status IN (${placeholders})`;
        params.push(...statuses);
    }
    
    // æ—¶é—´èŒƒå›´
    if (req.query.start_date) {
        query += ' AND created_at >= ?';
        params.push(req.query.start_date);
    }
    
    // é‡‘é¢èŒƒå›´
    if (req.query.min_amount) {
        query += ' AND total_amount >= ?';
        params.push(req.query.min_amount);
    }
    
    db.query(query, params, (err, results) => {
        res.json(results);
    });
});
```

---

## 7. ğŸ”§ ç‰¹æ®Šç±»å‹è¿‡æ»¤


### 7.1 å¸ƒå°”å€¼è¿‡æ»¤


**å¸ƒå°”å€¼å°±æ˜¯çœŸ/å‡çš„åˆ¤æ–­**ï¼š
```
æŸ¥æ‰¾å·²å‘å¸ƒçš„æ–‡ç« ï¼š
GET /api/articles?published=true

æŸ¥æ‰¾æœªåˆ é™¤çš„ç”¨æˆ·ï¼š
GET /api/users?deleted=false

æŸ¥æ‰¾æœ‰åº“å­˜çš„å•†å“ï¼š
GET /api/products?in_stock=1
```

**å®ç°ä»£ç **ï¼š
```javascript
// å¸ƒå°”å€¼å¤„ç†
if (req.query.published !== undefined) {
    const isPublished = req.query.published === 'true' || req.query.published === '1';
    query += ' AND published = ?';
    params.push(isPublished);
}
```

### 7.2 æ•°ç»„è¿‡æ»¤


**æŸ¥æ‰¾å±äºå¤šä¸ªåˆ†ç±»çš„æ•°æ®**ï¼š
```
æŸ¥æ‰¾å¤šä¸ªåˆ†ç±»çš„å•†å“ï¼š
GET /api/products?category=electronics,books,clothing

æŸ¥æ‰¾å¤šä¸ªçŠ¶æ€çš„è®¢å•ï¼š
GET /api/orders?status=pending,processing,shipped
```

**å®ç°ä»£ç **ï¼š
```javascript
// æ•°ç»„å‚æ•°å¤„ç†
if (req.query.category) {
    const categories = req.query.category.split(',');
    const placeholders = categories.map(() => '?').join(',');
    query += ` AND category IN (${placeholders})`;
    params.push(...categories);
}
```

### 7.3 JSONå¯¹è±¡è¿‡æ»¤


**é’ˆå¯¹å­˜å‚¨JSONæ•°æ®çš„å­—æ®µ**ï¼š
```javascript
// æŸ¥æ‰¾åŒ…å«ç‰¹å®šæ ‡ç­¾çš„æ–‡ç« 
GET /api/articles?tags=vue,javascript

// å®ç°ä»£ç 
if (req.query.tags) {
    const tags = req.query.tags.split(',');
    tags.forEach(tag => {
        query += ' AND JSON_CONTAINS(tags, ?)';
        params.push(`"${tag}"`);
    });
}
```

---

## 8. âš¡ æ€§èƒ½ä¼˜åŒ–ç­–ç•¥


### 8.1 æ•°æ®åº“ç´¢å¼•ä¼˜åŒ–


> ğŸ’¡ **æ ¸å¿ƒæ¦‚å¿µ**ï¼šç´¢å¼•å°±åƒä¹¦çš„ç›®å½•ï¼Œèƒ½å¿«é€Ÿæ‰¾åˆ°æ•°æ®åœ¨å“ªé‡Œï¼Œå¤§å¤§æå‡æŸ¥è¯¢é€Ÿåº¦ã€‚

**å¿…é¡»å»ºç«‹ç´¢å¼•çš„å­—æ®µ**ï¼š
```sql
-- ç»å¸¸ç”¨ä½œè¿‡æ»¤æ¡ä»¶çš„å­—æ®µ
CREATE INDEX idx_status ON orders(status);
CREATE INDEX idx_category ON products(category);
CREATE INDEX idx_created_at ON articles(created_at);

-- ç»„åˆç´¢å¼•ï¼ˆå¤šä¸ªæ¡ä»¶ä¸€èµ·æŸ¥è¯¢æ—¶ï¼‰
CREATE INDEX idx_user_status ON orders(user_id, status);
CREATE INDEX idx_category_price ON products(category, price);
```

### 8.2 ç¼“å­˜æœºåˆ¶


**ğŸ”¸ æŸ¥è¯¢ç»“æœç¼“å­˜**ï¼š
```javascript
const redis = require('redis');
const client = redis.createClient();

app.get('/api/products', async (req, res) => {
    // ç”Ÿæˆç¼“å­˜key
    const cacheKey = `products:${JSON.stringify(req.query)}`;
    
    // å…ˆæŸ¥ç¼“å­˜
    const cached = await client.get(cacheKey);
    if (cached) {
        return res.json(JSON.parse(cached));
    }
    
    // æŸ¥æ•°æ®åº“
    const results = await queryDatabase(req.query);
    
    // å­˜å…¥ç¼“å­˜ï¼ˆ5åˆ†é’Ÿè¿‡æœŸï¼‰
    await client.setex(cacheKey, 300, JSON.stringify(results));
    
    res.json(results);
});
```

### 8.3 åˆ†é¡µé™åˆ¶


**é¿å…è¿”å›è¿‡å¤šæ•°æ®**ï¼š
```javascript
// å¼ºåˆ¶åˆ†é¡µï¼Œé˜²æ­¢ä¸€æ¬¡è¿”å›å¤ªå¤šæ•°æ®
const page = parseInt(req.query.page) || 1;
const limit = Math.min(parseInt(req.query.limit) || 20, 100); // æœ€å¤š100æ¡
const offset = (page - 1) * limit;

query += ` LIMIT ${limit} OFFSET ${offset}`;
```

### 8.4 æ€§èƒ½ç›‘æ§


```javascript
// æŸ¥è¯¢æ€§èƒ½ç›‘æ§
const startTime = Date.now();

db.query(query, params, (err, results) => {
    const queryTime = Date.now() - startTime;
    
    // è®°å½•æ…¢æŸ¥è¯¢
    if (queryTime > 1000) {
        console.warn(`æ…¢æŸ¥è¯¢è­¦å‘Š: ${query}, è€—æ—¶: ${queryTime}ms`);
    }
    
    res.json(results);
});
```

---

## 9. ğŸ“‹ æœ€ä½³å®è·µæ€»ç»“


### 9.1 å‚æ•°è®¾è®¡åŸåˆ™


| åŸåˆ™ | **è¯´æ˜** | **ç¤ºä¾‹** |
|------|----------|----------|
| ğŸ¯ **è¯­ä¹‰æ¸…æ™°** | `å‚æ•°åè¦è§åçŸ¥æ„` | `status` è€Œä¸æ˜¯ `s` |
| ğŸ“ **æ ¼å¼ç»Ÿä¸€** | `åŒç±»å‚æ•°æ ¼å¼ä¿æŒä¸€è‡´` | æ—¥æœŸéƒ½ç”¨ `YYYY-MM-DD` |
| ğŸ”’ **å®‰å…¨éªŒè¯** | `å¯¹æ‰€æœ‰å‚æ•°è¿›è¡ŒéªŒè¯` | é˜²æ­¢SQLæ³¨å…¥ |
| âš¡ **æ€§èƒ½è€ƒè™‘** | `å¸¸ç”¨ç­›é€‰å­—æ®µå»ºç´¢å¼•` | `status`, `created_at` |

### 9.2 å¸¸è§é”™è¯¯é¿å…


```
âŒ å¸¸è§é”™è¯¯ï¼š
1. ä¸å¯¹å‚æ•°è¿›è¡ŒéªŒè¯ â†’ å®¹æ˜“SQLæ³¨å…¥
2. æ²¡æœ‰å»ºç«‹ç´¢å¼• â†’ æŸ¥è¯¢é€Ÿåº¦æ…¢
3. ä¸é™åˆ¶è¿”å›æ•°é‡ â†’ å¯èƒ½è¿”å›å‡ ä¸‡æ¡æ•°æ®
4. å‚æ•°å‘½åä¸è§„èŒƒ â†’ å‰ç«¯éš¾ä»¥ç†è§£

âœ… æ­£ç¡®åšæ³•ï¼š
1. ä¸¥æ ¼éªŒè¯æ‰€æœ‰è¾“å…¥å‚æ•°
2. ä¸ºå¸¸ç”¨å­—æ®µå»ºç«‹ç´¢å¼•
3. å¼ºåˆ¶åˆ†é¡µï¼Œé™åˆ¶æœ€å¤§è¿”å›æ•°é‡
4. ä½¿ç”¨æ¸…æ™°çš„å‚æ•°å‘½å
```

### 9.3 å®Œæ•´çš„APIè®¾è®¡ç¤ºä¾‹


```javascript
// å®Œæ•´çš„å•†å“æœç´¢APIå®ç°
app.get('/api/products', async (req, res) => {
    try {
        // 1. å‚æ•°éªŒè¯
        const {
            keyword = '',
            category,
            min_price,
            max_price,
            status = 'active',
            page = 1,
            limit = 20
        } = req.query;
        
        // 2. æ„å»ºæŸ¥è¯¢
        let query = 'SELECT * FROM products WHERE status = ?';
        const params = [status];
        
        // 3. æ·»åŠ è¿‡æ»¤æ¡ä»¶
        if (keyword) {
            query += ' AND (name LIKE ? OR description LIKE ?)';
            const searchTerm = `%${keyword}%`;
            params.push(searchTerm, searchTerm);
        }
        
        if (category) {
            query += ' AND category = ?';
            params.push(category);
        }
        
        if (min_price) {
            query += ' AND price >= ?';
            params.push(parseFloat(min_price));
        }
        
        if (max_price) {
            query += ' AND price <= ?';
            params.push(parseFloat(max_price));
        }
        
        // 4. æ·»åŠ åˆ†é¡µ
        const offset = (page - 1) * Math.min(limit, 100);
        query += ' ORDER BY created_at DESC LIMIT ? OFFSET ?';
        params.push(Math.min(limit, 100), offset);
        
        // 5. æ‰§è¡ŒæŸ¥è¯¢
        const results = await queryDatabase(query, params);
        
        // 6. è¿”å›ç»“æœ
        res.json({
            data: results,
            pagination: {
                page: parseInt(page),
                limit: parseInt(limit),
                total: results.length
            }
        });
        
    } catch (error) {
        res.status(500).json({ error: 'æŸ¥è¯¢å¤±è´¥' });
    }
});
```

### 9.4 æ ¸å¿ƒè¦ç‚¹è®°å¿†


> ğŸ¯ **æ ¸å¿ƒè¦ç‚¹**ï¼š
> 
> 1. **ç²¾ç¡®åŒ¹é…**ï¼šå®Œå…¨ç›¸ç­‰çš„æŸ¥è¯¢ï¼Œç”¨äºçŠ¶æ€ã€åˆ†ç±»ç­‰
> 2. **æ¨¡ç³Šæœç´¢**ï¼šåŒ…å«å…³é”®è¯å³å¯ï¼Œç”¨äºåç§°ã€æè¿°ç­‰  
> 3. **èŒƒå›´æŸ¥è¯¢**ï¼šåœ¨æŸä¸ªèŒƒå›´å†…ï¼Œç”¨äºä»·æ ¼ã€æ—¶é—´ç­‰
> 4. **å¤šæ¡ä»¶ç»„åˆ**ï¼šAND/ORé€»è¾‘ï¼Œè®©æœç´¢æ›´ç²¾ç¡®
> 5. **æ€§èƒ½ä¼˜åŒ–**ï¼šå»ºç´¢å¼•ã€åŠ ç¼“å­˜ã€é™åˆ¶æ•°é‡

**è®°å¿†å£è¯€**ï¼š
```
APIè¿‡æ»¤å¾ˆé‡è¦ï¼Œå‚æ•°è®¾è®¡è¦è§„èŒƒ
ç²¾ç¡®æ¨¡ç³ŠåŠ èŒƒå›´ï¼Œç»„åˆæŸ¥è¯¢æ›´é«˜æ•ˆ
ç´¢å¼•ç¼“å­˜ä¸èƒ½å°‘ï¼Œæ€§èƒ½ä¼˜åŒ–æ˜¯å…³é”®
```