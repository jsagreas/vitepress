---
title: 1ã€æ–‡ä»¶ç³»ç»Ÿæ“ä½œï¼ˆfs æ¨¡å—ï¼‰
---
## ğŸ“š ç›®å½•

1. [fsæ¨¡å—åŸºç¡€æ¦‚å¿µ](#1-fsæ¨¡å—åŸºç¡€æ¦‚å¿µ)
2. [æ–‡ä»¶è¯»å†™æ ¸å¿ƒæ“ä½œ](#2-æ–‡ä»¶è¯»å†™æ ¸å¿ƒæ“ä½œ)
3. [ç›®å½•æ“ä½œä¸ç®¡ç†](#3-ç›®å½•æ“ä½œä¸ç®¡ç†)
4. [æ–‡ä»¶çŠ¶æ€ä¸ç›‘æ§](#4-æ–‡ä»¶çŠ¶æ€ä¸ç›‘æ§)
5. [åŒæ­¥å¼‚æ­¥é€‰æ‹©ç­–ç•¥](#5-åŒæ­¥å¼‚æ­¥é€‰æ‹©ç­–ç•¥)
6. [é”™è¯¯å¤„ç†ä¸æœ€ä½³å®è·µ](#6-é”™è¯¯å¤„ç†ä¸æœ€ä½³å®è·µ)
7. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#7-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ“ fsæ¨¡å—åŸºç¡€æ¦‚å¿µ


### 1.1 ä»€ä¹ˆæ˜¯fsæ¨¡å—


**ç®€å•ç†è§£**ï¼šfså°±æ˜¯"File System"çš„ç¼©å†™ï¼Œå®ƒæ˜¯Node.jsä¸“é—¨ç”¨æ¥æ“ä½œæ–‡ä»¶å’Œæ–‡ä»¶å¤¹çš„å·¥å…·ç®±ã€‚

```
å°±åƒç°å®ç”Ÿæ´»ä¸­ï¼š
ğŸ“‚ ä½ éœ€è¦æ•´ç†ä¹¦æ¡Œä¸Šçš„æ–‡ä»¶
ğŸ“– è¯»å–æ–‡ä»¶å†…å®¹
âœï¸ å†™å…¥æ–°å†…å®¹
ğŸ—‚ï¸ åˆ›å»ºæ–°æ–‡ä»¶å¤¹
ğŸ—‘ï¸ åˆ é™¤ä¸éœ€è¦çš„æ–‡ä»¶

åœ¨Node.jsä¸­ï¼Œfsæ¨¡å—å°±æ˜¯å¸®ä½ åšè¿™äº›äº‹æƒ…çš„ï¼
```

### 1.2 ä¸ºä»€ä¹ˆfsæ¨¡å—å¾ˆé‡è¦


**æ ¸å¿ƒä½œç”¨**ï¼š
- ğŸ”¸ **è¯»å–é…ç½®æ–‡ä»¶**ï¼šè¯»å–é¡¹ç›®é…ç½®ã€ç”¨æˆ·è®¾ç½®
- ğŸ”¸ **å¤„ç†ç”¨æˆ·ä¸Šä¼ **ï¼šä¿å­˜ç”¨æˆ·ä¸Šä¼ çš„å›¾ç‰‡ã€æ–‡æ¡£
- ğŸ”¸ **æ—¥å¿—è®°å½•**ï¼šå°†ç¨‹åºè¿è¡Œæ—¥å¿—å†™å…¥æ–‡ä»¶
- ğŸ”¸ **æ¨¡æ¿å¤„ç†**ï¼šè¯»å–HTMLæ¨¡æ¿æ–‡ä»¶
- ğŸ”¸ **æ•°æ®æŒä¹…åŒ–**ï¼šå°†æ•°æ®ä¿å­˜åˆ°æ–‡ä»¶ä¸­

### 1.3 å¼•å…¥fsæ¨¡å—


```javascript
// å¼•å…¥fsæ¨¡å—çš„ä¸‰ç§æ–¹å¼
const fs = require('fs');           // ä¼ ç»Ÿå›è°ƒæ–¹å¼
const fsSync = require('fs');       // åŒæ­¥æ–¹å¼ï¼ˆåŒä¸€ä¸ªæ¨¡å—ï¼‰
const fsPromises = require('fs').promises; // Promiseæ–¹å¼
```

---

## 2. ğŸ“ æ–‡ä»¶è¯»å†™æ ¸å¿ƒæ“ä½œ


### 2.1 è¯»å–æ–‡ä»¶ - è·å–æ–‡ä»¶å†…å®¹


#### ğŸ”¸ å¼‚æ­¥è¯»å–ï¼ˆæ¨èæ–¹å¼ï¼‰


**åŸºæœ¬è¯­æ³•**ï¼š
```javascript
fs.readFile(æ–‡ä»¶è·¯å¾„, ç¼–ç æ ¼å¼, å›è°ƒå‡½æ•°)
```

**ç®€å•ç¤ºä¾‹**ï¼š
```javascript
const fs = require('fs');

// è¯»å–æ–‡æœ¬æ–‡ä»¶
fs.readFile('config.txt', 'utf8', (err, data) => {
    if (err) {
        console.log('è¯»å–å¤±è´¥ï¼š', err.message);
        return;
    }
    console.log('æ–‡ä»¶å†…å®¹ï¼š', data);
});
```

**å®é™…åº”ç”¨åœºæ™¯**ï¼š
```javascript
// è¯»å–é¡¹ç›®é…ç½®æ–‡ä»¶
fs.readFile('package.json', 'utf8', (err, data) => {
    if (err) {
        console.log('é…ç½®æ–‡ä»¶ä¸å­˜åœ¨');
        return;
    }
    
    const config = JSON.parse(data);
    console.log('é¡¹ç›®åç§°ï¼š', config.name);
    console.log('ç‰ˆæœ¬å·ï¼š', config.version);
});
```

#### ğŸ”¸ åŒæ­¥è¯»å–ï¼ˆé˜»å¡æ–¹å¼ï¼‰


```javascript
try {
    const data = fs.readFileSync('config.txt', 'utf8');
    console.log('æ–‡ä»¶å†…å®¹ï¼š', data);
} catch (err) {
    console.log('è¯»å–å¤±è´¥ï¼š', err.message);
}
```

> **ğŸ’¡ ä»€ä¹ˆæ—¶å€™ç”¨åŒæ­¥ï¼Ÿ**
> - ç¨‹åºå¯åŠ¨æ—¶è¯»å–é…ç½®æ–‡ä»¶
> - è„šæœ¬å·¥å…·ä¸­çš„ç®€å•æ–‡ä»¶æ“ä½œ
> - ä¸åœ¨ä¹é˜»å¡çš„åœºæ™¯

### 2.2 å†™å…¥æ–‡ä»¶ - åˆ›å»ºæˆ–è¦†ç›–æ–‡ä»¶


#### ğŸ”¸ å¼‚æ­¥å†™å…¥


```javascript
// å†™å…¥æ–‡æœ¬å†…å®¹
fs.writeFile('user.txt', 'ç”¨æˆ·å§“åï¼šå¼ ä¸‰', 'utf8', (err) => {
    if (err) {
        console.log('å†™å…¥å¤±è´¥ï¼š', err.message);
        return;
    }
    console.log('æ–‡ä»¶å†™å…¥æˆåŠŸï¼');
});
```

**ä¿å­˜JSONæ•°æ®ç¤ºä¾‹**ï¼š
```javascript
const userData = {
    name: 'å¼ ä¸‰',
    age: 25,
    email: 'zhangsan@example.com'
};

// å°†å¯¹è±¡è½¬æ¢ä¸ºJSONå­—ç¬¦ä¸²ä¿å­˜
fs.writeFile('user.json', JSON.stringify(userData, null, 2), 'utf8', (err) => {
    if (err) {
        console.log('ä¿å­˜ç”¨æˆ·æ•°æ®å¤±è´¥');
        return;
    }
    console.log('ç”¨æˆ·æ•°æ®ä¿å­˜æˆåŠŸ');
});
```

### 2.3 è¿½åŠ æ–‡ä»¶å†…å®¹ - ä¸è¦†ç›–åŸå†…å®¹


```javascript
// å‘æ—¥å¿—æ–‡ä»¶è¿½åŠ æ–°è®°å½•
const logMessage = `${new Date().toLocaleString()} - ç”¨æˆ·ç™»å½•æˆåŠŸ\n`;

fs.appendFile('app.log', logMessage, 'utf8', (err) => {
    if (err) {
        console.log('æ—¥å¿—å†™å…¥å¤±è´¥');
        return;
    }
    console.log('æ—¥å¿—è®°å½•æˆåŠŸ');
});
```

### 2.4 ç¼–ç æ ¼å¼è¯´æ˜


```
å¸¸ç”¨ç¼–ç æ ¼å¼ï¼š
ğŸ“ 'utf8'    - ä¸­æ–‡æ–‡æœ¬æ–‡ä»¶ï¼ˆæœ€å¸¸ç”¨ï¼‰
ğŸ“„ 'ascii'   - è‹±æ–‡æ–‡æœ¬æ–‡ä»¶
ğŸ” 'base64'  - å›¾ç‰‡ç­‰äºŒè¿›åˆ¶æ–‡ä»¶çš„ç¼–ç 
âš¡ ä¸æŒ‡å®šç¼–ç  - è¿”å›Bufferå¯¹è±¡ï¼ˆäºŒè¿›åˆ¶æ•°æ®ï¼‰
```

**è¯»å–å›¾ç‰‡æ–‡ä»¶ç¤ºä¾‹**ï¼š
```javascript
// è¯»å–å›¾ç‰‡ï¼ˆä¸æŒ‡å®šç¼–ç ï¼‰
fs.readFile('photo.jpg', (err, data) => {
    if (err) {
        console.log('å›¾ç‰‡è¯»å–å¤±è´¥');
        return;
    }
    console.log('å›¾ç‰‡å¤§å°ï¼š', data.length, 'å­—èŠ‚');
    console.log('æ•°æ®ç±»å‹ï¼š', typeof data); // Bufferå¯¹è±¡
});
```

---

## 3. ğŸ“‚ ç›®å½•æ“ä½œä¸ç®¡ç†


### 3.1 åˆ¤æ–­æ–‡ä»¶æ˜¯å¦å­˜åœ¨


#### ğŸ”¸ ç°ä»£æ¨èæ–¹å¼ - fs.access()


```javascript
// æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨
fs.access('config.txt', fs.constants.F_OK, (err) => {
    if (err) {
        console.log('æ–‡ä»¶ä¸å­˜åœ¨');
        return;
    }
    console.log('æ–‡ä»¶å­˜åœ¨');
});

// æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å¯è¯»å†™
fs.access('config.txt', fs.constants.R_OK | fs.constants.W_OK, (err) => {
    if (err) {
        console.log('æ–‡ä»¶æ— æ³•è¯»å†™');
        return;
    }
    console.log('æ–‡ä»¶å¯ä»¥è¯»å†™');
});
```

#### ğŸ”¸ ç®€å•åŒæ­¥æ–¹å¼ - fs.existsSync()


```javascript
if (fs.existsSync('config.txt')) {
    console.log('æ–‡ä»¶å­˜åœ¨ï¼Œå¯ä»¥ç»§ç»­æ“ä½œ');
} else {
    console.log('æ–‡ä»¶ä¸å­˜åœ¨ï¼Œéœ€è¦åˆ›å»º');
}
```

### 3.2 åˆ›å»ºç›®å½•


#### ğŸ”¸ åˆ›å»ºå•ä¸ªç›®å½•


```javascript
fs.mkdir('uploads', (err) => {
    if (err) {
        console.log('ç›®å½•åˆ›å»ºå¤±è´¥ï¼š', err.message);
        return;
    }
    console.log('uploadsç›®å½•åˆ›å»ºæˆåŠŸ');
});
```

#### ğŸ”¸ é€’å½’åˆ›å»ºå¤šå±‚ç›®å½•


```javascript
// åˆ›å»ºæ·±å±‚ç›®å½•ç»“æ„
fs.mkdir('public/images/user', { recursive: true }, (err) => {
    if (err) {
        console.log('ç›®å½•ç»“æ„åˆ›å»ºå¤±è´¥');
        return;
    }
    console.log('å¤šå±‚ç›®å½•åˆ›å»ºæˆåŠŸ');
});
```

> **ğŸ’¡ recursive: true çš„ä½œç”¨**
> å°±åƒåœ¨ç”µè„‘ä¸Šåˆ›å»ºæ–‡ä»¶å¤¹ï¼Œå¦‚æœä¸­é—´çš„æ–‡ä»¶å¤¹ä¸å­˜åœ¨ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨å¸®ä½ åˆ›å»º

### 3.3 è¯»å–ç›®å½•å†…å®¹


```javascript
fs.readdir('public', (err, files) => {
    if (err) {
        console.log('ç›®å½•è¯»å–å¤±è´¥');
        return;
    }
    
    console.log('ç›®å½•ä¸‹çš„æ–‡ä»¶ï¼š');
    files.forEach(file => {
        console.log('- ' + file);
    });
});
```

**è¿‡æ»¤ç‰¹å®šæ–‡ä»¶ç±»å‹**ï¼š
```javascript
fs.readdir('public', (err, files) => {
    if (err) return;
    
    // åªæ˜¾ç¤ºå›¾ç‰‡æ–‡ä»¶
    const imageFiles = files.filter(file => {
        return file.endsWith('.jpg') || file.endsWith('.png') || file.endsWith('.gif');
    });
    
    console.log('å›¾ç‰‡æ–‡ä»¶ï¼š', imageFiles);
});
```

### 3.4 åˆ é™¤æ–‡ä»¶å’Œç›®å½•


#### ğŸ”¸ åˆ é™¤æ–‡ä»¶


```javascript
fs.unlink('temp.txt', (err) => {
    if (err) {
        console.log('æ–‡ä»¶åˆ é™¤å¤±è´¥ï¼š', err.message);
        return;
    }
    console.log('ä¸´æ—¶æ–‡ä»¶åˆ é™¤æˆåŠŸ');
});
```

#### ğŸ”¸ åˆ é™¤ç©ºç›®å½•


```javascript
fs.rmdir('temp-folder', (err) => {
    if (err) {
        console.log('ç›®å½•åˆ é™¤å¤±è´¥ï¼š', err.message);
        return;
    }
    console.log('ä¸´æ—¶ç›®å½•åˆ é™¤æˆåŠŸ');
});
```

---

## 4. ğŸ“Š æ–‡ä»¶çŠ¶æ€ä¸ç›‘æ§


### 4.1 è·å–æ–‡ä»¶è¯¦ç»†ä¿¡æ¯


```javascript
fs.stat('package.json', (err, stats) => {
    if (err) {
        console.log('è·å–æ–‡ä»¶ä¿¡æ¯å¤±è´¥');
        return;
    }
    
    console.log('ğŸ“„ æ–‡ä»¶ä¿¡æ¯ï¼š');
    console.log('å¤§å°ï¼š', stats.size, 'å­—èŠ‚');
    console.log('åˆ›å»ºæ—¶é—´ï¼š', stats.birthtime);
    console.log('ä¿®æ”¹æ—¶é—´ï¼š', stats.mtime);
    console.log('æ˜¯å¦æ˜¯æ–‡ä»¶ï¼š', stats.isFile());
    console.log('æ˜¯å¦æ˜¯ç›®å½•ï¼š', stats.isDirectory());
});
```

**å®é™…åº”ç”¨ - æ–‡ä»¶å¤§å°æ£€æŸ¥**ï¼š
```javascript
fs.stat('upload.jpg', (err, stats) => {
    if (err) return;
    
    const maxSize = 5 * 1024 * 1024; // 5MB
    if (stats.size > maxSize) {
        console.log('âŒ æ–‡ä»¶å¤ªå¤§ï¼Œè¶…è¿‡5MBé™åˆ¶');
    } else {
        console.log('âœ… æ–‡ä»¶å¤§å°åˆé€‚');
    }
});
```

### 4.2 æ–‡ä»¶ç›‘æ§ - å®æ—¶ç›‘å¬å˜åŒ–


#### ğŸ”¸ ç›‘æ§æ–‡ä»¶å˜åŒ–


```javascript
// ç›‘æ§é…ç½®æ–‡ä»¶å˜åŒ–
fs.watch('config.json', (eventType, filename) => {
    console.log(`ğŸ“ ${filename} å‘ç”Ÿäº† ${eventType} äº‹ä»¶`);
    
    if (eventType === 'change') {
        console.log('é…ç½®æ–‡ä»¶è¢«ä¿®æ”¹ï¼Œé‡æ–°åŠ è½½é…ç½®...');
        // é‡æ–°è¯»å–é…ç½®æ–‡ä»¶
    }
});
```

#### ğŸ”¸ ç›‘æ§ç›®å½•å˜åŒ–


```javascript
// ç›‘æ§uploadsç›®å½•
fs.watch('uploads', { recursive: true }, (eventType, filename) => {
    if (eventType === 'rename') {
        console.log(`ğŸ“ æ–‡ä»¶ ${filename} è¢«æ·»åŠ æˆ–åˆ é™¤`);
    } else if (eventType === 'change') {
        console.log(`âœï¸ æ–‡ä»¶ ${filename} è¢«ä¿®æ”¹`);
    }
});
```

---

## 5. âš–ï¸ åŒæ­¥å¼‚æ­¥é€‰æ‹©ç­–ç•¥


### 5.1 ä»€ä¹ˆæ—¶å€™ä½¿ç”¨å¼‚æ­¥æ“ä½œ


```
âœ… æ¨èä½¿ç”¨å¼‚æ­¥çš„åœºæ™¯ï¼š
ğŸŒ WebæœåŠ¡å™¨å¤„ç†è¯·æ±‚
ğŸ“Š å¤„ç†å¤§é‡æ–‡ä»¶
â³ ä¸å¸Œæœ›é˜»å¡å…¶ä»–æ“ä½œ
ğŸ”„ éœ€è¦å¹¶å‘å¤„ç†å¤šä¸ªæ–‡ä»¶
```

**å¼‚æ­¥æ“ä½œç¤ºä¾‹ - WebæœåŠ¡å™¨**ï¼š
```javascript
const http = require('http');
const fs = require('fs');

http.createServer((req, res) => {
    // å¼‚æ­¥è¯»å–æ–‡ä»¶ï¼Œä¸é˜»å¡å…¶ä»–è¯·æ±‚
    fs.readFile('index.html', 'utf8', (err, data) => {
        if (err) {
            res.writeHead(404);
            res.end('é¡µé¢ä¸å­˜åœ¨');
            return;
        }
        res.writeHead(200, {'Content-Type': 'text/html'});
        res.end(data);
    });
}).listen(3000);
```

### 5.2 ä»€ä¹ˆæ—¶å€™ä½¿ç”¨åŒæ­¥æ“ä½œ


```
âœ… é€‚åˆä½¿ç”¨åŒæ­¥çš„åœºæ™¯ï¼š
ğŸš€ ç¨‹åºå¯åŠ¨æ—¶è¯»å–é…ç½®
ğŸ› ï¸ å‘½ä»¤è¡Œå·¥å…·è„šæœ¬
ğŸ“ ç®€å•çš„æ–‡ä»¶å¤„ç†ä»»åŠ¡
âš™ï¸ åˆå§‹åŒ–æ“ä½œ
```

**åŒæ­¥æ“ä½œç¤ºä¾‹ - å¯åŠ¨é…ç½®**ï¼š
```javascript
// ç¨‹åºå¯åŠ¨æ—¶è¯»å–é…ç½®ï¼ˆåŒæ­¥ï¼‰
try {
    const configData = fs.readFileSync('app-config.json', 'utf8');
    const config = JSON.parse(configData);
    
    console.log('âœ… é…ç½®åŠ è½½æˆåŠŸ');
    // å¯åŠ¨æœåŠ¡å™¨
    startServer(config);
} catch (err) {
    console.log('âŒ é…ç½®æ–‡ä»¶åŠ è½½å¤±è´¥ï¼Œç¨‹åºæ— æ³•å¯åŠ¨');
    process.exit(1);
}
```

### 5.3 Promiseæ–¹å¼ - ç°ä»£æ¨è


```javascript
const fsPromises = require('fs').promises;

// ä½¿ç”¨async/awaitå¤„ç†æ–‡ä»¶æ“ä½œ
async function readUserData() {
    try {
        const data = await fsPromises.readFile('user.json', 'utf8');
        const user = JSON.parse(data);
        console.log('ç”¨æˆ·æ•°æ®ï¼š', user);
        return user;
    } catch (err) {
        console.log('è¯»å–ç”¨æˆ·æ•°æ®å¤±è´¥ï¼š', err.message);
        return null;
    }
}

// è¿ç»­çš„æ–‡ä»¶æ“ä½œ
async function processFiles() {
    try {
        // è¯»å–æ¨¡æ¿
        const template = await fsPromises.readFile('template.html', 'utf8');
        
        // è¯»å–æ•°æ®
        const data = await fsPromises.readFile('data.json', 'utf8');
        
        // ç”Ÿæˆæœ€ç»ˆæ–‡ä»¶
        const result = template.replace('{{data}}', data);
        await fsPromises.writeFile('output.html', result, 'utf8');
        
        console.log('âœ… æ–‡ä»¶å¤„ç†å®Œæˆ');
    } catch (err) {
        console.log('âŒ æ–‡ä»¶å¤„ç†å¤±è´¥ï¼š', err.message);
    }
}
```

---

## 6. ğŸ› ï¸ é”™è¯¯å¤„ç†ä¸æœ€ä½³å®è·µ


### 6.1 å¸¸è§é”™è¯¯ç±»å‹ä¸å¤„ç†


**ENOENT - æ–‡ä»¶ä¸å­˜åœ¨**ï¼š
```javascript
fs.readFile('nonexistent.txt', 'utf8', (err, data) => {
    if (err) {
        if (err.code === 'ENOENT') {
            console.log('ğŸ“„ æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ›å»ºé»˜è®¤æ–‡ä»¶');
            fs.writeFile('nonexistent.txt', 'é»˜è®¤å†…å®¹', () => {
                console.log('âœ… é»˜è®¤æ–‡ä»¶åˆ›å»ºæˆåŠŸ');
            });
        }
        return;
    }
    console.log('æ–‡ä»¶å†…å®¹ï¼š', data);
});
```

**EACCES - æƒé™ä¸è¶³**ï¼š
```javascript
fs.writeFile('/root/system.log', 'log data', (err) => {
    if (err) {
        if (err.code === 'EACCES') {
            console.log('âŒ æƒé™ä¸è¶³ï¼Œæ— æ³•å†™å…¥ç³»ç»Ÿç›®å½•');
            console.log('ğŸ’¡ å»ºè®®ï¼šå†™å…¥åˆ°ç”¨æˆ·ç›®å½•æˆ–ä¸´æ—¶ç›®å½•');
        }
        return;
    }
    console.log('âœ… æ—¥å¿—å†™å…¥æˆåŠŸ');
});
```

### 6.2 æ–‡ä»¶æ“ä½œæœ€ä½³å®è·µ


#### ğŸ”¸ å®‰å…¨çš„æ–‡ä»¶å†™å…¥


```javascript
// å®‰å…¨å†™å…¥ - å…ˆå†™å…¥ä¸´æ—¶æ–‡ä»¶ï¼Œå†é‡å‘½å
async function safeWriteFile(filename, data) {
    const tempFile = filename + '.tmp';
    
    try {
        // 1. å†™å…¥ä¸´æ—¶æ–‡ä»¶
        await fsPromises.writeFile(tempFile, data, 'utf8');
        
        // 2. é‡å‘½åä¸ºæ­£å¼æ–‡ä»¶ï¼ˆåŸå­æ“ä½œï¼‰
        await fsPromises.rename(tempFile, filename);
        
        console.log('âœ… æ–‡ä»¶å®‰å…¨å†™å…¥æˆåŠŸ');
    } catch (err) {
        // æ¸…ç†ä¸´æ—¶æ–‡ä»¶
        try {
            await fsPromises.unlink(tempFile);
        } catch (cleanupErr) {
            // å¿½ç•¥æ¸…ç†é”™è¯¯
        }
        throw err;
    }
}
```

#### ğŸ”¸ æ‰¹é‡æ–‡ä»¶å¤„ç†


```javascript
async function processMultipleFiles(filenames) {
    const results = [];
    
    for (const filename of filenames) {
        try {
            const data = await fsPromises.readFile(filename, 'utf8');
            results.push({
                filename: filename,
                success: true,
                content: data
            });
            console.log(`âœ… ${filename} å¤„ç†æˆåŠŸ`);
        } catch (err) {
            results.push({
                filename: filename,
                success: false,
                error: err.message
            });
            console.log(`âŒ ${filename} å¤„ç†å¤±è´¥ï¼š${err.message}`);
        }
    }
    
    return results;
}
```

### 6.3 æ€§èƒ½ä¼˜åŒ–å»ºè®®


**é¿å…é¢‘ç¹çš„å°æ–‡ä»¶æ“ä½œ**ï¼š
```javascript
// âŒ ä½æ•ˆæ–¹å¼ - é¢‘ç¹å†™å…¥
for (let i = 0; i < 1000; i++) {
    fs.appendFileSync('log.txt', `è®°å½• ${i}\n`);
}

// âœ… é«˜æ•ˆæ–¹å¼ - æ‰¹é‡å†™å…¥
const logs = [];
for (let i = 0; i < 1000; i++) {
    logs.push(`è®°å½• ${i}`);
}
fs.writeFileSync('log.txt', logs.join('\n'));
```

---

## 7. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 7.1 å¿…é¡»æŒæ¡çš„åŸºæœ¬æ“ä½œ


```
ğŸ”¸ æ–‡ä»¶è¯»å–ï¼šfs.readFile() - è·å–æ–‡ä»¶å†…å®¹
ğŸ”¸ æ–‡ä»¶å†™å…¥ï¼šfs.writeFile() - åˆ›å»ºæˆ–è¦†ç›–æ–‡ä»¶
ğŸ”¸ æ–‡ä»¶è¿½åŠ ï¼šfs.appendFile() - ä¸è¦†ç›–åŸå†…å®¹
ğŸ”¸ æ–‡ä»¶å­˜åœ¨ï¼šfs.existsSync() - æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨
ğŸ”¸ ç›®å½•æ“ä½œï¼šfs.mkdir() - åˆ›å»ºç›®å½•
ğŸ”¸ æ–‡ä»¶ä¿¡æ¯ï¼šfs.stat() - è·å–æ–‡ä»¶è¯¦ç»†ä¿¡æ¯
```

### 7.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ å¼‚æ­¥ vs åŒæ­¥çš„é€‰æ‹©**
```
å¼‚æ­¥æ“ä½œï¼ˆæ¨èï¼‰ï¼š
- WebæœåŠ¡å™¨ã€å¤§é‡æ–‡ä»¶å¤„ç†
- ä¸é˜»å¡å…¶ä»–æ“ä½œ
- ä½¿ç”¨å›è°ƒå‡½æ•°æˆ–Promise

åŒæ­¥æ“ä½œï¼ˆç‰¹å®šåœºæ™¯ï¼‰ï¼š
- ç¨‹åºå¯åŠ¨é…ç½®è¯»å–
- ç®€å•è„šæœ¬å·¥å…·
- ä¼šé˜»å¡åç»­ä»£ç æ‰§è¡Œ
```

**ğŸ”¹ ç¼–ç æ ¼å¼çš„é‡è¦æ€§**
```
'utf8' - æ–‡æœ¬æ–‡ä»¶ï¼ˆä¸­æ–‡ã€è‹±æ–‡ï¼‰
ä¸æŒ‡å®šç¼–ç  - äºŒè¿›åˆ¶æ–‡ä»¶ï¼ˆå›¾ç‰‡ã€è§†é¢‘ï¼‰
```

**ğŸ”¹ é”™è¯¯å¤„ç†çš„é‡è¦æ€§**
```
ENOENT - æ–‡ä»¶ä¸å­˜åœ¨ï¼ˆæœ€å¸¸è§ï¼‰
EACCES - æƒé™ä¸è¶³
EEXIST - æ–‡ä»¶å·²å­˜åœ¨
```

### 7.3 å®é™…åº”ç”¨è®°å¿†ç‚¹


- **è¯»å–é…ç½®**ï¼šç¨‹åºå¯åŠ¨æ—¶è¯»å–è®¾ç½®æ–‡ä»¶
- **æ—¥å¿—è®°å½•**ï¼šä½¿ç”¨appendFileè®°å½•ç¨‹åºè¿è¡Œæ—¥å¿—  
- **æ–‡ä»¶ä¸Šä¼ **ï¼šä¿å­˜ç”¨æˆ·ä¸Šä¼ çš„æ–‡ä»¶
- **æ¨¡æ¿å¤„ç†**ï¼šè¯»å–HTMLæ¨¡æ¿æ–‡ä»¶
- **æ•°æ®å¤‡ä»½**ï¼šå°†é‡è¦æ•°æ®ä¿å­˜åˆ°æ–‡ä»¶

**æ ¸å¿ƒè®°å¿†å£è¯€**ï¼š
- fsæ¨¡å—æ–‡ä»¶ç®¡ï¼Œè¯»å†™å¢åˆ æ ·æ ·å…¨
- å¼‚æ­¥ä¼˜å…ˆä¸é˜»å¡ï¼ŒåŒæ­¥è°¨æ…ç”¨å¯åŠ¨
- é”™è¯¯å¤„ç†è¦åšå¥½ï¼Œæ–‡ä»¶æ“ä½œæ‰å¯é 