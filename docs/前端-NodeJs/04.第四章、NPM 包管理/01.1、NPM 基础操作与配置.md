---
title: 1ã€NPM åŸºç¡€æ“ä½œä¸é…ç½®
---
## ğŸ“š ç›®å½•

1. [NPM æ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆé‡è¦ï¼Ÿ](#1-npm-æ˜¯ä»€ä¹ˆä¸ºä»€ä¹ˆé‡è¦)
2. [NPM ç”Ÿæ€ç³»ç»Ÿä¸åœ°ä½](#2-npm-ç”Ÿæ€ç³»ç»Ÿä¸åœ°ä½)
3. [é¡¹ç›®åˆå§‹åŒ–ä¸é…ç½®](#3-é¡¹ç›®åˆå§‹åŒ–ä¸é…ç½®)
4. [åŒ…çš„å®‰è£…ä¸ç®¡ç†](#4-åŒ…çš„å®‰è£…ä¸ç®¡ç†)
5. [ä¾èµ–ç±»å‹è¯¦è§£](#5-ä¾èµ–ç±»å‹è¯¦è§£)
6. [é”æ–‡ä»¶ä¸node_modules](#6-é”æ–‡ä»¶ä¸node_modules)
7. [NPM é…ç½®ä¸è„šæœ¬](#7-npm-é…ç½®ä¸è„šæœ¬)
8. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#8-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ” NPM æ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆé‡è¦ï¼Ÿ


### 1.1 NPM çš„åŸºæœ¬æ¦‚å¿µ


**ä»€ä¹ˆæ˜¯ NPMï¼Ÿ**
```
NPM = Node Package Managerï¼ˆNode åŒ…ç®¡ç†å™¨ï¼‰
ç®€å•ç†è§£ï¼šå°±åƒæ‰‹æœºä¸Šçš„åº”ç”¨å•†åº—ï¼Œä½†ä¸“é—¨ä¸º JavaScript ä»£ç æœåŠ¡

ç±»æ¯”è¯´æ˜ï¼š
ğŸ“± æ‰‹æœºåº”ç”¨å•†åº— â†’ ä¸‹è½½å®‰è£…æ‰‹æœºAPP
ğŸ“¦ NPM â†’ ä¸‹è½½å®‰è£…JavaScriptä»£ç åŒ…
```

**NPM çš„ä¸‰é‡èº«ä»½**ï¼š
```
èº«ä»½1ï¼šåœ¨çº¿ä»“åº“ (npmjs.com)
ä½œç”¨ï¼šå­˜å‚¨å…¨ä¸–ç•Œå¼€å‘è€…åˆ†äº«çš„ä»£ç åŒ…
æ¯”å¦‚ï¼šå­˜å‚¨äº†100å¤šä¸‡ä¸ªJavaScriptåŒ…

èº«ä»½2ï¼šå‘½ä»¤è¡Œå·¥å…· (npmå‘½ä»¤)
ä½œç”¨ï¼šé€šè¿‡ç»ˆç«¯æ“ä½œï¼Œä¸‹è½½ã€å®‰è£…ã€ç®¡ç†ä»£ç åŒ…
æ¯”å¦‚ï¼šnpm install lodash

èº«ä»½3ï¼šåŒ…ç®¡ç†ç³»ç»Ÿ
ä½œç”¨ï¼šç®¡ç†é¡¹ç›®ä¸­ç”¨åˆ°çš„æ‰€æœ‰ç¬¬ä¸‰æ–¹ä»£ç 
æ¯”å¦‚ï¼šè®°å½•é¡¹ç›®ä¾èµ–ã€ç‰ˆæœ¬æ§åˆ¶
```

### 1.2 ä¸ºä»€ä¹ˆ NPM å¦‚æ­¤é‡è¦ï¼Ÿ


**è§£å†³çš„æ ¸å¿ƒé—®é¢˜**ï¼š
```
é—®é¢˜1ï¼šé‡å¤é€ è½®å­
æ²¡æœ‰NPMï¼šæ¯ä¸ªäººéƒ½è¦è‡ªå·±å†™æ—¥æœŸå¤„ç†ã€ç½‘ç»œè¯·æ±‚ç­‰åŠŸèƒ½
æœ‰äº†NPMï¼šç›´æ¥ä½¿ç”¨ç°æˆçš„ã€ç»è¿‡éªŒè¯çš„ä»£ç åŒ…

é—®é¢˜2ï¼šä»£ç å…±äº«å›°éš¾
æ²¡æœ‰NPMï¼šä»£ç åˆ†äº«é é‚®ä»¶ã€ç½‘ç›˜ï¼Œç‰ˆæœ¬ç®¡ç†æ··ä¹±
æœ‰äº†NPMï¼šç»Ÿä¸€å¹³å°ï¼Œä¸€ä¸ªå‘½ä»¤å°±èƒ½å®‰è£…ä½¿ç”¨

é—®é¢˜3ï¼šç‰ˆæœ¬ç®¡ç†æ··ä¹±
æ²¡æœ‰NPMï¼šä¸çŸ¥é“ç”¨çš„æ˜¯å“ªä¸ªç‰ˆæœ¬ï¼Œå‡çº§å›°éš¾
æœ‰äº†NPMï¼šè‡ªåŠ¨ç®¡ç†ç‰ˆæœ¬ï¼Œå‡çº§å›é€€éƒ½å¾ˆç®€å•
```

**å®é™…ä»·å€¼ä½“ç°**ï¼š
> **ğŸ¯ å¼€å‘æ•ˆç‡æå‡**ï¼šæœ¬æ¥éœ€è¦1ä¸ªæœˆå†™çš„åŠŸèƒ½ï¼Œç”¨NPMåŒ…1å¤©å°±æå®š
> 
> **ğŸ”§ è´¨é‡ä¿éšœ**ï¼šä½¿ç”¨ç»è¿‡åƒä¸‡æ¬¡ä¸‹è½½éªŒè¯çš„æˆç†Ÿä»£ç 
> 
> **ğŸš€ å¿«é€Ÿèµ·æ­¥**ï¼šæ–°é¡¹ç›®å¯ä»¥å¿«é€Ÿå¼•å…¥å„ç§åŠŸèƒ½æ¨¡å—

---

## 2. ğŸŒ NPM ç”Ÿæ€ç³»ç»Ÿä¸åœ°ä½


### 2.1 NPM ç”Ÿæ€ç³»ç»Ÿè§„æ¨¡


**æ•°æ®è¯´è¯**ï¼š
```
ğŸ“Š åŒ…æ•°é‡ï¼šè¶…è¿‡ 200ä¸‡ ä¸ªåŒ…
ğŸ“ˆ æ¯å‘¨ä¸‹è½½ï¼šè¶…è¿‡ 300äº¿ æ¬¡
ğŸ‘¥ å¼€å‘è€…ï¼šè¶…è¿‡ 1700ä¸‡ æ³¨å†Œç”¨æˆ·
ğŸŒŸ æ´»è·ƒåº¦ï¼šæ¯å¤©æ–°å¢ 1000+ ä¸ªåŒ…
```

**ç”Ÿæ€ç³»ç»Ÿåˆ†å¸ƒ**ï¼š
```
å‰ç«¯æ¡†æ¶åŒ…ï¼š
â”œâ”€â”€ React ç›¸å…³åŒ…ï¼š50000+ ä¸ª
â”œâ”€â”€ Vue ç›¸å…³åŒ…ï¼š30000+ ä¸ª  
â”œâ”€â”€ Angular ç›¸å…³åŒ…ï¼š20000+ ä¸ª
â””â”€â”€ å…¶ä»–å‰ç«¯åŒ…ï¼š100000+ ä¸ª

åç«¯å·¥å…·åŒ…ï¼š
â”œâ”€â”€ Express ç›¸å…³ï¼š15000+ ä¸ª
â”œâ”€â”€ æ•°æ®åº“ç›¸å…³ï¼š25000+ ä¸ª
â”œâ”€â”€ æµ‹è¯•å·¥å…·ï¼š10000+ ä¸ª
â””â”€â”€ å…¶ä»–åç«¯åŒ…ï¼š80000+ ä¸ª

å·¥å…·ç±»åŒ…ï¼š
â”œâ”€â”€ æ„å»ºå·¥å…·ï¼š20000+ ä¸ª
â”œâ”€â”€ ä»£ç æ£€æŸ¥ï¼š5000+ ä¸ª
â”œâ”€â”€ å®ç”¨å·¥å…·ï¼š150000+ ä¸ª
â””â”€â”€ å…¶ä»–å·¥å…·ï¼š50000+ ä¸ª
```

### 2.2 NPM åœ¨å‰ç«¯å·¥ç¨‹åŒ–ä¸­çš„åœ°ä½


**ç°ä»£å‰ç«¯å¼€å‘æµç¨‹**ï¼š
```
é¡¹ç›®åˆ›å»º
    â†“
ğŸ”§ npm init (åˆå§‹åŒ–é¡¹ç›®)
    â†“
ğŸ“¦ npm install (å®‰è£…ä¾èµ–åŒ…)
    â†“ 
ğŸ’» å¼€å‘ç¼–ç  (ä½¿ç”¨å„ç§NPMåŒ…)
    â†“
ğŸ¯ npm run build (æ„å»ºé¡¹ç›®)
    â†“
ğŸš€ npm run deploy (éƒ¨ç½²ä¸Šçº¿)
```

**NPM åœ¨å…¶ä¸­çš„æ ¸å¿ƒä½œç”¨**ï¼š
> **ğŸ’¡ ä¾èµ–ç®¡ç†**ï¼šç®¡ç†é¡¹ç›®ç”¨åˆ°çš„æ‰€æœ‰ç¬¬ä¸‰æ–¹ä»£ç 
> 
> **âš™ï¸ è„šæœ¬æ‰§è¡Œ**ï¼šé€šè¿‡ npm scripts æ‰§è¡Œå„ç§å¼€å‘ä»»åŠ¡
> 
> **ğŸ“‹ é¡¹ç›®é…ç½®**ï¼špackage.json ä½œä¸ºé¡¹ç›®çš„"èº«ä»½è¯"

---

## 3. ğŸ“‹ é¡¹ç›®åˆå§‹åŒ–ä¸é…ç½®


### 3.1 npm init åˆ›å»ºé¡¹ç›®


**npm init çš„ä¸¤ç§æ–¹å¼**ï¼š

```bash
# æ–¹å¼1ï¼šäº¤äº’å¼åˆå§‹åŒ–ï¼ˆæ¨èæ–°æ‰‹ï¼‰
npm init

# æ–¹å¼2ï¼šéäº¤äº’å¼åˆå§‹åŒ–ï¼ˆå¿«é€Ÿåˆ›å»ºï¼‰
npm init -y
```

**äº¤äº’å¼ vs éäº¤äº’å¼å¯¹æ¯”**ï¼š

| ç‰¹ç‚¹ | äº¤äº’å¼ (`npm init`) | éäº¤äº’å¼ (`npm init -y`) |
|------|-------------------|------------------------|
| **æ“ä½œæ–¹å¼** | ä¸€æ­¥æ­¥æé—®ï¼Œæ‰‹åŠ¨å¡«å†™ | ç›´æ¥ä½¿ç”¨é»˜è®¤å€¼ |
| **é€‚ç”¨åœºæ™¯** | æ­£å¼é¡¹ç›®ï¼Œéœ€è¦è¯¦ç»†é…ç½® | å¿«é€Ÿæµ‹è¯•ï¼Œä¸´æ—¶é¡¹ç›® |
| **é…ç½®å®Œæ•´åº¦** | å®Œæ•´è‡ªå®šä¹‰ | ä½¿ç”¨ç³»ç»Ÿé»˜è®¤å€¼ |
| **æ‰€éœ€æ—¶é—´** | 2-3åˆ†é’Ÿ | å‡ ç§’é’Ÿ |

**äº¤äº’å¼åˆå§‹åŒ–ç¤ºä¾‹**ï¼š
```bash
$ npm init

# ç³»ç»Ÿä¼šä¾æ¬¡è¯¢é—®ï¼š
package name: (my-project)           # é¡¹ç›®åç§°
version: (1.0.0)                     # ç‰ˆæœ¬å·
description: æˆ‘çš„ç¬¬ä¸€ä¸ªNode.jsé¡¹ç›®    # é¡¹ç›®æè¿°
entry point: (index.js)              # å…¥å£æ–‡ä»¶
test command:                        # æµ‹è¯•å‘½ä»¤
git repository:                      # Gitä»“åº“åœ°å€
keywords: nodejs, learning           # å…³é”®è¯
author: å¼ ä¸‰                         # ä½œè€…
license: (ISC)                       # è®¸å¯è¯
```

### 3.2 package.json æ–‡ä»¶è¯¦è§£


**package.json çš„æœ¬è´¨**ï¼š
```
ç®€å•ç†è§£ï¼špackage.json å°±æ˜¯é¡¹ç›®çš„"èº«ä»½è¯"
è®°å½•äº†ï¼šé¡¹ç›®å«ä»€ä¹ˆã€è°å†™çš„ã€ç”¨äº†å“ªäº›ç¬¬ä¸‰æ–¹ä»£ç ã€æ€ä¹ˆè¿è¡Œ
```

**æ ¸å¿ƒå­—æ®µè¯´æ˜**ï¼š

```json
{
  "name": "my-nodejs-app",           // é¡¹ç›®åç§°ï¼ˆå¿…é¡»ï¼‰
  "version": "1.0.0",                // ç‰ˆæœ¬å·ï¼ˆå¿…é¡»ï¼‰
  "description": "æˆ‘çš„Node.jsåº”ç”¨",   // é¡¹ç›®æè¿°
  "main": "index.js",                // å…¥å£æ–‡ä»¶
  "scripts": {                       // è„šæœ¬å‘½ä»¤
    "start": "node index.js",        // å¯åŠ¨å‘½ä»¤
    "dev": "nodemon index.js",       // å¼€å‘æ¨¡å¼
    "test": "jest"                   // æµ‹è¯•å‘½ä»¤
  },
  "keywords": ["nodejs", "express"], // å…³é”®è¯ï¼ˆä¾¿äºæœç´¢ï¼‰
  "author": "å¼ ä¸‰ <zhangsan@email.com>", // ä½œè€…ä¿¡æ¯
  "license": "MIT",                  // å¼€æºè®¸å¯è¯
  "dependencies": {},                // ç”Ÿäº§ç¯å¢ƒä¾èµ–
  "devDependencies": {}             // å¼€å‘ç¯å¢ƒä¾èµ–
}
```

**é‡è¦å­—æ®µè¯¦ç»†è§£é‡Š**ï¼š

```
ğŸ“ nameï¼ˆé¡¹ç›®åç§°ï¼‰ï¼š
- ä½œç”¨ï¼šé¡¹ç›®çš„å”¯ä¸€æ ‡è¯†
- è§„åˆ™ï¼šå°å†™å­—æ¯ã€æ•°å­—ã€è¿å­—ç¬¦
- ç¤ºä¾‹ï¼šmy-blogã€user-management

ğŸ“Š versionï¼ˆç‰ˆæœ¬å·ï¼‰ï¼š
- æ ¼å¼ï¼šä¸»ç‰ˆæœ¬.æ¬¡ç‰ˆæœ¬.ä¿®è®¢ç‰ˆæœ¬
- ç¤ºä¾‹ï¼š1.0.0ã€2.3.1
- å«ä¹‰ï¼š1.0.0 â†’ 2.0.0ï¼ˆé‡å¤§æ›´æ–°ï¼‰

ğŸšª mainï¼ˆå…¥å£æ–‡ä»¶ï¼‰ï¼š
- ä½œç”¨ï¼šå‘Šè¯‰Node.jsé¡¹ç›®ä»å“ªä¸ªæ–‡ä»¶å¼€å§‹è¿è¡Œ
- é»˜è®¤ï¼šindex.js
- è‡ªå®šä¹‰ï¼šå¯ä»¥æ”¹ä¸º app.jsã€server.jsç­‰
```

---

## 4. ğŸ“¦ åŒ…çš„å®‰è£…ä¸ç®¡ç†


### 4.1 npm install å®‰è£…åŒ…


**å®‰è£…åŒ…çš„ä¸¤ç§æ–¹å¼**ï¼š

```
æœ¬åœ°å®‰è£…ï¼ˆé¡¹ç›®å†…ä½¿ç”¨ï¼‰ï¼š
å‘½ä»¤ï¼šnpm install åŒ…å
ä½ç½®ï¼šå®‰è£…åˆ°å½“å‰é¡¹ç›®çš„ node_modules æ–‡ä»¶å¤¹
ç”¨é€”ï¼šé¡¹ç›®ä»£ç ä¸­ç›´æ¥ä½¿ç”¨

å…¨å±€å®‰è£…ï¼ˆå‘½ä»¤è¡Œå·¥å…·ï¼‰ï¼š
å‘½ä»¤ï¼šnpm install -g åŒ…å  
ä½ç½®ï¼šå®‰è£…åˆ°ç³»ç»Ÿå…¨å±€ç›®å½•
ç”¨é€”ï¼šåœ¨å‘½ä»¤è¡Œä¸­ç›´æ¥ä½¿ç”¨
```

**æœ¬åœ°å®‰è£…ç¤ºä¾‹**ï¼š
```bash
# å®‰è£… lodash å·¥å…·åº“ï¼ˆæœ¬åœ°å®‰è£…ï¼‰
npm install lodash

# å®‰è£…ååœ¨ä»£ç ä¸­ä½¿ç”¨
const _ = require('lodash');
console.log(_.capitalize('hello')); // è¾“å‡ºï¼šHello
```

**å…¨å±€å®‰è£…ç¤ºä¾‹**ï¼š
```bash
# å®‰è£… nodemon å¼€å‘å·¥å…·ï¼ˆå…¨å±€å®‰è£…ï¼‰
npm install -g nodemon

# å®‰è£…åå¯ä»¥åœ¨ä»»ä½•åœ°æ–¹ä½¿ç”¨å‘½ä»¤
nodemon app.js  # è‡ªåŠ¨é‡å¯æœåŠ¡å™¨
```

### 4.2 å…¨å±€å®‰è£…çš„ä½¿ç”¨åœºæ™¯


**é€‚åˆå…¨å±€å®‰è£…çš„åŒ…**ï¼š
```
âœ… å‘½ä»¤è¡Œå·¥å…·ï¼š
- nodemonï¼ˆè‡ªåŠ¨é‡å¯æœåŠ¡å™¨ï¼‰
- create-react-appï¼ˆåˆ›å»ºReacté¡¹ç›®ï¼‰
- vue-cliï¼ˆVueè„šæ‰‹æ¶å·¥å…·ï¼‰

âœ… å¼€å‘è¾…åŠ©å·¥å…·ï¼š
- http-serverï¼ˆå¿«é€Ÿå¯åŠ¨é™æ€æœåŠ¡å™¨ï¼‰
- json-serverï¼ˆæ¨¡æ‹ŸAPIæœåŠ¡å™¨ï¼‰
- eslintï¼ˆä»£ç æ£€æŸ¥å·¥å…·ï¼‰
```

**ä¸é€‚åˆå…¨å±€å®‰è£…çš„åŒ…**ï¼š
```
âŒ é¡¹ç›®ä¾èµ–åŒ…ï¼š
- expressï¼ˆWebæ¡†æ¶ï¼‰
- mongooseï¼ˆæ•°æ®åº“å·¥å…·ï¼‰
- lodashï¼ˆå·¥å…·åº“ï¼‰

åŸå› ï¼šä¸åŒé¡¹ç›®å¯èƒ½éœ€è¦ä¸åŒç‰ˆæœ¬ï¼Œå…¨å±€å®‰è£…ä¼šå¯¼è‡´ç‰ˆæœ¬å†²çª
```

### 4.3 åŒ…ç®¡ç†å¸¸ç”¨å‘½ä»¤


**åŸºç¡€æ“ä½œå‘½ä»¤**ï¼š
```bash
# æŸ¥çœ‹å·²å®‰è£…çš„åŒ…
npm list                    # æŸ¥çœ‹æœ¬åœ°åŒ…
npm list -g                 # æŸ¥çœ‹å…¨å±€åŒ…

# æŸ¥çœ‹åŒ…ä¿¡æ¯
npm show lodash             # æŸ¥çœ‹åŒ…çš„è¯¦ç»†ä¿¡æ¯
npm show lodash version     # æŸ¥çœ‹åŒ…çš„æœ€æ–°ç‰ˆæœ¬

# æ›´æ–°åŒ…
npm update lodash           # æ›´æ–°å•ä¸ªåŒ…
npm update                  # æ›´æ–°æ‰€æœ‰åŒ…

# å¸è½½åŒ…
npm uninstall lodash        # å¸è½½æœ¬åœ°åŒ…
npm uninstall -g nodemon    # å¸è½½å…¨å±€åŒ…
```

**å®ç”¨æŸ¥è¯¢å‘½ä»¤**ï¼š
```bash
# æŸ¥çœ‹è¿‡æ—¶çš„åŒ…
npm outdated

# æ£€æŸ¥åŒ…çš„å®‰å…¨æ¼æ´
npm audit

# è‡ªåŠ¨ä¿®å¤å®‰å…¨é—®é¢˜
npm audit fix
```

---

## 5. ğŸ·ï¸ ä¾èµ–ç±»å‹è¯¦è§£


### 5.1 dependencies vs devDependencies


**ä¸¤ç§ä¾èµ–çš„åŒºåˆ«**ï¼š

```
dependenciesï¼ˆç”Ÿäº§ä¾èµ–ï¼‰ï¼š
å«ä¹‰ï¼šé¡¹ç›®è¿è¡Œæ—¶å¿…é¡»è¦çš„åŒ…
ç‰¹ç‚¹ï¼šæ‰“åŒ…åˆ°æœ€ç»ˆäº§å“ä¸­
ç¤ºä¾‹ï¼šexpressã€lodashã€mongoose

devDependenciesï¼ˆå¼€å‘ä¾èµ–ï¼‰ï¼š
å«ä¹‰ï¼šåªåœ¨å¼€å‘è¿‡ç¨‹ä¸­éœ€è¦çš„åŒ…
ç‰¹ç‚¹ï¼šä¸ä¼šæ‰“åŒ…åˆ°æœ€ç»ˆäº§å“ä¸­
ç¤ºä¾‹ï¼šnodemonã€jestã€eslint
```

**å®‰è£…åˆ°ä¸åŒä¾èµ–ç±»å‹**ï¼š
```bash
# å®‰è£…åˆ°ç”Ÿäº§ä¾èµ–ï¼ˆé»˜è®¤ï¼‰
npm install express
npm install express --save              # ç­‰åŒäºä¸Šé¢

# å®‰è£…åˆ°å¼€å‘ä¾èµ–
npm install nodemon --save-dev
npm install nodemon -D                  # ç®€å†™å½¢å¼
```

**å®é™…é¡¹ç›®ç¤ºä¾‹**ï¼š
```json
{
  "dependencies": {
    "express": "^4.18.0",        // Webæ¡†æ¶ï¼ˆè¿è¡Œæ—¶éœ€è¦ï¼‰
    "mongoose": "^6.3.0",        // æ•°æ®åº“å·¥å…·ï¼ˆè¿è¡Œæ—¶éœ€è¦ï¼‰
    "lodash": "^4.17.21"         // å·¥å…·åº“ï¼ˆè¿è¡Œæ—¶éœ€è¦ï¼‰
  },
  "devDependencies": {
    "nodemon": "^2.0.15",        // å¼€å‘æ—¶è‡ªåŠ¨é‡å¯ï¼ˆè¿è¡Œæ—¶ä¸éœ€è¦ï¼‰
    "jest": "^28.0.0",           // æµ‹è¯•å·¥å…·ï¼ˆè¿è¡Œæ—¶ä¸éœ€è¦ï¼‰
    "eslint": "^8.14.0"          // ä»£ç æ£€æŸ¥ï¼ˆè¿è¡Œæ—¶ä¸éœ€è¦ï¼‰
  }
}
```

### 5.2 å…¶ä»–ä¾èµ–ç±»å‹


**peerDependenciesï¼ˆåŒä¼´ä¾èµ–ï¼‰**ï¼š
```
å«ä¹‰ï¼šå‘Šè¯‰ä½¿ç”¨è€…éœ€è¦åŒæ—¶å®‰è£…æŸä¸ªåŒ…
åœºæ™¯ï¼šæ’ä»¶ç±»å‹çš„åŒ…å¸¸ç”¨
ç¤ºä¾‹ï¼šReactç»„ä»¶åº“éœ€è¦Reactç¯å¢ƒ

å®é™…ä¾‹å­ï¼š
{
  "peerDependencies": {
    "react": ">=16.0.0"          // ä½¿ç”¨æ­¤åŒ…éœ€è¦React 16+
  }
}
```

**optionalDependenciesï¼ˆå¯é€‰ä¾èµ–ï¼‰**ï¼š
```
å«ä¹‰ï¼šå®‰è£…å¤±è´¥ä¹Ÿä¸å½±å“é¡¹ç›®è¿è¡Œ
åœºæ™¯ï¼šæä¾›é¢å¤–åŠŸèƒ½ï¼Œä½†ä¸æ˜¯å¿…éœ€çš„
ç¤ºä¾‹ï¼šå›¾ç‰‡å¤„ç†çš„åŸç”Ÿä¾èµ–åŒ…

ç‰¹ç‚¹ï¼šå®‰è£…å¤±è´¥æ—¶npmä¸ä¼šæŠ¥é”™
```

---

## 6. ğŸ”’ é”æ–‡ä»¶ä¸node_modules


### 6.1 package-lock.json é”æ–‡ä»¶


**é”æ–‡ä»¶çš„ä½œç”¨**ï¼š
```
é—®é¢˜åœºæ™¯ï¼š
å¼€å‘è€…Aï¼šnpm install å®‰è£…äº† lodash 4.17.20
å¼€å‘è€…Bï¼šnpm install å®‰è£…äº† lodash 4.17.21
ç»“æœï¼šä¸¤äººçš„ç¯å¢ƒä¸ä¸€è‡´ï¼Œå¯èƒ½å‡ºç°bug

è§£å†³æ–¹æ¡ˆï¼š
package-lock.json è®°å½•äº†ç¡®åˆ‡çš„ç‰ˆæœ¬å·
ä¿è¯æ‰€æœ‰äººå®‰è£…çš„ç‰ˆæœ¬å®Œå…¨ä¸€è‡´
```

**é”æ–‡ä»¶çš„å†…å®¹**ï¼š
```json
{
  "name": "my-project",
  "lockfileVersion": 2,
  "packages": {
    "node_modules/lodash": {
      "version": "4.17.21",        // ç¡®åˆ‡ç‰ˆæœ¬
      "resolved": "https://...",    // ä¸‹è½½åœ°å€
      "integrity": "sha512-...",    // å®Œæ•´æ€§æ ¡éªŒ
      "dependencies": {...}         // è¯¦ç»†ä¾èµ–æ ‘
    }
  }
}
```

**é”æ–‡ä»¶çš„ç‰ˆæœ¬æ§åˆ¶ç­–ç•¥**ï¼š
```
âœ… åº”è¯¥æäº¤åˆ°Gitï¼š
- package.jsonï¼ˆå¿…é¡»ï¼‰
- package-lock.jsonï¼ˆå¿…é¡»ï¼‰

âŒ ä¸åº”è¯¥æäº¤åˆ°Gitï¼š
- node_modules/ï¼ˆå¤ªå¤§ï¼Œä¸”å¯é‡æ–°ç”Ÿæˆï¼‰

å›¢é˜Ÿåä½œå»ºè®®ï¼š
1. æ‰€æœ‰äººéƒ½è¦æäº¤ package-lock.json
2. ä½¿ç”¨ npm ci è€Œä¸æ˜¯ npm install æ¥å®‰è£…ä¾èµ–
3. å®šæœŸæ›´æ–°ä¾èµ–ç‰ˆæœ¬
```

### 6.2 node_modules ç›®å½•ç»“æ„


**node_modules çš„æœ¬è´¨**ï¼š
```
ç®€å•ç†è§£ï¼šnode_modules å°±æ˜¯ä¸€ä¸ª"ä»“åº“"
å­˜æ”¾äº†é¡¹ç›®ç”¨åˆ°çš„æ‰€æœ‰ç¬¬ä¸‰æ–¹ä»£ç åŒ…
æ¯ä¸ªåŒ…éƒ½æ˜¯ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼ŒåŒ…å«å®Œæ•´çš„ä»£ç 
```

**ç›®å½•ç»“æ„ç¤ºä¾‹**ï¼š
```
my-project/
â”œâ”€â”€ node_modules/
â”‚   â”œâ”€â”€ express/              # Expressæ¡†æ¶çš„æ‰€æœ‰ä»£ç 
â”‚   â”‚   â”œâ”€â”€ lib/              # æ ¸å¿ƒä»£ç 
â”‚   â”‚   â”œâ”€â”€ package.json      # Expressçš„é…ç½®æ–‡ä»¶
â”‚   â”‚   â””â”€â”€ index.js          # Expressçš„å…¥å£æ–‡ä»¶
â”‚   â”œâ”€â”€ lodash/               # Lodashå·¥å…·åº“
â”‚   â””â”€â”€ mongoose/             # Mongooseæ•°æ®åº“å·¥å…·
â”œâ”€â”€ package.json              # é¡¹ç›®é…ç½®
â””â”€â”€ index.js                  # é¡¹ç›®å…¥å£
```

**æ‰å¹³åŒ–å®‰è£…æœºåˆ¶**ï¼š
```
è€ç‰ˆæœ¬NPMï¼ˆåµŒå¥—å®‰è£…ï¼‰ï¼š
node_modules/
â”œâ”€â”€ A/
â”‚   â””â”€â”€ node_modules/
â”‚       â””â”€â”€ C/
â””â”€â”€ B/
    â””â”€â”€ node_modules/
        â””â”€â”€ C/              # Cè¢«é‡å¤å®‰è£…

æ–°ç‰ˆæœ¬NPMï¼ˆæ‰å¹³åŒ–å®‰è£…ï¼‰ï¼š
node_modules/
â”œâ”€â”€ A/
â”œâ”€â”€ B/
â””â”€â”€ C/                      # Cåªå®‰è£…ä¸€æ¬¡ï¼Œå…±äº«ä½¿ç”¨
```

**ä¸ºä»€ä¹ˆnode_modulesè¿™ä¹ˆå¤§ï¼Ÿ**
```
åŸå› åˆ†æï¼š
1. ä¾èµ–çš„ä¾èµ–ï¼šä¸€ä¸ªåŒ…å¯èƒ½ä¾èµ–å…¶ä»–åŒ…
2. ç‰ˆæœ¬å†²çªï¼šä¸åŒç‰ˆæœ¬çš„åŒ…æ— æ³•å…±äº«
3. å®Œæ•´æºç ï¼šåŒ…å«äº†å®Œæ•´çš„æºä»£ç å’Œæ–‡æ¡£

å®é™…ä¾‹å­ï¼š
å®‰è£…create-react-appï¼šçº¦200MB
åŸå› ï¼šåŒ…å«äº†Webpackã€Babelç­‰å‡ åä¸ªå·¥å…·
```

---

## 7. âš™ï¸ NPM é…ç½®ä¸è„šæœ¬


### 7.1 .npmrc é…ç½®æ–‡ä»¶


**npmrc æ–‡ä»¶çš„ä½œç”¨**ï¼š
```
ä½œç”¨ï¼šé…ç½®NPMçš„è¡Œä¸ºï¼Œç±»ä¼¼äº"è®¾ç½®é€‰é¡¹"
ä½ç½®ï¼šå¯ä»¥æ”¾åœ¨é¡¹ç›®ç›®å½•æˆ–ç”¨æˆ·ä¸»ç›®å½•
ä¼˜å…ˆçº§ï¼šé¡¹ç›®çº§ > ç”¨æˆ·çº§ > å…¨å±€çº§
```

**å¸¸ç”¨é…ç½®é¡¹**ï¼š
```bash
# .npmrc æ–‡ä»¶å†…å®¹ç¤ºä¾‹

# è®¾ç½®æ·˜å®é•œåƒï¼ˆæé«˜ä¸‹è½½é€Ÿåº¦ï¼‰
registry=https://registry.npmmirror.com

# è®¾ç½®ä»£ç†ï¼ˆå…¬å¸ç½‘ç»œç¯å¢ƒï¼‰
proxy=http://proxy.company.com:8080

# ç¦ç”¨package-lock.json
package-lock=false

# è®¾ç½®ç¼“å­˜ç›®å½•
cache=/path/to/cache

# è‡ªåŠ¨ä¿å­˜ä¾èµ–åˆ°package.json
save=true
```

**é•œåƒæºé…ç½®**ï¼š
```bash
# ä¸´æ—¶ä½¿ç”¨æ·˜å®é•œåƒ
npm install lodash --registry https://registry.npmmirror.com

# æ°¸ä¹…è®¾ç½®æ·˜å®é•œåƒ
npm config set registry https://registry.npmmirror.com

# æŸ¥çœ‹å½“å‰é•œåƒæº
npm config get registry

# æ¢å¤å®˜æ–¹é•œåƒ
npm config set registry https://registry.npmjs.org
```

### 7.2 npm scripts è„šæœ¬ç³»ç»Ÿ


**npm scripts çš„æ¦‚å¿µ**ï¼š
```
ç®€å•ç†è§£ï¼šnpm scripts å°±æ˜¯"å¿«æ·å‘½ä»¤"
æŠŠå¤æ‚çš„å‘½ä»¤ç®€åŒ–æˆç®€å•çš„åå­—
æ¯”å¦‚ï¼šnpm start ä»£è¡¨ node server.js
```

**åŸºæœ¬è„šæœ¬é…ç½®**ï¼š
```json
{
  "scripts": {
    "start": "node server.js",           // å¯åŠ¨æœåŠ¡å™¨
    "dev": "nodemon server.js",          // å¼€å‘æ¨¡å¼
    "test": "jest",                      // è¿è¡Œæµ‹è¯•
    "build": "webpack --mode=production", // æ„å»ºé¡¹ç›®
    "lint": "eslint src/"                // ä»£ç æ£€æŸ¥
  }
}
```

**è„šæœ¬çš„æ‰§è¡Œæ–¹å¼**ï¼š
```bash
# æ‰§è¡Œè‡ªå®šä¹‰è„šæœ¬
npm run dev        # ç›¸å½“äºæ‰§è¡Œ nodemon server.js
npm run build      # ç›¸å½“äºæ‰§è¡Œ webpack --mode=production
npm run lint       # ç›¸å½“äºæ‰§è¡Œ eslint src/

# ç‰¹æ®Šè„šæœ¬ï¼ˆå¯çœç•¥runï¼‰
npm start          # ç›¸å½“äº npm run start
npm test           # ç›¸å½“äº npm run test
```

### 7.3 ç”Ÿå‘½å‘¨æœŸè„šæœ¬


**ä»€ä¹ˆæ˜¯ç”Ÿå‘½å‘¨æœŸè„šæœ¬**ï¼š
```
å«ä¹‰ï¼šåœ¨ç‰¹å®šæ—¶æœºè‡ªåŠ¨æ‰§è¡Œçš„è„šæœ¬
æ¯”å¦‚ï¼šå®‰è£…åŒ…ä¹‹å‰ã€å®‰è£…åŒ…ä¹‹åè‡ªåŠ¨æ‰§è¡ŒæŸäº›æ“ä½œ
ç”¨é€”ï¼šè‡ªåŠ¨åŒ–å¤„ç†ã€ç¯å¢ƒå‡†å¤‡ã€æ¸…ç†å·¥ä½œ
```

**å¸¸ç”¨ç”Ÿå‘½å‘¨æœŸè„šæœ¬**ï¼š
```json
{
  "scripts": {
    "preinstall": "echo 'å‡†å¤‡å®‰è£…ä¾èµ–'",     // å®‰è£…å‰æ‰§è¡Œ
    "postinstall": "echo 'ä¾èµ–å®‰è£…å®Œæˆ'",    // å®‰è£…åæ‰§è¡Œ
    "prestart": "echo 'å‡†å¤‡å¯åŠ¨æœåŠ¡'",       // å¯åŠ¨å‰æ‰§è¡Œ
    "poststart": "echo 'æœåŠ¡å¯åŠ¨å®Œæˆ'",      // å¯åŠ¨åæ‰§è¡Œ
    "prebuild": "npm run clean",            // æ„å»ºå‰æ¸…ç†
    "postbuild": "npm run deploy"           // æ„å»ºåéƒ¨ç½²
  }
}
```

**æ‰§è¡Œé¡ºåºç¤ºä¾‹**ï¼š
```bash
# å½“æ‰§è¡Œ npm start æ—¶ï¼Œå®é™…æ‰§è¡Œé¡ºåºï¼š
1. npm run prestart    # å¯åŠ¨å‰è„šæœ¬
2. npm run start       # ä¸»è¦è„šæœ¬
3. npm run poststart   # å¯åŠ¨åè„šæœ¬
```

**å®é™…åº”ç”¨ä¾‹å­**ï¼š
```json
{
  "scripts": {
    "prebuild": "rm -rf dist/",              // æ„å»ºå‰æ¸…ç©ºè¾“å‡ºç›®å½•
    "build": "webpack --mode=production",     // æ‰§è¡Œæ„å»º
    "postbuild": "cp -r assets/ dist/",      // æ„å»ºåå¤åˆ¶èµ„æºæ–‡ä»¶
    
    "pretest": "npm run lint",               // æµ‹è¯•å‰å…ˆæ£€æŸ¥ä»£ç 
    "test": "jest",                          // æ‰§è¡Œæµ‹è¯•
    "posttest": "npm run coverage"           // æµ‹è¯•åç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
  }
}
```

---

## 8. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 8.1 NPM æ ¸å¿ƒæ¦‚å¿µæ€»ç»“


```
ğŸ” NPMçš„æœ¬è´¨ï¼š
NPM = åœ¨çº¿ä»“åº“ + å‘½ä»¤è¡Œå·¥å…· + åŒ…ç®¡ç†ç³»ç»Ÿ
ä½œç”¨ = ä»£ç å…±äº« + ä¾èµ–ç®¡ç† + ç‰ˆæœ¬æ§åˆ¶

ğŸ“¦ é¡¹ç›®åˆå§‹åŒ–ï¼š
npm init     â†’ äº¤äº’å¼åˆ›å»ºï¼ˆè¯¦ç»†é…ç½®ï¼‰
npm init -y  â†’ å¿«é€Ÿåˆ›å»ºï¼ˆé»˜è®¤é…ç½®ï¼‰
package.json â†’ é¡¹ç›®"èº«ä»½è¯"ï¼ˆè®°å½•æ‰€æœ‰ä¿¡æ¯ï¼‰

â¬‡ï¸ åŒ…çš„å®‰è£…ï¼š
æœ¬åœ°å®‰è£…ï¼šnpm install åŒ…åï¼ˆé¡¹ç›®ä¸­ä½¿ç”¨ï¼‰
å…¨å±€å®‰è£…ï¼šnpm install -g åŒ…åï¼ˆå‘½ä»¤è¡Œå·¥å…·ï¼‰
```

### 8.2 é‡è¦æ¦‚å¿µå¯¹æ¯”


| æ¦‚å¿µ | **ç®€å•ç†è§£** | **å®é™…ä½œç”¨** | **ä½¿ç”¨åœºæ™¯** |
|------|------------|-------------|------------|
| **dependencies** | `è¿è¡Œæ—¶å¿…éœ€çš„åŒ…` | `æ‰“åŒ…åˆ°æœ€ç»ˆäº§å“` | `expressã€lodash` |
| **devDependencies** | `å¼€å‘æ—¶æ‰éœ€è¦çš„åŒ…` | `ä¸æ‰“åŒ…åˆ°äº§å“` | `nodemonã€jest` |
| **package-lock.json** | `ç‰ˆæœ¬é”å®šæ–‡ä»¶` | `ä¿è¯ç¯å¢ƒä¸€è‡´` | `å›¢é˜Ÿåä½œå¿…éœ€` |
| **node_modules** | `ä»£ç åŒ…ä»“åº“` | `å­˜æ”¾æ‰€æœ‰ä¾èµ–` | `è‡ªåŠ¨ç”Ÿæˆï¼Œä¸æäº¤` |

### 8.3 æœ€ä½³å®è·µå»ºè®®


**ğŸ¯ é¡¹ç›®ç®¡ç†**ï¼š
```
âœ… æ­£ç¡®åšæ³•ï¼š
- æ€»æ˜¯æäº¤ package.json å’Œ package-lock.json
- ä½¿ç”¨ .gitignore å¿½ç•¥ node_modules
- å®šæœŸæ›´æ–°ä¾èµ–åŒ…ç‰ˆæœ¬
- åŒºåˆ†ç”Ÿäº§ä¾èµ–å’Œå¼€å‘ä¾èµ–

âŒ é¿å…é”™è¯¯ï¼š
- ä¸è¦æäº¤ node_modules åˆ°Git
- ä¸è¦å…¨å±€å®‰è£…é¡¹ç›®ä¾èµ–åŒ…
- ä¸è¦æ‰‹åŠ¨ä¿®æ”¹ package-lock.json
```

**âš¡ æ€§èƒ½ä¼˜åŒ–**ï¼š
```
ğŸš€ æå‡é€Ÿåº¦ï¼š
- ä½¿ç”¨æ·˜å®é•œåƒï¼šnpm config set registry https://registry.npmmirror.com
- ä½¿ç”¨ npm ci ä»£æ›¿ npm installï¼ˆCI/CDç¯å¢ƒï¼‰
- å®šæœŸæ¸…ç†ç¼“å­˜ï¼šnpm cache clean --force

ğŸ’¾ èŠ‚çœç©ºé—´ï¼š
- åˆ é™¤æœªä½¿ç”¨çš„åŒ…ï¼šnpm uninstall åŒ…å
- ä½¿ç”¨ npm prune æ¸…ç†æ— ç”¨ä¾èµ–
```

**ğŸ”§ å¼€å‘æ•ˆç‡**ï¼š
```
ğŸ“ å–„ç”¨è„šæœ¬ï¼š
- é…ç½®å¸¸ç”¨çš„ npm scripts
- ä½¿ç”¨ç”Ÿå‘½å‘¨æœŸè„šæœ¬è‡ªåŠ¨åŒ–ä»»åŠ¡
- åˆ›å»ºå¤åˆè„šæœ¬ç®€åŒ–æ“ä½œ

ğŸ› ï¸ å·¥å…·æ¨èï¼š
- nodemonï¼šå¼€å‘æ—¶è‡ªåŠ¨é‡å¯
- http-serverï¼šå¿«é€Ÿé™æ€æœåŠ¡å™¨
- json-serverï¼šæ¨¡æ‹ŸAPIæœåŠ¡å™¨
```

### 8.4 å­¦ä¹ è¦ç‚¹è®°å¿†


**ğŸ’¡ æ ¸å¿ƒè®°å¿†å£è¯€**ï¼š
```
NPMç®¡ç†åŒ…ï¼Œä¸‰ä¸ªèº«ä»½è¦è®°æ¸…ï¼š
ä»“åº“å·¥å…·åŠ ç³»ç»Ÿï¼Œä»£ç å…±äº«ç‰ˆæœ¬æ˜ã€‚

initåˆå§‹åŒ–ï¼Œpackage.jsonæ˜¯æ ¸å¿ƒï¼Œ
æœ¬åœ°å…¨å±€è¦åˆ†æ¸…ï¼Œä¾èµ–ç±»å‹å„ä¸åŒã€‚

é”æ–‡ä»¶ä¿ä¸€è‡´ï¼Œscriptsè„šæœ¬ææ•ˆç‡ï¼Œ
æœ€ä½³å®è·µè¦éµå¾ªï¼Œå¼€å‘éƒ¨ç½²éƒ½é¡ºå¿ƒã€‚
```

**ğŸ” æ·±å…¥ç†è§£è¦ç‚¹**ï¼š
- NPMä¸åªæ˜¯å·¥å…·ï¼Œæ›´æ˜¯æ•´ä¸ªJavaScriptç”Ÿæ€çš„åŸºç¡€è®¾æ–½
- package.jsonæ˜¯é¡¹ç›®é…ç½®çš„ä¸­å¿ƒï¼Œç†è§£æ¯ä¸ªå­—æ®µçš„ä½œç”¨å¾ˆé‡è¦
- ä¾èµ–ç®¡ç†çš„æ ¸å¿ƒæ˜¯ç‰ˆæœ¬æ§åˆ¶å’Œç¯å¢ƒä¸€è‡´æ€§
- npm scriptsæ˜¯æé«˜å¼€å‘æ•ˆç‡çš„é‡è¦æ‰‹æ®µ
- åˆç†çš„é…ç½®å¯ä»¥æ˜¾è‘—æ”¹å–„å¼€å‘ä½“éªŒ