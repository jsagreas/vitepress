---
title: 2ã€æ’ä»¶å¼€å‘åŸºç¡€
---
## ğŸ“š ç›®å½•

1. [æ’ä»¶å¼€å‘åŸºç¡€æ¦‚å¿µ](#1-æ’ä»¶å¼€å‘åŸºç¡€æ¦‚å¿µ)
2. [$.fn.extend()æ’ä»¶æ‰©å±•](#2-$fnextendæ’ä»¶æ‰©å±•)
3. [æ’ä»¶å°è£…æ¨¡å¼](#3-æ’ä»¶å°è£…æ¨¡å¼)
4. [ä½œç”¨åŸŸéš”ç¦»æŠ€å·§](#4-ä½œç”¨åŸŸéš”ç¦»æŠ€å·§)
5. [è‡ªæ‰§è¡Œå‡½æ•°ä½¿ç”¨](#5-è‡ªæ‰§è¡Œå‡½æ•°ä½¿ç”¨)
6. [æ’ä»¶å‚æ•°å¤„ç†](#6-æ’ä»¶å‚æ•°å¤„ç†)
7. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#7-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ”§ æ’ä»¶å¼€å‘åŸºç¡€æ¦‚å¿µ


### 1.1 ä»€ä¹ˆæ˜¯jQueryæ’ä»¶


**ğŸ”¸ æ’ä»¶çš„æœ¬è´¨**
```
ç®€å•ç†è§£ï¼šç»™jQueryå¯¹è±¡æ·»åŠ æ–°æ–¹æ³•
åŸç”ŸjQueryï¼š$('#box').show().hide()
è‡ªå®šä¹‰æ’ä»¶ï¼š$('#box').myPlugin()

å°±åƒç»™æ‰‹æœºå®‰è£…APPä¸€æ ·ï¼Œç»™jQueryå®‰è£…æ–°åŠŸèƒ½
```

### 1.2 ä¸ºä»€ä¹ˆè¦å¼€å‘æ’ä»¶


**ğŸ’¡ å®é™…åº”ç”¨åœºæ™¯**
```
å·¥ä½œä¸­å¸¸è§éœ€æ±‚ï¼š
â”œâ”€ è¡¨å•éªŒè¯ â†’ å°è£…æˆéªŒè¯æ’ä»¶
â”œâ”€ å›¾ç‰‡è½®æ’­ â†’ å°è£…æˆè½®æ’­æ’ä»¶  
â”œâ”€ å¼¹çª—æç¤º â†’ å°è£…æˆå¼¹çª—æ’ä»¶
â””â”€ æ•°æ®è¡¨æ ¼ â†’ å°è£…æˆè¡¨æ ¼æ’ä»¶

å¥½å¤„ï¼š
âœ… ä»£ç å¤ç”¨ â†’ å†™ä¸€æ¬¡ï¼Œåˆ°å¤„ç”¨
âœ… å›¢é˜Ÿå…±äº« â†’ å¤§å®¶éƒ½èƒ½ç”¨åŒæ ·çš„åŠŸèƒ½
âœ… ç»´æŠ¤æ–¹ä¾¿ â†’ ä¿®æ”¹ä¸€å¤„ï¼Œå…¨éƒ¨ç”Ÿæ•ˆ
```

### 1.3 æ’ä»¶å¼€å‘æ ¸å¿ƒæ€è·¯


```
å¼€å‘æµç¨‹ï¼š
æ™®é€šåŠŸèƒ½ â†’ æå–å…¬å…±éƒ¨åˆ† â†’ å°è£…æˆæ’ä»¶ â†’ å›¢é˜Ÿä½¿ç”¨

ç¤ºä¾‹å¯¹æ¯”ï¼š
// æ™®é€šå†™æ³•ï¼ˆé‡å¤ä»£ç å¤šï¼‰
$('#box1').addClass('highlight').fadeIn();
$('#box2').addClass('highlight').fadeIn();

// æ’ä»¶å†™æ³•ï¼ˆç®€æ´å¤ç”¨ï¼‰
$('#box1, #box2').highlight();
```

---

## 2. ğŸ› ï¸ $.fn.extend()æ’ä»¶æ‰©å±•


### 2.1 åŸºæœ¬è¯­æ³•ç»“æ„


**ğŸ”¸ æœ€ç®€å•çš„æ’ä»¶**
```javascript
// ç»™jQueryå¯¹è±¡æ·»åŠ æ–°æ–¹æ³•
$.fn.extend({
    highlight: function() {
        return this.addClass('highlight');
    }
});

// ä½¿ç”¨æ’ä»¶
$('#box').highlight();
```

### 2.2 å¸¦å‚æ•°çš„æ’ä»¶


**ğŸ”¸ æ”¯æŒè‡ªå®šä¹‰é…ç½®**
```javascript
$.fn.extend({
    highlight: function(color) {
        return this.css('background-color', color || 'yellow');
    }
});

// ä½¿ç”¨æ–¹å¼
$('#box').highlight();           // é»˜è®¤é»„è‰²
$('#box').highlight('red');      // è‡ªå®šä¹‰çº¢è‰²
```

### 2.3 å¤æ‚åŠŸèƒ½æ’ä»¶


**ğŸ”¸ å®ç”¨çš„æ·¡å…¥æ·¡å‡ºæ’ä»¶**
```javascript
$.fn.extend({
    fadeToggle: function(speed) {
        return this.each(function() {
            var $this = $(this);
            if ($this.is(':visible')) {
                $this.fadeOut(speed);
            } else {
                $this.fadeIn(speed);
            }
        });
    }
});

// ä½¿ç”¨æ•ˆæœ
$('.box').fadeToggle('slow');  // è‡ªåŠ¨åˆ¤æ–­æ˜¾ç¤º/éšè—
```

### 2.4 é“¾å¼è°ƒç”¨æ”¯æŒ


```
æ’ä»¶å¿…é¡»è¿”å›thisï¼Œæ‰èƒ½ç»§ç»­é“¾å¼è°ƒç”¨ï¼š

æ­£ç¡®å†™æ³•ï¼š
return this.addClass('active');

é”™è¯¯å†™æ³•ï¼š
this.addClass('active'); // æ²¡æœ‰return

ä½¿ç”¨æ•ˆæœï¼š
$('#box').highlight().fadeIn().addClass('done'); // å¯ä»¥ç»§ç»­é“¾å¼
```

---

## 3. ğŸ“¦ æ’ä»¶å°è£…æ¨¡å¼


### 3.1 æ ‡å‡†æ’ä»¶æ¨¡æ¿


**ğŸ”¸ å·¥ä½œä¸­å¸¸ç”¨çš„æ¨¡æ¿**
```javascript
(function($) {
    // æ’ä»¶æ ¸å¿ƒä»£ç 
    $.fn.myPlugin = function(options) {
        // é»˜è®¤é…ç½®
        var settings = $.extend({
            color: 'blue',
            speed: 'fast'
        }, options);
        
        return this.each(function() {
            var $this = $(this);
            // æ’ä»¶åŠŸèƒ½å®ç°
            $this.css('color', settings.color);
        });
    };
})(jQuery);
```

### 3.2 é…ç½®å¯¹è±¡æ¨¡å¼


**ğŸ”¸ çµæ´»çš„å‚æ•°å¤„ç†**
```javascript
$.fn.tooltip = function(options) {
    var defaults = {
        position: 'top',
        text: 'æç¤ºä¿¡æ¯',
        delay: 300
    };
    
    var settings = $.extend(defaults, options);
    
    return this.each(function() {
        var $this = $(this);
        $this.attr('title', settings.text);
        // å…¶ä»–åŠŸèƒ½...
    });
};

// ä½¿ç”¨æ–¹å¼
$('.help').tooltip({
    text: 'è¿™æ˜¯å¸®åŠ©ä¿¡æ¯',
    position: 'bottom'
});
```

### 3.3 æ–¹æ³•é‡è½½æ¨¡å¼


**ğŸ”¸ ä¸€ä¸ªæ’ä»¶å¤šç§ç”¨æ³•**
```javascript
$.fn.tabs = function(action, options) {
    if (typeof action === 'object') {
        // åˆå§‹åŒ–æ’ä»¶
        options = action;
        return this.each(function() {
            // åˆå§‹åŒ–ä»£ç 
        });
    } else if (typeof action === 'string') {
        // è°ƒç”¨æ–¹æ³•
        if (action === 'show') {
            return this.addClass('active');
        }
    }
};

// å¤šç§ä½¿ç”¨æ–¹å¼
$('.tabs').tabs({theme: 'blue'});  // åˆå§‹åŒ–
$('.tabs').tabs('show');           // è°ƒç”¨æ–¹æ³•
```

---

## 4. ğŸ”’ ä½œç”¨åŸŸéš”ç¦»æŠ€å·§


### 4.1 ä¸ºä»€ä¹ˆéœ€è¦ä½œç”¨åŸŸéš”ç¦»


```
é—®é¢˜åœºæ™¯ï¼š
å…¨å±€å˜é‡æ±¡æŸ“ â†’ å˜é‡åå†²çª
ç¬¬ä¸‰æ–¹åº“å†²çª â†’ $ç¬¦å·è¢«å ç”¨
æ’ä»¶é—´å†²çª â†’ åŒåæ–¹æ³•è¦†ç›–

è§£å†³æ–¹æ¡ˆï¼š
ä½¿ç”¨è‡ªæ‰§è¡Œå‡½æ•°åˆ›å»ºç‹¬ç«‹ä½œç”¨åŸŸ
```

### 4.2 åŸºæœ¬éš”ç¦»æ¨¡å¼


**ğŸ”¸ é˜²æ­¢å…¨å±€æ±¡æŸ“**
```javascript
(function($) {
    // è¿™é‡Œçš„$ç¡®ä¿æ˜¯jQuery
    // å†…éƒ¨å˜é‡ä¸ä¼šæ±¡æŸ“å…¨å±€
    var pluginName = 'myPlugin';
    var version = '1.0.0';
    
    $.fn[pluginName] = function() {
        return this.addClass('plugin-active');
    };
    
})(jQuery);  // ä¼ å…¥jQueryå¯¹è±¡
```

### 4.3 ä¸¥æ ¼æ¨¡å¼ä½¿ç”¨


**ğŸ”¸ æ›´å®‰å…¨çš„æ’ä»¶**
```javascript
(function($, window, document, undefined) {
    'use strict';  // ä¸¥æ ¼æ¨¡å¼
    
    var pluginName = 'safePlugin';
    
    $.fn[pluginName] = function(options) {
        // æ’ä»¶ä»£ç 
        return this;
    };
    
})(jQuery, window, document);
```

### 4.4 å‘½åç©ºé—´ä¿æŠ¤


**ğŸ”¸ é¿å…æ–¹æ³•åå†²çª**
```javascript
// æ£€æŸ¥æ’ä»¶æ˜¯å¦å·²å­˜åœ¨
if ($.fn.myPlugin) {
    console.warn('myPlugin already exists!');
    return;
}

// æ³¨å†Œæ’ä»¶
$.fn.myPlugin = function() {
    // æ’ä»¶ä»£ç 
};
```

---

## 5. âš¡ è‡ªæ‰§è¡Œå‡½æ•°ä½¿ç”¨


### 5.1 åŸºæœ¬è¯­æ³•å½¢å¼


**ğŸ”¸ å¸¸è§çš„å†™æ³•**
```javascript
// æ–¹å¼1ï¼šæœ€å¸¸ç”¨
(function($) {
    // æ’ä»¶ä»£ç 
})(jQuery);

// æ–¹å¼2ï¼šä¹Ÿå¾ˆå¸¸è§
(function($) {
    // æ’ä»¶ä»£ç 
}).call(this, jQuery);

// æ–¹å¼3ï¼šç®€æ´å†™æ³•
!function($) {
    // æ’ä»¶ä»£ç 
}(jQuery);
```

### 5.2 å‚æ•°ä¼ é€’æŠ€å·§


**ğŸ”¸ ä¼ å…¥éœ€è¦çš„å…¨å±€å¯¹è±¡**
```javascript
(function($, window, document) {
    // $      â†’ jQueryå¯¹è±¡
    // window â†’ æµè§ˆå™¨çª—å£å¯¹è±¡  
    // document â†’ æ–‡æ¡£å¯¹è±¡
    
    $.fn.myPlugin = function() {
        var winWidth = window.innerWidth;    // ä½¿ç”¨window
        var body = document.body;            // ä½¿ç”¨document
        return this.css('width', winWidth);
    };
    
})(jQuery, window, document);
```

### 5.3 undefinedå‚æ•°ä¿æŠ¤


**ğŸ”¸ é˜²æ­¢undefinedè¢«é‡å†™**
```javascript
(function($, undefined) {
    // ç¡®ä¿undefinedæ˜¯çœŸæ­£çš„undefined
    $.fn.safePlugin = function(value) {
        if (value !== undefined) {
            // å®‰å…¨çš„undefinedåˆ¤æ–­
        }
        return this;
    };
})(jQuery);
```

---

## 6. ğŸ›ï¸ æ’ä»¶å‚æ•°å¤„ç†


### 6.1 é»˜è®¤å‚æ•°è®¾ç½®


**ğŸ”¸ ç”¨æˆ·å‹å¥½çš„é…ç½®**
```javascript
$.fn.accordion = function(options) {
    var defaults = {
        speed: 'normal',      // åŠ¨ç”»é€Ÿåº¦
        multiple: false,      // æ˜¯å¦å…è®¸å¤šä¸ªå±•å¼€
        activeClass: 'active' // æ¿€æ´»çŠ¶æ€ç±»å
    };
    
    var settings = $.extend({}, defaults, options);
    
    return this.each(function() {
        // ä½¿ç”¨settingsé…ç½®
    });
};
```

### 6.2 å‚æ•°ç±»å‹æ£€æŸ¥


**ğŸ”¸ å¥å£®çš„å‚æ•°å¤„ç†**
```javascript
$.fn.counter = function(options) {
    // æ”¯æŒç›´æ¥ä¼ æ•°å­—
    if (typeof options === 'number') {
        options = { target: options };
    }
    
    var settings = $.extend({
        target: 100,
        duration: 1000
    }, options);
    
    return this.each(function() {
        var $this = $(this);
        // æ•°å­—åŠ¨ç”»ä»£ç ...
    });
};

// å¤šç§ä½¿ç”¨æ–¹å¼
$('.number').counter(500);              // ç›´æ¥ä¼ æ•°å­—
$('.number').counter({ target: 500 });  // ä¼ é…ç½®å¯¹è±¡
```

### 6.3 å›è°ƒå‡½æ•°æ”¯æŒ


**ğŸ”¸ å¢å¼ºæ’ä»¶çµæ´»æ€§**
```javascript
$.fn.slideToggle = function(options) {
    var settings = $.extend({
        speed: 'normal',
        onComplete: function() {}  // å®Œæˆå›è°ƒ
    }, options);
    
    return this.each(function() {
        var $this = $(this);
        
        $this.slideToggle(settings.speed, function() {
            // åŠ¨ç”»å®Œæˆåæ‰§è¡Œå›è°ƒ
            settings.onComplete.call(this);
        });
    });
};

// ä½¿ç”¨å›è°ƒ
$('.box').slideToggle({
    speed: 'fast',
    onComplete: function() {
        console.log('åŠ¨ç”»å®Œæˆäº†');
    }
});
```

### 6.4 æ•°æ®å­˜å‚¨ä¸è·å–


**ğŸ”¸ æ’ä»¶çŠ¶æ€ç®¡ç†**
```javascript
$.fn.toggle = function(options) {
    return this.each(function() {
        var $this = $(this);
        var data = $this.data('toggle-plugin');
        
        if (!data) {
            // ç¬¬ä¸€æ¬¡ä½¿ç”¨ï¼Œå­˜å‚¨é…ç½®
            $this.data('toggle-plugin', {
                state: 'closed',
                options: options
            });
        }
        
        // åˆ‡æ¢çŠ¶æ€
        var currentData = $this.data('toggle-plugin');
        currentData.state = currentData.state === 'open' ? 'closed' : 'open';
    });
};
```

---

## 7. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 7.1 æ’ä»¶å¼€å‘å¿…å¤‡çŸ¥è¯†


```
ğŸ”¸ æ ¸å¿ƒæ¦‚å¿µï¼šæ’ä»¶å°±æ˜¯ç»™jQueryå¯¹è±¡æ·»åŠ æ–°æ–¹æ³•
ğŸ”¸ æ‰©å±•è¯­æ³•ï¼šä½¿ç”¨$.fn.extend()æˆ–$.fn.methodName
ğŸ”¸ é“¾å¼æ”¯æŒï¼šå¿…é¡»return thisä¿æŒé“¾å¼è°ƒç”¨
ğŸ”¸ ä½œç”¨åŸŸéš”ç¦»ï¼šç”¨è‡ªæ‰§è¡Œå‡½æ•°é˜²æ­¢å…¨å±€æ±¡æŸ“
ğŸ”¸ å‚æ•°å¤„ç†ï¼šæ”¯æŒé»˜è®¤é…ç½®å’Œç”¨æˆ·è‡ªå®šä¹‰é€‰é¡¹
```

### 7.2 å¼€å‘æœ€ä½³å®è·µ


**ğŸ”¹ ä»£ç ç»„ç»‡**
```javascript
// æ ‡å‡†æ’ä»¶æ¨¡æ¿
(function($) {
    'use strict';
    
    var pluginName = 'myPlugin';
    var defaults = { /* é»˜è®¤é…ç½® */ };
    
    $.fn[pluginName] = function(options) {
        var settings = $.extend({}, defaults, options);
        
        return this.each(function() {
            // æ’ä»¶é€»è¾‘
        });
    };
    
})(jQuery);
```

**ğŸ”¹ å®ç”¨æŠ€å·§**
```
å¿…é¡»æŒæ¡ï¼š
â€¢ ä½¿ç”¨each()å¤„ç†å¤šä¸ªå…ƒç´ 
â€¢ æä¾›åˆç†çš„é»˜è®¤é…ç½®
â€¢ æ”¯æŒé“¾å¼è°ƒç”¨
â€¢ é˜²æ­¢å…¨å±€å˜é‡æ±¡æŸ“

å¯é€‰è¿›é˜¶ï¼š
â€¢ å›è°ƒå‡½æ•°æ”¯æŒ
â€¢ æ•°æ®å­˜å‚¨ç®¡ç†
â€¢ å‚æ•°ç±»å‹æ£€æŸ¥
â€¢ æ’ä»¶é”€æ¯æ–¹æ³•
```

### 7.3 å®é™…åº”ç”¨å»ºè®®


**ğŸ¯ ä»€ä¹ˆæ—¶å€™å¼€å‘æ’ä»¶**
```
é€‚åˆåœºæ™¯ï¼š
âœ… å›¢é˜Ÿå†…éƒ¨é‡å¤ä½¿ç”¨çš„åŠŸèƒ½
âœ… éœ€è¦ç»Ÿä¸€äº¤äº’æ•ˆæœçš„ç»„ä»¶
âœ… å¤æ‚åŠŸèƒ½çš„ç®€åŒ–å°è£…

ä¸é€‚åˆåœºæ™¯ï¼š
âŒ åªç”¨ä¸€æ¬¡çš„åŠŸèƒ½
âŒ è¿‡äºç®€å•çš„æ“ä½œ
âŒ ç°æœ‰æ’ä»¶å·²æ»¡è¶³éœ€æ±‚
```

**ğŸ”§ å¼€å‘æµç¨‹å»ºè®®**
```
1. å…ˆå®ç°åŸºæœ¬åŠŸèƒ½
2. æå–å¯é…ç½®å‚æ•°
3. æ·»åŠ ä½œç”¨åŸŸéš”ç¦»
4. æµ‹è¯•å„ç§ä½¿ç”¨åœºæ™¯
5. ç¼–å†™ä½¿ç”¨æ–‡æ¡£
```

**ğŸ’¡ æ ¸å¿ƒè®°å¿†**ï¼š
- æ’ä»¶å¼€å‘æ˜¯å°è£…å¸¸ç”¨åŠŸèƒ½çš„æœ‰æ•ˆæ–¹å¼
- $.fn.extend()æ˜¯æœ€åŸºæœ¬çš„æ‰©å±•æ–¹æ³•
- è‡ªæ‰§è¡Œå‡½æ•°ç¡®ä¿ä»£ç å®‰å…¨ç‹¬ç«‹è¿è¡Œ
- åˆç†çš„å‚æ•°è®¾è®¡è®©æ’ä»¶æ›´æ˜“ç”¨
- å·¥ä½œä¸­é€‚åº¦ä½¿ç”¨ï¼Œä¸è¦è¿‡åº¦å°è£…