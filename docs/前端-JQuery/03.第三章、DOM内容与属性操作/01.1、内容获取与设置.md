---
title: 1、内容获取与设置
---
## 📚 目录

1. [内容操作核心概念](#1-内容操作核心概念)
2. [text()文本内容操作](#2-text文本内容操作)
3. [html()HTML内容操作](#3-htmlHTML内容操作)
4. [val()表单值操作](#4-val表单值操作)
5. [获取与设置语法区别](#5-获取与设置语法区别)
6. [链式调用实战应用](#6-链式调用实战应用)
7. [核心要点总结](#7-核心要点总结)

---

## 1. 🎯 内容操作核心概念


### 1.1 为什么要掌握内容操作


**实际工作场景**：
```
✅ 动态显示用户信息
✅ 表单数据收集与回显
✅ 页面内容实时更新
✅ 富文本编辑器操作
✅ 搜索结果动态渲染
```

**jQuery的优势**：
- 一个方法搞定获取和设置
- 自动处理浏览器兼容性
- 支持批量操作多个元素
- 完美的链式调用体验

### 1.2 三大核心方法对比


| 方法 | **作用对象** | **处理内容** | **常用场景** |
|------|-------------|-------------|-------------|
| 🔤 **text()** | `所有元素` | `纯文本内容` | `普通文字显示` |
| 🏷️ **html()** | `所有元素` | `HTML标签内容` | `富文本、动态结构` |
| 📝 **val()** | `表单元素` | `表单控件值` | `输入框、下拉框` |

---

## 2. 🔤 text()文本内容操作


### 2.1 基础用法


**获取文本内容**：
```javascript
// 获取单个元素文本
var title = $("#title").text();
console.log(title); // 纯文本，不包含HTML标签

// 获取多个元素文本（自动拼接）
var allText = $(".item").text();
```

**设置文本内容**：
```javascript
// 设置单个元素
$("#title").text("新的标题");

// 批量设置多个元素
$(".price").text("￥99.00");
```

### 2.2 重要特性


**🔸 自动转义HTML**：
```javascript
// HTML标签会被当作普通文本
$("#demo").text("<strong>加粗文字</strong>");
// 页面显示：<strong>加粗文字</strong>（不会加粗）
```

**🔸 获取时去除标签**：
```html
<div id="content">
  <span>用户名：</span>
  <strong>张三</strong>
</div>
```
```javascript
$("#content").text(); // 结果："用户名：张三"
```

### 2.3 实际应用场景


```javascript
// 场景1：显示用户信息
$("#username").text(userData.name);
$("#userRole").text(userData.role);

// 场景2：计数器更新
var count = parseInt($("#count").text()) + 1;
$("#count").text(count);

// 场景3：状态提示
$("#status").text("加载中...");
```

---

## 3. 🏷️ html()HTML内容操作


### 3.1 基础用法


**获取HTML内容**：
```javascript
// 获取完整的HTML内容
var content = $("#container").html();
console.log(content); // 包含所有标签和文本
```

**设置HTML内容**：
```javascript
// 替换整个内容
$("#container").html("<p>新的内容</p>");

// 插入复杂HTML结构
$("#list").html(`
  <li class="active">首页</li>
  <li>产品</li>
  <li>关于我们</li>
`);
```

### 3.2 重要特性


**🔸 支持HTML标签解析**：
```javascript
$("#demo").html("<strong>这会显示加粗效果</strong>");
// 页面显示：**这会显示加粗效果**（真正加粗）
```

**🔸 完全替换内部内容**：
```html
<!-- 操作前 -->
<div id="box">
  <p>原有内容</p>
  <span>也会被删除</span>
</div>
```
```javascript
$("#box").html("<h3>全新内容</h3>");
// 原有的p和span都没了，只剩h3
```

### 3.3 实际应用场景


```javascript
// 场景1：动态生成列表
var items = ["苹果", "香蕉", "橙子"];
var html = "";
items.forEach(function(item) {
  html += `<li>${item}</li>`;
});
$("#fruitList").html(html);

// 场景2：Ajax数据渲染
$.get("/api/news", function(data) {
  $("#newsList").html(data.content);
});

// 场景3：富文本内容显示
$("#article").html(articleData);
```

---

## 4. 📝 val()表单值操作


### 4.1 基础用法


**获取表单值**：
```javascript
// 文本输入框
var username = $("#username").val();

// 下拉选择框
var city = $("#citySelect").val();

// 复选框（选中返回value，未选中返回空）
var agree = $("#agree").val();
```

**设置表单值**：
```javascript
// 设置输入框内容
$("#username").val("张三");

// 设置下拉框选中项
$("#citySelect").val("beijing");

// 清空表单
$("#loginForm input").val("");
```

### 4.2 不同表单元素的val()


**📋 详细对照表**：

| 表单类型 | **获取结果** | **设置效果** | **示例** |
|---------|-------------|-------------|---------|
| `input[text]` | `输入的文字` | `显示在输入框` | `$("#name").val("张三")` |
| `textarea` | `文本区域内容` | `填充文本区域` | `$("#desc").val("描述信息")` |
| `select` | `选中项的value` | `选中对应选项` | `$("#city").val("bj")` |
| `radio` | `选中项的value` | `选中对应选项` | `$("input[name='sex']").val("male")` |
| `checkbox` | `选中时返回value` | `勾选或取消` | `$("#agree").val("yes")` |

### 4.3 实际应用场景


```javascript
// 场景1：表单数据收集
function collectFormData() {
  var formData = {
    username: $("#username").val(),
    email: $("#email").val(),
    city: $("#city").val()
  };
  return formData;
}

// 场景2：表单数据回显
function fillForm(userData) {
  $("#username").val(userData.name);
  $("#email").val(userData.email);
  $("#city").val(userData.cityCode);
}

// 场景3：表单重置
$("#resetBtn").click(function() {
  $("#loginForm input").val("");
});
```

---

## 5. ⚖️ 获取与设置语法区别


### 5.1 统一的语法规则


**🔸 无参数 = 获取**：
```javascript
// 获取内容
var text = $("#demo").text();     // 获取文本
var html = $("#demo").html();     // 获取HTML
var value = $("#input").val();    // 获取表单值
```

**🔸 有参数 = 设置**：
```javascript
// 设置内容
$("#demo").text("新文本");        // 设置文本
$("#demo").html("<b>新HTML</b>"); // 设置HTML
$("#input").val("新值");          // 设置表单值
```

### 5.2 获取与设置的重要区别


**📊 行为对比**：

```
获取操作：
┌─────────────┐    
│ 只影响第一个 │ ← $("#demo").text() 
│   匹配元素   │   只返回第一个#demo的文本
└─────────────┘    

设置操作：
┌─────────────┐    ┌─────────────┐    ┌─────────────┐
│  所有匹配的  │    │  所有匹配的  │    │  所有匹配的  │
│    元素1     │    │    元素2     │    │    元素3     │
└─────────────┘    └─────────────┘    └─────────────┘
       ↑                   ↑                   ↑
       └───────── $(".demo").text("新内容") ────┘
                        批量设置
```

**💡 实际示例**：
```html
<p class="item">内容1</p>
<p class="item">内容2</p>
<p class="item">内容3</p>
```
```javascript
// 获取：只返回第一个
$(".item").text(); // 结果："内容1"

// 设置：影响所有
$(".item").text("统一内容"); // 三个p都变成"统一内容"
```

### 5.3 常见应用模式


```javascript
// 模式1：读取-处理-写入
var oldPrice = $("#price").text();
var newPrice = parseFloat(oldPrice) * 0.8; // 打8折
$("#price").text("￥" + newPrice.toFixed(2));

// 模式2：条件设置
if (user.isVip) {
  $("#userLevel").text("VIP会员");
} else {
  $("#userLevel").text("普通会员");
}

// 模式3：批量处理
$(".required").val(""); // 清空所有必填项
```

---

## 6. 🔗 链式调用实战应用


### 6.1 链式调用基本概念


**什么是链式调用**：
```javascript
// 传统写法（繁琐）
$("#demo").text("新内容");
$("#demo").css("color", "red");
$("#demo").addClass("highlight");

// 链式调用（优雅）
$("#demo")
  .text("新内容")
  .css("color", "red")
  .addClass("highlight");
```

**为什么可以链式调用**：
- jQuery方法返回jQuery对象本身
- 可以继续调用其他jQuery方法
- 提高代码简洁性和可读性

### 6.2 内容操作中的链式调用


**🔸 组合不同操作**：
```javascript
// 设置内容 + 样式 + 事件
$("#submitBtn")
  .val("提交中...")
  .css("background", "#ccc")
  .prop("disabled", true);

// 清空内容 + 添加新内容 + 显示
$("#result")
  .empty()
  .html("<p>操作成功！</p>")
  .fadeIn();
```

**🔸 实用的链式模式**：
```javascript
// 模式1：表单操作链
$("#userForm")
  .find("#username").val("").end()
  .find("#email").val("").end()
  .find("#phone").val("");

// 模式2：内容更新链
$("#notification")
  .html("保存成功！")
  .removeClass("error")
  .addClass("success")
  .fadeIn()
  .delay(2000)
  .fadeOut();
```

### 6.3 链式调用最佳实践


**✅ 推荐写法**：
```javascript
// 清晰的换行
$("#productCard")
  .find(".title").text(product.name).end()
  .find(".price").text("￥" + product.price).end()
  .find(".desc").html(product.description);

// 逻辑分组
$("#modal")
  .find(".modal-title").text(title).end()
  .find(".modal-body").html(content).end()
  .modal("show");
```

**❌ 避免过度链式**：
```javascript
// 过长的链式调用（不推荐）
$("#demo").text("a").css("color","red").addClass("big").removeClass("small").attr("title","tip").data("id",123).fadeIn().delay(1000).fadeOut();

// 应该适当分解
$("#demo")
  .text("a")
  .css("color", "red")
  .addClass("big")
  .fadeIn();
```

---

## 7. 📋 核心要点总结


### 7.1 必须掌握的核心概念


```
🔸 text()：纯文本操作，自动转义HTML，安全可靠
🔸 html()：HTML内容操作，支持标签解析，功能强大  
🔸 val()：表单专用，获取设置表单控件的值
🔸 获取vs设置：无参获取，有参设置，语法统一
🔸 链式调用：多个操作连续执行，代码简洁优雅
```

### 7.2 关键理解要点


**🔹 选择合适的方法**：
```
显示普通文字 → 用text()，安全防XSS
显示富文本内容 → 用html()，支持标签
操作表单数据 → 用val()，专业表单处理
```

**🔹 获取vs设置的差异**：
```
获取：只读第一个匹配元素
设置：批量操作所有匹配元素
这是jQuery的核心设计理念
```

**🔹 链式调用的本质**：
```
每个jQuery方法都返回jQuery对象
所以可以继续调用其他方法
大大提高开发效率
```

### 7.3 实际工作应用


**🎯 日常开发场景**：
- **用户界面更新**：动态显示用户信息、状态提示
- **表单数据处理**：数据收集、验证、回显、重置
- **内容动态渲染**：Ajax数据展示、搜索结果显示
- **交互反馈**：按钮状态、加载提示、错误信息

**🔧 代码组织技巧**：
- 简单操作用链式调用提高效率
- 复杂逻辑适当分解保持可读性
- 统一的获取/设置语法降低学习成本

**核心记忆**：
- text()管文字，html()管标签，val()管表单
- 无参是获取，有参是设置，批量很方便
- 链式调用真优雅，连续操作一气化