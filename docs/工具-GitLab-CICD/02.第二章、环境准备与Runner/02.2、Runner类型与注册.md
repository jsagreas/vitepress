---
title: 2ã€Runnerç±»å‹ä¸æ³¨å†Œ
---
## ğŸ“š ç›®å½•

1. [RunneråŸºç¡€æ¦‚å¿µ](#1-RunneråŸºç¡€æ¦‚å¿µ)
2. [Runneræ‰§è¡Œç¯å¢ƒç±»å‹](#2-Runneræ‰§è¡Œç¯å¢ƒç±»å‹)
3. [Runnerä½œç”¨åŸŸåˆ†ç±»](#3-Runnerä½œç”¨åŸŸåˆ†ç±»)
4. [Runneræ³¨å†Œä¸ç®¡ç†](#4-Runneræ³¨å†Œä¸ç®¡ç†)
5. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#5-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸƒ RunneråŸºç¡€æ¦‚å¿µ


### 1.1 ä»€ä¹ˆæ˜¯GitLab Runner


**ç®€å•ç†è§£**ï¼šRunnerå°±æ˜¯GitLabçš„"æ‰“å·¥äºº"ï¼Œä¸“é—¨è´Ÿè´£æ‰§è¡Œä½ åœ¨ä»£ç ä¸­å®šä¹‰çš„å„ç§ä»»åŠ¡ã€‚

```
ç°å®ç”Ÿæ´»ç±»æ¯”ï¼š
ä½ ï¼ˆå¼€å‘è€…ï¼‰  â†â†’  åŠ©ç†ï¼ˆRunnerï¼‰  â†â†’  å·¥ä½œä»»åŠ¡ï¼ˆCI/CD Jobï¼‰

å°±åƒä½ ç»™åŠ©ç†å®‰æ’å·¥ä½œï¼š
1. ä½ å†™å¥½å·¥ä½œæ¸…å•ï¼ˆ.gitlab-ci.ymlæ–‡ä»¶ï¼‰
2. åŠ©ç†çœ‹åˆ°æ¸…å•åå¼€å§‹æ‰§è¡Œï¼ˆRunneræ¥æ”¶Jobï¼‰
3. åŠ©ç†å®Œæˆå·¥ä½œå¹¶æŠ¥å‘Šç»“æœï¼ˆJobæ‰§è¡Œå®Œæˆï¼‰
```

**Runnerçš„æ ¸å¿ƒä½œç”¨**ï¼š
- **ä»»åŠ¡æ‰§è¡Œè€…**ï¼šè¿è¡Œä½ å®šä¹‰çš„è„šæœ¬å’Œå‘½ä»¤
- **ç¯å¢ƒæä¾›è€…**ï¼šä¸ºä»£ç æµ‹è¯•ã€æ„å»ºã€éƒ¨ç½²æä¾›è¿è¡Œç¯å¢ƒ
- **ç»“æœåé¦ˆè€…**ï¼šå°†æ‰§è¡Œç»“æœæŠ¥å‘Šå›GitLab

### 1.2 Runnerçš„å·¥ä½œæµç¨‹


```
å®Œæ•´å·¥ä½œæµç¨‹ï¼š
å¼€å‘è€…æ¨é€ä»£ç  â†’ GitLabæ£€æµ‹åˆ°å˜åŒ– â†’ åˆ›å»ºPipeline â†’ åˆ†é…Jobç»™Runner â†’ Runneræ‰§è¡Œä»»åŠ¡ â†’ è¿”å›ç»“æœ

è¯¦ç»†æ­¥éª¤ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ä»£ç æ¨é€   â”‚ -> â”‚ GitLabå¹³å°  â”‚ -> â”‚   Runner    â”‚
â”‚  git push   â”‚    â”‚ åˆ›å»ºPipeline â”‚    â”‚  æ‰§è¡Œä»»åŠ¡   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚                    â”‚
                           â†“                    â†“
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ åˆ†é…ä»»åŠ¡Job â”‚ <- â”‚ åé¦ˆæ‰§è¡Œç»“æœâ”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.3 ä¸ºä»€ä¹ˆéœ€è¦Runner


**è§£å†³çš„æ ¸å¿ƒé—®é¢˜**ï¼š
- **èµ„æºéš”ç¦»**ï¼šæ¯ä¸ªé¡¹ç›®çš„æ„å»ºä¸ä¼šäº’ç›¸å½±å“
- **ç¯å¢ƒçµæ´»**ï¼šå¯ä»¥åœ¨ä¸åŒæ“ä½œç³»ç»Ÿã€ä¸åŒå·¥å…·ç¯å¢ƒä¸­è¿è¡Œ
- **å¹¶è¡Œå¤„ç†**ï¼šå¤šä¸ªRunnerå¯ä»¥åŒæ—¶å¤„ç†ä¸åŒçš„ä»»åŠ¡
- **å®‰å…¨æ€§**ï¼šä»£ç æ‰§è¡Œåœ¨ç‹¬ç«‹çš„ç¯å¢ƒä¸­ï¼Œä¸ä¼šå½±å“GitLabä¸»æœåŠ¡å™¨

---

## 2. ğŸ”§ Runneræ‰§è¡Œç¯å¢ƒç±»å‹


### 2.1 Shell Runner - ç›´æ¥åœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œ


**å·¥ä½œæ–¹å¼**ï¼šå°±åƒä½ ç›´æ¥åœ¨æœåŠ¡å™¨ä¸Šæ•²å‘½ä»¤ä¸€æ ·æ‰§è¡Œä»»åŠ¡

```
Shell Runneræ‰§è¡Œç¤ºä¾‹ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   æœåŠ¡å™¨ç¯å¢ƒ    â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ç›´æ¥æ‰§è¡Œå‘½ä»¤â”‚ â”‚  â† Runnerç›´æ¥åœ¨è¿™é‡Œè¿è¡Œè„šæœ¬
â”‚ â”‚ npm install â”‚ â”‚
â”‚ â”‚ npm test    â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ä¼˜ç‚¹**ï¼š
- âœ… **ç®€å•ç›´æ¥**ï¼šä¸éœ€è¦é¢å¤–çš„å®¹å™¨æˆ–è™šæ‹ŸåŒ–
- âœ… **æ€§èƒ½å¥½**ï¼šæ²¡æœ‰å®¹å™¨åŒ–çš„é¢å¤–å¼€é”€
- âœ… **æœ¬åœ°å·¥å…·**ï¼šå¯ä»¥ç›´æ¥ä½¿ç”¨æœåŠ¡å™¨ä¸Šå·²å®‰è£…çš„å·¥å…·

**ç¼ºç‚¹**ï¼š
- âŒ **ç¯å¢ƒæ±¡æŸ“**ï¼šä¸åŒé¡¹ç›®å¯èƒ½ç›¸äº’å½±å“
- âŒ **æ¸…ç†å›°éš¾**ï¼šä»»åŠ¡æ‰§è¡Œåçš„ä¸´æ—¶æ–‡ä»¶å¯èƒ½æ®‹ç•™
- âŒ **æƒé™é£é™©**ï¼šç›´æ¥åœ¨ä¸»æœºä¸Šæ‰§è¡Œï¼Œå®‰å…¨æ€§ç›¸å¯¹è¾ƒä½

**é€‚ç”¨åœºæ™¯**ï¼š
- ç®€å•çš„è„šæœ¬æ‰§è¡Œ
- å†…éƒ¨é¡¹ç›®æµ‹è¯•
- å¯¹æ€§èƒ½è¦æ±‚è¾ƒé«˜çš„åœºæ™¯

### 2.2 Docker Runner - å®¹å™¨åŒ–æ‰§è¡Œ


**å·¥ä½œæ–¹å¼**ï¼šä¸ºæ¯ä¸ªä»»åŠ¡åˆ›å»ºä¸€ä¸ªå…¨æ–°çš„Dockerå®¹å™¨æ¥æ‰§è¡Œ

```
Docker Runneræ‰§è¡Œæµç¨‹ï¼š
ä»»åŠ¡å¼€å§‹ â†’ æ‹‰å–é•œåƒ â†’ åˆ›å»ºå®¹å™¨ â†’ æ‰§è¡Œä»»åŠ¡ â†’ é”€æ¯å®¹å™¨

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             æœåŠ¡å™¨ç¯å¢ƒ              â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚ â”‚  å®¹å™¨1      â”‚ â”‚   å®¹å™¨2     â”‚ ... â”‚
â”‚ â”‚ node:16     â”‚ â”‚  python:3.9 â”‚     â”‚
â”‚ â”‚ æ‰§è¡Œå‰ç«¯ä»»åŠ¡â”‚ â”‚ æ‰§è¡Œåç«¯ä»»åŠ¡â”‚     â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ä¼˜ç‚¹**ï¼š
- âœ… **ç¯å¢ƒéš”ç¦»**ï¼šæ¯ä¸ªä»»åŠ¡åœ¨ç‹¬ç«‹å®¹å™¨ä¸­è¿è¡Œ
- âœ… **ç¯å¢ƒä¸€è‡´**ï¼šå¼€å‘ã€æµ‹è¯•ã€ç”Ÿäº§ç¯å¢ƒå®Œå…¨ä¸€è‡´
- âœ… **æ˜“äºæ¸…ç†**ï¼šä»»åŠ¡å®Œæˆåå®¹å™¨è‡ªåŠ¨é”€æ¯
- âœ… **ç‰ˆæœ¬çµæ´»**ï¼šå¯ä»¥ä½¿ç”¨ä¸åŒç‰ˆæœ¬çš„å¼€å‘ç¯å¢ƒ

**ç¼ºç‚¹**ï¼š
- âŒ **å¯åŠ¨å¼€é”€**ï¼šéœ€è¦æ—¶é—´æ‹‰å–é•œåƒå’Œåˆ›å»ºå®¹å™¨
- âŒ **å­˜å‚¨å ç”¨**ï¼šéœ€è¦å­˜å‚¨å„ç§Dockeré•œåƒ
- âŒ **ç½‘ç»œé™åˆ¶**ï¼šå®¹å™¨ç½‘ç»œå¯èƒ½æœ‰è®¿é—®é™åˆ¶

**é€‚ç”¨åœºæ™¯**ï¼š
- å¤šè¯­è¨€é¡¹ç›®
- éœ€è¦ç‰¹å®šç¯å¢ƒç‰ˆæœ¬çš„é¡¹ç›®
- ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

### 2.3 Kubernetes Runner - é›†ç¾¤åŒ–æ‰§è¡Œ


**å·¥ä½œæ–¹å¼**ï¼šåœ¨Kubernetesé›†ç¾¤ä¸­åŠ¨æ€åˆ›å»ºPodæ¥æ‰§è¡Œä»»åŠ¡

```
Kubernetes Runneræ¶æ„ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            Kubernetesé›†ç¾¤               â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚ â”‚  Pod1   â”‚ â”‚  Pod2   â”‚ â”‚  Pod3   â”‚ ... â”‚
â”‚ â”‚ å‰ç«¯æ„å»ºâ”‚ â”‚ åç«¯æµ‹è¯•â”‚ â”‚ éƒ¨ç½²ä»»åŠ¡â”‚     â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚              è‡ªåŠ¨è°ƒåº¦å’Œç®¡ç†              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ä¼˜ç‚¹**ï¼š
- âœ… **å¼¹æ€§æ‰©å±•**ï¼šæ ¹æ®ä»»åŠ¡é‡è‡ªåŠ¨è°ƒæ•´èµ„æº
- âœ… **èµ„æºä¼˜åŒ–**ï¼šæ›´å¥½çš„èµ„æºåˆ©ç”¨ç‡
- âœ… **é«˜å¯ç”¨**ï¼šå•ä¸ªèŠ‚ç‚¹æ•…éšœä¸å½±å“æ•´ä½“
- âœ… **ä¼ä¸šçº§**ï¼šé€‚åˆå¤§è§„æ¨¡å›¢é˜Ÿå’Œé¡¹ç›®

**ç¼ºç‚¹**ï¼š
- âŒ **å¤æ‚åº¦é«˜**ï¼šéœ€è¦KubernetesçŸ¥è¯†
- âŒ **æˆæœ¬è¾ƒé«˜**ï¼šéœ€è¦ç»´æŠ¤é›†ç¾¤
- âŒ **é…ç½®å¤æ‚**ï¼šåˆå§‹é…ç½®ç›¸å¯¹å›°éš¾

**é€‚ç”¨åœºæ™¯**ï¼š
- å¤§å‹ä¼ä¸šé¡¹ç›®
- å¾®æœåŠ¡æ¶æ„
- éœ€è¦å¼¹æ€§æ‰©å±•çš„åœºæ™¯

---

## 3. ğŸ¯ Runnerä½œç”¨åŸŸåˆ†ç±»


### 3.1 Shared Runner - å…±äº«è¿è¡Œå™¨


**æ¦‚å¿µç†è§£**ï¼šå°±åƒå…¬å…±å›¾ä¹¦é¦†ï¼Œæ‰€æœ‰äººéƒ½å¯ä»¥ä½¿ç”¨ï¼Œä½†éœ€è¦æ’é˜Ÿç­‰å¾…ã€‚

```
Shared Runnerä½¿ç”¨ç¤ºæ„ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           GitLabå®ä¾‹                    â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚ â”‚ é¡¹ç›®A   â”‚ â”‚ é¡¹ç›®B   â”‚ â”‚ é¡¹ç›®C   â”‚ ... â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚           â†“      â†“        â†“           â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚        å…±äº«Runnerèµ„æºæ±              â”‚ â”‚
â”‚ â”‚ Runner1  Runner2  Runner3 ...      â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ç‰¹ç‚¹**ï¼š
- **ç®¡ç†æ–¹ä¾¿**ï¼šç”±GitLabç®¡ç†å‘˜ç»Ÿä¸€ç»´æŠ¤
- **é›¶é…ç½®**ï¼šé¡¹ç›®æ— éœ€é¢å¤–é…ç½®å³å¯ä½¿ç”¨
- **æˆæœ¬å…±æ‘Š**ï¼šå¤šä¸ªé¡¹ç›®å…±äº«è¿è¡Œæˆæœ¬
- **å¯èƒ½æ’é˜Ÿ**ï¼šç¹å¿™æ—¶éœ€è¦ç­‰å¾…å¯ç”¨çš„Runner

**ä½¿ç”¨åœºæ™¯**ï¼š
- å°å‹é¡¹ç›®
- æ ‡å‡†åŒ–çš„æ„å»ºéœ€æ±‚
- åˆå­¦è€…æˆ–è¯•éªŒé¡¹ç›®

### 3.2 Specific Runner - ä¸“ç”¨è¿è¡Œå™¨


**æ¦‚å¿µç†è§£**ï¼šå°±åƒç§äººè½¦åº“ï¼Œåªä¸ºç‰¹å®šçš„é¡¹ç›®æœåŠ¡ï¼Œä¸“å±ä¸“ç”¨ã€‚

```
Specific Runneré…ç½®ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     é¡¹ç›®A       â”‚ --> â”‚   ä¸“ç”¨Runner    â”‚
â”‚ ç‰¹æ®Šæ„å»ºéœ€æ±‚    â”‚     â”‚   å®šåˆ¶åŒ–ç¯å¢ƒ    â”‚
â”‚ æ•æ„Ÿæ•°æ®å¤„ç†    â”‚     â”‚   ç‹¬äº«èµ„æº      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ç‰¹ç‚¹**ï¼š
- **ç‹¬äº«èµ„æº**ï¼šä¸ä¸å…¶ä»–é¡¹ç›®å…±äº«Runnerèµ„æº
- **å®šåˆ¶ç¯å¢ƒ**ï¼šå¯ä»¥é…ç½®ç‰¹æ®Šçš„è½¯ä»¶å’Œå·¥å…·
- **é«˜ä¼˜å…ˆçº§**ï¼šä»»åŠ¡æ‰§è¡Œä¸éœ€è¦æ’é˜Ÿç­‰å¾…
- **å®‰å…¨æ€§é«˜**ï¼šé€‚åˆå¤„ç†æ•æ„Ÿä»£ç å’Œæ•°æ®

**é€‚ç”¨åœºæ™¯**ï¼š
- éœ€è¦ç‰¹æ®Šè½¯ä»¶ç¯å¢ƒçš„é¡¹ç›®
- å¤„ç†æ•æ„Ÿæ•°æ®çš„é¡¹ç›®
- å¯¹æ€§èƒ½è¦æ±‚å¾ˆé«˜çš„é¡¹ç›®
- ä¼ä¸šçº§é‡è¦é¡¹ç›®

### 3.3 Group Runner - ç»„è¿è¡Œå™¨


**æ¦‚å¿µç†è§£**ï¼šå°±åƒéƒ¨é—¨å…±äº«çš„è®¾å¤‡ï¼ŒåŒä¸€éƒ¨é—¨çš„æ‰€æœ‰é¡¹ç›®éƒ½å¯ä»¥ä½¿ç”¨ã€‚

```
Group Runnerä½œç”¨èŒƒå›´ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              é¡¹ç›®ç»„                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚ â”‚ å‰ç«¯é¡¹ç›®â”‚ â”‚ åç«¯é¡¹ç›®â”‚ â”‚ ç§»åŠ¨ç«¯  â”‚     â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                  â†“                     â”‚
â”‚        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚        â”‚   Group Runner  â”‚               â”‚
â”‚        â”‚   ç»Ÿä¸€å·¥å…·é“¾    â”‚               â”‚
â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ç‰¹ç‚¹**ï¼š
- **èŒƒå›´é€‚ä¸­**ï¼šåªå¯¹ç‰¹å®šç»„å†…çš„é¡¹ç›®å¯è§
- **å·¥å…·ç»Ÿä¸€**ï¼šå¯ä»¥ä¸ºå›¢é˜Ÿé…ç½®ç»Ÿä¸€çš„å·¥å…·é“¾
- **æƒé™æ§åˆ¶**ï¼šç»„å¤–é¡¹ç›®æ— æ³•ä½¿ç”¨
- **æˆæœ¬å¹³è¡¡**ï¼šåœ¨å…±äº«å’Œä¸“ç”¨ä¹‹é—´æ‰¾åˆ°å¹³è¡¡

**é€‚ç”¨åœºæ™¯**ï¼š
- å›¢é˜Ÿé¡¹ç›®ç¾¤
- éœ€è¦ç»Ÿä¸€å·¥å…·é“¾çš„é¡¹ç›®ç»„
- æœ‰ä¸€å®šå®‰å…¨è¦æ±‚ä½†å…è®¸å›¢é˜Ÿå…±äº«çš„åœºæ™¯

---

## 4. ğŸ” Runneræ³¨å†Œä¸ç®¡ç†


### 4.1 Runneræ³¨å†Œæµç¨‹


**æ³¨å†Œå°±åƒå‘˜å·¥å…¥èŒ**ï¼šéœ€è¦æä¾›èº«ä»½è¯æ˜ï¼Œè·å¾—å·¥ä½œæƒé™ã€‚

```
Runneræ³¨å†Œæ­¥éª¤ï¼š
æ­¥éª¤1: è·å–æ³¨å†Œä¿¡æ¯ â†’ æ­¥éª¤2: å®‰è£…Runner â†’ æ­¥éª¤3: æ‰§è¡Œæ³¨å†Œ â†’ æ­¥éª¤4: éªŒè¯é…ç½®

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚è·å–Tokenå’ŒURLâ”‚ -> â”‚å®‰è£…GitLab   â”‚ -> â”‚æ‰§è¡Œæ³¨å†Œå‘½ä»¤ â”‚ -> â”‚å¼€å§‹æ¥æ”¶ä»»åŠ¡ â”‚
â”‚ä»GitLabè®¾ç½® â”‚    â”‚Runnerç¨‹åº   â”‚    â”‚å»ºç«‹è¿æ¥å…³ç³» â”‚    â”‚æ­£å¸¸å·¥ä½œ    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 è·å–æ³¨å†Œä¿¡æ¯


**åœ¨GitLabä¸­è·å–Tokençš„ä½ç½®**ï¼š

```
ä¸åŒç±»å‹Runnerçš„Tokenè·å–ä½ç½®ï¼š

Shared Runnerï¼ˆç®¡ç†å‘˜ï¼‰ï¼š
GitLabç®¡ç†ç•Œé¢ â†’ Admin Area â†’ Runners â†’ Registration token

Specific Runnerï¼ˆé¡¹ç›®ï¼‰ï¼š
é¡¹ç›®é¡µé¢ â†’ Settings â†’ CI/CD â†’ Runners â†’ Registration token

Group Runnerï¼ˆç»„ç®¡ç†å‘˜ï¼‰ï¼š
ç»„é¡µé¢ â†’ Settings â†’ CI/CD â†’ Runners â†’ Registration token
```

### 4.3 æ³¨å†Œå‘½ä»¤ç¤ºä¾‹


**åŸºæœ¬æ³¨å†Œå‘½ä»¤æ ¼å¼**ï¼š

```bash
# äº¤äº’å¼æ³¨å†Œï¼ˆæ¨èæ–°æ‰‹ä½¿ç”¨ï¼‰
sudo gitlab-runner register

# éäº¤äº’å¼æ³¨å†Œï¼ˆé€‚åˆè‡ªåŠ¨åŒ–ï¼‰
sudo gitlab-runner register \
  --url "https://gitlab.example.com/" \
  --registration-token "your-token-here" \
  --description "my-runner" \
  --executor "docker" \
  --docker-image "node:16"
```

**æ³¨å†Œè¿‡ç¨‹ä¸­çš„å…³é”®é…ç½®**ï¼š

| é…ç½®é¡¹ | è¯´æ˜ | ç¤ºä¾‹å€¼ |
|--------|------|--------|
| **GitLab URL** | GitLabæœåŠ¡å™¨åœ°å€ | `https://gitlab.com/` |
| **Registration Token** | æ³¨å†Œä»¤ç‰Œ | `GR1348941...` |
| **Description** | Runneræè¿°åç§° | `Production Docker Runner` |
| **Tags** | ä»»åŠ¡æ ‡ç­¾ï¼ˆå¯é€‰ï¼‰ | `docker,production,web` |
| **Executor** | æ‰§è¡Œå™¨ç±»å‹ | `docker`ã€`shell`ã€`kubernetes` |
| **Default Image** | é»˜è®¤é•œåƒï¼ˆDockerï¼‰ | `ubuntu:20.04`ã€`node:16` |

### 4.4 Tokenç®¡ç†æœ€ä½³å®è·µ


**Tokenå®‰å…¨ç®¡ç†**ï¼š

```
Tokenç®¡ç†åŸåˆ™ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Tokenå®‰å…¨æ€§    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ âœ… å®šæœŸè½®æ¢      â”‚
â”‚ âœ… æœ€å°æƒé™åŸåˆ™  â”‚
â”‚ âœ… å®‰å…¨å­˜å‚¨      â”‚
â”‚ âœ… ç›‘æ§ä½¿ç”¨æƒ…å†µ  â”‚
â”‚ âŒ ä¸è¦ç¡¬ç¼–ç     â”‚
â”‚ âŒ ä¸è¦åˆ†äº«      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Tokenç±»å‹å¯¹æ¯”**ï¼š

| Tokenç±»å‹ | ä½¿ç”¨èŒƒå›´ | å®‰å…¨çº§åˆ« | ç®¡ç†å¤æ‚åº¦ |
|-----------|----------|----------|------------|
| **Registration Token** | æ³¨å†ŒRunneræ—¶ä½¿ç”¨ | ğŸ”´ é«˜é£é™© | ç®€å• |
| **Authentication Token** | Runnerè¿è¡Œæ—¶ä½¿ç”¨ | ğŸŸ¡ ä¸­é£é™© | ä¸­ç­‰ |
| **Project Access Token** | é¡¹ç›®çº§åˆ«è®¿é—® | ğŸŸ¢ ç›¸å¯¹å®‰å…¨ | å¤æ‚ |

### 4.5 RunnerçŠ¶æ€ç›‘æ§


**Runnerå¥åº·çŠ¶æ€æ£€æŸ¥**ï¼š

```bash
# æŸ¥çœ‹RunnerçŠ¶æ€
sudo gitlab-runner status

# æŸ¥çœ‹Runneråˆ—è¡¨
sudo gitlab-runner list

# æµ‹è¯•Runnerè¿æ¥
sudo gitlab-runner verify
```

**åœ¨GitLabç•Œé¢ç›‘æ§Runner**ï¼š
```
ç›‘æ§ä½ç½®ï¼š
é¡¹ç›® â†’ Settings â†’ CI/CD â†’ Runners â†’ æŸ¥çœ‹å·²æ³¨å†Œçš„Runner

å…³é”®çŠ¶æ€æŒ‡æ ‡ï¼š
ğŸŸ¢ Online  - Runneræ­£å¸¸å·¥ä½œ
ğŸŸ¡ Offline - Runnerç¦»çº¿
ğŸ”´ Error   - Runnerå‡ºç°é”™è¯¯
â¸ï¸ Paused  - Runnerå·²æš‚åœ
```

---

## 5. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 5.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ Runneræœ¬è´¨ï¼šGitLabçš„ä»»åŠ¡æ‰§è¡Œå™¨ï¼Œè´Ÿè´£è¿è¡ŒCI/CDä»»åŠ¡
ğŸ”¸ ä¸‰ç§æ‰§è¡Œç¯å¢ƒï¼šShellï¼ˆç›´æ¥æ‰§è¡Œï¼‰ã€Dockerï¼ˆå®¹å™¨åŒ–ï¼‰ã€Kubernetesï¼ˆé›†ç¾¤åŒ–ï¼‰
ğŸ”¸ ä¸‰ç§ä½œç”¨åŸŸï¼šSharedï¼ˆå…±äº«ï¼‰ã€Specificï¼ˆä¸“ç”¨ï¼‰ã€Groupï¼ˆç»„çº§ï¼‰
ğŸ”¸ æ³¨å†Œæµç¨‹ï¼šè·å–Token â†’ å®‰è£…ç¨‹åº â†’ æ‰§è¡Œæ³¨å†Œ â†’ å¼€å§‹å·¥ä½œ
ğŸ”¸ å®‰å…¨ç®¡ç†ï¼šTokenä¿æŠ¤ã€æƒé™æ§åˆ¶ã€çŠ¶æ€ç›‘æ§
```

### 5.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ å¦‚ä½•é€‰æ‹©Runnerç±»å‹**
```
é€‰æ‹©ä¾æ®ï¼š
é¡¹ç›®è§„æ¨¡ + å®‰å…¨è¦æ±‚ + æŠ€æœ¯æ ˆ + å›¢é˜Ÿè§„æ¨¡

å°é¡¹ç›®/å­¦ä¹ : Shared Runner + Docker
ä¼ä¸šé¡¹ç›®: Specific Runner + Docker/Kubernetes  
å›¢é˜Ÿåä½œ: Group Runner + Docker
é«˜æ€§èƒ½éœ€æ±‚: Specific Runner + Shell
```

**ğŸ”¹ æ‰§è¡Œç¯å¢ƒé€‰æ‹©ç­–ç•¥**
```
Shell Runner: 
âœ… ç®€å•è„šæœ¬ã€é«˜æ€§èƒ½éœ€æ±‚ã€å†…éƒ¨é¡¹ç›®
âŒ å¤šé¡¹ç›®ã€å®‰å…¨æ•æ„Ÿã€ç¯å¢ƒéš”ç¦»

Docker Runner:
âœ… å¤šè¯­è¨€ã€ç¯å¢ƒä¸€è‡´æ€§ã€ä¸­ç­‰è§„æ¨¡
âŒ ç½‘ç»œé™åˆ¶ã€å¯åŠ¨æ—¶é—´æ•æ„Ÿ

Kubernetes Runner:
âœ… å¤§è§„æ¨¡ã€å¼¹æ€§éœ€æ±‚ã€ä¼ä¸šçº§
âŒ å°é¡¹ç›®ã€é…ç½®å¤æ‚åº¦ã€æˆæœ¬æ•æ„Ÿ
```

**ğŸ”¹ Tokenç®¡ç†é‡ç‚¹**
```
å®‰å…¨åŸåˆ™ï¼š
- Registration Tokenï¼šä»…ç”¨äºæ³¨å†Œï¼Œæ³¨å†Œåå¦¥å–„ä¿å­˜
- å®šæœŸè½®æ¢ï¼šé¿å…é•¿æœŸä½¿ç”¨åŒä¸€Token
- æƒé™æœ€å°åŒ–ï¼šåªç»™å¿…è¦çš„è®¿é—®æƒé™
- ç›‘æ§å¼‚å¸¸ï¼šåŠæ—¶å‘ç°æœªæˆæƒä½¿ç”¨
```

### 5.3 å®é™…åº”ç”¨ä»·å€¼


**å…¸å‹åº”ç”¨åœºæ™¯**ï¼š
- **ä¸ªäººé¡¹ç›®**ï¼šä½¿ç”¨GitLab.comçš„Shared Runnerï¼Œé›¶é…ç½®å¿«é€Ÿå¼€å§‹
- **å›¢é˜Ÿå¼€å‘**ï¼šé…ç½®Group Runnerï¼Œç»Ÿä¸€å›¢é˜Ÿå·¥å…·é“¾å’Œç¯å¢ƒ
- **ä¼ä¸šç”Ÿäº§**ï¼šéƒ¨ç½²Specific Runnerï¼Œç¡®ä¿å®‰å…¨æ€§å’Œæ€§èƒ½
- **å¾®æœåŠ¡æ¶æ„**ï¼šä½¿ç”¨Kubernetes Runnerï¼Œå®ç°å¼¹æ€§æ‰©å±•

**é¿å…å¸¸è§é™·é˜±**ï¼š
- âŒ **Tokenæ³„éœ²**ï¼šä¸è¦å°†Tokenæäº¤åˆ°ä»£ç ä»“åº“
- âŒ **ç¯å¢ƒæ··ä¹±**ï¼šé¿å…åœ¨Shell Runnerä¸Šå †ç§¯å„ç§å·¥å…·
- âŒ **èµ„æºæµªè´¹**ï¼šåˆç†é…ç½®Dockeré•œåƒï¼Œé¿å…ä¸‹è½½è¿‡å¤§é•œåƒ
- âŒ **æƒé™è¿‡å¤§**ï¼šä¸è¦ç»™Runnerä¸å¿…è¦çš„ç³»ç»Ÿæƒé™

**æ ¸å¿ƒè®°å¿†è¦ç‚¹**ï¼š
- Runneræ˜¯CI/CDçš„æ‰§è¡Œè€…ï¼Œé€‰æ‹©åˆé€‚çš„ç±»å‹å¾ˆé‡è¦
- Docker Runneræ˜¯æœ€ä½³å¹³è¡¡ç‚¹ï¼šéš”ç¦»æ€§å¥½ã€é…ç½®çµæ´»ã€ä½¿ç”¨ç®€å•
- Tokenå®‰å…¨ç®¡ç†æ˜¯åŸºç¡€ï¼Œæ³¨å†ŒæˆåŠŸåè¦å¦¥å–„ä¿å­˜å’Œç›‘æ§
- ä»ç®€å•å¼€å§‹ï¼šå…ˆç”¨Shared Runnerå­¦ä¹ ï¼Œå†æ ¹æ®éœ€æ±‚é€‰æ‹©ä¸“ç”¨Runner