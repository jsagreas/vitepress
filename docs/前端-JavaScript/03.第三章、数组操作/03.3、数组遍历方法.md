---
title: 3、数组遍历方法
---
## 📚 目录

1. [数组遍历方法概述](#1-数组遍历方法概述)
2. [forEach() - 遍历每个元素](#2-forEach-遍历每个元素)
3. [map() - 映射新数组](#3-map-映射新数组)
4. [filter() - 过滤数组](#4-filter-过滤数组)
5. [find() - 查找元素](#5-find-查找元素)
6. [includes() - 检查是否包含](#6-includes-检查是否包含)
7. [方法对比和选择](#7-方法对比和选择)
8. [核心要点总结](#8-核心要点总结)

---

## 1. 🔍 数组遍历方法概述


### 1.1 为什么需要数组遍历方法


```
传统for循环：写法复杂，容易出错
for (let i = 0; i < arr.length; i++) {
    // 处理 arr[i]
}

现代遍历方法：简洁直观，功能强大
arr.forEach(item => {
    // 处理 item
});
```

### 1.2 核心遍历方法速览


```
📋 数组遍历方法分类

🔄 基础遍历
forEach()    → 遍历每个元素，无返回值

🔄 转换类
map()        → 转换每个元素，返回新数组

🔄 筛选类  
filter()     → 筛选符合条件的元素，返回新数组

🔄 查找类
find()       → 查找第一个符合条件的元素
includes()   → 检查是否包含某个元素
```

---

## 2. 🔄 forEach() - 遍历每个元素


### 2.1 基本用法


**🔸 作用**：遍历数组每个元素，执行指定操作

```javascript
// 基本语法
数组.forEach((元素, 索引, 数组) => {
    // 处理每个元素
});

// 实际例子
const fruits = ['苹果', '香蕉', '橙子'];

fruits.forEach(fruit => {
    console.log(fruit);
});
// 输出：苹果 香蕉 橙子
```

### 2.2 获取索引和原数组


```javascript
const numbers = [10, 20, 30];

numbers.forEach((num, index) => {
    console.log(`第${index}个数字是${num}`);
});

// 输出：
// 第0个数字是10
// 第1个数字是20  
// 第2个数字是30
```

### 2.3 实际应用场景


```javascript
// 场景1：批量修改DOM元素
const buttons = document.querySelectorAll('button');
buttons.forEach(btn => {
    btn.style.color = 'blue';
});

// 场景2：累计计算
let total = 0;
[5, 10, 15].forEach(num => {
    total += num;
});
console.log(total); // 30
```

**💡 记忆要点**：
- **不返回新数组**，只是遍历
- **适合**：打印、修改DOM、累计计算
- **不适合**：需要新数组的情况

---

## 3. 🔄 map() - 映射新数组


### 3.1 基本概念


**🔸 作用**：将数组每个元素转换后，返回新数组

```
原数组：     [1, 2, 3]
转换规则：   每个数字 × 2  
新数组：     [2, 4, 6]
```

### 3.2 基本用法


```javascript
// 基本语法
const 新数组 = 原数组.map(元素 => {
    return 转换后的元素;
});

// 实际例子
const numbers = [1, 2, 3, 4];
const doubled = numbers.map(num => num * 2);

console.log(doubled); // [2, 4, 6, 8]
console.log(numbers); // [1, 2, 3, 4] 原数组不变
```

### 3.3 常见应用场景


```javascript
// 场景1：数据格式转换
const users = [
    {name: '张三', age: 25},
    {name: '李四', age: 30}
];

const names = users.map(user => user.name);
console.log(names); // ['张三', '李四']

// 场景2：添加HTML标签
const titles = ['首页', '产品', '联系'];
const navItems = titles.map(title => `<li>${title}</li>`);
console.log(navItems); 
// ['<li>首页</li>', '<li>产品</li>', '<li>联系</li>']

// 场景3：价格计算
const prices = [100, 200, 300];
const finalPrices = prices.map(price => price * 0.8); // 8折
console.log(finalPrices); // [80, 160, 240]
```

**💡 记忆要点**：
- **必须返回值**，返回什么新数组就包含什么
- **原数组不变**，生成全新数组
- **适合**：数据转换、格式化、计算

---

## 4. 🔄 filter() - 过滤数组


### 4.1 基本概念


**🔸 作用**：筛选出符合条件的元素，组成新数组

```
原数组：     [1, 2, 3, 4, 5, 6]
筛选条件：   大于3的数字
新数组：     [4, 5, 6]
```

### 4.2 基本用法


```javascript
// 基本语法
const 新数组 = 原数组.filter(元素 => {
    return 判断条件; // 返回true保留，false丢弃
});

// 实际例子
const numbers = [1, 2, 3, 4, 5, 6];
const bigNumbers = numbers.filter(num => num > 3);

console.log(bigNumbers); // [4, 5, 6]
```

### 4.3 常见应用场景


```javascript
// 场景1：筛选用户
const users = [
    {name: '张三', age: 17},
    {name: '李四', age: 25},
    {name: '王五', age: 16}
];

const adults = users.filter(user => user.age >= 18);
console.log(adults); // [{name: '李四', age: 25}]

// 场景2：搜索功能
const products = ['iPhone', 'iPad', 'MacBook', 'AirPods'];
const searchResult = products.filter(product => 
    product.toLowerCase().includes('iphone')
);
console.log(searchResult); // ['iPhone']

// 场景3：去除空值
const data = ['', 'hello', null, 'world', undefined, 'js'];
const cleanData = data.filter(item => item);
console.log(cleanData); // ['hello', 'world', 'js']
```

**💡 记忆要点**：
- **返回布尔值**，true保留，false丢弃
- **原数组不变**，返回筛选后的新数组
- **适合**：搜索、筛选、数据清洗

---

## 5. 🔍 find() - 查找元素


### 5.1 基本概念


**🔸 作用**：找到第一个符合条件的元素，找不到返回undefined

```
数组：       ['apple', 'banana', 'orange']
查找条件：   包含字母'a'的水果
结果：       'apple' (第一个符合的)
```

### 5.2 基本用法


```javascript
// 基本语法
const 结果 = 数组.find(元素 => {
    return 判断条件;
});

// 实际例子
const numbers = [1, 3, 5, 8, 9];
const firstEven = numbers.find(num => num % 2 === 0);

console.log(firstEven); // 8 (第一个偶数)
```

### 5.3 常见应用场景


```javascript
// 场景1：根据ID查找用户
const users = [
    {id: 1, name: '张三'},
    {id: 2, name: '李四'},  
    {id: 3, name: '王五'}
];

const user = users.find(u => u.id === 2);
console.log(user); // {id: 2, name: '李四'}

// 场景2：查找DOM元素对应的数据
const buttons = document.querySelectorAll('button');
const targetButton = Array.from(buttons).find(btn => 
    btn.textContent === '提交'
);

// 场景3：查找第一个满足条件的商品
const products = [
    {name: 'T恤', price: 50},
    {name: '牛仔裤', price: 120},
    {name: '运动鞋', price: 200}
];

const affordable = products.find(item => item.price < 100);
console.log(affordable); // {name: 'T恤', price: 50}
```

### 5.4 find() vs filter() 区别


| 方法 | **返回值** | **数量** | **使用场景** |
|------|------------|----------|-------------|
| `find()` | `单个元素或undefined` | `最多1个` | `查找特定元素` |
| `filter()` | `数组` | `0个或多个` | `筛选多个元素` |

```javascript
const nums = [1, 2, 3, 4, 5];

// find: 找第一个偶数
const firstEven = nums.find(n => n % 2 === 0);
console.log(firstEven); // 2

// filter: 找所有偶数  
const allEvens = nums.filter(n => n % 2 === 0);
console.log(allEvens); // [2, 4]
```

**💡 记忆要点**：
- **只返回第一个**符合条件的元素
- **找不到返回undefined**
- **适合**：根据条件查找特定元素

---

## 6. ✅ includes() - 检查是否包含


### 6.1 基本概念


**🔸 作用**：检查数组是否包含某个元素，返回true/false

```javascript
// 基本语法
const 结果 = 数组.includes(要查找的元素);

// 实际例子
const fruits = ['苹果', '香蕉', '橙子'];
console.log(fruits.includes('苹果')); // true
console.log(fruits.includes('葡萄')); // false
```

### 6.2 常见应用场景


```javascript
// 场景1：权限检查
const userRoles = ['read', 'write', 'delete'];
const canDelete = userRoles.includes('delete');

if (canDelete) {
    console.log('用户可以删除');
}

// 场景2：表单验证
const forbiddenWords = ['垃圾', '广告', '病毒'];
const userInput = '这是垃圾信息';

const hasBadWord = forbiddenWords.some(word => 
    userInput.includes(word)
);

if (hasBadWord) {
    console.log('输入包含敏感词');
}

// 场景3：菜单状态
const activeMenus = ['home', 'products'];
const currentPage = 'products';

const isActive = activeMenus.includes(currentPage);
console.log(isActive); // true
```

### 6.3 includes() vs indexOf() 对比


```javascript
const arr = [1, 2, 3, NaN];

// includes() - 更直观
console.log(arr.includes(2));   // true
console.log(arr.includes(NaN)); // true (能正确处理NaN)

// indexOf() - 返回索引
console.log(arr.indexOf(2));    // 1
console.log(arr.indexOf(NaN));  // -1 (无法找到NaN)
```

**💡 记忆要点**：
- **返回布尔值**，true/false
- **能正确处理NaN**
- **适合**：条件判断、权限检查、状态判断

---

## 7. ⚖️ 方法对比和选择


### 7.1 使用场景选择指南


```
🎯 我要做什么？

遍历每个元素，执行操作 → forEach()
获得转换后的新数组     → map()
筛选符合条件的元素     → filter()  
找第一个符合条件的     → find()
检查是否包含某元素     → includes()
```

### 7.2 性能对比


| 方法 | **性能** | **内存使用** | **适用数据量** |
|------|----------|-------------|-------------|
| `forEach()` | `⭐⭐⭐⭐⭐` | `低` | `大量数据` |
| `map()` | `⭐⭐⭐⭐` | `中` | `中等数据` |
| `filter()` | `⭐⭐⭐⭐` | `中` | `中等数据` |
| `find()` | `⭐⭐⭐⭐⭐` | `低` | `大量数据` |
| `includes()` | `⭐⭐⭐⭐⭐` | `低` | `大量数据` |

### 7.3 链式调用示例


```javascript
const products = [
    {name: 'iPhone', price: 999, category: 'phone'},
    {name: 'iPad', price: 599, category: 'tablet'},
    {name: 'MacBook', price: 1299, category: 'laptop'},
    {name: 'AirPods', price: 199, category: 'accessory'}
];

// 链式调用：筛选 → 转换 → 遍历
products
    .filter(item => item.price > 500)        // 筛选价格>500的
    .map(item => item.name)                  // 取出名称
    .forEach(name => console.log(name));     // 打印名称

// 输出：iPhone iPad MacBook
```

### 7.4 实际开发建议


```javascript
// ✅ 推荐写法
const expensiveProducts = products
    .filter(p => p.price > 500)
    .map(p => ({
        ...p,
        discountPrice: p.price * 0.9
    }));

// ❌ 避免的写法  
const result = [];
for (let i = 0; i < products.length; i++) {
    if (products[i].price > 500) {
        result.push({
            ...products[i],
            discountPrice: products[i].price * 0.9
        });
    }
}
```

---

## 8. 📋 核心要点总结


### 8.1 必须掌握的基本概念


```
🔸 forEach()：遍历执行，无返回值
🔸 map()：转换映射，返回新数组
🔸 filter()：条件筛选，返回新数组  
🔸 find()：查找元素，返回第一个或undefined
🔸 includes()：包含检查，返回布尔值
```

### 8.2 关键理解要点


**🔹 返回值的区别**
```
无返回值：forEach()
返回新数组：map()、filter()
返回元素：find()
返回布尔值：includes()
```

**🔹 原数组是否改变**
```
都不改变原数组！
如果需要修改原数组，使用其他方法
```

**🔹 使用场景记忆**
```
forEach → "遍历做事情"
map → "转换数据"  
filter → "筛选数据"
find → "查找数据"
includes → "检查存在"
```

### 8.3 实际应用价值


- **代码简洁**：替代复杂的for循环
- **语义清晰**：一看方法名就知道在做什么
- **链式调用**：可以组合使用，功能强大
- **函数式编程**：现代JS开发的趋势

**核心记忆口诀**：
- forEach遍历做事情，map转换filter筛选
- find查找includes检查，链式调用更简洁
- 原数组保持不改变，新数组承载新结果