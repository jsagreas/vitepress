---
title: 2、switch选择语句
---
## 📚 目录

1. [switch语句基础](#1-switch语句基础)
2. [case和break详解](#2-case和break详解)
3. [default默认分支](#3-default默认分支)
4. [什么时候用switch](#4-什么时候用switch)
5. [核心要点总结](#5-核心要点总结)

---

## 1. 🔀 switch语句基础


### 1.1 什么是switch语句


**🔸 简单理解**
```
switch就像一个"多路选择器"
根据变量的值，选择执行哪段代码
比if...else if更简洁清晰
```

### 1.2 基本语法


```javascript
switch (变量) {
    case 值1:
        // 执行代码1
        break;
    case 值2:
        // 执行代码2
        break;
    default:
        // 默认执行的代码
}
```

### 1.3 实际例子


```javascript
let day = 3;

switch (day) {
    case 1:
        console.log("星期一");
        break;
    case 2:
        console.log("星期二");
        break;
    case 3:
        console.log("星期三");  // 输出这个
        break;
    case 4:
        console.log("星期四");
        break;
    default:
        console.log("无效的日期");
}
```

---

## 2. ⚡ case和break详解


### 2.1 case的作用


**🔸 核心机制**
```
case 就是"如果变量等于这个值"
switch会从匹配的case开始执行
直到遇到break或switch结束
```

### 2.2 break的重要性


**❌ 没有break的问题**
```javascript
let score = "B";

switch (score) {
    case "A":
        console.log("优秀");
    case "B":
        console.log("良好");  // 会执行
    case "C":
        console.log("及格");  // 也会执行！
    default:
        console.log("不及格"); // 还会执行！
}

// 输出：
// 良好
// 及格  
// 不及格
```

**✅ 正确使用break**
```javascript
let score = "B";

switch (score) {
    case "A":
        console.log("优秀");
        break;
    case "B":
        console.log("良好");
        break;  // 停止执行
    case "C":
        console.log("及格");
        break;
    default:
        console.log("不及格");
}

// 输出：良好
```

### 2.3 故意不用break的场景


```javascript
// 多个值执行相同操作
let month = 12;

switch (month) {
    case 12:
    case 1:
    case 2:
        console.log("冬季");
        break;
    case 3:
    case 4:
    case 5:
        console.log("春季");
        break;
    case 6:
    case 7:
    case 8:
        console.log("夏季");
        break;
    default:
        console.log("秋季");
}
```

---

## 3. 🎯 default默认分支


### 3.1 default的作用


**🔸 兜底机制**
```
当所有case都不匹配时
执行default里的代码
类似if...else中的最后一个else
```

### 3.2 实际应用


```javascript
function getWeekendActivity(weather) {
    switch (weather) {
        case "晴天":
            return "去公园散步";
        case "雨天":
            return "在家看电影";
        case "雪天":
            return "堆雪人";
        default:
            return "根据天气再决定";  // 兜底方案
    }
}

console.log(getWeekendActivity("阴天"));  // 根据天气再决定
```

### 3.3 default的位置


```javascript
// default可以放在任何位置，但习惯放最后
switch (value) {
    default:
        console.log("默认操作");
        break;
    case 1:
        console.log("选项1");
        break;
    case 2:
        console.log("选项2");
        break;
}
```

---

## 4. 🤔 什么时候用switch


### 4.1 switch vs if...else对比


| 场景 | **推荐使用** | **原因** |
|------|-------------|---------|
| **多个固定值判断** | `switch` | `代码更简洁清晰` |
| **范围判断** | `if...else` | `switch无法判断范围` |
| **复杂条件** | `if...else` | `switch只能精确匹配` |
| **2-3个判断** | `if...else` | `switch显得冗余` |

### 4.2 适合用switch的场景


**✅ 菜单选择**
```javascript
function handleMenu(choice) {
    switch (choice) {
        case 1:
            return "查看个人信息";
        case 2:
            return "修改密码";
        case 3:
            return "退出登录";
        default:
            return "无效选择";
    }
}
```

**✅ 状态处理**
```javascript
function getOrderStatus(status) {
    switch (status) {
        case "pending":
            return "订单处理中";
        case "paid":
            return "已付款";
        case "shipped":
            return "已发货";
        case "delivered":
            return "已送达";
        default:
            return "未知状态";
    }
}
```

### 4.3 不适合用switch的场景


**❌ 范围判断用if**
```javascript
// 错误：switch无法判断范围
let score = 85;

// 应该用if
if (score >= 90) {
    console.log("优秀");
} else if (score >= 80) {
    console.log("良好");
} else if (score >= 60) {
    console.log("及格");
} else {
    console.log("不及格");
}
```

**❌ 复杂条件用if**
```javascript
// 复杂条件判断
if (age >= 18 && hasLicense && !isDrunk) {
    console.log("可以开车");
} else {
    console.log("不能开车");
}
```

### 4.4 实用技巧


**🔸 使用对象替代简单switch**
```javascript
// 简单的值映射可以用对象
const weekDays = {
    1: "星期一",
    2: "星期二", 
    3: "星期三",
    4: "星期四",
    5: "星期五",
    6: "星期六",
    7: "星期日"
};

console.log(weekDays[3] || "无效日期");
```

---

## 5. 📋 核心要点总结


### 5.1 必须掌握的基本概念


```
🔸 switch语句：多路选择，根据值执行不同代码
🔸 case分支：匹配特定值时执行
🔸 break语句：防止代码"穿透"到下一个case
🔸 default分支：所有case都不匹配时的兜底方案
```

### 5.2 关键理解要点


**🔹 break的重要性**
```
没有break会造成"穿透效应"
代码会继续执行后面的case
这通常不是我们想要的结果
```

**🔹 何时选择switch**
```
多个固定值判断 → 用switch
范围判断 → 用if...else
复杂条件 → 用if...else
简单映射 → 考虑用对象
```

**🔹 实际应用原则**
```
代码清晰度 > 语法选择
能看懂的代码就是好代码
不要为了用switch而用switch
```

### 5.3 实际开发建议


**💡 最佳实践**
- 每个case后面都要加break（除非故意穿透）
- 总是包含default分支
- case超过5个时考虑其他方案
- 注意代码的可读性和维护性

**⚠️ 常见陷阱**
- 忘记写break导致穿透
- case值必须是精确匹配，不能用表达式
- switch只能用===严格相等比较

**核心记忆**：
- switch选路径，case是站点，break是刹车，default是终点
- 多个固定值选择用switch，范围判断用if
- 永远记住加break，除非你确定要穿透