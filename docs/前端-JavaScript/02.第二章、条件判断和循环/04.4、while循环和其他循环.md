---
title: 4、while循环和其他循环
---
## 📚 目录

1. [while循环](#1-while循环)
2. [do...while循环](#2-do-while循环)
3. [for...in循环对象](#3-for-in循环对象)
4. [for...of循环数组](#4-for-of循环数组)
5. [什么时候用哪种循环](#5-什么时候用哪种循环)
6. [核心要点总结](#6-核心要点总结)

---

## 1. 🔄 while循环


### 1.1 基本语法


**🔸 while循环基本结构**
```javascript
while (条件) {
    // 重复执行的代码
}
```

**💡 工作原理**
```
执行流程：
1. 检查条件是否为true
2. 如果为true，执行循环体
3. 执行完毕后回到步骤1
4. 如果为false，跳出循环

条件在前，先判断再执行
```

### 1.2 实际应用示例


**🎯 基础计数**
```javascript
let i = 1;
while (i <= 5) {
    console.log("第" + i + "次");
    i++;  // 别忘了更新条件，否则死循环
}
// 输出：第1次, 第2次, 第3次, 第4次, 第5次
```

**🎯 处理用户输入**
```javascript
let userInput = "";
while (userInput !== "退出") {
    userInput = prompt("请输入内容(输入'退出'结束):");
    if (userInput !== "退出") {
        console.log("你输入了：" + userInput);
    }
}
```

### 1.3 注意事项


**⚠️ 避免死循环**
```javascript
// ❌ 错误示例 - 死循环
let i = 1;
while (i <= 5) {
    console.log(i);
    // 忘记写 i++ 导致死循环
}

// ✅ 正确示例
let i = 1;
while (i <= 5) {
    console.log(i);
    i++;  // 确保条件会改变
}
```

---

## 2. 🔁 do...while循环


### 2.1 基本语法


**🔸 do...while循环基本结构**
```javascript
do {
    // 重复执行的代码
} while (条件);
```

### 2.2 与while的区别


**📊 执行次数对比**
```javascript
// while循环：条件为false时，一次都不执行
let i = 10;
while (i < 5) {
    console.log("while: " + i);  // 不会执行
}

// do...while循环：至少执行一次
let j = 10;
do {
    console.log("do...while: " + j);  // 会执行一次
} while (j < 5);
```

### 2.3 实际应用场景


**🎯 用户输入验证**
```javascript
let password;
do {
    password = prompt("请输入密码(至少6位):");
} while (password.length < 6);

console.log("密码设置成功！");
```

**🎯 游戏继续判断**
```javascript
let playAgain;
do {
    // 游戏逻辑
    console.log("游戏结束！");
    playAgain = confirm("是否继续游戏？");
} while (playAgain);
```

---

## 3. 🔑 for...in循环对象


### 3.1 基本语法


**🔸 for...in循环基本结构**
```javascript
for (let 键名 in 对象) {
    // 处理每个属性
}
```

### 3.2 遍历对象属性


**🎯 基础对象遍历**
```javascript
let person = {
    name: "张三",
    age: 25,
    city: "北京"
};

for (let key in person) {
    console.log(key + ": " + person[key]);
}
// 输出：
// name: 张三
// age: 25
// city: 北京
```

**🎯 实际应用 - 表单数据处理**
```javascript
let formData = {
    username: "user123",
    email: "user@example.com",
    phone: "13888888888"
};

// 验证表单数据
for (let field in formData) {
    if (formData[field] === "") {
        console.log(field + "不能为空");
    }
}
```

### 3.3 注意事项


**⚠️ for...in的特点**
```javascript
let arr = ["a", "b", "c"];

// for...in遍历数组会得到索引(字符串形式)
for (let index in arr) {
    console.log(typeof index);  // "string"
    console.log(index + ": " + arr[index]);
}
// 输出：0: a, 1: b, 2: c

// 不推荐用for...in遍历数组！
```

---

## 4. 📋 for...of循环数组


### 4.1 基本语法


**🔸 for...of循环基本结构**
```javascript
for (let 元素 of 数组) {
    // 处理每个元素
}
```

### 4.2 遍历数组元素


**🎯 基础数组遍历**
```javascript
let fruits = ["苹果", "香蕉", "橙子"];

for (let fruit of fruits) {
    console.log("我喜欢" + fruit);
}
// 输出：
// 我喜欢苹果
// 我喜欢香蕉
// 我喜欢橙子
```

**🎯 处理数字数组**
```javascript
let numbers = [1, 2, 3, 4, 5];
let sum = 0;

for (let num of numbers) {
    sum += num;
}

console.log("总和：" + sum);  // 总和：15
```

### 4.3 获取索引和值


**🎯 需要索引时的写法**
```javascript
let colors = ["红", "绿", "蓝"];

// 方法1：使用entries()
for (let [index, color] of colors.entries()) {
    console.log(index + ": " + color);
}

// 方法2：传统for循环更简单
for (let i = 0; i < colors.length; i++) {
    console.log(i + ": " + colors[i]);
}
```

### 4.4 遍历字符串


**🎯 字符串也可以用for...of**
```javascript
let text = "Hello";

for (let char of text) {
    console.log(char);
}
// 输出：H, e, l, l, o
```

---

## 5. 🎯 什么时候用哪种循环


### 5.1 循环选择指南


**📊 循环类型对比表**

| 循环类型 | **适用场景** | **优势** | **典型用法** |
|---------|-------------|---------|-------------|
| **for** | `已知循环次数` | `简洁，计数方便` | `for(let i=0; i<10; i++)` |
| **while** | `不确定循环次数` | `条件灵活` | `while(condition)` |
| **do...while** | `至少执行一次` | `保证执行` | `用户输入验证` |
| **for...in** | `遍历对象属性` | `获取键名` | `遍历对象` |
| **for...of** | `遍历数组元素` | `直接获取值` | `遍历数组` |

### 5.2 实际选择建议


**🔸 数组遍历首选**
```javascript
let arr = [1, 2, 3, 4, 5];

// ✅ 推荐：for...of (简洁直接)
for (let item of arr) {
    console.log(item);
}

// ✅ 需要索引时：传统for循环
for (let i = 0; i < arr.length; i++) {
    console.log(i, arr[i]);
}

// ❌ 不推荐：for...in遍历数组
```

**🔸 对象遍历**
```javascript
let obj = {name: "张三", age: 25};

// ✅ 推荐：for...in
for (let key in obj) {
    console.log(key, obj[key]);
}

// ✅ 现代方法：Object.entries()
for (let [key, value] of Object.entries(obj)) {
    console.log(key, value);
}
```

**🔸 条件循环**
```javascript
// ✅ 不确定次数：while
while (condition) {
    // 处理逻辑
}

// ✅ 至少一次：do...while
do {
    // 处理逻辑
} while (condition);
```

### 5.3 性能考虑


**⚡ 性能对比**
```javascript
let arr = new Array(1000000).fill(1);

// 性能排序（从快到慢）：
// 1. 传统for循环
for (let i = 0; i < arr.length; i++) { }

// 2. for...of循环  
for (let item of arr) { }

// 3. forEach方法
arr.forEach(item => { });

// 对于大数据量，传统for循环最快
```

---

## 6. 📋 核心要点总结


### 6.1 必须掌握的基本概念


```
🔸 while循环：先判断后执行，条件在前
🔸 do...while循环：先执行后判断，至少执行一次
🔸 for...in循环：遍历对象属性，得到键名
🔸 for...of循环：遍历数组元素，直接得到值
🔸 循环选择：根据具体场景选择合适的循环
```

### 6.2 关键理解要点


**🔹 while vs do...while**
```
while：可能一次都不执行
do...while：至少执行一次
选择依据：是否需要保证至少执行一次
```

**🔹 for...in vs for...of**
```
for...in：
- 遍历对象 → 得到属性名
- 遍历数组 → 得到索引(字符串)

for...of：
- 遍历数组 → 直接得到元素值
- 不能遍历普通对象
```

**🔹 循环控制**
```
break：跳出循环
continue：跳过本次，继续下次
return：在函数中直接退出函数
```

### 6.3 实际应用价值


- **数据处理**：遍历数组进行计算、过滤、转换
- **用户交互**：处理表单验证、游戏循环
- **对象操作**：动态处理对象属性
- **条件控制**：处理不确定次数的重复逻辑

### 6.4 常见错误避免


```javascript
// ❌ 忘记更新循环条件
let i = 0;
while (i < 5) {
    console.log(i);
    // 忘记写 i++，造成死循环
}

// ❌ 用for...in遍历数组
for (let i in [1,2,3]) {
    console.log(typeof i);  // "string"，不是数字
}

// ✅ 正确的循环写法
let i = 0;
while (i < 5) {
    console.log(i);
    i++;  // 记得更新条件
}

// ✅ 数组用for...of
for (let item of [1,2,3]) {
    console.log(item);  // 直接得到数字
}
```

**核心记忆**：
- while看条件，do...while保证执行
- for...in取键名，for...of取值
- 数组用for...of，对象用for...in
- 别忘更新条件，避免死循环