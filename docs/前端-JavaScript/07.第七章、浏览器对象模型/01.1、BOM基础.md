---
title: 1、BOM基础
---
## 📚 目录

1. [BOM概念理解](#1-BOM概念理解)
2. [DOM基础操作](#2-DOM基础操作)
3. [window对象核心](#3-window对象核心)
4. [navigator浏览器信息](#4-navigator浏览器信息)
5. [location地址操作](#5-location地址操作)
6. [history历史记录](#6-history历史记录)
7. [screen屏幕信息](#7-screen屏幕信息)
8. [核心要点总结](#8-核心要点总结)

---

## 1. 🌐 BOM概念理解


### 1.1 什么是BOM


**🔸 核心定义**
```
BOM = Browser Object Model（浏览器对象模型）
作用：让JavaScript能够与浏览器进行交互
通俗理解：就是JS操作浏览器窗口、地址栏、历史记录等功能的接口
```

**💡 BOM vs DOM的区别**
```
DOM：操作网页内容（HTML元素）
┌─────────────────┐
│   <div>内容</div> │ ← DOM管理这些
│   <p>段落</p>     │
└─────────────────┘

BOM：操作浏览器功能
┌─────────────────┐ ← 地址栏
│ 浏览器窗口       │ ← 窗口大小
│                 │ ← 历史记录
│   网页内容区域   │ ← 前进后退
└─────────────────┘ ← 状态栏
```

### 1.2 BOM对象层次结构


```
window (顶级对象)
├── document (DOM文档)
├── navigator (浏览器信息)
├── location (地址信息)
├── history (历史记录)
├── screen (屏幕信息)
└── 其他对象...
```

---

## 2. 📄 DOM基础操作


### 2.1 DOM概念理解


**🔸 核心定义**
```
DOM = Document Object Model（文档对象模型）
作用：让JavaScript能够操作HTML文档内容
通俗理解：把HTML页面变成可以用JS控制的对象
```

**💡 DOM vs BOM的关系**
```
BOM包含DOM，它们是包含关系：

Browser（浏览器）
├── 窗口控制（BOM）
│   ├── 地址栏、历史记录等
│   └── document（DOM）
│       └── HTML文档内容
└── 其他浏览器功能
```

### 2.2 DOM树结构


**🌳 HTML文档的树形结构**
```html
<!DOCTYPE html>
<html>
  <head>
    <title>页面标题</title>
  </head>
  <body>
    <div id="container">
      <p class="text">段落内容</p>
      <button>点击按钮</button>
    </div>
  </body>
</html>
```

**树状结构表示**
```
document
└── html
    ├── head
    │   └── title
    │       └── "页面标题"
    └── body
        └── div#container
            ├── p.text
            │   └── "段落内容"
            └── button
                └── "点击按钮"
```

### 2.3 常用DOM操作


**🎯 核心操作方法**
```javascript
// 1. 获取元素
const elem1 = document.getElementById('container');
const elem2 = document.querySelector('.text');
const elem3 = document.querySelectorAll('button');

// 2. 修改内容
elem2.textContent = '新的段落内容';
elem2.innerHTML = '<strong>加粗的内容</strong>';

// 3. 修改样式
elem1.style.backgroundColor = 'lightblue';
elem1.style.padding = '20px';

// 4. 修改属性
const btn = document.querySelector('button');
btn.setAttribute('disabled', 'true');
btn.className = 'btn-primary';

// 5. 事件绑定
btn.addEventListener('click', function() {
    alert('按钮被点击了！');
});
```

### 2.4 DOM与BOM的协作


**🤝 实际应用示例**
```javascript
// BOM获取信息，DOM更新页面
function updatePageInfo() {
    // 使用BOM获取浏览器信息
    const browserInfo = {
        url: location.href,
        width: window.innerWidth,
        browser: navigator.userAgent.includes('Chrome') ? 'Chrome' : '其他'
    };
    
    // 使用DOM更新页面显示
    document.getElementById('url').textContent = browserInfo.url;
    document.getElementById('size').textContent = 
        `窗口大小：${browserInfo.width}px`;
    document.getElementById('browser').textContent = 
        `浏览器：${browserInfo.browser}`;
}

// 监听窗口变化（BOM事件）
window.addEventListener('resize', updatePageInfo);

// 页面加载完成后执行
document.addEventListener('DOMContentLoaded', updatePageInfo);
```

---

## 3. 🎯 window对象核心


### 2.1 window对象概念


**🔸 核心理解**
```
window = 浏览器窗口对象，BOM的顶级对象
特点：
• 所有全局变量和函数都是window的属性和方法
• 可以省略window前缀直接调用
• 代表当前浏览器窗口
```

### 2.2 窗口尺寸获取


**📏 常用尺寸属性**
```javascript
// 获取浏览器窗口内部宽高（不包括工具栏）
console.log('窗口宽度：', window.innerWidth);
console.log('窗口高度：', window.innerHeight);

// 获取屏幕宽高
console.log('屏幕宽度：', window.outerWidth);
console.log('屏幕高度：', window.outerHeight);
```

**💡 实际应用场景**
```javascript
// 响应式判断
if (window.innerWidth < 768) {
    console.log('当前是移动设备');
} else {
    console.log('当前是桌面设备');
}

// 动态调整布局
window.addEventListener('resize', function() {
    console.log('窗口大小改变了');
    // 重新计算布局
});
```

### 2.3 窗口控制方法


**🔧 常用窗口操作**
```javascript
// 打开新窗口
window.open('https://www.baidu.com', '_blank');

// 关闭当前窗口
window.close();

// 弹出对话框
alert('提示信息');                    // 警告框
let result = confirm('确定删除吗？');  // 确认框
let name = prompt('请输入姓名：');     // 输入框

console.log(result); // true或false
console.log(name);   // 用户输入的内容
```

---

## 4. 🧭 navigator浏览器信息


### 3.1 navigator对象作用


**🔸 核心概念**
```
navigator = 浏览器导航器对象
作用：获取浏览器相关信息
常用场景：判断浏览器类型、检测设备类型、获取语言设置
```

### 3.2 重要属性获取


**📱 常用信息检测**
```javascript
// 获取浏览器信息
console.log('浏览器名称：', navigator.appName);
console.log('浏览器版本：', navigator.appVersion);
console.log('用户代理：', navigator.userAgent);

// 获取语言设置
console.log('浏览器语言：', navigator.language);

// 检测是否在线
console.log('网络状态：', navigator.onLine ? '在线' : '离线');
```

### 3.3 实用检测代码


**💻 设备和浏览器判断**
```javascript
// 简单的移动设备检测
function isMobile() {
    return /Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i
           .test(navigator.userAgent);
}

// 浏览器类型检测
function getBrowser() {
    const ua = navigator.userAgent;
    if (ua.includes('Chrome')) return 'Chrome';
    if (ua.includes('Firefox')) return 'Firefox';
    if (ua.includes('Safari')) return 'Safari';
    return '其他浏览器';
}

console.log('是否移动设备：', isMobile());
console.log('浏览器类型：', getBrowser());
```

---

## 5. 📍 location地址操作


### 4.1 location对象理解


**🔸 核心概念**
```
location = 地址栏对象
作用：获取和修改当前页面URL
包含：协议、域名、端口、路径、查询参数等信息
```

**🌐 URL结构解析**
```
https://www.example.com:8080/page?name=张三&age=25#section1
  ↓       ↓              ↓     ↓              ↓
protocol hostname      port  pathname      search  hash
```

### 4.2 常用属性获取


**📋 地址信息获取**
```javascript
// 当前页面完整URL
console.log('完整地址：', location.href);

// URL各部分信息
console.log('协议：', location.protocol);    // https:
console.log('主机：', location.hostname);    // www.example.com
console.log('端口：', location.port);        // 8080
console.log('路径：', location.pathname);    // /page
console.log('参数：', location.search);      // ?name=张三&age=25
console.log('锚点：', location.hash);        // #section1
```

### 4.3 页面跳转和刷新


**🔄 实用操作方法**
```javascript
// 页面跳转
location.href = 'https://www.baidu.com';     // 跳转到新页面
location.assign('https://www.baidu.com');    // 同上，可后退

// 页面替换（不能后退）
location.replace('https://www.baidu.com');

// 页面刷新
location.reload();           // 刷新页面
location.reload(true);       // 强制刷新（忽略缓存）
```

### 4.4 URL参数处理


**🔍 查询参数操作**
```javascript
// 获取URL参数的实用函数
function getUrlParam(name) {
    const params = new URLSearchParams(location.search);
    return params.get(name);
}

// 使用示例
// 假设URL是：https://example.com?name=张三&age=25
console.log(getUrlParam('name')); // "张三"
console.log(getUrlParam('age'));  // "25"

// 修改URL参数（不刷新页面）
function setUrlParam(name, value) {
    const url = new URL(location.href);
    url.searchParams.set(name, value);
    history.pushState({}, '', url);
}

setUrlParam('page', '2'); // URL变为：...?name=张三&age=25&page=2
```

---

## 6. 📚 history历史记录


### 5.1 history对象作用


**🔸 核心概念**
```
history = 浏览器历史记录对象
作用：控制浏览器的前进、后退、历史记录
应用：单页应用(SPA)的路由控制
```

### 5.2 基本操作方法


**⏮️ 历史记录导航**
```javascript
// 后退和前进
history.back();       // 后退一页（相当于点击后退按钮）
history.forward();    // 前进一页（相当于点击前进按钮）
history.go(-1);       // 后退一页
history.go(1);        // 前进一页
history.go(-2);       // 后退两页

// 获取历史记录数量
console.log('历史记录数：', history.length);
```

### 5.3 现代路由控制


**🛤️ 单页应用路由**
```javascript
// 添加新的历史记录（改变URL但不刷新页面）
history.pushState({page: 'home'}, '首页', '/home');

// 替换当前历史记录
history.replaceState({page: 'about'}, '关于', '/about');

// 监听用户点击前进后退
window.addEventListener('popstate', function(event) {
    console.log('用户点击了前进或后退');
    console.log('状态数据：', event.state);
    // 根据URL变化更新页面内容
});
```

**💡 实际应用示例**
```javascript
// 简单的路由切换函数
function navigateTo(path, title) {
    // 更新历史记录
    history.pushState({path: path}, title, path);
    
    // 更新页面标题
    document.title = title;
    
    // 更新页面内容（这里简化处理）
    updatePageContent(path);
}

// 使用示例
navigateTo('/products', '产品页面');
navigateTo('/contact', '联系我们');
```

---

## 7. 🖥️ screen屏幕信息


### 6.1 screen对象概念


**🔸 基本理解**
```
screen = 屏幕对象
作用：获取用户屏幕的物理信息
用途：响应式设计、全屏应用、多屏幕适配
```

### 6.2 屏幕信息获取


**📺 屏幕属性查看**
```javascript
// 屏幕分辨率
console.log('屏幕宽度：', screen.width);        // 1920
console.log('屏幕高度：', screen.height);       // 1080

// 可用屏幕大小（除去任务栏等）
console.log('可用宽度：', screen.availWidth);   // 1920
console.log('可用高度：', screen.availHeight);  // 1040

// 颜色深度
console.log('颜色深度：', screen.colorDepth);   // 24
```

### 6.3 实际应用场景


**💻 响应式判断**
```javascript
// 根据屏幕大小调整策略
function getScreenType() {
    const width = screen.width;
    
    if (width >= 1920) {
        return '大屏幕';
    } else if (width >= 1366) {
        return '标准屏幕';
    } else if (width >= 768) {
        return '平板屏幕';
    } else {
        return '手机屏幕';
    }
}

console.log('屏幕类型：', getScreenType());

// 检测是否支持全屏
if (screen.width === window.outerWidth && 
    screen.height === window.outerHeight) {
    console.log('当前是全屏状态');
}
```

---

## 8. 📋 核心要点总结


### 7.1 必须掌握的核心概念


```
🔸 BOM概念：浏览器对象模型，操作浏览器功能的接口
🔸 DOM概念：文档对象模型，操作HTML文档内容的接口
🔸 window对象：顶级对象，控制窗口和全局功能
🔸 navigator：获取浏览器和设备信息
🔸 location：操作地址栏，实现跳转和参数处理
🔸 history：控制历史记录，实现路由功能
🔸 screen：获取屏幕信息，支持响应式设计
```

### 7.2 关键应用场景


**🎯 实际开发中的用途**

| **对象** | **主要用途** | **典型场景** |
|----------|-------------|-------------|
| `DOM` | 文档操作 | 修改内容、样式、事件绑定 |
| `window` | 窗口控制 | 弹窗提示、响应式判断、定时器 |
| `navigator` | 设备检测 | 移动端适配、浏览器兼容 |
| `location` | 地址操作 | 页面跳转、参数传递、刷新 |
| `history` | 路由控制 | 单页应用、无刷新切换 |
| `screen` | 屏幕信息 | 多屏适配、全屏应用 |

### 7.3 最佳实践建议


**✅ 推荐做法**
```javascript
// 1. 安全的设备检测
const isMobile = /Mobi|Android/i.test(navigator.userAgent);

// 2. 优雅的页面跳转
function safejump(url) {
    if (url.startsWith('http')) {
        location.href = url;
    } else {
        console.error('不安全的URL');
    }
}

// 3. 智能的参数获取
function getParam(name, defaultValue = null) {
    const params = new URLSearchParams(location.search);
    return params.get(name) || defaultValue;
}
```

**❌ 避免的问题**
- 不要过度依赖`navigator.userAgent`做复杂判断
- 避免频繁使用`location.reload()`刷新页面
- 不要在`history.pushState`后忘记处理`popstate`事件

### 7.4 记忆要点


**🧠 核心记忆**
- **DOM**：文档医生，治疗页面
- **window**：窗口老大，控制一切
- **navigator**：浏览器侦探，查看信息
- **location**：地址管家，负责跳转
- **history**：历史学家，记录轨迹
- **screen**：屏幕管家，提供尺寸

**实用口诀**：
```
BOM操作浏览器，DOM修改页面内容
window窗口是老大，navigator查看浏览器
location管理地址栏，history控制前后退
screen获取屏幕信息，开发必备要熟练
```