---
title: 4ã€å…¶ä»–è·¨åŸŸè§£å†³æ–¹æ¡ˆ
---
## ğŸ“š ç›®å½•

1. [è·¨åŸŸé—®é¢˜å›é¡¾](#1-è·¨åŸŸé—®é¢˜å›é¡¶)
2. [ä»£ç†æœåŠ¡å™¨æ–¹æ¡ˆ](#2-ä»£ç†æœåŠ¡å™¨æ–¹æ¡ˆ)
3. [postMessageè·¨çª—å£é€šä¿¡](#3-postMessageè·¨çª—å£é€šä¿¡)
4. [iframeé…åˆpostMessage](#4-iframeé…åˆpostMessage)
5. [WebSocketè·¨åŸŸé€šä¿¡](#5-WebSocketè·¨åŸŸé€šä¿¡)
6. [å¼€å‘ç¯å¢ƒä»£ç†é…ç½®](#6-å¼€å‘ç¯å¢ƒä»£ç†é…ç½®)
7. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#7-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ”’ è·¨åŸŸé—®é¢˜å›é¡¾


### 1.1 ä»€ä¹ˆæ˜¯è·¨åŸŸ

**é€šä¿—ç†è§£**ï¼šæµè§ˆå™¨ä¸å…è®¸ç½‘é¡µå»è®¿é—®å…¶ä»–"åœ°å€"çš„èµ„æºï¼Œè¿™å°±æ˜¯è·¨åŸŸé™åˆ¶ã€‚

```
æƒ³è±¡ä¸€ä¸‹ï¼š
ä½ ä½åœ¨Aå°åŒºï¼Œæƒ³å»Bå°åŒºå€Ÿä¸œè¥¿
ä½†æ˜¯å°åŒºä¿å®‰ä¸è®©ä½ å‡ºå»ï¼Œè¯´"ä¸ºäº†å®‰å…¨ï¼Œä¸èƒ½éšä¾¿ä¸²é—¨"
è¿™å°±æ˜¯æµè§ˆå™¨çš„åŒæºç­–ç•¥ - ä¸ºäº†å®‰å…¨è€Œè®¾ç½®çš„é™åˆ¶
```

**ä»€ä¹ˆæƒ…å†µç®—è·¨åŸŸ**ï¼š
```
å½“å‰ç½‘é¡µï¼šhttp://localhost:3000/index.html

âœ… åŒæºï¼ˆå…è®¸ï¼‰ï¼š
http://localhost:3000/api/data    â† åŒåè®®ã€åŒåŸŸåã€åŒç«¯å£

âŒ è·¨åŸŸï¼ˆç¦æ­¢ï¼‰ï¼š
https://localhost:3000/api/data   â† åè®®ä¸åŒ (http vs https)
http://127.0.0.1:3000/api/data    â† åŸŸåä¸åŒ (localhost vs 127.0.0.1)
http://localhost:8080/api/data    â† ç«¯å£ä¸åŒ (3000 vs 8080)
```

### 1.2 ä¸ºä»€ä¹ˆéœ€è¦è·¨åŸŸè§£å†³æ–¹æ¡ˆ

**å®é™…å¼€å‘åœºæ™¯**ï¼š
- ğŸŒ **å‰åç«¯åˆ†ç¦»**ï¼šå‰ç«¯åœ¨3000ç«¯å£ï¼Œåç«¯åœ¨8080ç«¯å£
- ğŸ”— **è°ƒç”¨ç¬¬ä¸‰æ–¹API**ï¼šéœ€è¦è®¿é—®å…¶ä»–å…¬å¸çš„æ¥å£
- ğŸ“± **å¾®æœåŠ¡æ¶æ„**ï¼šä¸åŒæœåŠ¡éƒ¨ç½²åœ¨ä¸åŒåœ°å€
- ğŸŒ **CDNèµ„æº**ï¼šå›¾ç‰‡ã€å­—ä½“ç­‰èµ„æºåœ¨ä¸åŒåŸŸå

---

## 2. ğŸŒ ä»£ç†æœåŠ¡å™¨æ–¹æ¡ˆ


### 2.1 ä»£ç†æœåŠ¡å™¨åŸç†

**ç®€å•ç†è§£**ï¼šè®©æœåŠ¡å™¨å»å¸®æˆ‘ä»¬è¦æ•°æ®ï¼Œå› ä¸ºæœåŠ¡å™¨ä¹‹é—´æ²¡æœ‰è·¨åŸŸé™åˆ¶ã€‚

```
ä¼ ç»Ÿæ–¹å¼ï¼ˆä¼šè·¨åŸŸï¼‰ï¼š
æµè§ˆå™¨ â†’ ç›´æ¥è¯·æ±‚ç›®æ ‡æœåŠ¡å™¨ â† âŒè¢«æµè§ˆå™¨é˜»æ­¢

ä»£ç†æ–¹å¼ï¼ˆä¸è·¨åŸŸï¼‰ï¼š
æµè§ˆå™¨ â†’ ä»£ç†æœåŠ¡å™¨ â†’ ç›®æ ‡æœåŠ¡å™¨
    â†‘åŒæºè®¿é—®      â†‘æœåŠ¡å™¨é—´é€šä¿¡ï¼ˆæ— é™åˆ¶ï¼‰
```

**ä¸ºä»€ä¹ˆæœåŠ¡å™¨å¯ä»¥éšä¾¿è®¿é—®**ï¼š
- æµè§ˆå™¨çš„åŒæºç­–ç•¥åªé™åˆ¶æµè§ˆå™¨
- æœåŠ¡å™¨ä¹‹é—´é€šä¿¡æ²¡æœ‰è¿™ä¸ªé™åˆ¶
- å°±åƒ"ä¸­ä»‹"å¸®ä½ åŠäº‹ä¸€æ ·

### 2.2 Nginxä»£ç†é…ç½®

**ä»€ä¹ˆæ˜¯Nginx**ï¼šä¸€ä¸ªå¼ºå¤§çš„webæœåŠ¡å™¨ï¼Œå¯ä»¥å½“"ä¸­è½¬ç«™"ä½¿ç”¨ã€‚

```nginx
# nginx.conf é…ç½®æ–‡ä»¶
server {
    listen 80;
    server_name localhost;
    
    # å‰ç«¯é¡µé¢
    location / {
        root /usr/share/nginx/html;
        index index.html;
    }
    
    # APIä»£ç† - å…³é”®é…ç½®
    location /api/ {
        proxy_pass http://backend-server:8080/;  # è½¬å‘åˆ°åç«¯
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
}
```

**å·¥ä½œæµç¨‹**ï¼š
```
1. æµè§ˆå™¨è¯·æ±‚ï¼šhttp://localhost/api/users
2. Nginxæ¥æ”¶è¯·æ±‚ï¼Œå‘ç°æ˜¯ /api/ å¼€å¤´
3. Nginxè½¬å‘ç»™ï¼šhttp://backend-server:8080/users
4. åç«¯å¤„ç†åè¿”å›æ•°æ®ç»™Nginx
5. Nginxå†è¿”å›ç»™æµè§ˆå™¨
```

### 2.3 Node.jsä»£ç†æœåŠ¡å™¨

**ç®€å•çš„Expressä»£ç†**ï¼š

```javascript
const express = require('express');
const { createProxyMiddleware } = require('http-proxy-middleware');

const app = express();

// é™æ€æ–‡ä»¶æœåŠ¡
app.use(express.static('public'));

// APIä»£ç†ä¸­é—´ä»¶
app.use('/api', createProxyMiddleware({
    target: 'http://localhost:8080',  // ç›®æ ‡æœåŠ¡å™¨
    changeOrigin: true,               // æ”¹å˜è¯·æ±‚æ¥æº
    pathRewrite: {
        '^/api': ''  // å»æ‰/apiå‰ç¼€
    }
}));

app.listen(3000, () => {
    console.log('ä»£ç†æœåŠ¡å™¨è¿è¡Œåœ¨ http://localhost:3000');
});
```

**ä½¿ç”¨æ•ˆæœ**ï¼š
```javascript
// å‰ç«¯ä»£ç  - çœ‹èµ·æ¥åƒåŒæºè¯·æ±‚
fetch('/api/users')  // å®é™…ä¼šè¢«ä»£ç†åˆ° http://localhost:8080/users
    .then(res => res.json())
    .then(data => console.log(data));
```

---

## 3. ğŸ’¬ postMessageè·¨çª—å£é€šä¿¡


### 3.1 ä»€ä¹ˆæ˜¯postMessage

**é€šä¿—ç†è§£**ï¼šä¸åŒç½‘é¡µä¹‹é—´çš„"ä¼ çº¸æ¡"åŠŸèƒ½ï¼Œå¯ä»¥å®‰å…¨åœ°ä¼ é€’æ¶ˆæ¯ã€‚

```
åœºæ™¯ä¸¾ä¾‹ï¼š
ä¸»é¡µé¢ï¼šhttp://localhost:3000/main.html
å¼¹çª—é¡µé¢ï¼šhttp://api.example.com/login.html

è™½ç„¶æ˜¯ä¸åŒåŸŸåï¼Œä½†å¯ä»¥é€šè¿‡postMessageäº’ç›¸å‘æ¶ˆæ¯
```

### 3.2 åŸºæœ¬ç”¨æ³•

**å‘é€æ¶ˆæ¯çš„é¡µé¢**ï¼š
```javascript
// ä¸»é¡µé¢ (http://localhost:3000)
function sendMessage() {
    const iframe = document.getElementById('cross-domain-iframe');
    const message = {
        type: 'getUserInfo',
        data: { userId: 123 }
    };
    
    // å‘é€æ¶ˆæ¯ç»™iframeé¡µé¢
    iframe.contentWindow.postMessage(message, 'http://api.example.com');
}
```

**æ¥æ”¶æ¶ˆæ¯çš„é¡µé¢**ï¼š
```javascript
// iframeé¡µé¢ (http://api.example.com)
window.addEventListener('message', function(event) {
    // å®‰å…¨æ£€æŸ¥ - ç¡®è®¤æ¶ˆæ¯æ¥æº
    if (event.origin !== 'http://localhost:3000') {
        return;
    }
    
    console.log('æ”¶åˆ°æ¶ˆæ¯ï¼š', event.data);
    
    // å¤„ç†æ¶ˆæ¯
    if (event.data.type === 'getUserInfo') {
        const response = { 
            type: 'userInfoResponse',
            data: { name: 'å¼ ä¸‰', age: 25 }
        };
        
        // å›å¤æ¶ˆæ¯
        event.source.postMessage(response, event.origin);
    }
});
```

### 3.3 å®‰å…¨æ³¨æ„äº‹é¡¹

**å¿…é¡»éªŒè¯æ¶ˆæ¯æ¥æº**ï¼š
```javascript
window.addEventListener('message', function(event) {
    // âŒ å±é™© - ä¸éªŒè¯æ¥æº
    // console.log(event.data);
    
    // âœ… å®‰å…¨ - éªŒè¯æ¥æº
    if (event.origin === 'https://trusted-site.com') {
        console.log(event.data);
    }
});
```

---

## 4. ğŸ–¼ï¸ iframeé…åˆpostMessage


### 4.1 iframeè·¨åŸŸæ–¹æ¡ˆåŸç†

**åº”ç”¨åœºæ™¯**ï¼šåœ¨ä½ çš„ç½‘ç«™ä¸­åµŒå…¥å…¶ä»–ç½‘ç«™çš„åŠŸèƒ½ï¼Œæ¯”å¦‚ç¬¬ä¸‰æ–¹ç™»å½•ã€æ”¯ä»˜é¡µé¢ç­‰ã€‚

```
ä¸»é¡µé¢ç»“æ„ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ä¸»ç½‘ç«™ (localhost:3000)      â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ iframe                  â”‚ â”‚
â”‚ â”‚ (pay.example.com)       â”‚ â”‚
â”‚ â”‚ ç¬¬ä¸‰æ–¹æ”¯ä»˜é¡µé¢           â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 å®Œæ•´å®ç°ç¤ºä¾‹

**ä¸»é¡µé¢ä»£ç **ï¼š
```html
<!-- main.html (http://localhost:3000) -->
<!DOCTYPE html>
<html>
<head>
    <title>ä¸»é¡µé¢</title>
</head>
<body>
    <h1>åœ¨çº¿å•†åŸ</h1>
    <button onclick="startPayment()">ç«‹å³æ”¯ä»˜</button>
    
    <!-- ç¬¬ä¸‰æ–¹æ”¯ä»˜iframe -->
    <iframe 
        id="payment-iframe" 
        src="http://pay.example.com/checkout.html"
        style="width: 100%; height: 400px; border: 1px solid #ccc;">
    </iframe>

    <script>
        function startPayment() {
            const iframe = document.getElementById('payment-iframe');
            const paymentInfo = {
                type: 'startPayment',
                data: {
                    amount: 99.99,
                    orderId: 'ORDER123'
                }
            };
            
            iframe.contentWindow.postMessage(paymentInfo, 'http://pay.example.com');
        }
        
        // ç›‘å¬æ”¯ä»˜ç»“æœ
        window.addEventListener('message', function(event) {
            if (event.origin !== 'http://pay.example.com') return;
            
            if (event.data.type === 'paymentSuccess') {
                alert('æ”¯ä»˜æˆåŠŸï¼è®¢å•å·ï¼š' + event.data.orderId);
            }
        });
    </script>
</body>
</html>
```

**iframeé¡µé¢ä»£ç **ï¼š
```html
<!-- checkout.html (http://pay.example.com) -->
<!DOCTYPE html>
<html>
<head>
    <title>æ”¯ä»˜é¡µé¢</title>
</head>
<body>
    <h2>å®‰å…¨æ”¯ä»˜</h2>
    <div id="payment-form">
        <p>è®¢å•é‡‘é¢ï¼š<span id="amount">--</span></p>
        <button onclick="confirmPayment()">ç¡®è®¤æ”¯ä»˜</button>
    </div>

    <script>
        let currentOrder = null;
        
        // æ¥æ”¶æ”¯ä»˜è¯·æ±‚
        window.addEventListener('message', function(event) {
            if (event.origin !== 'http://localhost:3000') return;
            
            if (event.data.type === 'startPayment') {
                currentOrder = event.data.data;
                document.getElementById('amount').textContent = 'Â¥' + currentOrder.amount;
            }
        });
        
        function confirmPayment() {
            // æ¨¡æ‹Ÿæ”¯ä»˜å¤„ç†
            setTimeout(() => {
                const result = {
                    type: 'paymentSuccess',
                    orderId: currentOrder.orderId
                };
                
                // é€šçŸ¥ä¸»é¡µé¢æ”¯ä»˜æˆåŠŸ
                window.parent.postMessage(result, 'http://localhost:3000');
            }, 1000);
        }
    </script>
</body>
</html>
```

---

## 5. ğŸ”Œ WebSocketè·¨åŸŸé€šä¿¡


### 5.1 WebSocketè·¨åŸŸç‰¹ç‚¹

**WebSocketçš„ä¼˜åŠ¿**ï¼šWebSocketè¿æ¥å»ºç«‹åï¼Œå°±æ²¡æœ‰è·¨åŸŸé™åˆ¶äº†ï¼

**ä¸ºä»€ä¹ˆWebSocketå¯ä»¥è·¨åŸŸ**ï¼š
- WebSocketæ˜¯ç‹¬ç«‹çš„åè®®ï¼ˆws://ã€wss://ï¼‰
- ä¸å—æµè§ˆå™¨åŒæºç­–ç•¥é™åˆ¶
- ä½†å»ºç«‹è¿æ¥æ—¶éœ€è¦æœåŠ¡å™¨é…åˆ

### 5.2 WebSocketè·¨åŸŸå®ç°

**å‰ç«¯ä»£ç **ï¼š
```javascript
// è¿æ¥ä¸åŒåŸŸåçš„WebSocketæœåŠ¡å™¨
const ws = new WebSocket('ws://api.example.com:8080/chat');

ws.onopen = function() {
    console.log('WebSocketè¿æ¥æˆåŠŸ');
    
    // å‘é€æ¶ˆæ¯
    ws.send(JSON.stringify({
        type: 'join',
        user: 'user123'
    }));
};

ws.onmessage = function(event) {
    const message = JSON.parse(event.data);
    console.log('æ”¶åˆ°æ¶ˆæ¯ï¼š', message);
};

ws.onerror = function(error) {
    console.log('è¿æ¥é”™è¯¯ï¼š', error);
};
```

**æœåŠ¡å™¨ç«¯ï¼ˆNode.jsï¼‰**ï¼š
```javascript
const WebSocket = require('ws');

const wss = new WebSocket.Server({ 
    port: 8080,
    // å…è®¸è·¨åŸŸè¿æ¥
    verifyClient: (info) => {
        // å¯ä»¥åœ¨è¿™é‡ŒéªŒè¯æ¥æºåŸŸå
        const origin = info.origin;
        return true; // å…è®¸æ‰€æœ‰æ¥æºï¼Œå®é™…é¡¹ç›®ä¸­è¦åšé™åˆ¶
    }
});

wss.on('connection', function(ws, request) {
    console.log('æ–°çš„WebSocketè¿æ¥');
    
    ws.on('message', function(data) {
        const message = JSON.parse(data);
        console.log('æ”¶åˆ°æ¶ˆæ¯ï¼š', message);
        
        // å¹¿æ’­ç»™æ‰€æœ‰å®¢æˆ·ç«¯
        wss.clients.forEach(client => {
            if (client.readyState === WebSocket.OPEN) {
                client.send(JSON.stringify({
                    type: 'broadcast',
                    data: message
                }));
            }
        });
    });
});
```

---

## 6. âš™ï¸ å¼€å‘ç¯å¢ƒä»£ç†é…ç½®


### 6.1 Webpack DevServerä»£ç†

**ä»€ä¹ˆæ˜¯webpack-dev-server**ï¼šå¼€å‘æ—¶ç”¨çš„æœ¬åœ°æœåŠ¡å™¨ï¼Œè‡ªå¸¦ä»£ç†åŠŸèƒ½ã€‚

**webpack.config.jsé…ç½®**ï¼š
```javascript
module.exports = {
    // å…¶ä»–é…ç½®...
    
    devServer: {
        port: 3000,
        // ä»£ç†é…ç½® - é‡ç‚¹éƒ¨åˆ†
        proxy: {
            // æ‰€æœ‰ /api å¼€å¤´çš„è¯·æ±‚éƒ½ä»£ç†åˆ°åç«¯
            '/api': {
                target: 'http://localhost:8080',  // åç«¯åœ°å€
                changeOrigin: true,               // æ”¹å˜è¯·æ±‚æ¥æº
                pathRewrite: {
                    '^/api': ''  // å»æ‰ /api å‰ç¼€
                }
            },
            
            // ä»£ç†åˆ°ä¸åŒçš„æœåŠ¡
            '/upload': {
                target: 'http://localhost:9000',
                changeOrigin: true
            }
        }
    }
};
```

**å‰ç«¯ä½¿ç”¨æ–¹å¼**ï¼š
```javascript
// å¼€å‘ç¯å¢ƒä¸‹ï¼Œè¿™äº›è¯·æ±‚ä¼šè¢«è‡ªåŠ¨ä»£ç†
fetch('/api/users')        // â†’ http://localhost:8080/users
fetch('/api/posts/123')    // â†’ http://localhost:8080/posts/123
fetch('/upload/image')     // â†’ http://localhost:9000/upload/image
```

### 6.2 Viteä»£ç†é…ç½®

**vite.config.js**ï¼š
```javascript
import { defineConfig } from 'vite'

export default defineConfig({
    server: {
        port: 3000,
        proxy: {
            // å­—ç¬¦ä¸²ç®€å†™
            '/api': 'http://localhost:8080',
            
            // å®Œæ•´é…ç½®
            '/upload': {
                target: 'http://localhost:9000',
                changeOrigin: true,
                rewrite: (path) => path.replace(/^\/upload/, '')
            }
        }
    }
})
```

### 6.3 Create React Appä»£ç†

**package.jsonæ·»åŠ ä»£ç†**ï¼š
```json
{
    "name": "my-app",
    "version": "1.0.0",
    "proxy": "http://localhost:8080",
    "scripts": {
        "start": "react-scripts start"
    }
}
```

**æˆ–è€…åˆ›å»ºsetupProxy.js**ï¼š
```javascript
// src/setupProxy.js
const { createProxyMiddleware } = require('http-proxy-middleware');

module.exports = function(app) {
    app.use(
        '/api',
        createProxyMiddleware({
            target: 'http://localhost:8080',
            changeOrigin: true,
        })
    );
};
```

---

## 7. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 7.1 å„ç§æ–¹æ¡ˆå¯¹æ¯”


| æ–¹æ¡ˆ | **é€‚ç”¨åœºæ™¯** | **ä¼˜ç‚¹** | **ç¼ºç‚¹** | **éš¾åº¦** |
|------|-------------|----------|----------|----------|
| ğŸŒ **ä»£ç†æœåŠ¡å™¨** | `ç”Ÿäº§ç¯å¢ƒã€APIè½¬å‘` | `å®‰å…¨å¯é ã€é…ç½®çµæ´»` | `éœ€è¦æœåŠ¡å™¨æ”¯æŒ` | `ğŸŸ¡ä¸­ç­‰` |
| ğŸ’¬ **postMessage** | `çª—å£é—´é€šä¿¡ã€iframeåµŒå…¥` | `å®‰å…¨ã€çµæ´»` | `åªèƒ½ä¼ æ¶ˆæ¯ï¼Œä¸èƒ½ç›´æ¥è¯·æ±‚` | `ğŸŸ¢ç®€å•` |
| ğŸ–¼ï¸ **iframeæ–¹æ¡ˆ** | `ç¬¬ä¸‰æ–¹é¡µé¢åµŒå…¥` | `åŠŸèƒ½å®Œæ•´ã€éš”ç¦»æ€§å¥½` | `ç”¨æˆ·ä½“éªŒä¸€èˆ¬` | `ğŸŸ¡ä¸­ç­‰` |
| ğŸ”Œ **WebSocket** | `å®æ—¶é€šä¿¡ã€èŠå¤©ç³»ç»Ÿ` | `åŒå‘é€šä¿¡ã€æ— è·¨åŸŸé™åˆ¶` | `éœ€è¦æœåŠ¡å™¨æ”¯æŒ` | `ğŸŸ¡ä¸­ç­‰` |
| âš™ï¸ **å¼€å‘ä»£ç†** | `æœ¬åœ°å¼€å‘è°ƒè¯•` | `é…ç½®ç®€å•ã€å¼€ç®±å³ç”¨` | `ä»…å¼€å‘ç¯å¢ƒ` | `ğŸŸ¢ç®€å•` |

### 7.2 é€‰æ‹©å»ºè®®


**ğŸ¯ æ ¹æ®åœºæ™¯é€‰æ‹©**ï¼š
```
ğŸ“± æœ¬åœ°å¼€å‘è°ƒè¯•ï¼š
â†’ ä½¿ç”¨webpack/viteä»£ç†
â†’ é…ç½®ç®€å•ï¼Œç«‹å³ç”Ÿæ•ˆ

ğŸŒ ç”Ÿäº§ç¯å¢ƒAPIè°ƒç”¨ï¼š
â†’ ä½¿ç”¨Nginxä»£ç†
â†’ ç¨³å®šå¯é ï¼Œæ€§èƒ½å¥½

ğŸ’¬ é¡µé¢é—´é€šä¿¡ï¼š
â†’ ä½¿ç”¨postMessage
â†’ å®‰å…¨ç®€å•ï¼Œæµè§ˆå™¨åŸç”Ÿæ”¯æŒ

ğŸ”Œ å®æ—¶é€šä¿¡éœ€æ±‚ï¼š
â†’ ä½¿ç”¨WebSocket
â†’ åŒå‘é€šä¿¡ï¼Œæ— å»¶è¿Ÿ
```

### 7.3 æœ€ä½³å®è·µ


**ğŸ”’ å®‰å…¨ç¬¬ä¸€**ï¼š
- âœ… æ€»æ˜¯éªŒè¯æ¶ˆæ¯æ¥æºï¼ˆoriginæ£€æŸ¥ï¼‰
- âœ… ä¸è¦ä¿¡ä»»ä»»ä½•å¤–éƒ¨æ•°æ®
- âœ… ç”Ÿäº§ç¯å¢ƒé™åˆ¶å…è®¸çš„åŸŸå

**âš¡ æ€§èƒ½è€ƒè™‘**ï¼š
- âœ… ä»£ç†æœåŠ¡å™¨è¦åšç¼“å­˜å’Œè´Ÿè½½å‡è¡¡
- âœ… WebSocketè¿æ¥è¦æœ‰é‡è¿æœºåˆ¶
- âœ… postMessageä¼ è¾“çš„æ•°æ®ä¸è¦å¤ªå¤§

**ğŸ› ï¸ å¼€å‘å»ºè®®**ï¼š
- âœ… å¼€å‘ç¯å¢ƒç”¨ä»£ç†ï¼Œç”Ÿäº§ç¯å¢ƒç”¨CORSæˆ–ä»£ç†
- âœ… å¤æ‚é€šä¿¡ä¼˜å…ˆè€ƒè™‘postMessage
- âœ… å®æ—¶æ€§è¦æ±‚é«˜çš„ç”¨WebSocket

**æ ¸å¿ƒè®°å¿†**ï¼š
- ğŸ’¡ **ä»£ç†æœåŠ¡å™¨**ï¼šè®©æœåŠ¡å™¨å¸®å¿™è¦æ•°æ®
- ğŸ’¡ **postMessage**ï¼šä¸åŒé¡µé¢é—´çš„å®‰å…¨ä¼ çº¸æ¡
- ğŸ’¡ **WebSocket**ï¼šå»ºç«‹è¿æ¥åæ— è·¨åŸŸé™åˆ¶
- ğŸ’¡ **å¼€å‘ä»£ç†**ï¼šæœ¬åœ°è°ƒè¯•çš„ä¾¿æ°‘å·¥å…·