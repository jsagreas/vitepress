---
title: 3ã€æœç´¢å»ºè®®åŠŸèƒ½å®æˆ˜
---
## ğŸ“š ç›®å½•

1. [æœç´¢å»ºè®®åŠŸèƒ½æ¦‚è¿°](#1-æœç´¢å»ºè®®åŠŸèƒ½æ¦‚è¿°)
2. [è¾“å…¥æ¡†äº‹ä»¶ç›‘å¬æœºåˆ¶](#2-è¾“å…¥æ¡†äº‹ä»¶ç›‘å¬æœºåˆ¶)
3. [é˜²æŠ–æŠ€æœ¯åŸç†ä¸å®ç°](#3-é˜²æŠ–æŠ€æœ¯åŸç†ä¸å®ç°)
4. [æœç´¢å»ºè®®åˆ—è¡¨å±•ç¤º](#4-æœç´¢å»ºè®®åˆ—è¡¨å±•ç¤º)
5. [é”®ç›˜å¯¼èˆªåŠŸèƒ½](#5-é”®ç›˜å¯¼èˆªåŠŸèƒ½)
6. [æœç´¢å†å²è®°å½•ç®¡ç†](#6-æœç´¢å†å²è®°å½•ç®¡ç†)
7. [æœç´¢å…³é”®è¯åŒ¹é…ç®—æ³•](#7-æœç´¢å…³é”®è¯åŒ¹é…ç®—æ³•)
8. [æœç´¢ç¼“å­˜ç­–ç•¥](#8-æœç´¢ç¼“å­˜ç­–ç•¥)
9. [å®Œæ•´åŠŸèƒ½æ•´åˆ](#9-å®Œæ•´åŠŸèƒ½æ•´åˆ)
10. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#10-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ” æœç´¢å»ºè®®åŠŸèƒ½æ¦‚è¿°


### 1.1 ä»€ä¹ˆæ˜¯æœç´¢å»ºè®®åŠŸèƒ½


**ğŸ¯ ç®€å•ç†è§£**ï¼šå°±åƒåœ¨ç™¾åº¦ã€è°·æ­Œæœç´¢æ¡†é‡Œæ‰“å­—æ—¶ï¼Œä¼šè‡ªåŠ¨å¼¹å‡ºç›¸å…³çš„æœç´¢è¯æç¤ºï¼Œè¿™å°±æ˜¯æœç´¢å»ºè®®åŠŸèƒ½ã€‚

```
ç”¨æˆ·è¾“å…¥ï¼š"æ‰‹æœº" 
å¼¹å‡ºå»ºè®®ï¼š
â”œâ”€ æ‰‹æœºå£³
â”œâ”€ æ‰‹æœºå……ç”µå™¨  
â”œâ”€ æ‰‹æœºè´´è†œ
â””â”€ æ‰‹æœºç»´ä¿®
```

**ğŸ’¡ æ ¸å¿ƒä»·å€¼**ï¼š
- **æé«˜ç”¨æˆ·ä½“éªŒ**ï¼šä¸ç”¨æ‰“å®Œæ•´ä¸ªè¯å°±èƒ½æ‰¾åˆ°æƒ³è¦çš„
- **å‡å°‘è¾“å…¥é”™è¯¯**ï¼šé¿å…æ‹¼å†™é”™è¯¯
- **æå‡æœç´¢æ•ˆç‡**ï¼šå¿«é€Ÿæ‰¾åˆ°çƒ­é—¨æœç´¢è¯
- **å¼•å¯¼ç”¨æˆ·è¡Œä¸º**ï¼šæ¨èç›¸å…³çš„æœç´¢å†…å®¹

### 1.2 æŠ€æœ¯å®ç°æ€è·¯


**ğŸ”¸ åŸºæœ¬å·¥ä½œæµç¨‹**ï¼š
```
ç”¨æˆ·è¾“å…¥ â†’ è§¦å‘äº‹ä»¶ â†’ å»¶è¿Ÿå¤„ç† â†’ å‘é€è¯·æ±‚ â†’ æ˜¾ç¤ºå»ºè®® â†’ ç”¨æˆ·é€‰æ‹©
```

**ğŸ”¸ æ¶‰åŠçš„æ ¸å¿ƒæŠ€æœ¯**ï¼š
- **äº‹ä»¶ç›‘å¬**ï¼šç›‘å¬ç”¨æˆ·è¾“å…¥
- **é˜²æŠ–å¤„ç†**ï¼šé¿å…é¢‘ç¹è¯·æ±‚
- **Ajaxè¯·æ±‚**ï¼šè·å–æœç´¢å»ºè®®
- **DOMæ“ä½œ**ï¼šæ˜¾ç¤ºå»ºè®®åˆ—è¡¨
- **ç¼“å­˜æœºåˆ¶**ï¼šæé«˜å“åº”é€Ÿåº¦

> ğŸ’¡ **å­¦ä¹ ç›®æ ‡**  
> é€šè¿‡è¿™ä¸ªå®æˆ˜æ¡ˆä¾‹ï¼Œä½ å°†æŒæ¡å¦‚ä½•ç”¨åŸç”ŸJavaScriptå’ŒAjaxå®ç°ä¸€ä¸ªå®Œæ•´çš„æœç´¢å»ºè®®åŠŸèƒ½

---

## 2. âŒ¨ï¸ è¾“å…¥æ¡†äº‹ä»¶ç›‘å¬æœºåˆ¶


### 2.1 ç›‘å¬ç”¨æˆ·è¾“å…¥çš„å‡ ç§æ–¹å¼


**ğŸ”¸ å¸¸ç”¨çš„è¾“å…¥äº‹ä»¶**ï¼š

| äº‹ä»¶ç±»å‹ | **è§¦å‘æ—¶æœº** | **é€‚ç”¨åœºæ™¯** | **æ³¨æ„äº‹é¡¹** |
|---------|------------|-------------|-------------|
| `input` | `æ¯æ¬¡è¾“å…¥éƒ½è§¦å‘` | `å®æ—¶æœç´¢å»ºè®®` | `æœ€å¸¸ç”¨ï¼Œå“åº”åŠæ—¶` |
| `keyup` | `æŒ‰é”®æŠ¬èµ·æ—¶è§¦å‘` | `å…¼å®¹è€æµè§ˆå™¨` | `å¯èƒ½æœ‰å»¶è¿Ÿ` |
| `change` | `å¤±å»ç„¦ç‚¹ä¸”å€¼æ”¹å˜` | `è¡¨å•éªŒè¯` | `ä¸é€‚åˆå®æ—¶æœç´¢` |

### 2.2 å®é™…ä»£ç å®ç°


```javascript
// è·å–æœç´¢è¾“å…¥æ¡†
const searchInput = document.getElementById('searchInput');
const suggestionList = document.getElementById('suggestionList');

// ç›‘å¬ç”¨æˆ·è¾“å…¥
searchInput.addEventListener('input', function(event) {
    const keyword = event.target.value.trim();
    
    // å¦‚æœè¾“å…¥ä¸ºç©ºï¼Œéšè—å»ºè®®åˆ—è¡¨
    if (keyword === '') {
        hideSuggestions();
        return;
    }
    
    // å¤„ç†æœç´¢é€»è¾‘
    handleSearch(keyword);
});
```

**ğŸŒ° ç”Ÿæ´»ç±»æ¯”**ï¼šå°±åƒä½ åœ¨å’Œæœ‹å‹èŠå¤©ï¼Œæ¯è¯´ä¸€ä¸ªå­—ï¼Œæœ‹å‹éƒ½åœ¨å¬ï¼Œéšæ—¶å‡†å¤‡å›åº”ä½ çš„è¯é¢˜ã€‚

### 2.3 è¾“å…¥äº‹ä»¶çš„ç»†èŠ‚å¤„ç†


**ğŸ”¸ è¿‡æ»¤æ— æ•ˆè¾“å…¥**ï¼š
```javascript
function isValidInput(keyword) {
    // è¿‡æ»¤æ‰åªæœ‰ç©ºæ ¼çš„è¾“å…¥
    if (keyword.trim() === '') return false;
    
    // è¿‡æ»¤æ‰å¤ªçŸ­çš„è¾“å…¥ï¼ˆæ¯”å¦‚å°äº2ä¸ªå­—ç¬¦ï¼‰
    if (keyword.length < 2) return false;
    
    return true;
}
```

**ğŸ”¸ å¤„ç†ç‰¹æ®ŠæŒ‰é”®**ï¼š
```javascript
searchInput.addEventListener('keydown', function(event) {
    const key = event.key;
    
    // ä¸Šä¸‹ç®­å¤´é”®ï¼šå¯¼èˆªå»ºè®®åˆ—è¡¨
    if (key === 'ArrowDown' || key === 'ArrowUp') {
        event.preventDefault(); // é˜²æ­¢å…‰æ ‡ç§»åŠ¨
        navigateSuggestions(key);
    }
    
    // å›è½¦é”®ï¼šé€‰æ‹©å½“å‰å»ºè®®
    if (key === 'Enter') {
        selectCurrentSuggestion();
    }
    
    // ESCé”®ï¼šå…³é—­å»ºè®®åˆ—è¡¨
    if (key === 'Escape') {
        hideSuggestions();
    }
});
```

---

## 3. â±ï¸ é˜²æŠ–æŠ€æœ¯åŸç†ä¸å®ç°


### 3.1 ä¸ºä»€ä¹ˆéœ€è¦é˜²æŠ–


**ğŸ¤” é—®é¢˜åœºæ™¯**ï¼š
- ç”¨æˆ·è¾“å…¥"æ‰‹æœº"ä¸¤ä¸ªå­—
- è§¦å‘2æ¬¡inputäº‹ä»¶
- å‘é€2æ¬¡Ajaxè¯·æ±‚
- æµªè´¹æœåŠ¡å™¨èµ„æºï¼Œç”¨æˆ·ä½“éªŒå·®

**ğŸ¯ é˜²æŠ–çš„ä½œç”¨**ï¼šç­‰ç”¨æˆ·åœæ­¢è¾“å…¥ä¸€æ®µæ—¶é—´åï¼Œå†å‘é€è¯·æ±‚ã€‚

**ğŸŒ° ç”Ÿæ´»ç±»æ¯”**ï¼šå°±åƒç”µæ¢¯å…³é—¨ï¼Œå¦‚æœæœ‰äººä¸€ç›´æŒ‰å¼€é—¨é”®ï¼Œç”µæ¢¯å°±ä¸ä¼šå…³é—¨ï¼Œç›´åˆ°æ²¡äººæŒ‰äº†æ‰å…³é—¨ã€‚

### 3.2 é˜²æŠ–å‡½æ•°çš„å®ç°


```javascript
// ç®€å•æ˜“æ‡‚çš„é˜²æŠ–å‡½æ•°
function debounce(func, delay) {
    let timer = null;
    
    return function(...args) {
        // å¦‚æœå·²ç»æœ‰å®šæ—¶å™¨äº†ï¼Œå…ˆæ¸…é™¤å®ƒ
        if (timer) {
            clearTimeout(timer);
        }
        
        // è®¾ç½®æ–°çš„å®šæ—¶å™¨
        timer = setTimeout(() => {
            func.apply(this, args);
        }, delay);
    };
}
```

**ğŸ’¡ å·¥ä½œåŸç†å›¾è§£**ï¼š
```
ç”¨æˆ·è¾“å…¥: a -> ab -> abc -> abcd
         |    |     |      |
é˜²æŠ–å¤„ç†: ç­‰   ç­‰    ç­‰     æ‰§è¡Œè¯·æ±‚ï¼
         300ms 300ms 300ms
```

### 3.3 åœ¨æœç´¢åŠŸèƒ½ä¸­ä½¿ç”¨é˜²æŠ–


```javascript
// åˆ›å»ºé˜²æŠ–ç‰ˆæœ¬çš„æœç´¢å‡½æ•°
const debouncedSearch = debounce(function(keyword) {
    console.log('å‘é€æœç´¢è¯·æ±‚:', keyword);
    fetchSearchSuggestions(keyword);
}, 300); // 300æ¯«ç§’å»¶è¿Ÿ

// åœ¨è¾“å…¥äº‹ä»¶ä¸­ä½¿ç”¨
searchInput.addEventListener('input', function(event) {
    const keyword = event.target.value.trim();
    
    if (isValidInput(keyword)) {
        debouncedSearch(keyword);
    } else {
        hideSuggestions();
    }
});
```

**ğŸ” é˜²æŠ–å‚æ•°è°ƒä¼˜**ï¼š
- **100-200ms**ï¼šå“åº”å¾ˆå¿«ï¼Œä½†å¯èƒ½è¿˜æ˜¯æœ‰ç‚¹é¢‘ç¹
- **300-500ms**ï¼šå¹³è¡¡ç‚¹ï¼Œæ—¢å¿«åˆä¸æµªè´¹èµ„æº
- **500msä»¥ä¸Š**ï¼šå“åº”æœ‰ç‚¹æ…¢ï¼Œç”¨æˆ·å¯èƒ½æ„Ÿè§‰å¡é¡¿

---

## 4. ğŸ“‹ æœç´¢å»ºè®®åˆ—è¡¨å±•ç¤º


### 4.1 Ajaxè¯·æ±‚è·å–å»ºè®®æ•°æ®


```javascript
// è·å–æœç´¢å»ºè®®çš„å‡½æ•°
function fetchSearchSuggestions(keyword) {
    const xhr = new XMLHttpRequest();
    
    xhr.open('GET', `/api/search/suggestions?q=${encodeURIComponent(keyword)}`, true);
    
    xhr.onreadystatechange = function() {
        if (xhr.readyState === 4 && xhr.status === 200) {
            const suggestions = JSON.parse(xhr.responseText);
            displaySuggestions(suggestions);
        }
    };
    
    xhr.send();
}
```

### 4.2 æ˜¾ç¤ºå»ºè®®åˆ—è¡¨


**ğŸ”¸ HTMLç»“æ„è®¾è®¡**ï¼š
```html
<div class="search-container">
    <input type="text" id="searchInput" placeholder="æœç´¢å•†å“ã€å“ç‰Œ">
    <ul id="suggestionList" class="suggestion-list hidden">
        <!-- å»ºè®®é¡¹ä¼šé€šè¿‡JavaScriptåŠ¨æ€æ·»åŠ  -->
    </ul>
</div>
```

**ğŸ”¸ åŠ¨æ€ç”Ÿæˆå»ºè®®åˆ—è¡¨**ï¼š
```javascript
function displaySuggestions(suggestions) {
    const suggestionList = document.getElementById('suggestionList');
    
    // æ¸…ç©ºä¹‹å‰çš„å»ºè®®
    suggestionList.innerHTML = '';
    
    // å¦‚æœæ²¡æœ‰å»ºè®®ï¼Œéšè—åˆ—è¡¨
    if (!suggestions || suggestions.length === 0) {
        hideSuggestions();
        return;
    }
    
    // åˆ›å»ºå»ºè®®é¡¹
    suggestions.forEach((item, index) => {
        const li = document.createElement('li');
        li.className = 'suggestion-item';
        li.textContent = item.text;
        li.dataset.index = index;
        
        // ç‚¹å‡»å»ºè®®é¡¹
        li.addEventListener('click', function() {
            selectSuggestion(item.text);
        });
        
        suggestionList.appendChild(li);
    });
    
    // æ˜¾ç¤ºå»ºè®®åˆ—è¡¨
    suggestionList.classList.remove('hidden');
}
```

### 4.3 å…³é”®è¯é«˜äº®æ˜¾ç¤º


**ğŸ¯ é«˜äº®çš„ä½œç”¨**ï¼šè®©ç”¨æˆ·å¿«é€Ÿçœ‹åˆ°åŒ¹é…çš„éƒ¨åˆ†ã€‚

```javascript
function highlightKeyword(text, keyword) {
    // åˆ›å»ºæ­£åˆ™è¡¨è¾¾å¼ï¼Œå¿½ç•¥å¤§å°å†™
    const regex = new RegExp(`(${keyword})`, 'gi');
    
    // ç”¨spanæ ‡ç­¾åŒ…å›´åŒ¹é…çš„å…³é”®è¯
    return text.replace(regex, '<span class="highlight">$1</span>');
}

// åœ¨æ˜¾ç¤ºå»ºè®®æ—¶ä½¿ç”¨é«˜äº®
function displaySuggestions(suggestions) {
    const keyword = searchInput.value.trim();
    
    suggestions.forEach((item, index) => {
        const li = document.createElement('li');
        li.className = 'suggestion-item';
        
        // ä½¿ç”¨innerHTMLæ¥æ˜¾ç¤ºé«˜äº®æ•ˆæœ
        li.innerHTML = highlightKeyword(item.text, keyword);
        
        suggestionList.appendChild(li);
    });
}
```

**ğŸ¨ é«˜äº®æ ·å¼**ï¼š
```css
.highlight {
    background-color: #ffeb3b;
    font-weight: bold;
}
```

---

## 5. âŒ¨ï¸ é”®ç›˜å¯¼èˆªåŠŸèƒ½


### 5.1 ä¸ºä»€ä¹ˆéœ€è¦é”®ç›˜å¯¼èˆª


**ğŸ’¡ ç”¨æˆ·ä½“éªŒè€ƒè™‘**ï¼š
- ç”¨æˆ·ä¹ æƒ¯ç”¨ä¸Šä¸‹ç®­å¤´é”®æµè§ˆå»ºè®®
- ä¸ç”¨é¼ æ ‡å°±èƒ½é€‰æ‹©å»ºè®®
- æé«˜æ“ä½œæ•ˆç‡

### 5.2 å¯¼èˆªçŠ¶æ€ç®¡ç†


```javascript
let currentSelectedIndex = -1; // å½“å‰é€‰ä¸­çš„å»ºè®®ç´¢å¼•ï¼Œ-1è¡¨ç¤ºæ²¡æœ‰é€‰ä¸­

function navigateSuggestions(direction) {
    const suggestions = document.querySelectorAll('.suggestion-item');
    const totalItems = suggestions.length;
    
    if (totalItems === 0) return;
    
    // ç§»é™¤ä¹‹å‰çš„é€‰ä¸­çŠ¶æ€
    if (currentSelectedIndex >= 0) {
        suggestions[currentSelectedIndex].classList.remove('selected');
    }
    
    // æ ¹æ®æ–¹å‘æ›´æ–°ç´¢å¼•
    if (direction === 'ArrowDown') {
        currentSelectedIndex = (currentSelectedIndex + 1) % totalItems;
    } else if (direction === 'ArrowUp') {
        currentSelectedIndex = currentSelectedIndex <= 0 ? totalItems - 1 : currentSelectedIndex - 1;
    }
    
    // æ·»åŠ æ–°çš„é€‰ä¸­çŠ¶æ€
    suggestions[currentSelectedIndex].classList.add('selected');
    
    // æ›´æ–°è¾“å…¥æ¡†çš„å€¼ï¼ˆå¯é€‰ï¼‰
    searchInput.value = suggestions[currentSelectedIndex].textContent;
}
```

### 5.3 å›è½¦é”®é€‰æ‹©åŠŸèƒ½


```javascript
function selectCurrentSuggestion() {
    const suggestions = document.querySelectorAll('.suggestion-item');
    
    if (currentSelectedIndex >= 0 && currentSelectedIndex < suggestions.length) {
        const selectedText = suggestions[currentSelectedIndex].textContent;
        selectSuggestion(selectedText);
    }
}

function selectSuggestion(text) {
    // è®¾ç½®è¾“å…¥æ¡†çš„å€¼
    searchInput.value = text;
    
    // éšè—å»ºè®®åˆ—è¡¨
    hideSuggestions();
    
    // ä¿å­˜åˆ°æœç´¢å†å²
    saveToHistory(text);
    
    // æ‰§è¡Œæœç´¢ï¼ˆå¯é€‰ï¼‰
    performSearch(text);
}
```

**ğŸ¨ é€‰ä¸­çŠ¶æ€æ ·å¼**ï¼š
```css
.suggestion-item.selected {
    background-color: #e3f2fd;
    cursor: pointer;
}
```

---

## 6. ğŸ“š æœç´¢å†å²è®°å½•ç®¡ç†


### 6.1 æœç´¢å†å²çš„ä½œç”¨


**ğŸ¯ ç”¨æˆ·ä»·å€¼**ï¼š
- å¿«é€Ÿé‡å¤ä¹‹å‰çš„æœç´¢
- äº†è§£è‡ªå·±çš„æœç´¢ä¹ æƒ¯
- å‡å°‘é‡å¤è¾“å…¥

### 6.2 æœ¬åœ°å­˜å‚¨å®ç°


```javascript
// æœç´¢å†å²ç®¡ç†
const SearchHistory = {
    // è·å–æœç´¢å†å²
    get: function() {
        const history = localStorage.getItem('searchHistory');
        return history ? JSON.parse(history) : [];
    },
    
    // ä¿å­˜æœç´¢è®°å½•
    save: function(keyword) {
        let history = this.get();
        
        // ç§»é™¤é‡å¤é¡¹ï¼ˆå¦‚æœå­˜åœ¨ï¼‰
        history = history.filter(item => item !== keyword);
        
        // æ·»åŠ åˆ°å¼€å¤´
        history.unshift(keyword);
        
        // é™åˆ¶å†å²è®°å½•æ•°é‡ï¼ˆæ¯”å¦‚æœ€å¤šä¿å­˜10æ¡ï¼‰
        if (history.length > 10) {
            history = history.slice(0, 10);
        }
        
        // ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨
        localStorage.setItem('searchHistory', JSON.stringify(history));
    },
    
    // æ¸…ç©ºå†å²è®°å½•
    clear: function() {
        localStorage.removeItem('searchHistory');
    }
};
```

### 6.3 æ˜¾ç¤ºæœç´¢å†å²


```javascript
function showSearchHistory() {
    const history = SearchHistory.get();
    
    if (history.length === 0) return;
    
    // æ„å»ºå†å²è®°å½•æ•°æ®æ ¼å¼
    const historyItems = history.map(item => ({
        text: item,
        type: 'history' // æ ‡è®°ä¸ºå†å²è®°å½•
    }));
    
    displaySuggestions(historyItems);
}

// å½“è¾“å…¥æ¡†è·å¾—ç„¦ç‚¹ä¸”ä¸ºç©ºæ—¶ï¼Œæ˜¾ç¤ºå†å²è®°å½•
searchInput.addEventListener('focus', function() {
    if (this.value.trim() === '') {
        showSearchHistory();
    }
});
```

**ğŸ” å†å²è®°å½•ä¸å»ºè®®çš„åŒºåˆ«æ˜¾ç¤º**ï¼š
```javascript
function displaySuggestions(suggestions) {
    suggestions.forEach((item, index) => {
        const li = document.createElement('li');
        li.className = 'suggestion-item';
        
        // æ ¹æ®ç±»å‹æ·»åŠ ä¸åŒçš„å›¾æ ‡
        if (item.type === 'history') {
            li.innerHTML = `<span class="history-icon">ğŸ•’</span> ${item.text}`;
        } else {
            li.innerHTML = `<span class="search-icon">ğŸ”</span> ${item.text}`;
        }
        
        suggestionList.appendChild(li);
    });
}
```

---

## 7. ğŸ¯ æœç´¢å…³é”®è¯åŒ¹é…ç®—æ³•


### 7.1 æ¨¡ç³ŠåŒ¹é…çš„æ¦‚å¿µ


**ğŸ’¡ ä»€ä¹ˆæ˜¯æ¨¡ç³ŠåŒ¹é…**ï¼šä¸éœ€è¦å®Œå…¨ä¸€è‡´ï¼Œåªè¦åŒ…å«å…³é”®è¯æˆ–è€…ç›¸ä¼¼å°±ç®—åŒ¹é…ã€‚

**ğŸŒ° ä¾‹å­**ï¼š
- ç”¨æˆ·è¾“å…¥ï¼š"æ‰‹æœº"
- èƒ½åŒ¹é…åˆ°ï¼š"æ‰‹æœºå£³"ã€"åä¸ºæ‰‹æœº"ã€"äºŒæ‰‹æ‰‹æœº"

### 7.2 ç®€å•çš„åŒ…å«åŒ¹é…


```javascript
function simpleMatch(items, keyword) {
    keyword = keyword.toLowerCase();
    
    return items.filter(item => {
        return item.toLowerCase().includes(keyword);
    });
}

// ä½¿ç”¨ç¤ºä¾‹
const products = ["è‹¹æœæ‰‹æœº", "æ‰‹æœºå£³", "åä¸ºæ‰‹æœº", "å°ç±³ç”µè§†"];
const result = simpleMatch(products, "æ‰‹æœº");
console.log(result); // ["è‹¹æœæ‰‹æœº", "æ‰‹æœºå£³", "åä¸ºæ‰‹æœº"]
```

### 7.3 æ‹¼éŸ³åŒ¹é…æ”¯æŒ


```javascript
// ç®€å•çš„æ‹¼éŸ³åŒ¹é…æ˜ å°„
const pinyinMap = {
    'æ‰‹æœº': 'shouji',
    'ç”µè„‘': 'diannao',
    'ç”µè§†': 'dianshi'
    // å®é™…é¡¹ç›®ä¸­å¯ä»¥ä½¿ç”¨å®Œæ•´çš„æ‹¼éŸ³åº“
};

function pinyinMatch(items, keyword) {
    keyword = keyword.toLowerCase();
    
    return items.filter(item => {
        // ä¸­æ–‡åŒ¹é…
        if (item.toLowerCase().includes(keyword)) {
            return true;
        }
        
        // æ‹¼éŸ³åŒ¹é…
        const pinyin = pinyinMap[item];
        if (pinyin && pinyin.includes(keyword)) {
            return true;
        }
        
        return false;
    });
}
```

### 7.4 åŒ¹é…ä¼˜å…ˆçº§æ’åº


```javascript
function sortByRelevance(items, keyword) {
    return items.sort((a, b) => {
        const aScore = getMatchScore(a, keyword);
        const bScore = getMatchScore(b, keyword);
        return bScore - aScore; // åˆ†æ•°é«˜çš„æ’åœ¨å‰é¢
    });
}

function getMatchScore(text, keyword) {
    let score = 0;
    
    // å®Œå…¨åŒ¹é…ï¼šæœ€é«˜åˆ†
    if (text === keyword) {
        score += 100;
    }
    
    // å¼€å¤´åŒ¹é…ï¼šé«˜åˆ†
    if (text.startsWith(keyword)) {
        score += 50;
    }
    
    // åŒ…å«åŒ¹é…ï¼šåŸºç¡€åˆ†
    if (text.includes(keyword)) {
        score += 10;
    }
    
    return score;
}
```

---

## 8. ğŸ’¾ æœç´¢ç¼“å­˜ç­–ç•¥


### 8.1 ä¸ºä»€ä¹ˆéœ€è¦ç¼“å­˜


**ğŸ¤” é—®é¢˜åˆ†æ**ï¼š
- ç”¨æˆ·ç»å¸¸ä¼šè¾“å…¥ç›¸åŒçš„å…³é”®è¯
- é‡å¤çš„Ajaxè¯·æ±‚æµªè´¹èµ„æº
- ç¼“å­˜å¯ä»¥æé«˜å“åº”é€Ÿåº¦

**ğŸ¯ ç¼“å­˜çš„å¥½å¤„**ï¼š
- **æå‡é€Ÿåº¦**ï¼šç›´æ¥ä»å†…å­˜è·å–æ•°æ®
- **å‡å°‘è¯·æ±‚**ï¼šé™ä½æœåŠ¡å™¨å‹åŠ›
- **æ”¹å–„ä½“éªŒ**ï¼šå‡ ä¹ç¬æ—¶å“åº”

### 8.2 ç®€å•çš„å†…å­˜ç¼“å­˜


```javascript
// æœç´¢ç»“æœç¼“å­˜
const searchCache = new Map();
const CACHE_EXPIRE_TIME = 5 * 60 * 1000; // 5åˆ†é’Ÿè¿‡æœŸ

function getCachedResult(keyword) {
    const cached = searchCache.get(keyword);
    
    if (!cached) return null;
    
    // æ£€æŸ¥æ˜¯å¦è¿‡æœŸ
    if (Date.now() - cached.timestamp > CACHE_EXPIRE_TIME) {
        searchCache.delete(keyword);
        return null;
    }
    
    return cached.data;
}

function setCachedResult(keyword, data) {
    searchCache.set(keyword, {
        data: data,
        timestamp: Date.now()
    });
}
```

### 8.3 å¸¦ç¼“å­˜çš„æœç´¢å‡½æ•°


```javascript
function fetchSearchSuggestions(keyword) {
    // å…ˆæ£€æŸ¥ç¼“å­˜
    const cachedResult = getCachedResult(keyword);
    if (cachedResult) {
        console.log('ä½¿ç”¨ç¼“å­˜ç»“æœ');
        displaySuggestions(cachedResult);
        return;
    }
    
    // ç¼“å­˜ä¸­æ²¡æœ‰ï¼Œå‘é€Ajaxè¯·æ±‚
    const xhr = new XMLHttpRequest();
    xhr.open('GET', `/api/search/suggestions?q=${encodeURIComponent(keyword)}`, true);
    
    xhr.onreadystatechange = function() {
        if (xhr.readyState === 4 && xhr.status === 200) {
            const suggestions = JSON.parse(xhr.responseText);
            
            // ä¿å­˜åˆ°ç¼“å­˜
            setCachedResult(keyword, suggestions);
            
            // æ˜¾ç¤ºç»“æœ
            displaySuggestions(suggestions);
        }
    };
    
    xhr.send();
}
```

### 8.4 æ™ºèƒ½ç¼“å­˜ç­–ç•¥


```javascript
// æ ¹æ®å…³é”®è¯é•¿åº¦å†³å®šç¼“å­˜ç­–ç•¥
function shouldCache(keyword) {
    // å¤ªçŸ­çš„å…³é”®è¯ä¸ç¼“å­˜ï¼ˆå˜åŒ–å¤ªé¢‘ç¹ï¼‰
    if (keyword.length < 2) return false;
    
    // å¤ªé•¿çš„å…³é”®è¯ä¸ç¼“å­˜ï¼ˆä½¿ç”¨é¢‘ç‡ä½ï¼‰
    if (keyword.length > 20) return false;
    
    return true;
}

// é¢„åŠ è½½çƒ­é—¨æœç´¢è¯
function preloadPopularKeywords() {
    const popularKeywords = ['æ‰‹æœº', 'ç”µè„‘', 'ç”µè§†', 'è€³æœº'];
    
    popularKeywords.forEach(keyword => {
        if (!getCachedResult(keyword)) {
            fetchSearchSuggestions(keyword);
        }
    });
}
```

---

## 9. ğŸ”§ å®Œæ•´åŠŸèƒ½æ•´åˆ


### 9.1 å®Œæ•´çš„æœç´¢å»ºè®®ç»„ä»¶


```javascript
class SearchSuggestion {
    constructor(inputId, listId, options = {}) {
        this.input = document.getElementById(inputId);
        this.list = document.getElementById(listId);
        this.currentIndex = -1;
        this.cache = new Map();
        
        // é…ç½®é€‰é¡¹
        this.options = {
            delay: 300,
            minLength: 2,
            maxResults: 10,
            ...options
        };
        
        this.init();
    }
    
    init() {
        // é˜²æŠ–å¤„ç†çš„æœç´¢å‡½æ•°
        this.debouncedSearch = this.debounce(
            this.search.bind(this), 
            this.options.delay
        );
        
        this.bindEvents();
    }
    
    bindEvents() {
        // è¾“å…¥äº‹ä»¶
        this.input.addEventListener('input', (e) => {
            const keyword = e.target.value.trim();
            
            if (keyword.length >= this.options.minLength) {
                this.debouncedSearch(keyword);
            } else {
                this.hide();
            }
        });
        
        // é”®ç›˜å¯¼èˆª
        this.input.addEventListener('keydown', (e) => {
            this.handleKeyboard(e);
        });
        
        // å¤±å»ç„¦ç‚¹éšè—å»ºè®®
        this.input.addEventListener('blur', () => {
            setTimeout(() => this.hide(), 200);
        });
        
        // è·å¾—ç„¦ç‚¹æ˜¾ç¤ºå†å²
        this.input.addEventListener('focus', () => {
            if (this.input.value.trim() === '') {
                this.showHistory();
            }
        });
    }
    
    async search(keyword) {
        try {
            const suggestions = await this.getSuggestions(keyword);
            this.display(suggestions, keyword);
        } catch (error) {
            console.error('æœç´¢å»ºè®®è·å–å¤±è´¥:', error);
        }
    }
    
    // å…¶ä»–æ–¹æ³•...
}
```

### 9.2 ä½¿ç”¨ç¤ºä¾‹


```html
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>æœç´¢å»ºè®®åŠŸèƒ½</title>
    <style>
        .search-container {
            position: relative;
            width: 400px;
            margin: 50px auto;
        }
        
        .search-input {
            width: 100%;
            padding: 12px;
            font-size: 16px;
            border: 2px solid #ddd;
            border-radius: 4px;
        }
        
        .suggestion-list {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: white;
            border: 2px solid #ddd;
            border-top: none;
            max-height: 300px;
            overflow-y: auto;
            z-index: 1000;
        }
        
        .suggestion-item {
            padding: 10px;
            cursor: pointer;
            border-bottom: 1px solid #eee;
        }
        
        .suggestion-item:hover,
        .suggestion-item.selected {
            background-color: #f0f0f0;
        }
        
        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <div class="search-container">
        <input type="text" id="searchInput" class="search-input" placeholder="æœç´¢å•†å“...">
        <ul id="suggestionList" class="suggestion-list hidden"></ul>
    </div>

    <script>
        // åˆå§‹åŒ–æœç´¢å»ºè®®åŠŸèƒ½
        const searchSuggestion = new SearchSuggestion('searchInput', 'suggestionList', {
            delay: 300,
            minLength: 2,
            maxResults: 8
        });
    </script>
</body>
</html>
```

---

## 10. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 10.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ äº‹ä»¶ç›‘å¬ï¼šç›‘å¬ç”¨æˆ·è¾“å…¥ï¼ŒåŠæ—¶å“åº”
ğŸ”¸ é˜²æŠ–æŠ€æœ¯ï¼šé¿å…é¢‘ç¹è¯·æ±‚ï¼Œæå‡æ€§èƒ½
ğŸ”¸ Ajaxé€šä¿¡ï¼šè·å–æœç´¢å»ºè®®æ•°æ®
ğŸ”¸ DOMæ“ä½œï¼šåŠ¨æ€æ˜¾ç¤ºå»ºè®®åˆ—è¡¨
ğŸ”¸ é”®ç›˜å¯¼èˆªï¼šæå‡ç”¨æˆ·æ“ä½œä½“éªŒ
ğŸ”¸ ç¼“å­˜ç­–ç•¥ï¼šæé«˜å“åº”é€Ÿåº¦ï¼Œå‡å°‘é‡å¤è¯·æ±‚
ğŸ”¸ æ¨¡ç³ŠåŒ¹é…ï¼šæ™ºèƒ½åŒ¹é…ç›¸å…³å†…å®¹
ğŸ”¸ å†å²è®°å½•ï¼šæ–¹ä¾¿ç”¨æˆ·é‡å¤æœç´¢
```

### 10.2 å…³é”®æŠ€æœ¯ç†è§£è¦ç‚¹


**ğŸ”¹ é˜²æŠ–çš„æœ¬è´¨**
```
é˜²æŠ– = ç­‰ç”¨æˆ·åœæ­¢è¾“å…¥åå†æ‰§è¡Œ
ç›®çš„ = å‡å°‘æ— æ„ä¹‰çš„è¯·æ±‚
æ•ˆæœ = æ—¢å“åº”åŠæ—¶åˆä¸æµªè´¹èµ„æº
```

**ğŸ”¹ ç¼“å­˜çš„ä»·å€¼**
```
ç¼“å­˜ = æŠŠç»“æœä¸´æ—¶å­˜èµ·æ¥
ä½œç”¨ = ä¸‹æ¬¡ä½¿ç”¨æ—¶ç›´æ¥æ‹¿ï¼Œä¸ç”¨é‡æ–°è¯·æ±‚
å¹³è¡¡ = å†…å­˜å ç”¨ vs å“åº”é€Ÿåº¦
```

**ğŸ”¹ ç”¨æˆ·ä½“éªŒçš„é‡ç‚¹**
```
å“åº”é€Ÿåº¦ï¼šé˜²æŠ– + ç¼“å­˜
æ“ä½œä¾¿æ·ï¼šé”®ç›˜å¯¼èˆª + ç‚¹å‡»é€‰æ‹©
æ™ºèƒ½åŒ–ï¼šå†å²è®°å½• + æ¨¡ç³ŠåŒ¹é…
è§†è§‰åé¦ˆï¼šé«˜äº®æ˜¾ç¤º + é€‰ä¸­çŠ¶æ€
```

### 10.3 å®é™…å¼€å‘å»ºè®®


**ğŸš€ æœ€ä½³å®è·µ**
- **é˜²æŠ–å»¶è¿Ÿ**ï¼š300-500msæ¯”è¾ƒåˆé€‚
- **ç¼“å­˜æ—¶é—´**ï¼š5-10åˆ†é’Ÿï¼Œæ ¹æ®æ•°æ®æ›´æ–°é¢‘ç‡è°ƒæ•´
- **å»ºè®®æ•°é‡**ï¼š8-12æ¡ï¼Œä¸è¦å¤ªå¤šå½±å“é€‰æ‹©
- **å…³é”®è¯é•¿åº¦**ï¼šè‡³å°‘2ä¸ªå­—ç¬¦æ‰å¼€å§‹æœç´¢

**âš ï¸ å¸¸è§é—®é¢˜**
- å¿˜è®°æ¸…é™¤ä¹‹å‰çš„å®šæ—¶å™¨ï¼ˆé˜²æŠ–å¤±æ•ˆï¼‰
- æ²¡æœ‰å¤„ç†ç½‘ç»œé”™è¯¯ï¼ˆç”¨æˆ·ä½“éªŒå·®ï¼‰
- ç¼“å­˜ç­–ç•¥è¿‡äºå¤æ‚ï¼ˆå¢åŠ ç»´æŠ¤æˆæœ¬ï¼‰
- é”®ç›˜å¯¼èˆªå’Œé¼ æ ‡ç‚¹å‡»å†²çª

**ğŸ” è°ƒè¯•æŠ€å·§**
- åœ¨æ§åˆ¶å°æŸ¥çœ‹è¯·æ±‚é¢‘ç‡
- æ£€æŸ¥ç¼“å­˜å‘½ä¸­ç‡
- æµ‹è¯•å„ç§è¾“å…¥åœºæ™¯
- éªŒè¯é”®ç›˜æ“ä½œæ˜¯å¦æ­£å¸¸

**æ ¸å¿ƒè®°å¿†è¦ç‚¹**ï¼š
- æœç´¢å»ºè®® = ç›‘å¬è¾“å…¥ + é˜²æŠ–è¯·æ±‚ + æ˜¾ç¤ºç»“æœ
- ç”¨æˆ·ä½“éªŒ = å“åº”å¿« + æ“ä½œä¾¿æ· + æ™ºèƒ½åŒ¹é…
- æ€§èƒ½ä¼˜åŒ– = ç¼“å­˜æœºåˆ¶ + åˆç†é˜²æŠ– + é¿å…é‡å¤è¯·æ±‚
- åŠŸèƒ½å®Œæ•´ = åŸºç¡€æœç´¢ + å†å²è®°å½• + é”®ç›˜å¯¼èˆª