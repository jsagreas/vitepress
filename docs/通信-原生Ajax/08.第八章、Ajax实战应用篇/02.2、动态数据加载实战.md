---
title: 2ã€åŠ¨æ€æ•°æ®åŠ è½½å®æˆ˜
---
## ğŸ“š ç›®å½•

1. [é¡µé¢æ•°æ®åŠ è½½åŸºç¡€](#1-é¡µé¢æ•°æ®åŠ è½½åŸºç¡€)
2. [JSONæ•°æ®æ¸²æŸ“å®è·µ](#2-JSONæ•°æ®æ¸²æŸ“å®è·µ)
3. [åˆ†é¡µä¸åŠ è½½æ›´å¤š](#3-åˆ†é¡µä¸åŠ è½½æ›´å¤š)
4. [æ— é™æ»šåŠ¨å®ç°](#4-æ— é™æ»šåŠ¨å®ç°)
5. [æ€§èƒ½ä¼˜åŒ–æŠ€å·§](#5-æ€§èƒ½ä¼˜åŒ–æŠ€å·§)
6. [ç”¨æˆ·ä½“éªŒæå‡](#6-ç”¨æˆ·ä½“éªŒæå‡)
7. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#7-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ”„ é¡µé¢æ•°æ®åŠ è½½åŸºç¡€


### 1.1 ä»€ä¹ˆæ˜¯åŠ¨æ€æ•°æ®åŠ è½½


**ğŸ”¸ ç®€å•ç†è§£**ï¼šå°±åƒæ‰“å¼€ä¸€ä¸ªç©ºç™½çš„ç›¸å†Œï¼Œç„¶åé€šè¿‡ç½‘ç»œä¸€å¼ å¼ åœ°æ·»åŠ ç…§ç‰‡è¿›å»

```
ä¼ ç»Ÿæ–¹å¼ï¼šæœåŠ¡å™¨ç›´æ¥è¿”å›å®Œæ•´HTMLé¡µé¢
ç°ä»£æ–¹å¼ï¼šé¡µé¢æ¡†æ¶ + Ajaxè·å–æ•°æ® + JavaScriptæ¸²æŸ“

ä¼˜åŠ¿å¯¹æ¯”ï¼š
âœ… é¡µé¢å“åº”æ›´å¿«ï¼ˆå…ˆæ˜¾ç¤ºæ¡†æ¶ï¼‰
âœ… æ•°æ®æ›´æ–°ä¸éœ€è¦åˆ·æ–°æ•´ä¸ªé¡µé¢
âœ… ç”¨æˆ·ä½“éªŒæ›´æµç•…
âœ… å‡å°‘æœåŠ¡å™¨å‹åŠ›
```

### 1.2 é¡µé¢åˆå§‹åŒ–æ•°æ®åŠ è½½


**ğŸ¯ åŸºæœ¬æ€è·¯**ï¼šé¡µé¢åŠ è½½å®Œæˆåï¼Œç«‹å³å‘é€Ajaxè¯·æ±‚è·å–æ•°æ®

```javascript
// ç­‰é¡µé¢DOMåŠ è½½å®Œæˆåæ‰§è¡Œ
document.addEventListener('DOMContentLoaded', function() {
    loadInitialData();
});

function loadInitialData() {
    // æ˜¾ç¤ºåŠ è½½æç¤º
    showLoading();
    
    // å‘é€Ajaxè¯·æ±‚
    const xhr = new XMLHttpRequest();
    xhr.open('GET', '/api/articles', true);
    
    xhr.onreadystatechange = function() {
        if (xhr.readyState === 4 && xhr.status === 200) {
            const data = JSON.parse(xhr.responseText);
            renderArticles(data.articles);
            hideLoading();
        }
    };
    
    xhr.send();
}
```

**ğŸ“ å…³é”®ç†è§£**ï¼š
- `DOMContentLoaded`ï¼šé¡µé¢HTMLåŠ è½½å®Œæˆï¼Œä¸ç­‰å›¾ç‰‡ç­‰èµ„æº
- å…ˆæ˜¾ç¤ºåŠ è½½æç¤ºï¼Œç»™ç”¨æˆ·åé¦ˆ
- æ•°æ®åˆ°è¾¾åå†æ¸²æŸ“åˆ°é¡µé¢ä¸Š

---

## 2. ğŸ¨ JSONæ•°æ®æ¸²æŸ“å®è·µ


### 2.1 JSONæ•°æ®è½¬HTMLçš„æœ¬è´¨


**ğŸ’¡ æ ¸å¿ƒæ¦‚å¿µ**ï¼šæŠŠåç«¯è¿”å›çš„æ•°æ®å¯¹è±¡ï¼Œè½¬æ¢æˆç”¨æˆ·èƒ½çœ‹åˆ°çš„HTMLå…ƒç´ 

```javascript
// åç«¯è¿”å›çš„JSONæ•°æ®
const articleData = {
    "articles": [
        {
            "id": 1,
            "title": "å­¦ä¹ AjaxçœŸæœ‰è¶£",
            "author": "å°æ˜",
            "publishTime": "2025-01-15",
            "summary": "Ajaxè®©ç½‘é¡µå˜å¾—æ›´åŠ åŠ¨æ€..."
        },
        {
            "id": 2,
            "title": "å‰ç«¯å¼€å‘æŠ€å·§",
            "author": "å°çº¢", 
            "publishTime": "2025-01-14",
            "summary": "åˆ†äº«ä¸€äº›å®ç”¨çš„å‰ç«¯æŠ€å·§..."
        }
    ]
};
```

### 2.2 æ•°æ®æ¸²æŸ“çš„å®ç°æ–¹å¼


**ğŸ”§ æ–¹æ³•ä¸€ï¼šå­—ç¬¦ä¸²æ‹¼æ¥**

```javascript
function renderArticles(articles) {
    const container = document.getElementById('articles-container');
    let html = '';
    
    articles.forEach(article => {
        html += `
            <div class="article-item">
                <h3>${article.title}</h3>
                <div class="meta">
                    <span>ä½œè€…ï¼š${article.author}</span>
                    <span>å‘å¸ƒæ—¶é—´ï¼š${article.publishTime}</span>
                </div>
                <p>${article.summary}</p>
            </div>
        `;
    });
    
    container.innerHTML = html;
}
```

**ğŸ”§ æ–¹æ³•äºŒï¼šDOMæ“ä½œ**

```javascript
function renderArticlesDom(articles) {
    const container = document.getElementById('articles-container');
    
    articles.forEach(article => {
        // åˆ›å»ºæ–‡ç« å®¹å™¨
        const articleDiv = document.createElement('div');
        articleDiv.className = 'article-item';
        
        // åˆ›å»ºæ ‡é¢˜
        const title = document.createElement('h3');
        title.textContent = article.title;
        
        // åˆ›å»ºå…ƒä¿¡æ¯
        const meta = document.createElement('div');
        meta.className = 'meta';
        meta.innerHTML = `
            <span>ä½œè€…ï¼š${article.author}</span>
            <span>å‘å¸ƒæ—¶é—´ï¼š${article.publishTime}</span>
        `;
        
        // åˆ›å»ºæ‘˜è¦
        const summary = document.createElement('p');
        summary.textContent = article.summary;
        
        // ç»„è£…å¹¶æ·»åŠ åˆ°é¡µé¢
        articleDiv.appendChild(title);
        articleDiv.appendChild(meta);
        articleDiv.appendChild(summary);
        container.appendChild(articleDiv);
    });
}
```

**ğŸ¤” ä¸¤ç§æ–¹æ³•å¯¹æ¯”**ï¼š

| æ–¹å¼ | ä¼˜ç‚¹ | ç¼ºç‚¹ | é€‚ç”¨åœºæ™¯ |
|------|------|------|----------|
| **å­—ç¬¦ä¸²æ‹¼æ¥** | ä»£ç ç®€æ´ï¼Œä¸€æ¬¡æ€§æ¸²æŸ“å¿« | ä¸èƒ½ç»‘å®šäº‹ä»¶ï¼Œå®‰å…¨æ€§å·® | çº¯å±•ç¤ºå†…å®¹ |
| **DOMæ“ä½œ** | å¯ç»‘å®šäº‹ä»¶ï¼Œæ›´å®‰å…¨ | ä»£ç å¤æ‚ï¼Œæ¸²æŸ“è¾ƒæ…¢ | éœ€è¦äº¤äº’çš„å†…å®¹ |

---

## 3. ğŸ“– åˆ†é¡µä¸åŠ è½½æ›´å¤š


### 3.1 åˆ†é¡µåŠ è½½çš„åŸç†


**ğŸ”¸ åŸºæœ¬æ¦‚å¿µ**ï¼šæ•°æ®å¤ªå¤šä¸€æ¬¡æ˜¾ç¤ºä¸å®Œï¼Œåˆ†æ‰¹æ¬¡è·å–å’Œå±•ç¤º

```
æ•°æ®åº“ä¸­æœ‰1000æ¡æ–‡ç« 
ç¬¬1é¡µï¼šæ˜¾ç¤ºç¬¬1-10æ¡
ç¬¬2é¡µï¼šæ˜¾ç¤ºç¬¬11-20æ¡  
ç¬¬3é¡µï¼šæ˜¾ç¤ºç¬¬21-30æ¡
...

é¡µé¢å‚æ•°ï¼š
- page: å½“å‰é¡µç 
- pageSize: æ¯é¡µæ˜¾ç¤ºæ•°é‡
```

### 3.2 åˆ†é¡µåŠ è½½å®ç°


```javascript
class ArticleLoader {
    constructor() {
        this.currentPage = 1;
        this.pageSize = 10;
        this.loading = false;
        this.hasMore = true;
    }
    
    // åŠ è½½æŒ‡å®šé¡µæ•°æ®
    async loadPage(page) {
        if (this.loading) return; // é˜²æ­¢é‡å¤è¯·æ±‚
        
        this.loading = true;
        showLoading();
        
        try {
            const response = await this.fetchArticles(page);
            const data = JSON.parse(response);
            
            if (page === 1) {
                // ç¬¬ä¸€é¡µï¼šæ¸…ç©ºå®¹å™¨åæ·»åŠ 
                this.clearContainer();
            }
            
            this.renderArticles(data.articles);
            this.hasMore = data.hasMore;
            this.currentPage = page;
            
        } catch (error) {
            console.error('åŠ è½½å¤±è´¥:', error);
            showError('åŠ è½½å¤±è´¥ï¼Œè¯·é‡è¯•');
        } finally {
            this.loading = false;
            hideLoading();
        }
    }
    
    // åŠ è½½ä¸‹ä¸€é¡µï¼ˆè¿½åŠ æ¨¡å¼ï¼‰
    loadMore() {
        if (!this.hasMore || this.loading) return;
        this.loadPage(this.currentPage + 1);
    }
    
    // å‘é€Ajaxè¯·æ±‚
    fetchArticles(page) {
        return new Promise((resolve, reject) => {
            const xhr = new XMLHttpRequest();
            xhr.open('GET', `/api/articles?page=${page}&pageSize=${this.pageSize}`);
            
            xhr.onreadystatechange = function() {
                if (xhr.readyState === 4) {
                    if (xhr.status === 200) {
                        resolve(xhr.responseText);
                    } else {
                        reject(new Error('è¯·æ±‚å¤±è´¥'));
                    }
                }
            };
            
            xhr.send();
        });
    }
}

// ä½¿ç”¨ç¤ºä¾‹
const loader = new ArticleLoader();

// é¡µé¢åŠ è½½æ—¶è·å–ç¬¬ä¸€é¡µ
document.addEventListener('DOMContentLoaded', () => {
    loader.loadPage(1);
});

// ç‚¹å‡»"åŠ è½½æ›´å¤š"æŒ‰é’®
document.getElementById('load-more-btn').addEventListener('click', () => {
    loader.loadMore();
});
```

### 3.3 åŠ è½½çŠ¶æ€çš„ç”¨æˆ·åé¦ˆ


**ğŸ’« åŠ è½½ä¸­çŠ¶æ€æç¤º**

```javascript
function showLoading() {
    const loadingEl = document.getElementById('loading');
    loadingEl.style.display = 'block';
    loadingEl.innerHTML = `
        <div class="loading-spinner">
            <div class="spinner"></div>
            <p>æ­£åœ¨åŠ è½½ä¸­...</p>
        </div>
    `;
}

function hideLoading() {
    document.getElementById('loading').style.display = 'none';
}

function showError(message) {
    const errorEl = document.getElementById('error');
    errorEl.style.display = 'block';
    errorEl.textContent = message;
    
    // 3ç§’åè‡ªåŠ¨éšè—
    setTimeout(() => {
        errorEl.style.display = 'none';
    }, 3000);
}
```

---

## 4. ğŸš€ æ— é™æ»šåŠ¨å®ç°


### 4.1 æ— é™æ»šåŠ¨çš„åŸç†


**ğŸ”¸ æ ¸å¿ƒæ€æƒ³**ï¼šå½“ç”¨æˆ·æ»šåŠ¨åˆ°é¡µé¢åº•éƒ¨æ—¶ï¼Œè‡ªåŠ¨åŠ è½½ä¸‹ä¸€é¡µæ•°æ®

```
ç”¨æˆ·ä½“éªŒæµç¨‹ï¼š
1. ç”¨æˆ·æ‰“å¼€é¡µé¢ â†’ æ˜¾ç¤ºç¬¬ä¸€é¡µæ•°æ®
2. ç”¨æˆ·å‘ä¸‹æ»šåŠ¨ â†’ æ¥è¿‘åº•éƒ¨æ—¶è‡ªåŠ¨åŠ è½½ç¬¬äºŒé¡µ
3. æ–°æ•°æ®åŠ è½½å®Œæˆ â†’ è¿½åŠ åˆ°é¡µé¢åº•éƒ¨
4. ç”¨æˆ·ç»§ç»­æ»šåŠ¨ â†’ é‡å¤ä¸Šè¿°è¿‡ç¨‹

åˆ¤æ–­æ—¶æœºï¼š
æ»šåŠ¨ä½ç½® + å¯è§†çª—å£é«˜åº¦ â‰¥ æ–‡æ¡£æ€»é«˜åº¦ - é¢„åŠ è½½è·ç¦»
```

### 4.2 æ»šåŠ¨ç›‘å¬å®ç°


```javascript
class InfiniteScroller {
    constructor(loader) {
        this.loader = loader;
        this.preloadDistance = 100; // è·ç¦»åº•éƒ¨100pxæ—¶å¼€å§‹åŠ è½½
        this.init();
    }
    
    init() {
        // ç›‘å¬çª—å£æ»šåŠ¨äº‹ä»¶
        window.addEventListener('scroll', this.throttle(this.handleScroll.bind(this), 200));
    }
    
    handleScroll() {
        // å¦‚æœæ­£åœ¨åŠ è½½æˆ–æ²¡æœ‰æ›´å¤šæ•°æ®ï¼Œç›´æ¥è¿”å›
        if (this.loader.loading || !this.loader.hasMore) return;
        
        // è®¡ç®—æ»šåŠ¨ä½ç½®
        const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
        const windowHeight = window.innerHeight;
        const documentHeight = document.documentElement.scrollHeight;
        
        // åˆ¤æ–­æ˜¯å¦æ¥è¿‘åº•éƒ¨
        const distanceToBottom = documentHeight - (scrollTop + windowHeight);
        
        if (distanceToBottom <= this.preloadDistance) {
            console.log('è§¦å‘åŠ è½½æ›´å¤š');
            this.loader.loadMore();
        }
    }
    
    // èŠ‚æµå‡½æ•°ï¼šé¿å…æ»šåŠ¨äº‹ä»¶è§¦å‘è¿‡äºé¢‘ç¹
    throttle(func, delay) {
        let timer = null;
        return function() {
            if (!timer) {
                timer = setTimeout(() => {
                    func.apply(this, arguments);
                    timer = null;
                }, delay);
            }
        };
    }
}

// ä½¿ç”¨ç¤ºä¾‹
const loader = new ArticleLoader();
const scroller = new InfiniteScroller(loader);

// åˆå§‹åŠ è½½
loader.loadPage(1);
```

### 4.3 æ»šåŠ¨åŠ è½½çš„ä¼˜åŒ–


**âš¡ æ€§èƒ½ä¼˜åŒ–è¦ç‚¹**ï¼š

1. **èŠ‚æµå¤„ç†**ï¼šé¿å…æ»šåŠ¨äº‹ä»¶è¿‡äºé¢‘ç¹è§¦å‘
2. **çŠ¶æ€æ£€æŸ¥**ï¼šé˜²æ­¢é‡å¤è¯·æ±‚å’Œæ— æ•ˆè¯·æ±‚  
3. **é¢„åŠ è½½è·ç¦»**ï¼šæå‰åŠ è½½ï¼Œé¿å…ç”¨æˆ·ç­‰å¾…
4. **é”™è¯¯å¤„ç†**ï¼šç½‘ç»œå¤±è´¥æ—¶çš„é‡è¯•æœºåˆ¶

```javascript
// å¢å¼ºç‰ˆæ»šåŠ¨æ£€æµ‹
handleScroll() {
    // é˜²æŠ–ï¼šå¿«é€Ÿæ»šåŠ¨æ—¶åªåœ¨åœæ­¢åæ‰§è¡Œ
    clearTimeout(this.scrollTimer);
    this.scrollTimer = setTimeout(() => {
        this.checkLoadMore();
    }, 100);
}

checkLoadMore() {
    if (this.loader.loading || !this.loader.hasMore) return;
    
    const { scrollTop, clientHeight, scrollHeight } = document.documentElement;
    const scrollPercent = (scrollTop + clientHeight) / scrollHeight;
    
    // æ»šåŠ¨åˆ°85%æ—¶å¼€å§‹é¢„åŠ è½½
    if (scrollPercent > 0.85) {
        this.loader.loadMore();
    }
}
```

---

## 5. âš¡ æ€§èƒ½ä¼˜åŒ–æŠ€å·§


### 5.1 è™šæ‹Ÿæ»šåŠ¨å¤„ç†å¤§é‡æ•°æ®


**ğŸ”¸ é—®é¢˜åœºæ™¯**ï¼šå½“éœ€è¦æ˜¾ç¤ºå‡ ä¸‡æ¡æ•°æ®æ—¶ï¼Œå…¨éƒ¨æ¸²æŸ“ä¼šè®©é¡µé¢å¡é¡¿

**ğŸ’¡ è§£å†³æ€è·¯**ï¼šåªæ¸²æŸ“ç”¨æˆ·èƒ½çœ‹åˆ°çš„éƒ¨åˆ†ï¼Œçœ‹ä¸åˆ°çš„ç”¨ç©ºç™½å ä½

```javascript
class VirtualScrollList {
    constructor(container, itemHeight, data) {
        this.container = container;
        this.itemHeight = itemHeight; // æ¯ä¸ªé¡¹ç›®çš„å›ºå®šé«˜åº¦
        this.data = data;
        this.visibleCount = Math.ceil(container.clientHeight / itemHeight) + 2; // å¯è§é¡¹ç›®æ•°+ç¼“å†²
        this.startIndex = 0;
        
        this.init();
    }
    
    init() {
        // åˆ›å»ºæ€»å®¹å™¨ï¼ˆè®¾ç½®æ€»é«˜åº¦ï¼‰
        this.totalHeight = this.data.length * this.itemHeight;
        this.container.style.height = this.totalHeight + 'px';
        this.container.style.position = 'relative';
        
        // åˆ›å»ºå¯è§å†…å®¹å®¹å™¨
        this.visibleContainer = document.createElement('div');
        this.visibleContainer.style.position = 'absolute';
        this.visibleContainer.style.top = '0px';
        this.container.appendChild(this.visibleContainer);
        
        // ç›‘å¬æ»šåŠ¨
        this.container.addEventListener('scroll', this.handleScroll.bind(this));
        
        // åˆå§‹æ¸²æŸ“
        this.render();
    }
    
    handleScroll() {
        const scrollTop = this.container.scrollTop;
        const newStartIndex = Math.floor(scrollTop / this.itemHeight);
        
        if (newStartIndex !== this.startIndex) {
            this.startIndex = newStartIndex;
            this.render();
        }
    }
    
    render() {
        // è®¡ç®—å¯è§èŒƒå›´
        const endIndex = Math.min(this.startIndex + this.visibleCount, this.data.length);
        const visibleData = this.data.slice(this.startIndex, endIndex);
        
        // æ¸…ç©ºå¹¶é‡æ–°æ¸²æŸ“
        this.visibleContainer.innerHTML = '';
        this.visibleContainer.style.top = (this.startIndex * this.itemHeight) + 'px';
        
        visibleData.forEach((item, index) => {
            const element = this.createItemElement(item);
            this.visibleContainer.appendChild(element);
        });
    }
    
    createItemElement(item) {
        const div = document.createElement('div');
        div.style.height = this.itemHeight + 'px';
        div.innerHTML = `<p>${item.title}</p>`;
        return div;
    }
}
```

**ğŸ“Š è™šæ‹Ÿæ»šåŠ¨æ•ˆæœå¯¹æ¯”**ï¼š

| æ•°æ®é‡ | æ™®é€šæ¸²æŸ“ | è™šæ‹Ÿæ»šåŠ¨ | æ€§èƒ½æå‡ |
|--------|----------|----------|----------|
| 1000æ¡ | æµç•… | æµç•… | æŒå¹³ |
| 10000æ¡ | æ˜æ˜¾å¡é¡¿ | æµç•… | æ˜¾è‘—æå‡ |
| 100000æ¡ | é¡µé¢å¡æ­» | æµç•… | è´¨çš„é£è·ƒ |

### 5.2 æ•°æ®æ›´æ–°å’Œå±€éƒ¨åˆ·æ–°


**ğŸ”¸ æ ¸å¿ƒæ€æƒ³**ï¼šåªæ›´æ–°å˜åŒ–çš„éƒ¨åˆ†ï¼Œè€Œä¸æ˜¯é‡æ–°æ¸²æŸ“æ•´ä¸ªåˆ—è¡¨

```javascript
class SmartRenderer {
    constructor(container) {
        this.container = container;
        this.currentData = [];
        this.itemMap = new Map(); // å­˜å‚¨æ¯ä¸ªæ•°æ®é¡¹å¯¹åº”çš„DOMå…ƒç´ 
    }
    
    // æ™ºèƒ½æ›´æ–°æ•°æ®
    updateData(newData) {
        const oldData = this.currentData;
        
        // æ‰¾å‡ºæ–°å¢ã€åˆ é™¤ã€ä¿®æ”¹çš„é¡¹ç›®
        const changes = this.compareData(oldData, newData);
        
        // åªæ›´æ–°å˜åŒ–çš„éƒ¨åˆ†
        this.applyChanges(changes);
        
        this.currentData = newData;
    }
    
    compareData(oldData, newData) {
        const changes = {
            added: [],
            removed: [],
            updated: []
        };
        
        const oldMap = new Map(oldData.map(item => [item.id, item]));
        const newMap = new Map(newData.map(item => [item.id, item]));
        
        // æ‰¾æ–°å¢é¡¹
        newData.forEach(item => {
            if (!oldMap.has(item.id)) {
                changes.added.push(item);
            } else {
                // æ£€æŸ¥æ˜¯å¦æœ‰ä¿®æ”¹
                const oldItem = oldMap.get(item.id);
                if (JSON.stringify(oldItem) !== JSON.stringify(item)) {
                    changes.updated.push(item);
                }
            }
        });
        
        // æ‰¾åˆ é™¤é¡¹
        oldData.forEach(item => {
            if (!newMap.has(item.id)) {
                changes.removed.push(item);
            }
        });
        
        return changes;
    }
    
    applyChanges(changes) {
        // åˆ é™¤é¡¹ç›®
        changes.removed.forEach(item => {
            const element = this.itemMap.get(item.id);
            if (element) {
                element.remove();
                this.itemMap.delete(item.id);
            }
        });
        
        // æ›´æ–°é¡¹ç›®
        changes.updated.forEach(item => {
            const element = this.itemMap.get(item.id);
            if (element) {
                this.updateElement(element, item);
            }
        });
        
        // æ–°å¢é¡¹ç›®
        changes.added.forEach(item => {
            const element = this.createElement(item);
            this.container.appendChild(element);
            this.itemMap.set(item.id, element);
        });
    }
}
```

---

## 6. ğŸ¨ ç”¨æˆ·ä½“éªŒæå‡


### 6.1 éª¨æ¶å±åŠ è½½ä¼˜åŒ–


**ğŸ”¸ ä»€ä¹ˆæ˜¯éª¨æ¶å±**ï¼šåœ¨çœŸå®å†…å®¹åŠ è½½å‰ï¼Œæ˜¾ç¤ºé¡µé¢ç»“æ„çš„å ä½ç¬¦

**ğŸ’¡ è®¾è®¡ç†å¿µ**ï¼šè®©ç”¨æˆ·æ„Ÿè§‰é¡µé¢åœ¨"å‡†å¤‡ä¸­"è€Œä¸æ˜¯"å¡ä½äº†"

```html
<!-- éª¨æ¶å±HTMLç»“æ„ -->
<div id="skeleton" class="skeleton-container">
    <div class="skeleton-item">
        <div class="skeleton-title"></div>
        <div class="skeleton-meta">
            <div class="skeleton-author"></div>
            <div class="skeleton-date"></div>
        </div>
        <div class="skeleton-summary"></div>
    </div>
    <!-- é‡å¤å‡ ä¸ªskeleton-item -->
</div>
```

```css
/* éª¨æ¶å±æ ·å¼ */
.skeleton-container {
    padding: 20px;
}

.skeleton-item {
    margin-bottom: 20px;
    padding: 15px;
    border: 1px solid #eee;
    border-radius: 8px;
}

.skeleton-title,
.skeleton-author, 
.skeleton-date,
.skeleton-summary {
    height: 16px;
    background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
    background-size: 200% 100%;
    animation: loading 1.5s infinite;
    border-radius: 4px;
    margin-bottom: 10px;
}

.skeleton-title {
    height: 24px;
    width: 70%;
}

.skeleton-author {
    width: 100px;
    display: inline-block;
    margin-right: 20px;
}

.skeleton-date {
    width: 120px;
    display: inline-block;
}

.skeleton-summary {
    width: 100%;
    height: 40px;
}

@keyframes loading {
    0% { background-position: 200% 0; }
    100% { background-position: -200% 0; }
}
```

```javascript
// éª¨æ¶å±æ§åˆ¶
function showSkeleton() {
    document.getElementById('skeleton').style.display = 'block';
    document.getElementById('content').style.display = 'none';
}

function hideSkeleton() {
    document.getElementById('skeleton').style.display = 'none';
    document.getElementById('content').style.display = 'block';
}

// åœ¨æ•°æ®åŠ è½½æµç¨‹ä¸­ä½¿ç”¨
async function loadData() {
    showSkeleton();
    
    try {
        const data = await fetchData();
        renderContent(data);
    } finally {
        hideSkeleton();
    }
}
```

### 6.2 ä¼˜é›…çš„é”™è¯¯å¤„ç†


**ğŸ› ï¸ å…¨é¢çš„é”™è¯¯å¤„ç†ç­–ç•¥**

```javascript
class ErrorHandler {
    // ç½‘ç»œé”™è¯¯å¤„ç†
    static handleNetworkError(error) {
        console.error('ç½‘ç»œé”™è¯¯:', error);
        this.showErrorMessage('ç½‘ç»œè¿æ¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œåé‡è¯•', 'retry');
    }
    
    // æœåŠ¡å™¨é”™è¯¯å¤„ç†
    static handleServerError(status, message) {
        console.error('æœåŠ¡å™¨é”™è¯¯:', status, message);
        
        const errorMessages = {
            404: 'è¯·æ±‚çš„æ•°æ®ä¸å­˜åœ¨',
            500: 'æœåŠ¡å™¨å†…éƒ¨é”™è¯¯ï¼Œè¯·ç¨åé‡è¯•',
            403: 'æ²¡æœ‰æƒé™è®¿é—®è¯¥æ•°æ®'
        };
        
        const userMessage = errorMessages[status] || `æœåŠ¡å™¨é”™è¯¯(${status})`;
        this.showErrorMessage(userMessage, 'retry');
    }
    
    // æ•°æ®è§£æé”™è¯¯
    static handleParseError(error) {
        console.error('æ•°æ®è§£æé”™è¯¯:', error);
        this.showErrorMessage('æ•°æ®æ ¼å¼é”™è¯¯ï¼Œè¯·è”ç³»æŠ€æœ¯æ”¯æŒ', 'contact');
    }
    
    // æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯
    static showErrorMessage(message, actionType) {
        const errorContainer = document.getElementById('error-container');
        errorContainer.innerHTML = `
            <div class="error-box">
                <p class="error-text">${message}</p>
                ${this.getErrorAction(actionType)}
            </div>
        `;
        errorContainer.style.display = 'block';
    }
    
    // è·å–é”™è¯¯æ“ä½œæŒ‰é’®
    static getErrorAction(actionType) {
        switch(actionType) {
            case 'retry':
                return '<button onclick="location.reload()" class="retry-btn">é‡æ–°åŠ è½½</button>';
            case 'contact':
                return '<button onclick="contactSupport()" class="contact-btn">è”ç³»å®¢æœ</button>';
            default:
                return '';
        }
    }
}

// åœ¨Ajaxè¯·æ±‚ä¸­ä½¿ç”¨
function loadDataWithErrorHandling() {
    const xhr = new XMLHttpRequest();
    xhr.open('GET', '/api/data');
    
    xhr.onreadystatechange = function() {
        if (xhr.readyState === 4) {
            if (xhr.status === 200) {
                try {
                    const data = JSON.parse(xhr.responseText);
                    renderData(data);
                } catch (error) {
                    ErrorHandler.handleParseError(error);
                }
            } else {
                ErrorHandler.handleServerError(xhr.status, xhr.statusText);
            }
        }
    };
    
    xhr.onerror = function() {
        ErrorHandler.handleNetworkError(new Error('Network failed'));
    };
    
    xhr.send();
}
```

---

## 7. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 7.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ åŠ¨æ€åŠ è½½æœ¬è´¨ï¼šé¡µé¢æ¡†æ¶ + Ajaxæ•°æ® + JavaScriptæ¸²æŸ“
ğŸ”¸ JSONè½¬HTMLï¼šæŠŠæ•°æ®å¯¹è±¡è½¬æ¢ä¸ºç”¨æˆ·ç•Œé¢
ğŸ”¸ åˆ†é¡µåŠ è½½ï¼šå¤§é‡æ•°æ®åˆ†æ‰¹è·å–å’Œå±•ç¤º
ğŸ”¸ æ— é™æ»šåŠ¨ï¼šæ»šåŠ¨åˆ°åº•éƒ¨è‡ªåŠ¨åŠ è½½ä¸‹ä¸€é¡µ
ğŸ”¸ æ€§èƒ½ä¼˜åŒ–ï¼šè™šæ‹Ÿæ»šåŠ¨ã€å±€éƒ¨æ›´æ–°ã€éª¨æ¶å±
ğŸ”¸ ç”¨æˆ·ä½“éªŒï¼šåŠ è½½çŠ¶æ€ã€é”™è¯¯å¤„ç†ã€å‹å¥½æç¤º
```

### 7.2 å…³é”®å®ç°è¦ç‚¹


**ğŸ”¹ æ•°æ®åŠ è½½æµç¨‹**
```
1. é¡µé¢åŠ è½½å®Œæˆ â†’ æ˜¾ç¤ºéª¨æ¶å±
2. å‘é€Ajaxè¯·æ±‚ â†’ æ˜¾ç¤ºåŠ è½½çŠ¶æ€  
3. æ¥æ”¶æ•°æ®å“åº” â†’ è§£æJSONæ•°æ®
4. æ¸²æŸ“åˆ°é¡µé¢ â†’ éšè—åŠ è½½çŠ¶æ€
5. ç»‘å®šäº¤äº’äº‹ä»¶ â†’ ç­‰å¾…ç”¨æˆ·æ“ä½œ
```

**ğŸ”¹ æ€§èƒ½ä¼˜åŒ–åŸåˆ™**
```
æ•°æ®é‡å°ï¼šç®€å•æ¸²æŸ“å³å¯
æ•°æ®é‡ä¸­ï¼šåˆ†é¡µ + é¢„åŠ è½½
æ•°æ®é‡å¤§ï¼šè™šæ‹Ÿæ»šåŠ¨ + æ‡’åŠ è½½
è¶…å¤§æ•°æ®ï¼šæœåŠ¡ç«¯åˆ†é¡µ + å®¢æˆ·ç«¯ä¼˜åŒ–
```

**ğŸ”¹ ç”¨æˆ·ä½“éªŒå…³é”®ç‚¹**
```
âœ… å¿«é€Ÿå“åº”ï¼šéª¨æ¶å±è®©ç”¨æˆ·æ„ŸçŸ¥é¡µé¢åœ¨å·¥ä½œ
âœ… çŠ¶æ€åé¦ˆï¼šæ˜ç¡®å‘ŠçŸ¥å½“å‰çš„åŠ è½½çŠ¶æ€
âœ… é”™è¯¯å‹å¥½ï¼šç½‘ç»œå¼‚å¸¸æ—¶æä¾›é‡è¯•æœºåˆ¶
âœ… äº¤äº’æµç•…ï¼šé¿å…é¡µé¢å¡é¡¿å’Œæ— å“åº”
```

### 7.3 æœ€ä½³å®è·µå»ºè®®


**ğŸ“ å¼€å‘å»ºè®®**ï¼š
- ğŸ¯ å…ˆå®ç°åŸºæœ¬åŠŸèƒ½ï¼Œå†ä¼˜åŒ–æ€§èƒ½
- âš¡ æ ¹æ®å®é™…æ•°æ®é‡é€‰æ‹©åˆé€‚çš„åŠ è½½ç­–ç•¥
- ğŸ”§ åšå¥½é”™è¯¯å¤„ç†ï¼Œæå‡ç”¨æˆ·ä½“éªŒ
- ğŸ“Š ç›‘æ§é¡µé¢æ€§èƒ½ï¼ŒåŠæ—¶å‘ç°é—®é¢˜

**ğŸš¨ å¸¸è§é™·é˜±**ï¼š
- âŒ å¿˜è®°é˜²æŠ–èŠ‚æµï¼Œå¯¼è‡´é‡å¤è¯·æ±‚
- âŒ æ²¡æœ‰é”™è¯¯å¤„ç†ï¼Œç½‘ç»œå¼‚å¸¸æ—¶é¡µé¢ç©ºç™½
- âŒ ä¸€æ¬¡åŠ è½½å¤ªå¤šæ•°æ®ï¼Œå¯¼è‡´é¡µé¢å¡é¡¿
- âŒ ç¼ºå°‘åŠ è½½çŠ¶æ€ï¼Œç”¨æˆ·ä¸çŸ¥é“å‘ç”Ÿäº†ä»€ä¹ˆ

**æ ¸å¿ƒè®°å¿†**ï¼š
- åŠ¨æ€åŠ è½½è®©é¡µé¢æ´»èµ·æ¥ï¼Œç”¨æˆ·ä½“éªŒæ›´æµç•…
- æ•°æ®æ¸²æŸ“è¦å¿«é€Ÿå“åº”ï¼Œé”™è¯¯å¤„ç†è¦å‹å¥½æç¤º
- æ€§èƒ½ä¼˜åŒ–çœ‹æ•°æ®é‡ï¼Œåˆé€‚çš„ç­–ç•¥æ˜¯å…³é”®
- ç”¨æˆ·æ„Ÿå—æœ€é‡è¦ï¼ŒæŠ€æœ¯æœåŠ¡äºä½“éªŒ