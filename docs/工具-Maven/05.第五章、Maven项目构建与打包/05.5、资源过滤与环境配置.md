---
title: 5ã€èµ„æºè¿‡æ»¤ä¸ç¯å¢ƒé…ç½®
---
## ğŸ“š ç›®å½•

1. [èµ„æºè¿‡æ»¤åŸºç¡€æ¦‚å¿µ](#1-èµ„æºè¿‡æ»¤åŸºç¡€æ¦‚å¿µ)
2. [å ä½ç¬¦æ›¿æ¢æœºåˆ¶](#2-å ä½ç¬¦æ›¿æ¢æœºåˆ¶)
3. [ç¯å¢ƒå˜é‡æ³¨å…¥é…ç½®](#3-ç¯å¢ƒå˜é‡æ³¨å…¥é…ç½®)
4. [Profileèµ„æºç®¡ç†](#4-profileèµ„æºç®¡ç†)
5. [é…ç½®æ–‡ä»¶ç®¡ç†ç­–ç•¥](#5-é…ç½®æ–‡ä»¶ç®¡ç†ç­–ç•¥)
6. [å¤šç¯å¢ƒæ„å»ºå®è·µ](#6-å¤šç¯å¢ƒæ„å»ºå®è·µ)
7. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#7-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

# ğŸ¯ **å­¦ä¹ å¯¼èˆª**

**å‰ç½®çŸ¥è¯†**ï¼šMavenåŸºç¡€å‘½ä»¤ã€pom.xmlé…ç½® â†’ **å½“å‰å†…å®¹**ï¼šèµ„æºè¿‡æ»¤ä¸ç¯å¢ƒé…ç½® â†’ **åç»­å­¦ä¹ **ï¼šMavenæ’ä»¶å¼€å‘

â±ï¸ **é¢„è®¡å­¦ä¹ æ—¶é—´**ï¼šæœ¬ç« é¢„è®¡45åˆ†é’Ÿ | å®è·µç»ƒä¹ 30åˆ†é’Ÿ

ğŸ·ï¸ **çŸ¥è¯†æ ‡ç­¾**ï¼š`#Mavenæ ¸å¿ƒ` `#é…ç½®ç®¡ç†` `#å¤šç¯å¢ƒéƒ¨ç½²` `#å¿…æŒæ¡`

---

## 1. ğŸ”§ èµ„æºè¿‡æ»¤åŸºç¡€æ¦‚å¿µ


### 1.1 ä»€ä¹ˆæ˜¯èµ„æºè¿‡æ»¤


**ğŸ”¸ æ ¸å¿ƒå®šä¹‰**
èµ„æºè¿‡æ»¤å°±æ˜¯Mavenåœ¨æ„å»ºé¡¹ç›®æ—¶ï¼ŒæŠŠé…ç½®æ–‡ä»¶ä¸­çš„å ä½ç¬¦æ›¿æ¢æˆçœŸå®å€¼çš„è¿‡ç¨‹ã€‚

**ğŸ’¡ ç”Ÿæ´»åŒ–ç†è§£**
æƒ³è±¡ä½ åœ¨å†™ä¸€å°ç¾¤å‘é‚®ä»¶ï¼š
- **æ¨¡æ¿é‚®ä»¶**ï¼šäº²çˆ±çš„`${å§“å}`ï¼Œæ‚¨å¥½ï¼æ¬¢è¿æ¥åˆ°`${å…¬å¸å}`
- **èµ„æºè¿‡æ»¤**ï¼šMavenå¸®ä½ æŠŠæ¯ä¸ªäººçš„å§“åå’Œå…¬å¸åè‡ªåŠ¨å¡«è¿›å»
- **æœ€ç»ˆé‚®ä»¶**ï¼šäº²çˆ±çš„å¼ ä¸‰ï¼Œæ‚¨å¥½ï¼æ¬¢è¿æ¥åˆ°ç§‘æŠ€æœ‰é™å…¬å¸

### 1.2 ä¸ºä»€ä¹ˆéœ€è¦èµ„æºè¿‡æ»¤


**ğŸ¯ è§£å†³çš„æ ¸å¿ƒé—®é¢˜**

| **åœºæ™¯é—®é¢˜** | **ä¼ ç»Ÿåšæ³•** | **èµ„æºè¿‡æ»¤æ–¹æ¡ˆ** |
|-------------|-------------|-----------------|
| **ä¸åŒç¯å¢ƒé…ç½®** | æ‰‹åŠ¨ä¿®æ”¹é…ç½®æ–‡ä»¶ | è‡ªåŠ¨æ›¿æ¢ç¯å¢ƒå˜é‡ |
| **ç‰ˆæœ¬ä¿¡æ¯ç®¡ç†** | ç¡¬ç¼–ç ç‰ˆæœ¬å· | åŠ¨æ€è·å–pomç‰ˆæœ¬ |
| **å›¢é˜Ÿåä½œå†²çª** | æ¯äººç»´æŠ¤è‡ªå·±é…ç½® | ç»Ÿä¸€æ¨¡æ¿åˆ†ç¦»å˜é‡ |

**âœ… å¸¦æ¥çš„å¥½å¤„**
- **ä¸€å¥—ä»£ç å¤šç¯å¢ƒ**ï¼šå¼€å‘ã€æµ‹è¯•ã€ç”Ÿäº§ç”¨åŒä¸€å¥—ä»£ç 
- **é…ç½®é›†ä¸­ç®¡ç†**ï¼šæ‰€æœ‰å˜é‡åœ¨ä¸€ä¸ªåœ°æ–¹å®šä¹‰
- **å‡å°‘äººä¸ºé”™è¯¯**ï¼šä¸éœ€è¦æ‰‹åŠ¨ä¿®æ”¹é…ç½®æ–‡ä»¶
- **ç‰ˆæœ¬ä¿¡æ¯åŒæ­¥**ï¼šè‡ªåŠ¨è·å–é¡¹ç›®ç‰ˆæœ¬å·

### 1.3 èµ„æºè¿‡æ»¤å·¥ä½œåŸç†


**ğŸ”„ å¤„ç†æµç¨‹å›¾ç¤º**
```
åŸå§‹é…ç½®æ–‡ä»¶                èµ„æºè¿‡æ»¤              æœ€ç»ˆé…ç½®æ–‡ä»¶
     â†“                        â†“                      â†“
database.url=               Mavenè¯»å–              database.url=
${db.host}:${db.port}   â†’   pom.xmlå±æ€§å€¼    â†’     localhost:3306
                            æ›¿æ¢å ä½ç¬¦             
app.version=                                      app.version=
${project.version}                               1.0.0-SNAPSHOT
```

**ğŸ”§ æŠ€æœ¯å®ç°æœºåˆ¶**
1. Mavenæ‰«æ`src/main/resources`ç›®å½•
2. å‘ç°å¸¦æœ‰`${}`å ä½ç¬¦çš„æ–‡ä»¶
3. ä»pom.xml propertiesæˆ–ç³»ç»Ÿå±æ€§è·å–å€¼
4. æ›¿æ¢å ä½ç¬¦ç”Ÿæˆæœ€ç»ˆæ–‡ä»¶
5. å°†å¤„ç†åçš„æ–‡ä»¶å¤åˆ¶åˆ°targetç›®å½•

---

## 2. ğŸ·ï¸ å ä½ç¬¦æ›¿æ¢æœºåˆ¶


### 2.1 å ä½ç¬¦è¯­æ³•è§„åˆ™


**ğŸ“ åŸºæœ¬è¯­æ³•æ ¼å¼**
```
åŸºç¡€è¯­æ³•ï¼š${å±æ€§å}
ç¤ºä¾‹ï¼š${project.version}ã€${db.host}ã€${user.name}

æ”¯æŒçš„å±æ€§æ¥æºï¼š
ğŸ”¸ pom.xmlä¸­çš„properties
ğŸ”¸ ç³»ç»Ÿå±æ€§ï¼ˆSystem.getProperty()ï¼‰
ğŸ”¸ ç¯å¢ƒå˜é‡ï¼ˆSystem.getenv()ï¼‰
ğŸ”¸ Mavenå†…ç½®å±æ€§
```

### 2.2 Mavenå†…ç½®å±æ€§è¯¦è§£


**â­ å¸¸ç”¨å†…ç½®å±æ€§è¡¨**

| **å±æ€§å** | **å«ä¹‰** | **ç¤ºä¾‹å€¼** | **ä½¿ç”¨åœºæ™¯** |
|-----------|----------|-----------|-------------|
| `${project.version}` | å½“å‰é¡¹ç›®ç‰ˆæœ¬ | `1.0.0` | ç‰ˆæœ¬ä¿¡æ¯æ˜¾ç¤º |
| `${project.name}` | é¡¹ç›®åç§° | `my-web-app` | åº”ç”¨æ ‡é¢˜ |
| `${project.groupId}` | ç»„ç»‡ID | `com.example` | åŒ…åå‰ç¼€ |
| `${project.artifactId}` | æ„ä»¶ID | `web-app` | æ¨¡å—è¯†åˆ« |
| `${maven.build.timestamp}` | æ„å»ºæ—¶é—´ | `2025-01-15T10:30:00Z` | æ„å»ºæ ‡è¯† |

**ğŸ’» å®é™…åº”ç”¨ç¤ºä¾‹**

åœ¨`application.properties`ä¸­ä½¿ç”¨ï¼š
```properties
# åº”ç”¨åŸºç¡€ä¿¡æ¯
app.name=${project.name}
app.version=${project.version}
app.build.time=${maven.build.timestamp}

# åŒ…è·¯å¾„é…ç½®
base.package=${project.groupId}.${project.artifactId}
```

### 2.3 è‡ªå®šä¹‰å±æ€§é…ç½®


**ğŸ› ï¸ pom.xmlå±æ€§å®šä¹‰**
```xml
<project>
    <!-- è‡ªå®šä¹‰å±æ€§å®šä¹‰ -->
    <properties>
        <!-- æ•°æ®åº“é…ç½® -->
        <db.driver>com.mysql.cj.jdbc.Driver</db.driver>
        <db.host>localhost</db.host>
        <db.port>3306</db.port>
        <db.name>myapp</db.name>
        
        <!-- åº”ç”¨é…ç½® -->
        <app.port>8080</app.port>
        <log.level>INFO</log.level>
        
        <!-- ç¼–ç é…ç½® -->
        <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
    </properties>
</project>
```

**ğŸ“‹ é…ç½®æ–‡ä»¶ä¸­ä½¿ç”¨**
åœ¨`config/database.properties`ä¸­ï¼š
```properties
# æ•°æ®åº“è¿æ¥é…ç½®
jdbc.driver=${db.driver}
jdbc.url=jdbc:mysql://${db.host}:${db.port}/${db.name}
jdbc.username=${db.username}
jdbc.password=${db.password}

# è¿æ¥æ± é…ç½®
connection.pool.size=10
connection.timeout=30000
```

---

## 3. ğŸŒ ç¯å¢ƒå˜é‡æ³¨å…¥é…ç½®


### 3.1 å¯ç”¨èµ„æºè¿‡æ»¤


**âš™ï¸ Mavené…ç½®å¯ç”¨è¿‡æ»¤**
```xml
<build>
    <resources>
        <resource>
            <directory>src/main/resources</directory>
            <!-- å¯ç”¨èµ„æºè¿‡æ»¤ -->
            <filtering>true</filtering>
        </resource>
    </resources>
</build>
```

**ğŸ’¡ ç†è§£è¦ç‚¹**
- `<filtering>true</filtering>`ï¼šå‘Šè¯‰Mavenè¦å¯¹è¿™ä¸ªç›®å½•ä¸‹çš„æ–‡ä»¶è¿›è¡Œå ä½ç¬¦æ›¿æ¢
- ä¸è®¾ç½®filteringæˆ–è®¾ä¸ºfalseæ—¶ï¼Œæ–‡ä»¶ä¼šåŸæ ·å¤åˆ¶ï¼Œä¸åšä»»ä½•å¤„ç†

### 3.2 é€‰æ‹©æ€§æ–‡ä»¶è¿‡æ»¤


**ğŸ¯ ç²¾ç¡®æ§åˆ¶è¿‡æ»¤èŒƒå›´**
```xml
<build>
    <resources>
        <!-- é…ç½®æ–‡ä»¶éœ€è¦è¿‡æ»¤ -->
        <resource>
            <directory>src/main/resources</directory>
            <filtering>true</filtering>
            <includes>
                <include>**/*.properties</include>
                <include>**/*.yml</include>
                <include>**/*.xml</include>
            </includes>
        </resource>
        
        <!-- é™æ€èµ„æºä¸éœ€è¦è¿‡æ»¤ -->
        <resource>
            <directory>src/main/resources</directory>
            <filtering>false</filtering>
            <includes>
                <include>**/*.jpg</include>
                <include>**/*.png</include>
                <include>**/*.pdf</include>
            </includes>
        </resource>
    </resources>
</build>
```

**âš ï¸ é‡è¦æé†’**
> å›¾ç‰‡ã€PDFç­‰äºŒè¿›åˆ¶æ–‡ä»¶å¦‚æœå¯ç”¨è¿‡æ»¤ä¼šè¢«æŸåï¼ä¸€å®šè¦æ’é™¤åœ¨å¤–ã€‚

### 3.3 ç³»ç»Ÿç¯å¢ƒå˜é‡ä½¿ç”¨


**ğŸ”§ ç¯å¢ƒå˜é‡è®¿é—®æ–¹å¼**

**æ–¹å¼ä¸€ï¼šç›´æ¥ä½¿ç”¨envå‰ç¼€**
```properties
# è·å–ç³»ç»Ÿç¯å¢ƒå˜é‡
java.home=${env.JAVA_HOME}
user.home=${env.USER_HOME}
database.password=${env.DB_PASSWORD}
```

**æ–¹å¼äºŒï¼šé€šè¿‡Mavenä¼ é€’**
```xml
<properties>
    <!-- ä»ç¯å¢ƒå˜é‡è·å– -->
    <db.password>${env.DB_PASSWORD}</db.password>
    <redis.host>${env.REDIS_HOST}</redis.host>
</properties>
```

**ğŸ–¥ï¸ å‘½ä»¤è¡Œå±æ€§è¦†ç›–**
```bash
# æ„å»ºæ—¶åŠ¨æ€æŒ‡å®šå±æ€§å€¼
mvn clean package -Ddb.host=192.168.1.100 -Ddb.port=5432

# ä½¿ç”¨ç¯å¢ƒå˜é‡
export DB_PASSWORD=secret123
mvn clean package
```

---

## 4. ğŸ“‚ Profileèµ„æºç®¡ç†


### 4.1 ProfileåŸºç¡€æ¦‚å¿µ


**ğŸ”¸ ä»€ä¹ˆæ˜¯Profile**
Profileæ˜¯Mavenä¸­ç”¨æ¥ç®¡ç†ä¸åŒç¯å¢ƒé…ç½®çš„æœºåˆ¶ï¼Œå¯ä»¥ç†è§£ä¸º"é…ç½®æ–¹æ¡ˆå¥—é¤"ã€‚

**ğŸ¢ å®é™…åº”ç”¨åœºæ™¯**
- **å¼€å‘ç¯å¢ƒï¼ˆdevï¼‰**ï¼šè¿æ¥æœ¬åœ°æ•°æ®åº“ï¼Œå¼€å¯debugæ—¥å¿—
- **æµ‹è¯•ç¯å¢ƒï¼ˆtestï¼‰**ï¼šè¿æ¥æµ‹è¯•æ•°æ®åº“ï¼Œé€‚ä¸­çš„æ—¥å¿—çº§åˆ«
- **ç”Ÿäº§ç¯å¢ƒï¼ˆprodï¼‰**ï¼šè¿æ¥ç”Ÿäº§æ•°æ®åº“ï¼Œç²¾ç®€æ—¥å¿—è¾“å‡º

### 4.2 Profileé…ç½®ç»“æ„


**ğŸ—ï¸ åŸºç¡€Profileé…ç½®**
```xml
<profiles>
    <!-- å¼€å‘ç¯å¢ƒé…ç½® -->
    <profile>
        <id>dev</id>
        <activation>
            <activeByDefault>true</activeByDefault>
        </activation>
        <properties>
            <db.host>localhost</db.host>
            <db.port>3306</db.port>
            <db.name>myapp_dev</db.name>
            <log.level>DEBUG</log.level>
        </properties>
    </profile>
    
    <!-- ç”Ÿäº§ç¯å¢ƒé…ç½® -->
    <profile>
        <id>prod</id>
        <properties>
            <db.host>prod-db.company.com</db.host>
            <db.port>3306</db.port>
            <db.name>myapp_prod</db.name>
            <log.level>WARN</log.level>
        </properties>
    </profile>
</profiles>
```

### 4.3 Profileæ¿€æ´»æ–¹å¼


**ğŸ® å¤šç§æ¿€æ´»æ–¹æ³•**

| **æ¿€æ´»æ–¹å¼** | **ä½¿ç”¨æ–¹æ³•** | **é€‚ç”¨åœºæ™¯** |
|-------------|-------------|-------------|
| **å‘½ä»¤è¡Œæ¿€æ´»** | `mvn clean package -Pprod` | æ‰‹åŠ¨æ„å»ºç‰¹å®šç¯å¢ƒ |
| **é»˜è®¤æ¿€æ´»** | `<activeByDefault>true</activeByDefault>` | å¼€å‘ç¯å¢ƒé»˜è®¤é…ç½® |
| **æ¡ä»¶æ¿€æ´»** | `<jdk>[1.8,)</jdk>` | åŸºäºJDKç‰ˆæœ¬è‡ªåŠ¨é€‰æ‹© |
| **ç³»ç»Ÿå±æ€§æ¿€æ´»** | `<property><name>env</name><value>prod</value></property>` | é€šè¿‡ç³»ç»Ÿå‚æ•°æ§åˆ¶ |

**ğŸ’» å®é™…ä½¿ç”¨ç¤ºä¾‹**
```bash
# ä½¿ç”¨å¼€å‘ç¯å¢ƒé…ç½®ï¼ˆé»˜è®¤ï¼‰
mvn clean package

# ä½¿ç”¨ç”Ÿäº§ç¯å¢ƒé…ç½®
mvn clean package -Pprod

# ä½¿ç”¨æµ‹è¯•ç¯å¢ƒé…ç½®
mvn clean package -Ptest

# åŒæ—¶æ¿€æ´»å¤šä¸ªprofile
mvn clean package -Ptest,integration
```

### 4.4 Profileç‰¹å®šèµ„æº


**ğŸ“ ä¸åŒç¯å¢ƒçš„èµ„æºæ–‡ä»¶**
```
src/main/resources/
â”œâ”€â”€ application.properties          # é€šç”¨é…ç½®æ¨¡æ¿
â”œâ”€â”€ profiles/
    â”œâ”€â”€ dev/
    â”‚   â”œâ”€â”€ database.properties     # å¼€å‘ç¯å¢ƒæ•°æ®åº“é…ç½®
    â”‚   â””â”€â”€ logback.xml            # å¼€å‘ç¯å¢ƒæ—¥å¿—é…ç½®
    â”œâ”€â”€ test/
    â”‚   â”œâ”€â”€ database.properties     # æµ‹è¯•ç¯å¢ƒé…ç½®
    â”‚   â””â”€â”€ logback.xml
    â””â”€â”€ prod/
        â”œâ”€â”€ database.properties     # ç”Ÿäº§ç¯å¢ƒé…ç½®
        â””â”€â”€ logback.xml
```

**âš™ï¸ Profileç‰¹å®šèµ„æºé…ç½®**
```xml
<profiles>
    <profile>
        <id>dev</id>
        <build>
            <resources>
                <!-- é€šç”¨èµ„æº -->
                <resource>
                    <directory>src/main/resources</directory>
                    <filtering>true</filtering>
                    <excludes>
                        <exclude>profiles/**</exclude>
                    </excludes>
                </resource>
                <!-- å¼€å‘ç¯å¢ƒç‰¹å®šèµ„æº -->
                <resource>
                    <directory>src/main/resources/profiles/dev</directory>
                    <filtering>true</filtering>
                </resource>
            </resources>
        </build>
    </profile>
</profiles>
```

---

## 5. ğŸ—‚ï¸ é…ç½®æ–‡ä»¶ç®¡ç†ç­–ç•¥


### 5.1 é…ç½®æ–‡ä»¶åˆ†å±‚è®¾è®¡


**ğŸ“Š é…ç½®æ–‡ä»¶å±‚æ¬¡ç»“æ„**
```
é…ç½®æ–‡ä»¶ç®¡ç†ç­–ç•¥
â”œâ”€â”€ åŸºç¡€é…ç½®å±‚
â”‚   â”œâ”€â”€ application.properties          # å…¬å…±é…ç½®æ¨¡æ¿
â”‚   â””â”€â”€ application-default.properties  # é»˜è®¤å€¼é…ç½®
â”œâ”€â”€ ç¯å¢ƒé…ç½®å±‚
â”‚   â”œâ”€â”€ application-dev.properties      # å¼€å‘ç¯å¢ƒä¸“ç”¨
â”‚   â”œâ”€â”€ application-test.properties     # æµ‹è¯•ç¯å¢ƒä¸“ç”¨
â”‚   â””â”€â”€ application-prod.properties     # ç”Ÿäº§ç¯å¢ƒä¸“ç”¨
â””â”€â”€ æœ¬åœ°é…ç½®å±‚
    â”œâ”€â”€ application-local.properties    # ä¸ªäººæœ¬åœ°é…ç½®
    â””â”€â”€ secrets.properties             # æ•æ„Ÿä¿¡æ¯é…ç½®
```

### 5.2 é…ç½®æ¨¡æ¿åŒ–ç®¡ç†


**ğŸ“ é€šç”¨é…ç½®æ¨¡æ¿ç¤ºä¾‹**

**application.propertiesï¼ˆæ¨¡æ¿æ–‡ä»¶ï¼‰**
```properties
# åº”ç”¨åŸºç¡€ä¿¡æ¯
app.name=${project.name}
app.version=${project.version}
app.build.time=${maven.build.timestamp}

# æœåŠ¡å™¨é…ç½®
server.port=${server.port}
server.context-path=${server.context.path}

# æ•°æ®åº“é…ç½®æ¨¡æ¿
spring.datasource.url=jdbc:mysql://${db.host}:${db.port}/${db.name}?useSSL=${db.ssl}&characterEncoding=UTF-8
spring.datasource.username=${db.username}
spring.datasource.password=${db.password}
spring.datasource.driver-class-name=${db.driver}

# æ—¥å¿—é…ç½®
logging.level.root=${log.level}
logging.level.${project.groupId}=${app.log.level}

# ç¼“å­˜é…ç½®
spring.redis.host=${redis.host}
spring.redis.port=${redis.port}
spring.redis.database=${redis.database}
```

### 5.3 æ•æ„Ÿä¿¡æ¯å¤„ç†


**ğŸ” å®‰å…¨é…ç½®ç®¡ç†**

**æ–¹æ¡ˆä¸€ï¼šç¯å¢ƒå˜é‡æ³¨å…¥**
```xml
<properties>
    <!-- ä»ç¯å¢ƒå˜é‡è·å–æ•æ„Ÿä¿¡æ¯ -->
    <db.password>${env.DB_PASSWORD}</db.password>
    <redis.password>${env.REDIS_PASSWORD}</redis.password>
    <api.secret>${env.API_SECRET_KEY}</api.secret>
</properties>
```

**æ–¹æ¡ˆäºŒï¼šå¤–éƒ¨é…ç½®æ–‡ä»¶**
```xml
<profile>
    <id>prod</id>
    <build>
        <resources>
            <!-- æ’é™¤æ•æ„Ÿé…ç½®æ–‡ä»¶ -->
            <resource>
                <directory>src/main/resources</directory>
                <filtering>true</filtering>
                <excludes>
                    <exclude>secrets.properties</exclude>
                </excludes>
            </resource>
        </resources>
    </build>
</profile>
```

**âš ï¸ å®‰å…¨æœ€ä½³å®è·µ**
> - æ•æ„Ÿä¿¡æ¯æ°¸è¿œä¸è¦æäº¤åˆ°ä»£ç ä»“åº“
> - ä½¿ç”¨ç¯å¢ƒå˜é‡æˆ–å¤–éƒ¨é…ç½®æ–‡ä»¶
> - åœ¨.gitignoreä¸­æ’é™¤æ•æ„Ÿé…ç½®æ–‡ä»¶
> - ç”Ÿäº§ç¯å¢ƒä½¿ç”¨å¯†é’¥ç®¡ç†æœåŠ¡

---

## 6. ğŸŒ å¤šç¯å¢ƒæ„å»ºå®è·µ


### 6.1 å®Œæ•´å¤šç¯å¢ƒé…ç½®ç¤ºä¾‹


**ğŸ—ï¸ å®Œæ•´pom.xmlé…ç½®**
```xml
<project>
    <!-- é»˜è®¤å±æ€§ -->
    <properties>
        <!-- ç¼–ç é…ç½® -->
        <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
        <maven.compiler.source>8</maven.compiler.source>
        <maven.compiler.target>8</maven.compiler.target>
        
        <!-- é€šç”¨é…ç½® -->
        <server.context.path>/api</server.context.path>
        <db.driver>com.mysql.cj.jdbc.Driver</db.driver>
    </properties>
    
    <profiles>
        <!-- å¼€å‘ç¯å¢ƒ -->
        <profile>
            <id>dev</id>
            <activation>
                <activeByDefault>true</activeByDefault>
            </activation>
            <properties>
                <server.port>8080</server.port>
                <db.host>localhost</db.host>
                <db.port>3306</db.port>
                <db.name>myapp_dev</db.name>
                <db.username>root</db.username>
                <db.password>123456</db.password>
                <db.ssl>false</db.ssl>
                <log.level>DEBUG</log.level>
                <app.log.level>DEBUG</app.log.level>
                <redis.host>localhost</redis.host>
                <redis.port>6379</redis.port>
                <redis.database>0</redis.database>
            </properties>
        </profile>
        
        <!-- æµ‹è¯•ç¯å¢ƒ -->
        <profile>
            <id>test</id>
            <properties>
                <server.port>8080</server.port>
                <db.host>test-db.internal</db.host>
                <db.port>3306</db.port>
                <db.name>myapp_test</db.name>
                <db.username>testuser</db.username>
                <db.password>${env.TEST_DB_PASSWORD}</db.password>
                <db.ssl>true</db.ssl>
                <log.level>INFO</log.level>
                <app.log.level>DEBUG</app.log.level>
                <redis.host>test-redis.internal</redis.host>
                <redis.port>6379</redis.port>
                <redis.database>1</redis.database>
            </properties>
        </profile>
        
        <!-- ç”Ÿäº§ç¯å¢ƒ -->
        <profile>
            <id>prod</id>
            <properties>
                <server.port>80</server.port>
                <db.host>prod-db.company.com</db.host>
                <db.port>3306</db.port>
                <db.name>myapp_prod</db.name>
                <db.username>appuser</db.username>
                <db.password>${env.PROD_DB_PASSWORD}</db.password>
                <db.ssl>true</db.ssl>
                <log.level>WARN</log.level>
                <app.log.level>INFO</app.log.level>
                <redis.host>prod-redis.company.com</redis.host>
                <redis.port>6379</redis.port>
                <redis.database>0</redis.database>
            </properties>
        </profile>
    </profiles>
    
    <!-- èµ„æºè¿‡æ»¤é…ç½® -->
    <build>
        <resources>
            <resource>
                <directory>src/main/resources</directory>
                <filtering>true</filtering>
                <excludes>
                    <!-- æ’é™¤äºŒè¿›åˆ¶æ–‡ä»¶ -->
                    <exclude>**/*.jpg</exclude>
                    <exclude>**/*.png</exclude>
                    <exclude>**/*.gif</exclude>
                    <exclude>**/*.pdf</exclude>
                </excludes>
            </resource>
            <resource>
                <directory>src/main/resources</directory>
                <filtering>false</filtering>
                <includes>
                    <!-- åŒ…å«äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œä¸è¿‡æ»¤ -->
                    <include>**/*.jpg</include>
                    <include>**/*.png</include>
                    <include>**/*.gif</include>
                    <include>**/*.pdf</include>
                </includes>
            </resource>
        </resources>
    </build>
</project>
```

### 6.2 æ„å»ºå‘½ä»¤å®æˆ˜


**ğŸš€ ä¸åŒç¯å¢ƒæ„å»ºå‘½ä»¤**
```bash
# å¼€å‘ç¯å¢ƒæ„å»ºï¼ˆé»˜è®¤ï¼‰
mvn clean package
# æˆ–æ˜ç¡®æŒ‡å®š
mvn clean package -Pdev

# æµ‹è¯•ç¯å¢ƒæ„å»º
export TEST_DB_PASSWORD=test123
mvn clean package -Ptest

# ç”Ÿäº§ç¯å¢ƒæ„å»º
export PROD_DB_PASSWORD=prod456
mvn clean package -Pprod

# æ„å»ºå¹¶è·³è¿‡æµ‹è¯•
mvn clean package -Pprod -DskipTests

# æŸ¥çœ‹å½“å‰æ¿€æ´»çš„Profile
mvn help:active-profiles
```

### 6.3 æ„å»ºéªŒè¯æ£€æŸ¥


**âœ… æ„å»ºç»“æœéªŒè¯**

**æ£€æŸ¥é…ç½®æ–‡ä»¶å†…å®¹**
```bash
# æ„å»ºåæ£€æŸ¥ç”Ÿæˆçš„é…ç½®æ–‡ä»¶
unzip -q target/myapp-1.0.0.jar
cat BOOT-INF/classes/application.properties

# éªŒè¯å ä½ç¬¦æ˜¯å¦æ­£ç¡®æ›¿æ¢
grep -E "\$\{.*\}" BOOT-INF/classes/application.properties
# å¦‚æœæœ‰è¾“å‡ºè¯´æ˜è¿˜æœ‰æœªæ›¿æ¢çš„å ä½ç¬¦
```

**ğŸ” å¸¸è§é—®é¢˜æ’æŸ¥**

| **é—®é¢˜ç°è±¡** | **å¯èƒ½åŸå› ** | **è§£å†³æ–¹æ³•** |
|-------------|-------------|-------------|
| å ä½ç¬¦æœªæ›¿æ¢ | èµ„æºè¿‡æ»¤æœªå¯ç”¨ | æ£€æŸ¥`<filtering>true</filtering>` |
| äºŒè¿›åˆ¶æ–‡ä»¶æŸå | å¯¹äºŒè¿›åˆ¶æ–‡ä»¶å¯ç”¨äº†è¿‡æ»¤ | æ’é™¤äºŒè¿›åˆ¶æ–‡ä»¶è¿‡æ»¤ |
| æ‰¾ä¸åˆ°å±æ€§å€¼ | Profileæœªæ¿€æ´»æˆ–å±æ€§åé”™è¯¯ | æ£€æŸ¥Profileæ¿€æ´»å’Œå±æ€§å |
| ç¯å¢ƒå˜é‡æœªæ³¨å…¥ | ç¯å¢ƒå˜é‡æœªè®¾ç½®æˆ–è¯­æ³•é”™è¯¯ | æ£€æŸ¥`${env.VAR_NAME}`è¯­æ³• |

---

## 7. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 7.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ èµ„æºè¿‡æ»¤ï¼šMavenæ„å»ºæ—¶è‡ªåŠ¨æ›¿æ¢é…ç½®æ–‡ä»¶ä¸­å ä½ç¬¦çš„æœºåˆ¶
ğŸ”¸ å ä½ç¬¦è¯­æ³•ï¼šä½¿ç”¨${å±æ€§å}æ ¼å¼åœ¨é…ç½®æ–‡ä»¶ä¸­å®šä¹‰å˜é‡
ğŸ”¸ Profileç®¡ç†ï¼šé€šè¿‡Profileå®ç°ä¸åŒç¯å¢ƒçš„é…ç½®ç®¡ç†
ğŸ”¸ ç¯å¢ƒå˜é‡æ³¨å…¥ï¼šä»ç³»ç»Ÿç¯å¢ƒå˜é‡è·å–é…ç½®å€¼çš„æ–¹æ³•
ğŸ”¸ é…ç½®æ–‡ä»¶åˆ†å±‚ï¼šå°†é…ç½®æŒ‰å±‚æ¬¡åˆ†ç¦»ï¼Œæé«˜å¯ç»´æŠ¤æ€§
```

### 7.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ ä¸ºä»€ä¹ˆèµ„æºè¿‡æ»¤å¾ˆé‡è¦**
```
è§£å†³çš„æ ¸å¿ƒé—®é¢˜ï¼š
- ä¸€å¥—ä»£ç é€‚åº”å¤šä¸ªç¯å¢ƒ
- é¿å…æ‰‹åŠ¨ä¿®æ”¹é…ç½®æ–‡ä»¶
- é›†ä¸­ç®¡ç†é…ç½®å˜é‡
- é˜²æ­¢é…ç½®é”™è¯¯å’Œæ³„éœ²

å®é™…ä»·å€¼ï¼š
- æé«˜å¼€å‘æ•ˆç‡
- å‡å°‘éƒ¨ç½²é”™è¯¯
- å¢å¼ºå®‰å…¨æ€§
- ä¾¿äºå›¢é˜Ÿåä½œ
```

**ğŸ”¹ Profileè®¾è®¡æœ€ä½³å®è·µ**
```
ç¯å¢ƒåˆ’åˆ†åŸåˆ™ï¼š
- devï¼šå¼€å‘ç¯å¢ƒï¼Œè°ƒè¯•å‹å¥½
- testï¼šæµ‹è¯•ç¯å¢ƒï¼Œæ¨¡æ‹Ÿç”Ÿäº§
- prodï¼šç”Ÿäº§ç¯å¢ƒï¼Œæ€§èƒ½ä¼˜åŒ–

é…ç½®ç®¡ç†ç­–ç•¥ï¼š
- å…¬å…±é…ç½®æŠ½å–åˆ°é»˜è®¤å±æ€§
- ç¯å¢ƒç‰¹å®šé…ç½®æ”¾åœ¨å¯¹åº”Profile
- æ•æ„Ÿä¿¡æ¯ä½¿ç”¨ç¯å¢ƒå˜é‡
- äºŒè¿›åˆ¶æ–‡ä»¶æ’é™¤è¿‡æ»¤èŒƒå›´
```

### 7.3 å®é™…åº”ç”¨ä»·å€¼


**ğŸ¯ å¼€å‘åœºæ™¯åº”ç”¨**
- **æœ¬åœ°å¼€å‘**ï¼šå¿«é€Ÿåˆ‡æ¢æ•°æ®åº“è¿æ¥
- **æŒç»­é›†æˆ**ï¼šè‡ªåŠ¨åŒ–å¤šç¯å¢ƒæ„å»º
- **ç‰ˆæœ¬å‘å¸ƒ**ï¼šä¸€é”®æ‰“åŒ…ä¸åŒç¯å¢ƒåŒ…
- **é…ç½®ç®¡ç†**ï¼šç»Ÿä¸€ç®¡ç†æ‰€æœ‰ç¯å¢ƒé…ç½®

**ğŸ› ï¸ æœ€ä½³å®è·µå»ºè®®**
```
é…ç½®è®¾è®¡ï¼š
- ä½¿ç”¨æœ‰æ„ä¹‰çš„å±æ€§åç§°
- ä¸ºæ¯ä¸ªå±æ€§æ·»åŠ æ³¨é‡Šè¯´æ˜
- è®¾ç½®åˆç†çš„é»˜è®¤å€¼
- æ•æ„Ÿä¿¡æ¯å¤–éƒ¨åŒ–ç®¡ç†

æ„å»ºä¼˜åŒ–ï¼š
- åˆç†ä½¿ç”¨æ–‡ä»¶åŒ…å«æ’é™¤è§„åˆ™
- é¿å…å¯¹äºŒè¿›åˆ¶æ–‡ä»¶å¯ç”¨è¿‡æ»¤
- ä½¿ç”¨Profileæ¡ä»¶æ¿€æ´»
- å®šæœŸæ£€æŸ¥æ„å»ºç»“æœ
```

### 7.4 å­¦ä¹ æ£€æŸ¥æ¸…å•


- [ ] ç†è§£èµ„æºè¿‡æ»¤çš„ä½œç”¨å’ŒåŸç†
- [ ] æŒæ¡å ä½ç¬¦è¯­æ³•å’Œå†…ç½®å±æ€§
- [ ] èƒ½å¤Ÿé…ç½®Profileç®¡ç†å¤šç¯å¢ƒ
- [ ] ä¼šä½¿ç”¨ç¯å¢ƒå˜é‡æ³¨å…¥é…ç½®
- [ ] äº†è§£é…ç½®æ–‡ä»¶ç®¡ç†æœ€ä½³å®è·µ
- [ ] èƒ½å¤Ÿæ’æŸ¥å¸¸è§çš„æ„å»ºé—®é¢˜

**ğŸ”‘ æ ¸å¿ƒè®°å¿†å£è¯€**
> èµ„æºè¿‡æ»¤æ›¿å ä½ï¼ŒProfileç®¡ç†å¤šç¯å¢ƒ
> æ•æ„Ÿä¿¡æ¯ç”¨ç¯å¢ƒå˜é‡ï¼ŒäºŒè¿›åˆ¶æ–‡ä»¶è¦æ’é™¤
> ä¸€å¥—ä»£ç è·‘å¤šå¤„ï¼Œé…ç½®åˆ†ç¦»æ˜¯å…³é”®

**ğŸ’¡ å»¶ä¼¸å­¦ä¹ å»ºè®®**
- å­¦ä¹ Spring Bootçš„å¤šProfileé…ç½®
- äº†è§£Dockerå®¹å™¨åŒ–éƒ¨ç½²é…ç½®
- ç ”ç©¶Kubernetes ConfigMapå’ŒSecret
- æ¢ç´¢é…ç½®ä¸­å¿ƒå¦‚Nacosã€Apolloçš„ä½¿ç”¨