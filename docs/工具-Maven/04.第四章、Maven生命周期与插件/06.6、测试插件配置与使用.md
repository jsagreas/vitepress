---
title: 6ã€æµ‹è¯•æ’ä»¶é…ç½®ä¸ä½¿ç”¨
---
## ğŸ“š ç›®å½•

1. [Mavenæµ‹è¯•æ’ä»¶æ¦‚è¿°](#1-Mavenæµ‹è¯•æ’ä»¶æ¦‚è¿°)
2. [Surefireæ’ä»¶åŸºç¡€é…ç½®](#2-Surefireæ’ä»¶åŸºç¡€é…ç½®)
3. [æµ‹è¯•æ‰§è¡Œæ§åˆ¶](#3-æµ‹è¯•æ‰§è¡Œæ§åˆ¶)
4. [æµ‹è¯•æŠ¥å‘Šç”Ÿæˆ](#4-æµ‹è¯•æŠ¥å‘Šç”Ÿæˆ)
5. [å¹¶è¡Œæµ‹è¯•é…ç½®](#5-å¹¶è¡Œæµ‹è¯•é…ç½®)
6. [å®é™…é¡¹ç›®åº”ç”¨](#6-å®é™…é¡¹ç›®åº”ç”¨)
7. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#7-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ§ª Mavenæµ‹è¯•æ’ä»¶æ¦‚è¿°


### 1.1 ä»€ä¹ˆæ˜¯Mavenæµ‹è¯•æ’ä»¶


**ğŸ’­ ç®€å•ç†è§£**
> æƒ³è±¡ä½ æ˜¯ä¸ªå¨å¸ˆï¼Œåšèœå‰è¦å…ˆå°ä¸€ä¸‹è°ƒæ–™å¯¹ä¸å¯¹ã€‚Mavenæµ‹è¯•æ’ä»¶å°±åƒæ˜¯å¸®ä½ "å°è°ƒæ–™"çš„åŠ©æ‰‹ï¼Œå®ƒä¼šè‡ªåŠ¨è¿è¡Œä½ å†™çš„æµ‹è¯•ä»£ç ï¼Œç¡®ä¿ä½ çš„ç¨‹åºæ²¡é—®é¢˜ã€‚

**ğŸ”¸ æ ¸å¿ƒä½œç”¨**
```
Mavenæµ‹è¯•æ’ä»¶ = è‡ªåŠ¨åŒ–æµ‹è¯•æ‰§è¡Œå™¨
â€¢ è‡ªåŠ¨æ‰¾åˆ°å¹¶è¿è¡Œæµ‹è¯•ä»£ç 
â€¢ ç”Ÿæˆæµ‹è¯•ç»“æœæŠ¥å‘Š
â€¢ æ§åˆ¶æµ‹è¯•æ‰§è¡Œæ–¹å¼
â€¢ å¤„ç†æµ‹è¯•å¤±è´¥æƒ…å†µ
```

### 1.2 ä¸»è¦æµ‹è¯•æ’ä»¶ä»‹ç»


| æ’ä»¶åç§° | **ä¸»è¦ç”¨é€”** | **é€‚ç”¨åœºæ™¯** | **æ‰§è¡Œé˜¶æ®µ** |
|---------|------------|-------------|-------------|
| **maven-surefire-plugin** | `å•å…ƒæµ‹è¯•æ‰§è¡Œ` | `JUnitã€TestNGå•å…ƒæµ‹è¯•` | `testé˜¶æ®µ` |
| **maven-failsafe-plugin** | `é›†æˆæµ‹è¯•æ‰§è¡Œ` | `ç³»ç»Ÿé›†æˆæµ‹è¯•` | `integration-testé˜¶æ®µ` |

**ğŸ“Œ é‡ç‚¹ç†è§£**
> **Surefire**æ˜¯æœ€å¸¸ç”¨çš„ï¼Œè´Ÿè´£è¿è¡Œå•å…ƒæµ‹è¯•ï¼ˆå°èŒƒå›´æµ‹è¯•ï¼‰
> **Failsafe**ä¸“é—¨è´Ÿè´£é›†æˆæµ‹è¯•ï¼ˆå¤§èŒƒå›´æµ‹è¯•ï¼‰

### 1.3 ä¸ºä»€ä¹ˆéœ€è¦æµ‹è¯•æ’ä»¶


**ğŸ¯ å®é™…ä»·å€¼**
```
æ²¡æœ‰æµ‹è¯•æ’ä»¶çš„ç—›ç‚¹ï¼š
âŒ æ‰‹åŠ¨è¿è¡Œæµ‹è¯•ï¼Œå®¹æ˜“å¿˜è®°
âŒ æ— æ³•ç»Ÿä¸€æµ‹è¯•æ ‡å‡†
âŒ éš¾ä»¥ç”Ÿæˆæµ‹è¯•æŠ¥å‘Š
âŒ æ— æ³•æ§åˆ¶æµ‹è¯•æ‰§è¡Œé¡ºåº

æœ‰äº†æµ‹è¯•æ’ä»¶çš„å¥½å¤„ï¼š
âœ… è‡ªåŠ¨æ‰§è¡Œæ‰€æœ‰æµ‹è¯•
âœ… ç»Ÿä¸€çš„æµ‹è¯•é…ç½®
âœ… è‡ªåŠ¨ç”Ÿæˆè¯¦ç»†æŠ¥å‘Š
âœ… çµæ´»æ§åˆ¶æµ‹è¯•è¡Œä¸º
```

---

## 2. âš™ï¸ Surefireæ’ä»¶åŸºç¡€é…ç½®


### 2.1 æ’ä»¶åŸºæœ¬ç»“æ„


**ğŸ”§ æ ‡å‡†é…ç½®æ¨¡æ¿**
```xml
<plugin>
    <groupId>org.apache.maven.plugins</groupId>
    <artifactId>maven-surefire-plugin</artifactId>
    <version>3.0.0-M9</version>
    <configuration>
        <!-- è¿™é‡Œæ”¾å„ç§æµ‹è¯•é…ç½® -->
    </configuration>
</plugin>
```

> **ğŸ’¡ æ–°æ‰‹æé†’**ï¼šç‰ˆæœ¬å·è¦é€‰æ‹©ç¨³å®šç‰ˆæœ¬ï¼Œä¸å»ºè®®ä½¿ç”¨å¸¦Mï¼ˆé‡Œç¨‹ç¢‘ç‰ˆæœ¬ï¼‰çš„ï¼Œé™¤ééœ€è¦æœ€æ–°ç‰¹æ€§

### 2.2 æµ‹è¯•æ–‡ä»¶å‘ç°è§„åˆ™


**ğŸ“ é»˜è®¤æµ‹è¯•æ–‡ä»¶æŸ¥æ‰¾è§„åˆ™**
```
Surefireæ’ä»¶ä¼šè‡ªåŠ¨æŸ¥æ‰¾è¿™äº›æ–‡ä»¶ï¼š
ğŸ“„ **/Test*.java        (ä»¥Testå¼€å¤´)
ğŸ“„ **/*Test.java        (ä»¥Testç»“å°¾) 
ğŸ“„ **/*TestCase.java    (ä»¥TestCaseç»“å°¾)

ç¤ºä¾‹æ–‡ä»¶åï¼š
âœ… UserTest.java         â†’ ä¼šè¢«æ‰§è¡Œ
âœ… TestUserService.java  â†’ ä¼šè¢«æ‰§è¡Œ  
âœ… AccountTestCase.java  â†’ ä¼šè¢«æ‰§è¡Œ
âŒ UserHelper.java       â†’ ä¸ä¼šè¢«æ‰§è¡Œ
```

**ğŸ”§ è‡ªå®šä¹‰æ–‡ä»¶åŒ¹é…è§„åˆ™**
```xml
<configuration>
    <includes>
        <include>**/*Tests.java</include>
        <include>**/*Spec.java</include>
    </includes>
    <excludes>
        <exclude>**/Abstract*.java</exclude>
        <exclude>**/*Helper.java</exclude>
    </excludes>
</configuration>
```

### 2.3 åŸºæœ¬å‚æ•°é…ç½®


**âš™ï¸ å¸¸ç”¨é…ç½®å‚æ•°è¯¦è§£**

| å‚æ•°å | **å«ä¹‰è¯´æ˜** | **ä½¿ç”¨åœºæ™¯** | **ç¤ºä¾‹å€¼** |
|--------|------------|-------------|----------|
| `skipTests` | `è·³è¿‡æµ‹è¯•æ‰§è¡Œä½†ç¼–è¯‘æµ‹è¯•ä»£ç ` | `ä¸´æ—¶è·³è¿‡æµ‹è¯•` | `true/false` |
| `skip` | `å®Œå…¨è·³è¿‡æµ‹è¯•ï¼ˆä¸ç¼–è¯‘ä¸æ‰§è¡Œï¼‰` | `å½»åº•å¿½ç•¥æµ‹è¯•` | `true/false` |
| `testFailureIgnore` | `æµ‹è¯•å¤±è´¥åç»§ç»­æ„å»º` | `æŒç»­é›†æˆç¯å¢ƒ` | `true/false` |
| `forkCount` | `å¹¶è¡Œæµ‹è¯•è¿›ç¨‹æ•°` | `åŠ é€Ÿæµ‹è¯•æ‰§è¡Œ` | `1ã€2ã€4` |

**ğŸ¯ å®ç”¨é…ç½®ç¤ºä¾‹**
```xml
<configuration>
    <!-- è®¾ç½®JVMå‚æ•° -->
    <argLine>-Xmx1024m -Dfile.encoding=UTF-8</argLine>
    
    <!-- è®¾ç½®ç³»ç»Ÿå±æ€§ -->
    <systemProperties>
        <property>
            <name>log.level</name>
            <value>DEBUG</value>
        </property>
    </systemProperties>
    
    <!-- å·¥ä½œç›®å½• -->
    <workingDirectory>${basedir}</workingDirectory>
</configuration>
```

---

## 3. ğŸ›ï¸ æµ‹è¯•æ‰§è¡Œæ§åˆ¶


### 3.1 è·³è¿‡æµ‹è¯•çš„å‡ ç§æ–¹å¼


**ğŸ’­ ç”Ÿæ´»ç±»æ¯”**
> å°±åƒè€ƒè¯•å¯ä»¥é€‰æ‹©"ä¸å‚åŠ "ã€"å‚åŠ ä½†ä¸è®¡åˆ†"ã€"åªåšä¸äº¤å·"ä¸€æ ·ï¼ŒMavenä¹Ÿæä¾›äº†ä¸åŒç¨‹åº¦çš„"è·³è¿‡æµ‹è¯•"æ–¹å¼ã€‚

**ğŸ”§ é…ç½®æ–¹å¼å¯¹æ¯”**

```xml
<!-- æ–¹å¼1ï¼šé…ç½®æ–‡ä»¶ä¸­è·³è¿‡ -->
<configuration>
    <skipTests>true</skipTests>
</configuration>

<!-- æ–¹å¼2ï¼šå®Œå…¨è·³è¿‡æµ‹è¯•ç›¸å…³å¤„ç† -->
<configuration>
    <skip>true</skip>
</configuration>
```

**ğŸ“ å‘½ä»¤è¡Œè·³è¿‡**
```bash
# è·³è¿‡æµ‹è¯•æ‰§è¡Œï¼ˆä½†ç¼–è¯‘æµ‹è¯•ä»£ç ï¼‰
mvn clean package -DskipTests

# å®Œå…¨è·³è¿‡æµ‹è¯•
mvn clean package -Dmaven.test.skip=true

# å¿½ç•¥æµ‹è¯•å¤±è´¥ç»§ç»­æ„å»º
mvn clean package -Dmaven.test.failure.ignore=true
```

**ğŸ“Š ä¸åŒè·³è¿‡æ–¹å¼å¯¹æ¯”**

| è·³è¿‡æ–¹å¼ | **ç¼–è¯‘æµ‹è¯•ä»£ç ** | **æ‰§è¡Œæµ‹è¯•** | **é€‚ç”¨åœºæ™¯** |
|---------|----------------|-------------|-------------|
| `skipTests=true` | `âœ… ä¼šç¼–è¯‘` | `âŒ ä¸æ‰§è¡Œ` | `ä¸´æ—¶è·³è¿‡æµ‹è¯•æ‰§è¡Œ` |
| `skip=true` | `âŒ ä¸ç¼–è¯‘` | `âŒ ä¸æ‰§è¡Œ` | `å®Œå…¨å¿½ç•¥æµ‹è¯•` |
| `failure.ignore=true` | `âœ… ä¼šç¼–è¯‘` | `âœ… ä¼šæ‰§è¡Œ` | `æµ‹è¯•å¤±è´¥ä¸å½±å“æ„å»º` |

### 3.2 æŒ‰æ¡ä»¶æ‰§è¡Œæµ‹è¯•


**ğŸ¯ æ ‡ç­¾åŒ–æµ‹è¯•**
```java
// åœ¨æµ‹è¯•ç±»ä¸Šæ·»åŠ åˆ†ç»„æ ‡è®°
@Category(IntegrationTest.class)
public class DatabaseTest {
    @Test
    public void testConnection() {
        // é›†æˆæµ‹è¯•ä»£ç 
    }
}
```

**ğŸ”§ æŒ‰ç»„æ‰§è¡Œé…ç½®**
```xml
<configuration>
    <groups>unit</groups>            <!-- åªæ‰§è¡Œunitç»„æµ‹è¯• -->
    <excludedGroups>integration</excludedGroups>  <!-- æ’é™¤integrationç»„ -->
</configuration>
```

### 3.3 æµ‹è¯•è¶…æ—¶æ§åˆ¶


**â° è¶…æ—¶è®¾ç½®**
```xml
<configuration>
    <!-- å•ä¸ªæµ‹è¯•æ–¹æ³•è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰ -->
    <forkedProcessTimeoutInSeconds>60</forkedProcessTimeoutInSeconds>
    
    <!-- æ•´ä¸ªæµ‹è¯•å¥—ä»¶è¶…æ—¶æ—¶é—´ -->
    <forkedProcessExitTimeoutInSeconds>30</forkedProcessExitTimeoutInSeconds>
</configuration>
```

---

## 4. ğŸ“Š æµ‹è¯•æŠ¥å‘Šç”Ÿæˆ


### 4.1 é»˜è®¤æŠ¥å‘Šä½ç½®


**ğŸ“ æŠ¥å‘Šæ–‡ä»¶ç»“æ„**
```
target/
â”œâ”€â”€ surefire-reports/           â† æµ‹è¯•æŠ¥å‘Šç›®å½•
â”‚   â”œâ”€â”€ TEST-UserTest.xml       â† XMLæ ¼å¼è¯¦ç»†æŠ¥å‘Š
â”‚   â”œâ”€â”€ UserTest.txt           â† çº¯æ–‡æœ¬ç®€è¦æŠ¥å‘Š
â”‚   â””â”€â”€ *.txt, *.xml           â† å…¶ä»–æµ‹è¯•ç±»æŠ¥å‘Š
â””â”€â”€ site/                      â† ç«™ç‚¹æŠ¥å‘Šï¼ˆéœ€è¦é¢å¤–ç”Ÿæˆï¼‰
    â””â”€â”€ surefire-report.html   â† HTMLæ ¼å¼æŠ¥å‘Š
```

### 4.2 æŠ¥å‘Šé…ç½®è‡ªå®šä¹‰


**ğŸ¨ æŠ¥å‘Šæ ¼å¼é…ç½®**
```xml
<configuration>
    <!-- æŠ¥å‘Šè¾“å‡ºç›®å½• -->
    <reportsDirectory>${project.build.directory}/test-reports</reportsDirectory>
    
    <!-- æŠ¥å‘Šæ–‡ä»¶æ ¼å¼ -->
    <reportFormat>xml</reportFormat>  <!-- xml, brief, plain -->
    
    <!-- æ§åˆ¶å°è¾“å‡ºæ ¼å¼ -->
    <printSummary>true</printSummary>  <!-- æ˜¾ç¤ºæµ‹è¯•æ€»ç»“ -->
    
    <!-- é‡å®šå‘æµ‹è¯•è¾“å‡º -->
    <redirectTestOutputToFile>true</redirectTestOutputToFile>
</configuration>
```

### 4.3 ç”ŸæˆHTMLæŠ¥å‘Š


**ğŸ“‹ æ­¥éª¤è¯´æ˜**
```bash
# ç¬¬ä¸€æ­¥ï¼šè¿è¡Œæµ‹è¯•
mvn test

# ç¬¬äºŒæ­¥ï¼šç”Ÿæˆç«™ç‚¹æŠ¥å‘Š
mvn surefire-report:report

# ç¬¬ä¸‰æ­¥ï¼šç”ŸæˆHTMLç«™ç‚¹
mvn site
```

**ğŸ”§ åœ¨POMä¸­é…ç½®æŠ¥å‘Šæ’ä»¶**
```xml
<reporting>
    <plugins>
        <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-surefire-report-plugin</artifactId>
            <version>3.0.0-M9</version>
        </plugin>
    </plugins>
</reporting>
```

### 4.4 æµ‹è¯•æŠ¥å‘Šåˆ†æ


**ğŸ“ˆ æŠ¥å‘Šå†…å®¹è§£è¯»**
```
æµ‹è¯•æŠ¥å‘ŠåŒ…å«çš„å…³é”®ä¿¡æ¯ï¼š
ğŸ“Š æ‰§è¡Œæ€»æ•°ï¼šTests run: 15
âœ… æˆåŠŸæ•°é‡ï¼šFailures: 0  
âŒ å¤±è´¥æ•°é‡ï¼šErrors: 0
â±ï¸ æ‰§è¡Œæ—¶é—´ï¼šTime elapsed: 2.5 sec
ğŸ’¾ å†…å­˜ä½¿ç”¨ï¼šJVMå†…å­˜å ç”¨æƒ…å†µ
```

**ğŸ’¡ å®ç”¨æŠ€å·§**
> **çœ‹æŠ¥å‘Šçš„é¡ºåº**ï¼šå…ˆçœ‹æ€»ç»“ï¼ˆæˆåŠŸç‡ï¼‰ï¼Œå†çœ‹å¤±è´¥æµ‹è¯•ï¼ˆé”™è¯¯åŸå› ï¼‰ï¼Œæœ€åçœ‹æ€§èƒ½æ•°æ®ï¼ˆæ‰§è¡Œæ—¶é—´ï¼‰

---

## 5. âš¡ å¹¶è¡Œæµ‹è¯•é…ç½®


### 5.1 å¹¶è¡Œæ‰§è¡ŒåŸç†


**ğŸ’­ ç”Ÿæ´»ç±»æ¯”**
> æƒ³è±¡ä½ è¦æ´—å¾ˆå¤šç›˜å­ï¼Œä¸€ä¸ªä¸€ä¸ªæ´—å¾ˆæ…¢ï¼ˆä¸²è¡Œï¼‰ï¼Œæ‰¾å‡ ä¸ªæœ‹å‹ä¸€èµ·æ´—å°±å¿«å¤šäº†ï¼ˆå¹¶è¡Œï¼‰ã€‚Mavençš„å¹¶è¡Œæµ‹è¯•å°±æ˜¯è¿™ä¸ªé“ç†ã€‚

**ğŸ”„ å¹¶è¡Œæ‰§è¡Œæµç¨‹**
```
å•è¿›ç¨‹æ‰§è¡Œï¼š
æµ‹è¯•A â†’ æµ‹è¯•B â†’ æµ‹è¯•C â†’ æµ‹è¯•D     (æ€»æ—¶é—´ï¼š4åˆ†é’Ÿ)

å¹¶è¡Œæ‰§è¡Œï¼š
è¿›ç¨‹1ï¼šæµ‹è¯•A â†’ æµ‹è¯•C              (æ€»æ—¶é—´ï¼š2åˆ†é’Ÿ)  
è¿›ç¨‹2ï¼šæµ‹è¯•B â†’ æµ‹è¯•D              
```

### 5.2 åŸºæœ¬å¹¶è¡Œé…ç½®


**âš™ï¸ æ ¸å¿ƒå‚æ•°è¯´æ˜**

| å‚æ•° | **å«ä¹‰** | **ç¤ºä¾‹å€¼** | **é€‚ç”¨åœºæ™¯** |
|------|---------|-----------|-------------|
| `forkCount` | `å¹¶è¡Œè¿›ç¨‹æ•°é‡` | `2ã€4ã€1C` | `CPUæ ¸å¿ƒæ•°ç›¸å…³` |
| `reuseForks` | `æ˜¯å¦å¤ç”¨è¿›ç¨‹` | `true/false` | `å‡å°‘è¿›ç¨‹åˆ›å»ºå¼€é”€` |
| `parallel` | `å¹¶è¡Œç²’åº¦çº§åˆ«` | `methodsã€classes` | `æ§åˆ¶å¹¶è¡ŒèŒƒå›´` |

**ğŸ”§ æ¨èé…ç½®**
```xml
<configuration>
    <!-- å¹¶è¡Œè¿›ç¨‹æ•°ï¼š1Cè¡¨ç¤ºæ¯ä¸ªCPUæ ¸å¿ƒå¯åŠ¨1ä¸ªè¿›ç¨‹ -->
    <forkCount>1C</forkCount>
    
    <!-- å¤ç”¨JVMè¿›ç¨‹ï¼Œå‡å°‘å¯åŠ¨å¼€é”€ -->
    <reuseForks>true</reuseForks>
    
    <!-- æ–¹æ³•çº§åˆ«å¹¶è¡Œæ‰§è¡Œ -->
    <parallel>methods</parallel>
    
    <!-- æ¯ä¸ªè¿›ç¨‹çš„çº¿ç¨‹æ•° -->
    <threadCount>4</threadCount>
</configuration>
```

### 5.3 å¹¶è¡Œæ‰§è¡Œæ³¨æ„äº‹é¡¹


**âš ï¸ é‡è¦æé†’**
```
å¹¶è¡Œæ‰§è¡Œçš„å‰ææ¡ä»¶ï¼š
âœ… æµ‹è¯•ä¹‹é—´ç›¸äº’ç‹¬ç«‹
âœ… ä¸å…±äº«çŠ¶æ€ï¼ˆæ•°æ®åº“ã€æ–‡ä»¶ç­‰ï¼‰
âœ… ä¸ä¾èµ–æ‰§è¡Œé¡ºåº
âœ… çº¿ç¨‹å®‰å…¨çš„æµ‹è¯•ä»£ç 

å¸¸è§å¹¶è¡Œé—®é¢˜ï¼š
âŒ æ•°æ®åº“è¿æ¥å†²çª
âŒ ä¸´æ—¶æ–‡ä»¶åå†²çª  
âŒ ç«¯å£å ç”¨å†²çª
âŒ é™æ€å˜é‡ç«äº‰
```

**ğŸ’¡ æœ€ä½³å®è·µ**
```xml
<!-- é’ˆå¯¹ä¸åŒç±»å‹æµ‹è¯•çš„é…ç½® -->
<configuration>
    <!-- å¿«é€Ÿå•å…ƒæµ‹è¯•ï¼šé«˜å¹¶å‘ -->
    <forkCount>2C</forkCount>
    <parallel>methods</parallel>
    
    <!-- æ•°æ®åº“æµ‹è¯•ï¼šä¸²è¡Œæ‰§è¡Œ -->
    <forkCount>1</forkCount>
    <parallel>none</parallel>
</configuration>
```

---

## 6. ğŸš€ å®é™…é¡¹ç›®åº”ç”¨


### 6.1 å…¸å‹é¡¹ç›®é…ç½®ç¤ºä¾‹


**ğŸ¢ ä¼ä¸šçº§é¡¹ç›®é…ç½®**
```xml
<plugin>
    <groupId>org.apache.maven.plugins</groupId>
    <artifactId>maven-surefire-plugin</artifactId>
    <version>3.0.0-M9</version>
    <configuration>
        <!-- åŸºç¡€è®¾ç½® -->
        <argLine>-Xmx2048m -XX:MaxPermSize=256m</argLine>
        <forkCount>1C</forkCount>
        <reuseForks>true</reuseForks>
        
        <!-- æµ‹è¯•åˆ†ç»„ -->
        <groups>unit,integration</groups>
        <excludedGroups>slow</excludedGroups>
        
        <!-- æŠ¥å‘Šè®¾ç½® -->
        <printSummary>true</printSummary>
        <redirectTestOutputToFile>true</redirectTestOutputToFile>
        
        <!-- åŒ…å«è§„åˆ™ -->
        <includes>
            <include>**/*Test.java</include>
            <include>**/*Tests.java</include>
        </includes>
        
        <!-- æ’é™¤è§„åˆ™ -->
        <excludes>
            <exclude>**/*IntegrationTest.java</exclude>
        </excludes>
        
        <!-- ç¯å¢ƒå˜é‡ -->
        <systemProperties>
            <property>
                <name>spring.profiles.active</name>
                <value>test</value>
            </property>
        </systemProperties>
    </configuration>
</plugin>
```

### 6.2 ä¸åŒç¯å¢ƒçš„é…ç½®


**ğŸ”§ å¼€å‘ç¯å¢ƒé…ç½®**
```xml
<!-- å¼€å‘é˜¶æ®µï¼šå¿«é€Ÿåé¦ˆ -->
<profile>
    <id>dev</id>
    <properties>
        <maven.test.skip>false</maven.test.skip>
        <surefire.forkCount>1C</surefire.forkCount>
        <surefire.groups>unit</surefire.groups>
    </properties>
</profile>
```

**ğŸ­ ç”Ÿäº§ç¯å¢ƒé…ç½®**
```xml
<!-- ç”Ÿäº§éƒ¨ç½²ï¼šå®Œæ•´æµ‹è¯• -->
<profile>
    <id>prod</id>
    <properties>
        <maven.test.skip>false</maven.test.skip>
        <surefire.forkCount>1</surefire.forkCount>
        <surefire.groups>unit,integration,performance</surefire.groups>
    </properties>
</profile>
```

### 6.3 å¸¸è§é—®é¢˜è§£å†³


**ğŸ” é—®é¢˜è¯Šæ–­æ¸…å•**

```
ğŸ“‹ æµ‹è¯•æ‰§è¡Œé—®é¢˜æ’æŸ¥ï¼š

é—®é¢˜1ï¼šæµ‹è¯•æ‰¾ä¸åˆ°
â–¡ æ£€æŸ¥æ–‡ä»¶å‘½åè§„åˆ™
â–¡ ç¡®è®¤includes/excludesé…ç½®
â–¡ éªŒè¯æµ‹è¯•ç±»è·¯å¾„

é—®é¢˜2ï¼šæµ‹è¯•æ‰§è¡Œå¤±è´¥
â–¡ æŸ¥çœ‹target/surefire-reports/ç›®å½•
â–¡ æ£€æŸ¥JVMå†…å­˜è®¾ç½®
â–¡ ç¡®è®¤ä¾èµ–ç‰ˆæœ¬å…¼å®¹æ€§

é—®é¢˜3ï¼šå¹¶è¡Œæµ‹è¯•é—®é¢˜
â–¡ æ£€æŸ¥çº¿ç¨‹å®‰å…¨æ€§
â–¡ ç¡®è®¤æ•°æ®éš”ç¦»
â–¡ è°ƒæ•´å¹¶è¡Œå‚æ•°
```

**ğŸ’Š å¸¸ç”¨è§£å†³æ–¹æ¡ˆ**
```bash
# è¯¦ç»†è°ƒè¯•ä¿¡æ¯
mvn test -X -Dsurefire.printSummary=true

# å•ç‹¬è¿è¡ŒæŸä¸ªæµ‹è¯•
mvn test -Dtest=UserTest

# è¿è¡Œæµ‹è¯•æ–¹æ³•
mvn test -Dtest=UserTest#testLogin

# å¼ºåˆ¶é‡æ–°ç¼–è¯‘æµ‹è¯•
mvn clean test-compile test
```

---

## 7. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 7.1 å¿…é¡»æŒæ¡çš„åŸºæœ¬æ¦‚å¿µ


```
ğŸ”¸ Surefireæ’ä»¶ï¼šMavençš„é»˜è®¤å•å…ƒæµ‹è¯•æ‰§è¡Œå™¨
ğŸ”¸ æµ‹è¯•å‘ç°è§„åˆ™ï¼šè‡ªåŠ¨æŸ¥æ‰¾*Test.javaã€Test*.javaç­‰æ–‡ä»¶
ğŸ”¸ è·³è¿‡æµ‹è¯•æ–¹å¼ï¼šskipTestsï¼ˆè·³è¿‡æ‰§è¡Œï¼‰vs skipï¼ˆå®Œå…¨è·³è¿‡ï¼‰
ğŸ”¸ å¹¶è¡Œæµ‹è¯•ï¼šé€šè¿‡forkCountå’Œparallelæå‡æ‰§è¡Œæ•ˆç‡
ğŸ”¸ æµ‹è¯•æŠ¥å‘Šï¼šè‡ªåŠ¨ç”ŸæˆXMLã€TXTæ ¼å¼çš„è¯¦ç»†æŠ¥å‘Š
```

### 7.2 å…³é”®é…ç½®ç†è§£


**ğŸ”¹ é…ç½®ä¼˜å…ˆçº§**
```
å‘½ä»¤è¡Œå‚æ•° > Profileé…ç½® > æ’ä»¶configuration > é»˜è®¤å€¼

å®é™…åº”ç”¨ï¼š
mvn test -DskipTests=true    â† æœ€é«˜ä¼˜å…ˆçº§
<configuration><skipTests>   â† æ’ä»¶é…ç½®
<profile><properties>        â† Profileé…ç½®
```

**ğŸ”¹ æ€§èƒ½ä¼˜åŒ–è¦ç‚¹**
```
å†…å­˜è®¾ç½®ï¼š
- æ ¹æ®æµ‹è¯•å¤æ‚åº¦è°ƒæ•´-Xmxå‚æ•°
- å¤§å‹é¡¹ç›®å»ºè®®2GBä»¥ä¸Š

å¹¶è¡Œé…ç½®ï¼š
- CPUå¯†é›†å‹æµ‹è¯•ï¼šforkCount=1C
- IOå¯†é›†å‹æµ‹è¯•ï¼šå¯é€‚å½“å¢åŠ 
- æ•°æ®åº“æµ‹è¯•ï¼šå»ºè®®ä¸²è¡Œæ‰§è¡Œ
```

### 7.3 å®é™…åº”ç”¨ä»·å€¼


**ğŸ¯ å¼€å‘æ•ˆç‡æå‡**
```
è‡ªåŠ¨åŒ–æµ‹è¯•ï¼š
â€¢ æ¯æ¬¡æ„å»ºè‡ªåŠ¨è¿è¡Œæµ‹è¯•
â€¢ åŠæ—©å‘ç°ä»£ç é—®é¢˜
â€¢ ä¿è¯ä»£ç è´¨é‡

æŒç»­é›†æˆï¼š
â€¢ ä¸CI/CDå·¥å…·æ— ç¼é›†æˆ
â€¢ è‡ªåŠ¨ç”Ÿæˆæµ‹è¯•æŠ¥å‘Š
â€¢ æ”¯æŒæµ‹è¯•ç»“æœåˆ†æ
```

**ğŸ”§ å›¢é˜Ÿåä½œä¼˜åŠ¿**
```
ç»Ÿä¸€æ ‡å‡†ï¼š
â€¢ å›¢é˜Ÿä½¿ç”¨ç›¸åŒçš„æµ‹è¯•é…ç½®
â€¢ æ ‡å‡†åŒ–çš„æŠ¥å‘Šæ ¼å¼
â€¢ ä¸€è‡´çš„æ‰§è¡Œç¯å¢ƒ

è´¨é‡ä¿éšœï¼š
â€¢ å¼ºåˆ¶æµ‹è¯•è¦†ç›–
â€¢ è‡ªåŠ¨åŒ–è´¨é‡æ£€æŸ¥
â€¢ æŒç»­çš„è´¨é‡ç›‘æ§
```

### 7.4 å­¦ä¹ è¿›é˜¶è·¯å¾„


**ğŸ“ˆ å­¦ä¹ å»ºè®®**
```
åˆçº§é˜¶æ®µï¼š
âœ… æŒæ¡åŸºæœ¬é…ç½®
âœ… ç†è§£è·³è¿‡æµ‹è¯•æœºåˆ¶
âœ… å­¦ä¼šæŸ¥çœ‹æµ‹è¯•æŠ¥å‘Š

ä¸­çº§é˜¶æ®µï¼š  
âœ… é…ç½®å¹¶è¡Œæµ‹è¯•
âœ… è‡ªå®šä¹‰æµ‹è¯•è§„åˆ™
âœ… é›†æˆCI/CDæµæ°´çº¿

é«˜çº§é˜¶æ®µï¼š
âœ… æ€§èƒ½è°ƒä¼˜
âœ… å¤æ‚åœºæ™¯é…ç½®
âœ… è‡ªå®šä¹‰æµ‹è¯•æ’ä»¶
```

**ğŸ”— æ‰©å±•å­¦ä¹ **
```
ç›¸å…³çŸ¥è¯†ç‚¹ï¼š
â€¢ Maven Profileï¼šç¯å¢ƒç›¸å…³é…ç½®
â€¢ Failsafeæ’ä»¶ï¼šé›†æˆæµ‹è¯•æ‰§è¡Œ
â€¢ Jacocoæ’ä»¶ï¼šä»£ç è¦†ç›–ç‡æ£€æµ‹
â€¢ TestNG/JUnitï¼šæµ‹è¯•æ¡†æ¶æ·±å…¥
```

**æ ¸å¿ƒè®°å¿†å£è¯€**ï¼š
> *æµ‹è¯•æ’ä»¶æ‰¾è§„åˆ™ï¼Œè·³è¿‡æ‰§è¡Œæœ‰ç­–ç•¥*
> *å¹¶è¡Œé…ç½®ææ•ˆç‡ï¼ŒæŠ¥å‘Šåˆ†æçœ‹è´¨é‡*
> *ä¼ä¸šåº”ç”¨é‡é…ç½®ï¼ŒæŒç»­é›†æˆä¿è´¨é‡*