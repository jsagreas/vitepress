---
title: 4ã€SpELè¿ç®—ç¬¦
---
## ğŸ“š ç›®å½•

1. [SpELè¿ç®—ç¬¦æ¦‚è¿°](#1-SpELè¿ç®—ç¬¦æ¦‚è¿°)
2. [ç®—æœ¯è¿ç®—ç¬¦](#2-ç®—æœ¯è¿ç®—ç¬¦)
3. [å…³ç³»è¿ç®—ç¬¦](#3-å…³ç³»è¿ç®—ç¬¦)
4. [é€»è¾‘è¿ç®—ç¬¦](#4-é€»è¾‘è¿ç®—ç¬¦)
5. [æ¡ä»¶è¿ç®—ç¬¦](#5-æ¡ä»¶è¿ç®—ç¬¦)
6. [æ­£åˆ™è¡¨è¾¾å¼](#6-æ­£åˆ™è¡¨è¾¾å¼)
7. [Elvisè¿ç®—ç¬¦](#7-Elvisè¿ç®—ç¬¦)
8. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#8-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ¯ SpELè¿ç®—ç¬¦æ¦‚è¿°


### 1.1 ä»€ä¹ˆæ˜¯SpELè¿ç®—ç¬¦


**é€šä¿—ç†è§£**ï¼šSpELè¿ç®—ç¬¦å°±æ˜¯åœ¨Springè¡¨è¾¾å¼ä¸­ç”¨æ¥**è®¡ç®—ã€æ¯”è¾ƒã€åˆ¤æ–­**çš„ç¬¦å·å·¥å…·ã€‚

```
å°±åƒæ•°å­¦é‡Œçš„ + - Ã— Ã· ç¬¦å·ä¸€æ ·ï¼š
æ™®é€šJavaï¼šint sum = 10 + 20;
SpELè¡¨è¾¾å¼ï¼š"#{10 + 20}" â†’ ç»“æœä¹Ÿæ˜¯30

SpELæŠŠè¿™äº›è¿ç®—ç¬¦æ¬åˆ°äº†è¡¨è¾¾å¼å­—ç¬¦ä¸²é‡Œä½¿ç”¨ï¼
```

**æ ¸å¿ƒä½œç”¨**ï¼š
- ğŸ”¸ **æ•°å€¼è®¡ç®—** - åŠ å‡ä¹˜é™¤ç­‰ç®—æœ¯è¿ç®—
- ğŸ”¸ **æ¡ä»¶åˆ¤æ–­** - æ¯”è¾ƒå¤§å°ã€ç›¸ç­‰æ€§åˆ¤æ–­
- ğŸ”¸ **é€»è¾‘å¤„ç†** - ä¸æˆ–éé€»è¾‘è¿ç®—
- ğŸ”¸ **ç‰¹æ®Šå¤„ç†** - ä¸‰å…ƒè¿ç®—ã€ç©ºå€¼å¤„ç†ç­‰

### 1.2 ä¸ºä»€ä¹ˆéœ€è¦è¿ç®—ç¬¦


**å®é™…åœºæ™¯**ï¼šé…ç½®æ–‡ä»¶ä¸­ç»å¸¸éœ€è¦åŠ¨æ€è®¡ç®—

```java
// åœºæ™¯1ï¼šæ ¹æ®ç¯å¢ƒè®¾ç½®ä¸åŒçš„è¶…æ—¶æ—¶é—´
@Value("#{systemProperties['env'] == 'prod' ? 3000 : 1000}")
private int timeout;

// åœºæ™¯2ï¼šè®¡ç®—æŠ˜æ‰£ä»·æ ¼
@Value("#{product.price * 0.8}")
private double discountPrice;

// åœºæ™¯3ï¼šç»„åˆå¤šä¸ªæ¡ä»¶
@Value("#{user.age >= 18 && user.verified == true}")
private boolean canAccess;
```

> ğŸ’¡ **æ–°æ‰‹æç¤º**ï¼šSpELè¿ç®—ç¬¦è®©é…ç½®æ–‡ä»¶"æ´»"èµ·æ¥ï¼Œä¸å†æ˜¯æ­»æ¿çš„å›ºå®šå€¼ï¼

### 1.3 è¿ç®—ç¬¦åˆ†ç±»ä¸€è§ˆ


```
SpELè¿ç®—ç¬¦å®¶æ—ï¼š

ğŸ“Š ç®—æœ¯è¿ç®—ç¬¦ï¼š+ - * / % ^
   ä½œç”¨ï¼šæ•°å­¦è®¡ç®—

ğŸ“ å…³ç³»è¿ç®—ç¬¦ï¼š== != < > <= >=
   ä½œç”¨ï¼šæ¯”è¾ƒå¤§å°å’Œç›¸ç­‰æ€§

ğŸ”€ é€»è¾‘è¿ç®—ç¬¦ï¼šand(&&) or(||) not(!)
   ä½œç”¨ï¼šæ¡ä»¶ç»„åˆåˆ¤æ–­

â“ æ¡ä»¶è¿ç®—ç¬¦ï¼š? :
   ä½œç”¨ï¼šä¸‰å…ƒè¡¨è¾¾å¼é€‰æ‹©

ğŸ” æ­£åˆ™è¡¨è¾¾å¼ï¼šmatches
   ä½œç”¨ï¼šæ–‡æœ¬æ¨¡å¼åŒ¹é…

âš¡ Elvisè¿ç®—ç¬¦ï¼š?:
   ä½œç”¨ï¼šç©ºå€¼ç®€åŒ–å¤„ç†
```

---

## 2. â• ç®—æœ¯è¿ç®—ç¬¦


### 2.1 åŸºæœ¬ç®—æœ¯è¿ç®—


**æ ¸å¿ƒæ¦‚å¿µ**ï¼šå°±æ˜¯æ•°å­¦é‡Œçš„åŠ å‡ä¹˜é™¤ï¼Œåœ¨SpELä¸­ç›´æ¥ä½¿ç”¨

| è¿ç®—ç¬¦ | è¯´æ˜ | SpELç¤ºä¾‹ | ç»“æœ |
|-------|------|---------|------|
| `+` | **åŠ æ³•** | `#{10 + 5}` | `15` |
| `-` | **å‡æ³•** | `#{10 - 5}` | `5` |
| `*` | **ä¹˜æ³•** | `#{10 * 5}` | `50` |
| `/` | **é™¤æ³•** | `#{10 / 5}` | `2` |
| `%` | **å–æ¨¡(æ±‚ä½™æ•°)** | `#{10 % 3}` | `1` |
| `^` | **å¹‚è¿ç®—** | `#{2 ^ 3}` | `8` |

### 2.2 å®é™…ä½¿ç”¨æ¡ˆä¾‹


**æ¡ˆä¾‹1ï¼šä»·æ ¼è®¡ç®—**
```java
public class Product {
    private double price = 100.0;
    private int quantity = 3;
    
    // è®¡ç®—æ€»ä»·
    @Value("#{product.price * product.quantity}")
    private double totalPrice;  // ç»“æœï¼š300.0
    
    // è®¡ç®—æŠ˜æ‰£åä»·æ ¼ï¼ˆæ‰“8æŠ˜ï¼‰
    @Value("#{product.price * 0.8}")
    private double discountPrice;  // ç»“æœï¼š80.0
}
```

**æ¡ˆä¾‹2ï¼šæ—¶é—´è®¡ç®—**
```java
public class TimeConfig {
    private int baseTimeout = 1000;
    
    // è¶…æ—¶æ—¶é—´ç¿»å€
    @Value("#{timeConfig.baseTimeout * 2}")
    private int timeout;  // ç»“æœï¼š2000
    
    // è®¡ç®—åˆ†é’Ÿæ•°ï¼ˆæ¯«ç§’è½¬åˆ†é’Ÿï¼‰
    @Value("#{timeConfig.baseTimeout / 1000 / 60}")
    private int minutes;  // ç»“æœï¼š0ï¼ˆæ•´æ•°é™¤æ³•ï¼‰
}
```

> âš ï¸ **æ³¨æ„äº‹é¡¹**ï¼š
> - é™¤æ³•è¿ç®—æ³¨æ„**æ•´æ•°é™¤æ³•**é—®é¢˜ï¼š`#{10 / 3}` ç»“æœæ˜¯ `3` ä¸æ˜¯ `3.333`
> - æƒ³è¦å°æ•°ç»“æœéœ€è¦ï¼š`#{10.0 / 3}` æˆ– `#{10 / 3.0}`

### 2.3 å­—ç¬¦ä¸²æ‹¼æ¥


**ç‰¹æ®Šç”¨æ³•**ï¼š`+` å·ä¹Ÿå¯ä»¥æ‹¼æ¥å­—ç¬¦ä¸²

```java
public class UserConfig {
    private String firstName = "å¼ ";
    private String lastName = "ä¸‰";
    
    // å­—ç¬¦ä¸²æ‹¼æ¥
    @Value("#{userConfig.firstName + userConfig.lastName}")
    private String fullName;  // ç»“æœï¼šå¼ ä¸‰
    
    // æ··åˆæ‹¼æ¥
    @Value("#{'ç”¨æˆ·åï¼š' + userConfig.fullName}")
    private String displayName;  // ç»“æœï¼šç”¨æˆ·åï¼šå¼ ä¸‰
}
```

**æ•°å­—ä¸å­—ç¬¦ä¸²**ï¼š
```
æ•°å­— + æ•°å­— = æ•°å­¦ç›¸åŠ     ï¼š#{10 + 20}       â†’ 30
å­—ç¬¦ä¸² + å­—ç¬¦ä¸² = æ‹¼æ¥     ï¼š#{'Hello' + 'World'} â†’ HelloWorld  
æ•°å­— + å­—ç¬¦ä¸² = æ‹¼æ¥       ï¼š#{10 + 'px'}     â†’ 10px
```

---

## 3. ğŸ“ å…³ç³»è¿ç®—ç¬¦


### 3.1 æ¯”è¾ƒè¿ç®—ç¬¦è¯¦è§£


**æ ¸å¿ƒä½œç”¨**ï¼šæ¯”è¾ƒä¸¤ä¸ªå€¼çš„å¤§å°æˆ–ç›¸ç­‰æ€§ï¼Œè¿”å›å¸ƒå°”å€¼ï¼ˆtrue/falseï¼‰

| è¿ç®—ç¬¦ | æ–‡å­—å½¢å¼ | è¯´æ˜ | SpELç¤ºä¾‹ | ç»“æœ |
|-------|---------|------|---------|------|
| `==` | `eq` | **ç­‰äº** | `#{10 == 10}` | `true` |
| `!=` | `ne` | **ä¸ç­‰äº** | `#{10 != 5}` | `true` |
| `<` | `lt` | **å°äº** | `#{5 < 10}` | `true` |
| `>` | `gt` | **å¤§äº** | `#{10 > 5}` | `true` |
| `<=` | `le` | **å°äºç­‰äº** | `#{5 <= 5}` | `true` |
| `>=` | `ge` | **å¤§äºç­‰äº** | `#{10 >= 5}` | `true` |

> ğŸ’¡ **ä¸ºä»€ä¹ˆæœ‰ä¸¤ç§å†™æ³•**ï¼š
> - **ç¬¦å·å½¢å¼**ï¼ˆ`<` `>`ï¼‰ï¼šç®€æ´ï¼Œä½†åœ¨XMLä¸­éœ€è¦è½¬ä¹‰
> - **æ–‡å­—å½¢å¼**ï¼ˆ`lt` `gt`ï¼‰ï¼šåœ¨XMLé…ç½®ä¸­æ›´å®‰å…¨ï¼Œä¸éœ€è¦è½¬ä¹‰

### 3.2 å®é™…åº”ç”¨åœºæ™¯


**åœºæ™¯1ï¼šå¹´é¾„åˆ¤æ–­**
```java
public class User {
    private int age = 20;
    
    // åˆ¤æ–­æ˜¯å¦æˆå¹´
    @Value("#{user.age >= 18}")
    private boolean isAdult;  // ç»“æœï¼štrue
    
    // åˆ¤æ–­æ˜¯å¦è€å¹´äºº
    @Value("#{user.age >= 60}")
    private boolean isSenior;  // ç»“æœï¼šfalse
}
```

**åœºæ™¯2ï¼šä»·æ ¼åŒºé—´åˆ¤æ–­**
```java
public class PriceFilter {
    private double price = 150.0;
    
    // æ˜¯å¦åœ¨é¢„ç®—å†…ï¼ˆ100-200ä¹‹é—´ï¼‰
    @Value("#{priceFilter.price >= 100 && priceFilter.price <= 200}")
    private boolean inBudget;  // ç»“æœï¼štrue
    
    // æ˜¯å¦è¶…å‡ºé¢„ç®—
    @Value("#{priceFilter.price > 200}")
    private boolean overBudget;  // ç»“æœï¼šfalse
}
```

**åœºæ™¯3ï¼šå­—ç¬¦ä¸²æ¯”è¾ƒ**
```java
public class EnvConfig {
    private String env = "prod";
    
    // æ˜¯å¦ç”Ÿäº§ç¯å¢ƒ
    @Value("#{envConfig.env == 'prod'}")
    private boolean isProduction;  // ç»“æœï¼štrue
    
    // æ˜¯å¦æµ‹è¯•ç¯å¢ƒ
    @Value("#{envConfig.env != 'prod'}")
    private boolean isTest;  // ç»“æœï¼šfalse
}
```

### 3.3 XMLé…ç½®ä¸­çš„ä½¿ç”¨


**é—®é¢˜**ï¼šXMLä¸­ `<` `>` æ˜¯ç‰¹æ®Šå­—ç¬¦

```xml
<!-- âŒ é”™è¯¯å†™æ³•ï¼šä¼šæŠ¥XMLè§£æé”™è¯¯ -->
<bean id="checker">
    <property name="valid" value="#{user.age > 18}"/>
</bean>

<!-- âœ… æ–¹å¼1ï¼šä½¿ç”¨æ–‡å­—å½¢å¼ -->
<bean id="checker">
    <property name="valid" value="#{user.age gt 18}"/>
</bean>

<!-- âœ… æ–¹å¼2ï¼šä½¿ç”¨è½¬ä¹‰å­—ç¬¦ -->
<bean id="checker">
    <property name="valid" value="#{user.age &gt; 18}"/>
</bean>
```

**è½¬ä¹‰å¯¹ç…§è¡¨**ï¼š
```
<   â†’   &lt;   (less than)
>   â†’   &gt;   (greater than)
&   â†’   &amp;  (ampersand)
```

---

## 4. ğŸ”€ é€»è¾‘è¿ç®—ç¬¦


### 4.1 é€»è¾‘è¿ç®—ç¬¦è¯´æ˜


**æ ¸å¿ƒä½œç”¨**ï¼šç»„åˆå¤šä¸ªæ¡ä»¶ï¼Œè¿›è¡Œé€»è¾‘åˆ¤æ–­

| è¿ç®—ç¬¦ | æ–‡å­—å½¢å¼ | è¯´æ˜ | SpELç¤ºä¾‹ | ç»“æœ |
|-------|---------|------|---------|------|
| `&&` | `and` | **é€»è¾‘ä¸**ï¼ˆéƒ½ä¸ºçœŸæ‰ä¸ºçœŸï¼‰ | `#{true && false}` | `false` |
| `||` | `or` | **é€»è¾‘æˆ–**ï¼ˆæœ‰ä¸€ä¸ªçœŸå°±ä¸ºçœŸï¼‰ | `#{true || false}` | `true` |
| `!` | `not` | **é€»è¾‘é**ï¼ˆå–åï¼‰ | `#{!true}` | `false` |

**é€šä¿—ç†è§£**ï¼š
```
andï¼ˆä¸ï¼‰ï¼šå¿…é¡»åŒæ—¶æ»¡è¶³
  å°±åƒï¼šæ—¢è¦æœ‰é’± AND æœ‰æ—¶é—´ æ‰èƒ½å»æ—…æ¸¸

orï¼ˆæˆ–ï¼‰ï¼šæ»¡è¶³å…¶ä¸€å³å¯
  å°±åƒï¼šå¯ä»¥ååœ°é“ OR æ‰“è½¦ å»å…¬å¸

notï¼ˆéï¼‰ï¼šåè¿‡æ¥
  å°±åƒï¼šNOT ä¸‹é›¨ = ä¸ä¸‹é›¨
```

### 4.2 é€»è¾‘ä¸è¿ç®—ï¼ˆand / &&ï¼‰


**ä½¿ç”¨åœºæ™¯**ï¼šéœ€è¦åŒæ—¶æ»¡è¶³å¤šä¸ªæ¡ä»¶

```java
public class AccessControl {
    private int age = 25;
    private boolean verified = true;
    private boolean active = true;
    
    // å®Œæ•´è®¿é—®æƒé™ï¼šæˆå¹´ ä¸” å·²éªŒè¯ ä¸” æ¿€æ´»çŠ¶æ€
    @Value("#{accessControl.age >= 18 and accessControl.verified and accessControl.active}")
    private boolean hasFullAccess;  // ç»“æœï¼štrue
    
    // ä¼šå‘˜èµ„æ ¼ï¼šå¹´é¾„å¤§äº21 ä¸” å·²éªŒè¯
    @Value("#{accessControl.age > 21 && accessControl.verified}")
    private boolean isMember;  // ç»“æœï¼štrue
}
```

**çœŸå€¼è¡¨**ï¼š
```
æ¡ä»¶A    æ¡ä»¶B    A and B
true    true     true   âœ“ éƒ½ä¸ºçœŸï¼Œç»“æœä¸ºçœŸ
true    false    false  âœ— æœ‰ä¸€ä¸ªå‡ï¼Œç»“æœä¸ºå‡
false   true     false  âœ— æœ‰ä¸€ä¸ªå‡ï¼Œç»“æœä¸ºå‡
false   false    false  âœ— éƒ½ä¸ºå‡ï¼Œç»“æœä¸ºå‡
```

### 4.3 é€»è¾‘æˆ–è¿ç®—ï¼ˆor / ||ï¼‰


**ä½¿ç”¨åœºæ™¯**ï¼šæ»¡è¶³ä»»ä¸€æ¡ä»¶å³å¯

```java
public class LoginConfig {
    private boolean hasPassword = false;
    private boolean hasFingerprint = true;
    private boolean hasFaceID = false;
    
    // å¯ä»¥ç™»å½•ï¼šå¯†ç  æˆ– æŒ‡çº¹ æˆ– äººè„¸è¯†åˆ«
    @Value("#{loginConfig.hasPassword or loginConfig.hasFingerprint or loginConfig.hasFaceID}")
    private boolean canLogin;  // ç»“æœï¼štrueï¼ˆå› ä¸ºæœ‰æŒ‡çº¹ï¼‰
    
    // VIPç”¨æˆ·ï¼šå¹´æ¶ˆè´¹è¶…è¿‡1000 æˆ– é‚€è¯·äº†5ä¸ªå¥½å‹
    @Value("#{user.spending > 1000 || user.invites >= 5}")
    private boolean isVIP;
}
```

**çœŸå€¼è¡¨**ï¼š
```
æ¡ä»¶A    æ¡ä»¶B    A or B
true    true     true   âœ“ éƒ½ä¸ºçœŸï¼Œç»“æœä¸ºçœŸ
true    false    true   âœ“ æœ‰ä¸€ä¸ªçœŸï¼Œç»“æœä¸ºçœŸ
false   true     true   âœ“ æœ‰ä¸€ä¸ªçœŸï¼Œç»“æœä¸ºçœŸ
false   false    false  âœ— éƒ½ä¸ºå‡ï¼Œç»“æœæ‰ä¸ºå‡
```

### 4.4 é€»è¾‘éè¿ç®—ï¼ˆnot / !ï¼‰


**ä½¿ç”¨åœºæ™¯**ï¼šå–åæ“ä½œ

```java
public class StatusConfig {
    private boolean isOnline = true;
    private boolean isLocked = false;
    
    // ç¦»çº¿çŠ¶æ€ï¼ˆåœ¨çº¿çš„åé¢ï¼‰
    @Value("#{!statusConfig.isOnline}")
    private boolean isOffline;  // ç»“æœï¼šfalse
    
    // æœªé”å®šï¼ˆé”å®šçš„åé¢ï¼‰
    @Value("#{not statusConfig.isLocked}")
    private boolean isUnlocked;  // ç»“æœï¼štrue
    
    // ç»„åˆä½¿ç”¨ï¼šåœ¨çº¿ä¸”æœªé”å®š
    @Value("#{statusConfig.isOnline and !statusConfig.isLocked}")
    private boolean canUse;  // ç»“æœï¼štrue
}
```

### 4.5 é€»è¾‘è¿ç®—ä¼˜å…ˆçº§


**è¿ç®—é¡ºåº**ï¼š`!` > `&&` > `||`

```java
// ç¤ºä¾‹ï¼šç†è§£ä¼˜å…ˆçº§
@Value("#{true || false && false}")
private boolean result1;  
// è®¡ç®—è¿‡ç¨‹ï¼šfalse && false â†’ false
//          true || false â†’ true
// ç»“æœï¼štrue

@Value("#{!false && true || false}")
private boolean result2;
// è®¡ç®—è¿‡ç¨‹ï¼š!false â†’ true
//          true && true â†’ true
//          true || false â†’ true
// ç»“æœï¼štrue
```

**ä½¿ç”¨æ‹¬å·æ˜ç¡®é¡ºåº**ï¼š
```java
// ä¸æ¨èï¼šä¾èµ–é»˜è®¤ä¼˜å…ˆçº§
@Value("#{user.age > 18 && user.verified || user.isVIP}")
private boolean canAccess;

// æ¨èï¼šä½¿ç”¨æ‹¬å·æ˜ç¡®æ„å›¾
@Value("#{(user.age > 18 && user.verified) || user.isVIP}")
private boolean canAccess;  // æ›´æ¸…æ™°æ˜“è¯»
```

---

## 5. â“ æ¡ä»¶è¿ç®—ç¬¦


### 5.1 ä¸‰å…ƒè¿ç®—ç¬¦ï¼ˆ? :ï¼‰


**æ ¸å¿ƒæ¦‚å¿µ**ï¼šæ ¹æ®æ¡ä»¶é€‰æ‹©ä¸åŒçš„å€¼ï¼Œä¹Ÿå«**ä¸‰å…ƒè¡¨è¾¾å¼**

**è¯­æ³•ç»“æ„**ï¼š
```
æ¡ä»¶ ? å€¼1 : å€¼2

ç¿»è¯‘æˆäººè¯ï¼š
å¦‚æœæ¡ä»¶ä¸ºçœŸï¼Œå°±ç”¨å€¼1ï¼Œå¦åˆ™ç”¨å€¼2
```

**å›¾è§£**ï¼š
```
          æ¡ä»¶åˆ¤æ–­
            /  \
          çœŸ/    \å‡
          /      \
        å€¼1      å€¼2
        
ç¤ºä¾‹ï¼šage >= 18 ? "æˆå¹´äºº" : "æœªæˆå¹´"
      
      å¦‚æœå¹´é¾„>=18  â†’  è¿”å›"æˆå¹´äºº"
      å¦åˆ™         â†’  è¿”å›"æœªæˆå¹´"
```

### 5.2 åŸºç¡€ç”¨æ³•ç¤ºä¾‹


**åœºæ™¯1ï¼šå¹´é¾„åˆ†ç±»**
```java
public class UserProfile {
    private int age = 20;
    
    // åˆ¤æ–­æˆå¹´çŠ¶æ€
    @Value("#{userProfile.age >= 18 ? 'æˆå¹´äºº' : 'æœªæˆå¹´'}")
    private String ageCategory;  // ç»“æœï¼šæˆå¹´äºº
    
    // è®¾ç½®æƒé™ç­‰çº§
    @Value("#{userProfile.age >= 18 ? 'FULL' : 'LIMITED'}")
    private String permission;  // ç»“æœï¼šFULL
}
```

**åœºæ™¯2ï¼šä»·æ ¼æŠ˜æ‰£**
```java
public class PriceCalculator {
    private boolean isVIP = true;
    private double price = 100.0;
    
    // VIPæ‰“8æŠ˜ï¼Œæ™®é€šç”¨æˆ·åŸä»·
    @Value("#{priceCalculator.isVIP ? priceCalculator.price * 0.8 : priceCalculator.price}")
    private double finalPrice;  // ç»“æœï¼š80.0
    
    // æŠ˜æ‰£ç‡æ˜¾ç¤º
    @Value("#{priceCalculator.isVIP ? '8æŠ˜ä¼˜æƒ ' : 'æ— æŠ˜æ‰£'}")
    private String discountInfo;  // ç»“æœï¼š8æŠ˜ä¼˜æƒ 
}
```

**åœºæ™¯3ï¼šç¯å¢ƒé…ç½®**
```java
public class AppConfig {
    private String env = "prod";
    
    // æ ¹æ®ç¯å¢ƒè®¾ç½®è¶…æ—¶æ—¶é—´
    @Value("#{appConfig.env == 'prod' ? 5000 : 1000}")
    private int timeout;  // ç»“æœï¼š5000ï¼ˆç”Ÿäº§ç¯å¢ƒ5ç§’ï¼‰
    
    // æ ¹æ®ç¯å¢ƒè®¾ç½®æ—¥å¿—çº§åˆ«
    @Value("#{appConfig.env == 'prod' ? 'ERROR' : 'DEBUG'}")
    private String logLevel;  // ç»“æœï¼šERROR
}
```

### 5.3 åµŒå¥—ä¸‰å…ƒè¿ç®—ç¬¦


**ä½¿ç”¨åœºæ™¯**ï¼šå¤šä¸ªæ¡ä»¶åˆ†æ”¯

```java
public class GradeCalculator {
    private int score = 85;
    
    // æˆç»©ç­‰çº§ï¼š>=90ä¼˜ç§€ï¼Œ>=80è‰¯å¥½ï¼Œ>=60åŠæ ¼ï¼Œ<60ä¸åŠæ ¼
    @Value("#{gradeCalculator.score >= 90 ? 'ä¼˜ç§€' : " +
           "(gradeCalculator.score >= 80 ? 'è‰¯å¥½' : " +
           "(gradeCalculator.score >= 60 ? 'åŠæ ¼' : 'ä¸åŠæ ¼'))}")
    private String grade;  // ç»“æœï¼šè‰¯å¥½
}
```

**å›¾è§£åµŒå¥—é€»è¾‘**ï¼š
```
score >= 90 ?
    â””â”€ æ˜¯ â†’ "ä¼˜ç§€"
    â””â”€ å¦ â†’ score >= 80 ?
              â””â”€ æ˜¯ â†’ "è‰¯å¥½"
              â””â”€ å¦ â†’ score >= 60 ?
                        â””â”€ æ˜¯ â†’ "åŠæ ¼"
                        â””â”€ å¦ â†’ "ä¸åŠæ ¼"
```

> âš ï¸ **æ³¨æ„**ï¼šåµŒå¥—è¶…è¿‡2å±‚ä¼šå¾ˆéš¾è¯»ï¼Œå»ºè®®ç”¨æ–¹æ³•ä»£æ›¿

### 5.4 ä¸å…¶ä»–è¿ç®—ç¬¦ç»„åˆ


**ç»„åˆé€»è¾‘è¿ç®—ç¬¦**ï¼š
```java
public class AccessChecker {
    private int age = 20;
    private boolean verified = true;
    
    // è®¿é—®æƒé™ï¼š(æˆå¹´ ä¸” å·²éªŒè¯) ? å…è®¸ : æ‹’ç»
    @Value("#{(accessChecker.age >= 18 && accessChecker.verified) ? 'å…è®¸è®¿é—®' : 'æ‹’ç»è®¿é—®'}")
    private String accessResult;  // ç»“æœï¼šå…è®¸è®¿é—®
}
```

**ç»„åˆç®—æœ¯è¿ç®—ç¬¦**ï¼š
```java
public class ShippingCalculator {
    private double amount = 150.0;
    
    // æ»¡100å…è¿è´¹ï¼Œå¦åˆ™åŠ 10å…ƒè¿è´¹
    @Value("#{shippingCalculator.amount >= 100 ? shippingCalculator.amount : shippingCalculator.amount + 10}")
    private double totalAmount;  // ç»“æœï¼š150.0
}
```

---

## 6. ğŸ” æ­£åˆ™è¡¨è¾¾å¼


### 6.1 matchesè¿ç®—ç¬¦


**æ ¸å¿ƒæ¦‚å¿µ**ï¼šä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦ç¬¦åˆç‰¹å®š**æ¨¡å¼**

**è¯­æ³•æ ¼å¼**ï¼š
```
å­—ç¬¦ä¸² matches æ­£åˆ™è¡¨è¾¾å¼

è¿”å›å€¼ï¼štrueï¼ˆåŒ¹é…æˆåŠŸï¼‰æˆ– falseï¼ˆåŒ¹é…å¤±è´¥ï¼‰
```

**é€šä¿—ç†è§£**ï¼š
```
å°±åƒç”¨ç­›å­è¿‡æ»¤ä¸œè¥¿ï¼š
- æ­£åˆ™è¡¨è¾¾å¼æ˜¯"ç­›å­”çš„è§„åˆ™"
- å­—ç¬¦ä¸²æ˜¯"è¦è¿‡ç­›çš„ä¸œè¥¿"
- matchesæ˜¯"è¿‡ç­›åŠ¨ä½œ"
- ç»“æœæ˜¯"èƒ½ä¸èƒ½é€šè¿‡ç­›å­"
```

### 6.2 å¸¸ç”¨æ­£åˆ™æ¨¡å¼


**åŸºç¡€æ¨¡å¼ç¤ºä¾‹**ï¼š

| éªŒè¯å†…å®¹ | æ­£åˆ™è¡¨è¾¾å¼ | è¯´æ˜ |
|---------|-----------|------|
| **çº¯æ•°å­—** | `[0-9]+` | 1ä¸ªæˆ–å¤šä¸ªæ•°å­— |
| **æ‰‹æœºå·** | `1[3-9]\\d{9}` | 1å¼€å¤´ï¼Œç¬¬äºŒä½3-9ï¼Œåé¢9ä½æ•°å­— |
| **é‚®ç®±** | `\\w+@\\w+\\.\\w+` | å­—æ¯æ•°å­—@å­—æ¯æ•°å­—.å­—æ¯ |
| **é‚®ç¼–** | `\\d{6}` | 6ä½æ•°å­— |
| **èº«ä»½è¯** | `\\d{17}[0-9Xx]` | 17ä½æ•°å­—+æ•°å­—æˆ–X |

> ğŸ’¡ **æ–°æ‰‹æç¤º**ï¼š`\\d` è¡¨ç¤ºæ•°å­—ï¼Œ`\\w` è¡¨ç¤ºå­—æ¯æ•°å­—ä¸‹åˆ’çº¿ï¼Œ`+` è¡¨ç¤º1ä¸ªæˆ–å¤šä¸ª

### 6.3 å®é™…åº”ç”¨æ¡ˆä¾‹


**æ¡ˆä¾‹1ï¼šæ‰‹æœºå·éªŒè¯**
```java
public class UserValidator {
    private String phone = "13812345678";
    
    // éªŒè¯æ‰‹æœºå·æ ¼å¼
    @Value("#{userValidator.phone matches '1[3-9]\\d{9}'}")
    private boolean isValidPhone;  // ç»“æœï¼štrue
}
```

**è§£æ**ï¼š
```
æ­£åˆ™ï¼š1[3-9]\d{9}
     â†“
1     â†’ å¿…é¡»ä»¥1å¼€å¤´
[3-9] â†’ ç¬¬äºŒä½æ˜¯3åˆ°9ä¹‹é—´çš„æ•°å­—
\d{9} â†’ åé¢è·Ÿ9ä¸ªæ•°å­—

13812345678 ç¬¦åˆè§„åˆ™ â†’ true
12812345678 ä¸ç¬¦åˆï¼ˆç¬¬äºŒä½æ˜¯2ï¼‰â†’ false
```

**æ¡ˆä¾‹2ï¼šé‚®ç®±éªŒè¯**
```java
public class EmailValidator {
    private String email = "user@example.com";
    
    // ç®€å•é‚®ç®±æ ¼å¼éªŒè¯
    @Value("#{emailValidator.email matches '\\w+@\\w+\\.\\w+'}")
    private boolean isValidEmail;  // ç»“æœï¼štrue
}
```

**è§£æ**ï¼š
```
æ­£åˆ™ï¼š\w+@\w+\.\w+
     â†“
\w+   â†’ 1ä¸ªæˆ–å¤šä¸ªå­—æ¯æ•°å­—ï¼ˆç”¨æˆ·åï¼‰
@     â†’ @ç¬¦å·
\w+   â†’ 1ä¸ªæˆ–å¤šä¸ªå­—æ¯æ•°å­—ï¼ˆåŸŸåï¼‰
\.    â†’ ç‚¹å·ï¼ˆéœ€è¦è½¬ä¹‰ï¼‰
\w+   â†’ 1ä¸ªæˆ–å¤šä¸ªå­—æ¯ï¼ˆåç¼€com/cnç­‰ï¼‰

user@example.com ç¬¦åˆ â†’ true
user#example.com ä¸ç¬¦åˆï¼ˆ#ä¸æ˜¯@ï¼‰â†’ false
```

**æ¡ˆä¾‹3ï¼šé‚®ç¼–éªŒè¯**
```java
public class AddressValidator {
    private String zipCode = "100000";
    
    // éªŒè¯6ä½é‚®æ”¿ç¼–ç 
    @Value("#{addressValidator.zipCode matches '\\d{6}'}")
    private boolean isValidZipCode;  // ç»“æœï¼štrue
}
```

**è§£æ**ï¼š
```
æ­£åˆ™ï¼š\d{6}
     â†“
\d    â†’ æ•°å­—
{6}   â†’ å¿…é¡»æ˜¯6ä¸ª

100000 ç¬¦åˆï¼ˆ6ä½æ•°å­—ï¼‰â†’ true
10000  ä¸ç¬¦åˆï¼ˆåªæœ‰5ä½ï¼‰â†’ false
10000a ä¸ç¬¦åˆï¼ˆæœ‰å­—æ¯ï¼‰â†’ false
```

### 6.4 ä¸æ¡ä»¶è¿ç®—ç¬¦ç»„åˆ


**å®ç”¨ç»„åˆ**ï¼šéªŒè¯åè¿›è¡Œä¸åŒå¤„ç†

```java
public class FormValidator {
    private String input = "13800138000";
    
    // æ ¹æ®éªŒè¯ç»“æœè¿”å›ä¸åŒæç¤º
    @Value("#{formValidator.input matches '1[3-9]\\d{9}' ? 'æ‰‹æœºå·æ ¼å¼æ­£ç¡®' : 'æ‰‹æœºå·æ ¼å¼é”™è¯¯'}")
    private String phoneValidationMsg;  // ç»“æœï¼šæ‰‹æœºå·æ ¼å¼æ­£ç¡®
    
    // æ ¹æ®éªŒè¯ç»“æœå†³å®šæ˜¯å¦æäº¤
    @Value("#{formValidator.input matches '1[3-9]\\d{9}' ? true : false}")
    private boolean canSubmit;  // ç»“æœï¼štrue
}
```

### 6.5 å¸¸è§æ­£åˆ™é€ŸæŸ¥


**å¼€å‘å¸¸ç”¨æ­£åˆ™è¡¨è¾¾å¼**ï¼š

```java
// æ•°å­—ç›¸å…³
@Value("#{input matches '\\d+'}")          // çº¯æ•°å­—
@Value("#{input matches '-?\\d+'}")        // æ•´æ•°ï¼ˆå¯è´Ÿæ•°ï¼‰
@Value("#{input matches '\\d+\\.\\d+'}")   // å°æ•°

// æ–‡æœ¬ç›¸å…³
@Value("#{input matches '[a-zA-Z]+'}")     // çº¯å­—æ¯
@Value("#{input matches '[a-z0-9_]+'}")    // å°å†™å­—æ¯æ•°å­—ä¸‹åˆ’çº¿
@Value("#{input matches '\\w{6,20}'}")     // 6-20ä½å­—æ¯æ•°å­—

// å¸¸ç”¨æ ¼å¼
@Value("#{input matches '\\d{4}-\\d{2}-\\d{2}'}")  // æ—¥æœŸ YYYY-MM-DD
@Value("#{input matches '((ht|f)tps?)://.*'}")     // ç½‘å€ http(s)://
```

> ğŸ’¡ **å­¦ä¹ å»ºè®®**ï¼š
> - å…ˆæŒæ¡åŸºç¡€çš„ `\d`ï¼ˆæ•°å­—ï¼‰ã€`\w`ï¼ˆå­—æ¯æ•°å­—ï¼‰
> - é‡åˆ°å¤æ‚éªŒè¯å†æŸ¥æ­£åˆ™è¡¨è¾¾å¼æ–‡æ¡£
> - ä½¿ç”¨åœ¨çº¿æ­£åˆ™æµ‹è¯•å·¥å…·éªŒè¯è¡¨è¾¾å¼

---

## 7. âš¡ Elvisè¿ç®—ç¬¦


### 7.1 Elvisè¿ç®—ç¬¦ï¼ˆ?:ï¼‰


**æ ¸å¿ƒæ¦‚å¿µ**ï¼š**ç©ºå€¼ç®€åŒ–å¤„ç†**ï¼Œå¦‚æœå˜é‡æœ‰å€¼å°±ç”¨å®ƒï¼Œæ²¡å€¼å°±ç”¨é»˜è®¤å€¼

**ä¸ºä»€ä¹ˆå«Elvis**ï¼š
```
?:  è¿™ä¸ªç¬¦å·åƒçŒ«ç‹Elvisçš„å‘å‹
     ?  â† åˆ˜æµ·
     :  â† ä¸‹å·´
```

**è¯­æ³•ç»“æ„**ï¼š
```
å˜é‡ ?: é»˜è®¤å€¼

ç¿»è¯‘æˆäººè¯ï¼š
å˜é‡æœ‰å€¼å—ï¼Ÿæœ‰å°±ç”¨å˜é‡ï¼Œæ²¡æœ‰å°±ç”¨é»˜è®¤å€¼
```

### 7.2 åŸºæœ¬ä½¿ç”¨æ–¹æ³•


**å¯¹æ¯”ä¼ ç»Ÿå†™æ³•**ï¼š

```java
// âŒ ä¼ ç»Ÿä¸‰å…ƒè¿ç®—ç¬¦å†™æ³•ï¼ˆç¹çï¼‰
@Value("#{user.name != null ? user.name : 'åŒ¿åç”¨æˆ·'}")
private String username;

// âœ… Elvisè¿ç®—ç¬¦å†™æ³•ï¼ˆç®€æ´ï¼‰
@Value("#{user.name ?: 'åŒ¿åç”¨æˆ·'}")
private String username;

// æ•ˆæœå®Œå…¨ä¸€æ ·ï¼Œä½†Elvisæ›´ç®€æ´ï¼
```

**å›¾è§£å¯¹æ¯”**ï¼š
```
ä¸‰å…ƒè¿ç®—ç¬¦ï¼šæ¡ä»¶ ? å€¼1 : å€¼2
          â†“
user.name != null ? user.name : 'åŒ¿åç”¨æˆ·'
          â†“
      éœ€è¦å†™ä¸¤æ¬¡user.nameï¼Œå•°å—¦ï¼

Elvisè¿ç®—ç¬¦ï¼šå˜é‡ ?: é»˜è®¤å€¼
           â†“
user.name ?: 'åŒ¿åç”¨æˆ·'
           â†“
       åªå†™ä¸€æ¬¡ï¼Œç®€æ´ï¼
```

### 7.3 å®é™…åº”ç”¨åœºæ™¯


**åœºæ™¯1ï¼šç”¨æˆ·ä¿¡æ¯é»˜è®¤å€¼**
```java
public class UserProfile {
    private String nickname;  // å¯èƒ½ä¸ºnull
    private String avatar;    // å¯èƒ½ä¸ºnull
    
    // æ˜µç§°ä¸ºç©ºæ—¶æ˜¾ç¤º"æ¸¸å®¢"
    @Value("#{userProfile.nickname ?: 'æ¸¸å®¢'}")
    private String displayName;
    
    // å¤´åƒä¸ºç©ºæ—¶ä½¿ç”¨é»˜è®¤å¤´åƒ
    @Value("#{userProfile.avatar ?: '/images/default-avatar.png'}")
    private String profileImage;
}
```

**åœºæ™¯2ï¼šé…ç½®é»˜è®¤å€¼**
```java
public class AppConfig {
    private Integer timeout;   // å¯èƒ½ä¸ºnull
    private String logLevel;   // å¯èƒ½ä¸ºnull
    
    // è¶…æ—¶æ—¶é—´é»˜è®¤3000ms
    @Value("#{appConfig.timeout ?: 3000}")
    private int requestTimeout;
    
    // æ—¥å¿—çº§åˆ«é»˜è®¤INFO
    @Value("#{appConfig.logLevel ?: 'INFO'}")
    private String logLevelConfig;
}
```

**åœºæ™¯3ï¼šæ•°å€¼é»˜è®¤å€¼**
```java
public class ScoreConfig {
    private Integer score;  // å¯èƒ½ä¸ºnull
    
    // åˆ†æ•°ä¸ºç©ºæ—¶é»˜è®¤0
    @Value("#{scoreConfig.score ?: 0}")
    private int finalScore;
    
    // åŠæ ¼åˆ¤æ–­ï¼ˆå…ˆå¤„ç†ç©ºå€¼ï¼‰
    @Value("#{(scoreConfig.score ?: 0) >= 60 ? 'åŠæ ¼' : 'ä¸åŠæ ¼'}")
    private String result;
}
```

### 7.4 Elvis vs ä¸‰å…ƒè¿ç®—ç¬¦


**å¯¹æ¯”åˆ†æ**ï¼š

| å¯¹æ¯”é¡¹ | Elvisè¿ç®—ç¬¦ `?:` | ä¸‰å…ƒè¿ç®—ç¬¦ `? :` |
|-------|-----------------|-----------------|
| **ç”¨é€”** | åªå¤„ç†ç©ºå€¼ | ä»»æ„æ¡ä»¶åˆ¤æ–­ |
| **è¯­æ³•** | `å˜é‡ ?: é»˜è®¤å€¼` | `æ¡ä»¶ ? å€¼1 : å€¼2` |
| **ç®€æ´æ€§** | â­â­â­â­â­ æç®€ | â­â­â­ è¾ƒç¹ç |
| **é€‚ç”¨åœºæ™¯** | ç©ºå€¼å¤„ç†ã€é»˜è®¤å€¼ | å¤æ‚æ¡ä»¶ã€å¤šåˆ†æ”¯ |

**é€‰æ‹©å»ºè®®**ï¼š
```java
// âœ… åªæ˜¯ç©ºå€¼åˆ¤æ–­ â†’ ç”¨Elvis
@Value("#{user.email ?: 'unknown@example.com'}")

// âœ… å¤æ‚æ¡ä»¶åˆ¤æ–­ â†’ ç”¨ä¸‰å…ƒ
@Value("#{user.age >= 18 ? 'ADULT' : 'MINOR'}")

// âŒ ä¸è¦è¿™æ ·ç”¨Elvisï¼ˆè¯­ä¹‰ä¸æ¸…ï¼‰
@Value("#{user.age >= 18 ?: false}")  // é”™è¯¯ï¼Elvisåªå¤„ç†null
```

### 7.5 é“¾å¼ä½¿ç”¨Elvis


**å¤šçº§é»˜è®¤å€¼**ï¼š
```java
public class ConfigChain {
    private String primary;    // null
    private String secondary;  // null
    private String tertiary = "æœ€ç»ˆé»˜è®¤å€¼";
    
    // å°è¯•å¤šä¸ªå€¼ï¼Œéƒ½ä¸ºç©ºæ‰ç”¨æœ€åçš„é»˜è®¤å€¼
    @Value("#{configChain.primary ?: configChain.secondary ?: configChain.tertiary ?: 'å…œåº•å€¼'}")
    private String finalValue;  // ç»“æœï¼šæœ€ç»ˆé»˜è®¤å€¼
}
```

**å›¾è§£é“¾å¼é€»è¾‘**ï¼š
```
primary ?: secondary ?: tertiary ?: 'å…œåº•å€¼'
   â†“ null      â†“ null      â†“ æœ‰å€¼        â†“
è·³è¿‡         è·³è¿‡         ä½¿ç”¨è¿™ä¸ª      ä¸æ‰§è¡Œ

æœ€ç»ˆç»“æœï¼štertiaryçš„å€¼
```

---

## 8. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 8.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ ç®—æœ¯è¿ç®—ç¬¦ï¼š+ - * / % ^
   ä½œç”¨ï¼šæ•°å­¦è®¡ç®—ï¼Œå­—ç¬¦ä¸²æ‹¼æ¥
   
ğŸ”¸ å…³ç³»è¿ç®—ç¬¦ï¼š== != < > <= >=ï¼ˆæˆ– eq ne lt gt le geï¼‰
   ä½œç”¨ï¼šæ¯”è¾ƒå¤§å°å’Œç›¸ç­‰æ€§ï¼Œè¿”å›å¸ƒå°”å€¼
   
ğŸ”¸ é€»è¾‘è¿ç®—ç¬¦ï¼š&& || !ï¼ˆæˆ– and or notï¼‰
   ä½œç”¨ï¼šç»„åˆæ¡ä»¶ï¼Œè¿›è¡Œé€»è¾‘åˆ¤æ–­
   
ğŸ”¸ æ¡ä»¶è¿ç®—ç¬¦ï¼š? :
   ä½œç”¨ï¼šä¸‰å…ƒè¡¨è¾¾å¼ï¼Œæ ¹æ®æ¡ä»¶é€‰æ‹©å€¼
   
ğŸ”¸ æ­£åˆ™è¡¨è¾¾å¼ï¼šmatches
   ä½œç”¨ï¼šå­—ç¬¦ä¸²æ¨¡å¼åŒ¹é…éªŒè¯
   
ğŸ”¸ Elvisè¿ç®—ç¬¦ï¼š?:
   ä½œç”¨ï¼šç©ºå€¼ç®€åŒ–å¤„ç†ï¼Œæä¾›é»˜è®¤å€¼
```

### 8.2 è¿ç®—ç¬¦ä½¿ç”¨åœºæ™¯é€ŸæŸ¥


| éœ€æ±‚åœºæ™¯ | ä½¿ç”¨è¿ç®—ç¬¦ | ç¤ºä¾‹ |
|---------|-----------|------|
| **æ•°å€¼è®¡ç®—** | ç®—æœ¯è¿ç®—ç¬¦ | `#{price * 0.8}` |
| **å­—ç¬¦ä¸²æ‹¼æ¥** | `+` è¿ç®—ç¬¦ | `#{'Hello' + 'World'}` |
| **æ¡ä»¶åˆ¤æ–­** | å…³ç³»è¿ç®—ç¬¦ | `#{age >= 18}` |
| **å¤šæ¡ä»¶ç»„åˆ** | é€»è¾‘è¿ç®—ç¬¦ | `#{age >= 18 and verified}` |
| **æ¡ä»¶é€‰æ‹©** | ä¸‰å…ƒè¿ç®—ç¬¦ | `#{isVIP ? 80 : 100}` |
| **æ ¼å¼éªŒè¯** | æ­£åˆ™è¡¨è¾¾å¼ | `#{phone matches '1[3-9]\\d{9}'}` |
| **ç©ºå€¼å¤„ç†** | Elvisè¿ç®—ç¬¦ | `#{name ?: 'åŒ¿å'}` |

### 8.3 å®ç”¨å¼€å‘å»ºè®®


**ğŸ”¹ XMLé…ç½®æ³¨æ„äº‹é¡¹**
```xml
<!-- åœ¨XMLä¸­ä½¿ç”¨æ–‡å­—å½¢å¼æ›´å®‰å…¨ -->
<property name="valid" value="#{age gt 18 and verified}"/>
<!-- è€Œä¸æ˜¯ -->
<property name="valid" value="#{age > 18 && verified}"/>  <!-- éœ€è¦è½¬ä¹‰ -->
```

**ğŸ”¹ ä»£ç å¯è¯»æ€§å»ºè®®**
```java
// âŒ ä¸æ¨èï¼šåµŒå¥—å¤ªæ·±
@Value("#{a > 0 ? (b > 0 ? (c > 0 ? 1 : 2) : 3) : 4}")

// âœ… æ¨èï¼šæå–åˆ°æ–¹æ³•ä¸­
@Value("#{@calculator.calculate(a, b, c)}")
```

**ğŸ”¹ å¸¸ç”¨ç»„åˆæ¨¡å¼**
```java
// æ¨¡å¼1ï¼šç©ºå€¼å¤„ç† + æ¡ä»¶åˆ¤æ–­
@Value("#{(user.score ?: 0) >= 60 ? 'åŠæ ¼' : 'ä¸åŠæ ¼'}")

// æ¨¡å¼2ï¼šæ­£åˆ™éªŒè¯ + æ¡ä»¶å¤„ç†
@Value("#{user.phone matches '1[3-9]\\d{9}' ? 'æ‰‹æœºå·' : 'åº§æœºå·'}")

// æ¨¡å¼3ï¼šé€»è¾‘ç»„åˆ + è®¡ç®—
@Value("#{(age >= 18 and verified) ? price * 1.0 : price * 0.8}")
```

### 8.4 å­¦ä¹ è·¯çº¿å»ºè®®


**ğŸ¯ æ–°æ‰‹å­¦ä¹ é¡ºåº**ï¼š
```
ç¬¬1æ­¥ï¼šæŒæ¡ç®—æœ¯å’Œå…³ç³»è¿ç®—ç¬¦
      â””â”€ è¿™æ˜¯åŸºç¡€ï¼Œå…ˆå­¦ä¼šè®¡ç®—å’Œæ¯”è¾ƒ

ç¬¬2æ­¥ï¼šç†è§£é€»è¾‘è¿ç®—ç¬¦
      â””â”€ å­¦ä¼šç»„åˆå¤šä¸ªæ¡ä»¶

ç¬¬3æ­¥ï¼šç†Ÿç»ƒä¸‰å…ƒè¿ç®—ç¬¦
      â””â”€ æŒæ¡æ¡ä»¶é€‰æ‹©é€»è¾‘

ç¬¬4æ­¥ï¼šå­¦ä¹ Elvisè¿ç®—ç¬¦
      â””â”€ ç®€åŒ–ç©ºå€¼å¤„ç†

ç¬¬5æ­¥ï¼šäº†è§£æ­£åˆ™è¡¨è¾¾å¼
      â””â”€ æŒ‰éœ€å­¦ä¹ ï¼Œä¸å¿…å…¨è®°
```

**ğŸ’¡ è®°å¿†å£è¯€**ï¼š
```
åŠ å‡ä¹˜é™¤ç®—æ•°å€¼ï¼Œå¤§å°ç›¸ç­‰å…³ç³»æ¸…
ä¸æˆ–éé€»è¾‘ç»„åˆï¼Œé—®å·å†’å·æ¡ä»¶æ˜
Elvisç©ºå€¼æœ‰é»˜è®¤ï¼Œæ­£åˆ™åŒ¹é…éªŒæ ¼å¼
```

### 8.5 å¸¸è§é—®é¢˜FAQ


**Q1ï¼šXMLä¸­ä¸ºä»€ä¹ˆè¦ç”¨ `gt` `lt` è€Œä¸æ˜¯ `>` `<`ï¼Ÿ**
```
Aï¼šXMLæŠŠ < > å½“ä½œæ ‡ç­¾ç¬¦å·ï¼Œä¼šè§£æå‡ºé”™
   è§£å†³ï¼šç”¨æ–‡å­—å½¢å¼ï¼ˆgt ltï¼‰æˆ–è½¬ä¹‰ï¼ˆ&gt; &lt;ï¼‰
```

**Q2ï¼šElviså’Œä¸‰å…ƒè¿ç®—ç¬¦ä»€ä¹ˆæ—¶å€™ç”¨ï¼Ÿ**
```
Aï¼šåªå¤„ç†ç©ºå€¼ â†’ Elvisï¼ˆç®€æ´ï¼‰
   å¤æ‚æ¡ä»¶åˆ¤æ–­ â†’ ä¸‰å…ƒè¿ç®—ç¬¦ï¼ˆçµæ´»ï¼‰
```

**Q3ï¼šæ­£åˆ™è¡¨è¾¾å¼å¤ªå¤æ‚æ€ä¹ˆåŠï¼Ÿ**
```
Aï¼šä¸ç”¨å…¨è®°ï¼Œé‡åˆ°å†æŸ¥
   å¸¸ç”¨çš„å‡ ä¸ªè®°ä½å³å¯ï¼š\dï¼ˆæ•°å­—ï¼‰\wï¼ˆå­—æ¯æ•°å­—ï¼‰
```

**Q4ï¼šèƒ½ä¸èƒ½æ··åˆä½¿ç”¨å¤šä¸ªè¿ç®—ç¬¦ï¼Ÿ**
```
Aï¼šå¯ä»¥ï¼Œä½†æ³¨æ„ï¼š
   1. ä½¿ç”¨æ‹¬å·æ˜ç¡®ä¼˜å…ˆçº§
   2. ä¸è¦åµŒå¥—å¤ªæ·±ï¼ˆä¸è¶…è¿‡2å±‚ï¼‰
   3. å¤æ‚é€»è¾‘å»ºè®®ç”¨Javaæ–¹æ³•
```

---

> ğŸ“ **å­¦ä¹ å»ºè®®**ï¼š
> - å…ˆç†è§£æ¯ä¸ªè¿ç®—ç¬¦çš„åŸºæœ¬ç”¨æ³•
> - é€šè¿‡å®é™…æ¡ˆä¾‹åŠ æ·±ç†è§£
> - å¤šç»ƒä¹ å¸¸ç”¨ç»„åˆæ¨¡å¼
> - é‡åˆ°å¤æ‚é€»è¾‘ä¼˜å…ˆè€ƒè™‘Javaæ–¹æ³•è€Œéå¤æ‚è¡¨è¾¾å¼

**æ ¸å¿ƒè®°å¿†**ï¼šSpELè¿ç®—ç¬¦è®©é…ç½®åŠ¨æ€åŒ–ï¼Œé€‰å¯¹è¿ç®—ç¬¦äº‹åŠåŠŸå€ï¼