---
title: 6ã€ä¾èµ–æ³¨å…¥æ³¨è§£
---
## ğŸ“š ç›®å½•

1. [ä¾èµ–æ³¨å…¥æ³¨è§£æ¦‚è¿°](#1-ä¾èµ–æ³¨å…¥æ³¨è§£æ¦‚è¿°)
2. [@Autowiredè‡ªåŠ¨è£…é…](#2-Autowiredè‡ªåŠ¨è£…é…)
3. [@Resourceèµ„æºæ³¨å…¥](#3-Resourceèµ„æºæ³¨å…¥)
4. [@Injectæ ‡å‡†æ³¨å…¥](#4-Injectæ ‡å‡†æ³¨å…¥)
5. [@Qualifieré™å®šç¬¦](#5-Qualifieré™å®šç¬¦)
6. [@Valueå€¼æ³¨å…¥](#6-Valueå€¼æ³¨å…¥)
7. [æ³¨è§£ä¼˜å…ˆçº§ä¸é€‰æ‹©ç­–ç•¥](#7-æ³¨è§£ä¼˜å…ˆçº§ä¸é€‰æ‹©ç­–ç•¥)
8. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#8-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ¯ ä¾èµ–æ³¨å…¥æ³¨è§£æ¦‚è¿°


### 1.1 ä»€ä¹ˆæ˜¯ä¾èµ–æ³¨å…¥æ³¨è§£


**é€šä¿—ç†è§£**ï¼šå°±åƒä½ ç‚¹å¤–å–ï¼Œä¸éœ€è¦è‡ªå·±åšé¥­ï¼Œå¤–å–å¹³å°ä¼šæŠŠé¥­èœé€åˆ°ä½ æ‰‹ä¸Šã€‚åœ¨Springä¸­ï¼Œä½ ä¸éœ€è¦è‡ªå·±åˆ›å»ºå¯¹è±¡ï¼ŒSpringä¼šé€šè¿‡æ³¨è§£è‡ªåŠ¨å¸®ä½ "é€"è¿‡æ¥ã€‚

**ä¸“ä¸šå®šä¹‰**ï¼šä¾èµ–æ³¨å…¥æ³¨è§£æ˜¯Springæä¾›çš„ä¸€å¥—ç®€åŒ–é…ç½®çš„æ ‡è®°ï¼Œç”¨äºå£°æ˜å¼åœ°å°†Beanæ³¨å…¥åˆ°å…¶ä»–Beanä¸­ï¼Œå–ä»£ä¼ ç»Ÿçš„XMLé…ç½®æ–¹å¼ã€‚

```
ä¼ ç»Ÿæ–¹å¼ï¼ˆè‡ªå·±åšé¥­ï¼‰ï¼š          æ³¨è§£æ–¹å¼ï¼ˆç‚¹å¤–å–ï¼‰ï¼š
æ‰‹åŠ¨newå¯¹è±¡                    @Autowiredè‡ªåŠ¨æ³¨å…¥
â†“                             â†“
è‡ªå·±ç®¡ç†å¯¹è±¡ç”Ÿå‘½å‘¨æœŸ            Springå®¹å™¨ç®¡ç†
â†“                             â†“
ä»£ç è€¦åˆåº¦é«˜                   ä»£ç ç®€æ´æ¾è€¦åˆ
```

### 1.2 ä¸ºä»€ä¹ˆéœ€è¦æ³¨è§£æ³¨å…¥


**ğŸ”¸ è§£å†³çš„ç—›ç‚¹**

| ä¼ ç»Ÿæ–¹å¼é—®é¢˜ | æ³¨è§£æ–¹å¼ä¼˜åŠ¿ | å®é™…æ•ˆæœ |
|------------|------------|---------|
| XMLé…ç½®å†—é•¿ | æ³¨è§£ç®€æ´ç›´è§‚ | é…ç½®é‡å‡å°‘80% |
| ä¿®æ”¹ä¸çµæ´» | éšæ”¹éšç”¨ | å¼€å‘æ•ˆç‡æå‡ |
| ç±»å‹ä¸å®‰å…¨ | ç¼–è¯‘æœŸæ£€æŸ¥ | é”™è¯¯æå‰å‘ç° |
| ç»´æŠ¤æˆæœ¬é«˜ | ä»£ç å³æ–‡æ¡£ | æ˜“äºç†è§£ç»´æŠ¤ |

### 1.3 æ³¨è§£æ³¨å…¥çš„ä¸‰å¤§é—¨æ´¾


```
Springå®¶æ—æ³¨è§£ï¼š
â”œâ”€ @Autowired     â† SpringåŸç”Ÿï¼ŒåŠŸèƒ½å¼ºå¤§
â””â”€ @Qualifier     â† é…åˆAutowiredç²¾ç¡®å®šä½

Javaæ ‡å‡†æ³¨è§£ï¼š
â”œâ”€ @Resource      â† JSR-250æ ‡å‡†ï¼Œé€šç”¨æ€§å¥½
â””â”€ @Inject        â† JSR-330æ ‡å‡†ï¼Œè·¨æ¡†æ¶

ç‰¹æ®Šæ³¨è§£ï¼š
â””â”€ @Value         â† æ³¨å…¥é…ç½®å€¼ä¸“ç”¨
```

> ğŸ’¡ **æ–°æ‰‹æç¤º**
> 
> å°±åƒåƒé¥­å¯ä»¥ç”¨ç­·å­ã€å‰å­ã€å‹ºå­ï¼Œè¿™äº›æ³¨è§£éƒ½èƒ½å®Œæˆä¾èµ–æ³¨å…¥ï¼Œä½†å„æœ‰ç‰¹ç‚¹å’Œé€‚ç”¨åœºæ™¯ã€‚

---

## 2. ğŸ”§ @Autowiredè‡ªåŠ¨è£…é…


### 2.1 åŸºæœ¬æ¦‚å¿µä¸åŸç†


**Autowired = Autoï¼ˆè‡ªåŠ¨ï¼‰+ Wiredï¼ˆè¿æ¥ï¼‰**

æƒ³è±¡ä¸€ä¸‹ï¼šä½ çš„ç”µè„‘éœ€è¦è¿æ¥æ˜¾ç¤ºå™¨ï¼Œ`@Autowired`å°±åƒæ˜¯è‡ªåŠ¨è¯†åˆ«æ¥å£ç±»å‹å¹¶æ’ä¸Šæ­£ç¡®çš„çº¿ã€‚

**ğŸ”¸ å·¥ä½œåŸç†**

```
ç¬¬1æ­¥ï¼šSpringæ‰«æåˆ°@Autowired
         â†“
ç¬¬2æ­¥ï¼šæŸ¥æ‰¾å®¹å™¨ä¸­åŒ¹é…çš„Bean
         â†“
ç¬¬3æ­¥ï¼šè‡ªåŠ¨æ³¨å…¥åˆ°ç›®æ ‡ä½ç½®
         â†“
ç¬¬4æ­¥ï¼šå®Œæˆä¾èµ–å…³ç³»å»ºç«‹
```

### 2.2 ä¸‰ç§æ³¨å…¥ä½ç½®


**ä½ç½®â‘ ï¼šå±æ€§æ³¨å…¥ï¼ˆæœ€å¸¸ç”¨ï¼‰**

```java
@Service
public class UserService {
    
    @Autowired  // ç›´æ¥æ ‡æ³¨åœ¨å±æ€§ä¸Š
    private UserDao userDao;
    
    public void saveUser() {
        userDao.save();  // ç›´æ¥ä½¿ç”¨ï¼Œæ— éœ€æ‰‹åŠ¨èµ‹å€¼
    }
}
```

**ç‰¹ç‚¹å¯¹æ¯”**

| ç‰¹æ€§ | è¯´æ˜ | é€‚ç”¨åœºæ™¯ |
|-----|------|---------|
| âœ… ä»£ç ç®€æ´ | ä¸€è¡Œæå®š | æ—¥å¸¸å¼€å‘é¦–é€‰ |
| âš ï¸ ä¸åˆ©äºæµ‹è¯• | åå°„æ³¨å…¥ | éæµ‹è¯•ä»£ç  |
| ğŸ”’ ä¸æ”¯æŒfinal | å±æ€§é™åˆ¶ | å¯å˜ä¾èµ– |

**ä½ç½®â‘¡ï¼šæ„é€ å™¨æ³¨å…¥ï¼ˆæœ€å®‰å…¨ï¼‰**

```java
@Service
public class UserService {
    
    private final UserDao userDao;  // å¯ä»¥ç”¨finalä¿è¯ä¸å¯å˜
    
    @Autowired  // æ ‡æ³¨åœ¨æ„é€ å™¨ä¸Š
    public UserService(UserDao userDao) {
        this.userDao = userDao;
    }
}
```

**ä¼˜åŠ¿åˆ†æ**

```
âœ… æ”¯æŒfinalä¿®é¥° â†’ å¯¹è±¡ä¸å¯å˜ï¼Œçº¿ç¨‹å®‰å…¨
âœ… å¼ºåˆ¶ä¾èµ–æ³¨å…¥ â†’ åˆ›å»ºå¯¹è±¡å¿…é¡»æä¾›ä¾èµ–
âœ… ä¾¿äºå•å…ƒæµ‹è¯• â†’ å¯ç›´æ¥newå¯¹è±¡ä¼ å‚
âœ… å¾ªç¯ä¾èµ–é¢„è­¦ â†’ ç¼–è¯‘æœŸå°±èƒ½å‘ç°é—®é¢˜
```

> ğŸ”¥ **æœ€ä½³å®è·µ**
> 
> Springå®˜æ–¹æ¨èæ„é€ å™¨æ³¨å…¥ï¼ä»Spring 4.3å¼€å§‹ï¼Œåªæœ‰ä¸€ä¸ªæ„é€ å™¨æ—¶`@Autowired`å¯çœç•¥ã€‚

**ä½ç½®â‘¢ï¼šSetteræ–¹æ³•æ³¨å…¥ï¼ˆå¯é€‰ä¾èµ–ï¼‰**

```java
@Service
public class UserService {
    
    private UserDao userDao;
    
    @Autowired  // æ ‡æ³¨åœ¨setteræ–¹æ³•ä¸Š
    public void setUserDao(UserDao userDao) {
        this.userDao = userDao;
    }
}
```

**ä½¿ç”¨åœºæ™¯**

- ğŸ“Œ ä¾èµ–æ˜¯å¯é€‰çš„ï¼ˆå¯ä»¥ä¸ºnullï¼‰
- ğŸ“Œ éœ€è¦é‡æ–°æ³¨å…¥ä¾èµ–çš„åœºæ™¯
- ğŸ“Œ é…åˆ`required=false`ä½¿ç”¨

### 2.3 åŒ¹é…è§„åˆ™è¯¦è§£


**è§„åˆ™æµç¨‹å›¾**

```
å¼€å§‹æŸ¥æ‰¾Bean
    â†“
æŒ‰ç±»å‹åŒ¹é…ï¼ˆbyTypeï¼‰
    â†“
æ‰¾åˆ°å‡ ä¸ªï¼Ÿ
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”
åªæœ‰1ä¸ª        å¤šä¸ª
    â†“            â†“
ç›´æ¥æ³¨å…¥    æŒ‰åç§°åŒ¹é…ï¼ˆbyNameï¼‰
    â†“            â†“
æˆåŠŸ        æ‰¾åˆ°å”¯ä¸€ï¼Ÿ
              â†“
          â”Œâ”€â”€â”€â”´â”€â”€â”€â”
         æ˜¯      å¦
          â†“       â†“
        æˆåŠŸ    æŠ¥é”™ï¼
```

**ç¤ºä¾‹æ¼”ç¤º**

```java
// åœºæ™¯1ï¼šç±»å‹å”¯ä¸€ï¼Œç›´æ¥æ³¨å…¥
@Autowired
private UserDao userDao;  // å®¹å™¨ä¸­åªæœ‰ä¸€ä¸ªUserDao â†’ æˆåŠŸ

// åœºæ™¯2ï¼šç±»å‹å¤šä¸ªï¼ŒæŒ‰åç§°åŒ¹é…
@Autowired
private UserDao userDaoImpl;  // å˜é‡å=Beanåç§° â†’ æˆåŠŸ

// åœºæ™¯3ï¼šç±»å‹å¤šä¸ªï¼Œåç§°ä¸åŒ¹é… â†’ æŠ¥é”™
@Autowired
private UserDao dao;  // æ‰¾åˆ°å¤šä¸ªUserDaoä½†åå­—ä¸åŒ¹é… â†’ âŒæŠ¥é”™
```

### 2.4 å¿…éœ€æ€§æ§åˆ¶


```java
// é»˜è®¤ï¼šrequired=trueï¼ˆå¿…é¡»æ³¨å…¥ï¼Œæ‰¾ä¸åˆ°å°±æŠ¥é”™ï¼‰
@Autowired
private UserDao userDao;

// å¯é€‰æ³¨å…¥ï¼šrequired=falseï¼ˆæ‰¾ä¸åˆ°ä¹Ÿä¸æŠ¥é”™ï¼Œå€¼ä¸ºnullï¼‰
@Autowired(required = false)
private EmailService emailService;  // é‚®ä»¶æœåŠ¡å¯é€‰

// ä½¿ç”¨OptionalåŒ…è£…ï¼ˆJava 8æ¨èï¼‰
@Autowired
private Optional<SmsService> smsService;  // æ›´ä¼˜é›…çš„å¯é€‰æ–¹æ¡ˆ
```

**å¯¹æ¯”è¡¨æ ¼**

| é…ç½®æ–¹å¼ | æ‰¾ä¸åˆ°Beanæ—¶ | ä½¿ç”¨åœºæ™¯ | æ¨èåº¦ |
|---------|------------|---------|-------|
| `required=true` | å¯åŠ¨æŠ¥é”™âŒ | æ ¸å¿ƒä¾èµ– | â­â­â­â­â­ |
| `required=false` | å€¼ä¸ºnull | å¯é€‰åŠŸèƒ½ | â­â­â­ |
| `Optional<T>` | å€¼ä¸ºempty | å¯é€‰åŠŸèƒ½ | â­â­â­â­ |

### 2.5 é›†åˆæ³¨å…¥


**åŒç±»å‹Beanå…¨éƒ¨æ³¨å…¥**

```java
@Service
public class MessageService {
    
    // æ³¨å…¥æ‰€æœ‰MessageHandlerç±»å‹çš„Beanåˆ°List
    @Autowired
    private List<MessageHandler> handlers;
    
    // æ³¨å…¥æ‰€æœ‰MessageHandleråˆ°Mapï¼Œkeyæ˜¯Beanåç§°
    @Autowired
    private Map<String, MessageHandler> handlerMap;
    
    public void processMessage(String msg) {
        // éå†æ‰€æœ‰å¤„ç†å™¨
        handlers.forEach(h -> h.handle(msg));
    }
}
```

**å®é™…åº”ç”¨åœºæ™¯**

```
åœºæ™¯1ï¼šæ’ä»¶ç³»ç»Ÿ
â”œâ”€ å®šä¹‰æ’ä»¶æ¥å£
â”œâ”€ å¤šä¸ªæ’ä»¶å®ç°
â””â”€ ç”¨Listæ³¨å…¥æ‰€æœ‰æ’ä»¶ â†’ åŠ¨æ€æ‰©å±•

åœºæ™¯2ï¼šç­–ç•¥æ¨¡å¼
â”œâ”€ å¤šç§æ”¯ä»˜ç­–ç•¥
â”œâ”€ æ³¨å…¥åˆ°Mapé›†åˆ
â””â”€ æ ¹æ®keyé€‰æ‹©ç­–ç•¥ â†’ çµæ´»åˆ‡æ¢
```

---

## 3. ğŸ¨ @Resourceèµ„æºæ³¨å…¥


### 3.1 åŸºæœ¬æ¦‚å¿µ


**Resource = èµ„æºå®šä½**

è¿™æ˜¯Java EEæ ‡å‡†ï¼ˆJSR-250ï¼‰æä¾›çš„æ³¨è§£ï¼Œä¸æ˜¯Springä¸“å±ï¼Œå…·æœ‰æ›´å¥½çš„è·¨æ¡†æ¶å…¼å®¹æ€§ã€‚

**ğŸ”¸ ä¸@Autowiredçš„æ ¸å¿ƒåŒºåˆ«**

```
@Autowiredï¼ˆSpringå®¶çš„ï¼‰ï¼š
å…ˆçœ‹ç±»å‹ â†’ å†çœ‹åå­—
     â†“
   æ“…é•¿æŒ‰ç±»å‹æ‰¾

@Resourceï¼ˆJavaæ ‡å‡†ï¼‰ï¼š
å…ˆçœ‹åå­— â†’ å†çœ‹ç±»å‹  
     â†“
   æ“…é•¿æŒ‰åç§°æ‰¾
```

### 3.2 ä½¿ç”¨æ–¹å¼


**æ–¹å¼â‘ ï¼šé»˜è®¤æŒ‰åç§°åŒ¹é…**

```java
@Service
public class UserService {
    
    // é»˜è®¤æŒ‰å±æ€§å"userDao"æŸ¥æ‰¾Bean
    @Resource
    private UserDao userDao;
    
    // ç›¸å½“äºæ‰¾åä¸º"userDaoImpl"çš„Bean
    @Resource
    private UserDao userDaoImpl;
}
```

**æ–¹å¼â‘¡ï¼šæŒ‡å®šBeanåç§°**

```java
@Service
public class UserService {
    
    // æ˜ç¡®æŒ‡å®šè¦æ³¨å…¥åä¸º"myUserDao"çš„Bean
    @Resource(name = "myUserDao")
    private UserDao userDao;
}
```

**æ–¹å¼â‘¢ï¼šæŒ‰ç±»å‹åŒ¹é…ï¼ˆåç§°æ‰¾ä¸åˆ°æ—¶ï¼‰**

```java
// å¦‚æœæ²¡æœ‰åä¸º"dao"çš„Beanï¼Œä¼šæŒ‰UserDaoç±»å‹æŸ¥æ‰¾
@Resource
private UserDao dao;
```

### 3.3 åŒ¹é…è§„åˆ™è¯¦è§£


**å®Œæ•´åŒ¹é…æµç¨‹**

```
ç¬¬1æ­¥ï¼šæŒ‡å®šäº†nameå±æ€§ï¼Ÿ
         â†“
    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
   æ˜¯        å¦
    â†“         â†“
æŒ‰nameæŸ¥æ‰¾  æŒ‰å±æ€§åæŸ¥æ‰¾
    â†“         â†“
 æ‰¾åˆ°ï¼Ÿ     æ‰¾åˆ°ï¼Ÿ
    â†“         â†“
   æˆåŠŸ   â”Œâ”€â”€â”€â”´â”€â”€â”€â”
         æ˜¯      å¦
          â†“       â†“
        æˆåŠŸ   æŒ‰ç±»å‹æŸ¥æ‰¾
                 â†“
              æ‰¾åˆ°å‡ ä¸ªï¼Ÿ
                 â†“
             â”Œâ”€â”€â”€â”´â”€â”€â”€â”
            1ä¸ª     å¤šä¸ª
             â†“       â†“
           æˆåŠŸ     æŠ¥é”™
```

**ä»£ç ç¤ºä¾‹å¯¹ç…§**

```java
// ç¤ºä¾‹1ï¼šæ˜ç¡®æŒ‡å®šname
@Resource(name = "userDaoMysql")  // ç›´æ¥æ‰¾"userDaoMysql"
private UserDao userDao;

// ç¤ºä¾‹2ï¼šæŒ‰å±æ€§å
@Resource  // å…ˆæ‰¾"userDaoMysql" â†’ æ‰¾åˆ°å°±æ³¨å…¥
private UserDao userDaoMysql;

// ç¤ºä¾‹3ï¼šåç§°æ‰¾ä¸åˆ°ï¼ŒæŒ‰ç±»å‹
@Resource  // å…ˆæ‰¾"dao" â†’ æ‰¾ä¸åˆ° â†’ å†æŒ‰UserDaoç±»å‹æ‰¾
private UserDao dao;
```

### 3.4 æ”¯æŒçš„ä½ç½®


| æ³¨å…¥ä½ç½® | @Resource | @Autowired | è¯´æ˜ |
|---------|----------|-----------|------|
| å±æ€§ä¸Š | âœ… | âœ… | éƒ½æ”¯æŒ |
| Setteræ–¹æ³•ä¸Š | âœ… | âœ… | éƒ½æ”¯æŒ |
| æ„é€ å™¨ä¸Š | âŒ | âœ… | Resourceä¸æ”¯æŒ |
| æ–¹æ³•å‚æ•°ä¸Š | âŒ | âœ… | Resourceä¸æ”¯æŒ |

> âš ï¸ **æ³¨æ„é™åˆ¶**
> 
> `@Resource`ä¸èƒ½ç”¨åœ¨æ„é€ å™¨ä¸Šï¼å¦‚æœéœ€è¦æ„é€ å™¨æ³¨å…¥ï¼Œå¿…é¡»ç”¨`@Autowired`ã€‚

### 3.5 å®é™…åº”ç”¨åœºæ™¯


**åœºæ™¯â‘ ï¼šå¤šå®ç°ç±»åˆ‡æ¢**

```java
// æ•°æ®åº“æœ‰MySQLå’ŒOracleä¸¤ç§å®ç°
@Repository("mysqlUserDao")
public class MysqlUserDao implements UserDao { }

@Repository("oracleUserDao")  
public class OracleUserDao implements UserDao { }

// ä½¿ç”¨æ—¶é€šè¿‡nameç²¾ç¡®æŒ‡å®š
@Service
public class UserService {
    
    @Resource(name = "mysqlUserDao")  // æ˜ç¡®ä½¿ç”¨MySQLç‰ˆæœ¬
    private UserDao userDao;
}
```

**åœºæ™¯â‘¡ï¼šè·¨æ¡†æ¶é¡¹ç›®**

```java
// é¡¹ç›®å¯èƒ½ä»Springè¿ç§»åˆ°å…¶ä»–Java EEå®¹å™¨
@Resource  // ä½¿ç”¨Javaæ ‡å‡†æ³¨è§£ï¼Œä¾¿äºè¿ç§»
private DataSource dataSource;
```

---

## 4. ğŸ’‰ @Injectæ ‡å‡†æ³¨å…¥


### 4.1 åŸºæœ¬ä»‹ç»


**Injectæ¥è‡ªJSR-330è§„èŒƒ**

è¿™æ˜¯Javaä¾èµ–æ³¨å…¥çš„æ ‡å‡†è§„èŒƒï¼Œç”±Google Guiceæ¡†æ¶æ¨åŠ¨ï¼ŒSpringæä¾›äº†æ”¯æŒã€‚

**ğŸ”¸ ä¸‰è€…å…³ç³»å›¾**

```
ä¾èµ–æ³¨å…¥æ³¨è§£å®¶æ—æ ‘
    â”œâ”€ @Autowired     [Springä¸“å±ï¼ŒåŠŸèƒ½æœ€å…¨]
    â”œâ”€ @Resource      [JSR-250æ ‡å‡†ï¼Œåç§°ä¼˜å…ˆ]  
    â””â”€ @Inject        [JSR-330æ ‡å‡†ï¼Œæœ€çº¯ç²¹]
```

### 4.2 ä½¿ç”¨å‰æ


**éœ€è¦æ·»åŠ ä¾èµ–**

```xml
<!-- Mavenä¾èµ– -->
<dependency>
    <groupId>javax.inject</groupId>
    <artifactId>javax.inject</artifactId>
    <version>1</version>
</dependency>
```

> ğŸ’¡ **ä¸ºä»€ä¹ˆéœ€è¦é¢å¤–ä¾èµ–ï¼Ÿ**
> 
> `@Autowired`æ˜¯Springå†…ç½®çš„ï¼Œè€Œ`@Inject`æ˜¯å¤–éƒ¨æ ‡å‡†ï¼Œéœ€è¦å¼•å…¥è§„èŒƒåŒ…ã€‚

### 4.3 åŸºæœ¬ç”¨æ³•


```java
import javax.inject.Inject;
import javax.inject.Named;

@Service
public class UserService {
    
    // ç”¨æ³•1ï¼šé»˜è®¤æŒ‰ç±»å‹æ³¨å…¥ï¼ˆç±»ä¼¼@Autowiredï¼‰
    @Inject
    private UserDao userDao;
    
    // ç”¨æ³•2ï¼šé…åˆ@NamedæŒ‡å®šBeanåç§°
    @Inject
    @Named("mysqlUserDao")
    private UserDao dao;
    
    // ç”¨æ³•3ï¼šæ„é€ å™¨æ³¨å…¥
    @Inject
    public UserService(UserDao userDao) {
        this.userDao = userDao;
    }
}
```

### 4.4 åŠŸèƒ½å¯¹æ¯”


**@Inject vs @Autowired**

| åŠŸèƒ½ç‰¹æ€§ | @Inject | @Autowired | è¯´æ˜ |
|---------|---------|-----------|------|
| æŒ‰ç±»å‹æ³¨å…¥ | âœ… | âœ… | éƒ½æ”¯æŒ |
| å±æ€§æ³¨å…¥ | âœ… | âœ… | éƒ½æ”¯æŒ |
| æ„é€ å™¨æ³¨å…¥ | âœ… | âœ… | éƒ½æ”¯æŒ |
| Setteræ³¨å…¥ | âœ… | âœ… | éƒ½æ”¯æŒ |
| é›†åˆæ³¨å…¥ | âœ… | âœ… | éƒ½æ”¯æŒ |
| **å¿…éœ€æ€§æ§åˆ¶** | âŒ | âœ… | Injectæ— required |
| **@Qualifier** | âŒ | âœ… | Injectç”¨@Named |
| **è·¨æ¡†æ¶** | âœ… | âŒ | Injectæ›´é€šç”¨ |

**@Inject vs @Resource**

| å¯¹æ¯”é¡¹ | @Inject | @Resource |
|-------|---------|----------|
| æ ‡å‡†æ¥æº | JSR-330 | JSR-250 |
| é»˜è®¤åŒ¹é… | æŒ‰ç±»å‹ | æŒ‰åç§° |
| é…åˆæ³¨è§£ | @Named | nameå±æ€§ |
| æ„é€ å™¨ | âœ…æ”¯æŒ | âŒä¸æ”¯æŒ |

### 4.5 é€‰æ‹©å»ºè®®


**ä½¿ç”¨@Injectçš„åœºæ™¯**

```
âœ… é¡¹ç›®å¯èƒ½åˆ‡æ¢åˆ°Guiceç­‰å…¶ä»–DIæ¡†æ¶
âœ… å¼ºè°ƒä½¿ç”¨Javaæ ‡å‡†è€Œéæ¡†æ¶ç‰¹æ€§
âœ… å›¢é˜Ÿè§„èŒƒè¦æ±‚ä½¿ç”¨JSR-330æ ‡å‡†
```

**ä¸æ¨è@Injectçš„åœºæ™¯**

```
âŒ éœ€è¦required=falseæ§åˆ¶å¿…éœ€æ€§
âŒ é¡¹ç›®çº¯Springç”Ÿæ€ï¼Œä¸è€ƒè™‘è·¨æ¡†æ¶
âŒ ä¸æƒ³å¼•å…¥é¢å¤–ä¾èµ–
```

> ğŸ¯ **å®é™…å»ºè®®**
> 
> åœ¨çº¯Springé¡¹ç›®ä¸­ï¼Œæ¨èä½¿ç”¨`@Autowired`ï¼ŒåŠŸèƒ½æ›´å…¨ï¼›è·¨æ¡†æ¶é¡¹ç›®è€ƒè™‘`@Inject`ã€‚

---

## 5. ğŸ¯ @Qualifieré™å®šç¬¦


### 5.1 ä¸ºä»€ä¹ˆéœ€è¦Qualifier


**é—®é¢˜åœºæ™¯**

```java
// æœ‰ä¸¤ä¸ªUserDaoçš„å®ç°
@Repository
public class MysqlUserDao implements UserDao { }

@Repository  
public class OracleUserDao implements UserDao { }

// æ³¨å…¥æ—¶Springæ‡µäº†ï¼šåˆ°åº•æ³¨å…¥å“ªä¸ªï¼Ÿ
@Autowired
private UserDao userDao;  // âŒ æŠ¥é”™ï¼šæ‰¾åˆ°2ä¸ªå€™é€‰Bean
```

**Qualifier = é™å®šç¬¦ = æŒ‡å®šå”¯ä¸€èº«ä»½è¯**

### 5.2 åŸºæœ¬ç”¨æ³•


**æ–¹å¼â‘ ï¼šé…åˆ@Autowiredä½¿ç”¨**

```java
@Service
public class UserService {
    
    // æ˜ç¡®æŒ‡å®šè¦æ³¨å…¥"mysqlUserDao"è¿™ä¸ªBean
    @Autowired
    @Qualifier("mysqlUserDao")
    private UserDao userDao;
}
```

**æ–¹å¼â‘¡ï¼šæ„é€ å™¨å‚æ•°ä¸Šä½¿ç”¨**

```java
@Service
public class UserService {
    
    private UserDao userDao;
    
    @Autowired
    public UserService(@Qualifier("oracleUserDao") UserDao userDao) {
        this.userDao = userDao;
    }
}
```

**æ–¹å¼â‘¢ï¼šé…åˆ@Injectä½¿ç”¨ï¼ˆç”¨@Namedæ›¿ä»£ï¼‰**

```java
import javax.inject.Inject;
import javax.inject.Named;

@Service
public class UserService {
    
    @Inject
    @Named("mysqlUserDao")  // @Injectçš„é™å®šç¬¦æ˜¯@Named
    private UserDao userDao;
}
```

### 5.3 è‡ªå®šä¹‰é™å®šç¬¦


**åˆ›å»ºè‡ªå®šä¹‰é™å®šç¬¦æ³¨è§£**

```java
// 1. å®šä¹‰æ•°æ®åº“ç±»å‹é™å®šç¬¦
@Target({ElementType.FIELD, ElementType.PARAMETER})
@Retention(RetentionPolicy.RUNTIME)
@Qualifier
public @interface Database {
    String value();
}

// 2. åœ¨Beanä¸Šä½¿ç”¨
@Repository
@Database("mysql")
public class MysqlUserDao implements UserDao { }

@Repository
@Database("oracle")
public class OracleUserDao implements UserDao { }

// 3. æ³¨å…¥æ—¶ä½¿ç”¨
@Service
public class UserService {
    
    @Autowired
    @Database("mysql")  // è¯­ä¹‰æ›´æ¸…æ™°
    private UserDao userDao;
}
```

**ä¼˜åŠ¿å¯¹æ¯”**

| æ–¹å¼ | ç¤ºä¾‹ | å¯è¯»æ€§ | ç±»å‹å®‰å…¨ |
|-----|------|-------|---------|
| å­—ç¬¦ä¸² | `@Qualifier("mysql")` | â­â­â­ | âŒ æ˜“æ‹¼å†™é”™è¯¯ |
| è‡ªå®šä¹‰ | `@Database("mysql")` | â­â­â­â­â­ | âœ… ç¼–è¯‘æ£€æŸ¥ |

### 5.4 Primaryä¼˜å…ˆçº§


**@Primary = é¦–é€‰Bean**

```java
// æ ‡è®°ä¸ºä¸»è¦çš„Bean
@Repository
@Primary  // å½“æœ‰å¤šä¸ªå€™é€‰æ—¶ï¼Œä¼˜å…ˆé€‰æ‹©æˆ‘
public class MysqlUserDao implements UserDao { }

@Repository
public class OracleUserDao implements UserDao { }

// æ³¨å…¥æ—¶ä¸éœ€è¦@Qualifierï¼Œè‡ªåŠ¨é€‰Primaryçš„
@Autowired
private UserDao userDao;  // è‡ªåŠ¨æ³¨å…¥MysqlUserDao
```

**ä¼˜å…ˆçº§è§„åˆ™**

```
@Qualifier æ˜ç¡®æŒ‡å®š
        â†“
     ä¼˜å…ˆçº§æœ€é«˜
        â†“
    @Primary ä¸»è¦Bean
        â†“
     ä¼˜å…ˆçº§ä¸­ç­‰
        â†“
    æŒ‰åç§°åŒ¹é…
        â†“
     ä¼˜å…ˆçº§æœ€ä½
```

### 5.5 å®æˆ˜æŠ€å·§


**æŠ€å·§â‘ ï¼šç¯å¢ƒåˆ‡æ¢**

```java
// å¼€å‘ç¯å¢ƒç”¨MySQL
@Repository
@Profile("dev")
@Primary
public class MysqlUserDao implements UserDao { }

// ç”Ÿäº§ç¯å¢ƒç”¨Oracle  
@Repository
@Profile("prod")
@Primary
public class OracleUserDao implements UserDao { }

// ä»£ç ä¸ç”¨æ”¹ï¼Œé€šè¿‡é…ç½®åˆ‡æ¢
@Autowired
private UserDao userDao;  // è‡ªåŠ¨é€‚é…ç¯å¢ƒ
```

**æŠ€å·§â‘¡ï¼šå¤šæ•°æ®æºåœºæ™¯**

```java
@Service
public class OrderService {
    
    @Autowired
    @Qualifier("masterDataSource")  // ä¸»åº“
    private DataSource masterDS;
    
    @Autowired
    @Qualifier("slaveDataSource")   // ä»åº“
    private DataSource slaveDS;
}
```

---

## 6. ğŸ’° @Valueå€¼æ³¨å…¥


### 6.1 åŸºæœ¬æ¦‚å¿µ


**Value = æ³¨å…¥é…ç½®å€¼**

ä¸åŒäºæ³¨å…¥Beanå¯¹è±¡ï¼Œ`@Value`ä¸“é—¨ç”¨æ¥æ³¨å…¥é…ç½®æ–‡ä»¶ä¸­çš„å€¼ã€ç³»ç»Ÿå±æ€§ã€ç¯å¢ƒå˜é‡ç­‰ã€‚

**ğŸ”¸ ä¸å…¶ä»–æ³¨è§£çš„åŒºåˆ«**

```
@Autowired/@Resource/@Inject â†’ æ³¨å…¥å¯¹è±¡ï¼ˆBeanï¼‰
              â†“
         ä»Springå®¹å™¨ä¸­æ‹¿

@Value â†’ æ³¨å…¥åŸºæœ¬å€¼ï¼ˆé…ç½®ï¼‰
    â†“
ä»é…ç½®æ–‡ä»¶/ç¯å¢ƒå˜é‡ä¸­æ‹¿
```

### 6.2 å…­ç§æ³¨å…¥æ–¹å¼


**æ–¹å¼â‘ ï¼šå­—é¢é‡æ³¨å…¥**

```java
@Component
public class AppConfig {
    
    @Value("MyApp")  // ç›´æ¥å†™æ­»çš„å€¼
    private String appName;
    
    @Value("8080")
    private int port;
    
    @Value("true")
    private boolean debugMode;
}
```

**æ–¹å¼â‘¡ï¼šé…ç½®æ–‡ä»¶å±æ€§**

```java
// application.propertiesæ–‡ä»¶å†…å®¹ï¼š
// app.name=ç”¨æˆ·ç®¡ç†ç³»ç»Ÿ
// app.version=1.0.0
// app.max-users=1000

@Component
public class AppConfig {
    
    @Value("${app.name}")  // è¯»å–é…ç½®æ–‡ä»¶ä¸­çš„å€¼
    private String appName;
    
    @Value("${app.version}")
    private String version;
    
    @Value("${app.max-users}")
    private int maxUsers;
}
```

**æ–¹å¼â‘¢ï¼šé»˜è®¤å€¼è®¾ç½®**

```java
@Component
public class AppConfig {
    
    // å¦‚æœé…ç½®æ–‡ä»¶ä¸­æ²¡æœ‰app.timeoutï¼Œä½¿ç”¨é»˜è®¤å€¼30
    @Value("${app.timeout:30}")
    private int timeout;
    
    // å­—ç¬¦ä¸²é»˜è®¤å€¼
    @Value("${app.env:development}")
    private String environment;
}
```

**æ–¹å¼â‘£ï¼šç³»ç»Ÿå±æ€§**

```java
@Component
public class SystemConfig {
    
    @Value("#{systemProperties['user.home']}")  // ç”¨æˆ·ä¸»ç›®å½•
    private String userHome;
    
    @Value("#{systemProperties['java.version']}")  // Javaç‰ˆæœ¬
    private String javaVersion;
}
```

**æ–¹å¼â‘¤ï¼šSpELè¡¨è¾¾å¼**

```java
@Component
public class MathConfig {
    
    // æ•°å­¦è¿ç®—
    @Value("#{10 * 2}")
    private int result;  // 20
    
    // ä¸‰ç›®è¿ç®—
    @Value("#{10 > 5 ? 'big' : 'small'}")
    private String comparison;  // "big"
    
    // è°ƒç”¨æ–¹æ³•
    @Value("#{'hello'.toUpperCase()}")
    private String upper;  // "HELLO"
}
```

**æ–¹å¼â‘¥ï¼šæ³¨å…¥å…¶ä»–Beançš„å±æ€§**

```java
@Component
public class DatabaseConfig {
    
    // æ³¨å…¥å¦ä¸€ä¸ªBeançš„å±æ€§å€¼
    @Value("#{userService.maxConnections}")
    private int connections;
    
    // è°ƒç”¨å¦ä¸€ä¸ªBeançš„æ–¹æ³•
    @Value("#{userService.getDatabaseUrl()}")
    private String dbUrl;
}
```

### 6.3 æ•°æ®ç±»å‹æ”¯æŒ


**åŸºæœ¬ç±»å‹ä¸åŒ…è£…ç±»**

```java
@Value("${server.port:8080}")
private int port;  // int

@Value("${server.port:8080}")
private Integer portWrapper;  // Integer

@Value("${app.enabled:true}")
private boolean enabled;  // boolean

@Value("${app.rate:0.5}")
private double rate;  // double
```

**é›†åˆç±»å‹**

```java
// application.properties:
// app.servers=192.168.1.1,192.168.1.2,192.168.1.3

@Component
public class ServerConfig {
    
    // é€—å·åˆ†éš”è‡ªåŠ¨è½¬List
    @Value("${app.servers}")
    private List<String> servers;
    
    // ä¹Ÿå¯ä»¥ç”¨æ•°ç»„
    @Value("${app.servers}")
    private String[] serverArray;
}
```

**ç‰¹æ®Šç±»å‹**

```java
@Component
public class AdvancedConfig {
    
    // æ—¥æœŸç±»å‹ï¼ˆéœ€è¦è‡ªå®šä¹‰è½¬æ¢å™¨ï¼‰
    @Value("${app.start-date}")
    private Date startDate;
    
    // æšä¸¾ç±»å‹
    @Value("${app.level}")
    private LogLevel level;
    
    // URLç±»å‹
    @Value("${app.api-url}")
    private URL apiUrl;
}
```

### 6.4 SpELè¡¨è¾¾å¼è¯¦è§£


**SpEL = Spring Expression Languageï¼ˆSpringè¡¨è¾¾å¼è¯­è¨€ï¼‰**

**å¸¸ç”¨è¯­æ³•è¡¨**

| è¯­æ³• | è¯´æ˜ | ç¤ºä¾‹ |
|-----|------|------|
| `${}` | è¯»å–é…ç½® | `${app.name}` |
| `#{}` | SpELè¡¨è¾¾å¼ | `#{10 + 5}` |
| `T()` | ç±»å‹å¼•ç”¨ | `#{T(java.lang.Math).PI}` |
| `?:` | ä¸‰ç›®è¿ç®— | `#{age > 18 ? 'æˆå¹´' : 'æœªæˆå¹´'}` |
| `?.` | å®‰å…¨å¯¼èˆª | `#{user?.name}` é¿å…null |

**å®æˆ˜ç¤ºä¾‹**

```java
@Component
public class SpELDemo {
    
    // 1. æ•°å­¦è¿ç®—
    @Value("#{10 + 5 * 2}")
    private int math;  // 20
    
    // 2. å­—ç¬¦ä¸²æ“ä½œ
    @Value("#{'Hello ' + 'World'}")
    private String concat;  // "Hello World"
    
    // 3. è®¿é—®é™æ€æ–¹æ³•
    @Value("#{T(java.lang.Math).random()}")
    private double random;
    
    // 4. ä¸‰ç›®è¿ç®—ç¬¦
    @Value("#{${app.debug:false} ? 'DEBUGæ¨¡å¼' : 'æ­£å¸¸æ¨¡å¼'}")
    private String mode;
    
    // 5. æ­£åˆ™åŒ¹é…
    @Value("#{'admin@example.com' matches '[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}'}")
    private boolean isValidEmail;  // true
}
```

### 6.5 æ³¨æ„äº‹é¡¹ä¸æœ€ä½³å®è·µ


**âš ï¸ å¸¸è§é—®é¢˜**

```java
// âŒ é”™è¯¯1ï¼šå¿˜è®°é…ç½®å ä½ç¬¦è§£æå™¨
@Value("${app.name}")  // å¯èƒ½æŠ¥é”™ï¼šCould not resolve placeholder

// âœ… è§£å†³ï¼šç¡®ä¿é…ç½®äº†PropertySourcesPlaceholderConfigurer
@Configuration
public class Config {
    @Bean
    public static PropertySourcesPlaceholderConfigurer propertyConfigurer() {
        return new PropertySourcesPlaceholderConfigurer();
    }
}

// âŒ é”™è¯¯2ï¼šstaticå­—æ®µæ³¨å…¥å¤±è´¥
@Value("${app.name}")
private static String appName;  // æ— æ•ˆï¼staticå­—æ®µä¸èƒ½æ³¨å…¥

// âœ… è§£å†³ï¼šç”¨setteræ³¨å…¥
private static String appName;

@Value("${app.name}")
public void setAppName(String name) {
    AppConfig.appName = name;
}
```

**ğŸ¯ æœ€ä½³å®è·µ**

```java
// æ¨èï¼šé…ç½®ç±»ç»Ÿä¸€ç®¡ç†
@Configuration
@ConfigurationProperties(prefix = "app")
public class AppProperties {
    
    private String name;
    private int port;
    private boolean debug;
    
    // getters and setters
}

// ä½¿ç”¨æ—¶æ³¨å…¥é…ç½®å¯¹è±¡ï¼Œè€Œéé›¶æ•£çš„@Value
@Service
public class UserService {
    
    @Autowired
    private AppProperties appProperties;  // æ›´æ¸…æ™°æ˜“ç»´æŠ¤
}
```

---

## 7. ğŸ“Š æ³¨è§£ä¼˜å…ˆçº§ä¸é€‰æ‹©ç­–ç•¥


### 7.1 æ³¨è§£ä¼˜å…ˆçº§è§„åˆ™


**è§„åˆ™â‘ ï¼šåŒä¸€ä½ç½®å¤šä¸ªæ³¨è§£çš„ä¼˜å…ˆçº§**

```
æœ€é«˜ä¼˜å…ˆçº§ â†’ @Qualifieræ˜ç¡®æŒ‡å®š
              â†“
ä¸­ç­‰ä¼˜å…ˆçº§ â†’ @Primaryä¸»è¦Bean
              â†“  
æœ€ä½ä¼˜å…ˆçº§ â†’ æŒ‰åç§°/ç±»å‹åŒ¹é…
```

**è§„åˆ™â‘¡ï¼šæ³¨è§£å†²çªæ—¶çš„å¤„ç†**

```java
// åœºæ™¯ï¼šåŒæ—¶ä½¿ç”¨@Autowiredå’Œ@Resource
@Autowired
@Resource(name = "mysqlDao")
private UserDao userDao;  
// âš ï¸ ä¸¤ä¸ªæ³¨è§£éƒ½ä¼šç”Ÿæ•ˆï¼Œä½†@Resourceä¼˜å…ˆæ‰§è¡Œ
```

> ğŸ’¡ **å»ºè®®**
> 
> ä¸è¦åœ¨åŒä¸€ä½ç½®æ··ç”¨æ³¨è§£ï¼Œé€‰æ‹©ä¸€ç§å¹¶ä¿æŒä¸€è‡´ã€‚

### 7.2 æ³¨è§£å¯¹æ¯”æ€»è¡¨


| æ³¨è§£ | æ¥æº | åŒ¹é…æ–¹å¼ | å¿…éœ€æ€§æ§åˆ¶ | æ„é€ å™¨ | æ¨èåº¦ |
|-----|------|---------|----------|-------|-------|
| **@Autowired** | Spring | ç±»å‹â†’åç§° | âœ… required | âœ… | â­â­â­â­â­ |
| **@Resource** | JSR-250 | åç§°â†’ç±»å‹ | âŒ | âŒ | â­â­â­â­ |
| **@Inject** | JSR-330 | ç±»å‹ | âŒ | âœ… | â­â­â­ |
| **@Qualifier** | Spring | è¾…åŠ©ç²¾ç¡® | - | âœ… | â­â­â­â­ |
| **@Value** | Spring | é…ç½®å€¼ | - | âœ… | â­â­â­â­â­ |

### 7.3 é€‰æ‹©ç­–ç•¥å†³ç­–æ ‘


```
å¼€å§‹é€‰æ‹©æ³¨è§£
    â†“
éœ€è¦æ³¨å…¥é…ç½®å€¼ï¼Ÿ
    â†“Yes          â†“No
ä½¿ç”¨@Value    æ³¨å…¥Beanå¯¹è±¡
              â†“
         æœ‰å¤šä¸ªå®ç°ç±»ï¼Ÿ
              â†“Yes            â†“No
        éœ€è¦æŒ‰åç§°æ³¨å…¥ï¼Ÿ      ç›´æ¥ç”¨@Autowired
              â†“Yes    â†“No
         ç”¨@Resource  ç”¨@Autowired + @Qualifier
```

### 7.4 å®é™…é¡¹ç›®é€‰æ‹©å»ºè®®


**æ¨èæ–¹æ¡ˆï¼š@Autowired + æ„é€ å™¨æ³¨å…¥**

```java
// âœ… æ¨èçš„æ ‡å‡†å†™æ³•
@Service
public class UserService {
    
    private final UserDao userDao;
    private final EmailService emailService;
    
    // ä»Spring 4.3å¼€å§‹ï¼Œå•æ„é€ å™¨å¯çœç•¥@Autowired
    public UserService(UserDao userDao, EmailService emailService) {
        this.userDao = userDao;
        this.emailService = emailService;
    }
}
```

**ä¼˜åŠ¿åˆ†æ**

```
âœ… ä¾èµ–æ˜ç¡® â†’ ä¸€çœ¼çœ‹å‡ºéœ€è¦å“ªäº›ä¾èµ–
âœ… æ˜“äºæµ‹è¯• â†’ å¯ä»¥ç›´æ¥newå¯¹è±¡ä¼ å‚æµ‹è¯•
âœ… ä¸å¯å˜æ€§ â†’ finalä¿è¯çº¿ç¨‹å®‰å…¨
âœ… å¾ªç¯ä¾èµ– â†’ æ„é€ å™¨å¾ªç¯ä¼šç«‹å³æŠ¥é”™
âœ… ä»£ç ç®€æ´ â†’ çœç•¥@Autowiredæ³¨è§£
```

### 7.5 ä¸åŒåœºæ™¯çš„æœ€ä½³å®è·µ


**åœºæ™¯â‘ ï¼šæ ¸å¿ƒä¸šåŠ¡ç±»ï¼ˆæ¨èæ„é€ å™¨æ³¨å…¥ï¼‰**

```java
@Service
public class OrderService {
    
    private final OrderDao orderDao;
    private final PaymentService paymentService;
    
    public OrderService(OrderDao orderDao, PaymentService paymentService) {
        this.orderDao = orderDao;
        this.paymentService = paymentService;
    }
}
```

**åœºæ™¯â‘¡ï¼šå¯é€‰ä¾èµ–ï¼ˆä½¿ç”¨Optionalï¼‰**

```java
@Service
public class NotificationService {
    
    private final EmailService emailService;
    
    @Autowired(required = false)
    private SmsService smsService;  // å¯é€‰çš„çŸ­ä¿¡æœåŠ¡
    
    public void notify(String message) {
        emailService.send(message);
        if (smsService != null) {
            smsService.send(message);  // æœ‰å°±å‘ï¼Œæ²¡æœ‰ä¹Ÿä¸å½±å“
        }
    }
}
```

**åœºæ™¯â‘¢ï¼šå¤šå®ç°åˆ‡æ¢ï¼ˆä½¿ç”¨@Qualifierï¼‰**

```java
@Service
public class ReportService {
    
    @Autowired
    @Qualifier("pdfExporter")  // æ˜ç¡®æŒ‡å®šPDFå¯¼å‡ºå™¨
    private Exporter exporter;
}
```

**åœºæ™¯â‘£ï¼šé…ç½®å±æ€§ï¼ˆä½¿ç”¨@Value + @ConfigurationPropertiesï¼‰**

```java
// æ–¹å¼1ï¼šå°‘é‡é…ç½®ç”¨@Value
@Component
public class AppInfo {
    @Value("${app.name}")
    private String name;
}

// æ–¹å¼2ï¼šå¤§é‡é…ç½®ç”¨@ConfigurationProperties
@ConfigurationProperties(prefix = "database")
@Component
public class DatabaseConfig {
    private String url;
    private String username;
    private String password;
    // getters and setters
}
```

### 7.6 å¸¸è§é”™è¯¯ä¸è§£å†³æ–¹æ¡ˆ


**é”™è¯¯â‘ ï¼šå¾ªç¯ä¾èµ–**

```java
// âŒ é”™è¯¯ç¤ºä¾‹
@Service
public class ServiceA {
    @Autowired
    private ServiceB serviceB;
}

@Service
public class ServiceB {
    @Autowired
    private ServiceA serviceA;  // å¾ªç¯ä¾èµ–
}

// âœ… è§£å†³æ–¹æ¡ˆ1ï¼šé‡æ–°è®¾è®¡é¿å…å¾ªç¯
// âœ… è§£å†³æ–¹æ¡ˆ2ï¼šä½¿ç”¨@Lazyå»¶è¿ŸåŠ è½½
@Service
public class ServiceA {
    @Autowired
    @Lazy  // å»¶è¿ŸåŠ è½½
    private ServiceB serviceB;
}
```

**é”™è¯¯â‘¡ï¼šæ‰¾ä¸åˆ°Bean**

```java
// âŒ æŠ¥é”™ï¼šNo qualifying bean of type 'UserDao' available

// âœ… æ£€æŸ¥æ¸…å•
â˜‘ï¸ 1. Beanæ˜¯å¦æ·»åŠ äº†@Component/@Serviceç­‰æ³¨è§£ï¼Ÿ
â˜‘ï¸ 2. Beanæ‰€åœ¨åŒ…æ˜¯å¦è¢«@ComponentScanæ‰«æï¼Ÿ
â˜‘ï¸ 3. é…ç½®ç±»æ˜¯å¦æœ‰@Configurationæ³¨è§£ï¼Ÿ
â˜‘ï¸ 4. æ˜¯å¦æœ‰æ¡ä»¶æ³¨è§£å¯¼è‡´Beanæœªåˆ›å»ºï¼Ÿ
```

**é”™è¯¯â‘¢ï¼šæ‰¾åˆ°å¤šä¸ªBean**

```java
// âŒ æŠ¥é”™ï¼šexpected single matching bean but found 2

// âœ… è§£å†³æ–¹æ¡ˆå¯¹æ¯”
æ–¹æ¡ˆ1ï¼šç”¨@Primaryæ ‡è®°ä¸»Bean
æ–¹æ¡ˆ2ï¼šç”¨@QualifieræŒ‡å®šåç§°
æ–¹æ¡ˆ3ï¼šç”¨@ResourceæŒ‰åç§°æ³¨å…¥
```

---

## 8. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 8.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ ä¾èµ–æ³¨å…¥ï¼šSpringè‡ªåŠ¨ç®¡ç†å¯¹è±¡ä¾èµ–å…³ç³»
ğŸ”¸ @Autowiredï¼šSpringåŸç”Ÿï¼ŒæŒ‰ç±»å‹æ³¨å…¥ï¼ŒåŠŸèƒ½æœ€å¼º
ğŸ”¸ @Resourceï¼šJavaæ ‡å‡†ï¼ŒæŒ‰åç§°æ³¨å…¥ï¼Œé€šç”¨æ€§å¥½
ğŸ”¸ @Injectï¼šJSR-330æ ‡å‡†ï¼Œè·¨æ¡†æ¶ä½¿ç”¨
ğŸ”¸ @Qualifierï¼šç²¾ç¡®æŒ‡å®šBeanï¼Œè§£å†³å¤šå®ç°é—®é¢˜
ğŸ”¸ @Valueï¼šæ³¨å…¥é…ç½®å€¼ï¼Œæ”¯æŒSpELè¡¨è¾¾å¼
```

### 8.2 æ³¨è§£å¯¹æ¯”é€ŸæŸ¥è¡¨


| ç‰¹æ€§ | @Autowired | @Resource | @Inject | @Value |
|-----|-----------|----------|---------|--------|
| **åŒ¹é…ç­–ç•¥** | ç±»å‹â†’åç§° | åç§°â†’ç±»å‹ | ç±»å‹ | é…ç½®å€¼ |
| **æ¥æº** | Spring | JSR-250 | JSR-330 | Spring |
| **æ„é€ å™¨** | âœ… | âŒ | âœ… | âœ… |
| **å¿…éœ€æ§åˆ¶** | âœ… | âŒ | âŒ | âŒ |
| **é…åˆæ³¨è§£** | @Qualifier | nameå±æ€§ | @Named | SpEL |
| **æ¨èåº¦** | â­â­â­â­â­ | â­â­â­â­ | â­â­â­ | â­â­â­â­â­ |

### 8.3 æœ€ä½³å®è·µæ¸…å•


```
âœ… æ ¸å¿ƒä¾èµ–ç”¨æ„é€ å™¨æ³¨å…¥ï¼ˆ@Autowired + æ„é€ å™¨ï¼‰
âœ… å¯é€‰ä¾èµ–ç”¨å±æ€§æ³¨å…¥ + required=false
âœ… å¤šå®ç°ç±»ç”¨@Qualifieræˆ–@Primary
âœ… é…ç½®å€¼ç”¨@Valueæˆ–@ConfigurationProperties
âœ… ä¿æŒæ³¨è§£é£æ ¼ç»Ÿä¸€ï¼Œä¸è¦æ··ç”¨
âœ… ä¼˜å…ˆä½¿ç”¨@Autowiredï¼Œè·¨æ¡†æ¶ç”¨@Inject
âœ… å–„ç”¨SpELè¡¨è¾¾å¼å®ç°å¤æ‚é€»è¾‘
```

### 8.4 è®°å¿†å£è¯€


> ğŸ§  **ä¾èµ–æ³¨å…¥æ³¨è§£æ­Œè¯€**
> 
> *Autowiredç±»å‹æ‰¾ï¼ŒResourceåå­—é *  
> *Injectæ ‡å‡†è·¨æ¡†æ¶ï¼ŒQualifierç²¾å‡†åˆ°*  
> *Valueé…ç½®å€¼ä¸“ç”¨ï¼ŒPrimaryä¸»æ¬¡åˆ†æ˜äº†*  
> *æ„é€ æ³¨å…¥æœ€å®‰å…¨ï¼Œfinalä¿®é¥°æ›´ç‰¢é *

### 8.5 å­¦ä¹ è·¯çº¿å»ºè®®


```
ç¬¬1é˜¶æ®µï¼šå…¥é—¨å®è·µ
â”œâ”€ æŒæ¡@AutowiredåŸºæœ¬ç”¨æ³•
â”œâ”€ ç†è§£æŒ‰ç±»å‹å’ŒæŒ‰åç§°åŒ¹é…
â””â”€ ç»ƒä¹ ä¸‰ç§æ³¨å…¥ä½ç½®

ç¬¬2é˜¶æ®µï¼šæ·±å…¥ç†è§£  
â”œâ”€ å¯¹æ¯”@Resourceå’Œ@Inject
â”œâ”€ å­¦ä¼šä½¿ç”¨@Qualifierè§£å†³å†²çª
â””â”€ æŒæ¡@Valueå„ç§ç”¨æ³•

ç¬¬3é˜¶æ®µï¼šæœ€ä½³å®è·µ
â”œâ”€ æ„é€ å™¨æ³¨å…¥æˆä¸ºä¹ æƒ¯
â”œâ”€ åˆç†ä½¿ç”¨@Primaryå’Œ@Qualifier
â””â”€ é…ç½®ç®¡ç†ç»Ÿä¸€è§„èŒƒ
```

### 8.6 å¸¸è§é—®é¢˜Q&A


**Q1ï¼šä»€ä¹ˆæ—¶å€™ç”¨@Autowiredï¼Œä»€ä¹ˆæ—¶å€™ç”¨@Resourceï¼Ÿ**

```
Aï¼šæ¨èä½¿ç”¨@Autowired
- åŠŸèƒ½æ›´å¼ºå¤§ï¼ˆæ”¯æŒrequiredã€æ„é€ å™¨æ³¨å…¥ï¼‰
- Springç”Ÿæ€é¡¹ç›®çš„æ ‡å‡†é€‰æ‹©
- åªæœ‰åœ¨éœ€è¦å¼ºè°ƒæŒ‰åç§°æ³¨å…¥æ—¶ç”¨@Resource
```

**Q2ï¼šæ„é€ å™¨æ³¨å…¥æ¯”å±æ€§æ³¨å…¥å¥½åœ¨å“ªé‡Œï¼Ÿ**

```
Aï¼šæ„é€ å™¨æ³¨å…¥ä¼˜åŠ¿æ˜æ˜¾
âœ… æ”¯æŒfinalï¼Œä¿è¯ä¸å¯å˜
âœ… ä¾èµ–ä¸€ç›®äº†ç„¶
âœ… ä¾¿äºå•å…ƒæµ‹è¯•
âœ… å¾ªç¯ä¾èµ–æ—©å‘ç°
```

**Q3ï¼š@Valueçš„${}å’Œ#{}æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ**

```
Aï¼šè¯­æ³•åŒºåˆ«
${} â†’ è¯»å–é…ç½®æ–‡ä»¶å±æ€§
#{} â†’ SpELè¡¨è¾¾å¼è®¡ç®—

ç¤ºä¾‹ï¼š
@Value("${app.name}")      // ä»é…ç½®è¯»
@Value("#{10 + 5}")        // è¡¨è¾¾å¼ç®—
@Value("#{${app.port} + 1000}")  // å¯ç»„åˆ
```

**Q4ï¼šå¦‚ä½•é¿å…å¾ªç¯ä¾èµ–ï¼Ÿ**

```
Aï¼šä¸‰ç§æ–¹æ¡ˆ
1. é‡æ–°è®¾è®¡é¿å…å¾ªç¯ï¼ˆæœ€ä½³ï¼‰
2. ä½¿ç”¨@Lazyå»¶è¿ŸåŠ è½½
3. æ”¹ç”¨Setteræ³¨å…¥ä»£æ›¿æ„é€ å™¨æ³¨å…¥
```

---

> ğŸ¯ **å­¦ä¹ å»ºè®®**
> 
> ä¾èµ–æ³¨å…¥æ³¨è§£æ˜¯Springçš„æ ¸å¿ƒåŠŸèƒ½ï¼Œå»ºè®®ï¼š
> - ä»@Autowiredå¼€å§‹ï¼Œç†Ÿç»ƒæŒæ¡ä¸‰ç§æ³¨å…¥æ–¹å¼
> - ç†è§£å„æ³¨è§£çš„åŒ¹é…è§„åˆ™å’Œä¼˜å…ˆçº§
> - å¤šå®è·µï¼Œåœ¨çœŸå®é¡¹ç›®ä¸­ä½“ä¼šæœ€ä½³å®è·µ
> - å…³æ³¨Springç‰ˆæœ¬æ›´æ–°ï¼Œäº†è§£æ–°ç‰¹æ€§

> ğŸ“š **æ‰©å±•é˜…è¯»**
> 
> - Springå®˜æ–¹æ–‡æ¡£ï¼šä¾èµ–æ³¨å…¥ç« èŠ‚
> - JSR-250å’ŒJSR-330è§„èŒƒæ–‡æ¡£  
> - Spring Bootè‡ªåŠ¨é…ç½®åŸç†