---
title: 6ã€Awareæ¥å£æ—
---
## ğŸ“š ç›®å½•

1. [Awareæ¥å£æ—æ¦‚è¿°](#1-Awareæ¥å£æ—æ¦‚è¿°)
2. [æ ¸å¿ƒAwareæ¥å£è¯¦è§£](#2-æ ¸å¿ƒAwareæ¥å£è¯¦è§£)
3. [å›è°ƒæ—¶æœºä¸æ‰§è¡Œé¡ºåº](#3-å›è°ƒæ—¶æœºä¸æ‰§è¡Œé¡ºåº)
4. [å®æˆ˜åº”ç”¨åœºæ™¯](#4-å®æˆ˜åº”ç”¨åœºæ™¯)
5. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#5-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ¯ Awareæ¥å£æ—æ¦‚è¿°


### 1.1 ä»€ä¹ˆæ˜¯Awareæ¥å£


**ğŸ”¸ é€šä¿—ç†è§£**
```
æƒ³è±¡ä¸€ä¸‹ï¼š
ä½ åˆšè¿›å…¥ä¸€ä¸ªæ–°å…¬å¸ï¼Œä½œä¸ºæ–°å‘˜å·¥ï¼ˆBeanï¼‰ï¼Œä½ éœ€è¦çŸ¥é“ï¼š
â€¢ å…¬å¸å«ä»€ä¹ˆåå­—ï¼Ÿï¼ˆBeanNameAwareï¼‰
â€¢ å…¬å¸åœ¨å“ªé‡ŒåŠå…¬ï¼Ÿï¼ˆApplicationContextAwareï¼‰
â€¢ å…¬å¸æœ‰ä»€ä¹ˆèµ„æºå¯ä»¥ç”¨ï¼Ÿï¼ˆResourceLoaderAwareï¼‰

Awareæ¥å£å°±æ˜¯Springæä¾›çš„"è®©Beanäº†è§£è‡ªå·±è¿è¡Œç¯å¢ƒ"çš„æœºåˆ¶
```

**ğŸ“‹ æ­£å¼å®šä¹‰**
> Awareæ¥å£æ˜¯Springæ¡†æ¶æä¾›çš„ä¸€ç»„å›è°ƒæ¥å£ï¼Œè®©Beanèƒ½å¤Ÿæ„ŸçŸ¥ï¼ˆAwareï¼‰å¹¶è·å–Springå®¹å™¨ä¸­çš„åŸºç¡€è®¾æ–½èµ„æºã€‚

**ğŸ’¡ ä¸ºä»€ä¹ˆéœ€è¦Awareæ¥å£ï¼Ÿ**
```
é—®é¢˜åœºæ™¯ï¼š
Beanåœ¨Springå®¹å™¨ä¸­è¿è¡Œï¼Œæœ‰æ—¶éœ€è¦ï¼š
- çŸ¥é“è‡ªå·±çš„Beanåç§°
- è®¿é—®Springå®¹å™¨æœ¬èº«
- è·å–åº”ç”¨ä¸Šä¸‹æ–‡
- åŠ è½½å¤–éƒ¨èµ„æºæ–‡ä»¶

è§£å†³æ–¹æ¡ˆï¼š
å®ç°å¯¹åº”çš„Awareæ¥å£ï¼ŒSpringä¼šè‡ªåŠ¨å›è°ƒå¹¶ä¼ å…¥ç›¸å…³èµ„æº
```

### 1.2 Awareæ¥å£å®¶æ—æˆå‘˜


**ğŸ·ï¸ æ ¸å¿ƒæ¥å£åˆ†ç±»**

| æ¥å£ç±»å‹ | **ä½œç”¨** | **è·å–èµ„æº** | **å¸¸ç”¨ç¨‹åº¦** |
|---------|---------|------------|-------------|
| **BeanNameAware** | `è·å–Beanåç§°` | `Beanåœ¨å®¹å™¨ä¸­çš„ID` | â­â­â­ |
| **BeanFactoryAware** | `è·å–Beanå·¥å‚` | `BeanFactoryå®ä¾‹` | â­â­ |
| **ApplicationContextAware** | `è·å–åº”ç”¨ä¸Šä¸‹æ–‡` | `ApplicationContext` | â­â­â­â­â­ |
| **ResourceLoaderAware** | `è·å–èµ„æºåŠ è½½å™¨` | `ResourceLoaderå®ä¾‹` | â­â­â­ |
| **MessageSourceAware** | `è·å–å›½é™…åŒ–èµ„æº` | `MessageSourceå®ä¾‹` | â­â­ |

**ğŸ”„ æ¥å£ç»§æ‰¿å…³ç³»**
```
           Aware (æ ‡è®°æ¥å£)
              â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚         â”‚         â”‚             â”‚
BeanNameAware  â”‚    ResourceLoaderAware  MessageSourceAware
               â”‚
      BeanFactoryAware
               â”‚
     ApplicationContextAware
```

---

## 2. ğŸ”§ æ ¸å¿ƒAwareæ¥å£è¯¦è§£


### 2.1 BeanNameAware - è·å–Beanåç§°


**ğŸ”¸ æ¥å£å®šä¹‰**
```java
public interface BeanNameAware extends Aware {
    void setBeanName(String name);
}
```

**ğŸ’¡ é€šä¿—è§£é‡Š**
> å°±åƒæ–°å‘˜å·¥å…¥èŒï¼ŒHRä¼šå‘Šè¯‰ä½ "ä½ åœ¨å…¬å¸çš„å·¥å·æ˜¯001"ï¼ŒBeanNameAwareå°±æ˜¯è®©BeançŸ¥é“è‡ªå·±åœ¨Springå®¹å™¨ä¸­çš„åå­—ã€‚

**ğŸ“ å®é™…åº”ç”¨**
```java
@Component("userService")
public class UserService implements BeanNameAware {
    
    private String beanName;
    
    @Override
    public void setBeanName(String name) {
        this.beanName = name;  // Springä¼šä¼ å…¥"userService"
        System.out.println("æˆ‘çš„Beanåç§°æ˜¯: " + name);
    }
    
    public void showInfo() {
        System.out.println("å½“å‰Bean: " + beanName);
    }
}
```

**ğŸ¯ ä½¿ç”¨åœºæ™¯**
```
é€‚ç”¨åœºæ™¯ï¼š
âœ… æ—¥å¿—è®°å½•ï¼šåœ¨æ—¥å¿—ä¸­æ‰“å°å½“å‰Beanåç§°
âœ… è°ƒè¯•è¿½è¸ªï¼šæ–¹ä¾¿å®šä½æ˜¯å“ªä¸ªBeanåœ¨æ‰§è¡Œ
âœ… åŠ¨æ€é…ç½®ï¼šæ ¹æ®Beanåç§°åŠ è½½ä¸åŒé…ç½®

ä¸é€‚ç”¨ï¼š
âŒ å¤§éƒ¨åˆ†ä¸šåŠ¡é€»è¾‘ä¸éœ€è¦å…³å¿ƒBeanåç§°
âŒ ç®€å•åº”ç”¨ä¸­å¾ˆå°‘ä½¿ç”¨
```

---

### 2.2 BeanFactoryAware - è·å–Beanå·¥å‚


**ğŸ”¸ æ¥å£å®šä¹‰**
```java
public interface BeanFactoryAware extends Aware {
    void setBeanFactory(BeanFactory beanFactory);
}
```

**ğŸ’¡ é€šä¿—è§£é‡Š**
> BeanFactoryæ˜¯Springçš„"Beanå·¥å‚"ï¼Œå°±åƒä¸€ä¸ªç”Ÿäº§è½¦é—´ã€‚BeanFactoryAwareè®©ä½ çš„Beanèƒ½ç›´æ¥è®¿é—®è¿™ä¸ªå·¥å‚ï¼Œæ‰‹åŠ¨è·å–å…¶ä»–Beanã€‚

**ğŸ“ å®é™…åº”ç”¨**
```java
@Component
public class BeanProcessor implements BeanFactoryAware {
    
    private BeanFactory beanFactory;
    
    @Override
    public void setBeanFactory(BeanFactory factory) {
        this.beanFactory = factory;
    }
    
    public void processBean() {
        // å¯ä»¥æ‰‹åŠ¨ä»å·¥å‚è·å–Bean
        UserService userService = beanFactory.getBean(UserService.class);
        userService.doSomething();
    }
}
```

**âš ï¸ æ³¨æ„äº‹é¡¹**
```
ä½¿ç”¨å»ºè®®ï¼š
â€¢ èƒ½ç”¨ä¾èµ–æ³¨å…¥å°±ä¸è¦ç”¨BeanFactoryæ‰‹åŠ¨è·å–
â€¢ ä»…åœ¨ç‰¹æ®Šåœºæ™¯ä½¿ç”¨ï¼ˆå¦‚æ¡†æ¶å¼€å‘ã€æ’ä»¶ç³»ç»Ÿï¼‰

å¯¹æ¯”ä¾èµ–æ³¨å…¥ï¼š
æ¨èæ–¹å¼ âœ…ï¼š
@Autowired
private UserService userService;

ä¸æ¨è âŒï¼š
userService = beanFactory.getBean(UserService.class);
```

---

### 2.3 ApplicationContextAware - è·å–åº”ç”¨ä¸Šä¸‹æ–‡ï¼ˆæœ€å¸¸ç”¨ï¼‰


**ğŸ”¸ æ¥å£å®šä¹‰**
```java
public interface ApplicationContextAware extends Aware {
    void setApplicationContext(ApplicationContext context);
}
```

**ğŸ’¡ é€šä¿—è§£é‡Š**
> ApplicationContextæ˜¯Springçš„"æ€»æŒ‡æŒ¥éƒ¨"ï¼ŒåŒ…å«äº†Springå®¹å™¨çš„æ‰€æœ‰åŠŸèƒ½ã€‚è¿™æ˜¯æœ€å¼ºå¤§ä¹Ÿæ˜¯æœ€å¸¸ç”¨çš„Awareæ¥å£ã€‚

**ğŸ“ å®é™…åº”ç”¨**
```java
@Component
public class SpringContextHolder implements ApplicationContextAware {
    
    private static ApplicationContext context;
    
    @Override
    public void setApplicationContext(ApplicationContext applicationContext) {
        SpringContextHolder.context = applicationContext;
    }
    
    // å·¥å…·æ–¹æ³•ï¼šé™æ€è·å–Bean
    public static <T> T getBean(Class<T> clazz) {
        return context.getBean(clazz);
    }
    
    // å‘å¸ƒäº‹ä»¶
    public static void publishEvent(Object event) {
        context.publishEvent(event);
    }
    
    // è·å–ç¯å¢ƒå˜é‡
    public static String getProperty(String key) {
        return context.getEnvironment().getProperty(key);
    }
}
```

**ğŸ¯ ApplicationContextçš„å¼ºå¤§åŠŸèƒ½**
```
å¯ä»¥åšä»€ä¹ˆï¼š

1ï¸âƒ£ æ‰‹åŠ¨è·å–Bean
   context.getBean("beanName")
   context.getBean(UserService.class)

2ï¸âƒ£ å‘å¸ƒå’Œç›‘å¬äº‹ä»¶
   context.publishEvent(new UserRegisterEvent())

3ï¸âƒ£ è®¿é—®ç¯å¢ƒé…ç½®
   context.getEnvironment().getProperty("app.name")

4ï¸âƒ£ åŠ è½½èµ„æºæ–‡ä»¶
   context.getResource("classpath:config.xml")

5ï¸âƒ£ å›½é™…åŒ–æ¶ˆæ¯
   context.getMessage("welcome", null, Locale.CHINA)
```

**ğŸ“Š ä½¿ç”¨åœºæ™¯å¯¹æ¯”**

| åœºæ™¯ | **è¯´æ˜** | **ç¤ºä¾‹ä»£ç ** |
|------|---------|------------|
| **å·¥å…·ç±»** | `åˆ›å»ºSpringå·¥å…·ç±»` | `SpringUtil.getBean(xxx)` |
| **äº‹ä»¶å‘å¸ƒ** | `å‘å¸ƒè‡ªå®šä¹‰äº‹ä»¶` | `context.publishEvent(event)` |
| **åŠ¨æ€è·å–Bean** | `è¿è¡Œæ—¶åŠ¨æ€è·å–` | `æ ¹æ®æ¡ä»¶è·å–ä¸åŒBean` |
| **æ¡†æ¶é›†æˆ** | `ç¬¬ä¸‰æ–¹æ¡†æ¶é›†æˆ` | `Mybatisã€Redisç­‰é›†æˆ` |

---

### 2.4 ResourceLoaderAware - è·å–èµ„æºåŠ è½½å™¨


**ğŸ”¸ æ¥å£å®šä¹‰**
```java
public interface ResourceLoaderAware extends Aware {
    void setResourceLoader(ResourceLoader resourceLoader);
}
```

**ğŸ’¡ é€šä¿—è§£é‡Š**
> ResourceLoaderæ˜¯Springçš„"æ–‡ä»¶ç®¡ç†å‘˜"ï¼Œå¸®ä½ åŠ è½½å„ç§èµ„æºæ–‡ä»¶ï¼ˆé…ç½®æ–‡ä»¶ã€å›¾ç‰‡ã€æ¨¡æ¿ç­‰ï¼‰ã€‚

**ğŸ“ å®é™…åº”ç”¨**
```java
@Component
public class ConfigLoader implements ResourceLoaderAware {
    
    private ResourceLoader resourceLoader;
    
    @Override
    public void setResourceLoader(ResourceLoader loader) {
        this.resourceLoader = loader;
    }
    
    public String loadConfig() throws IOException {
        // åŠ è½½ç±»è·¯å¾„ä¸‹çš„æ–‡ä»¶
        Resource resource = resourceLoader.getResource("classpath:app.properties");
        
        // è¯»å–æ–‡ä»¶å†…å®¹
        InputStream is = resource.getInputStream();
        return new String(is.readAllBytes());
    }
    
    public void loadMultipleResources() {
        // æ”¯æŒå¤šç§èµ„æºè·¯å¾„
        resourceLoader.getResource("classpath:config.xml");  // ç±»è·¯å¾„
        resourceLoader.getResource("file:/data/app.json");   // æ–‡ä»¶ç³»ç»Ÿ
        resourceLoader.getResource("http://example.com/data"); // URL
    }
}
```

**ğŸ¯ èµ„æºè·¯å¾„æ ¼å¼**
```
æ”¯æŒçš„è·¯å¾„å‰ç¼€ï¼š

classpath:    â†’ ç±»è·¯å¾„èµ„æº
  ç¤ºä¾‹: classpath:application.yml

file:         â†’ æ–‡ä»¶ç³»ç»Ÿèµ„æº
  ç¤ºä¾‹: file:/etc/config/app.properties

http/https:   â†’ ç½‘ç»œèµ„æº
  ç¤ºä¾‹: https://cdn.example.com/config.json

æ— å‰ç¼€        â†’ æ ¹æ®ApplicationContextå†³å®š
  ç¤ºä¾‹: config/db.xml
```

---

### 2.5 MessageSourceAware - è·å–å›½é™…åŒ–èµ„æº


**ğŸ”¸ æ¥å£å®šä¹‰**
```java
public interface MessageSourceAware extends Aware {
    void setMessageSource(MessageSource messageSource);
}
```

**ğŸ’¡ é€šä¿—è§£é‡Š**
> MessageSourceæ˜¯Springçš„"ç¿»è¯‘å®˜"ï¼Œæ ¹æ®ä¸åŒè¯­è¨€ç¯å¢ƒè¿”å›å¯¹åº”çš„æ–‡æœ¬æ¶ˆæ¯ï¼Œå®ç°å›½é™…åŒ–ã€‚

**ğŸ“ å®é™…åº”ç”¨**
```java
@Component
public class I18nService implements MessageSourceAware {
    
    private MessageSource messageSource;
    
    @Override
    public void setMessageSource(MessageSource source) {
        this.messageSource = source;
    }
    
    public String getMessage(String code) {
        // è·å–é»˜è®¤è¯­è¨€çš„æ¶ˆæ¯
        return messageSource.getMessage(code, null, Locale.getDefault());
    }
    
    public String getWelcomeMessage(Locale locale) {
        // æ ¹æ®è¯­è¨€ç¯å¢ƒè·å–æ¶ˆæ¯
        // ä¸­æ–‡: "æ¬¢è¿ä½¿ç”¨"
        // è‹±æ–‡: "Welcome"
        return messageSource.getMessage("welcome", null, locale);
    }
}
```

**ğŸŒ å›½é™…åŒ–é…ç½®ç¤ºä¾‹**
```
é…ç½®æ–‡ä»¶ç»“æ„ï¼š
messages.properties          # é»˜è®¤ï¼ˆè‹±æ–‡ï¼‰
messages_zh_CN.properties    # ä¸­æ–‡
messages_ja_JP.properties    # æ—¥è¯­

messages.properties:
welcome=Welcome to our system
user.login.success=Login successful

messages_zh_CN.properties:
welcome=æ¬¢è¿ä½¿ç”¨æˆ‘ä»¬çš„ç³»ç»Ÿ
user.login.success=ç™»å½•æˆåŠŸ
```

---

## 3. â° å›è°ƒæ—¶æœºä¸æ‰§è¡Œé¡ºåº


### 3.1 Beanç”Ÿå‘½å‘¨æœŸä¸­çš„ä½ç½®


**ğŸ“Š å®Œæ•´ç”Ÿå‘½å‘¨æœŸæµç¨‹**
```
Beanç”Ÿå‘½å‘¨æœŸé˜¶æ®µï¼š

1ï¸âƒ£ å®ä¾‹åŒ–Bean
   new UserService()
   
2ï¸âƒ£ è®¾ç½®å±æ€§
   @Autowiredæ³¨å…¥ä¾èµ–
   
3ï¸âƒ£ ã€Awareæ¥å£å›è°ƒã€‘â† æˆ‘ä»¬åœ¨è¿™é‡Œï¼
   â”œâ”€ BeanNameAware
   â”œâ”€ BeanClassLoaderAware
   â”œâ”€ BeanFactoryAware
   â”œâ”€ EnvironmentAware
   â”œâ”€ ResourceLoaderAware
   â”œâ”€ ApplicationContextAware
   â””â”€ MessageSourceAware
   
4ï¸âƒ£ BeanPostProcessorå‰ç½®å¤„ç†
   
5ï¸âƒ£ InitializingBean / @PostConstruct
   
6ï¸âƒ£ BeanPostProcessoråç½®å¤„ç†
   
7ï¸âƒ£ Beanå°±ç»ªï¼Œå¯ä»¥ä½¿ç”¨
   
8ï¸âƒ£ é”€æ¯é˜¶æ®µ
```

### 3.2 Awareæ¥å£çš„ç²¾ç¡®æ‰§è¡Œé¡ºåº


**ğŸ”¢ è°ƒç”¨é¡ºåºè¯¦è§£**
```java
// Springä¼šæŒ‰ä»¥ä¸‹é¡ºåºè°ƒç”¨Awareæ¥å£ï¼š

æ‰§è¡Œé¡ºåºï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. BeanNameAware               â”‚ â† æœ€å…ˆæ‰§è¡Œ
â”‚     setBeanName(String name)    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  2. BeanClassLoaderAware        â”‚
â”‚     setBeanClassLoader(...)     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  3. BeanFactoryAware            â”‚
â”‚     setBeanFactory(...)         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  4. EnvironmentAware            â”‚ â† ApplicationContextç‰¹æœ‰
â”‚     setEnvironment(...)         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  5. ResourceLoaderAware         â”‚ â† ApplicationContextç‰¹æœ‰
â”‚     setResourceLoader(...)      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  6. ApplicationContextAware     â”‚ â† æœ€å¸¸ç”¨
â”‚     setApplicationContext(...)  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  7. MessageSourceAware          â”‚ â† ApplicationContextç‰¹æœ‰
â”‚     setMessageSource(...)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ğŸ’¡ è®°å¿†æŠ€å·§**
```
è®°å¿†å£è¯€ï¼š
åå­—â†’ç±»â†’å·¥å‚â†’ç¯å¢ƒâ†’èµ„æºâ†’ä¸Šä¸‹æ–‡â†’æ¶ˆæ¯

ç®€åŒ–ç‰ˆï¼š
åŸºç¡€ä¿¡æ¯(åå­—ã€ç±»ã€å·¥å‚) â†’ å®¹å™¨èµ„æº(ç¯å¢ƒã€èµ„æºã€ä¸Šä¸‹æ–‡ã€æ¶ˆæ¯)
```

### 3.3 éªŒè¯æ‰§è¡Œé¡ºåºçš„å®Œæ•´ç¤ºä¾‹


**ğŸ“ æµ‹è¯•ä»£ç **
```java
@Component
public class AwareDemo implements 
        BeanNameAware,
        BeanFactoryAware, 
        ApplicationContextAware,
        ResourceLoaderAware,
        MessageSourceAware {
    
    @Override
    public void setBeanName(String name) {
        System.out.println("1. BeanNameAware: " + name);
    }
    
    @Override
    public void setBeanFactory(BeanFactory factory) {
        System.out.println("2. BeanFactoryAware: " + factory.getClass().getSimpleName());
    }
    
    @Override
    public void setApplicationContext(ApplicationContext context) {
        System.out.println("3. ApplicationContextAware: " + context.getClass().getSimpleName());
    }
    
    @Override
    public void setResourceLoader(ResourceLoader loader) {
        System.out.println("4. ResourceLoaderAware: " + loader.getClass().getSimpleName());
    }
    
    @Override
    public void setMessageSource(MessageSource source) {
        System.out.println("5. MessageSourceAware: " + source.getClass().getSimpleName());
    }
}
```

**ğŸ“¤ è¾“å‡ºç»“æœ**
```
1. BeanNameAware: awareDemo
2. BeanFactoryAware: DefaultListableBeanFactory
3. ApplicationContextAware: AnnotationConfigApplicationContext
4. ResourceLoaderAware: AnnotationConfigApplicationContext
5. MessageSourceAware: AnnotationConfigApplicationContext
```

**ğŸ” å…³é”®å‘ç°**
```
é‡è¦è§‚å¯Ÿï¼š
1. ApplicationContextå®ç°äº†å¤šä¸ªæ¥å£
   - å®ƒæ—¢æ˜¯BeanFactoryï¼Œä¹Ÿæ˜¯ResourceLoaderï¼Œä¹Ÿæ˜¯MessageSource
   
2. åœ¨ApplicationContextç¯å¢ƒä¸‹
   - BeanFactoryAwareè·å–çš„å…¶å®å°±æ˜¯ApplicationContext
   - ResourceLoaderAwareè·å–çš„ä¹Ÿæ˜¯ApplicationContext
   - å®ƒä»¬æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼

3. é¡ºåºæ˜¯å›ºå®šçš„
   - ä¸ç®¡ä½ å®ç°æ¥å£çš„é¡ºåºå¦‚ä½•
   - Springå§‹ç»ˆæŒ‰å†…éƒ¨å®šä¹‰çš„é¡ºåºå›è°ƒ
```

---

## 4. ğŸš€ å®æˆ˜åº”ç”¨åœºæ™¯


### 4.1 åœºæ™¯ä¸€ï¼šåˆ›å»ºSpringå·¥å…·ç±»


**ğŸ¯ éœ€æ±‚**
> åœ¨å·¥å…·ç±»ä¸­æ— æ³•ä½¿ç”¨`@Autowired`æ³¨å…¥Beanï¼Œéœ€è¦æ‰‹åŠ¨è·å–Springå®¹å™¨ä¸­çš„Beanã€‚

**âœ… è§£å†³æ–¹æ¡ˆ**
```java
@Component
public class SpringUtil implements ApplicationContextAware {
    
    private static ApplicationContext context;
    
    @Override
    public void setApplicationContext(ApplicationContext applicationContext) {
        SpringUtil.context = applicationContext;
    }
    
    // æ ¹æ®ç±»å‹è·å–Bean
    public static <T> T getBean(Class<T> clazz) {
        return context.getBean(clazz);
    }
    
    // æ ¹æ®åç§°è·å–Bean
    public static Object getBean(String beanName) {
        return context.getBean(beanName);
    }
    
    // æ ¹æ®åç§°å’Œç±»å‹è·å–Bean
    public static <T> T getBean(String beanName, Class<T> clazz) {
        return context.getBean(beanName, clazz);
    }
}
```

**ğŸ“ ä½¿ç”¨ç¤ºä¾‹**
```java
// åœ¨æ— æ³•æ³¨å…¥çš„åœ°æ–¹ä½¿ç”¨
public class NonSpringClass {
    
    public void doSomething() {
        // æ‰‹åŠ¨è·å–Bean
        UserService userService = SpringUtil.getBean(UserService.class);
        userService.findById(1L);
    }
}
```

---

### 4.2 åœºæ™¯äºŒï¼šåŠ¨æ€åŠ è½½é…ç½®æ–‡ä»¶


**ğŸ¯ éœ€æ±‚**
> æ ¹æ®ä¸åŒç¯å¢ƒåŠ¨æ€åŠ è½½ä¸åŒçš„é…ç½®æ–‡ä»¶ã€‚

**âœ… è§£å†³æ–¹æ¡ˆ**
```java
@Component
public class DynamicConfigLoader implements ResourceLoaderAware {
    
    private ResourceLoader resourceLoader;
    
    @Override
    public void setResourceLoader(ResourceLoader loader) {
        this.resourceLoader = loader;
    }
    
    public Properties loadConfig(String env) throws IOException {
        // æ ¹æ®ç¯å¢ƒåŠ è½½ä¸åŒé…ç½®
        String configPath = String.format("classpath:config-%s.properties", env);
        Resource resource = resourceLoader.getResource(configPath);
        
        Properties props = new Properties();
        props.load(resource.getInputStream());
        return props;
    }
}
```

**ğŸŒ é…ç½®æ–‡ä»¶ç¤ºä¾‹**
```
é¡¹ç›®ç»“æ„ï¼š
src/main/resources/
  â”œâ”€â”€ config-dev.properties    # å¼€å‘ç¯å¢ƒ
  â”œâ”€â”€ config-test.properties   # æµ‹è¯•ç¯å¢ƒ
  â””â”€â”€ config-prod.properties   # ç”Ÿäº§ç¯å¢ƒ
```

---

### 4.3 åœºæ™¯ä¸‰ï¼šäº‹ä»¶å‘å¸ƒä¸ç›‘å¬


**ğŸ¯ éœ€æ±‚**
> åœ¨ç”¨æˆ·æ³¨å†ŒæˆåŠŸåï¼Œå‘é€æ¬¢è¿é‚®ä»¶ã€èµ é€ç§¯åˆ†ç­‰æ“ä½œã€‚

**âœ… å®Œæ•´å®ç°**
```java
// 1. å®šä¹‰äº‹ä»¶
public class UserRegisterEvent extends ApplicationEvent {
    private Long userId;
    private String username;
    
    public UserRegisterEvent(Object source, Long userId, String username) {
        super(source);
        this.userId = userId;
        this.username = username;
    }
    
    // getteræ–¹æ³•...
}

// 2. å‘å¸ƒäº‹ä»¶
@Service
public class UserService implements ApplicationContextAware {
    
    private ApplicationContext context;
    
    @Override
    public void setApplicationContext(ApplicationContext applicationContext) {
        this.context = applicationContext;
    }
    
    public void register(String username, String password) {
        // ä¿å­˜ç”¨æˆ·
        Long userId = saveUser(username, password);
        
        // å‘å¸ƒæ³¨å†ŒæˆåŠŸäº‹ä»¶
        context.publishEvent(new UserRegisterEvent(this, userId, username));
    }
}

// 3. ç›‘å¬äº‹ä»¶
@Component
public class UserEventListener {
    
    @EventListener
    public void onUserRegister(UserRegisterEvent event) {
        System.out.println("ç”¨æˆ·æ³¨å†ŒæˆåŠŸï¼Œå‘é€æ¬¢è¿é‚®ä»¶ç»™: " + event.getUsername());
        // å‘é€é‚®ä»¶é€»è¾‘...
    }
}
```

---

### 4.4 åœºæ™¯å››ï¼šå›½é™…åŒ–æ¶ˆæ¯å¤„ç†


**ğŸ¯ éœ€æ±‚**
> æ ¹æ®ç”¨æˆ·è¯­è¨€ç¯å¢ƒè¿”å›ä¸åŒè¯­è¨€çš„æç¤ºæ¶ˆæ¯ã€‚

**âœ… è§£å†³æ–¹æ¡ˆ**
```java
@Service
public class MessageService implements MessageSourceAware {
    
    private MessageSource messageSource;
    
    @Override
    public void setMessageSource(MessageSource source) {
        this.messageSource = source;
    }
    
    public String getLoginMessage(boolean success, Locale locale) {
        String code = success ? "user.login.success" : "user.login.failed";
        return messageSource.getMessage(code, null, locale);
    }
    
    public String getValidationMessage(String field, Locale locale) {
        return messageSource.getMessage(
            "validation." + field, 
            null, 
            "å­—æ®µéªŒè¯å¤±è´¥",  // é»˜è®¤æ¶ˆæ¯
            locale
        );
    }
}
```

---

## 5. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 5.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ Awareæ¥å£æœ¬è´¨ï¼šè®©Beanæ„ŸçŸ¥Springå®¹å™¨èµ„æºçš„å›è°ƒæœºåˆ¶
ğŸ”¸ å›è°ƒæ—¶æœºï¼šåœ¨å±æ€§æ³¨å…¥åã€åˆå§‹åŒ–æ–¹æ³•å‰æ‰§è¡Œ
ğŸ”¸ æ‰§è¡Œé¡ºåºï¼šåå­—â†’ç±»â†’å·¥å‚â†’ç¯å¢ƒâ†’èµ„æºâ†’ä¸Šä¸‹æ–‡â†’æ¶ˆæ¯
ğŸ”¸ æœ€å¸¸ç”¨æ¥å£ï¼šApplicationContextAwareï¼ˆåŠŸèƒ½æœ€å¼ºå¤§ï¼‰
ğŸ”¸ ä½¿ç”¨åŸåˆ™ï¼šä¼˜å…ˆä¾èµ–æ³¨å…¥ï¼Œç‰¹æ®Šåœºæ™¯æ‰ç”¨Aware
```

### 5.2 å„Awareæ¥å£å¿«é€Ÿå¯¹ç…§


| Awareæ¥å£ | **è·å–èµ„æº** | **å…¸å‹ç”¨é€”** | **ä½¿ç”¨é¢‘ç‡** |
|-----------|------------|-------------|-------------|
| `BeanNameAware` | Beanåç§° | æ—¥å¿—ã€è°ƒè¯• | â­â­ |
| `BeanFactoryAware` | Beanå·¥å‚ | æ‰‹åŠ¨è·å–Bean | â­â­ |
| `ApplicationContextAware` | åº”ç”¨ä¸Šä¸‹æ–‡ | å·¥å…·ç±»ã€äº‹ä»¶å‘å¸ƒ | â­â­â­â­â­ |
| `ResourceLoaderAware` | èµ„æºåŠ è½½å™¨ | åŠ è½½é…ç½®æ–‡ä»¶ | â­â­â­ |
| `MessageSourceAware` | å›½é™…åŒ–èµ„æº | å¤šè¯­è¨€æ”¯æŒ | â­â­ |

### 5.3 å…³é”®ä½¿ç”¨å»ºè®®


**âœ… æ¨èåšæ³•**
```
1. ä¼˜å…ˆä½¿ç”¨ä¾èµ–æ³¨å…¥
   @Autowiredä¼˜äºæ‰‹åŠ¨è·å–Bean

2. ApplicationContextAwareæœ€å¸¸ç”¨
   åŠŸèƒ½æœ€å¼ºå¤§ï¼Œæ»¡è¶³å¤§éƒ¨åˆ†éœ€æ±‚

3. åˆ›å»ºå·¥å…·ç±»æ—¶ä½¿ç”¨
   SpringUtilå·¥å…·ç±»å¿…å¤‡

4. äº‹ä»¶é©±åŠ¨åœºæ™¯ä½¿ç”¨
   å‘å¸ƒè®¢é˜…æ¨¡å¼çš„åŸºç¡€
```

**âŒ é¿å…çš„é—®é¢˜**
```
1. ä¸è¦æ»¥ç”¨Awareæ¥å£
   èƒ½æ³¨å…¥å°±ä¸è¦æ‰‹åŠ¨è·å–

2. é¿å…å¾ªç¯ä¾èµ–
   Awareå›è°ƒæ—¶æœºæ—©ï¼Œæ³¨æ„ä¾èµ–å…³ç³»

3. æ³¨æ„çº¿ç¨‹å®‰å…¨
   é™æ€æŒæœ‰ApplicationContextæ—¶è¦å°å¿ƒ

4. ä¸è¦åœ¨æ„é€ å™¨ä¸­ä½¿ç”¨
   Awareå›è°ƒåœ¨æ„é€ å™¨ä¹‹åæ‰§è¡Œ
```

### 5.4 è®°å¿†å£è¯€


**ğŸ¯ æ ¸å¿ƒè®°å¿†**
```
Awareå®¶æ—äº”å…„å¼Ÿï¼Œ
åå­—å·¥å‚ä¸Šä¸‹æ–‡ã€‚
èµ„æºåŠ è½½å›½é™…åŒ–ï¼Œ
å›è°ƒé¡ºåºè¦è®°æ¸…ã€‚

æœ€å¸¸ç”¨çš„æ˜¯è€ä¸‰ï¼ˆApplicationContextï¼‰ï¼Œ
åŠŸèƒ½å¼ºå¤§ç”¨å¤„å¹¿ã€‚
ä¼˜å…ˆæ³¨å…¥åˆ«æ‰‹è·ï¼Œ
ç‰¹æ®Šåœºæ™¯å†è€ƒé‡ã€‚
```

**â° æ‰§è¡Œé¡ºåºè®°å¿†**
```
åå­—æœ€å…ˆè¢«æ„ŸçŸ¥ï¼ˆBeanNameï¼‰
å·¥å‚ç´§éšå…¶ååˆ°ï¼ˆBeanFactoryï¼‰  
ä¸Šä¸‹æ–‡åŠŸèƒ½æœ€å…¨é¢ï¼ˆApplicationContextï¼‰
èµ„æºåŠ è½½é…ç½®å¥½ï¼ˆResourceLoaderï¼‰
å›½é™…åŒ–æ¶ˆæ¯åˆ«å¿˜äº†ï¼ˆMessageSourceï¼‰
```

---

## ğŸ“š æ‰©å±•å­¦ä¹ 


**ğŸ”— ç›¸å…³çŸ¥è¯†ç‚¹**
- Beanç”Ÿå‘½å‘¨æœŸå®Œæ•´æµç¨‹
- BeanPostProcessorå¤„ç†å™¨
- InitializingBeanåˆå§‹åŒ–æ¥å£
- Springäº‹ä»¶æœºåˆ¶è¯¦è§£
- å›½é™…åŒ–é…ç½®å®æˆ˜

**ğŸ’¡ å­¦ä¹ å»ºè®®**
1. å…ˆç†è§£Awareçš„ä½œç”¨å’Œæ—¶æœº
2. é‡ç‚¹æŒæ¡ApplicationContextAware
3. åŠ¨æ‰‹å®è·µåˆ›å»ºå·¥å…·ç±»
4. ç»“åˆBeanç”Ÿå‘½å‘¨æœŸæ·±å…¥ç†è§£

**æ ¸å¿ƒç†è§£**ï¼š
- Awareæ¥å£æ˜¯Springç»™Beançš„"æ„ŸçŸ¥èƒ½åŠ›"
- è®©Beanèƒ½å¤Ÿè·å–å®¹å™¨ä¸­çš„åŸºç¡€è®¾æ–½èµ„æº
- ä¼˜å…ˆä½¿ç”¨ä¾èµ–æ³¨å…¥ï¼ŒAwareæ˜¯è¡¥å……æ‰‹æ®µ
- ApplicationContextAwareåŠŸèƒ½æœ€å¼ºå¤§ï¼Œæœ€å¸¸ç”¨