---
title: 4ã€åˆå§‹åŒ–å›è°ƒæœºåˆ¶
---
## ğŸ“š ç›®å½•

1. [åˆå§‹åŒ–å›è°ƒæ¦‚è¿°](#1-åˆå§‹åŒ–å›è°ƒæ¦‚è¿°)
2. [ä¸‰ç§åˆå§‹åŒ–æ–¹å¼è¯¦è§£](#2-ä¸‰ç§åˆå§‹åŒ–æ–¹å¼è¯¦è§£)
3. [æ‰§è¡Œé¡ºåºä¸ä¼˜å…ˆçº§](#3-æ‰§è¡Œé¡ºåºä¸ä¼˜å…ˆçº§)
4. [å¼‚å¸¸å¤„ç†æœºåˆ¶](#4-å¼‚å¸¸å¤„ç†æœºåˆ¶)
5. [é‡å¤åˆå§‹åŒ–é—®é¢˜](#5-é‡å¤åˆå§‹åŒ–é—®é¢˜)
6. [æœ€ä½³å®è·µä¸é€‰æ‹©æŒ‡å—](#6-æœ€ä½³å®è·µä¸é€‰æ‹©æŒ‡å—)
7. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#7-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ¯ åˆå§‹åŒ–å›è°ƒæ¦‚è¿°


### 1.1 ä»€ä¹ˆæ˜¯åˆå§‹åŒ–å›è°ƒ


**é€šä¿—ç†è§£**ï¼šå°±åƒæˆ‘ä»¬æ¬è¿›æ–°æˆ¿å­åéœ€è¦åšä¸€äº›å‡†å¤‡å·¥ä½œï¼ˆè£…ä¿®ã€æ‘†æ”¾å®¶å…·ï¼‰ï¼ŒBeanå¯¹è±¡åˆ›å»ºåä¹Ÿéœ€è¦åšä¸€äº›å‡†å¤‡å·¥ä½œï¼Œè¿™ä¸ªå‡†å¤‡å·¥ä½œçš„è¿‡ç¨‹å°±å«**åˆå§‹åŒ–**ã€‚

```
ç”Ÿæ´»åœºæ™¯ç±»æ¯”ï¼š
æ¬å®¶è¿‡ç¨‹ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ Beanåˆ›å»ºè¿‡ç¨‹
â”œâ”€ æ¬è¿å®¶å…·è¿›å±‹         â”œâ”€ åˆ›å»ºå¯¹è±¡ï¼ˆnewï¼‰
â”œâ”€ è¿æ¥æ°´ç”µç…¤æ°”         â”œâ”€ è®¾ç½®å±æ€§å€¼ï¼ˆä¾èµ–æ³¨å…¥ï¼‰
â””â”€ æ•´ç†æ‘†æ”¾å®¶å…· âœ¨      â””â”€ æ‰§è¡Œåˆå§‹åŒ–æ–¹æ³• âœ¨

åˆå§‹åŒ–å›è°ƒ = å‘Šè¯‰Springï¼š"å¯¹è±¡å‡†å¤‡å¥½äº†ï¼Œè¯·æ‰§è¡Œæˆ‘çš„å‡†å¤‡å·¥ä½œ"
```

**åˆå§‹åŒ–çš„å…¸å‹ç”¨é€”**ï¼š
- ğŸ”Œ å»ºç«‹æ•°æ®åº“è¿æ¥
- ğŸ“ åŠ è½½é…ç½®æ–‡ä»¶
- ğŸŒ åˆå§‹åŒ–ç½‘ç»œè¿æ¥
- ğŸ”„ å¯åŠ¨å®šæ—¶ä»»åŠ¡
- âœ… æ•°æ®éªŒè¯å’Œæ ¡éªŒ

### 1.2 ä¸ºä»€ä¹ˆéœ€è¦åˆå§‹åŒ–å›è°ƒ


```
é—®é¢˜åœºæ™¯ï¼š
public class DatabaseService {
    private DataSource dataSource;
    private Connection connection;
    
    // æ„é€ å™¨é‡Œèƒ½å»ºç«‹è¿æ¥å—ï¼ŸâŒ
    public DatabaseService() {
        // æ­¤æ—¶dataSourceè¿˜æ˜¯nullï¼ä¾èµ–æ³¨å…¥è¿˜æ²¡å®Œæˆ
        // this.connection = dataSource.getConnection(); // ä¼šæŠ¥é”™ï¼
    }
}

è§£å†³æ–¹æ¡ˆï¼š
éœ€è¦ä¸€ä¸ª"åœ¨ä¾èµ–æ³¨å…¥å®Œæˆå"æ‰§è¡Œçš„æ—¶æœº â†’ åˆå§‹åŒ–å›è°ƒï¼
```

> ğŸ’¡ **æ ¸å¿ƒç†è§£**ï¼šæ„é€ å™¨æ‰§è¡Œæ—¶ï¼Œä¾èµ–æ³¨å…¥è¿˜æ²¡å®Œæˆï¼Œæ‰€ä»¥ä¸èƒ½åœ¨æ„é€ å™¨é‡Œåšéœ€è¦ä¾èµ–çš„åˆå§‹åŒ–å·¥ä½œã€‚

---

## 2. ğŸ”§ ä¸‰ç§åˆå§‹åŒ–æ–¹å¼è¯¦è§£


### 2.1 æ–¹å¼ä¸€ï¼š@PostConstructæ³¨è§£ï¼ˆæ¨èâ­â­â­ï¼‰


**æœ€ç®€å•æœ€ç›´è§‚çš„æ–¹å¼**ï¼Œå°±åƒåœ¨æ–¹æ³•ä¸Šè´´ä¸ªæ ‡ç­¾å‘Šè¯‰Springï¼š"è¿™ä¸ªæ–¹æ³•æ˜¯åˆå§‹åŒ–æ–¹æ³•ï¼Œå¸®æˆ‘æ‰§è¡Œä¸€ä¸‹"ã€‚

```java
import javax.annotation.PostConstruct;
import org.springframework.stereotype.Component;

@Component
public class UserService {
    
    @Autowired
    private DataSource dataSource;
    
    // âœ… ç”¨@PostConstructæ ‡è®°åˆå§‹åŒ–æ–¹æ³•
    @PostConstruct
    public void init() {
        System.out.println("ğŸš€ UserServiceåˆå§‹åŒ–å¼€å§‹...");
        
        // æ­¤æ—¶ä¾èµ–æ³¨å…¥å·²å®Œæˆï¼Œå¯ä»¥å®‰å…¨ä½¿ç”¨dataSource
        Connection conn = dataSource.getConnection();
        System.out.println("âœ… æ•°æ®åº“è¿æ¥å»ºç«‹æˆåŠŸ");
    }
}
```

**ç‰¹ç‚¹æ€»ç»“**ï¼š
```
ä¼˜ç‚¹ï¼š
âœ… ç®€å•ç›´è§‚ï¼Œä¸€ä¸ªæ³¨è§£æå®š
âœ… ä¸éœ€è¦å®ç°æ¥å£æˆ–é…ç½®XML
âœ… æ–¹æ³•åéšä¾¿å–ï¼Œç¬¦åˆä¸šåŠ¡è¯­ä¹‰
âœ… æ˜¯JSR-250æ ‡å‡†ï¼Œé€šç”¨æ€§å¥½

ç¼ºç‚¹ï¼š
âŒ éœ€è¦é¢å¤–ä¾èµ–ï¼ˆjavax.annotationåŒ…ï¼‰
âŒ Java 9+æ¨¡å—åŒ–åéœ€è¦é¢å¤–é…ç½®
```

> ğŸ“Œ **æ–°æ‰‹æé†’**ï¼š`@PostConstruct`çš„æ„æ€æ˜¯"æ„é€ ä¹‹å"ï¼Œå³å¯¹è±¡åˆ›å»ºå¹¶å®Œæˆä¾èµ–æ³¨å…¥åæ‰§è¡Œã€‚

### 2.2 æ–¹å¼äºŒï¼šInitializingBeanæ¥å£


**å®ç°Springæä¾›çš„ç‰¹å®šæ¥å£**ï¼Œå°±åƒç­¾è®¢ä¸€ä»½åˆçº¦ï¼Œå‘Šè¯‰Springï¼š"æˆ‘æ‰¿è¯ºæä¾›ä¸€ä¸ªåˆå§‹åŒ–æ–¹æ³•"ã€‚

```java
import org.springframework.beans.factory.InitializingBean;
import org.springframework.stereotype.Component;

@Component
public class CacheService implements InitializingBean {
    
    @Autowired
    private RedisTemplate redisTemplate;
    
    // âœ… å®ç°æ¥å£çš„afterPropertiesSetæ–¹æ³•
    @Override
    public void afterPropertiesSet() throws Exception {
        System.out.println("ğŸ”§ CacheServiceåˆå§‹åŒ–...");
        
        // æ£€æŸ¥Redisè¿æ¥
        redisTemplate.getConnectionFactory().getConnection().ping();
        System.out.println("âœ… ç¼“å­˜æœåŠ¡å°±ç»ª");
    }
}
```

**ç‰¹ç‚¹æ€»ç»“**ï¼š
```
ä¼˜ç‚¹ï¼š
âœ… ä¸éœ€è¦é¢å¤–ä¾èµ–ï¼ŒSpringè‡ªå¸¦
âœ… å¯ä»¥æŠ›å‡ºå¼‚å¸¸ï¼ˆthrows Exceptionï¼‰
âœ… IDEæœ‰æ¥å£æç¤ºï¼Œä¸å®¹æ˜“å†™é”™

ç¼ºç‚¹ï¼š
âŒ ä»£ç ä¸Springæ¡†æ¶è€¦åˆ
âŒ æ–¹æ³•åå›ºå®šä¸ºafterPropertiesSet
âŒ ä¸€ä¸ªç±»åªèƒ½æœ‰ä¸€ä¸ªåˆå§‹åŒ–æ–¹æ³•
```

> ğŸ’¡ **åç§°è§£è¯»**ï¼š`afterPropertiesSet`æ„æ€æ˜¯"åœ¨å±æ€§è®¾ç½®ä¹‹å"ï¼Œå³ä¾èµ–æ³¨å…¥å®Œæˆåæ‰§è¡Œã€‚

### 2.3 æ–¹å¼ä¸‰ï¼šinit-methodé…ç½®


**é€šè¿‡é…ç½®æŒ‡å®šåˆå§‹åŒ–æ–¹æ³•**ï¼Œå°±åƒç»™Springä¸€å¼ "è¯´æ˜ä¹¦"ï¼Œå‘Šè¯‰å®ƒï¼š"è°ƒç”¨æˆ‘è¿™ä¸ªç‰¹å®šæ–¹æ³•æ¥åˆå§‹åŒ–"ã€‚

**XMLé…ç½®æ–¹å¼**ï¼š
```xml
<!-- åœ¨beanæ ‡ç­¾ä¸­æŒ‡å®šinit-method -->
<bean id="emailService" 
      class="com.example.EmailService"
      init-method="initialize">
    <property name="mailHost" value="smtp.gmail.com"/>
</bean>
```

**Javaé…ç½®æ–¹å¼**ï¼š
```java
@Configuration
public class AppConfig {
    
    @Bean(initMethod = "initialize")
    public EmailService emailService() {
        return new EmailService();
    }
}

// EmailServiceç±»
public class EmailService {
    
    private String mailHost;
    
    // âœ… è¿™ä¸ªæ–¹æ³•ä¼šè¢«è‡ªåŠ¨è°ƒç”¨
    public void initialize() {
        System.out.println("ğŸ“§ é‚®ä»¶æœåŠ¡åˆå§‹åŒ–...");
        System.out.println("ğŸ“® è¿æ¥é‚®ä»¶æœåŠ¡å™¨: " + mailHost);
        System.out.println("âœ… é‚®ä»¶æœåŠ¡å°±ç»ª");
    }
    
    public void setMailHost(String mailHost) {
        this.mailHost = mailHost;
    }
}
```

**ç‰¹ç‚¹æ€»ç»“**ï¼š
```
ä¼˜ç‚¹ï¼š
âœ… ä»£ç å®Œå…¨ä¸ä¾èµ–Spring
âœ… å¯ä»¥ç»™ç¬¬ä¸‰æ–¹ç±»é…ç½®åˆå§‹åŒ–
âœ… æ–¹æ³•åè‡ªå®šä¹‰ï¼Œè¯­ä¹‰æ¸…æ™°

ç¼ºç‚¹ï¼š
âŒ éœ€è¦é¢å¤–é…ç½®ï¼ˆXMLæˆ–@Beanï¼‰
âŒ æ–¹æ³•å¿…é¡»æ˜¯public voidä¸”æ— å‚
âŒ é…ç½®å’Œä»£ç åˆ†ç¦»ï¼Œä¸å¤Ÿç›´è§‚
```

---

## 3. âš¡ æ‰§è¡Œé¡ºåºä¸ä¼˜å…ˆçº§


### 3.1 ä¸‰ç§æ–¹å¼çš„æ‰§è¡Œé¡ºåº


**å½“ä¸€ä¸ªBeanåŒæ—¶ä½¿ç”¨å¤šç§åˆå§‹åŒ–æ–¹å¼æ—¶ï¼Œæ‰§è¡Œé¡ºåºæ˜¯å›ºå®šçš„**ï¼š

```
æ‰§è¡Œé¡ºåºæ—¶é—´çº¿ï¼š

1ï¸âƒ£ @PostConstruct        â† æœ€å…ˆæ‰§è¡Œ
         â†“
2ï¸âƒ£ InitializingBean      â† å…¶æ¬¡æ‰§è¡Œ
         â†“
3ï¸âƒ£ init-methodé…ç½®       â† æœ€åæ‰§è¡Œ
```

**å®Œæ•´ç¤ºä¾‹éªŒè¯**ï¼š
```java
import javax.annotation.PostConstruct;
import org.springframework.beans.factory.InitializingBean;

@Component
public class OrderService implements InitializingBean {
    
    // ç¬¬ä¸€ä¸ªæ‰§è¡Œ
    @PostConstruct
    public void postConstruct() {
        System.out.println("1ï¸âƒ£ @PostConstructæ‰§è¡Œäº†");
    }
    
    // ç¬¬äºŒä¸ªæ‰§è¡Œ
    @Override
    public void afterPropertiesSet() {
        System.out.println("2ï¸âƒ£ InitializingBeanæ‰§è¡Œäº†");
    }
    
    // ç¬¬ä¸‰ä¸ªæ‰§è¡Œï¼ˆéœ€è¦åœ¨@Beanä¸­é…ç½®initMethod="customInit"ï¼‰
    public void customInit() {
        System.out.println("3ï¸âƒ£ init-methodæ‰§è¡Œäº†");
    }
}

// æ§åˆ¶å°è¾“å‡ºï¼š
// 1ï¸âƒ£ @PostConstructæ‰§è¡Œäº†
// 2ï¸âƒ£ InitializingBeanæ‰§è¡Œäº†
// 3ï¸âƒ£ init-methodæ‰§è¡Œäº†
```

### 3.2 æ‰§è¡Œé¡ºåºçš„åº•å±‚åŸç†


```
Spring Beanåˆå§‹åŒ–æµç¨‹ï¼š

æ­¥éª¤1: å®ä¾‹åŒ–Bean
   â””â”€> new OrderService()

æ­¥éª¤2: ä¾èµ–æ³¨å…¥
   â””â”€> è®¾ç½®@Autowiredçš„å±æ€§

æ­¥éª¤3: æ‰§è¡Œåˆå§‹åŒ–å›è°ƒ
   â”œâ”€> æ‰«æ@PostConstructæ³¨è§£ âœ¨
   â”œâ”€> è°ƒç”¨InitializingBeanæ¥å£ âœ¨
   â””â”€> è°ƒç”¨init-methodé…ç½® âœ¨

æ­¥éª¤4: Beanå®Œå…¨å°±ç»ª
   â””â”€> å¯ä»¥è¢«ä½¿ç”¨äº†
```

> ğŸ’¡ **è®°å¿†æŠ€å·§**ï¼šä»"è¿‘"åˆ°"è¿œ" â†’ æ³¨è§£ï¼ˆæœ€è¿‘ï¼‰â†’ æ¥å£ï¼ˆä¸­é—´ï¼‰â†’ é…ç½®ï¼ˆæœ€è¿œï¼‰

---

## 4. ğŸš¨ å¼‚å¸¸å¤„ç†æœºåˆ¶


### 4.1 åˆå§‹åŒ–å¼‚å¸¸çš„å½±å“


**å…³é”®ç†è§£**ï¼šåˆå§‹åŒ–æ–¹æ³•æŠ›å‡ºå¼‚å¸¸ï¼ŒBeanåˆ›å»ºä¼šå¤±è´¥ï¼Œæ•´ä¸ªåº”ç”¨å¯èƒ½æ— æ³•å¯åŠ¨ï¼

```java
@Component
public class PaymentService {
    
    @PostConstruct
    public void init() throws Exception {
        // âŒ å¦‚æœè¿™é‡ŒæŠ›å‡ºå¼‚å¸¸...
        if (!connectToPaymentGateway()) {
            throw new Exception("æ”¯ä»˜ç½‘å…³è¿æ¥å¤±è´¥");
        }
    }
}

// ç»“æœï¼š
// âŒ PaymentServiceåˆ›å»ºå¤±è´¥
// âŒ Springå®¹å™¨å¯åŠ¨å¤±è´¥
// âŒ åº”ç”¨æ— æ³•æ­£å¸¸è¿è¡Œ
```

### 4.2 å¼‚å¸¸å¤„ç†ç­–ç•¥


**ç­–ç•¥1ï¼šæ•è·å¤„ç†ï¼Œå…è®¸Beanæ­£å¸¸åˆ›å»º**
```java
@Component
public class NotificationService {
    
    private boolean emailReady = false;
    private boolean smsReady = false;
    
    @PostConstruct
    public void init() {
        // âœ… æ•è·å¼‚å¸¸ï¼Œä¸å½±å“Beanåˆ›å»º
        try {
            initEmail();
            emailReady = true;
        } catch (Exception e) {
            System.err.println("âš ï¸ é‚®ä»¶æœåŠ¡åˆå§‹åŒ–å¤±è´¥: " + e.getMessage());
            // è®°å½•æ—¥å¿—ï¼Œä½†ä¸å½±å“Beanåˆ›å»º
        }
        
        try {
            initSMS();
            smsReady = true;
        } catch (Exception e) {
            System.err.println("âš ï¸ çŸ­ä¿¡æœåŠ¡åˆå§‹åŒ–å¤±è´¥: " + e.getMessage());
        }
    }
    
    public void sendNotification(String message) {
        if (emailReady) {
            sendEmail(message);
        }
        if (smsReady) {
            sendSMS(message);
        }
        if (!emailReady && !smsReady) {
            System.err.println("âŒ æ‰€æœ‰é€šçŸ¥æ¸ é“éƒ½ä¸å¯ç”¨");
        }
    }
}
```

**ç­–ç•¥2ï¼šå¿«é€Ÿå¤±è´¥ï¼Œé˜»æ­¢åº”ç”¨å¯åŠ¨**
```java
@Component
public class DatabaseService {
    
    @Autowired
    private DataSource dataSource;
    
    @PostConstruct
    public void init() throws Exception {
        // âœ… å…³é”®æœåŠ¡ï¼Œå¿…é¡»æˆåŠŸï¼Œå¦åˆ™ä¸å…è®¸å¯åŠ¨
        Connection conn = null;
        try {
            conn = dataSource.getConnection();
            if (conn == null || conn.isClosed()) {
                throw new Exception("æ•°æ®åº“è¿æ¥å¤±è´¥");
            }
        } finally {
            if (conn != null) {
                conn.close();
            }
        }
    }
}
```

> âš ï¸ **æœ€ä½³å®è·µ**ï¼šå…³é”®æœåŠ¡ï¼ˆæ•°æ®åº“ã€ç¼“å­˜ï¼‰å¿«é€Ÿå¤±è´¥ï¼›éå…³é”®æœåŠ¡ï¼ˆé‚®ä»¶ã€çŸ­ä¿¡ï¼‰æ•è·å¼‚å¸¸ã€‚

### 4.3 ä¸åŒæ–¹å¼çš„å¼‚å¸¸å¤„ç†å¯¹æ¯”


| åˆå§‹åŒ–æ–¹å¼ | å¼‚å¸¸å£°æ˜ | å¼‚å¸¸å¤„ç†å»ºè®® |
|-----------|---------|-------------|
| **@PostConstruct** | `å¯ä»¥ä¸å£°æ˜throws` | å»ºè®®æ•è·å¤„ç†æˆ–æŠ›å‡ºRuntimeException |
| **InitializingBean** | `å¯ä»¥throws Exception` | å¯ä»¥ç›´æ¥æŠ›å‡ºå—æ£€å¼‚å¸¸ |
| **init-method** | `å¿…é¡»ä¸èƒ½throws` | åªèƒ½æŠ›å‡ºRuntimeException |

---

## 5. ğŸ”„ é‡å¤åˆå§‹åŒ–é—®é¢˜


### 5.1 ä»€ä¹ˆæ˜¯é‡å¤åˆå§‹åŒ–


**è¯¯åŒº**ï¼šæ‹…å¿ƒåŒä¸€ä¸ªBeançš„åˆå§‹åŒ–æ–¹æ³•ä¼šè¢«è°ƒç”¨å¤šæ¬¡ã€‚

**çœŸç›¸**ï¼šSpringä¿è¯æ¯ä¸ªå•ä¾‹Beançš„åˆå§‹åŒ–æ–¹æ³•**åªæ‰§è¡Œä¸€æ¬¡**ï¼

```java
@Component
public class SingletonService {
    
    private int initCount = 0;
    
    @PostConstruct
    public void init() {
        initCount++;
        System.out.println("åˆå§‹åŒ–æ¬¡æ•°: " + initCount);
    }
}

// æ— è®ºè¢«æ³¨å…¥åˆ°å¤šå°‘ä¸ªåœ°æ–¹ï¼Œè¾“å‡ºæ°¸è¿œæ˜¯ï¼š
// åˆå§‹åŒ–æ¬¡æ•°: 1
```

### 5.2 çœŸæ­£çš„é‡å¤åˆå§‹åŒ–åœºæ™¯


**åœºæ™¯1ï¼šåŸå‹Beanï¼ˆPrototypeï¼‰**
```java
@Component
@Scope("prototype")  // âš ï¸ æ¯æ¬¡è·å–éƒ½åˆ›å»ºæ–°å¯¹è±¡
public class PrototypeService {
    
    @PostConstruct
    public void init() {
        System.out.println("åŸå‹Beanåˆå§‹åŒ–");
    }
}

@Component
public class TestController {
    
    @Autowired
    private ApplicationContext context;
    
    public void test() {
        // æ¯æ¬¡getBeanéƒ½ä¼šåˆ›å»ºæ–°å¯¹è±¡ï¼Œéƒ½ä¼šæ‰§è¡Œinit
        context.getBean(PrototypeService.class); // è¾“å‡º: åŸå‹Beanåˆå§‹åŒ–
        context.getBean(PrototypeService.class); // è¾“å‡º: åŸå‹Beanåˆå§‹åŒ–
        context.getBean(PrototypeService.class); // è¾“å‡º: åŸå‹Beanåˆå§‹åŒ–
    }
}
```

**åœºæ™¯2ï¼šæ‰‹åŠ¨è°ƒç”¨åˆå§‹åŒ–æ–¹æ³•**
```java
@Component
public class ConfigService {
    
    @PostConstruct
    public void init() {
        loadConfig();
    }
    
    private void loadConfig() {
        System.out.println("åŠ è½½é…ç½®æ–‡ä»¶");
    }
    
    // âœ… æä¾›æ‰‹åŠ¨åˆ·æ–°é…ç½®çš„æ–¹æ³•
    public void refresh() {
        loadConfig(); // é‡æ–°åŠ è½½é…ç½®
    }
}
```

### 5.3 é¿å…é‡å¤åˆå§‹åŒ–çš„æœ€ä½³å®è·µ


```java
@Component
public class ResourceManager {
    
    private boolean initialized = false;
    
    @PostConstruct
    public void init() {
        // âœ… ä½¿ç”¨æ ‡å¿—ä½é˜²æ­¢é‡å¤åˆå§‹åŒ–
        if (initialized) {
            System.out.println("âš ï¸ å·²ç»åˆå§‹åŒ–è¿‡äº†ï¼Œè·³è¿‡");
            return;
        }
        
        System.out.println("ğŸš€ å¼€å§‹åˆå§‹åŒ–èµ„æº...");
        // åˆå§‹åŒ–é€»è¾‘
        initialized = true;
        System.out.println("âœ… åˆå§‹åŒ–å®Œæˆ");
    }
    
    // å…è®¸å¤–éƒ¨æ‰‹åŠ¨é‡æ–°åˆå§‹åŒ–
    public void reinitialize() {
        initialized = false;
        init();
    }
}
```

---

## 6. ğŸ¯ æœ€ä½³å®è·µä¸é€‰æ‹©æŒ‡å—


### 6.1 ä¸‰ç§æ–¹å¼å¦‚ä½•é€‰æ‹©


```
é€‰æ‹©æµç¨‹å›¾ï¼š

æ˜¯å¦éœ€è¦ä¾èµ–Springæ¡†æ¶ï¼Ÿ
    â”œâ”€ ä¸éœ€è¦ â†’ init-methodé…ç½® âœ…
    â””â”€ å¯ä»¥æ¥å—ä¾èµ–
          â”œâ”€ ä½¿ç”¨Spring Boot â†’ @PostConstruct â­
          â””â”€ çº¯Springé¡¹ç›® â†’ InitializingBean
```

**æ¨èä¼˜å…ˆçº§æ’åº**ï¼š
```
1ï¸âƒ£ @PostConstructï¼ˆé¦–é€‰ï¼‰
   ç†ç”±ï¼šç®€å•ã€ç›´è§‚ã€ç¬¦åˆJavaæ ‡å‡†

2ï¸âƒ£ InitializingBean
   ç†ç”±ï¼šéœ€è¦æŠ›å‡ºå—æ£€å¼‚å¸¸æ—¶ä½¿ç”¨

3ï¸âƒ£ init-method
   ç†ç”±ï¼šé…ç½®ç¬¬ä¸‰æ–¹Beanæˆ–å®Œå…¨è§£è€¦æ—¶ä½¿ç”¨
```

### 6.2 å®é™…åº”ç”¨åœºæ™¯ç¤ºä¾‹


**åœºæ™¯1ï¼šæ•°æ®åº“è¿æ¥æ± åˆå§‹åŒ–**
```java
@Component
public class DataSourceManager implements InitializingBean {
    
    @Autowired
    private DataSource dataSource;
    
    @Override
    public void afterPropertiesSet() throws Exception {
        // âœ… ä½¿ç”¨InitializingBeanï¼Œå¯ä»¥æŠ›å‡ºå¼‚å¸¸
        Connection conn = dataSource.getConnection();
        if (conn == null) {
            throw new SQLException("æ•°æ®åº“è¿æ¥å¤±è´¥");
        }
        conn.close();
        System.out.println("âœ… æ•°æ®åº“è¿æ¥æ± åˆå§‹åŒ–æˆåŠŸ");
    }
}
```

**åœºæ™¯2ï¼šç¼“å­˜é¢„çƒ­**
```java
@Component
public class CacheWarmer {
    
    @Autowired
    private ProductService productService;
    
    @Autowired
    private CacheManager cacheManager;
    
    @PostConstruct
    public void warmup() {
        System.out.println("ğŸ”¥ å¼€å§‹ç¼“å­˜é¢„çƒ­...");
        
        // åŠ è½½çƒ­é—¨å•†å“åˆ°ç¼“å­˜
        List<Product> hotProducts = productService.getHotProducts();
        Cache cache = cacheManager.getCache("products");
        
        for (Product product : hotProducts) {
            cache.put(product.getId(), product);
        }
        
        System.out.println("âœ… ç¼“å­˜é¢„çƒ­å®Œæˆï¼ŒåŠ è½½" + hotProducts.size() + "ä¸ªå•†å“");
    }
}
```

**åœºæ™¯3ï¼šç¬¬ä¸‰æ–¹Beanåˆå§‹åŒ–**
```java
@Configuration
public class ThirdPartyConfig {
    
    // âœ… ç¬¬ä¸‰æ–¹åº“çš„ç±»ï¼Œä½¿ç”¨init-method
    @Bean(initMethod = "init")
    public SomeThirdPartyService thirdPartyService() {
        SomeThirdPartyService service = new SomeThirdPartyService();
        service.setApiKey("your-api-key");
        return service;
    }
}
```

### 6.3 åˆå§‹åŒ–æ–¹æ³•ç¼–å†™è§„èŒƒ


```java
@Component
public class StandardService {
    
    @Autowired
    private DependencyA dependencyA;
    
    @Autowired
    private DependencyB dependencyB;
    
    @PostConstruct
    public void init() {
        // âœ… å¥½çš„å®è·µ
        
        // 1. è®°å½•æ—¥å¿—
        System.out.println("ğŸš€ StandardServiceåˆå§‹åŒ–å¼€å§‹");
        
        // 2. éªŒè¯å¿…è¦çš„ä¾èµ–
        if (dependencyA == null) {
            throw new IllegalStateException("DependencyAæœªæ³¨å…¥");
        }
        
        // 3. æ‰§è¡Œåˆå§‹åŒ–é€»è¾‘
        try {
            setupResources();
            validateConfiguration();
        } catch (Exception e) {
            System.err.println("âŒ åˆå§‹åŒ–å¤±è´¥: " + e.getMessage());
            throw new RuntimeException("åˆå§‹åŒ–å¤±è´¥", e);
        }
        
        // 4. è®°å½•å®Œæˆæ—¥å¿—
        System.out.println("âœ… StandardServiceåˆå§‹åŒ–å®Œæˆ");
    }
    
    private void setupResources() {
        // èµ„æºåˆå§‹åŒ–é€»è¾‘
    }
    
    private void validateConfiguration() {
        // é…ç½®éªŒè¯é€»è¾‘
    }
}
```

> ğŸ“Œ **ç¼–å†™è§„èŒƒ**ï¼š
> - âœ… æ–¹æ³•åè¯­ä¹‰æ¸…æ™°ï¼ˆinitã€initializeã€setupç­‰ï¼‰
> - âœ… è®°å½•åˆå§‹åŒ–å¼€å§‹å’Œå®Œæˆæ—¥å¿—
> - âœ… éªŒè¯å¿…è¦çš„ä¾èµ–æ˜¯å¦æ³¨å…¥
> - âœ… åˆç†å¤„ç†å¼‚å¸¸ï¼Œå…³é”®æœåŠ¡å¿«é€Ÿå¤±è´¥
> - âœ… é¿å…è€—æ—¶æ“ä½œï¼Œå½±å“å¯åŠ¨é€Ÿåº¦

---

## 7. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 7.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ åˆå§‹åŒ–æ—¶æœºï¼šå¯¹è±¡åˆ›å»º + ä¾èµ–æ³¨å…¥å®Œæˆå
ğŸ”¸ ä¸‰ç§æ–¹å¼ï¼š@PostConstruct > InitializingBean > init-method
ğŸ”¸ æ‰§è¡Œé¡ºåºï¼šå›ºå®šé¡ºåºï¼Œä»è¿‘åˆ°è¿œ
ğŸ”¸ å¼‚å¸¸å¤„ç†ï¼šå…³é”®æœåŠ¡å¿«é€Ÿå¤±è´¥ï¼Œéå…³é”®æœåŠ¡æ•è·å¤„ç†
ğŸ”¸ é‡å¤åˆå§‹åŒ–ï¼šå•ä¾‹Beanåªæ‰§è¡Œä¸€æ¬¡ï¼ŒåŸå‹Beanæ¯æ¬¡éƒ½æ‰§è¡Œ
```

### 7.2 ä¸‰ç§æ–¹å¼å¯¹æ¯”é€ŸæŸ¥è¡¨


| ç‰¹æ€§ | @PostConstruct | InitializingBean | init-method |
|-----|---------------|-----------------|-------------|
| **ç®€æ´æ€§** | â­â­â­ æœ€ç®€å• | â­â­ éœ€è¦å®ç°æ¥å£ | â­ éœ€è¦é…ç½® |
| **è§£è€¦æ€§** | â­â­ ä¾èµ–JSR-250 | â­ ä¾èµ–Spring | â­â­â­ å®Œå…¨è§£è€¦ |
| **çµæ´»æ€§** | â­â­â­ æ–¹æ³•åè‡ªå®šä¹‰ | â­ æ–¹æ³•åå›ºå®š | â­â­â­ æ–¹æ³•åè‡ªå®šä¹‰ |
| **å¼‚å¸¸å¤„ç†** | â­â­ å¯æŠ›RuntimeException | â­â­â­ å¯æŠ›Exception | â­ ä¸èƒ½æŠ›å‡ºå¼‚å¸¸ |
| **æ¨èåº¦** | â­â­â­ é¦–é€‰ | â­â­ å¤‡é€‰ | â­ ç‰¹æ®Šåœºæ™¯ |

### 7.3 å®é™…åº”ç”¨è®°å¿†è¦ç‚¹


**ğŸ§  è®°å¿†å£è¯€**ï¼š
```
åˆå§‹åŒ–æ—¶æœºè¦è®°ç‰¢ï¼Œä¾èµ–æ³¨å…¥åæ‰è°ƒ
ä¸‰ç§æ–¹å¼æœ‰é¡ºåºï¼Œæ³¨è§£æ¥å£åé…ç½®
å…³é”®æœåŠ¡å¿«å¤±è´¥ï¼Œæ—¥å¿—è®°å½•å¾ˆé‡è¦
å•ä¾‹åªè·‘ä¸€æ¬¡åˆï¼ŒåŸå‹æ¯æ¬¡éƒ½è¦è·‘
```

**ğŸ¯ å…³é”®å†³ç­–ç‚¹**ï¼š
- âœ… é»˜è®¤é€‰æ‹©ï¼š`@PostConstruct`
- âœ… éœ€è¦æŠ›å¼‚å¸¸ï¼š`InitializingBean`
- âœ… ç¬¬ä¸‰æ–¹Beanï¼š`init-method`
- âœ… å®Œå…¨è§£è€¦ï¼š`init-method`

**âš ï¸ å¸¸è§é™·é˜±**ï¼š
- âŒ åœ¨æ„é€ å™¨ä¸­ä½¿ç”¨ä¾èµ– â†’ ä¼šç©ºæŒ‡é’ˆ
- âŒ å¿˜è®°å¤„ç†åˆå§‹åŒ–å¼‚å¸¸ â†’ åº”ç”¨å¯åŠ¨å¤±è´¥
- âŒ åˆå§‹åŒ–æ–¹æ³•è€—æ—¶è¿‡é•¿ â†’ å½±å“å¯åŠ¨é€Ÿåº¦
- âŒ å¤šç§æ–¹å¼æ··ç”¨ä¸æ¸…æ¥šé¡ºåº â†’ æ‰§è¡Œé€»è¾‘æ··ä¹±

**âœ¨ æœ€ä½³å®è·µæ€»ç»“**ï¼š
1. ä¼˜å…ˆä½¿ç”¨`@PostConstruct`ï¼Œç®€å•ç›´è§‚
2. åˆå§‹åŒ–æ–¹æ³•è¦ç®€çŸ­é«˜æ•ˆï¼Œé¿å…è€—æ—¶æ“ä½œ
3. å…³é”®æœåŠ¡åˆå§‹åŒ–å¤±è´¥è¦å¿«é€Ÿå¤±è´¥
4. è®°å½•æ¸…æ™°çš„åˆå§‹åŒ–æ—¥å¿—ï¼Œä¾¿äºæ’æŸ¥é—®é¢˜
5. åˆç†ä½¿ç”¨æ ‡å¿—ä½é¿å…é‡å¤åˆå§‹åŒ–