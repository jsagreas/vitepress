---
title: 9ã€Beanå‘½åä¸åˆ«å
---
## ğŸ“š ç›®å½•

1. [Beanå‘½ååŸºç¡€æ¦‚å¿µ](#1-Beanå‘½ååŸºç¡€æ¦‚å¿µ)
2. [Beanåç§°è§„åˆ™è¯¦è§£](#2-Beanåç§°è§„åˆ™è¯¦è§£)
3. [åˆ«åæœºåˆ¶æ·±å…¥ç†è§£](#3-åˆ«åæœºåˆ¶æ·±å…¥ç†è§£)
4. [åç§°å†²çªä¸è§£å†³ç­–ç•¥](#4-åç§°å†²çªä¸è§£å†³ç­–ç•¥)
5. [BeanæŸ¥æ‰¾ç­–ç•¥](#5-BeanæŸ¥æ‰¾ç­–ç•¥)
6. [æœ€ä½³å®è·µä¸æ³¨æ„äº‹é¡¹](#6-æœ€ä½³å®è·µä¸æ³¨æ„äº‹é¡¹)
7. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#7-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ·ï¸ Beanå‘½ååŸºç¡€æ¦‚å¿µ


### 1.1 ä»€ä¹ˆæ˜¯Beanåç§°


**é€šä¿—ç†è§£**ï¼šBeanåç§°å°±åƒäººçš„åå­—ä¸€æ ·ï¼Œæ˜¯Springå®¹å™¨ç”¨æ¥è¯†åˆ«å’Œç®¡ç†æ¯ä¸ªBeanå¯¹è±¡çš„"èº«ä»½è¯"ã€‚

```
ç°å®ç±»æ¯”ï¼š
å…¬å¸å‘˜å·¥ç®¡ç† â†’ Springå®¹å™¨ç®¡ç†Bean
å‘˜å·¥å§“å/å·¥å· â†’ Beanåç§°
å‘˜å·¥èŠ±å/æ˜µç§° â†’ Beanåˆ«å

ç›®çš„ï¼šå‡†ç¡®æ‰¾åˆ°éœ€è¦çš„é‚£ä¸ªäºº/å¯¹è±¡
```

**æ ¸å¿ƒä½œç”¨**ï¼š
- ğŸ” **å”¯ä¸€æ ‡è¯†**ï¼šåœ¨Springå®¹å™¨ä¸­å”¯ä¸€æ ‡è¯†ä¸€ä¸ªBean
- ğŸ“Œ **ä¾èµ–æ³¨å…¥**ï¼šé€šè¿‡åç§°æ³¨å…¥éœ€è¦çš„Bean
- ğŸ”— **å¼•ç”¨æŸ¥æ‰¾**ï¼šç¨‹åºè¿è¡Œæ—¶é€šè¿‡åç§°è·å–Bean

### 1.2 Beanå‘½åçš„é‡è¦æ€§


**ä¸ºä»€ä¹ˆéœ€è¦ç»™Beanå‘½åï¼Ÿ**

```
åœºæ™¯ç¤ºä¾‹ï¼š
ä½ çš„é¡¹ç›®ä¸­æœ‰å¤šä¸ªUserServiceï¼š
- UserServiceï¼ˆç”¨æˆ·ç®¡ç†æœåŠ¡ï¼‰
- OrderServiceï¼ˆè®¢å•æœåŠ¡ï¼‰
- PaymentServiceï¼ˆæ”¯ä»˜æœåŠ¡ï¼‰

å¦‚æœæ²¡æœ‰åç§°åŒºåˆ†ï¼š
Springå®¹å™¨ï¼šæˆ‘æœ‰3ä¸ªæœåŠ¡ï¼Œä½ è¦å“ªä¸ªï¼Ÿ
ä½ çš„ä»£ç ï¼šæˆ‘è¦UserService
Springå®¹å™¨ï¼šæœ‰3ä¸ªUserServiceç±»å‹çš„Beanï¼Œæä¸æ¸…ä½ è¦å“ªä¸ªï¼âŒ

æœ‰äº†åç§°åŒºåˆ†ï¼š
Springå®¹å™¨ï¼šæˆ‘æœ‰userServiceã€orderServiceã€paymentService
ä½ çš„ä»£ç ï¼šæˆ‘è¦userService
Springå®¹å™¨ï¼šå¥½çš„ï¼Œç»™ä½ userService âœ…
```

**å‘½åçš„ä»·å€¼**ï¼š
- âœ… é¿å…æ··æ·†ï¼šæ¸…æ¥šåŒºåˆ†ä¸åŒBean
- âœ… ä¾¿äºç»´æŠ¤ï¼šä»£ç å¯è¯»æ€§æ›´å¼º
- âœ… çµæ´»æ³¨å…¥ï¼šå¯ä»¥æŒ‰åç§°ç²¾ç¡®æ³¨å…¥

---

## 2. ğŸ“ Beanåç§°è§„åˆ™è¯¦è§£


### 2.1 Beanåç§°çš„åŸºæœ¬è§„èŒƒ


**å‘½åçº¦å®š**ï¼ˆç±»ä¼¼Javaå˜é‡å‘½åï¼‰ï¼š

| è§„åˆ™é¡¹ | è¯´æ˜ | ç¤ºä¾‹ |
|--------|------|------|
| **é¦–å­—æ¯** | å°å†™å­—æ¯å¼€å¤´ | `userService` âœ… `UserService` âŒ |
| **é©¼å³°å‘½å** | ä½¿ç”¨é©¼å³°å¼å‘½åæ³• | `orderService` âœ… `order_service` âŒ |
| **è¯­ä¹‰åŒ–** | åç§°è¦æœ‰æ˜ç¡®å«ä¹‰ | `userDao` âœ… `ud` âŒ |
| **ä¸èƒ½é‡å¤** | åŒä¸€å®¹å™¨ä¸­ä¸èƒ½é‡å | æ¯ä¸ªåç§°å”¯ä¸€ |

**ä¸ºä»€ä¹ˆç”¨å°å†™å¼€å¤´ï¼Ÿ**
```
è¿™æ˜¯Java Beançš„çº¦å®šï¼š
ç±»åï¼šUserServiceï¼ˆå¤§å†™å¼€å¤´ï¼‰â†’ ç”¨äºå®šä¹‰ç±»å‹
Beanåï¼šuserServiceï¼ˆå°å†™å¼€å¤´ï¼‰â†’ ç”¨äºå®ä¾‹æ ‡è¯†

è®°å¿†æŠ€å·§ï¼š
ç±»æ˜¯"æ¨¡æ¿"ï¼ˆæ­£å¼ï¼Œå¤§å†™ï¼‰
Beanæ˜¯"å®ä¾‹"ï¼ˆå…·ä½“å¯¹è±¡ï¼Œå°å†™ï¼‰
```

### 2.2 ä¸‰ç§å‘½åæ–¹å¼å¯¹æ¯”


#### ğŸ”¸ æ–¹å¼1ï¼šè‡ªåŠ¨å‘½åï¼ˆé»˜è®¤è§„åˆ™ï¼‰


```java
// ä¸æŒ‡å®šåç§°ï¼ŒSpringè‡ªåŠ¨ç”Ÿæˆ
@Component
public class UserService {
    // Beanåç§°è‡ªåŠ¨ä¸ºï¼šuserServiceï¼ˆç±»åé¦–å­—æ¯å°å†™ï¼‰
}

@Component
public class OrderDAO {
    // Beanåç§°è‡ªåŠ¨ä¸ºï¼šorderDAOï¼ˆä¿ç•™å¤§å†™å­—æ¯ï¼‰
}
```

**è‡ªåŠ¨å‘½åè§„åˆ™**ï¼š
```
è§„åˆ™ï¼šå°†ç±»åé¦–å­—æ¯å°å†™ä½œä¸ºBeanåç§°

UserService    â†’ userService
OrderService   â†’ orderService
UserDAO        â†’ userDAO
XMLParser      â†’ XMLParserï¼ˆè¿ç»­å¤§å†™ä¿æŒä¸å˜ï¼‰
```

**ä¼˜ç‚¹**ï¼šâœ… ç®€å•æ–¹ä¾¿ï¼Œä¸ç”¨æ‰‹åŠ¨æŒ‡å®š
**ç¼ºç‚¹**ï¼šâŒ å¯èƒ½ä¸å¤Ÿè¯­ä¹‰åŒ–ï¼Œç±»åæ”¹å˜Beanåä¹Ÿå˜

#### ğŸ”¸ æ–¹å¼2ï¼šæ˜¾å¼å‘½åï¼ˆæ¨èï¼‰


```java
// æ–¹å¼1ï¼š@ComponentæŒ‡å®šåç§°
@Component("myUserService")
public class UserService {
    // Beanåç§°ä¸ºï¼šmyUserService
}

// æ–¹å¼2ï¼š@BeanæŒ‡å®šåç§°
@Configuration
public class AppConfig {
    
    @Bean("customUserService")
    public UserService userService() {
        return new UserService();
    }
}
```

**æ˜¾å¼å‘½åçš„ä»·å€¼**ï¼š
```
âœ… è¯­ä¹‰æ¸…æ™°ï¼šåç§°æ›´ç¬¦åˆä¸šåŠ¡å«ä¹‰
âœ… é¿å…å†²çªï¼šå¤šä¸ªåŒç±»å‹Beanå¯é€šè¿‡åç§°åŒºåˆ†
âœ… ä¾¿äºé‡æ„ï¼šç±»åæ”¹å˜ä¸å½±å“Beanåç§°
```

#### ğŸ”¸ æ–¹å¼3ï¼šä½¿ç”¨åˆ«å


```java
// ä¸€ä¸ªBeanï¼Œå¤šä¸ªåç§°
@Component("userService")
public class UserService {
    // ä¸»åç§°ï¼šuserService
}

// XMLé…ç½®ä¸­æ·»åŠ åˆ«å
<alias name="userService" alias="userServiceImpl"/>
<alias name="userService" alias="defaultUserService"/>

// ç°åœ¨å¯ä»¥ç”¨3ä¸ªåç§°è·å–åŒä¸€ä¸ªBeanï¼š
// - userService
// - userServiceImpl  
// - defaultUserService
```

### 2.3 ç‰¹æ®Šå‘½ååœºæ™¯


**åœºæ™¯1ï¼šæ¥å£å¤šå®ç°**
```java
// æ¥å£
public interface PaymentService {
    void pay();
}

// å®ç°1ï¼šæ”¯ä»˜å®
@Component("alipayService")
public class AlipayServiceImpl implements PaymentService {
    public void pay() { /* æ”¯ä»˜å®æ”¯ä»˜ */ }
}

// å®ç°2ï¼šå¾®ä¿¡
@Component("wechatPayService")
public class WechatPayServiceImpl implements PaymentService {
    public void pay() { /* å¾®ä¿¡æ”¯ä»˜ */ }
}

// ä½¿ç”¨æ—¶æŒ‰åç§°æ³¨å…¥
@Autowired
@Qualifier("alipayService")  // æŒ‡å®šä½¿ç”¨æ”¯ä»˜å®
private PaymentService paymentService;
```

**åœºæ™¯2ï¼šåŒç±»å‹å¤šå®ä¾‹**
```java
@Configuration
public class DataSourceConfig {
    
    @Bean("masterDataSource")
    public DataSource master() {
        // ä¸»æ•°æ®æºé…ç½®
        return new HikariDataSource();
    }
    
    @Bean("slaveDataSource")
    public DataSource slave() {
        // ä»æ•°æ®æºé…ç½®
        return new HikariDataSource();
    }
}
```

---

## 3. ğŸ”„ åˆ«åæœºåˆ¶æ·±å…¥ç†è§£


### 3.1 ä»€ä¹ˆæ˜¯Beanåˆ«å


**é€šä¿—ç†è§£**ï¼šåˆ«åå°±åƒäººçš„"ç»°å·"ï¼Œä¸€ä¸ªäººå¯ä»¥æœ‰å¤šä¸ªç§°å‘¼ã€‚

```
ç°å®ç±»æ¯”ï¼š
å¼ ä¸‰ï¼ˆçœŸåï¼‰= å°å¼  = å¼ å·¥ = é˜¿ä¸‰

Beanåˆ«åï¼š
userServiceï¼ˆä¸»åï¼‰ = userServiceImpl = defaultUserService

ä½œç”¨ï¼šç”¨ä¸åŒåç§°è®¿é—®åŒä¸€ä¸ªBeanå¯¹è±¡
```

**æ ¸å¿ƒç‰¹ç‚¹**ï¼š
- ğŸ¯ **ä¸€å¯¹å¤šå…³ç³»**ï¼šä¸€ä¸ªBeanå¯ä»¥æœ‰å¤šä¸ªåˆ«å
- ğŸ”— **æŒ‡å‘åŒä¸€å¯¹è±¡**ï¼šæ‰€æœ‰åç§°è·å–çš„æ˜¯åŒä¸€ä¸ªBeanå®ä¾‹
- ğŸ”„ **å¯äº’æ¢ä½¿ç”¨**ï¼šä¸»åå’Œåˆ«åæ•ˆæœå®Œå…¨ä¸€æ ·

### 3.2 åˆ«åçš„ä¸‰ç§é…ç½®æ–¹å¼


#### ğŸ“Œ æ–¹å¼1ï¼šXMLé…ç½®ï¼ˆä¼ ç»Ÿæ–¹å¼ï¼‰


```xml
<!-- å®šä¹‰Bean -->
<bean id="userService" class="com.example.UserService"/>

<!-- æ·»åŠ åˆ«å -->
<alias name="userService" alias="userServiceImpl"/>
<alias name="userService" alias="defaultUserService"/>

<!-- 
ç°åœ¨è¿™3ä¸ªåç§°éƒ½æŒ‡å‘åŒä¸€ä¸ªBeanï¼š
- userServiceï¼ˆä¸»åï¼‰
- userServiceImplï¼ˆåˆ«å1ï¼‰
- defaultUserServiceï¼ˆåˆ«å2ï¼‰
-->
```

#### ğŸ“Œ æ–¹å¼2ï¼šBeanæ ‡ç­¾çš„nameå±æ€§


```xml
<!-- é€šè¿‡nameå±æ€§ä¸€æ¬¡æ€§å®šä¹‰å¤šä¸ªåç§° -->
<bean id="userService" 
      name="userServiceImpl,defaultUserService,us" 
      class="com.example.UserService"/>

<!-- 
æ”¯æŒçš„åˆ†éš”ç¬¦ï¼š
- é€—å·ï¼šname="a,b,c"
- åˆ†å·ï¼šname="a;b;c"  
- ç©ºæ ¼ï¼šname="a b c"
-->
```

#### ğŸ“Œ æ–¹å¼3ï¼šæ³¨è§£é…ç½®ï¼ˆå¸¸ç”¨ï¼‰


```java
// @Beanæ³¨è§£çš„nameå±æ€§å¯ä»¥æ˜¯æ•°ç»„
@Configuration
public class AppConfig {
    
    @Bean(name = {"userService", "userServiceImpl", "us"})
    public UserService createUserService() {
        return new UserService();
    }
}

// æˆ–è€…ä½¿ç”¨@Component
@Component
@AliasFor("userService")  // Springæ¡†æ¶å†…éƒ¨ä½¿ç”¨
public class UserService {
    // ...
}
```

### 3.3 åˆ«åçš„å®é™…åº”ç”¨åœºæ™¯


**åœºæ™¯1ï¼šç‰ˆæœ¬å‡çº§å…¼å®¹**
```java
// æ—§ç‰ˆæœ¬ä»£ç ä½¿ç”¨ï¼šoldUserService
// æ–°ç‰ˆæœ¬ä»£ç ä½¿ç”¨ï¼šuserService
// é€šè¿‡åˆ«åå®ç°å…¼å®¹

@Bean(name = {"userService", "oldUserService"})
public UserService userService() {
    return new UserService();
}

// æ—§ä»£ç ä»ç„¶å¯ä»¥ç”¨
@Autowired
@Qualifier("oldUserService")  // è€åç§°
private UserService service1;

// æ–°ä»£ç ä½¿ç”¨æ–°åç§°
@Autowired
@Qualifier("userService")     // æ–°åç§°
private UserService service2;

// service1å’Œservice2æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼
```

**åœºæ™¯2ï¼šå›¢é˜Ÿåä½œç»Ÿä¸€**
```
å›¢é˜Ÿæˆå‘˜å‘½åä¹ æƒ¯ä¸åŒï¼š
æˆå‘˜Aä¹ æƒ¯ï¼šuserService
æˆå‘˜Bä¹ æƒ¯ï¼šuserServiceImpl
æˆå‘˜Cä¹ æƒ¯ï¼šusï¼ˆç¼©å†™ï¼‰

è§£å†³æ–¹æ¡ˆï¼š
@Bean(name = {"userService", "userServiceImpl", "us"})
public UserService service() {
    return new UserService();
}

å¤§å®¶éƒ½èƒ½ç”¨è‡ªå·±ä¹ æƒ¯çš„åç§°ï¼Œå®é™…æ˜¯åŒä¸€ä¸ªBean
```

---

## 4. âš ï¸ åç§°å†²çªä¸è§£å†³ç­–ç•¥


### 4.1 ä»€ä¹ˆæ˜¯åç§°å†²çª


**å†²çªå®šä¹‰**ï¼šåœ¨åŒä¸€ä¸ªSpringå®¹å™¨ä¸­ï¼Œå‡ºç°äº†ç›¸åŒçš„Beanåç§°ã€‚

```
å†²çªç¤ºä¾‹ï¼š

é…ç½®1ï¼š
@Component("userService")
public class UserServiceImpl { }

é…ç½®2ï¼š
@Component("userService")  // âŒ é‡åäº†ï¼
public class AdminUserService { }

ç»“æœï¼šåå®šä¹‰çš„ä¼šè¦†ç›–å…ˆå®šä¹‰çš„ï¼ˆå¯èƒ½å¯¼è‡´æ„å¤–è¡Œä¸ºï¼‰
```

**å†²çªçš„å±å®³**ï¼š
```
é—®é¢˜1ï¼šBeanè¦†ç›–
- åæ³¨å†Œçš„Beanä¼šè¦†ç›–å…ˆæ³¨å†Œçš„
- å¯èƒ½å¯¼è‡´ç¨‹åºè¿è¡Œå¼‚å¸¸

é—®é¢˜2ï¼šéš¾ä»¥æ’æŸ¥
- è¦†ç›–æ˜¯"é™æ‚„æ‚„"å‘ç”Ÿçš„
- è¿è¡Œæ—¶æ‰æš´éœ²é—®é¢˜

é—®é¢˜3ï¼šé€»è¾‘é”™è¯¯
- æ³¨å…¥äº†é”™è¯¯çš„Bean
- ä¸šåŠ¡åŠŸèƒ½å‡ºç°åå·®
```

### 4.2 å†²çªçš„ä¸‰ç§æƒ…å†µ


#### ğŸ”´ æƒ…å†µ1ï¼šä¸åŒç±»åŒåBean


```java
// Serviceå±‚
@Component("dataService")
public class UserDataService { }

// DAOå±‚  
@Component("dataService")  // âŒ åç§°å†²çª
public class DataDAO { }

// è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨æ›´æ˜ç¡®çš„å‘½å
@Component("userDataService")
public class UserDataService { }

@Component("dataAccessService")
public class DataDAO { }
```

#### ğŸ”´ æƒ…å†µ2ï¼šå¤šæ¨¡å—åŒåBean


```
é¡¹ç›®ç»“æ„ï¼š
module-user/
  â””â”€â”€ UserServiceï¼ˆBeanåï¼šuserServiceï¼‰
module-order/
  â””â”€â”€ UserServiceï¼ˆBeanåï¼šuserServiceï¼‰âŒ å†²çª

è§£å†³æ–¹æ¡ˆï¼š
module-user/
  â””â”€â”€ UserServiceï¼ˆBeanåï¼šuserModuleServiceï¼‰
module-order/
  â””â”€â”€ UserServiceï¼ˆBeanåï¼šorderUserServiceï¼‰
```

#### ğŸ”´ æƒ…å†µ3ï¼šåˆ«åä¸ä¸»åå†²çª


```java
// Bean1
@Bean("service")
public Service service1() {
    return new ServiceImpl1();
}

// Bean2çš„åˆ«åä¸Bean1ä¸»åå†²çª
@Bean(name = {"anotherService", "service"})  // âŒ åˆ«åå†²çª
public Service service2() {
    return new ServiceImpl2();
}
```

### 4.3 å†²çªè§£å†³ç­–ç•¥


**ç­–ç•¥1ï¼šè§„èŒƒå‘½åçº¦å®š** â­æ¨è
```
åˆ¶å®šå›¢é˜Ÿå‘½åè§„èŒƒï¼š

æ ¼å¼ï¼š[æ¨¡å—][åŠŸèƒ½][ç±»å‹]
ç¤ºä¾‹ï¼š
- userModuleServiceï¼ˆç”¨æˆ·æ¨¡å—æœåŠ¡ï¼‰
- orderDataDAOï¼ˆè®¢å•æ•°æ®è®¿é—®ï¼‰
- paymentGatewayClientï¼ˆæ”¯ä»˜ç½‘å…³å®¢æˆ·ç«¯ï¼‰

ä¼˜ç‚¹ï¼š
âœ… ä»æºå¤´é¿å…å†²çª
âœ… æé«˜ä»£ç å¯è¯»æ€§
âœ… ä¾¿äºå›¢é˜Ÿåä½œ
```

**ç­–ç•¥2ï¼šä½¿ç”¨åŒ…è·¯å¾„é™å®š**
```java
// åŒ…å«åŒ…ä¿¡æ¯çš„å‘½å
@Component("com.example.user.UserService")
public class UserService { }

@Component("com.example.order.UserService")
public class OrderUserService { }
```

**ç­–ç•¥3ï¼šå¯ç”¨å†²çªæ£€æµ‹**
```java
// application.propertiesé…ç½®
spring.main.allow-bean-definition-overriding=false

// æ•ˆæœï¼šå‘ç°é‡åBeanç›´æ¥æŠ›å‡ºå¼‚å¸¸ï¼Œä¸å…è®¸è¦†ç›–
// ä¼˜ç‚¹ï¼šåœ¨å¯åŠ¨æ—¶å°±å‘ç°é—®é¢˜ï¼Œè€Œä¸æ˜¯è¿è¡Œæ—¶
```

**ç­–ç•¥4ï¼šæ¡ä»¶åŒ–æ³¨å†Œ**
```java
// åªåœ¨ç‰¹å®šæ¡ä»¶ä¸‹æ³¨å†ŒBean
@Component("userService")
@ConditionalOnProperty(name = "service.type", havingValue = "user")
public class UserServiceImpl { }

@Component("adminService")
@ConditionalOnProperty(name = "service.type", havingValue = "admin")
public class AdminServiceImpl { }

// é€šè¿‡é…ç½®å†³å®šæ³¨å†Œå“ªä¸ªBeanï¼Œé¿å…åŒæ—¶æ³¨å†Œ
```

---

## 5. ğŸ” BeanæŸ¥æ‰¾ç­–ç•¥


### 5.1 Springå¦‚ä½•æŸ¥æ‰¾Bean


**æŸ¥æ‰¾æµç¨‹å›¾**ï¼š
```
å¼€å§‹æŸ¥æ‰¾Bean
    â†“
æŒ‰åç§°ç²¾ç¡®åŒ¹é…ï¼Ÿ
    â”œâ”€ æ˜¯ â†’ è¿”å›è¯¥Bean âœ…
    â””â”€ å¦ â†“
æ£€æŸ¥åˆ«ååŒ¹é…ï¼Ÿ
    â”œâ”€ æ˜¯ â†’ è¿”å›åˆ«åæŒ‡å‘çš„Bean âœ…
    â””â”€ å¦ â†“
æŒ‰ç±»å‹åŒ¹é…ï¼Ÿ
    â”œâ”€ æ‰¾åˆ°å”¯ä¸€Bean â†’ è¿”å› âœ…
    â”œâ”€ æ‰¾åˆ°å¤šä¸ªBean â†’ æŠ›å‡ºå¼‚å¸¸ âŒ
    â””â”€ æ‰¾ä¸åˆ° â†’ è¿”å›nullæˆ–æŠ›å¼‚å¸¸ âŒ
```

### 5.2 ä¸‰ç§æŸ¥æ‰¾æ–¹å¼è¯¦è§£


#### ğŸ¯ æ–¹å¼1ï¼šæŒ‰åç§°æŸ¥æ‰¾ï¼ˆæœ€ç²¾ç¡®ï¼‰


```java
// 1. é€šè¿‡ApplicationContextæŒ‰åç§°è·å–
UserService service = context.getBean("userService", UserService.class);

// 2. é€šè¿‡@QualifieræŒ‡å®šåç§°æ³¨å…¥
@Autowired
@Qualifier("userService")  // æ˜ç¡®æŒ‡å®šBeanåç§°
private UserService service;

// 3. é€šè¿‡@ResourceæŒ‰åç§°æ³¨å…¥ï¼ˆJSR-250ï¼‰
@Resource(name = "userService")
private UserService service;
```

**ç‰¹ç‚¹**ï¼š
```
ä¼˜ç‚¹ï¼š
âœ… ç²¾ç¡®æ— æ­§ä¹‰
âœ… æ€§èƒ½æœ€å¥½
âœ… æ¨èä½¿ç”¨

é€‚ç”¨åœºæ™¯ï¼š
- æœ‰å¤šä¸ªåŒç±»å‹Bean
- éœ€è¦ç²¾ç¡®æ§åˆ¶æ³¨å…¥çš„Bean
```

#### ğŸ¯ æ–¹å¼2ï¼šæŒ‰ç±»å‹æŸ¥æ‰¾


```java
// 1. é€šè¿‡ApplicationContextæŒ‰ç±»å‹è·å–
UserService service = context.getBean(UserService.class);

// 2. é€šè¿‡@Autowiredè‡ªåŠ¨æŒ‰ç±»å‹æ³¨å…¥
@Autowired  // ä¸æŒ‡å®šåç§°ï¼Œè‡ªåŠ¨æ‰¾UserServiceç±»å‹çš„Bean
private UserService service;
```

**æŸ¥æ‰¾è§„åˆ™**ï¼š
```
æƒ…å†µ1ï¼šåªæœ‰1ä¸ªåŒ¹é…ç±»å‹
â†’ ç›´æ¥è¿”å›è¯¥Bean âœ…

æƒ…å†µ2ï¼šæœ‰å¤šä¸ªåŒ¹é…ç±»å‹
â†’ NoUniqueBeanDefinitionException âŒ

æƒ…å†µ3ï¼šæ‰¾ä¸åˆ°åŒ¹é…ç±»å‹
â†’ NoSuchBeanDefinitionException âŒ
  ï¼ˆå¦‚æœ@Autowired(required=false)åˆ™è¿”å›nullï¼‰
```

#### ğŸ¯ æ–¹å¼3ï¼šæŒ‰åç§°+ç±»å‹æŸ¥æ‰¾ï¼ˆåŒé‡ä¿é™©ï¼‰


```java
// getBeanæ–¹æ³•åŒæ—¶æŒ‡å®šåç§°å’Œç±»å‹
UserService service = context.getBean("userService", UserService.class);

// å¥½å¤„ï¼š
// 1. å…ˆæŒ‰åç§°æ‰¾ï¼ˆå¿«é€Ÿå®šä½ï¼‰
// 2. ç±»å‹æ ¡éªŒï¼ˆé¿å…ç±»å‹è½¬æ¢é”™è¯¯ï¼‰
```

### 5.3 æŸ¥æ‰¾ä¼˜å…ˆçº§è§„åˆ™


**ä¼˜å…ˆçº§é¡ºåº**ï¼š
```
1. ç²¾ç¡®åç§°åŒ¹é…ï¼ˆæœ€é«˜ä¼˜å…ˆçº§ï¼‰
   @Qualifier("userService") 

2. @Primaryæ ‡è®°çš„Bean
   @Primaryæ³¨è§£æ ‡è®°çš„é»˜è®¤Bean

3. æŒ‰åç§°çº¦å®šåŒ¹é…
   å˜é‡åä¸Beanåä¸€è‡´

4. æŒ‰ç±»å‹å”¯ä¸€åŒ¹é…
   åªæœ‰ä¸€ä¸ªè¯¥ç±»å‹çš„Bean

ç¤ºä¾‹ï¼š
@Autowired
@Qualifier("userService")     // ä¼˜å…ˆçº§1ï¼šç²¾ç¡®æŒ‡å®š
private UserService service;

@Autowired
private UserService userService;  // ä¼˜å…ˆçº§3ï¼šåç§°åŒ¹é…

@Autowired
private UserService service;  // ä¼˜å…ˆçº§4ï¼šç±»å‹åŒ¹é…ï¼ˆéœ€å”¯ä¸€ï¼‰
```

**@Primaryçš„ä½¿ç”¨**ï¼š
```java
// åœºæ™¯ï¼šæœ‰å¤šä¸ªåŒç±»å‹Beanï¼ŒæŒ‡å®šé»˜è®¤ä½¿ç”¨å“ªä¸ª

@Component
@Primary  // æ ‡è®°ä¸ºé»˜è®¤Bean
public class DefaultUserService implements UserService { }

@Component
public class AdminUserService implements UserService { }

// ä¸æŒ‡å®šåç§°æ—¶ï¼Œè‡ªåŠ¨æ³¨å…¥@Primaryæ ‡è®°çš„Bean
@Autowired
private UserService service;  // æ³¨å…¥DefaultUserService
```

---

## 6. ğŸ’¡ æœ€ä½³å®è·µä¸æ³¨æ„äº‹é¡¹


### 6.1 å‘½åæœ€ä½³å®è·µ


**å®è·µ1ï¼šä½¿ç”¨è¯­ä¹‰åŒ–å‘½å** â­â­â­
```java
// âŒ ä¸å¥½çš„å‘½å
@Component("us")
@Component("service1")
@Component("impl")

// âœ… å¥½çš„å‘½å
@Component("userService")
@Component("orderProcessService")
@Component("paymentGatewayClient")

è®°å¿†æŠ€å·§ï¼š
çœ‹åˆ°Beanåç§°å°±çŸ¥é“å®ƒæ˜¯å¹²ä»€ä¹ˆçš„
```

**å®è·µ2ï¼šç»Ÿä¸€å‘½åé£æ ¼**
```
å›¢é˜Ÿçº¦å®šæ ¼å¼ï¼š[ä¸šåŠ¡æ¨¡å—][åŠŸèƒ½][ç±»å‹]

ç¤ºä¾‹ï¼š
userAuthService     ï¼ˆç”¨æˆ·è®¤è¯æœåŠ¡ï¼‰
orderDataDAO        ï¼ˆè®¢å•æ•°æ®è®¿é—®ï¼‰
paymentNotifyHandlerï¼ˆæ”¯ä»˜é€šçŸ¥å¤„ç†ï¼‰
cacheManagerConfig  ï¼ˆç¼“å­˜ç®¡ç†é…ç½®ï¼‰
```

**å®è·µ3ï¼šé¿å…è¿‡åº¦ç¼©å†™**
```java
// âŒ è¿‡åº¦ç¼©å†™ï¼Œéš¾ä»¥ç†è§£
@Component("usrSvc")
@Component("ordPrcHdlr")

// âœ… é€‚åº¦ç¼©å†™ï¼Œæ¸…æ™°æ˜“æ‡‚
@Component("userService")
@Component("orderProcessHandler")

// âœ… å¸¸è§å¯æ¥å—çš„ç¼©å†™
DAOï¼ˆData Access Objectï¼‰
DTOï¼ˆData Transfer Objectï¼‰  
Configï¼ˆConfigurationï¼‰
```

### 6.2 åˆ«åä½¿ç”¨å»ºè®®


**å»ºè®®1ï¼šè°¨æ…ä½¿ç”¨åˆ«å**
```
ä½¿ç”¨åˆ«åçš„åˆç†åœºæ™¯ï¼š
âœ… ç‰ˆæœ¬å…¼å®¹ï¼ˆæ–°æ—§ä»£ç å…±å­˜ï¼‰
âœ… å›¢é˜Ÿçº¦å®šä¸åŒ
âœ… ç¬¬ä¸‰æ–¹é›†æˆéœ€è¦

ä¸è¦æ»¥ç”¨ï¼š
âŒ ä¸è¦ç»™æ¯ä¸ªBeanéƒ½åŠ ä¸€å †åˆ«å
âŒ åˆ«åä¸è¦æ¯”ä¸»åè¿˜å¤š
âŒ é¿å…åˆ«åé“¾ï¼ˆåˆ«åçš„åˆ«åï¼‰
```

**å»ºè®®2ï¼šæ–‡æ¡£åŒ–åˆ«å**
```java
/**
 * ç”¨æˆ·æœåŠ¡
 * åˆ«åï¼šuserServiceImplï¼ˆå‘ä¸‹å…¼å®¹æ—§ç‰ˆæœ¬ï¼‰
 */
@Bean(name = {"userService", "userServiceImpl"})
public UserService userService() {
    return new UserServiceImpl();
}
```

### 6.3 å¸¸è§é™·é˜±ä¸é¿å‘æŒ‡å—


**é™·é˜±1ï¼šå¤§å°å†™æ•æ„Ÿ**
```java
// Beanåç§°åŒºåˆ†å¤§å°å†™ï¼
@Component("UserService")  // æ³¨æ„å¤§å†™U
public class UserService { }

// è·å–Bean
context.getBean("userService");  // âŒ æ‰¾ä¸åˆ°ï¼å°å†™u
context.getBean("UserService");  // âœ… æ­£ç¡®
```

**é™·é˜±2ï¼šè‡ªåŠ¨å‘½åçš„å˜åŒ–**
```java
// ç±»åæ”¹å˜ï¼ŒBeanåä¹Ÿå˜
@Component
public class UserService { }  // Beanåï¼šuserService

// é‡æ„å
@Component
public class UserServiceImpl { }  // Beanåå˜æˆï¼šuserServiceImpl âŒ

// è§£å†³ï¼šæ˜¾å¼æŒ‡å®šåç§°
@Component("userService")
public class UserServiceImpl { }  // Beanåï¼šuserService âœ…
```

**é™·é˜±3ï¼šXMLå’Œæ³¨è§£æ··ç”¨**
```xml
<!-- XMLé…ç½® -->
<bean id="userService" class="com.example.UserService"/>

<!-- Javaé…ç½® -->
@Component("userService")  // âŒ é‡åå†²çª
public class UserService { }

<!-- è§£å†³ï¼šç»Ÿä¸€é…ç½®æ–¹å¼æˆ–ä½¿ç”¨ä¸åŒåç§° -->
```

---

## 7. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 7.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ Beanåç§°ï¼šSpringå®¹å™¨ä¸­Beançš„å”¯ä¸€æ ‡è¯†
ğŸ”¸ å‘½åè§„åˆ™ï¼šå°å†™å¼€å¤´é©¼å³°å‘½åï¼Œè¯­ä¹‰åŒ–æ¸…æ™°
ğŸ”¸ åˆ«åæœºåˆ¶ï¼šä¸€ä¸ªBeanå¯ä»¥æœ‰å¤šä¸ªåç§°
ğŸ”¸ æŸ¥æ‰¾ç­–ç•¥ï¼šåç§°ç²¾ç¡®åŒ¹é… â†’ ç±»å‹åŒ¹é… â†’ @Primary
ğŸ”¸ å†²çªè§£å†³ï¼šè§„èŒƒå‘½å + å†²çªæ£€æµ‹ + åŒ…è·¯å¾„é™å®š
```

### 7.2 ä¸‰ç§å‘½åæ–¹å¼å¯¹æ¯”


| æ–¹å¼ | ç¤ºä¾‹ | ä¼˜ç‚¹ | ç¼ºç‚¹ | æ¨èåœºæ™¯ |
|------|------|------|------|----------|
| **è‡ªåŠ¨å‘½å** | `@Component` | ç®€å•æ–¹ä¾¿ | å¯èƒ½ä¸å¤Ÿè¯­ä¹‰åŒ– | ç®€å•é¡¹ç›® |
| **æ˜¾å¼å‘½å** | `@Component("userService")` | æ˜ç¡®å¯æ§ | éœ€è¦æ‰‹åŠ¨æŒ‡å®š | â­ æ¨èä½¿ç”¨ |
| **åˆ«åæœºåˆ¶** | `@Bean(name={...})` | å…¼å®¹æ€§å¥½ | å¯èƒ½æ··æ·† | ç‰ˆæœ¬å…¼å®¹ |

### 7.3 å®ç”¨è®°å¿†æŠ€å·§


**è®°å¿†å£è¯€**ï¼š
```
Beanå‘½åè¦è§„èŒƒï¼Œå°å†™å¼€å¤´é©¼å³°è¿
è¯­ä¹‰æ¸…æ™°æœ€é‡è¦ï¼Œé¿å…å†²çªè®°å¿ƒé—´
åˆ«åæœºåˆ¶è§£å…¼å®¹ï¼ŒæŸ¥æ‰¾ç­–ç•¥æŒ‰ä¼˜å…ˆ
@Primaryå®šé»˜è®¤ï¼Œ@Qualifierç²¾ç¡®é€‰
```

**æ ¸å¿ƒç†è§£**ï¼š
```
Beanåç§° = èº«ä»½è¯å·ï¼ˆå”¯ä¸€æ ‡è¯†ï¼‰
Beanåˆ«å = å¤–å·æ˜µç§°ï¼ˆå¤šä¸ªç§°å‘¼ï¼‰
æŸ¥æ‰¾ç­–ç•¥ = æ‰¾äººæ–¹æ³•ï¼ˆå…ˆåå­—åç‰¹å¾ï¼‰
å‘½åè§„èŒƒ = å–åè§„åˆ™ï¼ˆä¾¿äºè¯†åˆ«ï¼‰
```

### 7.4 å¿«é€ŸæŸ¥é˜…æ¸…å•


**æ—¥å¸¸å¼€å‘æ£€æŸ¥æ¸…å•**ï¼š
```
â–¡ Beanåç§°æ˜¯å¦è¯­ä¹‰åŒ–æ¸…æ™°ï¼Ÿ
â–¡ æ˜¯å¦æœ‰é‡åBeanå†²çªï¼Ÿ
â–¡ å¤šå®ç°æ—¶æ˜¯å¦ç”¨@Qualifierï¼Ÿ
â–¡ åˆ«åæ˜¯å¦æœ‰æ–‡æ¡£è¯´æ˜ï¼Ÿ
â–¡ æ˜¯å¦å¯ç”¨äº†å†²çªæ£€æµ‹ï¼Ÿ
â–¡ å‘½åæ˜¯å¦ç¬¦åˆå›¢é˜Ÿè§„èŒƒï¼Ÿ
```

**æ•…éšœæ’æŸ¥æ¸…å•**ï¼š
```
é—®é¢˜ï¼šæ— æ³•æ³¨å…¥Bean
â†’ æ£€æŸ¥Beanåç§°å¤§å°å†™æ˜¯å¦æ­£ç¡®
â†’ æ£€æŸ¥æ˜¯å¦æœ‰å¤šä¸ªåŒç±»å‹Bean
â†’ ç¡®è®¤Beanæ˜¯å¦å·²æ³¨å†Œåˆ°å®¹å™¨

é—®é¢˜ï¼šæ³¨å…¥äº†é”™è¯¯çš„Bean  
â†’ æ£€æŸ¥æ˜¯å¦æœ‰åç§°å†²çª
â†’ ä½¿ç”¨@Qualifieræ˜ç¡®æŒ‡å®š
â†’ æ£€æŸ¥@Primaryæ˜¯å¦è®¾ç½®æ­£ç¡®
```

### 7.5 è¿›é˜¶å­¦ä¹ å»ºè®®


**æŒæ¡äº†åŸºç¡€åï¼Œå¯ä»¥æ·±å…¥å­¦ä¹ **ï¼š
- ğŸ”¹ Beançš„ç”Ÿå‘½å‘¨æœŸç®¡ç†
- ğŸ”¹ æ¡ä»¶åŒ–Beanæ³¨å†Œï¼ˆ@Conditionalï¼‰
- ğŸ”¹ Beançš„ä½œç”¨åŸŸï¼ˆScopeï¼‰
- ğŸ”¹ æ‡’åŠ è½½ä¸é¢„åŠ è½½ç­–ç•¥
- ğŸ”¹ è‡ªå®šä¹‰Beanåç§°ç”Ÿæˆç­–ç•¥

**å­¦ä¹ è·¯å¾„**ï¼š
```
ç¬¬1æ­¥ï¼šæŒæ¡åŸºæœ¬å‘½åè§„åˆ™ï¼ˆæœ¬æ–‡å†…å®¹ï¼‰
ç¬¬2æ­¥ï¼šç†è§£ä¾èµ–æ³¨å…¥çš„å„ç§æ–¹å¼
ç¬¬3æ­¥ï¼šå­¦ä¹ Beançš„ç”Ÿå‘½å‘¨æœŸ
ç¬¬4æ­¥ï¼šæ·±å…¥Springå®¹å™¨åŸç†
```

---

**æ ¸å¿ƒè®°å¿†**ï¼š
- Beanåç§°æ˜¯Springå®¹å™¨ç®¡ç†å¯¹è±¡çš„å”¯ä¸€æ ‡è¯†
- å‘½åè¦è¯­ä¹‰åŒ–ã€è§„èŒƒåŒ–ï¼Œé¿å…å†²çª
- åˆ«åæœºåˆ¶ç”¨äºå…¼å®¹ï¼Œä¸è¦æ»¥ç”¨
- æŸ¥æ‰¾ä¼˜å…ˆçº§ï¼šç²¾ç¡®åç§° > @Primary > ç±»å‹åŒ¹é…
- é‡åˆ°é—®é¢˜å…ˆæ£€æŸ¥å‘½åï¼Œå†çœ‹ç±»å‹åŒ¹é…