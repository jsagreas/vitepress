---
title: 4ã€è·¯å¾„è§£æè§„åˆ™
---
## ğŸ“š ç›®å½•

1. [è·¯å¾„è§£æè§„åˆ™æ¦‚è¿°](#1-è·¯å¾„è§£æè§„åˆ™æ¦‚è¿°)
2. [classpathå‰ç¼€è¯¦è§£](#2-classpathå‰ç¼€è¯¦è§£)
3. [fileå‰ç¼€è¯¦è§£](#3-fileå‰ç¼€è¯¦è§£)
4. [httpå‰ç¼€è¯¦è§£](#4-httpå‰ç¼€è¯¦è§£)
5. [ç›¸å¯¹è·¯å¾„ä¸ç»å¯¹è·¯å¾„](#5-ç›¸å¯¹è·¯å¾„ä¸ç»å¯¹è·¯å¾„)
6. [ä¸Šä¸‹æ–‡è·¯å¾„è¯¦è§£](#6-ä¸Šä¸‹æ–‡è·¯å¾„è¯¦è§£)
7. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#7-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ¯ è·¯å¾„è§£æè§„åˆ™æ¦‚è¿°


### 1.1 ä»€ä¹ˆæ˜¯è·¯å¾„è§£æ


**é€šä¿—ç†è§£**ï¼šå°±åƒä½ åœ¨ç”µè„‘ä¸Šæ‰¾æ–‡ä»¶ï¼Œéœ€è¦å‘Šè¯‰ç³»ç»Ÿæ–‡ä»¶åœ¨å“ªé‡Œï¼ŒSpringä¹Ÿéœ€è¦çŸ¥é“èµ„æºæ–‡ä»¶çš„ä½ç½®ã€‚

```
ç”Ÿæ´»ä¸­çš„ä¾‹å­ï¼š
ğŸ“ "è¯·å¸®æˆ‘æ‹¿æ¡Œä¸Šçš„ç¬”" â†’ ç›¸å¯¹ä½ç½®ï¼ˆç›¸å¯¹äºä½ ï¼‰
ğŸ“ "è¯·å¸®æˆ‘æ‹¿åŒ—äº¬å¸‚æœé˜³åŒºXXè·¯XXå·çš„ç¬”" â†’ ç»å¯¹ä½ç½®ï¼ˆç²¾ç¡®åœ°å€ï¼‰

Springä¸­çš„èµ„æºåŠ è½½ä¹Ÿæ˜¯è¿™ä¸ªé“ç†ï¼
```

### 1.2 ä¸ºä»€ä¹ˆéœ€è¦è·¯å¾„å‰ç¼€


**æ ¸å¿ƒä½œç”¨**ï¼šå‘Šè¯‰Springä»å“ªé‡Œæ‰¾èµ„æºæ–‡ä»¶

| å‰ç¼€ç±»å‹ | **æ‰¾èµ„æºçš„ä½ç½®** | **ç±»æ¯”** |
|---------|----------------|---------|
| `classpath:` | é¡¹ç›®ç¼–è¯‘åçš„ç±»è·¯å¾„ | ä»ä½ çš„ä¹¦åŒ…é‡Œæ‰¾ |
| `file:` | æ–‡ä»¶ç³»ç»Ÿçš„æŸä¸ªç›®å½• | ä»ä½ å®¶ä¹¦æ¶ä¸Šæ‰¾ |
| `http:` | ç½‘ç»œä¸Šçš„æŸä¸ªåœ°å€ | ä»å›¾ä¹¦é¦†ç½‘ç«™æ‰¾ |

**ç®€å•è®°å¿†**ï¼š
- é¡¹ç›®å†…éƒ¨èµ„æº â†’ `classpath:`
- ç”µè„‘ç¡¬ç›˜æ–‡ä»¶ â†’ `file:`
- ç½‘ç»œèµ„æº â†’ `http:`

---

## 2. ğŸ“¦ classpathå‰ç¼€è¯¦è§£


### 2.1 classpathæ˜¯ä»€ä¹ˆ


**é€šä¿—è§£é‡Š**ï¼šclasspathå°±æ˜¯Javaç¼–è¯‘åçš„.classæ–‡ä»¶æ‰€åœ¨çš„ç›®å½•ï¼Œå¯ä»¥ç†è§£ä¸º"é¡¹ç›®çš„å†…å®¹åŒ…"ã€‚

```
é¡¹ç›®ç»“æ„ï¼š
my-project/
â”œâ”€â”€ src/main/java/          â† æºä»£ç ç›®å½•
â”‚   â””â”€â”€ com/example/
â”œâ”€â”€ src/main/resources/     â† èµ„æºæ–‡ä»¶ç›®å½•
â”‚   â”œâ”€â”€ config.properties
â”‚   â””â”€â”€ data.xml
â””â”€â”€ target/classes/         â† ç¼–è¯‘åçš„classpathç›®å½•ï¼ˆé‡ç‚¹ï¼ï¼‰
    â”œâ”€â”€ com/example/
    â”œâ”€â”€ config.properties
    â””â”€â”€ data.xml
```

**å…³é”®ç†è§£**ï¼š
- âœ… `src/main/resources/` é‡Œçš„æ–‡ä»¶ä¼šè¢«å¤åˆ¶åˆ° `target/classes/`
- âœ… è¿è¡Œæ—¶ï¼ŒSpringä» `target/classes/` è¯»å–èµ„æº
- âœ… æ‰€ä»¥ç”¨ `classpath:` å‰ç¼€è®¿é—®è¿™äº›èµ„æº

### 2.2 classpathå‰ç¼€çš„ä½¿ç”¨


**ğŸ”¸ åŸºæœ¬è¯­æ³•**
```java
// å•ä¸ªæ–‡ä»¶åŠ è½½
classpath:config.properties          // åŠ è½½æ ¹ç›®å½•ä¸‹çš„config.properties
classpath:db/schema.sql              // åŠ è½½dbæ–‡ä»¶å¤¹ä¸‹çš„schema.sql
classpath:com/example/data.xml       // åŠ è½½åŒ…è·¯å¾„ä¸‹çš„data.xml
```

**ğŸ”¸ é€šé…ç¬¦åŠ è½½ï¼ˆé‡è¦ï¼ï¼‰**
```java
// åŠ è½½æ‰€æœ‰åŒ¹é…çš„æ–‡ä»¶
classpath*:config/*.properties       // æ‰€æœ‰jaråŒ…ä¸­configç›®å½•ä¸‹çš„propertiesæ–‡ä»¶
classpath*:mapper/*.xml              // æ‰€æœ‰jaråŒ…ä¸­mapperç›®å½•ä¸‹çš„xmlæ–‡ä»¶
```

**åŒºåˆ«å¯¹æ¯”**ï¼š
```
classpath:   â†’ åªæ‰¾ç¬¬ä¸€ä¸ªåŒ¹é…çš„èµ„æº
classpath*:  â†’ æ‰¾æ‰€æœ‰åŒ¹é…çš„èµ„æºï¼ˆåŒ…æ‹¬jaråŒ…å†…çš„ï¼‰

ç±»æ¯”ï¼š
classpath:  åƒæ˜¯"æ‰¾åˆ°ç¬¬ä¸€æœ¬æ•°å­¦ä¹¦å°±åœæ­¢"
classpath*: åƒæ˜¯"æŠŠæ‰€æœ‰æ•°å­¦ä¹¦éƒ½æ‰¾å‡ºæ¥"
```

### 2.3 å®é™…åº”ç”¨åœºæ™¯


**åœºæ™¯1ï¼šåŠ è½½é…ç½®æ–‡ä»¶**
```java
@PropertySource("classpath:application.properties")
public class AppConfig {
    // Springä¼šä»ç±»è·¯å¾„åŠ è½½é…ç½®æ–‡ä»¶
}
```

**åœºæ™¯2ï¼šMyBatis Mapperæ–‡ä»¶æ‰«æ**
```yaml
mybatis:
  mapper-locations: classpath*:mapper/**/*.xml
  # æ‰«ææ‰€æœ‰jaråŒ…ä¸­mapperç›®å½•ä¸‹çš„æ‰€æœ‰xmlæ–‡ä»¶
```

**ğŸ’¡ æ–°æ‰‹æç¤º**ï¼š
- å¦‚æœæ–‡ä»¶åœ¨ `src/main/resources/` ç›®å½•ï¼Œç”¨ `classpath:`
- å¦‚æœéœ€è¦æ‰«æjaråŒ…ä¸­çš„æ–‡ä»¶ï¼Œç”¨ `classpath*:`
- å¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œé¡¹ç›®å†…éƒ¨èµ„æºéƒ½ç”¨ `classpath:`

---

## 3. ğŸ“ fileå‰ç¼€è¯¦è§£


### 3.1 fileå‰ç¼€çš„ä½œç”¨


**é€šä¿—ç†è§£**ï¼šfileå‰ç¼€ç”¨æ¥è®¿é—®ç”µè„‘ç¡¬ç›˜ä¸Šçš„æ–‡ä»¶ï¼Œä¸åœ¨é¡¹ç›®ä»£ç é‡Œã€‚

```
å¯¹æ¯”ç†è§£ï¼š
classpath: â†’ é¡¹ç›®ç¼–è¯‘åçš„èµ„æºï¼ˆæ‰“åŒ…åœ¨jar/waré‡Œï¼‰
file:      â†’ ç”µè„‘ç¡¬ç›˜ä¸Šçš„ç‹¬ç«‹æ–‡ä»¶ï¼ˆå¤–éƒ¨æ–‡ä»¶ï¼‰

ç±»æ¯”ï¼š
classpath: ä½ ä¹¦åŒ…é‡Œçš„æ•™æ
file:      ä½ å®¶ä¹¦æ¶ä¸Šçš„å‚è€ƒä¹¦
```

### 3.2 fileè·¯å¾„çš„å†™æ³•


**ğŸ”¸ Windowsç³»ç»Ÿ**
```java
// ç»å¯¹è·¯å¾„ï¼ˆå®Œæ•´åœ°å€ï¼‰
file:///D:/config/app.properties
file:///C:/Users/admin/data/config.xml

// ç›¸å¯¹è·¯å¾„ï¼ˆç›¸å¯¹äºåº”ç”¨è¿è¡Œç›®å½•ï¼‰
file:config/app.properties
file:../external/config.xml
```

**ğŸ”¸ Linux/Macç³»ç»Ÿ**
```java
// ç»å¯¹è·¯å¾„
file:///home/user/config/app.properties
file:///opt/myapp/config.xml

// ç›¸å¯¹è·¯å¾„
file:config/app.properties
file:./external/config.xml
```

**âš ï¸ æ³¨æ„äº‹é¡¹**ï¼š
- Windowsè·¯å¾„ç”¨ `/` ä¸ç”¨ `\`ï¼ˆç»Ÿä¸€é£æ ¼ï¼‰
- ç»å¯¹è·¯å¾„ä»¥ `file:///` å¼€å¤´ï¼ˆä¸‰ä¸ªæ–œæ ï¼‰
- ç›¸å¯¹è·¯å¾„ä»¥ `file:` å¼€å¤´ï¼ˆæ— æ–œæ æˆ–ä¸€ä¸ª `./`ï¼‰

### 3.3 fileå‰ç¼€çš„åº”ç”¨åœºæ™¯


**åœºæ™¯1ï¼šå¤–éƒ¨é…ç½®æ–‡ä»¶**
```java
// ç”Ÿäº§ç¯å¢ƒé…ç½®æ–‡ä»¶æ”¾åœ¨å¤–éƒ¨ï¼Œä¾¿äºä¿®æ”¹
@PropertySource("file:/opt/myapp/config/prod.properties")
public class ProdConfig {
    // é…ç½®æ–‡ä»¶åœ¨æœåŠ¡å™¨çš„å›ºå®šç›®å½•ï¼Œä¸åœ¨jaråŒ…é‡Œ
}
```

**åœºæ™¯2ï¼šå¤§æ–‡ä»¶æˆ–æ•æ„Ÿæ•°æ®**
```java
@Value("file:/data/uploads/avatar.jpg")
private Resource avatarFile;

// ç”¨æˆ·ä¸Šä¼ çš„æ–‡ä»¶ä¸åº”è¯¥æ‰“åŒ…åˆ°jaré‡Œ
// åº”è¯¥å­˜å‚¨åœ¨å¤–éƒ¨æ–‡ä»¶ç³»ç»Ÿ
```

**ğŸ¯ ä½¿ç”¨å»ºè®®**ï¼š
| åœºæ™¯ | **æ¨èæ–¹å¼** | **åŸå› ** |
|------|------------|---------|
| é…ç½®æ–‡ä»¶ | `classpath:` | ä¾¿äºæ‰“åŒ…éƒ¨ç½² |
| ç¯å¢ƒå·®å¼‚é…ç½® | `file:` | ä¸åŒç¯å¢ƒä¸åŒé…ç½® |
| å¤§æ–‡ä»¶/ä¸Šä¼ æ–‡ä»¶ | `file:` | é¿å…jaråŒ…è¿‡å¤§ |
| æ•æ„Ÿä¿¡æ¯ | `file:` | å®‰å…¨æ€§æ›´é«˜ |

---

## 4. ğŸŒ httpå‰ç¼€è¯¦è§£


### 4.1 httpå‰ç¼€çš„ä½œç”¨


**é€šä¿—ç†è§£**ï¼šä»ç½‘ç»œä¸Šä¸‹è½½èµ„æºæ–‡ä»¶ï¼Œå°±åƒä½ åœ¨æµè§ˆå™¨é‡Œä¸‹è½½æ–‡ä»¶ä¸€æ ·ã€‚

```
ç±»æ¯”ç†è§£ï¼š
classpath: ä»è‡ªå·±ä¹¦åŒ…é‡Œæ‹¿æ•™æ
file:      ä»å®¶é‡Œä¹¦æ¶ä¸Šæ‹¿å‚è€ƒä¹¦  
http:      ä»å›¾ä¹¦é¦†ç½‘ç«™ä¸‹è½½ç”µå­ä¹¦

åŒºåˆ«ï¼šhttpå‰ç¼€è®¿é—®çš„æ˜¯ç½‘ç»œèµ„æº
```

### 4.2 http/httpsè·¯å¾„å†™æ³•


**ğŸ”¸ åŸºæœ¬è¯­æ³•**
```java
// HTTPåè®®
http://example.com/config/app.properties
http://192.168.1.100:8080/resources/data.xml

// HTTPSåè®®ï¼ˆåŠ å¯†ä¼ è¾“ï¼‰
https://api.example.com/config/settings.json
https://cdn.example.com/assets/logo.png
```

**ğŸ”¸ å¸¦å‚æ•°çš„URL**
```java
http://api.example.com/resource?version=1.0&format=xml
https://example.com/file.zip?token=abc123
```

### 4.3 å®é™…åº”ç”¨åœºæ™¯


**åœºæ™¯1ï¼šè¿œç¨‹é…ç½®ä¸­å¿ƒ**
```java
// ä»é…ç½®ä¸­å¿ƒæœåŠ¡å™¨æ‹‰å–é…ç½®
@PropertySource("http://config-server:8888/app/prod/application.properties")
public class RemoteConfig {
    // é…ç½®ç»Ÿä¸€ç®¡ç†åœ¨é…ç½®ä¸­å¿ƒæœåŠ¡å™¨
}
```

**åœºæ™¯2ï¼šCDNèµ„æºåŠ è½½**
```java
@Value("https://cdn.example.com/resources/logo.png")
private Resource logoResource;

// å‰ç«¯èµ„æºæ”¾åœ¨CDNï¼ŒåŠ é€Ÿè®¿é—®
```

**âš ï¸ ä½¿ç”¨æ³¨æ„**ï¼š
- âœ… é€‚åˆäº‘åŸç”Ÿåº”ç”¨ã€å¾®æœåŠ¡æ¶æ„
- âœ… é…ç½®ä¸­å¿ƒã€è¿œç¨‹èµ„æºåŠ è½½
- âŒ ç½‘ç»œä¸ç¨³å®šæ—¶å¯èƒ½å¤±è´¥
- âŒ éœ€è¦è€ƒè™‘å®‰å…¨æ€§ï¼ˆHTTPSï¼‰

**ğŸ’¡ æ–°æ‰‹æç¤º**ï¼š
```
å¼€å‘ç¯å¢ƒï¼šç”¨ classpath: æˆ– file:ï¼ˆæœ¬åœ°æ–‡ä»¶ï¼‰
ç”Ÿäº§ç¯å¢ƒï¼šå¯èƒ½ç”¨ http:ï¼ˆé…ç½®ä¸­å¿ƒã€äº‘å­˜å‚¨ï¼‰
```

---

## 5. ğŸ§­ ç›¸å¯¹è·¯å¾„ä¸ç»å¯¹è·¯å¾„


### 5.1 åŸºæœ¬æ¦‚å¿µå¯¹æ¯”


**é€šä¿—ç†è§£**ï¼š

```
ç»å¯¹è·¯å¾„ï¼šå®Œæ•´è¯¦ç»†çš„åœ°å€
ç¤ºä¾‹ï¼š"åŒ—äº¬å¸‚æœé˜³åŒºå»ºå›½è·¯XXå·XXå¤§å¦8å±‚"
ç‰¹ç‚¹ï¼šåœ¨ä»»ä½•åœ°æ–¹éƒ½èƒ½æ‰¾åˆ°ï¼Œåœ°å€æ˜¯å›ºå®šçš„

ç›¸å¯¹è·¯å¾„ï¼šç›¸å¯¹äºæŸä¸ªä½ç½®çš„åœ°å€  
ç¤ºä¾‹ï¼š"å¾€å‰èµ°100ç±³ï¼Œå·¦è½¬ç¬¬äºŒæ ‹æ¥¼"
ç‰¹ç‚¹ï¼šéœ€è¦çŸ¥é“èµ·ç‚¹ä½ç½®ï¼Œåœ°å€æ˜¯ç›¸å¯¹çš„
```

### 5.2 è·¯å¾„ç±»å‹è¯¦è§£


**ğŸ”¸ ç»å¯¹è·¯å¾„ï¼ˆAbsolute Pathï¼‰**

```java
// Windowsç»å¯¹è·¯å¾„
file:///D:/projects/config/app.properties
file:///C:/Users/admin/Desktop/data.xml

// Linux/Macç»å¯¹è·¯å¾„
file:///home/user/config/app.properties
file:///opt/myapp/resources/data.xml

// ç½‘ç»œç»å¯¹è·¯å¾„
http://example.com/resources/config.xml
https://cdn.example.com/assets/logo.png
```

**ç‰¹ç‚¹**ï¼š
- âœ… è·¯å¾„å®Œæ•´ï¼Œä¸ä¾èµ–å½“å‰ä½ç½®
- âœ… ä¸ä¼šæœ‰æ­§ä¹‰ï¼Œæ¸…æ™°æ˜ç¡®
- âŒ ä¸å¤Ÿçµæ´»ï¼Œæ¢ç¯å¢ƒéœ€è¦ä¿®æ”¹

**ğŸ”¸ ç›¸å¯¹è·¯å¾„ï¼ˆRelative Pathï¼‰**

```java
// ç›¸å¯¹äºç±»è·¯å¾„
classpath:config/app.properties          // resources/config/app.properties
classpath:db/schema.sql                  // resources/db/schema.sql

// ç›¸å¯¹äºåº”ç”¨è¿è¡Œç›®å½•
file:config/app.properties               // ./config/app.properties
file:../external/data.xml                // ä¸Šçº§ç›®å½•çš„externalæ–‡ä»¶å¤¹
```

**ç‰¹ç‚¹**ï¼š
- âœ… çµæ´»ä¾¿æ·ï¼Œè·¯å¾„ç®€çŸ­
- âœ… è·¨ç¯å¢ƒæ— éœ€ä¿®æ”¹
- âŒ éœ€è¦æ˜ç¡®åŸºå‡†ä½ç½®

### 5.3 è·¯å¾„ç¬¦å·è¯´æ˜


**å…³é”®ç¬¦å·**ï¼š

| ç¬¦å· | **å«ä¹‰** | **ç¤ºä¾‹** | **è¯´æ˜** |
|------|---------|---------|---------|
| `/` | è·¯å¾„åˆ†éš”ç¬¦ | `config/app.properties` | ç»Ÿä¸€ç”¨ `/`ï¼Œä¸ç”¨ `\` |
| `./` | å½“å‰ç›®å½• | `./config/app.xml` | å¯ä»¥çœç•¥ |
| `../` | ä¸Šçº§ç›®å½• | `../external/data.xml` | å›é€€ä¸€çº§ |
| `../../` | ä¸Šä¸¤çº§ç›®å½• | `../../common/config.xml` | å›é€€ä¸¤çº§ |

**å®é™…åº”ç”¨**ï¼š

```
é¡¹ç›®ç»“æ„ï¼š
my-app/
â”œâ”€â”€ config/
â”‚   â””â”€â”€ app.properties       â† ç›®æ ‡æ–‡ä»¶
â”œâ”€â”€ external/
â”‚   â””â”€â”€ data.xml
â””â”€â”€ src/
    â””â”€â”€ main/
        â””â”€â”€ resources/
            â””â”€â”€ application.yml

åœ¨application.ymlä¸­å¼•ç”¨ï¼š
ç›¸å¯¹è·¯å¾„ï¼š../../../config/app.properties
ç»å¯¹è·¯å¾„ï¼šfile:///D:/my-app/config/app.properties
```

### 5.4 é€‰æ‹©å»ºè®®


**ä»€ä¹ˆæ—¶å€™ç”¨ç»å¯¹è·¯å¾„**ï¼š
- âœ… å›ºå®šä½ç½®çš„ç³»ç»Ÿæ–‡ä»¶
- âœ… è·¨é¡¹ç›®å…±äº«çš„é…ç½®
- âœ… æ˜ç¡®çš„å¤–éƒ¨èµ„æº

**ä»€ä¹ˆæ—¶å€™ç”¨ç›¸å¯¹è·¯å¾„**ï¼š
- âœ… é¡¹ç›®å†…éƒ¨èµ„æºï¼ˆclasspathï¼‰
- âœ… éœ€è¦è·¨ç¯å¢ƒéƒ¨ç½²
- âœ… å¼€å‘å’Œæµ‹è¯•é˜¶æ®µ

**ğŸ’¡ æœ€ä½³å®è·µ**ï¼š
```yaml
# å¼€å‘ç¯å¢ƒï¼šç›¸å¯¹è·¯å¾„
spring:
  config:
    import: classpath:config/dev.properties

# ç”Ÿäº§ç¯å¢ƒï¼šç»å¯¹è·¯å¾„æˆ–ç¯å¢ƒå˜é‡
spring:
  config:
    import: file:${CONFIG_PATH}/prod.properties
```

---

## 6. ğŸ¢ ä¸Šä¸‹æ–‡è·¯å¾„è¯¦è§£


### 6.1 ä»€ä¹ˆæ˜¯ä¸Šä¸‹æ–‡è·¯å¾„


**é€šä¿—ç†è§£**ï¼šä¸Šä¸‹æ–‡è·¯å¾„å°±æ˜¯Webåº”ç”¨çš„"æ ¹ç›®å½•åœ°å€"ï¼Œæ˜¯è®¿é—®åº”ç”¨çš„èµ·å§‹ä½ç½®ã€‚

```
ç±»æ¯”ç†è§£ï¼š
ä½ å®¶ä½åœ¨ï¼šXXå°åŒº3å·æ¥¼2å•å…ƒ501
        â†“
ä¸Šä¸‹æ–‡è·¯å¾„å°±æ˜¯ï¼šXXå°åŒº3å·æ¥¼2å•å…ƒï¼ˆä½ å®¶é—¨ç‰Œçš„åŸºç¡€éƒ¨åˆ†ï¼‰
å…·ä½“æˆ¿é—´ï¼š501ï¼ˆç›¸å¯¹äºå•å…ƒçš„ä½ç½®ï¼‰

Webåº”ç”¨ï¼š
åº”ç”¨éƒ¨ç½²åœ¨ï¼šhttp://localhost:8080/myapp
           â†“
ä¸Šä¸‹æ–‡è·¯å¾„ï¼š/myappï¼ˆåº”ç”¨çš„åŸºç¡€è·¯å¾„ï¼‰
å…·ä½“èµ„æºï¼š/myapp/api/usersï¼ˆå®Œæ•´è®¿é—®è·¯å¾„ï¼‰
```

### 6.2 ä¸Šä¸‹æ–‡è·¯å¾„çš„è¡¨ç°å½¢å¼


**ğŸ”¸ Webåº”ç”¨è®¿é—®è·¯å¾„**

```
å®Œæ•´URLç»“æ„ï¼š
http://localhost:8080/myapp/api/users
       â†“       â†“      â†“        â†“
    åè®®  æœåŠ¡å™¨  ä¸Šä¸‹æ–‡   èµ„æºè·¯å¾„
                 è·¯å¾„

ç¤ºä¾‹å¯¹æ¯”ï¼š
http://localhost:8080/           â† æ ¹è·¯å¾„éƒ¨ç½²ï¼ˆä¸Šä¸‹æ–‡ä¸º/ï¼‰
http://localhost:8080/shop       â† ä¸Šä¸‹æ–‡è·¯å¾„ä¸º/shop
http://localhost:8080/admin      â† ä¸Šä¸‹æ–‡è·¯å¾„ä¸º/admin
```

**ğŸ”¸ Spring Bootä¸­çš„é…ç½®**

```yaml
# application.yml
server:
  servlet:
    context-path: /myapp    # è®¾ç½®ä¸Šä¸‹æ–‡è·¯å¾„

# æ•ˆæœï¼š
# åŸæœ¬è®¿é—®ï¼šhttp://localhost:8080/api/users
# ç°åœ¨è®¿é—®ï¼šhttp://localhost:8080/myapp/api/users
```

### 6.3 ä¸Šä¸‹æ–‡è·¯å¾„çš„å½±å“


**å½±å“çš„èŒƒå›´**ï¼š

```
åœºæ™¯1ï¼šControlleræ˜ å°„
@RestController
@RequestMapping("/api")
public class UserController {
    
    @GetMapping("/users")  
    public List<User> getUsers() {
        // å¦‚æœcontext-path=/myapp
        // å®é™…è®¿é—®è·¯å¾„ï¼š/myapp/api/users
        // å¦‚æœcontext-path=/
        // å®é™…è®¿é—®è·¯å¾„ï¼š/api/users
    }
}
```

**åœºæ™¯2ï¼šé™æ€èµ„æºè®¿é—®**

```yaml
# é™æ€èµ„æºé…ç½®
spring:
  web:
    resources:
      static-locations: classpath:/static/

# å¦‚æœcontext-path=/shop
# è®¿é—®å›¾ç‰‡ï¼šhttp://localhost:8080/shop/images/logo.png
# è®¿é—®CSSï¼šhttp://localhost:8080/shop/css/style.css
```

**åœºæ™¯3ï¼šé‡å®šå‘å’Œè½¬å‘**

```java
@Controller
public class LoginController {
    
    @GetMapping("/login")
    public String login() {
        // é‡å®šå‘ä¼šè‡ªåŠ¨åŠ ä¸Šä¸Šä¸‹æ–‡è·¯å¾„
        return "redirect:/home";  
        // å®é™…é‡å®šå‘åˆ°ï¼š/myapp/homeï¼ˆå¦‚æœcontext-path=/myappï¼‰
    }
}
```

### 6.4 è·å–ä¸Šä¸‹æ–‡è·¯å¾„


**ğŸ”¸ åœ¨Javaä»£ç ä¸­è·å–**

```java
@RestController
public class PathController {
    
    @Autowired
    private ServletContext servletContext;
    
    @GetMapping("/path-info")
    public String getContextPath() {
        // è·å–ä¸Šä¸‹æ–‡è·¯å¾„
        String contextPath = servletContext.getContextPath();
        return "ä¸Šä¸‹æ–‡è·¯å¾„æ˜¯: " + contextPath;  // è¾“å‡ºï¼š/myapp
    }
}
```

**ğŸ”¸ åœ¨JSP/Thymeleafä¸­ä½¿ç”¨**

```html
<!-- Thymeleafæ¨¡æ¿ -->
<link th:href="@{/css/style.css}" rel="stylesheet">
<!-- è‡ªåŠ¨æ·»åŠ ä¸Šä¸‹æ–‡è·¯å¾„ï¼š/myapp/css/style.css -->

<a th:href="@{/home}">é¦–é¡µ</a>
<!-- è‡ªåŠ¨æ·»åŠ ä¸Šä¸‹æ–‡è·¯å¾„ï¼š/myapp/home -->
```

**ğŸ”¸ åœ¨å‰ç«¯JavaScriptä¸­**

```javascript
// è·å–ä¸Šä¸‹æ–‡è·¯å¾„
const contextPath = window.location.pathname.substring(
    0, 
    window.location.pathname.indexOf('/', 1)
);
console.log(contextPath);  // è¾“å‡ºï¼š/myapp

// æˆ–è€…åœ¨é¡µé¢åŠ è½½æ—¶ä¼ é€’
<script>
    const BASE_URL = /*[[${#request.contextPath}]]*/ '';
    // å¯ä»¥åœ¨å…¶ä»–åœ°æ–¹ä½¿ç”¨BASE_URL
</script>
```

### 6.5 å®é™…åº”ç”¨åœºæ™¯


**åœºæ™¯1ï¼šå¤šåº”ç”¨éƒ¨ç½²**

```
åŒä¸€æœåŠ¡å™¨éƒ¨ç½²å¤šä¸ªåº”ç”¨ï¼š
http://example.com/shop    â† å•†åŸåº”ç”¨
http://example.com/admin   â† ç®¡ç†åå°
http://example.com/api     â† APIæœåŠ¡

æ¯ä¸ªåº”ç”¨æœ‰ä¸åŒçš„ä¸Šä¸‹æ–‡è·¯å¾„ï¼Œäº’ä¸å¹²æ‰°
```

**åœºæ™¯2ï¼šç‰ˆæœ¬ç®¡ç†**

```yaml
# v1ç‰ˆæœ¬
server:
  servlet:
    context-path: /api/v1

# v2ç‰ˆæœ¬  
server:
  servlet:
    context-path: /api/v2

# å¯ä»¥åŒæ—¶è¿è¡Œä¸¤ä¸ªç‰ˆæœ¬ï¼Œæ–¹ä¾¿è¿‡æ¸¡å‡çº§
```

**ğŸ’¡ å¼€å‘å»ºè®®**ï¼š

| ç¯å¢ƒ | **ä¸Šä¸‹æ–‡è·¯å¾„é…ç½®** | **åŸå› ** |
|------|------------------|---------|
| æœ¬åœ°å¼€å‘ | `/` æˆ– `/é¡¹ç›®å` | æ–¹ä¾¿è°ƒè¯• |
| æµ‹è¯•ç¯å¢ƒ | `/test-é¡¹ç›®å` | åŒºåˆ†ç¯å¢ƒ |
| ç”Ÿäº§ç¯å¢ƒ | `/` æˆ– `/api` | ç®€æ´æ¸…æ™° |

---

## 7. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 7.1 è·¯å¾„å‰ç¼€é€Ÿè®°è¡¨


| å‰ç¼€ | **ä½ç½®** | **åœºæ™¯** | **ç¤ºä¾‹** |
|------|---------|---------|---------|
| `classpath:` | é¡¹ç›®ç¼–è¯‘åçš„ç±»è·¯å¾„ | é¡¹ç›®å†…éƒ¨èµ„æº | `classpath:config.properties` |
| `classpath*:` | æ‰€æœ‰jaråŒ…çš„ç±»è·¯å¾„ | æ‰«æå¤šä¸ªjaråŒ… | `classpath*:mapper/*.xml` |
| `file:` | æ–‡ä»¶ç³»ç»Ÿè·¯å¾„ | å¤–éƒ¨é…ç½®æ–‡ä»¶ | `file:/opt/config/app.xml` |
| `http:` | ç½‘ç»œåœ°å€ | è¿œç¨‹èµ„æº | `http://config-server/app.yml` |

### 7.2 è·¯å¾„ç±»å‹å¯¹æ¯”


**ç»å¯¹è·¯å¾„ vs ç›¸å¯¹è·¯å¾„**ï¼š

```
âœ… ç»å¯¹è·¯å¾„çš„ä¼˜åŠ¿ï¼š
â€¢ è·¯å¾„æ˜ç¡®ï¼Œä¸ä¼šæ··æ·†
â€¢ é€‚åˆå›ºå®šä½ç½®çš„èµ„æº
â€¢ è·¨ç¯å¢ƒæ—¶éœ€è¦æ˜ç¡®é…ç½®

âœ… ç›¸å¯¹è·¯å¾„çš„ä¼˜åŠ¿ï¼š
â€¢ è·¯å¾„ç®€æ´ï¼Œæ˜“äºç»´æŠ¤
â€¢ è·¨ç¯å¢ƒæ— éœ€ä¿®æ”¹
â€¢ é€‚åˆé¡¹ç›®å†…éƒ¨èµ„æº
```

### 7.3 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ classpathçš„æœ¬è´¨**
```
classpathä¸æ˜¯ä¸€ä¸ªç‰©ç†ç›®å½•ï¼Œè€Œæ˜¯ï¼š
â€¢ ç¼–è¯‘å.classæ–‡ä»¶çš„ä½ç½®
â€¢ src/main/resourcesç¼–è¯‘åçš„ä½ç½®
â€¢ æ‰€æœ‰jaråŒ…å†…éƒ¨çš„resourcesç›®å½•

è®°å¿†ï¼šé¡¹ç›®å†…éƒ¨èµ„æºä¼˜å…ˆç”¨classpath:
```

**ğŸ”¹ fileçš„ä½¿ç”¨åœºæ™¯**
```
file:é€‚åˆï¼š
â€¢ å¤–éƒ¨é…ç½®æ–‡ä»¶ï¼ˆç”Ÿäº§ç¯å¢ƒé…ç½®ï¼‰
â€¢ å¤§æ–‡ä»¶å­˜å‚¨ï¼ˆä¸Šä¼ æ–‡ä»¶ã€æ—¥å¿—ï¼‰
â€¢ æ•æ„Ÿæ•°æ®ï¼ˆå¯†é’¥ã€è¯ä¹¦ï¼‰

è®°å¿†ï¼šé¡¹ç›®å¤–éƒ¨èµ„æºç”¨file:
```

**ğŸ”¹ ä¸Šä¸‹æ–‡è·¯å¾„çš„ä½œç”¨**
```
ä¸Šä¸‹æ–‡è·¯å¾„å†³å®šäº†ï¼š
â€¢ Webåº”ç”¨çš„è®¿é—®å…¥å£
â€¢ é™æ€èµ„æºçš„åŸºç¡€è·¯å¾„
â€¢ Controlleræ˜ å°„çš„å‰ç¼€

è®°å¿†ï¼šä¸Šä¸‹æ–‡è·¯å¾„æ˜¯åº”ç”¨çš„"é—¨ç‰Œå·"
```

### 7.4 æœ€ä½³å®è·µå»ºè®®


**ğŸ¯ å¼€å‘é˜¶æ®µ**ï¼š
```yaml
# ä½¿ç”¨classpath:ï¼Œæ–¹ä¾¿æ‰“åŒ…
spring:
  config:
    import: classpath:config/dev.properties
```

**ğŸ¯ ç”Ÿäº§é˜¶æ®µ**ï¼š
```yaml
# ä½¿ç”¨file:æˆ–ç¯å¢ƒå˜é‡ï¼Œçµæ´»é…ç½®
spring:
  config:
    import: file:${CONFIG_PATH}/prod.properties
```

**ğŸ¯ å¾®æœåŠ¡æ¶æ„**ï¼š
```yaml
# ä½¿ç”¨http:ï¼Œé…ç½®ä¸­å¿ƒç»Ÿä¸€ç®¡ç†
spring:
  cloud:
    config:
      uri: http://config-server:8888
```

### 7.5 å¸¸è§é”™è¯¯é¿å‘


**âŒ é”™è¯¯1ï¼šè·¯å¾„åˆ†éš”ç¬¦æ··ç”¨**
```java
// é”™è¯¯
file:D:\config\app.properties  âŒ (Windowsåæ–œæ )

// æ­£ç¡®  
file:///D:/config/app.properties  âœ… (ç»Ÿä¸€æ­£æ–œæ )
```

**âŒ é”™è¯¯2ï¼šclasspathè·¯å¾„å†™æ³•é”™è¯¯**
```java
// é”™è¯¯
classpath:/config/app.properties  âŒ (å¤šä½™çš„/)
classpath:src/main/resources/...  âŒ (ä¸éœ€è¦å†™æºç è·¯å¾„)

// æ­£ç¡®
classpath:config/app.properties   âœ…
```

**âŒ é”™è¯¯3ï¼šä¸Šä¸‹æ–‡è·¯å¾„é—æ¼**
```javascript
// é”™è¯¯ï¼šç¡¬ç¼–ç è·¯å¾„
fetch('/api/users')  âŒ 

// æ­£ç¡®ï¼šè€ƒè™‘ä¸Šä¸‹æ–‡è·¯å¾„
fetch(contextPath + '/api/users')  âœ…
```

**ğŸ’¡ è®°å¿†å£è¯€**ï¼š
```
é¡¹ç›®å†…éƒ¨ç”¨classpathï¼Œå¤–éƒ¨æ–‡ä»¶ç”¨fileé€‰
ç½‘ç»œèµ„æºhttpæ‰¾ï¼Œè·¯å¾„ç»Ÿä¸€æ–œæ è¿
ç»å¯¹ç›¸å¯¹çœ‹åœºæ™¯ï¼Œä¸Šä¸‹æ–‡è·¯å¾„åˆ«å¿˜æ·»
```