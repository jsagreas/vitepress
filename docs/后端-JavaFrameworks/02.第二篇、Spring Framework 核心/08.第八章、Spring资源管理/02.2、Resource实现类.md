---
title: 2ã€Resourceå®ç°ç±»
---
## ğŸ“š ç›®å½•

1. [Resourceå®ç°ç±»æ¦‚è¿°](#1-Resourceå®ç°ç±»æ¦‚è¿°)
2. [ClassPathResource-ç±»è·¯å¾„èµ„æº](#2-ClassPathResource-ç±»è·¯å¾„èµ„æº)
3. [FileSystemResource-æ–‡ä»¶ç³»ç»Ÿèµ„æº](#3-FileSystemResource-æ–‡ä»¶ç³»ç»Ÿèµ„æº)
4. [UrlResource-ç½‘ç»œèµ„æº](#4-UrlResource-ç½‘ç»œèµ„æº)
5. [ByteArrayResource-å­—èŠ‚æ•°ç»„èµ„æº](#5-ByteArrayResource-å­—èŠ‚æ•°ç»„èµ„æº)
6. [InputStreamResource-æµèµ„æº](#6-InputStreamResource-æµèµ„æº)
7. [ServletContextResource-Webèµ„æº](#7-ServletContextResource-Webèµ„æº)
8. [å®ç°ç±»é€‰æ‹©æŒ‡å—](#8-å®ç°ç±»é€‰æ‹©æŒ‡å—)
9. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#9-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ¯ Resourceå®ç°ç±»æ¦‚è¿°


### 1.1 ä»€ä¹ˆæ˜¯Resourceå®ç°ç±»


**é€šä¿—ç†è§£**ï¼š
æƒ³è±¡ä½ è¦è¯»å–æ–‡ä»¶,æ–‡ä»¶å¯èƒ½åœ¨å¾ˆå¤šä¸åŒçš„åœ°æ–¹ï¼š
- åœ¨ä½ çš„é¡¹ç›®ä»£ç åŒ…é‡Œï¼ˆclasspathï¼‰
- åœ¨ç”µè„‘ç¡¬ç›˜çš„æŸä¸ªæ–‡ä»¶å¤¹
- åœ¨ç½‘ç»œä¸Šçš„æŸä¸ªç½‘å€
- åœ¨å†…å­˜é‡Œçš„å­—èŠ‚æ•°ç»„
- åœ¨Webåº”ç”¨çš„ç‰¹å®šç›®å½•

Springæä¾›äº†ä¸åŒçš„"è¯»å–å·¥å…·",æ¯ç§å·¥å…·ä¸“é—¨è´Ÿè´£ä»ç‰¹å®šä½ç½®è¯»å–èµ„æº,è¿™äº›å·¥å…·å°±æ˜¯**Resourceå®ç°ç±»**ã€‚

### 1.2 ä¸ºä»€ä¹ˆéœ€è¦ä¸åŒçš„å®ç°ç±»


**å®é™…åœºæ™¯å¯¹æ¯”**ï¼š

```
åœºæ™¯1ï¼šè¯»å–é…ç½®æ–‡ä»¶
é¡¹ç›®é‡Œçš„application.properties â†’ ç”¨ClassPathResource

åœºæ™¯2ï¼šè¯»å–ç”¨æˆ·ä¸Šä¼ çš„æ–‡ä»¶  
æœåŠ¡å™¨ç£ç›˜çš„/upload/file.txt â†’ ç”¨FileSystemResource

åœºæ™¯3ï¼šè¯»å–ç½‘ç»œå›¾ç‰‡
http://example.com/logo.png â†’ ç”¨UrlResource

åœºæ™¯4ï¼šå¤„ç†å†…å­˜æ•°æ®
ç¨‹åºç”Ÿæˆçš„å­—èŠ‚æ•°æ® â†’ ç”¨ByteArrayResource
```

**æ ¸å¿ƒç†å¿µ**ï¼šä¸åŒä½ç½®çš„èµ„æº,ç”¨ä¸“é—¨çš„å®ç°ç±»å»è¯»å–,ç®€å•é«˜æ•ˆã€‚

### 1.3 å…­å¤§æ ¸å¿ƒå®ç°ç±»


| å®ç°ç±» | **ç”¨é€”** | **å…¸å‹åœºæ™¯** |
|--------|---------|-------------|
| ğŸ“¦ `ClassPathResource` | è¯»å–ç±»è·¯å¾„èµ„æº | `é…ç½®æ–‡ä»¶ã€XMLæ–‡ä»¶` |
| ğŸ“ `FileSystemResource` | è¯»å–æ–‡ä»¶ç³»ç»Ÿèµ„æº | `æœ¬åœ°æ–‡ä»¶ã€ä¸Šä¼ æ–‡ä»¶` |
| ğŸŒ `UrlResource` | è¯»å–ç½‘ç»œèµ„æº | `HTTP/FTPèµ„æº` |
| ğŸ’¾ `ByteArrayResource` | è¯»å–å­—èŠ‚æ•°ç»„ | `å†…å­˜æ•°æ®ã€ä¸´æ—¶æ•°æ®` |
| ğŸ”„ `InputStreamResource` | è¯»å–è¾“å…¥æµ | `ä¸€æ¬¡æ€§æ•°æ®æµ` |
| ğŸŒ `ServletContextResource` | è¯»å–Webèµ„æº | `Webåº”ç”¨èµ„æº` |

---

## 2. ğŸ“¦ ClassPathResource-ç±»è·¯å¾„èµ„æº


### 2.1 ä»€ä¹ˆæ˜¯ClassPathResource


**é€šä¿—è§£é‡Š**ï¼š
ClassPathResourceå°±æ˜¯ä¸“é—¨è¯»å–**é¡¹ç›®ä»£ç åŒ…é‡Œçš„æ–‡ä»¶**çš„å·¥å…·ã€‚

```
ä½ çš„é¡¹ç›®ç»“æ„ï¼š
src/main/resources/
  â”œâ”€â”€ application.properties  â† è¿™äº›æ–‡ä»¶å°±åœ¨classpathé‡Œ
  â”œâ”€â”€ config/
  â”‚   â””â”€â”€ database.xml
  â””â”€â”€ data/
      â””â”€â”€ cities.json

ClassPathResourceå°±æ˜¯ç”¨æ¥è¯»å–è¿™äº›æ–‡ä»¶çš„
```

**æ ¸å¿ƒä½œç”¨**ï¼šè¯»å–æ‰“åŒ…åœ¨JAR/WARé‡Œçš„èµ„æºæ–‡ä»¶,ä¸ç®¡åº”ç”¨éƒ¨ç½²åˆ°å“ªé‡Œéƒ½èƒ½æ‰¾åˆ°ã€‚

### 2.2 åŸºæœ¬ä½¿ç”¨æ–¹å¼


**ç®€å•ç¤ºä¾‹**ï¼š

```java
// è¯»å–resourcesç›®å½•ä¸‹çš„application.properties
Resource resource = new ClassPathResource("application.properties");

// è¯»å–resources/configç›®å½•ä¸‹çš„database.xml  
Resource xmlResource = new ClassPathResource("config/database.xml");

// è·å–æ–‡ä»¶å†…å®¹
InputStream is = resource.getInputStream();
// è¯»å–æ–‡ä»¶...
```

**è·¯å¾„è¯´æ˜**ï¼š
- è·¯å¾„**ä¸éœ€è¦**ä»¥`/`å¼€å¤´
- è·¯å¾„ç›¸å¯¹äº`classpath`æ ¹ç›®å½•ï¼ˆé€šå¸¸æ˜¯`src/main/resources`ï¼‰
- å¯ä»¥ä½¿ç”¨ç›¸å¯¹è·¯å¾„,å¦‚`config/database.xml`

### 2.3 å…¸å‹åº”ç”¨åœºæ™¯


**åœºæ™¯1ï¼šè¯»å–é…ç½®æ–‡ä»¶**

```java
@Configuration
public class AppConfig {
    
    public Properties loadProperties() throws IOException {
        // è¯»å–é…ç½®æ–‡ä»¶
        ClassPathResource resource = new ClassPathResource("app.properties");
        
        Properties props = new Properties();
        props.load(resource.getInputStream());
        return props;
    }
}
```

**åœºæ™¯2ï¼šè¯»å–Springé…ç½®**

```java
// åœ¨Springä¸­åŠ è½½XMLé…ç½®
ApplicationContext context = 
    new ClassPathXmlApplicationContext("spring-config.xml");
```

**åœºæ™¯3ï¼šè¯»å–é™æ€æ•°æ®æ–‡ä»¶**

```java
// è¯»å–åŸå¸‚æ•°æ®JSON
ClassPathResource jsonResource = new ClassPathResource("data/cities.json");
String jsonContent = new String(
    jsonResource.getInputStream().readAllBytes()
);
```

### 2.4 ä½¿ç”¨æ³¨æ„äº‹é¡¹


> **ğŸ’¡ å…³é”®ç†è§£**
> 
> ClassPathResourceè¯»å–çš„æ–‡ä»¶ä¼šè¢«**æ‰“åŒ…è¿›JAR**,æ‰€ä»¥ï¼š
> - âœ… é€‚åˆï¼šé…ç½®æ–‡ä»¶ã€é™æ€æ•°æ®ã€æ¨¡æ¿æ–‡ä»¶
> - âŒ ä¸é€‚åˆï¼šéœ€è¦åŠ¨æ€ä¿®æ”¹çš„æ–‡ä»¶ã€å¤§æ–‡ä»¶

**å¸¸è§é—®é¢˜**ï¼š

```
é—®é¢˜1ï¼šæ‰¾ä¸åˆ°æ–‡ä»¶ï¼Ÿ
â†’ æ£€æŸ¥è·¯å¾„æ˜¯å¦æ­£ç¡®,ä¸è¦ä»¥/å¼€å¤´
â†’ ç¡®è®¤æ–‡ä»¶åœ¨src/main/resourcesä¸‹

é—®é¢˜2ï¼šæ‰“åŒ…åæ‰¾ä¸åˆ°ï¼Ÿ
â†’ ç¡®ä¿æ„å»ºå·¥å…·ï¼ˆMaven/Gradleï¼‰æ­£ç¡®å¤åˆ¶äº†èµ„æºæ–‡ä»¶
â†’ æ£€æŸ¥target/classesæˆ–build/classesç›®å½•

é—®é¢˜3ï¼šè·¯å¾„å†™æ³•æ··æ·†ï¼Ÿ
æ­£ç¡®ï¼šnew ClassPathResource("config/db.xml")
é”™è¯¯ï¼šnew ClassPathResource("/config/db.xml")
```

---

## 3. ğŸ“ FileSystemResource-æ–‡ä»¶ç³»ç»Ÿèµ„æº


### 3.1 ä»€ä¹ˆæ˜¯FileSystemResource


**é€šä¿—è§£é‡Š**ï¼š
FileSystemResourceå°±æ˜¯è¯»å–**ç”µè„‘ç¡¬ç›˜ä¸Šæ–‡ä»¶**çš„å·¥å…·,è·Ÿä½ å¹³æ—¶ç”¨Fileç±»è¯»æ–‡ä»¶ä¸€æ ·ã€‚

```
æ–‡ä»¶ç³»ç»Ÿè·¯å¾„ç¤ºä¾‹ï¼š
Windows: C:/Users/data/file.txt
Linux:   /home/user/data/file.txt
ç›¸å¯¹:    ./upload/image.jpg
```

**æ ¸å¿ƒä½œç”¨**ï¼šè¯»å–æ“ä½œç³»ç»Ÿæ–‡ä»¶ç³»ç»Ÿä¸­çš„æ–‡ä»¶,æ”¯æŒç»å¯¹è·¯å¾„å’Œç›¸å¯¹è·¯å¾„ã€‚

### 3.2 åŸºæœ¬ä½¿ç”¨æ–¹å¼


**ç¤ºä¾‹ä»£ç **ï¼š

```java
// ä½¿ç”¨ç»å¯¹è·¯å¾„
Resource resource = new FileSystemResource("/data/config.xml");

// ä½¿ç”¨ç›¸å¯¹è·¯å¾„ï¼ˆç›¸å¯¹äºåº”ç”¨è¿è¡Œç›®å½•ï¼‰
Resource uploadFile = new FileSystemResource("upload/user_photo.jpg");

// è·å–Fileå¯¹è±¡
File file = resource.getFile();
System.out.println("æ–‡ä»¶å­˜åœ¨: " + file.exists());
```

**è·¯å¾„ç±»å‹**ï¼š

| è·¯å¾„ç±»å‹ | **ç¤ºä¾‹** | **è¯´æ˜** |
|---------|---------|---------|
| **ç»å¯¹è·¯å¾„** | `/home/data/file.txt` | å®Œæ•´çš„æ–‡ä»¶è·¯å¾„ |
| **ç›¸å¯¹è·¯å¾„** | `./upload/file.txt` | ç›¸å¯¹äºç¨‹åºè¿è¡Œç›®å½• |
| **Windowsè·¯å¾„** | `C:/data/file.txt` | æ³¨æ„ä½¿ç”¨`/`æˆ–`\\` |

### 3.3 å…¸å‹åº”ç”¨åœºæ™¯


**åœºæ™¯1ï¼šè¯»å–é…ç½®æ–‡ä»¶**

```java
@Service
public class ConfigService {
    
    public void loadExternalConfig() throws IOException {
        // è¯»å–å¤–éƒ¨é…ç½®æ–‡ä»¶ï¼ˆä¸åœ¨JARåŒ…é‡Œï¼‰
        FileSystemResource config = 
            new FileSystemResource("/etc/myapp/config.properties");
        
        if (config.exists()) {
            Properties props = new Properties();
            props.load(config.getInputStream());
            // ä½¿ç”¨é…ç½®...
        }
    }
}
```

**åœºæ™¯2ï¼šå¤„ç†æ–‡ä»¶ä¸Šä¼ **

```java
@RestController
public class FileController {
    
    @PostMapping("/upload")
    public String handleUpload(MultipartFile file) throws IOException {
        // ä¿å­˜åˆ°æœåŠ¡å™¨
        String uploadPath = "/var/uploads/" + file.getOriginalFilename();
        file.transferTo(new File(uploadPath));
        
        // åç»­å¤„ç†
        FileSystemResource resource = new FileSystemResource(uploadPath);
        processFile(resource);
        
        return "ä¸Šä¼ æˆåŠŸ";
    }
}
```

**åœºæ™¯3ï¼šæ—¥å¿—æ–‡ä»¶è¯»å–**

```java
// è¯»å–åº”ç”¨æ—¥å¿—
FileSystemResource logFile = 
    new FileSystemResource("./logs/app.log");

BufferedReader reader = new BufferedReader(
    new InputStreamReader(logFile.getInputStream())
);
String line;
while ((line = reader.readLine()) != null) {
    // å¤„ç†æ—¥å¿—è¡Œ
}
```

### 3.4 ä¸ClassPathResourceçš„åŒºåˆ«


**å¯¹æ¯”ç†è§£**ï¼š

```
ClassPathResourceï¼ˆç±»è·¯å¾„ï¼‰:
ğŸ“¦ é¡¹ç›®å†…èµ„æº â†’ æ‰“åŒ…è¿›JAR
ğŸ“¦ è·¯å¾„ç›¸å¯¹classpath
ğŸ“¦ åªè¯»,ä¸èƒ½ä¿®æ”¹

FileSystemResourceï¼ˆæ–‡ä»¶ç³»ç»Ÿï¼‰:
ğŸ“ æ“ä½œç³»ç»Ÿæ–‡ä»¶ â†’ ç‹¬ç«‹å­˜åœ¨
ğŸ“ è·¯å¾„æ˜¯å®é™…æ–‡ä»¶è·¯å¾„
ğŸ“ å¯è¯»å¯å†™
```

**é€‰æ‹©å»ºè®®**ï¼š
- **é¡¹ç›®è‡ªå¸¦çš„é…ç½®ã€æ¨¡æ¿** â†’ ç”¨ClassPathResource
- **ç”¨æˆ·ä¸Šä¼ ã€æ—¥å¿—ã€ä¸´æ—¶æ–‡ä»¶** â†’ ç”¨FileSystemResource

---

## 4. ğŸŒ UrlResource-ç½‘ç»œèµ„æº


### 4.1 ä»€ä¹ˆæ˜¯UrlResource


**é€šä¿—è§£é‡Š**ï¼š
UrlResourceå°±æ˜¯ä»**ç½‘ç»œåœ°å€**è¯»å–èµ„æºçš„å·¥å…·,æ”¯æŒHTTPã€FTPç­‰åè®®ã€‚

```
æ”¯æŒçš„URLç±»å‹ï¼š
http://example.com/data.json    â† HTTPç½‘ç»œèµ„æº
https://api.com/config.xml      â† HTTPSå®‰å…¨èµ„æº
ftp://ftp.server.com/file.txt   â† FTPæ–‡ä»¶ä¼ è¾“
file:///data/local.txt          â† æœ¬åœ°æ–‡ä»¶URLæ ¼å¼
```

**æ ¸å¿ƒä½œç”¨**ï¼šé€šè¿‡ç½‘ç»œåè®®è·å–è¿œç¨‹èµ„æº,ç»Ÿä¸€å¤„ç†å„ç§URLæ ¼å¼ã€‚

### 4.2 åŸºæœ¬ä½¿ç”¨æ–¹å¼


**ç¤ºä¾‹ä»£ç **ï¼š

```java
// HTTPèµ„æº
Resource httpResource = 
    new UrlResource("http://example.com/config.json");

// HTTPSèµ„æº
Resource httpsResource = 
    new UrlResource("https://api.example.com/data.xml");

// FTPèµ„æº
Resource ftpResource = 
    new UrlResource("ftp://ftp.example.com/report.pdf");

// è¯»å–å†…å®¹
InputStream is = httpResource.getInputStream();
String content = new String(is.readAllBytes());
```

**URLæ„é€ æ–¹å¼**ï¼š

```java
// æ–¹å¼1ï¼šå­—ç¬¦ä¸²URL
new UrlResource("http://example.com/file.txt");

// æ–¹å¼2ï¼šURLå¯¹è±¡
URL url = new URL("http://example.com/file.txt");
new UrlResource(url);

// æ–¹å¼3ï¼šURIå¯¹è±¡  
URI uri = new URI("http://example.com/file.txt");
new UrlResource(uri);
```

### 4.3 å…¸å‹åº”ç”¨åœºæ™¯


**åœºæ™¯1ï¼šè¯»å–è¿œç¨‹é…ç½®**

```java
@Configuration
public class RemoteConfigLoader {
    
    public void loadRemoteConfig() throws IOException {
        // ä»é…ç½®ä¸­å¿ƒè·å–é…ç½®
        UrlResource configResource = new UrlResource(
            "http://config-server.com/app/production.properties"
        );
        
        Properties props = new Properties();
        props.load(configResource.getInputStream());
        
        // åº”ç”¨é…ç½®...
    }
}
```

**åœºæ™¯2ï¼šä¸‹è½½ç½‘ç»œæ–‡ä»¶**

```java
@Service
public class FileDownloadService {
    
    public void downloadFile(String fileUrl, String savePath) 
            throws IOException {
        
        UrlResource resource = new UrlResource(fileUrl);
        
        // ä¸‹è½½åˆ°æœ¬åœ°
        Files.copy(
            resource.getInputStream(),
            Paths.get(savePath),
            StandardCopyOption.REPLACE_EXISTING
        );
    }
}
```

**åœºæ™¯3ï¼šAPIæ•°æ®è·å–**

```java
// è°ƒç”¨REST APIè·å–æ•°æ®
UrlResource apiResource = new UrlResource(
    "https://api.example.com/users/123"
);

// è§£æJSONå“åº”
ObjectMapper mapper = new ObjectMapper();
User user = mapper.readValue(
    apiResource.getInputStream(), 
    User.class
);
```

### 4.4 ä½¿ç”¨æ³¨æ„äº‹é¡¹


> **âš ï¸ é‡è¦æé†’**
> 
> ç½‘ç»œèµ„æºè®¿é—®å¯èƒ½å¤±è´¥,åŠ¡å¿…å¤„ç†å¼‚å¸¸ï¼š
> - ç½‘ç»œè¶…æ—¶
> - è¿æ¥å¤±è´¥
> - èµ„æºä¸å­˜åœ¨ï¼ˆ404ï¼‰
> - æƒé™é—®é¢˜ï¼ˆ403ï¼‰

**å®‰å…¨è€ƒè™‘**ï¼š

```java
try {
    UrlResource resource = new UrlResource(userProvidedUrl);
    
    // éªŒè¯URLåè®®
    if (!resource.getURL().getProtocol().equals("https")) {
        throw new SecurityException("åªå…è®¸HTTPSåè®®");
    }
    
    // è®¾ç½®è¶…æ—¶ï¼ˆéœ€è¦è‡ªå·±å¤„ç†è¿æ¥ï¼‰
    URLConnection conn = resource.getURL().openConnection();
    conn.setConnectTimeout(5000);  // 5ç§’è¶…æ—¶
    conn.setReadTimeout(5000);
    
    InputStream is = conn.getInputStream();
    // å¤„ç†æ•°æ®...
    
} catch (IOException e) {
    // å¤„ç†ç½‘ç»œé”™è¯¯
}
```

---

## 5. ğŸ’¾ ByteArrayResource-å­—èŠ‚æ•°ç»„èµ„æº


### 5.1 ä»€ä¹ˆæ˜¯ByteArrayResource


**é€šä¿—è§£é‡Š**ï¼š
ByteArrayResourceå°±æ˜¯æŠŠ**å†…å­˜é‡Œçš„å­—èŠ‚æ•°æ®**å½“ä½œèµ„æºæ¥ä½¿ç”¨çš„å·¥å…·ã€‚

```
ä½¿ç”¨åœºæ™¯ç†è§£ï¼š
ä½ åœ¨ç¨‹åºé‡Œç”Ÿæˆäº†ä¸€äº›æ•°æ®ï¼ˆå›¾ç‰‡ã€æ–‡æ¡£ã€JSONç­‰ï¼‰
è¿™äº›æ•°æ®è¿˜åœ¨å†…å­˜é‡Œï¼ˆbyte[]æ•°ç»„ï¼‰
æƒ³ç”¨ç»Ÿä¸€çš„Resourceæ¥å£æ¥å¤„ç†
â†’ å°±ç”¨ByteArrayResourceåŒ…è£…è¿™ä¸ªbyte[]
```

**æ ¸å¿ƒä½œç”¨**ï¼šå°†å†…å­˜ä¸­çš„å­—èŠ‚æ•°ç»„åŒ…è£…æˆResource,æ–¹ä¾¿ç»Ÿä¸€å¤„ç†ã€‚

### 5.2 åŸºæœ¬ä½¿ç”¨æ–¹å¼


**ç¤ºä¾‹ä»£ç **ï¼š

```java
// åˆ›å»ºå­—èŠ‚æ•°ç»„èµ„æº
byte[] data = "Hello, Spring!".getBytes();
Resource resource = new ByteArrayResource(data);

// å¸¦æè¿°ä¿¡æ¯
Resource resourceWithDesc = new ByteArrayResource(
    data, 
    "è‡ªå®šä¹‰å­—èŠ‚èµ„æº"
);

// ä½¿ç”¨èµ„æº
InputStream is = resource.getInputStream();
String content = new String(is.readAllBytes());
```

**ç‰¹æ€§è¯´æ˜**ï¼š
- æ•°æ®å®Œå…¨åœ¨**å†…å­˜**ä¸­,è¯»å–é€Ÿåº¦å¿«
- å¯ä»¥**å¤šæ¬¡è¯»å–**ï¼ˆæ¯æ¬¡éƒ½æ˜¯æ–°çš„InputStreamï¼‰
- é€‚åˆ**å°æ•°æ®é‡**,å¤§æ•°æ®ä¼šå ç”¨å†…å­˜

### 5.3 å…¸å‹åº”ç”¨åœºæ™¯


**åœºæ™¯1ï¼šåŠ¨æ€ç”Ÿæˆå†…å®¹**

```java
@Service
public class ReportService {
    
    public Resource generateReport() {
        // åŠ¨æ€ç”ŸæˆæŠ¥è¡¨æ•°æ®
        StringBuilder report = new StringBuilder();
        report.append("é”€å”®æŠ¥è¡¨\n");
        report.append("æ€»é”€å”®é¢: Â¥100,000\n");
        report.append("è®¢å•æ•°: 500\n");
        
        byte[] reportData = report.toString().getBytes();
        
        // åŒ…è£…æˆResourceè¿”å›
        return new ByteArrayResource(reportData);
    }
}
```

**åœºæ™¯2ï¼šæ–‡ä»¶ä¸‹è½½å“åº”**

```java
@RestController
public class DownloadController {
    
    @GetMapping("/download/invoice")
    public ResponseEntity<Resource> downloadInvoice() {
        // ç”Ÿæˆå‘ç¥¨å†…å®¹ï¼ˆå¯èƒ½æ˜¯PDFå­—èŠ‚ï¼‰
        byte[] invoiceData = generateInvoicePdf();
        
        ByteArrayResource resource = new ByteArrayResource(invoiceData);
        
        return ResponseEntity.ok()
            .header(HttpHeaders.CONTENT_DISPOSITION, 
                   "attachment; filename=invoice.pdf")
            .body(resource);
    }
}
```

**åœºæ™¯3ï¼šç¼“å­˜æ•°æ®åŒ…è£…**

```java
@Service
public class CacheService {
    
    private final Map<String, byte[]> cache = new HashMap<>();
    
    public Resource getCachedData(String key) {
        byte[] data = cache.get(key);
        if (data != null) {
            // å°†ç¼“å­˜çš„å­—èŠ‚æ•°æ®åŒ…è£…æˆResource
            return new ByteArrayResource(data);
        }
        return null;
    }
}
```

### 5.4 ä½¿ç”¨æ³¨æ„äº‹é¡¹


**å†…å­˜ç®¡ç†**ï¼š

```
å°æ•°æ®ï¼ˆ<1MBï¼‰: âœ… é€‚åˆç”¨ByteArrayResource
ä¸­ç­‰æ•°æ®ï¼ˆ1-10MBï¼‰: âš ï¸ æ³¨æ„å†…å­˜ä½¿ç”¨
å¤§æ•°æ®ï¼ˆ>10MBï¼‰: âŒ å»ºè®®ç”¨ä¸´æ—¶æ–‡ä»¶æˆ–æµå¼å¤„ç†
```

**å¯¹æ¯”å…¶ä»–æ–¹å¼**ï¼š

| æ•°æ®æ¥æº | **æ¨èResource** | **åŸå› ** |
|---------|-----------------|---------|
| åŠ¨æ€ç”Ÿæˆçš„å°æ•°æ® | `ByteArrayResource` | å†…å­˜æ•ˆç‡é«˜ |
| ç½‘ç»œä¼ è¾“çš„æ•°æ® | `ByteArrayResource` | ä¾¿äºç¼“å­˜ |
| å¤§æ–‡ä»¶æ•°æ® | `FileSystemResource` | é¿å…å†…å­˜æº¢å‡º |
| ä¸€æ¬¡æ€§æµæ•°æ® | `InputStreamResource` | èŠ‚çœå†…å­˜ |

---

## 6. ğŸ”„ InputStreamResource-æµèµ„æº


### 6.1 ä»€ä¹ˆæ˜¯InputStreamResource


**é€šä¿—è§£é‡Š**ï¼š
InputStreamResourceæ˜¯æŠŠ**è¾“å…¥æµï¼ˆInputStreamï¼‰**åŒ…è£…æˆResourceçš„å·¥å…·ã€‚

```
ç†è§£è¾“å…¥æµï¼š
æƒ³è±¡æ°´ç®¡é‡Œçš„æ°´æµ,æ•°æ®åƒæ°´ä¸€æ ·æµè¿‡æ¥
æµæ˜¯ä¸€æ¬¡æ€§çš„,è¯»å®Œå°±æ²¡äº†
InputStreamResourceå°±æ˜¯æŠŠè¿™ä¸ª"æµ"åŒ…è£…èµ·æ¥
```

**æ ¸å¿ƒç‰¹ç‚¹**ï¼š
- **ä¸€æ¬¡æ€§ä½¿ç”¨**ï¼šæµè¯»å®Œå°±å…³é—­,ä¸èƒ½é‡å¤è¯»å–
- **é€‚åˆå¤§æ•°æ®**ï¼šè¾¹è¯»è¾¹å¤„ç†,ä¸å ç”¨å¤§é‡å†…å­˜
- **å¤–éƒ¨æµåŒ…è£…**ï¼šé€šå¸¸åŒ…è£…å·²å­˜åœ¨çš„InputStream

### 6.2 åŸºæœ¬ä½¿ç”¨æ–¹å¼


**ç¤ºä¾‹ä»£ç **ï¼š

```java
// åŒ…è£…ä¸€ä¸ªå·²æœ‰çš„è¾“å…¥æµ
InputStream inputStream = ...; // æŸä¸ªè¾“å…¥æµ
Resource resource = new InputStreamResource(inputStream);

// å¸¦æè¿°ä¿¡æ¯
Resource resourceWithDesc = new InputStreamResource(
    inputStream,
    "å¤–éƒ¨è¾“å…¥æµèµ„æº"
);

// è¯»å–æ•°æ®ï¼ˆåªèƒ½è¯»ä¸€æ¬¡ï¼‰
InputStream is = resource.getInputStream();
byte[] data = is.readAllBytes();
```

**é‡è¦ç‰¹æ€§**ï¼š

```java
// âŒ é”™è¯¯ç”¨æ³•ï¼šå°è¯•å¤šæ¬¡è¯»å–
Resource resource = new InputStreamResource(inputStream);
resource.getInputStream(); // ç¬¬ä¸€æ¬¡OK
resource.getInputStream(); // ç¬¬äºŒæ¬¡ä¼šå¤±è´¥ï¼

// âœ… æ­£ç¡®ç†è§£ï¼šä¸€æ¬¡æ€§èµ„æº
Resource resource = new InputStreamResource(inputStream);
try (InputStream is = resource.getInputStream()) {
    // ä¸€æ¬¡æ€§è¯»å–å¤„ç†
    processData(is);
}
```

### 6.3 å…¸å‹åº”ç”¨åœºæ™¯


**åœºæ™¯1ï¼šåŒ…è£…å¤–éƒ¨æµ**

```java
@Service
public class StreamProcessService {
    
    public Resource processExternalStream(InputStream externalStream) {
        // å°†å¤–éƒ¨æµåŒ…è£…æˆResourceç»Ÿä¸€å¤„ç†
        return new InputStreamResource(externalStream) {
            @Override
            public String getDescription() {
                return "å¤„ç†åçš„æ•°æ®æµ";
            }
        };
    }
}
```

**åœºæ™¯2ï¼šç½‘ç»œæµå¤„ç†**

```java
public class NetworkDataHandler {
    
    public Resource fetchDataStream(String url) throws IOException {
        URLConnection conn = new URL(url).openConnection();
        InputStream networkStream = conn.getInputStream();
        
        // åŒ…è£…ç½‘ç»œæµ
        return new InputStreamResource(networkStream);
    }
    
    public void processData(Resource resource) throws IOException {
        // æµå¼å¤„ç†å¤§æ•°æ®
        try (InputStream is = resource.getInputStream();
             BufferedReader reader = new BufferedReader(
                 new InputStreamReader(is))) {
            
            String line;
            while ((line = reader.readLine()) != null) {
                // é€è¡Œå¤„ç†,ä¸å ç”¨å¤§é‡å†…å­˜
                processLine(line);
            }
        }
    }
}
```

**åœºæ™¯3ï¼šæ•°æ®åº“æµå¤„ç†**

```java
@Repository
public class BlobRepository {
    
    public Resource getBlobAsResource(Long id) {
        // ä»æ•°æ®åº“è·å–å¤§å¯¹è±¡æµ
        Blob blob = fetchBlobById(id);
        
        try {
            InputStream blobStream = blob.getBinaryStream();
            return new InputStreamResource(blobStream);
        } catch (SQLException e) {
            throw new RuntimeException("è·å–BLOBæµå¤±è´¥", e);
        }
    }
}
```

### 6.4 ä¸ByteArrayResourceçš„å¯¹æ¯”


**æ ¸å¿ƒåŒºåˆ«**ï¼š

```
ByteArrayResourceï¼ˆå­—èŠ‚æ•°ç»„ï¼‰:
ğŸ’¾ æ•°æ®åœ¨å†…å­˜ â†’ å¯å¤šæ¬¡è¯»å–
ğŸ’¾ é€‚åˆå°æ•°æ® â†’ å…¨éƒ¨åŠ è½½åˆ°å†…å­˜
ğŸ’¾ éšæœºè®¿é—® â†’ å¯ä»¥å¤šæ¬¡getInputStream()

InputStreamResourceï¼ˆè¾“å…¥æµï¼‰:
ğŸ”„ æ•°æ®æ˜¯æµ â†’ åªèƒ½è¯»ä¸€æ¬¡
ğŸ”„ é€‚åˆå¤§æ•°æ® â†’ æµå¼å¤„ç†
ğŸ”„ é¡ºåºè®¿é—® â†’ getInputStream()åªèƒ½è°ƒç”¨ä¸€æ¬¡
```

**é€‰æ‹©æŒ‡å—**ï¼š

| åœºæ™¯ | **é€‰æ‹©** | **ç†ç”±** |
|-----|---------|---------|
| å°æ–‡ä»¶ï¼ˆ<1MBï¼‰ | `ByteArrayResource` | å¯é‡å¤è¯»å– |
| å¤§æ–‡ä»¶ï¼ˆ>10MBï¼‰ | `InputStreamResource` | èŠ‚çœå†…å­˜ |
| éœ€è¦å¤šæ¬¡è¯»å– | `ByteArrayResource` | æµæ˜¯ä¸€æ¬¡æ€§çš„ |
| å¤–éƒ¨æµåŒ…è£… | `InputStreamResource` | ç›´æ¥åŒ…è£… |

> **ğŸ’¡ ä½¿ç”¨å»ºè®®**
> 
> å¦‚æœä¸ç¡®å®šé€‰å“ªä¸ªï¼š
> - æ•°æ®å° â†’ ByteArrayResource
> - æ•°æ®å¤§ â†’ InputStreamResource
> - éœ€è¦é‡å¤è¯» â†’ ByteArrayResource
> - æµå¼å¤„ç† â†’ InputStreamResource

---

## 7. ğŸŒ ServletContextResource-Webèµ„æº


### 7.1 ä»€ä¹ˆæ˜¯ServletContextResource


**é€šä¿—è§£é‡Š**ï¼š
ServletContextResourceæ˜¯ä¸“é—¨è¯»å–**Webåº”ç”¨ç‰¹å®šç›®å½•**èµ„æºçš„å·¥å…·ã€‚

```
Webåº”ç”¨ç›®å½•ç»“æ„ï¼š
webapp/
  â”œâ”€â”€ WEB-INF/
  â”‚   â”œâ”€â”€ web.xml
  â”‚   â””â”€â”€ classes/       â† ç±»è·¯å¾„
  â”œâ”€â”€ static/
  â”‚   â”œâ”€â”€ css/
  â”‚   â””â”€â”€ images/
  â””â”€â”€ templates/
      â””â”€â”€ index.html

ServletContextResourceä¸“é—¨è¯»å–è¿™äº›Webåº”ç”¨èµ„æº
```

**æ ¸å¿ƒä½œç”¨**ï¼šåœ¨Webç¯å¢ƒä¸­,è¯»å–ç›¸å¯¹äºWebåº”ç”¨æ ¹ç›®å½•çš„èµ„æºã€‚

### 7.2 åŸºæœ¬ä½¿ç”¨æ–¹å¼


**ç¤ºä¾‹ä»£ç **ï¼š

```java
@Controller
public class WebResourceController {
    
    @Autowired
    private ServletContext servletContext;
    
    public void loadWebResource() throws IOException {
        // è¯»å–Webåº”ç”¨æ ¹ç›®å½•ä¸‹çš„èµ„æº
        Resource resource = new ServletContextResource(
            servletContext, 
            "/static/images/logo.png"
        );
        
        // è¯»å–WEB-INFä¸‹çš„èµ„æº
        Resource configResource = new ServletContextResource(
            servletContext,
            "/WEB-INF/config.xml"
        );
        
        if (resource.exists()) {
            InputStream is = resource.getInputStream();
            // å¤„ç†èµ„æº...
        }
    }
}
```

**è·¯å¾„è§„åˆ™**ï¼š
- è·¯å¾„ä»¥`/`å¼€å¤´,ç›¸å¯¹äº**Webåº”ç”¨æ ¹ç›®å½•**
- `/static/image.png` â†’ `webapp/static/image.png`
- `/WEB-INF/config.xml` â†’ `webapp/WEB-INF/config.xml`

### 7.3 å…¸å‹åº”ç”¨åœºæ™¯


**åœºæ™¯1ï¼šè¯»å–é™æ€èµ„æº**

```java
@Service
public class StaticResourceService {
    
    @Autowired
    private ServletContext servletContext;
    
    public Resource getStaticImage(String imageName) {
        String path = "/static/images/" + imageName;
        return new ServletContextResource(servletContext, path);
    }
    
    public byte[] loadImage(String imageName) throws IOException {
        Resource imageResource = getStaticImage(imageName);
        return imageResource.getInputStream().readAllBytes();
    }
}
```

**åœºæ™¯2ï¼šæ¨¡æ¿æ–‡ä»¶åŠ è½½**

```java
@Controller
public class TemplateController {
    
    @Autowired
    private ServletContext servletContext;
    
    public String loadTemplate(String templateName) throws IOException {
        Resource template = new ServletContextResource(
            servletContext,
            "/templates/" + templateName + ".html"
        );
        
        return new String(template.getInputStream().readAllBytes());
    }
}
```

**åœºæ™¯3ï¼šWebé…ç½®è¯»å–**

```java
@Configuration
public class WebConfigLoader {
    
    @Autowired
    private ServletContext servletContext;
    
    @PostConstruct
    public void init() throws IOException {
        // è¯»å–Webåº”ç”¨é…ç½®
        Resource configResource = new ServletContextResource(
            servletContext,
            "/WEB-INF/app-config.properties"
        );
        
        if (configResource.exists()) {
            Properties props = new Properties();
            props.load(configResource.getInputStream());
            // åˆå§‹åŒ–é…ç½®...
        }
    }
}
```

### 7.4 Webç¯å¢ƒç‰¹æ€§


**ä¸å…¶ä»–Resourceçš„åŒºåˆ«**ï¼š

```
ClassPathResource:
ğŸ“¦ è¯»å–classpathèµ„æºï¼ˆæ‰“åŒ…åœ¨JARé‡Œï¼‰
ğŸ“¦ è·¯å¾„ç›¸å¯¹äºç±»è·¯å¾„æ ¹
ğŸ“¦ é€‚åˆï¼šé…ç½®æ–‡ä»¶ã€Javaèµ„æº

ServletContextResource:
ğŸŒ è¯»å–Webåº”ç”¨èµ„æºï¼ˆéƒ¨ç½²ç›®å½•ï¼‰
ğŸŒ è·¯å¾„ç›¸å¯¹äºWebæ ¹ç›®å½•
ğŸŒ é€‚åˆï¼šé™æ€æ–‡ä»¶ã€Webé…ç½®ã€æ¨¡æ¿

FileSystemResource:
ğŸ“ è¯»å–æ“ä½œç³»ç»Ÿæ–‡ä»¶
ğŸ“ ç»å¯¹/ç›¸å¯¹è·¯å¾„
ğŸ“ é€‚åˆï¼šç”¨æˆ·ä¸Šä¼ ã€ä¸´æ—¶æ–‡ä»¶
```

**ä½¿ç”¨é™åˆ¶**ï¼š

> **âš ï¸ é‡è¦æé†’**
> 
> ServletContextResourceåªèƒ½åœ¨**Webç¯å¢ƒ**ä¸­ä½¿ç”¨ï¼š
> - âœ… Spring MVCåº”ç”¨
> - âœ… Spring Boot Webåº”ç”¨
> - âŒ æ™®é€šJavaåº”ç”¨
> - âŒ å•å…ƒæµ‹è¯•ç¯å¢ƒ

**è·å–ServletContextæ–¹å¼**ï¼š

```java
// æ–¹å¼1ï¼šè‡ªåŠ¨æ³¨å…¥
@Autowired
private ServletContext servletContext;

// æ–¹å¼2ï¼šä»Requestè·å–
HttpServletRequest request = ...;
ServletContext context = request.getServletContext();

// æ–¹å¼3ï¼šå®ç°æ¥å£
public class MyComponent implements ServletContextAware {
    private ServletContext servletContext;
    
    @Override
    public void setServletContext(ServletContext servletContext) {
        this.servletContext = servletContext;
    }
}
```

---

## 8. ğŸ¯ å®ç°ç±»é€‰æ‹©æŒ‡å—


### 8.1 é€‰æ‹©å†³ç­–æµç¨‹


```
èµ„æºä½ç½®å†³ç­–æ ‘ï¼š

1. èµ„æºåœ¨å“ªé‡Œï¼Ÿ
   â”‚
   â”œâ”€ é¡¹ç›®ä»£ç åŒ…å†… â†’ ClassPathResource
   â”‚   â””â”€ ç¤ºä¾‹ï¼šsrc/main/resources/config.xml
   â”‚
   â”œâ”€ æ“ä½œç³»ç»Ÿæ–‡ä»¶ â†’ FileSystemResource  
   â”‚   â””â”€ ç¤ºä¾‹ï¼š/var/data/upload.txt
   â”‚
   â”œâ”€ ç½‘ç»œåœ°å€ â†’ UrlResource
   â”‚   â””â”€ ç¤ºä¾‹ï¼šhttp://api.com/data.json
   â”‚
   â”œâ”€ å†…å­˜å­—èŠ‚æ•°ç»„ â†’ ByteArrayResource
   â”‚   â””â”€ ç¤ºä¾‹ï¼šåŠ¨æ€ç”Ÿæˆçš„byte[]æ•°æ®
   â”‚
   â”œâ”€ å¤–éƒ¨è¾“å…¥æµ â†’ InputStreamResource
   â”‚   â””â”€ ç¤ºä¾‹ï¼šç½‘ç»œæµã€æ•°æ®åº“æµ
   â”‚
   â””â”€ Webåº”ç”¨ç›®å½• â†’ ServletContextResource
       â””â”€ ç¤ºä¾‹ï¼šwebapp/static/image.png
```

### 8.2 åœºæ™¯åŒ¹é…è¡¨


| åº”ç”¨åœºæ™¯ | **æ¨èå®ç°ç±»** | **ç†ç”±** |
|---------|---------------|---------|
| è¯»å–é…ç½®æ–‡ä»¶ | `ClassPathResource` | éšåº”ç”¨æ‰“åŒ…,ä¾¿äºéƒ¨ç½² |
| ç”¨æˆ·ä¸Šä¼ æ–‡ä»¶ | `FileSystemResource` | ç‹¬ç«‹å­˜å‚¨,å¯ä¿®æ”¹ |
| ä¸‹è½½ç½‘ç»œæ•°æ® | `UrlResource` | ç›´æ¥ç½‘ç»œåè®®æ”¯æŒ |
| åŠ¨æ€ç”Ÿæˆå†…å®¹ | `ByteArrayResource` | å†…å­˜æ“ä½œå¿«é€Ÿ |
| å¤§æ–‡ä»¶æµå¤„ç† | `InputStreamResource` | èŠ‚çœå†…å­˜ |
| Webé™æ€èµ„æº | `ServletContextResource` | Webç¯å¢ƒä¼˜åŒ– |

### 8.3 æ€§èƒ½å¯¹æ¯”


**è¯»å–é€Ÿåº¦**ï¼š
```
ByteArrayResource    âš¡âš¡âš¡âš¡âš¡ (æœ€å¿«,å†…å­˜è¯»å–)
ClassPathResource    âš¡âš¡âš¡âš¡â˜† (å¿«,JARå†…è¯»å–)
FileSystemResource   âš¡âš¡âš¡â˜†â˜† (ä¸­,ç£ç›˜IO)
ServletContextResource âš¡âš¡âš¡â˜†â˜† (ä¸­,Webå®¹å™¨)
InputStreamResource  âš¡âš¡â˜†â˜†â˜† (æ…¢,æµå¼å¤„ç†)
UrlResource          âš¡â˜†â˜†â˜†â˜† (æœ€æ…¢,ç½‘ç»œä¼ è¾“)
```

**å†…å­˜å ç”¨**ï¼š
```
InputStreamResource  ğŸ’¾â˜†â˜†â˜†â˜† (æœ€å°,æµå¼)
UrlResource          ğŸ’¾â˜†â˜†â˜†â˜† (å°,æŒ‰éœ€åŠ è½½)
FileSystemResource   ğŸ’¾ğŸ’¾â˜†â˜†â˜† (å°,å¼•ç”¨æ–‡ä»¶)
ClassPathResource    ğŸ’¾ğŸ’¾ğŸ’¾â˜†â˜† (ä¸­,JARåŠ è½½)
ServletContextResource ğŸ’¾ğŸ’¾ğŸ’¾â˜†â˜† (ä¸­,å®¹å™¨ç®¡ç†)
ByteArrayResource    ğŸ’¾ğŸ’¾ğŸ’¾ğŸ’¾ğŸ’¾ (æœ€å¤§,å…¨å†…å­˜)
```

### 8.4 æœ€ä½³å®è·µå»ºè®®


**å®è·µ1ï¼šä¼˜å…ˆä½¿ç”¨é«˜å±‚æŠ½è±¡**

```java
// âœ… æ¨èï¼šè®©Springè‡ªåŠ¨é€‰æ‹©
@Value("classpath:config.xml")
private Resource configResource;

@Value("file:/data/upload.txt")
private Resource fileResource;

@Value("http://example.com/data.json")
private Resource urlResource;

// Springä¼šæ ¹æ®å‰ç¼€è‡ªåŠ¨é€‰æ‹©åˆé€‚çš„å®ç°ç±»
```

**å®è·µ2ï¼šç»Ÿä¸€èµ„æºå¤„ç†**

```java
@Service
public class UnifiedResourceService {
    
    public void processResource(Resource resource) throws IOException {
        // ç»Ÿä¸€å¤„ç†æ¥å£,ä¸å…³å¿ƒå…·ä½“å®ç°
        if (resource.exists() && resource.isReadable()) {
            try (InputStream is = resource.getInputStream()) {
                // å¤„ç†èµ„æº...
            }
        }
    }
}
```

**å®è·µ3ï¼šæ ¹æ®ç¯å¢ƒé€‰æ‹©**

```java
@Configuration
public class ResourceConfig {
    
    @Bean
    public Resource dataResource(
            @Value("${data.source.type}") String sourceType,
            @Value("${data.source.path}") String path) {
        
        switch (sourceType) {
            case "classpath":
                return new ClassPathResource(path);
            case "file":
                return new FileSystemResource(path);
            case "http":
                return new UrlResource(path);
            default:
                throw new IllegalArgumentException("æœªçŸ¥èµ„æºç±»å‹");
        }
    }
}
```

**å®è·µ4ï¼šå¼‚å¸¸å¤„ç†**

```java
public Resource loadResourceSafely(String location) {
    try {
        Resource resource = new ClassPathResource(location);
        if (resource.exists()) {
            return resource;
        }
        
        // é™çº§åˆ°æ–‡ä»¶ç³»ç»Ÿ
        resource = new FileSystemResource(location);
        if (resource.exists()) {
            return resource;
        }
        
        throw new ResourceNotFoundException("èµ„æºä¸å­˜åœ¨: " + location);
        
    } catch (IOException e) {
        throw new ResourceLoadException("èµ„æºåŠ è½½å¤±è´¥", e);
    }
}
```

---

## 9. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 9.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ èµ„æºå®ç°ç±»ï¼šé’ˆå¯¹ä¸åŒä½ç½®çš„èµ„æº,ä½¿ç”¨ä¸“é—¨çš„å®ç°ç±»
ğŸ”¸ ClassPathResourceï¼šé¡¹ç›®å†…èµ„æº,éšJARæ‰“åŒ…
ğŸ”¸ FileSystemResourceï¼šæ“ä½œç³»ç»Ÿæ–‡ä»¶,ç‹¬ç«‹å­˜å‚¨
ğŸ”¸ UrlResourceï¼šç½‘ç»œèµ„æº,HTTP/FTPåè®®
ğŸ”¸ ByteArrayResourceï¼šå†…å­˜æ•°æ®,å¿«é€Ÿè®¿é—®
ğŸ”¸ InputStreamResourceï¼šæµå¼æ•°æ®,èŠ‚çœå†…å­˜
ğŸ”¸ ServletContextResourceï¼šWebèµ„æº,å®¹å™¨ç®¡ç†
```

### 9.2 é€‰æ‹©å®ç°ç±»çš„å…³é”®é—®é¢˜


**ä¸‰ä¸ªæ ¸å¿ƒé—®é¢˜**ï¼š

```
é—®é¢˜1ï¼šèµ„æºåœ¨å“ªé‡Œï¼Ÿ
â†’ é¡¹ç›®å†…ï¼šClassPathResource
â†’ æ–‡ä»¶ç³»ç»Ÿï¼šFileSystemResource
â†’ ç½‘ç»œï¼šUrlResource
â†’ å†…å­˜ï¼šByteArrayResource
â†’ Webåº”ç”¨ï¼šServletContextResource

é—®é¢˜2ï¼šæ•°æ®é‡å¤šå¤§ï¼Ÿ
â†’ å°æ•°æ®ï¼šByteArrayResourceï¼ˆå¯é‡å¤è¯»ï¼‰
â†’ å¤§æ•°æ®ï¼šInputStreamResourceï¼ˆæµå¼å¤„ç†ï¼‰

é—®é¢˜3ï¼šæ˜¯å¦éœ€è¦ä¿®æ”¹ï¼Ÿ
â†’ åªè¯»ï¼šClassPathResource
â†’ å¯å†™ï¼šFileSystemResource
```

### 9.3 å®é™…åº”ç”¨ä»·å€¼


**ä¸šåŠ¡åœºæ™¯æ˜ å°„**ï¼š

| ä¸šåŠ¡éœ€æ±‚ | **èµ„æºå®ç°** | **åº”ç”¨ç¤ºä¾‹** |
|---------|-------------|-------------|
| è¯»å–é…ç½® | `ClassPathResource` | application.properties |
| æ–‡ä»¶ä¸Šä¼  | `FileSystemResource` | ç”¨æˆ·å¤´åƒã€é™„ä»¶ |
| æ¥å£è°ƒç”¨ | `UrlResource` | ç¬¬ä¸‰æ–¹APIæ•°æ® |
| å†…å®¹ç”Ÿæˆ | `ByteArrayResource` | æŠ¥è¡¨ã€éªŒè¯ç  |
| å¤§æ–‡ä»¶å¤„ç† | `InputStreamResource` | æ—¥å¿—åˆ†æã€å¯¼å…¥ |
| é™æ€èµ„æº | `ServletContextResource` | CSSã€JSã€å›¾ç‰‡ |

### 9.4 è®°å¿†æŠ€å·§


**å£è¯€è®°å¿†**ï¼š
```
é¡¹ç›®é…ç½®ç”¨ClassPath,æ–‡ä»¶ç³»ç»ŸFileSystemæ‰¾
ç½‘ç»œèµ„æºç”¨Urlè¯»,å­—èŠ‚æ•°ç»„å†…å­˜è·‘
è¾“å…¥æµå¼å¤§æ•°æ®,Webåº”ç”¨ServletContextå¥½
```

**ç±»æ¯”è®°å¿†**ï¼š
```
ClassPathResource â†’ ä¹¦åŒ…é‡Œçš„æ•™æï¼ˆéšèº«æºå¸¦ï¼‰
FileSystemResource â†’ å®¶é‡Œçš„ä¹¦æ¶ï¼ˆå›ºå®šä½ç½®ï¼‰
UrlResource â†’ å›¾ä¹¦é¦†å€Ÿä¹¦ï¼ˆè¿œç¨‹è·å–ï¼‰
ByteArrayResource â†’ è„‘å­é‡Œçš„ç¬”è®°ï¼ˆå¿«é€Ÿè®¿é—®ï¼‰
InputStreamResource â†’ æµæ°´çº¿ä¼ é€ï¼ˆä¸€æ¬¡é€šè¿‡ï¼‰
ServletContextResource â†’ æ•™å®¤é‡Œçš„èµ„æ–™ï¼ˆç‰¹å®šç¯å¢ƒï¼‰
```

### 9.5 å¸¸è§é”™è¯¯ä¸é¿å‘


**é”™è¯¯1ï¼šè·¯å¾„å†™æ³•æ··æ·†**
```java
// âŒ ClassPathResourceä¸è¦åŠ /å¼€å¤´
new ClassPathResource("/config.xml")

// âœ… æ­£ç¡®å†™æ³•
new ClassPathResource("config.xml")
```

**é”™è¯¯2ï¼šé‡å¤è¯»å–æµèµ„æº**
```java
// âŒ InputStreamResourceåªèƒ½è¯»ä¸€æ¬¡
InputStreamResource res = new InputStreamResource(stream);
res.getInputStream(); // OK
res.getInputStream(); // å¤±è´¥ï¼

// âœ… ä½¿ç”¨ByteArrayResourceæ”¯æŒé‡å¤è¯»
byte[] data = stream.readAllBytes();
new ByteArrayResource(data); // å¯å¤šæ¬¡è¯»å–
```

**é”™è¯¯3ï¼šå¤§æ•°æ®ç”¨ByteArray**
```java
// âŒ 100MBæ•°æ®å…¨éƒ¨åŠ è½½åˆ°å†…å­˜
byte[] bigData = loadBigFile(); // å ç”¨å¤§é‡å†…å­˜
new ByteArrayResource(bigData);

// âœ… ä½¿ç”¨æµå¼å¤„ç†
InputStream stream = new FileInputStream("bigfile.dat");
new InputStreamResource(stream);
```

**æ ¸å¿ƒè®°å¿†**ï¼š
- å…­å¤§å®ç°ç±»,å„å¸å…¶èŒ,é€‰å¯¹åœºæ™¯
- ClassPathé¡¹ç›®å†…,FileSystemç³»ç»Ÿæ–‡ä»¶
- Urlç½‘ç»œèµ„æº,ByteArrayå†…å­˜å¿«
- InputStreamå¤§æ•°æ®,ServletContextä¸“ç”¨Web
- ç»Ÿä¸€Resourceæ¥å£,å±è”½å®ç°ç»†èŠ‚