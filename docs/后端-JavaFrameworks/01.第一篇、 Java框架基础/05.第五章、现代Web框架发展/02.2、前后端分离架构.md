---
title: 2ã€å‰åç«¯åˆ†ç¦»æ¶æ„
---
## ğŸ“š ç›®å½•

1. [å‰åç«¯åˆ†ç¦»æ¦‚è¿°](#1-å‰åç«¯åˆ†ç¦»æ¦‚è¿°)
2. [RESTful APIè®¾è®¡](#2-RESTful-APIè®¾è®¡)
3. [JSONæ•°æ®æ ¼å¼å¤„ç†](#3-JSONæ•°æ®æ ¼å¼å¤„ç†)
4. [AJAXå¼‚æ­¥è¯·æ±‚](#4-AJAXå¼‚æ­¥è¯·æ±‚)
5. [è·¨åŸŸé—®é¢˜è§£å†³](#5-è·¨åŸŸé—®é¢˜è§£å†³)
6. [APIç‰ˆæœ¬ç®¡ç†](#6-APIç‰ˆæœ¬ç®¡ç†)
7. [ç»Ÿä¸€è¿”å›æ ¼å¼](#7-ç»Ÿä¸€è¿”å›æ ¼å¼)
8. [å¼‚å¸¸ç»Ÿä¸€å¤„ç†](#8-å¼‚å¸¸ç»Ÿä¸€å¤„ç†)
9. [æ¥å£æ–‡æ¡£ç®¡ç†](#9-æ¥å£æ–‡æ¡£ç®¡ç†)
10. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#10-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸŒ å‰åç«¯åˆ†ç¦»æ¦‚è¿°


### 1.1 ä»€ä¹ˆæ˜¯å‰åç«¯åˆ†ç¦»


**ğŸ”¸ ä¼ ç»Ÿå¼€å‘æ¨¡å¼ï¼ˆå‰åç«¯ä¸åˆ†ç¦»ï¼‰**
```
ç”¨æˆ·è¯·æ±‚ â†’ åç«¯æœåŠ¡å™¨ â†’ æ¸²æŸ“HTMLé¡µé¢ â†’ è¿”å›å®Œæ•´é¡µé¢
```

æƒ³è±¡ä¸€ä¸‹ï¼Œè¿™å°±åƒå»é¤å…åƒé¥­ï¼Œå¨å¸ˆæ—¢è¦åšèœï¼Œåˆè¦ç«¯ç›˜å­ï¼Œè¿˜è¦æ”¶é“¶ï¼Œä¸€ä¸ªäººå¹²æ‰€æœ‰çš„æ´»å„¿ã€‚

**ğŸ”¸ å‰åç«¯åˆ†ç¦»æ¨¡å¼**
```
å‰ç«¯é¡µé¢ â†â†’ APIæ¥å£ â†â†’ åç«¯æœåŠ¡
   â†“          â†“         â†“
React/Vue   JSONæ•°æ®   Spring Boot
```

ç°åœ¨å˜æˆäº†ä¸“ä¸šåˆ†å·¥ï¼šå‰ç«¯ä¸“é—¨è´Ÿè´£é¡µé¢å±•ç¤ºï¼ˆåƒæœåŠ¡å‘˜ï¼‰ï¼Œåç«¯ä¸“é—¨è´Ÿè´£æ•°æ®å¤„ç†ï¼ˆåƒå¨å¸ˆï¼‰ï¼Œé€šè¿‡APIï¼ˆåƒä¼ èœå£ï¼‰æ¥äº¤æµã€‚

### 1.2 å‰åç«¯åˆ†ç¦»çš„å¥½å¤„


**ğŸ¯ æ ¸å¿ƒä¼˜åŠ¿**

| ä¼ ç»Ÿæ¨¡å¼é—®é¢˜ | åˆ†ç¦»æ¨¡å¼è§£å†³ | æ¯”å–»è¯´æ˜ |
|------------|------------|---------|
| å‰åç«¯è€¦åˆä¸¥é‡ | ç‹¬ç«‹å¼€å‘éƒ¨ç½² | å¨å¸ˆå’ŒæœåŠ¡å‘˜å¯ä»¥å„å¹²å„çš„ |
| å¼€å‘æ•ˆç‡ä½ä¸‹ | å¹¶è¡Œå¼€å‘ | ä¸¤ä¸ªäººåŒæ—¶å·¥ä½œæ¯”ä¸€ä¸ªäººå¿« |
| æŠ€æœ¯æ ˆå—é™ | æŠ€æœ¯é€‰æ‹©çµæ´» | å¨å¸ˆç”¨ç‚’é”…ï¼ŒæœåŠ¡å‘˜ç”¨æ‰˜ç›˜ï¼Œå„ç”¨å„çš„å·¥å…· |
| éš¾ä»¥æ‰©å±• | ç‹¬ç«‹æ‰©å±• | å®¢äººå¤šäº†å¯ä»¥å¤šåŠ æœåŠ¡å‘˜ï¼Œèœå“å¤æ‚å¯ä»¥å¤šåŠ å¨å¸ˆ |

### 1.3 æ¶æ„å¯¹æ¯”å›¾ç¤º


```
ä¼ ç»Ÿæ¶æ„ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         ä¸€ä½“åŒ–åº”ç”¨              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  å‰ç«¯   â”‚  â”‚    åç«¯     â”‚   â”‚
â”‚  â”‚  é¡µé¢   â”‚  â”‚   ä¸šåŠ¡é€»è¾‘   â”‚   â”‚  
â”‚  â”‚  æ¨¡æ¿   â”‚  â”‚   æ•°æ®åº“     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

å‰åç«¯åˆ†ç¦»æ¶æ„ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    API     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    å‰ç«¯åº”ç”¨  â”‚ â†â”€â”€â”€â”€â”€â”€â†’   â”‚   åç«¯æœåŠ¡   â”‚
â”‚             â”‚   JSON     â”‚             â”‚
â”‚ React/Vue   â”‚            â”‚ Spring Boot â”‚
â”‚ é¡µé¢æ¸²æŸ“    â”‚            â”‚ ä¸šåŠ¡é€»è¾‘    â”‚
â”‚ ç”¨æˆ·äº¤äº’    â”‚            â”‚ æ•°æ®å¤„ç†    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. ğŸ”„ RESTful APIè®¾è®¡


### 2.1 ä»€ä¹ˆæ˜¯REST


**REST**å…¨ç§°æ˜¯ **RE**presentational **S**tate **T**ransferï¼ˆè¡¨ç°çŠ¶æ€è½¬æ¢ï¼‰ã€‚å¬èµ·æ¥å¾ˆç»•å¯¹å§ï¼Ÿ

**ğŸ”¸ é€šä¿—è§£é‡Š**
æƒ³è±¡ä½ å»å›¾ä¹¦é¦†ï¼š
- **èµ„æºï¼ˆResourceï¼‰**ï¼šå°±æ˜¯ä¹¦æœ¬
- **è¡¨ç°ï¼ˆRepresentationï¼‰**ï¼šä¹¦çš„ä¿¡æ¯ï¼ˆä¹¦åã€ä½œè€…ã€é¡µæ•°ï¼‰
- **çŠ¶æ€è½¬æ¢ï¼ˆState Transferï¼‰**ï¼šå€Ÿä¹¦ã€è¿˜ä¹¦ã€ç»­å€Ÿè¿™äº›æ“ä½œ

RESTå°±æ˜¯ç”¨ç»Ÿä¸€çš„æ–¹å¼æ¥æ“ä½œç½‘ç»œä¸Šçš„"èµ„æº"ã€‚

### 2.2 RESTfulè®¾è®¡åŸåˆ™


**ğŸ”¸ æ ¸å¿ƒåŸåˆ™**

1. **èµ„æºå¯¼å‘**ï¼šä¸€åˆ‡çš†èµ„æº
2. **ç»Ÿä¸€æ¥å£**ï¼šç”¨HTTPæ–¹æ³•è¡¨ç¤ºæ“ä½œ
3. **æ— çŠ¶æ€**ï¼šæ¯æ¬¡è¯·æ±‚ç‹¬ç«‹å®Œæ•´
4. **å¯ç¼“å­˜**ï¼šå“åº”å¯ä»¥è¢«ç¼“å­˜

### 2.3 HTTPæ–¹æ³•å¯¹åº”çš„æ“ä½œ


| HTTPæ–¹æ³• | æ“ä½œå«ä¹‰ | ç”Ÿæ´»æ¯”å–» | APIç¤ºä¾‹ |
|---------|---------|---------|--------|
| `GET` | è·å–èµ„æº | ğŸ“– çœ‹ä¹¦ | `GET /api/users/1` |
| `POST` | åˆ›å»ºèµ„æº | âœï¸ å†™æ–°æ—¥è®° | `POST /api/users` |
| `PUT` | å®Œæ•´æ›´æ–° | ğŸ“ é‡å†™æ•´ç¯‡æ–‡ç«  | `PUT /api/users/1` |
| `PATCH` | éƒ¨åˆ†æ›´æ–° | âœï¸ ä¿®æ”¹é”™åˆ«å­— | `PATCH /api/users/1` |
| `DELETE` | åˆ é™¤èµ„æº | ğŸ—‘ï¸ æ‰”æ‰åºŸçº¸ | `DELETE /api/users/1` |

### 2.4 RESTful URLè®¾è®¡è§„èŒƒ


**âœ… å¥½çš„è®¾è®¡**
```
è·å–ç”¨æˆ·åˆ—è¡¨ï¼š   GET    /api/users
è·å–å•ä¸ªç”¨æˆ·ï¼š   GET    /api/users/123
åˆ›å»ºæ–°ç”¨æˆ·ï¼š     POST   /api/users
æ›´æ–°ç”¨æˆ·ä¿¡æ¯ï¼š   PUT    /api/users/123
åˆ é™¤ç”¨æˆ·ï¼š       DELETE /api/users/123

è·å–ç”¨æˆ·çš„è®¢å•ï¼š GET    /api/users/123/orders
```

**âŒ ä¸å¥½çš„è®¾è®¡**
```
âŒ GET  /api/getUserList
âŒ POST /api/createUser  
âŒ GET  /api/user/delete/123
```

**ğŸ”¸ è®¾è®¡è¦ç‚¹**
- ä½¿ç”¨åè¯ï¼Œä¸ç”¨åŠ¨è¯
- ç”¨å¤æ•°å½¢å¼è¡¨ç¤ºèµ„æºé›†åˆ
- ç”¨HTTPæ–¹æ³•è¡¨ç¤ºæ“ä½œç±»å‹
- å±‚æ¬¡ç»“æ„æ¸…æ™°åˆç†

---

## 3. ğŸ“„ JSONæ•°æ®æ ¼å¼å¤„ç†


### 3.1 ä¸ºä»€ä¹ˆä½¿ç”¨JSON


**JSON**ï¼ˆJavaScript Object Notationï¼‰æ˜¯ä¸€ç§è½»é‡çº§çš„æ•°æ®äº¤æ¢æ ¼å¼ã€‚

**ğŸ”¸ JSON vs å…¶ä»–æ ¼å¼**

```
XMLæ ¼å¼ï¼ˆå•°å—¦ï¼‰ï¼š
<user>
    <id>1</id>
    <name>å¼ ä¸‰</name>
    <age>25</age>
</user>

JSONæ ¼å¼ï¼ˆç®€æ´ï¼‰ï¼š
{
    "id": 1,
    "name": "å¼ ä¸‰",
    "age": 25
}
```

å°±åƒå†™ä¿¡ä¸€æ ·ï¼ŒJSONæ˜¯å‘çŸ­ä¿¡ï¼ŒXMLæ˜¯å†™æ­£å¼å…¬å‡½ã€‚

### 3.2 Spring Bootä¸­çš„JSONå¤„ç†


**ğŸ”¸ è‡ªåŠ¨åºåˆ—åŒ–**
Spring Booté»˜è®¤ä½¿ç”¨Jacksonåº“ï¼Œå¯ä»¥è‡ªåŠ¨æŠŠJavaå¯¹è±¡è½¬æ¢æˆJSONã€‚

```java
// ç”¨æˆ·å®ä½“ç±»
public class User {
    private Long id;
    private String name;
    private Integer age;
    
    // æ„é€ æ–¹æ³•ã€getterã€setterçœç•¥...
}

// æ§åˆ¶å™¨
@RestController
@RequestMapping("/api/users")
public class UserController {
    
    // è¿”å›å•ä¸ªç”¨æˆ· - è‡ªåŠ¨è½¬æ¢ä¸ºJSON
    @GetMapping("/{id}")
    public User getUser(@PathVariable Long id) {
        return new User(1L, "å¼ ä¸‰", 25);
        // è‡ªåŠ¨è½¬æ¢ä¸º: {"id":1,"name":"å¼ ä¸‰","age":25}
    }
    
    // è¿”å›ç”¨æˆ·åˆ—è¡¨
    @GetMapping
    public List<User> getAllUsers() {
        return Arrays.asList(
            new User(1L, "å¼ ä¸‰", 25),
            new User(2L, "æå››", 30)
        );
    }
}
```

### 3.3 JSONå¸¸è§æ³¨è§£


**ğŸ”¸ æ§åˆ¶JSONè¾“å‡ºæ ¼å¼**

```java
public class User {
    private Long id;
    
    @JsonProperty("user_name")  // è‡ªå®šä¹‰å­—æ®µå
    private String name;
    
    @JsonIgnore  // å¿½ç•¥æ­¤å­—æ®µï¼Œä¸è¾“å‡ºåˆ°JSON
    private String password;
    
    @JsonFormat(pattern = "yyyy-MM-dd HH:mm:ss")  // æ—¥æœŸæ ¼å¼åŒ–
    private LocalDateTime createTime;
}
```

---

## 4. ğŸ”„ AJAXå¼‚æ­¥è¯·æ±‚


### 4.1 ä»€ä¹ˆæ˜¯AJAX


**AJAX**ï¼ˆAsynchronous JavaScript and XMLï¼‰å¼‚æ­¥JavaScriptå’ŒXMLã€‚

**ğŸ”¸ åŒæ­¥ vs å¼‚æ­¥**

```
åŒæ­¥è¯·æ±‚ï¼ˆä¼ ç»Ÿæ–¹å¼ï¼‰ï¼š
ç”¨æˆ·ç‚¹å‡» â†’ é¡µé¢ç™½å± â†’ ç­‰å¾…æœåŠ¡å™¨å“åº” â†’ åˆ·æ–°æ•´ä¸ªé¡µé¢
å°±åƒæ‰“ç”µè¯ï¼Œå¿…é¡»ç­‰å¯¹æ–¹æ¥äº†æ‰èƒ½è¯´è¯

å¼‚æ­¥è¯·æ±‚ï¼ˆAJAXæ–¹å¼ï¼‰ï¼š
ç”¨æˆ·ç‚¹å‡» â†’ é¡µé¢æ­£å¸¸ â†’ åå°å‘é€è¯·æ±‚ â†’ å±€éƒ¨æ›´æ–°é¡µé¢  
å°±åƒå‘å¾®ä¿¡ï¼Œå‘å®Œå¯ä»¥ç»§ç»­å¹²åˆ«çš„äº‹
```

### 4.2 å‰ç«¯å‘èµ·AJAXè¯·æ±‚


**ğŸ”¸ ä½¿ç”¨fetch API**

```javascript
// GETè¯·æ±‚è·å–ç”¨æˆ·ä¿¡æ¯
async function getUser(userId) {
    try {
        const response = await fetch(`/api/users/${userId}`);
        const user = await response.json();
        console.log('ç”¨æˆ·ä¿¡æ¯:', user);
        return user;
    } catch (error) {
        console.error('è¯·æ±‚å¤±è´¥:', error);
    }
}

// POSTè¯·æ±‚åˆ›å»ºç”¨æˆ·
async function createUser(userData) {
    try {
        const response = await fetch('/api/users', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(userData)
        });
        
        if (response.ok) {
            const newUser = await response.json();
            console.log('åˆ›å»ºæˆåŠŸ:', newUser);
        }
    } catch (error) {
        console.error('åˆ›å»ºå¤±è´¥:', error);
    }
}
```

### 4.3 åç«¯æ¥æ”¶AJAXè¯·æ±‚


```java
@RestController
@RequestMapping("/api/users")
public class UserController {
    
    // å¤„ç†GETè¯·æ±‚
    @GetMapping("/{id}")
    public ResponseEntity<User> getUser(@PathVariable Long id) {
        User user = userService.findById(id);
        if (user != null) {
            return ResponseEntity.ok(user);  // è¿”å›200çŠ¶æ€ç 
        } else {
            return ResponseEntity.notFound().build();  // è¿”å›404
        }
    }
    
    // å¤„ç†POSTè¯·æ±‚
    @PostMapping
    public ResponseEntity<User> createUser(@RequestBody User user) {
        User savedUser = userService.save(user);
        return ResponseEntity.status(HttpStatus.CREATED).body(savedUser);
    }
}
```

---

## 5. ğŸŒ è·¨åŸŸé—®é¢˜è§£å†³


### 5.1 ä»€ä¹ˆæ˜¯è·¨åŸŸé—®é¢˜


**ğŸ”¸ åŒæºç­–ç•¥**
æµè§ˆå™¨çš„åŒæºç­–ç•¥è§„å®šï¼šåªæœ‰**åè®®**ã€**åŸŸå**ã€**ç«¯å£**éƒ½ç›¸åŒçš„è¯·æ±‚æ‰è¢«å…è®¸ã€‚

```
å‰ç«¯é¡µé¢: http://localhost:3000
åç«¯API:  http://localhost:8080

è¿™å°±æ˜¯è·¨åŸŸï¼æµè§ˆå™¨ä¼šé˜»æ­¢è¿™ç§è¯·æ±‚
```

å°±åƒå°åŒºçš„é—¨ç¦ç³»ç»Ÿï¼Œåªå…è®¸æœ¬å°åŒºçš„ä½æˆ·è¿›å…¥ï¼Œå¤–æ¥äººå‘˜éœ€è¦ç‰¹æ®Šé€šè¡Œè¯ã€‚

### 5.2 CORSè§£å†³æ–¹æ¡ˆ


**CORS**ï¼ˆCross-Origin Resource Sharingï¼‰è·¨åŸŸèµ„æºå…±äº«ï¼Œå°±æ˜¯ç»™å¤–æ¥è¯·æ±‚å‘"é€šè¡Œè¯"ã€‚

**ğŸ”¸ Spring Bootä¸­å¯ç”¨CORS**

```java
// æ–¹æ³•1ï¼šåœ¨æ§åˆ¶å™¨ä¸Šæ·»åŠ æ³¨è§£
@RestController
@CrossOrigin(origins = "http://localhost:3000")  // å…è®¸å‰ç«¯è®¿é—®
public class UserController {
    
    @GetMapping("/api/users")
    public List<User> getUsers() {
        return userService.getAllUsers();
    }
}

// æ–¹æ³•2ï¼šå…¨å±€é…ç½®
@Configuration
public class WebConfig implements WebMvcConfigurer {
    
    @Override
    public void addCorsMappings(CorsRegistry registry) {
        registry.addMapping("/api/**")  // å¯¹æ‰€æœ‰APIè·¯å¾„
                .allowedOrigins("http://localhost:3000")  // å…è®¸çš„å‰ç«¯åœ°å€
                .allowedMethods("GET", "POST", "PUT", "DELETE")  // å…è®¸çš„HTTPæ–¹æ³•
                .allowedHeaders("*")  // å…è®¸çš„è¯·æ±‚å¤´
                .allowCredentials(true);  // å…è®¸æºå¸¦cookie
    }
}
```

### 5.3 CORSå·¥ä½œåŸç†å›¾ç¤º


```
æµè§ˆå™¨è¯·æ±‚æµç¨‹ï¼š

1. ç®€å•è¯·æ±‚ï¼š
å‰ç«¯ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ åç«¯
     GET /api/users
     
å‰ç«¯ â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  åç«¯
     Access-Control-Allow-Origin: *

2. å¤æ‚è¯·æ±‚ï¼ˆé¢„æ£€ï¼‰ï¼š
å‰ç«¯ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ åç«¯
     OPTIONS /api/users (é¢„æ£€è¯·æ±‚)
     
å‰ç«¯ â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  åç«¯
     Access-Control-Allow-Methods: GET,POST...
     
å‰ç«¯ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ åç«¯
     POST /api/users (çœŸæ­£è¯·æ±‚)
```

---

## 6. ğŸ”¢ APIç‰ˆæœ¬ç®¡ç†


### 6.1 ä¸ºä»€ä¹ˆéœ€è¦ç‰ˆæœ¬ç®¡ç†


æƒ³è±¡ä¸€ä¸‹å¾®ä¿¡çš„æ›´æ–°ï¼šè€ç‰ˆæœ¬ç”¨æˆ·è¿˜åœ¨ç”¨æ—§åŠŸèƒ½ï¼Œæ–°ç‰ˆæœ¬ç”¨æˆ·å·²ç»æœ‰æ–°åŠŸèƒ½äº†ã€‚APIä¹Ÿæ˜¯ä¸€æ ·ï¼Œéœ€è¦åŒæ—¶æ”¯æŒå¤šä¸ªç‰ˆæœ¬ã€‚

**ğŸ”¸ ç‰ˆæœ¬ç®¡ç†çš„å¿…è¦æ€§**
- ğŸ”„ åŠŸèƒ½å‡çº§ä¸å½±å“è€å®¢æˆ·ç«¯
- ğŸ›¡ï¸ å‘åå…¼å®¹ï¼Œå¹³æ»‘è¿‡æ¸¡
- ğŸš€ æ–°åŠŸèƒ½å¯ä»¥ç‹¬ç«‹å‘å¸ƒ

### 6.2 ç‰ˆæœ¬ç®¡ç†ç­–ç•¥


**ğŸ”¸ URLè·¯å¾„ç‰ˆæœ¬**
```java
// v1ç‰ˆæœ¬API
@RestController
@RequestMapping("/api/v1/users")
public class UserV1Controller {
    
    @GetMapping
    public List<UserV1> getUsers() {
        // è¿”å›åŸºç¡€ç”¨æˆ·ä¿¡æ¯
        return userService.getAllUsersV1();
    }
}

// v2ç‰ˆæœ¬API  
@RestController
@RequestMapping("/api/v2/users")
public class UserV2Controller {
    
    @GetMapping
    public List<UserV2> getUsers() {
        // è¿”å›å¢å¼ºç”¨æˆ·ä¿¡æ¯ï¼ˆåŒ…å«å¤´åƒã€æƒé™ç­‰ï¼‰
        return userService.getAllUsersV2();
    }
}
```

**ğŸ”¸ è¯·æ±‚å¤´ç‰ˆæœ¬**
```java
@RestController
@RequestMapping("/api/users")
public class UserController {
    
    @GetMapping(headers = "API-Version=1")
    public List<UserV1> getUsersV1() {
        return userService.getAllUsersV1();
    }
    
    @GetMapping(headers = "API-Version=2")  
    public List<UserV2> getUsersV2() {
        return userService.getAllUsersV2();
    }
}
```

### 6.3 ç‰ˆæœ¬é€‰æ‹©å»ºè®®


| æ–¹å¼ | ä¼˜ç‚¹ | ç¼ºç‚¹ | é€‚ç”¨åœºæ™¯ |
|------|------|------|----------|
| URLè·¯å¾„ | ğŸ“ ç›´è§‚æ˜ç¡® | ğŸ”„ URLå˜åŒ– | ğŸŸ¢ æ¨èç”¨äºä¸»è¦ç‰ˆæœ¬å·®å¼‚ |
| è¯·æ±‚å¤´ | ğŸ”— URLä¸å˜ | ğŸ‘€ ä¸å¤Ÿç›´è§‚ | ğŸŸ¡ é€‚ç”¨äºå°ç‰ˆæœ¬å‡çº§ |
| æŸ¥è¯¢å‚æ•° | ğŸ“ ç®€å•å®ç° | ğŸ” å®¹æ˜“é—å¿˜ | ğŸ”´ ä¸æ¨è |

---

## 7. ğŸ“‹ ç»Ÿä¸€è¿”å›æ ¼å¼


### 7.1 ä¸ºä»€ä¹ˆéœ€è¦ç»Ÿä¸€æ ¼å¼


å‰ç«¯å°±åƒå¿«é€’å‘˜ï¼Œåç«¯å°±åƒå„ä¸ªå•†åº—ã€‚å¦‚æœæ¯ä¸ªå•†åº—çš„åŒ…è£…æ–¹å¼éƒ½ä¸ä¸€æ ·ï¼Œå¿«é€’å‘˜å°±ä¼šå¾ˆå¤´ç–¼ã€‚

**ğŸ”¸ ç»Ÿä¸€æ ¼å¼çš„å¥½å¤„**
- âœ… å‰ç«¯å¤„ç†é€»è¾‘ç»Ÿä¸€
- âœ… é”™è¯¯å¤„ç†æ ‡å‡†åŒ–  
- âœ… æ¥å£æ–‡æ¡£æ¸…æ™°
- âœ… å›¢é˜Ÿåä½œæ•ˆç‡é«˜

### 7.2 è®¾è®¡ç»Ÿä¸€å“åº”æ ¼å¼


**ğŸ”¸ å“åº”ç»“æ„è®¾è®¡**
```java
// é€šç”¨å“åº”ç±»
public class ApiResponse<T> {
    private Integer code;        // å“åº”ç 
    private String message;      // å“åº”ä¿¡æ¯
    private T data;             // å“åº”æ•°æ®
    private Long timestamp;      // æ—¶é—´æˆ³
    
    // æˆåŠŸå“åº”
    public static <T> ApiResponse<T> success(T data) {
        ApiResponse<T> response = new ApiResponse<>();
        response.setCode(200);
        response.setMessage("æ“ä½œæˆåŠŸ");
        response.setData(data);
        response.setTimestamp(System.currentTimeMillis());
        return response;
    }
    
    // å¤±è´¥å“åº”
    public static <T> ApiResponse<T> error(Integer code, String message) {
        ApiResponse<T> response = new ApiResponse<>();
        response.setCode(code);
        response.setMessage(message);
        response.setTimestamp(System.currentTimeMillis());
        return response;
    }
}
```

### 7.3 ç»Ÿä¸€å“åº”ç¤ºä¾‹


**ğŸ”¸ æˆåŠŸå“åº”**
```json
{
    "code": 200,
    "message": "æ“ä½œæˆåŠŸ",
    "data": {
        "id": 1,
        "name": "å¼ ä¸‰",
        "age": 25
    },
    "timestamp": 1642321234567
}
```

**ğŸ”¸ å¤±è´¥å“åº”**  
```json
{
    "code": 400,
    "message": "ç”¨æˆ·åä¸èƒ½ä¸ºç©º",
    "data": null,
    "timestamp": 1642321234567
}
```

**ğŸ”¸ åˆ—è¡¨å“åº”**
```json
{
    "code": 200,
    "message": "æŸ¥è¯¢æˆåŠŸ", 
    "data": {
        "list": [
            {"id": 1, "name": "å¼ ä¸‰"},
            {"id": 2, "name": "æå››"}
        ],
        "total": 2,
        "pageSize": 10,
        "currentPage": 1
    },
    "timestamp": 1642321234567
}
```

---

## 8. ğŸš¨ å¼‚å¸¸ç»Ÿä¸€å¤„ç†


### 8.1 ä¸ºä»€ä¹ˆéœ€è¦ç»Ÿä¸€å¼‚å¸¸å¤„ç†


æƒ³è±¡ä¸€ä¸‹åŒ»é™¢çš„æ€¥æ•‘ç³»ç»Ÿï¼šä¸ç®¡æ˜¯å“ªä¸ªç§‘å®¤å‡ºç°ç´§æ€¥æƒ…å†µï¼Œéƒ½æœ‰ç»Ÿä¸€çš„å¤„ç†æµç¨‹ã€‚

**ğŸ”¸ æ²¡æœ‰ç»Ÿä¸€å¤„ç†çš„é—®é¢˜**
```java
// æ¯ä¸ªæ–¹æ³•éƒ½è¦å¤„ç†å¼‚å¸¸ï¼Œä»£ç é‡å¤
@GetMapping("/{id}")
public ApiResponse<User> getUser(@PathVariable Long id) {
    try {
        User user = userService.findById(id);
        return ApiResponse.success(user);
    } catch (UserNotFoundException e) {
        return ApiResponse.error(404, "ç”¨æˆ·ä¸å­˜åœ¨");
    } catch (Exception e) {
        return ApiResponse.error(500, "ç³»ç»Ÿå¼‚å¸¸");
    }
}
```

### 8.2 å…¨å±€å¼‚å¸¸å¤„ç†å™¨


**ğŸ”¸ ä½¿ç”¨@ControllerAdviceç»Ÿä¸€å¤„ç†**

```java
@ControllerAdvice  // å…¨å±€å¼‚å¸¸å¤„ç†å™¨
@Slf4j
public class GlobalExceptionHandler {
    
    // å¤„ç†ä¸šåŠ¡å¼‚å¸¸
    @ExceptionHandler(BusinessException.class)
    public ResponseEntity<ApiResponse<Void>> handleBusinessException(BusinessException e) {
        log.warn("ä¸šåŠ¡å¼‚å¸¸: {}", e.getMessage());
        ApiResponse<Void> response = ApiResponse.error(e.getCode(), e.getMessage());
        return ResponseEntity.badRequest().body(response);
    }
    
    // å¤„ç†å‚æ•°æ ¡éªŒå¼‚å¸¸
    @ExceptionHandler(MethodArgumentNotValidException.class)
    public ResponseEntity<ApiResponse<Void>> handleValidException(MethodArgumentNotValidException e) {
        String message = e.getBindingResult()
                .getFieldErrors()
                .stream()
                .map(DefaultMessageSourceResolvable::getDefaultMessage)
                .collect(Collectors.joining(", "));
                
        log.warn("å‚æ•°æ ¡éªŒå¼‚å¸¸: {}", message);
        ApiResponse<Void> response = ApiResponse.error(400, message);
        return ResponseEntity.badRequest().body(response);
    }
    
    // å¤„ç†ç³»ç»Ÿå¼‚å¸¸
    @ExceptionHandler(Exception.class)
    public ResponseEntity<ApiResponse<Void>> handleException(Exception e) {
        log.error("ç³»ç»Ÿå¼‚å¸¸", e);
        ApiResponse<Void> response = ApiResponse.error(500, "ç³»ç»Ÿç¹å¿™ï¼Œè¯·ç¨åé‡è¯•");
        return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(response);
    }
}
```

### 8.3 è‡ªå®šä¹‰ä¸šåŠ¡å¼‚å¸¸


```java
// ä¸šåŠ¡å¼‚å¸¸åŸºç±»
public class BusinessException extends RuntimeException {
    private Integer code;
    
    public BusinessException(Integer code, String message) {
        super(message);
        this.code = code;
    }
    
    // getteræ–¹æ³•...
}

// å…·ä½“ä¸šåŠ¡å¼‚å¸¸
public class UserNotFoundException extends BusinessException {
    public UserNotFoundException() {
        super(404, "ç”¨æˆ·ä¸å­˜åœ¨");
    }
}

public class UserAlreadyExistsException extends BusinessException {
    public UserAlreadyExistsException() {
        super(409, "ç”¨æˆ·å·²å­˜åœ¨");
    }
}
```

### 8.4 å¼‚å¸¸å¤„ç†æµç¨‹å›¾


```
è¯·æ±‚æµç¨‹:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å®¢æˆ·ç«¯  â”‚â”€â”€â”€â†’â”‚  æ§åˆ¶å™¨æ–¹æ³•  â”‚â”€â”€â”€â†’â”‚   ä¸šåŠ¡é€»è¾‘   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â†‘                                      â”‚
     â”‚                                   å¼‚å¸¸å‘ç”Ÿ
     â”‚                                      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ JSONå“åº” â”‚â†â”€â”€â”€â”‚ å…¨å±€å¼‚å¸¸å¤„ç† â”‚â†â”€â”€â”€â”‚  æŠ›å‡ºå¼‚å¸¸    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 9. ğŸ“– æ¥å£æ–‡æ¡£ç®¡ç†


### 9.1 ä¸ºä»€ä¹ˆéœ€è¦æ¥å£æ–‡æ¡£


æ¥å£æ–‡æ¡£å°±åƒé¤å…çš„èœå•ï¼Œå‘Šè¯‰å®¢äººæœ‰ä»€ä¹ˆèœã€æ€ä¹ˆç‚¹é¤ã€ä»€ä¹ˆä»·æ ¼ã€‚

**ğŸ”¸ æ–‡æ¡£çš„é‡è¦æ€§**
- ğŸ“ å‰åç«¯åä½œçš„æ¡¥æ¢
- ğŸ” å‡å°‘æ²Ÿé€šæˆæœ¬
- ğŸ§ª æ–¹ä¾¿æ¥å£æµ‹è¯•
- ğŸ“š æ–°äººå¿«é€Ÿä¸Šæ‰‹

### 9.2 Swaggeré›†æˆ


**ğŸ”¸ æ·»åŠ Swaggerä¾èµ–**
```xml
<dependency>
    <groupId>io.springfox</groupId>
    <artifactId>springfox-boot-starter</artifactId>
    <version>3.0.0</version>
</dependency>
```

**ğŸ”¸ Swaggeré…ç½®**
```java
@Configuration
@EnableOpenApi  // å¯ç”¨Swagger
public class SwaggerConfig {
    
    @Bean
    public Docket api() {
        return new Docket(DocumentationType.OAS_30)
                .apiInfo(apiInfo())
                .select()
                .apis(RequestHandlerSelectors.basePackage("com.example.controller"))
                .paths(PathSelectors.ant("/api/**"))
                .build();
    }
    
    private ApiInfo apiInfo() {
        return new ApiInfoBuilder()
                .title("ç”¨æˆ·ç®¡ç†ç³»ç»ŸAPI")
                .description("ç”¨æˆ·ç®¡ç†ç›¸å…³æ¥å£æ–‡æ¡£")
                .version("1.0.0")
                .build();
    }
}
```

### 9.3 æ¥å£æ³¨è§£ä½¿ç”¨


```java
@RestController
@RequestMapping("/api/users")
@Api(tags = "ç”¨æˆ·ç®¡ç†")  // æ¥å£åˆ†ç»„
public class UserController {
    
    @GetMapping("/{id}")
    @ApiOperation(value = "è·å–ç”¨æˆ·ä¿¡æ¯", notes = "æ ¹æ®ç”¨æˆ·IDè·å–è¯¦ç»†ä¿¡æ¯")
    @ApiImplicitParam(name = "id", value = "ç”¨æˆ·ID", required = true, dataType = "Long")
    public ApiResponse<User> getUser(@PathVariable Long id) {
        User user = userService.findById(id);
        return ApiResponse.success(user);
    }
    
    @PostMapping
    @ApiOperation(value = "åˆ›å»ºç”¨æˆ·", notes = "åˆ›å»ºæ–°ç”¨æˆ·")
    public ApiResponse<User> createUser(@RequestBody @Valid UserCreateRequest request) {
        User user = userService.create(request);
        return ApiResponse.success(user);
    }
}

// è¯·æ±‚å¯¹è±¡æ³¨è§£
@ApiModel(description = "åˆ›å»ºç”¨æˆ·è¯·æ±‚")
public class UserCreateRequest {
    
    @ApiModelProperty(value = "ç”¨æˆ·å", required = true, example = "å¼ ä¸‰")
    @NotBlank(message = "ç”¨æˆ·åä¸èƒ½ä¸ºç©º")
    private String name;
    
    @ApiModelProperty(value = "å¹´é¾„", required = true, example = "25")
    @Min(value = 1, message = "å¹´é¾„å¿…é¡»å¤§äº0")
    private Integer age;
    
    // getterã€setterçœç•¥...
}
```

### 9.4 æ–‡æ¡£è®¿é—®å’Œä½¿ç”¨


**ğŸ”¸ è®¿é—®åœ°å€**
- Swagger UI: `http://localhost:8080/swagger-ui/index.html`
- JSONæ ¼å¼: `http://localhost:8080/v3/api-docs`

**ğŸ”¸ æ–‡æ¡£åŠŸèƒ½**
- ğŸ“‹ æŸ¥çœ‹æ‰€æœ‰æ¥å£åˆ—è¡¨
- ğŸ” æŸ¥çœ‹æ¥å£è¯¦ç»†ä¿¡æ¯
- ğŸ§ª åœ¨çº¿æµ‹è¯•æ¥å£
- ğŸ“¥ å¯¼å‡ºæ¥å£æ–‡æ¡£

---

## 10. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 10.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ å‰åç«¯åˆ†ç¦»ï¼šä¸“ä¸šåˆ†å·¥ï¼Œç‹¬ç«‹å¼€å‘éƒ¨ç½²
ğŸ”¸ RESTful APIï¼šç»Ÿä¸€çš„èµ„æºæ“ä½œè§„èŒƒ
ğŸ”¸ JSONæ ¼å¼ï¼šè½»é‡çº§æ•°æ®äº¤æ¢æ ¼å¼
ğŸ”¸ AJAXå¼‚æ­¥ï¼šä¸é˜»å¡é¡µé¢çš„æ•°æ®äº¤äº’
ğŸ”¸ CORSè·¨åŸŸï¼šè§£å†³æµè§ˆå™¨å®‰å…¨é™åˆ¶
ğŸ”¸ ç‰ˆæœ¬ç®¡ç†ï¼šå‘åå…¼å®¹çš„APIæ¼”è¿›
ğŸ”¸ ç»Ÿä¸€æ ¼å¼ï¼šæ ‡å‡†åŒ–çš„å“åº”ç»“æ„
ğŸ”¸ å¼‚å¸¸å¤„ç†ï¼šé›†ä¸­åŒ–çš„é”™è¯¯å¤„ç†
ğŸ”¸ æ¥å£æ–‡æ¡£ï¼šå›¢é˜Ÿåä½œçš„é‡è¦å·¥å…·
```

### 10.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ å‰åç«¯åˆ†ç¦»çš„æœ¬è´¨**
```
æ ¸å¿ƒæ€æƒ³ï¼šèŒè´£åˆ†ç¦»ï¼Œå„å¸å…¶èŒ
- å‰ç«¯ï¼šè´Ÿè´£ç”¨æˆ·ç•Œé¢å’Œäº¤äº’ä½“éªŒ
- åç«¯ï¼šè´Ÿè´£ä¸šåŠ¡é€»è¾‘å’Œæ•°æ®å¤„ç†  
- APIï¼šä¸¤è€…ä¹‹é—´çš„é€šä¿¡æ¡¥æ¢
```

**ğŸ”¹ RESTfulè®¾è®¡æ€ç»´**
```
è®¾è®¡åŸåˆ™ï¼š
- æŠŠç½‘ç»œä¸Šçš„ä¸€åˆ‡çœ‹ä½œèµ„æº
- ç”¨URLå®šä½èµ„æº
- ç”¨HTTPæ–¹æ³•æè¿°æ“ä½œ
- ç”¨HTTPçŠ¶æ€ç è¡¨ç¤ºç»“æœ
```

**ğŸ”¹ ç»Ÿä¸€å¤„ç†çš„é‡è¦æ€§**
```
ç»Ÿä¸€å¸¦æ¥çš„å¥½å¤„ï¼š
- é™ä½å¤æ‚åº¦ï¼šä¸€å¥—è§„åˆ™å¤„ç†æ‰€æœ‰æƒ…å†µ
- æé«˜æ•ˆç‡ï¼šå‡å°‘é‡å¤ä»£ç å’Œé€»è¾‘
- ä¾¿äºç»´æŠ¤ï¼šä¿®æ”¹ä¸€å¤„å½±å“å…¨å±€
- å›¢é˜Ÿåä½œï¼šç»Ÿä¸€æ ‡å‡†é™ä½æ²Ÿé€šæˆæœ¬
```

### 10.3 æœ€ä½³å®è·µå»ºè®®


**ğŸ¯ APIè®¾è®¡å»ºè®®**

| æ–¹é¢ | **æœ€ä½³å®è·µ** | **é¿å…åšæ³•** |
|------|-------------|-------------|
| URLè®¾è®¡ | `/api/v1/users` | `/api/getUserList` |
| çŠ¶æ€ç  | `200, 201, 400, 404, 500` | `200 + è‡ªå®šä¹‰é”™è¯¯ç ` |
| è¿”å›æ ¼å¼ | ç»Ÿä¸€JSONç»“æ„ | å„æ¥å£æ ¼å¼ä¸åŒ |
| å¼‚å¸¸å¤„ç† | å…¨å±€ç»Ÿä¸€å¤„ç† | æ¯ä¸ªæ–¹æ³•å•ç‹¬å¤„ç† |
| æ–‡æ¡£ç®¡ç† | è‡ªåŠ¨ç”Ÿæˆæ–‡æ¡£ | æ‰‹å·¥ç»´æŠ¤æ–‡æ¡£ |

**ğŸ”§ å¼€å‘æµç¨‹å»ºè®®**
```
1. è®¾è®¡é˜¶æ®µï¼šå…ˆå®šä¹‰APIæ¥å£è§„èŒƒ
2. å¼€å‘é˜¶æ®µï¼šå‰åç«¯å¹¶è¡Œå¼€å‘
3. æµ‹è¯•é˜¶æ®µï¼šä½¿ç”¨Mockæ•°æ®è”è°ƒ
4. éƒ¨ç½²é˜¶æ®µï¼šç‹¬ç«‹éƒ¨ç½²å’Œæ‰©å±•
5. ç»´æŠ¤é˜¶æ®µï¼šç‰ˆæœ¬ç®¡ç†å’Œå‘åå…¼å®¹
```

### 10.4 å¸¸è§é—®é¢˜è§£å†³


**â“ è·¨åŸŸé—®é¢˜**
- ğŸ”§ ä½¿ç”¨CORSé…ç½®è§£å†³
- ğŸš« ä¸è¦å…³é—­æµè§ˆå™¨å®‰å…¨ç­–ç•¥

**â“ æ¥å£æ€§èƒ½é—®é¢˜**
- ğŸ“Š åˆç†è®¾è®¡åˆ†é¡µæŸ¥è¯¢
- ğŸ’¾ ä½¿ç”¨ç¼“å­˜å‡å°‘æ•°æ®åº“å‹åŠ›
- ğŸ”„ è€ƒè™‘å¼‚æ­¥å¤„ç†é•¿æ—¶é—´æ“ä½œ

**â“ ç‰ˆæœ¬å…¼å®¹é—®é¢˜**
- ğŸ“… æå‰è§„åˆ’ç‰ˆæœ¬å‡çº§ç­–ç•¥
- â° ç»™æ—§ç‰ˆæœ¬è¶³å¤Ÿçš„è¿‡æ¸¡æ—¶é—´
- ğŸ“¢ åŠæ—¶é€šçŸ¥å®¢æˆ·ç«¯å‡çº§

**æ ¸å¿ƒè®°å¿†å£è¯€**ï¼š
- å‰ååˆ†ç¦»èŒè´£æ¸…ï¼ŒRESTè§„èŒƒè¦è®°æ¸…
- JSONè½»ä¾¿ä¼ è¾“å¿«ï¼ŒAJAXå¼‚æ­¥ä½“éªŒä½³  
- è·¨åŸŸCORSæ¥è§£å†³ï¼Œç‰ˆæœ¬ç®¡ç†è¦ç»Ÿä¸€
- æ ¼å¼ç»Ÿä¸€å‰ç«¯çˆ½ï¼Œå¼‚å¸¸å¤„ç†è¦é›†ä¸­
- æ–‡æ¡£æ¸…æ™°åä½œå¥½ï¼Œæ¥å£è®¾è®¡æ˜¯å…³é”®