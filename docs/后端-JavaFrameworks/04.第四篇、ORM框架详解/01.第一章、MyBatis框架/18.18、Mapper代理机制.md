---
title: 18ã€Mapperä»£ç†æœºåˆ¶
---
## ğŸ“š ç›®å½•

1. [ä»€ä¹ˆæ˜¯Mapperä»£ç†æœºåˆ¶](#1-ä»€ä¹ˆæ˜¯Mapperä»£ç†æœºåˆ¶)
2. [JDKåŠ¨æ€ä»£ç†åŸºç¡€](#2-JDKåŠ¨æ€ä»£ç†åŸºç¡€)
3. [MapperProxyä»£ç†ç±»è¯¦è§£](#3-MapperProxyä»£ç†ç±»è¯¦è§£)
4. [MapperMethodæ–¹æ³•å°è£…](#4-MapperMethodæ–¹æ³•å°è£…)
5. [æ–¹æ³•ç­¾åä¸å‚æ•°è§£æ](#5-æ–¹æ³•ç­¾åä¸å‚æ•°è§£æ)
6. [è¿”å›å€¼è½¬æ¢ç­–ç•¥](#6-è¿”å›å€¼è½¬æ¢ç­–ç•¥)
7. [å¼‚å¸¸å¤„ç†æœºåˆ¶](#7-å¼‚å¸¸å¤„ç†æœºåˆ¶)
8. [ä»£ç†ç¼“å­˜ä¼˜åŒ–](#8-ä»£ç†ç¼“å­˜ä¼˜åŒ–)
9. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#9-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ¯ ä»€ä¹ˆæ˜¯Mapperä»£ç†æœºåˆ¶


### 1.1 ä»é—®é¢˜å‡ºå‘ç†è§£


**ğŸ¤” ä½ æ˜¯å¦æœ‰è¿™æ ·çš„ç–‘é—®ï¼Ÿ**

åœ¨ä½¿ç”¨MyBatisæ—¶ï¼Œæˆ‘ä»¬åªå®šä¹‰äº†Mapperæ¥å£ï¼Œå¹¶æ²¡æœ‰å†™å®ç°ç±»ï¼š

```java
public interface UserMapper {
    User findById(Long id);
    List<User> findAll();
}
```

ä½†æ˜¯å´å¯ä»¥ç›´æ¥è°ƒç”¨ï¼š

```java
UserMapper userMapper = sqlSession.getMapper(UserMapper.class);
User user = userMapper.findById(1L);  // ç¥å¥‡åœ°æ‰§è¡Œäº†SQLï¼
```

**â“ é—®é¢˜æ¥äº†**ï¼š
- æ¥å£æ²¡æœ‰å®ç°ç±»ï¼Œæ€ä¹ˆæ‰§è¡Œçš„ï¼Ÿ
- è°å¸®æˆ‘ä»¬è°ƒç”¨äº†SQLè¯­å¥ï¼Ÿ
- å‚æ•°æ˜¯æ€ä¹ˆä¼ é€’çš„ï¼Ÿ

**ğŸ’¡ ç­”æ¡ˆå°±æ˜¯ï¼šMapperä»£ç†æœºåˆ¶**

### 1.2 é€šä¿—ç†è§£ä»£ç†æœºåˆ¶


**ç”¨ç”Ÿæ´»ä¾‹å­ç†è§£ï¼š**

```
ä½ è¦ä¹°æˆ¿ï¼ˆè°ƒç”¨Mapperæ–¹æ³•ï¼‰
  â†“
æ‰¾ä¸­ä»‹ï¼ˆä»£ç†å¯¹è±¡ï¼‰
  â†“
ä¸­ä»‹å¸®ä½ æ‰¾æˆ¿æºã€è°ˆä»·æ ¼ã€åŠæ‰‹ç»­ï¼ˆæ‰§è¡ŒSQLï¼‰
  â†“
æœ€åæŠŠæˆ¿å­äº¤ç»™ä½ ï¼ˆè¿”å›ç»“æœï¼‰

ä½ ä¸éœ€è¦çŸ¥é“ä¸­ä»‹æ€ä¹ˆæ“ä½œçš„ï¼Œåªç®¡æ‹¿ç»“æœ
```

**åœ¨MyBatisä¸­ï¼š**

```
å¼€å‘è€…è°ƒç”¨Mapperæ¥å£æ–¹æ³•
         â†“
ä»£ç†å¯¹è±¡æ‹¦æˆªæ–¹æ³•è°ƒç”¨
         â†“
è§£ææ–¹æ³•åã€å‚æ•°
         â†“
æ‰¾åˆ°å¯¹åº”çš„SQLé…ç½®
         â†“
æ‰§è¡ŒSQLå¹¶è¿”å›ç»“æœ
```

### 1.3 æ ¸å¿ƒåŸç†æ¦‚è¿°


**ğŸ“‹ Mapperä»£ç†çš„æœ¬è´¨**

```
æ¥å£ï¼ˆInterfaceï¼‰  â†’  ä»£ç†å¯¹è±¡ï¼ˆProxyï¼‰  â†’  SQLæ‰§è¡Œå™¨ï¼ˆExecutorï¼‰
    â†“                     â†“                        â†“
å®šä¹‰æ–¹æ³•ç­¾å          æ‹¦æˆªæ–¹æ³•è°ƒç”¨              æ‰§è¡Œæ•°æ®åº“æ“ä½œ
```

**ğŸ”‘ å…³é”®è§’è‰²**ï¼š

| è§’è‰² | èŒè´£ | ç±»æ¯” |
|------|------|------|
| **Mapperæ¥å£** | å®šä¹‰æ•°æ®è®¿é—®æ–¹æ³• | åˆåŒï¼ˆè§„å®šåšä»€ä¹ˆï¼‰ |
| **MapperProxy** | ä»£ç†å¯¹è±¡ï¼Œæ‹¦æˆªæ–¹æ³•è°ƒç”¨ | ä¸­ä»‹ï¼ˆè´Ÿè´£æ‰§è¡Œï¼‰ |
| **MapperMethod** | å°è£…æ–¹æ³•ä¿¡æ¯å’Œæ‰§è¡Œé€»è¾‘ | æ‰§è¡Œæ–¹æ¡ˆï¼ˆå¦‚ä½•åšï¼‰ |
| **SqlSession** | å®é™…æ‰§è¡ŒSQL | å·¥äººï¼ˆå¹²æ´»çš„ï¼‰ |

---

## 2. ğŸ”§ JDKåŠ¨æ€ä»£ç†åŸºç¡€


### 2.1 ä»€ä¹ˆæ˜¯åŠ¨æ€ä»£ç†


**ğŸ“– æ¦‚å¿µç†è§£**

åŠ¨æ€ä»£ç†å°±æ˜¯åœ¨ç¨‹åºè¿è¡Œæ—¶ï¼Œè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ª"æ›¿èº«"å¯¹è±¡ï¼Œè¿™ä¸ªæ›¿èº«å¯¹è±¡å¯ä»¥ï¼š
- æ‹¦æˆªå¯¹åŸå¯¹è±¡çš„æ‰€æœ‰æ–¹æ³•è°ƒç”¨
- åœ¨æ–¹æ³•æ‰§è¡Œå‰ååšé¢å¤–å¤„ç†
- æœ€ç»ˆå†³å®šæ˜¯å¦è°ƒç”¨åŸæ–¹æ³•

**ğŸ­ ç”Ÿæ´»ç±»æ¯”**

```
æ˜æ˜Ÿï¼ˆæ¥å£ï¼‰     â†’    æ›¿èº«æ¼”å‘˜ï¼ˆä»£ç†ï¼‰
  |                        |
ç­¾åä¼š            â†’    æ›¿èº«ä»£ç­¾ï¼Œæ˜æ˜Ÿæœ¬äººä¸åˆ°åœº
æ‹å±é™©é•œå¤´        â†’    æ›¿èº«ä»£æ‹ï¼Œæ˜æ˜Ÿæœ¬äººä¸å‚ä¸
```

### 2.2 JDKåŠ¨æ€ä»£ç†ä¸‰è¦ç´ 


**å¿…å¤‡æ¡ä»¶ ğŸ¯**

```
1ï¸âƒ£ æ¥å£ï¼ˆInterfaceï¼‰
   - å¿…é¡»æ˜¯æ¥å£ï¼Œä¸èƒ½æ˜¯ç±»
   - å®šä¹‰è¦ä»£ç†çš„æ–¹æ³•

2ï¸âƒ£ InvocationHandlerï¼ˆè°ƒç”¨å¤„ç†å™¨ï¼‰
   - å®ç°invoke()æ–¹æ³•
   - æ‹¦æˆªæ‰€æœ‰æ–¹æ³•è°ƒç”¨

3ï¸âƒ£ Proxy.newProxyInstance()
   - ç”Ÿæˆä»£ç†å¯¹è±¡
   - è¿è¡Œæ—¶åŠ¨æ€åˆ›å»º
```

### 2.3 åŠ¨æ€ä»£ç†å·¥ä½œæµç¨‹


**ğŸ“Š å®Œæ•´æµç¨‹å›¾ç¤º**

```
å®¢æˆ·ç«¯è°ƒç”¨æ–¹æ³•
     â†“
proxy.method(args)
     â†“
JVMæ‹¦æˆªè°ƒç”¨
     â†“
InvocationHandler.invoke(proxy, method, args)
     â†“
ã€åœ¨è¿™é‡Œåšä½ æƒ³åšçš„äº‹ã€‘
  - å‚æ•°æ£€æŸ¥
  - æ—¥å¿—è®°å½•
  - æƒé™éªŒè¯
  - æ‰§è¡ŒçœŸæ­£é€»è¾‘
     â†“
è¿”å›ç»“æœç»™å®¢æˆ·ç«¯
```

### 2.4 ç®€å•ç¤ºä¾‹ç†è§£


```java
// 1ï¸âƒ£ å®šä¹‰æ¥å£
public interface HelloService {
    String sayHello(String name);
}

// 2ï¸âƒ£ åˆ›å»ºè°ƒç”¨å¤„ç†å™¨
InvocationHandler handler = new InvocationHandler() {
    @Override
    public Object invoke(Object proxy, Method method, Object[] args) {
        // æ‹¦æˆªåˆ°æ–¹æ³•è°ƒç”¨
        System.out.println("æ–¹æ³•å: " + method.getName());
        System.out.println("å‚æ•°: " + Arrays.toString(args));
        
        // è¿”å›è‡ªå®šä¹‰ç»“æœ
        return "Hello, " + args[0];
    }
};

// 3ï¸âƒ£ ç”Ÿæˆä»£ç†å¯¹è±¡
HelloService proxy = (HelloService) Proxy.newProxyInstance(
    HelloService.class.getClassLoader(),
    new Class[]{HelloService.class},
    handler
);

// 4ï¸âƒ£ è°ƒç”¨ä»£ç†æ–¹æ³•
String result = proxy.sayHello("World");  
// è¾“å‡ºï¼šæ–¹æ³•å: sayHello
//      å‚æ•°: [World]
//      result = "Hello, World"
```

**ğŸ’¡ ç†è§£è¦ç‚¹**ï¼š
- `HelloService`æ²¡æœ‰å®ç°ç±»
- è°ƒç”¨`sayHello()`æ—¶ï¼Œå®é™…æ‰§è¡Œçš„æ˜¯`handler.invoke()`
- å¯ä»¥åœ¨`invoke()`ä¸­åšä»»ä½•äº‹æƒ…

---

## 3. ğŸ¨ MapperProxyä»£ç†ç±»è¯¦è§£


### 3.1 MapperProxyçš„ä½œç”¨


**ğŸ” æ ¸å¿ƒèŒè´£**

MyBatisçš„`MapperProxy`å°±æ˜¯ä¸€ä¸ª`InvocationHandler`å®ç°ï¼Œä¸“é—¨ç”¨äºï¼š

```
âœ… æ‹¦æˆªMapperæ¥å£çš„æ‰€æœ‰æ–¹æ³•è°ƒç”¨
âœ… è§£ææ–¹æ³•ä¿¡æ¯ï¼ˆåç§°ã€å‚æ•°ã€è¿”å›å€¼ï¼‰
âœ… æ‰¾åˆ°å¯¹åº”çš„SQLæ˜ å°„é…ç½®
âœ… è°ƒç”¨SqlSessionæ‰§è¡ŒSQL
âœ… è½¬æ¢å¹¶è¿”å›ç»“æœ
```

### 3.2 MapperProxyç»“æ„å‰–æ


**ğŸ“¦ æ ¸å¿ƒå±æ€§**

```java
public class MapperProxy<T> implements InvocationHandler {
    
    private final SqlSession sqlSession;        // SQLä¼šè¯ï¼Œç”¨äºæ‰§è¡ŒSQL
    private final Class<T> mapperInterface;     // Mapperæ¥å£ç±»å‹
    private final Map<Method, MapperMethod> methodCache;  // æ–¹æ³•ç¼“å­˜
    
    // æ„é€ å‡½æ•°
    public MapperProxy(SqlSession sqlSession, Class<T> mapperInterface, 
                       Map<Method, MapperMethod> methodCache) {
        this.sqlSession = sqlSession;
        this.mapperInterface = mapperInterface;
        this.methodCache = methodCache;
    }
}
```

**ğŸ”‘ å±æ€§è¯´æ˜**ï¼š

| å±æ€§ | å«ä¹‰ | ä½œç”¨ |
|------|------|------|
| `sqlSession` | SQLä¼šè¯å¯¹è±¡ | æ‰§è¡Œå¢åˆ æ”¹æŸ¥æ“ä½œ |
| `mapperInterface` | Mapperæ¥å£ç±»å‹ | ç¡®å®šæ˜¯å“ªä¸ªMapper |
| `methodCache` | æ–¹æ³•ç¼“å­˜ | é¿å…é‡å¤è§£ææ–¹æ³• |

### 3.3 invokeæ–¹æ³•æ ¸å¿ƒé€»è¾‘


**ğŸ¯ æ–¹æ³•è°ƒç”¨æ‹¦æˆª**

```java
@Override
public Object invoke(Object proxy, Method method, Object[] args) {
    
    // 1ï¸âƒ£ ç‰¹æ®Šæ–¹æ³•ç›´æ¥æ‰§è¡Œï¼ˆObjectç±»æ–¹æ³•ï¼‰
    if (Object.class.equals(method.getDeclaringClass())) {
        return method.invoke(this, args);
    }
    
    // 2ï¸âƒ£ ä»ç¼“å­˜è·å–æˆ–åˆ›å»ºMapperMethod
    MapperMethod mapperMethod = cachedMapperMethod(method);
    
    // 3ï¸âƒ£ æ‰§è¡ŒSQLå¹¶è¿”å›ç»“æœ
    return mapperMethod.execute(sqlSession, args);
}
```

**ğŸ“ æ‰§è¡Œæ­¥éª¤è§£æ**ï¼š

```
æ­¥éª¤1ï¼šè¿‡æ»¤ç‰¹æ®Šæ–¹æ³•
  - toString()ã€hashCode()ç­‰Objectæ–¹æ³•
  - è¿™äº›æ–¹æ³•ä¸éœ€è¦æ‰§è¡ŒSQL

æ­¥éª¤2ï¼šè·å–MapperMethod
  - å…ˆæŸ¥ç¼“å­˜ï¼Œæœ‰å°±ç›´æ¥ç”¨
  - æ²¡æœ‰å°±åˆ›å»ºå¹¶æ”¾å…¥ç¼“å­˜

æ­¥éª¤3ï¼šæ‰§è¡ŒSQL
  - è°ƒç”¨MapperMethod.execute()
  - ä¼ å…¥sqlSessionå’Œå‚æ•°
```

### 3.4 æ–¹æ³•ç¼“å­˜æœºåˆ¶


**âš¡ ä¸ºä»€ä¹ˆè¦ç¼“å­˜ï¼Ÿ**

```
å‡è®¾é¢‘ç¹è°ƒç”¨ userMapper.findById(1L)
æ¯æ¬¡è°ƒç”¨éƒ½è¦ï¼š
  - è§£ææ–¹æ³•ç­¾å
  - åˆ†æå‚æ•°ç±»å‹
  - åˆ¤æ–­SQLç±»å‹ï¼ˆSELECT/INSERTç­‰ï¼‰
  
è¿™äº›ä¿¡æ¯ä¸ä¼šå˜ï¼Œé‡å¤è§£ææµªè´¹æ€§èƒ½ï¼

è§£å†³æ–¹æ¡ˆï¼šç¬¬ä¸€æ¬¡è§£æåç¼“å­˜èµ·æ¥
```

**ğŸ”„ ç¼“å­˜æµç¨‹**

```
ç¬¬1æ¬¡è°ƒç”¨ findById()
    â†“
è§£ææ–¹æ³•ï¼Œåˆ›å»ºMapperMethod
    â†“
æ”¾å…¥methodCache
    â†“
è¿”å›ç»“æœ

ç¬¬2æ¬¡è°ƒç”¨ findById()
    â†“
ç›´æ¥ä»methodCacheè·å–
    â†“
è¿”å›ç»“æœï¼ˆèŠ‚çœè§£ææ—¶é—´ï¼‰
```

---

## 4. ğŸ“‹ MapperMethodæ–¹æ³•å°è£…


### 4.1 MapperMethodçš„ä½œç”¨


**ğŸ¯ æ ¸å¿ƒåŠŸèƒ½**

`MapperMethod`æ˜¯å¯¹Mapperæ–¹æ³•çš„å®Œæ•´å°è£…ï¼ŒåŒ…å«ï¼š

```
âœ… SQLå‘½ä»¤ç±»å‹ï¼ˆSELECTã€INSERTã€UPDATEã€DELETEï¼‰
âœ… æ–¹æ³•ç­¾åä¿¡æ¯ï¼ˆå‚æ•°ç±»å‹ã€è¿”å›å€¼ç±»å‹ï¼‰
âœ… å‚æ•°è§£æé€»è¾‘
âœ… ç»“æœè½¬æ¢é€»è¾‘
âœ… SQLæ‰§è¡Œé€»è¾‘
```

**ğŸ—ï¸ ç»“æ„ç»„æˆ**

```
MapperMethod
    â”‚
    â”œâ”€ SqlCommandï¼ˆSQLå‘½ä»¤ï¼‰
    â”‚    â”œâ”€ SQLè¯­å¥ID
    â”‚    â””â”€ SQLç±»å‹ï¼ˆINSERT/UPDATE/DELETE/SELECTï¼‰
    â”‚
    â””â”€ MethodSignatureï¼ˆæ–¹æ³•ç­¾åï¼‰
         â”œâ”€ è¿”å›å€¼ç±»å‹
         â”œâ”€ å‚æ•°ç±»å‹
         â””â”€ å‚æ•°åç§°æ˜ å°„
```

### 4.2 SqlCommandå‘½ä»¤å¯¹è±¡


**ğŸ“Œ SQLå‘½ä»¤ä¿¡æ¯**

```java
public static class SqlCommand {
    
    private final String name;        // SQLè¯­å¥IDï¼ˆå¦‚ï¼šcom.example.UserMapper.findByIdï¼‰
    private final SqlCommandType type; // SQLç±»å‹ï¼ˆINSERT/UPDATE/DELETE/SELECTç­‰ï¼‰
    
    public SqlCommand(Configuration config, Class<?> mapperInterface, Method method) {
        // 1. æ„å»ºSQLè¯­å¥ID
        String statementName = mapperInterface.getName() + "." + method.getName();
        
        // 2. ä»é…ç½®ä¸­è·å–SQLæ˜ å°„
        MappedStatement ms = config.getMappedStatement(statementName);
        
        // 3. è·å–SQLç±»å‹
        this.name = ms.getId();
        this.type = ms.getSqlCommandType();
    }
}
```

**ğŸ” å·¥ä½œåŸç†**ï¼š

```
å‡è®¾è°ƒç”¨ï¼šuserMapper.findById(1L)

1ï¸âƒ£ æ„å»ºstatementId
   mapperInterface = com.example.UserMapper
   method.getName() = findById
   â†“
   statementId = "com.example.UserMapper.findById"

2ï¸âƒ£ æŸ¥æ‰¾SQLé…ç½®
   åœ¨XMLæˆ–æ³¨è§£ä¸­æ‰¾åˆ°å¯¹åº”çš„SQL

3ï¸âƒ£ ç¡®å®šSQLç±»å‹
   <select> â†’ SqlCommandType.SELECT
   <insert> â†’ SqlCommandType.INSERT
   ...
```

### 4.3 MethodSignatureæ–¹æ³•ç­¾å


**ğŸ“ ç­¾åä¿¡æ¯è§£æ**

```java
public static class MethodSignature {
    
    private final boolean returnsMany;       // è¿”å›é›†åˆï¼Ÿ
    private final boolean returnsMap;        // è¿”å›Mapï¼Ÿ
    private final boolean returnsVoid;       // è¿”å›voidï¼Ÿ
    private final Class<?> returnType;       // è¿”å›ç±»å‹
    private final String mapKey;             // Mapçš„keyå­—æ®µ
    private final Integer resultHandlerIndex;// ResultHandlerå‚æ•°ä½ç½®
    private final Integer rowBoundsIndex;    // RowBoundså‚æ•°ä½ç½®
    private final ParamNameResolver paramNameResolver; // å‚æ•°åè§£æå™¨
    
    public MethodSignature(Configuration config, Class<?> mapperInterface, Method method) {
        // è§£æè¿”å›å€¼ç±»å‹
        Type resolvedReturnType = TypeParameterResolver.resolveReturnType(method, mapperInterface);
        this.returnType = resolvedReturnType instanceof Class ? (Class<?>) resolvedReturnType : null;
        this.returnsVoid = void.class.equals(this.returnType);
        this.returnsMany = Collection.class.isAssignableFrom(this.returnType) || this.returnType.isArray();
        this.returnsMap = Map.class.isAssignableFrom(this.returnType);
        
        // è§£æå‚æ•°
        this.paramNameResolver = new ParamNameResolver(config, method);
        // å…¶ä»–åˆå§‹åŒ–...
    }
}
```

**ğŸ¨ è¿”å›å€¼ç±»å‹åˆ¤æ–­**

| æ–¹æ³•å®šä¹‰ | returnsVoid | returnsMany | returnsMap | returnType |
|---------|-------------|-------------|------------|------------|
| `void insert(User user)` | âœ… true | âŒ false | âŒ false | `void.class` |
| `User findById(Long id)` | âŒ false | âŒ false | âŒ false | `User.class` |
| `List<User> findAll()` | âŒ false | âœ… true | âŒ false | `List.class` |
| `Map<Long,User> findMap()` | âŒ false | âŒ false | âœ… true | `Map.class` |

---

## 5. ğŸ” æ–¹æ³•ç­¾åä¸å‚æ•°è§£æ


### 5.1 å‚æ•°è§£æçš„æŒ‘æˆ˜


**â“ é—®é¢˜åœºæ™¯**

```java
// Mapperæ¥å£æ–¹æ³•
User findByNameAndAge(String name, Integer age);
```

å¯¹åº”çš„XMLé…ç½®ï¼š

```xml
<select id="findByNameAndAge" resultType="User">
    SELECT * FROM user WHERE name = #{name} AND age = #{age}
</select>
```

**ğŸ¤” MyBatiséœ€è¦è§£å†³**ï¼š
- æ–¹æ³•å‚æ•°`name`å’Œ`age`æ²¡æœ‰åå­—ï¼ˆç¼–è¯‘åå˜æˆarg0ã€arg1ï¼‰
- å¦‚ä½•æŠŠJavaå‚æ•°æ˜ å°„åˆ°SQLçš„`#{name}`å’Œ`#{age}`ï¼Ÿ

### 5.2 å‚æ•°åè§£æç­–ç•¥


**ğŸ¯ ParamNameResolverå‚æ•°åè§£æå™¨**

MyBatisä½¿ç”¨å¤šç§ç­–ç•¥è§£æå‚æ•°åï¼š

```
ç­–ç•¥ä¼˜å…ˆçº§ï¼š

1ï¸âƒ£ @Paramæ³¨è§£ï¼ˆæœ€é«˜ä¼˜å…ˆçº§ï¼‰
   User findByName(@Param("username") String name)
   â†’ å‚æ•°åå°±æ˜¯ "username"

2ï¸âƒ£ é…ç½®å‚æ•°åä¿ç•™ï¼ˆuseActualParamName=trueï¼‰
   User findByName(String name)
   â†’ å‚æ•°åå°±æ˜¯ "name"

3ï¸âƒ£ é»˜è®¤å‚æ•°åï¼ˆarg0, arg1, param1, param2ï¼‰
   User find(String name, Integer age)
   â†’ arg0/param1 = name
   â†’ arg1/param2 = age
```

### 5.3 å‚æ•°æ˜ å°„è¡¨æ„å»º


**ğŸ—‚ï¸ å‚æ•°ç´¢å¼•æ˜ å°„**

```java
public class ParamNameResolver {
    
    // å‚æ•°ç´¢å¼• â†’ å‚æ•°åæ˜ å°„
    private final SortedMap<Integer, String> names;
    
    public ParamNameResolver(Configuration config, Method method) {
        // è·å–æ–¹æ³•å‚æ•°ç±»å‹
        Class<?>[] paramTypes = method.getParameterTypes();
        
        // è·å–æ–¹æ³•å‚æ•°æ³¨è§£
        Annotation[][] paramAnnotations = method.getParameterAnnotations();
        
        SortedMap<Integer, String> map = new TreeMap<>();
        
        for (int paramIndex = 0; paramIndex < paramTypes.length; paramIndex++) {
            // 1. æ£€æŸ¥@Paramæ³¨è§£
            String name = null;
            for (Annotation annotation : paramAnnotations[paramIndex]) {
                if (annotation instanceof Param) {
                    name = ((Param) annotation).value();
                    break;
                }
            }
            
            // 2. å¦‚æœæ²¡æœ‰@Paramï¼Œä½¿ç”¨å‚æ•°åæˆ–é»˜è®¤å
            if (name == null) {
                name = String.valueOf(map.size());
            }
            
            map.put(paramIndex, name);
        }
        
        this.names = Collections.unmodifiableSortedMap(map);
    }
}
```

### 5.4 å‚æ•°è½¬æ¢ç¤ºä¾‹


**ğŸ“Š å®é™…è½¬æ¢è¿‡ç¨‹**

```java
// åœºæ™¯1ï¼šä½¿ç”¨@Paramæ³¨è§£
User findByName(@Param("username") String name, @Param("userAge") Integer age)

å‚æ•°æ˜ å°„è¡¨ï¼š
  0 â†’ "username"
  1 â†’ "userAge"

è°ƒç”¨ï¼šfindByName("å¼ ä¸‰", 25)
â†“
å‚æ•°Mapï¼š
  {"username": "å¼ ä¸‰", "userAge": 25}


// åœºæ™¯2ï¼šä¸ä½¿ç”¨@Param
User findByName(String name, Integer age)

å‚æ•°æ˜ å°„è¡¨ï¼š
  0 â†’ "0"
  1 â†’ "1"

è°ƒç”¨ï¼šfindByName("å¼ ä¸‰", 25)
â†“
å‚æ•°Mapï¼š
  {"0": "å¼ ä¸‰", "1": 25, "param1": "å¼ ä¸‰", "param2": 25}
```

**ğŸ’¡ æœ€ä½³å®è·µ**ï¼š
- å•ä¸ªå‚æ•°ï¼šå¯ä»¥ä¸ç”¨`@Param`
- å¤šä¸ªå‚æ•°ï¼šå»ºè®®ä½¿ç”¨`@Param`æ˜ç¡®å‚æ•°å
- é¿å…ä¾èµ–é»˜è®¤å‚æ•°åï¼ˆarg0ã€arg1ï¼‰

---

## 6. ğŸ”„ è¿”å›å€¼è½¬æ¢ç­–ç•¥


### 6.1 è¿”å›å€¼å¤„ç†æµç¨‹


**ğŸ¯ æ ¸å¿ƒexecuteæ–¹æ³•**

```java
public Object execute(SqlSession sqlSession, Object[] args) {
    Object result;
    
    // æ ¹æ®SQLç±»å‹æ‰§è¡Œä¸åŒé€»è¾‘
    switch (command.getType()) {
        case INSERT: {
            Object param = method.convertArgsToSqlCommandParam(args);
            result = rowCountResult(sqlSession.insert(command.getName(), param));
            break;
        }
        case UPDATE: {
            Object param = method.convertArgsToSqlCommandParam(args);
            result = rowCountResult(sqlSession.update(command.getName(), param));
            break;
        }
        case DELETE: {
            Object param = method.convertArgsToSqlCommandParam(args);
            result = rowCountResult(sqlSession.delete(command.getName(), param));
            break;
        }
        case SELECT:
            if (method.returnsVoid() && method.hasResultHandler()) {
                // voidæ–¹æ³•ï¼Œä½¿ç”¨ResultHandler
                executeWithResultHandler(sqlSession, args);
                result = null;
            } else if (method.returnsMany()) {
                // è¿”å›é›†åˆ
                result = executeForMany(sqlSession, args);
            } else if (method.returnsMap()) {
                // è¿”å›Map
                result = executeForMap(sqlSession, args);
            } else {
                // è¿”å›å•ä¸ªå¯¹è±¡
                Object param = method.convertArgsToSqlCommandParam(args);
                result = sqlSession.selectOne(command.getName(), param);
            }
            break;
        default:
            throw new BindingException("Unknown execution method");
    }
    
    return result;
}
```

### 6.2 ä¸åŒè¿”å›å€¼ç±»å‹å¤„ç†


**ğŸ“‹ INSERT/UPDATE/DELETEå¤„ç†**

```java
// å½±å“è¡Œæ•°è½¬æ¢
private Object rowCountResult(int rowCount) {
    Object result;
    if (method.returnsVoid()) {
        result = null;  // voidè¿”å›null
    } else if (Integer.class.equals(method.getReturnType()) || 
               Integer.TYPE.equals(method.getReturnType())) {
        result = rowCount;  // int/Integerè¿”å›è¡Œæ•°
    } else if (Long.class.equals(method.getReturnType()) || 
               Long.TYPE.equals(method.getReturnType())) {
        result = (long)rowCount;  // long/Longè¿”å›è¡Œæ•°
    } else if (Boolean.class.equals(method.getReturnType()) || 
               Boolean.TYPE.equals(method.getReturnType())) {
        result = rowCount > 0;  // booleanè¿”å›æ˜¯å¦æˆåŠŸ
    } else {
        throw new BindingException("è¿”å›ç±»å‹é”™è¯¯");
    }
    return result;
}
```

**ğŸ¨ è¿”å›å€¼è½¬æ¢ç¤ºä¾‹**

| æ–¹æ³•å®šä¹‰ | SQLå½±å“è¡Œæ•° | è¿”å›å€¼ |
|---------|------------|--------|
| `void insert(User user)` | 1 | `null` |
| `int insert(User user)` | 1 | `1` |
| `long update(User user)` | 5 | `5L` |
| `boolean delete(Long id)` | 1 | `true` |
| `boolean delete(Long id)` | 0 | `false` |

### 6.3 SELECTæŸ¥è¯¢ç»“æœå¤„ç†


**ğŸ“Š å•å¯¹è±¡è¿”å›**

```java
private <T> T executeForSingle(SqlSession sqlSession, Object[] args) {
    Object param = method.convertArgsToSqlCommandParam(args);
    List<T> result = sqlSession.selectList(command.getName(), param);
    
    if (result == null || result.isEmpty()) {
        return null;  // æ²¡æœ‰ç»“æœè¿”å›null
    } else if (result.size() == 1) {
        return result.get(0);  // ä¸€æ¡è®°å½•è¿”å›è¯¥å¯¹è±¡
    } else {
        throw new TooManyResultsException("æœŸæœ›1æ¡è®°å½•ï¼Œå®é™…" + result.size() + "æ¡");
    }
}
```

**ğŸ“š é›†åˆè¿”å›**

```java
private <E> List<E> executeForMany(SqlSession sqlSession, Object[] args) {
    List<E> result;
    Object param = method.convertArgsToSqlCommandParam(args);
    
    if (method.hasRowBounds()) {
        // åˆ†é¡µæŸ¥è¯¢
        RowBounds rowBounds = method.extractRowBounds(args);
        result = sqlSession.selectList(command.getName(), param, rowBounds);
    } else {
        // æ™®é€šæŸ¥è¯¢
        result = sqlSession.selectList(command.getName(), param);
    }
    
    // å¦‚æœè¿”å›ç±»å‹ä¸æ˜¯Listï¼Œéœ€è¦è½¬æ¢
    if (!method.getReturnType().isAssignableFrom(result.getClass())) {
        if (method.getReturnType().isArray()) {
            return (List<E>) convertToArray(result);
        } else {
            return (List<E>) convertToCollection(result);
        }
    }
    
    return result;
}
```

**ğŸ—ºï¸ Mapè¿”å›**

```java
private <K, V> Map<K, V> executeForMap(SqlSession sqlSession, Object[] args) {
    Map<K, V> result;
    Object param = method.convertArgsToSqlCommandParam(args);
    
    // è·å–@MapKeyæ³¨è§£æŒ‡å®šçš„keyå­—æ®µ
    String mapKey = method.getMapKey();
    
    result = sqlSession.selectMap(command.getName(), param, mapKey);
    return result;
}
```

---

## 7. âš ï¸ å¼‚å¸¸å¤„ç†æœºåˆ¶


### 7.1 å¼‚å¸¸ä¼ æ’­é“¾è·¯


**ğŸ”— å¼‚å¸¸æµè½¬è¿‡ç¨‹**

```
Mapperæ¥å£è°ƒç”¨
    â†“
MapperProxy.invoke()
    â†“
MapperMethod.execute()
    â†“
SqlSession.select/insert/update/delete
    â†“
Executoræ‰§è¡ŒSQL
    â†“
JDBCæ‰§è¡Œ
    â†“
ã€å¼‚å¸¸å‘ç”Ÿã€‘
    â†“
é€å±‚å‘ä¸ŠæŠ›å‡º
    â†“
æœ€ç»ˆåˆ°è¾¾è°ƒç”¨è€…
```

### 7.2 å¸¸è§å¼‚å¸¸ç±»å‹


**ğŸ“‹ MyBatiså¼‚å¸¸ä½“ç³»**

```
BindingExceptionï¼ˆç»‘å®šå¼‚å¸¸ï¼‰
  - æ‰¾ä¸åˆ°Mapperæ–¹æ³•
  - å‚æ•°ç»‘å®šé”™è¯¯
  - è¿”å›å€¼ç±»å‹é”™è¯¯

TooManyResultsExceptionï¼ˆç»“æœè¿‡å¤šå¼‚å¸¸ï¼‰
  - æœŸæœ›1æ¡è®°å½•ï¼Œå®é™…è¿”å›å¤šæ¡

PersistenceExceptionï¼ˆæŒä¹…åŒ–å¼‚å¸¸ï¼‰
  - SQLæ‰§è¡Œå¼‚å¸¸
  - æ•°æ®åº“è¿æ¥å¼‚å¸¸
  
TypeExceptionï¼ˆç±»å‹å¼‚å¸¸ï¼‰
  - ç±»å‹è½¬æ¢å¤±è´¥
```

### 7.3 å¼‚å¸¸å¤„ç†ç¤ºä¾‹


**ğŸ›¡ï¸ å¼‚å¸¸æ•è·å’Œå¤„ç†**

```java
public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {
    try {
        // æ­£å¸¸æ‰§è¡Œé€»è¾‘
        if (Object.class.equals(method.getDeclaringClass())) {
            return method.invoke(this, args);
        }
        
        MapperMethod mapperMethod = cachedMapperMethod(method);
        return mapperMethod.execute(sqlSession, args);
        
    } catch (RuntimeException e) {
        // è¿è¡Œæ—¶å¼‚å¸¸ç›´æ¥æŠ›å‡º
        throw e;
    } catch (Throwable t) {
        // æ£€æŸ¥å¼‚å¸¸åŒ…è£…åæŠ›å‡º
        throw new PersistenceException("Mapperè°ƒç”¨å¼‚å¸¸: " + method, t);
    }
}
```

**ğŸ’¡ å¼‚å¸¸å¤„ç†å»ºè®®**ï¼š

```java
// âœ… æ¨èåšæ³•
try {
    User user = userMapper.findById(id);
    if (user == null) {
        // å¤„ç†æœªæ‰¾åˆ°çš„æƒ…å†µ
    }
} catch (PersistenceException e) {
    // è®°å½•æ—¥å¿—
    log.error("æŸ¥è¯¢ç”¨æˆ·å¤±è´¥", e);
    // ä¸šåŠ¡å¤„ç†
    throw new BusinessException("ç”¨æˆ·æŸ¥è¯¢å¤±è´¥");
}

// âŒ ä¸æ¨è
User user = userMapper.findById(id);  // æ²¡æœ‰å¼‚å¸¸å¤„ç†
```

---

## 8. ğŸš€ ä»£ç†ç¼“å­˜ä¼˜åŒ–


### 8.1 ä¸ºä»€ä¹ˆéœ€è¦ç¼“å­˜


**â±ï¸ æ€§èƒ½å¯¹æ¯”åˆ†æ**

```
ä¸ä½¿ç”¨ç¼“å­˜ï¼š
  æ¯æ¬¡è°ƒç”¨Mapperæ–¹æ³•
    â†’ åˆ›å»ºMapperMethodå¯¹è±¡
    â†’ è§£ææ–¹æ³•ç­¾å
    â†’ è§£æå‚æ•°
    â†’ åˆ¤æ–­SQLç±»å‹
  è€—æ—¶ï¼š~0.5ms

ä½¿ç”¨ç¼“å­˜ï¼š
  ç¬¬1æ¬¡è°ƒç”¨
    â†’ åˆ›å»ºå¹¶ç¼“å­˜MapperMethod
    â†’ è€—æ—¶ï¼š~0.5ms
  
  ç¬¬2æ¬¡åŠä»¥å
    â†’ ç›´æ¥ä»ç¼“å­˜è·å–
    â†’ è€—æ—¶ï¼š~0.001msï¼ˆ500å€æå‡ï¼ï¼‰
```

### 8.2 ç¼“å­˜å®ç°æœºåˆ¶


**ğŸ—„ï¸ ä¸¤çº§ç¼“å­˜è®¾è®¡**

```
MapperProxyFactoryï¼ˆå·¥å‚çº§ç¼“å­˜ï¼‰
    â”‚
    â”œâ”€ methodCacheï¼ˆæ–¹æ³•ç¼“å­˜Mapï¼‰
    â”‚    â”œâ”€ Method1 â†’ MapperMethod1
    â”‚    â”œâ”€ Method2 â†’ MapperMethod2
    â”‚    â””â”€ Method3 â†’ MapperMethod3
    â”‚
    â””â”€ æ‰€æœ‰ä»£ç†å¯¹è±¡å…±äº«è¿™ä¸ªç¼“å­˜
```

**ğŸ’¾ ç¼“å­˜å®ç°ä»£ç **

```java
public class MapperProxy<T> implements InvocationHandler {
    
    // æ–¹æ³•ç¼“å­˜ï¼ˆæ‰€æœ‰ä»£ç†å®ä¾‹å…±äº«ï¼‰
    private final Map<Method, MapperMethod> methodCache;
    
    private MapperMethod cachedMapperMethod(Method method) {
        // åŒé‡æ£€æŸ¥é”ï¼Œç¡®ä¿çº¿ç¨‹å®‰å…¨
        MapperMethod mapperMethod = methodCache.get(method);
        
        if (mapperMethod == null) {
            synchronized (methodCache) {
                mapperMethod = methodCache.get(method);
                if (mapperMethod == null) {
                    // åˆ›å»ºMapperMethodå¹¶ç¼“å­˜
                    mapperMethod = new MapperMethod(mapperInterface, method, sqlSession.getConfiguration());
                    methodCache.put(method, mapperMethod);
                }
            }
        }
        
        return mapperMethod;
    }
}
```

### 8.3 ç¼“å­˜ç”Ÿå‘½å‘¨æœŸ


**â™»ï¸ ç¼“å­˜ç®¡ç†**

```
åˆ›å»ºé˜¶æ®µï¼š
  MapperProxyFactoryåˆ›å»º
    â†’ åˆå§‹åŒ–ç©ºçš„methodCache
    â†’ æ‰€æœ‰ä»£ç†å¯¹è±¡å…±äº«

ä½¿ç”¨é˜¶æ®µï¼š
  ç¬¬ä¸€æ¬¡è°ƒç”¨æ–¹æ³•
    â†’ è§£æå¹¶ç¼“å­˜MapperMethod
    â†’ åç»­è°ƒç”¨ç›´æ¥ä½¿ç”¨

é”€æ¯é˜¶æ®µï¼š
  SqlSessionFactoryå…³é—­
    â†’ MapperProxyFactoryé”€æ¯
    â†’ methodCacheè¢«åƒåœ¾å›æ”¶
```

**âš ï¸ æ³¨æ„äº‹é¡¹**ï¼š

```
âœ… ç¼“å­˜æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼ˆä½¿ç”¨ConcurrentHashMapï¼‰
âœ… ç¼“å­˜ä¸SqlSessionFactoryç”Ÿå‘½å‘¨æœŸä¸€è‡´
âœ… ä¸åŒMapperæ¥å£æœ‰ç‹¬ç«‹çš„ç¼“å­˜
âŒ ç¼“å­˜ä¸ä¼šè‡ªåŠ¨æ¸…ç†ï¼ˆé™¤éSqlSessionFactoryå…³é—­ï¼‰
âŒ åå°„ä¿®æ”¹æ–¹æ³•ä¸ä¼šæ›´æ–°ç¼“å­˜
```

---

## 9. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 9.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


**ğŸ¯ ä»£ç†æœºåˆ¶æœ¬è´¨**

```
Mapperæ¥å£ â†’ JDKåŠ¨æ€ä»£ç† â†’ MapperProxy â†’ MapperMethod â†’ SqlSession â†’ SQLæ‰§è¡Œ
```

**ğŸ”‘ å…³é”®è§’è‰²èŒè´£**

| ç»„ä»¶ | æ ¸å¿ƒèŒè´£ | ç±»æ¯” |
|------|---------|------|
| **JDKåŠ¨æ€ä»£ç†** | ç”Ÿæˆä»£ç†å¯¹è±¡ï¼Œæ‹¦æˆªæ–¹æ³•è°ƒç”¨ | é—¨å«ï¼Œæ‹¦æˆªæ‰€æœ‰è¿›å‡º |
| **MapperProxy** | InvocationHandlerå®ç°ï¼Œå¤„ç†æ–¹æ³•è°ƒç”¨ | ä¸­ä»‹ï¼Œè´Ÿè´£åè°ƒ |
| **MapperMethod** | å°è£…æ–¹æ³•ä¿¡æ¯ï¼Œæ‰§è¡ŒSQL | æ‰§è¡Œè€…ï¼ŒçœŸæ­£å¹²æ´» |
| **SqlCommand** | SQLè¯­å¥IDå’Œç±»å‹ | ä»»åŠ¡å•ï¼Œè¯´æ˜åšä»€ä¹ˆ |
| **MethodSignature** | æ–¹æ³•ç­¾åä¿¡æ¯ | è¯´æ˜ä¹¦ï¼Œå¦‚ä½•åš |

### 9.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ’¡ ä»£ç†æœºåˆ¶çš„ä¼˜åŠ¿**

```
1ï¸âƒ£ æ— éœ€å®ç°ç±»
   - åªå®šä¹‰æ¥å£å³å¯
   - å‡å°‘ä»£ç é‡

2ï¸âƒ£ è‡ªåŠ¨å‚æ•°æ˜ å°„
   - æ–¹æ³•å‚æ•°è‡ªåŠ¨ç»‘å®šåˆ°SQL
   - æ”¯æŒ@Paramæ³¨è§£

3ï¸âƒ£ æ™ºèƒ½ç»“æœè½¬æ¢
   - è‡ªåŠ¨è½¬æ¢è¿”å›å€¼ç±»å‹
   - æ”¯æŒå•ä¸ªã€é›†åˆã€Mapç­‰

4ï¸âƒ£ æ€§èƒ½ä¼˜åŒ–
   - æ–¹æ³•ä¿¡æ¯ç¼“å­˜
   - é¿å…é‡å¤è§£æ
```

**ğŸ” å‚æ•°å¤„ç†ç­–ç•¥**

```
ä¼˜å…ˆçº§ï¼š@Paramæ³¨è§£ > å®é™…å‚æ•°å > é»˜è®¤å‚æ•°å

æ¨èåšæ³•ï¼š
- å•å‚æ•°ï¼šå¯çœç•¥@Param
- å¤šå‚æ•°ï¼šå¿…é¡»ä½¿ç”¨@Param
```

**ğŸ”„ è¿”å›å€¼å¤„ç†è§„åˆ™**

```
INSERT/UPDATE/DELETEï¼š
  void â†’ null
  int/Integer â†’ å½±å“è¡Œæ•°
  long/Long â†’ å½±å“è¡Œæ•°
  boolean â†’ æ˜¯å¦æˆåŠŸ

SELECTï¼š
  å•ä¸ªå¯¹è±¡ â†’ selectOne
  List/æ•°ç»„ â†’ selectList
  Map â†’ selectMap
```

### 9.3 å®é™…åº”ç”¨å»ºè®®


**âœ… æœ€ä½³å®è·µ**

```java
// 1. ä½¿ç”¨@Paramæ˜ç¡®å‚æ•°å
User findByNameAndAge(@Param("name") String name, @Param("age") Integer age);

// 2. åˆç†é€‰æ‹©è¿”å›å€¼ç±»å‹
int insert(User user);           // è¿”å›å½±å“è¡Œæ•°
User findById(Long id);          // å¯èƒ½è¿”å›null
List<User> findAll();            // è¿”å›ç©ºé›†åˆè€Œénull

// 3. å¼‚å¸¸å¤„ç†
try {
    userMapper.insert(user);
} catch (PersistenceException e) {
    log.error("æ’å…¥å¤±è´¥", e);
    throw new BusinessException("ä¿å­˜ç”¨æˆ·å¤±è´¥");
}
```

**âŒ å¸¸è§è¯¯åŒº**

```java
// è¯¯åŒº1ï¼šä¾èµ–é»˜è®¤å‚æ•°å
User find(String name, Integer age);
// SQL: WHERE name = #{0} AND age = #{1}  âŒ ä¸æ¸…æ™°

// è¯¯åŒº2ï¼šæœŸæœ›0è¡Œè¿”å›null
int delete(Long id);  // åˆ é™¤0è¡Œæ—¶è¿”å›0ï¼Œä¸æ˜¯nullï¼

// è¯¯åŒº3ï¼šå¿½ç•¥å¼‚å¸¸å¤„ç†
User user = userMapper.findById(id);  // å¯èƒ½æŠ›å¼‚å¸¸
```

### 9.4 åŸç†å›¾æ€»ç»“


**ğŸ¨ å®Œæ•´å·¥ä½œæµç¨‹**

```
å¼€å‘è€…è°ƒç”¨
    â†“
userMapper.findById(1L)
    â†“
MapperProxyæ‹¦æˆª
    â†“
[æ£€æŸ¥methodCache]
    â†“æœ‰ç¼“å­˜              â†“æ— ç¼“å­˜
è·å–MapperMethod      åˆ›å»ºMapperMethod
    â†“                    â†“
    â†â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
            â†“
    è§£æå‚æ•°ï¼š{id: 1L}
            â†“
    è·å–SQLå‘½ä»¤ï¼šSELECT
            â†“
    sqlSession.selectOne("findById", {id: 1L})
            â†“
    æ‰§è¡ŒSQL
            â†“
    ç»“æœè½¬æ¢ï¼šUserå¯¹è±¡
            â†“
    è¿”å›ç»™è°ƒç”¨è€…
```

**ğŸ† æ ¸å¿ƒè®°å¿†**

```
ä»£ç†å¯¹è±¡æ˜¯æ›¿èº«ï¼Œæ‹¦æˆªè°ƒç”¨åšè½¬æ¢
æ–¹æ³•ä¿¡æ¯å…¨ç¼“å­˜ï¼Œå‚æ•°æ˜ å°„ä¸ç”¨ç®¡
SQLç±»å‹æ™ºèƒ½åˆ¤ï¼Œè¿”å›ç»“æœè‡ªåŠ¨è½¬
å¼‚å¸¸ä¼ æ’­è¦å¤„ç†ï¼Œæ€§èƒ½ä¼˜åŒ–é ç¼“å­˜
```

---

## ğŸ“š æ‰©å±•å­¦ä¹ 


**ğŸ”— ç›¸å…³çŸ¥è¯†ç‚¹**
- JDKåŠ¨æ€ä»£ç† vs CGLIBä»£ç†
- MyBatis SQLæ‰§è¡Œæµç¨‹
- MyBatisç¼“å­˜æœºåˆ¶
- MyBatisæ’ä»¶æœºåˆ¶

**ğŸ“– æ·±å…¥é˜…è¯»**
- MyBatiså®˜æ–¹æ–‡æ¡£ï¼šMapperé…ç½®
- ã€ŠMyBatisæŠ€æœ¯å†…å¹•ã€‹ï¼šä»£ç†æœºåˆ¶ç« èŠ‚
- è®¾è®¡æ¨¡å¼ï¼šä»£ç†æ¨¡å¼è¯¦è§£