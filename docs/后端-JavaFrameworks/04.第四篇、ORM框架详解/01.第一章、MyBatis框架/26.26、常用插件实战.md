---
title: 26ã€å¸¸ç”¨æ’ä»¶å®æˆ˜
---
## ğŸ“š ç›®å½•

1. [æ’ä»¶æœºåˆ¶å¿«é€Ÿå›é¡¾](#1-æ’ä»¶æœºåˆ¶å¿«é€Ÿå›é¡¾)
2. [åˆ†é¡µæ’ä»¶å®ç°](#2-åˆ†é¡µæ’ä»¶å®ç°)
3. [SQLæ‰“å°ä¸ç›‘æ§æ’ä»¶](#3-SQLæ‰“å°ä¸ç›‘æ§æ’ä»¶)
4. [æ•°æ®å®‰å…¨æ’ä»¶](#4-æ•°æ®å®‰å…¨æ’ä»¶)
5. [å¤šæ•°æ®æºä¸åˆ†åº“åˆ†è¡¨](#5-å¤šæ•°æ®æºä¸åˆ†åº“åˆ†è¡¨)
6. [å®¡è®¡ä¸æƒé™æ§åˆ¶](#6-å®¡è®¡ä¸æƒé™æ§åˆ¶)
7. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#7-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ”Œ æ’ä»¶æœºåˆ¶å¿«é€Ÿå›é¡¾


### 1.1 ä»€ä¹ˆæ˜¯MyBatisæ’ä»¶


**é€šä¿—ç†è§£**ï¼šæ’ä»¶å°±åƒæ˜¯ç»™MyBatisè£…ä¸Šçš„"å¢å¼ºé…ä»¶"ï¼Œè®©å®ƒå…·å¤‡åŸæœ¬æ²¡æœ‰çš„åŠŸèƒ½ã€‚

```
ç±»æ¯”ç°å®åœºæ™¯ï¼š
æ‰‹æœºï¼ˆMyBatisï¼‰         + æ‰‹æœºå£³ï¼ˆæ’ä»¶ï¼‰    = æ›´å¼ºå¤§çš„æ‰‹æœº
åŸºç¡€æ‹ç…§åŠŸèƒ½            + ç¾é¢œæ’ä»¶          = è‡ªåŠ¨ç¾åŒ–ç…§ç‰‡
åŸºç¡€æŸ¥è¯¢åŠŸèƒ½            + åˆ†é¡µæ’ä»¶          = è‡ªåŠ¨åˆ†é¡µæŸ¥è¯¢
åŸºç¡€SQLæ‰§è¡Œ             + ç›‘æ§æ’ä»¶          = æ€§èƒ½ç›‘æ§åˆ†æ
```

### 1.2 æ’ä»¶å·¥ä½œåŸç†


**æ ¸å¿ƒæœºåˆ¶**ï¼šæ‹¦æˆªå™¨æ¨¡å¼ - åœ¨SQLæ‰§è¡Œçš„å…³é”®ç¯èŠ‚"æ’ä¸€è„š"

```
æ­£å¸¸SQLæ‰§è¡Œæµç¨‹ï¼š
åº”ç”¨ç¨‹åº â†’ MyBatis â†’ æ•°æ®åº“ â†’ è¿”å›ç»“æœ

åŠ å…¥æ’ä»¶åçš„æµç¨‹ï¼š
åº”ç”¨ç¨‹åº â†’ MyBatis â†’ ã€æ’ä»¶æ‹¦æˆªã€‘â†’ å¢å¼ºå¤„ç† â†’ æ•°æ®åº“ â†’ ã€æ’ä»¶æ‹¦æˆªã€‘â†’ ç»“æœå¤„ç† â†’ è¿”å›ç»“æœ
                      â†‘                              â†‘
                   æ‰§è¡Œå‰æ‹¦æˆª                      æ‰§è¡Œåæ‹¦æˆª
```

> ğŸ’¡ **å…³é”®ç†è§£**ï¼šæ’ä»¶ä¸ä¼šæ”¹å˜MyBatisçš„æ ¸å¿ƒä»£ç ï¼Œåªæ˜¯åœ¨å…³é”®ä½ç½®"åŠ ç‚¹æ–™"

### 1.3 å››å¤§æ‹¦æˆªç‚¹


MyBatisæä¾›äº†4ä¸ªå¯ä»¥"æ’æ‰‹"çš„ä½ç½®ï¼š

| æ‹¦æˆªç‚¹ | **ä½œç”¨æ—¶æœº** | **å…¸å‹åº”ç”¨** | **é€šä¿—ç†è§£** |
|--------|-------------|-------------|-------------|
| `Executor` | SQLæ‰§è¡Œå™¨ | åˆ†é¡µã€ç¼“å­˜ã€å¤šæ•°æ®æº | æ€»æŒ‡æŒ¥ï¼Œæ§åˆ¶æ•´ä¸ªSQLæ‰§è¡Œ |
| `StatementHandler` | SQLè¯­å¥å¤„ç† | SQLæ”¹å†™ã€å‚æ•°å¤„ç† | ç¿»è¯‘å®˜ï¼ŒæŠŠSQLç¿»è¯‘æˆæ•°æ®åº“èƒ½æ‡‚çš„ |
| `ParameterHandler` | å‚æ•°å¤„ç† | å‚æ•°åŠ å¯†ã€ç±»å‹è½¬æ¢ | å¿«é€’å‘˜ï¼Œè´Ÿè´£æŠŠå‚æ•°é€åˆ°SQLé‡Œ |
| `ResultSetHandler` | ç»“æœé›†å¤„ç† | ç»“æœè„±æ•ã€æ ¼å¼è½¬æ¢ | åŒ…è£…å‘˜ï¼ŒæŠŠæ•°æ®åº“ç»“æœæ‰“åŒ…å¥½ |

---

## 2. ğŸ“„ åˆ†é¡µæ’ä»¶å®ç°


### 2.1 ä¸ºä»€ä¹ˆéœ€è¦åˆ†é¡µæ’ä»¶


**ä¸šåŠ¡åœºæ™¯**ï¼šæŸ¥è¯¢10ä¸‡æ¡ç”¨æˆ·æ•°æ®ï¼Œä¸€æ¬¡æ€§è¿”å›ä¼šæ€æ ·ï¼Ÿ

```
âŒ ä¸åˆ†é¡µçš„é—®é¢˜ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ é—®é¢˜1ï¼šå†…å­˜çˆ†ç‚¸                  â”‚
â”‚ 10ä¸‡æ¡ Ã— æ¯æ¡1KB = 100MBå†…å­˜    â”‚
â”‚                                 â”‚
â”‚ é—®é¢˜2ï¼šå“åº”è¶…æ…¢                  â”‚
â”‚ æ•°æ®åº“æŸ¥è¯¢æ…¢ + ç½‘ç»œä¼ è¾“æ…¢        â”‚
â”‚                                 â”‚
â”‚ é—®é¢˜3ï¼šç”¨æˆ·ä½“éªŒå·®                â”‚
â”‚ é¡µé¢å¡æ­»ï¼Œæ— æ³•æ“ä½œ               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

âœ… åˆ†é¡µçš„å¥½å¤„ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ¯æ¬¡åªæŸ¥10æ¡ Ã— æ¯æ¡1KB = 10KB   â”‚
â”‚ å¿«é€Ÿå“åº” + æµç•…ä½“éªŒ              â”‚
â”‚ ç”¨æˆ·å¯ä»¥æŒ‰éœ€ç¿»é¡µæŸ¥çœ‹             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 åˆ†é¡µæ’ä»¶æ ¸å¿ƒå®ç°


> ğŸ“Œ **å®ç°æ€è·¯**ï¼šè‡ªåŠ¨åœ¨SQLåé¢åŠ ä¸Š `LIMIT` è¯­å¥

**Step 1ï¼šåˆ›å»ºåˆ†é¡µæ’ä»¶**

```java
@Intercepts({
    @Signature(
        type = Executor.class,
        method = "query",
        args = {MappedStatement.class, Object.class, RowBounds.class, ResultHandler.class}
    )
})
public class PagePlugin implements Interceptor {
    
    @Override
    public Object intercept(Invocation invocation) throws Throwable {
        // è·å–åŸå§‹å‚æ•°
        Object[] args = invocation.getArgs();
        MappedStatement ms = (MappedStatement) args[0];
        Object parameter = args[1];
        RowBounds rowBounds = (RowBounds) args[2];
        
        // åˆ¤æ–­æ˜¯å¦éœ€è¦åˆ†é¡µ
        if (rowBounds.getOffset() == 0 && rowBounds.getLimit() == Integer.MAX_VALUE) {
            return invocation.proceed(); // ä¸éœ€è¦åˆ†é¡µï¼Œç›´æ¥æ‰§è¡Œ
        }
        
        // è·å–åŸå§‹SQL
        BoundSql boundSql = ms.getBoundSql(parameter);
        String sql = boundSql.getSql();
        
        // æ”¹å†™SQLï¼Œæ·»åŠ åˆ†é¡µ
        String pageSql = sql + " LIMIT " + rowBounds.getOffset() + ", " + rowBounds.getLimit();
        
        // æ‰§è¡Œåˆ†é¡µSQL
        // ... å…·ä½“å®ç°ä»£ç 
    }
}
```

**åŸç†è§£æ**ï¼š
```
åŸå§‹SQLï¼š
SELECT * FROM user WHERE age > 18

æ’ä»¶æ‹¦æˆªåï¼š
SELECT * FROM user WHERE age > 18 LIMIT 0, 10
                                    â†‘      â†‘
                                  èµ·å§‹ä½ç½® æ¯é¡µæ•°é‡
```

### 2.3 PageHelperä½¿ç”¨å®æˆ˜


> ğŸš€ **æ¨èä½¿ç”¨**ï¼šPageHelper - ç›®å‰æœ€æµè¡Œçš„MyBatisåˆ†é¡µæ’ä»¶

**Step 1ï¼šå¼•å…¥ä¾èµ–**

```xml
<dependency>
    <groupId>com.github.pagehelper</groupId>
    <artifactId>pagehelper-spring-boot-starter</artifactId>
    <version>1.4.6</version>
</dependency>
```

**Step 2ï¼šä½¿ç”¨åˆ†é¡µï¼ˆè¶…ç®€å•ï¼ï¼‰**

```java
// æŸ¥è¯¢ç¬¬1é¡µï¼Œæ¯é¡µ10æ¡
PageHelper.startPage(1, 10);
List<User> users = userMapper.selectAll();

// åŒ…è£…åˆ†é¡µç»“æœ
PageInfo<User> pageInfo = new PageInfo<>(users);

// è·å–åˆ†é¡µä¿¡æ¯
pageInfo.getTotal();      // æ€»è®°å½•æ•°ï¼š156
pageInfo.getPages();      // æ€»é¡µæ•°ï¼š16
pageInfo.getPageNum();    // å½“å‰é¡µï¼š1
pageInfo.getPageSize();   // æ¯é¡µæ•°é‡ï¼š10
```

**å·¥ä½œæµç¨‹å›¾**ï¼š

```
ä¸šåŠ¡ä»£ç è°ƒç”¨æµç¨‹ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. PageHelper.startPage(1, 10)              â”‚
â”‚    â””â”€ æŠŠåˆ†é¡µå‚æ•°å­˜åˆ°ThreadLocal              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 2. userMapper.selectAll()                   â”‚
â”‚    â””â”€ è§¦å‘åˆ†é¡µæ’ä»¶æ‹¦æˆª                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 3. æ’ä»¶è‡ªåŠ¨æ”¹å†™SQL                           â”‚
â”‚    SELECT * FROM user                       â”‚
â”‚    å˜æˆ                                      â”‚
â”‚    SELECT * FROM user LIMIT 0, 10           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 4. è¿”å›åˆ†é¡µç»“æœ                              â”‚
â”‚    â””â”€ æ¸…ç†ThreadLocal                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

> âš ï¸ **æ³¨æ„äº‹é¡¹**ï¼š`startPage()` å¿…é¡»ç´§è·ŸæŸ¥è¯¢è¯­å¥ï¼Œä¸­é—´ä¸èƒ½æœ‰å…¶ä»–æ“ä½œ

### 2.4 åˆ†é¡µæ’ä»¶é«˜çº§ç‰¹æ€§


**åˆç†åŒ–åˆ†é¡µ**ï¼šé˜²æ­¢ç”¨æˆ·æ¶æ„æŸ¥è¯¢

```java
// é…ç½®åˆç†åŒ–å‚æ•°
PageHelper.startPage(pageNum, pageSize)
    .setReasonable(true);  // å¼€å¯åˆç†åŒ–

// æ•ˆæœï¼š
// ç”¨æˆ·è¯·æ±‚ç¬¬0é¡µ â†’ è‡ªåŠ¨å˜æˆç¬¬1é¡µ
// ç”¨æˆ·è¯·æ±‚ç¬¬999é¡µ â†’ è‡ªåŠ¨å˜æˆæœ€åä¸€é¡µ
```

**æ’åºæ”¯æŒ**ï¼š

```java
// æŒ‰åˆ›å»ºæ—¶é—´é™åº
PageHelper.startPage(1, 10)
    .setOrderBy("create_time desc");

// ç”ŸæˆSQLï¼š
// SELECT * FROM user ORDER BY create_time desc LIMIT 0, 10
```

---

## 3. ğŸ“Š SQLæ‰“å°ä¸ç›‘æ§æ’ä»¶


### 3.1 SQLæ‰“å°æ’ä»¶


**ä¸ºä»€ä¹ˆéœ€è¦æ‰“å°SQL**ï¼šå¼€å‘è°ƒè¯•æ—¶ï¼Œæƒ³çœ‹çœ‹MyBatisåˆ°åº•æ‰§è¡Œäº†ä»€ä¹ˆSQL

> ğŸ’¡ **åœºæ™¯**ï¼šå‘ç°æŸ¥è¯¢ç»“æœä¸å¯¹ï¼Œæƒ³çœ‹çœ‹SQLå“ªé‡Œå†™é”™äº†

**æ–¹å¼1ï¼šMyBatisè‡ªå¸¦æ—¥å¿—**

```yaml
# application.yml
mybatis:
  configuration:
    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl
```

è¾“å‡ºæ•ˆæœï¼š
```
==>  Preparing: SELECT * FROM user WHERE age > ? 
==> Parameters: 18(Integer)
<==    Columns: id, name, age
<==        Row: 1, å¼ ä¸‰, 20
<==      Total: 1
```

**æ–¹å¼2ï¼šè‡ªå®šä¹‰SQLæ‰“å°æ’ä»¶**

```java
@Intercepts({
    @Signature(type = StatementHandler.class, method = "prepare", args = {Connection.class, Integer.class})
})
public class SqlPrintPlugin implements Interceptor {
    
    @Override
    public Object intercept(Invocation invocation) throws Throwable {
        StatementHandler handler = (StatementHandler) invocation.getTarget();
        BoundSql boundSql = handler.getBoundSql();
        
        // è·å–SQLå’Œå‚æ•°
        String sql = boundSql.getSql();
        Object params = boundSql.getParameterObject();
        
        // æ ¼å¼åŒ–è¾“å‡º
        System.out.println("â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”");
        System.out.println("ğŸ“ æ‰§è¡ŒSQL: " + formatSql(sql));
        System.out.println("ğŸ“Œ å‚æ•°: " + params);
        System.out.println("â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”");
        
        return invocation.proceed();
    }
}
```

### 3.2 æ€§èƒ½ç›‘æ§æ’ä»¶


**ç›‘æ§ä»€ä¹ˆ**ï¼šSQLæ‰§è¡Œæ—¶é—´ã€æ‰§è¡Œæ¬¡æ•°ã€æ…¢SQLæ£€æµ‹

```java
@Intercepts({
    @Signature(type = Executor.class, method = "query", args = {MappedStatement.class, Object.class, RowBounds.class, ResultHandler.class})
})
public class PerformancePlugin implements Interceptor {
    
    private static final long SLOW_SQL_THRESHOLD = 1000; // 1ç§’ç®—æ…¢SQL
    
    @Override
    public Object intercept(Invocation invocation) throws Throwable {
        long startTime = System.currentTimeMillis();
        
        // æ‰§è¡ŒSQL
        Object result = invocation.proceed();
        
        long endTime = System.currentTimeMillis();
        long costTime = endTime - startTime;
        
        // æ…¢SQLå‘Šè­¦
        if (costTime > SLOW_SQL_THRESHOLD) {
            MappedStatement ms = (MappedStatement) invocation.getArgs()[0];
            System.err.println("âš ï¸ æ…¢SQLå‘Šè­¦!");
            System.err.println("SQL ID: " + ms.getId());
            System.err.println("è€—æ—¶: " + costTime + "ms");
        }
        
        return result;
    }
}
```

**ç›‘æ§æ•°æ®å¯è§†åŒ–**ï¼š

```
æ€§èƒ½ç»Ÿè®¡æŠ¥è¡¨ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SQLæ–¹æ³•         â”‚ æ‰§è¡Œæ¬¡æ•°  â”‚ å¹³å‡è€—æ—¶ â”‚ æœ€å¤§è€—æ—¶  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ selectUserById  â”‚   1,234  â”‚  23ms   â”‚   156ms  â”‚
â”‚ selectUserList  â”‚     456  â”‚ 234ms   â”‚  1,234ms â”‚ âš ï¸
â”‚ updateUser      â”‚      89  â”‚  12ms   â”‚    45ms  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.3 æ…¢SQLæ£€æµ‹æ’ä»¶


**å®ç°ç­–ç•¥**ï¼šè¶…è¿‡é˜ˆå€¼çš„SQLè®°å½•åˆ°æ—¥å¿—æˆ–æ•°æ®åº“

```java
public class SlowSqlDetector implements Interceptor {
    
    @Override
    public Object intercept(Invocation invocation) throws Throwable {
        long start = System.currentTimeMillis();
        Object result = invocation.proceed();
        long cost = System.currentTimeMillis() - start;
        
        if (cost > 1000) { // è¶…è¿‡1ç§’
            SlowSqlLog log = new SlowSqlLog();
            log.setSql(getSql(invocation));
            log.setCostTime(cost);
            log.setExecuteTime(new Date());
            
            // è®°å½•åˆ°æ•°æ®åº“
            slowSqlMapper.insert(log);
            
            // å‘é€å‘Šè­¦
            alertService.sendAlert("æ…¢SQLå‘Šè­¦", log);
        }
        
        return result;
    }
}
```

---

## 4. ğŸ”’ æ•°æ®å®‰å…¨æ’ä»¶


### 4.1 æ•°æ®è„±æ•æ’ä»¶


**ä»€ä¹ˆæ˜¯è„±æ•**ï¼šéšè—æ•æ„Ÿä¿¡æ¯ï¼Œä¿æŠ¤ç”¨æˆ·éšç§

```
è„±æ•æ•ˆæœå¯¹æ¯”ï¼š
åŸå§‹æ•°æ®         â†’    è„±æ•å
å¼ ä¸‰            â†’    å¼ *
13812345678     â†’    138****5678
110101199001011234 â†’ 1101**********1234
```

**å®ç°æ€è·¯**ï¼šåœ¨ç»“æœè¿”å›æ—¶ï¼Œè‡ªåŠ¨è„±æ•æ•æ„Ÿå­—æ®µ

```java
@Intercepts({
    @Signature(type = ResultSetHandler.class, method = "handleResultSets", args = {Statement.class})
})
public class DataMaskPlugin implements Interceptor {
    
    @Override
    public Object intercept(Invocation invocation) throws Throwable {
        // è·å–æŸ¥è¯¢ç»“æœ
        List<Object> results = (List<Object>) invocation.proceed();
        
        // éå†ç»“æœï¼Œè„±æ•å¤„ç†
        for (Object result : results) {
            maskSensitiveData(result);
        }
        
        return results;
    }
    
    private void maskSensitiveData(Object obj) {
        Field[] fields = obj.getClass().getDeclaredFields();
        for (Field field : fields) {
            // æ£€æŸ¥æ˜¯å¦æœ‰@Sensitiveæ³¨è§£
            if (field.isAnnotationPresent(Sensitive.class)) {
                field.setAccessible(true);
                String value = (String) field.get(obj);
                
                // æ ¹æ®ç±»å‹è„±æ•
                Sensitive anno = field.getAnnotation(Sensitive.class);
                String masked = mask(value, anno.type());
                field.set(obj, masked);
            }
        }
    }
}
```

**ä½¿ç”¨æ–¹å¼**ï¼š

```java
public class User {
    private String name;
    
    @Sensitive(type = SensitiveType.MOBILE)
    private String phone;
    
    @Sensitive(type = SensitiveType.ID_CARD)
    private String idCard;
}

// æŸ¥è¯¢ç»“æœè‡ªåŠ¨è„±æ•
User user = userMapper.selectById(1);
System.out.println(user.getPhone()); // è¾“å‡ºï¼š138****5678
```

### 4.2 å‚æ•°åŠ å¯†æ’ä»¶


**åº”ç”¨åœºæ™¯**ï¼šå¯†ç ã€é“¶è¡Œå¡å·ç­‰æ•æ„Ÿæ•°æ®å…¥åº“å‰åŠ å¯†

```java
@Intercepts({
    @Signature(type = ParameterHandler.class, method = "setParameters", args = {PreparedStatement.class})
})
public class EncryptPlugin implements Interceptor {
    
    @Override
    public Object intercept(Invocation invocation) throws Throwable {
        ParameterHandler handler = (ParameterHandler) invocation.getTarget();
        Object param = handler.getParameterObject();
        
        // å¦‚æœå‚æ•°å¯¹è±¡åŒ…å«éœ€è¦åŠ å¯†çš„å­—æ®µ
        if (param != null) {
            encryptFields(param);
        }
        
        return invocation.proceed();
    }
    
    private void encryptFields(Object param) {
        // æ‰¾åˆ°æ ‡è®°@Encryptçš„å­—æ®µ
        // ä½¿ç”¨AESåŠ å¯†
        // æ›¿æ¢åŸå§‹å€¼
    }
}
```

**åŠ è§£å¯†æµç¨‹**ï¼š

```
å†™å…¥æ•°æ®ï¼š
ç”¨æˆ·è¾“å…¥å¯†ç  â†’ ã€åŠ å¯†æ’ä»¶ã€‘â†’ åŠ å¯†åå­˜æ•°æ®åº“
  123456              AESåŠ å¯†      x7d9f2a...

è¯»å–æ•°æ®ï¼š
æ•°æ®åº“å¯†æ–‡ â†’ ã€è§£å¯†æ’ä»¶ã€‘â†’ è§£å¯†åè¿”å›
 x7d9f2a...        AESè§£å¯†        123456
```

---

## 5. ğŸ—„ï¸ å¤šæ•°æ®æºä¸åˆ†åº“åˆ†è¡¨


### 5.1 å¤šæ•°æ®æºæ’ä»¶


**ä¸šåŠ¡åœºæ™¯**ï¼šä¸€ä¸ªåº”ç”¨è¿æ¥å¤šä¸ªæ•°æ®åº“

```
å…¸å‹åœºæ™¯ï¼š
ä¸»åº“ï¼ˆå†™ï¼‰ â† ç”¨æˆ·ä¸‹å•ã€ä¿®æ”¹ä¿¡æ¯
ä»åº“ï¼ˆè¯»ï¼‰ â† æŸ¥è¯¢è®¢å•ã€ç”¨æˆ·åˆ—è¡¨
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ åº”ç”¨æœåŠ¡å™¨                      â”‚
â”‚  â”œâ”€ å†™æ“ä½œ â†’ ä¸»åº“(Master)       â”‚
â”‚  â””â”€ è¯»æ“ä½œ â†’ ä»åº“(Slave)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å®ç°æ€è·¯**ï¼šåŠ¨æ€åˆ‡æ¢æ•°æ®æº

```java
// æ•°æ®æºä¸Šä¸‹æ–‡
public class DataSourceContext {
    private static final ThreadLocal<String> context = new ThreadLocal<>();
    
    public static void setDataSource(String ds) {
        context.set(ds);
    }
    
    public static String getDataSource() {
        return context.get();
    }
}

// å¤šæ•°æ®æºæ’ä»¶
@Intercepts({
    @Signature(type = Executor.class, method = "update", args = {MappedStatement.class, Object.class}),
    @Signature(type = Executor.class, method = "query", args = {MappedStatement.class, Object.class, RowBounds.class, ResultHandler.class})
})
public class MultiDataSourcePlugin implements Interceptor {
    
    @Override
    public Object intercept(Invocation invocation) throws Throwable {
        String methodName = invocation.getMethod().getName();
        
        // å†™æ“ä½œç”¨ä¸»åº“
        if ("update".equals(methodName)) {
            DataSourceContext.setDataSource("master");
        }
        // è¯»æ“ä½œç”¨ä»åº“
        else if ("query".equals(methodName)) {
            DataSourceContext.setDataSource("slave");
        }
        
        return invocation.proceed();
    }
}
```

### 5.2 è¯»å†™åˆ†ç¦»æ’ä»¶


**æ ¸å¿ƒé€»è¾‘**ï¼šè‡ªåŠ¨è¯†åˆ«SQLç±»å‹ï¼Œåˆ‡æ¢æ•°æ®æº

```
SQLç±»å‹åˆ¤æ–­ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SQLç±»å‹         â”‚ å…³é”®å­—   â”‚ æ•°æ®æº   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æŸ¥è¯¢(SELECT)    â”‚ select   â”‚ ä»åº“     â”‚
â”‚ æ’å…¥(INSERT)    â”‚ insert   â”‚ ä¸»åº“     â”‚
â”‚ æ›´æ–°(UPDATE)    â”‚ update   â”‚ ä¸»åº“     â”‚
â”‚ åˆ é™¤(DELETE)    â”‚ delete   â”‚ ä¸»åº“     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ³¨è§£æ–¹å¼ä½¿ç”¨**ï¼š

```java
// æ–¹æ³•çº§åˆ«æŒ‡å®šæ•°æ®æº
@DataSource("master")
public void createOrder(Order order) {
    orderMapper.insert(order);
}

@DataSource("slave")
public List<Order> queryOrders() {
    return orderMapper.selectAll();
}
```

### 5.3 åˆ†åº“åˆ†è¡¨æ’ä»¶


**ä»€ä¹ˆæ˜¯åˆ†åº“åˆ†è¡¨**ï¼šæ•°æ®é‡å¤ªå¤§ï¼Œæ‹†åˆ†åˆ°å¤šä¸ªæ•°æ®åº“/è¡¨

```
åˆ†åº“ç¤ºä¾‹ï¼ˆæŒ‰ç”¨æˆ·IDï¼‰ï¼š
user_id: 1-1000ä¸‡    â†’ db_0
user_id: 1000ä¸‡-2000ä¸‡ â†’ db_1
user_id: 2000ä¸‡-3000ä¸‡ â†’ db_2

åˆ†è¡¨ç¤ºä¾‹ï¼ˆæŒ‰æ—¶é—´ï¼‰ï¼š
2025å¹´1æœˆè®¢å• â†’ order_202501
2025å¹´2æœˆè®¢å• â†’ order_202502
2025å¹´3æœˆè®¢å• â†’ order_202503
```

**è·¯ç”±ç­–ç•¥**ï¼š

```java
public class ShardingPlugin implements Interceptor {
    
    @Override
    public Object intercept(Invocation invocation) throws Throwable {
        // è·å–SQL
        String sql = getSql(invocation);
        Object param = getParameter(invocation);
        
        // è§£æåˆ†ç‰‡é”®
        Long userId = extractUserId(param);
        
        // è®¡ç®—åˆ†åº“åˆ†è¡¨
        String dbName = "db_" + (userId % 10);       // åˆ†10ä¸ªåº“
        String tableName = "user_" + (userId % 100); // åˆ†100å¼ è¡¨
        
        // æ”¹å†™SQL
        sql = sql.replace("user", dbName + "." + tableName);
        
        return invocation.proceed();
    }
}
```

---

## 6. ğŸ“‹ å®¡è®¡ä¸æƒé™æ§åˆ¶


### 6.1 å®¡è®¡æ—¥å¿—æ’ä»¶


**å®¡è®¡å†…å®¹**ï¼šè°ã€ä»€ä¹ˆæ—¶å€™ã€åšäº†ä»€ä¹ˆæ“ä½œ

```
å®¡è®¡æ—¥å¿—ç¤ºä¾‹ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ“ä½œäºº     â”‚ æ“ä½œæ—¶é—´          â”‚ æ“ä½œå†…å®¹        â”‚ IPåœ°å€ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ admin      â”‚ 2025-09-23 10:30 â”‚ åˆ é™¤ç”¨æˆ·ID:123  â”‚ 192... â”‚
â”‚ zhangsan   â”‚ 2025-09-23 10:32 â”‚ ä¿®æ”¹è®¢å•ID:456  â”‚ 10.0.. â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å®ç°æ–¹å¼**ï¼š

```java
@Intercepts({
    @Signature(type = Executor.class, method = "update", args = {MappedStatement.class, Object.class})
})
public class AuditPlugin implements Interceptor {
    
    @Override
    public Object intercept(Invocation invocation) throws Throwable {
        MappedStatement ms = (MappedStatement) invocation.getArgs()[0];
        Object param = invocation.getArgs()[1];
        
        // è®°å½•å®¡è®¡ä¿¡æ¯
        AuditLog log = new AuditLog();
        log.setOperator(getCurrentUser());
        log.setOperateTime(new Date());
        log.setOperation(ms.getId());
        log.setParams(JSON.toJSONString(param));
        
        // æ‰§è¡ŒSQL
        Object result = invocation.proceed();
        
        // è®°å½•ç»“æœ
        log.setResult(result != null ? "æˆåŠŸ" : "å¤±è´¥");
        auditMapper.insert(log);
        
        return result;
    }
}
```

### 6.2 æ•°æ®æƒé™æ’ä»¶


**æƒé™æ§åˆ¶åœºæ™¯**ï¼šä¸åŒç”¨æˆ·çœ‹åˆ°ä¸åŒæ•°æ®

```
æƒé™è§„åˆ™ï¼š
æ™®é€šå‘˜å·¥ â†’ åªèƒ½çœ‹è‡ªå·±éƒ¨é—¨çš„æ•°æ®
éƒ¨é—¨ç»ç† â†’ å¯ä»¥çœ‹æœ¬éƒ¨é—¨æ‰€æœ‰æ•°æ®  
å…¬å¸é«˜ç®¡ â†’ å¯ä»¥çœ‹å…¨å…¬å¸æ•°æ®

SQLæ”¹å†™æ•ˆæœï¼š
åŸSQLï¼šSELECT * FROM employee
æ”¹å†™åï¼šSELECT * FROM employee WHERE dept_id = 'ITéƒ¨é—¨'
```

**å®ç°æ–¹æ¡ˆ**ï¼š

```java
@Intercepts({
    @Signature(type = StatementHandler.class, method = "prepare", args = {Connection.class, Integer.class})
})
public class DataPermissionPlugin implements Interceptor {
    
    @Override
    public Object intercept(Invocation invocation) throws Throwable {
        StatementHandler handler = (StatementHandler) invocation.getTarget();
        BoundSql boundSql = handler.getBoundSql();
        String sql = boundSql.getSql();
        
        // è·å–å½“å‰ç”¨æˆ·æƒé™
        User currentUser = getCurrentUser();
        String deptId = currentUser.getDeptId();
        
        // SQLæ”¹å†™ - æ·»åŠ æ•°æ®æƒé™è¿‡æ»¤
        if (!currentUser.isAdmin()) {
            sql = sql + " AND dept_id = '" + deptId + "'";
        }
        
        // æ›¿æ¢SQL
        Field sqlField = boundSql.getClass().getDeclaredField("sql");
        sqlField.setAccessible(true);
        sqlField.set(boundSql, sql);
        
        return invocation.proceed();
    }
}
```

---

## 7. ğŸ“ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 7.1 æ’ä»¶é€‰æ‹©æŒ‡å—


> ğŸ¯ **æ ¹æ®ä¸šåŠ¡éœ€æ±‚é€‰æ‹©åˆé€‚çš„æ’ä»¶**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ”¹ å¿…å¤‡æ’ä»¶ï¼ˆå‡ ä¹æ‰€æœ‰é¡¹ç›®éƒ½éœ€è¦ï¼‰           â”‚
â”‚  â”œâ”€ PageHelperï¼šåˆ†é¡µæŸ¥è¯¢                   â”‚
â”‚  â””â”€ SQLæ‰“å°ï¼šå¼€å‘è°ƒè¯•                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ”¹ æ€§èƒ½ä¼˜åŒ–æ’ä»¶ï¼ˆè¿½æ±‚é«˜æ€§èƒ½ï¼‰               â”‚
â”‚  â”œâ”€ æ€§èƒ½ç›‘æ§ï¼šSQLè€—æ—¶ç»Ÿè®¡                  â”‚
â”‚  â”œâ”€ æ…¢SQLæ£€æµ‹ï¼šæ€§èƒ½ç“¶é¢ˆå®šä½                â”‚
â”‚  â””â”€ å¤šæ•°æ®æºï¼šè¯»å†™åˆ†ç¦»                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ”¹ æ•°æ®å®‰å…¨æ’ä»¶ï¼ˆæ•æ„Ÿæ•°æ®å¤„ç†ï¼‰             â”‚
â”‚  â”œâ”€ æ•°æ®è„±æ•ï¼šéšç§ä¿æŠ¤                     â”‚
â”‚  â”œâ”€ å‚æ•°åŠ å¯†ï¼šé˜²æ­¢æ˜æ–‡å­˜å‚¨                 â”‚
â”‚  â””â”€ æ•°æ®æƒé™ï¼šè®¿é—®æ§åˆ¶                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ”¹ æ‰©å±•æ’ä»¶ï¼ˆç‰¹æ®Šåœºæ™¯ï¼‰                    â”‚
â”‚  â”œâ”€ å®¡è®¡æ—¥å¿—ï¼šæ“ä½œè¿½æº¯                     â”‚
â”‚  â”œâ”€ åˆ†åº“åˆ†è¡¨ï¼šæµ·é‡æ•°æ®                     â”‚
â”‚  â””â”€ æƒé™æ§åˆ¶ï¼šç»†ç²’åº¦æˆæƒ                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 7.2 æ’ä»¶ä½¿ç”¨æœ€ä½³å®è·µ


**å®è·µ1ï¼šæ’ä»¶é“¾é¡ºåºå¾ˆé‡è¦**

```
æ­£ç¡®çš„æ’ä»¶é¡ºåºï¼š
1. æ•°æ®æƒé™æ’ä»¶    â† å…ˆè¿‡æ»¤æ•°æ®èŒƒå›´
2. åˆ†é¡µæ’ä»¶        â† å†è¿›è¡Œåˆ†é¡µ
3. SQLæ‰“å°æ’ä»¶     â† æœ€åæ‰“å°æœ€ç»ˆSQL

é”™è¯¯é¡ºåºä¼šå¯¼è‡´ï¼š
åˆ†é¡µ â†’ æ•°æ®æƒé™ â† âŒ åˆ†é¡µåå†è¿‡æ»¤ï¼Œç»“æœæ•°ä¸å¯¹
```

**å®è·µ2ï¼šæ€§èƒ½è€ƒè™‘**

> âš ï¸ **æ³¨æ„**ï¼šæ’ä»¶è¶Šå¤šï¼Œæ€§èƒ½å¼€é”€è¶Šå¤§

```
æ€§èƒ½å½±å“è¯„ä¼°ï¼š
æ— æ’ä»¶          â†’ åŸºå‡†æ€§èƒ½ 100%
1ä¸ªæ’ä»¶(åˆ†é¡µ)   â†’ æ€§èƒ½ 95%
3ä¸ªæ’ä»¶         â†’ æ€§èƒ½ 85%
5ä¸ªæ’ä»¶ä»¥ä¸Š     â†’ æ€§èƒ½ <80% âš ï¸

å»ºè®®ï¼š
âœ… åªåŠ è½½å¿…éœ€çš„æ’ä»¶
âœ… é¿å…æ’ä»¶é‡å¤åŠŸèƒ½
âœ… å®šæœŸæ€§èƒ½æµ‹è¯•
```

**å®è·µ3ï¼šå¼‚å¸¸å¤„ç†**

```java
@Override
public Object intercept(Invocation invocation) throws Throwable {
    try {
        // æ’ä»¶é€»è¾‘
        return invocation.proceed();
    } catch (Exception e) {
        // è®°å½•å¼‚å¸¸ï¼Œä½†ä¸å½±å“ä¸»æµç¨‹
        logger.error("æ’ä»¶æ‰§è¡Œå¼‚å¸¸", e);
        return invocation.proceed(); // ç»§ç»­æ‰§è¡Œ
    }
}
```

### 7.3 å¸¸è§é—®é¢˜è§£å†³


**é—®é¢˜1ï¼šåˆ†é¡µæ’ä»¶ä¸ç”Ÿæ•ˆ**

```
åŸå› ï¼šstartPage()å’ŒæŸ¥è¯¢è¯­å¥ä¹‹é—´æœ‰å…¶ä»–æ“ä½œ

âŒ é”™è¯¯å†™æ³•ï¼š
PageHelper.startPage(1, 10);
logger.info("å‡†å¤‡æŸ¥è¯¢"); // ä¸­é—´æœ‰å…¶ä»–ä»£ç 
List<User> users = userMapper.selectAll();

âœ… æ­£ç¡®å†™æ³•ï¼š
PageHelper.startPage(1, 10);
List<User> users = userMapper.selectAll();
```

**é—®é¢˜2ï¼šå¤šæ•°æ®æºåˆ‡æ¢å¤±è´¥**

```
åŸå› ï¼šäº‹åŠ¡ä¼ æ’­å¯¼è‡´æ•°æ®æºé”å®š

è§£å†³æ–¹æ¡ˆï¼š
@Transactional(propagation = Propagation.NOT_SUPPORTED)
public List<User> query() {
    // åœ¨æ— äº‹åŠ¡ç¯å¢ƒä¸‹åˆ‡æ¢æ•°æ®æº
}
```

**é—®é¢˜3ï¼šè„±æ•æ’ä»¶å½±å“æ›´æ–°**

```
é—®é¢˜ï¼šæŸ¥è¯¢æ—¶è„±æ•çš„æ•°æ®ï¼Œæ›´æ–°æ—¶ä¹Ÿè¢«è„±æ•äº†

è§£å†³ï¼šåŒºåˆ†æŸ¥è¯¢å’Œæ›´æ–°åœºæ™¯
@Intercepts({
    @Signature(type = ResultSetHandler.class, ...)  // åªåœ¨æŸ¥è¯¢æ—¶è„±æ•
})
```

### 7.4 å­¦ä¹ è·¯å¾„å»ºè®®


```
é˜¶æ®µ1ï¸âƒ£ åŸºç¡€å…¥é—¨ï¼ˆ1-2å¤©ï¼‰
â””â”€ ç†è§£æ’ä»¶æœºåˆ¶
â””â”€ æŒæ¡PageHelperä½¿ç”¨

é˜¶æ®µ2ï¸âƒ£ å®æˆ˜åº”ç”¨ï¼ˆ3-5å¤©ï¼‰
â””â”€ å®ç°SQLæ‰“å°æ’ä»¶
â””â”€ å®ç°æ€§èƒ½ç›‘æ§æ’ä»¶
â””â”€ å®ç°æ•°æ®è„±æ•æ’ä»¶

é˜¶æ®µ3ï¸âƒ£ é«˜çº§è¿›é˜¶ï¼ˆ1-2å‘¨ï¼‰
â””â”€ å¤šæ•°æ®æºæ¶æ„è®¾è®¡
â””â”€ åˆ†åº“åˆ†è¡¨æ–¹æ¡ˆå®æ–½
â””â”€ å®¡è®¡ä¸æƒé™ä½“ç³»æ­å»º
```

### 7.5 æ ¸å¿ƒè®°å¿†å£è¯€


> ğŸ§  **è®°å¿†è¦ç‚¹**

```
æ’ä»¶æœºåˆ¶è®°å››ç‚¹ï¼šExecutorã€Statementã€Parameterã€Result
åˆ†é¡µæ’ä»¶è¦ç´§è·Ÿï¼šstartPageåé¢ç´§è·ŸæŸ¥è¯¢è¯­å¥  
æ•°æ®å®‰å…¨ä¸‰æŠŠé”ï¼šè„±æ•ã€åŠ å¯†ã€æƒé™æ§åˆ¶
æ€§èƒ½ä¼˜åŒ–åŒç›‘æ§ï¼šæ…¢SQLæ£€æµ‹ã€æ‰§è¡Œç»Ÿè®¡
å¤šæºæ¶æ„åˆ†è¯»å†™ï¼šä¸»åº“å†™å…¥ä»åº“æŸ¥
```

**æœ€åæé†’**ï¼š

> ğŸ’¡ æ’ä»¶å¾ˆå¼ºå¤§ï¼Œä½†ä¸è¦æ»¥ç”¨ã€‚æ¯ä¸ªæ’ä»¶éƒ½æœ‰æ€§èƒ½å¼€é”€ï¼Œæ ¹æ®å®é™…ä¸šåŠ¡éœ€æ±‚é€‰æ‹©ï¼Œå¤Ÿç”¨å°±å¥½ï¼

> â­ æ¨èå­¦ä¹ é¡ºåºï¼šå…ˆç†Ÿç»ƒä½¿ç”¨PageHelper â†’ å†ç ”ç©¶æ’ä»¶åŸç† â†’ æœ€åè‡ªå·±åŠ¨æ‰‹å†™æ’ä»¶