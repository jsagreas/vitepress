---
title: 60ã€Schemaç”Ÿæˆä¸ç®¡ç†
---
## ğŸ“š ç›®å½•

1. [ä»€ä¹ˆæ˜¯Schemaç®¡ç†](#1-ä»€ä¹ˆæ˜¯schemaç®¡ç†)
2. [hbm2ddlè‡ªåŠ¨å»ºè¡¨](#2-hbm2ddlè‡ªåŠ¨å»ºè¡¨)
3. [SchemaExportå¯¼å‡ºå·¥å…·](#3-schemaexportå¯¼å‡ºå·¥å…·)
4. [SchemaUpdateæ›´æ–°å·¥å…·](#4-schemaupdateæ›´æ–°å·¥å…·)
5. [SchemaValidatoréªŒè¯å·¥å…·](#5-schemavalidatoréªŒè¯å·¥å…·)
6. [DDLç”Ÿæˆç­–ç•¥è¯¦è§£](#6-ddlç”Ÿæˆç­–ç•¥è¯¦è§£)
7. [æ•°æ®åº“è¿ç§»å®è·µ](#7-æ•°æ®åº“è¿ç§»å®è·µ)
8. [å¼€å‘ç¯å¢ƒvsç”Ÿäº§ç¯å¢ƒ](#8-å¼€å‘ç¯å¢ƒvsç”Ÿäº§ç¯å¢ƒ)
9. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#9-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ¯ ä»€ä¹ˆæ˜¯Schemaç®¡ç†


### 1.1 Schemaçš„å«ä¹‰


**Schemaæ˜¯ä»€ä¹ˆï¼Ÿ**
ç®€å•æ¥è¯´ï¼ŒSchemaå°±æ˜¯**æ•°æ®åº“çš„ç»“æ„è®¾è®¡å›¾**ï¼ŒåŒ…æ‹¬ï¼š
- è¡¨ç»“æ„ï¼ˆæœ‰å“ªäº›è¡¨ï¼‰
- å­—æ®µå®šä¹‰ï¼ˆæ¯ä¸ªè¡¨æœ‰ä»€ä¹ˆåˆ—ï¼‰
- æ•°æ®ç±»å‹ï¼ˆæ¯åˆ—æ˜¯ä»€ä¹ˆç±»å‹ï¼‰
- çº¦æŸæ¡ä»¶ï¼ˆä¸»é”®ã€å¤–é”®ã€å”¯ä¸€æ€§ç­‰ï¼‰

```
ç†è§£Schemaçš„ç±»æ¯”ï¼š

ç›–æˆ¿å­çš„å›¾çº¸ = æ•°æ®åº“çš„Schema
- å›¾çº¸ä¸Šæ ‡æ³¨æˆ¿é—´å¸ƒå±€ â†’ è¡¨ç»“æ„
- æ ‡æ³¨é—¨çª—ä½ç½® â†’ å­—æ®µå®šä¹‰
- æ ‡æ³¨ææ–™è§„æ ¼ â†’ æ•°æ®ç±»å‹
- æ ‡æ³¨æ‰¿é‡å¢™ â†’ çº¦æŸæ¡ä»¶
```

### 1.2 ä¸ºä»€ä¹ˆéœ€è¦Schemaç®¡ç†


**å®é™…å¼€å‘ä¸­çš„ç—›ç‚¹ï¼š**

âŒ **æ‰‹åŠ¨ç®¡ç†çš„é—®é¢˜ï¼š**
- å†™Javaå®ä½“ç±»åï¼Œè¿˜è¦æ‰‹åŠ¨å†™SQLå»ºè¡¨
- ä¿®æ”¹å®ä½“å­—æ®µï¼Œå¿˜è®°åŒæ­¥æ•°æ®åº“
- å›¢é˜Ÿåä½œæ—¶æ•°æ®åº“ç»“æ„ä¸ä¸€è‡´
- éƒ¨ç½²åˆ°æ–°ç¯å¢ƒè¦é‡æ–°å»ºè¡¨

âœ… **è‡ªåŠ¨ç®¡ç†çš„å¥½å¤„ï¼š**
- å®ä½“ç±»æ”¹äº†ï¼Œæ•°æ®åº“è‡ªåŠ¨åŒæ­¥
- æ–°ç¯å¢ƒè‡ªåŠ¨åˆ›å»ºè¡¨ç»“æ„
- å›¢é˜Ÿå¼€å‘æ•°æ®åº“ç»“æ„ç»Ÿä¸€
- å‡å°‘äººå·¥é”™è¯¯

### 1.3 Hibernateçš„Schemaç®¡ç†èƒ½åŠ›


**Hibernateæä¾›çš„Schemaç®¡ç†å·¥å…·ï¼š**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        Hibernate Schemaå·¥å…·         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚  ğŸ”§ hbm2ddl        è‡ªåŠ¨å»ºè¡¨é…ç½®     â”‚
â”‚  ğŸ“¤ SchemaExport   å¯¼å‡ºDDLè„šæœ¬      â”‚
â”‚  ğŸ”„ SchemaUpdate   æ›´æ–°è¡¨ç»“æ„       â”‚
â”‚  âœ… SchemaValidator éªŒè¯ç»“æ„        â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“                    â†“
    å¼€å‘é˜¶æ®µä½¿ç”¨          ç”Ÿäº§ç¯å¢ƒæ…ç”¨
```

---

## 2. ğŸ”§ hbm2ddlè‡ªåŠ¨å»ºè¡¨


### 2.1 ä»€ä¹ˆæ˜¯hbm2ddl


**hbm2ddlçš„å«ä¹‰ï¼š**
- **hbm** = Hibernate Mappingï¼ˆHibernateæ˜ å°„ï¼‰
- **2** = toï¼ˆåˆ°ï¼‰
- **ddl** = Data Definition Languageï¼ˆæ•°æ®å®šä¹‰è¯­è¨€ï¼Œå³å»ºè¡¨è¯­å¥ï¼‰

**é€šä¿—ç†è§£ï¼š**
å°±æ˜¯**æŠŠHibernateçš„å®ä½“ç±»æ˜ å°„è½¬æˆæ•°æ®åº“å»ºè¡¨è¯­å¥**çš„å·¥å…·ã€‚

### 2.2 æ ¸å¿ƒé…ç½®å±æ€§


**hibernate.hbm2ddl.auto çš„äº”ç§å–å€¼ï¼š**

| é…ç½®å€¼ | å«ä¹‰ | ä½¿ç”¨åœºæ™¯ | æ•°æ®å½±å“ |
|--------|------|----------|----------|
| `create` | **æ¯æ¬¡å¯åŠ¨éƒ½åˆ è¡¨é‡å»º** | å•å…ƒæµ‹è¯• | âš ï¸ æ•°æ®ä¼šä¸¢å¤± |
| `create-drop` | **å¯åŠ¨æ—¶å»ºè¡¨ï¼Œå…³é—­æ—¶åˆ è¡¨** | ä¸´æ—¶æµ‹è¯• | âš ï¸ æ•°æ®ä¼šä¸¢å¤± |
| `update` | **åªæ›´æ–°è¡¨ç»“æ„ï¼Œä¸åˆ æ•°æ®** | å¼€å‘é˜¶æ®µ | âœ… æ•°æ®ä¿ç•™ |
| `validate` | **åªéªŒè¯ç»“æ„ï¼Œä¸ä¿®æ”¹** | ç”Ÿäº§ç¯å¢ƒ | âœ… åªè¯»æ£€æŸ¥ |
| `none` | **ä»€ä¹ˆéƒ½ä¸åš** | æ‰‹åŠ¨ç®¡ç† | âœ… å®Œå…¨äººå·¥æ§åˆ¶ |

### 2.3 é…ç½®ç¤ºä¾‹


**application.propertiesé…ç½®ï¼š**

```properties
# å¼€å‘é˜¶æ®µé…ç½® - è‡ªåŠ¨æ›´æ–°è¡¨ç»“æ„
spring.jpa.hibernate.ddl-auto=update

# ç”Ÿäº§ç¯å¢ƒé…ç½® - åªéªŒè¯ä¸ä¿®æ”¹
spring.jpa.hibernate.ddl-auto=validate

# æ˜¾ç¤ºç”Ÿæˆçš„SQLè¯­å¥ï¼ˆä¾¿äºå­¦ä¹ ï¼‰
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
```

**hibernate.cfg.xmlé…ç½®ï¼š**

```xml
<property name="hibernate.hbm2ddl.auto">update</property>
<property name="hibernate.show_sql">true</property>
<property name="hibernate.format_sql">true</property>
```

### 2.4 å®é™…è¿è¡Œæ•ˆæœ


**å‡è®¾æˆ‘ä»¬æœ‰è¿™æ ·çš„å®ä½“ç±»ï¼š**

```java
@Entity
@Table(name = "t_user")
public class User {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;
    
    private String username;
    private String email;
    private Integer age;
}
```

**ä½¿ç”¨updateæ¨¡å¼ï¼ŒHibernateä¼šè‡ªåŠ¨ç”Ÿæˆï¼š**

```sql
CREATE TABLE t_user (
    id BIGINT AUTO_INCREMENT PRIMARY KEY,
    username VARCHAR(255),
    email VARCHAR(255),
    age INTEGER
);
```

**åæ¥ä½ ç»™å®ä½“ç±»åŠ äº†ä¸ªå­—æ®µï¼š**

```java
@Entity
@Table(name = "t_user")
public class User {
    // ...åŸæœ‰å­—æ®µ
    private String phone;  // æ–°å¢å­—æ®µ
}
```

**Hibernateè‡ªåŠ¨æ‰§è¡Œï¼š**

```sql
ALTER TABLE t_user ADD COLUMN phone VARCHAR(255);
```

### 2.5 ä½¿ç”¨å»ºè®®


**ğŸŸ¢ é€‚åˆä½¿ç”¨çš„åœºæ™¯ï¼š**
- âœ… ä¸ªäººå­¦ä¹ é¡¹ç›®
- âœ… å¼€å‘æµ‹è¯•ç¯å¢ƒ
- âœ… å¿«é€ŸåŸå‹éªŒè¯
- âœ… å•å…ƒæµ‹è¯•æ•°æ®åº“

**ğŸ”´ ä¸é€‚åˆä½¿ç”¨çš„åœºæ™¯ï¼š**
- âŒ ç”Ÿäº§ç¯å¢ƒï¼ˆæ•°æ®å®‰å…¨ç¬¬ä¸€ï¼‰
- âŒ å¤§å‹é¡¹ç›®ï¼ˆéœ€è¦ä¸¥æ ¼æ§åˆ¶ï¼‰
- âŒ å›¢é˜Ÿåä½œï¼ˆå®¹æ˜“å†²çªï¼‰
- âŒ æœ‰å†å²æ•°æ®ï¼ˆå¯èƒ½ä¸¢å¤±ï¼‰

---

## 3. ğŸ“¤ SchemaExportå¯¼å‡ºå·¥å…·


### 3.1 SchemaExportæ˜¯ä»€ä¹ˆ


**é€šä¿—ç†è§£ï¼š**
SchemaExportå°±åƒä¸€ä¸ª**"DDLè„šæœ¬ç”Ÿæˆå™¨"**ï¼Œå®ƒå¯ä»¥ï¼š
- æŠŠå®ä½“ç±»æ˜ å°„è½¬æˆSQLå»ºè¡¨è„šæœ¬
- å¯¼å‡ºåˆ°æ–‡ä»¶ä¾›DBAå®¡æ ¸
- ç›´æ¥æ‰§è¡Œåˆ›å»ºæ•°æ®åº“

**å’Œhbm2ddlçš„åŒºåˆ«ï¼š**
- hbm2ddlï¼šå¯åŠ¨æ—¶è‡ªåŠ¨æ‰§è¡Œ
- SchemaExportï¼šæ‰‹åŠ¨è°ƒç”¨å¯¼å‡º

### 3.2 åŸºæœ¬ä½¿ç”¨æ–¹å¼


**å¯¼å‡ºDDLè„šæœ¬åˆ°æ–‡ä»¶ï¼š**

```java
// åˆ›å»ºé…ç½®
Configuration config = new Configuration()
    .configure()  // åŠ è½½hibernate.cfg.xml
    .addAnnotatedClass(User.class);

// åˆ›å»ºSchemaExportå®ä¾‹
SchemaExport schemaExport = new SchemaExport();

// è®¾ç½®è¾“å‡ºé€‰é¡¹
schemaExport.setDelimiter(";");  // SQLè¯­å¥åˆ†éš”ç¬¦
schemaExport.setFormat(true);    // æ ¼å¼åŒ–SQL
schemaExport.setOutputFile("create_tables.sql");  // è¾“å‡ºæ–‡ä»¶

// æ‰§è¡Œå¯¼å‡ºï¼ˆä¸æ‰§è¡Œåˆ°æ•°æ®åº“ï¼‰
schemaExport.execute(
    EnumSet.of(TargetType.SCRIPT),  // å¯¼å‡ºåˆ°è„šæœ¬
    SchemaExport.Action.CREATE,      // ç”ŸæˆCREATEè¯­å¥
    config.buildMetadata()
);
```

**å¯¼å‡ºçš„create_tables.sqlå†…å®¹ï¼š**

```sql
CREATE TABLE t_user (
    id BIGINT AUTO_INCREMENT NOT NULL,
    username VARCHAR(255),
    email VARCHAR(255),
    age INTEGER,
    phone VARCHAR(255),
    PRIMARY KEY (id)
);

CREATE TABLE t_order (
    id BIGINT AUTO_INCREMENT NOT NULL,
    order_no VARCHAR(50) NOT NULL,
    user_id BIGINT,
    PRIMARY KEY (id),
    CONSTRAINT fk_user FOREIGN KEY (user_id) REFERENCES t_user(id)
);
```

### 3.3 å¸¸ç”¨æ“ä½œæ¨¡å¼


**1ï¸âƒ£ åªå¯¼å‡ºä¸æ‰§è¡Œï¼ˆæ¨èï¼‰**

```java
schemaExport.execute(
    EnumSet.of(TargetType.SCRIPT),  // åªç”Ÿæˆè„šæœ¬
    SchemaExport.Action.CREATE,
    metadata
);
```

**2ï¸âƒ£ å¯¼å‡ºå¹¶æ‰§è¡Œåˆ°æ•°æ®åº“**

```java
schemaExport.execute(
    EnumSet.of(TargetType.DATABASE, TargetType.SCRIPT),  // æ‰§è¡Œ+å¯¼å‡º
    SchemaExport.Action.CREATE,
    metadata
);
```

**3ï¸âƒ£ ç”ŸæˆDROPå’ŒCREATEè¯­å¥**

```java
// å…ˆåˆ é™¤å†åˆ›å»º
schemaExport.execute(
    EnumSet.of(TargetType.SCRIPT),
    SchemaExport.Action.BOTH,  // DROP + CREATE
    metadata
);
```

### 3.4 å®é™…åº”ç”¨åœºæ™¯


**å…¸å‹ä½¿ç”¨æµç¨‹ï¼š**

```
å¼€å‘äººå‘˜                      DBA                    ç”Ÿäº§ç¯å¢ƒ
    |                          |                         |
    |-- ä¿®æ”¹å®ä½“ç±»              |                         |
    |                          |                         |
    |-- SchemaExportå¯¼å‡ºDDL --> |                         |
    |   create_tables.sql      |                         |
    |                          |                         |
    |                          |-- å®¡æ ¸SQLè„šæœ¬           |
    |                          |                         |
    |                          |-- æ‰‹åŠ¨æ‰§è¡ŒSQL --------> |
    |                          |                         |
    |                          |                    [ç”Ÿäº§æ•°æ®åº“]
```

**ä¸ºä»€ä¹ˆè¦è¿™æ ·åšï¼Ÿ**
- âœ… SQLè„šæœ¬å¯ä»¥è¢«å®¡æ ¸
- âœ… å¯ä»¥äººå·¥è°ƒæ•´ä¼˜åŒ–
- âœ… æœ‰ç‰ˆæœ¬æ§åˆ¶è®°å½•
- âœ… ç”Ÿäº§ç¯å¢ƒå¯æ§

---

## 4. ğŸ”„ SchemaUpdateæ›´æ–°å·¥å…·


### 4.1 SchemaUpdateçš„ä½œç”¨


**SchemaUpdateæ˜¯ä»€ä¹ˆï¼Ÿ**
å®ƒæ˜¯ä¸€ä¸ª**"æ™ºèƒ½çš„è¡¨ç»“æ„æ›´æ–°å·¥å…·"**ï¼Œå¯ä»¥ï¼š
- å¯¹æ¯”å®ä½“ç±»å’Œæ•°æ®åº“çš„å·®å¼‚
- åªç”Ÿæˆéœ€è¦çš„ALTERè¯­å¥
- ä¸åˆ é™¤å·²æœ‰çš„è¡¨å’Œæ•°æ®

**å’Œcreateæ¨¡å¼çš„åŒºåˆ«ï¼š**

```
createæ¨¡å¼ï¼š
DROP TABLE IF EXISTS t_user;    â† åˆ é™¤æ—§è¡¨
CREATE TABLE t_user (...);       â† é‡å»ºæ–°è¡¨
âŒ æ•°æ®å…¨éƒ¨ä¸¢å¤±

updateæ¨¡å¼ï¼š
ALTER TABLE t_user ADD COLUMN phone VARCHAR(255);  â† åªå¢åŠ æ–°åˆ—
âœ… æ•°æ®å®Œæ•´ä¿ç•™
```

### 4.2 ä½¿ç”¨æ–¹å¼


**åŸºæœ¬ç”¨æ³•ï¼š**

```java
Configuration config = new Configuration()
    .configure()
    .addAnnotatedClass(User.class);

// åˆ›å»ºSchemaUpdateå®ä¾‹
SchemaUpdate schemaUpdate = new SchemaUpdate();

// è®¾ç½®è¾“å‡ºé€‰é¡¹
schemaUpdate.setDelimiter(";");
schemaUpdate.setFormat(true);
schemaUpdate.setOutputFile("update_tables.sql");

// æ‰§è¡Œæ›´æ–°
schemaUpdate.execute(
    EnumSet.of(TargetType.SCRIPT),  // å¯¼å‡ºåˆ°è„šæœ¬
    config.buildMetadata()
);
```

**ç”Ÿæˆçš„update_tables.sqlï¼š**

```sql
-- åªåŒ…å«éœ€è¦å˜æ›´çš„éƒ¨åˆ†
ALTER TABLE t_user ADD COLUMN phone VARCHAR(255);
ALTER TABLE t_user ADD COLUMN address VARCHAR(500);

-- ä¸ä¼šåˆ é™¤å·²æœ‰å­—æ®µ
-- ä¸ä¼šåˆ é™¤å·²æœ‰æ•°æ®
```

### 4.3 æ›´æ–°è§„åˆ™è¯´æ˜


**SchemaUpdateçš„æ™ºèƒ½è¯†åˆ«ï¼š**

| å®ä½“å˜åŒ– | SchemaUpdateæ“ä½œ | è¯´æ˜ |
|---------|-----------------|------|
| æ–°å¢å­—æ®µ | `ADD COLUMN` | âœ… ä¼šæ‰§è¡Œ |
| ä¿®æ”¹å­—æ®µç±»å‹ | `MODIFY COLUMN` | âœ… ä¼šæ‰§è¡Œ |
| åˆ é™¤å­—æ®µ | **ä¸æ“ä½œ** | âš ï¸ ä¸ä¼šåˆ é™¤å·²æœ‰åˆ— |
| é‡å‘½åå­—æ®µ | **ä¸æ“ä½œ** | âš ï¸ è¯†åˆ«ä¸ºæ–°å¢+ä¿ç•™æ—§åˆ— |
| æ–°å¢è¡¨ | `CREATE TABLE` | âœ… ä¼šæ‰§è¡Œ |
| åˆ é™¤è¡¨ | **ä¸æ“ä½œ** | âš ï¸ ä¸ä¼šåˆ é™¤å·²æœ‰è¡¨ |

**ä¸ºä»€ä¹ˆä¸åˆ é™¤å­—æ®µå’Œè¡¨ï¼Ÿ**
- ğŸ›¡ï¸ **å®‰å…¨ç¬¬ä¸€**ï¼šé˜²æ­¢è¯¯åˆ é‡è¦æ•°æ®
- ğŸ“Š **ä¿ç•™å†å²**ï¼šæ—§å­—æ®µå¯èƒ½æœ‰å†å²æ•°æ®
- ğŸ”„ **å‘åå…¼å®¹**ï¼šæ—§ç‰ˆæœ¬å¯èƒ½è¿˜åœ¨ç”¨

### 4.4 å®é™…æ¡ˆä¾‹æ¼”ç¤º


**åœºæ™¯1ï¼šæ·»åŠ æ–°å­—æ®µ**

```java
// åŸå®ä½“ç±»
@Entity
public class User {
    @Id private Long id;
    private String username;
}

// ä¿®æ”¹å
@Entity
public class User {
    @Id private Long id;
    private String username;
    private String email;     // æ–°å¢
    private Integer age;      // æ–°å¢
}
```

**SchemaUpdateç”Ÿæˆï¼š**

```sql
ALTER TABLE user ADD COLUMN email VARCHAR(255);
ALTER TABLE user ADD COLUMN age INTEGER;
```

**åœºæ™¯2ï¼šä¿®æ”¹å­—æ®µç±»å‹**

```java
// åŸæ¥
private String age;

// ä¿®æ”¹ä¸º
private Integer age;
```

**SchemaUpdateç”Ÿæˆï¼š**

```sql
ALTER TABLE user MODIFY COLUMN age INTEGER;
```

---

## 5. âœ… SchemaValidatoréªŒè¯å·¥å…·


### 5.1 SchemaValidatorçš„ç”¨é€”


**SchemaValidatoræ˜¯ä»€ä¹ˆï¼Ÿ**
å®ƒæ˜¯ä¸€ä¸ª**"ç»“æ„ä¸€è‡´æ€§æ£€æŸ¥å™¨"**ï¼Œä½œç”¨æ˜¯ï¼š
- å¯¹æ¯”å®ä½“ç±»å’Œæ•°æ®åº“è¡¨ç»“æ„
- æ£€æŸ¥æ˜¯å¦å®Œå…¨åŒ¹é…
- **ä¸åšä»»ä½•ä¿®æ”¹**ï¼ŒåªæŠ¥å‘Šé—®é¢˜

**é€šä¿—æ¯”å–»ï¼š**
å°±åƒä½“æ£€æŠ¥å‘Šï¼Œåªå‘Šè¯‰ä½ å“ªé‡Œä¸å¯¹ï¼Œä¸ç»™ä½ æ²»ç—…ã€‚

### 5.2 åŸºæœ¬ä½¿ç”¨


```java
Configuration config = new Configuration()
    .configure()
    .addAnnotatedClass(User.class);

// åˆ›å»ºSchemaValidator
SchemaValidator validator = new SchemaValidator();

try {
    // æ‰§è¡ŒéªŒè¯
    validator.validate(config.buildMetadata());
    System.out.println("âœ… æ•°æ®åº“ç»“æ„éªŒè¯é€šè¿‡ï¼");
} catch (SchemaManagementException e) {
    System.err.println("âŒ æ•°æ®åº“ç»“æ„ä¸åŒ¹é…ï¼š" + e.getMessage());
}
```

### 5.3 éªŒè¯å†…å®¹


**SchemaValidatoræ£€æŸ¥ä»€ä¹ˆï¼Ÿ**

âœ… **ä¼šæ£€æŸ¥çš„é¡¹ç›®ï¼š**
- è¡¨æ˜¯å¦å­˜åœ¨
- å­—æ®µåæ˜¯å¦åŒ¹é…
- å­—æ®µç±»å‹æ˜¯å¦æ­£ç¡®
- ä¸»é”®å®šä¹‰æ˜¯å¦ä¸€è‡´
- å¤–é”®å…³ç³»æ˜¯å¦å­˜åœ¨
- ç´¢å¼•æ˜¯å¦å»ºç«‹

âŒ **ä¸ä¼šæ£€æŸ¥çš„é¡¹ç›®ï¼š**
- å­—æ®µé¡ºåº
- æ³¨é‡Šå†…å®¹
- æ•°æ®åº“ç‰¹å®šçš„æ‰©å±•å±æ€§

### 5.4 å®é™…åº”ç”¨åœºæ™¯


**ç”Ÿäº§ç¯å¢ƒå¯åŠ¨æ£€æŸ¥ï¼š**

```properties
# ç”Ÿäº§ç¯å¢ƒé…ç½®
spring.jpa.hibernate.ddl-auto=validate

# å¯åŠ¨æ—¶éªŒè¯
# âœ… å¦‚æœç»“æ„åŒ¹é… â†’ æ­£å¸¸å¯åŠ¨
# âŒ å¦‚æœç»“æ„ä¸åŒ¹é… â†’ å¯åŠ¨å¤±è´¥ï¼ŒæŠ›å‡ºå¼‚å¸¸
```

**éªŒè¯å¤±è´¥çš„é”™è¯¯ç¤ºä¾‹ï¼š**

```
Schema validation failed:
- Missing column: t_user.phone
- Wrong column type: t_order.amount expected DECIMAL but found VARCHAR
- Missing table: t_product
```

**ä¸ºä»€ä¹ˆè¦ç”¨validateï¼Ÿ**

```
å¼€å‘ç¯å¢ƒéƒ¨ç½²æµç¨‹ï¼š

å¼€å‘æœºå™¨(update) â†’ æµ‹è¯•ç¯å¢ƒ(validate) â†’ ç”Ÿäº§ç¯å¢ƒ(validate)
    â†“                    â†“                      â†“
è‡ªåŠ¨åŒæ­¥ç»“æ„          æ£€æŸ¥ä¸€è‡´æ€§              ä¸¥æ ¼éªŒè¯
```

---

## 6. ğŸ“‹ DDLç”Ÿæˆç­–ç•¥è¯¦è§£


### 6.1 ä»€ä¹ˆæ˜¯DDLç”Ÿæˆç­–ç•¥


**DDL = Data Definition Languageï¼ˆæ•°æ®å®šä¹‰è¯­è¨€ï¼‰**

åŒ…æ‹¬è¿™äº›SQLè¯­å¥ï¼š
- `CREATE TABLE` - åˆ›å»ºè¡¨
- `ALTER TABLE` - ä¿®æ”¹è¡¨
- `DROP TABLE` - åˆ é™¤è¡¨
- `CREATE INDEX` - åˆ›å»ºç´¢å¼•

**ç”Ÿæˆç­–ç•¥**å°±æ˜¯å†³å®šä½•æ—¶ã€å¦‚ä½•ç”Ÿæˆè¿™äº›SQLã€‚

### 6.2 ç­–ç•¥å¯¹æ¯”è¡¨


| ç­–ç•¥ | å¯åŠ¨æ—¶æ“ä½œ | å…³é—­æ—¶æ“ä½œ | æ•°æ®å½±å“ | é€‚ç”¨é˜¶æ®µ |
|------|-----------|-----------|---------|---------|
| **none** | ä¸æ“ä½œ | ä¸æ“ä½œ | æ— å½±å“ | ç”Ÿäº§ç¯å¢ƒ |
| **validate** | åªéªŒè¯ä¸ä¿®æ”¹ | ä¸æ“ä½œ | æ— å½±å“ | ç”Ÿäº§ç¯å¢ƒ |
| **update** | å¢é‡æ›´æ–°ç»“æ„ | ä¸æ“ä½œ | ä¿ç•™æ•°æ® | å¼€å‘æµ‹è¯• |
| **create** | åˆ è¡¨é‡å»º | ä¸æ“ä½œ | ä¸¢å¤±æ•°æ® | å•å…ƒæµ‹è¯• |
| **create-drop** | åˆ è¡¨é‡å»º | åˆ é™¤è¡¨ | ä¸¢å¤±æ•°æ® | é›†æˆæµ‹è¯• |

### 6.3 ç­–ç•¥é€‰æ‹©å»ºè®®


**æ ¹æ®ç¯å¢ƒé€‰æ‹©ï¼š**

```
æœ¬åœ°å¼€å‘ç¯å¢ƒï¼š
â””â”€ updateï¼ˆæ–¹ä¾¿å¼€å‘è°ƒè¯•ï¼‰

æµ‹è¯•ç¯å¢ƒï¼š
â”œâ”€ åŠŸèƒ½æµ‹è¯•ï¼šupdate
â””â”€ é›†æˆæµ‹è¯•ï¼šcreate-dropï¼ˆæ¯æ¬¡æµ‹è¯•éƒ½æ˜¯å¹²å‡€ç¯å¢ƒï¼‰

é¢„å‘å¸ƒç¯å¢ƒï¼š
â””â”€ validateï¼ˆä¸¥æ ¼éªŒè¯ï¼‰

ç”Ÿäº§ç¯å¢ƒï¼š
â””â”€ validate æˆ– noneï¼ˆç»å¯¹å®‰å…¨ï¼‰
```

**å®é™…é…ç½®ç¤ºä¾‹ï¼š**

```yaml
# application-dev.ymlï¼ˆå¼€å‘ï¼‰
spring:
  jpa:
    hibernate:
      ddl-auto: update
    show-sql: true

# application-prod.ymlï¼ˆç”Ÿäº§ï¼‰
spring:
  jpa:
    hibernate:
      ddl-auto: validate
    show-sql: false
```

### 6.4 è‡ªå®šä¹‰DDLè„šæœ¬


**æ‰‹åŠ¨æŒ‡å®šSQLè„šæœ¬ï¼š**

```properties
# å¯åŠ¨æ—¶æ‰§è¡Œçš„å»ºè¡¨è„šæœ¬
spring.jpa.properties.javax.persistence.schema-generation.scripts.action=create
spring.jpa.properties.javax.persistence.schema-generation.scripts.create-target=create.sql

# å¯¼å…¥åˆå§‹æ•°æ®
spring.sql.init.mode=always
spring.sql.init.data-locations=classpath:data.sql
```

**data.sqlç¤ºä¾‹ï¼š**

```sql
-- åˆå§‹åŒ–æ•°æ®
INSERT INTO t_user (username, email) VALUES ('admin', 'admin@example.com');
INSERT INTO t_user (username, email) VALUES ('test', 'test@example.com');
```

---

## 7. ğŸš€ æ•°æ®åº“è¿ç§»å®è·µ


### 7.1 ä»€ä¹ˆæ˜¯æ•°æ®åº“è¿ç§»


**æ•°æ®åº“è¿ç§»ï¼ˆDatabase Migrationï¼‰**
å°±æ˜¯**å®‰å…¨åœ°æŠŠæ•°æ®åº“ä»ä¸€ä¸ªç‰ˆæœ¬å‡çº§åˆ°å¦ä¸€ä¸ªç‰ˆæœ¬**ã€‚

**ä¸ºä»€ä¹ˆéœ€è¦è¿ç§»ï¼Ÿ**

```
V1.0ç‰ˆæœ¬                 V2.0ç‰ˆæœ¬
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  t_user  â”‚            â”‚  t_user  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤            â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id       â”‚            â”‚ id       â”‚
â”‚ username â”‚    â†’       â”‚ username â”‚
â”‚ email    â”‚  è¿ç§»      â”‚ email    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚ phone    â”‚ â† æ–°å¢å­—æ®µ
                        â”‚ address  â”‚ â† æ–°å¢å­—æ®µ
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â“ å¦‚ä½•å®‰å…¨å‡çº§ï¼Ÿ
â“ å¦‚ä½•ä¿ç•™æ—§æ•°æ®ï¼Ÿ
â“ å¦‚ä½•å›æ»šå‡ºé”™ï¼Ÿ
```

### 7.2 è¿ç§»å·¥å…·é€‰æ‹©


**å¸¸ç”¨æ•°æ®åº“è¿ç§»å·¥å…·ï¼š**

| å·¥å…· | ç‰¹ç‚¹ | é€‚ç”¨åœºæ™¯ |
|------|------|---------|
| **Flyway** | SQLè„šæœ¬ç®¡ç†ï¼Œç‰ˆæœ¬æ§åˆ¶ | ä¸­å¤§å‹é¡¹ç›® |
| **Liquibase** | XML/YAMLé…ç½®ï¼Œè·¨æ•°æ®åº“ | ä¼ä¸šçº§åº”ç”¨ |
| **Hibernate Schema** | è‡ªåŠ¨ç”Ÿæˆï¼Œç®€å•å¿«æ· | å°å‹é¡¹ç›® |

**ä¸ºä»€ä¹ˆä¸ç”¨hbm2ddlåšè¿ç§»ï¼Ÿ**
- âŒ æ— ç‰ˆæœ¬æ§åˆ¶
- âŒ æ— å›æ»šæœºåˆ¶
- âŒ éš¾ä»¥å®¡æ ¸
- âŒ æ— æ³•å®šåˆ¶

### 7.3 Flywayè¿ç§»ç¤ºä¾‹


**Flywayçš„å·¥ä½œåŸç†ï¼š**

```
é¡¹ç›®ç»“æ„ï¼š
src/main/resources/db/migration/
â”œâ”€â”€ V1__create_user_table.sql          â† ç‰ˆæœ¬1
â”œâ”€â”€ V2__add_user_phone.sql             â† ç‰ˆæœ¬2
â”œâ”€â”€ V3__add_user_address.sql           â† ç‰ˆæœ¬3
â””â”€â”€ V4__create_order_table.sql         â† ç‰ˆæœ¬4

Flywayæ‰§è¡Œï¼š
1. æ£€æŸ¥flyway_schema_historyè¡¨
2. æ‰¾å‡ºæœªæ‰§è¡Œçš„ç‰ˆæœ¬
3. æŒ‰é¡ºåºæ‰§è¡ŒSQLè„šæœ¬
4. è®°å½•æ‰§è¡Œå†å²
```

**V1__create_user_table.sqlï¼š**

```sql
CREATE TABLE t_user (
    id BIGINT AUTO_INCREMENT PRIMARY KEY,
    username VARCHAR(50) NOT NULL,
    email VARCHAR(100) NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

**V2__add_user_phone.sqlï¼š**

```sql
ALTER TABLE t_user ADD COLUMN phone VARCHAR(20);
CREATE INDEX idx_user_phone ON t_user(phone);
```

**é…ç½®Flywayï¼š**

```properties
# Flywayé…ç½®
spring.flyway.enabled=true
spring.flyway.locations=classpath:db/migration
spring.flyway.baseline-on-migrate=true

# å…³é—­Hibernateè‡ªåŠ¨DDL
spring.jpa.hibernate.ddl-auto=none
```

### 7.4 è¿ç§»æœ€ä½³å®è·µ


**ç‰ˆæœ¬å‘½åè§„èŒƒï¼š**

```
V{ç‰ˆæœ¬å·}__{æè¿°}.sql

âœ… æ­£ç¡®ç¤ºä¾‹ï¼š
- V1__create_user_table.sql
- V2__add_user_phone.sql
- V1.1__fix_user_email_length.sql

âŒ é”™è¯¯ç¤ºä¾‹ï¼š
- create_user.sqlï¼ˆæ— ç‰ˆæœ¬å·ï¼‰
- V2.sqlï¼ˆæ— æè¿°ï¼‰
- update_table.sqlï¼ˆæè¿°ä¸æ¸…ï¼‰
```

**è¿ç§»è„šæœ¬ç¼–å†™åŸåˆ™ï¼š**

âœ… **DOï¼ˆåº”è¯¥åšï¼‰ï¼š**
- æ¯ä¸ªè„šæœ¬åªåšä¸€ä»¶äº‹
- æ·»åŠ å¿…è¦çš„æ³¨é‡Š
- æµ‹è¯•è„šæœ¬çš„å¹‚ç­‰æ€§
- ä¿ç•™å†å²è„šæœ¬ä¸ä¿®æ”¹

âŒ **DON'Tï¼ˆä¸åº”è¯¥åšï¼‰ï¼š**
- ä¸è¦åˆ é™¤æ•°æ®
- ä¸è¦ä¿®æ”¹å·²è¿è¡Œçš„è„šæœ¬
- ä¸è¦åœ¨ç”Ÿäº§ç›´æ¥æµ‹è¯•
- ä¸è¦è·³è¿‡ç‰ˆæœ¬å·

---

## 8. ğŸ¢ å¼€å‘ç¯å¢ƒvsç”Ÿäº§ç¯å¢ƒ


### 8.1 ç¯å¢ƒå·®å¼‚å¯¹æ¯”


**é…ç½®ç­–ç•¥å¯¹æ¯”ï¼š**

| é…ç½®é¡¹ | å¼€å‘ç¯å¢ƒ | ç”Ÿäº§ç¯å¢ƒ | åŸå›  |
|--------|---------|---------|------|
| **ddl-auto** | `update` | `validate`æˆ–`none` | ç”Ÿäº§ä¸å…è®¸è‡ªåŠ¨ä¿®æ”¹ |
| **show-sql** | `true` | `false` | ç”Ÿäº§ä¸éœ€è¦æ‰“å°SQL |
| **format-sql** | `true` | `false` | å‡å°‘æ—¥å¿—ä½“ç§¯ |
| **è¿ç§»å·¥å…·** | å¯é€‰ | **å¿…é¡»** | ç‰ˆæœ¬æ§åˆ¶å’Œå®¡è®¡ |

### 8.2 å¼€å‘ç¯å¢ƒé…ç½®


**application-dev.ymlï¼š**

```yaml
spring:
  jpa:
    hibernate:
      ddl-auto: update          # è‡ªåŠ¨æ›´æ–°è¡¨ç»“æ„
    show-sql: true              # æ˜¾ç¤ºSQL
    properties:
      hibernate:
        format_sql: true        # æ ¼å¼åŒ–SQL
        use_sql_comments: true  # æ˜¾ç¤ºSQLæ³¨é‡Š
  
  datasource:
    url: jdbc:mysql://localhost:3306/dev_db
    username: dev_user
    password: dev_pass
```

**å¼€å‘ç¯å¢ƒç‰¹ç‚¹ï¼š**
- âœ… å¿«é€Ÿè¿­ä»£ï¼Œé¢‘ç¹æ”¹è¡¨
- âœ… å¯ä»¥çœ‹SQLå­¦ä¹ è°ƒè¯•
- âœ… æ•°æ®ä¸¢å¤±æ— æ‰€è°“

### 8.3 ç”Ÿäº§ç¯å¢ƒé…ç½®


**application-prod.ymlï¼š**

```yaml
spring:
  jpa:
    hibernate:
      ddl-auto: validate        # åªéªŒè¯ä¸ä¿®æ”¹
    show-sql: false             # ä¸æ˜¾ç¤ºSQL
    properties:
      hibernate:
        format_sql: false
  
  flyway:
    enabled: true               # å¯ç”¨è¿ç§»å·¥å…·
    locations: classpath:db/migration
    baseline-on-migrate: true
  
  datasource:
    url: jdbc:mysql://prod-db:3306/prod_db
    username: ${DB_USER}        # ç¯å¢ƒå˜é‡
    password: ${DB_PASS}
```

**ç”Ÿäº§ç¯å¢ƒç‰¹ç‚¹ï¼š**
- ğŸ”’ å®‰å…¨ç¬¬ä¸€ï¼Œä¸¥æ ¼æ§åˆ¶
- ğŸ“Š æ•°æ®å®è´µï¼Œä¸å®¹æœ‰å¤±
- ğŸš€ æ€§èƒ½ä¼˜å…ˆï¼Œå‡å°‘æ—¥å¿—
- ğŸ“ å˜æ›´éœ€å®¡æ‰¹å’Œè®°å½•

### 8.4 ç¯å¢ƒéš”ç¦»ç­–ç•¥


**å¤šç¯å¢ƒéƒ¨ç½²æµç¨‹ï¼š**

```
å¼€å‘ç¯å¢ƒ(DEV)
    â†“ [æµ‹è¯•é€šè¿‡]
æµ‹è¯•ç¯å¢ƒ(TEST)
    â†“ [åŠŸèƒ½éªŒè¯]
é¢„å‘å¸ƒç¯å¢ƒ(STAGING)
    â†“ [æœ€ç»ˆæ£€æŸ¥]
ç”Ÿäº§ç¯å¢ƒ(PROD)

æ¯ä¸ªç¯å¢ƒçš„é…ç½®ï¼š
DEV:     ddl-auto=update,  show-sql=true
TEST:    ddl-auto=update,  show-sql=true  
STAGING: ddl-auto=validate, show-sql=false
PROD:    ddl-auto=validate, show-sql=false
```

**é…ç½®æ–‡ä»¶ç®¡ç†ï¼š**

```properties
# å…¬å…±é…ç½® application.yml
spring.jpa.database-platform=org.hibernate.dialect.MySQL8Dialect

# å¼€å‘ä¸“ç”¨ application-dev.yml
spring.jpa.hibernate.ddl-auto=update

# ç”Ÿäº§ä¸“ç”¨ application-prod.yml  
spring.jpa.hibernate.ddl-auto=validate

# å¯åŠ¨æ—¶æŒ‡å®šç¯å¢ƒ
java -jar app.jar --spring.profiles.active=prod
```

### 8.5 å®‰å…¨æ³¨æ„äº‹é¡¹


**âš ï¸ ç”Ÿäº§ç¯å¢ƒç¦å¿Œï¼š**

```
âŒ ç»å¯¹ä¸èƒ½ç”¨çš„é…ç½®ï¼š
spring.jpa.hibernate.ddl-auto=create       # ä¼šåˆ è¡¨ï¼
spring.jpa.hibernate.ddl-auto=create-drop  # æ›´å±é™©ï¼

âŒ å±é™©æ“ä½œï¼š
- ç›´æ¥åœ¨ç”Ÿäº§æ‰§è¡Œæœªæµ‹è¯•çš„è¿ç§»è„šæœ¬
- ä¸å¤‡ä»½å°±ä¿®æ”¹è¡¨ç»“æ„
- ä½¿ç”¨rootæƒé™è¿æ¥æ•°æ®åº“
- åœ¨ä¸šåŠ¡é«˜å³°æœŸå˜æ›´ç»“æ„

âœ… æ­£ç¡®åšæ³•ï¼š
- å…ˆåœ¨æµ‹è¯•ç¯å¢ƒå®Œæ•´éªŒè¯
- åšå¥½æ•°æ®å¤‡ä»½
- ä½¿ç”¨æœ€å°æƒé™è´¦å·
- é€‰æ‹©ä½å³°æœŸç»´æŠ¤
- å‡†å¤‡å›æ»šæ–¹æ¡ˆ
```

---

## 9. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 9.1 é‡ç‚¹æ¦‚å¿µå›é¡¾


**ğŸ”¸ Schemaç®¡ç†çš„æœ¬è´¨**
```
å°±æ˜¯è®©æ•°æ®åº“è¡¨ç»“æ„å’Œå®ä½“ç±»ä¿æŒåŒæ­¥çš„å·¥å…·
- å¼€å‘é˜¶æ®µï¼šè‡ªåŠ¨åŒæ­¥ï¼Œæé«˜æ•ˆç‡
- ç”Ÿäº§é˜¶æ®µï¼šä¸¥æ ¼æ§åˆ¶ï¼Œä¿è¯å®‰å…¨
```

**ğŸ”¸ å››å¤§æ ¸å¿ƒå·¥å…·**

| å·¥å…· | ä½œç”¨ | è®°å¿†å£è¯€ |
|------|------|---------|
| **hbm2ddl** | è‡ªåŠ¨å»ºè¡¨ | "å¯åŠ¨å°±å»ºè¡¨" |
| **SchemaExport** | å¯¼å‡ºDDL | "å¯¼å‡ºç»™DBAçœ‹" |
| **SchemaUpdate** | å¢é‡æ›´æ–° | "åªåŠ ä¸å‡ä¿æ•°æ®" |
| **SchemaValidator** | éªŒè¯ä¸€è‡´ | "æ£€æŸ¥ä¸åŠ¨æ‰‹" |

### 9.2 ä½¿ç”¨åœºæ™¯æ€»ç»“


**æŒ‰ç¯å¢ƒé€‰æ‹©ç­–ç•¥ï¼š**

```
ğŸ  æœ¬åœ°å¼€å‘ï¼š
   ddl-auto = update
   â†’ è‡ªåŠ¨åŒæ­¥ï¼Œæ–¹ä¾¿å¼€å‘

ğŸ§ª æµ‹è¯•ç¯å¢ƒï¼š
   ddl-auto = create-dropï¼ˆå•å…ƒæµ‹è¯•ï¼‰
   ddl-auto = updateï¼ˆåŠŸèƒ½æµ‹è¯•ï¼‰
   â†’ çµæ´»æµ‹è¯•

ğŸ­ ç”Ÿäº§ç¯å¢ƒï¼š
   ddl-auto = validate æˆ– none
   + Flyway/Liquibase
   â†’ ä¸¥æ ¼æ§åˆ¶ï¼Œæœ‰æ®å¯æŸ¥
```

### 9.3 å…³é”®é…ç½®é€ŸæŸ¥


**å¿«é€Ÿé…ç½®å‚è€ƒï¼š**

```properties
# å¼€å‘ç¯å¢ƒ
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true

# ç”Ÿäº§ç¯å¢ƒ  
spring.jpa.hibernate.ddl-auto=validate
spring.flyway.enabled=true
```

### 9.4 å®‰å…¨è¦ç‚¹


**âš ï¸ å¿…é¡»è®°ä½çš„å®‰å…¨åŸåˆ™ï¼š**

1. **ç”Ÿäº§ç¯å¢ƒä¸‰ä¸è¦ï¼š**
   - âŒ ä¸è¦ç”¨create/create-drop
   - âŒ ä¸è¦è‡ªåŠ¨ä¿®æ”¹è¡¨ç»“æ„
   - âŒ ä¸è¦è·³è¿‡æµ‹è¯•ç›´æ¥ä¸Šçº¿

2. **è¿ç§»ä¸‰å¿…é¡»ï¼š**
   - âœ… å¿…é¡»ä½¿ç”¨è¿ç§»å·¥å…·
   - âœ… å¿…é¡»ç»è¿‡æµ‹è¯•éªŒè¯
   - âœ… å¿…é¡»å¤‡ä»½æ•°æ®

3. **ç‰ˆæœ¬æ§åˆ¶ï¼š**
   - ğŸ“ SQLè„šæœ¬çº³å…¥Gitç®¡ç†
   - ğŸ”¢ ä¸¥æ ¼éµå¾ªç‰ˆæœ¬å·è§„åˆ™
   - ğŸ“‹ è®°å½•æ¯æ¬¡å˜æ›´åŸå› 

### 9.5 å­¦ä¹ å»ºè®®


**æ–°æ‰‹å­¦ä¹ è·¯å¾„ï¼š**

```
ç¬¬1æ­¥ï¼šæœ¬åœ°ç©è½¬hbm2ddl
      â””â”€ ç†è§£update/createçš„åŒºåˆ«

ç¬¬2æ­¥ï¼šå°è¯•å¯¼å‡ºå·¥å…·
      â””â”€ ç”¨SchemaExportç”ŸæˆSQL

ç¬¬3æ­¥ï¼šå­¦ä¹ è¿ç§»å·¥å…·
      â””â”€ æŒæ¡FlywayåŸºæœ¬ç”¨æ³•

ç¬¬4æ­¥ï¼šæ¨¡æ‹ŸçœŸå®åœºæ™¯
      â””â”€ æ­å»ºå¤šç¯å¢ƒé…ç½®

ç¬¬5æ­¥ï¼šç†è§£ç”Ÿäº§è§„èŒƒ
      â””â”€ å­¦ä¹ ä¼ä¸šçº§å®è·µ
```

**æ ¸å¿ƒè®°å¿†ï¼š**
- å¼€å‘ç”¨updateï¼Œç”Ÿäº§ç”¨validate
- æƒ³å¯¼å‡ºç”¨Exportï¼Œæƒ³æ›´æ–°ç”¨Update
- ä¸¥è‚ƒé¡¹ç›®å¿…ä¸ŠFlyway
- å®‰å…¨ç¬¬ä¸€ï¼Œæµ‹è¯•ä¸ºå…ˆ