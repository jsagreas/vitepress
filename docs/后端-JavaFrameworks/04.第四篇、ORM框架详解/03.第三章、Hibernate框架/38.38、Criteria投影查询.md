---
title: 38ã€CriteriaæŠ•å½±æŸ¥è¯¢
---
## ğŸ“š ç›®å½•

1. [æŠ•å½±æŸ¥è¯¢åŸºç¡€æ¦‚å¿µ](#1-æŠ•å½±æŸ¥è¯¢åŸºç¡€æ¦‚å¿µ)
2. [PropertyProjectionå±æ€§æŠ•å½±](#2-PropertyProjectionå±æ€§æŠ•å½±)
3. [AggregateProjectionèšåˆæŠ•å½±](#3-AggregateProjectionèšåˆæŠ•å½±)
4. [ProjectionListæŠ•å½±åˆ—è¡¨](#4-ProjectionListæŠ•å½±åˆ—è¡¨)
5. [åˆ†ç»„æŠ•å½±æŸ¥è¯¢](#5-åˆ†ç»„æŠ•å½±æŸ¥è¯¢)
6. [ç»Ÿè®¡æŸ¥è¯¢å®æˆ˜](#6-ç»Ÿè®¡æŸ¥è¯¢å®æˆ˜)
7. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#7-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ¯ æŠ•å½±æŸ¥è¯¢åŸºç¡€æ¦‚å¿µ


### 1.1 ä»€ä¹ˆæ˜¯æŠ•å½±ï¼ˆProjectionï¼‰


> ğŸ’¡ **é€šä¿—ç†è§£**  
> æŠ•å½±å°±åƒæ˜¯"åªçœ‹ä½ æƒ³çœ‹çš„åˆ—"ã€‚å¹³æ—¶æŸ¥è¯¢ä¼šæŠŠæ•´ä¸ªå¯¹è±¡ï¼ˆæ‰€æœ‰å­—æ®µï¼‰éƒ½æŸ¥å‡ºæ¥ï¼Œä½†æœ‰æ—¶å€™æˆ‘ä»¬åªéœ€è¦å…¶ä¸­å‡ ä¸ªå­—æ®µï¼Œè¿™å°±æ˜¯æŠ•å½±æŸ¥è¯¢ã€‚

**ç”Ÿæ´»ä¸­çš„ä¾‹å­**ï¼š
```
å°±åƒçœ‹ç”µå½±é™¢åº§ä½è¡¨ï¼š
å®Œæ•´æŸ¥è¯¢ï¼šå§“åã€æ‰‹æœºå·ã€åº§ä½å·ã€è´­ç¥¨æ—¶é—´ã€ä»·æ ¼ã€ä¼šå‘˜ç­‰çº§...
æŠ•å½±æŸ¥è¯¢ï¼šåªçœ‹å§“åå’Œåº§ä½å·

æ•°æ®åº“æŸ¥è¯¢ï¼š
å®Œæ•´æŸ¥è¯¢ï¼šSELECT * FROM user
æŠ•å½±æŸ¥è¯¢ï¼šSELECT name, age FROM user
```

**ä¸ºä»€ä¹ˆéœ€è¦æŠ•å½±**ï¼š
- âš¡ **æ€§èƒ½ä¼˜åŒ–**ï¼šåªæŸ¥éœ€è¦çš„å­—æ®µï¼Œå‡å°‘æ•°æ®ä¼ è¾“
- ğŸ’¾ **èŠ‚çœå†…å­˜**ï¼šä¸åŠ è½½å®Œæ•´å¯¹è±¡ï¼Œé™ä½å†…å­˜å ç”¨
- ğŸ¯ **ç²¾å‡†è·å–**ï¼šç›´æ¥å¾—åˆ°æƒ³è¦çš„æ•°æ®ï¼Œæ— éœ€è¿‡æ»¤

### 1.2 Criteriaä¸­çš„æŠ•å½±æœºåˆ¶


**CriteriaæŠ•å½±çš„æ ¸å¿ƒç»„ä»¶**ï¼š
```
Projectionæ¥å£
    â”œâ”€â”€ PropertyProjection  (å±æ€§æŠ•å½±)
    â”œâ”€â”€ AggregateProjection (èšåˆæŠ•å½±)
    â””â”€â”€ ProjectionList      (æŠ•å½±åˆ—è¡¨)
```

**åŸºæœ¬ä½¿ç”¨æµç¨‹**ï¼š
```
ç¬¬1æ­¥ï¼šåˆ›å»ºCriteriaå¯¹è±¡
      â†“
ç¬¬2æ­¥ï¼šè®¾ç½®æŠ•å½±ï¼ˆsetProjectionï¼‰
      â†“
ç¬¬3æ­¥ï¼šæ‰§è¡ŒæŸ¥è¯¢ï¼Œè·å–ç»“æœ
```

**ç®€å•ç¤ºä¾‹**ï¼š
```java
// å‡è®¾æœ‰Userå®ä½“ç±»ï¼šid, name, age, email
Criteria criteria = session.createCriteria(User.class);

// åªæŸ¥è¯¢nameå­—æ®µ
criteria.setProjection(Projections.property("name"));

List<String> names = criteria.list();  // è¿”å›æ‰€æœ‰ç”¨æˆ·çš„å§“å
```

> âš ï¸ **æ³¨æ„**  
> ä½¿ç”¨æŠ•å½±åï¼Œè¿”å›çš„ä¸å†æ˜¯å®Œæ•´å¯¹è±¡ï¼Œè€Œæ˜¯ä½ æŒ‡å®šçš„å­—æ®µå€¼ï¼

---

## 2. ğŸ“Š PropertyProjectionå±æ€§æŠ•å½±


### 2.1 ä»€ä¹ˆæ˜¯å±æ€§æŠ•å½±


**æ ¸å¿ƒæ¦‚å¿µ**ï¼š
å±æ€§æŠ•å½±ï¼ˆPropertyProjectionï¼‰å°±æ˜¯**é€‰æ‹©å®ä½“çš„æŸä¸ªå…·ä½“å±æ€§å­—æ®µ**è¿›è¡ŒæŸ¥è¯¢ï¼Œè¿”å›çš„æ˜¯è¯¥å­—æ®µçš„å€¼ï¼Œè€Œä¸æ˜¯å®Œæ•´å¯¹è±¡ã€‚

**è¯­æ³•ç»“æ„**ï¼š
```java
Projections.property("å±æ€§å")
```

### 2.2 å•å­—æ®µæŠ•å½±


**åœºæ™¯**ï¼šåªéœ€è¦æŸ¥è¯¢ä¸€ä¸ªå­—æ®µ

```java
// ç¤ºä¾‹ï¼šæŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·çš„é‚®ç®±
Criteria criteria = session.createCriteria(User.class);
criteria.setProjection(Projections.property("email"));

List<String> emails = criteria.list();
// ç»“æœï¼š["user1@example.com", "user2@example.com", ...]
```

**ç­‰ä»·SQL**ï¼š
```sql
SELECT email FROM user;
```

### 2.3 å¤šå­—æ®µæŠ•å½±


**åœºæ™¯**ï¼šéœ€è¦æŸ¥è¯¢å¤šä¸ªå­—æ®µ

```java
// æŸ¥è¯¢å§“åå’Œå¹´é¾„
Criteria criteria = session.createCriteria(User.class);

ProjectionList projectionList = Projections.projectionList();
projectionList.add(Projections.property("name"));
projectionList.add(Projections.property("age"));

criteria.setProjection(projectionList);

List<Object[]> results = criteria.list();

// ç»“æœå¤„ç†
for(Object[] row : results) {
    String name = (String) row[0];  // ç¬¬ä¸€ä¸ªå­—æ®µï¼šname
    Integer age = (Integer) row[1];  // ç¬¬äºŒä¸ªå­—æ®µï¼šage
    System.out.println(name + " - " + age);
}
```

**ç­‰ä»·SQL**ï¼š
```sql
SELECT name, age FROM user;
```

### 2.4 å±æ€§æŠ•å½±çš„åˆ«å


**ä¸ºä»€ä¹ˆéœ€è¦åˆ«å**ï¼š
- è®©è¿”å›ç»“æœæ›´æ¸…æ™°
- ä¾¿äºå°è£…åˆ°å¯¹è±¡ä¸­
- é¿å…å­—æ®µåå†²çª

```java
Criteria criteria = session.createCriteria(User.class);

ProjectionList projectionList = Projections.projectionList();
projectionList.add(Projections.property("name").as("userName"));
projectionList.add(Projections.property("age").as("userAge"));

criteria.setProjection(projectionList);

// è®¾ç½®ç»“æœè½¬æ¢å™¨ï¼Œå°è£…ä¸ºMap
criteria.setResultTransformer(Transformers.ALIAS_TO_ENTITY_MAP);

List<Map<String, Object>> results = criteria.list();

for(Map<String, Object> row : results) {
    System.out.println(row.get("userName") + " - " + row.get("userAge"));
}
```

---

## 3. ğŸ“ˆ AggregateProjectionèšåˆæŠ•å½±


### 3.1 ä»€ä¹ˆæ˜¯èšåˆæŠ•å½±


> ğŸ’¡ **é€šä¿—ç†è§£**  
> èšåˆå°±æ˜¯"æŠŠå¤šæ¡æ•°æ®åˆå¹¶æˆä¸€ä¸ªç»“æœ"ã€‚æ¯”å¦‚è®¡ç®—æ€»æ•°ã€å¹³å‡å€¼ã€æœ€å¤§å€¼ç­‰ï¼Œå°±åƒç»Ÿè®¡ç­çº§çš„å¹³å‡æˆç»©ã€‚

**å¸¸ç”¨èšåˆå‡½æ•°**ï¼š

| å‡½æ•° | **ä½œç”¨** | **ç”Ÿæ´»ä¾‹å­** |
|------|---------|-------------|
| `count()` | ç»Ÿè®¡æ•°é‡ | æ•°æœ‰å¤šå°‘ä¸ªå­¦ç”Ÿ |
| `sum()` | æ±‚å’Œ | è®¡ç®—æ€»åˆ† |
| `avg()` | æ±‚å¹³å‡å€¼ | è®¡ç®—å¹³å‡åˆ† |
| `max()` | æ±‚æœ€å¤§å€¼ | æ‰¾æœ€é«˜åˆ† |
| `min()` | æ±‚æœ€å°å€¼ | æ‰¾æœ€ä½åˆ† |

### 3.2 count() ç»Ÿè®¡æ•°é‡


**åœºæ™¯**ï¼šç»Ÿè®¡æœ‰å¤šå°‘æ¡è®°å½•

```java
// ç»Ÿè®¡ç”¨æˆ·æ€»æ•°
Criteria criteria = session.createCriteria(User.class);
criteria.setProjection(Projections.rowCount());

Long count = (Long) criteria.uniqueResult();
System.out.println("ç”¨æˆ·æ€»æ•°ï¼š" + count);
```

**ç­‰ä»·SQL**ï¼š
```sql
SELECT COUNT(*) FROM user;
```

**ç»Ÿè®¡æŸä¸ªå­—æ®µçš„éç©ºæ•°é‡**ï¼š
```java
// ç»Ÿè®¡æœ‰é‚®ç®±çš„ç”¨æˆ·æ•°é‡
criteria.setProjection(Projections.count("email"));
```

### 3.3 sum() æ±‚å’Œ


**åœºæ™¯**ï¼šè®¡ç®—æŸä¸ªå­—æ®µçš„æ€»å’Œ

```java
// è®¡ç®—æ‰€æœ‰è®¢å•çš„æ€»é‡‘é¢
Criteria criteria = session.createCriteria(Order.class);
criteria.setProjection(Projections.sum("amount"));

Double totalAmount = (Double) criteria.uniqueResult();
System.out.println("è®¢å•æ€»é¢ï¼š" + totalAmount);
```

**ç­‰ä»·SQL**ï¼š
```sql
SELECT SUM(amount) FROM orders;
```

### 3.4 avg() æ±‚å¹³å‡å€¼


```java
// è®¡ç®—ç”¨æˆ·å¹³å‡å¹´é¾„
Criteria criteria = session.createCriteria(User.class);
criteria.setProjection(Projections.avg("age"));

Double avgAge = (Double) criteria.uniqueResult();
System.out.println("å¹³å‡å¹´é¾„ï¼š" + avgAge);
```

**ç­‰ä»·SQL**ï¼š
```sql
SELECT AVG(age) FROM user;
```

### 3.5 max() å’Œ min() æ±‚æå€¼


```java
// æŸ¥è¯¢æœ€é«˜å·¥èµ„å’Œæœ€ä½å·¥èµ„
Criteria criteria = session.createCriteria(Employee.class);

ProjectionList projectionList = Projections.projectionList();
projectionList.add(Projections.max("salary").as("maxSalary"));
projectionList.add(Projections.min("salary").as("minSalary"));

criteria.setProjection(projectionList);
criteria.setResultTransformer(Transformers.ALIAS_TO_ENTITY_MAP);

Map<String, Object> result = (Map) criteria.uniqueResult();
System.out.println("æœ€é«˜å·¥èµ„ï¼š" + result.get("maxSalary"));
System.out.println("æœ€ä½å·¥èµ„ï¼š" + result.get("minSalary"));
```

---

## 4. ğŸ“‹ ProjectionListæŠ•å½±åˆ—è¡¨


### 4.1 ä»€ä¹ˆæ˜¯æŠ•å½±åˆ—è¡¨


**æ ¸å¿ƒæ¦‚å¿µ**ï¼š
ProjectionListå°±æ˜¯**å¤šä¸ªæŠ•å½±çš„ç»„åˆ**ï¼Œå¯ä»¥åŒæ—¶æŸ¥è¯¢å¤šä¸ªå­—æ®µå’Œå¤šä¸ªèšåˆå‡½æ•°ã€‚

> ğŸ’¡ **ç±»æ¯”ç†è§£**  
> å°±åƒç‚¹èœï¼Œä½ å¯ä»¥ç‚¹å¤šä¸ªèœç»„æˆä¸€ä¸ªå¥—é¤ã€‚æŠ•å½±åˆ—è¡¨å°±æ˜¯æŠŠå¤šä¸ªæŸ¥è¯¢éœ€æ±‚ç»„åˆåœ¨ä¸€èµ·ã€‚

### 4.2 ç»„åˆä½¿ç”¨ç¤ºä¾‹


**åœºæ™¯**ï¼šåŒæ—¶æŸ¥è¯¢æ™®é€šå­—æ®µå’Œèšåˆå€¼

```java
// æŸ¥è¯¢éƒ¨é—¨åç§°ã€å‘˜å·¥æ•°é‡ã€å¹³å‡å·¥èµ„
Criteria criteria = session.createCriteria(Employee.class);

ProjectionList projectionList = Projections.projectionList();
projectionList.add(Projections.groupProperty("department"));  // éƒ¨é—¨
projectionList.add(Projections.count("id").as("empCount"));   // å‘˜å·¥æ•°
projectionList.add(Projections.avg("salary").as("avgSalary")); // å¹³å‡å·¥èµ„

criteria.setProjection(projectionList);
criteria.setResultTransformer(Transformers.ALIAS_TO_ENTITY_MAP);

List<Map<String, Object>> results = criteria.list();

for(Map<String, Object> row : results) {
    System.out.println("éƒ¨é—¨ï¼š" + row.get("department"));
    System.out.println("å‘˜å·¥æ•°ï¼š" + row.get("empCount"));
    System.out.println("å¹³å‡å·¥èµ„ï¼š" + row.get("avgSalary"));
}
```

**ç­‰ä»·SQL**ï¼š
```sql
SELECT department, COUNT(id) AS empCount, AVG(salary) AS avgSalary
FROM employee
GROUP BY department;
```

### 4.3 æŠ•å½±åˆ—è¡¨çš„å¸¸ç”¨æ–¹æ³•


| æ–¹æ³• | **è¯´æ˜** | **ç¤ºä¾‹** |
|------|---------|---------|
| `add()` | æ·»åŠ æŠ•å½± | `list.add(Projections.property("name"))` |
| `getLength()` | è·å–æŠ•å½±æ•°é‡ | `int count = list.getLength()` |
| `getProjection(index)` | è·å–æŒ‡å®šä½ç½®æŠ•å½± | `Projection p = list.getProjection(0)` |

---

## 5. ğŸ“Š åˆ†ç»„æŠ•å½±æŸ¥è¯¢


### 5.1 ä»€ä¹ˆæ˜¯åˆ†ç»„ï¼ˆGROUP BYï¼‰


> ğŸ’¡ **é€šä¿—ç†è§£**  
> åˆ†ç»„å°±æ˜¯"æŒ‰ç±»åˆ«å½’ç±»ç»Ÿè®¡"ã€‚æ¯”å¦‚ç»Ÿè®¡æ¯ä¸ªç­çº§çš„å¹³å‡åˆ†ï¼Œå°±éœ€è¦å…ˆæŒ‰ç­çº§åˆ†ç»„ï¼Œå†è®¡ç®—å„ç»„çš„å¹³å‡å€¼ã€‚

**åˆ†ç»„çš„ä½œç”¨**ï¼š
```
åŸå§‹æ•°æ®ï¼š
å§“å    éƒ¨é—¨      å·¥èµ„
å¼ ä¸‰    æŠ€æœ¯éƒ¨    8000
æå››    æŠ€æœ¯éƒ¨    9000
ç‹äº”    é”€å”®éƒ¨    7000
èµµå…­    é”€å”®éƒ¨    7500

æŒ‰éƒ¨é—¨åˆ†ç»„ç»Ÿè®¡ï¼š
éƒ¨é—¨      å‘˜å·¥æ•°    å¹³å‡å·¥èµ„
æŠ€æœ¯éƒ¨    2        8500
é”€å”®éƒ¨    2        7250
```

### 5.2 groupProperty() åˆ†ç»„æŠ•å½±


**è¯­æ³•**ï¼š
```java
Projections.groupProperty("å­—æ®µå")
```

**ç¤ºä¾‹**ï¼šæŒ‰éƒ¨é—¨ç»Ÿè®¡
```java
Criteria criteria = session.createCriteria(Employee.class);

ProjectionList projectionList = Projections.projectionList();
projectionList.add(Projections.groupProperty("department"));
projectionList.add(Projections.count("id"));

criteria.setProjection(projectionList);

List<Object[]> results = criteria.list();

for(Object[] row : results) {
    String dept = (String) row[0];
    Long count = (Long) row[1];
    System.out.println(dept + "éƒ¨é—¨æœ‰ " + count + " äºº");
}
```

### 5.3 å¤šå­—æ®µåˆ†ç»„


**åœºæ™¯**ï¼šæŒ‰å¤šä¸ªæ¡ä»¶åˆ†ç»„

```java
// æŒ‰éƒ¨é—¨å’ŒèŒä½åˆ†ç»„ç»Ÿè®¡
ProjectionList projectionList = Projections.projectionList();
projectionList.add(Projections.groupProperty("department"));
projectionList.add(Projections.groupProperty("position"));
projectionList.add(Projections.count("id"));
projectionList.add(Projections.avg("salary"));

criteria.setProjection(projectionList);
```

**ç­‰ä»·SQL**ï¼š
```sql
SELECT department, position, COUNT(id), AVG(salary)
FROM employee
GROUP BY department, position;
```

### 5.4 åˆ†ç»„è¿‡æ»¤ï¼ˆHAVINGï¼‰


**ä½¿ç”¨Restrictionsé…åˆåˆ†ç»„**ï¼š
```java
Criteria criteria = session.createCriteria(Employee.class);

ProjectionList projectionList = Projections.projectionList();
projectionList.add(Projections.groupProperty("department"));
projectionList.add(Projections.count("id").as("empCount"));

criteria.setProjection(projectionList);

// åªæ˜¾ç¤ºå‘˜å·¥æ•°>5çš„éƒ¨é—¨
criteria.add(Restrictions.gt(Projections.count("id"), 5L));

List<Object[]> results = criteria.list();
```

---

## 6. ğŸ“ˆ ç»Ÿè®¡æŸ¥è¯¢å®æˆ˜


### 6.1 ç»¼åˆç»Ÿè®¡ç¤ºä¾‹


**éœ€æ±‚**ï¼šç»Ÿè®¡æ¯ä¸ªéƒ¨é—¨çš„è¯¦ç»†ä¿¡æ¯

```java
Criteria criteria = session.createCriteria(Employee.class);

ProjectionList projectionList = Projections.projectionList();
projectionList.add(Projections.groupProperty("department").as("deptName"));
projectionList.add(Projections.count("id").as("totalCount"));
projectionList.add(Projections.sum("salary").as("totalSalary"));
projectionList.add(Projections.avg("salary").as("avgSalary"));
projectionList.add(Projections.max("salary").as("maxSalary"));
projectionList.add(Projections.min("salary").as("minSalary"));

criteria.setProjection(projectionList);
criteria.setResultTransformer(Transformers.ALIAS_TO_ENTITY_MAP);

List<Map<String, Object>> results = criteria.list();

// è¾“å‡ºç»Ÿè®¡è¡¨æ ¼
System.out.println("éƒ¨é—¨ç»Ÿè®¡æŠ¥è¡¨");
System.out.println("=".repeat(70));
for(Map<String, Object> row : results) {
    System.out.printf("éƒ¨é—¨ï¼š%s%n", row.get("deptName"));
    System.out.printf("  å‘˜å·¥æ•°ï¼š%d%n", row.get("totalCount"));
    System.out.printf("  å·¥èµ„æ€»é¢ï¼š%.2f%n", row.get("totalSalary"));
    System.out.printf("  å¹³å‡å·¥èµ„ï¼š%.2f%n", row.get("avgSalary"));
    System.out.printf("  æœ€é«˜å·¥èµ„ï¼š%.2f%n", row.get("maxSalary"));
    System.out.printf("  æœ€ä½å·¥èµ„ï¼š%.2f%n", row.get("minSalary"));
    System.out.println("-".repeat(70));
}
```

### 6.2 æ’åºç»Ÿè®¡ç»“æœ


```java
// æŒ‰å¹³å‡å·¥èµ„é™åºæ’åˆ—
criteria.addOrder(Order.desc("avgSalary"));

// æŒ‰éƒ¨é—¨åç§°å‡åºæ’åˆ—
criteria.addOrder(Order.asc("deptName"));
```

### 6.3 ç»“æœè½¬æ¢å™¨å¯¹æ¯”


| è½¬æ¢å™¨ | **è¿”å›ç±»å‹** | **ä½¿ç”¨åœºæ™¯** |
|--------|------------|-------------|
| ä¸è®¾ç½® | `Object[]` | ç®€å•åœºæ™¯ï¼Œæ‰‹åŠ¨å¤„ç† |
| `ALIAS_TO_ENTITY_MAP` | `Map<String, Object>` | éœ€è¦åˆ«åè®¿é—® |
| è‡ªå®šä¹‰è½¬æ¢å™¨ | è‡ªå®šä¹‰å¯¹è±¡ | å°è£…ä¸ºDTOå¯¹è±¡ |

**è‡ªå®šä¹‰è½¬æ¢å™¨ç¤ºä¾‹**ï¼š
```java
// å®šä¹‰DTOç±»
class DeptStatDTO {
    private String deptName;
    private Long empCount;
    private Double avgSalary;
    // getter/setter...
}

// è‡ªå®šä¹‰è½¬æ¢å™¨
criteria.setResultTransformer(new ResultTransformer() {
    @Override
    public Object transformTuple(Object[] tuple, String[] aliases) {
        DeptStatDTO dto = new DeptStatDTO();
        dto.setDeptName((String) tuple[0]);
        dto.setEmpCount((Long) tuple[1]);
        dto.setAvgSalary((Double) tuple[2]);
        return dto;
    }
    
    @Override
    public List transformList(List collection) {
        return collection;
    }
});

List<DeptStatDTO> results = criteria.list();
```

---

## 7. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 7.1 æŠ•å½±æŸ¥è¯¢æ ¸å¿ƒæ¦‚å¿µ


> ğŸ¯ **æŠ•å½±æœ¬è´¨**  
> æŠ•å½± = åªæŸ¥è¯¢éœ€è¦çš„å­—æ®µï¼Œè€Œä¸æ˜¯å®Œæ•´å¯¹è±¡

**ä¸‰å¤§æŠ•å½±ç±»å‹**ï¼š
```
PropertyProjection  â†’ æŸ¥è¯¢å…·ä½“å­—æ®µï¼ˆname, ageç­‰ï¼‰
AggregateProjection â†’ èšåˆç»Ÿè®¡ï¼ˆcount, sum, avgç­‰ï¼‰
ProjectionList      â†’ ç»„åˆå¤šä¸ªæŠ•å½±
```

### 7.2 å¸¸ç”¨èšåˆå‡½æ•°é€ŸæŸ¥


| å‡½æ•° | **Hibernateå†™æ³•** | **SQLç­‰ä»·** |
|------|-----------------|------------|
| ç»Ÿè®¡ | `Projections.count("å­—æ®µ")` | `COUNT(å­—æ®µ)` |
| æ±‚å’Œ | `Projections.sum("å­—æ®µ")` | `SUM(å­—æ®µ)` |
| å¹³å‡ | `Projections.avg("å­—æ®µ")` | `AVG(å­—æ®µ)` |
| æœ€å¤§ | `Projections.max("å­—æ®µ")` | `MAX(å­—æ®µ)` |
| æœ€å° | `Projections.min("å­—æ®µ")` | `MIN(å­—æ®µ)` |
| åˆ†ç»„ | `Projections.groupProperty("å­—æ®µ")` | `GROUP BY å­—æ®µ` |

### 7.3 åˆ†ç»„æŸ¥è¯¢è¦ç‚¹


**åˆ†ç»„ä¸‰è¦ç´ **ï¼š
1. **åˆ†ç»„å­—æ®µ**ï¼š`groupProperty()`
2. **èšåˆå‡½æ•°**ï¼š`count()`, `sum()`, `avg()`ç­‰
3. **æ’åºè¿‡æ»¤**ï¼š`addOrder()`, `add(Restrictions)`

**å…¸å‹æ¨¡å¼**ï¼š
```java
// æ¨¡æ¿ä»£ç 
ProjectionList list = Projections.projectionList();
list.add(Projections.groupProperty("åˆ†ç»„å­—æ®µ"));  // å¿…é¡»
list.add(Projections.count("ç»Ÿè®¡å­—æ®µ"));          // èšåˆ
criteria.setProjection(list);
criteria.addOrder(Order.desc("åˆ«å"));           // æ’åº
```

### 7.4 å®æˆ˜æŠ€å·§


> ğŸ’¡ **æ€§èƒ½ä¼˜åŒ–å»ºè®®**  
> - åªæŸ¥è¯¢éœ€è¦çš„å­—æ®µï¼Œé¿å…SELECT *
> - ä½¿ç”¨åˆ«åè®©ç»“æœæ›´æ¸…æ™°
> - åˆç†ä½¿ç”¨ç»“æœè½¬æ¢å™¨å°è£…æ•°æ®

> âš ï¸ **å¸¸è§é™·é˜±**  
> - ä½¿ç”¨æŠ•å½±åè¿”å›çš„ä¸æ˜¯å®ä½“å¯¹è±¡
> - å¤šå­—æ®µæŠ•å½±è¿”å›Object[]æ•°ç»„
> - åˆ†ç»„å­—æ®µå¿…é¡»åœ¨SELECTä¸­å‡ºç°

**è®°å¿†å£è¯€**ï¼š
```
æŠ•å½±æŸ¥è¯¢é€‰å­—æ®µï¼Œpropertyå±æ€§è§
èšåˆç»Ÿè®¡ç”¨å‡½æ•°ï¼Œcount sum avg max min
å¤šä¸ªæŠ•å½±ç”¨åˆ—è¡¨ï¼ŒprojectionListæ¥æ·»
åˆ†ç»„ç»Ÿè®¡å…ˆåˆ†ç»„ï¼ŒgroupPropertyæ˜¯å…³é”®
åˆ«åè½¬æ¢ç»“æœæ¸…ï¼ŒMapå¯¹è±¡éšä½ é€‰
```

### 7.5 åº”ç”¨åœºæ™¯æ€»ç»“


| åœºæ™¯ | **ä½¿ç”¨æ–¹æ¡ˆ** |
|------|------------|
| åªéœ€è¦æŸå‡ ä¸ªå­—æ®µ | PropertyProjection |
| ç»Ÿè®¡æ•°é‡ã€æ€»å’Œ | AggregateProjection |
| æŒ‰ç±»åˆ«ç»Ÿè®¡ | groupProperty + èšåˆå‡½æ•° |
| å¤šç»´åº¦ç»Ÿè®¡ | ProjectionListç»„åˆ |
| æŠ¥è¡¨ç”Ÿæˆ | åˆ†ç»„æŠ•å½± + ç»“æœè½¬æ¢å™¨ |

---

**æ ¸å¿ƒç†è§£**ï¼š
- æŠ•å½±æ˜¯æ€§èƒ½ä¼˜åŒ–çš„é‡è¦æ‰‹æ®µï¼ŒæŒ‰éœ€æŸ¥è¯¢
- èšåˆæŠ•å½±è®©ç»Ÿè®¡æŸ¥è¯¢æ›´ç®€å•
- åˆ†ç»„æŠ•å½±æ˜¯æŠ¥è¡¨ç»Ÿè®¡çš„æ ¸å¿ƒæŠ€æœ¯
- åˆç†ä½¿ç”¨è½¬æ¢å™¨è®©ä»£ç æ›´ä¼˜é›…