---
title: 5ã€HelloWorldç¨‹åºå®æˆ˜
---
## ğŸ“š ç›®å½•

1. [ORMæ¡†æ¶æ˜¯ä»€ä¹ˆ](#1-ORMæ¡†æ¶æ˜¯ä»€ä¹ˆ)
2. [Hibernateæ ¸å¿ƒæ¦‚å¿µ](#2-Hibernateæ ¸å¿ƒæ¦‚å¿µ)
3. [å®ä½“ç±»è®¾è®¡](#3-å®ä½“ç±»è®¾è®¡)
4. [æ˜ å°„æ–‡ä»¶é…ç½®](#4-æ˜ å°„æ–‡ä»¶é…ç½®)
5. [SessionFactoryåˆ›å»º](#5-SessionFactoryåˆ›å»º)
6. [Sessionä½¿ç”¨è¯¦è§£](#6-Sessionä½¿ç”¨è¯¦è§£)
7. [äº‹åŠ¡ç®¡ç†](#7-äº‹åŠ¡ç®¡ç†)
8. [åŸºæœ¬CRUDæ“ä½œ](#8-åŸºæœ¬CRUDæ“ä½œ)
9. [å¼€å‘æµç¨‹æ€»ç»“](#9-å¼€å‘æµç¨‹æ€»ç»“)
10. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#10-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ¯ ORMæ¡†æ¶æ˜¯ä»€ä¹ˆ


### 1.1 ä»€ä¹ˆæ˜¯ORM


**ğŸ”¸ å¤§ç™½è¯è§£é‡Š**

æƒ³è±¡ä½ åœ¨åšä¸€ä¸ªå­¦ç”Ÿç®¡ç†ç³»ç»Ÿï¼Œæ•°æ®åº“é‡Œæœ‰å­¦ç”Ÿè¡¨ï¼š
```
å­¦ç”Ÿè¡¨(Student)
+----+--------+-----+--------+
| id | name   | age | gender |
+----+--------+-----+--------+
| 1  | å¼ ä¸‰   | 20  | ç”·     |
| 2  | æå››   | 21  | å¥³     |
+----+--------+-----+--------+
```

ä¼ ç»Ÿåšæ³•ï¼ˆçº¯JDBCï¼‰ï¼š
- å†™SQLè¯­å¥ï¼š`SELECT * FROM student WHERE id = ?`
- æ‰§è¡ŒæŸ¥è¯¢ï¼Œæ‹¿åˆ°ç»“æœé›†
- æ‰‹åŠ¨å–å‡ºæ¯ä¸ªå­—æ®µå€¼
- æ‰‹åŠ¨å¡åˆ°Javaå¯¹è±¡é‡Œ

ä½¿ç”¨ORMï¼ˆæ¯”å¦‚Hibernateï¼‰ï¼š
- ç›´æ¥æ“ä½œJavaå¯¹è±¡
- æ¡†æ¶è‡ªåŠ¨å¸®ä½ ç”ŸæˆSQL
- è‡ªåŠ¨æŠŠæ•°æ®åº“è®°å½•å˜æˆJavaå¯¹è±¡

**ğŸ”¸ ä¸“ä¸šå®šä¹‰**
```
ORM = Object-Relational Mappingï¼ˆå¯¹è±¡å…³ç³»æ˜ å°„ï¼‰

ä½œç”¨ï¼šå»ºç«‹Javaå¯¹è±¡å’Œæ•°æ®åº“è¡¨ä¹‹é—´çš„æ˜ å°„å…³ç³»
ç›®æ ‡ï¼šè®©ä½ ç”¨æ“ä½œå¯¹è±¡çš„æ–¹å¼æ¥æ“ä½œæ•°æ®åº“
æ ¸å¿ƒï¼šè‡ªåŠ¨å¤„ç†å¯¹è±¡â†”æ•°æ®åº“çš„è½¬æ¢
```

### 1.2 ä¸ºä»€ä¹ˆéœ€è¦ORM


**é—®é¢˜å¯¹æ¯”**

| ä¼ ç»ŸJDBCæ–¹å¼ | ORMæ–¹å¼ | ä¼˜åŠ¿ |
|------------|---------|------|
| `å†™å¤§é‡SQLè¯­å¥` | `æ“ä½œJavaå¯¹è±¡` | `ä»£ç æ›´ç®€æ´` |
| `æ‰‹åŠ¨å¤„ç†ResultSet` | `è‡ªåŠ¨æ˜ å°„å¯¹è±¡` | `çœå»ç¹çè½¬æ¢` |
| `å­—æ®µåå†™é”™ä¸æŠ¥é”™` | `ç¼–è¯‘æœŸæ£€æŸ¥` | `æ›´å®‰å…¨` |
| `SQLæ•£è½å„å¤„` | `é›†ä¸­ç®¡ç†æ˜ å°„` | `æ˜“ç»´æŠ¤` |
| `æ¢æ•°æ®åº“è¦æ”¹SQL` | `è‡ªåŠ¨é€‚é…SQLæ–¹è¨€` | `å¯ç§»æ¤` |

**ğŸ’¡ ç®€å•ç±»æ¯”**

```
ä¼ ç»ŸJDBCå°±åƒï¼š
ä½ è¦ä»ä»“åº“æ‹¿è´§ï¼Œéœ€è¦è‡ªå·±ï¼š
1. æ‰¾åˆ°è´§æ¶ä½ç½®ï¼ˆå†™SQLï¼‰
2. æ¬ä¸‹æ¥ï¼ˆæ‰§è¡ŒæŸ¥è¯¢ï¼‰
3. æ‰“å¼€ç®±å­ï¼ˆå¤„ç†ResultSetï¼‰
4. ä¸€ä¸ªä¸ªæ‹¿å‡ºæ¥ï¼ˆå–å­—æ®µå€¼ï¼‰
5. åˆ†ç±»æ•´ç†ï¼ˆç»„è£…å¯¹è±¡ï¼‰

ORMæ¡†æ¶å°±åƒï¼š
ä½ åªè¦å‘Šè¯‰ä»“åº“ç®¡ç†å‘˜"æˆ‘è¦æŸä¸ªè´§"
ç®¡ç†å‘˜è‡ªåŠ¨å¸®ä½ æ‰¾ã€æ‹¿ã€æ•´ç†å¥½ç»™ä½ 
```

### 1.3 Hibernateæ˜¯ä»€ä¹ˆ


**ğŸ”¸ æ¡†æ¶å®šä½**
```
Hibernate = Javaé¢†åŸŸæœ€æµè¡Œçš„ORMæ¡†æ¶ä¹‹ä¸€

æ ¸å¿ƒåŠŸèƒ½ï¼š
âœ… è‡ªåŠ¨ç”ŸæˆSQLè¯­å¥
âœ… è‡ªåŠ¨æ˜ å°„æŸ¥è¯¢ç»“æœåˆ°å¯¹è±¡
âœ… ç®¡ç†æ•°æ®åº“äº‹åŠ¡
âœ… å¤„ç†å¯¹è±¡å…³ç³»ï¼ˆä¸€å¯¹å¤šã€å¤šå¯¹å¤šç­‰ï¼‰
âœ… ç¼“å­˜æœºåˆ¶æå‡æ€§èƒ½
```

**ğŸ”¸ å·¥ä½œåŸç†å›¾**
```
Javaåº”ç”¨ç¨‹åº
     â†“ (æ“ä½œå¯¹è±¡)
  Hibernate
     â†“ (è‡ªåŠ¨ç”ŸæˆSQL)
  æ•°æ®åº“

å…·ä½“æµç¨‹ï¼š
ä½ çš„ä»£ç ï¼šsession.save(student);
         â†“
Hibernateï¼šç”Ÿæˆ INSERT INTO student...
         â†“
æ•°æ®åº“ï¼šæ’å…¥ä¸€æ¡è®°å½•
```

---

## 2. ğŸ§© Hibernateæ ¸å¿ƒæ¦‚å¿µ


### 2.1 æ ¸å¿ƒç»„ä»¶å…³ç³»


**ğŸ”¸ ç»„ä»¶ç»“æ„å›¾**
```
é…ç½®æ–‡ä»¶(hibernate.cfg.xml)
        â†“
SessionFactory (å·¥å‚ï¼Œæ•´ä¸ªåº”ç”¨åªéœ€ä¸€ä¸ª)
        â†“
   Session (ä¼šè¯ï¼Œæ¯æ¬¡æ“ä½œåˆ›å»ºä¸€ä¸ª)
        â†“
 Transaction (äº‹åŠ¡ï¼Œä¿è¯æ•°æ®ä¸€è‡´æ€§)
        â†“
    æ•°æ®åº“
```

### 2.2 äº”å¤§æ ¸å¿ƒæ¦‚å¿µ


**ğŸ“Œ 1. Configurationï¼ˆé…ç½®å¯¹è±¡ï¼‰**
```
ä½œç”¨ï¼šè¯»å–é…ç½®æ–‡ä»¶ï¼Œç®¡ç†Hibernateé…ç½®ä¿¡æ¯
ç†è§£ï¼šå°±åƒåº”ç”¨çš„"è®¾ç½®é¢æ¿"
åŒ…å«ï¼šæ•°æ®åº“è¿æ¥ä¿¡æ¯ã€æ˜ å°„æ–‡ä»¶ä½ç½®ç­‰
```

**ğŸ“Œ 2. SessionFactoryï¼ˆä¼šè¯å·¥å‚ï¼‰**
```
ä½œç”¨ï¼šåˆ›å»ºSessionå¯¹è±¡çš„å·¥å‚
ç†è§£ï¼šå°±åƒ"æ•°æ®åº“è¿æ¥æ± "
ç‰¹ç‚¹ï¼š
  â€¢ æ•´ä¸ªåº”ç”¨åªéœ€è¦ä¸€ä¸ª
  â€¢ åˆ›å»ºæˆæœ¬é«˜ï¼Œæ‰€ä»¥è¦å¤ç”¨
  â€¢ çº¿ç¨‹å®‰å…¨ï¼Œå¯ä»¥å¤šçº¿ç¨‹å…±äº«
```

**ğŸ“Œ 3. Sessionï¼ˆä¼šè¯ï¼‰**
```
ä½œç”¨ï¼šæ“ä½œæ•°æ®åº“çš„ä¸»è¦æ¥å£
ç†è§£ï¼šå°±åƒä¸€æ¬¡"æ•°æ®åº“ä¼šè¯"
ç‰¹ç‚¹ï¼š
  â€¢ æ¯æ¬¡æ“ä½œåˆ›å»ºä¸€ä¸ªæ–°çš„
  â€¢ ç”¨å®Œå°±å…³é—­
  â€¢ éçº¿ç¨‹å®‰å…¨ï¼Œä¸èƒ½å…±äº«
```

**ğŸ“Œ 4. Transactionï¼ˆäº‹åŠ¡ï¼‰**
```
ä½œç”¨ï¼šç®¡ç†æ•°æ®åº“äº‹åŠ¡
ç†è§£ï¼šä¿è¯"è¦ä¹ˆå…¨æˆåŠŸï¼Œè¦ä¹ˆå…¨å¤±è´¥"
å…¸å‹åœºæ™¯ï¼šè½¬è´¦æ“ä½œï¼ˆæ‰£é’±å’ŒåŠ é’±å¿…é¡»åŒæ—¶æˆåŠŸï¼‰
```

**ğŸ“Œ 5. Query/Criteriaï¼ˆæŸ¥è¯¢ï¼‰**
```
ä½œç”¨ï¼šæ‰§è¡Œæ•°æ®åº“æŸ¥è¯¢
Queryï¼šä½¿ç”¨HQLï¼ˆç±»ä¼¼SQLä½†æ“ä½œå¯¹è±¡ï¼‰
Criteriaï¼šä½¿ç”¨é¢å‘å¯¹è±¡çš„æ–¹å¼æŸ¥è¯¢
```

### 2.3 å·¥ä½œæµç¨‹


**ğŸ”¸ æ ‡å‡†å¼€å‘æµç¨‹**
```
æ­¥éª¤1ï¼šåˆ›å»ºConfigurationï¼Œè¯»å–é…ç½®
       â†“
æ­¥éª¤2ï¼šé€šè¿‡Configurationåˆ›å»ºSessionFactory
       â†“
æ­¥éª¤3ï¼šé€šè¿‡SessionFactoryåˆ›å»ºSession
       â†“
æ­¥éª¤4ï¼šå¼€å¯äº‹åŠ¡Transaction
       â†“
æ­¥éª¤5ï¼šæ‰§è¡ŒCRUDæ“ä½œ
       â†“
æ­¥éª¤6ï¼šæäº¤äº‹åŠ¡
       â†“
æ­¥éª¤7ï¼šå…³é—­Session
```

---

## 3. ğŸ“ å®ä½“ç±»è®¾è®¡


### 3.1 ä»€ä¹ˆæ˜¯å®ä½“ç±»


**ğŸ”¸ é€šä¿—ç†è§£**
```
å®ä½“ç±» = å¯¹åº”æ•°æ®åº“è¡¨çš„Javaç±»

æ•°æ®åº“è¡¨ï¼šstudent
Javaå®ä½“ç±»ï¼šStudent.java

è¡¨çš„æ¯ä¸€è¡Œ â†’ ä¸€ä¸ªStudentå¯¹è±¡
è¡¨çš„æ¯ä¸ªå­—æ®µ â†’ å¯¹è±¡çš„ä¸€ä¸ªå±æ€§
```

### 3.2 å®ä½“ç±»è®¾è®¡è§„èŒƒ


**ğŸ”¸ å¿…é¡»éµå®ˆçš„è§„åˆ™**

| è§„èŒƒ | è¯´æ˜ | åŸå›  |
|------|------|------|
| `æä¾›æ— å‚æ„é€ ` | `public Student() {}` | `Hibernateåå°„åˆ›å»ºå¯¹è±¡éœ€è¦` |
| `å±æ€§ç§æœ‰åŒ–` | `private String name;` | `å°è£…åŸåˆ™` |
| `æä¾›getter/setter` | `public String getName()` | `Hibernateé€šè¿‡å®ƒä»¬è®¿é—®å±æ€§` |
| `å»ºè®®å®ç°Serializable` | `implements Serializable` | `å¯¹è±¡å¯ä»¥åºåˆ—åŒ–ä¼ è¾“` |
| `æä¾›ä¸»é”®å±æ€§` | `private Long id;` | `å¯¹åº”æ•°æ®åº“ä¸»é”®` |

### 3.3 å®ä½“ç±»ç¤ºä¾‹


```java
// å­¦ç”Ÿå®ä½“ç±»
public class Student implements Serializable {
    
    // ä¸»é”®ï¼ˆå¯¹åº”æ•°æ®åº“idå­—æ®µï¼‰
    private Long id;
    
    // æ™®é€šå±æ€§ï¼ˆå¯¹åº”æ•°æ®åº“å­—æ®µï¼‰
    private String name;
    private Integer age;
    private String gender;
    
    // ğŸ”¸ å¿…é¡»æä¾›æ— å‚æ„é€ 
    public Student() {
    }
    
    // ğŸ”¸ æä¾›æœ‰å‚æ„é€ ï¼ˆå¯é€‰ï¼Œæ–¹ä¾¿åˆ›å»ºå¯¹è±¡ï¼‰
    public Student(String name, Integer age, String gender) {
        this.name = name;
        this.age = age;
        this.gender = gender;
    }
    
    // ğŸ”¸ getter/setteræ–¹æ³•ï¼ˆå¿…é¡»ï¼‰
    public Long getId() { return id; }
    public void setId(Long id) { this.id = id; }
    
    public String getName() { return name; }
    public void setName(String name) { this.name = name; }
    
    public Integer getAge() { return age; }
    public void setAge(Integer age) { this.age = age; }
    
    public String getGender() { return gender; }
    public void setGender(String gender) { this.gender = gender; }
    
    // ğŸ”¸ toStringæ–¹æ³•ï¼ˆå¯é€‰ï¼Œæ–¹ä¾¿è°ƒè¯•ï¼‰
    @Override
    public String toString() {
        return "Student{id=" + id + ", name='" + name + 
               "', age=" + age + ", gender='" + gender + "'}";
    }
}
```

**ğŸ’¡ è®¾è®¡è¦ç‚¹**

```
ä¸»é”®å­—æ®µï¼š
â€¢ ä½¿ç”¨åŒ…è£…ç±»å‹ï¼ˆLong/Integerï¼‰è€Œä¸æ˜¯åŸºæœ¬ç±»å‹ï¼ˆlong/intï¼‰
â€¢ åŸå› ï¼šåŒ…è£…ç±»å‹å¯ä»¥ä¸ºnullï¼Œè¡¨ç¤º"è¿˜æ²¡æœ‰id"

å±æ€§ç±»å‹é€‰æ‹©ï¼š
â€¢ String â†’ æ•°æ®åº“VARCHAR
â€¢ Integer â†’ æ•°æ®åº“INT
â€¢ Date â†’ æ•°æ®åº“DATE/TIMESTAMP
â€¢ BigDecimal â†’ æ•°æ®åº“DECIMAL
```

---

## 4. ğŸ—ºï¸ æ˜ å°„æ–‡ä»¶é…ç½®


### 4.1 æ˜ å°„æ–‡ä»¶æ˜¯ä»€ä¹ˆ


**ğŸ”¸ ä½œç”¨è¯´æ˜**
```
æ˜ å°„æ–‡ä»¶ = å‘Šè¯‰Hibernateå¦‚ä½•æŠŠJavaç±»å’Œæ•°æ®åº“è¡¨å¯¹åº”èµ·æ¥

æ–‡ä»¶åï¼šStudent.hbm.xmlï¼ˆå®ä½“ç±»å.hbm.xmlï¼‰
ä½ç½®ï¼šå’Œå®ä½“ç±»åœ¨åŒä¸€ä¸ªåŒ…ä¸‹

æ˜ å°„å…³ç³»ï¼š
Studentç±» â†â†’ studentè¡¨
idå±æ€§ â†â†’ idå­—æ®µ
nameå±æ€§ â†â†’ nameå­—æ®µ
...
```

### 4.2 æ˜ å°„æ–‡ä»¶åŸºæœ¬ç»“æ„


```xml
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE hibernate-mapping PUBLIC
    "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
    "http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd">

<hibernate-mapping>
    
    <!-- ç±»å’Œè¡¨çš„æ˜ å°„ -->
    <class name="com.example.entity.Student" table="student">
        
        <!-- ä¸»é”®æ˜ å°„ -->
        <id name="id" column="id">
            <!-- ä¸»é”®ç”Ÿæˆç­–ç•¥ -->
            <generator class="native"/>
        </id>
        
        <!-- æ™®é€šå±æ€§æ˜ å°„ -->
        <property name="name" column="name"/>
        <property name="age" column="age"/>
        <property name="gender" column="gender"/>
        
    </class>
    
</hibernate-mapping>
```

### 4.3 æ ¸å¿ƒé…ç½®è¯¦è§£


**ğŸ”¸ classæ ‡ç­¾**
```xml
<class name="å®Œæ•´ç±»å" table="è¡¨å">

å±æ€§è¯´æ˜ï¼š
â€¢ nameï¼šJavaå®ä½“ç±»çš„å®Œæ•´è·¯å¾„
â€¢ tableï¼šæ•°æ®åº“è¡¨å
```

**ğŸ”¸ idæ ‡ç­¾ï¼ˆä¸»é”®æ˜ å°„ï¼‰**
```xml
<id name="Javaå±æ€§å" column="æ•°æ®åº“å­—æ®µå">
    <generator class="ä¸»é”®ç”Ÿæˆç­–ç•¥"/>
</id>

å¸¸ç”¨ä¸»é”®ç”Ÿæˆç­–ç•¥ï¼š
â€¢ nativeï¼šæ ¹æ®æ•°æ®åº“è‡ªåŠ¨é€‰æ‹©ï¼ˆæ¨èï¼‰
â€¢ identityï¼šè‡ªå¢é•¿ï¼ˆMySQLï¼‰
â€¢ sequenceï¼šåºåˆ—ï¼ˆOracleï¼‰
â€¢ assignedï¼šæ‰‹åŠ¨èµ‹å€¼
â€¢ uuidï¼šç”ŸæˆUUIDå­—ç¬¦ä¸²
```

**ğŸ”¸ propertyæ ‡ç­¾ï¼ˆæ™®é€šå±æ€§ï¼‰**
```xml
<property name="Javaå±æ€§å" 
          column="æ•°æ®åº“å­—æ®µå" 
          type="æ•°æ®ç±»å‹"
          not-null="true/false"
          length="é•¿åº¦"/>

å¸¸ç”¨é…ç½®ï¼š
â€¢ typeï¼šæŒ‡å®šæ•°æ®ç±»å‹ï¼ˆé€šå¸¸å¯ä»¥çœç•¥ï¼Œè‡ªåŠ¨æ¨æ–­ï¼‰
â€¢ not-nullï¼šæ˜¯å¦å…è®¸ä¸ºç©º
â€¢ lengthï¼šå­—ç¬¦ä¸²é•¿åº¦
```

### 4.4 å®Œæ•´ç¤ºä¾‹


```xml
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE hibernate-mapping PUBLIC
    "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
    "http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd">

<hibernate-mapping>
    
    <class name="com.example.entity.Student" table="student">
        
        <!-- ä¸»é”®ï¼šidå±æ€§ â†’ idå­—æ®µï¼Œä½¿ç”¨è‡ªå¢é•¿ -->
        <id name="id" column="id">
            <generator class="native"/>
        </id>
        
        <!-- å§“åï¼šä¸èƒ½ä¸ºç©ºï¼Œæœ€é•¿50å­—ç¬¦ -->
        <property name="name" column="name" 
                  not-null="true" length="50"/>
        
        <!-- å¹´é¾„ï¼šå¯ä»¥ä¸ºç©º -->
        <property name="age" column="age"/>
        
        <!-- æ€§åˆ«ï¼šæœ€é•¿10å­—ç¬¦ -->
        <property name="gender" column="gender" length="10"/>
        
    </class>
    
</hibernate-mapping>
```

**ğŸ’¡ é…ç½®æŠ€å·§**

```
æ–‡ä»¶ä½ç½®ï¼š
âœ… æ¨èï¼šå’Œå®ä½“ç±»æ”¾åœ¨åŒä¸€ä¸ªåŒ…
âœ… å‘½åï¼šå®ä½“ç±»å.hbm.xml

å±æ€§åå’Œå­—æ®µåä¸€è‡´æ—¶ï¼š
<property name="name"/>  â† columnå¯ä»¥çœç•¥

ç±»å‹å¯ä»¥è‡ªåŠ¨æ¨æ–­æ—¶ï¼š
ä¸éœ€è¦å†™typeå±æ€§
```

---

## 5. ğŸ­ SessionFactoryåˆ›å»º


### 5.1 é…ç½®æ–‡ä»¶å‡†å¤‡


**ğŸ”¸ hibernate.cfg.xmlï¼ˆæ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼‰**

```xml
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE hibernate-configuration PUBLIC
    "-//Hibernate/Hibernate Configuration DTD 3.0//EN"
    "http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd">

<hibernate-configuration>
    <session-factory>
        
        <!-- ğŸ”¸ æ•°æ®åº“è¿æ¥é…ç½® -->
        <property name="hibernate.connection.driver_class">
            com.mysql.jdbc.Driver
        </property>
        <property name="hibernate.connection.url">
            jdbc:mysql://localhost:3306/test?useUnicode=true&amp;characterEncoding=utf8
        </property>
        <property name="hibernate.connection.username">root</property>
        <property name="hibernate.connection.password">123456</property>
        
        <!-- ğŸ”¸ æ•°æ®åº“æ–¹è¨€ï¼ˆå‘Šè¯‰Hibernateç”¨å“ªç§æ•°æ®åº“ï¼‰ -->
        <property name="hibernate.dialect">
            org.hibernate.dialect.MySQLDialect
        </property>
        
        <!-- ğŸ”¸ å…¶ä»–é…ç½® -->
        <property name="hibernate.show_sql">true</property>  <!-- æ˜¾ç¤ºSQL -->
        <property name="hibernate.format_sql">true</property> <!-- æ ¼å¼åŒ–SQL -->
        <property name="hibernate.hbm2ddl.auto">update</property> <!-- è‡ªåŠ¨å»ºè¡¨ -->
        
        <!-- ğŸ”¸ æ˜ å°„æ–‡ä»¶ä½ç½® -->
        <mapping resource="com/example/entity/Student.hbm.xml"/>
        
    </session-factory>
</hibernate-configuration>
```

**é…ç½®è¯´æ˜**

| é…ç½®é¡¹ | è¯´æ˜ | å¸¸ç”¨å€¼ |
|--------|------|--------|
| `show_sql` | `æ˜¯å¦æ˜¾ç¤ºSQL` | `trueï¼ˆå¼€å‘ï¼‰/falseï¼ˆç”Ÿäº§ï¼‰` |
| `format_sql` | `æ˜¯å¦æ ¼å¼åŒ–SQL` | `trueï¼ˆä¾¿äºæŸ¥çœ‹ï¼‰` |
| `hbm2ddl.auto` | `è‡ªåŠ¨å»ºè¡¨ç­–ç•¥` | `updateï¼ˆæ›´æ–°è¡¨ç»“æ„ï¼‰/createï¼ˆæ¯æ¬¡é‡å»ºï¼‰` |
| `dialect` | `æ•°æ®åº“æ–¹è¨€` | `MySQLDialect/Oracle10gDialectç­‰` |

### 5.2 åˆ›å»ºSessionFactory


**ğŸ”¸ æ ‡å‡†åˆ›å»ºæµç¨‹**

```java
public class HibernateUtil {
    
    // ğŸ”¸ SessionFactoryæ˜¯é‡é‡çº§å¯¹è±¡ï¼Œå…¨å±€åªéœ€ä¸€ä¸ª
    private static SessionFactory sessionFactory;
    
    // ğŸ”¸ é™æ€ä»£ç å—ï¼Œç±»åŠ è½½æ—¶æ‰§è¡Œä¸€æ¬¡
    static {
        try {
            // æ­¥éª¤1ï¼šåˆ›å»ºConfigurationå¯¹è±¡
            Configuration config = new Configuration();
            
            // æ­¥éª¤2ï¼šåŠ è½½é…ç½®æ–‡ä»¶ï¼ˆé»˜è®¤åŠ è½½hibernate.cfg.xmlï¼‰
            config.configure();
            
            // æ­¥éª¤3ï¼šåˆ›å»ºSessionFactory
            sessionFactory = config.buildSessionFactory();
            
        } catch (Exception e) {
            e.printStackTrace();
            throw new RuntimeException("SessionFactoryåˆ›å»ºå¤±è´¥ï¼", e);
        }
    }
    
    // ğŸ”¸ è·å–SessionFactoryçš„æ–¹æ³•
    public static SessionFactory getSessionFactory() {
        return sessionFactory;
    }
    
    // ğŸ”¸ å…³é—­SessionFactoryï¼ˆåº”ç”¨å…³é—­æ—¶è°ƒç”¨ï¼‰
    public static void shutdown() {
        if (sessionFactory != null) {
            sessionFactory.close();
        }
    }
}
```

**ğŸ’¡ å…³é”®ç†è§£**

```
ä¸ºä»€ä¹ˆç”¨staticé™æ€å—ï¼Ÿ
â†’ SessionFactoryåˆ›å»ºå¾ˆè€—æ—¶ï¼ˆè¯»é…ç½®ã€å»ºè¿æ¥æ± ç­‰ï¼‰
â†’ å…¨å±€åªéœ€è¦ä¸€ä¸ªï¼Œæ‰€ä»¥ç±»åŠ è½½æ—¶åˆ›å»ºä¸€æ¬¡å°±å¤Ÿäº†

ä¸ºä»€ä¹ˆè¦å·¥å…·ç±»ï¼Ÿ
â†’ æ–¹ä¾¿å…¶ä»–åœ°æ–¹è·å–SessionFactory
â†’ ç»Ÿä¸€ç®¡ç†ï¼Œä¾¿äºç»´æŠ¤
```

### 5.3 åˆ›å»ºè¿‡ç¨‹è¯¦è§£


**ğŸ”¸ æ‰§è¡Œæµç¨‹å›¾**
```
åº”ç”¨å¯åŠ¨
   â†“
åŠ è½½HibernateUtilç±»
   â†“
æ‰§è¡Œstaticé™æ€å—
   â†“
åˆ›å»ºConfigurationå¯¹è±¡
   â†“
è¯»å–hibernate.cfg.xml
   â†“
è§£ææ•°æ®åº“é…ç½®
   â†“
åŠ è½½æ˜ å°„æ–‡ä»¶Student.hbm.xml
   â†“
åˆ›å»ºSessionFactory
   â†“
å»ºç«‹æ•°æ®åº“è¿æ¥æ± 
   â†“
SessionFactoryåˆ›å»ºå®Œæˆï¼ˆå¯ä»¥ç”¨äº†ï¼‰
```

---

## 6. ğŸ”§ Sessionä½¿ç”¨è¯¦è§£


### 6.1 Sessionæ˜¯ä»€ä¹ˆ


**ğŸ”¸ é€šä¿—ç†è§£**
```
Session = ä¸€æ¬¡æ•°æ®åº“ä¼šè¯

å°±åƒä½ å»é“¶è¡ŒåŠä¸šåŠ¡ï¼š
1. å–å·æ’é˜Ÿï¼ˆåˆ›å»ºSessionï¼‰
2. åŠç†ä¸šåŠ¡ï¼ˆCRUDæ“ä½œï¼‰
3. ä¸šåŠ¡åŠå®Œï¼ˆå…³é—­Sessionï¼‰

ç‰¹ç‚¹ï¼š
âœ… æ¯æ¬¡æ“ä½œåˆ›å»ºä¸€ä¸ªæ–°çš„Session
âœ… ç”¨å®Œå¿…é¡»å…³é—­
âœ… éçº¿ç¨‹å®‰å…¨ï¼ˆä¸èƒ½å¤šçº¿ç¨‹å…±äº«ï¼‰
```

### 6.2 Sessionçš„ç”Ÿå‘½å‘¨æœŸ


**ğŸ”¸ æ ‡å‡†ä½¿ç”¨æ¨¡å¼**

```java
public class StudentDao {
    
    public void saveStudent() {
        // ğŸ”¸ æ­¥éª¤1ï¼šè·å–Session
        Session session = HibernateUtil.getSessionFactory().openSession();
        
        // ğŸ”¸ æ­¥éª¤2ï¼šå¼€å¯äº‹åŠ¡
        Transaction tx = session.beginTransaction();
        
        try {
            // ğŸ”¸ æ­¥éª¤3ï¼šæ‰§è¡Œæ“ä½œ
            Student student = new Student("å¼ ä¸‰", 20, "ç”·");
            session.save(student);
            
            // ğŸ”¸ æ­¥éª¤4ï¼šæäº¤äº‹åŠ¡
            tx.commit();
            
        } catch (Exception e) {
            // ğŸ”¸ æ­¥éª¤5ï¼šå‡ºé”™å›æ»š
            if (tx != null) {
                tx.rollback();
            }
            e.printStackTrace();
        } finally {
            // ğŸ”¸ æ­¥éª¤6ï¼šå…³é—­Session
            if (session != null) {
                session.close();
            }
        }
    }
}
```

**ğŸ’¡ ä½¿ç”¨è¦ç‚¹**

```
Sessionåˆ›å»ºï¼š
sessionFactory.openSession()  â† æ¯æ¬¡éƒ½åˆ›å»ºæ–°çš„

Sessionå…³é—­ï¼š
session.close()  â† å¿…é¡»å…³é—­ï¼Œå¦åˆ™è¿æ¥æ³„æ¼

ä¸ºä»€ä¹ˆç”¨try-finallyï¼Ÿ
â†’ ç¡®ä¿Sessionä¸€å®šä¼šè¢«å…³é—­
â†’ å³ä½¿å‡ºé”™ä¹Ÿè¦é‡Šæ”¾èµ„æº
```

### 6.3 Sessionå¸¸ç”¨æ–¹æ³•


| æ–¹æ³• | ä½œç”¨ | è¿”å›å€¼ |
|------|------|--------|
| `save(Object)` | `ä¿å­˜å¯¹è±¡` | `è¿”å›ä¸»é”®å€¼` |
| `update(Object)` | `æ›´æ–°å¯¹è±¡` | `void` |
| `delete(Object)` | `åˆ é™¤å¯¹è±¡` | `void` |
| `get(Class, id)` | `æ ¹æ®idæŸ¥è¯¢` | `å¯¹è±¡æˆ–null` |
| `createQuery(hql)` | `HQLæŸ¥è¯¢` | `Queryå¯¹è±¡` |
| `beginTransaction()` | `å¼€å¯äº‹åŠ¡` | `Transactionå¯¹è±¡` |

---

## 7. ğŸ’³ äº‹åŠ¡ç®¡ç†


### 7.1 ä»€ä¹ˆæ˜¯äº‹åŠ¡


**ğŸ”¸ ç”Ÿæ´»ä¾‹å­ç†è§£**

```
é“¶è¡Œè½¬è´¦åœºæ™¯ï¼š
å¼ ä¸‰ç»™æå››è½¬è´¦1000å…ƒ

æ•°æ®åº“æ“ä½œï¼š
æ“ä½œ1ï¼šå¼ ä¸‰è´¦æˆ· - 1000
æ“ä½œ2ï¼šæå››è´¦æˆ· + 1000

äº‹åŠ¡çš„ä½œç”¨ï¼š
âœ… ä¸¤ä¸ªæ“ä½œå¿…é¡»åŒæ—¶æˆåŠŸ
âŒ å¦‚æœä»»ä½•ä¸€ä¸ªå¤±è´¥ï¼Œå…¨éƒ¨å›æ»šï¼ˆæ’¤é”€ï¼‰

å¦åˆ™ä¼šå‡ºç°ï¼š
å¼ ä¸‰æ‰£äº†é’±ï¼Œæå››æ²¡æ”¶åˆ° â† æ•°æ®ä¸ä¸€è‡´ï¼
```

### 7.2 äº‹åŠ¡çš„å››å¤§ç‰¹æ€§ï¼ˆACIDï¼‰


| ç‰¹æ€§ | è‹±æ–‡ | é€šä¿—è§£é‡Š |
|------|------|---------|
| `åŸå­æ€§` | `Atomicity` | `è¦ä¹ˆå…¨åšï¼Œè¦ä¹ˆå…¨ä¸åš` |
| `ä¸€è‡´æ€§` | `Consistency` | `æ•°æ®ä»ä¸€ä¸ªä¸€è‡´çŠ¶æ€åˆ°å¦ä¸€ä¸ªä¸€è‡´çŠ¶æ€` |
| `éš”ç¦»æ€§` | `Isolation` | `å¤šä¸ªäº‹åŠ¡äº’ä¸å¹²æ‰°` |
| `æŒä¹…æ€§` | `Durability` | `ä¸€æ—¦æäº¤ï¼Œæ°¸ä¹…ä¿å­˜` |

### 7.3 Hibernateäº‹åŠ¡ä½¿ç”¨


**ğŸ”¸ æ ‡å‡†äº‹åŠ¡æ¨¡æ¿**

```java
Session session = null;
Transaction tx = null;

try {
    // 1. è·å–Session
    session = HibernateUtil.getSessionFactory().openSession();
    
    // 2. å¼€å¯äº‹åŠ¡
    tx = session.beginTransaction();
    
    // 3. æ‰§è¡Œå¤šä¸ªæ“ä½œï¼ˆåŸå­æ€§ï¼‰
    session.save(student1);
    session.save(student2);
    session.update(student3);
    
    // 4. æäº¤äº‹åŠ¡ï¼ˆæˆåŠŸï¼‰
    tx.commit();
    
} catch (Exception e) {
    // 5. å›æ»šäº‹åŠ¡ï¼ˆå¤±è´¥ï¼‰
    if (tx != null) {
        tx.rollback();
    }
    e.printStackTrace();
    
} finally {
    // 6. å…³é—­Session
    if (session != null) {
        session.close();
    }
}
```

**ğŸ’¡ äº‹åŠ¡ç®¡ç†è¦ç‚¹**

```
ä»€ä¹ˆæ—¶å€™éœ€è¦äº‹åŠ¡ï¼Ÿ
âœ… æ‰€æœ‰çš„å†™æ“ä½œï¼ˆå¢åˆ æ”¹ï¼‰
âŒ å•çº¯çš„æŸ¥è¯¢å¯ä»¥ä¸ç”¨

äº‹åŠ¡è¾¹ç•Œï¼š
beginTransaction() â†’ äº‹åŠ¡å¼€å§‹
commit() â†’ äº‹åŠ¡æäº¤
rollback() â†’ äº‹åŠ¡å›æ»š

ä¸ºä»€ä¹ˆè¦å›æ»šï¼Ÿ
â†’ å‡ºé”™æ—¶æ’¤é”€æ‰€æœ‰æ“ä½œ
â†’ ä¿è¯æ•°æ®ä¸€è‡´æ€§
```

---

## 8. ğŸ“Š åŸºæœ¬CRUDæ“ä½œ


### 8.1 å¢åŠ æ“ä½œï¼ˆCreateï¼‰


**ğŸ”¸ ä¿å­˜å•ä¸ªå¯¹è±¡**

```java
public void saveStudent() {
    Session session = HibernateUtil.getSessionFactory().openSession();
    Transaction tx = session.beginTransaction();
    
    try {
        // åˆ›å»ºå¯¹è±¡
        Student student = new Student("å¼ ä¸‰", 20, "ç”·");
        
        // ä¿å­˜ï¼ˆHibernateè‡ªåŠ¨ç”ŸæˆINSERTè¯­å¥ï¼‰
        session.save(student);
        
        tx.commit();
        System.out.println("ä¿å­˜æˆåŠŸï¼ŒID=" + student.getId());
        
    } catch (Exception e) {
        tx.rollback();
        e.printStackTrace();
    } finally {
        session.close();
    }
}
```

**æ‰§è¡Œçš„SQLï¼ˆHibernateè‡ªåŠ¨ç”Ÿæˆï¼‰ï¼š**
```sql
INSERT INTO student (name, age, gender) VALUES ('å¼ ä¸‰', 20, 'ç”·');
```

**ğŸ”¸ æ‰¹é‡ä¿å­˜**

```java
public void batchSave() {
    Session session = HibernateUtil.getSessionFactory().openSession();
    Transaction tx = session.beginTransaction();
    
    try {
        for (int i = 1; i <= 100; i++) {
            Student student = new Student("å­¦ç”Ÿ" + i, 18 + i % 5, "ç”·");
            session.save(student);
            
            // ğŸ”¸ æ¯20æ¡åˆ·æ–°ä¸€æ¬¡ï¼ˆæå‡æ€§èƒ½ï¼‰
            if (i % 20 == 0) {
                session.flush();  // å¼ºåˆ¶æ‰§è¡ŒSQL
                session.clear();  // æ¸…ç©ºç¼“å­˜
            }
        }
        
        tx.commit();
    } catch (Exception e) {
        tx.rollback();
    } finally {
        session.close();
    }
}
```

### 8.2 æŸ¥è¯¢æ“ä½œï¼ˆReadï¼‰


**ğŸ”¸ æ ¹æ®IDæŸ¥è¯¢ï¼ˆgetæ–¹æ³•ï¼‰**

```java
public Student getById(Long id) {
    Session session = HibernateUtil.getSessionFactory().openSession();
    
    try {
        // getæ–¹æ³•ï¼šç«‹å³æŸ¥è¯¢æ•°æ®åº“
        Student student = session.get(Student.class, id);
        return student;  // å¯èƒ½è¿”å›null
        
    } finally {
        session.close();
    }
}
```

**æ‰§è¡Œçš„SQLï¼š**
```sql
SELECT * FROM student WHERE id = ?;
```

**ğŸ”¸ æŸ¥è¯¢æ‰€æœ‰ï¼ˆHQLæŸ¥è¯¢ï¼‰**

```java
public List<Student> findAll() {
    Session session = HibernateUtil.getSessionFactory().openSession();
    
    try {
        // HQLï¼šé¢å‘å¯¹è±¡çš„æŸ¥è¯¢è¯­è¨€
        String hql = "FROM Student";  // æ³¨æ„ï¼šStudentæ˜¯ç±»åï¼Œä¸æ˜¯è¡¨å
        Query query = session.createQuery(hql);
        
        List<Student> students = query.list();
        return students;
        
    } finally {
        session.close();
    }
}
```

**ğŸ”¸ æ¡ä»¶æŸ¥è¯¢**

```java
public List<Student> findByAge(int age) {
    Session session = HibernateUtil.getSessionFactory().openSession();
    
    try {
        String hql = "FROM Student WHERE age = :age";
        Query query = session.createQuery(hql);
        query.setParameter("age", age);  // è®¾ç½®å‚æ•°
        
        return query.list();
        
    } finally {
        session.close();
    }
}
```

### 8.3 æ›´æ–°æ“ä½œï¼ˆUpdateï¼‰


**ğŸ”¸ æ›´æ–°å¯¹è±¡**

```java
public void updateStudent(Long id) {
    Session session = HibernateUtil.getSessionFactory().openSession();
    Transaction tx = session.beginTransaction();
    
    try {
        // 1. å…ˆæŸ¥è¯¢
        Student student = session.get(Student.class, id);
        
        if (student != null) {
            // 2. ä¿®æ”¹å±æ€§
            student.setAge(25);
            student.setGender("å¥³");
            
            // 3. æ›´æ–°ï¼ˆHibernateè‡ªåŠ¨ç”ŸæˆUPDATEï¼‰
            session.update(student);
        }
        
        tx.commit();
        
    } catch (Exception e) {
        tx.rollback();
    } finally {
        session.close();
    }
}
```

**æ‰§è¡Œçš„SQLï¼š**
```sql
UPDATE student SET age = 25, gender = 'å¥³' WHERE id = ?;
```

### 8.4 åˆ é™¤æ“ä½œï¼ˆDeleteï¼‰


**ğŸ”¸ åˆ é™¤å¯¹è±¡**

```java
public void deleteStudent(Long id) {
    Session session = HibernateUtil.getSessionFactory().openSession();
    Transaction tx = session.beginTransaction();
    
    try {
        // æ–¹å¼1ï¼šå…ˆæŸ¥è¯¢å†åˆ é™¤
        Student student = session.get(Student.class, id);
        if (student != null) {
            session.delete(student);
        }
        
        // æ–¹å¼2ï¼šç›´æ¥åˆ é™¤ï¼ˆä¸æ¨èï¼Œå¯èƒ½æŠ›å¼‚å¸¸ï¼‰
        // Student student = new Student();
        // student.setId(id);
        // session.delete(student);
        
        tx.commit();
        
    } catch (Exception e) {
        tx.rollback();
    } finally {
        session.close();
    }
}
```

**æ‰§è¡Œçš„SQLï¼š**
```sql
DELETE FROM student WHERE id = ?;
```

---

## 9. ğŸ”„ å¼€å‘æµç¨‹æ€»ç»“


### 9.1 å®Œæ•´å¼€å‘æ­¥éª¤


**ğŸ”¸ é¡¹ç›®æ­å»ºæµç¨‹**

```
æ­¥éª¤1ï¼šå¯¼å…¥Hibernateç›¸å…³jaråŒ…
      â†“
æ­¥éª¤2ï¼šåˆ›å»ºæ•°æ®åº“å’Œè¡¨
      â†“
æ­¥éª¤3ï¼šç¼–å†™å®ä½“ç±»ï¼ˆéµå¾ªè§„èŒƒï¼‰
      â†“
æ­¥éª¤4ï¼šç¼–å†™æ˜ å°„æ–‡ä»¶ï¼ˆ.hbm.xmlï¼‰
      â†“
æ­¥éª¤5ï¼šç¼–å†™æ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼ˆhibernate.cfg.xmlï¼‰
      â†“
æ­¥éª¤6ï¼šç¼–å†™å·¥å…·ç±»ï¼ˆHibernateUtilï¼‰
      â†“
æ­¥éª¤7ï¼šç¼–å†™DAOå±‚ä»£ç ï¼ˆCRUDæ“ä½œï¼‰
      â†“
æ­¥éª¤8ï¼šç¼–å†™æµ‹è¯•ä»£ç 
```

### 9.2 æ ‡å‡†ä»£ç æ¨¡æ¿


**ğŸ”¸ DAOå±‚æ ‡å‡†æ¨¡æ¿**

```java
public class StudentDao {
    
    // ğŸ”¸ ä¿å­˜
    public void save(Student student) {
        Session session = HibernateUtil.getSessionFactory().openSession();
        Transaction tx = session.beginTransaction();
        try {
            session.save(student);
            tx.commit();
        } catch (Exception e) {
            if (tx != null) tx.rollback();
            throw new RuntimeException(e);
        } finally {
            if (session != null) session.close();
        }
    }
    
    // ğŸ”¸ æ›´æ–°
    public void update(Student student) {
        Session session = HibernateUtil.getSessionFactory().openSession();
        Transaction tx = session.beginTransaction();
        try {
            session.update(student);
            tx.commit();
        } catch (Exception e) {
            if (tx != null) tx.rollback();
            throw new RuntimeException(e);
        } finally {
            if (session != null) session.close();
        }
    }
    
    // ğŸ”¸ åˆ é™¤
    public void delete(Long id) {
        Session session = HibernateUtil.getSessionFactory().openSession();
        Transaction tx = session.beginTransaction();
        try {
            Student student = session.get(Student.class, id);
            if (student != null) {
                session.delete(student);
            }
            tx.commit();
        } catch (Exception e) {
            if (tx != null) tx.rollback();
            throw new RuntimeException(e);
        } finally {
            if (session != null) session.close();
        }
    }
    
    // ğŸ”¸ æŸ¥è¯¢
    public Student findById(Long id) {
        Session session = HibernateUtil.getSessionFactory().openSession();
        try {
            return session.get(Student.class, id);
        } finally {
            if (session != null) session.close();
        }
    }
    
    // ğŸ”¸ æŸ¥è¯¢æ‰€æœ‰
    public List<Student> findAll() {
        Session session = HibernateUtil.getSessionFactory().openSession();
        try {
            return session.createQuery("FROM Student", Student.class).list();
        } finally {
            if (session != null) session.close();
        }
    }
}
```

### 9.3 æµ‹è¯•ä»£ç ç¤ºä¾‹


```java
public class HibernateTest {
    
    public static void main(String[] args) {
        StudentDao dao = new StudentDao();
        
        // ğŸ”¸ æµ‹è¯•ä¿å­˜
        Student student = new Student("æµ‹è¯•å­¦ç”Ÿ", 20, "ç”·");
        dao.save(student);
        System.out.println("ä¿å­˜æˆåŠŸï¼ŒID=" + student.getId());
        
        // ğŸ”¸ æµ‹è¯•æŸ¥è¯¢
        Student found = dao.findById(student.getId());
        System.out.println("æŸ¥è¯¢ç»“æœï¼š" + found);
        
        // ğŸ”¸ æµ‹è¯•æ›´æ–°
        found.setAge(25);
        dao.update(found);
        System.out.println("æ›´æ–°æˆåŠŸ");
        
        // ğŸ”¸ æµ‹è¯•æŸ¥è¯¢æ‰€æœ‰
        List<Student> list = dao.findAll();
        System.out.println("æ€»å…±ï¼š" + list.size() + "æ¡è®°å½•");
        
        // ğŸ”¸ æµ‹è¯•åˆ é™¤
        dao.delete(student.getId());
        System.out.println("åˆ é™¤æˆåŠŸ");
    }
}
```

---

## 10. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 10.1 å¿…é¡»æŒæ¡çš„æ¦‚å¿µ


**ğŸ”¸ æ ¸å¿ƒç»„ä»¶**
```
Configuration â†’ è¯»å–é…ç½®
SessionFactory â†’ ä¼šè¯å·¥å‚ï¼ˆå…¨å±€å”¯ä¸€ï¼‰
Session â†’ æ•°æ®åº“ä¼šè¯ï¼ˆæ¯æ¬¡åˆ›å»ºï¼‰
Transaction â†’ äº‹åŠ¡ç®¡ç†
```

**ğŸ”¸ æ–‡ä»¶é…ç½®**
```
hibernate.cfg.xml â†’ æ ¸å¿ƒé…ç½®ï¼ˆæ•°æ®åº“è¿æ¥ç­‰ï¼‰
Student.hbm.xml â†’ æ˜ å°„æ–‡ä»¶ï¼ˆç±»â†”è¡¨ï¼‰
```

**ğŸ”¸ å¼€å‘æµç¨‹**
```
å®ä½“ç±» â†’ æ˜ å°„æ–‡ä»¶ â†’ æ ¸å¿ƒé…ç½® â†’ å·¥å…·ç±» â†’ DAOå±‚ â†’ æµ‹è¯•
```

### 10.2 å¸¸è§æ³¨æ„äº‹é¡¹


**âš ï¸ å®ä½“ç±»è®¾è®¡**
```
å¿…é¡»ï¼š
âœ… æ— å‚æ„é€ 
âœ… getter/setter
âœ… ä¸»é”®å±æ€§
âœ… å®ç°Serializableï¼ˆå»ºè®®ï¼‰

ç¦æ­¢ï¼š
âŒ å±æ€§ç”¨finalä¿®é¥°
âŒ æ²¡æœ‰setteræ–¹æ³•
```

**âš ï¸ Sessionä½¿ç”¨**
```
æ­£ç¡®åšæ³•ï¼š
âœ… æ¯æ¬¡æ“ä½œåˆ›å»ºæ–°Session
âœ… ç”¨å®Œç«‹å³å…³é—­
âœ… ä½¿ç”¨try-finallyä¿è¯å…³é—­

é”™è¯¯åšæ³•ï¼š
âŒ å¤šçº¿ç¨‹å…±äº«Session
âŒ å¿˜è®°å…³é—­Session
âŒ åœ¨finallyå¤–å…³é—­
```

**âš ï¸ äº‹åŠ¡ç®¡ç†**
```
å¿…é¡»ç”¨äº‹åŠ¡ï¼š
âœ… saveã€updateã€delete

å¯ä¸ç”¨äº‹åŠ¡ï¼š
â­• å•çº¯çš„æŸ¥è¯¢æ“ä½œ

è®°å¾—å¤„ç†ï¼š
âœ… try-catchæ•è·å¼‚å¸¸
âœ… catchä¸­å›æ»šäº‹åŠ¡
âœ… finallyä¸­å…³é—­Session
```

### 10.3 å­¦ä¹ æ£€æŸ¥æ¸…å•


**â˜‘ åŸºç¡€æ¦‚å¿µ**
- [ ] ç†è§£ä»€ä¹ˆæ˜¯ORM
- [ ] çŸ¥é“Hibernateçš„ä½œç”¨
- [ ] æŒæ¡æ ¸å¿ƒç»„ä»¶å…³ç³»

**â˜‘ é…ç½®æ–‡ä»¶**
- [ ] ä¼šå†™å®ä½“ç±»
- [ ] ä¼šå†™æ˜ å°„æ–‡ä»¶
- [ ] ä¼šé…ç½®hibernate.cfg.xml

**â˜‘ ä»£ç å®è·µ**
- [ ] èƒ½åˆ›å»ºSessionFactory
- [ ] èƒ½æ­£ç¡®ä½¿ç”¨Session
- [ ] ä¼šç®¡ç†äº‹åŠ¡
- [ ] èƒ½å®ŒæˆCRUDæ“ä½œ

**â˜‘ å¼€å‘è§„èŒƒ**
- [ ] æŒæ¡æ ‡å‡†å¼€å‘æµç¨‹
- [ ] ä¼šç”¨å·¥å…·ç±»
- [ ] èƒ½å†™DAOå±‚ä»£ç 

### 10.4 è®°å¿†å£è¯€


```
Hibernateå…¥é—¨è®°å¿ƒé—´ï¼š
ORMæ˜ å°„å¯¹è±¡è¡¨ï¼ŒSessionæ“ä½œæ•°æ®åº“ï¼Œ
å®ä½“è§„èŒƒè¦è®°ç‰¢ï¼Œæ— å‚æ„é€ ä¸èƒ½å°‘ï¼Œ
æ˜ å°„æ–‡ä»¶é…å¯¹åº”ï¼Œæ ¸å¿ƒé…ç½®è¿æ•°æ®ï¼Œ
SessionFactoryå…¨å±€å»ºï¼ŒSessionæ¯æ¬¡æ–°åˆ›å»ºï¼Œ
äº‹åŠ¡ç®¡ç†è¦è§„èŒƒï¼Œtry-catchä¿å®‰å…¨ï¼Œ
å¢åˆ æ”¹æŸ¥å››æ“ä½œï¼Œæäº¤å›æ»šåˆ«å¿˜äº†ï¼
```

### 10.5 ä¸‹ä¸€æ­¥å­¦ä¹ æ–¹å‘


**ğŸ¯ è¿›é˜¶ä¸»é¢˜**
```
å…³è”æ˜ å°„ï¼š
â€¢ ä¸€å¯¹ä¸€å…³ç³»
â€¢ ä¸€å¯¹å¤šå…³ç³»
â€¢ å¤šå¯¹å¤šå…³ç³»

é«˜çº§æŸ¥è¯¢ï¼š
â€¢ HQLæŸ¥è¯¢è¯­è¨€
â€¢ CriteriaæŸ¥è¯¢
â€¢ åŸç”ŸSQLæŸ¥è¯¢

æ€§èƒ½ä¼˜åŒ–ï¼š
â€¢ ä¸€çº§ç¼“å­˜
â€¢ äºŒçº§ç¼“å­˜
â€¢ å»¶è¿ŸåŠ è½½
```