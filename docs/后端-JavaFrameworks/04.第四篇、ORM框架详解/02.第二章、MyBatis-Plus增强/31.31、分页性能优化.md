---
title: 31ã€åˆ†é¡µæ€§èƒ½ä¼˜åŒ–
---
## ğŸ“š ç›®å½•

1. [åˆ†é¡µæŸ¥è¯¢çš„æ€§èƒ½ç“¶é¢ˆ](#1-åˆ†é¡µæŸ¥è¯¢çš„æ€§èƒ½ç“¶é¢ˆ)
2. [CountæŸ¥è¯¢ä¼˜åŒ–ç­–ç•¥](#2-CountæŸ¥è¯¢ä¼˜åŒ–ç­–ç•¥)
3. [åˆ†é¡µæº¢å‡ºå¤„ç†æœºåˆ¶](#3-åˆ†é¡µæº¢å‡ºå¤„ç†æœºåˆ¶)
4. [æœ€å¤§é™åˆ¶ä¸å®‰å…¨é˜²æŠ¤](#4-æœ€å¤§é™åˆ¶ä¸å®‰å…¨é˜²æŠ¤)
5. [è¿æ¥ä¼˜åŒ–æŠ€æœ¯](#5-è¿æ¥ä¼˜åŒ–æŠ€æœ¯)
6. [åˆ†é¡µç¼“å­˜ç­–ç•¥](#6-åˆ†é¡µç¼“å­˜ç­–ç•¥)
7. [å¤§æ•°æ®é‡åˆ†é¡µæ–¹æ¡ˆ](#7-å¤§æ•°æ®é‡åˆ†é¡µæ–¹æ¡ˆ)
8. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#8-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ” åˆ†é¡µæŸ¥è¯¢çš„æ€§èƒ½ç“¶é¢ˆ


### 1.1 ä¸ºä»€ä¹ˆåˆ†é¡µä¼šæ…¢ï¼Ÿ


**ğŸ’­ ç”Ÿæ´»ç±»æ¯”**ï¼š
```
æƒ³è±¡ä½ åœ¨å›¾ä¹¦é¦†æ‰¾ä¹¦ï¼š
- å°å›¾ä¹¦é¦†(1000æœ¬)ï¼šå¾ˆå¿«å°±èƒ½æ‰¾åˆ°ç¬¬10é¡µçš„ä¹¦
- å¤§å›¾ä¹¦é¦†(100ä¸‡æœ¬)ï¼šè¦ç¿»åˆ°ç¬¬10000é¡µï¼Œéœ€è¦å…ˆæ•°æ¸…æ¥šå‰é¢çš„99990æœ¬ä¹¦

æ•°æ®åº“åˆ†é¡µä¹Ÿæ˜¯ä¸€æ ·çš„é“ç†ï¼
```

**ğŸ”¸ åˆ†é¡µæŸ¥è¯¢çš„ä¸¤å¤§å¼€é”€**

**å¼€é”€1ï¼šæ•°æ®æŸ¥è¯¢**
```
å¸¸è§è¯¯åŒºï¼šä»¥ä¸ºæŸ¥ç¬¬1000é¡µåªéœ€è¦æŸ¥10æ¡æ•°æ®
å®é™…æƒ…å†µï¼šæ•°æ®åº“è¦å…ˆè·³è¿‡å‰é¢çš„9990æ¡ï¼Œå†å–10æ¡

SELECT * FROM user LIMIT 9990, 10
â†“
æ•°æ®åº“å†…éƒ¨ï¼šå…ˆæ‰«æ10000æ¡ï¼Œä¸¢å¼ƒ9990æ¡ï¼Œè¿”å›10æ¡
```

**å¼€é”€2ï¼šæ€»æ•°ç»Ÿè®¡ï¼ˆCountæŸ¥è¯¢ï¼‰**
```
ä¸ºäº†æ˜¾ç¤º"å…±æœ‰50000æ¡æ•°æ®ï¼Œ500é¡µ"
éœ€è¦æ‰§è¡Œï¼šSELECT COUNT(*) FROM user WHERE ...

é—®é¢˜ï¼šæ¯æ¬¡ç¿»é¡µéƒ½è¦é‡æ–°ç»Ÿè®¡æ€»æ•°
ç»“æœï¼šæ•°æ®é‡å¤§æ—¶ï¼ŒCountæŸ¥è¯¢éå¸¸è€—æ—¶
```

### 1.2 æ€§èƒ½é—®é¢˜çš„ç›´è§‚è¡¨ç°


**ğŸ“Š æ€§èƒ½å¯¹æ¯”ç¤ºä¾‹**

```
è¡¨æ•°æ®é‡ï¼š100ä¸‡æ¡è®°å½•

ç¬¬1é¡µï¼ˆLIMIT 0,10ï¼‰ï¼š
æŸ¥è¯¢æ—¶é—´ï¼š10ms âœ…

ç¬¬100é¡µï¼ˆLIMIT 990,10ï¼‰ï¼š  
æŸ¥è¯¢æ—¶é—´ï¼š50ms âš ï¸

ç¬¬10000é¡µï¼ˆLIMIT 99990,10ï¼‰ï¼š
æŸ¥è¯¢æ—¶é—´ï¼š3000ms âŒ

å·®è·ï¼š300å€ï¼
```

**ğŸ¯ æ ¸å¿ƒé—®é¢˜**
- é¡µç è¶Šå¤§ï¼ŒæŸ¥è¯¢è¶Šæ…¢
- CountæŸ¥è¯¢æ¯æ¬¡éƒ½è¦å…¨è¡¨æ‰«æ
- æ•°æ®é‡è¶Šå¤§ï¼Œæ€§èƒ½ä¸‹é™è¶Šæ˜æ˜¾

---

## 2. âš¡ CountæŸ¥è¯¢ä¼˜åŒ–ç­–ç•¥


### 2.1 ä»€ä¹ˆæ˜¯Countä¼˜åŒ–ï¼Ÿ


**ğŸ’¡ æ ¸å¿ƒæ€æƒ³**ï¼šä¸æ˜¯æ¯æ¬¡éƒ½é‡æ–°ç»Ÿè®¡æ€»æ•°

**ç”Ÿæ´»ä¾‹å­**ï¼š
```
ä¼ ç»Ÿæ–¹å¼ï¼šæ¯æ¬¡ç¿»é¡µéƒ½é‡æ–°æ•°ä¸€éå›¾ä¹¦é¦†æœ‰å¤šå°‘æœ¬ä¹¦
ä¼˜åŒ–æ–¹å¼ï¼šç¬¬ä¸€æ¬¡æ•°æ¸…æ¥šåï¼Œè®°ä¸‹æ¥ï¼Œåé¢ç›´æ¥ç”¨

é™¤éæœ‰æ–°ä¹¦è¿›æ¥ï¼Œæ‰é‡æ–°ç»Ÿè®¡
```

### 2.2 ä¼˜åŒ–æ–¹æ¡ˆ1ï¼šç¦ç”¨CountæŸ¥è¯¢


**ğŸ”¸ é€‚ç”¨åœºæ™¯**ï¼šåªéœ€è¦æ•°æ®ï¼Œä¸éœ€è¦æ€»æ•°

```java
// åˆ›å»ºåˆ†é¡µå¯¹è±¡æ—¶è®¾ç½®
Page<User> page = new Page<>(1, 10);
page.setOptimizeCountSql(false);  // ä¸ä¼˜åŒ–ï¼Œè€Œæ˜¯ç¦ç”¨
page.setSearchCount(false);        // å…³é”®ï¼šä¸æ‰§è¡ŒcountæŸ¥è¯¢

// æŸ¥è¯¢ç»“æœ
IPage<User> result = userMapper.selectPage(page, null);
result.getRecords();  // æœ‰æ•°æ® âœ…
result.getTotal();    // è¿”å›0ï¼ˆå› ä¸ºæ²¡ç»Ÿè®¡ï¼‰
```

**ğŸ“‹ å®é™…åº”ç”¨**
```
é€‚åˆåœºæ™¯ï¼š
âœ… ç§»åŠ¨ç«¯æ— é™æ»šåŠ¨åŠ è½½ï¼ˆä¸æ˜¾ç¤ºæ€»é¡µæ•°ï¼‰
âœ… å®æ—¶æ•°æ®æµå±•ç¤ºï¼ˆæ€»æ•°æ— æ„ä¹‰ï¼‰
âœ… åªéœ€è¦"ä¸‹ä¸€é¡µ"åŠŸèƒ½çš„åˆ—è¡¨

æ€§èƒ½æå‡ï¼š
å‡å°‘50%çš„æŸ¥è¯¢æ—¶é—´ï¼ˆçœæ‰äº†countæŸ¥è¯¢ï¼‰
```

### 2.3 ä¼˜åŒ–æ–¹æ¡ˆ2ï¼šCountæŸ¥è¯¢SQLä¼˜åŒ–


**ğŸ”¸ è‡ªåŠ¨ä¼˜åŒ–æœºåˆ¶**

```java
// å¼€å¯countä¼˜åŒ–ï¼ˆé»˜è®¤å¼€å¯ï¼‰
Page<User> page = new Page<>(1, 10);
page.setOptimizeCountSql(true);  // è‡ªåŠ¨ä¼˜åŒ–countè¯­å¥

// åŸå§‹æŸ¥è¯¢SQL
String sql = "SELECT u.*, d.dept_name " +
             "FROM user u " +
             "LEFT JOIN dept d ON u.dept_id = d.id " +
             "WHERE u.status = 1 " +
             "ORDER BY u.create_time DESC";

// ä¼˜åŒ–å‰çš„Count SQLï¼ˆæ…¢ï¼‰
SELECT COUNT(*) FROM (
    SELECT u.*, d.dept_name 
    FROM user u 
    LEFT JOIN dept d ON u.dept_id = d.id 
    WHERE u.status = 1
) tmp

// ä¼˜åŒ–åçš„Count SQLï¼ˆå¿«ï¼‰
SELECT COUNT(*) 
FROM user u 
WHERE u.status = 1
```

**ğŸ’¡ ä¼˜åŒ–åŸç†**
```
å»æ‰ä¸å¿…è¦çš„éƒ¨åˆ†ï¼š
âŒ å»æ‰ SELECT çš„åˆ—ï¼ˆCOUNTä¸éœ€è¦å…·ä½“åˆ—ï¼‰
âŒ å»æ‰ ORDER BYï¼ˆCOUNTä¸éœ€è¦æ’åºï¼‰
âŒ å»æ‰ JOINï¼ˆå¦‚æœä¸å½±å“WHEREæ¡ä»¶ï¼‰

åªä¿ç•™å½±å“æ€»æ•°çš„éƒ¨åˆ†ï¼š
âœ… ä¿ç•™ WHERE æ¡ä»¶
âœ… ä¿ç•™å¿…è¦çš„ JOINï¼ˆWHEREç”¨åˆ°äº†ï¼‰
```

### 2.4 ä¼˜åŒ–æ–¹æ¡ˆ3ï¼šæ‰‹åŠ¨æä¾›Countå€¼


**ğŸ”¸ é€‚ç”¨åœºæ™¯**ï¼šæ€»æ•°å˜åŒ–ä¸é¢‘ç¹

```java
// æ–¹å¼1ï¼šä»ç¼“å­˜è·å–æ€»æ•°
Long totalCount = redisTemplate.opsForValue().get("user:total");
if (totalCount == null) {
    // ç¬¬ä¸€æ¬¡æˆ–ç¼“å­˜è¿‡æœŸï¼ŒæŸ¥è¯¢æ•°æ®åº“
    totalCount = userMapper.selectCount(null);
    // ç¼“å­˜5åˆ†é’Ÿ
    redisTemplate.opsForValue().set("user:total", totalCount, 5, TimeUnit.MINUTES);
}

// æ‰‹åŠ¨è®¾ç½®æ€»æ•°
Page<User> page = new Page<>(pageNum, pageSize);
page.setTotal(totalCount);
page.setSearchCount(false);  // ä¸å†æ‰§è¡ŒcountæŸ¥è¯¢

IPage<User> result = userMapper.selectPage(page, null);
```

**ğŸ“Š æ€§èƒ½å¯¹æ¯”**
```
ä¼ ç»Ÿæ–¹å¼ï¼ˆæ¯æ¬¡countï¼‰ï¼š
ç¬¬1é¡µï¼š15ms (æ•°æ®10ms + count 5ms)
ç¬¬2é¡µï¼š15ms (æ•°æ®10ms + count 5ms)
...

ä¼˜åŒ–æ–¹å¼ï¼ˆç¼“å­˜countï¼‰ï¼š
ç¬¬1é¡µï¼š15ms (æ•°æ®10ms + count 5ms + ç¼“å­˜)
ç¬¬2é¡µï¼š10ms (æ•°æ®10msï¼Œcountä»ç¼“å­˜å–) âœ…
ç¬¬3é¡µï¼š10ms (æ•°æ®10msï¼Œcountä»ç¼“å­˜å–) âœ…
```

---

## 3. ğŸ›¡ï¸ åˆ†é¡µæº¢å‡ºå¤„ç†æœºåˆ¶


### 3.1 ä»€ä¹ˆæ˜¯åˆ†é¡µæº¢å‡ºï¼Ÿ


**ğŸ’­ ç”Ÿæ´»ä¾‹å­**ï¼š
```
ä¹¦æ¶åªæœ‰10å±‚ï¼Œç”¨æˆ·å´è¦æ±‚çœ‹ç¬¬20å±‚
â†’ è¿™å°±æ˜¯"æº¢å‡º"

æ•°æ®åªæœ‰500é¡µï¼Œç”¨æˆ·å´è®¿é—®ç¬¬1000é¡µ
â†’ è¿™ä¹Ÿæ˜¯"æº¢å‡º"
```

### 3.2 æº¢å‡ºåœºæ™¯ç¤ºä¾‹


```java
// æ•°æ®å®é™…æƒ…å†µ
æ€»è®°å½•æ•°ï¼š95æ¡
æ¯é¡µ10æ¡
å®é™…æ€»é¡µæ•°ï¼š10é¡µ

// ç”¨æˆ·è¯·æ±‚
pageNum = 20  // è¯·æ±‚ç¬¬20é¡µï¼ˆè¶…å‡ºäº†ï¼ï¼‰
pageSize = 10
```

**âŒ ä¸å¤„ç†æº¢å‡ºçš„ç»“æœ**
```
æŸ¥è¯¢SQLï¼šLIMIT 190, 10
è¿”å›ç»“æœï¼šç©ºåˆ—è¡¨ []
ç”¨æˆ·ä½“éªŒï¼šæ˜¾ç¤º"æ²¡æœ‰æ•°æ®"ï¼Œå¾ˆå›°æƒ‘
```

### 3.3 MyBatis-Plusæº¢å‡ºå¤„ç†


**ğŸ”¸ é…ç½®æº¢å‡ºå¤„ç†**

```java
@Configuration
public class MybatisPlusConfig {
    
    @Bean
    public MybatisPlusInterceptor paginationInterceptor() {
        MybatisPlusInterceptor interceptor = new MybatisPlusInterceptor();
        
        PaginationInnerInterceptor paginationInner = new PaginationInnerInterceptor();
        
        // è®¾ç½®æº¢å‡ºå¤„ç†ç­–ç•¥
        paginationInner.setOverflow(true);  // å¼€å¯æº¢å‡ºå¤„ç†
        
        interceptor.addInnerInterceptor(paginationInner);
        return interceptor;
    }
}
```

**ğŸ”¸ æº¢å‡ºå¤„ç†æ•ˆæœ**

```java
// åœºæ™¯ï¼šæ€»å…±10é¡µï¼Œè¯·æ±‚ç¬¬20é¡µ
Page<User> page = new Page<>(20, 10);  // è¯·æ±‚ç¬¬20é¡µ
IPage<User> result = userMapper.selectPage(page, null);

// å¼€å¯overflow=trueçš„æ•ˆæœ
result.getCurrent();   // è¿”å› 1ï¼ˆè‡ªåŠ¨å›åˆ°ç¬¬ä¸€é¡µï¼‰
result.getRecords();   // è¿”å›ç¬¬ä¸€é¡µçš„æ•°æ®
result.getTotal();     // è¿”å›æ€»è®°å½•æ•°

// æœªå¼€å¯overflowçš„æ•ˆæœ
result.getCurrent();   // è¿”å› 20ï¼ˆä¿æŒè¯·æ±‚çš„é¡µç ï¼‰
result.getRecords();   // è¿”å› []ï¼ˆç©ºåˆ—è¡¨ï¼‰
```

**ğŸ¯ å®é™…åº”ç”¨å»ºè®®**
```
âœ… æ¨èå¼€å¯ï¼šé¿å…ç”¨æˆ·çœ‹åˆ°ç©ºç™½é¡µ
âœ… å‰ç«¯é…åˆï¼šæ˜¾ç¤º"å·²å›åˆ°ç¬¬ä¸€é¡µ"æç¤º
âœ… æ—¥å¿—è®°å½•ï¼šè®°å½•æº¢å‡ºæƒ…å†µï¼Œåˆ†æå¼‚å¸¸è®¿é—®
```

---

## 4. ğŸ”’ æœ€å¤§é™åˆ¶ä¸å®‰å…¨é˜²æŠ¤


### 4.1 ä¸ºä»€ä¹ˆéœ€è¦æœ€å¤§é™åˆ¶ï¼Ÿ


**âš ï¸ å®‰å…¨éšæ‚£åœºæ™¯**

```java
// æ¶æ„è¯·æ±‚
GET /api/users?pageNum=1&pageSize=999999

// å¦‚æœä¸é™åˆ¶
SELECT * FROM user LIMIT 0, 999999
â†“
- ä¸€æ¬¡æŸ¥è¯¢è¿”å›ç™¾ä¸‡æ¡æ•°æ®
- å ç”¨å¤§é‡å†…å­˜
- æ•°æ®åº“è¿æ¥è¶…æ—¶
- æœåŠ¡å™¨ç›´æ¥å´©æºƒ
```

**ğŸ’¡ é˜²æŠ¤åŸç†**ï¼šé™åˆ¶å•é¡µæœ€å¤§æ•°æ®é‡

### 4.2 é…ç½®æœ€å¤§é™åˆ¶


```java
@Configuration
public class MybatisPlusConfig {
    
    @Bean
    public MybatisPlusInterceptor paginationInterceptor() {
        MybatisPlusInterceptor interceptor = new MybatisPlusInterceptor();
        
        PaginationInnerInterceptor paginationInner = new PaginationInnerInterceptor();
        
        // è®¾ç½®å•é¡µæœ€å¤§æ¡æ•°
        paginationInner.setMaxLimit(500L);  // æœ€å¤š500æ¡
        
        interceptor.addInnerInterceptor(paginationInner);
        return interceptor;
    }
}
```

**ğŸ”¸ é™åˆ¶æ•ˆæœæ¼”ç¤º**

```java
// ç”¨æˆ·è¯·æ±‚1000æ¡
Page<User> page = new Page<>(1, 1000);
IPage<User> result = userMapper.selectPage(page, null);

// å®é™…æ‰§è¡Œ
SELECT * FROM user LIMIT 0, 500  // è‡ªåŠ¨é™åˆ¶ä¸º500

// è¿”å›ç»“æœ
result.getSize();      // 500ï¼ˆå®é™…è¿”å›æ¡æ•°ï¼‰
result.getRecords().size();  // 500
```

### 4.3 åˆç†è®¾ç½®é™åˆ¶å€¼


**ğŸ“‹ æ¨èé…ç½®**

| **åº”ç”¨åœºæ™¯** | **æ¨èmaxLimit** | **è¯´æ˜** |
|------------|-----------------|---------|
| `ç§»åŠ¨ç«¯API` | 50-100 | ç§»åŠ¨ç½‘ç»œæ…¢ï¼Œæ•°æ®é‡è¦å° |
| `PCåå°åˆ—è¡¨` | 100-200 | ç”¨æˆ·ä½“éªŒå¥½ï¼ŒåŠ è½½å¿« |
| `æ•°æ®å¯¼å‡º` | 1000-5000 | å…è®¸å¤§é‡æ•°æ®ï¼Œä½†è¦é™åˆ¶ |
| `å…¬å¼€API` | 100 | é˜²æ­¢æ»¥ç”¨ï¼Œä¿æŠ¤æœåŠ¡å™¨ |

**ğŸ¯ å®‰å…¨å»ºè®®**
```
âœ… æ ¹æ®ä¸šåŠ¡è®¾ç½®åˆç†ä¸Šé™
âœ… APIæ–‡æ¡£æ˜ç¡®è¯´æ˜é™åˆ¶
âœ… è¶…é™æ—¶è¿”å›å‹å¥½æç¤º
âœ… è®°å½•å¼‚å¸¸çš„å¤§é¡µç è¯·æ±‚
```

---

## 5. ğŸ”— è¿æ¥ä¼˜åŒ–æŠ€æœ¯


### 5.1 ä»€ä¹ˆæ˜¯JOINä¼˜åŒ–ï¼Ÿ


**ğŸ’­ é—®é¢˜åœºæ™¯**ï¼š
```
æŸ¥è¯¢ç”¨æˆ·åˆ—è¡¨ï¼Œéœ€è¦å…³è”éƒ¨é—¨ä¿¡æ¯

SELECT u.*, d.dept_name 
FROM user u 
LEFT JOIN dept d ON u.dept_id = d.id 
WHERE u.status = 1
```

**ğŸ”¸ CountæŸ¥è¯¢çš„é—®é¢˜**
```
åŸå§‹Countï¼ˆåŒ…å«JOINï¼‰ï¼š
SELECT COUNT(*) FROM (
    SELECT u.*, d.dept_name 
    FROM user u 
    LEFT JOIN dept d ON u.dept_id = d.id 
    WHERE u.status = 1
) tmp
â†“
é—®é¢˜ï¼šJOINäº†deptè¡¨ï¼Œä½†ç»Ÿè®¡æ€»æ•°æ ¹æœ¬ä¸éœ€è¦éƒ¨é—¨ä¿¡æ¯ï¼
```

### 5.2 OptimizeJoinä¼˜åŒ–åŸç†


**ğŸ”¸ æ™ºèƒ½åˆ†æ**ï¼šåˆ¤æ–­JOINæ˜¯å¦å¿…è¦

```java
// é…ç½®JOINä¼˜åŒ–
PaginationInnerInterceptor paginationInner = new PaginationInnerInterceptor();
paginationInner.setOptimizeJoin(true);  // å¼€å¯JOINä¼˜åŒ–
```

**ä¼˜åŒ–å‰åå¯¹æ¯”**ï¼š

```
åŸå§‹SQLï¼š
SELECT u.*, d.dept_name 
FROM user u 
LEFT JOIN dept d ON u.dept_id = d.id 
WHERE u.status = 1 AND u.age > 18
ORDER BY u.create_time

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ä¼˜åŒ–å‰çš„Count SQLï¼š
SELECT COUNT(*) FROM (
    SELECT u.*, d.dept_name 
    FROM user u 
    LEFT JOIN dept d ON u.dept_id = d.id 
    WHERE u.status = 1 AND u.age > 18
) tmp
â†“ æ…¢ï¼åŒ…å«äº†ä¸å¿…è¦çš„JOIN

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ä¼˜åŒ–åçš„Count SQLï¼š
SELECT COUNT(*) 
FROM user u 
WHERE u.status = 1 AND u.age > 18
â†“ å¿«ï¼å»æ‰äº†deptè¡¨çš„JOIN
```

**ğŸ’¡ ä¼˜åŒ–è§„åˆ™**
```
åˆ†æWHEREæ¡ä»¶ï¼š
- å¦‚æœWHEREä¸ç”¨deptè¡¨çš„å­—æ®µ â†’ å»æ‰JOIN âœ…
- å¦‚æœWHEREç”¨äº†deptè¡¨çš„å­—æ®µ â†’ ä¿ç•™JOIN âŒ

ç¤ºä¾‹ï¼š
WHERE u.status = 1              â†’ å¯ä»¥å»æ‰JOIN
WHERE u.status = 1 AND d.type = 1  â†’ å¿…é¡»ä¿ç•™JOIN
```

### 5.3 ä¼˜åŒ–æ•ˆæœå¯¹æ¯”


**ğŸ“Š æ€§èƒ½æµ‹è¯•**
```
æ•°æ®é‡ï¼šuserè¡¨100ä¸‡ï¼Œdeptè¡¨1000

æœªä¼˜åŒ–Count SQLï¼ˆå«JOINï¼‰ï¼š
æ‰§è¡Œæ—¶é—´ï¼š800ms

ä¼˜åŒ–åCount SQLï¼ˆæ— JOINï¼‰ï¼š
æ‰§è¡Œæ—¶é—´ï¼š150ms

æ€§èƒ½æå‡ï¼š5å€ä»¥ä¸Šï¼âœ…
```

---

## 6. ğŸ’¾ åˆ†é¡µç¼“å­˜ç­–ç•¥


### 6.1 ä¸ºä»€ä¹ˆéœ€è¦ç¼“å­˜ï¼Ÿ


**ğŸ’­ å®é™…åœºæ™¯**ï¼š
```
ç”¨æˆ·åœ¨ç¬¬3é¡µåå¤åˆ·æ–°
æ¯æ¬¡åˆ·æ–°éƒ½æŸ¥æ•°æ®åº“ï¼Ÿå¤ªæµªè´¹äº†ï¼

è§£å†³ï¼šæŠŠæŸ¥è¯¢ç»“æœç¼“å­˜èµ·æ¥
ä¸‹æ¬¡ç›¸åŒè¯·æ±‚ç›´æ¥è¿”å›ç¼“å­˜
```

### 6.2 ç¼“å­˜æ–¹æ¡ˆè®¾è®¡


**ğŸ”¸ æ–¹æ¡ˆ1ï¼šç®€å•ç¼“å­˜ï¼ˆå›ºå®šæ—¶é—´ï¼‰**

```java
@Service
public class UserService {
    
    @Autowired
    private UserMapper userMapper;
    
    @Autowired
    private RedisTemplate<String, Object> redisTemplate;
    
    public IPage<User> getUserPage(Integer pageNum, Integer pageSize) {
        // æ„é€ ç¼“å­˜key
        String cacheKey = String.format("user:page:%d:%d", pageNum, pageSize);
        
        // å…ˆæŸ¥ç¼“å­˜
        IPage<User> cachedPage = (IPage<User>) redisTemplate.opsForValue().get(cacheKey);
        if (cachedPage != null) {
            return cachedPage;  // ç¼“å­˜å‘½ä¸­ï¼Œç›´æ¥è¿”å›
        }
        
        // ç¼“å­˜æœªå‘½ä¸­ï¼ŒæŸ¥æ•°æ®åº“
        Page<User> page = new Page<>(pageNum, pageSize);
        IPage<User> result = userMapper.selectPage(page, null);
        
        // å­˜å…¥ç¼“å­˜ï¼Œ5åˆ†é’Ÿè¿‡æœŸ
        redisTemplate.opsForValue().set(cacheKey, result, 5, TimeUnit.MINUTES);
        
        return result;
    }
}
```

**ğŸ”¸ æ–¹æ¡ˆ2ï¼šæ™ºèƒ½ç¼“å­˜ï¼ˆå¸¦æ¡ä»¶ï¼‰**

```java
public IPage<User> searchUsers(UserQuery query) {
    // åŒ…å«æŸ¥è¯¢æ¡ä»¶çš„ç¼“å­˜key
    String cacheKey = String.format("user:search:%s:%d:%d", 
        query.hashCode(),  // æŸ¥è¯¢æ¡ä»¶çš„hash
        query.getPageNum(), 
        query.getPageSize()
    );
    
    // æŸ¥ç¼“å­˜é€»è¾‘åŒä¸Š...
    
    // æ„é€ æŸ¥è¯¢æ¡ä»¶
    QueryWrapper<User> wrapper = new QueryWrapper<>();
    if (StringUtils.isNotBlank(query.getName())) {
        wrapper.like("name", query.getName());
    }
    if (query.getStatus() != null) {
        wrapper.eq("status", query.getStatus());
    }
    
    Page<User> page = new Page<>(query.getPageNum(), query.getPageSize());
    IPage<User> result = userMapper.selectPage(page, wrapper);
    
    // ç¼“å­˜3åˆ†é’Ÿ
    redisTemplate.opsForValue().set(cacheKey, result, 3, TimeUnit.MINUTES);
    
    return result;
}
```

### 6.3 ç¼“å­˜å¤±æ•ˆç­–ç•¥


**ğŸ”¸ æ•°æ®æ›´æ–°æ—¶æ¸…é™¤ç¼“å­˜**

```java
@Service
public class UserService {
    
    // æ›´æ–°ç”¨æˆ·æ—¶æ¸…é™¤ç›¸å…³ç¼“å­˜
    @Transactional
    public void updateUser(User user) {
        // æ›´æ–°æ•°æ®åº“
        userMapper.updateById(user);
        
        // æ¸…é™¤æ‰€æœ‰ç”¨æˆ·åˆ—è¡¨ç¼“å­˜
        Set<String> keys = redisTemplate.keys("user:page:*");
        if (keys != null && !keys.isEmpty()) {
            redisTemplate.delete(keys);
        }
    }
    
    // åˆ é™¤ç”¨æˆ·æ—¶æ¸…é™¤ç¼“å­˜
    @Transactional
    public void deleteUser(Long userId) {
        userMapper.deleteById(userId);
        
        // æ¸…é™¤ç¼“å­˜
        Set<String> keys = redisTemplate.keys("user:*");
        redisTemplate.delete(keys);
    }
}
```

**âš ï¸ ç¼“å­˜æ³¨æ„äº‹é¡¹**
```
ç¼“å­˜æ—¶é—´è®¾ç½®ï¼š
âœ… çƒ­ç‚¹æ•°æ®ï¼š5-10åˆ†é’Ÿ
âœ… æ™®é€šæ•°æ®ï¼š1-3åˆ†é’Ÿ
âœ… å®æ—¶æ€§è¦æ±‚é«˜ï¼š30ç§’-1åˆ†é’Ÿ

ç¼“å­˜ç²’åº¦ï¼š
âœ… æŒ‰é¡µç¼“å­˜ï¼ˆæ¨èï¼‰
âŒ å…¨è¡¨ç¼“å­˜ï¼ˆæ•°æ®é‡å¤§æ—¶ä¸å¯è¡Œï¼‰

æ•°æ®ä¸€è‡´æ€§ï¼š
âœ… æ›´æ–°/åˆ é™¤æ—¶ç«‹å³æ¸…é™¤ç¼“å­˜
âœ… ä½¿ç”¨Redisçš„è¿‡æœŸç­–ç•¥
âŒ ä¸è¦æ— é™æœŸç¼“å­˜
```

---

## 7. ğŸ“ˆ å¤§æ•°æ®é‡åˆ†é¡µæ–¹æ¡ˆ


### 7.1 æ·±åˆ†é¡µçš„è‡´å‘½é—®é¢˜


**ğŸ’­ é—®é¢˜æ¼”ç¤º**ï¼š
```
è¡¨æ•°æ®ï¼š1000ä¸‡æ¡è®°å½•

æŸ¥è¯¢ç¬¬1é¡µï¼š
LIMIT 0, 10
è€—æ—¶ï¼š10ms âœ…

æŸ¥è¯¢ç¬¬10000é¡µï¼š
LIMIT 99990, 10  
è€—æ—¶ï¼š5000ms âŒ

æŸ¥è¯¢ç¬¬100000é¡µï¼š
LIMIT 999990, 10
è€—æ—¶ï¼š30000msï¼ˆ30ç§’ï¼‰ğŸ’¥
```

**ğŸ”¸ ä¸ºä»€ä¹ˆè¿™ä¹ˆæ…¢ï¼Ÿ**
```
æ•°æ®åº“æ‰§è¡Œè¿‡ç¨‹ï¼š
1. ä»ç¬¬1æ¡å¼€å§‹æ‰«æ
2. æ‰«æåˆ°ç¬¬999990æ¡
3. ä¸¢å¼ƒå‰é¢999990æ¡
4. è¿”å›ç¬¬999991-1000000æ¡

é—®é¢˜ï¼šå¤§é‡æ— ç”¨æ•°æ®æ‰«æï¼
```

### 7.2 è§£å†³æ–¹æ¡ˆ1ï¼šæ¸¸æ ‡åˆ†é¡µï¼ˆæ¨èï¼‰


**ğŸ’¡ æ ¸å¿ƒæ€è·¯**ï¼šè®°ä½ä¸Šæ¬¡æŸ¥è¯¢çš„æœ€åä½ç½®

```java
// ä¼ ç»Ÿåˆ†é¡µï¼ˆæ…¢ï¼‰
SELECT * FROM user 
ORDER BY id 
LIMIT 99990, 10

// æ¸¸æ ‡åˆ†é¡µï¼ˆå¿«ï¼‰
SELECT * FROM user 
WHERE id > ä¸Šæ¬¡æœ€åä¸€æ¡çš„id
ORDER BY id 
LIMIT 10
```

**ğŸ”¸ å®ç°ä»£ç **

```java
@Data
public class CursorPage<T> {
    private Long cursor;        // æ¸¸æ ‡ä½ç½®
    private Integer size;       // æ¯é¡µå¤§å°
    private List<T> records;    // æ•°æ®åˆ—è¡¨
    private Long nextCursor;    // ä¸‹ä¸€é¡µæ¸¸æ ‡
    private Boolean hasNext;    // æ˜¯å¦æœ‰ä¸‹ä¸€é¡µ
}

@Service
public class UserService {
    
    public CursorPage<User> getUsersByCursor(Long cursor, Integer size) {
        // æ„é€ æŸ¥è¯¢æ¡ä»¶
        QueryWrapper<User> wrapper = new QueryWrapper<>();
        if (cursor != null) {
            wrapper.gt("id", cursor);  // id > cursor
        }
        wrapper.orderByAsc("id").last("LIMIT " + (size + 1));
        
        // æŸ¥è¯¢size+1æ¡ï¼Œç”¨äºåˆ¤æ–­æ˜¯å¦æœ‰ä¸‹ä¸€é¡µ
        List<User> users = userMapper.selectList(wrapper);
        
        // æ„é€ è¿”å›ç»“æœ
        CursorPage<User> result = new CursorPage<>();
        result.setCursor(cursor);
        result.setSize(size);
        
        if (users.size() > size) {
            result.setHasNext(true);
            result.setRecords(users.subList(0, size));
            result.setNextCursor(users.get(size - 1).getId());
        } else {
            result.setHasNext(false);
            result.setRecords(users);
            result.setNextCursor(users.isEmpty() ? null : users.get(users.size() - 1).getId());
        }
        
        return result;
    }
}
```

**ğŸ“Š æ€§èƒ½å¯¹æ¯”**
```
1000ä¸‡æ•°æ®ï¼Œæ¯é¡µ10æ¡

ä¼ ç»ŸLIMIT 99990,10ï¼š
- æ‰«æè¡Œæ•°ï¼š100000è¡Œ
- æ‰§è¡Œæ—¶é—´ï¼š5000ms

æ¸¸æ ‡WHERE id>99990ï¼š
- æ‰«æè¡Œæ•°ï¼š11è¡Œï¼ˆèµ°ç´¢å¼•ï¼‰
- æ‰§è¡Œæ—¶é—´ï¼š10ms

æ€§èƒ½æå‡ï¼š500å€ï¼âœ…
```

### 7.3 è§£å†³æ–¹æ¡ˆ2ï¼šå»¶è¿Ÿå…³è”


**ğŸ’¡ æ ¸å¿ƒæ€è·¯**ï¼šå…ˆæŸ¥IDï¼Œå†å…³è”æ•°æ®

```java
// ä¼ ç»Ÿæ–¹å¼ï¼ˆæ…¢ï¼‰
SELECT u.*, d.dept_name 
FROM user u 
LEFT JOIN dept d ON u.dept_id = d.id 
LIMIT 99990, 10
â†“
æ‰«æuserå’Œdeptä¸¤å¼ è¡¨çš„99990è¡Œæ•°æ®

// å»¶è¿Ÿå…³è”ï¼ˆå¿«ï¼‰
// æ­¥éª¤1ï¼šå…ˆåªæŸ¥ID
SELECT id FROM user LIMIT 99990, 10
â†“ åªæ‰«æuserè¡¨çš„idåˆ—ï¼Œéå¸¸å¿«

// æ­¥éª¤2ï¼šå†ç”¨IDå…³è”æŸ¥è¯¢å®Œæ•´æ•°æ®  
SELECT u.*, d.dept_name 
FROM user u 
LEFT JOIN dept d ON u.dept_id = d.id 
WHERE u.id IN (ä¸Šé¢æŸ¥å‡ºçš„10ä¸ªID)
```

**ğŸ”¸ å®ç°ä»£ç **

```java
public IPage<UserVO> getPageOptimized(Integer pageNum, Integer pageSize) {
    // æ­¥éª¤1ï¼šå…ˆæŸ¥IDï¼ˆå¿«ï¼‰
    Page<Long> idPage = new Page<>(pageNum, pageSize);
    List<Long> ids = userMapper.selectIdPage(idPage);
    
    if (ids.isEmpty()) {
        return new Page<>(pageNum, pageSize, 0);
    }
    
    // æ­¥éª¤2ï¼šç”¨IDæŸ¥å®Œæ•´æ•°æ®ï¼ˆåªæŸ¥10æ¡ï¼‰
    QueryWrapper<User> wrapper = new QueryWrapper<>();
    wrapper.in("id", ids);
    List<User> users = userMapper.selectList(wrapper);
    
    // å…³è”éƒ¨é—¨ä¿¡æ¯
    List<UserVO> userVOList = users.stream().map(user -> {
        UserVO vo = new UserVO();
        BeanUtils.copyProperties(user, vo);
        // æŸ¥è¯¢éƒ¨é—¨ï¼ˆå¯ä»¥æ‰¹é‡æŸ¥è¯¢ä¼˜åŒ–ï¼‰
        Dept dept = deptMapper.selectById(user.getDeptId());
        vo.setDeptName(dept != null ? dept.getName() : null);
        return vo;
    }).collect(Collectors.toList());
    
    // æ„é€ åˆ†é¡µç»“æœ
    Page<UserVO> result = new Page<>(pageNum, pageSize);
    result.setRecords(userVOList);
    result.setTotal(userMapper.selectCount(null));
    
    return result;
}
```

### 7.4 è§£å†³æ–¹æ¡ˆ3ï¼šESæœç´¢å¼•æ“


**ğŸ”¸ é€‚ç”¨åœºæ™¯**ï¼šåƒä¸‡çº§ä»¥ä¸Šæ•°æ®çš„æ·±åº¦åˆ†é¡µ

```java
// ä½¿ç”¨Elasticsearchä»£æ›¿æ•°æ®åº“åˆ†é¡µ
@Service
public class UserSearchService {
    
    @Autowired
    private ElasticsearchRestTemplate esTemplate;
    
    public Page<User> searchUsers(String keyword, Integer pageNum, Integer pageSize) {
        // æ„é€ ESæŸ¥è¯¢
        NativeSearchQuery query = new NativeSearchQueryBuilder()
            .withQuery(QueryBuilders.matchQuery("name", keyword))
            .withPageable(PageRequest.of(pageNum - 1, pageSize))
            .build();
        
        // ESæŸ¥è¯¢ï¼ˆæ·±åˆ†é¡µä¹Ÿå¾ˆå¿«ï¼‰
        SearchHits<User> hits = esTemplate.search(query, User.class);
        
        // è½¬æ¢ä¸ºMyBatis-Plusçš„Pageå¯¹è±¡
        Page<User> page = new Page<>(pageNum, pageSize);
        page.setRecords(hits.stream()
            .map(SearchHit::getContent)
            .collect(Collectors.toList()));
        page.setTotal(hits.getTotalHits());
        
        return page;
    }
}
```

**ğŸ“Š æ–¹æ¡ˆå¯¹æ¯”**

| **æ–¹æ¡ˆ** | **é€‚ç”¨åœºæ™¯** | **ä¼˜ç‚¹** | **ç¼ºç‚¹** |
|---------|------------|---------|---------|
| **æ¸¸æ ‡åˆ†é¡µ** | `ç§»åŠ¨ç«¯æ»šåŠ¨åŠ è½½` | æ€§èƒ½æå¥½ï¼Œå®ç°ç®€å• | ä¸èƒ½è·³é¡µï¼Œåªèƒ½é¡ºåºç¿» |
| **å»¶è¿Ÿå…³è”** | `PCç«¯æ·±åˆ†é¡µ` | æ”¯æŒè·³é¡µï¼Œæ€§èƒ½è¾ƒå¥½ | å®ç°ç¨å¤æ‚ |
| **ESæœç´¢** | `æµ·é‡æ•°æ®æ£€ç´¢` | æ·±åˆ†é¡µå¿«ï¼Œå…¨æ–‡æœç´¢å¼º | éœ€è¦åŒæ­¥æ•°æ®ï¼Œæˆæœ¬é«˜ |

---

## 8. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 8.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


**ğŸ¯ åˆ†é¡µä¼˜åŒ–çš„æœ¬è´¨**
```
æ ¸å¿ƒç›®æ ‡ï¼šå‡å°‘æ•°æ®åº“æ‰«æçš„æ•°æ®é‡

ä¼˜åŒ–æ–¹å‘ï¼š
âœ… Countä¼˜åŒ–ï¼šå‡å°‘ç»Ÿè®¡æŸ¥è¯¢çš„å¼€é”€
âœ… æ·±åˆ†é¡µä¼˜åŒ–ï¼šé¿å…å¤§é‡æ•°æ®è·³è¿‡
âœ… æŸ¥è¯¢ä¼˜åŒ–ï¼šå»é™¤ä¸å¿…è¦çš„JOINå’Œåˆ—
âœ… ç¼“å­˜åº”ç”¨ï¼šå‡å°‘é‡å¤æŸ¥è¯¢
```

**ğŸ”¸ CountæŸ¥è¯¢ä¼˜åŒ–ç­–ç•¥**
```
ç­–ç•¥1ï¼šç¦ç”¨Countï¼ˆä¸éœ€è¦æ€»æ•°æ—¶ï¼‰
ç­–ç•¥2ï¼šSQLè‡ªåŠ¨ä¼˜åŒ–ï¼ˆå»é™¤æ— ç”¨éƒ¨åˆ†ï¼‰
ç­–ç•¥3ï¼šç¼“å­˜æ€»æ•°ï¼ˆæ€»æ•°å˜åŒ–æ…¢æ—¶ï¼‰
ç­–ç•¥4ï¼šJOINä¼˜åŒ–ï¼ˆå»é™¤ä¸å¿…è¦çš„å…³è”ï¼‰
```

**ğŸ”¸ åˆ†é¡µå®‰å…¨é˜²æŠ¤**
```
æº¢å‡ºå¤„ç†ï¼šoverflow=trueï¼Œè‡ªåŠ¨å›åˆ°é¦–é¡µ
æœ€å¤§é™åˆ¶ï¼šmaxLimit=500ï¼Œé˜²æ­¢æ¶æ„è¯·æ±‚
å‚æ•°æ ¡éªŒï¼šå‰ç«¯+åç«¯åŒé‡éªŒè¯
å¼‚å¸¸ç›‘æ§ï¼šè®°å½•å¼‚å¸¸åˆ†é¡µè¯·æ±‚
```

### 8.2 å®æˆ˜åº”ç”¨å»ºè®®


**ğŸ“± ç§»åŠ¨ç«¯åˆ†é¡µ**
```java
// æ¨èé…ç½®
Page<User> page = new Page<>(pageNum, 20);  // æ¯é¡µ20æ¡
page.setSearchCount(pageNum == 1);  // åªåœ¨ç¬¬ä¸€é¡µç»Ÿè®¡æ€»æ•°
page.setOptimizeCountSql(true);     // ä¼˜åŒ–countæŸ¥è¯¢

// æˆ–ä½¿ç”¨æ¸¸æ ‡åˆ†é¡µ
CursorPage<User> cursorPage = userService.getUsersByCursor(cursor, 20);
```

**ğŸ’» PCåå°åˆ†é¡µ**
```java
// æ ‡å‡†é…ç½®
@Bean
public MybatisPlusInterceptor paginationInterceptor() {
    MybatisPlusInterceptor interceptor = new MybatisPlusInterceptor();
    PaginationInnerInterceptor inner = new PaginationInnerInterceptor();
    
    inner.setMaxLimit(500L);        // æœ€å¤§500æ¡
    inner.setOverflow(true);        // å¤„ç†æº¢å‡º
    inner.setOptimizeJoin(true);    // ä¼˜åŒ–JOIN
    
    interceptor.addInnerInterceptor(inner);
    return interceptor;
}

// é…åˆç¼“å­˜
String cacheKey = "page:" + pageNum + ":" + pageSize;
// ç¼“å­˜3åˆ†é’Ÿ
```

**ğŸ” å¤§æ•°æ®é‡åˆ†é¡µ**
```
1ä¸‡ä»¥å†…ï¼š
â†’ ä¼ ç»ŸLIMITåˆ†é¡µ âœ…

1-100ä¸‡ï¼š
â†’ å»¶è¿Ÿå…³è” + ç¼“å­˜ âœ…

100ä¸‡ä»¥ä¸Šï¼š  
â†’ æ¸¸æ ‡åˆ†é¡µï¼ˆæ— è·³é¡µéœ€æ±‚ï¼‰âœ…
â†’ ESæœç´¢å¼•æ“ï¼ˆæœ‰è·³é¡µéœ€æ±‚ï¼‰âœ…
```

### 8.3 æ€§èƒ½ä¼˜åŒ–æ£€æŸ¥æ¸…å•


```
ğŸ“‹ åˆ†é¡µä¼˜åŒ–è‡ªæŸ¥è¡¨

â–¡ CountæŸ¥è¯¢ä¼˜åŒ–
  âœ“ æ˜¯å¦å¼€å¯optimizeCountSqlï¼Ÿ
  âœ“ ä¸éœ€è¦æ€»æ•°çš„åœºæ™¯æ˜¯å¦ç¦ç”¨countï¼Ÿ
  âœ“ æ˜¯å¦ä½¿ç”¨äº†countç¼“å­˜ï¼Ÿ

â–¡ å®‰å…¨é˜²æŠ¤
  âœ“ æ˜¯å¦è®¾ç½®äº†maxLimitï¼Ÿ
  âœ“ æ˜¯å¦å¼€å¯äº†overflowå¤„ç†ï¼Ÿ
  âœ“ æ˜¯å¦æœ‰å‚æ•°æ ¡éªŒï¼Ÿ

â–¡ æ€§èƒ½ä¼˜åŒ–
  âœ“ æ˜¯å¦ä¼˜åŒ–äº†JOINæŸ¥è¯¢ï¼Ÿ
  âœ“ æ·±åˆ†é¡µæ˜¯å¦ä½¿ç”¨äº†ä¼˜åŒ–æ–¹æ¡ˆï¼Ÿ
  âœ“ æ˜¯å¦ä½¿ç”¨äº†åˆ†é¡µç¼“å­˜ï¼Ÿ

â–¡ ç”¨æˆ·ä½“éªŒ
  âœ“ æº¢å‡ºæ—¶æ˜¯å¦æœ‰å‹å¥½æç¤ºï¼Ÿ
  âœ“ æ˜¯å¦æ˜¾ç¤º"æ­£åœ¨åŠ è½½"çŠ¶æ€ï¼Ÿ
  âœ“ é”™è¯¯æ—¶æ˜¯å¦æœ‰é‡è¯•æœºåˆ¶ï¼Ÿ
```

### 8.4 è®°å¿†è¦ç‚¹


**ğŸ§  æ ¸å¿ƒè®°å¿†å£è¯€**
```
åˆ†é¡µä¼˜åŒ–è®°å¿ƒé—´ï¼Œä¸‰å¤§æ–¹å‘è¦æŠ“ç‰¢ï¼š
CountæŸ¥è¯¢è¦ä¼˜åŒ–ï¼Œç¼“å­˜ç¦ç”¨æ™ºèƒ½è°ƒ
æ·±åº¦åˆ†é¡µç”¨æ¸¸æ ‡ï¼Œå»¶è¿Ÿå…³è”æ€§èƒ½é«˜
å®‰å…¨é˜²æŠ¤åˆ«å¿˜è®°ï¼Œé™åˆ¶æº¢å‡ºè¦åšå¥½
```

**ğŸ’¡ å…³é”®æ•°å­—è®°å¿†**
```
500ï¼šæ¨èçš„maxLimitä¸Šé™
5åˆ†é’Ÿï¼šå¸¸ç”¨çš„ç¼“å­˜è¿‡æœŸæ—¶é—´
10ä¸‡ï¼šä¼ ç»Ÿåˆ†é¡µçš„æ€§èƒ½ä¸´ç•Œç‚¹
500å€ï¼šæ¸¸æ ‡åˆ†é¡µçš„æ€§èƒ½æå‡
```

---

> ğŸ’¡ **å­¦ä¹ å»ºè®®**
> 
> 1. **å…ˆç†è§£åŸç†**ï¼šçŸ¥é“ä¸ºä»€ä¹ˆæ…¢ï¼Œæ‰çŸ¥é“æ€ä¹ˆä¼˜åŒ–
> 2. **å°æ­¥å®è·µ**ï¼šä»Countä¼˜åŒ–å¼€å§‹ï¼Œé€æ­¥åº”ç”¨å…¶ä»–æ–¹æ¡ˆ
> 3. **ç›‘æ§æ•°æ®**ï¼šç”¨æ…¢æŸ¥è¯¢æ—¥å¿—å‘ç°é—®é¢˜SQL
> 4. **æ ¹æ®åœºæ™¯é€‰æ‹©**ï¼šä¸åŒä¸šåŠ¡åœºæ™¯ç”¨ä¸åŒä¼˜åŒ–ç­–ç•¥
> 5. **æŒç»­ä¼˜åŒ–**ï¼šå®šæœŸReviewåˆ†é¡µæŸ¥è¯¢çš„æ€§èƒ½

---

> âš ï¸ **å¸¸è§è¯¯åŒº**
> 
> âŒ æ‰€æœ‰æŸ¥è¯¢éƒ½ç”¨æ¸¸æ ‡åˆ†é¡µï¼ˆä¸æ”¯æŒè·³é¡µï¼‰
> âŒ ç¼“å­˜æ—¶é—´è®¾ç½®å¤ªé•¿ï¼ˆæ•°æ®ä¸ä¸€è‡´ï¼‰
> âŒ ä¸è®¾ç½®maxLimitï¼ˆå®‰å…¨éšæ‚£ï¼‰
> âŒ æ·±åˆ†é¡µä»ç”¨LIMITï¼ˆæ€§èƒ½å·®ï¼‰
> 
> âœ… æ ¹æ®ä¸šåŠ¡éœ€æ±‚é€‰æ‹©åˆé€‚æ–¹æ¡ˆ
> âœ… å¹³è¡¡æ€§èƒ½ã€åŠŸèƒ½å’Œç”¨æˆ·ä½“éªŒ