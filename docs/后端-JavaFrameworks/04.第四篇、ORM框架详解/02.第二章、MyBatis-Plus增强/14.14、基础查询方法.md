---
title: 14ã€åŸºç¡€æŸ¥è¯¢æ–¹æ³•
---
## ğŸ“š ç›®å½•

1. [BaseMapperæŸ¥è¯¢æ¦‚è¿°](#1-BaseMapperæŸ¥è¯¢æ¦‚è¿°)
2. [ä¸»é”®æŸ¥è¯¢-selectById](#2-ä¸»é”®æŸ¥è¯¢-selectById)
3. [æ‰¹é‡æŸ¥è¯¢-selectBatchIds](#3-æ‰¹é‡æŸ¥è¯¢-selectBatchIds)
4. [æ¡ä»¶æŸ¥è¯¢-selectByMap](#4-æ¡ä»¶æŸ¥è¯¢-selectByMap)
5. [åˆ—è¡¨æŸ¥è¯¢-selectList](#5-åˆ—è¡¨æŸ¥è¯¢-selectList)
6. [è®¡æ•°æŸ¥è¯¢-selectCount](#6-è®¡æ•°æŸ¥è¯¢-selectCount)
7. [æ˜ å°„æŸ¥è¯¢-selectMaps](#7-æ˜ å°„æŸ¥è¯¢-selectMaps)
8. [å¯¹è±¡æŸ¥è¯¢-selectObjs](#8-å¯¹è±¡æŸ¥è¯¢-selectObjs)
9. [æŸ¥è¯¢æ–¹æ³•å¯¹æ¯”ä¸é€‰æ‹©](#9-æŸ¥è¯¢æ–¹æ³•å¯¹æ¯”ä¸é€‰æ‹©)
10. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#10-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ¯ BaseMapperæŸ¥è¯¢æ¦‚è¿°


### 1.1 ä»€ä¹ˆæ˜¯BaseMapper


**é€šä¿—ç†è§£**ï¼šBaseMapperå°±åƒæ˜¯MyBatis-Plusç»™ä½ å‡†å¤‡å¥½çš„ä¸€ä¸ª"ä¸‡èƒ½æŸ¥è¯¢å·¥å…·ç®±"ã€‚

```
ä¼ ç»ŸMyBatiså¼€å‘ï¼š
ä½ éœ€è¦å†™SQL â†’ å†™Mapperæ¥å£ â†’ å†™XMLé…ç½®
æ¯æ¬¡æŸ¥è¯¢éƒ½è¦é‡å¤è¿™äº›æ­¥éª¤ï¼Œå¾ˆéº»çƒ¦

MyBatis-Plusçš„BaseMapperï¼š
ç»§æ‰¿BaseMapperæ¥å£ â†’ è‡ªåŠ¨æ‹¥æœ‰17ä¸ªå¢åˆ æ”¹æŸ¥æ–¹æ³•
ä¸ç”¨å†™SQLï¼Œå¼€ç®±å³ç”¨ï¼
```

> ğŸ’¡ **æ ¸å¿ƒæ¦‚å¿µ**
> 
> BaseMapperæ˜¯MyBatis-Plusæä¾›çš„åŸºç¡€Mapperæ¥å£ï¼Œå†…ç½®äº†å¸¸ç”¨çš„CRUDæ“ä½œã€‚åªè¦ä½ çš„Mapperæ¥å£ç»§æ‰¿å®ƒï¼Œå°±è‡ªåŠ¨æ‹¥æœ‰è¿™äº›æ–¹æ³•ï¼Œæ— éœ€ç¼–å†™ä»»ä½•SQLè¯­å¥ã€‚

### 1.2 æŸ¥è¯¢æ–¹æ³•å…¨æ™¯å›¾


```
BaseMapperæŸ¥è¯¢å®¶æ—ï¼š
â”‚
â”œâ”€â”€ ğŸ“ å•æ¡æŸ¥è¯¢
â”‚   â””â”€â”€ selectById          æ ¹æ®ä¸»é”®IDæŸ¥ä¸€æ¡æ•°æ®
â”‚
â”œâ”€â”€ ğŸ“¦ æ‰¹é‡æŸ¥è¯¢  
â”‚   â””â”€â”€ selectBatchIds      æ ¹æ®å¤šä¸ªIDæŸ¥å¤šæ¡æ•°æ®
â”‚
â”œâ”€â”€ ğŸ” æ¡ä»¶æŸ¥è¯¢
â”‚   â”œâ”€â”€ selectByMap         ç”¨MapæŒ‡å®šæŸ¥è¯¢æ¡ä»¶
â”‚   â””â”€â”€ selectList          ç”¨Wrapperæ„é€ å¤æ‚æ¡ä»¶
â”‚
â”œâ”€â”€ ğŸ”¢ ç»Ÿè®¡æŸ¥è¯¢
â”‚   â””â”€â”€ selectCount         ç»Ÿè®¡ç¬¦åˆæ¡ä»¶çš„è®°å½•æ•°
â”‚
â””â”€â”€ ğŸ¨ ç‰¹æ®ŠæŸ¥è¯¢
    â”œâ”€â”€ selectMaps          æŸ¥è¯¢ç»“æœè¿”å›Mapé›†åˆ
    â””â”€â”€ selectObjs          åªæŸ¥æŸä¸€åˆ—çš„å€¼
```

### 1.3 ä¸ºä»€ä¹ˆéœ€è¦è¿™ä¹ˆå¤šæŸ¥è¯¢æ–¹æ³•


**å®é™…å¼€å‘åœºæ™¯å¯¹æ¯”**ï¼š

| ä¸šåŠ¡åœºæ™¯ | ä¼ ç»Ÿåšæ³• | BaseMapperæ–¹æ³• | ä¼˜åŠ¿ |
|---------|---------|---------------|------|
| **æŸ¥çœ‹ç”¨æˆ·è¯¦æƒ…** | `å†™SQLæŸ¥è¯¢` | `selectById(id)` | `ä¸€è¡Œä»£ç æå®š` |
| **æ‰¹é‡æŸ¥è¯¢è®¢å•** | `å†™INè¯­å¥SQL` | `selectBatchIds(ids)` | `è‡ªåŠ¨æ‹¼æ¥INæ¡ä»¶` |
| **æŒ‰æ¡ä»¶ç­›é€‰** | `æ‰‹åŠ¨æ‹¼æ¥WHERE` | `selectByMap(map)` | `è‡ªåŠ¨è½¬æ¢æ¡ä»¶` |
| **ç»Ÿè®¡æ•°é‡** | `å†™COUNT SQL` | `selectCount(wrapper)` | `åªè¿”å›æ•°é‡` |
| **åªè¦æŸåˆ—æ•°æ®** | `SELECTåˆ—å` | `selectObjs(wrapper)` | `å‡å°‘å†…å­˜å ç”¨` |

---

## 2. ğŸ“ ä¸»é”®æŸ¥è¯¢-selectById


### 2.1 æ–¹æ³•å®šä¹‰å’Œä½œç”¨


```java
// æ–¹æ³•ç­¾å
T selectById(Serializable id);
```

**é€šä¿—è§£é‡Š**ï¼šå°±åƒç”¨èº«ä»½è¯å·æŸ¥ä¸€ä¸ªäººçš„ä¿¡æ¯ï¼Œé€šè¿‡å”¯ä¸€çš„IDå»æ•°æ®åº“æ‰¾å¯¹åº”çš„é‚£ä¸€æ¡è®°å½•ã€‚

> âš¡ **æ ¸å¿ƒç‰¹ç‚¹**
> - âœ… å‚æ•°ç®€å•ï¼šåªéœ€è¦ä¼ ä¸€ä¸ªIDå€¼
> - âœ… è¿”å›å•æ¡ï¼šæ‰¾åˆ°å°±è¿”å›å¯¹è±¡ï¼Œæ‰¾ä¸åˆ°è¿”å›null
> - âœ… æ€§èƒ½æœ€ä¼˜ï¼šä¸»é”®æŸ¥è¯¢æœ€å¿«ï¼Œæœ‰ç´¢å¼•

### 2.2 åŸºç¡€ä½¿ç”¨ç¤ºä¾‹


```java
// å®ä½“ç±»
@TableName("user")
public class User {
    @TableId(type = IdType.AUTO)
    private Long id;
    private String name;
    private Integer age;
}

// Mapperæ¥å£
public interface UserMapper extends BaseMapper<User> {
    // ä¸éœ€è¦å†™ä»»ä½•æ–¹æ³•ï¼Œç»§æ‰¿å°±æœ‰äº†ï¼
}

// ä½¿ç”¨ç¤ºä¾‹
User user = userMapper.selectById(1L);
if (user != null) {
    System.out.println("æŸ¥åˆ°ç”¨æˆ·ï¼š" + user.getName());
} else {
    System.out.println("ç”¨æˆ·ä¸å­˜åœ¨");
}
```

### 2.3 å®é™…åº”ç”¨åœºæ™¯


**åœºæ™¯ä¸€ï¼šæŸ¥çœ‹ç”¨æˆ·è¯¦æƒ…**
```java
// å‰ç«¯ä¼ æ¥ç”¨æˆ·IDï¼Œåç«¯æŸ¥è¯¢è¯¦æƒ…
public User getUserDetail(Long userId) {
    return userMapper.selectById(userId);
}
```

**åœºæ™¯äºŒï¼šéªŒè¯æ•°æ®æ˜¯å¦å­˜åœ¨**
```java
// æ£€æŸ¥æŸä¸ªè®¢å•æ˜¯å¦å­˜åœ¨
public boolean checkOrderExists(Long orderId) {
    return orderMapper.selectById(orderId) != null;
}
```

**åœºæ™¯ä¸‰ï¼šè·å–æœ€æ–°æ•°æ®**
```java
// ä¿®æ”¹åé‡æ–°æŸ¥è¯¢è·å–æœ€æ–°çŠ¶æ€
userMapper.updateById(user);
User latest = userMapper.selectById(user.getId());
```

### 2.4 æ³¨æ„äº‹é¡¹


> âš ï¸ **é‡è¦æç¤º**
> 
> - IDå‚æ•°ä¸èƒ½ä¸ºnullï¼Œå¦åˆ™ä¼šæŠ›å¼‚å¸¸
> - è¿”å›å€¼å¯èƒ½æ˜¯nullï¼Œä½¿ç”¨å‰è¦åˆ¤ç©º
> - ç¡®ä¿å®ä½“ç±»ç”¨`@TableId`æ ‡æ³¨äº†ä¸»é”®å­—æ®µ

---

## 3. ğŸ“¦ æ‰¹é‡æŸ¥è¯¢-selectBatchIds


### 3.1 æ–¹æ³•å®šä¹‰å’Œä½œç”¨


```java
// æ–¹æ³•ç­¾å
List<T> selectBatchIds(Collection<? extends Serializable> idList);
```

**é€šä¿—è§£é‡Š**ï¼šå°±åƒæ‹¿ç€ä¸€å †èº«ä»½è¯å·å»æŸ¥å¯¹åº”çš„äººï¼Œä¸€æ¬¡æ€§æŸ¥å¤šä¸ªIDçš„æ•°æ®ï¼Œæ¯”å¾ªç¯è°ƒç”¨selectByIdæ•ˆç‡é«˜å¾—å¤šã€‚

### 3.2 åº•å±‚SQLå¯¹ç…§


```sql
-- MyBatis-Plusè‡ªåŠ¨ç”Ÿæˆçš„SQL
SELECT * FROM user WHERE id IN (1, 2, 3, 4, 5)

-- ç­‰åŒäºä½ æ‰‹å†™å¤šæ¬¡æŸ¥è¯¢ï¼ˆæ•ˆç‡ä½ï¼‰
SELECT * FROM user WHERE id = 1
SELECT * FROM user WHERE id = 2
SELECT * FROM user WHERE id = 3
...
```

### 3.3 åŸºç¡€ä½¿ç”¨ç¤ºä¾‹


```java
// å‡†å¤‡IDé›†åˆ
List<Long> ids = Arrays.asList(1L, 2L, 3L, 4L);

// æ‰¹é‡æŸ¥è¯¢
List<User> users = userMapper.selectBatchIds(ids);

// éå†ç»“æœ
users.forEach(user -> {
    System.out.println(user.getName());
});
```

### 3.4 å®é™…åº”ç”¨åœºæ™¯


**åœºæ™¯ä¸€ï¼šè´­ç‰©è½¦æ‰¹é‡æŸ¥å•†å“**
```java
// ç”¨æˆ·è´­ç‰©è½¦æœ‰å¤šä¸ªå•†å“IDï¼Œä¸€æ¬¡æŸ¥å‡ºæ‰€æœ‰å•†å“ä¿¡æ¯
public List<Product> getCartProducts(List<Long> productIds) {
    return productMapper.selectBatchIds(productIds);
}
```

**åœºæ™¯äºŒï¼šå…³è”æŸ¥è¯¢ä¼˜åŒ–**
```java
// å…ˆæŸ¥è®¢å•ï¼Œå†æ‰¹é‡æŸ¥ç”¨æˆ·ä¿¡æ¯ï¼ˆé¿å…N+1é—®é¢˜ï¼‰
List<Order> orders = orderMapper.selectList(null);
List<Long> userIds = orders.stream()
    .map(Order::getUserId)
    .collect(Collectors.toList());
    
List<User> users = userMapper.selectBatchIds(userIds);
```

### 3.5 æ€§èƒ½ä¼˜åŒ–å»ºè®®


> ğŸ’¡ **æœ€ä½³å®è·µ**
> 
> âœ… **å»ºè®®åšæ³•**ï¼š
> - IDæ•°é‡å»ºè®®æ§åˆ¶åœ¨500ä»¥å†…
> - ç©ºé›†åˆç›´æ¥è¿”å›ï¼Œä¸æŸ¥è¯¢æ•°æ®åº“
> - è€ƒè™‘åˆ†é¡µæ‰¹é‡æŸ¥è¯¢å¤§æ•°æ®é‡
> 
> âŒ **é¿å…åšæ³•**ï¼š
> - ä¸€æ¬¡æŸ¥è¯¢å‡ åƒä¸Šä¸‡ä¸ªID
> - ä¼ å…¥nullæˆ–ç©ºé›†åˆä¸åšåˆ¤æ–­

```java
// ä¼˜åŒ–ç¤ºä¾‹ï¼šå¤„ç†ç©ºé›†åˆ
public List<User> batchGetUsers(List<Long> ids) {
    if (ids == null || ids.isEmpty()) {
        return Collections.emptyList(); // ç›´æ¥è¿”å›ç©ºåˆ—è¡¨
    }
    return userMapper.selectBatchIds(ids);
}
```

---

## 4. ğŸ” æ¡ä»¶æŸ¥è¯¢-selectByMap


### 4.1 æ–¹æ³•å®šä¹‰å’Œä½œç”¨


```java
// æ–¹æ³•ç­¾å
List<T> selectByMap(Map<String, Object> columnMap);
```

**é€šä¿—è§£é‡Š**ï¼šç”¨Mapæ¥æŒ‡å®šæŸ¥è¯¢æ¡ä»¶ï¼ŒMapçš„keyæ˜¯æ•°æ®åº“å­—æ®µåï¼Œvalueæ˜¯è¦åŒ¹é…çš„å€¼ã€‚å°±åƒå¡«è¡¨æ ¼ä¸€æ ·ï¼Œå¡«ä»€ä¹ˆæ¡ä»¶å°±æŒ‰ä»€ä¹ˆæ¡ä»¶æŸ¥ã€‚

### 4.2 å‚æ•°è¯´æ˜


```
Mapçš„ç»„æˆï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Key (String)  â”‚ Value (Object) â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æ•°æ®åº“å­—æ®µå   â”‚  è¦åŒ¹é…çš„å€¼    â”‚
â”‚ â†“             â”‚  â†“            â”‚
â”‚ "name"        â”‚  "å¼ ä¸‰"       â”‚
â”‚ "age"         â”‚  25           â”‚
â”‚ "status"      â”‚  1            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â†“
SELECT * FROM user 
WHERE name = 'å¼ ä¸‰' 
  AND age = 25 
  AND status = 1
```

> âš ï¸ **å…³é”®æ³¨æ„**
> 
> Mapçš„keyå¿…é¡»æ˜¯**æ•°æ®åº“å­—æ®µå**ï¼Œä¸æ˜¯Javaå®ä½“ç±»çš„å±æ€§åï¼
> - âœ… æ­£ç¡®ï¼š`map.put("user_name", "å¼ ä¸‰")`  
> - âŒ é”™è¯¯ï¼š`map.put("userName", "å¼ ä¸‰")`

### 4.3 åŸºç¡€ä½¿ç”¨ç¤ºä¾‹


```java
// æ„å»ºæŸ¥è¯¢æ¡ä»¶
Map<String, Object> map = new HashMap<>();
map.put("name", "å¼ ä¸‰");
map.put("age", 25);

// æ‰§è¡ŒæŸ¥è¯¢
List<User> users = userMapper.selectByMap(map);
```

### 4.4 å®é™…åº”ç”¨åœºæ™¯


**åœºæ™¯ä¸€ï¼šç®€å•å¤šæ¡ä»¶æŸ¥è¯¢**
```java
// æŒ‰å§“åå’ŒçŠ¶æ€æŸ¥ç”¨æˆ·
public List<User> findByNameAndStatus(String name, Integer status) {
    Map<String, Object> map = new HashMap<>();
    map.put("name", name);
    map.put("status", status);
    return userMapper.selectByMap(map);
}
```

**åœºæ™¯äºŒï¼šåŠ¨æ€æ¡ä»¶æŸ¥è¯¢**
```java
// æ ¹æ®å‰ç«¯ä¼ æ¥çš„å‚æ•°åŠ¨æ€æ„å»ºæ¡ä»¶
public List<Product> search(String category, String brand) {
    Map<String, Object> map = new HashMap<>();
    
    // æœ‰å€¼æ‰åŠ å…¥æ¡ä»¶
    if (category != null) {
        map.put("category", category);
    }
    if (brand != null) {
        map.put("brand", brand);
    }
    
    return productMapper.selectByMap(map);
}
```

### 4.5 å±€é™æ€§å’Œæ›¿ä»£æ–¹æ¡ˆ


**selectByMapçš„å±€é™**ï¼š
- âŒ åªæ”¯æŒç­‰å€¼æŸ¥è¯¢ï¼ˆWHEREå­—æ®µ=å€¼ï¼‰
- âŒ ä¸æ”¯æŒæ¨¡ç³ŠæŸ¥è¯¢ï¼ˆLIKEï¼‰
- âŒ ä¸æ”¯æŒèŒƒå›´æŸ¥è¯¢ï¼ˆ>, <, BETWEENï¼‰
- âŒ ä¸æ”¯æŒæ’åºå’Œåˆ†ç»„

**æ›´å¼ºå¤§çš„æ›¿ä»£æ–¹æ¡ˆ**ï¼š
```java
// å½“éœ€è¦å¤æ‚æŸ¥è¯¢æ—¶ï¼Œç”¨QueryWrapper
QueryWrapper<User> wrapper = new QueryWrapper<>();
wrapper.eq("status", 1)           // ç­‰äº
       .like("name", "å¼ ")         // æ¨¡ç³ŠæŸ¥è¯¢
       .gt("age", 18)              // å¤§äº
       .orderByDesc("create_time"); // æ’åº

List<User> users = userMapper.selectList(wrapper);
```

---

## 5. ğŸ“‹ åˆ—è¡¨æŸ¥è¯¢-selectList


### 5.1 æ–¹æ³•å®šä¹‰å’Œä½œç”¨


```java
// æ–¹æ³•ç­¾å
List<T> selectList(Wrapper<T> queryWrapper);
```

**é€šä¿—è§£é‡Š**ï¼šè¿™æ˜¯æœ€çµæ´»ã€æœ€å¼ºå¤§çš„æŸ¥è¯¢æ–¹æ³•ã€‚Wrapperå°±åƒä¸€ä¸ª"æŸ¥è¯¢æ¡ä»¶æ„é€ å™¨"ï¼Œä½ å¯ä»¥ç”¨å®ƒæ­å»ºå„ç§å¤æ‚çš„æŸ¥è¯¢æ¡ä»¶ï¼Œæ¯”å¦‚å¤§äºã€å°äºã€æ¨¡ç³ŠæŸ¥è¯¢ã€æ’åºç­‰ç­‰ã€‚

### 5.2 Wrapperæ¡ä»¶æ„é€ å™¨ä»‹ç»


```
Wrapperå®¶æ—æˆå‘˜ï¼š
â”‚
â”œâ”€â”€ QueryWrapper        æ™®é€šæ¡ä»¶æ„é€ å™¨ï¼ˆæœ€å¸¸ç”¨ï¼‰
â”œâ”€â”€ LambdaQueryWrapper  Lambdaæ¡ä»¶æ„é€ å™¨ï¼ˆç±»å‹å®‰å…¨ï¼‰
â””â”€â”€ UpdateWrapper       æ›´æ–°æ¡ä»¶æ„é€ å™¨
```

**QueryWrapperå¸¸ç”¨æ–¹æ³•é€ŸæŸ¥**ï¼š

| æ–¹æ³• | SQLå¯¹åº” | ç¤ºä¾‹ | è¯´æ˜ |
|------|---------|------|------|
| `eq` | `=` | `eq("name", "å¼ ä¸‰")` | `ç­‰äº` |
| `ne` | `!=` | `ne("status", 0)` | `ä¸ç­‰äº` |
| `gt` | `>` | `gt("age", 18)` | `å¤§äº` |
| `ge` | `>=` | `ge("score", 60)` | `å¤§äºç­‰äº` |
| `lt` | `<` | `lt("price", 100)` | `å°äº` |
| `le` | `<=` | `le("stock", 10)` | `å°äºç­‰äº` |
| `like` | `LIKE` | `like("name", "å¼ ")` | `æ¨¡ç³ŠæŸ¥è¯¢` |
| `in` | `IN` | `in("id", list)` | `INæŸ¥è¯¢` |
| `between` | `BETWEEN` | `between("age", 18, 30)` | `èŒƒå›´æŸ¥è¯¢` |
| `orderBy` | `ORDER BY` | `orderByDesc("create_time")` | `æ’åº` |

### 5.3 åŸºç¡€ä½¿ç”¨ç¤ºä¾‹


```java
// ç¤ºä¾‹1ï¼šç®€å•ç­‰å€¼æŸ¥è¯¢
QueryWrapper<User> wrapper1 = new QueryWrapper<>();
wrapper1.eq("status", 1);
List<User> activeUsers = userMapper.selectList(wrapper1);

// ç¤ºä¾‹2ï¼šå¤šæ¡ä»¶ç»„åˆ
QueryWrapper<User> wrapper2 = new QueryWrapper<>();
wrapper2.eq("status", 1)
        .gt("age", 18)
        .like("name", "å¼ ");
List<User> users = userMapper.selectList(wrapper2);

// ç¤ºä¾‹3ï¼šæŸ¥è¯¢æ‰€æœ‰ï¼ˆä¼ nullï¼‰
List<User> allUsers = userMapper.selectList(null);
```

### 5.4 Lambdaæ–¹å¼ï¼ˆæ¨èï¼‰


**ä¸ºä»€ä¹ˆæ¨èLambdaæ–¹å¼**ï¼š
- âœ… ç±»å‹å®‰å…¨ï¼šç¼–è¯‘æœŸå°±èƒ½å‘ç°å­—æ®µé”™è¯¯
- âœ… é‡æ„å‹å¥½ï¼šå­—æ®µæ”¹åIDEä¼šè‡ªåŠ¨æ›´æ–°
- âœ… ä»£ç æç¤ºï¼šIDEèƒ½è‡ªåŠ¨æç¤ºæ–¹æ³•

```java
// ä¼ ç»Ÿæ–¹å¼ï¼šå­—ç¬¦ä¸²å†™å­—æ®µåï¼Œå®¹æ˜“å†™é”™
QueryWrapper<User> wrapper1 = new QueryWrapper<>();
wrapper1.eq("namee", "å¼ ä¸‰"); // æ‹¼å†™é”™è¯¯ç¼–è¯‘ä¸æŠ¥é”™ï¼

// Lambdaæ–¹å¼ï¼šç±»å‹å®‰å…¨
LambdaQueryWrapper<User> wrapper2 = new LambdaQueryWrapper<>();
wrapper2.eq(User::getName, "å¼ ä¸‰"); // å­—æ®µé”™è¯¯ç¼–è¯‘å°±æŠ¥é”™
```

### 5.5 å®é™…åº”ç”¨åœºæ™¯


**åœºæ™¯ä¸€ï¼šç”¨æˆ·åˆ—è¡¨ç­›é€‰**
```java
// æŸ¥è¯¢æˆå¹´ä¸”æ´»è·ƒçš„ç”¨æˆ·ï¼ŒæŒ‰æ³¨å†Œæ—¶é—´å€’åº
public List<User> getActiveAdults() {
    LambdaQueryWrapper<User> wrapper = new LambdaQueryWrapper<>();
    wrapper.ge(User::getAge, 18)
           .eq(User::getStatus, 1)
           .orderByDesc(User::getCreateTime);
    return userMapper.selectList(wrapper);
}
```

**åœºæ™¯äºŒï¼šå•†å“æœç´¢**
```java
// æŒ‰åˆ†ç±»ã€ä»·æ ¼åŒºé—´ã€å…³é”®è¯æœç´¢å•†å“
public List<Product> searchProducts(String keyword, Integer categoryId, 
                                     Double minPrice, Double maxPrice) {
    LambdaQueryWrapper<Product> wrapper = new LambdaQueryWrapper<>();
    
    // åŠ¨æ€æ¡ä»¶ï¼šæœ‰å€¼æ‰åŠ 
    wrapper.like(keyword != null, Product::getName, keyword)
           .eq(categoryId != null, Product::getCategoryId, categoryId)
           .ge(minPrice != null, Product::getPrice, minPrice)
           .le(maxPrice != null, Product::getPrice, maxPrice);
    
    return productMapper.selectList(wrapper);
}
```

**åœºæ™¯ä¸‰ï¼šORæ¡ä»¶æŸ¥è¯¢**
```java
// æŸ¥è¯¢åå­—å«"å¼ ä¸‰"æˆ–è€…å¹´é¾„å¤§äº30çš„ç”¨æˆ·
LambdaQueryWrapper<User> wrapper = new LambdaQueryWrapper<>();
wrapper.eq(User::getName, "å¼ ä¸‰")
       .or()
       .gt(User::getAge, 30);
// SQL: WHERE name = 'å¼ ä¸‰' OR age > 30
```

### 5.6 é«˜çº§ç”¨æ³•


**åµŒå¥—æ¡ä»¶ï¼ˆå¤æ‚é€»è¾‘ï¼‰**ï¼š
```java
// æŸ¥è¯¢ï¼š(å¹´é¾„>20 AND æ€§åˆ«=ç”·) OR (å¹´é¾„>25 AND æ€§åˆ«=å¥³)
LambdaQueryWrapper<User> wrapper = new LambdaQueryWrapper<>();
wrapper.and(w -> w.gt(User::getAge, 20).eq(User::getGender, 1))
       .or(w -> w.gt(User::getAge, 25).eq(User::getGender, 2));
```

**åªæŸ¥è¯¢éƒ¨åˆ†å­—æ®µ**ï¼š
```java
// åªæŸ¥IDå’Œå§“åï¼ŒèŠ‚çœå†…å­˜
LambdaQueryWrapper<User> wrapper = new LambdaQueryWrapper<>();
wrapper.select(User::getId, User::getName)
       .eq(User::getStatus, 1);
```

---

## 6. ğŸ”¢ è®¡æ•°æŸ¥è¯¢-selectCount


### 6.1 æ–¹æ³•å®šä¹‰å’Œä½œç”¨


```java
// æ–¹æ³•ç­¾å
Long selectCount(Wrapper<T> queryWrapper);
```

**é€šä¿—è§£é‡Š**ï¼šåªç»Ÿè®¡ç¬¦åˆæ¡ä»¶çš„è®°å½•æœ‰å¤šå°‘æ¡ï¼Œä¸è¿”å›å…·ä½“æ•°æ®ã€‚å°±åƒæ¸…ç‚¹äººæ•°ï¼Œåªè¦çŸ¥é“æ€»æ•°ï¼Œä¸éœ€è¦çŸ¥é“æ¯ä¸ªäººçš„è¯¦ç»†ä¿¡æ¯ã€‚

### 6.2 ä¸selectListçš„åŒºåˆ«


```
selectListï¼š        selectCountï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”
â”‚ å®Œæ•´æ•°æ® â”‚        â”‚ æ•°é‡ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤        â””â”€â”€â”€â”€â”€â”˜
â”‚ id: 1   â”‚          â†“
â”‚ name: å¼ ä¸‰â”‚        åªè¿”å›ä¸€ä¸ªæ•°å­—ï¼š3
â”‚ age: 25 â”‚        
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤        ä¼˜åŠ¿ï¼š
â”‚ id: 2   â”‚        - æŸ¥è¯¢é€Ÿåº¦å¿«
â”‚ name: æå››â”‚        - å†…å­˜å ç”¨å°‘
â”‚ age: 30 â”‚        - åªè¦COUNTå€¼
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤        
â”‚ id: 3   â”‚        
â”‚ name: ç‹äº”â”‚        
â”‚ age: 28 â”‚        
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        
```

### 6.3 åŸºç¡€ä½¿ç”¨ç¤ºä¾‹


```java
// ç¤ºä¾‹1ï¼šç»Ÿè®¡æ€»æ•°
Long totalCount = userMapper.selectCount(null);
System.out.println("æ€»ç”¨æˆ·æ•°ï¼š" + totalCount);

// ç¤ºä¾‹2ï¼šæŒ‰æ¡ä»¶ç»Ÿè®¡
LambdaQueryWrapper<User> wrapper = new LambdaQueryWrapper<>();
wrapper.eq(User::getStatus, 1);
Long activeCount = userMapper.selectCount(wrapper);
System.out.println("æ´»è·ƒç”¨æˆ·æ•°ï¼š" + activeCount);
```

### 6.4 å®é™…åº”ç”¨åœºæ™¯


**åœºæ™¯ä¸€ï¼šåˆ†é¡µæŸ¥è¯¢çš„æ€»æ•°**
```java
// åˆ†é¡µéœ€è¦çŸ¥é“æ€»è®°å½•æ•°
public PageResult getUsers(int pageNum, int pageSize) {
    // å…ˆç»Ÿè®¡æ€»æ•°
    Long total = userMapper.selectCount(null);
    
    // å†æŸ¥å½“å‰é¡µæ•°æ®
    Page<User> page = new Page<>(pageNum, pageSize);
    List<User> users = userMapper.selectList(page);
    
    return new PageResult(users, total);
}
```

**åœºæ™¯äºŒï¼šæ•°æ®éªŒè¯**
```java
// æ£€æŸ¥æ˜¯å¦æœ‰é‡å¤æ•°æ®
public boolean checkDuplicate(String username) {
    LambdaQueryWrapper<User> wrapper = new LambdaQueryWrapper<>();
    wrapper.eq(User::getUsername, username);
    Long count = userMapper.selectCount(wrapper);
    return count > 0; // å¤§äº0è¡¨ç¤ºå·²å­˜åœ¨
}
```

**åœºæ™¯ä¸‰ï¼šç»Ÿè®¡æŠ¥è¡¨**
```java
// ç»Ÿè®¡å„çŠ¶æ€è®¢å•æ•°é‡
public Map<Integer, Long> getOrderStatistics() {
    Map<Integer, Long> stats = new HashMap<>();
    
    for (int status = 0; status <= 3; status++) {
        LambdaQueryWrapper<Order> wrapper = new LambdaQueryWrapper<>();
        wrapper.eq(Order::getStatus, status);
        Long count = orderMapper.selectCount(wrapper);
        stats.put(status, count);
    }
    
    return stats;
}
```

### 6.5 æ€§èƒ½ä¼˜åŒ–å»ºè®®


> ğŸ’¡ **æ€§èƒ½æç¤º**
> 
> - selectCountåªæŸ¥æ•°é‡ï¼Œæ¯”selectListåå–size()å¿«å¾—å¤š
> - å¤§è¡¨ç»Ÿè®¡å»ºè®®åŠ ç´¢å¼•æ¡ä»¶
> - å¤æ‚æ¡ä»¶ç»Ÿè®¡å¯èƒ½è¾ƒæ…¢ï¼Œè€ƒè™‘ç¼“å­˜ç»“æœ

```java
// âŒ ä½æ•ˆåšæ³•
List<User> users = userMapper.selectList(wrapper);
int count = users.size(); // æŸ¥äº†å…¨éƒ¨æ•°æ®å†è®¡æ•°

// âœ… é«˜æ•ˆåšæ³•  
Long count = userMapper.selectCount(wrapper); // åªç»Ÿè®¡æ•°é‡
```

---

## 7. ğŸ¨ æ˜ å°„æŸ¥è¯¢-selectMaps


### 7.1 æ–¹æ³•å®šä¹‰å’Œä½œç”¨


```java
// æ–¹æ³•ç­¾å
List<Map<String, Object>> selectMaps(Wrapper<T> queryWrapper);
```

**é€šä¿—è§£é‡Š**ï¼šæŠŠæŸ¥è¯¢ç»“æœå˜æˆMapè¿”å›ï¼Œè€Œä¸æ˜¯å®ä½“å¯¹è±¡ã€‚æ¯ä¸€è¡Œæ•°æ®å˜æˆä¸€ä¸ªMapï¼Œå­—æ®µåä½œä¸ºkeyï¼Œå­—æ®µå€¼ä½œä¸ºvalueã€‚

### 7.2 ä¸selectListçš„è¿”å›åŒºåˆ«


```
selectListè¿”å›ï¼š              selectMapsè¿”å›ï¼š
List<User>                   List<Map<String, Object>>
[                            [
  User{                        {
    id: 1,                       "id": 1,
    name: "å¼ ä¸‰",                "name": "å¼ ä¸‰",
    age: 25                      "age": 25
  },                           },
  User{                        {
    id: 2,                       "id": 2,
    name: "æå››",                "name": "æå››",  
    age: 30                      "age": 30
  }                            }
]                            ]
```

**ä»€ä¹ˆæ—¶å€™ç”¨Mapå½¢å¼**ï¼š
- âœ… åªæŸ¥è¯¢éƒ¨åˆ†å­—æ®µ
- âœ… å­—æ®µæ¥è‡ªå¤šè¡¨å…³è”
- âœ… ç»“æœéœ€è¦çµæ´»å¤„ç†
- âœ… ä¸æƒ³å®šä¹‰å®ä½“ç±»

### 7.3 åŸºç¡€ä½¿ç”¨ç¤ºä¾‹


```java
// æŸ¥è¯¢éƒ¨åˆ†å­—æ®µè¿”å›Map
LambdaQueryWrapper<User> wrapper = new LambdaQueryWrapper<>();
wrapper.select(User::getId, User::getName)
       .eq(User::getStatus, 1);

List<Map<String, Object>> maps = userMapper.selectMaps(wrapper);

// éå†Mapç»“æœ
maps.forEach(map -> {
    System.out.println("ID: " + map.get("id"));
    System.out.println("å§“å: " + map.get("name"));
});
```

### 7.4 å®é™…åº”ç”¨åœºæ™¯


**åœºæ™¯ä¸€ï¼šç»Ÿè®¡æŸ¥è¯¢ï¼ˆåˆ†ç»„èšåˆï¼‰**
```java
// SQL: SELECT category, COUNT(*) as count, AVG(price) as avg_price 
//      FROM product GROUP BY category

@Select("SELECT category, COUNT(*) as count, AVG(price) as avg_price " +
        "FROM product GROUP BY category")
List<Map<String, Object>> getCategoryStats();

// å¤„ç†ç»“æœ
List<Map<String, Object>> stats = productMapper.getCategoryStats();
stats.forEach(map -> {
    String category = (String) map.get("category");
    Long count = (Long) map.get("count");
    Double avgPrice = (Double) map.get("avg_price");
    System.out.println(category + ": å…±" + count + "ä»¶ï¼Œå‡ä»·" + avgPrice);
});
```

**åœºæ™¯äºŒï¼šåŠ¨æ€åˆ—æŸ¥è¯¢**
```java
// å‰ç«¯æŒ‡å®šè¦æŸ¥å“ªäº›å­—æ®µ
public List<Map<String, Object>> getDynamicFields(List<String> fields) {
    LambdaQueryWrapper<User> wrapper = new LambdaQueryWrapper<>();
    // åªæŸ¥è¯¢æŒ‡å®šå­—æ®µ
    wrapper.select(User.class, field -> fields.contains(field.getColumn()));
    return userMapper.selectMaps(wrapper);
}
```

**åœºæ™¯ä¸‰ï¼šå…³è”æŸ¥è¯¢ç»“æœ**
```java
// å¤šè¡¨å…³è”æŸ¥è¯¢ï¼Œç»“æœæ— æ³•æ˜ å°„åˆ°å•ä¸ªå®ä½“
@Select("SELECT u.name as user_name, o.order_no, o.amount " +
        "FROM user u JOIN orders o ON u.id = o.user_id")
List<Map<String, Object>> getUserOrders();
```

### 7.5 æ³¨æ„äº‹é¡¹


> âš ï¸ **ä½¿ç”¨æé†’**
> 
> - Mapçš„keyæ˜¯æ•°æ®åº“å­—æ®µåï¼ˆå¸¦ä¸‹åˆ’çº¿ï¼‰
> - valueæ˜¯Objectç±»å‹ï¼Œéœ€è¦æ‰‹åŠ¨è½¬æ¢
> - é€‚åˆçµæ´»æŸ¥è¯¢ï¼Œä½†ç±»å‹ä¸å®‰å…¨

```java
// å­—æ®µåæ ¼å¼æ³¨æ„
Map<String, Object> map = maps.get(0);

// âœ… æ­£ç¡®ï¼šç”¨æ•°æ®åº“å­—æ®µå
String name = (String) map.get("user_name");

// âŒ é”™è¯¯ï¼šç”¨Javaå±æ€§å
String name = (String) map.get("userName"); // å–ä¸åˆ°å€¼ï¼
```

---

## 8. ğŸ” å¯¹è±¡æŸ¥è¯¢-selectObjs


### 8.1 æ–¹æ³•å®šä¹‰å’Œä½œç”¨


```java
// æ–¹æ³•ç­¾å
List<Object> selectObjs(Wrapper<T> queryWrapper);
```

**é€šä¿—è§£é‡Š**ï¼šåªæŸ¥è¯¢æŸä¸€åˆ—çš„å€¼ï¼Œè¿”å›ä¸€ä¸ªObjectåˆ—è¡¨ã€‚é€šå¸¸ç”¨äºåªéœ€è¦IDåˆ—è¡¨ã€æˆ–è€…æŸä¸ªç‰¹å®šå­—æ®µå€¼çš„åœºæ™¯ã€‚

### 8.2 è¿”å›å€¼ç‰¹ç‚¹


```
selectList:               selectObjs:
è¿”å›å®Œæ•´å¯¹è±¡              åªè¿”å›ç¬¬ä¸€åˆ—çš„å€¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”
â”‚ User         â”‚         â”‚ 1  â”‚
â”‚ id: 1        â”‚   â†’    â”‚ 2  â”‚
â”‚ name: "å¼ ä¸‰" â”‚         â”‚ 3  â”‚
â”‚ age: 25      â”‚         â”‚ 4  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤         â””â”€â”€â”€â”€â”˜
â”‚ User         â”‚         
â”‚ id: 2        â”‚         åªè¦IDé‚£ä¸€åˆ—
â”‚ name: "æå››" â”‚
â”‚ age: 30      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

> ğŸ’¡ **å…³é”®ç†è§£**
> 
> selectObjsåªè¿”å›æŸ¥è¯¢ç»“æœçš„**ç¬¬ä¸€åˆ—**ï¼Œå…¶ä»–åˆ—å³ä½¿æŸ¥äº†ä¹Ÿä¼šè¢«å¿½ç•¥ã€‚é€šå¸¸é…åˆ`select`æ–¹æ³•æŒ‡å®šè¦æŸ¥çš„é‚£ä¸€åˆ—ã€‚

### 8.3 åŸºç¡€ä½¿ç”¨ç¤ºä¾‹


```java
// ç¤ºä¾‹1ï¼šæŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·ID
LambdaQueryWrapper<User> wrapper1 = new LambdaQueryWrapper<>();
wrapper1.select(User::getId); // åªæŸ¥IDåˆ—
List<Object> ids = userMapper.selectObjs(wrapper1);

// è½¬æ¢ä¸ºå…·ä½“ç±»å‹
List<Long> userIds = ids.stream()
    .map(obj -> (Long) obj)
    .collect(Collectors.toList());

// ç¤ºä¾‹2ï¼šæŸ¥è¯¢æ‰€æœ‰å§“å
LambdaQueryWrapper<User> wrapper2 = new LambdaQueryWrapper<>();
wrapper2.select(User::getName);
List<Object> names = userMapper.selectObjs(wrapper2);
```

### 8.4 å®é™…åº”ç”¨åœºæ™¯


**åœºæ™¯ä¸€ï¼šè·å–IDåˆ—è¡¨**
```java
// è·å–æ‰€æœ‰æ´»è·ƒç”¨æˆ·çš„IDï¼Œç”¨äºåç»­æ‰¹é‡æ“ä½œ
public List<Long> getActiveUserIds() {
    LambdaQueryWrapper<User> wrapper = new LambdaQueryWrapper<>();
    wrapper.select(User::getId)
           .eq(User::getStatus, 1);
    
    return userMapper.selectObjs(wrapper)
        .stream()
        .map(obj -> (Long) obj)
        .collect(Collectors.toList());
}
```

**åœºæ™¯äºŒï¼šå»é‡æŸ¥è¯¢**
```java
// æŸ¥è¯¢æ‰€æœ‰ä¸é‡å¤çš„åŸå¸‚åç§°
QueryWrapper<User> wrapper = new QueryWrapper<>();
wrapper.select("DISTINCT city");
List<Object> cities = userMapper.selectObjs(wrapper);
```

**åœºæ™¯ä¸‰ï¼šèšåˆå‡½æ•°ç»“æœ**
```java
// æŸ¥è¯¢æœ€å¤§å¹´é¾„
QueryWrapper<User> wrapper = new QueryWrapper<>();
wrapper.select("MAX(age)");
List<Object> result = userMapper.selectObjs(wrapper);
Integer maxAge = (Integer) result.get(0);
```

### 8.5 ä¸å…¶ä»–æ–¹æ³•å¯¹æ¯”


| éœ€æ±‚ | é€‰æ‹©æ–¹æ³• | åŸå›  |
|------|---------|------|
| **åªè¦IDåˆ—è¡¨** | `selectObjs` | `å†…å­˜å ç”¨æœ€å°` |
| **è¦å®Œæ•´å¯¹è±¡** | `selectList` | `å¯ä»¥è®¿é—®æ‰€æœ‰å­—æ®µ` |
| **åªè¦æ•°é‡** | `selectCount` | `é€Ÿåº¦æœ€å¿«` |
| **è¦Mapæ ¼å¼** | `selectMaps` | `çµæ´»å¤„ç†å¤šå­—æ®µ` |

```java
// æ€§èƒ½å¯¹æ¯”ç¤ºä¾‹
// âŒ ä½æ•ˆï¼šæŸ¥å®Œæ•´å¯¹è±¡å†æå–ID
List<User> users = userMapper.selectList(null);
List<Long> ids = users.stream()
    .map(User::getId)
    .collect(Collectors.toList());

// âœ… é«˜æ•ˆï¼šç›´æ¥æŸ¥IDåˆ—
LambdaQueryWrapper<User> wrapper = new LambdaQueryWrapper<>();
wrapper.select(User::getId);
List<Object> ids = userMapper.selectObjs(wrapper);
```

---

## 9. âš–ï¸ æŸ¥è¯¢æ–¹æ³•å¯¹æ¯”ä¸é€‰æ‹©


### 9.1 ä¸ƒå¤§æŸ¥è¯¢æ–¹æ³•é€ŸæŸ¥è¡¨


| æ–¹æ³• | è¿”å›ç±»å‹ | ä½¿ç”¨åœºæ™¯ | æ€§èƒ½ | éš¾åº¦ |
|------|---------|---------|------|------|
| **selectById** | `å•ä¸ªå¯¹è±¡` | `æ ¹æ®IDæŸ¥ä¸€æ¡` | `â­â­â­â­â­` | `â­` |
| **selectBatchIds** | `å¯¹è±¡åˆ—è¡¨` | `æ ¹æ®å¤šä¸ªIDæ‰¹é‡æŸ¥` | `â­â­â­â­` | `â­` |
| **selectByMap** | `å¯¹è±¡åˆ—è¡¨` | `ç®€å•ç­‰å€¼æ¡ä»¶æŸ¥è¯¢` | `â­â­â­` | `â­â­` |
| **selectList** | `å¯¹è±¡åˆ—è¡¨` | `å¤æ‚æ¡ä»¶æŸ¥è¯¢` | `â­â­â­` | `â­â­â­` |
| **selectCount** | `Longæ•°é‡` | `ç»Ÿè®¡è®°å½•æ•°` | `â­â­â­â­` | `â­â­` |
| **selectMaps** | `Mapåˆ—è¡¨` | `éƒ¨åˆ†å­—æ®µ/èšåˆæŸ¥è¯¢` | `â­â­â­` | `â­â­â­` |
| **selectObjs** | `Objectåˆ—è¡¨` | `åªæŸ¥ä¸€åˆ—æ•°æ®` | `â­â­â­â­` | `â­â­` |

### 9.2 æŸ¥è¯¢æ–¹æ³•é€‰æ‹©å†³ç­–æ ‘


```
å¼€å§‹æŸ¥è¯¢
    â†“
çŸ¥é“å…·ä½“IDå—ï¼Ÿ
    â”œâ”€æ˜¯ â†’ å•ä¸ªIDï¼Ÿ
    â”‚     â”œâ”€æ˜¯ â†’ selectById
    â”‚     â””â”€å¦ â†’ selectBatchIds
    â”‚
    â””â”€å¦ â†’ åªè¦æ•°é‡ï¼Ÿ
          â”œâ”€æ˜¯ â†’ selectCount
          â”‚
          â””â”€å¦ â†’ åªè¦æŸä¸€åˆ—ï¼Ÿ
                â”œâ”€æ˜¯ â†’ selectObjs
                â”‚
                â””â”€å¦ â†’ è¦Mapæ ¼å¼ï¼Ÿ
                      â”œâ”€æ˜¯ â†’ selectMaps
                      â”‚
                      â””â”€å¦ â†’ ç®€å•ç­‰å€¼æ¡ä»¶ï¼Ÿ
                            â”œâ”€æ˜¯ â†’ selectByMap
                            â””â”€å¦ â†’ selectList (Wrapper)
```

### 9.3 å®æˆ˜é€‰æ‹©å»ºè®®


**âœ… æ¨èç»„åˆä½¿ç”¨**ï¼š
```java
// 1. å…ˆç”¨selectCountåˆ¤æ–­æ˜¯å¦æœ‰æ•°æ®
Long count = userMapper.selectCount(wrapper);
if (count == 0) {
    return Collections.emptyList();
}

// 2. å†ç”¨selectListæŸ¥è¯¢å…·ä½“æ•°æ®
List<User> users = userMapper.selectList(wrapper);

// 3. éœ€è¦å…³è”æ•°æ®æ—¶ç”¨selectObjsè·å–IDåˆ—è¡¨
List<Long> userIds = userMapper.selectObjs(idWrapper);
List<Order> orders = orderMapper.selectBatchIds(userIds);
```

**âŒ é¿å…è¯¯ç”¨**ï¼š
```java
// è¯¯ç”¨1ï¼šèƒ½ç”¨selectByIdçš„åœºæ™¯ç”¨äº†selectList
// âŒ ä½æ•ˆ
QueryWrapper<User> wrapper = new QueryWrapper<>();
wrapper.eq("id", 1L);
List<User> users = userMapper.selectList(wrapper);
User user = users.get(0);

// âœ… é«˜æ•ˆ
User user = userMapper.selectById(1L);

// è¯¯ç”¨2ï¼šåªè¦æ•°é‡å´æŸ¥äº†å…¨éƒ¨æ•°æ®
// âŒ æµªè´¹
List<User> users = userMapper.selectList(null);
int count = users.size();

// âœ… æ­£ç¡®
Long count = userMapper.selectCount(null);
```

---

## 10. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 10.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ¯ BaseMapper = MyBatis-Plusçš„æ ¸å¿ƒå·¥å…·ç®±
   â””â”€ ç»§æ‰¿åè‡ªåŠ¨æ‹¥æœ‰17ä¸ªCRUDæ–¹æ³•ï¼Œæ— éœ€å†™SQL

ğŸ¯ ä¸ƒå¤§æŸ¥è¯¢æ–¹æ³•å„æœ‰ç”¨é€”ï¼š
   â”œâ”€ selectByIdï¼šæœ€å¿«çš„å•æ¡æŸ¥è¯¢
   â”œâ”€ selectBatchIdsï¼šæ‰¹é‡æŸ¥è¯¢åˆ©å™¨  
   â”œâ”€ selectByMapï¼šç®€å•æ¡ä»¶æŸ¥è¯¢
   â”œâ”€ selectListï¼šä¸‡èƒ½æŸ¥è¯¢æ–¹æ³•
   â”œâ”€ selectCountï¼šé«˜æ•ˆç»Ÿè®¡æ•°é‡
   â”œâ”€ selectMapsï¼šçµæ´»è¿”å›Map
   â””â”€ selectObjsï¼šä¸“æŸ¥å•åˆ—æ•°æ®

ğŸ¯ Wrapper = æ¡ä»¶æ„é€ å™¨
   â””â”€ QueryWrapperï¼šå­—ç¬¦ä¸²å­—æ®µï¼ˆçµæ´»ï¼‰
   â””â”€ LambdaQueryWrapperï¼šLambdaè¡¨è¾¾å¼ï¼ˆç±»å‹å®‰å…¨ï¼Œæ¨èï¼‰
```

### 10.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ æŸ¥è¯¢æ€§èƒ½ä¼˜å…ˆçº§**
```
selectById (ä¸»é”®) > selectCount (åªç»Ÿè®¡) 
> selectObjs (å•åˆ—) > selectBatchIds (æ‰¹é‡)
> selectList (å…¨é‡) > selectMaps (Mapæ ¼å¼)
```

**ğŸ”¹ è¿”å›ç±»å‹é€‰æ‹©**
```
éœ€è¦å®Œæ•´å¯¹è±¡ â†’ selectList / selectById
åªè¦æ•°é‡ â†’ selectCount
åªè¦æŸä¸€åˆ— â†’ selectObjs  
éœ€è¦çµæ´»æ ¼å¼ â†’ selectMaps
```

**ğŸ”¹ æ¡ä»¶æ„é€ å™¨é€‰æ‹©**
```
ç®€å•ç­‰å€¼æŸ¥è¯¢ â†’ selectByMap (Mapä¼ å‚)
å¤æ‚æ¡ä»¶æŸ¥è¯¢ â†’ selectList + QueryWrapper
ç±»å‹å®‰å…¨æŸ¥è¯¢ â†’ selectList + LambdaQueryWrapper âœ…æ¨è
```

### 10.3 å®æˆ˜å¼€å‘å»ºè®®


> ğŸ’¡ **æœ€ä½³å®è·µ**
> 
> **æ€§èƒ½ä¼˜åŒ–**ï¼š
> - âœ… èƒ½ç”¨ä¸»é”®æŸ¥å°±ç”¨selectById
> - âœ… æ‰¹é‡æ“ä½œç”¨selectBatchIdsä»£æ›¿å¾ªç¯
> - âœ… åªè¦æ•°é‡ç”¨selectCountä¸ç”¨selectList
> - âœ… åªæŸ¥éœ€è¦çš„å­—æ®µï¼Œå‡å°‘æ•°æ®ä¼ è¾“
> 
> **ä»£ç è´¨é‡**ï¼š
> - âœ… ä¼˜å…ˆä½¿ç”¨LambdaQueryWrapperï¼ˆç±»å‹å®‰å…¨ï¼‰
> - âœ… åŠ¨æ€æ¡ä»¶ç”¨conditionå‚æ•°æ§åˆ¶
> - âœ… å¤æ‚æŸ¥è¯¢æŠ½å–åˆ°Serviceå±‚æ–¹æ³•
> - âœ… ç»“æœé›†åˆ¤ç©ºå¤„ç†ï¼Œé¿å…ç©ºæŒ‡é’ˆ
> 
> **å¯ç»´æŠ¤æ€§**ï¼š
> - âœ… ç»™Wrapperå˜é‡å‘½åæ¸…æ™°å«ä¹‰
> - âœ… å¤æ‚SQLæ·»åŠ æ³¨é‡Šè¯´æ˜
> - âœ… åˆç†å°è£…é€šç”¨æŸ¥è¯¢æ–¹æ³•

### 10.4 å¸¸è§é—®é¢˜FAQ


**â“ Q1ï¼šselectByMapçš„keyè¯¥ç”¨æ•°æ®åº“å­—æ®µåè¿˜æ˜¯Javaå±æ€§åï¼Ÿ**
> âœ… **å¿…é¡»ç”¨æ•°æ®åº“å­—æ®µå**ï¼ˆå¦‚user_nameï¼‰ï¼Œä¸èƒ½ç”¨Javaå±æ€§åï¼ˆå¦‚userNameï¼‰

**â“ Q2ï¼šselectListä¼ nullä¼šæŸ¥è¯¢æ‰€æœ‰æ•°æ®å—ï¼Ÿ**
> âœ… **æ˜¯çš„**ï¼Œä¼ nullç›¸å½“äºæ²¡æœ‰whereæ¡ä»¶ï¼Œä¼šæŸ¥è¯¢è¡¨ä¸­æ‰€æœ‰è®°å½•

**â“ Q3ï¼šselectMapså’ŒselectObjsæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ**
> selectMapsè¿”å›æ¯è¡Œæ•°æ®çš„æ‰€æœ‰å­—æ®µï¼ˆMapæ ¼å¼ï¼‰
> selectObjsåªè¿”å›æ¯è¡Œæ•°æ®çš„ç¬¬ä¸€åˆ—ï¼ˆObjectæ ¼å¼ï¼‰

**â“ Q4ï¼šæ‰¹é‡æŸ¥è¯¢æ—¶IDåˆ—è¡¨ä¸ºç©ºæ€ä¹ˆåŠï¼Ÿ**
> âœ… **å»ºè®®å…ˆåˆ¤ç©º**ï¼Œç©ºåˆ—è¡¨ç›´æ¥è¿”å›ï¼Œé¿å…æ— æ„ä¹‰çš„æ•°æ®åº“æŸ¥è¯¢

**â“ Q5ï¼šå¦‚ä½•é€‰æ‹©QueryWrapperè¿˜æ˜¯LambdaQueryWrapperï¼Ÿ**
> âœ… **æ¨èLambdaQueryWrapper**ï¼Œç¼–è¯‘æœŸç±»å‹æ£€æŸ¥ï¼Œé‡æ„å‹å¥½

### 10.5 è¿›é˜¶å­¦ä¹ è·¯å¾„


```
å½“å‰é˜¶æ®µï¼šBaseMapperæŸ¥è¯¢æ–¹æ³• âœ…
    â†“
ä¸‹ä¸€æ­¥ï¼šåˆ†é¡µæŸ¥è¯¢ (Page)
    â†“
å†è¿›é˜¶ï¼šè‡ªå®šä¹‰SQL (ç»“åˆWrapper)
    â†“
é«˜çº§ç©æ³•ï¼šåŠ¨æ€è¡¨åã€å¤šç§Ÿæˆ·
```

---

**ğŸ“ å­¦ä¹ æ€»ç»“**ï¼š

BaseMapperçš„ä¸ƒå¤§æŸ¥è¯¢æ–¹æ³•æ˜¯MyBatis-Plusçš„åŸºç¡€ï¼ŒæŒæ¡å®ƒä»¬å°±èƒ½åº”å¯¹80%çš„æŸ¥è¯¢åœºæ™¯ã€‚è®°ä½æ ¸å¿ƒåŸåˆ™ï¼š
- ğŸ“ **èƒ½ç”¨ä¸»é”®å°±ç”¨ä¸»é”®**ï¼ˆæœ€å¿«ï¼‰
- ğŸ“¦ **æ‰¹é‡ä»£æ›¿å¾ªç¯**ï¼ˆæ›´é«˜æ•ˆï¼‰  
- ğŸ” **æŒ‰éœ€æŸ¥è¯¢å­—æ®µ**ï¼ˆçœå†…å­˜ï¼‰
- ğŸ¯ **æ¡ä»¶ç”¨Lambda**ï¼ˆæ›´å®‰å…¨ï¼‰

å¸Œæœ›è¿™ä»½ç¬”è®°èƒ½å¸®ä½ å¿«é€ŸæŒæ¡MyBatis-Plusçš„æŸ¥è¯¢æ“ä½œï¼ğŸ’ª