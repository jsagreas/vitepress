---
title: 55ã€æ•°æ®æ ¡éªŒé›†æˆ
---
## ğŸ“š ç›®å½•

1. [æ•°æ®æ ¡éªŒåŸºç¡€æ¦‚å¿µ](#1-æ•°æ®æ ¡éªŒåŸºç¡€æ¦‚å¿µ)
2. [@Validæ³¨è§£åº”ç”¨](#2-validæ³¨è§£åº”ç”¨)
3. [@Validatedåˆ†ç»„æ ¡éªŒ](#3-validatedåˆ†ç»„æ ¡éªŒ)
4. [JSR303è§„èŒƒè¯¦è§£](#4-jsr303è§„èŒƒè¯¦è§£)
5. [è‡ªå®šä¹‰æ ¡éªŒæ³¨è§£](#5-è‡ªå®šä¹‰æ ¡éªŒæ³¨è§£)
6. [æ ¡éªŒå¤±è´¥å¤„ç†](#6-æ ¡éªŒå¤±è´¥å¤„ç†)
7. [å‰ç«¯æ ¡éªŒååŒ](#7-å‰ç«¯æ ¡éªŒååŒ)
8. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#8-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ¯ æ•°æ®æ ¡éªŒåŸºç¡€æ¦‚å¿µ


### 1.1 ä¸ºä»€ä¹ˆéœ€è¦æ•°æ®æ ¡éªŒ


**ç”Ÿæ´»ä¸­çš„ä¾‹å­**ï¼š
```
æƒ³è±¡ä½ åœ¨é¤å…ç‚¹é¤ï¼š
æœåŠ¡å‘˜ï¼šæ‚¨çš„æ‰‹æœºå·æ˜¯ï¼Ÿ
ä½ ï¼š123
æœåŠ¡å‘˜ï¼šæ‰‹æœºå·ä¸å¯¹ï¼Œåº”è¯¥æ˜¯11ä½æ•°å­—
ä½ ï¼š13812345678
æœåŠ¡å‘˜ï¼šå¥½çš„ï¼Œå·²è®°å½•

è¿™å°±æ˜¯æ•°æ®æ ¡éªŒ - ç¡®ä¿è¾“å…¥çš„æ•°æ®ç¬¦åˆè§„åˆ™
```

**åœ¨ç¨‹åºä¸­çš„æ„ä¹‰**ï¼š
- ğŸ›¡ï¸ **å®‰å…¨é˜²æŠ¤**ï¼šé˜²æ­¢æ¶æ„æ•°æ®æ³¨å…¥
- âœ… **æ•°æ®å®Œæ•´æ€§**ï¼šç¡®ä¿æ•°æ®ç¬¦åˆä¸šåŠ¡è§„åˆ™
- ğŸ› **å‡å°‘é”™è¯¯**ï¼šæå‰å‘ç°é—®é¢˜ï¼Œé¿å…è„æ•°æ®å…¥åº“
- ğŸ’¡ **ç”¨æˆ·ä½“éªŒ**ï¼šåŠæ—¶åé¦ˆé”™è¯¯ä¿¡æ¯

### 1.2 æ ¡éªŒçš„ä¸‰ä¸ªå±‚æ¬¡


```
å‰ç«¯æ ¡éªŒï¼ˆç¬¬ä¸€é“é˜²çº¿ï¼‰
     â†“
     â”œâ”€ ç”¨æˆ·è¾“å…¥å³æ—¶åé¦ˆ
     â””â”€ å¯è¢«ç»•è¿‡ï¼Œä¸å¯é 

åç«¯æ ¡éªŒï¼ˆæ ¸å¿ƒé˜²çº¿ï¼‰
     â†“
     â”œâ”€ Controllerå±‚æ ¡éªŒå‚æ•°
     â”œâ”€ Serviceå±‚æ ¡éªŒä¸šåŠ¡é€»è¾‘
     â””â”€ æ•°æ®åº“çº¦æŸï¼ˆæœ€åé˜²çº¿ï¼‰
```

**ä¸ºä»€ä¹ˆéœ€è¦å¤šå±‚æ ¡éªŒ**ï¼š
- å‰ç«¯æ ¡éªŒå¯ä»¥è¢«ç¦ç”¨JSç»•è¿‡
- åç«¯å¿…é¡»å†æ¬¡æ ¡éªŒç¡®ä¿å®‰å…¨
- æ•°æ®åº“çº¦æŸæ˜¯æœ€ç»ˆä¿éšœ

### 1.3 MyBatis-Plusä¸­çš„æ ¡éªŒä½ç½®


```
å®¢æˆ·ç«¯è¯·æ±‚
    â†“
Controller (@Valid/@Validated)  â† å‚æ•°æ ¡éªŒåœ¨è¿™é‡Œ
    â†“
Service (ä¸šåŠ¡é€»è¾‘æ ¡éªŒ)
    â†“
MyBatis-Plus (æ•°æ®æ“ä½œ)
    â†“
æ•°æ®åº“ (çº¦æŸæ£€æŸ¥)
```

---

## 2. âœ… @Validæ³¨è§£åº”ç”¨


### 2.1 ä»€ä¹ˆæ˜¯@Valid


**é€šä¿—ç†è§£**ï¼š
> `@Valid`å°±åƒæ˜¯ä¸€ä¸ª"è´¨æ£€å‘˜"ï¼Œåœ¨æ•°æ®è¿›å…¥æ–¹æ³•å‰å…ˆæ£€æŸ¥ä¸€éï¼Œä¸åˆæ ¼çš„ç›´æ¥æ‹¦ä¸‹æ¥

**åŸºæœ¬ä½¿ç”¨æ­¥éª¤**ï¼š

**ç¬¬ä¸€æ­¥ï¼šå¼•å…¥ä¾èµ–**
```xml
<!-- Spring Boot 2.3+éœ€è¦å•ç‹¬å¼•å…¥ -->
<dependency>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-starter-validation</artifactId>
</dependency>
```

**ç¬¬äºŒæ­¥ï¼šåœ¨å®ä½“ç±»ä¸Šæ·»åŠ æ ¡éªŒæ³¨è§£**
```java
public class User {
    
    @NotNull(message = "ç”¨æˆ·IDä¸èƒ½ä¸ºç©º")
    private Long id;
    
    @NotBlank(message = "ç”¨æˆ·åä¸èƒ½ä¸ºç©º")
    @Size(min = 2, max = 20, message = "ç”¨æˆ·åé•¿åº¦å¿…é¡»åœ¨2-20ä¹‹é—´")
    private String username;
    
    @Email(message = "é‚®ç®±æ ¼å¼ä¸æ­£ç¡®")
    private String email;
    
    @Pattern(regexp = "^1[3-9]\\d{9}$", message = "æ‰‹æœºå·æ ¼å¼ä¸æ­£ç¡®")
    private String phone;
    
    @Min(value = 0, message = "å¹´é¾„ä¸èƒ½å°äº0")
    @Max(value = 150, message = "å¹´é¾„ä¸èƒ½å¤§äº150")
    private Integer age;
}
```

**ç¬¬ä¸‰æ­¥ï¼šåœ¨Controllerä¸­ä½¿ç”¨@Valid**
```java
@RestController
@RequestMapping("/user")
public class UserController {
    
    @PostMapping("/add")
    public R addUser(@Valid @RequestBody User user) {
        // å¦‚æœæ ¡éªŒå¤±è´¥ï¼Œä¼šè‡ªåŠ¨æŠ›å‡ºå¼‚å¸¸ï¼Œä¸ä¼šæ‰§è¡Œè¿™é‡Œ
        userService.save(user);
        return R.ok("æ·»åŠ æˆåŠŸ");
    }
}
```

### 2.2 å¸¸ç”¨æ ¡éªŒæ³¨è§£è¯´æ˜


| æ³¨è§£ | ä½œç”¨ | ç¤ºä¾‹ |
|------|------|------|
| `@NotNull` | å€¼ä¸èƒ½ä¸ºnull | `@NotNull private Long id;` |
| `@NotBlank` | å­—ç¬¦ä¸²ä¸èƒ½ä¸ºç©ºç™½ | `@NotBlank private String name;` |
| `@NotEmpty` | é›†åˆ/æ•°ç»„ä¸èƒ½ä¸ºç©º | `@NotEmpty private List<String> tags;` |
| `@Size` | é•¿åº¦/å¤§å°èŒƒå›´ | `@Size(min=2, max=10) private String name;` |
| `@Min/@Max` | æ•°å€¼èŒƒå›´ | `@Min(0) @Max(150) private Integer age;` |
| `@Email` | é‚®ç®±æ ¼å¼ | `@Email private String email;` |
| `@Pattern` | æ­£åˆ™è¡¨è¾¾å¼ | `@Pattern(regexp="^1[3-9]\\d{9}$")` |
| `@DecimalMin/@DecimalMax` | å°æ•°èŒƒå›´ | `@DecimalMin("0.0") private BigDecimal price;` |

### 2.3 @NotNull vs @NotBlank vs @NotEmpty


**ä¸‰è€…çš„åŒºåˆ«**ï¼ˆè¿™ä¸ªç»å¸¸ææ··ï¼‰ï¼š

```java
// @NotNull: åªæ£€æŸ¥ä¸ä¸ºnull
@NotNull
private String name;
// âœ… "å¼ ä¸‰" é€šè¿‡
// âœ… ""     é€šè¿‡ï¼ˆç©ºå­—ç¬¦ä¸²ä¸æ˜¯nullï¼‰
// âœ… "  "   é€šè¿‡ï¼ˆç©ºæ ¼ä¹Ÿä¸æ˜¯nullï¼‰
// âŒ null   ä¸é€šè¿‡

// @NotBlank: å­—ç¬¦ä¸²ä¸èƒ½ä¸ºnullã€ç©ºä¸²ã€ç©ºæ ¼
@NotBlank
private String name;
// âœ… "å¼ ä¸‰" é€šè¿‡
// âŒ ""     ä¸é€šè¿‡
// âŒ "  "   ä¸é€šè¿‡ï¼ˆä¼štrimååˆ¤æ–­ï¼‰
// âŒ null   ä¸é€šè¿‡

// @NotEmpty: é›†åˆ/æ•°ç»„/å­—ç¬¦ä¸²ä¸èƒ½ä¸ºnullæˆ–ç©º
@NotEmpty
private String name;
// âœ… "å¼ ä¸‰" é€šè¿‡
// âŒ ""     ä¸é€šè¿‡
// âœ… "  "   é€šè¿‡ï¼ˆä¸ä¼štrimï¼Œåªçœ‹é•¿åº¦ï¼‰
// âŒ null   ä¸é€šè¿‡
```

**ä½¿ç”¨å»ºè®®**ï¼š
- ğŸ”¸ **å­—ç¬¦ä¸²ç±»å‹**ï¼šä¼˜å…ˆç”¨`@NotBlank`ï¼ˆæœ€ä¸¥æ ¼ï¼‰
- ğŸ”¸ **æ•°å€¼/å¯¹è±¡**ï¼šç”¨`@NotNull`
- ğŸ”¸ **é›†åˆ/æ•°ç»„**ï¼šç”¨`@NotEmpty`

### 2.4 åµŒå¥—å¯¹è±¡æ ¡éªŒ


**åœºæ™¯**ï¼šç”¨æˆ·å¯¹è±¡é‡ŒåŒ…å«åœ°å€å¯¹è±¡

```java
public class User {
    @NotBlank
    private String username;
    
    @Valid  // â† å…³é”®ï¼šåµŒå¥—å¯¹è±¡ä¹Ÿè¦åŠ @Valid
    @NotNull
    private Address address;
}

public class Address {
    @NotBlank(message = "çœä»½ä¸èƒ½ä¸ºç©º")
    private String province;
    
    @NotBlank(message = "åŸå¸‚ä¸èƒ½ä¸ºç©º")
    private String city;
}
```

**ä½¿ç”¨æ–¹å¼**ï¼š
```java
@PostMapping("/add")
public R addUser(@Valid @RequestBody User user) {
    // ä¼šåŒæ—¶æ ¡éªŒUserå’Œå†…éƒ¨çš„Address
    return R.ok();
}
```

---

## 3. ğŸ¯ @Validatedåˆ†ç»„æ ¡éªŒ


### 3.1 ä¸ºä»€ä¹ˆéœ€è¦åˆ†ç»„æ ¡éªŒ


**å®é™…åœºæ™¯**ï¼š
```
æ·»åŠ ç”¨æˆ·ï¼šIDä¸éœ€è¦ä¼ ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰ï¼Œç”¨æˆ·åå¿…å¡«
ä¿®æ”¹ç”¨æˆ·ï¼šIDå¿…é¡»ä¼ ï¼ˆè¦çŸ¥é“æ”¹è°ï¼‰ï¼Œç”¨æˆ·åå¯é€‰

åŒä¸€ä¸ªUserå¯¹è±¡ï¼Œä¸åŒåœºæ™¯çš„æ ¡éªŒè§„åˆ™ä¸ä¸€æ ·ï¼
è¿™å°±éœ€è¦åˆ†ç»„æ ¡éªŒ
```

### 3.2 åˆ†ç»„æ ¡éªŒå®ç°æ­¥éª¤


**ç¬¬ä¸€æ­¥ï¼šå®šä¹‰åˆ†ç»„æ¥å£**
```java
// ç”¨ç©ºæ¥å£æ¥æ ‡è¯†ä¸åŒçš„åˆ†ç»„
public interface AddGroup {
}

public interface UpdateGroup {
}
```

**ç¬¬äºŒæ­¥ï¼šåœ¨å®ä½“ç±»ä¸­æŒ‡å®šåˆ†ç»„**
```java
public class User {
    
    // IDï¼šæ·»åŠ æ—¶ä¸éœ€è¦ï¼Œä¿®æ”¹æ—¶å¿…éœ€
    @Null(groups = AddGroup.class, message = "æ·»åŠ æ—¶IDå¿…é¡»ä¸ºç©º")
    @NotNull(groups = UpdateGroup.class, message = "ä¿®æ”¹æ—¶IDä¸èƒ½ä¸ºç©º")
    private Long id;
    
    // ç”¨æˆ·åï¼šæ·»åŠ æ—¶å¿…éœ€ï¼Œä¿®æ”¹æ—¶å¯é€‰
    @NotBlank(groups = AddGroup.class, message = "ç”¨æˆ·åä¸èƒ½ä¸ºç©º")
    private String username;
    
    // é‚®ç®±ï¼šæ·»åŠ å’Œä¿®æ”¹éƒ½è¦æ ¡éªŒæ ¼å¼
    @Email(groups = {AddGroup.class, UpdateGroup.class})
    private String email;
}
```

**ç¬¬ä¸‰æ­¥ï¼šåœ¨Controllerä¸­æŒ‡å®šä½¿ç”¨å“ªä¸ªåˆ†ç»„**
```java
@RestController
@RequestMapping("/user")
public class UserController {
    
    // æ·»åŠ æ—¶ä½¿ç”¨AddGroupçš„æ ¡éªŒè§„åˆ™
    @PostMapping("/add")
    public R add(@Validated(AddGroup.class) @RequestBody User user) {
        userService.save(user);
        return R.ok();
    }
    
    // ä¿®æ”¹æ—¶ä½¿ç”¨UpdateGroupçš„æ ¡éªŒè§„åˆ™
    @PutMapping("/update")
    public R update(@Validated(UpdateGroup.class) @RequestBody User user) {
        userService.updateById(user);
        return R.ok();
    }
}
```

### 3.3 @Valid vs @Validated


| å¯¹æ¯”é¡¹ | @Valid | @Validated |
|--------|--------|------------|
| **æ¥æº** | JSR303æ ‡å‡† | Springæä¾› |
| **åˆ†ç»„æ ¡éªŒ** | âŒ ä¸æ”¯æŒ | âœ… æ”¯æŒ |
| **åµŒå¥—æ ¡éªŒ** | âœ… æ”¯æŒ | âŒ ä¸æ”¯æŒ |
| **ä½¿ç”¨ä½ç½®** | å‚æ•°ã€å­—æ®µ | å‚æ•°ã€ç±» |
| **æ¨èåœºæ™¯** | ç®€å•æ ¡éªŒ | éœ€è¦åˆ†ç»„æ—¶ |

**å®ç”¨å»ºè®®**ï¼š
- ğŸ”¸ éœ€è¦åˆ†ç»„æ ¡éªŒ â†’ ç”¨`@Validated`
- ğŸ”¸ æœ‰åµŒå¥—å¯¹è±¡æ ¡éªŒ â†’ ç”¨`@Valid`
- ğŸ”¸ ä¸¤è€…å¯ä»¥é…åˆä½¿ç”¨

### 3.4 åˆ†ç»„è¿›é˜¶ï¼šåˆ†ç»„ç»§æ‰¿


**åœºæ™¯**ï¼šä¿®æ”¹æ“ä½œåŒ…å«æ·»åŠ çš„æ‰€æœ‰æ ¡éªŒè§„åˆ™

```java
// UpdateGroupç»§æ‰¿AddGroup
public interface UpdateGroup extends AddGroup {
}

public class User {
    @NotBlank(groups = AddGroup.class)
    private String username;
    
    @NotNull(groups = UpdateGroup.class)
    private Long id;
}

// ä½¿ç”¨UpdateGroupä¼šåŒæ—¶åº”ç”¨AddGroupçš„è§„åˆ™
@PutMapping("/update")
public R update(@Validated(UpdateGroup.class) @RequestBody User user) {
    // usernameå’Œidéƒ½ä¼šè¢«æ ¡éªŒ
    return R.ok();
}
```

---

## 4. ğŸ“‹ JSR303è§„èŒƒè¯¦è§£


### 4.1 ä»€ä¹ˆæ˜¯JSR303


**é€šä¿—è§£é‡Š**ï¼š
> JSR303æ˜¯Javaåˆ¶å®šçš„ä¸€å¥—æ•°æ®æ ¡éªŒ"æ ‡å‡†è§„èŒƒ"ï¼Œå°±åƒæ˜¯"å›½å®¶æ ‡å‡†"ï¼Œè§„å®šäº†æ ¡éªŒæ³¨è§£åº”è¯¥é•¿ä»€ä¹ˆæ ·ã€æ€ä¹ˆç”¨

```
JSR303 (è§„èŒƒæ ‡å‡†)
    â†“
Hibernate Validator (æœ€å¸¸ç”¨çš„å®ç°)
    â†“
Springé›†æˆä½¿ç”¨
```

**æ ¸å¿ƒç»„æˆ**ï¼š
- ğŸ“œ **è§„èŒƒå®šä¹‰**ï¼šå®šä¹‰æ ¡éªŒæ³¨è§£å’Œæ¥å£
- ğŸ”§ **å®ç°æ¡†æ¶**ï¼šHibernate Validatorç­‰
- ğŸŒŸ **Springé›†æˆ**ï¼šè‡ªåŠ¨é…ç½®å’Œå¼‚å¸¸å¤„ç†

### 4.2 JSR303æ ¸å¿ƒæ³¨è§£å…¨è§ˆ


**ç©ºå€¼æ£€æŸ¥**ï¼š
```java
@NotNull       // ä¸èƒ½ä¸ºnull
@Null          // å¿…é¡»ä¸ºnull

// ä½¿ç”¨ç¤ºä¾‹
@NotNull(message = "IDä¸èƒ½ä¸ºç©º")
private Long id;

@Null(message = "åˆ›å»ºæ—¶IDå¿…é¡»ä¸ºç©º")
private Long createId;
```

**å­—ç¬¦ä¸²æ£€æŸ¥**ï¼š
```java
@NotBlank      // ä¸èƒ½ä¸ºnullã€ç©ºä¸²ã€ç©ºæ ¼
@NotEmpty      // ä¸èƒ½ä¸ºnullæˆ–ç©º
@Size          // é•¿åº¦èŒƒå›´
@Pattern       // æ­£åˆ™åŒ¹é…

// ä½¿ç”¨ç¤ºä¾‹
@NotBlank(message = "ç”¨æˆ·åä¸èƒ½ä¸ºç©º")
@Size(min = 2, max = 20, message = "ç”¨æˆ·å2-20ä¸ªå­—ç¬¦")
private String username;

@Pattern(regexp = "^1[3-9]\\d{9}$", message = "æ‰‹æœºå·æ ¼å¼é”™è¯¯")
private String phone;
```

**æ•°å€¼æ£€æŸ¥**ï¼š
```java
@Min           // æœ€å°å€¼
@Max           // æœ€å¤§å€¼
@DecimalMin    // æœ€å°å€¼(å°æ•°)
@DecimalMax    // æœ€å¤§å€¼(å°æ•°)
@Digits        // æ•°å­—ä½æ•°é™åˆ¶
@Positive      // æ­£æ•°
@Negative      // è´Ÿæ•°
@PositiveOrZero // æ­£æ•°æˆ–0
@NegativeOrZero // è´Ÿæ•°æˆ–0

// ä½¿ç”¨ç¤ºä¾‹
@Min(value = 0, message = "å¹´é¾„ä¸èƒ½å°äº0")
@Max(value = 150, message = "å¹´é¾„ä¸èƒ½å¤§äº150")
private Integer age;

@DecimalMin(value = "0.01", message = "ä»·æ ¼è‡³å°‘0.01å…ƒ")
@Digits(integer = 8, fraction = 2, message = "ä»·æ ¼æœ€å¤š8ä½æ•´æ•°2ä½å°æ•°")
private BigDecimal price;
```

**æ—¶é—´æ£€æŸ¥**ï¼š
```java
@Past          // è¿‡å»çš„æ—¶é—´
@PastOrPresent // è¿‡å»æˆ–ç°åœ¨
@Future        // å°†æ¥çš„æ—¶é—´
@FutureOrPresent // å°†æ¥æˆ–ç°åœ¨

// ä½¿ç”¨ç¤ºä¾‹
@Past(message = "ç”Ÿæ—¥å¿…é¡»æ˜¯è¿‡å»çš„æ—¥æœŸ")
private LocalDate birthday;

@Future(message = "é¢„çº¦æ—¶é—´å¿…é¡»æ˜¯å°†æ¥")
private LocalDateTime appointmentTime;
```

**å…¶ä»–å¸¸ç”¨**ï¼š
```java
@Email         // é‚®ç®±æ ¼å¼
@AssertTrue    // å¿…é¡»ä¸ºtrue
@AssertFalse   // å¿…é¡»ä¸ºfalse

// ä½¿ç”¨ç¤ºä¾‹
@Email(message = "é‚®ç®±æ ¼å¼ä¸æ­£ç¡®")
private String email;

@AssertTrue(message = "å¿…é¡»åŒæ„ç”¨æˆ·åè®®")
private Boolean agreeProtocol;
```

### 4.3 å®Œæ•´å®ä½“ç±»ç¤ºä¾‹


```java
public class UserDTO {
    
    // IDæ ¡éªŒ
    @NotNull(groups = UpdateGroup.class, message = "ä¿®æ”¹æ—¶IDä¸èƒ½ä¸ºç©º")
    private Long id;
    
    // å­—ç¬¦ä¸²æ ¡éªŒ
    @NotBlank(message = "ç”¨æˆ·åä¸èƒ½ä¸ºç©º")
    @Size(min = 2, max = 20, message = "ç”¨æˆ·åé•¿åº¦2-20")
    private String username;
    
    // æ­£åˆ™æ ¡éªŒ
    @Pattern(regexp = "^1[3-9]\\d{9}$", message = "æ‰‹æœºå·æ ¼å¼é”™è¯¯")
    private String phone;
    
    // é‚®ç®±æ ¡éªŒ
    @Email(message = "é‚®ç®±æ ¼å¼é”™è¯¯")
    private String email;
    
    // æ•°å€¼èŒƒå›´
    @Min(value = 0, message = "å¹´é¾„ä¸èƒ½å°äº0")
    @Max(value = 150, message = "å¹´é¾„ä¸èƒ½å¤§äº150")
    private Integer age;
    
    // å°æ•°æ ¡éªŒ
    @DecimalMin(value = "0.01", message = "å·¥èµ„è‡³å°‘0.01")
    @Digits(integer = 8, fraction = 2, message = "å·¥èµ„æ ¼å¼é”™è¯¯")
    private BigDecimal salary;
    
    // æ—¶é—´æ ¡éªŒ
    @Past(message = "ç”Ÿæ—¥å¿…é¡»æ˜¯è¿‡å»çš„æ—¥æœŸ")
    private LocalDate birthday;
    
    // å¸ƒå°”æ ¡éªŒ
    @AssertTrue(message = "å¿…é¡»åŒæ„åè®®")
    private Boolean agreed;
}
```

---

## 5. ğŸ”§ è‡ªå®šä¹‰æ ¡éªŒæ³¨è§£


### 5.1 ä¸ºä»€ä¹ˆéœ€è¦è‡ªå®šä¹‰æ ¡éªŒ


**åœºæ™¯ä¸¾ä¾‹**ï¼š
```
éœ€æ±‚ï¼šæ ¡éªŒèº«ä»½è¯å·æ ¼å¼
é—®é¢˜ï¼šJSR303æ²¡æœ‰æä¾›@IdCardæ³¨è§£
è§£å†³ï¼šè‡ªå·±å®šä¹‰ä¸€ä¸ªæ ¡éªŒæ³¨è§£
```

### 5.2 è‡ªå®šä¹‰æ³¨è§£ä¸‰æ­¥èµ°


**ç¬¬ä¸€æ­¥ï¼šå®šä¹‰æ³¨è§£**
```java
@Target({ElementType.FIELD, ElementType.PARAMETER})  // å¯ç”¨åœ¨å­—æ®µå’Œå‚æ•°ä¸Š
@Retention(RetentionPolicy.RUNTIME)  // è¿è¡Œæ—¶æœ‰æ•ˆ
@Constraint(validatedBy = IdCardValidator.class)  // æŒ‡å®šæ ¡éªŒå™¨
@Documented
public @interface IdCard {
    
    // é”™è¯¯æ¶ˆæ¯ï¼ˆå¿…éœ€ï¼‰
    String message() default "èº«ä»½è¯å·æ ¼å¼ä¸æ­£ç¡®";
    
    // åˆ†ç»„ï¼ˆå¿…éœ€ï¼‰
    Class<?>[] groups() default {};
    
    // è´Ÿè½½ï¼ˆå¿…éœ€ï¼Œä¸€èˆ¬ä¸ç”¨ï¼‰
    Class<? extends Payload>[] payload() default {};
}
```

**ç¬¬äºŒæ­¥ï¼šå®ç°æ ¡éªŒå™¨**
```java
public class IdCardValidator implements ConstraintValidator<IdCard, String> {
    
    // åˆå§‹åŒ–æ–¹æ³•ï¼ˆå¯é€‰ï¼‰
    @Override
    public void initialize(IdCard annotation) {
        // å¯ä»¥åœ¨è¿™é‡Œè·å–æ³¨è§£çš„å‚æ•°
    }
    
    // æ ¡éªŒé€»è¾‘ï¼ˆå¿…éœ€ï¼‰
    @Override
    public boolean isValid(String value, ConstraintValidatorContext context) {
        // valueä¸ºnullæ—¶ï¼Œç”±@NotNullå¤„ç†ï¼Œè¿™é‡Œè¿”å›true
        if (value == null) {
            return true;
        }
        
        // èº«ä»½è¯å·æ ¡éªŒé€»è¾‘
        // 15ä½æˆ–18ä½æ•°å­—ï¼Œæœ€åä¸€ä½å¯èƒ½æ˜¯X
        String regex = "^[1-9]\\d{5}(18|19|20)\\d{2}((0[1-9])|(1[0-2]))(([0-2][1-9])|10|20|30|31)\\d{3}[0-9Xx]$";
        return value.matches(regex);
    }
}
```

**ç¬¬ä¸‰æ­¥ï¼šä½¿ç”¨æ³¨è§£**
```java
public class User {
    
    @IdCard(message = "èº«ä»½è¯å·æ ¼å¼é”™è¯¯")
    @NotBlank(message = "èº«ä»½è¯å·ä¸èƒ½ä¸ºç©º")
    private String idCard;
}
```

### 5.3 å¸¦å‚æ•°çš„è‡ªå®šä¹‰æ ¡éªŒ


**åœºæ™¯**ï¼šæ ¡éªŒå­—ç¬¦ä¸²åªèƒ½æ˜¯æŒ‡å®šçš„å‡ ä¸ªå€¼

```java
// å®šä¹‰æ³¨è§£
@Target({ElementType.FIELD})
@Retention(RetentionPolicy.RUNTIME)
@Constraint(validatedBy = EnumValueValidator.class)
public @interface EnumValue {
    
    String message() default "å€¼ä¸åœ¨å…è®¸çš„èŒƒå›´å†…";
    
    Class<?>[] groups() default {};
    
    Class<? extends Payload>[] payload() default {};
    
    // å…è®¸çš„å€¼ï¼ˆæ³¨è§£å‚æ•°ï¼‰
    String[] values() default {};
}

// å®ç°æ ¡éªŒå™¨
public class EnumValueValidator implements ConstraintValidator<EnumValue, String> {
    
    private Set<String> allowedValues;
    
    @Override
    public void initialize(EnumValue annotation) {
        // è·å–æ³¨è§£ä¸­é…ç½®çš„å…è®¸å€¼
        allowedValues = new HashSet<>(Arrays.asList(annotation.values()));
    }
    
    @Override
    public boolean isValid(String value, ConstraintValidatorContext context) {
        if (value == null) {
            return true;
        }
        return allowedValues.contains(value);
    }
}

// ä½¿ç”¨
public class User {
    
    @EnumValue(values = {"ç”·", "å¥³", "æœªçŸ¥"}, message = "æ€§åˆ«åªèƒ½æ˜¯ç”·ã€å¥³æˆ–æœªçŸ¥")
    private String gender;
    
    @EnumValue(values = {"ACTIVE", "INACTIVE", "LOCKED"}, message = "çŠ¶æ€å€¼é”™è¯¯")
    private String status;
}
```

### 5.4 å¸¸ç”¨è‡ªå®šä¹‰æ ¡éªŒç¤ºä¾‹


**æ‰‹æœºå·æ ¡éªŒ**ï¼š
```java
@Target({ElementType.FIELD})
@Retention(RetentionPolicy.RUNTIME)
@Constraint(validatedBy = PhoneValidator.class)
public @interface Phone {
    String message() default "æ‰‹æœºå·æ ¼å¼ä¸æ­£ç¡®";
    Class<?>[] groups() default {};
    Class<? extends Payload>[] payload() default {};
}

public class PhoneValidator implements ConstraintValidator<Phone, String> {
    @Override
    public boolean isValid(String value, ConstraintValidatorContext context) {
        if (value == null) return true;
        return value.matches("^1[3-9]\\d{9}$");
    }
}
```

**æ—¥æœŸèŒƒå›´æ ¡éªŒ**ï¼š
```java
@Target({ElementType.FIELD})
@Retention(RetentionPolicy.RUNTIME)
@Constraint(validatedBy = DateRangeValidator.class)
public @interface DateRange {
    String message() default "æ—¥æœŸè¶…å‡ºèŒƒå›´";
    Class<?>[] groups() default {};
    Class<? extends Payload>[] payload() default {};
    
    int minDaysFromNow() default 0;  // è·ä»Šæœ€å°‘å¤©æ•°
    int maxDaysFromNow() default 365; // è·ä»Šæœ€å¤šå¤©æ•°
}
```

---

## 6. ğŸš¨ æ ¡éªŒå¤±è´¥å¤„ç†


### 6.1 æ ¡éªŒå¤±è´¥ä¼šå‘ç”Ÿä»€ä¹ˆ


**é»˜è®¤è¡Œä¸º**ï¼š
```
ç”¨æˆ·æäº¤æ•°æ®
    â†“
@Valid/@Validatedæ ¡éªŒ
    â†“
æ ¡éªŒå¤±è´¥ â†’ æŠ›å‡ºMethodArgumentNotValidExceptionå¼‚å¸¸
    â†“
è¿”å›400é”™è¯¯ + é»˜è®¤é”™è¯¯ä¿¡æ¯ï¼ˆä¸å‹å¥½ï¼‰
```

**é»˜è®¤è¿”å›ç¤ºä¾‹**ï¼ˆä¸å‹å¥½ï¼‰ï¼š
```json
{
  "timestamp": "2024-01-01T10:00:00.000+00:00",
  "status": 400,
  "error": "Bad Request",
  "message": "Validation failed for argument...",
  "path": "/user/add"
}
```

### 6.2 å…¨å±€å¼‚å¸¸å¤„ç†å™¨


**ç»Ÿä¸€å¤„ç†æ ¡éªŒå¼‚å¸¸**ï¼š
```java
@RestControllerAdvice  // å…¨å±€å¼‚å¸¸å¤„ç†
public class GlobalExceptionHandler {
    
    /**
     * å¤„ç†@Valid/@Validatedæ ¡éªŒå¤±è´¥å¼‚å¸¸
     */
    @ExceptionHandler(MethodArgumentNotValidException.class)
    public R handleValidException(MethodArgumentNotValidException e) {
        
        // è·å–æ‰€æœ‰æ ¡éªŒé”™è¯¯ä¿¡æ¯
        List<String> errors = e.getBindingResult()
            .getFieldErrors()
            .stream()
            .map(error -> error.getField() + ": " + error.getDefaultMessage())
            .collect(Collectors.toList());
        
        return R.error("å‚æ•°æ ¡éªŒå¤±è´¥").put("errors", errors);
    }
    
    /**
     * å¤„ç†å•ä¸ªå‚æ•°æ ¡éªŒå¤±è´¥ï¼ˆå¦‚@RequestParamï¼‰
     */
    @ExceptionHandler(ConstraintViolationException.class)
    public R handleConstraintViolation(ConstraintViolationException e) {
        
        List<String> errors = e.getConstraintViolations()
            .stream()
            .map(violation -> violation.getPropertyPath() + ": " + violation.getMessage())
            .collect(Collectors.toList());
        
        return R.error("å‚æ•°æ ¡éªŒå¤±è´¥").put("errors", errors);
    }
}
```

**è¿”å›ç»“æœ**ï¼ˆå‹å¥½ï¼‰ï¼š
```json
{
  "code": 400,
  "msg": "å‚æ•°æ ¡éªŒå¤±è´¥",
  "errors": [
    "username: ç”¨æˆ·åä¸èƒ½ä¸ºç©º",
    "email: é‚®ç®±æ ¼å¼ä¸æ­£ç¡®",
    "age: å¹´é¾„ä¸èƒ½å°äº0"
  ]
}
```

### 6.3 å¿«é€Ÿå¤±è´¥æ¨¡å¼


**é»˜è®¤è¡Œä¸º**ï¼šæ ¡éªŒæ‰€æœ‰å­—æ®µåä¸€èµ·è¿”å›é”™è¯¯
**å¿«é€Ÿå¤±è´¥**ï¼šå‘ç°ç¬¬ä¸€ä¸ªé”™è¯¯å°±ç«‹å³è¿”å›

```java
@Configuration
public class ValidatorConfig {
    
    @Bean
    public Validator validator() {
        ValidatorFactory factory = Validation.byProvider(HibernateValidator.class)
            .configure()
            .failFast(true)  // å¼€å¯å¿«é€Ÿå¤±è´¥
            .buildValidatorFactory();
        
        return factory.getValidator();
    }
}
```

**å¯¹æ¯”æ•ˆæœ**ï¼š

| æ¨¡å¼ | é”™è¯¯è¿”å› | ä½¿ç”¨åœºæ™¯ |
|------|---------|---------|
| **é»˜è®¤æ¨¡å¼** | è¿”å›æ‰€æœ‰é”™è¯¯ | è¡¨å•æäº¤ï¼Œç”¨æˆ·éœ€è¦ä¸€æ¬¡çœ‹åˆ°æ‰€æœ‰é—®é¢˜ |
| **å¿«é€Ÿå¤±è´¥** | è¿”å›ç¬¬ä¸€ä¸ªé”™è¯¯ | APIè°ƒç”¨ï¼Œå¿«é€Ÿå“åº”ï¼ŒèŠ‚çœèµ„æº |

### 6.4 è‡ªå®šä¹‰é”™è¯¯æ¶ˆæ¯


**æ–¹å¼ä¸€ï¼šæ³¨è§£ä¸­ç›´æ¥æŒ‡å®š**
```java
@NotBlank(message = "ç”¨æˆ·åä¸èƒ½ä¸ºç©º")
private String username;
```

**æ–¹å¼äºŒï¼šä½¿ç”¨æ¶ˆæ¯æ–‡ä»¶**

åˆ›å»º`ValidationMessages.properties`ï¼š
```properties
user.username.notblank=ç”¨æˆ·åå¿…é¡»å¡«å†™
user.email.format=è¯·è¾“å…¥æ­£ç¡®çš„é‚®ç®±åœ°å€
user.age.range=å¹´é¾„å¿…é¡»åœ¨{min}åˆ°{max}ä¹‹é—´
```

ä½¿ç”¨ï¼š
```java
@NotBlank(message = "{user.username.notblank}")
private String username;

@Min(value = 0, message = "{user.age.range}")
private Integer age;
```

**æ–¹å¼ä¸‰ï¼šåŠ¨æ€æ¶ˆæ¯**
```java
@Min(value = 18, message = "å¹´é¾„ä¸èƒ½å°äº{value}å²")
private Integer age;
// é”™è¯¯æ¶ˆæ¯ï¼šå¹´é¾„ä¸èƒ½å°äº18å²
```

---

## 7. ğŸ”— å‰ç«¯æ ¡éªŒååŒ


### 7.1 å‰åç«¯æ ¡éªŒçš„å…³ç³»


```
å‰ç«¯æ ¡éªŒï¼ˆç”¨æˆ·ä½“éªŒï¼‰
    â†“
    â”œâ”€ å³æ—¶åé¦ˆï¼Œå‡å°‘è¯·æ±‚
    â”œâ”€ å¯è¢«ç»•è¿‡ï¼Œä¸å¯ä¿¡ä»»
    â””â”€ ä½¿ç”¨JS/Vueç­‰å®ç°

åç«¯æ ¡éªŒï¼ˆæ•°æ®å®‰å…¨ï¼‰
    â†“
    â”œâ”€ æœ€ç»ˆé˜²çº¿ï¼Œç¡®ä¿å®‰å…¨
    â”œâ”€ æ— æ³•ç»•è¿‡ï¼Œå¿…é¡»å¯é 
    â””â”€ ä½¿ç”¨@Validç­‰å®ç°
```

**æ ¸å¿ƒåŸåˆ™**ï¼š
- âš ï¸ **å‰ç«¯æ ¡éªŒå¯é€‰**ï¼šæå‡ä½“éªŒä½†ä¸æ˜¯å¿…éœ€
- âœ… **åç«¯æ ¡éªŒå¿…éœ€**ï¼šå®‰å…¨çš„æœ€åä¿éšœ
- ğŸ”„ **è§„åˆ™è¦ä¸€è‡´**ï¼šå‰åç«¯æ ¡éªŒè§„åˆ™åº”è¯¥ç»Ÿä¸€

### 7.2 æ ¡éªŒè§„åˆ™å…±äº«æ–¹æ¡ˆ


**æ–¹æ¡ˆä¸€ï¼šåç«¯è¿”å›æ ¡éªŒè§„åˆ™ï¼ˆæ¨èï¼‰**

```java
@GetMapping("/user/validation-rules")
public R getValidationRules() {
    Map<String, Object> rules = new HashMap<>();
    
    // ç”¨æˆ·åè§„åˆ™
    rules.put("username", Map.of(
        "required", true,
        "minLength", 2,
        "maxLength", 20,
        "message", "ç”¨æˆ·åé•¿åº¦2-20ä¸ªå­—ç¬¦"
    ));
    
    // æ‰‹æœºå·è§„åˆ™
    rules.put("phone", Map.of(
        "required", true,
        "pattern", "^1[3-9]\\d{9}$",
        "message", "è¯·è¾“å…¥æ­£ç¡®çš„æ‰‹æœºå·"
    ));
    
    return R.ok().put("rules", rules);
}
```

**å‰ç«¯ä½¿ç”¨ï¼ˆVue3ç¤ºä¾‹ï¼‰**ï¼š
```javascript
// è·å–æ ¡éªŒè§„åˆ™
const rules = await fetch('/user/validation-rules').then(r => r.json());

// ä½¿ç”¨Element Plusè¡¨å•éªŒè¯
const formRules = {
  username: [
    { required: rules.username.required, 
      message: rules.username.message, 
      trigger: 'blur' },
    { min: rules.username.minLength, 
      max: rules.username.maxLength, 
      message: rules.username.message }
  ],
  phone: [
    { required: true, message: 'è¯·è¾“å…¥æ‰‹æœºå·' },
    { pattern: new RegExp(rules.phone.pattern), 
      message: rules.phone.message }
  ]
};
```

### 7.3 é”™è¯¯æ¶ˆæ¯å±•ç¤º


**åç«¯è¿”å›æ ¼å¼**ï¼š
```json
{
  "code": 400,
  "msg": "å‚æ•°æ ¡éªŒå¤±è´¥",
  "errors": {
    "username": "ç”¨æˆ·åä¸èƒ½ä¸ºç©º",
    "email": "é‚®ç®±æ ¼å¼ä¸æ­£ç¡®"
  }
}
```

**å‰ç«¯å¤„ç†ï¼ˆVue3ç¤ºä¾‹ï¼‰**ï¼š
```javascript
async function submitForm() {
  try {
    await axios.post('/user/add', formData);
    ElMessage.success('æ·»åŠ æˆåŠŸ');
  } catch (error) {
    if (error.response.status === 400) {
      const errors = error.response.data.errors;
      
      // éå†é”™è¯¯ï¼Œæ˜¾ç¤ºåœ¨å¯¹åº”å­—æ®µä¸‹
      Object.keys(errors).forEach(field => {
        ElMessage.error(errors[field]);
      });
    }
  }
}
```

### 7.4 å®Œæ•´å‰åç«¯ååŒç¤ºä¾‹


**åç«¯Controller**ï¼š
```java
@PostMapping("/add")
public R addUser(@Valid @RequestBody User user) {
    userService.save(user);
    return R.ok("æ·»åŠ æˆåŠŸ");
}

@RestControllerAdvice
public class GlobalExceptionHandler {
    @ExceptionHandler(MethodArgumentNotValidException.class)
    public R handleValidException(MethodArgumentNotValidException e) {
        Map<String, String> errors = new HashMap<>();
        e.getBindingResult().getFieldErrors().forEach(error -> {
            errors.put(error.getField(), error.getDefaultMessage());
        });
        return R.error(400, "å‚æ•°æ ¡éªŒå¤±è´¥").put("errors", errors);
    }
}
```

**å‰ç«¯è¡¨å•ï¼ˆVue3 + Element Plusï¼‰**ï¼š
```vue
<template>
  <el-form :model="form" :rules="rules" ref="formRef">
    <el-form-item label="ç”¨æˆ·å" prop="username">
      <el-input v-model="form.username"></el-input>
    </el-form-item>
    
    <el-form-item label="é‚®ç®±" prop="email">
      <el-input v-model="form.email"></el-input>
    </el-form-item>
    
    <el-button @click="submit">æäº¤</el-button>
  </el-form>
</template>

<script setup>
import { ref, reactive } from 'vue';

const formRef = ref();
const form = reactive({
  username: '',
  email: ''
});

// å‰ç«¯æ ¡éªŒè§„åˆ™ï¼ˆä¸åç«¯ä¿æŒä¸€è‡´ï¼‰
const rules = {
  username: [
    { required: true, message: 'ç”¨æˆ·åä¸èƒ½ä¸ºç©º', trigger: 'blur' },
    { min: 2, max: 20, message: 'ç”¨æˆ·åé•¿åº¦2-20', trigger: 'blur' }
  ],
  email: [
    { type: 'email', message: 'é‚®ç®±æ ¼å¼ä¸æ­£ç¡®', trigger: 'blur' }
  ]
};

async function submit() {
  // å…ˆå‰ç«¯æ ¡éªŒ
  await formRef.value.validate();
  
  // å†æäº¤åç«¯
  try {
    await axios.post('/user/add', form);
    ElMessage.success('æ·»åŠ æˆåŠŸ');
  } catch (error) {
    // å¤„ç†åç«¯æ ¡éªŒé”™è¯¯
    if (error.response?.data?.errors) {
      Object.values(error.response.data.errors).forEach(msg => {
        ElMessage.error(msg);
      });
    }
  }
}
</script>
```

---

## 8. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 8.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ æ•°æ®æ ¡éªŒï¼šç¡®ä¿æ•°æ®å®‰å…¨å’Œå®Œæ•´æ€§çš„é‡è¦æ‰‹æ®µ
ğŸ”¸ @Validï¼šJSR303æ ‡å‡†æ³¨è§£ï¼Œç”¨äºè§¦å‘æ ¡éªŒ
ğŸ”¸ @Validatedï¼šSpringæä¾›ï¼Œæ”¯æŒåˆ†ç»„æ ¡éªŒ
ğŸ”¸ JSR303è§„èŒƒï¼šJavaæ•°æ®æ ¡éªŒçš„æ ‡å‡†è§„èŒƒ
ğŸ”¸ è‡ªå®šä¹‰æ ¡éªŒï¼šé€šè¿‡è‡ªå®šä¹‰æ³¨è§£å®ç°ä¸šåŠ¡ç‰¹å®šæ ¡éªŒ
ğŸ”¸ å¼‚å¸¸å¤„ç†ï¼šç»Ÿä¸€å¤„ç†æ ¡éªŒå¤±è´¥ï¼Œè¿”å›å‹å¥½ä¿¡æ¯
ğŸ”¸ å‰åç«¯ååŒï¼šå‰ç«¯æå‡ä½“éªŒï¼Œåç«¯ä¿éšœå®‰å…¨
```

### 8.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ @Valid vs @Validatedé€‰æ‹©**
```
ç®€å•åœºæ™¯ã€æœ‰åµŒå¥—å¯¹è±¡ â†’ @Valid
éœ€è¦åˆ†ç»„æ ¡éªŒ â†’ @Validated
å®é™…é¡¹ç›®ä¸­ç»å¸¸ç»„åˆä½¿ç”¨
```

**ğŸ”¹ æ ¡éªŒæ³¨è§£ä½¿ç”¨åŸåˆ™**
```
å­—ç¬¦ä¸² â†’ @NotBlankï¼ˆæœ€ä¸¥æ ¼ï¼‰
æ•°å€¼/å¯¹è±¡ â†’ @NotNull
é›†åˆ/æ•°ç»„ â†’ @NotEmpty
å¤æ‚è§„åˆ™ â†’ @Patternæˆ–è‡ªå®šä¹‰æ³¨è§£
```

**ğŸ”¹ æ ¡éªŒçš„å±‚æ¬¡ç»“æ„**
```
å‰ç«¯æ ¡éªŒï¼ˆä½“éªŒï¼‰â†’ å¯é€‰ï¼Œå¯è¢«ç»•è¿‡
Controlleræ ¡éªŒï¼ˆå…¥å£ï¼‰â†’ å¿…éœ€ï¼Œç¬¬ä¸€é“é˜²çº¿
Serviceæ ¡éªŒï¼ˆä¸šåŠ¡ï¼‰â†’ å¤æ‚ä¸šåŠ¡é€»è¾‘æ ¡éªŒ
æ•°æ®åº“çº¦æŸï¼ˆæœ€ç»ˆï¼‰â†’ æœ€åçš„å®‰å…¨ä¿éšœ
```

### 8.3 å®æˆ˜å¼€å‘å»ºè®®


**âœ… æ¨èåšæ³•**ï¼š
- ç»Ÿä¸€ä½¿ç”¨å…¨å±€å¼‚å¸¸å¤„ç†å™¨
- é”™è¯¯æ¶ˆæ¯å†™åœ¨æ³¨è§£çš„messageä¸­
- å¤æ‚æ ¡éªŒä½¿ç”¨è‡ªå®šä¹‰æ³¨è§£
- å‰åç«¯æ ¡éªŒè§„åˆ™ä¿æŒä¸€è‡´
- æ•æ„Ÿæ•°æ®å¿…é¡»åç«¯æ ¡éªŒ

**âŒ é¿å…çš„å‘**ï¼š
- ä¸è¦åªä¾èµ–å‰ç«¯æ ¡éªŒ
- ä¸è¦å¿˜è®°@Valid/@Validatedæ³¨è§£
- åµŒå¥—å¯¹è±¡å¿…é¡»åŠ @Valid
- åˆ†ç»„æ ¡éªŒè¦æŒ‡å®šgroups
- é”™è¯¯æ¶ˆæ¯è¦è¶³å¤Ÿæ˜ç¡®

### 8.4 å¿«é€Ÿæ£€æŸ¥æ¸…å•


**åç«¯æ ¡éªŒé…ç½®æ£€æŸ¥**ï¼š
```
â˜‘ å¼•å…¥äº†validationä¾èµ–
â˜‘ å®ä½“ç±»æ·»åŠ äº†æ ¡éªŒæ³¨è§£
â˜‘ Controllerå‚æ•°åŠ äº†@Valid/@Validated
â˜‘ é…ç½®äº†å…¨å±€å¼‚å¸¸å¤„ç†å™¨
â˜‘ é”™è¯¯æ¶ˆæ¯æ¸…æ™°æ˜ç¡®
```

**å‰åç«¯ååŒæ£€æŸ¥**ï¼š
```
â˜‘ å‰ç«¯æœ‰åŸºæœ¬çš„æ ¼å¼æ ¡éªŒ
â˜‘ å‰ç«¯æ ¡éªŒè§„åˆ™ä¸åç«¯ä¸€è‡´
â˜‘ åç«¯è¿”å›çš„é”™è¯¯æ ¼å¼ç»Ÿä¸€
â˜‘ å‰ç«¯æ­£ç¡®å±•ç¤ºåç«¯é”™è¯¯æ¶ˆæ¯
â˜‘ å…³é”®æ“ä½œå¿…é¡»åç«¯å†æ¬¡æ ¡éªŒ
```

### 8.5 æ ¸å¿ƒè®°å¿†å£è¯€


```
æ•°æ®æ ¡éªŒå¾ˆé‡è¦ï¼Œå‰åä¸¤ç«¯éƒ½éœ€è¦
å‰ç«¯ä½“éªŒåç«¯å®‰ï¼Œæœ€ç»ˆé˜²çº¿ä¸èƒ½å°‘
@Validæ³¨è§£åŠ å‚æ•°ï¼Œæ ¡éªŒå¤±è´¥ä¼šæ‹¦ä½
åˆ†ç»„æ ¡éªŒç”¨Validatedï¼Œä¸åŒåœºæ™¯è§„åˆ™å˜
è‡ªå®šä¹‰æ³¨è§£ä¸éš¾å†™ï¼Œä¸šåŠ¡è§„åˆ™æ¥å®ç°
å…¨å±€å¼‚å¸¸ç»Ÿä¸€å¤„ç†ï¼Œå‹å¥½æ¶ˆæ¯è¿”å›å»
```

**å…³é”®æŠ€æœ¯ç‚¹**ï¼š
- ğŸ¯ **å…¥é—¨å¿…ä¼š**ï¼š@ValidåŸºæœ¬ä½¿ç”¨ã€å¸¸ç”¨æ ¡éªŒæ³¨è§£
- âš¡ **è¿›é˜¶æŒæ¡**ï¼šåˆ†ç»„æ ¡éªŒã€è‡ªå®šä¹‰æ ¡éªŒæ³¨è§£
- ğŸš€ **é«˜çº§æŠ€å·§**ï¼šå…¨å±€å¼‚å¸¸å¤„ç†ã€å‰åç«¯ååŒ