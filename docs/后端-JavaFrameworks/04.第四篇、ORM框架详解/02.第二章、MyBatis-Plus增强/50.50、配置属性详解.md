---
title: 50ã€é…ç½®å±æ€§è¯¦è§£
---
## ğŸ“š ç›®å½•

1. [é…ç½®å±æ€§æ¦‚è¿°](#1-é…ç½®å±æ€§æ¦‚è¿°)
2. [å…¨å±€é…ç½®è¯¦è§£](#2-å…¨å±€é…ç½®è¯¦è§£)
3. [æ˜ å°„é…ç½®é€‰é¡¹](#3-æ˜ å°„é…ç½®é€‰é¡¹)
4. [æ’ä»¶é…ç½®å‚æ•°](#4-æ’ä»¶é…ç½®å‚æ•°)
5. [è‡ªå®šä¹‰é…ç½®æ‰©å±•](#5-è‡ªå®šä¹‰é…ç½®æ‰©å±•)
6. [ç¯å¢ƒå˜é‡é…ç½®](#6-ç¯å¢ƒå˜é‡é…ç½®)
7. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#7-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ¯ é…ç½®å±æ€§æ¦‚è¿°


### 1.1 ä»€ä¹ˆæ˜¯MybatisPlusProperties


**é€šä¿—ç†è§£**ï¼š
```
æƒ³è±¡ä½ ä¹°äº†ä¸€å°æ–°ç”µè„‘ï¼Œå‡ºå‚æ—¶æœ‰é»˜è®¤è®¾ç½®ï¼š
- é»˜è®¤è¯­è¨€æ˜¯è‹±æ–‡
- é»˜è®¤ä¸»é¢˜æ˜¯æµ…è‰²
- é»˜è®¤åˆ†è¾¨ç‡æ˜¯1920x1080

ä½ å¯ä»¥é€šè¿‡"è®¾ç½®é¢æ¿"æ¥ä¿®æ”¹è¿™äº›é»˜è®¤è¡Œä¸ºã€‚

MybatisPlusPropertieså°±æ˜¯MyBatis-Plusçš„"è®¾ç½®é¢æ¿"ï¼
é€šè¿‡å®ƒå¯ä»¥è°ƒæ•´æ¡†æ¶çš„å„ç§è¡Œä¸ºï¼Œè®©å®ƒæ›´ç¬¦åˆä½ çš„é¡¹ç›®éœ€æ±‚ã€‚
```

**æ ¸å¿ƒä½œç”¨**ï¼š
- ğŸ”§ **ç»Ÿä¸€é…ç½®å…¥å£**ï¼šæ‰€æœ‰MyBatis-Plusçš„é…ç½®éƒ½åœ¨è¿™é‡Œ
- âš™ï¸ **è¦†ç›–é»˜è®¤è¡Œä¸º**ï¼šä¿®æ”¹æ¡†æ¶é»˜è®¤è®¾ç½®
- ğŸ¨ **çµæ´»å®šåˆ¶**ï¼šæ ¹æ®é¡¹ç›®éœ€æ±‚ä¸ªæ€§åŒ–é…ç½®
- ğŸ“‹ **é…ç½®ç®¡ç†**ï¼šé›†ä¸­ç®¡ç†æ‰€æœ‰é…ç½®é¡¹

### 1.2 é…ç½®æ–¹å¼å¯¹æ¯”


**YAMLé…ç½®ï¼ˆæ¨èï¼‰** vs **Javaé…ç½®**ï¼š

```
YAMLæ–¹å¼ï¼ˆapplication.ymlï¼‰ï¼š
å°±åƒå¡«å†™è¡¨å• âœï¸
ä¼˜ç‚¹ï¼šç›´è§‚ã€ç®€å•ã€æ˜“ç»´æŠ¤
é€‚åˆï¼šå¤§éƒ¨åˆ†å¸¸è§„é…ç½®

Javaé…ç½®ï¼ˆ@Configurationï¼‰ï¼š
å°±åƒç¼–å†™ç¨‹åº ğŸ’»
ä¼˜ç‚¹ï¼šçµæ´»ã€å¯åŠ¨æ€è°ƒæ•´
é€‚åˆï¼šå¤æ‚é€»è¾‘ã€æ¡ä»¶é…ç½®
```

| é…ç½®æ–¹å¼ | **é€‚ç”¨åœºæ™¯** | **ä¼˜ç‚¹** | **ç¼ºç‚¹** |
|---------|------------|---------|---------|
| **YAMLé…ç½®** | `æ—¥å¸¸å¼€å‘é…ç½®` | `æ¸…æ™°ç›´è§‚ã€ä¿®æ”¹æ–¹ä¾¿` | `åŠŸèƒ½ç›¸å¯¹å›ºå®š` |
| **Javaé…ç½®** | `å¤æ‚ä¸šåŠ¡é€»è¾‘` | `çµæ´»å¼ºå¤§ã€å¯ç¼–ç¨‹` | `ä»£ç é‡è¾ƒå¤š` |
| **æ··åˆä½¿ç”¨** | `ä¼ä¸šçº§é¡¹ç›®` | `å…¼é¡¾ä¸¤è€…ä¼˜åŠ¿` | `éœ€è¦è§„èŒƒçº¦å®š` |

### 1.3 é…ç½®æ–‡ä»¶ç»“æ„


```yaml
# MyBatis-Plusé…ç½®å…¨æ™¯å›¾
mybatis-plus:
  # ğŸ“ å…¨å±€é…ç½®
  global-config:
    db-config:
      # æ•°æ®åº“ç›¸å…³é…ç½®
    banner: true
    
  # ğŸ—ºï¸ æ˜ å°„é…ç½®  
  configuration:
    # SQLæ˜ å°„ç›¸å…³é…ç½®
    
  # ğŸ”Œ æ’ä»¶é…ç½®
  # (é€šè¿‡Javaä»£ç é…ç½®)
  
  # ğŸ¨ ç±»å‹å¤„ç†å™¨
  type-handlers-package: com.example.handler
  
  # ğŸ“ Mapperæ‰«æè·¯å¾„
  mapper-locations: classpath*:/mapper/**/*.xml
```

---

## 2. âš™ï¸ å…¨å±€é…ç½®è¯¦è§£


### 2.1 æ ¸å¿ƒå…¨å±€é…ç½®


**ä»€ä¹ˆæ˜¯å…¨å±€é…ç½®ï¼Ÿ**
```
ç±»æ¯”ï¼šå…¬å¸çš„è§„ç« åˆ¶åº¦
â€¢ é€‚ç”¨äºæ‰€æœ‰éƒ¨é—¨ï¼ˆè¡¨ï¼‰
â€¢ ç»Ÿä¸€çš„è¡Œä¸ºè§„èŒƒ
â€¢ å¯ä»¥è¢«ä¸ªåˆ«ç‰¹æ®Šæƒ…å†µè¦†ç›–

å…¨å±€é…ç½®å°±æ˜¯ç»™æ‰€æœ‰æ•°æ®è¡¨è®¾å®šç»Ÿä¸€çš„è§„åˆ™ï¼
```

#### ğŸ”¹ ä¸»é”®ç­–ç•¥é…ç½®


```yaml
mybatis-plus:
  global-config:
    db-config:
      # ä¸»é”®ç”Ÿæˆç­–ç•¥
      id-type: assign_id  # é›ªèŠ±ç®—æ³•ï¼ˆé»˜è®¤ï¼‰
```

**ä¸»é”®ç­–ç•¥è¯¦è§£**ï¼š

| ç­–ç•¥ç±»å‹ | **è¯´æ˜** | **ä½¿ç”¨åœºæ™¯** |
|---------|---------|------------|
| **AUTO** | `æ•°æ®åº“è‡ªå¢` | `MySQLè‡ªå¢ä¸»é”®` |
| **ASSIGN_ID** | `é›ªèŠ±ç®—æ³•` | `åˆ†å¸ƒå¼ç³»ç»Ÿï¼ˆæ¨èï¼‰` |
| **ASSIGN_UUID** | `UUIDå­—ç¬¦ä¸²` | `éœ€è¦å­—ç¬¦ä¸²ä¸»é”®` |
| **INPUT** | `æ‰‹åŠ¨è¾“å…¥` | `è‡ªå®šä¹‰ä¸»é”®å€¼` |

**é€šä¿—ç†è§£**ï¼š
```
AUTOï¼ˆæ•°æ®åº“è‡ªå¢ï¼‰ï¼š
å°±åƒé“¶è¡Œæ’é˜Ÿå–å·ï¼Œç³»ç»Ÿè‡ªåŠ¨åˆ†é…ï¼š1ã€2ã€3...
ä¼˜ç‚¹ï¼šç®€å•
ç¼ºç‚¹ï¼šåˆ†å¸ƒå¼ç³»ç»Ÿå¯èƒ½é‡å¤

ASSIGN_IDï¼ˆé›ªèŠ±ç®—æ³•ï¼‰ï¼š
å°±åƒèº«ä»½è¯å·ï¼ŒåŒ…å«æ—¶é—´ã€æœºå™¨ç ç­‰ä¿¡æ¯ï¼Œå…¨çƒå”¯ä¸€
ä¼˜ç‚¹ï¼šåˆ†å¸ƒå¼å®‰å…¨
ç¼ºç‚¹ï¼šæ•°å­—è¾ƒé•¿

ASSIGN_UUIDï¼ˆUUIDï¼‰ï¼š
å°±åƒæŒ‡çº¹ï¼Œæ¯ä¸ªéƒ½ç‹¬ä¸€æ— äºŒ
ä¼˜ç‚¹ï¼šç»å¯¹å”¯ä¸€
ç¼ºç‚¹ï¼šå­—ç¬¦ä¸²è¾ƒé•¿ï¼Œä¸è¿ç»­
```

#### ğŸ”¹ è¡¨åå‰ç¼€é…ç½®


```yaml
mybatis-plus:
  global-config:
    db-config:
      # è¡¨åå‰ç¼€ï¼ˆç»Ÿä¸€æ·»åŠ ï¼‰
      table-prefix: t_
      
      # ç¤ºä¾‹æ•ˆæœï¼š
      # User ç±» â†’ t_user è¡¨
      # Order ç±» â†’ t_order è¡¨
```

**å®é™…åº”ç”¨**ï¼š
```
åœºæ™¯ï¼šå…¬å¸æœ‰å¤šä¸ªç³»ç»Ÿå…±ç”¨ä¸€ä¸ªæ•°æ®åº“

ç³»ç»ŸAçš„è¡¨ï¼št_userã€t_order
ç³»ç»ŸBçš„è¡¨ï¼šb_userã€b_order
ç³»ç»ŸCçš„è¡¨ï¼šc_userã€c_order

é€šè¿‡table-prefixåŒºåˆ†ï¼Œé¿å…è¡¨åå†²çªï¼
```

#### ğŸ”¹ é€»è¾‘åˆ é™¤é…ç½®


```yaml
mybatis-plus:
  global-config:
    db-config:
      # é€»è¾‘åˆ é™¤æ ‡è®°
      logic-delete-field: deleted  # å­—æ®µå
      logic-delete-value: 1        # åˆ é™¤å€¼
      logic-not-delete-value: 0    # æœªåˆ é™¤å€¼
```

**é€»è¾‘åˆ é™¤åŸç†**ï¼š
```
ç‰©ç†åˆ é™¤ï¼ˆçœŸåˆ é™¤ï¼‰ï¼š
DELETE FROM user WHERE id = 1
âœ æ•°æ®ç›´æ¥ä»æ•°æ®åº“æ¶ˆå¤± âŒ

é€»è¾‘åˆ é™¤ï¼ˆå‡åˆ é™¤ï¼‰ï¼š
UPDATE user SET deleted = 1 WHERE id = 1
âœ æ•°æ®è¿˜åœ¨ï¼Œåªæ˜¯æ ‡è®°ä¸º"å·²åˆ é™¤" âœ…

å¥½å¤„ï¼š
â€¢ æ•°æ®å¯æ¢å¤ï¼ˆåæ‚”è¯ï¼‰
â€¢ ä¿ç•™å†å²è®°å½•
â€¢ å…³è”æ•°æ®ä¸å—å½±å“
```

**é…ç½®åçš„è‡ªåŠ¨è¡Œä¸º**ï¼š
```
åŸå§‹SQLï¼š
SELECT * FROM user

è‡ªåŠ¨è½¬æ¢ä¸ºï¼š
SELECT * FROM user WHERE deleted = 0

åŸå§‹SQLï¼š
DELETE FROM user WHERE id = 1

è‡ªåŠ¨è½¬æ¢ä¸ºï¼š
UPDATE user SET deleted = 1 WHERE id = 1
```

### 2.2 Banneré…ç½®


```yaml
mybatis-plus:
  global-config:
    # æ˜¯å¦æ˜¾ç¤ºå¯åŠ¨Banner
    banner: true  # trueæ˜¾ç¤º | falseå…³é—­
```

**Banneræ˜¯ä»€ä¹ˆï¼Ÿ**
```
å¯åŠ¨Spring Bootæ—¶æ§åˆ¶å°æ˜¾ç¤ºçš„å¤§å­—logoï¼š

 __  __       ____        _   _       ____  _
|  \/  |_   _| __ )  __ _| |_(_)___  |  _ \| |_   _ ___
| |\/| | | | |  _ \ / _` | __| / __| | |_) | | | | / __|
| |  | | |_| | |_) | (_| | |_| \__ \ |  __/| | |_| \__ \
|_|  |_|\__, |____/ \__,_|\__|_|___/ |_|   |_|\__,_|___/
        |___/

å°±åƒè½¯ä»¶çš„"å¼€æœºç”»é¢"ï¼Œå¯ä»¥å…³é—­èŠ‚çœæ—¥å¿—ç©ºé—´
```

### 2.3 å®Œæ•´å…¨å±€é…ç½®ç¤ºä¾‹


```yaml
mybatis-plus:
  global-config:
    # æ˜¯å¦æ˜¾ç¤ºBanner
    banner: true
    
    # æ•°æ®åº“é…ç½®
    db-config:
      # ä¸»é”®ç­–ç•¥
      id-type: assign_id
      
      # è¡¨åå‰ç¼€
      table-prefix: t_
      
      # å­—æ®µç­–ç•¥
      insert-strategy: not_null  # æ’å…¥æ—¶å¿½ç•¥nullå­—æ®µ
      update-strategy: not_null  # æ›´æ–°æ—¶å¿½ç•¥nullå­—æ®µ
      select-strategy: not_null  # æŸ¥è¯¢æ—¶å¿½ç•¥nullå­—æ®µ
      
      # é€»è¾‘åˆ é™¤
      logic-delete-field: deleted
      logic-delete-value: 1
      logic-not-delete-value: 0
      
      # å¤§å†™å‘½å
      capital-mode: false  # false: user_name | true: USER_NAME
```

---

## 3. ğŸ—ºï¸ æ˜ å°„é…ç½®é€‰é¡¹


### 3.1 ä»€ä¹ˆæ˜¯æ˜ å°„é…ç½®


**é€šä¿—ç†è§£**ï¼š
```
æ˜ å°„ = ç¿»è¯‘å®˜ ğŸŒ

Javaå¯¹è±¡ â†â†’ æ•°æ®åº“è¡¨
UserEntity   userè¡¨
  â†“ å­—æ®µæ˜ å°„ â†“
userName  â†â†’ user_name
userAge   â†â†’ user_age

æ˜ å°„é…ç½®å°±æ˜¯å‘Šè¯‰æ¡†æ¶"æ€ä¹ˆç¿»è¯‘"ï¼
```

### 3.2 æ ¸å¿ƒæ˜ å°„é…ç½®


#### ğŸ”¹ é©¼å³°å‘½åæ˜ å°„


```yaml
mybatis-plus:
  configuration:
    # é©¼å³°è½¬ä¸‹åˆ’çº¿
    map-underscore-to-camel-case: true
```

**è½¬æ¢è§„åˆ™**ï¼š
```
Javaå±æ€§ï¼ˆé©¼å³°ï¼‰  â†’  æ•°æ®åº“å­—æ®µï¼ˆä¸‹åˆ’çº¿ï¼‰
userName         â†’  user_name
orderId          â†’  order_id
createTime       â†’  create_time

è‡ªåŠ¨è½¬æ¢ï¼Œæ— éœ€æ‰‹åŠ¨æ˜ å°„ï¼
```

**å®é™…æ•ˆæœ**ï¼š
```
é…ç½®å‰ï¼šéœ€è¦æ‰‹åŠ¨æ˜ å°„
@TableField("user_name")
private String userName;

é…ç½®åï¼šè‡ªåŠ¨æ˜ å°„
private String userName;  // è‡ªåŠ¨å¯¹åº” user_name
```

#### ğŸ”¹ ç¼“å­˜é…ç½®


```yaml
mybatis-plus:
  configuration:
    # ä¸€çº§ç¼“å­˜ï¼ˆé»˜è®¤å¼€å¯ï¼‰
    local-cache-scope: session
    
    # äºŒçº§ç¼“å­˜ï¼ˆéœ€è¦æ‰‹åŠ¨å¼€å¯ï¼‰
    cache-enabled: true
```

**ç¼“å­˜å±‚çº§ç†è§£**ï¼š
```
ä¸€çº§ç¼“å­˜ï¼ˆSqlSessionçº§åˆ«ï¼‰ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ åŒä¸€æ¬¡ä¼šè¯  â”‚ â†’ æŸ¥è¯¢ç»“æœå­˜åœ¨å†…å­˜
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  ä¼šè¯å…³é—­ â†’ ç¼“å­˜æ¸…ç©º

äºŒçº§ç¼“å­˜ï¼ˆMapperçº§åˆ«ï¼‰ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ•´ä¸ªåº”ç”¨    â”‚ â†’ æ‰€æœ‰ä¼šè¯å…±äº«
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  åº”ç”¨é‡å¯ â†’ ç¼“å­˜æ¸…ç©º

å°±åƒï¼š
ä¸€çº§ç¼“å­˜ = ä½ çš„è´­ç‰©è½¦ï¼ˆç§äººï¼‰
äºŒçº§ç¼“å­˜ = è¶…å¸‚åº“å­˜ï¼ˆå…¬å…±ï¼‰
```

#### ğŸ”¹ æ‡’åŠ è½½é…ç½®


```yaml
mybatis-plus:
  configuration:
    # æ‡’åŠ è½½å¼€å…³
    lazy-loading-enabled: true
    
    # ç§¯æåŠ è½½ï¼ˆfalseæ¨èï¼‰
    aggressive-lazy-loading: false
```

**æ‡’åŠ è½½åŸç†**ï¼š
```
ä¸æ‡’åŠ è½½ï¼ˆç«‹å³åŠ è½½ï¼‰ï¼š
æŸ¥è¯¢ç”¨æˆ· â†’ åŒæ—¶æŸ¥è¯¢ç”¨æˆ·çš„è®¢å•ã€åœ°å€ã€æƒé™...
ä¸€æ¬¡æ€§å…¨éƒ¨åŠ è½½ï¼Œæ•°æ®é‡å¤§ ğŸ“¦ğŸ“¦ğŸ“¦

æ‡’åŠ è½½ï¼ˆæŒ‰éœ€åŠ è½½ï¼‰ï¼š
æŸ¥è¯¢ç”¨æˆ· â†’ åªæŸ¥ç”¨æˆ·åŸºæœ¬ä¿¡æ¯
éœ€è¦è®¢å•æ—¶ â†’ å†æŸ¥è®¢å•ä¿¡æ¯
éœ€è¦ä»€ä¹ˆæŸ¥ä»€ä¹ˆï¼ŒèŠ‚çœèµ„æº ğŸ“¦

å°±åƒçœ‹ç”µè§†ï¼š
ç«‹å³åŠ è½½ = ä¸‹è½½æ•´éƒ¨ç”µè§†å‰§
æ‡’åŠ è½½ = åœ¨çº¿æ’­æ”¾ï¼Œçœ‹ä¸€é›†åŠ è½½ä¸€é›†
```

#### ğŸ”¹ æ—¥å¿—é…ç½®


```yaml
mybatis-plus:
  configuration:
    # SQLæ—¥å¿—è¾“å‡º
    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl
```

**æ—¥å¿—ç±»å‹å¯¹æ¯”**ï¼š

| æ—¥å¿—å®ç° | **è¯´æ˜** | **ä½¿ç”¨åœºæ™¯** |
|---------|---------|------------|
| **StdOutImpl** | `æ§åˆ¶å°è¾“å‡º` | `å¼€å‘è°ƒè¯•` |
| **Log4j2Impl** | `Log4j2æ—¥å¿—` | `ç”Ÿäº§ç¯å¢ƒ` |
| **Slf4jImpl** | `SLF4Jæ—¥å¿—` | `é€šç”¨æ—¥å¿—æ¡†æ¶` |
| **NoLoggingImpl** | `ä¸è¾“å‡ºæ—¥å¿—` | `æ€§èƒ½ä¼˜åŒ–` |

**æ—¥å¿—è¾“å‡ºç¤ºä¾‹**ï¼š
```sql
-- æ§åˆ¶å°ä¼šæ˜¾ç¤ºï¼š
==>  Preparing: SELECT id,user_name,age FROM t_user WHERE id=?
==> Parameters: 1(Long)
<==      Total: 1

å¼€å‘æ—¶ï¼šçœ‹åˆ°SQLæ‰§è¡Œç»†èŠ‚ï¼Œæ–¹ä¾¿è°ƒè¯• ğŸ”
ç”Ÿäº§æ—¶ï¼šå…³é—­æˆ–ä½¿ç”¨æ–‡ä»¶æ—¥å¿—ï¼Œé¿å…æ€§èƒ½æŸè€— âš¡
```

### 3.3 å®Œæ•´æ˜ å°„é…ç½®ç¤ºä¾‹


```yaml
mybatis-plus:
  configuration:
    # é©¼å³°å‘½åè½¬æ¢
    map-underscore-to-camel-case: true
    
    # ç¼“å­˜é…ç½®
    cache-enabled: true
    local-cache-scope: session
    
    # æ‡’åŠ è½½é…ç½®
    lazy-loading-enabled: true
    aggressive-lazy-loading: false
    
    # è¿”å›å€¼å¤„ç†
    use-generated-keys: true  # æ”¯æŒä¸»é”®å›å†™
    
    # æ—¥å¿—é…ç½®
    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl
    
    # è¶…æ—¶è®¾ç½®
    default-statement-timeout: 30  # SQLæ‰§è¡Œè¶…æ—¶ï¼ˆç§’ï¼‰
```

---

## 4. ğŸ”Œ æ’ä»¶é…ç½®å‚æ•°


### 4.1 ä»€ä¹ˆæ˜¯MyBatis-Plusæ’ä»¶


**å½¢è±¡ç†è§£**ï¼š
```
åŸºç¡€åŠŸèƒ½ = æ‰‹æœº
æ’ä»¶ = æ‰‹æœºå£³ã€é’¢åŒ–è†œã€å……ç”µå®...

MyBatis-Plusæ ¸å¿ƒåŠŸèƒ½ + æ’ä»¶ = å¢å¼ºç‰ˆæ¡†æ¶

æ’ä»¶å¯ä»¥ï¼š
â€¢ åˆ†é¡µæŸ¥è¯¢
â€¢ æ€§èƒ½åˆ†æ
â€¢ é˜²æ­¢å…¨è¡¨æ“ä½œ
â€¢ å¤šç§Ÿæˆ·éš”ç¦»
â€¢ ...
```

### 4.2 åˆ†é¡µæ’ä»¶é…ç½®


**Javaé…ç½®æ–¹å¼**ï¼š

```java
@Configuration
public class MybatisPlusConfig {
    
    @Bean
    public MybatisPlusInterceptor paginationInterceptor() {
        MybatisPlusInterceptor interceptor = new MybatisPlusInterceptor();
        
        // åˆ†é¡µæ’ä»¶
        PaginationInnerInterceptor paginationInner = 
            new PaginationInnerInterceptor(DbType.MYSQL);
        
        // å•é¡µæœ€å¤§æ•°é‡é™åˆ¶ï¼ˆé˜²æ­¢å†…å­˜æº¢å‡ºï¼‰
        paginationInner.setMaxLimit(1000L);
        
        // æº¢å‡ºå¤„ç†ï¼ˆè¶…è¿‡æ€»é¡µæ•°æ—¶ï¼‰
        paginationInner.setOverflow(false);
        
        interceptor.addInnerInterceptor(paginationInner);
        return interceptor;
    }
}
```

**åˆ†é¡µå‚æ•°è¯¦è§£**ï¼š

```yaml
# åˆ†é¡µé…ç½®è¯´æ˜
åˆ†é¡µå‚æ•°:
  maxLimit: 1000          # å•é¡µæœ€å¤§æ•°é‡
  overflow: false         # æº¢å‡ºå¤„ç†
  optimizeJoin: true      # ä¼˜åŒ–JOINåˆ†é¡µ
  dbType: MYSQL          # æ•°æ®åº“ç±»å‹
```

**å®é™…æ•ˆæœå¯¹æ¯”**ï¼š
```
ä¸è®¾ç½®maxLimitï¼š
ç”¨æˆ·è¯·æ±‚ï¼šæ¯é¡µ10000æ¡
ç³»ç»Ÿï¼šæ‰§è¡ŒæŸ¥è¯¢ï¼ˆå¯èƒ½å†…å­˜æº¢å‡ºï¼‰ âŒ

è®¾ç½®maxLimit=1000ï¼š
ç”¨æˆ·è¯·æ±‚ï¼šæ¯é¡µ10000æ¡
ç³»ç»Ÿï¼šè‡ªåŠ¨é™åˆ¶ä¸º1000æ¡ âœ…
```

### 4.3 æ€§èƒ½åˆ†ææ’ä»¶


```java
@Configuration
public class MybatisPlusConfig {
    
    @Bean
    @Profile({"dev", "test"})  // ä»…å¼€å‘/æµ‹è¯•ç¯å¢ƒ
    public PerformanceInterceptor performanceInterceptor() {
        PerformanceInterceptor interceptor = new PerformanceInterceptor();
        
        // SQLæ‰§è¡Œæ—¶é—´ä¸Šé™ï¼ˆæ¯«ç§’ï¼‰
        interceptor.setMaxTime(1000);
        
        // æ ¼å¼åŒ–SQL
        interceptor.setFormat(true);
        
        return interceptor;
    }
}
```

**æ€§èƒ½åˆ†æä½œç”¨**ï¼š
```
ç›‘æ§SQLæ‰§è¡Œæ—¶é—´ â±ï¸

ç¤ºä¾‹è¾“å‡ºï¼š
Time: 523ms - SQL: 
SELECT id, user_name, age 
FROM t_user 
WHERE age > 18

ä½œç”¨ï¼š
â€¢ å‘ç°æ…¢SQL
â€¢ ä¼˜åŒ–æŸ¥è¯¢æ€§èƒ½
â€¢ å®šä½æ€§èƒ½ç“¶é¢ˆ

æ³¨æ„ï¼šç”Ÿäº§ç¯å¢ƒå¿…é¡»å…³é—­ï¼ä¼šå½±å“æ€§èƒ½
```

### 4.4 é˜²å…¨è¡¨æ›´æ–°æ’ä»¶


```java
@Bean
public MybatisPlusInterceptor blockUpdateInterceptor() {
    MybatisPlusInterceptor interceptor = new MybatisPlusInterceptor();
    
    // é˜»æ­¢å…¨è¡¨æ›´æ–°/åˆ é™¤
    interceptor.addInnerInterceptor(new BlockAttackInnerInterceptor());
    
    return interceptor;
}
```

**é˜²æŠ¤æœºåˆ¶**ï¼š
```
å±é™©æ“ä½œï¼ˆè¢«é˜»æ­¢ï¼‰ï¼š
UPDATE user SET age = 18           // æ— WHEREæ¡ä»¶
DELETE FROM user                   // æ— WHEREæ¡ä»¶

å®‰å…¨æ“ä½œï¼ˆæ­£å¸¸æ‰§è¡Œï¼‰ï¼š
UPDATE user SET age = 18 WHERE id = 1
DELETE FROM user WHERE id = 1

å°±åƒï¼š
å…¨è¡¨æ“ä½œ = æ ¸å¼¹æŒ‰é’® â˜¢ï¸
æ’ä»¶ä½œç”¨ = å®‰å…¨é” ğŸ”’
é˜²æ­¢è¯¯æ“ä½œå¯¼è‡´æ•°æ®ç¾éš¾ï¼
```

### 4.5 å¤šç§Ÿæˆ·æ’ä»¶é…ç½®


```java
@Bean
public MybatisPlusInterceptor tenantInterceptor() {
    MybatisPlusInterceptor interceptor = new MybatisPlusInterceptor();
    
    TenantLineInnerInterceptor tenantLine = new TenantLineInnerInterceptor();
    
    // ç§Ÿæˆ·å­—æ®µå
    tenantLine.setTenantLineHandler(new TenantLineHandler() {
        @Override
        public Expression getTenantId() {
            // ä»ä¸Šä¸‹æ–‡è·å–ç§Ÿæˆ·ID
            return new LongValue(TenantContext.getTenantId());
        }
        
        @Override
        public String getTenantIdColumn() {
            return "tenant_id";  // ç§Ÿæˆ·å­—æ®µå
        }
    });
    
    interceptor.addInnerInterceptor(tenantLine);
    return interceptor;
}
```

**å¤šç§Ÿæˆ·åŸç†**ï¼š
```
åœºæ™¯ï¼šSaaSç³»ç»Ÿï¼Œå¤šä¸ªå…¬å¸å…±ç”¨ä¸€å¥—ç³»ç»Ÿ

å…¬å¸Açš„æ•°æ®ï¼štenant_id = 1
å…¬å¸Bçš„æ•°æ®ï¼štenant_id = 2
å…¬å¸Cçš„æ•°æ®ï¼štenant_id = 3

åŸå§‹SQLï¼š
SELECT * FROM user

è‡ªåŠ¨è½¬æ¢ä¸ºï¼š
SELECT * FROM user WHERE tenant_id = 1

æ•ˆæœï¼šå…¬å¸Aåªèƒ½çœ‹åˆ°è‡ªå·±çš„æ•°æ®ï¼Œå¤©ç„¶æ•°æ®éš”ç¦»ï¼
```

### 4.6 æ’ä»¶é…ç½®å®Œæ•´ç¤ºä¾‹


```java
@Configuration
public class MybatisPlusConfig {
    
    @Bean
    public MybatisPlusInterceptor mybatisPlusInterceptor() {
        MybatisPlusInterceptor interceptor = new MybatisPlusInterceptor();
        
        // 1. å¤šç§Ÿæˆ·æ’ä»¶ï¼ˆæ”¾æœ€å‰é¢ï¼‰
        interceptor.addInnerInterceptor(tenantInterceptor());
        
        // 2. åˆ†é¡µæ’ä»¶
        interceptor.addInnerInterceptor(paginationInterceptor());
        
        // 3. é˜²å…¨è¡¨æ“ä½œæ’ä»¶
        interceptor.addInnerInterceptor(new BlockAttackInnerInterceptor());
        
        // 4. ä¹è§‚é”æ’ä»¶
        interceptor.addInnerInterceptor(new OptimisticLockerInnerInterceptor());
        
        return interceptor;
    }
}
```

**æ’ä»¶æ‰§è¡Œé¡ºåº**ï¼š
```
SQLæ‰§è¡Œæµç¨‹ï¼š

åŸå§‹SQL
   â†“
ã€å¤šç§Ÿæˆ·æ’ä»¶ã€‘æ·»åŠ  tenant_id æ¡ä»¶
   â†“
ã€åˆ†é¡µæ’ä»¶ã€‘æ·»åŠ  LIMIT åˆ†é¡µ
   â†“
ã€é˜²å…¨è¡¨æ’ä»¶ã€‘æ£€æŸ¥ WHERE æ¡ä»¶
   â†“
ã€ä¹è§‚é”æ’ä»¶ã€‘æ·»åŠ  version æ£€æŸ¥
   â†“
æœ€ç»ˆSQL â†’ æ•°æ®åº“æ‰§è¡Œ

é¡ºåºå¾ˆé‡è¦ï¼æ’ä»¶æŒ‰é¡ºåºæ‰§è¡Œ
```

---

## 5. ğŸ¨ è‡ªå®šä¹‰é…ç½®æ‰©å±•


### 5.1 è‡ªå®šä¹‰ç±»å‹å¤„ç†å™¨


**ä»€ä¹ˆæ˜¯ç±»å‹å¤„ç†å™¨ï¼Ÿ**
```
ç±»æ¯”ï¼šç¿»è¯‘å®˜çš„ä¸“ä¸šæœ¯è¯­è¯å…¸

Javaç±»å‹ â†â†’ æ•°æ®åº“ç±»å‹
String   â†â†’ VARCHAR
Integer  â†â†’ INT

ä½†é‡åˆ°ç‰¹æ®Šç±»å‹ï¼š
JSONå¯¹è±¡ â†â†’ TEXT
æšä¸¾ç±»å‹ â†â†’ VARCHAR

éœ€è¦è‡ªå®šä¹‰å¤„ç†å™¨å‘Šè¯‰æ¡†æ¶"æ€ä¹ˆè½¬æ¢"ï¼
```

**è‡ªå®šä¹‰JSONå¤„ç†å™¨**ï¼š

```java
// 1. åˆ›å»ºå¤„ç†å™¨
@MappedTypes(UserInfo.class)
@MappedJdbcTypes(JdbcType.VARCHAR)
public class JsonTypeHandler extends BaseTypeHandler<UserInfo> {
    
    @Override
    public void setNonNullParameter(PreparedStatement ps, int i, 
                                    UserInfo parameter, JdbcType jdbcType) {
        // Javaå¯¹è±¡ â†’ JSONå­—ç¬¦ä¸² â†’ æ•°æ®åº“
        ps.setString(i, JSON.toJSONString(parameter));
    }
    
    @Override
    public UserInfo getNullableResult(ResultSet rs, String columnName) {
        // æ•°æ®åº“ â†’ JSONå­—ç¬¦ä¸² â†’ Javaå¯¹è±¡
        String json = rs.getString(columnName);
        return JSON.parseObject(json, UserInfo.class);
    }
    
    // ... å…¶ä»–æ–¹æ³•
}
```

```yaml
# 2. é…ç½®å¤„ç†å™¨åŒ…è·¯å¾„
mybatis-plus:
  type-handlers-package: com.example.handler
```

**å®é™…åº”ç”¨**ï¼š
```
æ•°æ®åº“å­—æ®µï¼šuser_info VARCHAR(500)
å­˜å‚¨å†…å®¹ï¼š"{"name":"å¼ ä¸‰","age":25}"

Javaå¯¹è±¡ï¼š
private UserInfo userInfo;

æŸ¥è¯¢æ—¶ï¼šJSONå­—ç¬¦ä¸²è‡ªåŠ¨è½¬ä¸ºUserInfoå¯¹è±¡
ä¿å­˜æ—¶ï¼šUserInfoå¯¹è±¡è‡ªåŠ¨è½¬ä¸ºJSONå­—ç¬¦ä¸²

æ— éœ€æ‰‹åŠ¨è½¬æ¢ï¼
```

### 5.2 è‡ªå®šä¹‰SQLæ³¨å…¥å™¨


**ä»€ä¹ˆæ˜¯SQLæ³¨å…¥å™¨ï¼Ÿ**
```
MyBatis-Plusæä¾›äº†å¾ˆå¤šé€šç”¨æ–¹æ³•ï¼š
â€¢ insert()
â€¢ selectById()
â€¢ updateById()
â€¢ ...

ä½†æœ‰æ—¶éœ€è¦è‡ªå®šä¹‰é€šç”¨æ–¹æ³•ï¼š
â€¢ insertBatch()     æ‰¹é‡æ’å…¥
â€¢ selectByIds()     æ‰¹é‡æŸ¥è¯¢
â€¢ logicDeleteBatch() æ‰¹é‡é€»è¾‘åˆ é™¤

SQLæ³¨å…¥å™¨å°±æ˜¯ç”¨æ¥"æ³¨å…¥"è¿™äº›è‡ªå®šä¹‰æ–¹æ³•ï¼
```

**è‡ªå®šä¹‰æ³¨å…¥å™¨ç¤ºä¾‹**ï¼š

```java
// 1. è‡ªå®šä¹‰æ‰¹é‡æ’å…¥æ–¹æ³•
public class InsertBatchMethod extends AbstractMethod {
    
    @Override
    public MappedStatement injectMappedStatement(Class<?> mapperClass, 
                                                 Class<?> modelClass, 
                                                 TableInfo tableInfo) {
        // æ„å»ºæ‰¹é‡æ’å…¥SQL
        String sql = "<script>INSERT INTO " + tableInfo.getTableName() + 
                    " (id, name) VALUES " +
                    "<foreach collection='list' item='item' separator=','>" +
                    "(#{item.id}, #{item.name})" +
                    "</foreach></script>";
        
        // æ³¨å…¥åˆ°MyBatis
        SqlSource sqlSource = languageDriver.createSqlSource(
            configuration, sql, modelClass);
        
        return addInsertMappedStatement(mapperClass, modelClass, 
            "insertBatch", sqlSource, new NoKeyGenerator(), null, null);
    }
}
```

```java
// 2. è‡ªå®šä¹‰SQLæ³¨å…¥å™¨
public class CustomSqlInjector extends DefaultSqlInjector {
    
    @Override
    public List<AbstractMethod> getMethodList(Class<?> mapperClass) {
        List<AbstractMethod> methodList = super.getMethodList(mapperClass);
        
        // æ·»åŠ è‡ªå®šä¹‰æ–¹æ³•
        methodList.add(new InsertBatchMethod());
        
        return methodList;
    }
}
```

```java
// 3. é…ç½®è‡ªå®šä¹‰æ³¨å…¥å™¨
@Bean
public CustomSqlInjector customSqlInjector() {
    return new CustomSqlInjector();
}
```

**ä½¿ç”¨æ•ˆæœ**ï¼š
```java
// æ‰€æœ‰Mapperè‡ªåŠ¨æ‹¥æœ‰æ‰¹é‡æ’å…¥æ–¹æ³•
public interface UserMapper extends BaseMapper<User> {
    // è‡ªåŠ¨æ³¨å…¥çš„è‡ªå®šä¹‰æ–¹æ³•
    int insertBatch(List<User> userList);
}

// ä½¿ç”¨
List<User> users = Arrays.asList(user1, user2, user3);
userMapper.insertBatch(users);  // ä¸€æ¡SQLæ’å…¥å¤šæ¡æ•°æ®
```

### 5.3 è‡ªå®šä¹‰å…ƒæ•°æ®å¤„ç†å™¨


**å…ƒæ•°æ®å¤„ç†å™¨ä½œç”¨**ï¼š
```
è‡ªåŠ¨å¡«å……å­—æ®µå€¼

åœºæ™¯ï¼šæ¯ä¸ªè¡¨éƒ½æœ‰è¿™äº›å­—æ®µ
â€¢ create_time  åˆ›å»ºæ—¶é—´
â€¢ update_time  æ›´æ–°æ—¶é—´
â€¢ create_by    åˆ›å»ºäºº
â€¢ update_by    æ›´æ–°äºº

æ‰‹åŠ¨å¡«å……ï¼š
user.setCreateTime(new Date());
user.setCreateBy("admin");
userMapper.insert(user);

è‡ªåŠ¨å¡«å……ï¼š
userMapper.insert(user);  // è‡ªåŠ¨è®¾ç½®æ—¶é—´å’Œåˆ›å»ºäºº
```

**é…ç½®è‡ªåŠ¨å¡«å……**ï¼š

```java
@Component
public class MyMetaObjectHandler implements MetaObjectHandler {
    
    @Override
    public void insertFill(MetaObject metaObject) {
        // æ’å…¥æ—¶è‡ªåŠ¨å¡«å……
        this.strictInsertFill(metaObject, "createTime", 
                             LocalDateTime.class, LocalDateTime.now());
        this.strictInsertFill(metaObject, "updateTime", 
                             LocalDateTime.class, LocalDateTime.now());
        
        // ä»ä¸Šä¸‹æ–‡è·å–å½“å‰ç”¨æˆ·
        String currentUser = SecurityContextHolder.getCurrentUser();
        this.strictInsertFill(metaObject, "createBy", 
                             String.class, currentUser);
        this.strictInsertFill(metaObject, "updateBy", 
                             String.class, currentUser);
    }
    
    @Override
    public void updateFill(MetaObject metaObject) {
        // æ›´æ–°æ—¶è‡ªåŠ¨å¡«å……
        this.strictUpdateFill(metaObject, "updateTime", 
                             LocalDateTime.class, LocalDateTime.now());
        
        String currentUser = SecurityContextHolder.getCurrentUser();
        this.strictUpdateFill(metaObject, "updateBy", 
                             String.class, currentUser);
    }
}
```

```java
// å®ä½“ç±»æ ‡æ³¨è‡ªåŠ¨å¡«å……å­—æ®µ
@Data
public class User {
    private Long id;
    private String name;
    
    @TableField(fill = FieldFill.INSERT)
    private LocalDateTime createTime;
    
    @TableField(fill = FieldFill.INSERT_UPDATE)
    private LocalDateTime updateTime;
    
    @TableField(fill = FieldFill.INSERT)
    private String createBy;
    
    @TableField(fill = FieldFill.INSERT_UPDATE)
    private String updateBy;
}
```

**è‡ªåŠ¨å¡«å……æ—¶æœº**ï¼š

| å¡«å……ç­–ç•¥ | **è¯´æ˜** | **è§¦å‘æ—¶æœº** |
|---------|---------|------------|
| **INSERT** | `ä»…æ’å…¥æ—¶å¡«å……` | `insert()` |
| **UPDATE** | `ä»…æ›´æ–°æ—¶å¡«å……` | `update()` |
| **INSERT_UPDATE** | `æ’å…¥å’Œæ›´æ–°éƒ½å¡«å……` | `insert() / update()` |

---

## 6. ğŸŒ ç¯å¢ƒå˜é‡é…ç½®


### 6.1 å¤šç¯å¢ƒé…ç½®ç­–ç•¥


**é…ç½®æ–‡ä»¶ç»“æ„**ï¼š
```
application.yml           # å…¬å…±é…ç½®
application-dev.yml       # å¼€å‘ç¯å¢ƒ
application-test.yml      # æµ‹è¯•ç¯å¢ƒ
application-prod.yml      # ç”Ÿäº§ç¯å¢ƒ

å°±åƒï¼š
å…¬å…±é…ç½® = åŸºç¡€æ¬¾æ±½è½¦
ç¯å¢ƒé…ç½® = ä¸åŒé…ç½®åŒ…ï¼ˆèˆ’é€‚ç‰ˆã€è¿åŠ¨ç‰ˆã€è±ªåç‰ˆï¼‰
```

**å…¬å…±é…ç½®**ï¼ˆ`application.yml`ï¼‰ï¼š
```yaml
spring:
  profiles:
    active: @profileActive@  # MavenåŠ¨æ€æ›¿æ¢
    
mybatis-plus:
  # æ‰€æœ‰ç¯å¢ƒé€šç”¨é…ç½®
  mapper-locations: classpath*:/mapper/**/*.xml
  type-aliases-package: com.example.entity
  
  global-config:
    db-config:
      id-type: assign_id
      logic-delete-field: deleted
```

**å¼€å‘ç¯å¢ƒé…ç½®**ï¼ˆ`application-dev.yml`ï¼‰ï¼š
```yaml
mybatis-plus:
  configuration:
    # å¼€å‘ç¯å¢ƒï¼šå¼€å¯SQLæ—¥å¿—
    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl
    
  global-config:
    # å¼€å‘ç¯å¢ƒï¼šæ˜¾ç¤ºBanner
    banner: true
```

**ç”Ÿäº§ç¯å¢ƒé…ç½®**ï¼ˆ`application-prod.yml`ï¼‰ï¼š
```yaml
mybatis-plus:
  configuration:
    # ç”Ÿäº§ç¯å¢ƒï¼šå…³é—­SQLæ—¥å¿—
    log-impl: org.apache.ibatis.logging.nologging.NoLoggingImpl
    
    # å¼€å¯äºŒçº§ç¼“å­˜
    cache-enabled: true
    
  global-config:
    # ç”Ÿäº§ç¯å¢ƒï¼šå…³é—­Banner
    banner: false
```

### 6.2 ç¯å¢ƒå˜é‡ä¼˜å…ˆçº§


**é…ç½®åŠ è½½é¡ºåº**ï¼ˆä¼˜å…ˆçº§ä»é«˜åˆ°ä½ï¼‰ï¼š
```
1. å‘½ä»¤è¡Œå‚æ•°
   java -jar app.jar --mybatis-plus.global-config.banner=false

2. ç³»ç»Ÿç¯å¢ƒå˜é‡
   export MYBATIS_PLUS_GLOBAL_CONFIG_BANNER=false

3. application-{profile}.yml
   application-prod.yml

4. application.yml
   é€šç”¨é…ç½®

5. é»˜è®¤å€¼
   æ¡†æ¶é»˜è®¤é…ç½®

ä¼˜å…ˆçº§é«˜çš„è¦†ç›–ä¼˜å…ˆçº§ä½çš„
```

**å®é™…åº”ç”¨**ï¼š
```yaml
# application.ymlï¼ˆé»˜è®¤ï¼‰
mybatis-plus:
  global-config:
    banner: true

# application-prod.ymlï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰
mybatis-plus:
  global-config:
    banner: false

# å‘½ä»¤è¡Œå¯åŠ¨ï¼ˆæœ€é«˜ä¼˜å…ˆçº§ï¼‰
java -jar app.jar --spring.profiles.active=prod

ç»“æœï¼šç”Ÿäº§ç¯å¢ƒbannerä¸ºfalse
```

### 6.3 æ•æ„Ÿé…ç½®å¤–éƒ¨åŒ–


**é…ç½®ä¸­å¿ƒæ–¹æ¡ˆ**ï¼š
```
é…ç½®å­˜å‚¨ä½ç½®æ¼”è¿›ï¼š

é˜¶æ®µ1ï¼šå†™æ­»åœ¨ä»£ç ï¼ˆç¡¬ç¼–ç ï¼‰âŒ
String password = "123456";

é˜¶æ®µ2ï¼šé…ç½®æ–‡ä»¶ï¼ˆapplication.ymlï¼‰âš ï¸
spring.datasource.password: 123456

é˜¶æ®µ3ï¼šç¯å¢ƒå˜é‡ âœ…
export DB_PASSWORD=123456

é˜¶æ®µ4ï¼šé…ç½®ä¸­å¿ƒï¼ˆNacos/Apolloï¼‰âœ…âœ…
é›†ä¸­ç®¡ç†ã€åŠ¨æ€æ›´æ–°ã€æƒé™æ§åˆ¶
```

**ä½¿ç”¨é…ç½®ä¸­å¿ƒ**ï¼š
```yaml
# bootstrap.yml
spring:
  cloud:
    nacos:
      config:
        server-addr: localhost:8848
        namespace: prod
        group: mybatis-plus

# é…ç½®å­˜å‚¨åœ¨Nacos
mybatis-plus:
  global-config:
    db-config:
      table-prefix: ${table.prefix:t_}  # ä»é…ç½®ä¸­å¿ƒè¯»å–
```

**é…ç½®åŠ¨æ€åˆ·æ–°**ï¼š
```java
@RefreshScope  // æ”¯æŒé…ç½®åŠ¨æ€åˆ·æ–°
@Configuration
public class MybatisPlusConfig {
    
    @Value("${mybatis-plus.global-config.banner}")
    private Boolean banner;
    
    // é…ç½®ä¸­å¿ƒä¿®æ”¹åï¼Œæ— éœ€é‡å¯å³å¯ç”Ÿæ•ˆ
}
```

### 6.4 ç¯å¢ƒé…ç½®æœ€ä½³å®è·µ


**é…ç½®åˆ†å±‚ç­–ç•¥**ï¼š

| é…ç½®ç±»å‹ | **å­˜å‚¨ä½ç½®** | **ç¤ºä¾‹** |
|---------|------------|---------|
| **é€šç”¨é…ç½®** | `application.yml` | `mapperæ‰«æè·¯å¾„ã€å®ä½“åŒ…è·¯å¾„` |
| **ç¯å¢ƒå·®å¼‚** | `application-{env}.yml` | `æ—¥å¿—çº§åˆ«ã€ç¼“å­˜å¼€å…³` |
| **æ•æ„Ÿä¿¡æ¯** | `é…ç½®ä¸­å¿ƒ/ç¯å¢ƒå˜é‡` | `æ•°æ®åº“å¯†ç ã€å¯†é’¥` |
| **ä¸šåŠ¡å¼€å…³** | `é…ç½®ä¸­å¿ƒ` | `åŠŸèƒ½å¼€å…³ã€é™çº§å¼€å…³` |

**é…ç½®å®‰å…¨å»ºè®®**ï¼š
```
âœ… æ¨èåšæ³•ï¼š
â€¢ æ•æ„Ÿä¿¡æ¯ä½¿ç”¨é…ç½®ä¸­å¿ƒæˆ–ç¯å¢ƒå˜é‡
â€¢ é…ç½®æ–‡ä»¶ä¸æäº¤å¯†ç åˆ°Git
â€¢ ç”Ÿäº§é…ç½®æƒé™æ§åˆ¶
â€¢ é…ç½®å˜æ›´æœ‰å®¡è®¡æ—¥å¿—

âŒ é¿å…åšæ³•ï¼š
â€¢ å¯†ç æ˜æ–‡å†™åœ¨é…ç½®æ–‡ä»¶
â€¢ é…ç½®æ–‡ä»¶ç›´æ¥æäº¤åˆ°Git
â€¢ æ‰€æœ‰äººéƒ½èƒ½ä¿®æ”¹ç”Ÿäº§é…ç½®
â€¢ é…ç½®éšæ„ä¿®æ”¹æ— è®°å½•
```

---

## 7. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 7.1 å¿…é¡»æŒæ¡çš„é…ç½®


```yaml
# æ ¸å¿ƒé…ç½®é€Ÿè®°
mybatis-plus:
  # å…¨å±€é…ç½®
  global-config:
    db-config:
      id-type: assign_id        # ä¸»é”®ç­–ç•¥
      table-prefix: t_          # è¡¨åå‰ç¼€
      logic-delete-field: deleted  # é€»è¾‘åˆ é™¤
      
  # æ˜ å°„é…ç½®
  configuration:
    map-underscore-to-camel-case: true  # é©¼å³°è½¬æ¢
    log-impl: StdOutImpl                # SQLæ—¥å¿—
    cache-enabled: true                 # äºŒçº§ç¼“å­˜
    
  # æ‰«æé…ç½®
  mapper-locations: classpath*:/mapper/**/*.xml
  type-aliases-package: com.example.entity
```

### 7.2 é…ç½®é€‰æ‹©å»ºè®®


**å¼€å‘ç¯å¢ƒæ¨èé…ç½®**ï¼š
- âœ… å¼€å¯SQLæ—¥å¿—ï¼ˆæ–¹ä¾¿è°ƒè¯•ï¼‰
- âœ… æ˜¾ç¤ºBannerï¼ˆæ˜ç¡®ç‰ˆæœ¬ï¼‰
- âœ… å…³é—­ç¼“å­˜ï¼ˆé¿å…è„æ•°æ®ï¼‰
- âœ… å¼€å¯æ€§èƒ½åˆ†ææ’ä»¶

**ç”Ÿäº§ç¯å¢ƒæ¨èé…ç½®**ï¼š
- âœ… å…³é—­SQLæ—¥å¿—ï¼ˆæ€§èƒ½ä¼˜åŒ–ï¼‰
- âœ… éšè—Bannerï¼ˆç®€åŒ–æ—¥å¿—ï¼‰
- âœ… å¼€å¯äºŒçº§ç¼“å­˜ï¼ˆæå‡æ€§èƒ½ï¼‰
- âœ… å¼€å¯é˜²å…¨è¡¨æ’ä»¶ï¼ˆå®‰å…¨ä¿éšœï¼‰

### 7.3 å¸¸è§é…ç½®è¯¯åŒº


**è¯¯åŒº1ï¼šæ‰€æœ‰ç¯å¢ƒç”¨åŒä¸€å¥—é…ç½®**
```
âŒ é”™è¯¯ï¼š
æ‰€æœ‰ç¯å¢ƒéƒ½å¼€å¯SQLæ—¥å¿—
â†’ ç”Ÿäº§ç¯å¢ƒæ€§èƒ½ä¸‹é™ï¼Œæ—¥å¿—çˆ†ç‚¸

âœ… æ­£ç¡®ï¼š
å¼€å‘ç¯å¢ƒå¼€å¯æ—¥å¿—
ç”Ÿäº§ç¯å¢ƒå…³é—­æ—¥å¿—
```

**è¯¯åŒº2ï¼šè¿‡åº¦ä¾èµ–å…¨å±€é…ç½®**
```
âŒ é”™è¯¯ï¼š
æ‰€æœ‰è¡¨éƒ½ç”¨å…¨å±€çš„table-prefix
â†’ æŸäº›è¡¨éœ€è¦ç‰¹æ®Šå¤„ç†æ—¶å¾ˆéº»çƒ¦

âœ… æ­£ç¡®ï¼š
å…¨å±€é…ç½® + ç‰¹æ®Šè¡¨ç”¨@TableNameå•ç‹¬é…ç½®
```

**è¯¯åŒº3ï¼šæ•æ„Ÿé…ç½®å†™åœ¨ä»£ç ä¸­**
```
âŒ é”™è¯¯ï¼š
é…ç½®æ–‡ä»¶ä¸­æ˜æ–‡å­˜å‚¨æ•°æ®åº“å¯†ç 
â†’ å®‰å…¨éšæ‚£

âœ… æ­£ç¡®ï¼š
ä½¿ç”¨ç¯å¢ƒå˜é‡æˆ–é…ç½®ä¸­å¿ƒ
â†’ å¯†ç åŠ å¯†å­˜å‚¨
```

### 7.4 é…ç½®ä¼˜åŒ–å»ºè®®


**æ€§èƒ½ä¼˜åŒ–é…ç½®**ï¼š
```yaml
mybatis-plus:
  configuration:
    # æ‡’åŠ è½½ï¼ˆå‡å°‘æ•°æ®æŸ¥è¯¢ï¼‰
    lazy-loading-enabled: true
    
    # äºŒçº§ç¼“å­˜ï¼ˆå‡å°‘æ•°æ®åº“è®¿é—®ï¼‰
    cache-enabled: true
    
    # æ‰¹é‡æ“ä½œï¼ˆå‡å°‘ç½‘ç»œå¾€è¿”ï¼‰
    default-executor-type: batch
```

**å®‰å…¨åŠ å›ºé…ç½®**ï¼š
```java
// é˜²å…¨è¡¨æ“ä½œ
interceptor.addInnerInterceptor(new BlockAttackInnerInterceptor());

// æ•°æ®æƒé™æ§åˆ¶
interceptor.addInnerInterceptor(new DataPermissionInterceptor());

// SQLæ³¨å…¥é˜²æŠ¤ï¼ˆæ¡†æ¶è‡ªå¸¦ï¼‰
```

### 7.5 æ ¸å¿ƒè®°å¿†å£è¯€


```
ğŸ“ é…ç½®è®°å¿†å£è¯€ï¼š

å…¨å±€é…ç½®å®šè§„åˆ™ï¼Œæ‰€æœ‰è¡¨éƒ½éµå®ˆ
æ˜ å°„é…ç½®åšç¿»è¯‘ï¼ŒJavaå¯¹è±¡å˜æ•°æ®åº“
æ’ä»¶é…ç½®åŠ åŠŸèƒ½ï¼Œåˆ†é¡µå®‰å…¨å’Œæ€§èƒ½
è‡ªå®šä¹‰æ‰©å±•å¼ºï¼Œç±»å‹å¤„ç†å’Œæ³¨å…¥å™¨
å¤šç¯å¢ƒåˆ†å¼€ç®¡ï¼Œå¼€å‘ç”Ÿäº§ä¸ä¸€æ ·
æ•æ„Ÿé…ç½®è¦ä¿æŠ¤ï¼Œç¯å¢ƒå˜é‡é…ç½®ä¸­å¿ƒ
```

**æ ¸å¿ƒè¦ç‚¹**ï¼š
1. ğŸ¯ **MybatisPlusProperties**æ˜¯ç»Ÿä¸€é…ç½®å…¥å£
2. âš™ï¸ **å…¨å±€é…ç½®**å½±å“æ‰€æœ‰è¡¨çš„é»˜è®¤è¡Œä¸º
3. ğŸ—ºï¸ **æ˜ å°„é…ç½®**æ§åˆ¶Javaä¸æ•°æ®åº“çš„è½¬æ¢è§„åˆ™
4. ğŸ”Œ **æ’ä»¶é…ç½®**æä¾›åˆ†é¡µã€æ€§èƒ½ã€å®‰å…¨ç­‰å¢å¼ºåŠŸèƒ½
5. ğŸ¨ **è‡ªå®šä¹‰æ‰©å±•**æ»¡è¶³ç‰¹æ®Šä¸šåŠ¡éœ€æ±‚
6. ğŸŒ **å¤šç¯å¢ƒé…ç½®**å®ç°å¼€å‘ã€æµ‹è¯•ã€ç”Ÿäº§çš„å·®å¼‚åŒ–ç®¡ç†
7. ğŸ”’ **å®‰å…¨é…ç½®**åŒ…æ‹¬é˜²å…¨è¡¨æ“ä½œã€æ•æ„Ÿä¿¡æ¯ä¿æŠ¤
8. ğŸ“Š **æ€§èƒ½ä¼˜åŒ–**é€šè¿‡ç¼“å­˜ã€æ‡’åŠ è½½ã€æ‰¹é‡æ“ä½œæå‡æ•ˆç‡