---
title: 33ã€ç”Ÿæˆå™¨åŸºç¡€é…ç½®
---
## ğŸ“š ç›®å½•


1. [ä»£ç ç”Ÿæˆå™¨æ¦‚è¿°](#1-ä»£ç ç”Ÿæˆå™¨æ¦‚è¿°)
2. [AutoGeneratorç”Ÿæˆå™¨](#2-AutoGeneratorç”Ÿæˆå™¨)
3. [æ•°æ®æºé…ç½®](#3-æ•°æ®æºé…ç½®)
4. [åŒ…åä¸è·¯å¾„é…ç½®](#4-åŒ…åä¸è·¯å¾„é…ç½®)
5. [æ¨¡æ¿å¼•æ“é€‰æ‹©](#5-æ¨¡æ¿å¼•æ“é€‰æ‹©)
6. [ç”Ÿæˆç­–ç•¥é…ç½®](#6-ç”Ÿæˆç­–ç•¥é…ç½®)
7. [è¾“å‡ºç›®å½•è®¾ç½®](#7-è¾“å‡ºç›®å½•è®¾ç½®)
8. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#8-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ¯ ä»£ç ç”Ÿæˆå™¨æ¦‚è¿°



### 1.1 ä»€ä¹ˆæ˜¯ä»£ç ç”Ÿæˆå™¨



**é€šä¿—ç†è§£**ï¼šå°±åƒä¸€ä¸ª"ä»£ç åˆ¶é€ æœºå™¨"ï¼Œä½ å‘Šè¯‰å®ƒæ•°æ®åº“è¡¨çš„ä¿¡æ¯ï¼Œå®ƒå°±è‡ªåŠ¨å¸®ä½ ç”Ÿæˆæ‰€æœ‰éœ€è¦çš„Javaä»£ç æ–‡ä»¶ã€‚

```
ä¼ ç»Ÿå¼€å‘æ–¹å¼ï¼š                     ä½¿ç”¨ä»£ç ç”Ÿæˆå™¨ï¼š
ç¨‹åºå‘˜æ‰‹å†™ â†’                       æ•°æ®åº“è¡¨ â†’
  â”œâ”€ å®ä½“ç±»(Entity)                  â†“
  â”œâ”€ Mapperæ¥å£                    è‡ªåŠ¨ç”Ÿæˆ â†’
  â”œâ”€ Serviceæ¥å£                     â”œâ”€ Entity
  â”œâ”€ ServiceImplå®ç°                 â”œâ”€ Mapper
  â””â”€ Controlleræ§åˆ¶å™¨                â”œâ”€ Service
                                     â”œâ”€ ServiceImpl
                                     â””â”€ Controller

å·¥ä½œé‡ï¼šå‡ å°æ—¶                      å·¥ä½œé‡ï¼šå‡ åˆ†é’Ÿ
```

### 1.2 ä¸ºä»€ä¹ˆè¦ç”¨ä»£ç ç”Ÿæˆå™¨



**æ ¸å¿ƒä»·å€¼**ï¼š
- ğŸš€ **æé«˜æ•ˆç‡**ï¼šå‡ åˆ†é’Ÿå®ŒæˆåŸæœ¬å‡ å°æ—¶çš„å·¥ä½œ
- âœ… **å‡å°‘é”™è¯¯**ï¼šé¿å…æ‰‹å†™ä»£ç çš„æ‹¼å†™å’Œæ ¼å¼é”™è¯¯
- ğŸ”„ **ç»Ÿä¸€è§„èŒƒ**ï¼šæ‰€æœ‰ä»£ç é£æ ¼å®Œå…¨ä¸€è‡´
- ğŸ› ï¸ **å¿«é€Ÿè¿­ä»£**ï¼šæ•°æ®åº“æ”¹äº†ï¼Œé‡æ–°ç”Ÿæˆå³å¯

**å®é™…åœºæ™¯**ï¼š
```
å‡è®¾ä½ æœ‰ä¸€ä¸ªç”¨æˆ·è¡¨(user)ï¼ŒåŒ…å«ï¼š
- idï¼ˆä¸»é”®ï¼‰
- usernameï¼ˆç”¨æˆ·åï¼‰
- emailï¼ˆé‚®ç®±ï¼‰
- create_timeï¼ˆåˆ›å»ºæ—¶é—´ï¼‰

æ‰‹åŠ¨ç¼–å†™éœ€è¦ï¼š
1. åˆ›å»ºUserå®ä½“ç±»ï¼ˆå­—æ®µã€getter/setterã€toStringç­‰ï¼‰
2. åˆ›å»ºUserMapperæ¥å£ï¼ˆCRUDæ–¹æ³•ï¼‰
3. åˆ›å»ºUserServiceæ¥å£ï¼ˆä¸šåŠ¡æ–¹æ³•ï¼‰
4. åˆ›å»ºUserServiceImplå®ç°ç±»ï¼ˆå…·ä½“é€»è¾‘ï¼‰
5. å¯èƒ½è¿˜è¦Controllerå±‚

ä½¿ç”¨ç”Ÿæˆå™¨ï¼š
é…ç½®ä¸€æ¬¡ â†’ ç‚¹å‡»è¿è¡Œ â†’ æ‰€æœ‰æ–‡ä»¶è‡ªåŠ¨ç”Ÿæˆå®Œæ¯•ï¼
```

### 1.3 ä»£ç ç”Ÿæˆå™¨çš„å·¥ä½œåŸç†



**å·¥ä½œæµç¨‹å›¾**ï¼š
```
[1]è¿æ¥æ•°æ®åº“ â†’ [2]è¯»å–è¡¨ç»“æ„ â†’ [3]è§£æå­—æ®µä¿¡æ¯ â†’ [4]å¥—ç”¨æ¨¡æ¿ â†’ [5]ç”Ÿæˆä»£ç æ–‡ä»¶
     â†“               â†“               â†“              â†“            â†“
  æ•°æ®æºé…ç½®      è·å–è¡¨ååˆ—      å­—æ®µç±»å‹æ˜ å°„    æ¨¡æ¿å¼•æ“     è¾“å‡ºåˆ°ç£ç›˜
                   å­—æ®µååˆ—è¡¨      Javaç±»å‹       (Velocity/
                   ä¸»é”®ä¿¡æ¯                       Freemarker)
```

**æ ¸å¿ƒæœºåˆ¶**ï¼š
- **æ•°æ®åº“å…ƒæ•°æ®è·å–**ï¼šé€šè¿‡JDBCè¯»å–æ•°æ®åº“è¡¨ç»“æ„
- **æ¨¡æ¿å¼•æ“æ¸²æŸ“**ï¼šç”¨é¢„è®¾æ¨¡æ¿å¡«å……å®é™…æ•°æ®
- **æ–‡ä»¶IOæ“ä½œ**ï¼šå°†ç”Ÿæˆçš„ä»£ç å†™å…¥æŒ‡å®šç›®å½•

---

## 2. âš™ï¸ AutoGeneratorç”Ÿæˆå™¨



### 2.1 AutoGeneratoræ˜¯ä»€ä¹ˆ



**æœ¬è´¨**ï¼šMyBatis-Plusæä¾›çš„**ä»£ç ç”Ÿæˆä¸»æ§ç±»**ï¼Œè´Ÿè´£åè°ƒæ•´ä¸ªç”Ÿæˆè¿‡ç¨‹ã€‚

**ç±»æ¯”ç†è§£**ï¼š
```
å°±åƒä¸€ä¸ªå·¥å‚çš„æ€»è°ƒåº¦ä¸­å¿ƒï¼š
- ä½ ï¼ˆå¼€å‘è€…ï¼‰æ˜¯è€æ¿ï¼Œæä¾›éœ€æ±‚
- AutoGeneratoræ˜¯å‚é•¿ï¼Œè´Ÿè´£åè°ƒ
- å„ç§é…ç½®æ˜¯è½¦é—´ï¼ˆæ•°æ®æºã€æ¨¡æ¿ã€ç­–ç•¥ç­‰ï¼‰
- æœ€ç»ˆäº§å“æ˜¯ç”Ÿæˆçš„ä»£ç æ–‡ä»¶
```

### 2.2 åŸºç¡€ä½¿ç”¨ç¤ºä¾‹



```java
// ç¬¬ä¸€æ­¥ï¼šå¼•å…¥ä¾èµ–ï¼ˆpom.xmlï¼‰
<dependency>
    <groupId>com.baomidou</groupId>
    <artifactId>mybatis-plus-generator</artifactId>
    <version>3.5.3</version>
</dependency>

// ç¬¬äºŒæ­¥ï¼šåˆ›å»ºç”Ÿæˆå™¨å¯¹è±¡
public class CodeGenerator {
    public static void main(String[] args) {
        // åˆ›å»ºä»£ç ç”Ÿæˆå™¨å®ä¾‹
        AutoGenerator mpg = new AutoGenerator();
        
        // é…ç½®å„ç§è®¾ç½®ï¼ˆåé¢è¯¦ç»†è®²è§£ï¼‰
        mpg.setGlobalConfig(gc);      // å…¨å±€é…ç½®
        mpg.setDataSource(dsc);        // æ•°æ®æºé…ç½®
        mpg.setPackageInfo(pc);        // åŒ…é…ç½®
        mpg.setStrategy(strategy);     // ç­–ç•¥é…ç½®
        mpg.setTemplateEngine(new VelocityTemplateEngine()); // æ¨¡æ¿å¼•æ“
        
        // æ‰§è¡Œç”Ÿæˆ
        mpg.execute();
        
        System.out.println("ä»£ç ç”Ÿæˆå®Œæˆï¼");
    }
}
```

> ğŸ’¡ **æ–°æ‰‹æç¤º**ï¼š`AutoGenerator`å°±åƒä¸€ä¸ªå¤§å®¹å™¨ï¼Œä½ å¾€é‡Œé¢å¡å„ç§é…ç½®ï¼Œæœ€åè°ƒç”¨`execute()`å°±å¼€å§‹å¹²æ´»äº†ã€‚

### 2.3 AutoGeneratorçš„æ ¸å¿ƒé…ç½®é¡¹



**é…ç½®ä½“ç³»**ï¼š
```
AutoGenerator
  â”œâ”€ GlobalConfig        å…¨å±€é…ç½®ï¼ˆä½œè€…ã€è¾“å‡ºè·¯å¾„ç­‰ï¼‰
  â”œâ”€ DataSourceConfig    æ•°æ®æºé…ç½®ï¼ˆæ•°æ®åº“è¿æ¥ï¼‰
  â”œâ”€ PackageConfig       åŒ…åé…ç½®ï¼ˆç”Ÿæˆçš„ä»£ç æ”¾å“ªä¸ªåŒ…ï¼‰
  â”œâ”€ StrategyConfig      ç­–ç•¥é…ç½®ï¼ˆç”Ÿæˆå“ªäº›è¡¨ã€æ€ä¹ˆç”Ÿæˆï¼‰
  â””â”€ TemplateEngine      æ¨¡æ¿å¼•æ“ï¼ˆç”¨ä»€ä¹ˆæ¨¡æ¿ï¼‰
```

---

## 3. ğŸ”Œ æ•°æ®æºé…ç½®



### 3.1 æ•°æ®æºé…ç½®çš„ä½œç”¨



**æ ¸å¿ƒåŠŸèƒ½**ï¼šå‘Šè¯‰ç”Ÿæˆå™¨è¦è¿æ¥å“ªä¸ªæ•°æ®åº“ï¼Œä»å“ªé‡Œè¯»å–è¡¨ç»“æ„ä¿¡æ¯ã€‚

**é€šä¿—è§£é‡Š**ï¼š
```
ä½ è¦ç”Ÿæˆä»£ç  â†’ å¿…é¡»çŸ¥é“æ•°æ®åº“è¡¨é•¿ä»€ä¹ˆæ ·
æ€ä¹ˆçŸ¥é“ï¼Ÿ â†’ è¿æ¥æ•°æ®åº“å»è¯»å–
æ€ä¹ˆè¿æ¥ï¼Ÿ â†’ æ•°æ®æºé…ç½®å‘Šè¯‰ç¨‹åºï¼š
  - æ•°æ®åº“åœ°å€åœ¨å“ªï¼ˆURLï¼‰
  - ç”¨ä»€ä¹ˆè´¦å·å¯†ç ï¼ˆusername/passwordï¼‰
  - æ˜¯ä»€ä¹ˆç±»å‹çš„æ•°æ®åº“ï¼ˆMySQL/Oracleç­‰ï¼‰
```

### 3.2 æ•°æ®æºé…ç½®è¯¦è§£



```java
// åˆ›å»ºæ•°æ®æºé…ç½®å¯¹è±¡
DataSourceConfig dsc = new DataSourceConfig();

// å¿…å¡«é¡¹ï¼šæ•°æ®åº“è¿æ¥ä¿¡æ¯
dsc.setUrl("jdbc:mysql://localhost:3306/my_database?useUnicode=true&characterEncoding=utf8");
dsc.setDriverName("com.mysql.cj.jdbc.Driver");
dsc.setUsername("root");
dsc.setPassword("123456");

// å¯é€‰é¡¹ï¼šæ•°æ®åº“ç±»å‹ï¼ˆä¼šè‡ªåŠ¨è¯†åˆ«ï¼Œä¹Ÿå¯ä»¥æ‰‹åŠ¨æŒ‡å®šï¼‰
dsc.setDbType(DbType.MYSQL);
```

**å‚æ•°è¯´æ˜**ï¼š

| å‚æ•° | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| **url** | `æ•°æ®åº“è¿æ¥åœ°å€` | `jdbc:mysql://localhost:3306/æ•°æ®åº“å` |
| **driverName** | `æ•°æ®åº“é©±åŠ¨ç±»å` | MySQL8ç”¨`com.mysql.cj.jdbc.Driver` |
| **username** | `æ•°æ®åº“è´¦å·` | é€šå¸¸æ˜¯`root` |
| **password** | `æ•°æ®åº“å¯†ç ` | ä½ çš„æ•°æ®åº“å¯†ç  |
| **dbType** | `æ•°æ®åº“ç±»å‹` | `DbType.MYSQL`/`ORACLE`/`SQL_SERVER`ç­‰ |

### 3.3 ä¸åŒæ•°æ®åº“çš„é…ç½®ç¤ºä¾‹



**MySQLé…ç½®**ï¼š
```java
DataSourceConfig dsc = new DataSourceConfig();
dsc.setUrl("jdbc:mysql://localhost:3306/test_db?serverTimezone=GMT%2B8");
dsc.setDriverName("com.mysql.cj.jdbc.Driver");
dsc.setUsername("root");
dsc.setPassword("root");
```

**PostgreSQLé…ç½®**ï¼š
```java
DataSourceConfig dsc = new DataSourceConfig();
dsc.setUrl("jdbc:postgresql://localhost:5432/test_db");
dsc.setDriverName("org.postgresql.Driver");
dsc.setUsername("postgres");
dsc.setPassword("123456");
dsc.setDbType(DbType.POSTGRE_SQL);
```

**Oracleé…ç½®**ï¼š
```java
DataSourceConfig dsc = new DataSourceConfig();
dsc.setUrl("jdbc:oracle:thin:@localhost:1521:orcl");
dsc.setDriverName("oracle.jdbc.OracleDriver");
dsc.setUsername("system");
dsc.setPassword("oracle");
dsc.setDbType(DbType.ORACLE);
```

> âš ï¸ **æ³¨æ„äº‹é¡¹**ï¼šä¸åŒæ•°æ®åº“çš„é©±åŠ¨åŒ…è¦æå‰åœ¨pom.xmlä¸­å¼•å…¥ï¼Œå¦åˆ™ä¼šæŠ¥`ClassNotFoundException`é”™è¯¯ã€‚

---

## 4. ğŸ“¦ åŒ…åä¸è·¯å¾„é…ç½®



### 4.1 åŒ…åé…ç½®çš„ä½œç”¨



**æ ¸å¿ƒåŠŸèƒ½**ï¼šå†³å®šç”Ÿæˆçš„ä»£ç æ–‡ä»¶æ”¾åœ¨å“ªä¸ªJavaåŒ…ä¸‹é¢ã€‚

**é€šä¿—ç†è§£**ï¼š
```
Javaé¡¹ç›®ç»“æ„ï¼š
src/main/java
  â””â”€ com.example.demo       â† è¿™æ˜¯åŒ…å
       â”œâ”€ entity            â† å®ä½“ç±»åŒ…
       â”œâ”€ mapper            â† Mapperæ¥å£åŒ…
       â”œâ”€ service           â† Serviceæ¥å£åŒ…
       â””â”€ controller        â† ControlleråŒ…

åŒ…åé…ç½®å°±æ˜¯å‘Šè¯‰ç”Ÿæˆå™¨ï¼š
"ä½ ç”Ÿæˆçš„ä»£ç è¦æ”¾åˆ°com.example.demoè¿™ä¸ªåŒ…ä¸‹é¢"
```

### 4.2 åŒ…åé…ç½®è¯¦è§£



```java
// åˆ›å»ºåŒ…é…ç½®å¯¹è±¡
PackageConfig pc = new PackageConfig();

// çˆ¶åŒ…åï¼ˆæ‰€æœ‰å­åŒ…çš„å…¬å…±å‰ç¼€ï¼‰
pc.setParent("com.example.demo");

// å„å±‚ä»£ç çš„åŒ…åï¼ˆå¯é€‰ï¼Œæœ‰é»˜è®¤å€¼ï¼‰
pc.setEntity("entity");           // å®ä½“ç±»åŒ…åï¼Œé»˜è®¤entity
pc.setMapper("mapper");           // Mapperæ¥å£åŒ…åï¼Œé»˜è®¤mapper
pc.setService("service");         // Serviceæ¥å£åŒ…åï¼Œé»˜è®¤service
pc.setServiceImpl("service.impl"); // Serviceå®ç°ç±»åŒ…åï¼Œé»˜è®¤service.impl
pc.setController("controller");   // ControlleråŒ…åï¼Œé»˜è®¤controller

// XMLæ–‡ä»¶è·¯å¾„ï¼ˆMapper.xmlæ–‡ä»¶ï¼‰
pc.setXml("mapper.xml");          // é»˜è®¤æ”¾åœ¨resources/mapperä¸‹
```

**ç”Ÿæˆç»“æœç¤ºä¾‹**ï¼š
```
è®¾ç½®çˆ¶åŒ…ä¸ºï¼šcom.example.demo
è®¾ç½®entityåŒ…ä¸ºï¼šentity

åˆ™Userå®ä½“ç±»ä¼šç”Ÿæˆåœ¨ï¼š
src/main/java/com/example/demo/entity/User.java

UserMapperæ¥å£ä¼šç”Ÿæˆåœ¨ï¼š
src/main/java/com/example/demo/mapper/UserMapper.java

UserMapper.xmlä¼šç”Ÿæˆåœ¨ï¼š
src/main/resources/mapper/UserMapper.xml
```

### 4.3 è‡ªå®šä¹‰åŒ…åç­–ç•¥



**åœºæ™¯1ï¼šå¤šæ¨¡å—é¡¹ç›®**
```java
// å‡è®¾é¡¹ç›®ç»“æ„ï¼š
// project-parent
//   â”œâ”€ project-entity    ï¼ˆå®ä½“æ¨¡å—ï¼‰
//   â”œâ”€ project-dao       ï¼ˆæ•°æ®è®¿é—®æ¨¡å—ï¼‰
//   â””â”€ project-service   ï¼ˆä¸šåŠ¡æ¨¡å—ï¼‰

// å¯ä»¥åˆ†åˆ«ç”Ÿæˆåˆ°ä¸åŒæ¨¡å—
PackageConfig pc1 = new PackageConfig();
pc1.setParent("com.example");
pc1.setModuleName("entity");  // æ¨¡å—å
// ç”Ÿæˆè·¯å¾„ï¼šcom.example.entity.User

PackageConfig pc2 = new PackageConfig();
pc2.setParent("com.example");
pc2.setModuleName("dao");
// ç”Ÿæˆè·¯å¾„ï¼šcom.example.dao.UserMapper
```

**åœºæ™¯2ï¼šä¸šåŠ¡æ¨¡å—åˆ’åˆ†**
```java
// æŒ‰ä¸šåŠ¡æ¨¡å—ç»„ç»‡ä»£ç 
PackageConfig pc = new PackageConfig();
pc.setParent("com.example.system");  // ç³»ç»Ÿç®¡ç†æ¨¡å—
pc.setEntity("domain");              // é¢†åŸŸå¯¹è±¡
pc.setMapper("repository");          // ä»“å‚¨å±‚
// ç”Ÿæˆï¼šcom.example.system.domain.User
//      com.example.system.repository.UserRepository
```

---

## 5. ğŸ¨ æ¨¡æ¿å¼•æ“é€‰æ‹©



### 5.1 ä»€ä¹ˆæ˜¯æ¨¡æ¿å¼•æ“



**é€šä¿—è§£é‡Š**ï¼š
```
æ¨¡æ¿å¼•æ“å°±åƒä¸€ä¸ª"å¡«ç©ºé¢˜ç”Ÿæˆå™¨"ï¼š

æ¨¡æ¿æ–‡ä»¶ï¼ˆå¸¦å ä½ç¬¦ï¼‰ï¼š
public class ${className} {
    private ${type} ${fieldName};
}

æ•°æ®ï¼š
className = "User"
type = "String"
fieldName = "username"

æ¨¡æ¿å¼•æ“å¤„ç†åï¼š
public class User {
    private String username;
}
```

**æœ¬è´¨**ï¼šå°†æ•°æ®å¡«å……åˆ°é¢„å®šä¹‰çš„æ¨¡æ¿ä¸­ï¼Œç”Ÿæˆæœ€ç»ˆçš„ä»£ç æ–‡æœ¬ã€‚

### 5.2 æ”¯æŒçš„æ¨¡æ¿å¼•æ“ç±»å‹



MyBatis-Plusæ”¯æŒä¸‰ç§æ¨¡æ¿å¼•æ“ï¼š

| æ¨¡æ¿å¼•æ“ | ç‰¹ç‚¹ | ä½¿ç”¨åœºæ™¯ |
|---------|------|---------|
| **Velocity** | `å®˜æ–¹é»˜è®¤ï¼Œç¨³å®šæˆç†Ÿ` | æ¨èæ–°æ‰‹ä½¿ç”¨ |
| **Freemarker** | `åŠŸèƒ½å¼ºå¤§ï¼Œè¯­æ³•ä¸°å¯Œ` | å¤æ‚æ¨¡æ¿å®šåˆ¶ |
| **Beetl** | `æ€§èƒ½æœ€ä¼˜ï¼Œè¯­æ³•ç®€æ´` | æ€§èƒ½æ•æ„Ÿåœºæ™¯ |

### 5.3 æ¨¡æ¿å¼•æ“é…ç½®



**ä½¿ç”¨Velocityï¼ˆé»˜è®¤ï¼‰**ï¼š
```java
// ç¬¬ä¸€æ­¥ï¼šæ·»åŠ ä¾èµ–
<dependency>
    <groupId>org.apache.velocity</groupId>
    <artifactId>velocity-engine-core</artifactId>
    <version>2.3</version>
</dependency>

// ç¬¬äºŒæ­¥ï¼šè®¾ç½®æ¨¡æ¿å¼•æ“
AutoGenerator mpg = new AutoGenerator();
mpg.setTemplateEngine(new VelocityTemplateEngine());
```

**ä½¿ç”¨Freemarker**ï¼š
```java
// ä¾èµ–
<dependency>
    <groupId>org.freemarker</groupId>
    <artifactId>freemarker</artifactId>
    <version>2.3.31</version>
</dependency>

// è®¾ç½®
mpg.setTemplateEngine(new FreemarkerTemplateEngine());
```

**ä½¿ç”¨Beetl**ï¼š
```java
// ä¾èµ–
<dependency>
    <groupId>com.ibeetl</groupId>
    <artifactId>beetl</artifactId>
    <version>3.3.2</version>
</dependency>

// è®¾ç½®
mpg.setTemplateEngine(new BeetlTemplateEngine());
```

> ğŸ’¡ **æ–°æ‰‹å»ºè®®**ï¼šç›´æ¥ç”¨é»˜è®¤çš„Velocityå³å¯ï¼Œç®€å•å¤Ÿç”¨ã€‚åªæœ‰éœ€è¦é«˜åº¦å®šåˆ¶æ¨¡æ¿æ—¶æ‰è€ƒè™‘å…¶ä»–å¼•æ“ã€‚

### 5.4 è‡ªå®šä¹‰æ¨¡æ¿



**æ¨¡æ¿æ–‡ä»¶ä½ç½®**ï¼š
```
é¡¹ç›®æ ¹ç›®å½•
â””â”€ src/main/resources
    â””â”€ templates         â† è‡ªå®šä¹‰æ¨¡æ¿æ–‡ä»¶å¤¹
        â”œâ”€ entity.java.vm      ï¼ˆå®ä½“ç±»æ¨¡æ¿ï¼‰
        â”œâ”€ mapper.java.vm      ï¼ˆMapperæ¥å£æ¨¡æ¿ï¼‰
        â””â”€ service.java.vm     ï¼ˆServiceæ¥å£æ¨¡æ¿ï¼‰
```

**è‡ªå®šä¹‰æ¨¡æ¿é…ç½®**ï¼š
```java
TemplateConfig tc = new TemplateConfig();

// æŒ‡å®šè‡ªå®šä¹‰æ¨¡æ¿è·¯å¾„ï¼ˆä¸å†™æ–‡ä»¶åç¼€ï¼‰
tc.setEntity("templates/entity.java");
tc.setMapper("templates/mapper.java");
tc.setService("templates/service.java");

// ä¸ç”ŸæˆæŸäº›æ–‡ä»¶ï¼Œè®¾ç½®ä¸ºnull
tc.setController(null);  // ä¸ç”ŸæˆController

mpg.setTemplate(tc);
```

**ç®€å•çš„è‡ªå®šä¹‰æ¨¡æ¿ç¤ºä¾‹**ï¼š
```velocity
# entity.java.vm è‡ªå®šä¹‰å®ä½“ç±»æ¨¡æ¿


package ${package.Entity};

import lombok.Data;
import com.baomidou.mybatisplus.annotation.*;

/**
 * ${table.comment!} å®ä½“ç±»
 * @author ${author}
 * @since ${date}
 */
@Data
@TableName("${table.name}")
public class ${entity} {
    
#    ## ä¸»é”®å­—æ®µ
#    #foreach($field in ${table.fields})
#    #if(${field.keyFlag})
    @TableId(type = IdType.AUTO)
#    #end
    private ${field.propertyType} ${field.propertyName};
#    #end
}
```

---

## 6. ğŸ› ï¸ ç”Ÿæˆç­–ç•¥é…ç½®



### 6.1 ç­–ç•¥é…ç½®çš„ä½œç”¨



**æ ¸å¿ƒåŠŸèƒ½**ï¼šæ§åˆ¶ä»£ç ç”Ÿæˆçš„ç»†èŠ‚è§„åˆ™ï¼Œæ¯”å¦‚ç”Ÿæˆå“ªäº›è¡¨ã€å­—æ®µå¦‚ä½•å‘½åã€æ˜¯å¦ä½¿ç”¨Lombokç­‰ã€‚

**é…ç½®ç»´åº¦**ï¼š
```
StrategyConfig ç­–ç•¥é…ç½®
  â”œâ”€ è¡¨é€‰æ‹©ç­–ç•¥      â† ç”Ÿæˆå“ªäº›è¡¨
  â”œâ”€ å‘½åç­–ç•¥        â† ç±»åã€å­—æ®µåå¦‚ä½•è½¬æ¢
  â”œâ”€ å­—æ®µç­–ç•¥        â† å“ªäº›å­—æ®µè¦ç”Ÿæˆ
  â”œâ”€ å®ä½“ç­–ç•¥        â† å®ä½“ç±»çš„ç‰¹æ€§ï¼ˆLombokã€é“¾å¼ç­‰ï¼‰
  â””â”€ Controllerç­–ç•¥  â† Controllerå±‚çš„ç‰¹æ€§
```

### 6.2 è¡¨é€‰æ‹©ç­–ç•¥



```java
StrategyConfig strategy = new StrategyConfig();

// æ–¹å¼1ï¼šæŒ‡å®šè¦ç”Ÿæˆçš„è¡¨ï¼ˆæ¨èï¼‰
strategy.setInclude("user", "role", "permission");

// æ–¹å¼2ï¼šæŒ‡å®šè¦æ’é™¤çš„è¡¨
strategy.setExclude("log", "temp_table");

// æ–¹å¼3ï¼šä½¿ç”¨æ­£åˆ™åŒ¹é…è¡¨å
strategy.setLikeTable(new LikeTable("t_"));  // ç”Ÿæˆæ‰€æœ‰t_å¼€å¤´çš„è¡¨

// è¡¨å‰ç¼€å»é™¤ï¼ˆuserè¡¨ç”ŸæˆUserç±»ï¼Œè€Œä¸æ˜¯TUserç±»ï¼‰
strategy.setTablePrefix("t_", "sys_");
```

**å®é™…åº”ç”¨**ï¼š
```
æ•°æ®åº“è¡¨ï¼št_user, t_role, sys_config, log_info

é…ç½®ï¼š
strategy.setInclude("t_user", "t_role");  // åªç”Ÿæˆè¿™ä¸¤ä¸ªè¡¨
strategy.setTablePrefix("t_", "sys_");    // å»æ‰å‰ç¼€

ç”Ÿæˆç»“æœï¼š
t_user    â†’ User.java      âœ“
t_role    â†’ Role.java      âœ“
sys_config â†’ (ä¸ç”Ÿæˆ)       âœ—
log_info   â†’ (ä¸ç”Ÿæˆ)       âœ—
```

### 6.3 å‘½åç­–ç•¥



```java
// æ•°æ®åº“è¡¨ååˆ°å®ä½“ç±»åçš„è½¬æ¢è§„åˆ™
strategy.setNaming(NamingStrategy.underline_to_camel);

// æ•°æ®åº“å­—æ®µååˆ°å®ä½“ç±»å±æ€§åçš„è½¬æ¢è§„åˆ™
strategy.setColumnNaming(NamingStrategy.underline_to_camel);
```

**å‘½åç­–ç•¥ç±»å‹**ï¼š

| ç­–ç•¥ | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| **underline_to_camel** | `ä¸‹åˆ’çº¿è½¬é©¼å³°` | user_name â†’ userName |
| **no_change** | `ä¸åšä»»ä½•æ”¹å˜` | user_name â†’ user_name |

**è½¬æ¢ç¤ºä¾‹**ï¼š
```
æ•°æ®åº“è¡¨ï¼šuser_info
å­—æ®µï¼šuser_name, create_time

ä½¿ç”¨ underline_to_camel ç­–ç•¥ï¼š
ç±»åï¼šUserInfo
å±æ€§ï¼šuserName, createTime

ä½¿ç”¨ no_change ç­–ç•¥ï¼š
ç±»åï¼šuser_info
å±æ€§ï¼šuser_name, create_time
```

### 6.4 å®ä½“ç±»ç­–ç•¥



```java
// å¼€å¯Lombokï¼ˆéœ€è¦é¡¹ç›®å·²å¼•å…¥Lombokä¾èµ–ï¼‰
strategy.setEntityLombokModel(true);

// å¼€å¯é“¾å¼è°ƒç”¨ï¼ˆuser.setName().setAge()ï¼‰
strategy.setChainModel(true);

// ç”Ÿæˆå­—æ®µå¸¸é‡ï¼ˆpublic static final String ID = "id"ï¼‰
strategy.setEntityColumnConstant(true);

// Booleanç±»å‹å­—æ®µå»æ‰iså‰ç¼€ï¼ˆis_deleted â†’ deletedï¼‰
strategy.setEntityBooleanColumnRemoveIsPrefix(true);

// ç”Ÿæˆå®ä½“æ—¶ç”Ÿæˆå­—æ®µæ³¨è§£
strategy.setEntityTableFieldAnnotationEnable(true);
```

**æ•ˆæœå¯¹æ¯”**ï¼š

```java
// ä¸ä½¿ç”¨ç­–ç•¥çš„å®ä½“ç±»
public class User {
    private Long id;
    private String userName;
    
    public Long getId() { return id; }
    public void setId(Long id) { this.id = id; }
    // ... å…¶ä»–getter/setter
}

// ä½¿ç”¨ç­–ç•¥åçš„å®ä½“ç±»
@Data                    // Lombokç­–ç•¥
@Accessors(chain = true) // é“¾å¼ç­–ç•¥
@TableName("user")
public class User {
    
    public static final String ID = "id";           // å­—æ®µå¸¸é‡
    public static final String USER_NAME = "user_name";
    
    @TableId(type = IdType.AUTO)
    private Long id;
    
    @TableField("user_name")  // å­—æ®µæ³¨è§£ç­–ç•¥
    private String userName;
}

// é“¾å¼è°ƒç”¨æ•ˆæœ
User user = new User()
    .setId(1L)
    .setUserName("å¼ ä¸‰");  // å¯ä»¥è¿ç»­è°ƒç”¨setæ–¹æ³•
```

### 6.5 Controllerç­–ç•¥



```java
// ç”Ÿæˆ@RestControllerï¼ˆé»˜è®¤æ˜¯@Controllerï¼‰
strategy.setRestControllerStyle(true);

// Controllerç±»åæ ¼å¼ï¼ˆ%sä¼šè¢«æ›¿æ¢ä¸ºå®ä½“åï¼‰
strategy.setControllerMappingHyphenStyle(true);  // é©¼å³°è½¬è¿å­—ç¬¦
```

**ç”Ÿæˆæ•ˆæœ**ï¼š
```java
// é»˜è®¤Controller
@Controller
@RequestMapping("/user")
public class UserController { }

// RestController + è¿å­—ç¬¦é£æ ¼
@RestController
@RequestMapping("/user-info")  // UserInfo â†’ user-info
public class UserInfoController { }
```

---

## 7. ğŸ“‚ è¾“å‡ºç›®å½•è®¾ç½®



### 7.1 å…¨å±€è¾“å‡ºé…ç½®



```java
GlobalConfig gc = new GlobalConfig();

// ä»£ç è¾“å‡ºçš„æ ¹ç›®å½•
gc.setOutputDir(System.getProperty("user.dir") + "/src/main/java");

// ä½œè€…åï¼ˆä¼šå‡ºç°åœ¨ç±»æ³¨é‡Šä¸­ï¼‰
gc.setAuthor("YourName");

// æ˜¯å¦æ‰“å¼€è¾“å‡ºç›®å½•ï¼ˆç”Ÿæˆå®Œæˆåè‡ªåŠ¨æ‰“å¼€æ–‡ä»¶å¤¹ï¼‰
gc.setOpen(false);

// æ˜¯å¦è¦†ç›–å·²æœ‰æ–‡ä»¶
gc.setFileOverride(true);

// æ—¥æœŸæ ¼å¼ï¼ˆç”¨äºæ³¨é‡Šä¸­çš„æ—¥æœŸï¼‰
gc.setDateType(DateType.ONLY_DATE);
```

### 7.2 å„å±‚æ–‡ä»¶è¾“å‡ºè·¯å¾„



**é»˜è®¤è¾“å‡ºè·¯å¾„**ï¼š
```
é¡¹ç›®æ ¹ç›®å½•
â””â”€ src/main/java          â† OutputDirè®¾ç½®çš„è·¯å¾„
    â””â”€ com.example.demo   â† PackageConfig.parent
        â”œâ”€ entity         â† å®ä½“ç±»
        â”œâ”€ mapper         â† Mapperæ¥å£
        â”œâ”€ service        â† Serviceæ¥å£
        â”‚   â””â”€ impl       â† Serviceå®ç°ç±»
        â””â”€ controller     â† Controller

â””â”€ src/main/resources
    â””â”€ mapper             â† XMLæ–‡ä»¶
```

**è‡ªå®šä¹‰è·¯å¾„é…ç½®**ï¼š
```java
// æ–¹å¼1ï¼šä½¿ç”¨GlobalConfigç»Ÿä¸€è®¾ç½®
GlobalConfig gc = new GlobalConfig();
gc.setOutputDir("D:/code-gen/java");  // æ‰€æœ‰Javaæ–‡ä»¶è¾“å‡ºåˆ°Dç›˜

// æ–¹å¼2ï¼šåˆ†å±‚è®¾ç½®è·¯å¾„ï¼ˆé«˜çº§ç”¨æ³•ï¼‰
Map<String, String> pathInfo = new HashMap<>();
pathInfo.put(ConstVal.ENTITY_PATH, "D:/project/entity/src/main/java");
pathInfo.put(ConstVal.MAPPER_PATH, "D:/project/dao/src/main/java");
pathInfo.put(ConstVal.SERVICE_PATH, "D:/project/service/src/main/java");
pathInfo.put(ConstVal.CONTROLLER_PATH, "D:/project/web/src/main/java");

PackageConfig pc = new PackageConfig();
pc.setPathInfo(pathInfo);
```

### 7.3 æ–‡ä»¶å‘½åæ ¼å¼



```java
GlobalConfig gc = new GlobalConfig();

// è‡ªå®šä¹‰å„å±‚æ–‡ä»¶åæ ¼å¼ï¼ˆ%sä¼šè¢«å®ä½“åæ›¿æ¢ï¼‰
gc.setMapperName("%sMapper");           // UserMapper
gc.setXmlName("%sMapper");              // UserMapper.xml
gc.setServiceName("%sService");         // UserService
gc.setServiceImplName("%sServiceImpl"); // UserServiceImpl
gc.setControllerName("%sController");   // UserController

// ä¸»é”®IDç±»å‹
gc.setIdType(IdType.AUTO);  // è‡ªå¢ID

// å¼€å¯Swaggeræ³¨è§£ï¼ˆéœ€è¦é¡¹ç›®å¼•å…¥Swaggerï¼‰
gc.setSwagger2(true);
```

**å‘½åæ•ˆæœ**ï¼š
```
æ•°æ®åº“è¡¨ï¼šuser

é»˜è®¤ç”Ÿæˆï¼š
- User.java
- UserMapper.java
- UserMapper.xml
- IUserService.java      â† æ³¨æ„é»˜è®¤æœ‰Iå‰ç¼€
- UserServiceImpl.java
- UserController.java

è‡ªå®šä¹‰åï¼š
gc.setServiceName("%sService");  // å»æ‰Iå‰ç¼€
- UserService.java
```

### 7.4 æ–‡ä»¶è¦†ç›–ç­–ç•¥



```java
GlobalConfig gc = new GlobalConfig();

// åœºæ™¯1ï¼šé¦–æ¬¡ç”Ÿæˆï¼ˆè¦†ç›–æ—§æ–‡ä»¶ï¼‰
gc.setFileOverride(true);

// åœºæ™¯2ï¼šå¢é‡æ›´æ–°ï¼ˆä¸è¦†ç›–å·²æœ‰æ–‡ä»¶ï¼‰
gc.setFileOverride(false);

// åœºæ™¯3ï¼šåªè¦†ç›–XMLæ–‡ä»¶
TemplateConfig tc = new TemplateConfig();
tc.setXml(null);  // ä¸ç”ŸæˆXMLï¼Œæ‰‹åŠ¨æ§åˆ¶
```

> âš ï¸ **é‡è¦æç¤º**ï¼š
> - å¼€å‘åˆæœŸç”¨`setFileOverride(true)`æ–¹ä¾¿è°ƒè¯•
> - é¡¹ç›®å¼€å‘ä¸­ç”¨`setFileOverride(false)`é¿å…è¦†ç›–å·²ä¿®æ”¹çš„ä»£ç 
> - å»ºè®®ä½¿ç”¨ç‰ˆæœ¬æ§åˆ¶(Git)ï¼Œå³ä½¿è¦†ç›–ä¹Ÿèƒ½æ¢å¤

---

## 8. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“



### 8.1 ä»£ç ç”Ÿæˆå™¨å·¥ä½œæµç¨‹



```
[1]å‡†å¤‡å·¥ä½œ
   â”œâ”€ å¼•å…¥ä¾èµ–ï¼ˆmybatis-plus-generator + æ¨¡æ¿å¼•æ“ï¼‰
   â””â”€ ç¡®ä¿æ•°æ®åº“è¡¨å·²åˆ›å»º

[2]é…ç½®é˜¶æ®µ
   â”œâ”€ æ•°æ®æºé…ç½®ï¼ˆè¿æ¥å“ªä¸ªæ•°æ®åº“ï¼‰
   â”œâ”€ å…¨å±€é…ç½®ï¼ˆè¾“å‡ºè·¯å¾„ã€ä½œè€…ç­‰ï¼‰
   â”œâ”€ åŒ…åé…ç½®ï¼ˆä»£ç æ”¾å“ªä¸ªåŒ…ï¼‰
   â”œâ”€ ç­–ç•¥é…ç½®ï¼ˆç”Ÿæˆå“ªäº›è¡¨ã€æ€ä¹ˆç”Ÿæˆï¼‰
   â””â”€ æ¨¡æ¿é…ç½®ï¼ˆä½¿ç”¨ä»€ä¹ˆæ¨¡æ¿ï¼‰

[3]æ‰§è¡Œç”Ÿæˆ
   â””â”€ AutoGenerator.execute()

[4]éªŒè¯ç»“æœ
   â””â”€ æ£€æŸ¥ç”Ÿæˆçš„æ–‡ä»¶æ˜¯å¦æ­£ç¡®
```

### 8.2 å¿…è®°é…ç½®æ¸…å•



**æœ€å°åŒ–é…ç½®ï¼ˆ5ä¸ªå¿…å¡«é¡¹ï¼‰**ï¼š
```java
// 1. æ•°æ®æº
DataSourceConfig dsc = new DataSourceConfig();
dsc.setUrl("jdbc:mysql://localhost:3306/db");
dsc.setUsername("root");
dsc.setPassword("root");

// 2. å…¨å±€é…ç½®
GlobalConfig gc = new GlobalConfig();
gc.setOutputDir("è¾“å‡ºè·¯å¾„");
gc.setAuthor("ä½œè€…å");

// 3. åŒ…é…ç½®
PackageConfig pc = new PackageConfig();
pc.setParent("com.example.demo");

// 4. ç­–ç•¥é…ç½®
StrategyConfig strategy = new StrategyConfig();
strategy.setInclude("è¦ç”Ÿæˆçš„è¡¨å");

// 5. æ•´åˆé…ç½®
AutoGenerator mpg = new AutoGenerator();
mpg.setGlobalConfig(gc);
mpg.setDataSource(dsc);
mpg.setPackageInfo(pc);
mpg.setStrategy(strategy);
mpg.execute();
```

### 8.3 å¸¸ç”¨é…ç½®ç»„åˆ



**ç»„åˆ1ï¼šæ ‡å‡†CRUDé¡¹ç›®**
```java
strategy.setEntityLombokModel(true);        // ä½¿ç”¨Lombok
strategy.setRestControllerStyle(true);      // RESTfulé£æ ¼
strategy.setNaming(NamingStrategy.underline_to_camel);
gc.setIdType(IdType.AUTO);                  // è‡ªå¢ä¸»é”®
```

**ç»„åˆ2ï¼šå¾®æœåŠ¡é¡¹ç›®**
```java
strategy.setChainModel(true);               // é“¾å¼è°ƒç”¨
strategy.setEntityTableFieldAnnotationEnable(true);
gc.setSwagger2(true);                       // Swaggeræ–‡æ¡£
pc.setModuleName("user");                   // æ¨¡å—å
```

**ç»„åˆ3ï¼šå¿«é€ŸåŸå‹å¼€å‘**
```java
strategy.setInclude(".*");                  // ç”Ÿæˆæ‰€æœ‰è¡¨
gc.setFileOverride(true);                   // è¦†ç›–æ—§æ–‡ä»¶
gc.setOpen(true);                           // è‡ªåŠ¨æ‰“å¼€ç›®å½•
```

### 8.4 æ–°æ‰‹é¿å‘æŒ‡å—



**å¸¸è§é”™è¯¯åŠè§£å†³**ï¼š

| é—®é¢˜ | åŸå›  | è§£å†³æ–¹æ¡ˆ |
|------|------|---------|
| **è¿æ¥æ•°æ®åº“å¤±è´¥** | `URLæˆ–è´¦å·å¯†ç é”™è¯¯` | æ£€æŸ¥æ•°æ®æºé…ç½®ï¼Œæµ‹è¯•æ•°æ®åº“è¿æ¥ |
| **æ‰¾ä¸åˆ°é©±åŠ¨ç±»** | `æœªå¼•å…¥æ•°æ®åº“é©±åŠ¨ä¾èµ–` | pom.xmlæ·»åŠ mysql-connector-java |
| **ç”Ÿæˆè·¯å¾„é”™è¯¯** | `OutputDirè®¾ç½®ä¸å¯¹` | ä½¿ç”¨ç»å¯¹è·¯å¾„æˆ–`user.dir` |
| **è¡¨åæ‰¾ä¸åˆ°** | `setIncludeè¡¨åå†™é”™` | æ£€æŸ¥æ•°æ®åº“è¡¨æ˜¯å¦å­˜åœ¨ |
| **Lombokä¸ç”Ÿæ•ˆ** | `æœªå¼•å…¥Lombokä¾èµ–` | æ·»åŠ ä¾èµ–å¹¶å®‰è£…IDEAæ’ä»¶ |

**è°ƒè¯•æŠ€å·§**ï¼š
```java
// 1. å…ˆæµ‹è¯•æ•°æ®åº“è¿æ¥
DataSourceConfig dsc = new DataSourceConfig();
dsc.setUrl("...");
// æ‰‹åŠ¨æµ‹è¯•è¿æ¥
Connection conn = DriverManager.getConnection(
    dsc.getUrl(), 
    dsc.getUsername(), 
    dsc.getPassword()
);
System.out.println("è¿æ¥æˆåŠŸï¼");

// 2. åˆ†æ­¥éª¤æµ‹è¯•ç”Ÿæˆ
// å…ˆåªç”ŸæˆEntityï¼ŒæˆåŠŸåå†é€æ­¥æ·»åŠ å…¶ä»–å±‚
TemplateConfig tc = new TemplateConfig();
tc.setController(null);
tc.setService(null);
tc.setServiceImpl(null);

// 3. å¼€å¯è¯¦ç»†æ—¥å¿—
gc.setOpen(true);  // ç”Ÿæˆåæ‰“å¼€ç›®å½•æŸ¥çœ‹
```

### 8.5 å®æˆ˜æŠ€å·§



**æŠ€å·§1ï¼šæ‰¹é‡ç”Ÿæˆè¡¨**
```java
// ä½¿ç”¨é€šé…ç¬¦åŒ¹é…è¡¨å
strategy.setInclude("t_.*");  // ç”Ÿæˆæ‰€æœ‰t_å¼€å¤´çš„è¡¨

// æˆ–è€…è¯»å–é…ç½®æ–‡ä»¶
Properties props = new Properties();
props.load(new FileInputStream("tables.properties"));
String tables = props.getProperty("include.tables");
strategy.setInclude(tables.split(","));
```

**æŠ€å·§2ï¼šå¤šæ•°æ®æºç”Ÿæˆ**
```java
// å®šä¹‰æ–¹æ³•ï¼Œä¼ å…¥ä¸åŒæ•°æ®æºé…ç½®
public void generate(String dbUrl, String dbUser, String dbPwd) {
    DataSourceConfig dsc = new DataSourceConfig();
    dsc.setUrl(dbUrl);
    dsc.setUsername(dbUser);
    dsc.setPassword(dbPwd);
    
    AutoGenerator mpg = new AutoGenerator();
    // ... å…¶ä»–é…ç½®
    mpg.execute();
}

// è°ƒç”¨
generate("jdbc:mysql://192.168.1.100:3306/db1", "root", "pwd1");
generate("jdbc:mysql://192.168.1.101:3306/db2", "root", "pwd2");
```

**æŠ€å·§3ï¼šè‡ªå®šä¹‰ä»£ç æ¨¡æ¿**
```java
// åœ¨resources/templatesä¸‹æ”¾è‡ªå·±çš„æ¨¡æ¿
// ç„¶åæŒ‡å®šä½¿ç”¨
TemplateConfig tc = new TemplateConfig();
tc.setEntity("templates/myEntity.java");
tc.setMapper("templates/myMapper.java");
mpg.setTemplate(tc);
```

---

**æ ¸å¿ƒè®°å¿†å£è¯€**ï¼š
```
ä»£ç ç”Ÿæˆäº”æ­¥èµ°ï¼Œé…ç½®å®Œæ•´ä¸ç”¨æ„
æ•°æ®æºè¿æ•°æ®åº“ï¼ŒåŒ…åè·¯å¾„æŒ‡æ¸…æ¥š
ç­–ç•¥æ§åˆ¶ç”Ÿæˆè¡¨ï¼Œæ¨¡æ¿å¼•æ“æ¸²æŸ“å›¾
å…¨å±€é…ç½®å®šè§„åˆ™ï¼Œæ‰§è¡Œç”Ÿæˆä¸€é”®å‡º
```