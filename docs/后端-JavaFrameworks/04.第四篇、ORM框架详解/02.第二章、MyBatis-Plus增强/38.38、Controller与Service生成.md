---
title: 38ã€Controllerä¸Serviceç”Ÿæˆ
---
## ğŸ“š ç›®å½•

1. [ä»£ç ç”Ÿæˆå™¨æ ¸å¿ƒæ¦‚å¿µ](#1-ä»£ç ç”Ÿæˆå™¨æ ¸å¿ƒæ¦‚å¿µ)
2. [Controlleræ§åˆ¶å™¨ç”Ÿæˆ](#2-Controlleræ§åˆ¶å™¨ç”Ÿæˆ)
3. [ServiceæœåŠ¡å±‚ç”Ÿæˆ](#3-ServiceæœåŠ¡å±‚ç”Ÿæˆ)
4. [ç»§æ‰¿å…³ç³»é…ç½®è¯¦è§£](#4-ç»§æ‰¿å…³ç³»é…ç½®è¯¦è§£)
5. [è‡ªå®šä¹‰æ¨¡æ¿åº”ç”¨](#5-è‡ªå®šä¹‰æ¨¡æ¿åº”ç”¨)
6. [å®æˆ˜æ¡ˆä¾‹æ¼”ç¤º](#6-å®æˆ˜æ¡ˆä¾‹æ¼”ç¤º)
7. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#7-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ¯ ä»£ç ç”Ÿæˆå™¨æ ¸å¿ƒæ¦‚å¿µ


### 1.1 ä»€ä¹ˆæ˜¯ä»£ç ç”Ÿæˆå™¨


**é€šä¿—ç†è§£**ï¼šä»£ç ç”Ÿæˆå™¨å°±åƒä¸€ä¸ª"è‡ªåŠ¨é€ æˆ¿å­çš„å·¥å…·"

```
ä¼ ç»Ÿå¼€å‘æ–¹å¼ï¼š                   ä½¿ç”¨ä»£ç ç”Ÿæˆå™¨ï¼š
æ‰‹å†™Controller  âœï¸              è‡ªåŠ¨ç”ŸæˆController âš¡
æ‰‹å†™Serviceæ¥å£                  è‡ªåŠ¨ç”ŸæˆServiceæ¥å£
æ‰‹å†™ServiceImpl                  è‡ªåŠ¨ç”ŸæˆServiceImpl
æ‰‹å†™Mapperæ¥å£                   è‡ªåŠ¨ç”ŸæˆMapperæ¥å£
â†“                               â†“
è´¹æ—¶è´¹åŠ›ï¼Œå®¹æ˜“å‡ºé”™               å¿«é€Ÿå‡†ç¡®ï¼Œçœæ—¶çœåŠ›
```

> ğŸ’¡ **æ ¸å¿ƒä»·å€¼**  
> ä»£ç ç”Ÿæˆå™¨èƒ½æ ¹æ®æ•°æ®åº“è¡¨ç»“æ„ï¼Œè‡ªåŠ¨ç”Ÿæˆæ•´å¥—ä»£ç æ¡†æ¶ï¼Œè®©ä½ ä¸“æ³¨äºä¸šåŠ¡é€»è¾‘å¼€å‘ï¼Œè€Œä¸æ˜¯é‡å¤å†™"éª¨æ¶ä»£ç "

### 1.2 ç”Ÿæˆå™¨èƒ½åšä»€ä¹ˆ


**è‡ªåŠ¨ç”Ÿæˆçš„æ–‡ä»¶ç»“æ„**ï¼š
```
é¡¹ç›®ç»“æ„
â”œâ”€â”€ controller/          â† æ§åˆ¶å™¨å±‚ï¼ˆæ¥æ”¶è¯·æ±‚ï¼‰
â”‚   â””â”€â”€ UserController.java
â”œâ”€â”€ service/            â† æœåŠ¡æ¥å£å±‚ï¼ˆå®šä¹‰ä¸šåŠ¡è§„èŒƒï¼‰
â”‚   â”œâ”€â”€ IUserService.java
â”‚   â””â”€â”€ impl/          â† æœåŠ¡å®ç°å±‚ï¼ˆå®ç°ä¸šåŠ¡é€»è¾‘ï¼‰
â”‚       â””â”€â”€ UserServiceImpl.java
â”œâ”€â”€ mapper/            â† æ•°æ®è®¿é—®å±‚
â”‚   â””â”€â”€ UserMapper.java
â””â”€â”€ entity/           â† å®ä½“ç±»å±‚
    â””â”€â”€ User.java
```

**å±‚æ¬¡å…³ç³»å›¾**ï¼š
```
å®¢æˆ·ç«¯è¯·æ±‚
    â†“
ã€Controllerå±‚ã€‘ â† æ¥æ”¶HTTPè¯·æ±‚ï¼Œè°ƒç”¨Service
    â†“
ã€Serviceå±‚ã€‘   â† å®šä¹‰ä¸šåŠ¡æ¥å£
    â†“
ã€ServiceImplå±‚ã€‘â† å®ç°å…·ä½“ä¸šåŠ¡é€»è¾‘
    â†“
ã€Mapperå±‚ã€‘    â† æ“ä½œæ•°æ®åº“
    â†“
æ•°æ®åº“
```

### 1.3 ä¸ºä»€ä¹ˆéœ€è¦ä»£ç ç”Ÿæˆå™¨


| å¯¹æ¯”é¡¹ | **æ‰‹å·¥ç¼–å†™** | **ä»£ç ç”Ÿæˆå™¨** |
|-------|------------|--------------|
| **å¼€å‘é€Ÿåº¦** | `æ…¢ï¼Œé‡å¤åŠ³åŠ¨å¤š` | `å¿«ï¼Œä¸€é”®ç”Ÿæˆ` |
| **ä»£ç è§„èŒƒ** | `ä¾èµ–ä¸ªäººä¹ æƒ¯` | `ç»Ÿä¸€è§„èŒƒ` |
| **å‡ºé”™æ¦‚ç‡** | `å®¹æ˜“æ‹¼å†™é”™è¯¯` | `å‡ ä¹æ— é”™è¯¯` |
| **ç»´æŠ¤æˆæœ¬** | `ä¿®æ”¹éº»çƒ¦` | `é‡æ–°ç”Ÿæˆå³å¯` |
| **å­¦ä¹ æˆæœ¬** | `éœ€è¦è®°å¿†æ¨¡æ¿` | `é…ç½®ç®€å•` |

---

## 2. ğŸ® Controlleræ§åˆ¶å™¨ç”Ÿæˆ


### 2.1 Controlleræ˜¯ä»€ä¹ˆ


**ç”Ÿæ´»åŒ–ç±»æ¯”**ï¼šControllerå°±åƒé¤å…çš„"æœåŠ¡å‘˜"

```
çœŸå®é¤å…æµç¨‹                    Controllerå·¥ä½œæµç¨‹
é¡¾å®¢ â†’ æœåŠ¡å‘˜ â†’ å¨æˆ¿             ç”¨æˆ·è¯·æ±‚ â†’ Controller â†’ Service
      â†“                              â†“
   æ¥æ”¶ç‚¹å•                       æ¥æ”¶HTTPè¯·æ±‚
   ä¼ è¾¾éœ€æ±‚                       è°ƒç”¨ä¸šåŠ¡æ–¹æ³•
   è¿”å›èœå“                       è¿”å›å¤„ç†ç»“æœ
```

> ğŸ“– **æœ¯è¯­è§£é‡Š**  
> **Controllerï¼ˆæ§åˆ¶å™¨ï¼‰**ï¼šæ˜¯Webåº”ç”¨çš„"æ¥å¾…å‘˜"ï¼Œè´Ÿè´£ï¼š
> - æ¥æ”¶ç”¨æˆ·çš„HTTPè¯·æ±‚ï¼ˆGETã€POSTç­‰ï¼‰
> - è°ƒç”¨Serviceå¤„ç†ä¸šåŠ¡
> - å°†ç»“æœè¿”å›ç»™ç”¨æˆ·

### 2.2 æ§åˆ¶å™¨ç”Ÿæˆé…ç½®


**åŸºç¡€é…ç½®ä»£ç **ï¼š
```java
// ç­–ç•¥é…ç½®
StrategyConfig strategy = new StrategyConfig();

// å¼€å¯ç”ŸæˆController
strategy.setRestControllerStyle(true);  // ç”Ÿæˆ@RestController
strategy.setControllerMappingHyphenStyle(true);  // URLä½¿ç”¨è¿å­—ç¬¦
```

**é…ç½®é¡¹è¯¦è§£**ï¼š

ğŸ”¸ **RestControlleræ³¨è§£**
```java
// è®¾ç½®ä¸ºtrueæ—¶ç”Ÿæˆï¼š
@RestController
@RequestMapping("/user")
public class UserController {
    // è‡ªåŠ¨è¿”å›JSONæ ¼å¼æ•°æ®
}

// è®¾ç½®ä¸ºfalseæ—¶ç”Ÿæˆï¼š
@Controller
@RequestMapping("/user")
public class UserController {
    // éœ€è¦æ‰‹åŠ¨é…ç½®è§†å›¾è¿”å›
}
```

> âš ï¸ **æ³¨æ„åŒºåˆ«**  
> - `@RestController` = `@Controller` + `@ResponseBody`
> - å‰ç«¯é¡¹ç›®ç”¨RestControllerï¼Œè¿”å›JSONæ•°æ®
> - ä¼ ç»ŸJSPé¡¹ç›®ç”¨Controllerï¼Œè¿”å›é¡µé¢è§†å›¾

ğŸ”¸ **URLå‘½åé£æ ¼é…ç½®**
```java
// hyphenStyle = true æ—¶
ç”¨æˆ·è¡¨(user_info) â†’ URL: /user-info

// hyphenStyle = false æ—¶  
ç”¨æˆ·è¡¨(user_info) â†’ URL: /userInfo
```

### 2.3 ç”Ÿæˆçš„Controllerä»£ç ç¤ºä¾‹


**è‡ªåŠ¨ç”Ÿæˆçš„Controllerä»£ç **ï¼š
```java
@RestController
@RequestMapping("/user")
public class UserController {
    
    @Autowired
    private IUserService userService;
    
    // æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·
    @GetMapping("/list")
    public Result list() {
        return Result.success(userService.list());
    }
    
    // æ ¹æ®IDæŸ¥è¯¢
    @GetMapping("/{id}")
    public Result getById(@PathVariable Long id) {
        return Result.success(userService.getById(id));
    }
    
    // æ–°å¢ç”¨æˆ·
    @PostMapping
    public Result save(@RequestBody User user) {
        return Result.success(userService.save(user));
    }
}
```

**ä»£ç ç»“æ„å›¾è§£**ï¼š
```
UserController
    â”‚
    â”œâ”€â”€â”€ æ³¨è§£å±‚ â”€â”€â†’ @RestController (æ ‡è¯†ä¸ºæ§åˆ¶å™¨)
    â”‚              @RequestMapping (é…ç½®åŸºç¡€è·¯å¾„)
    â”‚
    â”œâ”€â”€â”€ ä¾èµ–æ³¨å…¥ â†’ @Autowired IUserService
    â”‚
    â””â”€â”€â”€ æ¥å£æ–¹æ³•
           â”œâ”€ @GetMapping  (æŸ¥è¯¢)
           â”œâ”€ @PostMapping (æ–°å¢)
           â”œâ”€ @PutMapping  (ä¿®æ”¹)
           â””â”€ @DeleteMapping (åˆ é™¤)
```

---

## 3. ğŸ”§ ServiceæœåŠ¡å±‚ç”Ÿæˆ


### 3.1 Serviceå±‚çš„ä½œç”¨


**åŒå±‚è®¾è®¡æ¨¡å¼**ï¼š

```
Serviceæ¥å£ (IUserService)         Serviceå®ç° (UserServiceImpl)
    â”‚                                    â”‚
    â”œâ”€ å®šä¹‰åšä»€ä¹ˆ                         â”œâ”€ è§„å®šæ€ä¹ˆåš
    â”œâ”€ ä¸šåŠ¡æ–¹æ³•ç­¾å                       â”œâ”€ å…·ä½“å®ç°é€»è¾‘
    â””â”€ è§„èŒƒçº¦æŸ                          â””â”€ è°ƒç”¨Mapperæ“ä½œæ•°æ®

      æ¥å£                    vs               å®ç°ç±»
   åˆ¶å®šè§„åˆ™                               æ‰§è¡Œè§„åˆ™
   
ç±»æ¯”ï¼šäº¤é€šæ³•è§„ï¼ˆæ¥å£ï¼‰               vs    å¸æœºé©¾é©¶ï¼ˆå®ç°ç±»ï¼‰
```

> ğŸ’¡ **ä¸ºä»€ä¹ˆè¦åˆ†æ¥å£å’Œå®ç°**  
> - **æ¥å£**ï¼šå®šä¹‰"èƒ½åšä»€ä¹ˆ"ï¼Œæ˜¯ä¸€ä»½å¥‘çº¦
> - **å®ç°ç±»**ï¼šå®šä¹‰"æ€ä¹ˆåš"ï¼Œæ˜¯å…·ä½“æ‰§è¡Œ
> - **å¥½å¤„**ï¼šæ–¹ä¾¿æ›¿æ¢å®ç°ã€ä¾¿äºæµ‹è¯•ã€ç¬¦åˆå¼€é—­åŸåˆ™

### 3.2 Serviceæ¥å£ç”Ÿæˆé…ç½®


**ç”Ÿæˆå™¨é…ç½®**ï¼š
```java
StrategyConfig strategy = new StrategyConfig();

// Serviceæ¥å£é…ç½®
strategy.setService("I%sService");  // æ¥å£åæ ¼å¼ï¼šIå¼€å¤´
strategy.setServiceImpl("%sServiceImpl");  // å®ç°ç±»åæ ¼å¼
```

**å‘½åè§„åˆ™å¯¹ç…§è¡¨**ï¼š

| æ•°æ®è¡¨å | **æ¥å£å** | **å®ç°ç±»å** | **è¯´æ˜** |
|---------|-----------|-------------|---------|
| `user` | `IUserService` | `UserServiceImpl` | `Iä»£è¡¨Interface` |
| `order` | `IOrderService` | `OrderServiceImpl` | `ç»Ÿä¸€å‘½åè§„èŒƒ` |
| `product` | `IProductService` | `ProductServiceImpl` | `æ¸…æ™°æ˜äº†` |

### 3.3 ç”Ÿæˆçš„Serviceä»£ç è¯¦è§£


**Serviceæ¥å£ä»£ç **ï¼š
```java
/**
 * ç”¨æˆ·æœåŠ¡æ¥å£
 * ç»§æ‰¿IServiceè·å¾—CRUDåŸºç¡€æ–¹æ³•
 */
public interface IUserService extends IService<User> {
    
    // è¿™é‡Œå¯ä»¥å®šä¹‰è‡ªå·±çš„ä¸šåŠ¡æ–¹æ³•
    // åŸºç¡€çš„å¢åˆ æ”¹æŸ¥å·²ç»åœ¨IServiceä¸­äº†
    
    // è‡ªå®šä¹‰ä¸šåŠ¡æ–¹æ³•ç¤ºä¾‹
    User findByUsername(String username);
    
    List<User> findByAge(Integer age);
}
```

**Serviceå®ç°ç±»ä»£ç **ï¼š
```java
/**
 * ç”¨æˆ·æœåŠ¡å®ç°ç±»
 */
@Service
public class UserServiceImpl 
    extends ServiceImpl<UserMapper, User> 
    implements IUserService {
    
    @Override
    public User findByUsername(String username) {
        // ä½¿ç”¨MyBatis-Plusæä¾›çš„æŸ¥è¯¢æ–¹æ³•
        return this.getOne(
            new QueryWrapper<User>()
                .eq("username", username)
        );
    }
    
    @Override
    public List<User> findByAge(Integer age) {
        return this.list(
            new QueryWrapper<User>()
                .eq("age", age)
        );
    }
}
```

**ç»§æ‰¿å…³ç³»å›¾è§£**ï¼š
```
UserServiceImpl ç»§æ‰¿å…³ç³»å›¾ï¼š

                    IService<User>
                         â†‘
                         | (æ¥å£ç»§æ‰¿)
                   IUserService
                         â†‘
                         | (å®ç°æ¥å£)
    ServiceImpl<UserMapper,User> â† UserServiceImpl
         â†‘                              
         | (ç±»ç»§æ‰¿)
    æä¾›BaseMapperçš„å°è£…æ–¹æ³•
```

---

## 4. ğŸ—ï¸ ç»§æ‰¿å…³ç³»é…ç½®è¯¦è§£


### 4.1 ä¸ºä»€ä¹ˆè¦ç»§æ‰¿MyBatis-PlusåŸºç±»


**ä¸ç»§æ‰¿ vs ç»§æ‰¿å¯¹æ¯”**ï¼š

```
ä¸ç»§æ‰¿åŸºç±»çš„æƒ…å†µï¼š                ç»§æ‰¿åŸºç±»çš„æƒ…å†µï¼š
è‡ªå·±å†™save()æ–¹æ³•                 ç›´æ¥ç”¨save() âœ“
è‡ªå·±å†™update()æ–¹æ³•                ç›´æ¥ç”¨updateById() âœ“
è‡ªå·±å†™delete()æ–¹æ³•                ç›´æ¥ç”¨removeById() âœ“
è‡ªå·±å†™select()æ–¹æ³•                ç›´æ¥ç”¨list() âœ“
â†“                               â†“
å·¥ä½œé‡å¤§                         å¼€ç®±å³ç”¨
```

> ğŸ¯ **æ ¸å¿ƒä¼˜åŠ¿**  
> ç»§æ‰¿MyBatis-Plusæä¾›çš„åŸºç±»åï¼Œä½ å°†**å…è´¹è·å¾—**å‡ åä¸ªå¸¸ç”¨æ–¹æ³•ï¼Œæ— éœ€è‡ªå·±ç¼–å†™ï¼

### 4.2 ç»§æ‰¿å…³ç³»é…ç½®ä»£ç 


**å®Œæ•´é…ç½®ç¤ºä¾‹**ï¼š
```java
// å…¨å±€é…ç½®
GlobalConfig gc = new GlobalConfig();
gc.setServiceName("%sService");  // Serviceæ¥å£åç§°
gc.setServiceImplName("%sServiceImpl");  // Serviceå®ç°ç±»åç§°

// ç­–ç•¥é…ç½®
StrategyConfig strategy = new StrategyConfig();
strategy.setSuperServiceClass("com.baomidou.mybatisplus.extension.service.IService");
strategy.setSuperServiceImplClass("com.baomidou.mybatisplus.extension.service.impl.ServiceImpl");
strategy.setSuperControllerClass("com.baomidou.mybatisplus.extension.controller.BaseController");
```

**ç»§æ‰¿å±‚æ¬¡ç»“æ„**ï¼š
```
BaseController (MyBatis-Plusæä¾›)
      â†‘
      | ç»§æ‰¿
UserController (ç”Ÿæˆçš„ä»£ç )
      â†“
   è·å¾—åˆ†é¡µã€å“åº”ç­‰é€šç”¨æ–¹æ³•

IService<T> (MyBatis-Plusæä¾›)
      â†‘
      | ç»§æ‰¿
IUserService (ç”Ÿæˆçš„æ¥å£)
      â†“
   è·å¾—CRUDåŸºç¡€æ–¹æ³•

ServiceImpl<M,T> (MyBatis-Plusæä¾›)
      â†‘
      | ç»§æ‰¿
UserServiceImpl (ç”Ÿæˆçš„å®ç°ç±»)
      â†“
   è·å¾—å®Œæ•´å®ç°é€»è¾‘
```

### 4.3 ç»§æ‰¿åè·å¾—çš„èƒ½åŠ›


**IServiceæ¥å£æä¾›çš„æ–¹æ³•ï¼ˆéƒ¨åˆ†ï¼‰**ï¼š

| æ–¹æ³•ç±»å‹ | **æ–¹æ³•ç¤ºä¾‹** | **åŠŸèƒ½è¯´æ˜** |
|---------|------------|------------|
| **ä¿å­˜** | `save(T entity)` | `ä¿å­˜å•ä¸ªå®ä½“` |
| **æ‰¹é‡ä¿å­˜** | `saveBatch(List<T>)` | `æ‰¹é‡ä¿å­˜` |
| **æ›´æ–°** | `updateById(T entity)` | `æ ¹æ®IDæ›´æ–°` |
| **åˆ é™¤** | `removeById(Serializable id)` | `æ ¹æ®IDåˆ é™¤` |
| **æŸ¥è¯¢** | `getById(Serializable id)` | `æ ¹æ®IDæŸ¥è¯¢` |
| **åˆ—è¡¨** | `list()` | `æŸ¥è¯¢æ‰€æœ‰` |
| **åˆ†é¡µ** | `page(Page<T> page)` | `åˆ†é¡µæŸ¥è¯¢` |

**ä½¿ç”¨ç¤ºä¾‹**ï¼š
```java
// ä¸éœ€è¦å†™å®ç°ï¼Œç›´æ¥è°ƒç”¨
userService.save(user);              // ä¿å­˜
userService.updateById(user);        // æ›´æ–°
userService.removeById(1L);          // åˆ é™¤
User user = userService.getById(1L); // æŸ¥è¯¢
List<User> list = userService.list(); // åˆ—è¡¨
```

---

## 5. ğŸ¨ è‡ªå®šä¹‰æ¨¡æ¿åº”ç”¨


### 5.1 ä»€ä¹ˆæ˜¯æ¨¡æ¿å¼•æ“


**é€šä¿—è§£é‡Š**ï¼šæ¨¡æ¿å°±åƒ"æ–‡æ¡£æ¨¡æ¿"

```
Wordæ–‡æ¡£æ¨¡æ¿                    ä»£ç ç”Ÿæˆæ¨¡æ¿
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å°Šæ•¬çš„ xxx  â”‚               â”‚ public class ${className} { â”‚
â”‚ æ‚¨å¥½ï¼      â”‚    ====>      â”‚   @Autowired              â”‚
â”‚ ...         â”‚               â”‚   private ${serviceName}  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  å¡«å…¥å§“å                       å¡«å…¥ç±»åã€æœåŠ¡å
```

> ğŸ“– **æœ¯è¯­è§£é‡Š**  
> **æ¨¡æ¿å¼•æ“**ï¼šæ ¹æ®æ¨¡æ¿+æ•°æ®ï¼Œè‡ªåŠ¨ç”Ÿæˆä»£ç çš„å·¥å…·
> - **Velocity**ï¼šApacheå¼€æºï¼Œè¯­æ³•ç®€å•
> - **Freemarker**ï¼šåŠŸèƒ½å¼ºå¤§ï¼Œè¡¨è¾¾å¼ä¸°å¯Œ
> - **Beetl**ï¼šæ€§èƒ½ä¼˜å¼‚ï¼Œå›½äº§å¼•æ“

### 5.2 æ¨¡æ¿é…ç½®æ–¹å¼


**ä½¿ç”¨è‡ªå®šä¹‰æ¨¡æ¿**ï¼š
```java
// æ¨¡æ¿é…ç½®
TemplateConfig tc = new TemplateConfig();

// æŒ‡å®šè‡ªå®šä¹‰æ¨¡æ¿è·¯å¾„ï¼ˆresourcesç›®å½•ä¸‹ï¼‰
tc.setController("/templates/my-controller.java.vm");
tc.setService("/templates/my-service.java.vm");
tc.setServiceImpl("/templates/my-serviceImpl.java.vm");

// åº”ç”¨é…ç½®
AutoGenerator mpg = new AutoGenerator();
mpg.setTemplate(tc);
```

**æ¨¡æ¿æ–‡ä»¶ç»“æ„**ï¼š
```
src/main/resources/
â””â”€â”€ templates/
    â”œâ”€â”€ my-controller.java.vm      â† Controlleræ¨¡æ¿
    â”œâ”€â”€ my-service.java.vm         â† Serviceæ¥å£æ¨¡æ¿
    â””â”€â”€ my-serviceImpl.java.vm     â† Serviceå®ç°ç±»æ¨¡æ¿
```

### 5.3 è‡ªå®šä¹‰Controlleræ¨¡æ¿ç¤ºä¾‹


**æ¨¡æ¿æ–‡ä»¶å†…å®¹** (my-controller.java.vm)ï¼š
```java
package ${package.Controller};

import ${package.Service}.${table.serviceName};
import ${package.Entity}.${entity};
import org.springframework.web.bind.annotation.*;
import javax.annotation.Resource;

/**
 * ${table.comment!} æ§åˆ¶å™¨
 * 
 * @author ${author}
 * @since ${date}
 */
@RestController
@RequestMapping("/${table.entityPath}")
public class ${table.controllerName} {

    @Resource
    private ${table.serviceName} ${table.entityPath}Service;
    
    /**
     * æŸ¥è¯¢åˆ—è¡¨
     */
    @GetMapping("/list")
    public Result list() {
        return Result.success(${table.entityPath}Service.list());
    }
    
    /**
     * æ ¹æ®IDæŸ¥è¯¢
     */
    @GetMapping("/{id}")
    public Result getById(@PathVariable Long id) {
        return Result.success(${table.entityPath}Service.getById(id));
    }
}
```

**æ¨¡æ¿å˜é‡è¯´æ˜**ï¼š

| æ¨¡æ¿å˜é‡ | **å«ä¹‰** | **ç¤ºä¾‹å€¼** |
|---------|---------|-----------|
| `${package.Controller}` | `ControlleråŒ…è·¯å¾„` | `com.example.controller` |
| `${table.serviceName}` | `Serviceåç§°` | `IUserService` |
| `${entity}` | `å®ä½“ç±»å` | `User` |
| `${table.comment}` | `è¡¨æ³¨é‡Š` | `ç”¨æˆ·ä¿¡æ¯` |
| `${author}` | `ä½œè€…å` | `å¼ ä¸‰` |
| `${table.entityPath}` | `å®ä½“è·¯å¾„å` | `user` |

---

## 6. ğŸ’¼ å®æˆ˜æ¡ˆä¾‹æ¼”ç¤º


### 6.1 å®Œæ•´ç”Ÿæˆå™¨é…ç½®ä»£ç 


```java
public class CodeGenerator {
    
    public static void main(String[] args) {
        // 1. å…¨å±€é…ç½®
        GlobalConfig gc = new GlobalConfig();
        gc.setOutputDir(System.getProperty("user.dir") + "/src/main/java");
        gc.setAuthor("å¼ ä¸‰");
        gc.setOpen(false);
        gc.setServiceName("%sService");  // å»æ‰Iå‰ç¼€
        
        // 2. æ•°æ®æºé…ç½®
        DataSourceConfig dsc = new DataSourceConfig();
        dsc.setUrl("jdbc:mysql://localhost:3306/mydb");
        dsc.setDriverName("com.mysql.cj.jdbc.Driver");
        dsc.setUsername("root");
        dsc.setPassword("123456");
        
        // 3. åŒ…é…ç½®
        PackageConfig pc = new PackageConfig();
        pc.setParent("com.example");
        pc.setController("controller");
        pc.setService("service");
        pc.setServiceImpl("service.impl");
        
        // 4. ç­–ç•¥é…ç½®
        StrategyConfig strategy = new StrategyConfig();
        strategy.setInclude("user", "order");  // è¦ç”Ÿæˆçš„è¡¨
        strategy.setNaming(NamingStrategy.underline_to_camel);
        strategy.setRestControllerStyle(true);  // RESTé£æ ¼
        strategy.setControllerMappingHyphenStyle(true);
        
        // 5. ç»„è£…é…ç½®
        AutoGenerator mpg = new AutoGenerator();
        mpg.setGlobalConfig(gc);
        mpg.setDataSource(dsc);
        mpg.setPackageInfo(pc);
        mpg.setStrategy(strategy);
        
        // 6. æ‰§è¡Œç”Ÿæˆ
        mpg.execute();
    }
}
```

### 6.2 ç”Ÿæˆç»“æœå±•ç¤º


**è¿è¡Œåç”Ÿæˆçš„æ–‡ä»¶**ï¼š
```
é¡¹ç›®ç»“æ„
â””â”€â”€ src/main/java/com/example/
    â”œâ”€â”€ controller/
    â”‚   â”œâ”€â”€ UserController.java      âœ“ ç”Ÿæˆ
    â”‚   â””â”€â”€ OrderController.java     âœ“ ç”Ÿæˆ
    â”œâ”€â”€ service/
    â”‚   â”œâ”€â”€ UserService.java         âœ“ ç”Ÿæˆ
    â”‚   â”œâ”€â”€ OrderService.java        âœ“ ç”Ÿæˆ
    â”‚   â””â”€â”€ impl/
    â”‚       â”œâ”€â”€ UserServiceImpl.java  âœ“ ç”Ÿæˆ
    â”‚       â””â”€â”€ OrderServiceImpl.java âœ“ ç”Ÿæˆ
    â”œâ”€â”€ mapper/
    â”‚   â”œâ”€â”€ UserMapper.java          âœ“ ç”Ÿæˆ
    â”‚   â””â”€â”€ OrderMapper.java         âœ“ ç”Ÿæˆ
    â””â”€â”€ entity/
        â”œâ”€â”€ User.java                âœ“ ç”Ÿæˆ
        â””â”€â”€ Order.java               âœ“ ç”Ÿæˆ
```

### 6.3 ä½¿ç”¨ç”Ÿæˆçš„ä»£ç 


**ç›´æ¥ä½¿ç”¨ç¤ºä¾‹**ï¼š
```java
@RestController
public class TestController {
    
    @Autowired
    private UserService userService;  // ä½¿ç”¨ç”Ÿæˆçš„Service
    
    @GetMapping("/test")
    public String test() {
        // ç›´æ¥ä½¿ç”¨ç»§æ‰¿çš„æ–¹æ³•
        List<User> users = userService.list();
        
        // ä¹Ÿå¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰æ–¹æ³•
        User user = userService.getById(1L);
        
        return "success";
    }
}
```

---

## 7. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 7.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ ä»£ç ç”Ÿæˆå™¨ï¼šè‡ªåŠ¨ç”Ÿæˆé¡¹ç›®éª¨æ¶ä»£ç çš„å·¥å…·
ğŸ”¸ Controllerå±‚ï¼šæ¥æ”¶HTTPè¯·æ±‚ï¼Œè°ƒç”¨Serviceå¤„ç†
ğŸ”¸ Serviceæ¥å£ï¼šå®šä¹‰ä¸šåŠ¡è§„èŒƒï¼Œè§„å®šèƒ½åšä»€ä¹ˆ
ğŸ”¸ ServiceImplå®ç°ï¼šå…·ä½“ä¸šåŠ¡å®ç°ï¼Œè§„å®šæ€ä¹ˆåš
ğŸ”¸ ç»§æ‰¿å…³ç³»ï¼šç»§æ‰¿åŸºç±»è·å¾—å…è´¹çš„CRUDæ–¹æ³•
ğŸ”¸ æ¨¡æ¿å¼•æ“ï¼šæ ¹æ®æ¨¡æ¿ç”Ÿæˆä¸ªæ€§åŒ–ä»£ç 
```

### 7.2 å…³é”®é…ç½®è®°å¿†è¦ç‚¹


> ğŸ’¡ **Controlleré…ç½®**  
> - `setRestControllerStyle(true)` â†’ ç”ŸæˆRESTfulé£æ ¼
> - `setControllerMappingHyphenStyle(true)` â†’ URLä½¿ç”¨è¿å­—ç¬¦

> ğŸ’¡ **Serviceé…ç½®**  
> - `setServiceName("%sService")` â†’ æ¥å£å‘½åè§„åˆ™
> - `setServiceImplName("%sServiceImpl")` â†’ å®ç°ç±»å‘½åè§„åˆ™

> ğŸ’¡ **ç»§æ‰¿é…ç½®**  
> - Serviceç»§æ‰¿ `IService<T>` â†’ è·å¾—CRUDæ–¹æ³•
> - ServiceImplç»§æ‰¿ `ServiceImpl<M,T>` â†’ è·å¾—å®ç°é€»è¾‘

### 7.3 å®é™…åº”ç”¨åœºæ™¯


**ğŸ¯ é€‚ç”¨åœºæ™¯**ï¼š
- âœ… **å¿«é€Ÿå¼€å‘**ï¼šæ–°é¡¹ç›®å¿«é€Ÿæ­å»ºåŸºç¡€ä»£ç 
- âœ… **è§„èŒƒç»Ÿä¸€**ï¼šå›¢é˜Ÿå¼€å‘ä¿æŒä»£ç é£æ ¼ä¸€è‡´
- âœ… **å‡å°‘é”™è¯¯**ï¼šé¿å…æ‰‹å†™ä»£ç çš„æ‹¼å†™é”™è¯¯
- âœ… **æé«˜æ•ˆç‡**ï¼šä¸“æ³¨ä¸šåŠ¡é€»è¾‘ï¼Œä¸å†™é‡å¤ä»£ç 

**âš ï¸ æ³¨æ„äº‹é¡¹**ï¼š
- ç”Ÿæˆåçš„ä»£ç å¯ä»¥ä¿®æ”¹ï¼Œä½†å†æ¬¡ç”Ÿæˆä¼šè¦†ç›–
- å»ºè®®ç”ŸæˆåŸºç¡€ä»£ç åï¼Œåœ¨Serviceä¸­æ‰©å±•ä¸šåŠ¡æ–¹æ³•
- æ¨¡æ¿æ–‡ä»¶æ”¾åœ¨resourcesç›®å½•ä¸‹ï¼Œä¾¿äºç‰ˆæœ¬æ§åˆ¶

### 7.4 å­¦ä¹ è·¯å¾„å»ºè®®


```
å­¦ä¹ æ­¥éª¤ï¼š
1ï¸âƒ£ ç†è§£åˆ†å±‚æ¶æ„ (Controller â†’ Service â†’ Mapper)
2ï¸âƒ£ æŒæ¡åŸºç¡€é…ç½® (å…¨å±€é…ç½® + ç­–ç•¥é…ç½®)
3ï¸âƒ£ å­¦ä¼šä½¿ç”¨ç»§æ‰¿ (è·å¾—å…è´¹çš„CRUDæ–¹æ³•)
4ï¸âƒ£ å®è·µè‡ªå®šä¹‰æ¨¡æ¿ (æ»¡è¶³ä¸ªæ€§åŒ–éœ€æ±‚)
5ï¸âƒ£ é¡¹ç›®å®æˆ˜åº”ç”¨ (çœŸå®é¡¹ç›®ä¸­ä½¿ç”¨)
```

**æ ¸å¿ƒè®°å¿†å£è¯€**ï¼š
- ç”Ÿæˆå™¨çœæ—¶çœåŠ›å¿«ï¼Œé…ç½®ç®€å•ç”¨å¤„å¤§
- Controlleræ¥è¯·æ±‚ï¼ŒServiceå®šè§„èŒƒï¼ŒImplå»å®ç°
- ç»§æ‰¿åŸºç±»æœ€æ–¹ä¾¿ï¼ŒCRUDæ–¹æ³•å…¨å…è´¹
- æ¨¡æ¿å¼•æ“å¯å®šåˆ¶ï¼Œä¸ªæ€§ä»£ç éšæ„æ