---
title: 5ã€æ‰«æé…ç½®ä¸è‡ªåŠ¨è£…é…
---
## ğŸ“š ç›®å½•

1. [ä»€ä¹ˆæ˜¯Mapperæ‰«æ](#1-ä»€ä¹ˆæ˜¯Mapperæ‰«æ)
2. [@MapperScanæ³¨è§£è¯¦è§£](#2-MapperScanæ³¨è§£è¯¦è§£)
3. [Mapperæ‰«æè·¯å¾„é…ç½®](#3-Mapperæ‰«æè·¯å¾„é…ç½®)
4. [è‡ªåŠ¨è£…é…æœºåˆ¶](#4-è‡ªåŠ¨è£…é…æœºåˆ¶)
5. [é…ç½®ç±»è®¾ç½®](#5-é…ç½®ç±»è®¾ç½®)
6. [æ—¥å¿—é…ç½®](#6-æ—¥å¿—é…ç½®)
7. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#7-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ” ä»€ä¹ˆæ˜¯Mapperæ‰«æ


### 1.1 æ‰«ææ˜¯ä»€ä¹ˆæ„æ€


**é€šä¿—ç†è§£**ï¼šå°±åƒå›¾ä¹¦é¦†ç®¡ç†å‘˜è¦çŸ¥é“ä¹¦æ¶ä¸Šæœ‰å“ªäº›ä¹¦ä¸€æ ·ï¼ŒMyBatis-Plusä¹Ÿéœ€è¦çŸ¥é“ä½ çš„é¡¹ç›®é‡Œæœ‰å“ªäº›Mapperæ¥å£ã€‚

```
ä½ çš„é¡¹ç›®å°±åƒä¸€ä¸ªå›¾ä¹¦é¦†ï¼š
ğŸ“ é¡¹ç›®
  â”œâ”€â”€ ğŸ“‚ controllerï¼ˆå‰å°æ¥å¾…ï¼‰
  â”œâ”€â”€ ğŸ“‚ serviceï¼ˆä¸šåŠ¡åŠç†ï¼‰
  â”œâ”€â”€ ğŸ“‚ mapperï¼ˆæ•°æ®åº“æ“ä½œå‘˜ï¼‰â† éœ€è¦è¢«æ‰¾åˆ°ï¼
  â””â”€â”€ ğŸ“‚ entityï¼ˆæ•°æ®å®ä½“ï¼‰

æ‰«æ = MyBatis-Plusè‡ªåŠ¨å»æ‰¾è¿™äº›Mapperæ¥å£
```

**ä¸ºä»€ä¹ˆéœ€è¦æ‰«æï¼Ÿ**
- ä½ å†™äº†Mapperæ¥å£ï¼Œä½†Springä¸çŸ¥é“å®ƒåœ¨å“ªé‡Œ
- éœ€è¦å‘Šè¯‰Springï¼š"å»è¿™ä¸ªæ–‡ä»¶å¤¹é‡Œæ‰¾æ‰€æœ‰çš„Mapper"
- æ‰¾åˆ°åè‡ªåŠ¨åˆ›å»ºå¯¹åº”çš„å®ç°ç±»ï¼ˆä»£ç†å¯¹è±¡ï¼‰

### 1.2 æ‰«æçš„å·¥ä½œåŸç†


```
æ‰«æå‰ï¼šMapperæ¥å£æ˜¯ä¸€ä¸ªç©ºå£³
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  UserMapper.java    â”‚
â”‚  interface æ¥å£å®šä¹‰  â”‚ â† åªæœ‰å®šä¹‰ï¼Œæ²¡æœ‰å®ç°
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

æ‰«æåï¼šè‡ªåŠ¨ç”Ÿæˆå®ç°ç±»
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  UserMapper.java    â”‚
â”‚  interface æ¥å£å®šä¹‰  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“ æ‰«æ
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  UserMapperProxy    â”‚
â”‚  è‡ªåŠ¨ç”Ÿæˆçš„å®ç°ç±»    â”‚ â† MyBatis-Pluså¸®ä½ å†™çš„
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. ğŸ“Œ @MapperScanæ³¨è§£è¯¦è§£


### 2.1 æ³¨è§£çš„ä½œç”¨


`@MapperScan`å°±æ˜¯å‘Šè¯‰MyBatis-Plusï¼š"å»è¿™ä¸ªåŒ…ä¸‹é¢æ‰¾æ‰€æœ‰çš„Mapperæ¥å£"

**åŸºç¡€ç”¨æ³•**ï¼š
```java
@SpringBootApplication
@MapperScan("com.example.mapper")  // æ‰«æè¿™ä¸ªåŒ…
public class Application {
    public static void main(String[] args) {
        SpringApplication.run(Application.class, args);
    }
}
```

### 2.2 æ³¨è§£çš„ä½ç½®


**ğŸ¯ ä¸‰ç§æ”¾ç½®ä½ç½®**ï¼š

| ä½ç½® | è¯´æ˜ | æ¨èåº¦ |
|------|------|--------|
| **å¯åŠ¨ç±»ä¸Š** | ç›´æ¥å†™åœ¨@SpringBootApplicationä¸‹é¢ | â­â­â­ æœ€å¸¸ç”¨ |
| **é…ç½®ç±»ä¸Š** | å†™åœ¨å•ç‹¬çš„é…ç½®ç±» | â­â­ é¡¹ç›®å¤æ‚æ—¶ |
| **æ¯ä¸ªMapperä¸Š** | ç”¨@Mapperé€ä¸ªæ ‡æ³¨ | â­ å¾ˆå°‘ç”¨ |

**ç¤ºä¾‹1ï¼šæ”¾åœ¨å¯åŠ¨ç±»**ï¼ˆæœ€å¸¸è§ï¼‰
```java
@SpringBootApplication
@MapperScan("com.example.mapper")
public class Application {
    // å¯åŠ¨é¡¹ç›®æ—¶è‡ªåŠ¨æ‰«æ
}
```

**ç¤ºä¾‹2ï¼šæ”¾åœ¨é…ç½®ç±»**
```java
@Configuration
@MapperScan("com.example.mapper")
public class MyBatisConfig {
    // ä¸“é—¨çš„é…ç½®ç±»
}
```

**ç¤ºä¾‹3ï¼šä¸ç”¨@MapperScançš„æ–¹å¼**
```java
// åœ¨æ¯ä¸ªMapperæ¥å£ä¸ŠåŠ @Mapper
@Mapper  // é€ä¸ªæ ‡æ³¨
public interface UserMapper extends BaseMapper<User> {
}
```

### 2.3 å¤šä¸ªåŒ…æ‰«æ


**åœºæ™¯**ï¼šä½ çš„Mapperåˆ†æ•£åœ¨ä¸åŒåŒ…é‡Œ

```java
// æ–¹å¼1ï¼šæ•°ç»„å½¢å¼ï¼ˆæ¨èï¼‰
@MapperScan({"com.example.mapper", "com.example.dao"})

// æ–¹å¼2ï¼šé€šé…ç¬¦å½¢å¼
@MapperScan("com.example.*.mapper")

// æ–¹å¼3ï¼šå¤šä¸ª@MapperScan
@MapperScan("com.example.mapper")
@MapperScan("com.example.dao")
```

**ğŸ”¸ å®é™…é¡¹ç›®ç»“æ„ç¤ºä¾‹**ï¼š
```
com.example
  â”œâ”€â”€ user
  â”‚   â””â”€â”€ mapper  â† ç”¨æˆ·ç›¸å…³Mapper
  â”œâ”€â”€ order
  â”‚   â””â”€â”€ mapper  â† è®¢å•ç›¸å…³Mapper
  â””â”€â”€ product
      â””â”€â”€ mapper  â† å•†å“ç›¸å…³Mapper

é…ç½®ï¼š@MapperScan("com.example.*.mapper")
```

---

## 3. ğŸ—‚ï¸ Mapperæ‰«æè·¯å¾„é…ç½®


### 3.1 è·¯å¾„é…ç½®è§„åˆ™


**ğŸ”¸ åŒ…è·¯å¾„çš„å†™æ³•**ï¼š

```
å®Œæ•´åŒ…åï¼šcom.example.mapper
  â†“
æ‰«æè¿™ä¸ªåŒ…ä¸‹çš„æ‰€æœ‰Mapperæ¥å£

é¡¹ç›®ç»“æ„ï¼š
src/main/java
  â””â”€â”€ com
      â””â”€â”€ example
          â””â”€â”€ mapper          â† æ‰«æè¿™é‡Œ
              â”œâ”€â”€ UserMapper.java
              â”œâ”€â”€ OrderMapper.java
              â””â”€â”€ ProductMapper.java
```

### 3.2 å¸¸è§è·¯å¾„é…ç½®åœºæ™¯


**åœºæ™¯1ï¼šå•æ¨¡å—é¡¹ç›®**
```java
// æ‰€æœ‰Mapperéƒ½åœ¨ä¸€ä¸ªåŒ…
@MapperScan("com.example.mapper")

é¡¹ç›®ç»“æ„ï¼š
com.example
  â”œâ”€â”€ controller
  â”œâ”€â”€ service
  â””â”€â”€ mapper  â† ç»Ÿä¸€æ”¾è¿™é‡Œ
```

**åœºæ™¯2ï¼šå¤šæ¨¡å—é¡¹ç›®**
```java
// ä¸åŒä¸šåŠ¡æ¨¡å—çš„Mapper
@MapperScan({
    "com.example.user.mapper",
    "com.example.order.mapper",
    "com.example.product.mapper"
})
```

**åœºæ™¯3ï¼šä½¿ç”¨é€šé…ç¬¦**
```java
// æ‰«ææ‰€æœ‰å­åŒ…çš„mapper
@MapperScan("com.example.**.mapper")

åŒ¹é…ï¼š
âœ… com.example.user.mapper
âœ… com.example.order.mapper
âœ… com.example.module.sub.mapper
```

### 3.3 é…ç½®æ–‡ä»¶æ–¹å¼


**é™¤äº†æ³¨è§£ï¼Œè¿˜å¯ä»¥åœ¨é…ç½®æ–‡ä»¶é…ç½®**ï¼š

```yaml
# application.yml
mybatis-plus:
  mapper-locations: classpath*:mapper/**/*.xml  # XMLæ–‡ä»¶ä½ç½®
  type-aliases-package: com.example.entity      # å®ä½“ç±»åŒ…å
```

**ğŸ”¸ ä¸¤è€…çš„åŒºåˆ«**ï¼š

| é…ç½®æ–¹å¼ | ä½œç”¨å¯¹è±¡ | è¯´æ˜ |
|---------|---------|------|
| `@MapperScan` | Javaæ¥å£ | æ‰«æMapperæ¥å£ |
| `mapper-locations` | XMLæ–‡ä»¶ | æ‰«æSQLæ˜ å°„æ–‡ä»¶ |

---

## 4. âš™ï¸ è‡ªåŠ¨è£…é…æœºåˆ¶


### 4.1 ä»€ä¹ˆæ˜¯è‡ªåŠ¨è£…é…


**é€šä¿—è§£é‡Š**ï¼šå°±åƒæ‰‹æœºè‡ªåŠ¨è¿æ¥WiFiä¸€æ ·ï¼ŒMyBatis-Plusè‡ªåŠ¨å¸®ä½ æŠŠå„ä¸ªç»„ä»¶è¿æ¥èµ·æ¥ã€‚

```
è‡ªåŠ¨è£…é…æµç¨‹ï¼š

1ï¸âƒ£ æ‰«æé˜¶æ®µ
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ æ‰¾åˆ°Mapperæ¥å£ â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“
2ï¸âƒ£ åˆ›å»ºä»£ç†å¯¹è±¡
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ ç”Ÿæˆå®ç°ç±»    â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“
3ï¸âƒ£ æ³¨å…¥Springå®¹å™¨
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ å¯ä»¥ç›´æ¥ä½¿ç”¨  â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 è‡ªåŠ¨è£…é…çš„å†…å®¹


**MyBatis-Plusè‡ªåŠ¨å¸®ä½ åšçš„äº‹**ï¼š

```
ğŸ”¸ è‡ªåŠ¨è£…é…çš„ç»„ä»¶ï¼š

1. Mapperæ¥å£çš„å®ç°ç±»
   UserMapper â†’ UserMapperProxyï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰

2. SqlSessionFactory
   æ•°æ®åº“ä¼šè¯å·¥å‚ï¼ˆè‡ªåŠ¨åˆ›å»ºï¼‰

3. æ•°æ®æºDataSource
   è¿æ¥æ•°æ®åº“çš„æ± å­ï¼ˆè‡ªåŠ¨é…ç½®ï¼‰

4. äº‹åŠ¡ç®¡ç†å™¨
   @Transactionalèƒ½ç”¨ï¼ˆè‡ªåŠ¨è®¾ç½®ï¼‰
```

### 4.3 è£…é…è¿‡ç¨‹æ¼”ç¤º


```java
// ä½ åªéœ€è¦å†™æ¥å£
public interface UserMapper extends BaseMapper<User> {
    // ç©ºæ¥å£ï¼Œä»€ä¹ˆéƒ½ä¸ç”¨å†™
}

// MyBatis-Plusè‡ªåŠ¨åšçš„äº‹ï¼š
@Service
public class UserService {
    @Autowired
    private UserMapper userMapper;  // â† è‡ªåŠ¨æ³¨å…¥ï¼Œç›´æ¥èƒ½ç”¨
    
    public User getUser(Long id) {
        return userMapper.selectById(id);  // æ–¹æ³•å·²ç»å®ç°å¥½äº†
    }
}
```

**ğŸ¯ å…³é”®ç†è§£**ï¼š
- ä½ å†™æ¥å£å®šä¹‰ â†’ MyBatis-Pluså†™å®ç°
- ä½ åŠ @MapperScan â†’ Springè‡ªåŠ¨æ³¨å†Œåˆ°å®¹å™¨
- ä½ ç”¨@Autowired â†’ Springè‡ªåŠ¨æ³¨å…¥ç»™ä½ 

---

## 5. ğŸ”§ é…ç½®ç±»è®¾ç½®


### 5.1 ä¸ºä»€ä¹ˆéœ€è¦é…ç½®ç±»


**é€šä¿—ç†è§£**ï¼šé…ç½®ç±»å°±åƒæ˜¯ä¸€ä¸ª"è®¾ç½®ä¸­å¿ƒ"ï¼ŒæŠŠMyBatis-Plusçš„å„ç§è®¾ç½®é›†ä¸­ç®¡ç†ã€‚

```
æ²¡æœ‰é…ç½®ç±»ï¼šè®¾ç½®æ•£è½å„å¤„
@SpringBootApplication â† æœ‰æ‰«æé…ç½®
application.yml       â† æœ‰æ•°æ®åº“é…ç½®
æ¯ä¸ªMapperé‡Œ          â† æœ‰å„ç§æ³¨è§£

æœ‰é…ç½®ç±»ï¼šç»Ÿä¸€ç®¡ç†
MyBatisConfig.java    â† æ‰€æœ‰è®¾ç½®éƒ½åœ¨è¿™é‡Œ
```

### 5.2 åŸºç¡€é…ç½®ç±»


```java
@Configuration  // æ ‡è®°è¿™æ˜¯é…ç½®ç±»
@MapperScan("com.example.mapper")  // Mapperæ‰«æ
public class MyBatisConfig {
    
    // è¿™é‡Œå¯ä»¥æ·»åŠ å„ç§é…ç½®
}
```

### 5.3 å¸¸ç”¨é…ç½®é¡¹


**ğŸ”¸ é…ç½®é¡¹é€ŸæŸ¥è¡¨**ï¼š

| é…ç½®å†…å®¹ | ä½œç”¨ | é‡è¦åº¦ |
|---------|------|--------|
| **åˆ†é¡µæ’ä»¶** | æ”¯æŒåˆ†é¡µæŸ¥è¯¢ | â­â­â­ å¿…é… |
| **æ€§èƒ½åˆ†æ** | æŸ¥çœ‹SQLæ‰§è¡Œæ—¶é—´ | â­â­ å¼€å‘ç”¨ |
| **é€»è¾‘åˆ é™¤** | åˆ é™¤å˜æ›´æ–° | â­â­ å¸¸ç”¨ |
| **å­—æ®µå¡«å……** | è‡ªåŠ¨å¡«å……æ—¶é—´ç­‰ | â­â­ å¸¸ç”¨ |

**å®Œæ•´é…ç½®ç¤ºä¾‹**ï¼š
```java
@Configuration
@MapperScan("com.example.mapper")
public class MyBatisConfig {
    
    /**
     * åˆ†é¡µæ’ä»¶é…ç½®
     * ä½œç”¨ï¼šè®©åˆ†é¡µæŸ¥è¯¢èƒ½æ­£å¸¸å·¥ä½œ
     */
    @Bean
    public MybatisPlusInterceptor paginationInterceptor() {
        MybatisPlusInterceptor interceptor = new MybatisPlusInterceptor();
        // æ·»åŠ åˆ†é¡µæ’ä»¶
        interceptor.addInnerInterceptor(
            new PaginationInnerInterceptor(DbType.MYSQL)
        );
        return interceptor;
    }
}
```

### 5.4 é…ç½®ç±»çš„é«˜çº§ç”¨æ³•


```java
@Configuration
@MapperScan("com.example.mapper")
public class MyBatisConfig {
    
    /**
     * å…¨å±€é…ç½®
     */
    @Bean
    public GlobalConfig globalConfig() {
        GlobalConfig config = new GlobalConfig();
        // é…ç½®é€»è¾‘åˆ é™¤
        config.setDbConfig(new GlobalConfig.DbConfig()
            .setLogicDeleteValue("1")    // åˆ é™¤å€¼
            .setLogicNotDeleteValue("0") // æœªåˆ é™¤å€¼
        );
        return config;
    }
}
```

---

## 6. ğŸ“ æ—¥å¿—é…ç½®


### 6.1 æ—¥å¿—çš„ä½œç”¨


**é€šä¿—ç†è§£**ï¼šæ—¥å¿—å°±åƒæ˜¯ç¨‹åºçš„"ç›‘æ§æ‘„åƒå¤´"ï¼Œè®°å½•ä¸‹ç¨‹åºè¿è¡Œæ—¶åšäº†ä»€ä¹ˆã€‚

```
æ²¡æœ‰æ—¥å¿—ï¼š
ä½ ï¼šç¨‹åºæŠ¥é”™äº†ï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆ ğŸ¤·

æœ‰æ—¥å¿—ï¼š
æ—¥å¿—ï¼šæ‰§è¡Œäº†SQL: SELECT * FROM user WHERE id = 1
æ—¥å¿—ï¼šè€—æ—¶: 15ms
æ—¥å¿—ï¼šç»“æœ: æŸ¥è¯¢åˆ°1æ¡æ•°æ®
ä½ ï¼šå“¦ï¼ŒåŸæ¥æ˜¯è¿™æ · ğŸ˜Š
```

### 6.2 å¼€å¯SQLæ—¥å¿—


**æ–¹å¼1ï¼šé…ç½®æ–‡ä»¶å¼€å¯**ï¼ˆæœ€ç®€å•ï¼‰
```yaml
# application.yml
mybatis-plus:
  configuration:
    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl  # æ§åˆ¶å°è¾“å‡º
```

**æ–¹å¼2ï¼šä½¿ç”¨Logbacké…ç½®**
```yaml
# application.yml
logging:
  level:
    com.example.mapper: debug  # MapperåŒ…çš„æ—¥å¿—çº§åˆ«
```

### 6.3 æ—¥å¿—è¾“å‡ºç¤ºä¾‹


**å¼€å¯æ—¥å¿—åï¼Œæ§åˆ¶å°ä¼šæ˜¾ç¤º**ï¼š
```
==>  Preparing: SELECT id,username,age FROM user WHERE id=?
==> Parameters: 1(Long)
<==    Columns: id, username, age
<==        Row: 1, å¼ ä¸‰, 25
<==      Total: 1
```

**ğŸ”¸ æ—¥å¿—è§£è¯»**ï¼š

```
Preparing:  å‡†å¤‡æ‰§è¡Œçš„SQLè¯­å¥
Parameters: SQLå‚æ•°ï¼ˆ?å·çš„å€¼ï¼‰
Columns:    æŸ¥è¯¢çš„å­—æ®µ
Row:        æŸ¥è¯¢åˆ°çš„æ•°æ®
Total:      æ€»å…±å‡ æ¡æ•°æ®
```

### 6.4 æ—¥å¿—çº§åˆ«é…ç½®


**ä¸åŒç¯å¢ƒç”¨ä¸åŒæ—¥å¿—**ï¼š

```yaml
# å¼€å‘ç¯å¢ƒ - è¯¦ç»†æ—¥å¿—
spring:
  profiles: dev
logging:
  level:
    com.example.mapper: debug  # æ˜¾ç¤ºSQL

# ç”Ÿäº§ç¯å¢ƒ - ç®€æ´æ—¥å¿—  
spring:
  profiles: prod
logging:
  level:
    com.example.mapper: warn   # åªæ˜¾ç¤ºè­¦å‘Š
```

**ğŸ”¸ æ—¥å¿—çº§åˆ«è¯´æ˜**ï¼š

| çº§åˆ« | è¯´æ˜ | é€‚ç”¨åœºæ™¯ |
|------|------|---------|
| `debug` | æ˜¾ç¤ºè¯¦ç»†SQL | å¼€å‘è°ƒè¯• |
| `info` | æ˜¾ç¤ºä¸€èˆ¬ä¿¡æ¯ | æµ‹è¯•ç¯å¢ƒ |
| `warn` | åªæ˜¾ç¤ºè­¦å‘Š | ç”Ÿäº§ç¯å¢ƒ |
| `error` | åªæ˜¾ç¤ºé”™è¯¯ | ç”Ÿäº§ç¯å¢ƒ |

---

## 7. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 7.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ Mapperæ‰«æï¼šè®©MyBatis-PlusçŸ¥é“ä½ çš„Mapperåœ¨å“ªé‡Œ
ğŸ”¸ @MapperScanï¼šå‘Šè¯‰æ‰«æå“ªä¸ªåŒ…ï¼ˆæœ€å¸¸ç”¨çš„æ–¹å¼ï¼‰
ğŸ”¸ è‡ªåŠ¨è£…é…ï¼šè‡ªåŠ¨åˆ›å»ºå®ç°ç±»å¹¶æ³¨å…¥åˆ°Springå®¹å™¨
ğŸ”¸ é…ç½®ç±»ï¼šé›†ä¸­ç®¡ç†MyBatis-Plusçš„å„ç§é…ç½®
ğŸ”¸ æ—¥å¿—é…ç½®ï¼šæŸ¥çœ‹SQLæ‰§è¡Œæƒ…å†µï¼Œæ–¹ä¾¿è°ƒè¯•
```

### 7.2 é…ç½®æµç¨‹æ€»è§ˆ


```
æ­¥éª¤1ï¼šæ·»åŠ @MapperScanæ³¨è§£
    â†“
æ­¥éª¤2ï¼šç¼–å†™Mapperæ¥å£
    â†“
æ­¥éª¤3ï¼šåˆ›å»ºé…ç½®ç±»ï¼ˆå¯é€‰ï¼‰
    â†“
æ­¥éª¤4ï¼šå¼€å¯æ—¥å¿—ï¼ˆå»ºè®®ï¼‰
    â†“
æ­¥éª¤5ï¼šç›´æ¥ä½¿ç”¨Mapper
```

### 7.3 æ–°æ‰‹å¸¸è§é—®é¢˜


**â“ é—®é¢˜1ï¼šMapperæ³¨å…¥æŠ¥é”™**
```
åŸå› ï¼šå¿˜è®°åŠ @MapperScan
è§£å†³ï¼šåœ¨å¯åŠ¨ç±»ä¸ŠåŠ @MapperScan("åŒ…å")
```

**â“ é—®é¢˜2ï¼šçœ‹ä¸åˆ°SQLæ—¥å¿—**
```
åŸå› ï¼šæ²¡å¼€å¯æ—¥å¿—é…ç½®
è§£å†³ï¼šåœ¨ymlé‡ŒåŠ log-implé…ç½®
```

**â“ é—®é¢˜3ï¼šåˆ†é¡µä¸ç”Ÿæ•ˆ**
```
åŸå› ï¼šæ²¡é…ç½®åˆ†é¡µæ’ä»¶
è§£å†³ï¼šåœ¨é…ç½®ç±»é‡Œæ·»åŠ åˆ†é¡µæ’ä»¶
```

### 7.4 æœ€ä½³å®è·µå»ºè®®


**âœ… æ¨èåšæ³•**ï¼š
1. ä½¿ç”¨`@MapperScan`ç»Ÿä¸€æ‰«æï¼ˆåˆ«ç”¨@Mapperé€ä¸ªåŠ ï¼‰
2. åˆ›å»ºä¸“é—¨çš„é…ç½®ç±»ç®¡ç†é…ç½®ï¼ˆåˆ«éƒ½å†™å¯åŠ¨ç±»ï¼‰
3. å¼€å‘ç¯å¢ƒå¼€debugæ—¥å¿—ï¼ˆæ–¹ä¾¿è°ƒè¯•ï¼‰
4. ç”Ÿäº§ç¯å¢ƒå…³é—­SQLæ—¥å¿—ï¼ˆæé«˜æ€§èƒ½ï¼‰

**âŒ é¿å…åšæ³•**ï¼š
1. ä¸è¦åœ¨å¤šä¸ªåœ°æ–¹é‡å¤é…ç½®æ‰«æè·¯å¾„
2. ä¸è¦æŠŠé…ç½®æ•£è½åœ¨å„å¤„éš¾ä»¥ç®¡ç†
3. ä¸è¦åœ¨ç”Ÿäº§ç¯å¢ƒå¼€debugæ—¥å¿—

### 7.5 å®Œæ•´é…ç½®ç¤ºä¾‹


```java
// 1. å¯åŠ¨ç±»
@SpringBootApplication
@MapperScan("com.example.mapper")
public class Application {
    public static void main(String[] args) {
        SpringApplication.run(Application.class, args);
    }
}

// 2. é…ç½®ç±»
@Configuration
public class MyBatisConfig {
    @Bean
    public MybatisPlusInterceptor paginationInterceptor() {
        MybatisPlusInterceptor interceptor = new MybatisPlusInterceptor();
        interceptor.addInnerInterceptor(
            new PaginationInnerInterceptor(DbType.MYSQL)
        );
        return interceptor;
    }
}
```

```yaml
# 3. application.yml
mybatis-plus:
  configuration:
    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl
  global-config:
    db-config:
      logic-delete-value: 1
      logic-not-delete-value: 0

logging:
  level:
    com.example.mapper: debug
```

**æ ¸å¿ƒè®°å¿†å£è¯€**ï¼š
- æ‰«ææ³¨è§£åŠ å¯åŠ¨ï¼Œè·¯å¾„é…ç½®è¦å†™å…¨
- è‡ªåŠ¨è£…é…çœŸæ–¹ä¾¿ï¼Œæ¥å£å®ç°ä¸ç”¨ç®¡
- é…ç½®ç±»é‡ŒåŠ æ’ä»¶ï¼Œåˆ†é¡µæ—¥å¿—éƒ½é½å…¨
- æ—¥å¿—å¼€å¯çœ‹SQLï¼Œè°ƒè¯•é—®é¢˜ä¸å†éš¾