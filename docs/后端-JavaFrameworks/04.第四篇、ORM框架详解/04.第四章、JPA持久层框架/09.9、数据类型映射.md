---
title: 9ã€æ•°æ®ç±»å‹æ˜ å°„
---
## ğŸ“š ç›®å½•

1. [ä»€ä¹ˆæ˜¯æ•°æ®ç±»å‹æ˜ å°„](#1-ä»€ä¹ˆæ˜¯æ•°æ®ç±»å‹æ˜ å°„)
2. [JavaåŸºæœ¬ç±»å‹æ˜ å°„è§„åˆ™](#2-JavaåŸºæœ¬ç±»å‹æ˜ å°„è§„åˆ™)
3. [åŒ…è£…ç±»å‹çš„æ­£ç¡®ä½¿ç”¨](#3-åŒ…è£…ç±»å‹çš„æ­£ç¡®ä½¿ç”¨)
4. [BigDecimalå¤„ç†é‡‘é¢æ•°æ®](#4-BigDecimalå¤„ç†é‡‘é¢æ•°æ®)
5. [Stringå­—ç¬¦ä¸²ç±»å‹æ˜ å°„](#5-Stringå­—ç¬¦ä¸²ç±»å‹æ˜ å°„)
6. [Lobå¤§å¯¹è±¡æ˜ å°„è¯¦è§£](#6-Lobå¤§å¯¹è±¡æ˜ å°„è¯¦è§£)
7. [äºŒè¿›åˆ¶æ•°æ®å¤„ç†](#7-äºŒè¿›åˆ¶æ•°æ®å¤„ç†)
8. [Blobä¸Clobå®æˆ˜åº”ç”¨](#8-Blobä¸Clobå®æˆ˜åº”ç”¨)
9. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#9-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ¯ ä»€ä¹ˆæ˜¯æ•°æ®ç±»å‹æ˜ å°„


### 1.1 æ ¸å¿ƒæ¦‚å¿µç†è§£


**ç®€å•æ¥è¯´**ï¼šæ•°æ®ç±»å‹æ˜ å°„å°±æ˜¯å‘Šè¯‰JPA"Javaä¸­çš„æ•°æ®ç±»å‹"å’Œ"æ•°æ®åº“ä¸­çš„æ•°æ®ç±»å‹"å¦‚ä½•å¯¹åº”ã€‚

```
Javaä¸–ç•Œ                    æ•°æ®åº“ä¸–ç•Œ
   â†“                           â†“
String name;        â†’      VARCHAR(255)
int age;            â†’      INTEGER
BigDecimal price;   â†’      DECIMAL(19,2)
```

> ğŸ’¡ **é€šä¿—ç†è§£**ï¼š  
> å°±åƒç¿»è¯‘ä¸€æ ·ï¼ŒJavaè¯´"æ•´æ•°"ï¼Œæ•°æ®åº“å¬æˆ"INTEGER"ï¼›Javaè¯´"æ–‡æœ¬"ï¼Œæ•°æ®åº“å¬æˆ"VARCHAR"ã€‚JPAå°±æ˜¯è¿™ä¸ªç¿»è¯‘å®˜ï¼

### 1.2 ä¸ºä»€ä¹ˆéœ€è¦ç±»å‹æ˜ å°„


**å®é™…é—®é¢˜åœºæ™¯**ï¼š

| é—®é¢˜ | è¯´æ˜ | æ˜ å°„è§£å†³æ–¹æ¡ˆ |
|------|------|------------|
| **ç²¾åº¦ä¸¢å¤±** | é‡‘é¢ç”¨`double`ä¼šä¸¢ç²¾åº¦ | ç”¨`BigDecimal`æ˜ å°„`DECIMAL` |
| **ç©ºå€¼å¤„ç†** | åŸºæœ¬ç±»å‹ä¸èƒ½ä¸º`null` | ç”¨åŒ…è£…ç±»å‹`Integer`ä»£æ›¿`int` |
| **æ–‡æœ¬é•¿åº¦** | è¶…é•¿æ–‡æœ¬å­˜å‚¨ä¸ä¸‹ | ç”¨`@Lob`æ˜ å°„å¤§æ–‡æœ¬å­—æ®µ |
| **æ–‡ä»¶å­˜å‚¨** | å›¾ç‰‡ã€æ–‡æ¡£æ€ä¹ˆå­˜ | ç”¨`byte[]`æ˜ å°„`BLOB`å­—æ®µ |

---

## 2. ğŸ“Š JavaåŸºæœ¬ç±»å‹æ˜ å°„è§„åˆ™


### 2.1 æ•°å€¼ç±»å‹æ˜ å°„å¯¹ç…§


**å¸¸ç”¨æ•°å€¼ç±»å‹çš„è‡ªåŠ¨æ˜ å°„**ï¼š

```
Javaç±»å‹          â†’    æ•°æ®åº“ç±»å‹
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
byte              â†’    TINYINT
short             â†’    SMALLINT
int               â†’    INTEGER
long              â†’    BIGINT
float             â†’    REAL
double            â†’    DOUBLE
```

### 2.2 å®é™…ä»£ç ç¤ºä¾‹


```java
@Entity
public class Product {
    @Id
    private Long id;
    
    // âœ… æ•°é‡ç”¨int - æ˜ å°„ä¸º INTEGER
    private int quantity;
    
    // âœ… åº“å­˜ç”¨long - æ˜ å°„ä¸º BIGINT  
    private long stockCount;
    
    // âŒ æ³¨æ„ï¼šä»·æ ¼ä¸è¦ç”¨doubleï¼
    // private double price; // ä¼šä¸¢ç²¾åº¦
}
```

> âš ï¸ **é‡è¦æé†’**ï¼š  
> æ¶‰åŠé‡‘é¢ã€ç²¾ç¡®è®¡ç®—çš„æ•°æ®ï¼Œ**åƒä¸‡ä¸è¦ç”¨float/double**ï¼Œå¿…é¡»ç”¨`BigDecimal`ï¼

### 2.3 å¸ƒå°”ç±»å‹æ˜ å°„


**å¸ƒå°”å€¼çš„ä¸¤ç§å­˜å‚¨æ–¹å¼**ï¼š

```java
@Entity
public class User {
    // æ–¹å¼1ï¼šå­˜å‚¨ä¸º BIT æˆ– BOOLEAN (å–å†³äºæ•°æ®åº“)
    private boolean active;
    
    // æ–¹å¼2ï¼šè‡ªå®šä¹‰æ˜ å°„ä¸ºæ•°å­— 0/1
    @Column(columnDefinition = "TINYINT(1)")
    private boolean isVip;
}
```

**æ•°æ®åº“å®é™…å­˜å‚¨**ï¼š
```
MySQL:  TINYINT(1)   â†’ 0è¡¨ç¤ºfalse, 1è¡¨ç¤ºtrue
Oracle: NUMBER(1)    â†’ 0è¡¨ç¤ºfalse, 1è¡¨ç¤ºtrue  
PostgreSQL: BOOLEAN  â†’ ç›´æ¥å­˜å‚¨true/false
```

---

## 3. ğŸ åŒ…è£…ç±»å‹çš„æ­£ç¡®ä½¿ç”¨


### 3.1 åŸºæœ¬ç±»å‹ vs åŒ…è£…ç±»å‹


**å…³é”®åŒºåˆ«**ï¼š

```
åŸºæœ¬ç±»å‹ï¼ˆintï¼‰          åŒ…è£…ç±»å‹ï¼ˆIntegerï¼‰
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
âœ… èŠ‚çœå†…å­˜              âœ… å¯ä»¥ä¸º null
âœ… æ€§èƒ½æ›´å¥½              âœ… ç¬¦åˆä¸šåŠ¡é€»è¾‘
âŒ ä¸èƒ½ä¸ºnull            âŒ å ç”¨å†…å­˜ç¨å¤š
âŒ é»˜è®¤å€¼å¯èƒ½è¯¯å¯¼        âŒ æ‹†ç®±å¯èƒ½ç©ºæŒ‡é’ˆ
```

### 3.2 ä»€ä¹ˆæ—¶å€™ç”¨åŒ…è£…ç±»å‹


> ğŸ“– **åˆ¤æ–­åŸåˆ™**ï¼š  
> åªè¦å­—æ®µåœ¨æ•°æ®åº“ä¸­**å…è®¸ä¸ºNULL**ï¼ŒJavaä¸­å°±è¦ç”¨**åŒ…è£…ç±»å‹**ï¼

**å®é™…åœºæ™¯å¯¹æ¯”**ï¼š

```java
@Entity
public class Order {
    // âŒ é”™è¯¯ï¼šè¯„åˆ†å¯ä»¥ä¸å¡«ï¼Œä½†inté»˜è®¤å€¼æ˜¯0
    private int rating;  
    
    // âœ… æ­£ç¡®ï¼šç”¨Integerï¼Œæœªè¯„åˆ†æ—¶ä¸ºnull
    private Integer rating;
    
    // âŒ é”™è¯¯ï¼šæŠ˜æ‰£å¯é€‰ï¼Œä½†doubleé»˜è®¤0.0
    private double discount;
    
    // âœ… æ­£ç¡®ï¼šç”¨Doubleï¼Œæ— æŠ˜æ‰£æ—¶ä¸ºnull
    private Double discount;
}
```

### 3.3 å¸¸è§åŒ…è£…ç±»å‹æ˜ å°„


| JavaåŒ…è£…ç±»å‹ | æ•°æ®åº“ç±»å‹ | ä½¿ç”¨åœºæ™¯ |
|------------|----------|---------|
| `Integer` | `INTEGER NULL` | å¯é€‰çš„æ•´æ•° |
| `Long` | `BIGINT NULL` | å¯é€‰çš„é•¿æ•´æ•° |
| `Double` | `DOUBLE NULL` | å¯é€‰çš„æµ®ç‚¹æ•° |
| `Boolean` | `BOOLEAN NULL` | ä¸‰æ€é€»è¾‘ |

**ä¸‰æ€é€»è¾‘ç¤ºä¾‹**ï¼š

```java
@Entity
public class Question {
    // ä¸‰ç§çŠ¶æ€ï¼štrue(å·²å›ç­”), false(æœªå›ç­”), null(æœªè®¾ç½®)
    private Boolean answered;
    
    // ä¸šåŠ¡é€»è¾‘
    public String getStatus() {
        if (answered == null) return "å¾…å¤„ç†";
        if (answered) return "å·²å›ç­”";
        return "æœªå›ç­”";
    }
}
```

---

## 4. ğŸ’° BigDecimalå¤„ç†é‡‘é¢æ•°æ®


### 4.1 ä¸ºä»€ä¹ˆå¿…é¡»ç”¨BigDecimal


> âš ï¸ **è¡€æ³ªæ•™è®­**ï¼š  
> ç”¨`double`å­˜é‡‘é¢ï¼Œä¼šå‡ºç°`19.9å…ƒ`å˜æˆ`19.899999`çš„æƒ…å†µï¼

**ç²¾åº¦ä¸¢å¤±æ¼”ç¤º**ï¼š

```
doubleè®¡ç®—çš„é—®é¢˜ï¼š
0.1 + 0.2 = 0.30000000000000004  âŒ
1.0 - 0.9 = 0.09999999999999998  âŒ

BigDecimalè®¡ç®—ï¼š
0.1 + 0.2 = 0.3  âœ…
1.0 - 0.9 = 0.1  âœ…
```

### 4.2 BigDecimalæ˜ å°„é…ç½®


```java
@Entity
public class Product {
    @Id
    private Long id;
    
    // âœ… æ ‡å‡†é‡‘é¢æ˜ å°„ï¼šç²¾åº¦19ä½ï¼Œå°æ•°2ä½
    @Column(precision = 19, scale = 2)
    private BigDecimal price;
    
    // âœ… é«˜ç²¾åº¦æ±‡ç‡ï¼šç²¾åº¦10ä½ï¼Œå°æ•°6ä½
    @Column(precision = 10, scale = 6)
    private BigDecimal exchangeRate;
}
```

**å‚æ•°è¯´æ˜**ï¼š
- `precision`ï¼š**æ€»ä½æ•°**ï¼ˆæ•´æ•°+å°æ•°ï¼‰
- `scale`ï¼š**å°æ•°ä½æ•°**

**å®é™…æ•ˆæœ**ï¼š
```
precision=19, scale=2
æœ€å¤§å€¼ï¼š99999999999999999.99
æœ€å°å€¼ï¼š-99999999999999999.99

precision=10, scale=6  
æœ€å¤§å€¼ï¼š9999.999999
```

### 4.3 BigDecimalä½¿ç”¨æ³¨æ„äº‹é¡¹


```java
// âœ… æ­£ç¡®åˆ›å»ºæ–¹å¼
BigDecimal price1 = new BigDecimal("19.99");

// âŒ é”™è¯¯ï¼šä»ç„¶æœ‰ç²¾åº¦é—®é¢˜
BigDecimal price2 = new BigDecimal(19.99);

// âœ… è¿ç®—ç¤ºä¾‹
BigDecimal total = price1.multiply(new BigDecimal("2")); // ä¹˜æ³•
BigDecimal discount = price1.subtract(new BigDecimal("5")); // å‡æ³•
```

> ğŸ’¡ **è®°ä½**ï¼šåˆ›å»ºBigDecimalæ—¶ï¼Œ**å¿…é¡»ç”¨å­—ç¬¦ä¸²**ï¼Œä¸è¦ç”¨doubleï¼

---

## 5. ğŸ“ Stringå­—ç¬¦ä¸²ç±»å‹æ˜ å°„


### 5.1 å­—ç¬¦ä¸²é•¿åº¦æ§åˆ¶


**é»˜è®¤æ˜ å°„è§„åˆ™**ï¼š

```java
@Entity
public class Article {
    // é»˜è®¤ï¼šVARCHAR(255)
    private String title;
    
    // è‡ªå®šä¹‰é•¿åº¦ï¼šVARCHAR(100)
    @Column(length = 100)
    private String author;
    
    // çŸ­æ–‡æœ¬ï¼šVARCHAR(50)
    @Column(length = 50)
    private String category;
}
```

**é•¿åº¦è§„åˆ’å»ºè®®**ï¼š

| å­—æ®µç±»å‹ | æ¨èé•¿åº¦ | æ•°æ®åº“ç±»å‹ |
|---------|---------|----------|
| ç”¨æˆ·å | 20-50 | VARCHAR(50) |
| é‚®ç®± | 100 | VARCHAR(100) |
| æ ‡é¢˜ | 100-200 | VARCHAR(200) |
| æ‰‹æœºå· | 20 | VARCHAR(20) |
| æ‘˜è¦ | 500 | VARCHAR(500) |

### 5.2 å¯ç©ºä¸éç©ºè®¾ç½®


```java
@Entity
public class User {
    // âœ… å¿…å¡«å­—æ®µï¼šNOT NULL
    @Column(nullable = false, length = 50)
    private String username;
    
    // âœ… å¯é€‰å­—æ®µï¼šå…è®¸NULL
    @Column(length = 100)
    private String nickname;
}
```

**ç”Ÿæˆçš„SQL**ï¼š
```sql
CREATE TABLE user (
    username VARCHAR(50) NOT NULL,  -- ä¸èƒ½ä¸ºç©º
    nickname VARCHAR(100) NULL      -- å¯ä»¥ä¸ºç©º
);
```

### 5.3 è¶…é•¿æ–‡æœ¬æ€ä¹ˆåŠ


**æ–‡æœ¬é•¿åº¦åˆ†ç±»**ï¼š

```
çŸ­æ–‡æœ¬  â†’  VARCHAR(255)     ç¤ºä¾‹ï¼šå§“åã€æ ‡é¢˜
ä¸­æ–‡æœ¬  â†’  VARCHAR(1000)    ç¤ºä¾‹ï¼šç®€ä»‹ã€æ‘˜è¦  
é•¿æ–‡æœ¬  â†’  TEXT/CLOB        ç¤ºä¾‹ï¼šæ–‡ç« å†…å®¹ã€è¯„è®º
```

```java
@Entity
public class Blog {
    // æ ‡é¢˜ï¼šçŸ­æ–‡æœ¬
    @Column(length = 200)
    private String title;
    
    // æ­£æ–‡ï¼šè¶…é•¿æ–‡æœ¬ç”¨ @Lob
    @Lob
    private String content;
}
```

---

## 6. ğŸ“¦ Lobå¤§å¯¹è±¡æ˜ å°„è¯¦è§£


### 6.1 ä»€ä¹ˆæ˜¯Lob


> ğŸ“– **Lobå…¨ç§°**ï¼šLarge Objectï¼ˆå¤§å¯¹è±¡ï¼‰  
> ç”¨é€”ï¼šå­˜å‚¨**è¶…å¤§æ–‡æœ¬**æˆ–**äºŒè¿›åˆ¶æ•°æ®**

**Lobçš„ä¸¤ç§ç±»å‹**ï¼š

```
CLOB (Character Large Object)
  â†“
å­˜å‚¨è¶…å¤§æ–‡æœ¬
  â†“  
æ–‡ç« å†…å®¹ã€é•¿è¯„è®ºã€æ—¥å¿—ç­‰

BLOB (Binary Large Object)  
  â†“
å­˜å‚¨äºŒè¿›åˆ¶æ•°æ®
  â†“
å›¾ç‰‡ã€æ–‡ä»¶ã€éŸ³è§†é¢‘ç­‰
```

### 6.2 æ–‡æœ¬å‹Lob - @Lob + String


```java
@Entity
public class Article {
    @Id
    private Long id;
    
    // æ™®é€šæ ‡é¢˜ï¼šVARCHAR(200)
    @Column(length = 200)
    private String title;
    
    // âœ… è¶…é•¿æ­£æ–‡ï¼šæ˜ å°„ä¸º TEXT æˆ– CLOB
    @Lob
    private String content;
    
    // âœ… é•¿è¯„è®ºï¼šæ˜ å°„ä¸º TEXT
    @Lob  
    @Column(name = "long_comment")
    private String comment;
}
```

**æ•°æ®åº“å®é™…ç±»å‹**ï¼š
```
MySQL:      TEXT / LONGTEXT
Oracle:     CLOB
PostgreSQL: TEXT
SQL Server: TEXT / NVARCHAR(MAX)
```

### 6.3 äºŒè¿›åˆ¶å‹Lob - @Lob + byte[]


```java
@Entity
public class Attachment {
    @Id
    private Long id;
    
    // æ–‡ä»¶åï¼šæ™®é€šå­—ç¬¦ä¸²
    private String fileName;
    
    // âœ… æ–‡ä»¶å†…å®¹ï¼šæ˜ å°„ä¸º BLOB
    @Lob
    private byte[] fileData;
}
```

### 6.4 Lobä½¿ç”¨åœºæ™¯


**é€‚åˆç”¨Lobçš„æƒ…å†µ**ï¼š

| åœºæ™¯ | ç±»å‹ | ç¤ºä¾‹ |
|------|------|------|
| ğŸ“„ å¯Œæ–‡æœ¬ç¼–è¾‘å™¨å†…å®¹ | `@Lob + String` | åšå®¢æ–‡ç«  |
| ğŸ“ ç”¨æˆ·é•¿è¯„è®º | `@Lob + String` | å•†å“è¯„ä»· |
| ğŸ–¼ï¸ ç”¨æˆ·å¤´åƒ | `@Lob + byte[]` | å°å›¾ç‰‡ |
| ğŸ“ é™„ä»¶æ–‡ä»¶ | `@Lob + byte[]` | PDFã€Word |

> âš ï¸ **æ€§èƒ½æé†’**ï¼š  
> Lobå­—æ®µä¼š**æ‹–æ…¢æŸ¥è¯¢é€Ÿåº¦**ï¼Œå¤§æ–‡ä»¶å»ºè®®å­˜å‚¨åˆ°**æ–‡ä»¶æœåŠ¡å™¨**ï¼Œæ•°æ®åº“åªå­˜**æ–‡ä»¶è·¯å¾„**ï¼

---

## 7. ğŸ”§ äºŒè¿›åˆ¶æ•°æ®å¤„ç†


### 7.1 byte[]åŸºæœ¬æ˜ å°„


**ç®€å•ç†è§£**ï¼š`byte[]`å°±æ˜¯å­—èŠ‚æ•°ç»„ï¼Œå¯ä»¥å­˜ä»»ä½•äºŒè¿›åˆ¶æ•°æ®ã€‚

```java
@Entity
public class UserProfile {
    @Id
    private Long id;
    
    // âœ… å°å¤´åƒï¼šç›´æ¥ç”¨byte[]
    @Column(length = 10000) // é™åˆ¶10KB
    private byte[] avatar;
    
    // âœ… ç­¾åå›¾ç‰‡ï¼šç”¨@Lob
    @Lob
    private byte[] signature;
}
```

**æ•°æ®åº“æ˜ å°„å¯¹ç…§**ï¼š

```
Java: byte[]                æ•°æ®åº“ç±»å‹
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
å°æ•°æ® (@Column)       â†’    VARBINARY(n)
å¤§æ•°æ® (@Lob)          â†’    BLOB / LONGBLOB
```

### 7.2 å­˜å‚¨ç­–ç•¥é€‰æ‹©


**ä¸‰ç§å­˜å‚¨æ–¹æ¡ˆå¯¹æ¯”**ï¼š

```
â”Œâ”€æ–¹æ¡ˆ1ï¼šæ•°æ®åº“å­˜å‚¨â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ byte[] avatar;                â”‚
â”‚ ä¼˜ç‚¹ï¼šæ“ä½œç®€å•ï¼Œäº‹åŠ¡ä¸€è‡´       â”‚
â”‚ ç¼ºç‚¹ï¼šå ç”¨ç©ºé—´å¤§ï¼ŒæŸ¥è¯¢æ…¢       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€æ–¹æ¡ˆ2ï¼šæ–‡ä»¶ç³»ç»Ÿå­˜å‚¨â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ String avatarPath;           â”‚
â”‚ ä¼˜ç‚¹ï¼šæ€§èƒ½å¥½ï¼ŒèŠ‚çœç©ºé—´       â”‚
â”‚ ç¼ºç‚¹ï¼šéœ€è¦é¢å¤–æ–‡ä»¶ç®¡ç†       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€æ–¹æ¡ˆ3ï¼šäº‘å­˜å‚¨æœåŠ¡â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ String avatarUrl;              â”‚
â”‚ ä¼˜ç‚¹ï¼šCDNåŠ é€Ÿï¼Œæ— é™æ‰©å±•        â”‚
â”‚ ç¼ºç‚¹ï¼šä¾èµ–ç¬¬ä¸‰æ–¹ï¼Œæœ‰æˆæœ¬       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**é€‰æ‹©å»ºè®®**ï¼š

| æ•°æ®å¤§å° | æ¨èæ–¹æ¡ˆ | åŸå›  |
|---------|---------|------|
| < 10KB | æ•°æ®åº“byte[] | ç®€å•ï¼Œæ€§èƒ½å½±å“å° |
| 10KB - 1MB | æ–‡ä»¶ç³»ç»Ÿ | å¹³è¡¡æ€§èƒ½å’Œå¤æ‚åº¦ |
| > 1MB | äº‘å­˜å‚¨OSS | æ€§èƒ½æœ€ä¼˜ |

### 7.3 å®é™…åº”ç”¨ç¤ºä¾‹


```java
@Entity
public class Product {
    @Id
    private Long id;
    
    // âœ… å°å›¾æ ‡ï¼šå­˜æ•°æ®åº“
    @Column(length = 5000)
    private byte[] icon;
    
    // âœ… å•†å“ä¸»å›¾ï¼šå­˜æ–‡ä»¶è·¯å¾„
    @Column(length = 200)
    private String mainImage;
    
    // âœ… è¯¦æƒ…å¤§å›¾ï¼šå­˜URL
    @Column(length = 500)
    private String detailImageUrl;
}
```

---

## 8. ğŸ’¾ Blobä¸Clobå®æˆ˜åº”ç”¨


### 8.1 Blobè¯¦ç»†ä½¿ç”¨


**Blobï¼ˆBinary Large Objectï¼‰** = äºŒè¿›åˆ¶å¤§å¯¹è±¡

```java
@Entity
public class Document {
    @Id
    private Long id;
    
    private String title;
    
    // âœ… æ–¹å¼1ï¼šç›´æ¥ç”¨byte[] + @Lob
    @Lob
    private byte[] content;
    
    // âœ… æ–¹å¼2ï¼šä½¿ç”¨java.sql.Blobï¼ˆä¸æ¨èï¼‰
    @Lob
    private Blob contentBlob;
}
```

**å®é™…ä¿å­˜æ“ä½œ**ï¼š

```java
// è¯»å–æ–‡ä»¶ä¸ºbyte[]
File file = new File("document.pdf");
byte[] fileBytes = Files.readAllBytes(file.toPath());

// ä¿å­˜åˆ°æ•°æ®åº“
Document doc = new Document();
doc.setTitle("é‡è¦æ–‡æ¡£");
doc.setContent(fileBytes);
entityManager.persist(doc);
```

### 8.2 Clobè¯¦ç»†ä½¿ç”¨


**Clobï¼ˆCharacter Large Objectï¼‰** = å­—ç¬¦å¤§å¯¹è±¡

```java
@Entity
public class Article {
    @Id
    private Long id;
    
    // âœ… æ¨èï¼šç›´æ¥ç”¨String + @Lob
    @Lob
    private String content;
    
    // âŒ ä¸æ¨èï¼šjava.sql.Clobï¼ˆæ“ä½œå¤æ‚ï¼‰
    @Lob
    private Clob contentClob;
}
```

**å¯Œæ–‡æœ¬å†…å®¹ä¿å­˜**ï¼š

```java
// HTMLå¯Œæ–‡æœ¬å†…å®¹
String htmlContent = """
    <h1>æ–‡ç« æ ‡é¢˜</h1>
    <p>è¿™æ˜¯ä¸€æ®µå¾ˆé•¿å¾ˆé•¿çš„å†…å®¹...</p>
    <img src="...">
    """;

Article article = new Article();
article.setContent(htmlContent);
entityManager.persist(article);
```

### 8.3 æ€§èƒ½ä¼˜åŒ–å»ºè®®


> ğŸš€ **ä¼˜åŒ–ç­–ç•¥**ï¼š

**ç­–ç•¥1ï¼šæ‡’åŠ è½½é…ç½®**

```java
@Entity
public class Article {
    @Id
    private Long id;
    
    private String title;
    
    // âœ… å»¶è¿ŸåŠ è½½ï¼šæŸ¥è¯¢æ—¶ä¸è‡ªåŠ¨è·å–å†…å®¹
    @Lob
    @Basic(fetch = FetchType.LAZY)
    private String content;
}
```

**æŸ¥è¯¢æ•ˆæœå¯¹æ¯”**ï¼š

```java
// ä¸åŠ LAZYï¼šä¸€æ¬¡æ€§æŸ¥å‡ºæ‰€æœ‰å­—æ®µï¼ˆæ…¢ï¼ï¼‰
Article article = entityManager.find(Article.class, 1L);

// åŠ äº†LAZYï¼šåªæŸ¥idå’Œtitle
Article article = entityManager.find(Article.class, 1L);
// è®¿é—®contentæ—¶æ‰æŸ¥è¯¢å¤§å­—æ®µ
String text = article.getContent(); // è§¦å‘ç¬¬äºŒæ¬¡æŸ¥è¯¢
```

**ç­–ç•¥2ï¼šå­—æ®µåˆ†ç¦»**

```java
// âœ… å¥½çš„è®¾è®¡ï¼šå¤§å­—æ®µç‹¬ç«‹è¡¨
@Entity
public class Article {
    @Id
    private Long id;
    private String title;
    private String summary;
    
    // ä¸€å¯¹ä¸€å…³è”åˆ°å†…å®¹è¡¨
    @OneToOne(fetch = FetchType.LAZY)
    private ArticleContent content;
}

@Entity
public class ArticleContent {
    @Id
    private Long id;
    
    @Lob
    private String body;
}
```

---

## 9. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 9.1 å¿…è®°çŸ¥è¯†ç‚¹


```
ğŸ”¸ æ•°å€¼ç±»å‹ï¼šæ•´æ•°ç”¨int/Longï¼Œé‡‘é¢å¿…ç”¨BigDecimal
ğŸ”¸ åŒ…è£…ç±»å‹ï¼šå…è®¸NULLçš„å­—æ®µç”¨Integer/Doubleç­‰åŒ…è£…ç±»
ğŸ”¸ å­—ç¬¦ä¸²ï¼šæ ¹æ®é•¿åº¦é€‰æ‹©VARCHARæˆ–@Lob
ğŸ”¸ å¤§å¯¹è±¡ï¼šæ–‡æœ¬ç”¨@Lob+Stringï¼ŒäºŒè¿›åˆ¶ç”¨@Lob+byte[]
ğŸ”¸ æ€§èƒ½ä¼˜åŒ–ï¼šå¤§å­—æ®µç”¨æ‡’åŠ è½½ï¼Œè¶…å¤§æ–‡ä»¶å­˜æ–‡ä»¶ç³»ç»Ÿ
```

### 9.2 ç±»å‹é€‰æ‹©é€ŸæŸ¥è¡¨


| ä¸šåŠ¡åœºæ™¯ | Javaç±»å‹ | æ•°æ®åº“ç±»å‹ | æ³¨è§£é…ç½® |
|---------|---------|----------|---------|
| å•†å“ä»·æ ¼ | `BigDecimal` | `DECIMAL(19,2)` | `@Column(precision=19, scale=2)` |
| ç”¨æˆ·å¹´é¾„ | `Integer` | `INTEGER NULL` | åŒ…è£…ç±»å‹ |
| æ–‡ç« æ ‡é¢˜ | `String` | `VARCHAR(200)` | `@Column(length=200)` |
| æ–‡ç« å†…å®¹ | `String` | `TEXT` | `@Lob` |
| ç”¨æˆ·å¤´åƒ | `byte[]` | `BLOB` | `@Lob` |
| æ˜¯å¦VIP | `Boolean` | `TINYINT(1)` | åŒ…è£…ç±»å‹ |

### 9.3 å¸¸è§é”™è¯¯é¿å‘


> âš ï¸ **é”™è¯¯1**ï¼šé‡‘é¢ç”¨double
```java
// âŒ é”™è¯¯
private double price;

// âœ… æ­£ç¡®  
private BigDecimal price;
```

> âš ï¸ **é”™è¯¯2**ï¼šå¯ç©ºå­—æ®µç”¨åŸºæœ¬ç±»å‹
```java
// âŒ é”™è¯¯ï¼šè¯„åˆ†å¯ä»¥ä¸å¡«
private int rating;

// âœ… æ­£ç¡®
private Integer rating;
```

> âš ï¸ **é”™è¯¯3**ï¼šå¤§æ–‡ä»¶å­˜æ•°æ®åº“
```java
// âŒ é”™è¯¯ï¼š10MBçš„PDFå­˜æ•°æ®åº“
@Lob
private byte[] pdfFile;

// âœ… æ­£ç¡®ï¼šåªå­˜è·¯å¾„
private String pdfPath;
```

### 9.4 æœ€ä½³å®è·µæ¸…å•


**âœ… æ¨èåšæ³•**ï¼š
- é‡‘é¢å­—æ®µç»Ÿä¸€ç”¨`BigDecimal`
- å¯ç©ºå­—æ®µç”¨åŒ…è£…ç±»å‹
- å¤§å­—æ®µé…ç½®æ‡’åŠ è½½
- è¶…è¿‡1MBçš„æ–‡ä»¶å­˜æ–‡ä»¶ç³»ç»Ÿ
- VARCHARé•¿åº¦é¢„ç•™ä½™é‡

**âŒ é¿å…åšæ³•**ï¼š
- ä¸è¦ç”¨float/doubleå­˜é‡‘é¢
- ä¸è¦åœ¨æ•°æ®åº“å­˜å¤§æ–‡ä»¶
- ä¸è¦å¿½ç•¥å­—æ®µé•¿åº¦é™åˆ¶
- ä¸è¦åœ¨æŸ¥è¯¢æ—¶åŠ è½½ä¸éœ€è¦çš„å¤§å­—æ®µ

**æ ¸å¿ƒè®°å¿†å£è¯€**ï¼š
```
é‡‘é¢ç²¾åº¦ç”¨Decimalï¼Œå¯ç©ºåŒ…è£…ä¸èƒ½å¿˜
å­—ç¬¦é•¿åº¦æå‰å®šï¼Œå¤§å¯¹è±¡è¦æ‡’åŠ è½½  
äºŒè¿›åˆ¶å­˜éœ€è°¨æ…ï¼Œæ–‡ä»¶ç³»ç»Ÿæ›´é«˜æ•ˆ
```