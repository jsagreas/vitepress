---
title: 11ã€æšä¸¾æ˜ å°„å®‰å…¨ç”¨æ³•
---
## ğŸ“š ç›®å½•

1. [ä»€ä¹ˆæ˜¯æšä¸¾æ˜ å°„](#1-ä»€ä¹ˆæ˜¯æšä¸¾æ˜ å°„)
2. [ä¸¤ç§æ˜ å°„æ–¹å¼å¯¹æ¯”](#2-ä¸¤ç§æ˜ å°„æ–¹å¼å¯¹æ¯”)
3. [EnumType.STRINGè¯¦è§£](#3-EnumType-STRINGè¯¦è§£)
4. [EnumType.ORDINALè¯¦è§£](#4-EnumType-ORDINALè¯¦è§£)
5. [å®é™…å¼€å‘æœ€ä½³å®è·µ](#5-å®é™…å¼€å‘æœ€ä½³å®è·µ)
6. [å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ](#6-å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ)
7. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#7-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ¯ ä»€ä¹ˆæ˜¯æšä¸¾æ˜ å°„


### 1.1 æšä¸¾çš„ä½œç”¨


åœ¨Javaå¼€å‘ä¸­ï¼Œ**æšä¸¾ï¼ˆEnumï¼‰**å°±åƒæ˜¯ä¸€ä¸ª"é€‰é¡¹åˆ—è¡¨"ï¼Œç”¨æ¥è¡¨ç¤ºä¸€ç»„å›ºå®šçš„é€‰é¡¹ã€‚

**ç°å®åœºæ™¯ç†è§£**ï¼š
```
è®¢å•çŠ¶æ€åªèƒ½æ˜¯ï¼šå¾…æ”¯ä»˜ã€å·²æ”¯ä»˜ã€å·²å‘è´§ã€å·²å®Œæˆ
ç”¨æˆ·æ€§åˆ«åªèƒ½æ˜¯ï¼šç”·ã€å¥³ã€æœªçŸ¥
ä¼šå‘˜ç­‰çº§åªèƒ½æ˜¯ï¼šæ™®é€šã€ç™½é“¶ã€é»„é‡‘ã€é’»çŸ³
```

è¿™äº›"å›ºå®šé€‰é¡¹"å°±é€‚åˆç”¨æšä¸¾æ¥è¡¨ç¤ºï¼š

```java
// è®¢å•çŠ¶æ€æšä¸¾
public enum OrderStatus {
    PENDING,      // å¾…æ”¯ä»˜
    PAID,         // å·²æ”¯ä»˜
    SHIPPED,      // å·²å‘è´§
    COMPLETED     // å·²å®Œæˆ
}
```

### 1.2 æšä¸¾æ˜ å°„æ˜¯ä»€ä¹ˆ


**æšä¸¾æ˜ å°„**å°±æ˜¯æŠŠJavaä»£ç ä¸­çš„æšä¸¾ï¼Œå­˜åˆ°æ•°æ®åº“é‡Œã€‚

**é—®é¢˜æ¥äº†**ï¼šæ•°æ®åº“ä¸è®¤è¯†Javaçš„æšä¸¾ï¼Œé‚£æ€ä¹ˆå­˜å‘¢ï¼Ÿ

```
Javaä»£ç ä¸­ï¼šOrderStatus.PAID ï¼ˆè¿™æ˜¯æšä¸¾å¯¹è±¡ï¼‰
            â†“
       éœ€è¦è½¬æ¢
            â†“
æ•°æ®åº“ä¸­ï¼šè¦ä¹ˆå­˜æˆæ•°å­—ï¼Œè¦ä¹ˆå­˜æˆæ–‡æœ¬
```

è¿™ä¸ª"è½¬æ¢è§„åˆ™"å°±æ˜¯**æšä¸¾æ˜ å°„**è¦è§£å†³çš„é—®é¢˜ã€‚

### 1.3 ä¸ºä»€ä¹ˆéœ€è¦@Enumeratedæ³¨è§£


```java
@Entity
public class Order {
    @Id
    private Long id;
    
    // æ²¡æœ‰@Enumeratedï¼ŒJPAä¸çŸ¥é“æ€ä¹ˆå­˜
    private OrderStatus status;  // âŒ æŠ¥é”™ï¼
    
    // åŠ ä¸Š@Enumeratedï¼Œå‘Šè¯‰JPAè½¬æ¢è§„åˆ™
    @Enumerated(EnumType.STRING)  // âœ… æ˜ç¡®è½¬æ¢æ–¹å¼
    private OrderStatus status;
}
```

**æ ¸å¿ƒç†è§£**ï¼š`@Enumerated`æ³¨è§£å°±æ˜¯å‘Šè¯‰JPAï¼š"è¿™ä¸ªæšä¸¾å­—æ®µè¦æŒ‰ä»€ä¹ˆè§„åˆ™å­˜åˆ°æ•°æ®åº“"

---

## 2. âš–ï¸ ä¸¤ç§æ˜ å°„æ–¹å¼å¯¹æ¯”


### 2.1 ä¸¤ç§æ–¹å¼çš„æœ¬è´¨åŒºåˆ«


| å¯¹æ¯”ç»´åº¦ | **EnumType.STRING** | **EnumType.ORDINAL** |
|---------|-------------------|---------------------|
| **å­˜å‚¨å†…å®¹** | `æšä¸¾åç§°çš„æ–‡æœ¬` | `æšä¸¾çš„åºå·ï¼ˆä½ç½®ï¼‰` |
| **æ•°æ®åº“å­˜çš„æ˜¯** | `"PAID"ã€"SHIPPED"` | `0ã€1ã€2ã€3` |
| **æ•°æ®åº“å­—æ®µç±»å‹** | `VARCHAR` | `INT` |
| **å¯è¯»æ€§** | ğŸŸ¢ æ‰“å¼€æ•°æ®åº“èƒ½çœ‹æ‡‚ | ğŸ”´ åªèƒ½çœ‹åˆ°æ•°å­—ï¼Œä¸çŸ¥é“å«ä¹‰ |
| **å®‰å…¨æ€§** | ğŸŸ¢ è°ƒæ•´æšä¸¾é¡ºåºä¸å½±å“ | ğŸ”´ è°ƒæ•´é¡ºåºä¼šå¯¼è‡´æ•°æ®é”™ä¹± |

### 2.2 ç›´è§‚å¯¹æ¯”ç¤ºä¾‹


**åœºæ™¯ï¼šè®¢å•è¡¨ä¸­å­˜å‚¨è®¢å•çŠ¶æ€**

```java
public enum OrderStatus {
    PENDING,      // ä½ç½®0
    PAID,         // ä½ç½®1
    SHIPPED,      // ä½ç½®2
    COMPLETED     // ä½ç½®3
}
```

**æ•°æ®åº“ä¸­çš„å­˜å‚¨å¯¹æ¯”**ï¼š

```
EnumType.STRINGæ–¹å¼ï¼š
â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ id â”‚  status  â”‚
â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1  â”‚ PENDING  â”‚  â† å­˜çš„æ˜¯åå­—
â”‚ 2  â”‚ PAID     â”‚
â”‚ 3  â”‚ SHIPPED  â”‚
â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

EnumType.ORDINALæ–¹å¼ï¼š
â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ id â”‚ status  â”‚
â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1  â”‚   0     â”‚  â† å­˜çš„æ˜¯ä½ç½®åºå·
â”‚ 2  â”‚   1     â”‚
â”‚ 3  â”‚   2     â”‚
â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3. ğŸŸ¢ EnumType.STRINGè¯¦è§£


### 3.1 åŸºæœ¬ç”¨æ³•


```java
@Entity
public class Order {
    @Id
    private Long id;
    
    // å­˜å‚¨æšä¸¾çš„åç§°
    @Enumerated(EnumType.STRING)
    @Column(length = 20)  // å»ºè®®æŒ‡å®šé•¿åº¦
    private OrderStatus status;
}
```

**æ•°æ®åº“è¡¨ç»“æ„**ï¼š
```sql
CREATE TABLE orders (
    id BIGINT PRIMARY KEY,
    status VARCHAR(20)  -- å­˜å‚¨æšä¸¾åç§°
);
```

### 3.2 ä¼˜ç‚¹è¯¦è§£


**âœ… ä¼˜ç‚¹1ï¼šæ•°æ®åº“å¯è¯»æ€§å¼º**

æ‰“å¼€æ•°æ®åº“ç›´æ¥èƒ½çœ‹æ‡‚ï¼š
```sql
SELECT * FROM orders;

ç»“æœï¼š
id    status
1     PENDING    â† ä¸€çœ¼çœ‹å‡ºæ˜¯"å¾…æ”¯ä»˜"çŠ¶æ€
2     PAID       â† ä¸€çœ¼çœ‹å‡ºæ˜¯"å·²æ”¯ä»˜"çŠ¶æ€
```

**âœ… ä¼˜ç‚¹2ï¼šå‰åå…¼å®¹æ€§å¥½**

å³ä½¿è°ƒæ•´æšä¸¾é¡ºåºï¼Œæ•°æ®ä¹Ÿä¸ä¼šä¹±ï¼š

```java
// åŸæ¥çš„æšä¸¾
public enum OrderStatus {
    PENDING,   // 0
    PAID,      // 1
    SHIPPED    // 2
}

// åæ¥åŠ äº†æ–°çŠ¶æ€ï¼Œè°ƒæ•´äº†é¡ºåº
public enum OrderStatus {
    PENDING,      // 0
    PROCESSING,   // 1 â† æ–°åŠ çš„
    PAID,         // 2 â† ä½ç½®å˜äº†ï¼
    SHIPPED       // 3
}
```

**å½±å“å¯¹æ¯”**ï¼š
- **STRINGæ–¹å¼**ï¼šæ•°æ®åº“å­˜çš„æ˜¯`"PAID"`ï¼Œä¸å—å½±å“ âœ…
- **ORDINALæ–¹å¼**ï¼šåŸæ¥çš„`1`ç°åœ¨å¯¹åº”`PROCESSING`ï¼Œæ•°æ®é”™ä¹± âŒ

**âœ… ä¼˜ç‚¹3ï¼šæ–°å¢æšä¸¾å€¼å®‰å…¨**

```java
// åœ¨æœ«å°¾æ·»åŠ æ–°çŠ¶æ€
public enum OrderStatus {
    PENDING,
    PAID,
    SHIPPED,
    CANCELLED  // â† æ–°å¢çŠ¶æ€
}
```

- **STRINGæ–¹å¼**ï¼šç›´æ¥ç”¨ï¼Œæ²¡é—®é¢˜ âœ…
- **ORDINALæ–¹å¼**ï¼šä¹Ÿå¯ä»¥ç”¨ï¼Œä½†é£é™©é«˜ï¼ˆå¦‚æœæ’å…¥ä¸­é—´å°±å®Œè›‹ï¼‰

### 3.3 ç¼ºç‚¹è¯´æ˜


**âŒ ç¼ºç‚¹1ï¼šå ç”¨ç©ºé—´ç¨å¤§**

```
å­˜å‚¨å¯¹æ¯”ï¼š
INTç±»å‹ï¼š4å­—èŠ‚
VARCHAR(20)ï¼šæœ€å¤š20å­—èŠ‚
```

> ğŸ’¡ **å®é™…å½±å“**ï¼šé™¤éæ•°æ®é‡è¾¾åˆ°åƒä¸‡çº§åˆ«ï¼Œå¦åˆ™ç©ºé—´å·®å¼‚å¯ä»¥å¿½ç•¥

**âŒ ç¼ºç‚¹2ï¼šæŸ¥è¯¢æ•ˆç‡ç•¥ä½**

```sql
-- å­—ç¬¦ä¸²æ¯”è¾ƒ
SELECT * FROM orders WHERE status = 'PAID';

-- æ•°å­—æ¯”è¾ƒï¼ˆç†è®ºä¸Šæ›´å¿«ï¼‰
SELECT * FROM orders WHERE status = 1;
```

> ğŸ’¡ **å®é™…å½±å“**ï¼šåŠ ä¸Šç´¢å¼•åï¼Œæ€§èƒ½å·®å¼‚å¾®ä¹å…¶å¾®

---

## 4. ğŸ”´ EnumType.ORDINALè¯¦è§£


### 4.1 åŸºæœ¬ç”¨æ³•


```java
@Entity
public class Order {
    @Id
    private Long id;
    
    // å­˜å‚¨æšä¸¾çš„åºå·ï¼ˆä½ç½®ï¼‰
    @Enumerated(EnumType.ORDINAL)
    private OrderStatus status;
}
```

**æ•°æ®åº“è¡¨ç»“æ„**ï¼š
```sql
CREATE TABLE orders (
    id BIGINT PRIMARY KEY,
    status INT  -- å­˜å‚¨æšä¸¾åºå·
);
```

### 4.2 å·¥ä½œåŸç†


```java
public enum OrderStatus {
    PENDING,      // åºå· = 0
    PAID,         // åºå· = 1
    SHIPPED,      // åºå· = 2
    COMPLETED     // åºå· = 3
}

// ä¿å­˜æ—¶
Order order = new Order();
order.setStatus(OrderStatus.PAID);  // Javaä¸­æ˜¯PAID
// å­˜åˆ°æ•°æ®åº“ â†’ 1ï¼ˆPAIDçš„ä½ç½®åºå·ï¼‰

// è¯»å–æ—¶
// æ•°æ®åº“ä¸­çš„1 â†’ è½¬æ¢å›Javaçš„OrderStatus.PAID
```

### 4.3 ä¸¥é‡é£é™©ç¤ºä¾‹


**ğŸ’¥ é£é™©1ï¼šè°ƒæ•´æšä¸¾é¡ºåºå¯¼è‡´æ•°æ®é”™ä¹±**

```java
// ç¬¬ä¸€ç‰ˆæšä¸¾
public enum OrderStatus {
    PENDING,   // 0
    PAID,      // 1
    SHIPPED    // 2
}

// æ•°æ®åº“ä¸­å·²æœ‰æ•°æ®
è®¢å•Aï¼šstatus = 1 (è¡¨ç¤ºPAID)
è®¢å•Bï¼šstatus = 2 (è¡¨ç¤ºSHIPPED)
```

```java
// ç¬¬äºŒç‰ˆï¼šåœ¨ä¸­é—´æ’å…¥æ–°çŠ¶æ€
public enum OrderStatus {
    PENDING,      // 0
    PROCESSING,   // 1 â† æ–°æ’å…¥çš„
    PAID,         // 2 â† ä½ç½®å˜äº†ï¼
    SHIPPED       // 3
}

// ç¾éš¾å‘ç”Ÿ
è®¢å•Aï¼šstatus = 1 
â†’ ç°åœ¨å¯¹åº”PROCESSINGï¼ˆåŸæœ¬æ˜¯PAIDï¼‰âŒ æ•°æ®é”™è¯¯ï¼
è®¢å•Bï¼šstatus = 2 
â†’ ç°åœ¨å¯¹åº”PAIDï¼ˆåŸæœ¬æ˜¯SHIPPEDï¼‰âŒ æ•°æ®é”™è¯¯ï¼
```

**åæœ**ï¼šæ‰€æœ‰å†å²è®¢å•çŠ¶æ€å…¨éƒ¨é”™ä¹±ï¼

**ğŸ’¥ é£é™©2ï¼šåˆ é™¤æšä¸¾å€¼å¯¼è‡´æ•°æ®å¼‚å¸¸**

```java
// åŸæšä¸¾
public enum OrderStatus {
    PENDING,      // 0
    PAID,         // 1
    CANCELLED,    // 2 â† è¦åˆ é™¤çš„
    SHIPPED       // 3
}

// åˆ é™¤CANCELLEDå
public enum OrderStatus {
    PENDING,   // 0
    PAID,      // 1
    SHIPPED    // 2 â† åºå·å˜äº†
}

// åŸæ¥status=3çš„è®¢å•ï¼ˆSHIPPEDï¼‰
// ç°åœ¨æŸ¥å‡ºæ¥ä¼šæŠ¥é”™ï¼Œå› ä¸ºæ²¡æœ‰åºå·3å¯¹åº”çš„æšä¸¾å€¼
```

### 4.4 ä¸ºä»€ä¹ˆä¸æ¨èORDINAL


| é—®é¢˜åœºæ™¯ | åæœ |
|---------|------|
| **æ’å…¥æ–°æšä¸¾å€¼** | åé¢æ‰€æœ‰å€¼çš„åºå·éƒ½å˜äº†ï¼Œæ•°æ®å…¨é”™ |
| **åˆ é™¤æšä¸¾å€¼** | ä¼šå¯¼è‡´æ•°æ®æ— æ³•è¯»å– |
| **è°ƒæ•´æšä¸¾é¡ºåº** | æ‰€æœ‰æ•°æ®å«ä¹‰æ”¹å˜ |
| **æ•°æ®åº“ç»´æŠ¤** | çœ‹åˆ°æ•°å­—`1`ï¼Œä¸çŸ¥é“æ˜¯ä»€ä¹ˆçŠ¶æ€ |

> âš ï¸ **è­¦å‘Š**ï¼šé™¤éä½ 100%ç¡®å®šæšä¸¾æ°¸è¿œä¸ä¼šæ”¹å˜ï¼Œå¦åˆ™ä¸è¦ç”¨ORDINAL

---

## 5. ğŸ¯ å®é™…å¼€å‘æœ€ä½³å®è·µ


### 5.1 æ¨èåšæ³•


**âœ… æ ‡å‡†å†™æ³•**ï¼š
```java
@Entity
public class Order {
    @Id
    private Long id;
    
    // âœ… æ˜ç¡®æŒ‡å®šSTRINGç±»å‹
    @Enumerated(EnumType.STRING)
    @Column(name = "order_status", length = 20, nullable = false)
    private OrderStatus status;
}
```

**å…³é”®ç‚¹**ï¼š
- `EnumType.STRING`ï¼šæ˜ç¡®ä½¿ç”¨å­—ç¬¦ä¸²å­˜å‚¨
- `length = 20`ï¼šæŒ‡å®šåˆé€‚çš„é•¿åº¦ï¼ˆæ ¹æ®æœ€é•¿æšä¸¾åç¡®å®šï¼‰
- `nullable = false`ï¼šé€šå¸¸çŠ¶æ€å­—æ®µä¸å…è®¸ä¸ºç©º
- `name`ï¼šè‡ªå®šä¹‰æ•°æ®åº“å­—æ®µåï¼ˆå¯é€‰ï¼‰

### 5.2 æšä¸¾å®šä¹‰è§„èŒƒ


```java
public enum OrderStatus {
    
    PENDING("å¾…æ”¯ä»˜"),
    PAID("å·²æ”¯ä»˜"),
    SHIPPED("å·²å‘è´§"),
    COMPLETED("å·²å®Œæˆ");
    
    // ä¸­æ–‡æè¿°ï¼ˆç”¨äºå‰ç«¯æ˜¾ç¤ºï¼‰
    private final String description;
    
    OrderStatus(String description) {
        this.description = description;
    }
    
    public String getDescription() {
        return description;
    }
}
```

**ä½¿ç”¨åœºæ™¯**ï¼š
```java
// åç«¯è¿”å›ç»™å‰ç«¯
{
    "status": "PAID",           // æšä¸¾å
    "statusDesc": "å·²æ”¯ä»˜"      // ä¸­æ–‡æè¿°
}
```

### 5.3 æ•°æ®åº“è®¾è®¡å»ºè®®


```sql
-- è®¢å•è¡¨è®¾è®¡
CREATE TABLE orders (
    id BIGINT PRIMARY KEY,
    order_status VARCHAR(20) NOT NULL,  -- å­˜å‚¨æšä¸¾åç§°
    
    -- å»ºè®®åŠ æ³¨é‡Šè¯´æ˜
    COMMENT 'è®¢å•çŠ¶æ€: PENDING-å¾…æ”¯ä»˜, PAID-å·²æ”¯ä»˜, SHIPPED-å·²å‘è´§, COMPLETED-å·²å®Œæˆ'
);

-- å»ºè®®æ·»åŠ ç´¢å¼•ï¼ˆå¦‚æœç»å¸¸æŒ‰çŠ¶æ€æŸ¥è¯¢ï¼‰
CREATE INDEX idx_order_status ON orders(order_status);
```

### 5.4 æ–°å¢æšä¸¾å€¼çš„å®‰å…¨æ“ä½œ


**åœºæ™¯ï¼šéœ€è¦æ–°å¢ä¸€ä¸ª"é€€æ¬¾ä¸­"çŠ¶æ€**

```java
// âœ… æ­£ç¡®åšæ³•ï¼šæ·»åŠ åˆ°æœ«å°¾
public enum OrderStatus {
    PENDING,
    PAID,
    SHIPPED,
    COMPLETED,
    REFUNDING   // â† æ–°å¢åœ¨æœ€åï¼Œå®‰å…¨
}

// âŒ é”™è¯¯åšæ³•ï¼šæ’å…¥ä¸­é—´
public enum OrderStatus {
    PENDING,
    PAID,
    REFUNDING,   // â† æ’å…¥ä¸­é—´ï¼ŒORDINALæ¨¡å¼ä¼šå‡ºé—®é¢˜
    SHIPPED,
    COMPLETED
}
```

> ğŸ’¡ **æç¤º**ï¼šä½¿ç”¨STRINGæ¨¡å¼æ—¶ï¼Œæ’å…¥ä¸­é—´ä¹Ÿæ²¡é—®é¢˜ï¼›ä½†å…»æˆå¥½ä¹ æƒ¯ï¼Œç»Ÿä¸€åŠ åœ¨æœ«å°¾

---

## 6. ğŸ”§ å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ


### 6.1 å¦‚ä½•è¿ç§»ORDINALåˆ°STRING


**é—®é¢˜**ï¼šé¡¹ç›®åˆæœŸç”¨äº†ORDINALï¼Œç°åœ¨æƒ³æ”¹æˆSTRING

**è§£å†³æ–¹æ¡ˆ**ï¼š

**æ­¥éª¤1ï¼šæ•°æ®è¿ç§»SQL**
```sql
-- å‡è®¾åŸæ¥statuså­—æ®µæ˜¯INTç±»å‹ï¼Œå­˜çš„æ˜¯åºå·
-- ç°åœ¨è¦æ”¹æˆVARCHARç±»å‹ï¼Œå­˜æšä¸¾åç§°

-- åˆ›å»ºä¸´æ—¶å­—æ®µ
ALTER TABLE orders ADD COLUMN status_new VARCHAR(20);

-- æ•°æ®è¿ç§»ï¼ˆæ ¹æ®åºå·å¯¹åº”å…³ç³»è½¬æ¢ï¼‰
UPDATE orders SET status_new = 'PENDING' WHERE status = 0;
UPDATE orders SET status_new = 'PAID' WHERE status = 1;
UPDATE orders SET status_new = 'SHIPPED' WHERE status = 2;
UPDATE orders SET status_new = 'COMPLETED' WHERE status = 3;

-- åˆ é™¤æ—§å­—æ®µï¼Œé‡å‘½åæ–°å­—æ®µ
ALTER TABLE orders DROP COLUMN status;
ALTER TABLE orders RENAME COLUMN status_new TO status;
```

**æ­¥éª¤2ï¼šä¿®æ”¹Javaä»£ç **
```java
@Entity
public class Order {
    @Enumerated(EnumType.STRING)  // æ”¹æˆSTRING
    private OrderStatus status;
}
```

### 6.2 æšä¸¾å€¼è¿‡é•¿æ€ä¹ˆåŠ


**é—®é¢˜**ï¼šæšä¸¾åç§°å¤ªé•¿ï¼Œæµªè´¹ç©ºé—´

```java
public enum VeryLongStatusName {
    WAITING_FOR_PAYMENT_CONFIRMATION  // åå­—å¤ªé•¿
}
```

**è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨@Columnè‡ªå®šä¹‰å­˜å‚¨å€¼**

```java
@Entity
public class Order {
    @Enumerated(EnumType.STRING)
    @Column(name = "status", columnDefinition = "VARCHAR(10)")
    private OrderStatus status;
}

// æˆ–è€…ä½¿ç”¨å±æ€§è½¬æ¢å™¨ï¼ˆé«˜çº§æ–¹æ¡ˆï¼‰
@Converter
public class OrderStatusConverter 
        implements AttributeConverter<OrderStatus, String> {
    
    @Override
    public String convertToDatabaseColumn(OrderStatus status) {
        // è‡ªå®šä¹‰å­˜å‚¨è§„åˆ™
        return switch(status) {
            case PENDING -> "P";
            case PAID -> "PD";
            case SHIPPED -> "S";
            case COMPLETED -> "C";
        };
    }
    
    @Override
    public OrderStatus convertToEntityAttribute(String dbData) {
        // è‡ªå®šä¹‰è¯»å–è§„åˆ™
        return switch(dbData) {
            case "P" -> OrderStatus.PENDING;
            case "PD" -> OrderStatus.PAID;
            case "S" -> OrderStatus.SHIPPED;
            case "C" -> OrderStatus.COMPLETED;
            default -> throw new IllegalArgumentException("Unknown: " + dbData);
        };
    }
}
```

### 6.3 å‰ç«¯å±•ç¤ºé—®é¢˜


**é—®é¢˜**ï¼šå‰ç«¯éœ€è¦æ˜¾ç¤ºä¸­æ–‡ï¼Œåç«¯åªæœ‰è‹±æ–‡æšä¸¾

**è§£å†³æ–¹æ¡ˆ**ï¼š

```java
// æ–¹æ¡ˆ1ï¼šåœ¨æšä¸¾ä¸­åŠ æè¿°
public enum OrderStatus {
    PENDING("å¾…æ”¯ä»˜"),
    PAID("å·²æ”¯ä»˜");
    
    private final String desc;
    
    OrderStatus(String desc) { this.desc = desc; }
    public String getDesc() { return desc; }
}

// æ–¹æ¡ˆ2ï¼šè¿”å›DTOæ—¶è½¬æ¢
public class OrderDTO {
    private String status;      // "PAID"
    private String statusText;  // "å·²æ”¯ä»˜"
}
```

### 6.4 æ•°æ®åº“å·²æœ‰æ•°å­—å¦‚ä½•å…¼å®¹


**é—®é¢˜**ï¼šæ•°æ®åº“å·²ç»å­˜äº†æ•°å­—ï¼ˆ0,1,2ï¼‰ï¼Œä½†æƒ³ç”¨STRINGæ¨¡å¼

**ä¸´æ—¶å…¼å®¹æ–¹æ¡ˆ**ï¼š
```java
@Entity
public class Order {
    // ä¿ç•™åŸå­—æ®µç”¨äºè¯»å–æ—§æ•°æ®
    @Enumerated(EnumType.ORDINAL)
    @Column(name = "old_status")
    private OrderStatus oldStatus;
    
    // æ–°å­—æ®µä½¿ç”¨STRING
    @Enumerated(EnumType.STRING)
    @Column(name = "status")
    private OrderStatus status;
    
    // ä¸šåŠ¡ä»£ç ä¼˜å…ˆä½¿ç”¨æ–°å­—æ®µ
    public OrderStatus getStatus() {
        return status != null ? status : oldStatus;
    }
}
```

---

## 7. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 7.1 å¿…é¡»è®°ä½çš„å…³é”®ç‚¹


```
ğŸ¯ æ ¸å¿ƒåŸåˆ™ï¼š
âœ… æ°¸è¿œä¼˜å…ˆä½¿ç”¨ EnumType.STRING
âœ… æ˜ç¡®æŒ‡å®š @Enumerated(EnumType.STRING)
âœ… è®¾ç½®åˆé€‚çš„ @Column(length = xx)
âœ… æ–°å¢æšä¸¾å€¼æ·»åŠ åˆ°æœ«å°¾
âœ… åœ¨æšä¸¾ä¸­æ·»åŠ ä¸­æ–‡æè¿°
```

### 7.2 ä¸¤ç§æ–¹å¼å¯¹æ¯”æ€»ç»“


| ç‰¹æ€§ | **STRINGï¼ˆæ¨èï¼‰** | **ORDINALï¼ˆä¸æ¨èï¼‰** |
|------|------------------|---------------------|
| **æ•°æ®åº“å­˜å‚¨** | æšä¸¾åç§°æ–‡æœ¬ | æšä¸¾åºå·æ•°å­— |
| **å¯è¯»æ€§** | ğŸŸ¢ æ‰“å¼€æ•°æ®åº“èƒ½çœ‹æ‡‚ | ğŸ”´ åªçœ‹åˆ°æ•°å­— |
| **å®‰å…¨æ€§** | ğŸŸ¢ è°ƒæ•´é¡ºåºä¸å½±å“ | ğŸ”´ è°ƒæ•´é¡ºåºæ•°æ®ä¹± |
| **ç©ºé—´å ç”¨** | ğŸŸ¡ ç¨å¤§ï¼ˆå¯å¿½ç•¥ï¼‰ | ğŸŸ¢ å° |
| **é€‚ç”¨åœºæ™¯** | ğŸŸ¢ æ‰€æœ‰åœºæ™¯ | ğŸ”´ å‡ ä¹ä¸é€‚ç”¨ |

### 7.3 å®æˆ˜æ£€æŸ¥æ¸…å•


**âœ… å¼€å‘å‰æ£€æŸ¥**ï¼š
- [ ] ä½¿ç”¨ `@Enumerated(EnumType.STRING)`
- [ ] è®¾ç½® `@Column(length = ?)` æŒ‡å®šé•¿åº¦
- [ ] æšä¸¾å€¼éƒ½æ˜¯å¤§å†™è‹±æ–‡ï¼Œå«ä¹‰æ¸…æ™°
- [ ] æšä¸¾ä¸­åŒ…å«ä¸­æ–‡æè¿°å­—æ®µ

**âœ… ä¸Šçº¿å‰æ£€æŸ¥**ï¼š
- [ ] æ•°æ®åº“å­—æ®µç±»å‹æ˜¯VARCHAR
- [ ] æ•°æ®åº“æœ‰åˆé€‚çš„ç´¢å¼•ï¼ˆå¦‚éœ€è¦ï¼‰
- [ ] æ•°æ®åº“å­—æ®µæœ‰æ³¨é‡Šè¯´æ˜
- [ ] æµ‹è¯•è¿‡æ–°å¢æšä¸¾å€¼çš„åœºæ™¯

**âœ… ç»´æŠ¤æ—¶æ³¨æ„**ï¼š
- [ ] æ–°å¢æšä¸¾å€¼åŠ åœ¨æœ«å°¾
- [ ] ä¸åˆ é™¤å·²ä½¿ç”¨çš„æšä¸¾å€¼
- [ ] ä¸æ”¹å˜æšä¸¾å€¼çš„åç§°
- [ ] æ•°æ®è¿ç§»è¦æœ‰å›æ»šæ–¹æ¡ˆ

### 7.4 è®°å¿†å£è¯€


```
æšä¸¾æ˜ å°„ç”¨STRINGï¼Œæ•°æ®åº“é‡Œèƒ½çœ‹æ¸…
ORDINALåƒä¸‡åˆ«ç¢°ï¼Œé¡ºåºä¸€å˜æ•°æ®å´©
é•¿åº¦è®¾ç½®è¦åˆç†ï¼Œä¸­æ–‡æè¿°åˆ«å¿˜è®°
æ–°å¢åªèƒ½åŠ æœ«å°¾ï¼Œåˆ æ”¹éƒ½æ˜¯é«˜é£é™©
```

### 7.5 å¿«é€Ÿå†³ç­–æŒ‡å—


**æˆ‘è¯¥ç”¨å“ªç§ï¼Ÿ**

```
å¼€å§‹
  â”‚
  â”œâ”€ éœ€è¦æ•°æ®åº“å¯è¯»ï¼Ÿ 
  â”‚   â””â”€ æ˜¯ â†’ EnumType.STRING âœ…
  â”‚
  â”œâ”€ æšä¸¾å¯èƒ½å˜åŒ–ï¼Ÿ
  â”‚   â””â”€ æ˜¯ â†’ EnumType.STRING âœ…
  â”‚
  â”œâ”€ æ•°æ®é‡è¶…åƒä¸‡ä¸”æ€§èƒ½æ•æ„Ÿï¼Ÿ
  â”‚   â””â”€ å¦ â†’ EnumType.STRING âœ…
  â”‚
  â””â”€ è¿˜æ˜¯ä¸ç¡®å®šï¼Ÿ
      â””â”€ é—­çœ¼é€‰ â†’ EnumType.STRING âœ…
```

> ğŸ’¡ **æœ€ç»ˆå»ºè®®**ï¼š99%çš„åœºæ™¯éƒ½åº”è¯¥ç”¨`EnumType.STRING`ï¼Œé™¤éä½ æœ‰å……åˆ†ç†ç”±å’Œé£é™©æ„è¯†ä½¿ç”¨ORDINAL