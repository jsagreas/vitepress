---
title: 11ã€ä»»åŠ¡è°ƒåº¦ä¸å¼‚æ­¥å¤„ç†
---
## ğŸ“š ç›®å½•

1. [ä»»åŠ¡è°ƒåº¦åŸºç¡€æ¦‚å¿µ](#1-ä»»åŠ¡è°ƒåº¦åŸºç¡€æ¦‚å¿µ)
2. [å®šæ—¶ä»»åŠ¡@Scheduledè¯¦è§£](#2-å®šæ—¶ä»»åŠ¡scheduledè¯¦è§£)
3. [å¼‚æ­¥å¤„ç†@Asyncæ·±å…¥](#3-å¼‚æ­¥å¤„ç†asyncæ·±å…¥)
4. [çº¿ç¨‹æ± é…ç½®ä¸ä¼˜åŒ–](#4-çº¿ç¨‹æ± é…ç½®ä¸ä¼˜åŒ–)
5. [å¼‚æ­¥å¼‚å¸¸å¤„ç†æœºåˆ¶](#5-å¼‚æ­¥å¼‚å¸¸å¤„ç†æœºåˆ¶)
6. [åˆ†å¸ƒå¼ç¯å¢ƒä¸‹çš„å®šæ—¶ä»»åŠ¡](#6-åˆ†å¸ƒå¼ç¯å¢ƒä¸‹çš„å®šæ—¶ä»»åŠ¡)
7. [Quartzé«˜çº§è°ƒåº¦æ¡†æ¶](#7-quartzé«˜çº§è°ƒåº¦æ¡†æ¶)
8. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#8-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ¯ ä»»åŠ¡è°ƒåº¦åŸºç¡€æ¦‚å¿µ


### 1.1 ä»€ä¹ˆæ˜¯ä»»åŠ¡è°ƒåº¦


**ğŸ”¸ é€šä¿—ç†è§£**
æƒ³è±¡ä½ æ˜¯ä¸€ä¸ªç®¡å®¶ï¼Œéœ€è¦å®‰æ’å„ç§å®¶åŠ¡ï¼š
- **å®šæ—¶ä»»åŠ¡**ï¼šå°±åƒè®¾å®šé—¹é’Ÿï¼Œæ¯å¤©æ—©ä¸Š7ç‚¹è‡ªåŠ¨ç…®å’–å•¡
- **å¼‚æ­¥ä»»åŠ¡**ï¼šå°±åƒæ´—è¡£æœæ—¶åŒæ—¶åšå…¶ä»–äº‹ï¼Œä¸ç”¨ç­‰æ´—è¡£æœºå®Œæˆ

**ğŸ“‹ æ ¸å¿ƒæ¦‚å¿µ**
```
ä»»åŠ¡è°ƒåº¦ = æŒ‰è®¡åˆ’æ‰§è¡Œä»»åŠ¡çš„æœºåˆ¶

ä¸¤å¤§ç±»å‹ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   å®šæ—¶ä»»åŠ¡      â”‚    â”‚   å¼‚æ­¥ä»»åŠ¡      â”‚
â”‚ (Scheduled)     â”‚    â”‚  (Async)        â”‚
â”‚                 â”‚    â”‚                 â”‚
â”‚ â€¢ æŒ‰æ—¶é—´æ‰§è¡Œ    â”‚    â”‚ â€¢ ç«‹å³æ‰§è¡Œ      â”‚
â”‚ â€¢ å‘¨æœŸæ€§é‡å¤    â”‚    â”‚ â€¢ ä¸é˜»å¡ä¸»çº¿ç¨‹  â”‚
â”‚ â€¢ ç³»ç»Ÿç»´æŠ¤     â”‚    â”‚ â€¢ æå‡å“åº”é€Ÿåº¦  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.2 ä¸ºä»€ä¹ˆéœ€è¦ä»»åŠ¡è°ƒåº¦


**ğŸ” è§£å†³çš„é—®é¢˜**
```
åŒæ­¥æ‰§è¡Œçš„é—®é¢˜ï¼š
ç”¨æˆ·æ³¨å†Œ â†’ å‘é€é‚®ä»¶(5ç§’) â†’ è¿”å›ç»“æœ
        â†‘
    ç”¨æˆ·ç­‰å¾…5ç§’ï¼ğŸ˜«

å¼‚æ­¥æ‰§è¡Œçš„ä¼˜åŒ–ï¼š
ç”¨æˆ·æ³¨å†Œ â†’ ç«‹å³è¿”å›ç»“æœ âœ…
         â†˜
          åå°å¼‚æ­¥å‘é€é‚®ä»¶ ğŸ“§
```

**ğŸ’¼ å®é™…åº”ç”¨åœºæ™¯**

| åœºæ™¯ç±»å‹ | **å®šæ—¶ä»»åŠ¡ç¤ºä¾‹** | **å¼‚æ­¥ä»»åŠ¡ç¤ºä¾‹** |
|---------|-----------------|-----------------|
| ğŸ›’ **ç”µå•†ç³»ç»Ÿ** | `æ¯å¤©å‡Œæ™¨2ç‚¹æ¸…ç†è¿‡æœŸè´­ç‰©è½¦` | `ä¸‹å•åå¼‚æ­¥å‘é€ç¡®è®¤çŸ­ä¿¡` |
| ğŸ“Š **æ•°æ®åˆ†æ** | `æ¯å°æ—¶ç»Ÿè®¡é”€å”®æ•°æ®` | `å¼‚æ­¥ç”Ÿæˆå¤æ‚æŠ¥è¡¨` |
| ğŸ”„ **ç³»ç»Ÿç»´æŠ¤** | `æ¯å‘¨æ—¥å¤‡ä»½æ•°æ®åº“` | `å¼‚æ­¥æ¸…ç†ä¸´æ—¶æ–‡ä»¶` |
| ğŸ“§ **æ¶ˆæ¯é€šçŸ¥** | `æ¯å¤©9ç‚¹å‘é€æ—¥æŠ¥` | `å¼‚æ­¥æ¨é€Appæ¶ˆæ¯` |

---

## 2. â° å®šæ—¶ä»»åŠ¡@Scheduledè¯¦è§£


### 2.1 å¯ç”¨å®šæ—¶ä»»åŠ¡åŠŸèƒ½


**ğŸ”§ ç¬¬ä¸€æ­¥ï¼šå¯ç”¨è°ƒåº¦åŠŸèƒ½**
```java
@SpringBootApplication
@EnableScheduling  // ğŸ‘ˆ å¼€å¯å®šæ—¶ä»»åŠ¡æ”¯æŒ
public class Application {
    public static void main(String[] args) {
        SpringApplication.run(Application.class, args);
    }
}
```

> ğŸ’¡ **æ–°æ‰‹æé†’**  
> å¿˜è®°æ·»åŠ  `@EnableScheduling` æ˜¯æ–°æ‰‹æœ€å¸¸çŠ¯çš„é”™è¯¯ï¼Œå®šæ—¶ä»»åŠ¡ä¸ä¼šæ‰§è¡Œï¼

### 2.2 åŸºç¡€å®šæ—¶ä»»åŠ¡å®ç°


**ğŸ“ ç®€å•ç¤ºä¾‹**
```java
@Component
public class ScheduledTasks {
    
    private static final Logger logger = LoggerFactory.getLogger(ScheduledTasks.class);
    
    // æ¯5ç§’æ‰§è¡Œä¸€æ¬¡
    @Scheduled(fixedRate = 5000)
    public void reportCurrentTime() {
        logger.info("ç°åœ¨æ—¶é—´æ˜¯: {}", LocalDateTime.now());
    }
    
    // æ¯å¤©å‡Œæ™¨2ç‚¹æ‰§è¡Œ
    @Scheduled(cron = "0 0 2 * * ?")
    public void dailyCleanup() {
        logger.info("å¼€å§‹æ‰§è¡Œæ¯æ—¥æ¸…ç†ä»»åŠ¡...");
        // æ¸…ç†è¿‡æœŸæ•°æ®çš„é€»è¾‘
    }
}
```

### 2.3 @Scheduledå‚æ•°è¯¦è§£


**âš™ï¸ æ—¶é—´é…ç½®æ–¹å¼å¯¹æ¯”**

```
æ—¶é—´é…ç½®è¯­æ³•å›¾è§£ï¼š

fixedRate = 5000
â”œâ”€ å›ºå®šé¢‘ç‡ï¼šæ¯5ç§’æ‰§è¡Œä¸€æ¬¡
â””â”€ ç‰¹ç‚¹ï¼šä¸ç­‰ä¸Šæ¬¡æ‰§è¡Œå®Œæˆ

fixedDelay = 5000  
â”œâ”€ å›ºå®šå»¶è¿Ÿï¼šä¸Šæ¬¡æ‰§è¡Œå®Œæˆåç­‰5ç§’
â””â”€ ç‰¹ç‚¹ï¼šç¡®ä¿ä»»åŠ¡ä¸é‡å 

initialDelay = 10000
â”œâ”€ åˆå§‹å»¶è¿Ÿï¼šç¨‹åºå¯åŠ¨åç­‰10ç§’å†å¼€å§‹
â””â”€ ç‰¹ç‚¹ï¼šé¿å…å¯åŠ¨æ—¶ç«‹å³æ‰§è¡Œ

cron = "0 0 2 * * ?"
â”œâ”€ Cronè¡¨è¾¾å¼ï¼šç²¾ç¡®æ—¶é—´æ§åˆ¶
â””â”€ ç‰¹ç‚¹ï¼šæ”¯æŒå¤æ‚çš„æ—¶é—´è§„åˆ™
```

**ğŸ”¢ Cronè¡¨è¾¾å¼é€ŸæŸ¥è¡¨**

```
Cronè¡¨è¾¾å¼æ ¼å¼: ç§’ åˆ† æ—¶ æ—¥ æœˆ å‘¨

å¸¸ç”¨è¡¨è¾¾å¼ï¼š
0 0 2 * * ?          æ¯å¤©å‡Œæ™¨2ç‚¹
0 */30 * * * ?       æ¯30åˆ†é’Ÿ
0 0 9 * * MON-FRI    å·¥ä½œæ—¥ä¸Šåˆ9ç‚¹
0 0 12 1 * ?         æ¯æœˆ1å·ä¸­åˆ12ç‚¹
```

> ğŸ“– **è®°å¿†æŠ€å·§**  
> Cronè¡¨è¾¾å¼ä»å°åˆ°å¤§ï¼šç§’â†’åˆ†â†’æ—¶â†’æ—¥â†’æœˆâ†’å‘¨ï¼Œå°±åƒçœ‹æ—¶é—´ä¸€æ ·è‡ªç„¶

### 2.4 é«˜çº§å®šæ—¶ä»»åŠ¡ç¤ºä¾‹


**ğŸ“Š å®é™…ä¸šåŠ¡åœºæ™¯**
```java
@Component
public class BusinessScheduledTasks {
    
    @Autowired
    private OrderService orderService;
    
    @Autowired
    private EmailService emailService;
    
    // æ¯15åˆ†é’Ÿæ£€æŸ¥ä¸€æ¬¡è¶…æ—¶è®¢å•
    @Scheduled(fixedRate = 15 * 60 * 1000)
    public void checkTimeoutOrders() {
        logger.info("å¼€å§‹æ£€æŸ¥è¶…æ—¶è®¢å•...");
        
        List<Order> timeoutOrders = orderService.findTimeoutOrders();
        
        for (Order order : timeoutOrders) {
            orderService.cancelOrder(order.getId());
            logger.info("å–æ¶ˆè¶…æ—¶è®¢å•: {}", order.getId());
        }
        
        logger.info("è¶…æ—¶è®¢å•æ£€æŸ¥å®Œæˆï¼Œå¤„ç†äº†{}ä¸ªè®¢å•", timeoutOrders.size());
    }
    
    // æ¯å¤©å‡Œæ™¨1ç‚¹ç”Ÿæˆé”€å”®æŠ¥è¡¨
    @Scheduled(cron = "0 0 1 * * ?")
    public void generateDailySalesReport() {
        logger.info("å¼€å§‹ç”Ÿæˆæ˜¨æ—¥é”€å”®æŠ¥è¡¨...");
        
        LocalDate yesterday = LocalDate.now().minusDays(1);
        SalesReport report = orderService.generateSalesReport(yesterday);
        
        // å‘é€æŠ¥è¡¨ç»™ç®¡ç†å±‚
        emailService.sendReportToManagers(report);
        
        logger.info("é”€å”®æŠ¥è¡¨ç”Ÿæˆå®Œæˆ");
    }
}
```

---

## 3. ğŸš€ å¼‚æ­¥å¤„ç†@Asyncæ·±å…¥


### 3.1 å¯ç”¨å¼‚æ­¥åŠŸèƒ½


**ğŸ”§ é…ç½®å¼‚æ­¥æ”¯æŒ**
```java
@SpringBootApplication
@EnableAsync  // ğŸ‘ˆ å¼€å¯å¼‚æ­¥æ”¯æŒ
public class Application {
    public static void main(String[] args) {
        SpringApplication.run(Application.class, args);
    }
}
```

### 3.2 åŸºç¡€å¼‚æ­¥æ–¹æ³•


**ğŸ“ å¼‚æ­¥æ–¹æ³•å®ç°**
```java
@Service
public class EmailService {
    
    private static final Logger logger = LoggerFactory.getLogger(EmailService.class);
    
    // æ™®é€šçš„åŒæ­¥æ–¹æ³•
    public void sendEmailSync(String to, String content) {
        logger.info("å¼€å§‹å‘é€é‚®ä»¶ç»™: {}", to);
        simulateSlowTask(); // æ¨¡æ‹Ÿè€—æ—¶æ“ä½œ
        logger.info("é‚®ä»¶å‘é€å®Œæˆ");
    }
    
    // å¼‚æ­¥æ–¹æ³• - ä¸é˜»å¡è°ƒç”¨è€…
    @Async
    public void sendEmailAsync(String to, String content) {
        logger.info("å¼‚æ­¥å‘é€é‚®ä»¶ç»™: {} [çº¿ç¨‹: {}]", 
                   to, Thread.currentThread().getName());
        simulateSlowTask(); // æ¨¡æ‹Ÿè€—æ—¶æ“ä½œ
        logger.info("å¼‚æ­¥é‚®ä»¶å‘é€å®Œæˆ");
    }
    
    private void simulateSlowTask() {
        try {
            Thread.sleep(3000); // æ¨¡æ‹Ÿ3ç§’çš„é‚®ä»¶å‘é€æ—¶é—´
        } catch (InterruptedException e) {
            Thread.currentThread().interrupt();
        }
    }
}
```

**ğŸ”„ åŒæ­¥vså¼‚æ­¥å¯¹æ¯”**
```
åŒæ­¥è°ƒç”¨æµç¨‹ï¼š
Controller â†’ EmailService.sendEmailSync() â†’ ç­‰å¾…3ç§’ â†’ è¿”å›ç»“æœ
   â†‘â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ç”¨æˆ·ç­‰å¾…3ç§’ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

å¼‚æ­¥è°ƒç”¨æµç¨‹ï¼š
Controller â†’ EmailService.sendEmailAsync() â†’ ç«‹å³è¿”å› âœ…
                    â†“
            åå°çº¿ç¨‹ç»§ç»­å¤„ç†é‚®ä»¶å‘é€ ğŸ“§
```

### 3.3 å¸¦è¿”å›å€¼çš„å¼‚æ­¥æ–¹æ³•


**ğŸ“¤ CompletableFutureå¼‚æ­¥è¿”å›**
```java
@Service
public class ReportService {
    
    // å¼‚æ­¥ç”ŸæˆæŠ¥è¡¨ï¼Œè¿”å›Future
    @Async
    public CompletableFuture<String> generateReportAsync(String reportType) {
        logger.info("å¼€å§‹å¼‚æ­¥ç”Ÿæˆ{}æŠ¥è¡¨ [çº¿ç¨‹: {}]", 
                   reportType, Thread.currentThread().getName());
        
        try {
            // æ¨¡æ‹Ÿå¤æ‚çš„æŠ¥è¡¨ç”Ÿæˆè¿‡ç¨‹
            Thread.sleep(5000);
            String result = "æŠ¥è¡¨ç”Ÿæˆå®Œæˆ: " + reportType + "_" + System.currentTimeMillis();
            return CompletableFuture.completedFuture(result);
        } catch (InterruptedException e) {
            Thread.currentThread().interrupt();
            return CompletableFuture.failedFuture(e);
        }
    }
}
```

**ğŸ¯ Controllerä¸­ä½¿ç”¨å¼‚æ­¥ç»“æœ**
```java
@RestController
public class ReportController {
    
    @Autowired
    private ReportService reportService;
    
    @GetMapping("/report/async")
    public String generateReport() throws Exception {
        logger.info("æ”¶åˆ°æŠ¥è¡¨ç”Ÿæˆè¯·æ±‚");
        
        // å¼‚æ­¥è°ƒç”¨ï¼Œç«‹å³è¿”å›Future
        CompletableFuture<String> future = reportService.generateReportAsync("é”€å”®æŠ¥è¡¨");
        
        logger.info("æŠ¥è¡¨æ­£åœ¨åå°ç”Ÿæˆï¼Œè¯·ç¨å€™...");
        
        // è¿™é‡Œå¯ä»¥åšå…¶ä»–äº‹æƒ…...
        
        // è·å–å¼‚æ­¥ç»“æœï¼ˆä¼šé˜»å¡ç›´åˆ°å®Œæˆï¼‰
        String result = future.get(); // åœ¨å®é™…é¡¹ç›®ä¸­å»ºè®®åŠ ä¸Šè¶…æ—¶æ—¶é—´
        
        return result;
    }
}
```

---

## 4. ğŸ­ çº¿ç¨‹æ± é…ç½®ä¸ä¼˜åŒ–


### 4.1 é»˜è®¤çº¿ç¨‹æ± çš„é—®é¢˜


**âš ï¸ é»˜è®¤é…ç½®çš„å±€é™æ€§**
```
Spring Boot é»˜è®¤å¼‚æ­¥é…ç½®ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SimpleAsyncTask     â”‚
â”‚ Executor            â”‚
â”‚                     â”‚  
â”‚ âŒ æ ¸å¿ƒçº¿ç¨‹æ•°: 1     â”‚
â”‚ âŒ æœ€å¤§çº¿ç¨‹æ•°: æ— é™   â”‚  
â”‚ âŒ é˜Ÿåˆ—å¤§å°: æ— é™     â”‚
â”‚ âŒ æ²¡æœ‰çº¿ç¨‹åå‰ç¼€     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â†“
    å¯èƒ½å¯¼è‡´çš„é—®é¢˜ï¼š
    â€¢ èµ„æºæµªè´¹
    â€¢ éš¾ä»¥ç›‘æ§  
    â€¢ æ— æ³•æ§åˆ¶å¹¶å‘æ•°
```

### 4.2 è‡ªå®šä¹‰çº¿ç¨‹æ± é…ç½®


**ğŸ”§ çº¿ç¨‹æ± é…ç½®ç±»**
```java
@Configuration
@EnableAsync
public class AsyncConfig {
    
    @Bean(name = "taskExecutor")
    public ThreadPoolTaskExecutor taskExecutor() {
        ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();
        
        // æ ¸å¿ƒçº¿ç¨‹æ•°ï¼šå§‹ç»ˆä¿æŒçš„çº¿ç¨‹æ•°é‡
        executor.setCorePoolSize(5);
        
        // æœ€å¤§çº¿ç¨‹æ•°ï¼šé«˜å³°æœŸæœ€å¤šåˆ›å»ºçš„çº¿ç¨‹æ•°
        executor.setMaxPoolSize(20);
        
        // é˜Ÿåˆ—å®¹é‡ï¼šç­‰å¾…æ‰§è¡Œçš„ä»»åŠ¡é˜Ÿåˆ—å¤§å°
        executor.setQueueCapacity(100);
        
        // çº¿ç¨‹åç§°å‰ç¼€ï¼šä¾¿äºæ—¥å¿—è¿½è¸ª
        executor.setThreadNamePrefix("Async-Task-");
        
        // æ‹’ç»ç­–ç•¥ï¼šé˜Ÿåˆ—å’Œçº¿ç¨‹æ± éƒ½æ»¡æ—¶çš„å¤„ç†æ–¹å¼
        executor.setRejectedExecutionHandler(new ThreadPoolExecutor.CallerRunsPolicy());
        
        // ç­‰å¾…ä»»åŠ¡å®Œæˆåå…³é—­çº¿ç¨‹æ± 
        executor.setWaitForTasksToCompleteOnShutdown(true);
        
        // ç­‰å¾…æ—¶é—´
        executor.setAwaitTerminationSeconds(30);
        
        executor.initialize();
        return executor;
    }
}
```

**ğŸ“Š çº¿ç¨‹æ± å‚æ•°è§£æ**

```
çº¿ç¨‹æ± å·¥ä½œåŸç†å›¾ï¼š

æäº¤ä»»åŠ¡ â†’ æ ¸å¿ƒçº¿ç¨‹å¿™å—ï¼Ÿ
            â”œâ”€ å¦ â†’ åˆ†é…ç»™æ ¸å¿ƒçº¿ç¨‹æ‰§è¡Œ
            â””â”€ æ˜¯ â†’ æ”¾å…¥é˜Ÿåˆ—ç­‰å¾…
                     â”œâ”€ é˜Ÿåˆ—æœªæ»¡ â†’ å…¥é˜Ÿç­‰å¾…  
                     â””â”€ é˜Ÿåˆ—å·²æ»¡ â†’ åˆ›å»ºæ–°çº¿ç¨‹
                                  â”œâ”€ æœªè¾¾æœ€å¤§çº¿ç¨‹æ•° â†’ åˆ›å»ºæ‰§è¡Œ
                                  â””â”€ å·²è¾¾æœ€å¤§çº¿ç¨‹æ•° â†’ æ‰§è¡Œæ‹’ç»ç­–ç•¥

å‚æ•°å«ä¹‰ï¼š
corePoolSize:    5  â† å¸¸é©»çº¿ç¨‹ï¼Œå³ä½¿ç©ºé—²ä¹Ÿä¸é”€æ¯
maxPoolSize:    20  â† é«˜å³°æœŸæœ€å¤§çº¿ç¨‹æ•°
queueCapacity: 100  â† ç­‰å¾…é˜Ÿåˆ—å¤§å°
```

### 4.3 ä½¿ç”¨æŒ‡å®šçº¿ç¨‹æ± 


**ğŸ¯ æŒ‡å®šçº¿ç¨‹æ± æ‰§è¡Œå¼‚æ­¥ä»»åŠ¡**
```java
@Service
public class AsyncTaskService {
    
    // ä½¿ç”¨é»˜è®¤çº¿ç¨‹æ± 
    @Async
    public void defaultTask() {
        logger.info("ä½¿ç”¨é»˜è®¤çº¿ç¨‹æ±  [çº¿ç¨‹: {}]", Thread.currentThread().getName());
    }
    
    // ä½¿ç”¨æŒ‡å®šçš„çº¿ç¨‹æ± 
    @Async("taskExecutor")  // ğŸ‘ˆ æŒ‡å®šçº¿ç¨‹æ± beanåç§°
    public void customTask() {
        logger.info("ä½¿ç”¨è‡ªå®šä¹‰çº¿ç¨‹æ±  [çº¿ç¨‹: {}]", Thread.currentThread().getName());
    }
}
```

---

## 5. âš ï¸ å¼‚æ­¥å¼‚å¸¸å¤„ç†æœºåˆ¶


### 5.1 å¼‚æ­¥å¼‚å¸¸çš„ç‰¹æ®Šæ€§


**ğŸ” å¼‚æ­¥å¼‚å¸¸å¤„ç†éš¾ç‚¹**
```
åŒæ­¥æ–¹æ³•å¼‚å¸¸ï¼š
try {
    service.syncMethod();  // å¼‚å¸¸å¯ä»¥ç›´æ¥æ•è·
} catch (Exception e) {
    // å¯ä»¥æ­£å¸¸å¤„ç† âœ…
}

å¼‚æ­¥æ–¹æ³•å¼‚å¸¸ï¼š
try {
    service.asyncMethod(); // å¼‚å¸¸åœ¨å¦ä¸€ä¸ªçº¿ç¨‹ä¸­
} catch (Exception e) {
    // æ°¸è¿œä¸ä¼šæ‰§è¡Œ âŒ
}

å¼‚æ­¥å¼‚å¸¸åœ¨å¦ä¸€ä¸ªçº¿ç¨‹ä¸­å‘ç”Ÿï¼Œä¸»çº¿ç¨‹æ— æ³•ç›´æ¥æ•è·ï¼
```

### 5.2 å…¨å±€å¼‚æ­¥å¼‚å¸¸å¤„ç†å™¨


**ğŸ›¡ï¸ å®ç°AsyncUncaughtExceptionHandler**
```java
@Component
public class GlobalAsyncExceptionHandler implements AsyncUncaughtExceptionHandler {
    
    private static final Logger logger = LoggerFactory.getLogger(GlobalAsyncExceptionHandler.class);
    
    @Override
    public void handleUncaughtException(Throwable ex, Method method, Object... params) {
        logger.error("å¼‚æ­¥ä»»åŠ¡æ‰§è¡Œå‡ºé”™ï¼");
        logger.error("æ–¹æ³•å: {}", method.getName());
        logger.error("å‚æ•°: {}", Arrays.toString(params));
        logger.error("å¼‚å¸¸ä¿¡æ¯: ", ex);
        
        // è¿™é‡Œå¯ä»¥æ·»åŠ å…¶ä»–å¤„ç†é€»è¾‘ï¼š
        // 1. å‘é€å‘Šè­¦é‚®ä»¶
        // 2. å†™å…¥é”™è¯¯æ—¥å¿—è¡¨  
        // 3. è§¦å‘é‡è¯•æœºåˆ¶
        sendErrorAlert(method.getName(), ex.getMessage());
    }
    
    private void sendErrorAlert(String methodName, String errorMsg) {
        // å‘é€é”™è¯¯å‘Šè­¦çš„é€»è¾‘
        logger.info("å·²å‘é€é”™è¯¯å‘Šè­¦: æ–¹æ³•[{}]æ‰§è¡Œå¤±è´¥", methodName);
    }
}
```

**ğŸ”§ é…ç½®å¼‚å¸¸å¤„ç†å™¨**
```java
@Configuration
@EnableAsync
public class AsyncConfig implements AsyncConfigurer {
    
    @Override
    public Executor getAsyncExecutor() {
        // è¿”å›è‡ªå®šä¹‰çº¿ç¨‹æ± 
        return taskExecutor();
    }
    
    @Override
    public AsyncUncaughtExceptionHandler getAsyncUncaughtExceptionHandler() {
        // è¿”å›å¼‚å¸¸å¤„ç†å™¨
        return new GlobalAsyncExceptionHandler();
    }
    
    @Bean(name = "taskExecutor")
    public ThreadPoolTaskExecutor taskExecutor() {
        // ä¹‹å‰çš„çº¿ç¨‹æ± é…ç½®...
    }
}
```

### 5.3 å¼‚æ­¥æ–¹æ³•ä¸­çš„å¼‚å¸¸å¤„ç†


**ğŸ“ å¸¦å¼‚å¸¸å¤„ç†çš„å¼‚æ­¥æ–¹æ³•**
```java
@Service
public class RobustAsyncService {
    
    @Async("taskExecutor")
    public CompletableFuture<String> processDataWithExceptionHandling(String data) {
        try {
            logger.info("å¼€å§‹å¤„ç†æ•°æ®: {}", data);
            
            // æ¨¡æ‹Ÿå¯èƒ½å‡ºé”™çš„ä¸šåŠ¡é€»è¾‘
            if ("error".equals(data)) {
                throw new RuntimeException("æ•°æ®å¤„ç†å¤±è´¥: " + data);
            }
            
            // æ¨¡æ‹Ÿè€—æ—¶å¤„ç†
            Thread.sleep(2000);
            
            String result = "å¤„ç†å®Œæˆ: " + data.toUpperCase();
            logger.info("æ•°æ®å¤„ç†æˆåŠŸ: {}", result);
            
            return CompletableFuture.completedFuture(result);
            
        } catch (Exception e) {
            logger.error("å¼‚æ­¥å¤„ç†æ•°æ®æ—¶å‘ç”Ÿé”™è¯¯: {}", e.getMessage());
            
            // è¿”å›å¤±è´¥çš„Future
            CompletableFuture<String> failedFuture = new CompletableFuture<>();
            failedFuture.completeExceptionally(e);
            return failedFuture;
        }
    }
}
```

---

## 6. ğŸŒ åˆ†å¸ƒå¼ç¯å¢ƒä¸‹çš„å®šæ—¶ä»»åŠ¡


### 6.1 åˆ†å¸ƒå¼å®šæ—¶ä»»åŠ¡çš„æŒ‘æˆ˜


**ğŸ”¸ å•æœºå®šæ—¶ä»»åŠ¡çš„é—®é¢˜**
```
åˆ†å¸ƒå¼éƒ¨ç½²ç¤ºæ„å›¾ï¼š

   è´Ÿè½½å‡è¡¡å™¨
        â”‚
    â”Œâ”€â”€â”€â”´â”€â”€â”€â”
    â”‚       â”‚
  æœåŠ¡A   æœåŠ¡B   æœåŠ¡C
    â”‚       â”‚       â”‚
  å®šæ—¶ä»»åŠ¡ å®šæ—¶ä»»åŠ¡ å®šæ—¶ä»»åŠ¡
    â”‚       â”‚       â”‚
    â””â”€â”€â”€â”¬â”€â”€â”€â”´â”€â”€â”€â”¬â”€â”€â”€â”˜
        â”‚       â”‚
        â””â”€ åŒæ—¶æ‰§è¡ŒåŒä¸€ä¸ªå®šæ—¶ä»»åŠ¡ï¼âŒ
        
é—®é¢˜ï¼š
â€¢ é‡å¤æ‰§è¡Œï¼š3å°æœºå™¨åŒæ—¶æ‰§è¡Œæ¸…ç†ä»»åŠ¡
â€¢ èµ„æºæµªè´¹ï¼šæ•°æ®åº“è¢«å¤šæ¬¡æ‰«æ
â€¢ æ•°æ®ä¸ä¸€è‡´ï¼šå¯èƒ½äº§ç”Ÿå†²çª
```

### 6.2 åˆ†å¸ƒå¼é”è§£å†³æ–¹æ¡ˆ


**ğŸ”’ åŸºäºæ•°æ®åº“çš„åˆ†å¸ƒå¼é”**
```java
@Service
public class DistributedScheduledService {
    
    @Autowired
    private DistributedLockService lockService;
    
    @Scheduled(cron = "0 0 2 * * ?")
    public void distributedCleanupTask() {
        String lockKey = "cleanup_task_lock";
        
        // å°è¯•è·å–åˆ†å¸ƒå¼é”
        if (lockService.tryLock(lockKey, 30)) { // 30ç§’é”å®šæ—¶é—´
            try {
                logger.info("è·å–åˆ°åˆ†å¸ƒå¼é”ï¼Œå¼€å§‹æ‰§è¡Œæ¸…ç†ä»»åŠ¡...");
                performCleanupTask();
                logger.info("æ¸…ç†ä»»åŠ¡æ‰§è¡Œå®Œæˆ");
            } finally {
                // ç¡®ä¿é‡Šæ”¾é”
                lockService.releaseLock(lockKey);
                logger.info("åˆ†å¸ƒå¼é”å·²é‡Šæ”¾");
            }
        } else {
            logger.info("æœªè·å–åˆ°åˆ†å¸ƒå¼é”ï¼Œè·³è¿‡æœ¬æ¬¡æ‰§è¡Œ");
        }
    }
    
    private void performCleanupTask() {
        // å®é™…çš„æ¸…ç†é€»è¾‘
        // æ¸…ç†è¿‡æœŸæ•°æ®ã€ä¸´æ—¶æ–‡ä»¶ç­‰
    }
}
```

**ğŸ”§ ç®€å•çš„åˆ†å¸ƒå¼é”å®ç°**
```java
@Component
public class DistributedLockService {
    
    @Autowired
    private JdbcTemplate jdbcTemplate;
    
    public boolean tryLock(String lockKey, int timeoutSeconds) {
        try {
            // å°è¯•æ’å…¥é”è®°å½•
            int result = jdbcTemplate.update(
                "INSERT INTO distributed_lock (lock_key, expire_time) VALUES (?, ?)",
                lockKey, 
                System.currentTimeMillis() + timeoutSeconds * 1000
            );
            return result > 0;
        } catch (Exception e) {
            // æ’å…¥å¤±è´¥è¯´æ˜é”å·²å­˜åœ¨
            return false;
        }
    }
    
    public void releaseLock(String lockKey) {
        jdbcTemplate.update("DELETE FROM distributed_lock WHERE lock_key = ?", lockKey);
    }
    
    // å®šæœŸæ¸…ç†è¿‡æœŸé”
    @Scheduled(fixedRate = 60000) // æ¯åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡
    public void cleanExpiredLocks() {
        int deletedCount = jdbcTemplate.update(
            "DELETE FROM distributed_lock WHERE expire_time < ?",
            System.currentTimeMillis()
        );
        if (deletedCount > 0) {
            logger.info("æ¸…ç†äº†{}ä¸ªè¿‡æœŸçš„åˆ†å¸ƒå¼é”", deletedCount);
        }
    }
}
```

**ğŸ“‹ æ•°æ®åº“é”è¡¨ç»“æ„**
```sql
CREATE TABLE distributed_lock (
    id BIGINT AUTO_INCREMENT PRIMARY KEY,
    lock_key VARCHAR(100) NOT NULL UNIQUE,
    expire_time BIGINT NOT NULL,
    created_time TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

---

## 7. ğŸ¯ Quartzé«˜çº§è°ƒåº¦æ¡†æ¶


### 7.1 ä¸ºä»€ä¹ˆéœ€è¦Quartz


**ğŸ”¸ Spring @Scheduledçš„å±€é™æ€§**
```
@Scheduled çš„é™åˆ¶ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â€¢ é…ç½®å›ºå®šåœ¨ä»£ç ä¸­  â”‚
â”‚ â€¢ æ— æ³•åŠ¨æ€ä¿®æ”¹      â”‚  
â”‚ â€¢ ç¼ºå°‘ç®¡ç†ç•Œé¢      â”‚
â”‚ â€¢ é›†ç¾¤æ”¯æŒæœ‰é™      â”‚
â”‚ â€¢ ä»»åŠ¡çŠ¶æ€éš¾ç›‘æ§    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â†“
      é€‚ç”¨åœºæ™¯æœ‰é™

Quartz çš„ä¼˜åŠ¿ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  
â”‚ â€¢ åŠ¨æ€æ·»åŠ /åˆ é™¤ä»»åŠ¡ â”‚
â”‚ â€¢ å¯æŒä¹…åŒ–åˆ°æ•°æ®åº“  â”‚
â”‚ â€¢ ä¸°å¯Œçš„ç®¡ç†API    â”‚
â”‚ â€¢ å®Œå–„çš„é›†ç¾¤æ”¯æŒ    â”‚ 
â”‚ â€¢ ä»»åŠ¡æ‰§è¡Œç›‘æ§      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â†“
      ä¼ä¸šçº§è°ƒåº¦é¦–é€‰
```

### 7.2 é›†æˆQuartz


**ğŸ“¦ æ·»åŠ ä¾èµ–**
```xml
<dependency>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-starter-quartz</artifactId>
</dependency>
```

**âš™ï¸ Quartzé…ç½®**
```yaml
# application.yml
spring:
  quartz:
    # è°ƒåº¦å™¨åç§°
    scheduler-name: MyScheduler
    # å¯åŠ¨æ—¶å»¶è¿Ÿï¼ˆé¿å…åº”ç”¨å¯åŠ¨æ—¶ç«‹å³æ‰§è¡Œï¼‰
    startup-delay: 10s
    # åº”ç”¨å…³é—­æ—¶ç­‰å¾…ä»»åŠ¡å®Œæˆ
    wait-for-jobs-to-complete-on-shutdown: true
    # æŒä¹…åŒ–é…ç½®
    job-store-type: jdbc
    # Quartzå±æ€§é…ç½®
    properties:
      org:
        quartz:
          scheduler:
            instanceName: MyScheduler
            instanceId: AUTO
          jobStore:
            class: org.quartz.impl.jdbcjobstore.JobStoreTX
            driverDelegateClass: org.quartz.impl.jdbcjobstore.StdJDBCDelegate
            tablePrefix: QRTZ_
            isClustered: true
            clusterCheckinInterval: 10000
          threadPool:
            class: org.quartz.simpl.SimpleThreadPool
            threadCount: 10
            threadPriority: 5
```

### 7.3 åˆ›å»ºQuartzä»»åŠ¡


**ğŸ“ å®šä¹‰Jobç±»**
```java
@Component
public class SalesReportJob extends QuartzJobBean {
    
    private static final Logger logger = LoggerFactory.getLogger(SalesReportJob.class);
    
    @Autowired
    private SalesService salesService;
    
    @Override
    protected void executeInternal(JobExecutionContext context) throws JobExecutionException {
        logger.info("å¼€å§‹æ‰§è¡Œé”€å”®æŠ¥è¡¨ä»»åŠ¡...");
        
        try {
            // ä»JobDataMapè·å–å‚æ•°
            JobDataMap dataMap = context.getJobDetail().getJobDataMap();
            String reportType = dataMap.getString("reportType");
            
            logger.info("ç”ŸæˆæŠ¥è¡¨ç±»å‹: {}", reportType);
            
            // æ‰§è¡Œå…·ä½“çš„ä¸šåŠ¡é€»è¾‘
            SalesReport report = salesService.generateReport(reportType);
            
            logger.info("é”€å”®æŠ¥è¡¨ä»»åŠ¡æ‰§è¡Œå®Œæˆï¼Œå…±{}æ¡è®°å½•", report.getRecordCount());
            
        } catch (Exception e) {
            logger.error("é”€å”®æŠ¥è¡¨ä»»åŠ¡æ‰§è¡Œå¤±è´¥", e);
            throw new JobExecutionException(e);
        }
    }
}
```

### 7.4 åŠ¨æ€ç®¡ç†Quartzä»»åŠ¡


**ğŸ›ï¸ ä»»åŠ¡ç®¡ç†æœåŠ¡**
```java
@Service
public class JobManagerService {
    
    @Autowired
    private Scheduler scheduler;
    
    /**
     * æ·»åŠ å®šæ—¶ä»»åŠ¡
     */
    public void addJob(String jobName, String jobGroup, String cron, Map<String, Object> jobData) 
            throws SchedulerException {
        
        // åˆ›å»ºJobDetail
        JobDetail jobDetail = JobBuilder.newJob(SalesReportJob.class)
                .withIdentity(jobName, jobGroup)
                .withDescription("åŠ¨æ€åˆ›å»ºçš„é”€å”®æŠ¥è¡¨ä»»åŠ¡")
                .build();
        
        // æ·»åŠ ä»»åŠ¡å‚æ•°
        if (jobData != null) {
            jobDetail.getJobDataMap().putAll(jobData);
        }
        
        // åˆ›å»ºTrigger
        CronTrigger trigger = TriggerBuilder.newTrigger()
                .withIdentity(jobName + "_trigger", jobGroup)
                .withSchedule(CronScheduleBuilder.cronSchedule(cron))
                .build();
        
        // è°ƒåº¦ä»»åŠ¡
        scheduler.scheduleJob(jobDetail, trigger);
        
        logger.info("ä»»åŠ¡æ·»åŠ æˆåŠŸ: {}.{}, cron: {}", jobGroup, jobName, cron);
    }
    
    /**
     * åˆ é™¤ä»»åŠ¡
     */
    public boolean deleteJob(String jobName, String jobGroup) throws SchedulerException {
        JobKey jobKey = JobKey.jobKey(jobName, jobGroup);
        
        if (scheduler.checkExists(jobKey)) {
            boolean result = scheduler.deleteJob(jobKey);
            logger.info("ä»»åŠ¡åˆ é™¤{}: {}.{}", result ? "æˆåŠŸ" : "å¤±è´¥", jobGroup, jobName);
            return result;
        }
        return false;
    }
    
    /**
     * æš‚åœä»»åŠ¡
     */
    public void pauseJob(String jobName, String jobGroup) throws SchedulerException {
        JobKey jobKey = JobKey.jobKey(jobName, jobGroup);
        scheduler.pauseJob(jobKey);
        logger.info("ä»»åŠ¡æš‚åœæˆåŠŸ: {}.{}", jobGroup, jobName);
    }
    
    /**
     * æ¢å¤ä»»åŠ¡
     */
    public void resumeJob(String jobName, String jobGroup) throws SchedulerException {
        JobKey jobKey = JobKey.jobKey(jobName, jobGroup);
        scheduler.resumeJob(jobKey);
        logger.info("ä»»åŠ¡æ¢å¤æˆåŠŸ: {}.{}", jobGroup, jobName);
    }
    
    /**
     * ç«‹å³æ‰§è¡Œä»»åŠ¡
     */
    public void triggerJob(String jobName, String jobGroup) throws SchedulerException {
        JobKey jobKey = JobKey.jobKey(jobName, jobGroup);
        scheduler.triggerJob(jobKey);
        logger.info("æ‰‹åŠ¨è§¦å‘ä»»åŠ¡: {}.{}", jobGroup, jobName);
    }
}
```

**ğŸ¯ Controlleræ¥å£**
```java
@RestController
@RequestMapping("/jobs")
public class JobController {
    
    @Autowired
    private JobManagerService jobManagerService;
    
    @PostMapping("/add")
    public String addJob(@RequestParam String jobName,
                        @RequestParam String jobGroup, 
                        @RequestParam String cron,
                        @RequestParam String reportType) {
        try {
            Map<String, Object> jobData = new HashMap<>();
            jobData.put("reportType", reportType);
            
            jobManagerService.addJob(jobName, jobGroup, cron, jobData);
            return "ä»»åŠ¡æ·»åŠ æˆåŠŸ";
        } catch (Exception e) {
            return "ä»»åŠ¡æ·»åŠ å¤±è´¥: " + e.getMessage();
        }
    }
    
    @DeleteMapping("/{jobGroup}/{jobName}")
    public String deleteJob(@PathVariable String jobGroup, 
                           @PathVariable String jobName) {
        try {
            boolean success = jobManagerService.deleteJob(jobName, jobGroup);
            return success ? "ä»»åŠ¡åˆ é™¤æˆåŠŸ" : "ä»»åŠ¡ä¸å­˜åœ¨";
        } catch (Exception e) {
            return "ä»»åŠ¡åˆ é™¤å¤±è´¥: " + e.getMessage();
        }
    }
}
```

---

## 8. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 8.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ ä»»åŠ¡è°ƒåº¦ï¼šæŒ‰è®¡åˆ’æ‰§è¡Œä»»åŠ¡çš„æœºåˆ¶ï¼Œåˆ†ä¸ºå®šæ—¶ä»»åŠ¡å’Œå¼‚æ­¥ä»»åŠ¡
ğŸ”¸ @Scheduledï¼šSpringæä¾›çš„å®šæ—¶ä»»åŠ¡æ³¨è§£ï¼Œæ”¯æŒcronè¡¨è¾¾å¼
ğŸ”¸ @Asyncï¼šSpringæä¾›çš„å¼‚æ­¥æ‰§è¡Œæ³¨è§£ï¼Œä¸é˜»å¡ä¸»çº¿ç¨‹
ğŸ”¸ çº¿ç¨‹æ± ï¼šç®¡ç†å¼‚æ­¥ä»»åŠ¡æ‰§è¡Œçš„çº¿ç¨‹èµ„æºæ± 
ğŸ”¸ åˆ†å¸ƒå¼é”ï¼šè§£å†³é›†ç¾¤ç¯å¢ƒä¸‹å®šæ—¶ä»»åŠ¡é‡å¤æ‰§è¡Œé—®é¢˜
ğŸ”¸ Quartzï¼šä¼ä¸šçº§ä»»åŠ¡è°ƒåº¦æ¡†æ¶ï¼Œæ”¯æŒåŠ¨æ€ç®¡ç†å’Œé›†ç¾¤
```

### 8.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ å®šæ—¶ä»»åŠ¡ vs å¼‚æ­¥ä»»åŠ¡**
```
å®šæ—¶ä»»åŠ¡ï¼š
â€¢ ç›®çš„ï¼šæŒ‰æ—¶é—´è®¡åˆ’æ‰§è¡Œ
â€¢ ç‰¹ç‚¹ï¼šå‘¨æœŸæ€§ã€å¯é¢„æœŸ
â€¢ åœºæ™¯ï¼šæ•°æ®æ¸…ç†ã€æŠ¥è¡¨ç”Ÿæˆã€ç³»ç»Ÿç»´æŠ¤

å¼‚æ­¥ä»»åŠ¡ï¼š
â€¢ ç›®çš„ï¼šä¸é˜»å¡ä¸»çº¿ç¨‹  
â€¢ ç‰¹ç‚¹ï¼šç«‹å³æ‰§è¡Œã€æå‡å“åº”
â€¢ åœºæ™¯ï¼šé‚®ä»¶å‘é€ã€æ–‡ä»¶å¤„ç†ã€æ¶ˆæ¯æ¨é€
```

**ğŸ”¹ çº¿ç¨‹æ± å‚æ•°é…ç½®åŸåˆ™**
```
corePoolSizeï¼š
â€¢ å»ºè®®å€¼ï¼šCPUæ ¸æ•°çš„1-2å€
â€¢ ä½œç”¨ï¼šä¿æŒå¸¸é©»çº¿ç¨‹æ•°

maxPoolSizeï¼š  
â€¢ å»ºè®®å€¼ï¼šcorePoolSizeçš„2-4å€
â€¢ ä½œç”¨ï¼šåº”å¯¹çªå‘æµé‡

queueCapacityï¼š
â€¢ å»ºè®®å€¼ï¼š100-1000
â€¢ ä½œç”¨ï¼šç¼“å†²ç­‰å¾…ä»»åŠ¡
```

**ğŸ”¹ å¼‚æ­¥å¼‚å¸¸å¤„ç†ç­–ç•¥**
```
æ— è¿”å›å€¼å¼‚æ­¥æ–¹æ³•ï¼š
â€¢ ä½¿ç”¨å…¨å±€å¼‚å¸¸å¤„ç†å™¨
â€¢ è®°å½•å¼‚å¸¸æ—¥å¿—
â€¢ å‘é€å‘Šè­¦é€šçŸ¥

æœ‰è¿”å›å€¼å¼‚æ­¥æ–¹æ³•ï¼š
â€¢ è¿”å›CompletableFuture
â€¢ åœ¨æ–¹æ³•å†…éƒ¨å¤„ç†å¼‚å¸¸
â€¢ è¿”å›å¤±è´¥çš„Futureå¯¹è±¡
```

### 8.3 æœ€ä½³å®è·µå»ºè®®


**ğŸ¯ é€‰æ‹©åˆé€‚çš„è°ƒåº¦æ–¹æ¡ˆ**

| åœºæ™¯ | **æ¨èæ–¹æ¡ˆ** | **ç†ç”±** |
|------|-------------|---------|
| ğŸ”¸ **ç®€å•å®šæ—¶ä»»åŠ¡** | `@Scheduled` | `è½»é‡çº§ï¼Œé…ç½®ç®€å•` |
| ğŸ”¸ **éœ€è¦åŠ¨æ€ç®¡ç†** | `Quartz` | `åŠŸèƒ½å¼ºå¤§ï¼Œæ”¯æŒè¿è¡Œæ—¶ä¿®æ”¹` |
| ğŸ”¸ **é«˜å¹¶å‘å¼‚æ­¥** | `@Async + è‡ªå®šä¹‰çº¿ç¨‹æ± ` | `èµ„æºå¯æ§ï¼Œæ€§èƒ½ä¼˜åŒ–` |
| ğŸ”¸ **åˆ†å¸ƒå¼ç¯å¢ƒ** | `åˆ†å¸ƒå¼é” + å®šæ—¶ä»»åŠ¡` | `é¿å…é‡å¤æ‰§è¡Œ` |

**âš¡ æ€§èƒ½ä¼˜åŒ–è¦ç‚¹**
```
çº¿ç¨‹æ± ä¼˜åŒ–ï¼š
â€¢ æ ¹æ®ä¸šåŠ¡ç‰¹ç‚¹è°ƒæ•´å‚æ•°
â€¢ ç›‘æ§çº¿ç¨‹æ± ä½¿ç”¨æƒ…å†µ
â€¢ é¿å…çº¿ç¨‹èµ„æºæµªè´¹

ä»»åŠ¡è®¾è®¡ä¼˜åŒ–ï¼š
â€¢ ä»»åŠ¡å¹‚ç­‰æ€§è®¾è®¡
â€¢ åˆç†çš„è¶…æ—¶æ—¶é—´è®¾ç½®
â€¢ å¼‚å¸¸æƒ…å†µçš„ä¼˜é›…å¤„ç†

ç›‘æ§å‘Šè­¦ï¼š
â€¢ ä»»åŠ¡æ‰§è¡Œæ—¶é—´ç›‘æ§
â€¢ å¼‚å¸¸æƒ…å†µåŠæ—¶å‘Šè­¦
â€¢ çº¿ç¨‹æ± çŠ¶æ€ç›‘æ§
```

**ğŸ”§ å¸¸è§é—®é¢˜è§£å†³**
```
â“ å®šæ—¶ä»»åŠ¡ä¸æ‰§è¡Œï¼Ÿ
âœ… æ£€æŸ¥æ˜¯å¦æ·»åŠ @EnableSchedulingæ³¨è§£

â“ å¼‚æ­¥æ–¹æ³•æ²¡æœ‰å¼‚æ­¥æ‰§è¡Œï¼Ÿ
âœ… æ£€æŸ¥@EnableAsyncæ³¨è§£å’Œè°ƒç”¨æ–¹å¼

â“ å¼‚æ­¥å¼‚å¸¸æ— æ³•æ•è·ï¼Ÿ
âœ… å®ç°AsyncUncaughtExceptionHandler

â“ é›†ç¾¤ç¯å¢ƒä»»åŠ¡é‡å¤æ‰§è¡Œï¼Ÿ
âœ… ä½¿ç”¨åˆ†å¸ƒå¼é”æœºåˆ¶
```

**æ ¸å¿ƒè®°å¿†**ï¼š
- å®šæ—¶ä»»åŠ¡ç”¨@Scheduledï¼Œå¼‚æ­¥å¤„ç†ç”¨@Async
- è‡ªå®šä¹‰çº¿ç¨‹æ± æ§åˆ¶èµ„æºï¼Œå…¨å±€å¤„ç†å™¨æ•è·å¼‚å¸¸
- åˆ†å¸ƒå¼ç¯å¢ƒè¦è€ƒè™‘ä»»åŠ¡é‡å¤æ‰§è¡Œé—®é¢˜
- Quartzé€‚åˆå¤æ‚åœºæ™¯ï¼Œç®€å•ä»»åŠ¡ç”¨Springæ³¨è§£å³å¯