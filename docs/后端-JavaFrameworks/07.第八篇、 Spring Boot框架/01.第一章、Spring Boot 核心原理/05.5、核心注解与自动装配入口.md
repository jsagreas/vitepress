---
title: 5ã€æ ¸å¿ƒæ³¨è§£ä¸è‡ªåŠ¨è£…é…å…¥å£
---
## ğŸ“š ç›®å½•

1. [@SpringBootApplicationå¤åˆæ³¨è§£è¯¦è§£](#1-springbootapplicationå¤åˆæ³¨è§£è¯¦è§£)
2. [@EnableAutoConfigurationå¯ç”¨æœºåˆ¶](#2-enableautoconfigurationå¯ç”¨æœºåˆ¶)
3. [@ComponentScanæ‰«æè§„åˆ™](#3-componentscanæ‰«æè§„åˆ™)
4. [è‡ªåŠ¨é…ç½®æ’é™¤ç­–ç•¥](#4-è‡ªåŠ¨é…ç½®æ’é™¤ç­–ç•¥)
5. [æ¡ä»¶è£…é…å…¥å£](#5-æ¡ä»¶è£…é…å…¥å£)
6. [Importæ³¨è§£æ·±å…¥](#6-importæ³¨è§£æ·±å…¥)
7. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#7-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸš€ @SpringBootApplicationå¤åˆæ³¨è§£è¯¦è§£


### 1.1 ä»€ä¹ˆæ˜¯@SpringBootApplication


**ğŸ”¸ ç®€å•ç†è§£**
æƒ³è±¡ä¸€ä¸‹ï¼Œä½ è¦å¼€ä¸€å®¶é¤å…ï¼Œéœ€è¦åšå¾ˆå¤šå‡†å¤‡å·¥ä½œï¼šè£…ä¿®åº—é¢ã€æ‹›è˜å‘˜å·¥ã€é‡‡è´­è®¾å¤‡ã€åˆ¶å®šèœå•ç­‰ç­‰ã€‚å¦‚æœæ¯æ¬¡å¼€åº—éƒ½è¦ä¸€é¡¹é¡¹å»åšè¿™äº›äº‹ï¼Œä¼šå¾ˆéº»çƒ¦ã€‚

`@SpringBootApplication` å°±åƒæ˜¯ä¸€ä¸ª**"ä¸€é”®å¼€åº—åŒ…"**ï¼Œå®ƒæŠŠå¼€å‘Springåº”ç”¨éœ€è¦çš„åŸºæœ¬é…ç½®éƒ½æ‰“åŒ…åœ¨ä¸€èµ·äº†ã€‚

**ğŸ’¡ æ ¸å¿ƒä½œç”¨**
```java
// ä¼ ç»ŸSpringåº”ç”¨éœ€è¦å†™å¾ˆå¤šé…ç½®
@Configuration
@EnableAutoConfiguration  
@ComponentScan
public class MyApp {
    // å„ç§å¤æ‚é…ç½®...
}

// SpringBootåªéœ€è¦ä¸€ä¸ªæ³¨è§£
@SpringBootApplication
public class MyApp {
    public static void main(String[] args) {
        SpringApplication.run(MyApp.class, args);
    }
}
```

### 1.2 @SpringBootApplicationçš„çœŸé¢ç›®


**ğŸ” æºç è§£æï¼ˆç®€åŒ–ç†è§£ï¼‰**

```java
@SpringBootApplication å®é™…ä¸Šç­‰äºï¼š

@Configuration        // å‘Šè¯‰Springè¿™æ˜¯é…ç½®ç±»
@EnableAutoConfiguration  // å¼€å¯è‡ªåŠ¨é…ç½®é­”æ³•
@ComponentScan           // è‡ªåŠ¨æ‰«æç»„ä»¶
```

**ğŸ¯ ä¸‰åˆä¸€çš„å¨åŠ›**

```
é¤å…å¼€ä¸šç±»æ¯”ï¼š

@Configuration = åº—é“ºè¥ä¸šæ‰§ç…§
â†’ å‘Šè¯‰æ”¿åºœï¼šæˆ‘è¿™é‡Œæ˜¯æ­£è§„åº—é“º

@ComponentScan = æ‹›è˜å¯äº‹
â†’ è‡ªåŠ¨æ‰¾åˆ°é™„è¿‘çš„æœåŠ¡å‘˜ã€å¨å¸ˆ

@EnableAutoConfiguration = æ™ºèƒ½è£…ä¿®é˜Ÿ
â†’ æ ¹æ®ä½ çš„é¤å…ç±»å‹ï¼Œè‡ªåŠ¨é…ç½®æ¡Œæ¤…ã€å¨å…·
```

### 1.3 å®é™…ä½¿ç”¨åœºæ™¯


**âœ… æ ‡å‡†ç”¨æ³•**
```java
@SpringBootApplication
public class EcommerceApplication {
    public static void main(String[] args) {
        SpringApplication.run(EcommerceApplication.class, args);
    }
}
```

**ğŸ›ï¸ è‡ªå®šä¹‰ç”¨æ³•**
```java
@SpringBootApplication(
    scanBasePackages = "com.company.ecommerce",  // æŒ‡å®šæ‰«æèŒƒå›´
    exclude = DataSourceAutoConfiguration.class   // æ’é™¤æŸäº›è‡ªåŠ¨é…ç½®
)
public class EcommerceApplication {
    // ...
}
```

---

## 2. âš™ï¸ @EnableAutoConfigurationå¯ç”¨æœºåˆ¶


### 2.1 ä»€ä¹ˆæ˜¯è‡ªåŠ¨é…ç½®


**ğŸ¤” æ²¡æœ‰è‡ªåŠ¨é…ç½®çš„ç—›è‹¦**
```
ä»¥å‰å¼€å‘Springåº”ç”¨å°±åƒç»„è£…ç”µè„‘ï¼š
- éœ€è¦æ•°æ®åº“ï¼Ÿæ‰‹åŠ¨é…ç½®DataSource
- éœ€è¦WebåŠŸèƒ½ï¼Ÿæ‰‹åŠ¨é…ç½®DispatcherServlet  
- éœ€è¦JSONè½¬æ¢ï¼Ÿæ‰‹åŠ¨é…ç½®Jackson
- éœ€è¦ç¼“å­˜ï¼Ÿæ‰‹åŠ¨é…ç½®CacheManager

é…ç½®æ–‡ä»¶é•¿è¾¾å‡ ç™¾è¡Œ...ğŸ˜µ
```

**âœ¨ è‡ªåŠ¨é…ç½®çš„é­”æ³•**
```
SpringBootçš„è‡ªåŠ¨é…ç½®å°±åƒä¹°å“ç‰Œæ•´æœºï¼š
- æ£€æµ‹åˆ°mysqlé©±åŠ¨ â†’ è‡ªåŠ¨é…ç½®æ•°æ®åº“è¿æ¥
- æ£€æµ‹åˆ°spring-web â†’ è‡ªåŠ¨é…ç½®WebæœåŠ¡å™¨  
- æ£€æµ‹åˆ°jacksonåŒ… â†’ è‡ªåŠ¨é…ç½®JSONè½¬æ¢å™¨
- æ£€æµ‹åˆ°rediså®¢æˆ·ç«¯ â†’ è‡ªåŠ¨é…ç½®ç¼“å­˜

å¼€ç®±å³ç”¨ï¼âœ…
```

### 2.2 è‡ªåŠ¨é…ç½®å·¥ä½œåŸç†


**ğŸ”§ å·¥ä½œæµç¨‹å›¾**
```
Spring Bootå¯åŠ¨
       â†“
@EnableAutoConfigurationç”Ÿæ•ˆ  
       â†“
è¯»å– META-INF/spring.factories
       â†“
åŠ è½½æ‰€æœ‰AutoConfigurationç±»
       â†“
æ ¹æ®@Conditionalæ³¨è§£åˆ¤æ–­æ˜¯å¦ç”Ÿæ•ˆ
       â†“
ç”Ÿæ•ˆçš„é…ç½®è‡ªåŠ¨æ³¨å†ŒBean
       â†“
åº”ç”¨å¯åŠ¨å®Œæˆ
```

**ğŸ’¡ å…³é”®ç†è§£ï¼šæ¡ä»¶åŒ–é…ç½®**

| æ¡ä»¶æ³¨è§£ | **ä½œç”¨** | **é€šä¿—ç†è§£** |
|---------|---------|-------------|
| `@ConditionalOnClass` | ç±»è·¯å¾„å­˜åœ¨æŸä¸ªç±»æ—¶ç”Ÿæ•ˆ | `æœ‰äº†é¢ç²‰æ‰èƒ½åšé¢åŒ…` |
| `@ConditionalOnProperty` | é…ç½®æ–‡ä»¶æœ‰æŸä¸ªå±æ€§æ—¶ç”Ÿæ•ˆ | `ç”¨æˆ·è¯´è¦è¾£çš„æ‰åŠ è¾£æ¤’` |
| `@ConditionalOnMissingBean` | å®¹å™¨ä¸­æ²¡æœ‰æŸä¸ªBeanæ—¶ç”Ÿæ•ˆ | `æ²¡æœ‰æ¤…å­æ‰è‡ªåŠ¨ä¹°æ¤…å­` |

### 2.3 è‡ªåŠ¨é…ç½®ç¤ºä¾‹åˆ†æ


**ğŸŒŸ Webè‡ªåŠ¨é…ç½®ç¤ºä¾‹**
```java
// SpringBootæ£€æµ‹é€»è¾‘ï¼ˆç®€åŒ–ç†è§£ï¼‰
if (å‘ç°spring-boot-starter-webä¾èµ–) {
    if (æ²¡æœ‰ç”¨æˆ·è‡ªå®šä¹‰çš„WebMvcConfigurer) {
        è‡ªåŠ¨é…ç½®é»˜è®¤çš„WebåŠŸèƒ½;
        è‡ªåŠ¨å¯åŠ¨TomcatæœåŠ¡å™¨;
        è‡ªåŠ¨é…ç½®JSONè½¬æ¢å™¨;
    }
}
```

**ğŸ“Š å¸¸è§è‡ªåŠ¨é…ç½®å¯¹ç…§è¡¨**

| åœºæ™¯ | **æ£€æµ‹æ¡ä»¶** | **è‡ªåŠ¨é…ç½®å†…å®¹** |
|------|-------------|-----------------|
| **Webå¼€å‘** | `spring-boot-starter-web` | `Tomcat + SpringMVC` |
| **æ•°æ®åº“** | `mysql-connector-java` | `æ•°æ®æº + JdbcTemplate` |
| **Redisç¼“å­˜** | `spring-boot-starter-data-redis` | `RedisTemplate + è¿æ¥æ± ` |
| **æ¶ˆæ¯é˜Ÿåˆ—** | `spring-boot-starter-amqp` | `RabbitMQè¿æ¥ + ç›‘å¬å™¨` |

---

## 3. ğŸ” @ComponentScanæ‰«æè§„åˆ™


### 3.3 ComponentScanæ˜¯ä»€ä¹ˆ


**ğŸ  æˆ¿å±‹ç®¡ç†ç±»æ¯”**
```
æƒ³è±¡ä½ æ˜¯å°åŒºç‰©ä¸šç®¡ç†å‘˜ï¼š

æ²¡æœ‰@ComponentScan = æ‰‹åŠ¨ç™»è®°
â†’ æ¯æˆ·ä¸šä¸»éƒ½è¦äº²è‡ªåˆ°ç‰©ä¸šç™»è®°

æœ‰äº†@ComponentScan = è‡ªåŠ¨ç»Ÿè®¡  
â†’ æŒ‰æ¥¼æ ‹è‡ªåŠ¨ç»Ÿè®¡æ‰€æœ‰ä½æˆ·ä¿¡æ¯
```

**ğŸ¯ æ ¸å¿ƒä½œç”¨**
`@ComponentScan` å‘Šè¯‰Springï¼š**"è¯·å¸®æˆ‘æ‰¾åˆ°æ‰€æœ‰éœ€è¦ç®¡ç†çš„ç»„ä»¶ï¼ˆç±»ï¼‰ï¼Œå¹¶æŠŠå®ƒä»¬æ³¨å†Œåˆ°Springå®¹å™¨ä¸­"**

### 3.2 é»˜è®¤æ‰«æè§„åˆ™


**ğŸ“ æ‰«æèŒƒå›´**
```java
// ä¸»å¯åŠ¨ç±»åœ¨è¿™é‡Œ
com.company.ecommerce.EcommerceApplication

é»˜è®¤æ‰«æèŒƒå›´ï¼š
com.company.ecommerce            âœ… æ‰«æ
com.company.ecommerce.controller âœ… æ‰«æ  
com.company.ecommerce.service    âœ… æ‰«æ
com.company.ecommerce.dao        âœ… æ‰«æ
com.company.other               âŒ ä¸æ‰«æï¼ˆä¸åœ¨å­åŒ…ä¸­ï¼‰
```

**ğŸŒ³ åŒ…ç»“æ„æ‰«æå›¾**
```
com.company.ecommerce (ä¸»ç±»ä½ç½®)
â”œâ”€â”€ controller/          â† ä¼šè¢«æ‰«æ
â”‚   â””â”€â”€ UserController  
â”œâ”€â”€ service/            â† ä¼šè¢«æ‰«æ
â”‚   â””â”€â”€ UserService
â”œâ”€â”€ dao/               â† ä¼šè¢«æ‰«æ  
â”‚   â””â”€â”€ UserDao
â””â”€â”€ config/            â† ä¼šè¢«æ‰«æ
    â””â”€â”€ DatabaseConfig

com.other.package/     â† ä¸ä¼šè¢«æ‰«æï¼ˆè¶…å‡ºèŒƒå›´ï¼‰
â””â”€â”€ SomeService
```

### 3.3 è‡ªå®šä¹‰æ‰«æè§„åˆ™


**ğŸ›ï¸ æŒ‡å®šæ‰«æåŒ…**
```java
@SpringBootApplication(scanBasePackages = {
    "com.company.ecommerce",    // ä¸»ä¸šåŠ¡åŒ…
    "com.company.common"        // å…¬å…±å·¥å…·åŒ…
})
public class EcommerceApplication {
    // ç°åœ¨ä¸¤ä¸ªåŒ…éƒ½ä¼šè¢«æ‰«æ
}
```

**ğŸ·ï¸ æŒ‰æ³¨è§£æ‰«æ**
```java
@ComponentScan(
    includeFilters = @Filter(type = FilterType.ANNOTATION, 
                           classes = MyCustomAnnotation.class)
)
// åªæ‰«ææ ‡è®°äº†@MyCustomAnnotationçš„ç±»
```

### 3.4 å¸¸è§æ‰«æé™·é˜±


**âŒ å¸¸è§é”™è¯¯1ï¼šåŒ…ç»“æ„ä¸åˆç†**
```java
// é”™è¯¯çš„åŒ…ç»“æ„
com.company.main.Application     // ä¸»ç±»åœ¨è¿™é‡Œ
com.company.web.UserController   // Controlleråœ¨è¿™é‡Œ - æ‰«æä¸åˆ°ï¼

// æ­£ç¡®çš„åŒ…ç»“æ„  
com.company.ecommerce.Application        // ä¸»ç±»
com.company.ecommerce.web.UserController // åœ¨å­åŒ…ä¸­ - èƒ½æ‰«æåˆ°
```

**âš ï¸ å®ç”¨å»ºè®®**
> ğŸ’¡ **æœ€ä½³å®è·µ**: ä¸»å¯åŠ¨ç±»æ”¾åœ¨æ ¹åŒ…ä¸‹ï¼Œæ‰€æœ‰ä¸šåŠ¡ä»£ç æ”¾åœ¨å­åŒ…ä¸­ï¼Œè¿™æ ·å°±ä¸ä¼šå‡ºç°æ‰«æä¸åˆ°çš„é—®é¢˜ã€‚

---

## 4. ğŸš« è‡ªåŠ¨é…ç½®æ’é™¤ç­–ç•¥


### 4.1 ä¸ºä»€ä¹ˆéœ€è¦æ’é™¤è‡ªåŠ¨é…ç½®


**ğŸ¤” å®é™…åœºæ™¯**
```
å‡è®¾ä½ åœ¨å¼€å‘ä¸€ä¸ªé¡¹ç›®ï¼š
- SpringBootè‡ªåŠ¨é…ç½®äº†H2å†…å­˜æ•°æ®åº“
- ä½†ä½ æƒ³ç”¨Oracleæ•°æ®åº“
- ä¸¤ä¸ªæ•°æ®æºé…ç½®å†²çªäº†ï¼ğŸ˜µ

è§£å†³åŠæ³•ï¼šæ’é™¤ä¸éœ€è¦çš„è‡ªåŠ¨é…ç½®
```

**ğŸ’¡ æ’é™¤çš„æœ¬è´¨**
æ’é™¤è‡ªåŠ¨é…ç½®å°±åƒå‘Šè¯‰SpringBootï¼š**"è¿™ä¸ªåŠŸèƒ½æˆ‘ä¸éœ€è¦ï¼Œè¯·ä¸è¦è‡ªåŠ¨å¸®æˆ‘é…ç½®"**

### 4.2 æ’é™¤æ–¹æ³•è¯¦è§£


**æ–¹æ³•1ï¸âƒ£ï¼šæ³¨è§£æ’é™¤**
```java
@SpringBootApplication(exclude = {
    DataSourceAutoConfiguration.class,     // æ’é™¤æ•°æ®æºè‡ªåŠ¨é…ç½®
    SecurityAutoConfiguration.class       // æ’é™¤å®‰å…¨è‡ªåŠ¨é…ç½®  
})
public class MyApplication {
    // ç°åœ¨SpringBootä¸ä¼šè‡ªåŠ¨é…ç½®æ•°æ®æºå’Œå®‰å…¨åŠŸèƒ½
}
```

**æ–¹æ³•2ï¸âƒ£ï¼šé…ç½®æ–‡ä»¶æ’é™¤**
```yaml
spring:
  autoconfigure:
    exclude:
      - org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration
      - org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration
```

**æ–¹æ³•3ï¸âƒ£ï¼šæŒ‰åç§°æ’é™¤**
```java
@SpringBootApplication(excludeName = {
    "org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration"
})
```

### 4.3 å®é™…åº”ç”¨åœºæ™¯


**ğŸ“Š å¸¸è§æ’é™¤åœºæ™¯**

| åœºæ™¯ | **æ’é™¤çš„é…ç½®** | **åŸå› ** |
|------|---------------|----------|
| **ä½¿ç”¨å¤šæ•°æ®æº** | `DataSourceAutoConfiguration` | `é¿å…è‡ªåŠ¨é…ç½®å†²çª` |
| **ä¸éœ€è¦WebåŠŸèƒ½** | `WebMvcAutoConfiguration` | `åšçº¯åå°æœåŠ¡` |
| **è‡ªå®šä¹‰å®‰å…¨ç­–ç•¥** | `SecurityAutoConfiguration` | `ä½¿ç”¨è‡ªå·±çš„å®‰å…¨é…ç½®` |
| **ä½¿ç”¨å¤–éƒ¨ç¼“å­˜** | `CacheAutoConfiguration` | `é¿å…é»˜è®¤ç¼“å­˜é…ç½®` |

---

## 5. ğŸ¯ æ¡ä»¶è£…é…å…¥å£


### 5.1 ä»€ä¹ˆæ˜¯æ¡ä»¶è£…é…


**ğŸª å¼€åº—ç±»æ¯”**
```
æ™ºèƒ½å¼€åº—ç³»ç»Ÿï¼š
- æ£€æµ‹åˆ°è¿™æ˜¯å•†ä¸šåŒº â†’ è‡ªåŠ¨é…ç½®æ”¶é“¶å°
- æ£€æµ‹åˆ°è¿™æ˜¯ä½å®…åŒº â†’ ä¸é…ç½®æ”¶é“¶å°
- æ£€æµ‹åˆ°æœ‰åº“å­˜éœ€æ±‚ â†’ è‡ªåŠ¨é…ç½®ä»“åº“ç®¡ç†
- æ£€æµ‹åˆ°æ˜¯ç½‘åº— â†’ è‡ªåŠ¨é…ç½®ç‰©æµç³»ç»Ÿ

SpringBootçš„æ¡ä»¶è£…é… = æ™ºèƒ½å¼€åº—ç³»ç»Ÿ
```

**ğŸ’¡ æ ¸å¿ƒç†å¿µ**
æ¡ä»¶è£…é…è®©SpringBootèƒ½å¤Ÿ**"æ™ºèƒ½åˆ¤æ–­"**ï¼šåœ¨ä»€ä¹ˆæƒ…å†µä¸‹è¯¥é…ç½®ä»€ä¹ˆï¼Œåœ¨ä»€ä¹ˆæƒ…å†µä¸‹ä¸è¯¥é…ç½®ä»€ä¹ˆã€‚

### 5.2 æ ¸å¿ƒæ¡ä»¶æ³¨è§£


**ğŸ” ç±»è·¯å¾„æ¡ä»¶**
```java
@ConditionalOnClass(DataSource.class)
// ç¿»è¯‘ï¼šåªæœ‰å½“é¡¹ç›®ä¸­æœ‰DataSourceç±»æ—¶ï¼Œè¿™ä¸ªé…ç½®æ‰ç”Ÿæ•ˆ
// å®é™…æ„æ€ï¼šæœ‰æ•°æ®åº“é©±åŠ¨æ—¶æ‰é…ç½®æ•°æ®åº“è¿æ¥æ± 
```

**âš™ï¸ å±æ€§æ¡ä»¶**
```java
@ConditionalOnProperty(
    name = "app.cache.enabled",
    havingValue = "true",
    matchIfMissing = true  // å¦‚æœæ²¡é…ç½®ï¼Œé»˜è®¤ä¸ºtrue
)
// ç¿»è¯‘ï¼šé…ç½®æ–‡ä»¶ä¸­app.cache.enabled=trueæ—¶æ‰ç”Ÿæ•ˆ
```

**ğŸ—ï¸ Beanå­˜åœ¨æ¡ä»¶**
```java
@ConditionalOnMissingBean(CacheManager.class)
// ç¿»è¯‘ï¼šå½“å®¹å™¨ä¸­æ²¡æœ‰CacheManageræ—¶æ‰ç”Ÿæ•ˆ
// å®é™…æ„æ€ï¼šç”¨æˆ·æ²¡è‡ªå®šä¹‰ç¼“å­˜ç®¡ç†å™¨æ—¶ï¼Œæ‰ç”¨é»˜è®¤çš„
```

### 5.3 å®é™…åº”ç”¨ç¤ºä¾‹


**ğŸ“ è‡ªå®šä¹‰æ¡ä»¶é…ç½®**
```java
@Configuration
@ConditionalOnProperty(name = "app.feature.email", havingValue = "true")
public class EmailConfiguration {
    
    @Bean
    @ConditionalOnMissingBean
    public EmailService emailService() {
        return new DefaultEmailService();
    }
}

# application.yml
app:
  feature:
    email: true  # å¼€å¯é‚®ä»¶åŠŸèƒ½
```

**ğŸ­ æ¡ä»¶ç»„åˆä½¿ç”¨**
```java
@Configuration
@ConditionalOnClass({DataSource.class, JdbcTemplate.class})
@ConditionalOnProperty(name = "spring.datasource.url") 
public class DatabaseConfiguration {
    // åŒæ—¶æ»¡è¶³ï¼šæœ‰æ•°æ®åº“ç±» + é…ç½®äº†æ•°æ®åº“URL æ‰ç”Ÿæ•ˆ
}
```

---

## 6. ğŸ“¦ Importæ³¨è§£æ·±å…¥


### 6.1 @Importæ³¨è§£çš„ä½œç”¨


**ğŸ“š å›¾ä¹¦é¦†ç±»æ¯”**
```
æ²¡æœ‰@Importï¼šæ¯æœ¬ä¹¦éƒ½è¦å•ç‹¬å€Ÿ
â†’ ä¸€ä¸ªä¸ªå†™@Beanæ–¹æ³•å¾ˆéº»çƒ¦

ä½¿ç”¨@Importï¼šæ‰¹é‡å€Ÿä¹¦
â†’ ä¸€æ¬¡æ€§å¯¼å…¥æ•´ä¸ªé…ç½®ç±»æˆ–å¤šä¸ªBean
```

**ğŸ’¡ æ ¸å¿ƒç”¨é€”**
`@Import` æ˜¯Springæä¾›çš„**"æ‰¹é‡å¯¼å…¥"**å·¥å…·ï¼Œå¯ä»¥ä¸€æ¬¡æ€§å¯¼å…¥ï¼š
- é…ç½®ç±»ï¼ˆ@Configurationï¼‰
- æ™®é€šBeanç±»  
- ImportSelectorå®ç°ç±»
- ImportBeanDefinitionRegistrarå®ç°ç±»

### 6.2 Importçš„å››ç§ç”¨æ³•


**ç”¨æ³•1ï¸âƒ£ï¼šå¯¼å…¥é…ç½®ç±»**
```java
@Configuration
public class DatabaseConfig {
    @Bean
    public DataSource dataSource() {
        return new HikariDataSource();
    }
}

@Configuration  
@Import(DatabaseConfig.class)  // å¯¼å…¥æ•°æ®åº“é…ç½®
public class AppConfig {
    // DatabaseConfigä¸­çš„æ‰€æœ‰Beanéƒ½ä¼šè¢«æ³¨å†Œ
}
```

**ç”¨æ³•2ï¸âƒ£ï¼šå¯¼å…¥æ™®é€šç±»**
```java
public class UtilityService {
    public void doSomething() {
        System.out.println("å·¥å…·æœåŠ¡");
    }
}

@Configuration
@Import(UtilityService.class)  // ç›´æ¥å¯¼å…¥æ™®é€šç±»
public class AppConfig {
    // UtilityServiceä¼šè¢«æ³¨å†Œä¸ºBean
}
```

**ç”¨æ³•3ï¸âƒ£ï¼šä½¿ç”¨ImportSelector**
```java
public class MyImportSelector implements ImportSelector {
    @Override
    public String[] selectImports(AnnotationMetadata importingClassMetadata) {
        // åŠ¨æ€å†³å®šè¦å¯¼å…¥å“ªäº›ç±»
        if (someCondition()) {
            return new String[]{"com.example.ServiceA"};
        } else {
            return new String[]{"com.example.ServiceB"};  
        }
    }
}

@Import(MyImportSelector.class)
@Configuration
public class AppConfig {
    // ä¼šæ ¹æ®æ¡ä»¶åŠ¨æ€å¯¼å…¥ä¸åŒçš„Service
}
```

### 6.3 åœ¨è‡ªåŠ¨é…ç½®ä¸­çš„åº”ç”¨


**ğŸš€ SpringBootä¸­çš„å®é™…ä½¿ç”¨**
```java
@EnableAutoConfiguration
public class MyApplication {
    // ç­‰ä»·äºï¼š
    // @Import(AutoConfigurationImportSelector.class)
}

// AutoConfigurationImportSelectorä¼šï¼š
// 1. è¯»å–META-INF/spring.factories
// 2. åŠ è½½æ‰€æœ‰è‡ªåŠ¨é…ç½®ç±»
// 3. æ ¹æ®æ¡ä»¶æ³¨è§£å†³å®šå“ªäº›ç”Ÿæ•ˆ
```

**ğŸ¯ è‡ªå®šä¹‰Enableæ³¨è§£**
```java
@Target(ElementType.TYPE)
@Retention(RetentionPolicy.RUNTIME)
@Import(MyFeatureConfiguration.class)
public @interface EnableMyFeature {
}

// ä½¿ç”¨æ—¶ï¼š
@SpringBootApplication
@EnableMyFeature  // ä¸€é”®å¯ç”¨è‡ªå®šä¹‰åŠŸèƒ½
public class Application {
}
```

---

## 7. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 7.1 æ ¸å¿ƒæ¦‚å¿µå›é¡¾


```
ğŸ”¸ @SpringBootApplicationï¼šä¸‰åˆä¸€è¶…çº§æ³¨è§£ï¼ŒSpring Bootåº”ç”¨çš„å…¥å£
ğŸ”¸ @EnableAutoConfigurationï¼šè‡ªåŠ¨é…ç½®çš„æ ¸å¿ƒå¼€å…³ï¼Œå®ç°å¼€ç®±å³ç”¨
ğŸ”¸ @ComponentScanï¼šç»„ä»¶æ‰«æå™¨ï¼Œè‡ªåŠ¨å‘ç°å’Œæ³¨å†ŒBean
ğŸ”¸ è‡ªåŠ¨é…ç½®æ’é™¤ï¼šç²¾ç¡®æ§åˆ¶ä¸éœ€è¦çš„åŠŸèƒ½ï¼Œé¿å…é…ç½®å†²çª
ğŸ”¸ æ¡ä»¶è£…é…ï¼šæ™ºèƒ½åˆ¤æ–­é…ç½®ç”Ÿæ•ˆæ¡ä»¶ï¼Œå®ç°çµæ´»é…ç½®
ğŸ”¸ @Importï¼šæ‰¹é‡å¯¼å…¥å·¥å…·ï¼Œå®ç°é…ç½®çš„æ¨¡å—åŒ–ç»„ç»‡
```

### 7.2 å®ç”¨è®°å¿†å£è¯€


```
SpringBootå¯åŠ¨ä¸‰ä»¶å¥—ï¼š
é…ç½®ã€æ‰«æã€è‡ªåŠ¨åŒ–

æ¡ä»¶è£…é…å¾ˆæ™ºèƒ½ï¼š
æœ‰å•¥é…å•¥ï¼Œç¼ºå•¥è¡¥å•¥

Importå¯¼å…¥æœ‰å››æ ·ï¼š
é…ç½®ç±»ã€æ™®é€šç±»ã€é€‰æ‹©å™¨ã€æ³¨å†Œå™¨
```

### 7.3 å¼€å‘æœ€ä½³å®è·µ


**âœ… æ¨èåšæ³•**
- ä¸»å¯åŠ¨ç±»æ”¾åœ¨æ ¹åŒ…ï¼Œä¸šåŠ¡ä»£ç æ”¾å­åŒ…
- éœ€è¦æ’é™¤é…ç½®æ—¶ï¼Œä¼˜å…ˆç”¨æ³¨è§£æ–¹å¼
- è‡ªå®šä¹‰é…ç½®ä½¿ç”¨æ¡ä»¶æ³¨è§£ï¼Œæé«˜çµæ´»æ€§
- å¤æ‚é…ç½®ç”¨@Importç»„ç»‡ï¼Œä¿æŒä»£ç æ¸…æ´

**âŒ é¿å…çš„å‘**
- ä¸è¦æŠŠä¸»å¯åŠ¨ç±»æ”¾åœ¨è¿‡æ·±çš„åŒ…ä¸­
- ä¸è¦ç›²ç›®æ’é™¤è‡ªåŠ¨é…ç½®ï¼Œå…ˆç†è§£ä¸ºä»€ä¹ˆå†²çª
- è‡ªå®šä¹‰æ¡ä»¶æ³¨è§£æ—¶è¦è€ƒè™‘é»˜è®¤å€¼
- ä½¿ç”¨@Importæ—¶è¦æ³¨æ„å¾ªç¯ä¾èµ–é—®é¢˜

**ğŸ¯ å­¦ä¹ å»ºè®®**
ç†è§£è¿™äº›æ³¨è§£ä¸æ˜¯ä¸ºäº†æ­»è®°ç¡¬èƒŒï¼Œè€Œæ˜¯è¦æ˜ç™½Spring Bootçš„è®¾è®¡æ€æƒ³ï¼š**"çº¦å®šä¼˜äºé…ç½®"** å’Œ **"å¼€ç®±å³ç”¨"**ã€‚æŒæ¡äº†è¿™ä¸ªæ€æƒ³ï¼Œå°±èƒ½æ›´å¥½åœ°ä½¿ç”¨Spring Bootå¼€å‘é«˜æ•ˆçš„å¾®æœåŠ¡åº”ç”¨ã€‚