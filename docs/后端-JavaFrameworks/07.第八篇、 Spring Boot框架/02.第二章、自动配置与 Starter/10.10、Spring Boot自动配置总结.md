---
title: 10ã€Spring Bootè‡ªåŠ¨é…ç½®æ€»ç»“
---
## ğŸ“š ç›®å½•

1. [è‡ªåŠ¨é…ç½®çš„æœ¬è´¨ç†è§£](#1-è‡ªåŠ¨é…ç½®çš„æœ¬è´¨ç†è§£)
2. [è‡ªåŠ¨é…ç½®å·¥ä½œåŸç†](#2-è‡ªåŠ¨é…ç½®å·¥ä½œåŸç†)
3. [æ¡ä»¶åŒ–é…ç½®æœºåˆ¶](#3-æ¡ä»¶åŒ–é…ç½®æœºåˆ¶)
4. [è‡ªå®šä¹‰è‡ªåŠ¨é…ç½®](#4-è‡ªå®šä¹‰è‡ªåŠ¨é…ç½®)
5. [é…ç½®ä¼˜å…ˆçº§ä¸è¦†ç›–](#5-é…ç½®ä¼˜å…ˆçº§ä¸è¦†ç›–)
6. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#6-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ¯ è‡ªåŠ¨é…ç½®çš„æœ¬è´¨ç†è§£


### 1.1 ä»€ä¹ˆæ˜¯è‡ªåŠ¨é…ç½®


> **é€šä¿—è§£é‡Š**ï¼šè‡ªåŠ¨é…ç½®å°±åƒæ™ºèƒ½æ‰‹æœºçš„"å¼€ç®±å³ç”¨"åŠŸèƒ½ã€‚ä½ ä¹°äº†æ–°æ‰‹æœºï¼Œä¸éœ€è¦æ‰‹åŠ¨å®‰è£…åŸºç¡€è½¯ä»¶ï¼Œç³»ç»Ÿå·²ç»å¸®ä½ è£…å¥½äº†ã€‚Spring Bootçš„è‡ªåŠ¨é…ç½®ä¹Ÿæ˜¯è¿™æ ·ï¼Œä½ å¼•å…¥ä¸€ä¸ªåŠŸèƒ½ï¼ˆæ¯”å¦‚æ•°æ®åº“ï¼‰ï¼Œå®ƒè‡ªåŠ¨å¸®ä½ é…ç½®å¥½æ‰€éœ€çš„ä¸€åˆ‡ã€‚

**ä¼ ç»ŸSpring vs Spring Bootå¯¹æ¯”**

```
ä¼ ç»ŸSpringå¼€å‘ï¼š
1. å¼•å…¥ä¾èµ– (jaråŒ…)
2. å†™é…ç½®æ–‡ä»¶ (XML/Javaé…ç½®ç±»)
3. é…ç½®æ•°æ®æº
4. é…ç½®äº‹åŠ¡ç®¡ç†å™¨
5. é…ç½®MyBatis/JPA
6. é…ç½®å„ç§Bean
... (å¯èƒ½éœ€è¦ä¸Šç™¾è¡Œé…ç½®)

Spring Bootå¼€å‘ï¼š
1. å¼•å…¥starterä¾èµ–
2. å†™å‡ è¡Œé…ç½®å±æ€§
æå®šï¼å…¶ä»–éƒ½è‡ªåŠ¨é…ç½®å¥½äº†
```

**æ ¸å¿ƒä»·å€¼**

| **ä¼ ç»Ÿæ–¹å¼ç—›ç‚¹** | **è‡ªåŠ¨é…ç½®è§£å†³æ–¹æ¡ˆ** | **æ•ˆæœ** |
|----------------|-------------------|---------|
| é…ç½®ç¹çé‡å¤ | çº¦å®šä¼˜äºé…ç½® | å‡å°‘90%é…ç½®ä»£ç  |
| å®¹æ˜“å‡ºé”™ | æ™ºèƒ½é»˜è®¤å€¼ | å¼€ç®±å³ç”¨ |
| å­¦ä¹ æˆæœ¬é«˜ | è‡ªåŠ¨è£…é… | æ–°æ‰‹å‹å¥½ |
| ç‰ˆæœ¬å…¼å®¹å¤æ‚ | ç‰ˆæœ¬ä»²è£ | é¿å…jaråŒ…å†²çª |

### 1.2 è‡ªåŠ¨é…ç½®çš„æ ¸å¿ƒæ€æƒ³


**"çº¦å®šä¼˜äºé…ç½®"ç†å¿µ**

```
çº¦å®šä¼˜äºé…ç½®çš„å«ä¹‰ï¼š

å¦‚æœä½ éµå¾ªçº¦å®š â†’ é›¶é…ç½®
éœ€è¦ä¸ªæ€§åŒ– â†’ åªé…ç½®ä¸åŒçš„éƒ¨åˆ†

ä¸¾ä¾‹è¯´æ˜ï¼š
é»˜è®¤çº¦å®šï¼šæ•°æ®åº“è¿æ¥æ± ç”¨HikariCP
  â””â”€ ä½ ä¸é…ç½®ï¼Œå°±ç”¨è¿™ä¸ª
  â””â”€ ä½ æƒ³ç”¨Druidï¼Œåªéœ€é…ç½®æ•°æ®æºç±»å‹

é»˜è®¤çº¦å®šï¼šç«¯å£8080
  â””â”€ ä½ ä¸é…ç½®ï¼Œå°±æ˜¯8080
  â””â”€ ä½ æƒ³æ”¹80ï¼Œé…ç½®server.port=80å³å¯
```

**æ™ºèƒ½æ„ŸçŸ¥æœºåˆ¶**

Spring Bootä¼šæ ¹æ®ä»¥ä¸‹å› ç´ å†³å®šæ˜¯å¦è‡ªåŠ¨é…ç½®ï¼š

```
è‡ªåŠ¨é…ç½®å†³ç­–æ ‘ï¼š

classpathä¸­æœ‰æ²¡æœ‰ç›¸å…³çš„ç±»ï¼Ÿ
    â”œâ”€ æœ‰ â†’ ç»§ç»­åˆ¤æ–­
    â””â”€ æ²¡æœ‰ â†’ ä¸é…ç½®
         â†“
é…ç½®æ–‡ä»¶ä¸­æœ‰æ²¡æœ‰æ‰‹åŠ¨é…ç½®ï¼Ÿ
    â”œâ”€ æœ‰ â†’ ä½¿ç”¨ä½ çš„é…ç½®
    â””â”€ æ²¡æœ‰ â†’ ä½¿ç”¨é»˜è®¤é…ç½®
         â†“
ç¯å¢ƒä¸­æœ‰æ²¡æœ‰å¯¹åº”çš„Beanï¼Ÿ
    â”œâ”€ æœ‰ â†’ è·³è¿‡é…ç½®
    â””â”€ æ²¡æœ‰ â†’ è‡ªåŠ¨åˆ›å»ºBean
```

---

## 2. âš™ï¸ è‡ªåŠ¨é…ç½®å·¥ä½œåŸç†


### 2.1 å¯åŠ¨ç±»æ³¨è§£åˆ†æ


**@SpringBootApplicationæ ¸å¿ƒæ³¨è§£**

```java
@SpringBootApplication
public class MyApplication {
    public static void main(String[] args) {
        SpringApplication.run(MyApplication.class, args);
    }
}
```

è¿™ä¸ªçœ‹ä¼¼ç®€å•çš„æ³¨è§£ï¼Œå®é™…ä¸Šæ˜¯ä¸‰ä¸ªæ³¨è§£çš„ç»„åˆï¼š

```
@SpringBootApplication = 
    @SpringBootConfiguration + 
    @EnableAutoConfiguration + 
    @ComponentScan

ä½œç”¨åˆ†è§£ï¼š
â”œâ”€ @SpringBootConfiguration
â”‚   â””â”€ æ ‡è¯†è¿™æ˜¯é…ç½®ç±»ï¼ˆæœ¬è´¨æ˜¯@Configurationï¼‰
â”‚
â”œâ”€ @EnableAutoConfiguration  â† è‡ªåŠ¨é…ç½®çš„æ ¸å¿ƒ
â”‚   â””â”€ å¼€å¯è‡ªåŠ¨é…ç½®åŠŸèƒ½
â”‚
â””â”€ @ComponentScan
    â””â”€ æ‰«æå½“å‰åŒ…åŠå­åŒ…çš„ç»„ä»¶
```

### 2.2 @EnableAutoConfigurationå·¥ä½œæµç¨‹


**å®Œæ•´çš„è‡ªåŠ¨é…ç½®åŠ è½½è¿‡ç¨‹**

```
å¯åŠ¨æµç¨‹è¯¦è§£ï¼š

â‘  åº”ç”¨å¯åŠ¨
   â†“
â‘¡ åŠ è½½@EnableAutoConfiguration
   â†“
â‘¢ è¯»å– META-INF/spring.factories
   â†“ (è¿™ä¸ªæ–‡ä»¶è®°å½•äº†æ‰€æœ‰è‡ªåŠ¨é…ç½®ç±»)
â‘£ åŠ è½½æ‰€æœ‰è‡ªåŠ¨é…ç½®ç±»
   â”œâ”€ DataSourceAutoConfiguration (æ•°æ®æº)
   â”œâ”€ RedisAutoConfiguration (Redis)
   â”œâ”€ WebMvcAutoConfiguration (Web MVC)
   â””â”€ ... (100å¤šä¸ªé…ç½®ç±»)
   â†“
â‘¤ æ ¹æ®æ¡ä»¶æ³¨è§£åˆ¤æ–­æ˜¯å¦ç”Ÿæ•ˆ
   â”œâ”€ @ConditionalOnClass â†’ ç±»å­˜åœ¨ï¼Ÿ
   â”œâ”€ @ConditionalOnBean â†’ Beanå­˜åœ¨ï¼Ÿ
   â””â”€ @ConditionalOnProperty â†’ å±æ€§é…ç½®äº†ï¼Ÿ
   â†“
â‘¥ ç”Ÿæ•ˆçš„é…ç½®ç±»åˆ›å»ºBean
   â†“
â‘¦ æ³¨å…¥åˆ°Springå®¹å™¨
```

**spring.factoriesæ–‡ä»¶ç¤ºä¾‹**

è¿™ä¸ªæ–‡ä»¶ä½äºæ¯ä¸ªstarterçš„jaråŒ…ä¸­ï¼š

```properties
# spring-boot-autoconfigure.jar ä¸­çš„é…ç½®
org.springframework.boot.autoconfigure.EnableAutoConfiguration=\
org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration,\
org.springframework.boot.autoconfigure.data.redis.RedisAutoConfiguration,\
org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration,\
...
```

### 2.3 è‡ªåŠ¨é…ç½®ç±»çš„ç»“æ„


**ä»¥DataSourceAutoConfigurationä¸ºä¾‹**

```java
@Configuration  // è¿™æ˜¯ä¸€ä¸ªé…ç½®ç±»
@ConditionalOnClass(DataSource.class)  // classpathä¸­æœ‰DataSourceç±»æ‰ç”Ÿæ•ˆ
@EnableConfigurationProperties(DataSourceProperties.class)  // å¯ç”¨é…ç½®å±æ€§
public class DataSourceAutoConfiguration {
    
    @Bean
    @ConditionalOnMissingBean  // å®¹å™¨ä¸­æ²¡æœ‰DataSourceæ‰åˆ›å»º
    public DataSource dataSource(DataSourceProperties properties) {
        // æ ¹æ®é…ç½®æ–‡ä»¶åˆ›å»ºæ•°æ®æº
        return properties.initializeDataSourceBuilder().build();
    }
}
```

**é…ç½®å±æ€§ç±»**

```java
@ConfigurationProperties(prefix = "spring.datasource")
public class DataSourceProperties {
    private String url;
    private String username;
    private String password;
    private String driverClassName;
    
    // getterå’Œsetteræ–¹æ³•
}
```

è¿™æ ·ä½ åœ¨application.ymlä¸­çš„é…ç½®å°±èƒ½è‡ªåŠ¨ç»‘å®šï¼š

```yaml
spring:
  datasource:
    url: jdbc:mysql://localhost:3306/mydb
    username: root
    password: 123456
```

---

## 3. ğŸ” æ¡ä»¶åŒ–é…ç½®æœºåˆ¶


### 3.1 æ¡ä»¶æ³¨è§£å®¶æ—


**æ ¸å¿ƒæ¡ä»¶æ³¨è§£è¯¦è§£**

| **æ³¨è§£** | **ä½œç”¨** | **ä½¿ç”¨åœºæ™¯** | **ç¤ºä¾‹** |
|---------|---------|------------|---------|
| `@ConditionalOnClass` | classpathä¸­æœ‰æŒ‡å®šç±» | åˆ¤æ–­æ˜¯å¦å¼•å…¥äº†æŸä¸ªä¾èµ– | æœ‰Jedisç±»æ‰é…ç½®Redis |
| `@ConditionalOnMissingClass` | classpathä¸­æ²¡æœ‰æŒ‡å®šç±» | æ’é™¤æŸäº›åœºæ™¯ | æ²¡æœ‰æŸä¸ªç±»æ‰ç”Ÿæ•ˆ |
| `@ConditionalOnBean` | å®¹å™¨ä¸­æœ‰æŒ‡å®šBean | ä¾èµ–å…¶ä»–Bean | æœ‰æ•°æ®æºæ‰é…ç½®äº‹åŠ¡ |
| `@ConditionalOnMissingBean` | å®¹å™¨ä¸­æ²¡æœ‰æŒ‡å®šBean | æä¾›é»˜è®¤å®ç° | ç”¨æˆ·æ²¡é…ç½®æ‰ç”¨é»˜è®¤ |
| `@ConditionalOnProperty` | é…ç½®æ–‡ä»¶æœ‰æŒ‡å®šå±æ€§ | åŠŸèƒ½å¼€å…³ | enabled=trueæ‰å¯ç”¨ |
| `@ConditionalOnWebApplication` | æ˜¯Webåº”ç”¨ | Webç›¸å…³é…ç½® | Webç¯å¢ƒæ‰é…ç½®MVC |

### 3.2 æ¡ä»¶æ³¨è§£å®æˆ˜ç¤ºä¾‹


**åœºæ™¯ä¸€ï¼šæ ¹æ®ä¾èµ–å†³å®šé…ç½®**

```java
// åªæœ‰å¼•å…¥äº†Redisä¾èµ–ï¼Œè¿™ä¸ªé…ç½®æ‰ç”Ÿæ•ˆ
@Configuration
@ConditionalOnClass(RedisOperations.class)
public class RedisConfig {
    
    @Bean
    public RedisTemplate<String, Object> redisTemplate() {
        // é…ç½®Redisæ¨¡æ¿
    }
}
```

**åœºæ™¯äºŒï¼šæä¾›é»˜è®¤é…ç½®**

```java
@Configuration
public class MyConfig {
    
    // ç”¨æˆ·æ²¡æœ‰è‡ªå®šä¹‰DataSourceæ—¶ï¼Œä½¿ç”¨é»˜è®¤é…ç½®
    @Bean
    @ConditionalOnMissingBean
    public DataSource defaultDataSource() {
        return new HikariDataSource();
    }
}
```

**åœºæ™¯ä¸‰ï¼šé…ç½®æ–‡ä»¶æ§åˆ¶**

```java
@Configuration
@ConditionalOnProperty(
    prefix = "app.cache",
    name = "enabled",
    havingValue = "true"  // åªæœ‰app.cache.enabled=trueæ‰ç”Ÿæ•ˆ
)
public class CacheConfig {
    
    @Bean
    public CacheManager cacheManager() {
        // ç¼“å­˜é…ç½®
    }
}
```

é…ç½®æ–‡ä»¶ï¼š
```yaml
app:
  cache:
    enabled: true  # å¼€å¯ç¼“å­˜é…ç½®
```

### 3.3 å¤šæ¡ä»¶ç»„åˆ


**å¤æ‚æ¡ä»¶åˆ¤æ–­**

```java
@Configuration
@ConditionalOnClass(DataSource.class)  // ä¸”
@ConditionalOnBean(PlatformTransactionManager.class)  // ä¸”
@ConditionalOnProperty(
    prefix = "spring.jpa",
    name = "enabled",
    matchIfMissing = true  // æ²¡é…ç½®æ—¶é»˜è®¤true
)
public class JpaConfig {
    // åŒæ—¶æ»¡è¶³ä¸‰ä¸ªæ¡ä»¶æ‰ç”Ÿæ•ˆ
}
```

**æ¡ä»¶ç»„åˆé€»è¾‘**

```
æ¡ä»¶åˆ¤æ–­è§„åˆ™ï¼š

åŒä¸€é…ç½®ç±»ä¸Šçš„å¤šä¸ª@Conditionalæ³¨è§£ â†’ å¿…é¡»å…¨éƒ¨æ»¡è¶³ï¼ˆANDå…³ç³»ï¼‰

@ConditionalOnClass(A.class) 
@ConditionalOnBean(B.class)
  â†“
å¿…é¡»ï¼šAç±»å­˜åœ¨ ä¸” Bçš„Beanå­˜åœ¨

ä½¿ç”¨@AnyNestedCondition â†’ æ»¡è¶³ä»»ä¸€å³å¯ï¼ˆORå…³ç³»ï¼‰
```

---

## 4. ğŸ› ï¸ è‡ªå®šä¹‰è‡ªåŠ¨é…ç½®


### 4.1 åˆ›å»ºè‡ªå·±çš„Starter


**åœºæ™¯ï¼šå¼€å‘ä¸€ä¸ªçŸ­ä¿¡å‘é€çš„Starter**

**æ­¥éª¤ä¸€ï¼šåˆ›å»ºé…ç½®å±æ€§ç±»**

```java
@ConfigurationProperties(prefix = "sms")
public class SmsProperties {
    private String appKey;
    private String appSecret;
    private String signName;
    
    // getter/setterçœç•¥
}
```

**æ­¥éª¤äºŒï¼šåˆ›å»ºæ ¸å¿ƒåŠŸèƒ½ç±»**

```java
public class SmsService {
    private SmsProperties properties;
    
    public SmsService(SmsProperties properties) {
        this.properties = properties;
    }
    
    public void sendSms(String phone, String content) {
        // å‘é€çŸ­ä¿¡çš„é€»è¾‘
        System.out.println("å‘é€çŸ­ä¿¡åˆ°ï¼š" + phone);
    }
}
```

**æ­¥éª¤ä¸‰ï¼šåˆ›å»ºè‡ªåŠ¨é…ç½®ç±»**

```java
@Configuration
@EnableConfigurationProperties(SmsProperties.class)
@ConditionalOnProperty(prefix = "sms", name = "enabled", havingValue = "true")
public class SmsAutoConfiguration {
    
    @Bean
    @ConditionalOnMissingBean
    public SmsService smsService(SmsProperties properties) {
        return new SmsService(properties);
    }
}
```

**æ­¥éª¤å››ï¼šæ³¨å†Œè‡ªåŠ¨é…ç½®**

åœ¨`resources/META-INF/spring.factories`ä¸­ï¼š

```properties
org.springframework.boot.autoconfigure.EnableAutoConfiguration=\
com.example.sms.SmsAutoConfiguration
```

### 4.2 ä½¿ç”¨è‡ªå®šä¹‰Starter


**é¡¹ç›®ä¸­å¼•å…¥ä¾èµ–**

```xml
<dependency>
    <groupId>com.example</groupId>
    <artifactId>sms-spring-boot-starter</artifactId>
    <version>1.0.0</version>
</dependency>
```

**é…ç½®æ–‡ä»¶**

```yaml
sms:
  enabled: true
  app-key: your-app-key
  app-secret: your-app-secret
  sign-name: ä½ çš„ç­¾å
```

**ç›´æ¥ä½¿ç”¨**

```java
@RestController
public class UserController {
    
    @Autowired
    private SmsService smsService;  // è‡ªåŠ¨æ³¨å…¥
    
    @PostMapping("/sendCode")
    public void sendCode(String phone) {
        smsService.sendSms(phone, "éªŒè¯ç ï¼š123456");
    }
}
```

---

## 5. âš–ï¸ é…ç½®ä¼˜å…ˆçº§ä¸è¦†ç›–


### 5.1 é…ç½®åŠ è½½é¡ºåº


**é…ç½®æºä¼˜å…ˆçº§ï¼ˆä»é«˜åˆ°ä½ï¼‰**

```
é…ç½®ä¼˜å…ˆçº§å±‚çº§ï¼š

â‘  å‘½ä»¤è¡Œå‚æ•°
   java -jar app.jar --server.port=9090
   â†“ (æœ€é«˜ä¼˜å…ˆçº§)

â‘¡ ç³»ç»Ÿç¯å¢ƒå˜é‡
   export SERVER_PORT=9090
   â†“

â‘¢ application-{profile}.yml
   application-prod.yml
   â†“

â‘£ application.yml
   é¡¹ç›®ä¸­çš„é…ç½®æ–‡ä»¶
   â†“

â‘¤ @PropertySourceåŠ è½½çš„é…ç½®
   â†“

â‘¥ é»˜è®¤å±æ€§
   è‡ªåŠ¨é…ç½®çš„é»˜è®¤å€¼
   â†“ (æœ€ä½ä¼˜å…ˆçº§)
```

**å®é™…åº”ç”¨ç¤ºä¾‹**

```yaml
# application.yml (é»˜è®¤é…ç½®)
server:
  port: 8080
  
# application-dev.yml (å¼€å‘ç¯å¢ƒ)
server:
  port: 8081
  
# application-prod.yml (ç”Ÿäº§ç¯å¢ƒ)
server:
  port: 80
```

å¯åŠ¨æ—¶æŒ‡å®šç¯å¢ƒï¼š
```bash
# å¼€å‘ç¯å¢ƒï¼šä½¿ç”¨8081ç«¯å£
java -jar app.jar --spring.profiles.active=dev

# ç”Ÿäº§ç¯å¢ƒï¼šä½¿ç”¨80ç«¯å£
java -jar app.jar --spring.profiles.active=prod

# ä¸´æ—¶æ”¹ç«¯å£ï¼šä½¿ç”¨9090ï¼ˆå‘½ä»¤è¡Œä¼˜å…ˆçº§æœ€é«˜ï¼‰
java -jar app.jar --server.port=9090
```

### 5.2 è¦†ç›–è‡ªåŠ¨é…ç½®


**æ–¹å¼ä¸€ï¼šå±æ€§è¦†ç›–**

```yaml
# è¦†ç›–æ•°æ®æºé…ç½®
spring:
  datasource:
    type: com.alibaba.druid.pool.DruidDataSource  # æ”¹ç”¨Druid
    url: jdbc:mysql://192.168.1.100:3306/mydb
```

**æ–¹å¼äºŒï¼šBeanè¦†ç›–**

```java
@Configuration
public class MyDataSourceConfig {
    
    // è‡ªå·±å®šä¹‰çš„DataSourceä¼šè¦†ç›–è‡ªåŠ¨é…ç½®çš„
    @Bean
    public DataSource customDataSource() {
        DruidDataSource dataSource = new DruidDataSource();
        dataSource.setUrl("jdbc:mysql://localhost:3306/mydb");
        // è‡ªå®šä¹‰é…ç½®
        return dataSource;
    }
}
```

**æ–¹å¼ä¸‰ï¼šæ’é™¤è‡ªåŠ¨é…ç½®**

```java
// æ–¹å¼1ï¼šå¯åŠ¨ç±»æ’é™¤
@SpringBootApplication(exclude = {DataSourceAutoConfiguration.class})
public class MyApplication {
}

// æ–¹å¼2ï¼šé…ç½®æ–‡ä»¶æ’é™¤
```

```yaml
spring:
  autoconfigure:
    exclude:
      - org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration
```

### 5.3 é…ç½®ç»‘å®šæœºåˆ¶


**@ConfigurationPropertiesçš„å¼ºå¤§ä¹‹å¤„**

```java
@Component
@ConfigurationProperties(prefix = "app.user")
public class UserConfig {
    private String defaultRole;
    private Integer maxLoginAttempts;
    private List<String> allowedIps;
    private Map<String, String> settings;
    
    // getter/setterçœç•¥
}
```

æ”¯æŒçš„é…ç½®æ–¹å¼ï¼š

```yaml
app:
  user:
    default-role: USER  # é©¼å³°æˆ–çŸ­æ¨ªçº¿éƒ½æ”¯æŒ
    max-login-attempts: 5
    allowed-ips:
      - 192.168.1.100
      - 192.168.1.101
    settings:
      theme: dark
      language: zh-CN
```

**é…ç½®éªŒè¯**

```java
@ConfigurationProperties(prefix = "app.user")
@Validated  // å¯ç”¨éªŒè¯
public class UserConfig {
    
    @NotBlank  // ä¸èƒ½ä¸ºç©º
    private String defaultRole;
    
    @Min(1)  // æœ€å°å€¼1
    @Max(10)  // æœ€å¤§å€¼10
    private Integer maxLoginAttempts;
}
```

---

## 6. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 6.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ è‡ªåŠ¨é…ç½®æœ¬è´¨ï¼šæ ¹æ®æ¡ä»¶æ™ºèƒ½è£…é…Beanï¼Œå‡å°‘æ‰‹åŠ¨é…ç½®
ğŸ”¸ æ ¸å¿ƒæ³¨è§£ï¼š@SpringBootApplication = @Configuration + @EnableAutoConfiguration + @ComponentScan
ğŸ”¸ åŠ è½½æœºåˆ¶ï¼šè¯»å–spring.factories â†’ åŠ è½½é…ç½®ç±» â†’ æ¡ä»¶åˆ¤æ–­ â†’ åˆ›å»ºBean
ğŸ”¸ æ¡ä»¶æ³¨è§£ï¼š@ConditionalOnXxxç³»åˆ—æ§åˆ¶é…ç½®æ˜¯å¦ç”Ÿæ•ˆ
ğŸ”¸ é…ç½®ä¼˜å…ˆçº§ï¼šå‘½ä»¤è¡Œ > ç¯å¢ƒå˜é‡ > profileé…ç½® > é»˜è®¤é…ç½®
```

### 6.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ è‡ªåŠ¨é…ç½®ä¸æ˜¯é­”æ³•**

```
çœ‹ä¼¼"è‡ªåŠ¨"ï¼Œå®é™…æ˜¯ï¼š
1. é¢„å…ˆç¼–å†™å¥½é…ç½®ç±»
2. é€šè¿‡æ¡ä»¶æ³¨è§£åˆ¤æ–­æ˜¯å¦ç”Ÿæ•ˆ
3. æ ¹æ®é…ç½®æ–‡ä»¶ç»‘å®šå±æ€§
4. åˆ›å»ºéœ€è¦çš„Bean

æ‰€ä»¥æœ¬è´¨è¿˜æ˜¯é…ç½®ï¼Œåªæ˜¯Spring Bootå¸®ä½ å†™å¥½äº†
```

**ğŸ”¹ starterçš„ä½œç”¨**

```
starter = ä¾èµ– + è‡ªåŠ¨é…ç½®

å¼•å…¥ä¸€ä¸ªstarterå°±è·å¾—ï¼š
  âœ“ æ‰€éœ€çš„æ‰€æœ‰ä¾èµ–jaråŒ…
  âœ“ è‡ªåŠ¨é…ç½®å¥½çš„Bean
  âœ“ åˆç†çš„é»˜è®¤å€¼
  âœ“ é…ç½®å±æ€§æç¤º
```

**ğŸ”¹ ä½•æ—¶éœ€è¦è‡ªå®šä¹‰é…ç½®**

```
éœ€è¦è‡ªå®šä¹‰çš„åœºæ™¯ï¼š
1. è‡ªåŠ¨é…ç½®ä¸æ»¡è¶³éœ€æ±‚
2. éœ€è¦ç‰¹æ®Šçš„åˆå§‹åŒ–é€»è¾‘
3. æ•´åˆç¬¬ä¸‰æ–¹æ¡†æ¶
4. å›¢é˜Ÿé€šç”¨ç»„ä»¶å°è£…
```

### 6.3 å®é™…åº”ç”¨ä»·å€¼


**ğŸ’¼ ä¼ä¸šå¼€å‘å®è·µ**

**æ•ˆç‡æå‡**
- æ–°é¡¹ç›®æ­å»ºï¼šä»1å¤©ç¼©çŸ­åˆ°1å°æ—¶
- é›†æˆç¬¬ä¸‰æ–¹ï¼šä»åŠå¤©ç¼©çŸ­åˆ°10åˆ†é’Ÿ
- é…ç½®ç»´æŠ¤ï¼šå‡å°‘80%çš„é…ç½®æ–‡ä»¶

**è´¨é‡ä¿éšœ**
- ç‰ˆæœ¬å†²çªï¼šè‡ªåŠ¨ä»²è£ï¼Œä¸å†æ‰‹åŠ¨è§£å†³
- é…ç½®é”™è¯¯ï¼šå¯åŠ¨æ—¶æ ¡éªŒï¼ŒåŠæ—¶å‘ç°
- æœ€ä½³å®è·µï¼šéµå¾ªå®˜æ–¹æ¨èé…ç½®

**å›¢é˜Ÿåä½œ**
- ç»Ÿä¸€é…ç½®ï¼šé€šè¿‡starterç»Ÿä¸€æŠ€æœ¯æ ˆ
- é™ä½é—¨æ§›ï¼šæ–°äººæ— éœ€æ·±å…¥äº†è§£åº•å±‚
- ä¾¿äºç»´æŠ¤ï¼šé…ç½®é›†ä¸­ç®¡ç†

### 6.4 æœ€ä½³å®è·µå»ºè®®


**âœ… æ¨èåšæ³•**

```
1. ä¼˜å…ˆä½¿ç”¨å®˜æ–¹starter
   â””â”€ ç¨³å®šå¯é ï¼Œæ–‡æ¡£é½å…¨

2. é…ç½®æ–‡ä»¶ä½¿ç”¨YAMLæ ¼å¼
   â””â”€ å±‚æ¬¡æ¸…æ™°ï¼Œæ˜“äºé˜…è¯»

3. æ•æ„Ÿä¿¡æ¯ä½¿ç”¨ç¯å¢ƒå˜é‡
   â””â”€ ä¸è¦ç¡¬ç¼–ç å¯†ç 

4. å¼€å‘/æµ‹è¯•/ç”Ÿäº§åˆ†ç¦»é…ç½®
   â””â”€ ä½¿ç”¨profileæœºåˆ¶

5. è‡ªå®šä¹‰é…ç½®ç±»åŠ æ³¨é‡Š
   â””â”€ è¯´æ˜é…ç½®ç›®çš„å’Œç”¨æ³•
```

**âŒ é¿å…é™·é˜±**

| **é”™è¯¯åšæ³•** | **æ­£ç¡®åšæ³•** | **åŸå› ** |
|------------|------------|---------|
| ç›²ç›®æ’é™¤è‡ªåŠ¨é…ç½® | ç†è§£åå†æ’é™¤ | å¯èƒ½å½±å“å…¶ä»–åŠŸèƒ½ |
| æ‰€æœ‰é…ç½®éƒ½è¦†ç›– | åªè¦†ç›–éœ€è¦çš„ | å¤±å»è‡ªåŠ¨é…ç½®ä¼˜åŠ¿ |
| ä¸çœ‹æºç çé…ç½® | æŸ¥çœ‹é…ç½®ç±»äº†è§£åŸç† | é¿å…é…ç½®å†²çª |
| å¿½ç•¥æ¡ä»¶æ³¨è§£ | ç†è§£ç”Ÿæ•ˆæ¡ä»¶ | é¿å…é…ç½®ä¸ç”Ÿæ•ˆ |

### 6.5 é—®é¢˜æ’æŸ¥æŠ€å·§


**ğŸ” å¸¸è§é—®é¢˜è¯Šæ–­**

**é—®é¢˜1ï¼šé…ç½®ä¸ç”Ÿæ•ˆ**
```
æ’æŸ¥æ­¥éª¤ï¼š
1. æ£€æŸ¥æ˜¯å¦æ»¡è¶³æ¡ä»¶æ³¨è§£è¦æ±‚
2. æŸ¥çœ‹å¯åŠ¨æ—¥å¿—çš„Conditions Evaluation Report
3. ç¡®è®¤é…ç½®æ–‡ä»¶è·¯å¾„å’Œæ ¼å¼æ­£ç¡®
4. æ£€æŸ¥æ˜¯å¦è¢«æ’é™¤æˆ–è¦†ç›–
```

**é—®é¢˜2ï¼šBeanå†²çª**
```
è§£å†³æ–¹æ¡ˆï¼š
1. ä½¿ç”¨@PrimaryæŒ‡å®šä¼˜å…ˆBean
2. ä½¿ç”¨@QualifieræŒ‡å®šæ³¨å…¥å“ªä¸ª
3. è°ƒæ•´é…ç½®ç±»çš„@Orderé¡ºåº
4. æ’é™¤å†²çªçš„è‡ªåŠ¨é…ç½®
```

**é—®é¢˜3ï¼šå±æ€§ç»‘å®šå¤±è´¥**
```
æ£€æŸ¥é¡¹ï¼š
1. å‰ç¼€æ˜¯å¦æ­£ç¡®ï¼ˆprefixï¼‰
2. å±æ€§åæ˜¯å¦åŒ¹é…ï¼ˆé©¼å³°/çŸ­æ¨ªçº¿ï¼‰
3. æ˜¯å¦æ·»åŠ äº†@EnableConfigurationProperties
4. ç±»å‹æ˜¯å¦å…¼å®¹
```

**è°ƒè¯•æ–¹æ³•**

```yaml
# å¼€å¯è‡ªåŠ¨é…ç½®æŠ¥å‘Š
debug: true

# å¼€å¯é…ç½®å±æ€§æ—¥å¿—
logging:
  level:
    org.springframework.boot.autoconfigure: DEBUG
```

**æ ¸å¿ƒè®°å¿†å£è¯€**ï¼š
```
è‡ªåŠ¨é…ç½®è§£æ”¾æ‰‹ï¼Œçº¦å®šä¼˜äºé…ç½®èµ°
æ¡ä»¶æ³¨è§£æ¥åˆ¤æ–­ï¼Œæ»¡è¶³æ¡ä»¶æ‰åˆ›å»º
starterå¼•å…¥å³å¯ç”¨ï¼Œé…ç½®å±æ€§ç»‘å®šç¥
ä¼˜å…ˆçº§åˆ«è¦è®°ç‰¢ï¼Œå‘½ä»¤è¡Œå‚æ•°æœ€é«˜è¶…
è‡ªå®šä¹‰é…ç½®è¦è°¨æ…ï¼Œç†è§£åŸç†ä¸ç›²ç›®
```