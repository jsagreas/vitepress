---
title: 4ã€ç¼–å†™ç¬¬ä¸€ä¸ªè‡ªå®šä¹‰Starter
---
## ğŸ“š ç›®å½•

1. [è‡ªå®šä¹‰Starteræ¦‚è¿°](#1-è‡ªå®šä¹‰Starteræ¦‚è¿°)
2. [Starteré¡¹ç›®ç»“æ„è®¾è®¡](#2-Starteré¡¹ç›®ç»“æ„è®¾è®¡)
3. [auto-configurationæ¨¡å—åˆ›å»º](#3-auto-configurationæ¨¡å—åˆ›å»º)
4. [é»˜è®¤Beanå®šä¹‰](#4-é»˜è®¤Beanå®šä¹‰)
5. [å±æ€§é…ç½®ç±»è®¾è®¡](#5-å±æ€§é…ç½®ç±»è®¾è®¡)
6. [æ¡ä»¶è£…é…åº”ç”¨](#6-æ¡ä»¶è£…é…åº”ç”¨)
7. [å•å…ƒæµ‹è¯•éªŒè¯](#7-å•å…ƒæµ‹è¯•éªŒè¯)
8. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#8-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ¯ è‡ªå®šä¹‰Starteræ¦‚è¿°


### 1.1 ä»€ä¹ˆæ˜¯è‡ªå®šä¹‰Starter


ğŸ§  **é€šä¿—ç†è§£**ï¼š
æƒ³è±¡ä½ åœ¨åšèœï¼Œæ¯æ¬¡éƒ½è¦å‡†å¤‡ç›¸åŒçš„è°ƒæ–™ã€å·¥å…·å’Œæ­¥éª¤ã€‚å¦‚æœèƒ½æå‰æŠŠè¿™äº›æ‰“åŒ…æˆä¸€ä¸ª"åšèœåŒ…"ï¼Œä¸‹æ¬¡ç›´æ¥æ‹¿æ¥ç”¨å°±æ–¹ä¾¿å¤šäº†ã€‚è‡ªå®šä¹‰Starterå°±æ˜¯è¿™æ ·çš„"åšèœåŒ…"ï¼ŒæŠŠå¸¸ç”¨çš„é…ç½®ã€ä¾èµ–ã€Beanéƒ½æ‰“åŒ…å¥½ï¼Œè®©åˆ«äººï¼ˆåŒ…æ‹¬ä½ è‡ªå·±ï¼‰å¯ä»¥ä¸€é”®ä½¿ç”¨ã€‚

ğŸ“ **æ­£å¼å®šä¹‰**ï¼š
è‡ªå®šä¹‰Starteræ˜¯Spring Bootæä¾›çš„ä¸€ç§æœºåˆ¶ï¼Œè®©æˆ‘ä»¬æŠŠ**é€šç”¨åŠŸèƒ½**ã€**é…ç½®**ã€**ä¾èµ–**æ‰“åŒ…æˆä¸€ä¸ªå¯å¤ç”¨çš„ç»„ä»¶ï¼Œå…¶ä»–é¡¹ç›®åªéœ€è¦å¼•å…¥è¿™ä¸ªStarterå°±èƒ½è‡ªåŠ¨è·å¾—ç›¸åº”çš„åŠŸèƒ½ã€‚

### 1.2 ä¸ºä»€ä¹ˆè¦è‡ªå®šä¹‰Starter


ğŸ’¼ **å®é™…åº”ç”¨åœºæ™¯**ï¼š
> ğŸ¢ **ä¼ä¸šåœºæ™¯**ï¼šå…¬å¸æœ‰ç»Ÿä¸€çš„æ—¥å¿—è§„èŒƒã€ç›‘æ§ç»„ä»¶ã€æ•°æ®åº“è¿æ¥æ± é…ç½®
> ğŸ”§ **å·¥å…·åœºæ™¯**ï¼šå¸¸ç”¨çš„å·¥å…·ç±»ã€é€šç”¨ä¸šåŠ¡é€»è¾‘éœ€è¦åœ¨å¤šä¸ªé¡¹ç›®ä¸­å¤ç”¨
> ğŸ“± **å›¢é˜Ÿåœºæ™¯**ï¼šå›¢é˜Ÿå†…éƒ¨æœ‰æ ‡å‡†åŒ–çš„å¼€å‘è§„èŒƒå’Œé…ç½®æ¨¡æ¿

ğŸ¯ **æ ¸å¿ƒä»·å€¼**ï¼š
- **å‡å°‘é‡å¤**ï¼šé¿å…æ¯ä¸ªé¡¹ç›®éƒ½å†™ç›¸åŒçš„é…ç½®ä»£ç 
- **ç»Ÿä¸€æ ‡å‡†**ï¼šä¿è¯å›¢é˜Ÿå†…éƒ¨ä½¿ç”¨ç›¸åŒçš„æŠ€æœ¯æ ˆå’Œé…ç½®
- **ç®€åŒ–ä½¿ç”¨**ï¼šå…¶ä»–å¼€å‘è€…åªéœ€è¦å¼•å…¥ä¾èµ–å°±èƒ½ä½¿ç”¨
- **æ˜“äºç»´æŠ¤**ï¼šé…ç½®æ›´æ–°åªéœ€è¦å‡çº§Starterç‰ˆæœ¬

### 1.3 è‡ªå®šä¹‰Starterçš„ç»„æˆéƒ¨åˆ†


```
è‡ªå®šä¹‰Starter = ä¾èµ–ç®¡ç† + è‡ªåŠ¨é…ç½® + å±æ€§é…ç½®
     â†“              â†“           â†“
   pom.xml    @Configuration  @ConfigurationProperties
```

ğŸ”— **ç»„ä»¶å…³ç³»**ï¼š
- **Starteræ¨¡å—**ï¼šåªç®¡ç†ä¾èµ–ï¼Œä¸åŒ…å«ä»£ç 
- **AutoConfigurationæ¨¡å—**ï¼šåŒ…å«å…·ä½“çš„é…ç½®é€»è¾‘å’ŒBeanå®šä¹‰
- **Propertiesæ¨¡å—**ï¼šç®¡ç†é…ç½®å±æ€§å’Œé»˜è®¤å€¼

---

## 2. ğŸ—ï¸ Starteré¡¹ç›®ç»“æ„è®¾è®¡


### 2.1 æ ‡å‡†é¡¹ç›®ç»“æ„


```
my-spring-boot-starter/          # çˆ¶é¡¹ç›®
â”œâ”€â”€ pom.xml                      # çˆ¶é¡¹ç›®ä¾èµ–ç®¡ç†
â”œâ”€â”€ my-spring-boot-starter/      # starteræ¨¡å—ï¼ˆä¾èµ–ç®¡ç†ï¼‰
â”‚   â””â”€â”€ pom.xml
â””â”€â”€ my-spring-boot-autoconfigure/ # autoconfigureæ¨¡å—ï¼ˆæ ¸å¿ƒé€»è¾‘ï¼‰
    â”œâ”€â”€ pom.xml
    â””â”€â”€ src/main/java/
        â””â”€â”€ com/example/starter/
            â”œâ”€â”€ MyAutoConfiguration.java
            â”œâ”€â”€ MyProperties.java
            â””â”€â”€ MyService.java
```

ğŸ“‹ **ç»“æ„è§£é‡Š**ï¼š
- **çˆ¶é¡¹ç›®**ï¼šç®¡ç†æ•´ä½“ç‰ˆæœ¬å’Œå…¬å…±ä¾èµ–
- **starteræ¨¡å—**ï¼šå°±åƒä¸€ä¸ª"è´­ç‰©æ¸…å•"ï¼Œå‘Šè¯‰Spring Bootéœ€è¦å“ªäº›ä¾èµ–
- **autoconfigureæ¨¡å—**ï¼šçœŸæ­£çš„"å·¥å‚"ï¼Œè´Ÿè´£åˆ›å»ºå’Œé…ç½®Bean

### 2.2 åˆ›å»ºçˆ¶é¡¹ç›®


```xml
<!-- çˆ¶é¡¹ç›® pom.xml -->
<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0">
    <modelVersion>4.0.0</modelVersion>
    
    <groupId>com.example</groupId>
    <artifactId>my-spring-boot-starter-parent</artifactId>
    <version>1.0.0</version>
    <packaging>pom</packaging>
    
    <!-- å­æ¨¡å—åˆ—è¡¨ -->
    <modules>
        <module>my-spring-boot-starter</module>
        <module>my-spring-boot-autoconfigure</module>
    </modules>
    
    <!-- Spring Bootçˆ¶é¡¹ç›® -->
    <parent>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-parent</artifactId>
        <version>2.7.0</version>
    </parent>
</project>
```

### 2.3 Starteræ¨¡å—é…ç½®


```xml
<!-- my-spring-boot-starter/pom.xml -->
<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0">
    <modelVersion>4.0.0</modelVersion>
    
    <parent>
        <groupId>com.example</groupId>
        <artifactId>my-spring-boot-starter-parent</artifactId>
        <version>1.0.0</version>
    </parent>
    
    <artifactId>my-spring-boot-starter</artifactId>
    
    <!-- starteråªç®¡ç†ä¾èµ–ï¼Œä¸åŒ…å«ä»»ä½•ä»£ç  -->
    <dependencies>
        <!-- å¼•å…¥autoconfigureæ¨¡å— -->
        <dependency>
            <groupId>com.example</groupId>
            <artifactId>my-spring-boot-autoconfigure</artifactId>
            <version>${project.version}</version>
        </dependency>
        
        <!-- å¼•å…¥Spring Boot starteråŸºç¡€ä¾èµ– -->
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter</artifactId>
        </dependency>
    </dependencies>
</project>
```

ğŸ’¡ **è®¾è®¡åŸåˆ™**ï¼š
- Starteræ¨¡å—**åªç®¡ä¾èµ–ï¼Œä¸å†™ä»£ç **
- æŠŠå¤æ‚çš„é€»è¾‘éƒ½æ”¾åœ¨autoconfigureæ¨¡å—
- è®©ä½¿ç”¨è€…åªéœ€è¦å¼•å…¥starterå°±èƒ½è·å¾—å®Œæ•´åŠŸèƒ½

---

## 3. âš™ï¸ auto-configurationæ¨¡å—åˆ›å»º


### 3.1 AutoConfigurationæ¨¡å—ç»“æ„


```xml
<!-- my-spring-boot-autoconfigure/pom.xml -->
<project xmlns="http://maven.apache.org/POM/4.0.0">
    <modelVersion>4.0.0</modelVersion>
    
    <parent>
        <groupId>com.example</groupId>
        <artifactId>my-spring-boot-starter-parent</artifactId>
        <version>1.0.0</version>
    </parent>
    
    <artifactId>my-spring-boot-autoconfigure</artifactId>
    
    <dependencies>
        <!-- Spring Bootè‡ªåŠ¨é…ç½®æ ¸å¿ƒä¾èµ– -->
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-autoconfigure</artifactId>
        </dependency>
        
        <!-- é…ç½®å¤„ç†å™¨ï¼Œå¸®åŠ©IDEæä¾›å±æ€§æç¤º -->
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-configuration-processor</artifactId>
            <optional>true</optional>
        </dependency>
    </dependencies>
</project>
```

### 3.2 åˆ›å»ºspring.factoriesæ–‡ä»¶


ğŸ”‘ **å…³é”®æ–‡ä»¶**ï¼š`src/main/resources/META-INF/spring.factories`

```properties
# å‘Šè¯‰Spring Bootæˆ‘ä»¬çš„è‡ªåŠ¨é…ç½®ç±»åœ¨å“ªé‡Œ
org.springframework.boot.autoconfigure.EnableAutoConfiguration=\
com.example.starter.MyAutoConfiguration
```

ğŸ’¡ **é€šä¿—è§£é‡Š**ï¼š
è¿™ä¸ªæ–‡ä»¶å°±åƒä¸€ä¸ª"ç”µè¯ç°¿"ï¼ŒSpring Bootå¯åŠ¨æ—¶ä¼šæŸ¥çœ‹è¿™ä¸ªæ–‡ä»¶ï¼ŒçŸ¥é“è¦åŠ è½½å“ªäº›è‡ªåŠ¨é…ç½®ç±»ã€‚å°±åƒä½ å‘Šè¯‰æœ‹å‹"æˆ‘çš„ç”µè¯å·ç æ˜¯xxx"ï¼Œæœ‹å‹å°±çŸ¥é“æ€ä¹ˆè”ç³»ä½ ä¸€æ ·ã€‚

### 3.3 Spring Boot 2.7+æ–°æ–¹å¼


ğŸ“ **æ–°çš„é…ç½®æ–¹å¼**ï¼šä»Spring Boot 2.7å¼€å§‹ï¼Œæ¨èä½¿ç”¨æ–°çš„é…ç½®æ–‡ä»¶ï¼š

`src/main/resources/META-INF/spring/org.springframework.boot.autoconfigure.AutoConfiguration.imports`

```
# æ›´ç®€æ´çš„é…ç½®æ–¹å¼
com.example.starter.MyAutoConfiguration
```

ğŸ”„ **ä¸¤ç§æ–¹å¼å¯¹æ¯”**ï¼š
| æ–¹å¼ | ä¼˜ç‚¹ | ç¼ºç‚¹ | é€‚ç”¨ç‰ˆæœ¬ |
|------|------|------|----------|
| ğŸ—‚ï¸ **spring.factories** | å…¼å®¹æ€§å¥½ï¼ŒåŠŸèƒ½å…¨é¢ | é…ç½®å¤æ‚ | æ‰€æœ‰ç‰ˆæœ¬ |
| ğŸ“‹ **AutoConfiguration.imports** | é…ç½®ç®€æ´ï¼Œç±»å‹å®‰å…¨ | ä»…æ”¯æŒæ–°ç‰ˆæœ¬ | 2.7+ |

---

## 4. ğŸ­ é»˜è®¤Beanå®šä¹‰


### 4.1 åˆ›å»ºä¸šåŠ¡æœåŠ¡ç±»


é¦–å…ˆï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªç®€å•çš„ä¸šåŠ¡æœåŠ¡ç±»ä½œä¸ºç¤ºä¾‹ï¼š

```java
package com.example.starter;

/**
 * ç¤ºä¾‹æœåŠ¡ï¼šç®€å•çš„é—®å€™æœåŠ¡
 * è¿™å°±åƒæ˜¯æˆ‘ä»¬è¦"ç”Ÿäº§"çš„äº§å“
 */
public class GreetingService {
    
    private final String prefix;
    private final String suffix;
    
    public GreetingService(String prefix, String suffix) {
        this.prefix = prefix;
        this.suffix = suffix;
    }
    
    /**
     * ç”Ÿæˆé—®å€™è¯­
     * @param name å§“å
     * @return å®Œæ•´çš„é—®å€™è¯­
     */
    public String greet(String name) {
        return prefix + name + suffix;
    }
    
    // getteræ–¹æ³•
    public String getPrefix() { return prefix; }
    public String getSuffix() { return suffix; }
}
```

ğŸ’¡ **è®¾è®¡æ€è·¯**ï¼š
- è¿™ä¸ªæœåŠ¡å¾ˆç®€å•ï¼Œä½†å±•ç¤ºäº†**ä¾èµ–æ³¨å…¥**çš„åŸºæœ¬æ¦‚å¿µ
- `prefix`å’Œ`suffix`å¯ä»¥é€šè¿‡é…ç½®æ¥è‡ªå®šä¹‰
- æ–¹æ³•åŠŸèƒ½æ˜ç¡®ï¼Œæ˜“äºæµ‹è¯•

### 4.2 åˆ›å»ºè‡ªåŠ¨é…ç½®ç±»


```java
package com.example.starter;

import org.springframework.boot.autoconfigure.condition.ConditionalOnMissingBean;
import org.springframework.boot.context.properties.EnableConfigurationProperties;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;

/**
 * è‡ªåŠ¨é…ç½®ç±»ï¼šå‘Šè¯‰Springå¦‚ä½•åˆ›å»ºæˆ‘ä»¬çš„Bean
 * å°±åƒå·¥å‚çš„ç”Ÿäº§æŒ‡å—
 */
@Configuration  // æ ‡è®°è¿™æ˜¯ä¸€ä¸ªé…ç½®ç±»
@EnableConfigurationProperties(GreetingProperties.class)  // å¯ç”¨å±æ€§é…ç½®
public class GreetingAutoConfiguration {
    
    /**
     * åˆ›å»ºGreetingServiceçš„Bean
     * 
     * @ConditionalOnMissingBean çš„ä½œç”¨ï¼š
     * - åªæœ‰å½“å®¹å™¨ä¸­æ²¡æœ‰GreetingServiceæ—¶æ‰åˆ›å»º
     * - å…è®¸ç”¨æˆ·è‡ªå®šä¹‰åŒç±»å‹çš„Beanæ¥è¦†ç›–æˆ‘ä»¬çš„é»˜è®¤å®ç°
     */
    @Bean
    @ConditionalOnMissingBean(GreetingService.class)
    public GreetingService greetingService(GreetingProperties properties) {
        return new GreetingService(
            properties.getPrefix(), 
            properties.getSuffix()
        );
    }
}
```

ğŸ§  **æ ¸å¿ƒæ¦‚å¿µè§£é‡Š**ï¼š

**@Configuration**ï¼š
- å‘Šè¯‰Springè¿™ä¸ªç±»æ˜¯ç”¨æ¥é…ç½®Beançš„
- ç±»ä¼¼äºXMLé…ç½®æ–‡ä»¶çš„Javaç‰ˆæœ¬

**@Bean**ï¼š
- æ ‡è®°æ–¹æ³•ï¼Œå‘Šè¯‰Springè°ƒç”¨è¿™ä¸ªæ–¹æ³•æ¥åˆ›å»ºå¯¹è±¡
- æ–¹æ³•è¿”å›çš„å¯¹è±¡ä¼šè¢«Springç®¡ç†

**@ConditionalOnMissingBean**ï¼š
- æ¡ä»¶è£…é…æ³¨è§£
- æ„æ€æ˜¯"å¦‚æœç”¨æˆ·æ²¡æœ‰è‡ªå®šä¹‰è¿™ä¸ªBeanï¼Œå°±ç”¨æˆ‘ä»¬çš„é»˜è®¤å®ç°"
- ç»™ç”¨æˆ·ä¿ç•™äº†è‡ªå®šä¹‰çš„çµæ´»æ€§

### 4.3 Beanç”Ÿå‘½å‘¨æœŸç®¡ç†


```java
@Configuration
@EnableConfigurationProperties(GreetingProperties.class)
public class GreetingAutoConfiguration {
    
    @Bean
    @ConditionalOnMissingBean
    public GreetingService greetingService(GreetingProperties properties) {
        GreetingService service = new GreetingService(
            properties.getPrefix(), 
            properties.getSuffix()
        );
        
        // å¯ä»¥åœ¨è¿™é‡Œæ·»åŠ åˆå§‹åŒ–é€»è¾‘
        System.out.println("GreetingService å·²åˆ›å»ºï¼Œé…ç½®å‰ç¼€: " + properties.getPrefix());
        
        return service;
    }
    
    /**
     * å¯é€‰ï¼šBeané”€æ¯æ—¶çš„æ¸…ç†å·¥ä½œ
     */
    @Bean(destroyMethod = "cleanup")
    @ConditionalOnMissingBean
    public GreetingService advancedGreetingService(GreetingProperties properties) {
        return new GreetingService(properties.getPrefix(), properties.getSuffix()) {
            public void cleanup() {
                System.out.println("GreetingService æ­£åœ¨æ¸…ç†èµ„æº...");
            }
        };
    }
}
```

---

## 5. ğŸ”§ å±æ€§é…ç½®ç±»è®¾è®¡


### 5.1 åˆ›å»ºå±æ€§é…ç½®ç±»


```java
package com.example.starter;

import org.springframework.boot.context.properties.ConfigurationProperties;

/**
 * å±æ€§é…ç½®ç±»ï¼šå®šä¹‰å¯é…ç½®çš„å‚æ•°
 * å°±åƒäº§å“çš„"è§„æ ¼è¯´æ˜ä¹¦"ï¼Œç”¨æˆ·å¯ä»¥æŒ‰éœ€è°ƒæ•´
 */
@ConfigurationProperties(prefix = "greeting")  // é…ç½®å‰ç¼€
public class GreetingProperties {
    
    /**
     * é—®å€™è¯­å‰ç¼€
     * é»˜è®¤å€¼ï¼šHello, 
     */
    private String prefix = "Hello, ";
    
    /**
     * é—®å€™è¯­åç¼€  
     * é»˜è®¤å€¼ï¼š!
     */
    private String suffix = "!";
    
    /**
     * æ˜¯å¦å¯ç”¨é—®å€™æœåŠ¡
     * é»˜è®¤å€¼ï¼štrue
     */
    private boolean enabled = true;
    
    /**
     * é—®å€™è¯­çš„è¯­è¨€è®¾ç½®
     */
    private String language = "en";
    
    // getterå’Œsetteræ–¹æ³•
    public String getPrefix() { return prefix; }
    public void setPrefix(String prefix) { this.prefix = prefix; }
    
    public String getSuffix() { return suffix; }
    public void setSuffix(String suffix) { this.suffix = suffix; }
    
    public boolean isEnabled() { return enabled; }
    public void setEnabled(boolean enabled) { this.enabled = enabled; }
    
    public String getLanguage() { return language; }
    public void setLanguage(String language) { this.language = language; }
}
```

### 5.2 å±æ€§é…ç½®çš„ä½¿ç”¨æ–¹å¼


ç”¨æˆ·åœ¨`application.yml`ä¸­å¯ä»¥è¿™æ ·é…ç½®ï¼š

```yaml
# ç”¨æˆ·çš„é…ç½®æ–‡ä»¶
greeting:
  prefix: "ä½ å¥½, "        # è‡ªå®šä¹‰å‰ç¼€
  suffix: " åŒå­¦ï¼"       # è‡ªå®šä¹‰åç¼€
  enabled: true          # æ˜¯å¦å¯ç”¨
  language: "zh"         # è¯­è¨€è®¾ç½®
```

æˆ–è€…åœ¨`application.properties`ä¸­ï¼š

```properties
# å±æ€§æ–‡ä»¶æ ¼å¼
greeting.prefix=Hi, 
greeting.suffix= buddy!
greeting.enabled=true
greeting.language=en
```

### 5.3 å±æ€§éªŒè¯å’Œå¤æ‚é…ç½®


```java
import org.springframework.boot.context.properties.ConfigurationProperties;
import org.springframework.validation.annotation.Validated;
import javax.validation.constraints.NotBlank;
import javax.validation.constraints.Pattern;

@ConfigurationProperties(prefix = "greeting")
@Validated  // å¯ç”¨å±æ€§éªŒè¯
public class GreetingProperties {
    
    /**
     * å‰ç¼€ä¸èƒ½ä¸ºç©º
     */
    @NotBlank(message = "å‰ç¼€ä¸èƒ½ä¸ºç©º")
    private String prefix = "Hello, ";
    
    /**
     * è¯­è¨€ä»£ç å¿…é¡»æ˜¯2ä½å­—æ¯
     */
    @Pattern(regexp = "[a-z]{2}", message = "è¯­è¨€ä»£ç å¿…é¡»æ˜¯2ä½å°å†™å­—æ¯")
    private String language = "en";
    
    /**
     * åµŒå¥—é…ç½®å¯¹è±¡
     */
    private Format format = new Format();
    
    // åµŒå¥—é…ç½®ç±»
    public static class Format {
        private boolean upperCase = false;
        private int maxLength = 100;
        
        // getterå’Œsetter...
    }
    
    // ä¸»è¦å±æ€§çš„getterå’Œsetter...
}
```

é…ç½®ä½¿ç”¨ï¼š

```yaml
greeting:
  prefix: "Hello, "
  language: "en"
  format:
    upper-case: true    # åµŒå¥—å±æ€§ä½¿ç”¨kebab-case
    max-length: 50
```

ğŸ’¡ **å±æ€§é…ç½®æœ€ä½³å®è·µ**ï¼š
- **æä¾›åˆç†é»˜è®¤å€¼**ï¼šç”¨æˆ·ä¸é…ç½®ä¹Ÿèƒ½æ­£å¸¸å·¥ä½œ
- **ä½¿ç”¨éªŒè¯æ³¨è§£**ï¼šç¡®ä¿é…ç½®çš„æ­£ç¡®æ€§
- **æ”¯æŒåµŒå¥—é…ç½®**ï¼šå¤æ‚åŠŸèƒ½å¯ä»¥åˆ†ç»„ç®¡ç†
- **å‘½åæ¸…æ™°**ï¼šè®©ç”¨æˆ·ä¸€çœ‹å°±çŸ¥é“æ˜¯ä»€ä¹ˆæ„æ€

---

## 6. ğŸ® æ¡ä»¶è£…é…åº”ç”¨


### 6.1 åŸºç¡€æ¡ä»¶è£…é…


æ¡ä»¶è£…é…å°±åƒ"æ™ºèƒ½å¼€å…³"ï¼Œæ ¹æ®ä¸åŒæ¡ä»¶å†³å®šæ˜¯å¦åˆ›å»ºBeanï¼š

```java
import org.springframework.boot.autoconfigure.condition.*;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;

@Configuration
@EnableConfigurationProperties(GreetingProperties.class)
public class GreetingAutoConfiguration {
    
    /**
     * åŸºç¡€é—®å€™æœåŠ¡ï¼šå½“æ²¡æœ‰è‡ªå®šä¹‰å®ç°æ—¶åˆ›å»º
     */
    @Bean
    @ConditionalOnMissingBean(GreetingService.class)
    public GreetingService basicGreetingService(GreetingProperties properties) {
        return new GreetingService(properties.getPrefix(), properties.getSuffix());
    }
    
    /**
     * é«˜çº§é—®å€™æœåŠ¡ï¼šåªæœ‰å½“enabled=trueæ—¶æ‰åˆ›å»º
     */
    @Bean
    @ConditionalOnProperty(
        prefix = "greeting", 
        name = "enabled", 
        havingValue = "true", 
        matchIfMissing = true  // å¦‚æœæ²¡æœ‰é…ç½®è¯¥å±æ€§ï¼Œé»˜è®¤åŒ¹é…
    )
    public AdvancedGreetingService advancedGreetingService(GreetingProperties properties) {
        return new AdvancedGreetingService(properties);
    }
    
    /**
     * å¤šè¯­è¨€æ”¯æŒï¼šåªæœ‰å½“è¯­è¨€è®¾ç½®ä¸ºä¸­æ–‡æ—¶åˆ›å»º
     */
    @Bean
    @ConditionalOnProperty(prefix = "greeting", name = "language", havingValue = "zh")
    public ChineseGreetingService chineseGreetingService() {
        return new ChineseGreetingService();
    }
}
```

### 6.2 å¸¸ç”¨æ¡ä»¶è£…é…æ³¨è§£


ğŸ“š **æ¡ä»¶è£…é…æ³¨è§£å¤§å…¨**ï¼š

| æ³¨è§£ | ä½œç”¨ | ä½¿ç”¨åœºæ™¯ | ç¤ºä¾‹ |
|------|------|----------|------|
| ğŸ” `@ConditionalOnClass` | ç±»è·¯å¾„å­˜åœ¨æŒ‡å®šç±»æ—¶ç”Ÿæ•ˆ | å¯é€‰ä¾èµ– | å½“æœ‰Redisç±»æ—¶åˆ›å»ºRedisé…ç½® |
| ğŸš« `@ConditionalOnMissingClass` | ç±»è·¯å¾„ä¸å­˜åœ¨æŒ‡å®šç±»æ—¶ç”Ÿæ•ˆ | æ›¿ä»£æ–¹æ¡ˆ | æ²¡æœ‰Redisæ—¶ä½¿ç”¨å†…å­˜ç¼“å­˜ |
| âœ… `@ConditionalOnBean` | å®¹å™¨ä¸­å­˜åœ¨æŒ‡å®šBeanæ—¶ç”Ÿæ•ˆ | ä¾èµ–å…¶ä»–Bean | æœ‰æ•°æ®æºæ—¶åˆ›å»ºäº‹åŠ¡ç®¡ç†å™¨ |
| âŒ `@ConditionalOnMissingBean` | å®¹å™¨ä¸­ä¸å­˜åœ¨æŒ‡å®šBeanæ—¶ç”Ÿæ•ˆ | é»˜è®¤å®ç° | ç”¨æˆ·æ²¡æœ‰è‡ªå®šä¹‰æ—¶ç”¨é»˜è®¤çš„ |
| ğŸ·ï¸ `@ConditionalOnProperty` | é…ç½®å±æ€§æ»¡è¶³æ¡ä»¶æ—¶ç”Ÿæ•ˆ | åŠŸèƒ½å¼€å…³ | enabled=trueæ—¶å¯ç”¨åŠŸèƒ½ |

### 6.3 å¤æ‚æ¡ä»¶è£…é…ç¤ºä¾‹


```java
/**
 * å¤æ‚çš„æ¡ä»¶è£…é…ç¤ºä¾‹
 */
@Configuration
public class ComplexConditionalConfiguration {
    
    /**
     * æ•°æ®åº“é—®å€™æœåŠ¡ï¼šéœ€è¦åŒæ—¶æ»¡è¶³å¤šä¸ªæ¡ä»¶
     * 1. ç±»è·¯å¾„ä¸­æœ‰DataSourceç±»
     * 2. é…ç½®äº†æ•°æ®åº“ç›¸å…³å±æ€§
     * 3. å¯ç”¨äº†æ•°æ®åº“å­˜å‚¨åŠŸèƒ½
     */
    @Bean
    @ConditionalOnClass(DataSource.class)  // æœ‰æ•°æ®åº“ä¾èµ–
    @ConditionalOnProperty(
        prefix = "greeting.database", 
        name = "enabled", 
        havingValue = "true"
    )
    @ConditionalOnBean(DataSource.class)   // å®¹å™¨ä¸­æœ‰æ•°æ®æºBean
    public DatabaseGreetingService databaseGreetingService(
            DataSource dataSource, 
            GreetingProperties properties) {
        return new DatabaseGreetingService(dataSource, properties);
    }
    
    /**
     * Webç¯å¢ƒä¸‹çš„é—®å€™æœåŠ¡ï¼šåªåœ¨Webç¯å¢ƒä¸­ç”Ÿæ•ˆ
     */
    @Bean
    @ConditionalOnWebApplication(type = ConditionalOnWebApplication.Type.SERVLET)
    public WebGreetingController webGreetingController(GreetingService greetingService) {
        return new WebGreetingController(greetingService);
    }
    
    /**
     * è‡ªå®šä¹‰æ¡ä»¶ï¼šæ ¹æ®æ“ä½œç³»ç»Ÿåˆ›å»ºä¸åŒçš„æœåŠ¡
     */
    @Bean
    @ConditionalOnOperatingSystem(ConditionalOnOperatingSystem.OS.WINDOWS)
    public WindowsGreetingService windowsGreetingService() {
        return new WindowsGreetingService();
    }
}
```

### 6.4 è‡ªå®šä¹‰æ¡ä»¶


å¦‚æœå†…ç½®çš„æ¡ä»¶æ³¨è§£ä¸å¤Ÿç”¨ï¼Œå¯ä»¥è‡ªå®šä¹‰æ¡ä»¶ï¼š

```java
/**
 * è‡ªå®šä¹‰æ¡ä»¶ï¼šæ£€æŸ¥æ˜¯å¦æ˜¯å¼€å‘ç¯å¢ƒ
 */
public class OnDevelopmentCondition implements Condition {
    
    @Override
    public boolean matches(ConditionContext context, AnnotatedTypeMetadata metadata) {
        // è·å–ç¯å¢ƒä¿¡æ¯
        Environment env = context.getEnvironment();
        
        // æ£€æŸ¥å¤šä¸ªæ¡ä»¶
        String[] activeProfiles = env.getActiveProfiles();
        boolean isDev = Arrays.asList(activeProfiles).contains("dev");
        
        String debugProperty = env.getProperty("debug");
        boolean isDebug = "true".equals(debugProperty);
        
        // è¿”å›æ˜¯å¦åŒ¹é…æ¡ä»¶
        return isDev || isDebug;
    }
}

/**
 * ä½¿ç”¨è‡ªå®šä¹‰æ¡ä»¶
 */
@Configuration
public class DevelopmentConfiguration {
    
    @Bean
    @Conditional(OnDevelopmentCondition.class)  // ä½¿ç”¨è‡ªå®šä¹‰æ¡ä»¶
    public DevelopmentGreetingService developmentGreetingService() {
        return new DevelopmentGreetingService();
    }
}
```

ğŸ§  **æ¡ä»¶è£…é…çš„æ ¸å¿ƒæ€æƒ³**ï¼š
- **æ™ºèƒ½åˆ¤æ–­**ï¼šæ ¹æ®è¿è¡Œç¯å¢ƒã€é…ç½®æƒ…å†µæ™ºèƒ½å†³å®šåˆ›å»ºå“ªäº›Bean
- **ç”¨æˆ·ä¼˜å…ˆ**ï¼šç”¨æˆ·çš„è‡ªå®šä¹‰é…ç½®æ€»æ˜¯ä¼˜å…ˆäºé»˜è®¤é…ç½®
- **ä¼˜é›…é™çº§**ï¼šå½“æŸäº›ä¾èµ–ä¸å­˜åœ¨æ—¶ï¼Œæä¾›æ›¿ä»£æ–¹æ¡ˆ
- **ç¯å¢ƒé€‚é…**ï¼šåœ¨ä¸åŒç¯å¢ƒï¼ˆå¼€å‘ã€æµ‹è¯•ã€ç”Ÿäº§ï¼‰ä¸­è¡¨ç°ä¸åŒ

---

## 7. âœ… å•å…ƒæµ‹è¯•éªŒè¯


### 7.1 æµ‹è¯•ç¯å¢ƒæ­å»º


åˆ›å»ºæµ‹è¯•ç±»éªŒè¯æˆ‘ä»¬çš„è‡ªåŠ¨é…ç½®æ˜¯å¦æ­£å¸¸å·¥ä½œï¼š

```java
package com.example.starter;

import org.junit.jupiter.api.Test;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.autoconfigure.AutoConfigurations;
import org.springframework.boot.test.context.runner.ApplicationContextRunner;
import org.springframework.test.context.junit.jupiter.SpringJUnitConfig;

import static org.assertj.core.api.Assertions.assertThat;

/**
 * è‡ªåŠ¨é…ç½®æµ‹è¯•ç±»
 * éªŒè¯æˆ‘ä»¬çš„Starteræ˜¯å¦æŒ‰é¢„æœŸå·¥ä½œ
 */
@SpringJUnitConfig
class GreetingAutoConfigurationTest {
    
    /**
     * ApplicationContextRunneræ˜¯Spring Bootæä¾›çš„æµ‹è¯•å·¥å…·
     * å¯ä»¥æ¨¡æ‹Ÿä¸åŒçš„é…ç½®ç¯å¢ƒæ¥æµ‹è¯•è‡ªåŠ¨é…ç½®
     */
    private final ApplicationContextRunner contextRunner = new ApplicationContextRunner()
            .withConfiguration(AutoConfigurations.of(GreetingAutoConfiguration.class));
    
    /**
     * æµ‹è¯•1ï¼šé»˜è®¤é…ç½®ä¸‹æ˜¯å¦æ­£ç¡®åˆ›å»ºBean
     */
    @Test
    void testDefaultConfiguration() {
        contextRunner.run(context -> {
            // éªŒè¯GreetingService Beanæ˜¯å¦è¢«åˆ›å»º
            assertThat(context).hasSingleBean(GreetingService.class);
            
            // è·å–Beanå¹¶æµ‹è¯•åŠŸèƒ½
            GreetingService service = context.getBean(GreetingService.class);
            String result = service.greet("World");
            
            // éªŒè¯é»˜è®¤é…ç½®çš„ç»“æœ
            assertThat(result).isEqualTo("Hello, World!");
        });
    }
    
    /**
     * æµ‹è¯•2ï¼šè‡ªå®šä¹‰é…ç½®æ˜¯å¦ç”Ÿæ•ˆ
     */
    @Test
    void testCustomConfiguration() {
        contextRunner
            .withPropertyValues(
                "greeting.prefix=Hi, ",
                "greeting.suffix= buddy!"
            )
            .run(context -> {
                GreetingService service = context.getBean(GreetingService.class);
                String result = service.greet("John");
                
                // éªŒè¯è‡ªå®šä¹‰é…ç½®çš„ç»“æœ
                assertThat(result).isEqualTo("Hi, John buddy!");
            });
    }
    
    /**
     * æµ‹è¯•3ï¼šç”¨æˆ·è‡ªå®šä¹‰Beanæ˜¯å¦ä¼˜å…ˆ
     */
    @Test
    void testUserDefinedBeanTakesPrecedence() {
        contextRunner
            .withUserConfiguration(CustomGreetingConfiguration.class)
            .run(context -> {
                // éªŒè¯åªæœ‰ä¸€ä¸ªGreetingService Bean
                assertThat(context).hasSingleBean(GreetingService.class);
                
                GreetingService service = context.getBean(GreetingService.class);
                String result = service.greet("Test");
                
                // éªŒè¯ä½¿ç”¨çš„æ˜¯ç”¨æˆ·è‡ªå®šä¹‰çš„å®ç°
                assertThat(result).isEqualTo("Custom: Test");
            });
    }
    
    /**
     * ç”¨æˆ·è‡ªå®šä¹‰é…ç½®ç±»ï¼ˆç”¨äºæµ‹è¯•ï¼‰
     */
    static class CustomGreetingConfiguration {
        
        @Bean
        public GreetingService greetingService() {
            return new GreetingService("Custom: ", "");
        }
    }
}
```

### 7.2 å±æ€§é…ç½®æµ‹è¯•


```java
/**
 * å±æ€§é…ç½®æµ‹è¯•
 */
class GreetingPropertiesTest {
    
    /**
     * æµ‹è¯•å±æ€§é»˜è®¤å€¼
     */
    @Test
    void testDefaultProperties() {
        ApplicationContextRunner contextRunner = new ApplicationContextRunner()
                .withConfiguration(AutoConfigurations.of(GreetingAutoConfiguration.class));
        
        contextRunner.run(context -> {
            GreetingProperties properties = context.getBean(GreetingProperties.class);
            
            // éªŒè¯é»˜è®¤å€¼
            assertThat(properties.getPrefix()).isEqualTo("Hello, ");
            assertThat(properties.getSuffix()).isEqualTo("!");
            assertThat(properties.isEnabled()).isTrue();
            assertThat(properties.getLanguage()).isEqualTo("en");
        });
    }
    
    /**
     * æµ‹è¯•å±æ€§ç»‘å®š
     */
    @Test
    void testPropertyBinding() {
        new ApplicationContextRunner()
                .withConfiguration(AutoConfigurations.of(GreetingAutoConfiguration.class))
                .withPropertyValues(
                    "greeting.prefix=Bonjour, ",
                    "greeting.suffix= mon ami!",
                    "greeting.enabled=false",
                    "greeting.language=fr"
                )
                .run(context -> {
                    GreetingProperties properties = context.getBean(GreetingProperties.class);
                    
                    // éªŒè¯å±æ€§ç»‘å®šæ˜¯å¦æ­£ç¡®
                    assertThat(properties.getPrefix()).isEqualTo("Bonjour, ");
                    assertThat(properties.getSuffix()).isEqualTo(" mon ami!");
                    assertThat(properties.isEnabled()).isFalse();
                    assertThat(properties.getLanguage()).isEqualTo("fr");
                });
    }
}
```

### 7.3 æ¡ä»¶è£…é…æµ‹è¯•


```java
/**
 * æ¡ä»¶è£…é…æµ‹è¯•
 */
class ConditionalConfigurationTest {
    
    /**
     * æµ‹è¯•@ConditionalOnPropertyæ³¨è§£
     */
    @Test
    void testConditionalOnProperty() {
        // æµ‹è¯•enabled=trueæ—¶åˆ›å»ºBean
        new ApplicationContextRunner()
                .withConfiguration(AutoConfigurations.of(GreetingAutoConfiguration.class))
                .withPropertyValues("greeting.enabled=true")
                .run(context -> {
                    assertThat(context).hasBean("greetingService");
                });
        
        // æµ‹è¯•enabled=falseæ—¶ä¸åˆ›å»ºBean
        new ApplicationContextRunner()
                .withConfiguration(AutoConfigurations.of(GreetingAutoConfiguration.class))
                .withPropertyValues("greeting.enabled=false")
                .run(context -> {
                    assertThat(context).doesNotHaveBean("greetingService");
                });
    }
    
    /**
     * æµ‹è¯•@ConditionalOnMissingBeanæ³¨è§£
     */
    @Test
    void testConditionalOnMissingBean() {
        // æœ‰ç”¨æˆ·è‡ªå®šä¹‰Beanæ—¶ï¼Œä¸åˆ›å»ºé»˜è®¤Bean
        new ApplicationContextRunner()
                .withConfiguration(AutoConfigurations.of(GreetingAutoConfiguration.class))
                .withBean("customGreeting", GreetingService.class, 
                    () -> new GreetingService("Custom", "!"))
                .run(context -> {
                    assertThat(context).hasSingleBean(GreetingService.class);
                    GreetingService service = context.getBean(GreetingService.class);
                    assertThat(service.getPrefix()).isEqualTo("Custom");
                });
    }
}
```

### 7.4 é›†æˆæµ‹è¯•


åˆ›å»ºä¸€ä¸ªå®Œæ•´çš„æµ‹è¯•åº”ç”¨æ¥éªŒè¯Starterï¼š

```java
/**
 * å®Œæ•´çš„é›†æˆæµ‹è¯•
 */
@SpringBootTest
@TestPropertySource(properties = {
    "greeting.prefix=Integration Test: ",
    "greeting.suffix= - Success!"
})
class GreetingStarterIntegrationTest {
    
    @Autowired
    private GreetingService greetingService;
    
    @Test
    void testStarterIntegration() {
        // æµ‹è¯•Starteræ˜¯å¦æ­£ç¡®é›†æˆ
        assertThat(greetingService).isNotNull();
        
        String result = greetingService.greet("Spring Boot");
        assertThat(result).isEqualTo("Integration Test: Spring Boot - Success!");
    }
    
    /**
     * æµ‹è¯•åº”ç”¨ä¸»ç±»
     */
    @SpringBootApplication
    static class TestApplication {
        // ç©ºçš„æµ‹è¯•åº”ç”¨ç±»
    }
}
```

ğŸ§  **æµ‹è¯•ç­–ç•¥æ€»ç»“**ï¼š
- **å•å…ƒæµ‹è¯•**ï¼šæµ‹è¯•å•ä¸ªç»„ä»¶çš„åŠŸèƒ½
- **é…ç½®æµ‹è¯•**ï¼šéªŒè¯å±æ€§ç»‘å®šå’Œé»˜è®¤å€¼
- **æ¡ä»¶æµ‹è¯•**ï¼šç¡®ä¿æ¡ä»¶è£…é…æŒ‰é¢„æœŸå·¥ä½œ
- **é›†æˆæµ‹è¯•**ï¼šéªŒè¯æ•´ä¸ªStarterçš„å®Œæ•´åŠŸèƒ½

---

## 8. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 8.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ è‡ªå®šä¹‰Starter = ä¾èµ–ç®¡ç† + è‡ªåŠ¨é…ç½® + å±æ€§é…ç½®
ğŸ”¸ é¡¹ç›®ç»“æ„ï¼šstarteræ¨¡å—ï¼ˆä¾èµ–ï¼‰ + autoconfigureæ¨¡å—ï¼ˆé€»è¾‘ï¼‰
ğŸ”¸ è‡ªåŠ¨é…ç½®ï¼š@Configuration + @Bean + æ¡ä»¶è£…é…
ğŸ”¸ å±æ€§é…ç½®ï¼š@ConfigurationProperties + é»˜è®¤å€¼ + éªŒè¯
ğŸ”¸ æ¡ä»¶è£…é…ï¼šæ ¹æ®ç¯å¢ƒå’Œé…ç½®æ™ºèƒ½åˆ›å»ºBean
ğŸ”¸ æµ‹è¯•éªŒè¯ï¼šç¡®ä¿StarteræŒ‰é¢„æœŸå·¥ä½œ
```

### 8.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ ä¸ºä»€ä¹ˆè¦åˆ†ä¸¤ä¸ªæ¨¡å—**ï¼š
```
starteræ¨¡å—ï¼š
- åªç®¡ç†ä¾èµ–ï¼Œåƒ"è´­ç‰©æ¸…å•"
- è®©ç”¨æˆ·å¼•å…¥ç®€å•ï¼Œä¾èµ–æ¸…æ™°

autoconfigureæ¨¡å—ï¼š
- åŒ…å«å…·ä½“é€»è¾‘ï¼Œåƒ"ç”Ÿäº§è½¦é—´"  
- å¤æ‚çš„é…ç½®é€»è¾‘éƒ½åœ¨è¿™é‡Œ
- å¯ä»¥å•ç‹¬æµ‹è¯•å’Œç»´æŠ¤
```

**ğŸ”¹ æ¡ä»¶è£…é…çš„æ ¸å¿ƒæ€æƒ³**ï¼š
```
æ™ºèƒ½åˆ¤æ–­ï¼š
- æœ‰è¿™ä¸ªç±»å—ï¼Ÿâ†’ @ConditionalOnClass
- ç”¨æˆ·é…ç½®äº†å—ï¼Ÿâ†’ @ConditionalOnProperty  
- å·²ç»æœ‰Beanäº†å—ï¼Ÿâ†’ @ConditionalOnMissingBean

ç”¨æˆ·ä¼˜å…ˆï¼š
- ç”¨æˆ·çš„é…ç½®æ€»æ˜¯ä¼˜å…ˆäºé»˜è®¤é…ç½®
- ç»™ç”¨æˆ·ä¿ç•™è‡ªå®šä¹‰çš„çµæ´»æ€§
```

**ğŸ”¹ å±æ€§é…ç½®çš„æœ€ä½³å®è·µ**ï¼š
```
åˆç†é»˜è®¤å€¼ï¼š
- ç”¨æˆ·ä¸é…ç½®ä¹Ÿèƒ½æ­£å¸¸ä½¿ç”¨
- é»˜è®¤å€¼åº”è¯¥æ˜¯æœ€å¸¸ç”¨çš„è®¾ç½®

æ¸…æ™°å‘½åï¼š
- å±æ€§åè¦è®©äººä¸€çœ‹å°±æ‡‚
- ä½¿ç”¨æ ‡å‡†çš„å‘½åçº¦å®š

åˆ†ç»„ç®¡ç†ï¼š
- ç›¸å…³çš„å±æ€§å¯ä»¥åµŒå¥—åˆ†ç»„
- ä¾¿äºç†è§£å’Œç»´æŠ¤
```

### 8.3 å®é™…åº”ç”¨æŒ‡å¯¼


ğŸ’¼ **ä¼ä¸šçº§åº”ç”¨åœºæ™¯**ï¼š
- **ç»Ÿä¸€æ—¥å¿—**ï¼šå…¬å¸ç»Ÿä¸€çš„æ—¥å¿—æ ¼å¼å’Œè§„èŒƒ
- **ç›‘æ§ç»„ä»¶**ï¼šç»Ÿä¸€çš„æ€§èƒ½ç›‘æ§å’ŒæŠ¥è­¦
- **æ•°æ®åº“é…ç½®**ï¼šæ ‡å‡†åŒ–çš„è¿æ¥æ± å’Œäº‹åŠ¡é…ç½®
- **å®‰å…¨ç»„ä»¶**ï¼šç»Ÿä¸€çš„è®¤è¯å’Œæˆæƒæœºåˆ¶

ğŸ”§ **æŠ€æœ¯é€‰æ‹©å»ºè®®**ï¼š
- **ç®€å•åŠŸèƒ½**ï¼šå•æ¨¡å—Starterå°±å¤Ÿäº†
- **å¤æ‚åŠŸèƒ½**ï¼šå»ºè®®åˆ†ç¦»starterå’Œautoconfigure
- **ä¼ä¸šå†…éƒ¨**ï¼šå¯ä»¥åˆ›å»ºå¤šä¸ªç›¸å…³çš„Starter
- **å¼€æºé¡¹ç›®**ï¼šé‡è§†æ–‡æ¡£å’Œç¤ºä¾‹

### 8.4 å¼€å‘æµç¨‹æ€»ç»“


ğŸ”„ **å®Œæ•´å¼€å‘æµç¨‹**ï¼š
```
Step 1: è®¾è®¡åŠŸèƒ½ â†’ ç¡®å®šè¦æä¾›ä»€ä¹ˆèƒ½åŠ›
Step 2: åˆ›å»ºé¡¹ç›® â†’ å»ºç«‹æ ‡å‡†çš„é¡¹ç›®ç»“æ„  
Step 3: ç¼–å†™é…ç½® â†’ Propertiesç±»å’ŒAutoConfigurationç±»
Step 4: æ¡ä»¶è£…é… â†’ æ™ºèƒ½åˆ¤æ–­ä½•æ—¶åˆ›å»ºBean
Step 5: ç¼–å†™æµ‹è¯• â†’ ç¡®ä¿åŠŸèƒ½æ­£ç¡®
Step 6: æ‰“åŒ…å‘å¸ƒ â†’ è®©å…¶ä»–é¡¹ç›®å¯ä»¥ä½¿ç”¨
```

### 8.5 å¸¸è§é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ


â“ **å¸¸è§é—®é¢˜FAQ**ï¼š

**Q: ä¸ºä»€ä¹ˆæˆ‘çš„è‡ªåŠ¨é…ç½®ä¸ç”Ÿæ•ˆï¼Ÿ**
**A:** æ£€æŸ¥spring.factoriesæ–‡ä»¶è·¯å¾„å’Œå†…å®¹æ˜¯å¦æ­£ç¡®

**Q: å¦‚ä½•è®©ç”¨æˆ·çš„é…ç½®è¦†ç›–é»˜è®¤é…ç½®ï¼Ÿ**
**A:** ä½¿ç”¨@ConditionalOnMissingBeanæ³¨è§£

**Q: å±æ€§é…ç½®ä¸ç”Ÿæ•ˆæ€ä¹ˆåŠï¼Ÿ**
**A:** ç¡®ä¿ä½¿ç”¨äº†@EnableConfigurationPropertiesæ³¨è§£

**Q: å¦‚ä½•è°ƒè¯•è‡ªåŠ¨é…ç½®è¿‡ç¨‹ï¼Ÿ**
**A:** åœ¨application.propertiesä¸­æ·»åŠ logging.level.root=DEBUG

ğŸ§  **è®°å¿†å£è¯€**ï¼š
```
"Starterå¥½æ¯”å·¥å…·åŒ…ï¼Œä¾èµ–é…ç½®å…¨éƒ½æœ‰
autoconfigureæ˜¯æ ¸å¿ƒï¼ŒBeançš„åˆ›å»ºå®ƒæ¥ç®¡  
å±æ€§é…ç½®è¦é»˜è®¤ï¼Œç”¨æˆ·è‡ªå®šä¹‰ä¼˜å…ˆçº§
æ¡ä»¶è£…é…æ™ºèƒ½åŒ–ï¼Œç¯å¢ƒé€‚é…å¾ˆé‡è¦
æµ‹è¯•éªŒè¯ä¸èƒ½å°‘ï¼ŒåŠŸèƒ½æ­£ç¡®æ‰å‘å¸ƒ"
```

**æ ¸å¿ƒä»·å€¼ä½“ç°**ï¼š
- **æå‡æ•ˆç‡**ï¼šå‡å°‘é‡å¤é…ç½®ï¼Œè®©å¼€å‘æ›´ä¸“æ³¨ä¸šåŠ¡
- **ç»Ÿä¸€æ ‡å‡†**ï¼šç¡®ä¿å›¢é˜Ÿä½¿ç”¨ç›¸åŒçš„æŠ€æœ¯æ ˆå’Œè§„èŒƒ
- **é™ä½é—¨æ§›**ï¼šæ–°äººå¯ä»¥å¿«é€Ÿä¸Šæ‰‹ï¼Œæ— éœ€æ·±å…¥äº†è§£åº•å±‚
- **æ˜“äºç»´æŠ¤**ï¼šé›†ä¸­ç®¡ç†é…ç½®ï¼Œå‡çº§ç»´æŠ¤æ›´æ–¹ä¾¿