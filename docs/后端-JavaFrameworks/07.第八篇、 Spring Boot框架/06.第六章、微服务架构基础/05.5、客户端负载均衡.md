---
title: 5ã€å®¢æˆ·ç«¯è´Ÿè½½å‡è¡¡
---
## ğŸ“š ç›®å½•

1. [ä»€ä¹ˆæ˜¯å®¢æˆ·ç«¯è´Ÿè½½å‡è¡¡](#1-ä»€ä¹ˆæ˜¯å®¢æˆ·ç«¯è´Ÿè½½å‡è¡¡)
2. [Ribbonè´Ÿè½½å‡è¡¡è¯¦è§£](#2-Ribbonè´Ÿè½½å‡è¡¡è¯¦è§£)
3. [Spring Cloud LoadBalanceræ·±å…¥](#3-Spring-Cloud-LoadBalanceræ·±å…¥)
4. [è´Ÿè½½å‡è¡¡ç­–ç•¥é€‰æ‹©æŒ‡å—](#4-è´Ÿè½½å‡è¡¡ç­–ç•¥é€‰æ‹©æŒ‡å—)
5. [æœåŠ¡æƒé‡é…ç½®å®æˆ˜](#5-æœåŠ¡æƒé‡é…ç½®å®æˆ˜)
6. [æ•…éšœè½¬ç§»æœºåˆ¶è¯¦è§£](#6-æ•…éšœè½¬ç§»æœºåˆ¶è¯¦è§£)
7. [è´Ÿè½½å‡è¡¡ç›‘æ§ä¸è°ƒä¼˜](#7-è´Ÿè½½å‡è¡¡ç›‘æ§ä¸è°ƒä¼˜)
8. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#8-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ¯ ä»€ä¹ˆæ˜¯å®¢æˆ·ç«¯è´Ÿè½½å‡è¡¡


### 1.1 è´Ÿè½½å‡è¡¡çš„ä¸¤ç§æ¨¡å¼


**æƒ³è±¡ä¸€ä¸ªåœºæ™¯**ï¼šä½ å»é¤å…åƒé¥­ï¼Œæœ‰ä¸¤ç§æƒ…å†µ
- **æœåŠ¡å™¨ç«¯è´Ÿè½½å‡è¡¡**ï¼šé—¨å£æœ‰ä¸ªæœåŠ¡å‘˜ï¼Œä»–å†³å®šæŠŠä½ å®‰æ’åˆ°å“ªä¸ªé¤æ¡Œ
- **å®¢æˆ·ç«¯è´Ÿè½½å‡è¡¡**ï¼šä½ è‡ªå·±çœ‹å“ªä¸ªé¤æ¡Œäººå°‘ï¼Œè‡ªå·±é€‰æ‹©åå“ªé‡Œ

```
ä¼ ç»Ÿè´Ÿè½½å‡è¡¡ï¼ˆæœåŠ¡å™¨ç«¯ï¼‰ï¼š
å®¢æˆ·ç«¯ â†’ è´Ÿè½½å‡è¡¡å™¨ â†’ é€‰æ‹©æœåŠ¡å™¨ â†’ è½¬å‘è¯·æ±‚

å¾®æœåŠ¡è´Ÿè½½å‡è¡¡ï¼ˆå®¢æˆ·ç«¯ï¼‰ï¼š
å®¢æˆ·ç«¯ â†’ è‡ªå·±é€‰æ‹©æœåŠ¡å™¨ â†’ ç›´æ¥å‘é€è¯·æ±‚
```

> ğŸ’¡ **æ ¸å¿ƒç†è§£**ï¼šå®¢æˆ·ç«¯è´Ÿè½½å‡è¡¡å°±æ˜¯è®©è°ƒç”¨æ–¹è‡ªå·±å†³å®šè¦è®¿é—®å“ªä¸ªæœåŠ¡å®ä¾‹ï¼Œè€Œä¸æ˜¯é€šè¿‡ä¸­é—´çš„è´Ÿè½½å‡è¡¡å™¨æ¥å†³å®šã€‚

### 1.2 å®¢æˆ·ç«¯è´Ÿè½½å‡è¡¡çš„å·¥ä½œæµç¨‹


**ç®€å•ç†è§£çš„å·¥ä½œæ­¥éª¤**ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    1.è·å–æœåŠ¡åˆ—è¡¨    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   å®¢æˆ·ç«¯    â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ â”‚  æ³¨å†Œä¸­å¿ƒ    â”‚
â”‚(è®¢å•æœåŠ¡)   â”‚                    â”‚  (Eureka)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â”‚ 2.æœ¬åœ°é€‰æ‹©ç®—æ³•
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç”¨æˆ·æœåŠ¡-1  â”‚ â† 3.ç›´æ¥è°ƒç”¨
â”‚  ç”¨æˆ·æœåŠ¡-2  â”‚
â”‚  ç”¨æˆ·æœåŠ¡-3  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**è¯¦ç»†æµç¨‹è¯´æ˜**ï¼š
1. **æœåŠ¡å‘ç°**ï¼šå®¢æˆ·ç«¯ä»æ³¨å†Œä¸­å¿ƒè·å–å¯ç”¨çš„æœåŠ¡å®ä¾‹åˆ—è¡¨
2. **æœ¬åœ°é€‰æ‹©**ï¼šä½¿ç”¨è´Ÿè½½å‡è¡¡ç®—æ³•åœ¨å®¢æˆ·ç«¯æœ¬åœ°é€‰æ‹©ä¸€ä¸ªå®ä¾‹
3. **ç›´æ¥è°ƒç”¨**ï¼šå®¢æˆ·ç«¯ç›´æ¥å‘é€‰ä¸­çš„æœåŠ¡å®ä¾‹å‘èµ·è¯·æ±‚

### 1.3 å®¢æˆ·ç«¯ vs æœåŠ¡å™¨ç«¯è´Ÿè½½å‡è¡¡å¯¹æ¯”


| **å¯¹æ¯”ç»´åº¦** | **å®¢æˆ·ç«¯è´Ÿè½½å‡è¡¡** | **æœåŠ¡å™¨ç«¯è´Ÿè½½å‡è¡¡** |
|-------------|------------------|-------------------|
| **éƒ¨ç½²ä½ç½®** | é›†æˆåœ¨å®¢æˆ·ç«¯åº”ç”¨ä¸­ | ç‹¬ç«‹çš„è´Ÿè½½å‡è¡¡å™¨ |
| **ç½‘ç»œè·³æ•°** | 1è·³(ç›´æ¥è®¿é—®) | 2è·³(ç»è¿‡è´Ÿè½½å‡è¡¡å™¨) |
| **æ€§èƒ½å¼€é”€** | è¾ƒä½(æ— ç½‘ç»œè½¬å‘) | è¾ƒé«˜(é¢å¤–ç½‘ç»œè½¬å‘) |
| **æ•…éšœç‚¹** | æœåŠ¡å®ä¾‹æ•…éšœ | è´Ÿè½½å‡è¡¡å™¨+æœåŠ¡å®ä¾‹ |
| **é…ç½®å¤æ‚åº¦** | éœ€è¦å®¢æˆ·ç«¯é…ç½® | é›†ä¸­é…ç½®ç®¡ç† |
| **é€‚ç”¨åœºæ™¯** | å¾®æœåŠ¡å†…éƒ¨è°ƒç”¨ | å¤–éƒ¨å®¢æˆ·ç«¯è®¿é—® |

> ğŸ¯ **å®é™…åº”ç”¨**ï¼šåœ¨å¾®æœåŠ¡æ¶æ„ä¸­ï¼ŒæœåŠ¡ä¹‹é—´çš„è°ƒç”¨é€šå¸¸ä½¿ç”¨å®¢æˆ·ç«¯è´Ÿè½½å‡è¡¡ï¼Œè€Œå¤–éƒ¨ç”¨æˆ·è®¿é—®åˆ™ä½¿ç”¨æœåŠ¡å™¨ç«¯è´Ÿè½½å‡è¡¡ï¼ˆå¦‚Nginxï¼‰ã€‚

---

## 2. âš–ï¸ Ribbonè´Ÿè½½å‡è¡¡è¯¦è§£


### 2.1 Ribbonæ˜¯ä»€ä¹ˆ


**é€šä¿—è§£é‡Š**ï¼šRibbonå°±åƒæ˜¯ä½ æ‰‹æœºé‡Œçš„åœ°å›¾å¯¼èˆªè½¯ä»¶ï¼Œå½“ä½ è¦å»æŸä¸ªåœ°æ–¹æ—¶ï¼Œå®ƒä¼šæ ¹æ®ä¸åŒçš„ç­–ç•¥ï¼ˆæœ€çŸ­è·¯å¾„ã€é¿å¼€æ‹¥å µç­‰ï¼‰å¸®ä½ é€‰æ‹©æœ€åˆé€‚çš„è·¯çº¿ã€‚

> ğŸ“Œ **é‡è¦æç¤º**ï¼šSpring Boot 2.4ç‰ˆæœ¬å¼€å§‹ï¼ŒNetflix Ribbonè¿›å…¥ç»´æŠ¤æ¨¡å¼ï¼ŒSpringå®˜æ–¹æ¨èä½¿ç”¨Spring Cloud LoadBalancerã€‚ä½†äº†è§£Ribbonä»ç„¶é‡è¦ï¼Œå› ä¸ºå¾ˆå¤šé¡¹ç›®è¿˜åœ¨ä½¿ç”¨ã€‚

### 2.2 Ribbonçš„æ ¸å¿ƒç»„ä»¶


```
Ribbonæ¶æ„ç»„æˆï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Ribbonå®¢æˆ·ç«¯               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   æœåŠ¡åˆ—è¡¨   â”‚  è´Ÿè½½å‡è¡¡å™¨  â”‚   é‡è¯•æœºåˆ¶   â”‚
â”‚  (ServerList)â”‚   (Rule)   â”‚ (RetryHandler)â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   å¥åº·æ£€æŸ¥   â”‚   ç»Ÿè®¡ä¿¡æ¯   â”‚   é…ç½®ç®¡ç†   â”‚
â”‚   (Ping)    â”‚ (ServerStats)â”‚  (Config)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ ¸å¿ƒç»„ä»¶ä½œç”¨**ï¼š
- **ServerList**ï¼šç»´æŠ¤å¯ç”¨çš„æœåŠ¡å®ä¾‹åˆ—è¡¨
- **Rule**ï¼šè´Ÿè½½å‡è¡¡ç®—æ³•ï¼Œå†³å®šé€‰æ‹©å“ªä¸ªæœåŠ¡å®ä¾‹
- **Ping**ï¼šæ£€æŸ¥æœåŠ¡å®ä¾‹æ˜¯å¦å¥åº·å¯ç”¨
- **ServerStats**ï¼šè®°å½•æœåŠ¡å®ä¾‹çš„ç»Ÿè®¡ä¿¡æ¯

### 2.3 Ribbonè´Ÿè½½å‡è¡¡ç®—æ³•è¯¦è§£


**1ï¸âƒ£ è½®è¯¢ç®—æ³•(RoundRobinRule)**

```
æœåŠ¡å®ä¾‹ï¼š[A, B, C]
è¯·æ±‚é¡ºåºï¼šA â†’ B â†’ C â†’ A â†’ B â†’ C...

å°±åƒæ’é˜Ÿä¹°ç¥¨ï¼ŒæŒ‰é¡ºåºä¸€ä¸ªä¸€ä¸ªæ¥
```

**2ï¸âƒ£ éšæœºç®—æ³•(RandomRule)**

```
æœåŠ¡å®ä¾‹ï¼š[A, B, C]  
è¯·æ±‚åˆ†å¸ƒï¼šéšæœºé€‰æ‹©ï¼Œå¯èƒ½æ˜¯ B â†’ A â†’ C â†’ A â†’ B...

å°±åƒæŠ½ç­¾ï¼Œæ¯æ¬¡éƒ½æ˜¯éšæœºé€‰æ‹©
```

**3ï¸âƒ£ æƒé‡å“åº”æ—¶é—´(WeightedResponseTimeRule)**

```
æœåŠ¡å®ä¾‹å“åº”æ—¶é—´ï¼š
AæœåŠ¡ï¼š100ms  æƒé‡é«˜ â†‘
BæœåŠ¡ï¼š200ms  æƒé‡ä¸­ â†’  
CæœåŠ¡ï¼š500ms  æƒé‡ä½ â†“

å“åº”è¶Šå¿«ï¼Œè¢«é€‰ä¸­çš„æ¦‚ç‡è¶Šé«˜
```

**4ï¸âƒ£ æœ€å°‘å¹¶å‘(BestAvailableRule)**

```
å½“å‰å¹¶å‘è¯·æ±‚æ•°ï¼š
AæœåŠ¡ï¼š5ä¸ªè¯·æ±‚  
BæœåŠ¡ï¼š2ä¸ªè¯·æ±‚  â† é€‰æ‹©è¿™ä¸ª
CæœåŠ¡ï¼š8ä¸ªè¯·æ±‚

é€‰æ‹©å½“å‰å¤„ç†è¯·æ±‚æœ€å°‘çš„æœåŠ¡
```

> ğŸ’¡ **é€‰æ‹©å»ºè®®**ï¼š
> - **æ–°æ‰‹æ¨è**ï¼šè½®è¯¢ç®—æ³•ï¼Œç®€å•ç¨³å®š
> - **æ€§èƒ½ä¼˜åŒ–**ï¼šæƒé‡å“åº”æ—¶é—´ç®—æ³•  
> - **é«˜å¹¶å‘åœºæ™¯**ï¼šæœ€å°‘å¹¶å‘ç®—æ³•

### 2.4 Ribbonç®€å•é…ç½®ç¤ºä¾‹


```yaml
# application.yml
user-service:  # æœåŠ¡åç§°
  ribbon:
    NFLoadBalancerRuleClassName: com.netflix.loadbalancer.RandomRule
    ConnectTimeout: 1000      # è¿æ¥è¶…æ—¶æ—¶é—´
    ReadTimeout: 3000        # è¯»å–è¶…æ—¶æ—¶é—´
    MaxAutoRetries: 1        # å¯¹åŒä¸€æœåŠ¡å™¨é‡è¯•æ¬¡æ•°
    MaxAutoRetriesNextServer: 2  # åˆ‡æ¢æœåŠ¡å™¨é‡è¯•æ¬¡æ•°
```

---

## 3. ğŸš€ Spring Cloud LoadBalanceræ·±å…¥


### 3.1 ä¸ºä»€ä¹ˆè¦ä»Ribbonè¿ç§»åˆ°LoadBalancer


**å‘å±•å†ç¨‹å¯¹æ¯”**ï¼š

```
Netflix Ribbon (æ—§æ—¶ä»£)     Spring Cloud LoadBalancer (æ–°æ—¶ä»£)
       â†“                              â†“
   åŠŸèƒ½å¤æ‚                        è½»é‡çº§è®¾è®¡
   ç»´æŠ¤åœæ­¢                        æŒç»­ç»´æŠ¤  
   ä¾èµ–è¾ƒå¤š                        ä¾èµ–ç²¾ç®€
   é…ç½®å¤æ‚                        é…ç½®ç®€åŒ–
```

> ğŸ“ˆ **å‘å±•è¶‹åŠ¿**ï¼šSpringå®˜æ–¹åœ¨2020å¹´åå…¨é¢æ¨èLoadBalancerï¼Œå®ƒæ›´è½»é‡ã€æ›´æ˜“ç»´æŠ¤ï¼Œæ˜¯æœªæ¥çš„å‘å±•æ–¹å‘ã€‚

### 3.2 LoadBalanceræ ¸å¿ƒç‰¹æ€§


**ğŸ”¸ è½»é‡çº§è®¾è®¡**
- ç§»é™¤äº†ä¸å¸¸ç”¨çš„åŠŸèƒ½ï¼Œä¸“æ³¨æ ¸å¿ƒè´Ÿè½½å‡è¡¡
- å¯åŠ¨æ›´å¿«ï¼Œå†…å­˜å ç”¨æ›´å°‘
- ä»£ç æ›´ç®€æ´ï¼Œæ˜“äºç†è§£å’Œç»´æŠ¤

**ğŸ”¸ ååº”å¼ç¼–ç¨‹æ”¯æŒ**
```java
// æ”¯æŒWebFluxååº”å¼ç¼–ç¨‹
@LoadBalanced
private WebClient.Builder webClientBuilder;

// å¼‚æ­¥è°ƒç”¨ç¤ºä¾‹
public Mono<User> getUserAsync(Long userId) {
    return webClientBuilder.build()
        .get()
        .uri("http://user-service/users/" + userId)
        .retrieve()
        .bodyToMono(User.class);
}
```

### 3.3 LoadBalancerçš„è´Ÿè½½å‡è¡¡ç®—æ³•


**1ï¸âƒ£ è½®è¯¢ç®—æ³•(RoundRobin) - é»˜è®¤**

```java
// è‡ªåŠ¨é…ç½®ï¼Œæ— éœ€é¢å¤–ä»£ç 
@Configuration
public class LoadBalancerConfig {
    // é»˜è®¤å°±æ˜¯è½®è¯¢ï¼Œä¸éœ€è¦ç‰¹åˆ«é…ç½®
}
```

**2ï¸âƒ£ éšæœºç®—æ³•(Random)**

```java
@Configuration
public class LoadBalancerConfig {
    
    @Bean
    public ReactorLoadBalancer<ServiceInstance> randomLoadBalancer(
            Environment environment, 
            LoadBalancerClientFactory loadBalancerClientFactory) {
        String name = environment.getProperty(LoadBalancerClientFactory.PROPERTY_NAME);
        return new RandomLoadBalancer(
            loadBalancerClientFactory.getLazyProvider(name, ServiceInstanceListSupplier.class),
            name);
    }
}
```

### 3.4 LoadBalanceré…ç½®æ–¹å¼


**æ–¹å¼1ï¼šå…¨å±€é…ç½®**

```yaml
# application.yml
spring:
  cloud:
    loadbalancer:
      retry:
        enabled: true
        max-retries-on-same-service-instance: 1
        max-retries-on-next-service-instance: 2
        retry-on-all-operations: false
```

**æ–¹å¼2ï¼šé’ˆå¯¹ç‰¹å®šæœåŠ¡é…ç½®**

```java
@Configuration
public class UserServiceLoadBalancerConfig {
    
    @Bean
    @LoadBalanced
    public WebClient.Builder loadBalancedWebClientBuilder() {
        return WebClient.builder();
    }
}
```

> ğŸ¯ **é…ç½®å»ºè®®**ï¼šå¯¹äºæ–°é¡¹ç›®ï¼Œç›´æ¥ä½¿ç”¨LoadBalancerï¼›å¯¹äºè€é¡¹ç›®ï¼Œå¯ä»¥é€æ­¥è¿ç§»ã€‚

---

## 4. ğŸ“‹ è´Ÿè½½å‡è¡¡ç­–ç•¥é€‰æ‹©æŒ‡å—


### 4.1 ä¸åŒåœºæ™¯çš„ç­–ç•¥é€‰æ‹©


**ğŸ¢ ä¸šåŠ¡åœºæ™¯åˆ†æ**

| **ä¸šåŠ¡ç‰¹ç‚¹** | **æ¨èç­–ç•¥** | **é€‰æ‹©ç†ç”±** |
|-------------|-------------|-------------|
| **æ™®é€šCRUDæ“ä½œ** | è½®è¯¢ç®—æ³• | è¯·æ±‚å¤„ç†æ—¶é—´ç›¸è¿‘ï¼Œå¹³å‡åˆ†é…æœ€å…¬å¹³ |
| **è®¡ç®—å¯†é›†å‹æœåŠ¡** | æƒé‡å“åº”æ—¶é—´ | æ€§èƒ½å·®å¼‚å¤§ï¼Œéœ€è¦æ ¹æ®å“åº”èƒ½åŠ›åˆ†é… |
| **IOå¯†é›†å‹æœåŠ¡** | æœ€å°‘è¿æ¥æ•° | é¿å…æŸä¸ªå®ä¾‹è¿æ¥è¿‡å¤šé€ æˆé˜»å¡ |
| **æ‰¹å¤„ç†æœåŠ¡** | éšæœºç®—æ³• | é¿å…æ‰€æœ‰è¯·æ±‚éƒ½æ‰“åˆ°åŒä¸€ä¸ªå®ä¾‹ |
| **å®æ—¶æ€§è¦æ±‚é«˜** | è‡ªå®šä¹‰ç­–ç•¥ | æ ¹æ®å®æ—¶ç›‘æ§æŒ‡æ ‡åŠ¨æ€é€‰æ‹© |

### 4.2 ç­–ç•¥é€‰æ‹©çš„å†³ç­–æ ‘


```
å¼€å§‹é€‰æ‹©è´Ÿè½½å‡è¡¡ç­–ç•¥
         â†“
   æœåŠ¡æ€§èƒ½æ˜¯å¦ç›¸ä¼¼ï¼Ÿ
    â”œâ”€ æ˜¯ â†’ ä½¿ç”¨è½®è¯¢ç®—æ³•
    â””â”€ å¦ â†“
         æœåŠ¡æœ‰æ˜æ˜¾æ€§èƒ½å·®å¼‚ï¼Ÿ
         â”œâ”€ æ˜¯ â†’ ä½¿ç”¨æƒé‡ç®—æ³•
         â””â”€ å¦ â†“
              è¯·æ±‚å¤„ç†æ—¶é—´å·®å¼‚å¤§ï¼Ÿ
              â”œâ”€ æ˜¯ â†’ ä½¿ç”¨å“åº”æ—¶é—´ç®—æ³•  
              â””â”€ å¦ â†’ ä½¿ç”¨éšæœºç®—æ³•
```

### 4.3 å®é™…åº”ç”¨åœºæ™¯ä¸¾ä¾‹


**åœºæ™¯1ï¼šç”µå•†è®¢å•æœåŠ¡**
```yaml
# è®¢å•é‡å¤§ï¼Œå¤„ç†æ—¶é—´ç›¸è¿‘ï¼Œä½¿ç”¨è½®è¯¢
order-service:
  ribbon:
    NFLoadBalancerRuleClassName: com.netflix.loadbalancer.RoundRobinRule
```

**åœºæ™¯2ï¼šå›¾ç‰‡å¤„ç†æœåŠ¡**
```yaml
# å¤„ç†æ—¶é—´å·®å¼‚å¤§ï¼Œä½¿ç”¨å“åº”æ—¶é—´æƒé‡
image-service:
  ribbon:
    NFLoadBalancerRuleClassName: com.netflix.loadbalancer.WeightedResponseTimeRule
```

> ğŸ’¡ **å®æˆ˜ç»éªŒ**ï¼šå¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œè½®è¯¢ç®—æ³•å°±è¶³å¤Ÿäº†ã€‚åªæœ‰åœ¨æœåŠ¡æ€§èƒ½å·®å¼‚æ˜æ˜¾æˆ–æœ‰ç‰¹æ®Šéœ€æ±‚æ—¶ï¼Œæ‰è€ƒè™‘å…¶ä»–ç­–ç•¥ã€‚

---

## 5. âš–ï¸ æœåŠ¡æƒé‡é…ç½®å®æˆ˜


### 5.1 ä»€ä¹ˆæ˜¯æœåŠ¡æƒé‡


**ç”Ÿæ´»åŒ–ç†è§£**ï¼šå°±åƒåˆ†è›‹ç³•ï¼Œæ€§èƒ½å¥½çš„æœåŠ¡å™¨åˆ†å¾—å¤šä¸€ç‚¹ï¼Œæ€§èƒ½å·®çš„åˆ†å¾—å°‘ä¸€ç‚¹ã€‚

```
æœåŠ¡å™¨é…ç½®å¯¹æ¯”ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æœåŠ¡å™¨A: 8æ ¸16G  æƒé‡:50  è¯·æ±‚é‡:50%   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  
â”‚  æœåŠ¡å™¨B: 4æ ¸8G   æƒé‡:30  è¯·æ±‚é‡:30%   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æœåŠ¡å™¨C: 2æ ¸4G   æƒé‡:20  è¯·æ±‚é‡:20%   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.2 Nacosæƒé‡é…ç½®


**åœ¨Nacosæ§åˆ¶å°é…ç½®æƒé‡**ï¼š

```yaml
# æœåŠ¡æ³¨å†Œæ—¶è®¾ç½®æƒé‡
spring:
  cloud:
    nacos:
      discovery:
        server-addr: localhost:8848
        metadata:
          weight: 100  # æƒé‡å€¼ï¼Œæ•°å€¼è¶Šå¤§æƒé‡è¶Šé«˜
          version: v1.0
```

**åŠ¨æ€è°ƒæ•´æƒé‡**ï¼š
1. ç™»å½•Nacosæ§åˆ¶å°
2. æ‰¾åˆ°å¯¹åº”çš„æœåŠ¡å®ä¾‹
3. ç‚¹å‡»"ç¼–è¾‘"æŒ‰é’®
4. ä¿®æ”¹æƒé‡å€¼ï¼ˆ0-100ï¼‰
5. ä¿å­˜ç”Ÿæ•ˆ

### 5.3 è‡ªå®šä¹‰æƒé‡è´Ÿè½½å‡è¡¡


```java
@Component
public class CustomWeightLoadBalancer {
    
    // æ ¹æ®æœåŠ¡å…ƒæ•°æ®ä¸­çš„æƒé‡è¿›è¡Œè´Ÿè½½å‡è¡¡
    public ServiceInstance choose(List<ServiceInstance> instances) {
        
        // è®¡ç®—æ€»æƒé‡
        int totalWeight = instances.stream()
            .mapToInt(instance -> {
                String weight = instance.getMetadata().get("weight");
                return weight != null ? Integer.parseInt(weight) : 1;
            })
            .sum();
            
        // éšæœºæ•°é€‰æ‹©
        Random random = new Random();
        int randomWeight = random.nextInt(totalWeight);
        
        // æ ¹æ®æƒé‡é€‰æ‹©å®ä¾‹
        int currentWeight = 0;
        for (ServiceInstance instance : instances) {
            String weight = instance.getMetadata().get("weight");
            int instanceWeight = weight != null ? Integer.parseInt(weight) : 1;
            currentWeight += instanceWeight;
            
            if (randomWeight < currentWeight) {
                return instance;
            }
        }
        
        return instances.get(0); // å…œåº•ç­–ç•¥
    }
}
```

> ğŸ¯ **é…ç½®å»ºè®®**ï¼š
> - **æ–°éƒ¨ç½²çš„æœåŠ¡**ï¼šè®¾ç½®è¾ƒå°æƒé‡ï¼Œè§‚å¯Ÿç¨³å®šæ€§
> - **æ€§èƒ½æµ‹è¯•å**ï¼šæ ¹æ®å®é™…å¤„ç†èƒ½åŠ›è°ƒæ•´æƒé‡
> - **æ•…éšœæ¢å¤å**ï¼šé€æ­¥æé«˜æƒé‡ï¼Œé¿å…ç¬é—´æµé‡å†²å‡»

---

## 6. ğŸ›¡ï¸ æ•…éšœè½¬ç§»æœºåˆ¶è¯¦è§£


### 6.1 æ•…éšœè½¬ç§»æ˜¯ä»€ä¹ˆ


**å½¢è±¡æ¯”å–»**ï¼šå°±åƒå¼€è½¦æ—¶ï¼Œå¦‚æœå‰é¢çš„è·¯å µäº†ï¼Œå¯¼èˆªä¼šè‡ªåŠ¨å¸®ä½ æ‰¾å¦ä¸€æ¡è·¯ã€‚è´Ÿè½½å‡è¡¡çš„æ•…éšœè½¬ç§»ä¹Ÿæ˜¯ä¸€æ ·ï¼Œå¦‚æœä¸€ä¸ªæœåŠ¡æŒ‚äº†ï¼Œè‡ªåŠ¨è½¬åˆ°å…¶ä»–æ­£å¸¸çš„æœåŠ¡ã€‚

```
æ­£å¸¸æƒ…å†µï¼š
å®¢æˆ·ç«¯ â†’ æœåŠ¡A âœ“ (æ­£å¸¸å“åº”)

æ•…éšœè½¬ç§»ï¼š
å®¢æˆ·ç«¯ â†’ æœåŠ¡A âœ— (è¿æ¥å¤±è´¥)
       â†“ è‡ªåŠ¨åˆ‡æ¢
       â†’ æœåŠ¡B âœ“ (æ­£å¸¸å“åº”)
```

### 6.2 æ•…éšœæ£€æµ‹æœºåˆ¶


**1ï¸âƒ£ è¿æ¥è¶…æ—¶æ£€æµ‹**

```yaml
# è¿æ¥è¶…æ—¶é…ç½®
ribbon:
  ConnectTimeout: 2000    # è¿æ¥è¶…æ—¶2ç§’
  ReadTimeout: 5000       # è¯»å–è¶…æ—¶5ç§’
```

**2ï¸âƒ£ å¥åº·æ£€æŸ¥æœºåˆ¶**

```java
// Spring Boot Actuatorå¥åº·æ£€æŸ¥
@Component
public class CustomHealthIndicator implements HealthIndicator {
    
    @Override
    public Health health() {
        // æ£€æŸ¥æ•°æ®åº“è¿æ¥ã€å¤–éƒ¨æœåŠ¡ç­‰
        boolean healthy = checkDatabaseConnection() && checkExternalService();
        
        if (healthy) {
            return Health.up()
                .withDetail("database", "è¿æ¥æ­£å¸¸")
                .withDetail("external-service", "æœåŠ¡æ­£å¸¸")
                .build();
        } else {
            return Health.down()
                .withDetail("database", "è¿æ¥å¼‚å¸¸")
                .build();
        }
    }
    
    private boolean checkDatabaseConnection() {
        // å®é™…çš„æ•°æ®åº“è¿æ¥æ£€æŸ¥é€»è¾‘
        return true;
    }
    
    private boolean checkExternalService() {
        // å®é™…çš„å¤–éƒ¨æœåŠ¡æ£€æŸ¥é€»è¾‘  
        return true;
    }
}
```

### 6.3 é‡è¯•æœºåˆ¶é…ç½®


**Ribboné‡è¯•é…ç½®**ï¼š

```yaml
# é‡è¯•ç­–ç•¥é…ç½®
user-service:
  ribbon:
    # åŒä¸€ä¸ªå®ä¾‹é‡è¯•æ¬¡æ•°ï¼ˆä¸åŒ…æ‹¬ç¬¬ä¸€æ¬¡è°ƒç”¨ï¼‰
    MaxAutoRetries: 1
    # åˆ‡æ¢å®ä¾‹é‡è¯•æ¬¡æ•°
    MaxAutoRetriesNextServer: 2  
    # æ˜¯å¦å¯¹æ‰€æœ‰æ“ä½œè¿›è¡Œé‡è¯•
    OkToRetryOnAllOperations: false
    # é‡è¯•çš„HTTPçŠ¶æ€ç 
    retryableStatusCodes: 404,502
```

**Spring Retryé…ç½®**ï¼š

```java
@Configuration
@EnableRetry
public class RetryConfig {
    
    @Bean
    @LoadBalanced
    public RestTemplate restTemplate() {
        return new RestTemplate();
    }
    
    // ä½¿ç”¨æ³¨è§£é…ç½®é‡è¯•
    @Retryable(
        value = {ConnectException.class, SocketTimeoutException.class},
        maxAttempts = 3,
        backoff = @Backoff(delay = 1000, multiplier = 2)
    )
    public String callUserService(Long userId) {
        return restTemplate.getForObject(
            "http://user-service/users/" + userId, 
            String.class);
    }
    
    // é‡è¯•å¤±è´¥åçš„å›è°ƒæ–¹æ³•
    @Recover
    public String recoverCallUserService(Exception ex, Long userId) {
        return "ç”¨æˆ·æœåŠ¡æš‚æ—¶ä¸å¯ç”¨ï¼Œè¯·ç¨åé‡è¯•";
    }
}
```

### 6.4 ç†”æ–­å™¨é›†æˆ


**Hystrixç†”æ–­å™¨**ï¼š

```java
@Component
public class UserServiceClient {
    
    @Autowired
    private RestTemplate restTemplate;
    
    // ç†”æ–­å™¨é…ç½®
    @HystrixCommand(
        fallbackMethod = "getUserFallback",
        commandProperties = {
            @HystrixProperty(name = "circuitBreaker.enabled", value = "true"),
            @HystrixProperty(name = "circuitBreaker.requestVolumeThreshold", value = "10"),
            @HystrixProperty(name = "circuitBreaker.errorThresholdPercentage", value = "50"),
            @HystrixProperty(name = "circuitBreaker.sleepWindowInMilliseconds", value = "10000")
        }
    )
    public User getUser(Long userId) {
        return restTemplate.getForObject(
            "http://user-service/users/" + userId, 
            User.class);
    }
    
    // é™çº§æ–¹æ³•
    public User getUserFallback(Long userId) {
        User defaultUser = new User();
        defaultUser.setId(userId);
        defaultUser.setName("é»˜è®¤ç”¨æˆ·");
        return defaultUser;
    }
}
```

> ğŸ’¡ **æ•…éšœè½¬ç§»ç­–ç•¥**ï¼š
> - **å¿«é€Ÿå¤±è´¥**ï¼šè¿æ¥è¶…æ—¶è®¾ç½®ä¸è¦å¤ªé•¿
> - **åˆç†é‡è¯•**ï¼šé‡è¯•æ¬¡æ•°ä¸è¦è¿‡å¤šï¼Œé¿å…é›ªå´©
> - **ç†”æ–­ä¿æŠ¤**ï¼šé…ç½®ç†”æ–­å™¨ï¼Œä¿æŠ¤ç³»ç»Ÿä¸è¢«æ‹–å®

---

## 7. ğŸ“Š è´Ÿè½½å‡è¡¡ç›‘æ§ä¸è°ƒä¼˜


### 7.1 ç›‘æ§æŒ‡æ ‡ä½“ç³»


**æ ¸å¿ƒç›‘æ§ç»´åº¦**ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              ç›‘æ§æŒ‡æ ‡ä½“ç³»               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  è¯·æ±‚æŒ‡æ ‡  â”‚  æ€§èƒ½æŒ‡æ ‡  â”‚    å¥åº·æŒ‡æ ‡     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ è¯·æ±‚æ€»æ•°   â”‚ å“åº”æ—¶é—´   â”‚   æˆåŠŸç‡       â”‚
â”‚ æ¯ç§’è¯·æ±‚æ•° â”‚ ååé‡    â”‚   é”™è¯¯ç‡       â”‚  
â”‚ å¹¶å‘æ•°    â”‚ CPUä½¿ç”¨ç‡ â”‚   å¯ç”¨æ€§       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 7.2 Micrometerç›‘æ§é›†æˆ


**æ·»åŠ ç›‘æ§ä¾èµ–**ï¼š

```xml
<dependency>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-starter-actuator</artifactId>
</dependency>
<dependency>
    <groupId>io.micrometer</groupId>
    <artifactId>micrometer-registry-prometheus</artifactId>
</dependency>
```

**ç›‘æ§é…ç½®**ï¼š

```yaml
# actuatorç›‘æ§é…ç½®
management:
  endpoints:
    web:
      exposure:
        include: health,info,metrics,prometheus
  endpoint:
    health:
      show-details: always
  metrics:
    export:
      prometheus:
        enabled: true
```

### 7.3 è‡ªå®šä¹‰ç›‘æ§æŒ‡æ ‡


```java
@Component
public class LoadBalancerMetrics {
    
    private final MeterRegistry meterRegistry;
    private final Counter requestCounter;
    private final Timer responseTimer;
    
    public LoadBalancerMetrics(MeterRegistry meterRegistry) {
        this.meterRegistry = meterRegistry;
        this.requestCounter = Counter.builder("loadbalancer.requests.total")
            .description("è´Ÿè½½å‡è¡¡è¯·æ±‚æ€»æ•°")
            .tag("service", "user-service")
            .register(meterRegistry);
            
        this.responseTimer = Timer.builder("loadbalancer.response.time")
            .description("è´Ÿè½½å‡è¡¡å“åº”æ—¶é—´")
            .register(meterRegistry);
    }
    
    public void recordRequest(String serviceName, String instanceId) {
        requestCounter.increment(
            Tags.of(
                "service", serviceName,
                "instance", instanceId
            )
        );
    }
    
    public void recordResponseTime(Duration responseTime) {
        responseTimer.record(responseTime);
    }
}
```

### 7.4 æ€§èƒ½è°ƒä¼˜å»ºè®®


**ğŸ”¸ è¿æ¥æ± ä¼˜åŒ–**

```yaml
# HTTPè¿æ¥æ± é…ç½®
spring:
  cloud:
    loadbalancer:
      httpclient:
        enabled: true
      # OkHttpé…ç½®
      okhttp:
        enabled: false
        
# RestTemplateè¿æ¥æ± é…ç½®  
http:
  pool:
    max-total: 200
    default-max-per-route: 50
    connect-timeout: 2000
    read-timeout: 5000
```

**ğŸ”¸ ç¼“å­˜ä¼˜åŒ–**

```java
@Configuration
public class LoadBalancerCacheConfig {
    
    // æœåŠ¡å®ä¾‹åˆ—è¡¨ç¼“å­˜
    @Bean
    @Primary
    public ServiceInstanceListSupplier discoveryClientServiceInstanceListSupplier(
            ConfigurableApplicationContext context) {
        return ServiceInstanceListSupplier.builder()
            .withDiscoveryClient()
            .withCaching()  // å¯ç”¨ç¼“å­˜
            .build(context);
    }
}
```

**ğŸ”¸ é¢„çƒ­ç­–ç•¥**

```java
@Component
public class ServiceWarmup {
    
    @Autowired
    private RestTemplate restTemplate;
    
    // æœåŠ¡å¯åŠ¨åé¢„çƒ­
    @EventListener
    public void handleApplicationReady(ApplicationReadyEvent event) {
        // é¢„çƒ­å…³é”®æœåŠ¡
        warmupService("user-service", "/health");
        warmupService("order-service", "/health");
    }
    
    private void warmupService(String serviceName, String path) {
        try {
            String url = "http://" + serviceName + path;
            restTemplate.getForObject(url, String.class);
            log.info("é¢„çƒ­æœåŠ¡æˆåŠŸ: {}", serviceName);
        } catch (Exception e) {
            log.warn("é¢„çƒ­æœåŠ¡å¤±è´¥: {}, é”™è¯¯: {}", serviceName, e.getMessage());
        }
    }
}
```

> ğŸ“ˆ **è°ƒä¼˜é‡ç‚¹**ï¼š
> - **ç›‘æ§å…ˆè¡Œ**ï¼šå…ˆå»ºç«‹å®Œå–„çš„ç›‘æ§ï¼Œå†è¿›è¡Œä¼˜åŒ–
> - **é€æ­¥è°ƒæ•´**ï¼šæ¯æ¬¡åªè°ƒæ•´ä¸€ä¸ªå‚æ•°ï¼Œè§‚å¯Ÿæ•ˆæœ
> - **å‹åŠ›æµ‹è¯•**ï¼šåœ¨ç”Ÿäº§ç¯å¢ƒå‰è¿›è¡Œå……åˆ†çš„å‹åŠ›æµ‹è¯•

---

## 8. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 8.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ å®¢æˆ·ç«¯è´Ÿè½½å‡è¡¡ï¼šè°ƒç”¨æ–¹è‡ªå·±é€‰æ‹©æœåŠ¡å®ä¾‹ï¼Œç›´æ¥è®¿é—®
ğŸ”¸ Ribbon vs LoadBalancerï¼šæ—§æ—¶ä»£vsæ–°æ—¶ä»£ï¼ŒåŠŸèƒ½ç±»ä¼¼ä½†LoadBalanceræ›´è½»é‡
ğŸ”¸ è´Ÿè½½å‡è¡¡ç®—æ³•ï¼šè½®è¯¢ã€éšæœºã€æƒé‡ã€æœ€å°‘è¿æ¥ç­‰ç­–ç•¥é€‰æ‹©
ğŸ”¸ æ•…éšœè½¬ç§»ï¼šè¶…æ—¶é‡è¯•ã€å¥åº·æ£€æŸ¥ã€ç†”æ–­é™çº§çš„ä¸‰å±‚é˜²æŠ¤
ğŸ”¸ ç›‘æ§è°ƒä¼˜ï¼šæŒ‡æ ‡ç›‘æ§ã€è¿æ¥æ± ä¼˜åŒ–ã€ç¼“å­˜ç­–ç•¥çš„æ€§èƒ½æå‡
```

### 8.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ ä¸ºä»€ä¹ˆä½¿ç”¨å®¢æˆ·ç«¯è´Ÿè½½å‡è¡¡**
```
å¾®æœåŠ¡æ¶æ„ç‰¹ç‚¹ï¼š
- æœåŠ¡æ•°é‡å¤šï¼Œå˜åŒ–å¿«
- æœåŠ¡ä¹‹é—´è°ƒç”¨é¢‘ç¹
- éœ€è¦åŠ¨æ€å‘ç°å’Œé€‰æ‹©

å®¢æˆ·ç«¯è´Ÿè½½å‡è¡¡ä¼˜åŠ¿ï¼š
- å‡å°‘ç½‘ç»œè·³æ•°ï¼Œæé«˜æ€§èƒ½
- é¿å…å•ç‚¹æ•…éšœï¼ˆè´Ÿè½½å‡è¡¡å™¨ï¼‰
- æ›´å¥½çš„æœåŠ¡æ²»ç†èƒ½åŠ›
```

**ğŸ”¹ å¦‚ä½•é€‰æ‹©è´Ÿè½½å‡è¡¡ç­–ç•¥**
```
é€‰æ‹©åŸåˆ™ï¼š
- æœåŠ¡æ€§èƒ½ç›¸ä¼¼ â†’ è½®è¯¢ç®—æ³•
- æœåŠ¡æ€§èƒ½å·®å¼‚å¤§ â†’ æƒé‡ç®—æ³•  
- è¦æ±‚ç»å¯¹å…¬å¹³ â†’ éšæœºç®—æ³•
- é•¿è¿æ¥åœºæ™¯ â†’ æœ€å°‘è¿æ¥ç®—æ³•
```

**ğŸ”¹ æ•…éšœè½¬ç§»çš„å±‚æ¬¡é˜²æŠ¤**
```
ä¸‰å±‚é˜²æŠ¤ç­–ç•¥ï¼š
ç¬¬ä¸€å±‚ï¼šè¶…æ—¶è®¾ç½®ï¼ˆå¿«é€Ÿå‘ç°é—®é¢˜ï¼‰
ç¬¬äºŒå±‚ï¼šé‡è¯•æœºåˆ¶ï¼ˆå¤„ç†ä¸´æ—¶æ•…éšœï¼‰
ç¬¬ä¸‰å±‚ï¼šç†”æ–­é™çº§ï¼ˆä¿æŠ¤æ•´ä½“ç³»ç»Ÿï¼‰
```

### 8.3 å®é™…åº”ç”¨æŒ‡å¯¼


**ğŸ¯ æ–°æ‰‹å…¥é—¨å»ºè®®**
- **ä»ç®€å•å¼€å§‹**ï¼šå…ˆç”¨é»˜è®¤çš„è½®è¯¢ç®—æ³•ï¼Œç¨³å®šåå†ä¼˜åŒ–
- **ç›‘æ§ç¬¬ä¸€**ï¼šä¸€å®šè¦é…ç½®å¥½ç›‘æ§ï¼Œæ‰èƒ½å‘ç°é—®é¢˜
- **æ¸è¿›å¼ä¼˜åŒ–**ï¼šä¸è¦ä¸€å¼€å§‹å°±é…ç½®å¾ˆå¤æ‚çš„ç­–ç•¥

**ğŸ”§ ç”Ÿäº§ç¯å¢ƒæœ€ä½³å®è·µ**
- **è¶…æ—¶é…ç½®**ï¼šè¿æ¥è¶…æ—¶2ç§’ï¼Œè¯»å–è¶…æ—¶5ç§’
- **é‡è¯•ç­–ç•¥**ï¼šåŒå®ä¾‹é‡è¯•1æ¬¡ï¼Œè·¨å®ä¾‹é‡è¯•2æ¬¡
- **å¥åº·æ£€æŸ¥**ï¼šé…ç½®åº”ç”¨çº§å¥åº·æ£€æŸ¥æ¥å£
- **ç†”æ–­ä¿æŠ¤**ï¼šé…ç½®åˆé€‚çš„ç†”æ–­é˜ˆå€¼å’Œæ¢å¤æ—¶é—´

**âš ï¸ å¸¸è§é™·é˜±é¿å‘**
- **é‡è¯•é£æš´**ï¼šé‡è¯•æ¬¡æ•°è®¾ç½®è¿‡å¤šå¯¼è‡´é›ªå´©
- **æƒé‡å¤±è¡¡**ï¼šæƒé‡é…ç½®ä¸åˆç†å¯¼è‡´è´Ÿè½½ä¸å‡
- **ç›‘æ§ç›²åŒº**ï¼šç¼ºå°‘å…³é”®æŒ‡æ ‡ç›‘æ§ï¼Œé—®é¢˜å‘ç°æ»å
- **é…ç½®åƒµåŒ–**ï¼šé…ç½®å†™æ­»åœ¨ä»£ç é‡Œï¼Œæ— æ³•åŠ¨æ€è°ƒæ•´

> ğŸ’¡ **å­¦ä¹ å»ºè®®**ï¼š
> 1. **ç†è®ºä¸å®è·µç»“åˆ**ï¼šå…ˆç†è§£æ¦‚å¿µï¼Œå†åŠ¨æ‰‹é…ç½®
> 2. **å¾ªåºæ¸è¿›**ï¼šä»ç®€å•çš„è½®è¯¢å¼€å§‹ï¼Œé€æ­¥å­¦ä¹ é«˜çº§ç‰¹æ€§  
> 3. **å¤šåšå®éªŒ**ï¼šåœ¨æµ‹è¯•ç¯å¢ƒå¤šå°è¯•ä¸åŒé…ç½®çš„æ•ˆæœ
> 4. **å…³æ³¨ç¤¾åŒº**ï¼šè·Ÿè¿›Spring Cloudçš„æŠ€æœ¯å‘å±•è¶‹åŠ¿

**æ ¸å¿ƒè®°å¿†å£è¯€**ï¼š
- å®¢æˆ·ç«¯è´Ÿè½½é€‰æœåŠ¡ï¼Œè½®è¯¢éšæœºæŒ‰éœ€æ±‚
- æƒé‡é…ç½®è¦åˆç†ï¼Œæ•…éšœè½¬ç§»ä¿ç¨³å®š  
- ç›‘æ§æŒ‡æ ‡å…¨è¦†ç›–ï¼Œè°ƒä¼˜ç­–ç•¥æ­¥æ­¥è¿›
- ç†è®ºå®è·µç›¸ç»“åˆï¼Œå¾®æœåŠ¡æ²»ç†æ›´è½»æ¾