---
title: 11ã€MyBatisæ³¨è§£å¼€å‘
---
## ğŸ“š ç›®å½•

1. [æ³¨è§£å¼€å‘åŸºç¡€æ¦‚å¿µ](#1-æ³¨è§£å¼€å‘åŸºç¡€æ¦‚å¿µ)
2. [Mapperæ¥å£æ³¨è§£](#2-Mapperæ¥å£æ³¨è§£)
3. [åŸºç¡€CRUDæ³¨è§£](#3-åŸºç¡€CRUDæ³¨è§£)
4. [ç»“æœæ˜ å°„æ³¨è§£](#4-ç»“æœæ˜ å°„æ³¨è§£)
5. [å…³è”æŸ¥è¯¢æ³¨è§£](#5-å…³è”æŸ¥è¯¢æ³¨è§£)
6. [å‚æ•°å¤„ç†æ³¨è§£](#6-å‚æ•°å¤„ç†æ³¨è§£)
7. [æ³¨è§£ä¸XMLæ··ç”¨](#7-æ³¨è§£ä¸XMLæ··ç”¨)
8. [å¤æ‚SQLå¤„ç†](#8-å¤æ‚SQLå¤„ç†)
9. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#9-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ¯ æ³¨è§£å¼€å‘åŸºç¡€æ¦‚å¿µ


### 1.1 ä»€ä¹ˆæ˜¯MyBatisæ³¨è§£å¼€å‘


**é€šä¿—ç†è§£**ï¼š
å°±åƒå†™ä»£ç æ—¶ç»™æ–¹æ³•åŠ ä¸Šæ ‡ç­¾è´´çº¸ï¼Œå‘Šè¯‰MyBatis"è¿™ä¸ªæ–¹æ³•æ˜¯æŸ¥è¯¢ç”¨çš„""é‚£ä¸ªæ–¹æ³•æ˜¯æ’å…¥ç”¨çš„"ï¼ŒMyBatisçœ‹åˆ°è¿™äº›æ ‡ç­¾å°±çŸ¥é“è¯¥æ€ä¹ˆå¤„ç†äº†ï¼Œä¸éœ€è¦å†å»XMLæ–‡ä»¶é‡Œå†™ä¸€å¤§å †é…ç½®ã€‚

**æœ¬è´¨è¯´æ˜**ï¼š
- **XMLæ–¹å¼**ï¼šSQLå†™åœ¨å•ç‹¬çš„XMLæ–‡ä»¶é‡Œï¼Œä»£ç å’ŒSQLåˆ†ç¦»
- **æ³¨è§£æ–¹å¼**ï¼šSQLç›´æ¥å†™åœ¨Javaæ¥å£æ–¹æ³•ä¸Šï¼Œä»£ç å’ŒSQLåœ¨ä¸€èµ·
- **ç›®çš„**ï¼šç®€åŒ–å¼€å‘ï¼Œå‡å°‘é…ç½®æ–‡ä»¶

### 1.2 æ³¨è§£å¼€å‘çš„ä¼˜åŠ¿å’ŒåŠ£åŠ¿


**ğŸ“Š å¯¹æ¯”åˆ†æ**

| æ–¹é¢ | **æ³¨è§£å¼€å‘** | **XMLå¼€å‘** |
|------|------------|------------|
| ğŸ¯ **å­¦ä¹ éš¾åº¦** | ç®€å•ç›´è§‚ï¼Œä¸€çœ‹å°±æ‡‚ | éœ€è¦ç†è§£XMLé…ç½®è§„åˆ™ |
| âš¡ **å¼€å‘é€Ÿåº¦** | å¿«é€Ÿï¼Œç›´æ¥åœ¨ä»£ç ä¸­å†™ | éœ€è¦åˆ‡æ¢æ–‡ä»¶ç¼–å†™ |
| ğŸ“ **ç»´æŠ¤æ€§** | ç®€å•SQLç»´æŠ¤æ–¹ä¾¿ | å¤æ‚SQLæ›´æ¸…æ™° |
| ğŸ”§ **çµæ´»æ€§** | å¤æ‚SQLä¸å¤ªå¥½å†™ | å¤æ‚SQLæ”¯æŒå¥½ |
| ğŸ‘€ **å¯è¯»æ€§** | ä»£ç é›†ä¸­æ˜“æŸ¥çœ‹ | SQLå’Œä»£ç åˆ†ç¦» |

**ğŸ’¡ å®é™…åº”ç”¨å»ºè®®**ï¼š
- `ğŸ”¸ ç®€å•CRUD` â†’ ç”¨æ³¨è§£ï¼Œå¿«é€Ÿé«˜æ•ˆ
- `ğŸ”¸ å¤æ‚æŸ¥è¯¢` â†’ ç”¨XMLï¼Œæ˜“äºç»´æŠ¤
- `ğŸ”¸ å›¢é˜Ÿé¡¹ç›®` â†’ æ··åˆä½¿ç”¨ï¼Œå„å–æ‰€é•¿

### 1.3 åŸºæœ¬å·¥ä½œåŸç†å›¾ç¤º


```
å¼€å‘æµç¨‹å¯¹æ¯”ï¼š

XMLæ–¹å¼ï¼š
Javaæ¥å£æ–¹æ³• â”€â”€å…³è”â”€â”€> XMLæ–‡ä»¶ä¸­çš„SQL â”€â”€æ‰§è¡Œâ”€â”€> æ•°æ®åº“
   (æ–¹æ³•å)              (idåŒ¹é…)            (è¿”å›ç»“æœ)

æ³¨è§£æ–¹å¼ï¼š
Javaæ¥å£æ–¹æ³• â”€â”€ç›´æ¥é™„å¸¦SQLæ³¨è§£â”€â”€> æ•°æ®åº“
   (@Selectç­‰)                   (è¿”å›ç»“æœ)

çœå»äº†XMLé…ç½®è¿™ä¸ªä¸­é—´ç¯èŠ‚ï¼
```

---

## 2. ğŸ·ï¸ Mapperæ¥å£æ³¨è§£


### 2.1 @Mapperæ³¨è§£è¯¦è§£


**ä½œç”¨è¯´æ˜**ï¼š
è¿™ä¸ªæ³¨è§£å°±åƒç»™æ¥å£è´´ä¸ªèº«ä»½è¯ï¼Œå‘Šè¯‰Spring"æˆ‘æ˜¯ä¸ªMyBatisçš„Mapperæ¥å£ï¼Œè¯·æŠŠæˆ‘æ³¨å†Œåˆ°å®¹å™¨é‡Œ"ã€‚

**åŸºç¡€ä½¿ç”¨**ï¼š

```java
// æ ‡è®°è¿™æ˜¯MyBatisçš„Mapperæ¥å£
@Mapper
public interface UserMapper {
    // å…·ä½“çš„SQLæ–¹æ³•...
}
```

**ğŸ“Œ æ ¸å¿ƒè¦ç‚¹**ï¼š
- `ğŸ”¸ ä½ç½®`ï¼šå†™åœ¨æ¥å£ç±»ä¸Šé¢
- `ğŸ”¸ ä½œç”¨`ï¼šè®©Springè‡ªåŠ¨è¯†åˆ«å¹¶åˆ›å»ºæ¥å£çš„å®ç°ç±»
- `ğŸ”¸ åŸç†`ï¼šSpringæ‰«æåˆ°è¿™ä¸ªæ³¨è§£ï¼Œå°±çŸ¥é“è¦ç»™è¿™ä¸ªæ¥å£ç”Ÿæˆä»£ç†å¯¹è±¡

### 2.2 @Mapperçš„æ›¿ä»£æ–¹æ¡ˆ


**æ–¹æ¡ˆå¯¹æ¯”**ï¼š

```
æ–¹å¼ä¸€ï¼šæ¯ä¸ªæ¥å£åŠ @Mapper
@Mapper
public interface UserMapper { }

@Mapper  
public interface OrderMapper { }

ä¼˜ç‚¹ï¼šæ˜ç¡®æ¸…æ™°
ç¼ºç‚¹ï¼šæ¯ä¸ªéƒ½è¦å†™ï¼Œéº»çƒ¦


æ–¹å¼äºŒï¼šå¯åŠ¨ç±»åŠ @MapperScan
@SpringBootApplication
@MapperScan("com.example.mapper")  // æ‰«ææ•´ä¸ªåŒ…
public class Application { }

ä¼˜ç‚¹ï¼šä¸€æ¬¡é…ç½®ï¼Œå…¨éƒ¨ç”Ÿæ•ˆ
ç¼ºç‚¹ï¼šéœ€è¦æ³¨æ„åŒ…è·¯å¾„
```

**ğŸ¯ é€‰æ‹©å»ºè®®**ï¼š
- Mapperå°‘ï¼ˆ1-3ä¸ªï¼‰â†’ ç”¨`@Mapper`ï¼Œç®€å•ç›´æ¥
- Mapperå¤šï¼ˆ>5ä¸ªï¼‰â†’ ç”¨`@MapperScan`ï¼Œç»Ÿä¸€ç®¡ç†

---

## 3. âš¡ åŸºç¡€CRUDæ³¨è§£


### 3.1 @SelectæŸ¥è¯¢æ³¨è§£


**é€šä¿—ç†è§£**ï¼š
å°±æ˜¯æŠŠæŸ¥è¯¢çš„SQLè¯­å¥å†™åœ¨æ–¹æ³•ä¸Šï¼ŒMyBatisçœ‹åˆ°è¿™ä¸ªæ³¨è§£å°±çŸ¥é“è¦å»æ•°æ®åº“æŸ¥æ•°æ®ã€‚

**åŸºç¡€ç¤ºä¾‹**ï¼š

```java
@Mapper
public interface UserMapper {
    
    // æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·
    @Select("SELECT * FROM user")
    List<User> findAll();
    
    // æ ¹æ®IDæŸ¥è¯¢å•ä¸ªç”¨æˆ·
    @Select("SELECT * FROM user WHERE id = #{id}")
    User findById(Integer id);
}
```

**ğŸ’¡ çŸ¥è¯†ç‚¹è¯´æ˜**ï¼š
- `#{id}`ï¼šè¿™æ˜¯**å ä½ç¬¦**ï¼Œä¼šè¢«æ–¹æ³•å‚æ•°æ›¿æ¢
- è¿”å›å€¼æ˜¯`List`ï¼šæŸ¥è¯¢å¤šæ¡è®°å½•
- è¿”å›å€¼æ˜¯å¯¹è±¡ï¼šæŸ¥è¯¢å•æ¡è®°å½•

**æ¡ä»¶æŸ¥è¯¢ç¤ºä¾‹**ï¼š

```java
// å¤šæ¡ä»¶æŸ¥è¯¢
@Select("SELECT * FROM user WHERE username = #{username} AND age > #{age}")
List<User> findByCondition(String username, Integer age);

// æ¨¡ç³ŠæŸ¥è¯¢ï¼ˆæ³¨æ„ï¼šæ‹¼æ¥%ç¬¦å·ï¼‰
@Select("SELECT * FROM user WHERE username LIKE CONCAT('%', #{name}, '%')")
List<User> findByNameLike(String name);
```

### 3.2 @Insertæ’å…¥æ³¨è§£


**ä½œç”¨è¯´æ˜**ï¼š
æŠŠæ–°æ•°æ®æ’å…¥åˆ°æ•°æ®åº“è¡¨ä¸­ï¼Œå°±åƒå¾€Excelè¡¨æ ¼é‡Œæ·»åŠ æ–°çš„ä¸€è¡Œã€‚

**åŸºç¡€æ’å…¥**ï¼š

```java
// æ’å…¥ç”¨æˆ·æ•°æ®
@Insert("INSERT INTO user(username, password, age) VALUES(#{username}, #{password}, #{age})")
int insert(User user);
```

**ğŸ“Œ è¿”å›å€¼è¯´æ˜**ï¼š
- è¿”å›`int`ï¼šè¡¨ç¤ºå½±å“çš„è¡Œæ•°ï¼ˆæ’å…¥æˆåŠŸè¿”å›1ï¼‰
- ä¸å…³å¿ƒç»“æœå¯ä»¥ç”¨`void`

**è·å–è‡ªå¢ä¸»é”®**ï¼š

```java
// æ’å…¥åè·å–è‡ªåŠ¨ç”Ÿæˆçš„ID
@Insert("INSERT INTO user(username, password) VALUES(#{username}, #{password})")
@Options(useGeneratedKeys = true, keyProperty = "id")
int insertAndGetId(User user);
```

**ğŸ’¡ é‡ç‚¹ç†è§£**ï¼š
- `useGeneratedKeys = true`ï¼šå‘Šè¯‰MyBatis"æˆ‘è¦ç”¨æ•°æ®åº“ç”Ÿæˆçš„ä¸»é”®"
- `keyProperty = "id"`ï¼šæŠŠç”Ÿæˆçš„ä¸»é”®å€¼èµ‹ç»™userå¯¹è±¡çš„idå±æ€§
- æ’å…¥åï¼Œ`user.getId()`å°±èƒ½è·å–åˆ°æ•°æ®åº“ç”Ÿæˆçš„IDäº†

### 3.3 @Updateæ›´æ–°æ³¨è§£


**åŠŸèƒ½è¯´æ˜**ï¼š
ä¿®æ”¹æ•°æ®åº“ä¸­å·²æœ‰çš„æ•°æ®ï¼Œæ¯”å¦‚æ”¹ç”¨æˆ·å¯†ç ã€æ”¹å¹´é¾„ç­‰ã€‚

**åŸºç¡€æ›´æ–°**ï¼š

```java
// æ›´æ–°ç”¨æˆ·ä¿¡æ¯
@Update("UPDATE user SET username = #{username}, age = #{age} WHERE id = #{id}")
int update(User user);

// ä¿®æ”¹å¯†ç 
@Update("UPDATE user SET password = #{newPwd} WHERE id = #{userId}")
int updatePassword(Integer userId, String newPwd);
```

**ğŸ”¸ æ³¨æ„äº‹é¡¹**ï¼š
- WHEREæ¡ä»¶å¾ˆé‡è¦ï¼Œä¸åŠ ä¼šæ›´æ–°å…¨è¡¨ï¼ˆå±é™©ï¼ï¼‰
- è¿”å›å€¼æ˜¯å½±å“çš„è¡Œæ•°ï¼Œå¯ä»¥åˆ¤æ–­æ›´æ–°æ˜¯å¦æˆåŠŸ

### 3.4 @Deleteåˆ é™¤æ³¨è§£


**ä½œç”¨è¯´æ˜**ï¼š
ä»æ•°æ®åº“ä¸­åˆ é™¤æ•°æ®ï¼Œç±»ä¼¼ä»Excelè¡¨æ ¼ä¸­åˆ é™¤ä¸€è¡Œã€‚

**åŸºç¡€åˆ é™¤**ï¼š

```java
// æ ¹æ®IDåˆ é™¤
@Delete("DELETE FROM user WHERE id = #{id}")
int deleteById(Integer id);

// æ‰¹é‡åˆ é™¤ï¼ˆä¼ å…¥IDæ•°ç»„ï¼‰
@Delete("<script>" +
        "DELETE FROM user WHERE id IN " +
        "<foreach collection='ids' item='id' open='(' separator=',' close=')'>" +
        "#{id}" +
        "</foreach>" +
        "</script>")
int deleteBatch(@Param("ids") Integer[] ids);
```

**ğŸ’¡ æ‰¹é‡åˆ é™¤è§£é‡Š**ï¼š
- `<script>`æ ‡ç­¾ï¼šåœ¨æ³¨è§£é‡Œå†™åŠ¨æ€SQLè¦ç”¨è¿™ä¸ªåŒ…è£¹
- `<foreach>`ï¼šå¾ªç¯å¤„ç†æ•°ç»„ï¼Œç”Ÿæˆ`(1,2,3)`è¿™æ ·çš„æ ¼å¼
- `@Param`ï¼šç»™å‚æ•°èµ·ä¸ªåå­—ï¼Œæ–¹ä¾¿åœ¨SQLé‡Œç”¨

---

## 4. ğŸ“‹ ç»“æœæ˜ å°„æ³¨è§£


### 4.1 å­—æ®µæ˜ å°„é—®é¢˜è¯´æ˜


**é—®é¢˜åœºæ™¯**ï¼š

```
æ•°æ®åº“è¡¨å­—æ®µï¼š        Javaå¯¹è±¡å±æ€§ï¼š
user_name             userName
create_time           createTime

ä¸åŒ¹é…ï¼éœ€è¦æ‰‹åŠ¨æ˜ å°„
```

**è§£å†³æ–¹æ¡ˆå¯¹æ¯”**ï¼š

```java
// æ–¹æ¡ˆä¸€ï¼šSQLèµ·åˆ«åï¼ˆç®€å•ç²—æš´ï¼‰
@Select("SELECT user_name AS userName, create_time AS createTime FROM user")
List<User> findAll();

// æ–¹æ¡ˆäºŒï¼šç”¨æ³¨è§£æ˜ å°„ï¼ˆä¼˜é›…è§„èŒƒï¼‰  
@Select("SELECT * FROM user")
@Results(id = "userMap", value = {
    @Result(column = "user_name", property = "userName"),
    @Result(column = "create_time", property = "createTime")
})
List<User> findAll();
```

### 4.2 @Resultsç»“æœé›†æ˜ å°„


**ä½œç”¨è¯´æ˜**ï¼š
å®šä¹‰æ•°æ®åº“å­—æ®µå’ŒJavaå±æ€§çš„å¯¹åº”å…³ç³»ï¼Œå°±åƒç¿»è¯‘å­—å…¸ä¸€æ ·ã€‚

**å®Œæ•´ç¤ºä¾‹**ï¼š

```java
@Select("SELECT * FROM user WHERE id = #{id}")
@Results({
    @Result(id = true, column = "id", property = "id"),           // ä¸»é”®
    @Result(column = "user_name", property = "userName"),         // æ™®é€šå­—æ®µ
    @Result(column = "create_time", property = "createTime")
})
User findById(Integer id);
```

**ğŸ“Œ å‚æ•°è¯´æ˜**ï¼š

| å‚æ•° | å«ä¹‰ | ä½•æ—¶ä½¿ç”¨ |
|------|------|---------|
| `id = true` | æ ‡è®°ä¸»é”®å­—æ®µ | ä¸»é”®æ˜ å°„æ—¶ |
| `column` | æ•°æ®åº“åˆ—å | å¿…å¡« |
| `property` | Javaå±æ€§å | å¿…å¡« |

### 4.3 @ResultMapå¼•ç”¨æ˜ å°„


**ä½¿ç”¨åœºæ™¯**ï¼š
å¤šä¸ªæ–¹æ³•ç”¨ç›¸åŒçš„æ˜ å°„è§„åˆ™ï¼Œä¸æƒ³é‡å¤å†™ã€‚

**å¤ç”¨ç¤ºä¾‹**ï¼š

```java
@Mapper
public interface UserMapper {
    
    // å®šä¹‰æ˜ å°„è§„åˆ™ï¼ˆåªå®šä¹‰ä¸€æ¬¡ï¼‰
    @Select("SELECT * FROM user WHERE id = #{id}")
    @Results(id = "userResultMap", value = {
        @Result(id = true, column = "id", property = "id"),
        @Result(column = "user_name", property = "userName"),
        @Result(column = "create_time", property = "createTime")
    })
    User findById(Integer id);
    
    // å…¶ä»–æ–¹æ³•ç›´æ¥å¼•ç”¨ï¼ˆä¸ç”¨é‡å¤å†™ï¼‰
    @Select("SELECT * FROM user")
    @ResultMap("userResultMap")  // å¼•ç”¨ä¸Šé¢å®šä¹‰çš„æ˜ å°„
    List<User> findAll();
}
```

**ğŸ’¡ ç†è§£è¦ç‚¹**ï¼š
- `id = "userResultMap"`ï¼šç»™æ˜ å°„è§„åˆ™èµ·ä¸ªåå­—
- `@ResultMap("userResultMap")`ï¼šé€šè¿‡åå­—å¼•ç”¨
- å¥½å¤„ï¼šæ”¹ä¸€å¤„ï¼Œæ‰€æœ‰å¼•ç”¨çš„åœ°æ–¹éƒ½ç”Ÿæ•ˆ

---

## 5. ğŸ”— å…³è”æŸ¥è¯¢æ³¨è§£


### 5.1 å…³è”æŸ¥è¯¢åœºæ™¯è¯´æ˜


**ä¸šåŠ¡åœºæ™¯ä¸¾ä¾‹**ï¼š

```
è®¢å•è¡¨(Order)              ç”¨æˆ·è¡¨(User)
id  user_id  amount        id  username
1   101      1000          101 å¼ ä¸‰
2   101      2000          102 æå››
3   102      1500

éœ€æ±‚ï¼šæŸ¥è¯¢è®¢å•æ—¶ï¼ŒåŒæ—¶æŸ¥å‡ºä¸‹å•ç”¨æˆ·çš„ä¿¡æ¯
```

**å…³è”ç±»å‹**ï¼š
- `ğŸ”¸ ä¸€å¯¹ä¸€`ï¼šä¸€ä¸ªè®¢å•å¯¹åº”ä¸€ä¸ªç”¨æˆ·
- `ğŸ”¸ ä¸€å¯¹å¤š`ï¼šä¸€ä¸ªç”¨æˆ·æœ‰å¤šä¸ªè®¢å•

### 5.2 @Oneä¸€å¯¹ä¸€å…³è”


**åº”ç”¨åœºæ™¯**ï¼š
æŸ¥è¯¢è®¢å•æ—¶ï¼ŒåŒæ—¶æŸ¥å‡ºä¸‹å•çš„ç”¨æˆ·ä¿¡æ¯ã€‚

**å®ä½“ç±»è®¾è®¡**ï¼š

```java
public class Order {
    private Integer id;
    private Integer userId;
    private Double amount;
    private User user;      // å…³è”çš„ç”¨æˆ·å¯¹è±¡
    // getter/setter...
}
```

**ä¸€å¯¹ä¸€æŸ¥è¯¢å®ç°**ï¼š

```java
@Mapper
public interface OrderMapper {
    
    // æŸ¥è¯¢è®¢å•å¹¶å…³è”ç”¨æˆ·
    @Select("SELECT * FROM `order` WHERE id = #{id}")
    @Results({
        @Result(id = true, column = "id", property = "id"),
        @Result(column = "user_id", property = "userId"),
        @Result(column = "amount", property = "amount"),
        @Result(
            column = "user_id",              // ç”¨è¿™ä¸ªå­—æ®µçš„å€¼
            property = "user",               // å¡«å……åˆ°userå±æ€§
            one = @One(select = "com.example.mapper.UserMapper.findById")
        )
    })
    Order findById(Integer id);
}
```

**ğŸ¯ æ‰§è¡Œæµç¨‹å›¾ç¤º**ï¼š

```
æ­¥éª¤1ï¼šæ‰§è¡Œä¸»æŸ¥è¯¢
SELECT * FROM order WHERE id = 1
å¾—åˆ°ï¼šid=1, user_id=101, amount=1000

æ­¥éª¤2ï¼šçœ‹åˆ°@Oneæ³¨è§£ï¼Œç”¨user_idçš„å€¼(101)å»è°ƒç”¨
UserMapper.findById(101)

æ­¥éª¤3ï¼šæŸ¥å‡ºç”¨æˆ·ä¿¡æ¯
SELECT * FROM user WHERE id = 101
å¾—åˆ°ï¼šid=101, username='å¼ ä¸‰'

æ­¥éª¤4ï¼šæŠŠç”¨æˆ·å¯¹è±¡å¡åˆ°order.useré‡Œ
æœ€ç»ˆè¿”å›å®Œæ•´çš„Orderå¯¹è±¡ï¼ˆåŒ…å«ç”¨æˆ·ä¿¡æ¯ï¼‰
```

**ğŸ’¡ å…³é”®ç†è§£**ï¼š
- `column = "user_id"`ï¼šç”¨è®¢å•è¡¨çš„user_idå­—æ®µ
- `select`ï¼šæŒ‡å®šè°ƒç”¨å“ªä¸ªæ–¹æ³•å»æŸ¥ç”¨æˆ·ï¼ˆå†™å…¨è·¯å¾„ï¼‰
- MyBatisä¼šè‡ªåŠ¨å®Œæˆä¸¤æ¬¡æŸ¥è¯¢å¹¶ç»„è£…ç»“æœ

### 5.3 @Manyä¸€å¯¹å¤šå…³è”


**åº”ç”¨åœºæ™¯**ï¼š
æŸ¥è¯¢ç”¨æˆ·æ—¶ï¼ŒåŒæ—¶æŸ¥å‡ºè¯¥ç”¨æˆ·çš„æ‰€æœ‰è®¢å•ã€‚

**å®ä½“ç±»è®¾è®¡**ï¼š

```java
public class User {
    private Integer id;
    private String username;
    private List<Order> orders;  // ç”¨æˆ·çš„æ‰€æœ‰è®¢å•
    // getter/setter...
}
```

**ä¸€å¯¹å¤šæŸ¥è¯¢å®ç°**ï¼š

```java
@Mapper
public interface UserMapper {
    
    // æŸ¥è¯¢ç”¨æˆ·å¹¶å…³è”è®¢å•åˆ—è¡¨
    @Select("SELECT * FROM user WHERE id = #{id}")
    @Results({
        @Result(id = true, column = "id", property = "id"),
        @Result(column = "username", property = "username"),
        @Result(
            column = "id",                   // ç”¨ç”¨æˆ·ID
            property = "orders",             // å¡«å……åˆ°ordersé›†åˆ
            many = @Many(select = "com.example.mapper.OrderMapper.findByUserId")
        )
    })
    User findById(Integer id);
}

// OrderMapperä¸­éœ€è¦æœ‰è¿™ä¸ªæ–¹æ³•
@Select("SELECT * FROM `order` WHERE user_id = #{userId}")
List<Order> findByUserId(Integer userId);
```

**ğŸ¯ æ‰§è¡Œæµç¨‹**ï¼š

```
æ­¥éª¤1ï¼šæŸ¥ç”¨æˆ·
SELECT * FROM user WHERE id = 101
å¾—åˆ°ï¼šid=101, username='å¼ ä¸‰'

æ­¥éª¤2ï¼šçœ‹åˆ°@Manyæ³¨è§£ï¼Œç”¨idå€¼(101)è°ƒç”¨
OrderMapper.findByUserId(101)

æ­¥éª¤3ï¼šæŸ¥è®¢å•åˆ—è¡¨
SELECT * FROM order WHERE user_id = 101
å¾—åˆ°ï¼š[è®¢å•1, è®¢å•2, ...]

æ­¥éª¤4ï¼šæŠŠè®¢å•åˆ—è¡¨å¡åˆ°user.ordersé‡Œ
è¿”å›å®Œæ•´çš„Userå¯¹è±¡ï¼ˆåŒ…å«è®¢å•åˆ—è¡¨ï¼‰
```

**âš ï¸ æ€§èƒ½æ³¨æ„äº‹é¡¹**ï¼š

| é—®é¢˜ | è¯´æ˜ | è§£å†³æ–¹æ¡ˆ |
|------|------|---------|
| `N+1é—®é¢˜` | æŸ¥1æ¬¡ç”¨æˆ·+Næ¬¡è®¢å•ï¼ŒSQLå¤ªå¤š | ç®€å•åœºæ™¯å¯æ¥å— |
| `æ•°æ®é‡å¤§` | å…³è”æ•°æ®å¤šæ—¶æ€§èƒ½å·® | æ”¹ç”¨è¿æ¥æŸ¥è¯¢ |
| `æ·±å±‚åµŒå¥—` | è®¢å•å†å…³è”å•†å“ï¼Œå±‚çº§å¤ªæ·± | è€ƒè™‘ç”¨XMLé…ç½® |

---

## 6. ğŸ·ï¸ å‚æ•°å¤„ç†æ³¨è§£


### 6.1 @Paramå‚æ•°å‘½å


**ä¸ºä»€ä¹ˆéœ€è¦@Param**ï¼š

```
æ²¡æœ‰@Paramçš„æƒ…å†µï¼š
æ–¹æ³•ï¼šList<User> find(String name, Integer age)
SQLï¼šWHERE username = #{name} AND age = #{age}
âŒ æŠ¥é”™ï¼MyBatisä¸çŸ¥é“nameå’Œageæ˜¯å“ªä¸ªå‚æ•°

æœ‰@Paramçš„æƒ…å†µï¼š
æ–¹æ³•ï¼šList<User> find(@Param("name") String name, @Param("age") Integer age)
SQLï¼šWHERE username = #{name} AND age = #{age}
âœ… æˆåŠŸï¼é€šè¿‡æ³¨è§£æ˜ç¡®äº†å‚æ•°å
```

**åŸºç¡€ä½¿ç”¨**ï¼š

```java
// å¤šå‚æ•°æŸ¥è¯¢ï¼ˆå¿…é¡»åŠ @Paramï¼‰
@Select("SELECT * FROM user WHERE username = #{name} AND age = #{userAge}")
List<User> findByCondition(@Param("name") String username, 
                           @Param("userAge") Integer age);
```

**ğŸ“Œ ä½¿ç”¨è§„åˆ™**ï¼š
- `å•ä¸ªå‚æ•°`ï¼šå¯ä»¥ä¸åŠ @Paramï¼ˆç›´æ¥ç”¨#{ä»»æ„å}ï¼‰
- `å¤šä¸ªå‚æ•°`ï¼šå¿…é¡»åŠ @Paramï¼ˆå¦åˆ™æŠ¥é”™ï¼‰
- `å¯¹è±¡å‚æ•°`ï¼šä¸éœ€è¦@Paramï¼ˆç›´æ¥ç”¨#{å±æ€§å}ï¼‰

### 6.2 å‚æ•°ç±»å‹å¯¹æ¯”


**ä¸‰ç§å‚æ•°æ–¹å¼**ï¼š

```java
// æ–¹å¼ä¸€ï¼šå•ä¸ªç®€å•å‚æ•°ï¼ˆä¸éœ€è¦@Paramï¼‰
@Select("SELECT * FROM user WHERE id = #{id}")
User findById(Integer id);

// æ–¹å¼äºŒï¼šå¤šä¸ªç®€å•å‚æ•°ï¼ˆå¿…é¡»@Paramï¼‰
@Select("SELECT * FROM user WHERE username = #{name} AND age = #{age}")
List<User> find(@Param("name") String name, @Param("age") Integer age);

// æ–¹å¼ä¸‰ï¼šå¯¹è±¡å‚æ•°ï¼ˆä¸éœ€è¦@Paramï¼Œç›´æ¥ç”¨å±æ€§åï¼‰
@Insert("INSERT INTO user(username, password, age) VALUES(#{username}, #{password}, #{age})")
int insert(User user);
```

**ğŸ¯ é€‰æ‹©å»ºè®®**ï¼š

```
å‚æ•°1-2ä¸ª â†’ ç”¨ç®€å•å‚æ•° + @Param
å‚æ•°3ä¸ªä»¥ä¸Š â†’ å°è£…æˆå¯¹è±¡ä¼ é€’
æŸ¥è¯¢æ¡ä»¶å¤æ‚ â†’ ç”¨å¯¹è±¡æˆ–Map
```

### 6.3 ç‰¹æ®Šå‚æ•°å¤„ç†


**é›†åˆå‚æ•°å¤„ç†**ï¼š

```java
// Listå‚æ•°
@Select("<script>" +
        "SELECT * FROM user WHERE id IN " +
        "<foreach collection='ids' item='id' open='(' separator=',' close=')'>" +
        "#{id}" +
        "</foreach>" +
        "</script>")
List<User> findByIds(@Param("ids") List<Integer> ids);

// æ•°ç»„å‚æ•°
@Delete("<script>" +
        "DELETE FROM user WHERE id IN " +
        "<foreach collection='ids' item='id' open='(' separator=',' close=')'>" +
        "#{id}" +
        "</foreach>" +
        "</script>")
int deleteBatch(@Param("ids") Integer[] ids);
```

**Mapå‚æ•°ï¼ˆçµæ´»ä½†ä¸æ¨èï¼‰**ï¼š

```java
// ç”¨Mapä¼ å‚ï¼ˆä¸å¤Ÿç›´è§‚ï¼Œä¸€èˆ¬ä¸æ¨èï¼‰
@Select("SELECT * FROM user WHERE username = #{name} AND age = #{age}")
List<User> findByMap(Map<String, Object> params);

// è°ƒç”¨æ–¹å¼
Map<String, Object> map = new HashMap<>();
map.put("name", "å¼ ä¸‰");
map.put("age", 20);
List<User> users = mapper.findByMap(map);
```

---

## 7. ğŸ”„ æ³¨è§£ä¸XMLæ··ç”¨


### 7.1 ä¸ºä»€ä¹ˆéœ€è¦æ··ç”¨


**å®é™…åœºæ™¯åˆ†æ**ï¼š

```
é€‚åˆæ³¨è§£çš„SQLï¼š
âœ… SELECT * FROM user WHERE id = #{id}
âœ… INSERT INTO user(...) VALUES(...)
âœ… DELETE FROM user WHERE id = #{id}
ç‰¹ç‚¹ï¼šç®€å•ã€ç›´æ¥ã€ä¸€è¡Œæå®š

é€‚åˆXMLçš„SQLï¼š
âŒ å¤æ‚çš„å¤šè¡¨å…³è”æŸ¥è¯¢
âŒ å¤§é‡åŠ¨æ€SQLåˆ¤æ–­
âŒ SQLè¯­å¥å¾ˆé•¿ï¼ˆå¯è¯»æ€§å·®ï¼‰
ç‰¹ç‚¹ï¼šå¤æ‚ã€éœ€è¦æ ¼å¼åŒ–ã€è¦ç»´æŠ¤
```

**ğŸ’¡ æ··ç”¨ç­–ç•¥**ï¼š
- ç®€å•CRUD â†’ ç”¨æ³¨è§£ï¼ˆå¼€å‘å¿«ï¼‰
- å¤æ‚æŸ¥è¯¢ â†’ ç”¨XMLï¼ˆæ˜“ç»´æŠ¤ï¼‰
- ä¸€ä¸ªMapperæ¥å£å¯ä»¥åŒæ—¶æœ‰æ³¨è§£æ–¹æ³•å’ŒXMLæ–¹æ³•

### 7.2 æ··ç”¨é…ç½®æ–¹å¼


**ç¬¬ä¸€æ­¥ï¼šæ¥å£ä¸­æ³¨è§£æ–¹æ³•**ï¼š

```java
@Mapper
public interface UserMapper {
    
    // ç®€å•æŸ¥è¯¢ç”¨æ³¨è§£
    @Select("SELECT * FROM user WHERE id = #{id}")
    User findById(Integer id);
    
    // å¤æ‚æŸ¥è¯¢ç”¨XMLï¼ˆè¿™é‡Œåªå£°æ˜æ–¹æ³•ï¼‰
    List<User> findByComplexCondition(UserQuery query);
}
```

**ç¬¬äºŒæ­¥ï¼šXMLæ–‡ä»¶é…ç½®**ï¼š

```xml
<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- namespaceå¿…é¡»æ˜¯æ¥å£å…¨è·¯å¾„ -->
<mapper namespace="com.example.mapper.UserMapper">
    
    <!-- idå¿…é¡»æ˜¯æ¥å£æ–¹æ³•å -->
    <select id="findByComplexCondition" resultType="User">
        SELECT * FROM user
        <where>
            <if test="username != null">
                AND username LIKE CONCAT('%', #{username}, '%')
            </if>
            <if test="minAge != null">
                AND age >= #{minAge}
            </if>
            <if test="maxAge != null">
                AND age &lt;= #{maxAge}
            </if>
        </where>
        ORDER BY create_time DESC
    </select>
    
</mapper>
```

**ğŸ”¸ å…³é”®é…ç½®ç‚¹**ï¼š

| é…ç½®é¡¹ | è¦æ±‚ | ç¤ºä¾‹ |
|--------|------|------|
| `namespace` | æ¥å£çš„å…¨é™å®šå | `com.example.mapper.UserMapper` |
| `id` | æ¥å£çš„æ–¹æ³•å | `findByComplexCondition` |
| `resultType` | è¿”å›å€¼ç±»å‹ | `User`æˆ–`com.example.entity.User` |

### 7.3 æ··ç”¨æ³¨æ„äº‹é¡¹


**âš ï¸ å¸¸è§é”™è¯¯åŠè§£å†³**ï¼š

```
é”™è¯¯1ï¼šnamespaceå†™é”™
<mapper namespace="UserMapper">  âŒ
<mapper namespace="com.example.mapper.UserMapper">  âœ…

é”™è¯¯2ï¼šæ–¹æ³•åä¸åŒ¹é…
æ¥å£ï¼šfindByCondition()
XMLï¼š<select id="findUser">  âŒ
XMLï¼š<select id="findByCondition">  âœ…

é”™è¯¯3ï¼šXMLæ–‡ä»¶ä½ç½®é”™è¯¯
éœ€è¦æ”¾åœ¨ï¼šresources/mapper/UserMapper.xml
æˆ–é…ç½®ï¼šmybatis.mapper-locations=classpath:mapper/*.xml
```

**âœ… æœ€ä½³å®è·µ**ï¼š
- XMLæ–‡ä»¶å‘½åä¸æ¥å£åŒåï¼ˆå¦‚UserMapper.xmlï¼‰
- XMLæ–‡ä»¶ç»Ÿä¸€æ”¾åœ¨resources/mapperç›®å½•
- åœ¨application.ymlé…ç½®æ‰«æè·¯å¾„

```yaml
mybatis:
  mapper-locations: classpath:mapper/*.xml
  type-aliases-package: com.example.entity
```

---

## 8. ğŸ”§ å¤æ‚SQLå¤„ç†


### 8.1 åŠ¨æ€SQLå¤„ç†


**ä½¿ç”¨`<script>`æ ‡ç­¾**ï¼š
åœ¨æ³¨è§£é‡Œå†™åŠ¨æ€SQLå¿…é¡»ç”¨`<script>`åŒ…è£¹ã€‚

**æ¡ä»¶æŸ¥è¯¢ç¤ºä¾‹**ï¼š

```java
@Select("<script>" +
        "SELECT * FROM user " +
        "<where>" +
        "  <if test='username != null'>" +
        "    AND username LIKE CONCAT('%', #{username}, '%')" +
        "  </if>" +
        "  <if test='age != null'>" +
        "    AND age = #{age}" +
        "  </if>" +
        "</where>" +
        "</script>")
List<User> findByCondition(@Param("username") String username, 
                           @Param("age") Integer age);
```

**ğŸ’¡ ç†è§£è¦ç‚¹**ï¼š
- `<script>`ï¼šå‘Šè¯‰MyBatisè¿™æ˜¯åŠ¨æ€SQL
- `<where>`ï¼šè‡ªåŠ¨å¤„ç†AND/ORï¼Œé¿å…SQLè¯­æ³•é”™è¯¯
- `<if>`ï¼šæ¡ä»¶åˆ¤æ–­ï¼Œtesté‡Œå†™åˆ¤æ–­è¡¨è¾¾å¼

### 8.2 æ‰¹é‡æ“ä½œå¤„ç†


**æ‰¹é‡æ’å…¥**ï¼š

```java
@Insert("<script>" +
        "INSERT INTO user(username, password, age) VALUES " +
        "<foreach collection='users' item='user' separator=','>" +
        "(#{user.username}, #{user.password}, #{user.age})" +
        "</foreach>" +
        "</script>")
int insertBatch(@Param("users") List<User> users);
```

**ç”Ÿæˆçš„SQLç¤ºä¾‹**ï¼š

```sql
-- å‡è®¾ä¼ å…¥3ä¸ªç”¨æˆ·
INSERT INTO user(username, password, age) VALUES 
('å¼ ä¸‰', '123', 20),
('æå››', '456', 25),
('ç‹äº”', '789', 30)
```

**ğŸ”¸ foreachå‚æ•°è¯´æ˜**ï¼š

| å‚æ•° | å«ä¹‰ | ç¤ºä¾‹å€¼ |
|------|------|--------|
| `collection` | é›†åˆå‚æ•°å | `users` |
| `item` | å¾ªç¯å˜é‡å | `user` |
| `separator` | åˆ†éš”ç¬¦ | `,` |
| `open` | å¼€å§‹ç¬¦å· | `(` |
| `close` | ç»“æŸç¬¦å· | `)` |

### 8.3 å¤æ‚SQLå»ºè®®


**ä½•æ—¶è¯¥ç”¨XML**ï¼š

```
æ³¨è§£é€‚åˆ âœ…                    XMLé€‚åˆ âœ…
- å•è¡¨ç®€å•CRUD                 - å¤šè¡¨è¿æ¥æŸ¥è¯¢
- SQLå°‘äº3è¡Œ                  - å¤æ‚åŠ¨æ€SQL
- æ²¡æœ‰åµŒå¥—æŸ¥è¯¢                 - SQLè¶…è¿‡5è¡Œ
- ä¸éœ€è¦ä»£ç æ ¼å¼åŒ–              - éœ€è¦SQLæ€§èƒ½ä¼˜åŒ–

ç¤ºä¾‹å¯¹æ¯”ï¼š

ç®€å•æŸ¥è¯¢ï¼ˆç”¨æ³¨è§£ï¼‰ï¼š
@Select("SELECT * FROM user WHERE id = #{id}")

å¤æ‚æŸ¥è¯¢ï¼ˆç”¨XMLï¼‰ï¼š
<select id="findUserOrders">
    SELECT u.*, o.* 
    FROM user u
    LEFT JOIN order o ON u.id = o.user_id
    WHERE 1=1
    <if test="startDate != null">
        AND o.create_time >= #{startDate}
    </if>
    <if test="endDate != null">
        AND o.create_time &lt;= #{endDate}
    </if>
    ORDER BY o.create_time DESC
</select>
```

**ğŸ¯ å®æˆ˜ç»éªŒ**ï¼š
- SQLè¶…è¿‡3è¡Œ â†’ è€ƒè™‘ç”¨XML
- æœ‰3ä¸ªä»¥ä¸Š`<if>`åˆ¤æ–­ â†’ å»ºè®®ç”¨XML
- å¤šè¡¨å…³è” â†’ ä¼˜å…ˆç”¨XML
- å›¢é˜Ÿç»´æŠ¤ â†’ XMLæ›´ç›´è§‚

---

## 9. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 9.1 æ³¨è§£åŠŸèƒ½é€ŸæŸ¥è¡¨


| æ³¨è§£ | ä½œç”¨ | ä½¿ç”¨åœºæ™¯ | ç¤ºä¾‹ |
|------|------|---------|------|
| `@Mapper` | æ ‡è¯†Mapperæ¥å£ | æ¯ä¸ªæ¥å£å¿…åŠ  | `@Mapper` |
| `@Select` | æŸ¥è¯¢æ“ä½œ | æ•°æ®æŸ¥è¯¢ | `@Select("SELECT * FROM user")` |
| `@Insert` | æ’å…¥æ“ä½œ | æ–°å¢æ•°æ® | `@Insert("INSERT INTO...")` |
| `@Update` | æ›´æ–°æ“ä½œ | ä¿®æ”¹æ•°æ® | `@Update("UPDATE...")` |
| `@Delete` | åˆ é™¤æ“ä½œ | åˆ é™¤æ•°æ® | `@Delete("DELETE FROM...")` |
| `@Results` | ç»“æœæ˜ å°„ | å­—æ®µåä¸åŒ¹é… | `@Results({@Result(...)})` |
| `@One` | ä¸€å¯¹ä¸€å…³è” | å…³è”å•ä¸ªå¯¹è±¡ | `@One(select="...")` |
| `@Many` | ä¸€å¯¹å¤šå…³è” | å…³è”é›†åˆå¯¹è±¡ | `@Many(select="...")` |
| `@Param` | å‚æ•°å‘½å | å¤šå‚æ•°æ–¹æ³• | `@Param("name")` |
| `@Options` | å…¶ä»–é€‰é¡¹ | è·å–ä¸»é”®ç­‰ | `@Options(useGeneratedKeys=true)` |

### 9.2 å¼€å‘æµç¨‹æ€»ç»“


```
MyBatisæ³¨è§£å¼€å‘äº”æ­¥éª¤ï¼š

ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºMapperæ¥å£
@Mapper
public interface UserMapper { }

ç¬¬äºŒæ­¥ï¼šå®šä¹‰æ–¹æ³•ç­¾å
User findById(Integer id);

ç¬¬ä¸‰æ­¥ï¼šæ·»åŠ SQLæ³¨è§£
@Select("SELECT * FROM user WHERE id = #{id}")

ç¬¬å››æ­¥ï¼šå¤„ç†ç»“æœæ˜ å°„ï¼ˆå¯é€‰ï¼‰
@Results({...})  // å­—æ®µä¸åŒ¹é…æ—¶ç”¨

ç¬¬äº”æ­¥ï¼šæ³¨å…¥ä½¿ç”¨
@Autowired
private UserMapper userMapper;
```

### 9.3 æ³¨æ„äº‹é¡¹æ¸…å•


**â˜‘ï¸ å¼€å‘è§„èŒƒ**ï¼š
- `@Mapper`å’Œ`@MapperScan`äºŒé€‰ä¸€ï¼Œä¸è¦é‡å¤
- å¤šå‚æ•°æ–¹æ³•å¿…é¡»åŠ `@Param`æ³¨è§£
- å¤æ‚SQLä¼˜å…ˆè€ƒè™‘ç”¨XML
- æ³¨æ„SQLæ³¨å…¥é£é™©ï¼Œç”¨`#{}`ä¸ç”¨`${}`

**â˜‘ï¸ æ€§èƒ½ä¼˜åŒ–**ï¼š
- å…³è”æŸ¥è¯¢æ³¨æ„N+1é—®é¢˜
- æ‰¹é‡æ“ä½œç”¨`<foreach>`
- åˆç†ä½¿ç”¨ç¼“å­˜æ³¨è§£
- é¿å…æŸ¥è¯¢`SELECT *`ï¼ŒæŒ‰éœ€æŸ¥å­—æ®µ

**â˜‘ï¸ å¸¸è§é”™è¯¯**ï¼š
- namespaceè·¯å¾„å†™é”™ï¼ˆæ··ç”¨æ—¶ï¼‰
- æ–¹æ³•åå’ŒXMLçš„idä¸ä¸€è‡´
- å¿˜è®°é…ç½®mapperæ‰«æè·¯å¾„
- ç»“æœæ˜ å°„å­—æ®µåæ‹¼å†™é”™è¯¯

### 9.4 å­¦ä¹ å»ºè®®


**ğŸ¯ å­¦ä¹ è·¯çº¿**ï¼š

```
ç¬¬ä¸€é˜¶æ®µï¼šæŒæ¡åŸºç¡€
âœ“ @Mapper + @Select/@Insert/@Update/@Delete
âœ“ å•è¡¨CRUDæ“ä½œ
âœ“ @Paramå‚æ•°ä½¿ç”¨

ç¬¬äºŒé˜¶æ®µï¼šç»“æœæ˜ å°„  
âœ“ @Resultså­—æ®µæ˜ å°„
âœ“ @ResultMapå¤ç”¨
âœ“ è§£å†³ä¸‹åˆ’çº¿å‘½åé—®é¢˜

ç¬¬ä¸‰é˜¶æ®µï¼šå…³è”æŸ¥è¯¢
âœ“ @Oneä¸€å¯¹ä¸€
âœ“ @Manyä¸€å¯¹å¤š
âœ“ ç†è§£å»¶è¿ŸåŠ è½½

ç¬¬å››é˜¶æ®µï¼šæ··åˆå¼€å‘
âœ“ æ³¨è§£+XMLç»“åˆ
âœ“ åŠ¨æ€SQLå¤„ç†
âœ“ å¤æ‚æŸ¥è¯¢ä¼˜åŒ–
```

**ğŸ’¡ å®æˆ˜å»ºè®®**ï¼š
- ä»ç®€å•çš„å•è¡¨CRUDå¼€å§‹ç»ƒä¹ 
- æ¯ä¸ªæ³¨è§£éƒ½è¦äº²æ‰‹å†™ä»£ç éªŒè¯
- é‡åˆ°å¤æ‚SQLä¸è¦ç¡¬æ’‘ï¼Œç”¨XML
- å¤šçœ‹å®˜æ–¹æ–‡æ¡£å’Œæºç 

**ğŸ”¸ è®°å¿†å£è¯€**ï¼š

```
Mapperæ¥å£åŠ æ³¨è§£ï¼ŒSQLç›´æ¥å†™æ–¹æ³•ä¸Š
SelectæŸ¥Insertå¢ï¼ŒUpdateæ”¹Deleteåˆ 
å¤šä¸ªå‚æ•°Paramæ³¨ï¼Œç»“æœæ˜ å°„Resultså¸®
ä¸€å¯¹ä¸€ç”¨Oneæ³¨è§£ï¼Œä¸€å¯¹å¤šç”¨Manyå¿™
å¤æ‚SQLæ‰¾XMLï¼Œç®€å•ç›´æ¥æ³¨è§£çˆ½
```