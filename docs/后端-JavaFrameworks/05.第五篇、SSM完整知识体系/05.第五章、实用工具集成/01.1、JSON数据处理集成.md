---
title: 1ã€JSONæ•°æ®å¤„ç†é›†æˆ
---
## ğŸ“š ç›®å½•

1. [JSONå¤„ç†æ¡†æ¶åŸºç¡€](#1-JSONå¤„ç†æ¡†æ¶åŸºç¡€)
2. [Jacksonæ¡†æ¶é›†æˆ](#2-Jacksonæ¡†æ¶é›†æˆ)
3. [å¯¹è±¡åºåˆ—åŒ–é…ç½®](#3-å¯¹è±¡åºåˆ—åŒ–é…ç½®)
4. [å¯¹è±¡ååºåˆ—åŒ–é…ç½®](#4-å¯¹è±¡ååºåˆ—åŒ–é…ç½®)
5. [æ—¥æœŸæ—¶é—´å¤„ç†](#5-æ—¥æœŸæ—¶é—´å¤„ç†)
6. [å­—æ®µæ§åˆ¶ç­–ç•¥](#6-å­—æ®µæ§åˆ¶ç­–ç•¥)
7. [é«˜çº§å®šåˆ¶åŒ–é…ç½®](#7-é«˜çº§å®šåˆ¶åŒ–é…ç½®)
8. [å®æˆ˜åº”ç”¨åœºæ™¯](#8-å®æˆ˜åº”ç”¨åœºæ™¯)
9. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#9-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸŒŸ JSONå¤„ç†æ¡†æ¶åŸºç¡€


### 1.1 ä»€ä¹ˆæ˜¯JSONå¤„ç†


**ğŸ”¸ JSONçš„æœ¬è´¨ç†è§£**

JSONï¼ˆJavaScript Object Notationï¼‰å…¶å®å°±æ˜¯ä¸€ç§**æ–‡æœ¬æ ¼å¼çš„æ•°æ®äº¤æ¢æ ¼å¼**ï¼Œè¯´ç™½äº†å°±æ˜¯ç”¨æ¥åœ¨ç¨‹åºä¹‹é—´ä¼ é€’æ•°æ®çš„ä¸€ç§"é€šç”¨è¯­è¨€"ã€‚

```
ä¸ºä»€ä¹ˆéœ€è¦JSONï¼Ÿ

åœºæ™¯ä¸€ï¼šå‰ç«¯ä¸åç«¯é€šä¿¡
æµè§ˆå™¨ï¼ˆJavaScriptï¼‰ â†â†’ æœåŠ¡å™¨ï¼ˆJavaï¼‰
é—®é¢˜ï¼šJavaScriptå¯¹è±¡å’ŒJavaå¯¹è±¡æ ¼å¼ä¸åŒï¼Œæ€ä¹ˆä¼ é€’æ•°æ®ï¼Ÿ
è§£å†³ï¼šæŠŠå¯¹è±¡è½¬æˆJSONå­—ç¬¦ä¸²ä¼ é€’

åœºæ™¯äºŒï¼šç³»ç»Ÿé—´æ•°æ®äº¤æ¢  
è®¢å•ç³»ç»Ÿ â†â†’ æ”¯ä»˜ç³»ç»Ÿ â†â†’ ç‰©æµç³»ç»Ÿ
é—®é¢˜ï¼šä¸åŒè¯­è¨€å¼€å‘çš„ç³»ç»Ÿå¦‚ä½•äº¤æ¢æ•°æ®ï¼Ÿ
è§£å†³ï¼šç»Ÿä¸€ä½¿ç”¨JSONæ ¼å¼

JSONçš„æ ·å­ï¼š
{
  "name": "å¼ ä¸‰",
  "age": 25,
  "hobbies": ["è¯»ä¹¦", "è¿åŠ¨"]
}
```

### 1.2 åºåˆ—åŒ–ä¸ååºåˆ—åŒ–æ¦‚å¿µ


**ğŸ’¡ æ ¸å¿ƒæ¦‚å¿µé€šä¿—è§£é‡Š**

```
åºåˆ—åŒ–ï¼ˆSerializationï¼‰ï¼š
ç®€å•è¯´ = æŠŠJavaå¯¹è±¡å˜æˆJSONå­—ç¬¦ä¸²
å°±åƒï¼šæŠŠä¸€æœ¬ä¹¦çš„å†…å®¹æŠ„å†™æˆæ–‡å­—

Javaå¯¹è±¡ â”€â”€åºåˆ—åŒ–â”€â”€> JSONå­—ç¬¦ä¸²
Userå¯¹è±¡     è½¬æ¢      {"name":"å¼ ä¸‰","age":25}

ååºåˆ—åŒ–ï¼ˆDeserializationï¼‰ï¼š
ç®€å•è¯´ = æŠŠJSONå­—ç¬¦ä¸²å˜å›Javaå¯¹è±¡  
å°±åƒï¼šæ ¹æ®æ–‡å­—è¿˜åŸå‡ºä¸€æœ¬ä¹¦

JSONå­—ç¬¦ä¸² â”€â”€ååºåˆ—åŒ–â”€â”€> Javaå¯¹è±¡
{"name":"å¼ ä¸‰"}  è½¬æ¢     Userå¯¹è±¡
```

### 1.3 å¸¸è§JSONå¤„ç†æ¡†æ¶å¯¹æ¯”


| æ¡†æ¶ | ç‰¹ç‚¹ | ä½¿ç”¨åœºæ™¯ | æµè¡Œåº¦ |
|------|------|----------|--------|
| **Jackson** | åŠŸèƒ½å¼ºå¤§ã€æ€§èƒ½å¥½ã€SpringBooté»˜è®¤ | ä¼ä¸šçº§é¡¹ç›®é¦–é€‰ | â­â­â­â­â­ |
| **Fastjson** | é˜¿é‡Œå‡ºå“ã€é€Ÿåº¦å¿«ã€APIç®€å• | å›½å†…é¡¹ç›®å¸¸ç”¨ | â­â­â­â­ |
| **Gson** | Googleå‡ºå“ã€ç¨³å®šå¯é  | è€é¡¹ç›®å¸¸è§ | â­â­â­ |

**ä¸ºä»€ä¹ˆé€‰æ‹©Jacksonï¼Ÿ**
- SpringBootå®˜æ–¹é»˜è®¤ä½¿ç”¨
- åŠŸèƒ½æœ€å®Œå–„ï¼Œå„ç§åœºæ™¯éƒ½èƒ½åº”å¯¹
- æ€§èƒ½ä¼˜ç§€ï¼Œå¤§å‚éƒ½åœ¨ç”¨
- æ–‡æ¡£ä¸°å¯Œï¼Œç¤¾åŒºæ´»è·ƒ

---

## 2. ğŸ”§ Jacksonæ¡†æ¶é›†æˆ


### 2.1 Mavenä¾èµ–é…ç½®


**ğŸ“¦ æ·»åŠ Jacksonä¾èµ–**

åœ¨SpringBooté¡¹ç›®ä¸­ï¼Œé»˜è®¤å·²ç»é›†æˆäº†Jacksonï¼Œä¸éœ€è¦é¢å¤–æ·»åŠ ã€‚å¦‚æœæ˜¯æ™®é€šJavaé¡¹ç›®ï¼Œéœ€è¦æ‰‹åŠ¨æ·»åŠ ï¼š

```xml
<!-- Jacksonæ ¸å¿ƒåº“ -->
<dependency>
    <groupId>com.fasterxml.jackson.core</groupId>
    <artifactId>jackson-databind</artifactId>
    <version>2.15.0</version>
</dependency>

<!-- å¤„ç†Java8æ—¥æœŸæ—¶é—´ç±»å‹ -->
<dependency>
    <groupId>com.fasterxml.jackson.datatype</groupId>
    <artifactId>jackson-datatype-jsr310</artifactId>
    <version>2.15.0</version>
</dependency>
```

### 2.2 SpringBootä¸­çš„Jacksoné…ç½®


**âš™ï¸ å…¨å±€é…ç½®æ–¹å¼**

```java
@Configuration
public class JacksonConfig {
    
    @Bean
    public ObjectMapper objectMapper() {
        ObjectMapper mapper = new ObjectMapper();
        
        // é…ç½®è¯´æ˜ä¼šåœ¨åé¢è¯¦ç»†è®²è§£
        // è¿™é‡Œå…ˆæœ‰ä¸ªæ•´ä½“å°è±¡
        
        return mapper;
    }
}
```

**application.ymlé…ç½®æ–‡ä»¶æ–¹å¼**

```yaml
spring:
  jackson:
    # æ—¥æœŸæ ¼å¼åŒ–
    date-format: yyyy-MM-dd HH:mm:ss
    # æ—¶åŒºè®¾ç½®
    time-zone: GMT+8
    # åºåˆ—åŒ–é…ç½®
    serialization:
      # ç¾åŒ–è¾“å‡ºï¼ˆå¼€å‘æ—¶ç”¨ï¼Œç”Ÿäº§ç¯å¢ƒå»ºè®®å…³é—­ï¼‰
      indent_output: true
    # ååºåˆ—åŒ–é…ç½®  
    deserialization:
      # å¿½ç•¥æœªçŸ¥å­—æ®µ
      fail-on-unknown-properties: false
```

### 2.3 æ ¸å¿ƒå·¥å…·ç±»ObjectMapper


**ğŸ”¸ ObjectMapperæ˜¯ä»€ä¹ˆï¼Ÿ**

ObjectMapperå°±æ˜¯Jacksonçš„"æ ¸å¿ƒå·¥å…·"ï¼Œå°±åƒä¸€ä¸ª**ç¿»è¯‘å®˜**ï¼Œè´Ÿè´£åœ¨Javaå¯¹è±¡å’ŒJSONå­—ç¬¦ä¸²ä¹‹é—´äº’ç›¸è½¬æ¢ã€‚

```
ObjectMapperçš„ä½œç”¨ï¼š

1. åºåˆ—åŒ–ï¼šJavaå¯¹è±¡ â†’ JSONå­—ç¬¦ä¸²
   mapper.writeValueAsString(å¯¹è±¡)

2. ååºåˆ—åŒ–ï¼šJSONå­—ç¬¦ä¸² â†’ Javaå¯¹è±¡
   mapper.readValue(jsonå­—ç¬¦ä¸², ç±»ç±»å‹)

3. è¯»å†™JSONæ–‡ä»¶
   mapper.writeValue(æ–‡ä»¶, å¯¹è±¡)
   mapper.readValue(æ–‡ä»¶, ç±»ç±»å‹)
```

---

## 3. ğŸ“¤ å¯¹è±¡åºåˆ—åŒ–é…ç½®


### 3.1 åŸºæœ¬åºåˆ—åŒ–æ“ä½œ


**ğŸ”¸ æœ€ç®€å•çš„åºåˆ—åŒ–ç¤ºä¾‹**

```java
// 1. å‡†å¤‡ä¸€ä¸ªJavaå¯¹è±¡
public class User {
    private String name;
    private Integer age;
    private String email;
    // getter/setterçœç•¥
}

// 2. åˆ›å»ºObjectMapper
ObjectMapper mapper = new ObjectMapper();

// 3. åºåˆ—åŒ–æˆJSONå­—ç¬¦ä¸²
User user = new User("å¼ ä¸‰", 25, "zhangsan@example.com");
String json = mapper.writeValueAsString(user);

// è¾“å‡ºç»“æœï¼š
// {"name":"å¼ ä¸‰","age":25,"email":"zhangsan@example.com"}
```

### 3.2 ç¾åŒ–JSONè¾“å‡º


**ğŸ’¡ è®©JSONæ›´æ˜“è¯»**

```java
ObjectMapper mapper = new ObjectMapper();

// å¯ç”¨ç¾åŒ–è¾“å‡º
mapper.enable(SerializationFeature.INDENT_OUTPUT);

String json = mapper.writeValueAsString(user);

// è¾“å‡ºç»“æœå˜æˆè¿™æ ·ï¼ˆæ›´æ˜“è¯»ï¼‰ï¼š
/*
{
  "name" : "å¼ ä¸‰",
  "age" : 25,
  "email" : "zhangsan@example.com"
}
*/
```

> ğŸ’¡ **æç¤º**ï¼šç¾åŒ–è¾“å‡ºä¼šå¢åŠ JSONå­—ç¬¦ä¸²çš„å¤§å°ï¼Œç”Ÿäº§ç¯å¢ƒå»ºè®®å…³é—­ï¼Œä»…åœ¨å¼€å‘è°ƒè¯•æ—¶ä½¿ç”¨ã€‚

### 3.3 å¤„ç†nullå€¼


**ğŸ”¸ ç©ºå€¼å¤„ç†ç­–ç•¥**

```java
public class User {
    private String name;
    private Integer age;
    private String email;  // è¿™ä¸ªå­—æ®µå¯èƒ½ä¸ºnull
}

// ç­–ç•¥ä¸€ï¼šåŒ…å«nullå€¼ï¼ˆé»˜è®¤ï¼‰
ObjectMapper mapper = new ObjectMapper();
// è¾“å‡ºï¼š{"name":"å¼ ä¸‰","age":25,"email":null}

// ç­–ç•¥äºŒï¼šå¿½ç•¥nullå€¼
mapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);
// è¾“å‡ºï¼š{"name":"å¼ ä¸‰","age":25}

// ç­–ç•¥ä¸‰ï¼šå¿½ç•¥ç©ºå€¼å’Œnull
mapper.setSerializationInclusion(JsonInclude.Include.NON_EMPTY);
// ç©ºå­—ç¬¦ä¸²ã€ç©ºé›†åˆã€nulléƒ½ä¸è¾“å‡º
```

**ğŸ¯ ä½¿ç”¨æ³¨è§£æ§åˆ¶å•ä¸ªç±»**

```java
@JsonInclude(JsonInclude.Include.NON_NULL)  // åªå¯¹è¿™ä¸ªç±»ç”Ÿæ•ˆ
public class User {
    private String name;
    private String email;
}
```

### 3.4 å±æ€§æ’åº


**ğŸ“‹ æ§åˆ¶å­—æ®µè¾“å‡ºé¡ºåº**

```java
// æ–¹å¼ä¸€ï¼šå­—æ¯é¡ºåºæ’åº
mapper.configure(MapperFeature.SORT_PROPERTIES_ALPHABETICALLY, true);

// æ–¹å¼äºŒï¼šä½¿ç”¨æ³¨è§£æŒ‡å®šé¡ºåº
@JsonPropertyOrder({"name", "age", "email"})  // æŒ‰è¿™ä¸ªé¡ºåºè¾“å‡º
public class User {
    private String email;
    private Integer age;
    private String name;
}
```

---

## 4. ğŸ“¥ å¯¹è±¡ååºåˆ—åŒ–é…ç½®


### 4.1 åŸºæœ¬ååºåˆ—åŒ–æ“ä½œ


**ğŸ”¸ JSONå­—ç¬¦ä¸²è½¬Javaå¯¹è±¡**

```java
// 1. å‡†å¤‡JSONå­—ç¬¦ä¸²
String json = "{\"name\":\"å¼ ä¸‰\",\"age\":25}";

// 2. ååºåˆ—åŒ–æˆJavaå¯¹è±¡
ObjectMapper mapper = new ObjectMapper();
User user = mapper.readValue(json, User.class);

// 3. ä½¿ç”¨å¯¹è±¡
System.out.println(user.getName());  // è¾“å‡ºï¼šå¼ ä¸‰
```

### 4.2 å¤„ç†æœªçŸ¥å­—æ®µ


**ğŸ’¡ JSONä¸­æœ‰å¤šä½™å­—æ®µæ€ä¹ˆåŠï¼Ÿ**

```java
// é—®é¢˜ï¼šJSONä¸­æœ‰å­—æ®µï¼Œä½†Javaç±»ä¸­æ²¡æœ‰å¯¹åº”å±æ€§
String json = "{\"name\":\"å¼ ä¸‰\",\"age\":25,\"unknown\":\"test\"}";
// Userç±»åªæœ‰nameå’Œageï¼Œæ²¡æœ‰unknownå­—æ®µ

// é»˜è®¤æƒ…å†µä¼šæŠ¥é”™ï¼
// è§£å†³æ–¹æ¡ˆï¼šå¿½ç•¥æœªçŸ¥å­—æ®µ
mapper.configure(
    DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, 
    false  // è®¾ä¸ºfalseè¡¨ç¤ºå¿½ç•¥
);

// ç°åœ¨å¯ä»¥æ­£å¸¸ååºåˆ—åŒ–äº†
User user = mapper.readValue(json, User.class);
```

> âš ï¸ **æ³¨æ„**ï¼šç”Ÿäº§ç¯å¢ƒå»ºè®®è®¾ç½®ä¸ºfalseï¼Œå¢å¼ºå®¹é”™æ€§ï¼Œé¿å…å› å­—æ®µå˜æ›´å¯¼è‡´ç¨‹åºå¼‚å¸¸ã€‚

### 4.3 å¤„ç†ç¼ºå¤±å­—æ®µ


**ğŸ”¸ JSONä¸­ç¼ºå°‘æŸäº›å­—æ®µ**

```java
// Javaç±»å®šä¹‰
public class User {
    private String name;
    private Integer age;     // å¿…å¡«
    private String email;    // å¯é€‰
}

// JSONå­—ç¬¦ä¸²ç¼ºå°‘ageå­—æ®µ
String json = "{\"name\":\"å¼ ä¸‰\"}";

// å¦‚æœageæ˜¯å¿…å¡«çš„ï¼Œè®¾ç½®nullå€¼å¤±è´¥æŠ¥é”™
mapper.configure(
    DeserializationFeature.FAIL_ON_NULL_FOR_PRIMITIVES,
    true  // åŸºæœ¬ç±»å‹ä¸å…è®¸null
);

// æ›´å¥½çš„åšæ³•ï¼šä½¿ç”¨åŒ…è£…ç±»å‹
public class User {
    private String name;
    private Integer age;  // Integerå¯ä»¥ä¸ºnull
}
```

### 4.4 ç±»å‹è½¬æ¢é…ç½®


**ğŸ”§ æ•°æ®ç±»å‹ä¸åŒ¹é…çš„å¤„ç†**

```java
// JSONä¸­æ˜¯å­—ç¬¦ä¸²ï¼ŒJavaä¸­æ˜¯æ•°å­—
String json = "{\"name\":\"å¼ ä¸‰\",\"age\":\"25\"}";  // ageæ˜¯å­—ç¬¦ä¸²

// é»˜è®¤ä¼šæŠ¥é”™ï¼Œå¯ä»¥å¼€å¯è‡ªåŠ¨ç±»å‹è½¬æ¢
mapper.configure(
    DeserializationFeature.ACCEPT_SINGLE_VALUE_AS_ARRAY,
    true  // å•ä¸ªå€¼å¯ä»¥è½¬æˆæ•°ç»„
);

mapper.configure(
    DeserializationFeature.READ_UNKNOWN_ENUM_VALUES_AS_NULL,
    true  // æœªçŸ¥æšä¸¾å€¼è½¬ä¸ºnull
);
```

---

## 5. â° æ—¥æœŸæ—¶é—´å¤„ç†


### 5.1 æ—¥æœŸæ ¼å¼åŒ–é…ç½®


**ğŸ”¸ Dateç±»å‹çš„å¤„ç†**

```java
public class Order {
    private String orderId;
    private Date createTime;  // java.util.Dateç±»å‹
}

// é…ç½®æ—¥æœŸæ ¼å¼
ObjectMapper mapper = new ObjectMapper();
SimpleDateFormat dateFormat = new SimpleDateFormat("yyyy-MM-dd HH:mm:ss");
mapper.setDateFormat(dateFormat);

// åºåˆ—åŒ–è¾“å‡º
// {"orderId":"001","createTime":"2024-01-15 10:30:00"}
```

**application.ymlé…ç½®æ–¹å¼**

```yaml
spring:
  jackson:
    date-format: yyyy-MM-dd HH:mm:ss  # ç»Ÿä¸€æ—¥æœŸæ ¼å¼
```

### 5.2 æ—¶åŒºå¤„ç†é…ç½®


**ğŸŒ æ—¶åŒºé—®é¢˜è§£å†³**

```java
// é—®é¢˜ï¼šæœåŠ¡å™¨åœ¨å›½å¤–ï¼Œæ—¶é—´æ˜¾ç¤ºä¸å¯¹
// è§£å†³ï¼šè®¾ç½®ä¸­å›½æ—¶åŒº

ObjectMapper mapper = new ObjectMapper();
mapper.setTimeZone(TimeZone.getTimeZone("GMT+8"));

// æˆ–è€…ç”¨é…ç½®æ–‡ä»¶
```

```yaml
spring:
  jackson:
    time-zone: GMT+8  # ä¸œå…«åŒºï¼ˆä¸­å›½æ ‡å‡†æ—¶é—´ï¼‰
```

### 5.3 Java8æ—¥æœŸæ—¶é—´ç±»å‹æ”¯æŒ


**ğŸ”¸ LocalDateTimeçš„å¤„ç†**

```java
public class Order {
    private String orderId;
    private LocalDateTime createTime;  // Java8æ—¥æœŸç±»å‹
}

// éœ€è¦æ³¨å†ŒJava8æ—¥æœŸæ¨¡å—
ObjectMapper mapper = new ObjectMapper();
mapper.registerModule(new JavaTimeModule());

// é…ç½®åºåˆ—åŒ–æ ¼å¼
JavaTimeModule javaTimeModule = new JavaTimeModule();
javaTimeModule.addSerializer(
    LocalDateTime.class,
    new LocalDateTimeSerializer(
        DateTimeFormatter.ofPattern("yyyy-MM-dd HH:mm:ss")
    )
);
mapper.registerModule(javaTimeModule);
```

**SpringBootä¸­æ›´ç®€å•çš„é…ç½®**

```yaml
spring:
  jackson:
    serialization:
      write-dates-as-timestamps: false  # ä¸ä½¿ç”¨æ—¶é—´æˆ³æ ¼å¼
```

### 5.4 ä½¿ç”¨æ³¨è§£é…ç½®æ—¥æœŸæ ¼å¼


**ğŸ’¡ å•ç‹¬ä¸ºæŸä¸ªå­—æ®µè®¾ç½®æ ¼å¼**

```java
public class Order {
    private String orderId;
    
    // ä¸ºè¿™ä¸ªå­—æ®µå•ç‹¬è®¾ç½®æ ¼å¼
    @JsonFormat(pattern = "yyyy-MM-dd HH:mm:ss", timezone = "GMT+8")
    private LocalDateTime createTime;
    
    @JsonFormat(pattern = "yyyy-MM-dd")  // åªè¦æ—¥æœŸ
    private LocalDate orderDate;
}
```

---

## 6. ğŸ¯ å­—æ®µæ§åˆ¶ç­–ç•¥


### 6.1 å­—æ®µå¿½ç•¥ç­–ç•¥


**ğŸ”¸ ä¸æƒ³åºåˆ—åŒ–æŸäº›å­—æ®µ**

```java
public class User {
    private String username;
    private String password;  // å¯†ç ä¸èƒ½åºåˆ—åŒ–ï¼
    
    @JsonIgnore  // ä½¿ç”¨è¿™ä¸ªæ³¨è§£å¿½ç•¥å­—æ®µ
    public String getPassword() {
        return password;
    }
}

// åºåˆ—åŒ–ç»“æœï¼š{"username":"zhangsan"}
// å¯†ç å­—æ®µè¢«å¿½ç•¥äº†
```

**æ‰¹é‡å¿½ç•¥å­—æ®µ**

```java
@JsonIgnoreProperties({"password", "secretKey"})  // å¿½ç•¥å¤šä¸ªå­—æ®µ
public class User {
    private String username;
    private String password;
    private String secretKey;
}
```

### 6.2 å‘½åç­–ç•¥é…ç½®


**ğŸ”¸ Javaå‘½åè½¬JSONå‘½å**

```java
// Javaä¸­ä½¿ç”¨é©¼å³°å‘½å
public class User {
    private String firstName;  // é©¼å³°å‘½å
    private String lastName;
}

// ç­–ç•¥ä¸€ï¼šè½¬æˆä¸‹åˆ’çº¿ï¼ˆæ¨èï¼Œç¬¦åˆJSONè§„èŒƒï¼‰
mapper.setPropertyNamingStrategy(PropertyNamingStrategies.SNAKE_CASE);
// è¾“å‡ºï¼š{"first_name":"å¼ ","last_name":"ä¸‰"}

// ç­–ç•¥äºŒï¼šè½¬æˆçŸ­æ¨ªçº¿
mapper.setPropertyNamingStrategy(PropertyNamingStrategies.KEBAB_CASE);
// è¾“å‡ºï¼š{"first-name":"å¼ ","last-name":"ä¸‰"}

// ç­–ç•¥ä¸‰ï¼šä¿æŒé©¼å³°ï¼ˆé»˜è®¤ï¼‰
// è¾“å‡ºï¼š{"firstName":"å¼ ","lastName":"ä¸‰"}
```

**ä½¿ç”¨æ³¨è§£å•ç‹¬æŒ‡å®š**

```java
public class User {
    @JsonProperty("user_name")  // æŒ‡å®šJSONä¸­çš„åå­—
    private String username;
    
    // åºåˆ—åŒ–è¾“å‡ºï¼š{"user_name":"zhangsan"}
}
```

### 6.3 å­—æ®µå¯è§æ€§æ§åˆ¶


**ğŸ”¸ ç§æœ‰å­—æ®µçš„è®¿é—®æ§åˆ¶**

```java
public class User {
    private String name;
    private String secret;  // ç§æœ‰å­—æ®µ
    
    // æ²¡æœ‰getteræ–¹æ³•ï¼Œé»˜è®¤ä¸ä¼šåºåˆ—åŒ–
}

// ä¿®æ”¹å¯è§æ€§è§„åˆ™
mapper.setVisibility(
    PropertyAccessor.FIELD,  // å­—æ®µçº§åˆ«
    JsonAutoDetect.Visibility.ANY  // æ‰€æœ‰å­—æ®µéƒ½å¯è§
);

// ç°åœ¨privateå­—æ®µä¹Ÿä¼šè¢«åºåˆ—åŒ–
```

---

## 7. ğŸ› ï¸ é«˜çº§å®šåˆ¶åŒ–é…ç½®


### 7.1 è‡ªå®šä¹‰åºåˆ—åŒ–å™¨


**ğŸ”¸ ä»€ä¹ˆæ—¶å€™éœ€è¦è‡ªå®šä¹‰åºåˆ—åŒ–ï¼Ÿ**

```
åœºæ™¯ï¼šé‡‘é¢å­—æ®µéœ€è¦ç‰¹æ®Šå¤„ç†
- Javaä¸­ï¼šä½¿ç”¨BigDecimalå­˜å‚¨ï¼Œå€¼ä¸º123.45
- JSONä¸­ï¼šå¸Œæœ›è¾“å‡º"123.45å…ƒ"
```

**å®ç°è‡ªå®šä¹‰åºåˆ—åŒ–å™¨**

```java
// 1. è‡ªå®šä¹‰åºåˆ—åŒ–å™¨
public class MoneySerializer extends JsonSerializer<BigDecimal> {
    
    @Override
    public void serialize(BigDecimal value, 
                         JsonGenerator gen,
                         SerializerProvider serializers) throws IOException {
        if (value != null) {
            // æ ¼å¼åŒ–æˆ"é‡‘é¢+å…ƒ"
            gen.writeString(value.toString() + "å…ƒ");
        }
    }
}

// 2. ä½¿ç”¨åºåˆ—åŒ–å™¨
public class Order {
    private String orderId;
    
    @JsonSerialize(using = MoneySerializer.class)  // ä½¿ç”¨è‡ªå®šä¹‰åºåˆ—åŒ–å™¨
    private BigDecimal totalAmount;
}

// 3. åºåˆ—åŒ–ç»“æœ
// {"orderId":"001","totalAmount":"123.45å…ƒ"}
```

### 7.2 è‡ªå®šä¹‰ååºåˆ—åŒ–å™¨


**ğŸ”¸ JSONæ•°æ®é¢„å¤„ç†**

```java
// 1. è‡ªå®šä¹‰ååºåˆ—åŒ–å™¨
public class MoneyDeserializer extends JsonDeserializer<BigDecimal> {
    
    @Override
    public BigDecimal deserialize(JsonParser p, 
                                 DeserializationContext ctxt) throws IOException {
        String text = p.getText();
        // å»æ‰"å…ƒ"å­—ï¼Œè½¬æˆæ•°å­—
        if (text.endsWith("å…ƒ")) {
            text = text.substring(0, text.length() - 1);
        }
        return new BigDecimal(text);
    }
}

// 2. ä½¿ç”¨ååºåˆ—åŒ–å™¨
public class Order {
    @JsonDeserialize(using = MoneyDeserializer.class)
    private BigDecimal totalAmount;
}

// 3. å¯ä»¥æ­£ç¡®è§£æ
// {"totalAmount":"123.45å…ƒ"} â†’ BigDecimal(123.45)
```

### 7.3 JSONè§†å›¾æ§åˆ¶


**ğŸ”¸ ä¸åŒåœºæ™¯æ˜¾ç¤ºä¸åŒå­—æ®µ**

```java
// 1. å®šä¹‰è§†å›¾æ¥å£
public class Views {
    public interface Public {}      // å…¬å¼€è§†å›¾
    public interface Internal {}    // å†…éƒ¨è§†å›¾
}

// 2. æ ‡è®°å­—æ®µå±äºå“ªä¸ªè§†å›¾
public class User {
    @JsonView(Views.Public.class)  // å…¬å¼€ä¿¡æ¯
    private String username;
    
    @JsonView(Views.Public.class)
    private String email;
    
    @JsonView(Views.Internal.class)  // å†…éƒ¨ä¿¡æ¯ï¼ˆå¦‚ç®¡ç†å‘˜å¯è§ï¼‰
    private String password;
    
    @JsonView(Views.Internal.class)
    private String secretKey;
}

// 3. ä½¿ç”¨ä¸åŒè§†å›¾åºåˆ—åŒ–
ObjectMapper mapper = new ObjectMapper();

// å…¬å¼€è§†å›¾ï¼ˆç»™æ™®é€šç”¨æˆ·çœ‹ï¼‰
String publicJson = mapper
    .writerWithView(Views.Public.class)
    .writeValueAsString(user);
// è¾“å‡ºï¼š{"username":"zhangsan","email":"xxx@example.com"}

// å†…éƒ¨è§†å›¾ï¼ˆç»™ç®¡ç†å‘˜çœ‹ï¼‰
String internalJson = mapper
    .writerWithView(Views.Internal.class)
    .writeValueAsString(user);
// è¾“å‡ºï¼šåŒ…å«æ‰€æœ‰å­—æ®µ
```

### 7.4 å¾ªç¯å¼•ç”¨å¤„ç†


**ğŸ”¸ å¯¹è±¡ä¹‹é—´ç›¸äº’å¼•ç”¨çš„é—®é¢˜**

```java
// é—®é¢˜åœºæ™¯ï¼šéƒ¨é—¨å’Œå‘˜å·¥ç›¸äº’å¼•ç”¨
public class Department {
    private String name;
    private List<Employee> employees;  // éƒ¨é—¨åŒ…å«å‘˜å·¥
}

public class Employee {
    private String name;
    private Department department;  // å‘˜å·¥å±äºéƒ¨é—¨
}

// åºåˆ—åŒ–ä¼šå‡ºç°æ­»å¾ªç¯ï¼
// Department â†’ Employee â†’ Department â†’ Employee â†’ ...

// è§£å†³æ–¹æ¡ˆä¸€ï¼šä½¿ç”¨@JsonManagedReferenceå’Œ@JsonBackReference
public class Department {
    private String name;
    
    @JsonManagedReference  // ä¸»å¼•ç”¨
    private List<Employee> employees;
}

public class Employee {
    private String name;
    
    @JsonBackReference  // åå‘å¼•ç”¨ï¼ˆä¸åºåˆ—åŒ–ï¼‰
    private Department department;
}

// è§£å†³æ–¹æ¡ˆäºŒï¼šä½¿ç”¨@JsonIdentityInfo
@JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class, 
                  property = "id")
public class Department {
    private Long id;
    private String name;
    private List<Employee> employees;
}
```

---

## 8. ğŸª å®æˆ˜åº”ç”¨åœºæ™¯


### 8.1 Webæ¥å£è¿”å›JSON


**ğŸ”¸ Controllerå±‚ä½¿ç”¨**

```java
@RestController
@RequestMapping("/api/users")
public class UserController {
    
    // æ–¹å¼ä¸€ï¼šè‡ªåŠ¨åºåˆ—åŒ–ï¼ˆæ¨èï¼‰
    @GetMapping("/{id}")
    public User getUser(@PathVariable Long id) {
        User user = userService.findById(id);
        return user;  // SpringBootè‡ªåŠ¨åºåˆ—åŒ–æˆJSON
    }
    
    // æ–¹å¼äºŒï¼šæ‰‹åŠ¨åºåˆ—åŒ–ï¼ˆç‰¹æ®Šåœºæ™¯ï¼‰
    @GetMapping("/{id}/custom")
    public String getUserCustom(@PathVariable Long id) throws Exception {
        User user = userService.findById(id);
        ObjectMapper mapper = new ObjectMapper();
        return mapper.writeValueAsString(user);
    }
}
```

### 8.2 æ¥æ”¶JSONè¯·æ±‚ä½“


**ğŸ”¸ æ¥æ”¶å‰ç«¯ä¼ æ¥çš„JSONæ•°æ®**

```java
@RestController
public class UserController {
    
    @PostMapping("/api/users")
    public User createUser(@RequestBody User user) {
        // @RequestBodyä¼šè‡ªåŠ¨æŠŠJSONååºåˆ—åŒ–æˆUserå¯¹è±¡
        return userService.save(user);
    }
}

// å‰ç«¯è¯·æ±‚ç¤ºä¾‹ï¼ˆjQueryï¼‰
/*
$.ajax({
    url: '/api/users',
    type: 'POST',
    contentType: 'application/json',
    data: JSON.stringify({
        username: 'zhangsan',
        email: 'zhangsan@example.com'
    }),
    success: function(response) {
        console.log('åˆ›å»ºæˆåŠŸ', response);
    }
});
*/
```

### 8.3 æ–‡ä»¶è¯»å†™


**ğŸ”¸ ä»æ–‡ä»¶è¯»å–/å†™å…¥JSON**

```java
// å†™å…¥æ–‡ä»¶
User user = new User("å¼ ä¸‰", 25);
mapper.writeValue(new File("user.json"), user);

// ä»æ–‡ä»¶è¯»å–
User user = mapper.readValue(new File("user.json"), User.class);

// ä»classpathè¯»å–
InputStream is = getClass().getResourceAsStream("/data.json");
List<User> users = mapper.readValue(is, 
    new TypeReference<List<User>>() {});
```

### 8.4 å¤æ‚ç±»å‹å¤„ç†


**ğŸ”¸ æ³›å‹å’Œé›†åˆçš„å¤„ç†**

```java
// ååºåˆ—åŒ–List
String json = "[{\"name\":\"å¼ ä¸‰\"},{\"name\":\"æå››\"}]";
List<User> users = mapper.readValue(json, 
    new TypeReference<List<User>>() {});  // ä½¿ç”¨TypeReferenceå¤„ç†æ³›å‹

// ååºåˆ—åŒ–Map
String mapJson = "{\"user1\":{\"name\":\"å¼ ä¸‰\"},\"user2\":{\"name\":\"æå››\"}}";
Map<String, User> userMap = mapper.readValue(mapJson,
    new TypeReference<Map<String, User>>() {});
```

---

## 9. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 9.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ JSONå¤„ç†æœ¬è´¨ï¼šå¯¹è±¡ä¸æ–‡æœ¬ä¹‹é—´çš„äº’ç›¸è½¬æ¢
ğŸ”¸ åºåˆ—åŒ–ï¼šJavaå¯¹è±¡ â†’ JSONå­—ç¬¦ä¸²ï¼ˆå‘é€æ•°æ®ï¼‰
ğŸ”¸ ååºåˆ—åŒ–ï¼šJSONå­—ç¬¦ä¸² â†’ Javaå¯¹è±¡ï¼ˆæ¥æ”¶æ•°æ®ï¼‰
ğŸ”¸ ObjectMapperï¼šJacksonçš„æ ¸å¿ƒå·¥å…·ç±»
ğŸ”¸ é…ç½®ä¼˜å…ˆçº§ï¼šæ³¨è§£ > ä»£ç é…ç½® > å…¨å±€é…ç½®
```

### 9.2 å…³é”®é…ç½®è¦ç‚¹


**ğŸ”¹ åºåˆ—åŒ–å¸¸ç”¨é…ç½®**
```
æ—¥æœŸæ ¼å¼åŒ–ï¼š
âœ… ç»Ÿä¸€ä½¿ç”¨ï¼šyyyy-MM-dd HH:mm:ss
âœ… æ—¶åŒºè®¾ç½®ï¼šGMT+8ï¼ˆä¸­å›½æ ‡å‡†æ—¶é—´ï¼‰

ç©ºå€¼å¤„ç†ï¼š
âœ… ç”Ÿäº§ç¯å¢ƒï¼šNON_NULLï¼ˆå¿½ç•¥nullå€¼ï¼‰
âœ… è°ƒè¯•å¼€å‘ï¼šåŒ…å«nullå€¼ä¾¿äºæ’æŸ¥é—®é¢˜

è¾“å‡ºæ ¼å¼ï¼š
âœ… å¼€å‘ç¯å¢ƒï¼šç¾åŒ–è¾“å‡ºï¼ˆINDENT_OUTPUTï¼‰
âœ… ç”Ÿäº§ç¯å¢ƒï¼šç´§å‡‘è¾“å‡ºï¼ˆèŠ‚çœå¸¦å®½ï¼‰
```

**ğŸ”¹ ååºåˆ—åŒ–å¸¸ç”¨é…ç½®**
```
å®¹é”™å¤„ç†ï¼š
âœ… FAIL_ON_UNKNOWN_PROPERTIES = falseï¼ˆå¿½ç•¥æœªçŸ¥å­—æ®µï¼‰
âœ… å¢å¼ºç³»ç»Ÿç¨³å®šæ€§ï¼Œé¿å…å­—æ®µå˜æ›´å¯¼è‡´å¼‚å¸¸

ç±»å‹è½¬æ¢ï¼š
âœ… ä½¿ç”¨åŒ…è£…ç±»å‹ï¼ˆIntegerä»£æ›¿intï¼‰
âœ… å¯ä»¥ä¸ºnullï¼Œé¿å…ååºåˆ—åŒ–å¤±è´¥
```

### 9.3 å®æˆ˜ç»éªŒå»ºè®®


**ğŸ’¡ å¼€å‘å»ºè®®**
```
é…ç½®ç®¡ç†ï¼š
âœ… å…¨å±€é…ç½®æ”¾åœ¨application.yml
âœ… ç‰¹æ®Šéœ€æ±‚ç”¨æ³¨è§£å•ç‹¬å¤„ç†
âœ… å¤æ‚é€»è¾‘ç”¨è‡ªå®šä¹‰åºåˆ—åŒ–å™¨

å®‰å…¨è€ƒè™‘ï¼š
âœ… æ•æ„Ÿå­—æ®µç”¨@JsonIgnoreå¿½ç•¥
âœ… å¯†ç ã€tokenç­‰ä¸è¦åºåˆ—åŒ–
âœ… ä½¿ç”¨JSONè§†å›¾æ§åˆ¶å­—æ®µå¯è§æ€§

æ€§èƒ½ä¼˜åŒ–ï¼š
âœ… ç”Ÿäº§ç¯å¢ƒå…³é—­ç¾åŒ–è¾“å‡º
âœ… å¿½ç•¥nullå€¼å‡å°‘æ•°æ®é‡
âœ… å¤ç”¨ObjectMapperå®ä¾‹ï¼ˆçº¿ç¨‹å®‰å…¨ï¼‰
```

### 9.4 å¸¸è§é—®é¢˜å¿«é€Ÿè§£å†³


**â“ é—®é¢˜ä¸€ï¼šæ—¥æœŸæ ¼å¼ä¸å¯¹**
```
ç°è±¡ï¼šDateå˜æˆæ—¶é—´æˆ³æ•°å­—
è§£å†³ï¼šè®¾ç½®date-format = yyyy-MM-dd HH:mm:ss
```

**â“ é—®é¢˜äºŒï¼šå¤šä½™å­—æ®µæŠ¥é”™**
```
ç°è±¡ï¼šJSONæœ‰å­—æ®µï¼ŒJavaç±»æ²¡æœ‰ï¼Œååºåˆ—åŒ–å¤±è´¥
è§£å†³ï¼šFAIL_ON_UNKNOWN_PROPERTIES = false
```

**â“ é—®é¢˜ä¸‰ï¼šå¾ªç¯å¼•ç”¨å¼‚å¸¸**
```
ç°è±¡ï¼šå¯¹è±¡ç›¸äº’å¼•ç”¨ï¼Œåºåˆ—åŒ–æ­»å¾ªç¯
è§£å†³ï¼šä½¿ç”¨@JsonManagedReference/@JsonBackReference
```

**â“ é—®é¢˜å››ï¼šä¸­æ–‡ä¹±ç **
```
ç°è±¡ï¼šä¸­æ–‡æ˜¾ç¤ºä¹±ç æˆ–é—®å·
è§£å†³ï¼šç¡®ä¿å“åº”ç¼–ç UTF-8ï¼Œ@RequestMappingæ·»åŠ produces
```

**æ ¸å¿ƒè®°å¿†**ï¼š
- Jacksonæ˜¯SpringBooté»˜è®¤JSONå¤„ç†æ¡†æ¶
- ObjectMapperæ˜¯æ ¸å¿ƒå·¥å…·ï¼Œè´Ÿè´£åºåˆ—åŒ–å’Œååºåˆ—åŒ–
- æ³¨è§£é…ç½®ä¼˜å…ˆçº§æœ€é«˜ï¼Œé€‚åˆç‰¹æ®Šéœ€æ±‚
- å…¨å±€é…ç½®åœ¨application.ymlï¼Œç»Ÿä¸€ç®¡ç†
- æ•æ„Ÿæ•°æ®ä¸€å®šè¦ç”¨@JsonIgnoreä¿æŠ¤
- å®¹é”™é…ç½®æé«˜ç³»ç»Ÿç¨³å®šæ€§