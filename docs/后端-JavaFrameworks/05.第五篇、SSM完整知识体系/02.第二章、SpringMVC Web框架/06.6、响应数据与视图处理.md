---
title: 6ã€å“åº”æ•°æ®ä¸è§†å›¾å¤„ç†
---
## ğŸ“š ç›®å½•

1. [@ResponseBodyæ³¨è§£ - è¿”å›æ•°æ®ç»™å‰ç«¯](#1-responsebodyæ³¨è§£-è¿”å›æ•°æ®ç»™å‰ç«¯)
2. [ResponseEntityå“åº”å®ä½“ - ç²¾ç¡®æ§åˆ¶å“åº”](#2-responseentityå“åº”å®ä½“-ç²¾ç¡®æ§åˆ¶å“åº”)
3. [JSONæ•°æ®å“åº” - å‰åç«¯åˆ†ç¦»å¿…å¤‡](#3-jsonæ•°æ®å“åº”-å‰åç«¯åˆ†ç¦»å¿…å¤‡)
4. [XMLæ•°æ®å“åº” - ä¼ ç»Ÿæ•°æ®äº¤æ¢](#4-xmlæ•°æ®å“åº”-ä¼ ç»Ÿæ•°æ®äº¤æ¢)
5. [HttpMessageConverteræ¶ˆæ¯è½¬æ¢å™¨](#5-httpmessageconverteræ¶ˆæ¯è½¬æ¢å™¨)
6. [Jacksonåºåˆ—åŒ–é…ç½® - JSONå¤„ç†æ ¸å¿ƒ](#6-jacksonåºåˆ—åŒ–é…ç½®-jsonå¤„ç†æ ¸å¿ƒ)
7. [æ—¥æœŸæ ¼å¼åŒ–é…ç½® - è§£å†³æ—¶é—´é—®é¢˜](#7-æ—¥æœŸæ ¼å¼åŒ–é…ç½®-è§£å†³æ—¶é—´é—®é¢˜)
8. [è§†å›¾è§£æå™¨é…ç½® - é¡µé¢æ¸²æŸ“åŸºç¡€](#8-è§†å›¾è§£æå™¨é…ç½®-é¡µé¢æ¸²æŸ“åŸºç¡€)
9. [JSPè§†å›¾æŠ€æœ¯ - ä¼ ç»ŸWebå¼€å‘](#9-jspè§†å›¾æŠ€æœ¯-ä¼ ç»Ÿwebå¼€å‘)
10. [Thymeleafæ¨¡æ¿å¼•æ“ - ç°ä»£æ¨¡æ¿æ–¹æ¡ˆ](#10-thymeleafæ¨¡æ¿å¼•æ“-ç°ä»£æ¨¡æ¿æ–¹æ¡ˆ)
11. [é‡å®šå‘ä¸è½¬å‘ - é¡µé¢è·³è½¬æ§åˆ¶](#11-é‡å®šå‘ä¸è½¬å‘-é¡µé¢è·³è½¬æ§åˆ¶)
12. [é™æ€èµ„æºå¤„ç† - CSS/JS/å›¾ç‰‡è®¿é—®](#12-é™æ€èµ„æºå¤„ç†-cssjså›¾ç‰‡è®¿é—®)
13. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#13-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ“¤ @ResponseBodyæ³¨è§£ - è¿”å›æ•°æ®ç»™å‰ç«¯


### 1.1 ä»€ä¹ˆæ˜¯@ResponseBody


**é€šä¿—ç†è§£**ï¼šä½ å†™äº†ä¸€ä¸ªControlleræ–¹æ³•ï¼Œæ­£å¸¸æƒ…å†µä¸‹SpringMVCä¼šæŠŠè¿”å›å€¼å½“æˆ"é¡µé¢åç§°"å»æ‰¾å¯¹åº”çš„JSPæˆ–HTMLé¡µé¢ã€‚ä½†åŠ ä¸Š`@ResponseBody`åï¼ŒSpringMVCå°±çŸ¥é“ï¼š"å“¦ï¼Œä½ æ˜¯è¦ç›´æ¥æŠŠæ•°æ®è¿”å›ç»™æµè§ˆå™¨ï¼Œä¸æ˜¯è¦è·³è½¬é¡µé¢"ã€‚

**ä¸“ä¸šå®šä¹‰**ï¼š`@ResponseBody`æ³¨è§£ç”¨äºå°†Controlleræ–¹æ³•çš„è¿”å›å€¼ç›´æ¥å†™å…¥HTTPå“åº”ä½“ä¸­ï¼Œè€Œä¸æ˜¯è§£æä¸ºè§†å›¾åç§°ã€‚

```
å¸¸è§„è¿”å›ï¼ˆæ²¡æœ‰@ResponseBodyï¼‰ï¼š
Controllerè¿”å›"user" â†’ SpringMVCæ‰¾user.jspé¡µé¢ â†’ æ¸²æŸ“åè¿”å›ç»™æµè§ˆå™¨

ä½¿ç”¨@ResponseBodyï¼š
Controllerè¿”å›Userå¯¹è±¡ â†’ SpringMVCè½¬æˆJSON â†’ ç›´æ¥è¿”å›ç»™æµè§ˆå™¨
```

### 1.2 å®é™…ä½¿ç”¨åœºæ™¯


```java
// åœºæ™¯1ï¼šè¿”å›ç®€å•å­—ç¬¦ä¸²
@RequestMapping("/hello")
@ResponseBody
public String sayHello() {
    return "Hello, SpringMVC!";  // æµè§ˆå™¨ç›´æ¥æ”¶åˆ°è¿™ä¸ªå­—ç¬¦ä¸²
}

// åœºæ™¯2ï¼šè¿”å›å¯¹è±¡ï¼ˆè‡ªåŠ¨è½¬JSONï¼‰
@RequestMapping("/user")
@ResponseBody
public User getUser() {
    User user = new User();
    user.setId(1);
    user.setName("å¼ ä¸‰");
    user.setAge(25);
    return user;  // è‡ªåŠ¨è½¬æˆJSON: {"id":1,"name":"å¼ ä¸‰","age":25}
}

// åœºæ™¯3ï¼šè¿”å›é›†åˆ
@RequestMapping("/users")
@ResponseBody
public List<User> getUserList() {
    List<User> users = new ArrayList<>();
    users.add(new User(1, "å¼ ä¸‰", 25));
    users.add(new User(2, "æå››", 30));
    return users;  // è¿”å›JSONæ•°ç»„
}
```

### 1.3 @RestControllerç®€åŒ–å†™æ³•


**é—®é¢˜**ï¼šå¦‚æœä¸€ä¸ªControlleré‡Œæ‰€æœ‰æ–¹æ³•éƒ½è¦è¿”å›æ•°æ®ï¼ˆä¸è·³è½¬é¡µé¢ï¼‰ï¼Œæ¯ä¸ªæ–¹æ³•éƒ½å†™`@ResponseBody`å¤ªéº»çƒ¦äº†ã€‚

**è§£å†³æ–¹æ¡ˆ**ï¼šç”¨`@RestController`ä»£æ›¿`@Controller`

```java
// ä¼ ç»Ÿå†™æ³•ï¼ˆæ¯ä¸ªæ–¹æ³•éƒ½è¦åŠ @ResponseBodyï¼‰
@Controller
public class UserController {
    
    @RequestMapping("/user1")
    @ResponseBody
    public User getUser1() { ... }
    
    @RequestMapping("/user2")
    @ResponseBody
    public User getUser2() { ... }
}

// ç®€åŒ–å†™æ³•ï¼ˆ@RestController = @Controller + @ResponseBodyï¼‰
@RestController
public class UserController {
    
    @RequestMapping("/user1")
    public User getUser1() { ... }  // è‡ªåŠ¨å¸¦@ResponseBodyæ•ˆæœ
    
    @RequestMapping("/user2")
    public User getUser2() { ... }  // è‡ªåŠ¨å¸¦@ResponseBodyæ•ˆæœ
}
```

**ä»€ä¹ˆæ—¶å€™ç”¨å“ªä¸ª**ï¼š
- å‰åç«¯åˆ†ç¦»é¡¹ç›®ï¼šç”¨`@RestController`ï¼ˆåªè¿”å›æ•°æ®ï¼‰
- ä¼ ç»ŸWebé¡¹ç›®ï¼šç”¨`@Controller`ï¼ˆä¸»è¦è¿”å›é¡µé¢ï¼‰

---

## 2. ğŸ¯ ResponseEntityå“åº”å®ä½“ - ç²¾ç¡®æ§åˆ¶å“åº”


### 2.1 ä¸ºä»€ä¹ˆéœ€è¦ResponseEntity


**é—®é¢˜åœºæ™¯**ï¼š`@ResponseBody`åªèƒ½æ§åˆ¶å“åº”ä½“çš„å†…å®¹ï¼Œä½†æœ‰æ—¶å€™æˆ‘ä»¬è¿˜éœ€è¦ï¼š
- è®¾ç½®HTTPçŠ¶æ€ç ï¼ˆ200æˆåŠŸã€404æœªæ‰¾åˆ°ã€500é”™è¯¯ç­‰ï¼‰
- æ·»åŠ å“åº”å¤´ä¿¡æ¯ï¼ˆå¦‚è®¾ç½®ç¼“å­˜ã€è·¨åŸŸç­‰ï¼‰
- ç»Ÿä¸€å¤„ç†æˆåŠŸå’Œå¤±è´¥æƒ…å†µ

**ResponseEntityçš„ä½œç”¨**ï¼šè®©ä½ å¯ä»¥ç²¾ç¡®æ§åˆ¶æ•´ä¸ªHTTPå“åº”çš„æ‰€æœ‰ç»†èŠ‚ã€‚

### 2.2 ResponseEntityåŸºæœ¬ç”¨æ³•


```java
@RestController
public class UserController {
    
    // æœ€ç®€å•çš„ç”¨æ³•ï¼šåªè¿”å›æ•°æ®å’ŒçŠ¶æ€ç 
    @GetMapping("/user/{id}")
    public ResponseEntity<User> getUser(@PathVariable Integer id) {
        User user = userService.findById(id);
        
        if (user != null) {
            // æ‰¾åˆ°äº†ç”¨æˆ·ï¼Œè¿”å›200çŠ¶æ€ç 
            return ResponseEntity.ok(user);
        } else {
            // æ²¡æ‰¾åˆ°ï¼Œè¿”å›404çŠ¶æ€ç 
            return ResponseEntity.notFound().build();
        }
    }
}
```

### 2.3 å®Œæ•´æ§åˆ¶å“åº”çš„å„ä¸ªéƒ¨åˆ†


```java
@GetMapping("/download")
public ResponseEntity<byte[]> downloadFile() {
    // è¯»å–æ–‡ä»¶å†…å®¹
    byte[] fileContent = Files.readAllBytes(Paths.get("demo.pdf"));
    
    // è®¾ç½®å“åº”å¤´
    HttpHeaders headers = new HttpHeaders();
    headers.setContentType(MediaType.APPLICATION_PDF);
    headers.setContentDisposition(
        ContentDisposition.attachment().filename("demo.pdf").build()
    );
    
    // å®Œæ•´æ§åˆ¶ï¼šçŠ¶æ€ç  + å“åº”å¤´ + å“åº”ä½“
    return new ResponseEntity<>(fileContent, headers, HttpStatus.OK);
}
```

### 2.4 å¸¸ç”¨çš„ResponseEntityæ„å»ºæ–¹å¼


```java
// 1. æˆåŠŸå“åº”ï¼ˆ200ï¼‰
ResponseEntity.ok(user)                    // æœ€å¸¸ç”¨
ResponseEntity.ok().body(user)             // æ•ˆæœç›¸åŒ

// 2. åˆ›å»ºæˆåŠŸï¼ˆ201ï¼‰
ResponseEntity.status(HttpStatus.CREATED).body(user)

// 3. æ— å†…å®¹ï¼ˆ204ï¼‰- åˆ é™¤æˆåŠŸæ—¶å¸¸ç”¨
ResponseEntity.noContent().build()

// 4. å®¢æˆ·ç«¯é”™è¯¯
ResponseEntity.badRequest().body("å‚æ•°é”™è¯¯")         // 400
ResponseEntity.notFound().build()                   // 404

// 5. æœåŠ¡å™¨é”™è¯¯
ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR)
              .body("æœåŠ¡å™¨å¼‚å¸¸")                     // 500
```

### 2.5 å®é™…åº”ç”¨æ¡ˆä¾‹


```java
@RestController
@RequestMapping("/api/users")
public class UserController {
    
    @Autowired
    private UserService userService;
    
    // åˆ›å»ºç”¨æˆ·
    @PostMapping
    public ResponseEntity<User> createUser(@RequestBody User user) {
        try {
            User savedUser = userService.save(user);
            return ResponseEntity
                .status(HttpStatus.CREATED)  // 201çŠ¶æ€ç 
                .body(savedUser);
        } catch (Exception e) {
            return ResponseEntity
                .status(HttpStatus.INTERNAL_SERVER_ERROR)  // 500
                .build();
        }
    }
    
    // æ›´æ–°ç”¨æˆ·
    @PutMapping("/{id}")
    public ResponseEntity<User> updateUser(
            @PathVariable Integer id, 
            @RequestBody User user) {
        
        if (!userService.exists(id)) {
            return ResponseEntity.notFound().build();  // 404
        }
        
        User updated = userService.update(id, user);
        return ResponseEntity.ok(updated);  // 200
    }
    
    // åˆ é™¤ç”¨æˆ·
    @DeleteMapping("/{id}")
    public ResponseEntity<Void> deleteUser(@PathVariable Integer id) {
        userService.delete(id);
        return ResponseEntity.noContent().build();  // 204
    }
}
```

---

## 3. ğŸ“Š JSONæ•°æ®å“åº” - å‰åç«¯åˆ†ç¦»å¿…å¤‡


### 3.1 ä»€ä¹ˆæ˜¯JSONå“åº”


**é€šä¿—ç†è§£**ï¼šå‰åç«¯åˆ†ç¦»é¡¹ç›®ä¸­ï¼Œå‰ç«¯ï¼ˆVueã€Reactç­‰ï¼‰éœ€è¦çš„æ˜¯çº¯æ•°æ®ï¼Œä¸æ˜¯HTMLé¡µé¢ã€‚JSONå°±æ˜¯æœ€å¸¸ç”¨çš„æ•°æ®æ ¼å¼ï¼Œåƒè¿™æ ·ï¼š

```json
{
    "id": 1,
    "name": "å¼ ä¸‰",
    "age": 25,
    "email": "zhangsan@example.com"
}
```

**ä¸ºä»€ä¹ˆç”¨JSON**ï¼š
- è½»é‡çº§ï¼Œä¼ è¾“å¿«
- å‰ç«¯JavaScriptç›´æ¥èƒ½ç”¨
- å„ç§ç¼–ç¨‹è¯­è¨€éƒ½æ”¯æŒ
- æ˜“è¯»æ˜“å†™

### 3.2 SpringMVCå¦‚ä½•è¿”å›JSON


**è‡ªåŠ¨è½¬æ¢æœºåˆ¶**ï¼š
```
Javaå¯¹è±¡ â†’ Jacksonåº“ â†’ JSONå­—ç¬¦ä¸² â†’ æµè§ˆå™¨
```

**å‰ææ¡ä»¶**ï¼ˆç¼ºä¸€ä¸å¯ï¼‰ï¼š
1. æ·»åŠ Jacksonä¾èµ–ï¼ˆpom.xmlï¼‰
2. å¼€å¯MVCæ³¨è§£é©±åŠ¨ï¼ˆ`<mvc:annotation-driven/>`ï¼‰
3. ä½¿ç”¨`@ResponseBody`æˆ–`@RestController`

```xml
<!-- Mavenä¾èµ– -->
<dependency>
    <groupId>com.fasterxml.jackson.core</groupId>
    <artifactId>jackson-databind</artifactId>
    <version>2.15.2</version>
</dependency>
```

### 3.3 å„ç§æ•°æ®ç±»å‹çš„JSONå“åº”


```java
@RestController
@RequestMapping("/api")
public class JsonController {
    
    // 1. è¿”å›å•ä¸ªå¯¹è±¡
    @GetMapping("/user")
    public User getUser() {
        return new User(1, "å¼ ä¸‰", 25);
    }
    // å“åº”ï¼š{"id":1,"name":"å¼ ä¸‰","age":25}
    
    // 2. è¿”å›é›†åˆ
    @GetMapping("/users")
    public List<User> getUsers() {
        return Arrays.asList(
            new User(1, "å¼ ä¸‰", 25),
            new User(2, "æå››", 30)
        );
    }
    // å“åº”ï¼š[{"id":1,"name":"å¼ ä¸‰","age":25},{"id":2,"name":"æå››","age":30}]
    
    // 3. è¿”å›Map
    @GetMapping("/map")
    public Map<String, Object> getMap() {
        Map<String, Object> result = new HashMap<>();
        result.put("success", true);
        result.put("message", "æ“ä½œæˆåŠŸ");
        result.put("data", new User(1, "å¼ ä¸‰", 25));
        return result;
    }
    // å“åº”ï¼š{"success":true,"message":"æ“ä½œæˆåŠŸ","data":{...}}
    
    // 4. è¿”å›ç»Ÿä¸€å“åº”æ ¼å¼
    @GetMapping("/result")
    public Result<User> getResult() {
        return Result.success(new User(1, "å¼ ä¸‰", 25));
    }
}
```

### 3.4 ç»Ÿä¸€å“åº”æ ¼å¼è®¾è®¡


**ä¸ºä»€ä¹ˆè¦ç»Ÿä¸€**ï¼šå‰ç«¯éœ€è¦çŸ¥é“è¯·æ±‚æ˜¯å¦æˆåŠŸã€é”™è¯¯ä¿¡æ¯æ˜¯ä»€ä¹ˆã€æ•°æ®åœ¨å“ªé‡Œ

```java
// ç»Ÿä¸€å“åº”ç±»
public class Result<T> {
    private Integer code;      // çŠ¶æ€ç ï¼š200æˆåŠŸï¼Œ500å¤±è´¥
    private String message;    // æç¤ºä¿¡æ¯
    private T data;           // å®é™…æ•°æ®
    
    // æˆåŠŸå“åº”
    public static <T> Result<T> success(T data) {
        Result<T> result = new Result<>();
        result.setCode(200);
        result.setMessage("success");
        result.setData(data);
        return result;
    }
    
    // å¤±è´¥å“åº”
    public static <T> Result<T> error(String message) {
        Result<T> result = new Result<>();
        result.setCode(500);
        result.setMessage(message);
        return result;
    }
    
    // getter/setterçœç•¥
}

// ä½¿ç”¨ç¤ºä¾‹
@RestController
public class UserController {
    
    @GetMapping("/user/{id}")
    public Result<User> getUser(@PathVariable Integer id) {
        try {
            User user = userService.findById(id);
            if (user != null) {
                return Result.success(user);
                // å“åº”ï¼š{"code":200,"message":"success","data":{...}}
            } else {
                return Result.error("ç”¨æˆ·ä¸å­˜åœ¨");
                // å“åº”ï¼š{"code":500,"message":"ç”¨æˆ·ä¸å­˜åœ¨","data":null}
            }
        } catch (Exception e) {
            return Result.error("ç³»ç»Ÿå¼‚å¸¸");
        }
    }
}
```

---

## 4. ğŸ“„ XMLæ•°æ®å“åº” - ä¼ ç»Ÿæ•°æ®äº¤æ¢


### 4.1 ä»€ä¹ˆæ˜¯XMLå“åº”


**é€šä¿—ç†è§£**ï¼šXMLæ˜¯æ¯”JSONæ›´è€çš„æ•°æ®æ ¼å¼ï¼Œç°åœ¨ç”¨å¾—å°‘äº†ï¼Œä½†æŸäº›åœºæ™¯è¿˜åœ¨ç”¨ï¼ˆå¦‚WebServiceã€è€ç³»ç»Ÿå¯¹æ¥ï¼‰

**XMLæ ¼å¼ç¤ºä¾‹**ï¼š
```xml
<user>
    <id>1</id>
    <name>å¼ ä¸‰</name>
    <age>25</age>
</user>
```

**JSON vs XMLå¯¹æ¯”**ï¼š
```
JSONï¼š{"id":1,"name":"å¼ ä¸‰","age":25}  â† ç®€æ´
XMLï¼š <user><id>1</id><name>å¼ ä¸‰</name><age>25</age></user>  â† å†—é•¿
```

### 4.2 å¦‚ä½•è¿”å›XML


```xml
<!-- æ·»åŠ XMLå¤„ç†ä¾èµ– -->
<dependency>
    <groupId>com.fasterxml.jackson.dataformat</groupId>
    <artifactId>jackson-dataformat-xml</artifactId>
    <version>2.15.2</version>
</dependency>
```

```java
@RestController
public class XmlController {
    
    // æ–¹å¼1ï¼šæŒ‡å®šå“åº”ç±»å‹ä¸ºXML
    @GetMapping(value = "/user", produces = "application/xml")
    public User getUserXml() {
        return new User(1, "å¼ ä¸‰", 25);
    }
    
    // æ–¹å¼2ï¼šæ ¹æ®è¯·æ±‚å¤´Acceptè‡ªåŠ¨é€‰æ‹©JSONæˆ–XML
    @GetMapping("/user")
    public User getUser() {
        return new User(1, "å¼ ä¸‰", 25);
    }
    // Accept: application/json  â†’ è¿”å›JSON
    // Accept: application/xml   â†’ è¿”å›XML
}
```

**å®é™…å»ºè®®**ï¼šæ–°é¡¹ç›®ç›´æ¥ç”¨JSONï¼ŒXMLä¸»è¦ç”¨äºç»´æŠ¤è€ç³»ç»Ÿ

---

## 5. ğŸ”„ HttpMessageConverteræ¶ˆæ¯è½¬æ¢å™¨


### 5.1 ä»€ä¹ˆæ˜¯æ¶ˆæ¯è½¬æ¢å™¨


**é€šä¿—ç†è§£**ï¼šå°±åƒç¿»è¯‘å®˜ï¼Œè´Ÿè´£åœ¨Javaå¯¹è±¡å’ŒHTTPæ¶ˆæ¯ä¹‹é—´åšè½¬æ¢

```
è¯·æ±‚è¿‡ç¨‹ï¼š
HTTPè¯·æ±‚ä½“(JSON) â†’ HttpMessageConverter â†’ Javaå¯¹è±¡
{"name":"å¼ ä¸‰"} â†’ MappingJackson2HttpMessageConverter â†’ Userå¯¹è±¡

å“åº”è¿‡ç¨‹ï¼š
Javaå¯¹è±¡ â†’ HttpMessageConverter â†’ HTTPå“åº”ä½“(JSON)
Userå¯¹è±¡ â†’ MappingJackson2HttpMessageConverter â†’ {"name":"å¼ ä¸‰"}
```

### 5.2 SpringMVCå†…ç½®çš„è½¬æ¢å™¨


| è½¬æ¢å™¨ç±»å | ä½œç”¨ | å¤„ç†çš„æ•°æ®ç±»å‹ |
|-----------|------|---------------|
| `StringHttpMessageConverter` | å¤„ç†å­—ç¬¦ä¸² | `text/plain` |
| `MappingJackson2HttpMessageConverter` | å¤„ç†JSON | `application/json` |
| `Jaxb2RootElementHttpMessageConverter` | å¤„ç†XML | `application/xml` |
| `ByteArrayHttpMessageConverter` | å¤„ç†å­—èŠ‚æ•°ç»„ | `application/octet-stream` |
| `FormHttpMessageConverter` | å¤„ç†è¡¨å• | `application/x-www-form-urlencoded` |

### 5.3 è½¬æ¢å™¨å·¥ä½œæµç¨‹


```
1. æµè§ˆå™¨å‘é€è¯·æ±‚
   â†“
2. SpringMVCæ¥æ”¶åˆ°è¯·æ±‚
   â†“
3. æŸ¥çœ‹Content-Typeï¼ˆå¦‚ï¼šapplication/jsonï¼‰
   â†“
4. æ‰¾åˆ°å¯¹åº”çš„è½¬æ¢å™¨ï¼ˆMappingJackson2HttpMessageConverterï¼‰
   â†“
5. è½¬æ¢å™¨æŠŠJSONè½¬æˆJavaå¯¹è±¡
   â†“
6. è°ƒç”¨Controlleræ–¹æ³•
   â†“
7. Controllerè¿”å›Javaå¯¹è±¡
   â†“
8. è½¬æ¢å™¨æŠŠJavaå¯¹è±¡è½¬æˆJSON
   â†“
9. å“åº”ç»™æµè§ˆå™¨
```

### 5.4 è‡ªå®šä¹‰æ¶ˆæ¯è½¬æ¢å™¨


**ä½¿ç”¨åœºæ™¯**ï¼šéœ€è¦ç‰¹æ®Šçš„æ•°æ®æ ¼å¼è½¬æ¢ï¼ˆå¦‚è‡ªå®šä¹‰åŠ å¯†è§£å¯†ï¼‰

```java
// è‡ªå®šä¹‰è½¬æ¢å™¨
public class MyMessageConverter extends AbstractHttpMessageConverter<User> {
    
    public MyMessageConverter() {
        super(new MediaType("application", "x-user"));
    }
    
    @Override
    protected boolean supports(Class<?> clazz) {
        return User.class.equals(clazz);
    }
    
    @Override
    protected User readInternal(Class<? extends User> clazz, 
                                HttpInputMessage inputMessage) {
        // è‡ªå®šä¹‰è¯»å–é€»è¾‘
        return null;
    }
    
    @Override
    protected void writeInternal(User user, 
                                HttpOutputMessage outputMessage) {
        // è‡ªå®šä¹‰å†™å…¥é€»è¾‘
    }
}

// é…ç½®è‡ªå®šä¹‰è½¬æ¢å™¨
@Configuration
public class WebConfig implements WebMvcConfigurer {
    
    @Override
    public void configureMessageConverters(
            List<HttpMessageConverter<?>> converters) {
        converters.add(new MyMessageConverter());
    }
}
```

**å®é™…å»ºè®®**ï¼šä¸€èˆ¬æƒ…å†µç”¨é»˜è®¤çš„å°±å¤Ÿäº†ï¼Œç‰¹æ®Šéœ€æ±‚æ‰è‡ªå®šä¹‰

---

## 6. âš™ï¸ Jacksonåºåˆ—åŒ–é…ç½® - JSONå¤„ç†æ ¸å¿ƒ


### 6.1 ä»€ä¹ˆæ˜¯Jacksonåºåˆ—åŒ–


**é€šä¿—ç†è§£**ï¼š
- **åºåˆ—åŒ–**ï¼šæŠŠJavaå¯¹è±¡è½¬æˆJSONå­—ç¬¦ä¸²ï¼ˆç»™å‰ç«¯çœ‹ï¼‰
- **ååºåˆ—åŒ–**ï¼šæŠŠJSONå­—ç¬¦ä¸²è½¬æˆJavaå¯¹è±¡ï¼ˆå‰ç«¯ä¼ æ¥çš„æ•°æ®ï¼‰

```
åºåˆ—åŒ–ï¼šUserå¯¹è±¡ â†’ {"id":1,"name":"å¼ ä¸‰"}
ååºåˆ—åŒ–ï¼š{"id":1,"name":"å¼ ä¸‰"} â†’ Userå¯¹è±¡
```

### 6.2 å¸¸ç”¨Jacksonæ³¨è§£


```java
public class User {
    
    // 1. @JsonPropertyï¼šæŒ‡å®šJSONä¸­çš„å­—æ®µå
    @JsonProperty("user_id")
    private Integer id;  // JSONä¸­æ˜¾ç¤ºä¸ºuser_idè€Œä¸æ˜¯id
    
    // 2. @JsonIgnoreï¼šå¿½ç•¥æŸä¸ªå­—æ®µï¼ˆä¸åºåˆ—åŒ–ï¼‰
    @JsonIgnore
    private String password;  // JSONä¸­ä¸ä¼šå‡ºç°passwordå­—æ®µ
    
    // 3. @JsonFormatï¼šæ ¼å¼åŒ–æ—¥æœŸ
    @JsonFormat(pattern = "yyyy-MM-dd HH:mm:ss", timezone = "GMT+8")
    private Date createTime;  // æ ¼å¼åŒ–ä¸ºï¼š2024-01-01 12:00:00
    
    // 4. @JsonIncludeï¼šæ§åˆ¶ä»€ä¹ˆæ—¶å€™åŒ…å«å­—æ®µ
    @JsonInclude(JsonInclude.Include.NON_NULL)
    private String phone;  // åªæœ‰phoneä¸ä¸ºnullæ—¶æ‰å‡ºç°åœ¨JSONä¸­
    
    // getter/setterçœç•¥
}
```

### 6.3 Jacksonå…¨å±€é…ç½®


```java
@Configuration
public class JacksonConfig {
    
    @Bean
    public ObjectMapper objectMapper() {
        ObjectMapper mapper = new ObjectMapper();
        
        // 1. åºåˆ—åŒ–æ—¶ï¼Œå¿½ç•¥nullå€¼å­—æ®µ
        mapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);
        
        // 2. ååºåˆ—åŒ–æ—¶ï¼Œå¿½ç•¥æœªçŸ¥å±æ€§ï¼ˆä¸æŠ¥é”™ï¼‰
        mapper.configure(
            DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, 
            false
        );
        
        // 3. åºåˆ—åŒ–æ—¶ï¼Œæ ¼å¼åŒ–è¾“å‡ºï¼ˆå¸¦ç¼©è¿›ï¼Œæ–¹ä¾¿é˜…è¯»ï¼‰
        mapper.enable(SerializationFeature.INDENT_OUTPUT);
        
        // 4. æ—¥æœŸæ ¼å¼åŒ–
        mapper.setDateFormat(
            new SimpleDateFormat("yyyy-MM-dd HH:mm:ss")
        );
        mapper.setTimeZone(TimeZone.getTimeZone("GMT+8"));
        
        return mapper;
    }
}
```

### 6.4 å®é™…åº”ç”¨æ¡ˆä¾‹


```java
// ç”¨æˆ·å®ä½“ç±»
public class User {
    private Integer id;
    
    private String username;
    
    @JsonIgnore  // å¯†ç ä¸è¿”å›ç»™å‰ç«¯
    private String password;
    
    @JsonProperty("nick_name")  // åç«¯å«nicknameï¼Œå‰ç«¯è¦nick_name
    private String nickname;
    
    @JsonFormat(pattern = "yyyy-MM-dd")
    private Date birthday;
    
    @JsonInclude(JsonInclude.Include.NON_NULL)
    private String phone;  // æ²¡æœ‰æ‰‹æœºå·æ—¶ä¸æ˜¾ç¤ºè¯¥å­—æ®µ
}

// Controller
@GetMapping("/user/{id}")
public User getUser(@PathVariable Integer id) {
    return userService.findById(id);
}

// å“åº”JSONï¼š
{
    "id": 1,
    "username": "zhangsan",
    "nick_name": "å°å¼ ",  // æ³¨æ„è¿™é‡Œçš„å­—æ®µå
    "birthday": "1995-06-15"
    // passwordä¸ä¼šå‡ºç°
    // phoneä¸ºnullæ—¶ä¹Ÿä¸ä¼šå‡ºç°
}
```

---

## 7. â° æ—¥æœŸæ ¼å¼åŒ–é…ç½® - è§£å†³æ—¶é—´é—®é¢˜


### 7.1 ä¸ºä»€ä¹ˆè¦é…ç½®æ—¥æœŸæ ¼å¼


**å¸¸è§é—®é¢˜**ï¼š
```java
// Javaå¯¹è±¡
User user = new User();
user.setCreateTime(new Date());  // 2024-01-01 12:30:45

// ä¸é…ç½®çš„è¯ï¼Œè¿”å›çš„JSONæ˜¯æ—¶é—´æˆ³
{"createTime": 1704084645000}  // å‰ç«¯çœ‹ä¸æ‡‚

// é…ç½®åï¼Œè¿”å›æ ¼å¼åŒ–çš„å­—ç¬¦ä¸²
{"createTime": "2024-01-01 12:30:45"}  // ä¸€ç›®äº†ç„¶
```

### 7.2 ä¸‰ç§é…ç½®æ–¹å¼


**æ–¹å¼1ï¼šå•ä¸ªå­—æ®µé…ç½®ï¼ˆ@JsonFormatï¼‰**
```java
public class User {
    @JsonFormat(pattern = "yyyy-MM-dd HH:mm:ss", timezone = "GMT+8")
    private Date createTime;
}
```

**æ–¹å¼2ï¼šå…¨å±€é…ç½®ï¼ˆapplication.ymlï¼‰**
```yaml
spring:
  jackson:
    date-format: yyyy-MM-dd HH:mm:ss
    time-zone: GMT+8
```

**æ–¹å¼3ï¼šä»£ç é…ç½®ï¼ˆæ¨èï¼Œæ›´çµæ´»ï¼‰**
```java
@Configuration
public class DateFormatConfig {
    
    @Bean
    public ObjectMapper objectMapper() {
        ObjectMapper mapper = new ObjectMapper();
        
        // è®¾ç½®æ—¥æœŸæ ¼å¼
        SimpleDateFormat dateFormat = new SimpleDateFormat(
            "yyyy-MM-dd HH:mm:ss"
        );
        mapper.setDateFormat(dateFormat);
        
        // è®¾ç½®æ—¶åŒºï¼ˆé‡è¦ï¼ï¼‰
        mapper.setTimeZone(TimeZone.getTimeZone("GMT+8"));
        
        return mapper;
    }
}
```

### 7.3 LocalDateTimeå¤„ç†ï¼ˆJava 8+ï¼‰


**é—®é¢˜**ï¼š`LocalDateTime`é»˜è®¤åºåˆ—åŒ–æ ¼å¼ä¸å‹å¥½
```json
{
    "createTime": {
        "year": 2024,
        "monthValue": 1,
        "dayOfMonth": 1,
        "hour": 12,
        "minute": 30,
        "second": 45
    }
}
```

**è§£å†³æ–¹æ¡ˆ**ï¼šé…ç½®JavaTimeModule
```java
@Configuration
public class JacksonConfig {
    
    @Bean
    public ObjectMapper objectMapper() {
        ObjectMapper mapper = new ObjectMapper();
        
        // æ³¨å†ŒJava 8æ—¶é—´æ¨¡å—
        JavaTimeModule timeModule = new JavaTimeModule();
        
        // è‡ªå®šä¹‰LocalDateTimeæ ¼å¼
        DateTimeFormatter formatter = DateTimeFormatter
            .ofPattern("yyyy-MM-dd HH:mm:ss");
        
        timeModule.addSerializer(
            LocalDateTime.class,
            new LocalDateTimeSerializer(formatter)
        );
        
        timeModule.addDeserializer(
            LocalDateTime.class,
            new LocalDateTimeDeserializer(formatter)
        );
        
        mapper.registerModule(timeModule);
        
        return mapper;
    }
}
```

### 7.4 å®é™…åº”ç”¨å»ºè®®


```java
// æ¨èåšæ³•ï¼šå®šä¹‰åŸºç¡€å®ä½“ç±»
@Data
public class BaseEntity {
    
    @JsonFormat(pattern = "yyyy-MM-dd HH:mm:ss")
    private LocalDateTime createTime;
    
    @JsonFormat(pattern = "yyyy-MM-dd HH:mm:ss")
    private LocalDateTime updateTime;
}

// å…¶ä»–å®ä½“ç»§æ‰¿
@Data
public class User extends BaseEntity {
    private Integer id;
    private String username;
    // createTimeå’ŒupdateTimeè‡ªåŠ¨ç»§æ‰¿æ ¼å¼åŒ–é…ç½®
}
```

**å¸¸ç”¨æ—¥æœŸæ ¼å¼**ï¼š
- `yyyy-MM-dd`ï¼š2024-01-01ï¼ˆåªè¦æ—¥æœŸï¼‰
- `HH:mm:ss`ï¼š12:30:45ï¼ˆåªè¦æ—¶é—´ï¼‰
- `yyyy-MM-dd HH:mm:ss`ï¼š2024-01-01 12:30:45ï¼ˆå®Œæ•´ï¼‰
- `yyyy/MM/dd`ï¼š2024/01/01ï¼ˆæ–œæ åˆ†éš”ï¼‰

---

## 8. ğŸ” è§†å›¾è§£æå™¨é…ç½® - é¡µé¢æ¸²æŸ“åŸºç¡€


### 8.1 ä»€ä¹ˆæ˜¯è§†å›¾è§£æå™¨


**é€šä¿—ç†è§£**ï¼šControlleræ–¹æ³•è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼ˆå¦‚"user"ï¼‰ï¼Œè§†å›¾è§£æå™¨è´Ÿè´£æ‰¾åˆ°å¯¹åº”çš„é¡µé¢æ–‡ä»¶ï¼ˆå¦‚user.jspï¼‰å¹¶æ¸²æŸ“

```
æ²¡æœ‰è§†å›¾è§£æå™¨ï¼š
return "user"  â†’ æ‰¾ä¸åˆ°é¡µé¢ â†’ 404é”™è¯¯

æœ‰è§†å›¾è§£æå™¨ï¼š
return "user"  â†’ è§£ææˆ/WEB-INF/views/user.jsp â†’ æ‰¾åˆ°é¡µé¢ â†’ æ¸²æŸ“æ˜¾ç¤º
```

### 8.2 è§†å›¾è§£ææµç¨‹


```
1. Controllerè¿”å›è§†å›¾åï¼š"user"
   â†“
2. è§†å›¾è§£æå™¨å¤„ç†ï¼š
   å‰ç¼€ï¼š/WEB-INF/views/
   è§†å›¾åï¼šuser
   åç¼€ï¼š.jsp
   â†“
3. æ‹¼æ¥å®Œæ•´è·¯å¾„ï¼š/WEB-INF/views/user.jsp
   â†“
4. æ‰¾åˆ°é¡µé¢æ–‡ä»¶
   â†“
5. æ¸²æŸ“é¡µé¢
   â†“
6. è¿”å›ç»™æµè§ˆå™¨
```

### 8.3 é…ç½®è§†å›¾è§£æå™¨


**XMLé…ç½®æ–¹å¼**ï¼š
```xml
<!-- springmvc.xml -->
<bean class="org.springframework.web.servlet.view.InternalResourceViewResolver">
    <!-- å‰ç¼€ -->
    <property name="prefix" value="/WEB-INF/views/" />
    <!-- åç¼€ -->
    <property name="suffix" value=".jsp" />
    <!-- ä¼˜å…ˆçº§ -->
    <property name="order" value="1" />
</bean>
```

**Javaé…ç½®æ–¹å¼**ï¼š
```java
@Configuration
@EnableWebMvc
public class WebConfig implements WebMvcConfigurer {
    
    @Override
    public void configureViewResolvers(ViewResolverRegistry registry) {
        // JSPè§†å›¾è§£æå™¨
        registry.jsp("/WEB-INF/views/", ".jsp");
    }
}
```

### 8.4 å®é™…ä½¿ç”¨ç¤ºä¾‹


```java
@Controller
public class UserController {
    
    // ç¤ºä¾‹1ï¼šè¿”å›è§†å›¾å
    @RequestMapping("/user/list")
    public String userList(Model model) {
        List<User> users = userService.findAll();
        model.addAttribute("users", users);
        return "user/list";  
        // è§£æä¸ºï¼š/WEB-INF/views/user/list.jsp
    }
    
    // ç¤ºä¾‹2ï¼šè¿”å›å®Œæ•´è·¯å¾„ï¼ˆä¸ç»è¿‡è§†å›¾è§£æå™¨ï¼‰
    @RequestMapping("/admin")
    public String admin() {
        return "/WEB-INF/admin/index.jsp";  
        // ç›´æ¥ä½¿ç”¨è¿™ä¸ªè·¯å¾„ï¼Œä¸æ‹¼æ¥å‰åç¼€
    }
}
```

### 8.5 å¤šè§†å›¾è§£æå™¨é…ç½®


**ä½¿ç”¨åœºæ™¯**ï¼šé¡¹ç›®ä¸­åŒæ—¶ç”¨JSPå’ŒThymeleaf

```java
@Configuration
public class ViewResolverConfig {
    
    // JSPè§†å›¾è§£æå™¨
    @Bean
    public ViewResolver jspViewResolver() {
        InternalResourceViewResolver resolver = 
            new InternalResourceViewResolver();
        resolver.setPrefix("/WEB-INF/jsp/");
        resolver.setSuffix(".jsp");
        resolver.setOrder(2);  // ä¼˜å…ˆçº§2
        return resolver;
    }
    
    // Thymeleafè§†å›¾è§£æå™¨
    @Bean
    public ViewResolver thymeleafViewResolver() {
        ThymeleafViewResolver resolver = new ThymeleafViewResolver();
        resolver.setTemplateEngine(templateEngine());
        resolver.setOrder(1);  // ä¼˜å…ˆçº§1ï¼Œä¼˜å…ˆä½¿ç”¨
        return resolver;
    }
}
```

**ä¼˜å…ˆçº§è§„åˆ™**ï¼š
- `order`å€¼è¶Šå°ï¼Œä¼˜å…ˆçº§è¶Šé«˜
- å…ˆç”¨ä¼˜å…ˆçº§é«˜çš„è§£æï¼Œè§£æä¸äº†å†ç”¨ä¸‹ä¸€ä¸ª

---

## 9. ğŸ“± JSPè§†å›¾æŠ€æœ¯ - ä¼ ç»ŸWebå¼€å‘


### 9.1 ä»€ä¹ˆæ˜¯JSP


**é€šä¿—ç†è§£**ï¼šJSP = HTML + Javaä»£ç ï¼Œå¯ä»¥åœ¨é¡µé¢é‡Œå†™Javaä»£ç åŠ¨æ€ç”Ÿæˆå†…å®¹

```jsp
<!-- ä¼ ç»ŸHTMLï¼ˆé™æ€ï¼‰ -->
<h1>ç”¨æˆ·åï¼šå¼ ä¸‰</h1>

<!-- JSPï¼ˆåŠ¨æ€ï¼‰ -->
<h1>ç”¨æˆ·åï¼š${user.name}</h1>  
<!-- ä»åç«¯ä¼ æ¥çš„userå¯¹è±¡ä¸­å–nameå€¼ -->
```

**JSPçš„ä½œç”¨**ï¼š
- å±•ç¤ºåç«¯ä¼ æ¥çš„æ•°æ®
- åŠ¨æ€ç”Ÿæˆé¡µé¢å†…å®¹
- è¡¨å•æäº¤ã€æ•°æ®å±•ç¤º

### 9.2 JSPåœ¨SpringMVCä¸­çš„ä½¿ç”¨


**åŸºæœ¬æµç¨‹**ï¼š
```
Controller â†’ Modelï¼ˆå­˜æ•°æ®ï¼‰ â†’ JSPé¡µé¢ï¼ˆå–æ•°æ®æ˜¾ç¤ºï¼‰
```

**å®Œæ•´ç¤ºä¾‹**ï¼š
```java
// Controller
@Controller
public class UserController {
    
    @RequestMapping("/user/{id}")
    public String getUser(@PathVariable Integer id, Model model) {
        // 1. æŸ¥è¯¢ç”¨æˆ·
        User user = userService.findById(id);
        
        // 2. æŠŠæ•°æ®æ”¾åˆ°Modelä¸­
        model.addAttribute("user", user);
        model.addAttribute("title", "ç”¨æˆ·è¯¦æƒ…");
        
        // 3. è¿”å›è§†å›¾å
        return "user/detail";  
        // è§†å›¾è§£æå™¨è§£æä¸ºï¼š/WEB-INF/views/user/detail.jsp
    }
}
```

```jsp
<!-- /WEB-INF/views/user/detail.jsp -->
<%@ page contentType="text/html;charset=UTF-8" language="java" %>
<html>
<head>
    <title>${title}</title>
</head>
<body>
    <h1>ç”¨æˆ·ä¿¡æ¯</h1>
    <p>ID: ${user.id}</p>
    <p>å§“å: ${user.name}</p>
    <p>å¹´é¾„: ${user.age}</p>
    <p>é‚®ç®±: ${user.email}</p>
</body>
</html>
```

### 9.3 JSPå¸¸ç”¨æ ‡ç­¾åº“ï¼ˆJSTLï¼‰


**ä¸ºä»€ä¹ˆç”¨JSTL**ï¼šé¿å…åœ¨JSPä¸­å†™å¤æ‚çš„Javaä»£ç ï¼Œç”¨æ ‡ç­¾æ›´æ¸…æ™°

```jsp
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>

<!-- 1. æ¡ä»¶åˆ¤æ–­ -->
<c:if test="${user.age >= 18}">
    <p>æˆå¹´äºº</p>
</c:if>

<!-- 2. å¤šæ¡ä»¶åˆ¤æ–­ -->
<c:choose>
    <c:when test="${user.age < 18}">
        <p>æœªæˆå¹´</p>
    </c:when>
    <c:when test="${user.age < 60}">
        <p>æˆå¹´äºº</p>
    </c:when>
    <c:otherwise>
        <p>è€å¹´äºº</p>
    </c:otherwise>
</c:choose>

<!-- 3. å¾ªç¯éå† -->
<c:forEach items="${users}" var="user">
    <tr>
        <td>${user.id}</td>
        <td>${user.name}</td>
        <td>${user.age}</td>
    </tr>
</c:forEach>

<!-- 4. æ ¼å¼åŒ–æ—¥æœŸ -->
<%@ taglib prefix="fmt" uri="http://java.sun.com/jsp/jstl/fmt" %>
<fmt:formatDate value="${user.createTime}" pattern="yyyy-MM-dd HH:mm:ss"/>
```

### 9.4 JSPè¡¨å•æäº¤


```jsp
<!-- è¡¨å•é¡µé¢ï¼š/WEB-INF/views/user/add.jsp -->
<form action="${pageContext.request.contextPath}/user/save" method="post">
    <label>å§“åï¼š<input type="text" name="name"/></label><br/>
    <label>å¹´é¾„ï¼š<input type="number" name="age"/></label><br/>
    <label>é‚®ç®±ï¼š<input type="email" name="email"/></label><br/>
    <button type="submit">æäº¤</button>
</form>
```

```java
// å¤„ç†è¡¨å•æäº¤
@Controller
public class UserController {
    
    // æ˜¾ç¤ºè¡¨å•é¡µé¢
    @GetMapping("/user/add")
    public String showAddForm() {
        return "user/add";
    }
    
    // å¤„ç†è¡¨å•æäº¤
    @PostMapping("/user/save")
    public String saveUser(User user) {
        userService.save(user);
        return "redirect:/user/list";  // ä¿å­˜åé‡å®šå‘åˆ°åˆ—è¡¨é¡µ
    }
}
```

### 9.5 JSPçš„å±€é™æ€§


**ä¸ºä»€ä¹ˆç°åœ¨ä¸æ¨èç”¨JSP**ï¼š
- å‰åç«¯è€¦åˆä¸¥é‡
- ä¸æ”¯æŒå‰åç«¯åˆ†ç¦»
- æ€§èƒ½è¾ƒå·®ï¼ˆæ¯æ¬¡éƒ½è¦ç¼–è¯‘ï¼‰
- ç»´æŠ¤å›°éš¾

**ç°ä»£æ›¿ä»£æ–¹æ¡ˆ**ï¼š
- å‰åç«¯åˆ†ç¦»ï¼šVue + SpringBootï¼ˆè¿”å›JSONï¼‰
- æœåŠ¡ç«¯æ¸²æŸ“ï¼šThymeleafæ¨¡æ¿å¼•æ“

---

## 10. ğŸ¨ Thymeleafæ¨¡æ¿å¼•æ“ - ç°ä»£æ¨¡æ¿æ–¹æ¡ˆ


### 10.1 ä»€ä¹ˆæ˜¯Thymeleaf


**é€šä¿—ç†è§£**ï¼šThymeleafæ˜¯æ¯”JSPæ›´ç°ä»£çš„æ¨¡æ¿å¼•æ“ï¼Œè¯­æ³•æ›´ç®€æ´ï¼ŒåŠŸèƒ½æ›´å¼ºå¤§

**Thymeleaf vs JSPå¯¹æ¯”**ï¼š

| ç‰¹æ€§ | JSP | Thymeleaf |
|------|-----|-----------|
| **è¯­æ³•** | `<%= user.getName() %>` | `th:text="${user.name}"` |
| **åœ¨æµè§ˆå™¨ç›´æ¥æ‰“å¼€** | âŒä¸èƒ½ï¼ˆæŠ¥é”™ï¼‰ | âœ…èƒ½ï¼ˆæ˜¾ç¤ºæ¨¡æ¿ï¼‰ |
| **å­¦ä¹ éš¾åº¦** | ä¸­ç­‰ | ç®€å• |
| **æ€§èƒ½** | ä¸€èˆ¬ | è¾ƒå¥½ |
| **HTML5æ”¯æŒ** | ä¸€èˆ¬ | ä¼˜ç§€ |

### 10.2 Thymeleafå¿«é€Ÿå…¥é—¨


**ç¬¬ä¸€æ­¥ï¼šæ·»åŠ ä¾èµ–**
```xml
<dependency>
    <groupId>org.thymeleaf</groupId>
    <artifactId>thymeleaf-spring5</artifactId>
    <version>3.0.15.RELEASE</version>
</dependency>
```

**ç¬¬äºŒæ­¥ï¼šé…ç½®**
```java
@Configuration
public class ThymeleafConfig {
    
    @Bean
    public SpringTemplateEngine templateEngine() {
        SpringTemplateEngine engine = new SpringTemplateEngine();
        engine.setTemplateResolver(templateResolver());
        return engine;
    }
    
    @Bean
    public SpringResourceTemplateResolver templateResolver() {
        SpringResourceTemplateResolver resolver = 
            new SpringResourceTemplateResolver();
        resolver.setPrefix("/WEB-INF/templates/");
        resolver.setSuffix(".html");
        resolver.setTemplateMode(TemplateMode.HTML);
        resolver.setCharacterEncoding("UTF-8");
        return resolver;
    }
    
    @Bean
    public ThymeleafViewResolver viewResolver() {
        ThymeleafViewResolver resolver = new ThymeleafViewResolver();
        resolver.setTemplateEngine(templateEngine());
        resolver.setCharacterEncoding("UTF-8");
        return resolver;
    }
}
```

### 10.3 ThymeleafåŸºæœ¬è¯­æ³•


```html
<!-- /WEB-INF/templates/user/detail.html -->
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title th:text="${title}">ç”¨æˆ·è¯¦æƒ…</title>
</head>
<body>
    <!-- 1. æ–‡æœ¬æ˜¾ç¤º -->
    <h1 th:text="${user.name}">å¼ ä¸‰</h1>
    <p th:text="'å¹´é¾„ï¼š' + ${user.age}">å¹´é¾„ï¼š25</p>
    
    <!-- 2. å±æ€§è®¾ç½® -->
    <img th:src="${user.avatar}" alt="å¤´åƒ"/>
    <a th:href="@{/user/edit/{id}(id=${user.id})}">ç¼–è¾‘</a>
    
    <!-- 3. æ¡ä»¶åˆ¤æ–­ -->
    <div th:if="${user.age >= 18}">
        <p>æˆå¹´äºº</p>
    </div>
    
    <div th:unless="${user.isVip}">
        <p>æ™®é€šç”¨æˆ·</p>
    </div>
    
    <!-- 4. å¾ªç¯éå† -->
    <table>
        <tr th:each="user : ${users}">
            <td th:text="${user.id}">1</td>
            <td th:text="${user.name}">å¼ ä¸‰</td>
            <td th:text="${user.age}">25</td>
        </tr>
    </table>
    
    <!-- 5. switchåˆ†æ”¯ -->
    <div th:switch="${user.role}">
        <p th:case="'admin'">ç®¡ç†å‘˜</p>
        <p th:case="'user'">æ™®é€šç”¨æˆ·</p>
        <p th:case="*">æœªçŸ¥è§’è‰²</p>
    </div>
</body>
</html>
```

### 10.4 Thymeleafå®ç”¨åŠŸèƒ½


**æ—¥æœŸæ ¼å¼åŒ–**ï¼š
```html
<!-- ä½¿ç”¨#dateså·¥å…·ç±» -->
<p th:text="${#dates.format(user.createTime, 'yyyy-MM-dd HH:mm:ss')}"></p>

<!-- ç›¸å¯¹æ—¶é—´ -->
<p th:text="${#temporals.format(user.createTime, 'yyyy-MM-dd')}"></p>
```

**å­—ç¬¦ä¸²æ“ä½œ**ï¼š
```html
<!-- å­—ç¬¦ä¸²å·¥å…· #strings -->
<p th:text="${#strings.toUpperCase(user.name)}"></p>  <!-- è½¬å¤§å†™ -->
<p th:text="${#strings.substring(user.name, 0, 3)}"></p>  <!-- æˆªå– -->
<p th:if="${#strings.isEmpty(user.phone)}">æœªç»‘å®šæ‰‹æœº</p>  <!-- åˆ¤ç©º -->
```

**æ•°å­—æ ¼å¼åŒ–**ï¼š
```html
<!-- æ•°å­—å·¥å…· #numbers -->
<p th:text="${#numbers.formatDecimal(user.balance, 1, 2)}"></p>
<!-- æ ¼å¼åŒ–ä¸ºï¼š1234.56 -->
```

**é›†åˆæ“ä½œ**ï¼š
```html
<!-- é›†åˆå·¥å…· #lists -->
<p th:text="${#lists.size(users)}"></p>  <!-- é›†åˆå¤§å° -->
<p th:if="${#lists.isEmpty(users)}">æš‚æ— æ•°æ®</p>  <!-- åˆ¤ç©º -->
```

### 10.5 Thymeleafè¡¨å•å¤„ç†


```html
<!-- è¡¨å•ç»‘å®šå¯¹è±¡ -->
<form th:action="@{/user/save}" th:object="${user}" method="post">
    <!-- th:fieldè‡ªåŠ¨ç»‘å®švalueå’Œname -->
    <input type="text" th:field="*{name}" placeholder="å§“å"/>
    <input type="number" th:field="*{age}" placeholder="å¹´é¾„"/>
    <input type="email" th:field="*{email}" placeholder="é‚®ç®±"/>
    
    <!-- å•é€‰æ¡† -->
    <input type="radio" th:field="*{gender}" value="M"/> ç”·
    <input type="radio" th:field="*{gender}" value="F"/> å¥³
    
    <!-- ä¸‹æ‹‰æ¡† -->
    <select th:field="*{role}">
        <option th:each="r : ${roles}" 
                th:value="${r.id}" 
                th:text="${r.name}">è§’è‰²</option>
    </select>
    
    <button type="submit">æäº¤</button>
</form>
```

```java
@Controller
public class UserController {
    
    @GetMapping("/user/add")
    public String showAddForm(Model model) {
        model.addAttribute("user", new User());  // ç©ºå¯¹è±¡
        model.addAttribute("roles", roleService.findAll());
        return "user/add";
    }
    
    @PostMapping("/user/save")
    public String saveUser(@ModelAttribute User user) {
        userService.save(user);
        return "redirect:/user/list";
    }
}
```

---

## 11. ğŸ”€ é‡å®šå‘ä¸è½¬å‘ - é¡µé¢è·³è½¬æ§åˆ¶


### 11.1 ä»€ä¹ˆæ˜¯é‡å®šå‘å’Œè½¬å‘


**é€šä¿—ç†è§£**ï¼š
- **è½¬å‘ï¼ˆForwardï¼‰**ï¼šæœåŠ¡å™¨å†…éƒ¨è·³è½¬ï¼Œæµè§ˆå™¨åœ°å€æ ä¸å˜
- **é‡å®šå‘ï¼ˆRedirectï¼‰**ï¼šè®©æµè§ˆå™¨é‡æ–°å‘èµ·è¯·æ±‚ï¼Œåœ°å€æ æ”¹å˜

**ç”Ÿæ´»åœºæ™¯ç±»æ¯”**ï¼š
```
è½¬å‘ï¼ˆForwardï¼‰ï¼š
ä½ å»æ”¿åŠ¡å¤§å…åŠäº‹ï¼Œå·¥ä½œäººå‘˜è¯´"è¿™ä¸ªä¸šåŠ¡å»3å·çª—å£"ï¼Œ
ç„¶åç›´æ¥å¸¦ä½ å»3å·çª—å£åŠç†ã€‚
â†’ ä½ åªè·‘äº†ä¸€æ¬¡ï¼Œåœ°å€æ²¡å˜

é‡å®šå‘ï¼ˆRedirectï¼‰ï¼š
ä½ å»æ”¿åŠ¡å¤§å…åŠäº‹ï¼Œå·¥ä½œäººå‘˜è¯´"è¿™ä¸ªä¸šåŠ¡åœ¨äºŒæ¥¼åŠ"ï¼Œ
ä½ å¾—è‡ªå·±å»äºŒæ¥¼é‡æ–°æ’é˜Ÿã€‚
â†’ ä½ è·‘äº†ä¸¤æ¬¡ï¼Œä½ç½®å˜äº†
```

### 11.2 è½¬å‘ï¼ˆForwardï¼‰è¯¦è§£


**ä½¿ç”¨æ–¹å¼**ï¼š
```java
@Controller
public class UserController {
    
    // æ–¹å¼1ï¼šè¿”å›è§†å›¾åï¼ˆé»˜è®¤å°±æ˜¯è½¬å‘ï¼‰
    @RequestMapping("/user/detail")
    public String userDetail(Model model) {
        model.addAttribute("user", new User());
        return "user/detail";  // è½¬å‘åˆ°user/detail.jsp
    }
    
    // æ–¹å¼2ï¼šæ˜¾å¼æŒ‡å®šforward
    @RequestMapping("/user/info")
    public String userInfo() {
        return "forward:/user/detail";  // è½¬å‘åˆ°/user/detail
    }
}
```

**è½¬å‘çš„ç‰¹ç‚¹**ï¼š
```
âœ… æµè§ˆå™¨åœ°å€æ ä¸å˜
âœ… åªå‘èµ·ä¸€æ¬¡è¯·æ±‚
âœ… å¯ä»¥å…±äº«requeståŸŸä¸­çš„æ•°æ®
âœ… åªèƒ½è½¬å‘åˆ°å½“å‰åº”ç”¨å†…éƒ¨
âŒ æµè§ˆå™¨åˆ·æ–°ä¼šé‡å¤æäº¤è¡¨å•
```

**å®é™…åº”ç”¨åœºæ™¯**ï¼š
```java
// åœºæ™¯ï¼šæŸ¥è¯¢ç”¨æˆ·åæ˜¾ç¤ºè¯¦æƒ…
@RequestMapping("/getUserById")
public String getUserById(Integer id, Model model) {
    User user = userService.findById(id);
    model.addAttribute("user", user);  // æ•°æ®æ”¾å…¥model
    return "forward:/showUserDetail";  // è½¬å‘ï¼Œmodelæ•°æ®ä¿ç•™
}

@RequestMapping("/showUserDetail")
public String showUserDetail() {
    // å¯ä»¥ç›´æ¥ä½¿ç”¨ä¸Šä¸€ä¸ªæ–¹æ³•æ”¾å…¥çš„useræ•°æ®
    return "user/detail";
}
```

### 11.3 é‡å®šå‘ï¼ˆRedirectï¼‰è¯¦è§£


**ä½¿ç”¨æ–¹å¼**ï¼š
```java
@Controller
public class UserController {
    
    // æ·»åŠ ç”¨æˆ·åé‡å®šå‘åˆ°åˆ—è¡¨
    @PostMapping("/user/save")
    public String saveUser(User user) {
        userService.save(user);
        
        // é‡å®šå‘åˆ°åˆ—è¡¨é¡µï¼ˆé˜²æ­¢åˆ·æ–°é‡å¤æäº¤ï¼‰
        return "redirect:/user/list";
    }
    
    // å¸¦å‚æ•°çš„é‡å®šå‘
    @GetMapping("/user/delete")
    public String deleteUser(Integer id) {
        userService.delete(id);
        
        // é‡å®šå‘å¹¶ä¼ é€’å‚æ•°
        return "redirect:/user/list?message=åˆ é™¤æˆåŠŸ";
    }
}
```

**é‡å®šå‘çš„ç‰¹ç‚¹**ï¼š
```
âœ… æµè§ˆå™¨åœ°å€æ æ”¹å˜
âœ… å‘èµ·ä¸¤æ¬¡è¯·æ±‚
âœ… é¿å…è¡¨å•é‡å¤æäº¤
âœ… å¯ä»¥é‡å®šå‘åˆ°å¤–éƒ¨ç½‘ç«™
âŒ ä¸èƒ½å…±äº«requeståŸŸæ•°æ®
âŒ æ€§èƒ½ç•¥å·®ï¼ˆå¤šä¸€æ¬¡è¯·æ±‚ï¼‰
```

**ä¼ é€’æ•°æ®çš„æ–¹å¼**ï¼š
```java
// æ–¹å¼1ï¼šURLå‚æ•°ä¼ é€’
return "redirect:/user/detail?id=" + user.getId();

// æ–¹å¼2ï¼šä½¿ç”¨RedirectAttributesï¼ˆæ¨èï¼‰
@PostMapping("/user/save")
public String saveUser(User user, RedirectAttributes attr) {
    userService.save(user);
    
    // é‡å®šå‘æ—¶ä¼ é€’æ•°æ®
    attr.addAttribute("id", user.getId());  // URLå‚æ•°
    attr.addFlashAttribute("message", "ä¿å­˜æˆåŠŸ");  // sessionæš‚å­˜
    
    return "redirect:/user/detail";
}

@GetMapping("/user/detail")
public String detail(Integer id, Model model) {
    // å¯ä»¥è·å–åˆ°RedirectAttributesä¸­çš„æ•°æ®
    User user = userService.findById(id);
    model.addAttribute("user", user);
    // messageä¼šè‡ªåŠ¨ä»sessionä¸­å–å‡ºæ”¾å…¥model
    return "user/detail";
}
```

### 11.4 è½¬å‘ vs é‡å®šå‘å¯¹æ¯”


| ç‰¹æ€§ | è½¬å‘ï¼ˆForwardï¼‰ | é‡å®šå‘ï¼ˆRedirectï¼‰ |
|------|----------------|-------------------|
| **åœ°å€æ ** | ä¸å˜ | æ”¹å˜ |
| **è¯·æ±‚æ¬¡æ•°** | 1æ¬¡ | 2æ¬¡ |
| **æ•°æ®å…±äº«** | âœ…å¯ä»¥ï¼ˆrequeståŸŸï¼‰ | âŒä¸å¯ä»¥ |
| **åº”ç”¨èŒƒå›´** | ä»…é™å†…éƒ¨ | å¯è·¨åº”ç”¨/ç½‘ç«™ |
| **åˆ·æ–°é—®é¢˜** | ä¼šé‡å¤æäº¤ | ä¸ä¼šé‡å¤æäº¤ |
| **æ€§èƒ½** | è¾ƒå¥½ | ç•¥å·® |

### 11.5 å®é™…åº”ç”¨åœºæ™¯é€‰æ‹©


**ä½¿ç”¨è½¬å‘çš„åœºæ™¯**ï¼š
```java
// 1. æŸ¥è¯¢åæ˜¾ç¤ºï¼ˆä¸ä¿®æ”¹æ•°æ®ï¼‰
@GetMapping("/user/search")
public String search(String keyword, Model model) {
    List<User> users = userService.search(keyword);
    model.addAttribute("users", users);
    return "forward:/user/list";  // è½¬å‘åˆ°åˆ—è¡¨é¡µ
}

// 2. å¤šä¸ªControlleræ–¹æ³•åä½œ
@GetMapping("/order/create")
public String createOrder(Model model) {
    // å‡†å¤‡è®¢å•æ•°æ®
    model.addAttribute("products", productService.findAll());
    return "forward:/order/prepare";  // è½¬å‘ç»§ç»­å¤„ç†
}
```

**ä½¿ç”¨é‡å®šå‘çš„åœºæ™¯**ï¼š
```java
// 1. è¡¨å•æäº¤åï¼ˆé˜²æ­¢é‡å¤æäº¤ï¼‰- æœ€å¸¸ç”¨
@PostMapping("/user/save")
public String save(User user) {
    userService.save(user);
    return "redirect:/user/list";  // PRGæ¨¡å¼
}

// 2. ç™»å½•æˆåŠŸåè·³è½¬
@PostMapping("/login")
public String login(String username, String password) {
    if (userService.login(username, password)) {
        return "redirect:/index";  // è·³è½¬åˆ°é¦–é¡µ
    }
    return "login";  // å¤±è´¥è¿”å›ç™»å½•é¡µ
}

// 3. æƒé™æ£€æŸ¥åè·³è½¬
@GetMapping("/admin")
public String admin(HttpSession session) {
    if (session.getAttribute("user") == null) {
        return "redirect:/login";  // æœªç™»å½•ï¼Œè·³è½¬ç™»å½•é¡µ
    }
    return "admin/index";
}
```

**PRGæ¨¡å¼ï¼ˆPost-Redirect-Getï¼‰**ï¼š
```
æäº¤è¡¨å•(POST) â†’ å¤„ç†æ•°æ® â†’ é‡å®šå‘(Redirect) â†’ æ˜¾ç¤ºç»“æœ(GET)
```

è¿™æ ·åˆ·æ–°é¡µé¢åªä¼šé‡æ–°GETï¼Œä¸ä¼šé‡å¤æäº¤è¡¨å•

---

## 12. ğŸ“ é™æ€èµ„æºå¤„ç† - CSS/JS/å›¾ç‰‡è®¿é—®


### 12.1 ä»€ä¹ˆæ˜¯é™æ€èµ„æº


**é€šä¿—ç†è§£**ï¼šé™æ€èµ„æºå°±æ˜¯ä¸éœ€è¦æœåŠ¡å™¨å¤„ç†ï¼Œç›´æ¥è¿”å›ç»™æµè§ˆå™¨çš„æ–‡ä»¶

**å¸¸è§é™æ€èµ„æº**ï¼š
- CSSæ ·å¼æ–‡ä»¶ï¼š`.css`
- JavaScriptæ–‡ä»¶ï¼š`.js`
- å›¾ç‰‡æ–‡ä»¶ï¼š`.jpg`ã€`.png`ã€`.gif`ç­‰
- å­—ä½“æ–‡ä»¶ï¼š`.ttf`ã€`.woff`ç­‰
- å…¶ä»–ï¼š`.ico`ã€`.txt`ç­‰

### 12.2 é™æ€èµ„æºè®¿é—®é—®é¢˜


**é—®é¢˜åœºæ™¯**ï¼š
```
é¡¹ç›®ç»“æ„ï¼š
webapp/
  â”œâ”€â”€ WEB-INF/
  â”œâ”€â”€ static/
  â”‚   â”œâ”€â”€ css/
  â”‚   â”‚   â””â”€â”€ style.css
  â”‚   â”œâ”€â”€ js/
  â”‚   â”‚   â””â”€â”€ main.js
  â”‚   â””â”€â”€ images/
  â”‚       â””â”€â”€ logo.png

JSPé¡µé¢ä¸­å¼•ç”¨ï¼š
<link href="/static/css/style.css" rel="stylesheet"/>
<script src="/static/js/main.js"></script>
<img src="/static/images/logo.png"/>

é—®é¢˜ï¼šè®¿é—®æ—¶404ï¼Œæ‰¾ä¸åˆ°æ–‡ä»¶ï¼
åŸå› ï¼šSpringMVCçš„DispatcherServletæ‹¦æˆªäº†æ‰€æœ‰è¯·æ±‚ï¼ˆåŒ…æ‹¬é™æ€èµ„æºï¼‰
```

### 12.3 è§£å†³æ–¹æ¡ˆ1ï¼šmvc:default-servlet-handler


**åŸç†**ï¼šæŠŠé™æ€èµ„æºè¯·æ±‚äº¤ç»™Tomcaté»˜è®¤Servletå¤„ç†

```xml
<!-- springmvc.xml -->
<mvc:annotation-driven/>
<mvc:default-servlet-handler/>
```

**ä¼˜ç‚¹**ï¼šé…ç½®ç®€å•
**ç¼ºç‚¹**ï¼šä¾èµ–å®¹å™¨çš„é»˜è®¤Servletï¼Œä¸åŒå®¹å™¨å¯èƒ½ä¸ä¸€è‡´

### 12.4 è§£å†³æ–¹æ¡ˆ2ï¼šmvc:resourcesï¼ˆæ¨èï¼‰


**åŸç†**ï¼šSpringMVCè‡ªå·±å¤„ç†é™æ€èµ„æºï¼Œæ˜ å°„URLåˆ°æœ¬åœ°ç›®å½•

```xml
<!-- springmvc.xml -->
<mvc:annotation-driven/>

<!-- æ–¹å¼1ï¼šç®€å•æ˜ å°„ -->
<mvc:resources mapping="/static/**" location="/static/"/>
<!-- /static/**çš„è¯·æ±‚ â†’ æ˜ å°„åˆ°/static/ç›®å½• -->

<!-- æ–¹å¼2ï¼šå¤šç›®å½•æ˜ å°„ -->
<mvc:resources mapping="/css/**" location="/static/css/"/>
<mvc:resources mapping="/js/**" location="/static/js/"/>
<mvc:resources mapping="/images/**" location="/static/images/"/>

<!-- æ–¹å¼3ï¼šè®¾ç½®ç¼“å­˜ -->
<mvc:resources mapping="/static/**" 
               location="/static/"
               cache-period="3600"/>  <!-- ç¼“å­˜1å°æ—¶ -->
```

**Javaé…ç½®æ–¹å¼**ï¼š
```java
@Configuration
@EnableWebMvc
public class WebConfig implements WebMvcConfigurer {
    
    @Override
    public void addResourceHandlers(ResourceHandlerRegistry registry) {
        // é…ç½®é™æ€èµ„æºæ˜ å°„
        registry.addResourceHandler("/static/**")
                .addResourceLocations("/static/")
                .setCacheControl(CacheControl.maxAge(
                    Duration.ofHours(1)
                ));
        
        // å¤šä¸ªé™æ€èµ„æºç›®å½•
        registry.addResourceHandler("/uploads/**")
                .addResourceLocations("/WEB-INF/uploads/");
    }
}
```

### 12.5 å®é™…é¡¹ç›®é…ç½®å»ºè®®


**æ ‡å‡†é™æ€èµ„æºç›®å½•ç»“æ„**ï¼š
```
webapp/
  â”œâ”€â”€ static/          # é™æ€èµ„æºæ ¹ç›®å½•
  â”‚   â”œâ”€â”€ css/        # æ ·å¼æ–‡ä»¶
  â”‚   â”‚   â”œâ”€â”€ bootstrap.min.css
  â”‚   â”‚   â””â”€â”€ style.css
  â”‚   â”œâ”€â”€ js/         # JavaScriptæ–‡ä»¶
  â”‚   â”‚   â”œâ”€â”€ jquery.min.js
  â”‚   â”‚   â””â”€â”€ main.js
  â”‚   â”œâ”€â”€ images/     # å›¾ç‰‡æ–‡ä»¶
  â”‚   â”‚   â”œâ”€â”€ logo.png
  â”‚   â”‚   â””â”€â”€ banner.jpg
  â”‚   â”œâ”€â”€ fonts/      # å­—ä½“æ–‡ä»¶
  â”‚   â””â”€â”€ lib/        # ç¬¬ä¸‰æ–¹åº“
  â””â”€â”€ WEB-INF/
      â””â”€â”€ views/
```

**å®Œæ•´é…ç½®ç¤ºä¾‹**ï¼š
```xml
<!-- springmvc.xml -->
<mvc:annotation-driven/>

<!-- é™æ€èµ„æºé…ç½® -->
<mvc:resources mapping="/static/**" 
               location="/static/"
               cache-period="31536000"/>  <!-- ç¼“å­˜1å¹´ -->

<!-- æ–‡ä»¶ä¸Šä¼ ç›®å½•ï¼ˆéœ€è¦é¢å¤–é…ç½®ï¼‰ -->
<mvc:resources mapping="/uploads/**" 
               location="/WEB-INF/uploads/"/>
```

**JSPä¸­å¼•ç”¨é™æ€èµ„æº**ï¼š
```jsp
<%@ page contentType="text/html;charset=UTF-8" %>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>

<!DOCTYPE html>
<html>
<head>
    <title>ç¤ºä¾‹é¡µé¢</title>
    
    <!-- æ–¹å¼1ï¼šä½¿ç”¨ç›¸å¯¹è·¯å¾„ -->
    <link href="static/css/style.css" rel="stylesheet"/>
    
    <!-- æ–¹å¼2ï¼šä½¿ç”¨ç»å¯¹è·¯å¾„ï¼ˆæ¨èï¼‰ -->
    <link href="${pageContext.request.contextPath}/static/css/style.css" 
          rel="stylesheet"/>
    
    <!-- æ–¹å¼3ï¼šä½¿ç”¨JSTLçš„urlæ ‡ç­¾ -->
    <link href="<c:url value='/static/css/style.css'/>" rel="stylesheet"/>
</head>
<body>
    <!-- å›¾ç‰‡å¼•ç”¨ -->
    <img src="${pageContext.request.contextPath}/static/images/logo.png" 
         alt="Logo"/>
    
    <!-- JSå¼•ç”¨ -->
    <script src="${pageContext.request.contextPath}/static/js/jquery.min.js">
    </script>
    <script src="${pageContext.request.contextPath}/static/js/main.js">
    </script>
</body>
</html>
```

### 12.6 é™æ€èµ„æºä¼˜åŒ–å»ºè®®


**1. å¯ç”¨æµè§ˆå™¨ç¼“å­˜**ï¼š
```xml
<mvc:resources mapping="/static/**" 
               location="/static/"
               cache-period="31536000">  <!-- 1å¹´ -->
    <mvc:cache-control max-age="31536000" cache-public="true"/>
</mvc:resources>
```

**2. ç‰ˆæœ¬åŒ–é™æ€èµ„æº**ï¼ˆé˜²æ­¢ç¼“å­˜é—®é¢˜ï¼‰ï¼š
```jsp
<!-- åœ¨URLååŠ ç‰ˆæœ¬å· -->
<link href="${pageContext.request.contextPath}/static/css/style.css?v=1.0.1" 
      rel="stylesheet"/>
```

**3. ä½¿ç”¨CDNåŠ é€Ÿ**ï¼š
```jsp
<!-- ç¬¬ä¸‰æ–¹åº“ä½¿ç”¨CDN -->
<script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.6.0/jquery.min.js">
</script>

<!-- æœ¬åœ°æ–‡ä»¶ä½¿ç”¨è‡ªå·±çš„æœåŠ¡å™¨ -->
<script src="${pageContext.request.contextPath}/static/js/main.js"></script>
```

**4. å‹ç¼©é™æ€èµ„æº**ï¼š
- CSS/JSæ–‡ä»¶ä½¿ç”¨å‹ç¼©ç‰ˆï¼ˆ.min.jsã€.min.cssï¼‰
- å›¾ç‰‡è¿›è¡Œå‹ç¼©ä¼˜åŒ–
- è€ƒè™‘ä½¿ç”¨Gzipå‹ç¼©ä¼ è¾“

---

## 13. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 13.1 å“åº”æ•°æ®å¤„ç†æ€»ç»“


**ğŸ”¸ @ResponseBody vs ResponseEntity**
```
@ResponseBodyï¼š
- è¿”å›æ•°æ®ç»™å‰ç«¯ï¼ˆJSON/XML/å­—ç¬¦ä¸²ï¼‰
- åªæ§åˆ¶å“åº”ä½“
- å‰åç«¯åˆ†ç¦»é¡¹ç›®å¸¸ç”¨

ResponseEntityï¼š
- ç²¾ç¡®æ§åˆ¶æ•´ä¸ªHTTPå“åº”
- å¯è®¾ç½®çŠ¶æ€ç ã€å“åº”å¤´ã€å“åº”ä½“
- éœ€è¦å¤æ‚å“åº”æ§åˆ¶æ—¶ä½¿ç”¨
```

**ğŸ”¸ JSONå“åº”æ ¸å¿ƒè¦ç‚¹**
```
âœ… æ·»åŠ Jacksonä¾èµ–
âœ… å¼€å¯<mvc:annotation-driven/>
âœ… ä½¿ç”¨@ResponseBodyæˆ–@RestController
âœ… é…ç½®æ—¥æœŸæ ¼å¼åŒ–
âœ… ç»Ÿä¸€å“åº”æ ¼å¼ï¼ˆResult<T>ï¼‰
```

**ğŸ”¸ Jacksonå¸¸ç”¨é…ç½®**
```java
// å¿½ç•¥nullå€¼
@JsonInclude(JsonInclude.Include.NON_NULL)

// å¿½ç•¥æŸä¸ªå­—æ®µ
@JsonIgnore

// è‡ªå®šä¹‰å­—æ®µå
@JsonProperty("user_id")

// æ—¥æœŸæ ¼å¼åŒ–
@JsonFormat(pattern = "yyyy-MM-dd HH:mm:ss")
```

### 13.2 è§†å›¾å¤„ç†æ€»ç»“


**ğŸ”¸ è§†å›¾è§£æå™¨é…ç½®**
```xml
<bean class="org.springframework.web.servlet.view.InternalResourceViewResolver">
    <property name="prefix" value="/WEB-INF/views/"/>
    <property name="suffix" value=".jsp"/>
</bean>
```

**ğŸ”¸ JSP vs Thymeleafå¯¹æ¯”**

| ç‰¹æ€§ | JSP | Thymeleaf |
|------|-----|-----------|
| **é€‚ç”¨åœºæ™¯** | ä¼ ç»ŸWeb | ç°ä»£Web |
| **è¯­æ³•** | å¤æ‚ | ç®€æ´ |
| **æ€§èƒ½** | ä¸€èˆ¬ | è¾ƒå¥½ |
| **æ¨èåº¦** | â­â­ | â­â­â­â­ |

### 13.3 é¡µé¢è·³è½¬æ€»ç»“


**ğŸ”¸ è½¬å‘ vs é‡å®šå‘**

```
è½¬å‘ï¼ˆForwardï¼‰ï¼š
- åœ°å€æ ä¸å˜
- ä¸€æ¬¡è¯·æ±‚
- æ•°æ®å…±äº«
- return "forward:/path"

é‡å®šå‘ï¼ˆRedirectï¼‰ï¼š
- åœ°å€æ æ”¹å˜  
- ä¸¤æ¬¡è¯·æ±‚
- é¿å…é‡å¤æäº¤
- return "redirect:/path"
```

**ğŸ”¸ ä½¿ç”¨åœºæ™¯é€‰æ‹©**
```
æŸ¥è¯¢æ“ä½œ â†’ è½¬å‘
è¡¨å•æäº¤ â†’ é‡å®šå‘ï¼ˆPRGæ¨¡å¼ï¼‰
ç™»å½•æˆåŠŸ â†’ é‡å®šå‘
æƒé™è·³è½¬ â†’ é‡å®šå‘
```

### 13.4 é™æ€èµ„æºå¤„ç†æ€»ç»“


**ğŸ”¸ é…ç½®æ–¹å¼**
```xml
<!-- æ¨èé…ç½® -->
<mvc:annotation-driven/>
<mvc:resources mapping="/static/**" 
               location="/static/"
               cache-period="31536000"/>
```

**ğŸ”¸ ç›®å½•ç»“æ„**
```
webapp/static/
  â”œâ”€â”€ css/     # æ ·å¼
  â”œâ”€â”€ js/      # è„šæœ¬
  â”œâ”€â”€ images/  # å›¾ç‰‡
  â””â”€â”€ lib/     # ç¬¬ä¸‰æ–¹åº“
```

### 13.5 æœ€ä½³å®è·µå»ºè®®


**ğŸ”¸ å‰åç«¯åˆ†ç¦»é¡¹ç›®**
```java
@RestController  // ä½¿ç”¨RestController
@RequestMapping("/api")
public class ApiController {
    
    // ç»Ÿä¸€è¿”å›æ ¼å¼
    @GetMapping("/users")
    public Result<List<User>> getUsers() {
        return Result.success(userService.findAll());
    }
    
    // ç»Ÿä¸€å¼‚å¸¸å¤„ç†
    @ExceptionHandler(Exception.class)
    public Result<Void> handleException(Exception e) {
        return Result.error(e.getMessage());
    }
}
```

**ğŸ”¸ ä¼ ç»ŸMVCé¡¹ç›®**
```java
@Controller  // ä½¿ç”¨Controller
public class PageController {
    
    // è¿”å›é¡µé¢
    @GetMapping("/user/list")
    public String list(Model model) {
        model.addAttribute("users", userService.findAll());
        return "user/list";  // è·³è½¬é¡µé¢
    }
    
    // è¡¨å•æäº¤ç”¨é‡å®šå‘
    @PostMapping("/user/save")
    public String save(User user) {
        userService.save(user);
        return "redirect:/user/list";  // PRGæ¨¡å¼
    }
}
```

**ğŸ”¸ æ··åˆé¡¹ç›®ï¼ˆé¡µé¢+æ¥å£ï¼‰**
```java
@Controller
@RequestMapping("/user")
public class UserController {
    
    // é¡µé¢è¯·æ±‚
    @GetMapping("/list")
    public String list(Model model) {
        model.addAttribute("users", userService.findAll());
        return "user/list";
    }
    
    // AJAXè¯·æ±‚
    @GetMapping("/api/list")
    @ResponseBody
    public Result<List<User>> apiList() {
        return Result.success(userService.findAll());
    }
}
```

### 13.6 å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ


**â“ é—®é¢˜1ï¼šè¿”å›ä¸­æ–‡ä¹±ç **
```java
// è§£å†³æ–¹æ¡ˆï¼šæŒ‡å®šå“åº”ç¼–ç 
@RequestMapping(value = "/hello", produces = "text/html;charset=UTF-8")
@ResponseBody
public String hello() {
    return "ä½ å¥½ï¼ŒSpringMVC";
}

// æˆ–è€…é…ç½®å…¨å±€å­—ç¬¦ç¼–ç è¿‡æ»¤å™¨
@Bean
public CharacterEncodingFilter characterEncodingFilter() {
    CharacterEncodingFilter filter = new CharacterEncodingFilter();
    filter.setEncoding("UTF-8");
    filter.setForceEncoding(true);
    return filter;
}
```

**â“ é—®é¢˜2ï¼šæ—¥æœŸæ ¼å¼ä¸å¯¹**
```java
// æ–¹æ¡ˆ1ï¼šä½¿ç”¨@JsonFormat
@JsonFormat(pattern = "yyyy-MM-dd HH:mm:ss", timezone = "GMT+8")
private Date createTime;

// æ–¹æ¡ˆ2ï¼šå…¨å±€é…ç½®
@Bean
public ObjectMapper objectMapper() {
    ObjectMapper mapper = new ObjectMapper();
    mapper.setDateFormat(new SimpleDateFormat("yyyy-MM-dd HH:mm:ss"));
    mapper.setTimeZone(TimeZone.getTimeZone("GMT+8"));
    return mapper;
}
```

**â“ é—®é¢˜3ï¼šé™æ€èµ„æº404**
```xml
<!-- ç¡®ä¿é…ç½®äº†èµ„æºæ˜ å°„ -->
<mvc:annotation-driven/>
<mvc:resources mapping="/static/**" location="/static/"/>

<!-- æˆ–ä½¿ç”¨é»˜è®¤Servlet -->
<mvc:default-servlet-handler/>
```

**â“ é—®é¢˜4ï¼šé‡å®šå‘ä¼ é€’ä¸­æ–‡å‚æ•°ä¹±ç **
```java
// æ–¹æ¡ˆ1ï¼šä½¿ç”¨RedirectAttributes
@PostMapping("/user/save")
public String save(User user, RedirectAttributes attr) {
    userService.save(user);
    attr.addFlashAttribute("message", "ä¿å­˜æˆåŠŸ");  // å­˜sessionï¼Œä¸èµ°URL
    return "redirect:/user/list";
}

// æ–¹æ¡ˆ2ï¼šURLç¼–ç 
return "redirect:/user/detail?name=" + 
    URLEncoder.encode("å¼ ä¸‰", "UTF-8");
```

**â“ é—®é¢˜5ï¼šJSONè¿”å›nullå€¼**
```java
// å…¨å±€å¿½ç•¥nullå€¼
@Bean
public ObjectMapper objectMapper() {
    ObjectMapper mapper = new ObjectMapper();
    mapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);
    return mapper;
}

// æˆ–è€…å•ä¸ªå­—æ®µæ§åˆ¶
@JsonInclude(JsonInclude.Include.NON_NULL)
private String phone;
```

### 13.7 å­¦ä¹ æ£€éªŒæ¸…å•


**âœ… åŸºç¡€æ¦‚å¿µç†è§£**
- [ ] ç†è§£@ResponseBodyå’Œ@RestControllerçš„åŒºåˆ«å’Œä½¿ç”¨åœºæ™¯
- [ ] ç†è§£ResponseEntityçš„ä½œç”¨å’Œä½¿ç”¨æ–¹æ³•
- [ ] ç†è§£JSONå’ŒXMLæ•°æ®å“åº”çš„åŸç†
- [ ] ç†è§£HttpMessageConverterçš„å·¥ä½œæœºåˆ¶

**âœ… é…ç½®èƒ½åŠ›**
- [ ] èƒ½é…ç½®Jacksonåºåˆ—åŒ–é€‰é¡¹
- [ ] èƒ½é…ç½®æ—¥æœŸæ ¼å¼åŒ–
- [ ] èƒ½é…ç½®è§†å›¾è§£æå™¨
- [ ] èƒ½é…ç½®é™æ€èµ„æºæ˜ å°„

**âœ… å®é™…åº”ç”¨**
- [ ] èƒ½è¿”å›JSONæ•°æ®ç»™å‰ç«¯
- [ ] èƒ½ä½¿ç”¨Thymeleafæ¸²æŸ“é¡µé¢
- [ ] èƒ½æ­£ç¡®ä½¿ç”¨è½¬å‘å’Œé‡å®šå‘
- [ ] èƒ½å¤„ç†é™æ€èµ„æºè®¿é—®

**âœ… é—®é¢˜è§£å†³**
- [ ] èƒ½è§£å†³ä¸­æ–‡ä¹±ç é—®é¢˜
- [ ] èƒ½è§£å†³æ—¥æœŸæ ¼å¼é—®é¢˜
- [ ] èƒ½è§£å†³é™æ€èµ„æº404é—®é¢˜
- [ ] èƒ½å®ç°ç»Ÿä¸€å“åº”æ ¼å¼

### 13.8 è®°å¿†å£è¯€


**å“åº”æ•°æ®å¤„ç†**
```
ResponseBodyè¿”æ•°æ®ï¼ŒJSONæ ¼å¼å‰ç«¯æ‹¿
ResponseEntityæ›´å¼ºå¤§ï¼ŒçŠ¶æ€å“åº”å…¨æŒæ§
Jacksoné…ç½®è¦è®°ç‰¢ï¼Œæ—¥æœŸæ ¼å¼åˆ«å¿˜äº†
```

**è§†å›¾é¡µé¢æ¸²æŸ“**
```
è§†å›¾è§£æé…å‰åç¼€ï¼ŒJSPè€æ—§Thymeleafæ–°
è½¬å‘å†…éƒ¨åœ°å€ä¸å˜ï¼Œé‡å®šå‘è·³è½¬é˜²é‡æ
é™æ€èµ„æºè¦æ˜ å°„ï¼ŒCSSå›¾ç‰‡è®¿é—®ç•…
```

**æ ¸å¿ƒé€‰æ‹©åŸåˆ™**
```
å‰åç«¯åˆ†ç¦»ç”¨RestControllerï¼Œè¿”å›JSONæ•°æ®æœ€åˆé€‚
ä¼ ç»Ÿé¡¹ç›®ç”¨Controllerï¼Œé¡µé¢è·³è½¬è§†å›¾å¥½
è¡¨å•æäº¤è¦é‡å®šå‘ï¼ŒæŸ¥è¯¢å±•ç¤ºç”¨è½¬å‘
é™æ€èµ„æºå•ç‹¬é…ï¼Œç¼“å­˜ä¼˜åŒ–æ€§èƒ½é«˜
```

---

## ğŸ¯ å®æˆ˜ç»¼åˆæ¡ˆä¾‹


### æ¡ˆä¾‹ï¼šå®Œæ•´çš„ç”¨æˆ·ç®¡ç†æ¨¡å—


**éœ€æ±‚è¯´æ˜**ï¼š
- ç”¨æˆ·åˆ—è¡¨å±•ç¤ºï¼ˆé¡µé¢æ¸²æŸ“ï¼‰
- ç”¨æˆ·è¯¦æƒ…æŸ¥è¯¢ï¼ˆJSONæ¥å£ï¼‰
- ç”¨æˆ·æ·»åŠ /ç¼–è¾‘ï¼ˆè¡¨å•æäº¤ï¼‰
- å¤´åƒä¸Šä¼ ï¼ˆæ–‡ä»¶å¤„ç†ï¼‰
- ç»Ÿä¸€å¼‚å¸¸å¤„ç†

**1. å®ä½“ç±»å®šä¹‰**
```java
@Data
public class User {
    private Integer id;
    private String username;
    
    @JsonIgnore
    private String password;
    
    @JsonProperty("nick_name")
    private String nickname;
    
    @JsonFormat(pattern = "yyyy-MM-dd")
    private Date birthday;
    
    @JsonInclude(JsonInclude.Include.NON_NULL)
    private String avatar;
    
    @JsonFormat(pattern = "yyyy-MM-dd HH:mm:ss")
    private LocalDateTime createTime;
}
```

**2. Controllerå®ç°**
```java
@Controller
@RequestMapping("/user")
public class UserController {
    
    @Autowired
    private UserService userService;
    
    // é¡µé¢ï¼šç”¨æˆ·åˆ—è¡¨
    @GetMapping("/list")
    public String list(Model model) {
        List<User> users = userService.findAll();
        model.addAttribute("users", users);
        return "user/list";  // è·³è½¬åˆ°user/list.html
    }
    
    // æ¥å£ï¼šè·å–ç”¨æˆ·è¯¦æƒ…ï¼ˆJSONï¼‰
    @GetMapping("/api/{id}")
    @ResponseBody
    public Result<User> getUserById(@PathVariable Integer id) {
        User user = userService.findById(id);
        if (user != null) {
            return Result.success(user);
        }
        return Result.error("ç”¨æˆ·ä¸å­˜åœ¨");
    }
    
    // é¡µé¢ï¼šæ˜¾ç¤ºæ·»åŠ è¡¨å•
    @GetMapping("/add")
    public String showAddForm(Model model) {
        model.addAttribute("user", new User());
        return "user/add";
    }
    
    // å¤„ç†ï¼šä¿å­˜ç”¨æˆ·
    @PostMapping("/save")
    public String save(@ModelAttribute User user, 
                      RedirectAttributes attr) {
        try {
            userService.save(user);
            attr.addFlashAttribute("message", "ä¿å­˜æˆåŠŸ");
            return "redirect:/user/list";  // PRGæ¨¡å¼
        } catch (Exception e) {
            attr.addFlashAttribute("error", e.getMessage());
            return "redirect:/user/add";
        }
    }
    
    // æ¥å£ï¼šä¸Šä¼ å¤´åƒ
    @PostMapping("/api/upload")
    @ResponseBody
    public Result<String> upload(@RequestParam("file") MultipartFile file) {
        if (file.isEmpty()) {
            return Result.error("è¯·é€‰æ‹©æ–‡ä»¶");
        }
        
        try {
            String filename = userService.saveAvatar(file);
            String url = "/uploads/" + filename;
            return Result.success(url);
        } catch (IOException e) {
            return Result.error("ä¸Šä¼ å¤±è´¥");
        }
    }
    
    // æ¥å£ï¼šåˆ é™¤ç”¨æˆ·
    @DeleteMapping("/api/{id}")
    @ResponseBody
    public ResponseEntity<Void> delete(@PathVariable Integer id) {
        userService.delete(id);
        return ResponseEntity.noContent().build();
    }
}
```

**3. Thymeleafé¡µé¢æ¨¡æ¿**
```html
<!-- user/list.html -->
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>ç”¨æˆ·åˆ—è¡¨</title>
    <link th:href="@{/static/css/style.css}" rel="stylesheet"/>
</head>
<body>
    <h1>ç”¨æˆ·ç®¡ç†</h1>
    
    <!-- æ“ä½œæç¤º -->
    <div th:if="${message}" class="success">
        <p th:text="${message}"></p>
    </div>
    
    <!-- ç”¨æˆ·åˆ—è¡¨ -->
    <table>
        <thead>
            <tr>
                <th>ID</th>
                <th>ç”¨æˆ·å</th>
                <th>æ˜µç§°</th>
                <th>ç”Ÿæ—¥</th>
                <th>åˆ›å»ºæ—¶é—´</th>
                <th>æ“ä½œ</th>
            </tr>
        </thead>
        <tbody>
            <tr th:each="user : ${users}">
                <td th:text="${user.id}">1</td>
                <td th:text="${user.username}">admin</td>
                <td th:text="${user.nickname}">ç®¡ç†å‘˜</td>
                <td th:text="${#dates.format(user.birthday, 'yyyy-MM-dd')}">
                    1990-01-01
                </td>
                <td th:text="${user.createTime}">2024-01-01 12:00:00</td>
                <td>
                    <a th:href="@{/user/edit/{id}(id=${user.id})}">ç¼–è¾‘</a>
                    <a th:href="@{/user/delete/{id}(id=${user.id})}" 
                       onclick="return confirm('ç¡®å®šåˆ é™¤?')">åˆ é™¤</a>
                </td>
            </tr>
        </tbody>
    </table>
    
    <a th:href="@{/user/add}">æ·»åŠ ç”¨æˆ·</a>
    
    <script th:src="@{/static/js/jquery.min.js}"></script>
    <script th:src="@{/static/js/user.js}"></script>
</body>
</html>
```

**4. ç»Ÿä¸€å“åº”æ ¼å¼**
```java
@Data
@AllArgsConstructor
@NoArgsConstructor
public class Result<T> {
    private Integer code;
    private String message;
    private T data;
    
    public static <T> Result<T> success(T data) {
        return new Result<>(200, "success", data);
    }
    
    public static <T> Result<T> error(String message) {
        return new Result<>(500, message, null);
    }
}
```

**5. å…¨å±€å¼‚å¸¸å¤„ç†**
```java
@ControllerAdvice
public class GlobalExceptionHandler {
    
    // å¤„ç†ä¸šåŠ¡å¼‚å¸¸
    @ExceptionHandler(BusinessException.class)
    @ResponseBody
    public Result<Void> handleBusinessException(BusinessException e) {
        return Result.error(e.getMessage());
    }
    
    // å¤„ç†æ‰€æœ‰å¼‚å¸¸
    @ExceptionHandler(Exception.class)
    @ResponseBody
    public Result<Void> handleException(Exception e) {
        e.printStackTrace();
        return Result.error("ç³»ç»Ÿå¼‚å¸¸ï¼Œè¯·ç¨åé‡è¯•");
    }
}
```

**6. é…ç½®æ–‡ä»¶**
```xml
<!-- springmvc.xml -->
<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:mvc="http://www.springframework.org/schema/mvc"
       xmlns:context="http://www.springframework.org/schema/context"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="
           http://www.springframework.org/schema/beans
           http://www.springframework.org/schema/beans/spring-beans.xsd
           http://www.springframework.org/schema/mvc
           http://www.springframework.org/schema/mvc/spring-mvc.xsd
           http://www.springframework.org/schema/context
           http://www.springframework.org/schema/context/spring-context.xsd">
    
    <!-- ç»„ä»¶æ‰«æ -->
    <context:component-scan base-package="com.example.controller"/>
    
    <!-- æ³¨è§£é©±åŠ¨ -->
    <mvc:annotation-driven>
        <mvc:message-converters>
            <bean class="org.springframework.http.converter.json.MappingJackson2HttpMessageConverter">
                <property name="objectMapper">
                    <bean class="com.fasterxml.jackson.databind.ObjectMapper">
                        <!-- JSONé…ç½® -->
                    </bean>
                </property>
            </bean>
        </mvc:message-converters>
    </mvc:annotation-driven>
    
    <!-- é™æ€èµ„æº -->
    <mvc:resources mapping="/static/**" location="/static/"/>
    <mvc:resources mapping="/uploads/**" location="/WEB-INF/uploads/"/>
    
    <!-- Thymeleafè§†å›¾è§£æå™¨ -->
    <bean id="templateResolver" class="org.thymeleaf.spring5.templateresolver.SpringResourceTemplateResolver">
        <property name="prefix" value="/WEB-INF/templates/"/>
        <property name="suffix" value=".html"/>
        <property name="templateMode" value="HTML"/>
        <property name="characterEncoding" value="UTF-8"/>
    </bean>
    
    <bean id="templateEngine" class="org.thymeleaf.spring5.SpringTemplateEngine">
        <property name="templateResolver" ref="templateResolver"/>
    </bean>
    
    <bean class="org.thymeleaf.spring5.view.ThymeleafViewResolver">
        <property name="templateEngine" ref="templateEngine"/>
        <property name="characterEncoding" value="UTF-8"/>
        <property name="order" value="1"/>
    </bean>
    
    <!-- æ–‡ä»¶ä¸Šä¼  -->
    <bean id="multipartResolver" class="org.springframework.web.multipart.commons.CommonsMultipartResolver">
        <property name="maxUploadSize" value="10485760"/>  <!-- 10MB -->
        <property name="defaultEncoding" value="UTF-8"/>
    </bean>
</beans>
```

è¿™ä¸ªç»¼åˆæ¡ˆä¾‹å±•ç¤ºäº†ï¼š
- âœ… é¡µé¢æ¸²æŸ“ï¼ˆThymeleafï¼‰
- âœ… JSONæ¥å£ï¼ˆ@ResponseBodyï¼‰
- âœ… è¡¨å•å¤„ç†ï¼ˆé‡å®šå‘ï¼‰
- âœ… æ–‡ä»¶ä¸Šä¼ 
- âœ… å¼‚å¸¸å¤„ç†
- âœ… é™æ€èµ„æºé…ç½®

é€šè¿‡è¿™ä¸ªæ¡ˆä¾‹ï¼Œä½ å¯ä»¥æŒæ¡SpringMVCå“åº”æ•°æ®å¤„ç†çš„æ‰€æœ‰æ ¸å¿ƒçŸ¥è¯†ç‚¹ï¼