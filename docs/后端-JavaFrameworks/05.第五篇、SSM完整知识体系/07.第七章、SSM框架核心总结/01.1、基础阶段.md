---
title: 1ã€åŸºç¡€é˜¶æ®µ
---
## ğŸ“š ç›®å½•

1. [SSMæ¡†æ¶ä½“ç³»æ¦‚è¿°](#1-SSMæ¡†æ¶ä½“ç³»æ¦‚è¿°)
2. [Springæ ¸å¿ƒ-IoCå®¹å™¨ä¸ä¾èµ–æ³¨å…¥](#2-Springæ ¸å¿ƒ-IoCå®¹å™¨ä¸ä¾èµ–æ³¨å…¥)
3. [Beançš„ç”Ÿå‘½å‘¨æœŸä¸ä½œç”¨åŸŸ](#3-Beançš„ç”Ÿå‘½å‘¨æœŸä¸ä½œç”¨åŸŸ)
4. [SpringMVCè¯·æ±‚å¤„ç†æœºåˆ¶](#4-SpringMVCè¯·æ±‚å¤„ç†æœºåˆ¶)
5. [MyBatisåŸºç¡€æ˜ å°„é…ç½®](#5-MyBatisåŸºç¡€æ˜ å°„é…ç½®)
6. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#6-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ¯ SSMæ¡†æ¶ä½“ç³»æ¦‚è¿°


### 1.1 ä»€ä¹ˆæ˜¯SSMæ¡†æ¶


**é€šä¿—ç†è§£**ï¼šSSMå°±åƒæ­ç§¯æœ¨çš„ä¸‰ä¸ªæ ¸å¿ƒé›¶ä»¶

```
æƒ³è±¡ä½ è¦ç›–ä¸€æ ‹æˆ¿å­ï¼š
ğŸ—ï¸ Spring    â†’ åœ°åŸºå’Œæ¡†æ¶ï¼ˆç®¡ç†æ•´ä¸ªæˆ¿å­çš„ç»“æ„ï¼‰
ğŸšª SpringMVC â†’ é—¨çª—å’Œèµ°å»Šï¼ˆå¤„ç†äººå‘˜è¿›å‡ºå’Œå¼•å¯¼ï¼‰
ğŸ“¦ MyBatis   â†’ ä»“åº“ç®¡ç†å‘˜ï¼ˆä¸“é—¨è´Ÿè´£å­˜å–ç‰©å“ï¼‰
```

> **ğŸ’¡ æ ¸å¿ƒæ¦‚å¿µ**ï¼šSSMæ˜¯ä¸‰ä¸ªJavaæ¡†æ¶çš„ç»„åˆï¼Œåˆ†åˆ«è§£å†³ä¸åŒçš„é—®é¢˜ï¼Œé…åˆä½¿ç”¨èƒ½å¤Ÿå¿«é€Ÿå¼€å‘ä¼ä¸šçº§Webåº”ç”¨ã€‚

**SSMå…¨ç§°ä¸å®šä½**

| æ¡†æ¶ | å…¨ç§° | é€šä¿—ç†è§£ | æ ¸å¿ƒä½œç”¨ |
|-----|------|---------|---------|
| **Spring** | Spring Framework | `æ€»ç®¡å®¶` | ç®¡ç†å¯¹è±¡ã€æ§åˆ¶ä¾èµ–å…³ç³» |
| **SpringMVC** | Spring Model-View-Controller | `æ¥å¾…å‘˜` | æ¥æ”¶è¯·æ±‚ã€è¿”å›å“åº” |
| **MyBatis** | MyBatis SQL Mapper | `æ•°æ®åº“åŠ©æ‰‹` | ç®€åŒ–æ•°æ®åº“æ“ä½œ |

### 1.2 ä¸ºä»€ä¹ˆè¦å­¦SSM


**ğŸ¤” æ²¡æœ‰æ¡†æ¶çš„ç—›ç‚¹**

```
ä¼ ç»Ÿå¼€å‘å›°å¢ƒï¼š

ç¨‹åºå‘˜Aï¼šæˆ‘å†™äº†100ä¸ªç±»ï¼Œæ¯ä¸ªç±»éƒ½è¦è‡ªå·±newå¯¹è±¡
ç¨‹åºå‘˜Bï¼šæ•°æ®åº“æ“ä½œä»£ç é‡å¤ï¼Œæ”¹ä¸ªSQLè¦æ”¹10ä¸ªåœ°æ–¹  
ç¨‹åºå‘˜Cï¼šæ¥æ”¶ç”¨æˆ·è¯·æ±‚è¦å†™ä¸€å †é‡å¤ä»£ç 

âŒ ä»£ç é‡å¤ã€éš¾ç»´æŠ¤ã€æ•ˆç‡ä½
```

**âœ… SSMè§£å†³æ–¹æ¡ˆ**

```
æœ‰äº†SSMä¹‹åï¼š

Springè¯´ï¼šå¯¹è±¡äº¤ç»™æˆ‘ç®¡ï¼Œä½ åªç®¡ç”¨
SpringMVCè¯´ï¼šè¯·æ±‚æˆ‘æ¥æ¥ï¼Œä½ åªç®¡å†™ä¸šåŠ¡
MyBatisè¯´ï¼šSQLæˆ‘å¸®ä½ ç»„è£…ï¼Œä½ åªç®¡å†™é€»è¾‘

âœ… ä»£ç ç®€æ´ã€æ˜“ç»´æŠ¤ã€å¼€å‘å¿«
```

### 1.3 SSMæ¡†æ¶å…³ç³»å›¾


```
SSMæ¡†æ¶åä½œæ¶æ„ï¼š

ç”¨æˆ·æµè§ˆå™¨
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         SpringMVC æ§åˆ¶å±‚            â”‚ â† æ¥æ”¶è¯·æ±‚ã€è¿”å›å“åº”
â”‚  (Controller - æ¥å¾…å‘˜)              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“ è°ƒç”¨
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Spring ä¸šåŠ¡å±‚               â”‚ â† ä¸šåŠ¡é€»è¾‘å¤„ç†
â”‚  (Service - ç®¡ç†å‘˜)                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“ è°ƒç”¨
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         MyBatis æŒä¹…å±‚              â”‚ â† æ•°æ®åº“æ“ä½œ
â”‚  (Mapper - æ•°æ®åº“åŠ©æ‰‹)              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“ æ“ä½œ
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            MySQLæ•°æ®åº“              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. ğŸ—ï¸ Springæ ¸å¿ƒ-IoCå®¹å™¨ä¸ä¾èµ–æ³¨å…¥


### 2.1 IoCå®¹å™¨æ˜¯ä»€ä¹ˆ


**ğŸ”¸ ç”Ÿæ´»åŒ–ç†è§£**

æƒ³è±¡ä½ å»é¤å…åƒé¥­ï¼š

```
âŒ ä¼ ç»Ÿæ–¹å¼ï¼ˆè‡ªå·±åšé¥­ï¼‰ï¼š
ä½ è¦ä¹°èœ â†’ æ´—èœ â†’ åˆ‡èœ â†’ ç‚’èœ â†’ è£…ç›˜
å¤ªéº»çƒ¦äº†ï¼

âœ… IoCæ–¹å¼ï¼ˆå»é¤å…ï¼‰ï¼š
ä½ åªéœ€è¦ç‚¹èœ â†’ é¤å…ç»™ä½ åšå¥½ç«¯ä¸Šæ¥
æ–¹ä¾¿å¤šäº†ï¼

Springçš„IoCå®¹å™¨å°±æ˜¯è¿™ä¸ª"é¤å…"
ä½ éœ€è¦ä»€ä¹ˆå¯¹è±¡ï¼Œå®ƒå¸®ä½ åˆ›å»ºå¥½ç»™ä½ 
```

> **ğŸ’¡ ä¸“ä¸šå®šä¹‰**ï¼šIoCï¼ˆInversion of Controlï¼‰æ§åˆ¶åè½¬ï¼ŒæŒ‡çš„æ˜¯å¯¹è±¡åˆ›å»ºå’Œç®¡ç†çš„æ§åˆ¶æƒä»ç¨‹åºå‘˜æ‰‹ä¸­è½¬ç§»åˆ°Springå®¹å™¨ï¼Œç”±å®¹å™¨è´Ÿè´£å¯¹è±¡çš„åˆ›å»ºã€é…ç½®å’Œç”Ÿå‘½å‘¨æœŸç®¡ç†ã€‚

**ä¼ ç»Ÿæ–¹å¼ vs IoCæ–¹å¼**

```java
// âŒ ä¼ ç»Ÿæ–¹å¼ï¼šç¨‹åºå‘˜è‡ªå·±newå¯¹è±¡
public class UserService {
    // è‡ªå·±åˆ›å»ºä¾èµ–å¯¹è±¡
    private UserDao userDao = new UserDao();
    
    public void saveUser(User user) {
        userDao.save(user);
    }
}

// âœ… IoCæ–¹å¼ï¼šè®©Springåˆ›å»ºå’Œæ³¨å…¥å¯¹è±¡
public class UserService {
    // åªå£°æ˜ï¼Œä¸åˆ›å»º
    private UserDao userDao;
    
    // Springè‡ªåŠ¨æ³¨å…¥
    public void setUserDao(UserDao userDao) {
        this.userDao = userDao;
    }
    
    public void saveUser(User user) {
        userDao.save(user);
    }
}
```

### 2.2 ä¾èµ–æ³¨å…¥DIè¯¦è§£


**ğŸ”¸ ä»€ä¹ˆæ˜¯ä¾èµ–æ³¨å…¥**

```
ç°å®ä¾‹å­ï¼š
ä½ è¦å¼€è½¦ä¸Šç­ï¼Œè½¦éœ€è¦è½®èƒ

âŒ æ²¡æœ‰ä¾èµ–æ³¨å…¥ï¼š
ä½ è‡ªå·±å»ä¹°è½®èƒã€è‡ªå·±è£…åˆ°è½¦ä¸Š
å¤ªç´¯äº†ï¼

âœ… æœ‰ä¾èµ–æ³¨å…¥ï¼š
ä¹°è½¦æ—¶ï¼Œ4Såº—å·²ç»æŠŠè½®èƒè£…å¥½äº†
ç›´æ¥å¼€èµ°å°±è¡Œï¼

DIå°±æ˜¯Springå¸®ä½ æŠŠ"è½®èƒ"ï¼ˆä¾èµ–å¯¹è±¡ï¼‰è£…åˆ°"è½¦"ï¼ˆç±»ï¼‰é‡Œ
```

> **ğŸ’¡ ä¸“ä¸šå®šä¹‰**ï¼šDIï¼ˆDependency Injectionï¼‰ä¾èµ–æ³¨å…¥ï¼Œæ˜¯IoCçš„ä¸€ç§å®ç°æ–¹å¼ï¼ŒæŒ‡Springå®¹å™¨åœ¨åˆ›å»ºå¯¹è±¡æ—¶ï¼Œè‡ªåŠ¨å°†å…¶ä¾èµ–çš„å¯¹è±¡æ³¨å…¥è¿›å»ã€‚

**ä¸‰ç§æ³¨å…¥æ–¹å¼å¯¹æ¯”**

| æ³¨å…¥æ–¹å¼ | ä½¿ç”¨åœºæ™¯ | ç‰¹ç‚¹ | æ¨èåº¦ |
|---------|---------|------|-------|
| **æ„é€ å™¨æ³¨å…¥** | `å¿…éœ€ä¾èµ–` | å¯¹è±¡åˆ›å»ºæ—¶å°±æ³¨å…¥ï¼Œä¿è¯ä¾èµ–ä¸ä¸ºnull | â­â­â­â­â­ |
| **Setteræ³¨å…¥** | `å¯é€‰ä¾èµ–` | çµæ´»ï¼Œå¯ä»¥ä¿®æ”¹ä¾èµ–å¯¹è±¡ | â­â­â­â­ |
| **å­—æ®µæ³¨å…¥** | `ç®€å•åœºæ™¯` | ä»£ç ç®€æ´ï¼Œä½†æµ‹è¯•ä¸å‹å¥½ | â­â­â­ |

**æ³¨å…¥æ–¹å¼ä»£ç ç¤ºä¾‹**

```java
// 1. æ„é€ å™¨æ³¨å…¥ï¼ˆæ¨èï¼‰
@Service
public class UserService {
    private final UserDao userDao;
    
    // Springé€šè¿‡æ„é€ æ–¹æ³•æ³¨å…¥
    public UserService(UserDao userDao) {
        this.userDao = userDao;
    }
}

// 2. Setteræ³¨å…¥
@Service
public class OrderService {
    private OrderDao orderDao;
    
    // Springé€šè¿‡setteræ–¹æ³•æ³¨å…¥
    @Autowired
    public void setOrderDao(OrderDao orderDao) {
        this.orderDao = orderDao;
    }
}

// 3. å­—æ®µæ³¨å…¥ï¼ˆæœ€ç®€å•ï¼Œä½†ä¸æ¨èï¼‰
@Service
public class ProductService {
    @Autowired  // ç›´æ¥åœ¨å­—æ®µä¸Šæ³¨å…¥
    private ProductDao productDao;
}
```

### 2.3 å¦‚ä½•é…ç½®IoCå®¹å™¨


**ğŸ”§ é…ç½®æ–¹å¼æ¼”è¿›**

```
é…ç½®æ–¹å¼å‘å±•å†ç¨‹ï¼š

XMLé…ç½®ï¼ˆå¤è€ï¼‰â†’ æ³¨è§£é…ç½®ï¼ˆæµè¡Œï¼‰â†’ Javaé…ç½®ï¼ˆç°ä»£ï¼‰
ç¹ç          ç®€æ´          å¼ºç±»å‹
```

**æ–¹å¼ä¸€ï¼šæ³¨è§£é…ç½®ï¼ˆæœ€å¸¸ç”¨ï¼‰**

```java
// 1. å‘Šè¯‰Springè¿™æ˜¯ä¸ªBeanï¼Œéœ€è¦ç®¡ç†
@Component  // é€šç”¨ç»„ä»¶
public class UserDao { }

@Service    // ä¸šåŠ¡å±‚ç»„ä»¶
public class UserService { }

@Controller // æ§åˆ¶å±‚ç»„ä»¶
public class UserController { }

@Repository // æ•°æ®è®¿é—®å±‚ç»„ä»¶
public class ProductDao { }

// 2. é…ç½®ç±»å¼€å¯ç»„ä»¶æ‰«æ
@Configuration
@ComponentScan("com.example")  // æ‰«æè¿™ä¸ªåŒ…ä¸‹çš„æ‰€æœ‰ç»„ä»¶
public class AppConfig { }
```

**ğŸ” æ³¨è§£å«ä¹‰å¯¹æ¯”**

| æ³¨è§£ | å«ä¹‰ | é€‚ç”¨å±‚ | è¯´æ˜ |
|-----|------|-------|------|
| `@Component` | é€šç”¨ç»„ä»¶ | ä»»æ„å±‚ | æœ€åŸºç¡€çš„æ³¨è§£ |
| `@Service` | ä¸šåŠ¡ç»„ä»¶ | Serviceå±‚ | æ ‡è¯†ä¸šåŠ¡é€»è¾‘ |
| `@Repository` | æ•°æ®ç»„ä»¶ | Daoå±‚ | æ ‡è¯†æ•°æ®è®¿é—® |
| `@Controller` | æ§åˆ¶ç»„ä»¶ | Controllerå±‚ | æ ‡è¯†æ§åˆ¶å™¨ |

> **ğŸ’¡ è®°å¿†æŠ€å·§**ï¼šè¿™å››ä¸ªæ³¨è§£æœ¬è´¨ä¸Šéƒ½æ˜¯`@Component`ï¼Œåªæ˜¯åå­—ä¸åŒï¼Œå¸®åŠ©æˆ‘ä»¬åŒºåˆ†ä¸åŒå±‚çš„ç»„ä»¶ã€‚å°±åƒéƒ½æ˜¯å‘˜å·¥ï¼Œä½†æœ‰ç»ç†ã€å·¥ç¨‹å¸ˆã€åŠ©ç†çš„åŒºåˆ«ã€‚

---

## 3. ğŸ”„ Beançš„ç”Ÿå‘½å‘¨æœŸä¸ä½œç”¨åŸŸ


### 3.1 Beançš„ç”Ÿå‘½å‘¨æœŸ


**ğŸ”¸ ç”Ÿæ´»åŒ–ç†è§£Beanç”Ÿå‘½å‘¨æœŸ**

```
æŠŠBeanæƒ³è±¡æˆä¸€ä¸ªäººçš„ä¸€ç”Ÿï¼š

å‡ºç”Ÿ â†’ æˆé•¿ â†’ å·¥ä½œ â†’ é€€ä¼‘ â†’ å»ä¸–
 â†“      â†“      â†“      â†“      â†“
åˆ›å»º   åˆå§‹åŒ–  ä½¿ç”¨   é”€æ¯å‰  é”€æ¯
```

**Beanå®Œæ•´ç”Ÿå‘½å‘¨æœŸæµç¨‹**

```
Beançš„ä¸€ç”Ÿï¼š

1. å®ä¾‹åŒ– â”€â”€â”€â”€â”€â”€â”€â”€â†’ Springè°ƒç”¨æ„é€ æ–¹æ³•åˆ›å»ºå¯¹è±¡
         |
2. å±æ€§èµ‹å€¼ â”€â”€â”€â”€â”€â”€â†’ æ³¨å…¥ä¾èµ–å¯¹è±¡ï¼ˆDIå‘ç”Ÿåœ¨è¿™é‡Œï¼‰
         |
3. åˆå§‹åŒ–å‰ â”€â”€â”€â”€â”€â”€â†’ æ‰§è¡ŒBeanPostProcessorçš„å‰ç½®å¤„ç†
         |
4. åˆå§‹åŒ– â”€â”€â”€â”€â”€â”€â”€â”€â†’ æ‰§è¡Œ@PostConstructæˆ–init-method
         |
5. åˆå§‹åŒ–å â”€â”€â”€â”€â”€â”€â†’ æ‰§è¡ŒBeanPostProcessorçš„åç½®å¤„ç†
         |
6. ä½¿ç”¨Bean â”€â”€â”€â”€â”€â”€â†’ Beanå¯ä»¥æ­£å¸¸ä½¿ç”¨äº†
         |
7. é”€æ¯å‰ â”€â”€â”€â”€â”€â”€â”€â”€â†’ æ‰§è¡Œ@PreDestroyæˆ–destroy-method
         |
8. é”€æ¯ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ Beanè¢«é”€æ¯ï¼Œé‡Šæ”¾èµ„æº
```

**ä»£ç æ¼”ç¤ºç”Ÿå‘½å‘¨æœŸ**

```java
@Component
public class LifeCycleBean {
    
    // 1. æ„é€ æ–¹æ³•ï¼ˆå®ä¾‹åŒ–ï¼‰
    public LifeCycleBean() {
        System.out.println("1. Beanè¢«åˆ›å»ºï¼šè°ƒç”¨æ„é€ æ–¹æ³•");
    }
    
    // 2. å±æ€§æ³¨å…¥åæ‰§è¡Œï¼ˆåˆå§‹åŒ–ï¼‰
    @PostConstruct
    public void init() {
        System.out.println("2. Beanåˆå§‹åŒ–ï¼š@PostConstruct");
    }
    
    // 3. Beanæ­£å¸¸ä½¿ç”¨ä¸­...
    
    // 4. å®¹å™¨å…³é—­å‰æ‰§è¡Œï¼ˆé”€æ¯ï¼‰
    @PreDestroy
    public void destroy() {
        System.out.println("3. Beané”€æ¯ï¼š@PreDestroy");
    }
}
```

### 3.2 Beançš„ä½œç”¨åŸŸ


**ğŸ”¸ ä»€ä¹ˆæ˜¯ä½œç”¨åŸŸ**

```
ä½œç”¨åŸŸå°±æ˜¯ï¼šBeanèƒ½æ´»å¤šä¹…ã€æœ‰å‡ ä¸ªå‰¯æœ¬

ç°å®ä¾‹å­ï¼š
å•ä¾‹æ¨¡å¼ â†’ å…¬å¸åªæœ‰ä¸€ä¸ªæ€»ç»ç†ï¼ˆå¤§å®¶å…±ç”¨ï¼‰
åŸå‹æ¨¡å¼ â†’ æ¯ä¸ªäººæœ‰è‡ªå·±çš„æ‰‹æœºï¼ˆå„ç”¨å„çš„ï¼‰
```

> **ğŸ’¡ æ ¸å¿ƒæ¦‚å¿µ**ï¼šä½œç”¨åŸŸå†³å®šäº†Springå®¹å™¨åˆ›å»ºå¤šå°‘ä¸ªBeanå®ä¾‹ï¼Œä»¥åŠè¿™äº›å®ä¾‹çš„ç”Ÿå­˜å‘¨æœŸã€‚

**äº”ç§ä½œç”¨åŸŸå¯¹æ¯”**

| ä½œç”¨åŸŸ | è¯´æ˜ | ä½¿ç”¨åœºæ™¯ | ç”Ÿå‘½å‘¨æœŸ |
|-------|------|---------|---------|
| **singleton** | `å•ä¾‹ï¼ˆé»˜è®¤ï¼‰` | æ— çŠ¶æ€Bean | å®¹å™¨å¯åŠ¨â†’å®¹å™¨å…³é—­ |
| **prototype** | `åŸå‹ï¼Œæ¯æ¬¡æ–°å»º` | æœ‰çŠ¶æ€Bean | è·å–Beanâ†’ä½¿ç”¨å®Œæ¯• |
| **request** | `HTTPè¯·æ±‚å‘¨æœŸ` | Webåº”ç”¨ | è¯·æ±‚å¼€å§‹â†’è¯·æ±‚ç»“æŸ |
| **session** | `HTTPä¼šè¯å‘¨æœŸ` | Webåº”ç”¨ | ä¼šè¯å¼€å§‹â†’ä¼šè¯ç»“æŸ |
| **application** | `ServletContextå‘¨æœŸ` | Webåº”ç”¨ | åº”ç”¨å¯åŠ¨â†’åº”ç”¨å…³é—­ |

**ä½œç”¨åŸŸé…ç½®ç¤ºä¾‹**

```java
// å•ä¾‹ä½œç”¨åŸŸï¼ˆé»˜è®¤ï¼Œä¸å†™ä¹Ÿæ˜¯å•ä¾‹ï¼‰
@Component
@Scope("singleton")
public class SingletonBean {
    // æ•´ä¸ªåº”ç”¨åªæœ‰ä¸€ä¸ªå®ä¾‹
}

// åŸå‹ä½œç”¨åŸŸï¼ˆæ¯æ¬¡è·å–éƒ½åˆ›å»ºæ–°å®ä¾‹ï¼‰
@Component
@Scope("prototype")
public class PrototypeBean {
    // æ¯æ¬¡getBeanéƒ½åˆ›å»ºæ–°å¯¹è±¡
}

// Webç¯å¢ƒä½œç”¨åŸŸ
@Component
@Scope("request")
public class RequestBean {
    // æ¯ä¸ªHTTPè¯·æ±‚ä¸€ä¸ªå®ä¾‹
}
```

**ğŸ” å•ä¾‹vsåŸå‹çš„åŒºåˆ«**

```java
// æ¼”ç¤ºï¼šå•ä¾‹Beanåªåˆ›å»ºä¸€æ¬¡
@Component
class SingletonDemo {
    private int count = 0;
    
    public void addCount() {
        count++;
        System.out.println("å•ä¾‹Beanè®¡æ•°ï¼š" + count);
    }
}

// æ¼”ç¤ºï¼šåŸå‹Beanæ¯æ¬¡éƒ½æ˜¯æ–°çš„
@Component
@Scope("prototype")
class PrototypeDemo {
    private int count = 0;
    
    public void addCount() {
        count++;
        System.out.println("åŸå‹Beanè®¡æ•°ï¼š" + count);
    }
}

// æµ‹è¯•
SingletonDemo s1 = context.getBean(SingletonDemo.class);
SingletonDemo s2 = context.getBean(SingletonDemo.class);
s1.addCount(); // è¾“å‡ºï¼š1
s2.addCount(); // è¾“å‡ºï¼š2ï¼ˆåŒä¸€ä¸ªå¯¹è±¡ï¼Œcountç´¯åŠ ï¼‰

PrototypeDemo p1 = context.getBean(PrototypeDemo.class);
PrototypeDemo p2 = context.getBean(PrototypeDemo.class);
p1.addCount(); // è¾“å‡ºï¼š1
p2.addCount(); // è¾“å‡ºï¼š1ï¼ˆä¸åŒå¯¹è±¡ï¼Œå„è‡ªçš„countï¼‰
```

---

## 4. ğŸšª SpringMVCè¯·æ±‚å¤„ç†æœºåˆ¶


### 4.1 SpringMVCæ˜¯ä»€ä¹ˆ


**ğŸ”¸ é€šä¿—ç†è§£**

```
æŠŠWebåº”ç”¨æƒ³è±¡æˆä¸€ä¸ªé¤å…ï¼š

ç”¨æˆ·ï¼ˆé¡¾å®¢ï¼‰â†’ å‰å°ï¼ˆSpringMVCï¼‰â†’ å¨æˆ¿ï¼ˆServiceï¼‰â†’ ä»“åº“ï¼ˆDaoï¼‰

SpringMVCå°±æ˜¯é¤å…çš„å‰å°æ¥å¾…å‘˜ï¼š
1. æ¥å¾…å®¢äººï¼ˆæ¥æ”¶è¯·æ±‚ï¼‰
2. è®°å½•ç‚¹èœå•ï¼ˆæ•°æ®ç»‘å®šï¼‰
3. å«å¨å¸ˆåšèœï¼ˆè°ƒç”¨Serviceï¼‰
4. ä¸Šèœç»™å®¢äººï¼ˆè¿”å›å“åº”ï¼‰
```

> **ğŸ’¡ æ ¸å¿ƒå®šä¹‰**ï¼šSpringMVCæ˜¯Springæ¡†æ¶çš„Webæ¨¡å—ï¼Œé‡‡ç”¨MVCï¼ˆModel-View-Controllerï¼‰è®¾è®¡æ¨¡å¼ï¼Œä¸“é—¨å¤„ç†Webè¯·æ±‚å’Œå“åº”ï¼Œå°†ä¸šåŠ¡é€»è¾‘ã€æ•°æ®ã€æ˜¾ç¤ºåˆ†ç¦»ã€‚

**MVCæ¨¡å¼è§£é‡Š**

```
MVCä¸‰å‰‘å®¢ï¼š

Modelï¼ˆæ¨¡å‹ï¼‰   â†’ æ•°æ®å’Œä¸šåŠ¡é€»è¾‘ï¼ˆèœå“ï¼‰
Viewï¼ˆè§†å›¾ï¼‰    â†’ é¡µé¢å±•ç¤ºï¼ˆèœå•ã€é¤ç›˜ï¼‰
Controllerï¼ˆæ§åˆ¶å™¨ï¼‰â†’ åè°ƒè°ƒåº¦ï¼ˆæœåŠ¡å‘˜ï¼‰

ç”¨æˆ· â†’ Controller â†’ Model â†’ View â†’ ç”¨æˆ·
      (æ¥æ”¶è¯·æ±‚)  (å¤„ç†æ•°æ®) (å±•ç¤ºç»“æœ)
```

### 4.2 è¯·æ±‚å¤„ç†å®Œæ•´æµç¨‹


**ğŸ”„ SpringMVCè¯·æ±‚å¤„ç†å…«æ­¥æ›²**

```
å®Œæ•´è¯·æ±‚æµç¨‹ï¼š

ç”¨æˆ·å‘èµ·è¯·æ±‚
    â†“
1. DispatcherServletæ¥æ”¶è¯·æ±‚ï¼ˆå‰ç«¯æ§åˆ¶å™¨-æ€»è°ƒåº¦ï¼‰
    â†“
2. HandlerMappingæŸ¥æ‰¾å¤„ç†å™¨ï¼ˆæ‰¾å“ªä¸ªControllerå¤„ç†ï¼‰
    â†“
3. HandlerAdapteré€‚é…å¤„ç†å™¨ï¼ˆå‡†å¤‡è°ƒç”¨Controllerï¼‰
    â†“
4. Controllerå¤„ç†è¯·æ±‚ï¼ˆæ‰§è¡Œä¸šåŠ¡é€»è¾‘ï¼‰
    â†“
5. è¿”å›ModelAndViewï¼ˆæ•°æ®+è§†å›¾åç§°ï¼‰
    â†“
6. ViewResolverè§£æè§†å›¾ï¼ˆæ‰¾åˆ°å…·ä½“çš„é¡µé¢ï¼‰
    â†“
7. æ¸²æŸ“è§†å›¾ï¼ˆæŠŠæ•°æ®å¡«å……åˆ°é¡µé¢ï¼‰
    â†“
8. è¿”å›å“åº”ç»™ç”¨æˆ·ï¼ˆæœ€ç»ˆçš„HTMLé¡µé¢ï¼‰
```

**æ ¸å¿ƒç»„ä»¶èŒè´£**

| ç»„ä»¶ | é€šä¿—ç†è§£ | èŒè´£ |
|-----|---------|------|
| **DispatcherServlet** | `æ€»è°ƒåº¦å‘˜` | æ¥æ”¶æ‰€æœ‰è¯·æ±‚ï¼Œç»Ÿä¸€è°ƒåº¦ |
| **HandlerMapping** | `åœ°å›¾å¯¼èˆª` | æ ¹æ®URLæ‰¾åˆ°å¯¹åº”çš„Controller |
| **HandlerAdapter** | `ç¿»è¯‘å®˜` | é€‚é…ä¸åŒç±»å‹çš„Controller |
| **Controller** | `ä¸šåŠ¡å‘˜` | å¤„ç†å…·ä½“ä¸šåŠ¡é€»è¾‘ |
| **ViewResolver** | `é¡µé¢ç®¡å®¶` | è§£æè§†å›¾åç§°ï¼Œæ‰¾åˆ°çœŸå®é¡µé¢ |

### 4.3 Controllerå¼€å‘å®æˆ˜


**ğŸ”§ åŸºç¡€Controllerç¤ºä¾‹**

```java
@Controller  // æ ‡è¯†è¿™æ˜¯ä¸ªæ§åˆ¶å™¨
@RequestMapping("/user")  // è¿™ä¸ªç±»å¤„ç†/userå¼€å¤´çš„è¯·æ±‚
public class UserController {
    
    @Autowired
    private UserService userService;
    
    // å¤„ç† GET /user/list è¯·æ±‚
    @GetMapping("/list")
    public String listUsers(Model model) {
        List<User> users = userService.getAllUsers();
        model.addAttribute("users", users);  // ä¼ é€’æ•°æ®ç»™é¡µé¢
        return "user-list";  // è¿”å›è§†å›¾åç§°
    }
    
    // å¤„ç† POST /user/save è¯·æ±‚
    @PostMapping("/save")
    public String saveUser(User user) {
        userService.save(user);
        return "redirect:/user/list";  // é‡å®šå‘åˆ°åˆ—è¡¨é¡µ
    }
    
    // è¿”å›JSONæ•°æ®ï¼ˆRESTful APIï¼‰
    @GetMapping("/info/{id}")
    @ResponseBody  // è¿”å›JSONè€Œä¸æ˜¯é¡µé¢
    public User getUserInfo(@PathVariable Long id) {
        return userService.getById(id);
    }
}
```

**å¸¸ç”¨æ³¨è§£è¯´æ˜**

| æ³¨è§£ | ä½œç”¨ | ç¤ºä¾‹ |
|-----|------|------|
| `@Controller` | æ ‡è¯†æ§åˆ¶å™¨ç±» | `@Controller` |
| `@RequestMapping` | æ˜ å°„è¯·æ±‚è·¯å¾„ | `@RequestMapping("/user")` |
| `@GetMapping` | å¤„ç†GETè¯·æ±‚ | `@GetMapping("/list")` |
| `@PostMapping` | å¤„ç†POSTè¯·æ±‚ | `@PostMapping("/save")` |
| `@PathVariable` | è·å–è·¯å¾„å‚æ•° | `@PathVariable Long id` |
| `@RequestParam` | è·å–è¯·æ±‚å‚æ•° | `@RequestParam String name` |
| `@ResponseBody` | è¿”å›JSONæ•°æ® | `@ResponseBody` |

### 4.4 æ•°æ®ä¼ é€’æ–¹å¼


**ğŸ”¸ æ¥æ”¶æ•°æ®çš„æ–¹å¼**

```java
@Controller
public class DataController {
    
    // 1. ç®€å•ç±»å‹å‚æ•°ï¼ˆè‡ªåŠ¨ç»‘å®šï¼‰
    @GetMapping("/search")
    public String search(@RequestParam String keyword) {
        // æ¥æ”¶ ?keyword=java
        return "result";
    }
    
    // 2. å¯¹è±¡å‚æ•°ï¼ˆè‡ªåŠ¨å°è£…ï¼‰
    @PostMapping("/register")
    public String register(User user) {
        // è¡¨å•æ•°æ®è‡ªåŠ¨å°è£…åˆ°Userå¯¹è±¡
        return "success";
    }
    
    // 3. è·¯å¾„å‚æ•°
    @GetMapping("/detail/{id}")
    public String detail(@PathVariable Long id) {
        // æ¥æ”¶ /detail/123ï¼Œid=123
        return "detail";
    }
    
    // 4. JSONå‚æ•°ï¼ˆéœ€è¦@RequestBodyï¼‰
    @PostMapping("/api/save")
    public String saveJson(@RequestBody User user) {
        // æ¥æ”¶JSONæ ¼å¼çš„è¯·æ±‚ä½“
        return "success";
    }
}
```

**ğŸ”¸ ä¼ é€’æ•°æ®ç»™é¡µé¢**

```java
@Controller
public class ViewController {
    
    // æ–¹å¼1ï¼šä½¿ç”¨Modelï¼ˆæ¨èï¼‰
    @GetMapping("/page1")
    public String method1(Model model) {
        model.addAttribute("message", "Hello");
        return "page";
    }
    
    // æ–¹å¼2ï¼šä½¿ç”¨ModelAndView
    @GetMapping("/page2")
    public ModelAndView method2() {
        ModelAndView mav = new ModelAndView("page");
        mav.addObject("message", "Hello");
        return mav;
    }
    
    // æ–¹å¼3ï¼šç›´æ¥è¿”å›JSONï¼ˆAPIå¼€å‘ï¼‰
    @GetMapping("/api/data")
    @ResponseBody
    public Map<String, Object> method3() {
        Map<String, Object> result = new HashMap<>();
        result.put("code", 200);
        result.put("message", "success");
        return result;  // è‡ªåŠ¨è½¬JSON
    }
}
```

---

## 5. ğŸ“¦ MyBatisåŸºç¡€æ˜ å°„é…ç½®


### 5.1 MyBatisæ˜¯ä»€ä¹ˆ


**ğŸ”¸ é€šä¿—ç†è§£**

```
æ“ä½œæ•°æ®åº“çš„æ¼”å˜ï¼š

åŸå§‹JDBC â†’ å†™ä¸€å †é‡å¤ä»£ç ï¼Œå¾ˆéº»çƒ¦
MyBatis  â†’ åªå†™SQLï¼Œå…¶ä»–äº¤ç»™æ¡†æ¶

å°±åƒï¼š
åŸæ¥ï¼šè‡ªå·±æ´—è¡£æœï¼Œè´¹æ—¶è´¹åŠ›
ç°åœ¨ï¼šç”¨æ´—è¡£æœºï¼Œåªéœ€æŒ‰ä¸ªé’®
```

> **ğŸ’¡ æ ¸å¿ƒå®šä¹‰**ï¼šMyBatisæ˜¯ä¸€ä¸ªæŒä¹…å±‚æ¡†æ¶ï¼Œå®ƒç®€åŒ–äº†JDBCæ“ä½œï¼Œé€šè¿‡SQLæ˜ å°„æ–‡ä»¶æˆ–æ³¨è§£ï¼Œå°†æ•°æ®åº“è®°å½•å’ŒJavaå¯¹è±¡è¿›è¡Œæ˜ å°„ï¼Œé¿å…äº†å¤§é‡é‡å¤çš„JDBCä»£ç ã€‚

**MyBatis vs JDBCå¯¹æ¯”**

```java
// âŒ ä¼ ç»ŸJDBCæ–¹å¼ï¼ˆç¹çï¼‰
public User findById(Long id) {
    Connection conn = null;
    PreparedStatement ps = null;
    ResultSet rs = null;
    try {
        conn = DriverManager.getConnection(url, user, pwd);
        ps = conn.prepareStatement("SELECT * FROM user WHERE id=?");
        ps.setLong(1, id);
        rs = ps.executeQuery();
        if(rs.next()) {
            User user = new User();
            user.setId(rs.getLong("id"));
            user.setName(rs.getString("name"));
            // ... è¿˜è¦è®¾ç½®å¾ˆå¤šå­—æ®µ
            return user;
        }
    } finally {
        // è¿˜è¦å…³é—­èµ„æº...
    }
    return null;
}

// âœ… MyBatisæ–¹å¼ï¼ˆç®€æ´ï¼‰
public interface UserMapper {
    @Select("SELECT * FROM user WHERE id = #{id}")
    User findById(Long id);
}
```

### 5.2 æ ¸å¿ƒé…ç½®æ–‡ä»¶


**ğŸ”§ MyBatisé…ç½®æ–‡ä»¶ç»“æ„**

```xml
<!-- mybatis-config.xml -->
<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE configuration
  PUBLIC "-//mybatis.org//DTD Config 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-config.dtd">
<configuration>
    
    <!-- 1. å…¨å±€è®¾ç½® -->
    <settings>
        <!-- å¼€å¯é©¼å³°å‘½åæ˜ å°„ï¼šuser_name â†’ userName -->
        <setting name="mapUnderscoreToCamelCase" value="true"/>
        <!-- å¼€å¯äºŒçº§ç¼“å­˜ -->
        <setting name="cacheEnabled" value="true"/>
    </settings>
    
    <!-- 2. ç±»å‹åˆ«åï¼ˆç®€åŒ–ç±»åï¼‰ -->
    <typeAliases>
        <typeAlias type="com.example.User" alias="User"/>
        <!-- æˆ–è€…æ‰«ææ•´ä¸ªåŒ… -->
        <package name="com.example.entity"/>
    </typeAliases>
    
    <!-- 3. æ•°æ®æºé…ç½® -->
    <environments default="development">
        <environment id="development">
            <transactionManager type="JDBC"/>
            <dataSource type="POOLED">
                <property name="driver" value="com.mysql.jdbc.Driver"/>
                <property name="url" value="jdbc:mysql://localhost:3306/test"/>
                <property name="username" value="root"/>
                <property name="password" value="123456"/>
            </dataSource>
        </environment>
    </environments>
    
    <!-- 4. æ˜ å°„æ–‡ä»¶ä½ç½® -->
    <mappers>
        <mapper resource="mapper/UserMapper.xml"/>
    </mappers>
    
</configuration>
```

**é…ç½®é¡¹è¯´æ˜**

| é…ç½®é¡¹ | ä½œç”¨ | ç¤ºä¾‹ |
|-------|------|------|
| **settings** | å…¨å±€è®¾ç½® | é©¼å³°å‘½åã€ç¼“å­˜å¼€å…³ |
| **typeAliases** | ç±»å‹åˆ«å | Userä»£æ›¿com.example.User |
| **environments** | æ•°æ®æº | æ•°æ®åº“è¿æ¥ä¿¡æ¯ |
| **mappers** | æ˜ å°„æ–‡ä»¶ | SQLè¯­å¥çš„ä½ç½® |

### 5.3 XMLæ˜ å°„æ–‡ä»¶è¯¦è§£


**ğŸ”¸ æ˜ å°„æ–‡ä»¶åŸºæœ¬ç»“æ„**

```xml
<!-- UserMapper.xml -->
<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- namespaceç»‘å®šå¯¹åº”çš„Mapperæ¥å£ -->
<mapper namespace="com.example.mapper.UserMapper">
    
    <!-- 1. æŸ¥è¯¢è¯­å¥ -->
    <select id="findById" resultType="User">
        SELECT * FROM user WHERE id = #{id}
    </select>
    
    <!-- 2. æ’å…¥è¯­å¥ -->
    <insert id="save" parameterType="User">
        INSERT INTO user(name, age, email) 
        VALUES(#{name}, #{age}, #{email})
    </insert>
    
    <!-- 3. æ›´æ–°è¯­å¥ -->
    <update id="update" parameterType="User">
        UPDATE user SET name=#{name}, age=#{age} 
        WHERE id=#{id}
    </update>
    
    <!-- 4. åˆ é™¤è¯­å¥ -->
    <delete id="deleteById" parameterType="long">
        DELETE FROM user WHERE id = #{id}
    </delete>
    
</mapper>
```

**å¯¹åº”çš„Mapperæ¥å£**

```java
public interface UserMapper {
    User findById(Long id);
    void save(User user);
    void update(User user);
    void deleteById(Long id);
}
```

### 5.4 ç»“æœæ˜ å°„ResultMap


**ğŸ”¸ ä¸ºä»€ä¹ˆéœ€è¦ResultMap**

```
é—®é¢˜åœºæ™¯ï¼š
æ•°æ®åº“å­—æ®µï¼šuser_name, create_time
Javaå­—æ®µï¼š  userName,  createTime

å­—æ®µåä¸ä¸€è‡´ï¼Œæ— æ³•è‡ªåŠ¨æ˜ å°„ï¼
```

> **ğŸ’¡ è§£å†³æ–¹æ¡ˆ**ï¼šä½¿ç”¨ResultMapæ‰‹åŠ¨å®šä¹‰æ˜ å°„è§„åˆ™

**ResultMapé…ç½®ç¤ºä¾‹**

```xml
<!-- å®šä¹‰ç»“æœæ˜ å°„ -->
<resultMap id="userResultMap" type="User">
    <!-- ä¸»é”®æ˜ å°„ -->
    <id property="id" column="user_id"/>
    <!-- æ™®é€šå­—æ®µæ˜ å°„ -->
    <result property="userName" column="user_name"/>
    <result property="createTime" column="create_time"/>
    <result property="email" column="email"/>
</resultMap>

<!-- ä½¿ç”¨ç»“æœæ˜ å°„ -->
<select id="findAll" resultMap="userResultMap">
    SELECT user_id, user_name, create_time, email 
    FROM t_user
</select>
```

**ğŸ” ResultMap vs ResultType**

| å¯¹æ¯”é¡¹ | ResultType | ResultMap |
|-------|-----------|----------|
| **ä½¿ç”¨åœºæ™¯** | å­—æ®µåå®Œå…¨ä¸€è‡´ | å­—æ®µåä¸ä¸€è‡´æˆ–éœ€è¦å…³è”æŸ¥è¯¢ |
| **é…ç½®å¤æ‚åº¦** | ç®€å• | ç¨å¤æ‚ |
| **è‡ªåŠ¨æ˜ å°„** | æ”¯æŒ | éœ€æ‰‹åŠ¨é…ç½® |
| **æ¨èä½¿ç”¨** | ç®€å•æŸ¥è¯¢ | å¤æ‚æ˜ å°„ |

### 5.5 åŠ¨æ€SQL


**ğŸ”¸ ä»€ä¹ˆæ˜¯åŠ¨æ€SQL**

```
å®é™…å¼€å‘ä¸­çš„éœ€æ±‚ï¼š
æ ¹æ®ä¸åŒæ¡ä»¶ç»„åˆSQLè¯­å¥

ä¾‹å¦‚ï¼šæœç´¢åŠŸèƒ½
- åªè¾“å…¥å§“åï¼šWHERE name LIKE ?
- åªè¾“å…¥å¹´é¾„ï¼šWHERE age = ?
- éƒ½è¾“å…¥ï¼š   WHERE name LIKE ? AND age = ?

åŠ¨æ€SQLå¸®ä½ è‡ªåŠ¨æ‹¼æ¥SQL
```

**å¸¸ç”¨åŠ¨æ€SQLæ ‡ç­¾**

```xml
<!-- 1. ifæ ‡ç­¾ï¼šæ¡ä»¶åˆ¤æ–­ -->
<select id="search" resultType="User">
    SELECT * FROM user WHERE 1=1
    <if test="name != null and name != ''">
        AND name LIKE #{name}
    </if>
    <if test="age != null">
        AND age = #{age}
    </if>
</select>

<!-- 2. whereæ ‡ç­¾ï¼šæ™ºèƒ½å¤„ç†AND/OR -->
<select id="searchBetter" resultType="User">
    SELECT * FROM user
    <where>
        <if test="name != null">
            AND name LIKE #{name}
        </if>
        <if test="age != null">
            AND age = #{age}
        </if>
    </where>
</select>

<!-- 3. foreachæ ‡ç­¾ï¼šéå†é›†åˆ -->
<select id="findByIds" resultType="User">
    SELECT * FROM user WHERE id IN
    <foreach collection="ids" item="id" open="(" close=")" separator=",">
        #{id}
    </foreach>
</select>

<!-- 4. chooseæ ‡ç­¾ï¼šå¤šæ¡ä»¶é€‰æ‹© -->
<select id="searchByCondition" resultType="User">
    SELECT * FROM user
    <where>
        <choose>
            <when test="name != null">
                AND name = #{name}
            </when>
            <when test="email != null">
                AND email = #{email}
            </when>
            <otherwise>
                AND status = 1
            </otherwise>
        </choose>
    </where>
</select>
```

**åŠ¨æ€SQLæ ‡ç­¾è¯´æ˜**

| æ ‡ç­¾ | ä½œç”¨ | ç±»æ¯” |
|-----|------|------|
| `<if>` | æ¡ä»¶åˆ¤æ–­ | Javaçš„ifè¯­å¥ |
| `<where>` | æ™ºèƒ½WHEREå­å¥ | è‡ªåŠ¨å¤„ç†AND/OR |
| `<foreach>` | éå†é›†åˆ | Javaçš„forå¾ªç¯ |
| `<choose>` | å¤šæ¡ä»¶é€‰æ‹© | Javaçš„switchè¯­å¥ |

---

## 6. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 6.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ SSMæ¡†æ¶ï¼šSpringç®¡å¯¹è±¡ã€SpringMVCç®¡è¯·æ±‚ã€MyBatisç®¡æ•°æ®åº“
ğŸ”¸ IoCå®¹å™¨ï¼šå¯¹è±¡åˆ›å»ºå’Œç®¡ç†äº¤ç»™Springï¼Œå®ç°æ§åˆ¶åè½¬
ğŸ”¸ ä¾èµ–æ³¨å…¥ï¼šSpringè‡ªåŠ¨å°†ä¾èµ–å¯¹è±¡æ³¨å…¥åˆ°ç±»ä¸­ï¼Œæœ‰ä¸‰ç§æ–¹å¼
ğŸ”¸ Beanä½œç”¨åŸŸï¼šå•ä¾‹ï¼ˆé»˜è®¤ï¼‰å’ŒåŸå‹ï¼ˆæ¯æ¬¡æ–°å»ºï¼‰æœ€å¸¸ç”¨
ğŸ”¸ SpringMVCæµç¨‹ï¼šè¯·æ±‚â†’DispatcherServletâ†’Controllerâ†’è¿”å›
ğŸ”¸ MyBatisæ˜ å°„ï¼šSQLå’ŒJavaå¯¹è±¡çš„æ¡¥æ¢ï¼Œç®€åŒ–æ•°æ®åº“æ“ä½œ
```

### 6.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ ä¸ºä»€ä¹ˆè¦ç”¨æ¡†æ¶**
```
æ‰‹å·¥å¼€å‘ï¼šé‡å¤ä»£ç å¤šã€éš¾ç»´æŠ¤ã€æ•ˆç‡ä½
ä½¿ç”¨æ¡†æ¶ï¼šä¸“æ³¨ä¸šåŠ¡ã€ä»£ç ç®€æ´ã€å¼€å‘å¿«

å°±åƒï¼šé€ æˆ¿å­ä¸ç”¨è‡ªå·±çƒ§ç –ï¼Œç›´æ¥ç”¨ç°æˆçš„å»ºæ
```

**ğŸ”¹ IoCçš„æœ¬è´¨**
```
ä¼ ç»Ÿï¼šæˆ‘éœ€è¦ä»€ä¹ˆï¼Œæˆ‘è‡ªå·±new
IoCï¼š æˆ‘éœ€è¦ä»€ä¹ˆï¼ŒSpringç»™æˆ‘å‡†å¤‡å¥½

å¥½å¤„ï¼šè§£è€¦ã€æ˜“æµ‹è¯•ã€ä¾¿äºæ›¿æ¢
```

**ğŸ”¹ SpringMVCçš„æ ¸å¿ƒ**
```
DispatcherServletæ˜¯æ€»è°ƒåº¦
Controlleræ˜¯ä¸šåŠ¡å¤„ç†
è¿”å›è§†å›¾åç§°æˆ–JSONæ•°æ®
```

**ğŸ”¹ MyBatisçš„ä»·å€¼**
```
ä¸ç”¨å†™JDBCæ¨¡æ¿ä»£ç 
åªå…³æ³¨SQLè¯­å¥æœ¬èº«
è‡ªåŠ¨æ˜ å°„ç»“æœåˆ°å¯¹è±¡
```

### 6.3 å­¦ä¹ è·¯å¾„å»ºè®®


**ğŸ¯ ç¬¬ä¸€é˜¶æ®µï¼šæŒæ¡åŸºç¡€**
- [ ] ç†è§£IoCå’ŒDIçš„æ¦‚å¿µ
- [ ] ä¼šç”¨æ³¨è§£é…ç½®Bean
- [ ] æŒæ¡ä¾èµ–æ³¨å…¥ä¸‰ç§æ–¹å¼
- [ ] ç†è§£å•ä¾‹å’ŒåŸå‹ä½œç”¨åŸŸ

**ğŸ¯ ç¬¬äºŒé˜¶æ®µï¼šç†Ÿç»ƒåº”ç”¨**
- [ ] ç¼–å†™Controlleræ¥æ”¶è¯·æ±‚
- [ ] æŒæ¡æ•°æ®ä¼ é€’å’Œå‚æ•°ç»‘å®š
- [ ] é…ç½®MyBatisè¿æ¥æ•°æ®åº“
- [ ] ç¼–å†™åŸºæœ¬çš„å¢åˆ æ”¹æŸ¥

**ğŸ¯ ç¬¬ä¸‰é˜¶æ®µï¼šæ·±å…¥ç†è§£**
- [ ] Beanç”Ÿå‘½å‘¨æœŸåŸç†
- [ ] SpringMVCæ‰§è¡Œæµç¨‹
- [ ] MyBatisåŠ¨æ€SQL
- [ ] äº‹åŠ¡ç®¡ç†æœºåˆ¶

### 6.4 å®æˆ˜å¼€å‘å»ºè®®


**ğŸ’¼ é¡¹ç›®ç»“æ„æ¨è**
```
é¡¹ç›®åˆ†å±‚ï¼š
Controllerå±‚ â†’ æ¥æ”¶è¯·æ±‚ã€å‚æ•°æ ¡éªŒã€è¿”å›ç»“æœ
Serviceå±‚   â†’ ä¸šåŠ¡é€»è¾‘å¤„ç†ã€äº‹åŠ¡æ§åˆ¶
Dao/Mapperå±‚â†’ æ•°æ®åº“æ“ä½œ

è¿™æ ·åˆ†å±‚èŒè´£æ¸…æ™°ï¼Œä¾¿äºç»´æŠ¤
```

**ğŸ”§ å¼€å‘è§„èŒƒ**
```
1. Controllerä¸å†™ä¸šåŠ¡é€»è¾‘ï¼Œè°ƒç”¨Service
2. Serviceæ–¹æ³•åŠ äº‹åŠ¡æ³¨è§£@Transactional
3. Mapperæ¥å£æ–¹æ³•åè¦è§åçŸ¥æ„
4. ä½¿ç”¨æ„é€ å™¨æ³¨å…¥ä»£æ›¿å­—æ®µæ³¨å…¥
5. é…ç½®æ–‡ä»¶é›†ä¸­ç®¡ç†ï¼Œä¸è¦ç¡¬ç¼–ç 
```

**âš ï¸ å¸¸è§é”™è¯¯é¿å…**
```
âŒ å¿˜è®°åŠ @Componentæ³¨è§£ï¼ŒBeanæ²¡è¢«æ‰«æåˆ°
âŒ å¿˜è®°@Autowiredï¼Œä¾èµ–å¯¹è±¡æ˜¯null
âŒ SQLæ˜ å°„æ–‡ä»¶namespaceå†™é”™ï¼Œæ‰¾ä¸åˆ°æ–¹æ³•
âŒ ResultTypeå’ŒResultMapæ··ç”¨ï¼Œæ˜ å°„å¤±è´¥
âŒ å¿˜è®°é…ç½®äº‹åŠ¡ï¼Œæ•°æ®ä¸ä¸€è‡´
```

**ğŸ’¡ å­¦ä¹ å»ºè®®**
```
1. å…ˆç†è§£æ¦‚å¿µï¼Œå†å†™ä»£ç 
2. å¤šç”»å›¾ç†è§£æ¡†æ¶æµç¨‹
3. é‡åˆ°é—®é¢˜å…ˆçœ‹æ—¥å¿—
4. å¤šå†™å°demoéªŒè¯ç†è§£
5. å¯¹æ¯”ä¼ ç»Ÿæ–¹å¼ä½“ä¼šæ¡†æ¶ä¼˜åŠ¿
```

**æ ¸å¿ƒè®°å¿†å£è¯€**ï¼š
```
SSMä¸‰å‰‘å®¢ï¼Œå„å¸å…¶èŒä¸é‡å 
Springç®¡å¯¹è±¡ï¼ŒIoCå®¹å™¨æ˜¯å…³é”®
ä¾èµ–æ³¨å…¥ä¸‰æ–¹å¼ï¼Œæ„é€ å™¨æ³¨å…¥æœ€æ¨è
Beanä½œç”¨åŸŸè¦åˆ†æ¸…ï¼Œå•ä¾‹åŸå‹è®°å¿ƒé—´
SpringMVCæ¥è¯·æ±‚ï¼ŒDispatcherServletæ€»è°ƒåº¦
Controllerå†™ä¸šåŠ¡ï¼Œæ•°æ®ä¼ é€’æœ‰å¤šç§
MyBatisæ“ä½œåº“ï¼Œæ˜ å°„é…ç½®æ˜¯æ ¸å¿ƒ
åŠ¨æ€SQLçœŸæ–¹ä¾¿ï¼Œå¤æ‚æŸ¥è¯¢ä¸ç”¨æ„
æ¡†æ¶åªæ˜¯å·¥å…·ç®±ï¼Œä¸šåŠ¡é€»è¾‘æ‰æ˜¯ç‹
ç†è§£åŸç†å¤šå®è·µï¼ŒSSMå¼€å‘ä¸ç”¨æ…Œ
```