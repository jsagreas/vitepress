---
title: 5ã€Springæ ¸å¿ƒ
---
## ğŸ“š ç›®å½•

1. [Springæ¡†æ¶è®¤çŸ¥](#1-Springæ¡†æ¶è®¤çŸ¥)
2. [IoCå®¹å™¨åŸç†ä¸åº”ç”¨](#2-IoCå®¹å™¨åŸç†ä¸åº”ç”¨)
3. [ä¾èµ–æ³¨å…¥çš„ä¸‰ç§æ–¹å¼](#3-ä¾èµ–æ³¨å…¥çš„ä¸‰ç§æ–¹å¼)
4. [Beançš„ç”Ÿå‘½å‘¨æœŸ](#4-Beançš„ç”Ÿå‘½å‘¨æœŸ)
5. [AOPåˆ‡é¢ç¼–ç¨‹å®è·µ](#5-AOPåˆ‡é¢ç¼–ç¨‹å®è·µ)
6. [äº‹åŠ¡ç®¡ç†æœºåˆ¶](#6-äº‹åŠ¡ç®¡ç†æœºåˆ¶)
7. [æ³¨è§£é©±åŠ¨å¼€å‘](#7-æ³¨è§£é©±åŠ¨å¼€å‘)
8. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#8-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸŒŸ Springæ¡†æ¶è®¤çŸ¥


### 1.1 Springæ˜¯ä»€ä¹ˆï¼Ÿ


**ç®€å•ç†è§£**ï¼šSpringå°±åƒä¸€ä¸ª"é¡¹ç›®ç®¡å®¶"ï¼Œå¸®ä½ ç®¡ç†Javaç¨‹åºä¸­çš„å„ç§å¯¹è±¡å’Œå®ƒä»¬ä¹‹é—´çš„å…³ç³»ã€‚

```
ä¼ ç»ŸJavaå¼€å‘ï¼šä½ è‡ªå·±newå¯¹è±¡ï¼Œè‡ªå·±ç®¡ç†å¯¹è±¡å…³ç³»
    UserService service = new UserService();
    UserDao dao = new UserDao();
    service.setDao(dao);  // æ‰‹åŠ¨å»ºç«‹å…³ç³»

Springå¼€å‘ï¼šSpringå¸®ä½ åˆ›å»ºå¯¹è±¡ï¼Œè‡ªåŠ¨å»ºç«‹å…³ç³»
    @Autowired
    UserService service;  // Springè‡ªåŠ¨æ³¨å…¥ï¼Œæ‹¿æ¥å°±ç”¨
```

**æ ¸å¿ƒä»·å€¼**ï¼š
- ğŸ”¸ **è§£æ”¾åŒæ‰‹**ï¼šä¸ç”¨è‡ªå·±newå¯¹è±¡ï¼ŒSpringå¸®ä½ åˆ›å»º
- ğŸ”¸ **è‡ªåŠ¨è£…é…**ï¼šå¯¹è±¡ä¹‹é—´çš„å…³ç³»ï¼ŒSpringè‡ªåŠ¨å»ºç«‹
- ğŸ”¸ **ç»Ÿä¸€ç®¡ç†**ï¼šæ‰€æœ‰å¯¹è±¡é›†ä¸­ç®¡ç†ï¼Œä¾¿äºç»´æŠ¤
- ğŸ”¸ **æ¾è€¦åˆ**ï¼šä»£ç ä¹‹é—´å…³ç³»æ›´çµæ´»ï¼Œä¿®æ”¹æ›´å®¹æ˜“

### 1.2 Springçš„æ ¸å¿ƒæ€æƒ³


**ä¸¤å¤§æ ¸å¿ƒ**ï¼š

```
IoC (æ§åˆ¶åè½¬)              AOP (é¢å‘åˆ‡é¢ç¼–ç¨‹)
    â”‚                           â”‚
    â–¼                           â–¼
å¯¹è±¡çš„åˆ›å»ºå’Œç®¡ç†              åŠŸèƒ½çš„ç»Ÿä¸€å¤„ç†
äº¤ç»™Springå®¹å™¨               (æ—¥å¿—ã€äº‹åŠ¡ã€æƒé™ç­‰)
```

**ç”Ÿæ´»åŒ–ç†è§£**ï¼š

| æ¦‚å¿µ | ç”Ÿæ´»ä¾‹å­ | ç¼–ç¨‹åœºæ™¯ |
|------|---------|---------|
| **IoCå®¹å™¨** | `ä½ å»é¤å…ç‚¹é¤ï¼Œå¨å¸ˆåšå¥½é€ç»™ä½ ` | `ä½ éœ€è¦å¯¹è±¡ï¼ŒSpringåˆ›å»ºå¥½ç»™ä½ ` |
| **ä¾èµ–æ³¨å…¥** | `ä½ è¦åƒé¥­ï¼ŒæœåŠ¡å‘˜è‡ªåŠ¨é€æ¥é¤å…·` | `ä½ éœ€è¦ä¾èµ–ï¼ŒSpringè‡ªåŠ¨æ³¨å…¥` |
| **AOPåˆ‡é¢** | `ä¿å®‰åœ¨é—¨å£ç»Ÿä¸€æ£€æŸ¥æ‰€æœ‰äºº` | `åœ¨æ–¹æ³•æ‰§è¡Œå‰ç»Ÿä¸€å¤„ç†é€»è¾‘` |

### 1.3 Springçš„ä¼˜åŠ¿


**ä¸ºä»€ä¹ˆè¦ç”¨Springï¼Ÿ**

```
æ²¡æœ‰Springçš„ç—›ç‚¹ï¼š
âŒ å¯¹è±¡åˆ›å»ºï¼šåˆ°å¤„newå¯¹è±¡ï¼Œä»£ç é‡å¤
âŒ å¯¹è±¡å…³ç³»ï¼šæ‰‹åŠ¨ç»´æŠ¤ä¾èµ–å…³ç³»ï¼Œå®¹æ˜“å‡ºé”™
âŒ åŠŸèƒ½é‡å¤ï¼šæ—¥å¿—ã€äº‹åŠ¡ç­‰ä»£ç åˆ°å¤„å¤åˆ¶ç²˜è´´
âŒ æµ‹è¯•å›°éš¾ï¼šå¯¹è±¡è€¦åˆå¤ªç´§ï¼Œå•å…ƒæµ‹è¯•éš¾å†™

ä½¿ç”¨Springçš„å¥½å¤„ï¼š
âœ… å¯¹è±¡ç®¡ç†ï¼šSpringå®¹å™¨ç»Ÿä¸€åˆ›å»ºå’Œç®¡ç†
âœ… è‡ªåŠ¨è£…é…ï¼šä¾èµ–å…³ç³»è‡ªåŠ¨æ³¨å…¥ï¼Œçœå¿ƒçœåŠ›
âœ… ä»£ç å¤ç”¨ï¼šAOPç»Ÿä¸€å¤„ç†é‡å¤åŠŸèƒ½
âœ… æ˜“äºæµ‹è¯•ï¼šæ¾è€¦åˆè®¾è®¡ï¼Œæ–¹ä¾¿mockæµ‹è¯•
```

---

## 2. ğŸ—ï¸ IoCå®¹å™¨åŸç†ä¸åº”ç”¨


### 2.1 ä»€ä¹ˆæ˜¯IoCæ§åˆ¶åè½¬


**ğŸ”¸ æ ¸å¿ƒæ¦‚å¿µ**

**ä¼ ç»Ÿæ–¹å¼ï¼ˆæ­£å‘æ§åˆ¶ï¼‰**ï¼š
```
ä½ è‡ªå·±æŒæ§ä¸€åˆ‡
    â”œâ”€ è‡ªå·±newå¯¹è±¡
    â”œâ”€ è‡ªå·±ç®¡ç†å¯¹è±¡ç”Ÿå‘½å‘¨æœŸ
    â””â”€ è‡ªå·±ç»´æŠ¤å¯¹è±¡å…³ç³»
```

**IoCæ–¹å¼ï¼ˆæ§åˆ¶åè½¬ï¼‰**ï¼š
```
æŠŠæ§åˆ¶æƒäº¤ç»™Spring
    â”œâ”€ Springåˆ›å»ºå¯¹è±¡
    â”œâ”€ Springç®¡ç†ç”Ÿå‘½å‘¨æœŸ
    â””â”€ Springç»´æŠ¤å¯¹è±¡å…³ç³»
```

**é€šä¿—è§£é‡Š**ï¼š

> **ä¼ ç»Ÿæ–¹å¼**ï¼šå°±åƒä½ è‡ªå·±åšé¥­ï¼Œä¹°èœã€æ´—èœã€ç‚’èœã€æ´—ç¢—å…¨åŒ…äº†
> 
> **IoCæ–¹å¼**ï¼šå°±åƒå»é¤å…åƒé¥­ï¼Œä½ åªç®¡ç‚¹é¤ï¼Œå¨å¸ˆåšå¥½é€ç»™ä½ 

### 2.2 IoCå®¹å™¨çš„å·¥ä½œåŸç†


**ğŸ”§ Springå®¹å™¨çš„è¿ä½œæµç¨‹**

```
ç¨‹åºå¯åŠ¨
    â†“
â‘  è¯»å–é…ç½®(XML/æ³¨è§£/Javaé…ç½®)
    â†“
â‘¡ æ‰«æBeanå®šä¹‰(å“ªäº›ç±»éœ€è¦Springç®¡ç†)
    â†“
â‘¢ åˆ›å»ºBeanå®ä¾‹(é€šè¿‡åå°„newå¯¹è±¡)
    â†“
â‘£ ä¾èµ–æ³¨å…¥(ç»™å¯¹è±¡èµ‹å€¼ï¼Œå»ºç«‹å…³ç³»)
    â†“
â‘¤ åˆå§‹åŒ–Bean(æ‰§è¡Œåˆå§‹åŒ–æ–¹æ³•)
    â†“
â‘¥ Beanå¯ç”¨(ç¨‹åºä¸­ä½¿ç”¨å¯¹è±¡)
    â†“
â‘¦ ç¨‹åºå…³é—­(é”€æ¯Beanï¼Œé‡Šæ”¾èµ„æº)
```

**ğŸ”¸ å®¹å™¨çš„ä¸¤ç§ç±»å‹**

| å®¹å™¨ç±»å‹ | ç‰¹ç‚¹ | ä½¿ç”¨åœºæ™¯ |
|---------|------|---------|
| **BeanFactory** | `åŸºç¡€å®¹å™¨ï¼Œå»¶è¿ŸåŠ è½½` | `èµ„æºå—é™çš„ç¯å¢ƒ` |
| **ApplicationContext** | `é«˜çº§å®¹å™¨ï¼Œç«‹å³åŠ è½½ï¼ŒåŠŸèƒ½ä¸°å¯Œ` | `Webåº”ç”¨ï¼Œä¼ä¸šçº§å¼€å‘` |

### 2.3 Beançš„é…ç½®æ–¹å¼


**æ–¹å¼ä¸€ï¼šXMLé…ç½®ï¼ˆä¼ ç»Ÿæ–¹å¼ï¼‰**

```xml
<!-- applicationContext.xml -->
<bean id="userDao" class="com.example.dao.UserDao"/>

<bean id="userService" class="com.example.service.UserService">
    <property name="userDao" ref="userDao"/>
</bean>
```

**æ–¹å¼äºŒï¼šæ³¨è§£é…ç½®ï¼ˆæ¨èæ–¹å¼ï¼‰**

```java
@Component  // å‘Šè¯‰Springï¼šè¿™ä¸ªç±»éœ€è¦ä½ ç®¡ç†
public class UserDao {
    // DAOå±‚ä»£ç 
}

@Service  // @Componentçš„è¡ç”Ÿæ³¨è§£ï¼Œè¯­ä¹‰æ›´æ¸…æ™°
public class UserService {
    @Autowired  // å‘Šè¯‰Springï¼šè‡ªåŠ¨æ³¨å…¥ä¾èµ–
    private UserDao userDao;
}
```

**æ–¹å¼ä¸‰ï¼šJavaé…ç½®ç±»ï¼ˆç°ä»£æ–¹å¼ï¼‰**

```java
@Configuration  // é…ç½®ç±»
public class AppConfig {
    
    @Bean  // æ–¹æ³•è¿”å›çš„å¯¹è±¡äº¤ç»™Springç®¡ç†
    public UserDao userDao() {
        return new UserDao();
    }
    
    @Bean
    public UserService userService() {
        UserService service = new UserService();
        service.setUserDao(userDao());
        return service;
    }
}
```

**ğŸ¯ ä¸‰ç§æ–¹å¼å¯¹æ¯”**

```
XMLé…ç½®ï¼š
âœ… é…ç½®é›†ä¸­ï¼Œä¾¿äºæŸ¥çœ‹
âŒ ç¹çï¼Œç»´æŠ¤å›°éš¾

æ³¨è§£é…ç½®ï¼š
âœ… ç®€æ´ï¼Œå¼€å‘æ•ˆç‡é«˜
âŒ é…ç½®åˆ†æ•£ï¼Œä¸æ˜“å…¨å±€æŒæ§

Javaé…ç½®ï¼š
âœ… ç±»å‹å®‰å…¨ï¼Œæ˜“äºé‡æ„
âœ… é€‚åˆç¬¬ä¸‰æ–¹ç±»é…ç½®
âŒ ä»£ç é‡ç¨å¤š
```

### 2.4 å®æˆ˜æ¡ˆä¾‹ï¼šä»ä¼ ç»Ÿåˆ°Spring


**åœºæ™¯**ï¼šç”¨æˆ·ç®¡ç†åŠŸèƒ½

**ä¼ ç»Ÿå†™æ³•ï¼ˆæ‰‹åŠ¨ç®¡ç†ï¼‰**ï¼š

```java
public class UserController {
    private UserService userService;
    
    public UserController() {
        // è‡ªå·±newå¯¹è±¡
        UserDao userDao = new UserDao();
        this.userService = new UserService();
        // è‡ªå·±å»ºç«‹å…³ç³»
        this.userService.setUserDao(userDao);
    }
    
    public void saveUser(User user) {
        userService.save(user);
    }
}
```

**Springå†™æ³•ï¼ˆè‡ªåŠ¨ç®¡ç†ï¼‰**ï¼š

```java
@Controller
public class UserController {
    @Autowired  // Springè‡ªåŠ¨æ³¨å…¥
    private UserService userService;
    
    public void saveUser(User user) {
        userService.save(user);  // ç›´æ¥ä½¿ç”¨
    }
}

@Service
public class UserService {
    @Autowired
    private UserDao userDao;
    
    public void save(User user) {
        userDao.insert(user);
    }
}

@Repository
public class UserDao {
    public void insert(User user) {
        // æ•°æ®åº“æ“ä½œ
    }
}
```

**ğŸ’¡ å¯¹æ¯”ç†è§£**ï¼š

> **ä¼ ç»Ÿæ–¹å¼**ï¼šä½ æ˜¯å·¥å‚è€æ¿ï¼Œè¦è‡ªå·±æ‹›å·¥äººã€åˆ†é…ä»»åŠ¡ã€ç®¡ç†æµç¨‹
> 
> **Springæ–¹å¼**ï¼šä½ æ˜¯CEOï¼Œåªéœ€è¦æè¿°éœ€æ±‚ï¼ŒHRéƒ¨é—¨ï¼ˆSpringå®¹å™¨ï¼‰å¸®ä½ æ‰¾äººã€å®‰æ’å·¥ä½œ

---

## 3. ğŸ’‰ ä¾èµ–æ³¨å…¥çš„ä¸‰ç§æ–¹å¼


### 3.1 ä»€ä¹ˆæ˜¯ä¾èµ–æ³¨å…¥DI


**ğŸ”¸ æ ¸å¿ƒæ¦‚å¿µ**

**ä¾èµ–**ï¼šä¸€ä¸ªå¯¹è±¡éœ€è¦å¦ä¸€ä¸ªå¯¹è±¡æ‰èƒ½å·¥ä½œ
```
UserService ä¾èµ– UserDao
    â†“
UserServiceéœ€è¦UserDaoæ‰èƒ½æ“ä½œæ•°æ®åº“
```

**æ³¨å…¥**ï¼šæŠŠéœ€è¦çš„å¯¹è±¡"æ³¨å…¥"è¿›æ¥
```
ä¼ ç»Ÿæ–¹å¼ï¼šè‡ªå·±newä¸€ä¸ªUserDao
æ³¨å…¥æ–¹å¼ï¼šSpringè‡ªåŠ¨ç»™ä½ ä¸€ä¸ªUserDao
```

**é€šä¿—ç†è§£**ï¼š

> å°±åƒä½ è¦å¼€è½¦ä¸Šç­ï¼Œè½¦ï¼ˆä¾èµ–ï¼‰æ˜¯å¿…éœ€çš„
> 
> **ä¼ ç»Ÿæ–¹å¼**ï¼šä½ è‡ªå·±ä¹°è½¦ã€å…»è½¦
> 
> **æ³¨å…¥æ–¹å¼**ï¼šå…¬å¸ç»™ä½ é…è½¦ï¼Œä½ ç›´æ¥ç”¨

### 3.2 æ„é€ å™¨æ³¨å…¥


**æ–¹å¼ä¸€ï¼šé€šè¿‡æ„é€ æ–¹æ³•æ³¨å…¥ä¾èµ–**

```java
@Service
public class UserService {
    private final UserDao userDao;  // ä½¿ç”¨finalä¿è¯ä¸å¯å˜
    
    // Springä¼šè‡ªåŠ¨è°ƒç”¨è¿™ä¸ªæ„é€ æ–¹æ³•
    @Autowired  // åªæœ‰ä¸€ä¸ªæ„é€ æ–¹æ³•æ—¶å¯çœç•¥
    public UserService(UserDao userDao) {
        this.userDao = userDao;
    }
}
```

**âœ… ä¼˜ç‚¹**ï¼š
- ä¾èµ–æ˜ç¡®ï¼Œå¿…é¡»æä¾›
- å¯¹è±¡åˆ›å»ºåä¾èµ–ä¸å¯å˜ï¼Œæ›´å®‰å…¨
- ä¾¿äºå•å…ƒæµ‹è¯•

**âŒ ç¼ºç‚¹**ï¼š
- ä¾èµ–å¤šæ—¶æ„é€ æ–¹æ³•å‚æ•°è¿‡å¤š

**ğŸ¯ é€‚ç”¨åœºæ™¯**ï¼š`å¿…é¡»ä¾èµ–`ï¼Œå¯¹è±¡åˆ›å»ºåä¸èƒ½ä¸ºç©ºçš„æƒ…å†µ

### 3.3 Setteræ³¨å…¥


**æ–¹å¼äºŒï¼šé€šè¿‡setæ–¹æ³•æ³¨å…¥ä¾èµ–**

```java
@Service
public class UserService {
    private UserDao userDao;
    
    @Autowired  // æ ‡æ³¨åœ¨setæ–¹æ³•ä¸Š
    public void setUserDao(UserDao userDao) {
        this.userDao = userDao;
    }
}
```

**âœ… ä¼˜ç‚¹**ï¼š
- å¯é€‰ä¾èµ–ï¼Œå¯ä»¥ä¸æ³¨å…¥
- ä¾èµ–å¯ä»¥åæœŸä¿®æ”¹

**âŒ ç¼ºç‚¹**ï¼š
- å¯¹è±¡å¯èƒ½å¤„äºä¸å®Œæ•´çŠ¶æ€
- ä¾èµ–å¯å˜ï¼Œä¸å¤Ÿå®‰å…¨

**ğŸ¯ é€‚ç”¨åœºæ™¯**ï¼š`å¯é€‰ä¾èµ–`ï¼Œå…è®¸ä¸ºç©ºæˆ–åæœŸä¿®æ”¹çš„æƒ…å†µ

### 3.4 å­—æ®µæ³¨å…¥


**æ–¹å¼ä¸‰ï¼šç›´æ¥åœ¨å­—æ®µä¸Šæ³¨å…¥ï¼ˆæœ€å¸¸ç”¨ï¼‰**

```java
@Service
public class UserService {
    @Autowired  // ç›´æ¥æ ‡æ³¨åœ¨å­—æ®µä¸Š
    private UserDao userDao;
    
    // ä¸éœ€è¦setæ–¹æ³•ï¼ŒSpringé€šè¿‡åå°„ç›´æ¥èµ‹å€¼
}
```

**âœ… ä¼˜ç‚¹**ï¼š
- ä»£ç æœ€ç®€æ´
- å¼€å‘æ•ˆç‡é«˜

**âŒ ç¼ºç‚¹**ï¼š
- è¿åå°è£…åŸåˆ™ï¼ˆç›´æ¥æ“ä½œç§æœ‰å­—æ®µï¼‰
- å•å…ƒæµ‹è¯•ä¸æ–¹ä¾¿ï¼ˆæ— æ³•é€šè¿‡æ„é€ æ–¹æ³•mockï¼‰

**ğŸ¯ é€‚ç”¨åœºæ™¯**ï¼š`å¿«é€Ÿå¼€å‘`ï¼Œå¯¹ä»£ç ç®€æ´æ€§è¦æ±‚é«˜çš„æƒ…å†µ

### 3.5 ä¸‰ç§æ–¹å¼çš„é€‰æ‹©


**ğŸ“Š å¯¹æ¯”æ€»ç»“**

| æ³¨å…¥æ–¹å¼ | ä»£ç é‡ | å®‰å…¨æ€§ | æµ‹è¯•æ€§ | æ¨èåœºæ™¯ |
|---------|-------|--------|-------|---------|
| **æ„é€ å™¨æ³¨å…¥** | `ä¸­ç­‰` | `â­â­â­` | `â­â­â­` | `å¿…é¡»ä¾èµ–ï¼Œä¸å¯å˜å¯¹è±¡` |
| **Setteræ³¨å…¥** | `è¾ƒå¤š` | `â­â­` | `â­â­` | `å¯é€‰ä¾èµ–ï¼Œå¯å˜å¯¹è±¡` |
| **å­—æ®µæ³¨å…¥** | `æœ€å°‘` | `â­` | `â­` | `å¿«é€Ÿå¼€å‘ï¼Œç®€å•åœºæ™¯` |

**ğŸ¯ å®˜æ–¹æ¨è**ï¼š
```
Springå®˜æ–¹æ¨èï¼šæ„é€ å™¨æ³¨å…¥ > Setteræ³¨å…¥ > å­—æ®µæ³¨å…¥
å®é™…å¼€å‘ä¸­ï¼šå­—æ®µæ³¨å…¥ç”¨å¾—æœ€å¤šï¼ˆç®€æ´æ–¹ä¾¿ï¼‰
```

### 3.6 ä¾èµ–æ³¨å…¥çš„é«˜çº§æŠ€å·§


**æŠ€å·§ä¸€ï¼š@QualifieræŒ‡å®šæ³¨å…¥å¯¹è±¡**

```java
// åœºæ™¯ï¼šä¸€ä¸ªæ¥å£æœ‰å¤šä¸ªå®ç°ç±»
public interface MessageService {
    void send(String msg);
}

@Service("emailService")
public class EmailService implements MessageService {
    public void send(String msg) { /* å‘é‚®ä»¶ */ }
}

@Service("smsService")
public class SmsService implements MessageService {
    public void send(String msg) { /* å‘çŸ­ä¿¡ */ }
}

// ä½¿ç”¨æ—¶æŒ‡å®šæ³¨å…¥å“ªä¸ª
@Controller
public class NotifyController {
    @Autowired
    @Qualifier("emailService")  // æ˜ç¡®æŒ‡å®šæ³¨å…¥EmailService
    private MessageService messageService;
}
```

**æŠ€å·§äºŒï¼š@Primaryè®¾ç½®é»˜è®¤æ³¨å…¥**

```java
@Service
@Primary  // æ ‡è®°ä¸ºé¦–é€‰Bean
public class EmailService implements MessageService {
    // æ²¡æœ‰@Qualifieræ—¶ï¼Œé»˜è®¤æ³¨å…¥è¿™ä¸ª
}
```

**æŠ€å·§ä¸‰ï¼šé›†åˆæ³¨å…¥**

```java
@Controller
public class NotifyController {
    @Autowired
    private List<MessageService> services;  // æ³¨å…¥æ‰€æœ‰å®ç°ç±»
    
    public void sendAll(String msg) {
        services.forEach(s -> s.send(msg));
    }
}
```

---

## 4. ğŸ”„ Beançš„ç”Ÿå‘½å‘¨æœŸ


### 4.1 Beançš„å®Œæ•´ç”Ÿå‘½å†ç¨‹


**ğŸ”¸ ç”Ÿå‘½å‘¨æœŸæ¦‚è§ˆ**

```
Springå®¹å™¨å¯åŠ¨
    â†“
â‘  å®ä¾‹åŒ–Bean (è°ƒç”¨æ„é€ æ–¹æ³•)
    â†“
â‘¡ è®¾ç½®å±æ€§ (ä¾èµ–æ³¨å…¥)
    â†“
â‘¢ è°ƒç”¨Awareæ¥å£æ–¹æ³• (è·å–Springå®¹å™¨ä¿¡æ¯)
    â†“
â‘£ è°ƒç”¨BeanPostProcessorå‰ç½®æ–¹æ³• (åˆå§‹åŒ–å‰çš„å¤„ç†)
    â†“
â‘¤ è°ƒç”¨åˆå§‹åŒ–æ–¹æ³• (è‡ªå®šä¹‰åˆå§‹åŒ–é€»è¾‘)
    â†“
â‘¥ è°ƒç”¨BeanPostProcessoråç½®æ–¹æ³• (åˆå§‹åŒ–åçš„å¤„ç†)
    â†“
â‘¦ Beanå¯ä»¥ä½¿ç”¨äº†
    â†“
â‘§ å®¹å™¨å…³é—­
    â†“
â‘¨ è°ƒç”¨é”€æ¯æ–¹æ³• (èµ„æºæ¸…ç†)
```

**é€šä¿—ç†è§£**ï¼š

> **Beançš„ä¸€ç”Ÿå°±åƒä¸€ä¸ªäººçš„æˆé•¿è¿‡ç¨‹**ï¼š
> - å‡ºç”Ÿï¼ˆå®ä¾‹åŒ–ï¼‰
> - æ¥å—æ•™è‚²ï¼ˆå±æ€§æ³¨å…¥ï¼‰
> - è®¤è¯†ä¸–ç•Œï¼ˆAwareæ¥å£ï¼‰
> - å²—å‰åŸ¹è®­ï¼ˆåˆå§‹åŒ–æ–¹æ³•ï¼‰
> - æ­£å¼å·¥ä½œï¼ˆè¢«ä½¿ç”¨ï¼‰
> - é€€ä¼‘ç¦»èŒï¼ˆé”€æ¯æ–¹æ³•ï¼‰

### 4.2 åˆå§‹åŒ–å’Œé”€æ¯æ–¹æ³•


**æ–¹å¼ä¸€ï¼š@PostConstruct å’Œ @PreDestroy æ³¨è§£ï¼ˆæ¨èï¼‰**

```java
@Component
public class DataSource {
    
    @PostConstruct  // åˆå§‹åŒ–æ–¹æ³•ï¼šBeanåˆ›å»ºåè‡ªåŠ¨è°ƒç”¨
    public void init() {
        System.out.println("å»ºç«‹æ•°æ®åº“è¿æ¥...");
        // åˆå§‹åŒ–è¿æ¥æ± 
    }
    
    @PreDestroy  // é”€æ¯æ–¹æ³•ï¼šå®¹å™¨å…³é—­å‰è‡ªåŠ¨è°ƒç”¨
    public void destroy() {
        System.out.println("å…³é—­æ•°æ®åº“è¿æ¥...");
        // é‡Šæ”¾è¿æ¥æ± èµ„æº
    }
}
```

**æ–¹å¼äºŒï¼šå®ç°InitializingBeanå’ŒDisposableBeanæ¥å£**

```java
@Component
public class DataSource implements InitializingBean, DisposableBean {
    
    @Override
    public void afterPropertiesSet() throws Exception {
        System.out.println("InitializingBean: åˆå§‹åŒ–...");
    }
    
    @Override
    public void destroy() throws Exception {
        System.out.println("DisposableBean: é”€æ¯...");
    }
}
```

**æ–¹å¼ä¸‰ï¼š@Beançš„å±æ€§æŒ‡å®š**

```java
@Configuration
public class AppConfig {
    
    @Bean(initMethod = "init", destroyMethod = "cleanup")
    public DataSource dataSource() {
        return new DataSource();
    }
}

public class DataSource {
    public void init() { /* åˆå§‹åŒ– */ }
    public void cleanup() { /* æ¸…ç† */ }
}
```

### 4.3 Beanä½œç”¨åŸŸ


**ğŸ”¸ Springæ”¯æŒçš„ä½œç”¨åŸŸ**

| ä½œç”¨åŸŸ | è¯´æ˜ | ä½¿ç”¨åœºæ™¯ |
|-------|------|---------|
| **singleton** | `å•ä¾‹ï¼Œæ•´ä¸ªå®¹å™¨åªæœ‰ä¸€ä¸ªå®ä¾‹` | `æ— çŠ¶æ€Beanï¼Œå¦‚Serviceã€Dao` |
| **prototype** | `å¤šä¾‹ï¼Œæ¯æ¬¡è·å–åˆ›å»ºæ–°å®ä¾‹` | `æœ‰çŠ¶æ€Beanï¼Œå¦‚è¡¨å•å¯¹è±¡` |
| **request** | `æ¯ä¸ªHTTPè¯·æ±‚ä¸€ä¸ªå®ä¾‹` | `Webç¯å¢ƒï¼Œè¯·æ±‚ç›¸å…³æ•°æ®` |
| **session** | `æ¯ä¸ªHTTPä¼šè¯ä¸€ä¸ªå®ä¾‹` | `Webç¯å¢ƒï¼Œç”¨æˆ·ä¼šè¯æ•°æ®` |

**ä½¿ç”¨ç¤ºä¾‹**ï¼š

```java
@Service
@Scope("singleton")  // é»˜è®¤å°±æ˜¯å•ä¾‹ï¼Œå¯çœç•¥
public class UserService {
    // æ— çŠ¶æ€Beanï¼Œæ‰€æœ‰è¯·æ±‚å…±äº«
}

@Component
@Scope("prototype")  // æ¯æ¬¡æ³¨å…¥éƒ½åˆ›å»ºæ–°å®ä¾‹
public class ShoppingCart {
    private List<Item> items = new ArrayList<>();
    // æœ‰çŠ¶æ€Beanï¼Œæ¯ä¸ªç”¨æˆ·ç‹¬ç«‹
}
```

**ğŸ’¡ å•ä¾‹å’Œå¤šä¾‹çš„åŒºåˆ«**ï¼š

```
å•ä¾‹(singleton)ï¼š
    ç¬¬ä¸€æ¬¡è¯·æ±‚ â†’ Springåˆ›å»ºå®ä¾‹
    ç¬¬äºŒæ¬¡è¯·æ±‚ â†’ ç›´æ¥è¿”å›ä¹‹å‰çš„å®ä¾‹
    æ‰€æœ‰äººå…±ç”¨åŒä¸€ä¸ªå¯¹è±¡

å¤šä¾‹(prototype)ï¼š
    ç¬¬ä¸€æ¬¡è¯·æ±‚ â†’ Springåˆ›å»ºå®ä¾‹A
    ç¬¬äºŒæ¬¡è¯·æ±‚ â†’ Springåˆ›å»ºæ–°å®ä¾‹B
    æ¯ä¸ªäººéƒ½æœ‰è‡ªå·±çš„å¯¹è±¡
```

### 4.4 å®æˆ˜ï¼šç®¡ç†æ•°æ®åº“è¿æ¥


**åœºæ™¯**ï¼šæ•°æ®åº“è¿æ¥æ± çš„åˆ›å»ºå’Œé”€æ¯

```java
@Component
public class DBConnectionPool {
    
    private HikariDataSource dataSource;
    
    @PostConstruct
    public void initPool() {
        System.out.println("=== åˆå§‹åŒ–æ•°æ®åº“è¿æ¥æ±  ===");
        dataSource = new HikariDataSource();
        dataSource.setJdbcUrl("jdbc:mysql://localhost:3306/db");
        dataSource.setUsername("root");
        dataSource.setPassword("123456");
        dataSource.setMaximumPoolSize(10);
        System.out.println("è¿æ¥æ± åˆ›å»ºå®Œæˆï¼Œæœ€å¤§è¿æ¥æ•°ï¼š10");
    }
    
    public Connection getConnection() throws SQLException {
        return dataSource.getConnection();
    }
    
    @PreDestroy
    public void closePool() {
        System.out.println("=== å…³é—­æ•°æ®åº“è¿æ¥æ±  ===");
        if (dataSource != null) {
            dataSource.close();
            System.out.println("è¿æ¥æ± å·²é‡Šæ”¾");
        }
    }
}
```

**è¿è¡Œæµç¨‹**ï¼š
```
åº”ç”¨å¯åŠ¨ â†’ initPool()è‡ªåŠ¨æ‰§è¡Œ â†’ è¿æ¥æ± åˆ›å»º
åº”ç”¨è¿è¡Œ â†’ getConnection()è·å–è¿æ¥ â†’ æ‰§è¡Œæ•°æ®åº“æ“ä½œ
åº”ç”¨å…³é—­ â†’ closePool()è‡ªåŠ¨æ‰§è¡Œ â†’ è¿æ¥æ± å…³é—­
```

---

## 5. âœ‚ï¸ AOPåˆ‡é¢ç¼–ç¨‹å®è·µ


### 5.1 ä»€ä¹ˆæ˜¯AOPé¢å‘åˆ‡é¢ç¼–ç¨‹


**ğŸ”¸ æ ¸å¿ƒæ¦‚å¿µ**

**ä¼ ç»ŸOOPç¼–ç¨‹**ï¼š
```
æ¯ä¸ªç±»å…³æ³¨è‡ªå·±çš„ä¸šåŠ¡é€»è¾‘
    UserService   OrderService   ProductService
        â†“              â†“              â†“
    ä¸šåŠ¡ä»£ç        ä¸šåŠ¡ä»£ç        ä¸šåŠ¡ä»£ç 
    
é—®é¢˜ï¼šæ—¥å¿—ã€äº‹åŠ¡ã€æƒé™ç­‰é€šç”¨åŠŸèƒ½é‡å¤å†™
```

**AOPç¼–ç¨‹**ï¼š
```
æŠŠé€šç”¨åŠŸèƒ½æŠ½å–å‡ºæ¥ï¼Œç»Ÿä¸€å¤„ç†
              AOPåˆ‡é¢
                â†“
    [æ—¥å¿—] [äº‹åŠ¡] [æƒé™]  â† æ¨ªåˆ‡å…³æ³¨ç‚¹
       â†“      â†“      â†“
    UserService  OrderService  ProductService
```

**é€šä¿—ç†è§£**ï¼š

> **ä¼ ç»Ÿæ–¹å¼**ï¼šæ¯ä¸ªæ•™å®¤éƒ½è¦æ‰“æ‰«å«ç”Ÿï¼Œæ¯ä¸ªè€å¸ˆè‡ªå·±æ‰“æ‰«
> 
> **AOPæ–¹å¼**ï¼šé›‡ä½£ä¸“é—¨çš„ä¿æ´äººå‘˜ï¼Œç»Ÿä¸€æ‰“æ‰«æ‰€æœ‰æ•™å®¤

### 5.2 AOPçš„æ ¸å¿ƒæœ¯è¯­


**å…³é”®æ¦‚å¿µè§£é‡Š**ï¼š

```
ğŸ”¸ åˆ‡é¢(Aspect)ï¼š
   é€šç”¨åŠŸèƒ½çš„æ¨¡å—åŒ–ï¼Œå¦‚æ—¥å¿—åˆ‡é¢ã€äº‹åŠ¡åˆ‡é¢
   
ğŸ”¸ è¿æ¥ç‚¹(JoinPoint)ï¼š
   ç¨‹åºæ‰§è¡Œçš„æŸä¸ªç‰¹å®šä½ç½®ï¼Œå¦‚æ–¹æ³•è°ƒç”¨ã€å¼‚å¸¸æŠ›å‡º
   
ğŸ”¸ åˆ‡å…¥ç‚¹(Pointcut)ï¼š
   åŒ¹é…è¿æ¥ç‚¹çš„æ¡ä»¶è¡¨è¾¾å¼ï¼Œå†³å®šåœ¨å“ªäº›æ–¹æ³•ä¸Šåº”ç”¨åˆ‡é¢
   
ğŸ”¸ é€šçŸ¥(Advice)ï¼š
   åˆ‡é¢åœ¨ç‰¹å®šè¿æ¥ç‚¹æ‰§è¡Œçš„åŠ¨ä½œ
   - @Before: æ–¹æ³•æ‰§è¡Œå‰
   - @After: æ–¹æ³•æ‰§è¡Œå
   - @AfterReturning: æ–¹æ³•æ­£å¸¸è¿”å›å
   - @AfterThrowing: æ–¹æ³•æŠ›å¼‚å¸¸å
   - @Around: æ–¹æ³•æ‰§è¡Œå‰å
   
ğŸ”¸ ç»‡å…¥(Weaving)ï¼š
   æŠŠåˆ‡é¢åº”ç”¨åˆ°ç›®æ ‡å¯¹è±¡çš„è¿‡ç¨‹
```

**å›¾è§£ç†è§£**ï¼š

```
ç›®æ ‡æ–¹æ³•æ‰§è¡Œæµç¨‹ï¼š
    
    å¼€å§‹
     â†“
[@Beforeé€šçŸ¥] â† æ–¹æ³•æ‰§è¡Œå‰
     â†“
  æ‰§è¡Œæ–¹æ³•
     â†“
[@AfterReturningé€šçŸ¥] â† æ­£å¸¸è¿”å›
     â†“
[@Afteré€šçŸ¥] â† æœ€ç»ˆæ‰§è¡Œ
     â†“
    ç»“æŸ
    
å¦‚æœæŠ›å¼‚å¸¸ï¼š
  æ‰§è¡Œæ–¹æ³• â†’ [@AfterThrowingé€šçŸ¥] â†’ [@Afteré€šçŸ¥]
```

### 5.3 AOPå®æˆ˜æ¡ˆä¾‹


**åœºæ™¯ä¸€ï¼šç»Ÿä¸€æ—¥å¿—è®°å½•**

```java
@Aspect  // å£°æ˜åˆ‡é¢
@Component
public class LogAspect {
    
    // åˆ‡å…¥ç‚¹ï¼šæ‰€æœ‰Serviceå±‚çš„æ–¹æ³•
    @Pointcut("execution(* com.example.service.*.*(..))")
    public void serviceMethods() {}
    
    // å‰ç½®é€šçŸ¥ï¼šæ–¹æ³•æ‰§è¡Œå‰è®°å½•
    @Before("serviceMethods()")
    public void logBefore(JoinPoint joinPoint) {
        String methodName = joinPoint.getSignature().getName();
        Object[] args = joinPoint.getArgs();
        System.out.println("=== æ–¹æ³•å¼€å§‹æ‰§è¡Œ ===");
        System.out.println("æ–¹æ³•åï¼š" + methodName);
        System.out.println("å‚æ•°ï¼š" + Arrays.toString(args));
    }
    
    // åç½®é€šçŸ¥ï¼šæ–¹æ³•æ‰§è¡Œåè®°å½•
    @AfterReturning(value = "serviceMethods()", returning = "result")
    public void logAfter(JoinPoint joinPoint, Object result) {
        String methodName = joinPoint.getSignature().getName();
        System.out.println("=== æ–¹æ³•æ‰§è¡Œå®Œæˆ ===");
        System.out.println("æ–¹æ³•åï¼š" + methodName);
        System.out.println("è¿”å›å€¼ï¼š" + result);
    }
    
    // å¼‚å¸¸é€šçŸ¥ï¼šæ–¹æ³•æŠ›å¼‚å¸¸æ—¶è®°å½•
    @AfterThrowing(value = "serviceMethods()", throwing = "ex")
    public void logError(JoinPoint joinPoint, Exception ex) {
        String methodName = joinPoint.getSignature().getName();
        System.out.println("=== æ–¹æ³•æ‰§è¡Œå¼‚å¸¸ ===");
        System.out.println("æ–¹æ³•åï¼š" + methodName);
        System.out.println("å¼‚å¸¸ä¿¡æ¯ï¼š" + ex.getMessage());
    }
}
```

**åœºæ™¯äºŒï¼šæ€§èƒ½ç›‘æ§**

```java
@Aspect
@Component
public class PerformanceAspect {
    
    // ç¯ç»•é€šçŸ¥ï¼šå¯ä»¥å®Œå…¨æ§åˆ¶æ–¹æ³•æ‰§è¡Œ
    @Around("execution(* com.example.service.*.*(..))")
    public Object monitorPerformance(ProceedingJoinPoint pjp) throws Throwable {
        String methodName = pjp.getSignature().getName();
        
        // æ‰§è¡Œå‰
        long startTime = System.currentTimeMillis();
        System.out.println(methodName + " å¼€å§‹æ‰§è¡Œ...");
        
        Object result = null;
        try {
            // æ‰§è¡Œç›®æ ‡æ–¹æ³•
            result = pjp.proceed();
            
            // æ‰§è¡Œå
            long endTime = System.currentTimeMillis();
            long cost = endTime - startTime;
            System.out.println(methodName + " æ‰§è¡Œå®Œæˆï¼Œè€—æ—¶ï¼š" + cost + "ms");
            
            // æ€§èƒ½å‘Šè­¦
            if (cost > 1000) {
                System.out.println("âš ï¸ è­¦å‘Šï¼š" + methodName + " æ‰§è¡Œè¶…è¿‡1ç§’");
            }
            
        } catch (Throwable e) {
            System.out.println(methodName + " æ‰§è¡Œå¤±è´¥ï¼š" + e.getMessage());
            throw e;
        }
        
        return result;
    }
}
```

### 5.4 åˆ‡å…¥ç‚¹è¡¨è¾¾å¼è¯¦è§£


**å¸¸ç”¨è¡¨è¾¾å¼æ ¼å¼**ï¼š

```
execution(modifiers? return-type declaring-type? method-name(params) throws?)
         ä¿®é¥°ç¬¦?    è¿”å›ç±»å‹   æ‰€å±ç±»?         æ–¹æ³•å      å‚æ•°      å¼‚å¸¸?

? è¡¨ç¤ºå¯é€‰
* è¡¨ç¤ºä»»æ„
.. è¡¨ç¤ºä»»æ„å¤šä¸ª
```

**å®ç”¨ç¤ºä¾‹**ï¼š

| è¡¨è¾¾å¼ | å«ä¹‰ |
|-------|------|
| `execution(public * *(..))` | `æ‰€æœ‰publicæ–¹æ³•` |
| `execution(* set*(..))` | `æ‰€æœ‰setå¼€å¤´çš„æ–¹æ³•` |
| `execution(* com.example.service.*.*(..))` | `serviceåŒ…ä¸‹æ‰€æœ‰ç±»çš„æ‰€æœ‰æ–¹æ³•` |
| `execution(* com.example.service..*.*(..))` | `serviceåŒ…åŠå­åŒ…çš„æ‰€æœ‰æ–¹æ³•` |
| `execution(* com.example.service.*Service.*(..))` | `serviceåŒ…ä¸‹æ‰€æœ‰Serviceç±»çš„æ–¹æ³•` |

**ç»„åˆä½¿ç”¨**ï¼š

```java
@Pointcut("execution(* com.example.service.*.*(..))")
public void serviceMethods() {}

@Pointcut("execution(* com.example.controller.*.*(..))")
public void controllerMethods() {}

// æˆ–è¿ç®—
@Pointcut("serviceMethods() || controllerMethods()")
public void allBusinessMethods() {}

// ä¸è¿ç®—
@Pointcut("serviceMethods() && @annotation(org.springframework.transaction.annotation.Transactional)")
public void transactionalServiceMethods() {}
```

### 5.5 AOPçš„å®é™…åº”ç”¨


**âœ… å…¸å‹åº”ç”¨åœºæ™¯**ï¼š

```
ğŸ”¸ æ—¥å¿—è®°å½•ï¼šç»Ÿä¸€è®°å½•æ–¹æ³•è°ƒç”¨ä¿¡æ¯
ğŸ”¸ æ€§èƒ½ç›‘æ§ï¼šç»Ÿè®¡æ–¹æ³•æ‰§è¡Œæ—¶é—´
ğŸ”¸ äº‹åŠ¡ç®¡ç†ï¼šç»Ÿä¸€æ§åˆ¶äº‹åŠ¡æäº¤å›æ»š
ğŸ”¸ æƒé™æ§åˆ¶ï¼šç»Ÿä¸€æ£€æŸ¥ç”¨æˆ·æƒé™
ğŸ”¸ å¼‚å¸¸å¤„ç†ï¼šç»Ÿä¸€æ•è·å’Œå¤„ç†å¼‚å¸¸
ğŸ”¸ ç¼“å­˜ç®¡ç†ï¼šç»Ÿä¸€ç¼“å­˜æ•°æ®
ğŸ”¸ æ•°æ®æ ¡éªŒï¼šç»Ÿä¸€æ ¡éªŒå‚æ•°åˆæ³•æ€§
```

**ğŸ’¡ ä½¿ç”¨å»ºè®®**ï¼š

```
âœ… é€‚åˆç”¨AOPçš„åœºæ™¯ï¼š
   - æ¨ªåˆ‡å…³æ³¨ç‚¹ï¼ˆå¤šä¸ªåœ°æ–¹éƒ½éœ€è¦çš„åŠŸèƒ½ï¼‰
   - éæ ¸å¿ƒä¸šåŠ¡é€»è¾‘ï¼ˆæ—¥å¿—ã€ç›‘æ§ç­‰ï¼‰
   - ç»Ÿä¸€å¤„ç†ï¼ˆå¼‚å¸¸ã€æƒé™ç­‰ï¼‰

âŒ ä¸é€‚åˆç”¨AOPçš„åœºæ™¯ï¼š
   - æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ï¼ˆç”¨æˆ·ä¸‹å•ã€æ”¯ä»˜ç­‰ï¼‰
   - éœ€è¦ç²¾ç»†æ§åˆ¶çš„åœºæ™¯
   - å¤æ‚çš„æ¡ä»¶åˆ¤æ–­é€»è¾‘
```

---

## 6. ğŸ’³ äº‹åŠ¡ç®¡ç†æœºåˆ¶


### 6.1 ä»€ä¹ˆæ˜¯äº‹åŠ¡


**ğŸ”¸ æ ¸å¿ƒæ¦‚å¿µ**

**äº‹åŠ¡çš„æœ¬è´¨**ï¼šä¸€ç»„æ•°æ®åº“æ“ä½œï¼Œè¦ä¹ˆå…¨éƒ¨æˆåŠŸï¼Œè¦ä¹ˆå…¨éƒ¨å¤±è´¥ã€‚

**ç”Ÿæ´»ä¾‹å­**ï¼š

> **è½¬è´¦åœºæ™¯**ï¼š
> - å¼ ä¸‰è´¦æˆ· -1000å…ƒ
> - æå››è´¦æˆ· +1000å…ƒ
> 
> **è¦æ±‚**ï¼šä¸¤æ­¥å¿…é¡»åŒæ—¶æˆåŠŸæˆ–åŒæ—¶å¤±è´¥
> 
> **æ²¡æœ‰äº‹åŠ¡**ï¼šå¼ ä¸‰æ‰£æ¬¾æˆåŠŸï¼Œæå››åŠ æ¬¾å¤±è´¥ â†’ é’±ä¸¢äº†ï¼
> 
> **æœ‰äº‹åŠ¡**ï¼šä»»ä½•ä¸€æ­¥å¤±è´¥ï¼Œå…¨éƒ¨æ’¤é”€ â†’ ä¿è¯æ•°æ®ä¸€è‡´

### 6.2 äº‹åŠ¡çš„å››å¤§ç‰¹æ€§ACID


**ğŸ“‹ ACIDè¯¦è§£**

```
ğŸ”¸ åŸå­æ€§(Atomicity)ï¼š
   äº‹åŠ¡æ˜¯ä¸å¯åˆ†å‰²çš„æœ€å°å•ä½
   â†’ è¦ä¹ˆå…¨åšï¼Œè¦ä¹ˆå…¨ä¸åš
   
ğŸ”¸ ä¸€è‡´æ€§(Consistency)ï¼š
   äº‹åŠ¡å‰åæ•°æ®ä¿æŒä¸€è‡´
   â†’ è½¬è´¦å‰åæ€»é‡‘é¢ä¸å˜
   
ğŸ”¸ éš”ç¦»æ€§(Isolation)ï¼š
   å¤šä¸ªäº‹åŠ¡äº’ä¸å¹²æ‰°
   â†’ å¼ ä¸‰è½¬è´¦ä¸å½±å“æå››è½¬è´¦
   
ğŸ”¸ æŒä¹…æ€§(Durability)ï¼š
   äº‹åŠ¡æäº¤åæ°¸ä¹…ä¿å­˜
   â†’ è½¬è´¦æˆåŠŸåæ•°æ®ä¸ä¼šä¸¢å¤±
```

**é€šä¿—è®°å¿†**ï¼š

> **åŸå­æ€§**ï¼šä¸å¯æ‹†åˆ†ï¼Œä¸€æ°”å‘µæˆ
> 
> **ä¸€è‡´æ€§**ï¼šæ•°æ®å®ˆæ’ï¼Œå‰åç›¸ç­‰
> 
> **éš”ç¦»æ€§**ï¼šå„å¹²å„çš„ï¼Œäº’ä¸å½±å“
> 
> **æŒä¹…æ€§**ï¼šæ¿ä¸Šé’‰é’‰ï¼Œæ°¸ä¸åæ‚”

### 6.3 Springäº‹åŠ¡ç®¡ç†


**æ–¹å¼ä¸€ï¼šå£°æ˜å¼äº‹åŠ¡ï¼ˆæ¨èï¼‰**

```java
@Service
public class OrderService {
    
    @Autowired
    private OrderDao orderDao;
    
    @Autowired
    private ProductDao productDao;
    
    // æ·»åŠ @Transactionalæ³¨è§£å³å¯
    @Transactional
    public void createOrder(Order order) {
        // 1. åˆ›å»ºè®¢å•
        orderDao.insert(order);
        
        // 2. å‡åº“å­˜
        productDao.reduceStock(order.getProductId(), order.getQuantity());
        
        // å¦‚æœä»»ä½•ä¸€æ­¥å¤±è´¥ï¼Œä¸¤æ­¥éƒ½ä¼šå›æ»š
    }
}
```

**æ–¹å¼äºŒï¼šç¼–ç¨‹å¼äº‹åŠ¡ï¼ˆä¸æ¨èï¼‰**

```java
@Service
public class OrderService {
    
    @Autowired
    private TransactionTemplate transactionTemplate;
    
    public void createOrder(Order order) {
        transactionTemplate.execute(status -> {
            try {
                // äº‹åŠ¡å†…çš„æ“ä½œ
                orderDao.insert(order);
                productDao.reduceStock(order.getProductId(), order.getQuantity());
                return true;
            } catch (Exception e) {
                status.setRollbackOnly();  // æ‰‹åŠ¨å›æ»š
                return false;
            }
        });
    }
}
```

### 6.4 äº‹åŠ¡ä¼ æ’­æœºåˆ¶


**ğŸ”¸ ä»€ä¹ˆæ˜¯äº‹åŠ¡ä¼ æ’­**

å½“ä¸€ä¸ªäº‹åŠ¡æ–¹æ³•è°ƒç”¨å¦ä¸€ä¸ªäº‹åŠ¡æ–¹æ³•æ—¶ï¼Œäº‹åŠ¡å¦‚ä½•ä¼ æ’­ï¼Ÿ

```
ServiceA.methodA() {  // æœ‰äº‹åŠ¡
    ...
    ServiceB.methodB();  // ä¹Ÿæœ‰äº‹åŠ¡
    ...
}

é—®é¢˜ï¼šmethodBä½¿ç”¨methodAçš„äº‹åŠ¡ï¼Ÿè¿˜æ˜¯è‡ªå·±å¼€å¯æ–°äº‹åŠ¡ï¼Ÿ
```

**ğŸ”¸ ä¸ƒç§ä¼ æ’­è¡Œä¸º**

| ä¼ æ’­è¡Œä¸º | è¯´æ˜ | ä½¿ç”¨åœºæ™¯ |
|---------|------|---------|
| **REQUIRED** | `æœ‰äº‹åŠ¡å°±ç”¨ï¼Œæ²¡äº‹åŠ¡å°±æ–°å»º` | `æœ€å¸¸ç”¨ï¼Œé»˜è®¤å€¼` |
| **REQUIRES_NEW** | `æ€»æ˜¯å¼€å¯æ–°äº‹åŠ¡` | `æ—¥å¿—è®°å½•ï¼Œä¸å—ä¸»äº‹åŠ¡å½±å“` |
| **SUPPORTS** | `æœ‰äº‹åŠ¡å°±ç”¨ï¼Œæ²¡äº‹åŠ¡å°±ç®—äº†` | `æŸ¥è¯¢æ“ä½œ` |
| **NOT_SUPPORTED** | `ä¸ç”¨äº‹åŠ¡ï¼Œæœ‰ä¹ŸæŒ‚èµ·` | `ä¸éœ€è¦äº‹åŠ¡çš„æ“ä½œ` |
| **MANDATORY** | `å¿…é¡»æœ‰äº‹åŠ¡ï¼Œå¦åˆ™æŠ¥é”™` | `ä¸¥æ ¼è¦æ±‚äº‹åŠ¡çš„æ“ä½œ` |
| **NEVER** | `ä¸èƒ½æœ‰äº‹åŠ¡ï¼Œæœ‰å°±æŠ¥é”™` | `ç¦æ­¢äº‹åŠ¡çš„æ“ä½œ` |
| **NESTED** | `åµŒå¥—äº‹åŠ¡ï¼Œæœ‰ä¿å­˜ç‚¹` | `éƒ¨åˆ†å›æ»šåœºæ™¯` |

**å®ç”¨æ¡ˆä¾‹**ï¼š

```java
@Service
public class OrderService {
    
    @Autowired
    private LogService logService;
    
    // ä¸»äº‹åŠ¡
    @Transactional
    public void createOrder(Order order) {
        // åˆ›å»ºè®¢å•
        orderDao.insert(order);
        
        // è®°å½•æ—¥å¿—ï¼ˆä½¿ç”¨æ–°äº‹åŠ¡ï¼‰
        logService.log("è®¢å•åˆ›å»ºï¼š" + order.getId());
        
        // å³ä½¿è®¢å•åˆ›å»ºå¤±è´¥å›æ»šï¼Œæ—¥å¿—ä¹Ÿå·²ç»ä¿å­˜æˆåŠŸ
    }
}

@Service
public class LogService {
    
    // æ–°äº‹åŠ¡ï¼šä¸å—ä¸»äº‹åŠ¡å½±å“
    @Transactional(propagation = Propagation.REQUIRES_NEW)
    public void log(String message) {
        logDao.insert(new Log(message));
    }
}
```

### 6.5 äº‹åŠ¡éš”ç¦»çº§åˆ«


**ğŸ”¸ å¹¶å‘é—®é¢˜**

```
å¤šä¸ªäº‹åŠ¡åŒæ—¶æ“ä½œæ•°æ®åº“å¯èƒ½å‡ºç°çš„é—®é¢˜ï¼š

âŒ è„è¯»(Dirty Read)ï¼š
   è¯»åˆ°å…¶ä»–äº‹åŠ¡æœªæäº¤çš„æ•°æ®
   
âŒ ä¸å¯é‡å¤è¯»(Non-Repeatable Read)ï¼š
   åŒä¸€äº‹åŠ¡å†…ï¼Œä¸¤æ¬¡è¯»å–æ•°æ®ä¸ä¸€è‡´
   
âŒ å¹»è¯»(Phantom Read)ï¼š
   åŒä¸€äº‹åŠ¡å†…ï¼Œä¸¤æ¬¡æŸ¥è¯¢ç»“æœé›†ä¸ä¸€è‡´
```

**ğŸ”¸ å››ç§éš”ç¦»çº§åˆ«**

| éš”ç¦»çº§åˆ« | è„è¯» | ä¸å¯é‡å¤è¯» | å¹»è¯» | æ€§èƒ½ |
|---------|------|----------|------|-----|
| **READ_UNCOMMITTED** | `å¯èƒ½` | `å¯èƒ½` | `å¯èƒ½` | `æœ€é«˜` |
| **READ_COMMITTED** | `é¿å…` | `å¯èƒ½` | `å¯èƒ½` | `è¾ƒé«˜` |
| **REPEATABLE_READ** | `é¿å…` | `é¿å…` | `å¯èƒ½` | `è¾ƒä½` |
| **SERIALIZABLE** | `é¿å…` | `é¿å…` | `é¿å…` | `æœ€ä½` |

**ä½¿ç”¨ç¤ºä¾‹**ï¼š

```java
@Service
public class OrderService {
    
    // è®¾ç½®éš”ç¦»çº§åˆ«
    @Transactional(isolation = Isolation.READ_COMMITTED)
    public void createOrder(Order order) {
        // é¿å…è„è¯»ï¼Œå…è®¸ä¸å¯é‡å¤è¯»
    }
}
```

**ğŸ’¡ é€‰æ‹©å»ºè®®**ï¼š

```
ä¸€èˆ¬ä½¿ç”¨ï¼šREAD_COMMITTEDï¼ˆOracleé»˜è®¤ï¼‰
            REPEATABLE_READï¼ˆMySQLé»˜è®¤ï¼‰
            
é«˜å¹¶å‘åœºæ™¯ï¼šæ ¹æ®ä¸šåŠ¡éœ€æ±‚é€‰æ‹©
            - å…è®¸è„è¯»ï¼šREAD_UNCOMMITTEDï¼ˆæ€§èƒ½æœ€é«˜ï¼‰
            - è¦æ±‚ä¸¥æ ¼ï¼šSERIALIZABLEï¼ˆæ€§èƒ½æœ€ä½ï¼‰
```

### 6.6 äº‹åŠ¡å¤±æ•ˆçš„åœºæ™¯


**âš ï¸ å¸¸è§å¤±æ•ˆåŸå› **

**åŸå› ä¸€ï¼šæ–¹æ³•ä¸æ˜¯public**

```java
@Service
public class UserService {
    
    @Transactional
    private void updateUser(User user) {  // âŒ privateæ–¹æ³•äº‹åŠ¡æ— æ•ˆ
        userDao.update(user);
    }
}
```

**åŸå› äºŒï¼šè‡ªè°ƒç”¨é—®é¢˜**

```java
@Service
public class UserService {
    
    public void outerMethod() {
        this.innerMethod();  // âŒ è‡ªè°ƒç”¨ï¼Œäº‹åŠ¡æ— æ•ˆ
    }
    
    @Transactional
    public void innerMethod() {
        userDao.update(user);
    }
}
```

**åŸå› ä¸‰ï¼šå¼‚å¸¸è¢«æ•è·**

```java
@Service
public class UserService {
    
    @Transactional
    public void updateUser(User user) {
        try {
            userDao.update(user);
        } catch (Exception e) {
            e.printStackTrace();  // âŒ å¼‚å¸¸è¢«æ•è·ï¼Œä¸ä¼šå›æ»š
        }
    }
}
```

**âœ… æ­£ç¡®åšæ³•**ï¼š

```java
@Service
public class UserService {
    
    @Transactional(rollbackFor = Exception.class)
    public void updateUser(User user) throws Exception {
        userDao.update(user);
        // å¼‚å¸¸å‘å¤–æŠ›å‡ºï¼Œè§¦å‘å›æ»š
    }
}
```

---

## 7. ğŸ“ æ³¨è§£é©±åŠ¨å¼€å‘


### 7.1 æ ¸å¿ƒæ³¨è§£æ€»è§ˆ


**ğŸ”¸ ç»„ä»¶æ³¨è§£**

```
@Component    - é€šç”¨ç»„ä»¶
    â”œâ”€ @Controller   - æ§åˆ¶å™¨å±‚
    â”œâ”€ @Service      - ä¸šåŠ¡å±‚
    â””â”€ @Repository   - æ•°æ®è®¿é—®å±‚

ä½œç”¨ï¼šå‘Šè¯‰Springè¿™ä¸ªç±»éœ€è¦ç®¡ç†
åŒºåˆ«ï¼šè¯­ä¹‰ä¸åŒï¼Œæœ¬è´¨éƒ½æ˜¯@Component
```

**ğŸ”¸ é…ç½®æ³¨è§£**

```
@Configuration    - é…ç½®ç±»
@ComponentScan    - ç»„ä»¶æ‰«æ
@Bean            - æ‰‹åŠ¨æ³¨å†ŒBean
@Import          - å¯¼å…¥å…¶ä»–é…ç½®
@PropertySource  - è¯»å–é…ç½®æ–‡ä»¶
```

**ğŸ”¸ ä¾èµ–æ³¨å…¥æ³¨è§£**

```
@Autowired       - è‡ªåŠ¨è£…é…ï¼ˆSpringï¼‰
@Resource        - è‡ªåŠ¨è£…é…ï¼ˆJavaæ ‡å‡†ï¼‰
@Qualifier       - æŒ‡å®šæ³¨å…¥å“ªä¸ªBean
@Value           - æ³¨å…¥é…ç½®å€¼
```

### 7.2 é…ç½®ç±»çš„ä½¿ç”¨


**ä¼ ç»ŸXMLé…ç½® vs æ³¨è§£é…ç½®**

**XMLæ–¹å¼ï¼ˆæ—§ï¼‰**ï¼š

```xml
<context:component-scan base-package="com.example"/>
<bean id="dataSource" class="com.zaxxer.hikari.HikariDataSource">
    <property name="jdbcUrl" value="jdbc:mysql://localhost:3306/db"/>
    <property name="username" value="root"/>
    <property name="password" value="123456"/>
</bean>
```

**æ³¨è§£æ–¹å¼ï¼ˆæ–°ï¼‰**ï¼š

```java
@Configuration  // é…ç½®ç±»
@ComponentScan("com.example")  // ç»„ä»¶æ‰«æ
public class AppConfig {
    
    @Bean  // æ‰‹åŠ¨æ³¨å†ŒBean
    public DataSource dataSource() {
        HikariDataSource ds = new HikariDataSource();
        ds.setJdbcUrl("jdbc:mysql://localhost:3306/db");
        ds.setUsername("root");
        ds.setPassword("123456");
        return ds;
    }
}
```

### 7.3 @Valueæ³¨å…¥é…ç½®å€¼


**application.propertiesé…ç½®æ–‡ä»¶**ï¼š

```properties
app.name=MyApp
app.version=1.0
app.author=å¼ ä¸‰

db.url=jdbc:mysql://localhost:3306/db
db.username=root
db.password=123456
```

**ä½¿ç”¨@Valueæ³¨å…¥**ï¼š

```java
@Component
public class AppInfo {
    
    @Value("${app.name}")  // æ³¨å…¥é…ç½®å€¼
    private String appName;
    
    @Value("${app.version}")
    private String version;
    
    @Value("${app.author}")
    private String author;
    
    @Value("${db.url}")
    private String dbUrl;
    
    public void printInfo() {
        System.out.println("åº”ç”¨åç§°ï¼š" + appName);
        System.out.println("ç‰ˆæœ¬å·ï¼š" + version);
        System.out.println("ä½œè€…ï¼š" + author);
    }
}
```

**è®¾ç½®é»˜è®¤å€¼**ï¼š

```java
@Value("${app.timeout:30}")  // å¦‚æœæ²¡æœ‰é…ç½®ï¼Œé»˜è®¤30
private int timeout;

@Value("${app.debug:false}")  // é»˜è®¤false
private boolean debug;
```

### 7.4 æ¡ä»¶æ³¨è§£


**åœºæ™¯**ï¼šæ ¹æ®æ¡ä»¶å†³å®šæ˜¯å¦åˆ›å»ºBean

```java
@Configuration
public class DataSourceConfig {
    
    // å½“é…ç½®æ–‡ä»¶ä¸­db.type=mysqlæ—¶æ‰åˆ›å»º
    @Bean
    @ConditionalOnProperty(name = "db.type", havingValue = "mysql")
    public DataSource mysqlDataSource() {
        return new MysqlDataSource();
    }
    
    // å½“é…ç½®æ–‡ä»¶ä¸­db.type=oracleæ—¶æ‰åˆ›å»º
    @Bean
    @ConditionalOnProperty(name = "db.type", havingValue = "oracle")
    public DataSource oracleDataSource() {
        return new OracleDataSource();
    }
}
```

**å¸¸ç”¨æ¡ä»¶æ³¨è§£**ï¼š

| æ³¨è§£ | ä½œç”¨ |
|-----|------|
| `@ConditionalOnProperty` | `æ ¹æ®é…ç½®å±æ€§å†³å®š` |
| `@ConditionalOnClass` | `æŸä¸ªç±»å­˜åœ¨æ—¶åˆ›å»º` |
| `@ConditionalOnMissingBean` | `æŸä¸ªBeanä¸å­˜åœ¨æ—¶åˆ›å»º` |
| `@ConditionalOnExpression` | `SpELè¡¨è¾¾å¼ä¸ºtrueæ—¶åˆ›å»º` |

### 7.5 ç»„ä»¶æ‰«æçš„é«˜çº§ç”¨æ³•


**æ’é™¤ç‰¹å®šç»„ä»¶**ï¼š

```java
@Configuration
@ComponentScan(
    basePackages = "com.example",
    excludeFilters = {
        @Filter(type = FilterType.ANNOTATION, 
                classes = {Controller.class, Repository.class})
    }
)
public class AppConfig {
    // æ‰«æcom.exampleåŒ…ï¼Œä½†æ’é™¤Controllerå’ŒRepository
}
```

**åªåŒ…å«ç‰¹å®šç»„ä»¶**ï¼š

```java
@Configuration
@ComponentScan(
    basePackages = "com.example",
    useDefaultFilters = false,  // å…³é—­é»˜è®¤è¿‡æ»¤å™¨
    includeFilters = {
        @Filter(type = FilterType.ANNOTATION, 
                classes = Service.class)
    }
)
public class AppConfig {
    // åªæ‰«æServiceç»„ä»¶
}
```

### 7.6 å®Œæ•´é…ç½®ç¤ºä¾‹


**å®æˆ˜ï¼šæ­å»ºå®Œæ•´çš„Springé…ç½®**

```java
@Configuration
@ComponentScan("com.example")
@PropertySource("classpath:application.properties")
@EnableTransactionManagement  // å¯ç”¨äº‹åŠ¡ç®¡ç†
@EnableAspectJAutoProxy  // å¯ç”¨AOP
public class AppConfig {
    
    @Value("${db.url}")
    private String dbUrl;
    
    @Value("${db.username}")
    private String username;
    
    @Value("${db.password}")
    private String password;
    
    // æ•°æ®æºé…ç½®
    @Bean
    public DataSource dataSource() {
        HikariDataSource ds = new HikariDataSource();
        ds.setJdbcUrl(dbUrl);
        ds.setUsername(username);
        ds.setPassword(password);
        ds.setMaximumPoolSize(10);
        return ds;
    }
    
    // äº‹åŠ¡ç®¡ç†å™¨
    @Bean
    public PlatformTransactionManager transactionManager(DataSource dataSource) {
        return new DataSourceTransactionManager(dataSource);
    }
}
```

**å¯åŠ¨Springå®¹å™¨**ï¼š

```java
public class Main {
    public static void main(String[] args) {
        // åŸºäºæ³¨è§£çš„å®¹å™¨
        AnnotationConfigApplicationContext context = 
            new AnnotationConfigApplicationContext(AppConfig.class);
        
        // è·å–Bean
        UserService userService = context.getBean(UserService.class);
        userService.findAll();
        
        // å…³é—­å®¹å™¨
        context.close();
    }
}
```

---

## 8. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 8.1 Springæ¡†æ¶æ ¸å¿ƒæ€æƒ³


```
ğŸ”¸ IoCæ§åˆ¶åè½¬ï¼š
   å¯¹è±¡çš„åˆ›å»ºå’Œç®¡ç†äº¤ç»™Springå®¹å™¨
   â†’ ä¸ç”¨è‡ªå·±newå¯¹è±¡
   â†’ Springè‡ªåŠ¨åˆ›å»ºå’Œæ³¨å…¥

ğŸ”¸ DIä¾èµ–æ³¨å…¥ï¼š
   å¯¹è±¡ä¹‹é—´çš„ä¾èµ–å…³ç³»ç”±Springæ³¨å…¥
   â†’ ä¸ç”¨è‡ªå·±ç»´æŠ¤å¯¹è±¡å…³ç³»
   â†’ Springè‡ªåŠ¨è£…é…ä¾èµ–

ğŸ”¸ AOPé¢å‘åˆ‡é¢ï¼š
   é€šç”¨åŠŸèƒ½ç»Ÿä¸€å¤„ç†ï¼Œä»£ç æ›´ç®€æ´
   â†’ ä¸ç”¨é‡å¤å†™æ—¥å¿—ã€äº‹åŠ¡ç­‰ä»£ç 
   â†’ Springè‡ªåŠ¨ç»‡å…¥åˆ‡é¢é€»è¾‘
```

### 8.2 å¿…é¡»æŒæ¡çš„çŸ¥è¯†ç‚¹


**âœ… IoCå®¹å™¨**
- Beançš„ä¸‰ç§é…ç½®æ–¹å¼ï¼šXMLã€æ³¨è§£ã€Javaé…ç½®
- ä¾èµ–æ³¨å…¥çš„ä¸‰ç§æ–¹å¼ï¼šæ„é€ å™¨ã€Setterã€å­—æ®µæ³¨å…¥
- Beançš„ä½œç”¨åŸŸï¼šsingletonã€prototypeç­‰
- Beançš„ç”Ÿå‘½å‘¨æœŸï¼šåˆå§‹åŒ–å’Œé”€æ¯æ–¹æ³•

**âœ… AOPç¼–ç¨‹**
- åˆ‡é¢ã€åˆ‡å…¥ç‚¹ã€é€šçŸ¥çš„æ¦‚å¿µ
- äº”ç§é€šçŸ¥ç±»å‹ï¼šBeforeã€Afterã€AfterReturningã€AfterThrowingã€Around
- åˆ‡å…¥ç‚¹è¡¨è¾¾å¼çš„å†™æ³•
- AOPçš„å®é™…åº”ç”¨åœºæ™¯

**âœ… äº‹åŠ¡ç®¡ç†**
- äº‹åŠ¡çš„ACIDç‰¹æ€§
- å£°æ˜å¼äº‹åŠ¡çš„ä½¿ç”¨ï¼š@Transactional
- äº‹åŠ¡ä¼ æ’­æœºåˆ¶ï¼š7ç§ä¼ æ’­è¡Œä¸º
- äº‹åŠ¡éš”ç¦»çº§åˆ«ï¼š4ç§éš”ç¦»çº§åˆ«

**âœ… æ³¨è§£å¼€å‘**
- ç»„ä»¶æ³¨è§£ï¼š@Componentã€@Serviceç­‰
- é…ç½®æ³¨è§£ï¼š@Configurationã€@Beanç­‰
- ä¾èµ–æ³¨å…¥æ³¨è§£ï¼š@Autowiredã€@Valueç­‰
- æ¡ä»¶æ³¨è§£ï¼š@Conditionalç³»åˆ—

### 8.3 å­¦ä¹ å»ºè®®


**ğŸ¯ å­¦ä¹ è·¯å¾„**

```
ç¬¬ä¸€é˜¶æ®µï¼šIoCåŸºç¡€
    â†“
â‘  ç†è§£IoCå’ŒDIçš„æ¦‚å¿µ
â‘¡ æŒæ¡Beançš„é…ç½®æ–¹å¼
â‘¢ ç†Ÿæ‚‰ä¾èµ–æ³¨å…¥çš„ä½¿ç”¨
    â†“
ç¬¬äºŒé˜¶æ®µï¼šAOPç¼–ç¨‹
    â†“
â‘£ ç†è§£AOPçš„åŸç†
â‘¤ æŒæ¡åˆ‡å…¥ç‚¹è¡¨è¾¾å¼
â‘¥ ç†Ÿç»ƒä½¿ç”¨å„ç§é€šçŸ¥
    â†“
ç¬¬ä¸‰é˜¶æ®µï¼šäº‹åŠ¡ç®¡ç†
    â†“
â‘¦ ç†è§£äº‹åŠ¡çš„ç‰¹æ€§
â‘§ æŒæ¡å£°æ˜å¼äº‹åŠ¡
â‘¨ äº†è§£ä¼ æ’­å’Œéš”ç¦»æœºåˆ¶
    â†“
ç¬¬å››é˜¶æ®µï¼šæ³¨è§£é©±åŠ¨
    â†“
â‘© æŒæ¡å„ç§æ³¨è§£çš„ä½¿ç”¨
â‘ª èƒ½å¤Ÿæ­å»ºå®Œæ•´çš„é…ç½®
```

**ğŸ’¡ å­¦ä¹ æŠ€å·§**

```
âœ… åŠ¨æ‰‹å®è·µï¼š
   ç†è®º+å®è·µï¼Œå¤šå†™ä»£ç éªŒè¯
   
âœ… å¯¹æ¯”å­¦ä¹ ï¼š
   ä¼ ç»Ÿæ–¹å¼ vs Springæ–¹å¼
   XMLé…ç½® vs æ³¨è§£é…ç½®
   
âœ… æŠ“ä½æ ¸å¿ƒï¼š
   IoCè§£å†³å¯¹è±¡ç®¡ç†é—®é¢˜
   AOPè§£å†³ä»£ç é‡å¤é—®é¢˜
   äº‹åŠ¡è§£å†³æ•°æ®ä¸€è‡´æ€§é—®é¢˜
   
âœ… å¾ªåºæ¸è¿›ï¼š
   å…ˆæŒæ¡åŸºç¡€ï¼Œå†æ·±å…¥é«˜çº§ç‰¹æ€§
```

### 8.4 å¸¸è§é¢è¯•é¢˜


**Q1ï¼šIoCå’ŒDIçš„åŒºåˆ«ï¼Ÿ**

> IoCæ˜¯æ€æƒ³ï¼ŒDIæ˜¯å®ç°ã€‚
> IoCå¼ºè°ƒæ§åˆ¶æƒçš„è½¬ç§»ï¼ŒDIå¼ºè°ƒä¾èµ–çš„æ³¨å…¥æ–¹å¼ã€‚

**Q2ï¼šæ„é€ å™¨æ³¨å…¥å’Œå­—æ®µæ³¨å…¥çš„åŒºåˆ«ï¼Ÿ**

> æ„é€ å™¨æ³¨å…¥ï¼šä¾èµ–ä¸å¯å˜ï¼Œæ›´å®‰å…¨ï¼Œä¾¿äºæµ‹è¯•
> å­—æ®µæ³¨å…¥ï¼šä»£ç ç®€æ´ï¼Œå¼€å‘æ•ˆç‡é«˜ï¼Œä½†ä¾èµ–å¯å˜

**Q3ï¼šAOPçš„åº”ç”¨åœºæ™¯æœ‰å“ªäº›ï¼Ÿ**

> æ—¥å¿—è®°å½•ã€æ€§èƒ½ç›‘æ§ã€äº‹åŠ¡ç®¡ç†ã€æƒé™æ§åˆ¶ã€
> å¼‚å¸¸å¤„ç†ã€ç¼“å­˜ç®¡ç†ç­‰æ¨ªåˆ‡å…³æ³¨ç‚¹

**Q4ï¼šäº‹åŠ¡ä»€ä¹ˆæ—¶å€™ä¼šå¤±æ•ˆï¼Ÿ**

> â‘  æ–¹æ³•ä¸æ˜¯public
> â‘¡ æ–¹æ³•å†…éƒ¨è‡ªè°ƒç”¨
> â‘¢ å¼‚å¸¸è¢«æ•è·æ²¡æœ‰æŠ›å‡º
> â‘£ æ•°æ®åº“ä¸æ”¯æŒäº‹åŠ¡

**Q5ï¼š@Autowiredå’Œ@Resourceçš„åŒºåˆ«ï¼Ÿ**

> @Autowiredï¼šSpringæ³¨è§£ï¼ŒæŒ‰ç±»å‹æ³¨å…¥
> @Resourceï¼šJavaæ ‡å‡†æ³¨è§£ï¼ŒæŒ‰åç§°æ³¨å…¥

### 8.5 ä¸‹ä¸€æ­¥å­¦ä¹ æ–¹å‘


```
æ·±å…¥å­¦ä¹ ï¼š
ğŸ”¸ Spring MVC - Webå±‚æ¡†æ¶
ğŸ”¸ Spring Boot - å¿«é€Ÿå¼€å‘è„šæ‰‹æ¶
ğŸ”¸ Spring Cloud - å¾®æœåŠ¡å…¨å®¶æ¡¶
ğŸ”¸ Spring Data - æ•°æ®è®¿é—®å°è£…
ğŸ”¸ Spring Security - å®‰å…¨æ¡†æ¶
```

**ğŸ‰ è®°å¿†å£è¯€**

```
Springæ¡†æ¶ä¸ç”¨æ…Œï¼ŒIoCå®¹å™¨æ¥å¸®å¿™
Beanåˆ›å»ºå®ƒè´Ÿè´£ï¼Œä¾èµ–æ³¨å…¥è‡ªåŠ¨è£…
AOPåˆ‡é¢çœŸæ–¹ä¾¿ï¼Œæ—¥å¿—äº‹åŠ¡ç»Ÿä¸€ç®¡
æ³¨è§£é©±åŠ¨å¼€å‘å¿«ï¼Œé…ç½®ç®€å•æ˜“ä¸Šæ‰‹
äº‹åŠ¡ACIDè¦ç‰¢è®°ï¼Œä¼ æ’­éš”ç¦»è¦ææ¸…
```