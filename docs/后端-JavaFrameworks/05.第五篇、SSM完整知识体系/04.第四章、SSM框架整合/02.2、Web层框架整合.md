---
title: 2ã€Webå±‚æ¡†æ¶æ•´åˆ
---
## ğŸ“š ç›®å½•

1. [Webå±‚æ•´åˆæ ¸å¿ƒæ¦‚å¿µ](#1-Webå±‚æ•´åˆæ ¸å¿ƒæ¦‚å¿µ)
2. [DispatcherServleté…ç½®è¯¦è§£](#2-DispatcherServleté…ç½®è¯¦è§£)
3. [ContextLoaderListeneré…ç½®](#3-ContextLoaderListeneré…ç½®)
4. [web.xmlå®Œæ•´é…ç½®](#4-webxmlå®Œæ•´é…ç½®)
5. [çˆ¶å­å®¹å™¨å…³ç³»è¯¦è§£](#5-çˆ¶å­å®¹å™¨å…³ç³»è¯¦è§£)
6. [Controllerè°ƒç”¨Serviceå±‚](#6-Controllerè°ƒç”¨Serviceå±‚)
7. [ç»Ÿä¸€å¼‚å¸¸å¤„ç†](#7-ç»Ÿä¸€å¼‚å¸¸å¤„ç†)
8. [ç»Ÿä¸€å“åº”æ ¼å¼](#8-ç»Ÿä¸€å“åº”æ ¼å¼)
9. [é™æ€èµ„æºé…ç½®](#9-é™æ€èµ„æºé…ç½®)
10. [ç¼–ç è¿‡æ»¤å™¨é…ç½®](#10-ç¼–ç è¿‡æ»¤å™¨é…ç½®)
11. [è·¨åŸŸé…ç½®æ•´åˆ](#11-è·¨åŸŸé…ç½®æ•´åˆ)
12. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#12-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸŒ Webå±‚æ•´åˆæ ¸å¿ƒæ¦‚å¿µ


### 1.1 ä»€ä¹ˆæ˜¯Webå±‚æ•´åˆ


**é€šä¿—ç†è§£**ï¼šWebå±‚æ•´åˆå°±æ˜¯æŠŠSpring MVCå’ŒSpringã€MyBatisç²˜åˆåœ¨ä¸€èµ·ï¼Œè®©å®ƒä»¬èƒ½ååŒå·¥ä½œã€‚

```
æƒ³è±¡ä¸€ä¸ªé¤å…è¿è¥ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   å‰å°æ¥å¾…ï¼ˆSpringMVCï¼‰      â”‚ â† æ¥å¾…å®¢äººï¼Œä¼ é€’éœ€æ±‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   åå¨ç®¡ç†ï¼ˆSpringå®¹å™¨ï¼‰     â”‚ â† åè°ƒèµ„æºï¼Œç®¡ç†æµç¨‹  
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   æ•°æ®åº“å‘˜ï¼ˆMyBatisï¼‰        â”‚ â† å­˜å–æ•°æ®
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Webå±‚æ•´åˆ = è®©å‰å°ã€åå¨ã€æ•°æ®åº“å‘˜èƒ½é¡ºç•…é…åˆ
```

**æ ¸å¿ƒä½œç”¨**ï¼š
- â‘  **è¯·æ±‚åˆ†å‘**ï¼šç”¨æˆ·è¯·æ±‚åˆ°è¾¾åï¼Œç”±è°æ¥å¤„ç†
- â‘¡ **ç»„ä»¶åä½œ**ï¼šControllerå¦‚ä½•è°ƒç”¨Service
- â‘¢ **èµ„æºç®¡ç†**ï¼šå„ç§é…ç½®æ–‡ä»¶ã€é™æ€èµ„æºçš„å¤„ç†
- â‘£**ç»Ÿä¸€è§„èŒƒ**ï¼šå¼‚å¸¸ã€å“åº”æ ¼å¼çš„ç»Ÿä¸€

### 1.2 Webå±‚æ•´åˆçš„ä¸¤å¤§æ ¸å¿ƒ


**ğŸ”¸ ä¸¤ä¸ªæ ¸å¿ƒç»„ä»¶**ï¼š

```
DispatcherServletï¼ˆå‰ç«¯æ§åˆ¶å™¨ï¼‰
ä½œç”¨ï¼šå¤„ç†æ‰€æœ‰è¯·æ±‚ï¼Œæ˜¯SpringMVCçš„å¤§è„‘
æ¯”å–»ï¼šé¤å…çš„å‰å°ç»ç†ï¼Œæ¥å¾…æ‰€æœ‰å®¢äºº

ContextLoaderListenerï¼ˆä¸Šä¸‹æ–‡ç›‘å¬å™¨ï¼‰  
ä½œç”¨ï¼šå¯åŠ¨Springçˆ¶å®¹å™¨
æ¯”å–»ï¼šé¤å…çš„æ€»ç»ç†ï¼Œç®¡ç†æ•´ä¸ªåå°èµ„æº
```

**å…³ç³»å›¾ç¤º**ï¼š
```
Webåº”ç”¨å¯åŠ¨æµç¨‹
    â†“
å¯åŠ¨ContextLoaderListener â†’ åˆ›å»ºSpringçˆ¶å®¹å™¨
    â†“                        (åŠ è½½Serviceã€Dao)
å¯åŠ¨DispatcherServlet â†’ åˆ›å»ºSpringMVCå­å®¹å™¨  
                         (åŠ è½½Controller)
    â†“
ä¸¤ä¸ªå®¹å™¨å»ºç«‹çˆ¶å­å…³ç³»
    â†“
åº”ç”¨æ­£å¸¸è¿è¡Œ
```

---

## 2. ğŸ¯ DispatcherServleté…ç½®è¯¦è§£


### 2.1 DispatcherServletæ˜¯ä»€ä¹ˆ


**å½¢è±¡æ¯”å–»**ï¼šDispatcherServletå°±åƒå¿«é€’åˆ†æ‹£ä¸­å¿ƒ
- æ‰€æœ‰åŒ…è£¹ï¼ˆè¯·æ±‚ï¼‰éƒ½å…ˆåˆ°åˆ†æ‹£ä¸­å¿ƒ
- åˆ†æ‹£ä¸­å¿ƒæ ¹æ®åœ°å€ï¼ˆURLï¼‰åˆ†é…ç»™å¯¹åº”çš„å¿«é€’å‘˜ï¼ˆControllerï¼‰
- å¿«é€’å‘˜å¤„ç†å®Œè¿”å›ç»“æœ

### 2.2 æ ¸å¿ƒé…ç½®æ–¹å¼


**web.xmlé…ç½®æ–¹å¼**ï¼š

```xml
<!-- DispatcherServleté…ç½® -->
<servlet>
    <servlet-name>springmvc</servlet-name>
    <servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>
    
    <!-- æŒ‡å®šSpringMVCé…ç½®æ–‡ä»¶ä½ç½® -->
    <init-param>
        <param-name>contextConfigLocation</param-name>
        <param-value>classpath:spring-mvc.xml</param-value>
    </init-param>
    
    <!-- å¯åŠ¨æ—¶å°±åˆ›å»ºï¼ˆä¸æ˜¯ç¬¬ä¸€æ¬¡è®¿é—®æ‰åˆ›å»ºï¼‰ -->
    <load-on-startup>1</load-on-startup>
</servlet>

<!-- æ‹¦æˆªå“ªäº›è¯·æ±‚ -->
<servlet-mapping>
    <servlet-name>springmvc</servlet-name>
    <url-pattern>/</url-pattern>
</servlet-mapping>
```

**å‚æ•°è¯´æ˜**ï¼š

| é…ç½®é¡¹ | å«ä¹‰ | ä½œç”¨ |
|--------|------|------|
| `servlet-name` | Servletåç§° | ç»™DispatcherServletèµ·ä¸ªåå­— |
| `servlet-class` | Servletç±» | æŒ‡å®šä½¿ç”¨SpringMVCçš„å‰ç«¯æ§åˆ¶å™¨ |
| `contextConfigLocation` | é…ç½®æ–‡ä»¶ä½ç½® | å‘Šè¯‰å®ƒSpringMVCé…ç½®åœ¨å“ª |
| `load-on-startup` | å¯åŠ¨é¡ºåº | æ•°å­—è¶Šå°è¶Šå…ˆå¯åŠ¨ï¼Œ1è¡¨ç¤ºå¯åŠ¨æ—¶å°±åŠ è½½ |
| `url-pattern` | æ‹¦æˆªè§„åˆ™ | `/`è¡¨ç¤ºæ‹¦æˆªæ‰€æœ‰è¯·æ±‚ï¼ˆé™¤äº†jspï¼‰ |

### 2.3 URLæ‹¦æˆªè§„åˆ™è¯¦è§£


**ä¸‰ç§å¸¸è§é…ç½®**ï¼š

```
â‘  / ï¼ˆæ¨èï¼‰
å«ä¹‰ï¼šæ‹¦æˆªæ‰€æœ‰è¯·æ±‚ï¼Œä½†ä¸æ‹¦æˆªjsp
é€‚ç”¨ï¼šRESTfulé£æ ¼çš„åº”ç”¨

ç¤ºä¾‹ï¼š
/user/list    â†’ æ‹¦æˆª âœ“
/user/add     â†’ æ‹¦æˆª âœ“  
/index.jsp    â†’ ä¸æ‹¦æˆª âœ—

â‘¡ /*ï¼ˆä¸æ¨èï¼‰
å«ä¹‰ï¼šæ‹¦æˆªæ‰€æœ‰è¯·æ±‚ï¼ŒåŒ…æ‹¬jsp
é—®é¢˜ï¼šjspä¹Ÿè¢«æ‹¦æˆªï¼Œæ— æ³•æ­£å¸¸è®¿é—®
é”™è¯¯ç¤ºä¾‹ï¼šä¼šå¯¼è‡´jspæ— æ³•è®¿é—®

â‘¢ *.doï¼ˆä¼ ç»Ÿæ–¹å¼ï¼‰
å«ä¹‰ï¼šåªæ‹¦æˆª.doç»“å°¾çš„è¯·æ±‚
é€‚ç”¨ï¼šä¼ ç»Ÿé¡¹ç›®
ç¤ºä¾‹ï¼š
/user/list.do â†’ æ‹¦æˆª âœ“
/user/list    â†’ ä¸æ‹¦æˆª âœ—
```

> ğŸ’¡ **æ–°æ‰‹æç¤º**ï¼šç°ä»£é¡¹ç›®æ¨èä½¿ç”¨`/`ï¼Œè¿™æ ·URLæ›´ç®€æ´ç¾è§‚ï¼Œç¬¦åˆRESTfulè§„èŒƒã€‚

---

## 3. ğŸ”§ ContextLoaderListeneré…ç½®


### 3.1 ContextLoaderListenerä½œç”¨


**é€šä¿—ç†è§£**ï¼šContextLoaderListeneræ˜¯åº”ç”¨å¯åŠ¨çš„"å¼•æ“"
- å½“Tomcatå¯åŠ¨æ—¶ï¼Œå®ƒè´Ÿè´£å¯åŠ¨Springå®¹å™¨
- Springå®¹å™¨è´Ÿè´£ç®¡ç†Serviceã€Daoç­‰åå°ç»„ä»¶

**å½¢è±¡æ¯”å–»**ï¼š
```
åº”ç”¨å¯åŠ¨ = å¼€é¤å…
ContextLoaderListener = å¼€ä¸šå‰çš„å‡†å¤‡å·¥ä½œ
- é‡‡è´­é£Ÿæï¼ˆåŠ è½½Serviceã€Daoï¼‰
- åŸ¹è®­å‘˜å·¥ï¼ˆåˆå§‹åŒ–Beanï¼‰  
- å‡†å¤‡è®¾å¤‡ï¼ˆé…ç½®æ•°æ®åº“è¿æ¥ï¼‰

éƒ½å‡†å¤‡å¥½äº†ï¼Œæ‰èƒ½æ­£å¼è¥ä¸šï¼ˆå¤„ç†è¯·æ±‚ï¼‰
```

### 3.2 é…ç½®æ–¹å¼


```xml
<!-- Springå®¹å™¨ç›‘å¬å™¨ -->
<listener>
    <listener-class>
        org.springframework.web.context.ContextLoaderListener
    </listener-class>
</listener>

<!-- Springé…ç½®æ–‡ä»¶ä½ç½® -->
<context-param>
    <param-name>contextConfigLocation</param-name>
    <param-value>classpath:applicationContext.xml</param-value>
</context-param>
```

**é…ç½®è¯´æ˜**ï¼š

```
<listener> æ ‡ç­¾
ä½œç”¨ï¼šæ³¨å†Œç›‘å¬å™¨
æ—¶æœºï¼šWebåº”ç”¨å¯åŠ¨æ—¶å°±æ‰§è¡Œ

<context-param> æ ‡ç­¾  
ä½œç”¨ï¼šé…ç½®å…¨å±€å‚æ•°
å†…å®¹ï¼šå‘Šè¯‰Springé…ç½®æ–‡ä»¶åœ¨å“ªé‡Œ

é»˜è®¤ä½ç½®ï¼š
å¦‚æœä¸é…ç½®contextConfigLocation
ä¼šåœ¨/WEB-INF/ä¸‹æ‰¾applicationContext.xml
```

### 3.3 åŠ è½½å¤šä¸ªé…ç½®æ–‡ä»¶


**æ–¹å¼ä¸€ï¼šç”¨é€—å·åˆ†éš”**
```xml
<context-param>
    <param-name>contextConfigLocation</param-name>
    <param-value>
        classpath:spring-service.xml,
        classpath:spring-dao.xml,
        classpath:spring-tx.xml
    </param-value>
</context-param>
```

**æ–¹å¼äºŒï¼šç”¨é€šé…ç¬¦**
```xml
<context-param>
    <param-name>contextConfigLocation</param-name>
    <param-value>classpath:spring-*.xml</param-value>
</context-param>
```

> ğŸ’¡ **å®ç”¨æŠ€å·§**ï¼šæ¨èç”¨é€šé…ç¬¦æ–¹å¼ï¼Œæ–°å¢é…ç½®æ–‡ä»¶ä¸ç”¨ä¿®æ”¹web.xml

---

## 4. ğŸ“‹ web.xmlå®Œæ•´é…ç½®


### 4.1 å®Œæ•´é…ç½®ç¤ºä¾‹


```xml
<?xml version="1.0" encoding="UTF-8"?>
<web-app xmlns="http://xmlns.jcp.org/xml/ns/javaee"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/javaee
         http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd"
         version="3.1">

    <!-- ========== 1. Springå®¹å™¨é…ç½® ========== -->
    <context-param>
        <param-name>contextConfigLocation</param-name>
        <param-value>classpath:spring-*.xml</param-value>
    </context-param>
    
    <listener>
        <listener-class>
            org.springframework.web.context.ContextLoaderListener
        </listener-class>
    </listener>

    <!-- ========== 2. SpringMVCé…ç½® ========== -->
    <servlet>
        <servlet-name>springmvc</servlet-name>
        <servlet-class>
            org.springframework.web.servlet.DispatcherServlet
        </servlet-class>
        <init-param>
            <param-name>contextConfigLocation</param-name>
            <param-value>classpath:spring-mvc.xml</param-value>
        </init-param>
        <load-on-startup>1</load-on-startup>
    </servlet>
    
    <servlet-mapping>
        <servlet-name>springmvc</servlet-name>
        <url-pattern>/</url-pattern>
    </servlet-mapping>

    <!-- ========== 3. ç¼–ç è¿‡æ»¤å™¨ ========== -->
    <filter>
        <filter-name>encodingFilter</filter-name>
        <filter-class>
            org.springframework.web.filter.CharacterEncodingFilter
        </filter-class>
        <init-param>
            <param-name>encoding</param-name>
            <param-value>UTF-8</param-value>
        </init-param>
        <init-param>
            <param-name>forceEncoding</param-name>
            <param-value>true</param-value>
        </init-param>
    </filter>
    
    <filter-mapping>
        <filter-name>encodingFilter</filter-name>
        <url-pattern>/*</url-pattern>
    </filter-mapping>

</web-app>
```

### 4.2 é…ç½®é¡ºåºè¯´æ˜


**æ‰§è¡Œé¡ºåº**ï¼š
```
Webåº”ç”¨å¯åŠ¨
    â†“
â‘  åŠ è½½ <context-param> å…¨å±€å‚æ•°
    â†“
â‘¡ æ‰§è¡Œ <listener> ç›‘å¬å™¨ â†’ å¯åŠ¨Springå®¹å™¨
    â†“  
â‘¢ åŠ è½½ <filter> è¿‡æ»¤å™¨
    â†“
â‘£ åŠ è½½ <servlet> â†’ å¯åŠ¨DispatcherServlet
    â†“
åº”ç”¨å¯åŠ¨å®Œæˆ
```

> âš ï¸ **æ³¨æ„**ï¼šé¡ºåºä¸èƒ½ä¹±ï¼listenerå¿…é¡»åœ¨servletä¹‹å‰ï¼Œå› ä¸ºservletè¦ç”¨åˆ°Springå®¹å™¨é‡Œçš„bean

---

## 5. ğŸ—ï¸ çˆ¶å­å®¹å™¨å…³ç³»è¯¦è§£


### 5.1 ä»€ä¹ˆæ˜¯çˆ¶å­å®¹å™¨


**å½¢è±¡æ¯”å–»**ï¼šçˆ¶å­å®¹å™¨å°±åƒå…¬å¸çš„æ€»éƒ¨å’Œåˆ†éƒ¨
```
çˆ¶å®¹å™¨ï¼ˆSpringå®¹å™¨ï¼‰
    â”œâ”€â”€ Serviceå±‚ç»„ä»¶
    â”œâ”€â”€ Daoå±‚ç»„ä»¶  
    â”œâ”€â”€ äº‹åŠ¡ç®¡ç†å™¨
    â””â”€â”€ æ•°æ®æºé…ç½®

å­å®¹å™¨ï¼ˆSpringMVCå®¹å™¨ï¼‰
    â”œâ”€â”€ Controllerå±‚ç»„ä»¶
    â”œâ”€â”€ è§†å›¾è§£æå™¨
    â””â”€â”€ æ‹¦æˆªå™¨é…ç½®
```

**å…³ç³»å›¾ç¤º**ï¼š
```
    [çˆ¶å®¹å™¨ - Spring]
         â†‘
    å¯ä»¥è®¿é—®çˆ¶å®¹å™¨
         â†‘
    [å­å®¹å™¨ - SpringMVC]
    
è®¿é—®è§„åˆ™ï¼š
âœ“ å­å®¹å™¨å¯ä»¥è®¿é—®çˆ¶å®¹å™¨çš„bean
âœ— çˆ¶å®¹å™¨ä¸èƒ½è®¿é—®å­å®¹å™¨çš„bean
```

### 5.2 ä¸ºä»€ä¹ˆè¦çˆ¶å­å®¹å™¨


**è®¾è®¡ç›®çš„**ï¼š

â‘  **èŒè´£åˆ†ç¦»**
```
çˆ¶å®¹å™¨ï¼šè´Ÿè´£ä¸šåŠ¡é€»è¾‘å±‚ï¼ˆServiceã€Daoï¼‰
å­å®¹å™¨ï¼šè´Ÿè´£Webå±•ç°å±‚ï¼ˆControllerï¼‰

å¥½å¤„ï¼šå„å¸å…¶èŒï¼Œç»“æ„æ¸…æ™°
```

â‘¡ **åŠ è½½é¡ºåºæ§åˆ¶**
```
å…ˆå¯åŠ¨çˆ¶å®¹å™¨ â†’ åå¯åŠ¨å­å®¹å™¨
ä¿è¯ï¼šControllerå¯ä»¥ä½¿ç”¨Service
```

â‘¢ **ç»„ä»¶éš”ç¦»**
```
Controllerå±‚çš„é…ç½®ï¼ˆå¦‚æ‹¦æˆªå™¨ï¼‰
ä¸ä¼šå½±å“åˆ°Serviceå±‚

Serviceå±‚çš„é…ç½®ï¼ˆå¦‚äº‹åŠ¡ï¼‰
ä¹Ÿä¸ä¼šå¹²æ‰°Controllerå±‚
```

### 5.3 æ‰«æåŒ…é…ç½®


**çˆ¶å®¹å™¨é…ç½®ï¼ˆspring-service.xmlï¼‰**ï¼š
```xml
<!-- æ‰«æServiceã€Daoï¼Œä½†æ’é™¤Controller -->
<context:component-scan base-package="com.example">
    <context:exclude-filter type="annotation" 
        expression="org.springframework.stereotype.Controller"/>
</context:component-scan>
```

**å­å®¹å™¨é…ç½®ï¼ˆspring-mvc.xmlï¼‰**ï¼š
```xml
<!-- åªæ‰«æController -->
<context:component-scan base-package="com.example.controller"/>
```

**åŒ…æ‰«æè§„åˆ™å›¾ç¤º**ï¼š
```
é¡¹ç›®ç»“æ„                    æ‰«æå½’å±
com.example
â”œâ”€â”€ controller          â†’ SpringMVCå®¹å™¨æ‰«æ
â”‚   â”œâ”€â”€ UserController
â”‚   â””â”€â”€ OrderController
â”œâ”€â”€ service            â†’ Springå®¹å™¨æ‰«æ
â”‚   â”œâ”€â”€ UserService
â”‚   â””â”€â”€ OrderService
â””â”€â”€ dao                â†’ Springå®¹å™¨æ‰«æ
    â”œâ”€â”€ UserDao
    â””â”€â”€ OrderDao
```

> ğŸ’¡ **æœ€ä½³å®è·µ**ï¼šçˆ¶å®¹å™¨æ‰«ææ—¶æ’é™¤Controllerï¼Œé¿å…é‡å¤åˆ›å»ºbean

---

## 6. ğŸ”— Controllerè°ƒç”¨Serviceå±‚


### 6.1 è°ƒç”¨åŸç†


**å·¥ä½œæµç¨‹**ï¼š
```
ç”¨æˆ·è¯·æ±‚
    â†“
DispatcherServletæ¥æ”¶
    â†“
æ‰¾åˆ°å¯¹åº”çš„Controllerï¼ˆåœ¨å­å®¹å™¨ï¼‰
    â†“
Controlleréœ€è¦Service
    â†“
å»çˆ¶å®¹å™¨æŸ¥æ‰¾Serviceï¼ˆå› ä¸ºå­å®¹å™¨èƒ½è®¿é—®çˆ¶å®¹å™¨ï¼‰
    â†“
æ³¨å…¥Serviceåˆ°Controller
    â†“
è°ƒç”¨Serviceæ–¹æ³•
    â†“
è¿”å›ç»“æœ
```

### 6.2 ä»£ç ç¤ºä¾‹


```java
@Controller
@RequestMapping("/user")
public class UserController {
    
    // è‡ªåŠ¨æ³¨å…¥Serviceï¼ˆä»çˆ¶å®¹å™¨è·å–ï¼‰
    @Autowired
    private UserService userService;
    
    @RequestMapping("/list")
    @ResponseBody
    public List<User> list() {
        // ç›´æ¥è°ƒç”¨Serviceæ–¹æ³•
        return userService.getAllUsers();
    }
    
    @RequestMapping("/add")
    @ResponseBody  
    public String add(@RequestBody User user) {
        userService.saveUser(user);
        return "success";
    }
}
```

**Serviceå±‚ä»£ç **ï¼š
```java
@Service
public class UserServiceImpl implements UserService {
    
    @Autowired
    private UserDao userDao;
    
    @Override
    public List<User> getAllUsers() {
        return userDao.selectAll();
    }
    
    @Override
    public void saveUser(User user) {
        userDao.insert(user);
    }
}
```

### 6.3 æ³¨å…¥å¤±è´¥çš„å¸¸è§é—®é¢˜


**é—®é¢˜â‘ ï¼šServiceä¸ºnull**
```
åŸå› ï¼šServiceæ²¡æœ‰è¢«Springå®¹å™¨ç®¡ç†
è§£å†³ï¼šæ£€æŸ¥@Serviceæ³¨è§£ + åŒ…æ‰«æé…ç½®
```

**é—®é¢˜â‘¡ï¼šæ‰¾ä¸åˆ°bean**
```
åŸå› ï¼šçˆ¶å­å®¹å™¨æ‰«æé…ç½®é‡å¤æˆ–é—æ¼
è§£å†³ï¼š
- çˆ¶å®¹å™¨ï¼šæ‰«æServiceã€Daoï¼Œæ’é™¤Controller
- å­å®¹å™¨ï¼šåªæ‰«æController
```

**é—®é¢˜â‘¢ï¼šå¾ªç¯ä¾èµ–**
```
åŸå› ï¼šControllerå’ŒServiceäº’ç›¸ä¾èµ–
è§£å†³ï¼šé‡æ–°è®¾è®¡ï¼ŒControllerä¾èµ–Serviceï¼ŒServiceä¸èƒ½ä¾èµ–Controller
```

---

## 7. âš ï¸ ç»Ÿä¸€å¼‚å¸¸å¤„ç†


### 7.1 ä¸ºä»€ä¹ˆéœ€è¦ç»Ÿä¸€å¼‚å¸¸å¤„ç†


**é—®é¢˜åœºæ™¯**ï¼š
```
æ²¡æœ‰ç»Ÿä¸€å¼‚å¸¸å¤„ç†ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Controller A â”‚ â†’ try-catch â†’ è¿”å›é”™è¯¯ä¿¡æ¯
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Controller B â”‚ â†’ try-catch â†’ è¿”å›é”™è¯¯ä¿¡æ¯  
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Controller C â”‚ â†’ try-catch â†’ è¿”å›é”™è¯¯ä¿¡æ¯
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
é—®é¢˜ï¼šæ¯ä¸ªControlleréƒ½è¦å†™é‡å¤ä»£ç 

æœ‰ç»Ÿä¸€å¼‚å¸¸å¤„ç†ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Controller A â”‚ â”€â”€â”
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚ Controller B â”‚ â”€â”€â”¼â†’ ç»Ÿä¸€å¼‚å¸¸å¤„ç†å™¨
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚ Controller C â”‚ â”€â”€â”˜
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
å¥½å¤„ï¼šä¸€ä¸ªåœ°æ–¹ç»Ÿä¸€å¤„ç†ï¼Œä»£ç ç®€æ´
```

### 7.2 å®ç°æ–¹å¼


**åˆ›å»ºå…¨å±€å¼‚å¸¸å¤„ç†å™¨**ï¼š
```java
@ControllerAdvice
public class GlobalExceptionHandler {
    
    // å¤„ç†æ‰€æœ‰å¼‚å¸¸
    @ExceptionHandler(Exception.class)
    @ResponseBody
    public Result handleException(Exception e) {
        e.printStackTrace();
        return Result.error("ç³»ç»Ÿå¼‚å¸¸ï¼š" + e.getMessage());
    }
    
    // å¤„ç†ç‰¹å®šä¸šåŠ¡å¼‚å¸¸
    @ExceptionHandler(BusinessException.class)
    @ResponseBody
    public Result handleBusinessException(BusinessException e) {
        return Result.error(e.getMessage());
    }
    
    // å¤„ç†å‚æ•°æ ¡éªŒå¼‚å¸¸
    @ExceptionHandler(MethodArgumentNotValidException.class)
    @ResponseBody
    public Result handleValidException(MethodArgumentNotValidException e) {
        String msg = e.getBindingResult()
                      .getFieldError()
                      .getDefaultMessage();
        return Result.error("å‚æ•°é”™è¯¯ï¼š" + msg);
    }
}
```

**é…ç½®è¯´æ˜**ï¼š

| æ³¨è§£ | ä½œç”¨ | è¯´æ˜ |
|------|------|------|
| `@ControllerAdvice` | å…¨å±€æ§åˆ¶å™¨å¢å¼º | æ ‡è¯†è¿™æ˜¯å…¨å±€å¼‚å¸¸å¤„ç†ç±» |
| `@ExceptionHandler` | å¼‚å¸¸å¤„ç†æ–¹æ³• | æŒ‡å®šå¤„ç†å“ªç§å¼‚å¸¸ |
| `@ResponseBody` | è¿”å›JSON | å°†è¿”å›å€¼è½¬ä¸ºJSONæ ¼å¼ |

### 7.3 Controllerä¸­çš„ä½¿ç”¨


**Controlleræ— éœ€try-catch**ï¼š
```java
@Controller
@RequestMapping("/user")
public class UserController {
    
    @Autowired
    private UserService userService;
    
    // ä¸ç”¨å†™try-catchï¼Œå¼‚å¸¸ä¼šè¢«å…¨å±€å¤„ç†å™¨æ•è·
    @RequestMapping("/delete")
    @ResponseBody
    public Result delete(Integer id) {
        // å¦‚æœåˆ é™¤å¤±è´¥æŠ›å‡ºå¼‚å¸¸ï¼Œä¼šè¢«å…¨å±€å¤„ç†å™¨å¤„ç†
        userService.deleteUser(id);
        return Result.success("åˆ é™¤æˆåŠŸ");
    }
}
```

> ğŸ’¡ **æœ€ä½³å®è·µ**ï¼šControllerä¸“æ³¨ä¸šåŠ¡é€»è¾‘ï¼Œå¼‚å¸¸äº¤ç»™ç»Ÿä¸€å¤„ç†å™¨

---

## 8. ğŸ“¦ ç»Ÿä¸€å“åº”æ ¼å¼


### 8.1 ä¸ºä»€ä¹ˆéœ€è¦ç»Ÿä¸€å“åº”


**é—®é¢˜å¯¹æ¯”**ï¼š
```
ä¸ç»Ÿä¸€çš„å“åº”ï¼š
Controller A è¿”å›ï¼š{"status": 200, "msg": "ok", "data": {...}}
Controller B è¿”å›ï¼š{"code": 0, "message": "success", "result": {...}}  
Controller C è¿”å›ï¼š{"success": true, "data": {...}}

é—®é¢˜ï¼šå‰ç«¯è¦å¤„ç†ä¸åŒæ ¼å¼ï¼Œå¾ˆæ··ä¹±

ç»Ÿä¸€å“åº”ï¼š
æ‰€æœ‰Controllerè¿”å›ï¼š{"code": 200, "msg": "success", "data": {...}}

å¥½å¤„ï¼šå‰ç«¯ç»Ÿä¸€å¤„ç†ï¼Œä»£ç ç®€æ´
```

### 8.2 åˆ›å»ºç»Ÿä¸€å“åº”ç±»


```java
public class Result<T> {
    private Integer code;   // çŠ¶æ€ç 
    private String msg;     // æç¤ºä¿¡æ¯
    private T data;         // è¿”å›æ•°æ®
    
    // æˆåŠŸå“åº”
    public static <T> Result<T> success(T data) {
        Result<T> result = new Result<>();
        result.setCode(200);
        result.setMsg("æ“ä½œæˆåŠŸ");
        result.setData(data);
        return result;
    }
    
    // å¤±è´¥å“åº”
    public static <T> Result<T> error(String msg) {
        Result<T> result = new Result<>();
        result.setCode(500);
        result.setMsg(msg);
        return result;
    }
    
    // getterã€setterçœç•¥...
}
```

**å“åº”ç è§„èŒƒ**ï¼š

| çŠ¶æ€ç  | å«ä¹‰ | ä½¿ç”¨åœºæ™¯ |
|--------|------|----------|
| 200 | æˆåŠŸ | æ“ä½œæˆåŠŸ |
| 400 | å‚æ•°é”™è¯¯ | å‰ç«¯ä¼ å‚é”™è¯¯ |
| 401 | æœªæˆæƒ | æœªç™»å½•æˆ–tokenå¤±æ•ˆ |
| 403 | ç¦æ­¢è®¿é—® | æ— æƒé™ |
| 404 | æœªæ‰¾åˆ° | èµ„æºä¸å­˜åœ¨ |
| 500 | æœåŠ¡å™¨é”™è¯¯ | åç«¯å¼‚å¸¸ |

### 8.3 Controllerä¸­ä½¿ç”¨


```java
@Controller
@RequestMapping("/user")
public class UserController {
    
    @Autowired
    private UserService userService;
    
    // æŸ¥è¯¢åˆ—è¡¨
    @RequestMapping("/list")
    @ResponseBody
    public Result<List<User>> list() {
        List<User> users = userService.getAllUsers();
        return Result.success(users);
    }
    
    // æ–°å¢ç”¨æˆ·
    @RequestMapping("/add")
    @ResponseBody
    public Result<Void> add(@RequestBody User user) {
        userService.saveUser(user);
        return Result.success(null);
    }
    
    // åˆ é™¤ç”¨æˆ·
    @RequestMapping("/delete")
    @ResponseBody
    public Result<Void> delete(Integer id) {
        userService.deleteUser(id);
        return Result.success(null);
    }
}
```

**å‰ç«¯æ¥æ”¶ç¤ºä¾‹**ï¼š
```javascript
// ç»Ÿä¸€çš„axioså“åº”æ‹¦æˆªå™¨
axios.interceptors.response.use(response => {
    const res = response.data;
    if (res.code === 200) {
        return res.data;  // è¿”å›ä¸šåŠ¡æ•°æ®
    } else {
        alert(res.msg);   // æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯
        return Promise.reject(res.msg);
    }
});
```

---

## 9. ğŸ“ é™æ€èµ„æºé…ç½®


### 9.1 é™æ€èµ„æºé—®é¢˜


**é—®é¢˜åœºæ™¯**ï¼š
```
DispatcherServleté…ç½®äº† url-pattern="/"
ä¼šæ‹¦æˆªæ‰€æœ‰è¯·æ±‚ï¼ŒåŒ…æ‹¬é™æ€èµ„æº

è®¿é—® /css/style.css â†’ è¢«æ‹¦æˆª â†’ æ‰¾ä¸åˆ°å¯¹åº”çš„Controller â†’ 404é”™è¯¯
è®¿é—® /js/main.js    â†’ è¢«æ‹¦æˆª â†’ æ‰¾ä¸åˆ°å¯¹åº”çš„Controller â†’ 404é”™è¯¯
è®¿é—® /img/logo.png  â†’ è¢«æ‹¦æˆª â†’ æ‰¾ä¸åˆ°å¯¹åº”çš„Controller â†’ 404é”™è¯¯
```

### 9.2 è§£å†³æ–¹æ¡ˆ


**æ–¹æ¡ˆä¸€ï¼šä½¿ç”¨ mvc:resources**
```xml
<!-- spring-mvc.xmlä¸­é…ç½® -->
<mvc:resources mapping="/css/**" location="/css/"/>
<mvc:resources mapping="/js/**" location="/js/"/>  
<mvc:resources mapping="/img/**" location="/img/"/>
```

**é…ç½®è¯´æ˜**ï¼š
```
mappingï¼šURLè·¯å¾„æ¨¡å¼
locationï¼šå®é™…èµ„æºä½ç½®

ç¤ºä¾‹ï¼š
è®¿é—®ï¼š/css/style.css
åŒ¹é…ï¼š/css/** 
å®šä½ï¼š/css/style.css
ç»“æœï¼šç›´æ¥è¿”å›æ–‡ä»¶ï¼Œä¸èµ°Controller
```

**æ–¹æ¡ˆäºŒï¼šä½¿ç”¨ mvc:default-servlet-handler**
```xml
<!-- äº¤ç»™Tomcaté»˜è®¤Servletå¤„ç† -->
<mvc:default-servlet-handler/>
```

**å·¥ä½œåŸç†**ï¼š
```
è¯·æ±‚è¿›æ¥
    â†“
å…ˆæ‰¾æœ‰æ²¡æœ‰å¯¹åº”çš„Controller
    â†“ æ²¡æ‰¾åˆ°
äº¤ç»™Tomcatçš„DefaultServletå¤„ç†
    â†“
DefaultServletå»æ‰¾é™æ€æ–‡ä»¶
    â†“
æ‰¾åˆ°å°±è¿”å›ï¼Œæ‰¾ä¸åˆ°å°±404
```

### 9.3 æ¨èé…ç½®


```xml
<!-- spring-mvc.xml -->
<!-- å¼€å¯MVCæ³¨è§£é©±åŠ¨ -->
<mvc:annotation-driven/>

<!-- é™æ€èµ„æºæ˜ å°„ -->
<mvc:resources mapping="/static/**" location="/static/"/>

<!-- æˆ–è€…ä½¿ç”¨é»˜è®¤Servletå¤„ç† -->
<mvc:default-servlet-handler/>
```

> ğŸ’¡ **å®ç”¨å»ºè®®**ï¼šé™æ€èµ„æºç»Ÿä¸€æ”¾åœ¨`/static/`ç›®å½•ä¸‹ï¼Œä¾¿äºç®¡ç†

---

## 10. ğŸ”¤ ç¼–ç è¿‡æ»¤å™¨é…ç½®


### 10.1 ä¸ºä»€ä¹ˆéœ€è¦ç¼–ç è¿‡æ»¤å™¨


**é—®é¢˜åœºæ™¯**ï¼š
```
å‰ç«¯å‘é€ï¼š{name: "å¼ ä¸‰"}
åç«¯æ¥æ”¶ï¼š{name: "Ã¥Â¼ Ã¤Â¸â€°"}  â† ä¹±ç ï¼

åŸå› ï¼šè¯·æ±‚å’Œå“åº”çš„å­—ç¬¦ç¼–ç ä¸ç»Ÿä¸€
- å‰ç«¯ï¼šUTF-8
- Tomcaté»˜è®¤ï¼šISO-8859-1
```

### 10.2 é…ç½®ç¼–ç è¿‡æ»¤å™¨


```xml
<!-- web.xmlé…ç½® -->
<filter>
    <filter-name>encodingFilter</filter-name>
    <filter-class>
        org.springframework.web.filter.CharacterEncodingFilter
    </filter-class>
    <!-- è¯·æ±‚ç¼–ç  -->
    <init-param>
        <param-name>encoding</param-name>
        <param-value>UTF-8</param-value>
    </init-param>
    <!-- å“åº”ç¼–ç  -->
    <init-param>
        <param-name>forceEncoding</param-name>
        <param-value>true</param-value>
    </init-param>
</filter>

<filter-mapping>
    <filter-name>encodingFilter</filter-name>
    <url-pattern>/*</url-pattern>
</filter-mapping>
```

**å‚æ•°è¯´æ˜**ï¼š

```
encodingï¼šæŒ‡å®šå­—ç¬¦ç¼–ç ä¸ºUTF-8
forceEncodingï¼šå¼ºåˆ¶è®¾ç½®è¯·æ±‚å’Œå“åº”ç¼–ç 
url-patternï¼š/*è¡¨ç¤ºæ‰€æœ‰è¯·æ±‚éƒ½è¿‡æ»¤
```

### 10.3 å·¥ä½œåŸç†


```
è¯·æ±‚æµç¨‹ï¼š
å®¢æˆ·ç«¯å‘é€è¯·æ±‚
    â†“
ç»è¿‡ç¼–ç è¿‡æ»¤å™¨ â†’ request.setCharacterEncoding("UTF-8")
    â†“
åˆ°è¾¾Controller â†’ æ­£å¸¸æ¥æ”¶ä¸­æ–‡
    â†“
Controllerè¿”å›å“åº”
    â†“
ç»è¿‡ç¼–ç è¿‡æ»¤å™¨ â†’ response.setCharacterEncoding("UTF-8")
    â†“
è¿”å›ç»™å®¢æˆ·ç«¯ â†’ æ­£å¸¸æ˜¾ç¤ºä¸­æ–‡
```

> âš ï¸ **é‡è¦**ï¼šç¼–ç è¿‡æ»¤å™¨å¿…é¡»æ˜¯ç¬¬ä¸€ä¸ªè¿‡æ»¤å™¨ï¼Œåœ¨æ‰€æœ‰è¿‡æ»¤å™¨ä¹‹å‰æ‰§è¡Œ

---

## 11. ğŸŒ è·¨åŸŸé…ç½®æ•´åˆ


### 11.1 ä»€ä¹ˆæ˜¯è·¨åŸŸé—®é¢˜


**é€šä¿—ç†è§£**ï¼šè·¨åŸŸå°±æ˜¯æµè§ˆå™¨çš„"å®‰å…¨ä¿æŠ¤"
```
åœºæ™¯ï¼š
å‰ç«¯é¡¹ç›®ï¼šhttp://localhost:8080
åç«¯é¡¹ç›®ï¼šhttp://localhost:8081

å‰ç«¯è¯·æ±‚åç«¯ï¼š
http://localhost:8080 â†’ http://localhost:8081

æµè§ˆå™¨æ£€æµ‹ï¼š
- åè®®ä¸åŒï¼ŸÃ—
- åŸŸåä¸åŒï¼ŸÃ—  
- ç«¯å£ä¸åŒï¼Ÿâœ“ â†’ è·¨åŸŸï¼é˜»æ­¢è¯·æ±‚ï¼
```

**è·¨åŸŸåˆ¤æ–­è§„åˆ™**ï¼š
```
åŒæºï¼ˆä¸è·¨åŸŸï¼‰ï¼š
http://localhost:8080/a â†’ http://localhost:8080/b âœ“

è·¨åŸŸï¼š
http://localhost:8080 â†’ http://localhost:8081  âœ— (ç«¯å£ä¸åŒ)
http://a.com â†’ http://b.com                    âœ— (åŸŸåä¸åŒ)
http://a.com â†’ https://a.com                   âœ— (åè®®ä¸åŒ)
```

### 11.2 è§£å†³æ–¹æ¡ˆ


**æ–¹æ¡ˆä¸€ï¼š@CrossOriginæ³¨è§£**
```java
@Controller
@RequestMapping("/user")
@CrossOrigin  // å…è®¸è·¨åŸŸè®¿é—®
public class UserController {
    
    @RequestMapping("/list")
    @ResponseBody
    public Result list() {
        // ...
    }
}
```

**æ–¹æ¡ˆäºŒï¼šå…¨å±€è·¨åŸŸé…ç½®**
```xml
<!-- spring-mvc.xml -->
<mvc:cors>
    <mvc:mapping path="/**"
                 allowed-origins="*"
                 allowed-methods="GET,POST,PUT,DELETE"
                 allowed-headers="*"
                 allow-credentials="true"
                 max-age="3600"/>
</mvc:cors>
```

**æ–¹æ¡ˆä¸‰ï¼šé…ç½®ç±»æ–¹å¼**
```java
@Configuration
public class CorsConfig implements WebMvcConfigurer {
    
    @Override
    public void addCorsMappings(CorsRegistry registry) {
        registry.addMapping("/**")                // æ‰€æœ‰æ¥å£
                .allowedOrigins("*")              // å…è®¸æ‰€æœ‰æ¥æº
                .allowedMethods("GET", "POST", "PUT", "DELETE")
                .allowedHeaders("*")              // å…è®¸æ‰€æœ‰è¯·æ±‚å¤´
                .allowCredentials(true)           // å…è®¸æºå¸¦cookie
                .maxAge(3600);                    // é¢„æ£€è¯·æ±‚ç¼“å­˜æ—¶é—´
    }
}
```

**å‚æ•°è¯´æ˜**ï¼š

| é…ç½®é¡¹ | å«ä¹‰ | è¯´æ˜ |
|--------|------|------|
| `allowed-origins` | å…è®¸çš„æ¥æº | `*`è¡¨ç¤ºæ‰€æœ‰ï¼Œä¹Ÿå¯æŒ‡å®šå…·ä½“åŸŸå |
| `allowed-methods` | å…è®¸çš„HTTPæ–¹æ³• | GETã€POSTã€PUTã€DELETEç­‰ |
| `allowed-headers` | å…è®¸çš„è¯·æ±‚å¤´ | `*`è¡¨ç¤ºæ‰€æœ‰ |
| `allow-credentials` | æ˜¯å¦å…è®¸æºå¸¦cookie | true/false |
| `max-age` | é¢„æ£€è¯·æ±‚ç¼“å­˜æ—¶é—´ | å•ä½ï¼šç§’ |

### 11.3 æ¨èé…ç½®


```java
@Configuration
public class WebConfig implements WebMvcConfigurer {
    
    @Override
    public void addCorsMappings(CorsRegistry registry) {
        registry.addMapping("/api/**")  // åªå¯¹APIæ¥å£å¼€æ”¾è·¨åŸŸ
                .allowedOriginPatterns("*")  // å…è®¸æ‰€æœ‰æ¥æºï¼ˆæ¨èç”¨è¿™ä¸ªï¼‰
                .allowedMethods("*")
                .allowedHeaders("*")
                .allowCredentials(true)
                .maxAge(3600);
    }
}
```

> ğŸ’¡ **å®‰å…¨å»ºè®®**ï¼šç”Ÿäº§ç¯å¢ƒä¸è¦ç”¨`*`ï¼Œåº”æŒ‡å®šå…·ä½“çš„å‰ç«¯åŸŸå

---

## 12. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 12.1 Webå±‚æ•´åˆæ ¸å¿ƒæµç¨‹


```
Webåº”ç”¨å¯åŠ¨
    â†“
â‘  ContextLoaderListenerå¯åŠ¨ â†’ åŠ è½½Springçˆ¶å®¹å™¨
    â†“                         (Serviceã€Daoã€äº‹åŠ¡ç­‰)
â‘¡ DispatcherServletå¯åŠ¨ â†’ åŠ è½½SpringMVCå­å®¹å™¨  
                          (Controllerã€è§†å›¾è§£æå™¨ç­‰)
    â†“
â‘¢ å»ºç«‹çˆ¶å­å®¹å™¨å…³ç³» â†’ å­å®¹å™¨å¯è®¿é—®çˆ¶å®¹å™¨
    â†“
â‘£ é…ç½®è¿‡æ»¤å™¨ â†’ ç¼–ç ã€è·¨åŸŸç­‰
    â†“
åº”ç”¨æ­£å¸¸è¿è¡Œ
```

### 12.2 æ ¸å¿ƒé…ç½®æ¸…å•


**âœ… å¿…éœ€é…ç½®**ï¼š
```
â‘  web.xmlé…ç½®
   - ContextLoaderListener
   - DispatcherServlet
   - ç¼–ç è¿‡æ»¤å™¨

â‘¡ Springé…ç½®æ–‡ä»¶
   - ç»„ä»¶æ‰«æï¼ˆæ’é™¤Controllerï¼‰
   - æ•°æ®æºã€äº‹åŠ¡ã€MyBatisé›†æˆ

â‘¢ SpringMVCé…ç½®æ–‡ä»¶  
   - ç»„ä»¶æ‰«æï¼ˆåªæ‰«æControllerï¼‰
   - æ³¨è§£é©±åŠ¨ã€è§†å›¾è§£æå™¨
```

**ğŸ”§ æ¨èé…ç½®**ï¼š
```
â‘£ ç»Ÿä¸€å¼‚å¸¸å¤„ç†
   - @ControllerAdvice

â‘¤ ç»Ÿä¸€å“åº”æ ¼å¼
   - Resultå°è£…ç±»

â‘¥ é™æ€èµ„æºå¤„ç†
   - <mvc:resources>

â‘¦ è·¨åŸŸé…ç½®
   - WebMvcConfigurer
```

### 12.3 å¸¸è§é—®é¢˜é€ŸæŸ¥


**Q1: Serviceæ³¨å…¥å¤±è´¥ï¼Ÿ**
```
æ£€æŸ¥é¡¹ï¼š
â‘  @Serviceæ³¨è§£æ˜¯å¦åŠ ä¸Š
â‘¡ åŒ…æ‰«æé…ç½®æ˜¯å¦æ­£ç¡®
â‘¢ çˆ¶å­å®¹å™¨æ‰«ææ˜¯å¦é‡å¤
```

**Q2: é™æ€èµ„æº404ï¼Ÿ**
```
è§£å†³æ–¹æ¡ˆï¼š
â‘  é…ç½®<mvc:resources>
â‘¡ æˆ–ä½¿ç”¨<mvc:default-servlet-handler>
â‘¢ ç¡®ä¿<mvc:annotation-driven/>å·²é…ç½®
```

**Q3: ä¸­æ–‡ä¹±ç ï¼Ÿ**
```
è§£å†³æ–¹æ¡ˆï¼š
â‘  é…ç½®ç¼–ç è¿‡æ»¤å™¨
â‘¡ ç¡®ä¿è¿‡æ»¤å™¨æ˜¯ç¬¬ä¸€ä¸ªæ‰§è¡Œ
â‘¢ æ£€æŸ¥forceEncoding=true
```

**Q4: è·¨åŸŸè¯·æ±‚å¤±è´¥ï¼Ÿ**
```
è§£å†³æ–¹æ¡ˆï¼š
â‘  æ·»åŠ @CrossOriginæ³¨è§£
â‘¡ æˆ–é…ç½®å…¨å±€è·¨åŸŸ
â‘¢ æ£€æŸ¥allowed-originsé…ç½®
```

### 12.4 å­¦ä¹ å»ºè®®


**ğŸ¯ æŒæ¡é‡ç‚¹**ï¼š
- â‘  ç†è§£çˆ¶å­å®¹å™¨å…³ç³»ï¼ˆæ ¸å¿ƒä¸­çš„æ ¸å¿ƒï¼‰
- â‘¡ æŒæ¡web.xmlçš„é…ç½®é¡ºåº
- â‘¢ ä¼šé…ç½®ç»Ÿä¸€å¼‚å¸¸å’Œå“åº”æ ¼å¼
- â‘£ çŸ¥é“å¦‚ä½•è§£å†³é™æ€èµ„æºå’Œè·¨åŸŸé—®é¢˜

**ğŸ“ å®è·µæ­¥éª¤**ï¼š
```
ç¬¬1æ­¥ï¼šæ­å»ºåŸºç¡€æ¡†æ¶
- é…ç½®web.xml
- é…ç½®Springå’ŒSpringMVC

ç¬¬2æ­¥ï¼šå®ç°Controllerè°ƒç”¨Service
- æµ‹è¯•çˆ¶å­å®¹å™¨æ˜¯å¦æ­£å¸¸

ç¬¬3æ­¥ï¼šå®Œå–„åŠŸèƒ½
- ç»Ÿä¸€å¼‚å¸¸å¤„ç†
- ç»Ÿä¸€å“åº”æ ¼å¼
- é™æ€èµ„æºé…ç½®

ç¬¬4æ­¥ï¼šä¼˜åŒ–é…ç½®
- ç¼–ç è¿‡æ»¤å™¨
- è·¨åŸŸé…ç½®
```

**ğŸ’¡ è®°å¿†å£è¯€**ï¼š
```
Webå±‚æ•´åˆè¦è®°ç‰¢ï¼Œçˆ¶å­å®¹å™¨æ˜¯åŸºç¡€
ç›‘å¬å™¨å…ˆServletåï¼Œè¿‡æ»¤å™¨è¦æ’åœ¨å‰
Controllerè°ƒServiceï¼Œå­è®¿çˆ¶æ¥çˆ¶ä¸èƒ½
å¼‚å¸¸å“åº”è¦ç»Ÿä¸€ï¼Œé™æ€èµ„æºåˆ«å¿˜é…
ç¼–ç è·¨åŸŸè¦å¤„ç†ï¼Œæ•´åˆå®Œæˆé¡¹ç›®è·‘
```