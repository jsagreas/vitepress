---
title: 1ã€SSMä¸‰å¤§æ¡†æ¶æ•´åˆé…ç½®
---
## ğŸ“š ç›®å½•

1. [SSMæ•´åˆæ ¸å¿ƒæ€è·¯](#1-SSMæ•´åˆæ ¸å¿ƒæ€è·¯)
2. [Springç®¡ç†MyBatis](#2-Springç®¡ç†MyBatis)
3. [Springç®¡ç†SpringMVC](#3-Springç®¡ç†SpringMVC)
4. [é…ç½®æ–‡ä»¶åˆ†å±‚ç­–ç•¥](#4-é…ç½®æ–‡ä»¶åˆ†å±‚ç­–ç•¥)
5. [Beanç®¡ç†ä¸åŒ…æ‰«æ](#5-Beanç®¡ç†ä¸åŒ…æ‰«æ)
6. [æ•°æ®æºä¸äº‹åŠ¡ç®¡ç†](#6-æ•°æ®æºä¸äº‹åŠ¡ç®¡ç†)
7. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#7-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ¯ SSMæ•´åˆæ ¸å¿ƒæ€è·¯


### 1.1 ä»€ä¹ˆæ˜¯SSMæ•´åˆ


**é€šä¿—ç†è§£**ï¼šå°±åƒæ­ç§¯æœ¨ä¸€æ ·ï¼ŒæŠŠSpringã€SpringMVCã€MyBatisä¸‰ä¸ªæ¡†æ¶ç»„åˆåœ¨ä¸€èµ·ä½¿ç”¨

```
æƒ³è±¡ä¸€ä¸ªé¤å…çš„è¿ä½œï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SpringMVC - å‰å°æœåŠ¡å‘˜          â”‚ â† æ¥å¾…å®¢äººï¼Œä¼ é€’ç‚¹é¤ä¿¡æ¯
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Spring - é¤å…ç»ç†               â”‚ â† åè°ƒè°ƒåº¦ï¼Œç®¡ç†æ‰€æœ‰å‘˜å·¥
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  MyBatis - åå¨å¨å¸ˆ              â”‚ â† å¤„ç†æ•°æ®ï¼Œæ“ä½œæ•°æ®åº“
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

æ•´åˆçš„ç›®çš„ï¼šè®©ä¸‰ä¸ªæ¡†æ¶ååŒå·¥ä½œï¼Œå„å¸å…¶èŒ
```

**ğŸ”‘ æ ¸å¿ƒæ¦‚å¿µ**ï¼š
- **SpringMVC**ï¼šè´Ÿè´£æ¥æ”¶ç”¨æˆ·è¯·æ±‚ï¼Œå±•ç¤ºæ•°æ®ï¼ˆè¡¨ç°å±‚ï¼‰
- **Spring**ï¼šè´Ÿè´£ç®¡ç†æ‰€æœ‰ç»„ä»¶ï¼Œåè°ƒå„å±‚å·¥ä½œï¼ˆå®¹å™¨å±‚ï¼‰
- **MyBatis**ï¼šè´Ÿè´£æ•°æ®åº“æ“ä½œï¼ŒæŒä¹…åŒ–æ•°æ®ï¼ˆæŒä¹…å±‚ï¼‰

### 1.2 ä¸ºä»€ä¹ˆè¦æ•´åˆ


**å•ç‹¬ä½¿ç”¨çš„é—®é¢˜**ï¼š
```
âŒ æ²¡æœ‰æ•´åˆå‰ï¼š
- SpringMVCè¦è‡ªå·±åˆ›å»ºServiceå¯¹è±¡
- Serviceè¦è‡ªå·±åˆ›å»ºDaoå¯¹è±¡
- MyBatisè¦è‡ªå·±ç®¡ç†SqlSession
- å„è‡ªä¸ºæˆ˜ï¼Œä»£ç è€¦åˆåº¦é«˜

âœ… æ•´åˆä¹‹åï¼š
- Springç»Ÿä¸€åˆ›å»ºå’Œç®¡ç†æ‰€æœ‰å¯¹è±¡
- æ¡†æ¶ä¹‹é—´è‡ªåŠ¨åä½œ
- ä»£ç ç®€æ´ï¼Œç»´æŠ¤æ–¹ä¾¿
```

### 1.3 æ•´åˆçš„æœ¬è´¨


> ğŸ’¡ **æ ¸å¿ƒç†è§£**ï¼šSSMæ•´åˆçš„æœ¬è´¨å°±æ˜¯è®©Springæˆä¸º"å¤§ç®¡å®¶"ï¼ŒæŠŠMyBatiså’ŒSpringMVCéƒ½äº¤ç»™å®ƒç®¡ç†

**æ•´åˆå…³ç³»å›¾**ï¼š
```
          Springå®¹å™¨ï¼ˆæ ¸å¿ƒï¼‰
            /        \
           /          \
    MyBatisé…ç½®    SpringMVCé…ç½®
    (SqlSession)    (Controller)
        |               |
    Dao/Mapper      Serviceå±‚
        |               |
        â””â”€â”€â”€â”€â”€ ååŒå·¥ä½œ â”€â”˜
```

---

## 2. ğŸ”§ Springç®¡ç†MyBatis


### 2.1 ä¼ ç»ŸMyBatisä½¿ç”¨æ–¹å¼


**åŸå§‹ä»£ç ï¼ˆæ•´åˆå‰ï¼‰**ï¼š
```java
// ä¼ ç»Ÿæ–¹å¼ï¼šè‡ªå·±åˆ›å»ºSqlSession
SqlSessionFactory factory = new SqlSessionFactoryBuilder()
    .build(Resources.getResourceAsStream("mybatis-config.xml"));
SqlSession session = factory.openSession();
UserMapper mapper = session.getMapper(UserMapper.class);
```

**å­˜åœ¨çš„é—®é¢˜**ï¼š
- ğŸ˜« æ¯æ¬¡éƒ½è¦æ‰‹åŠ¨åˆ›å»ºSqlSession
- ğŸ˜« éœ€è¦æ‰‹åŠ¨ç®¡ç†èµ„æºå…³é—­
- ğŸ˜« ä»£ç é‡å¤ï¼Œå®¹æ˜“å‡ºé”™

### 2.2 Springæ¥ç®¡MyBatis


**æ•´åˆåçš„å·¥ä½œæµç¨‹**ï¼š
```
æ­¥éª¤1ï¸âƒ£ Springåˆ›å»ºSqlSessionFactory
        â†“
æ­¥éª¤2ï¸âƒ£ Springåˆ›å»ºMapperä»£ç†å¯¹è±¡
        â†“
æ­¥éª¤3ï¸âƒ£ è‡ªåŠ¨æ³¨å…¥åˆ°Serviceä¸­ä½¿ç”¨
```

**SqlSessionFactoryBeané…ç½®**ï¼š
```xml
<!-- Springé…ç½®æ–‡ä»¶ï¼šapplicationContext.xml -->

<!-- 1. åˆ›å»ºSqlSessionFactoryï¼ˆæ ¸å¿ƒï¼‰ -->
<bean id="sqlSessionFactory" class="org.mybatis.spring.SqlSessionFactoryBean">
    <!-- æŒ‡å®šæ•°æ®æºï¼šå‘Šè¯‰MyBatisç”¨å“ªä¸ªæ•°æ®åº“ -->
    <property name="dataSource" ref="dataSource"/>
    
    <!-- æŒ‡å®šMyBatisé…ç½®æ–‡ä»¶ä½ç½®ï¼ˆå¯é€‰ï¼‰ -->
    <property name="configLocation" value="classpath:mybatis-config.xml"/>
    
    <!-- æŒ‡å®šmapper.xmlæ–‡ä»¶ä½ç½® -->
    <property name="mapperLocations" value="classpath:mapper/*.xml"/>
</bean>
```

> ğŸ“Œ **é…ç½®è¯´æ˜**ï¼š
> - `SqlSessionFactoryBean`ï¼šSpringæä¾›çš„ç‰¹æ®ŠBeanï¼Œä¸“é—¨ç”¨æ¥åˆ›å»ºSqlSessionFactory
> - `dataSource`ï¼šæ•°æ®æºå¼•ç”¨ï¼Œè¿æ¥æ•°æ®åº“çš„æ¡¥æ¢
> - `mapperLocations`ï¼šå‘Šè¯‰MyBatiså»å“ªæ‰¾SQLæ˜ å°„æ–‡ä»¶

### 2.3 Mapperæ¥å£æ‰«æé…ç½®


**MapperScannerConfigureré…ç½®**ï¼š
```xml
<!-- 2. æ‰«æMapperæ¥å£ï¼Œè‡ªåŠ¨åˆ›å»ºä»£ç†å¯¹è±¡ -->
<bean class="org.mybatis.spring.mapper.MapperScannerConfigurer">
    <!-- æŒ‡å®šæ‰«æçš„åŒ…ï¼šæ‰€æœ‰Mapperæ¥å£æ‰€åœ¨çš„åŒ… -->
    <property name="basePackage" value="com.example.mapper"/>
    
    <!-- æŒ‡å®šSqlSessionFactoryï¼ˆå¯é€‰ï¼Œé»˜è®¤ä¼šè‡ªåŠ¨æ‰¾ï¼‰ -->
    <property name="sqlSessionFactoryBeanName" value="sqlSessionFactory"/>
</bean>
```

**æ‰«æåŸç†å›¾è§£**ï¼š
```
com.example.mapperåŒ…
    â”œâ”€ UserMapper.java     â”€â”€â†’ Springè‡ªåŠ¨åˆ›å»ºUserMapperä»£ç†
    â”œâ”€ OrderMapper.java    â”€â”€â†’ Springè‡ªåŠ¨åˆ›å»ºOrderMapperä»£ç†
    â””â”€ ProductMapper.java  â”€â”€â†’ Springè‡ªåŠ¨åˆ›å»ºProductMapperä»£ç†

æ‰«æåï¼šæ‰€æœ‰Mapperè‡ªåŠ¨å˜æˆSpringçš„Beanï¼Œå¯ä»¥ç›´æ¥æ³¨å…¥ä½¿ç”¨ï¼
```

> ğŸ’¡ **é‡ç‚¹ç†è§£**ï¼š
> - åŸæ¥éœ€è¦æ‰‹åŠ¨`getMapper()`è·å–ï¼Œç°åœ¨Springè‡ªåŠ¨å¸®æˆ‘ä»¬åˆ›å»º
> - Mapperå¯¹è±¡è‡ªåŠ¨æˆä¸ºSpringçš„Beanï¼Œå¯ä»¥ç”¨`@Autowired`æ³¨å…¥

**ä½¿ç”¨ç¤ºä¾‹**ï¼š
```java
@Service
public class UserService {
    
    // ç›´æ¥æ³¨å…¥ä½¿ç”¨ï¼Œä¸ç”¨è‡ªå·±åˆ›å»ºï¼
    @Autowired
    private UserMapper userMapper;
    
    public User findById(int id) {
        return userMapper.selectById(id);  // ç›´æ¥è°ƒç”¨
    }
}
```

---

## 3. ğŸŒ Springç®¡ç†SpringMVC


### 3.1 SpringMVCçš„èŒè´£


**MVCä¸‰å±‚ç†è§£**ï¼š
```
ç”¨æˆ·æµè§ˆå™¨
    â†“
ã€Controller - æ§åˆ¶å™¨ã€‘  â† SpringMVCè´Ÿè´£è¿™ä¸€å±‚
    â†“                     æ¥æ”¶è¯·æ±‚ï¼Œè°ƒç”¨Service
ã€Service - ä¸šåŠ¡å±‚ã€‘    â† Springç®¡ç†çš„ä¸šåŠ¡é€»è¾‘
    â†“                     å¤„ç†ä¸šåŠ¡ï¼Œè°ƒç”¨Dao
ã€Dao/Mapper - æŒä¹…å±‚ã€‘ â† MyBatisè´Ÿè´£è¿™ä¸€å±‚
    â†“                     æ“ä½œæ•°æ®åº“
æ•°æ®åº“
```

### 3.2 SpringMVCåŸºç¡€é…ç½®


**web.xmlé…ç½®ï¼ˆä¼ ç»Ÿæ–¹å¼ï¼‰**ï¼š
```xml
<!-- é…ç½®Springçš„ç›‘å¬å™¨ -->
<listener>
    <listener-class>org.springframework.web.context.ContextLoaderListener</listener-class>
</listener>

<!-- æŒ‡å®šSpringé…ç½®æ–‡ä»¶ä½ç½® -->
<context-param>
    <param-name>contextConfigLocation</param-name>
    <param-value>classpath:applicationContext.xml</param-value>
</context-param>

<!-- é…ç½®SpringMVCçš„å‰ç«¯æ§åˆ¶å™¨ -->
<servlet>
    <servlet-name>dispatcherServlet</servlet-name>
    <servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>
    
    <!-- æŒ‡å®šSpringMVCé…ç½®æ–‡ä»¶ -->
    <init-param>
        <param-name>contextConfigLocation</param-name>
        <param-value>classpath:spring-mvc.xml</param-value>
    </init-param>
    
    <load-on-startup>1</load-on-startup>
</servlet>

<servlet-mapping>
    <servlet-name>dispatcherServlet</servlet-name>
    <url-pattern>/</url-pattern>
</servlet-mapping>
```

> ğŸ“Œ **é…ç½®ç†è§£**ï¼š
> - **ContextLoaderListener**ï¼šå¯åŠ¨æ—¶åŠ è½½Springå®¹å™¨ï¼ˆçˆ¶å®¹å™¨ï¼‰
> - **DispatcherServlet**ï¼šSpringMVCçš„æ ¸å¿ƒï¼Œåˆ›å»ºSpringMVCå®¹å™¨ï¼ˆå­å®¹å™¨ï¼‰

### 3.3 çˆ¶å­å®¹å™¨å…³ç³»


**å®¹å™¨å±‚æ¬¡å›¾**ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Springçˆ¶å®¹å™¨ï¼ˆapplicationContextï¼‰  â”‚
â”‚   ç®¡ç†ï¼šServiceã€Daoã€æ•°æ®æºã€äº‹åŠ¡     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚ çˆ¶å­å…³ç³»
                  â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   SpringMVCå­å®¹å™¨ï¼ˆwebApplicationContextï¼‰â”‚
â”‚   ç®¡ç†ï¼šControllerã€è§†å›¾è§£æå™¨         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

> ğŸ’¡ **å…³é”®ç†è§£**ï¼š
> - **å­å®¹å™¨å¯ä»¥è®¿é—®çˆ¶å®¹å™¨**ï¼šControllerå¯ä»¥æ³¨å…¥Service
> - **çˆ¶å®¹å™¨ä¸èƒ½è®¿é—®å­å®¹å™¨**ï¼šServiceä¸èƒ½æ³¨å…¥Controller
> - **å„å¸å…¶èŒ**ï¼šé¿å…èŒè´£æ··ä¹±

---

## 4. ğŸ“‚ é…ç½®æ–‡ä»¶åˆ†å±‚ç­–ç•¥


### 4.1 ä¸ºä»€ä¹ˆè¦åˆ†å±‚é…ç½®


**é—®é¢˜åœºæ™¯**ï¼š
```
âŒ æ‰€æœ‰é…ç½®å†™åœ¨ä¸€ä¸ªæ–‡ä»¶ï¼š
- é…ç½®æ–‡ä»¶è¶…çº§é•¿ï¼Œéš¾ä»¥ç»´æŠ¤
- æ‰¾ä¸ªé…ç½®è¦ç¿»åŠå¤©
- å›¢é˜Ÿåä½œå®¹æ˜“å†²çª

âœ… åˆ†å±‚é…ç½®ï¼š
- æ¯ä¸ªæ–‡ä»¶èŒè´£æ¸…æ™°
- ä¾¿äºæŸ¥æ‰¾å’Œä¿®æ”¹
- å›¢é˜Ÿåˆ†å·¥æ˜ç¡®
```

### 4.2 æ ‡å‡†é…ç½®æ–‡ä»¶ç»“æ„


**æ¨èçš„æ–‡ä»¶ç»„ç»‡**ï¼š
```
resources/
â”œâ”€ spring/
â”‚  â”œâ”€ applicationContext.xml        # ä¸»é…ç½®ï¼ˆæ€»è£…é…ï¼‰
â”‚  â”œâ”€ spring-dao.xml               # æŒä¹…å±‚é…ç½®
â”‚  â”œâ”€ spring-service.xml           # ä¸šåŠ¡å±‚é…ç½®
â”‚  â””â”€ spring-mvc.xml               # è¡¨ç°å±‚é…ç½®
â”œâ”€ mybatis/
â”‚  â””â”€ mybatis-config.xml           # MyBatisé…ç½®
â””â”€ mapper/
   â”œâ”€ UserMapper.xml
   â””â”€ OrderMapper.xml
```

### 4.3 å„é…ç½®æ–‡ä»¶èŒè´£


**ğŸ“„ spring-dao.xmlï¼ˆæŒä¹…å±‚é…ç½®ï¼‰**ï¼š
```xml
<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans">
    
    <!-- 1. æ•°æ®æºé…ç½® -->
    <bean id="dataSource" class="com.alibaba.druid.pool.DruidDataSource">
        <property name="driverClassName" value="${jdbc.driver}"/>
        <property name="url" value="${jdbc.url}"/>
        <property name="username" value="${jdbc.username}"/>
        <property name="password" value="${jdbc.password}"/>
    </bean>
    
    <!-- 2. SqlSessionFactoryé…ç½® -->
    <bean id="sqlSessionFactory" class="org.mybatis.spring.SqlSessionFactoryBean">
        <property name="dataSource" ref="dataSource"/>
        <property name="mapperLocations" value="classpath:mapper/*.xml"/>
    </bean>
    
    <!-- 3. Mapperæ‰«æé…ç½® -->
    <bean class="org.mybatis.spring.mapper.MapperScannerConfigurer">
        <property name="basePackage" value="com.example.mapper"/>
    </bean>
</beans>
```

**ğŸ“„ spring-service.xmlï¼ˆä¸šåŠ¡å±‚é…ç½®ï¼‰**ï¼š
```xml
<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans">
    
    <!-- æ‰«æServiceå±‚ç»„ä»¶ -->
    <context:component-scan base-package="com.example.service"/>
    
    <!-- äº‹åŠ¡ç®¡ç†å™¨ -->
    <bean id="transactionManager" 
          class="org.springframework.jdbc.datasource.DataSourceTransactionManager">
        <property name="dataSource" ref="dataSource"/>
    </bean>
    
    <!-- å¼€å¯æ³¨è§£äº‹åŠ¡ -->
    <tx:annotation-driven transaction-manager="transactionManager"/>
</beans>
```

**ğŸ“„ spring-mvc.xmlï¼ˆè¡¨ç°å±‚é…ç½®ï¼‰**ï¼š
```xml
<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans">
    
    <!-- æ‰«æControllerå±‚ -->
    <context:component-scan base-package="com.example.controller"/>
    
    <!-- æ³¨è§£é©±åŠ¨ -->
    <mvc:annotation-driven/>
    
    <!-- è§†å›¾è§£æå™¨ -->
    <bean class="org.springframework.web.servlet.view.InternalResourceViewResolver">
        <property name="prefix" value="/WEB-INF/views/"/>
        <property name="suffix" value=".jsp"/>
    </bean>
    
    <!-- é™æ€èµ„æºå¤„ç† -->
    <mvc:default-servlet-handler/>
</beans>
```

**ğŸ“„ applicationContext.xmlï¼ˆä¸»é…ç½®ï¼‰**ï¼š
```xml
<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans">
    
    <!-- åŠ è½½å±æ€§æ–‡ä»¶ -->
    <context:property-placeholder location="classpath:jdbc.properties"/>
    
    <!-- å¯¼å…¥å…¶ä»–é…ç½®æ–‡ä»¶ -->
    <import resource="classpath:spring/spring-dao.xml"/>
    <import resource="classpath:spring/spring-service.xml"/>
</beans>
```

---

## 5. ğŸ“¦ Beanç®¡ç†ä¸åŒ…æ‰«æ


### 5.1 åŒ…æ‰«æç­–ç•¥


**æ‰«æè§„åˆ™è®¾è®¡**ï¼š
```
é¡¹ç›®åŒ…ç»“æ„ï¼š
com.example
    â”œâ”€ controller/     â† SpringMVCæ‰«æ
    â”œâ”€ service/        â† Springæ‰«æ  
    â”œâ”€ mapper/         â† MapperScanneræ‰«æ
    â””â”€ entity/         â† ä¸éœ€è¦æ‰«æï¼ˆæ™®é€šJavaç±»ï¼‰
```

> âš ï¸ **é‡è¦åŸåˆ™**ï¼šé¿å…é‡å¤æ‰«æï¼Œå¦åˆ™Beanä¼šè¢«åˆ›å»ºå¤šæ¬¡ï¼

**æ­£ç¡®çš„æ‰«æé…ç½®**ï¼š

| é…ç½®æ–‡ä»¶ | æ‰«æåŒ… | è¯´æ˜ |
|---------|--------|------|
| `spring-mvc.xml` | `com.example.controller` | **åªæ‰«æ**Controllerå±‚ |
| `spring-service.xml` | `com.example.service` | **åªæ‰«æ**Serviceå±‚ |
| `spring-dao.xml` | `com.example.mapper` | é€šè¿‡MapperScanneræ‰«æ |

### 5.2 æ‰«æå†²çªé¿å…


**é”™è¯¯ç¤ºä¾‹âŒ**ï¼š
```xml
<!-- spring-service.xml -->
<context:component-scan base-package="com.example"/>  âŒ å¤ªå®½æ³›

<!-- spring-mvc.xml -->  
<context:component-scan base-package="com.example"/>  âŒ é‡å¤æ‰«æ
```

**æ­£ç¡®ç¤ºä¾‹âœ…**ï¼š
```xml
<!-- spring-service.xmlï¼šåªæ‰«æService -->
<context:component-scan base-package="com.example.service"/>

<!-- spring-mvc.xmlï¼šåªæ‰«æController -->
<context:component-scan base-package="com.example.controller"/>
```

### 5.3 Beanç®¡ç†æœ€ä½³å®è·µ


**Beanåˆ›å»ºå½’å±åŸåˆ™**ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SpringMVCå®¹å™¨ç®¡ç†ï¼š           â”‚
â”‚ â€¢ @Controller                â”‚
â”‚ â€¢ @RestController            â”‚
â”‚ â€¢ @ControllerAdvice          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Springå®¹å™¨ç®¡ç†ï¼š              â”‚
â”‚ â€¢ @Service                   â”‚
â”‚ â€¢ @Repository                â”‚
â”‚ â€¢ @Component                 â”‚
â”‚ â€¢ Mapperæ¥å£ä»£ç†å¯¹è±¡          â”‚
â”‚ â€¢ æ•°æ®æºã€äº‹åŠ¡ç®¡ç†å™¨           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

> ğŸ’¡ **è®°å¿†æŠ€å·§**ï¼š
> - **Controlleräº¤ç»™SpringMVCç®¡**ï¼ˆå¤„ç†è¯·æ±‚çš„ï¼‰
> - **ä¸šåŠ¡å’Œæ•°æ®äº¤ç»™Springç®¡**ï¼ˆæ ¸å¿ƒé€»è¾‘çš„ï¼‰

---

## 6. ğŸ” æ•°æ®æºä¸äº‹åŠ¡ç®¡ç†


### 6.1 æ•°æ®æºç»Ÿä¸€ç®¡ç†


**ä¸ºä»€ä¹ˆè¦ç»Ÿä¸€æ•°æ®æº**ï¼š
```
æ²¡æœ‰ç»Ÿä¸€æ•°æ®æºï¼š
MyBatisç”¨ä¸€ä¸ªè¿æ¥ â”€â”€â†’ æ•°æ®åº“
Springç”¨å¦ä¸€ä¸ªè¿æ¥ â”€â”€â†’ æ•°æ®åº“
SpringMVCåˆä¸€ä¸ªè¿æ¥ â”€â”€â†’ æ•°æ®åº“
âŒ æµªè´¹èµ„æºï¼Œæ— æ³•å…±äº«è¿æ¥æ± 

ç»Ÿä¸€æ•°æ®æºï¼š
æ‰€æœ‰æ¡†æ¶å…±ç”¨ä¸€ä¸ªæ•°æ®æº
âœ… èŠ‚çœèµ„æºï¼Œä¾¿äºç®¡ç†
```

**æ•°æ®æºé…ç½®ï¼ˆä»¥Druidä¸ºä¾‹ï¼‰**ï¼š
```xml
<!-- é…ç½®å±æ€§æ–‡ä»¶ -->
<context:property-placeholder location="classpath:jdbc.properties"/>

<!-- é…ç½®æ•°æ®æº -->
<bean id="dataSource" class="com.alibaba.druid.pool.DruidDataSource">
    <!-- åŸºç¡€é…ç½® -->
    <property name="driverClassName" value="${jdbc.driver}"/>
    <property name="url" value="${jdbc.url}"/>
    <property name="username" value="${jdbc.username}"/>
    <property name="password" value="${jdbc.password}"/>
    
    <!-- è¿æ¥æ± é…ç½® -->
    <property name="initialSize" value="5"/>      <!-- åˆå§‹è¿æ¥æ•° -->
    <property name="maxActive" value="20"/>       <!-- æœ€å¤§è¿æ¥æ•° -->
    <property name="minIdle" value="3"/>          <!-- æœ€å°ç©ºé—²è¿æ¥ -->
</bean>
```

**jdbc.propertiesé…ç½®æ–‡ä»¶**ï¼š
```properties
jdbc.driver=com.mysql.cj.jdbc.Driver
jdbc.url=jdbc:mysql://localhost:3306/mydb?useSSL=false&serverTimezone=Asia/Shanghai
jdbc.username=root
jdbc.password=123456
```

### 6.2 äº‹åŠ¡ç»Ÿä¸€ç®¡ç†


**äº‹åŠ¡ç®¡ç†é…ç½®**ï¼š
```xml
<!-- 1. é…ç½®äº‹åŠ¡ç®¡ç†å™¨ -->
<bean id="transactionManager" 
      class="org.springframework.jdbc.datasource.DataSourceTransactionManager">
    <!-- æ³¨å…¥æ•°æ®æº -->
    <property name="dataSource" ref="dataSource"/>
</bean>

<!-- 2. å¼€å¯æ³¨è§£äº‹åŠ¡æ”¯æŒ -->
<tx:annotation-driven transaction-manager="transactionManager"/>
```

**äº‹åŠ¡ä½¿ç”¨ç¤ºä¾‹**ï¼š
```java
@Service
public class OrderService {
    
    @Autowired
    private OrderMapper orderMapper;
    
    @Autowired
    private ProductMapper productMapper;
    
    // æ·»åŠ äº‹åŠ¡æ³¨è§£
    @Transactional
    public void createOrder(Order order) {
        // 1. åˆ›å»ºè®¢å•
        orderMapper.insert(order);
        
        // 2. å‡å°‘åº“å­˜
        productMapper.reduceStock(order.getProductId(), order.getQuantity());
        
        // å¦‚æœå‡ºç°å¼‚å¸¸ï¼Œä¸¤ä¸ªæ“ä½œéƒ½ä¼šå›æ»š
    }
}
```

> ğŸ“Œ **äº‹åŠ¡ç®¡ç†è¦ç‚¹**ï¼š
> - **ç»Ÿä¸€ç®¡ç†**ï¼šä¸€ä¸ªäº‹åŠ¡ç®¡ç†å™¨ç®¡ç†æ‰€æœ‰äº‹åŠ¡
> - **æ³¨è§£é©±åŠ¨**ï¼šä½¿ç”¨`@Transactional`å£°æ˜äº‹åŠ¡
> - **è‡ªåŠ¨å›æ»š**ï¼šå‡ºç°å¼‚å¸¸è‡ªåŠ¨å›æ»šï¼Œä¿è¯æ•°æ®ä¸€è‡´æ€§

### 6.3 æ•´åˆé…ç½®å…³ç³»å›¾


**å®Œæ•´é…ç½®å…³ç³»**ï¼š
```
jdbc.propertiesï¼ˆæ•°æ®åº“é…ç½®ï¼‰
        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   DataSourceï¼ˆæ•°æ®æºï¼‰        â”‚ â† Springåˆ›å»ºå¹¶ç®¡ç†
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“         â†“
    SqlSessionFactory  TransactionManager
           â”‚              â”‚
           â†“              â†“
      Mapperä»£ç†å¯¹è±¡    äº‹åŠ¡æ§åˆ¶
           â”‚              â”‚
           â†“              â†“
       Daoå±‚æ“ä½œ      Serviceå±‚äº‹åŠ¡
```

---

## 7. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 7.1 æ•´åˆé…ç½®æ ¸å¿ƒæ€è·¯


```
ğŸ¯ æ•´åˆä¸‰æ­¥èµ°ï¼š

æ­¥éª¤1ï¸âƒ£ Springæ¥ç®¡MyBatis
â€¢ åˆ›å»ºSqlSessionFactory
â€¢ æ‰«æMapperæ¥å£
â€¢ è‡ªåŠ¨åˆ›å»ºä»£ç†å¯¹è±¡

æ­¥éª¤2ï¸âƒ£ Springç®¡ç†SpringMVC  
â€¢ é…ç½®çˆ¶å­å®¹å™¨
â€¢ åˆ†å±‚æ‰«æç»„ä»¶
â€¢ å»ºç«‹åä½œå…³ç³»

æ­¥éª¤3ï¸âƒ£ ç»Ÿä¸€ç®¡ç†èµ„æº
â€¢ æ•°æ®æºç»Ÿä¸€é…ç½®
â€¢ äº‹åŠ¡ç»Ÿä¸€ç®¡ç†
â€¢ Beanç»Ÿä¸€è°ƒåº¦
```

### 7.2 é…ç½®æ–‡ä»¶èŒè´£æ¸…å•


| é…ç½®æ–‡ä»¶ | ä¸»è¦èŒè´£ | æ ¸å¿ƒé…ç½® |
|---------|---------|---------|
| **spring-dao.xml** | æŒä¹…å±‚ | æ•°æ®æºã€SqlSessionFactoryã€Mapperæ‰«æ |
| **spring-service.xml** | ä¸šåŠ¡å±‚ | Serviceæ‰«æã€äº‹åŠ¡ç®¡ç†å™¨ |
| **spring-mvc.xml** | è¡¨ç°å±‚ | Controlleræ‰«æã€è§†å›¾è§£æå™¨ |
| **applicationContext.xml** | æ€»è£…é… | å¯¼å…¥å…¶ä»–é…ç½®ã€å±æ€§æ–‡ä»¶åŠ è½½ |

### 7.3 å¿…è®°æ ¸å¿ƒé…ç½®


> ğŸ”‘ **SqlSessionFactoryBeanï¼ˆMyBatisæ ¸å¿ƒï¼‰**
> ```xml
> <bean class="org.mybatis.spring.SqlSessionFactoryBean">
>     <property name="dataSource" ref="dataSource"/>
>     <property name="mapperLocations" value="classpath:mapper/*.xml"/>
> </bean>
> ```

> ğŸ”‘ **MapperScannerConfigurerï¼ˆMapperæ‰«æï¼‰**
> ```xml
> <bean class="org.mybatis.spring.mapper.MapperScannerConfigurer">
>     <property name="basePackage" value="com.example.mapper"/>
> </bean>
> ```

> ğŸ”‘ **TransactionManagerï¼ˆäº‹åŠ¡ç®¡ç†ï¼‰**
> ```xml
> <bean class="org.springframework.jdbc.datasource.DataSourceTransactionManager">
>     <property name="dataSource" ref="dataSource"/>
> </bean>
> ```

### 7.4 å¸¸è§é—®é¢˜æ£€æŸ¥æ¸…å•


**æ•´åˆæ’æŸ¥æ¸…å•**ï¼š
- [ ] æ•°æ®æºé…ç½®æ˜¯å¦æ­£ç¡®
- [ ] SqlSessionFactoryæ˜¯å¦æ³¨å…¥æ•°æ®æº
- [ ] Mapperæ‰«æåŒ…è·¯å¾„æ˜¯å¦æ­£ç¡®
- [ ] åŒ…æ‰«ææ˜¯å¦æœ‰é‡å¤
- [ ] çˆ¶å­å®¹å™¨é…ç½®æ˜¯å¦æ­£ç¡®
- [ ] äº‹åŠ¡ç®¡ç†å™¨æ˜¯å¦é…ç½®
- [ ] mapper.xmlæ–‡ä»¶è·¯å¾„æ˜¯å¦æ­£ç¡®

> ğŸ’¡ **æ ¸å¿ƒç†è§£**ï¼š
> - SSMæ•´åˆçš„æœ¬è´¨æ˜¯**è®©Springåšä¸­å¿ƒè°ƒåº¦**
> - é…ç½®åˆ†å±‚çš„ç›®çš„æ˜¯**èŒè´£æ¸…æ™°ï¼Œä¾¿äºç»´æŠ¤**
> - ç»Ÿä¸€ç®¡ç†çš„å¥½å¤„æ˜¯**èµ„æºå…±äº«ï¼ŒååŒå·¥ä½œ**

**ğŸ§  è®°å¿†å£è¯€**ï¼š
```
SSMæ•´åˆä¸‰æ­¥èµ°ï¼ŒSpringç®¡ç†æ˜¯æ ¸å¿ƒ
MyBatisäº¤ç»™SqlSessionFactory
SpringMVCé…ç½®çˆ¶å­å®¹å™¨åˆ†
æ•°æ®æºç»Ÿä¸€äº‹åŠ¡ç»Ÿä¸€ç®¡
åŒ…æ‰«ææ¸…æ™°ä¸é‡å¤
é…ç½®åˆ†å±‚èŒè´£æ˜
```