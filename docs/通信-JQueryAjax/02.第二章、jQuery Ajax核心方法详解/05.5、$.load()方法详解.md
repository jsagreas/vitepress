---
title: 5ã€$.load()æ–¹æ³•è¯¦è§£
---
## ğŸ“š ç›®å½•

1. [$.load()æ˜¯ä»€ä¹ˆ](#1-loadæ˜¯ä»€ä¹ˆ)
2. [åŸºæœ¬è¯­æ³•å’Œä½¿ç”¨](#2-åŸºæœ¬è¯­æ³•å’Œä½¿ç”¨)
3. [é€‰æ‹©å™¨è¿‡æ»¤æŠ€å·§](#3-é€‰æ‹©å™¨è¿‡æ»¤æŠ€å·§)
4. [å›è°ƒå‡½æ•°è¯¦è§£](#4-å›è°ƒå‡½æ•°è¯¦è§£)
5. [ä¸å…¶ä»–Ajaxæ–¹æ³•çš„åŒºåˆ«](#5-ä¸å…¶ä»–ajaxæ–¹æ³•çš„åŒºåˆ«)
6. [å®é™…åº”ç”¨åœºæ™¯](#6-å®é™…åº”ç”¨åœºæ™¯)
7. [æ³¨æ„äº‹é¡¹å’Œæœ€ä½³å®è·µ](#7-æ³¨æ„äº‹é¡¹å’Œæœ€ä½³å®è·µ)
8. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#8-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ¯ $.load()æ˜¯ä»€ä¹ˆ


### 1.1 é€šä¿—ç†è§£

**$.load()å°±åƒä¸€ä¸ª"æ¬è¿å·¥"**ï¼Œå®ƒçš„å·¥ä½œæ˜¯ä»æœåŠ¡å™¨ä¸ŠæŠŠHTMLå†…å®¹æ¬åˆ°ä½ çš„ç½‘é¡µé‡Œã€‚

```
æƒ³è±¡ä¸€ä¸‹ï¼š
ä½ çš„ç½‘é¡µæ˜¯ä¸€ä¸ªæˆ¿é—´ ğŸ 
æœåŠ¡å™¨ä¸Šæœ‰å¾ˆå¤šHTMLæ–‡ä»¶ ğŸ“„ğŸ“„ğŸ“„
$.load()å°±æ˜¯æ¬è¿å·¥ ğŸšš
å®ƒæŠŠä½ è¦çš„HTMLå†…å®¹ç›´æ¥æ¬åˆ°æˆ¿é—´çš„æŒ‡å®šä½ç½®
```

> ğŸ’¡ **æ ¸å¿ƒæ¦‚å¿µ**ï¼š$.load()æ˜¯jQueryæœ€ç®€å•çš„Ajaxæ–¹æ³•ï¼Œä¸“é—¨ç”¨æ¥åŠ è½½HTMLå†…å®¹å¹¶ç›´æ¥æ’å…¥åˆ°é¡µé¢å…ƒç´ ä¸­

### 1.2 ä¸ºä»€ä¹ˆè¦ç”¨$.load()

ä¼ ç»Ÿæ–¹å¼åŠ è½½å†…å®¹çš„é—®é¢˜ï¼š
- âŒ æ•´ä¸ªé¡µé¢éƒ½è¦åˆ·æ–°
- âŒ ç”¨æˆ·ä½“éªŒä¸å¥½ï¼Œé¡µé¢ä¼šé—ªçƒ
- âŒ æµªè´¹æµé‡ï¼Œé‡å¤åŠ è½½ç›¸åŒå†…å®¹

$.load()çš„ä¼˜åŠ¿ï¼š
- âœ… åªåŠ è½½éœ€è¦çš„éƒ¨åˆ†å†…å®¹
- âœ… é¡µé¢ä¸åˆ·æ–°ï¼Œç”¨æˆ·ä½“éªŒæµç•…
- âœ… èŠ‚çœæµé‡ï¼ŒæŒ‰éœ€åŠ è½½

### 1.3 å·¥ä½œåŸç†ç¤ºæ„å›¾

```
ç”¨æˆ·ç‚¹å‡»æŒ‰é’®
      â†“
   $.load()å‘èµ·è¯·æ±‚
      â†“
    æœåŠ¡å™¨å“åº”HTML
      â†“
   ç›´æ¥æ’å…¥åˆ°æŒ‡å®šå…ƒç´ 
      â†“
    é¡µé¢å†…å®¹æ›´æ–°
```

---

## 2. ğŸ“ åŸºæœ¬è¯­æ³•å’Œä½¿ç”¨


### 2.1 åŸºæœ¬è¯­æ³•æ ¼å¼

```javascript
$(selector).load(url, data, callback)
```

**å‚æ•°è¯´æ˜**ï¼š
- **selector**ï¼šè¦æ’å…¥å†…å®¹çš„ç›®æ ‡å…ƒç´ 
- **url**ï¼šè¦åŠ è½½çš„æ–‡ä»¶åœ°å€
- **data**ï¼šå‘é€ç»™æœåŠ¡å™¨çš„æ•°æ®ï¼ˆå¯é€‰ï¼‰
- **callback**ï¼šåŠ è½½å®Œæˆåçš„å›è°ƒå‡½æ•°ï¼ˆå¯é€‰ï¼‰

### 2.2 æœ€ç®€å•çš„ä½¿ç”¨ç¤ºä¾‹

```html
<!-- ç›®æ ‡å®¹å™¨ -->
<div id="content">è¿™é‡Œçš„å†…å®¹å°†è¢«æ›¿æ¢</div>
<button id="loadBtn">åŠ è½½å†…å®¹</button>
```

```javascript
// ç‚¹å‡»æŒ‰é’®åŠ è½½å†…å®¹
$("#loadBtn").click(function() {
    $("#content").load("data.html");
});
```

**è§£é‡Š**ï¼š
- ç‚¹å‡»æŒ‰é’®æ—¶ï¼Œå»æœåŠ¡å™¨åŠ è½½`data.html`æ–‡ä»¶
- æŠŠæ–‡ä»¶å†…å®¹ç›´æ¥æ”¾åˆ°`#content`å…ƒç´ é‡Œ
- åŸæ¥çš„å†…å®¹ä¼šè¢«å®Œå…¨æ›¿æ¢

### 2.3 å¸¦æ•°æ®çš„è¯·æ±‚

```javascript
// å‘é€æ•°æ®ç»™æœåŠ¡å™¨
$("#content").load("user.php", {
    userId: 123,
    action: "getProfile"
});
```

> ğŸ“ **è¯´æ˜**ï¼šå½“ä¼ é€’æ•°æ®æ—¶ï¼Œ$.load()ä¼šè‡ªåŠ¨ä½¿ç”¨POSTæ–¹æ³•å‘é€è¯·æ±‚

### 2.4 å®é™…æ•ˆæœå¯¹æ¯”


**åŠ è½½å‰**ï¼š
```html
<div id="news">
    <p>æ­£åœ¨åŠ è½½æ–°é—»...</p>
</div>
```

**åŠ è½½å**ï¼š
```html
<div id="news">
    <h3>ä»Šæ—¥å¤´æ¡</h3>
    <p>è¿™æ˜¯ä»æœåŠ¡å™¨åŠ è½½çš„æ–°é—»å†…å®¹</p>
    <p>å‘å¸ƒæ—¶é—´ï¼š2025-01-15</p>
</div>
```

---

## 3. ğŸ” é€‰æ‹©å™¨è¿‡æ»¤æŠ€å·§


### 3.1 ä»€ä¹ˆæ˜¯é€‰æ‹©å™¨è¿‡æ»¤

**é€šä¿—ç†è§£**ï¼šå°±åƒä½ å»èœå¸‚åœºä¹°èœï¼Œä½ åªè¦ç™½èœï¼Œä¸è¦å…¶ä»–è”¬èœã€‚é€‰æ‹©å™¨è¿‡æ»¤å°±æ˜¯åªè¦HTMLæ–‡ä»¶ä¸­çš„æŸä¸€éƒ¨åˆ†ã€‚

### 3.2 è¿‡æ»¤è¯­æ³•

```javascript
$(selector).load(url + " " + filter_selector)
```

æ³¨æ„ï¼š**urlå’Œé€‰æ‹©å™¨ä¹‹é—´è¦æœ‰ä¸€ä¸ªç©ºæ ¼**

### 3.3 å®é™…åº”ç”¨ç¤ºä¾‹


å‡è®¾æœåŠ¡å™¨ä¸Šæœ‰ä¸ª`article.html`æ–‡ä»¶ï¼š
```html
<!DOCTYPE html>
<html>
<head>
    <title>æ–‡ç« é¡µé¢</title>
</head>
<body>
    <div id="header">ç½‘ç«™å¤´éƒ¨</div>
    <div id="main">
        <h1>æ–‡ç« æ ‡é¢˜</h1>
        <p>æ–‡ç« å†…å®¹...</p>
    </div>
    <div id="footer">ç½‘ç«™åº•éƒ¨</div>
</body>
</html>
```

**åªåŠ è½½æ–‡ç« å†…å®¹éƒ¨åˆ†**ï¼š
```javascript
// åªè¦#mainéƒ¨åˆ†ï¼Œä¸è¦å¤´éƒ¨å’Œåº•éƒ¨
$("#content").load("article.html #main");
```

**ç»“æœ**ï¼šåªæœ‰è¿™éƒ¨åˆ†å†…å®¹è¢«åŠ è½½åˆ°é¡µé¢
```html
<div id="main">
    <h1>æ–‡ç« æ ‡é¢˜</h1>
    <p>æ–‡ç« å†…å®¹...</p>
</div>
```

### 3.4 å¤šç§è¿‡æ»¤æ–¹å¼


| è¿‡æ»¤æ–¹å¼ | è¯­æ³•ç¤ºä¾‹ | è¯´æ˜ |
|---------|---------|------|
| **IDé€‰æ‹©å™¨** | `"page.html #content"` | åªåŠ è½½IDä¸ºcontentçš„å…ƒç´  |
| **ç±»é€‰æ‹©å™¨** | `"page.html .article"` | åªåŠ è½½classä¸ºarticleçš„å…ƒç´  |
| **æ ‡ç­¾é€‰æ‹©å™¨** | `"page.html h1"` | åªåŠ è½½æ‰€æœ‰h1æ ‡ç­¾ |
| **å±æ€§é€‰æ‹©å™¨** | `"page.html [data-role='main']"` | åªåŠ è½½ç‰¹å®šå±æ€§çš„å…ƒç´  |

### 3.5 è¿‡æ»¤çš„å®ç”¨åœºæ™¯

```javascript
// åœºæ™¯1ï¼šåªåŠ è½½æ–‡ç« æ­£æ–‡ï¼Œä¸è¦å¹¿å‘Šå’Œå¯¼èˆª
$("#article").load("blog.html .post-content");

// åœºæ™¯2ï¼šåªåŠ è½½ç”¨æˆ·ä¿¡æ¯ï¼Œä¸è¦æ•´ä¸ªé¡µé¢
$("#userInfo").load("profile.html .user-details");

// åœºæ™¯3ï¼šåªåŠ è½½å•†å“åˆ—è¡¨ï¼Œä¸è¦é¡µé¢å…¶ä»–å†…å®¹
$("#products").load("shop.html .product-list");
```

---

## 4. ğŸ”„ å›è°ƒå‡½æ•°è¯¦è§£


### 4.1 ä»€ä¹ˆæ˜¯å›è°ƒå‡½æ•°

**é€šä¿—ç†è§£**ï¼šå›è°ƒå‡½æ•°å°±åƒ"å®Œå·¥é€šçŸ¥"ã€‚å½“$.load()å®Œæˆå·¥ä½œåï¼Œä¼šé€šçŸ¥ä½ "æˆ‘å¹²å®Œäº†"ï¼Œç„¶åä½ å¯ä»¥åšåç»­çš„äº‹æƒ…ã€‚

### 4.2 å›è°ƒå‡½æ•°çš„å‚æ•°

```javascript
$("#content").load("data.html", function(responseText, textStatus, xhr) {
    // responseText: æœåŠ¡å™¨è¿”å›çš„å†…å®¹
    // textStatus: è¯·æ±‚çŠ¶æ€ ("success", "error", "timeout")
    // xhr: åŸå§‹çš„XMLHttpRequestå¯¹è±¡
});
```

### 4.3 æˆåŠŸåŠ è½½çš„å¤„ç†

```javascript
$("#content").load("news.html", function(response, status) {
    if (status === "success") {
        console.log("æ–°é—»åŠ è½½æˆåŠŸï¼");
        // å¯ä»¥åšä¸€äº›åç»­æ“ä½œ
        $(".loading").hide(); // éšè—åŠ è½½æç¤º
        $("#content").fadeIn(); // æ·¡å…¥æ˜¾ç¤ºå†…å®¹
    }
});
```

### 4.4 é”™è¯¯å¤„ç†

```javascript
$("#content").load("data.html", function(response, status, xhr) {
    if (status === "error") {
        console.log("åŠ è½½å¤±è´¥ï¼š" + xhr.status + " " + xhr.statusText);
        $("#content").html("<p>å†…å®¹åŠ è½½å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•</p>");
    }
});
```

### 4.5 å®Œæ•´çš„å›è°ƒå¤„ç†ç¤ºä¾‹

```javascript
// æ˜¾ç¤ºåŠ è½½æç¤º
$("#content").html("<p>æ­£åœ¨åŠ è½½...</p>");

// åŠ è½½å†…å®¹
$("#content").load("article.html #main", function(response, status) {
    if (status === "success") {
        // âœ… æˆåŠŸï¼šæ·»åŠ ä¸€äº›åŠ¨ç”»æ•ˆæœ
        $("#content").hide().fadeIn(500);
        console.log("å†…å®¹åŠ è½½å®Œæˆ");
    } else if (status === "error") {
        // âŒ å¤±è´¥ï¼šæ˜¾ç¤ºå‹å¥½çš„é”™è¯¯ä¿¡æ¯
        $("#content").html(`
            <div class="error">
                <p>ğŸ˜… å†…å®¹åŠ è½½å¤±è´¥</p>
                <button onclick="location.reload()">é‡è¯•</button>
            </div>
        `);
    }
});
```

### 4.6 å›è°ƒå‡½æ•°çš„å®ç”¨æŠ€å·§

```javascript
// æŠ€å·§1ï¼šé“¾å¼æ“ä½œ
$("#content")
    .load("data.html")
    .addClass("loaded")
    .slideDown();

// æŠ€å·§2ï¼šåŠ è½½å®Œæˆååˆå§‹åŒ–æ’ä»¶
$("#gallery").load("photos.html", function() {
    // é‡æ–°åˆå§‹åŒ–å›¾ç‰‡è½®æ’­æ’ä»¶
    $(".slider").initSlider();
});

// æŠ€å·§3ï¼šæ›´æ–°å…¶ä»–ç›¸å…³å…ƒç´ 
$("#articles").load("blog.html .post", function() {
    // æ›´æ–°æ–‡ç« è®¡æ•°
    $("#articleCount").text($(".post").length);
});
```

---

## 5. âš–ï¸ ä¸å…¶ä»–Ajaxæ–¹æ³•çš„åŒºåˆ«


### 5.1 jQuery Ajaxæ–¹æ³•å¯¹æ¯”è¡¨


| æ–¹æ³• | ä¸»è¦ç”¨é€” | è¿”å›ç»“æœ | æ“ä½œæ–¹å¼ |
|------|---------|---------|---------|
| **$.load()** | åŠ è½½HTMLå†…å®¹ | ç›´æ¥æ’å…¥é¡µé¢ | ğŸ¯ **æœ€ç®€å•ç›´æ¥** |
| **$.get()** | è·å–æ•°æ® | éœ€è¦æ‰‹åŠ¨å¤„ç† | éœ€è¦ç¼–å†™æ›´å¤šä»£ç  |
| **$.post()** | å‘é€æ•°æ® | éœ€è¦æ‰‹åŠ¨å¤„ç† | çµæ´»æ€§æ›´é«˜ |
| **$.ajax()** | å…¨åŠŸèƒ½è¯·æ±‚ | éœ€è¦æ‰‹åŠ¨å¤„ç† | åŠŸèƒ½æœ€å…¨é¢ |

### 5.2 å®é™…å¯¹æ¯”ç¤ºä¾‹


**ä½¿ç”¨$.load()** - â­ ç®€å•ç›´æ¥
```javascript
// ä¸€è¡Œä»£ç æå®š
$("#content").load("data.html");
```

**ä½¿ç”¨$.get()** - éœ€è¦æ›´å¤šæ­¥éª¤
```javascript
$.get("data.html", function(data) {
    $("#content").html(data); // éœ€è¦æ‰‹åŠ¨æ’å…¥
});
```

**ä½¿ç”¨$.ajax()** - åŠŸèƒ½å…¨é¢ä½†å¤æ‚
```javascript
$.ajax({
    url: "data.html",
    type: "GET",
    success: function(data) {
        $("#content").html(data); // éœ€è¦æ‰‹åŠ¨æ’å…¥
    },
    error: function() {
        console.log("è¯·æ±‚å¤±è´¥");
    }
});
```

### 5.3 ä»€ä¹ˆæ—¶å€™ç”¨$.load()


**âœ… é€‚åˆç”¨$.load()çš„åœºæ™¯**ï¼š
- åŠ è½½HTMLç‰‡æ®µåˆ°é¡µé¢ä¸­
- å®ç°ç®€å•çš„å†…å®¹æ›¿æ¢
- å±€éƒ¨åˆ·æ–°é¡µé¢å†…å®¹
- å¿«é€ŸåŸå‹å¼€å‘

**âŒ ä¸é€‚åˆç”¨$.load()çš„åœºæ™¯**ï¼š
- éœ€è¦å¤„ç†JSONæ•°æ®
- éœ€è¦å¤æ‚çš„é”™è¯¯å¤„ç†
- éœ€è¦è®¾ç½®ç‰¹æ®Šçš„è¯·æ±‚å¤´
- éœ€è¦ä¸Šä¼ æ–‡ä»¶

### 5.4 é€‰æ‹©å»ºè®®æµç¨‹å›¾

```
éœ€è¦åŠ è½½å†…å®¹ï¼Ÿ
      â†“
   æ˜¯HTMLå†…å®¹å—ï¼Ÿ
      â†“ æ˜¯
   ç›´æ¥æ’å…¥é¡µé¢å—ï¼Ÿ
      â†“ æ˜¯
   ä½¿ç”¨ $.load() âœ…
      
   å¦‚æœä»»ä½•ä¸€æ­¥æ˜¯"å¦"
      â†“
   è€ƒè™‘å…¶ä»–Ajaxæ–¹æ³•
```

---

## 6. ğŸš€ å®é™…åº”ç”¨åœºæ™¯


### 6.1 åŠ¨æ€åŠ è½½é¡µé¢å†…å®¹


**åœºæ™¯**ï¼šæ–°é—»ç½‘ç«™çš„æ–‡ç« é˜…è¯»é¡µé¢
```html
<!-- æ–‡ç« åˆ—è¡¨ -->
<div class="article-list">
    <div class="article-item" data-id="1">æ–°é—»æ ‡é¢˜1</div>
    <div class="article-item" data-id="2">æ–°é—»æ ‡é¢˜2</div>
</div>

<!-- æ–‡ç« å†…å®¹æ˜¾ç¤ºåŒºåŸŸ -->
<div id="articleContent">
    <p>ç‚¹å‡»å·¦ä¾§æ–‡ç« æŸ¥çœ‹å†…å®¹</p>
</div>
```

```javascript
// ç‚¹å‡»æ–‡ç« æ—¶åŠ¨æ€åŠ è½½å†…å®¹
$(".article-item").click(function() {
    var articleId = $(this).data("id");
    
    // æ˜¾ç¤ºåŠ è½½çŠ¶æ€
    $("#articleContent").html("ğŸ“° æ­£åœ¨åŠ è½½æ–‡ç« ...");
    
    // åŠ è½½æ–‡ç« å†…å®¹
    $("#articleContent").load(`article.php?id=${articleId} .content`, function(response, status) {
        if (status === "success") {
            // é«˜äº®å½“å‰é€‰ä¸­çš„æ–‡ç« 
            $(".article-item").removeClass("active");
            $(this).addClass("active");
        }
    });
});
```

### 6.2 é€‰é¡¹å¡å†…å®¹åŠ è½½


**åœºæ™¯**ï¼šäº§å“è¯¦æƒ…é¡µçš„ä¸åŒé€‰é¡¹å¡
```html
<div class="tabs">
    <div class="tab" data-content="description">å•†å“æè¿°</div>
    <div class="tab" data-content="reviews">ç”¨æˆ·è¯„ä»·</div>
    <div class="tab" data-content="shipping">é…é€ä¿¡æ¯</div>
</div>

<div id="tabContent">
    <!-- è¿™é‡Œæ˜¾ç¤ºé€‰é¡¹å¡å†…å®¹ -->
</div>
```

```javascript
$(".tab").click(function() {
    var contentType = $(this).data("content");
    
    // åˆ‡æ¢é€‰é¡¹å¡æ ·å¼
    $(".tab").removeClass("active");
    $(this).addClass("active");
    
    // åŠ è½½å¯¹åº”å†…å®¹
    $("#tabContent").load(`product-details.html .${contentType}`);
});
```

### 6.3 è¡¨å•æäº¤ååˆ·æ–°åˆ—è¡¨


**åœºæ™¯**ï¼šæ·»åŠ è¯„è®ºååˆ·æ–°è¯„è®ºåˆ—è¡¨
```html
<form id="commentForm">
    <textarea name="comment" placeholder="å†™ä¸‹ä½ çš„è¯„è®º"></textarea>
    <button type="submit">æäº¤è¯„è®º</button>
</form>

<div id="commentList">
    <!-- è¯„è®ºåˆ—è¡¨ -->
</div>
```

```javascript
$("#commentForm").submit(function(e) {
    e.preventDefault();
    
    // æäº¤è¯„è®º
    $.post("add-comment.php", $(this).serialize(), function(response) {
        if (response.success) {
            // æäº¤æˆåŠŸåé‡æ–°åŠ è½½è¯„è®ºåˆ—è¡¨
            $("#commentList").load("comments.html .comment-list");
            
            // æ¸…ç©ºè¡¨å•
            $("#commentForm")[0].reset();
            
            // æ˜¾ç¤ºæˆåŠŸæç¤º
            alert("è¯„è®ºæäº¤æˆåŠŸï¼");
        }
    }, "json");
});
```

### 6.4 æ— é™æ»šåŠ¨åŠ è½½


**åœºæ™¯**ï¼šç¤¾äº¤åª’ä½“çš„åŠ¨æ€æµ
```html
<div id="feedContainer">
    <!-- å·²æœ‰çš„åŠ¨æ€å†…å®¹ -->
</div>
<div id="loadMore" style="text-align: center; padding: 20px;">
    <button>åŠ è½½æ›´å¤š</button>
</div>
```

```javascript
var currentPage = 1;

$("#loadMore button").click(function() {
    var $button = $(this);
    $button.text("åŠ è½½ä¸­...").prop("disabled", true);
    
    // åˆ›å»ºä¸´æ—¶å®¹å™¨
    var $temp = $("<div>");
    
    // åŠ è½½ä¸‹ä¸€é¡µå†…å®¹
    $temp.load(`feed.php?page=${currentPage + 1} .feed-item`, function(response, status) {
        if (status === "success") {
            // å¦‚æœæœ‰å†…å®¹å°±æ·»åŠ åˆ°å®¹å™¨ä¸­
            if ($temp.find(".feed-item").length > 0) {
                $("#feedContainer").append($temp.html());
                currentPage++;
                $button.text("åŠ è½½æ›´å¤š").prop("disabled", false);
            } else {
                // æ²¡æœ‰æ›´å¤šå†…å®¹äº†
                $("#loadMore").html("<p>æ²¡æœ‰æ›´å¤šå†…å®¹äº†</p>");
            }
        }
    });
});
```

---

## 7. âš ï¸ æ³¨æ„äº‹é¡¹å’Œæœ€ä½³å®è·µ


### 7.1 è·¨åŸŸé—®é¢˜


> ğŸš¨ **é‡è¦æé†’**ï¼š$.load()ä¸èƒ½ç›´æ¥åŠ è½½å…¶ä»–åŸŸåçš„å†…å®¹

**é—®é¢˜ç¤ºä¾‹**ï¼š
```javascript
// âŒ è¿™æ ·ä¼šå¤±è´¥ï¼ˆè·¨åŸŸï¼‰
$("#content").load("https://other-site.com/data.html");
```

**è§£å†³æ–¹æ¡ˆ**ï¼š
```javascript
// âœ… é€šè¿‡è‡ªå·±çš„æœåŠ¡å™¨ä»£ç†
$("#content").load("/proxy.php?url=https://other-site.com/data.html");

// âœ… ä½¿ç”¨CORSï¼ˆéœ€è¦æœåŠ¡å™¨æ”¯æŒï¼‰
$.ajaxSetup({
    crossDomain: true,
    xhrFields: {
        withCredentials: true
    }
});
```

### 7.2 æ€§èƒ½ä¼˜åŒ–å»ºè®®


**ç¼“å­˜ç­–ç•¥**ï¼š
```javascript
// é¿å…é‡å¤åŠ è½½ç›¸åŒå†…å®¹
var cache = {};

function loadContent(url, target) {
    if (cache[url]) {
        $(target).html(cache[url]);
        return;
    }
    
    $(target).load(url, function(response, status) {
        if (status === "success") {
            cache[url] = response;
        }
    });
}
```

**åŠ è½½çŠ¶æ€æç¤º**ï¼š
```javascript
// å¥½çš„ç”¨æˆ·ä½“éªŒ
$("#content").html('<div class="loading">ğŸ”„ æ­£åœ¨åŠ è½½...</div>');
$("#content").load("data.html", function(response, status) {
    if (status === "error") {
        $(this).html('<div class="error">ğŸ˜… åŠ è½½å¤±è´¥ï¼Œè¯·é‡è¯•</div>');
    }
});
```

### 7.3 å¸¸è§é”™è¯¯å’Œè§£å†³æ–¹æ¡ˆ


**é”™è¯¯1ï¼šé€‰æ‹©å™¨è¯­æ³•é”™è¯¯**
```javascript
// âŒ é”™è¯¯ï¼šæ²¡æœ‰ç©ºæ ¼
$("#content").load("page.html#main");

// âœ… æ­£ç¡®ï¼šURLå’Œé€‰æ‹©å™¨ä¹‹é—´è¦æœ‰ç©ºæ ¼
$("#content").load("page.html #main");
```

**é”™è¯¯2ï¼šæ–‡ä»¶è·¯å¾„é—®é¢˜**
```javascript
// âŒ å¯èƒ½æ‰¾ä¸åˆ°æ–‡ä»¶
$("#content").load("data.html");

// âœ… ä½¿ç”¨ç»å¯¹è·¯å¾„æ›´å¯é 
$("#content").load("/static/data.html");
```

**é”™è¯¯3ï¼šå¿˜è®°å¤„ç†åŠ è½½å¤±è´¥**
```javascript
// âŒ æ²¡æœ‰é”™è¯¯å¤„ç†
$("#content").load("data.html");

// âœ… æ·»åŠ é”™è¯¯å¤„ç†
$("#content").load("data.html", function(response, status) {
    if (status === "error") {
        $(this).html("å†…å®¹åŠ è½½å¤±è´¥");
    }
});
```

### 7.4 å®‰å…¨æ³¨æ„äº‹é¡¹


> âš ï¸ **å®‰å…¨æé†’**ï¼šåŠ è½½çš„HTMLå†…å®¹å¯èƒ½åŒ…å«æ¶æ„è„šæœ¬

**é˜²èŒƒæªæ–½**ï¼š
```javascript
// å¦‚æœä¸ä¿¡ä»»åŠ è½½çš„å†…å®¹ï¼Œå¯ä»¥è¿‡æ»¤è„šæœ¬
$("#content").load("untrusted.html", function() {
    // ç§»é™¤æ‰€æœ‰scriptæ ‡ç­¾
    $("#content script").remove();
});
```

---

## 8. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 8.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ

```
ğŸ”¸ $.load()çš„æœ¬è´¨ï¼šæœ€ç®€å•çš„Ajaxæ–¹æ³•ï¼Œä¸“é—¨åŠ è½½HTMLå†…å®¹
ğŸ”¸ åŸºæœ¬è¯­æ³•ï¼š$(selector).load(url, data, callback)
ğŸ”¸ é€‰æ‹©å™¨è¿‡æ»¤ï¼šåªåŠ è½½HTMLæ–‡ä»¶çš„æŸä¸€éƒ¨åˆ†
ğŸ”¸ å›è°ƒå‡½æ•°ï¼šå¤„ç†åŠ è½½å®Œæˆåçš„æ“ä½œå’Œé”™è¯¯
ğŸ”¸ åº”ç”¨åœºæ™¯ï¼šåŠ¨æ€å†…å®¹åŠ è½½ã€é€‰é¡¹å¡ã€æ— é™æ»šåŠ¨
```

### 8.2 å…³é”®è®°å¿†è¦ç‚¹


**ğŸ”¹ $.load()çš„ç‰¹ç‚¹**
```
ä¼˜ç‚¹ï¼š
âœ… è¯­æ³•ç®€å•ï¼Œä¸€è¡Œä»£ç æå®š
âœ… è‡ªåŠ¨æ’å…¥å†…å®¹ï¼Œæ— éœ€æ‰‹åŠ¨æ“ä½œ
âœ… æ”¯æŒé€‰æ‹©å™¨è¿‡æ»¤
âœ… é€‚åˆå¿«é€Ÿå¼€å‘

é™åˆ¶ï¼š
âŒ åªèƒ½å¤„ç†HTMLå†…å®¹
âŒ åŠŸèƒ½ç›¸å¯¹å•ä¸€
âŒ ä¸æ”¯æŒè·¨åŸŸ
```

**ğŸ”¹ ä½¿ç”¨åœºæ™¯åˆ¤æ–­**
```
ä»€ä¹ˆæ—¶å€™ç”¨$.load()ï¼š
â€¢ éœ€è¦åŠ è½½HTMLç‰‡æ®µ â†’ ç”¨$.load()
â€¢ å†…å®¹ç›´æ¥æ’å…¥é¡µé¢ â†’ ç”¨$.load()
â€¢ ç®€å•çš„å†…å®¹æ›¿æ¢ â†’ ç”¨$.load()

ä»€ä¹ˆæ—¶å€™ä¸ç”¨$.load()ï¼š
â€¢ éœ€è¦å¤„ç†JSONæ•°æ® â†’ ç”¨$.get()æˆ–$.ajax()
â€¢ éœ€è¦å¤æ‚çš„æ•°æ®å¤„ç† â†’ ç”¨$.ajax()
â€¢ éœ€è¦ä¸Šä¼ æ–‡ä»¶ â†’ ç”¨$.ajax()
```

**ğŸ”¹ è¯­æ³•è¦ç‚¹**
```
é€‰æ‹©å™¨è¿‡æ»¤è¯­æ³•ï¼š
"url é€‰æ‹©å™¨" â† ä¸­é—´è¦æœ‰ç©ºæ ¼ï¼

å›è°ƒå‡½æ•°å‚æ•°ï¼š
function(response, status, xhr)
â€¢ responseï¼šè¿”å›çš„å†…å®¹
â€¢ statusï¼šæˆåŠŸæˆ–å¤±è´¥
â€¢ xhrï¼šåŸå§‹è¯·æ±‚å¯¹è±¡
```

### 8.3 å®é™…åº”ç”¨ä»·å€¼

- **å¿«é€Ÿå¼€å‘**ï¼šå‡å°‘ä»£ç é‡ï¼Œæé«˜å¼€å‘æ•ˆç‡
- **ç”¨æˆ·ä½“éªŒ**ï¼šé¡µé¢æ— åˆ·æ–°ï¼Œå†…å®¹åŠ¨æ€åŠ è½½
- **æ€§èƒ½ä¼˜åŒ–**ï¼šæŒ‰éœ€åŠ è½½ï¼ŒèŠ‚çœå¸¦å®½
- **ä»£ç ç»´æŠ¤**ï¼šé€»è¾‘ç®€å•ï¼Œæ˜“äºç†è§£å’Œç»´æŠ¤

### 8.4 å­¦ä¹ å»ºè®®

1. **â­ åŸºç¡€ç»ƒä¹ **ï¼šå…ˆæŒæ¡åŸºæœ¬çš„å†…å®¹åŠ è½½
2. **â­â­ è¿›é˜¶åº”ç”¨**ï¼šå­¦ä¼šé€‰æ‹©å™¨è¿‡æ»¤å’Œå›è°ƒå¤„ç†
3. **â­â­â­ å®æˆ˜é¡¹ç›®**ï¼šç»“åˆå®é™…éœ€æ±‚ï¼Œåšå®Œæ•´çš„åŠŸèƒ½

**æ ¸å¿ƒè®°å¿†å£è¯€**ï¼š
```
$.load()æ˜¯æ¬è¿å·¥ï¼ŒHTMLå†…å®¹ç›´æ¥é€
è¯­æ³•ç®€å•ä¸€è¡Œä»£ç ï¼Œé€‰æ‹©å™¨è¿‡æ»¤æ›´çµæ´»
å›è°ƒå‡½æ•°å¤„ç†ç»“æœï¼Œé”™è¯¯æˆåŠŸè¦åŒºåˆ†
é€‚åˆç®€å•å†…å®¹åŠ è½½ï¼Œå¤æ‚éœ€æ±‚é€‰å…¶ä»–
```