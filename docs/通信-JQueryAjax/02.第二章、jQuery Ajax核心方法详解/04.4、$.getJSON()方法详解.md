---
title: 4ã€$.getJSON()æ–¹æ³•è¯¦è§£
---
## ğŸ“š ç›®å½•

1. [ä»€ä¹ˆæ˜¯$.getJSON()æ–¹æ³•](#1-ä»€ä¹ˆæ˜¯getjsonæ–¹æ³•)
2. [JSONæ•°æ®æ ¼å¼åŸºç¡€](#2-jsonæ•°æ®æ ¼å¼åŸºç¡€)
3. [$.getJSON()è¯­æ³•è¯¦è§£](#3-getjsonè¯­æ³•è¯¦è§£)
4. [è‡ªåŠ¨è§£æJSONæœºåˆ¶](#4-è‡ªåŠ¨è§£æjsonæœºåˆ¶)
5. [å¤„ç†ä¸åŒJSONæ•°æ®ç»“æ„](#5-å¤„ç†ä¸åŒjsonæ•°æ®ç»“æ„)
6. [é”™è¯¯å¤„ç†å’Œæ•°æ®éªŒè¯](#6-é”™è¯¯å¤„ç†å’Œæ•°æ®éªŒè¯)
7. [å®é™…åº”ç”¨ç¤ºä¾‹](#7-å®é™…åº”ç”¨ç¤ºä¾‹)
8. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#8-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ¯ ä»€ä¹ˆæ˜¯$.getJSON()æ–¹æ³•


### 1.1 ç®€å•ç†è§£

**$.getJSON()** å°±æ˜¯jQueryä¸“é—¨ç”¨æ¥è·å–JSONæ ¼å¼æ•°æ®çš„æ–¹æ³•ï¼Œå¯ä»¥ç†è§£ä¸ºä¸“ä¸šçš„"JSONæ•°æ®æ¬è¿å·¥"ã€‚

```
æ™®é€šç†è§£ï¼š
ä½ æƒ³ä»æœåŠ¡å™¨æ‹¿ä¸€äº›ç»“æ„åŒ–çš„æ•°æ®ï¼ˆæ¯”å¦‚ç”¨æˆ·ä¿¡æ¯ã€å•†å“åˆ—è¡¨ï¼‰
è¿™äº›æ•°æ®æ˜¯JSONæ ¼å¼çš„ï¼ˆå°±åƒä¸€ä¸ªè§„æ•´çš„è¡¨æ ¼ï¼‰
$.getJSON()å¸®ä½ è½»æ¾æ‹¿åˆ°å¹¶è‡ªåŠ¨æ•´ç†å¥½
```

### 1.2 ä¸ºä»€ä¹ˆéœ€è¦ä¸“é—¨çš„JSONæ–¹æ³•


**ğŸ”¸ è§£å†³çš„é—®é¢˜**
```
é—®é¢˜ï¼šæ™®é€šAjaxæ‹¿åˆ°çš„æ˜¯å­—ç¬¦ä¸²ï¼Œéœ€è¦æ‰‹åŠ¨è½¬æ¢
è§£å†³ï¼š$.getJSON()è‡ªåŠ¨å¸®ä½ è½¬æ¢æˆJavaScriptå¯¹è±¡

ä¸¾ä¾‹è¯´æ˜ï¼š
æœåŠ¡å™¨è¿”å›ï¼š'{"name":"å¼ ä¸‰","age":25}'  â† è¿™æ˜¯å­—ç¬¦ä¸²
$.getJSON()å¤„ç†åï¼š{name:"å¼ ä¸‰", age:25}  â† è¿™æ˜¯å¯¹è±¡ï¼Œå¯ä»¥ç›´æ¥ç”¨
```

### 1.3 ä¸å…¶ä»–æ–¹æ³•çš„å…³ç³»


```
jQuery Ajaxæ–¹æ³•å®¶æ—ï¼š
â”œâ”€â”€ $.get()      â† é€šç”¨GETè¯·æ±‚ï¼Œä»€ä¹ˆæ•°æ®éƒ½èƒ½æ‹¿
â”œâ”€â”€ $.post()     â† é€šç”¨POSTè¯·æ±‚ï¼Œç”¨äºæäº¤æ•°æ®  
â”œâ”€â”€ $.getJSON()  â† ä¸“é—¨æ‹¿JSONæ•°æ®ï¼Œè‡ªåŠ¨è§£æ â­
â””â”€â”€ $.ajax()     â† ä¸‡èƒ½æ–¹æ³•ï¼ŒåŠŸèƒ½æœ€å…¨ä½†ä½¿ç”¨ç¨å¤æ‚
```

> ğŸ’¡ **ç®€å•è®°å¿†**ï¼š$.getJSON() = $.get() + è‡ªåŠ¨JSONè§£æ

---

## 2. ğŸ“‹ JSONæ•°æ®æ ¼å¼åŸºç¡€


### 2.1 ä»€ä¹ˆæ˜¯JSON

**JSONï¼ˆJavaScript Object Notationï¼‰** æ˜¯ä¸€ç§æ•°æ®äº¤æ¢æ ¼å¼ï¼Œå¯ä»¥ç†è§£ä¸º"ç½‘ç»œä¸Šä¼ è¾“æ•°æ®çš„ç»Ÿä¸€è¯­è¨€"ã€‚

```
ç”Ÿæ´»ä¸­çš„ç±»æ¯”ï¼š
JSONå°±åƒæ˜¯ä¸åŒå›½å®¶ä¹‹é—´äº¤æµç”¨çš„"ä¸–ç•Œè¯­"
æ— è®ºåç«¯æ˜¯ç”¨PHPã€Javaè¿˜æ˜¯Pythonå†™çš„
å‰ç«¯éƒ½èƒ½çœ‹æ‡‚JSONæ ¼å¼çš„æ•°æ®
```

### 2.2 JSONåŸºæœ¬æ ¼å¼


**ğŸ”¸ åŸºç¡€ç»“æ„**
```javascript
// JSONå¯¹è±¡ - ç±»ä¼¼ä¸€å¼ åç‰‡
{
  "name": "å¼ ä¸‰",
  "age": 25,
  "city": "åŒ—äº¬"
}

// JSONæ•°ç»„ - ç±»ä¼¼ä¸€ä¸ªé€šè®¯å½•
[
  {"name": "å¼ ä¸‰", "age": 25},
  {"name": "æå››", "age": 30}
]
```

**ğŸ”¸ æ ¼å¼è¦æ±‚**
```
âœ… æ­£ç¡®æ ¼å¼ï¼š
{"name": "å¼ ä¸‰"}     â† å±æ€§åç”¨åŒå¼•å·
{"age": 25}         â† æ•°å­—ä¸ç”¨å¼•å·
{"active": true}    â† å¸ƒå°”å€¼ä¸ç”¨å¼•å·

âŒ é”™è¯¯æ ¼å¼ï¼š
{name: "å¼ ä¸‰"}       â† å±æ€§åæ²¡æœ‰å¼•å·
{'name': 'å¼ ä¸‰'}     â† ä¸èƒ½ç”¨å•å¼•å·
```

### 2.3 å¸¸è§JSONæ•°æ®ç±»å‹


| æ•°æ®ç±»å‹ | JSONæ ¼å¼ | JavaScriptä½¿ç”¨ |
|---------|----------|----------------|
| **å­—ç¬¦ä¸²** | `"Hello"` | `data.message` |
| **æ•°å­—** | `123` | `data.count` |
| **å¸ƒå°”å€¼** | `true` | `data.success` |
| **æ•°ç»„** | `[1,2,3]` | `data.list[0]` |
| **å¯¹è±¡** | `{"key":"value"}` | `data.key` |
| **ç©ºå€¼** | `null` | `data.value === null` |

---

## 3. ğŸ”§ $.getJSON()è¯­æ³•è¯¦è§£


### 3.1 åŸºæœ¬è¯­æ³•ç»“æ„


```javascript
$.getJSON(url, data, callback)
```

**ğŸ”¸ å‚æ•°è§£é‡Š**
```
urlï¼š      æ•°æ®çš„ç½‘å€ï¼ˆå¿…éœ€ï¼‰
dataï¼š     å‘é€ç»™æœåŠ¡å™¨çš„é¢å¤–ä¿¡æ¯ï¼ˆå¯é€‰ï¼‰
callbackï¼š æ‹¿åˆ°æ•°æ®åè¦åšä»€ä¹ˆï¼ˆå¯é€‰ï¼‰
```

### 3.2 æœ€ç®€å•çš„ç”¨æ³•


```javascript
// æœ€åŸºç¡€çš„ä½¿ç”¨ - åªè¦ç½‘å€
$.getJSON('user.json', function(data) {
    console.log('æ‹¿åˆ°çš„æ•°æ®ï¼š', data);
});
```

```
å®é™…æ‰§è¡Œè¿‡ç¨‹ï¼š
1. ğŸŒ å‘ user.json å‘é€è¯·æ±‚
2. â³ ç­‰å¾…æœåŠ¡å™¨å“åº”
3. ğŸ“¦ è‡ªåŠ¨è§£æJSONæ•°æ®
4. âœ… è°ƒç”¨functionå¤„ç†æ•°æ®
```

### 3.3 å¸¦å‚æ•°çš„ç”¨æ³•


```javascript
// å‘æœåŠ¡å™¨å‘é€é¢å¤–ä¿¡æ¯
$.getJSON('api/users.php', {
    page: 1,        // ç¬¬å‡ é¡µ
    limit: 10       // æ¯é¡µå¤šå°‘æ¡
}, function(data) {
    console.log('ç”¨æˆ·åˆ—è¡¨ï¼š', data);
});
```

**ğŸ”¸ å‚æ•°ä¼ é€’è¿‡ç¨‹**
```
å®é™…è¯·æ±‚åœ°å€å˜æˆï¼š
api/users.php?page=1&limit=10

æœåŠ¡å™¨å¯ä»¥æ ¹æ®è¿™äº›å‚æ•°è¿”å›å¯¹åº”çš„æ•°æ®
```

### 3.4 å®Œæ•´è¯­æ³•ç¤ºä¾‹


```javascript
// å®Œæ•´çš„ä½¿ç”¨æ–¹å¼
$.getJSON({
    url: 'api/products.json',
    data: {
        category: 'electronics',
        sort: 'price'
    },
    success: function(data) {
        console.log('å•†å“æ•°æ®ï¼š', data);
    },
    error: function() {
        console.log('è·å–å¤±è´¥');
    }
});
```

---

## 4. âš¡ è‡ªåŠ¨è§£æJSONæœºåˆ¶


### 4.1 è‡ªåŠ¨è§£æçš„å«ä¹‰


**ğŸ”¸ æ²¡æœ‰$.getJSON()æ—¶çš„ç—›è‹¦**
```javascript
// ä½¿ç”¨æ™®é€š$.get()çš„éº»çƒ¦è¿‡ç¨‹
$.get('data.json', function(response) {
    // responseæ˜¯å­—ç¬¦ä¸²ï¼š'{"name":"å¼ ä¸‰","age":25}'
    
    var data = JSON.parse(response);  // æ‰‹åŠ¨è§£æ
    console.log(data.name);  // ç°åœ¨æ‰èƒ½ç”¨
});
```

**ğŸ”¸ ä½¿ç”¨$.getJSON()çš„ä¾¿åˆ©**
```javascript
// ä¸€æ­¥åˆ°ä½ï¼Œè‡ªåŠ¨è§£æ
$.getJSON('data.json', function(data) {
    // dataå·²ç»æ˜¯å¯¹è±¡ï¼š{name:"å¼ ä¸‰", age:25}
    console.log(data.name);  // ç›´æ¥å°±èƒ½ç”¨
});
```

### 4.2 è§£æè¿‡ç¨‹å›¾ç¤º


```
æœåŠ¡å™¨å“åº”æµç¨‹ï¼š

1. æœåŠ¡å™¨å‘é€ â†’ '{"name":"å¼ ä¸‰","age":25}'  (å­—ç¬¦ä¸²)
                        â†“
2. $.getJSON()æ¥æ”¶ â†’ è‡ªåŠ¨è°ƒç”¨JSON.parse()
                        â†“  
3. è½¬æ¢æˆå¯¹è±¡ â†’ {name:"å¼ ä¸‰", age:25}  (JavaScriptå¯¹è±¡)
                        â†“
4. ä¼ ç»™å›è°ƒå‡½æ•° â†’ function(data) { /* dataå°±æ˜¯å¯¹è±¡ */ }
```

### 4.3 ä»€ä¹ˆæ—¶å€™è§£æä¼šå¤±è´¥


```javascript
// æœåŠ¡å™¨è¿”å›çš„ä¸æ˜¯æœ‰æ•ˆJSONæ—¶
$.getJSON('bad-data.txt', function(data) {
    // å¦‚æœæœåŠ¡å™¨è¿”å›ï¼šHello World  (ä¸æ˜¯JSONæ ¼å¼)
    // è¿™é‡Œä¸ä¼šæ‰§è¡Œï¼Œå› ä¸ºè§£æå¤±è´¥äº†
})
.fail(function() {
    console.log('JSONè§£æå¤±è´¥ï¼Œå¯èƒ½æ•°æ®æ ¼å¼ä¸å¯¹');
});
```

> âš ï¸ **æ³¨æ„**ï¼šåªæœ‰æœåŠ¡å™¨è¿”å›æ­£ç¡®çš„JSONæ ¼å¼ï¼Œè‡ªåŠ¨è§£ææ‰ä¼šæˆåŠŸ

---

## 5. ğŸ“Š å¤„ç†ä¸åŒJSONæ•°æ®ç»“æ„


### 5.1 å¤„ç†JSONå¯¹è±¡


```javascript
// æœåŠ¡å™¨è¿”å›å•ä¸ªç”¨æˆ·ä¿¡æ¯
$.getJSON('api/user/123.json', function(user) {
    // user = {
    //   "id": 123,
    //   "name": "å¼ ä¸‰", 
    //   "email": "zhangsan@example.com",
    //   "profile": {
    //     "age": 25,
    //     "city": "åŒ—äº¬"
    //   }
    // }
    
    $('#username').text(user.name);
    $('#email').text(user.email);
    $('#age').text(user.profile.age);  // åµŒå¥—å¯¹è±¡
});
```

### 5.2 å¤„ç†JSONæ•°ç»„


```javascript
// æœåŠ¡å™¨è¿”å›ç”¨æˆ·åˆ—è¡¨
$.getJSON('api/users.json', function(users) {
    // users = [
    //   {"id": 1, "name": "å¼ ä¸‰"},
    //   {"id": 2, "name": "æå››"},
    //   {"id": 3, "name": "ç‹äº”"}
    // ]
    
    var userList = '';
    users.forEach(function(user) {
        userList += '<li>' + user.name + '</li>';
    });
    
    $('#user-list').html(userList);
});
```

### 5.3 å¤„ç†å¤æ‚åµŒå¥—ç»“æ„


```javascript
// æœåŠ¡å™¨è¿”å›å•†å“åˆ†ç±»æ•°æ®
$.getJSON('api/categories.json', function(data) {
    // data = {
    //   "success": true,
    //   "message": "è·å–æˆåŠŸ",
    //   "data": {
    //     "categories": [
    //       {
    //         "id": 1,
    //         "name": "ç”µå­äº§å“",
    //         "products": [
    //           {"id": 101, "name": "æ‰‹æœº"},
    //           {"id": 102, "name": "ç”µè„‘"}
    //         ]
    //       }
    //     ]
    //   }
    // }
    
    if (data.success) {
        data.data.categories.forEach(function(category) {
            console.log('åˆ†ç±»ï¼š' + category.name);
            category.products.forEach(function(product) {
                console.log('  å•†å“ï¼š' + product.name);
            });
        });
    }
});
```

### 5.4 æ•°æ®ç»“æ„å¯¼èˆªå›¾


```
JSONæ•°æ®ç»“æ„ç±»å‹ï¼š

ç®€å•å¯¹è±¡
â”œâ”€â”€ {"name": "å€¼"}              â† ç›´æ¥è®¿é—®ï¼šdata.name
â”œâ”€â”€ {"user": {"name": "å€¼"}}    â† åµŒå¥—è®¿é—®ï¼šdata.user.name
â””â”€â”€ {"active": true}            â† å¸ƒå°”å€¼ï¼šdata.active

æ•°ç»„ç»“æ„  
â”œâ”€â”€ ["å€¼1", "å€¼2"]              â† æ•°ç»„è®¿é—®ï¼šdata[0]
â”œâ”€â”€ [{"name": "å€¼1"}]           â† å¯¹è±¡æ•°ç»„ï¼šdata[0].name
â””â”€â”€ {"list": []}                â† åµŒå¥—æ•°ç»„ï¼šdata.list[0]

å¤æ‚åµŒå¥—
â””â”€â”€ APIå“åº”æ ¼å¼                 â† é€šå¸¸åŒ…è£…åœ¨success/dataä¸­
    â”œâ”€â”€ success: true
    â”œâ”€â”€ message: "æç¤ºä¿¡æ¯"  
    â””â”€â”€ data: { çœŸæ­£çš„æ•°æ® }
```

---

## 6. ğŸš¨ é”™è¯¯å¤„ç†å’Œæ•°æ®éªŒè¯


### 6.1 åŸºæœ¬é”™è¯¯å¤„ç†


```javascript
$.getJSON('api/data.json')
    .done(function(data) {
        // æˆåŠŸè·å–æ•°æ®
        console.log('æ•°æ®è·å–æˆåŠŸï¼š', data);
    })
    .fail(function(jqXHR, textStatus, errorThrown) {
        // å‡ºé”™äº†ï¼ˆç½‘ç»œé—®é¢˜ã€JSONæ ¼å¼é”™è¯¯ç­‰ï¼‰
        console.log('è·å–å¤±è´¥ï¼š' + textStatus);
        alert('æ•°æ®åŠ è½½å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•');
    });
```

### 6.2 å¸¸è§é”™è¯¯ç±»å‹


```javascript
$.getJSON('api/data.json')
    .fail(function(jqXHR, textStatus, errorThrown) {
        // æ ¹æ®é”™è¯¯ç±»å‹ç»™å‡ºä¸åŒæç¤º
        switch(textStatus) {
            case 'timeout':
                alert('è¯·æ±‚è¶…æ—¶ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥');
                break;
            case 'error':
                if (jqXHR.status === 404) {
                    alert('æ•°æ®ä¸å­˜åœ¨');
                } else if (jqXHR.status === 500) {
                    alert('æœåŠ¡å™¨å‡ºé”™äº†');
                }
                break;
            case 'parsererror':
                alert('æ•°æ®æ ¼å¼é”™è¯¯');
                break;
            default:
                alert('æœªçŸ¥é”™è¯¯ï¼š' + textStatus);
        }
    });
```

### 6.3 æ•°æ®éªŒè¯


```javascript
$.getJSON('api/user.json', function(data) {
    // éªŒè¯æ•°æ®æ˜¯å¦å®Œæ•´
    if (!data || typeof data !== 'object') {
        console.log('æ•°æ®æ ¼å¼ä¸æ­£ç¡®');
        return;
    }
    
    // éªŒè¯å¿…éœ€å­—æ®µ
    if (!data.name || !data.email) {
        console.log('ç¼ºå°‘å¿…éœ€çš„ç”¨æˆ·ä¿¡æ¯');
        return;
    }
    
    // éªŒè¯æ•°ç»„æ•°æ®
    if (data.hobbies && !Array.isArray(data.hobbies)) {
        console.log('çˆ±å¥½åˆ—è¡¨æ ¼å¼ä¸æ­£ç¡®');
        return;
    }
    
    // æ•°æ®éªŒè¯é€šè¿‡ï¼Œå¼€å§‹ä½¿ç”¨
    $('#username').text(data.name);
    $('#email').text(data.email);
});
```

### 6.4 å®Œæ•´çš„é”™è¯¯å¤„ç†ç¤ºä¾‹


```javascript
function loadUserData(userId) {
    // æ˜¾ç¤ºåŠ è½½æç¤º
    $('#loading').show();
    $('#error').hide();
    
    $.getJSON('api/user/' + userId + '.json')
        .done(function(data) {
            // éšè—åŠ è½½æç¤º
            $('#loading').hide();
            
            // éªŒè¯æ•°æ®
            if (data && data.name) {
                // æ˜¾ç¤ºç”¨æˆ·ä¿¡æ¯
                $('#username').text(data.name);
                $('#user-info').show();
            } else {
                $('#error').text('ç”¨æˆ·æ•°æ®ä¸å®Œæ•´').show();
            }
        })
        .fail(function(jqXHR) {
            $('#loading').hide();
            
            // æ ¹æ®HTTPçŠ¶æ€ç æ˜¾ç¤ºä¸åŒé”™è¯¯ä¿¡æ¯
            var errorMsg = 'æ•°æ®åŠ è½½å¤±è´¥';
            if (jqXHR.status === 404) {
                errorMsg = 'ç”¨æˆ·ä¸å­˜åœ¨';
            } else if (jqXHR.status === 0) {
                errorMsg = 'ç½‘ç»œè¿æ¥å¤±è´¥';
            }
            
            $('#error').text(errorMsg).show();
        });
}
```

---

## 7. ğŸš€ å®é™…åº”ç”¨ç¤ºä¾‹


### 7.1 è·å–å¤©æ°”ä¿¡æ¯


```javascript
// è·å–åŸå¸‚å¤©æ°”æ•°æ®
function getWeather(city) {
    $.getJSON('api/weather.json', {
        city: city,
        lang: 'zh'
    }, function(weather) {
        // weather = {
        //   "city": "åŒ—äº¬",
        //   "temperature": 15,
        //   "description": "æ™´å¤©",
        //   "humidity": 45
        // }
        
        $('#city-name').text(weather.city);
        $('#temperature').text(weather.temperature + 'Â°C');
        $('#description').text(weather.description);
        $('#humidity').text('æ¹¿åº¦ï¼š' + weather.humidity + '%');
    })
    .fail(function() {
        alert('å¤©æ°”æ•°æ®è·å–å¤±è´¥');
    });
}

// ä½¿ç”¨ç¤ºä¾‹
getWeather('åŒ—äº¬');
```

### 7.2 åŠ¨æ€åŠ è½½å•†å“åˆ—è¡¨


```javascript
// åˆ†é¡µåŠ è½½å•†å“
function loadProducts(page) {
    $.getJSON('api/products.json', {
        page: page,
        limit: 12,
        category: 'electronics'
    }, function(response) {
        // response = {
        //   "success": true,
        //   "data": [
        //     {"id": 1, "name": "iPhone", "price": 999},
        //     {"id": 2, "name": "iPad", "price": 599}
        //   ],
        //   "total": 50,
        //   "hasMore": true
        // }
        
        if (response.success) {
            var productHtml = '';
            response.data.forEach(function(product) {
                productHtml += `
                    <div class="product">
                        <h3>${product.name}</h3>
                        <p>ä»·æ ¼ï¼šÂ¥${product.price}</p>
                    </div>
                `;
            });
            
            $('#product-list').html(productHtml);
            
            // æ˜¾ç¤ºåˆ†é¡µä¿¡æ¯
            if (response.hasMore) {
                $('#load-more').show();
            } else {
                $('#load-more').hide();
            }
        }
    });
}

// é¡µé¢åŠ è½½æ—¶è·å–ç¬¬ä¸€é¡µ
$(document).ready(function() {
    loadProducts(1);
});
```

### 7.3 ç”¨æˆ·æœç´¢åŠŸèƒ½


```javascript
// æœç´¢ç”¨æˆ·ï¼ˆå¸¦é˜²æŠ–ï¼‰
var searchTimeout;

$('#search-input').on('input', function() {
    var keyword = $(this).val().trim();
    
    // æ¸…é™¤ä¹‹å‰çš„æœç´¢å®šæ—¶å™¨
    clearTimeout(searchTimeout);
    
    if (keyword.length < 2) {
        $('#search-results').empty();
        return;
    }
    
    // å»¶è¿Ÿæœç´¢ï¼Œé¿å…é¢‘ç¹è¯·æ±‚
    searchTimeout = setTimeout(function() {
        searchUsers(keyword);
    }, 500);
});

function searchUsers(keyword) {
    $('#search-loading').show();
    
    $.getJSON('api/search.json', {
        q: keyword,
        type: 'user'
    }, function(results) {
        // results = {
        //   "users": [
        //     {"id": 1, "name": "å¼ ä¸‰", "avatar": "avatar1.jpg"},
        //     {"id": 2, "name": "å¼ å››", "avatar": "avatar2.jpg"}
        //   ],
        //   "total": 15
        // }
        
        $('#search-loading').hide();
        
        var resultHtml = '';
        if (results.users && results.users.length > 0) {
            results.users.forEach(function(user) {
                resultHtml += `
                    <div class="user-item" data-id="${user.id}">
                        <img src="${user.avatar}" alt="${user.name}">
                        <span>${user.name}</span>
                    </div>
                `;
            });
            resultHtml += `<p>å…±æ‰¾åˆ° ${results.total} ä¸ªç”¨æˆ·</p>`;
        } else {
            resultHtml = '<p>æ²¡æœ‰æ‰¾åˆ°åŒ¹é…çš„ç”¨æˆ·</p>';
        }
        
        $('#search-results').html(resultHtml);
    })
    .fail(function() {
        $('#search-loading').hide();
        $('#search-results').html('<p>æœç´¢å¤±è´¥ï¼Œè¯·é‡è¯•</p>');
    });
}
```

### 7.4 å®æ—¶æ•°æ®æ›´æ–°


```javascript
// å®šæ—¶è·å–æœ€æ–°æ¶ˆæ¯
function startMessagePolling() {
    var lastMessageId = 0;
    
    setInterval(function() {
        $.getJSON('api/messages.json', {
            since: lastMessageId
        }, function(response) {
            // response = {
            //   "messages": [
            //     {"id": 123, "user": "å¼ ä¸‰", "text": "ä½ å¥½", "time": "14:30"},
            //     {"id": 124, "user": "æå››", "text": "åœ¨å—", "time": "14:31"}
            //   ],
            //   "hasNew": true
            // }
            
            if (response.hasNew && response.messages.length > 0) {
                response.messages.forEach(function(msg) {
                    // æ·»åŠ æ–°æ¶ˆæ¯åˆ°é¡µé¢
                    var msgHtml = `
                        <div class="message">
                            <strong>${msg.user}</strong>
                            <span class="time">${msg.time}</span>
                            <p>${msg.text}</p>
                        </div>
                    `;
                    $('#messages').append(msgHtml);
                    
                    // æ›´æ–°æœ€åæ¶ˆæ¯ID
                    lastMessageId = Math.max(lastMessageId, msg.id);
                });
                
                // æ»šåŠ¨åˆ°åº•éƒ¨
                $('#messages').scrollTop($('#messages')[0].scrollHeight);
            }
        });
    }, 3000); // æ¯3ç§’æ£€æŸ¥ä¸€æ¬¡
}

// é¡µé¢åŠ è½½åå¼€å§‹è½®è¯¢
$(document).ready(function() {
    startMessagePolling();
});
```

---

## 8. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 8.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ $.getJSON()æœ¬è´¨ï¼šä¸“é—¨è·å–JSONæ•°æ®çš„jQueryæ–¹æ³•
ğŸ”¸ è‡ªåŠ¨è§£æï¼šæ— éœ€æ‰‹åŠ¨JSON.parse()ï¼Œç›´æ¥å¾—åˆ°JavaScriptå¯¹è±¡
ğŸ”¸ åŸºæœ¬è¯­æ³•ï¼š$.getJSON(url, data, callback)
ğŸ”¸ é”™è¯¯å¤„ç†ï¼šä½¿ç”¨.fail()æ–¹æ³•å¤„ç†å„ç§å¼‚å¸¸æƒ…å†µ
ğŸ”¸ æ•°æ®éªŒè¯ï¼šè·å–æ•°æ®åè¦éªŒè¯æ ¼å¼å’Œå¿…éœ€å­—æ®µ
```

### 8.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ ä»€ä¹ˆæ—¶å€™ç”¨$.getJSON()**
```
é€‚ç”¨åœºæ™¯ï¼š
âœ… æœåŠ¡å™¨è¿”å›JSONæ ¼å¼æ•°æ®
âœ… éœ€è¦GETæ–¹å¼è·å–æ•°æ®
âœ… å¸Œæœ›ç®€åŒ–JSONè§£æè¿‡ç¨‹

ä¸é€‚ç”¨åœºæ™¯ï¼š
âŒ éœ€è¦POSTæäº¤æ•°æ®ï¼ˆç”¨$.post()ï¼‰
âŒ æœåŠ¡å™¨è¿”å›HTMLæˆ–çº¯æ–‡æœ¬ï¼ˆç”¨$.get()ï¼‰
âŒ éœ€è¦å¤æ‚çš„Ajaxé…ç½®ï¼ˆç”¨$.ajax()ï¼‰
```

**ğŸ”¹ JSONæ•°æ®çš„æ ¸å¿ƒç‰¹ç‚¹**
```
æ ¼å¼è¦æ±‚ï¼š
- å±æ€§åå¿…é¡»ç”¨åŒå¼•å·
- å­—ç¬¦ä¸²å€¼ç”¨åŒå¼•å·
- æ•°å­—ã€å¸ƒå°”å€¼ã€nullä¸ç”¨å¼•å·
- ä¸èƒ½æœ‰æ³¨é‡Šå’Œå°¾éšé€—å·

æ•°æ®ç±»å‹ï¼š
- å¯¹è±¡ï¼š{key: value}
- æ•°ç»„ï¼š[value1, value2]
- åŸºæœ¬ç±»å‹ï¼šstring, number, boolean, null
```

**ğŸ”¹ é”™è¯¯å¤„ç†çš„é‡è¦æ€§**
```
å¸¸è§é”™è¯¯ï¼š
- ç½‘ç»œè¿æ¥é—®é¢˜
- æœåŠ¡å™¨è¿”å›é”™è¯¯çŠ¶æ€ç 
- JSONæ ¼å¼ä¸æ­£ç¡®
- æ•°æ®å­—æ®µç¼ºå¤±

å¤„ç†ç­–ç•¥ï¼š
- æ€»æ˜¯æ·»åŠ .fail()å¤„ç†é”™è¯¯
- ç»™ç”¨æˆ·å‹å¥½çš„é”™è¯¯æç¤º
- éªŒè¯è¿”å›æ•°æ®çš„å®Œæ•´æ€§
- è€ƒè™‘é‡è¯•æœºåˆ¶
```

### 8.3 å®é™…åº”ç”¨æŒ‡å¯¼


**ğŸ”¹ æœ€ä½³å®è·µ**
```
1. ç®€å•æ•°æ®è·å–ï¼š
   $.getJSON('api/data.json', callback)

2. å¸¦å‚æ•°è¯·æ±‚ï¼š
   $.getJSON('api/data.json', {id: 123}, callback)

3. å®Œæ•´é”™è¯¯å¤„ç†ï¼š
   $.getJSON(url).done(success).fail(error)

4. æ•°æ®éªŒè¯ï¼š
   åœ¨callbackä¸­æ£€æŸ¥æ•°æ®æ ¼å¼å’Œå¿…éœ€å­—æ®µ
```

**ğŸ”¹ æ€§èƒ½ä¼˜åŒ–å»ºè®®**
```
- é¿å…é¢‘ç¹è¯·æ±‚ï¼ˆä½¿ç”¨é˜²æŠ–ï¼‰
- ç¼“å­˜ä¸å˜çš„æ•°æ®
- æ˜¾ç¤ºåŠ è½½çŠ¶æ€ç»™ç”¨æˆ·
- åˆç†è®¾ç½®è¶…æ—¶æ—¶é—´
- å‹ç¼©JSONæ•°æ®å¤§å°
```

**ğŸ”¹ å¸¸è§ä½¿ç”¨åœºæ™¯**
```
APIæ•°æ®è·å–ï¼š
- ç”¨æˆ·ä¿¡æ¯åŠ è½½
- å•†å“åˆ—è¡¨è·å–  
- æœç´¢ç»“æœæ˜¾ç¤º
- é…ç½®æ–‡ä»¶è¯»å–

å®æ—¶æ•°æ®ï¼š
- å®šæ—¶æ›´æ–°å†…å®¹
- èŠå¤©æ¶ˆæ¯è·å–
- çŠ¶æ€ç›‘æ§æ•°æ®

è¡¨å•ç›¸å…³ï¼š
- çœå¸‚åŒºè”åŠ¨
- ç”¨æˆ·åæ£€æŸ¥
- æ•°æ®å­—å…¸è·å–
```

> ğŸ’¡ **æ ¸å¿ƒè®°å¿†**ï¼š$.getJSON()æ˜¯è·å–JSONæ•°æ®çš„æœ€ç®€å•æ–¹å¼ï¼Œè‡ªåŠ¨è§£æã€ä½¿ç”¨ç®€å•ï¼Œä½†è¦è®°å¾—å¤„ç†é”™è¯¯å’ŒéªŒè¯æ•°æ®ï¼