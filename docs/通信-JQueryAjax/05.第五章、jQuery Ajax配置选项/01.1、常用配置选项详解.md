---
title: 1ã€å¸¸ç”¨é…ç½®é€‰é¡¹è¯¦è§£
---
## ğŸ“š ç›®å½•

1. [é…ç½®é€‰é¡¹æ¦‚è¿°](#1-é…ç½®é€‰é¡¹æ¦‚è¿°)
2. [è¶…æ—¶ä¸ç¼“å­˜æ§åˆ¶](#2-è¶…æ—¶ä¸ç¼“å­˜æ§åˆ¶)
3. [å¼‚æ­¥æ§åˆ¶](#3-å¼‚æ­¥æ§åˆ¶)
4. [è¯·æ±‚å‰å¤„ç†](#4-è¯·æ±‚å‰å¤„ç†)
5. [è¯·æ±‚å¤´è®¾ç½®](#5-è¯·æ±‚å¤´è®¾ç½®)
6. [æ•°æ®å¤„ç†æ§åˆ¶](#6-æ•°æ®å¤„ç†æ§åˆ¶)
7. [å…¨å±€äº‹ä»¶æ§åˆ¶](#7-å…¨å±€äº‹ä»¶æ§åˆ¶)
8. [å“åº”å˜åŒ–æ£€æµ‹](#8-å“åº”å˜åŒ–æ£€æµ‹)
9. [å­—ç¬¦é›†è®¾ç½®](#9-å­—ç¬¦é›†è®¾ç½®)
10. [é…ç½®ä¼˜å…ˆçº§](#10-é…ç½®ä¼˜å…ˆçº§)
11. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#11-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. âš™ï¸ é…ç½®é€‰é¡¹æ¦‚è¿°


### 1.1 ä»€ä¹ˆæ˜¯é…ç½®é€‰é¡¹

Ajaxé…ç½®é€‰é¡¹å°±åƒæ˜¯ç»™Ajaxè¯·æ±‚**è®¾ç½®å‚æ•°**çš„åœ°æ–¹ï¼Œå‘Šè¯‰å®ƒè¯¥æ€ä¹ˆå‘é€è¯·æ±‚ã€æ€ä¹ˆå¤„ç†å“åº”ã€‚

**ç®€å•ç†è§£**ï¼š
```
å°±åƒç‚¹å¤–å–æ—¶çš„å¤‡æ³¨ï¼š
- ä¸è¦è¾£æ¤’ (ç›¸å½“äºè®¾ç½®æŸä¸ªé€‰é¡¹)
- å¤šåŠ ç‚¹èœ (ç›¸å½“äºå¦ä¸€ä¸ªé€‰é¡¹)
- å°½å¿«é…é€ (ç›¸å½“äºtimeoutè®¾ç½®)
```

### 1.2 ä¸ºä»€ä¹ˆéœ€è¦é…ç½®é€‰é¡¹

**è§£å†³çš„é—®é¢˜**ï¼š
- ğŸš« **è¯·æ±‚å¡æ­»** - è®¾ç½®è¶…æ—¶æ—¶é—´
- ğŸ”„ **ç¼“å­˜å›°æ‰°** - æ§åˆ¶æ˜¯å¦ä½¿ç”¨ç¼“å­˜
- â±ï¸ **æ€§èƒ½ä¼˜åŒ–** - å¼‚æ­¥/åŒæ­¥æ§åˆ¶
- ğŸ¯ **ç”¨æˆ·ä½“éªŒ** - æ˜¾ç¤ºåŠ è½½çŠ¶æ€
- ğŸ”§ **è‡ªå®šä¹‰éœ€æ±‚** - è®¾ç½®ç‰¹æ®Šè¯·æ±‚å¤´

---

## 2. â° è¶…æ—¶ä¸ç¼“å­˜æ§åˆ¶


### 2.1 timeout: è¶…æ—¶è®¾ç½®


**å«ä¹‰è§£é‡Š**ï¼š
`timeout`å°±æ˜¯ç»™Ajaxè¯·æ±‚è®¾ç½®ä¸€ä¸ª**æœ€é•¿ç­‰å¾…æ—¶é—´**ï¼Œè¶…è¿‡è¿™ä¸ªæ—¶é—´å°±æ”¾å¼ƒè¯·æ±‚ã€‚

```javascript
// åŸºæœ¬ç”¨æ³•
$.ajax({
    url: '/api/data',
    timeout: 5000,  // 5ç§’è¶…æ—¶
    success: function(data) {
        console.log('è¯·æ±‚æˆåŠŸ');
    },
    error: function() {
        console.log('è¯·æ±‚å¤±è´¥æˆ–è¶…æ—¶');
    }
});
```

**å®é™…åº”ç”¨åœºæ™¯**ï¼š
```javascript
// ç”¨æˆ·å¤´åƒä¸Šä¼  - è®¾ç½®è¾ƒé•¿è¶…æ—¶
$.ajax({
    url: '/upload/avatar',
    type: 'POST',
    data: formData,
    timeout: 30000,  // 30ç§’ï¼Œå› ä¸ºæ–‡ä»¶å¯èƒ½è¾ƒå¤§
    success: function(result) {
        alert('å¤´åƒä¸Šä¼ æˆåŠŸ');
    }
});

// æœç´¢å»ºè®® - è®¾ç½®è¾ƒçŸ­è¶…æ—¶
$.ajax({
    url: '/search/suggest',
    data: { keyword: $('#search').val() },
    timeout: 2000,   // 2ç§’ï¼Œæœç´¢è¦å¿«
    success: function(suggestions) {
        showSuggestions(suggestions);
    }
});
```

### 2.2 cache: ç¼“å­˜æ§åˆ¶


**å«ä¹‰è§£é‡Š**ï¼š
`cache`æ§åˆ¶æµè§ˆå™¨æ˜¯å¦ä½¿ç”¨**ä¹‹å‰ä¿å­˜çš„å“åº”ç»“æœ**ï¼Œè€Œä¸æ˜¯é‡æ–°å‘è¯·æ±‚ã€‚

**ğŸ†• cache: false ç¦æ­¢ç¼“å­˜**ï¼š
```javascript
// ç¦æ­¢ç¼“å­˜ - ç¡®ä¿æ¯æ¬¡éƒ½è·å–æœ€æ–°æ•°æ®
$.ajax({
    url: '/api/latest-news',
    cache: false,  // æ¯æ¬¡éƒ½å‘æ–°è¯·æ±‚
    success: function(news) {
        updateNewsDisplay(news);
    }
});
```

**ç¼“å­˜é—®é¢˜ç¤ºä¾‹**ï¼š
```javascript
// é—®é¢˜ï¼šç”¨æˆ·ç‚¹å‡»åˆ·æ–°æŒ‰é’®ï¼Œä½†çœ‹åˆ°çš„è¿˜æ˜¯æ—§æ•°æ®
$('#refresh-btn').click(function() {
    $.ajax({
        url: '/api/user-info',
        // æ²¡æœ‰è®¾ç½®cache: falseï¼Œå¯èƒ½è¿”å›ç¼“å­˜çš„æ—§æ•°æ®
        success: function(userInfo) {
            updateUserInfo(userInfo);  // æ˜¾ç¤ºçš„å¯èƒ½æ˜¯æ—§ä¿¡æ¯
        }
    });
});

// è§£å†³ï¼šå¼ºåˆ¶è·å–æœ€æ–°æ•°æ®
$('#refresh-btn').click(function() {
    $.ajax({
        url: '/api/user-info',
        cache: false,  // ç¡®ä¿è·å–æœ€æ–°æ•°æ®
        success: function(userInfo) {
            updateUserInfo(userInfo);  // æ˜¾ç¤ºæœ€æ–°ä¿¡æ¯
        }
    });
});
```

---

## 3. ğŸ”„ å¼‚æ­¥æ§åˆ¶


### 3.1 async: å¼‚æ­¥/åŒæ­¥æ§åˆ¶


**å«ä¹‰è§£é‡Š**ï¼š
`async`æ§åˆ¶Ajaxè¯·æ±‚æ˜¯**ç­‰å¾…å®Œæˆå†ç»§ç»­**ï¼ˆåŒæ­¥ï¼‰ï¼Œè¿˜æ˜¯**å‘å‡ºè¯·æ±‚å°±ç»§ç»­æ‰§è¡Œå…¶ä»–ä»£ç **ï¼ˆå¼‚æ­¥ï¼‰ã€‚

**ğŸ†• async: true/false æ§åˆ¶**ï¼š

```javascript
// å¼‚æ­¥è¯·æ±‚ï¼ˆé»˜è®¤ï¼Œæ¨èï¼‰
$.ajax({
    url: '/api/data',
    async: true,    // å‘é€è¯·æ±‚åä¸ç­‰å¾…ï¼Œç»§ç»­æ‰§è¡Œåé¢ä»£ç 
    success: function(data) {
        console.log('æ•°æ®åˆ°äº†ï¼š', data);
    }
});
console.log('è¿™è¡Œä»£ç ç«‹å³æ‰§è¡Œï¼Œä¸ç­‰Ajaxå®Œæˆ');

// åŒæ­¥è¯·æ±‚ï¼ˆä¸æ¨èï¼Œä¼šé˜»å¡é¡µé¢ï¼‰
$.ajax({
    url: '/api/data',
    async: false,   // ç­‰å¾…è¯·æ±‚å®Œæˆæ‰ç»§ç»­
    success: function(data) {
        console.log('æ•°æ®åˆ°äº†ï¼š', data);
    }
});
console.log('è¿™è¡Œä»£ç è¦ç­‰Ajaxå®Œæˆæ‰æ‰§è¡Œ');
```

**å®é™…å¯¹æ¯”**ï¼š
```
å¼‚æ­¥è¯·æ±‚æµç¨‹ï¼š
ç”¨æˆ·ç‚¹å‡»æŒ‰é’® â†’ å‘é€Ajax â†’ é¡µé¢æ­£å¸¸ä½¿ç”¨ â†’ æ•°æ®å›æ¥æ—¶æ›´æ–°é¡µé¢

åŒæ­¥è¯·æ±‚æµç¨‹ï¼š
ç”¨æˆ·ç‚¹å‡»æŒ‰é’® â†’ å‘é€Ajax â†’ é¡µé¢å¡ä½ä¸èƒ½æ“ä½œ â†’ æ•°æ®å›æ¥åé¡µé¢æ¢å¤
```

**âš ï¸ æ³¨æ„äº‹é¡¹**ï¼š
- **async: false** ä¼šè®©é¡µé¢å¡ä½ï¼Œç”¨æˆ·ä½“éªŒå¾ˆå·®
- ç°ä»£å¼€å‘å‡ ä¹éƒ½ç”¨ **async: true**ï¼ˆé»˜è®¤å€¼ï¼‰
- åªæœ‰ç‰¹æ®Šæƒ…å†µæ‰è€ƒè™‘åŒæ­¥è¯·æ±‚

---

## 4. ğŸ¯ è¯·æ±‚å‰å¤„ç†


### 4.1 beforeSend: è¯·æ±‚å‰å¤„ç†


**å«ä¹‰è§£é‡Š**ï¼š
`beforeSend`æ˜¯åœ¨Ajaxè¯·æ±‚**çœŸæ­£å‘å‡ºä¹‹å‰**æ‰§è¡Œçš„å‡½æ•°ï¼Œé€šå¸¸ç”¨æ¥æ˜¾ç¤ºåŠ è½½çŠ¶æ€æˆ–è®¾ç½®é¢å¤–ä¿¡æ¯ã€‚

```javascript
// æ˜¾ç¤ºåŠ è½½çŠ¶æ€
$.ajax({
    url: '/api/data',
    beforeSend: function() {
        // è¯·æ±‚å‘å‡ºå‰æ‰§è¡Œ
        $('#loading').show();           // æ˜¾ç¤ºåŠ è½½å›¾æ ‡
        $('#submit-btn').prop('disabled', true);  // ç¦ç”¨æŒ‰é’®
    },
    success: function(data) {
        // è¯·æ±‚æˆåŠŸåæ‰§è¡Œ
        $('#loading').hide();           // éšè—åŠ è½½å›¾æ ‡
        $('#submit-btn').prop('disabled', false); // å¯ç”¨æŒ‰é’®
        processData(data);
    },
    error: function() {
        $('#loading').hide();
        $('#submit-btn').prop('disabled', false);
        alert('è¯·æ±‚å¤±è´¥');
    }
});
```

**å®é™…åº”ç”¨åœºæ™¯**ï¼š
```javascript
// è¡¨å•æäº¤æ—¶çš„å¤„ç†
$('#user-form').submit(function(e) {
    e.preventDefault();
    
    $.ajax({
        url: '/api/save-user',
        type: 'POST',
        data: $(this).serialize(),
        beforeSend: function() {
            // é˜²æ­¢é‡å¤æäº¤
            $('#submit-btn').text('æäº¤ä¸­...').prop('disabled', true);
            $('.error-msg').hide();  // éšè—ä¹‹å‰çš„é”™è¯¯ä¿¡æ¯
        },
        success: function(result) {
            alert('ä¿å­˜æˆåŠŸ');
            $('#submit-btn').text('æäº¤').prop('disabled', false);
        },
        error: function() {
            $('.error-msg').text('ä¿å­˜å¤±è´¥ï¼Œè¯·é‡è¯•').show();
            $('#submit-btn').text('æäº¤').prop('disabled', false);
        }
    });
});
```

---

## 5. ğŸ“‹ è¯·æ±‚å¤´è®¾ç½®


### 5.1 headers: è‡ªå®šä¹‰è¯·æ±‚å¤´


**å«ä¹‰è§£é‡Š**ï¼š
`headers`ç”¨æ¥è®¾ç½®Ajaxè¯·æ±‚çš„**é¢å¤–ä¿¡æ¯**ï¼Œå‘Šè¯‰æœåŠ¡å™¨ä¸€äº›ç‰¹æ®Šè¦æ±‚ã€‚

```javascript
// åŸºæœ¬ç”¨æ³•
$.ajax({
    url: '/api/protected-data',
    headers: {
        'Authorization': 'Bearer ' + userToken,  // èº«ä»½éªŒè¯
        'Content-Type': 'application/json',     // æ•°æ®ç±»å‹
        'X-Custom-Header': 'MyValue'            // è‡ªå®šä¹‰å¤´
    },
    success: function(data) {
        console.log('è·å–åˆ°å—ä¿æŠ¤çš„æ•°æ®');
    }
});
```

**å¸¸è§åº”ç”¨åœºæ™¯**ï¼š

| åº”ç”¨åœºæ™¯ | è®¾ç½®ç¤ºä¾‹ | è¯´æ˜ |
|---------|---------|------|
| **ç”¨æˆ·ç™»å½•éªŒè¯** | `'Authorization': 'Bearer token123'` | å‘Šè¯‰æœåŠ¡å™¨å½“å‰ç”¨æˆ·èº«ä»½ |
| **æ•°æ®æ ¼å¼è¯´æ˜** | `'Content-Type': 'application/json'` | è¯´æ˜å‘é€çš„æ˜¯JSONæ•°æ® |
| **é˜²æ­¢CSRFæ”»å‡»** | `'X-CSRF-Token': csrfToken` | å®‰å…¨éªŒè¯ |
| **APIç‰ˆæœ¬æ§åˆ¶** | `'Accept': 'application/vnd.api+json'` | æŒ‡å®šAPIç‰ˆæœ¬ |

```javascript
// å®é™…ä¾‹å­ï¼šç”¨æˆ·ç™»å½•åè·å–ä¸ªäººä¿¡æ¯
function getUserInfo() {
    const token = localStorage.getItem('userToken');
    
    $.ajax({
        url: '/api/user/profile',
        headers: {
            'Authorization': 'Bearer ' + token,
            'Accept': 'application/json'
        },
        success: function(userInfo) {
            $('#username').text(userInfo.name);
            $('#email').text(userInfo.email);
        },
        error: function() {
            // tokenå¯èƒ½è¿‡æœŸäº†
            window.location.href = '/login';
        }
    });
}
```

---

## 6. ğŸ”§ æ•°æ®å¤„ç†æ§åˆ¶


### 6.1 processData: æ•°æ®å¤„ç†æ§åˆ¶


**å«ä¹‰è§£é‡Š**ï¼š
`processData`æ§åˆ¶jQueryæ˜¯å¦è¦**è‡ªåŠ¨è½¬æ¢**ä½ å‘é€çš„æ•°æ®æ ¼å¼ã€‚

```javascript
// é»˜è®¤æƒ…å†µï¼ˆprocessData: trueï¼‰
$.ajax({
    url: '/api/user',
    type: 'POST',
    data: { name: 'å¼ ä¸‰', age: 25 },  // jQueryä¼šè½¬æ¢æˆï¼šname=å¼ ä¸‰&age=25
    success: function(result) {
        console.log('ç”¨æˆ·åˆ›å»ºæˆåŠŸ');
    }
});

// å‘é€åŸå§‹æ•°æ®ï¼ˆprocessData: falseï¼‰
$.ajax({
    url: '/api/upload',
    type: 'POST',
    data: formData,        // FormDataå¯¹è±¡ï¼Œä¸è¦jQueryè½¬æ¢
    processData: false,    // ä¸è¦è‡ªåŠ¨å¤„ç†æ•°æ®
    contentType: false,    // ä¸è¦è®¾ç½®Content-Type
    success: function(result) {
        console.log('æ–‡ä»¶ä¸Šä¼ æˆåŠŸ');
    }
});
```

**ä»€ä¹ˆæ—¶å€™ç”¨ processData: false**ï¼š
- **æ–‡ä»¶ä¸Šä¼ **æ—¶
- **å‘é€FormDataå¯¹è±¡**æ—¶  
- **å‘é€äºŒè¿›åˆ¶æ•°æ®**æ—¶

---

## 7. ğŸŒ å…¨å±€äº‹ä»¶æ§åˆ¶


### 7.1 global: å…¨å±€Ajaxäº‹ä»¶æ§åˆ¶


**å«ä¹‰è§£é‡Š**ï¼š
`global`æ§åˆ¶è¿™ä¸ªAjaxè¯·æ±‚æ˜¯å¦è¦**è§¦å‘å…¨å±€çš„Ajaxäº‹ä»¶**ï¼Œæ¯”å¦‚æ‰€æœ‰Ajaxå¼€å§‹æ—¶æ˜¾ç¤ºåŠ è½½æ¡ã€‚

**ğŸ†• global: æ˜¯å¦è§¦å‘å…¨å±€Ajaxäº‹ä»¶**ï¼š

```javascript
// è®¾ç½®å…¨å±€Ajaxäº‹ä»¶
$(document).ajaxStart(function() {
    $('#global-loading').show();  // ä»»ä½•Ajaxå¼€å§‹æ—¶æ˜¾ç¤º
});

$(document).ajaxStop(function() {
    $('#global-loading').hide();  // æ‰€æœ‰Ajaxç»“æŸæ—¶éšè—
});

// æ™®é€šAjaxè¯·æ±‚ï¼ˆä¼šè§¦å‘å…¨å±€äº‹ä»¶ï¼‰
$.ajax({
    url: '/api/important-data',
    global: true,  // é»˜è®¤å€¼ï¼Œè§¦å‘å…¨å±€äº‹ä»¶
    success: function(data) {
        updateImportantData(data);
    }
});

// é™é»˜Ajaxè¯·æ±‚ï¼ˆä¸è§¦å‘å…¨å±€äº‹ä»¶ï¼‰
$.ajax({
    url: '/api/background-task',
    global: false,  // ä¸è§¦å‘å…¨å±€äº‹ä»¶
    success: function() {
        // åå°ä»»åŠ¡å®Œæˆï¼Œä¸éœ€è¦æ˜¾ç¤ºåŠ è½½çŠ¶æ€
    }
});
```

**å®é™…åº”ç”¨**ï¼š
```javascript
// å¿ƒè·³æ£€æµ‹ - ä¸éœ€è¦æ˜¾ç¤ºåŠ è½½çŠ¶æ€
setInterval(function() {
    $.ajax({
        url: '/api/heartbeat',
        global: false,    // é™é»˜è¯·æ±‚
        timeout: 3000,
        error: function() {
            console.log('æœåŠ¡å™¨è¿æ¥å¼‚å¸¸');
        }
    });
}, 30000);  // æ¯30ç§’æ£€æµ‹ä¸€æ¬¡

// ç”¨æˆ·æ“ä½œ - éœ€è¦æ˜¾ç¤ºåŠ è½½çŠ¶æ€
$('#save-btn').click(function() {
    $.ajax({
        url: '/api/save-document',
        global: true,     // æ˜¾ç¤ºå…¨å±€åŠ è½½çŠ¶æ€
        data: getDocumentData(),
        success: function() {
            alert('æ–‡æ¡£ä¿å­˜æˆåŠŸ');
        }
    });
});
```

---

## 8. ğŸ” å“åº”å˜åŒ–æ£€æµ‹


### 8.1 ifModified: ä»…åœ¨å“åº”æ”¹å˜æ—¶æˆåŠŸ


**å«ä¹‰è§£é‡Š**ï¼š
`ifModified`è®©Ajaxè¯·æ±‚åªåœ¨æœåŠ¡å™¨æ•°æ®**çœŸçš„æœ‰å˜åŒ–**æ—¶æ‰è®¤ä¸ºæˆåŠŸï¼Œé¿å…å¤„ç†ç›¸åŒçš„æ•°æ®ã€‚

**ğŸ†• ifModified: ä»…åœ¨å“åº”æ”¹å˜æ—¶æˆåŠŸ**ï¼š

```javascript
// æ£€æŸ¥æ–°é—»æ˜¯å¦æœ‰æ›´æ–°
$.ajax({
    url: '/api/latest-news',
    ifModified: true,  // åªæœ‰å†…å®¹å˜åŒ–æ—¶æ‰ç®—æˆåŠŸ
    success: function(newsData) {
        // åªæœ‰æ–°é—»çœŸçš„æ›´æ–°äº†æ‰ä¼šæ‰§è¡Œè¿™é‡Œ
        updateNewsDisplay(newsData);
        showNotification('æœ‰æ–°çš„æ–°é—»æ›´æ–°');
    },
    error: function(xhr) {
        if (xhr.status === 304) {
            // 304è¡¨ç¤ºå†…å®¹æ²¡æœ‰ä¿®æ”¹
            console.log('æ–°é—»æ²¡æœ‰æ›´æ–°');
        } else {
            console.log('è¯·æ±‚å‡ºé”™');
        }
    }
});
```

**å·¥ä½œåŸç†å›¾**ï¼š
```
ç¬¬ä¸€æ¬¡è¯·æ±‚ï¼š
å®¢æˆ·ç«¯ â†’ æœåŠ¡å™¨ï¼šè·å–æ–°é—»
æœåŠ¡å™¨ â†’ å®¢æˆ·ç«¯ï¼šè¿”å›æ–°é—» + Last-Modifiedæ—¶é—´

ç¬¬äºŒæ¬¡è¯·æ±‚ï¼š
å®¢æˆ·ç«¯ â†’ æœåŠ¡å™¨ï¼šè·å–æ–°é—» + If-Modified-Sinceæ—¶é—´
æœåŠ¡å™¨æ£€æŸ¥ï¼šæ–°é—»æœ‰å˜åŒ–å—ï¼Ÿ
- æœ‰å˜åŒ– â†’ è¿”å›æ–°æ•°æ®ï¼ˆ200çŠ¶æ€ï¼‰â†’ successå›è°ƒ
- æ²¡å˜åŒ– â†’ è¿”å›304çŠ¶æ€ â†’ errorå›è°ƒï¼ˆxhr.status === 304ï¼‰
```

**å®é™…åº”ç”¨åœºæ™¯**ï¼š
```javascript
// å®šæœŸæ£€æŸ¥ç”¨æˆ·æ¶ˆæ¯
function checkNewMessages() {
    $.ajax({
        url: '/api/user/messages',
        ifModified: true,
        success: function(messages) {
            // æœ‰æ–°æ¶ˆæ¯æ—¶æ‰æ‰§è¡Œ
            updateMessageList(messages);
            showMessageNotification();
        },
        error: function(xhr) {
            if (xhr.status !== 304) {
                console.log('æ£€æŸ¥æ¶ˆæ¯å¤±è´¥');
            }
            // 304çŠ¶æ€è¡¨ç¤ºæ²¡æœ‰æ–°æ¶ˆæ¯ï¼Œä¸åšå¤„ç†
        }
    });
}

// æ¯åˆ†é’Ÿæ£€æŸ¥ä¸€æ¬¡
setInterval(checkNewMessages, 60000);
```

---

## 9. ğŸ“ å­—ç¬¦é›†è®¾ç½®


### 9.1 scriptCharset: å­—ç¬¦é›†è®¾ç½®


**å«ä¹‰è§£é‡Š**ï¼š
`scriptCharset`ç”¨äºè®¾ç½®é€šè¿‡`<script>`æ ‡ç­¾åŠ è½½çš„è„šæœ¬æ–‡ä»¶çš„**å­—ç¬¦ç¼–ç **ï¼Œä¸»è¦ç”¨äºJSONPè¯·æ±‚ã€‚

**ğŸ†• scriptCharset: è®¾ç½®scriptæ ‡ç­¾å­—ç¬¦é›†**ï¼š

```javascript
// JSONPè¯·æ±‚è®¾ç½®å­—ç¬¦é›†
$.ajax({
    url: 'https://api.example.com/data',
    dataType: 'jsonp',
    scriptCharset: 'utf-8',  // ç¡®ä¿æ­£ç¡®è§£æä¸­æ–‡
    success: function(data) {
        console.log('è·¨åŸŸæ•°æ®ï¼š', data);
    }
});
```

**ä»€ä¹ˆæ—¶å€™éœ€è¦è®¾ç½®**ï¼š
- è·¨åŸŸJSONPè¯·æ±‚
- æœåŠ¡å™¨è¿”å›çš„è„šæœ¬åŒ…å«ä¸­æ–‡æˆ–ç‰¹æ®Šå­—ç¬¦
- é¿å…ä¹±ç é—®é¢˜

**âš ï¸ æ³¨æ„**ï¼š
- ä¸»è¦ç”¨äºJSONPï¼Œæ™®é€šAjaxè¯·æ±‚å¾ˆå°‘ç”¨åˆ°
- ç°ä»£å¼€å‘æ›´å¤šä½¿ç”¨CORSè€Œä¸æ˜¯JSONP
- ç¡®ä¿ä¸æœåŠ¡å™¨ç¼–ç ä¸€è‡´

---

## 10. âš–ï¸ é…ç½®ä¼˜å…ˆçº§


### 10.1 é…ç½®è¦†ç›–è§„åˆ™


**ä¼˜å…ˆçº§é¡ºåº**ï¼ˆä»é«˜åˆ°ä½ï¼‰ï¼š
```
1. å•æ¬¡Ajaxè°ƒç”¨ä¸­çš„é…ç½®
2. $.ajaxSetup()è®¾ç½®çš„å…¨å±€é…ç½®  
3. jQueryé»˜è®¤é…ç½®
```

**å®é™…ç¤ºä¾‹**ï¼š
```javascript
// 1. è®¾ç½®å…¨å±€é»˜è®¤é…ç½®
$.ajaxSetup({
    timeout: 10000,
    cache: false,
    headers: {
        'X-App-Version': '1.0'
    }
});

// 2. å•æ¬¡è¯·æ±‚é…ç½®ï¼ˆä¼šè¦†ç›–å…¨å±€é…ç½®ï¼‰
$.ajax({
    url: '/api/special-data',
    timeout: 5000,        // è¦†ç›–å…¨å±€çš„10000
    cache: true,          // è¦†ç›–å…¨å±€çš„false
    headers: {
        'X-App-Version': '2.0',  // è¦†ç›–å…¨å±€çš„1.0
        'Authorization': 'Bearer token123'  // æ–°å¢é…ç½®
    },
    success: function(data) {
        console.log('ç‰¹æ®Šè¯·æ±‚å®Œæˆ');
    }
});
```

### 10.2 é…ç½®åˆå¹¶è§„åˆ™


**å¯¹è±¡å‹é…ç½®çš„åˆå¹¶**ï¼š
```javascript
// å…¨å±€é…ç½®
$.ajaxSetup({
    headers: {
        'X-App-Name': 'MyApp',
        'X-Version': '1.0'
    }
});

// å•æ¬¡è¯·æ±‚é…ç½®
$.ajax({
    url: '/api/data',
    headers: {
        'X-Version': '2.0',      // è¦†ç›–å…¨å±€é…ç½®
        'Authorization': 'token'  // æ–°å¢é…ç½®
    }
    // æœ€ç»ˆheadersï¼š
    // {
    //     'X-App-Name': 'MyApp',     // æ¥è‡ªå…¨å±€
    //     'X-Version': '2.0',        // è¢«è¦†ç›–
    //     'Authorization': 'token'    // æ–°å¢
    // }
});
```

---

## 11. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 11.1 å¿…é¡»æŒæ¡çš„é…ç½®é€‰é¡¹


```
ğŸ”¸ timeout: é˜²æ­¢è¯·æ±‚å¡æ­»ï¼Œè®¾ç½®è¶…æ—¶æ—¶é—´
ğŸ”¸ cache: false - ç¡®ä¿è·å–æœ€æ–°æ•°æ®
ğŸ”¸ async: true/false - æ§åˆ¶æ˜¯å¦é˜»å¡é¡µé¢
ğŸ”¸ beforeSend: æ˜¾ç¤ºåŠ è½½çŠ¶æ€ï¼Œé˜²æ­¢é‡å¤æäº¤  
ğŸ”¸ headers: è®¾ç½®èº«ä»½éªŒè¯å’Œè‡ªå®šä¹‰ä¿¡æ¯
ğŸ”¸ processData: false - æ–‡ä»¶ä¸Šä¼ æ—¶å¿…é¡»è®¾ç½®
ğŸ”¸ global: false - é™é»˜è¯·æ±‚ä¸æ˜¾ç¤ºåŠ è½½çŠ¶æ€
```

### 11.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ ä»€ä¹ˆæ—¶å€™ç”¨cache: false**ï¼š
- è·å–å®æ—¶æ•°æ®ï¼ˆè‚¡ä»·ã€æ–°é—»ï¼‰
- ç”¨æˆ·ç‚¹å‡»åˆ·æ–°æŒ‰é’®
- è¡¨å•æäº¤åé‡æ–°è·å–æ•°æ®

**ğŸ”¹ ä»€ä¹ˆæ—¶å€™ç”¨beforeSend**ï¼š
- æ˜¾ç¤ºåŠ è½½çŠ¶æ€
- ç¦ç”¨æäº¤æŒ‰é’®é˜²æ­¢é‡å¤ç‚¹å‡»
- æ¸…é™¤ä¹‹å‰çš„é”™è¯¯ä¿¡æ¯

**ğŸ”¹ ä»€ä¹ˆæ—¶å€™ç”¨global: false**ï¼š
- åå°å®šæ—¶ä»»åŠ¡
- å¿ƒè·³æ£€æµ‹
- ä¸éœ€è¦ç”¨æˆ·æ„ŸçŸ¥çš„è¯·æ±‚

### 11.3 å¸¸ç”¨é…ç½®æ¨¡æ¿


**è¡¨å•æäº¤é…ç½®**ï¼š
```javascript
$.ajax({
    url: '/api/submit',
    type: 'POST',
    data: formData,
    timeout: 15000,
    cache: false,
    beforeSend: function() {
        showLoading();
        disableButton();
    },
    success: function(result) {
        hideLoading();
        enableButton();
        showSuccess();
    },
    error: function() {
        hideLoading();
        enableButton();
        showError();
    }
});
```

**æ–‡ä»¶ä¸Šä¼ é…ç½®**ï¼š
```javascript
$.ajax({
    url: '/api/upload',
    type: 'POST',
    data: formData,
    processData: false,
    contentType: false,
    timeout: 60000,
    success: function(result) {
        alert('ä¸Šä¼ æˆåŠŸ');
    }
});
```

**é™é»˜åå°è¯·æ±‚**ï¼š
```javascript
$.ajax({
    url: '/api/heartbeat',
    global: false,
    timeout: 5000,
    cache: false,
    error: function() {
        console.log('è¿æ¥å¼‚å¸¸');
    }
});
```

**æ ¸å¿ƒè®°å¿†**ï¼š
- é…ç½®é€‰é¡¹è®©Ajaxè¯·æ±‚æ›´æ™ºèƒ½æ›´å¯æ§
- cache: falseç¡®ä¿æ•°æ®æ–°é²œ
- beforeSendæå‡ç”¨æˆ·ä½“éªŒ  
- timeouté˜²æ­¢è¯·æ±‚å¡æ­»
- æ ¹æ®éœ€æ±‚é€‰æ‹©åˆé€‚é…ç½®ï¼Œä¸è¦å…¨éƒ¨éƒ½ç”¨