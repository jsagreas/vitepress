---
title: 4ã€å›è°ƒå‡½æ•°thisæŒ‡å‘é—®é¢˜
---
## ğŸ“š ç›®å½•

1. [ä»€ä¹ˆæ˜¯thisæŒ‡å‘é—®é¢˜](#1-ä»€ä¹ˆæ˜¯thisæŒ‡å‘é—®é¢˜)
2. [jQuery Ajaxä¸­çš„thisæŒ‡å‘](#2-jQuery-Ajaxä¸­çš„thisæŒ‡å‘)
3. [ä¸åŒå›è°ƒå‡½æ•°ä¸­çš„thisè¡¨ç°](#3-ä¸åŒå›è°ƒå‡½æ•°ä¸­çš„thisè¡¨ç°)
4. [contextå‚æ•°æ§åˆ¶thisæŒ‡å‘](#4-contextå‚æ•°æ§åˆ¶thisæŒ‡å‘)
5. [ç®­å¤´å‡½æ•°ä¸thisçš„ç‰¹æ®Šå…³ç³»](#5-ç®­å¤´å‡½æ•°ä¸thisçš„ç‰¹æ®Šå…³ç³»)
6. [é¿å…thisæŒ‡å‘é—®é¢˜çš„å®ç”¨æ–¹æ³•](#6-é¿å…thisæŒ‡å‘é—®é¢˜çš„å®ç”¨æ–¹æ³•)
7. [å®é™…å¼€å‘æœ€ä½³å®è·µ](#7-å®é™…å¼€å‘æœ€ä½³å®è·µ)
8. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#8-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ¤” ä»€ä¹ˆæ˜¯thisæŒ‡å‘é—®é¢˜


### 1.1 thisåˆ°åº•æ˜¯ä»€ä¹ˆ


ç®€å•æ¥è¯´ï¼Œ**thiså°±æ˜¯"å½“å‰çš„ä¸»äºº"**ï¼Œå®ƒæŒ‡å‘æ­£åœ¨æ‰§è¡Œä»£ç çš„é‚£ä¸ªå¯¹è±¡ã€‚

```
å°±åƒç”Ÿæ´»ä¸­çš„ä¾‹å­ï¼š
- å°æ˜åœ¨è‡ªå·±å®¶é‡Œè¯´"æˆ‘çš„æˆ¿å­" â†’ "æˆ‘"æŒ‡å‘å°æ˜
- å°æ˜åœ¨æœ‹å‹å®¶é‡Œè¯´"æˆ‘çš„æˆ¿å­" â†’ "æˆ‘"è¿˜æ˜¯æŒ‡å‘å°æ˜
- ä½†å¦‚æœæœ‹å‹è¯´"æˆ‘çš„æˆ¿å­" â†’ "æˆ‘"å°±æŒ‡å‘æœ‹å‹

JavaScriptä¸­çš„thisä¹Ÿæ˜¯è¿™æ ·ï¼Œä¼šæ ¹æ®ä¸åŒæƒ…å†µæŒ‡å‘ä¸åŒçš„å¯¹è±¡
```

### 1.2 ä¸ºä»€ä¹ˆä¼šæœ‰æŒ‡å‘é—®é¢˜


**æ ¹æœ¬åŸå› **ï¼šJavaScriptä¸­å‡½æ•°æ‰§è¡Œæ—¶ï¼Œthisçš„æŒ‡å‘æ˜¯**åŠ¨æ€ç¡®å®š**çš„ï¼Œä¸æ˜¯å›ºå®šçš„ã€‚

```javascript
// åŒä¸€ä¸ªå‡½æ•°ï¼Œä¸åŒè°ƒç”¨æ–¹å¼ï¼Œthisä¸åŒ
function sayHello() {
    console.log(this);
}

sayHello();           // thisæŒ‡å‘window
obj.sayHello();       // thisæŒ‡å‘obj
button.onclick = sayHello;  // thisæŒ‡å‘button
```

### 1.3 Ajaxä¸­ä¸ºä»€ä¹ˆç‰¹åˆ«å®¹æ˜“å‡ºç°thisé—®é¢˜


åœ¨Ajaxè¯·æ±‚ä¸­ï¼Œ**å›è°ƒå‡½æ•°æ˜¯å¼‚æ­¥æ‰§è¡Œçš„**ï¼Œæ‰§è¡Œç¯å¢ƒå‘ç”Ÿäº†å˜åŒ–ï¼š

```
æ­£å¸¸æƒ…å†µï¼šæˆ‘åœ¨è‡ªå·±çš„ä»£ç é‡Œ â†’ thisæŒ‡å‘æˆ‘æœŸæœ›çš„å¯¹è±¡
Ajaxå›è°ƒï¼šä»£ç è¢«jQuery"æ‹¿èµ°"å¼‚æ­¥æ‰§è¡Œ â†’ thiså¯èƒ½æŒ‡å‘jQueryå†…éƒ¨å¯¹è±¡
```

---

## 2. ğŸ¯ jQuery Ajaxä¸­çš„thisæŒ‡å‘


### 2.1 é»˜è®¤æƒ…å†µä¸‹thisæŒ‡å‘ä»€ä¹ˆ


åœ¨jQuery Ajaxçš„å›è°ƒå‡½æ•°ä¸­ï¼Œ**thisé»˜è®¤æŒ‡å‘å½“å‰Ajaxè¯·æ±‚çš„é…ç½®å¯¹è±¡**ã€‚

```javascript
$.ajax({
    url: '/api/data',
    success: function(data) {
        console.log(this);  // è¾“å‡ºï¼šjQuery Ajaxé…ç½®å¯¹è±¡
        // thisåŒ…å«äº†urlã€typeã€dataTypeç­‰æ‰€æœ‰é…ç½®ä¿¡æ¯
    }
});
```

**é€šä¿—è§£é‡Š**ï¼š
- jQueryæŠŠAjaxé…ç½®åŒ…è£…æˆä¸€ä¸ªå¯¹è±¡
- å›è°ƒå‡½æ•°æ‰§è¡Œæ—¶ï¼Œthiså°±æŒ‡å‘è¿™ä¸ªé…ç½®å¯¹è±¡
- è¿™ä¸ªå¯¹è±¡åŒ…å«äº†è¯·æ±‚çš„æ‰€æœ‰è®¾ç½®ä¿¡æ¯

### 2.2 è¿™æ ·çš„é»˜è®¤æŒ‡å‘æœ‰ä»€ä¹ˆç”¨


```javascript
$.ajax({
    url: '/api/users',
    type: 'GET',
    success: function(data) {
        console.log('è¯·æ±‚åœ°å€ï¼š', this.url);    // /api/users
        console.log('è¯·æ±‚æ–¹å¼ï¼š', this.type);   // GET
        
        // å¯ä»¥è·å–åˆ°å½“å‰è¯·æ±‚çš„æ‰€æœ‰é…ç½®ä¿¡æ¯
        if (this.url.includes('users')) {
            // æ ¹æ®è¯·æ±‚åœ°å€åšä¸åŒå¤„ç†
        }
    }
});
```

### 2.3 ä»€ä¹ˆæ—¶å€™thisæŒ‡å‘ä¼šæˆä¸ºé—®é¢˜


**é—®é¢˜åœºæ™¯**ï¼šå½“ä½ éœ€è¦åœ¨å›è°ƒå‡½æ•°ä¸­è®¿é—®å¤–éƒ¨å¯¹è±¡æ—¶

```javascript
var userManager = {
    users: [],
    loadUsers: function() {
        $.ajax({
            url: '/api/users',
            success: function(data) {
                // æƒ³è¦æŠŠæ•°æ®å­˜åˆ°usersæ•°ç»„ä¸­
                this.users = data;  // âŒ é”™è¯¯ï¼thisä¸æ˜¯userManager
                console.log(this.users);  // undefined
            }
        });
    }
};

userManager.loadUsers();
```

**é—®é¢˜åˆ†æ**ï¼š
- æˆ‘ä»¬æœŸæœ›ï¼šthisæŒ‡å‘userManagerå¯¹è±¡
- å®é™…æƒ…å†µï¼šthisæŒ‡å‘Ajaxé…ç½®å¯¹è±¡
- ç»“æœï¼šæ— æ³•è®¿é—®userManagerçš„userså±æ€§

---

## 3. ğŸ”„ ä¸åŒå›è°ƒå‡½æ•°ä¸­çš„thisè¡¨ç°


### 3.1 å„ç§å›è°ƒå‡½æ•°çš„thisæŒ‡å‘


```javascript
var myObject = {
    name: 'MyObj',
    testAjax: function() {
        $.ajax({
            url: '/test',
            
            beforeSend: function() {
                console.log('beforeSendä¸­çš„this:', this);
                // æŒ‡å‘ï¼šAjaxé…ç½®å¯¹è±¡
            },
            
            success: function(data) {
                console.log('successä¸­çš„this:', this);
                // æŒ‡å‘ï¼šAjaxé…ç½®å¯¹è±¡
            },
            
            error: function() {
                console.log('errorä¸­çš„this:', this);
                // æŒ‡å‘ï¼šAjaxé…ç½®å¯¹è±¡
            },
            
            complete: function() {
                console.log('completeä¸­çš„this:', this);
                // æŒ‡å‘ï¼šAjaxé…ç½®å¯¹è±¡
            }
        });
    }
};
```

### 3.2 thisæŒ‡å‘çš„ä¸€è‡´æ€§


**é‡è¦ç‰¹ç‚¹**ï¼šæ‰€æœ‰Ajaxå›è°ƒå‡½æ•°ä¸­çš„thisæŒ‡å‘éƒ½æ˜¯ä¸€è‡´çš„ï¼Œéƒ½æŒ‡å‘åŒä¸€ä¸ªAjaxé…ç½®å¯¹è±¡ã€‚

```
è¯·æ±‚å‘é€å‰ â†’ beforeSendä¸­çš„this
è¯·æ±‚æˆåŠŸ   â†’ successä¸­çš„this      } éƒ½æŒ‡å‘ç›¸åŒçš„Ajaxé…ç½®å¯¹è±¡
è¯·æ±‚å¤±è´¥   â†’ errorä¸­çš„this
è¯·æ±‚å®Œæˆ   â†’ completeä¸­çš„this
```

### 3.3 ç®€åŒ–ç‰ˆAjaxæ–¹æ³•çš„thisæŒ‡å‘


```javascript
// $.getã€$.postç­‰ç®€åŒ–æ–¹æ³•
$.get('/api/data', function(data) {
    console.log(this);  // åŒæ ·æŒ‡å‘Ajaxé…ç½®å¯¹è±¡
});

$.post('/api/save', {name: 'test'}, function(result) {
    console.log(this);  // åŒæ ·æŒ‡å‘Ajaxé…ç½®å¯¹è±¡
});
```

---

## 4. âš™ï¸ contextå‚æ•°æ§åˆ¶thisæŒ‡å‘


### 4.1 contextå‚æ•°çš„ä½œç”¨


**contextå‚æ•°**ï¼šä¸“é—¨ç”¨æ¥è®¾ç½®å›è°ƒå‡½æ•°ä¸­thisçš„æŒ‡å‘ã€‚

```javascript
var myObject = {
    name: 'MyObject',
    users: [],
    
    loadUsers: function() {
        $.ajax({
            url: '/api/users',
            context: this,  // ğŸ”‘ å…³é”®ï¼šè®¾ç½®contextä¸ºå½“å‰å¯¹è±¡
            success: function(data) {
                console.log(this.name);   // 'MyObject'
                this.users = data;        // âœ… æ­£ç¡®ï¼šå¯ä»¥è®¿é—®userså±æ€§
            }
        });
    }
};
```

### 4.2 contextå‚æ•°çš„å·¥ä½œåŸç†


```
æ²¡æœ‰contextï¼š
å›è°ƒå‡½æ•°ä¸­çš„this â†’ Ajaxé…ç½®å¯¹è±¡

è®¾ç½®contextï¼š
å›è°ƒå‡½æ•°ä¸­çš„this â†’ contextæŒ‡å®šçš„å¯¹è±¡
```

**é€šä¿—ç†è§£**ï¼š
- contextå°±åƒæ˜¯å‘Šè¯‰jQueryï¼š"å›è°ƒå‡½æ•°æ‰§è¡Œæ—¶ï¼Œè¯·æŠŠthisæŒ‡å‘æˆ‘æŒ‡å®šçš„å¯¹è±¡"
- jQueryä¼šè®°ä½è¿™ä¸ªè®¾ç½®ï¼Œåœ¨æ‰§è¡Œå›è°ƒæ—¶æ”¹å˜thisçš„æŒ‡å‘

### 4.3 contextçš„ä¸åŒç”¨æ³•


```javascript
// æ–¹æ³•1ï¼šç›´æ¥ä¼ å…¥å¯¹è±¡
$.ajax({
    url: '/api/data',
    context: document.body,  // thisæŒ‡å‘bodyå…ƒç´ 
    success: function() {
        $(this).addClass('loaded');  // ç»™bodyæ·»åŠ ç±»å
    }
});

// æ–¹æ³•2ï¼šä¼ å…¥è‡ªå®šä¹‰å¯¹è±¡
var config = {
    apiUrl: '/api/users',
    processData: function(data) {
        // å¤„ç†æ•°æ®çš„æ–¹æ³•
    }
};

$.ajax({
    url: config.apiUrl,
    context: config,
    success: function(data) {
        this.processData(data);  // è°ƒç”¨configå¯¹è±¡çš„æ–¹æ³•
    }
});
```

### 4.4 contextä½¿ç”¨æ³¨æ„äº‹é¡¹


```javascript
// âœ… æ­£ç¡®ç”¨æ³•
var obj = {
    prop: 'value',
    method: function() {
        $.ajax({
            url: '/test',
            context: this,  // æ˜ç¡®æŒ‡å‘å½“å‰å¯¹è±¡
            success: function() {
                console.log(this.prop);  // 'value'
            }
        });
    }
};

// âŒ å¸¸è§é”™è¯¯
function normalFunction() {
    $.ajax({
        url: '/test',
        context: this,  // thiså¯èƒ½æŒ‡å‘windowï¼Œä¸æ˜¯ä½ æƒ³è¦çš„
        success: function() {
            // thisæŒ‡å‘windowï¼Œå¯èƒ½ä¸æ˜¯æœŸæœ›çš„ç»“æœ
        }
    });
}
```

---

## 5. ğŸ¹ ç®­å¤´å‡½æ•°ä¸thisçš„ç‰¹æ®Šå…³ç³»


### 5.1 ç®­å¤´å‡½æ•°çš„thisç‰¹ç‚¹


**æ ¸å¿ƒç‰¹ç‚¹**ï¼šç®­å¤´å‡½æ•°**æ²¡æœ‰è‡ªå·±çš„this**ï¼Œå®ƒä¼šä½¿ç”¨å¤–å±‚ä½œç”¨åŸŸçš„thisã€‚

```javascript
var myObject = {
    name: 'MyObject',
    users: [],
    
    loadUsers: function() {
        // æ™®é€šå‡½æ•° - thisæŒ‡å‘ä¼šæ”¹å˜
        $.ajax({
            url: '/api/users',
            success: function(data) {
                console.log(this);  // Ajaxé…ç½®å¯¹è±¡
            }
        });
        
        // ç®­å¤´å‡½æ•° - thisä¿æŒä¸å˜
        $.ajax({
            url: '/api/users',
            success: (data) => {
                console.log(this);      // myObjectå¯¹è±¡
                this.users = data;      // âœ… å¯ä»¥æ­£å¸¸è®¿é—®
            }
        });
    }
};
```

### 5.2 ç®­å¤´å‡½æ•°è§£å†³thisé—®é¢˜çš„åŸç†


```
ä¼ ç»Ÿå‡½æ•°ï¼š  æœ‰è‡ªå·±çš„this â†’ æ‰§è¡Œæ—¶thisä¼šæ”¹å˜
ç®­å¤´å‡½æ•°ï¼š  æ²¡æœ‰è‡ªå·±çš„this â†’ ä½¿ç”¨å®šä¹‰æ—¶å¤–å±‚çš„this
```

**ç”Ÿæ´»åŒ–æ¯”å–»**ï¼š
- æ™®é€šå‡½æ•°ï¼šåƒå˜è‰²é¾™ï¼Œåˆ°å“ªé‡Œå°±å˜æˆå“ªé‡Œçš„é¢œè‰²ï¼ˆthisï¼‰
- ç®­å¤´å‡½æ•°ï¼šåƒç…§ç‰‡ï¼Œæ°¸è¿œä¿æŒæ‹æ‘„æ—¶çš„æ ·å­ï¼ˆå¤–å±‚thisï¼‰

### 5.3 ç®­å¤´å‡½æ•°çš„å®é™…åº”ç”¨


```javascript
class UserManager {
    constructor() {
        this.users = [];
        this.loading = false;
    }
    
    async loadUsers() {
        this.loading = true;
        
        // ä½¿ç”¨ç®­å¤´å‡½æ•°ï¼Œthiså§‹ç»ˆæŒ‡å‘UserManagerå®ä¾‹
        $.ajax({
            url: '/api/users',
            success: (data) => {
                this.users = data;           // âœ… æ­£ç¡®è®¿é—®
                this.loading = false;        // âœ… æ­£ç¡®è®¿é—®
                this.updateUI();            // âœ… æ­£ç¡®è°ƒç”¨æ–¹æ³•
            },
            error: () => {
                this.loading = false;        // âœ… ä¿æŒä¸€è‡´çš„thisæŒ‡å‘
                this.showError('åŠ è½½å¤±è´¥');
            }
        });
    }
    
    updateUI() {
        console.log('æ›´æ–°ç•Œé¢');
    }
    
    showError(message) {
        console.log('é”™è¯¯ï¼š', message);
    }
}
```

### 5.4 ç®­å¤´å‡½æ•°çš„é™åˆ¶


::: warning æ³¨æ„
ç®­å¤´å‡½æ•°ä¸èƒ½ç”¨åœ¨å¯¹è±¡æ–¹æ³•å®šä¹‰ä¸­ï¼š
:::

```javascript
// âŒ é”™è¯¯ç”¨æ³• - å¯¹è±¡æ–¹æ³•ä¸è¦ç”¨ç®­å¤´å‡½æ•°
var obj = {
    name: 'test',
    loadData: () => {  // ç®­å¤´å‡½æ•°çš„thisæŒ‡å‘windowï¼Œä¸æ˜¯obj
        $.ajax({
            url: '/api',
            success: (data) => {
                console.log(this.name);  // undefinedï¼Œthisæ˜¯window
            }
        });
    }
};

// âœ… æ­£ç¡®ç”¨æ³• - å¯¹è±¡æ–¹æ³•ç”¨æ™®é€šå‡½æ•°
var obj = {
    name: 'test',
    loadData: function() {  // æ™®é€šå‡½æ•°ï¼ŒthisæŒ‡å‘obj
        $.ajax({
            url: '/api',
            success: (data) => {  // å›è°ƒç”¨ç®­å¤´å‡½æ•°
                console.log(this.name);  // 'test'ï¼Œthisæ˜¯obj
            }
        });
    }
};
```

---

## 6. ğŸ› ï¸ é¿å…thisæŒ‡å‘é—®é¢˜çš„å®ç”¨æ–¹æ³•


### 6.1 æ–¹æ³•ä¸€ï¼šå˜é‡ä¿å­˜thisï¼ˆæœ€é€šç”¨ï¼‰


```javascript
var myObject = {
    users: [],
    loadUsers: function() {
        var self = this;  // ğŸ”‘ ä¿å­˜å¤–å±‚çš„this
        
        $.ajax({
            url: '/api/users',
            success: function(data) {
                // ä½¿ç”¨selfè®¿é—®å¤–å±‚å¯¹è±¡
                self.users = data;           // âœ… æ­£ç¡®
                console.log(self.users);     // âœ… æ­£ç¡®
            },
            error: function() {
                self.showError('åŠ è½½å¤±è´¥');  // âœ… æ­£ç¡®
            }
        });
    },
    
    showError: function(msg) {
        console.log('é”™è¯¯ï¼š', msg);
    }
};
```

**å˜é‡å‘½åä¹ æƒ¯**ï¼š
- `self`ï¼šæœ€å¸¸ç”¨
- `that`ï¼šä¹Ÿå¾ˆå¸¸è§
- `_this`ï¼šä¸€äº›å›¢é˜Ÿä½¿ç”¨

### 6.2 æ–¹æ³•äºŒï¼šä½¿ç”¨bindæ–¹æ³•


```javascript
var myObject = {
    users: [],
    loadUsers: function() {
        $.ajax({
            url: '/api/users',
            // bindå¼ºåˆ¶ç»‘å®šthisæŒ‡å‘
            success: function(data) {
                this.users = data;  // âœ… thisæŒ‡å‘myObject
            }.bind(this),  // ğŸ”‘ å…³é”®ï¼šç»‘å®šå¤–å±‚this
            
            error: function() {
                this.showError('å¤±è´¥');
            }.bind(this)
        });
    }
};
```

### 6.3 æ–¹æ³•ä¸‰ï¼šä½¿ç”¨callæˆ–apply


```javascript
var myObject = {
    users: [],
    loadUsers: function() {
        var that = this;
        
        $.ajax({
            url: '/api/users',
            success: function(data) {
                // ä½¿ç”¨callæ”¹å˜thisæŒ‡å‘
                that.processData.call(that, data);
            }
        });
    },
    
    processData: function(data) {
        this.users = data;
        console.log('æ•°æ®å¤„ç†å®Œæˆ');
    }
};
```

### 6.4 æ–¹æ³•å››ï¼šjQueryçš„proxyæ–¹æ³•


```javascript
var myObject = {
    users: [],
    loadUsers: function() {
        $.ajax({
            url: '/api/users',
            // $.proxyåˆ›å»ºç»‘å®šäº†thisçš„å‡½æ•°
            success: $.proxy(function(data) {
                this.users = data;  // âœ… thisæŒ‡å‘myObject
            }, this)  // ç¬¬äºŒä¸ªå‚æ•°æ˜¯thisæŒ‡å‘çš„å¯¹è±¡
        });
    }
};
```

### 6.5 å„ç§æ–¹æ³•çš„å¯¹æ¯”


| æ–¹æ³• | **ä¼˜ç‚¹** | **ç¼ºç‚¹** | **æ¨èåº¦** |
|------|---------|---------|-----------|
| **å˜é‡ä¿å­˜** | `ç®€å•æ˜“æ‡‚ï¼Œå…¼å®¹æ€§å¥½` | `éœ€è¦é¢å¤–å˜é‡` | `â­â­â­â­â­` |
| **ç®­å¤´å‡½æ•°** | `è¯­æ³•ç®€æ´ï¼Œç°ä»£åŒ–` | `ES6è¯­æ³•ï¼Œæ—§æµè§ˆå™¨ä¸æ”¯æŒ` | `â­â­â­â­` |
| **contextå‚æ•°** | `jQueryåŸç”Ÿæ”¯æŒ` | `åªé€‚ç”¨äºAjax` | `â­â­â­â­` |
| **bindæ–¹æ³•** | `åŸç”ŸJSæ–¹æ³•` | `è¯­æ³•ç•¥å¤æ‚` | `â­â­â­` |
| **$.proxy** | `jQueryä¸“ç”¨` | `ä¾èµ–jQuery` | `â­â­` |

---

## 7. ğŸ’¡ å®é™…å¼€å‘æœ€ä½³å®è·µ


### 7.1 æ¨èçš„æ ‡å‡†æ¨¡å¼


```javascript
// æ¨èæ¨¡å¼ï¼šç»“åˆå¤šç§æ–¹æ³•çš„ä¼˜åŠ¿
class DataManager {
    constructor() {
        this.data = [];
        this.loading = false;
    }
    
    // ä¸»è¦é€»è¾‘ï¼šä½¿ç”¨ç®­å¤´å‡½æ•°
    async loadData() {
        this.loading = true;
        
        try {
            const result = await $.ajax({
                url: '/api/data',
                context: this,  // ä¿é™©èµ·è§åŠ ä¸Šcontext
                success: (data) => {
                    this.data = data;
                    this.loading = false;
                    this.onDataLoaded();
                },
                error: () => {
                    this.loading = false;
                    this.handleError();
                }
            });
        } catch (error) {
            console.error('è¯·æ±‚å¤±è´¥ï¼š', error);
        }
    }
    
    onDataLoaded() {
        console.log('æ•°æ®åŠ è½½å®Œæˆï¼Œå…±', this.data.length, 'æ¡');
    }
    
    handleError() {
        console.log('æ•°æ®åŠ è½½å¤±è´¥');
    }
}
```

### 7.2 å›¢é˜Ÿå¼€å‘è§„èŒƒå»ºè®®


```javascript
// å»ºè®®1ï¼šç»Ÿä¸€ä½¿ç”¨å˜é‡ä¿å­˜thisçš„å‘½å
var self = this;  // æ¨èä½¿ç”¨self

// å»ºè®®2ï¼šåœ¨æ–‡æ¡£ä¸­æ˜ç¡®è¯´æ˜thisæŒ‡å‘
/**
 * åŠ è½½ç”¨æˆ·æ•°æ®
 * æ³¨æ„ï¼šsuccesså›è°ƒä¸­çš„thisæŒ‡å‘å½“å‰å®ä¾‹
 */
loadUsers: function() {
    var self = this;
    // ... Ajaxä»£ç 
}

// å»ºè®®3ï¼šå¤æ‚é¡¹ç›®ä½¿ç”¨TypeScript
class UserService {
    private users: User[] = [];
    
    public async loadUsers(): Promise<void> {
        // TypeScriptèƒ½æ›´å¥½åœ°æ£€æŸ¥thisæŒ‡å‘é—®é¢˜
        const response = await $.ajax({
            url: '/api/users',
            success: (data: User[]) => {
                this.users = data;  // ç±»å‹å®‰å…¨
            }
        });
    }
}
```

### 7.3 è°ƒè¯•thisæŒ‡å‘é—®é¢˜çš„æŠ€å·§


```javascript
// æŠ€å·§1ï¼šåœ¨å›è°ƒå‡½æ•°å¼€å¤´æ‰“å°this
$.ajax({
    url: '/test',
    success: function(data) {
        console.log('successä¸­çš„this:', this);  // å…ˆç¡®è®¤thisæ˜¯ä»€ä¹ˆ
        console.log('thisçš„ç±»å‹:', typeof this);
        console.log('thisçš„æ„é€ å‡½æ•°:', this.constructor.name);
        
        // ç„¶åå†ä½¿ç”¨this
    }
});

// æŠ€å·§2ï¼šä½¿ç”¨æµè§ˆå™¨æ–­ç‚¹è°ƒè¯•
$.ajax({
    url: '/test',
    success: function(data) {
        debugger;  // æµè§ˆå™¨ä¼šåœ¨è¿™é‡Œæš‚åœï¼Œå¯ä»¥æŸ¥çœ‹thisçš„å€¼
        // åœ¨å¼€å‘è€…å·¥å…·ä¸­è¾“å…¥ this æŸ¥çœ‹å…·ä½“å†…å®¹
    }
});

// æŠ€å·§3ï¼šåˆ›å»ºæµ‹è¯•å‡½æ•°éªŒè¯thisæŒ‡å‘
function testThis() {
    console.log('å‡½æ•°ä¸­çš„this:', this);
    
    $.ajax({
        url: '/test',
        success: function() {
            console.log('Ajax successä¸­çš„this:', this);
        }
    });
}

// ä¸åŒè°ƒç”¨æ–¹å¼æµ‹è¯•thisæŒ‡å‘
testThis();              // å…¨å±€è°ƒç”¨
obj.test = testThis;
obj.test();             // å¯¹è±¡æ–¹æ³•è°ƒç”¨
```

---

## 8. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 8.1 å¿…é¡»ç†è§£çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ thisæŒ‡å‘ï¼šåŠ¨æ€ç¡®å®šï¼Œå–å†³äºå‡½æ•°è°ƒç”¨æ–¹å¼
ğŸ”¸ Ajaxå›è°ƒï¼šé»˜è®¤thisæŒ‡å‘Ajaxé…ç½®å¯¹è±¡ï¼Œä¸æ˜¯å¤–å±‚å¯¹è±¡
ğŸ”¸ è§£å†³æ–¹æ¡ˆï¼šå˜é‡ä¿å­˜ã€ç®­å¤´å‡½æ•°ã€contextå‚æ•°ã€bindæ–¹æ³•
ğŸ”¸ ç®­å¤´å‡½æ•°ï¼šæ²¡æœ‰è‡ªå·±çš„thisï¼Œä½¿ç”¨å¤–å±‚ä½œç”¨åŸŸçš„this
ğŸ”¸ æœ€ä½³å®è·µï¼šæ ¹æ®é¡¹ç›®éœ€æ±‚é€‰æ‹©æœ€é€‚åˆçš„è§£å†³æ–¹æ¡ˆ
```

### 8.2 å¸¸è§é”™è¯¯ä¸è§£å†³


**âŒ å¸¸è§é”™è¯¯**ï¼š
```javascript
// é”™è¯¯ï¼šæœŸæœ›thisæŒ‡å‘å¤–å±‚å¯¹è±¡
var obj = {
    data: [],
    load: function() {
        $.ajax({
            success: function(result) {
                this.data = result;  // thisä¸æ˜¯objï¼
            }
        });
    }
};
```

**âœ… æ­£ç¡®åšæ³•**ï¼š
```javascript
// æ­£ç¡®ï¼šæ˜ç¡®æ§åˆ¶thisæŒ‡å‘
var obj = {
    data: [],
    load: function() {
        var self = this;  // ä¿å­˜å¤–å±‚this
        $.ajax({
            success: function(result) {
                self.data = result;  // ä½¿ç”¨ä¿å­˜çš„this
            }
        });
    }
};
```

### 8.3 é€‰æ‹©æ–¹æ¡ˆçš„åˆ¤æ–­æ ‡å‡†


```
é¡¹ç›®æ”¯æŒES6 + ç®€å•åœºæ™¯ï¼š
â†’ ä¼˜å…ˆä½¿ç”¨ç®­å¤´å‡½æ•°

éœ€è¦å…¼å®¹æ—§æµè§ˆå™¨ï¼š
â†’ ä½¿ç”¨å˜é‡ä¿å­˜this

åªåœ¨Ajaxä¸­é‡åˆ°thisé—®é¢˜ï¼š
â†’ ä½¿ç”¨contextå‚æ•°

éœ€è¦å¤ç”¨å‡½æ•°é€»è¾‘ï¼š
â†’ ä½¿ç”¨bindæ–¹æ³•
```

### 8.4 è®°å¿†è¦ç‚¹


**ğŸ”‘ å…³é”®ç†è§£**ï¼š
- **é—®é¢˜æ ¹æº**ï¼šAjaxå›è°ƒå¼‚æ­¥æ‰§è¡Œï¼ŒthisæŒ‡å‘å‘ç”Ÿå˜åŒ–
- **è§£å†³æ€è·¯**ï¼šè¦ä¹ˆå›ºå®šthisæŒ‡å‘ï¼Œè¦ä¹ˆä¿å­˜å¤–å±‚this
- **æœ€ç®€å•æ–¹æ¡ˆ**ï¼šç”¨å˜é‡ä¿å­˜å¤–å±‚thisï¼ˆ`var self = this`ï¼‰
- **æœ€ç°ä»£æ–¹æ¡ˆ**ï¼šä½¿ç”¨ç®­å¤´å‡½æ•°ä¿æŒthisä¸å˜
- **jQueryä¸“ç”¨**ï¼šä½¿ç”¨contextå‚æ•°è®¾ç½®thisæŒ‡å‘

**å®ç”¨å£è¯€**ï¼š
```
Ajaxå›è°ƒthisä¼šå˜ï¼Œ
ä¿å­˜å¤–å±‚æœ€ç®€å•ï¼Œ
ç®­å¤´å‡½æ•°æ›´ç°ä»£ï¼Œ
contextå‚æ•°jQueryä¸“ç”¨é€‰ã€‚
```