---
title: 1ã€nginx-å®‰è£…é…ç½®
---
## ğŸ“š ç›®å½•

1. [Nginxå®‰è£…å‰çš„å‡†å¤‡å·¥ä½œ](#1-nginxå®‰è£…å‰çš„å‡†å¤‡å·¥ä½œ)
2. [åŒ…ç®¡ç†å™¨å®‰è£…ï¼ˆæ¨èæ–°æ‰‹ï¼‰](#2-åŒ…ç®¡ç†å™¨å®‰è£…æ¨èæ–°æ‰‹)
3. [æºç ç¼–è¯‘å®‰è£…ï¼ˆè¿›é˜¶ï¼‰](#3-æºç ç¼–è¯‘å®‰è£…è¿›é˜¶)
4. [Dockerå®¹å™¨éƒ¨ç½²](#4-dockerå®¹å™¨éƒ¨ç½²)
5. [å®‰è£…åçš„åŸºæœ¬é…ç½®](#5-å®‰è£…åçš„åŸºæœ¬é…ç½®)
6. [å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ](#6-å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ)
7. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#7-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ”§ Nginxå®‰è£…å‰çš„å‡†å¤‡å·¥ä½œ


### 1.1 ä»€ä¹ˆæ˜¯Nginxå®‰è£…


**é€šä¿—ç†è§£**ï¼šå°±åƒåœ¨ç”µè„‘ä¸Šå®‰è£…QQã€å¾®ä¿¡ä¸€æ ·ï¼Œæˆ‘ä»¬éœ€è¦æŠŠNginxè¿™ä¸ªè½¯ä»¶è£…åˆ°æœåŠ¡å™¨ä¸Šæ‰èƒ½ä½¿ç”¨ã€‚

**ä¸ºä»€ä¹ˆè¦å®‰è£…**ï¼š
- Nginxæœ¬èº«æ˜¯ä¸€ä¸ªè½¯ä»¶ç¨‹åºï¼Œéœ€è¦å®‰è£…æ‰èƒ½è¿è¡Œ
- ä¸åŒç³»ç»Ÿæœ‰ä¸åŒçš„å®‰è£…æ–¹æ³•ï¼Œå°±åƒWindowsç”¨`.exe`ï¼Œæ‰‹æœºç”¨`.apk`
- å®‰è£…è¿‡ç¨‹ä¼šæŠŠNginxçš„å„ç§æ–‡ä»¶æ”¾åˆ°ç³»ç»Ÿçš„æŒ‡å®šä½ç½®

### 1.2 ç³»ç»Ÿè¦æ±‚æ£€æŸ¥


**ğŸ“‹ æ”¯æŒçš„æ“ä½œç³»ç»Ÿ**
```
âœ… æ¨èç³»ç»Ÿï¼ˆå®˜æ–¹æ”¯æŒå¥½ï¼‰ï¼š
  â€¢ Ubuntu 18.04+ / Debian 9+
  â€¢ CentOS 7+ / RHEL 7+
  â€¢ Amazon Linux 2

âš ï¸ å¯ç”¨ä½†éœ€æ³¨æ„ï¼š
  â€¢ Windowsï¼ˆåŠŸèƒ½æœ‰é™åˆ¶ï¼‰
  â€¢ macOSï¼ˆä¸»è¦ç”¨äºå¼€å‘æµ‹è¯•ï¼‰
```

**ğŸ’» ç¡¬ä»¶åŸºæœ¬è¦æ±‚**
- **å†…å­˜**ï¼šæœ€å°‘512MBï¼Œæ¨è1GBä»¥ä¸Š
- **ç¡¬ç›˜**ï¼š100MBç©ºé—´ï¼ˆåŸºç¡€å®‰è£…ï¼‰
- **CPU**ï¼šæ— ç‰¹æ®Šè¦æ±‚ï¼Œæ™®é€šæœåŠ¡å™¨å³å¯

**ğŸ” æ£€æŸ¥ç³»ç»Ÿä¿¡æ¯**
```bash
# æŸ¥çœ‹ç³»ç»Ÿç‰ˆæœ¬
cat /etc/os-release

# æŸ¥çœ‹å†…å­˜æƒ…å†µ
free -h

# æŸ¥çœ‹ç¡¬ç›˜ç©ºé—´
df -h
```

### 1.3 æƒé™å‡†å¤‡


**ä¸ºä»€ä¹ˆéœ€è¦ç®¡ç†å‘˜æƒé™**ï¼š
- Nginxéœ€è¦ç›‘å¬80ã€443ç«¯å£ï¼ˆç³»ç»Ÿç«¯å£éœ€è¦æƒé™ï¼‰
- éœ€è¦åˆ›å»ºç³»ç»Ÿç”¨æˆ·å’Œæ–‡ä»¶å¤¹
- éœ€è¦ä¿®æ”¹ç³»ç»Ÿé…ç½®

**æƒé™æ£€æŸ¥**ï¼š
```bash
# æ£€æŸ¥æ˜¯å¦æœ‰sudoæƒé™
sudo whoami
# åº”è¯¥æ˜¾ç¤ºï¼šroot
```

---

## 2. ğŸ“¦ åŒ…ç®¡ç†å™¨å®‰è£…ï¼ˆæ¨èæ–°æ‰‹ï¼‰


### 2.1 ä¸ºä»€ä¹ˆæ¨èåŒ…ç®¡ç†å™¨å®‰è£…


**ğŸ¯ æ–°æ‰‹å‹å¥½çš„åŸå› **ï¼š
- **ä¸€é”®å®‰è£…**ï¼šå°±åƒæ‰‹æœºåº”ç”¨å•†åº—ä¸‹è½½APP
- **è‡ªåŠ¨å¤„ç†ä¾èµ–**ï¼šç³»ç»Ÿè‡ªåŠ¨å®‰è£…éœ€è¦çš„å…¶ä»–è½¯ä»¶
- **å®‰å…¨å¯é **ï¼šå®˜æ–¹éªŒè¯è¿‡çš„ç‰ˆæœ¬
- **å®¹æ˜“å¸è½½**ï¼šä¸å–œæ¬¢å¯ä»¥è½»æ¾åˆ é™¤

**åŒ…ç®¡ç†å™¨æ˜¯ä»€ä¹ˆ**ï¼š
- Ubuntu/Debianï¼š`apt`ï¼ˆå°±åƒåº”ç”¨å•†åº—ï¼‰
- CentOS/RHELï¼š`yum`æˆ–`dnf`
- å®ƒä»¬ç®¡ç†ç€è½¯ä»¶çš„ä¸‹è½½ã€å®‰è£…ã€æ›´æ–°ã€åˆ é™¤

### 2.2 Ubuntu/Debianç³»ç»Ÿå®‰è£…


**ğŸ“ å®Œæ•´å®‰è£…æ­¥éª¤**

**æ­¥éª¤1ï¸âƒ£ï¼šæ›´æ–°è½¯ä»¶åˆ—è¡¨**
```bash
# å°±åƒåˆ·æ–°åº”ç”¨å•†åº—çš„è½¯ä»¶åˆ—è¡¨
sudo apt update
```

**æ­¥éª¤2ï¸âƒ£ï¼šå®‰è£…Nginx**
```bash
# ä»å®˜æ–¹æºå®‰è£…æœ€æ–°ç¨³å®šç‰ˆ
sudo apt install nginx
```

**æ­¥éª¤3ï¸âƒ£ï¼šå¯åŠ¨å¹¶è®¾ç½®å¼€æœºè‡ªå¯**
```bash
# å¯åŠ¨NginxæœåŠ¡
sudo systemctl start nginx

# è®¾ç½®å¼€æœºè‡ªåŠ¨å¯åŠ¨ï¼ˆé‡å¯æœåŠ¡å™¨åè‡ªåŠ¨è¿è¡Œï¼‰
sudo systemctl enable nginx

# æ£€æŸ¥è¿è¡ŒçŠ¶æ€
sudo systemctl status nginx
```

**âœ… å®‰è£…æˆåŠŸéªŒè¯**
```
åœ¨æµè§ˆå™¨è®¿é—®ï¼šhttp://ä½ çš„æœåŠ¡å™¨IP
çœ‹åˆ°"Welcome to nginx!"é¡µé¢å°±è¯´æ˜å®‰è£…æˆåŠŸäº†
```

### 2.3 CentOS/RHELç³»ç»Ÿå®‰è£…


**ğŸ”„ CentOS 7/8 å®‰è£…æ­¥éª¤**

**æ­¥éª¤1ï¸âƒ£ï¼šæ·»åŠ å®˜æ–¹ä»“åº“**ï¼ˆè·å–æœ€æ–°ç‰ˆæœ¬ï¼‰
```bash
# å®‰è£…EPELä»“åº“ï¼ˆåŒ…å«æ›´å¤šè½¯ä»¶ï¼‰
sudo yum install epel-release

# æˆ–è€…æ·»åŠ Nginxå®˜æ–¹ä»“åº“
sudo yum install yum-utils
```

**æ­¥éª¤2ï¸âƒ£ï¼šå®‰è£…Nginx**
```bash
# å®‰è£…å‘½ä»¤
sudo yum install nginx

# CentOS 8å¯ä»¥ç”¨dnf
sudo dnf install nginx
```

**æ­¥éª¤3ï¸âƒ£ï¼šå¯åŠ¨é…ç½®**
```bash
# å¯åŠ¨æœåŠ¡
sudo systemctl start nginx
sudo systemctl enable nginx

# å¼€æ”¾é˜²ç«å¢™ç«¯å£ï¼ˆé‡è¦ï¼ï¼‰
sudo firewall-cmd --permanent --add-service=http
sudo firewall-cmd --permanent --add-service=https
sudo firewall-cmd --reload
```

### 2.4 å¿«é€ŸéªŒè¯å®‰è£…


**ğŸš€ ä¸‰ç§éªŒè¯æ–¹æ³•**

| éªŒè¯æ–¹å¼ | å‘½ä»¤/æ“ä½œ | æˆåŠŸæ ‡å¿— |
|---------|-----------|----------|
| **å‘½ä»¤è¡Œæ£€æŸ¥** | `nginx -v` | æ˜¾ç¤ºç‰ˆæœ¬å· |
| **æœåŠ¡çŠ¶æ€** | `systemctl status nginx` | æ˜¾ç¤º`active (running)` |
| **æµè§ˆå™¨è®¿é—®** | `http://æœåŠ¡å™¨IP` | æ˜¾ç¤ºæ¬¢è¿é¡µé¢ |

---

## 3. ğŸ› ï¸ æºç ç¼–è¯‘å®‰è£…ï¼ˆè¿›é˜¶ï¼‰


### 3.1 ä»€ä¹ˆæ˜¯æºç ç¼–è¯‘å®‰è£…


**é€šä¿—è§£é‡Š**ï¼š
- **åŒ…ç®¡ç†å™¨å®‰è£…**ï¼šåƒä¹°æˆå“æˆ¿ï¼Œæ‹åŒ…å…¥ä½
- **æºç ç¼–è¯‘å®‰è£…**ï¼šåƒä¹°æ¯›å¯æˆ¿ï¼Œè‡ªå·±è£…ä¿®

**ä¸ºä»€ä¹ˆè¦ç¼–è¯‘å®‰è£…**ï¼š
- **å®šåˆ¶åŠŸèƒ½**ï¼šå¯ä»¥é€‰æ‹©éœ€è¦çš„æ¨¡å—ï¼Œå»æ‰ä¸éœ€è¦çš„
- **æœ€æ–°ç‰ˆæœ¬**ï¼šå¯ä»¥å®‰è£…æœ€æ–°çš„å¼€å‘ç‰ˆæœ¬
- **æ€§èƒ½ä¼˜åŒ–**ï¼šé’ˆå¯¹ç‰¹å®šç¡¬ä»¶ä¼˜åŒ–

> âš ï¸ **æ–°æ‰‹æé†’**ï¼šç¼–è¯‘å®‰è£…æ¯”è¾ƒå¤æ‚ï¼Œå»ºè®®å…ˆç”¨åŒ…ç®¡ç†å™¨å®‰è£…ç†Ÿæ‚‰åå†å°è¯•

### 3.2 ç¼–è¯‘å‰çš„ä¾èµ–å‡†å¤‡


**ğŸ“¦ å¿…éœ€çš„ä¾èµ–åº“**

**ä»€ä¹ˆæ˜¯ä¾èµ–åº“**ï¼šå°±åƒåšèœéœ€è¦å„ç§è°ƒæ–™ï¼Œç¼–è¯‘Nginxéœ€è¦å„ç§å·¥å…·å’Œåº“æ–‡ä»¶ã€‚

```bash
# Ubuntu/Debian å®‰è£…ç¼–è¯‘å·¥å…·
sudo apt install build-essential libpcre3-dev libssl-dev zlib1g-dev

# CentOS/RHEL å®‰è£…ç¼–è¯‘å·¥å…·
sudo yum groupinstall "Development Tools"
sudo yum install pcre-devel openssl-devel zlib-devel
```

**ğŸ” ä¾èµ–åº“ä½œç”¨è¯´æ˜**ï¼š
- `build-essential`ï¼šç¼–è¯‘å·¥å…·åŒ…ï¼ˆgccç¼–è¯‘å™¨ç­‰ï¼‰
- `libpcre3-dev`ï¼šæ­£åˆ™è¡¨è¾¾å¼åº“ï¼ˆå¤„ç†URLåŒ¹é…ï¼‰
- `libssl-dev`ï¼šSSLåŠ å¯†åº“ï¼ˆæ”¯æŒHTTPSï¼‰
- `zlib1g-dev`ï¼šå‹ç¼©åº“ï¼ˆæ”¯æŒgzipå‹ç¼©ï¼‰

### 3.3 ä¸‹è½½å’Œç¼–è¯‘è¿‡ç¨‹


**æ­¥éª¤1ï¸âƒ£ï¼šä¸‹è½½æºç **
```bash
# åˆ›å»ºä¸‹è½½ç›®å½•
mkdir ~/nginx-build && cd ~/nginx-build

# ä¸‹è½½æœ€æ–°ç¨³å®šç‰ˆï¼ˆ1.24.0ä¸ºä¾‹ï¼‰
wget http://nginx.org/download/nginx-1.24.0.tar.gz

# è§£å‹æ–‡ä»¶
tar -xzf nginx-1.24.0.tar.gz
cd nginx-1.24.0
```

**æ­¥éª¤2ï¸âƒ£ï¼šé…ç½®ç¼–è¯‘é€‰é¡¹**
```bash
# åŸºç¡€é…ç½®ï¼ˆæ¨èæ–°æ‰‹ï¼‰
./configure \
  --prefix=/etc/nginx \
  --sbin-path=/usr/sbin/nginx \
  --conf-path=/etc/nginx/nginx.conf \
  --with-http_ssl_module \
  --with-http_gzip_static_module
```

**ğŸ”§ ç¼–è¯‘å‚æ•°è¯´æ˜**ï¼š
- `--prefix`ï¼šå®‰è£…ç›®å½•
- `--with-http_ssl_module`ï¼šæ”¯æŒHTTPS
- `--with-http_gzip_static_module`ï¼šæ”¯æŒé™æ€æ–‡ä»¶å‹ç¼©

**æ­¥éª¤3ï¸âƒ£ï¼šç¼–è¯‘å’Œå®‰è£…**
```bash
# ç¼–è¯‘ï¼ˆéœ€è¦å‡ åˆ†é’Ÿæ—¶é—´ï¼‰
make

# å®‰è£…ï¼ˆéœ€è¦ç®¡ç†å‘˜æƒé™ï¼‰
sudo make install
```

### 3.4 åˆ›å»ºç³»ç»ŸæœåŠ¡


**ç¼–è¯‘å®‰è£…åéœ€è¦æ‰‹åŠ¨åˆ›å»ºæœåŠ¡æ–‡ä»¶**ï¼š

```bash
# åˆ›å»ºnginxç”¨æˆ·
sudo useradd -r -s /bin/false nginx

# åˆ›å»ºç³»ç»ŸæœåŠ¡æ–‡ä»¶
sudo tee /etc/systemd/system/nginx.service > /dev/null <<EOF
[Unit]
Description=The NGINX HTTP and reverse proxy server
After=network.target

[Service]
Type=forking
PIDFile=/var/run/nginx.pid
ExecStartPre=/usr/sbin/nginx -t
ExecStart=/usr/sbin/nginx
ExecReload=/bin/kill -s HUP $MAINPID
KillMode=mixed
KillSignal=SIGQUIT
PrivateTmp=true

[Install]
WantedBy=multi-user.target
EOF

# é‡è½½ç³»ç»ŸæœåŠ¡
sudo systemctl daemon-reload
sudo systemctl enable nginx
```

---

## 4. ğŸ³ Dockerå®¹å™¨éƒ¨ç½²


### 4.1 ä»€ä¹ˆæ˜¯Dockeréƒ¨ç½²


**é€šä¿—ç†è§£**ï¼š
- Dockerå°±åƒä¸€ä¸ª**é›†è£…ç®±**ï¼ŒæŠŠNginxå’Œè¿è¡Œç¯å¢ƒæ‰“åŒ…åœ¨ä¸€èµ·
- ä¸ç®¡åœ¨å“ªå°æœºå™¨ä¸Šï¼Œéƒ½èƒ½ä¿è¯è¿è¡Œç¯å¢ƒä¸€è‡´
- **ä¼˜åŠ¿**ï¼šå¹²å‡€ã€éš”ç¦»ã€æ˜“è¿ç§»ã€æ˜“å›æ»š

### 4.2 DockeråŸºç¡€å®‰è£…


**å‰ææ¡ä»¶**ï¼šæœåŠ¡å™¨å·²å®‰è£…Docker

**ğŸš€ ä¸€é”®è¿è¡ŒNginx**
```bash
# æœ€ç®€å•çš„æ–¹å¼
docker run -d --name my-nginx -p 80:80 nginx:latest

# å¸¦æ•°æ®å·æŒ‚è½½ï¼ˆæ¨èï¼‰
docker run -d \
  --name my-nginx \
  -p 80:80 \
  -v ~/nginx-html:/usr/share/nginx/html \
  -v ~/nginx-conf:/etc/nginx/conf.d \
  nginx:latest
```

**ğŸ“‚ æŒ‚è½½ç›®å½•è¯´æ˜**ï¼š
- `~/nginx-html`ï¼šå­˜æ”¾ç½‘ç«™æ–‡ä»¶çš„ç›®å½•
- `~/nginx-conf`ï¼šå­˜æ”¾é…ç½®æ–‡ä»¶çš„ç›®å½•
- `-p 80:80`ï¼šå°†å®¹å™¨80ç«¯å£æ˜ å°„åˆ°ä¸»æœº80ç«¯å£

### 4.3 Docker Composeéƒ¨ç½²


**ä»€ä¹ˆæ˜¯Docker Compose**ï¼šç”¨é…ç½®æ–‡ä»¶ç®¡ç†å®¹å™¨ï¼Œæ¯”å‘½ä»¤è¡Œæ›´æ–¹ä¾¿ã€‚

```yaml
# åˆ›å»º docker-compose.yml æ–‡ä»¶
version: '3.8'
services:
  nginx:
    image: nginx:latest
    container_name: my-nginx
    ports:
      - "80:80"
      - "443:443"
    volumes:
      - ./html:/usr/share/nginx/html
      - ./conf:/etc/nginx/conf.d
      - ./logs:/var/log/nginx
    restart: unless-stopped
```

**å¯åŠ¨æœåŠ¡**ï¼š
```bash
# å¯åŠ¨
docker-compose up -d

# åœæ­¢
docker-compose down
```

---

## 5. âš™ï¸ å®‰è£…åçš„åŸºæœ¬é…ç½®


### 5.1 é‡è¦æ–‡ä»¶ä½ç½®


**ğŸ“ Nginxæ–‡ä»¶ç»“æ„å›¾**
```
Nginxå®‰è£…ç»“æ„
â”œâ”€â”€ /etc/nginx/                 â† é…ç½®æ–‡ä»¶ç›®å½•
â”‚   â”œâ”€â”€ nginx.conf              â† ä¸»é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ conf.d/                 â† è™šæ‹Ÿä¸»æœºé…ç½®
â”‚   â””â”€â”€ sites-available/        â† å¯ç”¨ç«™ç‚¹é…ç½®
â”œâ”€â”€ /usr/share/nginx/html/      â† é»˜è®¤ç½‘ç«™æ ¹ç›®å½•
â”œâ”€â”€ /var/log/nginx/             â† æ—¥å¿—æ–‡ä»¶ç›®å½•
â”‚   â”œâ”€â”€ access.log              â† è®¿é—®æ—¥å¿—
â”‚   â””â”€â”€ error.log               â† é”™è¯¯æ—¥å¿—
â””â”€â”€ /var/run/nginx.pid          â† è¿›ç¨‹IDæ–‡ä»¶
```

### 5.2 åŸºæœ¬é…ç½®æ–‡ä»¶è§£è¯»


**ğŸ” ä¸»é…ç½®æ–‡ä»¶ç»“æ„**
```nginx
# /etc/nginx/nginx.conf çš„åŸºæœ¬ç»“æ„

# å…¨å±€é…ç½®
user nginx;                     # è¿è¡Œç”¨æˆ·
worker_processes auto;          # å·¥ä½œè¿›ç¨‹æ•°

# äº‹ä»¶é…ç½®
events {
    worker_connections 1024;    # æ¯ä¸ªè¿›ç¨‹æœ€å¤§è¿æ¥æ•°
}

# HTTPé…ç½®
http {
    # åŸºç¡€è®¾ç½®
    include /etc/nginx/mime.types;
    default_type application/octet-stream;
    
    # æ—¥å¿—æ ¼å¼
    log_format main '$remote_addr - [$time_local] "$request"';
    
    # åŒ…å«å…¶ä»–é…ç½®æ–‡ä»¶
    include /etc/nginx/conf.d/*.conf;
}
```

### 5.3 åˆ›å»ºç¬¬ä¸€ä¸ªç½‘ç«™


**æ­¥éª¤1ï¸âƒ£ï¼šåˆ›å»ºç½‘ç«™ç›®å½•**
```bash
# åˆ›å»ºç½‘ç«™æ ¹ç›®å½•
sudo mkdir -p /var/www/my-site

# åˆ›å»ºç®€å•çš„é¦–é¡µ
sudo tee /var/www/my-site/index.html > /dev/null <<EOF
<!DOCTYPE html>
<html>
<head>
    <title>æˆ‘çš„ç¬¬ä¸€ä¸ªNginxç½‘ç«™</title>
</head>
<body>
    <h1>æ¬¢è¿è®¿é—®æˆ‘çš„ç½‘ç«™ï¼</h1>
    <p>Nginxå®‰è£…æˆåŠŸï¼Œè¿™æ˜¯æˆ‘çš„ç¬¬ä¸€ä¸ªç½‘ç«™ã€‚</p>
</body>
</html>
EOF
```

**æ­¥éª¤2ï¸âƒ£ï¼šåˆ›å»ºè™šæ‹Ÿä¸»æœºé…ç½®**
```nginx
# åˆ›å»ºé…ç½®æ–‡ä»¶ï¼š/etc/nginx/conf.d/my-site.conf
server {
    listen 80;                          # ç›‘å¬ç«¯å£
    server_name example.com;            # åŸŸåï¼ˆæ”¹æˆä½ çš„åŸŸåï¼‰
    
    root /var/www/my-site;              # ç½‘ç«™æ ¹ç›®å½•
    index index.html;                   # é»˜è®¤é¦–é¡µæ–‡ä»¶
    
    # åŸºæœ¬ä½ç½®é…ç½®
    location / {
        try_files $uri $uri/ =404;
    }
}
```

**æ­¥éª¤3ï¸âƒ£ï¼šæµ‹è¯•å’Œé‡è½½é…ç½®**
```bash
# æµ‹è¯•é…ç½®è¯­æ³•
sudo nginx -t

# é‡æ–°åŠ è½½é…ç½®ï¼ˆä¸ä¸­æ–­æœåŠ¡ï¼‰
sudo systemctl reload nginx
```

---

## 6. â“ å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ


### 6.1 å®‰è£…å¤±è´¥é—®é¢˜


**ğŸ”´ é—®é¢˜ï¼šPermission deniedï¼ˆæƒé™æ‹’ç»ï¼‰**
```
è§£å†³æ–¹æ¡ˆï¼šç¡®ä¿ä½¿ç”¨sudoæƒé™
sudo apt install nginx  # æ­£ç¡®
apt install nginx       # é”™è¯¯ï¼šæ²¡æœ‰æƒé™
```

**ğŸ”´ é—®é¢˜ï¼šPackage not foundï¼ˆæ‰¾ä¸åˆ°åŒ…ï¼‰**
```
è§£å†³æ–¹æ¡ˆï¼šæ›´æ–°è½¯ä»¶æº
sudo apt update        # Ubuntu/Debian
sudo yum update        # CentOS
```

### 6.2 å¯åŠ¨å¤±è´¥é—®é¢˜


**ğŸ”´ é—®é¢˜ï¼šç«¯å£è¢«å ç”¨**
```bash
# æŸ¥çœ‹80ç«¯å£å ç”¨æƒ…å†µ
sudo netstat -tlnp | grep :80

# å¦‚æœApacheå ç”¨äº†80ç«¯å£
sudo systemctl stop apache2    # Ubuntu
sudo systemctl stop httpd      # CentOS
```

**ğŸ”´ é—®é¢˜ï¼šé…ç½®æ–‡ä»¶è¯­æ³•é”™è¯¯**
```bash
# æ£€æŸ¥é…ç½®è¯­æ³•
sudo nginx -t

# å¸¸è§é”™è¯¯ï¼šå¿˜è®°åˆ†å·ã€æ‹¬å·ä¸åŒ¹é…
# æŸ¥çœ‹è¯¦ç»†é”™è¯¯ä¿¡æ¯
sudo systemctl status nginx
```

### 6.3 æƒé™é—®é¢˜


**ğŸ”´ é—®é¢˜ï¼š403 Forbiddené”™è¯¯**
```bash
# æ£€æŸ¥æ–‡ä»¶æƒé™
ls -la /var/www/my-site/

# ä¿®æ­£æƒé™
sudo chown -R nginx:nginx /var/www/my-site/
sudo chmod -R 644 /var/www/my-site/
sudo chmod 755 /var/www/my-site/
```

### 6.4 é˜²ç«å¢™é—®é¢˜


**ğŸ”´ é—®é¢˜ï¼šå¤–ç½‘æ— æ³•è®¿é—®**

**Ubuntué˜²ç«å¢™é…ç½®**ï¼š
```bash
# æ£€æŸ¥é˜²ç«å¢™çŠ¶æ€
sudo ufw status

# å¼€æ”¾HTTPå’ŒHTTPSç«¯å£
sudo ufw allow 'Nginx Full'
```

**CentOSé˜²ç«å¢™é…ç½®**ï¼š
```bash
# æ£€æŸ¥é˜²ç«å¢™çŠ¶æ€
sudo firewall-cmd --state

# å¼€æ”¾ç«¯å£
sudo firewall-cmd --permanent --add-service=http
sudo firewall-cmd --permanent --add-service=https
sudo firewall-cmd --reload
```

---

## 7. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 7.1 å®‰è£…æ–¹æ³•å¯¹æ¯”


| å®‰è£…æ–¹å¼ | éš¾åº¦ | é€‚ç”¨äººç¾¤ | ä¼˜åŠ¿ | åŠ£åŠ¿ |
|---------|------|----------|------|------|
| **åŒ…ç®¡ç†å™¨** | â­ ç®€å• | æ–°æ‰‹æ¨è | ä¸€é”®å®‰è£…ã€è‡ªåŠ¨ä¾èµ– | ç‰ˆæœ¬å¯èƒ½ä¸æ˜¯æœ€æ–° |
| **æºç ç¼–è¯‘** | â­â­â­ å›°éš¾ | è¿›é˜¶ç”¨æˆ· | å®šåˆ¶åŠŸèƒ½ã€æœ€æ–°ç‰ˆæœ¬ | å¤æ‚ã€è€—æ—¶ |
| **Docker** | â­â­ ä¸­ç­‰ | ç†Ÿæ‚‰å®¹å™¨ | éš”ç¦»ã€æ˜“è¿ç§» | éœ€è¦DockerçŸ¥è¯† |

### 7.2 å¿…çŸ¥å¿…ä¼šè¦ç‚¹


**ğŸ”¸ æ–‡ä»¶ä½ç½®è®°å¿†**
```
é…ç½®æ–‡ä»¶ï¼š/etc/nginx/nginx.conf
ç½‘ç«™ç›®å½•ï¼š/var/www/ æˆ– /usr/share/nginx/html/
æ—¥å¿—æ–‡ä»¶ï¼š/var/log/nginx/
```

**ğŸ”¸ å¸¸ç”¨å‘½ä»¤è®°å¿†**
```bash
# å¯åŠ¨åœæ­¢
systemctl start/stop/restart nginx

# æ£€æŸ¥é…ç½®
nginx -t

# é‡æ–°åŠ è½½é…ç½®ï¼ˆä¸ä¸­æ–­æœåŠ¡ï¼‰
systemctl reload nginx

# æŸ¥çœ‹çŠ¶æ€
systemctl status nginx
```

**ğŸ”¸ åŸºæœ¬æ•…éšœæ’æŸ¥æ­¥éª¤**
```
1. æ£€æŸ¥æœåŠ¡çŠ¶æ€ï¼šsystemctl status nginx
2. æ£€æŸ¥é…ç½®è¯­æ³•ï¼šnginx -t  
3. æŸ¥çœ‹é”™è¯¯æ—¥å¿—ï¼štail -f /var/log/nginx/error.log
4. æ£€æŸ¥ç«¯å£å ç”¨ï¼šnetstat -tlnp | grep :80
5. æ£€æŸ¥é˜²ç«å¢™ï¼šufw status æˆ– firewall-cmd --list-all
```

### 7.3 æ–°æ‰‹å­¦ä¹ è·¯å¾„


**ğŸ¯ æ¨èå­¦ä¹ é¡ºåº**
```
ç¬¬ä¸€æ­¥ï¼šåŒ…ç®¡ç†å™¨å®‰è£… â†’ ç†Ÿæ‚‰åŸºæœ¬æ“ä½œ
ç¬¬äºŒæ­¥ï¼šç†è§£é…ç½®æ–‡ä»¶ â†’ ä¿®æ”¹ç®€å•é…ç½®  
ç¬¬ä¸‰æ­¥ï¼šåˆ›å»ºè™šæ‹Ÿä¸»æœº â†’ æ­å»ºå¤šä¸ªç½‘ç«™
ç¬¬å››æ­¥ï¼šå­¦ä¹ å¸¸ç”¨æ¨¡å— â†’ å®ç°æ›´å¤šåŠŸèƒ½
ç¬¬äº”æ­¥ï¼šæ€§èƒ½è°ƒä¼˜ â†’ å¤„ç†é«˜å¹¶å‘è®¿é—®
```

**ğŸ’¡ å­¦ä¹ å»ºè®®**
- å…ˆåœ¨è™šæ‹Ÿæœºæˆ–äº‘æœåŠ¡å™¨ä¸Šç»ƒä¹ ï¼Œä¸è¦åœ¨ç”Ÿäº§ç¯å¢ƒè¯•éªŒ
- æ¯æ¬¡ä¿®æ”¹é…ç½®å‰å…ˆå¤‡ä»½ï¼š`cp nginx.conf nginx.conf.bak`
- é‡åˆ°é—®é¢˜å…ˆæŸ¥çœ‹æ—¥å¿—æ–‡ä»¶ï¼Œå¤§éƒ¨åˆ†é—®é¢˜éƒ½æœ‰æ˜ç¡®é”™è¯¯æç¤º
- å¤šå®è·µï¼ŒNginxé…ç½®çœ‹èµ·æ¥å¤æ‚ï¼Œä½†ç†è§£åŸç†åå°±ç®€å•äº†

**æ ¸å¿ƒè®°å¿†å£è¯€**ï¼š
- å®‰è£…é€‰åŒ…ç®¡ç†å™¨ï¼Œç®€å•å¯é æ˜“ä¸Šæ‰‹
- é…ç½®è¯­æ³•è¦ä¸¥æ ¼ï¼Œåˆ†å·æ‹¬å·ä¸èƒ½å°‘  
- æµ‹è¯•é‡è½½å¥½ä¹ æƒ¯ï¼Œå‡ºé”™æ—¥å¿—æ¥å¸®å¿™
- æƒé™ç«¯å£è¦æ³¨æ„ï¼Œé˜²ç«å¢™è®¾ç½®åˆ«å¿˜äº†