---
title: 7ã€MIMEç±»å‹é…ç½®
---
## ğŸ“š ç›®å½•

1. [MIMEç±»å‹åŸºç¡€æ¦‚å¿µ](#1-MIMEç±»å‹åŸºç¡€æ¦‚å¿µ)
2. [mime.typesæ–‡ä»¶è§£æ](#2-mime-typesæ–‡ä»¶è§£æ)
3. [default_typeé»˜è®¤ç±»å‹é…ç½®](#3-default_typeé»˜è®¤ç±»å‹é…ç½®)
4. [æ–‡ä»¶æ‰©å±•åæ˜ å°„å…³ç³»](#4-æ–‡ä»¶æ‰©å±•åæ˜ å°„å…³ç³»)
5. [è‡ªå®šä¹‰MIMEç±»å‹æ·»åŠ ](#5-è‡ªå®šä¹‰MIMEç±»å‹æ·»åŠ )
6. [å­—ç¬¦é›†æ˜ å°„é…ç½®](#6-å­—ç¬¦é›†æ˜ å°„é…ç½®)
7. [å‹ç¼©æ–‡ä»¶ç±»å‹é…ç½®](#7-å‹ç¼©æ–‡ä»¶ç±»å‹é…ç½®)
8. [å®æˆ˜é…ç½®æ¡ˆä¾‹](#8-å®æˆ˜é…ç½®æ¡ˆä¾‹)
9. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#9-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸŒ MIMEç±»å‹åŸºç¡€æ¦‚å¿µ


### 1.1 ä»€ä¹ˆæ˜¯MIMEç±»å‹


**ğŸ’¡ é€šä¿—ç†è§£**
MIMEç±»å‹å°±åƒæ˜¯æ–‡ä»¶çš„"èº«ä»½è¯"ï¼Œå‘Šè¯‰æµè§ˆå™¨è¿™ä¸ªæ–‡ä»¶æ˜¯ä»€ä¹ˆç±»å‹ï¼Œåº”è¯¥æ€ä¹ˆå¤„ç†ã€‚

```
æ¯”å¦‚ç”Ÿæ´»ä¸­çš„ä¾‹å­ï¼š
ğŸ“„ Wordæ–‡æ¡£ â†’ ç”¨Wordæ‰“å¼€
ğŸ–¼ï¸ å›¾ç‰‡æ–‡ä»¶ â†’ ç”¨å›¾ç‰‡æŸ¥çœ‹å™¨æ‰“å¼€  
ğŸµ éŸ³é¢‘æ–‡ä»¶ â†’ ç”¨éŸ³ä¹æ’­æ”¾å™¨æ‰“å¼€

ç½‘é¡µä¸­ä¹Ÿä¸€æ ·ï¼š
text/html â†’ æµè§ˆå™¨å½“ä½œç½‘é¡µæ˜¾ç¤º
image/jpeg â†’ æµè§ˆå™¨å½“ä½œå›¾ç‰‡æ˜¾ç¤º
application/pdf â†’ æµè§ˆå™¨å½“ä½œPDFå¤„ç†
```

**ğŸ”¸ MIMEç±»å‹çš„æ ¼å¼**
```
åŸºæœ¬æ ¼å¼ï¼šä¸»ç±»å‹/å­ç±»å‹

å¸¸è§ç±»å‹ï¼š
text/html        â† ç½‘é¡µæ–‡ä»¶
text/css         â† æ ·å¼è¡¨æ–‡ä»¶
image/jpeg       â† JPEGå›¾ç‰‡
application/json â† JSONæ•°æ®
video/mp4        â† MP4è§†é¢‘
```

### 1.2 ä¸ºä»€ä¹ˆéœ€è¦MIMEç±»å‹


**ğŸ¯ æ ¸å¿ƒä½œç”¨**
- **æ­£ç¡®æ˜¾ç¤º**ï¼šæµè§ˆå™¨çŸ¥é“æ€ä¹ˆæ˜¾ç¤ºæ–‡ä»¶å†…å®¹
- **å®‰å…¨é˜²æŠ¤**ï¼šé˜²æ­¢æ¶æ„æ–‡ä»¶è¢«é”™è¯¯æ‰§è¡Œ
- **ä¸‹è½½å¤„ç†**ï¼šå†³å®šæ˜¯åœ¨çº¿æŸ¥çœ‹è¿˜æ˜¯ä¸‹è½½
- **ç¼“å­˜ç­–ç•¥**ï¼šä¸åŒç±»å‹æ–‡ä»¶é‡‡ç”¨ä¸åŒç¼“å­˜æ–¹å¼

**ğŸ“Š å½±å“å¯¹æ¯”**
| åœºæ™¯ | **æœ‰æ­£ç¡®MIME** | **æ— MIME/é”™è¯¯MIME** |
|------|---------------|-------------------|
| ğŸ–¼ï¸ **å›¾ç‰‡æ˜¾ç¤º** | `æ­£å¸¸æ˜¾ç¤ºå›¾ç‰‡` | `æ˜¾ç¤ºä¹±ç æˆ–ä¸‹è½½` |
| ğŸ“„ **CSSæ ·å¼** | `æ ·å¼æ­£å¸¸åŠ è½½` | `æ ·å¼å¤±æ•ˆ` |
| ğŸ“‹ **JSONæ•°æ®** | `æ­£ç¡®è§£ææ•°æ®` | `å½“ä½œæ–‡æœ¬å¤„ç†` |
| ğŸµ **éŸ³é¢‘æ’­æ”¾** | `åœ¨çº¿æ’­æ”¾` | `å¼ºåˆ¶ä¸‹è½½` |

### 1.3 Nginxä¸­çš„MIMEå¤„ç†æœºåˆ¶


**ğŸ”„ å·¥ä½œæµç¨‹**
```
ç”¨æˆ·è¯·æ±‚æ–‡ä»¶
    â†“
Nginxæ£€æŸ¥æ–‡ä»¶æ‰©å±•å
    â†“
æŸ¥æ‰¾MIMEç±»å‹æ˜ å°„è¡¨
    â†“
è®¾ç½®Content-Typeå“åº”å¤´
    â†“
æµè§ˆå™¨æ ¹æ®ç±»å‹å¤„ç†æ–‡ä»¶
```

---

## 2. ğŸ“ mime.typesæ–‡ä»¶è§£æ


### 2.1 mime.typesæ–‡ä»¶ä½ç½®ä¸ä½œç”¨


**ğŸ“ æ–‡ä»¶ä½ç½®**
```bash
# é»˜è®¤ä½ç½®
/etc/nginx/mime.types

# é…ç½®æ–‡ä»¶ä¸­å¼•ç”¨
http {
    include /etc/nginx/mime.types;
}
```

**ğŸ”¸ æ ¸å¿ƒä½œç”¨**
è¿™ä¸ªæ–‡ä»¶å°±åƒä¸€ä¸ª"ç¿»è¯‘å­—å…¸"ï¼Œå‘Šè¯‰Nginxæ¯ç§æ–‡ä»¶æ‰©å±•åå¯¹åº”ä»€ä¹ˆMIMEç±»å‹ã€‚

### 2.2 mime.typesæ–‡ä»¶å†…å®¹ç»“æ„


**ğŸ“‹ åŸºæœ¬æ ¼å¼**
```
types {
    MIMEç±»å‹    æ‰©å±•å1  æ‰©å±•å2  æ‰©å±•å3;
}
```

**ğŸ’» å®é™…ç¤ºä¾‹**
```nginx
types {
    # æ–‡æœ¬ç±»å‹
    text/html                             html htm shtml;
    text/css                              css;
    text/javascript                       js;
    text/plain                            txt;
    
    # å›¾ç‰‡ç±»å‹  
    image/jpeg                            jpeg jpg;
    image/png                             png;
    image/gif                             gif;
    image/webp                            webp;
    
    # åº”ç”¨ç±»å‹
    application/json                      json;
    application/pdf                       pdf;
    application/zip                       zip;
    
    # éŸ³è§†é¢‘ç±»å‹
    audio/mpeg                            mp3;
    video/mp4                             mp4;
    video/webm                            webm;
}
```

### 2.3 includeæŒ‡ä»¤è¯¦è§£


**ğŸ”— åŒ…å«æ–‡ä»¶è¯­æ³•**
```nginx
http {
    include mime.types;  # ç›¸å¯¹è·¯å¾„
    # æˆ–
    include /etc/nginx/mime.types;  # ç»å¯¹è·¯å¾„
}
```

**ğŸ’¡ å·¥ä½œåŸç†**
`include`æŒ‡ä»¤å°±åƒæŠŠæ•´ä¸ªmime.typesæ–‡ä»¶çš„å†…å®¹"å¤åˆ¶ç²˜è´´"åˆ°nginx.confä¸­çš„è¿™ä¸ªä½ç½®ã€‚

**âœ… æœ€ä½³å®è·µ**
```nginx
http {
    # ğŸ‘ æ¨èï¼šä½¿ç”¨æ ‡å‡†mime.typesæ–‡ä»¶
    include       /etc/nginx/mime.types;
    
    # è®¾ç½®é»˜è®¤ç±»å‹ï¼ˆé‡è¦ï¼ï¼‰
    default_type  application/octet-stream;
    
    # å…¶ä»–é…ç½®...
}
```

---

## 3. âš™ï¸ default_typeé»˜è®¤ç±»å‹é…ç½®


### 3.1 default_typeçš„ä½œç”¨


**ğŸ¯ æ ¸å¿ƒåŠŸèƒ½**
å½“Nginxæ‰¾ä¸åˆ°æ–‡ä»¶æ‰©å±•åå¯¹åº”çš„MIMEç±»å‹æ—¶ï¼Œå°±ä½¿ç”¨è¿™ä¸ªé»˜è®¤ç±»å‹ã€‚

**ğŸ“ é€šä¿—æ¯”å–»**
å°±åƒå•†åº—é‡Œçš„"å…¶ä»–å•†å“"åˆ†ç±»ï¼Œå½“å•†å“ä¸å±äºä»»ä½•æ˜ç¡®åˆ†ç±»æ—¶ï¼Œå°±æ”¾åˆ°è¿™é‡Œã€‚

### 3.2 å¸¸ç”¨default_typeé…ç½®


**ğŸ”¸ æ ‡å‡†é…ç½®**
```nginx
http {
    include       /etc/nginx/mime.types;
    default_type  application/octet-stream;
}
```

**ğŸ“Š ä¸åŒé»˜è®¤ç±»å‹çš„å½±å“**

| é»˜è®¤ç±»å‹ | **é€‚ç”¨åœºæ™¯** | **æµè§ˆå™¨è¡Œä¸º** |
|---------|-------------|---------------|
| `application/octet-stream` | `é€šç”¨æ–‡ä»¶æœåŠ¡å™¨` | `ä¸‹è½½æ–‡ä»¶` |
| `text/plain` | `æ—¥å¿—ã€æ–‡æœ¬æœåŠ¡å™¨` | `æ˜¾ç¤ºçº¯æ–‡æœ¬` |
| `text/html` | `é™æ€ç½‘ç«™` | `å½“ä½œç½‘é¡µè§£æ` |

### 3.3 å®é™…åº”ç”¨åœºæ™¯


**ğŸŒŸ æ–‡ä»¶ä¸‹è½½æœåŠ¡å™¨**
```nginx
# è®©æ‰€æœ‰æœªçŸ¥æ–‡ä»¶éƒ½ä¸‹è½½
http {
    include       /etc/nginx/mime.types;
    default_type  application/octet-stream;
    
    location /downloads/ {
        # æ‰€æœ‰æ–‡ä»¶éƒ½ä¼šè§¦å‘ä¸‹è½½
        root /var/www/files;
    }
}
```

**ğŸ“‹ APIæ¥å£æœåŠ¡å™¨**
```nginx
# ä¸»è¦è¿”å›JSONæ•°æ®
http {
    include       /etc/nginx/mime.types;
    default_type  application/json;
    
    location /api/ {
        # æœªæŒ‡å®šç±»å‹çš„å“åº”é»˜è®¤ä¸ºJSON
        proxy_pass http://backend;
    }
}
```

---

## 4. ğŸ”— æ–‡ä»¶æ‰©å±•åæ˜ å°„å…³ç³»


### 4.1 æ˜ å°„å…³ç³»å·¥ä½œåŸç†


**ğŸ” æŸ¥æ‰¾è¿‡ç¨‹**
```
ç”¨æˆ·è¯·æ±‚ï¼šhttp://example.com/style.css
    â†“
Nginxæå–æ‰©å±•åï¼š.css  
    â†“
æŸ¥æ‰¾mime.typesï¼štext/css
    â†“
è®¾ç½®å“åº”å¤´ï¼šContent-Type: text/css
```

### 4.2 å¸¸è§æ–‡ä»¶ç±»å‹æ˜ å°„è¡¨


**ğŸ“„ æ–‡æ¡£ç±»å‹**
```nginx
# ç½‘é¡µç›¸å…³
text/html                    html htm shtml;
text/css                     css;
text/javascript              js;
text/xml                     xml;

# æ–‡æ¡£æ ¼å¼
application/pdf              pdf;
application/msword           doc;
application/vnd.ms-excel     xls;
text/plain                   txt log;
```

**ğŸ–¼ï¸ å›¾ç‰‡ç±»å‹**
```nginx
# å¸¸ç”¨å›¾ç‰‡æ ¼å¼
image/jpeg                   jpeg jpg;
image/png                    png;
image/gif                    gif;
image/webp                   webp;
image/svg+xml                svg svgz;
image/x-icon                 ico;
```

**ğŸµ åª’ä½“ç±»å‹**
```nginx
# éŸ³é¢‘æ ¼å¼
audio/mpeg                   mp3;
audio/wav                    wav;
audio/ogg                    ogg;

# è§†é¢‘æ ¼å¼  
video/mp4                    mp4;
video/webm                   webm;
video/avi                    avi;
```

### 4.3 æ‰©å±•ååŒ¹é…è§„åˆ™


**ğŸ”¸ åŒ¹é…ç‰¹ç‚¹**
- **ä¸åŒºåˆ†å¤§å°å†™**ï¼š`.JPG`å’Œ`.jpg`æ•ˆæœç›¸åŒ
- **æ”¯æŒå¤šä¸ªæ‰©å±•å**ï¼š`jpeg jpg`éƒ½æ˜ å°„åˆ°`image/jpeg`
- **æœ€åä¸€ä¸ªç”Ÿæ•ˆ**ï¼šå¦‚æœé‡å¤å®šä¹‰ï¼Œåé¢çš„è¦†ç›–å‰é¢çš„

**âš ï¸ æ³¨æ„äº‹é¡¹**
```nginx
# âŒ é”™è¯¯ï¼šé‡å¤å®šä¹‰ä¼šè¦†ç›–
types {
    text/plain    txt;
    text/html     txt;  # txtç°åœ¨å˜æˆtext/htmläº†ï¼
}

# âœ… æ­£ç¡®ï¼šä¸€ä¸ªæ‰©å±•åå¯¹åº”ä¸€ä¸ªMIMEç±»å‹
types {
    text/plain    txt log;
    text/html     html htm;
}
```

---

## 5. â• è‡ªå®šä¹‰MIMEç±»å‹æ·»åŠ 


### 5.1 ä¸ºä»€ä¹ˆéœ€è¦è‡ªå®šä¹‰MIMEç±»å‹


**ğŸ¯ å¸¸è§éœ€æ±‚**
- **æ–°æ–‡ä»¶æ ¼å¼**ï¼šå…¬å¸å†…éƒ¨ä½¿ç”¨çš„ç‰¹æ®Šæ ¼å¼
- **ç§»åŠ¨åº”ç”¨**ï¼š`.apk`å®‰è£…åŒ…ã€`.ipa`æ–‡ä»¶
- **ç‰¹æ®Šéœ€æ±‚**ï¼šæŸäº›æ–‡ä»¶éœ€è¦ç‰¹å®šå¤„ç†æ–¹å¼

### 5.2 æ·»åŠ è‡ªå®šä¹‰MIMEç±»å‹


**ğŸ’» æ–¹æ³•ä¸€ï¼šç›´æ¥åœ¨nginx.confä¸­æ·»åŠ **
```nginx
http {
    include       /etc/nginx/mime.types;
    default_type  application/octet-stream;
    
    # æ·»åŠ è‡ªå®šä¹‰MIMEç±»å‹
    location ~* \.(apk)$ {
        add_header Content-Type application/vnd.android.package-archive;
    }
    
    location ~* \.(woff2)$ {
        add_header Content-Type font/woff2;
    }
}
```

**ğŸ“ æ–¹æ³•äºŒï¼šä¿®æ”¹mime.typesæ–‡ä»¶**
```nginx
# åœ¨mime.typesæ–‡ä»¶ä¸­æ·»åŠ 
types {
    # ç°æœ‰ç±»å‹...
    
    # è‡ªå®šä¹‰ç±»å‹
    application/vnd.android.package-archive  apk;
    font/woff2                               woff2;
    application/x-7z-compressed              7z;
}
```

### 5.3 å¸¸ç”¨è‡ªå®šä¹‰MIMEç±»å‹


**ğŸ“± ç§»åŠ¨åº”ç”¨ç›¸å…³**
```nginx
# Androidåº”ç”¨åŒ…
application/vnd.android.package-archive     apk;

# iOSåº”ç”¨åŒ…  
application/octet-stream                    ipa;

# ç§»åŠ¨é…ç½®æ–‡ä»¶
application/x-apple-aspen-config            mobileconfig;
```

**ğŸ¨ å­—ä½“æ–‡ä»¶**
```nginx
# ç°ä»£å­—ä½“æ ¼å¼
font/woff                    woff;
font/woff2                   woff2;
application/x-font-ttf       ttf;
application/vnd.ms-fontobject eot;
```

**ğŸ’¾ å‹ç¼©æ–‡ä»¶**
```nginx
# ç°ä»£å‹ç¼©æ ¼å¼
application/x-7z-compressed  7z;
application/x-rar-compressed rar;
application/x-bzip2          bz2;
```

### 5.4 è‡ªå®šä¹‰é…ç½®æœ€ä½³å®è·µ


**âœ… æ¨èåšæ³•**
```nginx
http {
    include       /etc/nginx/mime.types;
    default_type  application/octet-stream;
    
    # åˆ›å»ºè‡ªå®šä¹‰MIMEç±»å‹æ˜ å°„
    map $uri $custom_content_type {
        ~*\.apk$        application/vnd.android.package-archive;
        ~*\.woff2$      font/woff2;
        ~*\.webmanifest$ application/manifest+json;
        default         "";
    }
    
    # åº”ç”¨è‡ªå®šä¹‰ç±»å‹
    location / {
        if ($custom_content_type != "") {
            add_header Content-Type $custom_content_type;
        }
        root /var/www/html;
    }
}
```

---

## 6. ğŸ”¤ å­—ç¬¦é›†æ˜ å°„é…ç½®


### 6.1 å­—ç¬¦é›†æ˜ å°„çš„ä½œç”¨


**ğŸ’¡ é€šä¿—ç†è§£**
å­—ç¬¦é›†å°±åƒæ–‡å­—çš„"ç¼–ç è§„åˆ™"ï¼Œå‘Šè¯‰æµè§ˆå™¨ç”¨ä»€ä¹ˆæ–¹å¼è§£è¯»æ–‡å­—å†…å®¹ã€‚

```
æ¯”å¦‚åŒæ ·çš„æ–‡å­—ï¼š
UTF-8ç¼–ç   â†’ æ­£å¸¸æ˜¾ç¤ºï¼šä½ å¥½
GBKç¼–ç    â†’ å¯èƒ½ä¹±ç ï¼šæµ£çŠ²ã‚½
```

### 6.2 charset_mapæŒ‡ä»¤è¯¦è§£


**ğŸ”¸ åŸºæœ¬è¯­æ³•**
```nginx
charset_map charset1 charset2 {
    # å­—ç¬¦æ˜ å°„è§„åˆ™
}
```

**ğŸ“‹ å®é™…é…ç½®ç¤ºä¾‹**
```nginx
http {
    # è®¾ç½®é»˜è®¤å­—ç¬¦é›†
    charset utf-8;
    
    # å­—ç¬¦é›†æ˜ å°„ï¼ˆå¤„ç†ä¸åŒç¼–ç ï¼‰
    charset_map koi8-r utf-8 {
        # KOI8-Råˆ°UTF-8çš„æ˜ å°„
        # é€šå¸¸ä½¿ç”¨é»˜è®¤æ˜ å°„å³å¯
    }
    
    # é’ˆå¯¹ä¸åŒæ–‡ä»¶ç±»å‹è®¾ç½®å­—ç¬¦é›†
    location ~* \.(html|htm|shtml)$ {
        charset utf-8;
        root /var/www/html;
    }
    
    location ~* \.(css|js)$ {
        charset utf-8;
        root /var/www/html;
    }
}
```

### 6.3 å¸¸ç”¨å­—ç¬¦é›†é…ç½®


**ğŸŒ å…¨å±€å­—ç¬¦é›†è®¾ç½®**
```nginx
http {
    # è®¾ç½®é»˜è®¤å­—ç¬¦é›†ä¸ºUTF-8ï¼ˆæ¨èï¼‰
    charset utf-8;
    
    # è‡ªåŠ¨æ·»åŠ å­—ç¬¦é›†åˆ°Content-Type
    charset_types
        text/xml
        text/plain
        text/css
        text/javascript
        application/javascript
        application/json;
}
```

**ğŸ“„ é’ˆå¯¹ç‰¹å®šæ–‡ä»¶çš„å­—ç¬¦é›†**
```nginx
# ä¸­æ–‡ç½‘ç«™æ¨èé…ç½®
location ~* \.(html|htm|css|js)$ {
    charset utf-8;
    root /var/www/html;
}

# APIæ¥å£å­—ç¬¦é›†
location /api/ {
    charset utf-8;
    add_header Content-Type "application/json; charset=utf-8";
    proxy_pass http://backend;
}
```

### 6.4 å­—ç¬¦é›†é—®é¢˜æ’æŸ¥


**ğŸ” å¸¸è§é—®é¢˜**
- **ä¸­æ–‡ä¹±ç **ï¼šç½‘é¡µæ˜¾ç¤ºå¥‡æ€ªç¬¦å·
- **APIä¹±ç **ï¼šJSONä¸­æ–‡æ˜¾ç¤ºå¼‚å¸¸
- **æ–‡ä»¶åä¹±ç **ï¼šä¸‹è½½æ–‡ä»¶åæ˜¾ç¤ºé”™è¯¯

**âœ… è§£å†³æ–¹æ¡ˆ**
```nginx
# ç»Ÿä¸€å­—ç¬¦é›†é…ç½®
http {
    charset utf-8;
    charset_types *;  # ä¸ºæ‰€æœ‰æ–‡æœ¬ç±»å‹æ·»åŠ å­—ç¬¦é›†
    
    # ç¡®ä¿æºæ–‡ä»¶ä¹Ÿæ˜¯UTF-8ç¼–ç 
    location / {
        charset utf-8;
        root /var/www/html;
    }
}
```

---

## 7. ğŸ“¦ å‹ç¼©æ–‡ä»¶ç±»å‹é…ç½®


### 7.1 å‹ç¼©ä¸MIMEç±»å‹çš„å…³ç³»


**ğŸ”¸ æ ¸å¿ƒæ¦‚å¿µ**
å‹ç¼©åŠŸèƒ½éœ€è¦çŸ¥é“å“ªäº›æ–‡ä»¶ç±»å‹é€‚åˆå‹ç¼©ï¼Œè¿™å°±éœ€è¦é…åˆMIMEç±»å‹æ¥åˆ¤æ–­ã€‚

**ğŸ“Š æ–‡ä»¶å‹ç¼©æ•ˆæœå¯¹æ¯”**
| æ–‡ä»¶ç±»å‹ | **MIMEç±»å‹** | **å‹ç¼©æ•ˆæœ** | **æ˜¯å¦æ¨èå‹ç¼©** |
|---------|-------------|-------------|-----------------|
| `HTMLæ–‡ä»¶` | `text/html` | `60-80%å‹ç¼©ç‡` | `âœ… å¼ºçƒˆæ¨è` |
| `CSSæ–‡ä»¶` | `text/css` | `70-85%å‹ç¼©ç‡` | `âœ… å¼ºçƒˆæ¨è` |
| `JavaScript` | `text/javascript` | `65-80%å‹ç¼©ç‡` | `âœ… å¼ºçƒˆæ¨è` |
| `JSONæ•°æ®` | `application/json` | `70-90%å‹ç¼©ç‡` | `âœ… å¼ºçƒˆæ¨è` |
| `JPEGå›¾ç‰‡` | `image/jpeg` | `æ— æ•ˆæœ` | `âŒ ä¸æ¨è` |
| `è§†é¢‘æ–‡ä»¶` | `video/mp4` | `æ— æ•ˆæœ` | `âŒ ä¸æ¨è` |

### 7.2 gzipå‹ç¼©é…ç½®


**ğŸ’¨ åŸºç¡€gzipé…ç½®**
```nginx
http {
    include       /etc/nginx/mime.types;
    default_type  application/octet-stream;
    
    # å¼€å¯gzipå‹ç¼©
    gzip on;
    gzip_vary on;
    gzip_min_length 1024;  # å°äº1KBçš„æ–‡ä»¶ä¸å‹ç¼©
    gzip_comp_level 6;     # å‹ç¼©çº§åˆ«1-9ï¼Œ6æ˜¯å¹³è¡¡ç‚¹
    
    # æŒ‡å®šè¦å‹ç¼©çš„MIMEç±»å‹
    gzip_types
        text/plain
        text/css
        text/xml
        text/javascript
        application/json
        application/javascript
        application/xml+rss
        application/atom+xml
        image/svg+xml;
}
```

**ğŸ¯ å‹ç¼©ç±»å‹è¯¦è§£**
```nginx
# æ–‡æœ¬ç±»å‹ï¼ˆå‹ç¼©æ•ˆæœå¥½ï¼‰
gzip_types
    text/plain          # çº¯æ–‡æœ¬æ–‡ä»¶
    text/html           # HTMLæ–‡ä»¶
    text/css            # CSSæ ·å¼è¡¨
    text/javascript     # JavaScriptæ–‡ä»¶
    text/xml            # XMLæ–‡ä»¶
    
    # åº”ç”¨ç±»å‹
    application/json            # JSONæ•°æ®
    application/javascript      # JSåº”ç”¨æ–‡ä»¶
    application/xml             # XMLåº”ç”¨
    application/rss+xml         # RSSè®¢é˜…
    application/atom+xml        # Atomè®¢é˜…
    
    # å›¾åƒç±»å‹ï¼ˆä»…SVGï¼‰
    image/svg+xml;              # SVGçŸ¢é‡å›¾
```

### 7.3 brotliå‹ç¼©é…ç½®


**âš¡ ç°ä»£brotliå‹ç¼©**
```nginx
# éœ€è¦å®‰è£…brotliæ¨¡å—
http {
    # gzipé…ç½®...
    
    # brotliå‹ç¼©ï¼ˆæ•ˆæœæ¯”gzipæ›´å¥½ï¼‰
    brotli on;
    brotli_comp_level 6;
    brotli_min_length 1024;
    
    # æŒ‡å®šbrotliå‹ç¼©çš„æ–‡ä»¶ç±»å‹
    brotli_types
        text/plain
        text/css
        text/xml
        text/javascript
        application/json
        application/javascript
        application/xml+rss
        application/atom+xml
        image/svg+xml
        application/wasm;  # WebAssemblyæ–‡ä»¶
}
```

### 7.4 å‹ç¼©é…ç½®æœ€ä½³å®è·µ


**ğŸ† ç”Ÿäº§ç¯å¢ƒæ¨èé…ç½®**
```nginx
http {
    include       /etc/nginx/mime.types;
    default_type  application/octet-stream;
    
    # gzipå‹ç¼©é…ç½®
    gzip on;
    gzip_vary on;
    gzip_min_length 1024;
    gzip_comp_level 6;
    gzip_disable "msie6";  # ç¦ç”¨IE6å‹ç¼©
    
    # å‹ç¼©ç±»å‹ï¼ˆæŒ‰é‡è¦æ€§æ’åºï¼‰
    gzip_types
        # ç½‘é¡µæ ¸å¿ƒæ–‡ä»¶
        text/html
        text/css  
        text/javascript
        application/javascript
        
        # æ•°æ®äº¤æ¢æ ¼å¼
        application/json
        application/xml
        text/xml
        
        # å…¶ä»–æ–‡æœ¬æ ¼å¼
        text/plain
        application/atom+xml
        application/rss+xml
        
        # çŸ¢é‡å›¾å½¢
        image/svg+xml;
        
    # é™æ€æ–‡ä»¶ç¼“å­˜
    location ~* \.(css|js|html|json)$ {
        expires 1y;
        add_header Cache-Control "public, immutable";
    }
}
```

---

## 8. ğŸ› ï¸ å®æˆ˜é…ç½®æ¡ˆä¾‹


### 8.1 é™æ€ç½‘ç«™å®Œæ•´é…ç½®


**ğŸŒ ç½‘ç«™é…ç½®ç¤ºä¾‹**
```nginx
# é™æ€ç½‘ç«™nginxé…ç½®
server {
    listen 80;
    server_name example.com www.example.com;
    root /var/www/html;
    index index.html index.htm;
    
    # MIMEç±»å‹é…ç½®
    include /etc/nginx/mime.types;
    default_type application/octet-stream;
    charset utf-8;
    
    # å‹ç¼©é…ç½®
    gzip on;
    gzip_types text/css text/javascript application/javascript application/json image/svg+xml;
    
    # HTMLæ–‡ä»¶
    location ~* \.(html|htm)$ {
        expires 1h;
        add_header Cache-Control "public";
    }
    
    # CSSå’ŒJSæ–‡ä»¶
    location ~* \.(css|js)$ {
        expires 1y;
        add_header Cache-Control "public, immutable";
    }
    
    # å›¾ç‰‡æ–‡ä»¶
    location ~* \.(jpg|jpeg|png|gif|webp|svg)$ {
        expires 1y;
        add_header Cache-Control "public, immutable";
    }
    
    # å­—ä½“æ–‡ä»¶
    location ~* \.(woff|woff2|ttf|eot)$ {
        expires 1y;
        add_header Cache-Control "public, immutable";
        add_header Access-Control-Allow-Origin "*";
    }
}
```

### 8.2 APIæœåŠ¡å™¨é…ç½®


**ğŸ”— APIæ¥å£é…ç½®**
```nginx
# APIæœåŠ¡å™¨é…ç½®
server {
    listen 80;
    server_name api.example.com;
    
    # APIä¸“ç”¨MIMEé…ç½®
    include /etc/nginx/mime.types;
    default_type application/json;  # APIé»˜è®¤è¿”å›JSON
    charset utf-8;
    
    # APIæ¥å£
    location /api/ {
        # ç¡®ä¿JSONå“åº”æ­£ç¡®
        add_header Content-Type "application/json; charset=utf-8";
        
        # å¯ç”¨å‹ç¼©
        gzip on;
        gzip_types application/json text/plain;
        
        proxy_pass http://backend;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
    
    # æ–‡æ¡£ä¸‹è½½
    location /downloads/ {
        # å¼ºåˆ¶ä¸‹è½½
        add_header Content-Disposition "attachment";
        add_header Content-Type "application/octet-stream";
        
        root /var/www/files;
    }
}
```

### 8.3 å¤šåª’ä½“æœåŠ¡å™¨é…ç½®


**ğŸµ åª’ä½“æ–‡ä»¶æœåŠ¡å™¨**
```nginx
# å¤šåª’ä½“æœåŠ¡å™¨é…ç½®
server {
    listen 80;
    server_name media.example.com;
    root /var/www/media;
    
    include /etc/nginx/mime.types;
    default_type application/octet-stream;
    
    # è§†é¢‘æ–‡ä»¶
    location ~* \.(mp4|webm|ogg|avi|mov)$ {
        # æ”¯æŒè§†é¢‘èŒƒå›´è¯·æ±‚
        add_header Accept-Ranges bytes;
        
        # é•¿æœŸç¼“å­˜
        expires 30d;
        add_header Cache-Control "public, immutable";
    }
    
    # éŸ³é¢‘æ–‡ä»¶
    location ~* \.(mp3|wav|ogg|m4a)$ {
        add_header Accept-Ranges bytes;
        expires 30d;
        add_header Cache-Control "public, immutable";
    }
    
    # å›¾ç‰‡æ–‡ä»¶ï¼ˆæ”¯æŒwebpï¼‰
    location ~* \.(jpg|jpeg|png|gif|webp)$ {
        # ç°ä»£æµè§ˆå™¨ä¼˜å…ˆä½¿ç”¨webp
        location ~* \.(jpg|jpeg|png)$ {
            try_files $uri.webp $uri =404;
        }
        
        expires 1y;
        add_header Cache-Control "public, immutable";
    }
}
```

### 8.4 ç§»åŠ¨åº”ç”¨åˆ†å‘é…ç½®


**ğŸ“± APPä¸‹è½½æœåŠ¡å™¨**
```nginx
# ç§»åŠ¨åº”ç”¨åˆ†å‘æœåŠ¡å™¨
server {
    listen 80;
    server_name app.example.com;
    root /var/www/apps;
    
    include /etc/nginx/mime.types;
    default_type application/octet-stream;
    
    # Androidåº”ç”¨åŒ…
    location ~* \.(apk)$ {
        add_header Content-Type "application/vnd.android.package-archive";
        add_header Content-Disposition "attachment";
        
        # ç¦ç”¨ç¼“å­˜ï¼ˆç¡®ä¿è·å–æœ€æ–°ç‰ˆæœ¬ï¼‰
        add_header Cache-Control "no-cache, no-store, must-revalidate";
    }
    
    # iOSé…ç½®æ–‡ä»¶
    location ~* \.(mobileconfig)$ {
        add_header Content-Type "application/x-apple-aspen-config";
        add_header Content-Disposition "attachment";
    }
    
    # åº”ç”¨å›¾æ ‡
    location ~* \.(png|jpg)$ {
        expires 1d;
        add_header Cache-Control "public";
    }
}
```

---

## 9. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 9.1 å¿…é¡»æŒæ¡çš„åŸºæœ¬æ¦‚å¿µ


```
ğŸ”¸ MIMEç±»å‹ï¼šæ–‡ä»¶çš„"èº«ä»½è¯"ï¼Œå‘Šè¯‰æµè§ˆå™¨æ€ä¹ˆå¤„ç†æ–‡ä»¶
ğŸ”¸ mime.typesï¼šæ‰©å±•ååˆ°MIMEç±»å‹çš„æ˜ å°„å­—å…¸
ğŸ”¸ default_typeï¼šæ‰¾ä¸åˆ°æ˜ å°„æ—¶ä½¿ç”¨çš„é»˜è®¤ç±»å‹
ğŸ”¸ includeæŒ‡ä»¤ï¼šåŒ…å«å¤–éƒ¨é…ç½®æ–‡ä»¶çš„æ–¹æ³•
ğŸ”¸ å­—ç¬¦é›†é…ç½®ï¼šç¡®ä¿æ–‡å­—æ­£ç¡®æ˜¾ç¤ºçš„ç¼–ç è®¾ç½®
ğŸ”¸ å‹ç¼©é…ç½®ï¼šæ ¹æ®MIMEç±»å‹å†³å®šæ˜¯å¦å‹ç¼©æ–‡ä»¶
```

### 9.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ MIMEç±»å‹çš„é‡è¦æ€§**
```
æ­£ç¡®çš„MIMEç±»å‹ç¡®ä¿ï¼š
- ç½‘é¡µæ­£å¸¸æ˜¾ç¤ºæ ·å¼
- å›¾ç‰‡æ­£ç¡®æ˜¾ç¤º
- æ–‡ä»¶æŒ‰é¢„æœŸä¸‹è½½
- APIæ•°æ®æ­£ç¡®è§£æ
- æµè§ˆå™¨ç¼“å­˜ç­–ç•¥ç”Ÿæ•ˆ
```

**ğŸ”¹ é…ç½®æ–‡ä»¶çš„å±‚æ¬¡å…³ç³»**
```
nginx.conf (ä¸»é…ç½®)
    â†“
include mime.types (æ–‡ä»¶ç±»å‹æ˜ å°„)
    â†“
default_type (é»˜è®¤ç±»å‹)
    â†“
locationå…·ä½“é…ç½® (ç‰¹æ®Šå¤„ç†)
```

**ğŸ”¹ æ€§èƒ½ä¼˜åŒ–çš„å…³é”®**
```
å‹ç¼©é…ç½®åŸåˆ™ï¼š
âœ… æ–‡æœ¬æ–‡ä»¶ï¼šHTMLã€CSSã€JSã€JSON â†’ å‹ç¼©æ•ˆæœå¥½
âŒ äºŒè¿›åˆ¶æ–‡ä»¶ï¼šå›¾ç‰‡ã€è§†é¢‘ã€å‹ç¼©åŒ… â†’ ä¸éœ€è¦å‹ç¼©
âš–ï¸ æ–‡ä»¶å¤§å°ï¼šå°äº1KBçš„æ–‡ä»¶ä¸å€¼å¾—å‹ç¼©
```

### 9.3 å®é™…åº”ç”¨ä»·å€¼


**ğŸ¯ ä¸åŒæœåŠ¡å™¨ç±»å‹çš„é…ç½®é‡ç‚¹**

| æœåŠ¡å™¨ç±»å‹ | **MIMEé…ç½®é‡ç‚¹** | **å­—ç¬¦é›†è¦æ±‚** | **å‹ç¼©ç­–ç•¥** |
|-----------|-----------------|---------------|-------------|
| `é™æ€ç½‘ç«™` | `ç½‘é¡µã€æ ·å¼ã€è„šæœ¬ç±»å‹` | `UTF-8ç»Ÿä¸€` | `æ–‡æœ¬æ–‡ä»¶å…¨å‹ç¼©` |
| `APIæœåŠ¡` | `JSONä¸ºä¸»ï¼ŒPDFä¸‹è½½` | `UTF-8 API` | `JSONæ•°æ®å‹ç¼©` |
| `æ–‡ä»¶æœåŠ¡` | `ä¸‹è½½ç±»å‹å‡†ç¡®` | `æ–‡ä»¶åç¼–ç ` | `é€‰æ‹©æ€§å‹ç¼©` |
| `å¤šåª’ä½“` | `éŸ³è§†é¢‘ç±»å‹å®Œæ•´` | `å…ƒæ•°æ®ç¼–ç ` | `ä¸å‹ç¼©åª’ä½“` |

**ğŸ”§ é…ç½®æ£€æŸ¥æ¸…å•**
- âœ… `mime.types`æ–‡ä»¶æ­£ç¡®åŒ…å«
- âœ… `default_type`åˆç†è®¾ç½®
- âœ… å­—ç¬¦é›†ç»Ÿä¸€ä¸ºUTF-8
- âœ… å‹ç¼©ç±»å‹é…ç½®å¾—å½“
- âœ… ç‰¹æ®Šæ–‡ä»¶ç±»å‹æ­£ç¡®æ˜ å°„
- âœ… ç¼“å­˜ç­–ç•¥é…åˆMIMEç±»å‹

**ğŸ’¡ æ•…éšœæ’æŸ¥æ€è·¯**
```
æ–‡ä»¶æ˜¾ç¤ºå¼‚å¸¸ â†’ æ£€æŸ¥MIMEç±»å‹æ˜ å°„
ä¸­æ–‡ä¹±ç  â†’ æ£€æŸ¥å­—ç¬¦é›†é…ç½®
å‹ç¼©æ— æ•ˆ â†’ æ£€æŸ¥gzip_typesè®¾ç½®
ä¸‹è½½è¡Œä¸ºå¼‚å¸¸ â†’ æ£€æŸ¥Content-Disposition
APIè¿”å›æ ¼å¼é”™è¯¯ â†’ æ£€æŸ¥default_type
```

**æ ¸å¿ƒè®°å¿†è¦ç‚¹**ï¼š
- MIMEç±»å‹æ˜¯æ–‡ä»¶æ­£ç¡®å¤„ç†çš„åŸºç¡€
- mime.typesæ–‡ä»¶æ˜¯æ ¸å¿ƒæ˜ å°„è¡¨
- å­—ç¬¦é›†é…ç½®è§£å†³ä¹±ç é—®é¢˜
- å‹ç¼©é…ç½®è¦é’ˆå¯¹æ–‡ä»¶ç±»å‹ä¼˜åŒ–
- ä¸åŒåº”ç”¨åœºæ™¯éœ€è¦ä¸åŒçš„MIMEç­–ç•¥