---
title: 4ã€Dockerå‘½ä»¤é€ŸæŸ¥
---
## ğŸ“š ç›®å½•

1. [Dockerå‘½ä»¤åŸºç¡€æ¦‚è§ˆ](#1-Dockerå‘½ä»¤åŸºç¡€æ¦‚è§ˆ)
2. [å®¹å™¨ç®¡ç†å‘½ä»¤è¯¦è§£](#2-å®¹å™¨ç®¡ç†å‘½ä»¤è¯¦è§£)
3. [é•œåƒæ“ä½œå‘½ä»¤](#3-é•œåƒæ“ä½œå‘½ä»¤)
4. [ç½‘ç»œä¸å­˜å‚¨å‘½ä»¤](#4-ç½‘ç»œä¸å­˜å‚¨å‘½ä»¤)
5. [ç³»ç»Ÿä¿¡æ¯ä¸ç›‘æ§å‘½ä»¤](#5-ç³»ç»Ÿä¿¡æ¯ä¸ç›‘æ§å‘½ä»¤)
6. [æ•…éšœæ’æŸ¥ä¸“ç”¨å‘½ä»¤](#6-æ•…éšœæ’æŸ¥ä¸“ç”¨å‘½ä»¤)
7. [å‘½ä»¤ç»„åˆæŠ€å·§ä¸é«˜æ•ˆæ“ä½œ](#7-å‘½ä»¤ç»„åˆæŠ€å·§ä¸é«˜æ•ˆæ“ä½œ)
8. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#8-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ‹ Dockerå‘½ä»¤åŸºç¡€æ¦‚è§ˆ


### 1.1 Dockerå‘½ä»¤ç»“æ„è§£æ


**å‘½ä»¤åŸºæœ¬æ ¼å¼**ï¼šDockerå‘½ä»¤éµå¾ªç»Ÿä¸€çš„ç»“æ„æ¨¡å¼
```
docker [é€‰é¡¹] å‘½ä»¤ [å‚æ•°]
```

**æ ¸å¿ƒç†è§£**ï¼š
- **docker**ï¼šDockerå®¢æˆ·ç«¯ç¨‹åº
- **é€‰é¡¹**ï¼šå…¨å±€é…ç½®å‚æ•°ï¼Œå½±å“æ•´ä¸ªDockerè¡Œä¸º
- **å‘½ä»¤**ï¼šå…·ä½“è¦æ‰§è¡Œçš„æ“ä½œåŠ¨ä½œ
- **å‚æ•°**ï¼šé’ˆå¯¹å‘½ä»¤çš„å…·ä½“é…ç½®

### 1.2 å‘½ä»¤åˆ†ç±»ä½“ç³»


**æŒ‰åŠŸèƒ½åˆ†ç±»ç†è§£**ï¼š
```
å®¹å™¨ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼š
â”œâ”€â”€ run     â†’ åˆ›å»ºå¹¶å¯åŠ¨å®¹å™¨
â”œâ”€â”€ start   â†’ å¯åŠ¨å·²åœæ­¢çš„å®¹å™¨
â”œâ”€â”€ stop    â†’ åœæ­¢è¿è¡Œä¸­çš„å®¹å™¨
â”œâ”€â”€ restart â†’ é‡å¯å®¹å™¨
â””â”€â”€ rm      â†’ åˆ é™¤å®¹å™¨

é•œåƒç®¡ç†ï¼š
â”œâ”€â”€ pull    â†’ ä¸‹è½½é•œåƒ
â”œâ”€â”€ build   â†’ æ„å»ºé•œåƒ
â”œâ”€â”€ push    â†’ ä¸Šä¼ é•œåƒ
â”œâ”€â”€ images  â†’ åˆ—å‡ºé•œåƒ
â””â”€â”€ rmi     â†’ åˆ é™¤é•œåƒ

ä¿¡æ¯æŸ¥çœ‹ï¼š
â”œâ”€â”€ ps      â†’ æŸ¥çœ‹å®¹å™¨çŠ¶æ€
â”œâ”€â”€ logs    â†’ æŸ¥çœ‹å®¹å™¨æ—¥å¿—
â”œâ”€â”€ inspect â†’ è¯¦ç»†ä¿¡æ¯æŸ¥çœ‹
â””â”€â”€ stats   â†’ å®æ—¶ç›‘æ§
```

### 1.3 å‘½ä»¤å¸®åŠ©ç³»ç»Ÿ


**è·å–å¸®åŠ©çš„æ–¹æ³•**ï¼š
```bash
# æŸ¥çœ‹æ‰€æœ‰å‘½ä»¤åˆ—è¡¨
docker --help

# æŸ¥çœ‹ç‰¹å®šå‘½ä»¤å¸®åŠ©
docker run --help
docker build --help
```

**å®ç”¨æŠ€å·§**ï¼šæ¯ä¸ªDockerå‘½ä»¤éƒ½æœ‰è¯¦ç»†çš„å¸®åŠ©æ–‡æ¡£ï¼Œé‡åˆ°ä¸ç†Ÿæ‚‰çš„å‚æ•°æ—¶å…ˆæŸ¥çœ‹å¸®åŠ©æ–‡æ¡£

---

## 2. ğŸ“¦ å®¹å™¨ç®¡ç†å‘½ä»¤è¯¦è§£


### 2.1 å®¹å™¨åˆ›å»ºä¸å¯åŠ¨


#### ğŸš€ docker run - åˆ›å»ºå¹¶è¿è¡Œå®¹å™¨


**åŸºæœ¬ç”¨æ³•**ï¼š
```bash
# æœ€ç®€å•çš„è¿è¡Œæ–¹å¼
docker run hello-world

# äº¤äº’å¼è¿è¡Œ
docker run -it ubuntu /bin/bash

# åå°è¿è¡Œ
docker run -d nginx
```

**é‡è¦å‚æ•°è¯¦è§£**ï¼š

| å‚æ•° | å«ä¹‰ | ä½¿ç”¨åœºæ™¯ | ç¤ºä¾‹ |
|------|------|----------|------|
| `-it` | `äº¤äº’å¼ç»ˆç«¯` | éœ€è¦ä¸å®¹å™¨äº¤äº’æ—¶ | `docker run -it ubuntu bash` |
| `-d` | `åå°è¿è¡Œ(å®ˆæŠ¤è¿›ç¨‹)` | è¿è¡ŒæœåŠ¡ç±»åº”ç”¨ | `docker run -d nginx` |
| `-p` | `ç«¯å£æ˜ å°„` | éœ€è¦å¤–éƒ¨è®¿é—®å®¹å™¨æœåŠ¡ | `docker run -p 8080:80 nginx` |
| `-v` | `æ•°æ®å·æŒ‚è½½` | æŒä¹…åŒ–æ•°æ® | `docker run -v /data:/app/data mysql` |
| `--name` | `æŒ‡å®šå®¹å™¨åç§°` | ä¾¿äºç®¡ç†è¯†åˆ« | `docker run --name web nginx` |
| `--rm` | `å®¹å™¨åœæ­¢åè‡ªåŠ¨åˆ é™¤` | ä¸´æ—¶æµ‹è¯•å®¹å™¨ | `docker run --rm -it ubuntu` |

**ç«¯å£æ˜ å°„è¯¦ç»†è¯´æ˜**ï¼š
```bash
# æ ¼å¼ï¼š-p å®¿ä¸»æœºç«¯å£:å®¹å™¨ç«¯å£
docker run -p 8080:80 nginx        # å°†å®¹å™¨80ç«¯å£æ˜ å°„åˆ°å®¿ä¸»æœº8080ç«¯å£
docker run -p 127.0.0.1:8080:80 nginx  # åªç»‘å®šåˆ°æœ¬åœ°å›ç¯åœ°å€
docker run -P nginx                 # è‡ªåŠ¨æ˜ å°„å®¹å™¨æš´éœ²çš„æ‰€æœ‰ç«¯å£
```

#### â¯ï¸ å®¹å™¨å¯åŠ¨æ§åˆ¶å‘½ä»¤


**docker start/stop/restart**ï¼š
```bash
# å¯åŠ¨å·²åœæ­¢çš„å®¹å™¨
docker start å®¹å™¨åæˆ–ID

# ä¼˜é›…åœæ­¢å®¹å™¨ï¼ˆå‘é€SIGTERMä¿¡å·ï¼‰
docker stop å®¹å™¨åæˆ–ID

# å¼ºåˆ¶æ€æ­»å®¹å™¨ï¼ˆå‘é€SIGKILLä¿¡å·ï¼‰
docker kill å®¹å™¨åæˆ–ID

# é‡å¯å®¹å™¨
docker restart å®¹å™¨åæˆ–ID
```

**å¯åœç­–ç•¥ç†è§£**ï¼š
- **stop**ï¼šç»™å®¹å™¨æ—¶é—´å¤„ç†æ¸…ç†å·¥ä½œï¼Œæ¨èä½¿ç”¨
- **kill**ï¼šç«‹å³ç»ˆæ­¢ï¼Œå¯èƒ½å¯¼è‡´æ•°æ®ä¸¢å¤±ï¼Œç´§æ€¥æƒ…å†µä½¿ç”¨

### 2.2 å®¹å™¨çŠ¶æ€æŸ¥çœ‹


#### ğŸ“‹ docker ps - æŸ¥çœ‹å®¹å™¨çŠ¶æ€


**åŸºæœ¬ç”¨æ³•**ï¼š
```bash
# æŸ¥çœ‹è¿è¡Œä¸­çš„å®¹å™¨
docker ps

# æŸ¥çœ‹æ‰€æœ‰å®¹å™¨ï¼ˆåŒ…æ‹¬åœæ­¢çš„ï¼‰
docker ps -a

# åªæ˜¾ç¤ºå®¹å™¨ID
docker ps -q

# è‡ªå®šä¹‰è¾“å‡ºæ ¼å¼
docker ps --format "table {{.Names}}\t{{.Status}}\t{{.Ports}}"
```

**è¾“å‡ºå­—æ®µå«ä¹‰**ï¼š
```
CONTAINER ID  â†’ å®¹å™¨çš„å”¯ä¸€æ ‡è¯†ç¬¦ï¼ˆçŸ­æ ¼å¼ï¼‰
IMAGE        â†’ ä½¿ç”¨çš„é•œåƒåç§°
COMMAND      â†’ å®¹å™¨å¯åŠ¨æ—¶æ‰§è¡Œçš„å‘½ä»¤
CREATED      â†’ å®¹å™¨åˆ›å»ºæ—¶é—´
STATUS       â†’ å®¹å™¨å½“å‰çŠ¶æ€ï¼ˆUp/Exitedï¼‰
PORTS        â†’ ç«¯å£æ˜ å°„ä¿¡æ¯
NAMES        â†’ å®¹å™¨åç§°
```

### 2.3 å®¹å™¨äº¤äº’ä¸æ‰§è¡Œ


#### ğŸ–¥ï¸ docker exec - åœ¨è¿è¡Œå®¹å™¨ä¸­æ‰§è¡Œå‘½ä»¤


**å¸¸ç”¨æ–¹å¼**ï¼š
```bash
# è¿›å…¥å®¹å™¨çš„äº¤äº’å¼ç»ˆç«¯
docker exec -it å®¹å™¨å bash

# åœ¨å®¹å™¨ä¸­æ‰§è¡Œå•ä¸ªå‘½ä»¤
docker exec å®¹å™¨å ls /app

# ä»¥rootç”¨æˆ·èº«ä»½æ‰§è¡Œï¼ˆé»˜è®¤å¯èƒ½æ˜¯å…¶ä»–ç”¨æˆ·ï¼‰
docker exec -u root -it å®¹å™¨å bash
```

**ä¸docker runçš„åŒºåˆ«**ï¼š
- **run**ï¼šåˆ›å»ºæ–°å®¹å™¨å¹¶è¿è¡Œ
- **exec**ï¼šåœ¨å·²å­˜åœ¨çš„è¿è¡Œå®¹å™¨ä¸­æ‰§è¡Œå‘½ä»¤

#### ğŸ“„ docker logs - æŸ¥çœ‹å®¹å™¨æ—¥å¿—


**æ—¥å¿—æŸ¥çœ‹æ–¹æ³•**ï¼š
```bash
# æŸ¥çœ‹æ‰€æœ‰æ—¥å¿—
docker logs å®¹å™¨å

# å®æ—¶è·Ÿè¸ªæ—¥å¿—ï¼ˆç±»ä¼¼tail -fï¼‰
docker logs -f å®¹å™¨å

# æŸ¥çœ‹æœ€è¿‘50è¡Œæ—¥å¿—
docker logs --tail 50 å®¹å™¨å

# æ˜¾ç¤ºæ—¶é—´æˆ³
docker logs -t å®¹å™¨å

# æŸ¥çœ‹ç‰¹å®šæ—¶é—´èŒƒå›´çš„æ—¥å¿—
docker logs --since "2023-01-01T00:00:00" å®¹å™¨å
```

---

## 3. ğŸ–¼ï¸ é•œåƒæ“ä½œå‘½ä»¤


### 3.1 é•œåƒè·å–ä¸ç®¡ç†


#### ğŸ“¥ docker pull - ä¸‹è½½é•œåƒ


**ä¸‹è½½é•œåƒçš„æ–¹æ³•**ï¼š
```bash
# ä¸‹è½½æœ€æ–°ç‰ˆæœ¬é•œåƒ
docker pull nginx

# ä¸‹è½½æŒ‡å®šç‰ˆæœ¬
docker pull nginx:1.20

# ä»æŒ‡å®šä»“åº“ä¸‹è½½
docker pull registry.cn-hangzhou.aliyuncs.com/acs/nginx
```

**é•œåƒæ ‡ç­¾ç†è§£**ï¼š
- **latest**ï¼šé»˜è®¤æ ‡ç­¾ï¼Œé€šå¸¸æŒ‡å‘æœ€æ–°ç¨³å®šç‰ˆæœ¬
- **ç‰ˆæœ¬å·**ï¼šå¦‚1.20ã€3.8ç­‰å…·ä½“ç‰ˆæœ¬
- **è‡ªå®šä¹‰æ ‡ç­¾**ï¼šå¦‚alpineã€slimç­‰å˜ä½“ç‰ˆæœ¬

#### ğŸ“‹ docker images - åˆ—å‡ºæœ¬åœ°é•œåƒ


**é•œåƒåˆ—è¡¨æŸ¥çœ‹**ï¼š
```bash
# æŸ¥çœ‹æ‰€æœ‰æœ¬åœ°é•œåƒ
docker images

# åªæ˜¾ç¤ºé•œåƒID
docker images -q

# æŸ¥çœ‹é•œåƒè¯¦ç»†ä¿¡æ¯ï¼ˆåŒ…æ‹¬ä¸­é—´å±‚ï¼‰
docker images -a

# æŸ¥çœ‹æ‚¬ç©ºé•œåƒï¼ˆæ²¡æœ‰æ ‡ç­¾çš„é•œåƒï¼‰
docker images -f dangling=true
```

**è¾“å‡ºä¿¡æ¯è§£è¯»**ï¼š
```
REPOSITORY   â†’ é•œåƒä»“åº“åç§°
TAG         â†’ é•œåƒæ ‡ç­¾ç‰ˆæœ¬
IMAGE ID    â†’ é•œåƒå”¯ä¸€æ ‡è¯†
CREATED     â†’ é•œåƒåˆ›å»ºæ—¶é—´
SIZE        â†’ é•œåƒå¤§å°
```

### 3.2 é•œåƒæ„å»ºä¸æ¨é€


#### ğŸ”¨ docker build - æ„å»ºè‡ªå®šä¹‰é•œåƒ


**é•œåƒæ„å»ºåŸºç¡€**ï¼š
```bash
# ä»å½“å‰ç›®å½•çš„Dockerfileæ„å»ºé•œåƒ
docker build -t myapp:latest .

# æŒ‡å®šDockerfileè·¯å¾„
docker build -f /path/to/Dockerfile -t myapp .

# æ„å»ºæ—¶ä¼ é€’å‚æ•°
docker build --build-arg VERSION=1.0 -t myapp .
```

**æ„å»ºå‚æ•°è¯´æ˜**ï¼š
- **-t**ï¼šç»™é•œåƒæ‰“æ ‡ç­¾ï¼ˆtagï¼‰
- **-f**ï¼šæŒ‡å®šDockerfileæ–‡ä»¶è·¯å¾„
- **--build-arg**ï¼šä¼ é€’æ„å»ºå‚æ•°
- **.**ï¼šæ„å»ºä¸Šä¸‹æ–‡è·¯å¾„ï¼ˆé€šå¸¸æ˜¯å½“å‰ç›®å½•ï¼‰

#### â¬†ï¸ docker push - ä¸Šä¼ é•œåƒ


**é•œåƒæ¨é€æµç¨‹**ï¼š
```bash
# ç™»å½•åˆ°é•œåƒä»“åº“
docker login

# ç»™é•œåƒæ‰“æ ‡ç­¾ï¼ˆåŒ…å«ä»“åº“åœ°å€ï¼‰
docker tag myapp:latest username/myapp:latest

# æ¨é€é•œåƒåˆ°ä»“åº“
docker push username/myapp:latest
```

### 3.3 é•œåƒæ¸…ç†


#### ğŸ—‘ï¸ docker rmi - åˆ é™¤é•œåƒ


**é•œåƒåˆ é™¤æ“ä½œ**ï¼š
```bash
# åˆ é™¤å•ä¸ªé•œåƒ
docker rmi nginx:latest

# åˆ é™¤å¤šä¸ªé•œåƒ
docker rmi nginx:latest ubuntu:20.04

# å¼ºåˆ¶åˆ é™¤ï¼ˆå³ä½¿æœ‰å®¹å™¨åœ¨ä½¿ç”¨ï¼‰
docker rmi -f nginx:latest

# åˆ é™¤æ‰€æœ‰æ‚¬ç©ºé•œåƒ
docker image prune
```

---

## 4. ğŸŒ ç½‘ç»œä¸å­˜å‚¨å‘½ä»¤


### 4.1 ç½‘ç»œç®¡ç†å‘½ä»¤


#### ğŸ”— ç½‘ç»œæ“ä½œåŸºç¡€


**ç½‘ç»œå‘½ä»¤æ¦‚è§ˆ**ï¼š
```bash
# åˆ—å‡ºæ‰€æœ‰ç½‘ç»œ
docker network ls

# åˆ›å»ºè‡ªå®šä¹‰ç½‘ç»œ
docker network create mynetwork

# æŸ¥çœ‹ç½‘ç»œè¯¦ç»†ä¿¡æ¯
docker network inspect bridge

# å°†å®¹å™¨è¿æ¥åˆ°ç½‘ç»œ
docker network connect mynetwork mycontainer

# æ–­å¼€å®¹å™¨ç½‘ç»œè¿æ¥
docker network disconnect mynetwork mycontainer
```

**ç½‘ç»œç±»å‹ç†è§£**ï¼š
```
bridge   â†’ æ¡¥æ¥ç½‘ç»œï¼ˆé»˜è®¤ï¼‰- åŒå®¿ä¸»æœºå®¹å™¨é—´é€šä¿¡
host     â†’ ä¸»æœºç½‘ç»œ - ç›´æ¥ä½¿ç”¨å®¿ä¸»æœºç½‘ç»œæ ˆ
none     â†’ æ— ç½‘ç»œ - å®¹å™¨æ— ç½‘ç»œè¿æ¥
overlay  â†’ è¦†ç›–ç½‘ç»œ - è·¨ä¸»æœºå®¹å™¨é€šä¿¡ï¼ˆé›†ç¾¤æ¨¡å¼ï¼‰
```

### 4.2 å­˜å‚¨ç®¡ç†å‘½ä»¤


#### ğŸ’¾ æ•°æ®å·æ“ä½œ


**å·ç®¡ç†å‘½ä»¤**ï¼š
```bash
# åˆ›å»ºæ•°æ®å·
docker volume create myvolume

# åˆ—å‡ºæ‰€æœ‰æ•°æ®å·
docker volume ls

# æŸ¥çœ‹æ•°æ®å·è¯¦ç»†ä¿¡æ¯
docker volume inspect myvolume

# åˆ é™¤æœªä½¿ç”¨çš„æ•°æ®å·
docker volume prune

# åˆ é™¤æŒ‡å®šæ•°æ®å·
docker volume rm myvolume
```

**æ•°æ®å·ä½¿ç”¨ç¤ºä¾‹**ï¼š
```bash
# ä½¿ç”¨å‘½åå·
docker run -v myvolume:/app/data nginx

# ä½¿ç”¨ç»‘å®šæŒ‚è½½
docker run -v /host/path:/container/path nginx

# åªè¯»æŒ‚è½½
docker run -v /host/path:/container/path:ro nginx
```

---

## 5. ğŸ“Š ç³»ç»Ÿä¿¡æ¯ä¸ç›‘æ§å‘½ä»¤


### 5.1 ç³»ç»ŸçŠ¶æ€æŸ¥çœ‹


#### â„¹ï¸ docker info - ç³»ç»Ÿä¿¡æ¯


**ç³»ç»Ÿä¿¡æ¯æŸ¥çœ‹**ï¼š
```bash
# æ˜¾ç¤ºDockerç³»ç»Ÿä¿¡æ¯
docker info

# æ˜¾ç¤ºDockerç‰ˆæœ¬ä¿¡æ¯
docker version
```

**å…³é”®ä¿¡æ¯è§£è¯»**ï¼š
- **å®¹å™¨æ•°é‡**ï¼šè¿è¡Œä¸­ã€æš‚åœã€åœæ­¢çš„å®¹å™¨ç»Ÿè®¡
- **é•œåƒæ•°é‡**ï¼šæœ¬åœ°å­˜å‚¨çš„é•œåƒæ€»æ•°
- **å­˜å‚¨é©±åŠ¨**ï¼šä½¿ç”¨çš„å­˜å‚¨é©±åŠ¨ç±»å‹
- **ç½‘ç»œæ’ä»¶**ï¼šå¯ç”¨çš„ç½‘ç»œæ’ä»¶

#### ğŸ“ˆ docker stats - å®æ—¶ç›‘æ§


**èµ„æºä½¿ç”¨ç›‘æ§**ï¼š
```bash
# å®æ—¶æ˜¾ç¤ºæ‰€æœ‰å®¹å™¨èµ„æºä½¿ç”¨æƒ…å†µ
docker stats

# åªæ˜¾ç¤ºæŒ‡å®šå®¹å™¨
docker stats å®¹å™¨å1 å®¹å™¨å2

# åªæ˜¾ç¤ºä¸€æ¬¡ï¼ˆä¸æŒç»­æ›´æ–°ï¼‰
docker stats --no-stream
```

**ç›‘æ§æŒ‡æ ‡å«ä¹‰**ï¼š
```
CPU %        â†’ CPUä½¿ç”¨ç™¾åˆ†æ¯”
MEM USAGE    â†’ å†…å­˜ä½¿ç”¨é‡/é™åˆ¶
MEM %        â†’ å†…å­˜ä½¿ç”¨ç™¾åˆ†æ¯”
NET I/O      â†’ ç½‘ç»œè¾“å…¥/è¾“å‡ºæµé‡
BLOCK I/O    â†’ ç£ç›˜è¯»/å†™æµé‡
PIDs         â†’ è¿›ç¨‹/çº¿ç¨‹æ•°é‡
```

### 5.2 è¯¦ç»†ä¿¡æ¯æ£€æŸ¥


#### ğŸ” docker inspect - æ·±åº¦æ£€æŸ¥


**è¯¦ç»†ä¿¡æ¯æŸ¥çœ‹**ï¼š
```bash
# æŸ¥çœ‹å®¹å™¨è¯¦ç»†é…ç½®
docker inspect å®¹å™¨å

# æŸ¥çœ‹é•œåƒè¯¦ç»†ä¿¡æ¯
docker inspect é•œåƒå

# åªè·å–ç‰¹å®šå­—æ®µä¿¡æ¯
docker inspect --format='{{.NetworkSettings.IPAddress}}' å®¹å™¨å
```

**inspectè¾“å‡ºæ ¼å¼åŒ–**ï¼š
```bash
# è·å–å®¹å™¨IPåœ°å€
docker inspect --format='{{.NetworkSettings.IPAddress}}' mycontainer

# è·å–å®¹å™¨çŠ¶æ€
docker inspect --format='{{.State.Status}}' mycontainer

# è·å–æŒ‚è½½ä¿¡æ¯
docker inspect --format='{{.Mounts}}' mycontainer
```

---

## 6. ğŸ”§ æ•…éšœæ’æŸ¥ä¸“ç”¨å‘½ä»¤


### 6.1 é—®é¢˜è¯Šæ–­å‘½ä»¤ç»„åˆ


#### ğŸš¨ å®¹å™¨æ— æ³•å¯åŠ¨æ’æŸ¥


**æ’æŸ¥æ€è·¯ä¸å‘½ä»¤**ï¼š
```bash
# 1. æ£€æŸ¥å®¹å™¨çŠ¶æ€å’Œé”™è¯¯ä¿¡æ¯
docker ps -a
docker logs å®¹å™¨å

# 2. æŸ¥çœ‹è¯¦ç»†é…ç½®æ£€æŸ¥é—®é¢˜
docker inspect å®¹å™¨å

# 3. å°è¯•äº¤äº’å¼å¯åŠ¨è¿›è¡Œè°ƒè¯•
docker run -it --entrypoint=/bin/bash é•œåƒå
```

**å¸¸è§å¯åŠ¨å¤±è´¥åŸå› **ï¼š
- âœ… **ç«¯å£å†²çª**ï¼šæ£€æŸ¥ç«¯å£æ˜¯å¦è¢«å ç”¨
- âœ… **æƒé™é—®é¢˜**ï¼šæ£€æŸ¥æ–‡ä»¶/ç›®å½•æƒé™
- âœ… **èµ„æºä¸è¶³**ï¼šæ£€æŸ¥å†…å­˜ã€ç£ç›˜ç©ºé—´
- âœ… **é…ç½®é”™è¯¯**ï¼šæ£€æŸ¥ç¯å¢ƒå˜é‡ã€æŒ‚è½½è·¯å¾„

#### ğŸ“‹ ç½‘ç»œè¿é€šæ€§æ£€æŸ¥


**ç½‘ç»œæ•…éšœæ’æŸ¥æ­¥éª¤**ï¼š
```bash
# 1. æ£€æŸ¥å®¹å™¨ç½‘ç»œé…ç½®
docker inspect å®¹å™¨å | grep -i network

# 2. æ£€æŸ¥ç«¯å£æ˜ å°„
docker port å®¹å™¨å

# 3. æµ‹è¯•ç½‘ç»œè¿é€šæ€§
docker exec å®¹å™¨å ping ç›®æ ‡åœ°å€
docker exec å®¹å™¨å telnet ä¸»æœº ç«¯å£

# 4. æ£€æŸ¥é˜²ç«å¢™å’Œè·¯ç”±
docker exec å®¹å™¨å iptables -L
```

### 6.2 æ€§èƒ½é—®é¢˜æ’æŸ¥


#### âš¡ èµ„æºä½¿ç”¨åˆ†æ


**æ€§èƒ½ç›‘æ§ä¸åˆ†æ**ï¼š
```bash
# å®æ—¶ç›‘æ§èµ„æºä½¿ç”¨
docker stats --format "table {{.Container}}\t{{.CPUPerc}}\t{{.MemUsage}}"

# æŸ¥çœ‹è¿›ç¨‹ä¿¡æ¯
docker exec å®¹å™¨å top
docker exec å®¹å™¨å ps aux

# æ£€æŸ¥ç£ç›˜ä½¿ç”¨
docker exec å®¹å™¨å df -h
docker system df
```

**ç³»ç»Ÿæ¸…ç†å‘½ä»¤**ï¼š
```bash
# æ¸…ç†æœªä½¿ç”¨çš„é•œåƒ
docker image prune

# æ¸…ç†åœæ­¢çš„å®¹å™¨
docker container prune

# æ¸…ç†æœªä½¿ç”¨çš„ç½‘ç»œ
docker network prune

# æ¸…ç†æœªä½¿ç”¨çš„æ•°æ®å·
docker volume prune

# ä¸€é”®æ¸…ç†æ‰€æœ‰æœªä½¿ç”¨èµ„æº
docker system prune -a
```

---

## 7. ğŸ¯ å‘½ä»¤ç»„åˆæŠ€å·§ä¸é«˜æ•ˆæ“ä½œ


### 7.1 æ‰¹é‡æ“ä½œæŠ€å·§


#### ğŸ“¦ æ‰¹é‡å®¹å™¨ç®¡ç†


**æ‰¹é‡æ“ä½œå®ç”¨å‘½ä»¤**ï¼š
```bash
# åœæ­¢æ‰€æœ‰è¿è¡Œä¸­çš„å®¹å™¨
docker stop $(docker ps -q)

# åˆ é™¤æ‰€æœ‰åœæ­¢çš„å®¹å™¨
docker rm $(docker ps -a -q --filter status=exited)

# åˆ é™¤æ‰€æœ‰å®¹å™¨ï¼ˆè°¨æ…ä½¿ç”¨ï¼‰
docker rm -f $(docker ps -a -q)

# åŸºäºé•œåƒåæ‰¹é‡æ“ä½œ
docker ps --filter ancestor=nginx --format "{{.ID}}" | xargs docker stop
```

#### ğŸ–¼ï¸ æ‰¹é‡é•œåƒæ¸…ç†


**é•œåƒæ‰¹é‡ç®¡ç†**ï¼š
```bash
# åˆ é™¤æ‰€æœ‰æ‚¬ç©ºé•œåƒ
docker rmi $(docker images -f dangling=true -q)

# åˆ é™¤æŒ‡å®šæ¨¡å¼çš„é•œåƒ
docker rmi $(docker images | grep "^<none>" | awk '{print $3}')

# åˆ é™¤ç‰¹å®šä»“åº“çš„æ‰€æœ‰é•œåƒ
docker rmi $(docker images | grep "myrepo" | awk '{print $3}')
```

### 7.2 é«˜æ•ˆæ“ä½œæ–¹æ³•


#### âš¡ å‘½ä»¤ç®€åŒ–æŠ€å·§


**Shellåˆ«åè®¾ç½®**ï¼š
```bash
# åœ¨~/.bashrcæˆ–~/.zshrcä¸­æ·»åŠ 
alias dps='docker ps'
alias dpa='docker ps -a'
alias di='docker images'
alias dstop='docker stop'
alias drm='docker rm'
alias drmi='docker rmi'
```

**å¸¸ç”¨ç»„åˆå‘½ä»¤**ï¼š
```bash
# æ„å»ºå¹¶è¿è¡Œ
docker build -t myapp . && docker run -d --name myapp-container myapp

# åœæ­¢å¹¶åˆ é™¤å®¹å™¨
docker stop mycontainer && docker rm mycontainer

# åˆ é™¤é•œåƒå‰å…ˆåˆ é™¤ç›¸å…³å®¹å™¨
docker rm -f $(docker ps -a -q --filter ancestor=myimage) && docker rmi myimage
```

### 7.3 è„šæœ¬åŒ–ç®¡ç†


#### ğŸ“œ å®ç”¨è„šæœ¬ç¤ºä¾‹


**å®¹å™¨å¥åº·æ£€æŸ¥è„šæœ¬**ï¼š
```bash
#!/bin/bash
# æ£€æŸ¥å®¹å™¨å¥åº·çŠ¶æ€
for container in $(docker ps --format "{{.Names}}"); do
    status=$(docker inspect --format="{{.State.Health.Status}}" $container 2>/dev/null)
    if [ "$status" = "unhealthy" ]; then
        echo "Warning: $container is unhealthy"
    fi
done
```

**è‡ªåŠ¨æ¸…ç†è„šæœ¬**ï¼š
```bash
#!/bin/bash
# å®šæœŸæ¸…ç†Dockerèµ„æº
echo "Cleaning up Docker resources..."
docker system prune -f
docker image prune -a -f
echo "Cleanup completed"
```

---

## 8. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 8.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒå‘½ä»¤


```bash
ğŸ”¸ å®¹å™¨ç”Ÿå‘½å‘¨æœŸï¼šrun, start, stop, restart, rm
ğŸ”¸ é•œåƒç®¡ç†ï¼špull, build, push, images, rmi
ğŸ”¸ çŠ¶æ€æŸ¥çœ‹ï¼šps, logs, inspect, stats
ğŸ”¸ äº¤äº’æ“ä½œï¼šexec, attach, cp
ğŸ”¸ ç³»ç»Ÿç®¡ç†ï¼šinfo, version, system prune
```

### 8.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ å‘½ä»¤å‚æ•°è®°å¿†æ³•**
```
-i  â†’ interactive  (äº¤äº’å¼)
-t  â†’ tty         (ä¼ªç»ˆç«¯)
-d  â†’ detach      (åå°è¿è¡Œ)
-p  â†’ port        (ç«¯å£æ˜ å°„)
-v  â†’ volume      (æ•°æ®å·)
-e  â†’ environment (ç¯å¢ƒå˜é‡)
-a  â†’ all         (æ‰€æœ‰)
-f  â†’ force/filter (å¼ºåˆ¶/è¿‡æ»¤)
-q  â†’ quiet       (é™é»˜è¾“å‡º)
```

**ğŸ”¹ æ•…éšœæ’æŸ¥æ€è·¯**
```
ç¬¬1æ­¥ï¼šæŸ¥çœ‹å®¹å™¨çŠ¶æ€ â†’ docker ps -a
ç¬¬2æ­¥ï¼šæ£€æŸ¥æ—¥å¿—è¾“å‡º â†’ docker logs å®¹å™¨å
ç¬¬3æ­¥ï¼šæŸ¥çœ‹è¯¦ç»†é…ç½® â†’ docker inspect å®¹å™¨å
ç¬¬4æ­¥ï¼šè¿›å…¥å®¹å™¨è°ƒè¯• â†’ docker exec -it å®¹å™¨å bash
ç¬¬5æ­¥ï¼šæ£€æŸ¥ç³»ç»Ÿèµ„æº â†’ docker stats / docker system df
```

### 8.3 å®é™…åº”ç”¨æŒ‡å¯¼


**â­ æ–°æ‰‹å…¥é—¨ä¼˜å…ˆçº§**
- ğŸ”´ **é«˜ä¼˜å…ˆçº§**ï¼šrun, ps, logs, exec, stop, rm
- ğŸŸ¡ **ä¸­ä¼˜å…ˆçº§**ï¼špull, build, images, inspect
- ğŸŸ¢ **ä½ä¼˜å…ˆçº§**ï¼šnetwork, volume, systemå‘½ä»¤

**âš ï¸ å±é™©æ“ä½œè­¦å‘Š**
```
docker rm -f $(docker ps -a -q)     # åˆ é™¤æ‰€æœ‰å®¹å™¨
docker rmi -f $(docker images -q)   # åˆ é™¤æ‰€æœ‰é•œåƒ
docker system prune -a              # æ¸…ç†æ‰€æœ‰æœªä½¿ç”¨èµ„æº

ä½¿ç”¨å‰è¯·ç¡®è®¤æ•°æ®å·²å¤‡ä»½ï¼
```

**ğŸ’¡ æ•ˆç‡æå‡å»ºè®®**
- å–„ç”¨Tabé”®è‡ªåŠ¨è¡¥å…¨å®¹å™¨åå’Œé•œåƒå
- ä½¿ç”¨å®¹å™¨åè€Œä¸æ˜¯IDï¼Œæ›´å¥½è®°å¿†å’Œç®¡ç†
- å®šæœŸæ¸…ç†æ— ç”¨èµ„æºï¼Œä¿æŒç³»ç»Ÿæ•´æ´
- åˆ›å»ºåˆ«åç®€åŒ–å¸¸ç”¨å‘½ä»¤æ“ä½œ

**æ ¸å¿ƒè®°å¿†**ï¼š
- Dockerå‘½ä»¤éµå¾ªç»Ÿä¸€æ ¼å¼ï¼š`docker [é€‰é¡¹] å‘½ä»¤ [å‚æ•°]`
- å®¹å™¨ç”Ÿå‘½å‘¨æœŸï¼šåˆ›å»ºâ†’å¯åŠ¨â†’è¿è¡Œâ†’åœæ­¢â†’åˆ é™¤
- æ•…éšœæ’æŸ¥ä¸‰æ¿æ–§ï¼špsæŸ¥çŠ¶æ€ã€logsçœ‹æ—¥å¿—ã€execè¿›è°ƒè¯•
- æ‰¹é‡æ“ä½œå–„ç”¨ç®¡é“å’Œè¿‡æ»¤ï¼Œæé«˜è¿ç»´æ•ˆç‡