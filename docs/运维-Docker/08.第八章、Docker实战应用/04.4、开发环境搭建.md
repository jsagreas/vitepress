---
title: 4ã€å¼€å‘ç¯å¢ƒæ­å»º
---
## ğŸ“š ç›®å½•


1. [å¼€å‘ç¯å¢ƒéš”ç¦»åŸºç¡€](#1-å¼€å‘ç¯å¢ƒéš”ç¦»åŸºç¡€)
2. [ä»£ç çƒ­æ›´æ–°é…ç½®](#2-ä»£ç çƒ­æ›´æ–°é…ç½®)
3. [è°ƒè¯•ç¯å¢ƒé…ç½®](#3-è°ƒè¯•ç¯å¢ƒé…ç½®)
4. [ä¾èµ–ç®¡ç†ä¼˜åŒ–](#4-ä¾èµ–ç®¡ç†ä¼˜åŒ–)
5. [å¤šç‰ˆæœ¬ç¯å¢ƒç®¡ç†](#5-å¤šç‰ˆæœ¬ç¯å¢ƒç®¡ç†)
6. [å›¢é˜Ÿç¯å¢ƒä¸€è‡´æ€§](#6-å›¢é˜Ÿç¯å¢ƒä¸€è‡´æ€§)
7. [å¼€å‘å·¥å…·é›†æˆ](#7-å¼€å‘å·¥å…·é›†æˆ)
8. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#8-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

# ğŸ¯ **å­¦ä¹ è·¯å¾„å¯¼èˆª**


**å‰ç½®çŸ¥è¯†**ï¼šéœ€è¦æŒæ¡DockeråŸºç¡€å‘½ä»¤ã€Dockerfileç¼–å†™ â†’ **å½“å‰å†…å®¹**ï¼šå¼€å‘ç¯å¢ƒæ­å»º â†’ **åç»­å­¦ä¹ **ï¼šå»ºè®®å­¦ä¹ å®¹å™¨ç¼–æ’å’ŒCI/CDé›†æˆ

â±ï¸ **é¢„è®¡å­¦ä¹ æ—¶é—´**ï¼šæœ¬ç« é¢„è®¡90åˆ†é’Ÿ | å®è·µæ“ä½œ45åˆ†é’Ÿ

---

## 1. ğŸ  å¼€å‘ç¯å¢ƒéš”ç¦»åŸºç¡€



### 1.1 ä»€ä¹ˆæ˜¯å¼€å‘ç¯å¢ƒéš”ç¦»



**ğŸ”¸ æ ¸å¿ƒæ¦‚å¿µ**
```
å¼€å‘ç¯å¢ƒéš”ç¦»ï¼šå°†å¼€å‘å·¥ä½œå°è£…åœ¨ç‹¬ç«‹çš„å®¹å™¨ä¸­
ç›®çš„ï¼šé¿å…"åœ¨æˆ‘æœºå™¨ä¸Šèƒ½è·‘"çš„ç»å…¸é—®é¢˜
æœ¬è´¨ï¼šè®©æ¯ä¸ªé¡¹ç›®éƒ½æœ‰è‡ªå·±ç‹¬ç«‹çš„è¿è¡Œç¯å¢ƒ
```

**ğŸ’¡ ç”Ÿæ´»åŒ–ç†è§£**
å°±åƒæ¯ä¸ªäººéƒ½æœ‰è‡ªå·±çš„æˆ¿é—´ï¼š
- **ä¼ ç»Ÿå¼€å‘**ï¼šæ‰€æœ‰é¡¹ç›®æŒ¤åœ¨ä¸€ä¸ªæˆ¿é—´ï¼Œå·¥å…·å’Œä¾èµ–äº’ç›¸å¹²æ‰°
- **å®¹å™¨åŒ–å¼€å‘**ï¼šæ¯ä¸ªé¡¹ç›®æœ‰ç‹¬ç«‹æˆ¿é—´ï¼Œäº’ä¸å½±å“

### 1.2 ç¯å¢ƒéš”ç¦»çš„æ ¸å¿ƒä»·å€¼



**ğŸ¯ è§£å†³çš„ç—›ç‚¹é—®é¢˜**

| **ä¼ ç»Ÿé—®é¢˜** | **å®¹å™¨åŒ–è§£å†³æ–¹æ¡ˆ** | **å®é™…æ•ˆæœ** |
|-------------|------------------|-------------|
| **ç‰ˆæœ¬å†²çª** | `ç‹¬ç«‹ç¯å¢ƒè¿è¡Œ` | `Python 2.7å’Œ3.9å¹¶å­˜` |
| **é…ç½®å¤æ‚** | `ä¸€æ¬¡é…ç½®å¤„å¤„è¿è¡Œ` | `æ–°äºº5åˆ†é’Ÿæ­å»ºç¯å¢ƒ` |
| **ç¯å¢ƒæ±¡æŸ“** | `ç”¨å®Œå³åˆ ï¼Œå¹²å‡€æ•´æ´` | `æµ‹è¯•åç³»ç»Ÿä¾ç„¶çº¯å‡€` |
| **éƒ¨ç½²å·®å¼‚** | `å¼€å‘ç”Ÿäº§ç¯å¢ƒä¸€è‡´` | `æ¶ˆé™¤éƒ¨ç½²æ„å¤–é—®é¢˜` |

### 1.3 åŸºç¡€éš”ç¦»æ¶æ„è®¾è®¡



**ğŸ—ï¸ å…¸å‹å¼€å‘ç¯å¢ƒæ¶æ„**
```
å¼€å‘æœºå™¨
â”œâ”€â”€ é¡¹ç›®Aå®¹å™¨ (Node.js 14 + MongoDB)
â”œâ”€â”€ é¡¹ç›®Bå®¹å™¨ (Python 3.9 + Redis)  
â”œâ”€â”€ é¡¹ç›®Cå®¹å™¨ (PHP 8 + MySQL)
â””â”€â”€ å…±äº«æ•°æ®å· (ä»£ç ã€é…ç½®ç­‰)

æ¯ä¸ªå®¹å™¨ç‹¬ç«‹è¿è¡Œï¼Œäº’ä¸å¹²æ‰°
ä»£ç é€šè¿‡æ•°æ®å·å®ç°çƒ­æ›´æ–°
```

**ğŸ“‹ ç¯å¢ƒéš”ç¦»å±‚æ¬¡**
- **åº”ç”¨å±‚éš”ç¦»**ï¼šä¸åŒé¡¹ç›®ä½¿ç”¨ä¸åŒå®¹å™¨
- **æœåŠ¡å±‚éš”ç¦»**ï¼šæ•°æ®åº“ã€ç¼“å­˜ç­‰æœåŠ¡ç‹¬ç«‹è¿è¡Œ
- **ç½‘ç»œå±‚éš”ç¦»**ï¼šæ¯ä¸ªé¡¹ç›®æœ‰ç‹¬ç«‹çš„ç½‘ç»œç©ºé—´
- **æ•°æ®å±‚éš”ç¦»**ï¼šé¡¹ç›®æ•°æ®å­˜å‚¨ç›¸äº’ç‹¬ç«‹

---

## 2. ğŸ”¥ ä»£ç çƒ­æ›´æ–°é…ç½®



### 2.1 çƒ­æ›´æ–°åŸç†ä¸å®ç°



**ğŸ”¸ çƒ­æ›´æ–°æ ¸å¿ƒæœºåˆ¶**
```
åŸç†ï¼šé€šè¿‡æ•°æ®å·æ˜ å°„ï¼Œè®©å®¹å™¨å†…åº”ç”¨å®æ—¶è¯»å–å®¿ä¸»æœºä»£ç å˜åŒ–
æ•ˆæœï¼šä¿®æ”¹ä»£ç åï¼Œæ— éœ€é‡æ–°æ„å»ºé•œåƒï¼Œå®¹å™¨å†…åº”ç”¨è‡ªåŠ¨é‡è½½
```

**âš¡ Node.jsé¡¹ç›®çƒ­æ›´æ–°ç¤ºä¾‹**
```dockerfile
# Dockerfile.dev - å¼€å‘ç¯å¢ƒä¸“ç”¨

FROM node:16-alpine

WORKDIR /app

# åªå¤åˆ¶package.jsonï¼Œåˆ©ç”¨Dockerç¼“å­˜

COPY package*.json ./
RUN npm install

# å®‰è£…nodemonç”¨äºçƒ­æ›´æ–°

RUN npm install -g nodemon

# å®¹å™¨å¯åŠ¨æ—¶ä½¿ç”¨nodemon

CMD ["nodemon", "app.js"]
```

**ğŸ³ Docker Composeé…ç½®**
```yaml
version: '3.8'
services:
  web:
    build:
      context: .
      dockerfile: Dockerfile.dev
    ports:
      - "3000:3000"
    volumes:
      - ./src:/app/src        # æºç çƒ­æ›´æ–°
      - ./package.json:/app/package.json
      - node_modules:/app/node_modules  # é¿å…å®¿ä¸»æœºä¾èµ–è¦†ç›–
    environment:
      - NODE_ENV=development
```

### 2.2 ä¸åŒè¯­è¨€çš„çƒ­æ›´æ–°é…ç½®



**ğŸ Pythoné¡¹ç›®é…ç½®**
```yaml
# docker-compose.yml

services:
  python-app:
    build: .
    volumes:
      - ./app:/code/app
      - ./requirements.txt:/code/requirements.txt
    command: flask run --host=0.0.0.0 --debug
    environment:
      - FLASK_ENV=development
      - FLASK_DEBUG=1
```

**â˜• Java SpringBooté¡¹ç›®**
```yaml
services:
  spring-app:
    build: .
    volumes:
      - ./src:/app/src
      - ./target/classes:/app/target/classes
    command: mvn spring-boot:run -Dspring-boot.run.jvmArguments="-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:5005"
    ports:
      - "8080:8080"
      - "5005:5005"  # è°ƒè¯•ç«¯å£
```

### 2.3 çƒ­æ›´æ–°ä¼˜åŒ–æŠ€å·§



**ğŸš€ æ€§èƒ½ä¼˜åŒ–ç­–ç•¥**
- **é€‰æ‹©æ€§æ˜ å°„**ï¼šåªæ˜ å°„éœ€è¦çƒ­æ›´æ–°çš„ç›®å½•ï¼Œé¿å…ä¸å¿…è¦çš„æ–‡ä»¶ç›‘æ§
- **å¿½ç•¥æ–‡ä»¶é…ç½®**ï¼šä½¿ç”¨`.dockerignore`æ’é™¤æ—¥å¿—ã€ç¼“å­˜ç­‰æ–‡ä»¶
- **åˆ†å±‚æ„å»º**ï¼šå°†ä¾èµ–å®‰è£…å’Œä»£ç å¤åˆ¶åˆ†ç¦»ï¼Œæé«˜ç¼“å­˜åˆ©ç”¨ç‡

**âš ï¸ å¸¸è§é—®é¢˜ä¸è§£å†³**
> **é—®é¢˜**ï¼šä¿®æ”¹ä»£ç åå®¹å™¨å†…æ²¡æœ‰å˜åŒ–
> **è§£å†³**ï¼šæ£€æŸ¥æ•°æ®å·æ˜ å°„è·¯å¾„æ˜¯å¦æ­£ç¡®ï¼Œç¡®è®¤å®¹å™¨å†…åº”ç”¨æ˜¯å¦æ”¯æŒçƒ­é‡è½½

> **é—®é¢˜**ï¼šçƒ­æ›´æ–°å¤ªæ…¢ï¼Œå½±å“å¼€å‘æ•ˆç‡  
> **è§£å†³**ï¼šä½¿ç”¨SSDç¡¬ç›˜ï¼Œå‡å°‘æ˜ å°„çš„æ–‡ä»¶æ•°é‡ï¼Œé…ç½®æ–‡ä»¶ç›‘æ§æ’é™¤è§„åˆ™

---

## 3. ğŸ è°ƒè¯•ç¯å¢ƒé…ç½®



### 3.1 è¿œç¨‹è°ƒè¯•åŸç†



**ğŸ” è°ƒè¯•æœºåˆ¶è¯´æ˜**
å®¹å™¨åŒ–åº”ç”¨çš„è°ƒè¯•éœ€è¦å°†è°ƒè¯•ç«¯å£æš´éœ²ç»™å®¿ä¸»æœºï¼Œè®©IDEèƒ½å¤Ÿè¿æ¥åˆ°å®¹å™¨å†…çš„è°ƒè¯•æœåŠ¡ã€‚

**ğŸ”— è°ƒè¯•è¿æ¥æµç¨‹**
```
å¼€å‘è€…IDE (å®¿ä¸»æœº) 
    â†“ é€šè¿‡è°ƒè¯•ç«¯å£è¿æ¥
Dockerå®¹å™¨ (è°ƒè¯•æœåŠ¡ç›‘å¬)
    â†“ åº”ç”¨è¿è¡Œåœ¨è°ƒè¯•æ¨¡å¼
åº”ç”¨ç¨‹åº (æ”¯æŒè¿œç¨‹è°ƒè¯•)
```

### 3.2 ä¸»æµè¯­è¨€è°ƒè¯•é…ç½®



**ğŸ Pythonè¿œç¨‹è°ƒè¯•é…ç½®**
```dockerfile
# Dockerfile.debug

FROM python:3.9
WORKDIR /app

# å®‰è£…è°ƒè¯•å·¥å…·

RUN pip install debugpy

# å¯åŠ¨è°ƒè¯•æœåŠ¡

CMD python -m debugpy --listen 0.0.0.0:5678 --wait-for-client app.py
```

**ğŸ“ å¯¹åº”çš„docker-composeé…ç½®**
```yaml
services:
  python-debug:
    build:
      dockerfile: Dockerfile.debug
    ports:
      - "5000:5000"   # åº”ç”¨ç«¯å£
      - "5678:5678"   # è°ƒè¯•ç«¯å£
    volumes:
      - ./app:/app
```

**â˜• Javaåº”ç”¨è°ƒè¯•**
```yaml
services:
  java-app:
    build: .
    ports:
      - "8080:8080"
      - "5005:5005"   # JPDAè°ƒè¯•ç«¯å£
    environment:
      - JAVA_OPTS=-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:5005
```

### 3.3 IDEè°ƒè¯•é›†æˆ



**ğŸ’» VS Codeè°ƒè¯•é…ç½®ç¤ºä¾‹**
```json
{
    "version": "0.2.0",
    "configurations": [
        {
            "name": "Python: Remote Attach",
            "type": "python",
            "request": "attach",
            "connect": {
                "host": "localhost",
                "port": 5678
            },
            "pathMappings": [
                {
                    "localRoot": "${workspaceFolder}/app",
                    "remoteRoot": "/app"
                }
            ]
        }
    ]
}
```

**ğŸ¯ è°ƒè¯•æœ€ä½³å®è·µ**
- **æ–­ç‚¹åŒæ­¥**ï¼šç¡®ä¿æœ¬åœ°æ–‡ä»¶è·¯å¾„ä¸å®¹å™¨å†…è·¯å¾„æ˜ å°„æ­£ç¡®
- **ç¬¦å·åŠ è½½**ï¼šå¯¹äºç¼–è¯‘å‹è¯­è¨€ï¼Œç¡®ä¿è°ƒè¯•ç¬¦å·æ­£ç¡®åŠ è½½
- **ç½‘ç»œé…ç½®**ï¼šè°ƒè¯•ç«¯å£è¦æ­£ç¡®æš´éœ²ï¼Œé˜²ç«å¢™ä¸è¦é˜»æŒ¡

---

## 4. ğŸ“¦ ä¾èµ–ç®¡ç†ä¼˜åŒ–



### 4.1 ä¾èµ–ç¼“å­˜ç­–ç•¥



**ğŸ’¾ é•œåƒåˆ†å±‚ä¼˜åŒ–åŸç†**
Dockerä½¿ç”¨åˆ†å±‚å­˜å‚¨ï¼Œå……åˆ†åˆ©ç”¨è¿™ä¸ªç‰¹æ€§å¯ä»¥å¤§å¹…æå‡æ„å»ºé€Ÿåº¦ã€‚

**ğŸ“Š ä¼˜åŒ–å‰åå¯¹æ¯”**

| **ä¼˜åŒ–ç­–ç•¥** | **æ„å»ºæ—¶é—´** | **ç¼“å­˜å‘½ä¸­ç‡** | **é•œåƒå¤§å°** |
|-------------|-------------|---------------|-------------|
| **æœªä¼˜åŒ–** | `3-5åˆ†é’Ÿ` | `20%` | `è¾ƒå¤§` |
| **åˆ†å±‚ä¼˜åŒ–** | `30ç§’-2åˆ†é’Ÿ` | `80%` | `ä¸­ç­‰` |
| **å¤šé˜¶æ®µæ„å»º** | `1-3åˆ†é’Ÿ` | `90%` | `æœ€å°` |

### 4.2 ä¸åŒåŒ…ç®¡ç†å™¨çš„ä¼˜åŒ–



**ğŸ“¦ Node.jsä¾èµ–ä¼˜åŒ–**
```dockerfile
# ä¼˜åŒ–ç‰ˆæœ¬

FROM node:16-alpine
WORKDIR /app

# å…ˆå¤åˆ¶packageæ–‡ä»¶ï¼Œåˆ©ç”¨Dockerç¼“å­˜

COPY package*.json ./
RUN npm ci --only=production

# å†å¤åˆ¶æºç 

COPY . .
CMD ["npm", "start"]
```

**ğŸ Pythonä¾èµ–ç®¡ç†**
```dockerfile
FROM python:3.9-slim
WORKDIR /app

# ä½¿ç”¨requirements.txtç¼“å­˜ä¾èµ–

COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt

# åˆ†ç¦»å¼€å‘å’Œç”Ÿäº§ä¾èµ–

COPY requirements-dev.txt .
RUN pip install --no-cache-dir -r requirements-dev.txt

COPY . .
```

### 4.3 ç§æœ‰åŒ…ç®¡ç†



**ğŸ” ç§æœ‰npmåŒ…é…ç½®**
```dockerfile
FROM node:16
WORKDIR /app

# é…ç½®ç§æœ‰åŒ…è®¿é—®

ARG NPM_TOKEN
RUN echo "//registry.npmjs.org/:_authToken=$NPM_TOKEN" > ~/.npmrc

COPY package*.json ./
RUN npm install && rm ~/.npmrc  # å®‰è£…ååˆ é™¤æ•æ„Ÿä¿¡æ¯
```

**ğŸ¢ ä¼ä¸šçº§ä¾èµ–ç®¡ç†æŠ€å·§**
- **å¤šæºé…ç½®**ï¼šé…ç½®å¤šä¸ªåŒ…æºï¼Œæé«˜ä¸‹è½½æˆåŠŸç‡
- **ç¦»çº¿å®‰è£…**ï¼šå¯¹äºç½‘ç»œå—é™ç¯å¢ƒï¼Œé¢„å…ˆä¸‹è½½ä¾èµ–åŒ…
- **ç‰ˆæœ¬é”å®š**ï¼šä½¿ç”¨lockæ–‡ä»¶ç¡®ä¿ä¾èµ–ç‰ˆæœ¬ä¸€è‡´æ€§

---

## 5. ğŸ”„ å¤šç‰ˆæœ¬ç¯å¢ƒç®¡ç†



### 5.1 ç‰ˆæœ¬ç®¡ç†ç­–ç•¥



**ğŸ¯ å¤šç‰ˆæœ¬åœºæ™¯éœ€æ±‚**
```
å…¸å‹éœ€æ±‚åœºæ™¯ï¼š
â€¢ ç»´æŠ¤æ—§ç‰ˆæœ¬ï¼šè€é¡¹ç›®éœ€è¦Python 2.7
â€¢ å°é²œæ–°ç‰ˆæœ¬ï¼šæ–°é¡¹ç›®æƒ³ç”¨Python 3.10
â€¢ å…¼å®¹æ€§æµ‹è¯•ï¼šåŒä¸€é¡¹ç›®æµ‹è¯•å¤šä¸ªç‰ˆæœ¬
â€¢ å®¢æˆ·ç¯å¢ƒï¼šä¸åŒå®¢æˆ·ä½¿ç”¨ä¸åŒæŠ€æœ¯æ ˆç‰ˆæœ¬
```

### 5.2 æ ‡ç­¾åŒ–ç‰ˆæœ¬ç®¡ç†



**ğŸ·ï¸ Dockeré•œåƒç‰ˆæœ¬æ ‡ç­¾è§„èŒƒ**
```bash
# æ„å»ºä¸åŒç‰ˆæœ¬çš„å¼€å‘ç¯å¢ƒ

docker build -t myapp:python3.8-dev --build-arg PYTHON_VERSION=3.8 .
docker build -t myapp:python3.9-dev --build-arg PYTHON_VERSION=3.9 .
docker build -t myapp:python3.10-dev --build-arg PYTHON_VERSION=3.10 .
```

**ğŸ“ é¡¹ç›®ç»“æ„ç®¡ç†**
```
project-root/
â”œâ”€â”€ docker/
â”‚   â”œâ”€â”€ python38/
â”‚   â”‚   â”œâ”€â”€ Dockerfile
â”‚   â”‚   â””â”€â”€ docker-compose.yml
â”‚   â”œâ”€â”€ python39/
â”‚   â”‚   â”œâ”€â”€ Dockerfile  
â”‚   â”‚   â””â”€â”€ docker-compose.yml
â”‚   â””â”€â”€ python310/
â”‚       â”œâ”€â”€ Dockerfile
â”‚       â””â”€â”€ docker-compose.yml
â””â”€â”€ src/
```

### 5.3 ç‰ˆæœ¬åˆ‡æ¢è„šæœ¬



**ğŸ”§ è‡ªåŠ¨åŒ–ç‰ˆæœ¬åˆ‡æ¢å·¥å…·**
```bash
#!/bin/bash

# switch-env.sh - ç¯å¢ƒç‰ˆæœ¬åˆ‡æ¢è„šæœ¬


VERSION=${1:-"python39"}

echo "ğŸ”„ åˆ‡æ¢åˆ° $VERSION ç¯å¢ƒ..."

# åœæ­¢å½“å‰ç¯å¢ƒ

docker-compose down

# åˆ‡æ¢åˆ°æŒ‡å®šç‰ˆæœ¬ç›®å½•

cd docker/$VERSION

# å¯åŠ¨æ–°ç¯å¢ƒ

docker-compose up -d

echo "âœ… å·²åˆ‡æ¢åˆ° $VERSION ç¯å¢ƒ"
echo "ğŸŒ åº”ç”¨è®¿é—®åœ°å€: http://localhost:8000"
```

**ğŸ’¡ ä½¿ç”¨ç¤ºä¾‹**
```bash
# åˆ‡æ¢åˆ°Python 3.8ç¯å¢ƒ

./switch-env.sh python38

# åˆ‡æ¢åˆ°Python 3.10ç¯å¢ƒ  

./switch-env.sh python310
```

---

## 6. ğŸ¤ å›¢é˜Ÿç¯å¢ƒä¸€è‡´æ€§



### 6.1 ç¯å¢ƒæ ‡å‡†åŒ–ç­–ç•¥



**ğŸ“‹ å›¢é˜Ÿåä½œä¸­çš„ç¯å¢ƒé—®é¢˜**
```
å¸¸è§å›¢é˜Ÿé—®é¢˜ï¼š
âŒ "æˆ‘è¿™é‡Œèƒ½è¿è¡Œï¼Œä½ é‚£é‡Œä¸ºä»€ä¹ˆä¸è¡Œï¼Ÿ"
âŒ æ–°äººå…¥èŒéœ€è¦åŠå¤©é…ç½®ç¯å¢ƒ
âŒ æµ‹è¯•ç¯å¢ƒå’Œå¼€å‘ç¯å¢ƒä¸ä¸€è‡´
âŒ ä¸åŒæ“ä½œç³»ç»Ÿä¸‹è¡¨ç°ä¸åŒ
```

**âœ… å®¹å™¨åŒ–è§£å†³æ–¹æ¡ˆ**
```
å›¢é˜Ÿæ ‡å‡†åŒ–æ”¶ç›Šï¼š
âœ… æ‰€æœ‰äººä½¿ç”¨å®Œå…¨ç›¸åŒçš„å¼€å‘ç¯å¢ƒ
âœ… æ–°äºº5åˆ†é’Ÿå®Œæˆç¯å¢ƒæ­å»º
âœ… å¼€å‘ã€æµ‹è¯•ã€ç”Ÿäº§ç¯å¢ƒå®Œå…¨ä¸€è‡´
âœ… è·¨å¹³å°æ— å·®å¼‚è¿è¡Œ
```

### 6.2 å›¢é˜Ÿé…ç½®æ–‡ä»¶ç®¡ç†



**ğŸ“ æ ‡å‡†åŒ–é…ç½®æ–‡ä»¶ç»“æ„**
```yaml
# team-docker-compose.yml

version: '3.8'
services:
  app:
    build: .
    ports:
      - "${APP_PORT:-3000}:3000"
    volumes:
      - .:/app
      - node_modules:/app/node_modules
    environment:
      - NODE_ENV=development
      - DB_HOST=db
      - REDIS_HOST=redis
  
  db:
    image: postgres:13
    environment:
      - POSTGRES_DB=${DB_NAME:-myapp}
      - POSTGRES_USER=${DB_USER:-dev}
      - POSTGRES_PASSWORD=${DB_PASS:-password}
    volumes:
      - postgres_data:/var/lib/postgresql/data
  
  redis:
    image: redis:6-alpine
    
volumes:
  postgres_data:
  node_modules:
```

### 6.3 ç¯å¢ƒå˜é‡ç®¡ç†



**ğŸ” æ•æ„Ÿä¿¡æ¯å¤„ç†ç­–ç•¥**
```bash
# .env.example - ç¤ºä¾‹ç¯å¢ƒå˜é‡æ–‡ä»¶

APP_PORT=3000
DB_NAME=myapp_dev
DB_USER=developer
DB_PASS=your_password_here

# Redisé…ç½®

REDIS_URL=redis://redis:6379

# ç¬¬ä¸‰æ–¹æœåŠ¡ï¼ˆå›¢é˜Ÿå…±äº«çš„æµ‹è¯•ç¯å¢ƒï¼‰

API_KEY=your_api_key_here
WEBHOOK_SECRET=your_webhook_secret
```

**ğŸ“š å›¢é˜Ÿä½¿ç”¨æµç¨‹**
1. **åˆå§‹åŒ–**ï¼š`cp .env.example .env`
2. **ä¸ªæ€§åŒ–**ï¼šä¿®æ”¹`.env`æ–‡ä»¶ä¸­çš„ä¸ªäººé…ç½®
3. **å¯åŠ¨ç¯å¢ƒ**ï¼š`docker-compose up -d`
4. **ç‰ˆæœ¬æ§åˆ¶**ï¼š`.env`æ–‡ä»¶ä¸æäº¤åˆ°Gitï¼Œåªæäº¤`.env.example`

---

## 7. ğŸ› ï¸ å¼€å‘å·¥å…·é›†æˆ



### 7.1 IDEé›†æˆé…ç½®



**ğŸ’» VS Codeå®¹å™¨å¼€å‘é…ç½®**

VS Codeçš„Dev Containersæ‰©å±•å¯ä»¥ç›´æ¥åœ¨å®¹å™¨å†…è¿›è¡Œå¼€å‘ï¼Œäº«å—å®Œæ•´çš„IDEåŠŸèƒ½ã€‚

```json
// .devcontainer/devcontainer.json
{
    "name": "Python å¼€å‘ç¯å¢ƒ",
    "build": {
        "dockerfile": "Dockerfile",
        "context": ".."
    },
    "settings": {
        "python.defaultInterpreterPath": "/usr/local/bin/python",
        "python.linting.enabled": true,
        "python.linting.pylintEnabled": true
    },
    "extensions": [
        "ms-python.python",
        "ms-python.vscode-pylance",
        "formulahendry.auto-rename-tag"
    ],
    "forwardPorts": [5000, 5678],
    "postCreateCommand": "pip install -r requirements.txt"
}
```

### 7.2 è°ƒè¯•å·¥å…·é›†æˆ



**ğŸ è°ƒè¯•å·¥å…·é…ç½®æ±‡æ€»**

| **å¼€å‘è¯­è¨€** | **è°ƒè¯•å·¥å…·** | **é»˜è®¤ç«¯å£** | **é…ç½®è¦ç‚¹** |
|-------------|-------------|-------------|-------------|
| **Python** | `debugpy` | `5678` | `éœ€è¦--wait-for-clientå‚æ•°` |
| **Node.js** | `inspect` | `9229` | `ä½¿ç”¨--inspect=0.0.0.0:9229` |
| **Java** | `JDWP` | `5005` | `é…ç½®JVMå‚æ•°` |
| **Go** | `delve` | `40000` | `ä½¿ç”¨dlv debugå‘½ä»¤` |

### 7.3 ä»£ç è´¨é‡å·¥å…·



**âœ… è‡ªåŠ¨åŒ–ä»£ç æ£€æŸ¥**
```yaml
# docker-compose.dev.yml

services:
  app:
#    # ... åº”ç”¨é…ç½®
  
#  # ä»£ç è´¨é‡æ£€æŸ¥æœåŠ¡
  linter:
    build: .
    command: flake8 src/
    volumes:
      - ./src:/app/src
    profiles: ["tools"]
  
  formatter:
    build: .
    command: black src/
    volumes:
      - ./src:/app/src  
    profiles: ["tools"]
```

**ğŸ”§ ä½¿ç”¨æ–¹å¼**
```bash
# è¿è¡Œä»£ç æ£€æŸ¥

docker-compose --profile tools run linter

# è¿è¡Œä»£ç æ ¼å¼åŒ–

docker-compose --profile tools run formatter
```

### 7.4 æµ‹è¯•ç¯å¢ƒé›†æˆ



**ğŸ§ª æµ‹è¯•å·¥å…·é…ç½®**
```yaml
services:
  test:
    build: .
    command: pytest tests/ -v
    volumes:
      - ./tests:/app/tests
      - ./src:/app/src
    environment:
      - TESTING=true
      - DB_HOST=test-db
    depends_on:
      - test-db
  
  test-db:
    image: postgres:13
    environment:
      - POSTGRES_DB=test_db
      - POSTGRES_USER=test
      - POSTGRES_PASSWORD=test
    tmpfs:
      - /var/lib/postgresql/data  # ä½¿ç”¨å†…å­˜å­˜å‚¨ï¼Œæµ‹è¯•å®Œè‡ªåŠ¨æ¸…ç†
```

**âš¡ å¿«é€Ÿæµ‹è¯•å‘½ä»¤**
```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•

docker-compose run test

# è¿è¡Œç‰¹å®šæµ‹è¯•æ–‡ä»¶

docker-compose run test pytest tests/test_api.py -v

# ç”Ÿæˆæµ‹è¯•è¦†ç›–ç‡æŠ¥å‘Š

docker-compose run test pytest --cov=src tests/
```

---

## 8. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“



### 8.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ



```
ğŸ”¸ ç¯å¢ƒéš”ç¦»ï¼šæ¯ä¸ªé¡¹ç›®ç‹¬ç«‹è¿è¡Œï¼Œé¿å…ä¾èµ–å†²çª
ğŸ”¸ çƒ­æ›´æ–°ï¼šé€šè¿‡æ•°æ®å·æ˜ å°„å®ç°ä»£ç å®æ—¶åŒæ­¥
ğŸ”¸ è¿œç¨‹è°ƒè¯•ï¼šæš´éœ²è°ƒè¯•ç«¯å£ï¼Œè®©IDEè¿æ¥å®¹å™¨å†…æœåŠ¡
ğŸ”¸ ä¾èµ–ä¼˜åŒ–ï¼šåˆ©ç”¨Dockeråˆ†å±‚ç¼“å­˜ï¼Œæå‡æ„å»ºæ•ˆç‡
ğŸ”¸ ç‰ˆæœ¬ç®¡ç†ï¼šæ”¯æŒå¤šç‰ˆæœ¬ç¯å¢ƒå¹¶å­˜å’Œå¿«é€Ÿåˆ‡æ¢
ğŸ”¸ å›¢é˜Ÿåä½œï¼šæ ‡å‡†åŒ–é…ç½®ç¡®ä¿ç¯å¢ƒä¸€è‡´æ€§
```

### 8.2 å…³é”®ç†è§£è¦ç‚¹



**ğŸ”¹ ä¸ºä»€ä¹ˆè¦å®¹å™¨åŒ–å¼€å‘ç¯å¢ƒ**
```
ä¼ ç»Ÿå¼€å‘ç—›ç‚¹ï¼š
â€¢ ç¯å¢ƒé…ç½®å¤æ‚ä¸”å®¹æ˜“å‡ºé”™
â€¢ ä¸åŒé¡¹ç›®ä¾èµ–å†²çª
â€¢ å›¢é˜Ÿæˆå‘˜ç¯å¢ƒä¸ä¸€è‡´
â€¢ éƒ¨ç½²ç¯å¢ƒå·®å¼‚å¯¼è‡´é—®é¢˜

å®¹å™¨åŒ–å¼€å‘ä»·å€¼ï¼š
â€¢ ä¸€æ¬¡é…ç½®ï¼Œåˆ°å¤„è¿è¡Œ
â€¢ é¡¹ç›®é—´å®Œå…¨éš”ç¦»
â€¢ å›¢é˜Ÿç¯å¢ƒå®Œå…¨ä¸€è‡´
â€¢ å¼€å‘ç”Ÿäº§ç¯å¢ƒä¸€è‡´
```

**ğŸ”¹ çƒ­æ›´æ–°vsé‡æ–°æ„å»º**
```
çƒ­æ›´æ–°é€‚ç”¨åœºæ™¯ï¼š
â€¢ é¢‘ç¹çš„ä»£ç è°ƒè¯•ä¿®æ”¹
â€¢ å‰ç«¯é¡µé¢æ ·å¼è°ƒæ•´  
â€¢ é…ç½®æ–‡ä»¶å¾®è°ƒ

é‡æ–°æ„å»ºé€‚ç”¨åœºæ™¯ï¼š
â€¢ æ·»åŠ æ–°çš„ç³»ç»Ÿä¾èµ–
â€¢ ä¿®æ”¹Dockerfileå†…å®¹
â€¢ å‘å¸ƒç”Ÿäº§ç‰ˆæœ¬
```

### 8.3 å®é™…åº”ç”¨ä»·å€¼



**ğŸ¯ å¼€å‘æ•ˆç‡æå‡**
- **ç¯å¢ƒæ­å»º**ï¼šä»åŠå¤©ç¼©çŸ­åˆ°5åˆ†é’Ÿ
- **é—®é¢˜æ’æŸ¥**ï¼šç¯å¢ƒä¸€è‡´ï¼Œå‡å°‘"ç¯å¢ƒé—®é¢˜"
- **å›¢é˜Ÿåä½œ**ï¼šæ–°äººå¿«é€Ÿä¸Šæ‰‹ï¼Œå‡å°‘é…ç½®æ”¯æŒ
- **å¤šé¡¹ç›®ç®¡ç†**ï¼šä¸åŒé¡¹ç›®ç‹¬ç«‹ï¼Œéšæ—¶åˆ‡æ¢

**ğŸ›¡ï¸ é£é™©æ§åˆ¶èƒ½åŠ›**
- **éš”ç¦»æ€§**ï¼šå®éªŒæ€§æ”¹åŠ¨ä¸å½±å“å…¶ä»–é¡¹ç›®
- **å¯é‡ç°**ï¼šä»»ä½•é—®é¢˜éƒ½èƒ½åœ¨å…¶ä»–æœºå™¨ä¸Šé‡ç°
- **ç‰ˆæœ¬æ§åˆ¶**ï¼šç¯å¢ƒé…ç½®çº³å…¥ç‰ˆæœ¬ç®¡ç†
- **ç¾éš¾æ¢å¤**ï¼šå¿«é€Ÿé‡å»ºå¼€å‘ç¯å¢ƒ

### 8.4 æœ€ä½³å®è·µå»ºè®®



**ğŸ“‹ å¼€å‘æµç¨‹è§„èŒƒ**
```
æ—¥å¸¸å¼€å‘æ­¥éª¤ï¼š
1. å¯åŠ¨å¼€å‘ç¯å¢ƒï¼šdocker-compose up -d
2. è¿›å…¥å¼€å‘æ¨¡å¼ï¼šä¿®æ”¹ä»£ç è‡ªåŠ¨çƒ­æ›´æ–°
3. è¿è¡Œæµ‹è¯•éªŒè¯ï¼šdocker-compose run test
4. æäº¤ä»£ç å‰æ£€æŸ¥ï¼šè¿è¡Œä»£ç è´¨é‡å·¥å…·
5. ç¯å¢ƒæ¸…ç†ï¼šdocker-compose down
```

**âš ï¸ å¸¸è§é—®é¢˜é¿å…**
- **æ•°æ®æŒä¹…åŒ–**ï¼šé‡è¦æ•°æ®è¦æ˜ å°„åˆ°å®¿ä¸»æœºæˆ–ä½¿ç”¨æ•°æ®å·
- **ç«¯å£å†²çª**ï¼šå¤šé¡¹ç›®è¿è¡Œæ—¶æ³¨æ„ç«¯å£åˆ†é…
- **æ–‡ä»¶æƒé™**ï¼šLinuxç¯å¢ƒä¸‹æ³¨æ„å®¹å™¨å†…å¤–æ–‡ä»¶æƒé™ä¸€è‡´
- **èµ„æºé™åˆ¶**ï¼šé¿å…å®¹å™¨å ç”¨è¿‡å¤šç³»ç»Ÿèµ„æº

### 8.5 å­¦ä¹ æ£€æŸ¥æ¸…å•



**ğŸ“ æŠ€èƒ½æŒæ¡æ£€æŸ¥**
- [ ] èƒ½å¤Ÿç¼–å†™é€‚åˆå¼€å‘çš„Dockerfile
- [ ] ä¼šé…ç½®ä»£ç çƒ­æ›´æ–°æœºåˆ¶
- [ ] æŒæ¡è¿œç¨‹è°ƒè¯•é…ç½®æ–¹æ³•
- [ ] ç†è§£ä¾èµ–ç®¡ç†ä¼˜åŒ–ç­–ç•¥
- [ ] èƒ½å¤Ÿç®¡ç†å¤šç‰ˆæœ¬å¼€å‘ç¯å¢ƒ
- [ ] ä¼šå»ºç«‹å›¢é˜Ÿæ ‡å‡†åŒ–é…ç½®
- [ ] ç†Ÿç»ƒé›†æˆå¼€å‘å·¥å…·

**ğŸ® å®è·µç»ƒä¹ å»ºè®®**
1. **åŸºç¡€ç»ƒä¹ **ï¼šä¸ºä¸€ä¸ªç®€å•Webåº”ç”¨é…ç½®å®¹å™¨åŒ–å¼€å‘ç¯å¢ƒ
2. **è¿›é˜¶ç»ƒä¹ **ï¼šé…ç½®åŒ…å«æ•°æ®åº“çš„å®Œæ•´å¼€å‘æ ˆ
3. **å›¢é˜Ÿç»ƒä¹ **ï¼šå»ºç«‹å¤šäººåä½œçš„æ ‡å‡†åŒ–å¼€å‘ç¯å¢ƒ
4. **é«˜çº§ç»ƒä¹ **ï¼šé…ç½®æ”¯æŒå¾®æœåŠ¡çš„å¤æ‚å¼€å‘ç¯å¢ƒ

**ğŸ”‘ æ ¸å¿ƒè®°å¿†è¦ç‚¹**
> å®¹å™¨å¼€å‘ç¯å¢ƒï¼Œéš”ç¦»ä¸€è‡´æ˜¯å…³é”®
> çƒ­æ›´æ–°é…ç½®å¥½ï¼Œè°ƒè¯•æ•ˆç‡å¤§æå‡
> ä¾èµ–ç®¡ç†è¦ä¼˜åŒ–ï¼Œç¼“å­˜åˆ©ç”¨é€Ÿåº¦å¿«
> å›¢é˜Ÿæ ‡å‡†åŒ–é…ç½®ï¼Œåä½œé—®é¢˜å…¨è§£å†³

**ğŸ’¡ å»¶ä¼¸å­¦ä¹ æ–¹å‘**
- å­¦ä¹ Kubernetesæœ¬åœ°å¼€å‘ç¯å¢ƒ(minikube/kind)
- ç ”ç©¶DevContainerå’ŒGitHub Codespaces
- äº†è§£Dockerå¤šé˜¶æ®µæ„å»ºé«˜çº§ç”¨æ³•
- æ¢ç´¢å®¹å™¨åŒ–CI/CDæµæ°´çº¿é›†æˆ