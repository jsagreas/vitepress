---
title: 1ã€Webåº”ç”¨å®¹å™¨åŒ–
---
## ğŸ“š ç›®å½•

1. [Webåº”ç”¨å®¹å™¨åŒ–åŸºç¡€](#1-Webåº”ç”¨å®¹å™¨åŒ–åŸºç¡€)
2. [Nginx WebæœåŠ¡å™¨å®¹å™¨åŒ–](#2-Nginx-WebæœåŠ¡å™¨å®¹å™¨åŒ–)
3. [Apacheå®¹å™¨éƒ¨ç½²](#3-Apacheå®¹å™¨éƒ¨ç½²)
4. [é™æ€ç½‘ç«™éƒ¨ç½²](#4-é™æ€ç½‘ç«™éƒ¨ç½²)
5. [åå‘ä»£ç†é…ç½®](#5-åå‘ä»£ç†é…ç½®)
6. [SSLè¯ä¹¦é…ç½®](#6-SSLè¯ä¹¦é…ç½®)
7. [è´Ÿè½½å‡è¡¡å®ç°](#7-è´Ÿè½½å‡è¡¡å®ç°)
8. [åŸŸåç»‘å®šé…ç½®](#8-åŸŸåç»‘å®šé…ç½®)
9. [Webåº”ç”¨éƒ¨ç½²æœ€ä½³å®è·µ](#9-Webåº”ç”¨éƒ¨ç½²æœ€ä½³å®è·µ)
10. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#10-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸŒ Webåº”ç”¨å®¹å™¨åŒ–åŸºç¡€


### 1.1 ä»€ä¹ˆæ˜¯Webåº”ç”¨å®¹å™¨åŒ–


**ğŸ”¸ åŸºæœ¬æ¦‚å¿µ**

Webåº”ç”¨å®¹å™¨åŒ–å°±æ˜¯æŠŠæˆ‘ä»¬çš„ç½‘ç«™æˆ–WebæœåŠ¡æ‰“åŒ…åˆ°Dockerå®¹å™¨é‡Œè¿è¡Œã€‚æƒ³è±¡ä¸€ä¸‹ï¼Œä»¥å‰æˆ‘ä»¬è¦åœ¨æœåŠ¡å™¨ä¸Šå®‰è£…å„ç§è½¯ä»¶ã€é…ç½®ç¯å¢ƒï¼Œç°åœ¨åªéœ€è¦ä¸€ä¸ªå®¹å™¨å°±èƒ½æå®šä¸€åˆ‡ã€‚

```
ä¼ ç»Ÿéƒ¨ç½²æ–¹å¼ï¼š
æœåŠ¡å™¨ â†’ å®‰è£…æ“ä½œç³»ç»Ÿ â†’ å®‰è£…WebæœåŠ¡å™¨ â†’ é…ç½®ç¯å¢ƒ â†’ éƒ¨ç½²åº”ç”¨

å®¹å™¨åŒ–éƒ¨ç½²ï¼š
æœåŠ¡å™¨ â†’ å®‰è£…Docker â†’ è¿è¡Œå®¹å™¨ â†’ åº”ç”¨ç›´æ¥å¯ç”¨
```

**ğŸ’¡ å®¹å™¨åŒ–çš„æ ¸å¿ƒä¼˜åŠ¿**

- **ç¯å¢ƒä¸€è‡´æ€§**ï¼šå¼€å‘ã€æµ‹è¯•ã€ç”Ÿäº§ç¯å¢ƒå®Œå…¨ç›¸åŒ
- **å¿«é€Ÿéƒ¨ç½²**ï¼šå‡ ç§’é’Ÿå°±èƒ½å¯åŠ¨ä¸€ä¸ªWebæœåŠ¡
- **èµ„æºéš”ç¦»**ï¼šæ¯ä¸ªåº”ç”¨è¿è¡Œåœ¨ç‹¬ç«‹ç¯å¢ƒä¸­
- **æ˜“äºæ‰©å±•**ï¼šéœ€è¦æ›´å¤šæœåŠ¡æ—¶ï¼Œç›´æ¥å¯åŠ¨æ–°å®¹å™¨

### 1.2 Webå®¹å™¨æ¶æ„æ¨¡å¼


```
å•å®¹å™¨æ¨¡å¼ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Webå®¹å™¨       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   Nginx   â”‚  â”‚
â”‚  â”‚    +      â”‚  â”‚
â”‚  â”‚   åº”ç”¨    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

å¤šå®¹å™¨æ¨¡å¼ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ WebæœåŠ¡å™¨ â”‚  â”‚  åº”ç”¨æœåŠ¡  â”‚  â”‚  æ•°æ®åº“   â”‚
â”‚  Nginx   â”‚â—„â”€â”¤   PHP     â”‚â—„â”€â”¤  MySQL   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.3 å¸¸è§WebæœåŠ¡å™¨å¯¹æ¯”


| æœåŠ¡å™¨ | **ç‰¹ç‚¹** | **é€‚ç”¨åœºæ™¯** | **èµ„æºå ç”¨** |
|--------|----------|-------------|-------------|
| **Nginx** | é«˜æ€§èƒ½ã€è½»é‡çº§ | é™æ€æ–‡ä»¶ã€åå‘ä»£ç† | æä½ |
| **Apache** | åŠŸèƒ½ä¸°å¯Œã€æ¨¡å—åŒ– | åŠ¨æ€ç½‘ç«™ã€ä¼ä¸šåº”ç”¨ | ä¸­ç­‰ |
| **Caddy** | è‡ªåŠ¨HTTPSã€é…ç½®ç®€å• | å°å‹é¡¹ç›®ã€å¿«é€ŸåŸå‹ | ä½ |

---

## 2. âš¡ Nginx WebæœåŠ¡å™¨å®¹å™¨åŒ–


### 2.1 åŸºç¡€Nginxå®¹å™¨è¿è¡Œ


**ğŸš€ å¿«é€Ÿå¯åŠ¨Nginxå®¹å™¨**

```bash
# è¿è¡Œå®˜æ–¹Nginxå®¹å™¨
docker run -d \
  --name my-nginx \
  -p 80:80 \
  nginx:latest

# éªŒè¯è¿è¡ŒçŠ¶æ€
docker ps | grep nginx
curl http://localhost
```

è¿™ä¸ªå‘½ä»¤åšäº†ä»€ä¹ˆï¼Ÿ
- `-d`ï¼šåå°è¿è¡Œå®¹å™¨
- `--name my-nginx`ï¼šç»™å®¹å™¨èµ·ä¸ªå¥½è®°çš„åå­—
- `-p 80:80`ï¼šæŠŠå®¹å™¨çš„80ç«¯å£æ˜ å°„åˆ°ä¸»æœºçš„80ç«¯å£
- `nginx:latest`ï¼šä½¿ç”¨æœ€æ–°ç‰ˆæœ¬çš„å®˜æ–¹Nginxé•œåƒ

### 2.2 è‡ªå®šä¹‰Nginxé…ç½®


**ğŸ“ åˆ›å»ºè‡ªå®šä¹‰é…ç½®æ–‡ä»¶**

```nginx
# nginx.conf
server {
    listen 80;
    server_name localhost;
    
    # ç½‘ç«™æ ¹ç›®å½•
    location / {
        root /usr/share/nginx/html;
        index index.html index.htm;
        try_files $uri $uri/ =404;
    }
    
    # é™æ€èµ„æºç¼“å­˜
    location ~* \.(jpg|jpeg|png|gif|css|js)$ {
        expires 1d;
        add_header Cache-Control "public, immutable";
    }
    
    # å¥åº·æ£€æŸ¥
    location /health {
        access_log off;
        return 200 "healthy\n";
        add_header Content-Type text/plain;
    }
}
```

**ğŸ”§ ä½¿ç”¨è‡ªå®šä¹‰é…ç½®å¯åŠ¨**

```bash
# æŒ‚è½½é…ç½®æ–‡ä»¶å’Œç½‘ç«™æ–‡ä»¶
docker run -d \
  --name custom-nginx \
  -p 80:80 \
  -v $(pwd)/nginx.conf:/etc/nginx/conf.d/default.conf \
  -v $(pwd)/html:/usr/share/nginx/html \
  nginx:latest
```

### 2.3 æ„å»ºè‡ªå®šä¹‰Nginxé•œåƒ


**ğŸ“¦ åˆ›å»ºDockerfile**

```dockerfile
# Dockerfile
FROM nginx:alpine

# å¤åˆ¶è‡ªå®šä¹‰é…ç½®
COPY nginx.conf /etc/nginx/conf.d/default.conf

# å¤åˆ¶ç½‘ç«™æ–‡ä»¶
COPY html/ /usr/share/nginx/html/

# è®¾ç½®æƒé™
RUN chown -R nginx:nginx /usr/share/nginx/html

# æš´éœ²ç«¯å£
EXPOSE 80

# å¥åº·æ£€æŸ¥
HEALTHCHECK --interval=30s --timeout=3s \
  CMD curl -f http://localhost/health || exit 1
```

**ğŸ—ï¸ æ„å»ºå’Œè¿è¡Œ**

```bash
# æ„å»ºé•œåƒ
docker build -t my-nginx:v1.0 .

# è¿è¡Œè‡ªå®šä¹‰é•œåƒ
docker run -d --name prod-nginx -p 80:80 my-nginx:v1.0
```

### 2.4 Nginxå¤šç«™ç‚¹é…ç½®


**ğŸŒ é…ç½®å¤šä¸ªè™šæ‹Ÿä¸»æœº**

```nginx
# sites.conf
# ç«™ç‚¹1ï¼šblog.example.com
server {
    listen 80;
    server_name blog.example.com;
    root /var/www/blog;
    index index.html;
    
    location / {
        try_files $uri $uri/ =404;
    }
}

# ç«™ç‚¹2ï¼šapi.example.com
server {
    listen 80;
    server_name api.example.com;
    
    location / {
        proxy_pass http://app-container:3000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
}
```

---

## 3. ğŸ”¥ Apacheå®¹å™¨éƒ¨ç½²


### 3.1 ApacheåŸºç¡€å®¹å™¨è¿è¡Œ


**ğŸš€ å¯åŠ¨Apacheå®¹å™¨**

```bash
# è¿è¡Œå®˜æ–¹Apacheå®¹å™¨
docker run -d \
  --name my-apache \
  -p 80:80 \
  httpd:latest

# æŸ¥çœ‹Apacheç‰ˆæœ¬
docker exec my-apache httpd -v
```

### 3.2 Apache + PHPç¯å¢ƒ


**ğŸ˜ PHP Webåº”ç”¨éƒ¨ç½²**

```dockerfile
# Dockerfile for Apache + PHP
FROM php:8.1-apache

# å®‰è£…å¿…è¦çš„PHPæ‰©å±•
RUN docker-php-ext-install mysqli pdo pdo_mysql

# å¯ç”¨Apacheæ¨¡å—
RUN a2enmod rewrite ssl

# å¤åˆ¶PHPåº”ç”¨
COPY src/ /var/www/html/

# è®¾ç½®æƒé™
RUN chown -R www-data:www-data /var/www/html

# é…ç½®PHP
RUN echo "upload_max_filesize = 10M" >> /usr/local/etc/php/conf.d/uploads.ini
RUN echo "post_max_size = 10M" >> /usr/local/etc/php/conf.d/uploads.ini
```

### 3.3 Apacheè™šæ‹Ÿä¸»æœºé…ç½®


**ğŸ“ åˆ›å»ºè™šæ‹Ÿä¸»æœºé…ç½®**

```apache
# vhost.conf
<VirtualHost *:80>
    ServerName www.example.com
    DocumentRoot /var/www/html/public
    
    <Directory /var/www/html/public>
        Options Indexes FollowSymLinks
        AllowOverride All
        Require all granted
    </Directory>
    
    ErrorLog ${APACHE_LOG_DIR}/error.log
    CustomLog ${APACHE_LOG_DIR}/access.log combined
</VirtualHost>

<VirtualHost *:80>
    ServerName admin.example.com
    DocumentRoot /var/www/html/admin
    
    <Directory /var/www/html/admin>
        AllowOverride All
        Require all granted
    </Directory>
</VirtualHost>
```

**ğŸ”§ ä½¿ç”¨é…ç½®å¯åŠ¨Apache**

```bash
docker run -d \
  --name apache-sites \
  -p 80:80 \
  -v $(pwd)/vhost.conf:/etc/apache2/sites-available/000-default.conf \
  -v $(pwd)/www:/var/www/html \
  httpd:latest
```

---

## 4. ğŸ“„ é™æ€ç½‘ç«™éƒ¨ç½²


### 4.1 ç®€å•é™æ€ç½‘ç«™éƒ¨ç½²


**ğŸ¨ åˆ›å»ºé™æ€ç½‘ç«™ç»“æ„**

```
my-website/
â”œâ”€â”€ index.html
â”œâ”€â”€ css/
â”‚   â””â”€â”€ style.css
â”œâ”€â”€ js/
â”‚   â””â”€â”€ script.js
â””â”€â”€ images/
    â””â”€â”€ logo.png
```

**ğŸ“ ç¤ºä¾‹ç½‘ç«™å†…å®¹**

```html
<!-- index.html -->
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æˆ‘çš„å®¹å™¨åŒ–ç½‘ç«™</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <header>
        <h1>æ¬¢è¿è®¿é—®æˆ‘çš„ç½‘ç«™</h1>
        <p>è¿™æ˜¯ä¸€ä¸ªè¿è¡Œåœ¨Dockerå®¹å™¨ä¸­çš„é™æ€ç½‘ç«™</p>
    </header>
    
    <main>
        <section>
            <h2>Dockerå®¹å™¨åŒ–ä¼˜åŠ¿</h2>
            <ul>
                <li>ç¯å¢ƒä¸€è‡´æ€§</li>
                <li>å¿«é€Ÿéƒ¨ç½²</li>
                <li>æ˜“äºæ‰©å±•</li>
            </ul>
        </section>
    </main>
    
    <script src="js/script.js"></script>
</body>
</html>
```

### 4.2 é™æ€ç½‘ç«™å®¹å™¨åŒ–


**ğŸ—ï¸ Dockerfile for é™æ€ç½‘ç«™**

```dockerfile
FROM nginx:alpine

# å¤åˆ¶ç½‘ç«™æ–‡ä»¶
COPY ./my-website /usr/share/nginx/html

# å¤åˆ¶Nginxé…ç½®
COPY nginx-static.conf /etc/nginx/conf.d/default.conf

# ä¼˜åŒ–é…ç½®
RUN echo 'gzip on;' >> /etc/nginx/nginx.conf && \
    echo 'gzip_types text/css application/javascript application/json;' >> /etc/nginx/nginx.conf

EXPOSE 80
```

**âš™ï¸ ä¼˜åŒ–çš„Nginxé…ç½®**

```nginx
# nginx-static.conf
server {
    listen 80;
    server_name _;
    root /usr/share/nginx/html;
    index index.html;
    
    # å¯ç”¨å‹ç¼©
    gzip on;
    gzip_types text/plain text/css application/javascript application/json;
    
    # é™æ€èµ„æºç¼“å­˜
    location ~* \.(css|js|jpg|jpeg|png|gif|ico|svg)$ {
        expires 1y;
        add_header Cache-Control "public, immutable";
    }
    
    # HTMLæ–‡ä»¶ä¸ç¼“å­˜
    location ~* \.html$ {
        expires -1;
        add_header Cache-Control "no-cache, no-store, must-revalidate";
    }
    
    # SPAåº”ç”¨æ”¯æŒ
    location / {
        try_files $uri $uri/ /index.html;
    }
}
```

### 4.3 å¤šé˜¶æ®µæ„å»ºä¼˜åŒ–


**ğŸš€ ç°ä»£å‰ç«¯åº”ç”¨å®¹å™¨åŒ–**

```dockerfile
# å¤šé˜¶æ®µæ„å»º - å‰ç«¯åº”ç”¨
# é˜¶æ®µ1ï¼šæ„å»ºé˜¶æ®µ
FROM node:16-alpine AS builder

WORKDIR /app
COPY package*.json ./
RUN npm ci --only=production

COPY . .
RUN npm run build

# é˜¶æ®µ2ï¼šè¿è¡Œé˜¶æ®µ
FROM nginx:alpine

# å¤åˆ¶æ„å»ºäº§ç‰©
COPY --from=builder /app/dist /usr/share/nginx/html

# å¤åˆ¶nginxé…ç½®
COPY nginx.conf /etc/nginx/conf.d/default.conf

EXPOSE 80
```

---

## 5. ğŸ”„ åå‘ä»£ç†é…ç½®


### 5.1 åå‘ä»£ç†åŸºæœ¬æ¦‚å¿µ


**ğŸ”¸ ä»€ä¹ˆæ˜¯åå‘ä»£ç†**

åå‘ä»£ç†å°±åƒæ˜¯ä¸€ä¸ª"ä»£ç†æœåŠ¡å‘˜"ï¼Œå®¢æˆ·ç«¯ä»¥ä¸ºåœ¨ç›´æ¥å’ŒæœåŠ¡å™¨å¯¹è¯ï¼Œå®é™…ä¸Šæ˜¯ä»£ç†åœ¨ä¸­é—´è½¬å‘è¯·æ±‚ã€‚

```
ä¼ ç»Ÿç›´æ¥è®¿é—®ï¼š
å®¢æˆ·ç«¯ â”€â”€â”€â”€ç›´æ¥è¿æ¥â”€â”€â”€â–º WebæœåŠ¡å™¨

åå‘ä»£ç†æ¨¡å¼ï¼š
å®¢æˆ·ç«¯ â”€â”€â”€â”€â–º ä»£ç†æœåŠ¡å™¨ â”€â”€â”€â”€â–º åç«¯æœåŠ¡å™¨1
                    â”‚
                    â””â”€â”€â”€â”€â”€â”€â–º åç«¯æœåŠ¡å™¨2
```

**ğŸ’¡ åå‘ä»£ç†çš„ä½œç”¨**
- **è´Ÿè½½åˆ†æ‹…**ï¼šæŠŠè¯·æ±‚åˆ†å‘åˆ°å¤šä¸ªåç«¯æœåŠ¡å™¨
- **SSLç»ˆæ­¢**ï¼šåœ¨ä»£ç†å±‚å¤„ç†HTTPSåŠ å¯†
- **ç¼“å­˜åŠ é€Ÿ**ï¼šç¼“å­˜å¸¸ç”¨èµ„æºï¼Œæé«˜å“åº”é€Ÿåº¦
- **å®‰å…¨é˜²æŠ¤**ï¼šéšè—åç«¯æœåŠ¡å™¨çœŸå®ä¿¡æ¯

### 5.2 Nginxåå‘ä»£ç†é…ç½®


**âš™ï¸ åŸºç¡€åå‘ä»£ç†è®¾ç½®**

```nginx
# proxy.conf
upstream backend_servers {
    server app1:3000 weight=3;
    server app2:3000 weight=2;
    server app3:3000 weight=1 backup;
}

server {
    listen 80;
    server_name api.example.com;
    
    location / {
        proxy_pass http://backend_servers;
        
        # ä¼ é€’çœŸå®å®¢æˆ·ç«¯ä¿¡æ¯
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        
        # è¶…æ—¶è®¾ç½®
        proxy_connect_timeout 30s;
        proxy_send_timeout 30s;
        proxy_read_timeout 30s;
    }
    
    # é™æ€èµ„æºç›´æ¥æœåŠ¡
    location /static/ {
        alias /var/www/static/;
        expires 1d;
    }
    
    # APIæ¥å£ç‰¹æ®Šå¤„ç†
    location /api/ {
        proxy_pass http://backend_servers;
        proxy_buffer_size 4k;
        proxy_buffers 8 4k;
    }
}
```

### 5.3 Docker Composeåå‘ä»£ç†


**ğŸ³ ä½¿ç”¨Docker Composeéƒ¨ç½²**

```yaml
# docker-compose.yml
version: '3.8'

services:
  nginx-proxy:
    image: nginx:alpine
    ports:
      - "80:80"
      - "443:443"
    volumes:
      - ./nginx/proxy.conf:/etc/nginx/conf.d/default.conf
      - ./nginx/ssl:/etc/ssl/certs
    depends_on:
      - app1
      - app2
    networks:
      - webnet

  app1:
    image: node:16-alpine
    command: node server.js
    volumes:
      - ./app:/usr/src/app
    working_dir: /usr/src/app
    networks:
      - webnet

  app2:
    image: node:16-alpine  
    command: node server.js
    volumes:
      - ./app:/usr/src/app
    working_dir: /usr/src/app
    networks:
      - webnet

networks:
  webnet:
    driver: bridge
```

### 5.4 APIç½‘å…³æ¨¡å¼


**ğŸŒ å¾®æœåŠ¡APIç½‘å…³é…ç½®**

```nginx
# api-gateway.conf
# ç”¨æˆ·æœåŠ¡
location /api/users/ {
    proxy_pass http://user-service:8080/;
    proxy_set_header Authorization $http_authorization;
}

# è®¢å•æœåŠ¡
location /api/orders/ {
    proxy_pass http://order-service:8080/;
    proxy_set_header Authorization $http_authorization;
}

# æ”¯ä»˜æœåŠ¡
location /api/payments/ {
    proxy_pass http://payment-service:8080/;
    proxy_set_header Authorization $http_authorization;
}

# è®¤è¯æ£€æŸ¥
location /api/ {
    # å…ˆéªŒè¯token
    auth_request /auth;
    
    # æ ¹æ®è·¯å¾„è·¯ç”±åˆ°ç›¸åº”æœåŠ¡
    proxy_pass http://default-service:8080;
}

# å†…éƒ¨è®¤è¯ç«¯ç‚¹
location = /auth {
    internal;
    proxy_pass http://auth-service:8080/verify;
    proxy_pass_request_body off;
    proxy_set_header Content-Length "";
    proxy_set_header X-Original-URI $request_uri;
}
```

---

## 6. ğŸ”’ SSLè¯ä¹¦é…ç½®


### 6.1 SSLè¯ä¹¦åŸºç¡€æ¦‚å¿µ


**ğŸ”¸ ä¸ºä»€ä¹ˆéœ€è¦SSLè¯ä¹¦**

SSLè¯ä¹¦å°±åƒæ˜¯ç½‘ç«™çš„"èº«ä»½è¯"ï¼Œå®ƒèƒ½å¤Ÿï¼š
- **åŠ å¯†ä¼ è¾“**ï¼šä¿æŠ¤æ•°æ®åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­ä¸è¢«çªƒå–
- **èº«ä»½éªŒè¯**ï¼šè¯æ˜ç½‘ç«™çš„çœŸå®èº«ä»½
- **æå‡ä¿¡ä»»**ï¼šæµè§ˆå™¨æ˜¾ç¤ºå®‰å…¨é”æ ‡å¿—

### 6.2 Let's Encryptå…è´¹è¯ä¹¦


**ğŸ†“ ä½¿ç”¨Certbotè·å–è¯ä¹¦**

```bash
# å®‰è£…certbot
docker run --rm -it \
  -v $(pwd)/letsencrypt:/etc/letsencrypt \
  -v $(pwd)/html:/var/www/html \
  certbot/certbot \
  certonly --webroot \
  --webroot-path=/var/www/html \
  --email your-email@example.com \
  --agree-tos --no-eff-email \
  -d example.com -d www.example.com
```

### 6.3 Nginx HTTPSé…ç½®


**ğŸ” é…ç½®HTTPSæœåŠ¡**

```nginx
# https.conf
server {
    listen 80;
    server_name example.com www.example.com;
    
    # HTTPè‡ªåŠ¨è·³è½¬HTTPS
    return 301 https://$server_name$request_uri;
}

server {
    listen 443 ssl http2;
    server_name example.com www.example.com;
    
    # SSLè¯ä¹¦é…ç½®
    ssl_certificate /etc/ssl/certs/example.com/fullchain.pem;
    ssl_certificate_key /etc/ssl/certs/example.com/privkey.pem;
    
    # SSLå®‰å…¨é…ç½®
    ssl_protocols TLSv1.2 TLSv1.3;
    ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384;
    ssl_prefer_server_ciphers off;
    
    # å®‰å…¨å¤´è®¾ç½®
    add_header Strict-Transport-Security "max-age=31536000; includeSubDomains" always;
    add_header X-Frame-Options DENY always;
    add_header X-Content-Type-Options nosniff always;
    
    # ç½‘ç«™æ ¹ç›®å½•
    root /usr/share/nginx/html;
    index index.html;
    
    location / {
        try_files $uri $uri/ =404;
    }
}
```

### 6.4 è‡ªåŠ¨åŒ–SSLè¯ä¹¦æ›´æ–°


**ğŸ”„ Docker Compose SSLè‡ªåŠ¨æ›´æ–°**

```yaml
version: '3.8'

services:
  nginx:
    image: nginx:alpine
    ports:
      - "80:80"
      - "443:443"
    volumes:
      - ./nginx:/etc/nginx/conf.d
      - ./letsencrypt:/etc/letsencrypt
      - ./html:/usr/share/nginx/html
    depends_on:
      - certbot
    
  certbot:
    image: certbot/certbot
    volumes:
      - ./letsencrypt:/etc/letsencrypt
      - ./html:/var/www/html
    command: certonly --webroot --webroot-path=/var/www/html --email admin@example.com --agree-tos --no-eff-email -d example.com

  # è¯ä¹¦ç»­æœŸæœåŠ¡
  certbot-renewal:
    image: certbot/certbot
    volumes:
      - ./letsencrypt:/etc/letsencrypt
      - ./html:/var/www/html
    command: renew --quiet
    # ä½¿ç”¨cronå®šæ—¶ä»»åŠ¡å®šæœŸè¿è¡Œ
```

---

## 7. âš–ï¸ è´Ÿè½½å‡è¡¡å®ç°


### 7.1 è´Ÿè½½å‡è¡¡åŸºæœ¬åŸç†


**ğŸ”¸ ä»€ä¹ˆæ˜¯è´Ÿè½½å‡è¡¡**

æƒ³è±¡ä¸€ä¸‹é“¶è¡Œæ’é˜Ÿï¼Œå¦‚æœåªæœ‰ä¸€ä¸ªçª—å£ï¼Œé˜Ÿä¼ä¼šå¾ˆé•¿ã€‚è´Ÿè½½å‡è¡¡å°±æ˜¯å¼€è®¾å¤šä¸ªçª—å£ï¼Œè®©å®¢æˆ·åˆ†æ•£æ’é˜Ÿï¼Œæé«˜æ•´ä½“æœåŠ¡æ•ˆç‡ã€‚

```
å•æœåŠ¡å™¨æ¨¡å¼ï¼š
æ‰€æœ‰ç”¨æˆ· â”€â”€â”€â”€â–º å•ä¸ªWebæœåŠ¡å™¨ (å‹åŠ›å±±å¤§ï¼)

è´Ÿè½½å‡è¡¡æ¨¡å¼ï¼š
         â”Œâ”€â–º æœåŠ¡å™¨1 (å‹åŠ›åˆ†æ•£)
ç”¨æˆ· â”€â”€â–º è´Ÿè½½å‡è¡¡å™¨ â”œâ”€â–º æœåŠ¡å™¨2 (å‹åŠ›åˆ†æ•£)
         â””â”€â–º æœåŠ¡å™¨3 (å‹åŠ›åˆ†æ•£)
```

### 7.2 Nginxè´Ÿè½½å‡è¡¡é…ç½®


**âš–ï¸ ä¸åŒçš„è´Ÿè½½å‡è¡¡ç­–ç•¥**

```nginx
# load-balance.conf

# ç­–ç•¥1ï¼šè½®è¯¢ (é»˜è®¤)
upstream backend_round_robin {
    server web1:80;
    server web2:80;
    server web3:80;
}

# ç­–ç•¥2ï¼šåŠ æƒè½®è¯¢
upstream backend_weighted {
    server web1:80 weight=3;  # å¤„ç†3/6çš„è¯·æ±‚
    server web2:80 weight=2;  # å¤„ç†2/6çš„è¯·æ±‚
    server web3:80 weight=1;  # å¤„ç†1/6çš„è¯·æ±‚
}

# ç­–ç•¥3ï¼šIPå“ˆå¸Œ (åŒä¸€ç”¨æˆ·æ€»æ˜¯è®¿é—®åŒä¸€æœåŠ¡å™¨)
upstream backend_ip_hash {
    ip_hash;
    server web1:80;
    server web2:80;
    server web3:80;
}

# ç­–ç•¥4ï¼šæœ€å°‘è¿æ¥
upstream backend_least_conn {
    least_conn;
    server web1:80;
    server web2:80;
    server web3:80;
}

server {
    listen 80;
    server_name lb.example.com;
    
    location / {
        proxy_pass http://backend_weighted;
        
        # è´Ÿè½½å‡è¡¡ç›¸å…³å¤´ä¿¡æ¯
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        
        # å¥åº·æ£€æŸ¥
        proxy_next_upstream error timeout http_500 http_502 http_503;
    }
    
    # å¥åº·æ£€æŸ¥ç«¯ç‚¹
    location /health {
        access_log off;
        return 200 "healthy\n";
        add_header Content-Type text/plain;
    }
}
```

### 7.3 Docker Swarmè´Ÿè½½å‡è¡¡


**ğŸ³ ä½¿ç”¨Docker Swarmå†…ç½®è´Ÿè½½å‡è¡¡**

```yaml
# docker-stack.yml
version: '3.8'

services:
  web:
    image: nginx:alpine
    deploy:
      replicas: 3  # è¿è¡Œ3ä¸ªå‰¯æœ¬
      update_config:
        parallelism: 1
        delay: 10s
      restart_policy:
        condition: on-failure
    networks:
      - webnet
    volumes:
      - ./html:/usr/share/nginx/html
      
  loadbalancer:
    image: nginx:alpine
    ports:
      - "80:80"
    volumes:
      - ./nginx-lb.conf:/etc/nginx/conf.d/default.conf
    networks:
      - webnet
    deploy:
      placement:
        constraints:
          - node.role == manager

networks:
  webnet:
    driver: overlay
```

### 7.4 å¥åº·æ£€æŸ¥å’Œæ•…éšœè½¬ç§»


**ğŸ¥ é…ç½®å¥åº·æ£€æŸ¥**

```nginx
# health-check.conf
upstream backend_with_health {
    server web1:80 max_fails=3 fail_timeout=30s;
    server web2:80 max_fails=3 fail_timeout=30s;
    server web3:80 max_fails=3 fail_timeout=30s backup;  # å¤‡ç”¨æœåŠ¡å™¨
}

server {
    listen 80;
    server_name app.example.com;
    
    location / {
        proxy_pass http://backend_with_health;
        
        # æ•…éšœè½¬ç§»é…ç½®
        proxy_next_upstream error timeout invalid_header http_500 http_502 http_503;
        proxy_connect_timeout 5s;
        proxy_send_timeout 5s;
        proxy_read_timeout 5s;
    }
    
    # æœåŠ¡å™¨çŠ¶æ€é¡µé¢
    location /nginx_status {
        stub_status on;
        access_log off;
        allow 127.0.0.1;
        deny all;
    }
}
```

---

## 8. ğŸŒ åŸŸåç»‘å®šé…ç½®


### 8.1 æœ¬åœ°åŸŸåè§£æé…ç½®


**ğŸ”§ ä¿®æ”¹hostsæ–‡ä»¶è¿›è¡Œæµ‹è¯•**

```bash
# åœ¨å¼€å‘æœºå™¨ä¸Šç¼–è¾‘hostsæ–‡ä»¶
# Linux/Mac: /etc/hosts
# Windows: C:\Windows\System32\drivers\etc\hosts

127.0.0.1 www.myapp.local
127.0.0.1 api.myapp.local
127.0.0.1 admin.myapp.local
```

### 8.2 å¤šåŸŸåNginxé…ç½®


**ğŸŒ é…ç½®å¤šä¸ªåŸŸåæŒ‡å‘ä¸åŒæœåŠ¡**

```nginx
# multi-domain.conf

# ä¸»ç½‘ç«™
server {
    listen 80;
    server_name www.example.com example.com;
    root /var/www/main;
    index index.html;
    
    # åŸŸåé‡å®šå‘ï¼šexample.com -> www.example.com
    if ($host = 'example.com') {
        return 301 http://www.example.com$request_uri;
    }
}

# APIæœåŠ¡
server {
    listen 80;
    server_name api.example.com;
    
    location / {
        proxy_pass http://api-backend:3000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
}

# ç®¡ç†åå°
server {
    listen 80;
    server_name admin.example.com;
    
    # åŸºç¡€è®¤è¯
    auth_basic "Admin Area";
    auth_basic_user_file /etc/nginx/.htpasswd;
    
    location / {
        proxy_pass http://admin-backend:8080;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
}

# é™æ€èµ„æºCDN
server {
    listen 80;
    server_name static.example.com cdn.example.com;
    
    root /var/www/static;
    
    # é™æ€èµ„æºä¼˜åŒ–
    location ~* \.(jpg|jpeg|png|gif|css|js|ico|svg)$ {
        expires 1y;
        add_header Cache-Control "public, immutable";
        add_header Access-Control-Allow-Origin "*";
    }
}
```

### 8.3 æ³›åŸŸåé…ç½®


**ğŸŒŸ é…ç½®é€šé…ç¬¦åŸŸå**

```nginx
# wildcard.conf

# æ³›åŸŸåé…ç½®ï¼š*.example.com
server {
    listen 80;
    server_name ~^(?<subdomain>.+)\.example\.com$;
    
    root /var/www/sites/$subdomain;
    index index.html;
    
    # å¦‚æœå­åŸŸåå¯¹åº”ç›®å½•ä¸å­˜åœ¨ï¼Œæ˜¾ç¤ºé»˜è®¤é¡µé¢
    location / {
        try_files $uri $uri/ @fallback;
    }
    
    location @fallback {
        root /var/www/default;
        try_files $uri $uri/ =404;
    }
    
    # æ—¥å¿—æ–‡ä»¶æŒ‰å­åŸŸååˆ†åˆ«è®°å½•
    access_log /var/log/nginx/$subdomain.access.log;
    error_log /var/log/nginx/$subdomain.error.log;
}

# ç”¨æˆ·ä¸ªäººé¡µé¢ï¼šuser1.example.com, user2.example.com
server {
    listen 80;
    server_name ~^(?<username>[^.]+)\.users\.example\.com$;
    
    root /var/www/users/$username;
    index index.html;
    
    # å¦‚æœç”¨æˆ·ç›®å½•ä¸å­˜åœ¨ï¼Œè¿”å›404
    location / {
        try_files $uri $uri/ =404;
    }
}
```

### 8.4 å®¹å™¨åŒ–å¤šåŸŸåéƒ¨ç½²


**ğŸ³ Docker Composeå¤šåŸŸåé…ç½®**

```yaml
# multi-domain-compose.yml
version: '3.8'

services:
  nginx:
    image: nginx:alpine
    ports:
      - "80:80"
      - "443:443"
    volumes:
      - ./nginx/conf.d:/etc/nginx/conf.d
      - ./nginx/ssl:/etc/ssl/certs
      - ./www:/var/www
      - ./logs:/var/log/nginx
    depends_on:
      - main-app
      - api-app
      - admin-app
    networks:
      - webnet

  main-app:
    image: nginx:alpine
    volumes:
      - ./sites/main:/usr/share/nginx/html
    networks:
      - webnet

  api-app:
    image: node:16-alpine
    command: ["npm", "start"]
    working_dir: /app
    volumes:
      - ./apps/api:/app
    networks:
      - webnet
    environment:
      - NODE_ENV=production

  admin-app:
    image: php:8.1-fpm-alpine
    volumes:
      - ./apps/admin:/var/www/html
    networks:
      - webnet

networks:
  webnet:
    driver: bridge
```

---

## 9. ğŸ’¡ Webåº”ç”¨éƒ¨ç½²æœ€ä½³å®è·µ


### 9.1 å®¹å™¨é•œåƒä¼˜åŒ–


**ğŸš€ å¤šé˜¶æ®µæ„å»ºæœ€ä½³å®è·µ**

```dockerfile
# ç”Ÿäº§çº§Dockerfile
# é˜¶æ®µ1: æ„å»ºé˜¶æ®µ
FROM node:16-alpine AS builder

# è®¾ç½®å·¥ä½œç›®å½•
WORKDIR /app

# å¤åˆ¶ä¾èµ–æ–‡ä»¶å¹¶å®‰è£…
COPY package*.json ./
RUN npm ci --only=production && npm cache clean --force

# å¤åˆ¶æºç å¹¶æ„å»º
COPY . .
RUN npm run build

# é˜¶æ®µ2: è¿è¡Œé˜¶æ®µ
FROM nginx:alpine

# å®‰è£…å¿…è¦å·¥å…·
RUN apk add --no-cache curl

# å¤åˆ¶æ„å»ºäº§ç‰©
COPY --from=builder /app/dist /usr/share/nginx/html

# å¤åˆ¶nginxé…ç½®
COPY nginx.conf /etc/nginx/conf.d/default.conf

# åˆ›å»ºérootç”¨æˆ·
RUN addgroup -g 1001 -S nginx-user && \
    adduser -S -D -H -u 1001 -h /var/cache/nginx -s /sbin/nologin -G nginx-user -g nginx-user nginx-user

# è®¾ç½®æƒé™
RUN chown -R nginx-user:nginx-user /usr/share/nginx/html && \
    chown -R nginx-user:nginx-user /var/cache/nginx

# å¥åº·æ£€æŸ¥
HEALTHCHECK --interval=30s --timeout=3s --start-period=5s --retries=3 \
    CMD curl -f http://localhost/health || exit 1

# ä½¿ç”¨érootç”¨æˆ·è¿è¡Œ
USER nginx-user

EXPOSE 80
```

### 9.2 ç”Ÿäº§ç¯å¢ƒé…ç½®


**âš™ï¸ ç”Ÿäº§çº§docker-composeé…ç½®**

```yaml
# production-compose.yml
version: '3.8'

services:
  web:
    build: .
    deploy:
      replicas: 3
      resources:
        limits:
          cpus: '0.5'
          memory: 512M
        reservations:
          cpus: '0.2'
          memory: 256M
      restart_policy:
        condition: on-failure
        delay: 5s
        max_attempts: 3
        window: 120s
      update_config:
        parallelism: 1
        delay: 10s
        failure_action: rollback
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost/health"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 30s
    networks:
      - frontend
      - backend
    logging:
      driver: "json-file"
      options:
        max-size: "10m"
        max-file: "3"

  nginx:
    image: nginx:alpine
    ports:
      - "80:80"
      - "443:443"
    volumes:
      - ./nginx:/etc/nginx/conf.d:ro
      - ./ssl:/etc/ssl/certs:ro
      - nginx-logs:/var/log/nginx
    depends_on:
      - web
    networks:
      - frontend
    deploy:
      resources:
        limits:
          cpus: '0.3'
          memory: 256M

volumes:
  nginx-logs:

networks:
  frontend:
    driver: overlay
  backend:
    driver: overlay
    internal: true
```

### 9.3 ç›‘æ§å’Œæ—¥å¿—ç®¡ç†


**ğŸ“Š é›†æˆç›‘æ§æ–¹æ¡ˆ**

```yaml
# monitoring-stack.yml
version: '3.8'

services:
  # åº”ç”¨æœåŠ¡
  web:
    image: my-web-app:latest
    networks:
      - monitoring

  # Nginx with metrics
  nginx:
    image: nginx:alpine
    volumes:
      - ./nginx-with-metrics.conf:/etc/nginx/conf.d/default.conf
    ports:
      - "80:80"
    networks:
      - monitoring

  # Prometheusç›‘æ§
  prometheus:
    image: prom/prometheus
    volumes:
      - ./prometheus.yml:/etc/prometheus/prometheus.yml
      - prometheus-data:/prometheus
    command:
      - '--config.file=/etc/prometheus/prometheus.yml'
      - '--storage.tsdb.path=/prometheus'
      - '--web.console.libraries=/etc/prometheus/console_libraries'
    ports:
      - "9090:9090"
    networks:
      - monitoring

  # Grafanaä»ªè¡¨æ¿
  grafana:
    image: grafana/grafana
    volumes:
      - grafana-data:/var/lib/grafana
    environment:
      - GF_SECURITY_ADMIN_PASSWORD=admin123
    ports:
      - "3000:3000"
    networks:
      - monitoring

  # æ—¥å¿—æ”¶é›†
  loki:
    image: grafana/loki
    ports:
      - "3100:3100"
    networks:
      - monitoring

volumes:
  prometheus-data:
  grafana-data:

networks:
  monitoring:
    driver: bridge
```

### 9.4 å®‰å…¨é…ç½®æ¸…å•


**ğŸ›¡ï¸ å®‰å…¨æœ€ä½³å®è·µ**

```nginx
# security.conf
server {
    listen 443 ssl http2;
    server_name secure.example.com;
    
    # SSLå®‰å…¨é…ç½®
    ssl_certificate /etc/ssl/certs/cert.pem;
    ssl_certificate_key /etc/ssl/certs/key.pem;
    ssl_protocols TLSv1.2 TLSv1.3;
    ssl_ciphers ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256;
    
    # å®‰å…¨å¤´è®¾ç½®
    add_header Strict-Transport-Security "max-age=31536000; includeSubDomains" always;
    add_header X-Frame-Options DENY always;
    add_header X-Content-Type-Options nosniff always;
    add_header X-XSS-Protection "1; mode=block" always;
    add_header Referrer-Policy "strict-origin-when-cross-origin" always;
    add_header Content-Security-Policy "default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline';" always;
    
    # éšè—æœåŠ¡å™¨ä¿¡æ¯
    server_tokens off;
    
    # é™åˆ¶è¯·æ±‚å¤§å°
    client_max_body_size 10M;
    
    # é˜²æ­¢ç¼“æ…¢æ”»å‡»
    client_body_timeout 12;
    client_header_timeout 12;
    send_timeout 10;
    
    # é™åˆ¶è¿æ¥æ•°
    limit_conn_zone $binary_remote_addr zone=conn_limit_per_ip:10m;
    limit_conn conn_limit_per_ip 20;
    
    # é™åˆ¶è¯·æ±‚é¢‘ç‡
    limit_req_zone $binary_remote_addr zone=req_limit_per_ip:10m rate=5r/s;
    limit_req zone=req_limit_per_ip burst=10 nodelay;
    
    location / {
        root /usr/share/nginx/html;
        index index.html;
        
        # é˜²æ­¢è®¿é—®éšè—æ–‡ä»¶
        location ~ /\. {
            deny all;
            access_log off;
            log_not_found off;
        }
    }
}
```

---

## 10. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 10.1 å¿…é¡»æŒæ¡çš„åŸºæœ¬æ¦‚å¿µ


```
ğŸ”¸ å®¹å™¨åŒ–æ¦‚å¿µï¼šå°†Webåº”ç”¨æ‰“åŒ…åœ¨ç‹¬ç«‹ã€å¯ç§»æ¤çš„å®¹å™¨ä¸­è¿è¡Œ
ğŸ”¸ æœåŠ¡å™¨é€‰æ‹©ï¼šNginxé€‚åˆé™æ€æ–‡ä»¶å’Œåå‘ä»£ç†ï¼ŒApacheé€‚åˆåŠ¨æ€åº”ç”¨
ğŸ”¸ åå‘ä»£ç†ï¼šå®¢æˆ·ç«¯è¯·æ±‚é€šè¿‡ä»£ç†æœåŠ¡å™¨è½¬å‘åˆ°åç«¯æœåŠ¡å™¨
ğŸ”¸ è´Ÿè½½å‡è¡¡ï¼šå°†è¯·æ±‚åˆ†å‘åˆ°å¤šä¸ªæœåŠ¡å™¨ï¼Œæé«˜ç³»ç»Ÿæ€§èƒ½å’Œå¯ç”¨æ€§
ğŸ”¸ SSLè¯ä¹¦ï¼šä¸ºç½‘ç«™å¯ç”¨HTTPSï¼Œä¿è¯æ•°æ®ä¼ è¾“å®‰å…¨
```

### 10.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ Webå®¹å™¨åŒ–çš„æ ¸å¿ƒä¼˜åŠ¿**
```
ç¯å¢ƒä¸€è‡´æ€§ï¼š
- å¼€å‘ã€æµ‹è¯•ã€ç”Ÿäº§ç¯å¢ƒå®Œå…¨ç›¸åŒ
- é¿å…"åœ¨æˆ‘æœºå™¨ä¸Šèƒ½è·‘"çš„é—®é¢˜

å¿«é€Ÿéƒ¨ç½²ï¼š
- å‡ ç§’é’Ÿå¯åŠ¨WebæœåŠ¡
- æ”¯æŒå¿«é€Ÿæ‰©å®¹å’Œç¼©å®¹

èµ„æºéš”ç¦»ï¼š
- æ¯ä¸ªåº”ç”¨ç‹¬ç«‹è¿è¡Œ
- æ•…éšœä¸ä¼šäº’ç›¸å½±å“
```

**ğŸ”¹ é…ç½®æ–‡ä»¶çš„é‡è¦æ€§**
```
Nginxé…ç½®ï¼š
- å†³å®šäº†è¯·æ±‚å¦‚ä½•è¢«å¤„ç†
- å½±å“æ€§èƒ½å’Œå®‰å…¨æ€§

Dockeré…ç½®ï¼š
- æ§åˆ¶å®¹å™¨å¦‚ä½•è¿è¡Œ
- ç®¡ç†èµ„æºä½¿ç”¨å’Œç½‘ç»œè¿æ¥
```

### 10.3 å®é™…åº”ç”¨ä»·å€¼


**ğŸ¯ ä¸åŒåœºæ™¯çš„æœ€ä½³é€‰æ‹©**
- **é™æ€ç½‘ç«™**ï¼šNginx + é™æ€æ–‡ä»¶æŒ‚è½½
- **PHPåº”ç”¨**ï¼šApache + PHP-FPM
- **Node.jsåº”ç”¨**ï¼šNginxåå‘ä»£ç† + Node.jså®¹å™¨
- **å¾®æœåŠ¡æ¶æ„**ï¼šNginx APIç½‘å…³ + å¤šä¸ªåç«¯æœåŠ¡

**ğŸ”§ ç”Ÿäº§ç¯å¢ƒè€ƒè™‘å› ç´ **
- **å®‰å…¨æ€§**ï¼šSSLè¯ä¹¦ã€å®‰å…¨å¤´é…ç½®ã€è®¿é—®æ§åˆ¶
- **æ€§èƒ½**ï¼šè´Ÿè½½å‡è¡¡ã€ç¼“å­˜ç­–ç•¥ã€èµ„æºä¼˜åŒ–
- **å¯ç»´æŠ¤æ€§**ï¼šç›‘æ§ã€æ—¥å¿—ã€å¥åº·æ£€æŸ¥
- **å¯æ‰©å±•æ€§**ï¼šå®¹å™¨ç¼–æ’ã€è‡ªåŠ¨æ‰©å®¹

### 10.4 å¸¸è§é—®é¢˜è§£å†³æ€è·¯


```
ç«¯å£å†²çªï¼š
â–¡ æ£€æŸ¥ç«¯å£æ˜ å°„é…ç½®
â–¡ ä½¿ç”¨docker psæŸ¥çœ‹å ç”¨æƒ…å†µ
â–¡ ä¿®æ”¹ä¸»æœºç«¯å£æ˜ å°„

è®¿é—®å¼‚å¸¸ï¼š
â–¡ æ£€æŸ¥å®¹å™¨æ˜¯å¦æ­£å¸¸è¿è¡Œ
â–¡ éªŒè¯ç½‘ç»œé…ç½®å’Œé˜²ç«å¢™
â–¡ æŸ¥çœ‹å®¹å™¨æ—¥å¿—æ’æŸ¥é—®é¢˜

æ€§èƒ½é—®é¢˜ï¼š
â–¡ ç›‘æ§èµ„æºä½¿ç”¨æƒ…å†µ
â–¡ ä¼˜åŒ–Nginxé…ç½®å‚æ•°
â–¡ è€ƒè™‘å¯ç”¨ç¼“å­˜å’Œå‹ç¼©

SSLé…ç½®ï¼š
â–¡ ç¡®è®¤è¯ä¹¦æ–‡ä»¶è·¯å¾„æ­£ç¡®
â–¡ æ£€æŸ¥è¯ä¹¦æœ‰æ•ˆæœŸ
â–¡ éªŒè¯åŸŸååŒ¹é…æƒ…å†µ
```

**ğŸ’¡ å­¦ä¹ å»ºè®®**
- **ä»ç®€å•å¼€å§‹**ï¼šå…ˆæŒæ¡åŸºæœ¬çš„é™æ€ç½‘ç«™å®¹å™¨åŒ–
- **é€æ­¥æ·±å…¥**ï¼šå†å­¦ä¹ åå‘ä»£ç†å’Œè´Ÿè½½å‡è¡¡
- **å®è·µä¸ºä¸»**ï¼šå¤šåŠ¨æ‰‹æ“ä½œï¼Œç†è§£é…ç½®å‚æ•°å«ä¹‰
- **å…³æ³¨å®‰å…¨**ï¼šåœ¨å­¦ä¹ åŠŸèƒ½çš„åŒæ—¶æ³¨é‡å®‰å…¨é…ç½®

**æ ¸å¿ƒè®°å¿†è¦ç‚¹**ï¼š
- Webå®¹å™¨åŒ–è®©éƒ¨ç½²å˜å¾—ç®€å•å¿«é€Ÿ
- Nginxæ˜¯WebæœåŠ¡çš„ä¸‡èƒ½å·¥å…·
- é…ç½®æ–‡ä»¶æ˜¯å®¹å™¨åŒ–çš„æ ¸å¿ƒ
- å®‰å…¨å’Œæ€§èƒ½åŒæ ·é‡è¦
- å®è·µæ˜¯æŒæ¡å®¹å™¨åŒ–çš„å…³é”®