---
title: 2ã€åˆ›å»ºçº¿ç¨‹
---
## ğŸ“š ç›®å½•

1. [çº¿ç¨‹åˆ›å»ºæ–¹å¼æ¦‚è¿°](#1-çº¿ç¨‹åˆ›å»ºæ–¹å¼æ¦‚è¿°)
2. [æ–¹å¼ä¸€ï¼šç»§æ‰¿Threadç±»](#2-æ–¹å¼ä¸€ç»§æ‰¿Threadç±»)
3. [æ–¹å¼äºŒï¼šå®ç°Runnableæ¥å£](#3-æ–¹å¼äºŒå®ç°Runnableæ¥å£)
4. [æ–¹å¼ä¸‰ï¼šCallableæ¥å£+Future](#4-æ–¹å¼ä¸‰Callableæ¥å£Future)
5. [æ–¹å¼å››ï¼šä½¿ç”¨çº¿ç¨‹æ± ](#5-æ–¹å¼å››ä½¿ç”¨çº¿ç¨‹æ± )
6. [åˆ›å»ºæ–¹å¼å¯¹æ¯”åˆ†æ](#6-åˆ›å»ºæ–¹å¼å¯¹æ¯”åˆ†æ)
7. [çº¿ç¨‹ä½¿ç”¨æ³¨æ„äº‹é¡¹](#7-çº¿ç¨‹ä½¿ç”¨æ³¨æ„äº‹é¡¹)
8. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#8-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸŒŸ çº¿ç¨‹åˆ›å»ºæ–¹å¼æ¦‚è¿°


### 1.1 åˆ›å»ºæ–¹å¼æ€»è§ˆ


| æ–¹å¼ç¼–å· | **åˆ›å»ºæ–¹å¼** | **æ¨èç¨‹åº¦** | **ç‰¹ç‚¹è¯´æ˜** |
|---------|-------------|-------------|-------------|
| **1** | `ç»§æ‰¿ Thread ç±»` | `â­ï¸` | `ç®€å•ä½†å—é™äºå•ç»§æ‰¿` |
| **2** | `å®ç° Runnable æ¥å£` | `â­â­â­` | `è§£è€¦ã€è½»é‡ã€é€‚åˆå…±äº«èµ„æº` |
| **3** | `å®ç° Callable + Future` | `â­â­â­â­` | `å¯è·å–è¿”å›å€¼ï¼Œå¯æŠ›å‡ºå¼‚å¸¸` |
| **4** | `ä½¿ç”¨çº¿ç¨‹æ±  Executor æ¡†æ¶` | `â­â­â­â­â­` | `æ¨èæ–¹å¼ï¼Œæ€§èƒ½ã€å¯æ§ã€å¯æ‰©å±•` |

### 1.2 é€‰æ‹©ç­–ç•¥æµç¨‹å›¾


```
çº¿ç¨‹åˆ›å»ºé€‰æ‹©æµç¨‹
         å¼€å§‹
          â”‚
    â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”
    â”‚ éœ€è¦è¿”å›å€¼ï¼Ÿ â”‚
    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
          â”‚
    â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚    æ˜¯     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ Callable    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚ + Future    â”‚
          â”‚               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”
    â”‚    å¦     â”‚
    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
          â”‚
    â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”
    â”‚ é«˜å¹¶å‘åœºæ™¯ï¼Ÿ â”‚
    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
          â”‚
    â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚    æ˜¯     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ çº¿ç¨‹æ±       â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚ (æ¨è)      â”‚
          â”‚               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”
    â”‚    å¦     â”‚
    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
          â”‚
    â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ ç®€å•æµ‹è¯•ï¼Ÿ  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ Runnable    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚ (æ¨è)      â”‚
```

---

## 2. ğŸ§µ æ–¹å¼ä¸€ï¼šç»§æ‰¿Threadç±»


### 2.1 åŸºæœ¬åŸç†


**ğŸ”¸ å®ç°æœºåˆ¶**
```
åŸç†ï¼šåˆ›å»ºä¸€ä¸ªå­ç±»ç»§æ‰¿ Threadï¼Œé‡å†™ run() æ–¹æ³•ï¼Œè°ƒç”¨ start() å¯åŠ¨çº¿ç¨‹
ç‰¹ç‚¹ï¼šç›´æ¥ç»§æ‰¿ï¼Œç®€å•ç›´è§‚ï¼Œä½†å—å•ç»§æ‰¿é™åˆ¶
```

### 2.2 ä»£ç å®ç°


```java
// âœ… åŸºç¡€å®ç°
public class MyThread extends Thread {
    @Override
    public void run() {
        System.out.println("çº¿ç¨‹æ‰§è¡Œä¸­: " + Thread.currentThread().getName());
        // æ¨¡æ‹Ÿè€—æ—¶æ“ä½œ
        for (int i = 0; i < 5; i++) {
            System.out.println(Thread.currentThread().getName() + " - " + i);
            try {
                Thread.sleep(1000); // æš‚åœ1ç§’
            } catch (InterruptedException e) {
                e.printStackTrace();
            }
        }
    }

    public static void main(String[] args) {
        Thread t1 = new MyThread();
        Thread t2 = new MyThread();
        
        t1.setName("çº¿ç¨‹-1");
        t2.setName("çº¿ç¨‹-2");
        
        t1.start(); // å¯åŠ¨æ–°çº¿ç¨‹
        t2.start(); // å¯åŠ¨å¦ä¸€ä¸ªçº¿ç¨‹
    }
}
```

### 2.3 ä¼˜ç¼ºç‚¹åˆ†æ


**âœ… ä¼˜ç‚¹**
- å®ç°ç®€å•ï¼Œä»£ç ç›´è§‚
- å¯ä»¥ç›´æ¥ä½¿ç”¨Threadç±»çš„æ–¹æ³•
- é€‚åˆå¿«é€ŸåŸå‹å¼€å‘

**âŒ ç¼ºç‚¹**
```
å•ç»§æ‰¿é™åˆ¶ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  MyThread       â”‚
â”‚  extends Thread â”‚  â† æ— æ³•å†ç»§æ‰¿å…¶ä»–ç±»
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

èµ„æºæµªè´¹ï¼š
â€¢ æ¯æ¬¡éƒ½éœ€è¦åˆ›å»ºæ–°çš„Threadå¯¹è±¡
â€¢ æ— æ³•å¤ç”¨çº¿ç¨‹èµ„æº
â€¢ ä¸é€‚åˆé«˜å¹¶å‘åœºæ™¯
```

---

## 3. ğŸ”— æ–¹å¼äºŒï¼šå®ç°Runnableæ¥å£


### 3.1 åŸºæœ¬åŸç†


**ğŸ”¸ å®ç°æœºåˆ¶**
```
åŸç†ï¼šåˆ›å»ºä¸€ä¸ªç±»å®ç° Runnable æ¥å£ï¼Œé‡å†™ run() æ–¹æ³•
ä½¿ç”¨ï¼šå°†å…¶å®ä¾‹ä½œä¸ºå‚æ•°ä¼ ç»™ Thread æ„é€ å™¨
ä¼˜åŠ¿ï¼šè§£è€¦ä»»åŠ¡ä¸çº¿ç¨‹ï¼Œæ”¯æŒå¤šç»§æ‰¿ï¼Œèµ„æºå…±äº«
```

### 3.2 ä»£ç å®ç°


```java
// âœ… åŸºç¡€å®ç°
public class MyRunnable implements Runnable {
    private String taskName;
    
    public MyRunnable(String taskName) {
        this.taskName = taskName;
    }
    
    @Override
    public void run() {
        System.out.println("ä»»åŠ¡ " + taskName + " å¼€å§‹æ‰§è¡Œ: " + 
                          Thread.currentThread().getName());
        
        for (int i = 0; i < 3; i++) {
            System.out.println(taskName + " - æ­¥éª¤ " + i);
            try {
                Thread.sleep(1000);
            } catch (InterruptedException e) {
                e.printStackTrace();
            }
        }
        
        System.out.println("ä»»åŠ¡ " + taskName + " æ‰§è¡Œå®Œæˆ");
    }

    public static void main(String[] args) {
        // åˆ›å»ºä»»åŠ¡
        Runnable task1 = new MyRunnable("ä¸‹è½½æ–‡ä»¶");
        Runnable task2 = new MyRunnable("å¤„ç†æ•°æ®");
        
        // åˆ›å»ºçº¿ç¨‹å¹¶å¯åŠ¨
        Thread t1 = new Thread(task1);
        Thread t2 = new Thread(task2);
        
        t1.start();
        t2.start();
    }
}
```

### 3.3 èµ„æºå…±äº«ç¤ºä¾‹


```java
// âœ… å¤šçº¿ç¨‹å…±äº«èµ„æºç¤ºä¾‹
public class TicketSeller implements Runnable {
    private int tickets = 10; // å…±äº«èµ„æºï¼šç¥¨æ•°
    
    @Override
    public void run() {
        while (tickets > 0) {
            System.out.println(Thread.currentThread().getName() + 
                             " å–å‡ºç¥¨å·ï¼š" + tickets--);
            try {
                Thread.sleep(100); // æ¨¡æ‹Ÿå–ç¥¨è€—æ—¶
            } catch (InterruptedException e) {
                e.printStackTrace();
            }
        }
    }
    
    public static void main(String[] args) {
        TicketSeller seller = new TicketSeller(); // åŒä¸€ä¸ªä»»åŠ¡å¯¹è±¡
        
        // å¤šä¸ªçº¿ç¨‹å…±äº«åŒä¸€ä¸ªä»»åŠ¡
        Thread window1 = new Thread(seller, "çª—å£1");
        Thread window2 = new Thread(seller, "çª—å£2");
        Thread window3 = new Thread(seller, "çª—å£3");
        
        window1.start();
        window2.start();
        window3.start();
    }
}
```

### 3.4 ä½¿ç”¨å»ºè®®


**âœ… æ¨èç†ç”±**
```
è®¾è®¡ä¼˜åŠ¿ï¼š
â€¢ ä»»åŠ¡ä¸çº¿ç¨‹åˆ†ç¦»ï¼ŒèŒè´£æ¸…æ™°
â€¢ æ”¯æŒå¤šç»§æ‰¿ï¼Œçµæ´»æ€§é«˜
â€¢ å¤šçº¿ç¨‹å¯å…±äº«åŒä¸€ä¸ªRunnableå¯¹è±¡
â€¢ ä»£ç å¤ç”¨æ€§å¼º

é€‚ç”¨åœºæ™¯ï¼š
â€¢ éœ€è¦ç»§æ‰¿å…¶ä»–ç±»çš„æƒ…å†µ
â€¢ å¤šçº¿ç¨‹å…±äº«èµ„æºçš„åœºæ™¯
â€¢ ä»»åŠ¡é€»è¾‘ç›¸å¯¹ç®€å•çš„æƒ…å†µ
```

---

## 4. ğŸ¯ æ–¹å¼ä¸‰ï¼šCallableæ¥å£+Future


### 4.1 åŸºæœ¬åŸç†


**ğŸ”¸ å®ç°æœºåˆ¶**
```
Callable vs Runnableï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Runnable      â”‚    â”‚   Callable      â”‚
â”‚                 â”‚    â”‚                 â”‚
â”‚ â€¢ void run()    â”‚    â”‚ â€¢ V call()      â”‚
â”‚ â€¢ æ— è¿”å›å€¼        â”‚ vs â”‚ â€¢ æœ‰è¿”å›å€¼        â”‚
â”‚ â€¢ æ— å¼‚å¸¸æŠ›å‡º      â”‚    â”‚ â€¢ å¯æŠ›å‡ºå¼‚å¸¸      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ä½¿ç”¨FutureTaskåŒ…è£…Callableï¼Œç„¶åä¼ å…¥Threadæ„é€ å™¨
```

### 4.2 ä»£ç å®ç°


```java
// âœ… CallableåŸºç¡€å®ç°
public class MyCallable implements Callable<Integer> {
    private String taskName;
    
    public MyCallable(String taskName) {
        this.taskName = taskName;
    }
    
    @Override
    public Integer call() throws Exception {
        System.out.println(taskName + " å¼€å§‹æ‰§è¡Œè®¡ç®—ä»»åŠ¡...");
        
        int sum = 0;
        for (int i = 1; i <= 100; i++) {
            sum += i;
            Thread.sleep(10); // æ¨¡æ‹Ÿè®¡ç®—è€—æ—¶
        }
        
        System.out.println(taskName + " è®¡ç®—å®Œæˆ");
        return sum; // è¿”å›è®¡ç®—ç»“æœ
    }

    public static void main(String[] args) throws Exception {
        // åˆ›å»ºCallableä»»åŠ¡
        Callable<Integer> task = new MyCallable("æ•°å­¦è®¡ç®—");
        
        // ä½¿ç”¨FutureTaskåŒ…è£…
        FutureTask<Integer> future = new FutureTask<>(task);
        
        // åˆ›å»ºçº¿ç¨‹å¹¶å¯åŠ¨
        Thread t = new Thread(future);
        t.start();
        
        // ä¸»çº¿ç¨‹å¯ä»¥åšå…¶ä»–äº‹æƒ…
        System.out.println("ä¸»çº¿ç¨‹ç»§ç»­æ‰§è¡Œå…¶ä»–ä»»åŠ¡...");
        
        // è·å–ç»“æœï¼ˆé˜»å¡ç›´åˆ°è¿”å›ï¼‰
        Integer result = future.get();
        System.out.println("è®¡ç®—ç»“æœ: " + result); // è¾“å‡ºï¼š5050
    }
}
```

### 4.3 å¼‚å¸¸å¤„ç†ç¤ºä¾‹


```java
// âœ… å¼‚å¸¸å¤„ç†ç¤ºä¾‹
public class CallableWithException implements Callable<String> {
    @Override
    public String call() throws Exception {
        System.out.println("å¼€å§‹æ‰§è¡Œå¯èƒ½å¼‚å¸¸çš„ä»»åŠ¡...");
        
        // æ¨¡æ‹Ÿå¯èƒ½å‡ºç°çš„å¼‚å¸¸
        if (Math.random() > 0.5) {
            throw new RuntimeException("æ¨¡æ‹Ÿä¸šåŠ¡å¼‚å¸¸");
        }
        
        Thread.sleep(2000);
        return "ä»»åŠ¡æ‰§è¡ŒæˆåŠŸ";
    }
    
    public static void main(String[] args) {
        FutureTask<String> future = new FutureTask<>(new CallableWithException());
        Thread t = new Thread(future);
        t.start();
        
        try {
            String result = future.get(); // å¯èƒ½æŠ›å‡ºå¼‚å¸¸
            System.out.println("ç»“æœ: " + result);
        } catch (Exception e) {
            System.err.println("ä»»åŠ¡æ‰§è¡Œå‡ºç°å¼‚å¸¸: " + e.getCause().getMessage());
        }
    }
}
```

### 4.4 æ³¨æ„äº‹é¡¹


**âš ï¸ ä½¿ç”¨è¦ç‚¹**
```
Future.get()æ–¹æ³•ç‰¹æ€§ï¼š
â€¢ é˜»å¡æ€§ï¼šä¼šé˜»å¡å½“å‰çº¿ç¨‹ç›´åˆ°ä»»åŠ¡å®Œæˆ
â€¢ å¼‚å¸¸ä¼ æ’­ï¼šä»»åŠ¡ä¸­çš„å¼‚å¸¸ä¼šåœ¨get()æ—¶æŠ›å‡º
â€¢ è¶…æ—¶æ§åˆ¶ï¼šå¯è®¾ç½®è¶…æ—¶æ—¶é—´é¿å…æ— é™ç­‰å¾…

ä½¿ç”¨åœºæ™¯ï¼š
âœ… éœ€è¦è·å–çº¿ç¨‹æ‰§è¡Œç»“æœ
âœ… éœ€è¦å¤„ç†çº¿ç¨‹æ‰§è¡Œå¼‚å¸¸
âœ… éœ€è¦æ§åˆ¶ä»»åŠ¡æ‰§è¡Œæ—¶é—´
```

---

## 5. ğŸŠâ€â™‚ï¸ æ–¹å¼å››ï¼šä½¿ç”¨çº¿ç¨‹æ± 


### 5.1 åŸºæœ¬åŸç†


**ğŸ”¸ çº¿ç¨‹æ± ä¼˜åŠ¿**
```
çº¿ç¨‹æ± æ ¸å¿ƒæ¦‚å¿µï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              çº¿ç¨‹æ±                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚çº¿ç¨‹1  â”‚ â”‚çº¿ç¨‹2  â”‚ â”‚çº¿ç¨‹3  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                   â”‚
â”‚  ä»»åŠ¡é˜Ÿåˆ—: [ä»»åŠ¡1][ä»»åŠ¡2][ä»»åŠ¡3]...   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ä¼˜åŠ¿ï¼šå¤ç”¨çº¿ç¨‹ï¼Œé¿å…é¢‘ç¹åˆ›å»ºé”€æ¯çš„å¼€é”€
```

### 5.2 åŸºç¡€ä½¿ç”¨


```java
// âœ… çº¿ç¨‹æ± åŸºç¡€ä½¿ç”¨
public class ThreadPoolExample {
    public static void main(String[] args) {
        // åˆ›å»ºä¸€ä¸ªå›ºå®šå¤§å°ä¸º3çš„çº¿ç¨‹æ± 
        ExecutorService pool = Executors.newFixedThreadPool(3);

        // æäº¤å¤šä¸ªä»»åŠ¡
        for (int i = 1; i <= 5; i++) {
            final int taskId = i;
            
            // ä½¿ç”¨åŒ¿åå†…éƒ¨ç±»åˆ›å»ºä»»åŠ¡
            Runnable task = new Runnable() {
                @Override
                public void run() {
                    System.out.println("ä»»åŠ¡" + taskId + " æ‰§è¡Œä¸­: " + 
                                     Thread.currentThread().getName());
                    try {
                        Thread.sleep(2000); // æ¨¡æ‹Ÿä»»åŠ¡æ‰§è¡Œ
                    } catch (InterruptedException e) {
                        e.printStackTrace();
                    }
                    System.out.println("ä»»åŠ¡" + taskId + " æ‰§è¡Œå®Œæˆ");
                }
            };
            
            pool.execute(task); // æäº¤ä»»åŠ¡åˆ°çº¿ç¨‹æ± 
        }

        pool.shutdown(); // å…³é—­çº¿ç¨‹æ± ï¼ˆç­‰å¾…æ‰€æœ‰ä»»åŠ¡å®Œæˆï¼‰
    }
}
```

### 5.3 ä¸åŒç±»å‹çº¿ç¨‹æ± 


```java
// âœ… å¸¸ç”¨çº¿ç¨‹æ± ç±»å‹
public class ThreadPoolTypes {
    public static void main(String[] args) {
        // 1. å›ºå®šå¤§å°çº¿ç¨‹æ± 
        ExecutorService fixedPool = Executors.newFixedThreadPool(3);
        
        // 2. ç¼“å­˜çº¿ç¨‹æ± ï¼ˆåŠ¨æ€è°ƒæ•´å¤§å°ï¼‰
        ExecutorService cachedPool = Executors.newCachedThreadPool();
        
        // 3. å•çº¿ç¨‹æ± ï¼ˆä¿è¯é¡ºåºæ‰§è¡Œï¼‰
        ExecutorService singlePool = Executors.newSingleThreadExecutor();
        
        // 4. å®šæ—¶ä»»åŠ¡çº¿ç¨‹æ± 
        ScheduledExecutorService scheduledPool = 
            Executors.newScheduledThreadPool(2);
        
        // ä½¿ç”¨ç¤ºä¾‹ï¼šæäº¤ä»»åŠ¡åˆ°å›ºå®šçº¿ç¨‹æ± 
        for (int i = 0; i < 5; i++) {
            final int taskId = i;
            fixedPool.submit(() -> {
                System.out.println("ä»»åŠ¡" + taskId + " - " + 
                                 Thread.currentThread().getName());
            });
        }
        
        // å…³é—­æ‰€æœ‰çº¿ç¨‹æ± 
        fixedPool.shutdown();
        cachedPool.shutdown();
        singlePool.shutdown();
        scheduledPool.shutdown();
    }
}
```

### 5.4 submit vs execute


```java
// âœ… submitå’Œexecuteçš„åŒºåˆ«
public class SubmitVsExecute {
    public static void main(String[] args) throws Exception {
        ExecutorService pool = Executors.newFixedThreadPool(2);
        
        // executeï¼šæ— è¿”å›å€¼ï¼Œç”¨äºRunnable
        pool.execute(() -> {
            System.out.println("executeæ–¹å¼æ‰§è¡Œä»»åŠ¡");
        });
        
        // submitï¼šæœ‰è¿”å›å€¼ï¼Œå¯ç”¨äºRunnableå’ŒCallable
        Future<String> future = pool.submit(() -> {
            Thread.sleep(1000);
            return "submitæ–¹å¼æ‰§è¡Œç»“æœ";
        });
        
        // è·å–submitçš„ç»“æœ
        String result = future.get();
        System.out.println("è·å–åˆ°ç»“æœ: " + result);
        
        pool.shutdown();
    }
}
```

---

## 6. âš–ï¸ åˆ›å»ºæ–¹å¼å¯¹æ¯”åˆ†æ


### 6.1 è¯¦ç»†å¯¹æ¯”è¡¨


| ç‰¹æ€§ | **Thread** | **Runnable** | **Callable + Future** | **ExecutorService** |
|------|-----------|-------------|---------------------|-------------------|
| **æ˜¯å¦æ¨è** | `âŒ` | `âœ…` | `âœ…` | `âœ…âœ…âœ…` |
| **æ˜¯å¦è§£è€¦** | `âŒ` | `âœ…` | `âœ…` | `âœ…` |
| **æ˜¯å¦æ”¯æŒè¿”å›å€¼** | `âŒ` | `âŒ` | `âœ…` | `âœ…ï¼ˆsubmitï¼‰` |
| **æ˜¯å¦æ”¯æŒå¼‚å¸¸æŠ›å‡º** | `âŒ` | `âŒ` | `âœ…` | `âœ…` |
| **æ˜“ç”¨æ€§** | `ç®€å•` | `ç®€å•` | `ä¸­ç­‰` | `é«˜` |
| **å¤šçº¿ç¨‹èµ„æºå…±äº«** | `ä¸é€‚åˆ` | `âœ…` | `âœ…` | `âœ…` |
| **æ€§èƒ½** | `ä½ï¼ˆé¢‘ç¹åˆ›å»ºï¼‰` | `ä½ï¼ˆé¢‘ç¹åˆ›å»ºï¼‰` | `ä¸­ç­‰` | `é«˜ï¼ˆçº¿ç¨‹å¤ç”¨ï¼‰` |
| **ä¼ä¸šçº§å¼€å‘** | `ä¸æ¨è` | `åŸºç¡€åœºæ™¯` | `ç‰¹å®šéœ€æ±‚` | `é¦–é€‰` |

### 6.2 é€‰æ‹©å»ºè®®


**ğŸ¯ ä½¿ç”¨åœºæ™¯æ¨è**
```
ç®€å•å­¦ä¹ æµ‹è¯•ï¼š
â”œâ”€â”€ Threadç±»ç»§æ‰¿ âœ“
â””â”€â”€ å¿«é€ŸéªŒè¯æ¦‚å¿µ

ä¸€èˆ¬ä¸šåŠ¡å¼€å‘ï¼š
â”œâ”€â”€ Runnableæ¥å£ âœ“âœ“
â””â”€â”€ ä»»åŠ¡ä¸çº¿ç¨‹è§£è€¦

éœ€è¦è¿”å›å€¼ï¼š
â”œâ”€â”€ Callable + Future âœ“âœ“âœ“
â””â”€â”€ å¼‚æ­¥è®¡ç®—åœºæ™¯

ä¼ä¸šçº§å¼€å‘ï¼š
â”œâ”€â”€ ExecutorService âœ“âœ“âœ“âœ“âœ“
â””â”€â”€ é«˜å¹¶å‘ã€é«˜æ€§èƒ½è¦æ±‚
```

---

## 7. âš ï¸ çº¿ç¨‹ä½¿ç”¨æ³¨æ„äº‹é¡¹


### 7.1 å¸¸è§é”™è¯¯ä¸è§„é¿


```java
// âŒ é”™è¯¯ç¤ºä¾‹ï¼šç›´æ¥è°ƒç”¨run()æ–¹æ³•
public class CommonMistakes {
    public static void main(String[] args) {
        Thread t = new Thread(() -> {
            System.out.println("çº¿ç¨‹æ‰§è¡Œ: " + Thread.currentThread().getName());
        });
        
        // âŒ é”™è¯¯ï¼šç›´æ¥è°ƒç”¨run()ï¼Œä¸ä¼šå¯åŠ¨æ–°çº¿ç¨‹
        t.run(); // åœ¨ä¸»çº¿ç¨‹ä¸­æ‰§è¡Œï¼Œè¾“å‡ºï¼šmain
        
        // âœ… æ­£ç¡®ï¼šè°ƒç”¨start()ï¼Œå¯åŠ¨æ–°çº¿ç¨‹
        t.start(); // åœ¨æ–°çº¿ç¨‹ä¸­æ‰§è¡Œï¼Œè¾“å‡ºï¼šThread-0
    }
}
```

### 7.2 æ ¸å¿ƒæ³¨æ„äº‹é¡¹


```java
çº¿ç¨‹ä½¿ç”¨æ³¨æ„äº‹é¡¹
â”œâ”€â”€ 1. ä¸è¦ç›´æ¥è°ƒç”¨ run() æ–¹æ³•
â”‚   â””â”€â”€ run() åªåœ¨å½“å‰çº¿ç¨‹ä¸­æ‰§è¡Œï¼Œä¸ä¼šå¯åŠ¨æ–°çº¿ç¨‹ï¼ˆæ²¡æœ‰å¹¶å‘æ•ˆæœï¼‰
â”‚
â”œâ”€â”€ 2. æ¨èä½¿ç”¨ Runnable ä»£æ›¿ç»§æ‰¿ Thread
â”‚   â”œâ”€â”€ Java åªæ”¯æŒå•ç»§æ‰¿
â”‚   â””â”€â”€ Runnable æ›´çµæ´»ï¼Œç»“æ„æ›´æ¸…æ™°ï¼Œæ˜“äºè§£è€¦
â”‚
â”œâ”€â”€ 3. çº¿ç¨‹æ‰§è¡Œé¡ºåºä¸ç¡®å®š
â”‚   â””â”€â”€ ä¸åº”ä¾èµ–çº¿ç¨‹å¯åŠ¨çš„å…ˆåé¡ºåºæ¥å†³å®šç¨‹åºé€»è¾‘
â”‚
â”œâ”€â”€ 4. é¿å…èµ„æºç«äº‰ï¼Œé€‚å½“åŠ é”
â”‚   â”œâ”€â”€ å¤šçº¿ç¨‹å¯èƒ½å…±äº«å˜é‡
â”‚   â””â”€â”€ éœ€è¦ä½¿ç”¨ synchronized æˆ– Lock ä¿è¯çº¿ç¨‹å®‰å…¨
â”‚
â””â”€â”€ 5. ä¼˜å…ˆä½¿ç”¨çº¿ç¨‹æ± 
    â”œâ”€â”€ å‡å°‘çº¿ç¨‹é¢‘ç¹åˆ›å»º/é”€æ¯çš„å¼€é”€
    â””â”€â”€ åœ¨é«˜å¹¶å‘åœºæ™¯ä¸­æå‡æ€§èƒ½ä¸èµ„æºç®¡ç†èƒ½åŠ›
```

### 7.3 çº¿ç¨‹å®‰å…¨ç¤ºä¾‹


```java
// âš ï¸ çº¿ç¨‹å®‰å…¨é—®é¢˜ç¤ºä¾‹
public class ThreadSafetyExample {
    private int counter = 0; // å…±äº«å˜é‡
    
    // âŒ ä¸å®‰å…¨çš„æ–¹æ³•
    public void unsafeIncrement() {
        counter++; // éåŸå­æ“ä½œï¼Œå¯èƒ½å‡ºç°ç«æ€æ¡ä»¶
    }
    
    // âœ… å®‰å…¨çš„æ–¹æ³•
    public synchronized void safeIncrement() {
        counter++; // ä½¿ç”¨synchronizedä¿è¯çº¿ç¨‹å®‰å…¨
    }
    
    public static void main(String[] args) throws InterruptedException {
        ThreadSafetyExample example = new ThreadSafetyExample();
        
        // åˆ›å»ºå¤šä¸ªçº¿ç¨‹åŒæ—¶æ‰§è¡Œ
        Thread[] threads = new Thread[10];
        for (int i = 0; i < 10; i++) {
            threads[i] = new Thread(() -> {
                for (int j = 0; j < 1000; j++) {
                    example.safeIncrement(); // ä½¿ç”¨å®‰å…¨æ–¹æ³•
                }
            });
            threads[i].start();
        }
        
        // ç­‰å¾…æ‰€æœ‰çº¿ç¨‹å®Œæˆ
        for (Thread t : threads) {
            t.join();
        }
        
        System.out.println("æœ€ç»ˆè®¡æ•°: " + example.counter); // åº”è¯¥æ˜¯10000
    }
}
```

---

## 8. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 8.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒçŸ¥è¯†


```
ğŸ”¸ å››ç§åˆ›å»ºæ–¹å¼ï¼šThreadç±»ã€Runnableæ¥å£ã€Callable+Futureã€çº¿ç¨‹æ± 
ğŸ”¸ æ¨èä¼˜å…ˆçº§ï¼šçº¿ç¨‹æ±  > Callable > Runnable > Threadç±»ç»§æ‰¿
ğŸ”¸ å…³é”®åŒºåˆ«ï¼šè¿”å›å€¼æ”¯æŒã€å¼‚å¸¸å¤„ç†ã€èµ„æºå¤ç”¨ã€è§£è€¦ç¨‹åº¦
ğŸ”¸ ä¼ä¸šå¼€å‘ï¼šä¼˜å…ˆä½¿ç”¨çº¿ç¨‹æ± ï¼Œæ€§èƒ½æ›´é«˜ï¼Œç®¡ç†æ›´æ–¹ä¾¿
ğŸ”¸ å®‰å…¨æ³¨æ„ï¼šé¿å…ç›´æ¥è°ƒç”¨run()ï¼Œæ³¨æ„çº¿ç¨‹å®‰å…¨é—®é¢˜
```

### 8.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ ä¸ºä»€ä¹ˆæ¨èRunnableè€Œä¸æ˜¯Thread**
```
è®¾è®¡åŸåˆ™ï¼š
â€¢ ç»„åˆä¼˜äºç»§æ‰¿
â€¢ å•ä¸€èŒè´£ï¼šä»»åŠ¡ä¸çº¿ç¨‹åˆ†ç¦»
â€¢ çµæ´»æ€§ï¼šæ”¯æŒå¤šç»§æ‰¿ï¼Œå¯å¤ç”¨

å®é™…æ•ˆæœï¼š
â€¢ å¤šä¸ªçº¿ç¨‹å¯å…±äº«åŒä¸€ä¸ªä»»åŠ¡å¯¹è±¡
â€¢ ä»£ç ç»“æ„æ›´æ¸…æ™°
â€¢ ä¾¿äºå•å…ƒæµ‹è¯•
```

**ğŸ”¹ çº¿ç¨‹æ± çš„æ ¸å¿ƒä»·å€¼**
```
æ€§èƒ½æå‡ï¼š
â€¢ é¿å…é¢‘ç¹åˆ›å»ºé”€æ¯çº¿ç¨‹çš„å¼€é”€
â€¢ æ§åˆ¶å¹¶å‘çº¿ç¨‹æ•°é‡
â€¢ æé«˜å“åº”é€Ÿåº¦

èµ„æºç®¡ç†ï¼š
â€¢ ç»Ÿä¸€çš„ç”Ÿå‘½å‘¨æœŸç®¡ç†
â€¢ é˜²æ­¢èµ„æºæ³„æ¼
â€¢ ä¾¿äºç›‘æ§å’Œè°ƒä¼˜
```

### 8.3 æœ€ä½³å®è·µå»ºè®®


- **å­¦ä¹ é˜¶æ®µ**ï¼šä»Threadå’ŒRunnableå¼€å§‹ç†è§£åŸºæœ¬æ¦‚å¿µ
- **é¡¹ç›®å¼€å‘**ï¼šä¼˜å…ˆä½¿ç”¨çº¿ç¨‹æ± ï¼Œæ ¹æ®éœ€æ±‚é€‰æ‹©åˆé€‚ç±»å‹
- **å¼‚æ­¥ä»»åŠ¡**ï¼šéœ€è¦è¿”å›å€¼æ—¶ä½¿ç”¨Callable+Future
- **èµ„æºç®¡ç†**ï¼šå§‹ç»ˆè®°å¾—å…³é—­çº¿ç¨‹æ± ï¼Œé¿å…èµ„æºæ³„æ¼

**æ ¸å¿ƒè®°å¿†**ï¼š
- Threadç»§æ‰¿ç®€å•ä½†å—é™ï¼ŒRunnableè§£è€¦æ›´çµæ´»
- Callableæœ‰è¿”å›å€¼å’Œå¼‚å¸¸ï¼Œçº¿ç¨‹æ± æ€§èƒ½æœ€ä¼˜ç§€
- ä¼ä¸šå¼€å‘é€‰çº¿ç¨‹æ± ï¼Œç®€å•æµ‹è¯•ç”¨Runnable
- å®‰å…¨ç¬¬ä¸€è®°å¿ƒå¤´ï¼Œrunå’Œstartè¦åˆ†æ¸…