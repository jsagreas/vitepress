---
title: 4ã€æ³¨è§£çš„ä½¿ç”¨åœºæ™¯
---
## ğŸ“š ç›®å½•

1. [æ ‡è®°ä¿¡æ¯ï¼ˆè¯­ä¹‰æ€§æç¤ºï¼‰](#1-æ ‡è®°ä¿¡æ¯è¯­ä¹‰æ€§æç¤º)
2. [é…ç½®æ›¿ä»£ï¼ˆé…ç½®é©±åŠ¨å¼€å‘ï¼‰](#2-é…ç½®æ›¿ä»£é…ç½®é©±åŠ¨å¼€å‘)
3. [å…ƒæ•°æ®æè¿°ï¼ˆæ˜ å°„ä¸ç»‘å®šï¼‰](#3-å…ƒæ•°æ®æè¿°æ˜ å°„ä¸ç»‘å®š)
4. [AOPæ‹¦æˆªå™¨è§¦å‘ç‚¹](#4-aopæ‹¦æˆªå™¨è§¦å‘ç‚¹)
5. [ä¾èµ–æ³¨å…¥ä¸è‡ªåŠ¨è£…é…](#5-ä¾èµ–æ³¨å…¥ä¸è‡ªåŠ¨è£…é…)
6. [æƒé™ä¸å®‰å…¨æ§åˆ¶](#6-æƒé™ä¸å®‰å…¨æ§åˆ¶)
7. [åºåˆ—åŒ–ä¸ååºåˆ—åŒ–æ§åˆ¶](#7-åºåˆ—åŒ–ä¸ååºåˆ—åŒ–æ§åˆ¶)
8. [å‚æ•°æ ¡éªŒä¸çº¦æŸå£°æ˜](#8-å‚æ•°æ ¡éªŒä¸çº¦æŸå£°æ˜)
9. [ä»£ç ç”Ÿæˆä¸æ¡†æ¶å¤„ç†](#9-ä»£ç ç”Ÿæˆä¸æ¡†æ¶å¤„ç†)
10. [æ„å»ºå·¥å…·ä¸æ’ä»¶æ”¯æŒ](#10-æ„å»ºå·¥å…·ä¸æ’ä»¶æ”¯æŒ)
11. [ä½¿ç”¨åœºæ™¯æ€»ç»“](#11-ä½¿ç”¨åœºæ™¯æ€»ç»“)

---

## 1. ğŸ·ï¸ æ ‡è®°ä¿¡æ¯ï¼ˆè¯­ä¹‰æ€§æç¤ºï¼‰


### 1.1 æ ¸å¿ƒä½œç”¨

**å¢å¼ºä»£ç è¯­ä¹‰ï¼Œä¾›ç¼–è¯‘å™¨æˆ–å¼€å‘è€…å·¥å…·è¯†åˆ«æç¤º**

### 1.2 å¸¸è§æ³¨è§£åŠåº”ç”¨

```java
// @Override - æ ‡è¯†æ–¹æ³•é‡å†™
public class Child extends Parent {
    @Override
    public void method() {  // ç¼–è¯‘å™¨æ ¡éªŒçˆ¶ç±»æ˜¯å¦å­˜åœ¨æ­¤æ–¹æ³•
        super.method();
    }
}

// @Deprecated - æ ‡è®°è¿‡æ—¶API
@Deprecated
public void oldMethod() {
    // ä½¿ç”¨æ—¶äº§ç”Ÿç¼–è¯‘å™¨è­¦å‘Š
}

// @SuppressWarnings - æŠ‘åˆ¶ç¼–è¯‘å™¨è­¦å‘Š
@SuppressWarnings({"unchecked", "rawtypes"})
public List getRawList() {
    return new ArrayList();  // æŠ‘åˆ¶åŸå§‹ç±»å‹è­¦å‘Š
}
```

### 1.3 ç‰¹ç‚¹ä¸ä¼˜åŠ¿

```
ğŸ”¸ ç”Ÿæ•ˆé˜¶æ®µï¼šç¼–è¯‘æœŸ
ğŸ”¸ é€‚ç”¨å±‚çº§ï¼šç±»ã€æ–¹æ³•ã€å­—æ®µ
ğŸ”¸ æ ¸å¿ƒä¼˜åŠ¿ï¼š
  â€¢ æå‡ä»£ç å®‰å…¨æ€§ï¼ˆç¼–è¯‘æœŸé”™è¯¯æ£€æµ‹ï¼‰
  â€¢ æé«˜ä»£ç å¯è¯»æ€§
  â€¢ å¢å¼ºå·¥å…·å‹å¥½æ€§ï¼ˆIDEæ™ºèƒ½æç¤ºï¼‰
```

---

## 2. âš™ï¸ é…ç½®æ›¿ä»£ï¼ˆé…ç½®é©±åŠ¨å¼€å‘ï¼‰


### 2.1 è®¾è®¡ç†å¿µ

**ä½¿ç”¨æ³¨è§£ä»£æ›¿ä¼ ç»ŸXMLé…ç½®ï¼Œæé«˜å¼€å‘æ•ˆç‡ä¸çµæ´»æ€§**

### 2.2 Springæ¡†æ¶é…ç½®æ³¨è§£

```java
// æ§åˆ¶å™¨æ˜ å°„ - æ›¿ä»£XMLè·¯ç”±é…ç½®
@RestController
@RequestMapping("/api/users")
public class UserController {
    
    @GetMapping("/{id}")
    public User getUser(@PathVariable Long id) {
        return userService.findById(id);
    }
    
    @PostMapping
    public User createUser(@RequestBody @Valid User user) {
        return userService.save(user);
    }
}

// Javaé…ç½®ç±» - æ›¿ä»£XML Beané…ç½®
@Configuration
@ComponentScan(basePackages = "com.example")
@EnableCaching
public class AppConfig {
    
    @Bean
    public DataSource dataSource() {
        return new HikariDataSource();
    }
}

// Spring Bootåº”ç”¨å…¥å£
@SpringBootApplication  // ç»„åˆæ³¨è§£ï¼š@Configuration + @EnableAutoConfiguration + @ComponentScan
public class Application {
    public static void main(String[] args) {
        SpringApplication.run(Application.class, args);
    }
}
```

### 2.3 é…ç½®å¯¹æ¯”åˆ†æ


| **ä¼ ç»ŸXMLé…ç½®** | **æ³¨è§£é©±åŠ¨é…ç½®** |
|---------------|----------------|
| `å†—é•¿çš„XMLæ–‡ä»¶` | `ç®€æ´çš„æ³¨è§£å£°æ˜` |
| `é…ç½®ä¸ä»£ç åˆ†ç¦»` | `é…ç½®ä¸ä»£ç å°±è¿‘` |
| `ä¿®æ”¹éœ€è¦é‡å¯` | `çƒ­éƒ¨ç½²å‹å¥½` |
| `ç±»å‹å®‰å…¨æ€§å¼±` | `ç¼–è¯‘æœŸç±»å‹æ£€æŸ¥` |

---

## 3. ğŸ“Š å…ƒæ•°æ®æè¿°ï¼ˆæ˜ å°„ä¸ç»‘å®šï¼‰


### 3.1 æ ¸å¿ƒåŠŸèƒ½

**ä¸ºå­—æ®µã€ç±»ã€æ–¹æ³•æä¾›ç»“æ„è¯´æ˜ï¼Œä¾›æ¡†æ¶è¿è¡Œæ—¶è§£æä¸ç»‘å®š**

### 3.2 ORMæ˜ å°„ç¤ºä¾‹ï¼ˆJPAï¼‰

```java
@Entity
@Table(name = "t_user")
public class User {
    
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;
    
    @Column(name = "user_name", nullable = false, length = 50)
    private String username;
    
    @Column(name = "email", unique = true)
    private String email;
    
    @Temporal(TemporalType.TIMESTAMP)
    @Column(name = "create_time")
    private Date createTime;
    
    // getter/setterçœç•¥
}
```

### 3.3 JSONåºåˆ—åŒ–æ§åˆ¶ï¼ˆJacksonï¼‰

```java
public class UserDTO {
    
    @JsonProperty("user_id")
    private Long id;
    
    @JsonProperty("user_name") 
    private String username;
    
    @JsonIgnore  // æ•æ„Ÿä¿¡æ¯ä¸å‚ä¸åºåˆ—åŒ–
    private String password;
    
    @JsonFormat(pattern = "yyyy-MM-dd HH:mm:ss", timezone = "GMT+8")
    private Date createTime;
}
```

### 3.4 XMLæ˜ å°„ç¤ºä¾‹ï¼ˆJAXBï¼‰

```java
@XmlRootElement(name = "user")
public class User {
    
    @XmlElement(name = "user-id")
    private Long id;
    
    @XmlElement(name = "user-name")
    private String username;
    
    @XmlTransient  // ä¸å‚ä¸XMLæ˜ å°„
    private String password;
}
```

---

## 4. ğŸ”„ AOPæ‹¦æˆªå™¨è§¦å‘ç‚¹


### 4.1 æ¨ªåˆ‡å…³æ³¨ç‚¹ç¼–ç¨‹

**é€šè¿‡æ³¨è§£å®šä¹‰åˆ‡ç‚¹ä½ç½®ï¼Œå®ç°æ¨ªå‘é€»è¾‘å¢å¼º**

### 4.2 Spring AOPåº”ç”¨

```java
// å£°æ˜å¼äº‹åŠ¡ç®¡ç†
@Service
@Transactional
public class UserService {
    
    @Transactional(readOnly = true)
    public User findById(Long id) {
        return userRepository.findById(id);
    }
    
    @Transactional(rollbackFor = Exception.class)
    public User save(User user) {
        return userRepository.save(user);
    }
}

// è‡ªå®šä¹‰åˆ‡é¢æ³¨è§£
@Target(ElementType.METHOD)
@Retention(RetentionPolicy.RUNTIME)
public @interface LogExecution {
    String value() default "";
}

// åˆ‡é¢å®ç°
@Aspect
@Component
public class LogAspect {
    
    @Around("@annotation(logExecution)")
    public Object logAround(ProceedingJoinPoint joinPoint, LogExecution logExecution) throws Throwable {
        long startTime = System.currentTimeMillis();
        
        try {
            Object result = joinPoint.proceed();
            long duration = System.currentTimeMillis() - startTime;
            
            System.out.println("æ–¹æ³•æ‰§è¡Œ: " + joinPoint.getSignature().getName() + 
                             ", è€—æ—¶: " + duration + "ms, æè¿°: " + logExecution.value());
            return result;
        } catch (Exception e) {
            System.out.println("æ–¹æ³•å¼‚å¸¸: " + e.getMessage());
            throw e;
        }
    }
}
```

### 4.3 AOPä¼˜åŠ¿åˆ†æ

```
ğŸ”¸ éä¾µå…¥å¼å¢å¼ºï¼šä¸æ”¹å˜åŸä¸šåŠ¡ä»£ç 
ğŸ”¸ æ¨ªåˆ‡å…³æ³¨ç‚¹åˆ†ç¦»ï¼šäº‹åŠ¡ã€æ—¥å¿—ã€æƒé™ç­‰ç»Ÿä¸€å¤„ç†
ğŸ”¸ æé«˜ä»£ç å¤ç”¨æ€§ï¼šä¸€æ¬¡å®šä¹‰ï¼Œå¤šå¤„ä½¿ç”¨
ğŸ”¸ å¢å¼ºå¯ç»´æŠ¤æ€§ï¼šé›†ä¸­ç®¡ç†æ¨ªåˆ‡é€»è¾‘
```

---

## 5. ğŸ’‰ ä¾èµ–æ³¨å…¥ä¸è‡ªåŠ¨è£…é…


### 5.1 IOCå®¹å™¨ç®¡ç†

**æ ‡è®°ä¾èµ–å¯¹è±¡ï¼Œç”±å®¹å™¨è‡ªåŠ¨æ³¨å…¥å¯¹åº”å®ä¾‹**

### 5.2 Springä¾èµ–æ³¨å…¥

```java
@Service
public class UserService {
    
    // å­—æ®µæ³¨å…¥ï¼ˆç®€æ´ï¼Œä½†ä¸åˆ©äºæµ‹è¯•ï¼‰
    @Autowired
    private UserRepository userRepository;
    
    // æ„é€ å™¨æ³¨å…¥ï¼ˆæ¨èï¼Œæ”¯æŒä¸å¯å˜å¯¹è±¡ï¼‰
    private final EmailService emailService;
    private final CacheManager cacheManager;
    
    @Autowired
    public UserService(EmailService emailService, CacheManager cacheManager) {
        this.emailService = emailService;
        this.cacheManager = cacheManager;
    }
    
    // æŒ‰åç§°æ³¨å…¥ç‰¹å®šBean
    @Autowired
    @Qualifier("redisCache")
    private Cache cache;
    
    // æ³¨å…¥é…ç½®å€¼
    @Value("${app.version}")
    private String appVersion;
    
    @Value("${spring.datasource.url}")
    private String datasourceUrl;
}
```

### 5.3 JSRæ ‡å‡†æ³¨è§£

```java
@Service
public class OrderService {
    
    // JSR-330æ ‡å‡† - ç­‰ä»·äº@Autowired
    @Inject
    private PaymentService paymentService;
    
    // JSR-250æ ‡å‡† - æŒ‰åç§°ä¼˜å…ˆæ³¨å…¥
    @Resource(name = "orderRepository")
    private OrderRepository repository;
    
    // JSR-330æ ‡å‡† - ç­‰ä»·äº@Qualifier
    @Inject
    @Named("alipayService")
    private PaymentService alipayService;
}
```

### 5.4 æ³¨å…¥æ–¹å¼å¯¹æ¯”


| **æ³¨å…¥æ–¹å¼** | **ä¼˜ç‚¹** | **ç¼ºç‚¹** | **é€‚ç”¨åœºæ™¯** |
|------------|---------|---------|------------|
| `å­—æ®µæ³¨å…¥` | `ä»£ç ç®€æ´` | `ä¸åˆ©äºå•å…ƒæµ‹è¯•` | `å¿«é€ŸåŸå‹å¼€å‘` |
| `æ„é€ å™¨æ³¨å…¥` | `æ”¯æŒä¸å¯å˜å¯¹è±¡ï¼Œæ˜“æµ‹è¯•` | `æ„é€ å™¨å‚æ•°å¯èƒ½è¿‡å¤š` | `ç”Ÿäº§ç¯å¢ƒæ¨è` |
| `Setteræ³¨å…¥` | `æ”¯æŒå¯é€‰ä¾èµ–` | `å¯¹è±¡çŠ¶æ€å¯å˜` | `å¯é€‰ä¾èµ–åœºæ™¯` |

---

## 6. ğŸ”’ æƒé™ä¸å®‰å…¨æ§åˆ¶


### 6.1 å£°æ˜å¼å®‰å…¨æ§åˆ¶

**é€šè¿‡æ³¨è§£å£°æ˜è®¿é—®æƒé™è§„åˆ™ï¼Œå®ç°æ–¹æ³•çº§å®‰å…¨æ§åˆ¶**

### 6.2 Spring Securityåº”ç”¨

```java
@RestController
@RequestMapping("/api/admin")
public class AdminController {
    
    // åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶
    @GetMapping("/users")
    @Secured("ROLE_ADMIN")
    public List<User> getAllUsers() {
        return userService.findAll();
    }
    
    // åŸºäºæƒé™è¡¨è¾¾å¼çš„æ§åˆ¶
    @DeleteMapping("/users/{id}")
    @PreAuthorize("hasRole('ADMIN') and @userService.isOwner(#id, authentication.name)")
    public void deleteUser(@PathVariable Long id) {
        userService.deleteById(id);
    }
    
    // æ–¹æ³•æ‰§è¡Œåçš„æƒé™æ§åˆ¶
    @GetMapping("/users/{id}")
    @PostAuthorize("returnObject.username == authentication.name or hasRole('ADMIN')")
    public User getUser(@PathVariable Long id) {
        return userService.findById(id);
    }
}

@Service
public class UserService {
    
    // JSR-250æ ‡å‡†æ³¨è§£
    @RolesAllowed({"ADMIN", "MANAGER"})
    public void updateUserRole(Long userId, String role) {
        // æ›´æ–°ç”¨æˆ·è§’è‰²
    }
    
    @DenyAll  // æ‹’ç»æ‰€æœ‰è®¿é—®
    public void dangerousOperation() {
        // å±é™©æ“ä½œï¼Œç¦æ­¢è®¿é—®
    }
}
```

### 6.3 å®‰å…¨æ§åˆ¶ä¼˜åŠ¿

```
ğŸ”¸ å£°æ˜å¼é…ç½®ï¼šæ›¿ä»£ç¡¬ç¼–ç æƒé™åˆ¤æ–­
ğŸ”¸ è¡¨è¾¾å¼æ”¯æŒï¼šå¤æ‚æƒé™é€»è¾‘çµæ´»é…ç½®
ğŸ”¸ æ¡†æ¶é›†æˆï¼šä¸Spring Securityæ— ç¼é›†æˆ
ğŸ”¸ ç»Ÿä¸€ç®¡ç†ï¼šé›†ä¸­åŒ–æƒé™é…ç½®ä¸ç»´æŠ¤
```

---

## 7. ğŸ“ åºåˆ—åŒ–ä¸ååºåˆ—åŒ–æ§åˆ¶


### 7.1 æ•°æ®æ ¼å¼æ§åˆ¶

**æ§åˆ¶å¯¹è±¡åœ¨JSONã€XMLç­‰æ ¼å¼ä¸­çš„åºåˆ—åŒ–è¡Œä¸º**

### 7.2 Jackson JSONæ§åˆ¶

```java
@JsonInclude(JsonInclude.Include.NON_NULL)  // å¿½ç•¥nullå€¼
public class UserResponse {
    
    private Long id;
    
    @JsonProperty("user_name")  // è‡ªå®šä¹‰JSONå­—æ®µå
    private String username;
    
    @JsonIgnore  // æ•æ„Ÿä¿¡æ¯ä¸åºåˆ—åŒ–
    private String password;
    
    @JsonFormat(pattern = "yyyy-MM-dd HH:mm:ss")
    private Date createTime;
    
    @JsonInclude(JsonInclude.Include.NON_EMPTY)
    private List<String> roles;
    
    // æ¡ä»¶åºåˆ—åŒ–
    @JsonIgnore
    public String getPassword() {
        return password;
    }
    
    @JsonProperty(access = JsonProperty.Access.WRITE_ONLY)
    public void setPassword(String password) {
        this.password = password;
    }
}
```

### 7.3 JAXB XMLæ§åˆ¶

```java
@XmlRootElement(name = "user-info")
@XmlAccessorType(XmlAccessType.FIELD)
public class UserXml {
    
    @XmlElement(name = "user-id")
    private Long id;
    
    @XmlElement(name = "full-name")
    private String username;
    
    @XmlTransient  // ä¸å‚ä¸XMLæ˜ å°„
    private String password;
    
    @XmlElementWrapper(name = "role-list")
    @XmlElement(name = "role")
    private List<String> roles;
}
```

---

## 8. âœ… å‚æ•°æ ¡éªŒä¸çº¦æŸå£°æ˜


### 8.1 Bean Validationï¼ˆJSR-303ï¼‰

**ä½¿ç”¨æ³¨è§£å£°æ˜çº¦æŸè§„åˆ™ï¼Œè‡ªåŠ¨æ‰§è¡Œæ ¡éªŒé€»è¾‘**

### 8.2 æ ‡å‡†æ ¡éªŒæ³¨è§£

```java
public class UserCreateRequest {
    
    @NotBlank(message = "ç”¨æˆ·åä¸èƒ½ä¸ºç©º")
    @Size(min = 3, max = 20, message = "ç”¨æˆ·åé•¿åº¦å¿…é¡»åœ¨3-20ä¹‹é—´")
    private String username;
    
    @NotNull(message = "é‚®ç®±ä¸èƒ½ä¸ºç©º")
    @Email(message = "é‚®ç®±æ ¼å¼ä¸æ­£ç¡®")
    private String email;
    
    @NotBlank(message = "å¯†ç ä¸èƒ½ä¸ºç©º")
    @Pattern(regexp = "^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)[a-zA-Z\\d]{8,}$", 
             message = "å¯†ç å¿…é¡»åŒ…å«å¤§å°å†™å­—æ¯å’Œæ•°å­—ï¼Œé•¿åº¦è‡³å°‘8ä½")
    private String password;
    
    @Min(value = 18, message = "å¹´é¾„ä¸èƒ½å°äº18å²")
    @Max(value = 100, message = "å¹´é¾„ä¸èƒ½å¤§äº100å²")
    private Integer age;
    
    @Past(message = "å‡ºç”Ÿæ—¥æœŸå¿…é¡»æ˜¯è¿‡å»çš„æ—¶é—´")
    private Date birthDate;
    
    @DecimalMin(value = "0.0", message = "è–ªèµ„ä¸èƒ½ä¸ºè´Ÿæ•°")
    @Digits(integer = 8, fraction = 2, message = "è–ªèµ„æ ¼å¼ä¸æ­£ç¡®")
    private BigDecimal salary;
}
```

### 8.3 Controllerä¸­çš„æ ¡éªŒ

```java
@RestController
public class UserController {
    
    @PostMapping("/users")
    public ResponseEntity<User> createUser(@Valid @RequestBody UserCreateRequest request) {
        // @Validè§¦å‘æ ¡éªŒï¼Œæ ¡éªŒå¤±è´¥ä¼šæŠ›å‡ºMethodArgumentNotValidException
        User user = userService.createUser(request);
        return ResponseEntity.ok(user);
    }
    
    @GetMapping("/users/{id}")
    public User getUser(@PathVariable @Min(1) Long id) {
        // è·¯å¾„å‚æ•°æ ¡éªŒ
        return userService.findById(id);
    }
}
```

### 8.4 è‡ªå®šä¹‰æ ¡éªŒæ³¨è§£

```java
// è‡ªå®šä¹‰æ‰‹æœºå·æ ¡éªŒæ³¨è§£
@Target({ElementType.FIELD, ElementType.PARAMETER})
@Retention(RetentionPolicy.RUNTIME)
@Constraint(validatedBy = PhoneNumberValidator.class)
public @interface PhoneNumber {
    String message() default "æ‰‹æœºå·æ ¼å¼ä¸æ­£ç¡®";
    Class<?>[] groups() default {};
    Class<? extends Payload>[] payload() default {};
}

// æ ¡éªŒå™¨å®ç°
public class PhoneNumberValidator implements ConstraintValidator<PhoneNumber, String> {
    
    private static final Pattern PHONE_PATTERN = 
        Pattern.compile("^1[3-9]\\d{9}$");
    
    @Override
    public boolean isValid(String value, ConstraintValidatorContext context) {
        if (value == null) return true;  // å¯ä»¥ä¸ºç©ºï¼Œç”±@NotNullæ§åˆ¶
        return PHONE_PATTERN.matcher(value).matches();
    }
}
```

---

## 9. ğŸ› ï¸ ä»£ç ç”Ÿæˆä¸æ¡†æ¶å¤„ç†


### 9.1 ç¼–è¯‘æœŸä»£ç ç”Ÿæˆ

**æ ‡è®°ç±»/å­—æ®µ/æ–¹æ³•ï¼Œä¾›ç¼–è¯‘æœŸå·¥å…·è¿›è¡Œä»£ç ç”Ÿæˆ**

### 9.2 Lombokæ ·æ¿ä»£ç ç”Ÿæˆ

```java
@Data  // è‡ªåŠ¨ç”Ÿæˆgetter/setter/toString/equals/hashCode
@Builder  // ç”Ÿæˆå»ºé€ è€…æ¨¡å¼
@NoArgsConstructor  // æ— å‚æ„é€ å™¨
@AllArgsConstructor  // å…¨å‚æ„é€ å™¨
public class User {
    
    private Long id;
    
    @NonNull  // ç”Ÿæˆnullæ£€æŸ¥
    private String username;
    
    private String email;
    
    @Builder.Default  // é»˜è®¤å€¼
    private Boolean enabled = true;
    
    // Lombokè‡ªåŠ¨ç”Ÿæˆä»¥ä¸‹ä»£ç ï¼š
    // public String getUsername() { return username; }
    // public void setUsername(String username) { this.username = username; }
    // public static UserBuilder builder() { return new UserBuilder(); }
    // ... å…¶ä»–æ–¹æ³•
}
```

### 9.3 MapStructå¯¹è±¡æ˜ å°„

```java
@Mapper(componentModel = "spring")
public interface UserMapper {
    
    @Mapping(source = "username", target = "name")
    @Mapping(source = "email", target = "emailAddress")
    UserDTO toDto(User user);
    
    @Mapping(source = "name", target = "username")
    @Mapping(source = "emailAddress", target = "email")
    User toEntity(UserDTO dto);
    
    List<UserDTO> toDtoList(List<User> users);
}

// MapStructç¼–è¯‘æœŸè‡ªåŠ¨ç”Ÿæˆå®ç°ç±»ï¼š
/*
@Component
public class UserMapperImpl implements UserMapper {
    @Override
    public UserDTO toDto(User user) {
        if (user == null) return null;
        
        UserDTO dto = new UserDTO();
        dto.setName(user.getUsername());
        dto.setEmailAddress(user.getEmail());
        return dto;
    }
    // ... å…¶ä»–æ–¹æ³•å®ç°
}
*/
```

### 9.4 ä»£ç ç”Ÿæˆä¼˜åŠ¿

```
ğŸ”¸ å‡å°‘æ ·æ¿ä»£ç ï¼šè‡ªåŠ¨ç”Ÿæˆgetter/setterç­‰
ğŸ”¸ æå‡å¼€å‘æ•ˆç‡ï¼šä¸“æ³¨ä¸šåŠ¡é€»è¾‘å¼€å‘
ğŸ”¸ ä¿æŒä»£ç æ•´æ´ï¼šé¿å…å†—ä½™ä»£ç 
ğŸ”¸ ç¼–è¯‘æœŸå¤„ç†ï¼šæ— è¿è¡Œæ—¶æ€§èƒ½æŸè€—
```

---

## 10. ğŸ”§ æ„å»ºå·¥å…·ä¸æ’ä»¶æ”¯æŒ


### 10.1 Mavenæ’ä»¶å¼€å‘

```java
@Mojo(name = "generate-code", defaultPhase = LifecyclePhase.GENERATE_SOURCES)
public class CodeGeneratorMojo extends AbstractMojo {
    
    @Parameter(property = "templatePath", required = true)
    private String templatePath;
    
    @Parameter(property = "outputDir", defaultValue = "${project.build.directory}/generated-sources")
    private File outputDirectory;
    
    @Parameter(defaultValue = "${project}")
    private MavenProject project;
    
    @Override
    public void execute() throws MojoExecutionException {
        getLog().info("å¼€å§‹ç”Ÿæˆä»£ç ...");
        
        if (!outputDirectory.exists()) {
            outputDirectory.mkdirs();
        }
        
        // ä»£ç ç”Ÿæˆé€»è¾‘
        generateCode();
        
        // æ·»åŠ ç”Ÿæˆçš„æºç åˆ°ç¼–è¯‘è·¯å¾„
        project.addCompileSourceRoot(outputDirectory.getPath());
    }
    
    private void generateCode() {
        // å…·ä½“çš„ä»£ç ç”Ÿæˆå®ç°
    }
}
```

### 10.2 Gradleä»»åŠ¡å®šä¹‰

```java
public class CodeGenTask extends DefaultTask {
    
    @Input
    private String templateDir;
    
    @OutputDirectory
    private File outputDir;
    
    @TaskAction
    public void generateCode() {
        getLogger().info("Executing code generation task");
        
        // ç¡®ä¿è¾“å‡ºç›®å½•å­˜åœ¨
        if (!outputDir.exists()) {
            outputDir.mkdirs();
        }
        
        // æ‰§è¡Œä»£ç ç”Ÿæˆé€»è¾‘
        performCodeGeneration();
    }
    
    private void performCodeGeneration() {
        // å…·ä½“å®ç°
    }
}
```

---

## 11. ğŸ“‹ ä½¿ç”¨åœºæ™¯æ€»ç»“


### 11.1 æ³¨è§£åœºæ™¯åˆ†ç±»å›¾

```
æ³¨è§£ä½¿ç”¨åœºæ™¯åˆ†ç±»
â”œâ”€â”€ ç¼–è¯‘æœŸå¤„ç†
â”‚   â”œâ”€â”€ è¯­ä¹‰æ ‡è®°ï¼š@Overrideã€@Deprecated
â”‚   â”œâ”€â”€ ä»£ç ç”Ÿæˆï¼š@Dataã€@Builderã€@Mapper
â”‚   â””â”€â”€ ç¼–è¯‘æ£€æŸ¥ï¼š@SuppressWarnings
â”‚
â”œâ”€â”€ è¿è¡ŒæœŸå¤„ç†
â”‚   â”œâ”€â”€ é…ç½®ç®¡ç†ï¼š@Configurationã€@Bean
â”‚   â”œâ”€â”€ ä¾èµ–æ³¨å…¥ï¼š@Autowiredã€@Inject
â”‚   â”œâ”€â”€ AOPå¢å¼ºï¼š@Transactionalã€@Cacheable
â”‚   â”œâ”€â”€ æƒé™æ§åˆ¶ï¼š@Securedã€@PreAuthorize
â”‚   â”œâ”€â”€ æ•°æ®æ˜ å°„ï¼š@Entityã€@Column
â”‚   â”œâ”€â”€ å‚æ•°æ ¡éªŒï¼š@Validã€@NotNull
â”‚   â””â”€â”€ åºåˆ—åŒ–ï¼š@JsonIgnoreã€@XmlElement
â”‚
â””â”€â”€ æ„å»ºæœŸå¤„ç†
    â”œâ”€â”€ Mavenæ’ä»¶ï¼š@Mojoã€@Parameter
    â””â”€â”€ Gradleä»»åŠ¡ï¼š@TaskActionã€@Input
```

### 11.2 ç»´åº¦å¯¹æ¯”è¡¨


| **ä½¿ç”¨åœºæ™¯** | **ç¤ºä¾‹æ³¨è§£** | **ç”Ÿæ•ˆé˜¶æ®µ** | **ä½¿ç”¨ç›®æ ‡** | **ä¸»è¦ä½œç”¨** |
|------------|------------|------------|------------|------------|
| `è¯­ä¹‰æç¤º` | `@Override, @Deprecated` | `ç¼–è¯‘æœŸ` | `æ–¹æ³•/ç±»/å­—æ®µ` | `ç¼–è¯‘æ£€æŸ¥ï¼Œè¯­ä¹‰å¢å¼º` |
| `é…ç½®æ›¿ä»£` | `@RequestMapping, @Bean` | `è¿è¡ŒæœŸ` | `ç±»/æ–¹æ³•` | `æ›¿ä»£XMLé…ç½®` |
| `å…ƒæ•°æ®æ˜ å°„` | `@Entity, @Column` | `è¿è¡ŒæœŸ` | `ç±»/å­—æ®µ` | `ORMæ˜ å°„ï¼Œæ•°æ®ç»‘å®š` |
| `AOPæ‹¦æˆªç‚¹` | `@Transactional, @Cacheable` | `è¿è¡ŒæœŸ` | `æ–¹æ³•/ç±»` | `æ¨ªåˆ‡å…³æ³¨ç‚¹å¢å¼º` |
| `è‡ªåŠ¨æ³¨å…¥` | `@Autowired, @Inject` | `è¿è¡ŒæœŸ` | `å­—æ®µ/æ„é€ å™¨` | `ä¾èµ–ç®¡ç†` |
| `å‚æ•°æ ¡éªŒ` | `@NotNull, @Valid` | `è¿è¡ŒæœŸ` | `å­—æ®µ/å‚æ•°` | `æ•°æ®æœ‰æ•ˆæ€§æ£€æŸ¥` |
| `åºåˆ—åŒ–æ§åˆ¶` | `@JsonIgnore, @XmlRoot` | `è¿è¡ŒæœŸ` | `å­—æ®µ/ç±»` | `æ•°æ®æ ¼å¼æ§åˆ¶` |
| `æƒé™æ§åˆ¶` | `@Secured, @PreAuthorize` | `è¿è¡ŒæœŸ` | `ç±»/æ–¹æ³•` | `å®‰å…¨è®¿é—®æ§åˆ¶` |
| `ç¼–è¯‘æœŸå¤„ç†` | `@Data, @Builder` | `ç¼–è¯‘æœŸ` | `ç±»/å­—æ®µ` | `ä»£ç è‡ªåŠ¨ç”Ÿæˆ` |
| `æ„å»ºå·¥å…·` | `@Mojo, @TaskAction` | `æ„å»ºæœŸ` | `æ’ä»¶ç±»/æ–¹æ³•` | `æ„å»ºä»»åŠ¡å®šä¹‰` |

### 11.3 é€‰æ‹©æŒ‡å¯¼åŸåˆ™

```
ğŸ”¸ ç¼–è¯‘æœŸæ³¨è§£ï¼šé€‰æ‹©SOURCEä¿ç•™ç­–ç•¥ï¼Œç”¨äºä»£ç ç”Ÿæˆå’Œç¼–è¯‘æ£€æŸ¥
ğŸ”¸ è¿è¡ŒæœŸæ³¨è§£ï¼šé€‰æ‹©RUNTIMEä¿ç•™ç­–ç•¥ï¼Œæ”¯æŒåå°„è¯»å–
ğŸ”¸ æ¡†æ¶é›†æˆï¼šéµå¾ªæ¡†æ¶çº¦å®šï¼Œä½¿ç”¨æ ‡å‡†æ³¨è§£æé«˜å…¼å®¹æ€§
ğŸ”¸ è‡ªå®šä¹‰æ³¨è§£ï¼šæ˜ç¡®ç›®æ ‡èŒƒå›´(@Target)å’Œç”Ÿå‘½å‘¨æœŸ(@Retention)
ğŸ”¸ æ€§èƒ½è€ƒè™‘ï¼šç¼–è¯‘æœŸå¤„ç†ä¼˜äºè¿è¡ŒæœŸï¼Œå‡å°‘åå°„å¼€é”€
```

