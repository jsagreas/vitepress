---
title: 4ã€å­—ç¬¦æµ
---
## ğŸ“š ç›®å½•

1. [å­—ç¬¦æµå¸¸ç”¨ç±»æ¦‚è§ˆ](#1-å­—ç¬¦æµå¸¸ç”¨ç±»æ¦‚è§ˆ)
2. [æ–‡ä»¶å­—ç¬¦æµ](#2-æ–‡ä»¶å­—ç¬¦æµ)
3. [ç¼“å†²å­—ç¬¦æµ](#3-ç¼“å†²å­—ç¬¦æµ)
4. [æ¡¥æ¥å­—ç¬¦æµ](#4-æ¡¥æ¥å­—ç¬¦æµ)
5. [æ‰“å°å­—ç¬¦æµ](#5-æ‰“å°å­—ç¬¦æµ)
6. [å­—ç¬¦ä¸²å­—ç¬¦æµ](#6-å­—ç¬¦ä¸²å­—ç¬¦æµ)
7. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#7-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ“Š å­—ç¬¦æµå¸¸ç”¨ç±»æ¦‚è§ˆ


### 1.1 å­—ç¬¦æµä½“ç³»ç»“æ„


```
å­—ç¬¦æµå¸¸ç”¨ç±»ï¼ˆä¸“é—¨å¤„ç†æ–‡æœ¬æ•°æ®ï¼š.txt, .java, .xml, .html ç­‰ï¼‰
â”œâ”€â”€ FileReaderï¼ˆè¯»å–ï¼‰ & FileWriterï¼ˆå†™å…¥ï¼‰
â”‚   â”œâ”€â”€ ç±»å‹ï¼šèŠ‚ç‚¹æµ
â”‚   â”œâ”€â”€ åŠŸèƒ½ï¼š
â”‚       â”œâ”€â”€ ç›´æ¥ä»æ–‡æœ¬æ–‡ä»¶è¯»å–å­—ç¬¦ / å‘æ–‡æœ¬æ–‡ä»¶å†™å…¥å­—ç¬¦
â”‚       â””â”€â”€ ä½¿ç”¨ç³»ç»Ÿé»˜è®¤ç¼–ç ï¼ˆä¸å¯æŒ‡å®šç¼–ç ï¼‰
â”‚   â””â”€â”€ ä½¿ç”¨åœºæ™¯ï¼š
â”‚       â”œâ”€â”€ ç®€å•è¯»å–æˆ–å†™å…¥å°å‹æ–‡æœ¬æ–‡ä»¶
â”‚       â””â”€â”€ éè·¨å¹³å°åº”ç”¨ä¸­å¿«é€Ÿè¯»å†™
â”‚
â”œâ”€â”€ BufferedReaderï¼ˆè¯»å–ï¼‰ & BufferedWriterï¼ˆå†™å…¥ï¼‰
â”‚   â”œâ”€â”€ ç±»å‹ï¼šå¤„ç†æµï¼ˆåŒ…è£… FileReader / FileWriterï¼‰
â”‚   â”œâ”€â”€ åŠŸèƒ½ï¼š
â”‚       â”œâ”€â”€ æä¾›ç¼“å†²åŠŸèƒ½ï¼Œæé«˜è¯»å–/å†™å…¥æ€§èƒ½
â”‚       â”œâ”€â”€ BufferedReader æ”¯æŒ readLine()
â”‚       â””â”€â”€ BufferedWriter æ”¯æŒ newLine()
â”‚   â””â”€â”€ ä½¿ç”¨åœºæ™¯ï¼š
â”‚       â”œâ”€â”€ å¸¸ç”¨äºé€è¡Œè¯»å–æ–‡æœ¬ï¼ˆå¦‚æ—¥å¿—ã€é…ç½®æ–‡ä»¶ï¼‰
â”‚       â””â”€â”€ å¤§æ–‡æœ¬æ–‡ä»¶å†™å…¥ï¼Œå‡å°‘ç£ç›˜æ“ä½œ
â”‚
â”œâ”€â”€ InputStreamReaderï¼ˆå­—èŠ‚â†’å­—ç¬¦ï¼‰ & OutputStreamWriterï¼ˆå­—ç¬¦â†’å­—èŠ‚ï¼‰
â”‚   â”œâ”€â”€ ç±»å‹ï¼šæ¡¥æ¥æµï¼ˆå­—èŠ‚ â†” å­—ç¬¦è½¬æ¢ï¼‰
â”‚   â”œâ”€â”€ åŠŸèƒ½ï¼š
â”‚       â”œâ”€â”€ å¯æŒ‡å®šå­—ç¬¦ç¼–ç ï¼ˆå¦‚ UTF-8ã€GBKï¼‰
â”‚       â”œâ”€â”€ è¿æ¥å­—èŠ‚æµï¼ˆå¦‚ FileInputStream / OutputStreamï¼‰ä¸å­—ç¬¦æµ
â”‚   â””â”€â”€ ä½¿ç”¨åœºæ™¯ï¼š
â”‚       â”œâ”€â”€ è·¨å¹³å°å¼€å‘å¿…é¡»ä½¿ç”¨ï¼ˆé¿å…ä¹±ç ï¼‰
â”‚       â”œâ”€â”€ ä»ç½‘ç»œæˆ–æ–‡ä»¶ä¸­æŒ‰æŒ‡å®šç¼–ç è¯»å–/å†™å…¥æ–‡æœ¬
â”‚
â”œâ”€â”€ PrintWriterï¼ˆè¾“å‡ºï¼‰
â”‚   â”œâ”€â”€ ç±»å‹ï¼šå¤„ç†æµ
â”‚   â”œâ”€â”€ åŠŸèƒ½ï¼š
â”‚       â”œâ”€â”€ æ”¯æŒ println() / printf() ç­‰æ ¼å¼åŒ–è¾“å‡º
â”‚       â”œâ”€â”€ å¯åŒ…è£…å­—ç¬¦æµæˆ–å­—èŠ‚æµ
â”‚   â””â”€â”€ ä½¿ç”¨åœºæ™¯ï¼š
â”‚       â”œâ”€â”€ æ§åˆ¶å°è¾“å‡ºæ›¿ä»£ System.out
â”‚       â””â”€â”€ æ–¹ä¾¿è¾“å‡ºæ ¼å¼åŒ–æ–‡æœ¬åˆ°æ–‡ä»¶ï¼ˆå¦‚æ—¥å¿—æ–‡ä»¶ï¼‰
â”‚
â””â”€â”€ StringReaderï¼ˆè¯»å–å­—ç¬¦ä¸²ï¼‰
    â”œâ”€â”€ ç±»å‹ï¼šå†…å­˜æµ
    â”œâ”€â”€ åŠŸèƒ½ï¼š
    â”‚   â”œâ”€â”€ å°†å­—ç¬¦ä¸²å½“ä½œæ•°æ®æºè¿›è¡Œå­—ç¬¦è¯»å–ï¼ˆæ— éœ€æ–‡ä»¶ï¼‰
    â”‚   â””â”€â”€ æä¾›ä¸ Reader æ¥å£ä¸€è‡´çš„è¯»å–èƒ½åŠ›
    â””â”€â”€ ä½¿ç”¨åœºæ™¯ï¼š
        â”œâ”€â”€ æ¨¡æ‹Ÿæ–‡ä»¶è¯»å–åœºæ™¯ï¼ˆå¦‚æµ‹è¯•ã€è§£æå™¨ç­‰ï¼‰
        â””â”€â”€ åœ¨å†…å­˜ä¸­å¤„ç†å·²æœ‰æ–‡æœ¬ï¼ˆå¦‚ JSON/XML è§£æï¼‰
```

### 1.2 å­—ç¬¦æµåˆ†ç±»ç‰¹ç‚¹


| æµç±»å‹ | **ç‰¹ç‚¹** | **é€‚ç”¨åœºæ™¯** | **ç¼–ç æ”¯æŒ** |
|--------|----------|-------------|-------------|
| ğŸ—‚ï¸ **æ–‡ä»¶æµ** | `ç›´æ¥æ“ä½œæ–‡æœ¬æ–‡ä»¶` | `å°æ–‡ä»¶è¯»å†™` | `ç³»ç»Ÿé»˜è®¤ç¼–ç ` |
| âš¡ **ç¼“å†²æµ** | `å¸¦ç¼“å†²åŒºï¼Œæ”¯æŒè¡Œæ“ä½œ` | `å¤§æ–‡ä»¶ã€é¢‘ç¹è¯»å†™` | `ç»§æ‰¿åŒ…è£…æµç¼–ç ` |
| ğŸ”— **æ¡¥æ¥æµ** | `å­—èŠ‚æµä¸å­—ç¬¦æµè½¬æ¢` | `è·¨å¹³å°ã€ç¼–ç æ§åˆ¶` | `å¯æŒ‡å®šä»»æ„ç¼–ç ` |
| ğŸ–¨ï¸ **æ‰“å°æµ** | `æ ¼å¼åŒ–è¾“å‡º` | `æ—¥å¿—ã€æŠ¥è¡¨ç”Ÿæˆ` | `å¯æŒ‡å®šç¼–ç ` |
| ğŸ’¾ **å†…å­˜æµ** | `åŸºäºå†…å­˜å­—ç¬¦ä¸²` | `æµ‹è¯•ã€æ¨¡æ¿å¤„ç†` | `æ— éœ€è€ƒè™‘ç¼–ç ` |

---

## 2. ğŸ—‚ï¸ æ–‡ä»¶å­—ç¬¦æµ


### 2.1 åŸºæœ¬æ¦‚å¿µ


```java
1. æ–‡ä»¶å­—ç¬¦æµï¼ˆä¸“é—¨ç”¨äºè¯»å–/å†™å…¥çº¯æ–‡æœ¬æ–‡ä»¶ï¼‰
â”œâ”€â”€ 1.1 FileReaderï¼ˆæ–‡ä»¶å­—ç¬¦è¾“å…¥æµï¼‰
â”‚   â”œâ”€â”€ åŠŸèƒ½ï¼šä»æ–‡æœ¬æ–‡ä»¶ä¸­æŒ‰å­—ç¬¦è¯»å–å†…å®¹
â”‚   â”œâ”€â”€ ç‰¹ç‚¹ï¼š
â”‚   â”‚   â”œâ”€â”€ åªèƒ½è¯»å–çº¯æ–‡æœ¬æ–‡ä»¶ï¼ˆä¸èƒ½è¯»å–å›¾ç‰‡ã€éŸ³é¢‘ç­‰ï¼‰
â”‚   â”‚   â”œâ”€â”€ é»˜è®¤ä½¿ç”¨å¹³å°ç¼–ç ï¼ˆWindows é€šå¸¸ä¸º GBKï¼‰
â”‚   â”‚   â”œâ”€â”€ é€‚åˆå°æ–‡æœ¬æ–‡ä»¶è¯»å–ï¼Œå¯é€å­—ç¬¦æˆ–æŒ‰æ•°ç»„è¯»å–
â”‚   â”œâ”€â”€ å¸¸ç”¨æ„é€ æ–¹æ³•ï¼š
â”‚   â”‚   â”œâ”€â”€ new FileReader("a.txt")
â”‚   â”‚   â””â”€â”€ new FileReader(File file)
â”‚   â””â”€â”€ ç¤ºä¾‹ä»£ç ï¼š
â”‚       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       â”‚ FileReader fr = new FileReader("a.txt");       â”‚
â”‚       â”‚ int ch;                                         â”‚
â”‚       â”‚ while ((ch = fr.read()) != -1) {               â”‚
â”‚       â”‚     System.out.print((char) ch);               â”‚
â”‚       â”‚ }                                              â”‚
â”‚       â”‚ fr.close();                                    â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚
â”œâ”€â”€ 1.2 FileWriterï¼ˆæ–‡ä»¶å­—ç¬¦è¾“å‡ºæµï¼‰
â”‚   â”œâ”€â”€ åŠŸèƒ½ï¼šå°†å­—ç¬¦æ•°æ®å†™å…¥æ–‡ä»¶ï¼ˆé»˜è®¤è¦†ç›–ï¼Œå¯è¿½åŠ ï¼‰
â”‚   â”œâ”€â”€ ç‰¹ç‚¹ï¼š
â”‚   â”‚   â”œâ”€â”€ åªèƒ½å†™å…¥çº¯æ–‡æœ¬å†…å®¹ï¼Œä¸èƒ½å¤„ç†äºŒè¿›åˆ¶æ•°æ®
â”‚   â”‚   â”œâ”€â”€ é»˜è®¤ç¼–ç ä¸ºå¹³å°ç¼–ç ï¼ˆä¸å¯æŒ‡å®š UTF-8ï¼‰
â”‚   â”‚   â”œâ”€â”€ æ”¯æŒ `write(String)`ã€`write(char[])`
â”‚   â”œâ”€â”€ å¸¸ç”¨æ„é€ æ–¹æ³•ï¼š
â”‚   â”‚   â”œâ”€â”€ new FileWriter("a.txt")           // è¦†ç›–å†™å…¥
â”‚   â”‚   â””â”€â”€ new FileWriter("a.txt", true)     // è¿½åŠ å†™å…¥
â”‚   â””â”€â”€ ç¤ºä¾‹ä»£ç ï¼š
â”‚       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       â”‚ FileWriter fw = new FileWriter("a.txt", true); â”‚
â”‚       â”‚ fw.write("Hello, ä¸–ç•Œ\n");                      â”‚
â”‚       â”‚ fw.write('A');                                  â”‚
â”‚       â”‚ fw.close();                                     â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚
â””â”€â”€ å°ç»“ä¸æ³¨æ„äº‹é¡¹
    â”œâ”€â”€ é€‚ç”¨ç±»å‹ï¼š
    â”‚   â”œâ”€â”€ ä»…é™æ–‡æœ¬å†…å®¹ï¼ˆå¦‚æ—¥å¿—ã€é…ç½®ã€ä»£ç æ–‡ä»¶ç­‰ï¼‰
    â”‚   â””â”€â”€ äºŒè¿›åˆ¶æ–‡ä»¶è¯·ç”¨ FileInputStream/FileOutputStream
    â”œâ”€â”€ ç¼–ç é—®é¢˜ï¼š
    â”‚   â”œâ”€â”€ ä¸æ”¯æŒæ˜¾å¼æŒ‡å®šç¼–ç ï¼ˆé»˜è®¤ç³»ç»Ÿç¼–ç ï¼Œå¯èƒ½ä¹±ç ï¼‰
    â”‚   â””â”€â”€ è‹¥éœ€ UTF-8 ç­‰ç¼–ç  â†’ ä½¿ç”¨ InputStreamReader/Writer
    â”œâ”€â”€ å†™å…¥è¡Œä¸ºï¼š
    â”‚   â”œâ”€â”€ é»˜è®¤è¦†ç›–å†™å…¥
    â”‚   â””â”€â”€ å¦‚éœ€è¿½åŠ  â†’ new FileWriter(path, true)
    â”œâ”€â”€ æ€§èƒ½å»ºè®®ï¼š
    â”‚   â””â”€â”€ å»ºè®®æ­é… BufferedReader/Writer æé«˜æ•ˆç‡ï¼ˆå¤§æ–‡æœ¬ï¼‰
```

### 2.2 å¸¸è§æ„é€ æ–¹æ³•


| æ„é€ æ–¹æ³• | **è¯´æ˜** |
|----------|----------|
| `new FileReader(String path)` | `æ‰“å¼€æ–‡ä»¶è¯»å–å­—ç¬¦` |
| `new FileWriter(String path)` | `å†™å…¥æ–‡ä»¶ï¼ˆé»˜è®¤è¦†ç›–ï¼‰` |
| `new FileWriter(String path, true)` | `å†™å…¥æ–‡ä»¶ï¼ˆè¿½åŠ æ¨¡å¼ï¼‰` |

### 2.3 æ ¸å¿ƒæ–¹æ³•è¯´æ˜


```java
æ–‡ä»¶å­—ç¬¦æµå¸¸ç”¨æ–¹æ³•ï¼ˆFileReader / FileWriterï¼‰
â”œâ”€â”€ FileReaderï¼ˆå­—ç¬¦è¾“å…¥ï¼‰
â”‚   â”œâ”€â”€ read()
â”‚   â”‚   â””â”€â”€ è¯»å–å•ä¸ªå­—ç¬¦ï¼Œè¿”å› int ç±»å‹ï¼ˆ-1 è¡¨ç¤º EOFï¼‰
â”‚   â””â”€â”€ read(char[] buffer)
â”‚       â””â”€â”€ æ‰¹é‡è¯»å–å­—ç¬¦åˆ°æ•°ç»„ï¼Œæé«˜è¯»å–æ•ˆç‡ï¼ˆæ¨èä½¿ç”¨ï¼‰
â”‚
â”œâ”€â”€ FileWriterï¼ˆå­—ç¬¦è¾“å‡ºï¼‰
â”‚   â”œâ”€â”€ write(String str)
â”‚   â”‚   â””â”€â”€ å°†æ•´ä¸ªå­—ç¬¦ä¸²å†™å…¥æ–‡ä»¶
â”‚   â”œâ”€â”€ write(char[] buffer)
â”‚   â”‚   â””â”€â”€ å°†å­—ç¬¦æ•°ç»„å†™å…¥æ–‡ä»¶ï¼ˆæ”¯æŒæ‰¹é‡å†™ï¼‰
â”‚   â”œâ”€â”€ write(int ch)
â”‚   â”‚   â””â”€â”€ å†™å…¥å•ä¸ªå­—ç¬¦ï¼ˆå‚æ•°æ˜¯ intï¼Œä¼šè½¬ä¸º charï¼‰
â”‚   â”œâ”€â”€ flush()
â”‚   â”‚   â””â”€â”€ å¼ºåˆ¶åˆ·æ–°ç¼“å†²åŒºï¼Œå°†å†…å®¹ç«‹å³å†™å…¥æ–‡ä»¶ï¼ˆå¯é€‰ï¼‰
â”‚   â””â”€â”€ close()
â”‚       â””â”€â”€ å…³é—­æµï¼Œé‡Šæ”¾ç³»ç»Ÿèµ„æºï¼Œå¿…è¦æ“ä½œï¼ˆæˆ–ç”¨ try-with-resources è‡ªåŠ¨å…³é—­ï¼‰
â”‚
â””â”€â”€ é€šç”¨è¯´æ˜ï¼š
    â”œâ”€â”€ FileReader ç”¨äºè¯»å–çº¯æ–‡æœ¬æ–‡ä»¶ï¼ˆä¸å¯è¯»äºŒè¿›åˆ¶ï¼‰
    â”œâ”€â”€ FileWriter é»˜è®¤è¦†ç›–å†™å…¥ï¼Œæ„é€ æ–¹æ³•å¯å¯ç”¨è¿½åŠ æ¨¡å¼
    â””â”€â”€ è‹¥éœ€å¤„ç†ç¼–ç æˆ–å¤§æ–‡æœ¬ï¼Œå»ºè®®æ­é… BufferedReader / Writer
```

### 2.4 FileWriter å†™å…¥æ–‡æœ¬æ–‡ä»¶


```java
public class FileWriterDemo {
    public static void main(String[] args) {
        try (FileWriter fw = new FileWriter("example.txt")) {
            fw.write("Hello, ä¸–ç•Œ\n");       // å†™å…¥å­—ç¬¦ä¸²
            fw.write(65);                   // å†™å…¥å­—ç¬¦ 'A'ï¼ˆ65 æ˜¯ A çš„ Unicode ç¼–ç ï¼‰
            fw.write("\nDone writing.\n");  // å†™å…¥æ¢è¡Œ + æ–‡æœ¬
            // flush() å¯çœç•¥ï¼Œå› ä¸º try-with-resources ä¼šè‡ªåŠ¨è°ƒç”¨ close()
        } catch (IOException e) {
            e.printStackTrace();
        }
    }
}

/*
æ³¨æ„äº‹é¡¹ï¼š
â€¢ write(int ch) ä¼šå°†æ•°å­—è½¬æ¢æˆå­—ç¬¦å†™å…¥ï¼ˆ65 â†’ 'A'ï¼‰
â€¢ FileWriter é»˜è®¤ä¼šè¦†ç›–åŸæ–‡ä»¶ï¼Œå¦‚éœ€è¿½åŠ ç”¨ new FileWriter(path, true)
â€¢ æ¨èç”¨ try-with-resources è‡ªåŠ¨å…³é—­æµ
*/
```

### 2.5 FileReader è¯»å–æ–‡æœ¬æ–‡ä»¶


```java
public class FileReaderDemo {
    public static void main(String[] args) {
        try (FileReader fr = new FileReader("example.txt")) {
            int ch;
            while ((ch = fr.read()) != -1) {      // -1 è¡¨ç¤º EOFï¼ˆæ–‡ä»¶ç»“æŸï¼‰
                System.out.print((char) ch);      // å¼ºåˆ¶è½¬æ¢ä¸ºå­—ç¬¦è¾“å‡º
            }
        } catch (IOException e) {
            e.printStackTrace();
        }
    }
}

/*
æ³¨æ„äº‹é¡¹ï¼š
â€¢ read() è¿”å› int ç±»å‹ï¼Œä¸æ˜¯å­—ç¬¦ï¼Œå¿…é¡»åˆ¤æ–­ -1 ç»“æŸ
â€¢ ç”¨ (char) ch å¯å°†è¯»å–çš„ Unicode ç¼–ç è½¬æˆå­—ç¬¦
*/
```

### 2.6 FileReader æ¨èæ–¹å¼ï¼šchar[] æ‰¹é‡è¯»å–


```java
try (FileReader fr = new FileReader("example.txt")) {
    char[] buf = new char[64];
    int len;
    while ((len = fr.read(buf)) != -1) {
        System.out.print(new String(buf, 0, len)); // åªæ‰“å°æœ‰æ•ˆé•¿åº¦éƒ¨åˆ†
    }
}
// ä¼˜ç‚¹ï¼šæ¯”å•å­—ç¬¦è¯»å–æ›´é«˜æ•ˆï¼Œé€‚åˆä¸­å°æ–‡æœ¬æ–‡ä»¶å¤„ç†
```

### 2.7 FileReader + FileWriter ç»¼åˆç¤ºä¾‹


```java
public class FileCharStreamDemo {
    public static void main(String[] args) {
        // å†™å…¥æ–‡ä»¶å†…å®¹
        try (FileWriter fw = new FileWriter("hello.txt")) {
            fw.write("ä½ å¥½ï¼ŒFileWriter æµï¼\n");
            fw.write("è¿½åŠ ç¬¬äºŒè¡Œå†…å®¹ã€‚");
        } catch (IOException e) {
            e.printStackTrace();
        }

        // è¯»å–æ–‡ä»¶å†…å®¹
        try (FileReader fr = new FileReader("hello.txt")) {
            int ch;
            while ((ch = fr.read()) != -1) {
                System.out.print((char) ch);
            }
        } catch (IOException e) {
            e.printStackTrace();
        }
    }
}
```

### 2.8 é€‚ç”¨åœºæ™¯


| åœºæ™¯ç±»å‹ | **æ¨èæ–¹å¼** |
|----------|-------------|
| **å°å‹æ–‡æœ¬æ–‡ä»¶è¯»å–** | `ä½¿ç”¨ FileReader å•å­—ç¬¦ / æ‰¹é‡è¯»å–` |
| **ç”Ÿæˆæ—¥å¿— / æŠ¥è¡¨** | `ä½¿ç”¨ FileWriter + è¿½åŠ æ¨¡å¼` |
| **å†™å…¥é…ç½®æ–‡ä»¶** | `ä½¿ç”¨ FileWriter è¾“å‡º JSON/YAML ç­‰æ ¼å¼` |

### 2.9 æ³¨æ„äº‹é¡¹ä¸åŒºåˆ«


```java
æ–‡ä»¶å­—ç¬¦æµ æ³¨æ„äº‹é¡¹ä¸åŒºåˆ«æ€»ç»“
â”œâ”€â”€ â¶ é»˜è®¤ç¼–ç ä¸å¯æŒ‡å®š
â”‚   â””â”€â”€ FileReader / FileWriter ä½¿ç”¨ç³»ç»Ÿé»˜è®¤ç¼–ç ï¼ˆå¦‚ GBKï¼‰
â”‚       â””â”€â”€ æ— æ³•æ˜¾å¼æŒ‡å®š UTF-8 ç­‰ï¼Œéœ€ç”¨ InputStreamReader æ›¿ä»£
â”‚
â”œâ”€â”€ â‚ æ— æ³•å¤„ç†äºŒè¿›åˆ¶æ–‡ä»¶
â”‚   â””â”€â”€ ä»…é€‚ç”¨äºæ–‡æœ¬ï¼ˆå¦‚ .txt, .javaï¼‰ï¼Œä¸å¯ç”¨äºå›¾ç‰‡ã€éŸ³é¢‘ã€è§†é¢‘
â”‚       â””â”€â”€ äºŒè¿›åˆ¶è¯·ä½¿ç”¨ FileInputStream / FileOutputStream
â”‚
â”œâ”€â”€ â¸ é»˜è®¤æ˜¯è¦†ç›–å†™å…¥
â”‚   â””â”€â”€ æ„é€ æ–¹æ³•æ—  true æ—¶é»˜è®¤æ¸…ç©ºåŸå†…å®¹
â”‚       â””â”€â”€ å¦‚éœ€è¿½åŠ å†™å…¥ï¼šnew FileWriter(path, true)
â”‚
â”œâ”€â”€ â¹ æ¨èä½¿ç”¨ç¼“å†²æµå¢å¼ºæ€§èƒ½
â”‚   â””â”€â”€ å»ºè®®æ­é… BufferedReader / BufferedWriter
â”‚       â””â”€â”€ æå‡å¤§æ–‡æœ¬æ–‡ä»¶è¯»å†™æ•ˆç‡ï¼Œæ”¯æŒ readLine()/newLine()
â”‚
â”œâ”€â”€ âº æ–‡ä»¶ä¸å­˜åœ¨æ—¶å¤„ç†
â”‚   â”œâ”€â”€ FileReaderï¼šæ–‡ä»¶ä¸å­˜åœ¨æ—¶æŠ› FileNotFoundException
â”‚   â””â”€â”€ FileWriterï¼šæ–‡ä»¶ä¸å­˜åœ¨æ—¶ä¼šè‡ªåŠ¨åˆ›å»ºæ–°æ–‡ä»¶
â”‚
â””â”€â”€ â» è‡ªåŠ¨å…³é—­å»ºè®®ä½¿ç”¨ try-with-resources
    â””â”€â”€ å†™æ³•ç®€æ´ã€å®‰å…¨ï¼Œé¿å…èµ„æºæ³„æ¼
```

### 2.10 å¸¸è§è¯¯åŒºæ±‡æ€»


| é”™è¯¯å†™æ³•/ç†è§£ | **æ­£ç¡®è¯´æ˜** |
|---------------|-------------|
| `write(65)` ä¼šå†™å…¥æ•°å­— 65 | `å®é™…å†™å…¥çš„æ˜¯å­—ç¬¦ 'A'ï¼Œå› ä¸ºæ˜¯ int â†’ char è½¬æ¢` |
| å†™å®Œä¸ `flush()` ä¹Ÿæ— æ‰€è°“ | `è‹¥ç¨‹åºå´©æºƒ/ä¸­æ–­ï¼Œæ•°æ®å¯èƒ½è¿˜åœ¨ç¼“å†²åŒºé‡Œï¼Œæ²¡å†™å…¥æ–‡ä»¶` |
| `read()` è¿”å› `char` | `å®é™…è¿”å› intï¼Œå¿…é¡»æ£€æŸ¥ -1ï¼ˆEOFï¼‰` |
| å¿˜è®°å…³é—­ `FileWriter` | `ä¼šå¯¼è‡´èµ„æºæ³„éœ²æˆ–å†…å®¹æœªå†™å…¥ï¼Œå»ºè®®ä½¿ç”¨ try-with-resources è‡ªåŠ¨å…³é—­` |
| å¯ç”¨ FileReader è¯»å–å›¾ç‰‡ç­‰æ–‡ä»¶ | `âŒé”™è¯¯ï¼å­—ç¬¦æµåªèƒ½å¤„ç†æ–‡æœ¬ï¼Œè¯»å–äºŒè¿›åˆ¶åº”ä½¿ç”¨ FileInputStream` |

---

## 3. âš¡ ç¼“å†²å­—ç¬¦æµ


### 3.1 åŸºæœ¬æ¦‚å¿µ


```java
BufferedXXXStreamï¼ˆç¼“å†²å¢å¼ºå‹å­—ç¬¦æµï¼‰
â”œâ”€â”€ 1.1 BufferedReaderï¼ˆå¸¦ç¼“å†²çš„å­—ç¬¦è¾“å…¥æµï¼‰
â”‚   â”œâ”€â”€ åŠŸèƒ½ï¼šåŒ…è£… Readerï¼Œæ·»åŠ å­—ç¬¦ç¼“å†²åŒºï¼Œæ”¯æŒæŒ‰è¡Œè¯»å–ï¼Œæé«˜è¯»å–æ€§èƒ½
â”‚   â”œâ”€â”€ ç‰¹ç‚¹ï¼š
â”‚   â”‚   â”œâ”€â”€ æ¯æ¬¡ä»æ–‡ä»¶ä¸­è¯»å–ä¸€å—å­—ç¬¦åˆ°å†…å­˜ï¼Œæé«˜è¯»æ€§èƒ½
â”‚   â”‚   â”œâ”€â”€ é»˜è®¤ç¼“å†²åŒºå¤§å°ä¸º 8192 å­—ç¬¦ï¼ˆå¯è‡ªå®šä¹‰ï¼‰
â”‚   â”‚   â””â”€â”€ æä¾› readLine() æ–¹æ³•ï¼Œé€è¡Œè¯»å–æ–‡æœ¬ï¼ˆä¸å«æ¢è¡Œç¬¦ï¼‰
â”‚   â”œâ”€â”€ é€‚ç”¨åœºæ™¯ï¼š
â”‚   â”‚   â”œâ”€â”€ è¯»å–é…ç½®æ–‡ä»¶ã€æ—¥å¿—æ–‡ä»¶ã€é•¿æ–‡æœ¬ç­‰
â”‚   â”‚   â””â”€â”€ æŒ‰è¡Œè¯»å–ç”¨æˆ·è¾“å…¥æˆ–æ§åˆ¶å°æ•°æ®
â”‚   â”œâ”€â”€ å¸¸ç”¨æ„é€ æ–¹æ³•ï¼š
â”‚   â”‚   â”œâ”€â”€ new BufferedReader(new FileReader("input.txt"))
â”‚   â”‚   â””â”€â”€ new BufferedReader(Reader in, int bufferSize)
â”‚   â””â”€â”€ ç¤ºä¾‹ä»£ç ï¼š
â”‚       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       â”‚ BufferedReader br = new BufferedReader(new FileReader("log.txt")); â”‚
â”‚       â”‚ String line;                                                   â”‚
â”‚       â”‚ while ((line = br.readLine()) != null) {                       â”‚
â”‚       â”‚     System.out.println("è¯»å–: " + line);                        â”‚
â”‚       â”‚ }                                                              â”‚
â”‚       â”‚ br.close();                                                    â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚
â”œâ”€â”€ 1.2 BufferedWriterï¼ˆå¸¦ç¼“å†²çš„å­—ç¬¦è¾“å‡ºæµï¼‰
â”‚   â”œâ”€â”€ åŠŸèƒ½ï¼šåŒ…è£… Writerï¼Œå°†å­—ç¬¦å…ˆå†™å…¥ç¼“å†²åŒºï¼Œæ‰¹é‡è¾“å‡ºï¼Œæå‡æ€§èƒ½
â”‚   â”œâ”€â”€ ç‰¹ç‚¹ï¼š
â”‚   â”‚   â”œâ”€â”€ å†™å…¥é€Ÿåº¦å¿«ï¼Œé€‚åˆé¢‘ç¹å°æ•°æ®å†™å…¥
â”‚   â”‚   â”œâ”€â”€ æä¾› newLine() æ–¹æ³•ï¼Œå†™å…¥ç³»ç»Ÿæ¢è¡Œç¬¦
â”‚   â”‚   â””â”€â”€ æ”¯æŒ flush() æ‰‹åŠ¨åˆ·æ–°ç¼“å†²åŒº
â”‚   â”œâ”€â”€ é€‚ç”¨åœºæ™¯ï¼š
â”‚   â”‚   â”œâ”€â”€ å†™å…¥æ—¥å¿—æ–‡ä»¶ã€HTMLã€CSVã€æ–‡æœ¬æ–‡ä»¶
â”‚   â”‚   â””â”€â”€ æ„é€ æ ¼å¼åŒ–è¾“å‡ºå†…å®¹ï¼ˆé…åˆ PrintWriter æ•ˆæœæ›´ä½³ï¼‰
â”‚   â”œâ”€â”€ å¸¸ç”¨æ„é€ æ–¹æ³•ï¼š
â”‚   â”‚   â”œâ”€â”€ new BufferedWriter(new FileWriter("output.txt"))
â”‚   â”‚   â””â”€â”€ new BufferedWriter(Writer out, int bufferSize)
â”‚   â””â”€â”€ ç¤ºä¾‹ä»£ç ï¼š
â”‚       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       â”‚ BufferedWriter bw = new BufferedWriter(new FileWriter("output.txt")); â”‚
â”‚       â”‚ bw.write("ç¬¬ä¸€è¡Œå†…å®¹");                                          â”‚
â”‚       â”‚ bw.newLine();                                                   â”‚
â”‚       â”‚ bw.write("ç¬¬äºŒè¡Œå†…å®¹");                                          â”‚
â”‚       â”‚ bw.flush(); // å¯é€‰ï¼Œclose() å‰è‡ªåŠ¨è°ƒç”¨                          â”‚
â”‚       â”‚ bw.close();                                                     â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚
â””â”€â”€ å°ç»“ä¸æ³¨æ„äº‹é¡¹
    â”œâ”€â”€ ä¼˜åŠ¿ï¼š
    â”‚   â”œâ”€â”€ æ‰¹é‡è¯»å†™ï¼Œå‡å°‘ç£ç›˜è®¿é—®æ¬¡æ•°ï¼Œæ€§èƒ½é«˜
    â”‚   â”œâ”€â”€ readLine() / newLine() ä½¿ç”¨ä¾¿æ·
    â”‚   â””â”€â”€ é»˜è®¤ç¼“å†²åŒºé€‚ä¸­ï¼Œå¯è‡ªå®šä¹‰å¤§å°
    â”œâ”€â”€ æ³¨æ„äº‹é¡¹ï¼š
    â”‚   â”œâ”€â”€ readLine() ä¸è¿”å›æ¢è¡Œç¬¦ï¼Œä»…è¿”å›è¡Œå†…å®¹
    â”‚   â”œâ”€â”€ newLine() å†™å…¥å¹³å°æ¢è¡Œç¬¦ï¼ˆ\n æˆ– \r\nï¼‰
    â”‚   â”œâ”€â”€ flush() å¯æ‰‹åŠ¨è°ƒç”¨ï¼ˆé¿å…ç¼“å†²åŒºæ•°æ®æœªå†™å…¥ï¼‰
    â”‚   â””â”€â”€ close() ä¼šè‡ªåŠ¨ flushï¼Œå»ºè®®ä½¿ç”¨ try-with-resources
    â””â”€â”€ æ¨èç»„åˆä½¿ç”¨ï¼š
        â”œâ”€â”€ BufferedReader + FileReader       // é«˜æ•ˆè¯»å–æ–‡æœ¬
        â””â”€â”€ BufferedWriter + FileWriter       // é«˜æ•ˆå†™å…¥æ–‡æœ¬
```

### 3.2 ç±»ç»“æ„ä¸å¸¸ç”¨æ„é€ æ–¹æ³•


```java
java.io
â”œâ”€â”€ Reader
â”‚   â””â”€â”€ BufferedReader
â”‚       â””â”€â”€ new BufferedReader(new FileReader("a.txt"))
â”œâ”€â”€ Writer
â”‚   â””â”€â”€ BufferedWriter
â”‚       â””â”€â”€ new BufferedWriter(new FileWriter("a.txt"))
```

### 3.3 å¸¸ç”¨æ–¹æ³•æ€»è§ˆ


```java
BufferedReaderï¼ˆå­—ç¬¦ç¼“å†²è¾“å…¥æµï¼‰
â”œâ”€â”€ read()                 â†’ è¯»å–ä¸€ä¸ªå­—ç¬¦ï¼ˆè¿”å› intï¼Œ-1 è¡¨ç¤º EOFï¼‰
â”œâ”€â”€ read(char[] buffer)    â†’ å°†å¤šä¸ªå­—ç¬¦è¯»å…¥æ•°ç»„ï¼ˆé€‚åˆæ‰¹é‡è¯»å–ï¼‰
â””â”€â”€ readLine()             â†’ è¯»å–ä¸€æ•´è¡Œå­—ç¬¦ä¸²ï¼ˆè¿”å› Stringï¼Œä¸å«æ¢è¡Œç¬¦ï¼‰

BufferedWriterï¼ˆå­—ç¬¦ç¼“å†²è¾“å‡ºæµï¼‰
â”œâ”€â”€ write(String str)      â†’ å†™å…¥æ•´ä¸ªå­—ç¬¦ä¸²åˆ°ç¼“å†²åŒº
â”œâ”€â”€ write(char[] buffer)   â†’ å†™å…¥å­—ç¬¦æ•°ç»„
â”œâ”€â”€ newLine()              â†’ å†™å…¥ç³»ç»Ÿæ¢è¡Œç¬¦ï¼ˆè‡ªåŠ¨é€‚é… \n / \r\nï¼‰
â”œâ”€â”€ flush()                â†’ å¼ºåˆ¶åˆ·æ–°ç¼“å†²åŒºå†…å®¹åˆ°ç›®æ ‡æ–‡ä»¶
â””â”€â”€ close()                â†’ å…³é—­æµï¼Œè‡ªåŠ¨ flush å¹¶é‡Šæ”¾èµ„æº

é€šç”¨æ“ä½œï¼ˆReader / Writer ä½“ç³»ï¼‰
â””â”€â”€ close()                â†’ ç”¨äºå…³é—­æµèµ„æºï¼Œæ¨èä½¿ç”¨ try-with-resources è‡ªåŠ¨å…³é—­
```

### 3.4 ç®€è¦è¯´æ˜ä¸ä½¿ç”¨å»ºè®®


| æ–¹æ³• | **æ¨èä½¿ç”¨åœºæ™¯** | **æ³¨æ„äº‹é¡¹** |
|------|-----------------|-------------|
| `read()` | `æŒ‰å­—ç¬¦è¯»å–ï¼ˆå¦‚é€å­—å¤„ç†ï¼‰` | `è¿”å› intï¼Œéœ€åˆ¤æ–­æ˜¯å¦ç­‰äº -1ï¼ˆEOFï¼‰` |
| `readLine()` | `æŒ‰è¡Œè¯»å–ï¼ˆå¦‚è¯»å–é…ç½®ã€æ—¥å¿—ï¼‰` | `ä¸åŒ…å«æ¢è¡Œç¬¦ï¼Œè¯»å®Œè¿”å› null` |
| `write()` | `å†™å…¥å­—ç¬¦ä¸²æˆ–å­—ç¬¦æ•°ç»„` | `æ•°æ®å†™å…¥ç¼“å†²åŒºï¼Œæœªè°ƒç”¨ flush ä¸ä¼šè½ç›˜` |
| `newLine()` | `å†™å…¥æ¢è¡Œï¼ˆå»ºè®®ä»£æ›¿ \nï¼‰` | `è·¨å¹³å°å…¼å®¹æ€§æ›´å¥½` |
| `flush()` | `ç¡®ä¿ç«‹å³å†™å…¥æ–‡ä»¶` | `å†™æ—¥å¿—ã€å®æ—¶è¾“å‡ºç­‰åœºæ™¯å»ºè®®æ‰‹åŠ¨è°ƒç”¨` |
| `close()` | `æ¸…ç†èµ„æºï¼Œé˜²æ­¢å†…å­˜æ³„æ¼` | `æ¨èç”¨ try-with-resources è‡ªåŠ¨å…³é—­` |


### 3.5 BufferedReader æŒ‰è¡Œè¯»å–ç¤ºä¾‹


```java
public class BufferedReaderExample {
    public static void main(String[] args) {
        try (BufferedReader br = new BufferedReader(new FileReader("input.txt"))) {
            String line;
            while ((line = br.readLine()) != null) { // æ¯æ¬¡è¯»å–ä¸€è¡Œï¼Œè¯»å–åˆ° null è¡¨ç¤º EOF
                System.out.println("è¯»å–å†…å®¹ï¼š" + line);
            }
        } catch (IOException e) {
            e.printStackTrace();
        }
    }
}

/*
è¯´æ˜ï¼š
â€¢ readLine()ï¼šæ¯æ¬¡è¯»å–ä¸€æ•´è¡Œï¼Œä¸åŒ…å«æ¢è¡Œç¬¦
â€¢ æ¨èç”¨ try-with-resources è‡ªåŠ¨å…³é—­æµï¼Œé˜²æ­¢èµ„æºæ³„éœ²
â€¢ æ–‡ä»¶å¿…é¡»å­˜åœ¨ï¼Œå¦åˆ™æŠ› FileNotFoundException
*/
```

### 3.6 BufferedWriter å†™å…¥æ–‡æœ¬ç¤ºä¾‹


```java
public class BufferedWriterExample {
    public static void main(String[] args) {
        try (BufferedWriter bw = new BufferedWriter(new FileWriter("output.txt"))) {
            bw.write("è¿™æ˜¯ç¬¬ä¸€è¡Œæ–‡æœ¬");
            bw.newLine(); // è‡ªåŠ¨ä½¿ç”¨å¹³å°æ¢è¡Œç¬¦ï¼ˆå¦‚ Windows æ˜¯ \r\nï¼‰
            bw.write("è¿™æ˜¯ç¬¬äºŒè¡Œæ–‡æœ¬");
            bw.flush(); // å¯çœç•¥ï¼Œclose() è‡ªåŠ¨è°ƒç”¨
        } catch (IOException e) {
            e.printStackTrace();
        }
    }
}

/*
è¯´æ˜ï¼š
â€¢ newLine()ï¼šå†™å…¥ç³»ç»Ÿæ¢è¡Œç¬¦ï¼ˆæ¨èä»£æ›¿æ‰‹åŠ¨å†™ "\n"ï¼‰
â€¢ flush()ï¼šåˆ·æ–°ç¼“å†²åŒºåˆ°æ–‡ä»¶ï¼Œé˜²æ­¢æ•°æ®æ»ç•™
â€¢ close()ï¼šè‡ªåŠ¨åˆ·æ–°ç¼“å†²åŒºå¹¶é‡Šæ”¾èµ„æº
*/
```

### 3.7 UTF-8 ç¼–ç è¯»å†™ç¤ºä¾‹


```java
// è¯»å– UTF-8 ç¼–ç çš„æ–‡æœ¬æ–‡ä»¶
public class Utf8ReaderDemo {
    public static void main(String[] args) {
        // æ³¨æ„ï¼šæ–‡ä»¶å¿…é¡»æ˜¯ UTF-8 ç¼–ç ä¿å­˜çš„
        try (
            FileInputStream fis = new FileInputStream("utf8_text.txt");
            InputStreamReader isr = new InputStreamReader(fis, "UTF-8"); // æŒ‡å®šç¼–ç 
            BufferedReader br = new BufferedReader(isr)
        ) {
            String line;
            while ((line = br.readLine()) != null) {
                System.out.println("è¯»å–å†…å®¹: " + line);
            }
        } catch (IOException e) {
            e.printStackTrace();
        }
    }
}

// å†™å…¥ UTF-8 ç¼–ç çš„æ–‡æœ¬æ–‡ä»¶
public class Utf8WriterDemo {
    public static void main(String[] args) {
        try (
            FileOutputStream fos = new FileOutputStream("utf8_output.txt");
            OutputStreamWriter osw = new OutputStreamWriter(fos, "UTF-8"); // æŒ‡å®šç¼–ç 
            BufferedWriter bw = new BufferedWriter(osw)
        ) {
            bw.write("ç¬¬ä¸€è¡Œï¼šHello UTF-8 ğŸŒ");
            bw.newLine(); // å†™å…¥æ¢è¡Œç¬¦ï¼ˆè‡ªåŠ¨é€‚é… \n / \r\nï¼‰
            bw.write("ç¬¬äºŒè¡Œï¼šä¸­æ–‡ä¹Ÿä¸ä¼šä¹±ç ï¼");
            bw.flush(); // å¯é€‰ï¼Œclose() ä¹Ÿä¼šè‡ªåŠ¨ flush
        } catch (IOException e) {
            e.printStackTrace();
        }
    }
}
```

### 3.8 é€‚ç”¨åœºæ™¯


| åœºæ™¯ | **æ¨èä½¿ç”¨æ–¹å¼** |
|------|-----------------|
| **è¯»å–å¤§å‹æ–‡æœ¬ï¼ˆå¦‚æ—¥å¿—ã€é…ç½®ï¼‰** | `ä½¿ç”¨ BufferedReader.readLine() æŒ‰è¡Œè¯»å–` |
| **å†™å…¥æ ¼å¼åŒ–æ–‡æ¡£ã€é€è¡Œå†…å®¹** | `ä½¿ç”¨ BufferedWriter.write() + newLine()` |
| **éœ€è¦é¢‘ç¹è¯»å†™æ–‡æœ¬å¹¶è¿½æ±‚æ€§èƒ½ä¼˜åŒ–** | `ä½¿ç”¨ç¼“å†²å­—ç¬¦æµä»£æ›¿åŸå§‹ FileReader / FileWriter` |
| **è·¨å¹³å°å†™å…¥æ¢è¡Œ** | `ä½¿ç”¨ BufferedWriter.newLine() è‡ªåŠ¨é€‚é… \n æˆ– \r\n` |

### 3.9 æ³¨æ„äº‹é¡¹ä¸åŒºåˆ«


| é¡¹ç›® | **BufferedReader / Writer** | **FileReader / Writer** |
|------|----------------------------|------------------------|
| **æ˜¯å¦å¸¦ç¼“å†²** | `âœ… æ˜¯ï¼ˆé»˜è®¤ 8192 å­—ç¬¦ï¼‰` | `âŒ å¦ï¼ˆæ¯æ¬¡æ“ä½œç›´æ¥ç£ç›˜ï¼‰` |
| **æ˜¯å¦æ”¯æŒæŒ‰è¡Œè¯»å–å†™å…¥** | `âœ… readLine()ã€newLine()` | `âŒ éœ€æ‰‹åŠ¨åˆ¤æ–­å­—ç¬¦æˆ–æ‹¼æ¥æ¢è¡Œç¬¦` |
| **æ€§èƒ½** | `é«˜æ•ˆï¼ˆé€‚åˆå¤§æ–‡ä»¶ï¼‰` | `ç›¸å¯¹ä½ï¼ˆé€‚åˆå°æ–‡ä»¶ï¼‰` |
| **æ„é€ æ–¹å¼** | `åŒ…è£…å…¶ä»– Reader/Writer` | `ç›´æ¥æ“ä½œæ–‡ä»¶` |
| **ç¼–ç æŒ‡å®šèƒ½åŠ›** | `âŒ ä¸æ”¯æŒï¼ˆå¦‚éœ€ç¼–ç è¯·åŒ…è£… OutputStreamWriterï¼‰` | `âŒ ä¸æ”¯æŒ` |

---

## 4. ğŸ”— æ¡¥æ¥å­—ç¬¦æµ


### 4.1 åŸºæœ¬æ¦‚å¿µ


```java
â”œâ”€â”€ 1.1 InputStreamReaderï¼ˆå­—èŠ‚ â†’ å­—ç¬¦è¾“å…¥æµï¼‰
â”‚   â”œâ”€â”€ åŠŸèƒ½ï¼šå°†å­—èŠ‚æµè½¬æ¢ä¸ºå­—ç¬¦æµï¼ˆå¤„ç†ç¼–ç è§£ç ï¼‰
â”‚   â”œâ”€â”€ ç‰¹ç‚¹ï¼š
â”‚   â”‚   â”œâ”€â”€ å­—èŠ‚ â†’ å­—ç¬¦ï¼ˆè§£ç è¿‡ç¨‹ï¼‰
â”‚   â”‚   â”œâ”€â”€ å¯æŒ‡å®šç¼–ç ï¼ˆå¦‚ UTF-8 / GBKï¼‰
â”‚   â”‚   â””â”€â”€ æ”¯æŒåŒ…è£… BufferedReader è¿›ä¸€æ­¥å¢å¼ºï¼ˆæä¾› readLine() ç­‰ï¼‰
â”‚   â”œâ”€â”€ é€‚ç”¨åœºæ™¯ï¼š
â”‚   â”‚   â”œâ”€â”€ è·¨å¹³å°è¯»å– UTF-8/GBK ç¼–ç æ–‡æœ¬æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ ä»ç½‘ç»œæˆ– socket ä¸­è¯»å–æ–‡æœ¬ï¼ˆå­—èŠ‚æµè½¬å­—ç¬¦æµï¼‰
â”‚   â”‚   â””â”€â”€ æ›¿ä»£ FileReaderï¼Œé¿å…ç¼–ç ä¹±ç 
â”‚   â”œâ”€â”€ å¸¸ç”¨æ„é€ æ–¹æ³•ï¼š
â”‚   â”‚   â”œâ”€â”€ new InputStreamReader(InputStream in)
â”‚   â”‚   â””â”€â”€ new InputStreamReader(InputStream in, "UTF-8")
â”‚   â””â”€â”€ ç¤ºä¾‹ä»£ç ï¼š
â”‚       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       â”‚ InputStreamReader isr =                                  â”‚
â”‚       â”‚     new InputStreamReader(new FileInputStream("in.txt"), "UTF-8"); â”‚
â”‚       â”‚ BufferedReader br = new BufferedReader(isr);             â”‚
â”‚       â”‚ String line;                                              â”‚
â”‚       â”‚ while ((line = br.readLine()) != null) {                 â”‚
â”‚       â”‚     System.out.println("è¯»å–è¡Œ: " + line);                â”‚
â”‚       â”‚ }                                                         â”‚
â”‚       â”‚ br.close();                                               â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚
â”œâ”€â”€ 1.2 OutputStreamWriterï¼ˆå­—ç¬¦ â†’ å­—èŠ‚è¾“å‡ºæµï¼‰
â”‚   â”œâ”€â”€ åŠŸèƒ½ï¼šå°†å­—ç¬¦æµè½¬æ¢ä¸ºå­—èŠ‚æµï¼ˆå¤„ç†ç¼–ç ï¼‰
â”‚   â”œâ”€â”€ ç‰¹ç‚¹ï¼š
â”‚   â”‚   â”œâ”€â”€ å­—ç¬¦ â†’ å­—èŠ‚ï¼ˆç¼–ç è¿‡ç¨‹ï¼‰
â”‚   â”‚   â”œâ”€â”€ å¯æŒ‡å®šç¼–ç ï¼ˆå¦‚ UTF-8 / GBKï¼‰
â”‚   â”‚   â””â”€â”€ æ”¯æŒåŒ…è£… BufferedWriterï¼ˆæä¾› newLine() ç­‰ï¼‰
â”‚   â”œâ”€â”€ é€‚ç”¨åœºæ™¯ï¼š
â”‚   â”‚   â”œâ”€â”€ è·¨å¹³å°å†™å…¥ UTF-8 ç¼–ç æ–‡æœ¬æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ å‘ç½‘ç»œè¾“å‡ºå­—ç¬¦ï¼ˆå¦‚ socket å†™æ•°æ®ï¼‰
â”‚   â”‚   â””â”€â”€ æ›¿ä»£ FileWriterï¼Œé¿å…ä¹±ç å†™å…¥
â”‚   â”œâ”€â”€ å¸¸ç”¨æ„é€ æ–¹æ³•ï¼š
â”‚   â”‚   â”œâ”€â”€ new OutputStreamWriter(OutputStream out)
â”‚   â”‚   â””â”€â”€ new OutputStreamWriter(OutputStream out, "UTF-8")
â”‚   â””â”€â”€ ç¤ºä¾‹ä»£ç ï¼š
â”‚       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       â”‚ OutputStreamWriter osw =                                 â”‚
â”‚       â”‚     new OutputStreamWriter(new FileOutputStream("out.txt"), "UTF-8"); â”‚
â”‚       â”‚ BufferedWriter bw = new BufferedWriter(osw);             â”‚
â”‚       â”‚ bw.write("Hello å­—ç¬¦æ¡¥æ¥æµï¼");                          â”‚
â”‚       â”‚ bw.newLine();                                            â”‚
â”‚       â”‚ bw.write("æ”¯æŒ UTF-8 ç¼–ç å†™å…¥ã€‚");                       â”‚
â”‚       â”‚ bw.close();                                              â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚
â””â”€â”€ å°ç»“ä¸æ³¨æ„äº‹é¡¹
    â”œâ”€â”€ ä¸ FileReader / FileWriter åŒºåˆ«ï¼š
    â”‚   â”œâ”€â”€ FileReader/Writer ä½¿ç”¨ç³»ç»Ÿé»˜è®¤ç¼–ç ï¼ˆä¸å¯æŒ‡å®šï¼‰
    â”‚   â””â”€â”€ InputStreamReader/Writer å¯æ˜¾å¼è®¾ç½®ç¼–ç ï¼ˆæ¨è UTF-8ï¼‰
    â”œâ”€â”€ ç¼–ç åç§°åŒºåˆ†å¤§å°å†™ï¼Œå¦‚ï¼š"UTF-8" æ­£ç¡®ï¼Œ"utf8" é”™è¯¯
    â”œâ”€â”€ æ¨èæ­é… BufferedReader / BufferedWriter æé«˜æ€§èƒ½ä¸åŠŸèƒ½
    â””â”€â”€ å¸¸è§æ¨èç»„åˆï¼š
        â”œâ”€â”€ InputStreamReader + BufferedReader + FileInputStreamï¼ˆè¯»å–æ–‡æœ¬ï¼‰
        â””â”€â”€ OutputStreamWriter + BufferedWriter + FileOutputStreamï¼ˆå†™å…¥æ–‡æœ¬ï¼‰
```

### 4.2 ç±»ç»“æ„ï¼ˆç»§æ‰¿å…³ç³»ï¼‰


```java
java.io
â”œâ”€â”€ Reader
â”‚   â””â”€â”€ InputStreamReader  â† è¿æ¥ InputStream
â”‚       â””â”€â”€ å¯è¢« BufferedReader åŒ…è£…å¢å¼º
â”‚
â”œâ”€â”€ Writer
â”‚   â””â”€â”€ OutputStreamWriter â† è¿æ¥ OutputStream
â”‚       â””â”€â”€ å¯è¢« BufferedWriter åŒ…è£…å¢å¼º
```

### 4.3 å¸¸ç”¨æ„é€ æ–¹æ³•


```java
// è¾“å…¥æµï¼šä»æ–‡ä»¶æˆ–ç½‘ç»œè¯»å–
new InputStreamReader(InputStream in)
new InputStreamReader(InputStream in, String charsetName)

// è¾“å‡ºæµï¼šå†™å…¥æ–‡ä»¶æˆ–ç½‘ç»œ
new OutputStreamWriter(OutputStream out)
new OutputStreamWriter(OutputStream out, String charsetName)
```

### 4.4 å¸¸ç”¨æ–¹æ³•è¯´æ˜


```java
InputStreamReaderï¼ˆå­—èŠ‚ â†’ å­—ç¬¦è¾“å…¥æµï¼‰
â”œâ”€â”€ read()                 
â”‚   â”œâ”€â”€ è¯»å–ä¸€ä¸ªå­—ç¬¦ï¼ˆè¿”å› int ç±»å‹ï¼‰
â”‚   â””â”€â”€ ç”¨äºé€å­—ç¬¦å¤„ç†ï¼Œéœ€åˆ¤æ–­æ˜¯å¦ä¸º -1ï¼ˆè¡¨ç¤º EOFï¼‰
â”œâ”€â”€ read(char[] buffer)    
â”‚   â”œâ”€â”€ æ‰¹é‡è¯»å–å­—ç¬¦æ•°ç»„ï¼Œæé«˜è¯»å–æ•ˆç‡
â”‚   â””â”€â”€ è¿”å›å®é™…è¯»å–å­—ç¬¦æ•°ï¼Œ-1 è¡¨ç¤ºç»“æŸ
â””â”€â”€ close()
    â”œâ”€â”€ å…³é—­æµï¼Œé‡Šæ”¾åº•å±‚èµ„æºï¼ˆå¦‚æ–‡ä»¶æè¿°ç¬¦ï¼‰
    â””â”€â”€ å»ºè®®æ­é… try-with-resources è‡ªåŠ¨å…³é—­

OutputStreamWriterï¼ˆå­—ç¬¦ â†’ å­—èŠ‚è¾“å‡ºæµï¼‰
â”œâ”€â”€ write(String str)      
â”‚   â”œâ”€â”€ å†™å…¥æ•´ä¸ªå­—ç¬¦ä¸²åˆ°ç¼“å†²åŒºï¼ˆç­‰å¾… flush æˆ– close è½ç›˜ï¼‰
â”‚   â””â”€â”€ å¯å¤šæ¬¡è°ƒç”¨å†™å…¥æ‹¼æ¥æ–‡æœ¬å†…å®¹
â”œâ”€â”€ write(char[] buffer)   
â”‚   â”œâ”€â”€ å†™å…¥å­—ç¬¦æ•°ç»„
â”‚   â””â”€â”€ é€‚åˆå¤„ç†å·²ç»åˆ†å—æˆ–ç¼“å­˜çš„æ–‡æœ¬ç‰‡æ®µ
â”œâ”€â”€ flush()                
â”‚   â”œâ”€â”€ å¼ºåˆ¶åˆ·æ–°å†…éƒ¨ç¼“å†²åŒºæ•°æ®å†™å…¥åº•å±‚æµ
â”‚   â””â”€â”€ é¿å…å†™å…¥æ•°æ®æœªçœŸæ­£ä¿å­˜ï¼ˆå¦‚å†™æ—¥å¿—ï¼‰
â””â”€â”€ close()
    â”œâ”€â”€ åˆ·æ–°å¹¶å…³é—­æµ
    â””â”€â”€ å†…éƒ¨è‡ªåŠ¨æ‰§è¡Œ flush()ï¼Œé˜²æ­¢æ•°æ®ä¸¢å¤±
```

### 4.5 ä»æ§åˆ¶å°è¯»å–å¹¶å†™å…¥ UTF-8 æ–‡ä»¶ç¤ºä¾‹


```java
public class ConsoleToFileUTF8 {
    public static void main(String[] args) {
        // è¯´æ˜ï¼šæŒ‰è¡Œè¯»å–ç”¨æˆ·è¾“å…¥å†…å®¹ï¼Œå†™å…¥ UTF-8 ç¼–ç æ–‡ä»¶ï¼Œç›´åˆ°ç”¨æˆ·è¾“å…¥ "exit"
        try (
            // æ§åˆ¶å°è¾“å…¥ï¼ˆå­—èŠ‚ â†’ å­—ç¬¦ â†’ ç¼“å†²ï¼‰
            BufferedReader consoleReader = new BufferedReader(
                    new InputStreamReader(System.in, "UTF-8"));

            // è¾“å‡ºåˆ°æ–‡ä»¶ï¼ˆå­—ç¬¦ â†’ å­—èŠ‚ â†’ ç¼“å†²ï¼‰
            BufferedWriter fileWriter = new BufferedWriter(
                    new OutputStreamWriter(new FileOutputStream("output_utf8.txt"), "UTF-8"))
        ) {
            System.out.println("è¯·è¾“å…¥å†…å®¹ï¼ˆè¾“å…¥ exit ç»“æŸï¼‰ï¼š");

            String line;
            while ((line = consoleReader.readLine()) != null) {
                if ("exit".equalsIgnoreCase(line.trim())) break;
                fileWriter.write(line);
                fileWriter.newLine(); // å†™å…¥æ¢è¡Œ
            }

            System.out.println("å†™å…¥å®Œæˆã€‚");

        } catch (IOException e) {
            e.printStackTrace();
        }
    }
}
```

### 4.6 UTF-8 ç¼–ç æ–‡æœ¬å¤åˆ¶ç¤ºä¾‹


```java
public class Utf8TextFileCopier {
    public static void main(String[] args) {
        // æºæ–‡ä»¶å’Œç›®æ ‡æ–‡ä»¶è·¯å¾„
        String sourcePath = "source_utf8.txt";
        String targetPath = "copy_utf8.txt";

        try (
            // è¯»å–ï¼šå­—èŠ‚ â†’ å­—ç¬¦ï¼ˆæŒ‡å®š UTF-8ï¼‰â†’ ç¼“å†²è¡Œè¯»å–
            BufferedReader reader = new BufferedReader(
                new InputStreamReader(new FileInputStream(sourcePath), "UTF-8"));

            // å†™å…¥ï¼šå­—ç¬¦ â†’ å­—èŠ‚ï¼ˆUTF-8ï¼‰â†’ ç¼“å†²è¡Œå†™å‡º
            BufferedWriter writer = new BufferedWriter(
                new OutputStreamWriter(new FileOutputStream(targetPath), "UTF-8"))
        ) {
            String line;
            while ((line = reader.readLine()) != null) {
                writer.write(line);
                writer.newLine(); // ä¿æŒåŸæ–‡æ¢è¡Œç»“æ„
            }

            System.out.println("âœ… æ–‡æœ¬å¤åˆ¶å®Œæˆï¼Œç›®æ ‡æ–‡ä»¶ï¼š" + targetPath);

        } catch (IOException e) {
            e.printStackTrace();
        }
    }
}
```

### 4.7 å…¸å‹ä½¿ç”¨åœºæ™¯


| åœºæ™¯ | **æ¨èåšæ³•** |
|------|-------------|
| **æŒ‰ UTF-8 ç¼–ç è¯»å–æ–‡æœ¬æ–‡ä»¶** | `BufferedReader + InputStreamReader + FileInputStream` |
| **å°†å­—ç¬¦ä¸²å†™å…¥ UTF-8 æ–‡ä»¶** | `BufferedWriter + OutputStreamWriter + FileOutputStream` |
| **ä»ç½‘ç»œ Socket è·å–æ–‡æœ¬æµï¼ˆå¦‚ HTTPï¼‰** | `InputStreamReader(socket.getInputStream(), "UTF-8")` |
| **å†™æ—¥å¿—ã€HTMLã€CSV æ–‡ä»¶ç¡®ä¿ç¼–ç ä¸€è‡´** | `ä½¿ç”¨ OutputStreamWriter æ˜¾å¼æŒ‡å®šç¼–ç ï¼ˆå¦‚ UTF-8ï¼‰` |

### 4.8 æ³¨æ„äº‹é¡¹æ€»ç»“


| æ³¨æ„é¡¹ | **è¯´æ˜** |
|--------|----------|
| **FileReader/FileWriter ä¸å¯æŒ‡å®šç¼–ç ** | `InputStreamReader/Writer æ˜¯å…¶æ›¿ä»£æ–¹æ¡ˆï¼Œå¯æ˜ç¡®ä½¿ç”¨ UTF-8 ç­‰ç¼–ç ` |
| **æ¨èæ­é… BufferedReader/Writer** | `æä¾›ç¼“å†²åŠŸèƒ½ä¸ readLine/newLine ç­‰å®ç”¨æ–¹æ³•` |
| **å­—ç¬¦é›†åç§°éœ€æ­£ç¡®å¤§å°å†™** | `å¦‚ UTF-8ï¼Œä¸èƒ½å†™æˆ utf8ï¼Œå¦åˆ™æŠ›å¼‚å¸¸` |
| **å¤šè¯­è¨€/è·¨å¹³å°é¡¹ç›®å¼ºçƒˆæ¨è** | `ä¸æŒ‡å®šç¼–ç ä¾èµ–æ“ä½œç³»ç»Ÿï¼Œå¯èƒ½å‡ºç°ä¹±ç ï¼ˆå¦‚ Windows é»˜è®¤ GBKï¼‰` |

---

## 5. ğŸ–¨ï¸ æ‰“å°å­—ç¬¦æµ


### 5.1 åŸºæœ¬æ¦‚å¿µ


```java
1. PrintWriterï¼ˆæ‰“å°å­—ç¬¦è¾“å‡ºæµï¼‰
â”œâ”€â”€ æ‰€å±åŒ…ï¼š
â”‚   â””â”€â”€ java.io.PrintWriter
â”‚
â”œâ”€â”€ æœ¬è´¨å®šä½ï¼š
â”‚   â””â”€â”€ é«˜çº§å­—ç¬¦è¾“å‡ºæµï¼ˆWriter å­ç±»ï¼‰
â”‚       â”œâ”€â”€ ä¸“é—¨ç”¨äºå‘æ–‡ä»¶ã€æ§åˆ¶å°ã€ç½‘ç»œç­‰è¾“å‡ºå­—ç¬¦æ–‡æœ¬
â”‚       â””â”€â”€ æ”¯æŒæ ¼å¼åŒ–è¾“å‡º + å¤šç±»å‹å†™å…¥ + è‡ªåŠ¨æ¢è¡Œ
â”‚
â”œâ”€â”€ æ ¸å¿ƒç‰¹ç‚¹ï¼š
â”‚   â”œâ”€â”€ æ”¯æŒ print(), println(), printf()ï¼ˆC é£æ ¼æ ¼å¼åŒ–ï¼‰
â”‚   â”œâ”€â”€ å¯å†™å…¥å„ç§ç±»å‹ï¼šintã€doubleã€char[]ã€Stringã€Object...
â”‚   â”œâ”€â”€ æ”¯æŒè‡ªåŠ¨æ¢è¡Œï¼ˆprintlnï¼‰å’Œæ ¼å¼åŒ–è¾“å‡ºï¼ˆprintfï¼‰
â”‚   â””â”€â”€ å¯è®¾ç½®è‡ªåŠ¨ flushï¼ˆåˆ·æ–°ç¼“å†²åŒºï¼‰
â”‚
â”œâ”€â”€ è¾“å‡ºç›®æ ‡ï¼ˆæ„é€ æ–¹å¼ï¼‰ï¼š
â”‚   â”œâ”€â”€ åŒ…è£…å­—ç¬¦è¾“å‡ºæµ Writerï¼ˆå¦‚ FileWriterï¼‰
â”‚   â”œâ”€â”€ åŒ…è£…å­—èŠ‚è¾“å‡ºæµ OutputStreamï¼ˆéœ€é…åˆ OutputStreamWriter æŒ‡å®šç¼–ç ï¼‰
â”‚   â”œâ”€â”€ åŒ…è£…æ§åˆ¶å°è¾“å‡ºï¼ˆSystem.outï¼‰
â”‚   â””â”€â”€ åŒ…è£…ç½‘ç»œ/å†…å­˜æµï¼ˆå¦‚ Socket.getOutputStream()ï¼‰
â”‚
â””â”€â”€ å¸¸è§ç”¨é€”ï¼š
    â”œâ”€â”€ å‘æ–‡æœ¬æ–‡ä»¶å†™å…¥ç»“æ„åŒ–æ–‡æœ¬ï¼ˆå¦‚æ—¥å¿—ã€æŠ¥è¡¨ã€é…ç½®ï¼‰
    â”œâ”€â”€ æ§åˆ¶å°è¾“å‡ºæ›¿ä»£ System.out
    â”œâ”€â”€ å°†å¯¹è±¡/ä¿¡æ¯ä»¥æ ¼å¼åŒ–å½¢å¼æ‰“å°
    â””â”€â”€ ä¸å…¶ä»–æµï¼ˆå¦‚ BufferedWriter / OutputStreamWriterï¼‰ç»„åˆå¢å¼ºåŠŸèƒ½
```

### 5.2 å¸¸ç”¨æ„é€ æ–¹æ³•


```java
new PrintWriter(String fileName)                           // å†™å…¥æ–‡ä»¶ï¼ˆé»˜è®¤è¦†ç›–ï¼Œä½¿ç”¨ç³»ç»Ÿç¼–ç ï¼‰
new PrintWriter(File file, String charsetName)             // å†™å…¥æ–‡ä»¶å¹¶æŒ‡å®šç¼–ç 
new PrintWriter(OutputStream out, boolean autoFlush)       // åŒ…è£…å­—èŠ‚æµ
new PrintWriter(Writer writer, boolean autoFlush)          // åŒ…è£…å­—ç¬¦æµ

// æ¨èç”¨æ³•ï¼š
new PrintWriter(new OutputStreamWriter(new FileOutputStream("out.txt"), "UTF-8"))
```

### 5.3 å¸¸ç”¨æ–¹æ³•åˆ†ç±»è¯´æ˜


```java
PrintWriter å¸¸ç”¨æ–¹æ³•ï¼ˆæ ¼å¼åŒ–æ‰“å°å­—ç¬¦æµï¼‰
â”œâ”€â”€ print(xxx)
â”‚   â””â”€â”€ æ‰“å°å„ç§æ•°æ®ç±»å‹ï¼ˆintã€doubleã€char[]ã€String ç­‰ï¼‰ï¼Œä¸è‡ªåŠ¨æ¢è¡Œ
â”‚       ä¾‹ï¼šprint("Hello")ã€print(123)
â”‚
â”œâ”€â”€ println(xxx)
â”‚   â””â”€â”€ åŒ printï¼Œä½†ä¼šåœ¨æœ«å°¾è‡ªåŠ¨è¿½åŠ ç³»ç»Ÿæ¢è¡Œç¬¦ï¼ˆå¦‚ \n æˆ– \r\nï¼‰
â”‚       ä¾‹ï¼šprintln("Hello\nWorld")
â”‚
â”œâ”€â”€ printf(String format, Object... args)
â”‚   â””â”€â”€ æ ¼å¼åŒ–è¾“å‡ºï¼Œæ”¯æŒ C è¯­è¨€é£æ ¼ï¼ˆ%sã€%dã€%.2f ç­‰ï¼‰
â”‚       ä¾‹ï¼šprintf("Name: %s, Score: %.2f", name, score)
â”‚
â”œâ”€â”€ write(String str)
â”‚   â””â”€â”€ ç›´æ¥å†™å…¥å­—ç¬¦ä¸²å†…å®¹ï¼Œä¸æ ¼å¼åŒ–ã€ä¸æ¢è¡Œï¼ˆç­‰ä»·äº Writer çš„ writeï¼‰
â”‚
â”œâ”€â”€ flush()
â”‚   â””â”€â”€ æ‰‹åŠ¨åˆ·æ–°ç¼“å†²åŒºï¼Œç¡®ä¿æ•°æ®ç«‹åˆ»å†™å‡ºï¼ˆé…åˆ write/print ä½¿ç”¨ï¼‰
â”‚
â”œâ”€â”€ close()
â”‚   â””â”€â”€ å…³é—­æµï¼Œé‡Šæ”¾èµ„æºï¼ˆå…³é—­å‰è‡ªåŠ¨è°ƒç”¨ flushï¼‰
â”‚
â””â”€â”€ checkError()
    â””â”€â”€ æ£€æŸ¥å†™å…¥è¿‡ç¨‹ä¸­æ˜¯å¦å‘ç”Ÿé”™è¯¯ï¼ˆè¿”å› booleanï¼‰
        ä¾‹ï¼šif (pw.checkError()) { ... }
```

### 5.4 PrintWriter å†™å…¥ UTF-8 æ–‡æœ¬æ–‡ä»¶ç¤ºä¾‹


```java
public class PrintWriterExample {
    public static void main(String[] args) {
        try (
            // åŒ…è£… OutputStream â†’ Writer â†’ PrintWriterï¼ŒæŒ‡å®š UTF-8 ç¼–ç 
            PrintWriter pw = new PrintWriter(
                new OutputStreamWriter(new FileOutputStream("print_output.txt"), "UTF-8"), true)
        ) {
            // print/println: åŸºæœ¬æ•°æ®ç±»å‹æˆ–å­—ç¬¦ä¸²ï¼ˆè‡ªåŠ¨æ¢è¡Œï¼‰
            pw.println("Hello, PrintWriter!");
            pw.println(123);
            pw.println(true);

            // printf: æ ¼å¼åŒ–è¾“å‡ºï¼ˆç±»ä¼¼ C é£æ ¼ï¼‰
            String name = "Tom";
            double score = 88.5;
            pw.printf("å­¦ç”Ÿï¼š%sï¼Œæˆç»©ï¼š%.2f åˆ†%n", name, score);  // %n ä¸ºå¹³å°æ¢è¡Œç¬¦

            // write: å†™å…¥åŸå§‹å­—ç¬¦åºåˆ—ï¼ˆä¸å¸¦æ¢è¡Œï¼‰
            pw.write("è¿™æ˜¯writeæ–¹æ³•å†™å…¥çš„ä¸€è¡Œ");
            pw.write("\n");

            // æ£€æŸ¥æ˜¯å¦æœ‰é”™è¯¯ï¼ˆå†™å…¥å¤±è´¥ï¼‰
            if (pw.checkError()) {
                System.out.println("å†™å…¥å‡ºç°é”™è¯¯ï¼");
            }

        } catch (IOException e) {
            e.printStackTrace();
        }
    }
}

/*
è¾“å‡ºæ–‡ä»¶å†…å®¹ç¤ºä¾‹ï¼ˆprint_output.txtï¼‰ï¼š
Hello, PrintWriter!
123
true
å­¦ç”Ÿï¼šTomï¼Œæˆç»©ï¼š88.50 åˆ†
è¿™æ˜¯writeæ–¹æ³•å†™å…¥çš„ä¸€è¡Œ
*/
```

### 5.5 PrintWriter è¾“å‡ºé‡å®šå‘åˆ°æ§åˆ¶å°ç¤ºä¾‹


```java
public class RedirectToConsole {
    public static void main(String[] args) {
        // åˆ›å»ºä¸€ä¸ª PrintWriter åŒ…è£… System.outï¼Œå®ç°æ ¼å¼åŒ–æ§åˆ¶å°è¾“å‡º
        PrintWriter out = new PrintWriter(System.out, true);

        out.println("è¿™æ˜¯é€šè¿‡ PrintWriter è¾“å‡ºåˆ°æ§åˆ¶å°çš„å†…å®¹ï¼");
        out.printf("å½“å‰æ—¶é—´æˆ³ï¼š%d%n", System.currentTimeMillis());

        // å…³é—­ä¸æ˜¯å¿…é¡»ï¼ˆSystem.out ä¸åº”å…³é—­ï¼‰ï¼Œæ­¤å¤„çœç•¥
    }
}

/*
è¯´æ˜ï¼š
â€¢ System.out æ˜¯å­—èŠ‚æµï¼Œç”¨ PrintWriter(System.out) æä¾›å­—ç¬¦çº§åˆ«çš„æ ¼å¼åŒ–è¾“å‡º
â€¢ ç¬¬äºŒä¸ªå‚æ•°è®¾ä¸º trueï¼Œå¯è‡ªåŠ¨ flush()
â€¢ ä¸åº”æ‰‹åŠ¨å…³é—­ System.out
*/
```

### 5.6 PrintWriter åŒæ—¶è¾“å‡ºåˆ°æ§åˆ¶å°å’Œæ–‡ä»¶ç¤ºä¾‹


```java
public class MultiOutputDemo {
    public static void main(String[] args) {
        try (
            // æ§åˆ¶å°è¾“å‡º
            PrintWriter console = new PrintWriter(System.out, true);
            // æ–‡ä»¶è¾“å‡º UTF-8
            PrintWriter file = new PrintWriter(
                new OutputStreamWriter(new FileOutputStream("log.txt"), "UTF-8"), true)
        ) {
            String message = "æ—¥å¿—ä¿¡æ¯ï¼šç¨‹åºè¿è¡ŒæˆåŠŸï¼";

            // åŒæ—¶è¾“å‡ºåˆ°ä¸¤ä¸ªåœ°æ–¹
            console.println(message);
            file.println(message);

            // è¿˜å¯æ ¼å¼åŒ–è¾“å‡º
            console.printf("ç»“æœè¾“å‡ºï¼š%.2f%n", Math.PI);
            file.printf("ç»“æœè¾“å‡ºï¼š%.2f%n", Math.PI);
            
        } catch (IOException e) {
            e.printStackTrace();
        }
    }
}

/*
è¯´æ˜ï¼š
â€¢ PrintWriter(System.out) å¯å®Œå…¨æ›¿ä»£ System.out.println()
â€¢ è‡ªåŠ¨ flush é€šè¿‡æ„é€ å‡½æ•°ç¬¬äºŒä¸ªå‚æ•°è®¾ç½®ä¸º true å®ç°
â€¢ åŒä¸€æ¡å†…å®¹è¾“å‡ºåˆ°ç»ˆç«¯å’Œæ—¥å¿—æ–‡ä»¶ï¼Œå®ç°"å¤šè·¯å¹¿æ’­"æ•ˆæœ
*/
```

### 5.7 ä½¿ç”¨å»ºè®®ä¸æ³¨æ„äº‹é¡¹


| ç‚¹ä½ | **è¯´æ˜** |
|------|----------|
| **ç¼–ç é—®é¢˜** | `ç”¨ OutputStreamWriter(..., "UTF-8") æ˜ç¡®æŒ‡å®šç¼–ç ï¼Œé¿å…ä¹±ç ` |
| **flush è‡ªåŠ¨åˆ·æ–°** | `æ„é€ å‡½æ•°ä¸­è®¾ç½® autoFlush = true å¯è‡ªåŠ¨è°ƒç”¨ flush()` |
| **println vs write** | `println() è‡ªåŠ¨æ¢è¡Œï¼›write() ä¸æ¢è¡Œï¼Œé€‚åˆæ‰‹åŠ¨æ§åˆ¶` |
| **try-with-resources** | `è‡ªåŠ¨å…³é—­ï¼Œé‡Šæ”¾èµ„æºï¼ˆæ¨èï¼‰` |

### 5.8 ä½¿ç”¨åœºæ™¯


| åœºæ™¯ | **ç¤ºä¾‹** |
|------|----------|
| **å†™å…¥æ ¼å¼åŒ–æ–‡æœ¬æ—¥å¿—** | `pw.printf("[%s] %s", time, msg);` |
| **æ›¿ä»£ System.out** | `PrintWriter pw = new PrintWriter(System.out);` |
| **å†™æ–‡æœ¬åˆ°æ–‡ä»¶ï¼ˆå¦‚æŠ¥å‘Šã€æ—¥å¿—ï¼‰** | `PrintWriter pw = new PrintWriter("log.txt");` |
| **ç½‘ç»œè¾“å‡ºæ–‡æœ¬æ•°æ®** | `åŒ…è£… Socket çš„ OutputStream` |

### 5.9 ä¸å…¶ä»– Writer çš„å¯¹æ¯”


| ç±»å | **æ˜¯å¦ç¼“å†²** | **æ˜¯å¦æ”¯æŒæ ¼å¼åŒ–** | **æ˜¯å¦æ”¯æŒ println** | **ç¼–ç å¯æŒ‡å®š** | **é€‚ç”¨åœºæ™¯** |
|------|-------------|------------------|-------------------|-------------|-------------|
| **FileWriter** | `å¦` | `å¦` | `å¦` | `å¦` | `åŸºç¡€æ–‡ä»¶å†™å…¥ï¼ˆä¸æ¨èï¼‰` |
| **BufferedWriter** | `æ˜¯` | `å¦` | `å¦` | `å¦` | `å¤§æ–‡ä»¶å†™å…¥ï¼Œæé«˜æ€§èƒ½` |
| **OutputStreamWriter** | `å¦` | `å¦` | `å¦` | `âœ…` | `å­—ç¬¦ â†’ å­—èŠ‚è½¬æ¢æ¡¥æ¥æµ` |
| **PrintWriter** | `âœ…` | `âœ…` | `âœ…` | `âœ…` | `æ ¼å¼åŒ–å†™æ–‡ä»¶/æ§åˆ¶å°ï¼Œå¸¸ç”¨æ—¥å¿—` |

---

## 6. ğŸ’¾ å­—ç¬¦ä¸²å­—ç¬¦æµ


### 6.1 å­—ç¬¦ä¸²å­—ç¬¦æµæ¦‚è¿°


```java
å­—ç¬¦ä¸²å­—ç¬¦æµæ¦‚è¿°ï¼ˆOverviewï¼‰
â”œâ”€â”€ âœ… å®šä¹‰
â”‚   â”œâ”€â”€ StringReader
â”‚   â”‚   â”œâ”€â”€ ç±»å‹ï¼šå­—ç¬¦è¾“å…¥æµï¼ˆç»§æ‰¿è‡ª Readerï¼‰
â”‚   â”‚   â””â”€â”€ åŠŸèƒ½ï¼šä»å­—ç¬¦ä¸²ä¸­è¯»å–å­—ç¬¦ï¼Œæ¨¡æ‹Ÿè¾“å…¥
â”‚   â””â”€â”€ StringWriter
â”‚       â”œâ”€â”€ ç±»å‹ï¼šå­—ç¬¦è¾“å‡ºæµï¼ˆç»§æ‰¿è‡ª Writerï¼‰
â”‚       â””â”€â”€ åŠŸèƒ½ï¼šå°†å­—ç¬¦å†™å…¥åˆ°å­—ç¬¦ä¸²ç¼“å†²åŒºï¼Œæ¨¡æ‹Ÿè¾“å‡º
â”‚
â”œâ”€â”€ âœ… åº”ç”¨åœºæ™¯
â”‚   â”œâ”€â”€ ä½¿ç”¨ StringReader
â”‚   â”‚   â”œâ”€â”€ æµ‹è¯•æ—¶ä»£æ›¿æ–‡ä»¶è¾“å…¥ï¼ˆæ— éœ€ç£ç›˜ï¼‰
â”‚   â”‚   â””â”€â”€ ä»å·²æœ‰å­—ç¬¦ä¸²ä¸­è¯»å–æ–‡æœ¬å†…å®¹ï¼ˆæŒ‰å­—ç¬¦æˆ–è¡Œï¼‰
â”‚   â””â”€â”€ ä½¿ç”¨ StringWriter
â”‚       â”œâ”€â”€ æ„å»ºåŠ¨æ€å­—ç¬¦ä¸²ï¼ˆå¦‚æ—¥å¿—ã€æ¨¡æ¿ï¼‰
â”‚       â”œâ”€â”€ æ•è· Writer è¾“å‡ºå†…å®¹
â”‚       â””â”€â”€ å°†ä¸­é—´å¤„ç†ç»“æœæš‚å­˜äºå†…å­˜ä¸­ï¼Œé¿å…æ–‡ä»¶å†™å…¥
```

### 6.2 ç±»ç»“æ„ä¸ç»§æ‰¿ä½“ç³»


```java
java.io.Reader
   â””â”€â”€ StringReader

java.io.Writer
   â””â”€â”€ StringWriter

// éƒ½å±äº å­—ç¬¦æµä½“ç³»ï¼ˆåŸºäº char å•ä½ï¼‰
// ä¸æ¶‰åŠåº•å±‚ I/O è®¾å¤‡ï¼ŒåŸºäºå†…å­˜çš„å­—ç¬¦ä¸²å¤„ç†
```

### 6.3 StringReader ä»‹ç»


| æ–¹æ³•å | **è¯´æ˜** |
|--------|----------|
| `StringReader(String str)` | `ä»¥æŒ‡å®šå­—ç¬¦ä¸²ä¸ºæºæ„é€ è¯»å–å™¨` |
| `int read()` | `è¯»å–å•ä¸ªå­—ç¬¦ï¼Œè¿”å› int å‹å­—ç¬¦ï¼ˆæˆ– -1ï¼‰` |
| `int read(char[] cbuf, int off, int len)` | `æ‰¹é‡è¯»å–å­—ç¬¦` |
| `boolean ready()` | `åˆ¤æ–­æ˜¯å¦å¯è¯»å–ï¼Œä¸é˜»å¡` |
| `void close()` | `å…³é—­æµ` |

```java
StringReaderï¼ˆå­—ç¬¦ä¸²è¾“å…¥æµï¼‰
â”œâ”€â”€ ä½œç”¨ï¼šå°†å­—ç¬¦ä¸²ä½œä¸ºå­—ç¬¦è¾“å…¥æºï¼ˆReaderï¼‰
â”œâ”€â”€ ç‰¹ç‚¹ï¼š
â”‚   â”œâ”€â”€ æ”¯æŒæŒ‰å­—ç¬¦è¯»å–ï¼Œä¹Ÿå¯æ‰¹é‡è¯»å–
â”‚   â”œâ”€â”€ å†…éƒ¨åŸºäº char[]ï¼Œä¸ä¾èµ–ç£ç›˜
â”‚   â””â”€â”€ æ”¯æŒ reset() å›åˆ°å¼€å¤´ï¼Œready() åˆ¤æ–­æ˜¯å¦å¯è¯»
â”œâ”€â”€ å¸¸ç”¨æ„é€ ï¼š
â”‚   â””â”€â”€ new StringReader(String str)
â”œâ”€â”€ ç¤ºä¾‹ç”¨é€”ï¼š
â”‚   â”œâ”€â”€ ä»é…ç½®å­—ç¬¦ä¸²ä¸­æŒ‰è¡Œè¯»å–
â”‚   â””â”€â”€ åœ¨æµ‹è¯•ä¸­æ›¿ä»£æ–‡ä»¶ Reader
```

### 6.4 StringWriter ä»‹ç»


| æ–¹æ³•å | **è¯´æ˜** |
|--------|----------|
| `StringWriter()` | `æ„é€ ä¸€ä¸ªåŸºäºé»˜è®¤ç¼“å†²åŒºå¤§å°çš„å†™å…¥å™¨` |
| `void write(String str)` | `å†™å…¥å­—ç¬¦ä¸²` |
| `void write(char[] cbuf)` | `å†™å…¥å­—ç¬¦æ•°ç»„` |
| `void append(CharSequence csq)` | `é™„åŠ å­—ç¬¦åºåˆ—ï¼ˆæ”¯æŒé“¾å¼è°ƒç”¨ï¼‰` |
| `String toString()` | `è·å–å†™å…¥çš„æ‰€æœ‰å­—ç¬¦ä¸²` |
| `void flush()` | `æ¸…ç©ºç¼“å†²åŒºï¼ˆå®é™…ä¸Šæ²¡å¿…è¦ï¼‰` |
| `void close()` | `å…³é—­æµï¼ˆå¯¹å†…å­˜æµæ— å½±å“ï¼‰` |

```java
StringWriterï¼ˆå­—ç¬¦ä¸²è¾“å‡ºæµï¼‰
â”œâ”€â”€ ä½œç”¨ï¼šå°†å­—ç¬¦æ•°æ®å†™å…¥ StringBuffer ç¼“å­˜ä¸­
â”œâ”€â”€ ç‰¹ç‚¹ï¼š
â”‚   â”œâ”€â”€ å¯ä½¿ç”¨ write()/append() æ–¹æ³•å†™å…¥å­—ç¬¦/å­—ç¬¦ä¸²
â”‚   â”œâ”€â”€ æœ€ç»ˆé€šè¿‡ toString() è·å–æ•´ä¸ªå­—ç¬¦ä¸²å†…å®¹
â”‚   â””â”€â”€ è‡ªåŠ¨æ‰©å®¹ï¼Œæ€§èƒ½ä¼˜äºæ‰‹åŠ¨æ‹¼æ¥
â”œâ”€â”€ å¸¸ç”¨æ„é€ ï¼š
â”‚   â”œâ”€â”€ new StringWriter()
â”‚   â””â”€â”€ new StringWriter(int initialSize)
â”œâ”€â”€ ç¤ºä¾‹ç”¨é€”ï¼š
â”‚   â”œâ”€â”€ åŠ¨æ€æ„å»º HTMLã€SQL ç­‰
â”‚   â”œâ”€â”€ ä¸­é—´ç¼“å­˜æ¨¡æ¿å¼•æ“ç»“æœ
â”‚   â””â”€â”€ æ•è· Writer è¾“å‡ºå†…å®¹
```

### 6.5 StringReader è¯»å–å­—ç¬¦ä¸²ç¤ºä¾‹


```java
public class StringReaderExample {
    public static void main(String[] args) throws Exception {
        String data = "Hello, Java IO!";
        StringReader reader = new StringReader(data);
        int ch;
        while ((ch = reader.read()) != -1) {
            System.out.print((char) ch);
        }
        reader.close();
    }
}
```

### 6.6 StringWriter å†™å…¥å­—ç¬¦ä¸²ç¤ºä¾‹


```java
public class StringWriterExample {
    public static void main(String[] args) throws Exception {
        StringWriter writer = new StringWriter();
        writer.write("Hello ");
        writer.append("World!");
        String result = writer.toString();
        System.out.println(result);
        writer.close();
    }
}
```

### 6.7 StringReader + BufferedReader é…åˆä½¿ç”¨ç¤ºä¾‹


```java
public class StringReaderBufferedReaderDemo {
    public static void main(String[] args) throws Exception {
        String data = "line1\nline2\nline3";
        StringReader sr = new StringReader(data);
        BufferedReader br = new BufferedReader(sr);

        String line;
        while ((line = br.readLine()) != null) {
            System.out.println("è¯»å–è¡Œå†…å®¹: " + line);
        }

        br.close(); // å¯é€‰ï¼ŒStringReader æ— éœ€çœŸæ­£å…³é—­
    }
}

/*
è¯´æ˜ï¼š
â€¢ BufferedReader çš„ readLine() å…·å¤‡è¯»å–"é€»è¾‘è¡Œ"çš„èƒ½åŠ›ï¼Œæ¯”å•å­—ç¬¦è¯»å–æ›´é«˜æ•ˆ
â€¢ æ¨¡æ‹Ÿä»å­—ç¬¦ä¸²è€Œä¸æ˜¯æ–‡ä»¶ä¸­è¯»å–å†…å®¹ï¼Œé€‚åˆå•å…ƒæµ‹è¯•å’Œå¿«é€Ÿæµ‹è¯•é€»è¾‘
*/
```

### 6.8 StringWriter å®ç°ç®€æ˜“æ¨¡æ¿å¼•æ“åŠŸèƒ½


```java
public class TemplateEngineExample {
    public static void main(String[] args) {
        StringWriter writer = new StringWriter();

        String name = "å°æ˜";
        int age = 25;

        writer.write("æ‚¨å¥½ï¼Œ");
        writer.write(name);
        writer.write("ï¼æ‚¨ä»Šå¹´ ");
        writer.write(Integer.toString(age));
        writer.write(" å²ã€‚\n");

        writer.write("æ¬¢è¿ä½¿ç”¨æˆ‘ä»¬çš„ç®€æ˜“æ¨¡æ¿ç³»ç»Ÿï¼");

        // æœ€ç»ˆç”Ÿæˆçš„"é¡µé¢"å†…å®¹
        String result = writer.toString();
        System.out.println("ç”Ÿæˆç»“æœï¼š\n" + result);
    }
}

/*
è¯´æ˜ï¼š
â€¢ è¿™ç§æ–¹å¼ç±»ä¼¼äºæ„é€  HTML é¡µé¢ã€æ—¥å¿—è®°å½•ã€é‚®ä»¶æ­£æ–‡ç­‰
â€¢ å¯æ‹“å±•æˆå¸¦å ä½ç¬¦æ›¿æ¢çš„æ¨¡æ¿ç³»ç»Ÿ
*/
```

### 6.9 æ³¨æ„äº‹é¡¹ä¸å¸¸è§è¯¯åŒº


| æ³¨æ„ç‚¹ | **è¯´æ˜** |
|--------|----------|
| **âœ… ä¸éœ€è¦å…³è”æ–‡ä»¶** | `å®ƒä»¬åŸºäºå†…å­˜ï¼Œä¸éœ€è¦æ–‡ä»¶è·¯å¾„æˆ–å­—èŠ‚æµæ”¯æŒ` |
| **âœ… å¯ç”¨äºå•å…ƒæµ‹è¯•** | `å¸¸ç”¨äºæ¨¡æ‹Ÿè¾“å…¥/è¾“å‡ºæ•°æ®è¿›è¡Œæµ‹è¯•` |
| **âš ï¸ close() æ— å®è´¨å½±å“** | `å¯¹ StringReader å’Œ StringWriter è°ƒç”¨ close() ä¸ä¼šé‡Šæ”¾ç³»ç»Ÿèµ„æºï¼Œä»…ä¸ºè§„èŒƒå½¢å¼` |
| **âš ï¸ ä¸é€‚åˆå¤§æ•°æ®æµ** | `å¤„ç†å¤§æ•°æ®æ—¶ä¸å¦‚ BufferedReader/FileReader æˆ–æ–‡ä»¶æµé«˜æ•ˆ` |

### 6.10 ä¸å…¶ä»–å­—ç¬¦æµå¯¹æ¯”


| ç±»åˆ« | **æ˜¯å¦åŸºäºå†…å­˜** | **æ˜¯å¦æ”¯æŒæ ¼å¼åŒ–** | **é€‚åˆå¤„ç†** | **æ˜¯å¦çº¿ç¨‹å®‰å…¨** |
|------|-----------------|------------------|-------------|---------------|
| `StringReader` | `âœ… æ˜¯` | `âŒ å¦` | `å­—ç¬¦ä¸²è¯»å–` | `âŒ å¦` |
| `StringWriter` | `âœ… æ˜¯` | `âŒ å¦` | `å­—ç¬¦ä¸²å†™å…¥` | `âŒ å¦` |
| `BufferedReader` | `âŒ å¦` | `âŒ å¦` | `æ–‡ä»¶ / ç½‘ç»œè¾“å…¥` | `âŒ å¦` |
| `PrintWriter` | `âŒ å¦` | `âœ… æ˜¯` | `æ ¼å¼åŒ–å†™å…¥è¾“å‡ºæµ` | `âŒ å¦` |
| `CharArrayReader`/`Writer` | `âœ… æ˜¯` | `âŒ å¦` | `åŸºäºå­—ç¬¦æ•°ç»„çš„è¯»å†™` | `âŒ å¦` |

---

## 7. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 7.1 å¿…é¡»æŒæ¡çš„åŸºæœ¬æ¦‚å¿µ


```java
ğŸ”¸ å­—ç¬¦æµç‰¹ç‚¹ï¼šä¸“é—¨å¤„ç†æ–‡æœ¬æ•°æ®ï¼Œä»¥å­—ç¬¦ä¸ºå•ä½è¿›è¡Œæ“ä½œ
ğŸ”¸ æ–‡ä»¶æµï¼šFileReader/FileWriterï¼Œç›´æ¥æ“ä½œæ–‡æœ¬æ–‡ä»¶ï¼Œä½¿ç”¨ç³»ç»Ÿé»˜è®¤ç¼–ç 
ğŸ”¸ ç¼“å†²æµï¼šBufferedReader/Writerï¼Œæä¾›ç¼“å†²å’Œè¡Œæ“ä½œï¼Œæå‡æ€§èƒ½
ğŸ”¸ æ¡¥æ¥æµï¼šInputStreamReader/OutputStreamWriterï¼Œå­—èŠ‚æµä¸å­—ç¬¦æµè½¬æ¢ï¼Œå¯æŒ‡å®šç¼–ç 
ğŸ”¸ æ‰“å°æµï¼šPrintWriterï¼Œæ ¼å¼åŒ–è¾“å‡ºï¼Œæ”¯æŒå¤šç§æ•°æ®ç±»å‹å’Œ printf
ğŸ”¸ å†…å­˜æµï¼šStringReader/Writerï¼ŒåŸºäºå†…å­˜å­—ç¬¦ä¸²æ“ä½œï¼Œç”¨äºæµ‹è¯•å’Œæ¨¡æ¿
```

### 7.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ å­—ç¬¦æµä¸å­—èŠ‚æµçš„é€‰æ‹©**
```
å­—ç¬¦æµé€‚ç”¨åœºæ™¯ï¼š
â€¢ å¤„ç†çº¯æ–‡æœ¬æ–‡ä»¶ï¼ˆ.txt, .java, .xml, .htmlï¼‰
â€¢ éœ€è¦æŒ‰è¡Œè¯»å–æˆ–æ ¼å¼åŒ–è¾“å‡º
â€¢ å…³å¿ƒå­—ç¬¦ç¼–ç è½¬æ¢

å­—èŠ‚æµé€‚ç”¨åœºæ™¯ï¼š
â€¢ å¤„ç†äºŒè¿›åˆ¶æ–‡ä»¶ï¼ˆå›¾ç‰‡ã€éŸ³é¢‘ã€è§†é¢‘ï¼‰
â€¢ ç½‘ç»œä¼ è¾“åŸå§‹æ•°æ®
â€¢ ä¸æ¶‰åŠå­—ç¬¦ç¼–ç è½¬æ¢
```

**ğŸ”¹ ç¼–ç é—®é¢˜çš„è§£å†³**
```
é—®é¢˜æ ¹æºï¼š
FileReader/FileWriter ä½¿ç”¨ç³»ç»Ÿé»˜è®¤ç¼–ç 
ä¸åŒæ“ä½œç³»ç»Ÿé»˜è®¤ç¼–ç ä¸åŒï¼ˆWindows:GBK, Linux:UTF-8ï¼‰

è§£å†³æ–¹æ¡ˆï¼š
ä½¿ç”¨æ¡¥æ¥æµæŒ‡å®šç¼–ç ï¼š
InputStreamReader(inputStream, "UTF-8")
OutputStreamWriter(outputStream, "UTF-8")

æœ€ä½³å®è·µï¼š
ç»Ÿä¸€ä½¿ç”¨ UTF-8 ç¼–ç ï¼Œç¡®ä¿è·¨å¹³å°å…¼å®¹
```

**ğŸ”¹ æµçš„ç»„åˆä½¿ç”¨æ¨¡å¼**
```
é«˜æ•ˆè¯»å–æ–‡æœ¬ï¼š
BufferedReader + InputStreamReader + FileInputStream

é«˜æ•ˆå†™å…¥æ–‡æœ¬ï¼š
BufferedWriter + OutputStreamWriter + FileOutputStream

æ ¼å¼åŒ–è¾“å‡ºï¼š
PrintWriter + OutputStreamWriter + FileOutputStream

æŒ‰è¡Œå¤„ç†ï¼š
BufferedReader.readLine() / BufferedWriter.newLine()
```

### 7.3 å®é™…åº”ç”¨ä»·å€¼


**ğŸ’¡ å…¸å‹åº”ç”¨åœºæ™¯**
- **é…ç½®æ–‡ä»¶å¤„ç†**ï¼šä½¿ç”¨ç¼“å†²å­—ç¬¦æµæŒ‰è¡Œè¯»å–é…ç½®
- **æ—¥å¿—ç³»ç»Ÿ**ï¼šä½¿ç”¨ PrintWriter æ ¼å¼åŒ–è¾“å‡ºæ—¥å¿—
- **å›½é™…åŒ–åº”ç”¨**ï¼šä½¿ç”¨æ¡¥æ¥æµå¤„ç†å¤šè¯­è¨€æ–‡æœ¬
- **æ¨¡æ¿å¼•æ“**ï¼šä½¿ç”¨ StringWriter æ„å»ºåŠ¨æ€å†…å®¹
- **æ•°æ®å¯¼å…¥å¯¼å‡º**ï¼šä½¿ç”¨å­—ç¬¦æµå¤„ç† CSVã€XML ç­‰æ ¼å¼

**ğŸ”§ å·¥ç¨‹å®è·µæŒ‡å¯¼**
- **ç¼–ç ç»Ÿä¸€**ï¼šé¡¹ç›®ä¸­ç»Ÿä¸€ä½¿ç”¨ UTF-8 ç¼–ç 
- **æ€§èƒ½ä¼˜åŒ–**ï¼šå¤§æ–‡ä»¶å¤„ç†ä½¿ç”¨ç¼“å†²æµ
- **èµ„æºç®¡ç†**ï¼šä½¿ç”¨ try-with-resources è‡ªåŠ¨å…³é—­æµ
- **å¼‚å¸¸å¤„ç†**ï¼šå¦¥å–„å¤„ç†ç¼–ç å¼‚å¸¸å’Œ IO å¼‚å¸¸

### 7.4 æµçš„é€‰æ‹©å†³ç­–æ ‘


```
å¤„ç†æ–‡æœ¬è¿˜æ˜¯äºŒè¿›åˆ¶ï¼Ÿ
â”œâ”€â”€ æ–‡æœ¬
â”‚   â”œâ”€â”€ éœ€è¦æŒ‡å®šç¼–ç ï¼Ÿ
â”‚   â”‚   â”œâ”€â”€ æ˜¯ â†’ InputStreamReader/OutputStreamWriter
â”‚   â”‚   â””â”€â”€ å¦ â†’ FileReader/FileWriter
â”‚   â”œâ”€â”€ éœ€è¦æŒ‰è¡Œå¤„ç†ï¼Ÿ
â”‚   â”‚   â””â”€â”€ æ˜¯ â†’ BufferedReader/BufferedWriter
â”‚   â”œâ”€â”€ éœ€è¦æ ¼å¼åŒ–è¾“å‡ºï¼Ÿ
â”‚   â”‚   â””â”€â”€ æ˜¯ â†’ PrintWriter
â”‚   â””â”€â”€ åŸºäºå†…å­˜å­—ç¬¦ä¸²ï¼Ÿ
â”‚       â””â”€â”€ æ˜¯ â†’ StringReader/StringWriter
â””â”€â”€ äºŒè¿›åˆ¶ â†’ ä½¿ç”¨å­—èŠ‚æµ
```

### 7.5 å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ


| é—®é¢˜ç±»å‹ | **å¸¸è§åŸå› ** | **è§£å†³æ–¹æ¡ˆ** |
|----------|-------------|-------------|
| **ä¸­æ–‡ä¹±ç ** | `ä½¿ç”¨ç³»ç»Ÿé»˜è®¤ç¼–ç ` | `ä½¿ç”¨æ¡¥æ¥æµæŒ‡å®š UTF-8 ç¼–ç ` |
| **æ€§èƒ½é—®é¢˜** | `é¢‘ç¹çš„å°é‡è¯»å†™` | `ä½¿ç”¨ç¼“å†²æµåŒ…è£…` |
| **æ¢è¡Œç¬¦é—®é¢˜** | `ç¡¬ç¼–ç  \n` | `ä½¿ç”¨ BufferedWriter.newLine()` |
| **èµ„æºæ³„æ¼** | `æœªæ­£ç¡®å…³é—­æµ` | `ä½¿ç”¨ try-with-resources` |
| **æ ¼å¼åŒ–å¤æ‚** | `æ‰‹åŠ¨æ‹¼æ¥å­—ç¬¦ä¸²` | `ä½¿ç”¨ PrintWriter.printf()` |

### 7.6 æœ€ä½³å®è·µæ€»ç»“


```java
å­—ç¬¦æµä½¿ç”¨æœ€ä½³å®è·µ
â”œâ”€â”€ ç¼–ç å¤„ç†
â”‚   â”œâ”€â”€ ç»Ÿä¸€ä½¿ç”¨ UTF-8 ç¼–ç 
â”‚   â”œâ”€â”€ æ˜ç¡®æŒ‡å®šç¼–ç è€Œéä¾èµ–ç³»ç»Ÿé»˜è®¤
â”‚   â””â”€â”€ æ–‡ä»¶ä¿å­˜ç¼–ç ä¸è¯»å–ç¼–ç ä¿æŒä¸€è‡´
â”‚
â”œâ”€â”€ æ€§èƒ½ä¼˜åŒ–
â”‚   â”œâ”€â”€ å¤§æ–‡ä»¶ä½¿ç”¨ç¼“å†²æµ
â”‚   â”œâ”€â”€ åˆç†è®¾ç½®ç¼“å†²åŒºå¤§å°
â”‚   â””â”€â”€ é¿å…é¢‘ç¹çš„ flush() è°ƒç”¨
â”‚
â”œâ”€â”€ ä»£ç è§„èŒƒ
â”‚   â”œâ”€â”€ ä½¿ç”¨ try-with-resources ç®¡ç†èµ„æº
â”‚   â”œâ”€â”€ åŠæ—¶å…³é—­æµé‡Šæ”¾èµ„æº
â”‚   â””â”€â”€ å¦¥å–„å¤„ç† IOException
â”‚
â””â”€â”€ åŠŸèƒ½é€‰æ‹©
    â”œâ”€â”€ æŒ‰è¡Œå¤„ç†é€‰æ‹© BufferedReader/Writer
    â”œâ”€â”€ æ ¼å¼åŒ–è¾“å‡ºé€‰æ‹© PrintWriter
    â”œâ”€â”€ ç¼–ç è½¬æ¢é€‰æ‹©æ¡¥æ¥æµ
    â””â”€â”€ æµ‹è¯•åœºæ™¯é€‰æ‹©å†…å­˜æµ
```