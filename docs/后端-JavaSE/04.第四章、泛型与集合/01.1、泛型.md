---
title: 1ã€æ³›å‹
---
## ğŸ“š ç›®å½•

1. [æ³›å‹åŸºç¡€æ¦‚å¿µ](#1-æ³›å‹åŸºç¡€æ¦‚å¿µ)
2. [æ³›å‹ç±»æ¥å£æ–¹æ³•](#2-æ³›å‹ç±»æ¥å£æ–¹æ³•)
3. [é€šé…ç¬¦ä½¿ç”¨](#3-é€šé…ç¬¦ä½¿ç”¨)
4. [ç±»å‹æ“¦é™¤æœºåˆ¶](#4-ç±»å‹æ“¦é™¤æœºåˆ¶)
5. [å¸¸è§é™åˆ¶ä¸æ³¨æ„äº‹é¡¹](#5-å¸¸è§é™åˆ¶ä¸æ³¨æ„äº‹é¡¹)
6. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#6-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ¯ æ³›å‹åŸºç¡€æ¦‚å¿µ


### 1.1 æ³›å‹çš„æœ¬è´¨å®šä¹‰


**ğŸ”¸ æ ¸å¿ƒæ¦‚å¿µ**
```
æ³›å‹ï¼ˆGenericsï¼‰ï¼šJavaæä¾›çš„ä¸€ç§å‚æ•°åŒ–ç±»å‹æœºåˆ¶
ä½œç”¨ï¼šå…è®¸åœ¨ç±»ã€æ¥å£ã€æ–¹æ³•ä¸­ä½¿ç”¨ç±»å‹ä½œä¸ºå‚æ•°
ç›®æ ‡ï¼šæé«˜ä»£ç çš„ç±»å‹å®‰å…¨æ€§ã€å¯è¯»æ€§å’Œå¯å¤ç”¨æ€§
å¼•å…¥ç‰ˆæœ¬ï¼šJDK 1.5ï¼ˆJava 5ï¼‰
```

**ğŸ’¡ æ³›å‹è§£å†³çš„æ ¸å¿ƒé—®é¢˜**
```
ä¼ ç»Ÿé—®é¢˜ï¼š
â€¢ ç±»å‹è½¬æ¢é”™è¯¯åœ¨è¿è¡Œæ—¶æ‰å‘ç°
â€¢ å¤§é‡çš„å¼ºåˆ¶ç±»å‹è½¬æ¢ä»£ç 
â€¢ ä»£ç å¤ç”¨æ€§å·®ï¼Œä¸ºä¸åŒç±»å‹é‡å¤ç¼–å†™ç›¸ä¼¼ä»£ç 
â€¢ é›†åˆæ“ä½œç¼ºä¹ç±»å‹å®‰å…¨ä¿éšœ

æ³›å‹ä¼˜åŠ¿ï¼š
â€¢ ç¼–è¯‘æ—¶ç±»å‹æ£€æŸ¥ï¼Œæå‰å‘ç°é”™è¯¯
â€¢ æ¶ˆé™¤å¼ºåˆ¶ç±»å‹è½¬æ¢
â€¢ æé«˜ä»£ç å¤ç”¨æ€§
â€¢ å¢å¼ºä»£ç å¯è¯»æ€§
```

### 1.2 æ³›å‹çš„æ ¸å¿ƒä¼˜åŠ¿


| **æ ¸å¿ƒä¼˜åŠ¿** | **è¯´æ˜** | **ç¤ºä¾‹å¯¹æ¯”** |
|-------------|---------|-------------|
| **ç±»å‹å®‰å…¨** | åœ¨ç¼–è¯‘é˜¶æ®µæ•è·ç±»å‹é”™è¯¯ï¼Œé¿å…è¿è¡Œæ—¶å¼‚å¸¸ | `List<String>` vs `List` |
| **æ¶ˆé™¤å¼ºåˆ¶ç±»å‹è½¬æ¢** | æ— éœ€æ˜¾å¼è½¬æ¢ï¼Œä»£ç æ›´ç®€æ´ã€å®‰å…¨ | `list.get(0)` ç›´æ¥è¿”å›æ­£ç¡®ç±»å‹ |
| **é€šç”¨æ€§å¼º** | åŒä¸€å¥—ä»£ç é€‚ç”¨äºå¤šç§æ•°æ®ç±»å‹ï¼Œæå‡å¯å¤ç”¨æ€§ | `Box<T>` å¯å­˜å‚¨ä»»æ„ç±»å‹ |
| **æ€§èƒ½ä¼˜åŒ–** | å‡å°‘è£…ç®±/æ‹†ç®±ï¼Œæé«˜ä»£ç æ‰§è¡Œæ•ˆç‡ | é¿å… `Object` ç±»å‹è½¬æ¢å¼€é”€ |

### 1.3 ç±»å‹å‚æ•°å‘½åçº¦å®š


| **ç±»å‹å‚æ•°** | **å«ä¹‰** | **å¸¸è§åº”ç”¨åœºæ™¯** |
|-------------|---------|-----------------|
| `E` | **Element**ï¼Œé›†åˆä¸­çš„å…ƒç´  | **`List<E>`ã€`Set<E>`** |
| `T` | **Type**ï¼Œé€šç”¨ç±»å‹ | **`Class<T>`ã€`Comparable<T>`** |
| `K` | **Key**ï¼Œæ˜ å°„çš„é”® | **`Map<K, V>`** |
| `V` | **Value**ï¼Œæ˜ å°„çš„å€¼ | **`Map<K, V>`** |
| `N` | **Number**ï¼Œæ•°å€¼ç±»å‹ | **`Numeric<N>`** |
| `?` | **Wildcard**ï¼Œé€šé…ç¬¦ | **`List<?>`** |

### 1.4 æ³›å‹ä½¿ç”¨å‰åå¯¹æ¯”


**âš¡ ä¼ ç»Ÿæ–¹å¼ vs æ³›å‹æ–¹å¼**
```java
// ä¼ ç»Ÿæ–¹å¼ï¼šç±»å‹ä¸å®‰å…¨
List list = new ArrayList();
list.add("Hello");
list.add(123);                    // å¯ä»¥æ·»åŠ ä¸åŒç±»å‹
String str = (String) list.get(0); // éœ€è¦å¼ºåˆ¶è½¬æ¢
String str2 = (String) list.get(1); // è¿è¡Œæ—¶å¼‚å¸¸ï¼

// æ³›å‹æ–¹å¼ï¼šç±»å‹å®‰å…¨
List<String> list = new ArrayList<>();
list.add("Hello");
// list.add(123);                 // ç¼–è¯‘é”™è¯¯ï¼Œç±»å‹ä¸åŒ¹é…
String str = list.get(0);         // æ— éœ€å¼ºåˆ¶è½¬æ¢ï¼Œç±»å‹å®‰å…¨
```

---

## 2. ğŸ—ï¸ æ³›å‹ç±»æ¥å£æ–¹æ³•


### 2.1 æ³›å‹ç±»çš„å®šä¹‰ä¸ä½¿ç”¨


**ğŸ”¸ åŸºç¡€æ³›å‹ç±»**
```java
public class Box<T> {
    private T item;
    
    public void setItem(T item) {
        this.item = item;
    }
    
    public T getItem() {
        return item;
    }
}

// ä½¿ç”¨ç¤ºä¾‹
Box<Integer> integerBox = new Box<>();
integerBox.setItem(10);
Integer intValue = integerBox.getItem(); // ä¸éœ€è¦ç±»å‹è½¬æ¢

// æ³›å‹åµŒå¥—
Box<List<String>> boxOfStringList = new Box<>();
List<String> stringList = new ArrayList<>();
stringList.add("Hello");
boxOfStringList.setItem(stringList);
```

**ğŸ’¼ å¤šç±»å‹å‚æ•°**
```java
public class Pair<K, V> {
    private K key;
    private V value;
    
    public Pair(K key, V value) {
        this.key = key;
        this.value = value;
    }
    
    // Getters and setters
}

// ä½¿ç”¨ç¤ºä¾‹
Pair<String, Integer> pair = new Pair<>("Age", 25);
```

### 2.2 æ³›å‹æ¥å£


**ğŸ”¸ æ¥å£å®šä¹‰ä¸å®ç°**
```java
public interface Comparable<T> {
    int compareTo(T o);
}

// å®ç°æ³›å‹æ¥å£
public class Person implements Comparable<Person> {
    private String name;
    private int age;
    
    @Override
    public int compareTo(Person other) {
        return this.age - other.age;
    }
}
```

### 2.3 æ³›å‹æ–¹æ³•


**ğŸ”¸ æ³›å‹æ–¹æ³•å®šä¹‰**
```java
public class Utilities {
    // æ³›å‹æ–¹æ³•
    public static <T> void printArray(T[] array) {
        for (T element : array) {
            System.out.println(element);
        }
    }
    
    // è¿”å›æ³›å‹ç±»å‹çš„æ–¹æ³•
    public static <T> T getFirst(T[] array) {
        if (array != null && array.length > 0) {
            return array[0];
        }
        return null;
    }
}

// ä½¿ç”¨ç¤ºä¾‹
Integer[] numbers = {1, 2, 3};
Utilities.printArray(numbers);
Integer first = Utilities.getFirst(numbers);
```

**ğŸ”§ å¯å˜å‚æ•°ä¸æ³›å‹ç»“åˆ**
```java
// å¯å˜å‚æ•°ä¸æ³›å‹ç»“åˆ
public static <T> List<T> asList(T... items) {
    List<T> list = new ArrayList<>();
    for (T item : items) {
        list.add(item);
    }
    return list;
}

// ä½¿ç”¨
List<String> strings = asList("a", "b", "c");
```

---

## 3. ğŸŒŸ é€šé…ç¬¦ä½¿ç”¨


### 3.1 PECSåŸåˆ™ç†è§£


**ğŸ¯ Producer Extends, Consumer Super**
```
åœ¨æ³›å‹ç¼–ç¨‹ä¸­ï¼š
â€¢ <? extends T> ä¸»è¦ç”¨äºç”Ÿäº§è€…åŸåˆ™ (PECS)ï¼Œä¿è¯å®‰å…¨è¯»å–ï¼Œä½†ä¸èƒ½å®‰å…¨å†™å…¥
â€¢ <? super T> ä¸»è¦ç”¨äºæ¶ˆè´¹è€…åŸåˆ™ (PECS)ï¼Œå…è®¸å†™å…¥ä½†é™åˆ¶è¯»å–ï¼Œä»¥ç¡®ä¿ç±»å‹å®‰å…¨

æ ¸å¿ƒè®°å¿†ï¼š
"Get ç”¨ extendsï¼ŒPut ç”¨ super"
```

### 3.2 é€šé…ç¬¦ç±»å‹å¯¹æ¯”


| **æ³›å‹å†™æ³•** | **è¯­ä¹‰** | **è¯»/å†™é™åˆ¶** | **é€‚ç”¨åœºæ™¯** |
|-------------|---------|--------------|-------------|
| `<? extends T>` | **ä¸Šç•Œé€šé…ç¬¦**ï¼ŒT æˆ– T çš„å­ç±» | **åªèƒ½è¯»**ï¼Œä¸èƒ½å†™ | **ç”Ÿäº§è€…** (Producer) åœºæ™¯ |
| `<? super T>` | **ä¸‹ç•Œé€šé…ç¬¦**ï¼ŒT æˆ– T çš„çˆ¶ç±» | **åªèƒ½å†™**ï¼Œä¸èƒ½è¯»å…·ä½“ç±»å‹ | **æ¶ˆè´¹è€…** (Consumer) åœºæ™¯ |
| `<?>` | **æ— ç•Œé€šé…ç¬¦**ï¼Œä»»æ„ç±»å‹ | **åªèƒ½è¯»ä½œObject**ï¼Œä¸èƒ½å†™ | **åªè¯»è®¿é—®**åœºæ™¯ |

### 3.3 é€šé…ç¬¦è¯¦ç»†è§£æ


**ğŸ”¸ æ— é™é€šé…ç¬¦ `<?>`**
```java
List<?> list = new ArrayList<String>();  // å¯ä»¥æ˜¯ä»»ä½•ç±»å‹çš„ List
// è¡¨ç¤ºæœªçŸ¥ç±»å‹ï¼Œåªèƒ½è¯»å–ä¸ºObjectï¼Œä¸èƒ½å†™å…¥
```

**ğŸ”¸ ä¸Šç•Œé€šé…ç¬¦ `<? extends T>`**
```java
// è¡¨ç¤ºæŸä¸ªæœªçŸ¥ç±»å‹æ˜¯ T çš„å­ç±»ï¼ˆæˆ– T æœ¬èº«ï¼‰
public void printNumbers(List<? extends Number> list) {
    for (Number n : list) {
        System.out.println(n.doubleValue()); // å¯ä»¥å®‰å…¨è¯»å–
    }
    // list.add(new Integer(1)); // ç¼–è¯‘é”™è¯¯ï¼ä¸èƒ½å†™å…¥
}

// ä¸ºä»€ä¹ˆåªè¯»ä¸å†™ï¼Ÿ
List<? extends Number> numbers = new ArrayList<Integer>();
// numbers å¯èƒ½æ˜¯ List<Integer>ã€List<Double> æˆ– List<Number>
// å¦‚æœæ·»åŠ  Doubleï¼Œä½†å®é™…æ˜¯ List<Integer>ï¼Œå°±ä¼šç ´åç±»å‹å®‰å…¨
```

**ğŸ”¸ ä¸‹ç•Œé€šé…ç¬¦ `<? super T>`**
```java
// è¡¨ç¤ºæŸä¸ªæœªçŸ¥ç±»å‹æ˜¯ T çš„çˆ¶ç±»ï¼ˆæˆ– T æœ¬èº«ï¼‰
public void addIntegers(List<? super Integer> list) {
    list.add(1);        // å¯ä»¥å®‰å…¨å†™å…¥Integer
    list.add(2);        // å¯ä»¥å®‰å…¨å†™å…¥Integer
    // Integer num = list.get(0); // ç¼–è¯‘é”™è¯¯ï¼ä¸èƒ½ç¡®å®šå…·ä½“ç±»å‹
    Object obj = list.get(0);     // åªèƒ½ä»¥Objectè¯»å–
}

// ä¸ºä»€ä¹ˆå¯å†™ä¸å¯è¯»ï¼Ÿ
List<? super Integer> numbers = new ArrayList<Number>();
// numbers å¯èƒ½æ˜¯ List<Integer>ã€List<Number> æˆ– List<Object>
// Integer æ˜¯æ‰€æœ‰è¿™äº›ç±»å‹çš„å­ç±»å‹ï¼Œå¯ä»¥å®‰å…¨æ·»åŠ 
// ä½†è¯»å–æ—¶ä¸ç¡®å®šå…·ä½“ç±»å‹ï¼Œåªèƒ½ä½œä¸ºObject
```

### 3.4 PECSå®é™…åº”ç”¨


**ğŸ’¡ Produceråœºæ™¯ï¼ˆè¯»å–æ•°æ®ï¼‰**
```java
// Produceråœºæ™¯ï¼ˆè¯»å–ï¼‰ åªè¯»å–æ•°æ®ï¼Œä½¿ç”¨extends
public void processElements(List<? extends Number> elements) {
    for (Number n : elements) {
        System.out.println(n.doubleValue());
    }
    // elements.add(new Integer(1)); // ç¼–è¯‘é”™è¯¯ï¼Œä¸èƒ½æ·»åŠ å…ƒç´ 
}
```

**ğŸ’¡ Consumeråœºæ™¯ï¼ˆå†™å…¥æ•°æ®ï¼‰**
```java
// Consumeråœºæ™¯ï¼ˆå†™å…¥ï¼‰  åªå†™å…¥æ•°æ®ï¼Œä½¿ç”¨super
public void addIntegers(List<? super Integer> list) {
    list.add(1);
    list.add(2);
    // Integer num = list.get(0); // ç¼–è¯‘é”™è¯¯ï¼Œä¸èƒ½ç¡®å®šç±»å‹
    Object obj = list.get(0); // åªèƒ½ä»¥Objectè¯»å–
}
```

**ğŸ’¡ ç»¼åˆåº”ç”¨ç¤ºä¾‹**
```java
// ç»¼åˆåº”ç”¨: å¤åˆ¶é›†åˆå†…å®¹
public static <T> void copy(List<? super T> dest, List<? extends T> src) {
    for (int i = 0; i < src.size(); i++) {
        dest.set(i, src.get(i));
    }
}
// destï¼šæ¶ˆè´¹è€…ï¼Œæ¥æ”¶æ•°æ®ï¼Œä½¿ç”¨super
// srcï¼šç”Ÿäº§è€…ï¼Œæä¾›æ•°æ®ï¼Œä½¿ç”¨extends
```

### 3.5 é€šé…ç¬¦é™åˆ¶åŸç†æ·±åº¦è§£æ


**ğŸ” ä¸Šç•Œé€šé…ç¬¦é™åˆ¶åŸç†**
```java
// ä¸Šç•Œé€šé…ç¬¦ ? extends T è¡¨ç¤º"æŸä¸ªç»§æ‰¿è‡ªTçš„æœªçŸ¥ç±»å‹" 
// ä¾‹å¦‚ï¼ŒList<? extends Number> å¯ä»¥æ˜¯ List<Integer>ã€List<Double> æˆ– List<Number> ç­‰
List<? extends Number> numbers = new ArrayList<Integer>();
// è¿™ä¸ª numbers å¼•ç”¨å¯èƒ½æŒ‡å‘ List<Integer>ã€List<Double> æˆ–ä»»ä½• List<SomeNumberSubclass> 
numbers.add(new Integer(42));  // å‡è®¾æˆ‘ä»¬å°è¯•æ·»åŠ å…ƒç´ : ç¼–è¯‘é”™è¯¯
// è¿™çœ‹ä¼¼åˆç†ï¼Œä½†å¦‚æœå®é™…å®¹å™¨æ˜¯ List<Double>ï¼Œæ·»åŠ ä¸€ä¸ª Integer å°±ä¼šç ´åç±»å‹å®‰å…¨
// ç¼–è¯‘å™¨æ— æ³•ç¡®å®š numbers å®é™…å¼•ç”¨çš„å…·ä½“ç±»å‹ï¼Œå› æ­¤å‡ºäºå®‰å…¨è€ƒè™‘ï¼Œç¦æ­¢æ·»åŠ ä»»ä½•å…ƒç´ ï¼ˆç”šè‡³æ˜¯ Number ç±»å‹ï¼‰
```

**ğŸ” ä¸‹ç•Œé€šé…ç¬¦é™åˆ¶åŸç†**
```java
// ä¸‹ç•Œé€šé…ç¬¦ ? super T è¡¨ç¤º"æŸä¸ªTçš„è¶…ç±»å‹"
// ä¾‹å¦‚ï¼ŒList<? super Integer> å¯ä»¥æ˜¯ List<Integer>ã€List<Number> æˆ– List<Object> ç­‰
List<? super Integer> numbers = new ArrayList<Number>();
// è¿™ä¸ª numbers å¯èƒ½æ˜¯ List<Integer>ã€List<Number> æˆ– List<Object>
numbers.add(new Integer(42)); // åˆæ³•
// è¿™æ˜¯å®‰å…¨çš„ï¼Œå› ä¸ºæ‰€æœ‰å¯èƒ½çš„å®¹å™¨ç±»å‹ï¼ˆIntegerã€Number æˆ– Objectï¼‰éƒ½å¯ä»¥å­˜å‚¨ Integer å¯¹è±¡
// Integer æ˜¯æ‰€æœ‰è¿™äº›ç±»å‹çš„å­ç±»å‹ï¼Œæ‰€ä»¥å¯ä»¥å®‰å…¨åœ°æ·»åŠ 

// å½“ä» numbers è¯»å–å…ƒç´ æ—¶ï¼š
Object obj = numbers.get(0); // åˆæ³•
Integer i = numbers.get(0);  // ç¼–è¯‘é”™è¯¯

// ç¼–è¯‘å™¨ä¸çŸ¥é“ numbers å®é™…æ˜¯ä»€ä¹ˆç±»å‹çš„åˆ—è¡¨,è™½ç„¶å®ƒå¯èƒ½æ˜¯ List<Integer>
// ä½†ä¹Ÿå¯èƒ½æ˜¯ List<Number> æˆ– List<Object>,å¦‚æœæ˜¯åä¸¤ç§æƒ…å†µï¼Œè¯»å–çš„å…ƒç´ å¯èƒ½ä¸æ˜¯ Integer
// å”¯ä¸€å¯ä»¥ç¡®å®šçš„æ˜¯ï¼Œä¸ç®¡å®é™…ç±»å‹æ˜¯ä»€ä¹ˆï¼Œæ‰€æœ‰å¯¹è±¡éƒ½æ˜¯ Object çš„å­ç±»
// æ‰€ä»¥åªèƒ½å®‰å…¨åœ°å°†è¯»å–çš„å…ƒç´ èµ‹å€¼ç»™ Object å˜é‡
```

---

## 4. ğŸ§¹ ç±»å‹æ“¦é™¤æœºåˆ¶


### 4.1 ç±»å‹æ“¦é™¤åŸºæœ¬æ¦‚å¿µ


**ğŸ”¸ ç±»å‹æ“¦é™¤å®šä¹‰**
```
ç±»å‹æ“¦é™¤ï¼ˆType Erasureï¼‰ï¼š
â€¢ ç¼–è¯‘åï¼Œæ³›å‹ç±»å‹å‚æ•°ä¼šè¢«æ“¦é™¤æˆå®ƒçš„ä¸Šé™ç±»å‹ï¼ˆé»˜è®¤æ˜¯ Objectï¼‰
â€¢ æ‰€æœ‰æ³›å‹å®ä¾‹åœ¨è¿è¡Œæ—¶çœ‹èµ·æ¥æ˜¯ä¸€æ ·çš„
â€¢ Javaæ³›å‹æ˜¯ç¼–è¯‘æ—¶ç‰¹æ€§ï¼Œè¿è¡Œæ—¶ä¸ä¿ç•™æ³›å‹ä¿¡æ¯
```

**ğŸ’¡ ç±»å‹æ“¦é™¤ç¤ºä¾‹**
```java
Box<Integer> intBox = new Box<>();
Box<String> strBox = new Box<>();

// åœ¨è¿è¡Œæ—¶ï¼ŒintBoxå’ŒstrBoxçš„ç±»å‹æ˜¯ç›¸åŒçš„ï¼šBox
System.out.println(intBox.getClass() == strBox.getClass()); // è¾“å‡º: true

// æ“¦é™¤å‰ï¼š
class Box<T> {
    T value;
}

// æ“¦é™¤åï¼š
class Box {
    Object value;  // T è¢«æ“¦é™¤ä¸º Object
}
```

### 4.2 ç±»å‹æ“¦é™¤è¿‡ç¨‹


**ğŸ”„ æ“¦é™¤è§„åˆ™**
```
æ“¦é™¤è§„åˆ™ï¼š
1. æ— ç•Œç±»å‹å‚æ•° <T> â†’ Object
2. æœ‰ç•Œç±»å‹å‚æ•° <T extends Number> â†’ Number
3. å¤šé‡ç•Œé™ <T extends Number & Serializable> â†’ Numberï¼ˆç¬¬ä¸€ä¸ªè¾¹ç•Œï¼‰
4. é€šé…ç¬¦ç±»å‹ä¹Ÿä¼šè¢«ç›¸åº”æ“¦é™¤
```

**ğŸ“Š æ“¦é™¤ç¤ºä¾‹å¯¹æ¯”**

| **åŸå§‹æ³›å‹ä»£ç ** | **æ“¦é™¤åä»£ç ** |
|----------------|---------------|
| `List<String>` | `List` (å…ƒç´ ç±»å‹ä¸ºObject) |
| `Box<T extends Number>` | `Box` (Tè¢«æ“¦é™¤ä¸ºNumber) |
| `Map<String, Integer>` | `Map` (é”®å€¼éƒ½ä¸ºObject) |
| `Comparable<String>` | `Comparable` (å‚æ•°ä¸ºObject) |

### 4.3 ç±»å‹æ“¦é™¤çš„å½±å“


**âš ï¸ ç±»å‹æ“¦é™¤å¸¦æ¥çš„é™åˆ¶**

| **ç±»å‹æ“¦é™¤çš„é™åˆ¶** | **åŸå› ** |
|-------------------|---------|
| **æ— æ³•åˆ›å»ºæ³›å‹æ•°ç»„** | è¿è¡Œæ—¶ç±»å‹ä¿¡æ¯è¢«æ“¦é™¤ï¼Œæ— æ³•ä¿è¯æ­£ç¡®ç±»å‹ |
| **æ— æ³•ä½¿ç”¨ `instanceof` åˆ¤æ–­æ³›å‹** | æ³›å‹ä¿¡æ¯åœ¨ç¼–è¯‘åä¸¢å¤±ï¼Œè¿è¡Œæ—¶åªèƒ½åˆ¤æ–­åŸå§‹ç±»å‹ |
| **é™æ€ä¸Šä¸‹æ–‡ä¸èƒ½å¼•ç”¨æ³›å‹å‚æ•°** | é™æ€æˆå‘˜å±äºç±»çº§åˆ«ï¼Œæ— æ³•è®¿é—®å®ä¾‹ç±»å‹å‚æ•° |
| **ä¸èƒ½åˆ›å»ºå‚æ•°åŒ–ç±»å‹çš„å®ä¾‹** | ç±»å‹æ“¦é™¤åæ— æ³•å…·ä½“åŒ–æ³›å‹ç±»å‹ï¼Œå¦‚ `new T()` |
| **ä¸èƒ½åˆ›å»ºã€æ•è·æˆ–æŠ›å‡ºæ³›å‹å¯¹è±¡** | è¿è¡Œæ—¶æ— æ³•ç¡®å®šæ³›å‹ç±»å‹ï¼Œå½±å“å¼‚å¸¸å¤„ç†é€»è¾‘ |

---

## 5. âš ï¸ å¸¸è§é™åˆ¶ä¸æ³¨æ„äº‹é¡¹


### 5.1 æ³›å‹ä½¿ç”¨é™åˆ¶æ±‡æ€»


| **é—®é¢˜æè¿°** | **åŸå› æˆ–è§£å†³æ–¹å¼** |
|-------------|-------------------|
| **ä¸èƒ½åˆ›å»ºæ³›å‹æ•°ç»„** | æ³›å‹æ“¦é™¤åæ•°ç»„å…ƒç´ ç±»å‹ä¸ç¡®å®š |
| **ä¸èƒ½ç”¨ `instanceof` åˆ¤æ–­æ³›å‹** | æ³›å‹åœ¨è¿è¡Œæ—¶è¢«æ“¦é™¤ |
| **æ³›å‹ç±»ä¸èƒ½ä½¿ç”¨åŸºæœ¬ç±»å‹** | ç”¨ `Integer` ä»£æ›¿ `int`ï¼Œå› ä¸ºæ³›å‹åªæ¥å—å¼•ç”¨ç±»å‹ |
| **é™æ€æ–¹æ³•ä¸èƒ½è®¿é—®ç±»ä¸Šçš„æ³›å‹å‚æ•°** | é™æ€å±äºç±»çº§åˆ«ï¼Œä¸èƒ½è®¿é—®å®ä¾‹æ³›å‹ï¼Œéœ€å£°æ˜è‡ªå·±çš„æ³›å‹æ–¹æ³• |
| **ç±»å‹é€šé…ç¬¦ `?` ä¸èƒ½å†™å…¥å…ƒç´ ** | ä¸çŸ¥é“çœŸå®ç±»å‹ï¼Œå†™å…¥ä¸å®‰å…¨ |

### 5.2 å…·ä½“é™åˆ¶ç¤ºä¾‹


**ğŸš« ä¸èƒ½åˆ›å»ºæ³›å‹ç±»å‹çš„æ•°ç»„**
```java
// é”™è¯¯å†™æ³•
T[] array = new T[10];              // ç¼–è¯‘é”™è¯¯

// æ›¿ä»£æ–¹æ¡ˆ
T[] array = (T[]) new Object[10];   // æœ‰æœªæ£€æŸ¥è­¦å‘Šï¼Œä½†å¯ç”¨
```

**ğŸš« ä¸èƒ½åˆ›å»ºå‚æ•°åŒ–ç±»å‹çš„æ•°ç»„**
```java
// é”™è¯¯å†™æ³•
List<String>[] arrayOfLists = new List<String>[10];  // ç¼–è¯‘é”™è¯¯

// æ›¿ä»£æ–¹æ¡ˆ
List<String>[] arrayOfLists = (List<String>[]) new List[10]; // æœ‰è­¦å‘Š
```

**ğŸš« é™æ€å­—æ®µä¸èƒ½ä½¿ç”¨ç±»çš„ç±»å‹å‚æ•°**
```java
// é”™è¯¯å†™æ³•
public class Box<T> {
    private static T defaultValue; // ç¼–è¯‘é”™è¯¯
}
```

**ğŸš« é™æ€æ–¹æ³•ä¸èƒ½è®¿é—®ç±»çš„ç±»å‹å‚æ•°**
```java
// é”™è¯¯å†™æ³•
public class Box<T> {
    public static void method(T param) {} // ç¼–è¯‘é”™è¯¯
    
    // æ­£ç¡®æ–¹å¼
    public static <E> void method(E param) {} // æ³›å‹æ–¹æ³•å¯ä»¥ä½¿ç”¨è‡ªå·±çš„ç±»å‹å‚æ•°
}
```

**ğŸš« ä¸èƒ½å¯¹æ³›å‹å‚æ•°ä½¿ç”¨instanceofæ£€æŸ¥**
```java
// é”™è¯¯å†™æ³•
if (obj instanceof List<String>) {} // ç¼–è¯‘é”™è¯¯

// æ­£ç¡®æ–¹å¼
if (obj instanceof List<?>) {} // å¯ä»¥ä½¿ç”¨æ— ç•Œé€šé…ç¬¦
```

**ğŸš« ä¸èƒ½ä½¿ç”¨åŸºæœ¬ç±»å‹ä½œä¸ºç±»å‹å‚æ•°**
```java
// é”™è¯¯å†™æ³•
List<int> numbers = new ArrayList<>(); // ç¼–è¯‘é”™è¯¯

// æ­£ç¡®æ–¹å¼
List<Integer> numbers = new ArrayList<>(); // ä½¿ç”¨åŒ…è£…ç±»
```

### 5.3 æœ€ä½³å®è·µå»ºè®®


**âœ… æ¨èåšæ³•**
```java
// 1. ä¼˜å…ˆä½¿ç”¨æ³›å‹é›†åˆ
List<String> list = new ArrayList<>();  // å¥½
List list = new ArrayList();            // ä¸æ¨è

// 2. åˆç†ä½¿ç”¨é€šé…ç¬¦
public void process(List<? extends Number> numbers) { /* ... */ }

// 3. éµå¾ªPECSåŸåˆ™
public static <T> void copy(List<? super T> dest, List<? extends T> src) {
    // destæ˜¯æ¶ˆè´¹è€…ç”¨superï¼Œsrcæ˜¯ç”Ÿäº§è€…ç”¨extends
}

// 4. é¿å…åŸå§‹ç±»å‹è­¦å‘Š
@SuppressWarnings("unchecked")
List<String> list = (List<String>) rawList;
```

---

## 6. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 6.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ æ³›å‹æœ¬è´¨ï¼šç¼–è¯‘æ—¶çš„ç±»å‹å‚æ•°åŒ–æœºåˆ¶ï¼Œè¿è¡Œæ—¶ç±»å‹æ“¦é™¤
ğŸ”¸ PECSåŸåˆ™ï¼šProducerç”¨extendsï¼ŒConsumerç”¨super
ğŸ”¸ é€šé…ç¬¦ï¼š? extends Tï¼ˆåªè¯»ï¼‰ï¼Œ? super Tï¼ˆåªå†™ï¼‰ï¼Œ?ï¼ˆä»»æ„ç±»å‹ï¼‰
ğŸ”¸ ç±»å‹æ“¦é™¤ï¼šç¼–è¯‘åæ³›å‹ä¿¡æ¯ä¸¢å¤±ï¼Œè¿è¡Œæ—¶éƒ½æ˜¯åŸå§‹ç±»å‹
ğŸ”¸ ä½¿ç”¨é™åˆ¶ï¼šä¸èƒ½åˆ›å»ºæ³›å‹æ•°ç»„ï¼Œä¸èƒ½ç”¨åŸºæœ¬ç±»å‹ï¼Œé™æ€æ–¹æ³•é™åˆ¶ç­‰
```

### 6.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ æ³›å‹çš„è®¾è®¡å“²å­¦**
```
ç¼–è¯‘æ—¶å®‰å…¨ï¼šåœ¨ç¼–è¯‘é˜¶æ®µå‘ç°ç±»å‹é”™è¯¯
è¿è¡Œæ—¶å…¼å®¹ï¼šé€šè¿‡ç±»å‹æ“¦é™¤ä¿æŒä¸æ—§ç‰ˆæœ¬å…¼å®¹
æ€§èƒ½ä¼˜åŒ–ï¼šå‡å°‘ç±»å‹è½¬æ¢ï¼Œæé«˜æ‰§è¡Œæ•ˆç‡
ä»£ç å¤ç”¨ï¼šä¸€å¥—ä»£ç é€‚ç”¨å¤šç§ç±»å‹
```

**ğŸ”¹ é€šé…ç¬¦ä½¿ç”¨ç­–ç•¥**
```
åªè¯»æ•°æ®ï¼šä½¿ç”¨ ? extends T
åªå†™æ•°æ®ï¼šä½¿ç”¨ ? super T
è¯»å†™éƒ½æœ‰ï¼šä½¿ç”¨å…·ä½“ç±»å‹ T
ä»»æ„ç±»å‹ï¼šä½¿ç”¨ ? ï¼ˆæå°‘æƒ…å†µï¼‰
```

**ğŸ”¹ ç±»å‹æ“¦é™¤çš„å½±å“**
```
æ­£é¢å½±å“ï¼š
â€¢ ä¿æŒå‘åå…¼å®¹æ€§
â€¢ è¿è¡Œæ—¶æ€§èƒ½ä¸å—å½±å“

è´Ÿé¢å½±å“ï¼š
â€¢ è¿è¡Œæ—¶æ— æ³•è·å–æ³›å‹ä¿¡æ¯
â€¢ æŸäº›æ“ä½œå—é™ï¼ˆå¦‚åˆ›å»ºæ³›å‹æ•°ç»„ï¼‰
â€¢ éœ€è¦é¢å¤–çš„ç±»å‹æ£€æŸ¥
```

### 6.3 å®é™…åº”ç”¨ä»·å€¼


**ğŸ¯ ä¸šåŠ¡å¼€å‘åº”ç”¨**
- **é›†åˆæ¡†æ¶**ï¼š`List<User>`ã€`Map<String, Object>` ç­‰ç±»å‹å®‰å…¨é›†åˆ
- **APIè®¾è®¡**ï¼šæ³›å‹æ¥å£æä¾›ç±»å‹å®‰å…¨çš„å›è°ƒå’Œå¤„ç†å™¨
- **å·¥å…·ç±»å¼€å‘**ï¼šæ³›å‹æ–¹æ³•æä¾›é€šç”¨çš„æ•°æ®å¤„ç†åŠŸèƒ½
- **æ¡†æ¶è®¾è®¡**ï¼šSpringã€MyBatisç­‰æ¡†æ¶å¤§é‡ä½¿ç”¨æ³›å‹

**ğŸ”§ ä»£ç è´¨é‡æå‡**
- **ç±»å‹å®‰å…¨**ï¼šç¼–è¯‘æ—¶å‘ç°ç±»å‹é”™è¯¯ï¼Œå‡å°‘è¿è¡Œæ—¶å¼‚å¸¸
- **ä»£ç ç®€æ´**ï¼šæ¶ˆé™¤å¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œæé«˜ä»£ç å¯è¯»æ€§
- **ç»´æŠ¤æ€§**ï¼šæ˜ç¡®çš„ç±»å‹ä¿¡æ¯è®©ä»£ç æ›´æ˜“ç†è§£å’Œç»´æŠ¤
- **æ€§èƒ½ä¼˜åŒ–**ï¼šé¿å…ä¸å¿…è¦çš„è£…ç®±æ‹†ç®±æ“ä½œ

**æ ¸å¿ƒè®°å¿†å£è¯€**ï¼š
- æ³›å‹å‚æ•°åŒ–ç±»å‹å®‰å…¨ï¼Œç¼–è¯‘æ£€æŸ¥è¿è¡Œæ“¦é™¤
- Producer extendsæ¶ˆè´¹superï¼ŒPECSåŸåˆ™è¦è®°ç‰¢
- é€šé…ç¬¦é™åˆ¶è¦æ˜ç¡®ï¼Œä¸Šç•Œåªè¯»ä¸‹ç•Œåªå†™
- é™æ€æ–¹æ³•ä¸èƒ½ç”¨ç±»å‹ï¼Œæ•°ç»„åˆ›å»ºæœ‰é™åˆ¶