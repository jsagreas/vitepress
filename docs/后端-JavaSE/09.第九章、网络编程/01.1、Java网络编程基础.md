---
title: 1ã€Javaç½‘ç»œç¼–ç¨‹åŸºç¡€
---
## ğŸ“š ç›®å½•

1. [ç½‘ç»œç¼–ç¨‹æ¦‚å¿µå’Œæ¨¡å‹](#1-ç½‘ç»œç¼–ç¨‹æ¦‚å¿µå’Œæ¨¡å‹)
2. [æ ¸å¿ƒç±»åº“æ¦‚è§ˆ](#2-æ ¸å¿ƒç±»åº“æ¦‚è§ˆ)
3. [ç¼–ç ä¸ä¼ è¾“åŸºç¡€é—®é¢˜](#3-ç¼–ç ä¸ä¼ è¾“åŸºç¡€é—®é¢˜)
4. [ç½‘ç»œç¼–ç¨‹ç¯å¢ƒæ­å»º](#4-ç½‘ç»œç¼–ç¨‹ç¯å¢ƒæ­å»º)
5. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#5-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸŒ ç½‘ç»œç¼–ç¨‹æ¦‚å¿µå’Œæ¨¡å‹


### 1.1 ä»€ä¹ˆæ˜¯ç½‘ç»œç¼–ç¨‹


**ğŸ”¸ ç®€å•ç†è§£**
```
ç½‘ç»œç¼–ç¨‹ = è®©ä¸åŒç”µè„‘ä¸Šçš„ç¨‹åºäº’ç›¸"èŠå¤©"
å°±åƒå¾®ä¿¡èŠå¤©ä¸€æ ·ï¼š
â€¢ ä½ çš„æ‰‹æœºå‘æ¶ˆæ¯ â†’ å¾®ä¿¡æœåŠ¡å™¨ â†’ æœ‹å‹çš„æ‰‹æœº
â€¢ Javaç¨‹åºAå‘æ•°æ® â†’ ç½‘ç»œ â†’ Javaç¨‹åºB

å¸¸è§åº”ç”¨ï¼š
â€¢ ç½‘é¡µæµè§ˆï¼ˆæµè§ˆå™¨ â†” ç½‘ç«™æœåŠ¡å™¨ï¼‰
â€¢ å¾®ä¿¡èŠå¤©ï¼ˆæ‰‹æœºAPP â†” è…¾è®¯æœåŠ¡å™¨ï¼‰  
â€¢ ç½‘ç»œæ¸¸æˆï¼ˆæ¸¸æˆå®¢æˆ·ç«¯ â†” æ¸¸æˆæœåŠ¡å™¨ï¼‰
â€¢ æ–‡ä»¶ä¸‹è½½ï¼ˆä¸‹è½½å·¥å…· â†” æ–‡ä»¶æœåŠ¡å™¨ï¼‰
```

### 1.2 ç½‘ç»œé€šä¿¡å°±åƒå¯„ä¿¡


**ğŸ“® ç½‘ç»œé€šä¿¡ç±»æ¯”**
```
å¯„ä¿¡è¿‡ç¨‹                    ç½‘ç»œé€šä¿¡
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å†™ä¿¡äººåœ°å€  â”‚     â•â•â•    â”‚   æœ¬æœºIP    â”‚
â”‚  æ”¶ä¿¡äººåœ°å€  â”‚     â•â•â•    â”‚  ç›®æ ‡æœºIP   â”‚
â”‚   é‚®å±€ç¼–å·   â”‚     â•â•â•    â”‚   ç«¯å£å·    â”‚
â”‚   ä¿¡ä»¶å†…å®¹   â”‚     â•â•â•    â”‚   æ•°æ®åŒ…    â”‚
â”‚   é‚®é€’å‘˜     â”‚     â•â•â•    â”‚  ç½‘ç»œåè®®   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ç½‘ç»œé€šä¿¡ä¸‰è¦ç´ ï¼š
ğŸ  IPåœ°å€ = é—¨ç‰Œå·ï¼ˆæ‰¾åˆ°å…·ä½“çš„ç”µè„‘ï¼‰
ğŸšª ç«¯å£å· = æˆ¿é—´å·ï¼ˆæ‰¾åˆ°ç”µè„‘ä¸Šçš„å…·ä½“ç¨‹åºï¼‰
ğŸ“‹ åè®®   = è¯­è¨€è§„åˆ™ï¼ˆè§„å®šæ€ä¹ˆ"è¯´è¯"ï¼‰
```

### 1.3 TCP/IPåè®®ç®€åŒ–ç†è§£


**ğŸ—ï¸ ç½‘ç»œåˆ†å±‚å°±åƒå¿«é€’ç³»ç»Ÿ**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     åº”ç”¨å±‚           â”‚ â† å†™ä¿¡å†…å®¹ï¼ˆHTTPã€FTPï¼‰
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚     ä¼ è¾“å±‚           â”‚ â† åŒ…è£…å¿«é€’ï¼ˆTCPã€UDPï¼‰
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚     ç½‘ç»œå±‚           â”‚ â† é€‰æ‹©è·¯çº¿ï¼ˆIPè·¯ç”±ï¼‰
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    æ•°æ®é“¾è·¯å±‚         â”‚ â† å…·ä½“è¿è¾“ï¼ˆWiFiã€ç½‘çº¿ï¼‰
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ç®€å•ç†è§£ï¼š
â€¢ åº”ç”¨å±‚ï¼šä½ è¦å‘ä»€ä¹ˆå†…å®¹
â€¢ ä¼ è¾“å±‚ï¼šæ€ä¹ˆæ‰“åŒ…ï¼ˆå¯é TCP vs å¿«é€ŸUDPï¼‰
â€¢ ç½‘ç»œå±‚ï¼šèµ°å“ªæ¡è·¯çº¿åˆ°è¾¾ç›®çš„åœ°
â€¢ é“¾è·¯å±‚ï¼šå…·ä½“ç”¨ä»€ä¹ˆäº¤é€šå·¥å…·
```

### 1.4 å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨


**ğŸ‘¥ C/Sæ¶æ„å°±åƒé¤å…ç”¨é¤**
```
å®¢æˆ·ç«¯ï¼ˆé¡¾å®¢ï¼‰                    æœåŠ¡å™¨ï¼ˆé¤å…ï¼‰
     |                               |
 [1] è¿›å…¥é¤å…                    [2] å‡†å¤‡è¥ä¸š
     |                               |
 [3] ç‚¹èœï¼ˆå‘é€è¯·æ±‚ï¼‰            [4] åšèœï¼ˆå¤„ç†è¯·æ±‚ï¼‰
     |                               |
 [5] åƒé¥­ï¼ˆæ¥æ”¶å“åº”ï¼‰            [6] ä¸Šèœï¼ˆå‘é€å“åº”ï¼‰
     |                               |
 [7] ç¦»å¼€                        [8] ç»§ç»­æ¥å¾…å…¶ä»–å®¢æˆ·

ç‰¹ç‚¹ï¼š
â€¢ æœåŠ¡å™¨ï¼šä¸€ç›´åœ¨ç­‰å¾…ï¼ŒæœåŠ¡å¤šä¸ªå®¢æˆ·ç«¯
â€¢ å®¢æˆ·ç«¯ï¼šä¸»åŠ¨å‘èµ·è¿æ¥ï¼Œå‘é€è¯·æ±‚
```

### 1.5 é˜»å¡å’Œéé˜»å¡ï¼ˆé‡è¦æ¦‚å¿µï¼‰


**â° ç”Ÿæ´»ä¸­çš„é˜»å¡ä¾‹å­**
```
é˜»å¡æ–¹å¼ï¼ˆæ’é˜Ÿä¹°å¥¶èŒ¶ï¼‰ï¼š
ä½  â†’ æ’é˜Ÿç­‰å¾… â†’ ä¹°åˆ°å¥¶èŒ¶ â†’ ç¦»å¼€
ç‰¹ç‚¹ï¼šå¿…é¡»ç­‰åˆ°ä¹°å®Œæ‰èƒ½åšå…¶ä»–äº‹

éé˜»å¡æ–¹å¼ï¼ˆå«å·ä¹°å¥¶èŒ¶ï¼‰ï¼š
ä½  â†’ å–å· â†’ å¯ä»¥åä¸‹ç©æ‰‹æœº â†’ å«åˆ°å·å†å»æ‹¿
ç‰¹ç‚¹ï¼šä¸ç”¨ä¸€ç›´ç«™ç€ç­‰ï¼Œå¯ä»¥åšå…¶ä»–äº‹

Javaç½‘ç»œç¼–ç¨‹ï¼š
â€¢ é˜»å¡IOï¼šè°ƒç”¨read()ä¼šä¸€ç›´ç­‰åˆ°æœ‰æ•°æ®
â€¢ éé˜»å¡IOï¼šè°ƒç”¨read()ç«‹å³è¿”å›ï¼Œæ²¡æ•°æ®å°±åšå…¶ä»–äº‹
```

---

## 2. ğŸ”§ æ ¸å¿ƒç±»åº“æ¦‚è§ˆ


### 2.1 InetAddressï¼šå¤„ç†IPåœ°å€


**ğŸŒ è·å–IPåœ°å€**
```java
import java.net.InetAddress;

public class IPDemo {
    public static void main(String[] args) throws Exception {
        // è·å–æœ¬æœºIP
        InetAddress local = InetAddress.getLocalHost();
        System.out.println("æœ¬æœºIP: " + local.getHostAddress());
        System.out.println("è®¡ç®—æœºå: " + local.getHostName());
        
        // é€šè¿‡åŸŸåè·å–IP
        InetAddress baidu = InetAddress.getByName("www.baidu.com");
        System.out.println("ç™¾åº¦IP: " + baidu.getHostAddress());
        
        // æ£€æŸ¥æ˜¯å¦å¯ä»¥è¿é€šï¼ˆpingï¼‰
        boolean reachable = baidu.isReachable(3000); // 3ç§’è¶…æ—¶
        System.out.println("ç™¾åº¦æ˜¯å¦å¯è¾¾: " + reachable);
    }
}
```

### 2.2 URLï¼šå¤„ç†ç½‘å€


**ğŸ”— è§£æURLåœ°å€**
```java
import java.net.URL;

public class URLDemo {
    public static void main(String[] args) throws Exception {
        URL url = new URL("https://www.example.com:8080/search?q=java");
        
        System.out.println("åè®®: " + url.getProtocol());     // https
        System.out.println("ä¸»æœº: " + url.getHost());         // www.example.com
        System.out.println("ç«¯å£: " + url.getPort());         // 8080
        System.out.println("è·¯å¾„: " + url.getPath());         // /search
        System.out.println("å‚æ•°: " + url.getQuery());        // q=java
        
        // ç®€å•è®¿é—®ç½‘é¡µ
        try (var input = url.openStream();
             var reader = new java.io.BufferedReader(
                 new java.io.InputStreamReader(input))) {
            
            String line;
            while ((line = reader.readLine()) != null) {
                System.out.println(line);
            }
        }
    }
}
```

### 2.3 Socketå®¶æ—ï¼šç½‘ç»œè¿æ¥çš„åŸºç¡€


**ğŸ”Œ Socketç±»å‹ç®€ä»‹**
```java
// Socketå®¶æ—æˆå‘˜
Socket        // TCPå®¢æˆ·ç«¯ - å¯é è¿æ¥
ServerSocket  // TCPæœåŠ¡ç«¯ - ç›‘å¬è¿æ¥
DatagramSocket // UDPé€šä¿¡ - å¿«é€Ÿä¼ è¾“

// é€‰æ‹©åŸåˆ™ï¼š
// éœ€è¦å¯é ä¼ è¾“ï¼ˆèŠå¤©ã€æ–‡ä»¶ä¼ è¾“ï¼‰â†’ é€‰æ‹©TCPï¼ˆSocketï¼‰
// éœ€è¦å¿«é€Ÿä¼ è¾“ï¼ˆè§†é¢‘ã€æ¸¸æˆï¼‰â†’ é€‰æ‹©UDPï¼ˆDatagramSocketï¼‰
```

**ğŸ’» æœ€ç®€å•çš„TCPç¤ºä¾‹**
```java
// TCPå®¢æˆ·ç«¯
import java.io.*;
import java.net.Socket;

public class SimpleClient {
    public static void main(String[] args) throws Exception {
        // è¿æ¥æœåŠ¡å™¨
        Socket socket = new Socket("localhost", 8888);
        
        // å‘é€æ¶ˆæ¯
        PrintWriter out = new PrintWriter(socket.getOutputStream(), true);
        out.println("Hello Server!");
        
        // æ¥æ”¶å“åº”
        BufferedReader in = new BufferedReader(
            new InputStreamReader(socket.getInputStream()));
        String response = in.readLine();
        System.out.println("æœåŠ¡å™¨å›å¤: " + response);
        
        socket.close();
    }
}

// TCPæœåŠ¡ç«¯
import java.io.*;
import java.net.ServerSocket;
import java.net.Socket;

public class SimpleServer {
    public static void main(String[] args) throws Exception {
        // ç›‘å¬ç«¯å£
        ServerSocket server = new ServerSocket(8888);
        System.out.println("æœåŠ¡å™¨å¯åŠ¨ï¼Œç›‘å¬ç«¯å£8888...");
        
        // ç­‰å¾…å®¢æˆ·ç«¯è¿æ¥
        Socket client = server.accept();
        System.out.println("å®¢æˆ·ç«¯è¿æ¥æˆåŠŸ: " + client.getRemoteSocketAddress());
        
        // æ¥æ”¶æ¶ˆæ¯
        BufferedReader in = new BufferedReader(
            new InputStreamReader(client.getInputStream()));
        String message = in.readLine();
        System.out.println("æ”¶åˆ°æ¶ˆæ¯: " + message);
        
        // å‘é€å“åº”
        PrintWriter out = new PrintWriter(client.getOutputStream(), true);
        out.println("æ¶ˆæ¯å·²æ”¶åˆ°: " + message);
        
        client.close();
        server.close();
    }
}
```

### 2.4 å¸¸è§å¼‚å¸¸å¤„ç†


**âš ï¸ ç½‘ç»œç¼–ç¨‹å¸¸è§é”™è¯¯**
```java
public class NetworkExceptionDemo {
    public static void connectToServer() {
        try {
            Socket socket = new Socket("localhost", 8888);
            // æ­£å¸¸çš„ç½‘ç»œæ“ä½œ...
            
        } catch (java.net.ConnectException e) {
            System.out.println("è¿æ¥å¤±è´¥ï¼šæœåŠ¡å™¨æ²¡æœ‰å¯åŠ¨æˆ–ç«¯å£é”™è¯¯");
            
        } catch (java.net.UnknownHostException e) {
            System.out.println("ä¸»æœºåè§£æå¤±è´¥ï¼šæ£€æŸ¥ç½‘ç»œæˆ–åŸŸå");
            
        } catch (java.net.SocketTimeoutException e) {
            System.out.println("è¿æ¥è¶…æ—¶ï¼šç½‘ç»œå¤ªæ…¢æˆ–æœåŠ¡å™¨æ— å“åº”");
            
        } catch (java.io.IOException e) {
            System.out.println("IOå¼‚å¸¸ï¼š" + e.getMessage());
        }
    }
}

// å¼‚å¸¸å¤„ç†å»ºè®®ï¼š
// 1. æ€»æ˜¯ç”¨try-catchåŒ…å›´ç½‘ç»œæ“ä½œ
// 2. ç»™ç”¨æˆ·å‹å¥½çš„é”™è¯¯æç¤º
// 3. è®°å½•è¯¦ç»†çš„é”™è¯¯æ—¥å¿—
// 4. å¿…è¦æ—¶è¿›è¡Œé‡è¯•
```

---

## 3. âš ï¸ ç¼–ç ä¸ä¼ è¾“åŸºç¡€é—®é¢˜


### 3.1 å­—ç¬¦ç¼–ç ï¼ˆé˜²æ­¢ä¹±ç ï¼‰


**ğŸ”¤ ç¼–ç å°±åƒä¸åŒçš„è¯­è¨€**
```java
public class EncodingDemo {
    public static void main(String[] args) throws Exception {
        String message = "ä½ å¥½Java";
        
        // ä¸åŒç¼–ç çš„å­—èŠ‚é•¿åº¦
        byte[] utf8 = message.getBytes("UTF-8");
        byte[] gbk = message.getBytes("GBK");
        
        System.out.println("UTF-8å­—èŠ‚æ•°: " + utf8.length);  // 9å­—èŠ‚
        System.out.println("GBKå­—èŠ‚æ•°: " + gbk.length);     // 7å­—èŠ‚
        
        // é”™è¯¯è§£ç ä¼šä¹±ç 
        String wrong = new String(utf8, "GBK");
        System.out.println("é”™è¯¯è§£ç : " + wrong);  // æ˜¾ç¤ºä¹±ç 
        
        // æ­£ç¡®çš„åšæ³•ï¼šç»Ÿä¸€ä½¿ç”¨UTF-8
        String correct = new String(utf8, "UTF-8");
        System.out.println("æ­£ç¡®è§£ç : " + correct);
    }
}

// ç½‘ç»œä¼ è¾“ç¼–ç åŸåˆ™ï¼š
// 1. å‘é€æ–¹å’Œæ¥æ”¶æ–¹ä½¿ç”¨ç›¸åŒç¼–ç 
// 2. æ¨èç»Ÿä¸€ä½¿ç”¨UTF-8
// 3. æ˜ç¡®æŒ‡å®šç¼–ç ï¼Œä¸è¦ç”¨é»˜è®¤ç¼–ç 
```

### 3.2 å­—èŠ‚æµvså­—ç¬¦æµé€‰æ‹©


**ğŸ“Š ä»€ä¹ˆæ—¶å€™ç”¨å“ªç§æµï¼Ÿ**
```java
// ç½‘ç»œä¼ è¾“æ¨èåšæ³•
public class StreamChoiceDemo {
    
    // ä¼ è¾“æ–‡æœ¬æ•°æ®
    public static void sendText() throws Exception {
        Socket socket = new Socket("localhost", 8888);
        
        // æ–¹æ³•1ï¼šå­—èŠ‚æµ + ç¼–ç è½¬æ¢ï¼ˆæ¨èï¼‰
        OutputStream out = socket.getOutputStream();
        String text = "Hello ä¸–ç•Œ";
        out.write(text.getBytes("UTF-8"));
        
        // æ–¹æ³•2ï¼šåŒ…è£…æˆå­—ç¬¦æµ
        PrintWriter writer = new PrintWriter(
            new OutputStreamWriter(out, "UTF-8"), true);
        writer.println("Hello ä¸–ç•Œ");
        
        socket.close();
    }
    
    // ä¼ è¾“äºŒè¿›åˆ¶æ•°æ®ï¼ˆå›¾ç‰‡ã€æ–‡ä»¶ï¼‰
    public static void sendBinary() throws Exception {
        Socket socket = new Socket("localhost", 8888);
        
        // åªèƒ½ç”¨å­—èŠ‚æµ
        DataOutputStream dos = new DataOutputStream(socket.getOutputStream());
        dos.writeInt(123);           // å‘é€æ•´æ•°
        dos.writeDouble(3.14);       // å‘é€å°æ•°
        dos.writeUTF("Hello");       // å‘é€å­—ç¬¦ä¸²ï¼ˆè‡ªå¸¦é•¿åº¦ä¿¡æ¯ï¼‰
        
        socket.close();
    }
}

// é€‰æ‹©åŸåˆ™ï¼š
// æ–‡æœ¬æ•°æ®ï¼šå­—èŠ‚æµ + UTF-8ç¼–ç 
// äºŒè¿›åˆ¶æ•°æ®ï¼šå­—èŠ‚æµ
// ç½‘ç»œåº•å±‚éƒ½æ˜¯å­—èŠ‚æµï¼Œå­—ç¬¦æµåªæ˜¯åŒ…è£…
```

### 3.3 ç²˜åŒ…é—®é¢˜ï¼ˆé‡è¦ï¼‰


**ğŸ“¦ TCPçš„"ç²˜åŒ…"ç°è±¡**
```
å‘é€ç«¯ï¼š
ç¬¬1æ¬¡å‘é€ï¼š"Hello"
ç¬¬2æ¬¡å‘é€ï¼š"World"  
ç¬¬3æ¬¡å‘é€ï¼š"Java"

æ¥æ”¶ç«¯å¯èƒ½æ”¶åˆ°ï¼š
æƒ…å†µ1ï¼š"Hello" "World" "Java"    âœ“ æ­£å¸¸
æƒ…å†µ2ï¼š"HelloWorld" "Java"       âœ— ç²˜åŒ…
æƒ…å†µ3ï¼š"Hel" "loWorldJava"       âœ— æ‹†åŒ…
æƒ…å†µ4ï¼š"HelloWor" "ldJava"       âœ— ç²˜åŒ…+æ‹†åŒ…
```

**ğŸ› ï¸ è§£å†³ç²˜åŒ…çš„ç®€å•æ–¹æ³•**
```java
public class MessageProtocol {
    
    // æ–¹æ¡ˆ1ï¼šå›ºå®šé•¿åº¦ï¼ˆç®€å•ä½†æµªè´¹ç©ºé—´ï¼‰
    public static void sendFixedLength(OutputStream out, String msg) throws Exception {
        byte[] data = new byte[100];  // å›ºå®š100å­—èŠ‚
        byte[] msgBytes = msg.getBytes("UTF-8");
        System.arraycopy(msgBytes, 0, data, 0, Math.min(msgBytes.length, 100));
        out.write(data);
    }
    
    // æ–¹æ¡ˆ2ï¼šåˆ†éš”ç¬¦ï¼ˆç®€å•å®ç”¨ï¼‰
    public static void sendWithDelimiter(PrintWriter out, String msg) {
        out.println(msg);  // printlnè‡ªåŠ¨æ·»åŠ æ¢è¡Œç¬¦ä½œä¸ºåˆ†éš”ç¬¦
    }
    
    public static String receiveWithDelimiter(BufferedReader in) throws Exception {
        return in.readLine();  // readLineè‡ªåŠ¨æŒ‰æ¢è¡Œç¬¦åˆ†å‰²
    }
    
    // æ–¹æ¡ˆ3ï¼šé•¿åº¦å‰ç¼€ï¼ˆæœ€æ¨èï¼‰
    public static void sendWithLength(DataOutputStream out, String msg) throws Exception {
        byte[] data = msg.getBytes("UTF-8");
        out.writeInt(data.length);  // å…ˆå‘é€é•¿åº¦
        out.write(data);           // å†å‘é€æ•°æ®
    }
    
    public static String receiveWithLength(DataInputStream in) throws Exception {
        int length = in.readInt();     // å…ˆè¯»å–é•¿åº¦
        byte[] data = new byte[length];
        in.readFully(data);           // è¯»å–æŒ‡å®šé•¿åº¦çš„æ•°æ®
        return new String(data, "UTF-8");
    }
}

// å®Œæ•´ç¤ºä¾‹ï¼šä½¿ç”¨é•¿åº¦å‰ç¼€çš„å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯
class LengthPrefixClient {
    public static void main(String[] args) throws Exception {
        Socket socket = new Socket("localhost", 8888);
        DataOutputStream out = new DataOutputStream(socket.getOutputStream());
        DataInputStream in = new DataInputStream(socket.getInputStream());
        
        // å‘é€æ¶ˆæ¯
        MessageProtocol.sendWithLength(out, "Hello Server!");
        
        // æ¥æ”¶å“åº”
        String response = MessageProtocol.receiveWithLength(in);
        System.out.println("æ”¶åˆ°: " + response);
        
        socket.close();
    }
}
```

---

## 4. ğŸ› ï¸ ç½‘ç»œç¼–ç¨‹ç¯å¢ƒæ­å»º


### 4.1 åŸºç¡€ç¯å¢ƒè¦æ±‚


**â˜• Javaå¼€å‘ç¯å¢ƒ**
```bash
# æ£€æŸ¥Javaç‰ˆæœ¬
java -version    # éœ€è¦JDK 8åŠä»¥ä¸Š
javac -version   # ç¡®ä¿èƒ½ç¼–è¯‘Javaæ–‡ä»¶

# æ¨èç¯å¢ƒ
JDKç‰ˆæœ¬ï¼š8ã€11ã€17ï¼ˆé•¿æœŸæ”¯æŒç‰ˆæœ¬ï¼‰
IDEï¼šIntelliJ IDEAï¼ˆæ¨èï¼‰ã€Eclipseã€VS Code
```

### 4.2 å¸¸ç”¨æµ‹è¯•å·¥å…·


**ğŸ”§ ç®€å•æµ‹è¯•æ–¹æ³•**
```bash
# 1. æµ‹è¯•ç«¯å£æ˜¯å¦å¼€æ”¾
telnet localhost 8888
# å¦‚æœè¿æ¥æˆåŠŸï¼Œè¯´æ˜æœåŠ¡å™¨åœ¨è¿è¡Œ

# 2. æŸ¥çœ‹ç«¯å£å ç”¨æƒ…å†µ
# Windows
netstat -an | findstr :8888

# Linux/Mac  
netstat -an | grep :8888
lsof -i :8888

# 3. æŸ¥çœ‹æ‰€æœ‰ç½‘ç»œè¿æ¥
netstat -an
```

**ğŸ’» Javaä»£ç æµ‹è¯•å·¥å…·**
```java
public class NetworkTestUtils {
    
    // æµ‹è¯•ç«¯å£æ˜¯å¦å¯ç”¨
    public static boolean isPortAvailable(int port) {
        try (ServerSocket socket = new ServerSocket(port)) {
            return true;
        } catch (Exception e) {
            return false;
        }
    }
    
    // æµ‹è¯•ä¸»æœºæ˜¯å¦å¯è¾¾
    public static boolean isHostReachable(String host, int timeout) {
        try {
            InetAddress address = InetAddress.getByName(host);
            return address.isReachable(timeout);
        } catch (Exception e) {
            return false;
        }
    }
    
    // æ‰«æå¯ç”¨ç«¯å£
    public static int findAvailablePort(int startPort) {
        for (int port = startPort; port < startPort + 100; port++) {
            if (isPortAvailable(port)) {
                return port;
            }
        }
        return -1; // æ²¡æ‰¾åˆ°å¯ç”¨ç«¯å£
    }
    
    public static void main(String[] args) {
        System.out.println("ç«¯å£8888æ˜¯å¦å¯ç”¨: " + isPortAvailable(8888));
        System.out.println("ç™¾åº¦æ˜¯å¦å¯è¾¾: " + isHostReachable("www.baidu.com", 3000));
        System.out.println("å¯ç”¨ç«¯å£: " + findAvailablePort(8000));
    }
}
```

### 4.3 é˜²ç«å¢™è®¾ç½®


**ğŸ›¡ï¸ å¸¸è§é˜²ç«å¢™é—®é¢˜**
```
å¦‚æœç¨‹åºè¿æ¥å¤±è´¥ï¼Œæ£€æŸ¥ï¼š

1. æœåŠ¡å™¨ç¨‹åºæ˜¯å¦å¯åŠ¨ï¼Ÿ
2. ç«¯å£å·æ˜¯å¦æ­£ç¡®ï¼Ÿ  
3. é˜²ç«å¢™æ˜¯å¦é˜»æ‹¦ï¼Ÿ
4. IPåœ°å€æ˜¯å¦æ­£ç¡®ï¼Ÿ

Windowsé˜²ç«å¢™ï¼š
æ§åˆ¶é¢æ¿ â†’ Windows Defenderé˜²ç«å¢™ â†’ å…è®¸åº”ç”¨é€šè¿‡é˜²ç«å¢™
æˆ–è€…ç›´æ¥å…³é—­é˜²ç«å¢™ï¼ˆä»…æµ‹è¯•æ—¶ï¼‰

Macé˜²ç«å¢™ï¼š
ç³»ç»Ÿåå¥½è®¾ç½® â†’ å®‰å…¨æ€§ä¸éšç§ â†’ é˜²ç«å¢™

Linuxé˜²ç«å¢™ï¼š
sudo ufw allow 8888  # å…è®¸8888ç«¯å£
```

### 4.4 ç®€å•é¡¹ç›®ç»“æ„


**ğŸ“ æ¨èçš„å­¦ä¹ é¡¹ç›®ç»“æ„**
```
java-network-learn/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ basic/              # åŸºç¡€ç¤ºä¾‹
â”‚   â”‚   â”œâ”€â”€ TCPClient.java
â”‚   â”‚   â””â”€â”€ TCPServer.java
â”‚   â”œâ”€â”€ udp/                # UDPç¤ºä¾‹
â”‚   â”œâ”€â”€ http/               # HTTPç¤ºä¾‹
â”‚   â””â”€â”€ utils/              # å·¥å…·ç±»
â”œâ”€â”€ lib/                    # ç¬¬ä¸‰æ–¹jaråŒ…
â””â”€â”€ README.md

åŸºç¡€é…ç½®æ–‡ä»¶ï¼š
// config.properties
server.port=8888
server.host=localhost
client.timeout=5000
```

---

## 5. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 5.1 å¿…é¡»æŒæ¡çš„åŸºç¡€æ¦‚å¿µ


```
ğŸ”¸ ç½‘ç»œç¼–ç¨‹ = è®©ä¸åŒç”µè„‘ä¸Šçš„ç¨‹åºäº’ç›¸é€šä¿¡
ğŸ”¸ é€šä¿¡ä¸‰è¦ç´ ï¼šIPåœ°å€ï¼ˆæ‰¾ç”µè„‘ï¼‰+ ç«¯å£å·ï¼ˆæ‰¾ç¨‹åºï¼‰+ åè®®ï¼ˆé€šä¿¡è§„åˆ™ï¼‰
ğŸ”¸ TCP vs UDPï¼šTCPå¯é ä½†æ…¢ï¼ŒUDPå¿«ä½†ä¸å¯é 
ğŸ”¸ å®¢æˆ·ç«¯/æœåŠ¡å™¨ï¼šå®¢æˆ·ç«¯ä¸»åŠ¨è¿æ¥ï¼ŒæœåŠ¡å™¨è¢«åŠ¨ç­‰å¾…
ğŸ”¸ é˜»å¡/éé˜»å¡ï¼šé˜»å¡ä¼šç­‰å¾…ï¼Œéé˜»å¡ç«‹å³è¿”å›
```

### 5.2 æ ¸å¿ƒJavaç±»åº“


```
ğŸ”¸ InetAddressï¼šå¤„ç†IPåœ°å€å’ŒåŸŸå
ğŸ”¸ Socketï¼šTCPå®¢æˆ·ç«¯è¿æ¥
ğŸ”¸ ServerSocketï¼šTCPæœåŠ¡å™¨ç›‘å¬  
ğŸ”¸ DatagramSocketï¼šUDPé€šä¿¡
ğŸ”¸ URLï¼šå¤„ç†ç½‘å€å’ŒHTTPè®¿é—®
```

### 5.3 é‡è¦æ³¨æ„äº‹é¡¹


**ğŸ”¹ ç¼–ç é—®é¢˜**
```
âœ… åšæ³•ï¼šç»Ÿä¸€ä½¿ç”¨UTF-8ç¼–ç 
âŒ é”™è¯¯ï¼šä½¿ç”¨ç³»ç»Ÿé»˜è®¤ç¼–ç 
âœ… å†™æ³•ï¼štext.getBytes("UTF-8")
âŒ å†™æ³•ï¼štext.getBytes() // ç¼–ç ä¸æ˜ç¡®
```

**ğŸ”¹ å¼‚å¸¸å¤„ç†**
```
âœ… æ€»æ˜¯ç”¨try-catchåŒ…å›´ç½‘ç»œæ“ä½œ
âœ… åœ¨finallyä¸­å…³é—­èµ„æºï¼Œæˆ–ä½¿ç”¨try-with-resources
âœ… ç»™ç”¨æˆ·å‹å¥½çš„é”™è¯¯æç¤º
```

**ğŸ”¹ ç²˜åŒ…å¤„ç†**
```
âœ… ä½¿ç”¨åˆ†éš”ç¬¦ï¼šPrintWriter.println() + BufferedReader.readLine()
âœ… ä½¿ç”¨é•¿åº¦å‰ç¼€ï¼šå…ˆå‘é•¿åº¦ï¼Œå†å‘æ•°æ®
âŒ ç›´æ¥å‘é€ï¼šå®¹æ˜“å‡ºç°ç²˜åŒ…é—®é¢˜
```

### 5.4 å­¦ä¹ å»ºè®®


**ğŸ¯ å¾ªåºæ¸è¿›**
```
ç¬¬1æ­¥ï¼šç†è§£ç½‘ç»œé€šä¿¡åŸºæœ¬æ¦‚å¿µ
ç¬¬2æ­¥ï¼šå†™ç®€å•çš„TCPå®¢æˆ·ç«¯/æœåŠ¡å™¨
ç¬¬3æ­¥ï¼šå¤„ç†ç¼–ç å’Œç²˜åŒ…é—®é¢˜
ç¬¬4æ­¥ï¼šå­¦ä¹ UDPç¼–ç¨‹
ç¬¬5æ­¥ï¼šå­¦ä¹ å¤šçº¿ç¨‹å’Œé«˜æ€§èƒ½ç¼–ç¨‹
```

**ğŸ’¡ å®è·µå»ºè®®**
```
â€¢ æ¯ä¸ªæ¦‚å¿µéƒ½è¦åŠ¨æ‰‹å†™ä»£ç éªŒè¯
â€¢ ä»æœ€ç®€å•çš„ä¾‹å­å¼€å§‹ï¼Œé€æ­¥å¢åŠ å¤æ‚åº¦
â€¢ é‡åˆ°é—®é¢˜å…ˆæ£€æŸ¥ï¼šç¨‹åºæ˜¯å¦å¯åŠ¨ã€ç«¯å£æ˜¯å¦æ­£ç¡®ã€é˜²ç«å¢™æ˜¯å¦é˜»æ‹¦
â€¢ ä½¿ç”¨System.out.println()è°ƒè¯•ï¼Œè§‚å¯Ÿç¨‹åºæ‰§è¡Œæµç¨‹
```

**ğŸ”§ å¸¸ç”¨è°ƒè¯•æŠ€å·§**
```
â€¢ æœåŠ¡å™¨å¯åŠ¨åï¼Œç”¨telnetæµ‹è¯•è¿æ¥
â€¢ ç”¨netstatæŸ¥çœ‹ç«¯å£å ç”¨æƒ…å†µ
â€¢ åœ¨å…³é”®ä½ç½®æ‰“å°æ—¥å¿—ï¼Œè§‚å¯Ÿæ•°æ®æµå‘
â€¢ å…ˆåœ¨æœ¬æœº(localhost)æµ‹è¯•ï¼Œå†è·¨æœºå™¨æµ‹è¯•
```

**æ ¸å¿ƒè®°å¿†**ï¼š
- ç½‘ç»œç¼–ç¨‹å°±æ˜¯è®©ç¨‹åºè·¨ç½‘ç»œ"èŠå¤©"ï¼Œéœ€è¦çŸ¥é“å¯¹æ–¹çš„"åœ°å€"
- TCPåƒæ‰“ç”µè¯ï¼ˆå»ºè¿æ¥ã€å¯é ï¼‰ï¼ŒUDPåƒå‘çŸ­ä¿¡ï¼ˆæ— è¿æ¥ã€å¿«é€Ÿï¼‰
- ç¼–ç ç»Ÿä¸€ç”¨UTF-8ï¼Œå¼‚å¸¸ä¸€å®šè¦å¤„ç†ï¼Œç²˜åŒ…ç”¨åˆ†éš”ç¬¦è§£å†³
- å…ˆç†è§£æ¦‚å¿µï¼Œå†åŠ¨æ‰‹å®è·µï¼Œä»ç®€å•åˆ°å¤æ‚é€æ­¥å­¦ä¹ 