---
title: 10ã€ServiceåŸºç¡€æ“ä½œ
---
## ğŸ“š ç›®å½•

1. [ä»€ä¹ˆæ˜¯Kubernetes Service](#1-ä»€ä¹ˆæ˜¯kubernetes-service)
2. [Serviceç±»å‹è¯¦è§£](#2-serviceç±»å‹è¯¦è§£)
3. [Serviceåˆ›å»ºå‘½ä»¤](#3-serviceåˆ›å»ºå‘½ä»¤)
4. [ServiceæŸ¥çœ‹ä¸ç®¡ç†](#4-serviceæŸ¥çœ‹ä¸ç®¡ç†)
5. [Serviceæš´éœ²åº”ç”¨](#5-serviceæš´éœ²åº”ç”¨)
6. [Serviceç«¯ç‚¹ç®¡ç†](#6-serviceç«¯ç‚¹ç®¡ç†)
7. [å®ç”¨æ“ä½œæŠ€å·§](#7-å®ç”¨æ“ä½œæŠ€å·§)
8. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#8-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸŒ ä»€ä¹ˆæ˜¯Kubernetes Service


### 1.1 Serviceçš„æœ¬è´¨æ¦‚å¿µ


**ğŸ”¸ ç®€å•ç†è§£**
```
æƒ³è±¡ä¸€ä¸ªé¤å…çš„æƒ…å†µï¼š
- å¨æˆ¿ï¼ˆPodï¼‰ï¼šå®é™…åšèœçš„åœ°æ–¹ï¼Œå¯èƒ½æœ‰å¤šä¸ªå¨å¸ˆ
- æœåŠ¡å‘˜ï¼ˆServiceï¼‰ï¼šå®¢äººä¸ç›´æ¥æ‰¾å¨å¸ˆï¼Œè€Œæ˜¯é€šè¿‡æœåŠ¡å‘˜ç‚¹èœ
- å³ä½¿å¨å¸ˆæ¢ç­ï¼Œå®¢äººä¾ç„¶é€šè¿‡åŒä¸€ä¸ªæœåŠ¡å‘˜ç‚¹èœ

Serviceå°±æ˜¯Kubernetesä¸­çš„"æœåŠ¡å‘˜"
å®ƒä¸ºä¸€ç»„Podæä¾›ç¨³å®šçš„è®¿é—®å…¥å£
```

**ğŸ’¡ ä¸ºä»€ä¹ˆéœ€è¦Service**
```
Podçš„é—®é¢˜ï¼š
â€¢ Podä¼šæ­»æ‰é‡å¯ï¼ŒIPåœ°å€ä¼šå˜åŒ–
â€¢ å¤šä¸ªPodå‰¯æœ¬ï¼Œä¸çŸ¥é“è¯¥è®¿é—®å“ªä¸€ä¸ª
â€¢ å®¢æˆ·ç«¯æ— æ³•ç›´æ¥çŸ¥é“Podçš„çœŸå®IP

Serviceçš„ä½œç”¨ï¼š
â€¢ æä¾›ç¨³å®šä¸å˜çš„è®¿é—®å…¥å£ï¼ˆè™šæ‹ŸIPï¼‰
â€¢ è‡ªåŠ¨è´Ÿè½½å‡è¡¡åˆ°åç«¯å¤šä¸ªPod
â€¢ æœåŠ¡å‘ç°ï¼šé€šè¿‡åç§°æ‰¾åˆ°æœåŠ¡
```

### 1.2 Serviceå·¥ä½œåŸç†


**ğŸ”§ æ ¸å¿ƒæœºåˆ¶**
```
å·¥ä½œæµç¨‹å›¾ç¤ºï¼š

å®¢æˆ·ç«¯è¯·æ±‚
    â†“
Serviceï¼ˆè™šæ‹ŸIPï¼‰
    â†“
è´Ÿè½½å‡è¡¡å™¨
    â†“ â†“ â†“
Pod1 Pod2 Pod3

å…³é”®ç»„ä»¶ï¼š
â€¢ Serviceï¼šè™šæ‹Ÿçš„æœåŠ¡å…¥å£
â€¢ Endpointsï¼šServiceèƒŒåçœŸå®çš„Pod IPåˆ—è¡¨
â€¢ kube-proxyï¼šå®ç°è´Ÿè½½å‡è¡¡çš„ç½‘ç»œç»„ä»¶
```

---

## 2. ğŸ·ï¸ Serviceç±»å‹è¯¦è§£


### 2.1 ClusterIP - é›†ç¾¤å†…éƒ¨æœåŠ¡


**ğŸ”¸ åŸºæœ¬æ¦‚å¿µ**
```
ClusterIPæ˜¯æœ€åŸºç¡€çš„Serviceç±»å‹
åªèƒ½åœ¨Kubernetesé›†ç¾¤å†…éƒ¨è®¿é—®
é€‚ç”¨äºï¼šå¾®æœåŠ¡ä¹‹é—´çš„é€šä¿¡

ç¤ºæ„å›¾ï¼š
é›†ç¾¤å†…éƒ¨ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ App A â”€â”€â”€â”€â†’ Service â”€â”€â†’ App B Pods â”‚
â”‚           (ClusterIP)         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
å¤–éƒ¨ç”¨æˆ·æ— æ³•ç›´æ¥è®¿é—®
```

**âš¡ ä½¿ç”¨åœºæ™¯**
- æ•°æ®åº“æœåŠ¡ï¼šMySQLã€Redisç­‰
- å†…éƒ¨APIæœåŠ¡
- åå°å¤„ç†æœåŠ¡

### 2.2 NodePort - èŠ‚ç‚¹ç«¯å£æœåŠ¡


**ğŸ”¸ å·¥ä½œåŸç†**
```
NodePortåœ¨é›†ç¾¤çš„æ¯ä¸ªèŠ‚ç‚¹ä¸Šå¼€æ”¾ä¸€ä¸ªç«¯å£
å¤–éƒ¨å¯ä»¥é€šè¿‡ èŠ‚ç‚¹IP:ç«¯å£ è®¿é—®æœåŠ¡

è®¿é—®è·¯å¾„ï¼š
å¤–éƒ¨ç”¨æˆ· â†’ èŠ‚ç‚¹IP:30080 â†’ Service â†’ Pod

ç«¯å£èŒƒå›´ï¼š30000-32767ï¼ˆé»˜è®¤ï¼‰
```

**ğŸ’¡ å®é™…åº”ç”¨**
- æµ‹è¯•ç¯å¢ƒæš´éœ²æœåŠ¡
- ç®€å•çš„å¯¹å¤–æœåŠ¡
- å¼€å‘è°ƒè¯•ç”¨é€”

### 2.3 LoadBalancer - è´Ÿè½½å‡è¡¡æœåŠ¡


**ğŸ”¸ é€‚ç”¨ç¯å¢ƒ**
```
åªåœ¨æ”¯æŒè´Ÿè½½å‡è¡¡å™¨çš„äº‘å¹³å°ä¸Šå·¥ä½œï¼š
â€¢ AWS ELB
â€¢ Google Cloud Load Balancer  
â€¢ Azure Load Balancer

å·¥ä½œæ–¹å¼ï¼š
äº‘è´Ÿè½½å‡è¡¡å™¨ â†’ NodePort â†’ Service â†’ Pod
```

**ğŸ¯ ä½¿ç”¨åœºæ™¯**
- ç”Ÿäº§ç¯å¢ƒçš„Webåº”ç”¨
- éœ€è¦é«˜å¯ç”¨çš„å¯¹å¤–æœåŠ¡
- äº‘å¹³å°éƒ¨ç½²

---

## 3. ğŸ”§ Serviceåˆ›å»ºå‘½ä»¤


### 3.1 åˆ›å»ºClusterIPæœåŠ¡


**ğŸ“ åŸºç¡€åˆ›å»ºå‘½ä»¤**
```bash
# åˆ›å»ºClusterIPæœåŠ¡ï¼ˆé»˜è®¤ç±»å‹ï¼‰
kubectl create service clusterip my-web-service --tcp=80:80
```

**ğŸ” å‘½ä»¤è§£æ**
- `clusterip`ï¼šæŒ‡å®šæœåŠ¡ç±»å‹
- `my-web-service`ï¼šæœåŠ¡åç§°
- `--tcp=80:80`ï¼šç«¯å£æ˜ å°„ï¼ˆæœåŠ¡ç«¯å£:ç›®æ ‡ç«¯å£ï¼‰

**ğŸ’¡ å®é™…ç¤ºä¾‹**
```bash
# ä¸ºnginxåˆ›å»ºå†…éƒ¨æœåŠ¡
kubectl create service clusterip nginx-service --tcp=80:80

# æŸ¥çœ‹åˆ›å»ºç»“æœ
kubectl get svc nginx-service
```

### 3.2 åˆ›å»ºNodePortæœåŠ¡


**ğŸ“ NodePortåˆ›å»ºå‘½ä»¤**
```bash
# åˆ›å»ºNodePortæœåŠ¡ï¼Œå¯¹å¤–æš´éœ²
kubectl create service nodeport my-web-nodeport --tcp=80:80
```

**ğŸ¯ ç«¯å£è¯´æ˜**
```
ç«¯å£æ˜ å°„å…³ç³»ï¼š
â€¢ 80:80 â†’ æœåŠ¡ç›‘å¬80ç«¯å£ï¼Œè½¬å‘åˆ°Podçš„80ç«¯å£
â€¢ Kubernetesä¼šè‡ªåŠ¨åˆ†é…ä¸€ä¸ª30000+çš„å¤–éƒ¨ç«¯å£

æŸ¥çœ‹åˆ†é…çš„ç«¯å£ï¼š
kubectl get svc my-web-nodeport
```

### 3.3 åˆ›å»ºLoadBalanceræœåŠ¡


**ğŸ“ LoadBalanceråˆ›å»ºå‘½ä»¤**
```bash
# åˆ›å»ºäº‘è´Ÿè½½å‡è¡¡å™¨æœåŠ¡
kubectl create service loadbalancer my-web-lb --tcp=80:80
```

**âš ï¸ æ³¨æ„äº‹é¡¹**
```
å‰ææ¡ä»¶ï¼š
â€¢ å¿…é¡»åœ¨æ”¯æŒçš„äº‘å¹³å°ä¸Šè¿è¡Œ
â€¢ éœ€è¦é…ç½®äº‘å¹³å°çš„è´Ÿè½½å‡è¡¡å™¨é›†æˆ
â€¢ æœ¬åœ°ç¯å¢ƒï¼ˆå¦‚minikubeï¼‰å¯èƒ½ä¸æ”¯æŒ
```

---

## 4. ğŸ‘ï¸ ServiceæŸ¥çœ‹ä¸ç®¡ç†


### 4.1 æŸ¥çœ‹Serviceåˆ—è¡¨


**ğŸ“‹ åŸºæœ¬æŸ¥çœ‹å‘½ä»¤**
```bash
# æŸ¥çœ‹æ‰€æœ‰æœåŠ¡ï¼ˆå®Œæ•´å‘½ä»¤ï¼‰
kubectl get services

# ä½¿ç”¨ç®€å†™
kubectl get svc
```

**ğŸ“Š è¾“å‡ºä¿¡æ¯è§£è¯»**
```
NAME         TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)        AGE
nginx-svc    ClusterIP   10.96.200.100   <none>        80/TCP         5m
web-svc      NodePort    10.96.150.50    <none>        80:31000/TCP   3m
app-lb       LoadBalancer 10.96.100.200   203.0.113.10  80:30500/TCP   10m

å­—æ®µå«ä¹‰ï¼š
â€¢ NAMEï¼šæœåŠ¡åç§°
â€¢ TYPEï¼šæœåŠ¡ç±»å‹
â€¢ CLUSTER-IPï¼šé›†ç¾¤å†…éƒ¨IP
â€¢ EXTERNAL-IPï¼šå¤–éƒ¨IPï¼ˆå¦‚æœæœ‰ï¼‰
â€¢ PORT(S)ï¼šç«¯å£æ˜ å°„ä¿¡æ¯
â€¢ AGEï¼šåˆ›å»ºæ—¶é—´
```

### 4.2 æŸ¥çœ‹Serviceè¯¦ç»†ä¿¡æ¯


**ğŸ” è¯¦ç»†ä¿¡æ¯å‘½ä»¤**
```bash
# æŸ¥çœ‹æœåŠ¡è¯¦ç»†é…ç½®
kubectl describe service [æœåŠ¡åç§°]

# ç¤ºä¾‹
kubectl describe service nginx-service
```

**ğŸ“ˆ è¾“å‡ºå†…å®¹åŒ…å«**
- æœåŠ¡åŸºæœ¬ä¿¡æ¯
- é€‰æ‹©å™¨è§„åˆ™
- ç«¯ç‚¹ä¿¡æ¯
- äº‹ä»¶å†å²

### 4.3 åˆ é™¤Service


**ğŸ—‘ï¸ åˆ é™¤å‘½ä»¤**
```bash
# åˆ é™¤æŒ‡å®šæœåŠ¡
kubectl delete service [æœåŠ¡åç§°]

# ç¤ºä¾‹
kubectl delete service nginx-service

# æ‰¹é‡åˆ é™¤
kubectl delete service service1 service2
```

---

## 5. ğŸš€ Serviceæš´éœ²åº”ç”¨


### 5.1 ä»Podåˆ›å»ºService


**ğŸ“ æš´éœ²Podå‘½ä»¤**
```bash
# ä»ç°æœ‰Podåˆ›å»ºæœåŠ¡
kubectl expose pod [podåç§°] --port=80 --name=[æœåŠ¡åç§°]
```

**ğŸ’¡ å®ç”¨ç¤ºä¾‹**
```bash
# åˆ›å»ºä¸€ä¸ªnginx pod
kubectl run nginx-pod --image=nginx

# ä¸ºè¿™ä¸ªpodåˆ›å»ºæœåŠ¡
kubectl expose pod nginx-pod --port=80 --name=nginx-service

# éªŒè¯æœåŠ¡
kubectl get svc nginx-service
```

**ğŸ”§ å‚æ•°è¯´æ˜**
- `--port=80`ï¼šæœåŠ¡ç›‘å¬çš„ç«¯å£
- `--name=`ï¼šæŒ‡å®šæœåŠ¡åç§°
- `--target-port=`ï¼šPodå®é™…ç«¯å£ï¼ˆå¯é€‰ï¼‰

### 5.2 ä»Deploymentåˆ›å»ºService


**ğŸ“ æš´éœ²Deploymentå‘½ä»¤**
```bash
# ä»Deploymentåˆ›å»ºæœåŠ¡ï¼ˆæ¨èæ–¹å¼ï¼‰
kubectl expose deployment [deploymentåç§°] --port=80
```

**ğŸ¯ å®Œæ•´ç¤ºä¾‹æµç¨‹**
```bash
# 1. åˆ›å»ºdeployment
kubectl create deployment web-app --image=nginx

# 2. æ‰©å±•å‰¯æœ¬æ•°
kubectl scale deployment web-app --replicas=3

# 3. æš´éœ²æœåŠ¡
kubectl expose deployment web-app --port=80 --name=web-service

# 4. æŸ¥çœ‹ç»“æœ
kubectl get svc web-service
kubectl get endpoints web-service
```

**âœ… Deployment vs Podæš´éœ²çš„åŒºåˆ«**
```
ä»Podæš´éœ²ï¼š
â€¢ åªä¸ºå•ä¸ªPodåˆ›å»ºæœåŠ¡
â€¢ Podåˆ é™¤åæœåŠ¡å¤±æ•ˆ

ä»Deploymentæš´éœ²ï¼š
â€¢ ä¸ºDeploymentç®¡ç†çš„æ‰€æœ‰Podåˆ›å»ºæœåŠ¡
â€¢ æ”¯æŒè‡ªåŠ¨è´Ÿè½½å‡è¡¡
â€¢ Podé‡å¯åæœåŠ¡ä¾ç„¶æœ‰æ•ˆ
â€¢ æ¨èçš„ç”Ÿäº§ç¯å¢ƒåšæ³•
```

### 5.3 æŒ‡å®šServiceç±»å‹


**ğŸ”§ æš´éœ²æ—¶æŒ‡å®šç±»å‹**
```bash
# åˆ›å»ºNodePortç±»å‹æœåŠ¡
kubectl expose deployment web-app --port=80 --type=NodePort

# åˆ›å»ºLoadBalancerç±»å‹æœåŠ¡
kubectl expose deployment web-app --port=80 --type=LoadBalancer

# é»˜è®¤æ˜¯ClusterIPç±»å‹
kubectl expose deployment web-app --port=80
```

---

## 6. ğŸ¯ Serviceç«¯ç‚¹ç®¡ç†


### 6.1 ä»€ä¹ˆæ˜¯Endpoints


**ğŸ”¸ åŸºæœ¬æ¦‚å¿µ**
```
Endpointsæ˜¯Serviceçš„"é€šè®¯å½•"
è®°å½•äº†Serviceåé¢æ‰€æœ‰å¯ç”¨Podçš„IPåœ°å€

å…³ç³»å›¾ï¼š
Service â”€â”€â”€â”€â†’ Endpoints â”€â”€â”€â”€â†’ Pod1 (IP: 10.1.1.1)
                      â”œâ”€â”€â”€â”€â†’ Pod2 (IP: 10.1.1.2)  
                      â””â”€â”€â”€â”€â†’ Pod3 (IP: 10.1.1.3)
```

**ğŸ’¡ è‡ªåŠ¨ç®¡ç†**
- Podåˆ›å»ºæ—¶ï¼ŒIPè‡ªåŠ¨åŠ å…¥Endpoints
- Podåˆ é™¤æ—¶ï¼ŒIPè‡ªåŠ¨ä»Endpointsç§»é™¤
- Podå°±ç»ªæ£€æŸ¥å¤±è´¥æ—¶ï¼ŒIPæš‚æ—¶ç§»é™¤

### 6.2 æŸ¥çœ‹Endpoints


**ğŸ“‹ æŸ¥çœ‹å‘½ä»¤**
```bash
# æŸ¥çœ‹æ‰€æœ‰ç«¯ç‚¹
kubectl get endpoints

# ç®€å†™å½¢å¼
kubectl get ep

# æŸ¥çœ‹ç‰¹å®šæœåŠ¡çš„ç«¯ç‚¹
kubectl get endpoints [æœåŠ¡åç§°]
```

**ğŸ“Š è¾“å‡ºä¿¡æ¯è§£è¯»**
```bash
kubectl get endpoints web-service

NAME          ENDPOINTS                           AGE
web-service   10.1.1.10:80,10.1.1.11:80,10.1.1.12:80   5m

å«ä¹‰ï¼š
â€¢ web-serviceæœ‰3ä¸ªåç«¯Pod
â€¢ IPåˆ†åˆ«æ˜¯ 10.1.1.10, 10.1.1.11, 10.1.1.12
â€¢ éƒ½ç›‘å¬80ç«¯å£
```

### 6.3 Endpointsæ•…éšœæ’æŸ¥


**ğŸ” å¸¸è§é—®é¢˜è¯Šæ–­**

**é—®é¢˜1ï¼šEndpointsä¸ºç©º**
```bash
# æ£€æŸ¥Serviceé€‰æ‹©å™¨
kubectl describe service [æœåŠ¡åç§°]

# æ£€æŸ¥Podæ ‡ç­¾
kubectl get pods --show-labels

# ç¡®ä¿æ ‡ç­¾åŒ¹é…
```

**é—®é¢˜2ï¼šServiceæ— æ³•è®¿é—®**
```bash
# æ£€æŸ¥ç«¯ç‚¹çŠ¶æ€
kubectl get endpoints [æœåŠ¡åç§°]

# æ£€æŸ¥Podå°±ç»ªçŠ¶æ€
kubectl get pods -o wide

# æ£€æŸ¥Podå¥åº·æ£€æŸ¥
kubectl describe pod [podåç§°]
```

---

## 7. ğŸ’¡ å®ç”¨æ“ä½œæŠ€å·§


### 7.1 æœåŠ¡è¿æ¥æµ‹è¯•


**ğŸ”§ å†…éƒ¨è®¿é—®æµ‹è¯•**
```bash
# åœ¨é›†ç¾¤å†…åˆ›å»ºæµ‹è¯•Pod
kubectl run test-pod --image=busybox --rm -it -- sh

# åœ¨æµ‹è¯•Podå†…è®¿é—®æœåŠ¡
wget -qO- http://æœåŠ¡åç§°:ç«¯å£
# æˆ–è€…ä½¿ç”¨æœåŠ¡çš„ClusterIP
wget -qO- http://10.96.200.100:80
```

### 7.2 ç«¯å£è½¬å‘è°ƒè¯•


**ğŸ”„ æœ¬åœ°è°ƒè¯•æŠ€å·§**
```bash
# å°†æœåŠ¡ç«¯å£è½¬å‘åˆ°æœ¬åœ°
kubectl port-forward service/[æœåŠ¡åç§°] 8080:80

# ç„¶ååœ¨æœ¬åœ°æµè§ˆå™¨è®¿é—®
# http://localhost:8080
```

### 7.3 æœåŠ¡ä¿¡æ¯å¿«é€ŸæŸ¥çœ‹


**ğŸ“‹ å¸¸ç”¨æŸ¥çœ‹ç»„åˆ**
```bash
# æŸ¥çœ‹æœåŠ¡å’Œç«¯ç‚¹
kubectl get svc,ep

# æŸ¥çœ‹æœåŠ¡è¯¦æƒ…å’Œå¯¹åº”Pod
kubectl describe svc [æœåŠ¡åç§°]
kubectl get pods -l app=[åº”ç”¨æ ‡ç­¾]

# æŸ¥çœ‹æœåŠ¡çš„YAMLé…ç½®
kubectl get service [æœåŠ¡åç§°] -o yaml
```

### 7.4 æ‰¹é‡æ“ä½œ


**âš¡ æ•ˆç‡æå‡æŠ€å·§**
```bash
# æŸ¥çœ‹ç‰¹å®šå‘½åç©ºé—´çš„æ‰€æœ‰æœåŠ¡
kubectl get svc -n [å‘½åç©ºé—´]

# åˆ é™¤æ‰€æœ‰æœåŠ¡ï¼ˆè°¨æ…ä½¿ç”¨ï¼‰
kubectl delete svc --all

# æ ¹æ®æ ‡ç­¾é€‰æ‹©æœåŠ¡
kubectl get svc -l app=web
```

---

## 8. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 8.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒå‘½ä»¤


```
ğŸ”¸ Serviceåˆ›å»ºï¼š
â€¢ kubectl create service clusterip [name] --tcp=80:80
â€¢ kubectl create service nodeport [name] --tcp=80:80  
â€¢ kubectl create service loadbalancer [name] --tcp=80:80

ğŸ”¸ ServiceæŸ¥çœ‹ï¼š
â€¢ kubectl get services (æˆ– kubectl get svc)
â€¢ kubectl describe service [name]
â€¢ kubectl get endpoints (æˆ– kubectl get ep)

ğŸ”¸ Serviceæš´éœ²ï¼š
â€¢ kubectl expose pod [pod-name] --port=80 --name=[service-name]
â€¢ kubectl expose deployment [deployment-name] --port=80

ğŸ”¸ Serviceåˆ é™¤ï¼š
â€¢ kubectl delete service [name]
```

### 8.2 Serviceç±»å‹é€‰æ‹©æŒ‡å—


| æœåŠ¡ç±»å‹ | **ä½¿ç”¨åœºæ™¯** | **è®¿é—®æ–¹å¼** | **é€‚ç”¨ç¯å¢ƒ** |
|---------|------------|-------------|-------------|
| ğŸ”¹ **ClusterIP** | `å†…éƒ¨å¾®æœåŠ¡é€šä¿¡` | `é›†ç¾¤å†…éƒ¨è®¿é—®` | `æ•°æ®åº“ã€å†…éƒ¨API` |
| ğŸ”¹ **NodePort** | `æµ‹è¯•ç¯å¢ƒæš´éœ²` | `èŠ‚ç‚¹IP:ç«¯å£` | `å¼€å‘è°ƒè¯•` |
| ğŸ”¹ **LoadBalancer** | `ç”Ÿäº§ç¯å¢ƒWebåº”ç”¨` | `äº‘è´Ÿè½½å‡è¡¡å™¨` | `äº‘å¹³å°éƒ¨ç½²` |

### 8.3 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ Serviceæœ¬è´¨ä½œç”¨**
```
Serviceè§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼š
â€¢ Pod IPä¼šå˜åŒ– â†’ Serviceæä¾›ç¨³å®šè®¿é—®å…¥å£
â€¢ å¤šä¸ªPodå‰¯æœ¬ â†’ Serviceæä¾›è´Ÿè½½å‡è¡¡
â€¢ æœåŠ¡å‘ç°éš¾é¢˜ â†’ Serviceæä¾›åç§°è§£æ
```

**ğŸ”¹ Endpointsçš„é‡è¦æ€§**
```
ç†è§£Endpointsï¼š
â€¢ Serviceçš„"é€šè®¯å½•"ï¼Œè®°å½•åç«¯Pod IP
â€¢ è‡ªåŠ¨ç»´æŠ¤ï¼ŒPodå˜åŒ–æ—¶è‡ªåŠ¨æ›´æ–°
â€¢ æ•…éšœæ’æŸ¥çš„é‡è¦çº¿ç´¢
```

**ğŸ”¹ æš´éœ²åº”ç”¨çš„æœ€ä½³å®è·µ**
```
æ¨èæµç¨‹ï¼š
â‘  åˆ›å»ºDeploymentç®¡ç†Pod
â‘¡ ä½¿ç”¨kubectl exposeæš´éœ²Deployment
â‘¢ æ ¹æ®éœ€æ±‚é€‰æ‹©åˆé€‚çš„Serviceç±»å‹
â‘£ éªŒè¯Endpointså’ŒæœåŠ¡è¿é€šæ€§
```

### 8.4 å®é™…åº”ç”¨å»ºè®®


**ğŸ¯ æ–°æ‰‹å­¦ä¹ è·¯å¾„**
```
â‘  å…ˆå­¦ä¼šClusterIPï¼Œç†è§£ServiceåŸºæœ¬æ¦‚å¿µ
â‘¡ ç»ƒä¹ kubectl exposeå‘½ä»¤ï¼ŒæŒæ¡æœåŠ¡æš´éœ²
â‘¢ å­¦ä¼šæŸ¥çœ‹å’Œè°ƒè¯•Endpoints
â‘£ æ ¹æ®å®é™…éœ€æ±‚é€‰æ‹©NodePortæˆ–LoadBalancer
```

**âš ï¸ å¸¸è§æ³¨æ„äº‹é¡¹**
```
é¿å…çš„è¯¯åŒºï¼š
â€¢ ä¸è¦ç›´æ¥è®¿é—®Pod IPï¼Œè¦é€šè¿‡Service
â€¢ æ³¨æ„Serviceé€‰æ‹©å™¨å’ŒPodæ ‡ç­¾çš„åŒ¹é…
â€¢ LoadBalancerç±»å‹éœ€è¦äº‘å¹³å°æ”¯æŒ
â€¢ ç«¯å£æ˜ å°„æ ¼å¼ï¼šæœåŠ¡ç«¯å£:ç›®æ ‡ç«¯å£
```

**ğŸ”§ æ•…éšœæ’æŸ¥æ­¥éª¤**
```
æœåŠ¡ä¸é€šæ—¶çš„æ£€æŸ¥é¡ºåºï¼š
â‘  kubectl get svc æ£€æŸ¥æœåŠ¡çŠ¶æ€
â‘¡ kubectl get endpoints æ£€æŸ¥åç«¯Pod
â‘¢ kubectl get pods æ£€æŸ¥Podè¿è¡ŒçŠ¶æ€
â‘£ kubectl describe service æŸ¥çœ‹è¯¦ç»†é…ç½®
â‘¤ kubectl port-forward æœ¬åœ°è°ƒè¯•éªŒè¯
```

**æ ¸å¿ƒè®°å¿†**ï¼š
- Serviceæ˜¯Podçš„**ç¨³å®šè®¿é—®å…¥å£**ï¼Œè§£å†³IPå˜åŒ–é—®é¢˜
- ClusterIP**é›†ç¾¤å†…éƒ¨**ï¼ŒNodePort**å¯¹å¤–æš´éœ²**ï¼ŒLoadBalancer**äº‘å¹³å°**
- `kubectl expose`æ˜¯æœ€å¸¸ç”¨çš„**æœåŠ¡æš´éœ²**å‘½ä»¤
- Endpointsè®°å½•**åç«¯Pod IP**ï¼Œæ˜¯æ•…éšœæ’æŸ¥çš„é‡è¦ä¿¡æ¯