---
title: 23ã€é›†ç¾¤ä¿¡æ¯ä¸äº‹ä»¶
---
## ğŸ“š ç›®å½•

1. [é›†ç¾¤ä¿¡æ¯ç®¡ç†æ¦‚è¿°](#1-é›†ç¾¤ä¿¡æ¯ç®¡ç†æ¦‚è¿°)
2. [é›†ç¾¤åŸºæœ¬ä¿¡æ¯æŸ¥çœ‹](#2-é›†ç¾¤åŸºæœ¬ä¿¡æ¯æŸ¥çœ‹)
3. [é›†ç¾¤çŠ¶æ€æ·±åº¦æ£€æŸ¥](#3-é›†ç¾¤çŠ¶æ€æ·±åº¦æ£€æŸ¥)
4. [äº‹ä»¶ç³»ç»Ÿå®Œå…¨è§£æ](#4-äº‹ä»¶ç³»ç»Ÿå®Œå…¨è§£æ)
5. [äº‹ä»¶è¿‡æ»¤ä¸æ’åºæŠ€å·§](#5-äº‹ä»¶è¿‡æ»¤ä¸æ’åºæŠ€å·§)
6. [ç›‘æ§ä¸æ•…éšœè¯Šæ–­](#6-ç›‘æ§ä¸æ•…éšœè¯Šæ–­)
7. [å®æˆ˜åœºæ™¯æ¡ˆä¾‹](#7-å®æˆ˜åœºæ™¯æ¡ˆä¾‹)
8. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#8-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ¯ é›†ç¾¤ä¿¡æ¯ç®¡ç†æ¦‚è¿°


### 1.1 ä¸ºä»€ä¹ˆéœ€è¦äº†è§£é›†ç¾¤ä¿¡æ¯


**ç”Ÿæ´»åŒ–æ¯”å–»**ï¼š
æƒ³è±¡Kubernetesé›†ç¾¤å°±åƒä¸€åº§å¤§å‹å·¥å‚ï¼Œä½ ä½œä¸ºç®¡ç†è€…ï¼Œéœ€è¦æ—¶åˆ»äº†è§£ï¼š
- ğŸ­ å·¥å‚æ•´ä½“è¿è¡ŒçŠ¶æ€ï¼ˆé›†ç¾¤ä¿¡æ¯ï¼‰
- ğŸ“Š å„ä¸ªè½¦é—´å·¥ä½œæƒ…å†µï¼ˆèŠ‚ç‚¹çŠ¶æ€ï¼‰
- ğŸ“‹ ç”Ÿäº§è¿‡ç¨‹ä¸­çš„é‡è¦è®°å½•ï¼ˆäº‹ä»¶æ—¥å¿—ï¼‰
- âš ï¸ å¼‚å¸¸æƒ…å†µå’Œè­¦æŠ¥ï¼ˆé”™è¯¯äº‹ä»¶ï¼‰

```
é›†ç¾¤ç®¡ç†çš„æ ¸å¿ƒéœ€æ±‚ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            é›†ç¾¤å¥åº·ç›‘æ§              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ åŸºç¡€ä¿¡æ¯ â†’ äº†è§£é›†ç¾¤åŸºæœ¬é…ç½®          â”‚
â”‚ ç»„ä»¶çŠ¶æ€ â†’ æ£€æŸ¥æ ¸å¿ƒæœåŠ¡æ˜¯å¦æ­£å¸¸       â”‚
â”‚ äº‹ä»¶æ—¥å¿— â†’ è¿½è¸ªç³»ç»Ÿè¿è¡Œè½¨è¿¹          â”‚
â”‚ é—®é¢˜è¯Šæ–­ â†’ å¿«é€Ÿå®šä½å’Œè§£å†³æ•…éšœ        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.2 é›†ç¾¤ä¿¡æ¯çš„åˆ†å±‚ç»“æ„


**ğŸ—ï¸ ä¿¡æ¯å±‚æ¬¡æ¶æ„**ï¼š
```
é›†ç¾¤ä¿¡æ¯é‡‘å­—å¡”ï¼š
        ğŸ” è¯¦ç»†äº‹ä»¶æ—¥å¿—
       â–² ï¼ˆå…·ä½“é—®é¢˜è¿½è¸ªï¼‰
      â–²
     â–²    ğŸ“Š ç»„ä»¶çŠ¶æ€ä¿¡æ¯
    â–²      ï¼ˆæœåŠ¡å¥åº·æ£€æŸ¥ï¼‰
   â–²
  â–²        ğŸŒ é›†ç¾¤åŸºç¡€ä¿¡æ¯
 â–²          ï¼ˆæ•´ä½“æ¦‚è§ˆï¼‰
â–²
åŸºç¡€å±‚ â†’ è¿›é˜¶å±‚ â†’ ä¸“å®¶å±‚
```

**ğŸ¨ ä¿¡æ¯è·å–ç­–ç•¥**ï¼š
```
æ–°æ‰‹å…¥é—¨è·¯å¾„ï¼š
ç¬¬ä¸€æ­¥ï¼šçœ‹é›†ç¾¤åŸºæœ¬ä¿¡æ¯ï¼ˆçŸ¥é“åœ¨å“ªï¼‰
ç¬¬äºŒæ­¥ï¼šæŸ¥ç»„ä»¶è¿è¡ŒçŠ¶æ€ï¼ˆç¡®ä¿å¥åº·ï¼‰
ç¬¬ä¸‰æ­¥ï¼šè§‚å¯Ÿäº‹ä»¶æµæ°´çº¿ï¼ˆäº†è§£åŠ¨æ€ï¼‰
ç¬¬å››æ­¥ï¼šå­¦ä¼šé—®é¢˜æ’æŸ¥æ³•ï¼ˆè§£å†³å›°éš¾ï¼‰

è®°å¿†å£è¯€ï¼š
"å…ˆçœ‹æ•´ä½“å†çœ‹ç»†èŠ‚ï¼Œå…ˆæŸ¥çŠ¶æ€å†æŸ¥äº‹ä»¶"
```

---

## 2. ğŸŒ é›†ç¾¤åŸºæœ¬ä¿¡æ¯æŸ¥çœ‹


### 2.1 é›†ç¾¤æ ¸å¿ƒä¿¡æ¯è·å–


**ğŸ” `kubectl cluster-info` - é›†ç¾¤åŸºç¡€ä¿¡æ¯**

è¿™ä¸ªå‘½ä»¤å°±åƒæŸ¥çœ‹å·¥å‚çš„"é—¨ç‰Œå·ç "ï¼Œå‘Šè¯‰ä½ æœ€é‡è¦çš„æœåŠ¡åœ¨å“ªé‡Œï¼š

```bash
# æŸ¥çœ‹é›†ç¾¤åŸºæœ¬ä¿¡æ¯
kubectl cluster-info
```

**ğŸ’¡ è¾“å‡ºç»“æœè§£è¯»**ï¼š
```
å…¸å‹è¾“å‡ºç¤ºä¾‹ï¼š
Kubernetes control plane is running at https://10.0.0.1:6443
CoreDNS is running at https://10.0.0.1:6443/api/v1/namespaces/kube-system/services/kube-dns:dns/proxy

ç¿»è¯‘æˆäººè¯ï¼š
âœ… APIæœåŠ¡å™¨åœ°å€ï¼šhttps://10.0.0.1:6443
   â†’ è¿™æ˜¯é›†ç¾¤çš„"å¤§è„‘"ï¼Œæ‰€æœ‰å‘½ä»¤éƒ½å‘é€åˆ°è¿™é‡Œ
âœ… DNSæœåŠ¡åœ°å€ï¼šå†…éƒ¨åŸŸåè§£ææœåŠ¡æ­£å¸¸è¿è¡Œ
   â†’ Podä¹‹é—´å¯ä»¥é€šè¿‡æœåŠ¡åç›¸äº’è®¿é—®
```

**ğŸ“‹ å¿«é€Ÿå¥åº·æ£€æŸ¥æ¸…å•**ï¼š
```
çœ‹åˆ°è¿™äº›ä¿¡æ¯è¯´æ˜é›†ç¾¤åŸºæœ¬æ­£å¸¸ï¼š
â–¡ Kubernetes control plane is running - æ§åˆ¶é¢æ¿å·¥ä½œä¸­
â–¡ CoreDNS is running - å†…éƒ¨DNSæ­£å¸¸
â–¡ æ²¡æœ‰ "connection refused" é”™è¯¯
â–¡ æ²¡æœ‰è¶…æ—¶æç¤º

å¦‚æœçœ‹åˆ°é”™è¯¯ä¿¡æ¯ï¼š
âŒ connection refused â†’ å¯èƒ½æ˜¯é›†ç¾¤åœæ­¢è¿è¡Œ
âŒ timeout â†’ ç½‘ç»œè¿æ¥æœ‰é—®é¢˜  
âŒ certificate error â†’ è®¤è¯é…ç½®æœ‰è¯¯
```

### 2.2 è¯¦ç»†é›†ç¾¤çŠ¶æ€è½¬å‚¨


**ğŸ“Š `kubectl cluster-info dump` - å®Œæ•´é›†ç¾¤å¿«ç…§**

è¿™å°±åƒç»™æ•´ä¸ªå·¥å‚æ‹ä¸€å¼ "å…¨æ™¯ç…§ç‰‡"ï¼Œè®°å½•æ¯ä¸ªç»†èŠ‚ï¼š

```bash
# ç”Ÿæˆé›†ç¾¤çŠ¶æ€æŠ¥å‘Šï¼ˆä¿¡æ¯å¾ˆå¤šï¼Œå»ºè®®é‡å®šå‘åˆ°æ–‡ä»¶ï¼‰
kubectl cluster-info dump > cluster-snapshot.txt

# åªè·å–ç‰¹å®šå‘½åç©ºé—´çš„ä¿¡æ¯
kubectl cluster-info dump --namespaces kube-system

# è¾“å‡ºåˆ°æŒ‡å®šç›®å½•ï¼ˆæ¨èï¼‰
kubectl cluster-info dump --output-directory ./cluster-dump
```

**ğŸ”§ å®é™…ä½¿ç”¨åœºæ™¯**ï¼š
```
ä»€ä¹ˆæ—¶å€™éœ€è¦å®Œæ•´è½¬å‚¨ï¼š
ğŸš¨ é›†ç¾¤å‡ºç°ä¸¥é‡é—®é¢˜æ—¶
ğŸ“ è”ç³»æŠ€æœ¯æ”¯æŒå‰æ”¶é›†ä¿¡æ¯
ğŸ” æ€§èƒ½é—®é¢˜æ·±åº¦åˆ†æ
ğŸ“ é›†ç¾¤é…ç½®å¤‡ä»½å’Œå®¡è®¡

è½¬å‚¨åŒ…å«çš„å…³é”®ä¿¡æ¯ï¼š
â€¢ æ‰€æœ‰Podçš„è¯¦ç»†çŠ¶æ€
â€¢ æœåŠ¡å’Œç½‘ç»œé…ç½®
â€¢ å­˜å‚¨å·æŒ‚è½½æƒ…å†µ
â€¢ èµ„æºä½¿ç”¨ç»Ÿè®¡
â€¢ é”™è¯¯æ—¥å¿—æ‘˜è¦
```

**âš ï¸ ä½¿ç”¨æ³¨æ„äº‹é¡¹**ï¼š
```
é‡è¦æé†’ï¼š
ğŸ”’ è½¬å‚¨æ–‡ä»¶å¯èƒ½åŒ…å«æ•æ„Ÿä¿¡æ¯
ğŸ“ æ–‡ä»¶é€šå¸¸å¾ˆå¤§ï¼ˆå‡ MBåˆ°å‡ ç™¾MBï¼‰
â° ç”Ÿæˆè¿‡ç¨‹å¯èƒ½éœ€è¦å‡ åˆ†é’Ÿ
ğŸ—‘ï¸ è®°å¾—å®šæœŸæ¸…ç†æ—§çš„è½¬å‚¨æ–‡ä»¶
```

### 2.3 ç»„ä»¶çŠ¶æ€æ£€æŸ¥ï¼ˆå†å²åŠŸèƒ½ï¼‰


**âš™ï¸ `kubectl get componentstatuses` - ç»„ä»¶å¥åº·æ£€æŸ¥**

> **ğŸ“¢ é‡è¦è¯´æ˜**ï¼šè¿™ä¸ªå‘½ä»¤åœ¨æ–°ç‰ˆæœ¬Kubernetesä¸­å·²ç»è¢«å¼ƒç”¨ï¼Œä½†äº†è§£å®ƒæœ‰åŠ©äºç†è§£é›†ç¾¤æ¶æ„

```bash
# æŸ¥çœ‹æ ¸å¿ƒç»„ä»¶çŠ¶æ€ï¼ˆå¯èƒ½åœ¨æ–°ç‰ˆæœ¬ä¸­ä¸å¯ç”¨ï¼‰
kubectl get componentstatuses
# ç®€å†™å½¢å¼
kubectl get cs
```

**ğŸ—ï¸ æ ¸å¿ƒç»„ä»¶å«ä¹‰è§£æ**ï¼š
```
Kubernetesæ ¸å¿ƒç»„ä»¶ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ etcd                â”‚ â† é›†ç¾¤æ•°æ®åº“ï¼Œå­˜å‚¨æ‰€æœ‰é…ç½®
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ kube-apiserver      â”‚ â† APIæœåŠ¡å™¨ï¼Œæ¥æ”¶æ‰€æœ‰è¯·æ±‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ kube-controller-manager â”‚ â† æ§åˆ¶å™¨ç®¡ç†å™¨ï¼Œç»´æŒæœŸæœ›çŠ¶æ€
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ kube-scheduler      â”‚ â† è°ƒåº¦å™¨ï¼Œå†³å®šPodæ”¾åœ¨å“ªä¸ªèŠ‚ç‚¹
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

å¥åº·çŠ¶æ€å«ä¹‰ï¼š
âœ… Healthy â†’ ç»„ä»¶è¿è¡Œæ­£å¸¸
âŒ Unhealthy â†’ ç»„ä»¶æœ‰é—®é¢˜ï¼Œéœ€è¦æ£€æŸ¥
```

**ğŸ”„ ç°ä»£æ›¿ä»£æ–¹æ¡ˆ**ï¼š
```bash
# ç°ä»£æ–¹å¼æ£€æŸ¥æ§åˆ¶é¢æ¿ç»„ä»¶
kubectl get pods -n kube-system

# æŸ¥çœ‹ç³»ç»Ÿå‘½åç©ºé—´ä¸­çš„å…³é”®æœåŠ¡
kubectl get all -n kube-system

# æ£€æŸ¥èŠ‚ç‚¹çŠ¶æ€ï¼ˆæ›´ç›´è§‚ï¼‰
kubectl get nodes
kubectl describe nodes
```

---

## 3. ğŸ“Š é›†ç¾¤çŠ¶æ€æ·±åº¦æ£€æŸ¥


### 3.1 èŠ‚ç‚¹çŠ¶æ€å…¨é¢åˆ†æ


**ğŸ–¥ï¸ èŠ‚ç‚¹å¥åº·çŠ¶å†µæ£€æŸ¥**ï¼š

```bash
# æŸ¥çœ‹æ‰€æœ‰èŠ‚ç‚¹åŸºæœ¬ä¿¡æ¯
kubectl get nodes

# æŸ¥çœ‹èŠ‚ç‚¹è¯¦ç»†ä¿¡æ¯ï¼ˆåŒ…æ‹¬èµ„æºä½¿ç”¨ï¼‰
kubectl get nodes -o wide

# æ˜¾ç¤ºèŠ‚ç‚¹èµ„æºåˆ†é…æƒ…å†µ
kubectl describe nodes

# æŸ¥çœ‹èŠ‚ç‚¹æ ‡ç­¾å’Œæ±¡ç‚¹
kubectl get nodes --show-labels
```

**ğŸ’Š èŠ‚ç‚¹çŠ¶æ€è§£è¯»æŒ‡å—**ï¼š
```
èŠ‚ç‚¹çŠ¶æ€ç±»å‹è¯´æ˜ï¼š
Ready    â†’ èŠ‚ç‚¹å¥åº·ï¼Œå¯ä»¥è¿è¡ŒPod
NotReady â†’ èŠ‚ç‚¹æœ‰é—®é¢˜ï¼Œä¸èƒ½è¿è¡Œæ–°Pod
Unknown  â†’ æ§åˆ¶å¹³é¢æ— æ³•è”ç³»åˆ°èŠ‚ç‚¹

èŠ‚ç‚¹è§’è‰²æ ‡è¯†ï¼š
control-plane â†’ ä¸»èŠ‚ç‚¹ï¼ˆç®¡ç†é›†ç¾¤ï¼‰
worker        â†’ å·¥ä½œèŠ‚ç‚¹ï¼ˆè¿è¡Œåº”ç”¨ï¼‰
<none>        â†’ é€šå¸¸æ˜¯å·¥ä½œèŠ‚ç‚¹

èµ„æºä¿¡æ¯å…³é”®å­—æ®µï¼š
AGE â†’ èŠ‚ç‚¹è¿è¡Œæ—¶é—´
VERSION â†’ kubeletç‰ˆæœ¬
INTERNAL-IP â†’ å†…ç½‘åœ°å€
EXTERNAL-IP â†’ å¤–ç½‘åœ°å€ï¼ˆå¦‚æœæœ‰ï¼‰
```

### 3.2 ç³»ç»ŸPodè¿è¡ŒçŠ¶æ€


**ğŸ” å…³é”®ç³»ç»ŸæœåŠ¡æ£€æŸ¥**ï¼š

```bash
# æŸ¥çœ‹ç³»ç»Ÿå‘½åç©ºé—´æ‰€æœ‰èµ„æº
kubectl get all -n kube-system

# é‡ç‚¹å…³æ³¨è¿™äº›ç³»ç»ŸPod
kubectl get pods -n kube-system | grep -E "(apiserver|etcd|scheduler|controller)"

# æ£€æŸ¥ç½‘ç»œç»„ä»¶ï¼ˆå› é›†ç¾¤è€Œå¼‚ï¼‰
kubectl get pods -n kube-system | grep -E "(calico|flannel|weave|cilium)"

# æŸ¥çœ‹ç³»ç»ŸæœåŠ¡çŠ¶æ€
kubectl get svc -n kube-system
```

**ğŸ¯ ç³»ç»ŸPodæ•…éšœæ’æŸ¥æ€è·¯**ï¼š
```
ç³»ç»ŸPodé—®é¢˜è¯Šæ–­æµç¨‹ï¼š
1. æ£€æŸ¥PodçŠ¶æ€ â†’ kubectl get pods -n kube-system
2. æŸ¥çœ‹Podè¯¦æƒ… â†’ kubectl describe pod <pod-name> -n kube-system
3. æŸ¥çœ‹Podæ—¥å¿— â†’ kubectl logs <pod-name> -n kube-system
4. æ£€æŸ¥èŠ‚ç‚¹èµ„æº â†’ kubectl top nodesï¼ˆå¦‚æœæœ‰metrics-serverï¼‰

å¸¸è§ç³»ç»ŸPodé—®é¢˜ï¼š
ğŸ”´ CrashLoopBackOff â†’ æœåŠ¡å¯åŠ¨å¤±è´¥ï¼Œåå¤é‡å¯
ğŸŸ¡ Pending â†’ æ— æ³•è°ƒåº¦åˆ°åˆé€‚èŠ‚ç‚¹
ğŸŸ  ImagePullBackOff â†’ é•œåƒä¸‹è½½å¤±è´¥
```

---

## 4. ğŸ“‹ äº‹ä»¶ç³»ç»Ÿå®Œå…¨è§£æ


### 4.1 Kubernetesäº‹ä»¶ç³»ç»Ÿæ¦‚å¿µ


**ğŸ“° ä»€ä¹ˆæ˜¯Kubernetesäº‹ä»¶**

æŠŠäº‹ä»¶æƒ³è±¡æˆé›†ç¾¤çš„"æ–°é—»æ’­æŠ¥"ï¼Œå®æ—¶å‘Šè¯‰ä½ é›†ç¾¤é‡Œå‘ç”Ÿäº†ä»€ä¹ˆï¼š

```
äº‹ä»¶å°±åƒé›†ç¾¤çš„"æ—¥è®°æœ¬"ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ—¶é—´ï¼š2024-01-15 10:30:15           â”‚
â”‚ ç±»å‹ï¼šNormal                        â”‚
â”‚ åŸå› ï¼šScheduled                     â”‚
â”‚ æ¶ˆæ¯ï¼šPodè¢«è°ƒåº¦åˆ°node-1             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æ—¶é—´ï¼š2024-01-15 10:30:20           â”‚
â”‚ ç±»å‹ï¼šWarning                       â”‚
â”‚ åŸå› ï¼šFailed                        â”‚
â”‚ æ¶ˆæ¯ï¼šé•œåƒä¸‹è½½å¤±è´¥                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ğŸ¨ äº‹ä»¶çš„é‡è¦æ€§**ï¼š
```
ä¸ºä»€ä¹ˆäº‹ä»¶å¦‚æ­¤é‡è¦ï¼š
ğŸ” é—®é¢˜è¿½è¸ªï¼šå¿«é€Ÿæ‰¾åˆ°é”™è¯¯å‘ç”Ÿçš„æ—¶é—´å’ŒåŸå› 
ğŸ“ˆ è¶‹åŠ¿åˆ†æï¼šäº†è§£é›†ç¾¤ä½¿ç”¨æ¨¡å¼
ğŸš¨ é¢„è­¦ç³»ç»Ÿï¼šåŠæ—¶å‘ç°æ½œåœ¨é—®é¢˜
ğŸ”§ æ•…éšœæ’æŸ¥ï¼šæä¾›é—®é¢˜è§£å†³çº¿ç´¢

äº‹ä»¶ä¿å­˜æ—¶é—´ï¼š
â° é»˜è®¤ä¿å­˜1å°æ—¶ï¼ˆå¯é…ç½®ï¼‰
ğŸ“ é‡è¦äº‹ä»¶ä¼šè¢«è®°å½•åˆ°æŒä¹…åŒ–æ—¥å¿—
ğŸ—‘ï¸ è¿‡æœŸäº‹ä»¶ä¼šè¢«è‡ªåŠ¨æ¸…ç†
```

### 4.2 åŸºç¡€äº‹ä»¶æŸ¥è¯¢


**ğŸ“‹ `kubectl get events` - è·å–æ‰€æœ‰äº‹ä»¶**

è¿™æ˜¯æœ€åŸºæœ¬çš„äº‹ä»¶æŸ¥è¯¢å‘½ä»¤ï¼š

```bash
# æŸ¥çœ‹å½“å‰å‘½åç©ºé—´çš„æ‰€æœ‰äº‹ä»¶
kubectl get events

# æŸ¥çœ‹æ‰€æœ‰å‘½åç©ºé—´çš„äº‹ä»¶
kubectl get events -A
kubectl get events --all-namespaces

# æŸ¥çœ‹ç‰¹å®šå‘½åç©ºé—´çš„äº‹ä»¶
kubectl get events -n kube-system
kubectl get events -n default
```

**ğŸ’¡ äº‹ä»¶è¾“å‡ºå­—æ®µè§£è¯»**ï¼š
```
å…¸å‹äº‹ä»¶è¾“å‡ºæ ¼å¼ï¼š
LAST SEEN   TYPE      REASON      OBJECT           MESSAGE
5m          Normal    Scheduled   pod/nginx-123    Successfully assigned default/nginx-123 to worker-1
2m          Warning   Failed      pod/nginx-123    Error: ImagePullBackOff

å­—æ®µå«ä¹‰è§£é‡Šï¼š
LAST SEEN â†’ äº‹ä»¶æœ€åå‘ç”Ÿæ—¶é—´
TYPE â†’ äº‹ä»¶ç±»å‹ï¼ˆNormalæ­£å¸¸/Warningè­¦å‘Šï¼‰  
REASON â†’ äº‹ä»¶åŸå› ï¼ˆå…·ä½“çš„æ“ä½œæˆ–çŠ¶æ€ï¼‰
OBJECT â†’ ç›¸å…³å¯¹è±¡ï¼ˆpod/service/nodeç­‰ï¼‰
MESSAGE â†’ è¯¦ç»†æè¿°ä¿¡æ¯
```

**ğŸ¯ å¿«é€Ÿä¿¡æ¯æå–æŠ€å·§**ï¼š
```
ä¸€çœ¼çœ‹å‡ºé—®é¢˜çš„æŠ€å·§ï¼š
âœ… ç»¿è‰² Normal â†’ æ­£å¸¸æ“ä½œï¼Œæ— éœ€æ‹…å¿ƒ
âš ï¸ é»„è‰² Warning â†’ éœ€è¦å…³æ³¨çš„é—®é¢˜
ğŸ”´ å¤§é‡Warning â†’ é›†ç¾¤å¯èƒ½æœ‰ä¸¥é‡é—®é¢˜

å…³é”®è¯è¯†åˆ«ï¼š
â€¢ Scheduled â†’ Podè°ƒåº¦æˆåŠŸ
â€¢ Pulling â†’ æ­£åœ¨ä¸‹è½½é•œåƒ
â€¢ Pulled â†’ é•œåƒä¸‹è½½å®Œæˆ
â€¢ Created â†’ å®¹å™¨åˆ›å»ºæˆåŠŸ
â€¢ Started â†’ å®¹å™¨å¯åŠ¨æˆåŠŸ
â€¢ Failed â†’ æ“ä½œå¤±è´¥
â€¢ Killing â†’ æ­£åœ¨ç»ˆæ­¢å®¹å™¨
```

---

## 5. ğŸ” äº‹ä»¶è¿‡æ»¤ä¸æ’åºæŠ€å·§


### 5.1 æ—¶é—´é¡ºåºæ’åˆ—


**â° `--sort-by` æŒ‰æ—¶é—´æ’åº**

é»˜è®¤çš„äº‹ä»¶æ˜¾ç¤ºå¯èƒ½ä¸æ˜¯æ—¶é—´é¡ºåºï¼Œå­¦ä¼šæ’åºå¾ˆé‡è¦ï¼š

```bash
# æŒ‰åˆ›å»ºæ—¶é—´æ’åºï¼ˆä»æ—§åˆ°æ–°ï¼‰
kubectl get events --sort-by=.metadata.creationTimestamp

# æŒ‰æœ€åå‘ç”Ÿæ—¶é—´æ’åº
kubectl get events --sort-by=.lastTimestamp

# æ˜¾ç¤ºæ›´è¯¦ç»†çš„æ—¶é—´ä¿¡æ¯
kubectl get events --sort-by=.metadata.creationTimestamp -o wide
```

**ğŸ“Š æ—¶é—´æ’åºçš„å®é™…ä»·å€¼**ï¼š
```
ä¸ºä»€ä¹ˆè¦æŒ‰æ—¶é—´æ’åºï¼š
ğŸ” è¿½è¸ªé—®é¢˜å‘ç”Ÿçš„å®Œæ•´æ—¶é—´çº¿
ğŸ“ˆ äº†è§£äº‹ä»¶å‘ç”Ÿçš„å…ˆåé¡ºåº  
ğŸš¨ å¿«é€Ÿå®šä½æœ€æ–°çš„é—®é¢˜
ğŸ“ è®°å½•é—®é¢˜å‘å±•è¿‡ç¨‹

ä½¿ç”¨å»ºè®®ï¼š
â€¢ æ’æŸ¥é—®é¢˜æ—¶å¿…é¡»æŒ‰æ—¶é—´æ’åº
â€¢ ç»“åˆæ—¶é—´æˆ³åˆ†æé—®é¢˜åŸå› 
â€¢ å…³æ³¨äº‹ä»¶å¯†é›†å‘ç”Ÿçš„æ—¶é—´æ®µ
```

### 5.2 äº‹ä»¶ç±»å‹è¿‡æ»¤


**âš ï¸ `--field-selector` è¿‡æ»¤ç‰¹å®šäº‹ä»¶**

å­¦ä¼šè¿‡æ»¤ï¼Œå¯ä»¥å¿«é€Ÿæ‰¾åˆ°å…³é”®ä¿¡æ¯ï¼š

**æŒ‰äº‹ä»¶ç±»å‹è¿‡æ»¤**ï¼š
```bash
# åªæ˜¾ç¤ºè­¦å‘Šäº‹ä»¶ï¼ˆæœ€å¸¸ç”¨ï¼‰
kubectl get events --field-selector type=Warning

# åªæ˜¾ç¤ºæ­£å¸¸äº‹ä»¶
kubectl get events --field-selector type=Normal

# æŒ‰æ—¶é—´æ’åºçš„è­¦å‘Šäº‹ä»¶
kubectl get events --field-selector type=Warning --sort-by=.metadata.creationTimestamp
```

**æŒ‰äº‹ä»¶åŸå› è¿‡æ»¤**ï¼š
```bash
# æŸ¥çœ‹æ‰€æœ‰å¤±è´¥äº‹ä»¶
kubectl get events --field-selector reason=Failed

# æŸ¥çœ‹è°ƒåº¦ç›¸å…³äº‹ä»¶
kubectl get events --field-selector reason=Scheduled

# æŸ¥çœ‹é•œåƒæ‹‰å–å¤±è´¥
kubectl get events --field-selector reason=FailedMount
kubectl get events --field-selector reason=ErrImagePull
```

**æŒ‰æ¶‰åŠå¯¹è±¡è¿‡æ»¤**ï¼š
```bash
# æŸ¥çœ‹ç‰¹å®šPodçš„äº‹ä»¶
kubectl get events --field-selector involvedObject.name=nginx-deployment-123

# æŸ¥çœ‹ç‰¹å®šèŠ‚ç‚¹çš„äº‹ä»¶
kubectl get events --field-selector involvedObject.kind=Node

# æŸ¥çœ‹ç‰¹å®šå‘½åç©ºé—´æŸä¸ªå¯¹è±¡çš„äº‹ä»¶
kubectl get events --field-selector involvedObject.name=my-pod -n my-namespace
```

### 5.3 ç»„åˆè¿‡æ»¤æŠ€å·§


**ğŸ¯ å¤šæ¡ä»¶ç»„åˆè¿‡æ»¤**ï¼š

```bash
# æŸ¥çœ‹æœ€è¿‘çš„è­¦å‘Šäº‹ä»¶
kubectl get events \
  --field-selector type=Warning \
  --sort-by=.metadata.creationTimestamp

# æŸ¥çœ‹ç‰¹å®šå‘½åç©ºé—´çš„å¤±è´¥äº‹ä»¶
kubectl get events -n kube-system \
  --field-selector reason=Failed \
  --sort-by=.metadata.creationTimestamp

# å…¨é›†ç¾¤èŒƒå›´æŸ¥æ‰¾é—®é¢˜
kubectl get events -A \
  --field-selector type=Warning \
  --sort-by=.metadata.creationTimestamp
```

**ğŸ“‹ å®ç”¨è¿‡æ»¤å‘½ä»¤ç»„åˆ**ï¼š
```
æ•…éšœæ’æŸ¥å¸¸ç”¨ç»„åˆï¼š
# 1. æŸ¥çœ‹æœ€è¿‘çš„æ‰€æœ‰é—®é¢˜
kubectl get events --field-selector type=Warning --sort-by=.metadata.creationTimestamp -A

# 2. æŸ¥çœ‹Podè°ƒåº¦é—®é¢˜
kubectl get events --field-selector reason=FailedScheduling --sort-by=.metadata.creationTimestamp -A

# 3. æŸ¥çœ‹å­˜å‚¨é—®é¢˜
kubectl get events --field-selector reason=FailedMount --sort-by=.metadata.creationTimestamp -A

# 4. æŸ¥çœ‹ç½‘ç»œé—®é¢˜
kubectl get events | grep -i "network\|dns\|connection"
```

---

## 6. ğŸ“º ç›‘æ§ä¸æ•…éšœè¯Šæ–­


### 6.1 å®æ—¶äº‹ä»¶ç›‘æ§


**ğŸ‘€ `kubectl get events --watch` - å®æ—¶ç›‘æ§**

è¿™ä¸ªåŠŸèƒ½å°±åƒçœ‹"ç°åœºç›´æ’­"ï¼Œå®æ—¶æ˜¾ç¤ºé›†ç¾¤ä¸­å‘ç”Ÿçš„äº‹ä»¶ï¼š

```bash
# å®æ—¶ç›‘æ§æ‰€æœ‰æ–°äº‹ä»¶
kubectl get events --watch

# ç›‘æ§ç‰¹å®šå‘½åç©ºé—´çš„äº‹ä»¶
kubectl get events --watch -n kube-system

# ç›‘æ§è­¦å‘Šäº‹ä»¶ï¼ˆæœ€æœ‰ç”¨ï¼‰
kubectl get events --watch --field-selector type=Warning
```

**ğŸ¬ å®æ—¶ç›‘æ§ä½¿ç”¨åœºæ™¯**ï¼š
```
ä»€ä¹ˆæ—¶å€™ä½¿ç”¨å®æ—¶ç›‘æ§ï¼š
ğŸš€ éƒ¨ç½²æ–°åº”ç”¨æ—¶ç›‘æ§çŠ¶æ€å˜åŒ–
ğŸ”§ è°ƒè¯•é—®é¢˜æ—¶è§‚å¯Ÿé”™è¯¯æ¨¡å¼
ğŸ“Š äº†è§£é›†ç¾¤æ´»åŠ¨å³°å€¼æ—¶é—´
ğŸš¨ ç›‘æ§é›†ç¾¤å¥åº·çŠ¶æ€å˜åŒ–

ä½¿ç”¨æŠ€å·§ï¼š
â€¢ å¼€å¯ç›‘æ§åéƒ¨ç½²åº”ç”¨ï¼Œè§‚å¯Ÿå®Œæ•´è¿‡ç¨‹
â€¢ ç»“åˆå¤šä¸ªç»ˆç«¯çª—å£ï¼Œåˆ†åˆ«ç›‘æ§ä¸åŒå‘½åç©ºé—´
â€¢ ä½¿ç”¨Ctrl+Cé€€å‡ºç›‘æ§æ¨¡å¼
â€¢ ç›‘æ§æ—¶å¯ä»¥çœ‹åˆ°äº‹ä»¶çš„å®æ—¶æ—¶é—´æˆ³
```

### 6.2 äº‹ä»¶è¯¦ç»†ä¿¡æ¯è·å–


**ğŸ”¬ `kubectl describe events` - äº‹ä»¶è¯¦ç»†æè¿°**

è·å–äº‹ä»¶çš„å®Œæ•´è¯¦ç»†ä¿¡æ¯ï¼š

```bash
# è·å–æ‰€æœ‰äº‹ä»¶çš„è¯¦ç»†ä¿¡æ¯
kubectl describe events

# è·å–ç‰¹å®šå‘½åç©ºé—´äº‹ä»¶çš„è¯¦ç»†ä¿¡æ¯
kubectl describe events -n kube-system

# ç»“åˆgrepæŸ¥æ‰¾ç‰¹å®šé—®é¢˜
kubectl describe events | grep -A 5 -B 5 "Failed"
```

**ğŸ“Š äº‹ä»¶åˆ†ææ–¹æ³•è®º**ï¼š
```
ç³»ç»ŸåŒ–äº‹ä»¶åˆ†ææ­¥éª¤ï¼š
ç¬¬ä¸€æ­¥ï¼šæ¦‚è§ˆ â†’ kubectl get events --sort-by=.metadata.creationTimestamp
ç¬¬äºŒæ­¥ï¼šè¿‡æ»¤ â†’ kubectl get events --field-selector type=Warning  
ç¬¬ä¸‰æ­¥ï¼šè¯¦æŸ¥ â†’ kubectl describe events
ç¬¬å››æ­¥ï¼šè¿½è¸ª â†’ kubectl get events --watch

åˆ†æé‡ç‚¹å…³æ³¨ï¼š
â° æ—¶é—´æ¨¡å¼ï¼šé—®é¢˜æ˜¯å¦æœ‰è§„å¾‹æ€§
ğŸ”„ é‡å¤é¢‘ç‡ï¼šåŒæ ·é”™è¯¯æ˜¯å¦åå¤å‡ºç°
ğŸ“ˆ äº‹ä»¶è¶‹åŠ¿ï¼šé—®é¢˜æ˜¯å¦åœ¨æ¶åŒ–
ğŸ¯ å½±å“èŒƒå›´ï¼šæ¶‰åŠå“ªäº›ç»„ä»¶
```

### 6.3 å¸¸è§é—®é¢˜è¯Šæ–­æ¨¡æ¿


**ğŸ”§ æ ‡å‡†æ•…éšœæ’æŸ¥æµç¨‹**

**åœºæ™¯ä¸€ï¼šPodå¯åŠ¨å¤±è´¥**
```bash
# 1. æŸ¥çœ‹PodçŠ¶æ€
kubectl get pods

# 2. æŸ¥çœ‹Podç›¸å…³äº‹ä»¶
kubectl get events --field-selector involvedObject.name=<pod-name>

# 3. æŸ¥çœ‹Podè¯¦ç»†ä¿¡æ¯
kubectl describe pod <pod-name>

# 4. æŸ¥çœ‹å®¹å™¨æ—¥å¿—
kubectl logs <pod-name>
```

**åœºæ™¯äºŒï¼šæœåŠ¡è®¿é—®å¼‚å¸¸**
```bash
# 1. æ£€æŸ¥æœåŠ¡çŠ¶æ€
kubectl get svc

# 2. æŸ¥çœ‹æœåŠ¡ç›¸å…³äº‹ä»¶
kubectl get events --field-selector involvedObject.kind=Service

# 3. æ£€æŸ¥ç«¯ç‚¹çŠ¶æ€
kubectl get endpoints

# 4. æŸ¥çœ‹ç½‘ç»œç­–ç•¥
kubectl get networkpolicies
```

**åœºæ™¯ä¸‰ï¼šå­˜å‚¨æŒ‚è½½é—®é¢˜**
```bash
# 1. æŸ¥çœ‹å­˜å‚¨ç›¸å…³äº‹ä»¶
kubectl get events --field-selector reason=FailedMount

# 2. æ£€æŸ¥PVå’ŒPVCçŠ¶æ€
kubectl get pv,pvc

# 3. æŸ¥çœ‹å­˜å‚¨ç±»
kubectl get storageclass

# 4. æ£€æŸ¥èŠ‚ç‚¹å­˜å‚¨çŠ¶æ€
kubectl describe nodes | grep -A 5 -B 5 "Volumes"
```

---

## 7. ğŸ¯ å®æˆ˜åœºæ™¯æ¡ˆä¾‹


### 7.1 æ–°åº”ç”¨éƒ¨ç½²ç›‘æ§


**ğŸ“¦ åœºæ™¯ï¼šéƒ¨ç½²ä¸€ä¸ªæ–°çš„Webåº”ç”¨**

**å®Œæ•´ç›‘æ§æµç¨‹**ï¼š
```bash
# ç¬¬1æ­¥ï¼šå¼€å¯å®æ—¶ç›‘æ§ï¼ˆæ–°å¼€ç»ˆç«¯çª—å£ï¼‰
kubectl get events --watch -n default

# ç¬¬2æ­¥ï¼šéƒ¨ç½²åº”ç”¨
kubectl create deployment nginx --image=nginx:latest

# ç¬¬3æ­¥ï¼šè§‚å¯Ÿéƒ¨ç½²è¿‡ç¨‹äº‹ä»¶
# ä½ ä¼šçœ‹åˆ°ç±»ä¼¼è¿™æ ·çš„äº‹ä»¶æµï¼š
# Normal  Scheduled    pod/nginx-xxx  Successfully assigned default/nginx-xxx to worker-1
# Normal  Pulling      pod/nginx-xxx  Pulling image "nginx:latest"
# Normal  Pulled       pod/nginx-xxx  Successfully pulled image "nginx:latest"
# Normal  Created      pod/nginx-xxx  Created container nginx
# Normal  Started      pod/nginx-xxx  Started container nginx

# ç¬¬4æ­¥ï¼šæ£€æŸ¥æœ€ç»ˆçŠ¶æ€
kubectl get events --sort-by=.metadata.creationTimestamp | tail -10
```

**ğŸ’¡ æˆåŠŸéƒ¨ç½²çš„äº‹ä»¶æ¨¡å¼**ï¼š
```
å¥åº·éƒ¨ç½²çš„äº‹ä»¶æ—¶é—´çº¿ï¼š
T+0s   â†’ Scheduled (Podè¢«è°ƒåº¦åˆ°èŠ‚ç‚¹)
T+5s   â†’ Pulling (å¼€å§‹ä¸‹è½½é•œåƒ)
T+30s  â†’ Pulled (é•œåƒä¸‹è½½å®Œæˆ)
T+35s  â†’ Created (å®¹å™¨åˆ›å»ºå®Œæˆ)
T+40s  â†’ Started (å®¹å™¨å¯åŠ¨æˆåŠŸ)

å¦‚æœçœ‹åˆ°è¿™ä¸ªé¡ºåºï¼Œè¯´æ˜éƒ¨ç½²æˆåŠŸï¼
```

### 7.2 é—®é¢˜æ•…éšœæ’æŸ¥æ¡ˆä¾‹


**ğŸš¨ åœºæ™¯ï¼šPodä¸€ç›´æ— æ³•å¯åŠ¨**

**é€æ­¥æ’æŸ¥è¿‡ç¨‹**ï¼š
```bash
# ç¬¬1æ­¥ï¼šå‘ç°é—®é¢˜
kubectl get pods
# è¾“å‡ºï¼šnginx-xxx   0/1   ImagePullBackOff   0   5m

# ç¬¬2æ­¥ï¼šæŸ¥çœ‹ç›¸å…³è­¦å‘Šäº‹ä»¶
kubectl get events --field-selector type=Warning --sort-by=.metadata.creationTimestamp

# ç¬¬3æ­¥ï¼šæŸ¥çœ‹Podè¯¦ç»†ä¿¡æ¯
kubectl describe pod nginx-xxx
# åœ¨Eventséƒ¨åˆ†ä½ ä¼šçœ‹åˆ°è¯¦ç»†é”™è¯¯ä¿¡æ¯

# ç¬¬4æ­¥ï¼šå¦‚æœæ˜¯é•œåƒé—®é¢˜ï¼Œæ£€æŸ¥é•œåƒåç§°
kubectl get deployment nginx -o yaml | grep image

# ç¬¬5æ­¥ï¼šä¿®å¤é—®é¢˜
kubectl set image deployment/nginx nginx=nginx:1.21
```

**ğŸ“Š å¸¸è§é—®é¢˜äº‹ä»¶æ¨¡å¼**ï¼š
```
é—®é¢˜ç±»å‹è¯†åˆ«ï¼š
ErrImagePull/ImagePullBackOff â†’ é•œåƒä¸‹è½½é—®é¢˜
  è§£å†³ï¼šæ£€æŸ¥é•œåƒåç§°ã€ç½‘ç»œè¿æ¥ã€è®¤è¯ä¿¡æ¯

FailedScheduling â†’ Podæ— æ³•è°ƒåº¦
  è§£å†³ï¼šæ£€æŸ¥èµ„æºé™åˆ¶ã€èŠ‚ç‚¹æ ‡ç­¾ã€æ±¡ç‚¹å®¹å¿

CrashLoopBackOff â†’ å®¹å™¨åå¤å´©æºƒ
  è§£å†³ï¼šæ£€æŸ¥åº”ç”¨é…ç½®ã€èµ„æºé™åˆ¶ã€å¥åº·æ£€æŸ¥

FailedMount â†’ å­˜å‚¨æŒ‚è½½å¤±è´¥
  è§£å†³ï¼šæ£€æŸ¥PV/PVCçŠ¶æ€ã€å­˜å‚¨ç±»é…ç½®
```

### 7.3 é›†ç¾¤å¥åº·ç›‘æ§


**ğŸ¥ åœºæ™¯ï¼šå®šæœŸé›†ç¾¤å¥åº·æ£€æŸ¥**

**æ¯æ—¥å¥åº·æ£€æŸ¥æ¸…å•**ï¼š
```bash
# 1. é›†ç¾¤åŸºæœ¬ä¿¡æ¯æ£€æŸ¥
kubectl cluster-info

# 2. èŠ‚ç‚¹çŠ¶æ€æ£€æŸ¥
kubectl get nodes
kubectl get nodes -o wide

# 3. ç³»ç»Ÿç»„ä»¶æ£€æŸ¥
kubectl get pods -n kube-system

# 4. æœ€è¿‘è­¦å‘Šäº‹ä»¶æ£€æŸ¥
kubectl get events --field-selector type=Warning -A --sort-by=.metadata.creationTimestamp | tail -20

# 5. èµ„æºä½¿ç”¨æ£€æŸ¥ï¼ˆå¦‚æœæœ‰metrics-serverï¼‰
kubectl top nodes
kubectl top pods --all-namespaces --sort-by=memory
```

**ğŸ“‹ å¥åº·çŠ¶æ€è¯„åˆ¤æ ‡å‡†**ï¼š
```
é›†ç¾¤å¥åº·ç­‰çº§ï¼š
ğŸŸ¢ ä¼˜ç§€ï¼šæ‰€æœ‰èŠ‚ç‚¹Readyï¼Œæ— Warningäº‹ä»¶ï¼Œèµ„æºä½¿ç”¨æ­£å¸¸
ğŸŸ¡ è‰¯å¥½ï¼šä¸ªåˆ«Warningäº‹ä»¶ï¼Œä½†ä¸å½±å“æ ¸å¿ƒåŠŸèƒ½
ğŸŸ  ä¸€èˆ¬ï¼šæœ‰ä¸€äº›é—®é¢˜ä½†ç³»ç»Ÿæ•´ä½“å¯ç”¨
ğŸ”´ å·®ï¼šå¤šä¸ªä¸¥é‡é—®é¢˜ï¼Œéœ€è¦ç«‹å³å¤„ç†

é¢„è­¦ä¿¡å·ï¼š
â€¢ å¤§é‡FailedSchedulingäº‹ä»¶ï¼ˆèµ„æºä¸è¶³ï¼‰
â€¢ é¢‘ç¹çš„ç½‘ç»œç›¸å…³é”™è¯¯ï¼ˆç½‘ç»œé—®é¢˜ï¼‰
â€¢ å­˜å‚¨æŒ‚è½½å¤±è´¥ï¼ˆå­˜å‚¨ç³»ç»Ÿé—®é¢˜ï¼‰
â€¢ ç³»ç»ŸPodé‡å¯ï¼ˆæ§åˆ¶é¢æ¿ä¸ç¨³å®šï¼‰
```

---

## 8. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 8.1 å¿…é¡»æŒæ¡çš„åŸºæœ¬æ¦‚å¿µ


```
ğŸ”¸ é›†ç¾¤ä¿¡æ¯æŸ¥çœ‹ï¼škubectl cluster-infoäº†è§£é›†ç¾¤åŸºæœ¬é…ç½®
ğŸ”¸ äº‹ä»¶ç³»ç»Ÿæ¦‚å¿µï¼šKubernetesçš„"æ—¥å¿—ç³»ç»Ÿ"ï¼Œè®°å½•æ‰€æœ‰é‡è¦æ“ä½œ
ğŸ”¸ äº‹ä»¶ç±»å‹åˆ†ç±»ï¼šNormalï¼ˆæ­£å¸¸ï¼‰å’ŒWarningï¼ˆè­¦å‘Šï¼‰ä¸¤å¤§ç±»
ğŸ”¸ è¿‡æ»¤æ’åºæŠ€å·§ï¼š--field-selectorè¿‡æ»¤ï¼Œ--sort-byæ’åº
ğŸ”¸ å®æ—¶ç›‘æ§èƒ½åŠ›ï¼š--watchå‚æ•°å®ç°äº‹ä»¶å®æ—¶è§‚å¯Ÿ
ğŸ”¸ æ•…éšœæ’æŸ¥æ€è·¯ï¼šä»æ¦‚è§ˆåˆ°è¯¦ç»†ï¼Œä»äº‹ä»¶åˆ°æ—¥å¿—çš„åˆ†æè·¯å¾„
```

### 8.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ ä¸ºä»€ä¹ˆäº‹ä»¶ç³»ç»Ÿå¦‚æ­¤é‡è¦**ï¼š
```
äº‹ä»¶ç³»ç»Ÿçš„æ ¸å¿ƒä»·å€¼ï¼š
é—®é¢˜è¿½è¸ªï¼š90%çš„é—®é¢˜éƒ½èƒ½é€šè¿‡äº‹ä»¶æ‰¾åˆ°çº¿ç´¢
è¶‹åŠ¿åˆ†æï¼šäº†è§£é›†ç¾¤ä½¿ç”¨æ¨¡å¼å’Œå¥åº·è¶‹åŠ¿  
é¢„é˜²æ•…éšœï¼šåŠæ—¶å‘ç°é—®é¢˜è‹—å¤´ï¼Œé¿å…ä¸¥é‡æ•…éšœ
å­¦ä¹ å·¥å…·ï¼šé€šè¿‡äº‹ä»¶ç†è§£Kuberneteså·¥ä½œåŸç†

è®°å¿†è¦ç‚¹ï¼š
äº‹ä»¶ = é›†ç¾¤çš„"ä½“æ£€æŠ¥å‘Š" + "æ“ä½œæ—¥å¿—"
Warningç±»å‹äº‹ä»¶ = éœ€è¦å…³æ³¨çš„é—®é¢˜
å®æ—¶ç›‘æ§ = é—®é¢˜å‘ç”Ÿæ—¶çš„"ç°åœºç›´æ’­"
```

**ğŸ”¹ å¦‚ä½•å»ºç«‹æœ‰æ•ˆçš„ç›‘æ§ä¹ æƒ¯**ï¼š
```
ç›‘æ§ä¹ æƒ¯åŸ¹å…»ï¼š
æ—¥å¸¸æ£€æŸ¥ï¼šæ¯å¤©çœ‹ä¸€æ¬¡Warningäº‹ä»¶
éƒ¨ç½²ç›‘æ§ï¼šéƒ¨ç½²åº”ç”¨æ—¶å¼€å¯å®æ—¶ç›‘æ§  
é—®é¢˜è¿½è¸ªï¼šå‡ºç°é—®é¢˜å…ˆçœ‹äº‹ä»¶ï¼ŒåæŸ¥æ—¥å¿—
è¶‹åŠ¿è§‚å¯Ÿï¼šå®šæœŸåˆ†æäº‹ä»¶æ¨¡å¼å’Œé¢‘ç‡

å·¥å…·ç»„åˆä½¿ç”¨ï¼š
kubectl get events â†’ äº†è§£æ¦‚å†µ
--field-selector â†’ ç²¾ç¡®æŸ¥æ‰¾
--watch â†’ å®æ—¶è§‚å¯Ÿ
describe â†’ è¯¦ç»†åˆ†æ
```

**ğŸ”¹ æ•…éšœæ’æŸ¥çš„ç³»ç»Ÿæ€§æ–¹æ³•**ï¼š
```
æ’æŸ¥æ€ç»´æ¨¡å‹ï¼š
ç°è±¡è§‚å¯Ÿ â†’ äº‹ä»¶åˆ†æ â†’ è¯¦æƒ…æ£€æŸ¥ â†’ æ—¥å¿—ç¡®è®¤ â†’ é—®é¢˜å®šä½

å±‚æ¬¡åŒ–æ’æŸ¥ï¼š
é›†ç¾¤çº§åˆ« â†’ èŠ‚ç‚¹çº§åˆ« â†’ Podçº§åˆ« â†’ å®¹å™¨çº§åˆ«
æ•´ä½“çŠ¶æ€ â†’ å…·ä½“ç»„ä»¶ â†’ è¯¦ç»†æ—¥å¿— â†’ æ ¹æœ¬åŸå› 

æ—¶é—´çº¿åˆ†æï¼š
é—®é¢˜å‘ç”Ÿæ—¶é—´ â†’ ç›¸å…³äº‹ä»¶åºåˆ— â†’ æ“ä½œå› æœå…³ç³» â†’ è§£å†³æ–¹æ¡ˆ
```

### 8.3 å®é™…åº”ç”¨ä»·å€¼


**ğŸ’¼ æ—¥å¸¸è¿ç»´åœºæ™¯**ï¼š
```
è¿ç»´å·¥ç¨‹å¸ˆæ—¥å¸¸ï¼š
âœ… æ™¨æ£€ï¼škubectl get events --field-selector type=Warning -A
âœ… éƒ¨ç½²ï¼škubectl get events --watch ç›‘æ§éƒ¨ç½²è¿‡ç¨‹
âœ… é—®é¢˜ï¼šæŒ‰äº‹ä»¶æ—¶é—´çº¿è¿½è¸ªé—®é¢˜æ ¹å›   
âœ… æ±‡æŠ¥ï¼šåŸºäºäº‹ä»¶æ•°æ®åˆ¶ä½œå¥åº·æŠ¥å‘Š

å¼€å‘äººå‘˜è°ƒè¯•ï¼š
âœ… åº”ç”¨ä¸å¯åŠ¨ï¼šæŸ¥çœ‹Podç›¸å…³äº‹ä»¶æ‰¾åŸå› 
âœ… æœåŠ¡å¼‚å¸¸ï¼šé€šè¿‡äº‹ä»¶äº†è§£ç½‘ç»œå’Œå­˜å‚¨é—®é¢˜
âœ… æ€§èƒ½é—®é¢˜ï¼šè§‚å¯Ÿèµ„æºç›¸å…³çš„Warningäº‹ä»¶
```

**ğŸ¯ æœ€ä½³å®è·µå»ºè®®**ï¼š
```
å‘½ä»¤ä½¿ç”¨é¢‘ç‡æ’åºï¼š
â­â­â­â­â­ kubectl get events --field-selector type=Warning -A
â­â­â­â­â˜† kubectl get events --sort-by=.metadata.creationTimestamp
â­â­â­â˜†â˜† kubectl get events --watch
â­â­â˜†â˜†â˜† kubectl cluster-info
â­â˜†â˜†â˜†â˜† kubectl cluster-info dump

å­¦ä¹ è·¯å¾„å»ºè®®ï¼š
ç¬¬ä¸€å‘¨ï¼šç†Ÿç»ƒä½¿ç”¨åŸºæœ¬äº‹ä»¶æŸ¥è¯¢
ç¬¬äºŒå‘¨ï¼šæŒæ¡è¿‡æ»¤å’Œæ’åºæŠ€å·§
ç¬¬ä¸‰å‘¨ï¼šå»ºç«‹æ•…éšœæ’æŸ¥æ€ç»´æ¨¡å‹
ç¬¬å››å‘¨ï¼šå½¢æˆæ—¥å¸¸ç›‘æ§ä¹ æƒ¯
```

### 8.4 å¸¸è§è¯¯åŒºé¿å…


**âŒ æ–°æ‰‹å¸¸è§é”™è¯¯**ï¼š
```
è¯¯åŒºä¸€ï¼šåªçœ‹PodçŠ¶æ€ï¼Œå¿½ç•¥äº‹ä»¶ä¿¡æ¯
æ­£ç¡®ï¼šPodçŠ¶æ€ + äº‹ä»¶ä¿¡æ¯ = å®Œæ•´é—®é¢˜å›¾ç‰‡

è¯¯åŒºäºŒï¼šäº‹ä»¶å¤ªå¤šä¸çŸ¥é“çœ‹å“ªä¸ª
æ­£ç¡®ï¼šä¼˜å…ˆå…³æ³¨Warningç±»å‹ï¼ŒæŒ‰æ—¶é—´æ’åº

è¯¯åŒºä¸‰ï¼šå‡ºç°é—®é¢˜å°±é‡å¯ï¼Œä¸åˆ†æåŸå› 
æ­£ç¡®ï¼šå…ˆçœ‹äº‹ä»¶æ‰¾æ ¹å› ï¼Œå†å†³å®šè§£å†³æ–¹æ¡ˆ

è¯¯åŒºå››ï¼šåªåœ¨å‡ºé—®é¢˜æ—¶æ‰çœ‹äº‹ä»¶
æ­£ç¡®ï¼šå®šæœŸæ£€æŸ¥ï¼Œå»ºç«‹å¥åº·ç›‘æ§ä¹ æƒ¯
```

**âœ… ä¸“ä¸šçº§æ“ä½œå»ºè®®**ï¼š
```
è¿›é˜¶æŠ€å·§ï¼š
â€¢ å»ºç«‹ä¸ªäººåŒ–çš„å‘½ä»¤åˆ«åï¼ˆaliasï¼‰
â€¢ ç»“åˆgrepç­‰å·¥å…·è¿›è¡Œæ›´ç²¾ç¡®çš„è¿‡æ»¤
â€¢ ä½¿ç”¨è„šæœ¬è‡ªåŠ¨åŒ–æ—¥å¸¸æ£€æŸ¥ä»»åŠ¡
â€¢ å­¦ä¼šè¯»æ‡‚äº‹ä»¶çš„æ—¶é—´æ¨¡å¼å’Œé¢‘ç‡è§„å¾‹

å·¥å…·æ•´åˆï¼š
â€¢ äº‹ä»¶æŸ¥çœ‹ + æ—¥å¿—åˆ†æ + ç›‘æ§å›¾è¡¨ = å®Œæ•´æ•…éšœæ’æŸ¥ä½“ç³»
â€¢ ç»“åˆPrometheus/Grafanaç­‰ç›‘æ§å·¥å…·
â€¢ ä½¿ç”¨kubectlæ’ä»¶æ‰©å±•åŠŸèƒ½
```

**ğŸ§  è®°å¿†å£è¯€**ï¼š
```
"é›†ç¾¤ä¿¡æ¯å…ˆæ¦‚è§ˆï¼Œäº‹ä»¶æŸ¥çœ‹æŒ‰æ—¶é—´"
"Warningäº‹ä»¶è¦é‡è§†ï¼ŒNormaläº‹ä»¶å¸®ç†è§£"  
"è¿‡æ»¤æ’åºæ˜¯åˆ©å™¨ï¼Œå®æ—¶ç›‘æ§çœ‹åŠ¨æ€"
"æ•…éšœæ’æŸ¥æœ‰å¥—è·¯ï¼Œäº‹ä»¶æ—¥å¿—ä¸¤æ‰‹æŠ“"
```

**æ ¸å¿ƒç†å¿µ**ï¼š
é›†ç¾¤ç®¡ç†ä¸æ˜¯æŠ€æœ¯æ´»ï¼Œè€Œæ˜¯ä¸€ç§"è§‚å¯Ÿè‰ºæœ¯" - é€šè¿‡äº‹ä»¶è¿™ä¸ª"çª—å£"ï¼Œä½ èƒ½çœ‹åˆ°æ•´ä¸ªKubernetesä¸–ç•Œçš„è¿ä½œè§„å¾‹ã€‚æŒæ¡äº†äº‹ä»¶ç³»ç»Ÿï¼Œå°±æŒæ¡äº†é›†ç¾¤å¥åº·ç®¡ç†çš„æ ¸å¿ƒæŠ€èƒ½ï¼