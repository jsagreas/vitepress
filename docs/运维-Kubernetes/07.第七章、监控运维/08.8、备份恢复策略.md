---
title: 8ã€å¤‡ä»½æ¢å¤ç­–ç•¥
---
## ğŸ“š ç›®å½•

1. [å¤‡ä»½æ¢å¤åŸºç¡€æ¦‚å¿µ](#1-å¤‡ä»½æ¢å¤åŸºç¡€æ¦‚å¿µ)
2. [etcdæ•°æ®å¤‡ä»½ä¸æ¢å¤](#2-etcdæ•°æ®å¤‡ä»½ä¸æ¢å¤)
3. [åº”ç”¨æ•°æ®å¤‡ä»½ç­–ç•¥](#3-åº”ç”¨æ•°æ®å¤‡ä»½ç­–ç•¥)
4. [é…ç½®æ–‡ä»¶å¤‡ä»½ç®¡ç†](#4-é…ç½®æ–‡ä»¶å¤‡ä»½ç®¡ç†)
5. [ç¾éš¾æ¢å¤é¢„æ¡ˆ](#5-ç¾éš¾æ¢å¤é¢„æ¡ˆ)
6. [å¤‡ä»½éªŒè¯ä¸æ¼”ç»ƒ](#6-å¤‡ä»½éªŒè¯ä¸æ¼”ç»ƒ)
7. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#7-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ”° å¤‡ä»½æ¢å¤åŸºç¡€æ¦‚å¿µ


### 1.1 ä¸ºä»€ä¹ˆéœ€è¦å¤‡ä»½æ¢å¤


**ç®€å•ç†è§£**ï¼šå°±åƒä½ çš„æ‰‹æœºç…§ç‰‡éœ€è¦å¤‡ä»½åˆ°äº‘ç«¯ä¸€æ ·ï¼ŒKubernetesé›†ç¾¤çš„æ•°æ®ä¹Ÿéœ€è¦å®šæœŸå¤‡ä»½ã€‚

```
ç°å®ç±»æ¯”ï¼š
ä½ çš„é‡è¦æ–‡æ¡£ â†’ éœ€è¦Uç›˜å¤‡ä»½ â†’ é˜²æ­¢ç”µè„‘åäº†
K8sçš„é‡è¦æ•°æ® â†’ éœ€è¦å®šæœŸå¤‡ä»½ â†’ é˜²æ­¢é›†ç¾¤æŒ‚äº†
```

**å¤‡ä»½çš„æ ¸å¿ƒä»·å€¼**ï¼š
- ğŸ›¡ï¸ **æ•°æ®ä¿æŠ¤**ï¼šé˜²æ­¢ç¡¬ä»¶æ•…éšœå¯¼è‡´æ•°æ®ä¸¢å¤±
- âš¡ **å¿«é€Ÿæ¢å¤**ï¼šç³»ç»Ÿæ•…éšœæ—¶èƒ½å¿«é€Ÿæ¢å¤ä¸šåŠ¡
- ğŸ”„ **ç‰ˆæœ¬å›æ»š**ï¼šé…ç½®é”™è¯¯æ—¶èƒ½å›æ»šåˆ°ä¹‹å‰çŠ¶æ€
- ğŸ“‹ **åˆè§„è¦æ±‚**ï¼šæ»¡è¶³ä¼ä¸šæ•°æ®ä¿æŠ¤æ”¿ç­–

### 1.2 Kubernetesä¸­éœ€è¦å¤‡ä»½ä»€ä¹ˆ


**æ ¸å¿ƒå¤‡ä»½å¯¹è±¡**ï¼š
```
é›†ç¾¤çº§åˆ«å¤‡ä»½ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      etcdæ•°æ®       â”‚ â† æœ€é‡è¦ï¼å­˜å‚¨æ‰€æœ‰é›†ç¾¤ä¿¡æ¯
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    é›†ç¾¤é…ç½®æ–‡ä»¶      â”‚ â† kubeconfigã€è¯ä¹¦ç­‰
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    åº”ç”¨é…ç½®ä¿¡æ¯      â”‚ â† ConfigMapã€Secretç­‰
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

åº”ç”¨çº§åˆ«å¤‡ä»½ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    æŒä¹…åŒ–æ•°æ®       â”‚ â† æ•°æ®åº“ã€æ–‡ä»¶å­˜å‚¨
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    åº”ç”¨é…ç½®        â”‚ â† åº”ç”¨çš„YAMLé…ç½®
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    è‡ªå®šä¹‰èµ„æº       â”‚ â† CRDåˆ›å»ºçš„è‡ªå®šä¹‰å¯¹è±¡
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.3 å¤‡ä»½ç­–ç•¥çš„3-2-1åŸåˆ™


**ä»€ä¹ˆæ˜¯3-2-1åŸåˆ™**ï¼š
- **3ä»½æ•°æ®**ï¼šåŸå§‹æ•°æ® + 2ä»½å¤‡ä»½
- **2ç§ä»‹è´¨**ï¼šæœ¬åœ°å¤‡ä»½ + äº‘ç«¯å¤‡ä»½
- **1ä»½å¼‚åœ°**ï¼šè‡³å°‘1ä»½å¤‡ä»½åœ¨ä¸åŒåœ°ç†ä½ç½®

**å®é™…åº”ç”¨**ï¼š
```
åŸå§‹æ•°æ®ï¼šç”Ÿäº§ç¯å¢ƒK8sé›†ç¾¤
â”œâ”€â”€ æœ¬åœ°å¤‡ä»½ï¼šåŒæœºæˆ¿NASå­˜å‚¨
â”œâ”€â”€ äº‘ç«¯å¤‡ä»½ï¼šå¯¹è±¡å­˜å‚¨æœåŠ¡
â””â”€â”€ å¼‚åœ°å¤‡ä»½ï¼šå¼‚åœ°æœºæˆ¿æˆ–äº‘å­˜å‚¨
```

---

## 2. ğŸ—„ï¸ etcdæ•°æ®å¤‡ä»½ä¸æ¢å¤


### 2.1 etcdæ˜¯ä»€ä¹ˆï¼Œä¸ºä»€ä¹ˆé‡è¦


**é€šä¿—è§£é‡Š**ï¼šetcdå°±åƒæ˜¯Kubernetesçš„"å¤§è„‘è®°å¿†"ï¼Œå®ƒè®°ä½äº†ï¼š
- é›†ç¾¤é‡Œæœ‰å“ªäº›èŠ‚ç‚¹
- è¿è¡Œäº†å“ªäº›åº”ç”¨
- æ¯ä¸ªPodåº”è¯¥éƒ¨ç½²åœ¨å“ªé‡Œ
- æ‰€æœ‰çš„é…ç½®ä¿¡æ¯

**ä¸ºä»€ä¹ˆetcdæœ€é‡è¦**ï¼š
```
æ²¡æœ‰etcdå¤‡ä»½ = é›†ç¾¤å®Œå…¨é‡å»º
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   å¤±å»etcdæ•°æ®      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ âŒ æ‰€æœ‰Podä¿¡æ¯ä¸¢å¤±   â”‚
â”‚ âŒ æ‰€æœ‰Serviceä¸¢å¤±   â”‚  
â”‚ âŒ æ‰€æœ‰é…ç½®ä¸¢å¤±      â”‚
â”‚ âŒ éœ€è¦ä»é›¶å¼€å§‹é‡å»º  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

æœ‰etcdå¤‡ä»½ = å¿«é€Ÿå®Œæ•´æ¢å¤
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   æ¢å¤etcdæ•°æ®      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ âœ… é›†ç¾¤çŠ¶æ€å®Œæ•´æ¢å¤  â”‚
â”‚ âœ… æ‰€æœ‰åº”ç”¨è‡ªåŠ¨å¯åŠ¨  â”‚
â”‚ âœ… é…ç½®ä¿¡æ¯å…¨éƒ¨ä¿ç•™  â”‚
â”‚ âœ… å‡ åˆ†é’Ÿå†…æ¢å¤ä¸šåŠ¡  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 etcdå¤‡ä»½å®æ“


**ğŸ” æŸ¥çœ‹etcdçŠ¶æ€**
```bash
# æ£€æŸ¥etcdé›†ç¾¤å¥åº·çŠ¶æ€
kubectl get componentstatus
# æˆ–è€…ç›´æ¥æ£€æŸ¥etcd pods
kubectl get pods -n kube-system | grep etcd
```

**ğŸ“¦ åˆ›å»ºetcdå¤‡ä»½**
```bash
# åŸºæœ¬å¤‡ä»½å‘½ä»¤ï¼ˆéœ€è¦åœ¨etcdèŠ‚ç‚¹æ‰§è¡Œï¼‰
ETCDCTL_API=3 etcdctl snapshot save /tmp/etcd-backup-$(date +%Y%m%d-%H%M%S).db \
  --endpoints=https://127.0.0.1:2379 \
  --cacert=/etc/kubernetes/pki/etcd/ca.crt \
  --cert=/etc/kubernetes/pki/etcd/server.crt \
  --key=/etc/kubernetes/pki/etcd/server.key
```

**ğŸ”§ è‡ªåŠ¨åŒ–å¤‡ä»½è„šæœ¬**
```bash
#!/bin/bash
# etcd-backup.sh - ç®€å•æ˜“æ‡‚çš„å¤‡ä»½è„šæœ¬

# é…ç½®éƒ¨åˆ†
BACKUP_DIR="/backup/etcd"
DATE=$(date +%Y%m%d-%H%M%S)
BACKUP_FILE="$BACKUP_DIR/etcd-backup-$DATE.db"

# åˆ›å»ºå¤‡ä»½ç›®å½•
mkdir -p $BACKUP_DIR

# æ‰§è¡Œå¤‡ä»½
echo "å¼€å§‹å¤‡ä»½etcd..."
ETCDCTL_API=3 etcdctl snapshot save $BACKUP_FILE \
  --endpoints=https://127.0.0.1:2379 \
  --cacert=/etc/kubernetes/pki/etcd/ca.crt \
  --cert=/etc/kubernetes/pki/etcd/server.crt \
  --key=/etc/kubernetes/pki/etcd/server.key

# éªŒè¯å¤‡ä»½
if [ $? -eq 0 ]; then
    echo "âœ… å¤‡ä»½æˆåŠŸï¼š$BACKUP_FILE"
    # ä¿ç•™æœ€è¿‘7å¤©çš„å¤‡ä»½
    find $BACKUP_DIR -name "etcd-backup-*.db" -mtime +7 -delete
else
    echo "âŒ å¤‡ä»½å¤±è´¥ï¼"
    exit 1
fi
```

### 2.3 etcdæ¢å¤å®æ“


**âš ï¸ æ¢å¤å‰çš„é‡è¦æé†’**ï¼š
- æ¢å¤æ“ä½œä¼šè¦†ç›–ç°æœ‰æ•°æ®
- å¿…é¡»åœæ­¢æ‰€æœ‰API Server
- å»ºè®®åœ¨æµ‹è¯•ç¯å¢ƒå…ˆç»ƒä¹ 

**ğŸ”„ etcdæ¢å¤æ­¥éª¤**ï¼š

**æ­¥éª¤1ï¼šåœæ­¢ç›¸å…³æœåŠ¡**
```bash
# åœæ­¢kubeletæœåŠ¡
systemctl stop kubelet

# ç§»åŠ¨ç°æœ‰etcdæ•°æ®ï¼ˆå¤‡ä»½å½“å‰çŠ¶æ€ï¼‰
mv /var/lib/etcd /var/lib/etcd.backup
```

**æ­¥éª¤2ï¼šä»å¤‡ä»½æ¢å¤æ•°æ®**
```bash
# ä»å¤‡ä»½æ–‡ä»¶æ¢å¤etcdæ•°æ®
ETCDCTL_API=3 etcdctl snapshot restore /backup/etcd/etcd-backup-20250121-143000.db \
  --data-dir=/var/lib/etcd \
  --name=master-1 \
  --initial-cluster=master-1=https://192.168.1.10:2380 \
  --initial-advertise-peer-urls=https://192.168.1.10:2380
```

**æ­¥éª¤3ï¼šé‡å¯æœåŠ¡**
```bash
# é‡æ–°å¯åŠ¨kubelet
systemctl start kubelet

# æ£€æŸ¥é›†ç¾¤çŠ¶æ€
kubectl get nodes
kubectl get pods --all-namespaces
```

### 2.4 etcdå¤‡ä»½æœ€ä½³å®è·µ


| **å®è·µé¡¹ç›®** | **å»ºè®®é…ç½®** | **è¯´æ˜** |
|-------------|-------------|----------|
| **å¤‡ä»½é¢‘ç‡** | `æ¯4-6å°æ—¶` | `å¹³è¡¡æ•°æ®å®‰å…¨å’Œå­˜å‚¨æˆæœ¬` |
| **ä¿ç•™æ—¶é—´** | `30å¤©` | `æ»¡è¶³å¤§éƒ¨åˆ†æ¢å¤éœ€æ±‚` |
| **å­˜å‚¨ä½ç½®** | `å¤šåœ°å¤‡ä»½` | `æœ¬åœ°+äº‘ç«¯+å¼‚åœ°` |
| **è‡ªåŠ¨åŒ–** | `å®šæ—¶ä»»åŠ¡` | `å‡å°‘äººå·¥æ“ä½œé”™è¯¯` |
| **éªŒè¯** | `å®šæœŸæ¢å¤æµ‹è¯•` | `ç¡®ä¿å¤‡ä»½å¯ç”¨` |

---

## 3. ğŸ’¾ åº”ç”¨æ•°æ®å¤‡ä»½ç­–ç•¥


### 3.1 æŒä¹…åŒ–å­˜å‚¨å¤‡ä»½


**ä»€ä¹ˆæ˜¯æŒä¹…åŒ–å­˜å‚¨**ï¼š
ç®€å•è¯´å°±æ˜¯åº”ç”¨çš„"é‡è¦æ•°æ®"ï¼Œæ¯”å¦‚æ•°æ®åº“æ–‡ä»¶ã€ç”¨æˆ·ä¸Šä¼ çš„å›¾ç‰‡ç­‰ã€‚

**PV/PVCå¤‡ä»½åŸç†**ï¼š
```
åº”ç”¨æ•°æ®å¤‡ä»½æµç¨‹ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       åº”ç”¨Pod       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚      æŒ‚è½½PVC        â”‚ â† åº”ç”¨ä½¿ç”¨çš„å­˜å‚¨
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  
â”‚       ç»‘å®šPV        â”‚ â† å®é™…çš„å­˜å‚¨èµ„æº
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    åº•å±‚å­˜å‚¨è®¾å¤‡      â”‚ â† éœ€è¦å¤‡ä»½çš„æ•°æ®
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ğŸ”§ Volume Snapshotå¤‡ä»½**
```yaml
# åˆ›å»ºå­˜å‚¨å¿«ç…§ç±»
apiVersion: snapshot.storage.k8s.io/v1
kind: VolumeSnapshotClass
metadata:
  name: csi-hostpath-snapclass
driver: hostpath.csi.k8s.io
deletionPolicy: Delete
---
# åˆ›å»ºæ•°æ®å¿«ç…§
apiVersion: snapshot.storage.k8s.io/v1
kind: VolumeSnapshot
metadata:
  name: mysql-data-snapshot
  namespace: default
spec:
  volumeSnapshotClassName: csi-hostpath-snapclass
  source:
    persistentVolumeClaimName: mysql-pvc
```

### 3.2 åº”ç”¨çº§å¤‡ä»½å·¥å…·


**Velero - æœ€å—æ¬¢è¿çš„K8så¤‡ä»½å·¥å…·**

**ä»€ä¹ˆæ˜¯Velero**ï¼š
æƒ³è±¡å®ƒæ˜¯Kubernetesçš„"æ—¶å…‰æœº"ï¼Œå¯ä»¥ç»™æ•´ä¸ªé›†ç¾¤æˆ–ç‰¹å®šåº”ç”¨æ‰“å¿«ç…§ï¼Œéœ€è¦æ—¶ä¸€é”®æ¢å¤ã€‚

**Veleroå®‰è£…é…ç½®**ï¼š
```bash
# 1. ä¸‹è½½å¹¶å®‰è£…Velero CLI
wget https://github.com/vmware-tanzu/velero/releases/download/v1.12.0/velero-v1.12.0-linux-amd64.tar.gz
tar -xzf velero-v1.12.0-linux-amd64.tar.gz
sudo mv velero-v1.12.0-linux-amd64/velero /usr/local/bin/

# 2. å®‰è£…VeleroæœåŠ¡ç«¯ï¼ˆä½¿ç”¨MinIOä½œä¸ºå­˜å‚¨ï¼‰
velero install \
  --provider aws \
  --plugins velero/velero-plugin-for-aws:v1.8.0 \
  --bucket velero-backups \
  --secret-file ./credentials-velero \
  --backup-location-config region=minio,s3ForcePathStyle="true",s3Url=http://minio:9000
```

**ğŸ“± VeleroåŸºæœ¬ä½¿ç”¨**ï¼š

**åˆ›å»ºå¤‡ä»½**ï¼š
```bash
# å¤‡ä»½æ•´ä¸ªé›†ç¾¤
velero backup create full-cluster-backup

# å¤‡ä»½ç‰¹å®šå‘½åç©ºé—´
velero backup create app-backup --include-namespaces production

# å¤‡ä»½ç‰¹å®šåº”ç”¨ï¼ˆé€šè¿‡æ ‡ç­¾é€‰æ‹©ï¼‰
velero backup create mysql-backup --selector app=mysql
```

**æŸ¥çœ‹å’Œæ¢å¤**ï¼š
```bash
# æŸ¥çœ‹å¤‡ä»½åˆ—è¡¨
velero backup get

# æŸ¥çœ‹å¤‡ä»½è¯¦æƒ…
velero backup describe mysql-backup

# ä»å¤‡ä»½æ¢å¤
velero restore create --from-backup mysql-backup
```

### 3.3 æ•°æ®åº“ä¸“ç”¨å¤‡ä»½ç­–ç•¥


**MySQLå¤‡ä»½ç¤ºä¾‹**ï¼š
```yaml
# MySQLå®šæ—¶å¤‡ä»½Job
apiVersion: batch/v1
kind: CronJob
metadata:
  name: mysql-backup
  namespace: production
spec:
  schedule: "0 2 * * *"  # æ¯å¤©å‡Œæ™¨2ç‚¹æ‰§è¡Œ
  jobTemplate:
    spec:
      template:
        spec:
          containers:
          - name: mysql-backup
            image: mysql:8.0
            command:
            - /bin/bash
            - -c
            - |
              # åˆ›å»ºå¤‡ä»½
              mysqldump -h mysql-service -u backup_user -p$MYSQL_PASSWORD \
                --all-databases --single-transaction --routines --triggers \
                > /backup/mysql-backup-$(date +%Y%m%d-%H%M%S).sql
              
              # ä¸Šä¼ åˆ°å¯¹è±¡å­˜å‚¨
              aws s3 cp /backup/mysql-backup-*.sql s3://mysql-backups/
            env:
            - name: MYSQL_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: mysql-secret
                  key: password
            volumeMounts:
            - name: backup-storage
              mountPath: /backup
          volumes:
          - name: backup-storage
            persistentVolumeClaim:
              claimName: backup-pvc
          restartPolicy: OnFailure
```

---

## 4. ğŸ“‹ é…ç½®æ–‡ä»¶å¤‡ä»½ç®¡ç†


### 4.1 Kubernetesé…ç½®å¤‡ä»½


**ä»€ä¹ˆéœ€è¦å¤‡ä»½**ï¼š
```
é‡è¦é…ç½®æ–‡ä»¶æ¸…å•ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   /etc/kubernetes   â”‚ â† é›†ç¾¤æ ¸å¿ƒé…ç½®
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   ~/.kube/config    â”‚ â† è®¿é—®å‡­è¯
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   ç½‘ç»œæ’ä»¶é…ç½®       â”‚ â† CNIé…ç½®æ–‡ä»¶
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   å­˜å‚¨æ’ä»¶é…ç½®       â”‚ â† CSIé©±åŠ¨é…ç½®
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ğŸ”§ é…ç½®å¤‡ä»½è„šæœ¬**ï¼š
```bash
#!/bin/bash
# k8s-config-backup.sh

BACKUP_DIR="/backup/k8s-configs"
DATE=$(date +%Y%m%d-%H%M%S)

# åˆ›å»ºå¤‡ä»½ç›®å½•
mkdir -p $BACKUP_DIR/$DATE

echo "ğŸ“¦ å¼€å§‹å¤‡ä»½Kubernetesé…ç½®æ–‡ä»¶..."

# å¤‡ä»½é›†ç¾¤é…ç½®
cp -r /etc/kubernetes/ $BACKUP_DIR/$DATE/
cp -r ~/.kube/ $BACKUP_DIR/$DATE/

# å¤‡ä»½åº”ç”¨é…ç½®ï¼ˆå¯¼å‡ºYAMLï¼‰
kubectl get all --all-namespaces -o yaml > $BACKUP_DIR/$DATE/all-resources.yaml
kubectl get configmaps --all-namespaces -o yaml > $BACKUP_DIR/$DATE/configmaps.yaml
kubectl get secrets --all-namespaces -o yaml > $BACKUP_DIR/$DATE/secrets.yaml

# æ‰“åŒ…å‹ç¼©
cd $BACKUP_DIR
tar -czf k8s-config-$DATE.tar.gz $DATE/
rm -rf $DATE/

echo "âœ… é…ç½®å¤‡ä»½å®Œæˆï¼šk8s-config-$DATE.tar.gz"
```

### 4.2 GitOpsé…ç½®ç®¡ç†


**ä»€ä¹ˆæ˜¯GitOps**ï¼š
æŠŠKubernetesçš„é…ç½®æ–‡ä»¶éƒ½æ”¾åœ¨Gitä»“åº“é‡Œç®¡ç†ï¼Œå°±åƒç®¡ç†ä»£ç ä¸€æ ·ç®¡ç†åŸºç¡€è®¾æ–½ã€‚

**GitOpså¤‡ä»½ä¼˜åŠ¿**ï¼š
```
ä¼ ç»Ÿé…ç½®ç®¡ç† vs GitOpsé…ç½®ç®¡ç†ï¼š

ä¼ ç»Ÿæ–¹å¼ï¼š
é…ç½®ä¿®æ”¹ â†’ ç›´æ¥kubectl apply â†’ éš¾ä»¥è¿½è¸ªå˜æ›´

GitOpsæ–¹å¼ï¼š
é…ç½®ä¿®æ”¹ â†’ Gitæäº¤ â†’ è‡ªåŠ¨éƒ¨ç½² â†’ å®Œæ•´ç‰ˆæœ¬å†å²
```

**ğŸ”„ ArgoCDé…ç½®å¤‡ä»½**ï¼š
```yaml
# ArgoCDåº”ç”¨é…ç½®å¤‡ä»½
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: backup-configs
  namespace: argocd
spec:
  project: default
  source:
    repoURL: https://git.company.com/k8s-configs
    targetRevision: HEAD
    path: backup-policies
  destination:
    server: https://kubernetes.default.svc
    namespace: backup-system
  syncPolicy:
    automated:
      prune: true
      selfHeal: true
```

---

## 5. ğŸš¨ ç¾éš¾æ¢å¤é¢„æ¡ˆ


### 5.1 ç¾éš¾åœºæ™¯åˆ†ç±»


**å¸¸è§ç¾éš¾åœºæ™¯**ï¼š
```
çº§åˆ«1ï¼šå•èŠ‚ç‚¹æ•…éšœ
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   å½±å“èŒƒå›´ï¼šå±€éƒ¨     â”‚
â”‚   æ¢å¤æ—¶é—´ï¼š< 30åˆ†é’Ÿ â”‚
â”‚   å¤„ç†æ–¹å¼ï¼šèŠ‚ç‚¹é‡å¯  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

çº§åˆ«2ï¼šå¤šèŠ‚ç‚¹æ•…éšœ  
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   å½±å“èŒƒå›´ï¼šéƒ¨åˆ†æœåŠ¡ â”‚
â”‚   æ¢å¤æ—¶é—´ï¼š< 2å°æ—¶  â”‚
â”‚   å¤„ç†æ–¹å¼ï¼šæ‰¹é‡æ¢å¤  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

çº§åˆ«3ï¼šæ•´ä¸ªé›†ç¾¤æ•…éšœ
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   å½±å“èŒƒå›´ï¼šå…¨éƒ¨æœåŠ¡ â”‚
â”‚   æ¢å¤æ—¶é—´ï¼š< 8å°æ—¶  â”‚
â”‚   å¤„ç†æ–¹å¼ï¼šå®Œå…¨é‡å»º  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

çº§åˆ«4ï¼šæœºæˆ¿çº§ç¾éš¾
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   å½±å“èŒƒå›´ï¼šæ•´ä¸ªæœºæˆ¿ â”‚
â”‚   æ¢å¤æ—¶é—´ï¼š< 24å°æ—¶ â”‚
â”‚   å¤„ç†æ–¹å¼ï¼šå¼‚åœ°æ¢å¤  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.2 RTOä¸RPOç›®æ ‡


**ä»€ä¹ˆæ˜¯RTOå’ŒRPO**ï¼š
- **RTO** (Recovery Time Objective)ï¼šå¤šä¹…èƒ½æ¢å¤æœåŠ¡
- **RPO** (Recovery Point Objective)ï¼šèƒ½æ¥å—ä¸¢å¤±å¤šé•¿æ—¶é—´çš„æ•°æ®

**ä¸åŒä¸šåŠ¡çš„è¦æ±‚**ï¼š

| **ä¸šåŠ¡ç±»å‹** | **RTOç›®æ ‡** | **RPOç›®æ ‡** | **å¤‡ä»½ç­–ç•¥** |
|-------------|------------|------------|-------------|
| **æ ¸å¿ƒä¸šåŠ¡** | `< 1å°æ—¶` | `< 15åˆ†é’Ÿ` | `å®æ—¶åŒæ­¥+é¢‘ç¹å¤‡ä»½` |
| **é‡è¦ä¸šåŠ¡** | `< 4å°æ—¶` | `< 2å°æ—¶` | `æ¯2å°æ—¶å¤‡ä»½` |
| **ä¸€èˆ¬ä¸šåŠ¡** | `< 24å°æ—¶` | `< 12å°æ—¶` | `æ¯æ—¥å¤‡ä»½` |
| **æµ‹è¯•ç¯å¢ƒ** | `< 72å°æ—¶` | `< 24å°æ—¶` | `æ¯å‘¨å¤‡ä»½` |

### 5.3 ç¾éš¾æ¢å¤æµç¨‹


**ğŸš¨ ç¾éš¾æ¢å¤æ ‡å‡†æ“ä½œæµç¨‹**ï¼š

**ç¬¬ä¸€é˜¶æ®µï¼šè¯„ä¼°å’Œå†³ç­–ï¼ˆ0-15åˆ†é’Ÿï¼‰**
```
1. æ•…éšœç¡®è®¤
   â”œâ”€â”€ ç›‘æ§å‘Šè­¦ç¡®è®¤
   â”œâ”€â”€ å½±å“èŒƒå›´è¯„ä¼°  
   â””â”€â”€ ä¸¥é‡ç¨‹åº¦åˆ¤å®š

2. å¯åŠ¨åº”æ€¥å“åº”
   â”œâ”€â”€ é€šçŸ¥ç›¸å…³äººå‘˜
   â”œâ”€â”€ å¯åŠ¨åº”æ€¥é¢„æ¡ˆ
   â””â”€â”€ æˆç«‹æ¢å¤å°ç»„
```

**ç¬¬äºŒé˜¶æ®µï¼šç´§æ€¥å¤„ç½®ï¼ˆ15-60åˆ†é’Ÿï¼‰**
```
1. ä¸šåŠ¡ä¿æŠ¤æªæ–½
   â”œâ”€â”€ æµé‡åˆ‡æ¢åˆ°å¤‡ç”¨é›†ç¾¤
   â”œâ”€â”€ å¯ç”¨ç»´æŠ¤é¡µé¢
   â””â”€â”€ æ•°æ®åº“åªè¯»ä¿æŠ¤

2. ç°åœºä¿æŠ¤
   â”œâ”€â”€ ä¿æŠ¤ç°åœºæ•°æ®
   â”œâ”€â”€ æ”¶é›†æ•…éšœæ—¥å¿—
   â””â”€â”€ è®°å½•æ“ä½œæ­¥éª¤
```

**ç¬¬ä¸‰é˜¶æ®µï¼šç³»ç»Ÿæ¢å¤ï¼ˆ1-8å°æ—¶ï¼‰**
```
1. etcdæ•°æ®æ¢å¤
   â”œâ”€â”€ å‡†å¤‡å¤‡ä»½æ•°æ®
   â”œâ”€â”€ åœæ­¢ç›¸å…³æœåŠ¡
   â”œâ”€â”€ æ¢å¤etcdå¿«ç…§
   â””â”€â”€ éªŒè¯æ•°æ®å®Œæ•´æ€§

2. é›†ç¾¤é‡å»º
   â”œâ”€â”€ é‡æ–°åˆå§‹åŒ–MasterèŠ‚ç‚¹
   â”œâ”€â”€ åŠ å…¥WorkerèŠ‚ç‚¹
   â”œâ”€â”€ æ¢å¤ç½‘ç»œæ’ä»¶
   â””â”€â”€ æ¢å¤å­˜å‚¨æ’ä»¶

3. åº”ç”¨æ¢å¤
   â”œâ”€â”€ æ¢å¤é…ç½®æ–‡ä»¶
   â”œâ”€â”€ é‡æ–°éƒ¨ç½²åº”ç”¨
   â”œâ”€â”€ æ¢å¤åº”ç”¨æ•°æ®
   â””â”€â”€ éªŒè¯åŠŸèƒ½æ­£å¸¸
```

### 5.4 æ¢å¤éªŒè¯æ¸…å•


**âœ… ç³»ç»Ÿçº§éªŒè¯**ï¼š
```bash
# 1. æ£€æŸ¥é›†ç¾¤çŠ¶æ€
kubectl get nodes -o wide
kubectl get componentstatus

# 2. æ£€æŸ¥æ ¸å¿ƒç»„ä»¶
kubectl get pods -n kube-system
kubectl get svc -n kube-system

# 3. æ£€æŸ¥ç½‘ç»œè¿é€šæ€§
kubectl run test-pod --image=busybox -it --rm -- nslookup kubernetes.default
```

**âœ… åº”ç”¨çº§éªŒè¯**ï¼š
```bash
# 1. æ£€æŸ¥åº”ç”¨çŠ¶æ€
kubectl get pods --all-namespaces
kubectl get svc --all-namespaces

# 2. æ£€æŸ¥æ•°æ®å®Œæ•´æ€§
kubectl exec -it mysql-pod -- mysql -e "SELECT COUNT(*) FROM important_table;"

# 3. åŠŸèƒ½éªŒè¯
curl -H "Host: app.example.com" http://ingress-ip/health
```

---

## 6. ğŸ” å¤‡ä»½éªŒè¯ä¸æ¼”ç»ƒ


### 6.1 å¤‡ä»½æœ‰æ•ˆæ€§éªŒè¯


**ä¸ºä»€ä¹ˆè¦éªŒè¯å¤‡ä»½**ï¼š
```
å¤‡ä»½ä¸ç­‰äºå¯æ¢å¤ï¼

å¸¸è§é—®é¢˜ï¼š
âŒ å¤‡ä»½æ–‡ä»¶æŸå
âŒ æƒé™é…ç½®é”™è¯¯  
âŒ æ¢å¤æ­¥éª¤é—æ¼
âŒ ä¾èµ–ç»„ä»¶ç¼ºå¤±
```

**ğŸ”§ è‡ªåŠ¨åŒ–éªŒè¯è„šæœ¬**ï¼š
```bash
#!/bin/bash
# backup-validation.sh

BACKUP_FILE="/backup/etcd/etcd-backup-latest.db"
TEST_DIR="/tmp/etcd-restore-test"

echo "ğŸ” å¼€å§‹éªŒè¯å¤‡ä»½æ–‡ä»¶..."

# 1. æ£€æŸ¥å¤‡ä»½æ–‡ä»¶å­˜åœ¨æ€§
if [ ! -f "$BACKUP_FILE" ]; then
    echo "âŒ å¤‡ä»½æ–‡ä»¶ä¸å­˜åœ¨ï¼š$BACKUP_FILE"
    exit 1
fi

# 2. éªŒè¯å¤‡ä»½æ–‡ä»¶å®Œæ•´æ€§
ETCDCTL_API=3 etcdctl snapshot status $BACKUP_FILE
if [ $? -ne 0 ]; then
    echo "âŒ å¤‡ä»½æ–‡ä»¶æŸåæˆ–æ ¼å¼é”™è¯¯"
    exit 1
fi

# 3. æµ‹è¯•æ¢å¤è¿‡ç¨‹ï¼ˆåœ¨ä¸´æ—¶ç›®å½•ï¼‰
mkdir -p $TEST_DIR
ETCDCTL_API=3 etcdctl snapshot restore $BACKUP_FILE --data-dir=$TEST_DIR
if [ $? -eq 0 ]; then
    echo "âœ… å¤‡ä»½éªŒè¯æˆåŠŸ"
    rm -rf $TEST_DIR
else
    echo "âŒ æ¢å¤æµ‹è¯•å¤±è´¥"
    exit 1
fi
```

### 6.2 ç¾éš¾æ¢å¤æ¼”ç»ƒ


**æ¼”ç»ƒçš„é‡è¦æ€§**ï¼š
å¹³æ—¶å¤šç»ƒä¹ ï¼ŒçœŸæ­£é‡åˆ°é—®é¢˜æ—¶æ‰ä¸ä¼šæ…Œã€‚

**ğŸ¯ æ¼”ç»ƒè®¡åˆ’å®‰æ’**ï¼š

| **æ¼”ç»ƒç±»å‹** | **é¢‘ç‡** | **èŒƒå›´** | **ç›®æ ‡** |
|-------------|---------|---------|---------|
| **æ¡Œé¢æ¼”ç»ƒ** | `æ¯æœˆ1æ¬¡` | `æµç¨‹æ¢³ç†` | `ç†Ÿæ‚‰æ­¥éª¤ï¼Œå‘ç°é—®é¢˜` |
| **éƒ¨åˆ†æ¼”ç»ƒ** | `æ¯å­£åº¦1æ¬¡` | `æµ‹è¯•ç¯å¢ƒ` | `éªŒè¯æŠ€æœ¯æµç¨‹` |
| **å…¨é¢æ¼”ç»ƒ** | `æ¯å¹´2æ¬¡` | `å‡†ç”Ÿäº§ç¯å¢ƒ` | `ç«¯åˆ°ç«¯éªŒè¯` |
| **çªå‡»æ¼”ç»ƒ** | `ä¸å®šæœŸ` | `éšæœºé€‰æ‹©` | `æ£€éªŒåº”æ€¥å“åº”` |

**ğŸ“‹ æ¼”ç»ƒæ‰§è¡Œæ¸…å•**ï¼š

**æ¼”ç»ƒå‰å‡†å¤‡**ï¼š
```
â–¡ ç¡®å®šæ¼”ç»ƒæ—¶é—´å’ŒèŒƒå›´
â–¡ é€šçŸ¥ç›¸å…³äººå‘˜å‚ä¸  
â–¡ å‡†å¤‡æµ‹è¯•ç¯å¢ƒ
â–¡ å¤‡ä»½å½“å‰çŠ¶æ€
â–¡ å‡†å¤‡ç›‘æ§å·¥å…·
```

**æ¼”ç»ƒè¿‡ç¨‹è®°å½•**ï¼š
```
â–¡ è®°å½•æ¯ä¸ªæ­¥éª¤çš„æ‰§è¡Œæ—¶é—´
â–¡ è®°å½•é‡åˆ°çš„é—®é¢˜å’Œè§£å†³æ–¹æ³•
â–¡ è®°å½•åå·®å’Œæ”¹è¿›å»ºè®®
â–¡ è¯„ä¼°RTO/RPOè¾¾æˆæƒ…å†µ
â–¡ æ”¶é›†å‚ä¸äººå‘˜åé¦ˆ
```

**æ¼”ç»ƒåæ€»ç»“**ï¼š
```
â–¡ åˆ†ææ¼”ç»ƒç»“æœ
â–¡ æ›´æ–°æ¢å¤æµç¨‹æ–‡æ¡£
â–¡ ä¿®å¤å‘ç°çš„é—®é¢˜
â–¡ ä¼˜åŒ–å¤‡ä»½ç­–ç•¥
â–¡ å®‰æ’ä¸‹æ¬¡æ¼”ç»ƒè®¡åˆ’
```

### 6.3 ç›‘æ§å‘Šè­¦é…ç½®


**å¤‡ä»½ç›‘æ§æŒ‡æ ‡**ï¼š
```yaml
# Prometheusç›‘æ§è§„åˆ™
apiVersion: monitoring.coreos.com/v1
kind: PrometheusRule
metadata:
  name: backup-monitoring
spec:
  groups:
  - name: backup.rules
    rules:
    # etcdå¤‡ä»½æ£€æŸ¥
    - alert: EtcdBackupMissing
      expr: time() - etcd_backup_last_success_timestamp > 21600  # 6å°æ—¶
      for: 5m
      annotations:
        summary: "etcdå¤‡ä»½è¶…æ—¶"
        description: "etcdå¤‡ä»½å·²è¶…è¿‡6å°æ—¶æœªæˆåŠŸæ‰§è¡Œ"
    
    # å¤‡ä»½æ–‡ä»¶å¤§å°å¼‚å¸¸
    - alert: BackupSizeAnomaly  
      expr: backup_file_size_bytes < backup_file_expected_min_size
      for: 5m
      annotations:
        summary: "å¤‡ä»½æ–‡ä»¶å¤§å°å¼‚å¸¸"
        description: "å¤‡ä»½æ–‡ä»¶å¤§å°å¼‚å¸¸ï¼Œå¯èƒ½å­˜åœ¨é—®é¢˜"
```

---

## 7. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 7.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ å¤‡ä»½å¯¹è±¡ï¼šetcdæ•°æ®ï¼ˆæœ€é‡è¦ï¼‰+ åº”ç”¨æ•°æ® + é…ç½®æ–‡ä»¶
ğŸ”¸ å¤‡ä»½åŸåˆ™ï¼š3-2-1åŸåˆ™ï¼Œå¤šåœ°å¤šä»‹è´¨å¤‡ä»½
ğŸ”¸ æ ¸å¿ƒå·¥å…·ï¼šetcdctlï¼ˆetcdå¤‡ä»½ï¼‰+ Veleroï¼ˆåº”ç”¨å¤‡ä»½ï¼‰
ğŸ”¸ æ¢å¤æµç¨‹ï¼šè¯„ä¼°â†’ç´§æ€¥å¤„ç½®â†’ç³»ç»Ÿæ¢å¤â†’éªŒè¯
ğŸ”¸ é‡è¦æ¦‚å¿µï¼šRTO/RPOç›®æ ‡ï¼Œå†³å®šå¤‡ä»½é¢‘ç‡å’Œç­–ç•¥
```

### 7.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ etcdä¸ºä»€ä¹ˆæœ€é‡è¦**ï¼š
```
etcdæ˜¯Kubernetesçš„"æ•°æ®åº“"ï¼š
- å­˜å‚¨æ‰€æœ‰é›†ç¾¤çŠ¶æ€ä¿¡æ¯
- è®°å½•æ‰€æœ‰èµ„æºå¯¹è±¡å®šä¹‰  
- ä¿å­˜æ‰€æœ‰é…ç½®å’Œå¯†é’¥
- ä¸¢å¤±etcd = ä¸¢å¤±æ•´ä¸ªé›†ç¾¤
```

**ğŸ”¹ å¤‡ä»½ä¸åªæ˜¯æŠ€æœ¯é—®é¢˜**ï¼š
```
å¤‡ä»½ç­–ç•¥è€ƒè™‘å› ç´ ï¼š
- ä¸šåŠ¡é‡è¦ç¨‹åº¦ï¼ˆRTO/RPOè¦æ±‚ï¼‰
- æ•°æ®å˜åŒ–é¢‘ç‡ï¼ˆå¤‡ä»½é¢‘ç‡ï¼‰
- å­˜å‚¨æˆæœ¬é¢„ç®—ï¼ˆä¿ç•™æ—¶é—´ï¼‰
- äººå‘˜æŠ€èƒ½æ°´å¹³ï¼ˆå·¥å…·é€‰æ‹©ï¼‰
```

**ğŸ”¹ æ¼”ç»ƒçš„é‡è¦æ€§**ï¼š
```
ä¸ºä»€ä¹ˆè¦å®šæœŸæ¼”ç»ƒï¼š
- éªŒè¯å¤‡ä»½å¯ç”¨æ€§
- ç†Ÿæ‚‰æ¢å¤æµç¨‹
- å‘ç°æµç¨‹æ¼æ´
- æå‡åº”æ€¥èƒ½åŠ›
- å»ºç«‹å›¢é˜Ÿä¿¡å¿ƒ
```

### 7.3 å®é™…åº”ç”¨æŒ‡å¯¼


**ğŸ¯ æ–°æ‰‹èµ·æ­¥å»ºè®®**ï¼š
```
ç¬¬ä¸€æ­¥ï¼šå»ºç«‹etcdå¤‡ä»½
- æ¯4å°æ—¶è‡ªåŠ¨å¤‡ä»½
- æœ¬åœ°ä¿ç•™7å¤©
- æµ‹è¯•æ¢å¤æµç¨‹

ç¬¬äºŒæ­¥ï¼šåº”ç”¨æ•°æ®å¤‡ä»½  
- æ ¹æ®ä¸šåŠ¡é‡è¦æ€§åˆ†çº§
- æ•°æ®åº“æ¯æ—¥å¤‡ä»½
- æ–‡ä»¶å­˜å‚¨æ¯å‘¨å¤‡ä»½

ç¬¬ä¸‰æ­¥ï¼šå®Œå–„ç›‘æ§å‘Šè­¦
- å¤‡ä»½æˆåŠŸå¤±è´¥å‘Šè­¦
- å¤‡ä»½æ–‡ä»¶å¤§å°ç›‘æ§
- æ¢å¤æ—¶é—´ç›®æ ‡ç›‘æ§
```

**âš ï¸ å¸¸è§è¯¯åŒºæé†’**ï¼š
```
âŒ åªå¤‡ä»½ä¸éªŒè¯ï¼šå¤‡ä»½æ–‡ä»¶å¯èƒ½æŸå
âŒ åªå…³æ³¨æŠ€æœ¯ï¼šå¿½ç•¥ä¸šåŠ¡éœ€æ±‚åˆ†æ
âŒ å¤‡ä»½é¢‘ç‡è¿‡ä½ï¼šRPOç›®æ ‡æ— æ³•è¾¾æˆ
âŒ æ¢å¤æµç¨‹ä¸ç†Ÿç»ƒï¼šç´§æ€¥æ—¶æ‰‹å¿™è„šä¹±
âŒ å•ç‚¹å¤‡ä»½å­˜å‚¨ï¼šå­˜å‚¨æ•…éšœå½±å“æ¢å¤
```

**ğŸš€ è¿›é˜¶ä¼˜åŒ–æ–¹å‘**ï¼š
- **è‡ªåŠ¨åŒ–ç¨‹åº¦**ï¼šå‡å°‘äººå·¥å¹²é¢„ï¼Œæé«˜å¯é æ€§
- **ç›‘æ§å®Œå–„åº¦**ï¼šå…¨é¢ç›‘æ§å¤‡ä»½è´¨é‡å’Œæ¢å¤èƒ½åŠ›
- **æ¼”ç»ƒè§„èŒƒåŒ–**ï¼šå»ºç«‹æ ‡å‡†æ¼”ç»ƒæµç¨‹å’Œè¯„ä¼°ä½“ç³»
- **å¤šäº‘å¤‡ä»½**ï¼šåˆ©ç”¨å¤šäº‘å­˜å‚¨æé«˜æ•°æ®å®‰å…¨æ€§
- **ç¾å¤‡ä¸€ä½“åŒ–**ï¼šå¤‡ä»½æ¢å¤ä¸ç¾å¤‡åˆ‡æ¢ç»Ÿä¸€è§„åˆ’

**æ ¸å¿ƒè®°å¿†**ï¼š
- å¤‡ä»½ä¸‰è¦ç´ ï¼šé¢‘ç‡ã€éªŒè¯ã€æ¼”ç»ƒ
- etcdæœ€å…³é”®ï¼Œåº”ç”¨æ•°æ®è¦åˆ†çº§
- RTO/RPOå®šç­–ç•¥ï¼Œç›‘æ§å‘Šè­¦ä¸èƒ½å°‘
- å¹³æ—¶å¤šæ¼”ç»ƒï¼Œä¸´æ—¶ä¸æ…Œä¹±