---
title: 3ã€Roleè§’è‰²æƒé™å®šä¹‰
---
## ğŸ“š ç›®å½•

1. [Roleä¸ClusterRoleåŸºæœ¬æ¦‚å¿µ](#1-roleä¸clusterroleåŸºæœ¬æ¦‚å¿µ)
2. [æƒé™åŠ¨ä½œè¯¦è§£](#2-æƒé™åŠ¨ä½œè¯¦è§£)
3. [APIç»„æƒé™æ§åˆ¶](#3-apiç»„æƒé™æ§åˆ¶)
4. [èµ„æºæƒé™èŒƒå›´å®šä¹‰](#4-èµ„æºæƒé™èŒƒå›´å®šä¹‰)
5. [å®é™…é…ç½®ç¤ºä¾‹](#5-å®é™…é…ç½®ç¤ºä¾‹)
6. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#6-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ¯ Roleä¸ClusterRoleåŸºæœ¬æ¦‚å¿µ


### 1.1 ä»€ä¹ˆæ˜¯Roleå’ŒClusterRole


**ğŸ”¸ é€šä¿—ç†è§£**
```
ç°å®ç±»æ¯”ï¼š
Role = éƒ¨é—¨ç»ç†æƒé™ï¼ˆåªç®¡è‡ªå·±éƒ¨é—¨ï¼‰
ClusterRole = å…¬å¸æ€»è£æƒé™ï¼ˆç®¡ç†å…¨å…¬å¸ï¼‰

æŠ€æœ¯å¯¹åº”ï¼š
Role = å‘½åç©ºé—´çº§åˆ«çš„æƒé™
ClusterRole = é›†ç¾¤çº§åˆ«çš„æƒé™
```

**ğŸ’¡ æ ¸å¿ƒåŒºåˆ«**
```
å‘½åç©ºé—´æƒé™èŒƒå›´å¯¹æ¯”ï¼š

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Kubernetesé›†ç¾¤          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Namespace: default             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Roleåªèƒ½ç®¡ç†è¿™ä¸ªå‘½åç©ºé—´    â”‚ â”‚
â”‚  â”‚ - Podæƒé™                   â”‚ â”‚
â”‚  â”‚ - Serviceæƒé™               â”‚ â”‚
â”‚  â”‚ - Deploymentæƒé™            â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Namespace: production          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ å¦ä¸€ä¸ªRoleç®¡ç†è¿™é‡Œ          â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ClusterRoleå¯ä»¥ç®¡ç†ï¼š           â”‚
â”‚  â€¢ æ‰€æœ‰å‘½åç©ºé—´                 â”‚
â”‚  â€¢ é›†ç¾¤çº§åˆ«èµ„æºï¼ˆNodeç­‰ï¼‰       â”‚
â”‚  â€¢ è·¨å‘½åç©ºé—´æ“ä½œ               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.2 ä½¿ç”¨åœºæ™¯åŒºåˆ†


| æƒé™ç±»å‹ | **é€‚ç”¨åœºæ™¯** | **ç®¡ç†èŒƒå›´** | **å…¸å‹ç”¨æˆ·** |
|---------|------------|-------------|-------------|
| ğŸ¢ **Role** | `å¼€å‘å›¢é˜Ÿæƒé™` | `å•ä¸ªé¡¹ç›®/ç¯å¢ƒ` | `å¼€å‘äººå‘˜ã€æµ‹è¯•äººå‘˜` |
| ğŸŒ **ClusterRole** | `è¿ç»´ç®¡ç†æƒé™` | `æ•´ä¸ªé›†ç¾¤` | `é›†ç¾¤ç®¡ç†å‘˜ã€SRE` |

**å®é™…åº”ç”¨ç¤ºä¾‹**ï¼š
```
å¼€å‘åœºæ™¯ï¼š
â€¢ å‰ç«¯å›¢é˜Ÿ â†’ frontend-namespaceçš„Role
â€¢ åç«¯å›¢é˜Ÿ â†’ backend-namespaceçš„Role
â€¢ æ•°æ®åº“å›¢é˜Ÿ â†’ database-namespaceçš„Role

è¿ç»´åœºæ™¯ï¼š
â€¢ ç›‘æ§ç³»ç»Ÿ â†’ ClusterRoleï¼ˆéœ€è¦çœ‹æ‰€æœ‰èµ„æºï¼‰
â€¢ æ—¥å¿—æ”¶é›† â†’ ClusterRoleï¼ˆéœ€è¦è®¿é—®æ‰€æœ‰Podï¼‰
â€¢ å¤‡ä»½ç³»ç»Ÿ â†’ ClusterRoleï¼ˆéœ€è¦è®¿é—®æ‰€æœ‰æ•°æ®ï¼‰
```

---

## 2. âš¡ æƒé™åŠ¨ä½œè¯¦è§£


### 2.1 åŸºæœ¬æƒé™åŠ¨ä½œ


**ğŸ”¸ æ ¸å¿ƒåŠ¨ä½œå«ä¹‰**
```
HTTPåŠ¨ä½œ â†’ K8sæƒé™ â†’ å®é™…å«ä¹‰
GET     â†’ get      â†’ æŸ¥çœ‹å•ä¸ªèµ„æº
GET     â†’ list     â†’ æŸ¥çœ‹èµ„æºåˆ—è¡¨
POST    â†’ create   â†’ åˆ›å»ºæ–°èµ„æº
PUT     â†’ update   â†’ æ›´æ–°ç°æœ‰èµ„æº
DELETE  â†’ delete   â†’ åˆ é™¤èµ„æº
```

**ğŸ’¡ ç”Ÿæ´»åŒ–ç†è§£**
```
æŠŠK8sèµ„æºæƒ³è±¡æˆå›¾ä¹¦é¦†çš„ä¹¦ï¼š

getæƒé™ï¼š    å¯ä»¥å€Ÿé˜…æŒ‡å®šçš„ä¸€æœ¬ä¹¦
listæƒé™ï¼š   å¯ä»¥æŸ¥çœ‹å›¾ä¹¦ç›®å½•æ¸…å•
createæƒé™ï¼š å¯ä»¥å‘å›¾ä¹¦é¦†æèµ æ–°ä¹¦
updateæƒé™ï¼š å¯ä»¥ä¿®æ”¹ä¹¦çš„ä¿¡æ¯æ ‡ç­¾
deleteæƒé™ï¼š å¯ä»¥ä»å›¾ä¹¦é¦†ç§»é™¤ä¹¦ç±
```

### 2.2 æƒé™åŠ¨ä½œç»„åˆ


**ğŸ¯ å¸¸è§æƒé™ç»„åˆ**
```
åªè¯»ç”¨æˆ·ï¼š
permissions: [get, list]
è¯´æ˜ï¼šåªèƒ½æŸ¥çœ‹ï¼Œä¸èƒ½ä¿®æ”¹

æ“ä½œç”¨æˆ·ï¼š
permissions: [get, list, create, update]
è¯´æ˜ï¼šå¯ä»¥å¢åˆ æ”¹æŸ¥ï¼Œä½†ä¸èƒ½åˆ é™¤

ç®¡ç†å‘˜ï¼š
permissions: [get, list, create, update, delete]
è¯´æ˜ï¼šæ‹¥æœ‰å®Œæ•´æƒé™

ç‰¹æ®Šæƒé™ï¼š
permissions: [*, *]  # é€šé…ç¬¦ï¼Œæ‰€æœ‰æƒé™
è¯´æ˜ï¼šè¶…çº§ç®¡ç†å‘˜æƒé™ï¼ˆæ…ç”¨ï¼ï¼‰
```

### 2.3 æƒé™åŠ¨ä½œå®é™…æ•ˆæœ


```
ç¤ºä¾‹æƒé™æµ‹è¯•ï¼š

æƒé™é…ç½®ï¼šverbs: ["get", "list"]
å®é™…æ•ˆæœï¼š
âœ“ kubectl get pods        # å¯ä»¥æ‰§è¡Œ
âœ“ kubectl get pods pod1   # å¯ä»¥æ‰§è¡Œ  
âœ— kubectl create -f xx.yaml  # è¢«æ‹’ç»
âœ— kubectl delete pod pod1    # è¢«æ‹’ç»

æƒé™é…ç½®ï¼šverbs: ["create", "update"]  
å®é™…æ•ˆæœï¼š
âœ— kubectl get pods       # è¢«æ‹’ç»ï¼ˆæ²¡æœ‰getæƒé™ï¼‰
âœ“ kubectl create -f xx.yaml # å¯ä»¥æ‰§è¡Œ
âœ“ kubectl edit pod pod1     # å¯ä»¥æ‰§è¡Œ
```

---

## 3. ğŸŒ APIç»„æƒé™æ§åˆ¶


### 3.1 APIç»„åŸºæœ¬æ¦‚å¿µ


**ğŸ”¸ ä»€ä¹ˆæ˜¯APIç»„**
```
KubernetesæŒ‰åŠŸèƒ½å°†èµ„æºåˆ†ç»„ç®¡ç†ï¼š

æ ¸å¿ƒç»„ï¼ˆCore Groupï¼‰ï¼š
â€¢ ""ï¼ˆç©ºå­—ç¬¦ä¸²ï¼‰
â€¢ åŒ…å«ï¼šPodã€Serviceã€Nodeç­‰åŸºç¡€èµ„æº

åº”ç”¨ç»„ï¼ˆApps Groupï¼‰ï¼š
â€¢ "apps"
â€¢ åŒ…å«ï¼šDeploymentã€StatefulSetã€DaemonSet

ç½‘ç»œç»„ï¼ˆNetworking Groupï¼‰ï¼š
â€¢ "networking.k8s.io"  
â€¢ åŒ…å«ï¼šNetworkPolicyã€Ingress

å­˜å‚¨ç»„ï¼ˆStorage Groupï¼‰ï¼š
â€¢ "storage.k8s.io"
â€¢ åŒ…å«ï¼šStorageClassã€PersistentVolume
```

**ğŸ’¡ ç±»æ¯”ç†è§£**
```
APIç»„å°±åƒå…¬å¸çš„éƒ¨é—¨ï¼š

ITéƒ¨é—¨ï¼ˆcoreç»„ï¼‰ï¼š      ç®¡ç†åŸºç¡€è®¾æ–½
å¼€å‘éƒ¨é—¨ï¼ˆappsç»„ï¼‰ï¼š    ç®¡ç†åº”ç”¨ç¨‹åº
ç½‘ç»œéƒ¨é—¨ï¼ˆnetworkingï¼‰ï¼š ç®¡ç†ç½‘ç»œç­–ç•¥
å­˜å‚¨éƒ¨é—¨ï¼ˆstorageï¼‰ï¼š   ç®¡ç†å­˜å‚¨èµ„æº

æ¯ä¸ªéƒ¨é—¨æœ‰è‡ªå·±çš„ç®¡ç†æƒé™å’ŒèŒè´£èŒƒå›´
```

### 3.2 APIç»„æƒé™é…ç½®


```yaml
# æ ¸å¿ƒç»„æƒé™ï¼ˆæ³¨æ„ï¼šapiGroupsä¸ºç©ºå­—ç¬¦ä¸²ï¼‰
apiVersion: rbac.authorization.k8s.io/v1
kind: Role
rules:
- apiGroups: [""]  # æ ¸å¿ƒç»„ç”¨ç©ºå­—ç¬¦ä¸²
  resources: ["pods", "services"]
  verbs: ["get", "list"]

# åº”ç”¨ç»„æƒé™  
- apiGroups: ["apps"]
  resources: ["deployments", "statefulsets"]
  verbs: ["get", "list", "create", "update"]

# å¤šç»„æƒé™
- apiGroups: ["", "apps", "extensions"]
  resources: ["*"]  # æ‰€æœ‰èµ„æº
  verbs: ["*"]      # æ‰€æœ‰åŠ¨ä½œ
```

### 3.3 èµ„æºä¸APIç»„æ˜ å°„è¡¨


| èµ„æºç±»å‹ | **APIç»„** | **å…¸å‹ç”¨é€”** | **æƒé™ç¤ºä¾‹** |
|---------|----------|-------------|-------------|
| `Pod, Service, ConfigMap` | `""` | `åŸºç¡€è¿è¡Œèµ„æº` | `pods/get,list` |
| `Deployment, StatefulSet` | `apps` | `åº”ç”¨éƒ¨ç½²ç®¡ç†` | `deployments/*` |
| `Ingress` | `networking.k8s.io` | `ç½‘ç»œè®¿é—®æ§åˆ¶` | `ingresses/get` |
| `StorageClass` | `storage.k8s.io` | `å­˜å‚¨èµ„æºç®¡ç†` | `storageclasses/*` |

---

## 4. ğŸ“Š èµ„æºæƒé™èŒƒå›´å®šä¹‰


### 4.1 èµ„æºç²’åº¦æ§åˆ¶


**ğŸ”¸ èµ„æºæƒé™å±‚çº§**
```
æƒé™æ§åˆ¶ç²’åº¦ï¼ˆä»ç²—åˆ°ç»†ï¼‰ï¼š

1. é€šé…ç¬¦æƒé™ï¼š
   resources: ["*"]
   è¯´æ˜ï¼šæ‰€æœ‰èµ„æºç±»å‹

2. èµ„æºç±»å‹æƒé™ï¼š
   resources: ["pods", "services"]  
   è¯´æ˜ï¼šæŒ‡å®šèµ„æºç±»å‹

3. å…·ä½“èµ„æºæƒé™ï¼š
   resources: ["pods"]
   resourceNames: ["my-pod", "web-pod"]
   è¯´æ˜ï¼šåªèƒ½æ“ä½œæŒ‡å®šåç§°çš„èµ„æº

4. å­èµ„æºæƒé™ï¼š
   resources: ["pods/log", "pods/exec"]
   è¯´æ˜ï¼šåªèƒ½è®¿é—®èµ„æºçš„ç‰¹å®šå­åŠŸèƒ½
```

**ğŸ’¡ å®é™…åº”ç”¨åœºæ™¯**
```
åœºæ™¯1ï¼šå¼€å‘äººå‘˜æƒé™
resources: ["pods", "services", "configmaps"]
verbs: ["get", "list"]
è¯´æ˜ï¼šåªèƒ½æŸ¥çœ‹è‡ªå·±ç›¸å…³çš„èµ„æº

åœºæ™¯2ï¼šéƒ¨ç½²äººå‘˜æƒé™  
resources: ["deployments", "services"]
verbs: ["get", "list", "create", "update"]
è¯´æ˜ï¼šå¯ä»¥éƒ¨ç½²å’Œæ›´æ–°åº”ç”¨

åœºæ™¯3ï¼šè°ƒè¯•äººå‘˜æƒé™
resources: ["pods/log", "pods/exec"]  
verbs: ["get", "create"]
è¯´æ˜ï¼šå¯ä»¥æŸ¥çœ‹æ—¥å¿—å’Œè¿›å…¥å®¹å™¨è°ƒè¯•

åœºæ™¯4ï¼šç›‘æ§ç³»ç»Ÿæƒé™
resources: ["*"]
verbs: ["get", "list"]
è¯´æ˜ï¼šå¯ä»¥æŸ¥çœ‹æ‰€æœ‰èµ„æºçŠ¶æ€ï¼Œä½†ä¸èƒ½ä¿®æ”¹
```

### 4.2 å­èµ„æºæƒé™è¯¦è§£


```
å¸¸è§å­èµ„æºæƒé™ï¼š

Podå­èµ„æºï¼š
â€¢ pods/log        â†’ æŸ¥çœ‹å®¹å™¨æ—¥å¿—
â€¢ pods/exec       â†’ æ‰§è¡Œå®¹å™¨å‘½ä»¤  
â€¢ pods/portforward â†’ ç«¯å£è½¬å‘
â€¢ pods/status     â†’ æŸ¥çœ‹PodçŠ¶æ€

Serviceå­èµ„æºï¼š
â€¢ services/status â†’ æŸ¥çœ‹æœåŠ¡çŠ¶æ€
â€¢ services/proxy  â†’ æœåŠ¡ä»£ç†è®¿é—®

Deploymentå­èµ„æºï¼š
â€¢ deployments/status â†’ æŸ¥çœ‹éƒ¨ç½²çŠ¶æ€
â€¢ deployments/scale  â†’ æ‰©ç¼©å®¹æ“ä½œ
```

**ğŸ¯ æƒé™é…ç½®ç¤ºä¾‹**
```yaml
# å…è®¸æŸ¥çœ‹æ—¥å¿—ä½†ä¸èƒ½ä¿®æ”¹Pod
- apiGroups: [""]
  resources: ["pods/log"]
  verbs: ["get"]

# å…è®¸æ‰§è¡Œå®¹å™¨å‘½ä»¤è¿›è¡Œè°ƒè¯•
- apiGroups: [""]  
  resources: ["pods/exec"]
  verbs: ["create"]

# å…è®¸å¯¹ç‰¹å®šDeploymentè¿›è¡Œæ‰©ç¼©å®¹
- apiGroups: ["apps"]
  resources: ["deployments/scale"] 
  resourceNames: ["web-app", "api-server"]
  verbs: ["get", "update"]
```

---

## 5. ğŸ’¼ å®é™…é…ç½®ç¤ºä¾‹


### 5.1 å¼€å‘äººå‘˜Roleé…ç½®


```yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: Role
metadata:
  namespace: development  # åªåœ¨developmentå‘½åç©ºé—´æœ‰æ•ˆ
  name: developer-role
rules:
# åŸºç¡€èµ„æºæŸ¥çœ‹æƒé™
- apiGroups: [""]
  resources: ["pods", "services", "configmaps", "secrets"]
  verbs: ["get", "list"]

# åº”ç”¨éƒ¨ç½²æƒé™
- apiGroups: ["apps"] 
  resources: ["deployments", "replicasets"]
  verbs: ["get", "list", "create", "update"]

# æ—¥å¿—æŸ¥çœ‹æƒé™
- apiGroups: [""]
  resources: ["pods/log"]
  verbs: ["get"]

# å®¹å™¨è°ƒè¯•æƒé™
- apiGroups: [""]
  resources: ["pods/exec"]  
  verbs: ["create"]
```

**ğŸ”§ æƒé™è¯´æ˜**
```
è¿™ä¸ªRoleå…è®¸å¼€å‘äººå‘˜ï¼š
âœ“ æŸ¥çœ‹Podã€Serviceç­‰åŸºç¡€èµ„æº
âœ“ åˆ›å»ºå’Œæ›´æ–°Deployment
âœ“ æŸ¥çœ‹åº”ç”¨æ—¥å¿—è¿›è¡Œè°ƒè¯•
âœ“ è¿›å…¥å®¹å™¨æ‰§è¡Œå‘½ä»¤æ’æŸ¥é—®é¢˜
âœ— åˆ é™¤ä»»ä½•èµ„æºï¼ˆå®‰å…¨è€ƒè™‘ï¼‰
âœ— è®¿é—®å…¶ä»–å‘½åç©ºé—´çš„èµ„æº
```

### 5.2 é›†ç¾¤ç›‘æ§ClusterRoleé…ç½®


```yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole  # æ³¨æ„ï¼šè¿™æ˜¯ClusterRole
metadata:
  name: monitoring-cluster-role
rules:
# èŠ‚ç‚¹ä¿¡æ¯æ”¶é›†
- apiGroups: [""]
  resources: ["nodes", "nodes/metrics"]
  verbs: ["get", "list"]

# æ‰€æœ‰å‘½åç©ºé—´çš„Podä¿¡æ¯
- apiGroups: [""]
  resources: ["pods", "services", "endpoints"]  
  verbs: ["get", "list"]

# åº”ç”¨çŠ¶æ€ç›‘æ§
- apiGroups: ["apps"]
  resources: ["deployments", "statefulsets", "daemonsets"]
  verbs: ["get", "list"]

# é›†ç¾¤äº‹ä»¶æŸ¥çœ‹
- apiGroups: [""]
  resources: ["events"]
  verbs: ["get", "list"]
```

### 5.3 æƒé™æœ€å°åŒ–åŸåˆ™ç¤ºä¾‹


```yaml
# âŒ è¿‡åº¦æƒé™ï¼ˆå±é™©ï¼‰
rules:
- apiGroups: ["*"]
  resources: ["*"] 
  verbs: ["*"]

# âœ… ç²¾ç¡®æƒé™ï¼ˆæ¨èï¼‰
rules:
# åªç»™éœ€è¦çš„èµ„æºç±»å‹
- apiGroups: [""]
  resources: ["pods"]  # ä¸ç”¨é€šé…ç¬¦
  verbs: ["get", "list"]  # ä¸ç»™ä¸éœ€è¦çš„æƒé™

# ç‰¹å®šèµ„æºå®ä¾‹æƒé™
- apiGroups: [""]
  resources: ["secrets"]
  resourceNames: ["app-config", "db-password"]  # æŒ‡å®šå…·ä½“èµ„æº
  verbs: ["get"]
```

**âš ï¸ å®‰å…¨æé†’**
```
æƒé™é…ç½®å®‰å…¨åŸåˆ™ï¼š

1. æœ€å°æƒé™åŸåˆ™ï¼š
   åªç»™å¿…éœ€çš„æƒé™ï¼Œä¸å¤šç»™

2. å‘½åç©ºé—´éš”ç¦»ï¼š
   ä¼˜å…ˆä½¿ç”¨Roleè€Œä¸æ˜¯ClusterRole

3. é¿å…é€šé…ç¬¦ï¼š
   å°‘ç”¨"*"ï¼Œå¤šç”¨å…·ä½“çš„èµ„æºåç§°

4. å®šæœŸå®¡æŸ¥ï¼š
   å®šæœŸæ£€æŸ¥æƒé™é…ç½®æ˜¯å¦åˆç†
```

---

## 6. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 6.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ Role vs ClusterRoleï¼šå‘½åç©ºé—´çº§ vs é›†ç¾¤çº§æƒé™
ğŸ”¸ æƒé™åŠ¨ä½œï¼šgetã€listã€createã€updateã€deleteçš„å®é™…å«ä¹‰
ğŸ”¸ APIç»„ï¼šæŒ‰åŠŸèƒ½åˆ†ç»„çš„èµ„æºç®¡ç†æ–¹å¼
ğŸ”¸ èµ„æºæƒé™ï¼šä»é€šé…ç¬¦åˆ°å…·ä½“å®ä¾‹çš„ç²’åº¦æ§åˆ¶
ğŸ”¸ å­èµ„æºï¼šlogã€execã€statusç­‰ç‰¹æ®ŠåŠŸèƒ½æƒé™
```

### 6.2 æƒé™é…ç½®å…³é”®è¦ç‚¹


**ğŸ”¹ æƒé™è®¾è®¡åŸåˆ™**
```
å®‰å…¨ç¬¬ä¸€ï¼š
â€¢ æœ€å°æƒé™åŸåˆ™ï¼šåªç»™å¿…éœ€çš„æƒé™
â€¢ å‘½åç©ºé—´éš”ç¦»ï¼šé™åˆ¶æƒé™èŒƒå›´
â€¢ é¿å…é€šé…ç¬¦ï¼šå‡å°‘æƒé™æ³„éœ²é£é™©

å®ç”¨ä¸ºæœ¬ï¼š
â€¢ æŒ‰è§’è‰²åˆ†å·¥ï¼šå¼€å‘ã€è¿ç»´ã€ç›‘æ§ç­‰ä¸åŒæƒé™
â€¢ æŒ‰ç¯å¢ƒéš”ç¦»ï¼šå¼€å‘ã€æµ‹è¯•ã€ç”Ÿäº§ç¯å¢ƒåˆ†ç¦»
â€¢ æŒ‰åŠŸèƒ½åˆ’åˆ†ï¼šåº”ç”¨éƒ¨ç½²ã€æ—¥å¿—æŸ¥çœ‹ã€èµ„æºç›‘æ§
```

**ğŸ”¹ å¸¸è§é…ç½®æ¨¡å¼**
```
åªè¯»æƒé™ï¼šverbs: ["get", "list"]
å¼€å‘æƒé™ï¼šverbs: ["get", "list", "create", "update"]  
ç®¡ç†æƒé™ï¼šverbs: ["get", "list", "create", "update", "delete"]
è°ƒè¯•æƒé™ï¼šresources: ["pods/log", "pods/exec"]
ç›‘æ§æƒé™ï¼šè·¨å‘½åç©ºé—´çš„åªè¯»æƒé™
```

### 6.3 å®é™…åº”ç”¨æŒ‡å¯¼


**ğŸ¯ è§’è‰²æƒé™è§„åˆ’**
- **å¼€å‘äººå‘˜**ï¼šå‘½åç©ºé—´å†…çš„åº”ç”¨ç®¡ç†æƒé™
- **è¿ç»´äººå‘˜**ï¼šé›†ç¾¤çº§åˆ«çš„åŸºç¡€è®¾æ–½æƒé™
- **ç›‘æ§ç³»ç»Ÿ**ï¼šå…¨é›†ç¾¤åªè¯»æƒé™
- **CI/CDç³»ç»Ÿ**ï¼šç‰¹å®šå‘½åç©ºé—´çš„éƒ¨ç½²æƒé™

**ğŸ”§ é…ç½®å®è·µå»ºè®®**
- å…ˆç”¨Roleæµ‹è¯•æƒé™ï¼Œç¡®è®¤åå†è€ƒè™‘ClusterRole
- æƒé™é…ç½®è¦æœ‰æ˜ç¡®çš„æ³¨é‡Šè¯´æ˜ç”¨é€”
- å®šæœŸå®¡æŸ¥å’Œæ¸…ç†ä¸å¿…è¦çš„æƒé™
- ä½¿ç”¨å·¥å…·éªŒè¯æƒé™é…ç½®çš„æœ‰æ•ˆæ€§

**æ ¸å¿ƒè®°å¿†**ï¼š
- Roleç®¡å•ä¸ªå‘½åç©ºé—´ï¼ŒClusterRoleç®¡æ•´ä¸ªé›†ç¾¤
- æƒé™åŠ¨ä½œè¦æŒ‰éœ€åˆ†é…ï¼Œä¸è¦ç»™è¿‡å¤šæƒé™
- APIç»„æŒ‰åŠŸèƒ½åˆ†ç±»ï¼Œè¦é€‰å¯¹åº”çš„ç»„
- å®‰å…¨ç¬¬ä¸€ï¼Œæœ€å°æƒé™åŸåˆ™æ˜¯å…³é”®