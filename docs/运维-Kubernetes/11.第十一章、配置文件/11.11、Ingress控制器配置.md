---
title: 11ã€Ingressæ§åˆ¶å™¨é…ç½®
---
## ğŸ“š ç›®å½•

1. [Ingressæ§åˆ¶å™¨åŸºç¡€æ¦‚å¿µ](#1-Ingressæ§åˆ¶å™¨åŸºç¡€æ¦‚å¿µ)
2. [NGINX Ingressæ§åˆ¶å™¨é…ç½®](#2-NGINX-Ingressæ§åˆ¶å™¨é…ç½®)
3. [Traefik Ingressæ§åˆ¶å™¨é…ç½®](#3-Traefik-Ingressæ§åˆ¶å™¨é…ç½®)
4. [Istioç½‘å…³é…ç½®](#4-Istioç½‘å…³é…ç½®)
5. [Ambassadoré…ç½®](#5-Ambassadoré…ç½®)
6. [HAProxy Ingressé…ç½®](#6-HAProxy-Ingressé…ç½®)
7. [ConfigMapé…ç½®æ˜ å°„è¯¦è§£](#7-ConfigMapé…ç½®æ˜ å°„è¯¦è§£)
8. [SSLå’Œè¶…æ—¶é…ç½®è¯¦è§£](#8-SSLå’Œè¶…æ—¶é…ç½®è¯¦è§£)
9. [ç”Ÿäº§ç¯å¢ƒæœ€ä½³å®è·µ](#9-ç”Ÿäº§ç¯å¢ƒæœ€ä½³å®è·µ)
10. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#10-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸŒ Ingressæ§åˆ¶å™¨åŸºç¡€æ¦‚å¿µ


### 1.1 ä»€ä¹ˆæ˜¯Ingressæ§åˆ¶å™¨


**ğŸ”¸ ç®€å•ç†è§£**
```
æƒ³è±¡ä¸€ä¸‹é…’åº—å‰å°ï¼š
- å®¢äººæ¥äº†ï¼Œå‰å°è´Ÿè´£æ¥å¾…å¹¶æŒ‡å¼•åˆ°æ­£ç¡®çš„æˆ¿é—´
- Ingressæ§åˆ¶å™¨å°±æ˜¯K8sé›†ç¾¤çš„"å‰å°"
- å®ƒæ¥æ”¶å¤–éƒ¨è¯·æ±‚ï¼Œç„¶åè½¬å‘åˆ°æ­£ç¡®çš„æœåŠ¡
```

**ğŸ’¡ æ ¸å¿ƒä½œç”¨**
- **æµé‡å…¥å£**ï¼šå¤–éƒ¨è®¿é—®é›†ç¾¤å†…æœåŠ¡çš„å”¯ä¸€å…¥å£
- **è·¯ç”±è§„åˆ™**ï¼šæ ¹æ®åŸŸåã€è·¯å¾„å°†è¯·æ±‚åˆ†å‘åˆ°ä¸åŒæœåŠ¡
- **è´Ÿè½½å‡è¡¡**ï¼šåœ¨å¤šä¸ªPodä¹‹é—´åˆ†é…è¯·æ±‚
- **SSLç»ˆæ­¢**ï¼šå¤„ç†HTTPSè¯ä¹¦ï¼Œå¸è½½SSLè®¡ç®—è´Ÿæ‹…

### 1.2 Ingress vs Serviceçš„åŒºåˆ«


| å¯¹æ¯”é¡¹ç›® | **Service** | **Ingress** |
|---------|-------------|-------------|
| ğŸ¯ **ä½œç”¨å±‚çº§** | `é›†ç¾¤å†…éƒ¨é€šä¿¡` | `å¤–éƒ¨è®¿é—®å…¥å£` |
| ğŸŒ **åè®®æ”¯æŒ** | `TCP/UDP` | `HTTP/HTTPS` |
| ğŸ“‹ **è·¯ç”±èƒ½åŠ›** | `ç®€å•ç«¯å£è½¬å‘` | `åŸºäºåŸŸå/è·¯å¾„çš„å¤æ‚è·¯ç”±` |
| ğŸ”’ **SSLæ”¯æŒ** | `ä¸ç›´æ¥æ”¯æŒ` | `å†…ç½®SSLç»ˆæ­¢` |
| ğŸ’° **æˆæœ¬** | `æ¯ä¸ªServiceä¸€ä¸ªè´Ÿè½½å‡è¡¡å™¨` | `å¤šä¸ªServiceå…±äº«ä¸€ä¸ªå…¥å£` |

### 1.3 å¸¸è§Ingressæ§åˆ¶å™¨å¯¹æ¯”


**ğŸ”„ é€‰æ‹©æŒ‡å—**
```
NGINX Ingressï¼š
âœ… æœ€æµè¡Œï¼Œç¤¾åŒºæ´»è·ƒï¼ŒåŠŸèƒ½å…¨é¢
âœ… é…ç½®ç®€å•ï¼Œæ–‡æ¡£ä¸°å¯Œ
âŒ é…ç½®é‡æ–°åŠ è½½è¾ƒæ…¢

Traefikï¼š
âœ… è‡ªåŠ¨æœåŠ¡å‘ç°ï¼Œé…ç½®ç®€å•
âœ… ç°ä»£åŒ–UIç•Œé¢ï¼Œå®æ—¶é…ç½®
âŒ å­¦ä¹ æ›²çº¿ç›¸å¯¹é™¡å³­

Istio Gatewayï¼š
âœ… æœåŠ¡ç½‘æ ¼åŠŸèƒ½å¼ºå¤§
âœ… é«˜çº§æµé‡ç®¡ç†èƒ½åŠ›
âŒ å¤æ‚åº¦é«˜ï¼Œèµ„æºæ¶ˆè€—å¤§

Ambassadorï¼š
âœ… å¼€å‘è€…å‹å¥½ï¼ŒAPIä¼˜å…ˆ
âœ… ä¸°å¯Œçš„è¿‡æ»¤å™¨å’Œæ’ä»¶
âŒ å•†ä¸šç‰ˆåŠŸèƒ½é™åˆ¶

HAProxyï¼š
âœ… æ€§èƒ½æä½³ï¼Œä¹…ç»è€ƒéªŒ
âœ… é«˜çº§è´Ÿè½½å‡è¡¡ç®—æ³•
âŒ é…ç½®ç›¸å¯¹å¤æ‚
```

---

## 2. ğŸ”§ NGINX Ingressæ§åˆ¶å™¨é…ç½®


### 2.1 åŸºç¡€å®‰è£…å’Œé…ç½®


**ğŸš€ å¿«é€Ÿå®‰è£…**
```yaml
# nginx-ingress-controller.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: nginx-ingress-controller
  namespace: ingress-nginx
spec:
  replicas: 2
  selector:
    matchLabels:
      app: nginx-ingress-controller
  template:
    metadata:
      labels:
        app: nginx-ingress-controller
    spec:
      containers:
      - name: nginx-ingress-controller
        image: k8s.gcr.io/ingress-nginx/controller:v1.5.1
        args:
          - /nginx-ingress-controller
          - --configmap=$(POD_NAMESPACE)/nginx-configuration
        env:
        - name: POD_NAMESPACE
          valueFrom:
            fieldRef:
              fieldPath: metadata.namespace
```

### 2.2 æ ¸å¿ƒConfigMapé…ç½®è¯¦è§£


**ğŸ“‹ nginx-configuration ConfigMap**
```yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: nginx-configuration
  namespace: ingress-nginx
data:
  # ğŸ”’ SSLç›¸å…³é…ç½®
  ssl-redirect: "true"                    # è‡ªåŠ¨HTTPè·³è½¬HTTPS
  force-ssl-redirect: "true"              # å¼ºåˆ¶SSLé‡å®šå‘
  ssl-protocols: "TLSv1.2 TLSv1.3"       # æ”¯æŒçš„TLSç‰ˆæœ¬
  
  # ğŸ“¦ è¯·æ±‚ä½“å¤§å°é™åˆ¶
  proxy-body-size: "100m"                # ä»£ç†è¯·æ±‚ä½“æœ€å¤§100MB
  client-max-body-size: "100m"           # å®¢æˆ·ç«¯æœ€å¤§è¯·æ±‚ä½“100MB
  
  # â±ï¸ è¶…æ—¶é…ç½®
  proxy-connect-timeout: "10"            # è¿æ¥è¶…æ—¶10ç§’
  proxy-read-timeout: "300"              # è¯»å–è¶…æ—¶5åˆ†é’Ÿ
  proxy-send-timeout: "300"              # å‘é€è¶…æ—¶5åˆ†é’Ÿ
  
  # ğŸ” å®‰å…¨å’Œæ—¥å¿—é…ç½®
  server-tokens: "false"                 # éšè—Nginxç‰ˆæœ¬ä¿¡æ¯
  access-log-path: "/var/log/nginx/access.log"  # è®¿é—®æ—¥å¿—è·¯å¾„
  error-log-path: "/var/log/nginx/error.log"    # é”™è¯¯æ—¥å¿—è·¯å¾„
  
  # ğŸš€ æ€§èƒ½ä¼˜åŒ–é…ç½®
  worker-processes: "auto"               # è‡ªåŠ¨æ£€æµ‹CPUæ ¸å¿ƒæ•°
  max-worker-connections: "16384"        # æ¯ä¸ªworkeræœ€å¤§è¿æ¥æ•°
  keepalive-timeout: "75"                # Keep-aliveè¶…æ—¶æ—¶é—´
```

> ğŸ’¡ **é…ç½®è¯´æ˜**ï¼šæ¯ä¸ªé…ç½®é¡¹éƒ½ç›´æ¥å½±å“Nginxçš„è¡Œä¸ºï¼Œä¿®æ”¹åéœ€è¦é‡æ–°åŠ è½½é…ç½®æ‰èƒ½ç”Ÿæ•ˆ

### 2.3 Ingressèµ„æºé…ç½®ç¤ºä¾‹


**ğŸŒŸ åŸºç¡€Ingressé…ç½®**
```yaml
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: example-ingress
  annotations:
    # æŒ‡å®šä½¿ç”¨NGINXæ§åˆ¶å™¨
    kubernetes.io/ingress.class: "nginx"
    
    # ğŸ”’ SSLé…ç½®æ³¨è§£
    cert-manager.io/cluster-issuer: "letsencrypt-prod"
    nginx.ingress.kubernetes.io/ssl-redirect: "true"
    
    # ğŸ“¦ è¯·æ±‚ä½“å¤§å°é™åˆ¶
    nginx.ingress.kubernetes.io/proxy-body-size: "50m"
    
    # â±ï¸ è¶…æ—¶è®¾ç½®
    nginx.ingress.kubernetes.io/proxy-connect-timeout: "300"
    nginx.ingress.kubernetes.io/proxy-read-timeout: "300"
    
spec:
  tls:
  - hosts:
    - api.example.com
    secretName: api-example-tls
  rules:
  - host: api.example.com
    http:
      paths:
      - path: /api/v1
        pathType: Prefix
        backend:
          service:
            name: api-service
            port:
              number: 80
      - path: /web
        pathType: Prefix
        backend:
          service:
            name: web-service
            port:
              number: 3000
```

---

## 3. ğŸ­ Traefik Ingressæ§åˆ¶å™¨é…ç½®


### 3.1 TraefikåŸºç¡€æ¦‚å¿µ


**ğŸ”¸ Traefikçš„ç‰¹ç‚¹**
```
ä¼ ç»Ÿåå‘ä»£ç†ï¼š           Traefikæ™ºèƒ½è·¯ç”±ï¼š
é…ç½®æ–‡ä»¶ â†’ é‡å¯          è‡ªåŠ¨å‘ç° â†’ å®æ—¶æ›´æ–°
   â†“                      â†“
æ‰‹åŠ¨ç»´æŠ¤                 é›¶åœæœºæ—¶é—´
```

**ğŸ’« æ ¸å¿ƒä¼˜åŠ¿**
- **è‡ªåŠ¨æœåŠ¡å‘ç°**ï¼šè‡ªåŠ¨æ£€æµ‹K8sæœåŠ¡å˜åŒ–
- **å®æ—¶é…ç½®æ›´æ–°**ï¼šæ— éœ€é‡å¯å³å¯åº”ç”¨æ–°é…ç½®
- **ç°ä»£åŒ–ä»ªè¡¨æ¿**ï¼šå¯è§†åŒ–ç®¡ç†ç•Œé¢
- **ä¸­é—´ä»¶ç³»ç»Ÿ**ï¼šæ¨¡å—åŒ–åŠŸèƒ½æ‰©å±•

### 3.2 Traefikéƒ¨ç½²é…ç½®


**ğŸš€ éƒ¨ç½²æ–‡ä»¶**
```yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: traefik-controller
  namespace: traefik-system
spec:
  replicas: 2
  selector:
    matchLabels:
      app: traefik-controller
  template:
    metadata:
      labels:
        app: traefik-controller
    spec:
      containers:
      - name: traefik
        image: traefik:v2.9
        args:
          - --api.dashboard=true              # å¯ç”¨ä»ªè¡¨æ¿
          - --providers.kubernetesIngress=true # K8s Ingressæ”¯æŒ
          - --entrypoints.web.address=:80     # HTTPå…¥å£
          - --entrypoints.websecure.address=:443 # HTTPSå…¥å£
          - --certificatesresolvers.letsencrypt.acme.email=admin@example.com
        ports:
        - containerPort: 80
        - containerPort: 443
        - containerPort: 8080  # ä»ªè¡¨æ¿ç«¯å£
```

### 3.3 Traefikè·¯ç”±é…ç½®


**ğŸ“‹ IngressRouteèµ„æº**
```yaml
apiVersion: traefik.containo.us/v1alpha1
kind: IngressRoute
metadata:
  name: api-route
  namespace: default
spec:
  entryPoints:
    - websecure  # HTTPSå…¥å£
  routes:
  - match: Host(`api.example.com`) && PathPrefix(`/api`)
    kind: Rule
    services:
    - name: api-service
      port: 80
    middlewares:
    - name: api-auth        # è®¤è¯ä¸­é—´ä»¶
    - name: rate-limit      # é™æµä¸­é—´ä»¶
  tls:
    certResolver: letsencrypt # è‡ªåŠ¨SSLè¯ä¹¦
```

**ğŸ”§ ä¸­é—´ä»¶é…ç½®ç¤ºä¾‹**
```yaml
# é™æµä¸­é—´ä»¶
apiVersion: traefik.containo.us/v1alpha1
kind: Middleware
metadata:
  name: rate-limit
spec:
  rateLimit:
    burst: 100              # çªå‘è¯·æ±‚æ•°
    average: 50             # å¹³å‡æ¯ç§’è¯·æ±‚æ•°

---
# è®¤è¯ä¸­é—´ä»¶
apiVersion: traefik.containo.us/v1alpha1
kind: Middleware
metadata:
  name: api-auth
spec:
  basicAuth:
    users:
    - "admin:$2y$10$..."    # åŠ å¯†å¯†ç 
```

---

## 4. ğŸŒŠ Istioç½‘å…³é…ç½®


### 4.1 Istio Gatewayæ¦‚å¿µ


**ğŸ”¸ æœåŠ¡ç½‘æ ¼æ¶æ„**
```
ä¼ ç»Ÿæ¶æ„ï¼š                    Istioæ¶æ„ï¼š
APP â†’ Ingress â†’ Service       APP â†’ Sidecar â†’ Gateway
     â†“                              â†“
  å•ç‚¹é…ç½®                      åˆ†å¸ƒå¼æ²»ç†
```

**ğŸ’¡ Gateway vs VirtualService**
- **Gateway**ï¼šå®šä¹‰è¿›å…¥ç½‘æ ¼çš„å…¥å£ç‚¹
- **VirtualService**ï¼šå®šä¹‰æµé‡è·¯ç”±è§„åˆ™
- **DestinationRule**ï¼šå®šä¹‰ç›®æ ‡æœåŠ¡çš„ç­–ç•¥

### 4.2 Gatewayé…ç½®


**ğŸŒŸ åŸºç¡€Gatewayé…ç½®**
```yaml
apiVersion: networking.istio.io/v1beta1
kind: Gateway
metadata:
  name: example-gateway
  namespace: istio-system
spec:
  selector:
    istio: ingressgateway    # ä½¿ç”¨é»˜è®¤ingress gateway
  servers:
  - port:
      number: 80
      name: http
      protocol: HTTP
    hosts:
    - api.example.com
    # ğŸ”’ HTTPé‡å®šå‘åˆ°HTTPS
    tls:
      httpsRedirect: true
      
  - port:
      number: 443
      name: https
      protocol: HTTPS
    hosts:
    - api.example.com
    tls:
      mode: SIMPLE
      credentialName: api-example-tls  # TLSè¯ä¹¦
```

### 4.3 VirtualServiceè·¯ç”±é…ç½®


**ğŸ“‹ é«˜çº§è·¯ç”±è§„åˆ™**
```yaml
apiVersion: networking.istio.io/v1beta1
kind: VirtualService
metadata:
  name: api-routing
spec:
  hosts:
  - api.example.com
  gateways:
  - example-gateway
  http:
  # ğŸ¯ åŸºäºè·¯å¾„çš„è·¯ç”±
  - match:
    - uri:
        prefix: /api/v1
    route:
    - destination:
        host: api-v1-service
        port:
          number: 80
      weight: 90    # 90%æµé‡åˆ°v1
    - destination:
        host: api-v2-service
        port:
          number: 80
      weight: 10    # 10%æµé‡åˆ°v2ï¼ˆé‡‘ä¸é›€å‘å¸ƒï¼‰
    
    # â±ï¸ è¶…æ—¶å’Œé‡è¯•é…ç½®
    timeout: 30s
    retries:
      attempts: 3
      perTryTimeout: 10s
      
  # ğŸ” åŸºäºè¯·æ±‚å¤´çš„è·¯ç”±
  - match:
    - headers:
        version:
          exact: "beta"
    route:
    - destination:
        host: api-beta-service
```

---

## 5. ğŸª Ambassadoré…ç½®


### 5.1 AmbassadoråŸºç¡€æ¦‚å¿µ


**ğŸ”¸ Ambassadorç‰¹ç‚¹**
```
å¼€å‘è€…ä¼˜å…ˆè®¾è®¡ï¼š
- å£°æ˜å¼é…ç½®
- APIä¼˜å…ˆæ¶æ„
- ä¸°å¯Œçš„è¿‡æ»¤å™¨ç³»ç»Ÿ
- å®æ—¶é…ç½®æ›´æ–°
```

### 5.2 Ambassador Hosté…ç½®


**ğŸŒŸ Hostèµ„æºé…ç½®**
```yaml
apiVersion: getambassador.io/v3alpha1
kind: Host
metadata:
  name: example-host
spec:
  hostname: api.example.com
  acmeProvider:
    authority: https://acme-v02.api.letsencrypt.org/directory
    email: admin@example.com
  tlsSecret:
    name: api-example-tls
  requestPolicy:
    insecure:
      action: Redirect    # HTTPé‡å®šå‘åˆ°HTTPS
```

### 5.3 Ambassador Mappingé…ç½®


**ğŸ“‹ è·¯ç”±æ˜ å°„é…ç½®**
```yaml
apiVersion: getambassador.io/v3alpha1
kind: Mapping
metadata:
  name: api-mapping
spec:
  prefix: /api/
  service: api-service:80
  host: api.example.com
  
  # â±ï¸ è¶…æ—¶é…ç½®
  timeout_ms: 30000
  connect_timeout_ms: 10000
  
  # ğŸ”’ è®¤è¯é…ç½®
  filters:
  - name: "auth-filter"
    arguments:
      auth_service: "auth-service"
  
  # ğŸ“Š è´Ÿè½½å‡è¡¡é…ç½®
  load_balancer:
    policy: round_robin
```

---

## 6. âš–ï¸ HAProxy Ingressé…ç½®


### 6.1 HAProxyç‰¹æ€§


**ğŸ’ª æ€§èƒ½ä¼˜åŠ¿**
```
HAProxy vs å…¶ä»–ï¼š
- æä½å»¶è¿Ÿï¼ˆæ¯«ç§’çº§ï¼‰
- é«˜å¹¶å‘å¤„ç†èƒ½åŠ›
- ä¹…ç»è€ƒéªŒçš„ç¨³å®šæ€§
- ä¸°å¯Œçš„è´Ÿè½½å‡è¡¡ç®—æ³•
```

### 6.2 HAProxy ConfigMapé…ç½®


**ğŸ”§ å…¨å±€é…ç½®**
```yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: haproxy-configmap
  namespace: haproxy-controller
data:
  # ğŸš€ æ€§èƒ½è°ƒä¼˜
  global-maxconn: "100000"              # æœ€å¤§è¿æ¥æ•°
  timeout-connect: "10s"                # è¿æ¥è¶…æ—¶
  timeout-client: "300s"                # å®¢æˆ·ç«¯è¶…æ—¶
  timeout-server: "300s"                # æœåŠ¡å™¨è¶…æ—¶
  
  # ğŸ”’ SSLé…ç½®
  ssl-redirect: "true"                  # SSLé‡å®šå‘
  ssl-options: "no-sslv3 no-tlsv10 no-tlsv11"  # ç¦ç”¨è€ç‰ˆæœ¬SSL/TLS
  
  # ğŸ“‹ è´Ÿè½½å‡è¡¡ç®—æ³•
  balance-algorithm: "roundrobin"       # è½®è¯¢ç®—æ³•
  # å¯é€‰ï¼šleastconn, source, uriç­‰
```

### 6.3 HAProxy Ingressèµ„æº


**ğŸ“‹ åŸºç¡€Ingressé…ç½®**
```yaml
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: haproxy-ingress
  annotations:
    kubernetes.io/ingress.class: "haproxy"
    
    # ğŸ”’ SSLé…ç½®
    ingress.kubernetes.io/ssl-redirect: "true"
    
    # âš–ï¸ è´Ÿè½½å‡è¡¡é…ç½®
    haproxy.org/balance-algorithm: "leastconn"  # æœ€å°‘è¿æ¥ç®—æ³•
    haproxy.org/maxconn-server: "1000"         # æ¯ä¸ªæœåŠ¡å™¨æœ€å¤§è¿æ¥
    
    # ğŸ“Š å¥åº·æ£€æŸ¥
    haproxy.org/check: "true"
    haproxy.org/check-interval: "10s"
    
spec:
  tls:
  - hosts:
    - api.example.com
    secretName: api-tls-secret
  rules:
  - host: api.example.com
    http:
      paths:
      - path: /
        pathType: Prefix
        backend:
          service:
            name: api-service
            port:
              number: 80
```

---

## 7. ğŸ“¦ ConfigMapé…ç½®æ˜ å°„è¯¦è§£


### 7.1 ConfigMapåŸºç¡€æ¦‚å¿µ


**ğŸ”¸ ä»€ä¹ˆæ˜¯ConfigMap**
```
ç®€å•ç†è§£ï¼š
ConfigMap = é…ç½®æ–‡ä»¶çš„K8sç‰ˆæœ¬
- å­˜å‚¨éæœºå¯†çš„é…ç½®æ•°æ®
- ä»¥é”®å€¼å¯¹å½¢å¼å­˜å‚¨
- å¯ä»¥è¢«Podå¼•ç”¨å’Œä½¿ç”¨
```

### 7.2 ConfigMapåˆ›å»ºæ–¹å¼


**ğŸ“ ä¸åŒåˆ›å»ºæ–¹å¼å¯¹æ¯”**

| åˆ›å»ºæ–¹å¼ | **é€‚ç”¨åœºæ™¯** | **ä¼˜ç¼ºç‚¹** |
|---------|-------------|-----------|
| `YAMLæ–‡ä»¶` | `å¤æ‚é…ç½®ï¼Œç‰ˆæœ¬æ§åˆ¶` | `âœ…ç›´è§‚æ˜“ç»´æŠ¤ âŒéœ€è¦ç¼–å†™YAML` |
| `kubectl create` | `ç®€å•é…ç½®ï¼Œå¿«é€Ÿåˆ›å»º` | `âœ…å¿«é€Ÿä¾¿æ· âŒä¸æ˜“ç‰ˆæœ¬æ§åˆ¶` |
| `æ–‡ä»¶å¯¼å…¥` | `ç°æœ‰é…ç½®æ–‡ä»¶` | `âœ…ç›´æ¥å¤ç”¨ âŒéœ€è¦æ–‡ä»¶ç®¡ç†` |

**ğŸ’» åˆ›å»ºç¤ºä¾‹**
```bash
# ä»å­—é¢å€¼åˆ›å»º
kubectl create configmap nginx-config \
  --from-literal=proxy-body-size=100m \
  --from-literal=ssl-redirect=true

# ä»æ–‡ä»¶åˆ›å»º
kubectl create configmap app-config \
  --from-file=application.properties

# ä»ç›®å½•åˆ›å»º
kubectl create configmap multi-config \
  --from-file=config-directory/
```

### 7.3 ConfigMapåœ¨Ingressä¸­çš„åº”ç”¨


**ğŸ”§ å®Œæ•´é…ç½®ç¤ºä¾‹**
```yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: ingress-nginx-config
  namespace: ingress-nginx
data:
  # ğŸ”’ SSL/TLSé…ç½®åŒºåŸŸ
  ssl-redirect: "true"                          # å¯ç”¨SSLé‡å®šå‘
  force-ssl-redirect: "true"                    # å¼ºåˆ¶SSLé‡å®šå‘
  ssl-protocols: "TLSv1.2 TLSv1.3"            # æ”¯æŒçš„TLSç‰ˆæœ¬
  ssl-ciphers: "ECDHE-ECDSA-AES128-GCM-SHA256" # SSLåŠ å¯†å¥—ä»¶
  
  # ğŸ“¦ è¯·æ±‚å¤„ç†é…ç½®åŒºåŸŸ  
  proxy-body-size: "100m"                      # ä»£ç†è¯·æ±‚ä½“æœ€å¤§å¤§å°
  client-max-body-size: "100m"                 # å®¢æˆ·ç«¯æœ€å¤§è¯·æ±‚ä½“
  proxy-buffer-size: "4k"                      # ä»£ç†ç¼“å†²åŒºå¤§å°
  
  # â±ï¸ è¶…æ—¶é…ç½®åŒºåŸŸ
  proxy-connect-timeout: "60"                  # åç«¯è¿æ¥è¶…æ—¶(ç§’)
  proxy-read-timeout: "300"                    # åç«¯è¯»å–è¶…æ—¶(ç§’) 
  proxy-send-timeout: "300"                    # åç«¯å‘é€è¶…æ—¶(ç§’)
  client-header-timeout: "60"                  # å®¢æˆ·ç«¯å¤´éƒ¨è¶…æ—¶(ç§’)
  client-body-timeout: "60"                    # å®¢æˆ·ç«¯è¯·æ±‚ä½“è¶…æ—¶(ç§’)
  
  # ğŸ” æ—¥å¿—å’Œç›‘æ§é…ç½®åŒºåŸŸ
  access-log-path: "/var/log/nginx/access.log"  # è®¿é—®æ—¥å¿—è·¯å¾„
  error-log-path: "/var/log/nginx/error.log"    # é”™è¯¯æ—¥å¿—è·¯å¾„
  log-format-upstream: |                        # è‡ªå®šä¹‰æ—¥å¿—æ ¼å¼
    $remote_addr - $remote_user [$time_local] "$request" 
    $status $body_bytes_sent "$http_referer" "$http_user_agent"
    
  # ğŸ›¡ï¸ å®‰å…¨é…ç½®åŒºåŸŸ
  server-tokens: "false"                       # éšè—Nginxç‰ˆæœ¬
  hide-headers: "Server,X-Powered-By"          # éšè—æ•æ„Ÿå¤´ä¿¡æ¯
  add-headers: "X-Frame-Options:DENY,X-Content-Type-Options:nosniff"
  
  # ğŸš€ æ€§èƒ½ä¼˜åŒ–é…ç½®åŒºåŸŸ
  worker-processes: "auto"                     # å·¥ä½œè¿›ç¨‹æ•°(è‡ªåŠ¨æ£€æµ‹)
  max-worker-connections: "16384"              # æ¯ä¸ªå·¥ä½œè¿›ç¨‹æœ€å¤§è¿æ¥æ•°
  worker-cpu-affinity: "auto"                 # CPUäº²å’Œæ€§
  keepalive-timeout: "75"                     # Keep-aliveè¿æ¥è¶…æ—¶
  keepalive-requests: "1000"                  # Keep-aliveæœ€å¤§è¯·æ±‚æ•°
```

> ğŸ”¥ **é‡è¦æé†’**ï¼šä¿®æ”¹ConfigMapåï¼Œéœ€è¦é‡æ–°å¯åŠ¨Ingressæ§åˆ¶å™¨Podæ‰èƒ½ç”Ÿæ•ˆï¼Œæˆ–è€…ç­‰å¾…æ§åˆ¶å™¨è‡ªåŠ¨é‡è½½é…ç½®

---

## 8. ğŸ”’ SSLå’Œè¶…æ—¶é…ç½®è¯¦è§£


### 8.1 SSLé‡å®šå‘é…ç½®æ·±åº¦è§£æ


**ğŸ”¸ ssl-redirect vs force-ssl-redirectåŒºåˆ«**

| é…ç½®é¡¹ | **ä½œç”¨æœºåˆ¶** | **é€‚ç”¨åœºæ™¯** | **å®‰å…¨çº§åˆ«** |
|-------|-------------|-------------|-------------|
| `ssl-redirect: "true"` | `å¸¸è§„HTTPâ†’HTTPSè·³è½¬` | `ä¸€èˆ¬ç½‘ç«™ï¼Œå…¼å®¹æ€§ä¼˜å…ˆ` | `ğŸŸ¡ ä¸­ç­‰` |
| `force-ssl-redirect: "true"` | `å¼ºåˆ¶æ‰€æœ‰è¯·æ±‚èµ°HTTPS` | `é«˜å®‰å…¨è¦æ±‚ï¼Œå¦‚æ”¯ä»˜ç½‘ç«™` | `ğŸ”´ é«˜` |

**ğŸ’» é…ç½®ç¤ºä¾‹å¯¹æ¯”**
```yaml
# ğŸŸ¡ æ™®é€šSSLé‡å®šå‘é…ç½®
annotations:
  nginx.ingress.kubernetes.io/ssl-redirect: "true"
  # å…è®¸HTTPè®¿é—®ï¼Œä½†ä¼š301è·³è½¬åˆ°HTTPS

# ğŸ”´ å¼ºåˆ¶SSLé‡å®šå‘é…ç½®  
annotations:
  nginx.ingress.kubernetes.io/force-ssl-redirect: "true"
  # æ‹’ç»æ‰€æœ‰HTTPè¯·æ±‚ï¼Œå¼ºåˆ¶HTTPS
```

### 8.2 è¯·æ±‚ä½“å¤§å°é™åˆ¶è¯¦è§£


**ğŸ“¦ proxy-body-size vs client-max-body-size**

```
è¯·æ±‚æµç¨‹ï¼š
å®¢æˆ·ç«¯ â†’ [client-max-body-sizeæ£€æŸ¥] â†’ Nginx â†’ [proxy-body-sizeæ£€æŸ¥] â†’ åç«¯æœåŠ¡

ä¸¤ä¸ªé…ç½®çš„ä½œç”¨ç‚¹ï¼š
- client-max-body-sizeï¼šå®¢æˆ·ç«¯åˆ°Nginxçš„é™åˆ¶
- proxy-body-sizeï¼šNginxåˆ°åç«¯æœåŠ¡çš„é™åˆ¶
```

**ğŸ“‹ å®é™…åº”ç”¨åœºæ™¯**
```yaml
# ğŸ“ æ–‡ä»¶ä¸Šä¼ æœåŠ¡é…ç½®
annotations:
  nginx.ingress.kubernetes.io/proxy-body-size: "500m"      # æ”¯æŒ500MBæ–‡ä»¶ä¸Šä¼ 
  nginx.ingress.kubernetes.io/client-max-body-size: "500m"  # å®¢æˆ·ç«¯500MBé™åˆ¶

# ğŸ“ APIæœåŠ¡é…ç½®  
annotations:
  nginx.ingress.kubernetes.io/proxy-body-size: "10m"       # APIè¯·æ±‚10MBé™åˆ¶
  nginx.ingress.kubernetes.io/client-max-body-size: "10m"   # é˜²æ­¢å¤§è¯·æ±‚æ”»å‡»

# ğŸ–¼ï¸ å›¾ç‰‡å¤„ç†æœåŠ¡
annotations:
  nginx.ingress.kubernetes.io/proxy-body-size: "100m"      # æ”¯æŒé«˜æ¸…å›¾ç‰‡
  nginx.ingress.kubernetes.io/client-max-body-size: "100m"  # 100MBå›¾ç‰‡é™åˆ¶
```

### 8.3 è¶…æ—¶é…ç½®æœ€ä½³å®è·µ


**â±ï¸ ä¸‰ç§è¶…æ—¶é…ç½®çš„ä½œç”¨**

```
è¿æ¥å»ºç«‹é˜¶æ®µï¼š
[å®¢æˆ·ç«¯] --è¿æ¥--> [Nginx] --è¿æ¥--> [åç«¯]
                     â†‘           â†‘
              client-timeout  proxy-connect-timeout

æ•°æ®ä¼ è¾“é˜¶æ®µï¼š  
[å®¢æˆ·ç«¯] <--è¯»å–-- [Nginx] <--è¯»å–-- [åç«¯]
           â†‘              â†‘
    client-timeout  proxy-read-timeout

[å®¢æˆ·ç«¯] --å‘é€--> [Nginx] --å‘é€--> [åç«¯]  
                     â†‘           â†‘
              client-timeout  proxy-send-timeout
```

**ğŸ¯ ä¸åŒä¸šåŠ¡åœºæ™¯çš„è¶…æ—¶é…ç½®**
```yaml
# ğŸš€ å¿«é€ŸAPIæœåŠ¡ï¼ˆå¦‚ç”¨æˆ·æŸ¥è¯¢ï¼‰
annotations:
  nginx.ingress.kubernetes.io/proxy-connect-timeout: "5"    # 5ç§’è¿æ¥è¶…æ—¶
  nginx.ingress.kubernetes.io/proxy-read-timeout: "30"      # 30ç§’è¯»å–è¶…æ—¶
  nginx.ingress.kubernetes.io/proxy-send-timeout: "30"      # 30ç§’å‘é€è¶…æ—¶

# ğŸ“Š æ•°æ®å¤„ç†æœåŠ¡ï¼ˆå¦‚æŠ¥è¡¨ç”Ÿæˆï¼‰
annotations:
  nginx.ingress.kubernetes.io/proxy-connect-timeout: "10"   # 10ç§’è¿æ¥è¶…æ—¶
  nginx.ingress.kubernetes.io/proxy-read-timeout: "300"     # 5åˆ†é’Ÿè¯»å–è¶…æ—¶
  nginx.ingress.kubernetes.io/proxy-send-timeout: "300"     # 5åˆ†é’Ÿå‘é€è¶…æ—¶

# ğŸ“ æ–‡ä»¶ä¸Šä¼ æœåŠ¡
annotations:
  nginx.ingress.kubernetes.io/proxy-connect-timeout: "60"   # 60ç§’è¿æ¥è¶…æ—¶
  nginx.ingress.kubernetes.io/proxy-read-timeout: "1800"    # 30åˆ†é’Ÿè¯»å–è¶…æ—¶
  nginx.ingress.kubernetes.io/proxy-send-timeout: "1800"    # 30åˆ†é’Ÿå‘é€è¶…æ—¶
```

### 8.4 å®‰å…¨é…ç½®è¯¦è§£


**ğŸ›¡ï¸ server-tokensé…ç½®**
```yaml
# âŒ é»˜è®¤æƒ…å†µï¼ˆæš´éœ²ç‰ˆæœ¬ä¿¡æ¯ï¼‰
server-tokens: "true"
# HTTPå“åº”å¤´ï¼šServer: nginx/1.21.3

# âœ… å®‰å…¨é…ç½®ï¼ˆéšè—ç‰ˆæœ¬ä¿¡æ¯ï¼‰  
server-tokens: "false"
# HTTPå“åº”å¤´ï¼šServer: nginx
```

**ğŸ“ è®¿é—®æ—¥å¿—é…ç½®**
```yaml
# åŸºç¡€æ—¥å¿—é…ç½®
data:
  access-log-path: "/var/log/nginx/access.log"
  
  # ğŸ¯ è‡ªå®šä¹‰æ—¥å¿—æ ¼å¼ï¼ˆåŒ…å«æ›´å¤šè°ƒè¯•ä¿¡æ¯ï¼‰
  log-format-upstream: |
    $remote_addr - $remote_user [$time_local] "$request" 
    $status $body_bytes_sent "$http_referer" "$http_user_agent"
    rt=$request_time uct="$upstream_connect_time" 
    uht="$upstream_header_time" urt="$upstream_response_time"
```

---

## 9. ğŸ¯ ç”Ÿäº§ç¯å¢ƒæœ€ä½³å®è·µ


### 9.1 é«˜å¯ç”¨éƒ¨ç½²ç­–ç•¥


**ğŸ”„ å¤šå‰¯æœ¬éƒ¨ç½²**
```yaml
# Ingressæ§åˆ¶å™¨é«˜å¯ç”¨é…ç½®
apiVersion: apps/v1
kind: Deployment
metadata:
  name: nginx-ingress-controller
spec:
  replicas: 3  # ğŸ¯ è‡³å°‘3ä¸ªå‰¯æœ¬ä¿è¯é«˜å¯ç”¨
  strategy:
    type: RollingUpdate
    rollingUpdate:
      maxUnavailable: 1      # æ»šåŠ¨æ›´æ–°æ—¶æœ€å¤š1ä¸ªä¸å¯ç”¨
      maxSurge: 1            # æ»šåŠ¨æ›´æ–°æ—¶æœ€å¤šå¤š1ä¸ªPod
  template:
    spec:
      # ğŸ¯ Podåäº²å’Œæ€§ï¼Œç¡®ä¿åˆ†å¸ƒåœ¨ä¸åŒèŠ‚ç‚¹
      affinity:
        podAntiAffinity:
          requiredDuringSchedulingIgnoredDuringExecution:
          - labelSelector:
              matchExpressions:
              - key: app
                operator: In
                values:
                - nginx-ingress-controller
            topologyKey: kubernetes.io/hostname
```

### 9.2 ç›‘æ§å’Œæ—¥å¿—é…ç½®


**ğŸ“Š ç›‘æ§æŒ‡æ ‡é…ç½®**
```yaml
# å¯ç”¨Prometheusç›‘æ§
apiVersion: v1
kind: ConfigMap  
metadata:
  name: nginx-config
data:
  enable-vts-status: "true"           # å¯ç”¨VTSçŠ¶æ€é¡µ
  vts-status-zone-size: "10m"         # VTSçŠ¶æ€åŒºåŸŸå¤§å°
  
  # ğŸ“ˆ PrometheusæŒ‡æ ‡é…ç½®
  prometheus-metrics-enabled: "true"   # å¯ç”¨PrometheusæŒ‡æ ‡
  prometheus-metrics-port: "10254"     # æŒ‡æ ‡ç«¯å£
```

### 9.3 å®‰å…¨åŠ å›ºé…ç½®


**ğŸ”’ ç”Ÿäº§ç¯å¢ƒå®‰å…¨é…ç½®**
```yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: nginx-security-config
data:
  # ğŸ›¡ï¸ åŸºç¡€å®‰å…¨é…ç½®
  server-tokens: "false"                    # éšè—æœåŠ¡å™¨ç‰ˆæœ¬
  more-set-headers: |                       # æ·»åŠ å®‰å…¨å¤´
    X-Frame-Options: DENY
    X-Content-Type-Options: nosniff  
    X-XSS-Protection: 1; mode=block
    Strict-Transport-Security: max-age=31536000; includeSubDomains
    
  # ğŸš« é™åˆ¶å±é™©æ–¹æ³•
  allowed-methods: "GET, POST, PUT, DELETE, PATCH, OPTIONS"
  
  # ğŸ” SSLå®‰å…¨é…ç½®
  ssl-protocols: "TLSv1.2 TLSv1.3"         # åªå…è®¸å®‰å…¨çš„TLSç‰ˆæœ¬
  ssl-ciphers: |                            # å®‰å…¨çš„åŠ å¯†å¥—ä»¶
    ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:
    ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384
    
  # ğŸ“ è¯¦ç»†çš„è®¿é—®æ—¥å¿—
  access-log-path: "/var/log/nginx/access.log"
  error-log-path: "/var/log/nginx/error.log"
```

### 9.4 æ€§èƒ½è°ƒä¼˜é…ç½®


**âš¡ é«˜æ€§èƒ½é…ç½®**
```yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: nginx-performance-config
data:
  # ğŸš€ å·¥ä½œè¿›ç¨‹é…ç½®
  worker-processes: "auto"                  # è‡ªåŠ¨æ£€æµ‹CPUæ ¸å¿ƒæ•°
  worker-cpu-affinity: "auto"               # CPUäº²å’Œæ€§ç»‘å®š
  worker-rlimit-nofile: "65535"            # æ–‡ä»¶æè¿°ç¬¦é™åˆ¶
  
  # ğŸ”„ è¿æ¥é…ç½®
  max-worker-connections: "16384"           # æ¯ä¸ªworkeræœ€å¤§è¿æ¥
  multi-accept: "on"                        # ä¸€æ¬¡æ¥æ”¶å¤šä¸ªè¿æ¥
  use-epoll: "true"                        # ä½¿ç”¨epolläº‹ä»¶æ¨¡å‹
  
  # âš¡ ç¼“å­˜å’Œå‹ç¼©
  gzip: "on"                               # å¯ç”¨gzipå‹ç¼©
  gzip-level: "6"                          # å‹ç¼©çº§åˆ«
  gzip-types: |                            # å‹ç¼©æ–‡ä»¶ç±»å‹
    text/plain
    text/css
    application/json
    application/javascript
    text/xml
    application/xml
    text/javascript
    
  # ğŸ“¦ ç¼“å†²åŒºé…ç½®
  proxy-buffering: "on"                    # å¯ç”¨ä»£ç†ç¼“å†²
  proxy-buffer-size: "4k"                  # ä»£ç†ç¼“å†²åŒºå¤§å°
  proxy-buffers: "8 4k"                    # ä»£ç†ç¼“å†²åŒºæ•°é‡å’Œå¤§å°
  
  # â±ï¸ ä¼˜åŒ–çš„è¶…æ—¶é…ç½®
  keepalive-timeout: "75"                  # Keep-aliveè¶…æ—¶
  keepalive-requests: "1000"               # Keep-aliveæœ€å¤§è¯·æ±‚æ•°
  client-header-timeout: "20"              # å®¢æˆ·ç«¯å¤´è¶…æ—¶
  client-body-timeout: "20"                # å®¢æˆ·ç«¯ä½“è¶…æ—¶
```

---

## 10. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 10.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ Ingressæ§åˆ¶å™¨ï¼šK8sé›†ç¾¤çš„"å‰å°æ¥å¾…å‘˜"ï¼Œè´Ÿè´£å¤–éƒ¨æµé‡å…¥å£
ğŸ”¸ ConfigMapï¼šé…ç½®æ–‡ä»¶çš„K8sç‰ˆæœ¬ï¼Œå­˜å‚¨éæœºå¯†é…ç½®æ•°æ®  
ğŸ”¸ SSLé‡å®šå‘ï¼šè‡ªåŠ¨å°†HTTPè¯·æ±‚è·³è½¬åˆ°å®‰å…¨çš„HTTPS
ğŸ”¸ è¶…æ—¶é…ç½®ï¼šæ§åˆ¶è¿æ¥ã€è¯»å–ã€å‘é€å„é˜¶æ®µçš„æ—¶é—´é™åˆ¶
ğŸ”¸ è¯·æ±‚ä½“é™åˆ¶ï¼šé˜²æ­¢å¤§æ–‡ä»¶æ”»å‡»ï¼Œæ§åˆ¶ä¸Šä¼ æ–‡ä»¶å¤§å°
ğŸ”¸ è´Ÿè½½å‡è¡¡ï¼šåœ¨å¤šä¸ªåç«¯Podä¹‹é—´æ™ºèƒ½åˆ†å‘è¯·æ±‚
```

### 10.2 å…³é”®é…ç½®å‚æ•°ç†è§£


**ğŸ”¹ SSLå’Œå®‰å…¨é…ç½®**
```
ssl-redirectï¼šæ™®é€šHTTPåˆ°HTTPSçš„å‹å¥½è·³è½¬
force-ssl-redirectï¼šå¼ºåˆ¶HTTPSï¼Œæ‹’ç»HTTPè®¿é—®
server-tokensï¼šæ§åˆ¶æ˜¯å¦æš´éœ²æœåŠ¡å™¨ç‰ˆæœ¬ä¿¡æ¯
access-log-pathï¼šè®°å½•è®¿é—®æ—¥å¿—ï¼Œç”¨äºç›‘æ§å’Œè°ƒè¯•
```

**ğŸ”¹ è¯·æ±‚å¤„ç†é…ç½®**
```
proxy-body-sizeï¼šæ§åˆ¶Nginxåˆ°åç«¯æœåŠ¡çš„è¯·æ±‚ä½“å¤§å°
client-max-body-sizeï¼šæ§åˆ¶å®¢æˆ·ç«¯åˆ°Nginxçš„è¯·æ±‚ä½“å¤§å°
proxy-connect-timeoutï¼šåç«¯æœåŠ¡è¿æ¥å»ºç«‹è¶…æ—¶æ—¶é—´
proxy-read-timeoutï¼šä»åç«¯æœåŠ¡è¯»å–å“åº”çš„è¶…æ—¶æ—¶é—´
proxy-send-timeoutï¼šå‘åç«¯æœåŠ¡å‘é€è¯·æ±‚çš„è¶…æ—¶æ—¶é—´
```

### 10.3 ä¸åŒIngressæ§åˆ¶å™¨é€‰æ‹©æŒ‡å—


| æ§åˆ¶å™¨ | **æœ€é€‚åˆåœºæ™¯** | **å…³é”®ä¼˜åŠ¿** | **æ³¨æ„äº‹é¡¹** |
|--------|---------------|-------------|-------------|
| ğŸ”§ **NGINX** | `é€šç”¨Webåº”ç”¨ï¼Œä¸­å°å‹é›†ç¾¤` | `ç¤¾åŒºæ´»è·ƒï¼Œé…ç½®ç®€å•ï¼Œæ–‡æ¡£ä¸°å¯Œ` | `é…ç½®å˜æ›´éœ€é‡è½½` |
| ğŸ­ **Traefik** | `å¾®æœåŠ¡æ¶æ„ï¼ŒåŠ¨æ€é…ç½®éœ€æ±‚` | `è‡ªåŠ¨å‘ç°ï¼Œå®æ—¶æ›´æ–°ï¼Œç°ä»£UI` | `å­¦ä¹ æˆæœ¬è¾ƒé«˜` |  
| ğŸŒŠ **Istio** | `æœåŠ¡ç½‘æ ¼ï¼Œå¤æ‚æµé‡æ²»ç†` | `åŠŸèƒ½å¼ºå¤§ï¼Œå®‰å…¨æ€§é«˜ï¼Œè§‚æµ‹æ€§å¥½` | `å¤æ‚åº¦é«˜ï¼Œèµ„æºæ¶ˆè€—å¤§` |
| ğŸª **Ambassador** | `APIç½‘å…³ï¼Œå¼€å‘è€…å·¥å…·é“¾` | `APIä¼˜å…ˆï¼Œè¿‡æ»¤å™¨ä¸°å¯Œï¼Œæ˜“æ‰©å±•` | `å•†ä¸šåŠŸèƒ½éœ€ä»˜è´¹` |
| âš–ï¸ **HAProxy** | `é«˜æ€§èƒ½è¦æ±‚ï¼Œä¼ ç»Ÿåº”ç”¨` | `æ€§èƒ½æä½³ï¼Œç®—æ³•ä¸°å¯Œï¼Œç¨³å®šæ€§å¼º` | `é…ç½®ç›¸å¯¹å¤æ‚` |

### 10.4 ç”Ÿäº§ç¯å¢ƒæ ¸å¿ƒæ£€æŸ¥æ¸…å•


**âœ… éƒ¨ç½²å‰æ£€æŸ¥**
- ğŸ“Š **é«˜å¯ç”¨**ï¼šè‡³å°‘3ä¸ªå‰¯æœ¬ï¼Œåˆ†å¸ƒåœ¨ä¸åŒèŠ‚ç‚¹
- ğŸ”’ **å®‰å…¨é…ç½®**ï¼šéšè—ç‰ˆæœ¬ä¿¡æ¯ï¼Œæ·»åŠ å®‰å…¨å¤´ï¼Œä½¿ç”¨å®‰å…¨TLSç‰ˆæœ¬
- ğŸ“ **ç›‘æ§æ—¥å¿—**ï¼šé…ç½®è®¿é—®æ—¥å¿—ã€é”™è¯¯æ—¥å¿—ã€PrometheusæŒ‡æ ‡
- âš¡ **æ€§èƒ½ä¼˜åŒ–**ï¼šè°ƒæ•´å·¥ä½œè¿›ç¨‹æ•°ã€è¿æ¥æ•°ã€ç¼“å†²åŒºå¤§å°

**âœ… è¿è¡Œæ—¶ç›‘æ§**
- ğŸ¯ **æµé‡æŒ‡æ ‡**ï¼šQPSã€å“åº”æ—¶é—´ã€é”™è¯¯ç‡
- ğŸ’¾ **èµ„æºä½¿ç”¨**ï¼šCPUã€å†…å­˜ã€ç½‘ç»œå¸¦å®½ä½¿ç”¨ç‡
- ğŸ”„ **å¥åº·çŠ¶æ€**ï¼šPodçŠ¶æ€ã€æœåŠ¡å‘ç°ã€åç«¯å¥åº·æ£€æŸ¥
- ğŸ“Š **ä¸šåŠ¡æŒ‡æ ‡**ï¼šSSLè¯ä¹¦è¿‡æœŸæ—¶é—´ã€åŸŸåè§£æçŠ¶æ€

**æ ¸å¿ƒè®°å¿†å£è¯€**ï¼š
- Ingressæ§åˆ¶å™¨æ˜¯æµé‡å…¥å£ï¼ŒConfigMapå­˜é…ç½®æ•°æ®
- SSLé‡å®šå‘ä¿å®‰å…¨ï¼Œè¶…æ—¶é…ç½®é˜²é˜»å¡  
- è¯·æ±‚ä½“é™åˆ¶é˜²æ”»å‡»ï¼Œç›‘æ§æ—¥å¿—åŠ©è¿ç»´
- é«˜å¯ç”¨éƒ¨ç½²åˆ†èŠ‚ç‚¹ï¼Œæ€§èƒ½è°ƒä¼˜çœ‹ä¸šåŠ¡