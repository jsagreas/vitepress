---
title: 2ã€æ³›å‹è¿›é˜¶åº”ç”¨
---
## ğŸ“š ç›®å½•

1. [æ³›å‹ç»§æ‰¿](#1-æ³›å‹ç»§æ‰¿)
2. [æ³›å‹å·¥å‚å‡½æ•°](#2-æ³›å‹å·¥å‚å‡½æ•°)
3. [æ¡ä»¶æ³›å‹](#3-æ¡ä»¶æ³›å‹)
4. [æ³›å‹ä¸æ¥å£ç»“åˆ](#4-æ³›å‹ä¸æ¥å£ç»“åˆ)
5. [æ³›å‹ç±»å‹æ¨æ–­](#5-æ³›å‹ç±»å‹æ¨æ–­)
6. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#6-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ§¬ æ³›å‹ç»§æ‰¿


### 1.1 ä»€ä¹ˆæ˜¯æ³›å‹ç»§æ‰¿


**ğŸ”¸ åŸºæœ¬æ¦‚å¿µ**
æ³›å‹ç»§æ‰¿å°±æ˜¯åœ¨ç±»ç»§æ‰¿å…³ç³»ä¸­ä½¿ç”¨æ³›å‹å‚æ•°ï¼Œè®©å­ç±»èƒ½å¤Ÿçµæ´»åœ°å¤„ç†ä¸åŒç±»å‹çš„æ•°æ®ï¼ŒåŒæ—¶ä¿æŒç±»å‹å®‰å…¨ã€‚

```
ç®€å•ç†è§£ï¼š
çˆ¶ç±»ç”¨æ³›å‹å®šä¹‰ä¸€ä¸ª"æ¡†æ¶" â†’ å­ç±»ç»§æ‰¿è¿™ä¸ª"æ¡†æ¶" â†’ å¯ä»¥æŒ‡å®šå…·ä½“ç±»å‹
å°±åƒæ­ç§¯æœ¨ï¼šçˆ¶ç±»æä¾›ç§¯æœ¨æ¨¡æ¿ï¼Œå­ç±»é€‰æ‹©å…·ä½“é¢œè‰²å’Œå½¢çŠ¶
```

### 1.2 åŸºç¡€æ³›å‹ç»§æ‰¿


**ğŸ’¡ çˆ¶ç±»å®šä¹‰æ³›å‹å‚æ•°**
```typescript
// å®šä¹‰ä¸€ä¸ªé€šç”¨çš„å­˜å‚¨å®¹å™¨çˆ¶ç±»
class Container<T> {
  private items: T[] = [];
  
  add(item: T): void {
    this.items.push(item);
  }
  
  get(index: number): T {
    return this.items[index];
  }
  
  getAll(): T[] {
    return [...this.items];
  }
}
```

**ğŸ”§ å­ç±»ç»§æ‰¿å¹¶æŒ‡å®šç±»å‹**
```typescript
// å­ç±»1ï¼šä¸“é—¨å­˜å‚¨å­—ç¬¦ä¸²
class StringContainer extends Container<string> {
  // æ·»åŠ å­—ç¬¦ä¸²ç‰¹æœ‰çš„æ–¹æ³•
  addUpperCase(text: string): void {
    this.add(text.toUpperCase());
  }
}

// å­ç±»2ï¼šä¸“é—¨å­˜å‚¨æ•°å­—
class NumberContainer extends Container<number> {
  // æ·»åŠ æ•°å­—ç‰¹æœ‰çš„æ–¹æ³•
  addDouble(num: number): void {
    this.add(num * 2);
  }
  
  getSum(): number {
    return this.getAll().reduce((sum, num) => sum + num, 0);
  }
}
```

**ğŸ“‹ ä½¿ç”¨ç¤ºä¾‹**
```typescript
const stringBox = new StringContainer();
stringBox.add("hello");           // âœ… æ­£ç¡®
stringBox.addUpperCase("world");  // âœ… æ·»åŠ  "WORLD"
// stringBox.add(123);            // âŒ é”™è¯¯ï¼šåªèƒ½æ·»åŠ å­—ç¬¦ä¸²

const numberBox = new NumberContainer();
numberBox.add(10);        // âœ… æ­£ç¡®
numberBox.addDouble(5);   // âœ… æ·»åŠ  10
console.log(numberBox.getSum()); // è¾“å‡º: 20
```

### 1.3 å­ç±»ä¹Ÿä½¿ç”¨æ³›å‹


**ğŸ”„ å­ç±»ç»§ç»­ä½¿ç”¨æ³›å‹å‚æ•°**
```typescript
// çˆ¶ç±»ï¼šåŸºç¡€ä»“åº“
class BaseRepository<T> {
  protected data: T[] = [];
  
  save(item: T): void {
    this.data.push(item);
  }
  
  findAll(): T[] {
    return [...this.data];
  }
}

// å­ç±»ï¼šå¸¦æœç´¢åŠŸèƒ½çš„ä»“åº“ï¼Œç»§ç»­ä½¿ç”¨æ³›å‹
class SearchableRepository<T> extends BaseRepository<T> {
  // æŒ‰æ¡ä»¶æœç´¢
  search(predicate: (item: T) => boolean): T[] {
    return this.data.filter(predicate);
  }
  
  // æŒ‰å±æ€§æœç´¢ï¼ˆTå¿…é¡»æœ‰æŒ‡å®šå±æ€§ï¼‰
  searchByProperty<K extends keyof T>(key: K, value: T[K]): T[] {
    return this.data.filter(item => item[key] === value);
  }
}
```

**ğŸ“– å®é™…åº”ç”¨**
```typescript
interface User {
  id: number;
  name: string;
  age: number;
}

const userRepo = new SearchableRepository<User>();
userRepo.save({ id: 1, name: "å¼ ä¸‰", age: 25 });
userRepo.save({ id: 2, name: "æå››", age: 30 });

// æœç´¢å¹´é¾„å¤§äº 25 çš„ç”¨æˆ·
const adults = userRepo.search(user => user.age > 25);

// æŒ‰å§“åæœç´¢
const zhangsan = userRepo.searchByProperty("name", "å¼ ä¸‰");
```

### 1.4 ç»§æ‰¿ä¸­çš„æ³›å‹çº¦æŸ


**âš–ï¸ çº¦æŸæ³›å‹ç±»å‹**
```typescript
// å®šä¹‰ä¸€ä¸ªæ¥å£ä½œä¸ºçº¦æŸ
interface Identifiable {
  id: number;
}

// çˆ¶ç±»ï¼šT å¿…é¡»æœ‰ id å±æ€§
class BaseService<T extends Identifiable> {
  private items: T[] = [];
  
  add(item: T): void {
    this.items.push(item);
  }
  
  findById(id: number): T | undefined {
    return this.items.find(item => item.id === id);
  }
}

// å­ç±»ï¼šæ·»åŠ æ›´å¤šåŠŸèƒ½
class UserService extends BaseService<User> {
  findByName(name: string): User | undefined {
    // å¯ä»¥è®¿é—®çˆ¶ç±»çš„ itemsï¼Œä½†éœ€è¦ç”¨ protected
    return this.findAll().find(user => user.name === name);
  }
}
```

---

## 2. ğŸ­ æ³›å‹å·¥å‚å‡½æ•°


### 2.1 ä»€ä¹ˆæ˜¯æ³›å‹å·¥å‚å‡½æ•°


**ğŸ”¸ æ ¸å¿ƒæ¦‚å¿µ**
å·¥å‚å‡½æ•°å°±æ˜¯ä¸“é—¨ç”¨æ¥åˆ›å»ºå¯¹è±¡çš„å‡½æ•°ï¼ŒåŠ ä¸Šæ³›å‹åï¼Œå¯ä»¥æ ¹æ®ä¸åŒç±»å‹åˆ›å»ºä¸åŒçš„å¯¹è±¡å®ä¾‹ã€‚

```
ç”Ÿæ´»ä¸­çš„ä¾‹å­ï¼š
æ±½è½¦å·¥å‚ â†’ å¯ä»¥ç”Ÿäº§è½¿è½¦ã€SUVã€å¡è½¦
æ³›å‹å·¥å‚å‡½æ•° â†’ å¯ä»¥åˆ›å»ºä¸åŒç±»å‹çš„å¯¹è±¡ï¼Œä½†åˆ›å»ºè¿‡ç¨‹æ˜¯ç›¸åŒçš„
```

### 2.2 åŸºç¡€å·¥å‚å‡½æ•°


**ğŸ› ï¸ ç®€å•çš„å¯¹è±¡åˆ›å»ºå·¥å‚**
```typescript
// å·¥å‚å‡½æ•°ï¼šæ ¹æ®ç±»å‹åˆ›å»ºå®ä¾‹
function createInstance<T>(constructor: new () => T): T {
  return new constructor();
}

// å®šä¹‰ä¸€äº›ç±»
class Cat {
  meow() { return "å–µå–µ"; }
}

class Dog {
  bark() { return "æ±ªæ±ª"; }
}

// ä½¿ç”¨å·¥å‚å‡½æ•°åˆ›å»ºå®ä¾‹
const cat = createInstance(Cat);  // ç±»å‹æ˜¯ Cat
const dog = createInstance(Dog);  // ç±»å‹æ˜¯ Dog

console.log(cat.meow()); // "å–µå–µ"
console.log(dog.bark()); // "æ±ªæ±ª"
```

### 2.3 å¸¦å‚æ•°çš„å·¥å‚å‡½æ•°


**âš™ï¸ æ›´å¤æ‚çš„å·¥å‚æ¨¡å¼**
```typescript
// å·¥å‚å‡½æ•°ï¼šå¯ä»¥ä¼ é€’æ„é€ å‚æ•°
function createWithParams<T, P extends any[]>(
  constructor: new (...args: P) => T,
  ...args: P
): T {
  return new constructor(...args);
}

// å¸¦æ„é€ å‚æ•°çš„ç±»
class Person {
  constructor(public name: string, public age: number) {}
  
  introduce(): string {
    return `æˆ‘æ˜¯${this.name}ï¼Œä»Šå¹´${this.age}å²`;
  }
}

class Car {
  constructor(public brand: string, public model: string) {}
  
  getInfo(): string {
    return `${this.brand} ${this.model}`;
  }
}

// ä½¿ç”¨å·¥å‚å‡½æ•°
const person = createWithParams(Person, "å¼ ä¸‰", 25);
const car = createWithParams(Car, "ä¸°ç”°", "å¡ç½—æ‹‰");

console.log(person.introduce()); // "æˆ‘æ˜¯å¼ ä¸‰ï¼Œä»Šå¹´25å²"
console.log(car.getInfo());      // "ä¸°ç”° å¡ç½—æ‹‰"
```

### 2.4 é…ç½®åŒ–å·¥å‚å‡½æ•°


**ğŸ”§ åŸºäºé…ç½®åˆ›å»ºå¯¹è±¡**
```typescript
// é…ç½®æ¥å£
interface DatabaseConfig {
  host: string;
  port: number;
  database: string;
}

interface ApiConfig {
  baseUrl: string;
  timeout: number;
}

// ä¸åŒçš„æœåŠ¡ç±»
class DatabaseService {
  constructor(private config: DatabaseConfig) {}
  connect() { return `è¿æ¥åˆ° ${this.config.host}:${this.config.port}`; }
}

class ApiService {
  constructor(private config: ApiConfig) {}
  request() { return `è¯·æ±‚ ${this.config.baseUrl}`; }
}

// æ³›å‹å·¥å‚å‡½æ•°
function createService<T, C>(
  ServiceClass: new (config: C) => T,
  config: C
): T {
  return new ServiceClass(config);
}

// ä½¿ç”¨ç¤ºä¾‹
const dbService = createService(DatabaseService, {
  host: "localhost",
  port: 3306,
  database: "myapp"
});

const apiService = createService(ApiService, {
  baseUrl: "https://api.example.com",
  timeout: 5000
});
```

---

## 3. ğŸ¯ æ¡ä»¶æ³›å‹


### 3.1 ä»€ä¹ˆæ˜¯æ¡ä»¶æ³›å‹


**ğŸ”¸ åŸºæœ¬æ¦‚å¿µ**
æ¡ä»¶æ³›å‹å°±åƒç¼–ç¨‹ä¸­çš„ `if-else`ï¼Œæ ¹æ®ç±»å‹æ¡ä»¶æ¥å†³å®šæœ€ç»ˆçš„ç±»å‹ã€‚è¯­æ³•æ˜¯ï¼š`T extends U ? X : Y`

```
é€šä¿—ç†è§£ï¼š
å¦‚æœ T æ˜¯ U çš„å­ç±»å‹ â†’ é€‰æ‹©ç±»å‹ X
å¦åˆ™ â†’ é€‰æ‹©ç±»å‹ Y

å°±åƒï¼šå¦‚æœæ˜¯æ™´å¤©å°±ç©¿çŸ­è¢–ï¼Œå¦åˆ™å°±ç©¿é•¿è¢–
```

### 3.2 åŸºç¡€æ¡ä»¶ç±»å‹


**ğŸ”€ ç®€å•çš„æ¡ä»¶åˆ¤æ–­**
```typescript
// åŸºç¡€è¯­æ³•ï¼šT extends U ? X : Y
type IsString<T> = T extends string ? true : false;

// ä½¿ç”¨ç¤ºä¾‹
type Test1 = IsString<string>;   // true
type Test2 = IsString<number>;   // false
type Test3 = IsString<boolean>;  // false
```

**ğŸ“‹ å®ç”¨çš„æ¡ä»¶ç±»å‹**
```typescript
// åˆ¤æ–­æ˜¯å¦ä¸ºæ•°ç»„ç±»å‹
type IsArray<T> = T extends any[] ? true : false;

type ArrayTest1 = IsArray<string[]>;  // true
type ArrayTest2 = IsArray<number>;    // false

// æå–æ•°ç»„å…ƒç´ ç±»å‹
type ArrayElement<T> = T extends (infer U)[] ? U : never;

type ElementType1 = ArrayElement<string[]>;  // string
type ElementType2 = ArrayElement<number[]>;  // number
type ElementType3 = ArrayElement<boolean>;   // never
```

### 3.3 æ¡ä»¶ç±»å‹çš„å®é™…åº”ç”¨


**ğŸ› ï¸ åˆ›å»ºæ›´æ™ºèƒ½çš„ API**
```typescript
// æ ¹æ®è¾“å…¥ç±»å‹è¿”å›ä¸åŒçš„å¤„ç†ç»“æœ
type ProcessResult<T> = T extends string
  ? { type: 'text'; content: string; length: number }
  : T extends number
  ? { type: 'number'; value: number; isPositive: boolean }
  : T extends boolean
  ? { type: 'boolean'; value: boolean }
  : { type: 'unknown'; value: T };

function process<T>(input: T): ProcessResult<T> {
  if (typeof input === 'string') {
    return {
      type: 'text',
      content: input,
      length: input.length
    } as ProcessResult<T>;
  }
  
  if (typeof input === 'number') {
    return {
      type: 'number',
      value: input,
      isPositive: input > 0
    } as ProcessResult<T>;
  }
  
  if (typeof input === 'boolean') {
    return {
      type: 'boolean',
      value: input
    } as ProcessResult<T>;
  }
  
  return {
    type: 'unknown',
    value: input
  } as ProcessResult<T>;
}

// ä½¿ç”¨ç¤ºä¾‹ - TypeScript è‡ªåŠ¨æ¨æ–­è¿”å›ç±»å‹
const result1 = process("hello");    // ç±»å‹ï¼š{ type: 'text'; content: string; length: number }
const result2 = process(42);         // ç±»å‹ï¼š{ type: 'number'; value: number; isPositive: boolean }
const result3 = process(true);       // ç±»å‹ï¼š{ type: 'boolean'; value: boolean }
```

### 3.4 æ¡ä»¶ç±»å‹ä¸æ³›å‹å‡½æ•°ç»“åˆ


**ğŸ”„ åŠ¨æ€ API å“åº”ç±»å‹**
```typescript
// å®šä¹‰ API å“åº”çš„æ¡ä»¶ç±»å‹
type ApiResponse<T extends string> = T extends 'user'
  ? { id: number; name: string; email: string }
  : T extends 'product'
  ? { id: number; title: string; price: number }
  : T extends 'order'
  ? { id: number; userId: number; total: number; items: any[] }
  : never;

// æ³›å‹å‡½æ•°ä½¿ç”¨æ¡ä»¶ç±»å‹
async function fetchData<T extends 'user' | 'product' | 'order'>(
  type: T
): Promise<ApiResponse<T>> {
  const response = await fetch(`/api/${type}`);
  return response.json();
}

// ä½¿ç”¨æ—¶æœ‰å®Œæ•´çš„ç±»å‹æç¤º
const userData = await fetchData('user');     // ç±»å‹ï¼š{ id: number; name: string; email: string }
const productData = await fetchData('product'); // ç±»å‹ï¼š{ id: number; title: string; price: number }
```

---

## 4. ğŸ”— æ³›å‹ä¸æ¥å£ç»“åˆ


### 4.1 æ³›å‹æ¥å£çš„åŸºæœ¬ä½¿ç”¨


**ğŸ”¸ ä¸ºä»€ä¹ˆè¦ç»“åˆä½¿ç”¨**
æ¥å£å®šä¹‰äº†å¯¹è±¡çš„"å½¢çŠ¶"ï¼Œæ³›å‹è®©è¿™ä¸ª"å½¢çŠ¶"å¯ä»¥é€‚é…ä¸åŒçš„ç±»å‹ï¼Œä¸¤è€…ç»“åˆèƒ½åˆ›å»ºå‡ºéå¸¸çµæ´»ä¸”ç±»å‹å®‰å…¨çš„ä»£ç ã€‚

**ğŸ“‹ åŸºç¡€æ³›å‹æ¥å£**
```typescript
// å®šä¹‰ä¸€ä¸ªé€šç”¨çš„å“åº”æ¥å£
interface ApiResponse<T> {
  success: boolean;
  message: string;
  data: T;
  timestamp: number;
}

// ç”¨æˆ·æ•°æ®æ¥å£
interface User {
  id: number;
  name: string;
  email: string;
}

// äº§å“æ•°æ®æ¥å£
interface Product {
  id: number;
  title: string;
  price: number;
}

// ä½¿ç”¨æ³›å‹æ¥å£
const userResponse: ApiResponse<User> = {
  success: true,
  message: "è·å–ç”¨æˆ·æˆåŠŸ",
  data: { id: 1, name: "å¼ ä¸‰", email: "zhangsan@example.com" },
  timestamp: Date.now()
};

const productResponse: ApiResponse<Product[]> = {
  success: true,
  message: "è·å–äº§å“åˆ—è¡¨æˆåŠŸ",
  data: [
    { id: 1, title: "æ‰‹æœº", price: 3999 },
    { id: 2, title: "ç”µè„‘", price: 8999 }
  ],
  timestamp: Date.now()
};
```

### 4.2 æ³›å‹æ¥å£ç»§æ‰¿


**ğŸ§¬ æ¥å£ç»§æ‰¿ä¸­ä½¿ç”¨æ³›å‹**
```typescript
// åŸºç¡€åˆ†é¡µæ¥å£
interface Paginated<T> {
  items: T[];
  total: number;
  page: number;
  pageSize: number;
}

// å¯æœç´¢çš„åˆ†é¡µæ¥å£ï¼ˆç»§æ‰¿å¹¶æ‰©å±•ï¼‰
interface SearchablePaginated<T> extends Paginated<T> {
  query: string;
  filters: Record<string, any>;
}

// å¯æ’åºçš„åˆ†é¡µæ¥å£
interface SortablePaginated<T> extends Paginated<T> {
  sortBy: keyof T;
  sortOrder: 'asc' | 'desc';
}

// å®é™…ä½¿ç”¨
const userList: SearchablePaginated<User> = {
  items: [
    { id: 1, name: "å¼ ä¸‰", email: "zhangsan@example.com" }
  ],
  total: 100,
  page: 1,
  pageSize: 10,
  query: "å¼ ",
  filters: { active: true }
};
```

### 4.3 å¤šæ³›å‹å‚æ•°æ¥å£


**ğŸ”§ å¤„ç†å¤æ‚çš„æ•°æ®å…³ç³»**
```typescript
// é”®å€¼å¯¹å­˜å‚¨æ¥å£
interface Storage<K, V> {
  set(key: K, value: V): void;
  get(key: K): V | undefined;
  has(key: K): boolean;
  delete(key: K): boolean;
  clear(): void;
}

// å…·ä½“å®ç°
class MemoryStorage<K, V> implements Storage<K, V> {
  private store = new Map<K, V>();
  
  set(key: K, value: V): void {
    this.store.set(key, value);
  }
  
  get(key: K): V | undefined {
    return this.store.get(key);
  }
  
  has(key: K): boolean {
    return this.store.has(key);
  }
  
  delete(key: K): boolean {
    return this.store.delete(key);
  }
  
  clear(): void {
    this.store.clear();
  }
}

// ä½¿ç”¨ç¤ºä¾‹
const stringStorage = new MemoryStorage<string, User>();
stringStorage.set("user1", { id: 1, name: "å¼ ä¸‰", email: "zhangsan@example.com" });

const numberStorage = new MemoryStorage<number, string>();
numberStorage.set(1, "ç¬¬ä¸€ä¸ªå€¼");
```

### 4.4 æ³›å‹æ¥å£çš„çº¦æŸ


**âš–ï¸ é™åˆ¶æ³›å‹ç±»å‹**
```typescript
// å¿…é¡»æœ‰ id å±æ€§çš„æ¥å£
interface Identifiable {
  id: number;
}

// ä»“åº“æ¥å£ï¼ŒT å¿…é¡»æœ‰ id
interface Repository<T extends Identifiable> {
  save(entity: T): Promise<T>;
  findById(id: number): Promise<T | null>;
  findAll(): Promise<T[]>;
  update(entity: T): Promise<T>;
  delete(id: number): Promise<boolean>;
}

// å®ç°ä»“åº“
class UserRepository implements Repository<User> {
  private users: User[] = [];
  
  async save(user: User): Promise<User> {
    this.users.push(user);
    return user;
  }
  
  async findById(id: number): Promise<User | null> {
    return this.users.find(u => u.id === id) || null;
  }
  
  async findAll(): Promise<User[]> {
    return [...this.users];
  }
  
  async update(user: User): Promise<User> {
    const index = this.users.findIndex(u => u.id === user.id);
    if (index >= 0) {
      this.users[index] = user;
    }
    return user;
  }
  
  async delete(id: number): Promise<boolean> {
    const index = this.users.findIndex(u => u.id === id);
    if (index >= 0) {
      this.users.splice(index, 1);
      return true;
    }
    return false;
  }
}
```

---

## 5. ğŸ§  æ³›å‹ç±»å‹æ¨æ–­


### 5.1 ä»€ä¹ˆæ˜¯æ³›å‹ç±»å‹æ¨æ–­


**ğŸ”¸ åŸºæœ¬æ¦‚å¿µ**
ç±»å‹æ¨æ–­å°±æ˜¯ TypeScript è‡ªåŠ¨å¸®æˆ‘ä»¬ç¡®å®šæ³›å‹çš„å…·ä½“ç±»å‹ï¼Œä¸éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨æŒ‡å®šã€‚å°±åƒèªæ˜çš„åŠ©æ‰‹ï¼Œèƒ½æ ¹æ®ä¸Šä¸‹æ–‡çŒœå‡ºæˆ‘ä»¬æƒ³è¦çš„ç±»å‹ã€‚

```
ç”Ÿæ´»ä¸­çš„ä¾‹å­ï¼š
ä½ è¯´"ç»™æˆ‘æ‹¿é‚£ä¸ª" â†’ æœ‹å‹æ ¹æ®æƒ…å†µçŸ¥é“ä½ è¦ä»€ä¹ˆ
TypeScript çœ‹åˆ°ä»£ç  â†’ è‡ªåŠ¨æ¨æ–­å‡ºåˆé€‚çš„ç±»å‹
```

### 5.2 å‡½æ•°å‚æ•°çš„ç±»å‹æ¨æ–­


**ğŸ” è‡ªåŠ¨æ¨æ–­å‚æ•°ç±»å‹**
```typescript
// æ³›å‹å‡½æ•°
function identity<T>(arg: T): T {
  return arg;
}

// TypeScript è‡ªåŠ¨æ¨æ–­ç±»å‹
const str = identity("hello");    // T è¢«æ¨æ–­ä¸º string
const num = identity(42);         // T è¢«æ¨æ–­ä¸º number
const bool = identity(true);      // T è¢«æ¨æ–­ä¸º boolean

// ä¸éœ€è¦æ‰‹åŠ¨æŒ‡å®šï¼šidentity<string>("hello")
```

**ğŸ“‹ æ•°ç»„ç±»å‹æ¨æ–­**
```typescript
function getFirst<T>(arr: T[]): T | undefined {
  return arr[0];
}

// è‡ªåŠ¨æ¨æ–­
const firstString = getFirst(["a", "b", "c"]);     // è¿”å›ç±»å‹ï¼šstring | undefined
const firstNumber = getFirst([1, 2, 3]);           // è¿”å›ç±»å‹ï¼šnumber | undefined
const firstUser = getFirst([                       // è¿”å›ç±»å‹ï¼šUser | undefined
  { id: 1, name: "å¼ ä¸‰", email: "zhangsan@example.com" }
]);
```

### 5.3 å¤æ‚åœºæ™¯çš„ç±»å‹æ¨æ–­


**ğŸ”„ å¯¹è±¡å±æ€§æ¨æ–­**
```typescript
function pick<T, K extends keyof T>(obj: T, keys: K[]): Pick<T, K> {
  const result = {} as Pick<T, K>;
  keys.forEach(key => {
    result[key] = obj[key];
  });
  return result;
}

const user = {
  id: 1,
  name: "å¼ ä¸‰",
  email: "zhangsan@example.com",
  age: 25,
  isActive: true
};

// TypeScript è‡ªåŠ¨æ¨æ–­è¿”å›ç±»å‹
const basicInfo = pick(user, ["name", "email"]);
// æ¨æ–­ç±»å‹ï¼š{ name: string; email: string }

const userProfile = pick(user, ["id", "name", "age"]);
// æ¨æ–­ç±»å‹ï¼š{ id: number; name: string; age: number }
```

### 5.4 æ¨æ–­åœ¨å®é™…å¼€å‘ä¸­çš„åº”ç”¨


**ğŸ› ï¸ API è¯·æ±‚çš„ç±»å‹æ¨æ–­**
```typescript
// å®šä¹‰ API ç«¯ç‚¹é…ç½®
const apiEndpoints = {
  users: { url: '/api/users', method: 'GET' as const },
  createUser: { url: '/api/users', method: 'POST' as const },
  updateUser: { url: '/api/users/:id', method: 'PUT' as const }
} as const;

// æ ¹æ®ç«¯ç‚¹é…ç½®æ¨æ–­è¯·æ±‚å‡½æ•°ç±»å‹
function createApiCall<T extends keyof typeof apiEndpoints>(
  endpoint: T
) {
  const config = apiEndpoints[endpoint];
  
  return async (data?: any) => {
    // å®é™…çš„è¯·æ±‚é€»è¾‘
    console.log(`${config.method} ${config.url}`, data);
    return { success: true, data: null };
  };
}

// ä½¿ç”¨æ—¶è‡ªåŠ¨æ¨æ–­
const getUsers = createApiCall('users');         // æ¨æ–­å‡ºæ­£ç¡®çš„é…ç½®
const createUser = createApiCall('createUser');  // æ¨æ–­å‡ºæ­£ç¡®çš„é…ç½®

// å¦‚æœå†™é”™ç«¯ç‚¹åç§°ï¼ŒTypeScript ä¼šæŠ¥é”™
// const invalid = createApiCall('wrongEndpoint'); // âŒ é”™è¯¯
```

**ğŸ¯ çŠ¶æ€ç®¡ç†çš„ç±»å‹æ¨æ–­**
```typescript
// å®šä¹‰çŠ¶æ€å’ŒåŠ¨ä½œ
interface AppState {
  user: User | null;
  products: Product[];
  loading: boolean;
}

// è‡ªåŠ¨æ¨æ–­ reducer çš„ç±»å‹
function createReducer<S>(
  initialState: S,
  handlers: {
    [K: string]: (state: S, action: any) => S;
  }
) {
  return (state = initialState, action: { type: string; payload?: any }): S => {
    const handler = handlers[action.type];
    return handler ? handler(state, action) : state;
  };
}

// ä½¿ç”¨æ—¶ TypeScript è‡ªåŠ¨æ¨æ–­çŠ¶æ€ç±»å‹
const appReducer = createReducer({
  user: null,
  products: [],
  loading: false
}, {
  SET_USER: (state, action) => ({
    ...state,
    user: action.payload    // TypeScript çŸ¥é“è¿™é‡Œçš„ state ç±»å‹
  }),
  SET_LOADING: (state, action) => ({
    ...state,
    loading: action.payload
  })
});
```

### 5.5 æå‡ç±»å‹æ¨æ–­çš„æŠ€å·§


**ğŸ’¡ å¸®åŠ© TypeScript æ›´å¥½åœ°æ¨æ–­**
```typescript
// ä½¿ç”¨ const æ–­è¨€å¸®åŠ©æ¨æ–­
const colors = ['red', 'green', 'blue'] as const;
// ç±»å‹ï¼šreadonly ["red", "green", "blue"]
// è€Œä¸æ˜¯ï¼šstring[]

// ä½¿ç”¨å‡½æ•°é‡è½½æä¾›æ›´ç²¾ç¡®çš„ç±»å‹
function processData(input: string): string;
function processData(input: number): number;
function processData(input: boolean): boolean;
function processData(input: any): any {
  return input;
}

// ç°åœ¨ TypeScript èƒ½å‡†ç¡®æ¨æ–­è¿”å›ç±»å‹
const result1 = processData("hello");  // string
const result2 = processData(42);       // number
const result3 = processData(true);     // boolean
```

---

## 6. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 6.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ æ³›å‹ç»§æ‰¿ï¼šåœ¨ç±»ç»§æ‰¿ä¸­ä½¿ç”¨æ³›å‹ï¼Œä¿æŒç±»å‹å®‰å…¨çš„åŒæ—¶å¢åŠ çµæ´»æ€§
ğŸ”¸ æ³›å‹å·¥å‚ï¼šç”¨æ³›å‹åˆ›å»ºå¯¹è±¡çš„å·¥å‚å‡½æ•°ï¼Œæ ¹æ®ç±»å‹ç”Ÿäº§ä¸åŒå®ä¾‹
ğŸ”¸ æ¡ä»¶æ³›å‹ï¼šT extends U ? X : Y è¯­æ³•ï¼Œæ ¹æ®ç±»å‹æ¡ä»¶é€‰æ‹©ç»“æœç±»å‹
ğŸ”¸ æ³›å‹æ¥å£ï¼šæ¥å£ä¸­ä½¿ç”¨æ³›å‹å‚æ•°ï¼Œåˆ›å»ºå¯é‡ç”¨çš„ç±»å‹å®šä¹‰
ğŸ”¸ ç±»å‹æ¨æ–­ï¼šTypeScript è‡ªåŠ¨æ¨æ–­æ³›å‹ç±»å‹ï¼Œå‡å°‘æ‰‹åŠ¨æ ‡æ³¨
```

### 6.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ æ³›å‹ç»§æ‰¿çš„ä»·å€¼**
```
ä»£ç å¤ç”¨ï¼šçˆ¶ç±»æä¾›é€šç”¨é€»è¾‘ï¼Œå­ç±»å¤„ç†ç‰¹å®šç±»å‹
ç±»å‹å®‰å…¨ï¼šç¼–è¯‘æ—¶å°±èƒ½å‘ç°ç±»å‹é”™è¯¯
æ‰©å±•æ€§ï¼šæ–°å¢ç±»å‹æ—¶åªéœ€ç»§æ‰¿ï¼Œä¸éœ€è¦é‡å†™é€»è¾‘
```

**ğŸ”¹ å·¥å‚å‡½æ•°çš„åº”ç”¨åœºæ™¯**
```
å¯¹è±¡åˆ›å»ºï¼šç»Ÿä¸€çš„å¯¹è±¡åˆ›å»ºé€»è¾‘
é…ç½®é©±åŠ¨ï¼šæ ¹æ®é…ç½®åˆ›å»ºä¸åŒç±»å‹çš„å®ä¾‹
æ’ä»¶ç³»ç»Ÿï¼šåŠ¨æ€åˆ›å»ºæ’ä»¶å®ä¾‹
```

**ğŸ”¹ æ¡ä»¶æ³›å‹çš„å®ç”¨æ€§**
```
API è®¾è®¡ï¼šæ ¹æ®è¾“å…¥ç±»å‹è¿”å›å¯¹åº”çš„ç»“æœç±»å‹
ç±»å‹è½¬æ¢ï¼šæ™ºèƒ½åœ°è½¬æ¢ç±»å‹å®šä¹‰
å·¥å…·ç±»å‹ï¼šåˆ›å»ºæ›´å¼ºå¤§çš„å†…ç½®å·¥å…·ç±»å‹
```

### 6.3 å®é™…å¼€å‘æŒ‡å¯¼


**ğŸ’¼ ä½•æ—¶ä½¿ç”¨è¿™äº›ç‰¹æ€§**

| ç‰¹æ€§ | **é€‚ç”¨åœºæ™¯** | **å…¸å‹åº”ç”¨** |
|------|-------------|-------------|
| ğŸ§¬ **æ³›å‹ç»§æ‰¿** | `éœ€è¦æ‰©å±•é€šç”¨åŠŸèƒ½` | `ä»“åº“æ¨¡å¼ã€æœåŠ¡åŸºç±»` |
| ğŸ­ **æ³›å‹å·¥å‚** | `ç»Ÿä¸€å¯¹è±¡åˆ›å»º` | `ç»„ä»¶å·¥å‚ã€æœåŠ¡åˆ›å»º` |
| ğŸ¯ **æ¡ä»¶æ³›å‹** | `æ™ºèƒ½ç±»å‹é€‰æ‹©` | `API å“åº”ã€å·¥å…·ç±»å‹` |
| ğŸ”— **æ³›å‹æ¥å£** | `å¯é‡ç”¨ç±»å‹å®šä¹‰` | `æ•°æ®ç»“æ„ã€é…ç½®æ¥å£` |
| ğŸ§  **ç±»å‹æ¨æ–­** | `ç®€åŒ–ç±»å‹æ ‡æ³¨` | `å‡½æ•°è°ƒç”¨ã€å˜é‡å£°æ˜` |

**ğŸ”§ æœ€ä½³å®è·µ**
```typescript
// âœ… å¥½çš„åšæ³•
1. è®© TypeScript è‡ªåŠ¨æ¨æ–­ï¼Œå‡å°‘æ‰‹åŠ¨æ ‡æ³¨
2. ä½¿ç”¨æœ‰æ„ä¹‰çš„æ³›å‹å‚æ•°åï¼ˆT, U, K æˆ–æ›´å…·ä½“çš„åç§°ï¼‰
3. åˆç†ä½¿ç”¨æ³›å‹çº¦æŸï¼Œç¡®ä¿ç±»å‹å®‰å…¨
4. æ¡ä»¶ç±»å‹ä¿æŒç®€å•ï¼Œå¤æ‚é€»è¾‘æ‹†åˆ†æˆå¤šä¸ªç±»å‹

// âŒ é¿å…çš„åšæ³•
1. è¿‡åº¦ä½¿ç”¨æ³›å‹ï¼Œç®€å•åœºæ™¯ç”¨å…·ä½“ç±»å‹
2. æ³›å‹å‚æ•°åå¤ªå¤æ‚æˆ–æ— æ„ä¹‰
3. æ¡ä»¶ç±»å‹åµŒå¥—å¤ªæ·±ï¼Œéš¾ä»¥ç†è§£
4. å¿½ç•¥ç±»å‹æ¨æ–­ï¼Œåˆ°å¤„æ‰‹åŠ¨æ ‡æ³¨ç±»å‹
```

### 6.4 å­¦ä¹ è·¯å¾„å»ºè®®


**ğŸ“š å¾ªåºæ¸è¿›çš„å­¦ä¹ **
```
ç¬¬ä¸€æ­¥ï¼šæŒæ¡æ³›å‹ç»§æ‰¿
â€¢ ä»ç®€å•çš„ç±»ç»§æ‰¿å¼€å§‹
â€¢ ç†è§£æ³›å‹å‚æ•°çš„ä¼ é€’

ç¬¬äºŒæ­¥ï¼šç»ƒä¹ å·¥å‚å‡½æ•°
â€¢ åˆ›å»ºç®€å•çš„å¯¹è±¡å·¥å‚
â€¢ é€æ­¥å¢åŠ å¤æ‚åº¦

ç¬¬ä¸‰æ­¥ï¼šç†è§£æ¡ä»¶æ³›å‹
â€¢ ä»ç®€å•çš„æ¡ä»¶åˆ¤æ–­å¼€å§‹
â€¢ ç»“åˆå®é™…éœ€æ±‚ç»ƒä¹ 

ç¬¬å››æ­¥ï¼šæ³›å‹æ¥å£ç»„åˆ
â€¢ è®¾è®¡å¯é‡ç”¨çš„æ¥å£
â€¢ ç»ƒä¹ æ¥å£ç»§æ‰¿å’Œæ‰©å±•

ç¬¬äº”æ­¥ï¼šåˆ©ç”¨ç±»å‹æ¨æ–­
â€¢ è§‚å¯Ÿ TypeScript çš„æ¨æ–­ç»“æœ
â€¢ å­¦ä¼šåœ¨åˆé€‚çš„æ—¶å€™å¸®åŠ©æ¨æ–­
```

**æ ¸å¿ƒè®°å¿†å£è¯€**ï¼š
- ç»§æ‰¿è®©æ³›å‹ä¼ é€’ï¼Œå·¥å‚è®©åˆ›å»ºç»Ÿä¸€
- æ¡ä»¶è®©ç±»å‹æ™ºèƒ½ï¼Œæ¥å£è®©ç»“æ„æ¸…æ™°  
- æ¨æ–­è®©ç¼–ç ç®€å•ï¼Œç»„åˆè®©ä»£ç å¼ºå¤§