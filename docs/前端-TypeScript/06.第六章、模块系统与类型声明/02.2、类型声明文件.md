---
title: 2ã€ç±»å‹å£°æ˜æ–‡ä»¶
---
## ğŸ“š ç›®å½•

1. [ç±»å‹å£°æ˜æ–‡ä»¶çš„æœ¬è´¨](#1-ç±»å‹å£°æ˜æ–‡ä»¶çš„æœ¬è´¨)
2. [declareå…³é”®å­—çš„ä½¿ç”¨](#2-declareå…³é”®å­—çš„ä½¿ç”¨)
3. [.d.tsæ–‡ä»¶çš„ç¼–å†™ä¸åº”ç”¨](#3-dtsæ–‡ä»¶çš„ç¼–å†™ä¸åº”ç”¨)
4. [@typesåŒ…çš„ä½¿ç”¨](#4-typesåŒ…çš„ä½¿ç”¨)
5. [æ¨¡å—ç±»å‹å£°æ˜ä¸æ‰©å±•](#5-æ¨¡å—ç±»å‹å£°æ˜ä¸æ‰©å±•)
6. [å®æˆ˜åº”ç”¨åœºæ™¯](#6-å®æˆ˜åº”ç”¨åœºæ™¯)

---

## 1. ğŸ¯ ç±»å‹å£°æ˜æ–‡ä»¶çš„æœ¬è´¨


### 1.1 ä¸ºä»€ä¹ˆéœ€è¦ç±»å‹å£°æ˜ï¼Ÿ


> **é—®é¢˜åœºæ™¯**ï¼šä½ åœ¨TypeScripté¡¹ç›®ä¸­ä½¿ç”¨jQueryï¼Œä½†TypeScriptç¼–è¯‘å™¨ä¸çŸ¥é“`$`æ˜¯ä»€ä¹ˆï¼ŒæŠ¥é”™äº†ã€‚

**ğŸ”¸ æ ¸å¿ƒæ¦‚å¿µ**

ç±»å‹å£°æ˜æ–‡ä»¶å°±åƒæ˜¯ç»™JavaScriptä»£ç é…å¤‡çš„"è¯´æ˜ä¹¦"ï¼Œå‘Šè¯‰TypeScriptï¼š
- è¿™ä¸ªå˜é‡æ˜¯ä»€ä¹ˆç±»å‹
- è¿™ä¸ªå‡½æ•°æ¥æ”¶ä»€ä¹ˆå‚æ•°ï¼Œè¿”å›ä»€ä¹ˆ
- è¿™ä¸ªå¯¹è±¡æœ‰å“ªäº›å±æ€§å’Œæ–¹æ³•

```
ç°å®ä¸–ç•Œç±»æ¯”ï¼š

JavaScriptä»£ç  = ä¸€å°æ²¡æœ‰è¯´æ˜ä¹¦çš„æœºå™¨
TypeScript     = æƒ³è¦äº†è§£æœºå™¨åŠŸèƒ½çš„å·¥ç¨‹å¸ˆ  
ç±»å‹å£°æ˜æ–‡ä»¶   = è¯¦ç»†çš„ä½¿ç”¨è¯´æ˜ä¹¦

æœ‰äº†è¯´æ˜ä¹¦ï¼Œå·¥ç¨‹å¸ˆå°±çŸ¥é“ï¼š
â€¢ æŒ‰é’®Aæ˜¯åšä»€ä¹ˆçš„
â€¢ è¾“å…¥å£Béœ€è¦ä»€ä¹ˆæ ¼å¼çš„æ•°æ®  
â€¢ è¾“å‡ºå£Cä¼šäº§ç”Ÿä»€ä¹ˆç»“æœ
```

### 1.2 ç±»å‹å£°æ˜çš„ä½¿ç”¨åœºæ™¯


**ğŸ’¡ å¸¸è§ä½¿ç”¨åœºæ™¯**

| **åœºæ™¯** | **è¯´æ˜** | **è§£å†³æ–¹æ¡ˆ** |
|---------|---------|-------------|
| **ä½¿ç”¨ç¬¬ä¸‰æ–¹JSåº“** | `lodashã€jQueryç­‰æ²¡æœ‰å†…ç½®TSç±»å‹` | `å®‰è£…@typesåŒ…æˆ–è‡ªå†™å£°æ˜` |
| **å¼•å…¥å¤–éƒ¨è„šæœ¬** | `CDNå¼•å…¥çš„å…¨å±€å˜é‡` | `å£°æ˜å…¨å±€ç±»å‹` |
| **Node.jsç¯å¢ƒ** | `processã€Bufferç­‰å…¨å±€å¯¹è±¡` | `@types/nodeæä¾›å£°æ˜` |
| **è‡ªå®šä¹‰å…¨å±€å˜é‡** | `æŒ‚è½½åœ¨windowä¸Šçš„è‡ªå®šä¹‰å±æ€§` | `æ‰©å±•å…¨å±€ç±»å‹` |

### 1.3 å£°æ˜æ–‡ä»¶çš„å·¥ä½œåŸç†


```
TypeScriptç¼–è¯‘è¿‡ç¨‹ä¸­çš„ç±»å‹æ£€æŸ¥ï¼š

æºç æ–‡ä»¶(.ts/.tsx)  â†’  ç±»å‹æ£€æŸ¥  â†’  ç¼–è¯‘ç»“æœ(.js)
        â†“              â†“
   ç±»å‹å£°æ˜æ–‡ä»¶(.d.ts) â†’ æä¾›ç±»å‹ä¿¡æ¯
        â†“
   @typesåŒ… â†’ ç¬¬ä¸‰æ–¹åº“ç±»å‹
```

---

## 2. ğŸ”§ declareå…³é”®å­—çš„ä½¿ç”¨


### 2.1 declareçš„ä½œç”¨æœºåˆ¶


**ğŸ”¸ æ ¸å¿ƒæ¦‚å¿µ**

`declare`å…³é”®å­—çš„ä½œç”¨æ˜¯å‘Šè¯‰TypeScriptï¼š"è¿™ä¸ªä¸œè¥¿å·²ç»å­˜åœ¨äº†ï¼Œä½ ä¸ç”¨ç®¡å®ƒæ˜¯æ€ä¹ˆæ¥çš„ï¼Œåªéœ€è¦çŸ¥é“å®ƒçš„ç±»å‹å°±è¡Œã€‚"

> **é€šä¿—ç†è§£**ï¼šå°±åƒåœ¨å›¾ä¹¦é¦†é‡Œï¼Œä½ å‘Šè¯‰ç®¡ç†å‘˜"æŸä¸ªä½ç½®æœ‰ä¸€æœ¬ä¹¦"ï¼Œä½†ä½ ä¸éœ€è¦äº²è‡ªæŠŠä¹¦æ”¾åœ¨é‚£é‡Œã€‚

### 2.2 å£°æ˜å…¨å±€å˜é‡


**ğŸŒ å…¨å±€å˜é‡å£°æ˜**

```typescript
// å£°æ˜å…¨å±€å˜é‡ï¼ˆé€šå¸¸åœ¨.d.tsæ–‡ä»¶ä¸­ï¼‰
declare var myGlobalVar: string;
declare let myGlobalLet: number;
declare const API_URL: string;

// åœ¨ä¸šåŠ¡ä»£ç ä¸­å°±å¯ä»¥ç›´æ¥ä½¿ç”¨
console.log(myGlobalVar);  // TypeScriptä¸ä¼šæŠ¥é”™
console.log(API_URL);      // æœ‰ç±»å‹æç¤ºå’Œæ£€æŸ¥
```

**ğŸ’¼ å®é™…åº”ç”¨ç¤ºä¾‹**

```typescript
// global.d.ts - å£°æ˜ä»CDNå¼•å…¥çš„å˜é‡
declare var $: {
  (selector: string): any;
  ajax(options: object): void;
};

declare var gtag: (
  command: string, 
  target: string, 
  config?: object
) => void;

// ä¸šåŠ¡ä»£ç ä¸­ä½¿ç”¨
$('#app').hide();                    // æ­£å¸¸ä½¿ç”¨jQuery
gtag('config', 'GA_TRACKING_ID');   // ä½¿ç”¨Google Analytics
```

### 2.3 å£°æ˜å…¨å±€å‡½æ•°


**âš¡ å‡½æ•°å£°æ˜**

```typescript
// å£°æ˜å…¨å±€å‡½æ•°
declare function alert(message: string): void;
declare function parseInt(string: string, radix?: number): number;

// å£°æ˜å¸¦é‡è½½çš„å‡½æ•°
declare function createElement(tag: 'div'): HTMLDivElement;
declare function createElement(tag: 'span'): HTMLSpanElement;
declare function createElement(tag: string): HTMLElement;
```

### 2.4 å£°æ˜å…¨å±€ç±»


**ğŸ—ï¸ ç±»å£°æ˜**

```typescript
// å£°æ˜å…¨å±€ç±»
declare class EventEmitter {
  on(event: string, listener: Function): this;
  emit(event: string, ...args: any[]): boolean;
  off(event: string, listener?: Function): this;
}

// ä½¿ç”¨æ—¶å°±æœ‰å®Œæ•´çš„ç±»å‹æ”¯æŒ
const emitter = new EventEmitter();
emitter.on('data', (data) => {
  // TypeScriptçŸ¥é“è¿™é‡Œæœ‰ç±»å‹æ£€æŸ¥
});
```

### 2.5 å£°æ˜å‘½åç©ºé—´


**ğŸ“¦ å‘½åç©ºé—´å£°æ˜**

```typescript
// å£°æ˜å‘½åç©ºé—´ï¼ˆé€‚ç”¨äºè€å¼çš„å…¨å±€åº“ï¼‰
declare namespace MyLibrary {
  interface Config {
    apiUrl: string;
    timeout: number;
  }
  
  function init(config: Config): void;
  function getData(id: string): Promise<any>;
  
  const version: string;
}

// ä½¿ç”¨æ–¹å¼
MyLibrary.init({
  apiUrl: 'https://api.example.com',
  timeout: 5000
});
```

---

## 3. ğŸ“„ .d.tsæ–‡ä»¶çš„ç¼–å†™ä¸åº”ç”¨


### 3.1 .d.tsæ–‡ä»¶çš„åŸºæœ¬æ¦‚å¿µ


**ğŸ”¸ æ–‡ä»¶æ€§è´¨**

`.d.ts`æ–‡ä»¶æ˜¯**çº¯ç±»å‹å£°æ˜æ–‡ä»¶**ï¼Œç‰¹ç‚¹ï¼š
- åªåŒ…å«ç±»å‹ä¿¡æ¯ï¼Œä¸åŒ…å«å®ç°ä»£ç 
- ä¸ä¼šè¢«ç¼–è¯‘æˆJavaScript
- ä¸ºç°æœ‰JavaScriptä»£ç æä¾›ç±»å‹æ”¯æŒ

```
.d.tsæ–‡ä»¶ vs æ™®é€š.tsæ–‡ä»¶ï¼š

.tsæ–‡ä»¶ï¼š  ç±»å‹ + å®ç°ä»£ç   â†’  ç¼–è¯‘  â†’  .jsæ–‡ä»¶
.d.tsæ–‡ä»¶ï¼š åªæœ‰ç±»å‹å£°æ˜   â†’  ç¼–è¯‘  â†’  ä¸äº§ç”Ÿ.jsæ–‡ä»¶
```

### 3.2 åˆ›å»ºåŸºç¡€çš„ç±»å‹å£°æ˜æ–‡ä»¶


**ğŸ“ åŸºç¡€ç¤ºä¾‹**

```typescript
// utils.d.ts - ä¸ºç°æœ‰çš„utils.jsæä¾›ç±»å‹å£°æ˜
export interface User {
  id: number;
  name: string;
  email: string;
}

export interface ApiResponse<T> {
  success: boolean;
  data: T;
  message?: string;
}

// å£°æ˜å‡½æ•°
export declare function fetchUser(id: number): Promise<ApiResponse<User>>;
export declare function formatDate(date: Date): string;

// å£°æ˜ç±»
export declare class HttpClient {
  constructor(baseUrl: string);
  get<T>(url: string): Promise<T>;
  post<T>(url: string, data: any): Promise<T>;
}
```

### 3.3 ä¸ºç¬¬ä¸‰æ–¹åº“ç¼–å†™å£°æ˜æ–‡ä»¶


**ğŸ› ï¸ å®é™…æ¡ˆä¾‹ï¼šä¸ºsimple-modalåº“ç¼–å†™å£°æ˜**

```typescript
// simple-modal.d.ts
declare module 'simple-modal' {
  interface ModalOptions {
    title?: string;
    content: string;
    width?: number;
    height?: number;
    closable?: boolean;
    onClose?: () => void;
  }
  
  class Modal {
    constructor(options: ModalOptions);
    show(): void;
    hide(): void;
    destroy(): void;
  }
  
  export = Modal;
}

// æˆ–è€…ä½¿ç”¨ESæ¨¡å—å¯¼å‡ºé£æ ¼
declare module 'simple-modal' {
  export interface ModalOptions {
    title?: string;
    content: string;
    onClose?: () => void;
  }
  
  export default class Modal {
    constructor(options: ModalOptions);
    show(): void;
    hide(): void;
  }
}
```

### 3.4 å£°æ˜æ–‡ä»¶çš„æ”¾ç½®ä½ç½®


**ğŸ“ æ–‡ä»¶ç»„ç»‡ç­–ç•¥**

```
æ¨èçš„é¡¹ç›®ç»“æ„ï¼š

src/
â”œâ”€â”€ types/              # è‡ªå®šä¹‰ç±»å‹å£°æ˜ç›®å½•
â”‚   â”œâ”€â”€ global.d.ts    # å…¨å±€ç±»å‹å£°æ˜
â”‚   â”œâ”€â”€ api.d.ts       # APIç›¸å…³ç±»å‹
â”‚   â””â”€â”€ vendor.d.ts    # ç¬¬ä¸‰æ–¹åº“å£°æ˜
â”œâ”€â”€ components/
â”œâ”€â”€ utils/
â””â”€â”€ main.ts

æˆ–è€…ï¼š

src/
â”œâ”€â”€ @types/            # ä»¿ç…§node_modules/@typesçš„ç»“æ„  
â”‚   â”œâ”€â”€ simple-modal/
â”‚   â”‚   â””â”€â”€ index.d.ts
â”‚   â””â”€â”€ my-library/
â”‚       â””â”€â”€ index.d.ts
```

---

## 4. ğŸ“¦ @typesåŒ…çš„ä½¿ç”¨


### 4.1 @typesåŒ…çš„æ¦‚å¿µ


**ğŸ”¸ ä»€ä¹ˆæ˜¯@typesåŒ…ï¼Ÿ**

`@types`åŒ…æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„npmåŒ…å‘½åç©ºé—´ï¼Œä¸“é—¨ç”¨æ¥å­˜æ”¾TypeScriptç±»å‹å£°æ˜æ–‡ä»¶ã€‚

> **é€šä¿—ç†è§£**ï¼šå°±åƒæ˜¯ä¸€ä¸ªä¸“é—¨çš„"è¯´æ˜ä¹¦ä»“åº“"ï¼Œé‡Œé¢å­˜æ”¾ç€å„ç§JavaScriptåº“çš„ä½¿ç”¨è¯´æ˜ä¹¦ã€‚

```
@typesåŒ…çš„å‘½åè§„å¾‹ï¼š

åŸåº“å: lodash        â†’  ç±»å‹åŒ…: @types/lodash
åŸåº“å: express       â†’  ç±»å‹åŒ…: @types/express  
åŸåº“å: react         â†’  ç±»å‹åŒ…: @types/react
åŸåº“å: jquery        â†’  ç±»å‹åŒ…: @types/jquery
```

### 4.2 å®‰è£…å’Œä½¿ç”¨@typesåŒ…


**ğŸ“¥ å®‰è£…æ–¹å¼**

```bash
# ä¸ºç”Ÿäº§ä¾èµ–å®‰è£…ç±»å‹å£°æ˜
npm install lodash
npm install @types/lodash --save-dev

# ä¸ºå¼€å‘å·¥å…·å®‰è£…ç±»å‹å£°æ˜
npm install @types/node --save-dev
npm install @types/jest --save-dev

# ä¸€æ¬¡æ€§å®‰è£…åº“å’Œç±»å‹
npm install express @types/express
```

**ğŸ’¡ ä½¿ç”¨ç¤ºä¾‹**

```typescript
// å®‰è£…äº†@types/lodashåï¼Œå°±æœ‰å®Œæ•´çš„ç±»å‹æ”¯æŒ
import _ from 'lodash';

// TypeScriptçŸ¥é“è¿™äº›å‡½æ•°çš„ç±»å‹
const users = [
  { name: 'Alice', age: 25 },
  { name: 'Bob', age: 30 }
];

const sortedUsers = _.sortBy(users, 'age');  // æœ‰ç±»å‹æç¤º
const grouped = _.groupBy(users, 'age');     // è¿”å›ç±»å‹æ­£ç¡®
```

### 4.3 æ£€æŸ¥@typesåŒ…çš„å¯ç”¨æ€§


**ğŸ” æŸ¥æ‰¾å¯ç”¨çš„ç±»å‹åŒ…**

```bash
# åœ¨TypeScriptå®˜ç½‘æœç´¢
# https://www.typescriptlang.org/dt/search

# æˆ–è€…ç›´æ¥åœ¨npmæœç´¢
npm search @types/library-name

# æŸ¥çœ‹æŸä¸ª@typesåŒ…çš„ä¿¡æ¯
npm info @types/lodash
```

### 4.4 ç‰ˆæœ¬å¯¹åº”å…³ç³»


**âš–ï¸ ç‰ˆæœ¬åŒ¹é…ç­–ç•¥**

```json
{
  "dependencies": {
    "react": "^18.0.0",
    "lodash": "^4.17.21"
  },
  "devDependencies": {
    "@types/react": "^18.0.0",
    "@types/lodash": "^4.14.182"
  }
}
```

> **æ³¨æ„**ï¼š@typesåŒ…çš„ç‰ˆæœ¬å·é€šå¸¸ä¸å¯¹åº”åº“çš„ç‰ˆæœ¬å·ä¿æŒä¸€è‡´ï¼Œä½†æœ‰æ—¶ä¼šæœ‰ç»†å¾®å·®åˆ«ã€‚

---

## 5. ğŸ”„ æ¨¡å—ç±»å‹å£°æ˜ä¸æ‰©å±•


### 5.1 æ¨¡å—å£°æ˜çš„åŸºæœ¬è¯­æ³•


**ğŸ”¸ declare moduleè¯­æ³•**

```typescript
// ä¸ºä¸å­˜åœ¨ç±»å‹å£°æ˜çš„æ¨¡å—æä¾›ç±»å‹
declare module 'some-library' {
  export interface Config {
    apiKey: string;
    timeout: number;
  }
  
  export function init(config: Config): void;
  export const version: string;
}

// ä¸ºCSSæ¨¡å—æä¾›ç±»å‹æ”¯æŒ
declare module '*.css' {
  const classes: { [key: string]: string };
  export default classes;
}

// ä¸ºå›¾ç‰‡èµ„æºæä¾›ç±»å‹æ”¯æŒ  
declare module '*.png' {
  const src: string;
  export default src;
}
```

### 5.2 æ‰©å±•ç°æœ‰æ¨¡å—çš„ç±»å‹


**ğŸ”§ æ¨¡å—æ‰©å±•æŠ€å·§**

```typescript
// æ‰©å±•ç¬¬ä¸‰æ–¹åº“çš„ç±»å‹
declare module 'express-serve-static-core' {
  interface Request {
    user?: {
      id: number;
      name: string;
    };
  }
}

// ç°åœ¨åœ¨Expressä»£ç ä¸­å¯ä»¥ä½¿ç”¨
app.use((req, res, next) => {
  // TypeScriptçŸ¥é“req.userçš„ç±»å‹
  if (req.user) {
    console.log(req.user.name); // æœ‰ç±»å‹æç¤º
  }
});
```

### 5.3 å…¨å±€ç±»å‹æ‰©å±•


**ğŸŒ æ‰©å±•å…¨å±€å¯¹è±¡**

```typescript
// global.d.ts - æ‰©å±•å…¨å±€å¯¹è±¡
declare global {
  interface Window {
    myApp: {
      version: string;
      config: {
        apiUrl: string;
        debug: boolean;
      };
    };
  }
  
  // æ‰©å±•Node.jsçš„processå¯¹è±¡
  namespace NodeJS {
    interface ProcessEnv {
      NODE_ENV: 'development' | 'production' | 'test';
      API_URL: string;
      DATABASE_URL: string;
    }
  }
}

// å¿…é¡»æœ‰exportæ‰èƒ½è®©æ–‡ä»¶è¢«è¯†åˆ«ä¸ºæ¨¡å—
export {};
```

**ä½¿ç”¨æ•ˆæœ**

```typescript
// ç°åœ¨å¯ä»¥å®‰å…¨ä½¿ç”¨æ‰©å±•çš„å…¨å±€ç±»å‹
window.myApp.config.apiUrl;  // æœ‰ç±»å‹æ£€æŸ¥å’Œæç¤º
process.env.NODE_ENV;        // åªèƒ½æ˜¯æŒ‡å®šçš„å­—ç¬¦ä¸²å€¼
```

### 5.4 å¤„ç†JSONæ¨¡å—


**ğŸ“‹ JSONæ–‡ä»¶ç±»å‹å£°æ˜**

```typescript
// types/json.d.ts
declare module '*.json' {
  const value: any;
  export default value;
}

// æ›´ç²¾ç¡®çš„JSONç±»å‹å£°æ˜
declare module './config.json' {
  interface Config {
    apiUrl: string;
    features: {
      darkMode: boolean;
      notifications: boolean;
    };
  }
  const config: Config;
  export default config;
}
```

---

## 6. ğŸ’¼ å®æˆ˜åº”ç”¨åœºæ™¯


### 6.1 Reacté¡¹ç›®ä¸­çš„å¸¸è§å£°æ˜


**âš›ï¸ Reactå¼€å‘å¸¸ç”¨å£°æ˜**

```typescript
// react-app.d.ts - Reacté¡¹ç›®çš„ç±»å‹æ‰©å±•
declare module '*.svg' {
  import React = require('react');
  export const ReactComponent: React.ComponentType<React.SVGProps<SVGSVGElement>>;
  const src: string;
  export default src;
}

declare module '*.module.css' {
  const classes: { [key: string]: string };
  export default classes;
}

// æ‰©å±•ç¯å¢ƒå˜é‡
declare namespace NodeJS {
  interface ProcessEnv {
    REACT_APP_API_URL: string;
    REACT_APP_ENV: 'development' | 'production';
  }
}
```

### 6.2 Vueé¡¹ç›®ä¸­çš„å£°æ˜


**ğŸ”· Vueé¡¹ç›®ç±»å‹æ”¯æŒ**

```typescript
// vue-shim.d.ts - Vueå•æ–‡ä»¶ç»„ä»¶æ”¯æŒ
declare module '*.vue' {
  import { DefineComponent } from 'vue';
  const component: DefineComponent<{}, {}, any>;
  export default component;
}

// æ‰©å±•Vueå®ä¾‹
declare module '@vue/runtime-core' {
  interface ComponentCustomProperties {
    $http: {
      get(url: string): Promise<any>;
      post(url: string, data: any): Promise<any>;
    };
  }
}
```

### 6.3 Node.jsé¡¹ç›®å£°æ˜


**ğŸŒ Node.jsç¯å¢ƒç±»å‹**

```typescript
// node.d.ts - Node.jsé¡¹ç›®æ‰©å±•
declare global {
  namespace NodeJS {
    interface Global {
      __DEV__: boolean;
      __VERSION__: string;
    }
  }
}

// æ‰©å±•ç¬¬ä¸‰æ–¹ä¸­é—´ä»¶
declare module 'express-session' {
  interface SessionData {
    userId?: number;
    username?: string;
  }
}
```

### 6.4 å®ç”¨çš„ç±»å‹å£°æ˜æ¨¡æ¿


**ğŸ“‹ å¸¸ç”¨å£°æ˜æ¨¡æ¿**

```typescript
// utility-types.d.ts - å®ç”¨ç±»å‹å£°æ˜æ¨¡æ¿

// 1. ä¸ºè€æ—§çš„å…¨å±€åº“æä¾›ç±»å‹
declare var LegacyLibrary: {
  init(options: object): void;
  getData(): any[];
  version: string;
};

// 2. ä¸ºCSS-in-JSåº“æä¾›ç±»å‹
declare module 'styled-components' {
  interface DefaultTheme {
    colors: {
      primary: string;
      secondary: string;
    };
    breakpoints: string[];
  }
}

// 3. ä¸ºå·¥å…·å‡½æ•°æä¾›ç±»å‹
declare module 'my-utils' {
  export function debounce<T extends Function>(func: T, wait: number): T;
  export function throttle<T extends Function>(func: T, wait: number): T;
  export function formatCurrency(amount: number): string;
}

// 4. ä¸ºAPIå“åº”æä¾›ç±»å‹
declare namespace API {
  interface BaseResponse {
    success: boolean;
    message: string;
  }
  
  interface UserResponse extends BaseResponse {
    data: {
      id: number;
      name: string;
      email: string;
    };
  }
}
```

### 6.5 å›¢é˜Ÿå¼€å‘çš„å£°æ˜æ–‡ä»¶è§„èŒƒ


**ğŸ‘¥ å›¢é˜Ÿåä½œå»ºè®®**

```typescript
// 1. ç»Ÿä¸€çš„æ–‡ä»¶å‘½åå’Œç»„ç»‡
types/
â”œâ”€â”€ global.d.ts          # å…¨å±€ç±»å‹æ‰©å±•
â”œâ”€â”€ api.d.ts            # APIç›¸å…³ç±»å‹  
â”œâ”€â”€ vendor.d.ts         # ç¬¬ä¸‰æ–¹åº“å£°æ˜
â””â”€â”€ env.d.ts            # ç¯å¢ƒå˜é‡å£°æ˜

// 2. æ¸…æ™°çš„æ³¨é‡Šå’Œæ–‡æ¡£
declare module 'custom-library' {
  /**
   * åˆå§‹åŒ–åº“é…ç½®
   * @param config é…ç½®å¯¹è±¡
   * @param config.apiKey APIå¯†é’¥
   * @param config.timeout è¶…æ—¶æ—¶é—´(æ¯«ç§’)
   */
  export function init(config: {
    apiKey: string;
    timeout?: number;
  }): void;
}

// 3. ç‰ˆæœ¬å…¼å®¹æ€§æ³¨é‡Š
declare module 'old-library' {
  // æ³¨æ„ï¼šæ­¤å£°æ˜é€‚ç”¨äº old-library v2.x
  // v3.x ç‰ˆæœ¬çš„APIå·²æ”¹å˜ï¼Œéœ€è¦æ›´æ–°æ­¤å£°æ˜
  export function legacyMethod(): string;
}
```

---

## 7. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 7.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ ç±»å‹å£°æ˜æ–‡ä»¶ï¼šä¸ºJavaScriptä»£ç æä¾›ç±»å‹ä¿¡æ¯çš„"è¯´æ˜ä¹¦"
ğŸ”¸ declareå…³é”®å­—ï¼šå‘Šè¯‰TypeScriptæŸä¸ªä¸œè¥¿å·²å­˜åœ¨ï¼Œåªéœ€è¦çŸ¥é“ç±»å‹
ğŸ”¸ .d.tsæ–‡ä»¶ï¼šçº¯ç±»å‹å£°æ˜æ–‡ä»¶ï¼Œä¸åŒ…å«å®ç°ä»£ç 
ğŸ”¸ @typesåŒ…ï¼šä¸“é—¨å­˜æ”¾ç¬¬ä¸‰æ–¹åº“ç±»å‹å£°æ˜çš„npmåŒ…
ğŸ”¸ æ¨¡å—å£°æ˜ï¼šä¸ºæ²¡æœ‰ç±»å‹çš„æ¨¡å—æ·»åŠ ç±»å‹æ”¯æŒ
ğŸ”¸ å…¨å±€æ‰©å±•ï¼šæ‰©å±•å…¨å±€å¯¹è±¡å’Œç¬¬ä¸‰æ–¹åº“çš„ç±»å‹
```

### 7.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ å£°æ˜æ–‡ä»¶çš„æœ¬è´¨ä½œç”¨**
```
ç±»å‹å£°æ˜ = JavaScriptä»£ç çš„ç±»å‹è¯´æ˜ä¹¦
è®©TypeScriptç†è§£ç°æœ‰JavaScriptä»£ç çš„ç»“æ„å’Œç”¨æ³•
æä¾›æ™ºèƒ½æç¤ºå’Œç±»å‹æ£€æŸ¥ï¼Œä½†ä¸å½±å“è¿è¡Œæ—¶è¡Œä¸º
```

**ğŸ”¹ ä»€ä¹ˆæ—¶å€™éœ€è¦å†™å£°æ˜æ–‡ä»¶**
```
âœ… ä½¿ç”¨æ²¡æœ‰å†…ç½®TypeScriptæ”¯æŒçš„ç¬¬ä¸‰æ–¹åº“
âœ… å¼•å…¥å¤–éƒ¨CDNè„šæœ¬æˆ–å…¨å±€å˜é‡
âœ… ä½¿ç”¨éæ ‡å‡†çš„æ–‡ä»¶æ ¼å¼ï¼ˆCSSã€å›¾ç‰‡ç­‰ï¼‰
âœ… æ‰©å±•ç°æœ‰åº“æˆ–å…¨å±€å¯¹è±¡çš„ç±»å‹
```

**ğŸ”¹ declare vs exportçš„åŒºåˆ«**
```
declare: å£°æ˜å·²å­˜åœ¨çš„ä¸œè¥¿çš„ç±»å‹
export:  å¯¼å‡ºè‡ªå·±å®šä¹‰çš„ç±»å‹æˆ–å®ç°
```

### 7.3 å®é™…åº”ç”¨ä»·å€¼


**ğŸ’¼ å¼€å‘æ•ˆç‡æå‡**
- **æ™ºèƒ½æç¤º**ï¼šIDEèƒ½æä¾›å‡†ç¡®çš„ä»£ç è¡¥å…¨
- **ç±»å‹æ£€æŸ¥**ï¼šç¼–è¯‘æ—¶å‘ç°æ½œåœ¨çš„ç±»å‹é”™è¯¯
- **é‡æ„å®‰å…¨**ï¼šä¿®æ”¹ä»£ç æ—¶æœ‰ç±»å‹ä¿æŠ¤
- **æ–‡æ¡£ä½œç”¨**ï¼šç±»å‹å£°æ˜æœ¬èº«å°±æ˜¯æ´»æ–‡æ¡£

**ğŸ¯ å›¢é˜Ÿåä½œä¼˜åŠ¿**
- **ç»Ÿä¸€è§„èŒƒ**ï¼šå›¢é˜Ÿæˆå‘˜ä½¿ç”¨ç›¸åŒçš„ç±»å‹çº¦å®š
- **é™ä½é—¨æ§›**ï¼šæ–°æˆå‘˜é€šè¿‡ç±»å‹å¿«é€Ÿç†è§£ä»£ç 
- **å‡å°‘æ²Ÿé€š**ï¼šç±»å‹å£°æ˜å‡å°‘APIä½¿ç”¨çš„æ²Ÿé€šæˆæœ¬
- **è´¨é‡ä¿è¯**ï¼šç±»å‹æ£€æŸ¥å‡å°‘è¿è¡Œæ—¶é”™è¯¯

### 7.4 å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ


**â“ å¸¸è§é—®é¢˜å¤„ç†**

```typescript
// é—®é¢˜1ï¼šç¬¬ä¸‰æ–¹åº“æ²¡æœ‰ç±»å‹æ€ä¹ˆåŠï¼Ÿ
// è§£å†³ï¼šæŸ¥æ‰¾@typesåŒ…ï¼Œæˆ–è‡ªå·±å†™declare module

// é—®é¢˜2ï¼šå…¨å±€å˜é‡TypeScriptä¸è®¤è¯†ï¼Ÿ  
// è§£å†³ï¼šä½¿ç”¨declare var/let/constå£°æ˜

// é—®é¢˜3ï¼šæƒ³è¦æ‰©å±•ç°æœ‰åº“çš„ç±»å‹ï¼Ÿ
// è§£å†³ï¼šä½¿ç”¨declare module + interfaceåˆå¹¶

// é—®é¢˜4ï¼šç¯å¢ƒå˜é‡æ²¡æœ‰ç±»å‹æç¤ºï¼Ÿ
// è§£å†³ï¼šæ‰©å±•NodeJS.ProcessEnvæ¥å£
```

**ğŸ’¡ æœ€ä½³å®è·µå»ºè®®**
```
1. ä¼˜å…ˆä½¿ç”¨å®˜æ–¹æˆ–@typesæä¾›çš„ç±»å‹å£°æ˜
2. è‡ªå®šä¹‰å£°æ˜æ–‡ä»¶è¦æ·»åŠ æ¸…æ™°çš„æ³¨é‡Š
3. å›¢é˜Ÿå†…ç»Ÿä¸€å£°æ˜æ–‡ä»¶çš„ç»„ç»‡ç»“æ„
4. å®šæœŸæ£€æŸ¥å’Œæ›´æ–°ç±»å‹å£°æ˜çš„å‡†ç¡®æ€§
5. é¿å…è¿‡åº¦ä½¿ç”¨anyï¼Œå°½é‡æä¾›ç²¾ç¡®çš„ç±»å‹
```

**æ ¸å¿ƒè®°å¿†å£è¯€**ï¼š
```
ç±»å‹å£°æ˜æ˜¯è¯´æ˜ä¹¦ï¼Œå‘Šè¯‰TSæ€ä¹ˆç”¨
declareå£°æ˜å·²å­˜åœ¨ï¼Œ.d.tsæ–‡ä»¶çº¯ç±»å‹
@typesåŒ…æ˜¯å¤§ä»“åº“ï¼Œç¬¬ä¸‰æ–¹åº“æ‰¾ç±»å‹
æ¨¡å—å£°æ˜moduleç”¨ï¼Œå…¨å±€æ‰©å±•globalåŠ 
å®é™…é¡¹ç›®è¦è§„èŒƒï¼Œå›¢é˜Ÿåä½œæ•ˆç‡é«˜
```