---
title: 2ã€ç¼–ç¨‹æ€æƒ³ä¸æ€§èƒ½ä¼˜åŒ–
---
## ğŸ“š ç›®å½•

1. [æ€§èƒ½æ€ç»´èåˆ](#1-æ€§èƒ½æ€ç»´èåˆ)
2. [æå‰ä¼˜åŒ–ç­–ç•¥](#2-æå‰ä¼˜åŒ–ç­–ç•¥)
3. [æ•°æ®ç»“æ„é€‰æ‹©](#3-æ•°æ®ç»“æ„é€‰æ‹©)
4. [ç®—æ³•ä¼˜åŒ–æ€è·¯](#4-ç®—æ³•ä¼˜åŒ–æ€è·¯)
5. [å¹¶å‘å¼‚æ­¥åº”ç”¨](#5-å¹¶å‘å¼‚æ­¥åº”ç”¨)
6. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#6-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ§  æ€§èƒ½æ€ç»´èåˆ


### 1.1 ä»€ä¹ˆæ˜¯æ€§èƒ½æ€ç»´èåˆ


**ğŸ’¡ æ ¸å¿ƒæ¦‚å¿µ**
æ€§èƒ½æ€ç»´èåˆå°±æ˜¯æŠŠæ€§èƒ½è€ƒè™‘è´¯ç©¿åˆ°ç¼–ç¨‹çš„å„ä¸ªç¯èŠ‚ï¼Œä¸æ˜¯å†™å®Œä»£ç å†å»ä¼˜åŒ–ï¼Œè€Œæ˜¯åœ¨å†™ä»£ç çš„è¿‡ç¨‹ä¸­å°±è€ƒè™‘æ€§èƒ½é—®é¢˜ã€‚

```
ä¼ ç»Ÿæ€ç»´ï¼šåŠŸèƒ½ â†’ æµ‹è¯• â†’ å‘ç°æ…¢ â†’ ä¼˜åŒ–
æ€§èƒ½æ€ç»´ï¼šåŠŸèƒ½ + æ€§èƒ½ â†’ åŒæ­¥è®¾è®¡ â†’ å¤©ç„¶é«˜æ•ˆ
```

**ğŸ¯ ä¸ºä»€ä¹ˆè¦èåˆæ€§èƒ½æ€ç»´**
- **é¢„é˜²èƒœäºæ²»ç–—**ï¼šæå‰è€ƒè™‘æ¯”åæœŸæ”¹é€ æˆæœ¬æ›´ä½
- **æ¶æ„å½±å“æ·±è¿œ**ï¼šåº•å±‚è®¾è®¡é—®é¢˜å¾ˆéš¾åæœŸä¿®è¡¥
- **ç”¨æˆ·ä½“éªŒè‡³å…³é‡è¦**ï¼šæ…¢çš„ç³»ç»Ÿæ²¡äººæ„¿æ„ç”¨

### 1.2 æ€§èƒ½æ€ç»´çš„æ ¸å¿ƒåŸåˆ™


**âš¡ æ—¶é—´å¤æ‚åº¦ä¼˜å…ˆåŸåˆ™**
```
å¥½çš„ä»£ç ï¼š
for (int i = 0; i < n; i++) {    // O(n)
    result += arr[i];
}

ç³Ÿç³•çš„ä»£ç ï¼š
for (int i = 0; i < n; i++) {    // O(nÂ²)
    for (int j = 0; j < n; j++) {
        if (i == j) result += arr[i];
    }
}
```

**ğŸ“Š ç©ºé—´æ—¶é—´æƒè¡¡åŸåˆ™**
æœ‰æ—¶å€™ç”¨ä¸€ç‚¹é¢å¤–å†…å­˜ï¼Œå¯ä»¥å¤§å¹…æå‡é€Ÿåº¦ï¼š

```java
// ç”¨ç©ºé—´æ¢æ—¶é—´ï¼šç¼“å­˜è®¡ç®—ç»“æœ
Map<String, Integer> cache = new HashMap<>();

public int calculate(String key) {
    if (cache.containsKey(key)) {
        return cache.get(key);  // ç›´æ¥è¿”å›ï¼Œé¿å…é‡å¤è®¡ç®—
    }
    
    int result = expensiveCalculation(key);
    cache.put(key, result);
    return result;
}
```

### 1.3 æ€§èƒ½æ€ç»´åœ¨ä¸åŒå±‚é¢çš„ä½“ç°


**ğŸ—ï¸ æ¶æ„å±‚é¢çš„æ€§èƒ½æ€ç»´**
```
å•ä½“åº”ç”¨ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     å…¨éƒ¨åŠŸèƒ½     â”‚ â† ç®€å•ä½†æ‰©å±•æ€§å·®
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

å¾®æœåŠ¡æ¶æ„ï¼š
â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”
â”‚ç”¨æˆ· â”‚ â”‚è®¢å• â”‚ â”‚æ”¯ä»˜ â”‚ â† å¯ç‹¬ç«‹æ‰©å±•
â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜
```

**ğŸ’¾ æ•°æ®å±‚é¢çš„æ€§èƒ½æ€ç»´**
```
å…³ç³»å‹æ•°æ®åº“ï¼šé€‚åˆå¤æ‚æŸ¥è¯¢
â”Œâ”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”
â”‚ ID  â”‚å§“å â”‚å¹´é¾„ â”‚
â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¤
â”‚  1  â”‚å¼ ä¸‰ â”‚ 25  â”‚
â””â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”˜

NoSQLæ•°æ®åº“ï¼šé€‚åˆå¤§é‡è¯»å†™
{
  "id": 1,
  "name": "å¼ ä¸‰",
  "age": 25,
  "tags": ["ç¨‹åºå‘˜", "è¿åŠ¨"]
}
```

**ğŸ”§ ä»£ç å±‚é¢çš„æ€§èƒ½æ€ç»´**
- **é¿å…ä¸å¿…è¦çš„å¯¹è±¡åˆ›å»º**ï¼šé‡ç”¨å¯¹è±¡ï¼Œä½¿ç”¨å¯¹è±¡æ± 
- **é€‰æ‹©åˆé€‚çš„æ•°æ®ç»“æ„**ï¼šArrayList vs LinkedList
- **å‡å°‘å¾ªç¯åµŒå¥—**ï¼šèƒ½ä¸€æ¬¡å¾ªç¯è§£å†³å°±ä¸è¦ä¸¤æ¬¡

---

## 2. â° æå‰ä¼˜åŒ–ç­–ç•¥


### 2.1 ä»€ä¹ˆæ˜¯æå‰ä¼˜åŒ–ç­–ç•¥


**ğŸ“‹ åŸºæœ¬æ¦‚å¿µ**
æå‰ä¼˜åŒ–ç­–ç•¥æ˜¯æŒ‡åœ¨è®¾è®¡å’Œç¼–ç é˜¶æ®µå°±è€ƒè™‘æ€§èƒ½é—®é¢˜ï¼Œè€Œä¸æ˜¯ç­‰åˆ°ç³»ç»Ÿå‡ºç°æ€§èƒ½ç“¶é¢ˆæ—¶å†å»è§£å†³ã€‚

> **é‡è¦æé†’**ï¼šè¿™é‡Œè¯´çš„ä¸æ˜¯"è¿‡æ—©ä¼˜åŒ–"ï¼ˆpremature optimizationï¼‰ï¼Œè€Œæ˜¯"åˆç†çš„æå‰è§„åˆ’"

### 2.2 æå‰ä¼˜åŒ–çš„æ­£ç¡®å§¿åŠ¿


**âœ… åº”è¯¥æå‰è€ƒè™‘çš„äº‹æƒ…**

**æ•°æ®åº“è®¾è®¡æ—¶çš„ç´¢å¼•è§„åˆ’**
```sql
-- æå‰è®¾è®¡ç´¢å¼•ï¼Œè€Œä¸æ˜¯æŸ¥è¯¢æ…¢äº†å†åŠ 
CREATE INDEX idx_user_email ON users(email);
CREATE INDEX idx_order_date ON orders(order_date);
```

**APIè®¾è®¡æ—¶çš„åˆ†é¡µè€ƒè™‘**
```java
// å¥½çš„è®¾è®¡ï¼šä¸€å¼€å§‹å°±æ”¯æŒåˆ†é¡µ
public List<User> getUsers(int page, int size) {
    return userRepository.findAll(PageRequest.of(page, size));
}

// ç³Ÿç³•çš„è®¾è®¡ï¼šè¿”å›æ‰€æœ‰æ•°æ®
public List<User> getAllUsers() {
    return userRepository.findAll(); // æ•°æ®å¤šäº†å°±æ…¢æ­»
}
```

**ç¼“å­˜ç­–ç•¥çš„æå‰è§„åˆ’**
```java
// æå‰è®¾è®¡ç¼“å­˜å±‚
@Service
public class UserService {
    @Cacheable("users")
    public User getUserById(Long id) {
        return userRepository.findById(id);
    }
}
```

### 2.3 æå‰ä¼˜åŒ–çš„å±‚æ¬¡ç­–ç•¥


**ğŸ¯ ä¸‰å±‚ä¼˜åŒ–ç­–ç•¥**

| ä¼˜åŒ–å±‚æ¬¡ | **å…³æ³¨ç‚¹** | **å…¸å‹åšæ³•** | **é€‚ç”¨åœºæ™¯** |
|---------|-----------|-------------|-------------|
| ğŸ”¥ **æ¶æ„å±‚** | `ç³»ç»Ÿæ•´ä½“æ€§èƒ½` | `ç¼“å­˜ã€è´Ÿè½½å‡è¡¡ã€åˆ†åº“åˆ†è¡¨` | `å¤§å‹ç³»ç»Ÿã€é«˜å¹¶å‘` |
| âš¡ **ç®—æ³•å±‚** | `æ ¸å¿ƒé€»è¾‘æ•ˆç‡` | `é€‰æ‹©é«˜æ•ˆç®—æ³•ã€ä¼˜åŒ–æ•°æ®ç»“æ„` | `è®¡ç®—å¯†é›†å‹ä»»åŠ¡` |
| ğŸ”§ **ä»£ç å±‚** | `å…·ä½“å®ç°ç»†èŠ‚` | `å‡å°‘å¯¹è±¡åˆ›å»ºã€ä¼˜åŒ–å¾ªç¯` | `æ‰€æœ‰é¡¹ç›®` |

**ğŸ“Š å®é™…åº”ç”¨ç¤ºä¾‹**
```java
// æ¶æ„å±‚ï¼šä½¿ç”¨ç¼“å­˜
@Cacheable("userProfiles")
public UserProfile getUserProfile(Long userId) {
    
    // ç®—æ³•å±‚ï¼šä½¿ç”¨é«˜æ•ˆæŸ¥æ‰¾
    Map<Long, UserProfile> profileMap = buildProfileMap();
    UserProfile profile = profileMap.get(userId); // O(1)æŸ¥æ‰¾
    
    // ä»£ç å±‚ï¼šé¿å…é‡å¤è®¡ç®—
    if (profile.getScore() == null) {
        profile.setScore(calculateScore(profile)); // åªè®¡ç®—ä¸€æ¬¡
    }
    
    return profile;
}
```

### 2.4 é¿å…è¿‡åº¦æå‰ä¼˜åŒ–


**âš ï¸ ä¸è¦åšçš„äº‹æƒ…**
- **ä¸è¦ä¼˜åŒ–è¿˜ä¸å­˜åœ¨çš„é—®é¢˜**
- **ä¸è¦ä¸ºäº†æ€§èƒ½ç‰ºç‰²ä»£ç å¯è¯»æ€§**
- **ä¸è¦åœ¨ä¸äº†è§£ç“¶é¢ˆçš„æƒ…å†µä¸‹ç›²ç›®ä¼˜åŒ–**

**ğŸ¯ åˆç†çš„æå‰ä¼˜åŒ–åŸåˆ™**
```
80/20åŸåˆ™ï¼š80%çš„æ€§èƒ½é—®é¢˜æ¥è‡ª20%çš„ä»£ç 
å…³æ³¨æ ¸å¿ƒæµç¨‹ï¼šç”¨æˆ·æœ€å¸¸ç”¨çš„åŠŸèƒ½ä¼˜å…ˆè€ƒè™‘
æ•°æ®é©±åŠ¨ï¼šåŸºäºå®é™…æ•°æ®é‡å’Œå¹¶å‘é‡æ¥è®¾è®¡
```

---

## 3. ğŸ“Š æ•°æ®ç»“æ„é€‰æ‹©


### 3.1 æ€§èƒ½å¯¼å‘çš„æ•°æ®ç»“æ„é€‰æ‹©æ€ç»´


**ğŸ§  é€‰æ‹©æ€ç»´æ¡†æ¶**
é€‰æ‹©æ•°æ®ç»“æ„ä¸æ˜¯çœ‹å“ªä¸ª"æ›´é«˜çº§"ï¼Œè€Œæ˜¯çœ‹å“ªä¸ªæœ€é€‚åˆä½ çš„ä½¿ç”¨åœºæ™¯ã€‚

```
åœºæ™¯åˆ†æ â†’ æ“ä½œé¢‘ç‡ â†’ æ€§èƒ½è¦æ±‚ â†’ æ•°æ®ç»“æ„é€‰æ‹©
```

### 3.2 å¸¸è§æ•°æ®ç»“æ„çš„æ€§èƒ½ç‰¹ç‚¹


**ğŸ“‹ æ ¸å¿ƒæ•°æ®ç»“æ„å¯¹æ¯”è¡¨**

| æ•°æ®ç»“æ„ | **æŸ¥æ‰¾** | **æ’å…¥** | **åˆ é™¤** | **é€‚ç”¨åœºæ™¯** |
|---------|---------|---------|---------|-------------|
| ğŸ”— **ArrayList** | `O(1)æŒ‰ç´¢å¼•` | `O(1)æœ«å°¾` | `O(n)ä¸­é—´` | `é¢‘ç¹éšæœºè®¿é—®ï¼Œå°‘æ’å…¥åˆ é™¤` |
| ğŸ”— **LinkedList** | `O(n)éå†` | `O(1)å·²çŸ¥ä½ç½®` | `O(1)å·²çŸ¥ä½ç½®` | `é¢‘ç¹æ’å…¥åˆ é™¤ï¼Œå°‘éšæœºè®¿é—®` |
| ğŸ—‚ï¸ **HashMap** | `O(1)å¹³å‡` | `O(1)å¹³å‡` | `O(1)å¹³å‡` | `é”®å€¼å¯¹å­˜å‚¨ï¼Œå¿«é€ŸæŸ¥æ‰¾` |
| ğŸŒ³ **TreeMap** | `O(log n)` | `O(log n)` | `O(log n)` | `éœ€è¦æ’åºçš„é”®å€¼å¯¹` |

### 3.3 å®é™…åœºæ™¯ä¸­çš„é€‰æ‹©ç­–ç•¥


**ğŸ¯ åœºæ™¯1ï¼šç”¨æˆ·IDåˆ—è¡¨ç®¡ç†**
```java
// åœºæ™¯ï¼šç®¡ç†ç”¨æˆ·IDï¼Œéœ€è¦å¿«é€Ÿåˆ¤æ–­æŸä¸ªIDæ˜¯å¦å­˜åœ¨
// é”™è¯¯é€‰æ‹©ï¼šArrayList
List<Long> userIds = new ArrayList<>();
boolean exists = userIds.contains(targetId); // O(n)æ—¶é—´å¤æ‚åº¦

// æ­£ç¡®é€‰æ‹©ï¼šHashSet
Set<Long> userIds = new HashSet<>();
boolean exists = userIds.contains(targetId); // O(1)æ—¶é—´å¤æ‚åº¦
```

**ğŸ¯ åœºæ™¯2ï¼šå•†å“æ’è¡Œæ¦œ**
```java
// åœºæ™¯ï¼šå•†å“æŒ‰é”€é‡æ’åºï¼Œéœ€è¦é¢‘ç¹æ›´æ–°å’ŒæŸ¥è¯¢æ’å
// æ–¹æ¡ˆé€‰æ‹©ï¼šTreeMapï¼ˆè‡ªåŠ¨æ’åºï¼‰
TreeMap<Integer, Product> rankingMap = new TreeMap<>(Collections.reverseOrder());

// æ›´æ–°å•†å“é”€é‡
public void updateSales(Product product, int newSales) {
    rankingMap.remove(product.getSales()); // ç§»é™¤æ—§æ’å
    product.setSales(newSales);
    rankingMap.put(newSales, product);     // æ’å…¥æ–°æ’å
}
```

**ğŸ¯ åœºæ™¯3ï¼šLRUç¼“å­˜å®ç°**
```java
// åœºæ™¯ï¼šå®ç°æœ€è¿‘æœ€å°‘ä½¿ç”¨ç¼“å­˜
// é€‰æ‹©ï¼šLinkedHashMapï¼ˆä¿æŒæ’å…¥é¡ºåº + O(1)è®¿é—®ï¼‰
public class LRUCache<K, V> {
    private final int capacity;
    private final LinkedHashMap<K, V> cache;
    
    public LRUCache(int capacity) {
        this.capacity = capacity;
        this.cache = new LinkedHashMap<K, V>(16, 0.75f, true) {
            @Override
            protected boolean removeEldestEntry(Map.Entry<K, V> eldest) {
                return size() > capacity;
            }
        };
    }
    
    public V get(K key) {
        return cache.get(key); // è‡ªåŠ¨ç§»åˆ°æœ«å°¾
    }
    
    public void put(K key, V value) {
        cache.put(key, value); // è‡ªåŠ¨ç§»åˆ°æœ«å°¾
    }
}
```

### 3.4 æ•°æ®ç»“æ„é€‰æ‹©çš„å®ç”¨æŠ€å·§


**ğŸ’¡ é€‰æ‹©æŠ€å·§å£è¯€**
```
éœ€è¦é¡ºåºè®¿é—®é€‰æ•°ç»„ï¼Œéšæœºæ’å…¥åˆ é™¤é€‰é“¾è¡¨
é”®å€¼æŸ¥æ‰¾é€‰å“ˆå¸Œè¡¨ï¼Œæ’åºéœ€æ±‚é€‰çº¢é»‘æ ‘
æ ˆç”¨æ•°ç»„é˜Ÿåˆ—é€‰é“¾ï¼Œå›¾ç”¨é‚»æ¥è¡¨æœ€ä¾¿
```

**ğŸ” æ€§èƒ½æµ‹è¯•éªŒè¯é€‰æ‹©**
```java
// å¯¹æ¯”ä¸åŒæ•°æ®ç»“æ„çš„æ€§èƒ½
public void performanceTest() {
    List<Integer> arrayList = new ArrayList<>();
    List<Integer> linkedList = new LinkedList<>();
    
    // æµ‹è¯•æ’å…¥æ€§èƒ½
    long start = System.nanoTime();
    for (int i = 0; i < 100000; i++) {
        arrayList.add(i);
    }
    long arrayTime = System.nanoTime() - start;
    
    start = System.nanoTime();
    for (int i = 0; i < 100000; i++) {
        linkedList.add(i);
    }
    long linkedTime = System.nanoTime() - start;
    
    System.out.println("ArrayList: " + arrayTime + "ns");
    System.out.println("LinkedList: " + linkedTime + "ns");
}
```

---

## 4. ğŸ¯ ç®—æ³•ä¼˜åŒ–æ€è·¯


### 4.1 ç®—æ³•ä¼˜åŒ–çš„åŸºæœ¬æ€ç»´


**ğŸ§  ä¼˜åŒ–æ€ç»´æµç¨‹**
```
ç†è§£é—®é¢˜ â†’ åˆ†æå¤æ‚åº¦ â†’ å¯»æ‰¾ç“¶é¢ˆ â†’ ä¼˜åŒ–ç­–ç•¥ â†’ éªŒè¯æ•ˆæœ
```

**âš¡ å¸¸è§çš„ä¼˜åŒ–ç­–ç•¥**
- **å‡å°‘é‡å¤è®¡ç®—**ï¼šç¼“å­˜ä¸­é—´ç»“æœ
- **é™ä½æ—¶é—´å¤æ‚åº¦**ï¼šé€‰æ‹©æ›´é«˜æ•ˆçš„ç®—æ³•
- **ç©ºé—´æ¢æ—¶é—´**ï¼šç”¨å†…å­˜æå‡é€Ÿåº¦
- **åˆ†æ²»æ€æƒ³**ï¼šå¤§é—®é¢˜æ‹†è§£æˆå°é—®é¢˜

### 4.2 å®ç”¨çš„ç®—æ³•ä¼˜åŒ–æŠ€å·§


**ğŸ’¾ ç¼“å­˜ä¼˜åŒ–ï¼šé¿å…é‡å¤è®¡ç®—**
```java
// æ–æ³¢é‚£å¥‘æ•°åˆ—ï¼šä»O(2^n)ä¼˜åŒ–åˆ°O(n)
public class Fibonacci {
    private Map<Integer, Long> cache = new HashMap<>();
    
    // æœªä¼˜åŒ–ç‰ˆæœ¬ï¼šæ¯æ¬¡éƒ½é‡æ–°è®¡ç®—
    public long fibSlow(int n) {
        if (n <= 1) return n;
        return fibSlow(n-1) + fibSlow(n-2); // å¤§é‡é‡å¤è®¡ç®—
    }
    
    // ä¼˜åŒ–ç‰ˆæœ¬ï¼šç¼“å­˜ç»“æœ
    public long fibFast(int n) {
        if (n <= 1) return n;
        if (cache.containsKey(n)) {
            return cache.get(n);
        }
        
        long result = fibFast(n-1) + fibFast(n-2);
        cache.put(n, result);
        return result;
    }
}
```

**ğŸ” æŸ¥æ‰¾ä¼˜åŒ–ï¼šä»çº¿æ€§åˆ°å¯¹æ•°**
```java
// åœ¨æœ‰åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ 
public class SearchOptimization {
    
    // çº¿æ€§æŸ¥æ‰¾ï¼šO(n)
    public int linearSearch(int[] arr, int target) {
        for (int i = 0; i < arr.length; i++) {
            if (arr[i] == target) return i;
        }
        return -1;
    }
    
    // äºŒåˆ†æŸ¥æ‰¾ï¼šO(log n)
    public int binarySearch(int[] arr, int target) {
        int left = 0, right = arr.length - 1;
        
        while (left <= right) {
            int mid = left + (right - left) / 2;
            
            if (arr[mid] == target) return mid;
            else if (arr[mid] < target) left = mid + 1;
            else right = mid - 1;
        }
        return -1;
    }
}
```

**ğŸ”„ å¾ªç¯ä¼˜åŒ–ï¼šå‡å°‘ä¸å¿…è¦çš„æ“ä½œ**
```java
public class LoopOptimization {
    
    // æœªä¼˜åŒ–ï¼šæ¯æ¬¡å¾ªç¯éƒ½è®¡ç®—é•¿åº¦
    public void badLoop(List<String> list) {
        for (int i = 0; i < list.size(); i++) { // æ¯æ¬¡è°ƒç”¨size()
            process(list.get(i));
        }
    }
    
    // ä¼˜åŒ–ï¼šæå‰è®¡ç®—é•¿åº¦
    public void goodLoop(List<String> list) {
        int size = list.size(); // åªè°ƒç”¨ä¸€æ¬¡
        for (int i = 0; i < size; i++) {
            process(list.get(i));
        }
    }
    
    // æ›´å¥½ï¼šä½¿ç”¨å¢å¼ºforå¾ªç¯
    public void bestLoop(List<String> list) {
        for (String item : list) { // æœ€æ¸…æ™°é«˜æ•ˆ
            process(item);
        }
    }
}
```

### 4.3 ç®—æ³•å¤æ‚åº¦çš„æƒè¡¡æ€è€ƒ


**ğŸ“Š æ—¶é—´å¤æ‚åº¦çš„å®é™…æ„ä¹‰**
```
O(1)    ï¼š 1å¾®ç§’      â†’ ç«‹å³å“åº”
O(log n)ï¼š 10å¾®ç§’     â†’ éå¸¸å¿«
O(n)    ï¼š 1æ¯«ç§’      â†’ å¯æ¥å—
O(nÂ²)   ï¼š 1ç§’        â†’ éœ€è¦ä¼˜åŒ–
O(2^n)  ï¼š æ°¸è¿œä¸å®Œæˆ  â†’ å¿…é¡»ä¼˜åŒ–
```

**âš–ï¸ ç©ºé—´æ—¶é—´æƒè¡¡å®ä¾‹**
```java
// ä¾‹ï¼šæŸ¥æ‰¾ä¸¤ä¸ªæ•°ç»„çš„äº¤é›†
public class ArrayIntersection {
    
    // æ–¹æ³•1ï¼šæš´åŠ›æ³• - æ—¶é—´O(m*n)ï¼Œç©ºé—´O(1)
    public List<Integer> intersectBruteForce(int[] nums1, int[] nums2) {
        List<Integer> result = new ArrayList<>();
        for (int num1 : nums1) {
            for (int num2 : nums2) {
                if (num1 == num2) {
                    result.add(num1);
                    break;
                }
            }
        }
        return result;
    }
    
    // æ–¹æ³•2ï¼šå“ˆå¸Œè¡¨æ³• - æ—¶é—´O(m+n)ï¼Œç©ºé—´O(min(m,n))
    public List<Integer> intersectHashSet(int[] nums1, int[] nums2) {
        Set<Integer> set = new HashSet<>();
        for (int num : nums1) {
            set.add(num);
        }
        
        List<Integer> result = new ArrayList<>();
        for (int num : nums2) {
            if (set.contains(num)) {
                result.add(num);
                set.remove(num); // é¿å…é‡å¤
            }
        }
        return result;
    }
}
```

### 4.4 ç®—æ³•ä¼˜åŒ–çš„å®è·µåŸåˆ™


**ğŸ¯ ä¼˜åŒ–åŸåˆ™**
1. **å…ˆä¿è¯æ­£ç¡®æ€§**ï¼šåŠŸèƒ½å¯¹äº†å†è€ƒè™‘æ€§èƒ½
2. **æµ‹é‡åå†ä¼˜åŒ–**ï¼šä¸è¦å‡­æ„Ÿè§‰ï¼Œè¦ç”¨æ•°æ®è¯´è¯
3. **å…³æ³¨çƒ­ç‚¹ä»£ç **ï¼šä¼˜åŒ–è¢«é¢‘ç¹è°ƒç”¨çš„éƒ¨åˆ†
4. **è€ƒè™‘å®é™…æ•°æ®è§„æ¨¡**ï¼šå°æ•°æ®é‡ä¸éœ€è¦å¤æ‚ç®—æ³•

**ğŸ“ˆ æ€§èƒ½æµ‹è¯•ç¤ºä¾‹**
```java
public class PerformanceTest {
    
    public void compareAlgorithms() {
        int[] data = generateTestData(100000);
        
        // æµ‹è¯•æ’åºç®—æ³•æ€§èƒ½
        long start = System.nanoTime();
        bubbleSort(data.clone());
        long bubbleTime = System.nanoTime() - start;
        
        start = System.nanoTime();
        quickSort(data.clone());
        long quickTime = System.nanoTime() - start;
        
        System.out.println("å†’æ³¡æ’åº: " + bubbleTime / 1_000_000 + "ms");
        System.out.println("å¿«é€Ÿæ’åº: " + quickTime / 1_000_000 + "ms");
        System.out.println("æ€§èƒ½æå‡: " + (bubbleTime / quickTime) + "å€");
    }
}
```

---

## 5. ğŸš€ å¹¶å‘å¼‚æ­¥åº”ç”¨


### 5.1 å¹¶å‘æ€ç»´åœ¨æ€§èƒ½ä¼˜åŒ–ä¸­çš„ä½œç”¨


**ğŸ§  å¹¶å‘æ€ç»´çš„æœ¬è´¨**
å¹¶å‘ä¸æ˜¯è®©ä¸€ä¸ªä»»åŠ¡è·‘å¾—æ›´å¿«ï¼Œè€Œæ˜¯è®©å¤šä¸ªä»»åŠ¡å¯ä»¥åŒæ—¶è¿›è¡Œï¼Œä»è€Œæå‡æ•´ä½“ç³»ç»Ÿçš„ååé‡ã€‚

```
ä¸²è¡Œå¤„ç†ï¼šä»»åŠ¡1 â†’ ä»»åŠ¡2 â†’ ä»»åŠ¡3 ï¼ˆæ€»æ—¶é—´ï¼š3ç§’ï¼‰
å¹¶å‘å¤„ç†ï¼šä»»åŠ¡1 â†˜
         ä»»åŠ¡2 â†’ å¹¶è¡Œæ‰§è¡Œ ï¼ˆæ€»æ—¶é—´ï¼š1ç§’ï¼‰
         ä»»åŠ¡3 â†—
```

**âš¡ å¹¶å‘ä¼˜åŒ–çš„æ ¸å¿ƒåœºæ™¯**
- **I/Oå¯†é›†å‹ä»»åŠ¡**ï¼šæ–‡ä»¶è¯»å†™ã€ç½‘ç»œè¯·æ±‚ã€æ•°æ®åº“æ“ä½œ
- **CPUå¯†é›†å‹ä»»åŠ¡**ï¼šå›¾åƒå¤„ç†ã€æ•°æ®è®¡ç®—ã€ç®—æ³•è¿ç®—
- **ç”¨æˆ·ç•Œé¢å“åº”**ï¼šä¿æŒç•Œé¢æµç•…ï¼Œåå°å¤„ç†è€—æ—¶ä»»åŠ¡

### 5.2 å¼‚æ­¥ç¼–ç¨‹çš„å®é™…åº”ç”¨


**ğŸ“ æ–‡ä»¶æ‰¹é‡å¤„ç†ä¼˜åŒ–**
```java
public class FileProcessor {
    
    // ä¸²è¡Œå¤„ç†ï¼šæ…¢
    public void processFilesSequential(List<String> filePaths) {
        for (String path : filePaths) {
            processFile(path); // æ¯ä¸ªæ–‡ä»¶å¤„ç†1ç§’ï¼Œ10ä¸ªæ–‡ä»¶éœ€è¦10ç§’
        }
    }
    
    // å¹¶è¡Œå¤„ç†ï¼šå¿«
    public void processFilesConcurrent(List<String> filePaths) {
        ExecutorService executor = Executors.newFixedThreadPool(4);
        
        List<CompletableFuture<Void>> futures = filePaths.stream()
            .map(path -> CompletableFuture.runAsync(() -> processFile(path), executor))
            .collect(Collectors.toList());
        
        // ç­‰å¾…æ‰€æœ‰ä»»åŠ¡å®Œæˆ
        CompletableFuture.allOf(futures.toArray(new CompletableFuture[0])).join();
        executor.shutdown();
        // 10ä¸ªæ–‡ä»¶å¯èƒ½åªéœ€è¦3-4ç§’ï¼ˆå–å†³äºCPUæ ¸å¿ƒæ•°ï¼‰
    }
}
```

**ğŸŒ ç½‘ç»œè¯·æ±‚ä¼˜åŒ–**
```java
public class ApiService {
    
    // ä¸²è¡Œè°ƒç”¨ï¼šç”¨æˆ·ä½“éªŒå·®
    public UserInfo getUserInfoSequential(Long userId) {
        UserProfile profile = userApi.getProfile(userId);     // 200ms
        List<Order> orders = orderApi.getOrders(userId);      // 300ms
        UserStats stats = statsApi.getStats(userId);          // 150ms
        // æ€»è€—æ—¶ï¼š650ms
        
        return new UserInfo(profile, orders, stats);
    }
    
    // å¹¶è¡Œè°ƒç”¨ï¼šç”¨æˆ·ä½“éªŒå¥½
    public UserInfo getUserInfoConcurrent(Long userId) {
        CompletableFuture<UserProfile> profileFuture = 
            CompletableFuture.supplyAsync(() -> userApi.getProfile(userId));
        
        CompletableFuture<List<Order>> ordersFuture = 
            CompletableFuture.supplyAsync(() -> orderApi.getOrders(userId));
        
        CompletableFuture<UserStats> statsFuture = 
            CompletableFuture.supplyAsync(() -> statsApi.getStats(userId));
        
        // ç­‰å¾…æ‰€æœ‰è¯·æ±‚å®Œæˆ
        CompletableFuture<UserInfo> result = CompletableFuture.allOf(
            profileFuture, ordersFuture, statsFuture
        ).thenApply(v -> new UserInfo(
            profileFuture.join(),
            ordersFuture.join(),
            statsFuture.join()
        ));
        
        return result.join(); // æ€»è€—æ—¶ï¼šçº¦300msï¼ˆæœ€æ…¢çš„é‚£ä¸ªè¯·æ±‚ï¼‰
    }
}
```

### 5.3 çº¿ç¨‹æ± çš„åˆç†ä½¿ç”¨


**ğŸŠâ€â™‚ï¸ çº¿ç¨‹æ± é…ç½®ç­–ç•¥**
```java
public class ThreadPoolConfig {
    
    // CPUå¯†é›†å‹ä»»åŠ¡ï¼šçº¿ç¨‹æ•° = CPUæ ¸å¿ƒæ•°
    public ExecutorService createCpuIntensivePool() {
        int cpuCores = Runtime.getRuntime().availableProcessors();
        return Executors.newFixedThreadPool(cpuCores);
    }
    
    // I/Oå¯†é›†å‹ä»»åŠ¡ï¼šçº¿ç¨‹æ•° = CPUæ ¸å¿ƒæ•° * 2
    public ExecutorService createIoIntensivePool() {
        int cpuCores = Runtime.getRuntime().availableProcessors();
        return Executors.newFixedThreadPool(cpuCores * 2);
    }
    
    // è‡ªå®šä¹‰çº¿ç¨‹æ± ï¼šæ›´ç²¾ç¡®æ§åˆ¶
    public ExecutorService createCustomPool() {
        return new ThreadPoolExecutor(
            10,                      // æ ¸å¿ƒçº¿ç¨‹æ•°
            20,                      // æœ€å¤§çº¿ç¨‹æ•°
            60L, TimeUnit.SECONDS,   // ç©ºé—²çº¿ç¨‹å­˜æ´»æ—¶é—´
            new LinkedBlockingQueue<>(100), // å·¥ä½œé˜Ÿåˆ—
            new ThreadFactory() {    // è‡ªå®šä¹‰çº¿ç¨‹å·¥å‚
                private int counter = 0;
                @Override
                public Thread newThread(Runnable r) {
                    return new Thread(r, "CustomWorker-" + counter++);
                }
            }
        );
    }
}
```

### 5.4 ç¼“å­˜ä¸å¼‚æ­¥çš„ç»“åˆ


**ğŸ’¾ å¼‚æ­¥ç¼“å­˜æ›´æ–°ç­–ç•¥**
```java
@Service
public class CacheService {
    
    private final Cache<String, Object> cache = CacheBuilder.newBuilder()
        .maximumSize(1000)
        .expireAfterWrite(30, TimeUnit.MINUTES)
        .build();
    
    private final ExecutorService asyncExecutor = Executors.newFixedThreadPool(2);
    
    // å¼‚æ­¥é¢„çƒ­ç¼“å­˜
    public void preloadCache(List<String> keys) {
        for (String key : keys) {
            CompletableFuture.supplyAsync(() -> {
                Object value = expensiveOperation(key);
                cache.put(key, value);
                return value;
            }, asyncExecutor);
        }
    }
    
    // ç¼“å­˜ç©¿é€ä¿æŠ¤ + å¼‚æ­¥æ›´æ–°
    public Object getWithAsyncRefresh(String key) {
        Object cached = cache.getIfPresent(key);
        if (cached != null) {
            // å¼‚æ­¥æ£€æŸ¥æ˜¯å¦éœ€è¦åˆ·æ–°ï¼ˆå¦‚æœå³å°†è¿‡æœŸï¼‰
            CompletableFuture.runAsync(() -> {
                if (shouldRefresh(key)) {
                    Object newValue = expensiveOperation(key);
                    cache.put(key, newValue);
                }
            }, asyncExecutor);
            
            return cached;
        }
        
        // ç¼“å­˜æœªå‘½ä¸­ï¼ŒåŒæ­¥åŠ è½½
        Object value = expensiveOperation(key);
        cache.put(key, value);
        return value;
    }
}
```

### 5.5 å¹¶å‘ç¼–ç¨‹çš„æ³¨æ„äº‹é¡¹


**âš ï¸ å¸¸è§é™·é˜±ä¸è§£å†³æ–¹æ¡ˆ**

**æ•°æ®ç«äº‰é—®é¢˜**
```java
public class CounterExample {
    
    // é”™è¯¯ï¼šçº¿ç¨‹ä¸å®‰å…¨
    private int counter = 0;
    public void increment() {
        counter++; // éåŸå­æ“ä½œï¼Œå¤šçº¿ç¨‹ä¸‹å¯èƒ½å‡ºé”™
    }
    
    // æ­£ç¡®ï¼šä½¿ç”¨åŸå­ç±»
    private AtomicInteger atomicCounter = new AtomicInteger(0);
    public void safeIncrement() {
        atomicCounter.incrementAndGet(); // åŸå­æ“ä½œï¼Œçº¿ç¨‹å®‰å…¨
    }
}
```

**æ­»é”é¿å…**
```java
public class DeadlockAvoidance {
    private final Object lock1 = new Object();
    private final Object lock2 = new Object();
    
    // é”™è¯¯ï¼šå¯èƒ½æ­»é”
    public void method1() {
        synchronized(lock1) {
            synchronized(lock2) {
                // ä¸šåŠ¡é€»è¾‘
            }
        }
    }
    
    public void method2() {
        synchronized(lock2) { // é”é¡ºåºä¸method1ç›¸å
            synchronized(lock1) {
                // ä¸šåŠ¡é€»è¾‘
            }
        }
    }
    
    // æ­£ç¡®ï¼šç»Ÿä¸€é”é¡ºåº
    public void safeMethod1() {
        synchronized(lock1) { // æ€»æ˜¯å…ˆé”lock1
            synchronized(lock2) {
                // ä¸šåŠ¡é€»è¾‘
            }
        }
    }
    
    public void safeMethod2() {
        synchronized(lock1) { // æ€»æ˜¯å…ˆé”lock1
            synchronized(lock2) {
                // ä¸šåŠ¡é€»è¾‘
            }
        }
    }
}
```

---

## 6. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 6.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ æ€§èƒ½æ€ç»´èåˆï¼šåœ¨ç¼–ç¨‹è¿‡ç¨‹ä¸­åŒæ­¥è€ƒè™‘æ€§èƒ½ï¼Œè€Œä¸æ˜¯äº‹åä¼˜åŒ–
ğŸ”¸ æå‰ä¼˜åŒ–ç­–ç•¥ï¼šåˆç†çš„æå‰è§„åˆ’ï¼Œé¿å…æ¶æ„æ€§èƒ½é—®é¢˜
ğŸ”¸ æ•°æ®ç»“æ„é€‰æ‹©ï¼šæ ¹æ®ä½¿ç”¨åœºæ™¯é€‰æ‹©æœ€é€‚åˆçš„æ•°æ®ç»“æ„
ğŸ”¸ ç®—æ³•ä¼˜åŒ–æ€è·¯ï¼šä»æ—¶é—´å¤æ‚åº¦ã€ç©ºé—´å¤æ‚åº¦ã€ç¼“å­˜ç­‰ç»´åº¦ä¼˜åŒ–
ğŸ”¸ å¹¶å‘å¼‚æ­¥åº”ç”¨ï¼šåˆ©ç”¨å¹¶å‘æå‡ç³»ç»Ÿæ•´ä½“ååé‡å’Œå“åº”é€Ÿåº¦
```

### 6.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ æ€§èƒ½ä¼˜åŒ–çš„å±‚æ¬¡æ€ç»´**
```
æ¶æ„å±‚ï¼šç³»ç»Ÿè®¾è®¡å±‚é¢çš„æ€§èƒ½è€ƒè™‘
ç®—æ³•å±‚ï¼šæ ¸å¿ƒé€»è¾‘çš„æ•ˆç‡ä¼˜åŒ–  
ä»£ç å±‚ï¼šå…·ä½“å®ç°çš„ç»†èŠ‚ä¼˜åŒ–
```

**ğŸ”¹ ä¼˜åŒ–çš„æƒè¡¡åŸåˆ™**
```
æ—¶é—´ vs ç©ºé—´ï¼šç”¨å†…å­˜æ¢é€Ÿåº¦ï¼Œæˆ–ç”¨æ—¶é—´çœå†…å­˜
å¤æ‚åº¦ vs å¯ç»´æŠ¤æ€§ï¼šä¸èƒ½ä¸ºäº†æ€§èƒ½ç‰ºç‰²ä»£ç æ¸…æ™°åº¦
æå‰ä¼˜åŒ– vs è¿‡æ—©ä¼˜åŒ–ï¼šåˆç†è§„åˆ’ vs ç›²ç›®ä¼˜åŒ–
```

**ğŸ”¹ å¹¶å‘çš„æ­£ç¡®ç†è§£**
```
å¹¶å‘ä¸æ˜¯ä¸‡èƒ½è¯ï¼šä¸æ˜¯æ‰€æœ‰é—®é¢˜éƒ½èƒ½ç”¨å¹¶å‘è§£å†³
I/Oå¯†é›†å‹æ›´é€‚åˆï¼šç½‘ç»œã€æ–‡ä»¶ã€æ•°æ®åº“æ“ä½œ
CPUå¯†é›†å‹éœ€è°¨æ…ï¼šè¦è€ƒè™‘æ ¸å¿ƒæ•°å’Œä»»åŠ¡ç‰¹ç‚¹
```

### 6.3 å®é™…åº”ç”¨æŒ‡å¯¼


**ğŸ¯ æ€§èƒ½ä¼˜åŒ–çš„å®æ–½æ­¥éª¤**
1. **æµ‹é‡å’Œåˆ†æ**ï¼šæ‰¾å‡ºçœŸæ­£çš„æ€§èƒ½ç“¶é¢ˆ
2. **åˆ¶å®šç­–ç•¥**ï¼šé€‰æ‹©åˆé€‚çš„ä¼˜åŒ–æ–¹æ³•
3. **å°æ­¥å¿«è·‘**ï¼šé€æ­¥ä¼˜åŒ–ï¼ŒéªŒè¯æ•ˆæœ
4. **æŒç»­ç›‘æ§**ï¼šä¼˜åŒ–åè¦æŒç»­å…³æ³¨æ€§èƒ½è¡¨ç°

**ğŸ’¡ æ—¥å¸¸ç¼–ç¨‹çš„æ€§èƒ½ä¹ æƒ¯**
- é€‰æ‹©åˆé€‚çš„æ•°æ®ç»“æ„å’Œç®—æ³•
- é¿å…ä¸å¿…è¦çš„å¯¹è±¡åˆ›å»ºå’Œå¾ªç¯åµŒå¥—
- åˆç†ä½¿ç”¨ç¼“å­˜å’Œå¼‚æ­¥å¤„ç†
- å…³æ³¨æ ¸å¿ƒä¸šåŠ¡æµç¨‹çš„æ€§èƒ½è¡¨ç°

**ğŸ”§ å›¢é˜Ÿåä½œçš„æ€§èƒ½æ–‡åŒ–**
- å»ºç«‹æ€§èƒ½æµ‹è¯•å’Œç›‘æ§ä½“ç³»
- ä»£ç å®¡æŸ¥æ—¶å…³æ³¨æ€§èƒ½é—®é¢˜
- åˆ†äº«æ€§èƒ½ä¼˜åŒ–çš„ç»éªŒå’Œæ¡ˆä¾‹
- å¹³è¡¡æ€§èƒ½ã€åŠŸèƒ½å’Œå¼€å‘æ•ˆç‡

**æ ¸å¿ƒè®°å¿†**ï¼š
- æ€§èƒ½æ€ç»´è¦èå…¥ç¼–ç¨‹å…¨è¿‡ç¨‹ï¼Œä¸æ˜¯äº‹åè¡¥æ•‘
- æ•°æ®ç»“æ„å’Œç®—æ³•çš„é€‰æ‹©ç›´æ¥å½±å“ç³»ç»Ÿæ€§èƒ½
- å¹¶å‘èƒ½æå‡ååé‡ï¼Œä½†è¦åˆç†ä½¿ç”¨é¿å…é™·é˜±
- ä¼˜åŒ–è¦åŸºäºå®é™…æµ‹é‡ï¼Œä¸èƒ½å‡­æ„Ÿè§‰ç›²ç›®è¿›è¡Œ