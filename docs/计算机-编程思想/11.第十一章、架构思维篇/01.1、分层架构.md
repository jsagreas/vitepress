---
title: 1ã€åˆ†å±‚æ¶æ„
---
## ğŸ“š ç›®å½•

1. [åˆ†å±‚æ¶æ„åŸºæœ¬æ¦‚å¿µ](#1-åˆ†å±‚æ¶æ„åŸºæœ¬æ¦‚å¿µ)
2. [è¡¨ç¤ºå±‚è®¾è®¡](#2-è¡¨ç¤ºå±‚è®¾è®¡)
3. [ä¸šåŠ¡å±‚è®¾è®¡](#3-ä¸šåŠ¡å±‚è®¾è®¡)
4. [æ•°æ®è®¿é—®å±‚](#4-æ•°æ®è®¿é—®å±‚)
5. [è·¨å±‚é€šä¿¡](#5-è·¨å±‚é€šä¿¡)
6. [å±‚æ¬¡ä¾èµ–ç®¡ç†](#6-å±‚æ¬¡ä¾èµ–ç®¡ç†)
7. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#7-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ—ï¸ åˆ†å±‚æ¶æ„åŸºæœ¬æ¦‚å¿µ


### 1.1 ä»€ä¹ˆæ˜¯åˆ†å±‚æ¶æ„


**ğŸ”¸ æ ¸å¿ƒç†å¿µ**
åˆ†å±‚æ¶æ„å°±åƒæ˜¯å»ºæˆ¿å­ï¼Œ**æ¯ä¸€å±‚éƒ½æœ‰è‡ªå·±æ˜ç¡®çš„èŒè´£**ï¼Œå°±å¥½æ¯”ï¼š
- ğŸ  **é¡¶å±‚**ï¼šè£…ä¿®ç¾è§‚ï¼Œç»™äººçœ‹çš„ï¼ˆç•Œé¢å±‚ï¼‰
- ğŸ  **ä¸­å±‚**ï¼šæˆ¿é—´åŠŸèƒ½å¸ƒå±€ï¼Œå®é™…ä½¿ç”¨ï¼ˆä¸šåŠ¡å±‚ï¼‰
- ğŸ  **åº•å±‚**ï¼šæ°´ç”µç®¡é“ï¼ŒåŸºç¡€è®¾æ–½ï¼ˆæ•°æ®å±‚ï¼‰

```
ç°å®ä¸­çš„å»ºç­‘åˆ†å±‚               è½¯ä»¶ä¸­çš„åˆ†å±‚æ¶æ„
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   è£…ä¿®è£…é¥°å±‚      â”‚           â”‚   è¡¨ç¤ºå±‚(UIå±‚)   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    VS     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   åŠŸèƒ½å¸ƒå±€å±‚      â”‚           â”‚   ä¸šåŠ¡é€»è¾‘å±‚     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤           â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   åŸºç¡€è®¾æ–½å±‚      â”‚           â”‚   æ•°æ®è®¿é—®å±‚     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.2 ä¸ºä»€ä¹ˆè¦åˆ†å±‚


> ğŸ’¡ **æ ¸å¿ƒæ€æƒ³**ï¼šåˆ†å·¥æ˜ç¡®ï¼Œå„å¸å…¶èŒï¼Œé™ä½å¤æ‚åº¦

**ğŸ¯ åˆ†å±‚çš„å¥½å¤„**
- âœ… **èŒè´£æ¸…æ™°**ï¼šæ¯å±‚åªç®¡è‡ªå·±çš„äº‹æƒ…
- âœ… **ç»´æŠ¤ç®€å•**ï¼šä¿®æ”¹ä¸€å±‚ä¸å½±å“å…¶ä»–å±‚
- âœ… **å›¢é˜Ÿåä½œ**ï¼šä¸åŒå°ç»„è´Ÿè´£ä¸åŒå±‚
- âœ… **é‡ç”¨æ€§é«˜**ï¼šåŒä¸€å±‚å¯ä»¥è¢«å¤šä¸ªä¸Šå±‚ä½¿ç”¨

**âŒ ä¸åˆ†å±‚çš„é—®é¢˜**
```javascript
// åä¾‹å­ï¼šæ‰€æœ‰é€»è¾‘æ··åœ¨ä¸€èµ·
function saveUser() {
    // ç•Œé¢é€»è¾‘
    const name = document.getElementById('username').value;
    
    // ä¸šåŠ¡é€»è¾‘
    if (name.length < 3) {
        alert('ç”¨æˆ·åå¤ªçŸ­');
        return;
    }
    
    // æ•°æ®åº“æ“ä½œ
    const sql = "INSERT INTO users (name) VALUES ('" + name + "')";
    database.execute(sql);
    
    // åˆæ˜¯ç•Œé¢é€»è¾‘
    document.getElementById('success').innerHTML = 'ä¿å­˜æˆåŠŸ';
}
```

### 1.3 ç»å…¸ä¸‰å±‚æ¶æ„


```
ç”¨æˆ·è¯·æ±‚æµå‘ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    è¯·æ±‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    è°ƒç”¨     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è¡¨ç¤ºå±‚      â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â–º â”‚  ä¸šåŠ¡å±‚      â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â–º â”‚  æ•°æ®å±‚      â”‚
â”‚ (ç•Œé¢äº¤äº’)   â”‚           â”‚ (ä¸šåŠ¡å¤„ç†)   â”‚           â”‚ (æ•°æ®å­˜å–)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â—„â”€â”€â”€â”€â”€â”€â”€â”€ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â—„â”€â”€â”€â”€â”€â”€â”€â”€ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               å“åº”                   è¿”å›                 ç»“æœ
```

**ğŸ“‹ å„å±‚èŒè´£æ¦‚è§ˆ**

| å±‚æ¬¡ | **ä¸»è¦èŒè´£** | **å…·ä½“å·¥ä½œ** | **ä¸è¯¥åšçš„äº‹** |
|------|-------------|-------------|----------------|
| ğŸ¨ **è¡¨ç¤ºå±‚** | `ç”¨æˆ·äº¤äº’` | `æ˜¾ç¤ºç•Œé¢ã€æ¥æ”¶è¾“å…¥ã€å±•ç¤ºç»“æœ` | `ä¸å¤„ç†ä¸šåŠ¡é€»è¾‘ã€ä¸ç›´æ¥æ“ä½œæ•°æ®åº“` |
| ğŸ§  **ä¸šåŠ¡å±‚** | `ä¸šåŠ¡å¤„ç†` | `ä¸šåŠ¡è§„åˆ™ã€é€»è¾‘è®¡ç®—ã€æµç¨‹æ§åˆ¶` | `ä¸å…³å¿ƒç•Œé¢å¦‚ä½•æ˜¾ç¤ºã€ä¸çŸ¥é“æ•°æ®å¦‚ä½•å­˜å‚¨` |
| ğŸ’¾ **æ•°æ®å±‚** | `æ•°æ®æ“ä½œ` | `æ•°æ®å­˜å–ã€æŸ¥è¯¢ä¼˜åŒ–ã€äº‹åŠ¡ç®¡ç†` | `ä¸å¤„ç†ä¸šåŠ¡è§„åˆ™ã€ä¸å…³å¿ƒç•Œé¢å±•ç¤º` |

---

## 2. ğŸ¨ è¡¨ç¤ºå±‚è®¾è®¡


### 2.1 è¡¨ç¤ºå±‚çš„æ ¸å¿ƒä½œç”¨


**ğŸ”¸ è¡¨ç¤ºå±‚å°±æ˜¯ç”¨æˆ·çœ‹åˆ°å’Œæ¥è§¦çš„éƒ¨åˆ†**
- ç›¸å½“äºå•†åº—çš„**é—¨é¢**ï¼Œè´Ÿè´£å¸å¼•é¡¾å®¢å’Œå±•ç¤ºå•†å“
- ç›¸å½“äºæœåŠ¡å‘˜ï¼Œè´Ÿè´£**æ¥å¾…å®¢æˆ·**å’Œ**ä¼ é€’éœ€æ±‚**

> ğŸ“– **æ¦‚å¿µç†è§£**ï¼šè¡¨ç¤ºå±‚(Presentation Layer)ä¹Ÿå«UIå±‚ï¼Œæ˜¯ç”¨æˆ·ä¸ç³»ç»Ÿäº¤äº’çš„æ¡¥æ¢

### 2.2 è¡¨ç¤ºå±‚è®¾è®¡åŸåˆ™


**ğŸ¯ ç”¨æˆ·ç•Œé¢å±‚çš„è®¾è®¡åŸåˆ™**

#### åŸåˆ™1ï¼šç•Œé¢ä¸é€»è¾‘åˆ†ç¦»

```javascript
// âŒ åä¾‹å­ï¼šç•Œé¢ä»£ç å’Œä¸šåŠ¡é€»è¾‘æ··åˆ
function loginButton() {
    const username = document.getElementById('username').value;
    const password = document.getElementById('password').value;
    
    // ç•Œé¢é€»è¾‘å’Œä¸šåŠ¡é€»è¾‘æ··åœ¨ä¸€èµ·
    if (username === 'admin' && password === '123456') {
        window.location = '/dashboard';
    } else {
        alert('ç™»å½•å¤±è´¥');
    }
}

// âœ… å¥½ä¾‹å­ï¼šç•Œé¢åªè´Ÿè´£æ”¶é›†æ•°æ®å’Œæ˜¾ç¤ºç»“æœ
function loginButton() {
    const loginData = {
        username: document.getElementById('username').value,
        password: document.getElementById('password').value
    };
    
    // è°ƒç”¨ä¸šåŠ¡å±‚å¤„ç†
    const result = userService.login(loginData);
    
    // åªè´Ÿè´£æ˜¾ç¤ºç»“æœ
    if (result.success) {
        showSuccessMessage('ç™»å½•æˆåŠŸ');
        redirectTo('/dashboard');
    } else {
        showErrorMessage(result.message);
    }
}
```

#### åŸåˆ™2ï¼šç»Ÿä¸€çš„äº¤äº’æ¨¡å¼

```javascript
// ç»Ÿä¸€çš„è¡¨å•å¤„ç†æ¨¡å¼
class FormController {
    // ç»Ÿä¸€çš„æ•°æ®æ”¶é›†
    collectFormData(formId) {
        const form = document.getElementById(formId);
        const data = new FormData(form);
        return Object.fromEntries(data.entries());
    }
    
    // ç»Ÿä¸€çš„é”™è¯¯æ˜¾ç¤º
    showErrors(errors) {
        Object.keys(errors).forEach(field => {
            const errorElement = document.getElementById(field + '-error');
            errorElement.textContent = errors[field];
        });
    }
    
    // ç»Ÿä¸€çš„æˆåŠŸåé¦ˆ
    showSuccess(message) {
        const toast = document.createElement('div');
        toast.className = 'success-toast';
        toast.textContent = message;
        document.body.appendChild(toast);
    }
}
```

### 2.3 è¡¨ç¤ºå±‚çš„å…³é”®è®¾è®¡ç­–ç•¥


**ğŸ”§ æ•°æ®ç»‘å®šç­–ç•¥**
```html
<!-- å£°æ˜å¼çš„æ•°æ®ç»‘å®š -->
<div class="user-info">
    <h2>{{user.name}}</h2>
    <p>é‚®ç®±ï¼š{{user.email}}</p>
    <button @click="editUser">ç¼–è¾‘</button>
</div>
```

**ğŸ›ï¸ çŠ¶æ€ç®¡ç†ç­–ç•¥**
```javascript
// è¡¨ç¤ºå±‚åªç®¡ç†æ˜¾ç¤ºçŠ¶æ€ï¼Œä¸ç®¡ä¸šåŠ¡çŠ¶æ€
class UIState {
    constructor() {
        this.loading = false;      // åŠ è½½çŠ¶æ€
        this.errors = {};          // é”™è¯¯ä¿¡æ¯
        this.currentView = 'list'; // å½“å‰è§†å›¾
    }
    
    // æ˜¾ç¤ºåŠ è½½çŠ¶æ€
    setLoading(isLoading) {
        this.loading = isLoading;
        this.updateLoadingUI();
    }
    
    // æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯
    setErrors(errors) {
        this.errors = errors;
        this.updateErrorUI();
    }
}
```

### 2.4 å“åº”å¼è®¾è®¡è€ƒè™‘


```
è®¾å¤‡é€‚é…ç­–ç•¥ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   æ¡Œé¢ç«¯     â”‚  â”‚   å¹³æ¿ç«¯     â”‚  â”‚   æ‰‹æœºç«¯     â”‚
â”‚ (1200px+)   â”‚  â”‚ (768-1200)  â”‚  â”‚ (<768px)    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å¤šåˆ—å¸ƒå±€     â”‚  â”‚ ä¸¤åˆ—å¸ƒå±€     â”‚  â”‚ å•åˆ—å¸ƒå±€     â”‚
â”‚ é¼ æ ‡äº¤äº’     â”‚  â”‚ è§¦æ‘¸äº¤äº’     â”‚  â”‚ æ‰‹æŒ‡è§¦æ‘¸     â”‚
â”‚ æ‚¬åœæ•ˆæœ     â”‚  â”‚ ç‚¹å‡»åé¦ˆ     â”‚  â”‚ æ»‘åŠ¨æ‰‹åŠ¿     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

> âš ï¸ **æ³¨æ„**ï¼šè¡¨ç¤ºå±‚è¦è€ƒè™‘ä¸åŒè®¾å¤‡çš„ç‰¹ç‚¹ï¼Œä½†ä¸è¦åœ¨è¡¨ç¤ºå±‚å¤„ç†ä¸šåŠ¡é€»è¾‘

---

## 3. ğŸ§  ä¸šåŠ¡å±‚è®¾è®¡


### 3.1 ä¸šåŠ¡å±‚çš„æ ¸å¿ƒèŒè´£


**ğŸ”¸ ä¸šåŠ¡å±‚å°±æ˜¯ç³»ç»Ÿçš„"å¤§è„‘"**
- ç›¸å½“äºå…¬å¸çš„**ç®¡ç†å±‚**ï¼Œåˆ¶å®šè§„åˆ™å’Œæµç¨‹
- ç›¸å½“äº**æ³•å®˜**ï¼Œæ ¹æ®è§„åˆ™åšå‡ºåˆ¤æ–­å’Œå†³ç­–

> ğŸ“– **æ¦‚å¿µç†è§£**ï¼šä¸šåŠ¡å±‚(Business Layer)ä¹Ÿå«æœåŠ¡å±‚ï¼Œè´Ÿè´£å®ç°å…·ä½“çš„ä¸šåŠ¡è§„åˆ™å’Œä¸šåŠ¡æµç¨‹

### 3.2 ä¸šåŠ¡é€»è¾‘å±‚çš„è®¾è®¡ç­–ç•¥


#### ç­–ç•¥1ï¼šä¸šåŠ¡æœåŠ¡å°è£…

```javascript
// ä¸šåŠ¡æœåŠ¡ï¼šç”¨æˆ·ç®¡ç†
class UserService {
    constructor(userRepository) {
        this.userRepository = userRepository;
    }
    
    // ç”¨æˆ·æ³¨å†Œä¸šåŠ¡é€»è¾‘
    async registerUser(userData) {
        // 1. ä¸šåŠ¡è§„åˆ™éªŒè¯
        this.validateUserData(userData);
        
        // 2. æ£€æŸ¥ç”¨æˆ·æ˜¯å¦å·²å­˜åœ¨
        const existingUser = await this.userRepository.findByEmail(userData.email);
        if (existingUser) {
            throw new Error('ç”¨æˆ·å·²å­˜åœ¨');
        }
        
        // 3. å¯†ç åŠ å¯†ï¼ˆä¸šåŠ¡è§„åˆ™ï¼‰
        userData.password = this.encryptPassword(userData.password);
        
        // 4. ä¿å­˜ç”¨æˆ·
        const newUser = await this.userRepository.save(userData);
        
        // 5. å‘é€æ¬¢è¿é‚®ä»¶ï¼ˆä¸šåŠ¡æµç¨‹ï¼‰
        await this.emailService.sendWelcomeEmail(newUser.email);
        
        return newUser;
    }
    
    // ä¸šåŠ¡è§„åˆ™ï¼šç”¨æˆ·æ•°æ®éªŒè¯
    validateUserData(userData) {
        if (!userData.email || !userData.email.includes('@')) {
            throw new Error('é‚®ç®±æ ¼å¼ä¸æ­£ç¡®');
        }
        
        if (userData.password.length < 6) {
            throw new Error('å¯†ç é•¿åº¦ä¸èƒ½å°‘äº6ä½');
        }
        
        if (userData.age < 18) {
            throw new Error('ç”¨æˆ·å¹´é¾„å¿…é¡»å¤§äº18å²');
        }
    }
}
```

#### ç­–ç•¥2ï¼šä¸šåŠ¡æµç¨‹ç¼–æ’

```javascript
// è®¢å•å¤„ç†ä¸šåŠ¡æµç¨‹
class OrderService {
    // ä¸‹å•ä¸šåŠ¡æµç¨‹
    async createOrder(orderData) {
        try {
            // æ­¥éª¤1ï¼šéªŒè¯å•†å“åº“å­˜
            await this.checkInventory(orderData.items);
            
            // æ­¥éª¤2ï¼šè®¡ç®—è®¢å•é‡‘é¢
            const totalAmount = this.calculateTotal(orderData.items);
            
            // æ­¥éª¤3ï¼šåº”ç”¨ä¼˜æƒ è§„åˆ™
            const finalAmount = this.applyDiscounts(totalAmount, orderData.userId);
            
            // æ­¥éª¤4ï¼šåˆ›å»ºè®¢å•
            const order = await this.orderRepository.create({
                ...orderData,
                totalAmount: finalAmount,
                status: 'PENDING'
            });
            
            // æ­¥éª¤5ï¼šæ‰£å‡åº“å­˜
            await this.inventoryService.reduceStock(orderData.items);
            
            // æ­¥éª¤6ï¼šå‘èµ·æ”¯ä»˜
            const paymentResult = await this.paymentService.createPayment(order);
            
            return { order, paymentResult };
            
        } catch (error) {
            // ä¸šåŠ¡å¼‚å¸¸å¤„ç†
            await this.handleOrderError(orderData, error);
            throw error;
        }
    }
    
    // ä¸šåŠ¡è§„åˆ™ï¼šä¼˜æƒ è®¡ç®—
    applyDiscounts(amount, userId) {
        let finalAmount = amount;
        
        // VIPç”¨æˆ·9æŠ˜
        if (this.userService.isVip(userId)) {
            finalAmount *= 0.9;
        }
        
        // æ»¡100å‡10
        if (amount >= 100) {
            finalAmount -= 10;
        }
        
        return finalAmount;
    }
}
```

### 3.3 ä¸šåŠ¡æ¨¡å‹è®¾è®¡


**ğŸ¯ é¢†åŸŸæ¨¡å‹**
```javascript
// ç”¨æˆ·é¢†åŸŸæ¨¡å‹
class User {
    constructor(data) {
        this.id = data.id;
        this.email = data.email;
        this.name = data.name;
        this.age = data.age;
        this.vipLevel = data.vipLevel || 'normal';
    }
    
    // ä¸šåŠ¡è¡Œä¸ºï¼šæ£€æŸ¥æ˜¯å¦ä¸ºVIP
    isVip() {
        return this.vipLevel === 'vip' || this.vipLevel === 'platinum';
    }
    
    // ä¸šåŠ¡è¡Œä¸ºï¼šè®¡ç®—æŠ˜æ‰£
    getDiscountRate() {
        switch(this.vipLevel) {
            case 'platinum': return 0.8;
            case 'vip': return 0.9;
            default: return 1.0;
        }
    }
    
    // ä¸šåŠ¡è¡Œä¸ºï¼šæ›´æ–°ä¸ªäººä¿¡æ¯
    updateProfile(newData) {
        this.validateAge(newData.age);
        this.name = newData.name;
        this.age = newData.age;
    }
    
    // ä¸šåŠ¡è§„åˆ™éªŒè¯
    validateAge(age) {
        if (age < 0 || age > 150) {
            throw new Error('å¹´é¾„ä¸åˆæ³•');
        }
    }
}
```

### 3.4 ä¸šåŠ¡å¼‚å¸¸å¤„ç†


```javascript
// ä¸šåŠ¡å¼‚å¸¸ç±»
class BusinessError extends Error {
    constructor(code, message, details = {}) {
        super(message);
        this.code = code;
        this.details = details;
        this.name = 'BusinessError';
    }
}

// ä¸šåŠ¡æœåŠ¡ä¸­çš„å¼‚å¸¸å¤„ç†
class ProductService {
    async purchaseProduct(productId, quantity, userId) {
        try {
            const product = await this.productRepository.findById(productId);
            
            // ä¸šåŠ¡è§„åˆ™æ£€æŸ¥
            if (!product) {
                throw new BusinessError('PRODUCT_NOT_FOUND', 'å•†å“ä¸å­˜åœ¨');
            }
            
            if (product.stock < quantity) {
                throw new BusinessError('INSUFFICIENT_STOCK', 'åº“å­˜ä¸è¶³', {
                    available: product.stock,
                    requested: quantity
                });
            }
            
            // æ‰§è¡Œè´­ä¹°é€»è¾‘
            return await this.processPurchase(product, quantity, userId);
            
        } catch (error) {
            if (error instanceof BusinessError) {
                // ä¸šåŠ¡å¼‚å¸¸ï¼Œç›´æ¥æŠ›å‡º
                throw error;
            } else {
                // ç³»ç»Ÿå¼‚å¸¸ï¼ŒåŒ…è£…æˆä¸šåŠ¡å¼‚å¸¸
                throw new BusinessError('SYSTEM_ERROR', 'ç³»ç»Ÿç¹å¿™ï¼Œè¯·ç¨åé‡è¯•');
            }
        }
    }
}
```

---

## 4. ğŸ’¾ æ•°æ®è®¿é—®å±‚


### 4.1 æ•°æ®è®¿é—®å±‚çš„æ ¸å¿ƒä½œç”¨


**ğŸ”¸ æ•°æ®è®¿é—®å±‚å°±æ˜¯ç³»ç»Ÿçš„"ä»“åº“ç®¡ç†å‘˜"**
- ç›¸å½“äºå›¾ä¹¦ç®¡ç†å‘˜ï¼ŒçŸ¥é“**ä¹¦æ”¾åœ¨å“ªé‡Œ**ï¼Œæ€ä¹ˆ**å¿«é€Ÿæ‰¾åˆ°**
- ç›¸å½“äºé“¶è¡Œé‡‘åº“ï¼Œè´Ÿè´£**å®‰å…¨å­˜å–**èµ„é‡‘

> ğŸ“– **æ¦‚å¿µç†è§£**ï¼šæ•°æ®è®¿é—®å±‚(Data Access Layer)ä¹Ÿå«æŒä¹…å±‚ï¼Œè´Ÿè´£ä¸æ•°æ®åº“æˆ–å…¶ä»–å­˜å‚¨ç³»ç»Ÿäº¤äº’

### 4.2 æ•°æ®è®¿é—®å±‚çš„æŠ½è±¡è®¾è®¡


#### è®¾è®¡1ï¼šRepositoryæ¨¡å¼

```javascript
// æŠ½è±¡çš„æ•°æ®è®¿é—®æ¥å£
class UserRepository {
    // åŸºæœ¬CRUDæ“ä½œ
    async create(userData) {
        throw new Error('éœ€è¦å­ç±»å®ç°');
    }
    
    async findById(id) {
        throw new Error('éœ€è¦å­ç±»å®ç°');
    }
    
    async findByEmail(email) {
        throw new Error('éœ€è¦å­ç±»å®ç°');
    }
    
    async update(id, userData) {
        throw new Error('éœ€è¦å­ç±»å®ç°');
    }
    
    async delete(id) {
        throw new Error('éœ€è¦å­ç±»å®ç°');
    }
    
    // ä¸šåŠ¡ç›¸å…³çš„æŸ¥è¯¢æ–¹æ³•
    async findVipUsers() {
        throw new Error('éœ€è¦å­ç±»å®ç°');
    }
    
    async findUsersByAge(minAge, maxAge) {
        throw new Error('éœ€è¦å­ç±»å®ç°');
    }
}

// MySQLæ•°æ®åº“å®ç°
class MySQLUserRepository extends UserRepository {
    constructor(database) {
        super();
        this.db = database;
    }
    
    async create(userData) {
        const sql = `
            INSERT INTO users (email, name, age, vip_level) 
            VALUES (?, ?, ?, ?)
        `;
        const result = await this.db.execute(sql, [
            userData.email, 
            userData.name, 
            userData.age, 
            userData.vipLevel
        ]);
        return { id: result.insertId, ...userData };
    }
    
    async findById(id) {
        const sql = 'SELECT * FROM users WHERE id = ?';
        const [rows] = await this.db.execute(sql, [id]);
        return rows[0] || null;
    }
    
    async findByEmail(email) {
        const sql = 'SELECT * FROM users WHERE email = ?';
        const [rows] = await this.db.execute(sql, [email]);
        return rows[0] || null;
    }
}

// MongoDBæ•°æ®åº“å®ç°
class MongoUserRepository extends UserRepository {
    constructor(collection) {
        super();
        this.collection = collection;
    }
    
    async create(userData) {
        const result = await this.collection.insertOne(userData);
        return { _id: result.insertedId, ...userData };
    }
    
    async findById(id) {
        return await this.collection.findOne({ _id: id });
    }
    
    async findByEmail(email) {
        return await this.collection.findOne({ email: email });
    }
}
```

> ğŸ’¡ **æŠ½è±¡è®¾è®¡çš„å¥½å¤„**ï¼šä¸šåŠ¡å±‚ä¸éœ€è¦çŸ¥é“æ•°æ®å­˜å‚¨åœ¨MySQLè¿˜æ˜¯MongoDBï¼Œå¯ä»¥éšæ—¶åˆ‡æ¢

#### è®¾è®¡2ï¼šæ•°æ®è®¿é—®å¯¹è±¡(DAO)æ¨¡å¼

```javascript
// æ•°æ®è®¿é—®å¯¹è±¡
class UserDAO {
    constructor(dataSource) {
        this.dataSource = dataSource;
    }
    
    // ç®€å•æŸ¥è¯¢
    async getUserById(id) {
        const query = 'SELECT * FROM users WHERE id = ?';
        return await this.dataSource.queryOne(query, [id]);
    }
    
    // å¤æ‚æŸ¥è¯¢
    async searchUsers(criteria) {
        let query = 'SELECT * FROM users WHERE 1=1';
        const params = [];
        
        if (criteria.name) {
            query += ' AND name LIKE ?';
            params.push(`%${criteria.name}%`);
        }
        
        if (criteria.minAge) {
            query += ' AND age >= ?';
            params.push(criteria.minAge);
        }
        
        if (criteria.vipLevel) {
            query += ' AND vip_level = ?';
            params.push(criteria.vipLevel);
        }
        
        return await this.dataSource.query(query, params);
    }
    
    // äº‹åŠ¡æ“ä½œ
    async transferVipPoints(fromUserId, toUserId, points) {
        const transaction = await this.dataSource.beginTransaction();
        
        try {
            // æ‰£å‡å‘é€æ–¹ç§¯åˆ†
            await transaction.execute(
                'UPDATE users SET vip_points = vip_points - ? WHERE id = ?',
                [points, fromUserId]
            );
            
            // å¢åŠ æ¥æ”¶æ–¹ç§¯åˆ†
            await transaction.execute(
                'UPDATE users SET vip_points = vip_points + ? WHERE id = ?',
                [points, toUserId]
            );
            
            await transaction.commit();
            return true;
        } catch (error) {
            await transaction.rollback();
            throw error;
        }
    }
}
```

### 4.3 æ•°æ®æ˜ å°„ç­–ç•¥


**ğŸ”„ å¯¹è±¡å…³ç³»æ˜ å°„(ORM)**
```javascript
// æ•°æ®åº“è®°å½•åˆ°å¯¹è±¡çš„æ˜ å°„
class UserMapper {
    // æ•°æ®åº“è®°å½•è½¬æ¢ä¸ºä¸šåŠ¡å¯¹è±¡
    static fromDatabase(dbRecord) {
        if (!dbRecord) return null;
        
        return new User({
            id: dbRecord.id,
            email: dbRecord.email,
            name: dbRecord.name,
            age: dbRecord.age,
            vipLevel: dbRecord.vip_level,
            createdAt: dbRecord.created_at,
            updatedAt: dbRecord.updated_at
        });
    }
    
    // ä¸šåŠ¡å¯¹è±¡è½¬æ¢ä¸ºæ•°æ®åº“è®°å½•
    static toDatabase(user) {
        return {
            id: user.id,
            email: user.email,
            name: user.name,
            age: user.age,
            vip_level: user.vipLevel,
            updated_at: new Date()
        };
    }
    
    // æ‰¹é‡è½¬æ¢
    static fromDatabaseList(dbRecords) {
        return dbRecords.map(record => this.fromDatabase(record));
    }
}
```

### 4.4 ç¼“å­˜ç­–ç•¥


```javascript
// å¸¦ç¼“å­˜çš„æ•°æ®è®¿é—®å±‚
class CachedUserRepository extends UserRepository {
    constructor(baseRepository, cache) {
        super();
        this.baseRepository = baseRepository;
        this.cache = cache;
        this.cacheTimeout = 300; // 5åˆ†é’Ÿ
    }
    
    async findById(id) {
        // å…ˆæŸ¥ç¼“å­˜
        const cacheKey = `user:${id}`;
        let user = await this.cache.get(cacheKey);
        
        if (user) {
            return JSON.parse(user);
        }
        
        // ç¼“å­˜æœªå‘½ä¸­ï¼ŒæŸ¥è¯¢æ•°æ®åº“
        user = await this.baseRepository.findById(id);
        
        if (user) {
            // å†™å…¥ç¼“å­˜
            await this.cache.setex(cacheKey, this.cacheTimeout, JSON.stringify(user));
        }
        
        return user;
    }
    
    async update(id, userData) {
        // æ›´æ–°æ•°æ®åº“
        const result = await this.baseRepository.update(id, userData);
        
        // æ¸…é™¤ç¼“å­˜
        const cacheKey = `user:${id}`;
        await this.cache.del(cacheKey);
        
        return result;
    }
}
```

---

## 5. ğŸ”— è·¨å±‚é€šä¿¡


### 5.1 è·¨å±‚é€šä¿¡çš„é‡è¦æ€§


**ğŸ”¸ å±‚ä¸å±‚ä¹‹é—´éœ€è¦"å¯¹è¯"**
- ç›¸å½“äºå…¬å¸å„éƒ¨é—¨ä¹‹é—´çš„**å·¥ä½œåè°ƒ**
- ç›¸å½“äºæ¥åŠ›èµ›ä¸­çš„**æ£’å­ä¼ é€’**

> ğŸ“– **æ¦‚å¿µç†è§£**ï¼šè·¨å±‚é€šä¿¡æ˜¯æŒ‡ä¸åŒæ¶æ„å±‚æ¬¡ä¹‹é—´å¦‚ä½•ä¼ é€’æ•°æ®å’Œè°ƒç”¨åŠŸèƒ½

### 5.2 ä¸åŒå±‚æ¬¡é—´çš„é€šä¿¡æœºåˆ¶


#### æœºåˆ¶1ï¼šæ•°æ®ä¼ è¾“å¯¹è±¡(DTO)

```javascript
// ç”¨æˆ·æ•°æ®ä¼ è¾“å¯¹è±¡
class UserDTO {
    constructor(data) {
        this.id = data.id;
        this.email = data.email;
        this.name = data.name;
        this.age = data.age;
        this.vipLevel = data.vipLevel;
        // ä¸åŒ…å«æ•æ„Ÿä¿¡æ¯å¦‚å¯†ç 
    }
    
    // è½¬æ¢ä¸ºå‰ç«¯æ˜¾ç¤ºæ ¼å¼
    toDisplayFormat() {
        return {
            id: this.id,
            email: this.email,
            displayName: this.name,
            age: this.age,
            isVip: this.vipLevel !== 'normal'
        };
    }
}

// è¡¨ç¤ºå±‚è°ƒç”¨ä¸šåŠ¡å±‚
class UserController {
    constructor(userService) {
        this.userService = userService;
    }
    
    async getUserProfile(req, res) {
        try {
            // ä»ä¸šåŠ¡å±‚è·å–ç”¨æˆ·ä¿¡æ¯
            const user = await this.userService.getUserById(req.params.id);
            
            // è½¬æ¢ä¸ºDTO
            const userDTO = new UserDTO(user);
            
            // è¿”å›ç»™å‰ç«¯
            res.json({
                success: true,
                data: userDTO.toDisplayFormat()
            });
        } catch (error) {
            res.json({
                success: false,
                message: error.message
            });
        }
    }
}
```

#### æœºåˆ¶2ï¼šæ¥å£å¥‘çº¦

```javascript
// å®šä¹‰å±‚ä¹‹é—´çš„æ¥å£å¥‘çº¦
class LayerContract {
    // è¡¨ç¤ºå±‚åˆ°ä¸šåŠ¡å±‚çš„æ¥å£
    static UI_TO_BUSINESS = {
        // ç”¨æˆ·ç™»å½•è¯·æ±‚æ ¼å¼
        LOGIN_REQUEST: {
            email: 'string', // å¿…å¡«
            password: 'string', // å¿…å¡«
            rememberMe: 'boolean' // å¯é€‰
        },
        
        // ç”¨æˆ·æ³¨å†Œè¯·æ±‚æ ¼å¼
        REGISTER_REQUEST: {
            email: 'string',
            password: 'string',
            name: 'string',
            age: 'number'
        }
    };
    
    // ä¸šåŠ¡å±‚åˆ°è¡¨ç¤ºå±‚çš„å“åº”æ ¼å¼
    static BUSINESS_TO_UI = {
        // æ ‡å‡†å“åº”æ ¼å¼
        STANDARD_RESPONSE: {
            success: 'boolean',
            data: 'object', // æˆåŠŸæ—¶çš„æ•°æ®
            message: 'string', // å¤±è´¥æ—¶çš„é”™è¯¯ä¿¡æ¯
            code: 'string' // é”™è¯¯ä»£ç 
        }
    };
}

// è¯·æ±‚éªŒè¯ä¸­é—´ä»¶
class RequestValidator {
    static validateLoginRequest(req, res, next) {
        const { email, password } = req.body;
        
        if (!email || typeof email !== 'string') {
            return res.status(400).json({
                success: false,
                message: 'é‚®ç®±æ ¼å¼ä¸æ­£ç¡®',
                code: 'INVALID_EMAIL'
            });
        }
        
        if (!password || typeof password !== 'string') {
            return res.status(400).json({
                success: false,
                message: 'å¯†ç ä¸èƒ½ä¸ºç©º',
                code: 'INVALID_PASSWORD'
            });
        }
        
        next();
    }
}
```

#### æœºåˆ¶3ï¼šäº‹ä»¶é©±åŠ¨é€šä¿¡

```javascript
// äº‹ä»¶æ€»çº¿
class EventBus {
    constructor() {
        this.listeners = {};
    }
    
    // è®¢é˜…äº‹ä»¶
    on(event, callback) {
        if (!this.listeners[event]) {
            this.listeners[event] = [];
        }
        this.listeners[event].push(callback);
    }
    
    // å‘å¸ƒäº‹ä»¶
    emit(event, data) {
        if (this.listeners[event]) {
            this.listeners[event].forEach(callback => {
                try {
                    callback(data);
                } catch (error) {
                    console.error(`äº‹ä»¶å¤„ç†é”™è¯¯: ${event}`, error);
                }
            });
        }
    }
}

// ä¸šåŠ¡å±‚å‘å¸ƒäº‹ä»¶
class UserService {
    constructor(eventBus) {
        this.eventBus = eventBus;
    }
    
    async createUser(userData) {
        const newUser = await this.userRepository.create(userData);
        
        // å‘å¸ƒç”¨æˆ·åˆ›å»ºäº‹ä»¶
        this.eventBus.emit('user.created', {
            userId: newUser.id,
            email: newUser.email,
            timestamp: new Date()
        });
        
        return newUser;
    }
}

// å…¶ä»–å±‚ç›‘å¬äº‹ä»¶
class EmailService {
    constructor(eventBus) {
        this.eventBus = eventBus;
        
        // ç›‘å¬ç”¨æˆ·åˆ›å»ºäº‹ä»¶
        this.eventBus.on('user.created', this.sendWelcomeEmail.bind(this));
    }
    
    async sendWelcomeEmail(eventData) {
        console.log(`å‘é€æ¬¢è¿é‚®ä»¶ç»™ç”¨æˆ·: ${eventData.email}`);
        // å‘é€é‚®ä»¶é€»è¾‘
    }
}
```

### 5.3 é€šä¿¡æ¨¡å¼é€‰æ‹©


```
åŒæ­¥é€šä¿¡ vs å¼‚æ­¥é€šä¿¡ï¼š

åŒæ­¥é€šä¿¡ï¼ˆç›´æ¥è°ƒç”¨ï¼‰ï¼š
è¡¨ç¤ºå±‚ â”€â”€è°ƒç”¨â”€â”€â–º ä¸šåŠ¡å±‚ â”€â”€è°ƒç”¨â”€â”€â–º æ•°æ®å±‚
       â—„â”€â”€ç»“æœâ”€â”€       â—„â”€â”€ç»“æœâ”€â”€

é€‚ç”¨åœºæ™¯ï¼šå®æ—¶æŸ¥è¯¢ã€å…³é”®ä¸šåŠ¡æµç¨‹

å¼‚æ­¥é€šä¿¡ï¼ˆäº‹ä»¶é©±åŠ¨ï¼‰ï¼š
ä¸šåŠ¡å±‚ â”€â”€å‘äº‹ä»¶â”€â”€â–º äº‹ä»¶æ€»çº¿ â”€â”€é€šçŸ¥â”€â”€â–º å…¶ä»–æœåŠ¡
                     â”‚
                 â”€â”€é€šçŸ¥â”€â”€â–º æ—¥å¿—æœåŠ¡
                     â”‚  
                 â”€â”€é€šçŸ¥â”€â”€â–º é‚®ä»¶æœåŠ¡

é€‚ç”¨åœºæ™¯ï¼šéå…³é”®æ“ä½œã€æ‰¹é‡å¤„ç†ã€é€šçŸ¥ç±»æœåŠ¡
```

---

## 6. âš–ï¸ å±‚æ¬¡ä¾èµ–ç®¡ç†


### 6.1 ä¾èµ–å…³ç³»çš„åŸºæœ¬åŸåˆ™


**ğŸ”¸ ä¾èµ–å°±åƒæ˜¯"å€Ÿé’±å…³ç³»"**
- **ä¸Šå±‚å¯ä»¥ä¾èµ–ä¸‹å±‚**ï¼Œå°±åƒå„¿å­å¯ä»¥é—®çˆ¶äº²è¦é’±
- **ä¸‹å±‚ä¸èƒ½ä¾èµ–ä¸Šå±‚**ï¼Œçˆ¶äº²ä¸åº”è¯¥é—®å„¿å­è¦é’±
- **åŒå±‚ä¹‹é—´å°½é‡ä¸ä¾èµ–**ï¼Œå…„å¼Ÿä¹‹é—´å°‘å€Ÿé’±

> ğŸ“– **æ¦‚å¿µç†è§£**ï¼šå±‚æ¬¡ä¾èµ–ç®¡ç†æ˜¯æ§åˆ¶å„å±‚ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼Œç¡®ä¿æ¶æ„çš„ç¨³å®šæ€§å’Œå¯ç»´æŠ¤æ€§

### 6.2 å±‚æ¬¡é—´ä¾èµ–å…³ç³»çš„ç®¡ç†


#### ç®¡ç†ç­–ç•¥1ï¼šä¾èµ–å€’ç½®åŸåˆ™

```javascript
// âŒ é”™è¯¯çš„ä¾èµ–æ–¹å¼ï¼šä¸šåŠ¡å±‚ç›´æ¥ä¾èµ–å…·ä½“çš„æ•°æ®è®¿é—®å®ç°
class UserService {
    constructor() {
        this.userRepository = new MySQLUserRepository(); // ç›´æ¥ä¾èµ–å…·ä½“å®ç°
    }
    
    async getUser(id) {
        return await this.userRepository.findById(id);
    }
}

// âœ… æ­£ç¡®çš„ä¾èµ–æ–¹å¼ï¼šä¸šåŠ¡å±‚ä¾èµ–æŠ½è±¡æ¥å£
class UserService {
    constructor(userRepository) { // ä¾èµ–æ³¨å…¥æŠ½è±¡æ¥å£
        this.userRepository = userRepository;
    }
    
    async getUser(id) {
        return await this.userRepository.findById(id);
    }
}

// åœ¨åº”ç”¨å¯åŠ¨æ—¶ç»„è£…ä¾èµ–
class Application {
    static initialize() {
        // æ ¹æ®é…ç½®é€‰æ‹©å…·ä½“å®ç°
        const userRepository = config.database === 'mysql' 
            ? new MySQLUserRepository(mysqlConnection)
            : new MongoUserRepository(mongoCollection);
            
        const userService = new UserService(userRepository);
        const userController = new UserController(userService);
        
        return { userController };
    }
}
```

#### ç®¡ç†ç­–ç•¥2ï¼šä¾èµ–æ³¨å…¥å®¹å™¨

```javascript
// ç®€å•çš„ä¾èµ–æ³¨å…¥å®¹å™¨
class DIContainer {
    constructor() {
        this.services = new Map();
        this.singletons = new Map();
    }
    
    // æ³¨å†ŒæœåŠ¡
    register(name, factory, options = {}) {
        this.services.set(name, {
            factory,
            singleton: options.singleton || false
        });
    }
    
    // è·å–æœåŠ¡å®ä¾‹
    get(name) {
        const service = this.services.get(name);
        if (!service) {
            throw new Error(`æœåŠ¡ ${name} æœªæ³¨å†Œ`);
        }
        
        // å•ä¾‹æ¨¡å¼
        if (service.singleton) {
            if (!this.singletons.has(name)) {
                this.singletons.set(name, service.factory(this));
            }
            return this.singletons.get(name);
        }
        
        // æ¯æ¬¡åˆ›å»ºæ–°å®ä¾‹
        return service.factory(this);
    }
}

// æ³¨å†Œæ‰€æœ‰æœåŠ¡
const container = new DIContainer();

// æ³¨å†Œæ•°æ®è®¿é—®å±‚
container.register('userRepository', (container) => {
    return new MySQLUserRepository(container.get('database'));
}, { singleton: true });

// æ³¨å†Œä¸šåŠ¡å±‚
container.register('userService', (container) => {
    return new UserService(container.get('userRepository'));
}, { singleton: true });

// æ³¨å†Œè¡¨ç¤ºå±‚
container.register('userController', (container) => {
    return new UserController(container.get('userService'));
});

// ä½¿ç”¨
const userController = container.get('userController');
```

### 6.3 é¿å…å¾ªç¯ä¾èµ–


```javascript
// âŒ å¾ªç¯ä¾èµ–é—®é¢˜
class OrderService {
    constructor(paymentService) {
        this.paymentService = paymentService;
    }
    
    async createOrder(orderData) {
        // ... åˆ›å»ºè®¢å•é€»è¾‘
        return await this.paymentService.processPayment(order);
    }
}

class PaymentService {
    constructor(orderService) { // è¿™é‡Œå½¢æˆäº†å¾ªç¯ä¾èµ–
        this.orderService = orderService;
    }
    
    async processPayment(order) {
        // ... æ”¯ä»˜é€»è¾‘
        return await this.orderService.updateOrderStatus(order.id, 'PAID');
    }
}

// âœ… è§£å†³å¾ªç¯ä¾èµ–ï¼šä½¿ç”¨äº‹ä»¶æœºåˆ¶
class OrderService {
    constructor(paymentService, eventBus) {
        this.paymentService = paymentService;
        this.eventBus = eventBus;
        
        // ç›‘å¬æ”¯ä»˜å®Œæˆäº‹ä»¶
        this.eventBus.on('payment.completed', this.handlePaymentCompleted.bind(this));
    }
    
    async createOrder(orderData) {
        const order = await this.orderRepository.create(orderData);
        await this.paymentService.processPayment(order);
        return order;
    }
    
    async handlePaymentCompleted(paymentData) {
        await this.updateOrderStatus(paymentData.orderId, 'PAID');
    }
}

class PaymentService {
    constructor(eventBus) {
        this.eventBus = eventBus;
    }
    
    async processPayment(order) {
        // ... æ”¯ä»˜é€»è¾‘
        
        // å‘å¸ƒæ”¯ä»˜å®Œæˆäº‹ä»¶ï¼Œè€Œä¸æ˜¯ç›´æ¥è°ƒç”¨è®¢å•æœåŠ¡
        this.eventBus.emit('payment.completed', {
            orderId: order.id,
            amount: order.totalAmount,
            timestamp: new Date()
        });
    }
}
```

### 6.4 ä¾èµ–ç®¡ç†æœ€ä½³å®è·µ


**ğŸ¯ ä¾èµ–ç®¡ç†æ£€æŸ¥æ¸…å•**

- [ ] **å‘ä¸‹ä¾èµ–**ï¼šä¸Šå±‚å¯ä»¥ä¾èµ–ä¸‹å±‚
- [ ] **é¿å…å‘ä¸Šä¾èµ–**ï¼šä¸‹å±‚ä¸ä¾èµ–ä¸Šå±‚
- [ ] **æ¥å£éš”ç¦»**ï¼šä¾èµ–æŠ½è±¡è€Œéå…·ä½“å®ç°
- [ ] **å•ä¸€èŒè´£**ï¼šæ¯å±‚åªåšè‡ªå·±çš„äº‹
- [ ] **æ¾è€¦åˆ**ï¼šå±‚ä¹‹é—´é€šè¿‡æ¥å£é€šä¿¡

```
ä¾èµ–å…³ç³»å›¾ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   è¡¨ç¤ºå±‚     â”‚ â”€â”€ä¾èµ–â”€â”€â”
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ä¸šåŠ¡å±‚     â”‚ â”€â”€ä¾èµ–â”€â”€â”‚  ä¸šåŠ¡æ¥å£   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â–²
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚   æ•°æ®å±‚     â”‚ â”€â”€å®ç°â”€â”€â”˜
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

è¯´æ˜ï¼š
âœ… è¡¨ç¤ºå±‚ä¾èµ–ä¸šåŠ¡å±‚æ¥å£
âœ… ä¸šåŠ¡å±‚ä¾èµ–æ•°æ®è®¿é—®æ¥å£  
âœ… æ•°æ®å±‚å®ç°æ•°æ®è®¿é—®æ¥å£
âŒ ä¸å…è®¸åå‘ä¾èµ–
```

> âš ï¸ **é‡è¦æé†’**ï¼šè‰¯å¥½çš„ä¾èµ–ç®¡ç†æ˜¯åˆ†å±‚æ¶æ„æˆåŠŸçš„å…³é”®ï¼Œè¿åä¾èµ–åŸåˆ™ä¼šå¯¼è‡´æ¶æ„æ··ä¹±

---

## 7. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 7.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ åˆ†å±‚æ¶æ„æœ¬è´¨ï¼šèŒè´£åˆ†ç¦»ï¼Œå„å¸å…¶èŒï¼Œé™ä½ç³»ç»Ÿå¤æ‚åº¦
ğŸ”¸ è¡¨ç¤ºå±‚èŒè´£ï¼šç”¨æˆ·äº¤äº’ã€æ•°æ®å±•ç¤ºã€ç•Œé¢çŠ¶æ€ç®¡ç†
ğŸ”¸ ä¸šåŠ¡å±‚èŒè´£ï¼šä¸šåŠ¡è§„åˆ™ã€æµç¨‹æ§åˆ¶ã€é¢†åŸŸé€»è¾‘å¤„ç†
ğŸ”¸ æ•°æ®å±‚èŒè´£ï¼šæ•°æ®å­˜å–ã€æŸ¥è¯¢ä¼˜åŒ–ã€äº‹åŠ¡ç®¡ç†
ğŸ”¸ è·¨å±‚é€šä¿¡ï¼šDTOä¼ è¾“ã€æ¥å£å¥‘çº¦ã€äº‹ä»¶é©±åŠ¨
ğŸ”¸ ä¾èµ–ç®¡ç†ï¼šå‘ä¸‹ä¾èµ–ã€ä¾èµ–å€’ç½®ã€é¿å…å¾ªç¯ä¾èµ–
```

### 7.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ ä¸ºä»€ä¹ˆè¦åˆ†å±‚**
```
é—®é¢˜ï¼šä¸åˆ†å±‚ä¼šæ€æ ·ï¼Ÿ
- ä»£ç æ··ä¹±ï¼Œéš¾ä»¥ç»´æŠ¤
- èŒè´£ä¸æ¸…ï¼Œå®¹æ˜“å‡ºé”™  
- å›¢é˜Ÿåä½œå›°éš¾
- ç³»ç»Ÿéš¾ä»¥æ‰©å±•

è§£å†³ï¼šåˆ†å±‚æ¶æ„çš„ä»·å€¼
- æ¸…æ™°çš„èŒè´£è¾¹ç•Œ
- ç‹¬ç«‹çš„å¼€å‘å’Œæµ‹è¯•
- çµæ´»çš„æŠ€æœ¯é€‰å‹
- è‰¯å¥½çš„å¯æ‰©å±•æ€§
```

**ğŸ”¹ å¦‚ä½•è®¾è®¡å¥½çš„åˆ†å±‚æ¶æ„**
```
è®¾è®¡åŸåˆ™ï¼š
âœ… å•ä¸€èŒè´£ï¼šæ¯å±‚åªåšä¸€ç±»äº‹æƒ…
âœ… ä¾èµ–å€’ç½®ï¼šä¾èµ–æŠ½è±¡ä¸ä¾èµ–å…·ä½“
âœ… å¼€é—­åŸåˆ™ï¼šå¯¹æ‰©å±•å¼€æ”¾å¯¹ä¿®æ”¹å°é—­
âœ… æ¥å£éš”ç¦»ï¼šå®šä¹‰æ¸…æ™°çš„å±‚é—´æ¥å£

å®è·µè¦ç‚¹ï¼š
ğŸ“ å®šä¹‰æ¸…æ™°çš„æ¥å£å¥‘çº¦
ğŸ”§ ä½¿ç”¨ä¾èµ–æ³¨å…¥ç®¡ç†ä¾èµ–
ğŸ“Š å»ºç«‹ç»Ÿä¸€çš„æ•°æ®ä¼ è¾“æ ¼å¼
âš¡ è€ƒè™‘æ€§èƒ½å’Œç¼“å­˜ç­–ç•¥
```

**ğŸ”¹ å¸¸è§é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ**
```
é—®é¢˜1ï¼šå±‚æ¬¡è¿‡å¤šï¼Œè°ƒç”¨é“¾å¤ªé•¿
è§£å†³ï¼šåˆç†è®¾è®¡å±‚æ¬¡ï¼Œé¿å…è¿‡åº¦åˆ†å±‚

é—®é¢˜2ï¼šè·¨å±‚ç›´æ¥è°ƒç”¨
è§£å†³ï¼šä¸¥æ ¼æŒ‰ç…§ä¾èµ–æ–¹å‘ï¼Œä½¿ç”¨äº‹ä»¶è§£è€¦

é—®é¢˜3ï¼šæ•°æ®ä¼ è¾“æ•ˆç‡ä½
è§£å†³ï¼šåˆç†è®¾è®¡DTOï¼Œé¿å…è¿‡åº¦è½¬æ¢

é—®é¢˜4ï¼šä¸šåŠ¡é€»è¾‘åˆ†æ•£
è§£å†³ï¼šæ˜ç¡®ä¸šåŠ¡è¾¹ç•Œï¼Œé›†ä¸­ä¸šåŠ¡é€»è¾‘
```

### 7.3 å®é™…åº”ç”¨ä»·å€¼


**ğŸ¯ ä¸šåŠ¡åœºæ™¯åº”ç”¨**
- **ç”µå•†ç³»ç»Ÿ**ï¼šå•†å“å±•ç¤ºã€è®¢å•å¤„ç†ã€æ”¯ä»˜æµç¨‹çš„åˆ†å±‚è®¾è®¡
- **å†…å®¹ç®¡ç†**ï¼šå†…å®¹ç¼–è¾‘ã€å®¡æ ¸æµç¨‹ã€å‘å¸ƒç®¡ç†çš„èŒè´£åˆ†ç¦»
- **ç”¨æˆ·ç³»ç»Ÿ**ï¼šæ³¨å†Œç™»å½•ã€æƒé™ç®¡ç†ã€ä¸ªäººä¸­å¿ƒçš„æ¨¡å—åŒ–
- **æ•°æ®åˆ†æ**ï¼šæ•°æ®æ”¶é›†ã€å¤„ç†åˆ†æã€å¯è§†åŒ–å±•ç¤ºçš„pipeline

**ğŸ”§ å·¥ç¨‹å®è·µ**
- **å›¢é˜Ÿåä½œ**ï¼šå‰ç«¯ã€åç«¯ã€æ•°æ®å›¢é˜Ÿå¹¶è¡Œå¼€å‘
- **æŠ€æœ¯é€‰å‹**ï¼šå„å±‚ç‹¬ç«‹é€‰æ‹©æœ€é€‚åˆçš„æŠ€æœ¯æ ˆ
- **ç³»ç»Ÿç»´æŠ¤**ï¼šé—®é¢˜å®šä½å‡†ç¡®ï¼Œä¿®æ”¹å½±å“èŒƒå›´å¯æ§
- **åŠŸèƒ½æ‰©å±•**ï¼šæ–°åŠŸèƒ½å¼€å‘ä¸å½±å“ç°æœ‰ç³»ç»Ÿç¨³å®šæ€§

**æ ¸å¿ƒè®°å¿†å£è¯€**ï¼š
- åˆ†å±‚æ¶æ„èŒè´£æ¸…ï¼Œä¸Šä¸‹ä¾èµ–ä¸èƒ½æ··
- è¡¨ç¤ºäº¤äº’ä¸šåŠ¡ç®—ï¼Œæ•°æ®å­˜å–å„å¸èŒ
- æ¥å£æŠ½è±¡ä¾èµ–å€’ï¼Œäº‹ä»¶é©±åŠ¨è§£å¾ªç¯
- å›¢é˜Ÿåä½œæ•ˆç‡é«˜ï¼Œç³»ç»Ÿç¨³å®šæ˜“æ‰©å±•

> ğŸ’¡ **å­¦ä¹ å»ºè®®**ï¼šåˆ†å±‚æ¶æ„æ˜¯è½¯ä»¶è®¾è®¡çš„åŸºç¡€æ€æƒ³ï¼Œè¦åœ¨å®é™…é¡¹ç›®ä¸­å¤šå®è·µï¼Œä½“ä¼šå„å±‚èŒè´£çš„è¾¹ç•Œå’Œäº¤äº’æ–¹å¼