---
title: 16ã€å·¥å…·ç±»ä¸å…¬å…±ç»„ä»¶è®¾è®¡
---
## ğŸ“š ç›®å½•

1. [å·¥å…·ç±»è®¾è®¡æ¦‚è¿°](#1-å·¥å…·ç±»è®¾è®¡æ¦‚è¿°)
2. [å…¬å…±æ–¹æ³•ç®¡ç†](#2-å…¬å…±æ–¹æ³•ç®¡ç†)
3. [ç¬¬ä¸‰æ–¹SDKå°è£…](#3-ç¬¬ä¸‰æ–¹SDKå°è£…)
4. [å·¥å…·ç±»è®¾è®¡åŸåˆ™](#4-å·¥å…·ç±»è®¾è®¡åŸåˆ™)
5. [å…¬å…±ç»„ä»¶å¤ç”¨](#5-å…¬å…±ç»„ä»¶å¤ç”¨)
6. [ç‰ˆæœ¬å…¼å®¹æ€§ç®¡ç†](#6-ç‰ˆæœ¬å…¼å®¹æ€§ç®¡ç†)
7. [é…ç½®åŒ–è®¾è®¡](#7-é…ç½®åŒ–è®¾è®¡)
8. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#8-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ› ï¸ å·¥å…·ç±»è®¾è®¡æ¦‚è¿°


### 1.1 ä»€ä¹ˆæ˜¯å·¥å…·ç±»å’Œå…¬å…±ç»„ä»¶


**å·¥å…·ç±»**å°±åƒç”Ÿæ´»ä¸­çš„ç‘å£«å†›åˆ€ï¼ŒæŠŠå¸¸ç”¨çš„åŠŸèƒ½é›†ä¸­åœ¨ä¸€èµ·ï¼Œéšæ—¶å¯ä»¥æ‹¿æ¥ç”¨ï¼š

```
ç”Ÿæ´»ä¸­çš„ä¾‹å­ï¼š
å¨æˆ¿é‡Œçš„è°ƒæ–™ç›’ â†’ å·¥å…·ç±»
- ç›ã€ç³–ã€èƒ¡æ¤’ç²‰éƒ½æ”¾åœ¨ä¸€èµ·
- åšèœæ—¶éšæ—¶å–ç”¨
- é¿å…åˆ°å¤„æ‰¾è°ƒæ–™

ç¼–ç¨‹ä¸­çš„å·¥å…·ç±»ï¼š
DateUtilã€StringUtilã€JsonUtil
- æ—¥æœŸå¤„ç†ã€å­—ç¬¦ä¸²æ“ä½œã€JSONè½¬æ¢
- é¡¹ç›®ä¸­éšæ—¶è°ƒç”¨
- é¿å…é‡å¤å†™ç›¸åŒä»£ç 
```

**å…¬å…±ç»„ä»¶**å°±åƒä¹é«˜ç§¯æœ¨ï¼Œæ ‡å‡†åŒ–çš„é›¶ä»¶å¯ä»¥ç»„è£…æˆä¸åŒçš„ä¸œè¥¿ï¼š

```
ç°å®ä¸–ç•Œï¼š
ä¹é«˜ç§¯æœ¨ â†’ å…¬å…±ç»„ä»¶
- æ ‡å‡†è§„æ ¼ï¼Œé€šç”¨æ¥å£
- å¯ä»¥æ‹¼è£…æˆæ±½è½¦ã€æˆ¿å­ã€é£æœº
- å¤ç”¨æ€§å¼ºï¼Œè´¨é‡ç¨³å®š

ç¼–ç¨‹ä¸­çš„å…¬å…±ç»„ä»¶ï¼š
ç™»å½•ç»„ä»¶ã€åˆ†é¡µç»„ä»¶ã€å¼¹çª—ç»„ä»¶
- æ ‡å‡†æ¥å£ï¼Œé€šç”¨åŠŸèƒ½
- å¯ä»¥ç”¨åœ¨ä¸åŒé¡µé¢ã€ä¸åŒé¡¹ç›®
- ä¸€æ¬¡å¼€å‘ï¼Œå¤šå¤„ä½¿ç”¨
```

### 1.2 ä¸ºä»€ä¹ˆéœ€è¦å·¥å…·ç±»å’Œå…¬å…±ç»„ä»¶


**ğŸ”¸ è§£å†³é‡å¤åŠ³åŠ¨é—®é¢˜**
```
æ²¡æœ‰å·¥å…·ç±»çš„æƒ…å†µï¼š
é¡¹ç›®Aï¼šå†™æ—¥æœŸæ ¼å¼åŒ–ä»£ç 
é¡¹ç›®Bï¼šåˆå†™ä¸€éæ—¥æœŸæ ¼å¼åŒ–ä»£ç   
é¡¹ç›®Cï¼šå†å†™ä¸€éæ—¥æœŸæ ¼å¼åŒ–ä»£ç 
â†’ æµªè´¹æ—¶é—´ï¼Œå®¹æ˜“å‡ºé”™

æœ‰å·¥å…·ç±»çš„æƒ…å†µï¼š
DateUtil.format(date, "yyyy-MM-dd")
â†’ ä¸€è¡Œä»£ç è§£å†³ï¼Œç¨³å®šå¯é 
```

**ğŸ”¸ æå‡ä»£ç è´¨é‡**
```
æ•£ä¹±çš„ä»£ç ï¼š
if (str != null && str.length() > 0) { ... }  // åˆ°å¤„éƒ½æ˜¯è¿™æ ·çš„åˆ¤æ–­

å·¥å…·ç±»å°è£…ï¼š
if (StringUtil.isNotEmpty(str)) { ... }       // ç®€æ´æ˜äº†
```

### 1.3 è®¾è®¡æ ¸å¿ƒæ€æƒ³


**ğŸ“‹ è®¾è®¡åŸåˆ™é€Ÿè§ˆ**
```
ğŸ¯ å•ä¸€èŒè´£ï¼šä¸€ä¸ªå·¥å…·ç±»åªåšä¸€ç±»äº‹æƒ…
ğŸ”§ ç®€å•æ˜“ç”¨ï¼šè°ƒç”¨æ–¹å¼è¦ç®€å•ç›´è§‚
ğŸ“¦ é«˜å†…èšï¼šç›¸å…³åŠŸèƒ½æ”¾åœ¨ä¸€èµ·
ğŸ”— ä½è€¦åˆï¼šä¸ä¾èµ–ä¸šåŠ¡é€»è¾‘
ğŸ”„ å¯å¤ç”¨ï¼šè·¨é¡¹ç›®ã€è·¨æ¨¡å—ä½¿ç”¨
âš¡ é«˜æ€§èƒ½ï¼šè€ƒè™‘æ€§èƒ½å’Œå†…å­˜ä½¿ç”¨
```

---

## 2. ğŸ“ å…¬å…±æ–¹æ³•ç®¡ç†


### 2.1 æ—¥æœŸå¤„ç†å·¥å…·ç±»


**ğŸ• DateUtilè®¾è®¡æ€è·¯**

æ—¥æœŸå¤„ç†æ˜¯æœ€å¸¸è§çš„éœ€æ±‚ï¼Œæˆ‘ä»¬æŠŠæ‰€æœ‰æ—¥æœŸç›¸å…³æ“ä½œé›†ä¸­ç®¡ç†ï¼š

```java
public class DateUtil {
    
    // å¸¸ç”¨æ—¥æœŸæ ¼å¼å¸¸é‡
    public static final String DATE_FORMAT = "yyyy-MM-dd";
    public static final String DATETIME_FORMAT = "yyyy-MM-dd HH:mm:ss";
    public static final String TIME_FORMAT = "HH:mm:ss";
    
    /**
     * æ—¥æœŸè½¬å­—ç¬¦ä¸² - æœ€å¸¸ç”¨çš„åŠŸèƒ½
     */
    public static String format(Date date) {
        return format(date, DATE_FORMAT);
    }
    
    public static String format(Date date, String pattern) {
        if (date == null) return "";
        return new SimpleDateFormat(pattern).format(date);
    }
    
    /**
     * å­—ç¬¦ä¸²è½¬æ—¥æœŸ - è§£æç”¨æˆ·è¾“å…¥
     */
    public static Date parse(String dateStr) {
        return parse(dateStr, DATE_FORMAT);
    }
    
    public static Date parse(String dateStr, String pattern) {
        if (StringUtil.isEmpty(dateStr)) return null;
        try {
            return new SimpleDateFormat(pattern).parse(dateStr);
        } catch (ParseException e) {
            return null; // è§£æå¤±è´¥è¿”å›nullï¼Œè°ƒç”¨æ–¹è‡ªå·±å¤„ç†
        }
    }
    
    /**
     * è®¡ç®—æ—¥æœŸå·® - ä¸šåŠ¡å¸¸ç”¨
     */
    public static long daysBetween(Date startDate, Date endDate) {
        if (startDate == null || endDate == null) return 0;
        long diffInMillies = endDate.getTime() - startDate.getTime();
        return diffInMillies / (1000 * 60 * 60 * 24);
    }
}
```

**ğŸ’¡ ä½¿ç”¨ç¤ºä¾‹**
```java
// ä¸šåŠ¡ä»£ç ä¸­çš„ä½¿ç”¨
String today = DateUtil.format(new Date());                    // "2025-08-16"
String time = DateUtil.format(new Date(), DateUtil.DATETIME_FORMAT); // "2025-08-16 14:30:00"
Date birthday = DateUtil.parse("1990-01-01");
long age = DateUtil.daysBetween(birthday, new Date()) / 365;   // è®¡ç®—å¹´é¾„
```

### 2.2 JSONè½¬æ¢å·¥å…·ç±»


**ğŸ”„ JsonUtilè®¾è®¡æ€è·¯**

JSONè½¬æ¢ä¹Ÿæ˜¯é«˜é¢‘æ“ä½œï¼Œç»Ÿä¸€å°è£…é¿å…åˆ°å¤„å†™try-catchï¼š

```java
public class JsonUtil {
    
    private static final ObjectMapper mapper = new ObjectMapper();
    
    /**
     * å¯¹è±¡è½¬JSONå­—ç¬¦ä¸²
     */
    public static String toJson(Object obj) {
        if (obj == null) return null;
        try {
            return mapper.writeValueAsString(obj);
        } catch (Exception e) {
            // è®°å½•æ—¥å¿—ï¼Œä½†ä¸æŠ›å¼‚å¸¸å½±å“ä¸šåŠ¡
            log.error("JSONåºåˆ—åŒ–å¤±è´¥", e);
            return null;
        }
    }
    
    /**
     * JSONå­—ç¬¦ä¸²è½¬å¯¹è±¡
     */
    public static <T> T fromJson(String json, Class<T> clazz) {
        if (StringUtil.isEmpty(json)) return null;
        try {
            return mapper.readValue(json, clazz);
        } catch (Exception e) {
            log.error("JSONååºåˆ—åŒ–å¤±è´¥", e);
            return null;
        }
    }
    
    /**
     * JSONå­—ç¬¦ä¸²è½¬List
     */
    public static <T> List<T> fromJsonList(String json, Class<T> clazz) {
        if (StringUtil.isEmpty(json)) return new ArrayList<>();
        try {
            JavaType javaType = mapper.getTypeFactory()
                .constructParametricType(List.class, clazz);
            return mapper.readValue(json, javaType);
        } catch (Exception e) {
            log.error("JSONè½¬Listå¤±è´¥", e);
            return new ArrayList<>();
        }
    }
}
```

**ğŸ’¡ ä½¿ç”¨å¯¹æ¯”**
```java
// æ²¡æœ‰å·¥å…·ç±»ï¼šæ¯æ¬¡éƒ½è¦å†™å¼‚å¸¸å¤„ç†
try {
    ObjectMapper mapper = new ObjectMapper();
    String json = mapper.writeValueAsString(user);
} catch (JsonProcessingException e) {
    e.printStackTrace();
    // å¼‚å¸¸å¤„ç†é€»è¾‘...
}

// æœ‰å·¥å…·ç±»ï¼šä¸€è¡Œä»£ç æå®š
String json = JsonUtil.toJson(user);
User user = JsonUtil.fromJson(json, User.class);
```

### 2.3 å­—ç¬¦ä¸²å¤„ç†å·¥å…·ç±»


**ğŸ“ StringUtilè®¾è®¡æ€è·¯**

```java
public class StringUtil {
    
    /**
     * åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ä¸ºç©º - æœ€åŸºç¡€æœ€å¸¸ç”¨
     */
    public static boolean isEmpty(String str) {
        return str == null || str.length() == 0;
    }
    
    public static boolean isNotEmpty(String str) {
        return !isEmpty(str);
    }
    
    /**
     * åˆ¤æ–­æ˜¯å¦ä¸ºç©ºç™½ - åŒ…å«ç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ç­‰
     */
    public static boolean isBlank(String str) {
        return str == null || str.trim().length() == 0;
    }
    
    /**
     * å®‰å…¨çš„å­—ç¬¦ä¸²æˆªå– - é¿å…è¶Šç•Œå¼‚å¸¸
     */
    public static String substring(String str, int start, int end) {
        if (isEmpty(str)) return "";
        if (start < 0) start = 0;
        if (end > str.length()) end = str.length();
        if (start >= end) return "";
        return str.substring(start, end);
    }
    
    /**
     * é¦–å­—æ¯å¤§å†™ - å¸¸ç”¨äºç”Ÿæˆæ–¹æ³•å
     */
    public static String capitalize(String str) {
        if (isEmpty(str)) return str;
        return str.substring(0, 1).toUpperCase() + str.substring(1);
    }
}
```

**ğŸ¯ ç®¡ç†ç­–ç•¥æ€»ç»“**

```
å…¬å…±æ–¹æ³•ç®¡ç†çš„å…³é”®ï¼š

ğŸ“¦ åˆ†ç±»å½’æ¡£ï¼š
- æŒ‰åŠŸèƒ½åˆ†ç±»ï¼šDateUtilã€StringUtilã€JsonUtil
- ä¸€ä¸ªç±»åªè´Ÿè´£ä¸€ç±»æ“ä½œ
- é¿å…å¤§æ‚çƒ©å¼çš„å·¥å…·ç±»

ğŸ¯ æ¥å£è®¾è®¡ï¼š
- æ–¹æ³•åè¦è§åçŸ¥æ„ï¼šformatã€parseã€isEmpty
- å‚æ•°å°½é‡ç®€å•ï¼šå¸¸ç”¨åœºæ™¯ç”¨é»˜è®¤å‚æ•°
- è¿”å›å€¼è¦å®‰å…¨ï¼šé¿å…è¿”å›nullå¯¼è‡´ç©ºæŒ‡é’ˆ

âš¡ æ€§èƒ½è€ƒè™‘ï¼š
- ç¼“å­˜å¸¸ç”¨å¯¹è±¡ï¼šå¦‚SimpleDateFormat
- é¿å…é‡å¤åˆ›å»ºï¼šå¦‚ObjectMapper
- è€ƒè™‘çº¿ç¨‹å®‰å…¨ï¼šé™æ€æ–¹æ³•è¦ä¿è¯çº¿ç¨‹å®‰å…¨
```

---

## 3. ğŸ”Œ ç¬¬ä¸‰æ–¹SDKå°è£…


### 3.1 ä¸ºä»€ä¹ˆè¦å°è£…ç¬¬ä¸‰æ–¹SDK


**ğŸ¤” ç›´æ¥ä½¿ç”¨ç¬¬ä¸‰æ–¹SDKçš„é—®é¢˜**

```
é—®é¢˜åœºæ™¯ï¼šé¡¹ç›®ä¸­ç›´æ¥ä½¿ç”¨é˜¿é‡Œäº‘SMS SDK

ä¸šåŠ¡ä»£ç ä¸­åˆ°å¤„éƒ½æ˜¯ï¼š
IAcsClient client = new DefaultAcsClient(profile);
SendSmsRequest request = new SendSmsRequest();
request.setPhoneNumbers("13800138000");
request.setSignName("æµ‹è¯•ç­¾å");
request.setTemplateCode("SMS_001");
request.setTemplateParam("{\"code\":\"1234\"}");
SendSmsResponse response = client.getAcsResponse(request);

é—®é¢˜ï¼š
âŒ ä»£ç é‡å¤ï¼šæ¯æ¬¡å‘çŸ­ä¿¡éƒ½è¦å†™ä¸€å †é…ç½®
âŒ è€¦åˆä¸¥é‡ï¼šä¸šåŠ¡ä»£ç ç»‘å®šäº†å…·ä½“çš„SDK
âŒ éš¾ä»¥æµ‹è¯•ï¼šæ— æ³•mockç¬¬ä¸‰æ–¹æœåŠ¡
âŒ åˆ‡æ¢å›°éš¾ï¼šæ¢ä¸ªçŸ­ä¿¡æœåŠ¡å•†è¦æ”¹å¾ˆå¤šåœ°æ–¹
```

**âœ… å°è£…åçš„å¥½å¤„**

```
å°è£…åçš„è°ƒç”¨ï¼š
SmsService.sendCode("13800138000", "1234");

å¥½å¤„ï¼š
âœ… ç®€åŒ–è°ƒç”¨ï¼šä¸€è¡Œä»£ç æå®š
âœ… ç»Ÿä¸€æ¥å£ï¼šä¸ç®¡ç”¨å“ªå®¶çŸ­ä¿¡æœåŠ¡
âœ… ä¾¿äºæµ‹è¯•ï¼šå¯ä»¥mock SmsService
âœ… æ˜“äºåˆ‡æ¢ï¼šå†…éƒ¨å®ç°éšæ—¶æ›´æ¢
```

### 3.2 SMSçŸ­ä¿¡æœåŠ¡å°è£…ç¤ºä¾‹


**ğŸ”¸ ç¬¬ä¸€æ­¥ï¼šå®šä¹‰ç»Ÿä¸€æ¥å£**

```java
/**
 * çŸ­ä¿¡æœåŠ¡æ¥å£ - å¯¹ä¸šåŠ¡éšè—ç¬¬ä¸‰æ–¹å®ç°ç»†èŠ‚
 */
public interface SmsService {
    
    /**
     * å‘é€éªŒè¯ç çŸ­ä¿¡
     */
    boolean sendVerificationCode(String phone, String code);
    
    /**
     * å‘é€é€šçŸ¥çŸ­ä¿¡
     */
    boolean sendNotification(String phone, String message);
    
    /**
     * æ‰¹é‡å‘é€çŸ­ä¿¡
     */
    boolean sendBatch(List<String> phones, String message);
}
```

**ğŸ”¸ ç¬¬äºŒæ­¥ï¼šå°è£…å…·ä½“å®ç°**

```java
/**
 * é˜¿é‡Œäº‘çŸ­ä¿¡æœåŠ¡å®ç°
 */
@Component
public class AliyunSmsService implements SmsService {
    
    @Value("${aliyun.sms.accessKey}")
    private String accessKey;
    
    @Value("${aliyun.sms.accessSecret}")
    private String accessSecret;
    
    @Value("${aliyun.sms.signName}")
    private String signName;
    
    private IAcsClient client;
    
    @PostConstruct
    public void init() {
        // åˆå§‹åŒ–é˜¿é‡Œäº‘å®¢æˆ·ç«¯
        IClientProfile profile = DefaultProfile.getProfile("cn-hangzhou", 
            accessKey, accessSecret);
        this.client = new DefaultAcsClient(profile);
    }
    
    @Override
    public boolean sendVerificationCode(String phone, String code) {
        try {
            SendSmsRequest request = new SendSmsRequest();
            request.setPhoneNumbers(phone);
            request.setSignName(signName);
            request.setTemplateCode("SMS_VERIFICATION_CODE"); // é…ç½®åŒ–
            request.setTemplateParam(String.format("{\"code\":\"%s\"}", code));
            
            SendSmsResponse response = client.getAcsResponse(request);
            return "OK".equals(response.getCode());
            
        } catch (Exception e) {
            log.error("å‘é€éªŒè¯ç å¤±è´¥: phone={}, code={}", phone, code, e);
            return false;
        }
    }
    
    @Override
    public boolean sendNotification(String phone, String message) {
        // ç±»ä¼¼å®ç°...
        return true;
    }
    
    @Override
    public boolean sendBatch(List<String> phones, String message) {
        // æ‰¹é‡å‘é€å®ç°...
        return true;
    }
}
```

**ğŸ”¸ ç¬¬ä¸‰æ­¥ï¼šä¸šåŠ¡ä»£ç ä½¿ç”¨**

```java
@Service
public class UserService {
    
    @Autowired
    private SmsService smsService; // æ³¨å…¥æ¥å£ï¼Œä¸å…³å¿ƒå…·ä½“å®ç°
    
    public boolean sendLoginCode(String phone) {
        // ç”ŸæˆéªŒè¯ç 
        String code = generateCode();
        
        // å‘é€çŸ­ä¿¡ - ç®€å•è°ƒç”¨ï¼Œæ— éœ€å…³å¿ƒç¬¬ä¸‰æ–¹SDKç»†èŠ‚
        boolean success = smsService.sendVerificationCode(phone, code);
        
        if (success) {
            // ä¿å­˜éªŒè¯ç åˆ°ç¼“å­˜
            redisTemplate.setex("login_code:" + phone, 300, code);
        }
        
        return success;
    }
}
```

### 3.3 æ–‡ä»¶å­˜å‚¨æœåŠ¡å°è£…


**ğŸ’¾ ç»Ÿä¸€æ–‡ä»¶å­˜å‚¨æ¥å£**

```java
/**
 * æ–‡ä»¶å­˜å‚¨æ¥å£ - æ”¯æŒå¤šç§å­˜å‚¨æ–¹å¼
 */
public interface FileStorageService {
    
    /**
     * ä¸Šä¼ æ–‡ä»¶
     */
    String upload(InputStream inputStream, String fileName);
    
    /**
     * åˆ é™¤æ–‡ä»¶
     */
    boolean delete(String fileUrl);
    
    /**
     * è·å–æ–‡ä»¶è®¿é—®URL
     */
    String getAccessUrl(String fileKey);
    
    /**
     * æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨
     */
    boolean exists(String fileKey);
}
```

**ğŸ”¸ é˜¿é‡Œäº‘OSSå®ç°**

```java
@Component
@ConditionalOnProperty(name = "file.storage.type", havingValue = "aliyun")
public class AliyunOssStorageService implements FileStorageService {
    
    @Autowired
    private OSSClient ossClient;
    
    @Value("${aliyun.oss.bucketName}")
    private String bucketName;
    
    @Override
    public String upload(InputStream inputStream, String fileName) {
        try {
            // ç”Ÿæˆå”¯ä¸€æ–‡ä»¶å
            String fileKey = generateFileKey(fileName);
            
            // ä¸Šä¼ åˆ°OSS
            ossClient.putObject(bucketName, fileKey, inputStream);
            
            return fileKey;
        } catch (Exception e) {
            log.error("æ–‡ä»¶ä¸Šä¼ å¤±è´¥: fileName={}", fileName, e);
            throw new FileUploadException("æ–‡ä»¶ä¸Šä¼ å¤±è´¥");
        }
    }
    
    @Override
    public String getAccessUrl(String fileKey) {
        // ç”Ÿæˆç­¾åURLï¼Œæœ‰æ•ˆæœŸ1å°æ—¶
        Date expiration = new Date(System.currentTimeMillis() + 3600 * 1000);
        return ossClient.generatePresignedUrl(bucketName, fileKey, expiration).toString();
    }
    
    private String generateFileKey(String originalFileName) {
        // æŒ‰æ—¥æœŸåˆ†ç›®å½•å­˜å‚¨ï¼š2025/08/16/uuid_åŸæ–‡ä»¶å
        String datePath = DateUtil.format(new Date(), "yyyy/MM/dd");
        String uuid = UUID.randomUUID().toString().replace("-", "");
        return String.format("%s/%s_%s", datePath, uuid, originalFileName);
    }
}
```

**ğŸ”¸ æœ¬åœ°å­˜å‚¨å®ç°**

```java
@Component
@ConditionalOnProperty(name = "file.storage.type", havingValue = "local")
public class LocalFileStorageService implements FileStorageService {
    
    @Value("${file.upload.path:/data/uploads}")
    private String uploadPath;
    
    @Override
    public String upload(InputStream inputStream, String fileName) {
        try {
            String fileKey = generateFileKey(fileName);
            String fullPath = uploadPath + "/" + fileKey;
            
            // ç¡®ä¿ç›®å½•å­˜åœ¨
            File file = new File(fullPath);
            file.getParentFile().mkdirs();
            
            // ä¿å­˜æ–‡ä»¶
            Files.copy(inputStream, file.toPath(), StandardCopyOption.REPLACE_EXISTING);
            
            return fileKey;
        } catch (Exception e) {
            log.error("æœ¬åœ°æ–‡ä»¶ä¿å­˜å¤±è´¥: fileName={}", fileName, e);
            throw new FileUploadException("æ–‡ä»¶ä¿å­˜å¤±è´¥");
        }
    }
    
    @Override
    public String getAccessUrl(String fileKey) {
        // è¿”å›HTTPè®¿é—®è·¯å¾„
        return "/files/" + fileKey;
    }
}
```

### 3.4 å°è£…è®¾è®¡æ¨¡å¼æ€»ç»“


**ğŸ¯ ç¬¬ä¸‰æ–¹SDKå°è£…çš„æ ¸å¿ƒæ€æƒ³**

```
è®¾è®¡æ¨¡å¼æ€»ç»“ï¼š

ğŸ”¸ é€‚é…å™¨æ¨¡å¼ï¼š
ç»Ÿä¸€æ¥å£ â†’ SmsServiceã€FileStorageService
ä¸åŒå®ç° â†’ AliyunSmsServiceã€TencentSmsService
å¥½å¤„ï¼šä¸šåŠ¡ä»£ç ä¸ä¾èµ–å…·ä½“å®ç°

ğŸ”¸ ç­–ç•¥æ¨¡å¼ï¼š
æ ¹æ®é…ç½®é€‰æ‹©å®ç°
@ConditionalOnProperty åŠ¨æ€é€‰æ‹©
è¿è¡Œæ—¶å¯ä»¥åˆ‡æ¢ä¸åŒç­–ç•¥

ğŸ”¸ é—¨é¢æ¨¡å¼ï¼š
å¤æ‚çš„SDKè°ƒç”¨ â†’ ç®€å•çš„æ¥å£è°ƒç”¨
éšè—ç¬¬ä¸‰æ–¹SDKçš„å¤æ‚æ€§
æä¾›ä¸šåŠ¡å‹å¥½çš„æ¥å£

ğŸ”¸ é…ç½®é©±åŠ¨ï¼š
é€šè¿‡é…ç½®æ–‡ä»¶æ§åˆ¶è¡Œä¸º
æ”¯æŒä¸åŒç¯å¢ƒä½¿ç”¨ä¸åŒå®ç°
ä¾¿äºæµ‹è¯•å’Œéƒ¨ç½²
```

---

## 4. âš–ï¸ å·¥å…·ç±»è®¾è®¡åŸåˆ™


### 4.1 é™æ€æ–¹æ³• vs å®ä¾‹æ–¹æ³•çš„é€‰æ‹©


**ğŸ¤” ä»€ä¹ˆæ—¶å€™ç”¨é™æ€æ–¹æ³•ï¼Ÿ**

é™æ€æ–¹æ³•å°±åƒå…¬å…±ç”µè¯ï¼Œä»»ä½•äººéƒ½å¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œä¸éœ€è¦å…ˆ"ä¹°"ä¸€ä¸ªç”µè¯ï¼š

```java
// âœ… é€‚åˆç”¨é™æ€æ–¹æ³•çš„åœºæ™¯

// 1. çº¯å‡½æ•°å¼æ“ä½œ - è¾“å…¥ç¡®å®šï¼Œè¾“å‡ºç¡®å®š
public class MathUtil {
    public static int add(int a, int b) {
        return a + b; // ç®€å•è®¡ç®—ï¼Œæ— çŠ¶æ€
    }
    
    public static double calculateDistance(double x1, double y1, double x2, double y2) {
        return Math.sqrt(Math.pow(x2-x1, 2) + Math.pow(y2-y1, 2));
    }
}

// 2. æ ¼å¼è½¬æ¢æ“ä½œ - ä¸æ¶‰åŠä¸šåŠ¡çŠ¶æ€
public class StringUtil {
    public static String formatPhone(String phone) {
        if (phone == null || phone.length() != 11) return phone;
        return phone.substring(0,3) + "****" + phone.substring(7);
    }
}

// 3. å¸¸é‡å’Œæšä¸¾æ“ä½œ
public class StatusUtil {
    public static String getStatusName(int status) {
        switch(status) {
            case 1: return "å¯ç”¨";
            case 0: return "ç¦ç”¨";
            default: return "æœªçŸ¥";
        }
    }
}
```

**ğŸ¤” ä»€ä¹ˆæ—¶å€™ç”¨å®ä¾‹æ–¹æ³•ï¼Ÿ**

å®ä¾‹æ–¹æ³•å°±åƒç§äººæ‰‹æœºï¼Œæ¯ä¸ªäººæœ‰è‡ªå·±çš„é…ç½®å’ŒçŠ¶æ€ï¼š

```java
// âœ… é€‚åˆç”¨å®ä¾‹æ–¹æ³•çš„åœºæ™¯

// 1. éœ€è¦ä¿æŒçŠ¶æ€çš„å·¥å…·ç±»
public class HttpClient {
    private String baseUrl;
    private Map<String, String> defaultHeaders;
    private int timeout;
    
    public HttpClient(String baseUrl) {
        this.baseUrl = baseUrl;
        this.defaultHeaders = new HashMap<>();
        this.timeout = 5000;
    }
    
    public HttpClient setTimeout(int timeout) {
        this.timeout = timeout;
        return this; // æ”¯æŒé“¾å¼è°ƒç”¨
    }
    
    public String get(String path) {
        // ä½¿ç”¨å½“å‰å®ä¾‹çš„é…ç½®å‘é€è¯·æ±‚
        return sendRequest("GET", baseUrl + path);
    }
}

// 2. éœ€è¦å¤æ‚åˆå§‹åŒ–çš„å·¥å…·ç±»  
public class TemplateEngine {
    private Configuration freemarkerConfig;
    
    public TemplateEngine() {
        // å¤æ‚çš„åˆå§‹åŒ–è¿‡ç¨‹
        this.freemarkerConfig = new Configuration();
        freemarkerConfig.setClassForTemplateLoading(this.getClass(), "/templates");
        // ... æ›´å¤šé…ç½®
    }
    
    public String render(String templateName, Map<String, Object> data) {
        // ä½¿ç”¨é…ç½®å¥½çš„å¼•æ“æ¸²æŸ“æ¨¡æ¿
        Template template = freemarkerConfig.getTemplate(templateName);
        // ... æ¸²æŸ“é€»è¾‘
        return result;
    }
}

// 3. éœ€è¦ä¾èµ–æ³¨å…¥çš„å·¥å…·ç±»
@Component
public class EmailService {
    
    @Autowired
    private JavaMailSender mailSender;
    
    @Value("${mail.from}")
    private String fromEmail;
    
    public boolean sendEmail(String to, String subject, String content) {
        // ä½¿ç”¨æ³¨å…¥çš„ä¾èµ–å‘é€é‚®ä»¶
        return true;
    }
}
```

**âš–ï¸ é€‰æ‹©ç­–ç•¥å¯¹æ¯”è¡¨**

| ç‰¹å¾ | **é™æ€æ–¹æ³•** | **å®ä¾‹æ–¹æ³•** |
|------|-------------|-------------|
| **çŠ¶æ€** | `æ— çŠ¶æ€ï¼Œçº¯å‡½æ•°` | `æœ‰çŠ¶æ€ï¼Œéœ€è¦é…ç½®` |
| **ä¾èµ–** | `æ— å¤–éƒ¨ä¾èµ–` | `å¯èƒ½æœ‰å¤–éƒ¨ä¾èµ–` |
| **è°ƒç”¨æ–¹å¼** | `ç±»å.æ–¹æ³•å()` | `å¯¹è±¡.æ–¹æ³•å()` |
| **å†…å­˜å ç”¨** | `æ— é¢å¤–å¯¹è±¡åˆ›å»º` | `éœ€è¦åˆ›å»ºå¯¹è±¡å®ä¾‹` |
| **çº¿ç¨‹å®‰å…¨** | `å¤©ç„¶çº¿ç¨‹å®‰å…¨` | `éœ€è¦è€ƒè™‘çº¿ç¨‹å®‰å…¨` |
| **æ‰©å±•æ€§** | `æ‰©å±•æ€§å·®` | `å¯ç»§æ‰¿ã€å¯å¤šæ€` |
| **æµ‹è¯•éš¾åº¦** | `å®¹æ˜“æµ‹è¯•` | `å¯mockï¼Œæµ‹è¯•çµæ´»` |

### 4.2 å·¥å…·ç±»çš„å•ä¸€èŒè´£åŸåˆ™


**ğŸ¯ ä»€ä¹ˆæ˜¯å•ä¸€èŒè´£ï¼Ÿ**

å•ä¸€èŒè´£å°±åƒä¸“ä¸šåˆ†å·¥ï¼Œæ¯ä¸ªå·¥å…·ç±»åªåšä¸€ç±»äº‹æƒ…ï¼Œå°±åƒï¼š
- å¨å¸ˆåªè´Ÿè´£åšèœ
- æœåŠ¡å‘˜åªè´Ÿè´£ä¸Šèœ  
- æ”¶é“¶å‘˜åªè´Ÿè´£æ”¶é’±

```java
// âŒ è¿åå•ä¸€èŒè´£çš„å·¥å…·ç±» - å¤§æ‚çƒ©
public class CommonUtil {
    // æ—¥æœŸç›¸å…³
    public static String formatDate(Date date) { ... }
    
    // å­—ç¬¦ä¸²ç›¸å…³  
    public static boolean isEmpty(String str) { ... }
    
    // æ•°å­¦è®¡ç®—ç›¸å…³
    public static double calculate(double a, double b) { ... }
    
    // æ–‡ä»¶æ“ä½œç›¸å…³
    public static void saveFile(String content, String path) { ... }
    
    // HTTPè¯·æ±‚ç›¸å…³
    public static String httpGet(String url) { ... }
}
// é—®é¢˜ï¼šåŠŸèƒ½æ··æ‚ï¼Œéš¾ä»¥ç»´æŠ¤ï¼ŒèŒè´£ä¸æ¸…
```

```java
// âœ… éµå¾ªå•ä¸€èŒè´£çš„å·¥å…·ç±»è®¾è®¡

// æ—¥æœŸå¤„ç†ä¸“ç”¨
public class DateUtil {
    public static String format(Date date, String pattern) { ... }
    public static Date parse(String dateStr, String pattern) { ... }
    public static long daysBetween(Date start, Date end) { ... }
}

// å­—ç¬¦ä¸²å¤„ç†ä¸“ç”¨
public class StringUtil {
    public static boolean isEmpty(String str) { ... }
    public static String trim(String str) { ... }
    public static String capitalize(String str) { ... }
}

// æ–‡ä»¶æ“ä½œä¸“ç”¨
public class FileUtil {
    public static void saveFile(String content, String path) { ... }
    public static String readFile(String path) { ... }
    public static boolean deleteFile(String path) { ... }
}

// HTTPè¯·æ±‚ä¸“ç”¨
public class HttpUtil {
    public static String get(String url) { ... }
    public static String post(String url, String body) { ... }
}
```

**ğŸ’¡ å•ä¸€èŒè´£çš„å¥½å¤„**

```
å¥½å¤„åˆ†æï¼š

ğŸ” æ˜“äºæŸ¥æ‰¾ï¼š
éœ€è¦æ—¥æœŸå¤„ç† â†’ ç›´æ¥æ‰¾DateUtil
éœ€è¦å­—ç¬¦ä¸²æ“ä½œ â†’ ç›´æ¥æ‰¾StringUtil
ä¸ç”¨åœ¨å¤§æ‚çƒ©å·¥å…·ç±»é‡Œç¿»æ‰¾

ğŸ› ï¸ æ˜“äºç»´æŠ¤ï¼š
ä¿®æ”¹æ—¥æœŸæ ¼å¼é€»è¾‘ â†’ åªå½±å“DateUtil
æ·»åŠ æ–°çš„å­—ç¬¦ä¸²æ–¹æ³• â†’ åªéœ€è¦ä¿®æ”¹StringUtil

ğŸ‘¥ å›¢é˜Ÿåä½œï¼š
å¼ ä¸‰è´Ÿè´£DateUtilï¼Œæå››è´Ÿè´£StringUtil
å„è‡ªå¼€å‘ï¼Œäº’ä¸å¹²æ‰°

ğŸ“¦ æŒ‰éœ€å¼•å…¥ï¼š
åªéœ€è¦æ—¥æœŸå¤„ç† â†’ åªå¼•å…¥DateUtil
å‡å°‘ä¸å¿…è¦çš„ä¾èµ–
```

### 4.3 å‚æ•°è®¾è®¡ä¸é‡è½½ç­–ç•¥


**ğŸ”§ é‡è½½æ–¹æ³•çš„è®¾è®¡æ€è·¯**

é‡è½½å°±åƒå¿«é¤åº—çš„å¥—é¤ï¼Œæä¾›ä¸åŒå¤æ‚åº¦çš„é€‰æ‹©ï¼š

```java
public class DateUtil {
    
    // ğŸ” ç®€å•å¥—é¤ï¼šæœ€å¸¸ç”¨çš„é»˜è®¤æ ¼å¼
    public static String format(Date date) {
        return format(date, "yyyy-MM-dd HH:mm:ss");
    }
    
    // ğŸŸ ä¸­ç­‰å¥—é¤ï¼šå¯ä»¥æŒ‡å®šæ ¼å¼
    public static String format(Date date, String pattern) {
        if (date == null) return "";
        if (StringUtil.isEmpty(pattern)) pattern = "yyyy-MM-dd HH:mm:ss";
        return new SimpleDateFormat(pattern).format(date);
    }
    
    // ğŸ¥¤ è±ªåå¥—é¤ï¼šå¯ä»¥æŒ‡å®šæ—¶åŒº
    public static String format(Date date, String pattern, TimeZone timeZone) {
        if (date == null) return "";
        SimpleDateFormat sdf = new SimpleDateFormat(pattern);
        if (timeZone != null) {
            sdf.setTimeZone(timeZone);
        }
        return sdf.format(date);
    }
}

// ä½¿ç”¨æ—¶å¯ä»¥æ ¹æ®éœ€è¦é€‰æ‹©
String simple = DateUtil.format(new Date());                    // æœ€ç®€å•
String custom = DateUtil.format(new Date(), "yyyy/MM/dd");      // è‡ªå®šä¹‰æ ¼å¼  
String withTz = DateUtil.format(new Date(), "yyyy-MM-dd", tz);  // æŒ‡å®šæ—¶åŒº
```

**ğŸ¯ å‚æ•°è®¾è®¡æœ€ä½³å®è·µ**

```java
public class StringUtil {
    
    // âœ… å¥½çš„å‚æ•°è®¾è®¡
    public static String substring(String str, int start, int end) {
        // å‚æ•°æ ¡éªŒï¼Œé˜²å¾¡å¼ç¼–ç¨‹
        if (str == null) return null;
        if (start < 0) start = 0;
        if (end > str.length()) end = str.length();
        if (start >= end) return "";
        
        return str.substring(start, end);
    }
    
    // âœ… æä¾›é»˜è®¤å€¼çš„é‡è½½
    public static String substring(String str, int start) {
        return substring(str, start, str == null ? 0 : str.length());
    }
    
    // âœ… å¤„ç†å¸¸è§åœºæ™¯çš„ä¾¿æ·æ–¹æ³•
    public static String left(String str, int length) {
        return substring(str, 0, length);
    }
    
    public static String right(String str, int length) {
        if (str == null || length <= 0) return "";
        int start = Math.max(0, str.length() - length);
        return substring(str, start, str.length());
    }
}
```

### 4.4 å¼‚å¸¸å¤„ç†ç­–ç•¥


**ğŸš¨ å·¥å…·ç±»çš„å¼‚å¸¸å¤„ç†å“²å­¦**

å·¥å…·ç±»çš„å¼‚å¸¸å¤„ç†è¦åƒä¿é™©ä¸€æ ·ï¼Œä¿æŠ¤è°ƒç”¨è€…ä¸å—ä¼¤å®³ï¼š

```java
public class JsonUtil {
    
    // âœ… æ¨èï¼šåæ‰å¼‚å¸¸ï¼Œè¿”å›å®‰å…¨å€¼
    public static String toJson(Object obj) {
        if (obj == null) return null;
        try {
            return objectMapper.writeValueAsString(obj);
        } catch (Exception e) {
            // è®°å½•æ—¥å¿—ï¼Œä½†ä¸å‘ä¸ŠæŠ›å¼‚å¸¸
            log.error("JSONåºåˆ—åŒ–å¤±è´¥: obj={}", obj.getClass().getSimpleName(), e);
            return null; // è¿”å›å®‰å…¨çš„é»˜è®¤å€¼
        }
    }
    
    // âœ… æ¨èï¼šæä¾›æ£€æŸ¥ç‰ˆæœ¬ç»™éœ€è¦çš„è°ƒç”¨è€…
    public static String toJsonWithException(Object obj) throws JsonProcessingException {
        return objectMapper.writeValueAsString(obj);
    }
    
    // âŒ ä¸æ¨èï¼šå·¥å…·æ–¹æ³•æŠ›å‡ºå—æ£€å¼‚å¸¸
    public static String badToJson(Object obj) throws JsonProcessingException {
        // å¼ºè¿«æ¯ä¸ªè°ƒç”¨è€…éƒ½å¤„ç†å¼‚å¸¸ï¼Œå¢åŠ ä½¿ç”¨è´Ÿæ‹…
        return objectMapper.writeValueAsString(obj);
    }
}
```

**ğŸ›¡ï¸ é˜²å¾¡å¼ç¼–ç¨‹åŸåˆ™**

```java
public class FileUtil {
    
    public static String readFileContent(String filePath) {
        // ğŸ›¡ï¸ å¤šå±‚é˜²å¾¡
        
        // ç¬¬ä¸€é“é˜²çº¿ï¼šå‚æ•°æ ¡éªŒ
        if (StringUtil.isEmpty(filePath)) {
            log.warn("æ–‡ä»¶è·¯å¾„ä¸ºç©º");
            return "";
        }
        
        File file = new File(filePath);
        
        // ç¬¬äºŒé“é˜²çº¿ï¼šæ–‡ä»¶å­˜åœ¨æ€§æ£€æŸ¥
        if (!file.exists()) {
            log.warn("æ–‡ä»¶ä¸å­˜åœ¨: {}", filePath);
            return "";
        }
        
        // ç¬¬ä¸‰é“é˜²çº¿ï¼šæ–‡ä»¶å¯è¯»æ€§æ£€æŸ¥
        if (!file.canRead()) {
            log.warn("æ–‡ä»¶ä¸å¯è¯»: {}", filePath);
            return "";
        }
        
        // ç¬¬å››é“é˜²çº¿ï¼šå¼‚å¸¸æ•è·
        try {
            return Files.readString(file.toPath(), StandardCharsets.UTF_8);
        } catch (IOException e) {
            log.error("è¯»å–æ–‡ä»¶å¤±è´¥: {}", filePath, e);
            return ""; // è¿”å›å®‰å…¨é»˜è®¤å€¼
        }
    }
}
```

---

## 5. ğŸ§© å…¬å…±ç»„ä»¶å¤ç”¨


### 5.1 ä»€ä¹ˆæ˜¯å…¬å…±ç»„ä»¶


**ğŸ§± ç»„ä»¶å°±åƒæ ‡å‡†åŒ–é›¶ä»¶**

```
ç°å®ä¸–ç•Œçš„ä¾‹å­ï¼š
æ±½è½¦åˆ¶é€  â†’ è½¯ä»¶å¼€å‘
- æ ‡å‡†è½®èƒ â†’ åˆ†é¡µç»„ä»¶
- æ ‡å‡†æ–¹å‘ç›˜ â†’ å¯¼èˆªç»„ä»¶  
- æ ‡å‡†å¼•æ“ â†’ ç™»å½•ç»„ä»¶

ç‰¹ç‚¹ï¼š
âœ… æ ‡å‡†æ¥å£ï¼šå¯ä»¥è£…é…åˆ°ä¸åŒè½¦å‹
âœ… ç‹¬ç«‹åŠŸèƒ½ï¼šå•ç‹¬å·¥ä½œï¼Œä¸ä¾èµ–å…¶ä»–éƒ¨ä»¶
âœ… å¯å¤ç”¨ï¼šä¸€æ¬¡ç”Ÿäº§ï¼Œå¤šæ¬¡ä½¿ç”¨
âœ… å¯æ›¿æ¢ï¼šåäº†å¯ä»¥ç›´æ¥æ¢æ–°çš„
```

**ğŸ¯ å‰ç«¯ç»„ä»¶ç¤ºä¾‹**

```vue
<!-- âœ… å¥½çš„å…¬å…±ç»„ä»¶è®¾è®¡ï¼šåˆ†é¡µç»„ä»¶ -->
<template>
  <div class="pagination">
    <button @click="prevPage" :disabled="currentPage <= 1">ä¸Šä¸€é¡µ</button>
    <span>ç¬¬ {{ currentPage }} é¡µï¼Œå…± {{ totalPages }} é¡µ</span>
    <button @click="nextPage" :disabled="currentPage >= totalPages">ä¸‹ä¸€é¡µ</button>
  </div>
</template>

<script>
export default {
  name: 'Pagination',
  props: {
    currentPage: {
      type: Number,
      required: true
    },
    totalPages: {
      type: Number, 
      required: true
    }
  },
  emits: ['pageChange'],
  methods: {
    prevPage() {
      if (this.currentPage > 1) {
        this.$emit('pageChange', this.currentPage - 1);
      }
    },
    nextPage() {
      if (this.currentPage < this.totalPages) {
        this.$emit('pageChange', this.currentPage + 1);
      }
    }
  }
}
</script>
```

**ğŸ’¡ ä½¿ç”¨æ–¹å¼**

```vue
<!-- åœ¨ä¸åŒé¡µé¢ä¸­å¤ç”¨ -->
<template>
  <div>
    <!-- ç”¨æˆ·åˆ—è¡¨é¡µ -->
    <UserList :users="users" />
    <Pagination 
      :current-page="userPage" 
      :total-pages="userTotalPages"
      @page-change="loadUsers" 
    />
    
    <!-- è®¢å•åˆ—è¡¨é¡µ -->  
    <OrderList :orders="orders" />
    <Pagination
      :current-page="orderPage"
      :total-pages="orderTotalPages" 
      @page-change="loadOrders"
    />
  </div>
</template>
```

### 5.2 åç«¯å…¬å…±ç»„ä»¶è®¾è®¡


**ğŸ“Š åˆ†é¡µæŸ¥è¯¢ç»„ä»¶**

```java
/**
 * é€šç”¨åˆ†é¡µè¯·æ±‚å¯¹è±¡
 */
public class PageRequest {
    private int pageNum = 1;        // é¡µç ï¼Œä»1å¼€å§‹
    private int pageSize = 10;      // æ¯é¡µå¤§å°
    private String sortField;      // æ’åºå­—æ®µ
    private String sortOrder;      // æ’åºæ–¹å‘ï¼šasc/desc
    
    // æ„é€ æ–¹æ³•å’Œgetter/setter...
    
    public int getOffset() {
        return (pageNum - 1) * pageSize;
    }
}

/**
 * é€šç”¨åˆ†é¡µå“åº”å¯¹è±¡  
 */
public class PageResponse<T> {
    private List<T> data;          // å½“å‰é¡µæ•°æ®
    private long total;            // æ€»è®°å½•æ•°
    private int pageNum;           // å½“å‰é¡µç   
    private int pageSize;          // æ¯é¡µå¤§å°
    private int totalPages;        // æ€»é¡µæ•°
    
    public PageResponse(List<T> data, long total, int pageNum, int pageSize) {
        this.data = data;
        this.total = total;
        this.pageNum = pageNum;
        this.pageSize = pageSize;
        this.totalPages = (int) Math.ceil((double) total / pageSize);
    }
}
```

**ğŸ”§ åˆ†é¡µæŸ¥è¯¢å·¥å…·**

```java
@Component
public class PageHelper {
    
    /**
     * æ‰§è¡Œåˆ†é¡µæŸ¥è¯¢
     */
    public <T> PageResponse<T> queryPage(PageRequest pageRequest, 
                                        Function<PageRequest, List<T>> dataQuery,
                                        Function<PageRequest, Long> countQuery) {
        
        // å‚æ•°æ ¡éªŒ
        validatePageRequest(pageRequest);
        
        // æŸ¥è¯¢æ€»æ•°
        long total = countQuery.apply(pageRequest);
        if (total == 0) {
            return new PageResponse<>(Collections.emptyList(), 0, 
                pageRequest.getPageNum(), pageRequest.getPageSize());
        }
        
        // æŸ¥è¯¢å½“å‰é¡µæ•°æ®
        List<T> data = dataQuery.apply(pageRequest);
        
        return new PageResponse<>(data, total, 
            pageRequest.getPageNum(), pageRequest.getPageSize());
    }
    
    private void validatePageRequest(PageRequest pageRequest) {
        if (pageRequest.getPageNum() < 1) {
            pageRequest.setPageNum(1);
        }
        if (pageRequest.getPageSize() < 1 || pageRequest.getPageSize() > 100) {
            pageRequest.setPageSize(10);
        }
    }
}
```

**ğŸ’¡ ä¸šåŠ¡ä¸­çš„ä½¿ç”¨**

```java
@Service
public class UserService {
    
    @Autowired
    private UserMapper userMapper;
    
    @Autowired 
    private PageHelper pageHelper;
    
    public PageResponse<User> getUserPage(PageRequest pageRequest, String keyword) {
        return pageHelper.queryPage(
            pageRequest,
            // æ•°æ®æŸ¥è¯¢é€»è¾‘
            req -> userMapper.selectUsers(req.getOffset(), req.getPageSize(), keyword),
            // è®¡æ•°æŸ¥è¯¢é€»è¾‘  
            req -> userMapper.countUsers(keyword)
        );
    }
}

@RestController
public class UserController {
    
    @Autowired
    private UserService userService;
    
    @GetMapping("/users")
    public Result<PageResponse<User>> getUsers(PageRequest pageRequest, String keyword) {
        PageResponse<User> pageData = userService.getUserPage(pageRequest, keyword);
        return Result.success(pageData);
    }
}
```

### 5.3 æ–‡ä»¶ä¸Šä¼ ç»„ä»¶


**ğŸ“ é€šç”¨æ–‡ä»¶ä¸Šä¼ ç»„ä»¶**

```java
/**
 * æ–‡ä»¶ä¸Šä¼ ç»“æœ
 */
public class UploadResult {
    private boolean success;
    private String fileUrl;        // æ–‡ä»¶è®¿é—®URL
    private String fileName;       // åŸå§‹æ–‡ä»¶å
    private String fileKey;        // å­˜å‚¨æ–‡ä»¶æ ‡è¯†
    private long fileSize;         // æ–‡ä»¶å¤§å°
    private String message;        // é”™è¯¯ä¿¡æ¯
    
    public static UploadResult success(String fileUrl, String fileName, 
                                     String fileKey, long fileSize) {
        UploadResult result = new UploadResult();
        result.success = true;
        result.fileUrl = fileUrl;
        result.fileName = fileName;
        result.fileKey = fileKey;
        result.fileSize = fileSize;
        return result;
    }
    
    public static UploadResult failure(String message) {
        UploadResult result = new UploadResult();
        result.success = false;
        result.message = message;
        return result;
    }
}

/**
 * æ–‡ä»¶ä¸Šä¼ é…ç½®
 */
@ConfigurationProperties(prefix = "file.upload")
public class UploadConfig {
    private long maxSize = 10 * 1024 * 1024;           // æœ€å¤§10MB
    private List<String> allowedTypes = Arrays.asList(  // å…è®¸çš„æ–‡ä»¶ç±»å‹
        "jpg", "jpeg", "png", "gif", "pdf", "doc", "docx"
    );
    private String uploadPath = "/data/uploads";         // ä¸Šä¼ è·¯å¾„
}
```

**ğŸ“¤ æ–‡ä»¶ä¸Šä¼ æœåŠ¡ç»„ä»¶**

```java
@Service
public class FileUploadService {
    
    @Autowired
    private UploadConfig uploadConfig;
    
    @Autowired
    private FileStorageService fileStorageService;
    
    /**
     * ä¸Šä¼ å•ä¸ªæ–‡ä»¶
     */
    public UploadResult uploadFile(MultipartFile file) {
        try {
            // 1. åŸºç¡€æ ¡éªŒ
            if (file == null || file.isEmpty()) {
                return UploadResult.failure("æ–‡ä»¶ä¸èƒ½ä¸ºç©º");
            }
            
            // 2. æ–‡ä»¶å¤§å°æ ¡éªŒ
            if (file.getSize() > uploadConfig.getMaxSize()) {
                return UploadResult.failure("æ–‡ä»¶å¤§å°è¶…è¿‡é™åˆ¶ï¼š" + 
                    (uploadConfig.getMaxSize() / 1024 / 1024) + "MB");
            }
            
            // 3. æ–‡ä»¶ç±»å‹æ ¡éªŒ
            String fileName = file.getOriginalFilename();
            String fileExtension = getFileExtension(fileName);
            if (!uploadConfig.getAllowedTypes().contains(fileExtension.toLowerCase())) {
                return UploadResult.failure("ä¸æ”¯æŒçš„æ–‡ä»¶ç±»å‹ï¼š" + fileExtension);
            }
            
            // 4. ä¸Šä¼ æ–‡ä»¶
            String fileKey = fileStorageService.upload(file.getInputStream(), fileName);
            String fileUrl = fileStorageService.getAccessUrl(fileKey);
            
            return UploadResult.success(fileUrl, fileName, fileKey, file.getSize());
            
        } catch (Exception e) {
            log.error("æ–‡ä»¶ä¸Šä¼ å¤±è´¥", e);
            return UploadResult.failure("æ–‡ä»¶ä¸Šä¼ å¤±è´¥ï¼š" + e.getMessage());
        }
    }
    
    /**
     * æ‰¹é‡ä¸Šä¼ æ–‡ä»¶
     */
    public List<UploadResult> uploadFiles(List<MultipartFile> files) {
        return files.stream()
            .map(this::uploadFile)
            .collect(Collectors.toList());
    }
    
    private String getFileExtension(String fileName) {
        if (fileName == null || !fileName.contains(".")) {
            return "";
        }
        return fileName.substring(fileName.lastIndexOf(".") + 1);
    }
}
```

**ğŸ¯ å‰ç«¯ä¸Šä¼ ç»„ä»¶é…åˆ**

```vue
<template>
  <div class="file-upload">
    <div class="upload-area" @drop="handleDrop" @dragover.prevent>
      <input type="file" ref="fileInput" @change="handleFileSelect" multiple hidden>
      <button @click="selectFiles" class="upload-btn">é€‰æ‹©æ–‡ä»¶</button>
      <p>æˆ–æ‹–æ‹½æ–‡ä»¶åˆ°æ­¤å¤„</p>
    </div>
    
    <div class="file-list">
      <div v-for="file in uploadFiles" :key="file.id" class="file-item">
        <span>{{ file.name }}</span>
        <span>{{ formatFileSize(file.size) }}</span>
        <span :class="file.status">{{ file.statusText }}</span>
      </div>
    </div>
  </div>
</template>

<script>
export default {
  name: 'FileUpload',
  data() {
    return {
      uploadFiles: []
    }
  },
  methods: {
    selectFiles() {
      this.$refs.fileInput.click();
    },
    
    handleFileSelect(event) {
      const files = Array.from(event.target.files);
      this.uploadFiles = files.map(file => ({
        id: Date.now() + Math.random(),
        name: file.name,
        size: file.size,
        file: file,
        status: 'waiting',
        statusText: 'ç­‰å¾…ä¸Šä¼ '
      }));
      this.startUpload();
    },
    
    async startUpload() {
      for (let fileItem of this.uploadFiles) {
        fileItem.status = 'uploading';
        fileItem.statusText = 'ä¸Šä¼ ä¸­...';
        
        try {
          const formData = new FormData();
          formData.append('file', fileItem.file);
          
          const response = await this.$http.post('/api/upload', formData);
          
          if (response.data.success) {
            fileItem.status = 'success';
            fileItem.statusText = 'ä¸Šä¼ æˆåŠŸ';
            fileItem.url = response.data.fileUrl;
          } else {
            fileItem.status = 'error';
            fileItem.statusText = response.data.message || 'ä¸Šä¼ å¤±è´¥';
          }
        } catch (error) {
          fileItem.status = 'error';
          fileItem.statusText = 'ä¸Šä¼ å¤±è´¥';
        }
      }
    }
  }
}
</script>
```

### 5.4 å…¬å…±ç»„ä»¶å¤ç”¨ç­–ç•¥


**ğŸ¯ ç»„ä»¶å¤ç”¨çš„å…³é”®åŸåˆ™**

```
å¤ç”¨ç­–ç•¥æ€»ç»“ï¼š

ğŸ”¸ æ¥å£æ ‡å‡†åŒ–ï¼š
- ç»Ÿä¸€çš„Propsæ¥å£
- ç»Ÿä¸€çš„Eventsäº‹ä»¶
- ç»Ÿä¸€çš„é…ç½®æ–¹å¼

ğŸ”¸ åŠŸèƒ½å•ä¸€åŒ–ï¼š
- ä¸€ä¸ªç»„ä»¶åªåšä¸€ä»¶äº‹
- é¿å…ç»„ä»¶åŠŸèƒ½è¿‡äºå¤æ‚
- ä¿æŒç»„ä»¶çš„çº¯å‡€æ€§

ğŸ”¸ é…ç½®çµæ´»åŒ–ï¼š
- é€šè¿‡Propsæ§åˆ¶è¡Œä¸º
- æ”¯æŒæ’æ§½è‡ªå®šä¹‰å†…å®¹
- æä¾›åˆç†çš„é»˜è®¤å€¼

ğŸ”¸ æ ·å¼å¯å®šåˆ¶ï¼š
- æ”¯æŒCSSç±»åä¼ å…¥
- æ”¯æŒä¸»é¢˜è‰²é…ç½®
- å“åº”å¼è®¾è®¡é€‚é…
```

**ğŸ“‹ ç»„ä»¶è®¾è®¡Checklist**

```
è®¾è®¡æ£€æŸ¥æ¸…å•ï¼š

âœ… åŠŸèƒ½å®Œæ•´æ€§
â–¡ åŸºæœ¬åŠŸèƒ½æ˜¯å¦å®Œå¤‡ï¼Ÿ
â–¡ è¾¹ç•Œæƒ…å†µæ˜¯å¦å¤„ç†ï¼Ÿ
â–¡ é”™è¯¯çŠ¶æ€æ˜¯å¦å‹å¥½ï¼Ÿ

âœ… æ¥å£åˆç†æ€§
â–¡ Propsæ˜¯å¦å¿…éœ€ä¸”è¶³å¤Ÿï¼Ÿ
â–¡ Eventsæ˜¯å¦å®Œæ•´ï¼Ÿ
â–¡ æ–¹æ³•æš´éœ²æ˜¯å¦åˆé€‚ï¼Ÿ

âœ… å¤ç”¨æ€§è€ƒè™‘
â–¡ æ˜¯å¦ä¾èµ–ç‰¹å®šä¸šåŠ¡é€»è¾‘ï¼Ÿ
â–¡ æ ·å¼æ˜¯å¦å¯ä»¥å®šåˆ¶ï¼Ÿ
â–¡ æ˜¯å¦æ”¯æŒä¸åŒå°ºå¯¸ï¼Ÿ

âœ… æ€§èƒ½ä¼˜åŒ–
â–¡ æ˜¯å¦æœ‰ä¸å¿…è¦çš„é‡æ¸²æŸ“ï¼Ÿ
â–¡ å¤§æ•°æ®é‡æ˜¯å¦è€ƒè™‘è™šæ‹Ÿæ»šåŠ¨ï¼Ÿ
â–¡ æ˜¯å¦æœ‰å†…å­˜æ³„æ¼é£é™©ï¼Ÿ

âœ… æ–‡æ¡£å®Œå–„
â–¡ ä½¿ç”¨ç¤ºä¾‹æ˜¯å¦æ¸…æ™°ï¼Ÿ
â–¡ Propsè¯´æ˜æ˜¯å¦è¯¦ç»†ï¼Ÿ
â–¡ å¸¸è§é—®é¢˜æ˜¯å¦è¦†ç›–ï¼Ÿ
```

---

## 6. ğŸ”„ ç‰ˆæœ¬å…¼å®¹æ€§ç®¡ç†


### 6.1 ä¸ºä»€ä¹ˆéœ€è¦ç‰ˆæœ¬ç®¡ç†


**ğŸ¤” ç‰ˆæœ¬ç®¡ç†çš„ç°å®éœ€æ±‚**

```
åœºæ™¯æè¿°ï¼š
ä½ å¼€å‘äº†ä¸€ä¸ªå¾ˆå¥½ç”¨çš„DateUtilå·¥å…·ç±»
é¡¹ç›®Aã€Bã€Céƒ½åœ¨ä½¿ç”¨

æŸå¤©ä½ æƒ³ä¼˜åŒ–DateUtilï¼Œå¢åŠ æ–°åŠŸèƒ½ï¼š
- æ·»åŠ äº†æ—¶åŒºæ”¯æŒ
- ä¿®æ”¹äº†æŸä¸ªæ–¹æ³•çš„å‚æ•°
- ä¼˜åŒ–äº†æ€§èƒ½

é—®é¢˜æ¥äº†ï¼š
âŒ é¡¹ç›®Aè¿˜ä¾èµ–æ—§ç‰ˆæœ¬çš„æ–¹æ³•ç­¾å
âŒ é¡¹ç›®Béœ€è¦æ–°åŠŸèƒ½ä½†ä¸æƒ³å¤§æ”¹ä»£ç   
âŒ é¡¹ç›®Cæ­£åœ¨å¼€å‘ä¸­ï¼Œä¸æƒ³è¢«å½±å“

å¦‚æœæ²¡æœ‰ç‰ˆæœ¬ç®¡ç†ï¼š
ğŸ’¥ æ”¹äº†DateUtilï¼Œæ‰€æœ‰é¡¹ç›®éƒ½å—å½±å“
ğŸ’¥ è¦ä¹ˆæ‰€æœ‰é¡¹ç›®ä¸€èµ·æ”¹ï¼Œè¦ä¹ˆåŠŸèƒ½æ— æ³•å‡çº§
ğŸ’¥ æµ‹è¯•å·¥ä½œé‡å·¨å¤§ï¼Œé£é™©å¾ˆé«˜
```

**âœ… ç‰ˆæœ¬ç®¡ç†çš„å¥½å¤„**

```
æœ‰äº†ç‰ˆæœ¬ç®¡ç†ï¼š
ğŸ“¦ v1.0: åŸºç¡€ç‰ˆæœ¬ï¼Œç¨³å®šå¯é 
ğŸ“¦ v1.1: å‘åå…¼å®¹çš„åŠŸèƒ½å¢åŠ 
ğŸ“¦ v2.0: é‡å¤§æ›´æ–°ï¼Œå¯èƒ½ä¸å…¼å®¹

é¡¹ç›®å¯ä»¥æŒ‰éœ€é€‰æ‹©ï¼š
- é¡¹ç›®A: ç»§ç»­ä½¿ç”¨v1.0ï¼Œç¨³å®šè¿è¡Œ
- é¡¹ç›®B: å‡çº§åˆ°v1.1ï¼Œè·å¾—æ–°åŠŸèƒ½
- é¡¹ç›®C: ç›´æ¥ä½¿ç”¨v2.0ï¼Œäº«å—æœ€æ–°ç‰¹æ€§
```

### 6.2 è¯­ä¹‰åŒ–ç‰ˆæœ¬ç®¡ç†


**ğŸ“Š ç‰ˆæœ¬å·è§„åˆ™ï¼šä¸»ç‰ˆæœ¬.æ¬¡ç‰ˆæœ¬.ä¿®è®¢ç‰ˆæœ¬**

```
ç‰ˆæœ¬å·å«ä¹‰ï¼š
v1.2.3
â”‚ â”‚ â”‚
â”‚ â”‚ â””â”€ ä¿®è®¢ç‰ˆæœ¬(Patch): ä¿®å¤bugï¼Œå®Œå…¨å‘åå…¼å®¹
â”‚ â””â”€â”€â”€ æ¬¡ç‰ˆæœ¬(Minor): æ–°å¢åŠŸèƒ½ï¼Œå‘åå…¼å®¹  
â””â”€â”€â”€â”€â”€ ä¸»ç‰ˆæœ¬(Major): é‡å¤§å˜æ›´ï¼Œå¯èƒ½ä¸å…¼å®¹

å®é™…ä¾‹å­ï¼š
v1.0.0: åˆå§‹ç‰ˆæœ¬
v1.0.1: ä¿®å¤äº†æ—¥æœŸè§£æçš„bug
v1.1.0: æ–°å¢äº†æ—¶åŒºæ”¯æŒåŠŸèƒ½  
v2.0.0: é‡æ„äº†APIæ¥å£
```

**ğŸ”§ DateUtilç‰ˆæœ¬æ¼”è¿›ç¤ºä¾‹**

```java
// v1.0.0 - åˆå§‹ç‰ˆæœ¬
public class DateUtil {
    public static String format(Date date) {
        return new SimpleDateFormat("yyyy-MM-dd").format(date);
    }
}

// v1.0.1 - ä¿®å¤ç©ºæŒ‡é’ˆbug  
public class DateUtil {
    public static String format(Date date) {
        if (date == null) return "";  // ğŸ› ä¿®å¤ï¼šé˜²æ­¢ç©ºæŒ‡é’ˆ
        return new SimpleDateFormat("yyyy-MM-dd").format(date);
    }
}

// v1.1.0 - æ–°å¢åŠŸèƒ½ï¼Œä¿æŒå…¼å®¹
public class DateUtil {
    // âœ… ä¿ç•™åŸæœ‰æ–¹æ³•ï¼Œä¿è¯å…¼å®¹æ€§
    public static String format(Date date) {
        return format(date, "yyyy-MM-dd");
    }
    
    // ğŸ†• æ–°å¢ï¼šæ”¯æŒè‡ªå®šä¹‰æ ¼å¼
    public static String format(Date date, String pattern) {
        if (date == null) return "";
        return new SimpleDateFormat(pattern).format(date);
    }
    
    // ğŸ†• æ–°å¢ï¼šæ—¶åŒºæ”¯æŒ
    public static String format(Date date, String pattern, TimeZone timezone) {
        if (date == null) return "";
        SimpleDateFormat sdf = new SimpleDateFormat(pattern);
        sdf.setTimeZone(timezone);
        return sdf.format(date);
    }
}

// v2.0.0 - é‡å¤§é‡æ„ï¼Œå¯èƒ½ä¸å…¼å®¹
public class DateUtil {
    // âš ï¸ ç ´åæ€§å˜æ›´ï¼šè¿”å›ç±»å‹æ”¹å˜
    public static Optional<String> format(Date date) {
        return format(date, "yyyy-MM-dd");
    }
    
    // âš ï¸ ç ´åæ€§å˜æ›´ï¼šå‚æ•°é¡ºåºè°ƒæ•´
    public static Optional<String> format(String pattern, Date date) {
        if (date == null) return Optional.empty();
        return Optional.of(new SimpleDateFormat(pattern).format(date));
    }
}
```

### 6.3 å‘åå…¼å®¹ç­–ç•¥


**ğŸ›¡ï¸ ä¿æŒå…¼å®¹æ€§çš„æŠ€å·§**

```java
public class StringUtil {
    
    // âœ… ç­–ç•¥1ï¼šæ–¹æ³•é‡è½½ä¿æŒå…¼å®¹
    
    // v1.0 åŸæœ‰æ–¹æ³•
    public static boolean isEmpty(String str) {
        return str == null || str.length() == 0;
    }
    
    // v1.1 æ–°å¢åŠŸèƒ½ï¼Œä½†ä¿ç•™åŸæ–¹æ³•  
    public static boolean isEmpty(String str, boolean trimWhitespace) {
        if (!trimWhitespace) {
            return isEmpty(str); // è°ƒç”¨åŸæ–¹æ³•ä¿æŒä¸€è‡´æ€§
        }
        return str == null || str.trim().length() == 0;
    }
    
    // âœ… ç­–ç•¥2ï¼š@Deprecatedæ ‡è®°è¿‡æ—¶æ–¹æ³•
    
    /**
     * @deprecated ä½¿ç”¨ {@link #formatPhone(String, PhoneFormatType)} æ›¿ä»£
     * è¯¥æ–¹æ³•å°†åœ¨v2.0ç‰ˆæœ¬ä¸­ç§»é™¤
     */
    @Deprecated
    public static String formatPhone(String phone) {
        return formatPhone(phone, PhoneFormatType.MASK_MIDDLE);
    }
    
    // æ–°ç‰ˆæœ¬æ¨èçš„æ–¹æ³•
    public static String formatPhone(String phone, PhoneFormatType formatType) {
        // æ–°çš„å®ç°é€»è¾‘...
        return phone;
    }
    
    // âœ… ç­–ç•¥3ï¼šé…ç½®å¼€å…³æ§åˆ¶è¡Œä¸º
    
    private static boolean STRICT_MODE = false; // é»˜è®¤å…¼å®¹æ¨¡å¼
    
    public static void enableStrictMode() {
        STRICT_MODE = true;
    }
    
    public static String substring(String str, int start, int end) {
        if (STRICT_MODE) {
            // ä¸¥æ ¼æ¨¡å¼ï¼šå‚æ•°æ ¡éªŒæ›´ä¸¥æ ¼
            if (start < 0 || end < 0 || start > end) {
                throw new IllegalArgumentException("Invalid substring parameters");
            }
        } else {
            // å…¼å®¹æ¨¡å¼ï¼šè‡ªåŠ¨ä¿®æ­£å‚æ•°
            if (start < 0) start = 0;
            if (end < 0) end = 0;
            if (start > end) return "";
        }
        // æ‰§è¡Œé€»è¾‘...
        return str.substring(start, end);
    }
}
```

**ğŸ“‹ å…¼å®¹æ€§è¿ç§»æŒ‡å—**

```java
/**
 * DateUtil v1.x â†’ v2.x è¿ç§»æŒ‡å—
 */
public class DateUtilMigrationGuide {
    
    /**
     * v1.x ç”¨æ³•ï¼š
     * String date = DateUtil.format(new Date());
     * 
     * v2.x ç”¨æ³•ï¼š
     * Optional<String> date = DateUtil.format(new Date());
     * String dateStr = date.orElse("");
     * 
     * å¿«é€Ÿè¿ç§»æ–¹æ³•ï¼š
     */
    public static String formatV1Compatible(Date date) {
        return DateUtil.format(date).orElse("");
    }
    
    /**
     * æ‰¹é‡è¿ç§»å·¥å…·æ–¹æ³•
     */
    public static void migrationHelper() {
        System.out.println("=== DateUtil è¿ç§»åŠ©æ‰‹ ===");
        System.out.println("1. æŸ¥æ‰¾é¡¹ç›®ä¸­çš„ DateUtil.format è°ƒç”¨");
        System.out.println("2. æ›¿æ¢ä¸º DateUtil.format().orElse(\"\")");
        System.out.println("3. æˆ–ä½¿ç”¨å…¼å®¹æ–¹æ³• DateUtilMigrationGuide.formatV1Compatible");
        System.out.println("4. å®Œæˆåå¯ä»¥ç§»é™¤å…¼å®¹ä»£ç ");
    }
}
```

### 6.4 é…ç½®é©±åŠ¨çš„ç‰ˆæœ¬ç®¡ç†


**âš™ï¸ é€šè¿‡é…ç½®æ§åˆ¶ç‰ˆæœ¬è¡Œä¸º**

```java
/**
 * ç‰ˆæœ¬é…ç½®ç®¡ç†
 */
@Component
@ConfigurationProperties(prefix = "utils.version")
public class UtilsVersionConfig {
    
    private String dateUtilVersion = "v1.0";
    private String stringUtilVersion = "v1.0"; 
    private boolean enableStrictMode = false;
    private boolean enableDeprecatedWarnings = true;
    
    // getter/setter...
}

/**
 * ç‰ˆæœ¬æ„ŸçŸ¥çš„å·¥å…·ç±»
 */
@Component
public class VersionAwareDateUtil {
    
    @Autowired
    private UtilsVersionConfig versionConfig;
    
    public String format(Date date) {
        String version = versionConfig.getDateUtilVersion();
        
        switch (version) {
            case "v1.0":
                return formatV1(date);
            case "v1.1": 
                return formatV1_1(date);
            case "v2.0":
                return formatV2(date).orElse("");
            default:
                if (versionConfig.isEnableDeprecatedWarnings()) {
                    log.warn("æœªçŸ¥ç‰ˆæœ¬é…ç½®: {}, ä½¿ç”¨é»˜è®¤v1.0", version);
                }
                return formatV1(date);
        }
    }
    
    private String formatV1(Date date) {
        if (date == null) return "";
        return new SimpleDateFormat("yyyy-MM-dd").format(date);
    }
    
    private String formatV1_1(Date date) {
        return format(date, "yyyy-MM-dd");
    }
    
    private Optional<String> formatV2(Date date) {
        if (date == null) return Optional.empty();
        return Optional.of(new SimpleDateFormat("yyyy-MM-dd").format(date));
    }
}
```

**ğŸ”§ é…ç½®æ–‡ä»¶ç¤ºä¾‹**

```yaml
# application.yml
utils:
  version:
    date-util-version: v1.1      # æŒ‡å®šDateUtilç‰ˆæœ¬
    string-util-version: v1.0    # æŒ‡å®šStringUtilç‰ˆæœ¬
    enable-strict-mode: false    # æ˜¯å¦å¯ç”¨ä¸¥æ ¼æ¨¡å¼
    enable-deprecated-warnings: true # æ˜¯å¦æ˜¾ç¤ºè¿‡æ—¶è­¦å‘Š

# application-dev.yml - å¼€å‘ç¯å¢ƒ
utils:
  version:
    date-util-version: v2.0      # å¼€å‘ç¯å¢ƒä½¿ç”¨æœ€æ–°ç‰ˆæœ¬
    enable-strict-mode: true     # å¼€å‘ç¯å¢ƒå¯ç”¨ä¸¥æ ¼æ¨¡å¼

# application-prod.yml - ç”Ÿäº§ç¯å¢ƒ  
utils:
  version:
    date-util-version: v1.1      # ç”Ÿäº§ç¯å¢ƒä½¿ç”¨ç¨³å®šç‰ˆæœ¬
    enable-strict-mode: false    # ç”Ÿäº§ç¯å¢ƒå…¼å®¹æ¨¡å¼
```

### 6.5 ç‰ˆæœ¬ç®¡ç†æœ€ä½³å®è·µ


**ğŸ“‹ ç‰ˆæœ¬ç®¡ç†ç­–ç•¥æ€»ç»“**

```
ç‰ˆæœ¬ç®¡ç†åŸåˆ™ï¼š

ğŸ”¸ è¯­ä¹‰åŒ–ç‰ˆæœ¬ï¼š
- ä¸»ç‰ˆæœ¬ï¼šä¸å…¼å®¹çš„APIä¿®æ”¹
- æ¬¡ç‰ˆæœ¬ï¼šå‘åå…¼å®¹çš„åŠŸèƒ½æ€§æ–°å¢
- ä¿®è®¢ç‰ˆæœ¬ï¼šå‘åå…¼å®¹çš„é—®é¢˜ä¿®æ­£

ğŸ”¸ æ¸è¿›å¼å‡çº§ï¼š
- æ–°åŠŸèƒ½é€šè¿‡é‡è½½æ–¹æ³•æ·»åŠ 
- æ—§æ–¹æ³•æ ‡è®°@Deprecatedä½†ä¿ç•™
- æä¾›æ˜ç¡®çš„è¿ç§»æŒ‡å—

ğŸ”¸ é…ç½®åŒ–æ§åˆ¶ï¼š
- é€šè¿‡é…ç½®é€‰æ‹©ç‰ˆæœ¬è¡Œä¸º
- æ”¯æŒä¸åŒç¯å¢ƒä½¿ç”¨ä¸åŒç‰ˆæœ¬
- æä¾›å…¼å®¹æ¨¡å¼å¼€å…³

ğŸ”¸ æ–‡æ¡£å’Œæ²Ÿé€šï¼š
- è¯¦ç»†çš„å˜æ›´æ—¥å¿—(CHANGELOG)
- æ¸…æ™°çš„å‡çº§æŒ‡å—
- æå‰é€šçŸ¥å³å°†åºŸå¼ƒçš„åŠŸèƒ½
```

**âš ï¸ ç‰ˆæœ¬ç®¡ç†æ³¨æ„äº‹é¡¹**

```
å¸¸è§é™·é˜±é¿å…ï¼š

âŒ é¢‘ç¹å‘å¸ƒä¸»ç‰ˆæœ¬ï¼š
æ¯ä¸ªå°æ”¹åŠ¨éƒ½å‘ä¸»ç‰ˆæœ¬ï¼Œç”¨æˆ·å‡çº§å›°éš¾

âœ… åº”è¯¥è¿™æ ·ï¼š
å°½é‡é€šè¿‡æ¬¡ç‰ˆæœ¬å¢åŠ åŠŸèƒ½ï¼Œä¸»ç‰ˆæœ¬åªåœ¨å¿…è¦æ—¶å‘å¸ƒ

âŒ çªç„¶ç§»é™¤åŠŸèƒ½ï¼š
æ²¡æœ‰è­¦å‘Šå°±åˆ é™¤æ–¹æ³•ï¼Œå¯¼è‡´ç”¨æˆ·ä»£ç æŠ¥é”™

âœ… åº”è¯¥è¿™æ ·ï¼š
å…ˆæ ‡è®°@Deprecatedï¼Œå‡ ä¸ªç‰ˆæœ¬åå†ç§»é™¤

âŒ æ²¡æœ‰è¿ç§»æŒ‡å—ï¼š
ç”¨æˆ·ä¸çŸ¥é“å¦‚ä½•ä»æ—§ç‰ˆæœ¬å‡çº§

âœ… åº”è¯¥è¿™æ ·ï¼š
æä¾›è¯¦ç»†çš„è¿ç§»æ­¥éª¤å’Œç¤ºä¾‹ä»£ç 
```

---

## 7. âš™ï¸ é…ç½®åŒ–è®¾è®¡


### 7.1 ä¸ºä»€ä¹ˆéœ€è¦é…ç½®åŒ–


**ğŸ¤” ç¡¬ç¼–ç çš„é—®é¢˜**

```java
// âŒ ç¡¬ç¼–ç çš„å·¥å…·ç±» - ä¸çµæ´»
public class EmailUtil {
    
    public static boolean sendEmail(String to, String subject, String content) {
        // ç¡¬ç¼–ç çš„SMTPé…ç½®
        String smtpHost = "smtp.qq.com";
        int smtpPort = 587;
        String username = "your_email@qq.com";
        String password = "your_password";
        
        // ç¡¬ç¼–ç çš„é‚®ä»¶æ¨¡æ¿
        String emailTemplate = "<html><body>" + content + "</body></html>";
        
        // å‘é€é€»è¾‘...
        return true;
    }
}

é—®é¢˜ï¼š
âŒ é…ç½®å†™æ­»åœ¨ä»£ç é‡Œï¼Œæ— æ³•ä¿®æ”¹
âŒ ä¸åŒç¯å¢ƒï¼ˆå¼€å‘/æµ‹è¯•/ç”Ÿäº§ï¼‰æ— æ³•ä½¿ç”¨ä¸åŒé…ç½®  
âŒ ä¿®æ”¹é…ç½®éœ€è¦é‡æ–°ç¼–è¯‘éƒ¨ç½²
âŒ æ— æ³•æ ¹æ®ä¸šåŠ¡éœ€æ±‚åŠ¨æ€è°ƒæ•´
```

**âœ… é…ç½®åŒ–çš„å¥½å¤„**

```
é…ç½®åŒ–è®¾è®¡çš„ä¼˜åŠ¿ï¼š

ğŸ”§ çµæ´»æ€§ï¼š
- ä¸åŒç¯å¢ƒä½¿ç”¨ä¸åŒé…ç½®
- è¿è¡Œæ—¶å¯ä»¥ä¿®æ”¹è¡Œä¸º
- æ— éœ€é‡æ–°ç¼–è¯‘ä»£ç 

ğŸ“Š å¯ç»´æŠ¤æ€§ï¼š
- é…ç½®é›†ä¸­ç®¡ç†
- é…ç½®å˜æ›´å¯è¿½è¸ª
- ä¾¿äºè¿ç»´äººå‘˜æ“ä½œ

ğŸ¯ å¯æ‰©å±•æ€§ï¼š
- æ–°å¢é…ç½®é¡¹æ— éœ€æ”¹ä»£ç 
- æ”¯æŒæ’ä»¶åŒ–æ‰©å±•
- é€‚åº”ä¸šåŠ¡å˜åŒ–
```

### 7.2 é…ç½®å±‚æ¬¡è®¾è®¡


**ğŸ“Š é…ç½®çš„å±‚æ¬¡ç»“æ„**

```
é…ç½®ä¼˜å…ˆçº§ï¼ˆé«˜ â†’ ä½ï¼‰ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç¯å¢ƒå˜é‡        â”‚ â† æœ€é«˜ä¼˜å…ˆçº§ï¼Œè¿ç»´å¯ç›´æ¥ä¿®æ”¹
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  å‘½ä»¤è¡Œå‚æ•°      â”‚ â† å¯åŠ¨æ—¶æŒ‡å®šï¼Œè¦†ç›–é…ç½®æ–‡ä»¶
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  é…ç½®æ–‡ä»¶        â”‚ â† application.ymlã€.properties
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ä»£ç é»˜è®¤å€¼      â”‚ â† æœ€ä½ä¼˜å…ˆçº§ï¼Œå…œåº•é…ç½®
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

å®é™…ä¾‹å­ï¼š
ä»£ç é»˜è®¤å€¼ï¼štimeout = 5000ms
é…ç½®æ–‡ä»¶ï¼štimeout = 3000ms     â†’ ä½¿ç”¨3000ms
ç¯å¢ƒå˜é‡ï¼šTIMEOUT=10000       â†’ æœ€ç»ˆä½¿ç”¨10000ms
```

**ğŸ”§ é…ç½®ç±»è®¾è®¡ç¤ºä¾‹**

```java
/**
 * é‚®ä»¶æœåŠ¡é…ç½®
 */
@Component
@ConfigurationProperties(prefix = "mail")
public class MailConfig {
    
    // SMTPæœåŠ¡å™¨é…ç½®
    private String smtpHost = "localhost";
    private int smtpPort = 587;
    private String username;
    private String password;
    private boolean enableTls = true;
    
    // é‚®ä»¶å†…å®¹é…ç½®
    private String defaultFromEmail = "noreply@example.com";
    private String defaultFromName = "ç³»ç»Ÿé€šçŸ¥";
    private String charset = "UTF-8";
    
    // é‡è¯•é…ç½®
    private int maxRetryTimes = 3;
    private long retryIntervalMs = 1000;
    
    // æ¨¡æ¿é…ç½®
    private String templatePath = "classpath:/mail-templates/";
    private String defaultTemplate = "default.html";
    
    // getter/setteræ–¹æ³•...
    
    /**
     * é…ç½®æ ¡éªŒ
     */
    @PostConstruct
    public void validate() {
        if (StringUtil.isEmpty(username) || StringUtil.isEmpty(password)) {
            log.warn("é‚®ä»¶æœåŠ¡æœªé…ç½®ç”¨æˆ·åå¯†ç ï¼Œå°†ä½¿ç”¨åŒ¿åæ¨¡å¼");
        }
        
        if (smtpPort <= 0 || smtpPort > 65535) {
            log.warn("SMTPç«¯å£é…ç½®å¼‚å¸¸: {}, ä½¿ç”¨é»˜è®¤å€¼587", smtpPort);
            smtpPort = 587;
        }
    }
}
```

### 7.3 é…ç½®é©±åŠ¨çš„å·¥å…·ç±»å®ç°


**ğŸ“§ é‚®ä»¶å·¥å…·ç±»é…ç½®åŒ–æ”¹é€ **

```java
@Service
public class EmailService {
    
    @Autowired
    private MailConfig mailConfig;
    
    private JavaMailSender mailSender;
    
    @PostConstruct
    public void initMailSender() {
        JavaMailSenderImpl sender = new JavaMailSenderImpl();
        sender.setHost(mailConfig.getSmtpHost());
        sender.setPort(mailConfig.getSmtpPort());
        sender.setUsername(mailConfig.getUsername());
        sender.setPassword(mailConfig.getPassword());
        sender.setDefaultEncoding(mailConfig.getCharset());
        
        // è®¾ç½®é‚®ä»¶å±æ€§
        Properties props = sender.getJavaMailProperties();
        props.put("mail.transport.protocol", "smtp");
        props.put("mail.smtp.auth", "true");
        props.put("mail.smtp.starttls.enable", mailConfig.isEnableTls());
        props.put("mail.debug", "false");
        
        this.mailSender = sender;
        log.info("é‚®ä»¶æœåŠ¡åˆå§‹åŒ–å®Œæˆ: {}:{}", mailConfig.getSmtpHost(), mailConfig.getSmtpPort());
    }
    
    /**
     * å‘é€ç®€å•æ–‡æœ¬é‚®ä»¶
     */
    public boolean sendSimpleEmail(String to, String subject, String content) {
        return sendEmailWithRetry(() -> {
            SimpleMailMessage message = new SimpleMailMessage();
            message.setFrom(mailConfig.getDefaultFromEmail());
            message.setTo(to);
            message.setSubject(subject);
            message.setText(content);
            
            mailSender.send(message);
            return true;
        });
    }
    
    /**
     * å‘é€HTMLé‚®ä»¶
     */
    public boolean sendHtmlEmail(String to, String subject, String htmlContent) {
        return sendEmailWithRetry(() -> {
            MimeMessage message = mailSender.createMimeMessage();
            MimeMessageHelper helper = new MimeMessageHelper(message, true, mailConfig.getCharset());
            
            helper.setFrom(mailConfig.getDefaultFromEmail(), mailConfig.getDefaultFromName());
            helper.setTo(to);
            helper.setSubject(subject);
            helper.setText(htmlContent, true); // trueè¡¨ç¤ºHTMLæ ¼å¼
            
            mailSender.send(message);
            return true;
        });
    }
    
    /**
     * ä½¿ç”¨æ¨¡æ¿å‘é€é‚®ä»¶
     */
    public boolean sendTemplateEmail(String to, String subject, String templateName, 
                                   Map<String, Object> variables) {
        try {
            // è¯»å–æ¨¡æ¿å†…å®¹
            String templateContent = readTemplate(templateName);
            
            // æ›¿æ¢æ¨¡æ¿å˜é‡
            String htmlContent = processTemplate(templateContent, variables);
            
            return sendHtmlEmail(to, subject, htmlContent);
            
        } catch (Exception e) {
            log.error("æ¨¡æ¿é‚®ä»¶å‘é€å¤±è´¥: template={}, to={}", templateName, to, e);
            return false;
        }
    }
    
    /**
     * å¸¦é‡è¯•çš„é‚®ä»¶å‘é€
     */
    private boolean sendEmailWithRetry(Supplier<Boolean> sendAction) {
        int retryCount = 0;
        
        while (retryCount <= mailConfig.getMaxRetryTimes()) {
            try {
                return sendAction.get();
            } catch (Exception e) {
                retryCount++;
                log.warn("é‚®ä»¶å‘é€å¤±è´¥ï¼Œç¬¬{}æ¬¡é‡è¯•: {}", retryCount, e.getMessage());
                
                if (retryCount <= mailConfig.getMaxRetryTimes()) {
                    try {
                        Thread.sleep(mailConfig.getRetryIntervalMs());
                    } catch (InterruptedException ie) {
                        Thread.currentThread().interrupt();
                        break;
                    }
                }
            }
        }
        
        log.error("é‚®ä»¶å‘é€æœ€ç»ˆå¤±è´¥ï¼Œå·²é‡è¯•{}æ¬¡", mailConfig.getMaxRetryTimes());
        return false;
    }
    
    private String readTemplate(String templateName) {
        // ä»é…ç½®çš„æ¨¡æ¿è·¯å¾„è¯»å–æ¨¡æ¿æ–‡ä»¶
        String templatePath = mailConfig.getTemplatePath() + templateName;
        // å®ç°æ¨¡æ¿è¯»å–é€»è¾‘...
        return "<html><body>{{content}}</body></html>";
    }
    
    private String processTemplate(String template, Map<String, Object> variables) {
        // ç®€å•çš„æ¨¡æ¿å˜é‡æ›¿æ¢
        String result = template;
        for (Map.Entry<String, Object> entry : variables.entrySet()) {
            String placeholder = "{{" + entry.getKey() + "}}";
            result = result.replace(placeholder, String.valueOf(entry.getValue()));
        }
        return result;
    }
}
```

### 7.4 æ–‡ä»¶ä¸Šä¼ é…ç½®åŒ–


**ğŸ“ æ–‡ä»¶ä¸Šä¼ é…ç½®ç±»**

```java
@Component
@ConfigurationProperties(prefix = "file.upload")
public class FileUploadConfig {
    
    // åŸºç¡€é…ç½®
    private boolean enabled = true;
    private long maxFileSize = 10 * 1024 * 1024;    // 10MB
    private long maxRequestSize = 50 * 1024 * 1024; // 50MB
    private String tempDir = System.getProperty("java.io.tmpdir");
    
    // å­˜å‚¨é…ç½®
    private StorageType storageType = StorageType.LOCAL;
    private String localPath = "/data/uploads";
    private String urlPrefix = "/files";
    
    // æ–‡ä»¶ç±»å‹é…ç½®
    private List<String> allowedExtensions = Arrays.asList(
        "jpg", "jpeg", "png", "gif", "pdf", "doc", "docx", "xls", "xlsx"
    );
    private List<String> blockedExtensions = Arrays.asList(
        "exe", "bat", "sh", "php", "jsp", "asp"
    );
    
    // å›¾ç‰‡å¤„ç†é…ç½®
    private boolean enableImageResize = true;
    private int maxImageWidth = 1920;
    private int maxImageHeight = 1080;
    private float imageQuality = 0.8f;
    
    // å®‰å…¨é…ç½®
    private boolean enableVirusScan = false;
    private boolean enableContentTypeCheck = true;
    private boolean generateUniqueFileName = true;
    
    // æ¸…ç†é…ç½®
    private boolean enableAutoCleanup = true;
    private int cleanupDays = 30;
    
    public enum StorageType {
        LOCAL, ALIYUN_OSS, QCLOUD_COS, AWS_S3
    }
    
    // getter/setteræ–¹æ³•...
    
    @PostConstruct
    public void validate() {
        if (maxFileSize <= 0) {
            log.warn("æ–‡ä»¶å¤§å°é™åˆ¶é…ç½®å¼‚å¸¸ï¼Œä½¿ç”¨é»˜è®¤å€¼10MB");
            maxFileSize = 10 * 1024 * 1024;
        }
        
        if (allowedExtensions.isEmpty()) {
            log.warn("æœªé…ç½®å…è®¸çš„æ–‡ä»¶ç±»å‹ï¼Œå°†å…è®¸æ‰€æœ‰ç±»å‹");
        }
        
        if (storageType == StorageType.LOCAL && StringUtil.isEmpty(localPath)) {
            log.warn("æœ¬åœ°å­˜å‚¨è·¯å¾„æœªé…ç½®ï¼Œä½¿ç”¨é»˜è®¤è·¯å¾„");
            localPath = "/data/uploads";
        }
    }
}
```

**ğŸ”§ é…ç½®é©±åŠ¨çš„æ–‡ä»¶ä¸Šä¼ æœåŠ¡**

```java
@Service
public class ConfigurableFileUploadService {
    
    @Autowired
    private FileUploadConfig uploadConfig;
    
    @Autowired
    private FileStorageService storageService;
    
    /**
     * ä¸Šä¼ æ–‡ä»¶ - å®Œå…¨é…ç½®é©±åŠ¨
     */
    public UploadResult uploadFile(MultipartFile file) {
        try {
            // 1. æ£€æŸ¥æœåŠ¡æ˜¯å¦å¯ç”¨
            if (!uploadConfig.isEnabled()) {
                return UploadResult.failure("æ–‡ä»¶ä¸Šä¼ æœåŠ¡å·²ç¦ç”¨");
            }
            
            // 2. åŸºç¡€æ ¡éªŒ
            UploadResult basicValidation = validateBasicFile(file);
            if (!basicValidation.isSuccess()) {
                return basicValidation;
            }
            
            // 3. æ–‡ä»¶ç±»å‹æ ¡éªŒ
            UploadResult typeValidation = validateFileType(file);
            if (!typeValidation.isSuccess()) {
                return typeValidation;
            }
            
            // 4. å®‰å…¨æ£€æŸ¥
            if (uploadConfig.isEnableContentTypeCheck()) {
                UploadResult securityValidation = validateFileSecurity(file);
                if (!securityValidation.isSuccess()) {
                    return securityValidation;
                }
            }
            
            // 5. å›¾ç‰‡å¤„ç†
            MultipartFile processedFile = file;
            if (isImage(file) && uploadConfig.isEnableImageResize()) {
                processedFile = resizeImage(file);
            }
            
            // 6. ç”Ÿæˆæ–‡ä»¶å
            String fileName = uploadConfig.isGenerateUniqueFileName() 
                ? generateUniqueFileName(file.getOriginalFilename())
                : file.getOriginalFilename();
            
            // 7. ä¸Šä¼ æ–‡ä»¶
            String fileKey = storageService.upload(processedFile.getInputStream(), fileName);
            String fileUrl = storageService.getAccessUrl(fileKey);
            
            // 8. è®°å½•ä¸Šä¼ æ—¥å¿—
            logUploadInfo(file, fileKey);
            
            return UploadResult.success(fileUrl, fileName, fileKey, file.getSize());
            
        } catch (Exception e) {
            log.error("æ–‡ä»¶ä¸Šä¼ å¤±è´¥", e);
            return UploadResult.failure("æ–‡ä»¶ä¸Šä¼ å¤±è´¥ï¼š" + e.getMessage());
        }
    }
    
    private UploadResult validateBasicFile(MultipartFile file) {
        if (file == null || file.isEmpty()) {
            return UploadResult.failure("æ–‡ä»¶ä¸èƒ½ä¸ºç©º");
        }
        
        if (file.getSize() > uploadConfig.getMaxFileSize()) {
            String maxSizeMB = String.valueOf(uploadConfig.getMaxFileSize() / 1024 / 1024);
            return UploadResult.failure("æ–‡ä»¶å¤§å°è¶…è¿‡é™åˆ¶ï¼š" + maxSizeMB + "MB");
        }
        
        return UploadResult.success();
    }
    
    private UploadResult validateFileType(MultipartFile file) {
        String fileName = file.getOriginalFilename();
        if (StringUtil.isEmpty(fileName)) {
            return UploadResult.failure("æ–‡ä»¶åä¸èƒ½ä¸ºç©º");
        }
        
        String extension = getFileExtension(fileName).toLowerCase();
        
        // æ£€æŸ¥é»‘åå•
        if (uploadConfig.getBlockedExtensions().contains(extension)) {
            return UploadResult.failure("ç¦æ­¢ä¸Šä¼ çš„æ–‡ä»¶ç±»å‹ï¼š" + extension);
        }
        
        // æ£€æŸ¥ç™½åå•
        if (!uploadConfig.getAllowedExtensions().isEmpty() && 
            !uploadConfig.getAllowedExtensions().contains(extension)) {
            return UploadResult.failure("ä¸æ”¯æŒçš„æ–‡ä»¶ç±»å‹ï¼š" + extension);
        }
        
        return UploadResult.success();
    }
    
    private UploadResult validateFileSecurity(MultipartFile file) {
        // æ£€æŸ¥æ–‡ä»¶å†…å®¹ç±»å‹
        String contentType = file.getContentType();
        String extension = getFileExtension(file.getOriginalFilename());
        
        // ç®€å•çš„MIMEç±»å‹æ£€æŸ¥
        if (!isValidContentType(contentType, extension)) {
            return UploadResult.failure("æ–‡ä»¶å†…å®¹ä¸æ‰©å±•åä¸åŒ¹é…");
        }
        
        // å¦‚æœå¯ç”¨äº†ç—…æ¯’æ‰«æ
        if (uploadConfig.isEnableVirusScan()) {
            boolean isClean = scanForVirus(file);
            if (!isClean) {
                return UploadResult.failure("æ–‡ä»¶å®‰å…¨æ£€æŸ¥å¤±è´¥");
            }
        }
        
        return UploadResult.success();
    }
    
    private MultipartFile resizeImage(MultipartFile file) {
        // æ ¹æ®é…ç½®è°ƒæ•´å›¾ç‰‡å¤§å°
        try {
            if (file.getSize() > 2 * 1024 * 1024) { // å¤§äº2MBæ‰å‹ç¼©
                // å®ç°å›¾ç‰‡å‹ç¼©é€»è¾‘...
                log.info("å›¾ç‰‡å·²å‹ç¼©: {} -> {}", file.getSize(), "compressed_size");
            }
            return file;
        } catch (Exception e) {
            log.warn("å›¾ç‰‡å‹ç¼©å¤±è´¥ï¼Œä½¿ç”¨åŸå›¾: {}", e.getMessage());
            return file;
        }
    }
    
    private String generateUniqueFileName(String originalFileName) {
        String extension = getFileExtension(originalFileName);
        String baseName = getFileBaseName(originalFileName);
        String timestamp = DateUtil.format(new Date(), "yyyyMMddHHmmss");
        String uuid = UUID.randomUUID().toString().replace("-", "").substring(0, 8);
        
        return String.format("%s_%s_%s.%s", baseName, timestamp, uuid, extension);
    }
    
    private void logUploadInfo(MultipartFile file, String fileKey) {
        log.info("æ–‡ä»¶ä¸Šä¼ æˆåŠŸ: fileName={}, size={}, fileKey={}, storageType={}", 
            file.getOriginalFilename(), file.getSize(), fileKey, uploadConfig.getStorageType());
    }
    
    // å·¥å…·æ–¹æ³•...
    private boolean isImage(MultipartFile file) {
        String contentType = file.getContentType();
        return contentType != null && contentType.startsWith("image/");
    }
    
    private String getFileExtension(String fileName) {
        if (fileName == null || !fileName.contains(".")) return "";
        return fileName.substring(fileName.lastIndexOf(".") + 1);
    }
    
    private String getFileBaseName(String fileName) {
        if (fileName == null || !fileName.contains(".")) return fileName;
        return fileName.substring(0, fileName.lastIndexOf("."));
    }
    
    private boolean isValidContentType(String contentType, String extension) {
        // å®ç°MIMEç±»å‹æ£€æŸ¥é€»è¾‘
        return true;
    }
    
    private boolean scanForVirus(MultipartFile file) {
        // å®ç°ç—…æ¯’æ‰«æé€»è¾‘
        return true;
    }
}
```

### 7.5 é…ç½®æ–‡ä»¶ç¤ºä¾‹


**ğŸ“ å®Œæ•´çš„é…ç½®æ–‡ä»¶**

```yaml
# application.yml - åŸºç¡€é…ç½®
mail:
  smtp-host: smtp.qq.com
  smtp-port: 587
  username: ${MAIL_USERNAME:your_email@qq.com}
  password: ${MAIL_PASSWORD:your_password}
  enable-tls: true
  default-from-email: noreply@example.com
  default-from-name: ç³»ç»Ÿé€šçŸ¥
  charset: UTF-8
  max-retry-times: 3
  retry-interval-ms: 1000
  template-path: classpath:/mail-templates/
  default-template: default.html

file:
  upload:
    enabled: true
    max-file-size: 10485760      # 10MB
    max-request-size: 52428800   # 50MB
    temp-dir: ${java.io.tmpdir}
    storage-type: LOCAL
    local-path: /data/uploads
    url-prefix: /files
    
    # æ–‡ä»¶ç±»å‹é…ç½®
    allowed-extensions:
      - jpg
      - jpeg
      - png
      - gif
      - pdf
      - doc
      - docx
      - xls
      - xlsx
    
    blocked-extensions:
      - exe
      - bat
      - sh
      - php
      - jsp
      - asp
    
    # å›¾ç‰‡å¤„ç†é…ç½®
    enable-image-resize: true
    max-image-width: 1920
    max-image-height: 1080
    image-quality: 0.8
    
    # å®‰å…¨é…ç½®
    enable-virus-scan: false
    enable-content-type-check: true
    generate-unique-file-name: true
    
    # æ¸…ç†é…ç½®
    enable-auto-cleanup: true
    cleanup-days: 30
```

```yaml
# application-dev.yml - å¼€å‘ç¯å¢ƒ
mail:
  smtp-host: localhost
  smtp-port: 1025           # ä½¿ç”¨MailHogç­‰æµ‹è¯•æœåŠ¡
  username: test@dev.com
  password: test
  enable-tls: false

file:
  upload:
    max-file-size: 50485760   # å¼€å‘ç¯å¢ƒå…è®¸æ›´å¤§æ–‡ä»¶
    enable-virus-scan: false  # å¼€å‘ç¯å¢ƒè·³è¿‡ç—…æ¯’æ‰«æ
    storage-type: LOCAL
    local-path: ./uploads     # å¼€å‘ç¯å¢ƒä½¿ç”¨ç›¸å¯¹è·¯å¾„
```

```yaml
# application-prod.yml - ç”Ÿäº§ç¯å¢ƒ
mail:
  smtp-host: ${SMTP_HOST}
  smtp-port: ${SMTP_PORT:587}
  username: ${SMTP_USERNAME}
  password: ${SMTP_PASSWORD}
  enable-tls: true
  max-retry-times: 5        # ç”Ÿäº§ç¯å¢ƒå¢åŠ é‡è¯•æ¬¡æ•°

file:
  upload:
    max-file-size: 5242880   # ç”Ÿäº§ç¯å¢ƒé™åˆ¶æ›´ä¸¥æ ¼: 5MB
    enable-virus-scan: true  # ç”Ÿäº§ç¯å¢ƒå¯ç”¨ç—…æ¯’æ‰«æ
    storage-type: ALIYUN_OSS # ç”Ÿäº§ç¯å¢ƒä½¿ç”¨äº‘å­˜å‚¨
    enable-auto-cleanup: true
    cleanup-days: 90         # ç”Ÿäº§ç¯å¢ƒä¿ç•™æ›´é•¿æ—¶é—´
```

### 7.6 åŠ¨æ€é…ç½®æ›´æ–°


**ğŸ”„ æ”¯æŒé…ç½®çƒ­æ›´æ–°**

```java
/**
 * é…ç½®å˜æ›´ç›‘å¬å™¨
 */
@Component
public class ConfigChangeListener {
    
    @Autowired
    private FileUploadConfig uploadConfig;
    
    @Autowired
    private EmailService emailService;
    
    /**
     * ç›‘å¬é…ç½®å˜æ›´
     */
    @EventListener
    public void handleConfigChange(ConfigChangeEvent event) {
        log.info("æ£€æµ‹åˆ°é…ç½®å˜æ›´: {}", event.getChangedKeys());
        
        if (event.getChangedKeys().contains("mail")) {
            // é‡æ–°åˆå§‹åŒ–é‚®ä»¶æœåŠ¡
            emailService.reinitialize();
            log.info("é‚®ä»¶æœåŠ¡é…ç½®å·²æ›´æ–°");
        }
        
        if (event.getChangedKeys().contains("file.upload")) {
            // é‡æ–°æ ¡éªŒæ–‡ä»¶ä¸Šä¼ é…ç½®
            uploadConfig.validate();
            log.info("æ–‡ä»¶ä¸Šä¼ é…ç½®å·²æ›´æ–°");
        }
    }
}

/**
 * é…ç½®ç®¡ç†æœåŠ¡
 */
@Service
public class ConfigManagementService {
    
    @Autowired
    private Environment environment;
    
    /**
     * è¿è¡Œæ—¶æ›´æ–°é…ç½®
     */
    public boolean updateConfig(String key, String value) {
        try {
            // æ›´æ–°é…ç½®å€¼ï¼ˆè¿™é‡Œéœ€è¦ç»“åˆå…·ä½“çš„é…ç½®ä¸­å¿ƒå®ç°ï¼‰
            System.setProperty(key, value);
            
            // å‘å¸ƒé…ç½®å˜æ›´äº‹ä»¶
            ApplicationEventPublisher publisher = null; // æ³¨å…¥äº‹ä»¶å‘å¸ƒå™¨
            publisher.publishEvent(new ConfigChangeEvent(Collections.singletonList(key)));
            
            log.info("é…ç½®æ›´æ–°æˆåŠŸ: {}={}", key, value);
            return true;
        } catch (Exception e) {
            log.error("é…ç½®æ›´æ–°å¤±è´¥: {}={}", key, value, e);
            return false;
        }
    }
    
    /**
     * è·å–å½“å‰é…ç½®
     */
    public Map<String, Object> getCurrentConfig(String prefix) {
        Map<String, Object> config = new HashMap<>();
        
        // éå†æ‰€æœ‰ä»¥prefixå¼€å¤´çš„é…ç½®
        for (PropertySource<?> propertySource : 
             ((AbstractEnvironment) environment).getPropertySources()) {
            
            if (propertySource instanceof EnumerablePropertySource) {
                EnumerablePropertySource eps = (EnumerablePropertySource) propertySource;
                for (String name : eps.getPropertyNames()) {
                    if (name.startsWith(prefix)) {
                        config.put(name, environment.getProperty(name));
                    }
                }
            }
        }
        
        return config;
    }
}
```

### 7.7 é…ç½®åŒ–è®¾è®¡æ€»ç»“


**ğŸ¯ é…ç½®åŒ–è®¾è®¡çš„æ ¸å¿ƒåŸåˆ™**

```
è®¾è®¡åŸåˆ™æ€»ç»“ï¼š

ğŸ”¸ åˆ†å±‚é…ç½®ï¼š
- ç¯å¢ƒå˜é‡ > å‘½ä»¤è¡Œå‚æ•° > é…ç½®æ–‡ä»¶ > é»˜è®¤å€¼
- ä¸åŒç¯å¢ƒä½¿ç”¨ä¸åŒé…ç½®æ–‡ä»¶
- æ•æ„Ÿä¿¡æ¯é€šè¿‡ç¯å¢ƒå˜é‡ä¼ å…¥

ğŸ”¸ ç±»å‹å®‰å…¨ï¼š
- ä½¿ç”¨@ConfigurationPropertiesç»‘å®šé…ç½®ç±»
- æä¾›é»˜è®¤å€¼å’Œæ ¡éªŒé€»è¾‘
- é…ç½®é¡¹æœ‰æ˜ç¡®çš„ç±»å‹å®šä¹‰

ğŸ”¸ æ–‡æ¡£æ¸…æ™°ï¼š
- æ¯ä¸ªé…ç½®é¡¹éƒ½æœ‰æ¸…æ™°çš„æ³¨é‡Š
- æä¾›é…ç½®ç¤ºä¾‹å’Œè¯´æ˜
- è¯´æ˜é…ç½®é¡¹çš„å½±å“èŒƒå›´

ğŸ”¸ å‘åå…¼å®¹ï¼š
- æ–°å¢é…ç½®é¡¹æä¾›é»˜è®¤å€¼
- åºŸå¼ƒé…ç½®é¡¹ä¿ç•™ä¸€æ®µæ—¶é—´
- æä¾›é…ç½®è¿ç§»æŒ‡å—

ğŸ”¸ è¿è¡Œæ—¶å‹å¥½ï¼š
- æ”¯æŒé…ç½®çƒ­æ›´æ–°
- æä¾›é…ç½®æ ¡éªŒå’Œé”™è¯¯æç¤º
- è®°å½•é…ç½®å˜æ›´æ—¥å¿—
```

**ğŸ“‹ é…ç½®è®¾è®¡Checklist**

```
é…ç½®è®¾è®¡æ£€æŸ¥æ¸…å•ï¼š

âœ… åŸºç¡€è¦æ±‚
â–¡ æ˜¯å¦æä¾›äº†åˆç†çš„é»˜è®¤å€¼ï¼Ÿ
â–¡ æ˜¯å¦æ”¯æŒç¯å¢ƒå˜é‡è¦†ç›–ï¼Ÿ
â–¡ æ˜¯å¦æœ‰é…ç½®æ ¡éªŒé€»è¾‘ï¼Ÿ
â–¡ æ˜¯å¦æœ‰è¯¦ç»†çš„é…ç½®è¯´æ˜ï¼Ÿ

âœ… å®‰å…¨è€ƒè™‘
â–¡ æ•æ„Ÿä¿¡æ¯æ˜¯å¦é€šè¿‡ç¯å¢ƒå˜é‡ä¼ å…¥ï¼Ÿ
â–¡ æ˜¯å¦é¿å…åœ¨æ—¥å¿—ä¸­è¾“å‡ºæ•æ„Ÿé…ç½®ï¼Ÿ
â–¡ æ˜¯å¦æ”¯æŒé…ç½®åŠ å¯†ï¼Ÿ

âœ… è¿ç»´å‹å¥½
â–¡ æ˜¯å¦æ”¯æŒä¸åŒç¯å¢ƒçš„é…ç½®ï¼Ÿ
â–¡ æ˜¯å¦æä¾›é…ç½®æ£€æŸ¥æ¥å£ï¼Ÿ
â–¡ æ˜¯å¦æ”¯æŒé…ç½®çƒ­æ›´æ–°ï¼Ÿ
â–¡ æ˜¯å¦æœ‰é…ç½®å˜æ›´çš„å®¡è®¡æ—¥å¿—ï¼Ÿ

âœ… å¼€å‘å‹å¥½
â–¡ æ˜¯å¦ä½¿ç”¨ç±»å‹å®‰å…¨çš„é…ç½®ç»‘å®šï¼Ÿ
â–¡ æ˜¯å¦æœ‰IDEçš„è‡ªåŠ¨è¡¥å…¨æ”¯æŒï¼Ÿ
â–¡ æ˜¯å¦æä¾›é…ç½®ç¤ºä¾‹ï¼Ÿ
â–¡ æ˜¯å¦æœ‰å•å…ƒæµ‹è¯•è¦†ç›–ï¼Ÿ
```

---

## 8. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 8.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ å·¥å…·ç±»è®¾è®¡æ€æƒ³ï¼šæŠŠå¸¸ç”¨åŠŸèƒ½å°è£…æˆç®€å•æ˜“ç”¨çš„æ–¹æ³•
ğŸ”¸ å…¬å…±æ–¹æ³•ç®¡ç†ï¼šæŒ‰åŠŸèƒ½åˆ†ç±»ï¼Œç»Ÿä¸€å‘½åï¼Œé˜²å¾¡å¼ç¼–ç¨‹
ğŸ”¸ ç¬¬ä¸‰æ–¹SDKå°è£…ï¼šç»Ÿä¸€æ¥å£ï¼Œéšè—å¤æ‚æ€§ï¼Œä¾¿äºåˆ‡æ¢å’Œæµ‹è¯•
ğŸ”¸ è®¾è®¡åŸåˆ™é€‰æ‹©ï¼šé™æ€æ–¹æ³•ç”¨äºæ— çŠ¶æ€æ“ä½œï¼Œå®ä¾‹æ–¹æ³•ç”¨äºæœ‰çŠ¶æ€æ“ä½œ
ğŸ”¸ å…¬å…±ç»„ä»¶å¤ç”¨ï¼šæ ‡å‡†æ¥å£ï¼Œç‹¬ç«‹åŠŸèƒ½ï¼Œé…ç½®çµæ´»ï¼Œæ ·å¼å¯å®šåˆ¶
ğŸ”¸ ç‰ˆæœ¬å…¼å®¹ç®¡ç†ï¼šè¯­ä¹‰åŒ–ç‰ˆæœ¬ï¼Œå‘åå…¼å®¹ï¼Œæ¸è¿›å¼å‡çº§
ğŸ”¸ é…ç½®åŒ–è®¾è®¡ï¼šåˆ†å±‚é…ç½®ï¼Œç±»å‹å®‰å…¨ï¼Œè¿è¡Œæ—¶å¯è°ƒæ•´
```

### 8.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ å·¥å…·ç±»çš„æœ¬è´¨ä»·å€¼**
```
è§£å†³é‡å¤åŠ³åŠ¨ï¼š
- é¿å…ç›¸åŒä»£ç åœ¨é¡¹ç›®ä¸­åˆ°å¤„å¤åˆ¶
- ä¸€æ¬¡ç¼–å†™ï¼Œå¤šå¤„ä½¿ç”¨
- ç»Ÿä¸€çš„é”™è¯¯å¤„ç†å’Œè¾¹ç•Œæ¡ä»¶

æå‡ä»£ç è´¨é‡ï¼š
- é›†ä¸­æµ‹è¯•ï¼Œè´¨é‡æ›´å¯é 
- ç»Ÿä¸€æ¥å£ï¼Œä½¿ç”¨æ›´ç®€å•
- ä¾¿äºç»´æŠ¤å’Œä¼˜åŒ–
```

**ğŸ”¹ å°è£…çš„æ ¸å¿ƒæ€æƒ³**
```
éšè—å¤æ‚æ€§ï¼š
- æŠŠå¤æ‚çš„ç¬¬ä¸‰æ–¹SDKè°ƒç”¨å°è£…æˆç®€å•æ¥å£
- ä¸šåŠ¡ä»£ç åªå…³å¿ƒ"åšä»€ä¹ˆ"ï¼Œä¸å…³å¿ƒ"æ€ä¹ˆåš"
- é™ä½ä½¿ç”¨é—¨æ§›ï¼Œå‡å°‘å‡ºé”™æœºä¼š

æé«˜å¯ç»´æŠ¤æ€§ï¼š
- ä¿®æ”¹å®ç°ä¸å½±å“ä½¿ç”¨æ–¹
- å¯ä»¥éšæ—¶åˆ‡æ¢ä¸åŒçš„å®ç°
- ä¾¿äºå•å…ƒæµ‹è¯•å’Œæ¨¡æ‹Ÿ
```

**ğŸ”¹ é…ç½®åŒ–çš„é‡è¦æ„ä¹‰**
```
çµæ´»æ€§ï¼š
- ä¸åŒç¯å¢ƒä½¿ç”¨ä¸åŒé…ç½®
- è¿è¡Œæ—¶å¯ä»¥è°ƒæ•´è¡Œä¸º
- æ— éœ€é‡æ–°ç¼–è¯‘éƒ¨ç½²

å¯ç»´æŠ¤æ€§ï¼š
- é…ç½®é›†ä¸­ç®¡ç†ï¼Œæ˜“äºä¿®æ”¹
- é…ç½®å˜æ›´å¯ä»¥è¿½è¸ª
- ä¾¿äºè¿ç»´äººå‘˜æ“ä½œ
```

### 8.3 å®é™…åº”ç”¨æŒ‡å¯¼


**ğŸ¯ å·¥å…·ç±»è®¾è®¡æœ€ä½³å®è·µ**
```
å‘½åè§„èŒƒï¼š
âœ… XxxUtil: StringUtilã€DateUtilã€JsonUtil
âœ… XxxHelper: PageHelperã€UploadHelper
âœ… XxxService: EmailServiceã€SmsService

æ–¹æ³•è®¾è®¡ï¼š
âœ… è§åçŸ¥æ„ï¼šformatã€parseã€isEmptyã€isNotEmpty
âœ… å‚æ•°ç®€å•ï¼šå¸¸ç”¨åœºæ™¯æä¾›é»˜è®¤å‚æ•°
âœ… è¿”å›å®‰å…¨ï¼šé¿å…è¿”å›nullå¯¼è‡´ç©ºæŒ‡é’ˆå¼‚å¸¸
âœ… å¼‚å¸¸å¤„ç†ï¼šå·¥å…·æ–¹æ³•åæ‰å¼‚å¸¸ï¼Œè¿”å›å®‰å…¨é»˜è®¤å€¼

æ€§èƒ½è€ƒè™‘ï¼š
âœ… ç¼“å­˜é‡ç”¨ï¼šå¦‚ObjectMapperã€SimpleDateFormat
âœ… çº¿ç¨‹å®‰å…¨ï¼šé™æ€æ–¹æ³•è¦ä¿è¯çº¿ç¨‹å®‰å…¨
âœ… é¿å…é‡å¤åˆ›å»ºï¼šä½¿ç”¨å•ä¾‹æˆ–æ± åŒ–æŠ€æœ¯
```

**ğŸ”§ ç»„ä»¶å¤ç”¨ç­–ç•¥**
```
æ¥å£è®¾è®¡ï¼š
âœ… Propsæ˜ç¡®ï¼šå¿…éœ€å‚æ•°å’Œå¯é€‰å‚æ•°åˆ†æ˜
âœ… Eventså®Œæ•´ï¼šæä¾›è¶³å¤Ÿçš„äº‹ä»¶é’©å­
âœ… æ’æ§½çµæ´»ï¼šæ”¯æŒè‡ªå®šä¹‰å†…å®¹
âœ… æ ·å¼å¯å®šåˆ¶ï¼šæ”¯æŒCSSç±»åå’Œä¸»é¢˜é…ç½®

åŠŸèƒ½è¾¹ç•Œï¼š
âœ… å•ä¸€èŒè´£ï¼šä¸€ä¸ªç»„ä»¶åªåšä¸€ä»¶äº‹
âœ… ç‹¬ç«‹å®Œæ•´ï¼šä¸ä¾èµ–ç‰¹å®šçš„ä¸šåŠ¡é€»è¾‘
âœ… å¯ç»„åˆï¼šå¯ä»¥å’Œå…¶ä»–ç»„ä»¶é…åˆä½¿ç”¨
âœ… å¯æµ‹è¯•ï¼šä¾¿äºå•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•
```

**âš™ï¸ é…ç½®ç®¡ç†å®è·µ**
```
é…ç½®åˆ†å±‚ï¼š
âœ… ä»£ç é»˜è®¤å€¼ï¼šä¿è¯ç¨‹åºèƒ½æ­£å¸¸è¿è¡Œ
âœ… é…ç½®æ–‡ä»¶ï¼šç¯å¢ƒç›¸å…³çš„é…ç½®
âœ… ç¯å¢ƒå˜é‡ï¼šæ•æ„Ÿä¿¡æ¯å’Œéƒ¨ç½²æ—¶é…ç½®
âœ… å‘½ä»¤è¡Œå‚æ•°ï¼šä¸´æ—¶è¦†ç›–é…ç½®

å®‰å…¨å®è·µï¼š
âœ… æ•æ„Ÿä¿¡æ¯ï¼šé€šè¿‡ç¯å¢ƒå˜é‡ä¼ å…¥ï¼Œä¸å†™åœ¨é…ç½®æ–‡ä»¶ä¸­
âœ… é…ç½®æ ¡éªŒï¼šå¯åŠ¨æ—¶æ£€æŸ¥é…ç½®çš„åˆç†æ€§
âœ… é”™è¯¯å¤„ç†ï¼šé…ç½®é”™è¯¯æ—¶æä¾›å‹å¥½çš„é”™è¯¯ä¿¡æ¯
âœ… å®¡è®¡æ—¥å¿—ï¼šè®°å½•é…ç½®å˜æ›´çš„å†å²
```

### 8.4 å¸¸è§é—®é¢˜é¿å…


**âŒ è®¾è®¡è¯¯åŒº**
```
å¤§æ‚çƒ©å·¥å…·ç±»ï¼š
âŒ æŠŠæ‰€æœ‰åŠŸèƒ½éƒ½æ”¾åœ¨ä¸€ä¸ªCommonUtilé‡Œ
âœ… æŒ‰åŠŸèƒ½åˆ†ç±»ï¼šDateUtilã€StringUtilã€JsonUtil

è¿‡åº¦å°è£…ï¼š
âŒ ä¸ºäº†å°è£…è€Œå°è£…ï¼Œå¢åŠ ä¸å¿…è¦çš„å¤æ‚æ€§
âœ… åªå°è£…çœŸæ­£æœ‰ä»·å€¼çš„ã€ä¼šé‡å¤ä½¿ç”¨çš„åŠŸèƒ½

é…ç½®è¿‡åº¦ï¼š
âŒ æ‰€æœ‰ä¸œè¥¿éƒ½åšæˆå¯é…ç½®çš„
âœ… åªæœ‰çœŸæ­£éœ€è¦å˜åŒ–çš„æ‰åšæˆå¯é…ç½®
```

**âš ï¸ ç‰ˆæœ¬ç®¡ç†é™·é˜±**
```
ç ´åæ€§å˜æ›´ï¼š
âŒ éšæ„ä¿®æ”¹æ–¹æ³•ç­¾å
âœ… é€šè¿‡é‡è½½ä¿æŒå…¼å®¹ï¼Œæ—§æ–¹æ³•æ ‡è®°@Deprecated

ç¼ºä¹æ–‡æ¡£ï¼š
âŒ æ²¡æœ‰å˜æ›´æ—¥å¿—å’Œè¿ç§»æŒ‡å—
âœ… è¯¦ç»†è®°å½•æ¯æ¬¡å˜æ›´ï¼Œæä¾›å‡çº§æŒ‡å¯¼

ç‰ˆæœ¬æ··ä¹±ï¼š
âŒ ç‰ˆæœ¬å·ä¸è§„èŒƒï¼Œæ— æ³•åˆ¤æ–­å…¼å®¹æ€§
âœ… éµå¾ªè¯­ä¹‰åŒ–ç‰ˆæœ¬è§„èŒƒ
```

### 8.5 å­¦ä¹ è¿›é˜¶å»ºè®®


**ğŸ“ˆ è¿›é˜¶å­¦ä¹ è·¯å¾„**
```
åŸºç¡€é˜¶æ®µï¼š
1. æŒæ¡å¸¸ç”¨å·¥å…·ç±»çš„è®¾è®¡å’Œä½¿ç”¨
2. ç†è§£é™æ€æ–¹æ³•å’Œå®ä¾‹æ–¹æ³•çš„é€‰æ‹©
3. å­¦ä¼šç®€å•çš„é…ç½®åŒ–è®¾è®¡

è¿›é˜¶é˜¶æ®µï¼š
1. å­¦ä¹ è®¾è®¡æ¨¡å¼åœ¨å·¥å…·ç±»ä¸­çš„åº”ç”¨
2. æŒæ¡ç¬¬ä¸‰æ–¹SDKçš„å°è£…æŠ€å·§
3. ç†è§£ç‰ˆæœ¬ç®¡ç†å’Œå…¼å®¹æ€§ç­–ç•¥

é«˜çº§é˜¶æ®µï¼š
1. è®¾è®¡å¯æ‰©å±•çš„æ’ä»¶åŒ–æ¶æ„
2. å®ç°åŠ¨æ€é…ç½®å’Œçƒ­æ›´æ–°
3. æ„å»ºç»„ä»¶åº“å’Œå·¥å…·é“¾
```

**ğŸ” æ·±å…¥å­¦ä¹ æ–¹å‘**
```
æºç å­¦ä¹ ï¼š
- Springæ¡†æ¶çš„å·¥å…·ç±»è®¾è®¡
- Apache Commonsçš„å®ç°æ–¹å¼
- Google Guavaçš„è®¾è®¡æ€æƒ³

å®è·µé¡¹ç›®ï¼š
- æ„å»ºè‡ªå·±çš„å·¥å…·ç±»åº“
- å¼€å‘å¯å¤ç”¨çš„ç»„ä»¶ç³»ç»Ÿ
- è®¾è®¡é…ç½®ä¸­å¿ƒè§£å†³æ–¹æ¡ˆ

æŠ€æœ¯æ‰©å±•ï¼š
- å¾®æœåŠ¡æ¶æ„ä¸­çš„å·¥å…·ç±»ç®¡ç†
- åˆ†å¸ƒå¼ç³»ç»Ÿçš„é…ç½®åŒæ­¥
- äº‘åŸç”Ÿç¯å¢ƒçš„é…ç½®ç®¡ç†
```

**æ ¸å¿ƒè®°å¿†**ï¼š
- å·¥å…·ç±»æ˜¯ææ•ˆç¥å™¨ï¼Œè®¾è®¡è¦ç®€å•æ˜“ç”¨
- å°è£…è¦éšè—å¤æ‚æ€§ï¼Œæä¾›ç»Ÿä¸€æ¥å£
- ç»„ä»¶è¦ç‹¬ç«‹å®Œæ•´ï¼Œæ¥å£è¦æ ‡å‡†æ¸…æ™°
- ç‰ˆæœ¬è¦è¯­ä¹‰åŒ–ç®¡ç†ï¼Œä¿æŒå‘åå…¼å®¹
- é…ç½®è¦åˆ†å±‚è®¾è®¡ï¼Œæ”¯æŒç¯å¢ƒå·®å¼‚
- è´¨é‡æ¯”æ•°é‡é‡è¦ï¼Œå®ç”¨æ¯”ç‚«æŠ€é‡è¦