---
title: 12ã€è½¬æ¢ä¸æ˜ å°„æ€æƒ³
---
## ğŸ“š ç›®å½•

1. [æ•°æ®è½¬æ¢æ€ç»´](#1-æ•°æ®è½¬æ¢æ€ç»´)
2. [çŠ¶æ€è½¬æ¢æ€ç»´](#2-çŠ¶æ€è½¬æ¢æ€ç»´)
3. [æ˜ å°„æ€ç»´](#3-æ˜ å°„æ€ç»´)
4. [å®é™…åº”ç”¨åœºæ™¯](#4-å®é™…åº”ç”¨åœºæ™¯)
5. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#5-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ”„ æ•°æ®è½¬æ¢æ€ç»´


### 1.1 ä»€ä¹ˆæ˜¯æ•°æ®è½¬æ¢æ€ç»´


**æ ¸å¿ƒç†å¿µ**ï¼šæŠŠç¼–ç¨‹çœ‹ä½œæ˜¯æ•°æ®çš„"å˜å½¢è®°"
```
æƒ³è±¡ä¸€ä¸‹ï¼š
åŸææ–™ï¼ˆè¾“å…¥æ•°æ®ï¼‰ â†’ åŠ å·¥å‚ï¼ˆç¨‹åºï¼‰ â†’ æˆå“ï¼ˆè¾“å‡ºæ•°æ®ï¼‰

å°±åƒï¼š
é¢ç²‰ + æ°´ + é…µæ¯ â†’ çƒ˜ç„™è¿‡ç¨‹ â†’ é¢åŒ…
```

**ä¸ºä»€ä¹ˆéœ€è¦æ•°æ®è½¬æ¢**ï¼Ÿ
- ğŸ“± **ä¸åŒç³»ç»Ÿé—´äº¤æµ**ï¼šæ‰‹æœºAPPå’ŒæœåŠ¡å™¨æ•°æ®æ ¼å¼ä¸åŒ
- ğŸ”Œ **æ¥å£å¯¹æ¥**ï¼šä¸¤ä¸ªè½¯ä»¶è¦"æ¡æ‰‹"ï¼Œæ•°æ®æ ¼å¼å¿…é¡»ç»Ÿä¸€
- ğŸ’¾ **å­˜å‚¨ä¼˜åŒ–**ï¼šåŸå§‹æ•°æ®å¤ªå¤§ï¼Œéœ€è¦å‹ç¼©è½¬æ¢
- ğŸ‘€ **ç”¨æˆ·å‹å¥½**ï¼šæœºå™¨æ•°æ®è½¬æˆäººèƒ½çœ‹æ‡‚çš„æ ¼å¼

### 1.2 ç±»å‹è½¬æ¢ï¼šè®©æ•°æ®"å˜èº«"


**ä»€ä¹ˆæ˜¯ç±»å‹è½¬æ¢**ï¼Ÿ
æŠŠä¸€ç§æ•°æ®ç±»å‹å˜æˆå¦ä¸€ç§ç±»å‹ï¼Œå°±åƒæŠŠæ•°å­—å˜æˆæ–‡å­—ä¸€æ ·ã€‚

```javascript
// åŸºç¡€ç±»å‹è½¬æ¢ç¤ºä¾‹
let age = 25;           // æ•°å­—ç±»å‹
let ageText = String(age);  // è½¬æˆæ–‡å­— "25"
let score = "88";       // æ–‡å­—ç±»å‹
let scoreNum = Number(score); // è½¬æˆæ•°å­— 88

// ä¸ºä»€ä¹ˆéœ€è¦è½¬æ¢ï¼Ÿ
console.log(age + 5);     // 30 (æ•°å­—ç›¸åŠ )
console.log(score + 5);   // "885" (æ–‡å­—æ‹¼æ¥ï¼Œä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ï¼)
console.log(scoreNum + 5); // 93 (æ­£ç¡®çš„æ•°å­—ç›¸åŠ )
```

**å¸¸è§è½¬æ¢åœºæ™¯**ï¼š
```
ğŸ”¸ ç”¨æˆ·è¾“å…¥å¤„ç†
ç½‘é¡µè¡¨å•è¾“å…¥çš„éƒ½æ˜¯æ–‡å­— â†’ éœ€è¦è½¬æˆæ•°å­—åšè®¡ç®—

ğŸ”¸ APIæ•°æ®å¤„ç†  
æœåŠ¡å™¨è¿”å›JSONå­—ç¬¦ä¸² â†’ è½¬æˆJavaScriptå¯¹è±¡ä½¿ç”¨

ğŸ”¸ æ•°æ®åº“äº¤äº’
JavaScriptæ—¥æœŸå¯¹è±¡ â†’ è½¬æˆæ•°æ®åº“èƒ½å­˜å‚¨çš„æ ¼å¼
```

### 1.3 æ ¼å¼è½¬æ¢ï¼šç»Ÿä¸€æ•°æ®"æ–¹è¨€"


**ä»€ä¹ˆæ˜¯æ ¼å¼è½¬æ¢**ï¼Ÿ
åŒæ ·çš„ä¿¡æ¯ï¼Œç”¨ä¸åŒçš„"æ–¹è¨€"è¡¨è¾¾ï¼Œéœ€è¦ç¿»è¯‘æˆç»Ÿä¸€çš„æ ‡å‡†æ ¼å¼ã€‚

```javascript
// æ—¥æœŸæ ¼å¼è½¬æ¢ç¤ºä¾‹
let userInput1 = "2025/01/15";     // ç”¨æˆ·ä¹ æƒ¯æ ¼å¼
let userInput2 = "15-01-2025";     // å¦ä¸€ç§ä¹ æƒ¯æ ¼å¼
let userInput3 = "Jan 15, 2025";   // è‹±æ–‡æ ¼å¼

// è½¬æ¢æˆæ ‡å‡†æ ¼å¼
function standardizeDate(dateStr) {
    // ä¸ç®¡è¾“å…¥ä»€ä¹ˆæ ¼å¼ï¼Œéƒ½è½¬æˆæ ‡å‡†çš„ YYYY-MM-DD
    let date = new Date(dateStr);
    return date.toISOString().split('T')[0]; // "2025-01-15"
}
```

**å®é™…åº”ç”¨**ï¼š
```
ğŸ“„ æ–‡ä»¶æ ¼å¼è½¬æ¢ï¼šWordæ–‡æ¡£ â†’ PDF
ğŸ“Š æ•°æ®æ ¼å¼è½¬æ¢ï¼šExcelè¡¨æ ¼ â†’ CSVæ–‡ä»¶  
ğŸŒ ç½‘ç»œæ ¼å¼è½¬æ¢ï¼šXML â†’ JSON
ğŸ’± è´§å¸æ ¼å¼è½¬æ¢ï¼šÂ¥100 â†’ $14.5
```

### 1.4 ç»“æ„è½¬æ¢ï¼šé‡æ–°"è£…ä¿®"æ•°æ®


**ä»€ä¹ˆæ˜¯ç»“æ„è½¬æ¢**ï¼Ÿ
æŠŠæ•°æ®é‡æ–°ç»„ç»‡ï¼Œå°±åƒé‡æ–°è£…ä¿®æˆ¿å­ä¸€æ ·ï¼ŒåŠŸèƒ½ä¸€æ ·ä½†å¸ƒå±€ä¸åŒã€‚

```javascript
// æ‰å¹³ç»“æ„ â†’ æ ‘å½¢ç»“æ„
let flatData = [
    {id: 1, name: "æŠ€æœ¯éƒ¨", parentId: null},
    {id: 2, name: "å‰ç«¯ç»„", parentId: 1},
    {id: 3, name: "åç«¯ç»„", parentId: 1},
    {id: 4, name: "å°æ", parentId: 2},
    {id: 5, name: "å°ç‹", parentId: 2}
];

// è½¬æ¢æˆæ ‘å½¢ç»“æ„
function buildTree(flatData) {
    let tree = [];
    let map = {};
    
    // å…ˆå»ºç«‹æ˜ å°„
    flatData.forEach(item => {
        map[item.id] = {...item, children: []};
    });
    
    // å»ºç«‹çˆ¶å­å…³ç³»
    flatData.forEach(item => {
        if (item.parentId === null) {
            tree.push(map[item.id]);
        } else {
            map[item.parentId].children.push(map[item.id]);
        }
    });
    
    return tree;
}

// ç»“æœï¼š
// æŠ€æœ¯éƒ¨
//  â”œâ”€â”€ å‰ç«¯ç»„
//  â”‚   â”œâ”€â”€ å°æ
//  â”‚   â””â”€â”€ å°ç‹  
//  â””â”€â”€ åç«¯ç»„
```

### 1.5 åè®®è½¬æ¢ï¼šè®©ä¸åŒç³»ç»Ÿ"å¯¹è¯"


**ä»€ä¹ˆæ˜¯åè®®è½¬æ¢**ï¼Ÿ
ä¸åŒç³»ç»Ÿæœ‰ä¸åŒçš„"è¯­è¨€è§„åˆ™"ï¼Œéœ€è¦ç¿»è¯‘å®˜æ¥å¸®åŠ©æ²Ÿé€šã€‚

```
ç°å®ä¾‹å­ï¼š
ä¸­å›½äººè¯´ä¸­æ–‡ï¼Œç¾å›½äººè¯´è‹±æ–‡
éœ€è¦ç¿»è¯‘å®˜å¸®åŠ©æ²Ÿé€š

ç¼–ç¨‹ä¾‹å­ï¼š
HTTPåè®® â†” WebSocketåè®®
REST API â†” GraphQL
TCPåè®® â†” UDPåè®®
```

**ç®€å•ç¤ºä¾‹**ï¼š
```javascript
// HTTPè¯·æ±‚è½¬æ¢æˆWebSocketæ¶ˆæ¯
class ProtocolConverter {
    // HTTPé£æ ¼çš„è¯·æ±‚
    httpToWebSocket(httpRequest) {
        return {
            type: 'request',
            method: httpRequest.method,
            url: httpRequest.url,
            data: httpRequest.body,
            timestamp: Date.now()
        };
    }
    
    // WebSocketæ¶ˆæ¯è½¬æ¢æˆHTTPå“åº”æ ¼å¼
    webSocketToHttp(wsMessage) {
        return {
            status: wsMessage.success ? 200 : 400,
            data: wsMessage.data,
            headers: {'Content-Type': 'application/json'}
        };
    }
}
```

### 1.6 ç¼–ç è½¬æ¢ï¼šè§£å†³"ä¹±ç "é—®é¢˜


**ä»€ä¹ˆæ˜¯ç¼–ç è½¬æ¢**ï¼Ÿ
è®¡ç®—æœºå­˜å‚¨æ–‡å­—æ—¶ç”¨çš„æ˜¯æ•°å­—ç¼–ç ï¼Œä¸åŒç¼–ç è§„åˆ™ä¼šå¯¼è‡´ä¹±ç ï¼Œéœ€è¦è½¬æ¢ã€‚

```
å¸¸è§é—®é¢˜ï¼š
ç½‘é¡µæ˜¾ç¤ºä¹±ç  â†’ ç¼–ç ä¸ä¸€è‡´
é‚®ä»¶ä¸­æ–‡æ˜¾ç¤ºé—®å· â†’ ç¼–ç è½¬æ¢å¤±è´¥
æ–‡ä»¶åå˜æˆå¥‡æ€ªç¬¦å· â†’ ç¼–ç æ ¼å¼ä¸å¯¹
```

**ç¼–ç è½¬æ¢æ€è·¯**ï¼š
```javascript
// å¤„ç†ä¸åŒç¼–ç çš„æ–‡æœ¬
class EncodingConverter {
    // UTF-8 è½¬ GBKï¼ˆä¸­æ–‡ç¯å¢ƒå¸¸è§éœ€æ±‚ï¼‰
    utf8ToGbk(text) {
        // å®é™…å¼€å‘ä¸­ä¼šç”¨ä¸“é—¨çš„åº“
        // è¿™é‡Œå±•ç¤ºè½¬æ¢æ€è·¯
        return convertEncoding(text, 'UTF-8', 'GBK');
    }
    
    // æ£€æµ‹å¹¶è‡ªåŠ¨è½¬æ¢ç¼–ç 
    autoConvert(data) {
        let encoding = detectEncoding(data);
        if (encoding !== 'UTF-8') {
            return convertToUtf8(data, encoding);
        }
        return data;
    }
}
```

---

## 2. ğŸ”„ çŠ¶æ€è½¬æ¢æ€ç»´


### 2.1 ä»€ä¹ˆæ˜¯çŠ¶æ€è½¬æ¢æ€ç»´


**æ ¸å¿ƒç†å¿µ**ï¼šæŠŠç¨‹åºçœ‹ä½œä¸€ä¸ªä¼š"å˜è„¸"çš„æ¼”å‘˜
```
æƒ³è±¡çº¢ç»¿ç¯ï¼š
çº¢ç¯ â†’ ç»¿ç¯ â†’ é»„ç¯ â†’ çº¢ç¯ (å¾ªç¯)

æ¯ä¸ªç¯å°±æ˜¯ä¸€ä¸ª"çŠ¶æ€"
æŒ‰è§„åˆ™åˆ‡æ¢å°±æ˜¯"çŠ¶æ€è½¬æ¢"
```

**ä¸ºä»€ä¹ˆéœ€è¦çŠ¶æ€ç®¡ç†**ï¼Ÿ
- ğŸ® **æ¸¸æˆå¼€å‘**ï¼šè§’è‰²çš„ç”Ÿå‘½ã€æ”»å‡»ã€é˜²å¾¡çŠ¶æ€
- ğŸ“± **APPåº”ç”¨**ï¼šç™»å½•ã€æœªç™»å½•ã€åŠ è½½ä¸­çŠ¶æ€  
- ğŸ’³ **è®¢å•ç³»ç»Ÿ**ï¼šå¾…ä»˜æ¬¾ã€å·²ä»˜æ¬¾ã€å·²å‘è´§ã€å·²å®Œæˆ
- ğŸš— **è‡ªåŠ¨é©¾é©¶**ï¼šå¯åŠ¨ã€è¡Œé©¶ã€åˆ¹è½¦ã€åœæ­¢çŠ¶æ€

### 2.2 çŠ¶æ€æœºè®¾è®¡ï¼šåˆ¶å®š"å˜è„¸"è§„åˆ™


**ä»€ä¹ˆæ˜¯çŠ¶æ€æœº**ï¼Ÿ
å°±åƒåˆ¶å®šä¸€å¥—è§„åˆ™ï¼Œè§„å®šä»€ä¹ˆæƒ…å†µä¸‹å¯ä»¥ä»ä¸€ä¸ªçŠ¶æ€å˜æˆå¦ä¸€ä¸ªçŠ¶æ€ã€‚

```javascript
// ç®€å•çš„è®¢å•çŠ¶æ€æœº
class OrderStateMachine {
    constructor() {
        this.currentState = 'pending';  // å½“å‰çŠ¶æ€ï¼šå¾…ä»˜æ¬¾
        
        // å®šä¹‰çŠ¶æ€è½¬æ¢è§„åˆ™
        this.transitions = {
            'pending': ['paid', 'cancelled'],      // å¾…ä»˜æ¬¾ â†’ å·²ä»˜æ¬¾æˆ–å·²å–æ¶ˆ
            'paid': ['shipped', 'refunded'],       // å·²ä»˜æ¬¾ â†’ å·²å‘è´§æˆ–å·²é€€æ¬¾  
            'shipped': ['delivered'],              // å·²å‘è´§ â†’ å·²å®Œæˆ
            'delivered': [],                       // å·²å®Œæˆ â†’ æ— æ³•å†å˜åŒ–
            'cancelled': [],                       // å·²å–æ¶ˆ â†’ æ— æ³•å†å˜åŒ–
            'refunded': []                         // å·²é€€æ¬¾ â†’ æ— æ³•å†å˜åŒ–
        };
    }
    
    // å°è¯•è½¬æ¢çŠ¶æ€
    changeState(newState) {
        let allowedStates = this.transitions[this.currentState];
        
        if (allowedStates.includes(newState)) {
            console.log(`è®¢å•çŠ¶æ€ï¼š${this.currentState} â†’ ${newState}`);
            this.currentState = newState;
            return true;
        } else {
            console.log(`é”™è¯¯ï¼šæ— æ³•ä» ${this.currentState} è½¬æ¢åˆ° ${newState}`);
            return false;
        }
    }
}

// ä½¿ç”¨ç¤ºä¾‹
let order = new OrderStateMachine();
order.changeState('paid');      // âœ… å¾…ä»˜æ¬¾ â†’ å·²ä»˜æ¬¾
order.changeState('shipped');   // âœ… å·²ä»˜æ¬¾ â†’ å·²å‘è´§  
order.changeState('pending');   // âŒ é”™è¯¯ï¼šå·²å‘è´§ä¸èƒ½å›åˆ°å¾…ä»˜æ¬¾
```

**çŠ¶æ€æœºçš„å¥½å¤„**ï¼š
```
ğŸ”¸ è§„åˆ™æ¸…æ™°ï¼šä»€ä¹ˆæ—¶å€™èƒ½åšä»€ä¹ˆå¾ˆæ˜ç¡®
ğŸ”¸ é˜²æ­¢é”™è¯¯ï¼šä¸å…è®¸éæ³•çš„çŠ¶æ€è½¬æ¢
ğŸ”¸ æ˜“äºç»´æŠ¤ï¼šä¿®æ”¹è§„åˆ™åªéœ€è¦æ”¹ä¸€ä¸ªåœ°æ–¹
ğŸ”¸ ä¾¿äºæµ‹è¯•ï¼šå¯ä»¥é¢„æµ‹æ¯ç§æƒ…å†µçš„ç»“æœ
```

### 2.3 æµç¨‹è½¬æ¢ï¼šä¸šåŠ¡æµç¨‹çš„"å¯¼èˆªå›¾"


**ä»€ä¹ˆæ˜¯æµç¨‹è½¬æ¢**ï¼Ÿ
æŠŠå¤æ‚çš„ä¸šåŠ¡æµç¨‹åˆ†è§£æˆä¸€æ­¥ä¸€æ­¥çš„è½¬æ¢ï¼Œå°±åƒGPSå¯¼èˆªä¸€æ ·ã€‚

```
ç”¨æˆ·æ³¨å†Œæµç¨‹ï¼š
è¾“å…¥ä¿¡æ¯ â†’ éªŒè¯é‚®ç®± â†’ éªŒè¯æ‰‹æœº â†’ è®¾ç½®å¯†ç  â†’ æ³¨å†ŒæˆåŠŸ

æ¯ä¸€æ­¥éƒ½æ˜¯ä¸€ä¸ªçŠ¶æ€ï¼ŒæŒ‰é¡ºåºè½¬æ¢
```

```javascript
// ç”¨æˆ·æ³¨å†Œæµç¨‹çŠ¶æ€æœº
class RegistrationFlow {
    constructor() {
        this.currentStep = 'input_info';
        this.userData = {};
    }
    
    // æµç¨‹æ­¥éª¤å®šä¹‰
    processStep(action, data) {
        switch(this.currentStep) {
            case 'input_info':
                if (action === 'submit_info') {
                    this.userData = {...data};
                    this.currentStep = 'verify_email';
                    this.sendEmailCode();
                }
                break;
                
            case 'verify_email':
                if (action === 'email_verified') {
                    this.currentStep = 'verify_phone';
                    this.sendSmsCode();
                }
                break;
                
            case 'verify_phone':
                if (action === 'phone_verified') {
                    this.currentStep = 'set_password';
                }
                break;
                
            case 'set_password':
                if (action === 'password_set') {
                    this.currentStep = 'completed';
                    this.createAccount();
                }
                break;
        }
    }
    
    // è·å–å½“å‰æ­¥éª¤çš„æç¤ºä¿¡æ¯
    getCurrentStepInfo() {
        const stepInfo = {
            'input_info': 'è¯·å¡«å†™åŸºæœ¬ä¿¡æ¯',
            'verify_email': 'è¯·æŸ¥æ”¶é‚®ç®±éªŒè¯ç ',
            'verify_phone': 'è¯·è¾“å…¥æ‰‹æœºéªŒè¯ç ', 
            'set_password': 'è¯·è®¾ç½®ç™»å½•å¯†ç ',
            'completed': 'æ³¨å†ŒæˆåŠŸï¼'
        };
        return stepInfo[this.currentStep];
    }
}
```

### 2.4 ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼šå¯¹è±¡çš„"ä¸€ç”Ÿ"


**ä»€ä¹ˆæ˜¯ç”Ÿå‘½å‘¨æœŸ**ï¼Ÿ
å°±åƒäººæœ‰å‡ºç”Ÿã€æˆé•¿ã€è¡°è€ã€æ­»äº¡ä¸€æ ·ï¼Œç¨‹åºä¸­çš„å¯¹è±¡ä¹Ÿæœ‰è‡ªå·±çš„"ä¸€ç”Ÿ"ã€‚

```
ç½‘é¡µç»„ä»¶ç”Ÿå‘½å‘¨æœŸï¼š
åˆ›å»º â†’ æŒ‚è½½ â†’ æ›´æ–° â†’ é”€æ¯

æ•°æ®åº“è¿æ¥ç”Ÿå‘½å‘¨æœŸï¼š  
å»ºç«‹ â†’ ä½¿ç”¨ â†’ ç©ºé—² â†’ å…³é—­
```

```javascript
// ç®€å•çš„ç»„ä»¶ç”Ÿå‘½å‘¨æœŸç®¡ç†
class Component {
    constructor(name) {
        this.name = name;
        this.state = 'created';
        console.log(`${this.name} ç»„ä»¶åˆ›å»º`);
    }
    
    mount() {
        if (this.state === 'created') {
            this.state = 'mounted';
            console.log(`${this.name} ç»„ä»¶æŒ‚è½½åˆ°é¡µé¢`);
            this.bindEvents();  // ç»‘å®šäº‹ä»¶
        }
    }
    
    update(newData) {
        if (this.state === 'mounted') {
            console.log(`${this.name} ç»„ä»¶æ›´æ–°æ•°æ®`);
            this.render(newData);  // é‡æ–°æ¸²æŸ“
        }
    }
    
    destroy() {
        if (this.state === 'mounted') {
            this.state = 'destroyed';
            console.log(`${this.name} ç»„ä»¶é”€æ¯`);
            this.unbindEvents();  // æ¸…ç†äº‹ä»¶
            this.cleanup();       // æ¸…ç†èµ„æº
        }
    }
}
```

### 2.5 äº‹åŠ¡çŠ¶æ€ï¼šä¿è¯æ•°æ®å®‰å…¨çš„"ä¿é™©ç®±"


**ä»€ä¹ˆæ˜¯äº‹åŠ¡çŠ¶æ€**ï¼Ÿ
æƒ³è±¡é“¶è¡Œè½¬è´¦ï¼šä»Aè´¦æˆ·æ‰£é’±ï¼Œç»™Bè´¦æˆ·åŠ é’±ï¼Œè¿™ä¸¤ä¸ªæ“ä½œè¦ä¹ˆéƒ½æˆåŠŸï¼Œè¦ä¹ˆéƒ½å¤±è´¥ã€‚

```
äº‹åŠ¡çš„å››ä¸ªçŠ¶æ€ï¼š
å¼€å§‹ â†’ æ‰§è¡Œä¸­ â†’ æäº¤/å›æ»š â†’ ç»“æŸ

å°±åƒï¼š
å¼€å§‹è½¬è´¦ â†’ æ­£åœ¨å¤„ç† â†’ æˆåŠŸ/å¤±è´¥ â†’ è½¬è´¦å®Œæˆ
```

```javascript
// ç®€å•çš„äº‹åŠ¡çŠ¶æ€ç®¡ç†
class Transaction {
    constructor() {
        this.state = 'idle';       // ç©ºé—²çŠ¶æ€
        this.operations = [];      // æ“ä½œè®°å½•
        this.backupData = null;    // å¤‡ä»½æ•°æ®
    }
    
    begin() {
        if (this.state === 'idle') {
            this.state = 'active';
            this.backupData = this.createBackup();
            console.log('äº‹åŠ¡å¼€å§‹');
        }
    }
    
    execute(operation) {
        if (this.state === 'active') {
            try {
                operation();
                this.operations.push(operation);
                console.log('æ“ä½œæ‰§è¡ŒæˆåŠŸ');
            } catch (error) {
                console.log('æ“ä½œå¤±è´¥ï¼Œå‡†å¤‡å›æ»š');
                this.state = 'failed';
            }
        }
    }
    
    commit() {
        if (this.state === 'active') {
            this.state = 'committed';
            console.log('äº‹åŠ¡æäº¤æˆåŠŸ');
            this.cleanup();
        }
    }
    
    rollback() {
        if (this.state === 'failed' || this.state === 'active') {
            this.state = 'rolled_back';
            this.restoreBackup();
            console.log('äº‹åŠ¡å›æ»šå®Œæˆ');
        }
    }
}
```

---

## 3. ğŸ—ºï¸ æ˜ å°„æ€ç»´


### 3.1 ä»€ä¹ˆæ˜¯æ˜ å°„æ€ç»´


**æ ¸å¿ƒç†å¿µ**ï¼šå»ºç«‹ä¸¤ä¸ªä¸–ç•Œä¹‹é—´çš„"æ¡¥æ¢"
```
æƒ³è±¡å­—å…¸ï¼š
ä¸­æ–‡ â†” è‹±æ–‡
è‹¹æœ â†” Apple
é¦™è•‰ â†” Banana

ç¼–ç¨‹ä¸­çš„æ˜ å°„ï¼š
ç”¨æˆ·ID â†” ç”¨æˆ·ä¿¡æ¯
å•†å“ç¼–å· â†” å•†å“è¯¦æƒ…
æŒ‰é”® â†” åŠŸèƒ½
```

**ä¸ºä»€ä¹ˆéœ€è¦æ˜ å°„**ï¼Ÿ
- ğŸ” **å¿«é€ŸæŸ¥æ‰¾**ï¼šé€šè¿‡ä¸€ä¸ªå€¼å¿«é€Ÿæ‰¾åˆ°å¦ä¸€ä¸ªå€¼
- ğŸ”— **å»ºç«‹å…³è”**ï¼šæŠŠç›¸å…³çš„æ•°æ®è¿æ¥èµ·æ¥
- ğŸ’¾ **èŠ‚çœç©ºé—´**ï¼šé¿å…é‡å¤å­˜å‚¨ç›¸åŒä¿¡æ¯
- âš¡ **æé«˜æ•ˆç‡**ï¼šO(1)æ—¶é—´å¤æ‚åº¦çš„æŸ¥æ‰¾

### 3.2 ä¸€å¯¹ä¸€æ˜ å°„ï¼šä¸“ä¸€çš„"æ‹çˆ±å…³ç³»"


**ä»€ä¹ˆæ˜¯ä¸€å¯¹ä¸€æ˜ å°„**ï¼Ÿ
ä¸€ä¸ªè¾“å…¥åªå¯¹åº”ä¸€ä¸ªè¾“å‡ºï¼Œå°±åƒä¸€ä¸ªäººåªæœ‰ä¸€ä¸ªèº«ä»½è¯å·ã€‚

```javascript
// ç”¨æˆ·IDå’Œç”¨æˆ·ä¿¡æ¯çš„ä¸€å¯¹ä¸€æ˜ å°„
class UserMapping {
    constructor() {
        this.userMap = new Map();
    }
    
    // æ·»åŠ ç”¨æˆ·æ˜ å°„
    addUser(userId, userInfo) {
        this.userMap.set(userId, userInfo);
    }
    
    // æ ¹æ®IDè·å–ç”¨æˆ·ä¿¡æ¯
    getUser(userId) {
        return this.userMap.get(userId);
    }
}

// ä½¿ç”¨ç¤ºä¾‹
let userMapping = new UserMapping();
userMapping.addUser('U001', {name: 'å¼ ä¸‰', age: 25, email: 'zhang@example.com'});
userMapping.addUser('U002', {name: 'æå››', age: 30, email: 'li@example.com'});

let user = userMapping.getUser('U001');
console.log(user.name); // å¼ ä¸‰
```

**åº”ç”¨åœºæ™¯**ï¼š
```
ğŸ”¸ èº«ä»½è¯å· â†” ä¸ªäººä¿¡æ¯
ğŸ”¸ å•†å“æ¡ç  â†” å•†å“ä¿¡æ¯  
ğŸ”¸ IPåœ°å€ â†” åŸŸå
ğŸ”¸ å­¦å· â†” å­¦ç”Ÿæ¡£æ¡ˆ
```

### 3.3 ä¸€å¯¹å¤šæ˜ å°„ï¼šä¸€ä¸ª"è€å¸ˆ"å¸¦å¤šä¸ª"å­¦ç”Ÿ"


**ä»€ä¹ˆæ˜¯ä¸€å¯¹å¤šæ˜ å°„**ï¼Ÿ
ä¸€ä¸ªè¾“å…¥å¯¹åº”å¤šä¸ªè¾“å‡ºï¼Œå°±åƒä¸€ä¸ªç­ä¸»ä»»ç®¡ç†å¤šä¸ªå­¦ç”Ÿã€‚

```javascript
// éƒ¨é—¨å’Œå‘˜å·¥çš„ä¸€å¯¹å¤šæ˜ å°„
class DepartmentMapping {
    constructor() {
        this.deptEmployees = new Map();
    }
    
    // æ·»åŠ å‘˜å·¥åˆ°éƒ¨é—¨
    addEmployee(deptId, employee) {
        if (!this.deptEmployees.has(deptId)) {
            this.deptEmployees.set(deptId, []);
        }
        this.deptEmployees.get(deptId).push(employee);
    }
    
    // è·å–éƒ¨é—¨æ‰€æœ‰å‘˜å·¥
    getEmployees(deptId) {
        return this.deptEmployees.get(deptId) || [];
    }
    
    // è·å–éƒ¨é—¨å‘˜å·¥æ•°é‡
    getEmployeeCount(deptId) {
        return this.getEmployees(deptId).length;
    }
}

// ä½¿ç”¨ç¤ºä¾‹
let deptMapping = new DepartmentMapping();
deptMapping.addEmployee('TECH', {name: 'å¼ ä¸‰', role: 'å‰ç«¯å·¥ç¨‹å¸ˆ'});
deptMapping.addEmployee('TECH', {name: 'æå››', role: 'åç«¯å·¥ç¨‹å¸ˆ'});
deptMapping.addEmployee('TECH', {name: 'ç‹äº”', role: 'æµ‹è¯•å·¥ç¨‹å¸ˆ'});

let techEmployees = deptMapping.getEmployees('TECH');
console.log(`æŠ€æœ¯éƒ¨æœ‰${techEmployees.length}ä¸ªå‘˜å·¥`); // æŠ€æœ¯éƒ¨æœ‰3ä¸ªå‘˜å·¥
```

**åº”ç”¨åœºæ™¯**ï¼š
```
ğŸ”¸ ç”¨æˆ· â†” è®¢å•åˆ—è¡¨
ğŸ”¸ åˆ†ç±» â†” å•†å“åˆ—è¡¨
ğŸ”¸ æ ‡ç­¾ â†” æ–‡ç« åˆ—è¡¨  
ğŸ”¸ ç­çº§ â†” å­¦ç”Ÿåˆ—è¡¨
```

### 3.4 å¤šå¯¹ä¸€æ˜ å°„ï¼šå¤šä¸ª"æ²³æµ"æ±‡å…¥ä¸€ä¸ª"å¤§æµ·"


**ä»€ä¹ˆæ˜¯å¤šå¯¹ä¸€æ˜ å°„**ï¼Ÿ
å¤šä¸ªè¾“å…¥å¯¹åº”ä¸€ä¸ªè¾“å‡ºï¼Œå°±åƒå¤šæ¡æ²³æµæ±‡å…¥å¤§æµ·ã€‚

```javascript
// å¤šä¸ªåŸå¸‚å±äºåŒä¸€ä¸ªçœä»½
class CityProvinceMapping {
    constructor() {
        this.cityProvince = new Map();
    }
    
    // è®¾ç½®åŸå¸‚æ‰€å±çœä»½
    setCityProvince(city, province) {
        this.cityProvince.set(city, province);
    }
    
    // è·å–åŸå¸‚æ‰€å±çœä»½
    getProvince(city) {
        return this.cityProvince.get(city);
    }
    
    // è·å–åŒçœä»½çš„æ‰€æœ‰åŸå¸‚
    getCitiesInProvince(province) {
        let cities = [];
        for (let [city, prov] of this.cityProvince) {
            if (prov === province) {
                cities.push(city);
            }
        }
        return cities;
    }
}

// ä½¿ç”¨ç¤ºä¾‹
let mapping = new CityProvinceMapping();
mapping.setCityProvince('å¹¿å·', 'å¹¿ä¸œçœ');
mapping.setCityProvince('æ·±åœ³', 'å¹¿ä¸œçœ');
mapping.setCityProvince('ä¸œè', 'å¹¿ä¸œçœ');
mapping.setCityProvince('æ­å·', 'æµ™æ±Ÿçœ');

console.log(mapping.getProvince('æ·±åœ³'));           // å¹¿ä¸œçœ
console.log(mapping.getCitiesInProvince('å¹¿ä¸œçœ'));  // ['å¹¿å·', 'æ·±åœ³', 'ä¸œè']
```

**åº”ç”¨åœºæ™¯**ï¼š
```
ğŸ”¸ å¤šä¸ªæ”¯ä»˜æ–¹å¼ â†” åŒä¸€ä¸ªè®¢å•
ğŸ”¸ å¤šä¸ªæ–‡ä»¶ â†” åŒä¸€ä¸ªæ–‡ä»¶å¤¹
ğŸ”¸ å¤šä¸ªå­¦ç”Ÿ â†” åŒä¸€ä¸ªç­çº§
ğŸ”¸ å¤šä¸ªå•†å“ â†” åŒä¸€ä¸ªè´­ç‰©è½¦
```

### 3.5 å¤šå¯¹å¤šæ˜ å°„ï¼šå¤æ‚çš„"æœ‹å‹åœˆ"å…³ç³»


**ä»€ä¹ˆæ˜¯å¤šå¯¹å¤šæ˜ å°„**ï¼Ÿ
æ¯ä¸ªè¾“å…¥å¯ä»¥å¯¹åº”å¤šä¸ªè¾“å‡ºï¼Œæ¯ä¸ªè¾“å‡ºä¹Ÿå¯ä»¥å¯¹åº”å¤šä¸ªè¾“å…¥ï¼Œå°±åƒæœ‹å‹åœˆçš„å¤æ‚å…³ç³»ã€‚

```javascript
// å­¦ç”Ÿå’Œè¯¾ç¨‹çš„å¤šå¯¹å¤šå…³ç³»
class StudentCourseMapping {
    constructor() {
        this.studentCourses = new Map();  // å­¦ç”Ÿ â†’ è¯¾ç¨‹åˆ—è¡¨
        this.courseStudents = new Map();  // è¯¾ç¨‹ â†’ å­¦ç”Ÿåˆ—è¡¨
    }
    
    // å­¦ç”Ÿé€‰è¯¾
    enrollStudent(studentId, courseId) {
        // æ·»åŠ åˆ°å­¦ç”Ÿâ†’è¯¾ç¨‹æ˜ å°„
        if (!this.studentCourses.has(studentId)) {
            this.studentCourses.set(studentId, new Set());
        }
        this.studentCourses.get(studentId).add(courseId);
        
        // æ·»åŠ åˆ°è¯¾ç¨‹â†’å­¦ç”Ÿæ˜ å°„
        if (!this.courseStudents.has(courseId)) {
            this.courseStudents.set(courseId, new Set());
        }
        this.courseStudents.get(courseId).add(studentId);
    }
    
    // è·å–å­¦ç”Ÿçš„æ‰€æœ‰è¯¾ç¨‹
    getStudentCourses(studentId) {
        return Array.from(this.studentCourses.get(studentId) || []);
    }
    
    // è·å–è¯¾ç¨‹çš„æ‰€æœ‰å­¦ç”Ÿ
    getCourseStudents(courseId) {
        return Array.from(this.courseStudents.get(courseId) || []);
    }
    
    // æ£€æŸ¥å­¦ç”Ÿæ˜¯å¦é€‰äº†æŸè¯¾ç¨‹
    isEnrolled(studentId, courseId) {
        return this.studentCourses.get(studentId)?.has(courseId) || false;
    }
}

// ä½¿ç”¨ç¤ºä¾‹
let mapping = new StudentCourseMapping();
mapping.enrollStudent('S001', 'C001'); // å¼ ä¸‰é€‰JavaScript
mapping.enrollStudent('S001', 'C002'); // å¼ ä¸‰é€‰Python
mapping.enrollStudent('S002', 'C001'); // æå››é€‰JavaScript

console.log(mapping.getStudentCourses('S001')); // ['C001', 'C002']
console.log(mapping.getCourseStudents('C001'));  // ['S001', 'S002']
```

**åº”ç”¨åœºæ™¯**ï¼š
```
ğŸ”¸ ç”¨æˆ· â†” è§’è‰²æƒé™
ğŸ”¸ å•†å“ â†” æ ‡ç­¾åˆ†ç±»
ğŸ”¸ æ–‡ç«  â†” å…³é”®è¯
ğŸ”¸ æ¼”å‘˜ â†” ç”µå½±ä½œå“
```

### 3.6 å±‚æ¬¡æ˜ å°„ï¼šä¸åŒ"æ¥¼å±‚"é—´çš„å¯¹åº”


**ä»€ä¹ˆæ˜¯å±‚æ¬¡æ˜ å°„**ï¼Ÿ
åœ¨ä¸åŒçš„æŠ½è±¡å±‚æ¬¡é—´å»ºç«‹å¯¹åº”å…³ç³»ï¼Œå°±åƒæ¥¼å±‚ä¹‹é—´çš„å¯¹åº”å…³ç³»ã€‚

```
æŠ½è±¡å±‚æ¬¡ç¤ºä¾‹ï¼š
é«˜å±‚æŠ½è±¡ï¼šç”¨æˆ·æ“ä½œ "ä¿å­˜æ–‡æ¡£"
ä¸­å±‚æŠ½è±¡ï¼šæ–‡ä»¶ç³»ç»Ÿè°ƒç”¨
åº•å±‚æŠ½è±¡ï¼šç£ç›˜æ‰‡åŒºå†™å…¥

æ¯å±‚éƒ½æœ‰è‡ªå·±çš„"è¯­è¨€"ï¼Œéœ€è¦ç¿»è¯‘
```

```javascript
// URLè·¯ç”±çš„å±‚æ¬¡æ˜ å°„
class RouteMapping {
    constructor() {
        this.routes = new Map();
    }
    
    // æ³¨å†Œè·¯ç”±æ˜ å°„
    register(pattern, handler, middleware = []) {
        this.routes.set(pattern, {
            handler,           // å¤„ç†å‡½æ•°
            middleware,        // ä¸­é—´ä»¶
            params: {}         // å‚æ•°
        });
    }
    
    // è§£æURLåˆ°å¤„ç†å‡½æ•°çš„æ˜ å°„
    resolve(url) {
        for (let [pattern, config] of this.routes) {
            let match = this.matchPattern(pattern, url);
            if (match) {
                return {
                    handler: config.handler,
                    middleware: config.middleware,
                    params: match.params
                };
            }
        }
        return null;
    }
    
    // æ¨¡å¼åŒ¹é…
    matchPattern(pattern, url) {
        // ç®€å•çš„å‚æ•°åŒ¹é…å®ç°
        let patternParts = pattern.split('/');
        let urlParts = url.split('/');
        
        if (patternParts.length !== urlParts.length) return null;
        
        let params = {};
        for (let i = 0; i < patternParts.length; i++) {
            let patternPart = patternParts[i];
            let urlPart = urlParts[i];
            
            if (patternPart.startsWith(':')) {
                // åŠ¨æ€å‚æ•°
                let paramName = patternPart.slice(1);
                params[paramName] = urlPart;
            } else if (patternPart !== urlPart) {
                return null;
            }
        }
        
        return { params };
    }
}

// ä½¿ç”¨ç¤ºä¾‹
let router = new RouteMapping();
router.register('/user/:id', (params) => `æ˜¾ç¤ºç”¨æˆ·${params.id}çš„ä¿¡æ¯`);
router.register('/product/:category/:id', (params) => `æ˜¾ç¤º${params.category}ç±»åˆ«ä¸­çš„å•†å“${params.id}`);

let result = router.resolve('/user/123');
console.log(result.handler(result.params)); // æ˜¾ç¤ºç”¨æˆ·123çš„ä¿¡æ¯
```

---

## 4. ğŸš€ å®é™…åº”ç”¨åœºæ™¯


### 4.1 Webå¼€å‘ä¸­çš„è½¬æ¢ä¸æ˜ å°„


**å‰ç«¯æ•°æ®æµè½¬æ¢**ï¼š
```
ç”¨æˆ·è¾“å…¥ â†’ è¡¨å•éªŒè¯ â†’ æ ¼å¼åŒ– â†’ APIè¯·æ±‚ â†’ å“åº”å¤„ç† â†’ ç•Œé¢æ›´æ–°

æ¯ä¸€æ­¥éƒ½æ˜¯æ•°æ®è½¬æ¢ï¼š
- è¾“å…¥éªŒè¯ï¼šæ–‡æœ¬ â†’ æ ¡éªŒç»“æœ
- æ ¼å¼åŒ–ï¼šç”¨æˆ·å‹å¥½æ ¼å¼ â†’ æ ‡å‡†æ ¼å¼  
- APIè°ƒç”¨ï¼šJavaScriptå¯¹è±¡ â†’ JSONå­—ç¬¦ä¸²
- å“åº”å¤„ç†ï¼šJSON â†’ JavaScriptå¯¹è±¡ â†’ UIæ•°æ®
```

**åç«¯ä¸šåŠ¡æµç¨‹çŠ¶æ€æœº**ï¼š
```
è®¢å•å¤„ç†æµç¨‹ï¼š
æäº¤è®¢å• â†’ åº“å­˜æ£€æŸ¥ â†’ æ”¯ä»˜å¤„ç† â†’ å‘è´§å‡†å¤‡ â†’ ç‰©æµè·Ÿè¸ª â†’ äº¤æ˜“å®Œæˆ

æ¯ä¸ªçŠ¶æ€éƒ½æœ‰å¯¹åº”çš„ä¸šåŠ¡é€»è¾‘å’Œæ•°æ®è½¬æ¢
```

### 4.2 æ•°æ®åº“è®¾è®¡ä¸­çš„æ˜ å°„å…³ç³»


**ORMå¯¹è±¡å…³ç³»æ˜ å°„**ï¼š
```
æ•°æ®åº“è¡¨ â†” ç¼–ç¨‹è¯­è¨€å¯¹è±¡
SQLæŸ¥è¯¢ â†” æ–¹æ³•è°ƒç”¨
å¤–é”®å…³ç³» â†” å¯¹è±¡å¼•ç”¨

è®©ç¨‹åºå‘˜ç”¨é¢å‘å¯¹è±¡çš„æ–¹å¼æ“ä½œæ•°æ®åº“
```

### 4.3 å¾®æœåŠ¡æ¶æ„ä¸­çš„åè®®è½¬æ¢


**æœåŠ¡é—´é€šä¿¡**ï¼š
```
HTTP REST â†” gRPC â†” æ¶ˆæ¯é˜Ÿåˆ—

ä¸åŒæœåŠ¡å¯èƒ½ä½¿ç”¨ä¸åŒçš„é€šä¿¡åè®®
éœ€è¦åè®®è½¬æ¢å±‚æ¥ç»Ÿä¸€æ¥å£
```

---

## 5. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 5.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ€ç»´


```
ğŸ”¸ æ•°æ®è½¬æ¢æ€ç»´ï¼šæŠŠç¼–ç¨‹çœ‹ä½œæ•°æ®çš„åŠ å·¥è¿‡ç¨‹
ğŸ”¸ çŠ¶æ€è½¬æ¢æ€ç»´ï¼šç”¨çŠ¶æ€æœºç®¡ç†å¤æ‚çš„ä¸šåŠ¡æµç¨‹
ğŸ”¸ æ˜ å°„æ€ç»´ï¼šå»ºç«‹æ•°æ®é—´çš„å¯¹åº”å…³ç³»ï¼Œæé«˜æŸ¥æ‰¾æ•ˆç‡
ğŸ”¸ å±‚æ¬¡æ€ç»´ï¼šåœ¨ä¸åŒæŠ½è±¡å±‚æ¬¡é—´å»ºç«‹è½¬æ¢è§„åˆ™
ğŸ”¸ åè®®æ€ç»´ï¼šè®©ä¸åŒç³»ç»Ÿèƒ½å¤Ÿ"å¯¹è¯"
```

### 5.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ è½¬æ¢çš„æœ¬è´¨æ˜¯"ç¿»è¯‘"**
```
å°±åƒäººç±»è¯­è¨€ç¿»è¯‘ä¸€æ ·ï¼š
- ä¿æŒå«ä¹‰ä¸å˜
- é€‚åº”ç›®æ ‡ç¯å¢ƒ
- å¤„ç†æ ¼å¼å·®å¼‚
- è§£å†³å…¼å®¹é—®é¢˜
```

**ğŸ”¹ çŠ¶æ€ç®¡ç†çš„æ ¸å¿ƒæ˜¯"è§„åˆ™"**
```
æ˜ç¡®çš„çŠ¶æ€è½¬æ¢è§„åˆ™ï¼š
- ä»€ä¹ˆæ—¶å€™å¯ä»¥è½¬æ¢
- è½¬æ¢çš„æ¡ä»¶æ˜¯ä»€ä¹ˆ  
- è½¬æ¢å¤±è´¥æ€ä¹ˆå¤„ç†
- å¦‚ä½•ä¿è¯çŠ¶æ€ä¸€è‡´æ€§
```

**ğŸ”¹ æ˜ å°„çš„ä»·å€¼åœ¨"å…³è”"**
```
å»ºç«‹æ•°æ®é—´çš„æ¡¥æ¢ï¼š
- å¿«é€ŸæŸ¥æ‰¾å¯¹åº”å…³ç³»
- å‡å°‘æ•°æ®å†—ä½™
- æé«˜è®¿é—®æ•ˆç‡
- ç®€åŒ–ä¸šåŠ¡é€»è¾‘
```

### 5.3 å®é™…åº”ç”¨æŒ‡å¯¼


**é€‰æ‹©åˆé€‚çš„è½¬æ¢ç­–ç•¥**ï¼š
```
æ•°æ®é‡å° â†’ ç›´æ¥è½¬æ¢
æ•°æ®é‡å¤§ â†’ æµå¼è½¬æ¢  
å®æ—¶æ€§è¦æ±‚é«˜ â†’ é¢„å¤„ç†ç¼“å­˜
æ ¼å¼å¤æ‚ â†’ åˆ†å±‚è½¬æ¢
```

**è®¾è®¡çŠ¶æ€æœºçš„åŸåˆ™**ï¼š
```
çŠ¶æ€è¦å®Œæ•´ â†’ è¦†ç›–æ‰€æœ‰å¯èƒ½æƒ…å†µ
è½¬æ¢è¦åˆç† â†’ ç¬¦åˆä¸šåŠ¡é€»è¾‘
è§„åˆ™è¦ç®€å• â†’ æ˜“äºç†è§£å’Œç»´æŠ¤  
å¼‚å¸¸è¦å¤„ç† â†’ è€ƒè™‘é”™è¯¯æƒ…å†µ
```

**å»ºç«‹æ˜ å°„çš„æŠ€å·§**ï¼š
```
é€‰æ‹©åˆé€‚çš„æ•°æ®ç»“æ„ï¼š
- ä¸€å¯¹ä¸€ â†’ Map/Dictionary
- ä¸€å¯¹å¤š â†’ Map + Array/Set
- å¤šå¯¹å¤š â†’ åŒå‘Map
- å±‚æ¬¡å…³ç³» â†’ æ ‘å½¢ç»“æ„
```

**æ ¸å¿ƒè®°å¿†å£è¯€**ï¼š
```
æ•°æ®è½¬æ¢å¦‚ç¿»è¯‘ï¼Œæ ¼å¼ç»Ÿä¸€å¥½å¤„ç†
çŠ¶æ€è½¬æ¢å®šè§„åˆ™ï¼Œæµç¨‹æ¸…æ™°ä¸å‡ºé”™  
æ˜ å°„å»ºç«‹å¿«å…³è”ï¼ŒæŸ¥æ‰¾æ•ˆç‡å¤§æå‡
å±‚æ¬¡æŠ½è±¡åˆ†ç­‰çº§ï¼Œå¤æ‚é—®é¢˜å¯ç®€åŒ–
```