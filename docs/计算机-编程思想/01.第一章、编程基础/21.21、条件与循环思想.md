---
title: 21ã€æ¡ä»¶ä¸å¾ªç¯æ€æƒ³
---
## ğŸ“š ç›®å½•

1. [æ¡ä»¶åˆ†æ”¯æ€ç»´](#1-æ¡ä»¶åˆ†æ”¯æ€ç»´)
2. [å¾ªç¯è¿­ä»£æ€ç»´](#2-å¾ªç¯è¿­ä»£æ€ç»´)
3. [æµç¨‹æ§åˆ¶æ€ç»´](#3-æµç¨‹æ§åˆ¶æ€ç»´)
4. [å®é™…åº”ç”¨åœºæ™¯](#4-å®é™…åº”ç”¨åœºæ™¯)
5. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#5-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ¯ æ¡ä»¶åˆ†æ”¯æ€ç»´


### 1.1 äºŒåˆ†å†³ç­–ï¼šif-elseçš„äºŒåˆ†é€»è¾‘


**ğŸ”¸ ä»€ä¹ˆæ˜¯äºŒåˆ†å†³ç­–æ€ç»´ï¼Ÿ**

> **äºŒåˆ†å†³ç­–**å°±æ˜¯æŠŠå¤æ‚é—®é¢˜ç®€åŒ–æˆ"æ˜¯"æˆ–"ä¸æ˜¯"çš„é€‰æ‹©ï¼Œå°±åƒç”Ÿæ´»ä¸­çš„çº¢ç»¿ç¯â€”â€”è¦ä¹ˆé€šè¡Œï¼Œè¦ä¹ˆç­‰å¾…ï¼Œæ²¡æœ‰ç¬¬ä¸‰ç§é€‰æ‹©ã€‚

**ğŸ’¡ æ ¸å¿ƒæ€æƒ³**
```
ç”Ÿæ´»ä¸­çš„äºŒåˆ†å†³ç­–ï¼š
è€ƒè¯•æˆç»© >= 60åˆ† â†’ åŠæ ¼ âœ…
è€ƒè¯•æˆç»© < 60åˆ†  â†’ ä¸åŠæ ¼ âŒ

ç¼–ç¨‹ä¸­çš„äºŒåˆ†å†³ç­–ï¼š
æ¡ä»¶ä¸ºçœŸ(true)  â†’ æ‰§è¡ŒAæ“ä½œ
æ¡ä»¶ä¸ºå‡(false) â†’ æ‰§è¡ŒBæ“ä½œ
```

**ğŸ”§ åŸºç¡€ç¤ºä¾‹**
```java
// æœ€ç®€å•çš„äºŒåˆ†å†³ç­–
public String checkAge(int age) {
    if (age >= 18) {
        return "æˆå¹´äºº";    // æ¡ä»¶ä¸ºçœŸæ—¶çš„å¤„ç†
    } else {
        return "æœªæˆå¹´äºº";   // æ¡ä»¶ä¸ºå‡æ—¶çš„å¤„ç†
    }
}
```

**ğŸ¯ äºŒåˆ†å†³ç­–çš„åº”ç”¨åœºæ™¯**

| **åœºæ™¯ç±»å‹** | **åˆ¤æ–­æ¡ä»¶** | **çœŸåˆ†æ”¯** | **å‡åˆ†æ”¯** |
|-------------|-------------|-----------|-----------|
| **æƒé™éªŒè¯** | `ç”¨æˆ·å·²ç™»å½•` | `è¿›å…¥ç³»ç»Ÿ` | `è·³è½¬ç™»å½•é¡µ` |
| **æ•°æ®éªŒè¯** | `è¾“å…¥åˆæ³•` | `ä¿å­˜æ•°æ®` | `æ˜¾ç¤ºé”™è¯¯` |
| **ä¸šåŠ¡é€»è¾‘** | `åº“å­˜å……è¶³` | `å…è®¸ä¸‹å•` | `æ˜¾ç¤ºç¼ºè´§` |
| **å®‰å…¨æ£€æŸ¥** | `å¯†ç æ­£ç¡®` | `ç™»å½•æˆåŠŸ` | `ç™»å½•å¤±è´¥` |

### 1.2 å¤šåˆ†æ”¯å†³ç­–ï¼šswitch-caseçš„å¤šåˆ†æ”¯


**ğŸ”¸ ä»€ä¹ˆæ˜¯å¤šåˆ†æ”¯å†³ç­–ï¼Ÿ**

> **å¤šåˆ†æ”¯å†³ç­–**å°±æ˜¯é¢å¯¹å¤šç§å¯èƒ½æ€§æ—¶ï¼Œæ ¹æ®ä¸åŒæƒ…å†µé€‰æ‹©ä¸åŒçš„å¤„ç†æ–¹å¼ï¼Œå°±åƒé¤å…èœå•â€”â€”æ ¹æ®é¡¾å®¢çš„é€‰æ‹©æä¾›ä¸åŒçš„èœå“ã€‚

**ğŸ’¡ å¤šåˆ†æ”¯æ€ç»´æ¨¡å‹**
```
å¤šåˆ†æ”¯å†³ç­–æ€ç»´ï¼š
æƒ…å†µ1 â†’ å¤„ç†æ–¹æ¡ˆ1
æƒ…å†µ2 â†’ å¤„ç†æ–¹æ¡ˆ2  
æƒ…å†µ3 â†’ å¤„ç†æ–¹æ¡ˆ3
å…¶ä»–æƒ…å†µ â†’ é»˜è®¤å¤„ç†æ–¹æ¡ˆ
```

**ğŸ”§ å®ç”¨ç¤ºä¾‹**
```java
// æ ¹æ®ç”¨æˆ·ç­‰çº§æä¾›ä¸åŒæŠ˜æ‰£
public double getDiscount(String userLevel) {
    switch (userLevel) {
        case "VIP":
            return 0.8;     // VIPç”¨æˆ·8æŠ˜
        case "GOLD":
            return 0.9;     // é‡‘ç‰Œç”¨æˆ·9æŠ˜
        case "SILVER":
            return 0.95;    // é“¶ç‰Œç”¨æˆ·95æŠ˜
        default:
            return 1.0;     // æ™®é€šç”¨æˆ·æ— æŠ˜æ‰£
    }
}
```

**ğŸ“Š if-else vs switch-case å¯¹æ¯”**

| **ç‰¹ç‚¹** | **if-elseé“¾** | **switch-case** |
|---------|-------------|----------------|
| **é€‚ç”¨åœºæ™¯** | `å¤æ‚æ¡ä»¶åˆ¤æ–­` | `ç®€å•å€¼åŒ¹é…` |
| **å¯è¯»æ€§** | `æ¡ä»¶å¤šæ—¶è¾ƒå·®` | `æ¸…æ™°æ˜äº†` |
| **æ€§èƒ½** | `éœ€è¦é€ä¸ªåˆ¤æ–­` | `ç›´æ¥è·³è½¬ï¼ˆä¼˜åŒ–åï¼‰` |
| **çµæ´»æ€§** | `æ”¯æŒä»»æ„æ¡ä»¶` | `åªæ”¯æŒç›¸ç­‰æ¯”è¾ƒ` |

### 1.3 å«è¯­å¥ï¼šæ—©æœŸè¿”å›çš„å«è¯­å¥æ¨¡å¼


**ğŸ”¸ ä»€ä¹ˆæ˜¯å«è¯­å¥ï¼Ÿ**

> **å«è¯­å¥**å°±åƒé—¨å«ä¸€æ ·ï¼Œåœ¨ç¨‹åºå…¥å£å¤„æ£€æŸ¥æ¡ä»¶ï¼Œä¸ç¬¦åˆè¦æ±‚çš„ç›´æ¥"æ‹’ç»å…¥å†…"ï¼Œé¿å…åç»­å¤æ‚çš„åµŒå¥—åˆ¤æ–­ã€‚

**ğŸ’¡ å«è¯­å¥çš„æ€ç»´è½¬æ¢**
```
ä¼ ç»ŸåµŒå¥—æ€ç»´ï¼š
if (æ¡ä»¶1æ»¡è¶³) {
    if (æ¡ä»¶2æ»¡è¶³) {
        if (æ¡ä»¶3æ»¡è¶³) {
            // æ ¸å¿ƒä¸šåŠ¡é€»è¾‘
        }
    }
}

å«è¯­å¥æ€ç»´ï¼š
if (!æ¡ä»¶1æ»¡è¶³) return "é”™è¯¯1";
if (!æ¡ä»¶2æ»¡è¶³) return "é”™è¯¯2";  
if (!æ¡ä»¶3æ»¡è¶³) return "é”™è¯¯3";
// æ ¸å¿ƒä¸šåŠ¡é€»è¾‘
```

**ğŸ”§ å®é™…åº”ç”¨ç¤ºä¾‹**
```java
// ç”¨æˆ·ç™»å½•éªŒè¯ - ä½¿ç”¨å«è¯­å¥
public String login(String username, String password) {
    // å«è¯­å¥1ï¼šæ£€æŸ¥ç”¨æˆ·å
    if (username == null || username.isEmpty()) {
        return "ç”¨æˆ·åä¸èƒ½ä¸ºç©º";
    }
    
    // å«è¯­å¥2ï¼šæ£€æŸ¥å¯†ç 
    if (password == null || password.length() < 6) {
        return "å¯†ç é•¿åº¦ä¸èƒ½å°‘äº6ä½";
    }
    
    // å«è¯­å¥3ï¼šæ£€æŸ¥ç”¨æˆ·æ˜¯å¦å­˜åœ¨
    if (!userExists(username)) {
        return "ç”¨æˆ·ä¸å­˜åœ¨";
    }
    
    // æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ï¼ˆæ¡ä»¶éƒ½æ»¡è¶³æ—¶æ‰æ‰§è¡Œï¼‰
    return processLogin(username, password);
}
```

**âœ… å«è¯­å¥çš„ä¼˜åŠ¿**
- **å‡å°‘åµŒå¥—**ï¼šé¿å…å¤šå±‚ifåµŒå¥—ï¼Œä»£ç æ›´å¹³å¦
- **æé«˜å¯è¯»æ€§**ï¼šå¼‚å¸¸æƒ…å†µä¼˜å…ˆå¤„ç†ï¼Œä¸»é€»è¾‘æ›´æ¸…æ™°
- **ä¾¿äºç»´æŠ¤**ï¼šæ¯ä¸ªæ£€æŸ¥ç‹¬ç«‹ï¼Œæ˜“äºä¿®æ”¹å’Œè°ƒè¯•

### 1.4 ç­–ç•¥é€‰æ‹©ï¼šåŸºäºæ¡ä»¶çš„ç­–ç•¥é€‰æ‹©


**ğŸ”¸ ä»€ä¹ˆæ˜¯ç­–ç•¥é€‰æ‹©æ€ç»´ï¼Ÿ**

> **ç­–ç•¥é€‰æ‹©**å°±æ˜¯æ ¹æ®ä¸åŒçš„æƒ…å†µé‡‡ç”¨ä¸åŒçš„è§£å†³ç­–ç•¥ï¼Œå°±åƒä¸‹é›¨å¤©é€‰æ‹©æ‰“ä¼ã€ç©¿é›¨è¡£æˆ–è€…åœ¨å®¶å¾…ç€ç­‰ä¸åŒåº”å¯¹ç­–ç•¥ã€‚

**ğŸ’¡ ç­–ç•¥é€‰æ‹©æ¨¡å¼**
```
ç­–ç•¥é€‰æ‹©æ€ç»´æ¡†æ¶ï¼š
åˆ†ææƒ…å†µ â†’ è¯†åˆ«å¯ç”¨ç­–ç•¥ â†’ é€‰æ‹©æœ€ä¼˜ç­–ç•¥ â†’ æ‰§è¡Œç­–ç•¥
```

**ğŸ”§ ç­–ç•¥é€‰æ‹©ç¤ºä¾‹**
```java
// æ”¯ä»˜ç­–ç•¥é€‰æ‹©
public class PaymentProcessor {
    
    public String processPayment(String paymentType, double amount) {
        // æ ¹æ®æ”¯ä»˜ç±»å‹é€‰æ‹©ä¸åŒç­–ç•¥
        switch (paymentType) {
            case "CREDIT_CARD":
                return processCreditCard(amount);
            case "ALIPAY":
                return processAlipay(amount);
            case "WECHAT":
                return processWechat(amount);
            default:
                return "ä¸æ”¯æŒçš„æ”¯ä»˜æ–¹å¼";
        }
    }
    
    private String processCreditCard(double amount) {
        // ä¿¡ç”¨å¡æ”¯ä»˜ç­–ç•¥
        return "ä¿¡ç”¨å¡æ”¯ä»˜ï¼š" + amount + "å…ƒ";
    }
    
    private String processAlipay(double amount) {
        // æ”¯ä»˜å®æ”¯ä»˜ç­–ç•¥  
        return "æ”¯ä»˜å®æ”¯ä»˜ï¼š" + amount + "å…ƒ";
    }
    
    private String processWechat(double amount) {
        // å¾®ä¿¡æ”¯ä»˜ç­–ç•¥
        return "å¾®ä¿¡æ”¯ä»˜ï¼š" + amount + "å…ƒ";
    }
}
```

### 1.5 çŠ¶æ€åˆ¤æ–­ï¼šåŸºäºçŠ¶æ€çš„æ¡ä»¶åˆ†æ”¯


**ğŸ”¸ ä»€ä¹ˆæ˜¯çŠ¶æ€åˆ¤æ–­æ€ç»´ï¼Ÿ**

> **çŠ¶æ€åˆ¤æ–­**å°±æ˜¯æ ¹æ®å¯¹è±¡å½“å‰çš„çŠ¶æ€æ¥å†³å®šèƒ½åšä»€ä¹ˆæ“ä½œï¼Œå°±åƒç”µæ¢¯åœ¨ä¸åŒæ¥¼å±‚æ—¶èƒ½é€‰æ‹©çš„ç›®æ ‡æ¥¼å±‚ä¸åŒã€‚

**ğŸ’¡ çŠ¶æ€é©±åŠ¨çš„æ€ç»´**
```
çŠ¶æ€æœºæ€ç»´æ¨¡å‹ï¼š
å½“å‰çŠ¶æ€ + è§¦å‘äº‹ä»¶ â†’ æ–°çŠ¶æ€ + æ‰§è¡ŒåŠ¨ä½œ

ä¾‹å¦‚ï¼šè®¢å•çŠ¶æ€æµè½¬
å¾…æ”¯ä»˜ + æ”¯ä»˜æˆåŠŸ â†’ å¾…å‘è´§ + é€šçŸ¥ä»“åº“
å¾…å‘è´§ + å‘è´§å®Œæˆ â†’ è¿è¾“ä¸­ + æ›´æ–°ç‰©æµ
è¿è¾“ä¸­ + ç­¾æ”¶ç¡®è®¤ â†’ å·²å®Œæˆ + å‘é€è¯„ä»·é‚€è¯·
```

**ğŸ”§ çŠ¶æ€åˆ¤æ–­ç¤ºä¾‹**
```java
// è®¢å•çŠ¶æ€ç®¡ç†
public class Order {
    private String status;
    
    public String processOrder(String action) {
        // åŸºäºå½“å‰çŠ¶æ€åˆ¤æ–­èƒ½æ‰§è¡Œçš„æ“ä½œ
        switch (status) {
            case "PENDING":
                return handlePendingOrder(action);
            case "PAID":
                return handlePaidOrder(action);
            case "SHIPPED":
                return handleShippedOrder(action);
            case "DELIVERED":
                return handleDeliveredOrder(action);
            default:
                return "æœªçŸ¥çŠ¶æ€";
        }
    }
    
    private String handlePendingOrder(String action) {
        if ("PAY".equals(action)) {
            status = "PAID";
            return "æ”¯ä»˜æˆåŠŸï¼Œè®¢å•è¿›å…¥å¾…å‘è´§çŠ¶æ€";
        }
        return "å¾…æ”¯ä»˜è®¢å•åªèƒ½æ‰§è¡Œæ”¯ä»˜æ“ä½œ";
    }
    
    private String handlePaidOrder(String action) {
        if ("SHIP".equals(action)) {
            status = "SHIPPED";
            return "è®¢å•å·²å‘è´§";
        }
        return "å·²æ”¯ä»˜è®¢å•åªèƒ½æ‰§è¡Œå‘è´§æ“ä½œ";
    }
}
```

---

## 2. ğŸ”„ å¾ªç¯è¿­ä»£æ€ç»´


### 2.1 è®¡æ•°å¾ªç¯ï¼šå›ºå®šæ¬¡æ•°çš„å¾ªç¯å¤„ç†


**ğŸ”¸ ä»€ä¹ˆæ˜¯è®¡æ•°å¾ªç¯æ€ç»´ï¼Ÿ**

> **è®¡æ•°å¾ªç¯**å°±æ˜¯æ˜ç¡®çŸ¥é“è¦é‡å¤å¤šå°‘æ¬¡çš„æ“ä½œï¼Œå°±åƒåšå¹¿æ’­ä½“æ“â€”â€”æ¯ä¸ªåŠ¨ä½œé‡å¤8æ‹ï¼Œæ€»å…±åš3éã€‚

**ğŸ’¡ è®¡æ•°å¾ªç¯çš„æ ¸å¿ƒè¦ç´ **
```
è®¡æ•°å¾ªç¯ä¸‰è¦ç´ ï¼š
1. èµ·å§‹å€¼ï¼šä»å“ªä¸ªæ•°å¼€å§‹
2. ç»“æŸæ¡ä»¶ï¼šå¾ªç¯åˆ°ä»€ä¹ˆæ—¶å€™åœæ­¢  
3. æ­¥é•¿ï¼šæ¯æ¬¡å¢åŠ å¤šå°‘
```

**ğŸ”§ åŸºç¡€è®¡æ•°å¾ªç¯**
```java
// æ‰“å°ä¹˜æ³•è¡¨
public void printMultiplicationTable() {
    // å¤–å±‚å¾ªç¯ï¼šæ§åˆ¶è¢«ä¹˜æ•°ï¼ˆ1-9ï¼‰
    for (int i = 1; i <= 9; i++) {
        // å†…å±‚å¾ªç¯ï¼šæ§åˆ¶ä¹˜æ•°ï¼ˆ1åˆ°å½“å‰è¢«ä¹˜æ•°ï¼‰
        for (int j = 1; j <= i; j++) {
            System.out.print(j + "Ã—" + i + "=" + (i*j) + "\t");
        }
        System.out.println(); // æ¢è¡Œ
    }
}
```

**ğŸ“Š å¸¸è§è®¡æ•°å¾ªç¯åœºæ™¯**

| **åº”ç”¨åœºæ™¯** | **å¾ªç¯æ¬¡æ•°** | **å…¸å‹ç”¨æ³•** |
|-------------|-------------|-------------|
| **æ•°ç»„å¤„ç†** | `æ•°ç»„é•¿åº¦` | `for(int i=0; i<arr.length; i++)` |
| **æ‰¹é‡åˆ›å»º** | `éœ€è¦çš„æ•°é‡` | `for(int i=0; i<count; i++)` |
| **åˆ†é¡µå¤„ç†** | `æ€»é¡µæ•°` | `for(int page=1; page<=totalPages; page++)` |
| **é‡è¯•æ“ä½œ** | `æœ€å¤§é‡è¯•æ¬¡æ•°` | `for(int retry=0; retry<maxRetry; retry++)` |

### 2.2 æ¡ä»¶å¾ªç¯ï¼šåŸºäºæ¡ä»¶çš„å¾ªç¯æ§åˆ¶


**ğŸ”¸ ä»€ä¹ˆæ˜¯æ¡ä»¶å¾ªç¯æ€ç»´ï¼Ÿ**

> **æ¡ä»¶å¾ªç¯**å°±æ˜¯ä¸çŸ¥é“å…·ä½“è¦é‡å¤å¤šå°‘æ¬¡ï¼Œä½†çŸ¥é“ä»€ä¹ˆæ—¶å€™åº”è¯¥åœæ­¢ï¼Œå°±åƒæ’é˜Ÿä¹°ç¥¨â€”â€”ä¸çŸ¥é“è¦ç­‰å¤šä¹…ï¼Œä½†çŸ¥é“è½®åˆ°è‡ªå·±å°±åœæ­¢æ’é˜Ÿã€‚

**ğŸ’¡ æ¡ä»¶å¾ªç¯çš„ä¸¤ç§å½¢å¼**
```
å…ˆåˆ¤æ–­å†æ‰§è¡Œï¼ˆwhileï¼‰ï¼š
while (æ¡ä»¶ä¸ºçœŸ) {
    æ‰§è¡Œæ“ä½œ
}

å…ˆæ‰§è¡Œå†åˆ¤æ–­ï¼ˆdo-whileï¼‰ï¼š
do {
    æ‰§è¡Œæ“ä½œ  
} while (æ¡ä»¶ä¸ºçœŸ);
```

**ğŸ”§ æ¡ä»¶å¾ªç¯ç¤ºä¾‹**
```java
// ç”¨æˆ·è¾“å…¥éªŒè¯ - ç›´åˆ°è¾“å…¥æ­£ç¡®ä¸ºæ­¢
public int getUserInput() {
    Scanner scanner = new Scanner(System.in);
    int number;
    
    // æ¡ä»¶å¾ªç¯ï¼šç›´åˆ°è¾“å…¥æœ‰æ•ˆæ•°å­—
    while (true) {
        System.out.print("è¯·è¾“å…¥1-100ä¹‹é—´çš„æ•°å­—ï¼š");
        number = scanner.nextInt();
        
        if (number >= 1 && number <= 100) {
            break; // è¾“å…¥æœ‰æ•ˆï¼Œè·³å‡ºå¾ªç¯
        }
        
        System.out.println("è¾“å…¥æ— æ•ˆï¼Œè¯·é‡æ–°è¾“å…¥ï¼");
    }
    
    return number;
}
```

**ğŸ¯ while vs do-while é€‰æ‹©æŒ‡å—**

| **å¾ªç¯ç±»å‹** | **ç‰¹ç‚¹** | **é€‚ç”¨åœºæ™¯** |
|-------------|---------|-------------|
| **while** | `å…ˆæ£€æŸ¥æ¡ä»¶` | `å¯èƒ½ä¸€æ¬¡éƒ½ä¸æ‰§è¡Œçš„åœºæ™¯` |
| **do-while** | `è‡³å°‘æ‰§è¡Œä¸€æ¬¡` | `å¿…é¡»å…ˆæ‰§è¡Œä¸€æ¬¡çš„åœºæ™¯` |

### 2.3 é›†åˆéå†ï¼šæ•°æ®é›†åˆçš„éå†å¤„ç†


**ğŸ”¸ ä»€ä¹ˆæ˜¯é›†åˆéå†æ€ç»´ï¼Ÿ**

> **é›†åˆéå†**å°±æ˜¯å¯¹ä¸€å †æ•°æ®é€ä¸ªè¿›è¡Œå¤„ç†ï¼Œå°±åƒè€å¸ˆç‚¹åâ€”â€”æŠŠç­çº§åå•ä»å¤´åˆ°å°¾è¯»ä¸€éï¼Œç¡®ä¿æ¯ä¸ªå­¦ç”Ÿéƒ½è¢«ç‚¹åˆ°ã€‚

**ğŸ’¡ éå†æ€ç»´çš„æ ¸å¿ƒ**
```
éå†å¤„ç†æ¨¡å¼ï¼š
å–å‡ºå…ƒç´  â†’ å¤„ç†å…ƒç´  â†’ å–ä¸‹ä¸€ä¸ªå…ƒç´  â†’ é‡å¤ç›´åˆ°ç»“æŸ
```

**ğŸ”§ ä¸åŒéå†æ–¹å¼å¯¹æ¯”**
```java
import java.util.*;

public class TraversalDemo {
    
    public void demonstrateTraversal() {
        List<String> fruits = Arrays.asList("è‹¹æœ", "é¦™è•‰", "æ©™å­", "è‘¡è„");
        
        // æ–¹å¼1ï¼šä¼ ç»Ÿforå¾ªç¯ï¼ˆé€‚åˆéœ€è¦ç´¢å¼•çš„åœºæ™¯ï¼‰
        System.out.println("=== ä¼ ç»Ÿforå¾ªç¯ ===");
        for (int i = 0; i < fruits.size(); i++) {
            System.out.println("ç¬¬" + (i+1) + "ä¸ªæ°´æœï¼š" + fruits.get(i));
        }
        
        // æ–¹å¼2ï¼šå¢å¼ºforå¾ªç¯ï¼ˆä»£ç æœ€ç®€æ´ï¼‰
        System.out.println("=== å¢å¼ºforå¾ªç¯ ===");
        for (String fruit : fruits) {
            System.out.println("æ°´æœï¼š" + fruit);
        }
        
        // æ–¹å¼3ï¼šè¿­ä»£å™¨ï¼ˆæœ€çµæ´»ï¼Œæ”¯æŒå®‰å…¨åˆ é™¤ï¼‰
        System.out.println("=== è¿­ä»£å™¨éå† ===");
        Iterator<String> iterator = fruits.iterator();
        while (iterator.hasNext()) {
            String fruit = iterator.next();
            System.out.println("æ°´æœï¼š" + fruit);
        }
    }
}
```

**ğŸ“Š éå†æ–¹å¼é€‰æ‹©æŒ‡å—**

| **éå†æ–¹å¼** | **ä¼˜åŠ¿** | **é€‚ç”¨åœºæ™¯** |
|-------------|---------|-------------|
| **ä¼ ç»Ÿfor** | `å¯è·å–ç´¢å¼•ä½ç½®` | `éœ€è¦çŸ¥é“å…ƒç´ ä½ç½®` |
| **å¢å¼ºfor** | `ä»£ç ç®€æ´æ˜“è¯»` | `åªéœ€è¦å…ƒç´ å€¼` |
| **è¿­ä»£å™¨** | `æ”¯æŒå®‰å…¨åˆ é™¤` | `éå†æ—¶å¯èƒ½ä¿®æ”¹é›†åˆ` |
| **Streamæµ** | `æ”¯æŒé“¾å¼æ“ä½œ` | `å¤æ‚æ•°æ®å¤„ç†` |

### 2.4 é€’å½’å¾ªç¯ï¼šé€’å½’è°ƒç”¨çš„å¾ªç¯é€»è¾‘


**ğŸ”¸ ä»€ä¹ˆæ˜¯é€’å½’å¾ªç¯æ€ç»´ï¼Ÿ**

> **é€’å½’å¾ªç¯**å°±æ˜¯å‡½æ•°è°ƒç”¨è‡ªå·±æ¥è§£å†³é—®é¢˜ï¼Œå°±åƒä¿„ç½—æ–¯å¥—å¨ƒâ€”â€”å¤§å¨ƒå¨ƒé‡Œå¥—ç€å°å¨ƒå¨ƒï¼Œå°å¨ƒå¨ƒé‡Œè¿˜å¥—ç€æ›´å°çš„å¨ƒå¨ƒï¼Œç›´åˆ°æœ€å°çš„é‚£ä¸ªã€‚

**ğŸ’¡ é€’å½’æ€ç»´çš„æ ¸å¿ƒè¦ç´ **
```
é€’å½’ä¸‰è¦ç´ ï¼š
1. é€’å½’å‡ºå£ï¼šä»€ä¹ˆæ—¶å€™åœæ­¢è°ƒç”¨è‡ªå·±
2. é€’å½’è°ƒç”¨ï¼šå¦‚ä½•è°ƒç”¨è‡ªå·±
3. é—®é¢˜åˆ†è§£ï¼šå¦‚ä½•æŠŠå¤§é—®é¢˜å˜æˆå°é—®é¢˜
```

**ğŸ”§ é€’å½’ç¤ºä¾‹ï¼šè®¡ç®—é˜¶ä¹˜**
```java
// é€’å½’è®¡ç®—é˜¶ä¹˜
public int factorial(int n) {
    // é€’å½’å‡ºå£ï¼šå½“nä¸º0æˆ–1æ—¶ï¼Œé˜¶ä¹˜ä¸º1
    if (n <= 1) {
        return 1;
    }
    
    // é€’å½’è°ƒç”¨ï¼šnçš„é˜¶ä¹˜ = n Ã— (n-1)çš„é˜¶ä¹˜
    return n * factorial(n - 1);
}

// è°ƒç”¨è¿‡ç¨‹æ¼”ç¤ºï¼š
// factorial(5) = 5 Ã— factorial(4)
// factorial(4) = 4 Ã— factorial(3)  
// factorial(3) = 3 Ã— factorial(2)
// factorial(2) = 2 Ã— factorial(1)
// factorial(1) = 1ï¼ˆé€’å½’å‡ºå£ï¼‰
// ç»“æœï¼š5 Ã— 4 Ã— 3 Ã— 2 Ã— 1 = 120
```

**ğŸ¯ é€’å½’ vs å¾ªç¯ å¯¹æ¯”**

| **ç‰¹ç‚¹** | **é€’å½’** | **å¾ªç¯** |
|---------|---------|---------|
| **ä»£ç å¤æ‚åº¦** | `é€»è¾‘ç®€æ´` | `éœ€è¦æ‰‹åŠ¨ç®¡ç†çŠ¶æ€` |
| **å†…å­˜æ¶ˆè€—** | `å ç”¨æ ˆç©ºé—´` | `å ç”¨è¾ƒå°‘å†…å­˜` |
| **æ‰§è¡Œæ•ˆç‡** | `å‡½æ•°è°ƒç”¨å¼€é”€` | `æ‰§è¡Œæ•ˆç‡æ›´é«˜` |
| **é€‚ç”¨åœºæ™¯** | `æ ‘å½¢ç»“æ„ã€åˆ†æ²»é—®é¢˜` | `ç®€å•é‡å¤æ“ä½œ` |

### 2.5 æ‰¹å¤„ç†å¾ªç¯ï¼šå¤§æ•°æ®çš„åˆ†æ‰¹å¤„ç†


**ğŸ”¸ ä»€ä¹ˆæ˜¯æ‰¹å¤„ç†å¾ªç¯æ€ç»´ï¼Ÿ**

> **æ‰¹å¤„ç†å¾ªç¯**å°±æ˜¯æŠŠå¤§é‡æ•°æ®åˆ†æˆå°ä»½æ¥å¤„ç†ï¼Œå°±åƒæ¬å®¶æ—¶ä¸èƒ½ä¸€æ¬¡æ¬å®Œæ‰€æœ‰ä¸œè¥¿ï¼Œéœ€è¦åˆ†æ‰¹æ¬¡å¤šæ¬¡è¿è¾“ã€‚

**ğŸ’¡ æ‰¹å¤„ç†çš„æ ¸å¿ƒæ€æƒ³**
```
æ‰¹å¤„ç†ç­–ç•¥ï¼š
å¤§æ•°æ®é›† â†’ åˆ†å‰²æˆå°æ‰¹æ¬¡ â†’ é€æ‰¹å¤„ç† â†’ åˆå¹¶ç»“æœ
```

**ğŸ”§ æ‰¹å¤„ç†å®ç°ç¤ºä¾‹**
```java
// å¤§æ•°æ®æ‰¹å¤„ç†
public class BatchProcessor {
    private static final int BATCH_SIZE = 1000; // æ¯æ‰¹å¤„ç†1000æ¡
    
    public void processBigData(List<String> allData) {
        int totalSize = allData.size();
        int processedCount = 0;
        
        // åˆ†æ‰¹å¤„ç†å¾ªç¯
        for (int start = 0; start < totalSize; start += BATCH_SIZE) {
            // è®¡ç®—å½“å‰æ‰¹æ¬¡çš„ç»“æŸä½ç½®
            int end = Math.min(start + BATCH_SIZE, totalSize);
            
            // è·å–å½“å‰æ‰¹æ¬¡çš„æ•°æ®
            List<String> batch = allData.subList(start, end);
            
            // å¤„ç†å½“å‰æ‰¹æ¬¡
            processBatch(batch);
            
            // æ›´æ–°è¿›åº¦
            processedCount += batch.size();
            System.out.println("å·²å¤„ç†ï¼š" + processedCount + "/" + totalSize);
            
            // æ‰¹æ¬¡é—´ä¼‘æ¯ï¼Œé¿å…ç³»ç»Ÿè¿‡è½½
            try {
                Thread.sleep(100); // ä¼‘æ¯100æ¯«ç§’
            } catch (InterruptedException e) {
                Thread.currentThread().interrupt();
                break;
            }
        }
    }
    
    private void processBatch(List<String> batch) {
        // å¤„ç†ä¸€ä¸ªæ‰¹æ¬¡çš„æ•°æ®
        for (String data : batch) {
            // å…·ä½“çš„ä¸šåŠ¡å¤„ç†é€»è¾‘
            processOneRecord(data);
        }
    }
    
    private void processOneRecord(String data) {
        // å¤„ç†å•æ¡è®°å½•
        System.out.println("å¤„ç†æ•°æ®ï¼š" + data);
    }
}
```

**ğŸ“Š æ‰¹å¤„ç†çš„ä¼˜åŠ¿**

| **ä¼˜åŠ¿** | **è¯´æ˜** | **åº”ç”¨åœºæ™¯** |
|---------|---------|-------------|
| **å†…å­˜æ§åˆ¶** | `é¿å…å†…å­˜æº¢å‡º` | `å¤„ç†å¤§æ–‡ä»¶ã€å¤§æ•°æ®é›†` |
| **è¿›åº¦å¯è§** | `å®æ—¶æ˜¾ç¤ºå¤„ç†è¿›åº¦` | `é•¿æ—¶é—´è¿è¡Œçš„ä»»åŠ¡` |
| **å¯ä¸­æ–­æ¢å¤** | `æ”¯æŒæš‚åœå’Œç»§ç»­` | `å®¹é”™è¦æ±‚é«˜çš„åœºæ™¯` |
| **ç³»ç»Ÿå‹å¥½** | `ä¸ä¼šå æ»¡ç³»ç»Ÿèµ„æº` | `åå°æ‰¹é‡å¤„ç†ä»»åŠ¡` |

---

## 3. ğŸ® æµç¨‹æ§åˆ¶æ€ç»´


### 3.1 æ­£å¸¸æµç¨‹ï¼šHappy Pathçš„è®¾è®¡


**ğŸ”¸ ä»€ä¹ˆæ˜¯Happy Pathï¼Ÿ**

> **Happy Pathï¼ˆå¿«ä¹è·¯å¾„ï¼‰**å°±æ˜¯ä¸€åˆ‡éƒ½æŒ‰ç…§é¢„æœŸè¿›è¡Œçš„ç†æƒ³æµç¨‹ï¼Œå°±åƒç½‘è´­æ—¶ï¼šé€‰å•†å“â†’åŠ è´­ç‰©è½¦â†’æ”¯ä»˜â†’æ”¶è´§â†’å¥½è¯„ï¼Œæ¯ä¸€æ­¥éƒ½é¡ºåˆ©å®Œæˆã€‚

**ğŸ’¡ Happy Path è®¾è®¡åŸåˆ™**
```
Happy Path è®¾è®¡æ€ç»´ï¼š
1. å‡è®¾ç”¨æˆ·è¾“å…¥éƒ½æ˜¯æ­£ç¡®çš„
2. å‡è®¾ç³»ç»Ÿè¿è¡Œéƒ½æ˜¯æ­£å¸¸çš„  
3. å‡è®¾å¤–éƒ¨ä¾èµ–éƒ½æ˜¯å¯ç”¨çš„
4. ä¸“æ³¨äºæ ¸å¿ƒä¸šåŠ¡é€»è¾‘å®ç°
```

**ğŸ”§ Happy Path ç¤ºä¾‹**
```java
// ç”¨æˆ·æ³¨å†Œçš„Happy Pathæµç¨‹
public class UserRegistration {
    
    public String registerUser(String username, String email, String password) {
        // Happy Pathï¼šå‡è®¾æ‰€æœ‰è¾“å…¥éƒ½åˆæ³•ï¼Œæ‰€æœ‰æ“ä½œéƒ½æˆåŠŸ
        
        // æ­¥éª¤1ï¼šåˆ›å»ºç”¨æˆ·å¯¹è±¡
        User newUser = new User(username, email, password);
        
        // æ­¥éª¤2ï¼šä¿å­˜åˆ°æ•°æ®åº“
        userDatabase.save(newUser);
        
        // æ­¥éª¤3ï¼šå‘é€æ¬¢è¿é‚®ä»¶
        emailService.sendWelcomeEmail(email);
        
        // æ­¥éª¤4ï¼šè¿”å›æˆåŠŸæ¶ˆæ¯
        return "æ³¨å†ŒæˆåŠŸï¼æ¬¢è¿åŠ å…¥æˆ‘ä»¬ï¼";
    }
}
```

**ğŸ¯ Happy Path çš„ä»·å€¼**
- **å¿«é€ŸåŸå‹**ï¼šå…ˆå®ç°æ ¸å¿ƒåŠŸèƒ½ï¼ŒéªŒè¯ä¸šåŠ¡é€»è¾‘
- **ç†æ¸…æ€è·¯**ï¼šæ˜ç¡®æ­£å¸¸æƒ…å†µä¸‹çš„å¤„ç†æµç¨‹
- **å›¢é˜Ÿæ²Ÿé€š**ï¼šä¾¿äºå’Œäº§å“ç»ç†ç¡®è®¤éœ€æ±‚
- **æµ‹è¯•åŸºç¡€**ï¼šä¸ºåç»­å¼‚å¸¸å¤„ç†æä¾›åŸºå‡†

### 3.2 å¼‚å¸¸æµç¨‹ï¼šException Pathçš„å¤„ç†


**ğŸ”¸ ä»€ä¹ˆæ˜¯Exception Pathï¼Ÿ**

> **Exception Pathï¼ˆå¼‚å¸¸è·¯å¾„ï¼‰**å°±æ˜¯å½“äº‹æƒ…ä¸æŒ‰é¢„æœŸè¿›è¡Œæ—¶çš„å¤„ç†æ–¹å¼ï¼Œå°±åƒç½‘è´­æ—¶é‡åˆ°å•†å“ç¼ºè´§ã€æ”¯ä»˜å¤±è´¥ã€ç‰©æµå»¶è¯¯ç­‰é—®é¢˜çš„åº”å¯¹ç­–ç•¥ã€‚

**ğŸ’¡ å¼‚å¸¸å¤„ç†æ€ç»´å±‚æ¬¡**
```
å¼‚å¸¸å¤„ç†é‡‘å­—å¡”ï¼š

                 ç³»ç»Ÿçº§å¼‚å¸¸
                /           \
        ä¸šåŠ¡é€»è¾‘å¼‚å¸¸      æ•°æ®å¼‚å¸¸  
       /        |        \      \
   å‚æ•°å¼‚å¸¸   çŠ¶æ€å¼‚å¸¸   æƒé™å¼‚å¸¸  æ ¼å¼å¼‚å¸¸
```

**ğŸ”§ å¼‚å¸¸å¤„ç†ç¤ºä¾‹**
```java
// å®Œå–„çš„ç”¨æˆ·æ³¨å†Œæµç¨‹ï¼ˆåŒ…å«å¼‚å¸¸å¤„ç†ï¼‰
public class RobustUserRegistration {
    
    public RegistrationResult registerUser(String username, String email, String password) {
        try {
            // å‚æ•°éªŒè¯å¼‚å¸¸
            validateInput(username, email, password);
            
            // ä¸šåŠ¡é€»è¾‘å¼‚å¸¸  
            checkUserNotExists(username, email);
            
            // æ‰§è¡ŒHappy Path
            User newUser = new User(username, email, password);
            userDatabase.save(newUser);
            emailService.sendWelcomeEmail(email);
            
            return new RegistrationResult(true, "æ³¨å†ŒæˆåŠŸï¼");
            
        } catch (InvalidInputException e) {
            return new RegistrationResult(false, "è¾“å…¥ä¿¡æ¯æœ‰è¯¯ï¼š" + e.getMessage());
        } catch (UserAlreadyExistsException e) {
            return new RegistrationResult(false, "ç”¨æˆ·å·²å­˜åœ¨ï¼š" + e.getMessage());
        } catch (DatabaseException e) {
            return new RegistrationResult(false, "ç³»ç»Ÿç¹å¿™ï¼Œè¯·ç¨åé‡è¯•");
        } catch (EmailException e) {
            // é‚®ä»¶å¤±è´¥ä¸å½±å“æ³¨å†ŒæˆåŠŸ
            logError("é‚®ä»¶å‘é€å¤±è´¥", e);
            return new RegistrationResult(true, "æ³¨å†ŒæˆåŠŸï¼æ¬¢è¿é‚®ä»¶å‘é€ä¸­...");
        }
    }
    
    private void validateInput(String username, String email, String password) 
            throws InvalidInputException {
        if (username == null || username.length() < 3) {
            throw new InvalidInputException("ç”¨æˆ·åè‡³å°‘3ä¸ªå­—ç¬¦");
        }
        if (!isValidEmail(email)) {
            throw new InvalidInputException("é‚®ç®±æ ¼å¼ä¸æ­£ç¡®");
        }
        if (password.length() < 6) {
            throw new InvalidInputException("å¯†ç è‡³å°‘6ä¸ªå­—ç¬¦");
        }
    }
}
```

**ğŸ“Š å¼‚å¸¸å¤„ç†ç­–ç•¥**

| **å¼‚å¸¸ç±»å‹** | **å¤„ç†ç­–ç•¥** | **ç”¨æˆ·ä½“éªŒ** |
|-------------|-------------|-------------|
| **å‚æ•°é”™è¯¯** | `ç«‹å³æç¤ºï¼Œè¦æ±‚é‡æ–°è¾“å…¥` | `å‹å¥½çš„é”™è¯¯æç¤º` |
| **ä¸šåŠ¡å†²çª** | `ç»™å‡ºå…·ä½“åŸå› å’Œå»ºè®®` | `æ˜ç¡®çš„è§£å†³æ–¹æ¡ˆ` |
| **ç³»ç»Ÿæ•…éšœ** | `è®°å½•æ—¥å¿—ï¼Œæ˜¾ç¤ºé€šç”¨é”™è¯¯` | `ä¸æš´éœ²æŠ€æœ¯ç»†èŠ‚` |
| **ç½‘ç»œè¶…æ—¶** | `è‡ªåŠ¨é‡è¯•æˆ–æç¤ºé‡è¯•` | `å‡å°‘ç”¨æˆ·æ“ä½œ` |

### 3.3 è¾¹ç•Œå¤„ç†ï¼šè¾¹ç•Œæ¡ä»¶çš„ç‰¹æ®Šå¤„ç†


**ğŸ”¸ ä»€ä¹ˆæ˜¯è¾¹ç•Œå¤„ç†ï¼Ÿ**

> **è¾¹ç•Œå¤„ç†**å°±æ˜¯å¤„ç†æç«¯æƒ…å†µå’Œä¸´ç•Œå€¼ï¼Œå°±åƒè®¾è®¡ç”µæ¢¯æ—¶è¦è€ƒè™‘è¶…é‡ã€åœç”µã€é—¨å¤¹äººç­‰è¾¹ç•Œæƒ…å†µã€‚

**ğŸ’¡ å¸¸è§è¾¹ç•Œæƒ…å†µ**
```
è¾¹ç•Œæƒ…å†µåˆ†ç±»ï¼š
1. æ•°å€¼è¾¹ç•Œï¼šæœ€å¤§å€¼ã€æœ€å°å€¼ã€é›¶å€¼ã€è´Ÿæ•°
2. é›†åˆè¾¹ç•Œï¼šç©ºé›†åˆã€å•å…ƒç´ ã€æ»¡å®¹é‡
3. å­—ç¬¦ä¸²è¾¹ç•Œï¼šç©ºå­—ç¬¦ä¸²ã€è¶…é•¿å­—ç¬¦ä¸²ã€ç‰¹æ®Šå­—ç¬¦
4. æ—¶é—´è¾¹ç•Œï¼šè¿‡å»æ—¶é—´ã€æœªæ¥æ—¶é—´ã€æ—¶åŒºé—®é¢˜
```

**ğŸ”§ è¾¹ç•Œå¤„ç†ç¤ºä¾‹**
```java
// æ•°ç»„å®‰å…¨è®¿é—®
public class SafeArrayAccess {
    
    public String getElementSafely(String[] array, int index) {
        // è¾¹ç•Œæ£€æŸ¥1ï¼šæ•°ç»„ä¸ºç©º
        if (array == null) {
            return "æ•°ç»„ä¸å­˜åœ¨";
        }
        
        // è¾¹ç•Œæ£€æŸ¥2ï¼šæ•°ç»„é•¿åº¦ä¸º0
        if (array.length == 0) {
            return "æ•°ç»„ä¸ºç©º";
        }
        
        // è¾¹ç•Œæ£€æŸ¥3ï¼šç´¢å¼•è¶Šç•Œ
        if (index < 0) {
            return "ç´¢å¼•ä¸èƒ½ä¸ºè´Ÿæ•°";
        }
        
        if (index >= array.length) {
            return "ç´¢å¼•è¶…å‡ºæ•°ç»„èŒƒå›´";
        }
        
        // è¾¹ç•Œæ£€æŸ¥4ï¼šå…ƒç´ ä¸ºnull
        String element = array[index];
        if (element == null) {
            return "å…ƒç´ ä¸ºç©º";
        }
        
        return element;
    }
}
```

**ğŸ¯ è¾¹ç•Œå¤„ç†æœ€ä½³å®è·µ**

| **åŸåˆ™** | **è¯´æ˜** | **ç¤ºä¾‹** |
|---------|---------|---------|
| **é˜²å¾¡æ€§ç¼–ç¨‹** | `å‡è®¾è¾“å…¥éƒ½å¯èƒ½æœ‰é—®é¢˜` | `æ£€æŸ¥nullå€¼ã€èŒƒå›´éªŒè¯` |
| **ä¼˜é›…é™çº§** | `è¾¹ç•Œæƒ…å†µä¸‹æä¾›åˆç†é»˜è®¤å€¼` | `ç©ºåˆ—è¡¨è¿”å›ç©ºæ•°ç»„è€Œénull` |
| **æ˜ç¡®æç¤º** | `è¾¹ç•Œé”™è¯¯è¦ç»™å‡ºæ¸…æ™°è¯´æ˜` | `"ç´¢å¼•5è¶…å‡ºæ•°ç»„é•¿åº¦3"` |
| **è®°å½•æ—¥å¿—** | `è¾¹ç•Œå¼‚å¸¸è¦è®°å½•è¯¦ç»†ä¿¡æ¯` | `è®°å½•å‚æ•°å€¼å’Œè°ƒç”¨æ ˆ` |

### 3.4 é‡è¯•æœºåˆ¶ï¼šå¤±è´¥é‡è¯•çš„æ§åˆ¶ç­–ç•¥


**ğŸ”¸ ä»€ä¹ˆæ˜¯é‡è¯•æœºåˆ¶ï¼Ÿ**

> **é‡è¯•æœºåˆ¶**å°±æ˜¯å½“æ“ä½œå¤±è´¥æ—¶ä¸ç«‹å³æ”¾å¼ƒï¼Œè€Œæ˜¯å†å°è¯•å‡ æ¬¡ï¼Œå°±åƒæ‰“ç”µè¯æ—¶é‡åˆ°å¿™éŸ³ä¼šå†æ‹¨å‡ æ¬¡ã€‚

**ğŸ’¡ é‡è¯•ç­–ç•¥ç±»å‹**
```
é‡è¯•ç­–ç•¥åˆ†ç±»ï¼š
1. ç«‹å³é‡è¯•ï¼šå¤±è´¥åç«‹å³å†æ¬¡å°è¯•
2. å›ºå®šå»¶è¿Ÿï¼šç­‰å¾…å›ºå®šæ—¶é—´åé‡è¯•  
3. æŒ‡æ•°é€€é¿ï¼šé‡è¯•é—´éš”é€æ¸å¢åŠ 
4. éšæœºå»¶è¿Ÿï¼šæ·»åŠ éšæœºå› ç´ é¿å…é›ªå´©
```

**ğŸ”§ é‡è¯•æœºåˆ¶å®ç°**
```java
// ç½‘ç»œè¯·æ±‚é‡è¯•æœºåˆ¶
public class RetryableHttpClient {
    private static final int MAX_RETRY = 3;
    private static final long BASE_DELAY = 1000; // 1ç§’åŸºç¡€å»¶è¿Ÿ
    
    public String makeRequest(String url) {
        int retryCount = 0;
        
        while (retryCount <= MAX_RETRY) {
            try {
                // å°è¯•å‘èµ·ç½‘ç»œè¯·æ±‚
                return httpClient.get(url);
                
            } catch (NetworkException e) {
                retryCount++;
                
                if (retryCount > MAX_RETRY) {
                    throw new RuntimeException("é‡è¯•" + MAX_RETRY + "æ¬¡åä»ç„¶å¤±è´¥", e);
                }
                
                // æŒ‡æ•°é€€é¿å»¶è¿Ÿï¼š1ç§’ã€2ç§’ã€4ç§’
                long delay = BASE_DELAY * (1L << (retryCount - 1));
                
                System.out.println("ç¬¬" + retryCount + "æ¬¡é‡è¯•ï¼Œ" + delay + "msåé‡è¯•");
                
                try {
                    Thread.sleep(delay);
                } catch (InterruptedException ie) {
                    Thread.currentThread().interrupt();
                    throw new RuntimeException("é‡è¯•è¢«ä¸­æ–­", ie);
                }
            }
        }
        
        return null; // ä¸ä¼šæ‰§è¡Œåˆ°è¿™é‡Œ
    }
}
```

**ğŸ“Š é‡è¯•åœºæ™¯ä¸ç­–ç•¥**

| **åœºæ™¯** | **é‡è¯•ç­–ç•¥** | **åŸå› ** |
|---------|-------------|---------|
| **ç½‘ç»œè¯·æ±‚** | `æŒ‡æ•°é€€é¿` | `é¿å…ç½‘ç»œæ‹¥å µåŠ å‰§` |
| **æ•°æ®åº“è¿æ¥** | `å›ºå®šå»¶è¿Ÿ` | `ç­‰å¾…è¿æ¥æ± é‡Šæ”¾` |
| **æ–‡ä»¶æ“ä½œ** | `ç«‹å³é‡è¯•` | `æ–‡ä»¶é”å¯èƒ½å¾ˆå¿«é‡Šæ”¾` |
| **ç¬¬ä¸‰æ–¹API** | `éšæœºå»¶è¿Ÿ` | `é¿å…åŒæ—¶é‡è¯•é€ æˆå‹åŠ›` |

### 3.5 ç†”æ–­é™çº§ï¼šæ•…éšœæ—¶çš„æµç¨‹æ§åˆ¶


**ğŸ”¸ ä»€ä¹ˆæ˜¯ç†”æ–­é™çº§ï¼Ÿ**

> **ç†”æ–­é™çº§**å°±æ˜¯å½“ç³»ç»ŸæŸéƒ¨åˆ†å‡ºç°æ•…éšœæ—¶ï¼Œè‡ªåŠ¨åˆ‡æ–­æ•…éšœéƒ¨åˆ†ï¼Œå¯ç”¨å¤‡ç”¨æ–¹æ¡ˆï¼Œå°±åƒå®¶é‡Œä¿é™©ä¸è·³é—¸ä¿æŠ¤æ•´ä¸ªç”µè·¯ç³»ç»Ÿã€‚

**ğŸ’¡ ç†”æ–­é™çº§çš„æ ¸å¿ƒæ¦‚å¿µ**
```
ç†”æ–­å™¨çŠ¶æ€æœºï¼š

å…³é—­çŠ¶æ€ â”€â”€[å¤±è´¥ç‡è¿‡é«˜]â”€â”€> å¼€å¯çŠ¶æ€
    â†‘                        â†“
    â””â”€[æˆåŠŸç‡æ¢å¤]â”€ åŠå¼€çŠ¶æ€ â†â”˜
                    â†“
               [æµ‹è¯•æˆåŠŸ/å¤±è´¥]
```

**ğŸ”§ ç†”æ–­é™çº§ç¤ºä¾‹**
```java
// ç®€å•çš„ç†”æ–­å™¨å®ç°
public class SimpleCircuitBreaker {
    private enum State { CLOSED, OPEN, HALF_OPEN }
    
    private State state = State.CLOSED;
    private int failureCount = 0;
    private long lastFailureTime = 0;
    
    private static final int FAILURE_THRESHOLD = 5;     // å¤±è´¥é˜ˆå€¼
    private static final long TIMEOUT = 60000;          // ç†”æ–­è¶…æ—¶æ—¶é—´ï¼ˆ1åˆ†é’Ÿï¼‰
    
    public String callService(String request) {
        // æ£€æŸ¥ç†”æ–­å™¨çŠ¶æ€
        if (state == State.OPEN) {
            if (System.currentTimeMillis() - lastFailureTime > TIMEOUT) {
                state = State.HALF_OPEN; // è¿›å…¥åŠå¼€çŠ¶æ€å°è¯•æ¢å¤
            } else {
                return getFallbackResponse(request); // ç›´æ¥è¿”å›é™çº§å“åº”
            }
        }
        
        try {
            // å°è¯•è°ƒç”¨åŸå§‹æœåŠ¡
            String response = originalService.call(request);
            onSuccess(); // è°ƒç”¨æˆåŠŸå¤„ç†
            return response;
            
        } catch (ServiceException e) {
            onFailure(); // è°ƒç”¨å¤±è´¥å¤„ç†
            return getFallbackResponse(request);
        }
    }
    
    private void onSuccess() {
        failureCount = 0;        // é‡ç½®å¤±è´¥è®¡æ•°
        state = State.CLOSED;    // æ¢å¤åˆ°å…³é—­çŠ¶æ€
    }
    
    private void onFailure() {
        failureCount++;
        lastFailureTime = System.currentTimeMillis();
        
        if (failureCount >= FAILURE_THRESHOLD) {
            state = State.OPEN;  // è§¦å‘ç†”æ–­
            System.out.println("ç†”æ–­å™¨å¼€å¯ï¼ŒæœåŠ¡è¿›å…¥é™çº§æ¨¡å¼");
        }
    }
    
    private String getFallbackResponse(String request) {
        // é™çº§å“åº”ç­–ç•¥
        return "ç³»ç»Ÿç¹å¿™ï¼Œè¯·ç¨åé‡è¯•ï¼ˆé™çº§å“åº”ï¼‰";
    }
}
```

**ğŸ¯ é™çº§ç­–ç•¥ç±»å‹**

| **é™çº§ç­–ç•¥** | **é€‚ç”¨åœºæ™¯** | **ç¤ºä¾‹** |
|-------------|-------------|---------|
| **é™æ€å“åº”** | `éå…³é”®åŠŸèƒ½` | `è¿”å›é»˜è®¤å€¼æˆ–ç¼“å­˜æ•°æ®` |
| **åŠŸèƒ½ç®€åŒ–** | `æ ¸å¿ƒåŠŸèƒ½ä¿ç•™` | `åªæä¾›åŸºç¡€åŠŸèƒ½ï¼Œå…³é—­é«˜çº§ç‰¹æ€§` |
| **æœåŠ¡åˆ‡æ¢** | `æœ‰å¤‡ç”¨æœåŠ¡` | `åˆ‡æ¢åˆ°å¤‡ç”¨æœåŠ¡æˆ–ç¼“å­˜æœåŠ¡` |
| **ç”¨æˆ·æç¤º** | `ç”¨æˆ·æ„ŸçŸ¥åœºæ™¯` | `å‹å¥½æç¤ºç”¨æˆ·ç¨åé‡è¯•` |

---

## 4. ğŸ¯ å®é™…åº”ç”¨åœºæ™¯


### 4.1 ç”µå•†ç³»ç»Ÿä¸­çš„æ¡ä»¶ä¸å¾ªç¯


**ğŸ›’ å•†å“æ¨èç³»ç»Ÿ**
```java
// ç”µå•†å•†å“æ¨èé€»è¾‘
public class ProductRecommendation {
    
    public List<Product> getRecommendations(User user) {
        List<Product> recommendations = new ArrayList<>();
        
        // æ¡ä»¶åˆ†æ”¯ï¼šæ ¹æ®ç”¨æˆ·ç±»å‹æ¨è
        if (user.isVip()) {
            recommendations.addAll(getVipRecommendations(user));
        } else if (user.isPremium()) {
            recommendations.addAll(getPremiumRecommendations(user));
        } else {
            recommendations.addAll(getBasicRecommendations(user));
        }
        
        // å¾ªç¯å¤„ç†ï¼šä¸ªæ€§åŒ–è°ƒæ•´
        for (Product product : recommendations) {
            adjustPriceForUser(product, user);
        }
        
        return recommendations;
    }
}
```

### 4.2 é‡‘èç³»ç»Ÿä¸­çš„æµç¨‹æ§åˆ¶


**ğŸ’° è½¬è´¦æµç¨‹è®¾è®¡**
```java
// é“¶è¡Œè½¬è´¦ä¸šåŠ¡æµç¨‹
public class TransferService {
    
    public TransferResult transfer(String fromAccount, String toAccount, double amount) {
        // å«è¯­å¥ï¼šå‰ç½®æ¡ä»¶æ£€æŸ¥
        if (amount <= 0) return fail("è½¬è´¦é‡‘é¢å¿…é¡»å¤§äº0");
        if (fromAccount.equals(toAccount)) return fail("ä¸èƒ½è½¬è´¦ç»™è‡ªå·±");
        
        // Happy Path with å¼‚å¸¸å¤„ç†
        try (Transaction tx = beginTransaction()) {
            
            // æ­¥éª¤1ï¼šæ£€æŸ¥ä½™é¢
            if (getBalance(fromAccount) < amount) {
                return fail("ä½™é¢ä¸è¶³");
            }
            
            // æ­¥éª¤2ï¼šæ‰£é™¤ä½™é¢
            deductBalance(fromAccount, amount);
            
            // æ­¥éª¤3ï¼šå¢åŠ ä½™é¢ï¼ˆå¯èƒ½å¤±è´¥ï¼Œéœ€è¦å›æ»šï¼‰
            addBalance(toAccount, amount);
            
            // æ­¥éª¤4ï¼šè®°å½•æµæ°´
            recordTransaction(fromAccount, toAccount, amount);
            
            tx.commit();
            return success("è½¬è´¦æˆåŠŸ");
            
        } catch (Exception e) {
            return fail("ç³»ç»Ÿå¼‚å¸¸ï¼Œè½¬è´¦å¤±è´¥");
        }
    }
}
```

---

## 5. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 5.1 æ¡ä»¶åˆ†æ”¯æ€ç»´è¦ç‚¹


```
ğŸ”¸ äºŒåˆ†å†³ç­–ï¼šåŒ–ç¹ä¸ºç®€ï¼Œæ˜ç¡®true/falseè·¯å¾„
ğŸ”¸ å¤šåˆ†æ”¯å¤„ç†ï¼šç”¨switch-caseè®©é€»è¾‘æ›´æ¸…æ™°
ğŸ”¸ å«è¯­å¥æ¨¡å¼ï¼šæ—©æœŸè¿”å›ï¼Œå‡å°‘åµŒå¥—å±‚æ¬¡
ğŸ”¸ ç­–ç•¥é€‰æ‹©ï¼šæ ¹æ®æƒ…å†µé€‰æ‹©ä¸åŒå¤„ç†ç­–ç•¥
ğŸ”¸ çŠ¶æ€é©±åŠ¨ï¼šåŸºäºçŠ¶æ€å†³å®šå¯æ‰§è¡Œçš„æ“ä½œ
```

### 5.2 å¾ªç¯è¿­ä»£æ€ç»´è¦ç‚¹


```
ğŸ”¸ è®¡æ•°å¾ªç¯ï¼šæ˜ç¡®æ¬¡æ•°çš„é‡å¤æ“ä½œ
ğŸ”¸ æ¡ä»¶å¾ªç¯ï¼šåŸºäºæ¡ä»¶æ§åˆ¶çš„å¾ªç¯
ğŸ”¸ é›†åˆéå†ï¼šå¯¹æ•°æ®é›†åˆçš„é€ä¸ªå¤„ç†
ğŸ”¸ é€’å½’æ€ç»´ï¼šé—®é¢˜åˆ†è§£çš„è‡ªæˆ‘è°ƒç”¨
ğŸ”¸ æ‰¹å¤„ç†ï¼šå¤§æ•°æ®çš„åˆ†æ‰¹å¤„ç†ç­–ç•¥
```

### 5.3 æµç¨‹æ§åˆ¶æ€ç»´è¦ç‚¹


```
ğŸ”¸ Happy Pathï¼šç†æƒ³æƒ…å†µä¸‹çš„ä¸šåŠ¡æµç¨‹
ğŸ”¸ å¼‚å¸¸å¤„ç†ï¼šéé¢„æœŸæƒ…å†µçš„åº”å¯¹ç­–ç•¥
ğŸ”¸ è¾¹ç•Œå¤„ç†ï¼šæç«¯æƒ…å†µçš„ç‰¹æ®Šè€ƒè™‘
ğŸ”¸ é‡è¯•æœºåˆ¶ï¼šå¤±è´¥åçš„é‡æ–°å°è¯•
ğŸ”¸ ç†”æ–­é™çº§ï¼šæ•…éšœæ—¶çš„ä¿æŠ¤æœºåˆ¶
```

### 5.4 å®è·µæŒ‡å¯¼åŸåˆ™


**ğŸ’¡ ç¼–ç¨‹æ€ç»´æå‡å»ºè®®**
- **å…ˆè®¾è®¡Happy Path**ï¼šç¡®ä¿æ ¸å¿ƒé€»è¾‘æ¸…æ™°
- **å†è€ƒè™‘å¼‚å¸¸æƒ…å†µ**ï¼šå®Œå–„é”™è¯¯å¤„ç†æœºåˆ¶
- **å…³æ³¨è¾¹ç•Œæ¡ä»¶**ï¼šé¿å…ç¨‹åºåœ¨æç«¯æƒ…å†µä¸‹å´©æºƒ
- **åˆç†ä½¿ç”¨å¾ªç¯**ï¼šé€‰æ‹©æœ€é€‚åˆçš„å¾ªç¯æ–¹å¼
- **é¿å…æ·±å±‚åµŒå¥—**ï¼šä½¿ç”¨å«è¯­å¥ç®€åŒ–æ¡ä»¶åˆ¤æ–­

**ğŸ¯ å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ**
- **æ¡ä»¶è¿‡å¤š**ï¼šä½¿ç”¨ç­–ç•¥æ¨¡å¼æˆ–çŠ¶æ€æœº
- **å¾ªç¯æ•ˆç‡ä½**ï¼šè€ƒè™‘æ‰¹å¤„ç†æˆ–å¹¶è¡Œå¤„ç†
- **å¼‚å¸¸å¤„ç†æ··ä¹±**ï¼šå»ºç«‹å¼‚å¸¸å¤„ç†å±‚æ¬¡ç»“æ„
- **è¾¹ç•Œè€ƒè™‘ä¸è¶³**ï¼šå»ºç«‹è¾¹ç•Œæµ‹è¯•ç”¨ä¾‹
- **æµç¨‹ä¸æ¸…æ™°**ï¼šç»˜åˆ¶æµç¨‹å›¾æ¢³ç†é€»è¾‘

**æ ¸å¿ƒè®°å¿†å£è¯€**ï¼š
```
æ¡ä»¶åˆ†æ”¯è®²é€»è¾‘ï¼ŒçœŸå‡è·¯å¾„è¦æ¸…æ™°
å¾ªç¯è¿­ä»£é‡å¤åšï¼Œæ¬¡æ•°æ¡ä»¶è¦æ˜ç¡®
æµç¨‹æ§åˆ¶ä¿ç¨³å®šï¼Œæ­£å¸¸å¼‚å¸¸éƒ½è€ƒè™‘
è¾¹ç•Œé‡è¯•åŠ ç†”æ–­ï¼Œç³»ç»Ÿå¥å£®ä¸å‡ºé”™
```