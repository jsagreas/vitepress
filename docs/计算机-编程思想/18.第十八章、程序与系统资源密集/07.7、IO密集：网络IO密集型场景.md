---
title: 7ã€IOå¯†é›†ï¼šç½‘ç»œIOå¯†é›†å‹åœºæ™¯
---
## ğŸ“š ç›®å½•

1. [ç½‘ç»œIOå¯†é›†å‹åŸºæœ¬æ¦‚å¿µ](#1-ç½‘ç»œIOå¯†é›†å‹åŸºæœ¬æ¦‚å¿µ)
2. [å…¸å‹åº”ç”¨åœºæ™¯æ·±åº¦è§£æ](#2-å…¸å‹åº”ç”¨åœºæ™¯æ·±åº¦è§£æ)
3. [æ€§èƒ½ç“¶é¢ˆè¯†åˆ«ä¸åˆ†æ](#3-æ€§èƒ½ç“¶é¢ˆè¯†åˆ«ä¸åˆ†æ)
4. [æ ¸å¿ƒä¼˜åŒ–ç­–ç•¥å®æˆ˜](#4-æ ¸å¿ƒä¼˜åŒ–ç­–ç•¥å®æˆ˜)
5. [æ¶æ„è®¾è®¡æœ€ä½³å®è·µ](#5-æ¶æ„è®¾è®¡æœ€ä½³å®è·µ)
6. [ç›‘æ§ä¸è°ƒä¼˜æŒ‡å—](#6-ç›‘æ§ä¸è°ƒä¼˜æŒ‡å—)
7. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#7-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸŒ ç½‘ç»œIOå¯†é›†å‹åŸºæœ¬æ¦‚å¿µ


### 1.1 ä»€ä¹ˆæ˜¯ç½‘ç»œIOå¯†é›†å‹


ğŸ”° **é€šä¿—ç†è§£**ï¼šå°±åƒå¿«é€’å‘˜é€åŒ…è£¹ï¼Œå¤§éƒ¨åˆ†æ—¶é—´éƒ½åœ¨è·¯ä¸Šè·‘ï¼Œè€Œä¸æ˜¯åœ¨ä»“åº“é‡Œæ‰“åŒ…ã€‚ç½‘ç»œIOå¯†é›†å‹ç¨‹åºçš„ç‰¹ç‚¹æ˜¯ï¼š**CPUå¾ˆé—²ï¼Œç½‘ç»œå¾ˆå¿™**ã€‚

**ğŸ”¸ æ ¸å¿ƒç‰¹å¾**
```
CPUä½¿ç”¨ç‡ï¼šé€šå¸¸ < 30%
ç½‘ç»œä½¿ç”¨ç‡ï¼šæ¥è¿‘å¸¦å®½ä¸Šé™
å†…å­˜ä½¿ç”¨ï¼šä¸­ç­‰ï¼ˆä¸»è¦å­˜å‚¨ç½‘ç»œç¼“å†²åŒºï¼‰
ç£ç›˜ä½¿ç”¨ï¼šè¾ƒä½
```

**ğŸŒ° ç”Ÿæ´»ç±»æ¯”**ï¼š
- **ç½‘ç»œIOå¯†é›†å‹** = å®¢æœæ¥ç”µè¯ï¼šå¤§éƒ¨åˆ†æ—¶é—´åœ¨ç­‰å®¢æˆ·è¯´è¯å’Œå›å¤
- **CPUå¯†é›†å‹** = æ•°å­¦è€å¸ˆåšè®¡ç®—ï¼šå¤§è„‘ä¸€ç›´åœ¨é«˜é€Ÿè¿è½¬
- **ç£ç›˜IOå¯†é›†å‹** = å›¾ä¹¦ç®¡ç†å‘˜æ‰¾ä¹¦ï¼šä¸»è¦æ—¶é—´èŠ±åœ¨ç¿»æ‰¾èµ„æ–™ä¸Š

### 1.2 ç½‘ç»œIOçš„æœ¬è´¨æœºåˆ¶


**ğŸ”¸ ç½‘ç»œé€šä¿¡è¿‡ç¨‹**
```
åº”ç”¨ç¨‹åº â”€â”€â–¶ ç³»ç»Ÿå†…æ ¸ â”€â”€â–¶ ç½‘ç»œåè®®æ ˆ â”€â”€â–¶ ç½‘å¡ â”€â”€â–¶ ç½‘ç»œ
    â”‚              â”‚              â”‚         â”‚         â”‚
    â–¼              â–¼              â–¼         â–¼         â–¼
  å‘èµ·è¯·æ±‚      æ•°æ®æ‰“åŒ…       æ·»åŠ åè®®å¤´   ç‰©ç†ä¼ è¾“   åˆ°è¾¾ç›®æ ‡
```

**ğŸ’¡ ä¸ºä»€ä¹ˆä¼šæˆä¸ºç“¶é¢ˆ**ï¼š
- **ç½‘ç»œå»¶è¿Ÿ**ï¼šæ•°æ®åœ¨ç½‘ç»œä¸­ä¼ è¾“éœ€è¦æ—¶é—´ï¼ˆå…‰é€Ÿæœ‰é™ï¼‰
- **å¸¦å®½é™åˆ¶**ï¼šç½‘ç»œç®¡é“æœ‰ç²—ç»†é™åˆ¶
- **åè®®å¼€é”€**ï¼šTCPæ¡æ‰‹ã€ç¡®è®¤ç­‰åè®®æ“ä½œè€—æ—¶
- **ä¸²è¡Œç­‰å¾…**ï¼šå¿…é¡»ç­‰ç½‘ç»œå“åº”æ‰èƒ½ç»§ç»­ä¸‹ä¸€æ­¥

### 1.3 ä¸å…¶ä»–IOç±»å‹çš„åŒºåˆ«


| ç±»å‹ | **ä¸»è¦ç­‰å¾…** | **ç“¶é¢ˆä½ç½®** | **ä¼˜åŒ–é‡ç‚¹** | **å…¸å‹åœºæ™¯** |
|------|------------|-------------|-------------|-------------|
| ğŸŒ **ç½‘ç»œIO** | `ç½‘ç»œä¼ è¾“` | `å¸¦å®½/å»¶è¿Ÿ` | `å¹¶å‘+ç¼“å­˜` | `WebæœåŠ¡ã€APIè°ƒç”¨` |
| ğŸ’¾ **ç£ç›˜IO** | `ç¡¬ç›˜è¯»å†™` | `ç£ç›˜é€Ÿåº¦` | `ç¼“å­˜+SSD` | `æ•°æ®åº“ã€æ–‡ä»¶å¤„ç†` |
| âš¡ **CPUå¯†é›†** | `è®¡ç®—å®Œæˆ` | `å¤„ç†å™¨æ€§èƒ½` | `ç®—æ³•+å¹¶è¡Œ` | `å›¾åƒå¤„ç†ã€åŠ å¯†` |

---

## 2. ğŸ¯ å…¸å‹åº”ç”¨åœºæ™¯æ·±åº¦è§£æ


### 2.1 WebæœåŠ¡å™¨HTTPè¯·æ±‚å¤„ç†


**ğŸ”¸ åœºæ™¯æè¿°**ï¼šç½‘ç«™æœåŠ¡å™¨å¤„ç†ç”¨æˆ·çš„æµè§ˆå™¨è¯·æ±‚

**ç°å®ä¾‹å­**ï¼š
```
ç”¨æˆ·åœ¨æµè§ˆå™¨è¾“å…¥ç½‘å€ â†’ æœåŠ¡å™¨æ¥æ”¶è¯·æ±‚ â†’ æŸ¥è¯¢æ•°æ®åº“ â†’ è¿”å›ç½‘é¡µ
æ•´ä¸ªè¿‡ç¨‹ä¸­ï¼ŒæœåŠ¡å™¨å¤§éƒ¨åˆ†æ—¶é—´åœ¨ç­‰å¾…ï¼š
â€¢ æ¥æ”¶ç”¨æˆ·çš„HTTPè¯·æ±‚æ•°æ®
â€¢ ç­‰å¾…æ•°æ®åº“æŸ¥è¯¢ç»“æœ  
â€¢ å‘é€å“åº”æ•°æ®ç»™ç”¨æˆ·
```

**ğŸ”§ èµ„æºæ¶ˆè€—ç‰¹ç‚¹**ï¼š
- **CPUä½¿ç”¨ç‡**ï¼š20-40%ï¼ˆä¸»è¦ç”¨äºåè®®å¤„ç†ï¼‰
- **å†…å­˜ä½¿ç”¨**ï¼šä¸­ç­‰ï¼ˆç¼“å­˜è¯·æ±‚/å“åº”æ•°æ®ï¼‰
- **ç½‘ç»œä½¿ç”¨**ï¼šé«˜ï¼ˆæŒç»­æ”¶å‘HTTPæ•°æ®ï¼‰

```java
// ç®€åŒ–çš„HTTPæœåŠ¡å™¨å¤„ç†æµç¨‹
@RestController
public class WebController {
    
    @GetMapping("/api/users")
    public List<User> getUsers() {
        // 1. æ¥æ”¶HTTPè¯·æ±‚ï¼ˆç½‘ç»œIOç­‰å¾…ï¼‰
        // 2. æŸ¥è¯¢æ•°æ®åº“ï¼ˆå¯èƒ½æ¶‰åŠç½‘ç»œIOï¼‰
        List<User> users = userService.findAll();
        // 3. è¿”å›JSONå“åº”ï¼ˆç½‘ç»œIOç­‰å¾…ï¼‰
        return users;
    }
}
```

### 2.2 å¾®æœåŠ¡é—´ç½‘ç»œé€šä¿¡


**ğŸ”¸ åœºæ™¯æè¿°**ï¼šä¸€ä¸ªæœåŠ¡éœ€è¦è°ƒç”¨å…¶ä»–å¤šä¸ªæœåŠ¡æ¥å®Œæˆä¸šåŠ¡

**ç°å®ä¾‹å­**ï¼š
```
ç”µå•†ä¸‹å•æµç¨‹ï¼š
è®¢å•æœåŠ¡ â”€â”€â–¶ ç”¨æˆ·æœåŠ¡ï¼ˆéªŒè¯ç”¨æˆ·ï¼‰
         â”œâ–¶ å•†å“æœåŠ¡ï¼ˆæ£€æŸ¥åº“å­˜ï¼‰  
         â”œâ–¶ æ”¯ä»˜æœåŠ¡ï¼ˆå¤„ç†æ”¯ä»˜ï¼‰
         â””â–¶ ç‰©æµæœåŠ¡ï¼ˆå®‰æ’é…é€ï¼‰

æ¯æ¬¡è°ƒç”¨éƒ½æ˜¯ç½‘ç»œè¯·æ±‚ï¼Œéœ€è¦ç­‰å¾…å“åº”
```

**ğŸ’¡ æ€§èƒ½æŒ‘æˆ˜**ï¼š
- **è°ƒç”¨é“¾è·¯é•¿**ï¼šä¸€ä¸ªè¯·æ±‚è¦è°ƒç”¨å¤šä¸ªæœåŠ¡
- **ç½‘ç»œå»¶è¿Ÿç´¯ç§¯**ï¼šæ¯æ¬¡è°ƒç”¨éƒ½æœ‰å»¶è¿Ÿ
- **æ•…éšœä¼ æ’­**ï¼šä¸€ä¸ªæœåŠ¡æ…¢å½±å“æ•´ä¸ªé“¾è·¯

```java
// å¾®æœåŠ¡è°ƒç”¨ç¤ºä¾‹
@Service
public class OrderService {
    
    public Order createOrder(OrderRequest request) {
        // ç½‘ç»œè°ƒç”¨1ï¼šéªŒè¯ç”¨æˆ·
        User user = userService.validateUser(request.getUserId());
        
        // ç½‘ç»œè°ƒç”¨2ï¼šæ£€æŸ¥åº“å­˜
        boolean available = inventoryService.checkStock(request.getProductId());
        
        // ç½‘ç»œè°ƒç”¨3ï¼šå¤„ç†æ”¯ä»˜
        Payment payment = paymentService.processPayment(request.getAmount());
        
        return new Order(user, payment);
    }
}
```

### 2.3 APIæ¥å£è°ƒç”¨åœºæ™¯


**ğŸ”¸ åœºæ™¯æè¿°**ï¼šç¨‹åºéœ€è¦è°ƒç”¨ç¬¬ä¸‰æ–¹APIè·å–æ•°æ®

**ç°å®ä¾‹å­**ï¼š
```
å¤©æ°”åº”ç”¨è·å–å¤©æ°”æ•°æ®ï¼š
æ‰‹æœºAPP â†’ è°ƒç”¨å¤©æ°”API â†’ ç­‰å¾…å“åº” â†’ æ˜¾ç¤ºå¤©æ°”ä¿¡æ¯

æ•´ä¸ªè¿‡ç¨‹APPåœ¨ç­‰å¾…ç½‘ç»œå“åº”ï¼ŒCPUåŸºæœ¬ç©ºé—²
```

**âš ï¸ å¸¸è§é—®é¢˜**ï¼š
- **APIå“åº”æ…¢**ï¼šç¬¬ä¸‰æ–¹æœåŠ¡æ€§èƒ½ä¸å¯æ§
- **ç½‘ç»œä¸ç¨³å®š**ï¼šå¯èƒ½å‡ºç°è¶…æ—¶ã€é‡è¯•
- **å¹¶å‘é™åˆ¶**ï¼šAPIé€šå¸¸æœ‰è°ƒç”¨é¢‘ç‡é™åˆ¶

```java
// APIè°ƒç”¨ç¤ºä¾‹
@Service
public class WeatherService {
    
    public WeatherInfo getWeather(String city) {
        // è°ƒç”¨ç¬¬ä¸‰æ–¹å¤©æ°”APIï¼ˆç½‘ç»œIOå¯†é›†æ“ä½œï¼‰
        String url = "https://api.weather.com/v1/current?city=" + city;
        
        // å¤§éƒ¨åˆ†æ—¶é—´èŠ±åœ¨ç­‰å¾…ç½‘ç»œå“åº”
        RestTemplate restTemplate = new RestTemplate();
        return restTemplate.getForObject(url, WeatherInfo.class);
    }
}
```

### 2.4 é•¿è¿æ¥å®æ—¶é€šä¿¡


**ğŸ”¸ åœºæ™¯æè¿°**ï¼šéœ€è¦ä¿æŒæŒç»­çš„ç½‘ç»œè¿æ¥è¿›è¡Œå®æ—¶æ•°æ®äº¤æ¢

**ç°å®ä¾‹å­**ï¼š
```
åœ¨çº¿èŠå¤©åº”ç”¨ï¼š
ç”¨æˆ·Aå‘æ¶ˆæ¯ â†’ æœåŠ¡å™¨æ¥æ”¶ â†’ æ¨é€ç»™ç”¨æˆ·B â†’ ç”¨æˆ·Bæ”¶åˆ°æ¶ˆæ¯

æœåŠ¡å™¨éœ€è¦åŒæ—¶ç»´æŠ¤æˆåƒä¸Šä¸‡ä¸ªè¿æ¥ï¼ŒæŒç»­ç­‰å¾…å’Œè½¬å‘æ¶ˆæ¯
```

**ğŸ”§ èµ„æºæ¶ˆè€—ç‰¹ç‚¹**ï¼š
- **è¿æ¥æ•°é‡å¤š**ï¼šæ¯ä¸ªç”¨æˆ·ä¸€ä¸ªè¿æ¥
- **å†…å­˜å ç”¨**ï¼šæ¯ä¸ªè¿æ¥éœ€è¦ç¼“å†²åŒº
- **ç½‘ç»œå¸¦å®½**ï¼šæŒç»­çš„æ•°æ®ä¼ è¾“

```java
// WebSocketé•¿è¿æ¥ç¤ºä¾‹
@Component
public class ChatWebSocketHandler extends TextWebSocketHandler {
    
    @Override
    public void afterConnectionEstablished(WebSocketSession session) {
        // å»ºç«‹è¿æ¥åï¼Œå¤§éƒ¨åˆ†æ—¶é—´åœ¨ç­‰å¾…å®¢æˆ·ç«¯æ¶ˆæ¯
        sessionManager.addSession(session);
    }
    
    @Override
    public void handleTextMessage(WebSocketSession session, TextMessage message) {
        // æ¥æ”¶æ¶ˆæ¯å¹¶è½¬å‘ï¼ˆç½‘ç»œIOæ“ä½œï¼‰
        broadcastMessage(message.getPayload());
    }
}
```

### 2.5 ç½‘ç»œçˆ¬è™«æ•°æ®æŠ“å–


**ğŸ”¸ åœºæ™¯æè¿°**ï¼šç¨‹åºè‡ªåŠ¨è®¿é—®å¤§é‡ç½‘é¡µè·å–æ•°æ®

**ç°å®ä¾‹å­**ï¼š
```
ç”µå•†ä»·æ ¼ç›‘æ§çˆ¬è™«ï¼š
ç¨‹åºè®¿é—®1000ä¸ªå•†å“é¡µé¢ â†’ è§£æä»·æ ¼ä¿¡æ¯ â†’ ä¿å­˜åˆ°æ•°æ®åº“

å¤§éƒ¨åˆ†æ—¶é—´èŠ±åœ¨ï¼š
â€¢ å‘é€HTTPè¯·æ±‚åˆ°ç›®æ ‡ç½‘ç«™
â€¢ ç­‰å¾…ç½‘ç«™è¿”å›é¡µé¢å†…å®¹
â€¢ ä¸‹è½½é¡µé¢HTMLæ•°æ®
```

**ğŸ’¡ æ€§èƒ½è€ƒè™‘**ï¼š
- **å¹¶å‘è®¿é—®**ï¼šåŒæ—¶æŠ“å–å¤šä¸ªé¡µé¢æé«˜æ•ˆç‡
- **åçˆ¬ç­–ç•¥**ï¼šç½‘ç«™å¯èƒ½é™åˆ¶è®¿é—®é¢‘ç‡
- **ç½‘ç»œç¨³å®šæ€§**ï¼šéœ€è¦å¤„ç†è¶…æ—¶å’Œé‡è¯•

```java
// ç½‘ç»œçˆ¬è™«ç¤ºä¾‹
@Service
public class WebCrawlerService {
    
    public List<ProductInfo> crawlProducts(List<String> urls) {
        List<ProductInfo> products = new ArrayList<>();
        
        for (String url : urls) {
            // å‘é€HTTPè¯·æ±‚ï¼ˆç½‘ç»œIOç­‰å¾…ï¼‰
            String html = httpClient.get(url);
            
            // CPUå¤„ç†ï¼ˆè§£æHTMLï¼‰- ç›¸å¯¹è¾ƒå¿«
            ProductInfo product = parseHTML(html);
            products.add(product);
        }
        
        return products;
    }
}
```

---

## 3. ğŸ” æ€§èƒ½ç“¶é¢ˆè¯†åˆ«ä¸åˆ†æ


### 3.1 ç½‘ç»œå»¶è¿ŸRTTåˆ†æ


**ğŸ”¸ ä»€ä¹ˆæ˜¯RTT**ï¼šRound Trip Timeï¼Œæ•°æ®åŒ…ä»å‘é€åˆ°æ”¶åˆ°å“åº”çš„å¾€è¿”æ—¶é—´

**ğŸŒ° ç”Ÿæ´»ç±»æ¯”**ï¼šå°±åƒä½ é—®æœ‹å‹é—®é¢˜ï¼Œä»ä½ è¯´è¯åˆ°æœ‹å‹å›ç­”çš„æ€»æ—¶é—´
```
ä½ çš„é—®é¢˜ â”€â”€â–¶ ä¼ åˆ°æœ‹å‹è€³ä¸­ â”€â”€â–¶ æœ‹å‹æ€è€ƒ â”€â”€â–¶ å›ç­”ä¼ å›ä½ è€³ä¸­
   â”‚              å»¶è¿Ÿ1           å¤„ç†æ—¶é—´        å»¶è¿Ÿ2        â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ RTTæ€»æ—¶é—´ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ğŸ“Š å…¸å‹RTTæ•°å€¼**ï¼š
- **æœ¬åœ°ç½‘ç»œ**ï¼š< 1ms
- **åŒåŸç½‘ç»œ**ï¼š5-20ms  
- **å›½å†…è·¨çœ**ï¼š20-50ms
- **è·¨å›½ç½‘ç»œ**ï¼š100-300ms

**ğŸ”§ RTTå½±å“åˆ†æ**ï¼š
```java
// ä¸²è¡Œè°ƒç”¨çš„å»¶è¿Ÿç´¯ç§¯
public class SerialApiCalls {
    public Result processRequest() {
        // æ¯ä¸ªè°ƒç”¨RTT=50msï¼Œæ€»å»¶è¿Ÿ=150ms
        String data1 = callAPI1();    // ç­‰å¾…50ms
        String data2 = callAPI2();    // ç­‰å¾…50ms  
        String data3 = callAPI3();    // ç­‰å¾…50ms
        
        return combineData(data1, data2, data3);
    }
}
```

### 3.2 å¸¦å®½åˆ©ç”¨ç‡åˆ†æ


**ğŸ”¸ å¸¦å®½æ¦‚å¿µ**ï¼šç½‘ç»œç®¡é“çš„ç²—ç»†ï¼Œå†³å®šå•ä½æ—¶é—´èƒ½ä¼ è¾“å¤šå°‘æ•°æ®

**ğŸŒ° ç”Ÿæ´»ç±»æ¯”**ï¼š
- **å¸¦å®½** = æ°´ç®¡ç²—ç»†
- **æ•°æ®** = æµè¿‡çš„æ°´
- **å»¶è¿Ÿ** = æ°´ä»ä¸€ç«¯æµåˆ°å¦ä¸€ç«¯çš„æ—¶é—´

**ğŸ“ˆ å¸¦å®½è®¡ç®—å…¬å¼**ï¼š
```
ä¼ è¾“æ—¶é—´ = æ•°æ®å¤§å° Ã· å¯ç”¨å¸¦å®½

ä¾‹å­ï¼š
ä¸‹è½½10MBæ–‡ä»¶ï¼Œå¸¦å®½100Mbps
ä¼ è¾“æ—¶é—´ = 10MB Ã· (100Mbps Ã· 8) = 10 Ã· 12.5 = 0.8ç§’
```

**âš ï¸ å¸¸è§å¸¦å®½é—®é¢˜**ï¼š
- **ä¸Šä¼ å¸¦å®½å°**ï¼šå®¶åº­ç½‘ç»œé€šå¸¸ä¸Šä¼ æ¯”ä¸‹è½½æ…¢å¾ˆå¤š
- **å…±äº«å¸¦å®½**ï¼šå¤šä¸ªåº”ç”¨ç«äº‰ç½‘ç»œèµ„æº
- **çªå‘æµé‡**ï¼šçŸ­æ—¶é—´å¤§é‡æ•°æ®ä¼ è¾“è¶…è¿‡å¸¦å®½

### 3.3 TCPè¿æ¥å¼€é”€åˆ†æ


**ğŸ”¸ TCPä¸‰æ¬¡æ¡æ‰‹å¼€é”€**ï¼šæ¯æ¬¡å»ºç«‹è¿æ¥éƒ½éœ€è¦é¢å¤–æ—¶é—´

```
å®¢æˆ·ç«¯                 æœåŠ¡å™¨
   â”‚                     â”‚
   â”‚â”€[SYN]â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚  1. å®¢æˆ·ç«¯è¯·æ±‚è¿æ¥
   â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€[SYN+ACK]â”€â”‚  2. æœåŠ¡å™¨ç¡®è®¤+è¯·æ±‚
   â”‚â”€[ACK]â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚  3. å®¢æˆ·ç«¯ç¡®è®¤
   â”‚                     â”‚
   â”‚   ç°åœ¨å¯ä»¥ä¼ æ•°æ®      â”‚
```

**ğŸ’¡ è¿æ¥å¼€é”€å½±å“**ï¼š
- **å»ºç«‹è¿æ¥**ï¼šéœ€è¦1.5ä¸ªRTTæ—¶é—´
- **å…³é—­è¿æ¥**ï¼šéœ€è¦2ä¸ªRTTæ—¶é—´  
- **çŸ­è¿æ¥æˆæœ¬**ï¼šé¢‘ç¹å»ºç«‹å…³é—­è¿æ¥æµªè´¹æ—¶é—´

```java
// çŸ­è¿æ¥æ¨¡å¼ï¼ˆæ•ˆç‡ä½ï¼‰
public class ShortConnectionClient {
    public String getData() {
        // æ¯æ¬¡éƒ½å»ºç«‹æ–°è¿æ¥
        Socket socket = new Socket("server.com", 8080);
        String result = sendRequest(socket);
        socket.close();  // ç«‹å³å…³é—­è¿æ¥
        return result;
    }
}

// é•¿è¿æ¥æ¨¡å¼ï¼ˆæ•ˆç‡é«˜ï¼‰
public class LongConnectionClient {
    private Socket socket = new Socket("server.com", 8080);
    
    public String getData() {
        // å¤ç”¨å·²æœ‰è¿æ¥
        return sendRequest(socket);
    }
}
```

---

## 4. âš¡ æ ¸å¿ƒä¼˜åŒ–ç­–ç•¥å®æˆ˜


### 4.1 TCPè¿æ¥æ± ç®¡ç†


**ğŸ”¸ è¿æ¥æ± åŸç†**ï¼šå°±åƒå…¬å…±è‡ªè¡Œè½¦ï¼Œç”¨å®Œæ”¾å›å»ç»™ä¸‹ä¸€ä¸ªäººç”¨ï¼Œé¿å…é‡å¤åˆ¶é€ 

**ğŸ’¡ è¿æ¥æ± ä¼˜åŠ¿**ï¼š
- **å‡å°‘è¿æ¥å¼€é”€**ï¼šå¤ç”¨å·²å»ºç«‹çš„è¿æ¥
- **æ§åˆ¶è¿æ¥æ•°é‡**ï¼šé¿å…æœåŠ¡å™¨è¿æ¥è€—å°½
- **æé«˜å“åº”é€Ÿåº¦**ï¼šæ— éœ€ç­‰å¾…è¿æ¥å»ºç«‹

```java
// HTTPè¿æ¥æ± é…ç½®ç¤ºä¾‹
@Configuration
public class HttpClientConfig {
    
    @Bean
    public RestTemplate restTemplate() {
        // åˆ›å»ºè¿æ¥æ± 
        PoolingHttpClientConnectionManager connectionManager = 
            new PoolingHttpClientConnectionManager();
        
        // æœ€å¤§è¿æ¥æ•°
        connectionManager.setMaxTotal(100);
        // æ¯ä¸ªè·¯ç”±æœ€å¤§è¿æ¥æ•°
        connectionManager.setDefaultMaxPerRoute(20);
        
        CloseableHttpClient httpClient = HttpClients.custom()
            .setConnectionManager(connectionManager)
            .build();
            
        HttpComponentsClientHttpRequestFactory factory = 
            new HttpComponentsClientHttpRequestFactory(httpClient);
        
        return new RestTemplate(factory);
    }
}
```

**ğŸ”§ è¿æ¥æ± å…³é”®å‚æ•°**ï¼š
- **æœ€å¤§è¿æ¥æ•°**ï¼šé˜²æ­¢è¿æ¥è€—å°½æœåŠ¡å™¨èµ„æº
- **æœ€å¤§ç©ºé—²æ—¶é—´**ï¼šåŠæ—¶å›æ”¶ä¸ç”¨çš„è¿æ¥
- **è¿æ¥è¶…æ—¶æ—¶é—´**ï¼šé¿å…æ­»è¿æ¥å ç”¨èµ„æº

### 4.2 HTTPè¯·æ±‚æ‰¹å¤„ç†


**ğŸ”¸ æ‰¹å¤„ç†æ¦‚å¿µ**ï¼šæŠŠå¤šä¸ªå°è¯·æ±‚åˆå¹¶æˆä¸€ä¸ªå¤§è¯·æ±‚ï¼Œå‡å°‘ç½‘ç»œå¾€è¿”æ¬¡æ•°

**ğŸŒ° ç”Ÿæ´»ç±»æ¯”**ï¼š
- **å•ä¸ªè¯·æ±‚** = æ¯æ¬¡å»è¶…å¸‚åªä¹°ä¸€æ ·ä¸œè¥¿
- **æ‰¹å¤„ç†** = ä¸€æ¬¡è´­ç‰©ä¹°é½æ‰€æœ‰éœ€è¦çš„ä¸œè¥¿

```java
// å•ä¸ªè¯·æ±‚æ¨¡å¼ï¼ˆæ•ˆç‡ä½ï¼‰
public class SingleRequestMode {
    public List<User> getUsers(List<Long> userIds) {
        List<User> users = new ArrayList<>();
        
        for (Long id : userIds) {
            // æ¯ä¸ªIDä¸€æ¬¡ç½‘ç»œè¯·æ±‚ï¼Œæ€»å…±Næ¬¡å¾€è¿”
            User user = userService.getUserById(id);
            users.add(user);
        }
        
        return users;
    }
}

// æ‰¹å¤„ç†æ¨¡å¼ï¼ˆæ•ˆç‡é«˜ï¼‰
public class BatchRequestMode {
    public List<User> getUsers(List<Long> userIds) {
        // ä¸€æ¬¡ç½‘ç»œè¯·æ±‚è·å–æ‰€æœ‰ç”¨æˆ·ï¼Œåªéœ€1æ¬¡å¾€è¿”
        return userService.getUsersByIds(userIds);
    }
}
```

**ğŸ“Š æ‰¹å¤„ç†æ•ˆæœå¯¹æ¯”**ï¼š
```
åœºæ™¯ï¼šè·å–100ä¸ªç”¨æˆ·ä¿¡æ¯ï¼ŒRTT=50ms

å•ä¸ªè¯·æ±‚ï¼š100æ¬¡ Ã— 50ms = 5000ms
æ‰¹å¤„ç†ï¼š  1æ¬¡ Ã— 50ms = 50ms
æ€§èƒ½æå‡ï¼š100å€
```

### 4.3 å¼‚æ­¥å¹¶å‘å¤„ç†


**ğŸ”¸ å¼‚æ­¥å¤„ç†æ¦‚å¿µ**ï¼šä¸ç­‰å‰ä¸€ä¸ªè¯·æ±‚å®Œæˆï¼ŒåŒæ—¶å‘èµ·å¤šä¸ªè¯·æ±‚

**ğŸŒ° ç”Ÿæ´»ç±»æ¯”**ï¼š
- **åŒæ­¥å¤„ç†** = æ’é˜Ÿä¹°ç¥¨ï¼Œä¸€ä¸ªäººä¹°å®Œä¸‹ä¸€ä¸ªäººæ‰èƒ½ä¹°
- **å¼‚æ­¥å¤„ç†** = å¤šä¸ªçª—å£åŒæ—¶å–ç¥¨ï¼Œå¤§å®¶å¹¶è¡ŒåŠç†

```java
// åŒæ­¥ä¸²è¡Œå¤„ç†ï¼ˆæ…¢ï¼‰
@Service
public class SyncService {
    public Result processData() {
        // æ€»æ—¶é—´ = 150ms
        String result1 = apiCall1();  // 50ms
        String result2 = apiCall2();  // 50ms  
        String result3 = apiCall3();  // 50ms
        
        return combineResults(result1, result2, result3);
    }
}

// å¼‚æ­¥å¹¶å‘å¤„ç†ï¼ˆå¿«ï¼‰
@Service
public class AsyncService {
    
    @Async
    public CompletableFuture<String> asyncApiCall1() {
        return CompletableFuture.completedFuture(apiCall1());
    }
    
    public Result processData() {
        // å¹¶å‘å‘èµ·3ä¸ªè¯·æ±‚
        CompletableFuture<String> future1 = asyncApiCall1();
        CompletableFuture<String> future2 = asyncApiCall2();
        CompletableFuture<String> future3 = asyncApiCall3();
        
        // ç­‰å¾…æ‰€æœ‰è¯·æ±‚å®Œæˆï¼Œæ€»æ—¶é—´çº¦50ms
        CompletableFuture.allOf(future1, future2, future3).join();
        
        return combineResults(
            future1.get(), future2.get(), future3.get());
    }
}
```

### 4.4 ç¼“å­˜ç­–ç•¥ä¼˜åŒ–


**ğŸ”¸ ç¼“å­˜åŸç†**ï¼šæŠŠç»å¸¸ç”¨çš„æ•°æ®å­˜åœ¨ç¦»ç”¨æˆ·æ›´è¿‘çš„åœ°æ–¹ï¼Œé¿å…é‡å¤ç½‘ç»œè¯·æ±‚

**ğŸ’¡ ç¼“å­˜å±‚æ¬¡ç»“æ„**ï¼š
```
ç”¨æˆ·è¯·æ±‚ â”€â”€â–¶ åº”ç”¨ç¼“å­˜ â”€â”€â–¶ Redisç¼“å­˜ â”€â”€â–¶ æ•°æ®åº“
         (å†…å­˜)      (ç½‘ç»œ)      (ç½‘ç»œ+ç£ç›˜)
         æœ€å¿«         ä¸­ç­‰         æœ€æ…¢
```

```java
// å¤šçº§ç¼“å­˜ç¤ºä¾‹
@Service
public class CachedDataService {
    
    private Map<String, Object> localCache = new ConcurrentHashMap<>();
    
    @Autowired
    private RedisTemplate<String, Object> redisTemplate;
    
    public Object getData(String key) {
        // 1. å…ˆæŸ¥æœ¬åœ°ç¼“å­˜ï¼ˆæœ€å¿«ï¼‰
        Object data = localCache.get(key);
        if (data != null) {
            return data;
        }
        
        // 2. æŸ¥Redisç¼“å­˜ï¼ˆè¾ƒå¿«ï¼‰
        data = redisTemplate.opsForValue().get(key);
        if (data != null) {
            localCache.put(key, data);
            return data;
        }
        
        // 3. æŸ¥æ•°æ®åº“ï¼ˆæœ€æ…¢ï¼‰
        data = databaseService.queryData(key);
        
        // æ›´æ–°å„çº§ç¼“å­˜
        redisTemplate.opsForValue().set(key, data, 1, TimeUnit.HOURS);
        localCache.put(key, data);
        
        return data;
    }
}
```

---

## 5. ğŸ—ï¸ æ¶æ„è®¾è®¡æœ€ä½³å®è·µ


### 5.1 CDNå†…å®¹åˆ†å‘ç½‘ç»œ


**ğŸ”¸ CDNæ¦‚å¿µ**ï¼šæŠŠå†…å®¹å¤åˆ¶åˆ°ç¦»ç”¨æˆ·æœ€è¿‘çš„æœåŠ¡å™¨ï¼Œå‡å°‘ç½‘ç»œä¼ è¾“è·ç¦»

**ğŸŒ° ç”Ÿæ´»ç±»æ¯”**ï¼š
- **æ²¡æœ‰CDN** = å…¨å›½ç”¨æˆ·éƒ½å»åŒ—äº¬æ€»åº—ä¹°ä¸œè¥¿
- **æœ‰CDN** = åœ¨å„ä¸ªåŸå¸‚å¼€åˆ†åº—ï¼Œå°±è¿‘è´­ä¹°

```
ç”¨æˆ·è®¿é—®æµç¨‹ï¼š
ç”¨æˆ·(ä¸Šæµ·) â”€â”€â–¶ CDNèŠ‚ç‚¹(ä¸Šæµ·) â”€â”€â–¶ æºç«™(åŒ—äº¬)
   â”‚              â”‚                â”‚
   â”‚              â”‚                â”‚
   â””â”€1msâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
                  â””â”€â”€â”€â”€â”€30msâ”€â”€â”€â”€â”€â”€â”€â”€â”˜

æ²¡æœ‰CDNï¼šç”¨æˆ·ç›´æ¥è®¿é—®æºç«™ = 30ms
æœ‰CDNï¼šç”¨æˆ·è®¿é—®æœ¬åœ°èŠ‚ç‚¹ = 1ms
```

**ğŸ’¡ CDNé€‚ç”¨åœºæ™¯**ï¼š
- **é™æ€èµ„æº**ï¼šå›¾ç‰‡ã€CSSã€JavaScriptæ–‡ä»¶
- **è§†é¢‘å†…å®¹**ï¼šè§†é¢‘æ–‡ä»¶ä¸‹è½½å’Œæµåª’ä½“
- **è½¯ä»¶ä¸‹è½½**ï¼šåº”ç”¨å®‰è£…åŒ…åˆ†å‘
- **ç½‘é¡µå†…å®¹**ï¼šä¸é¢‘ç¹å˜æ›´çš„é¡µé¢

```java
// CDNèµ„æºé…ç½®ç¤ºä¾‹
@Configuration
public class ResourceConfig implements WebMvcConfigurer {
    
    @Override
    public void addResourceHandlers(ResourceHandlerRegistry registry) {
        registry.addResourceHandler("/static/**")
                // æœ¬åœ°èµ„æºè·¯å¾„
                .addResourceLocations("classpath:/static/")
                // CDNèµ„æºè·¯å¾„
                .addResourceLocations("https://cdn.example.com/static/")
                // ç¼“å­˜1å¤©
                .setCachePeriod(86400);
    }
}
```

### 5.2 è´Ÿè½½å‡è¡¡ä¸åˆ†å‘ç­–ç•¥


**ğŸ”¸ è´Ÿè½½å‡è¡¡æ¦‚å¿µ**ï¼šæŠŠç”¨æˆ·è¯·æ±‚åˆ†æ•£åˆ°å¤šä¸ªæœåŠ¡å™¨ï¼Œé¿å…å•ç‚¹è¿‡è½½

**ğŸŒ° ç”Ÿæ´»ç±»æ¯”**ï¼š
- **æ— è´Ÿè½½å‡è¡¡** = é“¶è¡Œåªæœ‰ä¸€ä¸ªçª—å£åŠä¸šåŠ¡ï¼Œæ’é•¿é˜Ÿ
- **æœ‰è´Ÿè½½å‡è¡¡** = é“¶è¡Œæœ‰å¤šä¸ªçª—å£ï¼Œæ™ºèƒ½åˆ†æµ

**ğŸ”§ å¸¸è§è´Ÿè½½å‡è¡¡ç®—æ³•**ï¼š

| ç®—æ³• | **åŸç†** | **ä¼˜ç‚¹** | **ç¼ºç‚¹** | **é€‚ç”¨åœºæ™¯** |
|------|---------|----------|----------|-------------|
| ğŸ”¸ **è½®è¯¢** | `ä¾æ¬¡åˆ†é…` | `ç®€å•å…¬å¹³` | `ä¸è€ƒè™‘æœåŠ¡å™¨æ€§èƒ½å·®å¼‚` | `æœåŠ¡å™¨æ€§èƒ½ç›¸è¿‘` |
| ğŸ”¸ **åŠ æƒè½®è¯¢** | `æŒ‰æƒé‡åˆ†é…` | `è€ƒè™‘æ€§èƒ½å·®å¼‚` | `æ— æ³•åŠ¨æ€è°ƒæ•´` | `æœåŠ¡å™¨æ€§èƒ½å·²çŸ¥ä¸”ç¨³å®š` |
| ğŸ”¸ **æœ€å°‘è¿æ¥** | `åˆ†é…ç»™è¿æ¥æ•°æœ€å°‘çš„æœåŠ¡å™¨` | `åŠ¨æ€è´Ÿè½½å‡è¡¡` | `è®¡ç®—å¼€é”€å¤§` | `é•¿è¿æ¥æœåŠ¡` |
| ğŸ”¸ **IPå“ˆå¸Œ** | `æ ¹æ®å®¢æˆ·ç«¯IPåˆ†é…` | `ä¼šè¯ä¿æŒ` | `å¯èƒ½è´Ÿè½½ä¸å‡` | `éœ€è¦ä¼šè¯ç²˜æ€§` |

```java
// Spring Cloudè´Ÿè½½å‡è¡¡é…ç½®
@LoadBalanced
@Bean
public RestTemplate restTemplate() {
    return new RestTemplate();
}

@Service
public class UserService {
    
    @Autowired
    private RestTemplate restTemplate;
    
    public User getUser(Long userId) {
        // Spring Cloudè‡ªåŠ¨è¿›è¡Œè´Ÿè½½å‡è¡¡
        // ä¼šåœ¨å¤šä¸ªuser-serviceå®ä¾‹é—´åˆ†é…è¯·æ±‚
        return restTemplate.getForObject(
            "http://user-service/api/users/" + userId, 
            User.class);
    }
}
```

### 5.3 æœåŠ¡ç†”æ–­ä¸é™æµ


**ğŸ”¸ ç†”æ–­å™¨æ¦‚å¿µ**ï¼šå½“æœåŠ¡å‡ºç°æ•…éšœæ—¶ï¼Œå¿«é€Ÿå¤±è´¥è€Œä¸æ˜¯ä¸€ç›´ç­‰å¾…ï¼Œä¿æŠ¤ç³»ç»Ÿç¨³å®š

**ğŸŒ° ç”Ÿæ´»ç±»æ¯”**ï¼š
- **ç†”æ–­å™¨** = å®¶é‡Œçš„ä¿é™©ä¸ï¼Œç”µè·¯è¿‡è½½æ—¶è‡ªåŠ¨æ–­ç”µä¿æŠ¤
- **é™æµ** = æ™¯åŒºé™æµï¼Œæ§åˆ¶æ¸¸å®¢æ•°é‡é¿å…è¿‡åº¦æ‹¥æŒ¤

```java
// Hystrixç†”æ–­å™¨ç¤ºä¾‹
@Service
public class ExternalApiService {
    
    @HystrixCommand(
        fallbackMethod = "getDefaultData",
        commandProperties = {
            // è¶…æ—¶æ—¶é—´2ç§’
            @HystrixProperty(name = "execution.isolation.thread.timeoutInMilliseconds", value = "2000"),
            // 10ç§’å†…å¤±è´¥5æ¬¡å°±ç†”æ–­
            @HystrixProperty(name = "circuitBreaker.requestVolumeThreshold", value = "5"),
            @HystrixProperty(name = "circuitBreaker.errorThresholdPercentage", value = "50")
        })
    public String getApiData() {
        // è°ƒç”¨å¤–éƒ¨API
        return restTemplate.getForObject("http://external-api/data", String.class);
    }
    
    // ç†”æ–­åçš„é™çº§æ–¹æ³•
    public String getDefaultData() {
        return "æœåŠ¡æš‚æ—¶ä¸å¯ç”¨ï¼Œè¯·ç¨åé‡è¯•";
    }
}
```

**ğŸ’¡ é™æµç­–ç•¥**ï¼š
- **ä»¤ç‰Œæ¡¶ç®—æ³•**ï¼šæ§åˆ¶è¯·æ±‚é€Ÿç‡ï¼Œå…è®¸çªå‘æµé‡
- **æ¼æ¡¶ç®—æ³•**ï¼šå¹³æ»‘å¤„ç†è¯·æ±‚ï¼Œä¸¥æ ¼é™åˆ¶é€Ÿç‡
- **æ»‘åŠ¨çª—å£**ï¼šåŸºäºæ—¶é—´çª—å£è®¡æ•°é™æµ

---

## 6. ğŸ“Š ç›‘æ§ä¸è°ƒä¼˜æŒ‡å—


### 6.1 å…³é”®æ€§èƒ½æŒ‡æ ‡ç›‘æ§


**ğŸ”¸ æ ¸å¿ƒç›‘æ§æŒ‡æ ‡**ï¼š

| æŒ‡æ ‡ç±»å‹ | **ç›‘æ§é¡¹** | **æ­£å¸¸èŒƒå›´** | **å¼‚å¸¸é˜ˆå€¼** | **å½±å“** |
|---------|-----------|-------------|-------------|---------|
| ğŸŒ **ç½‘ç»œå»¶è¿Ÿ** | `å“åº”æ—¶é—´RT` | `< 100ms` | `> 500ms` | `ç”¨æˆ·ä½“éªŒå·®` |
| ğŸ“Š **å¹¶å‘é‡** | `QPS/TPS` | `æ ¹æ®ç³»ç»Ÿè®¾è®¡` | `è¶…è¿‡è®¾è®¡å€¼` | `ç³»ç»Ÿè¿‡è½½` |
| ğŸ”— **è¿æ¥æ•°** | `æ´»è·ƒè¿æ¥æ•°` | `< æœ€å¤§è¿æ¥æ•°80%` | `> 90%` | `è¿æ¥è€—å°½` |
| ğŸ’¾ **ç½‘ç»œå¸¦å®½** | `ç½‘ç»œååé‡` | `< å¸¦å®½ä¸Šé™80%` | `> 90%` | `ç½‘ç»œæ‹¥å¡` |

```java
// æ€§èƒ½ç›‘æ§ä»£ç ç¤ºä¾‹
@RestController
public class MonitorController {
    
    private final MeterRegistry meterRegistry;
    
    @GetMapping("/api/data")
    @Timed(value = "api.data.request", description = "Data API request time")
    public ResponseEntity<Object> getData() {
        Timer.Sample sample = Timer.start(meterRegistry);
        
        try {
            Object data = dataService.getData();
            return ResponseEntity.ok(data);
        } finally {
            sample.stop(Timer.builder("api.data.duration")
                       .description("API response time")
                       .register(meterRegistry));
        }
    }
}
```

### 6.2 ç½‘ç»œè°ƒä¼˜å‚æ•°é…ç½®


**ğŸ”¸ TCPå‚æ•°ä¼˜åŒ–**ï¼š

```bash
# Linuxç³»ç»Ÿç½‘ç»œä¼˜åŒ–å‚æ•°
# TCPè¿æ¥é˜Ÿåˆ—å¤§å°
echo 'net.core.somaxconn = 1024' >> /etc/sysctl.conf

# TCPç¼“å†²åŒºå¤§å°
echo 'net.core.rmem_default = 262144' >> /etc/sysctl.conf
echo 'net.core.rmem_max = 16777216' >> /etc/sysctl.conf
echo 'net.core.wmem_default = 262144' >> /etc/sysctl.conf
echo 'net.core.wmem_max = 16777216' >> /etc/sysctl.conf

# TCPè¿æ¥é‡ç”¨
echo 'net.ipv4.tcp_tw_reuse = 1' >> /etc/sysctl.conf

# åº”ç”¨é…ç½®
sysctl -p
```

**ğŸ”§ åº”ç”¨å±‚ä¼˜åŒ–é…ç½®**ï¼š

```yaml
# Spring Bootåº”ç”¨ç½‘ç»œé…ç½®
server:
  # æœåŠ¡å™¨ç«¯å£
  port: 8080
  tomcat:
    # æœ€å¤§è¿æ¥æ•°
    max-connections: 2000
    # æœ€å¤§çº¿ç¨‹æ•°
    threads:
      max: 200
      min-spare: 10
    # è¿æ¥è¶…æ—¶
    connection-timeout: 20000ms
    
# HTTPå®¢æˆ·ç«¯é…ç½®  
http:
  client:
    # è¿æ¥æ± å¤§å°
    max-connections: 100
    # æ¯ä¸ªè·¯ç”±æœ€å¤§è¿æ¥æ•°
    max-connections-per-route: 20
    # è¿æ¥è¶…æ—¶
    connect-timeout: 5000
    # è¯»å–è¶…æ—¶
    read-timeout: 30000
```

### 6.3 æ€§èƒ½é—®é¢˜æ’æŸ¥


**ğŸ”¸ å¸¸è§é—®é¢˜è¯Šæ–­æµç¨‹**ï¼š

```
æ€§èƒ½é—®é¢˜ â”€â”€â–¶ ç›‘æ§æŒ‡æ ‡åˆ†æ â”€â”€â–¶ ç¡®å®šç“¶é¢ˆç±»å‹ â”€â”€â–¶ é’ˆå¯¹æ€§ä¼˜åŒ–
    â”‚              â”‚                â”‚              â”‚
    â–¼              â–¼                â–¼              â–¼
 ç”¨æˆ·åé¦ˆæ…¢      RT/QPSå¼‚å¸¸      ç½‘ç»œ/CPU/å†…å­˜    è¿æ¥æ± /ç¼“å­˜/æ¶æ„
```

**ğŸ’¡ æ’æŸ¥å·¥å…·å’Œæ–¹æ³•**ï¼š

```bash
# ç½‘ç»œè¿æ¥æŸ¥çœ‹
netstat -an | grep :8080

# ç½‘ç»œå»¶è¿Ÿæµ‹è¯•  
ping target-server
traceroute target-server

# å¸¦å®½æµ‹è¯•
iperf3 -c target-server

# TCPè¿æ¥ç»Ÿè®¡
ss -s
```

**ğŸ”§ JVMç½‘ç»œç›¸å…³å‚æ•°ä¼˜åŒ–**ï¼š

```bash
# JVMå¯åŠ¨å‚æ•°ä¼˜åŒ–
java -Xms2g -Xmx2g \
     -XX:+UseG1GC \
     -Djava.net.preferIPv4Stack=true \
     -Dnetworkaddress.cache.ttl=30 \
     -jar application.jar
```

---

## 7. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 7.1 å¿…é¡»æŒæ¡çš„åŸºæœ¬æ¦‚å¿µ


```
ğŸ”¸ ç½‘ç»œIOç‰¹å¾ï¼šCPUç©ºé—²ï¼Œç½‘ç»œå¿™ï¼Œä¸»è¦æ—¶é—´èŠ±åœ¨ç­‰å¾…ç½‘ç»œä¼ è¾“
ğŸ”¸ æ ¸å¿ƒç“¶é¢ˆï¼šç½‘ç»œå»¶è¿ŸRTTã€å¸¦å®½é™åˆ¶ã€è¿æ¥å¼€é”€ã€åè®®å¤„ç†
ğŸ”¸ å…¸å‹åœºæ™¯ï¼šWebæœåŠ¡ã€å¾®æœåŠ¡è°ƒç”¨ã€APIæ¥å£ã€å®æ—¶é€šä¿¡ã€ç½‘ç»œçˆ¬è™«
ğŸ”¸ ä¼˜åŒ–æ€è·¯ï¼šå‡å°‘ç½‘ç»œå¾€è¿”ã€æé«˜å¹¶å‘åº¦ã€å¤ç”¨è¿æ¥ã€å°±è¿‘æœåŠ¡
ğŸ”¸ æ¶æ„æ¨¡å¼ï¼šCDNåˆ†å‘ã€è´Ÿè½½å‡è¡¡ã€ç¼“å­˜åˆ†å±‚ã€å¼‚æ­¥å¤„ç†
```

### 7.2 å…³é”®ä¼˜åŒ–ç­–ç•¥


**ğŸ”¹ è¿æ¥å±‚ä¼˜åŒ–**
```
é•¿è¿æ¥å¤ç”¨ â†’ å‡å°‘æ¡æ‰‹å¼€é”€
è¿æ¥æ± ç®¡ç† â†’ æ§åˆ¶è¿æ¥æ•°é‡  
HTTP/2.0 â†’ å¤šè·¯å¤ç”¨å•è¿æ¥
Keep-Alive â†’ ä¿æŒè¿æ¥æ´»è·ƒ
```

**ğŸ”¹ è¯·æ±‚å±‚ä¼˜åŒ–**  
```
æ‰¹é‡è¯·æ±‚ â†’ å‡å°‘ç½‘ç»œå¾€è¿”æ¬¡æ•°
å¼‚æ­¥å¹¶å‘ â†’ æé«˜æ•´ä½“ååé‡
è¯·æ±‚åˆå¹¶ â†’ é™ä½åè®®å¼€é”€  
æ•°æ®å‹ç¼© â†’ å‡å°‘ä¼ è¾“é‡
```

**ğŸ”¹ æ¶æ„å±‚ä¼˜åŒ–**
```
CDNåŠ é€Ÿ â†’ å°±è¿‘æœåŠ¡ç”¨æˆ·
è´Ÿè½½å‡è¡¡ â†’ åˆ†æ•£ç³»ç»Ÿå‹åŠ›
ç¼“å­˜åˆ†å±‚ â†’ å‡å°‘åç«¯è¯·æ±‚
æœåŠ¡ç†”æ–­ â†’ å¿«é€Ÿå¤±è´¥ä¿æŠ¤
```

### 7.3 æ€§èƒ½è°ƒä¼˜é‡ç‚¹


**ğŸ”¸ ç›‘æ§å…ˆè¡Œ**ï¼šå»ºç«‹å®Œå–„çš„ç›‘æ§ä½“ç³»ï¼ŒåŠæ—¶å‘ç°é—®é¢˜
**ğŸ”¸ å®šä½ç“¶é¢ˆ**ï¼šå‡†ç¡®è¯†åˆ«æ€§èƒ½ç“¶é¢ˆæ‰€åœ¨ï¼ˆç½‘ç»œã€CPUã€å†…å­˜ï¼‰
**ğŸ”¸ æ¸è¿›ä¼˜åŒ–**ï¼šä»å½±å“æœ€å¤§çš„åœ°æ–¹å¼€å§‹ï¼Œé€æ­¥ä¼˜åŒ–
**ğŸ”¸ æµ‹è¯•éªŒè¯**ï¼šæ¯æ¬¡ä¼˜åŒ–åéƒ½è¦æµ‹è¯•éªŒè¯æ•ˆæœ

### 7.4 å®é™…åº”ç”¨æŒ‡å¯¼


**ğŸ¯ é€‚ç”¨åœºæ™¯åˆ¤æ–­**ï¼š
- âœ… å¤§é‡ç½‘ç»œè¯·æ±‚/APIè°ƒç”¨
- âœ… å¾®æœåŠ¡æ¶æ„ç³»ç»Ÿ
- âœ… å®æ—¶é€šä¿¡åº”ç”¨
- âœ… ç½‘ç»œçˆ¬è™«/æ•°æ®åŒæ­¥
- âœ… CDN/ç¼“å­˜ç³»ç»Ÿ

**ğŸ”§ ä¼˜åŒ–ä¼˜å…ˆçº§**ï¼š
1. **è¿æ¥ä¼˜åŒ–**ï¼šè¿æ¥æ± ã€é•¿è¿æ¥ï¼ˆç«‹ç«¿è§å½±ï¼‰
2. **å¹¶å‘ä¼˜åŒ–**ï¼šå¼‚æ­¥å¤„ç†ã€æ‰¹é‡è¯·æ±‚ï¼ˆæ•ˆæœæ˜æ˜¾ï¼‰
3. **ç¼“å­˜ä¼˜åŒ–**ï¼šå¤šçº§ç¼“å­˜ã€å°±è¿‘æœåŠ¡ï¼ˆé•¿æœŸå—ç›Šï¼‰
4. **æ¶æ„ä¼˜åŒ–**ï¼šè´Ÿè½½å‡è¡¡ã€æœåŠ¡æ²»ç†ï¼ˆç³»ç»Ÿæ€§æå‡ï¼‰

**ğŸ§  è®°å¿†è¦ç‚¹**ï¼š
- ç½‘ç»œIOæ…¢åœ¨ç­‰å¾…ï¼Œä¸åœ¨è®¡ç®—
- å‡å°‘å¾€è¿”æ¯”æé«˜å¸¦å®½æ›´é‡è¦  
- è¿æ¥å¤ç”¨èƒœè¿‡æ–°å»ºè¿æ¥
- å¼‚æ­¥å¹¶å‘çªç ´ä¸²è¡Œé™åˆ¶
- ç¼“å­˜åˆ†å±‚é™ä½ç½‘ç»œä¾èµ–
- å°±è¿‘æœåŠ¡å‡å°‘ä¼ è¾“è·ç¦»

**æ ¸å¿ƒè®°å¿†å£è¯€**ï¼š
```
ç½‘ç»œIOæ…¢åœ¨ä¼ è¾“è·¯ï¼Œ
è¿æ¥å¤ç”¨å‡å¼€é”€ï¼Œ
å¹¶å‘å¼‚æ­¥ç ´ä¸²è¡Œï¼Œ  
ç¼“å­˜åˆ†å±‚è¿‘è·ç¦»ã€‚
```