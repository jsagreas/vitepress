---
title: 30ã€Trieæ ‘ï¼šå‰ç¼€ç©ºé—´æ¢å­—ç¬¦ä¸²æŸ¥æ‰¾æ—¶é—´
---
## ğŸ“š ç›®å½•

1. [Trieæ ‘çš„åŸºæœ¬æ¦‚å¿µ](#1-Trieæ ‘çš„åŸºæœ¬æ¦‚å¿µ)
2. [Trieæ ‘çš„æ ¸å¿ƒåŸç†](#2-Trieæ ‘çš„æ ¸å¿ƒåŸç†)
3. [æ—¶é—´ç©ºé—´æƒè¡¡åˆ†æ](#3-æ—¶é—´ç©ºé—´æƒè¡¡åˆ†æ)
4. [Trieæ ‘çš„ä¼˜åŒ–ç­–ç•¥](#4-Trieæ ‘çš„ä¼˜åŒ–ç­–ç•¥)
5. [å®é™…åº”ç”¨åœºæ™¯](#5-å®é™…åº”ç”¨åœºæ™¯)
6. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#6-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸŒ³ Trieæ ‘çš„åŸºæœ¬æ¦‚å¿µ


### 1.1 ä»€ä¹ˆæ˜¯Trieæ ‘


> ğŸ“Œ **æ ¸å¿ƒå®šä¹‰**  
> Trieæ ‘ï¼ˆå‰ç¼€æ ‘ï¼‰æ˜¯ä¸€ç§ä¸“é—¨ç”¨æ¥å­˜å‚¨å­—ç¬¦ä¸²é›†åˆçš„æ ‘å½¢æ•°æ®ç»“æ„ï¼Œå®ƒå°†å­—ç¬¦ä¸²çš„å…±åŒå‰ç¼€åˆå¹¶åˆ°åŒä¸€è·¯å¾„ä¸Šï¼Œå®ç°é«˜æ•ˆçš„å­—ç¬¦ä¸²æŸ¥æ‰¾å’Œå‰ç¼€åŒ¹é…ã€‚

**ğŸ”¤ åç§°æ¥æº**ï¼š
- `Trie` æ¥æºäºè‹±æ–‡å•è¯ "retrieval"ï¼ˆæ£€ç´¢ï¼‰
- ä¹Ÿå« **å‰ç¼€æ ‘**ã€**å­—å…¸æ ‘**
- æ ¸å¿ƒæ€æƒ³ï¼š**ç›¸åŒå‰ç¼€å…±äº«å­˜å‚¨è·¯å¾„**

### 1.2 ç”Ÿæ´»ä¸­çš„ç±»æ¯”ç†è§£


```
æƒ³è±¡ä¸€ä¸ªå›¾ä¹¦é¦†çš„åˆ†ç±»ç³»ç»Ÿï¼š

ä¼ ç»Ÿå­˜å‚¨æ–¹å¼ï¼š
["apple", "app", "application", "apply"]
- æ¯æœ¬ä¹¦å•ç‹¬å­˜æ”¾ï¼Œå ç”¨4ä¸ªä½ç½®
- æŸ¥æ‰¾æ—¶éœ€è¦é€ä¸ªæ£€æŸ¥

Trieæ ‘å­˜å‚¨æ–¹å¼ï¼š
       æ ¹
        |
        a
        |
        p â† å…±åŒå‰ç¼€"ap"
        |
        p â† å†åŠ ä¸€ä¸ª"p"å˜æˆ"app" 
       /|\ 
     [e][l][l] â† ä»è¿™é‡Œå¼€å§‹åˆ†å‰
     |   |   |
    "le" "y" "ication"

ä¼˜åŠ¿ï¼šå…±åŒçš„å‰ç¼€åªå­˜ä¸€ä»½ï¼ŒèŠ‚çº¦ç©ºé—´ï¼ŒæŸ¥æ‰¾æ›´å¿«ï¼
```

### 1.3 Trieæ ‘çš„åŸºæœ¬ç»“æ„


**ğŸ—ï¸ æ ‘å½¢ç»“æ„ç‰¹ç‚¹**ï¼š
```
åŸºæœ¬ç»„æˆï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     æ ¹èŠ‚ç‚¹       â”‚ â† ç©ºèŠ‚ç‚¹ï¼Œä¸å­˜å‚¨å­—ç¬¦
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   å†…éƒ¨èŠ‚ç‚¹       â”‚ â† å­˜å‚¨å•ä¸ªå­—ç¬¦
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  
â”‚    å¶å­èŠ‚ç‚¹      â”‚ â† è¡¨ç¤ºå®Œæ•´å•è¯çš„ç»“æŸ
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

èŠ‚ç‚¹å±æ€§ï¼š
â€¢ å­—ç¬¦å€¼ï¼šå½“å‰èŠ‚ç‚¹ä»£è¡¨çš„å­—ç¬¦
â€¢ å­èŠ‚ç‚¹æŒ‡é’ˆï¼šæŒ‡å‘ä¸‹çº§å­—ç¬¦
â€¢ ç»“æŸæ ‡è®°ï¼šæ ‡è¯†æ˜¯å¦ä¸ºå®Œæ•´å•è¯
```

---

## 2. âš™ï¸ Trieæ ‘çš„æ ¸å¿ƒåŸç†


### 2.1 Trieæ ‘çš„æ„å»ºè¿‡ç¨‹


è®©æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªå…·ä½“ä¾‹å­æ¥ç†è§£Trieæ ‘æ˜¯å¦‚ä½•æ„å»ºçš„ï¼š

**ğŸ“ ç¤ºä¾‹**ï¼šæ’å…¥å•è¯ `["cat", "car", "card", "care", "careful"]`

```
Step 1: æ’å…¥ "cat"
    root
     |
     c
     |
     a  
     |
     t*  â† *è¡¨ç¤ºå®Œæ•´å•è¯ç»“æŸ

Step 2: æ’å…¥ "car" 
    root
     |
     c
     |
     a
    / \
   t*  r*  â† å…±äº«å‰ç¼€"ca"

Step 3: æ’å…¥ "card"
    root
     |
     c
     |
     a
    / \
   t*  r
       |
       d*  â† "car"çš„åŸºç¡€ä¸Šå»¶ä¼¸

Step 4: æ’å…¥ "care"
    root
     |
     c
     |
     a
    / \
   t*  r*
      / \
     d*  e*

Step 5: æ’å…¥ "careful"
    root
     |
     c
     |
     a
    / \
   t*  r*
      / \
     d*  e
         |
         f
         |
         u
         |
         l*
```

**ğŸ” æ„å»ºè§„å¾‹**ï¼š
1. **å…±äº«å‰ç¼€**ï¼šç›¸åŒçš„å‰ç¼€å­—ç¬¦ä½¿ç”¨åŒä¸€è·¯å¾„
2. **åˆ†å‰ç‚¹**ï¼šä¸åŒå­—ç¬¦åœ¨æ­¤å¤„äº§ç”Ÿæ–°åˆ†æ”¯  
3. **ç»“æŸæ ‡è®°**ï¼šå®Œæ•´å•è¯çš„ç»“å°¾éœ€è¦æ ‡è®°

### 2.2 Trieæ ‘çš„åŸºæœ¬æ“ä½œ


#### ğŸ” æŸ¥æ‰¾æ“ä½œï¼ˆSearchï¼‰


```java
// ç®€åŒ–çš„Trieæ ‘èŠ‚ç‚¹å®šä¹‰
class TrieNode {
    char val;                    // å½“å‰å­—ç¬¦
    boolean isEnd;               // æ˜¯å¦ä¸ºå•è¯ç»“å°¾
    TrieNode[] children;         // å­èŠ‚ç‚¹æ•°ç»„ï¼ˆå‡è®¾åªæœ‰26ä¸ªå°å†™å­—æ¯ï¼‰
    
    public TrieNode(char c) {
        val = c;
        isEnd = false;
        children = new TrieNode[26];  // a-zå¯¹åº”ç´¢å¼•0-25
    }
}

// æŸ¥æ‰¾å•è¯æ˜¯å¦å­˜åœ¨
public boolean search(String word) {
    TrieNode current = root;
    
    // æŒ‰å­—ç¬¦é€å±‚å‘ä¸‹æŸ¥æ‰¾
    for (char c : word.toCharArray()) {
        int index = c - 'a';  // è®¡ç®—åœ¨æ•°ç»„ä¸­çš„ä½ç½®
        if (current.children[index] == null) {
            return false;  // è·¯å¾„ä¸å­˜åœ¨ï¼Œå•è¯ä¸åœ¨æ ‘ä¸­
        }
        current = current.children[index];  // ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªèŠ‚ç‚¹
    }
    
    return current.isEnd;  // æ£€æŸ¥æ˜¯å¦ä¸ºå®Œæ•´å•è¯
}
```

**âš¡ æŸ¥æ‰¾è¿‡ç¨‹å›¾è§£**ï¼š
```
æŸ¥æ‰¾å•è¯ "car"ï¼š
    root â†’ c â†’ a â†’ r* 
    æ­¥éª¤1  æ­¥éª¤2 æ­¥éª¤3 æ‰¾åˆ°ï¼(isEnd=true)

æŸ¥æ‰¾å•è¯ "ca"ï¼š  
    root â†’ c â†’ a 
    æ­¥éª¤1  æ­¥éª¤2  isEnd=falseï¼Œä¸æ˜¯å®Œæ•´å•è¯

æŸ¥æ‰¾å•è¯ "dog"ï¼š
    root â†’ d(ä¸å­˜åœ¨)
    æ­¥éª¤1   æŸ¥æ‰¾å¤±è´¥
```

#### â• æ’å…¥æ“ä½œï¼ˆInsertï¼‰


```java
public void insert(String word) {
    TrieNode current = root;
    
    for (char c : word.toCharArray()) {
        int index = c - 'a';
        
        // å¦‚æœè·¯å¾„ä¸å­˜åœ¨ï¼Œåˆ›å»ºæ–°èŠ‚ç‚¹
        if (current.children[index] == null) {
            current.children[index] = new TrieNode(c);
        }
        
        current = current.children[index];
    }
    
    current.isEnd = true;  // æ ‡è®°å•è¯ç»“æŸ
}
```

#### ğŸ” å‰ç¼€åŒ¹é…æ“ä½œï¼ˆStartsWithï¼‰


```java
public boolean startsWith(String prefix) {
    TrieNode current = root;
    
    for (char c : prefix.toCharArray()) {
        int index = c - 'a';
        if (current.children[index] == null) {
            return false;  // å‰ç¼€ä¸å­˜åœ¨
        }
        current = current.children[index];
    }
    
    return true;  // æ‰¾åˆ°å‰ç¼€è·¯å¾„ï¼Œä¸éœ€è¦æ£€æŸ¥isEnd
}
```

### 2.3 ä¸ºä»€ä¹ˆTrieæ ‘æŸ¥æ‰¾è¿™ä¹ˆå¿«ï¼Ÿ


> ğŸ’¡ **æ ¸å¿ƒä¼˜åŠ¿**  
> Trieæ ‘çš„æŸ¥æ‰¾æ—¶é—´åªä¾èµ–äºè¦æŸ¥æ‰¾çš„å­—ç¬¦ä¸²é•¿åº¦ï¼Œè€Œä¸ä¾èµ–äºæ ‘ä¸­å­˜å‚¨äº†å¤šå°‘ä¸ªå­—ç¬¦ä¸²ï¼

**ğŸš€ æ—¶é—´å¤æ‚åº¦åˆ†æ**ï¼š
```
ä¼ ç»Ÿå­—ç¬¦ä¸²æŸ¥æ‰¾æ–¹æ³•ï¼š
â€¢ çº¿æ€§æœç´¢ï¼šO(nÃ—m) - nä¸ªå­—ç¬¦ä¸²ï¼Œæ¯ä¸ªé•¿åº¦m
â€¢ æ’åºåäºŒåˆ†ï¼šO(log n Ã— m) - æ¯”è¾ƒæ—¶éœ€è¦é€å­—ç¬¦å¯¹æ¯”

Trieæ ‘æŸ¥æ‰¾ï¼š
â€¢ æŸ¥æ‰¾æ—¶é—´ï¼šO(m) - åªä¾èµ–äºæŸ¥æ‰¾å­—ç¬¦ä¸²çš„é•¿åº¦
â€¢ æ— è®ºæ ‘ä¸­æœ‰10ä¸ªè¿˜æ˜¯10ä¸‡ä¸ªå­—ç¬¦ä¸²ï¼ŒæŸ¥æ‰¾é€Ÿåº¦ä¸€æ ·ï¼
```

**ğŸ¯ å®é™…æ„ä¹‰**ï¼š
- è¾“å…¥æ³•çš„å€™é€‰è¯åŒ¹é…
- æœç´¢å¼•æ“çš„è‡ªåŠ¨è¡¥å…¨
- è·¯ç”±è¡¨çš„IPåœ°å€åŒ¹é…
- éƒ½èƒ½åœ¨æçŸ­æ—¶é—´å†…å®Œæˆ

---

## 3. âš–ï¸ æ—¶é—´ç©ºé—´æƒè¡¡åˆ†æ


### 3.1 ç©ºé—´æ¢æ—¶é—´çš„æƒè¡¡ä½“ç°


> âš ï¸ **å…³é”®æƒè¡¡**  
> Trieæ ‘é€šè¿‡é¢å¤–çš„å­˜å‚¨ç©ºé—´ï¼ˆèŠ‚ç‚¹ç»“æ„ï¼‰æ¢å–äº†æå¿«çš„æŸ¥æ‰¾é€Ÿåº¦ï¼Œä½†åœ¨æŸäº›æƒ…å†µä¸‹å¯èƒ½ä¼šäº§ç”Ÿç©ºé—´æµªè´¹ã€‚

#### ğŸ“Š ç©ºé—´å¼€é”€åˆ†æ


**ğŸ”¸ èŠ‚ç‚¹å­˜å‚¨å¼€é”€**ï¼š
```
æ¯ä¸ªèŠ‚ç‚¹éœ€è¦å­˜å‚¨ï¼š
â€¢ å­—ç¬¦å€¼ï¼š1å­—èŠ‚ï¼ˆå‡è®¾ASCIIï¼‰
â€¢ ç»“æŸæ ‡è®°ï¼š1å­—èŠ‚ï¼ˆbooleanï¼‰  
â€¢ å­èŠ‚ç‚¹æŒ‡é’ˆï¼š26Ã—8å­—èŠ‚=208å­—èŠ‚ï¼ˆ64ä½ç³»ç»ŸæŒ‡é’ˆï¼‰
â€¢ æ€»è®¡ï¼šçº¦210å­—èŠ‚/èŠ‚ç‚¹

å¯¹æ¯”åŸå§‹å­˜å‚¨ï¼š
åŸå§‹æ–¹æ³•ï¼šç›´æ¥å­˜å‚¨å­—ç¬¦ä¸²
"cat" = 3å­—èŠ‚
"car" = 3å­—èŠ‚  
"card" = 4å­—èŠ‚
æ€»è®¡ï¼š10å­—èŠ‚

Trieæ ‘æ–¹æ³•ï¼š
éœ€è¦7ä¸ªèŠ‚ç‚¹(root,c,a,t,r,d,å¦ä¸€ä¸ªa)
7Ã—210 = 1470å­—èŠ‚ï¼
```

**âš–ï¸ æƒè¡¡åˆ†æè¡¨**ï¼š

| å¯¹æ¯”é¡¹ | **åŸå§‹å­˜å‚¨** | **Trieæ ‘å­˜å‚¨** | **é€‚ç”¨åœºæ™¯** |
|--------|-------------|---------------|-------------|
| å­˜å‚¨ç©ºé—´ | ğŸŸ¢ å° | ğŸ”´ å¤§ | å­˜å‚¨ç©ºé—´æ•æ„Ÿ |
| æŸ¥æ‰¾é€Ÿåº¦ | ğŸ”´ æ…¢ O(nÃ—m) | ğŸŸ¢ å¿« O(m) | æŸ¥æ‰¾é¢‘ç¹åœºæ™¯ |
| å‰ç¼€åŒ¹é… | ğŸ”´ å¤æ‚ | ğŸŸ¢ ç®€å• | è‡ªåŠ¨è¡¥å…¨åŠŸèƒ½ |
| å†…å­˜å±€éƒ¨æ€§ | ğŸŸ¢ å¥½ | ğŸ”´ å·® | ç¼“å­˜å‹å¥½éœ€æ±‚ |

### 3.2 ç©ºé—´æ•ˆç‡é—®é¢˜åˆ†æ


#### ğŸ”¸ ç¨€ç–é—®é¢˜ï¼ˆSparse Problemï¼‰


```
é—®é¢˜ç¤ºä¾‹ï¼šå­˜å‚¨ ["a", "b", "c", "xyz"]

æ¯ä¸ªèŠ‚ç‚¹éƒ½éœ€è¦26ä¸ªå­æŒ‡é’ˆæ§½ä½ï¼š
    root
   /|  \
  a b   c  xyz... â† å¤§é‡ç©ºæŒ‡é’ˆæµªè´¹ç©ºé—´
  
ç©ºé—´æµªè´¹ï¼š
â€¢ rootèŠ‚ç‚¹ï¼š26ä¸ªæ§½ä½ï¼Œåªç”¨äº†4ä¸ª
â€¢ æ¯ä¸ªå¶å­èŠ‚ç‚¹ï¼š26ä¸ªæ§½ä½ï¼Œå…¨éƒ¨ä¸ºç©º
â€¢ ç©ºé—´åˆ©ç”¨ç‡æä½ï¼
```

**ğŸ“ˆ ç©ºé—´åˆ©ç”¨ç‡å…¬å¼**ï¼š
```
ç©ºé—´åˆ©ç”¨ç‡ = å®é™…ä½¿ç”¨çš„å­æŒ‡é’ˆ / æ€»åˆ†é…çš„å­æŒ‡é’ˆ

æç«¯æƒ…å†µï¼š
å­˜å‚¨å•è¯ ["a", "b", "c", "d", "e"]
åˆ©ç”¨ç‡ = 5 / (5èŠ‚ç‚¹ Ã— 26æ§½ä½) = 5/130 = 3.8%
```

#### ğŸ”¸ ä»€ä¹ˆæ—¶å€™ç©ºé—´æ¢æ—¶é—´åˆ’ç®—ï¼Ÿ


> ğŸ“Œ **åˆ’ç®—æ¡ä»¶**  
> å½“æŸ¥æ‰¾æ“ä½œé¢‘ç¹ï¼Œä¸”å­—ç¬¦ä¸²é›†åˆæœ‰è¾ƒå¤šå…±åŒå‰ç¼€æ—¶ï¼Œç©ºé—´æ¢æ—¶é—´çš„ç­–ç•¥æ‰çœŸæ­£æœ‰ä»·å€¼ã€‚

**âœ… é€‚åˆä½¿ç”¨Trieæ ‘çš„åœºæ™¯**ï¼š
1. **é«˜é¢‘æŸ¥æ‰¾**ï¼šæ¯ç§’éœ€è¦å¤„ç†å¤§é‡å­—ç¬¦ä¸²æŸ¥æ‰¾è¯·æ±‚
2. **å‰ç¼€åŒ¹é…éœ€æ±‚**ï¼šéœ€è¦æ‰¾å‡ºæ‰€æœ‰ä»¥æŸå‰ç¼€å¼€å¤´çš„å­—ç¬¦ä¸²
3. **å…±åŒå‰ç¼€å¤š**ï¼šå­—ç¬¦ä¸²é›†åˆæœ‰å¾ˆå¤šå…±åŒå‰ç¼€
4. **å®æ—¶æ€§è¦æ±‚**ï¼šå“åº”æ—¶é—´æ¯”å†…å­˜ä½¿ç”¨æ›´é‡è¦

**âŒ ä¸é€‚åˆä½¿ç”¨Trieæ ‘çš„åœºæ™¯**ï¼š
1. **å¶å°”æŸ¥æ‰¾**ï¼šæŸ¥æ‰¾æ“ä½œå¾ˆå°‘ï¼Œå“ˆå¸Œè¡¨è¶³å¤Ÿ
2. **å‰ç¼€å¾ˆå°‘**ï¼šå­—ç¬¦ä¸²é—´å‡ ä¹æ²¡æœ‰å…±åŒå‰ç¼€
3. **å†…å­˜ç´§å¼ **ï¼šå¯ç”¨å†…å­˜éå¸¸æœ‰é™
4. **é™æ€æ•°æ®**ï¼šæ•°æ®ä¸å˜ï¼Œå¯ä»¥ä½¿ç”¨æ›´ç´§å‡‘çš„æ•°æ®ç»“æ„

---

## 4. ğŸ› ï¸ Trieæ ‘çš„ä¼˜åŒ–ç­–ç•¥


### 4.1 å‹ç¼©Trieï¼ˆCompressed Trieï¼‰


> ğŸ’¡ **ä¼˜åŒ–æ€æƒ³**  
> å°†åªæœ‰ä¸€ä¸ªå­èŠ‚ç‚¹çš„èŠ‚ç‚¹é“¾å‹ç¼©æˆå•ä¸ªèŠ‚ç‚¹ï¼Œå‡å°‘ç©ºé—´æµªè´¹ã€‚

#### ğŸ”§ è·¯å¾„å‹ç¼©åŸç†


```
åŸå§‹Trieï¼ˆå­˜å‚¨å•è¯"application"ï¼‰ï¼š
root â†’ a â†’ p â†’ p â†’ l â†’ i â†’ c â†’ a â†’ t â†’ i â†’ o â†’ n*
       éœ€è¦12ä¸ªèŠ‚ç‚¹

å‹ç¼©åçš„Trieï¼š
root â†’ "application"*
       åªéœ€è¦2ä¸ªèŠ‚ç‚¹ï¼

å‹ç¼©è§„åˆ™ï¼š
â€¢ å¦‚æœèŠ‚ç‚¹åªæœ‰ä¸€ä¸ªå­èŠ‚ç‚¹ä¸”ä¸æ˜¯å•è¯ç»“å°¾ï¼Œå°±ä¸å­èŠ‚ç‚¹åˆå¹¶
â€¢ åˆå¹¶æ—¶åœ¨èŠ‚ç‚¹ä¸­å­˜å‚¨æ•´ä¸ªå­—ç¬¦ä¸²ç‰‡æ®µ
```

**ğŸ“Š å‹ç¼©æ•ˆæœå¯¹æ¯”**ï¼š
```
å­˜å‚¨ ["car", "card", "careful", "cars"]

åŸå§‹Trieï¼š
    root
     |
     c
     |  
     a
     |
     r*
    /|\
   d* e s*
      |
      f
      |
      u
      |
      l*
éœ€è¦9ä¸ªèŠ‚ç‚¹

å‹ç¼©Trieï¼š  
    root
     |
     "car"*
     /|\
   "d"* "e" "s"*
        |
      "ful"*
éœ€è¦6ä¸ªèŠ‚ç‚¹ï¼ŒèŠ‚çº¦33%ç©ºé—´
```

### 4.2 Double Array Trieï¼ˆåŒæ•°ç»„Trieï¼‰


> ğŸ“Œ **æ ¸å¿ƒæ€æƒ³**  
> ç”¨ä¸¤ä¸ªæ•°ç»„æ¥è¡¨ç¤ºTrieæ ‘ï¼Œå°†æŒ‡é’ˆç»“æ„è½¬æ¢ä¸ºæ•°ç»„ç´¢å¼•ï¼Œæ˜¾è‘—å‡å°‘å†…å­˜å¼€é”€å¹¶æé«˜ç¼“å­˜æ€§èƒ½ã€‚

#### ğŸ”¢ åŒæ•°ç»„ç»“æ„


```java
class DoubleArrayTrie {
    private int[] base;    // baseæ•°ç»„ï¼šå­˜å‚¨çŠ¶æ€è½¬ç§»çš„åŸºç¡€åœ°å€
    private int[] check;   // checkæ•°ç»„ï¼šéªŒè¯è½¬ç§»çš„åˆæ³•æ€§
    
    // çŠ¶æ€è½¬ç§»å…¬å¼ï¼šnext_state = base[current_state] + char_code
    // åˆæ³•æ€§æ£€æŸ¥ï¼šcheck[next_state] == current_state
}
```

**ğŸ¯ ç©ºé—´ä¼˜åŒ–æ•ˆæœ**ï¼š
```
ä¼ ç»ŸTrieèŠ‚ç‚¹ï¼š
â€¢ 26ä¸ªæŒ‡é’ˆ Ã— 8å­—èŠ‚ = 208å­—èŠ‚/èŠ‚ç‚¹
â€¢ åŠ ä¸Šå…¶ä»–å­—æ®µçº¦220å­—èŠ‚/èŠ‚ç‚¹

åŒæ•°ç»„Trieï¼š
â€¢ 2ä¸ªæ•´æ•° Ã— 4å­—èŠ‚ = 8å­—èŠ‚/çŠ¶æ€
â€¢ ç©ºé—´å‹ç¼©ç‡è¾¾åˆ° 96%ï¼
```

#### ğŸ” æŸ¥æ‰¾è¿‡ç¨‹ç¤ºä¾‹


```java
// åœ¨åŒæ•°ç»„ä¸­æŸ¥æ‰¾å•è¯ "car"
public boolean search(String word) {
    int state = 1;  // ä»çŠ¶æ€1å¼€å§‹ï¼ˆ0æ˜¯æ— æ•ˆçŠ¶æ€ï¼‰
    
    for (char c : word.toCharArray()) {
        int char_code = c - 'a' + 1;  // a=1, b=2, ..., z=26
        int next_state = base[state] + char_code;
        
        // æ£€æŸ¥è½¬ç§»æ˜¯å¦åˆæ³•
        if (check[next_state] != state) {
            return false;  // è·¯å¾„ä¸å­˜åœ¨
        }
        
        state = next_state;
    }
    
    // æ£€æŸ¥æ˜¯å¦ä¸ºå®Œæ•´å•è¯ï¼ˆé€šè¿‡ç‰¹æ®Šæ ‡è®°ï¼‰
    return base[state] < 0;  // è´Ÿæ•°è¡¨ç¤ºå•è¯ç»“æŸ
}
```

### 4.3 å…¶ä»–ä¼˜åŒ–ç­–ç•¥


#### ğŸ”¸ å­—ç¬¦é›†ä¼˜åŒ–


```java
// é’ˆå¯¹ç‰¹å®šå­—ç¬¦é›†çš„ä¼˜åŒ–
class OptimizedTrie {
    // å¦‚æœåªå­˜å‚¨æ•°å­—ï¼Œåªéœ€è¦10ä¸ªå­æŒ‡é’ˆ
    TrieNode[] children = new TrieNode[10];  // 0-9
    
    // å¦‚æœå­˜å‚¨IPåœ°å€ï¼Œå¯ä»¥æŒ‰æ®µåˆ†å‰²
    // 192.168.1.1 â†’ [192][168][1][1]
}
```

#### ğŸ”¸ æƒ°æ€§åˆ é™¤


```java
// åˆ é™¤æ—¶ä¸ç«‹å³é‡Šæ”¾èŠ‚ç‚¹ï¼Œåªæ ‡è®°ä¸ºåˆ é™¤
public void delete(String word) {
    // æ‰¾åˆ°å•è¯ç»“å°¾èŠ‚ç‚¹
    TrieNode node = findNode(word);
    if (node != null) {
        node.isEnd = false;  // åªæ˜¯å–æ¶ˆå•è¯æ ‡è®°
        node.deleted = true; // æ ‡è®°ä¸ºå·²åˆ é™¤
    }
    // å®é™…æ¸…ç†å·¥ä½œå»¶åè¿›è¡Œï¼Œé¿å…é¢‘ç¹çš„ç»“æ„è°ƒæ•´
}
```

---

## 5. ğŸš€ å®é™…åº”ç”¨åœºæ™¯


### 5.1 è‡ªåŠ¨è¡¥å…¨åŠŸèƒ½


> ğŸ”¥ **å…¸å‹åº”ç”¨**  
> è¾“å…¥æ³•ã€æœç´¢å¼•æ“ã€IDEä»£ç æç¤ºç­‰éƒ½å¹¿æ³›ä½¿ç”¨Trieæ ‘å®ç°è‡ªåŠ¨è¡¥å…¨åŠŸèƒ½ã€‚

#### ğŸ’» æœç´¢æ¡†è‡ªåŠ¨è¡¥å…¨å®ç°


```java
public class AutoComplete {
    private TrieNode root;
    
    // è·å–æ‰€æœ‰ä»¥prefixå¼€å¤´çš„å•è¯
    public List<String> getCompletions(String prefix) {
        List<String> results = new ArrayList<>();
        TrieNode node = findPrefix(prefix);
        
        if (node != null) {
            // ä»å‰ç¼€èŠ‚ç‚¹å¼€å§‹ï¼Œæ”¶é›†æ‰€æœ‰å®Œæ•´å•è¯
            collectWords(node, prefix, results);
        }
        
        return results;
    }
    
    // æ·±åº¦ä¼˜å…ˆæœç´¢æ”¶é›†å•è¯
    private void collectWords(TrieNode node, String currentWord, List<String> results) {
        if (node.isEnd) {
            results.add(currentWord);
        }
        
        for (int i = 0; i < 26; i++) {
            if (node.children[i] != null) {
                char nextChar = (char)('a' + i);
                collectWords(node.children[i], currentWord + nextChar, results);
            }
        }
    }
}
```

**ğŸ¯ åº”ç”¨æ•ˆæœ**ï¼š
```
ç”¨æˆ·è¾“å…¥ï¼š"prog"
Trieæ ‘å¿«é€Ÿå®šä½åˆ°å‰ç¼€èŠ‚ç‚¹
ç„¶åæ”¶é›†æ‰€æœ‰å¯èƒ½çš„è¡¥å…¨ï¼š
â€¢ "program"
â€¢ "programming" 
â€¢ "progress"
â€¢ "project"

å“åº”æ—¶é—´ï¼š< 1æ¯«ç§’ï¼ˆvs ä¼ ç»Ÿæ–¹æ³•çš„å‡ åæ¯«ç§’ï¼‰
```

### 5.2 IPè·¯ç”±åŒ¹é…


> ğŸ“Œ **ç½‘ç»œåº”ç”¨**  
> è·¯ç”±å™¨ä½¿ç”¨Trieæ ‘è¿›è¡ŒIPåœ°å€çš„æœ€é•¿å‰ç¼€åŒ¹é…ï¼Œå¿«é€Ÿå†³å®šæ•°æ®åŒ…çš„è½¬å‘è·¯å¾„ã€‚

#### ğŸŒ IPè·¯ç”±è¡¨ç¤ºä¾‹


```
è·¯ç”±è¡¨ï¼š
192.168.1.0/24  â†’ Gateway A
192.168.0.0/16  â†’ Gateway B  
192.0.0.0/8     â†’ Gateway C

Trieæ ‘ç»“æ„ï¼ˆäºŒè¿›åˆ¶è¡¨ç¤ºï¼‰ï¼š
                root
                 |
                11000000 (192)
               /
        10101000 (168)
           /    \
     00000000    00000001
     (0) â†’ B     (1) â†’ A
     |
00000000
(0) â†’ A

æŸ¥æ‰¾ 192.168.1.5ï¼š
192 â†’ 168 â†’ 1 â†’ æ‰¾åˆ°æœ€å…·ä½“çš„åŒ¹é…è§„åˆ™
```

### 5.3 å­—ç¬¦ä¸²åŒ¹é…ä¸è¿‡æ»¤


#### ğŸ” æ•æ„Ÿè¯è¿‡æ»¤ç³»ç»Ÿ


```java
public class WordFilter {
    private TrieNode root;
    
    // æ£€æŸ¥æ–‡æœ¬ä¸­æ˜¯å¦åŒ…å«æ•æ„Ÿè¯
    public boolean containsSensitiveWord(String text) {
        for (int i = 0; i < text.length(); i++) {
            if (matchFromPosition(text, i)) {
                return true;
            }
        }
        return false;
    }
    
    // ä»æŒ‡å®šä½ç½®å¼€å§‹åŒ¹é…æ•æ„Ÿè¯
    private boolean matchFromPosition(String text, int start) {
        TrieNode current = root;
        
        for (int i = start; i < text.length(); i++) {
            char c = text.charAt(i);
            int index = c - 'a';
            
            if (current.children[index] == null) {
                return false;  // æ²¡æœ‰åŒ¹é…çš„è·¯å¾„
            }
            
            current = current.children[index];
            
            if (current.isEnd) {
                return true;  // æ‰¾åˆ°å®Œæ•´çš„æ•æ„Ÿè¯
            }
        }
        
        return false;
    }
}
```

### 5.4 DNAåºåˆ—åˆ†æ


#### ğŸ§¬ åŸºå› åºåˆ—åŒ¹é…


```
ç”Ÿç‰©ä¿¡æ¯å­¦ä¸­çš„åº”ç”¨ï¼š
å­˜å‚¨å·²çŸ¥åŸºå› ç‰‡æ®µï¼š
â€¢ "ATCG"
â€¢ "ATCGATCG"  
â€¢ "GCTATCG"

ä½¿ç”¨Trieæ ‘å¯ä»¥ï¼š
â€¢ å¿«é€ŸæŸ¥æ‰¾ç‰¹å®šåºåˆ—
â€¢ å¯»æ‰¾åºåˆ—çš„å˜å¼‚æƒ…å†µ
â€¢ è¿›è¡Œæ¨¡å¼åŒ¹é…åˆ†æ

ä¼˜åŠ¿ï¼šåŸºå› åºåˆ—é€šå¸¸æœ‰å¾ˆå¤šé‡å¤æ¨¡å¼ï¼Œ
Trieæ ‘çš„å‰ç¼€å…±äº«ç‰¹æ€§éå¸¸é€‚åˆã€‚
```

---

## 6. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 6.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ Trieæ ‘æœ¬è´¨ï¼šå‰ç¼€å…±äº«çš„å­—ç¬¦ä¸²å­˜å‚¨ç»“æ„
ğŸ”¸ æ ¸å¿ƒä¼˜åŠ¿ï¼šæŸ¥æ‰¾æ—¶é—´åªä¸å­—ç¬¦ä¸²é•¿åº¦ç›¸å…³ï¼Œä¸å—æ•°æ®é‡å½±å“
ğŸ”¸ æƒè¡¡å…³é”®ï¼šç”¨æ›´å¤šå­˜å‚¨ç©ºé—´æ¢å–æ›´å¿«çš„æŸ¥æ‰¾é€Ÿåº¦
ğŸ”¸ é€‚ç”¨åœºæ™¯ï¼šé«˜é¢‘æŸ¥æ‰¾ã€å‰ç¼€åŒ¹é…ã€å…±åŒå‰ç¼€å¤šçš„æƒ…å†µ
ğŸ”¸ ä¼˜åŒ–æ–¹å‘ï¼šå‹ç¼©Trieã€åŒæ•°ç»„å®ç°ã€å­—ç¬¦é›†ä¼˜åŒ–
```

### 6.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ ä»€ä¹ˆæ—¶å€™é€‰æ‹©Trieæ ‘**ï¼š
```
é€‰æ‹©Trieæ ‘çš„åˆ¤æ–­æ ‡å‡†ï¼š
âœ… éœ€è¦é¢‘ç¹çš„å­—ç¬¦ä¸²æŸ¥æ‰¾æ“ä½œ
âœ… éœ€è¦å‰ç¼€åŒ¹é…åŠŸèƒ½  
âœ… å­—ç¬¦ä¸²é›†åˆæœ‰è¾ƒå¤šå…¬å…±å‰ç¼€
âœ… æŸ¥æ‰¾é€Ÿåº¦æ¯”å†…å­˜ä½¿ç”¨æ›´é‡è¦
âœ… éœ€è¦å®æ—¶å“åº”ï¼ˆå¦‚è‡ªåŠ¨è¡¥å…¨ï¼‰

ä¸é€‰æ‹©Trieæ ‘çš„æƒ…å†µï¼š
âŒ æŸ¥æ‰¾æ“ä½œå¾ˆå°‘ï¼Œå¶å°”ä½¿ç”¨
âŒ å­—ç¬¦ä¸²ä¹‹é—´å‰ç¼€å·®å¼‚å¾ˆå¤§
âŒ å†…å­˜èµ„æºéå¸¸ç´§å¼ 
âŒ æ•°æ®æ˜¯é™æ€çš„ï¼Œä¸ç»å¸¸æŸ¥è¯¢
```

**ğŸ”¹ ç©ºé—´æ¢æ—¶é—´çš„æƒè¡¡ç†è§£**ï¼š
```
æƒè¡¡çš„æœ¬è´¨ï¼š
â€¢ ç©ºé—´æˆæœ¬ï¼šæ¯ä¸ªèŠ‚ç‚¹éœ€è¦å¤šä¸ªæŒ‡é’ˆæ§½ä½
â€¢ æ—¶é—´æ”¶ç›Šï¼šæŸ¥æ‰¾å¤æ‚åº¦ä»O(nÃ—m)é™åˆ°O(m)
â€¢ é€‚ç”¨æ¡ä»¶ï¼šæŸ¥æ‰¾é¢‘ç‡è¶³å¤Ÿé«˜ï¼Œæ”¶ç›Šå¤§äºæˆæœ¬

å®é™…å†³ç­–ï¼š
â€¢ å°æ•°æ®é›†ï¼šå“ˆå¸Œè¡¨å¯èƒ½æ›´å¥½
â€¢ å¤§æ•°æ®é›†+é«˜é¢‘æŸ¥æ‰¾ï¼šTrieæ ‘ä¼˜åŠ¿æ˜æ˜¾
â€¢ å‰ç¼€æ“ä½œéœ€æ±‚ï¼šTrieæ ‘å‡ ä¹æ˜¯å”¯ä¸€é€‰æ‹©
```

**ğŸ”¹ ä¼˜åŒ–ç­–ç•¥çš„é€‰æ‹©**ï¼š
```
å‹ç¼©Trieï¼šé€‚ç”¨äºå•åˆ†æ”¯è·¯å¾„è¾ƒå¤šçš„æƒ…å†µ
åŒæ•°ç»„Trieï¼šé€‚ç”¨äºå¯¹å†…å­˜å’Œæ€§èƒ½è¦æ±‚éƒ½å¾ˆé«˜çš„åœºåˆ
å­—ç¬¦é›†ä¼˜åŒ–ï¼šé’ˆå¯¹ç‰¹å®šåº”ç”¨åœºæ™¯çš„å®šåˆ¶åŒ–ä¼˜åŒ–
æƒ°æ€§åˆ é™¤ï¼šé€‚ç”¨äºåˆ é™¤æ“ä½œä¸é¢‘ç¹çš„åŠ¨æ€åœºæ™¯
```

### 6.3 å®é™…åº”ç”¨ä»·å€¼


**ğŸ¯ æ ¸å¿ƒåº”ç”¨é¢†åŸŸ**ï¼š
- **æœç´¢å¼•æ“**ï¼šå…³é”®è¯æç¤ºã€æŸ¥è¯¢ä¼˜åŒ–
- **è¾“å…¥æ³•**ï¼šè¯æ±‡è”æƒ³ã€æ™ºèƒ½è¡¥å…¨  
- **ç½‘ç»œè®¾å¤‡**ï¼šè·¯ç”±è¡¨æŸ¥æ‰¾ã€åŒ…è¿‡æ»¤
- **ç”Ÿç‰©ä¿¡æ¯**ï¼šDNAåºåˆ—åˆ†æã€è›‹ç™½è´¨åŒ¹é…
- **å®‰å…¨ç³»ç»Ÿ**ï¼šæ•æ„Ÿè¯è¿‡æ»¤ã€æ¶æ„ä»£ç æ£€æµ‹

**ğŸ”§ å·¥ç¨‹å®è·µè¦ç‚¹**ï¼š
- **æ€§èƒ½ç›‘æ§**ï¼šå…³æ³¨å†…å­˜ä½¿ç”¨å’ŒæŸ¥æ‰¾å»¶è¿Ÿ
- **åŠ¨æ€è°ƒæ•´**ï¼šæ ¹æ®å®é™…æ•°æ®åˆ†å¸ƒé€‰æ‹©ä¼˜åŒ–ç­–ç•¥
- **è¾¹ç•Œå¤„ç†**ï¼šè€ƒè™‘ç©ºå­—ç¬¦ä¸²ã€ç‰¹æ®Šå­—ç¬¦ç­‰æƒ…å†µ
- **å¹¶å‘å®‰å…¨**ï¼šå¤šçº¿ç¨‹ç¯å¢ƒä¸‹çš„è¯»å†™åŒæ­¥

### 6.4 å­¦ä¹ å»ºè®®


> âœ… **è‡ªæ£€æ¸…å•**ï¼š
> - [ ] ç†è§£Trieæ ‘çš„å‰ç¼€å…±äº«æœºåˆ¶
> - [ ] æŒæ¡åŸºæœ¬çš„æ’å…¥ã€æŸ¥æ‰¾ã€å‰ç¼€åŒ¹é…æ“ä½œ
> - [ ] èƒ½å¤Ÿåˆ†æç©ºé—´æ—¶é—´æƒè¡¡çš„é€‚ç”¨åœºæ™¯
> - [ ] äº†è§£å‹ç¼©Trieç­‰ä¼˜åŒ–ç­–ç•¥
> - [ ] èƒ½å¤Ÿè¯†åˆ«é€‚åˆä½¿ç”¨Trieæ ‘çš„å®é™…é—®é¢˜

**ğŸ“š æ·±å…¥å­¦ä¹ æ–¹å‘**ï¼š
- ç ”ç©¶æ›´å¤šTrieå˜ç§ï¼ˆå¦‚ACè‡ªåŠ¨æœºï¼‰
- å­¦ä¹ åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­çš„åº”ç”¨
- æ¢ç´¢ä¸å…¶ä»–æ•°æ®ç»“æ„çš„ç»„åˆä½¿ç”¨
- åˆ†æä¸åŒç¼–ç¨‹è¯­è¨€çš„å®ç°å·®å¼‚

**ğŸ¯ è®°å¿†è¦ç‚¹**ï¼š
- Trieæ ‘æ ¸å¿ƒæ˜¯å‰ç¼€å…±äº«ï¼ŒæŸ¥æ‰¾æ—¶é—´åªçœ‹å­—ç¬¦ä¸²é•¿åº¦
- é€‚ç”¨äºé«˜é¢‘æŸ¥æ‰¾ä¸”æœ‰å…¬å…±å‰ç¼€çš„å­—ç¬¦ä¸²é›†åˆ
- ç©ºé—´æ¢æ—¶é—´çš„ç»å…¸æ¡ˆä¾‹ï¼Œæƒè¡¡è¦çœ‹å…·ä½“åº”ç”¨åœºæ™¯
- è‡ªåŠ¨è¡¥å…¨ã€è·¯ç”±åŒ¹é…ã€å­—ç¬¦ä¸²è¿‡æ»¤æ˜¯ä¸‰å¤§å…¸å‹åº”ç”¨