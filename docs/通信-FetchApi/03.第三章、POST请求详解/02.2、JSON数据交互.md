---
title: 2ã€JSONæ•°æ®äº¤äº’
---
## ğŸ“š ç›®å½•

1. [JSONæ•°æ®æ ¼å¼åŸºç¡€](#1-JSONæ•°æ®æ ¼å¼åŸºç¡€)
2. [å‘é€JSONæ•°æ®](#2-å‘é€JSONæ•°æ®)
3. [æ¥æ”¶JSONå“åº”](#3-æ¥æ”¶JSONå“åº”)
4. [Content-Typeè¯¦è§£](#4-Content-Typeè¯¦è§£)
5. [é”™è¯¯å¤„ç†](#5-é”™è¯¯å¤„ç†)
6. [å®Œæ•´å®æˆ˜ç¤ºä¾‹](#6-å®Œæ•´å®æˆ˜ç¤ºä¾‹)
7. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#7-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ“‹ JSONæ•°æ®æ ¼å¼åŸºç¡€


### 1.1 ä»€ä¹ˆæ˜¯JSON

> ğŸ’¡ **é€šä¿—ç†è§£**ï¼šJSONå°±æ˜¯ä¸€ç§ç”¨æ–‡å­—æè¿°æ•°æ®çš„æ–¹å¼ï¼Œå°±åƒå†™è´­ç‰©æ¸…å•ä¸€æ ·ç®€å•æ˜äº†

**JSONå…¨ç§°**ï¼šJavaScript Object Notationï¼ˆJavaScriptå¯¹è±¡è¡¨ç¤ºæ³•ï¼‰
**æœ¬è´¨**ï¼šä¸€ç§è½»é‡çº§çš„æ•°æ®äº¤æ¢æ ¼å¼

```
æƒ³è±¡ä¸€ä¸‹å†™è´­ç‰©æ¸…å•ï¼š
ä¼ ç»Ÿæ–¹å¼ï¼šè‹¹æœ3ä¸ªï¼Œé¦™è•‰2æ–¤ï¼Œç‰›å¥¶1ç“¶
JSONæ–¹å¼ï¼š{"è‹¹æœ": 3, "é¦™è•‰": "2æ–¤", "ç‰›å¥¶": 1}
```

### 1.2 JSONçš„åŸºæœ¬ç»“æ„

```javascript
// æœ€ç®€å•çš„JSON - å°±æ˜¯æŠŠæ•°æ®ç”¨å¤§æ‹¬å·åŒ…èµ·æ¥
{
  "name": "å¼ ä¸‰",           // å­—ç¬¦ä¸²ç”¨åŒå¼•å·
  "age": 25,               // æ•°å­—ç›´æ¥å†™
  "isStudent": true,       // å¸ƒå°”å€¼true/false
  "hobbies": ["æ¸¸æˆ", "ç”µå½±"] // æ•°ç»„ç”¨æ–¹æ‹¬å·
}
```

**ğŸ“ JSONè§„åˆ™**ï¼š
- âœ… å±æ€§åå¿…é¡»ç”¨**åŒå¼•å·**åŒ…å›´
- âœ… å­—ç¬¦ä¸²å€¼ä¹Ÿå¿…é¡»ç”¨**åŒå¼•å·**
- âœ… æ•°å­—ã€å¸ƒå°”å€¼ä¸éœ€è¦å¼•å·
- âŒ ä¸èƒ½æœ‰æ³¨é‡Šï¼Œä¸èƒ½æœ‰å¤šä½™çš„é€—å·

---

## 2. ğŸ“¤ å‘é€JSONæ•°æ®


### 2.1 ä¸ºä»€ä¹ˆè¦å‘é€JSONæ•°æ®

> ğŸ¤” **å®é™…åœºæ™¯**ï¼šå½“ä½ åœ¨ç½‘ç«™ä¸Šæ³¨å†Œè´¦å·æ—¶ï¼Œéœ€è¦æŠŠç”¨æˆ·åã€å¯†ç ã€é‚®ç®±ç­‰ä¿¡æ¯å‘é€ç»™æœåŠ¡å™¨

```
ç”¨æˆ·æ³¨å†Œè¡¨å• â†’ è½¬æ¢æˆJSON â†’ å‘é€ç»™æœåŠ¡å™¨
å§“åï¼šæå››        {"name": "æå››",
å¯†ç ï¼š123456   â†’   "password": "123456",
é‚®ç®±ï¼šxx@qq.com    "email": "xx@qq.com"}
```

### 2.2 JSON.stringify() - æŠŠå¯¹è±¡å˜æˆæ–‡å­—

> ğŸ’¡ **ä½œç”¨**ï¼šæŠŠJavaScriptå¯¹è±¡è½¬æ¢æˆJSONå­—ç¬¦ä¸²ï¼Œå°±åƒæŠŠå®ç‰©å˜æˆæ–‡å­—æè¿°

```javascript
// ç¬¬ä¸€æ­¥ï¼šå‡†å¤‡è¦å‘é€çš„æ•°æ®
const userData = {
  name: "æå››",
  password: "123456",
  email: "lisi@qq.com"
};

// ç¬¬äºŒæ­¥ï¼šè½¬æ¢æˆJSONå­—ç¬¦ä¸²
const jsonString = JSON.stringify(userData);
console.log(jsonString);
// è¾“å‡ºï¼š'{"name":"æå››","password":"123456","email":"lisi@qq.com"}'
```

### 2.3 å®Œæ•´çš„POSTè¯·æ±‚ç¤ºä¾‹

```javascript
// ç”¨æˆ·æ³¨å†Œçš„å®Œæ•´ä»£ç 
async function registerUser() {
  // å‡†å¤‡ç”¨æˆ·æ•°æ®
  const userData = {
    name: "æå››",
    password: "123456",
    email: "lisi@qq.com"
  };

  try {
    const response = await fetch('/api/register', {
      method: 'POST',                    // POSTæ–¹æ³•
      headers: {
        'Content-Type': 'application/json'  // å‘Šè¯‰æœåŠ¡å™¨ï¼šæˆ‘å‘çš„æ˜¯JSON
      },
      body: JSON.stringify(userData)     // æŠŠå¯¹è±¡è½¬æˆJSONå­—ç¬¦ä¸²
    });

    console.log('æ³¨å†ŒæˆåŠŸï¼');
  } catch (error) {
    console.log('æ³¨å†Œå¤±è´¥ï¼š', error);
  }
}
```

---

## 3. ğŸ“¥ æ¥æ”¶JSONå“åº”


### 3.1 response.json() - æŠŠæœåŠ¡å™¨å›å¤è½¬æˆå¯¹è±¡

> ğŸ’¡ **ä½œç”¨**ï¼šæŠŠæœåŠ¡å™¨è¿”å›çš„JSONå­—ç¬¦ä¸²è½¬æ¢æˆJavaScriptå¯¹è±¡ï¼Œæ–¹ä¾¿æˆ‘ä»¬ä½¿ç”¨

```
æœåŠ¡å™¨è¿”å›çš„æ–‡å­—              â†’  è½¬æ¢åçš„å¯¹è±¡
'{"status":"success"}'       â†’  {status: "success"}
```

### 3.2 å¤„ç†æœåŠ¡å™¨å“åº”

```javascript
async function loginUser() {
  const loginData = {
    username: "zhangsan",
    password: "123456"
  };

  try {
    const response = await fetch('/api/login', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify(loginData)
    });

    // æŠŠæœåŠ¡å™¨çš„å›å¤è½¬æˆå¯¹è±¡
    const result = await response.json();
    
    // ç°åœ¨å¯ä»¥ç›´æ¥ä½¿ç”¨å¯¹è±¡çš„å±æ€§äº†
    if (result.success) {
      console.log('ç™»å½•æˆåŠŸï¼ç”¨æˆ·IDï¼š', result.userId);
    } else {
      console.log('ç™»å½•å¤±è´¥ï¼š', result.message);
    }
  } catch (error) {
    console.log('ç½‘ç»œé”™è¯¯ï¼š', error);
  }
}
```

### 3.3 å¸¸è§çš„æœåŠ¡å™¨å“åº”æ ¼å¼

```javascript
// æˆåŠŸå“åº”çš„å¸¸è§æ ¼å¼
{
  "success": true,
  "message": "æ“ä½œæˆåŠŸ",
  "data": {
    "userId": 123,
    "username": "zhangsan"
  }
}

// å¤±è´¥å“åº”çš„å¸¸è§æ ¼å¼
{
  "success": false,
  "message": "ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯",
  "errorCode": 1001
}
```

---

## 4. ğŸ” Content-Typeè¯¦è§£


### 4.1 ä»€ä¹ˆæ˜¯Content-Type

> ğŸ’¡ **é€šä¿—ç†è§£**ï¼šContent-Typeå°±åƒåŒ…è£¹ä¸Šçš„æ ‡ç­¾ï¼Œå‘Šè¯‰æ”¶ä»¶äººé‡Œé¢è£…çš„æ˜¯ä»€ä¹ˆ

```
å¯„å¿«é€’çš„æ¯”å–»ï¼š
ğŸ“¦ æ˜“ç¢å“ â†’ Content-Type: fragile
ğŸ“¦ é£Ÿå“   â†’ Content-Type: food
ğŸ“¦ JSONæ•°æ® â†’ Content-Type: application/json
```

### 4.2 ä¸¤ç§å¸¸è§çš„Content-Typeå¯¹æ¯”


| ç±»å‹ | **ç”¨é€”** | **æ•°æ®æ ¼å¼** | **ä½¿ç”¨åœºæ™¯** |
|------|---------|------------|-------------|
| `application/json` | JSONæ•°æ® | `{"name":"å¼ ä¸‰"}` | **ç°ä»£APIæ¥å£**ï¼Œæ•°æ®å¤æ‚ |
| `application/x-www-form-urlencoded` | è¡¨å•æ•°æ® | `name=å¼ ä¸‰&age=25` | **ä¼ ç»Ÿè¡¨å•æäº¤**ï¼Œæ•°æ®ç®€å• |

### 4.3 ä¸¤ç§æ ¼å¼çš„å®é™…å¯¹æ¯”

```javascript
// åŒæ ·çš„æ•°æ®ï¼Œä¸åŒçš„å‘é€æ–¹å¼

// æ–¹å¼1ï¼šJSONæ ¼å¼ï¼ˆæ¨èï¼‰
fetch('/api/user', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    name: "å¼ ä¸‰",
    age: 25,
    hobbies: ["æ¸¸æˆ", "ç”µå½±"]  // JSONå¯ä»¥è½»æ¾å¤„ç†æ•°ç»„
  })
});

// æ–¹å¼2ï¼šè¡¨å•æ ¼å¼ï¼ˆä¼ ç»Ÿï¼‰
fetch('/api/user', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/x-www-form-urlencoded'
  },
  body: 'name=å¼ ä¸‰&age=25&hobbies=æ¸¸æˆ,ç”µå½±'  // æ•°ç»„è¦æ‰‹åŠ¨æ‹¼æ¥
});
```

> âš ï¸ **æ–°æ‰‹å»ºè®®**ï¼šç°åœ¨å¤§å¤šæ•°APIéƒ½ä½¿ç”¨JSONæ ¼å¼ï¼Œæ›´ç®€å•æ›´å¼ºå¤§

---

## 5. ğŸš¨ é”™è¯¯å¤„ç†


### 5.1 å¸¸è§é”™è¯¯ç±»å‹

```javascript
async function handleJsonRequest() {
  try {
    const response = await fetch('/api/data', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({ message: "hello" })
    });

    // æ£€æŸ¥HTTPçŠ¶æ€ç 
    if (!response.ok) {
      throw new Error(`HTTPé”™è¯¯ï¼š${response.status}`);
    }

    const data = await response.json();
    console.log('æˆåŠŸï¼š', data);

  } catch (error) {
    // å¤„ç†å„ç§é”™è¯¯
    if (error.name === 'SyntaxError') {
      console.log('æœåŠ¡å™¨è¿”å›çš„ä¸æ˜¯æœ‰æ•ˆçš„JSON');
    } else if (error.message.includes('HTTPé”™è¯¯')) {
      console.log('æœåŠ¡å™¨è¿”å›é”™è¯¯çŠ¶æ€ç ');
    } else {
      console.log('ç½‘ç»œè¿æ¥é—®é¢˜ï¼š', error);
    }
  }
}
```

### 5.2 JSONè§£æé”™è¯¯å¤„ç†

```javascript
// å®‰å…¨çš„JSONè§£ææ–¹æ³•
async function safeJsonParse(response) {
  try {
    return await response.json();
  } catch (error) {
    console.log('JSONè§£æå¤±è´¥ï¼ŒæœåŠ¡å™¨å¯èƒ½è¿”å›äº†HTMLæˆ–å…¶ä»–æ ¼å¼');
    const text = await response.text();
    console.log('å®é™…è¿”å›å†…å®¹ï¼š', text);
    throw new Error('æ— æ³•è§£ææœåŠ¡å™¨å“åº”');
  }
}
```

---

## 6. ğŸ› ï¸ å®Œæ•´å®æˆ˜ç¤ºä¾‹


### 6.1 ç”¨æˆ·ç®¡ç†ç³»ç»Ÿ

```javascript
// å®Œæ•´çš„ç”¨æˆ·ç®¡ç†ç¤ºä¾‹
class UserManager {
  constructor(baseUrl) {
    this.baseUrl = baseUrl;
  }

  // åˆ›å»ºç”¨æˆ·
  async createUser(userData) {
    try {
      const response = await fetch(`${this.baseUrl}/users`, {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify(userData)
      });

      if (!response.ok) {
        throw new Error(`åˆ›å»ºå¤±è´¥ï¼š${response.status}`);
      }

      const result = await response.json();
      console.log('ç”¨æˆ·åˆ›å»ºæˆåŠŸï¼š', result);
      return result;
    } catch (error) {
      console.error('åˆ›å»ºç”¨æˆ·å¤±è´¥ï¼š', error);
      throw error;
    }
  }

  // è·å–ç”¨æˆ·ä¿¡æ¯
  async getUser(userId) {
    try {
      const response = await fetch(`${this.baseUrl}/users/${userId}`);
      
      if (!response.ok) {
        throw new Error(`è·å–å¤±è´¥ï¼š${response.status}`);
      }

      const user = await response.json();
      return user;
    } catch (error) {
      console.error('è·å–ç”¨æˆ·å¤±è´¥ï¼š', error);
      throw error;
    }
  }
}

// ä½¿ç”¨ç¤ºä¾‹
const userManager = new UserManager('/api');

// åˆ›å»ºæ–°ç”¨æˆ·
userManager.createUser({
  name: "ç‹äº”",
  email: "wangwu@example.com",
  age: 28
}).then(user => {
  console.log('æ–°ç”¨æˆ·IDï¼š', user.id);
});
```

### 6.2 è¡¨å•æäº¤çš„å®é™…åº”ç”¨

```javascript
// HTMLè¡¨å•è‡ªåŠ¨è½¬JSONæäº¤
function submitForm(formElement) {
  // è·å–è¡¨å•æ•°æ®
  const formData = new FormData(formElement);
  
  // è½¬æ¢ä¸ºæ™®é€šå¯¹è±¡
  const userData = {};
  formData.forEach((value, key) => {
    userData[key] = value;
  });

  // å‘é€JSONè¯·æ±‚
  return fetch('/api/submit', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json'
    },
    body: JSON.stringify(userData)
  });
}

// ç»‘å®šè¡¨å•æäº¤äº‹ä»¶
document.getElementById('userForm').addEventListener('submit', async (e) => {
  e.preventDefault();  // é˜»æ­¢é»˜è®¤æäº¤
  
  try {
    const response = await submitForm(e.target);
    const result = await response.json();
    
    if (result.success) {
      alert('æäº¤æˆåŠŸï¼');
    } else {
      alert('æäº¤å¤±è´¥ï¼š' + result.message);
    }
  } catch (error) {
    alert('ç½‘ç»œé”™è¯¯ï¼š' + error.message);
  }
});
```

---

## 7. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 7.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ

```
ğŸ”¸ JSONï¼šä¸€ç§ç”¨æ–‡å­—æè¿°æ•°æ®çš„æ ‡å‡†æ ¼å¼
ğŸ”¸ JSON.stringify()ï¼šæŠŠJavaScriptå¯¹è±¡è½¬æˆJSONå­—ç¬¦ä¸²
ğŸ”¸ response.json()ï¼šæŠŠæœåŠ¡å™¨è¿”å›çš„JSONè½¬æˆJavaScriptå¯¹è±¡
ğŸ”¸ Content-Typeï¼šå‘Šè¯‰æœåŠ¡å™¨æˆ‘ä»¬å‘é€çš„æ˜¯ä»€ä¹ˆæ ¼å¼çš„æ•°æ®
ğŸ”¸ application/jsonï¼šç°ä»£APIçš„æ ‡å‡†æ•°æ®æ ¼å¼
```

### 7.2 æ ‡å‡†çš„JSONäº¤äº’æµç¨‹

```
1ï¸âƒ£ å‡†å¤‡æ•°æ®ï¼ˆJavaScriptå¯¹è±¡ï¼‰
     â†“
2ï¸âƒ£ è½¬æ¢æ ¼å¼ï¼ˆJSON.stringify()ï¼‰
     â†“  
3ï¸âƒ£ è®¾ç½®è¯·æ±‚å¤´ï¼ˆContent-Type: application/jsonï¼‰
     â†“
4ï¸âƒ£ å‘é€è¯·æ±‚ï¼ˆfetch + POSTï¼‰
     â†“
5ï¸âƒ£ æ¥æ”¶å“åº”ï¼ˆresponse.json()ï¼‰
     â†“
6ï¸âƒ£ å¤„ç†ç»“æœï¼ˆä½¿ç”¨JavaScriptå¯¹è±¡ï¼‰
```

### 7.3 å¸¸ç”¨ä»£ç æ¨¡æ¿

```javascript
// JSONè¯·æ±‚çš„æ ‡å‡†æ¨¡æ¿
async function jsonRequest(url, data) {
  try {
    const response = await fetch(url, {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify(data)
    });

    if (!response.ok) {
      throw new Error(`è¯·æ±‚å¤±è´¥ï¼š${response.status}`);
    }

    return await response.json();
  } catch (error) {
    console.error('è¯·æ±‚é”™è¯¯ï¼š', error);
    throw error;
  }
}
```

### 7.4 å®é™…åº”ç”¨ä»·å€¼

- **ğŸ“± ç°ä»£Webåº”ç”¨**ï¼šå‡ ä¹æ‰€æœ‰ç°ä»£ç½‘ç«™éƒ½ä½¿ç”¨JSONè¿›è¡Œæ•°æ®äº¤äº’
- **ğŸ”„ å‰åç«¯åˆ†ç¦»**ï¼šå‰ç«¯JavaScriptå’Œåç«¯APIçš„æ ‡å‡†é€šä¿¡æ–¹å¼
- **ğŸ“Š æ•°æ®å¤„ç†**ï¼šå¤æ‚æ•°æ®ç»“æ„çš„æœ€ä½³ä¼ è¾“æ ¼å¼
- **ğŸŒ è·¨å¹³å°**ï¼šæ‰€æœ‰ç¼–ç¨‹è¯­è¨€éƒ½æ”¯æŒJSONæ ¼å¼

**æ ¸å¿ƒè®°å¿†**ï¼š
- JSONæ˜¯ç°ä»£ç½‘ç»œé€šä¿¡çš„æ ‡å‡†è¯­è¨€
- stringify()å‘é€å‰è½¬æ¢ï¼Œjson()æ¥æ”¶åè½¬æ¢
- Content-Typeå‘Šè¯‰æœåŠ¡å™¨æ•°æ®æ ¼å¼
- é”™è¯¯å¤„ç†è®©ç¨‹åºæ›´å¥å£®å¯é 