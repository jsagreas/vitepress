---
title: 2ã€GETè¯·æ±‚å‚æ•°ä¸URLæ„é€ 
---
## ğŸ“š ç›®å½•

1. [GETè¯·æ±‚å‚æ•°åŸºç¡€æ¦‚å¿µ](#1-GETè¯·æ±‚å‚æ•°åŸºç¡€æ¦‚å¿µ)
2. [URLå‚æ•°æ„é€ æ–¹æ³•](#2-URLå‚æ•°æ„é€ æ–¹æ³•)
3. [URLSearchParamså¯¹è±¡è¯¦è§£](#3-URLSearchParamså¯¹è±¡è¯¦è§£)
4. [å‚æ•°ç¼–ç ä¸ä¸­æ–‡å¤„ç†](#4-å‚æ•°ç¼–ç ä¸ä¸­æ–‡å¤„ç†)
5. [åŠ¨æ€å‚æ•°æ„é€ æŠ€å·§](#5-åŠ¨æ€å‚æ•°æ„é€ æŠ€å·§)
6. [å‚æ•°éªŒè¯ä¸é”™è¯¯å¤„ç†](#6-å‚æ•°éªŒè¯ä¸é”™è¯¯å¤„ç†)
7. [å®é™…åº”ç”¨æ¡ˆä¾‹](#7-å®é™…åº”ç”¨æ¡ˆä¾‹)
8. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#8-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ¯ GETè¯·æ±‚å‚æ•°åŸºç¡€æ¦‚å¿µ


### 1.1 ä»€ä¹ˆæ˜¯GETè¯·æ±‚å‚æ•°


**ğŸ”¸ ç®€å•ç†è§£**
GETè¯·æ±‚å‚æ•°å°±åƒæ˜¯åœ¨ç½‘å€åé¢**å†™å¤‡æ³¨**ï¼Œå‘Šè¯‰æœåŠ¡å™¨ä½ æƒ³è¦ä»€ä¹ˆæ•°æ®ã€‚

```
æƒ³è±¡ä¸€ä¸‹ç‚¹å¤–å–ï¼š
åŸºç¡€ç½‘å€ï¼šhttps://restaurant.com/menu
åŠ ä¸Šå‚æ•°ï¼šhttps://restaurant.com/menu?type=pizza&size=large&extra=cheese

è¿™å°±æ˜¯åœ¨è¯´ï¼šç»™æˆ‘ä¸€ä¸ªå¤§å·æŠ«è¨ï¼ŒåŠ å¥¶é…ª
```

### 1.2 GETå‚æ•°çš„ç»„æˆç»“æ„


**ğŸ“‹ æ ‡å‡†æ ¼å¼è§£æ**
```
å®Œæ•´URL = åŸºç¡€åœ°å€ + ? + å‚æ•°1=å€¼1 + & + å‚æ•°2=å€¼2 + & + ...

ç¤ºä¾‹æ‹†è§£ï¼š
https://api.example.com/users?name=å¼ ä¸‰&age=25&city=åŒ—äº¬

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    åŸºç¡€APIåœ°å€           â”‚?â”‚          æŸ¥è¯¢å‚æ•°              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â””â”€â”€ å‚æ•°åˆ†éš”ç¬¦
```

**ğŸ”¸ æ ¸å¿ƒè§„åˆ™**
- `?` **é—®å·**ï¼šåˆ†éš”åŸºç¡€URLå’Œå‚æ•°ï¼Œ**åªèƒ½æœ‰ä¸€ä¸ª**
- `&` **å’Œå·**ï¼šè¿æ¥å¤šä¸ªå‚æ•°ï¼Œ**å¯ä»¥æœ‰å¾ˆå¤šä¸ª**
- `=` **ç­‰å·**ï¼šè¿æ¥å‚æ•°åå’Œå‚æ•°å€¼

### 1.3 ä¸ºä»€ä¹ˆè¦ç”¨GETå‚æ•°


**ğŸ’¡ å®é™…ç”¨é€”å¯¹æ¯”**

| **åœºæ™¯** | **ä¸ç”¨å‚æ•°** | **ä½¿ç”¨å‚æ•°** | **ä¼˜åŠ¿** |
|---------|-------------|-------------|----------|
| **æœç´¢å•†å“** | `éœ€è¦å¤šä¸ªAPIæ¥å£` | `ä¸€ä¸ªæ¥å£+å‚æ•°` | `ä»£ç ç®€æ´` |
| **ç­›é€‰æ•°æ®** | `å†™æ­»åœ¨ä»£ç é‡Œ` | `åŠ¨æ€ä¼ é€’æ¡ä»¶` | `çµæ´»æ€§å¼º` |
| **åˆ†é¡µæŸ¥è¯¢** | `æ¯é¡µå•ç‹¬æ¥å£` | `page=1,2,3...` | `æ˜“äºç»´æŠ¤` |

---

## 2. ğŸ› ï¸ URLå‚æ•°æ„é€ æ–¹æ³•


### 2.1 æ‰‹åŠ¨æ‹¼æ¥æ–¹å¼


**ğŸ”¸ åŸºç¡€æ‹¼æ¥**
```javascript
// ç®€å•çš„å‚æ•°æ‹¼æ¥
let baseUrl = 'https://api.example.com/search';
let keyword = 'è‹¹æœæ‰‹æœº';
let page = 1;

// æ‰‹åŠ¨æ‹¼æ¥ï¼ˆä¸æ¨èï¼Œå®¹æ˜“å‡ºé”™ï¼‰
let url = baseUrl + '?keyword=' + keyword + '&page=' + page;
console.log(url);
// ç»“æœï¼šhttps://api.example.com/search?keyword=è‹¹æœæ‰‹æœº&page=1
```

**âš ï¸ æ‰‹åŠ¨æ‹¼æ¥çš„é—®é¢˜**
```javascript
// é—®é¢˜1ï¼šä¸­æ–‡ä¹±ç 
let keyword = 'è‹¹æœæ‰‹æœº';
let badUrl = 'https://api.com/search?q=' + keyword;
// ç»“æœï¼šä¸­æ–‡å¯èƒ½æ˜¾ç¤ºä¸ºä¹±ç 

// é—®é¢˜2ï¼šç‰¹æ®Šå­—ç¬¦å†²çª
let query = 'a&b=c';  // åŒ…å«&å’Œ=
let badUrl2 = 'https://api.com/search?q=' + query;
// ç»“æœï¼šå‚æ•°è§£æé”™è¯¯
```

### 2.2 æ¨¡æ¿å­—ç¬¦ä¸²æ–¹å¼


**ğŸ”¸ ä½¿ç”¨æ¨¡æ¿å­—ç¬¦ä¸²**
```javascript
// æ›´æ¸…æ™°çš„å†™æ³•
let baseUrl = 'https://api.example.com/products';
let category = 'æ‰‹æœº';
let minPrice = 1000;
let maxPrice = 5000;

let url = `${baseUrl}?category=${category}&min_price=${minPrice}&max_price=${maxPrice}`;

console.log(url);
// ç»“æœï¼šhttps://api.example.com/products?category=æ‰‹æœº&min_price=1000&max_price=5000
```

### 2.3 å‚æ•°å¯¹è±¡æ–¹å¼


**ğŸ”¸ å…ˆå®šä¹‰å¯¹è±¡ï¼Œå†è½¬æ¢**
```javascript
// æŠŠå‚æ•°æ•´ç†æˆå¯¹è±¡
let params = {
    keyword: 'ç¬”è®°æœ¬ç”µè„‘',
    brand: 'è”æƒ³',
    page: 1,
    size: 20
};

// æ‰‹åŠ¨è½¬æ¢æˆæŸ¥è¯¢å­—ç¬¦ä¸²
let queryString = Object.keys(params)
    .map(key => `${key}=${params[key]}`)
    .join('&');

let finalUrl = `https://api.example.com/search?${queryString}`;
console.log(finalUrl);
// ç»“æœï¼šhttps://api.example.com/search?keyword=ç¬”è®°æœ¬ç”µè„‘&brand=è”æƒ³&page=1&size=20
```

---

## 3. ğŸ”§ URLSearchParamså¯¹è±¡è¯¦è§£


### 3.1 ä»€ä¹ˆæ˜¯URLSearchParams


**ğŸ”¸ ç®€å•ç†è§£**
`URLSearchParams`æ˜¯æµè§ˆå™¨æä¾›çš„**ä¸“é—¨å¤„ç†URLå‚æ•°çš„å·¥å…·**ï¼Œå°±åƒä¸€ä¸ªæ™ºèƒ½çš„å‚æ•°ç®¡ç†å™¨ã€‚

```
ä¼ ç»Ÿæ–¹å¼ï¼šæ‰‹å·¥æ‹¼æ¥å­—ç¬¦ä¸²ï¼ˆå®¹æ˜“å‡ºé”™ï¼‰
URLSearchParamsï¼šè‡ªåŠ¨å¤„ç†ç¼–ç ã€æ ¼å¼ç­‰é—®é¢˜ï¼ˆçœå¿ƒçœåŠ›ï¼‰
```

### 3.2 åŸºç¡€åˆ›å»ºå’Œä½¿ç”¨


**ğŸ”¸ åˆ›å»ºURLSearchParamså¯¹è±¡**
```javascript
// æ–¹æ³•1ï¼šä»ç©ºå¯¹è±¡å¼€å§‹
let params = new URLSearchParams();
params.append('name', 'å¼ ä¸‰');
params.append('age', '25');

// æ–¹æ³•2ï¼šä»å¯¹è±¡åˆ›å»º
let userInfo = {
    name: 'æå››',
    age: 30,
    city: 'ä¸Šæµ·'
};
let params2 = new URLSearchParams(userInfo);

// æ–¹æ³•3ï¼šä»ç°æœ‰æŸ¥è¯¢å­—ç¬¦ä¸²åˆ›å»º
let params3 = new URLSearchParams('?name=ç‹äº”&age=35');
```

### 3.3 å¸¸ç”¨æ“ä½œæ–¹æ³•


**ğŸ“‹ æ ¸å¿ƒæ–¹æ³•è¯¦è§£**

```javascript
let params = new URLSearchParams();

// æ·»åŠ å‚æ•°
params.append('hobby', 'ç¯®çƒ');  // æ·»åŠ æ–°å‚æ•°
params.append('hobby', 'è¶³çƒ');  // åŒåå‚æ•°å¯ä»¥æœ‰å¤šä¸ª

// è®¾ç½®å‚æ•°ï¼ˆä¼šè¦†ç›–åŒåå‚æ•°ï¼‰
params.set('name', 'å¼ ä¸‰');

// è·å–å‚æ•°
console.log(params.get('name'));        // å¼ ä¸‰
console.log(params.getAll('hobby'));    // ['ç¯®çƒ', 'è¶³çƒ']

// æ£€æŸ¥å‚æ•°æ˜¯å¦å­˜åœ¨
console.log(params.has('name'));        // true

// åˆ é™¤å‚æ•°
params.delete('hobby');

// è½¬æ¢ä¸ºå­—ç¬¦ä¸²
console.log(params.toString());         // name=å¼ ä¸‰
```

### 3.4 å®é™…ä½¿ç”¨ç¤ºä¾‹


**ğŸ”¸ æ„å»ºæœç´¢è¯·æ±‚**
```javascript
// æœç´¢å•†å“çš„å®Œæ•´ç¤ºä¾‹
function searchProducts(searchOptions) {
    let params = new URLSearchParams();
    
    // æ·»åŠ æœç´¢å…³é”®è¯
    if (searchOptions.keyword) {
        params.append('q', searchOptions.keyword);
    }
    
    // æ·»åŠ åˆ†ç±»ç­›é€‰
    if (searchOptions.category) {
        params.append('category', searchOptions.category);
    }
    
    // æ·»åŠ ä»·æ ¼èŒƒå›´
    if (searchOptions.minPrice) {
        params.append('min_price', searchOptions.minPrice);
    }
    if (searchOptions.maxPrice) {
        params.append('max_price', searchOptions.maxPrice);
    }
    
    // æ·»åŠ åˆ†é¡µä¿¡æ¯
    params.append('page', searchOptions.page || 1);
    params.append('size', searchOptions.size || 10);
    
    // æ„å»ºæœ€ç»ˆURL
    let baseUrl = 'https://api.shop.com/products';
    let finalUrl = `${baseUrl}?${params.toString()}`;
    
    return finalUrl;
}

// ä½¿ç”¨ç¤ºä¾‹
let searchUrl = searchProducts({
    keyword: 'æ— çº¿è€³æœº',
    category: 'æ•°ç ',
    minPrice: 100,
    maxPrice: 500,
    page: 2
});

console.log(searchUrl);
// ç»“æœï¼šhttps://api.shop.com/products?q=æ— çº¿è€³æœº&category=æ•°ç &min_price=100&max_price=500&page=2&size=10
```

---

## 4. ğŸŒ å‚æ•°ç¼–ç ä¸ä¸­æ–‡å¤„ç†


### 4.1 ä¸ºä»€ä¹ˆéœ€è¦ç¼–ç 


**ğŸ”¸ URLç¼–ç çš„å¿…è¦æ€§**
```
URLåªèƒ½åŒ…å«ç‰¹å®šçš„å­—ç¬¦ï¼Œä¸­æ–‡å’Œç‰¹æ®Šç¬¦å·éœ€è¦è½¬æ¢

åŸå› å¯¹æ¯”ï¼š
- ä¸­æ–‡ "è‹¹æœ" â†’ ç›´æ¥æ”¾URLé‡Œå¯èƒ½ä¹±ç 
- ç¼–ç å "%E8%8B%B9%E6%9E%9C" â†’ æµè§ˆå™¨èƒ½æ­£ç¡®ç†è§£

å°±åƒå¯„å›½é™…åŒ…è£¹è¦ç”¨è‹±æ–‡åœ°å€ä¸€æ ·
```

### 4.2 æ‰‹åŠ¨ç¼–ç å¤„ç†


**ğŸ”¸ ä½¿ç”¨encodeURIComponent**
```javascript
// å¤„ç†ä¸­æ–‡å‚æ•°
let keyword = 'è‹¹æœæ‰‹æœº iPhone 15';
let encoded = encodeURIComponent(keyword);
console.log(encoded);
// ç»“æœï¼šè‹¹æœæ‰‹æœº%20iPhone%2015

// æ„å»ºURLæ—¶çš„ç¼–ç 
function buildSearchUrl(keyword) {
    let baseUrl = 'https://api.example.com/search';
    let encodedKeyword = encodeURIComponent(keyword);
    return `${baseUrl}?q=${encodedKeyword}`;
}

let url = buildSearchUrl('è‹¹æœ & é¦™è•‰');
console.log(url);
// ç»“æœï¼šhttps://api.example.com/search?q=è‹¹æœ%20%26%20é¦™è•‰
```

### 4.3 URLSearchParamsè‡ªåŠ¨ç¼–ç 


**ğŸ”¸ è‡ªåŠ¨å¤„ç†ç¼–ç é—®é¢˜**
```javascript
// URLSearchParamsè‡ªåŠ¨å¤„ç†ç¼–ç ï¼Œæ— éœ€æ‰‹åŠ¨ç¼–ç 
let params = new URLSearchParams();
params.append('query', 'è‹¹æœæ‰‹æœº & iPhone');
params.append('user', 'å¼ ä¸‰@qq.com');

console.log(params.toString());
// ç»“æœï¼šquery=è‹¹æœæ‰‹æœº%20%26%20iPhone&user=å¼ ä¸‰%40qq.com

// å¯¹æ¯”æ‰‹åŠ¨ç¼–ç çš„éº»çƒ¦
let manual = `query=${encodeURIComponent('è‹¹æœæ‰‹æœº & iPhone')}&user=${encodeURIComponent('å¼ ä¸‰@qq.com')}`;
// URLSearchParamsè‡ªåŠ¨å¸®æˆ‘ä»¬åšäº†è¿™äº›å·¥ä½œï¼
```

### 4.4 å¸¸è§ç¼–ç å­—ç¬¦å¯¹ç…§


**ğŸ“‹ ç‰¹æ®Šå­—ç¬¦ç¼–ç è¡¨**

| **åŸå­—ç¬¦** | **ç¼–ç å** | **è¯´æ˜** |
|-----------|-----------|----------|
| `ç©ºæ ¼` | `%20` | URLä¸­ä¸èƒ½æœ‰ç©ºæ ¼ |
| `&` | `%26` | ä¸å‚æ•°åˆ†éš”ç¬¦å†²çª |
| `=` | `%3D` | ä¸é”®å€¼åˆ†éš”ç¬¦å†²çª |
| `?` | `%3F` | ä¸æŸ¥è¯¢å¼€å§‹ç¬¦å†²çª |
| `#` | `%23` | ä¸é”šç‚¹ç¬¦å·å†²çª |
| `ä¸­æ–‡` | `%E8%...` | éASCIIå­—ç¬¦ |

---

## 5. âš¡ åŠ¨æ€å‚æ•°æ„é€ æŠ€å·§


### 5.1 æ¡ä»¶å‚æ•°æ·»åŠ 


**ğŸ”¸ åªæ·»åŠ æœ‰å€¼çš„å‚æ•°**
```javascript
function buildApiUrl(options) {
    let params = new URLSearchParams();
    
    // åªæœ‰å½“å€¼å­˜åœ¨ä¸”ä¸ä¸ºç©ºæ—¶æ‰æ·»åŠ å‚æ•°
    if (options.keyword && options.keyword.trim()) {
        params.append('q', options.keyword.trim());
    }
    
    if (options.category && options.category !== 'all') {
        params.append('category', options.category);
    }
    
    if (options.page && options.page > 0) {
        params.append('page', options.page);
    }
    
    // ä»·æ ¼èŒƒå›´çš„ç‰¹æ®Šå¤„ç†
    if (options.minPrice !== undefined && options.minPrice >= 0) {
        params.append('min_price', options.minPrice);
    }
    
    return `https://api.example.com/products?${params.toString()}`;
}

// ä½¿ç”¨ç¤ºä¾‹
let url1 = buildApiUrl({
    keyword: 'æ‰‹æœº',
    category: 'electronics',
    page: 1
});
// ç»“æœï¼šhttps://api.example.com/products?q=æ‰‹æœº&category=electronics&page=1

let url2 = buildApiUrl({
    keyword: '',  // ç©ºå­—ç¬¦ä¸²ï¼Œä¸ä¼šæ·»åŠ 
    category: 'all',  // allè¡¨ç¤ºä¸ç­›é€‰ï¼Œä¸ä¼šæ·»åŠ 
    page: 0  // æ— æ•ˆé¡µç ï¼Œä¸ä¼šæ·»åŠ 
});
// ç»“æœï¼šhttps://api.example.com/products?
```

### 5.2 æ•°ç»„å‚æ•°å¤„ç†


**ğŸ”¸ å¤„ç†å¤šé€‰å‚æ•°**
```javascript
function buildFilterUrl(filters) {
    let params = new URLSearchParams();
    
    // å¤„ç†å¤šä¸ªå“ç‰Œé€‰æ‹©
    if (filters.brands && filters.brands.length > 0) {
        filters.brands.forEach(brand => {
            params.append('brand', brand);
        });
    }
    
    // å¤„ç†å¤šä¸ªæ ‡ç­¾
    if (filters.tags && filters.tags.length > 0) {
        // æ–¹æ³•1ï¼šå¤šä¸ªåŒåå‚æ•°
        filters.tags.forEach(tag => {
            params.append('tag', tag);
        });
        
        // æ–¹æ³•2ï¼šé€—å·åˆ†éš”ï¼ˆçœ‹APIè¦æ±‚ï¼‰
        // params.append('tags', filters.tags.join(','));
    }
    
    return `https://api.example.com/search?${params.toString()}`;
}

// ä½¿ç”¨ç¤ºä¾‹
let filterUrl = buildFilterUrl({
    brands: ['Apple', 'Samsung', 'Huawei'],
    tags: ['æ–°å“', 'çƒ­é”€', 'æ¨è']
});

console.log(filterUrl);
// ç»“æœï¼šhttps://api.example.com/search?brand=Apple&brand=Samsung&brand=Huawei&tag=æ–°å“&tag=çƒ­é”€&tag=æ¨è
```

### 5.3 å‚æ•°æ¨¡æ¿åŒ–


**ğŸ”¸ å¯å¤ç”¨çš„å‚æ•°æ„é€ å™¨**
```javascript
class UrlBuilder {
    constructor(baseUrl) {
        this.baseUrl = baseUrl;
        this.params = new URLSearchParams();
    }
    
    // æ·»åŠ æœç´¢å…³é”®è¯
    search(keyword) {
        if (keyword) {
            this.params.set('q', keyword);
        }
        return this;
    }
    
    // æ·»åŠ åˆ†é¡µ
    page(pageNum, pageSize = 10) {
        if (pageNum > 0) {
            this.params.set('page', pageNum);
            this.params.set('size', pageSize);
        }
        return this;
    }
    
    // æ·»åŠ æ’åº
    sortBy(field, order = 'asc') {
        if (field) {
            this.params.set('sort', field);
            this.params.set('order', order);
        }
        return this;
    }
    
    // æ·»åŠ ç­›é€‰æ¡ä»¶
    filter(key, value) {
        if (value !== undefined && value !== '') {
            this.params.set(key, value);
        }
        return this;
    }
    
    // æ„å»ºæœ€ç»ˆURL
    build() {
        let queryString = this.params.toString();
        return queryString ? `${this.baseUrl}?${queryString}` : this.baseUrl;
    }
}

// ä½¿ç”¨ç¤ºä¾‹ï¼šé“¾å¼è°ƒç”¨
let url = new UrlBuilder('https://api.example.com/products')
    .search('æ— çº¿é¼ æ ‡')
    .filter('brand', 'Logitech')
    .filter('price_range', '100-500')
    .page(2, 20)
    .sortBy('price', 'desc')
    .build();

console.log(url);
// ç»“æœï¼šhttps://api.example.com/products?q=æ— çº¿é¼ æ ‡&brand=Logitech&price_range=100-500&page=2&size=20&sort=price&order=desc
```

---

## 6. âœ… å‚æ•°éªŒè¯ä¸é”™è¯¯å¤„ç†


### 6.1 åŸºç¡€å‚æ•°éªŒè¯


**ğŸ”¸ éªŒè¯å‚æ•°æœ‰æ•ˆæ€§**
```javascript
function validateSearchParams(params) {
    let errors = [];
    
    // éªŒè¯å…³é”®è¯é•¿åº¦
    if (params.keyword) {
        if (params.keyword.length < 2) {
            errors.push('æœç´¢å…³é”®è¯è‡³å°‘éœ€è¦2ä¸ªå­—ç¬¦');
        }
        if (params.keyword.length > 50) {
            errors.push('æœç´¢å…³é”®è¯ä¸èƒ½è¶…è¿‡50ä¸ªå­—ç¬¦');
        }
    }
    
    // éªŒè¯é¡µç 
    if (params.page) {
        let pageNum = parseInt(params.page);
        if (isNaN(pageNum) || pageNum < 1) {
            errors.push('é¡µç å¿…é¡»æ˜¯å¤§äº0çš„æ•°å­—');
        }
        if (pageNum > 1000) {
            errors.push('é¡µç ä¸èƒ½è¶…è¿‡1000');
        }
    }
    
    // éªŒè¯ä»·æ ¼èŒƒå›´
    if (params.minPrice && params.maxPrice) {
        let min = parseFloat(params.minPrice);
        let max = parseFloat(params.maxPrice);
        if (!isNaN(min) && !isNaN(max) && min > max) {
            errors.push('æœ€ä½ä»·æ ¼ä¸èƒ½å¤§äºæœ€é«˜ä»·æ ¼');
        }
    }
    
    return {
        isValid: errors.length === 0,
        errors: errors
    };
}

// ä½¿ç”¨ç¤ºä¾‹
let validation = validateSearchParams({
    keyword: 'a',  // å¤ªçŸ­
    page: '0',     // æ— æ•ˆé¡µç 
    minPrice: '100',
    maxPrice: '50'  // ä»·æ ¼èŒƒå›´é”™è¯¯
});

if (!validation.isValid) {
    console.log('å‚æ•°é”™è¯¯ï¼š');
    validation.errors.forEach(error => console.log('- ' + error));
}
```

### 6.2 å®‰å…¨çš„URLæ„é€ 


**ğŸ”¸ é˜²æ­¢æ¶æ„å‚æ•°æ³¨å…¥**
```javascript
function safeUrlBuilder(baseUrl, userParams) {
    // å®šä¹‰å…è®¸çš„å‚æ•°ç™½åå•
    const allowedParams = ['q', 'category', 'page', 'size', 'sort', 'order'];
    
    let params = new URLSearchParams();
    
    // åªå¤„ç†ç™½åå•ä¸­çš„å‚æ•°
    for (let [key, value] of Object.entries(userParams)) {
        if (allowedParams.includes(key)) {
            // è¿›ä¸€æ­¥æ¸…ç†å‚æ•°å€¼
            let cleanValue = String(value).trim();
            if (cleanValue) {
                params.append(key, cleanValue);
            }
        }
    }
    
    return `${baseUrl}?${params.toString()}`;
}

// ä½¿ç”¨ç¤ºä¾‹
let userInput = {
    q: 'æ‰‹æœº',
    category: 'electronics',
    page: 1,
    evilParam: '<script>alert("hack")</script>',  // æ¶æ„å‚æ•°
    anotherBadParam: 'dangerous'  // ä¸åœ¨ç™½åå•ä¸­
};

let safeUrl = safeUrlBuilder('https://api.example.com/search', userInput);
console.log(safeUrl);
// ç»“æœï¼šhttps://api.example.com/search?q=æ‰‹æœº&category=electronics&page=1
// æ¶æ„å‚æ•°è¢«è‡ªåŠ¨è¿‡æ»¤æ‰äº†
```

### 6.3 é”™è¯¯å¤„ç†å’Œé™çº§


**ğŸ”¸ å‚æ•°é”™è¯¯æ—¶çš„å¤„ç†ç­–ç•¥**
```javascript
function robustUrlBuilder(options) {
    try {
        let params = new URLSearchParams();
        
        // å…³é”®è¯å¤„ç†ï¼šå‡ºé”™æ—¶ä½¿ç”¨é»˜è®¤å€¼
        try {
            if (options.keyword) {
                params.append('q', options.keyword);
            }
        } catch (e) {
            console.warn('å…³é”®è¯å‚æ•°å¤„ç†å¤±è´¥ï¼Œä½¿ç”¨é»˜è®¤æœç´¢');
        }
        
        // é¡µç å¤„ç†ï¼šå‡ºé”™æ—¶é»˜è®¤ç¬¬1é¡µ
        try {
            let page = parseInt(options.page) || 1;
            page = Math.max(1, Math.min(page, 1000));  // é™åˆ¶èŒƒå›´
            params.append('page', page);
        } catch (e) {
            params.append('page', 1);
        }
        
        // æ„å»ºURL
        let baseUrl = 'https://api.example.com/search';
        return `${baseUrl}?${params.toString()}`;
        
    } catch (e) {
        console.error('URLæ„å»ºå¤±è´¥ï¼š', e);
        // è¿”å›æœ€åŸºç¡€çš„URL
        return 'https://api.example.com/search?page=1';
    }
}
```

---

## 7. ğŸ¯ å®é™…åº”ç”¨æ¡ˆä¾‹


### 7.1 å®Œæ•´çš„å•†å“æœç´¢åŠŸèƒ½


**ğŸ”¸ ç»¼åˆæœç´¢ç¤ºä¾‹**
```javascript
// å®Œæ•´çš„å•†å“æœç´¢åŠŸèƒ½
class ProductSearch {
    constructor() {
        this.baseUrl = 'https://api.shop.com/products';
        this.defaultParams = {
            page: 1,
            size: 12,
            sort: 'relevance'
        };
    }
    
    // æ‰§è¡Œæœç´¢
    async search(searchOptions) {
        // æ„å»ºæœç´¢URL
        let searchUrl = this.buildSearchUrl(searchOptions);
        
        try {
            let response = await fetch(searchUrl);
            
            if (!response.ok) {
                throw new Error(`æœç´¢å¤±è´¥: ${response.status}`);
            }
            
            let data = await response.json();
            return {
                success: true,
                products: data.products,
                total: data.total,
                searchUrl: searchUrl  // è¿”å›å®é™…è¯·æ±‚çš„URLï¼Œä¾¿äºè°ƒè¯•
            };
            
        } catch (error) {
            console.error('æœç´¢å‡ºé”™ï¼š', error);
            return {
                success: false,
                error: error.message,
                products: [],
                total: 0
            };
        }
    }
    
    // æ„å»ºæœç´¢URL
    buildSearchUrl(options) {
        let params = new URLSearchParams();
        
        // åˆå¹¶é»˜è®¤å‚æ•°å’Œç”¨æˆ·å‚æ•°
        let finalOptions = { ...this.defaultParams, ...options };
        
        // æœç´¢å…³é”®è¯
        if (finalOptions.keyword) {
            params.append('q', finalOptions.keyword);
        }
        
        // åˆ†ç±»ç­›é€‰
        if (finalOptions.category && finalOptions.category !== 'all') {
            params.append('category', finalOptions.category);
        }
        
        // å“ç‰Œç­›é€‰ï¼ˆæ”¯æŒå¤šé€‰ï¼‰
        if (finalOptions.brands && finalOptions.brands.length > 0) {
            finalOptions.brands.forEach(brand => {
                params.append('brand', brand);
            });
        }
        
        // ä»·æ ¼èŒƒå›´
        if (finalOptions.minPrice >= 0) {
            params.append('min_price', finalOptions.minPrice);
        }
        if (finalOptions.maxPrice > 0) {
            params.append('max_price', finalOptions.maxPrice);
        }
        
        // åˆ†é¡µå’Œæ’åº
        params.append('page', finalOptions.page);
        params.append('size', finalOptions.size);
        params.append('sort', finalOptions.sort);
        
        return `${this.baseUrl}?${params.toString()}`;
    }
}

// ä½¿ç”¨ç¤ºä¾‹
let productSearch = new ProductSearch();

// æ‰§è¡Œæœç´¢
productSearch.search({
    keyword: 'æ— çº¿è€³æœº',
    category: 'electronics',
    brands: ['Apple', 'Sony'],
    minPrice: 200,
    maxPrice: 1000,
    page: 2,
    sort: 'price_desc'
}).then(result => {
    if (result.success) {
        console.log(`æ‰¾åˆ° ${result.total} ä¸ªå•†å“`);
        console.log('è¯·æ±‚URLï¼š', result.searchUrl);
        result.products.forEach(product => {
            console.log(`- ${product.name}: Â¥${product.price}`);
        });
    } else {
        console.error('æœç´¢å¤±è´¥ï¼š', result.error);
    }
});
```

### 7.2 è¡¨å•æ•°æ®è½¬URLå‚æ•°


**ğŸ”¸ å°†è¡¨å•è½¬æ¢ä¸ºæœç´¢å‚æ•°**
```javascript
// å¤„ç†HTMLè¡¨å•æ•°æ®
function formToSearchParams(formElement) {
    let formData = new FormData(formElement);
    let params = new URLSearchParams();
    
    // éå†è¡¨å•æ•°æ®
    for (let [key, value] of formData.entries()) {
        // è·³è¿‡ç©ºå€¼
        if (value && value.trim()) {
            params.append(key, value.trim());
        }
    }
    
    return params;
}

// HTMLè¡¨å•ç¤ºä¾‹ï¼š
/*
<form id="searchForm">
    <input name="keyword" type="text" placeholder="æœç´¢å…³é”®è¯">
    <select name="category">
        <option value="">æ‰€æœ‰åˆ†ç±»</option>
        <option value="electronics">ç”µå­äº§å“</option>
        <option value="books">å›¾ä¹¦</option>
    </select>
    <input name="min_price" type="number" placeholder="æœ€ä½ä»·æ ¼">
    <input name="max_price" type="number" placeholder="æœ€é«˜ä»·æ ¼">
    <input type="checkbox" name="brand" value="Apple"> Apple
    <input type="checkbox" name="brand" value="Samsung"> Samsung
    <button type="submit">æœç´¢</button>
</form>
*/

// è¡¨å•æäº¤å¤„ç†
document.getElementById('searchForm').addEventListener('submit', function(e) {
    e.preventDefault();  // é˜»æ­¢è¡¨å•é»˜è®¤æäº¤
    
    // å°†è¡¨å•æ•°æ®è½¬æ¢ä¸ºURLå‚æ•°
    let searchParams = formToSearchParams(this);
    
    // æ„å»ºæœç´¢URL
    let searchUrl = `https://api.example.com/search?${searchParams.toString()}`;
    
    console.log('æœç´¢URLï¼š', searchUrl);
    
    // æ‰§è¡Œæœç´¢è¯·æ±‚
    fetch(searchUrl)
        .then(response => response.json())
        .then(data => {
            console.log('æœç´¢ç»“æœï¼š', data);
            // æ˜¾ç¤ºæœç´¢ç»“æœ...
        })
        .catch(error => {
            console.error('æœç´¢å¤±è´¥ï¼š', error);
        });
});
```

### 7.3 URLå‚æ•°ä¸é¡µé¢çŠ¶æ€åŒæ­¥


**ğŸ”¸ æµè§ˆå™¨åœ°å€æ ä¸æœç´¢çŠ¶æ€åŒæ­¥**
```javascript
// å°†æœç´¢å‚æ•°åŒæ­¥åˆ°æµè§ˆå™¨åœ°å€æ 
function updateBrowserUrl(searchParams) {
    // è·å–å½“å‰é¡µé¢URLï¼Œä¸åŒ…å«æŸ¥è¯¢å‚æ•°
    let currentUrl = window.location.pathname;
    
    // æ„å»ºæ–°çš„URL
    let newUrl = searchParams.toString() ? 
        `${currentUrl}?${searchParams.toString()}` : 
        currentUrl;
    
    // æ›´æ–°åœ°å€æ ï¼ˆä¸åˆ·æ–°é¡µé¢ï¼‰
    history.pushState(null, '', newUrl);
}

// ä»æµè§ˆå™¨åœ°å€æ è¯»å–æœç´¢å‚æ•°
function getSearchParamsFromUrl() {
    return new URLSearchParams(window.location.search);
}

// é¡µé¢åŠ è½½æ—¶æ¢å¤æœç´¢çŠ¶æ€
function restoreSearchState() {
    let urlParams = getSearchParamsFromUrl();
    
    if (urlParams.has('q')) {
        document.querySelector('[name="keyword"]').value = urlParams.get('q');
    }
    
    if (urlParams.has('category')) {
        document.querySelector('[name="category"]').value = urlParams.get('category');
    }
    
    // å¦‚æœæœ‰æœç´¢å‚æ•°ï¼Œè‡ªåŠ¨æ‰§è¡Œæœç´¢
    if (urlParams.toString()) {
        performSearch(urlParams);
    }
}

// å®Œæ•´çš„æœç´¢æµç¨‹
function performSearch(searchParams) {
    // 1. æ›´æ–°åœ°å€æ 
    updateBrowserUrl(searchParams);
    
    // 2. å‘é€æœç´¢è¯·æ±‚
    let searchUrl = `https://api.example.com/search?${searchParams.toString()}`;
    
    fetch(searchUrl)
        .then(response => response.json())
        .then(data => {
            displaySearchResults(data);
        })
        .catch(error => {
            console.error('æœç´¢å¤±è´¥ï¼š', error);
        });
}

// é¡µé¢åŠ è½½æ—¶æ¢å¤çŠ¶æ€
window.addEventListener('load', restoreSearchState);

// å¤„ç†æµè§ˆå™¨å‰è¿›åé€€
window.addEventListener('popstate', restoreSearchState);
```

---

## 8. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 8.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ GETå‚æ•°æœ¬è´¨ï¼šåœ¨URLåé¢æ·»åŠ æŸ¥è¯¢æ¡ä»¶ï¼Œå‘Šè¯‰æœåŠ¡å™¨éœ€è¦ä»€ä¹ˆæ•°æ®
ğŸ”¸ å‚æ•°æ ¼å¼ï¼š?å‚æ•°1=å€¼1&å‚æ•°2=å€¼2ï¼Œé—®å·å¼€å§‹ï¼Œç­‰å·è¿æ¥ï¼Œå’Œå·åˆ†éš”  
ğŸ”¸ URLSearchParamsï¼šä¸“ä¸šçš„å‚æ•°å¤„ç†å·¥å…·ï¼Œè‡ªåŠ¨ç¼–ç ï¼Œé¿å…æ‰‹åŠ¨æ‹¼æ¥é”™è¯¯
ğŸ”¸ å‚æ•°ç¼–ç ï¼šä¸­æ–‡å’Œç‰¹æ®Šå­—ç¬¦éœ€è¦ç¼–ç ï¼ŒURLSearchParamsè‡ªåŠ¨å¤„ç†
ğŸ”¸ åŠ¨æ€æ„é€ ï¼šæ ¹æ®æ¡ä»¶çµæ´»æ·»åŠ å‚æ•°ï¼Œåªä¼ é€’æœ‰æ„ä¹‰çš„æ•°æ®
```

### 8.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ ä¸ºä»€ä¹ˆé€‰æ‹©URLSearchParamsè€Œä¸æ˜¯æ‰‹åŠ¨æ‹¼æ¥**
```
æ‰‹åŠ¨æ‹¼æ¥çš„é—®é¢˜ï¼š
- ä¸­æ–‡ä¹±ç 
- ç‰¹æ®Šå­—ç¬¦å†²çª  
- ä»£ç å®¹æ˜“å‡ºé”™
- ç»´æŠ¤å›°éš¾

URLSearchParamsçš„ä¼˜åŠ¿ï¼š
- è‡ªåŠ¨ç¼–ç å¤„ç†
- æ–¹æ³•ç®€å•æ˜“ç”¨
- ä¸å®¹æ˜“å‡ºé”™
- ä»£ç æ›´æ¸…æ™°
```

**ğŸ”¹ ä»€ä¹ˆæ—¶å€™éœ€è¦å‚æ•°éªŒè¯**
```
ç”¨æˆ·è¾“å…¥åœºæ™¯ï¼š
- æœç´¢è¡¨å•
- ç­›é€‰æ¡ä»¶
- åˆ†é¡µå¯¼èˆª

éªŒè¯é‡ç‚¹ï¼š
- å‚æ•°é•¿åº¦é™åˆ¶
- æ•°æ®ç±»å‹æ£€æŸ¥
- å®‰å…¨æ€§è¿‡æ»¤
- ä¸šåŠ¡é€»è¾‘éªŒè¯
```

**ğŸ”¹ å¦‚ä½•å¤„ç†å¤æ‚å‚æ•°**
```
å¤šå€¼å‚æ•°ï¼šbrand=Apple&brand=Samsung (å¤šä¸ªåŒåå‚æ•°)
æ•°ç»„å‚æ•°ï¼štags=æ–°å“,çƒ­é”€,æ¨è (é€—å·åˆ†éš”ï¼Œçœ‹APIè¦æ±‚)
æ¡ä»¶å‚æ•°ï¼šåªåœ¨æœ‰å€¼æ—¶æ‰æ·»åŠ ï¼Œé¿å…æ— æ„ä¹‰çš„ç©ºå‚æ•°
```

### 8.3 å®é™…åº”ç”¨æŒ‡å¯¼


**ğŸ“ æœ€ä½³å®è·µ**
- **ä½¿ç”¨URLSearchParams**ï¼šé¿å…æ‰‹åŠ¨å­—ç¬¦ä¸²æ‹¼æ¥
- **å‚æ•°éªŒè¯**ï¼šç¡®ä¿æ•°æ®æœ‰æ•ˆæ€§å’Œå®‰å…¨æ€§
- **æ¡ä»¶æ·»åŠ **ï¼šåªæ·»åŠ æœ‰æ„ä¹‰çš„å‚æ•°
- **é”™è¯¯å¤„ç†**ï¼šå‚æ•°æ„é€ å¤±è´¥æ—¶çš„é™çº§æ–¹æ¡ˆ
- **ä»£ç å¤ç”¨**ï¼šå°†å‚æ•°æ„é€ é€»è¾‘å°è£…æˆå‡½æ•°æˆ–ç±»

**âš ï¸ å¸¸è§é™·é˜±**
- **å¿˜è®°ç¼–ç **ï¼šä¸­æ–‡å‚æ•°å¯¼è‡´ä¹±ç 
- **å‚æ•°è¿‡é•¿**ï¼šURLé•¿åº¦é™åˆ¶ï¼ˆé€šå¸¸2048å­—ç¬¦ï¼‰
- **æ•æ„Ÿä¿¡æ¯**ï¼šä¸è¦åœ¨URLä¸­ä¼ é€’å¯†ç ç­‰æ•æ„Ÿæ•°æ®
- **ç¼“å­˜é—®é¢˜**ï¼šGETè¯·æ±‚å¯èƒ½è¢«æµè§ˆå™¨ç¼“å­˜

**ğŸ¯ ä½¿ç”¨åœºæ™¯**
- **æœç´¢åŠŸèƒ½**ï¼šå…³é”®è¯ã€ç­›é€‰æ¡ä»¶ã€æ’åºæ–¹å¼
- **æ•°æ®æŸ¥è¯¢**ï¼šåˆ†é¡µã€è¿‡æ»¤ã€å­—æ®µé€‰æ‹©
- **çŠ¶æ€ä¼ é€’**ï¼šé¡µé¢é—´å‚æ•°ä¼ é€’
- **APIè°ƒç”¨**ï¼šå‘åç«¯ä¼ é€’æŸ¥è¯¢æ¡ä»¶

**æ ¸å¿ƒè®°å¿†å£è¯€**ï¼š
```
GETå‚æ•°åƒä¾¿æ¡ï¼Œå‘Šè¯‰æœåŠ¡å™¨è¦ä»€ä¹ˆ
é—®å·å¼€å§‹å’Œå·è¿ï¼Œç­‰å·å·¦å³æ˜¯é”®å€¼
URLSearchParamsæ˜¯ç¥å™¨ï¼Œç¼–ç æ‹¼æ¥éƒ½ä¸æ„
éªŒè¯å®‰å…¨ä¸èƒ½å¿˜ï¼Œæ¸…æ™°æ˜“æ‡‚æœ€é‡è¦
```