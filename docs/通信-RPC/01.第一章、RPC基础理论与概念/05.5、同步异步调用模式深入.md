---
title: 5ã€åŒæ­¥å¼‚æ­¥è°ƒç”¨æ¨¡å¼æ·±å…¥
---
## ğŸ“š ç›®å½•

1. [ä»€ä¹ˆæ˜¯è°ƒç”¨æ¨¡å¼](#1-ä»€ä¹ˆæ˜¯è°ƒç”¨æ¨¡å¼)
2. [åŒæ­¥è°ƒç”¨æ¨¡å¼è¯¦è§£](#2-åŒæ­¥è°ƒç”¨æ¨¡å¼è¯¦è§£)
3. [å¼‚æ­¥è°ƒç”¨æ¨¡å¼è¯¦è§£](#3-å¼‚æ­¥è°ƒç”¨æ¨¡å¼è¯¦è§£)
4. [å•å‘è°ƒç”¨æ¨¡å¼](#4-å•å‘è°ƒç”¨æ¨¡å¼)
5. [å›è°ƒæœºåˆ¶æ·±å…¥ç†è§£](#5-å›è°ƒæœºåˆ¶æ·±å…¥ç†è§£)
6. [Futureå’ŒPromiseæ¨¡å¼](#6-futureå’Œpromiseæ¨¡å¼)
7. [å¼‚å¸¸å¤„ç†ä¸è¶…æ—¶æ§åˆ¶](#7-å¼‚å¸¸å¤„ç†ä¸è¶…æ—¶æ§åˆ¶)
8. [è°ƒç”¨æ¨¡å¼é€‰æ‹©æŒ‡å—](#8-è°ƒç”¨æ¨¡å¼é€‰æ‹©æŒ‡å—)
9. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#9-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ¤” ä»€ä¹ˆæ˜¯è°ƒç”¨æ¨¡å¼


### 1.1 è°ƒç”¨æ¨¡å¼çš„æœ¬è´¨å«ä¹‰


**ğŸ”¸ ä»€ä¹ˆæ˜¯è°ƒç”¨æ¨¡å¼ï¼Ÿ**
è°ƒç”¨æ¨¡å¼å°±æ˜¯**å®¢æˆ·ç«¯è°ƒç”¨è¿œç¨‹æœåŠ¡çš„æ–¹å¼**ï¼Œç®€å•è¯´å°±æ˜¯"æˆ‘æ€ä¹ˆè·Ÿè¿œç¨‹æœåŠ¡å™¨æ‰“ç”µè¯"ã€‚

```
æƒ³è±¡æ‰“ç”µè¯çš„åœºæ™¯ï¼š

ğŸ“ åŒæ­¥è°ƒç”¨ = æ‰“ç”µè¯ç­‰å¯¹æ–¹æ¥å¬
   ä½ ï¼šå–‚ï¼Œå¼ ä¸‰åœ¨å—ï¼Ÿ
   (ç­‰å¾…ä¸­...)
   å¯¹æ–¹ï¼šåœ¨çš„ï¼Œæœ‰ä»€ä¹ˆäº‹ï¼Ÿ
   ä½ ï¼š(ç»§ç»­å¯¹è¯)

ğŸ“± å¼‚æ­¥è°ƒç”¨ = å‘çŸ­ä¿¡ä¸ç­‰å›å¤
   ä½ ï¼šå‘é€çŸ­ä¿¡"å¼ ä¸‰ï¼Œæ˜å¤©å¼€ä¼š"
   ä½ ï¼šç«‹å³å»åšå…¶ä»–äº‹æƒ…
   (è¿‡ä¼šå„¿æ‰‹æœºéœ‡åŠ¨ï¼Œæ”¶åˆ°å›å¤)

ğŸ“¢ å•å‘è°ƒç”¨ = å¹¿æ’­é€šçŸ¥
   ä½ ï¼šå‘ç¾¤æ¶ˆæ¯"æ˜å¤©å¼€ä¼š"
   ä½ ï¼šä¸éœ€è¦ç­‰ä»»ä½•äººå›å¤
```

### 1.2 ä¸ºä»€ä¹ˆéœ€è¦ä¸åŒçš„è°ƒç”¨æ¨¡å¼


**ğŸ¯ ä¸åŒåœºæ™¯çš„ä¸åŒéœ€æ±‚**

```
é“¶è¡Œè½¬è´¦åœºæ™¯ â†’ éœ€è¦åŒæ­¥è°ƒç”¨
ç”¨æˆ·ç‚¹å‡»è½¬è´¦ â†’ å¿…é¡»ç­‰å¾…ç»“æœ â†’ æˆåŠŸæ‰èƒ½æç¤ºç”¨æˆ·

æ¶ˆæ¯æ¨é€åœºæ™¯ â†’ é€‚åˆå¼‚æ­¥è°ƒç”¨  
å‘é€1ä¸‡æ¡æ¨é€ â†’ ä¸èƒ½ä¸€æ¡æ¡ç­‰å¾… â†’ æ‰¹é‡å‘é€æé«˜æ•ˆç‡

ç³»ç»Ÿç›‘æ§åœºæ™¯ â†’ é€‚åˆå•å‘è°ƒç”¨
å¿ƒè·³æ£€æµ‹ â†’ åªéœ€è¦å‘ŠçŸ¥çŠ¶æ€ â†’ ä¸éœ€è¦è¿”å›å€¼
```

### 1.3 è°ƒç”¨æ¨¡å¼æ€»è§ˆå›¾


```
RPCè°ƒç”¨æ¨¡å¼åˆ†ç±»
â”œâ”€â”€ åŒæ­¥è°ƒç”¨ (Synchronous)
â”‚   â”œâ”€â”€ ğŸ”’ é˜»å¡ç­‰å¾…
â”‚   â”œâ”€â”€ âœ… ç®€å•å¯é   
â”‚   â””â”€â”€ ğŸ¯ é€‚åˆå¼ºä¸€è‡´æ€§
â”‚
â”œâ”€â”€ å¼‚æ­¥è°ƒç”¨ (Asynchronous)  
â”‚   â”œâ”€â”€ âš¡ éé˜»å¡å¤„ç†
â”‚   â”œâ”€â”€ ğŸš€ é«˜å¹¶å‘èƒ½åŠ›
â”‚   â””â”€â”€ ğŸ¯ é€‚åˆé«˜ååé‡
â”‚
â””â”€â”€ å•å‘è°ƒç”¨ (One-way)
    â”œâ”€â”€ ğŸ“¢ åªå‘ä¸æ”¶
    â”œâ”€â”€ ğŸ”¥ æœ€é«˜æ•ˆç‡
    â””â”€â”€ ğŸ¯ é€‚åˆé€šçŸ¥åœºæ™¯
```

---

## 2. ğŸ”’ åŒæ­¥è°ƒç”¨æ¨¡å¼è¯¦è§£


### 2.1 åŒæ­¥è°ƒç”¨çš„å·¥ä½œåŸç†


**ğŸ”¸ ä»€ä¹ˆæ˜¯åŒæ­¥è°ƒç”¨ï¼Ÿ**
åŒæ­¥è°ƒç”¨å°±åƒ**é¢å¯¹é¢å¯¹è¯**ï¼Œä½ è¯´ä¸€å¥ï¼Œå¿…é¡»ç­‰å¯¹æ–¹å›ç­”äº†ï¼Œä½ æ‰èƒ½è¯´ä¸‹ä¸€å¥ã€‚

```
åŒæ­¥è°ƒç”¨æµç¨‹å›¾ï¼š

å®¢æˆ·ç«¯                     æœåŠ¡ç«¯
   |                         |
   |--[1] å‘é€è¯·æ±‚----------->|
   |                         |--[2] å¤„ç†è¯·æ±‚
   |   (å®¢æˆ·ç«¯é˜»å¡ç­‰å¾…)        |
   |                         |--[3] è¿”å›ç»“æœ  
   |<--[4] æ¥æ”¶å“åº”-----------|
   |                         |
   |--[5] ç»§ç»­æ‰§è¡Œåç»­ä»£ç -----|
```

### 2.2 åŒæ­¥è°ƒç”¨çš„ä»£ç ç¤ºä¾‹


**ğŸ’» Javaä¸­çš„åŒæ­¥RPCè°ƒç”¨**

```java
// ğŸ¯ åŒæ­¥è°ƒç”¨ - ç®€å•ç›´è§‚
public class SyncRpcExample {
    
    public void transferMoney() {
        // ğŸ”¸ è°ƒç”¨è¿œç¨‹æœåŠ¡ï¼Œä¼šé˜»å¡ç­‰å¾…
        BankService bankService = getRpcClient();
        
        try {
            // è¿™é‡Œä¼šç­‰å¾…è¿œç¨‹æœåŠ¡è¿”å›ç»“æœ
            TransferResult result = bankService.transfer(
                "fromAccount", "toAccount", 1000.0
            );
            
            // åªæœ‰ä¸Šé¢è°ƒç”¨å®Œæˆï¼Œæ‰ä¼šæ‰§è¡Œè¿™é‡Œ
            if (result.isSuccess()) {
                System.out.println("è½¬è´¦æˆåŠŸï¼š" + result.getTransactionId());
            } else {
                System.out.println("è½¬è´¦å¤±è´¥ï¼š" + result.getErrorMessage());
            }
            
        } catch (Exception e) {
            System.out.println("è°ƒç”¨å¼‚å¸¸ï¼š" + e.getMessage());
        }
    }
}
```

### 2.3 åŒæ­¥è°ƒç”¨çš„ç‰¹ç‚¹åˆ†æ


| ç‰¹ç‚¹ | **è¯´æ˜** | **æ¯”å–»** |
|------|---------|---------|
| ğŸ”’ **é˜»å¡ç­‰å¾…** | `å®¢æˆ·ç«¯å¿…é¡»ç­‰å¾…æœåŠ¡ç«¯å“åº”` | `æ‰“ç”µè¯å¿…é¡»ç­‰å¯¹æ–¹æ¥å¬` |
| âœ… **ç®€å•å¯é ** | `ä»£ç é€»è¾‘ç®€å•ï¼Œå®¹æ˜“ç†è§£` | `é¢å¯¹é¢å¯¹è¯æœ€ç›´æ¥` |
| ğŸŒ **æ•ˆç‡è¾ƒä½** | `æ— æ³•åŒæ—¶å¤„ç†å¤šä¸ªè¯·æ±‚` | `ä¸€ä¸ªä¸ªæ’é˜ŸåŠäº‹` |
| ğŸ’¡ **å¼ºä¸€è‡´æ€§** | `ç«‹å³çŸ¥é“æ“ä½œç»“æœ` | `å½“åœºç¡®è®¤äº‹æƒ…åŠæˆäº†` |

### 2.4 åŒæ­¥è°ƒç”¨çš„é€‚ç”¨åœºæ™¯


**âœ… é€‚åˆçš„åœºæ™¯**

```
ğŸ’° é‡‘èäº¤æ˜“
- è½¬è´¦æ“ä½œï¼šå¿…é¡»ç«‹å³çŸ¥é“æˆåŠŸæˆ–å¤±è´¥
- æ”¯ä»˜å¤„ç†ï¼šç”¨æˆ·ç­‰å¾…æ”¯ä»˜ç»“æœ

ğŸ” ç”¨æˆ·è®¤è¯  
- ç™»å½•éªŒè¯ï¼šå¿…é¡»ç«‹å³è¿”å›ç™»å½•çŠ¶æ€
- æƒé™æ£€æŸ¥ï¼šéœ€è¦ç«‹å³çŸ¥é“æ˜¯å¦æœ‰æƒé™

ğŸ“Š æ•°æ®æŸ¥è¯¢
- ç”¨æˆ·ä¿¡æ¯æŸ¥è¯¢ï¼šé¡µé¢éœ€è¦ç«‹å³æ˜¾ç¤ºæ•°æ®
- è®¢å•è¯¦æƒ…ï¼šç”¨æˆ·æŸ¥çœ‹è®¢å•éœ€è¦å®æ—¶æ•°æ®
```

**âŒ ä¸é€‚åˆçš„åœºæ™¯**

```
ğŸ“§ æ‰¹é‡é‚®ä»¶å‘é€ï¼šå‘é€1ä¸‡å°é‚®ä»¶ä¸èƒ½ä¸€å°å°ç­‰å¾…
ğŸ“± æ¶ˆæ¯æ¨é€ï¼šæ¨é€ç»™ç™¾ä¸‡ç”¨æˆ·ä¸èƒ½é€ä¸ªç­‰å¾…  
ğŸ“ˆ æ•°æ®ç»Ÿè®¡ï¼šå¤§é‡æ•°æ®å¤„ç†å¯ä»¥åå°è¿›è¡Œ
```

---

## 3. âš¡ å¼‚æ­¥è°ƒç”¨æ¨¡å¼è¯¦è§£


### 3.1 å¼‚æ­¥è°ƒç”¨çš„å·¥ä½œåŸç†


**ğŸ”¸ ä»€ä¹ˆæ˜¯å¼‚æ­¥è°ƒç”¨ï¼Ÿ**
å¼‚æ­¥è°ƒç”¨å°±åƒ**å‘å¾®ä¿¡æ¶ˆæ¯**ï¼Œä½ å‘å‡ºå»å°±å¯ä»¥åšåˆ«çš„äº‹ï¼Œå¯¹æ–¹å›å¤äº†ä½ å†çœ‹ã€‚

```
å¼‚æ­¥è°ƒç”¨æµç¨‹å›¾ï¼š

å®¢æˆ·ç«¯                     æœåŠ¡ç«¯
   |                         |
   |--[1] å‘é€è¯·æ±‚----------->|
   |                         |--[2] ç«‹å³è¿”å›Future
   |<--[3] å¾—åˆ°Futureå¯¹è±¡-----|
   |                         |
   |--[4] ç»§ç»­åšå…¶ä»–äº‹æƒ…-------|
   |                         |--[å¤„ç†è¯·æ±‚ä¸­...]
   |--[5] æ£€æŸ¥ç»“æœçŠ¶æ€-------|
   |                         |--[å¤„ç†å®Œæˆ]
   |<--[6] è·å–æœ€ç»ˆç»“æœ-------|
```

### 3.2 å¼‚æ­¥è°ƒç”¨çš„ä»£ç ç¤ºä¾‹


**ğŸ’» Javaä¸­çš„å¼‚æ­¥RPCè°ƒç”¨**

```java
// ğŸ¯ å¼‚æ­¥è°ƒç”¨ - é«˜æ•ˆå¹¶å‘
public class AsyncRpcExample {
    
    public void sendBatchEmails() {
        EmailService emailService = getRpcClient();
        List<CompletableFuture<Void>> futures = new ArrayList<>();
        
        // ğŸ”¸ æ‰¹é‡å‘é€é‚®ä»¶ - ä¸ç­‰å¾…æ¯ä¸ªå®Œæˆ
        for (String userEmail : userEmails) {
            // å¼‚æ­¥è°ƒç”¨ï¼Œç«‹å³è¿”å›Future
            CompletableFuture<Void> future = emailService.sendEmailAsync(
                userEmail, "æ´»åŠ¨é€šçŸ¥", "ä»Šå¤©æœ‰ä¼˜æƒ æ´»åŠ¨..."
            );
            futures.add(future);
        }
        
        // ğŸ”¸ å¯ä»¥ç«‹å³åšå…¶ä»–äº‹æƒ…
        System.out.println("é‚®ä»¶å‘é€ä»»åŠ¡å·²æäº¤ï¼Œç»§ç»­å¤„ç†å…¶ä»–ä¸šåŠ¡...");
        updateUserInterface();
        
        // ğŸ”¸ éœ€è¦æ—¶å†æ£€æŸ¥æ‰€æœ‰ä»»åŠ¡æ˜¯å¦å®Œæˆ
        CompletableFuture.allOf(futures.toArray(new CompletableFuture[0]))
            .whenComplete((result, ex) -> {
                if (ex == null) {
                    System.out.println("æ‰€æœ‰é‚®ä»¶å‘é€å®Œæˆï¼");
                } else {
                    System.out.println("éƒ¨åˆ†é‚®ä»¶å‘é€å¤±è´¥ï¼š" + ex.getMessage());
                }
            });
    }
}
```

### 3.3 å¼‚æ­¥è°ƒç”¨çš„ç‰¹ç‚¹åˆ†æ


| ç‰¹ç‚¹ | **è¯´æ˜** | **æ¯”å–»** |
|------|---------|---------|
| âš¡ **éé˜»å¡** | `å‘é€è¯·æ±‚åç«‹å³è¿”å›` | `å‘å¾®ä¿¡åç»§ç»­èŠå¤©` |
| ğŸš€ **é«˜å¹¶å‘** | `å¯ä»¥åŒæ—¶å¤„ç†å¤šä¸ªè¯·æ±‚` | `åŒæ—¶ç»™å¤šäººå‘æ¶ˆæ¯` |
| ğŸ¤” **å¤æ‚æ€§** | `éœ€è¦å¤„ç†å›è°ƒå’ŒçŠ¶æ€` | `è¦è®°ç€æŸ¥çœ‹å›å¤` |
| ğŸ“ˆ **é«˜åå** | `æ•´ä½“å¤„ç†æ•ˆç‡æ›´é«˜` | `ç¾¤å‘æ¶ˆæ¯æ›´å¿«` |

### 3.4 å¼‚æ­¥è°ƒç”¨çš„é€‚ç”¨åœºæ™¯


**âœ… é€‚åˆçš„åœºæ™¯**

```
ğŸ“§ æ‰¹é‡æ“ä½œ
- ç¾¤å‘é‚®ä»¶ï¼šåŒæ—¶å‘é€ç»™å¤šä¸ªç”¨æˆ·
- æ‰¹é‡æ•°æ®å¤„ç†ï¼šå¤„ç†å¤§é‡æ•°æ®è®°å½•

ğŸ“± æ¶ˆæ¯æ¨é€
- APPæ¨é€ï¼šæ¨é€ç»™ç™¾ä¸‡ç”¨æˆ·
- çŸ­ä¿¡é€šçŸ¥ï¼šæ‰¹é‡å‘é€éªŒè¯ç 

ğŸ”„ åå°ä»»åŠ¡
- æ•°æ®åŒæ­¥ï¼šå®šæœŸåŒæ­¥æ•°æ®
- æ–‡ä»¶å¤„ç†ï¼šè§†é¢‘è½¬ç ã€å›¾ç‰‡å‹ç¼©
```

---

## 4. ğŸ“¢ å•å‘è°ƒç”¨æ¨¡å¼


### 4.1 å•å‘è°ƒç”¨çš„å·¥ä½œåŸç†


**ğŸ”¸ ä»€ä¹ˆæ˜¯å•å‘è°ƒç”¨ï¼Ÿ**
å•å‘è°ƒç”¨å°±åƒ**å‘å¹¿æ’­**ï¼Œä½ åªç®¡å‘å‡ºå»ï¼Œä¸éœ€è¦ç­‰ä»»ä½•å›å¤ã€‚

```
å•å‘è°ƒç”¨æµç¨‹å›¾ï¼š

å®¢æˆ·ç«¯                     æœåŠ¡ç«¯
   |                         |
   |--[1] å‘é€è¯·æ±‚----------->|
   |                         |--[2] æ¥æ”¶è¯·æ±‚
   |--[3] ç«‹å³ç»§ç»­æ‰§è¡Œ--------|
   |                         |--[3] åå°å¤„ç†
   |   (ä¸ç­‰å¾…ä»»ä½•å“åº”)        |
   |                         |--[4] å¤„ç†å®Œæˆ
                              |   (å®¢æˆ·ç«¯ä¸çŸ¥é“)
```

### 4.2 å•å‘è°ƒç”¨çš„ä»£ç ç¤ºä¾‹


**ğŸ’» å•å‘è°ƒç”¨å®ç°**

```java
// ğŸ¯ å•å‘è°ƒç”¨ - æœ€é«˜æ•ˆç‡
public class OneWayRpcExample {
    
    public void reportSystemStatus() {
        MonitorService monitorService = getRpcClient();
        
        // ğŸ”¸ å•å‘è°ƒç”¨ - å‘é€åç«‹å³è¿”å›
        SystemStatus status = getCurrentSystemStatus();
        
        // åªå‘é€ï¼Œä¸ç­‰å¾…å“åº”
        monitorService.reportStatusOneWay(status);
        
        // ç«‹å³ç»§ç»­æ‰§è¡Œï¼Œä¸ä¼šè¢«é˜»å¡
        System.out.println("çŠ¶æ€ä¸ŠæŠ¥å·²å‘é€ï¼Œç»§ç»­æ‰§è¡Œå…¶ä»–ä»»åŠ¡...");
        doOtherTasks();
    }
    
    public void sendHeartbeat() {
        // ğŸ”¸ å¿ƒè·³æ£€æµ‹æœ€é€‚åˆå•å‘è°ƒç”¨
        HealthService healthService = getRpcClient();
        
        // å®šæœŸå‘é€å¿ƒè·³ï¼Œä¸éœ€è¦ç­‰å¾…å“åº”
        healthService.pingOneWay(getNodeId(), System.currentTimeMillis());
    }
}
```

### 4.3 å•å‘è°ƒç”¨çš„ç‰¹ç‚¹åˆ†æ


| ç‰¹ç‚¹ | **è¯´æ˜** | **æ¯”å–»** |
|------|---------|---------|
| ğŸ”¥ **æœ€é«˜æ•ˆ** | `æ²¡æœ‰ç­‰å¾…æ—¶é—´` | `å¹¿æ’­æœ€å¿«é€Ÿ` |
| ğŸ“¢ **åªå‘ä¸æ”¶** | `ä¸å…³å¿ƒå¤„ç†ç»“æœ` | `å‘é€šçŸ¥ä¸è¦å›å¤` |
| âš ï¸ **ä¸å¯é ** | `ä¸çŸ¥é“æ˜¯å¦å¤„ç†æˆåŠŸ` | `ä¸çŸ¥é“åˆ«äººæ”¶åˆ°æ²¡` |
| ğŸ¯ **é€‚åˆé€šçŸ¥** | `é€‚åˆçŠ¶æ€ä¸ŠæŠ¥ç±»åœºæ™¯` | `é€‚åˆç¾¤å‘é€šçŸ¥` |

### 4.4 å•å‘è°ƒç”¨çš„é€‚ç”¨åœºæ™¯


**âœ… é€‚åˆçš„åœºæ™¯**

```
ğŸ’“ å¿ƒè·³æ£€æµ‹
- å®šæœŸå‘ç›‘æ§ä¸­å¿ƒå‘é€å­˜æ´»çŠ¶æ€
- ä¸éœ€è¦ç­‰å¾…ç¡®è®¤å›å¤

ğŸ“Š æ—¥å¿—ä¸ŠæŠ¥  
- å‘é€æ“ä½œæ—¥å¿—åˆ°æ—¥å¿—ä¸­å¿ƒ
- ä¸å½±å“ä¸»ä¸šåŠ¡æµç¨‹

ğŸ“¢ äº‹ä»¶é€šçŸ¥
- ç”¨æˆ·è¡Œä¸ºäº‹ä»¶ä¸ŠæŠ¥
- ç³»ç»ŸçŠ¶æ€å˜åŒ–é€šçŸ¥
```

**âŒ ä¸é€‚åˆçš„åœºæ™¯**

```
ğŸ’° é‡è¦ä¸šåŠ¡æ“ä½œï¼šè½¬è´¦ã€æ”¯ä»˜ç­‰
ğŸ” éœ€è¦ç¡®è®¤çš„æ“ä½œï¼šç”¨æˆ·æ³¨å†Œã€æƒé™å˜æ›´
ğŸ“‹ éœ€è¦è¿”å›å€¼çš„æŸ¥è¯¢ï¼šç”¨æˆ·ä¿¡æ¯æŸ¥è¯¢
```

---

## 5. ğŸ”„ å›è°ƒæœºåˆ¶æ·±å…¥ç†è§£


### 5.1 ä»€ä¹ˆæ˜¯å›è°ƒæœºåˆ¶


**ğŸ”¸ å›è°ƒæœºåˆ¶çš„æœ¬è´¨**
å›è°ƒå°±åƒ**ç•™ç”µè¯å·ç **ï¼Œä½ å‘Šè¯‰æœåŠ¡å‘˜"èœå¥½äº†ç»™æˆ‘æ‰“ç”µè¯"ï¼Œç„¶åä½ å°±å¯ä»¥å»åšåˆ«çš„äº‹äº†ã€‚

```
å›è°ƒæœºåˆ¶æµç¨‹ï¼š

ä½ ï¼ˆå®¢æˆ·ç«¯ï¼‰                 é¤å…ï¼ˆæœåŠ¡ç«¯ï¼‰
   |                           |
   |--[1] ç‚¹èœ+ç•™ç”µè¯å·ç ------>|
   |                           |--[2] å¼€å§‹åšèœ
   |--[3] å»é€›è¡—ï¼ˆåšå…¶ä»–äº‹ï¼‰----|
   |                           |--[å¤„ç†ä¸­...]
   |                           |--[4] èœåšå¥½äº†
   |<--[5] ç”µè¯é€šçŸ¥ï¼ˆå›è°ƒï¼‰-----|
   |                           |
   |--[6] å›æ¥å–èœï¼ˆå¤„ç†ç»“æœï¼‰---|
```

### 5.2 å›è°ƒæœºåˆ¶çš„ä»£ç å®ç°


**ğŸ’» å›è°ƒæ¥å£å®ç°**

```java
// ğŸ¯ å®šä¹‰å›è°ƒæ¥å£
public interface RpcCallback<T> {
    void onSuccess(T result);    // æˆåŠŸæ—¶è°ƒç”¨
    void onFailure(Exception ex); // å¤±è´¥æ—¶è°ƒç”¨
}

// ğŸ¯ ä½¿ç”¨å›è°ƒçš„å¼‚æ­¥è°ƒç”¨
public class CallbackExample {
    
    public void processOrderAsync(String orderId) {
        OrderService orderService = getRpcClient();
        
        // ğŸ”¸ å¼‚æ­¥å¤„ç†è®¢å•ï¼Œæä¾›å›è°ƒå¤„ç†ç»“æœ
        orderService.processOrderAsync(orderId, new RpcCallback<OrderResult>() {
            @Override
            public void onSuccess(OrderResult result) {
                // âœ… è®¢å•å¤„ç†æˆåŠŸ
                System.out.println("è®¢å•å¤„ç†æˆåŠŸï¼š" + result.getOrderId());
                updateOrderStatus(result);
                notifyUser("æ‚¨çš„è®¢å•å·²å¤„ç†å®Œæˆ");
            }
            
            @Override
            public void onFailure(Exception ex) {
                // âŒ è®¢å•å¤„ç†å¤±è´¥  
                System.err.println("è®¢å•å¤„ç†å¤±è´¥ï¼š" + ex.getMessage());
                handleOrderError(orderId, ex);
                notifyUser("è®¢å•å¤„ç†å¤±è´¥ï¼Œè¯·è”ç³»å®¢æœ");
            }
        });
        
        // ğŸ”¸ ç«‹å³ç»§ç»­æ‰§è¡Œå…¶ä»–ä¸šåŠ¡
        System.out.println("è®¢å•å·²æäº¤å¤„ç†ï¼Œç»§ç»­å¤„ç†å…¶ä»–è®¢å•...");
        processOtherOrders();
    }
}
```

### 5.3 å›è°ƒæœºåˆ¶çš„ä¼˜åŠ¿


**âœ… å›è°ƒçš„å¥½å¤„**

```
ğŸš€ é«˜æ•ˆåˆ©ç”¨èµ„æº
- ä¸éœ€è¦è½®è¯¢æ£€æŸ¥ç»“æœ
- CPUå¯ä»¥å¤„ç†å…¶ä»–ä»»åŠ¡

ğŸ“± ç”¨æˆ·ä½“éªŒå¥½
- é¡µé¢ä¸ä¼šå¡ä½
- å¯ä»¥æ˜¾ç¤ºå¤„ç†è¿›åº¦

ğŸ”§ ä»£ç ç»“æ„æ¸…æ™°
- æˆåŠŸå’Œå¤±è´¥åˆ†åˆ«å¤„ç†
- ä¸šåŠ¡é€»è¾‘æ›´æ˜ç¡®
```

---

## 6. ğŸ¯ Futureå’ŒPromiseæ¨¡å¼


### 6.1 Futureæ¨¡å¼è¯¦è§£


**ğŸ”¸ ä»€ä¹ˆæ˜¯Futureï¼Ÿ**
Futureå°±åƒ**å–ç¥¨å·**ï¼Œä½ æ‹¿åˆ°ç¥¨å·å°±å¯ä»¥åšåˆ«çš„äº‹ï¼Œç­‰å«å·äº†å†å»å–ç»“æœã€‚

```
Futureæ¨¡å¼æµç¨‹ï¼š

ä½ ï¼ˆå®¢æˆ·ç«¯ï¼‰                 é“¶è¡Œï¼ˆæœåŠ¡ç«¯ï¼‰
   |                           |
   |--[1] åŠç†ä¸šåŠ¡ç”³è¯·--------->|
   |<--[2] ç»™ä½ å–ç¥¨å·ï¼ˆFutureï¼‰-|
   |                           |--[3] å¼€å§‹å¤„ç†ä¸šåŠ¡
   |--[4] æ‹¿ç€ç¥¨å·åšå…¶ä»–äº‹------|
   |                           |--[å¤„ç†ä¸­...]  
   |--[5] ç”¨ç¥¨å·æŸ¥è¯¢ç»“æœ-------|
   |<--[6] è¿”å›å¤„ç†ç»“æœ---------|
```

### 6.2 Futureæ¨¡å¼ä»£ç å®ç°


**ğŸ’» Java Futureç¤ºä¾‹**

```java
// ğŸ¯ Futureæ¨¡å¼ - ä¼˜é›…çš„å¼‚æ­¥å¤„ç†
public class FutureExample {
    
    public void handleMultipleRequests() {
        UserService userService = getRpcClient();
        OrderService orderService = getRpcClient();
        
        // ğŸ”¸ åŒæ—¶å‘èµ·å¤šä¸ªå¼‚æ­¥è¯·æ±‚
        Future<UserInfo> userFuture = userService.getUserInfoAsync("user123");
        Future<List<Order>> ordersFuture = orderService.getOrdersAsync("user123");
        Future<PaymentInfo> paymentFuture = getPaymentInfoAsync("user123");
        
        // ğŸ”¸ å¯ä»¥ç«‹å³åšå…¶ä»–äº‹æƒ…
        System.out.println("æ•°æ®åŠ è½½ä¸­ï¼Œå‡†å¤‡é¡µé¢...");
        preparePageLayout();
        
        try {
            // ğŸ”¸ ç­‰å¾…æ‰€æœ‰ç»“æœè¿”å›ï¼ˆå¯è®¾ç½®è¶…æ—¶ï¼‰
            UserInfo user = userFuture.get(2, TimeUnit.SECONDS);
            List<Order> orders = ordersFuture.get(3, TimeUnit.SECONDS);
            PaymentInfo payment = paymentFuture.get(2, TimeUnit.SECONDS);
            
            // ğŸ”¸ æ‰€æœ‰æ•°æ®å‡†å¤‡å¥½ï¼Œæ¸²æŸ“é¡µé¢
            renderUserDashboard(user, orders, payment);
            
        } catch (TimeoutException e) {
            System.err.println("æ•°æ®åŠ è½½è¶…æ—¶ï¼š" + e.getMessage());
            showErrorPage("æ•°æ®åŠ è½½è¶…æ—¶ï¼Œè¯·ç¨åé‡è¯•");
        } catch (Exception e) {
            System.err.println("æ•°æ®åŠ è½½å¤±è´¥ï¼š" + e.getMessage());
            showErrorPage("æ•°æ®åŠ è½½å¤±è´¥");
        }
    }
}
```

### 6.3 Promiseæ¨¡å¼è¯¦è§£


**ğŸ”¸ ä»€ä¹ˆæ˜¯Promiseï¼Ÿ**
Promiseæ˜¯Futureçš„å¢å¼ºç‰ˆï¼Œå°±åƒ**æ™ºèƒ½æé†’å™¨**ï¼Œä¸ä»…ç»™ä½ ç¥¨å·ï¼Œè¿˜èƒ½åœ¨å¥½äº†çš„æ—¶å€™è‡ªåŠ¨é€šçŸ¥ä½ ã€‚

**ğŸ’» Promiseé£æ ¼ä»£ç **

```java
// ğŸ¯ Promiseæ¨¡å¼ - é“¾å¼è°ƒç”¨
public class PromiseExample {
    
    public void processUserDataChain(String userId) {
        UserService userService = getRpcClient();
        
        // ğŸ”¸ Promiseé“¾å¼è°ƒç”¨
        userService.getUserAsync(userId)
            .thenCompose(user -> {
                // âœ… ç”¨æˆ·ä¿¡æ¯è·å–æˆåŠŸï¼Œæ¥ç€è·å–è®¢å•
                System.out.println("ç”¨æˆ·ä¿¡æ¯å·²è·å–ï¼š" + user.getName());
                return getOrdersAsync(user.getId());
            })
            .thenCompose(orders -> {
                // âœ… è®¢å•ä¿¡æ¯è·å–æˆåŠŸï¼Œè®¡ç®—æ€»é‡‘é¢
                System.out.println("è®¢å•æ•°é‡ï¼š" + orders.size());
                return calculateTotalAsync(orders);
            })
            .thenAccept(total -> {
                // âœ… æ‰€æœ‰å¤„ç†å®Œæˆ
                System.out.println("ç”¨æˆ·æ€»æ¶ˆè´¹ï¼š" + total);
                updateUserLevel(userId, total);
            })
            .exceptionally(ex -> {
                // âŒ ä»»ä½•æ­¥éª¤å¤±è´¥éƒ½ä¼šåˆ°è¿™é‡Œ
                System.err.println("å¤„ç†å¤±è´¥ï¼š" + ex.getMessage());
                handleError(userId, ex);
                return null;
            });
            
        // ğŸ”¸ ç«‹å³ç»§ç»­å¤„ç†å…¶ä»–ç”¨æˆ·
        System.out.println("ç”¨æˆ·æ•°æ®å¤„ç†å·²å¯åŠ¨ï¼Œç»§ç»­å¤„ç†ä¸‹ä¸€ä¸ªç”¨æˆ·...");
    }
}
```

### 6.4 Future vs Promiseå¯¹æ¯”


| ç‰¹æ€§ | **Future** | **Promise** |
|------|-----------|------------|
| ğŸ¯ **è·å–ç»“æœ** | `éœ€è¦ä¸»åŠ¨è°ƒç”¨get()` | `è‡ªåŠ¨å›è°ƒé€šçŸ¥` |
| ğŸ”— **é“¾å¼è°ƒç”¨** | `ä¸æ”¯æŒ` | `æ”¯æŒé“¾å¼æ“ä½œ` |
| ğŸ› **å¼‚å¸¸å¤„ç†** | `éœ€è¦try-catch` | `ç»Ÿä¸€å¼‚å¸¸å¤„ç†` |
| ğŸ’¡ **ä»£ç é£æ ¼** | `å‘½ä»¤å¼ç¼–ç¨‹` | `å‡½æ•°å¼ç¼–ç¨‹` |

---

## 7. âš ï¸ å¼‚å¸¸å¤„ç†ä¸è¶…æ—¶æ§åˆ¶


### 7.1 å¼‚æ­¥è°ƒç”¨ä¸­çš„å¼‚å¸¸ç±»å‹


**ğŸ”¸ å¼‚æ­¥è°ƒç”¨çš„å¼‚å¸¸åˆ†ç±»**

```
å¼‚æ­¥è°ƒç”¨å¼‚å¸¸ç±»å‹
â”œâ”€â”€ ç½‘ç»œå¼‚å¸¸
â”‚   â”œâ”€â”€ ğŸŒ è¿æ¥è¶…æ—¶ï¼šæœåŠ¡å™¨è¿ä¸ä¸Š
â”‚   â”œâ”€â”€ ğŸ“¡ ä¼ è¾“ä¸­æ–­ï¼šç½‘ç»œä¸ç¨³å®š
â”‚   â””â”€â”€ ğŸ”Œ è¿æ¥è¢«æ‹’ï¼šæœåŠ¡å™¨æ‹’ç»è¿æ¥
â”‚
â”œâ”€â”€ æœåŠ¡å¼‚å¸¸  
â”‚   â”œâ”€â”€ ğŸ’¥ ä¸šåŠ¡é€»è¾‘é”™è¯¯ï¼šè®¢å•ä¸å­˜åœ¨
â”‚   â”œâ”€â”€ ğŸ›‘ æœåŠ¡ä¸å¯ç”¨ï¼šæœåŠ¡å™¨å®•æœº
â”‚   â””â”€â”€ ğŸ”’ æƒé™ä¸è¶³ï¼šæ— è®¿é—®æƒé™
â”‚
â””â”€â”€ å®¢æˆ·ç«¯å¼‚å¸¸
    â”œâ”€â”€ â° è°ƒç”¨è¶…æ—¶ï¼šç­‰å¾…æ—¶é—´è¿‡é•¿
    â”œâ”€â”€ ğŸš« å–æ¶ˆæ“ä½œï¼šç”¨æˆ·ä¸»åŠ¨å–æ¶ˆ
    â””â”€â”€ ğŸ“ å‚æ•°é”™è¯¯ï¼šè¯·æ±‚å‚æ•°ä¸æ­£ç¡®
```

### 7.2 è¶…æ—¶æ§åˆ¶ç­–ç•¥


**ğŸ’» è¶…æ—¶æ§åˆ¶å®ç°**

```java
// ğŸ¯ å¤šå±‚æ¬¡è¶…æ—¶æ§åˆ¶
public class TimeoutControlExample {
    
    public void robustAsyncCall() {
        PaymentService paymentService = getRpcClient();
        
        // ğŸ”¸ ç¬¬ä¸€å±‚ï¼šè¿æ¥è¶…æ—¶
        CompletableFuture<PaymentResult> future = paymentService
            .processPaymentAsync("order123", 99.99)
            .orTimeout(5, TimeUnit.SECONDS);  // 5ç§’è¶…æ—¶
            
        // ğŸ”¸ ç¬¬äºŒå±‚ï¼šå¤„ç†è¶…æ—¶å’Œå¼‚å¸¸
        future
            .completeOnTimeout(
                PaymentResult.timeout(), // è¶…æ—¶æ—¶çš„é»˜è®¤å€¼
                3, TimeUnit.SECONDS
            )
            .whenComplete((result, ex) -> {
                if (ex != null) {
                    handlePaymentException(ex);
                } else if (result.isTimeout()) {
                    System.out.println("æ”¯ä»˜å¤„ç†è¶…æ—¶ï¼Œè¯·ç¨åæŸ¥è¯¢ç»“æœ");
                    schedulePaymentQuery("order123");
                } else {
                    System.out.println("æ”¯ä»˜æˆåŠŸï¼š" + result.getTransactionId());
                }
            });
    }
    
    private void handlePaymentException(Throwable ex) {
        if (ex instanceof TimeoutException) {
            System.err.println("â° æ”¯ä»˜è¶…æ—¶ï¼š" + ex.getMessage());
            // è®°å½•è¶…æ—¶æ—¥å¿—ï¼Œå¯èƒ½éœ€è¦äººå·¥ä»‹å…¥
        } else if (ex instanceof ConnectException) {
            System.err.println("ğŸŒ è¿æ¥å¤±è´¥ï¼š" + ex.getMessage());
            // å°è¯•é‡è¿æˆ–åˆ‡æ¢æœåŠ¡å™¨
        } else {
            System.err.println("ğŸ’¥ æ”¯ä»˜å¼‚å¸¸ï¼š" + ex.getMessage());
            // é€šç”¨å¼‚å¸¸å¤„ç†
        }
    }
}
```

### 7.3 å¼‚å¸¸å¤„ç†æœ€ä½³å®è·µ


**ğŸ›¡ï¸ å¼‚å¸¸å¤„ç†ç­–ç•¥**

```java
// ğŸ¯ å®Œæ•´çš„å¼‚å¸¸å¤„ç†æ¡†æ¶
public class ExceptionHandlingExample {
    
    public void robustRpcCall() {
        try {
            UserService userService = getRpcClient();
            
            // ğŸ”¸ è®¾ç½®é‡è¯•ç­–ç•¥
            CompletableFuture<UserInfo> future = userService
                .getUserInfoAsync("user123")
                .retryWhen(this::shouldRetry)  // è‡ªå®šä¹‰é‡è¯•æ¡ä»¶
                .timeout(Duration.ofSeconds(3)); // è®¾ç½®è¶…æ—¶
                
            future.handle((result, ex) -> {
                if (ex == null) {
                    // âœ… æˆåŠŸå¤„ç†
                    return handleSuccess(result);
                } else {
                    // âŒ å¼‚å¸¸å¤„ç†
                    return handleException(ex);
                }
            });
            
        } catch (Exception e) {
            System.err.println("RPCè°ƒç”¨é…ç½®é”™è¯¯ï¼š" + e.getMessage());
        }
    }
    
    private boolean shouldRetry(Throwable ex) {
        // ğŸ”¸ åªå¯¹ç½‘ç»œå¼‚å¸¸è¿›è¡Œé‡è¯•
        return ex instanceof ConnectException || 
               ex instanceof SocketTimeoutException;
    }
    
    private UserInfo handleException(Throwable ex) {
        if (ex instanceof TimeoutException) {
            // â° è¶…æ—¶å¤„ç†
            logTimeout("getUserInfo", ex);
            return UserInfo.getDefaultUser();
        } else if (ex instanceof ServiceUnavailableException) {
            // ğŸ›‘ æœåŠ¡ä¸å¯ç”¨
            logServiceDown("UserService", ex);
            return UserInfo.getOfflineUser();
        } else {
            // ğŸ’¥ å…¶ä»–å¼‚å¸¸
            logUnexpectedError("getUserInfo", ex);
            return UserInfo.getErrorUser();
        }
    }
}
```

---

## 8. ğŸ¯ è°ƒç”¨æ¨¡å¼é€‰æ‹©æŒ‡å—


### 8.1 é€‰æ‹©å†³ç­–æ ‘


```
è°ƒç”¨æ¨¡å¼é€‰æ‹©å†³ç­–æ ‘

å¼€å§‹ï¼šéœ€è¦RPCè°ƒç”¨
    |
    â”œâ”€ éœ€è¦ç«‹å³çŸ¥é“ç»“æœï¼Ÿ
    â”‚   â”œâ”€ æ˜¯ â†’ åŒæ­¥è°ƒç”¨
    â”‚   â”‚   â”œâ”€ é‡‘èäº¤æ˜“ âœ…
    â”‚   â”‚   â”œâ”€ ç”¨æˆ·ç™»å½• âœ…  
    â”‚   â”‚   â””â”€ æƒé™éªŒè¯ âœ…
    â”‚   â”‚
    â”‚   â””â”€ å¦ â†’ ç»§ç»­åˆ¤æ–­
    â”‚       |
    â”‚       â”œâ”€ éœ€è¦å¤„ç†ç»“æœï¼Ÿ
    â”‚       â”‚   â”œâ”€ æ˜¯ â†’ å¼‚æ­¥è°ƒç”¨
    â”‚       â”‚   â”‚   â”œâ”€ æ‰¹é‡å¤„ç† âœ…
    â”‚       â”‚   â”‚   â”œâ”€ æ–‡ä»¶ä¸Šä¼  âœ…
    â”‚       â”‚   â”‚   â””â”€ æ•°æ®åˆ†æ âœ…
    â”‚       â”‚   â”‚
    â”‚       â”‚   â””â”€ å¦ â†’ å•å‘è°ƒç”¨
    â”‚       â”‚       â”œâ”€ æ—¥å¿—è®°å½• âœ…
    â”‚       â”‚       â”œâ”€ ç›‘æ§ä¸ŠæŠ¥ âœ…
    â”‚       â”‚       â””â”€ äº‹ä»¶é€šçŸ¥ âœ…
```

### 8.2 æ€§èƒ½å¯¹æ¯”åˆ†æ


| è°ƒç”¨æ¨¡å¼ | **ååé‡** | **å»¶è¿Ÿ** | **èµ„æºå ç”¨** | **å¤æ‚åº¦** |
|---------|-----------|---------|-------------|-----------|
| ğŸ”’ **åŒæ­¥è°ƒç”¨** | `ä½` | `é«˜` | `é«˜ï¼ˆé˜»å¡çº¿ç¨‹ï¼‰` | `ç®€å•` |
| âš¡ **å¼‚æ­¥è°ƒç”¨** | `é«˜` | `ä½` | `ä½ï¼ˆéé˜»å¡ï¼‰` | `ä¸­ç­‰` |
| ğŸ“¢ **å•å‘è°ƒç”¨** | `æœ€é«˜` | `æœ€ä½` | `æœ€ä½` | `ç®€å•` |

### 8.3 å®é™…åœºæ™¯æ˜ å°„


**ğŸ¦ ç”µå•†ç³»ç»Ÿä¸­çš„åº”ç”¨**

```java
// ğŸ¯ ç”µå•†è®¢å•å¤„ç† - æ··åˆä½¿ç”¨å¤šç§æ¨¡å¼
public class ECommerceExample {
    
    public void processOrder(OrderRequest request) {
        // ğŸ”’ åŒæ­¥è°ƒç”¨ï¼šéªŒè¯åº“å­˜ï¼ˆå¿…é¡»ç«‹å³çŸ¥é“ç»“æœï¼‰
        InventoryService inventory = getRpcClient();
        boolean hasStock = inventory.checkStock(request.getProductId(), request.getQuantity());
        
        if (!hasStock) {
            throw new RuntimeException("åº“å­˜ä¸è¶³");
        }
        
        // ğŸ”’ åŒæ­¥è°ƒç”¨ï¼šæ‰£å‡åº“å­˜ï¼ˆå¿…é¡»ç«‹å³å®Œæˆï¼‰
        inventory.reduceStock(request.getProductId(), request.getQuantity());
        
        // ğŸ”’ åŒæ­¥è°ƒç”¨ï¼šåˆ›å»ºè®¢å•ï¼ˆå¿…é¡»ç«‹å³è¿”å›è®¢å•å·ï¼‰
        OrderService orderService = getRpcClient();
        Order order = orderService.createOrder(request);
        
        // âš¡ å¼‚æ­¥è°ƒç”¨ï¼šå‘é€ç¡®è®¤é‚®ä»¶ï¼ˆå¯ä»¥åå°å¤„ç†ï¼‰
        EmailService emailService = getRpcClient();
        emailService.sendOrderConfirmationAsync(order.getUserEmail(), order);
        
        // ğŸ“¢ å•å‘è°ƒç”¨ï¼šè®°å½•ç”¨æˆ·è¡Œä¸ºï¼ˆåªè®°å½•ï¼Œä¸éœ€è¦ç»“æœï¼‰
        AnalyticsService analytics = getRpcClient();
        analytics.recordPurchaseEventOneWay(order.getUserId(), order.getProductId());
        
        // ğŸ“¢ å•å‘è°ƒç”¨ï¼šæ›´æ–°æ¨èç³»ç»Ÿï¼ˆåå°æ›´æ–°ï¼Œä¸å½±å“è®¢å•æµç¨‹ï¼‰
        RecommendationService recommendation = getRpcClient();
        recommendation.updateUserPreferenceOneWay(order.getUserId(), order.getProductId());
    }
}
```

---

## 9. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 9.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ åŒæ­¥è°ƒç”¨ï¼šåƒæ‰“ç”µè¯ï¼Œå¿…é¡»ç­‰å¯¹æ–¹æ¥å¬æ‰èƒ½ç»§ç»­
ğŸ”¸ å¼‚æ­¥è°ƒç”¨ï¼šåƒå‘å¾®ä¿¡ï¼Œå‘äº†å°±èƒ½åšåˆ«çš„äº‹ï¼Œæœ‰å›å¤å†çœ‹
ğŸ”¸ å•å‘è°ƒç”¨ï¼šåƒå‘å¹¿æ’­ï¼Œåªç®¡å‘å‡ºå»ï¼Œä¸éœ€è¦ä»»ä½•å›å¤
ğŸ”¸ å›è°ƒæœºåˆ¶ï¼šåƒç•™ç”µè¯ï¼Œäº‹æƒ…åŠå¥½äº†ä¼šä¸»åŠ¨é€šçŸ¥ä½ 
ğŸ”¸ Futureæ¨¡å¼ï¼šåƒå–å·æ’é˜Ÿï¼Œæ‹¿åˆ°å·ç å¯ä»¥åšåˆ«çš„äº‹
ğŸ”¸ è¶…æ—¶æ§åˆ¶ï¼šè®¾å®šæœ€é•¿ç­‰å¾…æ—¶é—´ï¼Œé¿å…æ— é™ç­‰å¾…
```

### 9.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ ä»€ä¹ˆæ—¶å€™ç”¨ä»€ä¹ˆæ¨¡å¼**

```
éœ€è¦ç«‹å³ç¡®è®¤ç»“æœ â†’ åŒæ­¥è°ƒç”¨
- è½¬è´¦ã€æ”¯ä»˜ã€ç™»å½•éªŒè¯

å¯ä»¥åå°å¤„ç† â†’ å¼‚æ­¥è°ƒç”¨  
- å‘é‚®ä»¶ã€æ–‡ä»¶å¤„ç†ã€æ•°æ®åˆ†æ

åªæ˜¯é€šçŸ¥ä¸éœ€è¦å›å¤ â†’ å•å‘è°ƒç”¨
- æ—¥å¿—è®°å½•ã€çŠ¶æ€ä¸ŠæŠ¥ã€äº‹ä»¶é€šçŸ¥
```

**ğŸ”¹ å¼‚æ­¥ç¼–ç¨‹çš„æ ¸å¿ƒæ€æƒ³**

```
ä¸ç­‰å¾… = æé«˜æ•ˆç‡
- å‘èµ·è¯·æ±‚åç«‹å³åšå…¶ä»–äº‹æƒ…
- é¿å…çº¿ç¨‹é˜»å¡æµªè´¹èµ„æº

ç”¨å›è°ƒå¤„ç†ç»“æœ
- æˆåŠŸæ—¶æ‰§è¡ŒæˆåŠŸé€»è¾‘
- å¤±è´¥æ—¶æ‰§è¡Œå¤±è´¥é€»è¾‘
```

**ğŸ”¹ å¼‚å¸¸å’Œè¶…æ—¶çš„é‡è¦æ€§**

```
ç½‘ç»œä¸å¯é  â†’ å¿…é¡»è€ƒè™‘å¤±è´¥æƒ…å†µ
- è¿æ¥è¶…æ—¶ã€ä¼ è¾“ä¸­æ–­ã€æœåŠ¡å®•æœº

è®¾ç½®åˆç†è¶…æ—¶ â†’ é¿å…æ— é™ç­‰å¾…
- æ ¹æ®ä¸šåŠ¡åœºæ™¯è®¾ç½®ä¸åŒçš„è¶…æ—¶æ—¶é—´
- è¶…æ—¶åæœ‰åˆé€‚çš„é™çº§å¤„ç†
```

### 9.3 å®é™…åº”ç”¨ä»·å€¼


**ğŸ¯ ä¸šåŠ¡åœºæ™¯åº”ç”¨**

- **ç”µå•†ç³»ç»Ÿ**ï¼šè®¢å•å¤„ç†ç”¨åŒæ­¥ï¼Œé‚®ä»¶å‘é€ç”¨å¼‚æ­¥ï¼Œè¡Œä¸ºè®°å½•ç”¨å•å‘
- **ç¤¾äº¤åº”ç”¨**ï¼šæ¶ˆæ¯å‘é€ç”¨å¼‚æ­¥ï¼ŒçŠ¶æ€æ›´æ–°ç”¨å•å‘ï¼Œå¥½å‹éªŒè¯ç”¨åŒæ­¥
- **é‡‘èç³»ç»Ÿ**ï¼šäº¤æ˜“å¤„ç†ç”¨åŒæ­¥ï¼Œé£é™©è®¡ç®—ç”¨å¼‚æ­¥ï¼Œå®¡è®¡æ—¥å¿—ç”¨å•å‘
- **å†…å®¹å¹³å°**ï¼šå†…å®¹å‘å¸ƒç”¨åŒæ­¥ï¼Œæ¨èæ›´æ–°ç”¨å¼‚æ­¥ï¼Œç»Ÿè®¡ä¸ŠæŠ¥ç”¨å•å‘

**ğŸ”§ å·¥ç¨‹å®è·µ**

- **æ€§èƒ½ä¼˜åŒ–**ï¼šç”¨å¼‚æ­¥è°ƒç”¨æé«˜ç³»ç»Ÿååé‡
- **ç”¨æˆ·ä½“éªŒ**ï¼šé¿å…ç•Œé¢å¡é¡¿ï¼Œåå°å¤„ç†è€—æ—¶æ“ä½œ
- **ç³»ç»Ÿç¨³å®šæ€§**ï¼šåˆç†çš„è¶…æ—¶å’Œå¼‚å¸¸å¤„ç†
- **èµ„æºåˆ©ç”¨**ï¼šå‡å°‘çº¿ç¨‹é˜»å¡ï¼Œæé«˜CPUåˆ©ç”¨ç‡

**æ ¸å¿ƒè®°å¿†å£è¯€**ï¼š
- åŒæ­¥è°ƒç”¨è¦ç­‰å¾…ï¼Œç®€å•å¯é é€‚åˆäº¤æ˜“
- å¼‚æ­¥è°ƒç”¨æ•ˆç‡é«˜ï¼Œæ‰¹é‡å¤„ç†ä¸çƒ¦æ¼  
- å•å‘è°ƒç”¨æœ€è¿…é€Ÿï¼Œé€šçŸ¥ä¸ŠæŠ¥ä¸å›å¤
- å›è°ƒæœºåˆ¶å¾ˆä¼˜é›…ï¼ŒFutureæ¨¡å¼æ›´é«˜çº§