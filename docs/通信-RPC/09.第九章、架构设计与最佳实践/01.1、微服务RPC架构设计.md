---
title: 1ã€å¾®æœåŠ¡RPCæ¶æ„è®¾è®¡
---
## ğŸ“š ç›®å½•


1. [å¾®æœåŠ¡æ¶æ„åŸºç¡€æ¦‚å¿µ](#1-å¾®æœåŠ¡æ¶æ„åŸºç¡€æ¦‚å¿µ)
2. [æœåŠ¡æ‹†åˆ†åŸåˆ™ä¸å®è·µ](#2-æœåŠ¡æ‹†åˆ†åŸåˆ™ä¸å®è·µ)
3. [RPCåœ¨å¾®æœåŠ¡ä¸­çš„è§’è‰²](#3-RPCåœ¨å¾®æœåŠ¡ä¸­çš„è§’è‰²)
4. [APIè®¾è®¡è§„èŒƒ](#4-APIè®¾è®¡è§„èŒƒ)
5. [æœåŠ¡ä¾èµ–ç®¡ç†](#5-æœåŠ¡ä¾èµ–ç®¡ç†)
6. [è·¨æœåŠ¡äº‹åŠ¡å¤„ç†](#6-è·¨æœåŠ¡äº‹åŠ¡å¤„ç†)
7. [æ•°æ®ä¸€è‡´æ€§ä¿è¯æ–¹æ¡ˆ](#7-æ•°æ®ä¸€è‡´æ€§ä¿è¯æ–¹æ¡ˆ)
8. [æ¶æ„è®¾è®¡æœ€ä½³å®è·µ](#8-æ¶æ„è®¾è®¡æœ€ä½³å®è·µ)

---

## 1. ğŸ—ï¸ å¾®æœåŠ¡æ¶æ„åŸºç¡€æ¦‚å¿µ



### 1.1 ä»€ä¹ˆæ˜¯å¾®æœåŠ¡æ¶æ„



**ğŸ’¡ é€šä¿—ç†è§£**ï¼š
æƒ³è±¡ä¸€ä¸ªå¤§å…¬å¸ï¼ŒåŸæœ¬æ‰€æœ‰éƒ¨é—¨éƒ½åœ¨ä¸€æ ‹æ¥¼é‡ŒåŠå…¬ï¼ˆå•ä½“åº”ç”¨ï¼‰ï¼Œç°åœ¨æŠŠå„éƒ¨é—¨åˆ†æ•£åˆ°ä¸åŒçš„æ¥¼é‡Œï¼ˆå¾®æœåŠ¡ï¼‰ï¼Œæ¯æ ‹æ¥¼è´Ÿè´£è‡ªå·±çš„ä¸šåŠ¡ï¼Œä½†å½¼æ­¤ä¹‹é—´éœ€è¦é€šè¿‡ç”µè¯ã€é‚®ä»¶ç­‰æ–¹å¼æ²Ÿé€šåä½œã€‚

```
å•ä½“åº”ç”¨ vs å¾®æœåŠ¡æ¶æ„ï¼š

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      å•ä½“åº”ç”¨            â”‚         â”‚ ç”¨æˆ·æœåŠ¡ â”‚  â”‚ è®¢å•æœåŠ¡ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”        â”‚   â†’    â”‚         â”‚  â”‚         â”‚
â”‚  â”‚ç”¨æˆ· â”‚ â”‚è®¢å• â”‚        â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚  â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜        â”‚              â”‚           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”        â”‚              â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
â”‚  â”‚æ”¯ä»˜ â”‚ â”‚åº“å­˜ â”‚        â”‚                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜        â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚ æ”¯ä»˜æœåŠ¡ â”‚  â”‚ åº“å­˜æœåŠ¡ â”‚
                                    â”‚         â”‚  â”‚         â”‚
                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ğŸ¯ å¾®æœåŠ¡çš„æ ¸å¿ƒç†å¿µ**ï¼š
- **å•ä¸€èŒè´£**ï¼šæ¯ä¸ªæœåŠ¡åªè´Ÿè´£ä¸€ä¸ªä¸šåŠ¡åŠŸèƒ½
- **ç‹¬ç«‹éƒ¨ç½²**ï¼šå„æœåŠ¡å¯ä»¥ç‹¬ç«‹å‘å¸ƒä¸Šçº¿
- **æŠ€æœ¯å¤šæ ·**ï¼šä¸åŒæœåŠ¡å¯ä»¥ç”¨ä¸åŒæŠ€æœ¯æ ˆ
- **æ•°æ®ç‹¬ç«‹**ï¼šæ¯ä¸ªæœåŠ¡ç®¡ç†è‡ªå·±çš„æ•°æ®

### 1.2 å¾®æœåŠ¡æ¶æ„çš„ä¼˜ç¼ºç‚¹



**âœ… ä¸»è¦ä¼˜åŠ¿**ï¼š
- **å¼€å‘æ•ˆç‡**ï¼šå°å›¢é˜Ÿè´Ÿè´£å°æœåŠ¡ï¼Œå¼€å‘æ›´å¿«
- **æŠ€æœ¯é€‰å‹çµæ´»**ï¼šJavaã€Pythonã€Goå¯ä»¥å¹¶å­˜
- **æ‰©å±•æ€§å¥½**ï¼šçƒ­ç‚¹æœåŠ¡å¯ä»¥å•ç‹¬æ‰©å®¹
- **æ•…éšœéš”ç¦»**ï¼šä¸€ä¸ªæœåŠ¡æŒ‚äº†ä¸å½±å“å…¶ä»–æœåŠ¡

**âŒ ä¸»è¦æŒ‘æˆ˜**ï¼š
- **å¤æ‚åº¦å¢åŠ **ï¼šæœåŠ¡é—´é€šä¿¡ã€æ•°æ®ä¸€è‡´æ€§
- **è¿ç»´æˆæœ¬**ï¼šéœ€è¦ç®¡ç†æ›´å¤šçš„æœåŠ¡å®ä¾‹
- **ç½‘ç»œå»¶è¿Ÿ**ï¼šæœåŠ¡é—´è°ƒç”¨å¢åŠ äº†ç½‘ç»œå¼€é”€
- **è°ƒè¯•å›°éš¾**ï¼šä¸€ä¸ªè¯·æ±‚å¯èƒ½è·¨è¶Šå¤šä¸ªæœåŠ¡

---

## 2. âœ‚ï¸ æœåŠ¡æ‹†åˆ†åŸåˆ™ä¸å®è·µ



### 2.1 ä¸šåŠ¡è¾¹ç•Œæ‹†åˆ†



**ğŸ“‹ æ ¸å¿ƒåŸåˆ™**ï¼šæŒ‰ä¸šåŠ¡åŠŸèƒ½åˆ’åˆ†ï¼Œè€Œä¸æ˜¯æŒ‰æŠ€æœ¯å±‚åˆ’åˆ†

**ğŸ” å¦‚ä½•è¯†åˆ«ä¸šåŠ¡è¾¹ç•Œ**ï¼š

```
ç”µå•†ç³»ç»Ÿä¸šåŠ¡è¾¹ç•Œåˆ†æï¼š

ç”¨æˆ·ç›¸å…³åŠŸèƒ½ï¼š
â”œâ”€â”€ ç”¨æˆ·æ³¨å†Œç™»å½•
â”œâ”€â”€ ä¸ªäººä¿¡æ¯ç®¡ç†
â”œâ”€â”€ æ”¶è´§åœ°å€ç®¡ç†
â””â”€â”€ ç”¨æˆ·åå¥½è®¾ç½®
    â†“
   ç”¨æˆ·æœåŠ¡

å•†å“ç›¸å…³åŠŸèƒ½ï¼š
â”œâ”€â”€ å•†å“ä¿¡æ¯ç®¡ç†
â”œâ”€â”€ å•†å“åˆ†ç±»ç®¡ç†
â”œâ”€â”€ åº“å­˜ç®¡ç†
â””â”€â”€ ä»·æ ¼ç®¡ç†
    â†“
   å•†å“æœåŠ¡

è®¢å•ç›¸å…³åŠŸèƒ½ï¼š
â”œâ”€â”€ ä¸‹å•æµç¨‹
â”œâ”€â”€ è®¢å•çŠ¶æ€ç®¡ç†
â”œâ”€â”€ è®¢å•æŸ¥è¯¢
â””â”€â”€ è®¢å•å–æ¶ˆ
    â†“
   è®¢å•æœåŠ¡
```

**ğŸ¯ æ‹†åˆ†åˆ¤æ–­æ ‡å‡†**ï¼š
- **åŠŸèƒ½å†…èš**ï¼šç›¸å…³åŠŸèƒ½æ”¾åœ¨ä¸€ä¸ªæœåŠ¡å†…
- **æ•°æ®å†…èš**ï¼šæ“ä½œåŒä¸€ç±»æ•°æ®çš„åŠŸèƒ½æ”¾åœ¨ä¸€èµ·
- **å›¢é˜Ÿè´£ä»»**ï¼šä¸€ä¸ªå›¢é˜Ÿèƒ½å®Œå…¨è´Ÿè´£çš„åŠŸèƒ½èŒƒå›´
- **å˜æ›´é¢‘ç‡**ï¼šå˜æ›´é¢‘ç‡ç›¸è¿‘çš„åŠŸèƒ½æ”¾åœ¨ä¸€èµ·

### 2.2 æ•°æ®è¾¹ç•Œæ‹†åˆ†



**ğŸ’¾ æ•°æ®ç‹¬ç«‹åŸåˆ™**ï¼šæ¯ä¸ªå¾®æœåŠ¡éƒ½æœ‰è‡ªå·±ç‹¬ç«‹çš„æ•°æ®å­˜å‚¨

```
æ•°æ®è¾¹ç•Œåˆ’åˆ†ç¤ºä¾‹ï¼š

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ç”¨æˆ·æœåŠ¡   â”‚    â”‚   è®¢å•æœåŠ¡   â”‚    â”‚   æ”¯ä»˜æœåŠ¡   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ç”¨æˆ·ä¿¡æ¯è¡¨   â”‚    â”‚ è®¢å•ä¸»è¡¨     â”‚    â”‚ æ”¯ä»˜è®°å½•è¡¨   â”‚
â”‚ ç”¨æˆ·åœ°å€è¡¨   â”‚    â”‚ è®¢å•æ˜ç»†è¡¨   â”‚    â”‚ è´¦æˆ·ä½™é¢è¡¨   â”‚
â”‚ ç”¨æˆ·åå¥½è¡¨   â”‚    â”‚ è®¢å•çŠ¶æ€è¡¨   â”‚    â”‚ äº¤æ˜“æµæ°´è¡¨   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â†‘                   â†‘                   â†‘
   ç‹¬ç«‹æ•°æ®åº“          ç‹¬ç«‹æ•°æ®åº“          ç‹¬ç«‹æ•°æ®åº“
```

**âš ï¸ å¸¸è§é™·é˜±**ï¼š
- **é¿å…å…±äº«æ•°æ®åº“**ï¼šå¤šä¸ªæœåŠ¡ä¸èƒ½ç›´æ¥è®¿é—®åŒä¸€å¼ è¡¨
- **é¿å…åˆ†å¸ƒå¼äº‹åŠ¡**ï¼šå°½é‡åœ¨æœåŠ¡å†…éƒ¨ä¿è¯æ•°æ®ä¸€è‡´æ€§
- **è°¨æ…å¤–é”®å…³è”**ï¼šè·¨æœåŠ¡çš„æ•°æ®å…³è”è¦é€šè¿‡APIè°ƒç”¨

### 2.3 å›¢é˜Ÿè¾¹ç•Œæ‹†åˆ†



**ğŸ‘¥ åº·å¨å®šå¾‹çš„åº”ç”¨**ï¼šç³»ç»Ÿæ¶æ„ä¼šåæ˜ ç»„ç»‡çš„æ²Ÿé€šç»“æ„

```
å›¢é˜Ÿç»„ç»‡ä¸æœåŠ¡æ‹†åˆ†å¯¹åº”ï¼š

å‰ç«¯å›¢é˜Ÿ â”€â”€â”€â”€â”€â”€ ç”¨æˆ·ç•Œé¢æœåŠ¡
ç”¨æˆ·å›¢é˜Ÿ â”€â”€â”€â”€â”€â”€ ç”¨æˆ·ç®¡ç†æœåŠ¡  
å•†å“å›¢é˜Ÿ â”€â”€â”€â”€â”€â”€ å•†å“ç®¡ç†æœåŠ¡
è®¢å•å›¢é˜Ÿ â”€â”€â”€â”€â”€â”€ è®¢å•å¤„ç†æœåŠ¡
æ”¯ä»˜å›¢é˜Ÿ â”€â”€â”€â”€â”€â”€ æ”¯ä»˜å¤„ç†æœåŠ¡
è¿è¥å›¢é˜Ÿ â”€â”€â”€â”€â”€â”€ æ•°æ®åˆ†ææœåŠ¡
```

**ğŸ¯ å›¢é˜Ÿæ‹†åˆ†è€ƒè™‘å› ç´ **ï¼š
- **å›¢é˜Ÿè§„æ¨¡**ï¼š2-8äººçš„å°å›¢é˜Ÿæœ€æœ‰æ•ˆç‡
- **æŠ€èƒ½åŒ¹é…**ï¼šå›¢é˜ŸæŠ€èƒ½è¦èƒ½è¦†ç›–æœåŠ¡çš„å®Œæ•´ç”Ÿå‘½å‘¨æœŸ
- **è´£ä»»æ¸…æ™°**ï¼šé¿å…å¤šå›¢é˜Ÿå…±åŒç»´æŠ¤ä¸€ä¸ªæœåŠ¡
- **æ²Ÿé€šæˆæœ¬**ï¼šå‡å°‘è·¨å›¢é˜Ÿåä½œçš„å¤æ‚åº¦

---

## 3. ğŸ”„ RPCåœ¨å¾®æœåŠ¡ä¸­çš„è§’è‰²



### 3.1 RPCçš„æ ¸å¿ƒä½œç”¨



**ğŸŒ æœåŠ¡é—´é€šä¿¡çš„æ¡¥æ¢**ï¼š
åœ¨å¾®æœåŠ¡æ¶æ„ä¸­ï¼ŒRPCå°±åƒæ˜¯æœåŠ¡ä¹‹é—´çš„"ç”µè¯ç³»ç»Ÿ"ï¼Œè®©ä¸åŒçš„æœåŠ¡èƒ½å¤Ÿäº’ç›¸è°ƒç”¨ï¼Œå°±åƒè°ƒç”¨æœ¬åœ°å‡½æ•°ä¸€æ ·ç®€å•ã€‚

```
å¾®æœåŠ¡RPCé€šä¿¡ç¤ºä¾‹ï¼š

ç”¨æˆ·ä¸‹å•æµç¨‹ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    RPCè°ƒç”¨    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è®¢å•æœåŠ¡ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ â”‚ ç”¨æˆ·æœåŠ¡ â”‚  éªŒè¯ç”¨æˆ·ä¿¡æ¯
â”‚         â”‚ â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â”‚ RPCè°ƒç”¨              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ â”‚ å•†å“æœåŠ¡ â”‚  æ£€æŸ¥å•†å“åº“å­˜
      â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚         â”‚
                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â”‚ RPCè°ƒç”¨              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ â”‚ æ”¯ä»˜æœåŠ¡ â”‚  å¤„ç†æ”¯ä»˜è¯·æ±‚
      â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚         â”‚
                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 RPC vs å…¶ä»–é€šä¿¡æ–¹å¼



**ğŸ“Š é€šä¿¡æ–¹å¼å¯¹æ¯”**ï¼š

| é€šä¿¡æ–¹å¼ | **é€‚ç”¨åœºæ™¯** | **ä¼˜ç‚¹** | **ç¼ºç‚¹** |
|---------|-------------|---------|---------|
| **åŒæ­¥RPC** | `å®æ—¶æŸ¥è¯¢ã€æ ¸å¿ƒä¸šåŠ¡æµç¨‹` | `ç®€å•ç›´æ¥ã€å“åº”å¿«` | `å¼ºè€¦åˆã€å®¹é”™æ€§å·®` |
| **å¼‚æ­¥æ¶ˆæ¯** | `æ•°æ®åŒæ­¥ã€äº‹ä»¶é€šçŸ¥` | `è§£è€¦ã€é«˜å¹¶å‘` | `å¤æ‚æ€§é«˜ã€è°ƒè¯•éš¾` |
| **REST API** | `å¤–éƒ¨æ¥å£ã€ç®€å•è°ƒç”¨` | `æ ‡å‡†åŒ–ã€æ˜“è°ƒè¯•` | `æ€§èƒ½è¾ƒä½ã€ç±»å‹ä¸ä¸¥æ ¼` |

### 3.3 RPCæ¡†æ¶é€‰æ‹©



**ğŸ”§ ä¸»æµRPCæ¡†æ¶å¯¹æ¯”**ï¼š

```
æ¡†æ¶ç‰¹ç‚¹åˆ†æï¼š

gRPCï¼ˆæ¨èï¼‰ï¼š
âœ… æ€§èƒ½é«˜ï¼ˆHTTP/2 + Protobufï¼‰
âœ… è·¨è¯­è¨€æ”¯æŒå¥½
âœ… æœ‰å®Œæ•´çš„ç”Ÿæ€å·¥å…·
âŒ å­¦ä¹ æˆæœ¬ç¨é«˜

Dubboï¼š
âœ… Javaç”Ÿæ€ä¸°å¯Œ
âœ… æœåŠ¡æ²»ç†åŠŸèƒ½å®Œå–„  
âœ… å›½å†…ç¤¾åŒºæ´»è·ƒ
âŒ ä¸»è¦æ”¯æŒJava

Thriftï¼š
âœ… è·¨è¯­è¨€æ”¯æŒ
âœ… æ€§èƒ½ä¸é”™
âŒ ç”Ÿæ€ç›¸å¯¹è¾ƒå°
âŒ ç»´æŠ¤ä¸å¤Ÿæ´»è·ƒ
```

---

## 4. ğŸ“‹ APIè®¾è®¡è§„èŒƒ



### 4.1 æ¥å£ç‰ˆæœ¬ç®¡ç†



**ğŸ”„ ä¸ºä»€ä¹ˆéœ€è¦ç‰ˆæœ¬ç®¡ç†**ï¼š
å°±åƒè½¯ä»¶éœ€è¦ç‰ˆæœ¬å·ä¸€æ ·ï¼ŒAPIä¹Ÿéœ€è¦ç‰ˆæœ¬ç®¡ç†ã€‚å½“ä½ ä¿®æ”¹äº†æ¥å£ï¼Œè€çš„å®¢æˆ·ç«¯è¿˜åœ¨ä½¿ç”¨æ—§ç‰ˆæœ¬ï¼Œè¿™æ—¶å€™å°±éœ€è¦åŒæ—¶æ”¯æŒå¤šä¸ªç‰ˆæœ¬ã€‚

**ğŸ“Œ ç‰ˆæœ¬ç­–ç•¥**ï¼š

```
ç‰ˆæœ¬å‘½åè§„èŒƒï¼š

v1.0.0 â†’ v1.0.1  ï¼ˆä¿®å¤bugï¼Œå‘åå…¼å®¹ï¼‰
v1.0.0 â†’ v1.1.0  ï¼ˆæ–°å¢åŠŸèƒ½ï¼Œå‘åå…¼å®¹ï¼‰
v1.0.0 â†’ v2.0.0  ï¼ˆç ´åæ€§å˜æ›´ï¼Œä¸å…¼å®¹ï¼‰

æ¥å£å®šä¹‰ç¤ºä¾‹ï¼š
service UserService {
  // v1ç‰ˆæœ¬æ¥å£
  rpc GetUser(GetUserRequest) returns (GetUserResponse);
  
  // v2ç‰ˆæœ¬æ¥å£ï¼ˆæ–°å¢å­—æ®µï¼‰
  rpc GetUserV2(GetUserV2Request) returns (GetUserV2Response);
}
```

**ğŸ¯ å‘å‰å…¼å®¹åŸåˆ™**ï¼š
- **åªèƒ½æ–°å¢å­—æ®µ**ï¼Œä¸èƒ½åˆ é™¤æˆ–ä¿®æ”¹ç°æœ‰å­—æ®µ
- **æ–°å¢å­—æ®µå¿…é¡»æ˜¯å¯é€‰çš„**ï¼Œè¦æœ‰é»˜è®¤å€¼
- **æšä¸¾å€¼åªèƒ½æ–°å¢**ï¼Œä¸èƒ½ä¿®æ”¹å·²æœ‰å€¼çš„å«ä¹‰

```protobuf
// å…¼å®¹æ€§ç¤ºä¾‹
message UserInfo {
  int64 user_id = 1;
  string username = 2;
  string email = 3;
  // æ–°å¢å­—æ®µï¼ˆå‘åå…¼å®¹ï¼‰
  string phone = 4;        // å¯é€‰å­—æ®µ
  int32 age = 5;          // å¯é€‰å­—æ®µï¼Œé»˜è®¤0
}
```

### 4.2 å‚æ•°è®¾è®¡è§„èŒƒ



**ğŸ“ å‘½åè§„èŒƒ**ï¼š
- **ä½¿ç”¨ä¸‹åˆ’çº¿å‘½å**ï¼š`user_id` è€Œä¸æ˜¯ `userId`
- **è§åçŸ¥æ„**ï¼š`create_time` è€Œä¸æ˜¯ `ct`
- **ç»Ÿä¸€å‰ç¼€**ï¼šåŒä¸€ç±»å‚æ•°ç”¨ç»Ÿä¸€å‰ç¼€ï¼Œå¦‚ `is_active`, `is_deleted`

**ğŸ¯ ç±»å‹é€‰æ‹©åŸåˆ™**ï¼š

```protobuf
// æ¨èçš„ç±»å‹ä½¿ç”¨ï¼š

message OrderRequest {
  // IDç»Ÿä¸€ç”¨int64ï¼Œé¿å…int32æº¢å‡º
  int64 order_id = 1;
  int64 user_id = 2;
  
  // é‡‘é¢ç”¨int64å­˜å‚¨åˆ†ï¼Œé¿å…æµ®ç‚¹ç²¾åº¦é—®é¢˜
  int64 amount_cents = 3;  // å•ä½ï¼šåˆ†
  
  // æ—¶é—´ç»Ÿä¸€ç”¨int64å­˜å‚¨æ—¶é—´æˆ³
  int64 create_time = 4;   // Unixæ—¶é—´æˆ³
  
  // æšä¸¾æ˜ç¡®è¡¨ç¤ºçŠ¶æ€
  OrderStatus status = 5;
  
  // å¯é€‰å­—æ®µæ˜ç¡®æ ‡è¯†
  string remark = 6;       // å¯é€‰å¤‡æ³¨
}

enum OrderStatus {
  ORDER_STATUS_UNKNOWN = 0;    // 0ä½œä¸ºé»˜è®¤å€¼
  ORDER_STATUS_PENDING = 1;
  ORDER_STATUS_PAID = 2;
  ORDER_STATUS_CANCELLED = 3;
}
```

### 4.3 é”™è¯¯ç è§„èŒƒ



**ğŸš¨ ç»Ÿä¸€é”™è¯¯å¤„ç†**ï¼š
å°±åƒåŒ»é™¢çš„è¯Šæ–­ä»£ç ä¸€æ ·ï¼Œæ¯ç§é”™è¯¯éƒ½è¦æœ‰æ˜ç¡®çš„ç¼–å·å’Œå«ä¹‰ï¼Œè¿™æ ·æ’æŸ¥é—®é¢˜æ—¶ä¸€ç›®äº†ç„¶ã€‚

```protobuf
// é”™è¯¯ç å®šä¹‰
enum ErrorCode {
  SUCCESS = 0;                    // æˆåŠŸ
  
  // é€šç”¨é”™è¯¯ 1000-1999
  INVALID_PARAMETER = 1001;       // å‚æ•°é”™è¯¯
  UNAUTHORIZED = 1002;            // æœªæˆæƒ
  FORBIDDEN = 1003;               // æ— æƒé™
  NOT_FOUND = 1004;               // èµ„æºä¸å­˜åœ¨
  
  // ç”¨æˆ·ç›¸å…³é”™è¯¯ 2000-2999
  USER_NOT_EXISTS = 2001;         // ç”¨æˆ·ä¸å­˜åœ¨
  USER_PASSWORD_ERROR = 2002;     // å¯†ç é”™è¯¯
  USER_ACCOUNT_LOCKED = 2003;     // è´¦æˆ·è¢«é”å®š
  
  // è®¢å•ç›¸å…³é”™è¯¯ 3000-3999
  ORDER_NOT_EXISTS = 3001;        // è®¢å•ä¸å­˜åœ¨
  ORDER_STATUS_ERROR = 3002;      // è®¢å•çŠ¶æ€é”™è¯¯
  INSUFFICIENT_BALANCE = 3003;    // ä½™é¢ä¸è¶³
}

message CommonResponse {
  ErrorCode code = 1;
  string message = 2;
  string request_id = 3;          // è¯·æ±‚IDï¼Œä¾¿äºè¿½è¸ª
}
```

**ğŸ’¡ é”™è¯¯å¤„ç†æœ€ä½³å®è·µ**ï¼š
- **é”™è¯¯ç è¦æœ‰æ˜ç¡®å«ä¹‰**ï¼šçœ‹åˆ°ç å°±çŸ¥é“æ˜¯ä»€ä¹ˆé—®é¢˜
- **é”™è¯¯ä¿¡æ¯è¦å‹å¥½**ï¼šç”¨æˆ·èƒ½çœ‹æ‡‚çš„æç¤º
- **è®°å½•è¯¦ç»†æ—¥å¿—**ï¼šæ–¹ä¾¿å¼€å‘äººå‘˜æ’æŸ¥é—®é¢˜

---

## 5. ğŸ•¸ï¸ æœåŠ¡ä¾èµ–ç®¡ç†



### 5.1 ä¾èµ–å›¾è°±



**ğŸ—ºï¸ ä»€ä¹ˆæ˜¯æœåŠ¡ä¾èµ–å›¾è°±**ï¼š
å°±åƒåŸå¸‚çš„äº¤é€šåœ°å›¾ä¸€æ ·ï¼ŒæœåŠ¡ä¾èµ–å›¾è°±å±•ç¤ºäº†å„ä¸ªæœåŠ¡ä¹‹é—´çš„è°ƒç”¨å…³ç³»ï¼Œå¸®åŠ©æˆ‘ä»¬ç†è§£æ•´ä¸ªç³»ç»Ÿçš„ç»“æ„ã€‚

```
æœåŠ¡ä¾èµ–å…³ç³»ç¤ºä¾‹ï¼š

                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚   ç½‘å…³æœåŠ¡   â”‚  â† ç»Ÿä¸€å…¥å£
                  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚               â”‚               â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ ç”¨æˆ·æœåŠ¡ â”‚    â”‚ è®¢å•æœåŠ¡ â”‚    â”‚ å•†å“æœåŠ¡ â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚             â”‚             â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ æ”¯ä»˜æœåŠ¡ â”‚   â”‚ åº“å­˜æœåŠ¡ â”‚   â”‚ ä¼˜æƒ æœåŠ¡ â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ä¾èµ–å±‚çº§ï¼š
ç¬¬1å±‚ï¼šç½‘å…³æœåŠ¡ï¼ˆå…¥å£å±‚ï¼‰
ç¬¬2å±‚ï¼šç”¨æˆ·ã€è®¢å•ã€å•†å“æœåŠ¡ï¼ˆä¸šåŠ¡å±‚ï¼‰
ç¬¬3å±‚ï¼šæ”¯ä»˜ã€åº“å­˜ã€ä¼˜æƒ æœåŠ¡ï¼ˆåŸºç¡€æœåŠ¡å±‚ï¼‰
```

### 5.2 å¾ªç¯ä¾èµ–æ£€æµ‹



**âš ï¸ å¾ªç¯ä¾èµ–çš„å±å®³**ï¼š
æƒ³è±¡ä¸¤ä¸ªäººäº’ç›¸ç­‰å¯¹æ–¹å…ˆè¯´è¯ï¼Œç»“æœè°éƒ½ä¸è¯´è¯ã€‚åœ¨å¾®æœåŠ¡ä¸­ï¼Œå¾ªç¯ä¾èµ–ä¼šå¯¼è‡´å¯åŠ¨å›°éš¾ã€è°ƒç”¨æ­»é”ç­‰é—®é¢˜ã€‚

```
å¾ªç¯ä¾èµ–ç¤ºä¾‹ï¼š

æœ‰é—®é¢˜çš„è®¾è®¡ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     è°ƒç”¨     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç”¨æˆ·æœåŠ¡ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ â”‚ è®¢å•æœåŠ¡ â”‚
â”‚         â”‚ â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     è°ƒç”¨     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†‘                         â”‚
    â”‚        è°ƒç”¨              â†“
    â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â””â”€â”€â”€â”€ â”‚ ç§¯åˆ†æœåŠ¡ â”‚ â†â”€â”€ â”‚ æ”¯ä»˜æœåŠ¡ â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

è¿™æ ·å½¢æˆäº†å¾ªç¯ï¼šç”¨æˆ·â†’è®¢å•â†’æ”¯ä»˜â†’ç§¯åˆ†â†’ç”¨æˆ·
```

**âœ… è§£å†³å¾ªç¯ä¾èµ–**ï¼š

```
è§£å†³æ–¹æ¡ˆ1ï¼šæŠ½å–å…¬å…±æœåŠ¡
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç”¨æˆ·æœåŠ¡ â”‚              â”‚ è®¢å•æœåŠ¡ â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
     â”‚                        â”‚
     â†“                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        ç”¨æˆ·ä¿¡æ¯æœåŠ¡              â”‚  â† æŠ½å–å…¬å…±åŠŸèƒ½
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

è§£å†³æ–¹æ¡ˆ2ï¼šä½¿ç”¨äº‹ä»¶é©±åŠ¨
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    å‘å¸ƒäº‹ä»¶    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç”¨æˆ·æœåŠ¡ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’  â”‚ æ¶ˆæ¯é˜Ÿåˆ—     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚ è®¢é˜…äº‹ä»¶
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â†“
â”‚ è®¢å•æœåŠ¡ â”‚ â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.3 ä¾èµ–æ²»ç†



**ğŸ¯ ä¾èµ–æ²»ç†åŸåˆ™**ï¼š
- **æœ€å°åŒ–ä¾èµ–**ï¼šåªä¾èµ–çœŸæ­£éœ€è¦çš„æœåŠ¡
- **å•å‘ä¾èµ–**ï¼šé¿å…åŒå‘ä¾èµ–å’Œå¾ªç¯ä¾èµ–
- **åˆ†å±‚æ¸…æ™°**ï¼šä¸Šå±‚æœåŠ¡å¯ä»¥è°ƒç”¨ä¸‹å±‚ï¼Œä¸‹å±‚ä¸èƒ½è°ƒç”¨ä¸Šå±‚
- **å¼‚æ­¥è§£è€¦**ï¼šéå…³é”®è·¯å¾„ä½¿ç”¨å¼‚æ­¥è°ƒç”¨

**ğŸ› ï¸ ä¾èµ–ç®¡ç†å·¥å…·**ï¼š

```yaml
# æœåŠ¡ä¾èµ–é…ç½®ç¤ºä¾‹

service:
  name: order-service
  dependencies:
#    # å¼ºä¾èµ–ï¼šå¿…é¡»å¯ç”¨çš„æœåŠ¡
    required:
      - user-service
      - product-service
#    # å¼±ä¾èµ–ï¼šå¯é™çº§çš„æœåŠ¡  
    optional:
      - coupon-service
      - notification-service
  
#  # ç†”æ–­é…ç½®
  circuit_breaker:
    failure_threshold: 50%
    timeout: 5s
    fallback_enabled: true
```

---

## 6. ğŸ’³ è·¨æœåŠ¡äº‹åŠ¡å¤„ç†



### 6.1 åˆ†å¸ƒå¼äº‹åŠ¡çš„æŒ‘æˆ˜



**ğŸ¤” ä¸ºä»€ä¹ˆéœ€è¦åˆ†å¸ƒå¼äº‹åŠ¡**ï¼š
æƒ³è±¡ä½ åœ¨ç½‘ä¸Šä¹°ä¸œè¥¿ï¼Œéœ€è¦ï¼šæ‰£åº“å­˜â†’ç”Ÿæˆè®¢å•â†’æ‰£æ¬¾â†’å‘è´§ã€‚è¿™äº›æ“ä½œåˆ†å¸ƒåœ¨ä¸åŒçš„æœåŠ¡ä¸­ï¼Œå¦‚æœå…¶ä¸­ä¸€æ­¥å¤±è´¥äº†ï¼Œå…¶ä»–æ­¥éª¤ä¹Ÿè¦æ’¤å›ï¼Œè¿™å°±æ˜¯åˆ†å¸ƒå¼äº‹åŠ¡è¦è§£å†³çš„é—®é¢˜ã€‚

**âŒ ä¼ ç»Ÿäº‹åŠ¡çš„å±€é™**ï¼š
```
å•ä½“åº”ç”¨çš„äº‹åŠ¡ï¼ˆç®€å•ï¼‰ï¼š
BEGIN TRANSACTION
  UPDATE inventory SET stock = stock - 1;
  INSERT INTO orders VALUES (...);
  UPDATE accounts SET balance = balance - 100;
COMMIT;

å¾®æœåŠ¡çš„æŒ‘æˆ˜ï¼ˆå¤æ‚ï¼‰ï¼š
åº“å­˜æœåŠ¡.å‡åº“å­˜()  âœ…
è®¢å•æœåŠ¡.åˆ›å»ºè®¢å•() âœ…  
æ”¯ä»˜æœåŠ¡.æ‰£æ¬¾()     âŒ å¤±è´¥ï¼

é—®é¢˜ï¼šå‰ä¸¤æ­¥å·²ç»æˆåŠŸï¼Œæ€ä¹ˆå›æ»šï¼Ÿ
```

### 6.2 Sagaæ¨¡å¼



**ğŸ”„ Sagaæ¨¡å¼åŸç†**ï¼š
æŠŠä¸€ä¸ªå¤§äº‹åŠ¡æ‹†åˆ†æˆå¤šä¸ªå°äº‹åŠ¡ï¼Œæ¯ä¸ªå°äº‹åŠ¡éƒ½æœ‰å¯¹åº”çš„è¡¥å¿æ“ä½œã€‚å¦‚æœä¸­é€”å¤±è´¥ï¼Œå°±æ‰§è¡Œè¡¥å¿æ“ä½œæ¥æ’¤é”€ä¹‹å‰çš„æ“ä½œã€‚

**ğŸ’¡ é€šä¿—ç†è§£**ï¼š
å°±åƒå¤šç±³è¯ºéª¨ç‰Œï¼Œå¦‚æœæ¨å€’è¿‡ç¨‹ä¸­å‡ºç°é—®é¢˜ï¼Œæˆ‘ä»¬è¦èƒ½æŠŠå·²ç»å€’ä¸‹çš„éª¨ç‰Œé‡æ–°ç«‹èµ·æ¥ã€‚

```
Sagaæ¨¡å¼ç¤ºä¾‹ï¼š

æ­£å‘æ“ä½œæµç¨‹ï¼š
Step1: å‡åº“å­˜    â†’ æˆåŠŸ âœ…
Step2: åˆ›å»ºè®¢å•  â†’ æˆåŠŸ âœ…
Step3: æ‰£æ¬¾     â†’ å¤±è´¥ âŒ

è¡¥å¿æ“ä½œæµç¨‹ï¼š
Step3: æ‰£æ¬¾     â†’ ä¸éœ€è¦è¡¥å¿ï¼ˆæ²¡æœ‰æ‰§è¡Œï¼‰
Step2: å–æ¶ˆè®¢å•  â†’ æ‰§è¡Œè¡¥å¿ âœ…
Step1: æ¢å¤åº“å­˜  â†’ æ‰§è¡Œè¡¥å¿ âœ…
```

**ğŸ”§ Sagaå®ç°æ–¹å¼**ï¼š

```java
// ç¼–æ’å¼Sagaï¼ˆæ¨èï¼‰
public class OrderSagaOrchestrator {
    
    public void processOrder(OrderRequest request) {
        SagaTransaction saga = new SagaTransaction();
        
        try {
            // Step 1: å‡åº“å­˜
            saga.addStep(
                () -> inventoryService.decreaseStock(request.getProductId(), request.getQuantity()),
                () -> inventoryService.increaseStock(request.getProductId(), request.getQuantity())
            );
            
            // Step 2: åˆ›å»ºè®¢å•  
            Long orderId = saga.addStep(
                () -> orderService.createOrder(request),
                (orderId) -> orderService.cancelOrder(orderId)
            );
            
            // Step 3: æ‰£æ¬¾
            saga.addStep(
                () -> paymentService.charge(request.getUserId(), request.getAmount()),
                () -> paymentService.refund(request.getUserId(), request.getAmount())
            );
            
            saga.execute();
            
        } catch (Exception e) {
            saga.compensate();  // æ‰§è¡Œè¡¥å¿æ“ä½œ
            throw e;
        }
    }
}
```

### 6.3 TCCæ¨¡å¼



**ğŸ¯ TCCæ¨¡å¼åŸç†**ï¼š
- **Try**ï¼šé¢„ç•™èµ„æºï¼Œä½†ä¸æäº¤
- **Confirm**ï¼šç¡®è®¤æäº¤ï¼Œä½¿é¢„ç•™ç”Ÿæ•ˆ  
- **Cancel**ï¼šå–æ¶ˆæ“ä½œï¼Œé‡Šæ”¾é¢„ç•™èµ„æº

**ğŸ’¡ é€šä¿—ç†è§£**ï¼š
å°±åƒé¢„å®šé¤å…ä½ç½®ï¼Œå…ˆé¢„å®šï¼ˆTryï¼‰ï¼Œç¡®å®šå»å°±ç¡®è®¤ï¼ˆConfirmï¼‰ï¼Œä¸å»äº†å°±å–æ¶ˆï¼ˆCancelï¼‰ã€‚

```
TCCæ¨¡å¼ç¤ºä¾‹ï¼š

Tryé˜¶æ®µï¼ˆé¢„ç•™èµ„æºï¼‰ï¼š
â”œâ”€â”€ åº“å­˜æœåŠ¡ï¼šé¢„æ‰£åº“å­˜ï¼ˆåº“å­˜-1ï¼Œé¢„æ‰£+1ï¼‰
â”œâ”€â”€ è®¢å•æœåŠ¡ï¼šåˆ›å»ºé¢„è®¢å•ï¼ˆçŠ¶æ€=é¢„åˆ›å»ºï¼‰
â””â”€â”€ æ”¯ä»˜æœåŠ¡ï¼šå†»ç»“é‡‘é¢ï¼ˆä½™é¢-100ï¼Œå†»ç»“+100ï¼‰

æ‰€æœ‰TryæˆåŠŸ â†’ æ‰§è¡ŒConfirmï¼š
â”œâ”€â”€ åº“å­˜æœåŠ¡ï¼šç¡®è®¤æ‰£å‡ï¼ˆé¢„æ‰£-1ï¼‰
â”œâ”€â”€ è®¢å•æœåŠ¡ï¼šç¡®è®¤è®¢å•ï¼ˆçŠ¶æ€=å·²åˆ›å»ºï¼‰  
â””â”€â”€ æ”¯ä»˜æœåŠ¡ï¼šç¡®è®¤æ‰£æ¬¾ï¼ˆå†»ç»“-100ï¼‰

ä»»æ„Tryå¤±è´¥ â†’ æ‰§è¡ŒCancelï¼š
â”œâ”€â”€ åº“å­˜æœåŠ¡ï¼šå–æ¶ˆé¢„æ‰£ï¼ˆåº“å­˜+1ï¼Œé¢„æ‰£-1ï¼‰
â”œâ”€â”€ è®¢å•æœåŠ¡ï¼šåˆ é™¤é¢„è®¢å•
â””â”€â”€ æ”¯ä»˜æœåŠ¡ï¼šè§£å†»é‡‘é¢ï¼ˆä½™é¢+100ï¼Œå†»ç»“-100ï¼‰
```

**ğŸ”§ TCCå®ç°ç¤ºä¾‹**ï¼š

```java
// TCCæ¥å£å®šä¹‰
public interface TccService {
    // Tryï¼šé¢„ç•™èµ„æº
    boolean tryReserve(String resourceId, int amount);
    
    // Confirmï¼šç¡®è®¤æ“ä½œ
    boolean confirm(String transactionId);
    
    // Cancelï¼šå–æ¶ˆæ“ä½œ
    boolean cancel(String transactionId);
}

// åº“å­˜æœåŠ¡TCCå®ç°
@Service
public class InventoryTccService implements TccService {
    
    public boolean tryReserve(String productId, int quantity) {
        // æ£€æŸ¥åº“å­˜æ˜¯å¦è¶³å¤Ÿ
        if (getAvailableStock(productId) >= quantity) {
            // é¢„æ‰£åº“å­˜
            reserveStock(productId, quantity);
            return true;
        }
        return false;
    }
    
    public boolean confirm(String transactionId) {
        // ç¡®è®¤æ‰£å‡é¢„ç•™çš„åº“å­˜
        confirmReservedStock(transactionId);
        return true;
    }
    
    public boolean cancel(String transactionId) {
        // é‡Šæ”¾é¢„ç•™çš„åº“å­˜
        releaseReservedStock(transactionId);
        return true;
    }
}
```

### 6.4 æœ¬åœ°æ¶ˆæ¯è¡¨



**ğŸ“ æœ¬åœ°æ¶ˆæ¯è¡¨åŸç†**ï¼š
åœ¨æœ¬åœ°æ•°æ®åº“ä¸­è®°å½•éœ€è¦å‘é€çš„æ¶ˆæ¯ï¼Œç„¶åå®šæœŸæ‰«ææœªå‘é€çš„æ¶ˆæ¯è¿›è¡Œé‡è¯•ï¼Œä¿è¯æ¶ˆæ¯æœ€ç»ˆä¼šè¢«å‘é€å‡ºå»ã€‚

**ğŸ’¡ é€šä¿—ç†è§£**ï¼š
å°±åƒå†™åœ¨ä¾¿åˆ©è´´ä¸Šçš„å¾…åŠäº‹é¡¹ï¼Œå³ä½¿åœç”µäº†ï¼Œé‡å¯åè¿˜èƒ½çœ‹åˆ°å“ªäº›äº‹æƒ…æ²¡åšå®Œã€‚

```
æœ¬åœ°æ¶ˆæ¯è¡¨å·¥ä½œæµç¨‹ï¼š

1. ä¸šåŠ¡æ“ä½œ + å†™æ¶ˆæ¯è¡¨ï¼ˆæœ¬åœ°äº‹åŠ¡ï¼‰ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ BEGIN TRANSACTION               â”‚
â”‚   UPDATE orders SET ...         â”‚  æ›´æ–°ä¸šåŠ¡æ•°æ®
â”‚   INSERT INTO msg_table ...     â”‚  è®°å½•å¾…å‘æ¶ˆæ¯  
â”‚ COMMIT                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

2. åå°ä»»åŠ¡æ‰«ææ¶ˆæ¯è¡¨ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å®šæ—¶ä»»åŠ¡         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ æ‰«ææ¶ˆæ¯è¡¨   â”‚ â”‚ â†’ å‘ç°æœªå‘é€æ¶ˆæ¯
â”‚ â”‚ å‘é€æ¶ˆæ¯     â”‚ â”‚ â†’ è°ƒç”¨å…¶ä»–æœåŠ¡API  
â”‚ â”‚ æ ‡è®°å·²å‘é€   â”‚ â”‚ â†’ æ›´æ–°æ¶ˆæ¯çŠ¶æ€
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ğŸ”§ å®ç°ç¤ºä¾‹**ï¼š

```java
// æ¶ˆæ¯è¡¨ç»“æ„
CREATE TABLE local_message (
    id BIGINT PRIMARY KEY,
    content TEXT NOT NULL,           -- æ¶ˆæ¯å†…å®¹
    destination VARCHAR(100),        -- ç›®æ ‡æœåŠ¡
    status INT DEFAULT 0,           -- 0:æœªå‘é€ 1:å·²å‘é€ 2:å¤±è´¥
    retry_count INT DEFAULT 0,      -- é‡è¯•æ¬¡æ•°
    create_time TIMESTAMP,
    update_time TIMESTAMP
);

// ä¸šåŠ¡æœåŠ¡å®ç°
@Service
@Transactional
public class OrderService {
    
    public void createOrder(CreateOrderRequest request) {
        // 1. åˆ›å»ºè®¢å•ï¼ˆä¸šåŠ¡æ“ä½œï¼‰
        Order order = new Order();
        orderRepository.save(order);
        
        // 2. è®°å½•æ¶ˆæ¯ï¼ˆåŒä¸€ä¸ªäº‹åŠ¡ï¼‰
        LocalMessage message = new LocalMessage();
        message.setContent(buildOrderCreatedMessage(order));
        message.setDestination("inventory-service");
        messageRepository.save(message);
        
        // äº‹åŠ¡æäº¤åï¼Œè®¢å•å’Œæ¶ˆæ¯éƒ½ä¿å­˜æˆåŠŸ
    }
}

// æ¶ˆæ¯å‘é€ä»»åŠ¡
@Component  
public class MessageSendingTask {
    
    @Scheduled(fixedDelay = 5000)  // æ¯5ç§’æ‰§è¡Œä¸€æ¬¡
    public void sendPendingMessages() {
        List<LocalMessage> messages = messageRepository.findByStatus(0);
        
        for (LocalMessage message : messages) {
            try {
                // å‘é€æ¶ˆæ¯åˆ°ç›®æ ‡æœåŠ¡
                sendToDestination(message);
                
                // æ ‡è®°ä¸ºå·²å‘é€
                message.setStatus(1);
                messageRepository.save(message);
                
            } catch (Exception e) {
                // å¢åŠ é‡è¯•æ¬¡æ•°
                message.setRetryCount(message.getRetryCount() + 1);
                if (message.getRetryCount() >= 3) {
                    message.setStatus(2);  // æ ‡è®°ä¸ºå¤±è´¥
                }
                messageRepository.save(message);
            }
        }
    }
}
```

---

## 7. ğŸ”„ æ•°æ®ä¸€è‡´æ€§ä¿è¯æ–¹æ¡ˆ



### 7.1 æœ€ç»ˆä¸€è‡´æ€§çš„ç†è§£



**ğŸ’¡ ä»€ä¹ˆæ˜¯æœ€ç»ˆä¸€è‡´æ€§**ï¼š
å°±åƒé“¶è¡Œè½¬è´¦ï¼Œé’±ä»ä½ çš„è´¦æˆ·æ‰£æ‰åï¼Œå¯èƒ½ä¸ä¼šç«‹å³åˆ°è¾¾å¯¹æ–¹è´¦æˆ·ï¼Œä½†æœ€ç»ˆä¸€å®šä¼šåˆ°è¾¾ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œç³»ç»Ÿæš‚æ—¶æ˜¯"ä¸ä¸€è‡´"çš„ï¼Œä½†æœ€ç»ˆä¼šè¾¾åˆ°ä¸€è‡´çŠ¶æ€ã€‚

**ğŸ• ä¸€è‡´æ€§çº§åˆ«å¯¹æ¯”**ï¼š

```
å¼ºä¸€è‡´æ€§ï¼š
ç”¨æˆ·Aè½¬è´¦ç»™ç”¨æˆ·B 100å…ƒ
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è´¦æˆ·A   â”‚                    â”‚ è´¦æˆ·B   â”‚  
â”‚ 1000â†’900â”‚ åŒæ—¶å‘ç”Ÿ             â”‚ 500â†’600 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
ä¼˜ç‚¹ï¼šæ•°æ®ç»å¯¹å‡†ç¡®
ç¼ºç‚¹ï¼šæ€§èƒ½å·®ï¼Œå¯ç”¨æ€§ä½

æœ€ç»ˆä¸€è‡´æ€§ï¼š
ç”¨æˆ·Aè½¬è´¦ç»™ç”¨æˆ·B 100å…ƒ
æ—¶åˆ»1: A=900, B=500 ï¼ˆAå·²æ‰£æ¬¾ï¼ŒBæœªåˆ°è´¦ï¼‰
æ—¶åˆ»2: A=900, B=500 ï¼ˆå¤„ç†ä¸­...ï¼‰
æ—¶åˆ»3: A=900, B=600 ï¼ˆBåˆ°è´¦å®Œæˆï¼‰
ä¼˜ç‚¹ï¼šæ€§èƒ½å¥½ï¼Œå¯ç”¨æ€§é«˜  
ç¼ºç‚¹ï¼šçŸ­æ—¶é—´å†…æ•°æ®å¯èƒ½ä¸ä¸€è‡´
```

### 7.2 æ•°æ®åŒæ­¥ç­–ç•¥



**ğŸ“Š åŒæ­¥æ–¹å¼å¯¹æ¯”**ï¼š

| æ–¹å¼ | **å®æ—¶æ€§** | **ä¸€è‡´æ€§** | **æ€§èƒ½** | **å¤æ‚åº¦** | **é€‚ç”¨åœºæ™¯** |
|-----|-----------|----------|--------|----------|-------------|
| **åŒæ­¥è°ƒç”¨** | `é«˜` | `å¼º` | `ä½` | `ä½` | `æ ¸å¿ƒä¸šåŠ¡æµç¨‹` |
| **å¼‚æ­¥æ¶ˆæ¯** | `ä¸­` | `æœ€ç»ˆ` | `é«˜` | `ä¸­` | `æ•°æ®åŒæ­¥é€šçŸ¥` |
| **å®šæ—¶åŒæ­¥** | `ä½` | `æœ€ç»ˆ` | `é«˜` | `ä½` | `æŠ¥è¡¨ã€ç»Ÿè®¡æ•°æ®` |
| **CDCå˜æ›´æ•è·** | `é«˜` | `æœ€ç»ˆ` | `é«˜` | `é«˜` | `å®æ—¶æ•°æ®ä»“åº“` |

### 7.3 äº‹ä»¶é©±åŠ¨æ¶æ„



**ğŸ¯ äº‹ä»¶é©±åŠ¨çš„æ ¸å¿ƒæ€æƒ³**ï¼š
æœåŠ¡ä¹‹é—´ä¸ç›´æ¥è°ƒç”¨ï¼Œè€Œæ˜¯é€šè¿‡å‘å¸ƒå’Œè®¢é˜…äº‹ä»¶æ¥é€šä¿¡ã€‚å°±åƒè®¢é˜…æŠ¥çº¸ä¸€æ ·ï¼ŒæŠ¥ç¤¾å‘å¸ƒæ–°é—»ï¼ˆäº‹ä»¶ï¼‰ï¼Œè®¢é˜…è€…è‡ªåŠ¨æ”¶åˆ°æ›´æ–°ã€‚

```
äº‹ä»¶é©±åŠ¨æ¶æ„ç¤ºä¾‹ï¼š

è®¢å•åˆ›å»ºæµç¨‹ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   å‘å¸ƒäº‹ä»¶    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è®¢å•æœåŠ¡ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ â”‚  æ¶ˆæ¯é˜Ÿåˆ—    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
         è®¢é˜…äº‹ä»¶               â”‚ è®¢é˜…äº‹ä»¶         è®¢é˜…äº‹ä»¶
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â†“                        â†“                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ åº“å­˜æœåŠ¡ â”‚              â”‚ ç§¯åˆ†æœåŠ¡ â”‚              â”‚ é€šçŸ¥æœåŠ¡ â”‚
â”‚å‡å°‘åº“å­˜ â”‚              â”‚å¢åŠ ç§¯åˆ† â”‚              â”‚å‘é€é‚®ä»¶ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ä¼˜ç‚¹ï¼š
- æœåŠ¡è§£è€¦ï¼šè®¢å•æœåŠ¡ä¸éœ€è¦çŸ¥é“æœ‰å“ªäº›è®¢é˜…è€…
- å®¹é”™æ€§å¥½ï¼šæŸä¸ªæœåŠ¡æŒ‚äº†ä¸å½±å“å…¶ä»–æœåŠ¡
- æ‰©å±•æ€§å¼ºï¼šæ–°å¢æœåŠ¡åªéœ€è¦è®¢é˜…äº‹ä»¶å³å¯
```

**ğŸ”§ äº‹ä»¶è®¾è®¡è§„èŒƒ**ï¼š

```json
// äº‹ä»¶æ¶ˆæ¯æ ¼å¼
{
  "eventId": "uuid-1234-5678",           // äº‹ä»¶å”¯ä¸€æ ‡è¯†
  "eventType": "OrderCreated",           // äº‹ä»¶ç±»å‹
  "eventTime": "2025-01-18T10:30:00Z",   // äº‹ä»¶æ—¶é—´
  "source": "order-service",             // äº‹ä»¶æ¥æº
  "version": "1.0",                      // äº‹ä»¶ç‰ˆæœ¬
  "data": {                              // äº‹ä»¶æ•°æ®
    "orderId": 12345,
    "userId": 67890,
    "amount": 9999,
    "products": [
      {"productId": 1, "quantity": 2, "price": 4999}
    ]
  }
}
```

---

## 8. ğŸ¯ æ¶æ„è®¾è®¡æœ€ä½³å®è·µ



### 8.1 æœåŠ¡è®¾è®¡åŸåˆ™



**ğŸ¯ æ ¸å¿ƒè®¾è®¡åŸåˆ™**ï¼š

```
1. å•ä¸€èŒè´£åŸåˆ™ï¼š
   âœ… ä¸€ä¸ªæœåŠ¡åªè´Ÿè´£ä¸€ä¸ªä¸šåŠ¡é¢†åŸŸ
   âŒ é¿å…å¤§è€Œå…¨çš„"ä¸‡èƒ½æœåŠ¡"

2. é«˜å†…èšä½è€¦åˆï¼š
   âœ… ç›¸å…³åŠŸèƒ½æ”¾åœ¨åŒä¸€ä¸ªæœåŠ¡å†…
   âœ… æœåŠ¡é—´ä¾èµ–å…³ç³»ç®€å•æ¸…æ™°

3. æ•°æ®ç‹¬ç«‹æ€§ï¼š
   âœ… æ¯ä¸ªæœåŠ¡æœ‰ç‹¬ç«‹çš„æ•°æ®å­˜å‚¨
   âŒ é¿å…å¤šä¸ªæœåŠ¡å…±äº«åŒä¸€å¼ è¡¨

4. æ— çŠ¶æ€è®¾è®¡ï¼š
   âœ… æœåŠ¡å®ä¾‹ä¹‹é—´å¯ä»¥äº’ç›¸æ›¿æ¢
   âœ… çŠ¶æ€ä¿¡æ¯å­˜å‚¨åœ¨å¤–éƒ¨ç³»ç»Ÿä¸­
```

### 8.2 æ€§èƒ½ä¼˜åŒ–ç­–ç•¥



**âš¡ æ€§èƒ½ä¼˜åŒ–è¦ç‚¹**ï¼š

```
1. è¿æ¥æ± ç®¡ç†ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    è¿æ¥æ±     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è®¢å•æœåŠ¡    â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ â”‚  ç”¨æˆ·æœåŠ¡    â”‚
â”‚ (100å®ä¾‹)   â”‚   (10è¿æ¥)   â”‚  (50å®ä¾‹)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

é…ç½®å»ºè®®ï¼š
- æ ¸å¿ƒé“¾è·¯ï¼šè¿æ¥æ± å¤§ä¸€äº›
- éå…³é”®é“¾è·¯ï¼šè¿æ¥æ± å°ä¸€äº›
- è®¾ç½®åˆç†çš„è¶…æ—¶æ—¶é—´

2. æ‰¹é‡å¤„ç†ï¼š
å•æ¬¡è°ƒç”¨ï¼šgetUserInfo(userId) Ã— 100æ¬¡
æ‰¹é‡è°ƒç”¨ï¼šgetBatchUserInfo([userId1, userId2, ...])

å‡å°‘ç½‘ç»œå¼€é”€ï¼Œæå‡æ•´ä½“æ€§èƒ½

3. å¼‚æ­¥å¤„ç†ï¼š
åŒæ­¥å¤„ç†ï¼šç­‰å¾…æ‰€æœ‰æ“ä½œå®Œæˆæ‰è¿”å›
å¼‚æ­¥å¤„ç†ï¼šé‡è¦æ“ä½œåŒæ­¥ï¼Œæ¬¡è¦æ“ä½œå¼‚æ­¥
```

### 8.3 ç›‘æ§ä¸è¿ç»´



**ğŸ“Š ç›‘æ§ä½“ç³»**ï¼š

```
åˆ†å±‚ç›‘æ§ä½“ç³»ï¼š

ä¸šåŠ¡ç›‘æ§ï¼š
â”œâ”€â”€ è®¢å•æˆåŠŸç‡
â”œâ”€â”€ æ”¯ä»˜æˆåŠŸç‡
â”œâ”€â”€ ç”¨æˆ·æ³¨å†Œè½¬åŒ–ç‡
â””â”€â”€ å…³é”®ä¸šåŠ¡æŒ‡æ ‡

åº”ç”¨ç›‘æ§ï¼š  
â”œâ”€â”€ æ¥å£å“åº”æ—¶é—´
â”œâ”€â”€ æ¥å£æˆåŠŸç‡
â”œâ”€â”€ æœåŠ¡ä¾èµ–å…³ç³»
â””â”€â”€ å¼‚å¸¸é”™è¯¯ç»Ÿè®¡

åŸºç¡€è®¾æ–½ç›‘æ§ï¼š
â”œâ”€â”€ CPUã€å†…å­˜ä½¿ç”¨ç‡
â”œâ”€â”€ ç½‘ç»œå¸¦å®½
â”œâ”€â”€ ç£ç›˜ç©ºé—´
â””â”€â”€ æ•°æ®åº“è¿æ¥æ•°
```

**ğŸš¨ å‘Šè­¦ç­–ç•¥**ï¼š

```yaml
# å‘Šè­¦é…ç½®ç¤ºä¾‹

alerts:
#  # é«˜ä¼˜å…ˆçº§å‘Šè­¦ï¼ˆç«‹å³å¤„ç†ï¼‰
  critical:
    - metric: "api_error_rate"
      threshold: "> 1%"
      duration: "1m"
    - metric: "api_response_time_p99"  
      threshold: "> 3s"
      duration: "2m"
      
#  # ä¸­ä¼˜å…ˆçº§å‘Šè­¦ï¼ˆ30åˆ†é’Ÿå†…å¤„ç†ï¼‰
  warning:
    - metric: "cpu_usage"
      threshold: "> 80%"
      duration: "5m"
    - metric: "memory_usage"
      threshold: "> 85%"
      duration: "5m"
```

### 8.4 æ¶æ„æ¼”è¿›ç­–ç•¥



**ğŸ”„ æ¸è¿›å¼æ”¹é€ **ï¼š

```
æ¶æ„æ¼”è¿›è·¯å¾„ï¼š

é˜¶æ®µ1ï¼šå•ä½“åº”ç”¨
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     å•ä½“åº”ç”¨         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚ç”¨æˆ· â”‚ â”‚è®¢å• â”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜    â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”    â”‚  
â”‚ â”‚å•†å“ â”‚ â”‚æ”¯ä»˜ â”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

é˜¶æ®µ2ï¼šæœåŠ¡åˆ†ç¦»
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç”¨æˆ·æœåŠ¡ â”‚  â”‚ è®¢å•æœåŠ¡ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å•†å“æœåŠ¡ â”‚  â”‚ æ”¯ä»˜æœåŠ¡ â”‚  
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

é˜¶æ®µ3ï¼šå®Œæ•´å¾®æœåŠ¡
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   APIç½‘å…³    â”‚
        â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
               â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚          â”‚          â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç”¨æˆ·æœåŠ¡ â”‚ â”‚ è®¢å•æœåŠ¡ â”‚ â”‚ å•†å“æœåŠ¡ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ğŸ¯ æ”¹é€ å»ºè®®**ï¼š
- **ä»è¾¹ç¼˜å¼€å§‹**ï¼šå…ˆæ‹†åˆ†ä¸é‡è¦çš„æœåŠ¡
- **æ•°æ®å…ˆè¡Œ**ï¼šå…ˆåˆ†ç¦»æ•°æ®ï¼Œå†åˆ†ç¦»æœåŠ¡  
- **ä¿æŒå…¼å®¹**ï¼šæ–°è€ç³»ç»Ÿå¹¶è¡Œè¿è¡Œä¸€æ®µæ—¶é—´
- **é€æ­¥æ›¿æ¢**ï¼šç”¨æ–°æœåŠ¡é€æ­¥æ›¿æ¢è€åŠŸèƒ½

---

# ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“



## ğŸ¯ å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ



```
ğŸ”¸ å¾®æœåŠ¡æ¶æ„ï¼šå•ä¸€èŒè´£ã€ç‹¬ç«‹éƒ¨ç½²ã€æŠ€æœ¯å¤šæ ·ã€æ•°æ®ç‹¬ç«‹
ğŸ”¸ æœåŠ¡æ‹†åˆ†ï¼šæŒ‰ä¸šåŠ¡è¾¹ç•Œã€æ•°æ®è¾¹ç•Œã€å›¢é˜Ÿè¾¹ç•Œæ‹†åˆ†
ğŸ”¸ RPCé€šä¿¡ï¼šå¾®æœåŠ¡é—´é€šä¿¡çš„ä¸»è¦æ–¹å¼ï¼Œè¦è€ƒè™‘ç‰ˆæœ¬å…¼å®¹
ğŸ”¸ åˆ†å¸ƒå¼äº‹åŠ¡ï¼šSagaæ¨¡å¼ã€TCCæ¨¡å¼ã€æœ¬åœ°æ¶ˆæ¯è¡¨
ğŸ”¸ æ•°æ®ä¸€è‡´æ€§ï¼šæœ€ç»ˆä¸€è‡´æ€§ã€äº‹ä»¶é©±åŠ¨ã€å¼‚æ­¥åŒæ­¥
ğŸ”¸ æ¶æ„æ¼”è¿›ï¼šæ¸è¿›å¼æ”¹é€ ï¼Œå…ˆåˆ†ç¦»æ•°æ®å†åˆ†ç¦»æœåŠ¡
```

## ğŸ”§ å®é™…åº”ç”¨è¦ç‚¹



**æœåŠ¡æ‹†åˆ†ç»éªŒ**ï¼š
- **ä¸è¦è¿‡åº¦æ‹†åˆ†**ï¼šå®å¯å¤§ä¸€äº›ï¼Œä¹Ÿä¸è¦æ‹†å¾—å¤ªç»†
- **è€ƒè™‘å›¢é˜Ÿèƒ½åŠ›**ï¼šå›¢é˜Ÿè§„æ¨¡å’ŒæŠ€èƒ½è¦èƒ½æ”¯æ’‘æœåŠ¡æ•°é‡
- **æ•°æ®ä¸€è‡´æ€§**ï¼šå°½é‡åœ¨æœåŠ¡å†…éƒ¨ä¿è¯å¼ºä¸€è‡´æ€§
- **ç›‘æ§è¦è·Ÿä¸Š**ï¼šå¾®æœåŠ¡å¢åŠ äº†ç³»ç»Ÿå¤æ‚åº¦ï¼Œç›‘æ§å¾ˆé‡è¦

**æ ¸å¿ƒè®°å¿†å£è¯€**ï¼š
> å¾®æœåŠ¡æ‹†åˆ†æœ‰åŸåˆ™ï¼Œä¸šåŠ¡æ•°æ®å›¢é˜Ÿè¾¹ç•Œæ¸…  
> RPCé€šä¿¡è¦è§„èŒƒï¼Œç‰ˆæœ¬å…¼å®¹å¾ˆé‡è¦  
> åˆ†å¸ƒå¼äº‹åŠ¡æœ‰ä¸‰ç§ï¼Œæœ€ç»ˆä¸€è‡´æ˜¯ç›®æ ‡  
> æ¶æ„æ¼”è¿›è¦æ¸è¿›ï¼Œç›‘æ§è¿ç»´ä¸èƒ½å°‘