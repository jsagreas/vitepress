---
title: 3ã€æ—¥å¿—åˆ†æ
---
## ğŸ“š ç›®å½•

1. [æ—¥å¿—ç³»ç»ŸåŸºç¡€æ¦‚å¿µ](#1-æ—¥å¿—ç³»ç»ŸåŸºç¡€æ¦‚å¿µ)
2. [ç³»ç»Ÿæ—¥å¿—æ–‡ä»¶è¯¦è§£](#2-ç³»ç»Ÿæ—¥å¿—æ–‡ä»¶è¯¦è§£)
3. [å†…æ ¸æ—¥å¿—ä¸dmesg](#3-å†…æ ¸æ—¥å¿—ä¸dmesg)
4. [systemdæ—¥å¿—ç®¡ç†](#4-systemdæ—¥å¿—ç®¡ç†)
5. [å®æ—¶æ—¥å¿—ç›‘æ§](#5-å®æ—¶æ—¥å¿—ç›‘æ§)
6. [æ—¥å¿—è½®è½¬æœºåˆ¶](#6-æ—¥å¿—è½®è½¬æœºåˆ¶)
7. [æ—¥å¿—åˆ†æä¸è¿‡æ»¤](#7-æ—¥å¿—åˆ†æä¸è¿‡æ»¤)
8. [è‡ªåŠ¨åŒ–æ—¥å¿—ç›‘æ§](#8-è‡ªåŠ¨åŒ–æ—¥å¿—ç›‘æ§)
9. [æ—¥å¿—åˆ†æå®æˆ˜è„šæœ¬](#9-æ—¥å¿—åˆ†æå®æˆ˜è„šæœ¬)
10. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#10-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ“‹ æ—¥å¿—ç³»ç»ŸåŸºç¡€æ¦‚å¿µ


### 1.1 ä»€ä¹ˆæ˜¯ç³»ç»Ÿæ—¥å¿—

**ç®€å•ç†è§£**ï¼šæ—¥å¿—å°±æ˜¯ç³»ç»Ÿçš„"æ—¥è®°æœ¬"ï¼Œè®°å½•ç€ç³»ç»Ÿè¿è¡Œæ—¶å‘ç”Ÿçš„å„ç§äº‹ä»¶

```
ç°å®ç”Ÿæ´»ç±»æ¯”ï¼š
æ—¥è®°æœ¬ â†â†’ æ—¥å¿—æ–‡ä»¶
ä»Šå¤©å‘ç”Ÿçš„äº‹ â†â†’ ç³»ç»Ÿäº‹ä»¶
è®°å½•æ—¶é—´å’Œå†…å®¹ â†â†’ æ—¶é—´æˆ³å’Œæ—¥å¿—ä¿¡æ¯

æ—¥å¿—çš„ä½œç”¨ï¼š
ğŸ”¸ æ•…éšœæ’æŸ¥ï¼šå‡ºé—®é¢˜æ—¶æŸ¥çœ‹å‘ç”Ÿäº†ä»€ä¹ˆ
ğŸ”¸ æ€§èƒ½ç›‘æ§ï¼šäº†è§£ç³»ç»Ÿè¿è¡ŒçŠ¶å†µ
ğŸ”¸ å®‰å…¨å®¡è®¡ï¼šè¿½è¸ªå¯ç–‘æ´»åŠ¨
ğŸ”¸ åˆè§„è¦æ±‚ï¼šæ»¡è¶³å®¡è®¡éœ€æ±‚
```

### 1.2 Linuxæ—¥å¿—ç³»ç»Ÿæ¶æ„

**æ—¥å¿—ç³»ç»Ÿçš„ç»„æˆéƒ¨åˆ†**ï¼š

```
åº”ç”¨ç¨‹åº          å†…æ ¸          ç³»ç»ŸæœåŠ¡
    â†“               â†“               â†“
    â”œâ”€â”€â†’ åº”ç”¨æ—¥å¿— â†â”€â”€â”¼â”€â”€â†’ å†…æ ¸æ—¥å¿— â†â”€â”€â”¤
    â†“               â†“               â†“
æ—¥å¿—æ”¶é›†å™¨ â†â”€â”€â”€â”€â”€â”€â”€ rsyslog/systemd â”€â”€â”€â”€â”€â†’ æ—¥å¿—å­˜å‚¨
    â†“                                       â†“
 /var/log/                              æ—¥å¿—è½®è½¬
```

**æ—¥å¿—æµç¨‹è¯´æ˜**ï¼š
- **äº§ç”Ÿ**ï¼šåº”ç”¨ç¨‹åºå’Œç³»ç»Ÿäº§ç”Ÿæ—¥å¿—æ¶ˆæ¯
- **æ”¶é›†**ï¼šæ—¥å¿—å®ˆæŠ¤è¿›ç¨‹æ”¶é›†æ¶ˆæ¯
- **å­˜å‚¨**ï¼šå†™å…¥åˆ°æŒ‡å®šçš„æ—¥å¿—æ–‡ä»¶
- **ç®¡ç†**ï¼šå®šæœŸæ¸…ç†å’Œè½®è½¬æ—¥å¿—

### 1.3 æ—¥å¿—çº§åˆ«åˆ†ç±»

**æ ‡å‡†æ—¥å¿—çº§åˆ«**ï¼š

| çº§åˆ« | åç§° | æè¿° | ä½¿ç”¨åœºæ™¯ |
|------|------|------|----------|
| **0** | `EMERG` | ç´§æ€¥æƒ…å†µï¼Œç³»ç»Ÿä¸å¯ç”¨ | ç³»ç»Ÿå´©æºƒ |
| **1** | `ALERT` | éœ€è¦ç«‹å³å¤„ç†çš„å‘Šè­¦ | ç¡¬ä»¶æ•…éšœ |
| **2** | `CRIT` | ä¸¥é‡é”™è¯¯ | ç¨‹åºå´©æºƒ |
| **3** | `ERR` | ä¸€èˆ¬é”™è¯¯ | åŠŸèƒ½å¼‚å¸¸ |
| **4** | `WARNING` | è­¦å‘Šä¿¡æ¯ | æ½œåœ¨é—®é¢˜ |
| **5** | `NOTICE` | æ­£å¸¸ä½†é‡è¦çš„ä¿¡æ¯ | çŠ¶æ€å˜åŒ– |
| **6** | `INFO` | ä¸€èˆ¬ä¿¡æ¯ | æ­£å¸¸è®°å½• |
| **7** | `DEBUG` | è°ƒè¯•ä¿¡æ¯ | å¼€å‘è°ƒè¯• |

---

## 2. ğŸ“ ç³»ç»Ÿæ—¥å¿—æ–‡ä»¶è¯¦è§£


### 2.1 /var/log/ç›®å½•æ¦‚è§ˆ

**æ ¸å¿ƒæ—¥å¿—æ–‡ä»¶ä½ç½®**ï¼š

```
/var/log/ç³»ç»Ÿæ—¥å¿—æ–‡ä»¶æ ‘ï¼š
â”œâ”€â”€ messages        # ç³»ç»Ÿä¸»è¦æ¶ˆæ¯æ—¥å¿—
â”œâ”€â”€ syslog         # ç³»ç»Ÿç»¼åˆæ—¥å¿—
â”œâ”€â”€ auth.log       # è®¤è¯ç›¸å…³æ—¥å¿—
â”œâ”€â”€ kern.log       # å†…æ ¸æ—¥å¿—
â”œâ”€â”€ daemon.log     # ç³»ç»Ÿå®ˆæŠ¤è¿›ç¨‹æ—¥å¿—
â”œâ”€â”€ mail.log       # é‚®ä»¶ç³»ç»Ÿæ—¥å¿—
â”œâ”€â”€ cron.log       # å®šæ—¶ä»»åŠ¡æ—¥å¿—
â”œâ”€â”€ secure         # å®‰å…¨ç›¸å…³æ—¥å¿—
â”œâ”€â”€ boot.log       # ç³»ç»Ÿå¯åŠ¨æ—¥å¿—
â”œâ”€â”€ dmesg          # å†…æ ¸ç¯å½¢ç¼“å†²åŒº
â”œâ”€â”€ wtmp           # ç™»å½•è®°å½•ï¼ˆäºŒè¿›åˆ¶ï¼‰
â”œâ”€â”€ lastlog        # æœ€åç™»å½•è®°å½•
â””â”€â”€ faillog        # ç™»å½•å¤±è´¥è®°å½•
```

### 2.2 ä¸»è¦æ—¥å¿—æ–‡ä»¶è¯¦è§£


**ğŸ”¸ /var/log/messages**
```bash
# æŸ¥çœ‹ç³»ç»Ÿä¸»è¦æ¶ˆæ¯
tail -20 /var/log/messages

# å…¸å‹å†…å®¹æ ¼å¼ï¼š
Jan 20 10:30:15 server01 kernel: USB disconnect, address 1
Jan 20 10:30:20 server01 NetworkManager[1234]: Device eth0 activated
```
> **ç”¨é€”**ï¼šè®°å½•ç³»ç»Ÿè¿è¡Œçš„ä¸»è¦æ¶ˆæ¯ï¼Œæ˜¯æ•…éšœæ’æŸ¥çš„é¦–é€‰æ—¥å¿—

**ğŸ”¸ /var/log/auth.logï¼ˆæˆ–secureï¼‰**
```bash
# æŸ¥çœ‹è®¤è¯æ—¥å¿—
tail -10 /var/log/auth.log

# å…¸å‹å†…å®¹ï¼š
Jan 20 10:25:30 server01 sshd[5678]: Accepted password for user from 192.168.1.10
Jan 20 10:26:15 server01 sudo: user : TTY=pts/0 ; USER=root ; COMMAND=/bin/ls
```
> **ç”¨é€”**ï¼šè®°å½•ç”¨æˆ·ç™»å½•ã€sudoä½¿ç”¨ã€è®¤è¯å¤±è´¥ç­‰å®‰å…¨ç›¸å…³äº‹ä»¶

**ğŸ”¸ /var/log/syslog**
```bash
# æŸ¥çœ‹ç³»ç»Ÿç»¼åˆæ—¥å¿—
tail -15 /var/log/syslog
```
> **ç”¨é€”**ï¼šåŒ…å«é™¤é‚®ä»¶ã€è®¤è¯å’Œcronä¹‹å¤–çš„æ‰€æœ‰ç³»ç»Ÿæ¶ˆæ¯

### 2.3 æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶çš„åŸºæœ¬å‘½ä»¤

**å¸¸ç”¨æ—¥å¿—æŸ¥çœ‹å‘½ä»¤**ï¼š

```bash
# æŸ¥çœ‹æ–‡ä»¶å°¾éƒ¨ï¼ˆæœ€æ–°æ—¥å¿—ï¼‰
tail /var/log/messages
tail -20 /var/log/messages    # æ˜¾ç¤ºæœ€å20è¡Œ
tail -f /var/log/messages     # å®æ—¶ç›‘æ§æ–°å¢å†…å®¹

# æŸ¥çœ‹æ–‡ä»¶å¤´éƒ¨ï¼ˆæœ€æ—©æ—¥å¿—ï¼‰
head /var/log/messages
head -30 /var/log/messages    # æ˜¾ç¤ºå‰30è¡Œ

# åˆ†é¡µæŸ¥çœ‹æ•´ä¸ªæ–‡ä»¶
less /var/log/messages
more /var/log/messages

# æœç´¢ç‰¹å®šå†…å®¹
grep "error" /var/log/messages
grep -i "failed" /var/log/auth.log    # å¿½ç•¥å¤§å°å†™
```

---

## 3. ğŸ–¥ï¸ å†…æ ¸æ—¥å¿—ä¸dmesg


### 3.1 ä»€ä¹ˆæ˜¯dmesg

**dmesgçš„å«ä¹‰**ï¼šdisplay messageï¼Œæ˜¾ç¤ºå†…æ ¸ç¯å½¢ç¼“å†²åŒºçš„æ¶ˆæ¯

```
å†…æ ¸æ¶ˆæ¯æµç¨‹ï¼š
ç¡¬ä»¶äº‹ä»¶ â†’ å†…æ ¸æ£€æµ‹ â†’ å†™å…¥ç¯å½¢ç¼“å†²åŒº â†’ dmesgæ˜¾ç¤º
   â†“           â†“            â†“            â†“
USBæ’å…¥    é©±åŠ¨åŠ è½½      ä¿å­˜åˆ°å†…å­˜     ç”¨æˆ·æŸ¥çœ‹
```

> **ğŸ’¡ ç†è§£è¦ç‚¹**ï¼šç¯å½¢ç¼“å†²åŒºæ˜¯å†…æ ¸åœ¨å†…å­˜ä¸­ç»´æŠ¤çš„å›ºå®šå¤§å°ç¼“å†²åŒºï¼Œæ–°æ¶ˆæ¯ä¼šè¦†ç›–æ—§æ¶ˆæ¯

### 3.2 dmesgåŸºæœ¬ä½¿ç”¨

**åŸºç¡€å‘½ä»¤ç”¨æ³•**ï¼š

```bash
# æ˜¾ç¤ºæ‰€æœ‰å†…æ ¸æ¶ˆæ¯
dmesg

# æ˜¾ç¤ºæœ€æ–°çš„20æ¡æ¶ˆæ¯
dmesg | tail -20

# å®æ—¶ç›‘æ§å†…æ ¸æ¶ˆæ¯
dmesg -w
# æˆ–è€…ä½¿ç”¨
dmesg --follow

# æ¸…ç©ºdmesgç¼“å†²åŒºï¼ˆéœ€è¦rootæƒé™ï¼‰
dmesg -c
```

### 3.3 dmesgè¾“å‡ºæ ¼å¼è§£æ

**æ—¶é—´æˆ³æ ¼å¼è¯´æ˜**ï¼š

```bash
# é»˜è®¤è¾“å‡ºï¼ˆå¯åŠ¨æ—¶é—´ï¼‰
[    0.000000] Linux version 5.4.0-80-generic
[    1.234567] USB 1-1: new high-speed USB device number 2

# äººç±»å¯è¯»æ—¶é—´æ ¼å¼
dmesg -T
# è¾“å‡ºï¼š
[Sat Jan 20 10:30:15 2024] USB 1-1: new high-speed USB device number 2

# å¸¦é¢œè‰²çš„è¾“å‡ºï¼ˆä¾¿äºé˜…è¯»ï¼‰
dmesg --color=always
```

### 3.4 dmesgè¿‡æ»¤å’Œæœç´¢

**æŒ‰è®¾å¤‡ç±»å‹è¿‡æ»¤**ï¼š

```bash
# æŸ¥çœ‹USBç›¸å…³æ¶ˆæ¯
dmesg | grep -i usb

# æŸ¥çœ‹ç½‘ç»œç›¸å…³æ¶ˆæ¯  
dmesg | grep -i eth

# æŸ¥çœ‹å†…å­˜ç›¸å…³æ¶ˆæ¯
dmesg | grep -i memory

# æŸ¥çœ‹é”™è¯¯æ¶ˆæ¯
dmesg | grep -i error
dmesg | grep -i fail
```

**æŒ‰çº§åˆ«è¿‡æ»¤**ï¼š
```bash
# åªæ˜¾ç¤ºé”™è¯¯å’Œæ›´ä¸¥é‡çš„æ¶ˆæ¯
dmesg -l err,crit,alert,emerg

# æ˜¾ç¤ºè­¦å‘ŠåŠä»¥ä¸Šçº§åˆ«
dmesg -l warn,err,crit,alert,emerg
```

---

## 4. ğŸ”„ systemdæ—¥å¿—ç®¡ç†


### 4.1 journalctlåŸºç¡€æ¦‚å¿µ

**ä»€ä¹ˆæ˜¯journalctl**ï¼šsystemdçš„æ—¥å¿—æŸ¥çœ‹å·¥å…·ï¼Œç”¨äºæŸ¥çœ‹systemdç®¡ç†çš„æ‰€æœ‰æ—¥å¿—

```
ä¼ ç»Ÿæ—¥å¿—ç³»ç»Ÿ     vs     systemdæ—¥å¿—ç³»ç»Ÿ
    â†“                        â†“
æ–‡æœ¬æ—¥å¿—æ–‡ä»¶                äºŒè¿›åˆ¶æ—¥å¿—æ•°æ®
/var/log/messages    â†’    journaldæ”¶é›†å­˜å‚¨
tail/grepæŸ¥çœ‹        â†’    journalctlæŸ¥çœ‹
```

> **ä¼˜åŠ¿**ï¼šç»“æ„åŒ–å­˜å‚¨ã€å¿«é€Ÿæœç´¢ã€ç»Ÿä¸€ç®¡ç†ã€è‡ªåŠ¨è½®è½¬

### 4.2 journalctlåŸºæœ¬ä½¿ç”¨

**åŸºç¡€æŸ¥çœ‹å‘½ä»¤**ï¼š

```bash
# æŸ¥çœ‹æ‰€æœ‰æ—¥å¿—
journalctl

# æŸ¥çœ‹æœ€æ–°æ—¥å¿—
journalctl -n 20        # æœ€æ–°20æ¡
journalctl -n 50        # æœ€æ–°50æ¡

# å®æ—¶ç›‘æ§æ—¥å¿—
journalctl -f           # ç±»ä¼¼tail -f

# ä»æœ«å°¾å¼€å§‹å®æ—¶ç›‘æ§
journalctl -f -n 0
```

### 4.3 æŒ‰æ—¶é—´è¿‡æ»¤æ—¥å¿—

**æ—¶é—´èŒƒå›´æŸ¥è¯¢**ï¼š

```bash
# æŸ¥çœ‹ä»Šå¤©çš„æ—¥å¿—
journalctl --since today

# æŸ¥çœ‹æ˜¨å¤©çš„æ—¥å¿—
journalctl --since yesterday --until today

# æŸ¥çœ‹æœ€è¿‘ä¸€å°æ—¶çš„æ—¥å¿—
journalctl --since "1 hour ago"

# æŸ¥çœ‹æŒ‡å®šæ—¶é—´èŒƒå›´çš„æ—¥å¿—
journalctl --since "2024-01-20 10:00:00" --until "2024-01-20 11:00:00"

# æŸ¥çœ‹æœ€è¿‘10åˆ†é’Ÿçš„æ—¥å¿—
journalctl --since "10 minutes ago"
```

### 4.4 æŒ‰æœåŠ¡è¿‡æ»¤æ—¥å¿—

**æœåŠ¡ç›¸å…³æ—¥å¿—æŸ¥è¯¢**ï¼š

```bash
# æŸ¥çœ‹ç‰¹å®šæœåŠ¡çš„æ—¥å¿—
journalctl -u nginx.service
journalctl -u ssh.service
journalctl -u docker.service

# æŸ¥çœ‹å¤šä¸ªæœåŠ¡çš„æ—¥å¿—
journalctl -u nginx.service -u php-fpm.service

# æŸ¥çœ‹æœåŠ¡çš„æœ€æ–°æ—¥å¿—å¹¶å®æ—¶ç›‘æ§
journalctl -u nginx.service -f
```

### 4.5 æŒ‰ä¼˜å…ˆçº§è¿‡æ»¤æ—¥å¿—

**ä¼˜å…ˆçº§ç­›é€‰**ï¼š

```bash
# åªæ˜¾ç¤ºé”™è¯¯çº§åˆ«åŠä»¥ä¸Šçš„æ—¥å¿—
journalctl -p err

# æ˜¾ç¤ºè­¦å‘Šçº§åˆ«åŠä»¥ä¸Šçš„æ—¥å¿—  
journalctl -p warning

# æ˜¾ç¤ºæŒ‡å®šçº§åˆ«çš„æ—¥å¿—
journalctl -p info
```

### 4.6 journalctlé«˜çº§ç”¨æ³•

**å®ç”¨æŠ€å·§**ï¼š

```bash
# åå‘æ˜¾ç¤ºï¼ˆæœ€æ–°çš„åœ¨å‰é¢ï¼‰
journalctl -r

# æ˜¾ç¤ºè¯¦ç»†è¾“å‡ºï¼ˆå®Œæ•´å­—æ®µï¼‰
journalctl -o verbose

# JSONæ ¼å¼è¾“å‡º
journalctl -o json

# æŸ¥çœ‹å¯åŠ¨æ—¥å¿—
journalctl -b            # å½“å‰å¯åŠ¨çš„æ—¥å¿—
journalctl -b -1         # ä¸Šæ¬¡å¯åŠ¨çš„æ—¥å¿—

# æŸ¥çœ‹å†…æ ¸æ¶ˆæ¯ï¼ˆç›¸å½“äºdmesgï¼‰
journalctl -k
```

---

## 5. ğŸ‘€ å®æ—¶æ—¥å¿—ç›‘æ§


### 5.1 tail -fè¯¦è§£

**å®æ—¶ç›‘æ§çš„æ ¸å¿ƒå‘½ä»¤**ï¼š

```bash
# åŸºæœ¬å®æ—¶ç›‘æ§
tail -f /var/log/messages

# ç›‘æ§å¤šä¸ªæ–‡ä»¶
tail -f /var/log/messages /var/log/auth.log

# ç›‘æ§å¹¶æ˜¾ç¤ºæ–‡ä»¶å
tail -F -v /var/log/*.log
```

> **ğŸ’¡ -f vs -Fçš„åŒºåˆ«**ï¼š
> - `-f`: è·Ÿè¸ªæ–‡ä»¶æè¿°ç¬¦ï¼Œæ–‡ä»¶è¢«ç§»åŠ¨æˆ–åˆ é™¤ååœæ­¢è·Ÿè¸ª
> - `-F`: è·Ÿè¸ªæ–‡ä»¶åï¼Œæ–‡ä»¶è¢«è½®è½¬åç»§ç»­è·Ÿè¸ªæ–°æ–‡ä»¶

### 5.2 å®æ—¶ç›‘æ§ä¸è¿‡æ»¤ç»“åˆ

**ç›‘æ§ç‰¹å®šå†…å®¹**ï¼š

```bash
# ç›‘æ§é”™è¯¯ä¿¡æ¯
tail -f /var/log/messages | grep -i error

# ç›‘æ§ç™»å½•æ´»åŠ¨
tail -f /var/log/auth.log | grep -i "accepted\|failed"

# ç›‘æ§ç‰¹å®šIPçš„æ´»åŠ¨
tail -f /var/log/auth.log | grep "192.168.1.100"

# å½©è‰²é«˜äº®ç›‘æ§
tail -f /var/log/messages | grep --color=always -i "error\|warning\|fail"
```

### 5.3 å¤šçª—å£ç›‘æ§æŠ€å·§

**tmux/screenç¯å¢ƒä¸‹çš„ç›‘æ§**ï¼š

```bash
# åˆ›å»ºç›‘æ§ä¼šè¯
tmux new-session -d -s log-monitor

# åˆ†å‰²çª—å£åŒæ—¶ç›‘æ§å¤šä¸ªæ—¥å¿—
tmux split-window -h "tail -f /var/log/messages"
tmux split-window -v "tail -f /var/log/auth.log"
tmux split-window -v "journalctl -f"
```

---

## 6. ğŸ”„ æ—¥å¿—è½®è½¬æœºåˆ¶


### 6.1 ä»€ä¹ˆæ˜¯æ—¥å¿—è½®è½¬

**æ—¥å¿—è½®è½¬çš„æ¦‚å¿µ**ï¼šé˜²æ­¢æ—¥å¿—æ–‡ä»¶æ— é™å¢é•¿ï¼Œå®šæœŸå½’æ¡£æ—§æ—¥å¿—ï¼Œåˆ›å»ºæ–°æ—¥å¿—æ–‡ä»¶

```
æ—¥å¿—è½®è½¬è¿‡ç¨‹ç¤ºæ„ï¼š
messages        messages.1      messages.2.gz      messages.3.gz
   â†“               â†“               â†“                 â†“
å½“å‰æ—¥å¿—    â†’    æ˜¨å¤©æ—¥å¿—    â†’    2å¤©å‰æ—¥å¿—     â†’    3å¤©å‰æ—¥å¿—
 (æ–°å†™å…¥)        (åªè¯»)         (å‹ç¼©ä¿å­˜)       (å‹ç¼©ä¿å­˜)
                                                      â†“
                                                 å®šæœŸåˆ é™¤
```

### 6.2 logrotateé…ç½®æ–‡ä»¶

**ä¸»è¦é…ç½®æ–‡ä»¶ä½ç½®**ï¼š

```bash
# ä¸»é…ç½®æ–‡ä»¶
/etc/logrotate.conf

# åº”ç”¨ç‰¹å®šé…ç½®ç›®å½•  
/etc/logrotate.d/
â”œâ”€â”€ apache2        # Apacheæ—¥å¿—è½®è½¬é…ç½®
â”œâ”€â”€ nginx          # Nginxæ—¥å¿—è½®è½¬é…ç½®
â”œâ”€â”€ rsyslog        # ç³»ç»Ÿæ—¥å¿—è½®è½¬é…ç½®
â””â”€â”€ mysql-server   # MySQLæ—¥å¿—è½®è½¬é…ç½®
```

### 6.3 logrotateé…ç½®è¯­æ³•

**åŸºæœ¬é…ç½®ç¤ºä¾‹**ï¼š

```bash
# /etc/logrotate.d/myapp
/var/log/myapp/*.log {
    daily                    # æ¯å¤©è½®è½¬
    rotate 7                # ä¿ç•™7ä¸ªå†å²æ–‡ä»¶
    compress               # å‹ç¼©æ—§æ—¥å¿—
    delaycompress          # å»¶è¿Ÿä¸€å¤©å‹ç¼©
    missingok              # æ–‡ä»¶ä¸å­˜åœ¨ä¸æŠ¥é”™
    notifempty             # ç©ºæ–‡ä»¶ä¸è½®è½¬
    create 644 root root   # åˆ›å»ºæ–°æ–‡ä»¶çš„æƒé™
    postrotate             # è½®è½¬åæ‰§è¡Œçš„è„šæœ¬
        systemctl reload nginx
    endscript
}
```

**é…ç½®å‚æ•°è¯¦è§£**ï¼š

| å‚æ•° | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| `daily/weekly/monthly` | è½®è½¬é¢‘ç‡ | `daily` |
| `rotate N` | ä¿ç•™å†å²æ–‡ä»¶æ•°é‡ | `rotate 30` |
| `size å¤§å°` | æŒ‰å¤§å°è½®è½¬ | `size 100M` |
| `compress` | å‹ç¼©æ—§æ–‡ä»¶ | `compress` |
| `copytruncate` | å¤åˆ¶åæ¸…ç©ºåŸæ–‡ä»¶ | `copytruncate` |
| `create æƒé™ ç”¨æˆ· ç»„` | æ–°æ–‡ä»¶å±æ€§ | `create 640 nginx nginx` |

### 6.4 æ‰‹åŠ¨æ‰§è¡Œæ—¥å¿—è½®è½¬

**æµ‹è¯•å’Œè°ƒè¯•è½®è½¬é…ç½®**ï¼š

```bash
# æµ‹è¯•é…ç½®ï¼ˆä¸å®é™…æ‰§è¡Œï¼‰
logrotate -d /etc/logrotate.conf

# å¼ºåˆ¶æ‰§è¡Œè½®è½¬
logrotate -f /etc/logrotate.conf

# æ‰§è¡Œç‰¹å®šé…ç½®æ–‡ä»¶
logrotate -f /etc/logrotate.d/nginx

# è¯¦ç»†è¾“å‡ºæ‰§è¡Œè¿‡ç¨‹
logrotate -v /etc/logrotate.conf
```

---

## 7. ğŸ” æ—¥å¿—åˆ†æä¸è¿‡æ»¤


### 7.1 åŸºç¡€æ—¥å¿—æœç´¢

**grepç³»åˆ—å‘½ä»¤è¯¦è§£**ï¼š

```bash
# åŸºæœ¬æœç´¢
grep "error" /var/log/messages
grep -i "ERROR" /var/log/messages          # å¿½ç•¥å¤§å°å†™
grep -v "info" /var/log/messages           # åå‘åŒ¹é…ï¼ˆæ’é™¤infoï¼‰
grep -n "failed" /var/log/auth.log         # æ˜¾ç¤ºè¡Œå·

# å¤šæ¨¡å¼æœç´¢
grep -E "error|fail|warning" /var/log/messages    # å¤šä¸ªå…³é”®è¯
grep -F "192.168.1.100" /var/log/auth.log         # å›ºå®šå­—ç¬¦ä¸²æœç´¢
```

### 7.2 æ—¶é—´èŒƒå›´æ—¥å¿—åˆ†æ

**awkæ—¶é—´è¿‡æ»¤æŠ€å·§**ï¼š

```bash
# æå–ç‰¹å®šæ—¶é—´æ®µçš„æ—¥å¿—ï¼ˆå‡è®¾Jan 20æ ¼å¼ï¼‰
awk '/Jan 20 10:/ && /Jan 20 11:/ {print}' /var/log/messages

# æå–ä»Šå¤©çš„æ—¥å¿—
awk -v today="$(date '+%b %d')" '$0 ~ today {print}' /var/log/messages

# ç»Ÿè®¡æ¯å°æ—¶çš„é”™è¯¯æ•°é‡
grep "error" /var/log/messages | awk '{print $3}' | cut -d: -f1 | sort | uniq -c
```

### 7.3 IPåœ°å€å’Œç”¨æˆ·æ´»åŠ¨åˆ†æ

**å®‰å…¨æ—¥å¿—åˆ†æ**ï¼š

```bash
# åˆ†æç™»å½•æˆåŠŸçš„IP
grep "Accepted password" /var/log/auth.log | awk '{print $11}' | sort | uniq -c

# åˆ†æç™»å½•å¤±è´¥çš„IP
grep "Failed password" /var/log/auth.log | awk '{print $11}' | sort | uniq -c

# ç»Ÿè®¡å„ç”¨æˆ·çš„sudoä½¿ç”¨æ¬¡æ•°
grep "sudo" /var/log/auth.log | awk '{print $5}' | cut -d: -f1 | sort | uniq -c

# æŸ¥æ‰¾å¼‚å¸¸ç™»å½•æ—¶é—´ï¼ˆéå·¥ä½œæ—¶é—´ï¼‰
awk '$3 < "08:00:00" || $3 > "18:00:00" {print}' /var/log/auth.log
```

### 7.4 é”™è¯¯æ¨¡å¼è¯†åˆ«

**å¸¸è§é”™è¯¯æ¨¡å¼æœç´¢**ï¼š

```bash
# ç³»ç»Ÿçº§åˆ«é”™è¯¯
grep -E "(kernel panic|segfault|out of memory)" /var/log/messages

# ç½‘ç»œç›¸å…³é”™è¯¯
grep -E "(connection refused|timeout|network unreachable)" /var/log/messages

# ç£ç›˜ç›¸å…³é”™è¯¯
grep -E "(disk full|no space|I/O error)" /var/log/messages

# æœåŠ¡å¯åŠ¨å¤±è´¥
grep -E "(failed to start|service failed)" /var/log/messages
```

---

## 8. ğŸ¤– è‡ªåŠ¨åŒ–æ—¥å¿—ç›‘æ§


### 8.1 æ—¥å¿—ç›‘æ§è„šæœ¬åŸºç¡€

**ç®€å•çš„é”™è¯¯ç›‘æ§è„šæœ¬**ï¼š

```bash
#!/bin/bash
# log_monitor.sh - åŸºç¡€æ—¥å¿—é”™è¯¯ç›‘æ§

LOG_FILE="/var/log/messages"
ERROR_COUNT_THRESHOLD=10
CHECK_INTERVAL=300  # 5åˆ†é’Ÿæ£€æŸ¥ä¸€æ¬¡

while true; do
    # ç»Ÿè®¡æœ€è¿‘5åˆ†é’Ÿçš„é”™è¯¯æ•°é‡
    ERROR_COUNT=$(tail -100 $LOG_FILE | grep -c -i "error")
    
    if [ $ERROR_COUNT -gt $ERROR_COUNT_THRESHOLD ]; then
        echo "$(date): æ£€æµ‹åˆ° $ERROR_COUNT ä¸ªé”™è¯¯ï¼Œè¶…è¿‡é˜ˆå€¼ $ERROR_COUNT_THRESHOLD"
        # å‘é€é‚®ä»¶æˆ–å…¶ä»–å‘Šè­¦
        # mail -s "æœåŠ¡å™¨é”™è¯¯å‘Šè­¦" admin@example.com < /tmp/error_report
    fi
    
    sleep $CHECK_INTERVAL
done
```

### 8.2 å®æ—¶æ—¥å¿—å¼‚å¸¸æ£€æµ‹

**åŸºäºå…³é”®è¯çš„å®æ—¶ç›‘æ§**ï¼š

```bash
#!/bin/bash
# realtime_monitor.sh - å®æ—¶æ—¥å¿—ç›‘æ§

KEYWORDS=("error" "fail" "panic" "segfault" "out of memory")
LOG_FILES=("/var/log/messages" "/var/log/auth.log")

monitor_log() {
    local log_file=$1
    tail -f "$log_file" | while read line; do
        for keyword in "${KEYWORDS[@]}"; do
            if echo "$line" | grep -qi "$keyword"; then
                echo "[ALERT] $(date): $log_file - $line"
                # å¯ä»¥åœ¨è¿™é‡Œæ·»åŠ å‘Šè­¦é€»è¾‘
            fi
        done
    done
}

# åå°ç›‘æ§å¤šä¸ªæ—¥å¿—æ–‡ä»¶
for log_file in "${LOG_FILES[@]}"; do
    if [ -f "$log_file" ]; then
        monitor_log "$log_file" &
    fi
done

wait  # ç­‰å¾…æ‰€æœ‰åå°è¿›ç¨‹
```

### 8.3 æ—¥å¿—ç»Ÿè®¡æŠ¥å‘Š

**å®šæœŸç”Ÿæˆæ—¥å¿—ç»Ÿè®¡æŠ¥å‘Š**ï¼š

```bash
#!/bin/bash
# log_report.sh - ç”Ÿæˆæ—¥å¿—ç»Ÿè®¡æŠ¥å‘Š

REPORT_DATE=$(date '+%Y-%m-%d')
REPORT_FILE="/tmp/log_report_$REPORT_DATE.txt"

{
    echo "=== ç³»ç»Ÿæ—¥å¿—ç»Ÿè®¡æŠ¥å‘Š ==="
    echo "æŠ¥å‘Šæ—¥æœŸ: $REPORT_DATE"
    echo "ç”Ÿæˆæ—¶é—´: $(date)"
    echo ""
    
    echo "=== é”™è¯¯ç»Ÿè®¡ ==="
    grep -c -i "error" /var/log/messages || echo "0"
    echo ""
    
    echo "=== ç™»å½•ç»Ÿè®¡ ==="
    echo "æˆåŠŸç™»å½•æ¬¡æ•°: $(grep -c "Accepted password" /var/log/auth.log || echo "0")"
    echo "å¤±è´¥ç™»å½•æ¬¡æ•°: $(grep -c "Failed password" /var/log/auth.log || echo "0")"
    echo ""
    
    echo "=== æœ€æ´»è·ƒçš„IPåœ°å€ ==="
    grep "Accepted password" /var/log/auth.log | awk '{print $11}' | sort | uniq -c | sort -nr | head -5
    echo ""
    
    echo "=== ç£ç›˜ç©ºé—´ä½¿ç”¨æƒ…å†µ ==="
    df -h
    echo ""
    
} > "$REPORT_FILE"

echo "æŠ¥å‘Šå·²ç”Ÿæˆ: $REPORT_FILE"
```

---

## 9. ğŸ’» æ—¥å¿—åˆ†æå®æˆ˜è„šæœ¬


### 9.1 WebæœåŠ¡å™¨æ—¥å¿—åˆ†æ

**Nginx/Apacheè®¿é—®æ—¥å¿—åˆ†æ**ï¼š

```bash
#!/bin/bash
# web_log_analyzer.sh - Webè®¿é—®æ—¥å¿—åˆ†æ

ACCESS_LOG="/var/log/nginx/access.log"

if [ ! -f "$ACCESS_LOG" ]; then
    echo "æ—¥å¿—æ–‡ä»¶ä¸å­˜åœ¨: $ACCESS_LOG"
    exit 1
fi

echo "=== Webè®¿é—®æ—¥å¿—åˆ†æ ==="
echo "åˆ†ææ–‡ä»¶: $ACCESS_LOG"
echo "åˆ†ææ—¶é—´: $(date)"
echo ""

# ç»Ÿè®¡æ€»è¯·æ±‚æ•°
TOTAL_REQUESTS=$(wc -l < "$ACCESS_LOG")
echo "æ€»è¯·æ±‚æ•°: $TOTAL_REQUESTS"
echo ""

# ç»Ÿè®¡ç‹¬ç«‹IPæ•°
UNIQUE_IPS=$(awk '{print $1}' "$ACCESS_LOG" | sort | uniq | wc -l)
echo "ç‹¬ç«‹è®¿å®¢IPæ•°: $UNIQUE_IPS"
echo ""

# Top 10 è®¿é—®IP
echo "=== Top 10 è®¿é—®IP ==="
awk '{print $1}' "$ACCESS_LOG" | sort | uniq -c | sort -nr | head -10
echo ""

# Top 10 è¯·æ±‚é¡µé¢
echo "=== Top 10 è¯·æ±‚é¡µé¢ ==="
awk '{print $7}' "$ACCESS_LOG" | sort | uniq -c | sort -nr | head -10
echo ""

# HTTPçŠ¶æ€ç ç»Ÿè®¡
echo "=== HTTPçŠ¶æ€ç ç»Ÿè®¡ ==="
awk '{print $9}' "$ACCESS_LOG" | sort | uniq -c | sort -nr
echo ""

# 404é”™è¯¯ç»Ÿè®¡
echo "=== 404é”™è¯¯é¡µé¢ ==="
awk '$9 == "404" {print $7}' "$ACCESS_LOG" | sort | uniq -c | sort -nr | head -10
```

### 9.2 ç³»ç»Ÿå®‰å…¨æ—¥å¿—åˆ†æ

**å®‰å…¨äº‹ä»¶æ£€æµ‹è„šæœ¬**ï¼š

```bash
#!/bin/bash
# security_analyzer.sh - ç³»ç»Ÿå®‰å…¨æ—¥å¿—åˆ†æ

AUTH_LOG="/var/log/auth.log"
SECURE_LOG="/var/log/secure"

# é€‰æ‹©å¯ç”¨çš„è®¤è¯æ—¥å¿—æ–‡ä»¶
if [ -f "$AUTH_LOG" ]; then
    LOG_FILE="$AUTH_LOG"
elif [ -f "$SECURE_LOG" ]; then
    LOG_FILE="$SECURE_LOG"
else
    echo "è®¤è¯æ—¥å¿—æ–‡ä»¶ä¸å­˜åœ¨"
    exit 1
fi

echo "=== ç³»ç»Ÿå®‰å…¨æ—¥å¿—åˆ†æ ==="
echo "åˆ†ææ–‡ä»¶: $LOG_FILE"
echo ""

# æš´åŠ›ç ´è§£æ£€æµ‹
echo "=== å¯èƒ½çš„æš´åŠ›ç ´è§£æ”»å‡» ==="
grep "Failed password" "$LOG_FILE" | \
    awk '{print $11}' | \
    sort | uniq -c | \
    awk '$1 >= 5 {printf "IP: %s, å¤±è´¥æ¬¡æ•°: %d\n", $2, $1}' | \
    sort -k4 -nr
echo ""

# æˆåŠŸç™»å½•çš„å¼‚å¸¸æ—¶é—´æ£€æµ‹
echo "=== éå·¥ä½œæ—¶é—´ç™»å½• ==="
awk '/Accepted password/ {
    split($3, time, ":")
    if (time[1] < 8 || time[1] > 18) 
        printf "æ—¶é—´: %s %s, ç”¨æˆ·: %s, IP: %s\n", $1" "$2, $3, $9, $11
}' "$LOG_FILE"
echo ""

# Sudoä½¿ç”¨ç»Ÿè®¡
echo "=== Sudoä½¿ç”¨ç»Ÿè®¡ ==="
grep "sudo.*COMMAND" "$LOG_FILE" | \
    awk -F'USER=' '{print $2}' | \
    awk '{print $1}' | \
    sort | uniq -c | \
    sort -nr
echo ""

# æ–°ç”¨æˆ·åˆ›å»ºæ£€æµ‹
echo "=== æ–°ç”¨æˆ·åˆ›å»ºè®°å½• ==="
grep "new user" "$LOG_FILE" | tail -10
```

### 9.3 ç³»ç»Ÿæ€§èƒ½æ—¥å¿—åˆ†æ

**ç³»ç»Ÿèµ„æºä½¿ç”¨åˆ†æ**ï¼š

```bash
#!/bin/bash
# performance_analyzer.sh - ç³»ç»Ÿæ€§èƒ½æ—¥å¿—åˆ†æ

MESSAGES_LOG="/var/log/messages"
SYSLOG="/var/log/syslog"

# é€‰æ‹©å¯ç”¨çš„ç³»ç»Ÿæ—¥å¿—æ–‡ä»¶
if [ -f "$MESSAGES_LOG" ]; then
    LOG_FILE="$MESSAGES_LOG"
elif [ -f "$SYSLOG" ]; then
    LOG_FILE="$SYSLOG"
else
    echo "ç³»ç»Ÿæ—¥å¿—æ–‡ä»¶ä¸å­˜åœ¨"
    exit 1
fi

echo "=== ç³»ç»Ÿæ€§èƒ½é—®é¢˜åˆ†æ ==="
echo "åˆ†ææ–‡ä»¶: $LOG_FILE"
echo ""

# å†…å­˜ä¸è¶³è­¦å‘Š
echo "=== å†…å­˜ä¸è¶³è­¦å‘Š ==="
grep -i "out of memory" "$LOG_FILE" | tail -5
echo ""

# ç£ç›˜I/Oé”™è¯¯
echo "=== ç£ç›˜I/Oé”™è¯¯ ==="
grep -i "i/o error" "$LOG_FILE" | tail -5
echo ""

# é«˜è´Ÿè½½è­¦å‘Š
echo "=== é«˜è´Ÿè½½è®°å½• ==="
grep -i "load average" "$LOG_FILE" | tail -10
echo ""

# è¿›ç¨‹å´©æºƒè®°å½•
echo "=== è¿›ç¨‹å´©æºƒè®°å½• ==="
grep -E "(segfault|killed)" "$LOG_FILE" | tail -10
echo ""

# ç½‘ç»œè¿æ¥é—®é¢˜
echo "=== ç½‘ç»œè¿æ¥é—®é¢˜ ==="
grep -E "(connection refused|timeout|unreachable)" "$LOG_FILE" | tail -10
```

---

## 10. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 10.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ

```
ğŸ”¸ æ—¥å¿—ç³»ç»Ÿï¼šLinuxç³»ç»Ÿçš„"é»‘åŒ£å­"ï¼Œè®°å½•ç³»ç»Ÿè¿è¡Œçš„æ‰€æœ‰é‡è¦äº‹ä»¶
ğŸ”¸ /var/log/ç›®å½•ï¼šç³»ç»Ÿæ—¥å¿—çš„é›†ä¸­å­˜æ”¾ä½ç½®ï¼ŒåŒ…å«å„ç§ç±»å‹çš„æ—¥å¿—æ–‡ä»¶
ğŸ”¸ dmesgï¼šæŸ¥çœ‹å†…æ ¸æ¶ˆæ¯çš„ä¸“é—¨å·¥å…·ï¼Œç¡¬ä»¶å’Œé©±åŠ¨é—®é¢˜çš„é¦–é€‰
ğŸ”¸ journalctlï¼šsystemdç¯å¢ƒä¸‹çš„ç»Ÿä¸€æ—¥å¿—æŸ¥çœ‹å·¥å…·ï¼ŒåŠŸèƒ½å¼ºå¤§
ğŸ”¸ tail -fï¼šå®æ—¶ç›‘æ§æ—¥å¿—å˜åŒ–çš„åŸºæœ¬å‘½ä»¤ï¼Œè¿ç»´å¿…å¤‡æŠ€èƒ½
ğŸ”¸ æ—¥å¿—è½®è½¬ï¼šé˜²æ­¢æ—¥å¿—æ–‡ä»¶è¿‡å¤§ï¼Œé€šè¿‡logrotateè‡ªåŠ¨ç®¡ç†
```

### 10.2 å…³é”®æŠ€èƒ½è¦ç‚¹


**ğŸ”¹ æ—¥å¿—æŸ¥çœ‹æŠ€èƒ½**
```bash
# åŸºç¡€æŸ¥çœ‹
tail -f /var/log/messages              # å®æ—¶ç›‘æ§
journalctl -u service.service -f       # ç›‘æ§ç‰¹å®šæœåŠ¡
dmesg | grep -i error                  # æŸ¥çœ‹å†…æ ¸é”™è¯¯

# æ—¶é—´è¿‡æ»¤
journalctl --since "1 hour ago"       # æœ€è¿‘ä¸€å°æ—¶
journalctl --since today --until now  # ä»Šå¤©çš„æ—¥å¿—

# çº§åˆ«è¿‡æ»¤
journalctl -p err                      # åªçœ‹é”™è¯¯çº§åˆ«
dmesg -l err,crit,alert,emerg         # å†…æ ¸é”™è¯¯è¿‡æ»¤
```

**ğŸ”¹ æ—¥å¿—åˆ†ææŠ€èƒ½**
```bash
# ç»Ÿè®¡åˆ†æ
grep "Failed password" /var/log/auth.log | wc -l    # ç»Ÿè®¡å¤±è´¥ç™»å½•
awk '{print $1}' access.log | sort | uniq -c        # IPè®¿é—®ç»Ÿè®¡
grep -E "error|fail" /var/log/messages | tail -20   # æŸ¥çœ‹æœ€è¿‘é”™è¯¯

# å®‰å…¨åˆ†æ
grep "sudo" /var/log/auth.log | grep -v "session"   # sudoä½¿ç”¨è®°å½•
awk '/Failed password/ {print $11}' /var/log/auth.log | sort | uniq -c  # æ”»å‡»IPç»Ÿè®¡
```

### 10.3 å®é™…åº”ç”¨ä»·å€¼


**ğŸ¯ æ•…éšœæ’æŸ¥æµç¨‹**
1. **ç¡®å®šé—®é¢˜æ—¶é—´** â†’ ä½¿ç”¨ `journalctl --since` ç¼©å°èŒƒå›´
2. **æŸ¥çœ‹ç³»ç»Ÿæ—¥å¿—** â†’ æ£€æŸ¥ `/var/log/messages` æˆ– `journalctl`
3. **æ£€æŸ¥æœåŠ¡æ—¥å¿—** â†’ ä½¿ç”¨ `journalctl -u service_name`
4. **æŸ¥çœ‹å†…æ ¸æ¶ˆæ¯** â†’ ä½¿ç”¨ `dmesg` æ£€æŸ¥ç¡¬ä»¶é—®é¢˜
5. **å®æ—¶ç›‘æ§** â†’ ä½¿ç”¨ `tail -f` è§‚å¯Ÿé—®é¢˜å¤ç°

**ğŸ”§ è¿ç»´ç›‘æ§ç­–ç•¥**
- **å®æ—¶ç›‘æ§**ï¼šå…³é”®æœåŠ¡çš„é”™è¯¯æ—¥å¿—å®æ—¶å‘Šè­¦
- **å®šæœŸåˆ†æ**ï¼šæ¯æ—¥/æ¯å‘¨ç”Ÿæˆæ—¥å¿—ç»Ÿè®¡æŠ¥å‘Š
- **å®‰å…¨å®¡è®¡**ï¼šç›‘æ§ç™»å½•å¤±è´¥ã€æƒé™å˜æ›´ç­‰å®‰å…¨äº‹ä»¶
- **æ€§èƒ½ç›‘æ§**ï¼šå…³æ³¨å†…å­˜ä¸è¶³ã€ç£ç›˜é”™è¯¯ç­‰æ€§èƒ½é—®é¢˜

**ğŸ’¡ æœ€ä½³å®è·µå»ºè®®**
```
ç›‘æ§é‡ç‚¹ï¼š
âœ… è®¤è¯æ—¥å¿— - å®‰å…¨å¨èƒæ£€æµ‹
âœ… ç³»ç»Ÿæ—¥å¿— - ç¡¬ä»¶å’Œç³»ç»Ÿé—®é¢˜  
âœ… åº”ç”¨æ—¥å¿— - ä¸šåŠ¡æœåŠ¡çŠ¶æ€
âœ… å†…æ ¸æ—¥å¿— - åº•å±‚ç¡¬ä»¶é—®é¢˜

å·¥å…·ç»„åˆï¼š
â€¢ å®æ—¶ç›‘æ§ï¼štail -f + grep
â€¢ å†å²æŸ¥è¯¢ï¼šjournalctl + æ—¶é—´è¿‡æ»¤  
â€¢ ç»Ÿè®¡åˆ†æï¼šawk + sort + uniq
â€¢ è‡ªåŠ¨åŒ–ï¼šshellè„šæœ¬ + cronå®šæ—¶ä»»åŠ¡
```

### 10.4 è¿›é˜¶å­¦ä¹ æ–¹å‘

- **rsyslogé…ç½®**ï¼šè‡ªå®šä¹‰æ—¥å¿—æ”¶é›†å’Œè½¬å‘è§„åˆ™
- **ELK Stack**ï¼šä¼ä¸šçº§æ—¥å¿—åˆ†æå¹³å°ï¼ˆElasticsearch + Logstash + Kibanaï¼‰
- **æ—¥å¿—èšåˆ**ï¼šå¤šæœåŠ¡å™¨æ—¥å¿—é›†ä¸­æ”¶é›†å’Œåˆ†æ
- **å‘Šè­¦ç³»ç»Ÿ**ï¼šåŸºäºæ—¥å¿—çš„è‡ªåŠ¨åŒ–å‘Šè­¦æœºåˆ¶

**æ ¸å¿ƒè®°å¿†è¦ç‚¹**ï¼š
- æ—¥å¿—æ˜¯æ’é”™çš„é‡è¦ä¾æ®ï¼Œè¦å…»æˆæŸ¥çœ‹æ—¥å¿—çš„ä¹ æƒ¯
- /var/log/æ˜¯æ—¥å¿—å®åº“ï¼Œmessageså’Œauth.logæ˜¯é‡ç‚¹
- dmesgçœ‹ç¡¬ä»¶ï¼Œjournalctlçœ‹æœåŠ¡ï¼Œtail -fçœ‹å®æ—¶
- è¿‡æ»¤å’Œæœç´¢æ˜¯æ—¥å¿—åˆ†æçš„æ ¸å¿ƒæŠ€èƒ½
- è‡ªåŠ¨åŒ–ç›‘æ§æ¯”äººå·¥æ£€æŸ¥æ›´å¯é é«˜æ•ˆ