---
title: 2ã€Alertmanageræ¶æ„
---
## ğŸ“š ç›®å½•


1. [Alertmanageræ¦‚è¿°](#1-Alertmanageræ¦‚è¿°)
2. [æ ¸å¿ƒç»„ä»¶æ¶æ„](#2-æ ¸å¿ƒç»„ä»¶æ¶æ„)
3. [å‘Šè­¦æ¥æ”¶ä¸å¤„ç†æµç¨‹](#3-å‘Šè­¦æ¥æ”¶ä¸å¤„ç†æµç¨‹)
4. [å‘Šè­¦çŠ¶æ€æµè½¬æœºåˆ¶](#4-å‘Šè­¦çŠ¶æ€æµè½¬æœºåˆ¶)
5. [é›†ç¾¤æ¨¡å¼éƒ¨ç½²](#5-é›†ç¾¤æ¨¡å¼éƒ¨ç½²)
6. [æ•°æ®æŒä¹…åŒ–ç­–ç•¥](#6-æ•°æ®æŒä¹…åŒ–ç­–ç•¥)
7. [é«˜å¯ç”¨é…ç½®](#7-é«˜å¯ç”¨é…ç½®)
8. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#8-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸš¨ Alertmanageræ¦‚è¿°



### 1.1 ä»€ä¹ˆæ˜¯Alertmanager



**ç®€å•ç†è§£**ï¼šAlertmanagerå°±åƒä¸€ä¸ª**æ™ºèƒ½çš„å‘Šè­¦ç®¡å®¶**ï¼Œä¸“é—¨è´Ÿè´£å¤„ç†Prometheuså‘æ¥çš„å‘Šè­¦ä¿¡æ¯ã€‚

```
ç”Ÿæ´»ä¸­çš„ä¾‹å­ï¼š
æ¶ˆé˜²æŠ¥è­¦ç³»ç»Ÿ = Prometheusï¼ˆå‘ç°ç«æƒ…ï¼‰
æ¶ˆé˜²è°ƒåº¦ä¸­å¿ƒ = Alertmanagerï¼ˆå¤„ç†æŠ¥è­¦ï¼Œè°ƒåº¦æ•‘æ´ï¼‰
æ¶ˆé˜²é˜Ÿå‘˜     = é€šçŸ¥æ¸ é“ï¼ˆé‚®ä»¶ã€çŸ­ä¿¡ã€ç”µè¯ï¼‰

Alertmanagerçš„ä½œç”¨ï¼š
- æ¥æ”¶å‘Šè­¦ï¼šæ”¶é›†æ¥è‡ªPrometheusçš„å‘Šè­¦
- å»é‡åˆå¹¶ï¼šç›¸åŒå‘Šè­¦ä¸é‡å¤å‘é€
- è·¯ç”±åˆ†å‘ï¼šæ ¹æ®è§„åˆ™å‘ç»™ä¸åŒçš„äºº
- é™é»˜ç®¡ç†ï¼šä¸´æ—¶å…³é—­æŸäº›å‘Šè­¦
- æŠ‘åˆ¶å¤„ç†ï¼šé«˜çº§å‘Šè­¦æ—¶å±è”½ä½çº§å‘Šè­¦
```

### 1.2 ä¸ºä»€ä¹ˆéœ€è¦Alertmanager



**æ ¸å¿ƒé—®é¢˜**ï¼šPrometheusåªè´Ÿè´£å‘ç°é—®é¢˜ï¼Œä½†ä¸çŸ¥é“è¯¥é€šçŸ¥è°ã€æ€ä¹ˆé€šçŸ¥

```
æ²¡æœ‰Alertmanagerçš„å›°æ‰°ï¼š
âŒ å‘Šè­¦ä¿¡æ¯åˆ†æ•£ï¼Œéš¾ä»¥ç»Ÿä¸€ç®¡ç†
âŒ ç›¸åŒé—®é¢˜é‡å¤å‘é€ï¼Œä¿¡æ¯è½°ç‚¸
âŒ æ— æ³•æ ¹æ®ä¸¥é‡ç¨‹åº¦åˆ†çº§å¤„ç†
âŒ æ— æ³•çµæ´»é…ç½®é€šçŸ¥æ–¹å¼
âŒ ç¼ºå°‘å‘Šè­¦æŠ‘åˆ¶å’Œé™é»˜åŠŸèƒ½

æœ‰äº†Alertmanagerçš„å¥½å¤„ï¼š
âœ… ç»Ÿä¸€çš„å‘Šè­¦ç®¡ç†ä¸­å¿ƒ
âœ… æ™ºèƒ½å»é‡å’Œåˆ†ç»„
âœ… çµæ´»çš„è·¯ç”±è§„åˆ™
âœ… å¤šç§é€šçŸ¥æ¸ é“
âœ… å®Œå–„çš„å‘Šè­¦ç”Ÿå‘½å‘¨æœŸç®¡ç†
```

### 1.3 Alertmanageråœ¨ç›‘æ§é“¾è·¯ä¸­çš„ä½ç½®



```
ç›‘æ§æ•°æ®æµå‘ï¼š
åº”ç”¨æœåŠ¡ â†’ Prometheus â†’ Alertmanager â†’ é€šçŸ¥æ¸ é“ â†’ è¿ç»´äººå‘˜
    â†“           â†“           â†“           â†“         â†“
  æš´éœ²æŒ‡æ ‡   é‡‡é›†&è§„åˆ™   å‘Šè­¦å¤„ç†   å‘é€é€šçŸ¥   å¤„ç†é—®é¢˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   åº”ç”¨æœåŠ¡   â”‚â”€â”€â”€â–¶â”‚ Prometheus  â”‚â”€â”€â”€â–¶â”‚Alertmanager â”‚
â”‚ (æš´éœ²æŒ‡æ ‡)   â”‚    â”‚ (é‡‡é›†&å‘Šè­¦)  â”‚    â”‚ (å‘Šè­¦å¤„ç†)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                           â”‚
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â–¼                  â–¼                  â–¼
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚  Email  â”‚      â”‚  é’‰é’‰   â”‚      â”‚ ä¼ä¸šå¾®ä¿¡ â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. ğŸ—ï¸ æ ¸å¿ƒç»„ä»¶æ¶æ„



### 2.1 Alertmanageræ•´ä½“æ¶æ„å›¾



```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Alertmanager                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚   HTTP API  â”‚  â”‚   Web UI    â”‚  â”‚   å‘Šè­¦æ¥æ”¶   â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                          â”‚                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                å‘Šè­¦å¤„ç†å¼•æ“                    â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚    â”‚
â”‚  â”‚  â”‚  è·¯ç”±å™¨  â”‚  â”‚ åˆ†ç»„å™¨   â”‚  â”‚ æŠ‘åˆ¶å™¨   â”‚        â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚    â”‚
â”‚  â”‚  â”‚ é™é»˜å™¨   â”‚  â”‚å»é‡å™¨   â”‚  â”‚ é€šçŸ¥å™¨   â”‚        â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                          â”‚                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚   å­˜å‚¨å±‚     â”‚  â”‚   é…ç½®ç®¡ç†   â”‚  â”‚   é›†ç¾¤é€šä¿¡   â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 æ ¸å¿ƒç»„ä»¶è¯¦è§£



#### ğŸ“¥ å‘Šè­¦æ¥æ”¶å™¨ï¼ˆAlert Receiverï¼‰



```
åŠŸèƒ½ï¼šæ¥æ”¶æ¥è‡ªPrometheusçš„å‘Šè­¦
ç‰¹ç‚¹ï¼š
- é€šè¿‡HTTP APIæ¥æ”¶å‘Šè­¦POSTè¯·æ±‚
- éªŒè¯å‘Šè­¦æ ¼å¼çš„åˆæ³•æ€§
- åˆæ­¥è§£æå‘Šè­¦æ ‡ç­¾å’Œæ³¨è§£
- å°†å‘Šè­¦ä¼ é€’ç»™å¤„ç†å¼•æ“

æ¥æ”¶çš„å‘Šè­¦æ ¼å¼ç¤ºä¾‹ï¼š
{
  "alerts": [
    {
      "status": "firing",
      "labels": {
        "alertname": "HighCPUUsage",
        "instance": "server1:9090",
        "severity": "warning"
      },
      "annotations": {
        "summary": "CPUä½¿ç”¨ç‡è¿‡é«˜",
        "description": "æœåŠ¡å™¨CPUä½¿ç”¨ç‡è¶…è¿‡80%"
      },
      "startsAt": "2025-09-21T10:30:00Z"
    }
  ]
}
```

#### ğŸ”€ è·¯ç”±å™¨ï¼ˆRouterï¼‰



```
åŠŸèƒ½ï¼šæ ¹æ®å‘Šè­¦æ ‡ç­¾å†³å®šå‘Šè­¦çš„å¤„ç†è·¯å¾„
å·¥ä½œåŸç†ï¼š
1. æ£€æŸ¥å‘Šè­¦æ ‡ç­¾
2. åŒ¹é…è·¯ç”±è§„åˆ™
3. å†³å®šå‘é€ç»™å“ªä¸ªæ¥æ”¶å™¨
4. è®¾ç½®åˆ†ç»„å’Œå»¶è¿Ÿå‚æ•°

è·¯ç”±å†³ç­–ç¤ºä¾‹ï¼š
å‘Šè­¦æ ‡ç­¾ï¼šseverity=critical â†’ ç«‹å³å‘é€ç»™å€¼ç­å·¥ç¨‹å¸ˆ
å‘Šè­¦æ ‡ç­¾ï¼šseverity=warning â†’ å»¶è¿Ÿ5åˆ†é’Ÿåå‘é€ç»™å¼€å‘å›¢é˜Ÿ
å‘Šè­¦æ ‡ç­¾ï¼šteam=database â†’ å‘é€ç»™æ•°æ®åº“å›¢é˜Ÿ
```

#### ğŸ“¦ åˆ†ç»„å™¨ï¼ˆGrouperï¼‰



```
åŠŸèƒ½ï¼šå°†ç›¸å…³å‘Šè­¦åˆå¹¶æˆç»„ï¼Œé¿å…å‘Šè­¦è½°ç‚¸
åˆ†ç»„ç­–ç•¥ï¼š
- æŒ‰ç›¸åŒçš„åˆ†ç»„æ ‡ç­¾ç»„åˆå‘Šè­¦
- åœ¨æŒ‡å®šæ—¶é—´çª—å£å†…æ”¶é›†å‘Šè­¦
- ä¸€æ¬¡æ€§å‘é€æ•´ç»„å‘Šè­¦

åˆ†ç»„ç¤ºä¾‹ï¼š
åŸå§‹å‘Šè­¦ï¼š
- æœåŠ¡å™¨A CPUå‘Šè­¦
- æœåŠ¡å™¨A å†…å­˜å‘Šè­¦  
- æœåŠ¡å™¨A ç£ç›˜å‘Šè­¦

åˆ†ç»„åï¼š
æœåŠ¡å™¨A ç»¼åˆå‘Šè­¦ï¼ˆåŒ…å«CPUã€å†…å­˜ã€ç£ç›˜é—®é¢˜ï¼‰
```

#### ğŸš« æŠ‘åˆ¶å™¨ï¼ˆInhibitorï¼‰



```
åŠŸèƒ½ï¼šæ ¹æ®æŠ‘åˆ¶è§„åˆ™å±è”½æ¬¡è¦å‘Šè­¦
åº”ç”¨åœºæ™¯ï¼š
- èŠ‚ç‚¹å®•æœºæ—¶ï¼ŒæŠ‘åˆ¶è¯¥èŠ‚ç‚¹ä¸Šçš„æœåŠ¡å‘Šè­¦
- ç½‘ç»œæ•…éšœæ—¶ï¼ŒæŠ‘åˆ¶ç½‘ç»œç›¸å…³çš„è¿æ¥å‘Šè­¦
- é«˜çº§åˆ«å‘Šè­¦è§¦å‘æ—¶ï¼ŒæŠ‘åˆ¶ä½çº§åˆ«ç›¸å…³å‘Šè­¦

æŠ‘åˆ¶ç¤ºä¾‹ï¼š
å½“è§¦å‘ "NodeDown" å‘Šè­¦æ—¶
â†“
æŠ‘åˆ¶åŒä¸€èŠ‚ç‚¹çš„ä»¥ä¸‹å‘Šè­¦ï¼š
- HighCPUUsage
- HighMemoryUsage  
- DiskSpaceWarning
- ServiceUnavailable
```

#### ğŸ”‡ é™é»˜å™¨ï¼ˆSilencerï¼‰



```
åŠŸèƒ½ï¼šä¸´æ—¶å±è”½æŒ‡å®šçš„å‘Šè­¦
ä½¿ç”¨åœºæ™¯ï¼š
- ç³»ç»Ÿç»´æŠ¤æœŸé—´å±è”½ç›¸å…³å‘Šè­¦
- å·²çŸ¥é—®é¢˜ä¿®å¤ä¸­ï¼Œæš‚æ—¶å±è”½
- æµ‹è¯•ç¯å¢ƒçš„å‘Šè­¦å±è”½

é™é»˜é…ç½®ç¤ºä¾‹ï¼š
é™é»˜è§„åˆ™ï¼šenvironment=test
æ—¶é—´èŒƒå›´ï¼š2å°æ—¶
æ•ˆæœï¼šæµ‹è¯•ç¯å¢ƒçš„æ‰€æœ‰å‘Šè­¦éƒ½ä¸ä¼šå‘é€
```

#### ğŸ“¤ é€šçŸ¥å™¨ï¼ˆNotifierï¼‰



```
åŠŸèƒ½ï¼šå°†å‘Šè­¦å‘é€åˆ°å„ç§é€šçŸ¥æ¸ é“
æ”¯æŒçš„é€šçŸ¥æ–¹å¼ï¼š
- Emailï¼šé‚®ä»¶é€šçŸ¥
- Webhookï¼šè‡ªå®šä¹‰HTTPå›è°ƒ
- Slackï¼šå›¢é˜Ÿåä½œå·¥å…·
- PagerDutyï¼šå€¼ç­ç®¡ç†å¹³å°
- é’‰é’‰ã€ä¼ä¸šå¾®ä¿¡ï¼šå›½å†…å¸¸ç”¨å·¥å…·

é€šçŸ¥æµç¨‹ï¼š
1. æ ¹æ®æ¥æ”¶å™¨é…ç½®é€‰æ‹©é€šçŸ¥æ–¹å¼
2. æ ¼å¼åŒ–å‘Šè­¦æ¶ˆæ¯
3. è°ƒç”¨ç›¸åº”çš„é€šçŸ¥API
4. è®°å½•å‘é€ç»“æœå’Œé‡è¯•
```

### 2.3 é…ç½®ç®¡ç†ç»„ä»¶



```
é…ç½®æ–‡ä»¶ç»“æ„ï¼š
alertmanager.yml
â”œâ”€â”€ globalï¼ˆå…¨å±€é…ç½®ï¼‰
â”œâ”€â”€ routeï¼ˆè·¯ç”±è§„åˆ™ï¼‰
â”œâ”€â”€ receiversï¼ˆæ¥æ”¶å™¨ï¼‰
â”œâ”€â”€ inhibit_rulesï¼ˆæŠ‘åˆ¶è§„åˆ™ï¼‰
â””â”€â”€ templatesï¼ˆæ¶ˆæ¯æ¨¡æ¿ï¼‰

é…ç½®çƒ­é‡è½½ï¼š
- æ”¯æŒä¸é‡å¯æœåŠ¡æ›´æ–°é…ç½®
- é€šè¿‡APIæˆ–ä¿¡å·è§¦å‘é‡è½½
- é…ç½®é”™è¯¯æ—¶ä¿æŒåŸæœ‰é…ç½®
```

---

## 3. ğŸ”„ å‘Šè­¦æ¥æ”¶ä¸å¤„ç†æµç¨‹



### 3.1 å®Œæ•´å¤„ç†æµç¨‹å›¾



```
Prometheus        Alertmanager å†…éƒ¨å¤„ç†æµç¨‹           é€šçŸ¥æ¸ é“
    â”‚                                                   â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
    â”œâ”€â–¶â”‚ 1. å‘Šè­¦æ¥æ”¶ (HTTP API)                  â”‚     â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
    â”‚           â”‚                                       â”‚
    â”‚           â–¼                                       â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
    â”‚  â”‚ 2. å‘Šè­¦éªŒè¯å’Œé¢„å¤„ç†                     â”‚     â”‚
    â”‚  â”‚   - æ£€æŸ¥å‘Šè­¦æ ¼å¼                        â”‚     â”‚
    â”‚  â”‚   - æ·»åŠ é»˜è®¤æ ‡ç­¾                        â”‚     â”‚
    â”‚  â”‚   - æ—¶é—´æˆ³å¤„ç†                          â”‚     â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
    â”‚           â”‚                                       â”‚
    â”‚           â–¼                                       â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
    â”‚  â”‚ 3. é™é»˜æ£€æŸ¥                             â”‚     â”‚
    â”‚  â”‚   - æ£€æŸ¥æ˜¯å¦åŒ¹é…é™é»˜è§„åˆ™                 â”‚     â”‚
    â”‚  â”‚   - é™é»˜æœŸé—´çš„å‘Šè­¦ç›´æ¥ä¸¢å¼ƒ               â”‚     â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
    â”‚           â”‚                                       â”‚
    â”‚           â–¼                                       â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
    â”‚  â”‚ 4. æŠ‘åˆ¶æ£€æŸ¥                             â”‚     â”‚
    â”‚  â”‚   - æ£€æŸ¥æ˜¯å¦è¢«å…¶ä»–å‘Šè­¦æŠ‘åˆ¶               â”‚     â”‚
    â”‚  â”‚   - è¢«æŠ‘åˆ¶çš„å‘Šè­¦æš‚åœå¤„ç†                 â”‚     â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
    â”‚           â”‚                                       â”‚
    â”‚           â–¼                                       â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
    â”‚  â”‚ 5. è·¯ç”±åŒ¹é…                             â”‚     â”‚
    â”‚  â”‚   - æ ¹æ®æ ‡ç­¾åŒ¹é…è·¯ç”±è§„åˆ™                 â”‚     â”‚
    â”‚  â”‚   - ç¡®å®šæ¥æ”¶å™¨å’Œå¤„ç†å‚æ•°                 â”‚     â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
    â”‚           â”‚                                       â”‚
    â”‚           â–¼                                       â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
    â”‚  â”‚ 6. å‘Šè­¦åˆ†ç»„                             â”‚     â”‚
    â”‚  â”‚   - æŒ‰åˆ†ç»„è§„åˆ™åˆå¹¶ç›¸å…³å‘Šè­¦               â”‚     â”‚
    â”‚  â”‚   - ç­‰å¾…åˆ†ç»„æ—¶é—´çª—å£                     â”‚     â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
    â”‚           â”‚                                       â”‚
    â”‚           â–¼                                       â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
    â”‚  â”‚ 7. å»é‡å¤„ç†                             â”‚     â”‚
    â”‚  â”‚   - æ£€æŸ¥æ˜¯å¦ä¸ºé‡å¤å‘Šè­¦                   â”‚     â”‚
    â”‚  â”‚   - æ›´æ–°ç°æœ‰å‘Šè­¦çš„æ—¶é—´æˆ³                 â”‚     â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
    â”‚           â”‚                                       â”‚
    â”‚           â–¼                                       â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
    â”‚  â”‚ 8. é€šçŸ¥å‘é€                             â”‚     â”œâ”€â–¶ Email
    â”‚  â”‚   - æ ¼å¼åŒ–å‘Šè­¦æ¶ˆæ¯                       â”‚     â”œâ”€â–¶ é’‰é’‰
    â”‚  â”‚   - è°ƒç”¨é€šçŸ¥API                         â”‚     â”œâ”€â–¶ ä¼ä¸šå¾®ä¿¡
    â”‚  â”‚   - å¤„ç†å‘é€å¤±è´¥é‡è¯•                     â”‚     â”œâ”€â–¶ Webhook
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â–¶ å…¶ä»–
```

### 3.2 å¤„ç†æµç¨‹è¯¦ç»†è¯´æ˜



#### ğŸ” æ­¥éª¤1-2ï¼šå‘Šè­¦æ¥æ”¶ä¸éªŒè¯



```
æ¥æ”¶å¤„ç†ï¼š
1. Prometheusé€šè¿‡HTTP POSTå‘é€å‘Šè­¦åˆ° /api/v1/alerts
2. AlertmanageréªŒè¯JSONæ ¼å¼æ˜¯å¦æ­£ç¡®
3. æ£€æŸ¥å¿…éœ€å­—æ®µï¼ˆalertnameã€statusç­‰ï¼‰
4. æ·»åŠ æ¥æ”¶æ—¶é—´æˆ³
5. è¡¥å……é»˜è®¤æ ‡ç­¾ï¼ˆå¦‚å®ä¾‹æ ‡ç­¾ï¼‰

éªŒè¯ç¤ºä¾‹ï¼š
âœ… æœ‰æ•ˆå‘Šè­¦ï¼šåŒ…å«alertnameå’Œstatus
âŒ æ— æ•ˆå‘Šè­¦ï¼šç¼ºå°‘å¿…éœ€å­—æ®µï¼Œç›´æ¥æ‹’ç»
```

#### ğŸ”‡ æ­¥éª¤3ï¼šé™é»˜æ£€æŸ¥



```
é™é»˜æœºåˆ¶ï¼š
ç›®çš„ï¼šä¸´æ—¶å±è”½ä¸éœ€è¦å¤„ç†çš„å‘Šè­¦
æ£€æŸ¥æ–¹å¼ï¼šå‘Šè­¦æ ‡ç­¾æ˜¯å¦åŒ¹é…é™é»˜è§„åˆ™
å¤„ç†ç»“æœï¼šåŒ¹é…çš„å‘Šè­¦ç›´æ¥ä¸¢å¼ƒï¼Œä¸è¿›å…¥åç»­æµç¨‹

é™é»˜åœºæ™¯ç¤ºä¾‹ï¼š
ç»´æŠ¤æœŸé—´ï¼šsilence environment=production AND service=database
æµ‹è¯•å‘Šè­¦ï¼šsilence alertname=TestAlert
ç‰¹å®šæœåŠ¡ï¼šsilence instance=~"test-.*"
```

#### ğŸš« æ­¥éª¤4ï¼šæŠ‘åˆ¶æ£€æŸ¥



```
æŠ‘åˆ¶é€»è¾‘ï¼š
ç›®çš„ï¼šé¿å…å› ä¸€ä¸ªæ ¹æœ¬é—®é¢˜äº§ç”Ÿå¤§é‡æ¬¡è¦å‘Šè­¦
æ£€æŸ¥æ–¹å¼ï¼šæ ¹æ®æŠ‘åˆ¶è§„åˆ™åˆ¤æ–­æ˜¯å¦è¢«é«˜ä¼˜å…ˆçº§å‘Šè­¦æŠ‘åˆ¶
å¤„ç†ç»“æœï¼šè¢«æŠ‘åˆ¶çš„å‘Šè­¦æš‚åœå‘é€ï¼Œä½†ä¿ç•™åœ¨å†…å­˜ä¸­

æŠ‘åˆ¶ç¤ºä¾‹ï¼š
é«˜çº§å‘Šè­¦ï¼šNodeDown (èŠ‚ç‚¹å®•æœº)
è¢«æŠ‘åˆ¶çš„å‘Šè­¦ï¼š
- è¯¥èŠ‚ç‚¹çš„CPUå‘Šè­¦
- è¯¥èŠ‚ç‚¹çš„å†…å­˜å‘Šè­¦
- è¯¥èŠ‚ç‚¹ä¸ŠæœåŠ¡çš„å¯ç”¨æ€§å‘Šè­¦
```

#### ğŸ›¤ï¸ æ­¥éª¤5ï¼šè·¯ç”±åŒ¹é…



```
è·¯ç”±å†³ç­–ï¼š
1. ä»æ ¹è·¯ç”±å¼€å§‹åŒ¹é…
2. æŒ‰é¡ºåºæ£€æŸ¥å­è·¯ç”±è§„åˆ™
3. ä½¿ç”¨ç¬¬ä¸€ä¸ªåŒ¹é…çš„è·¯ç”±
4. ç¡®å®šæ¥æ”¶å™¨å’Œç›¸å…³å‚æ•°

è·¯ç”±åŒ¹é…ç¤ºä¾‹ï¼š
å‘Šè­¦æ ‡ç­¾ï¼šseverity=critical, team=backend
åŒ¹é…è·¯ç”±ï¼šcritical_alerts
åˆ†é…ç»™ï¼šoncall_engineer
å‚æ•°ï¼šç«‹å³å‘é€ï¼Œä¸åˆ†ç»„
```

#### ğŸ“¦ æ­¥éª¤6ï¼šå‘Šè­¦åˆ†ç»„



```
åˆ†ç»„æœºåˆ¶ï¼š
ç›®çš„ï¼šé¿å…çŸ­æ—¶é—´å†…å‘é€å¤§é‡ç›¸ä¼¼å‘Šè­¦
åˆ†ç»„ä¾æ®ï¼šgroup_byå‚æ•°æŒ‡å®šçš„æ ‡ç­¾
æ—¶é—´çª—å£ï¼šgroup_waitï¼ˆç­‰å¾…æ—¶é—´ï¼‰å’Œgroup_intervalï¼ˆå‘é€é—´éš”ï¼‰

åˆ†ç»„ç¤ºä¾‹ï¼š
group_by: ['cluster', 'service']
å‘Šè­¦1ï¼šcluster=prod, service=web â†’ åˆ†ç»„A
å‘Šè­¦2ï¼šcluster=prod, service=web â†’ åˆ†ç»„Aï¼ˆåˆå¹¶ï¼‰
å‘Šè­¦3ï¼šcluster=test, service=api â†’ åˆ†ç»„Bï¼ˆæ–°åˆ†ç»„ï¼‰
```

#### ğŸ”„ æ­¥éª¤7ï¼šå»é‡å¤„ç†



```
å»é‡é€»è¾‘ï¼š
ç›¸åŒæŒ‡çº¹ï¼šå…·æœ‰ç›¸åŒæ ‡ç­¾é›†åˆçš„å‘Šè­¦
å¤„ç†æ–¹å¼ï¼š
- æ–°å‘Šè­¦ï¼šåˆ›å»ºæ–°çš„å‘Šè­¦è®°å½•
- é‡å¤å‘Šè­¦ï¼šæ›´æ–°ç°æœ‰å‘Šè­¦çš„æœ€åæ¥æ”¶æ—¶é—´
- å·²è§£å†³ï¼šæ ‡è®°å‘Šè­¦çŠ¶æ€ä¸ºresolved

æŒ‡çº¹ç”Ÿæˆï¼š
alertname="HighCPU" + instance="web-01" â†’ æŒ‡çº¹: abc123
ç›¸åŒæŒ‡çº¹çš„å‘Šè­¦è§†ä¸ºåŒä¸€ä¸ªå‘Šè­¦çš„é‡å¤
```

#### ğŸ“¤ æ­¥éª¤8ï¼šé€šçŸ¥å‘é€



```
å‘é€æµç¨‹ï¼š
1. æ ¹æ®æ¥æ”¶å™¨é…ç½®é€‰æ‹©é€šçŸ¥æ–¹å¼
2. ä½¿ç”¨æ¨¡æ¿æ¸²æŸ“å‘Šè­¦æ¶ˆæ¯
3. è°ƒç”¨ç›¸åº”çš„é€šçŸ¥API
4. è®°å½•å‘é€ç»“æœ
5. å¤±è´¥æ—¶æŒ‰é‡è¯•ç­–ç•¥é‡æ–°å‘é€

é‡è¯•æœºåˆ¶ï¼š
åˆå§‹å»¶è¿Ÿï¼š30ç§’
æœ€å¤§é‡è¯•ï¼š3æ¬¡
é€€é¿ç­–ç•¥ï¼šæŒ‡æ•°é€€é¿ï¼ˆ30s â†’ 1min â†’ 2minï¼‰
```

---

## 4. ğŸ”„ å‘Šè­¦çŠ¶æ€æµè½¬æœºåˆ¶



### 4.1 å‘Šè­¦çŠ¶æ€ç±»å‹



```
Alertmanagerä¸­çš„å‘Šè­¦çŠ¶æ€ï¼š

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    æ¡ä»¶æ»¡è¶³    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   inactive  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶  â”‚   firing    â”‚
â”‚  (æœªè§¦å‘)    â”‚               â”‚  (è§¦å‘ä¸­)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â”‚
                               æ¡ä»¶ä¸æ»¡è¶³
                                     â”‚
                                     â–¼
                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                              â”‚  resolved   â”‚
                              â”‚  (å·²è§£å†³)    â”‚
                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

çŠ¶æ€è¯´æ˜ï¼š
â€¢ inactiveï¼šå‘Šè­¦è§„åˆ™æœªæ»¡è¶³è§¦å‘æ¡ä»¶
â€¢ firingï¼šå‘Šè­¦è§„åˆ™æ»¡è¶³æ¡ä»¶ï¼Œæ­£åœ¨è§¦å‘
â€¢ resolvedï¼šä¹‹å‰è§¦å‘çš„å‘Šè­¦æ¡ä»¶å·²ä¸æ»¡è¶³
```

### 4.2 çŠ¶æ€æµè½¬è¯¦è§£



#### ğŸ”´ FiringçŠ¶æ€ï¼ˆè§¦å‘ä¸­ï¼‰



```
è¿›å…¥æ¡ä»¶ï¼š
- Prometheusè§„åˆ™è¡¨è¾¾å¼è¿”å›ç»“æœ > 0
- æŒç»­æ—¶é—´è¶…è¿‡è§„åˆ™ä¸­çš„foræ—¶é—´
- å‘Šè­¦è¢«å‘é€åˆ°Alertmanager

çŠ¶æ€ç‰¹ç‚¹ï¼š
- å‘Šè­¦å¤„äºæ´»è·ƒçŠ¶æ€
- æŒç»­å‘Alertmanagerå‘é€
- å¯èƒ½é‡å¤å‘é€é€šçŸ¥ï¼ˆæ ¹æ®repeat_intervalï¼‰

FiringçŠ¶æ€ç¤ºä¾‹ï¼š
è§„åˆ™ï¼šCPUä½¿ç”¨ç‡ > 80% æŒç»­5åˆ†é’Ÿ
å½“å‰ï¼šCPUä½¿ç”¨ç‡ = 85%ï¼ŒæŒç»­6åˆ†é’Ÿ
çŠ¶æ€ï¼šfiring
è¡Œä¸ºï¼šæ¯éš”repeat_intervalæ—¶é—´é‡æ–°å‘é€é€šçŸ¥
```

#### ğŸŸ¢ ResolvedçŠ¶æ€ï¼ˆå·²è§£å†³ï¼‰



```
è¿›å…¥æ¡ä»¶ï¼š
- å‘Šè­¦æ¡ä»¶ä¸å†æ»¡è¶³
- Prometheuså‘é€resolvedçŠ¶æ€çš„å‘Šè­¦
- æˆ–è€…è¶…è¿‡resolve_timeoutæ—¶é—´

çŠ¶æ€ç‰¹ç‚¹ï¼š
- å‘Šè­¦é—®é¢˜å·²è§£å†³
- é€šå¸¸å‘é€è§£å†³é€šçŸ¥
- ä»æ´»è·ƒå‘Šè­¦åˆ—è¡¨ä¸­ç§»é™¤

ResolvedçŠ¶æ€ç¤ºä¾‹ï¼š
ä¹‹å‰ï¼šCPUä½¿ç”¨ç‡ = 85% â†’ firingçŠ¶æ€
ç°åœ¨ï¼šCPUä½¿ç”¨ç‡ = 60% â†’ resolvedçŠ¶æ€
è¡Œä¸ºï¼šå‘é€"CPUä½¿ç”¨ç‡å·²æ¢å¤æ­£å¸¸"é€šçŸ¥
```

#### â° è‡ªåŠ¨è§£å†³æœºåˆ¶



```
resolve_timeouté…ç½®ï¼š
ç›®çš„ï¼šå¤„ç†å‘Šè­¦çŠ¶æ€ä¸ä¸€è‡´çš„æƒ…å†µ
æœºåˆ¶ï¼šå¦‚æœfiringå‘Šè­¦åœ¨æŒ‡å®šæ—¶é—´å†…æ²¡æœ‰æ›´æ–°ï¼Œè‡ªåŠ¨æ ‡è®°ä¸ºresolved
é»˜è®¤å€¼ï¼š5åˆ†é’Ÿ

è‡ªåŠ¨è§£å†³åœºæ™¯ï¼š
1. PrometheusæœåŠ¡é‡å¯ï¼Œä¸¢å¤±å‘Šè­¦çŠ¶æ€
2. ç½‘ç»œé—®é¢˜å¯¼è‡´å‘Šè­¦æ›´æ–°å¤±è´¥
3. å‘Šè­¦è§„åˆ™è¢«åˆ é™¤ä½†å‘Šè­¦ä»åœ¨Alertmanagerä¸­

é…ç½®ç¤ºä¾‹ï¼š
global:
  resolve_timeout: 10m  # 10åˆ†é’Ÿå†…æ— æ›´æ–°åˆ™è‡ªåŠ¨è§£å†³
```

### 4.3 çŠ¶æ€åœ¨Web UIä¸­çš„å±•ç¤º



```
Webç•Œé¢çŠ¶æ€æ˜¾ç¤ºï¼š

æ´»è·ƒå‘Šè­¦é¡µé¢ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Alert Name    â”‚ Status â”‚ Started   â”‚ Labels â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ HighCPUUsage  â”‚ ğŸ”´firingâ”‚ 2h ago   â”‚ web-01 â”‚
â”‚ DiskFull      â”‚ ğŸ”´firingâ”‚ 30m ago  â”‚ db-01  â”‚
â”‚ ServiceDown   â”‚ ğŸŸ¡pendingâ”‚ 2m ago   â”‚ api-01 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

çŠ¶æ€å›¾æ ‡å«ä¹‰ï¼š
ğŸ”´ firingï¼šæ­£åœ¨è§¦å‘çš„å‘Šè­¦
ğŸŸ¡ pendingï¼šç­‰å¾…è§¦å‘çš„å‘Šè­¦ï¼ˆforæ—¶é—´æœªæ»¡ï¼‰
ğŸŸ¢ resolvedï¼šå·²è§£å†³çš„å‘Šè­¦ï¼ˆå†å²è®°å½•ä¸­ï¼‰
```

---

## 5. ğŸ¢ é›†ç¾¤æ¨¡å¼éƒ¨ç½²



### 5.1 ä¸ºä»€ä¹ˆéœ€è¦é›†ç¾¤æ¨¡å¼



```
å•èŠ‚ç‚¹çš„é—®é¢˜ï¼š
âŒ å•ç‚¹æ•…éšœï¼šAlertmanagerå®•æœºå¯¼è‡´å‘Šè­¦æœåŠ¡ä¸­æ–­
âŒ æ€§èƒ½ç“¶é¢ˆï¼šå¤§é‡å‘Šè­¦æ—¶å•èŠ‚ç‚¹å¤„ç†èƒ½åŠ›æœ‰é™
âŒ ç»´æŠ¤å›°éš¾ï¼šå‡çº§ç»´æŠ¤æ—¶æœåŠ¡å®Œå…¨ä¸å¯ç”¨

é›†ç¾¤æ¨¡å¼çš„ä¼˜åŠ¿ï¼š
âœ… é«˜å¯ç”¨ï¼šå¤šèŠ‚ç‚¹å†—ä½™ï¼Œå•èŠ‚ç‚¹æ•…éšœä¸å½±å“æœåŠ¡
âœ… è´Ÿè½½åˆ†æ‹…ï¼šå‘Šè­¦å¤„ç†è´Ÿè½½åœ¨å¤šèŠ‚ç‚¹é—´åˆ†æ‹…
âœ… æ»šåŠ¨å‡çº§ï¼šå¯é€ä¸ªèŠ‚ç‚¹å‡çº§ï¼ŒæœåŠ¡ä¸ä¸­æ–­
âœ… æ•°æ®åŒæ­¥ï¼šå‘Šè­¦çŠ¶æ€åœ¨é›†ç¾¤é—´ä¿æŒä¸€è‡´
```

### 5.2 é›†ç¾¤æ¶æ„è®¾è®¡



```
Alertmanageré›†ç¾¤æ¶æ„ï¼š

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    è´Ÿè½½å‡è¡¡å™¨                            â”‚
â”‚               (Nginx/HAProxy)                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚               â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚    Alertmanager-1        â”‚ â”‚ â”‚    Alertmanager-2        â”‚
    â”‚                          â”‚ â”‚ â”‚                          â”‚
    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
    â”‚ â”‚å‘Šè­¦å¤„ç† â”‚ â”‚ Web UI  â”‚  â”‚ â”‚ â”‚ â”‚å‘Šè­¦å¤„ç† â”‚ â”‚ Web UI  â”‚  â”‚
    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
    â”‚                          â”‚ â”‚ â”‚                          â”‚
    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
    â”‚ â”‚é›†ç¾¤é€šä¿¡ â”‚ â”‚æœ¬åœ°å­˜å‚¨ â”‚  â”‚ â”‚ â”‚ â”‚é›†ç¾¤é€šä¿¡ â”‚ â”‚æœ¬åœ°å­˜å‚¨ â”‚  â”‚
    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚               â”‚
                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                  â”‚                       â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
                â”‚    Alertmanager-3            â”‚         â”‚
                â”‚                              â”‚         â”‚
                â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚         â”‚
                â”‚ â”‚å‘Šè­¦å¤„ç† â”‚ â”‚ Web UI  â”‚      â”‚         â”‚
                â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚         â”‚
                â”‚                              â”‚         â”‚
                â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚         â”‚
                â”‚ â”‚é›†ç¾¤é€šä¿¡ â”‚ â”‚æœ¬åœ°å­˜å‚¨ â”‚      â”‚         â”‚
                â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚         â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
                                                         â”‚
      â”Œâ”€â”€â”€â”€â”€ é›†ç¾¤é€šä¿¡ (Gossip Protocol) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â”‚  èŠ‚ç‚¹å‘ç°å’ŒçŠ¶æ€åŒæ­¥ï¼š
      â”‚  â€¢ è‡ªåŠ¨å‘ç°é›†ç¾¤ä¸­çš„å…¶ä»–èŠ‚ç‚¹
      â”‚  â€¢ åŒæ­¥å‘Šè­¦çŠ¶æ€å’Œé™é»˜ä¿¡æ¯
      â”‚  â€¢ é€‰ä¸¾é€šçŸ¥å‘é€è€…ï¼ˆé¿å…é‡å¤é€šçŸ¥ï¼‰
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
```

### 5.3 é›†ç¾¤é…ç½®è¯´æ˜



#### ğŸ”§ åŸºæœ¬é›†ç¾¤é…ç½®



```yaml
# alertmanager.yml é›†ç¾¤é…ç½®ç¤ºä¾‹

global:
#  # é›†ç¾¤åŸºç¡€é…ç½®
  cluster:
#    # å½“å‰èŠ‚ç‚¹ç›‘å¬åœ°å€
    listen-address: "0.0.0.0:9094"
#    # å¯¹å¤–å¹¿æ’­åœ°å€
    advertise-address: "192.168.1.10:9094"
#    # å…¶ä»–é›†ç¾¤èŠ‚ç‚¹
    peers:
      - "192.168.1.11:9094"
      - "192.168.1.12:9094"
#    # é›†ç¾¤é€šä¿¡å¯†é’¥
    auth-key: "your-secret-key"
#    # Gossipé—´éš”æ—¶é—´
    gossip-interval: 200ms
#    # èŠ‚ç‚¹è¶…æ—¶æ—¶é—´
    push-pull-interval: 60s

# å¯åŠ¨å‘½ä»¤ç¤ºä¾‹ï¼š

# èŠ‚ç‚¹1ï¼š

./alertmanager \
  --config.file=alertmanager.yml \
  --cluster.listen-address=0.0.0.0:9094 \
  --cluster.advertise-address=192.168.1.10:9094 \
  --cluster.peer=192.168.1.11:9094 \
  --cluster.peer=192.168.1.12:9094

# èŠ‚ç‚¹2ï¼š

./alertmanager \
  --config.file=alertmanager.yml \
  --cluster.listen-address=0.0.0.0:9094 \
  --cluster.advertise-address=192.168.1.11:9094 \
  --cluster.peer=192.168.1.10:9094 \
  --cluster.peer=192.168.1.12:9094
```

#### ğŸ”„ Gossipåè®®å·¥ä½œåŸç†



```
Gossipåè®®ç‰¹ç‚¹ï¼š
â€¢ å»ä¸­å¿ƒåŒ–ï¼šæ²¡æœ‰ä¸»èŠ‚ç‚¹ï¼Œæ‰€æœ‰èŠ‚ç‚¹å¹³ç­‰
â€¢ æœ€ç»ˆä¸€è‡´æ€§ï¼šæ•°æ®æœ€ç»ˆä¼šåœ¨æ‰€æœ‰èŠ‚ç‚¹é—´åŒæ­¥
â€¢ å®¹é”™æ€§å¼ºï¼šéƒ¨åˆ†èŠ‚ç‚¹æ•…éšœä¸å½±å“æ•´ä½“åŠŸèƒ½

Gossipé€šä¿¡è¿‡ç¨‹ï¼š
1. èŠ‚ç‚¹Aæ›´æ–°å‘Šè­¦çŠ¶æ€
2. Aéšæœºé€‰æ‹©èŠ‚ç‚¹Bï¼Œå‘é€çŠ¶æ€æ›´æ–°
3. Bæ¥æ”¶æ›´æ–°ï¼Œå†éšæœºé€‰æ‹©èŠ‚ç‚¹Cä¼ æ’­
4. é€æ­¥ä¼ æ’­ç›´åˆ°æ‰€æœ‰èŠ‚ç‚¹éƒ½æ”¶åˆ°æ›´æ–°

æ—¶é—´å¤æ‚åº¦ï¼šO(log N)ï¼ŒNä¸ºèŠ‚ç‚¹æ•°é‡
æ”¶æ•›æ—¶é—´ï¼šé€šå¸¸å‡ ç§’å†…å®ŒæˆåŒæ­¥
```

#### ğŸ“Š é›†ç¾¤çŠ¶æ€ç›‘æ§



```yaml
# é›†ç¾¤çŠ¶æ€æ£€æŸ¥API

GET /api/v1/status

# è¿”å›ç¤ºä¾‹ï¼š

{
  "cluster": {
    "status": "ready",
    "peers": [
      {
        "name": "01H7ZQJ7QDXB2Z9XYJ8K5R4N2M",
        "address": "192.168.1.10:9094",
        "status": "alive"
      },
      {
        "name": "01H7ZQJ8QEXC3A9XYK9L6S5O3N", 
        "address": "192.168.1.11:9094",
        "status": "alive"
      }
    ],
    "name": "01H7ZQJ9QFXD4B9XYL0M7T6P4O"
  },
  "versionInfo": {
    "version": "0.25.0",
    "buildUser": "root@hostname",
    "buildDate": "20230601-12:34:56"
  }
}
```

### 5.4 é›†ç¾¤éƒ¨ç½²æœ€ä½³å®è·µ



```
éƒ¨ç½²å»ºè®®ï¼š

ğŸ”¸ èŠ‚ç‚¹æ•°é‡ï¼š
æ¨èå¥‡æ•°ä¸ªèŠ‚ç‚¹ï¼ˆ3ã€5ã€7ä¸ªï¼‰
æœ€å°‘3ä¸ªèŠ‚ç‚¹ä¿è¯é«˜å¯ç”¨
ç”Ÿäº§ç¯å¢ƒå»ºè®®3-5ä¸ªèŠ‚ç‚¹

ğŸ”¸ ç½‘ç»œè¦æ±‚ï¼š
èŠ‚ç‚¹é—´ç½‘ç»œå»¶è¿Ÿ < 10ms
ç¨³å®šçš„ç½‘ç»œè¿æ¥
é˜²ç«å¢™å¼€æ”¾é›†ç¾¤ç«¯å£ï¼ˆé»˜è®¤9094ï¼‰

ğŸ”¸ èµ„æºåˆ†é…ï¼š
æ¯ä¸ªèŠ‚ç‚¹ï¼š2CPUã€4GBå†…å­˜
å­˜å‚¨ï¼š10GB SSDï¼ˆç”¨äºæœ¬åœ°çŠ¶æ€ï¼‰
ç½‘ç»œï¼š1Gbpsç½‘å¡

ğŸ”¸ æ•…éšœå¤„ç†ï¼š
è®¾ç½®åˆç†çš„è¶…æ—¶æ—¶é—´
é…ç½®å¥åº·æ£€æŸ¥
å‡†å¤‡èŠ‚ç‚¹æ›¿æ¢æ–¹æ¡ˆ
```

---

## 6. ğŸ’¾ æ•°æ®æŒä¹…åŒ–ç­–ç•¥



### 6.1 Alertmanagerå­˜å‚¨çš„æ•°æ®ç±»å‹



```
éœ€è¦æŒä¹…åŒ–çš„æ•°æ®ï¼š

ğŸ“Š å‘Šè­¦çŠ¶æ€æ•°æ®ï¼š
â€¢ å½“å‰æ´»è·ƒçš„å‘Šè­¦ä¿¡æ¯
â€¢ å‘Šè­¦çš„å¼€å§‹æ—¶é—´å’Œæ›´æ–°æ—¶é—´
â€¢ å‘Šè­¦çš„æ ‡ç­¾å’Œæ³¨è§£ä¿¡æ¯
â€¢ å‘Šè­¦çš„åˆ†ç»„ä¿¡æ¯

ğŸ”‡ é™é»˜ä¿¡æ¯ï¼š
â€¢ é™é»˜è§„åˆ™çš„åŒ¹é…æ¡ä»¶
â€¢ é™é»˜çš„å¼€å§‹å’Œç»“æŸæ—¶é—´
â€¢ é™é»˜çš„åˆ›å»ºè€…ä¿¡æ¯
â€¢ é™é»˜çš„å¤‡æ³¨è¯´æ˜

ğŸ“ˆ é€šçŸ¥çŠ¶æ€ï¼š
â€¢ å·²å‘é€çš„é€šçŸ¥è®°å½•
â€¢ é€šçŸ¥å‘é€æ—¶é—´
â€¢ é€šçŸ¥å‘é€çŠ¶æ€ï¼ˆæˆåŠŸ/å¤±è´¥ï¼‰
â€¢ ä¸‹æ¬¡é‡è¯•æ—¶é—´

âš™ï¸ é…ç½®ä¿¡æ¯ï¼š
â€¢ å½“å‰ç”Ÿæ•ˆçš„é…ç½®æ–‡ä»¶
â€¢ é…ç½®çš„ç‰ˆæœ¬å·
â€¢ é…ç½®çš„æ›´æ–°æ—¶é—´
```

### 6.2 å­˜å‚¨æ¶æ„è®¾è®¡



```
Alertmanagerå­˜å‚¨æ¶æ„ï¼š

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    å†…å­˜å­˜å‚¨å±‚                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚   å‘Šè­¦ç¼“å­˜   â”‚  â”‚   é™é»˜ç¼“å­˜   â”‚  â”‚  é€šçŸ¥é˜Ÿåˆ—   â”‚     â”‚
â”‚  â”‚ (æ´»è·ƒå‘Šè­¦)   â”‚  â”‚ (é™é»˜è§„åˆ™)   â”‚  â”‚ (å¾…å‘é€)    â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚ å®šæœŸæŒä¹…åŒ–
                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   æŒä¹…åŒ–å­˜å‚¨å±‚                           â”‚
â”‚                                                         â”‚
â”‚  æœ¬åœ°æ–‡ä»¶å­˜å‚¨ (é»˜è®¤)ï¼š                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ $STORAGE_PATH/                                  â”‚   â”‚
â”‚  â”‚ â”œâ”€â”€ notifications      (é€šçŸ¥çŠ¶æ€)               â”‚   â”‚
â”‚  â”‚ â”œâ”€â”€ silences          (é™é»˜ä¿¡æ¯)                â”‚   â”‚
â”‚  â”‚ â””â”€â”€ nflog             (é€šçŸ¥æ—¥å¿—)                â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                         â”‚
â”‚  å¯é€‰å¤–éƒ¨å­˜å‚¨ï¼š                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚    Redis    â”‚  â”‚   Consul    â”‚  â”‚   etcd      â”‚     â”‚
â”‚  â”‚  (åˆ†å¸ƒå¼)    â”‚  â”‚  (æœåŠ¡å‘ç°) â”‚  â”‚  (å¼ºä¸€è‡´æ€§) â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6.3 æœ¬åœ°æ–‡ä»¶å­˜å‚¨è¯¦è§£



#### ğŸ“ å­˜å‚¨ç›®å½•ç»“æ„



```bash
# é»˜è®¤å­˜å‚¨è·¯å¾„ï¼š./data/ æˆ– /var/lib/alertmanager/

alertmanager-data/
â”œâ”€â”€ notifications           # é€šçŸ¥çŠ¶æ€æ–‡ä»¶
â”‚   â”œâ”€â”€ 000001.log         # æŒ‰åºå·å‘½åçš„æ—¥å¿—æ–‡ä»¶
â”‚   â”œâ”€â”€ 000002.log
â”‚   â””â”€â”€ 000003.log
â”œâ”€â”€ silences               # é™é»˜ä¿¡æ¯æ–‡ä»¶
â”‚   â”œâ”€â”€ 000001.log
â”‚   â””â”€â”€ 000002.log
â””â”€â”€ nflog                  # é€šçŸ¥å‘é€æ—¥å¿—
    â”œâ”€â”€ 000001.log
    â””â”€â”€ 000002.log

# æ–‡ä»¶ç‰¹ç‚¹ï¼š

â€¢ ä½¿ç”¨WALï¼ˆWrite-Ahead Logï¼‰æ ¼å¼
â€¢ æ–‡ä»¶æŒ‰å¤§å°åˆ†å‰²ï¼Œé»˜è®¤æ¯ä¸ªæ–‡ä»¶64MB
â€¢ è‡ªåŠ¨æ¸…ç†è¿‡æœŸæ•°æ®
â€¢ æ”¯æŒå¿«ç…§å’Œå‹ç¼©
```

#### ğŸ”§ å­˜å‚¨é…ç½®å‚æ•°



```yaml
# åœ¨å¯åŠ¨å‘½ä»¤ä¸­é…ç½®å­˜å‚¨é€‰é¡¹

./alertmanager \
  --storage.path="/var/lib/alertmanager" \
  --data.retention="720h" \
  --data.maintenance-interval="15m"

# å‚æ•°è¯´æ˜ï¼š

storage.path: æ•°æ®å­˜å‚¨ç›®å½•è·¯å¾„
data.retention: æ•°æ®ä¿ç•™æ—¶é—´ï¼ˆé»˜è®¤30å¤©ï¼‰
data.maintenance-interval: æ•°æ®æ¸…ç†é—´éš”æ—¶é—´

# å­˜å‚¨ç›¸å…³çš„é…ç½®ï¼š

log.level: info          # æ—¥å¿—çº§åˆ«
log.format: logfmt       # æ—¥å¿—æ ¼å¼
```

### 6.4 æ•°æ®æ¢å¤å’Œå¤‡ä»½



#### ğŸ’¾ å¤‡ä»½ç­–ç•¥



```bash
# å®šæœŸå¤‡ä»½è„šæœ¬ç¤ºä¾‹

#!/bin/bash

BACKUP_DIR="/backup/alertmanager"
DATA_DIR="/var/lib/alertmanager"
DATE=$(date +%Y%m%d_%H%M%S)

# åˆ›å»ºå¤‡ä»½ç›®å½•

mkdir -p $BACKUP_DIR/$DATE

# åœæ­¢æœåŠ¡ï¼ˆå¯é€‰ï¼Œä¸ºäº†æ•°æ®ä¸€è‡´æ€§ï¼‰

systemctl stop alertmanager

# å¤åˆ¶æ•°æ®æ–‡ä»¶

cp -r $DATA_DIR/* $BACKUP_DIR/$DATE/

# å‹ç¼©å¤‡ä»½

tar -czf $BACKUP_DIR/alertmanager_$DATE.tar.gz -C $BACKUP_DIR $DATE

# é‡å¯æœåŠ¡

systemctl start alertmanager

# æ¸…ç†7å¤©å‰çš„å¤‡ä»½

find $BACKUP_DIR -name "*.tar.gz" -mtime +7 -delete

# å®šæ—¶ä»»åŠ¡é…ç½® (crontab)

# æ¯å¤©å‡Œæ™¨2ç‚¹æ‰§è¡Œå¤‡ä»½

0 2 * * * /path/to/backup-script.sh
```

#### ğŸ”„ æ•°æ®æ¢å¤



```bash
# æ•°æ®æ¢å¤æ­¥éª¤


1. åœæ­¢AlertmanageræœåŠ¡
systemctl stop alertmanager

2. å¤‡ä»½å½“å‰æ•°æ®ï¼ˆä¿é™©èµ·è§ï¼‰
mv /var/lib/alertmanager /var/lib/alertmanager.backup

3. è§£å‹æ¢å¤æ•°æ®
tar -xzf /backup/alertmanager_20250921_020000.tar.gz -C /var/lib/
mv /var/lib/20250921_020000 /var/lib/alertmanager

4. è°ƒæ•´æƒé™
chown -R alertmanager:alertmanager /var/lib/alertmanager

5. å¯åŠ¨æœåŠ¡
systemctl start alertmanager

6. éªŒè¯æ¢å¤ç»“æœ
curl http://localhost:9093/api/v1/alerts
```

### 6.5 æ•°æ®æ¸…ç†å’Œç»´æŠ¤



```yaml
# æ•°æ®æ¸…ç†æœºåˆ¶


è‡ªåŠ¨æ¸…ç†ï¼š
è§¦å‘æ¡ä»¶ï¼š
- å®šæœŸæ¸…ç†ï¼ˆmaintenance-intervalï¼‰
- æ•°æ®é‡è¶…è¿‡é™åˆ¶
- æ–‡ä»¶è¿‡æœŸï¼ˆretentionæ—¶é—´ï¼‰

æ¸…ç†å†…å®¹ï¼š
- å·²è§£å†³è¶…è¿‡ä¿ç•™æœŸçš„å‘Šè­¦
- è¿‡æœŸçš„é™é»˜è§„åˆ™
- è¿‡æœŸçš„é€šçŸ¥æ—¥å¿—

æ¸…ç†é…ç½®ï¼š
data.retention: "720h"        # 30å¤©
data.maintenance-interval: "15m"  # 15åˆ†é’Ÿæ£€æŸ¥ä¸€æ¬¡

æ‰‹åŠ¨æ¸…ç†ï¼š
# æ¸…ç†å‘½ä»¤ï¼ˆè°¨æ…ä½¿ç”¨ï¼‰

./amtool config routes test    # æµ‹è¯•é…ç½®
./amtool silence expire --all  # æ¸…ç†æ‰€æœ‰é™é»˜
```

---

## 7. ğŸ”’ é«˜å¯ç”¨é…ç½®



### 7.1 é«˜å¯ç”¨æ¶æ„è®¾è®¡



```
é«˜å¯ç”¨Alertmanagerå®Œæ•´æ¶æ„ï¼š

                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                          â”‚   å¤–éƒ¨è´Ÿè½½å‡è¡¡   â”‚
                          â”‚  (VIP/DNSè½®è¯¢)  â”‚
                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚              â”‚              â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚   HAProxy/Nginx   â”‚    â”‚    â”‚   HAProxy/Nginx   â”‚
          â”‚     (ä¸»èŠ‚ç‚¹)       â”‚    â”‚    â”‚     (å¤‡èŠ‚ç‚¹)       â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚              â”‚              â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”
            â”‚       â”‚              â”‚              â”‚       â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”   â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”      â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”
    â”‚Alertmgr-1 â”‚   â”‚      â”‚Alertmgr-2 â”‚      â”‚   Alertmgr-3  â”‚
    â”‚   Zone-A  â”‚   â”‚      â”‚   Zone-B  â”‚      â”‚    Zone-C     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚       â”‚              â”‚                      â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚              â”‚
                    â”‚   Gossipç½‘ç»œ  â”‚
                    â”‚   é›†ç¾¤é€šä¿¡    â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

æ¶æ„ç‰¹ç‚¹ï¼š
ğŸ”¸ å¤šå±‚è´Ÿè½½å‡è¡¡ï¼šé¿å…å•ç‚¹æ•…éšœ
ğŸ”¸ è·¨åŒºåŸŸéƒ¨ç½²ï¼šæé«˜å®¹ç¾èƒ½åŠ›  
ğŸ”¸ è‡ªåŠ¨æ•…éšœåˆ‡æ¢ï¼šæ— éœ€äººå·¥å¹²é¢„
ğŸ”¸ æ•°æ®åŒæ­¥ï¼šé›†ç¾¤çŠ¶æ€å®æ—¶åŒæ­¥
```

### 7.2 è´Ÿè½½å‡è¡¡é…ç½®



#### ğŸ”§ HAProxyé…ç½®ç¤ºä¾‹



```haproxy
# /etc/haproxy/haproxy.cfg

global
    daemon
    maxconn 4096
    log stdout local0

defaults
    mode http
    timeout connect 5000ms
    timeout client 50000ms
    timeout server 50000ms
    option httplog

# Alertmanageråç«¯æœåŠ¡å™¨ç»„

backend alertmanager_backend
    balance roundrobin
    option httpchk GET /api/v1/status
    
#    # å¥åº·æ£€æŸ¥é…ç½®
    http-check expect status 200
    
#    # åç«¯æœåŠ¡å™¨åˆ—è¡¨
    server alertmgr-1 192.168.1.10:9093 check inter 5s fall 3 rise 2
    server alertmgr-2 192.168.1.11:9093 check inter 5s fall 3 rise 2  
    server alertmgr-3 192.168.1.12:9093 check inter 5s fall 3 rise 2

# å‰ç«¯ç›‘å¬é…ç½®

frontend alertmanager_frontend
    bind *:9093
    default_backend alertmanager_backend
    
#    # å¯ç”¨çŠ¶æ€é¡µé¢
    stats enable
    stats uri /haproxy-stats
    stats refresh 30s

# å¥åº·æ£€æŸ¥è¯´æ˜ï¼š

# inter 5s: æ¯5ç§’æ£€æŸ¥ä¸€æ¬¡

# fall 3: è¿ç»­3æ¬¡å¤±è´¥æ ‡è®°ä¸ºä¸‹çº¿

# rise 2: è¿ç»­2æ¬¡æˆåŠŸæ ‡è®°ä¸ºä¸Šçº¿

```

#### ğŸŒ Nginxé…ç½®ç¤ºä¾‹



```nginx
# /etc/nginx/sites-available/alertmanager

upstream alertmanager_upstream {
#    # è´Ÿè½½å‡è¡¡æ–¹å¼
    least_conn;
    
#    # åç«¯æœåŠ¡å™¨
    server 192.168.1.10:9093 max_fails=3 fail_timeout=30s;
    server 192.168.1.11:9093 max_fails=3 fail_timeout=30s;
    server 192.168.1.12:9093 max_fails=3 fail_timeout=30s;
    
#    # å¥åº·æ£€æŸ¥ï¼ˆéœ€è¦nginx-plusæˆ–ç¬¬ä¸‰æ–¹æ¨¡å—ï¼‰
#    # health_check interval=5s fails=3 passes=2;
}

server {
    listen 9093;
    server_name alertmanager.example.com;
    
#    # ä»£ç†é…ç½®
    location / {
        proxy_pass http://alertmanager_upstream;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        
#        # è¶…æ—¶è®¾ç½®
        proxy_connect_timeout 5s;
        proxy_send_timeout 10s;
        proxy_read_timeout 10s;
    }
    
#    # å¥åº·æ£€æŸ¥é¡µé¢
    location /nginx-health {
        access_log off;
        return 200 "healthy\n";
        add_header Content-Type text/plain;
    }
}
```

### 7.3 æ•…éšœæ£€æµ‹å’Œåˆ‡æ¢



#### ğŸ” å¥åº·æ£€æŸ¥æœºåˆ¶



```yaml
# å¤šå±‚å¥åº·æ£€æŸ¥ä½“ç³»


åº”ç”¨å±‚æ£€æŸ¥ï¼š
URL: GET /api/v1/status
æœŸæœ›çŠ¶æ€ç : 200
æ£€æŸ¥å†…å®¹: æœåŠ¡çŠ¶æ€ã€é›†ç¾¤çŠ¶æ€
é¢‘ç‡: æ¯5ç§’

ç³»ç»Ÿå±‚æ£€æŸ¥ï¼š
æ£€æŸ¥é¡¹ç›®:
- TCPç«¯å£è¿æ¥æ€§
- è¿›ç¨‹å­˜åœ¨æ€§  
- ç³»ç»Ÿèµ„æºä½¿ç”¨ç‡
- ç£ç›˜ç©ºé—´
é¢‘ç‡: æ¯10ç§’

ä¸šåŠ¡å±‚æ£€æŸ¥ï¼š
æ£€æŸ¥é¡¹ç›®:
- å‘Šè­¦å¤„ç†å»¶è¿Ÿ
- é€šçŸ¥å‘é€æˆåŠŸç‡
- é›†ç¾¤èŠ‚ç‚¹çŠ¶æ€
- é…ç½®æ–‡ä»¶æœ‰æ•ˆæ€§
é¢‘ç‡: æ¯30ç§’
```

#### âš¡ è‡ªåŠ¨æ•…éšœåˆ‡æ¢



```bash
# æ•…éšœåˆ‡æ¢è„šæœ¬ç¤ºä¾‹

#!/bin/bash


ALERTMGR_NODES=("192.168.1.10:9093" "192.168.1.11:9093" "192.168.1.12:9093")
HEALTHY_NODES=()

# å¥åº·æ£€æŸ¥å‡½æ•°

check_health() {
    local node=$1
    if curl -s -f "http://$node/api/v1/status" >/dev/null 2>&1; then
        return 0
    else
        return 1
    fi
}

# æ£€æŸ¥æ‰€æœ‰èŠ‚ç‚¹

for node in "${ALERTMGR_NODES[@]}"; do
    if check_health "$node"; then
        HEALTHY_NODES+=("$node")
        echo "èŠ‚ç‚¹ $node å¥åº·"
    else
        echo "èŠ‚ç‚¹ $node æ•…éšœï¼Œä»è´Ÿè½½å‡è¡¡ä¸­ç§»é™¤"
#        # ä»HAProxyåç«¯ç§»é™¤æ•…éšœèŠ‚ç‚¹
        echo "disable server alertmanager_backend/alertmgr-$(echo $node | cut -d: -f1 | cut -d. -f4)" | \
            socat stdio /var/lib/haproxy/stats
    fi
done

# æ£€æŸ¥å¥åº·èŠ‚ç‚¹æ•°é‡

if [ ${#HEALTHY_NODES[@]} -eq 0 ]; then
    echo "æ‰€æœ‰AlertmanagerèŠ‚ç‚¹éƒ½æ•…éšœï¼è§¦å‘ç´§æ€¥é€šçŸ¥"
#    # å‘é€ç´§æ€¥é€šçŸ¥ç»™è¿ç»´å›¢é˜Ÿ
elif [ ${#HEALTHY_NODES[@]} -lt 2 ]; then
    echo "å¯ç”¨èŠ‚ç‚¹ä¸è¶³ï¼Œå»ºè®®ç«‹å³æ£€æŸ¥æ•…éšœèŠ‚ç‚¹"
#    # å‘é€é¢„è­¦é€šçŸ¥
fi
```

### 7.4 ç¾éš¾æ¢å¤æ–¹æ¡ˆ



#### ğŸ”„ æ•°æ®ä¸­å¿ƒçº§æ•…éšœ



```yaml
ç¾éš¾æ¢å¤ç­–ç•¥ï¼š

å¤šæ´»éƒ¨ç½²ï¼š
ä¸»æ•°æ®ä¸­å¿ƒ: åŒ—äº¬ (2ä¸ªèŠ‚ç‚¹)
å¤‡æ•°æ®ä¸­å¿ƒ: ä¸Šæµ· (1ä¸ªèŠ‚ç‚¹)  
å®¹ç¾æ•°æ®ä¸­å¿ƒ: æ·±åœ³ (1ä¸ªèŠ‚ç‚¹)

æ•°æ®åŒæ­¥ï¼š
æ–¹å¼: Gossipåè®®è‡ªåŠ¨åŒæ­¥
å»¶è¿Ÿ: < 1ç§’
ä¸€è‡´æ€§: æœ€ç»ˆä¸€è‡´æ€§

æ•…éšœåˆ‡æ¢ï¼š
DNSåˆ‡æ¢: è‡ªåŠ¨æˆ–æ‰‹åŠ¨åˆ‡æ¢
åˆ‡æ¢æ—¶é—´: < 30ç§’
æ•°æ®ä¸¢å¤±: æœ€å¤š1åˆ†é’Ÿå‘Šè­¦æ•°æ®

æ¢å¤æµç¨‹ï¼š
1. æ£€æµ‹ä¸»æ•°æ®ä¸­å¿ƒæ•…éšœ
2. è‡ªåŠ¨åˆ‡æ¢åˆ°å¤‡æ•°æ®ä¸­å¿ƒ
3. é€šçŸ¥è¿ç»´å›¢é˜Ÿ
4. ä¸»æ•°æ®ä¸­å¿ƒæ¢å¤åé‡æ–°åŒæ­¥
```

#### ğŸ“‹ æ¢å¤éªŒè¯æ¸…å•



```markdown
# ç¾éš¾æ¢å¤éªŒè¯æ¸…å•



## ğŸ” æœåŠ¡å¯ç”¨æ€§éªŒè¯


- [ ] Web UIå¯ä»¥æ­£å¸¸è®¿é—®
- [ ] APIæ¥å£å“åº”æ­£å¸¸
- [ ] é›†ç¾¤çŠ¶æ€æ˜¾ç¤ºå¥åº·
- [ ] å‘Šè­¦è§„åˆ™æ­£ç¡®åŠ è½½

## ğŸ“Š æ•°æ®å®Œæ•´æ€§éªŒè¯  


- [ ] æ´»è·ƒå‘Šè­¦æ•°æ®æ­£ç¡®
- [ ] é™é»˜è§„åˆ™å®Œæ•´æ¢å¤
- [ ] é€šçŸ¥é…ç½®æ­£ç¡®åŠ è½½
- [ ] å†å²æ•°æ®å¯æŸ¥è¯¢

## ğŸ”” åŠŸèƒ½æ€§éªŒè¯


- [ ] æ–°å‘Šè­¦å¯ä»¥æ­£å¸¸æ¥æ”¶
- [ ] é€šçŸ¥å¯ä»¥æ­£å¸¸å‘é€
- [ ] é™é»˜åŠŸèƒ½æ­£å¸¸å·¥ä½œ
- [ ] æŠ‘åˆ¶è§„åˆ™æ­£ç¡®ç”Ÿæ•ˆ

## ğŸ¯ æ€§èƒ½éªŒè¯


- [ ] å‘Šè­¦å¤„ç†å»¶è¿Ÿæ­£å¸¸
- [ ] é›†ç¾¤åŒæ­¥å»¶è¿Ÿæ­£å¸¸  
- [ ] èµ„æºä½¿ç”¨ç‡æ­£å¸¸
- [ ] é€šçŸ¥å‘é€æˆåŠŸç‡æ­£å¸¸
```

---

## 8. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“



### 8.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ



```
ğŸ”¸ Alertmanageræœ¬è´¨ï¼šæ™ºèƒ½çš„å‘Šè­¦ç®¡å®¶ï¼Œè´Ÿè´£å‘Šè­¦çš„æ¥æ”¶ã€å¤„ç†å’Œå‘é€
ğŸ”¸ æ ¸å¿ƒç»„ä»¶ï¼šæ¥æ”¶å™¨ã€è·¯ç”±å™¨ã€åˆ†ç»„å™¨ã€æŠ‘åˆ¶å™¨ã€é™é»˜å™¨ã€é€šçŸ¥å™¨
ğŸ”¸ å¤„ç†æµç¨‹ï¼šæ¥æ”¶â†’éªŒè¯â†’é™é»˜æ£€æŸ¥â†’æŠ‘åˆ¶æ£€æŸ¥â†’è·¯ç”±â†’åˆ†ç»„â†’å»é‡â†’é€šçŸ¥
ğŸ”¸ çŠ¶æ€æµè½¬ï¼šinactive â†’ firing â†’ resolved ä¸‰ç§çŠ¶æ€
ğŸ”¸ é›†ç¾¤æ¨¡å¼ï¼šåŸºäºGossipåè®®çš„å»ä¸­å¿ƒåŒ–é›†ç¾¤ï¼Œæä¾›é«˜å¯ç”¨æ€§
ğŸ”¸ æ•°æ®æŒä¹…åŒ–ï¼šæœ¬åœ°WALå­˜å‚¨ï¼Œæ”¯æŒè‡ªåŠ¨æ¸…ç†å’Œæ¢å¤
ğŸ”¸ é«˜å¯ç”¨é…ç½®ï¼šå¤šå±‚è´Ÿè½½å‡è¡¡ + æ•…éšœæ£€æµ‹ + è‡ªåŠ¨åˆ‡æ¢
```

### 8.2 å…³é”®ç†è§£è¦ç‚¹



**ğŸ”¹ ä¸ºä»€ä¹ˆéœ€è¦å‘Šè­¦åˆ†ç»„**
```
é—®é¢˜ï¼šçŸ­æ—¶é—´å†…å¤§é‡ç›¸ä¼¼å‘Šè­¦ä¼šé€ æˆ"å‘Šè­¦é£æš´"
è§£å†³ï¼šæŒ‰ç›¸å…³æ€§åˆ†ç»„ï¼Œæ‰¹é‡å‘é€
å¥½å¤„ï¼š
- å‡å°‘é€šçŸ¥æ•°é‡ï¼Œé¿å…ä¿¡æ¯è½°ç‚¸
- æä¾›é—®é¢˜çš„å…¨å±€è§†å›¾
- é™ä½å¤„ç†å¤æ‚åº¦
```

**ğŸ”¹ æŠ‘åˆ¶å’Œé™é»˜çš„åŒºåˆ«**
```
æŠ‘åˆ¶ (Inhibition)ï¼š
- è‡ªåŠ¨è§¦å‘ï¼ŒåŸºäºå‘Šè­¦å…³è”æ€§
- ä¸´æ—¶æ€§ï¼Œé«˜çº§å‘Šè­¦è§£å†³åè‡ªåŠ¨æ¢å¤
- ä¾‹ï¼šèŠ‚ç‚¹å®•æœºæ—¶æŠ‘åˆ¶è¯¥èŠ‚ç‚¹çš„æœåŠ¡å‘Šè­¦

é™é»˜ (Silence)ï¼š
- æ‰‹åŠ¨é…ç½®ï¼ŒåŸºäºæ ‡ç­¾åŒ¹é…
- æŒç»­ä¸€æ®µæ—¶é—´ï¼Œéœ€è¦æ‰‹åŠ¨ç®¡ç†
- ä¾‹ï¼šç»´æŠ¤æœŸé—´å±è”½ç›¸å…³å‘Šè­¦
```

**ğŸ”¹ é›†ç¾¤æ¨¡å¼çš„æ ¸å¿ƒä»·å€¼**
```
ä¸ä»…ä»…æ˜¯é«˜å¯ç”¨ï¼š
- é¿å…å•ç‚¹æ•…éšœ
- æä¾›è´Ÿè½½åˆ†æ‹…èƒ½åŠ›
- ä¿è¯å‘Šè­¦å¤„ç†çš„è¿ç»­æ€§
- æ”¯æŒæ»šåŠ¨å‡çº§å’Œç»´æŠ¤

å…³é”®æŠ€æœ¯ï¼š
- Gossipåè®®ï¼šå»ä¸­å¿ƒåŒ–é€šä¿¡
- æœ€ç»ˆä¸€è‡´æ€§ï¼šä¿è¯æ•°æ®åŒæ­¥
- é€‰ä¸¾æœºåˆ¶ï¼šé¿å…é‡å¤é€šçŸ¥
```

### 8.3 å®é™…åº”ç”¨ä»·å€¼



**ğŸ¯ ç”Ÿäº§ç¯å¢ƒæœ€ä½³å®è·µ**
- **æ¶æ„è®¾è®¡**ï¼šè‡³å°‘3èŠ‚ç‚¹é›†ç¾¤ï¼Œè·¨æœºæˆ¿éƒ¨ç½²
- **æ€§èƒ½è°ƒä¼˜**ï¼šåˆç†è®¾ç½®åˆ†ç»„æ—¶é—´å’Œé‡è¯•ç­–ç•¥
- **ç›‘æ§è¿ç»´**ï¼šç›‘æ§Alertmanagerè‡ªèº«çš„å¥åº·çŠ¶æ€
- **å®¹ç¾è§„åˆ’**ï¼šåˆ¶å®šè¯¦ç»†çš„æ•…éšœæ¢å¤æµç¨‹

**ğŸ”§ è¿ç»´ç®¡ç†è¦ç‚¹**
- **é…ç½®ç®¡ç†**ï¼šç‰ˆæœ¬åŒ–ç®¡ç†é…ç½®æ–‡ä»¶ï¼Œæ”¯æŒå›æ»š
- **æƒé™æ§åˆ¶**ï¼šä¸åŒå›¢é˜Ÿä½¿ç”¨ä¸åŒçš„è·¯ç”±å’Œæ¥æ”¶å™¨
- **æˆæœ¬æ§åˆ¶**ï¼šåˆç†é…ç½®é€šçŸ¥é¢‘ç‡ï¼Œé¿å…è¿‡åº¦é€šçŸ¥
- **æ•ˆæœè¯„ä¼°**ï¼šå®šæœŸè¯„ä¼°å‘Šè­¦çš„æœ‰æ•ˆæ€§å’ŒåŠæ—¶æ€§

**ğŸ“ˆ æŒç»­ä¼˜åŒ–æ–¹å‘**
- **å‘Šè­¦è´¨é‡**ï¼šå‡å°‘è¯¯æŠ¥ï¼Œæé«˜å‘Šè­¦çš„å‡†ç¡®æ€§
- **å“åº”æ—¶é—´**ï¼šä¼˜åŒ–å¤„ç†æµç¨‹ï¼Œç¼©çŸ­æ•…éšœå“åº”æ—¶é—´
- **ç”¨æˆ·ä½“éªŒ**ï¼šæ”¹å–„é€šçŸ¥æ ¼å¼ï¼Œæä¾›æ›´å¤šä¸Šä¸‹æ–‡ä¿¡æ¯
- **è‡ªåŠ¨åŒ–ç¨‹åº¦**ï¼šé›†æˆè‡ªåŠ¨ä¿®å¤æœºåˆ¶ï¼Œå‡å°‘äººå·¥å¹²é¢„

**æ ¸å¿ƒè®°å¿†å£è¯€**ï¼š
- å‘Šè­¦ç®¡å®¶å¾ˆæ™ºèƒ½ï¼Œæ¥æ”¶å¤„ç†å†å‘é€
- åˆ†ç»„å»é‡é˜²è½°ç‚¸ï¼ŒæŠ‘åˆ¶é™é»˜æœ‰åŒºåˆ«  
- é›†ç¾¤éƒ¨ç½²ä¿å¯é ï¼ŒGossipåè®®æ¥åŒæ­¥
- é«˜å¯ç”¨æ€§æ˜¯å…³é”®ï¼Œç›‘æ§è¿ç»´ä¸èƒ½ç¼º