---
title: 1ã€JDBCé›†æˆæ“ä½œ
---
## ğŸ“š ç›®å½•

1. [JDBCåŸºç¡€æ¦‚å¿µä¸ç†è§£](#1-jdbcåŸºç¡€æ¦‚å¿µä¸ç†è§£)
2. [æ•°æ®åº“è¿æ¥ç®¡ç†](#2-æ•°æ®åº“è¿æ¥ç®¡ç†)
3. [æ•°æ®åº“è¿æ¥æ± é…ç½®](#3-æ•°æ®åº“è¿æ¥æ± é…ç½®)
4. [PreparedStatementè¯¦è§£](#4-preparedstatementè¯¦è§£)
5. [ResultSetç»“æœå¤„ç†](#5-resultsetç»“æœå¤„ç†)
6. [äº‹åŠ¡æ§åˆ¶ç®¡ç†](#6-äº‹åŠ¡æ§åˆ¶ç®¡ç†)
7. [å¼‚å¸¸å¤„ç†æœºåˆ¶](#7-å¼‚å¸¸å¤„ç†æœºåˆ¶)
8. [Servletä¸JDBCç»¼åˆå®æˆ˜](#8-servletä¸jdbcç»¼åˆå®æˆ˜)
9. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#9-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ’¡ JDBCåŸºç¡€æ¦‚å¿µä¸ç†è§£


### 1.1 ä»€ä¹ˆæ˜¯JDBC


**ğŸ”¸ ç®€å•ç†è§£JDBC**
```
JDBC = Java Database Connectivity
ç¿»è¯‘ï¼šJavaæ•°æ®åº“è¿æ¥æŠ€æœ¯

å°±åƒç°å®ä¸­çš„ä¾‹å­ï¼š
ä½ æƒ³ç»™æœ‹å‹æ‰“ç”µè¯ â†’ éœ€è¦ç”µè¯çº¿
Javaç¨‹åºæƒ³è®¿é—®æ•°æ®åº“ â†’ éœ€è¦JDBC

JDBCçš„ä½œç”¨ï¼š
è®©Javaç¨‹åºèƒ½å¤Ÿå’Œå„ç§æ•°æ®åº“"å¯¹è¯"
```

**ğŸ’­ ä¸ºä»€ä¹ˆéœ€è¦JDBCï¼Ÿ**

æƒ³è±¡ä¸€ä¸‹è¿™æ ·çš„åœºæ™¯ï¼š
- ä½ çš„ç½‘ç«™è¦å­˜å‚¨ç”¨æˆ·ä¿¡æ¯
- ä½ çš„ç¨‹åºè¦æŸ¥è¯¢å•†å“æ•°æ®  
- ä½ çš„ç³»ç»Ÿè¦è®°å½•æ“ä½œæ—¥å¿—

è¿™äº›æ•°æ®éƒ½æ”¾åœ¨æ•°æ®åº“é‡Œï¼Œè€ŒJavaç¨‹åºæœ¬èº«æ— æ³•ç›´æ¥è®¿é—®æ•°æ®åº“ï¼Œå°±åƒä½ ä¸èƒ½ç›´æ¥ç”¨æ‰‹å»æ‘¸ç”µè§†é‡Œçš„ç”»é¢ä¸€æ ·ã€‚JDBCå°±æ˜¯è¿™ä¸ª"æ¡¥æ¢"ï¼

### 1.2 JDBCçš„å·¥ä½œåŸç†


```
ç®€åŒ–ç†è§£JDBCå·¥ä½œæµç¨‹ï¼š

ç¬¬1æ­¥ï¼šå»ºç«‹è¿æ¥ï¼ˆå°±åƒæ‹¨é€šç”µè¯ï¼‰
Javaç¨‹åº â†’ JDBCé©±åŠ¨ â†’ æ•°æ®åº“

ç¬¬2æ­¥ï¼šå‘é€æŒ‡ä»¤ï¼ˆå°±åƒè¯´è¯ï¼‰
Javaç¨‹åºå‘é€SQL â†’ æ•°æ®åº“æ‰§è¡Œ

ç¬¬3æ­¥ï¼šè·å¾—ç»“æœï¼ˆå°±åƒå¬å›è¯ï¼‰
æ•°æ®åº“è¿”å›ç»“æœ â†’ Javaç¨‹åºæ¥æ”¶

ç¬¬4æ­¥ï¼šæ–­å¼€è¿æ¥ï¼ˆå°±åƒæŒ‚ç”µè¯ï¼‰
å…³é—­è¿æ¥ï¼Œé‡Šæ”¾èµ„æº
```

**ğŸ”§ JDBCæ ¸å¿ƒç»„ä»¶**
```
Driver Managerï¼ˆé©±åŠ¨ç®¡ç†å™¨ï¼‰ï¼š
- ä½œç”¨ï¼šç®¡ç†å„ç§æ•°æ®åº“é©±åŠ¨
- é€šä¿—ç†è§£ï¼šåƒç”µè¯æ€»æœºï¼Œå¸®ä½ æ‰¾åˆ°æ­£ç¡®çš„"çº¿è·¯"

Connectionï¼ˆè¿æ¥å¯¹è±¡ï¼‰ï¼š
- ä½œç”¨ï¼šä»£è¡¨ä¸æ•°æ®åº“çš„ä¸€ä¸ªè¿æ¥
- é€šä¿—ç†è§£ï¼šå°±æ˜¯é‚£æ ¹"ç”µè¯çº¿"

Statementï¼ˆè¯­å¥å¯¹è±¡ï¼‰ï¼š
- ä½œç”¨ï¼šç”¨æ¥æ‰§è¡ŒSQLè¯­å¥
- é€šä¿—ç†è§£ï¼šä½ è¦è¯´çš„"è¯"

ResultSetï¼ˆç»“æœé›†ï¼‰ï¼š
- ä½œç”¨ï¼šä¿å­˜æŸ¥è¯¢è¿”å›çš„æ•°æ®
- é€šä¿—ç†è§£ï¼šå¯¹æ–¹å›ç­”ä½ çš„"å†…å®¹"
```

---

## 2. ğŸ”— æ•°æ®åº“è¿æ¥ç®¡ç†


### 2.1 ä¼ ç»Ÿè¿æ¥æ–¹å¼


**ğŸ¯ æœ€åŸºæœ¬çš„è¿æ¥æ­¥éª¤**

ç¬¬ä¸€æ­¥ï¼šåŠ è½½æ•°æ®åº“é©±åŠ¨
```java
// å°±åƒå®‰è£…ç”µè¯è½¯ä»¶ä¸€æ ·ï¼Œå‘Šè¯‰Java"æˆ‘è¦ç”¨MySQLæ•°æ®åº“"
Class.forName("com.mysql.cj.jdbc.Driver");
```

ç¬¬äºŒæ­¥ï¼šå»ºç«‹è¿æ¥
```java
// å°±åƒæ‹¨æ‰“ç”µè¯å·ç ä¸€æ ·
String url = "jdbc:mysql://localhost:3306/student_db";
String username = "root";
String password = "123456";

Connection conn = DriverManager.getConnection(url, username, password);
```

**ğŸ’¡ è¿æ¥å­—ç¬¦ä¸²è¯¦è§£**
```
jdbc:mysql://localhost:3306/student_db
  â”‚      â”‚        â”‚       â”‚      â”‚
  â”‚      â”‚        â”‚       â”‚      â””â”€â”€ æ•°æ®åº“åç§°
  â”‚      â”‚        â”‚       â””â”€â”€ ç«¯å£å·(MySQLé»˜è®¤3306)
  â”‚      â”‚        â””â”€â”€ æœåŠ¡å™¨åœ°å€(localhostè¡¨ç¤ºæœ¬æœº)
  â”‚      â””â”€â”€ æ•°æ®åº“ç±»å‹(MySQL)
  â””â”€â”€ åè®®åç§°(å›ºå®šå†™æ³•)

é€šä¿—ç†è§£ï¼šè¿™å°±åƒå†™é‚®å¯„åœ°å€
- åè®®ï¼šç”¨ä»€ä¹ˆæ–¹å¼å¯„é€ï¼ˆjdbcï¼‰
- æ•°æ®åº“ç±»å‹ï¼šå¯„åˆ°ä»€ä¹ˆç±»å‹çš„åœ°æ–¹ï¼ˆMySQLï¼‰  
- æœåŠ¡å™¨ï¼šå…·ä½“åœ°å€åœ¨å“ªé‡Œï¼ˆlocalhostï¼‰
- ç«¯å£ï¼šå…·ä½“é—¨ç‰Œå·ï¼ˆ3306ï¼‰
- æ•°æ®åº“åï¼šæ‰¾å“ªä¸ªæˆ¿é—´ï¼ˆstudent_dbï¼‰
```

### 2.2 è¿æ¥ç®¡ç†çš„æœ€ä½³å®è·µ


**âš ï¸ è¿æ¥ç®¡ç†çš„é‡è¦æ€§**

è¿æ¥å°±åƒæ°´é¾™å¤´ï¼Œç”¨å®Œå¿…é¡»å…³é—­ï¼š
- ä¸å…³é—­ â†’ èµ„æºæµªè´¹ï¼ˆåƒæ°´é¾™å¤´ä¸€ç›´å¼€ç€ï¼‰
- è¿æ¥è¿‡å¤š â†’ æ•°æ®åº“å´©æºƒï¼ˆåƒæ°´ç®¡çˆ†è£‚ï¼‰

**ğŸ”§ æ­£ç¡®çš„è¿æ¥ç®¡ç†æ–¹å¼**
```java
public class DBUtil {
    private static final String URL = "jdbc:mysql://localhost:3306/student_db";
    private static final String USERNAME = "root";
    private static final String PASSWORD = "123456";
    
    // è·å–è¿æ¥çš„æ–¹æ³•
    public static Connection getConnection() throws SQLException {
        return DriverManager.getConnection(URL, USERNAME, PASSWORD);
    }
    
    // å…³é—­èµ„æºçš„æ–¹æ³•ï¼ˆå¾ˆé‡è¦ï¼ï¼‰
    public static void closeResources(Connection conn, 
                                    PreparedStatement pstmt, 
                                    ResultSet rs) {
        try {
            if (rs != null) rs.close();
            if (pstmt != null) pstmt.close(); 
            if (conn != null) conn.close();
        } catch (SQLException e) {
            e.printStackTrace();
        }
    }
}
```

**ğŸ’­ ä¸ºä»€ä¹ˆè¦å°è£…è¿™äº›æ–¹æ³•ï¼Ÿ**
- é¿å…é‡å¤ä»£ç 
- ç»Ÿä¸€ç®¡ç†è¿æ¥ä¿¡æ¯
- ç¡®ä¿èµ„æºæ­£ç¡®å…³é—­
- ä¾¿äºåç»­ç»´æŠ¤ä¿®æ”¹

---

## 3. ğŸŠ æ•°æ®åº“è¿æ¥æ± é…ç½®


### 3.1 ä»€ä¹ˆæ˜¯æ•°æ®åº“è¿æ¥æ± 


**ğŸ¨ å½¢è±¡ç†è§£è¿æ¥æ± **
```
ä¼ ç»Ÿæ–¹å¼ï¼ˆæ²¡æœ‰è¿æ¥æ± ï¼‰ï¼š
æ¯æ¬¡éœ€è¦æ•°æ®åº“ â†’ ç°åœºå»ºç«‹è¿æ¥ â†’ ä½¿ç”¨ â†’ ç«‹å³æ–­å¼€
å°±åƒï¼šæ¯æ¬¡è¦æ¸¸æ³³ â†’ ç°åœºæŒ–æ¸¸æ³³æ±  â†’ æ¸¸å®Œç«‹å³å¡«åŸ‹

è¿æ¥æ± æ–¹å¼ï¼š
æå‰å»ºå¥½å¤šä¸ªè¿æ¥ â†’ éœ€è¦æ—¶æ‹¿ä¸€ä¸ª â†’ ç”¨å®Œè¿˜å›å»
å°±åƒï¼šå»ºä¸€ä¸ªæ¸¸æ³³æ±  â†’ å¤§å®¶è½®æµä½¿ç”¨ â†’ ç”¨å®Œå½’è¿˜ç»™ä¸‹ä¸ªäºº
```

**ğŸ”¸ è¿æ¥æ± çš„ä¼˜åŠ¿**
```
âœ… æ€§èƒ½æå‡ï¼šä¸ç”¨æ¯æ¬¡éƒ½å»ºç«‹/æ–­å¼€è¿æ¥
âœ… èµ„æºæ§åˆ¶ï¼šé™åˆ¶åŒæ—¶è¿æ¥çš„æ•°é‡  
âœ… è¿æ¥é‡ç”¨ï¼šä¸€ä¸ªè¿æ¥å¯ä»¥è¢«å¤šæ¬¡ä½¿ç”¨
âœ… å¼‚å¸¸æ¢å¤ï¼šè¿æ¥æ–­å¼€åè‡ªåŠ¨é‡æ–°åˆ›å»º
```

### 3.2 ä½¿ç”¨HikariCPè¿æ¥æ± 


**ğŸ“¦ æ·»åŠ ä¾èµ–ï¼ˆMavené¡¹ç›®ï¼‰**
```xml
<dependency>
    <groupId>com.zaxxer</groupId>
    <artifactId>HikariCP</artifactId>
    <version>5.0.1</version>
</dependency>
```

**ğŸ”§ è¿æ¥æ± é…ç½®**
```java
public class ConnectionPoolUtil {
    private static HikariDataSource dataSource;
    
    // é™æ€åˆå§‹åŒ–å—ï¼Œç¨‹åºå¯åŠ¨æ—¶æ‰§è¡Œä¸€æ¬¡
    static {
        HikariConfig config = new HikariConfig();
        
        // åŸºæœ¬è¿æ¥ä¿¡æ¯
        config.setJdbcUrl("jdbc:mysql://localhost:3306/student_db");
        config.setUsername("root");
        config.setPassword("123456");
        config.setDriverClassName("com.mysql.cj.jdbc.Driver");
        
        // è¿æ¥æ± å‚æ•°è®¾ç½®
        config.setMaximumPoolSize(20);      // æœ€å¤š20ä¸ªè¿æ¥
        config.setMinimumIdle(5);           // æœ€å°‘ä¿æŒ5ä¸ªç©ºé—²è¿æ¥
        config.setConnectionTimeout(30000); // 30ç§’è¿æ¥è¶…æ—¶
        
        dataSource = new HikariDataSource(config);
    }
    
    // è·å–è¿æ¥
    public static Connection getConnection() throws SQLException {
        return dataSource.getConnection();
    }
}
```

**ğŸ’¡ è¿æ¥æ± å‚æ•°è§£é‡Š**
```
MaximumPoolSizeï¼ˆæœ€å¤§è¿æ¥æ•°ï¼‰ï¼š
- é€šä¿—ç†è§£ï¼šæ¸¸æ³³æ± æœ€å¤šèƒ½å®¹çº³å¤šå°‘äººåŒæ—¶æ¸¸æ³³
- è®¾ç½®åŸåˆ™ï¼šæ ¹æ®åº”ç”¨å¹¶å‘é‡å†³å®š

MinimumIdleï¼ˆæœ€å°ç©ºé—²è¿æ¥ï¼‰ï¼š
- é€šä¿—ç†è§£ï¼šæ¸¸æ³³æ± é‡Œè‡³å°‘è¦ä¿æŒå¤šå°‘ç©ºä½
- ä½œç”¨ï¼šæé«˜å“åº”é€Ÿåº¦ï¼Œéšæ—¶æœ‰è¿æ¥å¯ç”¨

ConnectionTimeoutï¼ˆè¿æ¥è¶…æ—¶ï¼‰ï¼š
- é€šä¿—ç†è§£ï¼šæ’é˜Ÿç­‰æ¸¸æ³³æ± æœ€å¤šç­‰å¤šé•¿æ—¶é—´
- é¿å…ï¼šç¨‹åºå¡æ­»ç­‰å¾…è¿æ¥
```

---

## 4. ğŸ› ï¸ PreparedStatementè¯¦è§£


### 4.1 Statement vs PreparedStatement


**ğŸ” ä¸¤è€…å¯¹æ¯”ç†è§£**
```
Statementï¼ˆæ™®é€šè¯­å¥ï¼‰ï¼š
å°±åƒæ¯æ¬¡éƒ½è¦é‡æ–°å†™ä¸€éå®Œæ•´çš„ä¿¡ä»¶
- SQLè¯­å¥æ¯æ¬¡éƒ½è¦å®Œå…¨è§£æ
- å®¹æ˜“å‘ç”ŸSQLæ³¨å…¥æ”»å‡»
- æ€§èƒ½è¾ƒå·®

PreparedStatementï¼ˆé¢„ç¼–è¯‘è¯­å¥ï¼‰ï¼š  
å°±åƒå†™äº†ä¸€ä¸ªä¿¡ä»¶æ¨¡æ¿ï¼Œåªè¦å¡«ç©ºå°±è¡Œ
- SQLè¯­å¥é¢„å…ˆç¼–è¯‘ï¼Œåªéœ€å¡«å…¥å‚æ•°
- é˜²æ­¢SQLæ³¨å…¥æ”»å‡»
- æ€§èƒ½æ›´å¥½
```

**âš ï¸ SQLæ³¨å…¥æ”»å‡»ç¤ºä¾‹**
```java
// å±é™©çš„åšæ³•ï¼ˆä½¿ç”¨Statementï¼‰
String username = "admin";
String password = "123' OR '1'='1";  // æ¶æ„è¾“å…¥
String sql = "SELECT * FROM user WHERE username='" + username + 
             "' AND password='" + password + "'";
// å®é™…æ‰§è¡Œçš„SQLå˜æˆï¼š
// SELECT * FROM user WHERE username='admin' AND password='123' OR '1'='1'
// è¿™æ ·å°±ç»•è¿‡äº†å¯†ç éªŒè¯ï¼
```

### 4.2 PreparedStatementåŸºæœ¬ç”¨æ³•


**ğŸ¯ æŸ¥è¯¢æ“ä½œç¤ºä¾‹**
```java
public List<Student> findStudentsByAge(int minAge, int maxAge) {
    String sql = "SELECT id, name, age, email FROM student WHERE age BETWEEN ? AND ?";
    List<Student> students = new ArrayList<>();
    
    try (Connection conn = ConnectionPoolUtil.getConnection();
         PreparedStatement pstmt = conn.prepareStatement(sql)) {
        
        // è®¾ç½®å‚æ•°ï¼ˆä»1å¼€å§‹è®¡æ•°ï¼‰
        pstmt.setInt(1, minAge);    // ç¬¬1ä¸ª?å·
        pstmt.setInt(2, maxAge);    // ç¬¬2ä¸ª?å·
        
        // æ‰§è¡ŒæŸ¥è¯¢
        ResultSet rs = pstmt.executeQuery();
        
        // å¤„ç†ç»“æœ
        while (rs.next()) {
            Student student = new Student();
            student.setId(rs.getInt("id"));
            student.setName(rs.getString("name"));
            student.setAge(rs.getInt("age"));
            student.setEmail(rs.getString("email"));
            students.add(student);
        }
    } catch (SQLException e) {
        e.printStackTrace();
    }
    
    return students;
}
```

**ğŸ”§ å¢åˆ æ”¹æ“ä½œç¤ºä¾‹**
```java
// æ·»åŠ å­¦ç”Ÿ
public boolean addStudent(Student student) {
    String sql = "INSERT INTO student(name, age, email) VALUES(?, ?, ?)";
    
    try (Connection conn = ConnectionPoolUtil.getConnection();
         PreparedStatement pstmt = conn.prepareStatement(sql)) {
        
        pstmt.setString(1, student.getName());
        pstmt.setInt(2, student.getAge());
        pstmt.setString(3, student.getEmail());
        
        int rows = pstmt.executeUpdate();  // è¿”å›å½±å“çš„è¡Œæ•°
        return rows > 0;  // å¤§äº0è¡¨ç¤ºæ’å…¥æˆåŠŸ
    } catch (SQLException e) {
        e.printStackTrace();
        return false;
    }
}

// æ›´æ–°å­¦ç”Ÿä¿¡æ¯
public boolean updateStudent(Student student) {
    String sql = "UPDATE student SET name=?, age=?, email=? WHERE id=?";
    
    try (Connection conn = ConnectionPoolUtil.getConnection();
         PreparedStatement pstmt = conn.prepareStatement(sql)) {
        
        pstmt.setString(1, student.getName());
        pstmt.setInt(2, student.getAge());
        pstmt.setString(3, student.getEmail());
        pstmt.setInt(4, student.getId());  // WHEREæ¡ä»¶çš„å‚æ•°
        
        int rows = pstmt.executeUpdate();
        return rows > 0;
    } catch (SQLException e) {
        e.printStackTrace();
        return false;
    }
}
```

---

## 5. ğŸ“Š ResultSetç»“æœå¤„ç†


### 5.1 ResultSetåŸºæœ¬æ¦‚å¿µ


**ğŸ¯ ResultSetæ˜¯ä»€ä¹ˆ**
```
ResultSetå°±åƒä¸€ä¸ª"æ•°æ®è¡¨æ ¼çš„æ¸¸æ ‡"
æƒ³è±¡ä½ æœ‰ä¸€å¼ Excelè¡¨æ ¼ï¼š

ID  | å§“å  | å¹´é¾„ | é‚®ç®±
----|------|------|------
1   | å¼ ä¸‰  | 20   | zhang@qq.com
2   | æå››  | 22   | li@qq.com  
3   | ç‹äº”  | 21   | wang@qq.com

ResultSetå°±åƒä¸€ä¸ªæŒ‡é’ˆï¼Œæœ€å¼€å§‹æŒ‡å‘è¡¨æ ¼ä¸Šæ–¹
è°ƒç”¨next()æ–¹æ³•ï¼ŒæŒ‡é’ˆå‘ä¸‹ç§»åŠ¨ä¸€è¡Œ
é€šè¿‡getXXX()æ–¹æ³•è·å–å½“å‰è¡Œçš„æ•°æ®
```

**ğŸ” ResultSetçš„ç‰¹ç‚¹**
```
âœ… åªèƒ½å‘å‰ç§»åŠ¨ï¼ˆåƒå•å‘é˜…è¯»ï¼‰
âœ… ä¸€æ¬¡åªèƒ½è®¿é—®ä¸€è¡Œæ•°æ®
âœ… å¿…é¡»è°ƒç”¨next()æ‰èƒ½åˆ°è¾¾ç¬¬ä¸€è¡Œ
âœ… next()è¿”å›trueè¡¨ç¤ºæœ‰æ•°æ®ï¼Œfalseè¡¨ç¤ºåˆ°æœ«å°¾äº†
```

### 5.2 æ•°æ®ç±»å‹è½¬æ¢å¯¹åº”å…³ç³»


| **æ•°æ®åº“ç±»å‹** | **Javaæ–¹æ³•** | **Javaç±»å‹** | **ä½¿ç”¨ç¤ºä¾‹** |
|---------------|-------------|-------------|-------------|
| `INT, BIGINT` | `getInt()` `getLong()` | `int, long` | `rs.getInt("id")` |
| `VARCHAR, TEXT` | `getString()` | `String` | `rs.getString("name")` |
| `DATE` | `getDate()` | `java.sql.Date` | `rs.getDate("birth_date")` |
| `TIMESTAMP` | `getTimestamp()` | `java.sql.Timestamp` | `rs.getTimestamp("create_time")` |
| `DECIMAL` | `getBigDecimal()` | `BigDecimal` | `rs.getBigDecimal("price")` |
| `BOOLEAN` | `getBoolean()` | `boolean` | `rs.getBoolean("is_active")` |

### 5.3 ResultSetå¤„ç†æœ€ä½³å®è·µ


**ğŸ¨ å°è£…ä¸ºå¯¹è±¡çš„é€šç”¨æ–¹æ³•**
```java
public class StudentDAO {
    // å°†ResultSetè½¬æ¢ä¸ºStudentå¯¹è±¡çš„æ–¹æ³•
    private Student resultSetToStudent(ResultSet rs) throws SQLException {
        Student student = new Student();
        student.setId(rs.getInt("id"));
        student.setName(rs.getString("name"));
        student.setAge(rs.getInt("age"));
        student.setEmail(rs.getString("email"));
        
        // å¤„ç†å¯èƒ½ä¸ºnullçš„æ—¥æœŸå­—æ®µ
        Date birthDate = rs.getDate("birth_date");
        if (birthDate != null) {
            student.setBirthDate(birthDate.toLocalDate());
        }
        
        return student;
    }
    
    // æŸ¥è¯¢å•ä¸ªå­¦ç”Ÿ
    public Student findById(int id) {
        String sql = "SELECT * FROM student WHERE id = ?";
        
        try (Connection conn = ConnectionPoolUtil.getConnection();
             PreparedStatement pstmt = conn.prepareStatement(sql)) {
            
            pstmt.setInt(1, id);
            ResultSet rs = pstmt.executeQuery();
            
            if (rs.next()) {  // åªéœ€è¦ä¸€æ¡è®°å½•
                return resultSetToStudent(rs);
            }
        } catch (SQLException e) {
            e.printStackTrace();
        }
        
        return null;  // æ²¡æ‰¾åˆ°è¿”å›null
    }
    
    // æŸ¥è¯¢å¤šä¸ªå­¦ç”Ÿ
    public List<Student> findAll() {
        String sql = "SELECT * FROM student ORDER BY id";
        List<Student> students = new ArrayList<>();
        
        try (Connection conn = ConnectionPoolUtil.getConnection();
             PreparedStatement pstmt = conn.prepareStatement(sql)) {
            
            ResultSet rs = pstmt.executeQuery();
            
            while (rs.next()) {  // å¾ªç¯å¤„ç†æ¯ä¸€è¡Œ
                students.add(resultSetToStudent(rs));
            }
        } catch (SQLException e) {
            e.printStackTrace();
        }
        
        return students;
    }
}
```

---

## 6. âš¡ äº‹åŠ¡æ§åˆ¶ç®¡ç†


### 6.1 ä»€ä¹ˆæ˜¯æ•°æ®åº“äº‹åŠ¡


**ğŸ’¡ ç”Ÿæ´»ä¸­çš„äº‹åŠ¡ç†è§£**
```
é“¶è¡Œè½¬è´¦çš„ä¾‹å­ï¼š
å°æ˜ç»™å°çº¢è½¬è´¦100å…ƒ

éœ€è¦åšä¸¤ä»¶äº‹ï¼š
1. ä»å°æ˜è´¦æˆ·æ‰£é™¤100å…ƒ
2. å‘å°çº¢è´¦æˆ·å¢åŠ 100å…ƒ

è¦ä¹ˆä¸¤ä»¶äº‹éƒ½æˆåŠŸï¼Œè¦ä¹ˆéƒ½å¤±è´¥
ä¸èƒ½å‡ºç°ï¼šå°æ˜é’±æ‰£äº†ï¼Œå°çº¢æ²¡æ”¶åˆ°çš„æƒ…å†µï¼

è¿™å°±æ˜¯äº‹åŠ¡çš„æ¦‚å¿µï¼šè¦ä¹ˆå…¨éƒ¨æˆåŠŸï¼Œè¦ä¹ˆå…¨éƒ¨å¤±è´¥
```

**ğŸ”¸ äº‹åŠ¡çš„ACIDç‰¹æ€§**
```
A - Atomicityï¼ˆåŸå­æ€§ï¼‰ï¼š
è¦ä¹ˆå…¨éƒ¨å®Œæˆï¼Œè¦ä¹ˆå…¨éƒ¨ä¸åšï¼Œæ²¡æœ‰ä¸­é—´çŠ¶æ€

C - Consistencyï¼ˆä¸€è‡´æ€§ï¼‰ï¼š  
äº‹åŠ¡å‰åæ•°æ®ä¿æŒä¸€è‡´ï¼Œä¸ä¼šç ´åæ•°æ®å®Œæ•´æ€§

I - Isolationï¼ˆéš”ç¦»æ€§ï¼‰ï¼š
å¤šä¸ªäº‹åŠ¡å¹¶è¡Œæ‰§è¡Œæ—¶ï¼Œç›¸äº’ä¸å½±å“

D - Durabilityï¼ˆæŒä¹…æ€§ï¼‰ï¼š
äº‹åŠ¡ä¸€æ—¦æäº¤ï¼Œæ•°æ®å°±æ°¸ä¹…ä¿å­˜ï¼Œä¸ä¼šä¸¢å¤±
```

### 6.2 JDBCäº‹åŠ¡æ§åˆ¶


**ğŸ”§ æ‰‹åŠ¨äº‹åŠ¡æ§åˆ¶ç¤ºä¾‹**
```java
public class StudentService {
    
    // è½¬æ¢å­¦åˆ†çš„ä¸šåŠ¡æ–¹æ³•ï¼ˆéœ€è¦äº‹åŠ¡æ§åˆ¶ï¼‰
    public boolean transferCredits(int fromStudentId, int toStudentId, int credits) {
        Connection conn = null;
        
        try {
            conn = ConnectionPoolUtil.getConnection();
            
            // 1. å…³é—­è‡ªåŠ¨æäº¤ï¼ˆå¼€å¯äº‹åŠ¡ï¼‰
            conn.setAutoCommit(false);
            
            // 2. ç¬¬ä¸€æ­¥ï¼šä»æºå­¦ç”Ÿæ‰£é™¤å­¦åˆ†
            String sql1 = "UPDATE student SET credits = credits - ? WHERE id = ?";
            try (PreparedStatement pstmt1 = conn.prepareStatement(sql1)) {
                pstmt1.setInt(1, credits);
                pstmt1.setInt(2, fromStudentId);
                int rows1 = pstmt1.executeUpdate();
                
                if (rows1 == 0) {
                    throw new SQLException("æºå­¦ç”Ÿä¸å­˜åœ¨æˆ–å­¦åˆ†ä¸è¶³");
                }
            }
            
            // 3. ç¬¬äºŒæ­¥ï¼šç»™ç›®æ ‡å­¦ç”Ÿå¢åŠ å­¦åˆ†
            String sql2 = "UPDATE student SET credits = credits + ? WHERE id = ?";
            try (PreparedStatement pstmt2 = conn.prepareStatement(sql2)) {
                pstmt2.setInt(1, credits);
                pstmt2.setInt(2, toStudentId);
                int rows2 = pstmt2.executeUpdate();
                
                if (rows2 == 0) {
                    throw new SQLException("ç›®æ ‡å­¦ç”Ÿä¸å­˜åœ¨");
                }
            }
            
            // 4. æ‰€æœ‰æ“ä½œæˆåŠŸï¼Œæäº¤äº‹åŠ¡
            conn.commit();
            return true;
            
        } catch (SQLException e) {
            // 5. å‡ºç°å¼‚å¸¸ï¼Œå›æ»šäº‹åŠ¡
            if (conn != null) {
                try {
                    conn.rollback();
                    System.out.println("äº‹åŠ¡å›æ»šï¼š" + e.getMessage());
                } catch (SQLException rollbackEx) {
                    rollbackEx.printStackTrace();
                }
            }
            return false;
            
        } finally {
            // 6. æ¢å¤è‡ªåŠ¨æäº¤æ¨¡å¼å¹¶å…³é—­è¿æ¥
            if (conn != null) {
                try {
                    conn.setAutoCommit(true);  // æ¢å¤é»˜è®¤æ¨¡å¼
                    conn.close();
                } catch (SQLException e) {
                    e.printStackTrace();
                }
            }
        }
    }
}
```

**ğŸ“‹ äº‹åŠ¡æ§åˆ¶çš„å…³é”®ç‚¹**
```
ğŸ”¸ setAutoCommit(false)ï¼šå¼€å¯äº‹åŠ¡ï¼Œå…³é—­è‡ªåŠ¨æäº¤
ğŸ”¸ commit()ï¼šæäº¤äº‹åŠ¡ï¼Œä½¿æ‰€æœ‰å˜æ›´ç”Ÿæ•ˆ
ğŸ”¸ rollback()ï¼šå›æ»šäº‹åŠ¡ï¼Œæ’¤é”€æ‰€æœ‰å˜æ›´
ğŸ”¸ å¼‚å¸¸å¤„ç†ï¼šç¡®ä¿å‡ºé”™æ—¶èƒ½æ­£ç¡®å›æ»š
ğŸ”¸ finallyå—ï¼šç¡®ä¿è¿æ¥çŠ¶æ€æ­£ç¡®æ¢å¤
```

---

## 7. âš ï¸ å¼‚å¸¸å¤„ç†æœºåˆ¶


### 7.1 JDBCå¼‚å¸¸ç±»å‹ç†è§£


**ğŸ¯ å¸¸è§å¼‚å¸¸åˆ†ç±»**
```
SQLExceptionï¼šSQLæ‰§è¡Œç›¸å…³çš„å¼‚å¸¸
â”œâ”€ SQLSyntaxErrorExceptionï¼šSQLè¯­æ³•é”™è¯¯
â”œâ”€ SQLIntegrityConstraintViolationExceptionï¼šçº¦æŸè¿å
â”œâ”€ SQLTimeoutExceptionï¼šæ“ä½œè¶…æ—¶
â””â”€ SQLNonTransientConnectionExceptionï¼šè¿æ¥é—®é¢˜

ClassNotFoundExceptionï¼šé©±åŠ¨ç±»æ‰¾ä¸åˆ°ï¼ˆåŠ è½½é©±åŠ¨æ—¶ï¼‰
```

**ğŸ’¡ å¼‚å¸¸å¤„ç†çš„å±‚çº§ç­–ç•¥**
```
DAOå±‚ï¼šå¤„ç†æŠ€æœ¯å¼‚å¸¸ï¼Œè½¬æ¢ä¸ºä¸šåŠ¡å¼‚å¸¸
Serviceå±‚ï¼šå¤„ç†ä¸šåŠ¡é€»è¾‘å¼‚å¸¸
Controllerå±‚ï¼šå¤„ç†ç”¨æˆ·äº¤äº’å¼‚å¸¸
```

### 7.2 å®Œå–„çš„å¼‚å¸¸å¤„ç†å®è·µ


**ğŸ”§ è‡ªå®šä¹‰ä¸šåŠ¡å¼‚å¸¸**
```java
// è‡ªå®šä¹‰DAOå¼‚å¸¸
public class DAOException extends Exception {
    public DAOException(String message) {
        super(message);
    }
    
    public DAOException(String message, Throwable cause) {
        super(message, cause);
    }
}

// è‡ªå®šä¹‰ä¸šåŠ¡å¼‚å¸¸
public class BusinessException extends Exception {
    public BusinessException(String message) {
        super(message);
    }
}
```

**ğŸ› ï¸ DAOå±‚å¼‚å¸¸å¤„ç†ç¤ºä¾‹**
```java
public class StudentDAO {
    
    public Student findById(int id) throws DAOException {
        String sql = "SELECT * FROM student WHERE id = ?";
        
        try (Connection conn = ConnectionPoolUtil.getConnection();
             PreparedStatement pstmt = conn.prepareStatement(sql)) {
            
            pstmt.setInt(1, id);
            ResultSet rs = pstmt.executeQuery();
            
            if (rs.next()) {
                return resultSetToStudent(rs);
            }
            return null;
            
        } catch (SQLException e) {
            // æ ¹æ®ä¸åŒçš„SQLå¼‚å¸¸ç±»å‹ï¼ŒæŠ›å‡ºæœ‰æ„ä¹‰çš„ä¸šåŠ¡å¼‚å¸¸
            if (e instanceof SQLTimeoutException) {
                throw new DAOException("æ•°æ®åº“æŸ¥è¯¢è¶…æ—¶ï¼Œè¯·ç¨åé‡è¯•", e);
            } else if (e instanceof SQLNonTransientConnectionException) {
                throw new DAOException("æ•°æ®åº“è¿æ¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œ", e);
            } else {
                throw new DAOException("æŸ¥è¯¢å­¦ç”Ÿä¿¡æ¯å¤±è´¥ï¼š" + e.getMessage(), e);
            }
        }
    }
    
    public boolean addStudent(Student student) throws DAOException {
        String sql = "INSERT INTO student(name, age, email) VALUES(?, ?, ?)";
        
        try (Connection conn = ConnectionPoolUtil.getConnection();
             PreparedStatement pstmt = conn.prepareStatement(sql)) {
            
            pstmt.setString(1, student.getName());
            pstmt.setInt(2, student.getAge());
            pstmt.setString(3, student.getEmail());
            
            int rows = pstmt.executeUpdate();
            return rows > 0;
            
        } catch (SQLException e) {
            // å¤„ç†é‡å¤é‚®ç®±ç­‰çº¦æŸè¿åå¼‚å¸¸
            if (e instanceof SQLIntegrityConstraintViolationException) {
                if (e.getMessage().contains("email")) {
                    throw new DAOException("é‚®ç®±åœ°å€å·²å­˜åœ¨ï¼Œè¯·ä½¿ç”¨å…¶ä»–é‚®ç®±", e);
                } else {
                    throw new DAOException("æ•°æ®è¿åçº¦æŸæ¡ä»¶", e);
                }
            } else {
                throw new DAOException("æ·»åŠ å­¦ç”Ÿå¤±è´¥ï¼š" + e.getMessage(), e);
            }
        }
    }
}
```

---

## 8. ğŸš€ Servletä¸JDBCç»¼åˆå®æˆ˜


### 8.1 å­¦ç”Ÿç®¡ç†ç³»ç»Ÿå®æˆ˜


**ğŸ“‹ é¡¹ç›®ç»“æ„è®¾è®¡**
```
src/main/java/
â”œâ”€ entity/
â”‚  â””â”€ Student.java           # å­¦ç”Ÿå®ä½“ç±»
â”œâ”€ dao/
â”‚  â”œâ”€ StudentDAO.java        # æ•°æ®è®¿é—®å¯¹è±¡
â”‚  â””â”€ ConnectionPoolUtil.java # è¿æ¥æ± å·¥å…·
â”œâ”€ service/
â”‚  â””â”€ StudentService.java    # ä¸šåŠ¡é€»è¾‘å±‚
â”œâ”€ servlet/
â”‚  â”œâ”€ StudentListServlet.java    # å­¦ç”Ÿåˆ—è¡¨
â”‚  â”œâ”€ StudentAddServlet.java     # æ·»åŠ å­¦ç”Ÿ
â”‚  â””â”€ StudentUpdateServlet.java  # æ›´æ–°å­¦ç”Ÿ
â””â”€ exception/
   â”œâ”€ DAOException.java      # DAOå¼‚å¸¸
   â””â”€ BusinessException.java # ä¸šåŠ¡å¼‚å¸¸
```

**ğŸ”§ å­¦ç”Ÿå®ä½“ç±»**
```java
public class Student {
    private int id;
    private String name;
    private int age;
    private String email;
    private Date createTime;
    
    // æ„é€ æ–¹æ³•
    public Student() {}
    
    public Student(String name, int age, String email) {
        this.name = name;
        this.age = age;
        this.email = email;
    }
    
    // getterå’Œsetteræ–¹æ³•ï¼ˆçœç•¥...ï¼‰
    
    @Override
    public String toString() {
        return "Student{id=" + id + ", name='" + name + 
               "', age=" + age + ", email='" + email + "'}";
    }
}
```

### 8.2 ä¸šåŠ¡é€»è¾‘å±‚å®ç°


**ğŸ¯ StudentServiceæ ¸å¿ƒä¸šåŠ¡**
```java
public class StudentService {
    private StudentDAO studentDAO = new StudentDAO();
    
    // è·å–æ‰€æœ‰å­¦ç”Ÿï¼ˆå¸¦åˆ†é¡µï¼‰
    public List<Student> getAllStudents(int page, int pageSize) throws BusinessException {
        try {
            return studentDAO.findByPage(page, pageSize);
        } catch (DAOException e) {
            throw new BusinessException("è·å–å­¦ç”Ÿåˆ—è¡¨å¤±è´¥ï¼š" + e.getMessage());
        }
    }
    
    // æ·»åŠ å­¦ç”Ÿï¼ˆå¸¦ä¸šåŠ¡éªŒè¯ï¼‰
    public boolean addStudent(String name, String ageStr, String email) 
            throws BusinessException {
        
        // 1. å‚æ•°éªŒè¯
        if (name == null || name.trim().isEmpty()) {
            throw new BusinessException("å§“åä¸èƒ½ä¸ºç©º");
        }
        
        int age;
        try {
            age = Integer.parseInt(ageStr);
            if (age < 1 || age > 150) {
                throw new BusinessException("å¹´é¾„å¿…é¡»åœ¨1-150ä¹‹é—´");
            }
        } catch (NumberFormatException e) {
            throw new BusinessException("å¹´é¾„æ ¼å¼ä¸æ­£ç¡®");
        }
        
        if (email == null || !email.contains("@")) {
            throw new BusinessException("é‚®ç®±æ ¼å¼ä¸æ­£ç¡®");
        }
        
        // 2. è°ƒç”¨DAOå±‚
        try {
            Student student = new Student(name.trim(), age, email.trim());
            return studentDAO.addStudent(student);
        } catch (DAOException e) {
            throw new BusinessException("æ·»åŠ å­¦ç”Ÿå¤±è´¥ï¼š" + e.getMessage());
        }
    }
    
    // æ ¹æ®IDæŸ¥æ‰¾å­¦ç”Ÿ
    public Student findStudentById(String idStr) throws BusinessException {
        int id;
        try {
            id = Integer.parseInt(idStr);
        } catch (NumberFormatException e) {
            throw new BusinessException("å­¦ç”ŸIDæ ¼å¼ä¸æ­£ç¡®");
        }
        
        try {
            Student student = studentDAO.findById(id);
            if (student == null) {
                throw new BusinessException("æ‰¾ä¸åˆ°IDä¸º" + id + "çš„å­¦ç”Ÿ");
            }
            return student;
        } catch (DAOException e) {
            throw new BusinessException("æŸ¥è¯¢å­¦ç”Ÿå¤±è´¥ï¼š" + e.getMessage());
        }
    }
}
```

### 8.3 Servletæ§åˆ¶å™¨å®ç°


**ğŸŒ å­¦ç”Ÿåˆ—è¡¨Servlet**
```java
@WebServlet("/student/list")
public class StudentListServlet extends HttpServlet {
    private StudentService studentService = new StudentService();
    
    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp) 
            throws ServletException, IOException {
        
        // è®¾ç½®ç¼–ç 
        req.setCharacterEncoding("UTF-8");
        resp.setContentType("text/html;charset=UTF-8");
        
        try {
            // è·å–åˆ†é¡µå‚æ•°
            int page = 1;
            int pageSize = 10;
            
            String pageStr = req.getParameter("page");
            if (pageStr != null && !pageStr.isEmpty()) {
                try {
                    page = Integer.parseInt(pageStr);
                    if (page < 1) page = 1;
                } catch (NumberFormatException e) {
                    // å‚æ•°é”™è¯¯æ—¶ä½¿ç”¨é»˜è®¤å€¼
                }
            }
            
            // æŸ¥è¯¢å­¦ç”Ÿåˆ—è¡¨
            List<Student> students = studentService.getAllStudents(page, pageSize);
            
            // è®¾ç½®è¯·æ±‚å±æ€§
            req.setAttribute("students", students);
            req.setAttribute("currentPage", page);
            
            // è½¬å‘åˆ°JSPé¡µé¢
            req.getRequestDispatcher("/WEB-INF/views/student-list.jsp")
               .forward(req, resp);
               
        } catch (BusinessException e) {
            // ä¸šåŠ¡å¼‚å¸¸å¤„ç†
            req.setAttribute("errorMessage", e.getMessage());
            req.getRequestDispatcher("/WEB-INF/views/error.jsp")
               .forward(req, resp);
        }
    }
}
```

**ğŸ“ æ·»åŠ å­¦ç”ŸServlet**
```java
@WebServlet("/student/add")
public class StudentAddServlet extends HttpServlet {
    private StudentService studentService = new StudentService();
    
    // æ˜¾ç¤ºæ·»åŠ é¡µé¢
    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp) 
            throws ServletException, IOException {
        req.getRequestDispatcher("/WEB-INF/views/student-add.jsp")
           .forward(req, resp);
    }
    
    // å¤„ç†æ·»åŠ è¯·æ±‚
    @Override
    protected void doPost(HttpServletRequest req, HttpServletResponse resp) 
            throws ServletException, IOException {
        
        req.setCharacterEncoding("UTF-8");
        
        try {
            // è·å–è¡¨å•å‚æ•°
            String name = req.getParameter("name");
            String age = req.getParameter("age");
            String email = req.getParameter("email");
            
            // è°ƒç”¨ä¸šåŠ¡å±‚æ·»åŠ å­¦ç”Ÿ
            boolean success = studentService.addStudent(name, age, email);
            
            if (success) {
                // æ·»åŠ æˆåŠŸï¼Œé‡å®šå‘åˆ°åˆ—è¡¨é¡µ
                resp.sendRedirect(req.getContextPath() + "/student/list");
            } else {
                // æ·»åŠ å¤±è´¥
                req.setAttribute("errorMessage", "æ·»åŠ å­¦ç”Ÿå¤±è´¥");
                req.setAttribute("name", name);  // å›æ˜¾æ•°æ®
                req.setAttribute("age", age);
                req.setAttribute("email", email);
                req.getRequestDispatcher("/WEB-INF/views/student-add.jsp")
                   .forward(req, resp);
            }
            
        } catch (BusinessException e) {
            // ä¸šåŠ¡å¼‚å¸¸å¤„ç†
            req.setAttribute("errorMessage", e.getMessage());
            req.setAttribute("name", req.getParameter("name"));  // å›æ˜¾æ•°æ®
            req.setAttribute("age", req.getParameter("age"));
            req.setAttribute("email", req.getParameter("email"));
            req.getRequestDispatcher("/WEB-INF/views/student-add.jsp")
               .forward(req, resp);
        }
    }
}
```

---

## 9. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 9.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ JDBCåŸºç¡€ï¼šJavaä¸æ•°æ®åº“é€šä¿¡çš„æ¡¥æ¢
ğŸ”¸ è¿æ¥ç®¡ç†ï¼šæ­£ç¡®è·å–å’Œé‡Šæ”¾æ•°æ®åº“è¿æ¥èµ„æº
ğŸ”¸ è¿æ¥æ± ï¼šæé«˜æ€§èƒ½çš„è¿æ¥å¤ç”¨æœºåˆ¶
ğŸ”¸ PreparedStatementï¼šé˜²SQLæ³¨å…¥çš„é¢„ç¼–è¯‘è¯­å¥
ğŸ”¸ ResultSetï¼šæ•°æ®åº“æŸ¥è¯¢ç»“æœçš„å¤„ç†æ–¹å¼
ğŸ”¸ äº‹åŠ¡æ§åˆ¶ï¼šä¿è¯æ•°æ®ä¸€è‡´æ€§çš„é‡è¦æœºåˆ¶
ğŸ”¸ å¼‚å¸¸å¤„ç†ï¼šåˆ†å±‚å¤„ç†ä¸åŒç±»å‹çš„å¼‚å¸¸
```

### 9.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ JDBCæ“ä½œçš„æ ‡å‡†æµç¨‹**
```
1. è·å–è¿æ¥ â†’ 2. å‡†å¤‡SQL â†’ 3. æ‰§è¡Œæ“ä½œ â†’ 4. å¤„ç†ç»“æœ â†’ 5. é‡Šæ”¾èµ„æº

è®°å¿†å£è¯€ï¼šè¿æ¥å‡†å¤‡æ‰§è¡Œå¤„ç†é‡Šæ”¾
```

**ğŸ”¹ èµ„æºç®¡ç†çš„é‡è¦æ€§**
```
æ•°æ®åº“è¿æ¥æ˜¯å®è´µèµ„æºï¼š
- ä¸åŠæ—¶é‡Šæ”¾ â†’ è¿æ¥æ³„éœ² â†’ ç³»ç»Ÿå´©æºƒ
- ä½¿ç”¨try-with-resources â†’ è‡ªåŠ¨å…³é—­èµ„æº
- è¿æ¥æ± ç®¡ç† â†’ æé«˜æ•ˆç‡å’Œç¨³å®šæ€§
```

**ğŸ”¹ å®‰å…¨ç¼–ç¨‹çš„å¿…è¦æ€§**
```
é˜²æ­¢SQLæ³¨å…¥æ”»å‡»ï¼š
- æ°¸è¿œä½¿ç”¨PreparedStatement
- ä¸è¦æ‹¼æ¥SQLå­—ç¬¦ä¸²
- å¯¹ç”¨æˆ·è¾“å…¥è¿›è¡ŒéªŒè¯
```

### 9.3 å®é™…å¼€å‘æœ€ä½³å®è·µ


**ğŸ’¡ åˆ†å±‚æ¶æ„çš„å¥½å¤„**
```
DAOå±‚ï¼šä¸“æ³¨æ•°æ®è®¿é—®ï¼Œå¤„ç†æŠ€æœ¯å¼‚å¸¸
Serviceå±‚ï¼šå¤„ç†ä¸šåŠ¡é€»è¾‘ï¼Œè¿›è¡Œæ•°æ®éªŒè¯
Servletå±‚ï¼šå¤„ç†HTTPè¯·æ±‚ï¼Œæ§åˆ¶é¡µé¢æµè½¬

å¥½å¤„ï¼š
- èŒè´£æ¸…æ™°ï¼Œä¾¿äºç»´æŠ¤
- ä»£ç å¤ç”¨ï¼Œå‡å°‘é‡å¤
- æµ‹è¯•æ–¹ä¾¿ï¼Œé€å±‚éªŒè¯
```

**âš¡ æ€§èƒ½ä¼˜åŒ–å»ºè®®**
```
1. ä½¿ç”¨è¿æ¥æ± ï¼Œé¿å…é¢‘ç¹åˆ›å»ºè¿æ¥
2. ä½¿ç”¨PreparedStatementï¼Œæé«˜SQLæ‰§è¡Œæ•ˆç‡
3. åˆç†è®¾è®¡SQLï¼Œé¿å…N+1æŸ¥è¯¢é—®é¢˜
4. åŠæ—¶å…³é—­èµ„æºï¼Œé˜²æ­¢å†…å­˜æ³„éœ²
5. é€‚å½“ä½¿ç”¨äº‹åŠ¡ï¼Œå¹³è¡¡ä¸€è‡´æ€§å’Œæ€§èƒ½
```

**ğŸ›¡ï¸ å¼‚å¸¸å¤„ç†ç­–ç•¥**
```
åˆ†å±‚å¼‚å¸¸å¤„ç†ï¼š
- DAOå±‚ï¼šè½¬æ¢æŠ€æœ¯å¼‚å¸¸ä¸ºä¸šåŠ¡å¼‚å¸¸
- Serviceå±‚ï¼šéªŒè¯ä¸šåŠ¡è§„åˆ™ï¼ŒæŠ›å‡ºä¸šåŠ¡å¼‚å¸¸
- Servletå±‚ï¼šå¤„ç†ç”¨æˆ·äº¤äº’ï¼Œå‹å¥½é”™è¯¯æç¤º

å¼‚å¸¸ä¿¡æ¯è¦æ±‚ï¼š
- å¯¹å¼€å‘è€…ï¼šè¯¦ç»†çš„æŠ€æœ¯ä¿¡æ¯
- å¯¹ç”¨æˆ·ï¼šç®€æ´çš„å‹å¥½æç¤º
```

**ğŸ¯ æ ¸å¿ƒè®°å¿†è¦ç‚¹**
- **JDBCæ˜¯æ¡¥æ¢**ï¼šè¿æ¥Javaç¨‹åºä¸æ•°æ®åº“
- **PreparedStatementé˜²æ³¨å…¥**ï¼šé¢„ç¼–è¯‘æ›´å®‰å…¨
- **è¿æ¥æ± ææ€§èƒ½**ï¼šå¤ç”¨è¿æ¥ä¸æµªè´¹
- **äº‹åŠ¡ä¿ä¸€è‡´**ï¼šè¦ä¹ˆå…¨æˆåŠŸè¦ä¹ˆå…¨å¤±è´¥
- **å¼‚å¸¸è¦åˆ†å±‚**ï¼šæŠ€æœ¯å¼‚å¸¸è½¬ä¸šåŠ¡å¼‚å¸¸
- **èµ„æºè¦å…³é—­**ï¼štry-with-resourcesæœ€å®‰å…¨