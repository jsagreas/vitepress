---
title: 2ã€DAOæ¨¡å¼è®¾è®¡
---
## ğŸ“š ç›®å½•

1. [DAOæ¨¡å¼åŸºç¡€æ¦‚å¿µ](#1-DAOæ¨¡å¼åŸºç¡€æ¦‚å¿µ)
2. [DAOæ¥å£è®¾è®¡åŸåˆ™](#2-DAOæ¥å£è®¾è®¡åŸåˆ™)
3. [å®ç°ç±»ç¼–å†™è§„èŒƒ](#3-å®ç°ç±»ç¼–å†™è§„èŒƒ)
4. [CRUDæ“ä½œå°è£…](#4-CRUDæ“ä½œå°è£…)
5. [åˆ†é¡µæŸ¥è¯¢å®ç°](#5-åˆ†é¡µæŸ¥è¯¢å®ç°)
6. [æ‰¹é‡æ“ä½œå¤„ç†](#6-æ‰¹é‡æ“ä½œå¤„ç†)
7. [è¿æ¥èµ„æºç®¡ç†](#7-è¿æ¥èµ„æºç®¡ç†)
8. [æœ€ä½³å®è·µä¸ä¼˜åŒ–](#8-æœ€ä½³å®è·µä¸ä¼˜åŒ–)
9. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#9-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ—ï¸ DAOæ¨¡å¼åŸºç¡€æ¦‚å¿µ


### 1.1 ä»€ä¹ˆæ˜¯DAOæ¨¡å¼


**ğŸ”¸ ç®€å•ç†è§£**
```
DAO = Data Access Objectï¼ˆæ•°æ®è®¿é—®å¯¹è±¡ï¼‰

å°±åƒç°å®ä¸­çš„ï¼š
- ä½ è¦å–é’± â†’ ä¸ç›´æ¥æŒ–é“¶è¡Œé‡‘åº“
- è€Œæ˜¯é€šè¿‡ â†’ ATMæœºæˆ–æŸœå°æœåŠ¡å‘˜
- DAOå°±æ˜¯ â†’ ç¨‹åºè®¿é—®æ•°æ®åº“çš„"æœåŠ¡å‘˜"

ä½œç”¨ï¼šæŠŠå¤æ‚çš„æ•°æ®åº“æ“ä½œåŒ…è£…æˆç®€å•çš„æ–¹æ³•è°ƒç”¨
```

**ğŸ’¡ ä¸ºä»€ä¹ˆéœ€è¦DAOæ¨¡å¼**
```
é—®é¢˜åœºæ™¯ï¼š
æ²¡æœ‰DAOæ—¶ï¼š
- æ¯ä¸ªServletéƒ½è¦å†™SQLè¯­å¥
- æ•°æ®åº“è¿æ¥ä»£ç åˆ°å¤„éƒ½æ˜¯
- ä¿®æ”¹è¡¨ç»“æ„è¦æ”¹Nä¸ªåœ°æ–¹
- ä»£ç æ··ä¹±ï¼Œéš¾ä»¥ç»´æŠ¤

æœ‰äº†DAOåï¼š
- SQLè¯­å¥é›†ä¸­ç®¡ç†
- æ•°æ®åº“æ“ä½œç»Ÿä¸€æ¥å£
- ä¸šåŠ¡é€»è¾‘å’Œæ•°æ®è®¿é—®åˆ†ç¦»
- ä»£ç æ¸…æ™°ï¼Œæ˜“äºç»´æŠ¤
```

### 1.2 DAOæ¨¡å¼ç»“æ„å›¾


```
Webå±‚(Servlet/Controller)
        â†“ è°ƒç”¨
ä¸šåŠ¡å±‚(Service)
        â†“ è°ƒç”¨  
æ•°æ®è®¿é—®å±‚(DAO)
        â†“ æ“ä½œ
æ•°æ®åº“(MySQL/Oracle)

å…·ä½“ç»“æ„ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    è°ƒç”¨    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   UserServlet   â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ â”‚   UserService   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                       â†“ è°ƒç”¨
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    å®ç°    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  UserDAOImpl    â”‚ â†â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚    UserDAO      â”‚
â”‚   (å…·ä½“å®ç°)     â”‚           â”‚   (æ¥å£å®šä¹‰)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“ è®¿é—®
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   MySQLæ•°æ®åº“   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.3 DAOæ¨¡å¼çš„æ ¸å¿ƒç»„æˆ


**ğŸ”§ ä¸»è¦ç»„ä»¶è¯´æ˜**
```
1. DAOæ¥å£ï¼šå®šä¹‰æ•°æ®æ“ä½œçš„æ–¹æ³•
   - å¢åŠ ç”¨æˆ·ï¼šaddUser(User user)
   - åˆ é™¤ç”¨æˆ·ï¼šdeleteUser(int id)
   - ä¿®æ”¹ç”¨æˆ·ï¼šupdateUser(User user)
   - æŸ¥è¯¢ç”¨æˆ·ï¼šfindUser(int id)

2. DAOå®ç°ç±»ï¼šå…·ä½“çš„æ•°æ®åº“æ“ä½œä»£ç 
   - å†™SQLè¯­å¥
   - å¤„ç†ç»“æœé›†
   - ç®¡ç†æ•°æ®åº“è¿æ¥

3. å®ä½“ç±»(Entity)ï¼šå¯¹åº”æ•°æ®åº“è¡¨çš„Javaå¯¹è±¡
   - å±æ€§å¯¹åº”è¡¨å­—æ®µ
   - æä¾›getter/setteræ–¹æ³•
```

---

## 2. ğŸ“ DAOæ¥å£è®¾è®¡åŸåˆ™


### 2.1 æ¥å£å‘½åè§„èŒƒ


**ğŸ¯ æ ‡å‡†å‘½åçº¦å®š**
```java
// æ¥å£å‘½åï¼šå®ä½“å + DAO
public interface UserDAO {
    // æ–¹æ³•å‘½åè¦è§åçŸ¥æ„
}

// å®ç°ç±»å‘½åï¼šæ¥å£å + Impl
public class UserDAOImpl implements UserDAO {
    // å…·ä½“å®ç°
}
```

**ğŸ’¡ æ–¹æ³•å‘½åè§„èŒƒ**
| æ“ä½œç±»å‹ | **å‘½åè§„èŒƒ** | **ç¤ºä¾‹** | **è¯´æ˜** |
|---------|-------------|---------|---------|
| **å¢åŠ ** | `add/insert/save` | `addUser()` | æ·»åŠ æ–°è®°å½• |
| **åˆ é™¤** | `delete/remove` | `deleteUser()` | åˆ é™¤è®°å½• |
| **ä¿®æ”¹** | `update/modify` | `updateUser()` | æ›´æ–°è®°å½• |
| **æŸ¥è¯¢å•ä¸ª** | `find/get/select` | `findUserById()` | æŸ¥è¯¢ä¸€æ¡è®°å½• |
| **æŸ¥è¯¢å¤šä¸ª** | `findAll/getList` | `findAllUsers()` | æŸ¥è¯¢å¤šæ¡è®°å½• |
| **ç»Ÿè®¡** | `count` | `countUsers()` | ç»Ÿè®¡è®°å½•æ•° |

### 2.2 åŸºç¡€CRUDæ¥å£è®¾è®¡


**ğŸ“‹ æ ‡å‡†CRUDæ¥å£æ¨¡æ¿**
```java
public interface UserDAO {
    /**
     * æ·»åŠ ç”¨æˆ·
     * @param user ç”¨æˆ·å¯¹è±¡
     * @return æ˜¯å¦æ·»åŠ æˆåŠŸ
     */
    boolean addUser(User user);
    
    /**
     * æ ¹æ®IDåˆ é™¤ç”¨æˆ·
     * @param userId ç”¨æˆ·ID
     * @return æ˜¯å¦åˆ é™¤æˆåŠŸ
     */
    boolean deleteUser(int userId);
    
    /**
     * æ›´æ–°ç”¨æˆ·ä¿¡æ¯
     * @param user ç”¨æˆ·å¯¹è±¡
     * @return æ˜¯å¦æ›´æ–°æˆåŠŸ
     */
    boolean updateUser(User user);
    
    /**
     * æ ¹æ®IDæŸ¥è¯¢ç”¨æˆ·
     * @param userId ç”¨æˆ·ID
     * @return ç”¨æˆ·å¯¹è±¡ï¼Œä¸å­˜åœ¨è¿”å›null
     */
    User findUserById(int userId);
    
    /**
     * æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·
     * @return ç”¨æˆ·åˆ—è¡¨
     */
    List<User> findAllUsers();
}
```

### 2.3 æ‰©å±•æŸ¥è¯¢æ–¹æ³•è®¾è®¡


**ğŸ” å¸¸ç”¨æŸ¥è¯¢æ–¹æ³•**
```java
public interface UserDAO extends BaseDAO<User> {
    
    // æŒ‰æ¡ä»¶æŸ¥è¯¢
    User findUserByUsername(String username);
    User findUserByEmail(String email);
    
    // æ¨¡ç³ŠæŸ¥è¯¢
    List<User> findUsersByNameLike(String namePattern);
    
    // åˆ†é¡µæŸ¥è¯¢
    List<User> findUsersByPage(int pageNum, int pageSize);
    
    // ç»Ÿè®¡æŸ¥è¯¢
    int countTotalUsers();
    int countActiveUsers();
    
    // æ¡ä»¶æŸ¥è¯¢
    List<User> findUsersByCondition(UserQueryCondition condition);
}
```

---

## 3. ğŸ› ï¸ å®ç°ç±»ç¼–å†™è§„èŒƒ


### 3.1 åŸºæœ¬å®ç°ç±»ç»“æ„


**ğŸ—ï¸ å®ç°ç±»æ¨¡æ¿**
```java
public class UserDAOImpl implements UserDAO {
    
    // æ•°æ®åº“è¿æ¥å·¥å…·
    private DataSource dataSource;
    
    // æ„é€ æ–¹æ³•
    public UserDAOImpl() {
        this.dataSource = DBUtil.getDataSource();
    }
    
    @Override
    public boolean addUser(User user) {
        // å…·ä½“å®ç°
        return false;
    }
    
    // å…¶ä»–æ–¹æ³•å®ç°...
}
```

### 3.2 æ·»åŠ æ“ä½œå®ç°


**â• INSERTæ“ä½œè¯¦è§£**
```java
@Override
public boolean addUser(User user) {
    String sql = "INSERT INTO users(username, password, email, create_time) VALUES(?, ?, ?, ?)";
    
    Connection conn = null;
    PreparedStatement pstmt = null;
    
    try {
        // 1. è·å–è¿æ¥
        conn = dataSource.getConnection();
        
        // 2. å‡†å¤‡SQLè¯­å¥
        pstmt = conn.prepareStatement(sql);
        pstmt.setString(1, user.getUsername());
        pstmt.setString(2, user.getPassword());
        pstmt.setString(3, user.getEmail());
        pstmt.setTimestamp(4, new Timestamp(System.currentTimeMillis()));
        
        // 3. æ‰§è¡ŒSQL
        int rowsAffected = pstmt.executeUpdate();
        
        // 4. åˆ¤æ–­æ˜¯å¦æˆåŠŸï¼ˆå½±å“è¡Œæ•°å¤§äº0è¡¨ç¤ºæˆåŠŸï¼‰
        return rowsAffected > 0;
        
    } catch (SQLException e) {
        e.printStackTrace();
        return false;
    } finally {
        // 5. é‡Šæ”¾èµ„æº
        DBUtil.close(conn, pstmt, null);
    }
}
```

### 3.3 æŸ¥è¯¢æ“ä½œå®ç°


**ğŸ” SELECTæ“ä½œè¯¦è§£**
```java
@Override
public User findUserById(int userId) {
    String sql = "SELECT id, username, password, email, create_time FROM users WHERE id = ?";
    
    Connection conn = null;
    PreparedStatement pstmt = null;
    ResultSet rs = null;
    
    try {
        conn = dataSource.getConnection();
        pstmt = conn.prepareStatement(sql);
        pstmt.setInt(1, userId);
        
        rs = pstmt.executeQuery();
        
        // å¤„ç†ç»“æœé›†
        if (rs.next()) {
            User user = new User();
            user.setId(rs.getInt("id"));
            user.setUsername(rs.getString("username"));
            user.setPassword(rs.getString("password"));
            user.setEmail(rs.getString("email"));
            user.setCreateTime(rs.getTimestamp("create_time"));
            return user;
        }
        
        return null; // æ²¡æ‰¾åˆ°ç”¨æˆ·
        
    } catch (SQLException e) {
        e.printStackTrace();
        return null;
    } finally {
        DBUtil.close(conn, pstmt, rs);
    }
}
```

### 3.4 ç»“æœé›†å¤„ç†ä¼˜åŒ–


**âš¡ æå–å…¬å…±æ–¹æ³•**
```java
/**
 * ä»ç»“æœé›†ä¸­æ„å»ºUserå¯¹è±¡
 * é¿å…é‡å¤ä»£ç 
 */
private User buildUserFromResultSet(ResultSet rs) throws SQLException {
    User user = new User();
    user.setId(rs.getInt("id"));
    user.setUsername(rs.getString("username"));
    user.setPassword(rs.getString("password"));
    user.setEmail(rs.getString("email"));
    user.setCreateTime(rs.getTimestamp("create_time"));
    return user;
}

// åœ¨æŸ¥è¯¢æ–¹æ³•ä¸­ä½¿ç”¨
@Override
public List<User> findAllUsers() {
    String sql = "SELECT id, username, password, email, create_time FROM users";
    List<User> users = new ArrayList<>();
    
    Connection conn = null;
    PreparedStatement pstmt = null;
    ResultSet rs = null;
    
    try {
        conn = dataSource.getConnection();
        pstmt = conn.prepareStatement(sql);
        rs = pstmt.executeQuery();
        
        while (rs.next()) {
            users.add(buildUserFromResultSet(rs)); // å¤ç”¨æ–¹æ³•
        }
        
    } catch (SQLException e) {
        e.printStackTrace();
    } finally {
        DBUtil.close(conn, pstmt, rs);
    }
    
    return users;
}
```

---

## 4. ğŸ“¦ CRUDæ“ä½œå°è£…


### 4.1 é€šç”¨DAOåŸºç±»è®¾è®¡


**ğŸ”¸ BaseDAOæŠ½è±¡ç±»**
```java
public abstract class BaseDAO<T> {
    
    protected DataSource dataSource;
    
    public BaseDAO() {
        this.dataSource = DBUtil.getDataSource();
    }
    
    /**
     * é€šç”¨å¢åˆ æ”¹æ“ä½œ
     * @param sql SQLè¯­å¥
     * @param params å‚æ•°æ•°ç»„
     * @return å½±å“çš„è¡Œæ•°
     */
    protected int executeUpdate(String sql, Object... params) {
        Connection conn = null;
        PreparedStatement pstmt = null;
        
        try {
            conn = dataSource.getConnection();
            pstmt = conn.prepareStatement(sql);
            
            // è®¾ç½®å‚æ•°
            for (int i = 0; i < params.length; i++) {
                pstmt.setObject(i + 1, params[i]);
            }
            
            return pstmt.executeUpdate();
            
        } catch (SQLException e) {
            e.printStackTrace();
            return 0;
        } finally {
            DBUtil.close(conn, pstmt, null);
        }
    }
    
    /**
     * é€šç”¨æŸ¥è¯¢æ“ä½œ
     */
    protected <R> R executeQuery(String sql, ResultSetHandler<R> handler, Object... params) {
        Connection conn = null;
        PreparedStatement pstmt = null;
        ResultSet rs = null;
        
        try {
            conn = dataSource.getConnection();
            pstmt = conn.prepareStatement(sql);
            
            for (int i = 0; i < params.length; i++) {
                pstmt.setObject(i + 1, params[i]);
            }
            
            rs = pstmt.executeQuery();
            return handler.handle(rs);
            
        } catch (SQLException e) {
            e.printStackTrace();
            return null;
        } finally {
            DBUtil.close(conn, pstmt, rs);
        }
    }
}

// ç»“æœé›†å¤„ç†æ¥å£
@FunctionalInterface
interface ResultSetHandler<T> {
    T handle(ResultSet rs) throws SQLException;
}
```

### 4.2 ç®€åŒ–çš„CRUDå®ç°


**âš¡ ä½¿ç”¨BaseDAOç®€åŒ–ä»£ç **
```java
public class UserDAOImpl extends BaseDAO<User> implements UserDAO {
    
    @Override
    public boolean addUser(User user) {
        String sql = "INSERT INTO users(username, password, email, create_time) VALUES(?, ?, ?, ?)";
        int rows = executeUpdate(sql, 
            user.getUsername(), 
            user.getPassword(), 
            user.getEmail(), 
            new Timestamp(System.currentTimeMillis())
        );
        return rows > 0;
    }
    
    @Override
    public boolean deleteUser(int userId) {
        String sql = "DELETE FROM users WHERE id = ?";
        return executeUpdate(sql, userId) > 0;
    }
    
    @Override
    public User findUserById(int userId) {
        String sql = "SELECT * FROM users WHERE id = ?";
        return executeQuery(sql, rs -> {
            if (rs.next()) {
                return buildUserFromResultSet(rs);
            }
            return null;
        }, userId);
    }
}
```

### 4.3 æ‰¹é‡æ“ä½œä¼˜åŒ–


**ğŸ“Š æ‰¹é‡æ’å…¥å®ç°**
```java
@Override
public boolean addUsersInBatch(List<User> users) {
    if (users == null || users.isEmpty()) {
        return false;
    }
    
    String sql = "INSERT INTO users(username, password, email, create_time) VALUES(?, ?, ?, ?)";
    Connection conn = null;
    PreparedStatement pstmt = null;
    
    try {
        conn = dataSource.getConnection();
        conn.setAutoCommit(false); // å…³é—­è‡ªåŠ¨æäº¤
        
        pstmt = conn.prepareStatement(sql);
        
        for (User user : users) {
            pstmt.setString(1, user.getUsername());
            pstmt.setString(2, user.getPassword());
            pstmt.setString(3, user.getEmail());
            pstmt.setTimestamp(4, new Timestamp(System.currentTimeMillis()));
            pstmt.addBatch(); // æ·»åŠ åˆ°æ‰¹æ¬¡
        }
        
        int[] results = pstmt.executeBatch(); // æ‰§è¡Œæ‰¹æ¬¡
        conn.commit(); // æäº¤äº‹åŠ¡
        
        // æ£€æŸ¥æ˜¯å¦æ‰€æœ‰æ“ä½œéƒ½æˆåŠŸ
        for (int result : results) {
            if (result <= 0) {
                return false;
            }
        }
        return true;
        
    } catch (SQLException e) {
        try {
            if (conn != null) {
                conn.rollback(); // å›æ»šäº‹åŠ¡
            }
        } catch (SQLException ex) {
            ex.printStackTrace();
        }
        e.printStackTrace();
        return false;
    } finally {
        try {
            if (conn != null) {
                conn.setAutoCommit(true); // æ¢å¤è‡ªåŠ¨æäº¤
            }
        } catch (SQLException e) {
            e.printStackTrace();
        }
        DBUtil.close(conn, pstmt, null);
    }
}
```

---

## 5. ğŸ“„ åˆ†é¡µæŸ¥è¯¢å®ç°


### 5.1 åˆ†é¡µæŸ¥è¯¢åŸºç¡€æ¦‚å¿µ


**ğŸ”¸ åˆ†é¡µåŸç†ç†è§£**
```
åˆ†é¡µå°±åƒçœ‹ä¹¦ï¼š
- æ€»é¡µæ•°ï¼šä¹¦æ€»å…±æœ‰å¤šå°‘é¡µ
- å½“å‰é¡µï¼šç°åœ¨çœ‹ç¬¬å‡ é¡µ  
- æ¯é¡µå¤§å°ï¼šæ¯é¡µæ˜¾ç¤ºå¤šå°‘è¡Œå†…å®¹

æ•°æ®åº“åˆ†é¡µï¼š
- pageNumï¼šç¬¬å‡ é¡µï¼ˆä»1å¼€å§‹ï¼‰
- pageSizeï¼šæ¯é¡µæ˜¾ç¤ºå¤šå°‘æ¡è®°å½•
- totalCountï¼šæ€»è®°å½•æ•°
- totalPagesï¼šæ€»é¡µæ•° = (totalCount + pageSize - 1) / pageSize
```

### 5.2 MySQLåˆ†é¡µæŸ¥è¯¢å®ç°


**ğŸ“Š LIMITåˆ†é¡µæŸ¥è¯¢**
```java
public class PageInfo<T> {
    private int pageNum;        // å½“å‰é¡µç 
    private int pageSize;       // æ¯é¡µå¤§å°
    private int totalCount;     // æ€»è®°å½•æ•°
    private int totalPages;     // æ€»é¡µæ•°
    private List<T> data;       // å½“å‰é¡µæ•°æ®
    
    // æ„é€ æ–¹æ³•å’Œgetter/setter...
    
    public PageInfo(int pageNum, int pageSize) {
        this.pageNum = Math.max(pageNum, 1);
        this.pageSize = Math.max(pageSize, 1);
    }
    
    // è®¡ç®—æ€»é¡µæ•°
    public void calculateTotalPages() {
        this.totalPages = (totalCount + pageSize - 1) / pageSize;
    }
    
    // è®¡ç®—åç§»é‡
    public int getOffset() {
        return (pageNum - 1) * pageSize;
    }
}

@Override
public PageInfo<User> findUsersByPage(int pageNum, int pageSize) {
    PageInfo<User> pageInfo = new PageInfo<>(pageNum, pageSize);
    
    // 1. æŸ¥è¯¢æ€»è®°å½•æ•°
    String countSql = "SELECT COUNT(*) FROM users";
    Integer totalCount = executeQuery(countSql, rs -> {
        rs.next();
        return rs.getInt(1);
    });
    
    pageInfo.setTotalCount(totalCount == null ? 0 : totalCount);
    pageInfo.calculateTotalPages();
    
    // 2. æŸ¥è¯¢å½“å‰é¡µæ•°æ®
    String dataSql = "SELECT * FROM users LIMIT ?, ?";
    List<User> users = executeQuery(dataSql, rs -> {
        List<User> list = new ArrayList<>();
        while (rs.next()) {
            list.add(buildUserFromResultSet(rs));
        }
        return list;
    }, pageInfo.getOffset(), pageSize);
    
    pageInfo.setData(users == null ? new ArrayList<>() : users);
    return pageInfo;
}
```

### 5.3 å¸¦æ¡ä»¶çš„åˆ†é¡µæŸ¥è¯¢


**ğŸ” æ¡ä»¶åˆ†é¡µæŸ¥è¯¢**
```java
public PageInfo<User> findUsersByCondition(UserQueryCondition condition, int pageNum, int pageSize) {
    PageInfo<User> pageInfo = new PageInfo<>(pageNum, pageSize);
    
    // æ„å»ºWHEREå­å¥
    StringBuilder whereClause = new StringBuilder(" WHERE 1=1 ");
    List<Object> params = new ArrayList<>();
    
    if (condition.getUsername() != null && !condition.getUsername().trim().isEmpty()) {
        whereClause.append(" AND username LIKE ? ");
        params.add("%" + condition.getUsername().trim() + "%");
    }
    
    if (condition.getEmail() != null && !condition.getEmail().trim().isEmpty()) {
        whereClause.append(" AND email = ? ");
        params.add(condition.getEmail().trim());
    }
    
    if (condition.getStartDate() != null) {
        whereClause.append(" AND create_time >= ? ");
        params.add(condition.getStartDate());
    }
    
    // æŸ¥è¯¢æ€»æ•°
    String countSql = "SELECT COUNT(*) FROM users " + whereClause.toString();
    Integer totalCount = executeQuery(countSql, rs -> {
        rs.next();
        return rs.getInt(1);
    }, params.toArray());
    
    pageInfo.setTotalCount(totalCount == null ? 0 : totalCount);
    pageInfo.calculateTotalPages();
    
    // æŸ¥è¯¢æ•°æ®
    String dataSql = "SELECT * FROM users " + whereClause.toString() + " ORDER BY id DESC LIMIT ?, ?";
    params.add(pageInfo.getOffset());
    params.add(pageSize);
    
    List<User> users = executeQuery(dataSql, rs -> {
        List<User> list = new ArrayList<>();
        while (rs.next()) {
            list.add(buildUserFromResultSet(rs));
        }
        return list;
    }, params.toArray());
    
    pageInfo.setData(users == null ? new ArrayList<>() : users);
    return pageInfo;
}
```

---

## 6. ğŸ“¦ æ‰¹é‡æ“ä½œå¤„ç†


### 6.1 æ‰¹é‡æ’å…¥ä¼˜åŒ–ç­–ç•¥


**âš¡ é«˜æ€§èƒ½æ‰¹é‡æ’å…¥**
```java
/**
 * åˆ†æ‰¹æ‰¹é‡æ’å…¥ï¼Œé¿å…å†…å­˜æº¢å‡º
 */
@Override
public boolean addUsersInBatches(List<User> users, int batchSize) {
    if (users == null || users.isEmpty()) {
        return true;
    }
    
    // é»˜è®¤æ‰¹æ¬¡å¤§å°
    if (batchSize <= 0) {
        batchSize = 1000;
    }
    
    boolean allSuccess = true;
    
    // åˆ†æ‰¹å¤„ç†
    for (int i = 0; i < users.size(); i += batchSize) {
        int endIndex = Math.min(i + batchSize, users.size());
        List<User> batch = users.subList(i, endIndex);
        
        if (!addUsersInBatch(batch)) {
            allSuccess = false;
            System.err.println("æ‰¹æ¬¡æ’å…¥å¤±è´¥ï¼šç¬¬" + (i / batchSize + 1) + "æ‰¹æ¬¡");
        }
    }
    
    return allSuccess;
}
```

### 6.2 æ‰¹é‡æ›´æ–°æ“ä½œ


**ğŸ”„ æ‰¹é‡æ›´æ–°å®ç°**
```java
@Override
public boolean updateUsersInBatch(List<User> users) {
    if (users == null || users.isEmpty()) {
        return false;
    }
    
    String sql = "UPDATE users SET username=?, password=?, email=? WHERE id=?";
    Connection conn = null;
    PreparedStatement pstmt = null;
    
    try {
        conn = dataSource.getConnection();
        conn.setAutoCommit(false);
        
        pstmt = conn.prepareStatement(sql);
        
        for (User user : users) {
            pstmt.setString(1, user.getUsername());
            pstmt.setString(2, user.getPassword());
            pstmt.setString(3, user.getEmail());
            pstmt.setInt(4, user.getId());
            pstmt.addBatch();
        }
        
        int[] results = pstmt.executeBatch();
        conn.commit();
        
        // æ£€æŸ¥ç»“æœ
        for (int result : results) {
            if (result <= 0) {
                return false;
            }
        }
        return true;
        
    } catch (SQLException e) {
        try {
            if (conn != null) {
                conn.rollback();
            }
        } catch (SQLException ex) {
            ex.printStackTrace();
        }
        e.printStackTrace();
        return false;
    } finally {
        try {
            if (conn != null) {
                conn.setAutoCommit(true);
            }
        } catch (SQLException e) {
            e.printStackTrace();
        }
        DBUtil.close(conn, pstmt, null);
    }
}
```

### 6.3 æ‰¹é‡åˆ é™¤æ“ä½œ


**ğŸ—‘ï¸ å®‰å…¨çš„æ‰¹é‡åˆ é™¤**
```java
@Override
public boolean deleteUsersByIds(List<Integer> userIds) {
    if (userIds == null || userIds.isEmpty()) {
        return false;
    }
    
    // æ„å»ºINå­å¥çš„SQL
    StringBuilder sql = new StringBuilder("DELETE FROM users WHERE id IN (");
    for (int i = 0; i < userIds.size(); i++) {
        sql.append("?");
        if (i < userIds.size() - 1) {
            sql.append(",");
        }
    }
    sql.append(")");
    
    Object[] params = userIds.toArray();
    int deletedCount = executeUpdate(sql.toString(), params);
    
    return deletedCount == userIds.size();
}

// æ›´å®‰å…¨çš„æ–¹å¼ï¼šå…ˆæ£€æŸ¥å­˜åœ¨æ€§å†åˆ é™¤
@Override
public boolean safeDeleteUsersByIds(List<Integer> userIds) {
    if (userIds == null || userIds.isEmpty()) {
        return false;
    }
    
    // 1. å…ˆæ£€æŸ¥è¦åˆ é™¤çš„ç”¨æˆ·æ˜¯å¦éƒ½å­˜åœ¨
    List<Integer> existingIds = findExistingUserIds(userIds);
    
    if (existingIds.size() != userIds.size()) {
        System.err.println("éƒ¨åˆ†ç”¨æˆ·ä¸å­˜åœ¨ï¼Œåˆ é™¤æ“ä½œè¢«å–æ¶ˆ");
        return false;
    }
    
    // 2. æ‰§è¡Œåˆ é™¤
    return deleteUsersByIds(existingIds);
}
```

---

## 7. ğŸ”— è¿æ¥èµ„æºç®¡ç†


### 7.1 èµ„æºé‡Šæ”¾çš„é‡è¦æ€§


**âš ï¸ ä¸ºä»€ä¹ˆå¿…é¡»é‡Šæ”¾èµ„æº**
```
æ•°æ®åº“è¿æ¥å°±åƒï¼š
- é¤å…çš„åº§ä½ â†’ æœ‰é™çš„èµ„æº
- ä¸é‡Šæ”¾è¿æ¥ â†’ åº§ä½ä¸€ç›´è¢«å ç”¨
- å…¶ä»–å®¢æˆ· â†’ æ— æ³•è·å¾—æœåŠ¡
- æœ€ç»ˆç»“æœ â†’ ç³»ç»Ÿå´©æºƒ

åæœï¼š
- è¿æ¥æ± è€—å°½
- æ–°è¯·æ±‚æ— æ³•è·å–è¿æ¥
- åº”ç”¨ç¨‹åºå‡æ­»
- æ•°æ®åº“æœåŠ¡å™¨å‹åŠ›è¿‡å¤§
```

### 7.2 æ ‡å‡†èµ„æºé‡Šæ”¾æ¨¡å¼


**ğŸ”§ try-with-resourcesæ–¹å¼**
```java
// Java 7+ æ¨èå†™æ³•
@Override
public User findUserById(int userId) {
    String sql = "SELECT * FROM users WHERE id = ?";
    
    try (Connection conn = dataSource.getConnection();
         PreparedStatement pstmt = conn.prepareStatement(sql)) {
        
        pstmt.setInt(1, userId);
        
        try (ResultSet rs = pstmt.executeQuery()) {
            if (rs.next()) {
                return buildUserFromResultSet(rs);
            }
            return null;
        }
        
    } catch (SQLException e) {
        e.printStackTrace();
        return null;
    }
}
```

### 7.3 æ•°æ®åº“è¿æ¥æ± ç®¡ç†


**ğŸŠâ€â™‚ï¸ è¿æ¥æ± é…ç½®ç¤ºä¾‹**
```java
public class ConnectionPoolManager {
    
    private static final String DRIVER = "com.mysql.cj.jdbc.Driver";
    private static final String URL = "jdbc:mysql://localhost:3306/testdb";
    private static final String USERNAME = "root";
    private static final String PASSWORD = "password";
    
    private static HikariDataSource dataSource;
    
    static {
        try {
            Class.forName(DRIVER);
            
            HikariConfig config = new HikariConfig();
            config.setJdbcUrl(URL);
            config.setUsername(USERNAME);
            config.setPassword(PASSWORD);
            
            // è¿æ¥æ± é…ç½®
            config.setMaximumPoolSize(20);      // æœ€å¤§è¿æ¥æ•°
            config.setMinimumIdle(5);           // æœ€å°ç©ºé—²è¿æ¥
            config.setConnectionTimeout(30000); // è¿æ¥è¶…æ—¶æ—¶é—´
            config.setIdleTimeout(300000);      // ç©ºé—²è¶…æ—¶æ—¶é—´
            config.setMaxLifetime(900000);      // è¿æ¥æœ€å¤§ç”Ÿå­˜æ—¶é—´
            
            dataSource = new HikariDataSource(config);
            
        } catch (ClassNotFoundException e) {
            e.printStackTrace();
        }
    }
    
    public static DataSource getDataSource() {
        return dataSource;
    }
    
    // åº”ç”¨å…³é—­æ—¶è°ƒç”¨
    public static void shutdown() {
        if (dataSource != null && !dataSource.isClosed()) {
            dataSource.close();
        }
    }
}
```

### 7.4 è¿æ¥æ³„æ¼ç›‘æ§


**ğŸ” è¿æ¥ä½¿ç”¨ç›‘æ§**
```java
public class ConnectionMonitor {
    
    private static final Logger logger = LoggerFactory.getLogger(ConnectionMonitor.class);
    private static final Map<Connection, StackTraceElement[]> connectionTracker = 
        new ConcurrentHashMap<>();
    
    public static Connection getConnection() throws SQLException {
        Connection conn = ConnectionPoolManager.getDataSource().getConnection();
        
        // è®°å½•è¿æ¥è·å–ä½ç½®ï¼ˆç”¨äºè°ƒè¯•ï¼‰
        if (logger.isDebugEnabled()) {
            StackTraceElement[] stackTrace = Thread.currentThread().getStackTrace();
            connectionTracker.put(conn, stackTrace);
            logger.debug("è·å–è¿æ¥ï¼š{}", conn.hashCode());
        }
        
        return conn;
    }
    
    public static void closeConnection(Connection conn) {
        if (conn != null) {
            try {
                conn.close();
                connectionTracker.remove(conn);
                if (logger.isDebugEnabled()) {
                    logger.debug("é‡Šæ”¾è¿æ¥ï¼š{}", conn.hashCode());
                }
            } catch (SQLException e) {
                logger.error("å…³é—­è¿æ¥æ—¶å‘ç”Ÿé”™è¯¯", e);
            }
        }
    }
    
    // æ£€æŸ¥æœªé‡Šæ”¾çš„è¿æ¥
    public static void checkLeakedConnections() {
        if (!connectionTracker.isEmpty()) {
            logger.warn("å‘ç°{}ä¸ªæœªé‡Šæ”¾çš„è¿æ¥", connectionTracker.size());
            for (Map.Entry<Connection, StackTraceElement[]> entry : connectionTracker.entrySet()) {
                logger.warn("æ³„æ¼è¿æ¥è·å–ä½ç½®ï¼š{}", Arrays.toString(entry.getValue()));
            }
        }
    }
}
```

---

## 8. ğŸ¯ æœ€ä½³å®è·µä¸ä¼˜åŒ–


### 8.1 DAOè®¾è®¡æœ€ä½³å®è·µ


**âœ… è®¾è®¡åŸåˆ™**
```
1. å•ä¸€èŒè´£åŸåˆ™
   âœ… æ¯ä¸ªDAOåªè´Ÿè´£ä¸€ä¸ªå®ä½“çš„æ•°æ®è®¿é—®
   âŒ ä¸è¦åœ¨UserDAOä¸­å¤„ç†è®¢å•ç›¸å…³æ“ä½œ

2. æ¥å£åˆ†ç¦»åŸåˆ™  
   âœ… å®šä¹‰æ¸…æ™°çš„æ¥å£ï¼Œé¿å…åºå¤§çš„æ–¹æ³•
   âœ… å¯ä»¥å®šä¹‰ä¸“é—¨çš„æŸ¥è¯¢æ¥å£ï¼šUserQueryDAO

3. å¼‚å¸¸å¤„ç†ç»Ÿä¸€
   âœ… å®šä¹‰ç»Ÿä¸€çš„DAOå¼‚å¸¸ç±»å‹
   âœ… è®°å½•è¯¦ç»†çš„é”™è¯¯æ—¥å¿—

4. æ€§èƒ½è€ƒè™‘
   âœ… é¿å…N+1æŸ¥è¯¢é—®é¢˜
   âœ… åˆç†ä½¿ç”¨æ‰¹é‡æ“ä½œ
   âœ… é€‚å½“ä½¿ç”¨ç¼“å­˜
```

### 8.2 SQLæ³¨å…¥é˜²æŠ¤


**ğŸ›¡ï¸ å®‰å…¨ç¼–ç¨‹å®è·µ**
```java
// âŒ é”™è¯¯ç¤ºä¾‹ï¼šå®¹æ˜“SQLæ³¨å…¥
@Override
public User findUserByUsername(String username) {
    String sql = "SELECT * FROM users WHERE username = '" + username + "'";
    // å¦‚æœusername = "admin' OR '1'='1"
    // SQLå˜æˆï¼šSELECT * FROM users WHERE username = 'admin' OR '1'='1'
    // è¿™æ ·å°±èƒ½ç»•è¿‡éªŒè¯ï¼
}

// âœ… æ­£ç¡®ç¤ºä¾‹ï¼šä½¿ç”¨PreparedStatement
@Override
public User findUserByUsername(String username) {
    String sql = "SELECT * FROM users WHERE username = ?";
    return executeQuery(sql, rs -> {
        if (rs.next()) {
            return buildUserFromResultSet(rs);
        }
        return null;
    }, username); // å‚æ•°ä¼šè¢«è‡ªåŠ¨è½¬ä¹‰
}

// âœ… åŠ¨æ€SQLçš„å®‰å…¨å¤„ç†
public List<User> findUsersByDynamicCondition(String orderBy, String sortDirection) {
    // ç™½åå•éªŒè¯
    Set<String> allowedColumns = Set.of("id", "username", "email", "create_time");
    Set<String> allowedDirections = Set.of("ASC", "DESC");
    
    if (!allowedColumns.contains(orderBy)) {
        orderBy = "id"; // é»˜è®¤å€¼
    }
    
    if (!allowedDirections.contains(sortDirection.toUpperCase())) {
        sortDirection = "ASC"; // é»˜è®¤å€¼
    }
    
    // è¿™é‡Œå¯ä»¥å®‰å…¨åœ°æ‹¼æ¥SQLï¼Œå› ä¸ºå·²ç»éªŒè¯è¿‡äº†
    String sql = "SELECT * FROM users ORDER BY " + orderBy + " " + sortDirection;
    
    return executeQuery(sql, rs -> {
        List<User> users = new ArrayList<>();
        while (rs.next()) {
            users.add(buildUserFromResultSet(rs));
        }
        return users;
    });
}
```

### 8.3 æ€§èƒ½ä¼˜åŒ–ç­–ç•¥


**âš¡ å¸¸è§ä¼˜åŒ–æŠ€å·§**
```java
// 1. é¿å…æŸ¥è¯¢æ‰€æœ‰å­—æ®µ
// âŒ æ•ˆç‡ä½
String sql = "SELECT * FROM users WHERE id = ?";

// âœ… åªæŸ¥è¯¢éœ€è¦çš„å­—æ®µ
String sql = "SELECT id, username, email FROM users WHERE id = ?";

// 2. æ‰¹é‡æŸ¥è¯¢ä¼˜åŒ–
// âŒ N+1æŸ¥è¯¢é—®é¢˜
public List<User> getUsersWithRoles(List<Integer> userIds) {
    List<User> users = new ArrayList<>();
    for (Integer userId : userIds) {
        User user = findUserById(userId);        // 1æ¬¡æŸ¥è¯¢
        List<Role> roles = findRolesByUserId(userId); // Næ¬¡æŸ¥è¯¢
        user.setRoles(roles);
        users.add(user);
    }
    return users; // æ€»å…±1+Næ¬¡æŸ¥è¯¢
}

// âœ… ä¼˜åŒ–åçš„æ‰¹é‡æŸ¥è¯¢
public List<User> getUsersWithRoles(List<Integer> userIds) {
    if (userIds == null || userIds.isEmpty()) {
        return new ArrayList<>();
    }
    
    // 1æ¬¡æŸ¥è¯¢è·å–æ‰€æœ‰ç”¨æˆ·
    List<User> users = findUsersByIds(userIds);
    
    // 1æ¬¡æŸ¥è¯¢è·å–æ‰€æœ‰è§’è‰²å…³ç³»
    Map<Integer, List<Role>> roleMap = findRolesMapByUserIds(userIds);
    
    // ç»„è£…æ•°æ®
    for (User user : users) {
        user.setRoles(roleMap.getOrDefault(user.getId(), new ArrayList<>()));
    }
    
    return users; // æ€»å…±2æ¬¡æŸ¥è¯¢
}
```

### 8.4 ç¼“å­˜é›†æˆç¤ºä¾‹


**ğŸš€ ç®€å•ç¼“å­˜é›†æˆ**
```java
public class CachedUserDAOImpl implements UserDAO {
    
    private UserDAO userDAO;
    private Map<Integer, User> cache = new ConcurrentHashMap<>();
    private long cacheExpireTime = 5 * 60 * 1000; // 5åˆ†é’Ÿè¿‡æœŸ
    private Map<Integer, Long> cacheTime = new ConcurrentHashMap<>();
    
    public CachedUserDAOImpl(UserDAO userDAO) {
        this.userDAO = userDAO;
    }
    
    @Override
    public User findUserById(int userId) {
        // æ£€æŸ¥ç¼“å­˜
        Long cachedTime = cacheTime.get(userId);
        if (cachedTime != null && 
            System.currentTimeMillis() - cachedTime < cacheExpireTime) {
            
            User cachedUser = cache.get(userId);
            if (cachedUser != null) {
                return cachedUser; // è¿”å›ç¼“å­˜æ•°æ®
            }
        }
        
        // ç¼“å­˜æœªå‘½ä¸­ï¼ŒæŸ¥è¯¢æ•°æ®åº“
        User user = userDAO.findUserById(userId);
        if (user != null) {
            cache.put(userId, user);
            cacheTime.put(userId, System.currentTimeMillis());
        }
        
        return user;
    }
    
    @Override
    public boolean updateUser(User user) {
        boolean success = userDAO.updateUser(user);
        if (success) {
            // æ›´æ–°æˆåŠŸï¼Œæ¸…é™¤ç¼“å­˜
            cache.remove(user.getId());
            cacheTime.remove(user.getId());
        }
        return success;
    }
    
    // å…¶ä»–æ–¹æ³•å§”æ‰˜ç»™åŸå§‹DAO...
}
```

---

## 9. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 9.1 å¿…é¡»æŒæ¡çš„åŸºæœ¬æ¦‚å¿µ


```
ğŸ”¸ DAOæ¨¡å¼ï¼šæ•°æ®è®¿é—®å¯¹è±¡ï¼Œå°è£…æ•°æ®åº“æ“ä½œçš„è®¾è®¡æ¨¡å¼
ğŸ”¸ æ¥å£åˆ†ç¦»ï¼šæ¥å£å®šä¹‰è§„èŒƒï¼Œå®ç°ç±»å¤„ç†å…·ä½“é€»è¾‘
ğŸ”¸ CRUDæ“ä½œï¼šCreateå¢åŠ ã€ReadæŸ¥è¯¢ã€Updateä¿®æ”¹ã€Deleteåˆ é™¤
ğŸ”¸ åˆ†é¡µæŸ¥è¯¢ï¼šå¤„ç†å¤§é‡æ•°æ®çš„åˆ†é¡µæ˜¾ç¤ºæœºåˆ¶
ğŸ”¸ èµ„æºç®¡ç†ï¼šæ•°æ®åº“è¿æ¥çš„æ­£ç¡®è·å–å’Œé‡Šæ”¾
```

### 9.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ DAOæ¨¡å¼çš„æ ¸å¿ƒä»·å€¼**
```
ä»£ç ç»„ç»‡ï¼š
- ä¸šåŠ¡é€»è¾‘ä¸æ•°æ®è®¿é—®åˆ†ç¦»
- æé«˜ä»£ç å¯ç»´æŠ¤æ€§å’Œå¯æµ‹è¯•æ€§
- ç»Ÿä¸€çš„æ•°æ®è®¿é—®æ¥å£

å¤ç”¨æ€§ï¼š
- ç›¸åŒçš„æ•°æ®æ“ä½œå¯ä»¥å¤ç”¨
- ä¸åŒçš„ä¸šåŠ¡åœºæ™¯ä½¿ç”¨ç›¸åŒçš„DAO
- å‡å°‘é‡å¤ä»£ç 
```

**ğŸ”¹ æ€§èƒ½ä¼˜åŒ–çš„å…³é”®ç‚¹**
```
è¿æ¥ç®¡ç†ï¼š
- ä½¿ç”¨è¿æ¥æ± ç®¡ç†æ•°æ®åº“è¿æ¥
- åŠæ—¶é‡Šæ”¾èµ„æºé¿å…è¿æ¥æ³„æ¼
- åˆç†é…ç½®è¿æ¥æ± å‚æ•°

æŸ¥è¯¢ä¼˜åŒ–ï¼š
- é¿å…N+1æŸ¥è¯¢é—®é¢˜
- ä½¿ç”¨æ‰¹é‡æ“ä½œå‡å°‘æ•°æ®åº“äº¤äº’
- åªæŸ¥è¯¢å¿…è¦çš„å­—æ®µå’Œæ•°æ®
```

### 9.3 å®è·µç»éªŒåˆ†äº«


**ğŸ’¡ å¼€å‘å»ºè®®**
```
è®¾è®¡é˜¶æ®µï¼š
âœ… å…ˆå®šä¹‰æ¸…æ™°çš„æ¥å£ï¼Œå†å®ç°å…·ä½“é€»è¾‘
âœ… è€ƒè™‘æœªæ¥å¯èƒ½çš„æ‰©å±•éœ€æ±‚
âœ… ç»Ÿä¸€å‘½åè§„èŒƒå’Œç¼–ç é£æ ¼

å¼€å‘é˜¶æ®µï¼š
âœ… ä½¿ç”¨PreparedStatementé˜²æ­¢SQLæ³¨å…¥
âœ… åˆç†å¤„ç†å¼‚å¸¸å’Œé”™è¯¯æƒ…å†µ
âœ… ç¼–å†™å•å…ƒæµ‹è¯•éªŒè¯åŠŸèƒ½

ç»´æŠ¤é˜¶æ®µï¼š
âœ… ç›‘æ§æ•°æ®åº“è¿æ¥ä½¿ç”¨æƒ…å†µ
âœ… å®šæœŸæ£€æŸ¥å’Œä¼˜åŒ–æ…¢æŸ¥è¯¢
âœ… åŠæ—¶æ›´æ–°å’Œé‡æ„è€æ—§ä»£ç 
```

### 9.4 å¸¸è§è¯¯åŒºé¿å…


```
âŒ å¸¸è§é”™è¯¯ï¼š
- å¿˜è®°é‡Šæ”¾æ•°æ®åº“èµ„æº
- åœ¨DAOä¸­å¤„ç†ä¸šåŠ¡é€»è¾‘
- ç›´æ¥æ‹¼æ¥SQLå­—ç¬¦ä¸²
- æ¯æ¬¡éƒ½æŸ¥è¯¢å…¨éƒ¨å­—æ®µ
- æ²¡æœ‰è€ƒè™‘å¹¶å‘å®‰å…¨é—®é¢˜

âœ… æ­£ç¡®åšæ³•ï¼š
- å§‹ç»ˆåœ¨finallyå—æˆ–try-with-resourcesä¸­é‡Šæ”¾èµ„æº
- DAOåªè´Ÿè´£æ•°æ®è®¿é—®ï¼Œä¸šåŠ¡é€»è¾‘æ”¾åœ¨Serviceå±‚
- ä½¿ç”¨PreparedStatementå’Œå‚æ•°ç»‘å®š
- æ ¹æ®å®é™…éœ€è¦é€‰æ‹©æŸ¥è¯¢å­—æ®µ
- è€ƒè™‘å¤šçº¿ç¨‹ç¯å¢ƒä¸‹çš„æ•°æ®ä¸€è‡´æ€§
```

**æ ¸å¿ƒè®°å¿†è¦ç‚¹**ï¼š
- DAOæ¨¡å¼è®©æ•°æ®è®¿é—®æ›´è§„èŒƒã€æ›´å®‰å…¨ã€æ›´æ˜“ç»´æŠ¤
- æ¥å£å®šä¹‰è§„èŒƒï¼Œå®ç°ç±»å¤„ç†ç»†èŠ‚
- èµ„æºç®¡ç†æ˜¯DAOå®ç°çš„é‡ä¸­ä¹‹é‡
- æ€§èƒ½ä¼˜åŒ–è¦ä»è®¾è®¡é˜¶æ®µå¼€å§‹è€ƒè™‘
- å®‰å…¨ç¼–ç¨‹é˜²æ­¢SQLæ³¨å…¥ç­‰å®‰å…¨é—®é¢˜