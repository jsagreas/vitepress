---
title: 1ã€ServletConfigå¯¹è±¡
---
## ğŸ“š ç›®å½•

1. [ServletConfigæ˜¯ä»€ä¹ˆ](#1-ServletConfigæ˜¯ä»€ä¹ˆ)
2. [ServletConfigçš„æ ¸å¿ƒä½œç”¨](#2-ServletConfigçš„æ ¸å¿ƒä½œç”¨)
3. [ServletConfigå¸¸ç”¨æ–¹æ³•è¯¦è§£](#3-ServletConfigå¸¸ç”¨æ–¹æ³•è¯¦è§£)
4. [åˆå§‹åŒ–å‚æ•°é…ç½®æ–¹å¼](#4-åˆå§‹åŒ–å‚æ•°é…ç½®æ–¹å¼)
5. [ServletConfigå®é™…åº”ç”¨åœºæ™¯](#5-ServletConfigå®é™…åº”ç”¨åœºæ™¯)
6. [é…ç½®ä½œç”¨åŸŸç†è§£](#6-é…ç½®ä½œç”¨åŸŸç†è§£)
7. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#7-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ¯ ServletConfigæ˜¯ä»€ä¹ˆ


### 1.1 é€šä¿—ç†è§£ServletConfig


**ç®€å•æ¯”å–»**ï¼šæƒ³è±¡ä½ æ˜¯ä¸€ä¸ªæ–°å‘˜å·¥ï¼Œå…¬å¸ç»™ä½ å‘äº†ä¸€ä¸ª**å·¥ä½œæ‰‹å†Œ**ï¼Œé‡Œé¢è®°å½•ç€ï¼š
- ä½ çš„å·¥å·ï¼ˆServletåç§°ï¼‰
- ä½ çš„éƒ¨é—¨ä¿¡æ¯ï¼ˆä¸Šä¸‹æ–‡ï¼‰
- ä½ çš„ä¸ªäººå·¥ä½œé…ç½®ï¼ˆåˆå§‹åŒ–å‚æ•°ï¼‰

ServletConfigå°±åƒè¿™ä¸ª**ä¸“å±å·¥ä½œæ‰‹å†Œ**ï¼Œæ¯ä¸ªServletéƒ½æœ‰è‡ªå·±ç‹¬æœ‰çš„ä¸€ä»½é…ç½®ä¿¡æ¯ã€‚

```
ç°å®åœºæ™¯å¯¹æ¯”ï¼š
å‘˜å·¥Açš„å·¥ä½œæ‰‹å†Œ â‰ˆ ServletAçš„ServletConfig
å‘˜å·¥Bçš„å·¥ä½œæ‰‹å†Œ â‰ˆ ServletBçš„ServletConfig

ç‰¹ç‚¹ï¼š
âœ… æ¯äººä¸€ä»½ï¼Œäº’ä¸å¹²æ‰°
âœ… è®°å½•ä¸ªäººä¸“å±ä¿¡æ¯
âœ… å…¥èŒæ—¶å°±åˆ†é…å¥½äº†
```

### 1.2 ServletConfigçš„æœ¬è´¨å®šä¹‰


**æ ¸å¿ƒæ¦‚å¿µ**ï¼š
- ServletConfigæ˜¯ä¸€ä¸ª**æ¥å£**ï¼Œä»£è¡¨Servletçš„é…ç½®ä¿¡æ¯
- **ä¸€ä¸ªServletå¯¹åº”ä¸€ä¸ªServletConfigå¯¹è±¡**
- åœ¨Servletåˆå§‹åŒ–æ—¶ç”±å®¹å™¨åˆ›å»ºå¹¶ä¼ é€’ç»™Servlet
- åŒ…å«è¯¥Servletä¸“å±çš„é…ç½®å‚æ•°å’Œç¯å¢ƒä¿¡æ¯

**å…³é”®ç‰¹ç‚¹**ï¼š
```
ğŸ”¸ ç‹¬äº«æ€§ï¼šæ¯ä¸ªServletéƒ½æœ‰è‡ªå·±ä¸“å±çš„ServletConfig
ğŸ”¸ æ—©æœŸæ€§ï¼šåœ¨Servletçš„init()æ–¹æ³•æ‰§è¡Œæ—¶å°±å¯ä»¥ä½¿ç”¨
ğŸ”¸ é…ç½®æ€§ï¼šä¸»è¦ç”¨æ¥è·å–éƒ¨ç½²æ—¶é…ç½®çš„å‚æ•°
ğŸ”¸ æ¡¥æ¢æ€§ï¼šå¯ä»¥é€šè¿‡å®ƒè·å–ServletContextï¼ˆæ•´ä¸ªåº”ç”¨çš„é…ç½®ï¼‰
```

---

## 2. âš¡ ServletConfigçš„æ ¸å¿ƒä½œç”¨


### 2.1 ä¸»è¦åŠŸèƒ½æ¦‚è¿°


ServletConfigä¸»è¦è§£å†³ä»¥ä¸‹é—®é¢˜ï¼š

**ğŸ¯ ä¸ªæ€§åŒ–é…ç½®**
- ä¸åŒçš„Servletå¯èƒ½éœ€è¦ä¸åŒçš„é…ç½®å‚æ•°
- æ¯”å¦‚æ•°æ®åº“è¿æ¥Servletéœ€è¦æ•°æ®åº“åœ°å€ï¼Œé‚®ä»¶å‘é€Servletéœ€è¦é‚®ç®±æœåŠ¡å™¨åœ°å€

**ğŸ“Š è¿è¡Œæ—¶å‚æ•°è·å–**
- åœ¨ç¨‹åºè¿è¡Œæ—¶åŠ¨æ€è·å–é…ç½®ä¿¡æ¯
- é¿å…æŠŠé…ç½®ä¿¡æ¯å†™æ­»åœ¨ä»£ç é‡Œ

**ğŸ”— ä¸Šä¸‹æ–‡è®¿é—®**
- é€šè¿‡ServletConfigå¯ä»¥è·å–åˆ°ServletContext
- å®ç°ä»å±€éƒ¨é…ç½®åˆ°å…¨å±€é…ç½®çš„è®¿é—®

### 2.2 å·¥ä½œåŸç†ç¤ºæ„


```
Webåº”ç”¨å¯åŠ¨æµç¨‹ï¼š

ç¬¬1æ­¥ï¼šå®¹å™¨è¯»å–web.xmlé…ç½®
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ <servlet>               â”‚
    â”‚   <servlet-name>demo    â”‚  â† è¯»å–é…ç½®ä¿¡æ¯
    â”‚   <init-param>          â”‚
    â”‚     <param-name>url     â”‚
    â”‚     <param-value>...    â”‚
    â”‚   </init-param>         â”‚
    â”‚ </servlet>              â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ç¬¬2æ­¥ï¼šä¸ºæ¯ä¸ªServletåˆ›å»ºä¸“å±ServletConfigå¯¹è±¡
    ServletConfig config = new ServletConfigImpl();
    config.setInitParameters(...);  â† å°è£…é…ç½®ä¿¡æ¯

ç¬¬3æ­¥ï¼šè°ƒç”¨Servletçš„init(ServletConfig)æ–¹æ³•
    MyServlet servlet = new MyServlet();
    servlet.init(config);  â† ä¼ é€’é…ç½®å¯¹è±¡

ç¬¬4æ­¥ï¼šServletå¯ä»¥ä½¿ç”¨ServletConfigè·å–é…ç½®
    String url = config.getInitParameter("url");
```

---

## 3. ğŸ”§ ServletConfigå¸¸ç”¨æ–¹æ³•è¯¦è§£


### 3.1 getInitParameter()æ–¹æ³•


**æ–¹æ³•ä½œç”¨**ï¼šè·å–æŒ‡å®šåç§°çš„åˆå§‹åŒ–å‚æ•°å€¼

```java
// æ–¹æ³•ç­¾å
String getInitParameter(String name)

// é€šä¿—è§£é‡Šï¼šå°±åƒæŸ¥å­—å…¸ä¸€æ ·ï¼Œç»™ä¸ªè¯ï¼ˆå‚æ•°åï¼‰ï¼Œè¿”å›è§£é‡Šï¼ˆå‚æ•°å€¼ï¼‰
```

**å®é™…åº”ç”¨ç¤ºä¾‹**ï¼š
```java
public class DatabaseServlet extends HttpServlet {
    private String dbUrl;
    private String dbUser;
    
    @Override
    public void init(ServletConfig config) throws ServletException {
        // è·å–æ•°æ®åº“è¿æ¥é…ç½®
        dbUrl = config.getInitParameter("database-url");
        dbUser = config.getInitParameter("database-user");
        
        // å¦‚æœæ²¡é…ç½®ï¼Œä½¿ç”¨é»˜è®¤å€¼
        if (dbUrl == null) {
            dbUrl = "localhost:3306/testdb";
        }
    }
}
```

**é‡è¦æç¤º**ï¼š
> âš ï¸ **æ³¨æ„**ï¼šå¦‚æœå‚æ•°ä¸å­˜åœ¨ï¼Œè¿”å›`null`ï¼Œä¸æ˜¯ç©ºå­—ç¬¦ä¸²
> ğŸ’¡ **å»ºè®®**ï¼šè·å–å‚æ•°åè¦åšnullå€¼æ£€æŸ¥

### 3.2 getInitParameterNames()æ–¹æ³•


**æ–¹æ³•ä½œç”¨**ï¼šè·å–æ‰€æœ‰åˆå§‹åŒ–å‚æ•°çš„åç§°

```java
// æ–¹æ³•ç­¾å
Enumeration<String> getInitParameterNames()

// é€šä¿—è§£é‡Šï¼šè·å–è¿™ä¸ªServletæ‰€æœ‰é…ç½®å‚æ•°çš„åå­—åˆ—è¡¨
```

**ä½¿ç”¨åœºæ™¯ç¤ºä¾‹**ï¼š
```java
public void showAllConfig(ServletConfig config) {
    System.out.println("=== å½“å‰Servletçš„æ‰€æœ‰é…ç½®å‚æ•° ===");
    
    Enumeration<String> paramNames = config.getInitParameterNames();
    while (paramNames.hasMoreElements()) {
        String paramName = paramNames.nextElement();
        String paramValue = config.getInitParameter(paramName);
        System.out.println(paramName + " = " + paramValue);
    }
}
```

**å®é™…è¾“å‡ºæ•ˆæœ**ï¼š
```
=== å½“å‰Servletçš„æ‰€æœ‰é…ç½®å‚æ•° ===
database-url = localhost:3306/mydb
database-user = admin
max-connections = 100
```

### 3.3 getServletName()æ–¹æ³•


**æ–¹æ³•ä½œç”¨**ï¼šè·å–å½“å‰Servletçš„åç§°

```java
// æ–¹æ³•ç­¾å  
String getServletName()

// é€šä¿—è§£é‡Šï¼šå‘Šè¯‰ä½ è¿™ä¸ªServletå«ä»€ä¹ˆåå­—
```

**åº”ç”¨åœºæ™¯**ï¼š
- **æ—¥å¿—è®°å½•**ï¼šåœ¨æ—¥å¿—ä¸­æ ‡è¯†æ˜¯å“ªä¸ªServletå‡ºçš„é—®é¢˜
- **è°ƒè¯•ä¿¡æ¯**ï¼šå¼€å‘æ—¶ç¡®è®¤å½“å‰è¿è¡Œçš„æ˜¯å“ªä¸ªServlet
- **åŠ¨æ€å¤„ç†**ï¼šæ ¹æ®Servletåç§°æ‰§è¡Œä¸åŒé€»è¾‘

```java
public void doGet(HttpServletRequest request, HttpServletResponse response) {
    String servletName = getServletConfig().getServletName();
    
    // è®°å½•è®¿é—®æ—¥å¿—
    System.out.println("è®¿é—®äº†Servletï¼š" + servletName + 
                      "ï¼Œæ—¶é—´ï¼š" + new Date());
    
    // æ ¹æ®åç§°æ‰§è¡Œä¸åŒé€»è¾‘
    if ("UserServlet".equals(servletName)) {
        // å¤„ç†ç”¨æˆ·ç›¸å…³ä¸šåŠ¡
    }
}
```

### 3.4 getServletContext()æ–¹æ³•


**æ–¹æ³•ä½œç”¨**ï¼šè·å–ServletContextå¯¹è±¡ï¼ˆåº”ç”¨ä¸Šä¸‹æ–‡ï¼‰

```java
// æ–¹æ³•ç­¾å
ServletContext getServletContext()

// é€šä¿—è§£é‡Šï¼šé€šè¿‡ä¸ªäººå·¥ä½œæ‰‹å†Œï¼Œæ‰¾åˆ°å…¬å¸çš„æ€»ä½“ä¿¡æ¯æ‰‹å†Œ
```

**å…³ç³»ç†è§£**ï¼š
```
ServletConfigï¼ˆä¸ªäººé…ç½®ï¼‰â†’ ServletContextï¼ˆå…¨å±€é…ç½®ï¼‰

ä¸ªäººä¿¡æ¯ï¼šå§“åã€å·¥å·ã€éƒ¨é—¨é…ç½®
å…¬å¸ä¿¡æ¯ï¼šå…¬å¸åç§°ã€æ€»éƒ¨åœ°å€ã€å…¨å…¬å¸å…±äº«èµ„æº

ServletConfigï¼šServletä¸“å±å‚æ•°
ServletContextï¼šæ•´ä¸ªWebåº”ç”¨å…±äº«ä¿¡æ¯
```

**å…¸å‹ç”¨æ³•**ï¼š
```java
public void init(ServletConfig config) throws ServletException {
    // è·å–ä¸ªäººé…ç½®
    String myParam = config.getInitParameter("my-param");
    
    // é€šè¿‡ServletConfigè·å–å…¨å±€ä¸Šä¸‹æ–‡
    ServletContext context = config.getServletContext();
    
    // è·å–å…¨å±€é…ç½®
    String globalParam = context.getInitParameter("global-param");
    
    // è·å–Webåº”ç”¨è·¯å¾„
    String webPath = context.getRealPath("/");
}
```

---

## 4. ğŸ“ åˆå§‹åŒ–å‚æ•°é…ç½®æ–¹å¼


### 4.1 web.xmlé…ç½®æ–¹å¼


**é…ç½®è¯­æ³•ç»“æ„**ï¼š
```xml
<web-app>
    <servlet>
        <servlet-name>myServlet</servlet-name>
        <servlet-class>com.example.MyServlet</servlet-class>
        
        <!-- åˆå§‹åŒ–å‚æ•°é…ç½®åŒºåŸŸ -->
        <init-param>
            <param-name>å‚æ•°å1</param-name>
            <param-value>å‚æ•°å€¼1</param-value>
        </init-param>
        
        <init-param>
            <param-name>å‚æ•°å2</param-name>
            <param-value>å‚æ•°å€¼2</param-value>
        </init-param>
    </servlet>
    
    <servlet-mapping>
        <servlet-name>myServlet</servlet-name>
        <url-pattern>/demo</url-pattern>
    </servlet-mapping>
</web-app>
```

**å®é™…é…ç½®ç¤ºä¾‹**ï¼š
```xml
<servlet>
    <servlet-name>EmailServlet</servlet-name>
    <servlet-class>com.example.EmailServlet</servlet-class>
    
    <init-param>
        <param-name>smtp-server</param-name>
        <param-value>smtp.qq.com</param-value>
    </init-param>
    
    <init-param>
        <param-name>smtp-port</param-name>
        <param-value>587</param-value>
    </init-param>
    
    <init-param>
        <param-name>sender-email</param-name>
        <param-value>admin@company.com</param-value>
    </init-param>
</servlet>
```

### 4.2 æ³¨è§£é…ç½®æ–¹å¼


**@WebServletæ³¨è§£é…ç½®**ï¼š
```java
@WebServlet(
    name = "EmailServlet",
    urlPatterns = "/email",
    initParams = {
        @WebInitParam(name = "smtp-server", value = "smtp.qq.com"),
        @WebInitParam(name = "smtp-port", value = "587"),
        @WebInitParam(name = "sender-email", value = "admin@company.com")
    }
)
public class EmailServlet extends HttpServlet {
    // Servletå®ç°ä»£ç 
}
```

**é…ç½®æ–¹å¼å¯¹æ¯”**ï¼š

| é…ç½®æ–¹å¼ | **ä¼˜ç‚¹** | **ç¼ºç‚¹** | **é€‚ç”¨åœºæ™¯** |
|---------|---------|---------|-------------|
| **web.xml** | é›†ä¸­ç®¡ç†ï¼Œæ˜“äºç»´æŠ¤ | é…ç½®ç¹çï¼Œæ–‡ä»¶è¾ƒå¤§ | å¤§å‹é¡¹ç›®ï¼Œå¤æ‚é…ç½® |
| **æ³¨è§£** | ç®€æ´ç›´è§‚ï¼Œä»£ç å³é…ç½® | ä¿®æ”¹éœ€è¦é‡æ–°ç¼–è¯‘ | å°å‹é¡¹ç›®ï¼Œç®€å•é…ç½® |

---

## 5. ğŸš€ ServletConfigå®é™…åº”ç”¨åœºæ™¯


### 5.1 æ•°æ®åº“è¿æ¥é…ç½®


**åº”ç”¨åœºæ™¯**ï¼šä¸åŒç¯å¢ƒä½¿ç”¨ä¸åŒçš„æ•°æ®åº“é…ç½®

```java
public class UserServlet extends HttpServlet {
    private String dbUrl;
    private String dbUser;
    private String dbPassword;
    
    @Override
    public void init(ServletConfig config) throws ServletException {
        super.init(config);
        
        // ä»é…ç½®ä¸­è·å–æ•°æ®åº“è¿æ¥ä¿¡æ¯
        dbUrl = config.getInitParameter("db-url");
        dbUser = config.getInitParameter("db-user");  
        dbPassword = config.getInitParameter("db-password");
        
        // å‚æ•°éªŒè¯
        if (dbUrl == null || dbUser == null) {
            throw new ServletException("æ•°æ®åº“é…ç½®å‚æ•°ç¼ºå¤±ï¼");
        }
        
        System.out.println("æ•°æ®åº“é…ç½®åŠ è½½å®Œæˆï¼š" + dbUrl);
    }
    
    private Connection getConnection() throws SQLException {
        return DriverManager.getConnection(dbUrl, dbUser, dbPassword);
    }
}
```

**å¯¹åº”çš„web.xmlé…ç½®**ï¼š
```xml
<servlet>
    <servlet-name>UserServlet</servlet-name>
    <servlet-class>com.example.UserServlet</servlet-class>
    
    <init-param>
        <param-name>db-url</param-name>
        <param-value>jdbc:mysql://localhost:3306/userdb</param-value>
    </init-param>
    <init-param>
        <param-name>db-user</param-name>
        <param-value>root</param-value>
    </init-param>
    <init-param>
        <param-name>db-password</param-name>
        <param-value>123456</param-value>
    </init-param>
</servlet>
```

### 5.2 æ–‡ä»¶ä¸Šä¼ è·¯å¾„é…ç½®


**åº”ç”¨åœºæ™¯**ï¼šä¸åŒæœåŠ¡å™¨ç¯å¢ƒä¸‹çš„æ–‡ä»¶å­˜å‚¨è·¯å¾„ä¸åŒ

```java
public class FileUploadServlet extends HttpServlet {
    private String uploadPath;
    private long maxFileSize;
    
    @Override
    public void init(ServletConfig config) throws ServletException {
        super.init(config);
        
        // è·å–æ–‡ä»¶ä¸Šä¼ è·¯å¾„é…ç½®
        uploadPath = config.getInitParameter("upload-path");
        if (uploadPath == null) {
            uploadPath = "/tmp/uploads";  // é»˜è®¤è·¯å¾„
        }
        
        // è·å–æ–‡ä»¶å¤§å°é™åˆ¶é…ç½®
        String maxSizeStr = config.getInitParameter("max-file-size");
        maxFileSize = (maxSizeStr != null) ? Long.parseLong(maxSizeStr) : 1024 * 1024; // é»˜è®¤1MB
        
        // åˆ›å»ºä¸Šä¼ ç›®å½•
        File uploadDir = new File(uploadPath);
        if (!uploadDir.exists()) {
            uploadDir.mkdirs();
        }
        
        System.out.println("æ–‡ä»¶ä¸Šä¼ é…ç½® - è·¯å¾„ï¼š" + uploadPath + "ï¼Œå¤§å°é™åˆ¶ï¼š" + maxFileSize);
    }
}
```

### 5.3 é‚®ä»¶å‘é€é…ç½®


**åº”ç”¨åœºæ™¯**ï¼šç³»ç»Ÿéœ€è¦å‘é€é‚®ä»¶é€šçŸ¥åŠŸèƒ½

```java
public class NotificationServlet extends HttpServlet {
    private Properties emailConfig;
    
    @Override
    public void init(ServletConfig config) throws ServletException {
        super.init(config);
        
        // åˆå§‹åŒ–é‚®ä»¶é…ç½®
        emailConfig = new Properties();
        emailConfig.put("mail.smtp.host", config.getInitParameter("smtp-host"));
        emailConfig.put("mail.smtp.port", config.getInitParameter("smtp-port"));
        emailConfig.put("mail.smtp.auth", config.getInitParameter("smtp-auth"));
        
        // éªŒè¯å¿…è¦é…ç½®æ˜¯å¦å­˜åœ¨
        if (config.getInitParameter("smtp-host") == null) {
            throw new ServletException("SMTPæœåŠ¡å™¨é…ç½®ç¼ºå¤±ï¼");
        }
    }
    
    private void sendEmail(String to, String subject, String content) {
        // ä½¿ç”¨emailConfigå‘é€é‚®ä»¶çš„å…·ä½“å®ç°
    }
}
```

---

## 6. ğŸ“Š é…ç½®ä½œç”¨åŸŸç†è§£


### 6.1 ServletConfig vs ServletContextä½œç”¨åŸŸå¯¹æ¯”


**ä½œç”¨åŸŸå±‚æ¬¡å›¾**ï¼š
```
Webåº”ç”¨çº§åˆ«ï¼ˆServletContextï¼‰
â”œâ”€â”€ å…¨å±€åˆå§‹åŒ–å‚æ•°
â”œâ”€â”€ å…¨å±€å±æ€§
â””â”€â”€ æ‰€æœ‰Servletå…±äº«èµ„æº
    â”‚
    â”œâ”€â”€ Servletçº§åˆ«ï¼ˆServletConfigï¼‰
    â”‚   â”œâ”€â”€ ServletAçš„åˆå§‹åŒ–å‚æ•°
    â”‚   â””â”€â”€ ServletAä¸“å±é…ç½®
    â”‚
    â”œâ”€â”€ Servletçº§åˆ«ï¼ˆServletConfigï¼‰  
    â”‚   â”œâ”€â”€ ServletBçš„åˆå§‹åŒ–å‚æ•°
    â”‚   â””â”€â”€ ServletBä¸“å±é…ç½®
    â”‚
    â””â”€â”€ ...å…¶ä»–Servlet
```

**é€šä¿—ç±»æ¯”ç†è§£**ï¼š
```
ServletContext â‰ˆ å­¦æ ¡çš„æ€»ä½“è§„å®š
- æ ¡åã€æ ¡å€ã€ä½œæ¯æ—¶é—´
- æ‰€æœ‰ç­çº§éƒ½è¦éµå®ˆçš„è§„åˆ™
- å­¦æ ¡çº§åˆ«çš„å…±äº«èµ„æº

ServletConfig â‰ˆ å„ä¸ªç­çº§çš„ç­çº§è§„å®š  
- ç­çº§åç§°ã€ç­ä¸»ä»»ã€æ•™å®¤ä½ç½®
- è¿™ä¸ªç­çº§ç‰¹æœ‰çš„ç®¡ç†æ–¹å¼
- åªå¯¹æœ¬ç­çº§ç”Ÿæ•ˆçš„è§„åˆ™
```

### 6.2 å‚æ•°è·å–ä¼˜å…ˆçº§


**è·å–å‚æ•°çš„æŸ¥æ‰¾é¡ºåº**ï¼š
```java
public class ConfigTestServlet extends HttpServlet {
    
    @Override
    public void init(ServletConfig config) throws ServletException {
        super.init(config);
        
        // 1. ä¼˜å…ˆä»ServletConfigè·å–ï¼ˆServletä¸“å±é…ç½®ï¼‰
        String param = config.getInitParameter("database-url");
        
        if (param == null) {
            // 2. å¦‚æœServleté…ç½®ä¸­æ²¡æœ‰ï¼Œå†ä»ServletContextè·å–ï¼ˆå…¨å±€é…ç½®ï¼‰
            param = config.getServletContext().getInitParameter("database-url");
        }
        
        if (param == null) {
            // 3. å¦‚æœéƒ½æ²¡æœ‰ï¼Œä½¿ç”¨é»˜è®¤å€¼
            param = "jdbc:mysql://localhost:3306/defaultdb";
        }
        
        System.out.println("æœ€ç»ˆä½¿ç”¨çš„æ•°æ®åº“URLï¼š" + param);
    }
}
```

### 6.3 é…ç½®å‚æ•°çš„å¯è§æ€§


**å¯è§æ€§è§„åˆ™è¡¨**ï¼š

| é…ç½®ç±»å‹ | **ServletAå¯è§** | **ServletBå¯è§** | **æ‰€æœ‰Servletå¯è§** |
|---------|-----------------|-----------------|-------------------|
| **ServletAçš„init-param** | âœ… | âŒ | âŒ |
| **ServletBçš„init-param** | âŒ | âœ… | âŒ |
| **Contextçš„init-param** | âœ… | âœ… | âœ… |

**å®é™…åº”ç”¨å»ºè®®**ï¼š
> ğŸ’¡ **æœ€ä½³å®è·µ**ï¼š
> - ä¸ªæ€§åŒ–é…ç½® â†’ ä½¿ç”¨ServletConfig
> - å…±äº«é…ç½® â†’ ä½¿ç”¨ServletContext
> - æ•æ„Ÿé…ç½® â†’ ä½¿ç”¨ServletConfigï¼ˆéš”ç¦»æ€§æ›´å¥½ï¼‰

---

## 7. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 7.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ ServletConfigæœ¬è´¨ï¼šæ¯ä¸ªServletçš„ä¸“å±é…ç½®å¯¹è±¡
ğŸ”¸ æ ¸å¿ƒæ–¹æ³•ï¼šgetInitParameter()ã€getServletName()ã€getServletContext()
ğŸ”¸ é…ç½®æ–¹å¼ï¼šweb.xmlé…ç½®å’Œ@WebServletæ³¨è§£é…ç½®
ğŸ”¸ ä½œç”¨åŸŸï¼šServletçº§åˆ«ï¼Œç‹¬äº«é…ç½®ï¼Œäº’ä¸å¹²æ‰°
ğŸ”¸ ç”Ÿå‘½å‘¨æœŸï¼šåœ¨Servletåˆå§‹åŒ–æ—¶åˆ›å»ºï¼ŒéšServleté”€æ¯è€Œæ¶ˆå¤±
```

### 7.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ ä¸ºä»€ä¹ˆéœ€è¦ServletConfig**
```
è§£å†³é—®é¢˜ï¼š
- ä¸åŒServletéœ€è¦ä¸åŒé…ç½®å‚æ•°
- é¿å…å°†é…ç½®å†™æ­»åœ¨ä»£ç ä¸­
- å®ç°é…ç½®ä¸ä»£ç åˆ†ç¦»
- æ”¯æŒä¸åŒç¯å¢ƒçš„çµæ´»é…ç½®
```

**ğŸ”¹ ServletConfigçš„ç‹¬äº«ç‰¹æ€§**
```
ç†è§£è¦ç‚¹ï¼š
- æ¯ä¸ªServletéƒ½æœ‰è‡ªå·±ç‹¬ç«‹çš„ServletConfig
- A Servletæ— æ³•è®¿é—®B Servletçš„é…ç½®å‚æ•°
- è¿™ç§è®¾è®¡ä¿è¯äº†é…ç½®çš„å°è£…æ€§å’Œå®‰å…¨æ€§
```

**ğŸ”¹ ä¸ServletContextçš„å…³ç³»**
```
å…³ç³»ç†è§£ï¼š
- ServletConfigæ˜¯å±€éƒ¨é…ç½®ï¼ˆä¸ªäººï¼‰
- ServletContextæ˜¯å…¨å±€é…ç½®ï¼ˆå…¬å¸ï¼‰
- é€šè¿‡ServletConfigå¯ä»¥è·å–ServletContext
- ä¸¤è€…é…åˆä½¿ç”¨ï¼Œå®ç°çµæ´»çš„é…ç½®ç®¡ç†
```

### 7.3 å®é™…å¼€å‘åº”ç”¨æŒ‡å¯¼


**ğŸ¯ å¸¸ç”¨é…ç½®å‚æ•°ç±»å‹**
- **æ•°æ®åº“é…ç½®**ï¼šè¿æ¥URLã€ç”¨æˆ·åã€å¯†ç 
- **æ–‡ä»¶è·¯å¾„é…ç½®**ï¼šä¸Šä¼ è·¯å¾„ã€ä¸´æ—¶ç›®å½•
- **æœåŠ¡é…ç½®**ï¼šé‚®ä»¶æœåŠ¡å™¨ã€çŸ­ä¿¡æ¥å£
- **ä¸šåŠ¡é…ç½®**ï¼šåˆ†é¡µå¤§å°ã€ç¼“å­˜æ—¶é—´

**ğŸ”§ å¼€å‘æœ€ä½³å®è·µ**
- **å‚æ•°éªŒè¯**ï¼šè·å–é…ç½®åè¦è¿›è¡Œnullå€¼å’Œæ ¼å¼æ£€æŸ¥
- **é»˜è®¤å€¼è®¾ç½®**ï¼šä¸ºé‡è¦é…ç½®æä¾›åˆç†çš„é»˜è®¤å€¼  
- **å¼‚å¸¸å¤„ç†**ï¼šé…ç½®ç¼ºå¤±æ—¶æŠ›å‡ºæ˜ç¡®çš„å¼‚å¸¸ä¿¡æ¯
- **æ—¥å¿—è®°å½•**ï¼šè®°å½•é…ç½®åŠ è½½æƒ…å†µï¼Œä¾¿äºè°ƒè¯•

**âš ï¸ å¸¸è§æ³¨æ„äº‹é¡¹**
- é…ç½®å‚æ•°å¤§å°å†™æ•æ„Ÿï¼Œè¦ç¡®ä¿åç§°å®Œå…¨åŒ¹é…
- getInitParameter()è¿”å›nullè€Œä¸æ˜¯ç©ºå­—ç¬¦ä¸²
- é…ç½®ä¿®æ”¹åéœ€è¦é‡å¯åº”ç”¨æ‰èƒ½ç”Ÿæ•ˆ
- æ•æ„Ÿé…ç½®ä¿¡æ¯è¦æ³¨æ„å®‰å…¨ä¿æŠ¤

### 7.4 å­¦ä¹ è¿›é˜¶å»ºè®®


**ğŸ”— ç›¸å…³çŸ¥è¯†ç‚¹å…³è”**
- **ServletContext**ï¼šå…¨å±€é…ç½®ç®¡ç†ï¼Œä¸ServletConfigå½¢æˆäº’è¡¥
- **Filteré…ç½®**ï¼šFilterä¹Ÿæœ‰ç±»ä¼¼çš„é…ç½®æœºåˆ¶
- **Springé…ç½®**ï¼šåç»­å­¦ä¹ Springæ—¶çš„é…ç½®æ€æƒ³åŸºç¡€
- **å¾®æœåŠ¡é…ç½®**ï¼šç°ä»£åº”ç”¨é…ç½®ç®¡ç†çš„æ¼”è¿›

**æ ¸å¿ƒè®°å¿†å£è¯€**ï¼š
- ServletConfigä¸“å±é…ç½®ï¼Œæ¯ä¸ªServletç‹¬è‡ªäº«
- å››å¤§æ–¹æ³•è¦è®°ç‰¢ï¼Œå‚æ•°åç§°ä¸Šä¸‹æ–‡
- é…ç½®åˆ†ç¦»å¥½å¤„å¤šï¼Œçµæ´»éƒ¨ç½²æ˜“ç»´æŠ¤
- ä¸ªäººé…ç½®å±€éƒ¨ç”¨ï¼Œå…¨å±€é…ç½®æ‰¾Context