---
title: 3ã€Servlet APIæ ¸å¿ƒæ¥å£
---
## ğŸ“š ç›®å½•


1. [ServletæŠ€æœ¯æ¦‚è¿°](#1-servletæŠ€æœ¯æ¦‚è¿°)
2. [Servletæ¥å£è¯¦è§£](#2-servletæ¥å£è¯¦è§£)
3. [GenericServletæŠ½è±¡ç±»](#3-genericservletæŠ½è±¡ç±»)
4. [HttpServletæ ¸å¿ƒç±»](#4-httpservletæ ¸å¿ƒç±»)
5. [ServletConfigé…ç½®æ¥å£](#5-servletconfigé…ç½®æ¥å£)
6. [ServletContextä¸Šä¸‹æ–‡æ¥å£](#6-servletcontextä¸Šä¸‹æ–‡æ¥å£)
7. [æ¥å£ç»§æ‰¿å…³ç³»æ€»è§ˆ](#7-æ¥å£ç»§æ‰¿å…³ç³»æ€»è§ˆ)
8. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#8-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

# 1. ğŸŒ ServletæŠ€æœ¯æ¦‚è¿°



## 1.1 ä»€ä¹ˆæ˜¯Servletï¼Ÿ



**ğŸ’¡ é€šä¿—ç†è§£**
æƒ³è±¡ä¸€ä¸‹ï¼Œä½ åœ¨é¤å…ç‚¹èœï¼š
- **å®¢æˆ·ï¼ˆæµè§ˆå™¨ï¼‰** å‘ **æœåŠ¡å‘˜ï¼ˆServletï¼‰** ç‚¹èœ
- **æœåŠ¡å‘˜** æ¥æ”¶è®¢å•ï¼Œå» **å¨æˆ¿ï¼ˆä¸šåŠ¡é€»è¾‘ï¼‰** å¤„ç†
- å¤„ç†å®Œæˆåï¼Œ**æœåŠ¡å‘˜** æŠŠèœå“é€å›ç»™ **å®¢æˆ·**

```
æµè§ˆå™¨è¯·æ±‚ â†’ Servletå¤„ç† â†’ è¿”å›å“åº”
   â†“              â†“            â†“
  ç‚¹èœ          æœåŠ¡å‘˜å¤„ç†      ä¸Šèœ
```

**ğŸ¯ ä¸“ä¸šå®šä¹‰**
- **Servlet** = **Server** + **let**ï¼ˆå°ç¨‹åºï¼‰
- è¿è¡Œåœ¨WebæœåŠ¡å™¨ç«¯çš„Javaç¨‹åº
- ç”¨äºæ¥æ”¶å’Œå“åº”æ¥è‡ªWebå®¢æˆ·ç«¯çš„è¯·æ±‚

## 1.2 Servletåœ¨JavaWEBä¸­çš„è§’è‰²



```
Webåº”ç”¨æ¶æ„å›¾:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    HTTPè¯·æ±‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    è°ƒç”¨    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   æµè§ˆå™¨     â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’   â”‚   Servlet   â”‚ â”€â”€â”€â”€â”€â†’   â”‚  ä¸šåŠ¡é€»è¾‘å±‚   â”‚
â”‚  (å®¢æˆ·ç«¯)    â”‚               â”‚  (æ§åˆ¶å™¨)    â”‚          â”‚ (Serviceå±‚)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â†â”€â”€â”€â”€â”€   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 HTTPå“åº”                      è¿”å›ç»“æœ
```

**ğŸ”¹ Servletçš„æ ¸å¿ƒä½œç”¨**
- **è¯·æ±‚å¤„ç†å™¨**ï¼šæ¥æ”¶ç”¨æˆ·è¯·æ±‚
- **æ§åˆ¶ä¸­æ¢**ï¼šåè°ƒå„ä¸ªç»„ä»¶å·¥ä½œ
- **å“åº”ç”Ÿæˆå™¨**ï¼šæ„é€ å¹¶è¿”å›å“åº”å†…å®¹

---

# 2. ğŸ“‹ Servletæ¥å£è¯¦è§£



## 2.1 Servletæ¥å£åŸºç¡€



**ğŸ”¸ æ¥å£å®šä¹‰**
`javax.servlet.Servlet` æ˜¯æ‰€æœ‰Servletçš„é¡¶çº§æ¥å£ï¼Œå°±åƒæ˜¯æ‰€æœ‰Servletå¿…é¡»éµå®ˆçš„"åˆåŒ"ã€‚

**ğŸ“Š Servletæ¥å£æ–¹æ³•ä¸€è§ˆ**

| æ–¹æ³•å | å‚æ•° | ä½œç”¨ | è°ƒç”¨æ—¶æœº |
|--------|------|------|----------|
| `init()` | `ServletConfig` | åˆå§‹åŒ–Servlet | ğŸŸ¢ åªè°ƒç”¨ä¸€æ¬¡ï¼ˆåˆ›å»ºæ—¶ï¼‰ |
| `service()` | `ServletRequest`, `ServletResponse` | å¤„ç†è¯·æ±‚ | ğŸ”„ æ¯æ¬¡è¯·æ±‚éƒ½è°ƒç”¨ |
| `destroy()` | æ—  | é”€æ¯å‰æ¸…ç† | ğŸ”´ åªè°ƒç”¨ä¸€æ¬¡ï¼ˆé”€æ¯æ—¶ï¼‰ |
| `getServletConfig()` | æ—  | è·å–é…ç½®ä¿¡æ¯ | ğŸ” æŒ‰éœ€è°ƒç”¨ |
| `getServletInfo()` | æ—  | è·å–Servletä¿¡æ¯ | â„¹ï¸ æŒ‰éœ€è°ƒç”¨ |

## 2.2 Servletç”Ÿå‘½å‘¨æœŸ



```
Servletç”Ÿå‘½å‘¨æœŸæµç¨‹:
å¯åŠ¨Webåº”ç”¨
    â†“
ğŸ”„ åˆ›å»ºServletå®ä¾‹ (åªåˆ›å»ºä¸€æ¬¡)
    â†“
ğŸ“ è°ƒç”¨init()æ–¹æ³•è¿›è¡Œåˆå§‹åŒ–
    â†“
â³ ç­‰å¾…å®¢æˆ·ç«¯è¯·æ±‚
    â†“
ğŸ¯ æ”¶åˆ°è¯·æ±‚ â†’ è°ƒç”¨service()æ–¹æ³•å¤„ç†
    â†‘              â†“
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€å¤„ç†å®Œæˆ
    â†“
ğŸ›‘ Webåº”ç”¨å…³é—­æ—¶è°ƒç”¨destroy()æ–¹æ³•
    â†“
ğŸ’€ Servletå®ä¾‹è¢«åƒåœ¾å›æ”¶
```

## 2.3 ä¸ºä»€ä¹ˆéœ€è¦æ¥å£ï¼Ÿ



> ğŸ’¡ **è®¾è®¡æ€æƒ³**
> 
> æ¥å£å°±åƒæ˜¯**"è¡Œä¸šæ ‡å‡†"**ï¼š
> - ğŸ­ **æ±½è½¦å‚å•†**å¿…é¡»æŒ‰ç…§äº¤é€šè§„åˆ™è®¾è®¡æ±½è½¦
> - ğŸ–¥ï¸ **Servletå®ç°ç±»**å¿…é¡»æŒ‰ç…§Servletæ¥å£è§„èŒƒç¼–å†™
> - è¿™æ ·**Webå®¹å™¨**æ‰èƒ½ç»Ÿä¸€ç®¡ç†æ‰€æœ‰Servlet

---

# 3. ğŸ› ï¸ GenericServletæŠ½è±¡ç±»



## 3.1 ä¸ºä»€ä¹ˆéœ€è¦GenericServletï¼Ÿ



**ğŸ¤” é—®é¢˜åœºæ™¯**
ç›´æ¥å®ç°Servletæ¥å£éœ€è¦å®ç°5ä¸ªæ–¹æ³•ï¼Œä½†é€šå¸¸æˆ‘ä»¬åªå…³å¿ƒ`service()`æ–¹æ³•ï¼š

```java
// âŒ ç›´æ¥å®ç°æ¥å£ - ä»£ç å†—é•¿
public class MyServlet implements Servlet {
    public void init(ServletConfig config) { /* é€šå¸¸ä¸ºç©º */ }
    public void service(ServletRequest req, ServletResponse res) { /* æ ¸å¿ƒé€»è¾‘ */ }
    public void destroy() { /* é€šå¸¸ä¸ºç©º */ }
    public ServletConfig getServletConfig() { /* è¿”å›config */ }
    public String getServletInfo() { /* è¿”å›ä¿¡æ¯ */ }
}
```

**âœ… GenericServletè§£å†³æ–¹æ¡ˆ**
```java
// âœ… ç»§æ‰¿æŠ½è±¡ç±» - åªéœ€é‡å†™service()
public class MyServlet extends GenericServlet {
    public void service(ServletRequest req, ServletResponse res) {
        // åªéœ€è¦å…³å¿ƒæ ¸å¿ƒä¸šåŠ¡é€»è¾‘
    }
}
```

## 3.2 GenericServletåŠŸèƒ½ç‰¹ç‚¹



**ğŸ”§ æ ¸å¿ƒåŠŸèƒ½**
- **æ¨¡æ¿æ–¹æ³•æ¨¡å¼**ï¼šæä¾›é€šç”¨çš„æ¡†æ¶ä»£ç 
- **ç®€åŒ–å¼€å‘**ï¼šå¼€å‘è€…åªéœ€é‡å†™`service()`æ–¹æ³•
- **é…ç½®ç®¡ç†**ï¼šè‡ªåŠ¨å¤„ç†ServletConfigç›¸å…³æ“ä½œ

```
GenericServletç»§æ‰¿å…³ç³»:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Servletæ¥å£    â”‚ â† å®šä¹‰è§„èŒƒ
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â–³
         â”‚ implements
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ GenericServlet  â”‚ â† æä¾›é€šç”¨å®ç°
â”‚   æŠ½è±¡ç±»        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â–³
         â”‚ extends
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   è‡ªå®šä¹‰Servlet   â”‚ â† å…·ä½“ä¸šåŠ¡å®ç°
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 3.3 GenericServletå¸¸ç”¨æ–¹æ³•



| ğŸ”§ æ–¹æ³•ç±»å‹ | æ–¹æ³•å | ä½œç”¨è¯´æ˜ | ä½¿ç”¨é¢‘ç‡ |
|-----------|-------|----------|----------|
| **é…ç½®ç›¸å…³** | `getInitParameter()` | è·å–åˆå§‹åŒ–å‚æ•° | â­â­â­ |
| **é…ç½®ç›¸å…³** | `getServletContext()` | è·å–ä¸Šä¸‹æ–‡å¯¹è±¡ | â­â­â­â­â­ |
| **ä¿¡æ¯ç›¸å…³** | `getServletName()` | è·å–Servletåç§° | â­â­ |
| **æ—¥å¿—ç›¸å…³** | `log()` | è®°å½•æ—¥å¿—ä¿¡æ¯ | â­â­â­ |

---

# 4. ğŸŒ HttpServletæ ¸å¿ƒç±»



## 4.1 HTTPåè®®ä¸HttpServlet



**ğŸ”¸ HTTPè¯·æ±‚æ–¹æ³•å›é¡¾**
```
HTTPè¯·æ±‚æ–¹æ³•åˆ†ç±»:
GET    ğŸ” è·å–æ•°æ®     â†’  æŸ¥è¯¢å•†å“ä¿¡æ¯
POST   ğŸ“ æäº¤æ•°æ®     â†’  ç”¨æˆ·æ³¨å†Œ
PUT    ğŸ”„ æ›´æ–°æ•°æ®     â†’  ä¿®æ”¹ä¸ªäººä¿¡æ¯  
DELETE ğŸ—‘ï¸ åˆ é™¤æ•°æ®     â†’  åˆ é™¤è´­ç‰©è½¦å•†å“
HEAD   ğŸ“‹ è·å–å¤´ä¿¡æ¯   â†’  æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨
```

## 4.2 HttpServletå·¥ä½œåŸç†



```
HttpServletè¯·æ±‚å¤„ç†æµç¨‹:
å®¢æˆ·ç«¯å‘é€HTTPè¯·æ±‚
         â†“
Webå®¹å™¨æ¥æ”¶è¯·æ±‚
         â†“
è°ƒç”¨HttpServlet.service()æ–¹æ³•
         â†“
æ ¹æ®è¯·æ±‚æ–¹æ³•è‡ªåŠ¨åˆ†å‘:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  GETè¯·æ±‚ â”‚ POSTè¯·æ±‚ â”‚ PUTè¯·æ±‚  â”‚DELETEè¯·æ±‚â”‚
â”‚    â†“    â”‚    â†“    â”‚    â†“    â”‚    â†“    â”‚
â”‚doGet()  â”‚doPost() â”‚doPut()  â”‚doDelete()â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
ç”ŸæˆHTTPå“åº”å¹¶è¿”å›å®¢æˆ·ç«¯
```

## 4.3 HttpServletæ ¸å¿ƒæ–¹æ³•



**ğŸ“‹ å¸¸ç”¨doXxxæ–¹æ³•å¯¹æ¯”**

| HTTPæ–¹æ³• | å¯¹åº”æ–¹æ³• | å…¸å‹åº”ç”¨åœºæ™¯ | æ˜¯å¦å¹‚ç­‰ | å‚æ•°ä¼ é€’ |
|---------|---------|-------------|---------|---------|
| **GET** | `doGet()` | ğŸ” æŸ¥è¯¢æ•°æ®ã€æ˜¾ç¤ºé¡µé¢ | âœ… æ˜¯ | URLå‚æ•° |
| **POST** | `doPost()` | ğŸ“ è¡¨å•æäº¤ã€æ–‡ä»¶ä¸Šä¼  | âŒ å¦ | è¯·æ±‚ä½“ |
| **PUT** | `doPut()` | ğŸ”„ èµ„æºæ›´æ–° | âœ… æ˜¯ | è¯·æ±‚ä½“ |
| **DELETE** | `doDelete()` | ğŸ—‘ï¸ èµ„æºåˆ é™¤ | âœ… æ˜¯ | URLå‚æ•° |

> ğŸ§  **è®°å¿†æŠ€å·§**
> 
> - **GET = è·å–**ï¼šå°±åƒä»å›¾ä¹¦é¦†**å€Ÿä¹¦**ï¼Œä¸æ”¹å˜å›¾ä¹¦é¦†çš„ä¹¦
> - **POST = æäº¤**ï¼šå°±åƒå‘å›¾ä¹¦é¦†**æèµ æ–°ä¹¦**ï¼Œä¼šå¢åŠ å›¾ä¹¦é¦†çš„è—ä¹¦
> - **PUT = æ›´æ–°**ï¼šå°±åƒ**æ›´æ¢**å›¾ä¹¦çš„å°é¢ï¼Œä¹¦è¿˜æ˜¯é‚£æœ¬ä¹¦
> - **DELETE = åˆ é™¤**ï¼šå°±åƒæŠŠä¹¦ä»å›¾ä¹¦é¦†**ç§»é™¤**

## 4.4 HttpServletRequestå’ŒHttpServletResponse



**ğŸ”¸ è¯·æ±‚å¯¹è±¡ (HttpServletRequest)**
```
å®¢æˆ·ç«¯è¯·æ±‚ä¿¡æ¯åŒ…è£…:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        HttpServletRequest       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“‹ è¯·æ±‚è¡Œ: GET /user/login HTTP/1.1 â”‚
â”‚ ğŸ“ è¯·æ±‚å¤´: Content-Type, Cookie   â”‚
â”‚ ğŸ“¦ è¯·æ±‚ä½“: è¡¨å•æ•°æ®ã€JSONæ•°æ®        â”‚  
â”‚ ğŸ”§ æ–¹æ³•: getParameter(), getHeader() â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ğŸ”¸ å“åº”å¯¹è±¡ (HttpServletResponse)**
```
æœåŠ¡ç«¯å“åº”ä¿¡æ¯åŒ…è£…:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       HttpServletResponse       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“Š çŠ¶æ€è¡Œ: HTTP/1.1 200 OK       â”‚
â”‚ ğŸ“ å“åº”å¤´: Content-Type, Set-Cookie â”‚
â”‚ ğŸ“¦ å“åº”ä½“: HTMLã€JSONã€æ–‡ä»¶å†…å®¹      â”‚
â”‚ ğŸ”§ æ–¹æ³•: setStatus(), getWriter() â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

# 5. âš™ï¸ ServletConfigé…ç½®æ¥å£



## 5.1 ServletConfigä½œç”¨



**ğŸ’¡ ç†è§£ServletConfig**
ServletConfigå°±åƒæ˜¯æ¯ä¸ªServletçš„"èº«ä»½è¯"ï¼Œè®°å½•äº†è¿™ä¸ªServletçš„ä¸“å±ä¿¡æ¯ï¼š

```
ServletConfigä¿¡æ¯å†…å®¹:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      ServletConfig   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ·ï¸ Servletåç§°        â”‚
â”‚ âš™ï¸ åˆå§‹åŒ–å‚æ•°          â”‚  
â”‚ ğŸŒ ServletContextå¼•ç”¨  â”‚
â”‚ ğŸ”§ é…ç½®ç›¸å…³æ–¹æ³•        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 5.2 web.xmlé…ç½®ç¤ºä¾‹



**ğŸ“ XMLé…ç½®æ–¹å¼**
```xml
<!-- web.xmlé…ç½®ç¤ºä¾‹ -->
<servlet>
    <servlet-name>userServlet</servlet-name>
    <servlet-class>com.example.UserServlet</servlet-class>
    
    <!-- âš™ï¸ åˆå§‹åŒ–å‚æ•°é…ç½® -->
    <init-param>
        <param-name>maxUsers</param-name>
        <param-value>1000</param-value>
    </init-param>
    <init-param>
        <param-name>timeout</param-name>
        <param-value>30</param-value>
    </init-param>
</servlet>
```

**ğŸ“± æ³¨è§£é…ç½®æ–¹å¼**
```java
@WebServlet(
    name = "userServlet",
    urlPatterns = "/user/*",
    initParams = {
        @WebInitParam(name = "maxUsers", value = "1000"),
        @WebInitParam(name = "timeout", value = "30")
    }
)
public class UserServlet extends HttpServlet { }
```

## 5.3 ServletConfigæ ¸å¿ƒæ–¹æ³•



| ğŸ”§ æ–¹æ³•å | è¿”å›ç±»å‹ | ä½œç”¨è¯´æ˜ | ä½¿ç”¨ç¤ºä¾‹ |
|----------|----------|----------|----------|
| `getInitParameter(name)` | `String` | è·å–æŒ‡å®šåˆå§‹åŒ–å‚æ•° | `config.getInitParameter("maxUsers")` |
| `getInitParameterNames()` | `Enumeration` | è·å–æ‰€æœ‰å‚æ•°å | éå†æ‰€æœ‰é…ç½®é¡¹ |
| `getServletName()` | `String` | è·å–Servletåç§° | æ—¥å¿—è®°å½•æ—¶ä½¿ç”¨ |
| `getServletContext()` | `ServletContext` | è·å–ä¸Šä¸‹æ–‡å¯¹è±¡ | è®¿é—®åº”ç”¨çº§ä¿¡æ¯ |

---

# 6. ğŸŒ ServletContextä¸Šä¸‹æ–‡æ¥å£



## 6.1 ServletContextæ¦‚å¿µç†è§£



**ğŸ¢ åŠå…¬æ¥¼æ¯”å–»**
æŠŠWebåº”ç”¨æ¯”ä½œä¸€æ ‹åŠå…¬æ¥¼ï¼š
- **ServletContext** = æ¥¼æ ‹ç®¡ç†å¤„
- **å„ä¸ªServlet** = æ¥¼å†…å„ä¸ªå…¬å¸
- **å…±äº«èµ„æº** = æ¥¼å†…å…¬å…±è®¾æ–½ï¼ˆä¼šè®®å®¤ã€æ‰“å°æœºç­‰ï¼‰

```
Webåº”ç”¨ç»“æ„å›¾:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              ServletContext             â”‚
â”‚           (æ•´ä¸ªWebåº”ç”¨çš„ç®¡ç†è€…)           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   Servlet A â”‚   Servlet B â”‚   Servlet C â”‚
â”‚      â†“      â”‚      â†“      â”‚      â†“      â”‚
â”‚   ä¸šåŠ¡é€»è¾‘A  â”‚   ä¸šåŠ¡é€»è¾‘B  â”‚   ä¸šåŠ¡é€»è¾‘C   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†‘å…±äº«æ•°æ®ã€é…ç½®ä¿¡æ¯ã€èµ„æºç­‰â†‘
```

## 6.2 ServletContextæ ¸å¿ƒåŠŸèƒ½



**ğŸ”¸ åŠŸèƒ½åˆ†ç±»æ€»è§ˆ**

| ğŸ¯ åŠŸèƒ½ç±»åˆ« | å…·ä½“åŠŸèƒ½ | ä½¿ç”¨åœºæ™¯ | é‡è¦ç¨‹åº¦ |
|-----------|----------|----------|----------|
| **é…ç½®ç®¡ç†** | è·å–å…¨å±€åˆå§‹åŒ–å‚æ•° | æ•°æ®åº“è¿æ¥é…ç½® | â­â­â­â­â­ |
| **èµ„æºè®¿é—®** | è·å–Webåº”ç”¨èµ„æºè·¯å¾„ | è¯»å–é…ç½®æ–‡ä»¶ | â­â­â­â­ |
| **æ•°æ®å…±äº«** | åº”ç”¨çº§æ•°æ®å­˜å‚¨ | åœ¨çº¿ç”¨æˆ·ç»Ÿè®¡ | â­â­â­â­ |
| **è¯·æ±‚è½¬å‘** | è·å–RequestDispatcher | é¡µé¢è·³è½¬ | â­â­â­â­â­ |
| **MIMEç±»å‹** | è·å–æ–‡ä»¶MIMEç±»å‹ | æ–‡ä»¶ä¸‹è½½ | â­â­â­ |

## 6.3 ServletContextå®é™…åº”ç”¨



**ğŸ“Š åœ¨çº¿ç”¨æˆ·ç»Ÿè®¡ç¤ºä¾‹**
```java
// ç”¨æˆ·ç™»å½•æ—¶å¢åŠ è®¡æ•°
public void doPost(HttpServletRequest request, HttpServletResponse response) {
    ServletContext context = getServletContext();
    
    // è·å–å½“å‰åœ¨çº¿ç”¨æˆ·æ•°
    Integer onlineCount = (Integer) context.getAttribute("onlineUsers");
    if (onlineCount == null) {
        onlineCount = 0;
    }
    
    // ç”¨æˆ·ç™»å½•æˆåŠŸåå¢åŠ è®¡æ•°
    context.setAttribute("onlineUsers", onlineCount + 1);
    
    // æ‰€æœ‰Servletéƒ½å¯ä»¥è®¿é—®è¿™ä¸ªæ•°æ®
}
```

**ğŸ” é…ç½®ä¿¡æ¯è·å–ç¤ºä¾‹**
```java
// è·å–å…¨å±€é…ç½®çš„æ•°æ®åº“è¿æ¥ä¿¡æ¯
public void init() throws ServletException {
    ServletContext context = getServletContext();
    
    String dbUrl = context.getInitParameter("database.url");
    String dbUser = context.getInitParameter("database.username");
    
    // ä½¿ç”¨é…ç½®ä¿¡æ¯åˆå§‹åŒ–æ•°æ®åº“è¿æ¥
}
```

---

# 7. ğŸ”— æ¥å£ç»§æ‰¿å…³ç³»æ€»è§ˆ



## 7.1 å®Œæ•´ç»§æ‰¿å…³ç³»å›¾



```
Servlet API å®Œæ•´ç»§æ‰¿å…³ç³»:

            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚   Servletæ¥å£    â”‚ â† ğŸ”‘ é¡¶çº§æ¥å£ï¼Œå®šä¹‰åŸºæœ¬è§„èŒƒ
            â”‚   (5ä¸ªæ–¹æ³•)      â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â–³
                     â”‚ implements
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚ GenericServlet  â”‚ â† ğŸ› ï¸ æŠ½è±¡ç±»ï¼Œæä¾›é€šç”¨å®ç°
            â”‚   æŠ½è±¡ç±»        â”‚    (å¤„ç†é…ç½®ã€åˆå§‹åŒ–ç­‰)
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â–³
                     â”‚ extends
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚  HttpServlet    â”‚ â† ğŸŒ HTTPä¸“ç”¨ç±»
            â”‚   å…·ä½“ç±»        â”‚    (å¤„ç†HTTPè¯·æ±‚åˆ†å‘)
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â–³
                     â”‚ extends
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚  è‡ªå®šä¹‰Servlet   â”‚ â† ğŸ¯ ä¸šåŠ¡å®ç°
            â”‚   (ä½ å†™çš„ç±»)     â”‚    (é‡å†™doGet/doPostç­‰)
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 7.2 é…ç½®æ¥å£å…³ç³»å›¾



```
é…ç½®ç›¸å…³æ¥å£å…³ç³»:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    1:1     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ServletConfig â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ â”‚     Servlet     â”‚
â”‚   (å•ä¸ªé…ç½®)     â”‚            â”‚   (å…·ä½“å®ä¾‹)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                              â”‚
         â”‚ å¼•ç”¨                         â”‚ è·å–
         â†“                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    1:N     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ServletContext  â”‚ â†â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚   å¤šä¸ªServlet    â”‚
â”‚  (å…¨å±€ä¸Šä¸‹æ–‡)    â”‚            â”‚   (å…±äº«ä¸Šä¸‹æ–‡)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 7.3 æ–¹æ³•è°ƒç”¨æ—¶æœºæ€»ç»“



**â° Servletç”Ÿå‘½å‘¨æœŸä¸­çš„æ–¹æ³•è°ƒç”¨**

```
æ—¶é—´çº¿: Webåº”ç”¨å¯åŠ¨ â†’ å¤„ç†è¯·æ±‚ â†’ åº”ç”¨å…³é—­

å¯åŠ¨é˜¶æ®µ:
    ğŸ”§ åˆ›å»ºServletå®ä¾‹
    ğŸ”§ åˆ›å»ºServletConfigå¯¹è±¡  
    ğŸ”§ è°ƒç”¨init(ServletConfig)æ–¹æ³•
    
è¿è¡Œé˜¶æ®µ: (å¾ªç¯è¿›è¡Œ)
    ğŸ“¨ æ¥æ”¶HTTPè¯·æ±‚
    ğŸ“¨ è°ƒç”¨service()æ–¹æ³•
    ğŸ“¨ è‡ªåŠ¨åˆ†å‘åˆ°doGet()/doPost()ç­‰
    ğŸ“¨ è¿”å›å“åº”ç»™å®¢æˆ·ç«¯
    
å…³é—­é˜¶æ®µ:
    ğŸ›‘ è°ƒç”¨destroy()æ–¹æ³•
    ğŸ›‘ é”€æ¯Servletå®ä¾‹
    ğŸ›‘ é‡Šæ”¾ç›¸å…³èµ„æº
```

---

# 8. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“



## 8.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ



```
ğŸ”¸ Servletæ¥å£ï¼šæ‰€æœ‰Servletçš„åŸºç¡€è§„èŒƒï¼Œå®šä¹‰5ä¸ªæ ¸å¿ƒæ–¹æ³•
ğŸ”¸ GenericServletï¼šé€šç”¨æŠ½è±¡ç±»ï¼Œç®€åŒ–Servletå¼€å‘
ğŸ”¸ HttpServletï¼šä¸“é—¨å¤„ç†HTTPè¯·æ±‚ï¼Œè‡ªåŠ¨åˆ†å‘åˆ°doXxxæ–¹æ³•
ğŸ”¸ ServletConfigï¼šå•ä¸ªServletçš„é…ç½®ä¿¡æ¯ç®¡ç†å™¨
ğŸ”¸ ServletContextï¼šæ•´ä¸ªWebåº”ç”¨çš„å…¨å±€ä¸Šä¸‹æ–‡ç®¡ç†å™¨
ğŸ”¸ ç»§æ‰¿å…³ç³»ï¼šæ¥å£â†’æŠ½è±¡ç±»â†’å…·ä½“ç±»â†’è‡ªå®šä¹‰ç±»çš„å±‚æ¬¡ç»“æ„
```

## 8.2 å…³é”®ç†è§£è¦ç‚¹



**ğŸ”¹ ä¸ºä»€ä¹ˆéœ€è¦è¿™ç§åˆ†å±‚è®¾è®¡ï¼Ÿ**
```
è®¾è®¡ä¼˜åŠ¿ï¼š
- ğŸ“Š èŒè´£åˆ†ç¦»ï¼šæ¯ä¸ªå±‚æ¬¡è´Ÿè´£ä¸åŒçš„åŠŸèƒ½
- ğŸ”§ ç®€åŒ–å¼€å‘ï¼šå¼€å‘è€…åªéœ€å…³æ³¨ä¸šåŠ¡é€»è¾‘
- ğŸ”„ ä»£ç å¤ç”¨ï¼šé€šç”¨åŠŸèƒ½ç»Ÿä¸€å®ç°
- ğŸ›¡ï¸ è§„èŒƒç»Ÿä¸€ï¼šæ‰€æœ‰å®ç°éƒ½éµå¾ªç›¸åŒæ ‡å‡†
```

**ğŸ”¹ å®é™…å¼€å‘ä¸­å¦‚ä½•é€‰æ‹©ï¼Ÿ**
```
é€‰æ‹©åŸåˆ™ï¼š
âœ… å¤„ç†HTTPè¯·æ±‚ â†’ ç»§æ‰¿HttpServlet (99%çš„æƒ…å†µ)
âœ… éœ€è¦å¤„ç†å…¶ä»–åè®® â†’ ç»§æ‰¿GenericServlet
âœ… éœ€è¦å®Œå…¨è‡ªå®šä¹‰ â†’ å®ç°Servletæ¥å£
```

**ğŸ”¹ é…ç½®å¯¹è±¡çš„ä½¿ç”¨åœºæ™¯**
```
ServletConfig (ä¸ªäººé…ç½®)ï¼š
- ğŸ¯ å•ä¸ªServletçš„ä¸“å±è®¾ç½®
- ğŸ”¢ ä¸šåŠ¡ç›¸å…³çš„å‚æ•°é…ç½®
- ğŸ“Š å½“å‰Servletçš„åŸºæœ¬ä¿¡æ¯

ServletContext (å…¨å±€é…ç½®)ï¼š
- ğŸŒ æ•´ä¸ªåº”ç”¨çš„å…±äº«æ•°æ®
- ğŸ“ åº”ç”¨çº§åˆ«çš„èµ„æºè®¿é—®
- ğŸ”— ä¸åŒServleté—´çš„æ•°æ®ä¼ é€’
```

## 8.3 å®é™…åº”ç”¨æŒ‡å¯¼



**ğŸ’¡ å¼€å‘å»ºè®®**
- **æ–°æ‰‹é˜¶æ®µ**ï¼šç›´æ¥ç»§æ‰¿HttpServletï¼Œé‡å†™doGet()å’ŒdoPost()
- **è¿›é˜¶é˜¶æ®µ**ï¼šç†è§£ç”Ÿå‘½å‘¨æœŸï¼Œåˆç†ä½¿ç”¨init()å’Œdestroy()
- **é«˜çº§é˜¶æ®µ**ï¼šçµæ´»è¿ç”¨ServletContextå®ç°åŠŸèƒ½æ‰©å±•

**ğŸš€ æœ€ä½³å®è·µ**
```java
// âœ… æ¨èçš„Servletç¼–å†™æ¨¡å¼
@WebServlet("/user")
public class UserServlet extends HttpServlet {
    
    @Override
    public void init() throws ServletException {
        // åˆå§‹åŒ–èµ„æºï¼šæ•°æ®åº“è¿æ¥ã€é…ç½®åŠ è½½ç­‰
    }
    
    @Override
    protected void doGet(HttpServletRequest request, 
                        HttpServletResponse response) 
            throws ServletException, IOException {
        // å¤„ç†GETè¯·æ±‚ï¼šæŸ¥è¯¢ã€æ˜¾ç¤ºé¡µé¢
    }
    
    @Override
    protected void doPost(HttpServletRequest request, 
                         HttpServletResponse response) 
            throws ServletException, IOException {
        // å¤„ç†POSTè¯·æ±‚ï¼šæ•°æ®æäº¤ã€æ›´æ–°æ“ä½œ
    }
    
    @Override
    public void destroy() {
        // æ¸…ç†èµ„æºï¼šå…³é—­è¿æ¥ã€ä¿å­˜æ•°æ®ç­‰
    }
}
```

> ğŸ§  **å­¦ä¹ å¿ƒå¾—**
> 
> Servlet APIçš„è®¾è®¡ä½“ç°äº†**"åˆ†å±‚æŠ½è±¡"**çš„ç¼–ç¨‹æ€æƒ³ï¼š
> - æ¥å£å®šä¹‰**"åšä»€ä¹ˆ"**
> - æŠ½è±¡ç±»æä¾›**"æ€ä¹ˆåšçš„æ¡†æ¶"**  
> - å…·ä½“ç±»å®ç°**"å…·ä½“æ€ä¹ˆåš"**
> - æˆ‘ä»¬åªéœ€è¦ä¸“æ³¨äº**"ä¸šåŠ¡é€»è¾‘æ€ä¹ˆåš"**

**æ ¸å¿ƒè®°å¿†å£è¯€**ï¼š
- æ¥å£å®šè§„èŒƒï¼ŒæŠ½è±¡åšæ¡†æ¶
- HTTPä¸“å¤„ç†ï¼Œé…ç½®åˆ†ä¸¤å®¶
- ç”Ÿå‘½æœ‰å‘¨æœŸï¼Œæ–¹æ³•æŒ‰æ—¶æœº
- ç†è§£å¥½å…³ç³»ï¼Œå¼€å‘ä¸è¿·èŒ«