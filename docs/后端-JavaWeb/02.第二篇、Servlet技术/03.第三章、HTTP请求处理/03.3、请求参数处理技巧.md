---
title: 3ã€è¯·æ±‚å‚æ•°å¤„ç†æŠ€å·§
---
## ğŸ“š ç›®å½•

1. [å‚æ•°è·å–åŸºç¡€æ¦‚å¿µ](#1-å‚æ•°è·å–åŸºç¡€æ¦‚å¿µ)
2. [å•å€¼å‚æ•°è·å–æ–¹æ³•](#2-å•å€¼å‚æ•°è·å–æ–¹æ³•)
3. [å¤šå€¼å‚æ•°è·å–æŠ€å·§](#3-å¤šå€¼å‚æ•°è·å–æŠ€å·§)
4. [å…¨éƒ¨å‚æ•°è·å–æ–¹æ¡ˆ](#4-å…¨éƒ¨å‚æ•°è·å–æ–¹æ¡ˆ)
5. [ä¸­æ–‡ä¹±ç å®Œç¾è§£å†³](#5-ä¸­æ–‡ä¹±ç å®Œç¾è§£å†³)
6. [å‚æ•°éªŒè¯ä¸å®‰å…¨å¤„ç†](#6-å‚æ•°éªŒè¯ä¸å®‰å…¨å¤„ç†)
7. [ç±»å‹è½¬æ¢å®ç”¨æŠ€å·§](#7-ç±»å‹è½¬æ¢å®ç”¨æŠ€å·§)
8. [ç©ºå€¼å¤„ç†æœ€ä½³å®è·µ](#8-ç©ºå€¼å¤„ç†æœ€ä½³å®è·µ)
9. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#9-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ¯ å‚æ•°è·å–åŸºç¡€æ¦‚å¿µ


### 1.1 ä»€ä¹ˆæ˜¯è¯·æ±‚å‚æ•°


> ğŸ’¡ **é€šä¿—ç†è§£**ï¼šå°±åƒä½ åœ¨ç½‘é¡µä¸Šå¡«å†™è¡¨å•ï¼Œç‚¹å‡»æäº¤åï¼Œè¿™äº›è¡¨å•æ•°æ®å°±æ˜¯"è¯·æ±‚å‚æ•°"

**å‚æ•°çš„æ¥æº**ï¼š
```
è¡¨å•æäº¤ï¼šç”¨æˆ·åœ¨é¡µé¢è¾“å…¥çš„æ•°æ®
URLå‚æ•°ï¼šç½‘å€åé¢ ? å·è·Ÿçš„æ•°æ®
AJAXè¯·æ±‚ï¼šJavaScriptå‘é€çš„æ•°æ®
```

**å‚æ•°ä¼ é€’ç¤ºä¾‹**ï¼š
```
GETæ–¹å¼ï¼šhttp://localhost:8080/demo?name=å¼ ä¸‰&age=20
POSTæ–¹å¼ï¼šæ•°æ®åœ¨è¯·æ±‚ä½“ä¸­ï¼Œç”¨æˆ·çœ‹ä¸åˆ°
```

### 1.2 å‚æ•°åœ¨HTTPä¸­çš„ä½ç½®


```
HTTPè¯·æ±‚ç»“æ„ç¤ºæ„å›¾ï¼š
â”Œâ”€ GET /login?username=admin&password=123 â”€â”€â”€â”
â”‚                                           â”‚
â”‚  è¯·æ±‚è¡Œï¼šåŒ…å«URLå‚æ•°ï¼ˆGETæ–¹å¼ï¼‰             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  è¯·æ±‚å¤´ï¼šContent-Typeç­‰ä¿¡æ¯                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  è¯·æ±‚ä½“ï¼šè¡¨å•æ•°æ®ï¼ˆPOSTæ–¹å¼ï¼‰               â”‚
â”‚         username=admin&password=123       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.3 Servletå¦‚ä½•è·å–å‚æ•°


**æ ¸å¿ƒæ€è·¯**ï¼š
- Servleté€šè¿‡ `HttpServletRequest` å¯¹è±¡æ¥è·å–å‚æ•°
- ä¸ç®¡æ˜¯GETè¿˜æ˜¯POSTæ–¹å¼ï¼Œè·å–æ–¹æ³•éƒ½ä¸€æ ·
- Servletä¼šè‡ªåŠ¨è§£æå‚æ•°ï¼Œæˆ‘ä»¬ç›´æ¥è°ƒç”¨æ–¹æ³•è·å–å³å¯

---

## 2. ğŸ“ å•å€¼å‚æ•°è·å–æ–¹æ³•


### 2.1 getParameter() æ–¹æ³•è¯¦è§£


> ğŸ“– **æ¦‚å¿µ**ï¼š`getParameter()` æ˜¯è·å–å•ä¸ªå‚æ•°å€¼çš„æœ€åŸºæœ¬æ–¹æ³•

**æ–¹æ³•ç­¾å**ï¼š
```java
String getParameter(String parameterName)
```

**å®é™…åº”ç”¨åœºæ™¯**ï¼š
```java
// ç”¨æˆ·ç™»å½•è¡¨å•
protected void doPost(HttpServletRequest request, HttpServletResponse response) {
    // è·å–ç”¨æˆ·å - å•ä¸ªå€¼
    String username = request.getParameter("username");
    
    // è·å–å¯†ç  - å•ä¸ªå€¼  
    String password = request.getParameter("password");
    
    // è·å–å¹´é¾„ - å•ä¸ªå€¼
    String age = request.getParameter("age");
    
    System.out.println("ç”¨æˆ·åï¼š" + username);
    System.out.println("å¯†ç ï¼š" + password); 
    System.out.println("å¹´é¾„ï¼š" + age);
}
```

### 2.2 å•å€¼è·å–çš„ç‰¹ç‚¹


**è¿”å›å€¼ç‰¹æ€§**ï¼š
- âœ… **æœ‰å€¼è¿”å›**ï¼šè¿”å›å…·ä½“çš„å­—ç¬¦ä¸²å€¼
- âœ… **æ— å‚æ•°è¿”å›**ï¼šè¿”å› `null`
- âœ… **ç©ºå€¼è¿”å›**ï¼šè¿”å›ç©ºå­—ç¬¦ä¸² `""`
- âœ… **å¤šå€¼è¿”å›**ï¼šåªè¿”å›ç¬¬ä¸€ä¸ªå€¼

**å®é™…æµ‹è¯•**ï¼š
```java
// å‡è®¾URL: /demo?name=å¼ ä¸‰&city=&hobby=è¯»ä¹¦&hobby=æ¸¸æˆ

String name = request.getParameter("name");     // "å¼ ä¸‰"
String city = request.getParameter("city");     // ""ï¼ˆç©ºå­—ç¬¦ä¸²ï¼‰
String hobby = request.getParameter("hobby");   // "è¯»ä¹¦"ï¼ˆç¬¬ä¸€ä¸ªå€¼ï¼‰
String phone = request.getParameter("phone");   // nullï¼ˆä¸å­˜åœ¨ï¼‰
```

### 2.3 å•å€¼è·å–æœ€ä½³å®è·µ


```java
protected void handleUserInfo(HttpServletRequest request, HttpServletResponse response) {
    // âœ… æ¨èï¼šå…ˆè·å–ååˆ¤æ–­
    String username = request.getParameter("username");
    if (username != null && !username.trim().isEmpty()) {
        System.out.println("ç”¨æˆ·åï¼š" + username);
    } else {
        System.out.println("ç”¨æˆ·åä¸ºç©ºæˆ–æœªæä¾›");
    }
    
    // âœ… æ¨èï¼šæä¾›é»˜è®¤å€¼
    String pageSize = request.getParameter("pageSize");
    int size = (pageSize != null) ? Integer.parseInt(pageSize) : 10;
}
```

---

## 3. ğŸ“‹ å¤šå€¼å‚æ•°è·å–æŠ€å·§


### 3.1 ä»€ä¹ˆæ—¶å€™ä¼šæœ‰å¤šå€¼å‚æ•°


> ğŸ’¡ **ç”Ÿæ´»åœºæ™¯**ï¼šå°±åƒä½ åœ¨é—®å·è°ƒæŸ¥ä¸­é€‰æ‹©å¤šä¸ªå…´è¶£çˆ±å¥½ï¼Œè¿™å°±æ˜¯å¤šå€¼å‚æ•°

**å…¸å‹åœºæ™¯**ï¼š
- **å¤é€‰æ¡†**ï¼šç”¨æˆ·å¯ä»¥é€‰æ‹©å¤šä¸ªé€‰é¡¹
- **å¤šé€‰åˆ—è¡¨**ï¼šä¸‹æ‹‰æ¡†å…è®¸å¤šé€‰
- **é‡å¤æäº¤**ï¼šåŒåå‚æ•°å¤šæ¬¡å‡ºç°

**HTMLè¡¨å•ç¤ºä¾‹**ï¼š
```html
<!-- å…´è¶£çˆ±å¥½å¤šé€‰æ¡† -->
<input type="checkbox" name="hobby" value="è¯»ä¹¦"> è¯»ä¹¦
<input type="checkbox" name="hobby" value="æ¸¸æˆ"> æ¸¸æˆ  
<input type="checkbox" name="hobby" value="è¿åŠ¨"> è¿åŠ¨
<input type="checkbox" name="hobby" value="éŸ³ä¹"> éŸ³ä¹
```

### 3.2 getParameterValues() æ–¹æ³•è¯¦è§£


> ğŸ“– **æ¦‚å¿µ**ï¼šä¸“é—¨ç”¨æ¥è·å–åŒåå‚æ•°çš„æ‰€æœ‰å€¼ï¼Œè¿”å›å­—ç¬¦ä¸²æ•°ç»„

**æ–¹æ³•ç­¾å**ï¼š
```java
String[] getParameterValues(String parameterName)
```

**å®é™…åº”ç”¨**ï¼š
```java
protected void handleHobbies(HttpServletRequest request, HttpServletResponse response) {
    // è·å–ç”¨æˆ·é€‰æ‹©çš„æ‰€æœ‰çˆ±å¥½
    String[] hobbies = request.getParameterValues("hobby");
    
    if (hobbies != null) {
        System.out.println("ç”¨æˆ·çš„çˆ±å¥½æœ‰ï¼š");
        for (int i = 0; i < hobbies.length; i++) {
            System.out.println((i+1) + ". " + hobbies[i]);
        }
    } else {
        System.out.println("ç”¨æˆ·æ²¡æœ‰é€‰æ‹©ä»»ä½•çˆ±å¥½");
    }
}
```

### 3.3 å¤šå€¼å‚æ•°å¤„ç†æŠ€å·§


**åœºæ™¯ä¸€ï¼šå¤„ç†å¤é€‰æ¡†æ•°æ®**
```java
// å¤„ç†ç”¨æˆ·æƒé™é€‰æ‹©
String[] permissions = request.getParameterValues("permission");
List<String> userPermissions = new ArrayList<>();

if (permissions != null) {
    for (String permission : permissions) {
        if (permission != null && !permission.trim().isEmpty()) {
            userPermissions.add(permission);
        }
    }
}

System.out.println("ç”¨æˆ·æ‹¥æœ‰æƒé™ï¼š" + userPermissions);
```

**åœºæ™¯äºŒï¼šæ‰¹é‡æ•°æ®å¤„ç†**
```java
// æ‰¹é‡åˆ é™¤å•†å“ID
String[] productIds = request.getParameterValues("productId");

if (productIds != null && productIds.length > 0) {
    System.out.println("å‡†å¤‡åˆ é™¤ " + productIds.length + " ä¸ªå•†å“ï¼š");
    for (String id : productIds) {
        System.out.println("å•†å“IDï¼š" + id);
        // æ‰§è¡Œåˆ é™¤é€»è¾‘...
    }
}
```

### 3.4 å•å€¼vså¤šå€¼æ–¹æ³•å¯¹æ¯”


| æ–¹æ³• | **é€‚ç”¨åœºæ™¯** | **è¿”å›å€¼** | **å¤„ç†å¤šå€¼** |
|------|-------------|-----------|-------------|
| `getParameter()` | `å•é€‰ã€æ–‡æœ¬æ¡†ã€å•ä¸ªå€¼` | `String` | `åªè¿”å›ç¬¬ä¸€ä¸ª` |
| `getParameterValues()` | `å¤é€‰æ¡†ã€å¤šé€‰ã€æ‰¹é‡` | `String[]` | `è¿”å›æ‰€æœ‰å€¼` |

---

## 4. ğŸ—‚ï¸ å…¨éƒ¨å‚æ•°è·å–æ–¹æ¡ˆ


### 4.1 getParameterMap() æ–¹æ³•è¯¦è§£


> ğŸ“– **æ¦‚å¿µ**ï¼šä¸€æ¬¡æ€§è·å–è¯·æ±‚ä¸­çš„æ‰€æœ‰å‚æ•°ï¼Œè¿”å›Mapé›†åˆ

**æ–¹æ³•ç­¾å**ï¼š
```java
Map<String, String[]> getParameterMap()
```

> âš ï¸ **æ³¨æ„**ï¼šè¿”å›çš„Mapä¸­ï¼Œkeyæ˜¯å‚æ•°åï¼Œvalueæ˜¯å­—ç¬¦ä¸²æ•°ç»„ï¼ˆå› ä¸ºå¯èƒ½æœ‰å¤šå€¼ï¼‰

### 4.2 å‚æ•°Mapçš„ç»“æ„ç†è§£


```
å‡è®¾è¡¨å•æäº¤äº†è¿™äº›æ•°æ®ï¼š
username=å¼ ä¸‰
password=123456
hobby=è¯»ä¹¦
hobby=æ¸¸æˆ
age=20

å¾—åˆ°çš„Mapç»“æ„ï¼š
{
  "username" â†’ ["å¼ ä¸‰"]
  "password" â†’ ["123456"] 
  "hobby"    â†’ ["è¯»ä¹¦", "æ¸¸æˆ"]
  "age"      â†’ ["20"]
}
```

### 4.3 å®é™…åº”ç”¨ç¤ºä¾‹


**åœºæ™¯ä¸€ï¼šå‚æ•°è°ƒè¯•å’Œæ—¥å¿—**
```java
protected void debugAllParameters(HttpServletRequest request, HttpServletResponse response) {
    Map<String, String[]> paramMap = request.getParameterMap();
    
    System.out.println("=== æ¥æ”¶åˆ°çš„æ‰€æœ‰å‚æ•° ===");
    for (Map.Entry<String, String[]> entry : paramMap.entrySet()) {
        String paramName = entry.getKey();
        String[] paramValues = entry.getValue();
        
        if (paramValues.length == 1) {
            System.out.println(paramName + " = " + paramValues[0]);
        } else {
            System.out.println(paramName + " = " + Arrays.toString(paramValues));
        }
    }
}
```

**åœºæ™¯äºŒï¼šåŠ¨æ€è¡¨å•å¤„ç†**
```java
// å¤„ç†åŠ¨æ€ç”Ÿæˆçš„è¡¨å•
protected void handleDynamicForm(HttpServletRequest request, HttpServletResponse response) {
    Map<String, String[]> allParams = request.getParameterMap();
    
    // åˆ†ç¦»ä¸åŒç±»å‹çš„å‚æ•°
    for (String paramName : allParams.keySet()) {
        String[] values = allParams.get(paramName);
        
        if (paramName.startsWith("user_")) {
            // å¤„ç†ç”¨æˆ·ç›¸å…³å‚æ•°
            handleUserParam(paramName, values);
        } else if (paramName.startsWith("product_")) {
            // å¤„ç†å•†å“ç›¸å…³å‚æ•°
            handleProductParam(paramName, values);
        }
    }
}

private void handleUserParam(String paramName, String[] values) {
    System.out.println("ç”¨æˆ·å‚æ•°ï¼š" + paramName + " = " + Arrays.toString(values));
}
```

### 4.4 Mapæ–¹å¼çš„ä¼˜åŠ¿å’Œæ³¨æ„äº‹é¡¹


**ä¼˜åŠ¿**ï¼š
- âœ… ä¸€æ¬¡æ€§è·å–æ‰€æœ‰å‚æ•°ï¼Œæ•ˆç‡é«˜
- âœ… é€‚åˆå‚æ•°æ•°é‡ä¸ç¡®å®šçš„åœºæ™¯
- âœ… ä¾¿äºå‚æ•°çš„æ•´ä½“å¤„ç†å’ŒéªŒè¯

**æ³¨æ„äº‹é¡¹**ï¼š
- âš ï¸ **å€¼éƒ½æ˜¯æ•°ç»„**ï¼šå³ä½¿å•å€¼å‚æ•°ï¼Œä¹Ÿæ˜¯é•¿åº¦ä¸º1çš„æ•°ç»„
- âš ï¸ **åªè¯»Map**ï¼šä¸èƒ½ä¿®æ”¹è¿”å›çš„Map
- âš ï¸ **å†…å­˜å ç”¨**ï¼šå‚æ•°å¤šæ—¶ä¼šå ç”¨è¾ƒå¤šå†…å­˜

---

## 5. ğŸ”§ ä¸­æ–‡ä¹±ç å®Œç¾è§£å†³


### 5.1 ä¹±ç äº§ç”Ÿçš„åŸå› 


> ğŸ’¡ **å½¢è±¡æ¯”å–»**ï¼šå°±åƒä¸¤ä¸ªäººç”¨ä¸åŒçš„"å¯†ç æœ¬"äº¤æµï¼Œå‘é€æ–¹ç”¨UTF-8ç¼–ç ï¼Œæ¥æ”¶æ–¹ç”¨ISO-8859-1è§£ç ï¼Œå½“ç„¶çœ‹ä¸æ‡‚

**ä¹±ç äº§ç”Ÿè¿‡ç¨‹**ï¼š
```
æµè§ˆå™¨æäº¤æ•°æ®ï¼š
ç”¨æˆ·è¾“å…¥ "å¼ ä¸‰" â†’ æµè§ˆå™¨ç”¨UTF-8ç¼–ç  â†’ å‘é€åˆ°æœåŠ¡å™¨

æœåŠ¡å™¨æ¥æ”¶æ•°æ®ï¼š
Servleté»˜è®¤ç”¨ISO-8859-1è§£ç  â†’ å¾—åˆ°ä¹±ç  "Ã¥Â¼ Ã¤Â¸â€°"
```

### 5.2 GETè¯·æ±‚ä¹±ç è§£å†³


**æ–¹æ³•ä¸€ï¼šTomcatæœåŠ¡å™¨é…ç½®ï¼ˆæ¨èï¼‰**
```xml
<!-- åœ¨ Tomcat çš„ server.xml ä¸­é…ç½® -->
<Connector port="8080" protocol="HTTP/1.1"
           connectionTimeout="20000"
           redirectPort="8443"
           URIEncoding="UTF-8" />
```

**æ–¹æ³•äºŒï¼šä»£ç ä¸­æ‰‹åŠ¨è½¬æ¢**
```java
// å¤„ç†GETè¯·æ±‚çš„ä¸­æ–‡å‚æ•°
protected void doGet(HttpServletRequest request, HttpServletResponse response) {
    String name = request.getParameter("name");
    
    if (name != null) {
        try {
            // æ‰‹åŠ¨è½¬æ¢ç¼–ç 
            name = new String(name.getBytes("ISO-8859-1"), "UTF-8");
            System.out.println("ç”¨æˆ·åï¼š" + name);
        } catch (UnsupportedEncodingException e) {
            e.printStackTrace();
        }
    }
}
```

### 5.3 POSTè¯·æ±‚ä¹±ç è§£å†³


**æ ‡å‡†è§£å†³æ–¹æ¡ˆï¼ˆæœ€æ¨èï¼‰**ï¼š
```java
protected void doPost(HttpServletRequest request, HttpServletResponse response) {
    // âœ… å…³é”®ï¼šåœ¨è·å–å‚æ•°ä¹‹å‰è®¾ç½®ç¼–ç 
    try {
        request.setCharacterEncoding("UTF-8");
    } catch (UnsupportedEncodingException e) {
        e.printStackTrace();
    }
    
    // ç°åœ¨è·å–å‚æ•°å°±ä¸ä¼šä¹±ç äº†
    String username = request.getParameter("username");
    String address = request.getParameter("address");
    
    System.out.println("ç”¨æˆ·åï¼š" + username);
    System.out.println("åœ°å€ï¼š" + address);
}
```

### 5.4 ç»Ÿä¸€ä¹±ç è§£å†³æ–¹æ¡ˆ


**ä½¿ç”¨è¿‡æ»¤å™¨ï¼ˆä¼ä¸šçº§æ–¹æ¡ˆï¼‰**ï¼š
```java
@WebFilter("/*")
public class EncodingFilter implements Filter {
    
    @Override
    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) {
        try {
            // ç»Ÿä¸€è®¾ç½®è¯·æ±‚å’Œå“åº”ç¼–ç 
            request.setCharacterEncoding("UTF-8");
            response.setCharacterEncoding("UTF-8");
            response.setContentType("text/html;charset=UTF-8");
            
            // ç»§ç»­æ‰§è¡Œåç»­å¤„ç†
            chain.doFilter(request, response);
        } catch (Exception e) {
            e.printStackTrace();
        }
    }
}
```

### 5.5 ä¹±ç è§£å†³è¦ç‚¹æ€»ç»“


> ğŸš€ **è¿›é˜¶æŠ€å·§**ï¼šè®°ä½è¿™ä¸ªé¡ºåºï¼Œä¹±ç é—®é¢˜è¿åˆƒè€Œè§£

**è§£å†³æ­¥éª¤**ï¼š
1. **POSTè¯·æ±‚**ï¼šåœ¨è·å–å‚æ•°å‰è°ƒç”¨ `setCharacterEncoding("UTF-8")`
2. **GETè¯·æ±‚**ï¼šé…ç½®Tomcatçš„URIEncodingæˆ–æ‰‹åŠ¨è½¬æ¢
3. **å“åº”æ•°æ®**ï¼šè®¾ç½®å“åº”ç¼–ç é¿å…é¡µé¢ä¹±ç 
4. **ç»Ÿä¸€å¤„ç†**ï¼šä½¿ç”¨è¿‡æ»¤å™¨ç»Ÿä¸€è®¾ç½®ç¼–ç 

---

## 6. ğŸ›¡ï¸ å‚æ•°éªŒè¯ä¸å®‰å…¨å¤„ç†


### 6.1 ä¸ºä»€ä¹ˆéœ€è¦å‚æ•°éªŒè¯


> âš ï¸ **å®‰å…¨è­¦å‘Š**ï¼šæ°¸è¿œä¸è¦ç›¸ä¿¡ç”¨æˆ·æäº¤çš„æ•°æ®ï¼

**æ½œåœ¨é£é™©**ï¼š
- **æ¶æ„è¾“å…¥**ï¼šSQLæ³¨å…¥ã€XSSæ”»å‡»
- **æ•°æ®é”™è¯¯**ï¼šç±»å‹ä¸åŒ¹é…ã€èŒƒå›´è¶…å‡º
- **ç©ºå€¼å¼‚å¸¸**ï¼šç¨‹åºå´©æºƒ
- **ä¸šåŠ¡é€»è¾‘é”™è¯¯**ï¼šä¸ç¬¦åˆè§„åˆ™çš„æ•°æ®

### 6.2 å‚æ•°å­˜åœ¨æ€§éªŒè¯


```java
protected void validateBasicParams(HttpServletRequest request, HttpServletResponse response) {
    String username = request.getParameter("username");
    String email = request.getParameter("email");
    
    // âœ… æ£€æŸ¥å¿…éœ€å‚æ•°
    if (username == null || username.trim().isEmpty()) {
        response.getWriter().write("é”™è¯¯ï¼šç”¨æˆ·åä¸èƒ½ä¸ºç©º");
        return;
    }
    
    if (email == null || email.trim().isEmpty()) {
        response.getWriter().write("é”™è¯¯ï¼šé‚®ç®±ä¸èƒ½ä¸ºç©º");
        return;
    }
    
    // å‚æ•°éƒ½å­˜åœ¨ï¼Œç»§ç»­å¤„ç†...
    processUserRegistration(username, email);
}
```

### 6.3 å‚æ•°æ ¼å¼éªŒè¯


**é‚®ç®±æ ¼å¼éªŒè¯**ï¼š
```java
private boolean isValidEmail(String email) {
    if (email == null) return false;
    
    // ç®€å•çš„é‚®ç®±æ ¼å¼æ£€æŸ¥
    String emailPattern = "^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$";
    return email.matches(emailPattern);
}

// ä½¿ç”¨ç¤ºä¾‹
String email = request.getParameter("email");
if (!isValidEmail(email)) {
    response.getWriter().write("é”™è¯¯ï¼šé‚®ç®±æ ¼å¼ä¸æ­£ç¡®");
    return;
}
```

**æ‰‹æœºå·éªŒè¯**ï¼š
```java
private boolean isValidPhone(String phone) {
    if (phone == null) return false;
    
    // ä¸­å›½æ‰‹æœºå·æ ¼å¼
    String phonePattern = "^1[3-9]\\d{9}$";
    return phone.matches(phonePattern);
}
```

### 6.4 å‚æ•°é•¿åº¦å’ŒèŒƒå›´éªŒè¯


```java
protected void validateUserInput(HttpServletRequest request, HttpServletResponse response) {
    String username = request.getParameter("username");
    String age = request.getParameter("age");
    
    // ç”¨æˆ·åé•¿åº¦æ£€æŸ¥
    if (username != null) {
        if (username.length() < 3 || username.length() > 20) {
            response.getWriter().write("é”™è¯¯ï¼šç”¨æˆ·åé•¿åº¦å¿…é¡»åœ¨3-20ä¸ªå­—ç¬¦ä¹‹é—´");
            return;
        }
    }
    
    // å¹´é¾„èŒƒå›´æ£€æŸ¥
    if (age != null) {
        try {
            int ageInt = Integer.parseInt(age);
            if (ageInt < 18 || ageInt > 100) {
                response.getWriter().write("é”™è¯¯ï¼šå¹´é¾„å¿…é¡»åœ¨18-100ä¹‹é—´");
                return;
            }
        } catch (NumberFormatException e) {
            response.getWriter().write("é”™è¯¯ï¼šå¹´é¾„å¿…é¡»æ˜¯æ•°å­—");
            return;
        }
    }
}
```

### 6.5 SQLæ³¨å…¥é˜²æŠ¤


> ğŸ”’ **å®‰å…¨é‡ç‚¹**ï¼šä½¿ç”¨é¢„ç¼–è¯‘è¯­å¥é˜²æ­¢SQLæ³¨å…¥

**å±é™©ç¤ºä¾‹ï¼ˆä¸è¦è¿™æ ·åšï¼‰**ï¼š
```java
// âŒ å±é™©ï¼šç›´æ¥æ‹¼æ¥SQL
String username = request.getParameter("username");
String sql = "SELECT * FROM users WHERE username = '" + username + "'";
// å¦‚æœç”¨æˆ·è¾“å…¥ï¼šadmin'; DROP TABLE users; --
// å°±ä¼šåˆ é™¤æ•´ä¸ªç”¨æˆ·è¡¨ï¼
```

**å®‰å…¨ç¤ºä¾‹ï¼ˆæ­£ç¡®åšæ³•ï¼‰**ï¼š
```java
// âœ… å®‰å…¨ï¼šä½¿ç”¨é¢„ç¼–è¯‘è¯­å¥
String username = request.getParameter("username");
String sql = "SELECT * FROM users WHERE username = ?";
PreparedStatement pstmt = connection.prepareStatement(sql);
pstmt.setString(1, username);  // å‚æ•°ä¼šè¢«è‡ªåŠ¨è½¬ä¹‰
ResultSet rs = pstmt.executeQuery();
```

---

## 7. ğŸ”„ ç±»å‹è½¬æ¢å®ç”¨æŠ€å·§


### 7.1 ä¸ºä»€ä¹ˆéœ€è¦ç±»å‹è½¬æ¢


> ğŸ’¡ **æ ¸å¿ƒæ¦‚å¿µ**ï¼šHTTPè¯·æ±‚ä¸­æ‰€æœ‰å‚æ•°éƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œä½†ç¨‹åºä¸­ç»å¸¸éœ€è¦æ•°å­—ã€å¸ƒå°”å€¼ç­‰ç±»å‹

**è½¬æ¢éœ€æ±‚åœºæ™¯**ï¼š
- **å¹´é¾„**ï¼šå­—ç¬¦ä¸²"25" â†’ æ•´æ•°25
- **ä»·æ ¼**ï¼šå­—ç¬¦ä¸²"99.99" â†’ å°æ•°99.99
- **å¼€å…³**ï¼šå­—ç¬¦ä¸²"true" â†’ å¸ƒå°”å€¼true

### 7.2 å­—ç¬¦ä¸²è½¬æ•´æ•°


```java
protected void handleIntegerParams(HttpServletRequest request, HttpServletResponse response) {
    String ageStr = request.getParameter("age");
    String pageStr = request.getParameter("page");
    
    // æ–¹æ³•ä¸€ï¼šåŸºç¡€è½¬æ¢ï¼ˆå¯èƒ½æŠ›å¼‚å¸¸ï¼‰
    try {
        int age = Integer.parseInt(ageStr);
        System.out.println("ç”¨æˆ·å¹´é¾„ï¼š" + age);
    } catch (NumberFormatException e) {
        System.out.println("å¹´é¾„æ ¼å¼é”™è¯¯ï¼š" + ageStr);
    }
    
    // æ–¹æ³•äºŒï¼šå®‰å…¨è½¬æ¢ï¼ˆæ¨èï¼‰
    int page = parseIntSafely(pageStr, 1);  // é»˜è®¤å€¼ä¸º1
    System.out.println("å½“å‰é¡µç ï¼š" + page);
}

// å®‰å…¨çš„æ•´æ•°è½¬æ¢æ–¹æ³•
private int parseIntSafely(String str, int defaultValue) {
    if (str == null || str.trim().isEmpty()) {
        return defaultValue;
    }
    
    try {
        return Integer.parseInt(str.trim());
    } catch (NumberFormatException e) {
        return defaultValue;
    }
}
```

### 7.3 å­—ç¬¦ä¸²è½¬å°æ•°


```java
// å¤„ç†ä»·æ ¼ã€æˆç»©ç­‰å°æ•°å‚æ•°
private double parseDoubleSafely(String str, double defaultValue) {
    if (str == null || str.trim().isEmpty()) {
        return defaultValue;
    }
    
    try {
        return Double.parseDouble(str.trim());
    } catch (NumberFormatException e) {
        return defaultValue;
    }
}

// ä½¿ç”¨ç¤ºä¾‹
String priceStr = request.getParameter("price");
double price = parseDoubleSafely(priceStr, 0.0);

if (price > 0) {
    System.out.println("å•†å“ä»·æ ¼ï¼š" + price + " å…ƒ");
} else {
    System.out.println("ä»·æ ¼æ— æ•ˆï¼Œä½¿ç”¨é»˜è®¤å€¼");
}
```

### 7.4 å­—ç¬¦ä¸²è½¬å¸ƒå°”å€¼


```java
// å¤„ç†å¤é€‰æ¡†ã€å¼€å…³ç­‰å¸ƒå°”å‚æ•°
private boolean parseBooleanSafely(String str, boolean defaultValue) {
    if (str == null || str.trim().isEmpty()) {
        return defaultValue;
    }
    
    String value = str.trim().toLowerCase();
    
    // å¤šç§trueçš„è¡¨ç¤ºæ–¹æ³•
    if ("true".equals(value) || "1".equals(value) || 
        "yes".equals(value) || "on".equals(value)) {
        return true;
    }
    
    // å¤šç§falseçš„è¡¨ç¤ºæ–¹æ³•  
    if ("false".equals(value) || "0".equals(value) || 
        "no".equals(value) || "off".equals(value)) {
        return false;
    }
    
    return defaultValue;
}

// ä½¿ç”¨ç¤ºä¾‹
String rememberStr = request.getParameter("remember");
boolean rememberMe = parseBooleanSafely(rememberStr, false);

if (rememberMe) {
    System.out.println("ç”¨æˆ·é€‰æ‹©äº†è®°ä½ç™»å½•çŠ¶æ€");
}
```

### 7.5 æ‰¹é‡ç±»å‹è½¬æ¢


```java
// å¤„ç†å•†å“IDåˆ—è¡¨ï¼ˆå­—ç¬¦ä¸²æ•°ç»„è½¬æ•´æ•°æ•°ç»„ï¼‰
protected int[] parseIntArray(String[] strArray) {
    if (strArray == null) {
        return new int[0];
    }
    
    List<Integer> intList = new ArrayList<>();
    
    for (String str : strArray) {
        int value = parseIntSafely(str, -1);
        if (value != -1) {  // åªæ·»åŠ æœ‰æ•ˆçš„æ•°å€¼
            intList.add(value);
        }
    }
    
    // Listè½¬æ•°ç»„
    return intList.stream().mapToInt(Integer::intValue).toArray();
}

// ä½¿ç”¨ç¤ºä¾‹
String[] productIdStrs = request.getParameterValues("productId");
int[] productIds = parseIntArray(productIdStrs);

System.out.println("è¦å¤„ç†çš„å•†å“IDï¼š" + Arrays.toString(productIds));
```

---

## 8. ğŸ¯ ç©ºå€¼å¤„ç†æœ€ä½³å®è·µ


### 8.1 ç©ºå€¼çš„å‡ ç§æƒ…å†µ


> ğŸ“– **æ¦‚å¿µåŒºåˆ†**ï¼šç†è§£nullã€ç©ºå­—ç¬¦ä¸²ã€ç©ºç™½å­—ç¬¦ä¸²çš„åŒºåˆ«å¾ˆé‡è¦

```java
// æ¼”ç¤ºä¸åŒçš„"ç©ºå€¼"æƒ…å†µ
protected void demonstrateEmptyValues(HttpServletRequest request, HttpServletResponse response) {
    
    // æƒ…å†µ1ï¼šå‚æ•°ä¸å­˜åœ¨
    String notExist = request.getParameter("notExist");
    System.out.println("ä¸å­˜åœ¨çš„å‚æ•°ï¼š" + notExist);  // null
    
    // æƒ…å†µ2ï¼šå‚æ•°å­˜åœ¨ä½†å€¼ä¸ºç©º
    // URL: /demo?empty=
    String empty = request.getParameter("empty");
    System.out.println("ç©ºå€¼å‚æ•°ï¼š'" + empty + "'");  // ""
    
    // æƒ…å†µ3ï¼šå‚æ•°å€¼åªæœ‰ç©ºæ ¼
    // URL: /demo?spaces=   
    String spaces = request.getParameter("spaces");
    System.out.println("ç©ºæ ¼å‚æ•°ï¼š'" + spaces + "'");  // "   "
}
```

### 8.2 ç»Ÿä¸€çš„ç©ºå€¼æ£€æŸ¥æ–¹æ³•


```java
// å·¥å…·æ–¹æ³•ï¼šæ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦ä¸ºç©º
public static boolean isEmpty(String str) {
    return str == null || str.trim().isEmpty();
}

public static boolean isNotEmpty(String str) {
    return !isEmpty(str);
}

// ä½¿ç”¨ç¤ºä¾‹
protected void handleUserInput(HttpServletRequest request, HttpServletResponse response) {
    String username = request.getParameter("username");
    String email = request.getParameter("email");
    
    if (isEmpty(username)) {
        response.getWriter().write("ç”¨æˆ·åä¸èƒ½ä¸ºç©º");
        return;
    }
    
    if (isNotEmpty(email)) {
        System.out.println("ç”¨æˆ·é‚®ç®±ï¼š" + email);
    } else {
        System.out.println("ç”¨æˆ·æœªæä¾›é‚®ç®±");
    }
}
```

### 8.3 ç©ºå€¼çš„é»˜è®¤å€¼å¤„ç†


```java
// æ–¹æ³•ä¸€ï¼šä½¿ç”¨ä¸‰å…ƒè¿ç®—ç¬¦
protected void handleWithDefaults(HttpServletRequest request, HttpServletResponse response) {
    String username = request.getParameter("username");
    String nickname = request.getParameter("nickname");
    
    // æä¾›é»˜è®¤å€¼
    String finalUsername = (username != null && !username.trim().isEmpty()) ? username : "guest";
    String finalNickname = (nickname != null && !nickname.trim().isEmpty()) ? nickname : finalUsername;
    
    System.out.println("ç”¨æˆ·åï¼š" + finalUsername);
    System.out.println("æ˜µç§°ï¼š" + finalNickname);
}

// æ–¹æ³•äºŒï¼šå°è£…é»˜è®¤å€¼æ–¹æ³•
private String getParameterWithDefault(HttpServletRequest request, String paramName, String defaultValue) {
    String value = request.getParameter(paramName);
    return (value != null && !value.trim().isEmpty()) ? value.trim() : defaultValue;
}

// ä½¿ç”¨ç¤ºä¾‹
String pageSize = getParameterWithDefault(request, "pageSize", "10");
String sortBy = getParameterWithDefault(request, "sortBy", "createTime");
```

### 8.4 ç©ºå€¼å¤„ç†çš„ä¸šåŠ¡ç­–ç•¥


**ç­–ç•¥ä¸€ï¼šå¿…å¡«å‚æ•°ä¸¥æ ¼æ£€æŸ¥**
```java
protected void validateRequiredParams(HttpServletRequest request, HttpServletResponse response) throws IOException {
    List<String> errors = new ArrayList<>();
    
    // æ£€æŸ¥å¿…å¡«å‚æ•°
    if (isEmpty(request.getParameter("username"))) {
        errors.add("ç”¨æˆ·åä¸èƒ½ä¸ºç©º");
    }
    
    if (isEmpty(request.getParameter("password"))) {
        errors.add("å¯†ç ä¸èƒ½ä¸ºç©º");
    }
    
    if (isEmpty(request.getParameter("email"))) {
        errors.add("é‚®ç®±ä¸èƒ½ä¸ºç©º");
    }
    
    // å¦‚æœæœ‰é”™è¯¯ï¼Œè¿”å›é”™è¯¯ä¿¡æ¯
    if (!errors.isEmpty()) {
        response.getWriter().write("å‚æ•°é”™è¯¯ï¼š" + String.join("ï¼›", errors));
        return;
    }
    
    // æ‰€æœ‰å‚æ•°éƒ½æœ‰æ•ˆï¼Œç»§ç»­å¤„ç†...
}
```

**ç­–ç•¥äºŒï¼šå¯é€‰å‚æ•°ä¼˜é›…å¤„ç†**
```java
protected void handleOptionalParams(HttpServletRequest request, HttpServletResponse response) {
    // å¿…å¡«å‚æ•°
    String username = request.getParameter("username");
    
    // å¯é€‰å‚æ•°ï¼Œæä¾›åˆç†é»˜è®¤å€¼
    String theme = getParameterWithDefault(request, "theme", "default");
    String language = getParameterWithDefault(request, "language", "zh-CN");
    int pageSize = parseIntSafely(request.getParameter("pageSize"), 10);
    
    // æ„å»ºç”¨æˆ·åå¥½è®¾ç½®
    System.out.println("ç”¨æˆ·åå¥½è®¾ç½®ï¼š");
    System.out.println("- ä¸»é¢˜ï¼š" + theme);
    System.out.println("- è¯­è¨€ï¼š" + language);
    System.out.println("- æ¯é¡µæ˜¾ç¤ºï¼š" + pageSize + " æ¡");
}
```

---

## 9. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 9.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ å‚æ•°è·å–ä¸‰å¤§æ–¹æ³•ï¼š
   â€¢ getParameter() - è·å–å•ä¸ªå‚æ•°å€¼
   â€¢ getParameterValues() - è·å–å¤šä¸ªåŒåå‚æ•°
   â€¢ getParameterMap() - è·å–æ‰€æœ‰å‚æ•°

ğŸ”¸ ä¸­æ–‡ä¹±ç è§£å†³ï¼š
   â€¢ POSTè¯·æ±‚ï¼šsetCharacterEncoding("UTF-8")
   â€¢ GETè¯·æ±‚ï¼šé…ç½®Tomcatæˆ–æ‰‹åŠ¨è½¬æ¢ç¼–ç 

ğŸ”¸ å‚æ•°éªŒè¯åŸåˆ™ï¼š
   â€¢ æ°¸è¿œä¸ä¿¡ä»»ç”¨æˆ·è¾“å…¥
   â€¢ æ£€æŸ¥å­˜åœ¨æ€§ã€æ ¼å¼ã€èŒƒå›´
   â€¢ é˜²æ­¢SQLæ³¨å…¥å’ŒXSSæ”»å‡»

ğŸ”¸ ç±»å‹è½¬æ¢æŠ€å·§ï¼š
   â€¢ å®‰å…¨è½¬æ¢ï¼Œæä¾›é»˜è®¤å€¼
   â€¢ ç»Ÿä¸€çš„è½¬æ¢å·¥å…·æ–¹æ³•
   â€¢ å¼‚å¸¸å¤„ç†æœºåˆ¶

ğŸ”¸ ç©ºå€¼å¤„ç†ç­–ç•¥ï¼š
   â€¢ åŒºåˆ†nullã€ç©ºå­—ç¬¦ä¸²ã€ç©ºç™½å­—ç¬¦ä¸²
   â€¢ å¿…å¡«å‚æ•°ä¸¥æ ¼éªŒè¯
   â€¢ å¯é€‰å‚æ•°æä¾›é»˜è®¤å€¼
```

### 9.2 å®é™…å¼€å‘æœ€ä½³å®è·µ


> ğŸš€ **è¿›é˜¶å»ºè®®**ï¼šå°†è¿™äº›æŠ€å·§å°è£…æˆå·¥å…·ç±»ï¼Œæé«˜å¼€å‘æ•ˆç‡

**å‚æ•°å¤„ç†å·¥å…·ç±»ç¤ºä¾‹**ï¼š
```java
public class ParamUtils {
    
    // å®‰å…¨è·å–å­—ç¬¦ä¸²å‚æ•°
    public static String getString(HttpServletRequest request, String paramName, String defaultValue) {
        String value = request.getParameter(paramName);
        return (value != null && !value.trim().isEmpty()) ? value.trim() : defaultValue;
    }
    
    // å®‰å…¨è·å–æ•´æ•°å‚æ•°
    public static int getInt(HttpServletRequest request, String paramName, int defaultValue) {
        String value = request.getParameter(paramName);
        if (value == null || value.trim().isEmpty()) {
            return defaultValue;
        }
        
        try {
            return Integer.parseInt(value.trim());
        } catch (NumberFormatException e) {
            return defaultValue;
        }
    }
    
    // æ£€æŸ¥å¿…å¡«å‚æ•°
    public static List<String> validateRequired(HttpServletRequest request, String... paramNames) {
        List<String> errors = new ArrayList<>();
        
        for (String paramName : paramNames) {
            String value = request.getParameter(paramName);
            if (value == null || value.trim().isEmpty()) {
                errors.add(paramName + "ä¸èƒ½ä¸ºç©º");
            }
        }
        
        return errors;
    }
}
```

### 9.3 å­¦ä¹ è¿›åº¦æ£€æŸ¥


**åŸºç¡€æŒæ¡åº¦**ï¼š â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ 80%

- âœ… **å·²æŒæ¡**ï¼šåŸºæœ¬å‚æ•°è·å–æ–¹æ³•
- âœ… **å·²æŒæ¡**ï¼šä¸­æ–‡ä¹±ç è§£å†³æ–¹æ¡ˆ
- ğŸ”„ **å­¦ä¹ ä¸­**ï¼šå‚æ•°éªŒè¯å’Œå®‰å…¨å¤„ç†
- â³ **å¾…åŠ å¼º**ï¼šå¤æ‚ä¸šåŠ¡åœºæ™¯åº”ç”¨

### 9.4 å¸¸è§é—®é¢˜è§£ç­”


**Q1ï¼šä»€ä¹ˆæ—¶å€™ç”¨getParameterï¼Œä»€ä¹ˆæ—¶å€™ç”¨getParameterValuesï¼Ÿ**
> Aï¼šå•é€‰æ¡†ã€æ–‡æœ¬æ¡†ç”¨getParameterï¼›å¤é€‰æ¡†ã€å¤šé€‰åˆ—è¡¨ç”¨getParameterValues

**Q2ï¼šä¸ºä»€ä¹ˆè¦åœ¨è·å–å‚æ•°å‰è®¾ç½®ç¼–ç ï¼Ÿ**
> Aï¼šServletè·å–å‚æ•°æ—¶å°±è¿›è¡Œè§£ç ï¼Œå¦‚æœä¸æå‰è®¾ç½®ç¼–ç ï¼Œè·å–åå†è½¬æ¢å°±æ¥ä¸åŠäº†

**Q3ï¼šå¦‚ä½•å¤„ç†ç”¨æˆ·æ¶æ„æäº¤è¶…é•¿å‚æ•°ï¼Ÿ**
> Aï¼šè®¾ç½®å‚æ•°é•¿åº¦é™åˆ¶ï¼Œè¶…é•¿ç›´æ¥æ‹’ç»ï¼›ä½¿ç”¨Tomcatçš„maxParameterCounté™åˆ¶å‚æ•°æ•°é‡

**æ ¸å¿ƒè®°å¿†å£è¯€**ï¼š
- å‚æ•°è·å–æ–¹æ³•ä¸‰ï¼Œå•å€¼å¤šå€¼å…¨å‚æ•°
- ä¸­æ–‡ä¹±ç è¦è®¾ç¼–ç ï¼ŒPOSTè¯·æ±‚æœ€å…³é”®
- ç”¨æˆ·è¾“å…¥ä¸å¯ä¿¡ï¼ŒéªŒè¯è½¬æ¢ä¿å®‰å…¨
- ç©ºå€¼å¤„ç†è¦ç»†å¿ƒï¼Œé»˜è®¤å€¼æ¥å¸®å¤§å¿™