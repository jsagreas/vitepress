---
title: 1ã€MVCæ¨¡å¼åº”ç”¨
---
## ğŸ“š ç›®å½•

1. [MVCæ¨¡å¼åŸºç¡€æ¦‚å¿µ](#1-MVCæ¨¡å¼åŸºç¡€æ¦‚å¿µ)
2. [Modelæ¨¡å‹å±‚è®¾è®¡](#2-Modelæ¨¡å‹å±‚è®¾è®¡)
3. [Viewè§†å›¾å±‚åˆ†ç¦»](#3-Viewè§†å›¾å±‚åˆ†ç¦»)
4. [Controlleræ§åˆ¶å±‚å®ç°](#4-Controlleræ§åˆ¶å±‚å®ç°)
5. [èŒè´£åˆ†ç¦»åŸåˆ™](#5-èŒè´£åˆ†ç¦»åŸåˆ™)
6. [ä»£ç è§£è€¦è®¾è®¡](#6-ä»£ç è§£è€¦è®¾è®¡)
7. [ä¸‰å±‚æ¶æ„æ¨¡å¼](#7-ä¸‰å±‚æ¶æ„æ¨¡å¼)
8. [å®æˆ˜æ¡ˆä¾‹ï¼šç”¨æˆ·ç®¡ç†ç³»ç»Ÿ](#8-å®æˆ˜æ¡ˆä¾‹-ç”¨æˆ·ç®¡ç†ç³»ç»Ÿ)
9. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#9-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ—ï¸ MVCæ¨¡å¼åŸºç¡€æ¦‚å¿µ


### 1.1 ä»€ä¹ˆæ˜¯MVCæ¨¡å¼


**ç®€å•ç†è§£**ï¼šMVCå°±åƒæ˜¯ä¸€ä¸ªé¤å…çš„è¿è¥æ¨¡å¼
```
ä¼ ç»Ÿåšæ³•ï¼ˆæ‰€æœ‰ä»£ç æ··åœ¨ä¸€èµ·ï¼‰ï¼š
å¨å¸ˆæ—¢è¦åšèœï¼Œåˆè¦ç«¯èœï¼Œè¿˜è¦æ”¶é’±è®°è´¦
â†’ ä¸€ä¸ªäººå¹²æ‰€æœ‰æ´»ï¼Œç´¯æ­»ç´¯æ´»è¿˜å®¹æ˜“å‡ºé”™

MVCæ¨¡å¼ï¼ˆèŒè´£åˆ†å·¥ï¼‰ï¼š
ğŸ³ å¨å¸ˆä¸“é—¨åšèœ      â†’ Modelï¼ˆæ¨¡å‹å±‚ï¼‰
ğŸ½ï¸ æœåŠ¡å‘˜ä¸“é—¨ç«¯èœ    â†’ Viewï¼ˆè§†å›¾å±‚ï¼‰  
ğŸ’° æ”¶é“¶å‘˜ä¸“é—¨æ”¶é’±    â†’ Controllerï¼ˆæ§åˆ¶å±‚ï¼‰
â†’ æ¯ä¸ªäººä¸“æ³¨è‡ªå·±çš„äº‹ï¼Œæ•ˆç‡é«˜ä¸å‡ºé”™
```

**ğŸ”¸ MVCçš„æ ¸å¿ƒæ€æƒ³**
- **M**odelï¼ˆæ¨¡å‹ï¼‰ï¼šè´Ÿè´£**æ•°æ®å’Œä¸šåŠ¡é€»è¾‘**ï¼Œå°±åƒé¤å…çš„å¨å¸ˆ
- **V**iewï¼ˆè§†å›¾ï¼‰ï¼šè´Ÿè´£**ç•Œé¢æ˜¾ç¤º**ï¼Œå°±åƒé¤å…çš„èœå•å’Œè£…ä¿®
- **C**ontrollerï¼ˆæ§åˆ¶å™¨ï¼‰ï¼šè´Ÿè´£**åè°ƒè°ƒåº¦**ï¼Œå°±åƒé¤å…çš„æœåŠ¡å‘˜

### 1.2 ä¸ºä»€ä¹ˆè¦ä½¿ç”¨MVCæ¨¡å¼


**æ²¡æœ‰MVCçš„ä¼ ç»ŸServletå¼€å‘**ï¼š
```
ç”¨æˆ·è¯·æ±‚ â†’ ä¸€ä¸ªå·¨å¤§çš„Servlet â†’ åŒ…å«æ‰€æœ‰é€»è¾‘
â”œâ”€â”€ æ•°æ®åº“æ“ä½œä»£ç 
â”œâ”€â”€ ä¸šåŠ¡é€»è¾‘å¤„ç†ä»£ç   
â”œâ”€â”€ HTMLé¡µé¢ç”Ÿæˆä»£ç 
â””â”€â”€ å„ç§åˆ¤æ–­è·³è½¬ä»£ç 
```

> âš ï¸ **é—®é¢˜å¾ˆæ˜æ˜¾**ï¼š
> - ä»£ç æ··ä¹±ï¼Œä¸€ä¸ªæ–‡ä»¶å‡ ç™¾è¡Œ
> - ä¿®æ”¹ç•Œé¢è¦åŠ¨ä¸šåŠ¡é€»è¾‘
> - å¤šäººå¼€å‘æ—¶ç»å¸¸å†²çª
> - æµ‹è¯•å›°éš¾ï¼Œbugéš¾æ‰¾

**ä½¿ç”¨MVCæ¨¡å¼å**ï¼š
```
ç”¨æˆ·è¯·æ±‚ â†’ Controller â†’ Model â†’ View â†’ å“åº”ç”¨æˆ·
         â†‘          â†‘      â†‘
         åè°ƒè°ƒåº¦    æ•°æ®å¤„ç†  ç•Œé¢å±•ç¤º
```

> âœ… **ä¼˜åŠ¿ç«‹ç«¿è§å½±**ï¼š
> - ä»£ç æ¸…æ™°ï¼Œå„å¸å…¶èŒ
> - ä¿®æ”¹ç•Œé¢ä¸å½±å“ä¸šåŠ¡é€»è¾‘
> - å›¢é˜Ÿåä½œæ›´é¡ºç•…
> - æµ‹è¯•å’Œç»´æŠ¤æ›´ç®€å•

### 1.3 MVCåœ¨Webå¼€å‘ä¸­çš„å…·ä½“ä½“ç°


**ğŸ¯ ä¸¾ä¸ªå®é™…ä¾‹å­**ï¼šç”¨æˆ·ç™»å½•åŠŸèƒ½

```
æ²¡æœ‰MVCæ—¶ï¼šLoginServleté‡Œé¢ä»€ä¹ˆéƒ½æœ‰
public class LoginServlet extends HttpServlet {
    protected void doPost(HttpServletRequest request, 
                         HttpServletResponse response) {
        // è·å–å‚æ•°
        String username = request.getParameter("username");
        String password = request.getParameter("password");
        
        // è¿æ¥æ•°æ®åº“éªŒè¯ï¼ˆModelçš„æ´»ï¼‰
        Connection conn = DriverManager.getConnection(...);
        PreparedStatement ps = conn.prepareStatement(...);
        // ... ä¸€å¤§å †æ•°æ®åº“ä»£ç 
        
        // ç”ŸæˆHTMLé¡µé¢ï¼ˆViewçš„æ´»ï¼‰
        response.getWriter().println("<html><body>");
        response.getWriter().println("<h1>ç™»å½•æˆåŠŸ</h1>");
        // ... ä¸€å¤§å †HTMLä»£ç 
        
        // æ§åˆ¶è·³è½¬é€»è¾‘ï¼ˆControllerçš„æ´»ï¼‰
        if(loginSuccess) {
            // è·³è½¬é€»è¾‘
        }
    }
}
```

**ä½¿ç”¨MVCåçš„æ¸…æ™°åˆ†å·¥**ï¼š
```
ğŸ® Controllerï¼šLoginController â†’ åªè´Ÿè´£æ¥æ”¶è¯·æ±‚ï¼Œè°ƒåº¦å¤„ç†
ğŸ“¦ Modelï¼šUserService â†’ åªè´Ÿè´£ç”¨æˆ·ç›¸å…³çš„ä¸šåŠ¡é€»è¾‘
ğŸ–¼ï¸ Viewï¼šlogin.jsp â†’ åªè´Ÿè´£é¡µé¢æ˜¾ç¤º
```

---

## 2. ğŸ“¦ Modelæ¨¡å‹å±‚è®¾è®¡


### 2.1 Modelå±‚çš„èŒè´£


**Modelå±‚å°±åƒæ˜¯å…¬å¸çš„ä¸šåŠ¡éƒ¨é—¨**ï¼š
- **æ•°æ®ç®¡ç†**ï¼šå­˜å‚¨ã€æŸ¥è¯¢ã€æ›´æ–°æ•°æ®
- **ä¸šåŠ¡é€»è¾‘**ï¼šå¤„ç†å…·ä½“çš„ä¸šåŠ¡è§„åˆ™
- **æ•°æ®éªŒè¯**ï¼šç¡®ä¿æ•°æ®çš„æ­£ç¡®æ€§

**ğŸ”¸ Modelå±‚åŒ…å«çš„ç»„ä»¶**
```
Modelå±‚æ„æˆï¼š
â”œâ”€â”€ å®ä½“ç±»ï¼ˆEntity/POJOï¼‰     â†’ æ•°æ®çš„è½½ä½“
â”œâ”€â”€ æ•°æ®è®¿é—®å±‚ï¼ˆDAOï¼‰         â†’ æ•°æ®åº“æ“ä½œ
â”œâ”€â”€ ä¸šåŠ¡é€»è¾‘å±‚ï¼ˆServiceï¼‰     â†’ ä¸šåŠ¡è§„åˆ™å¤„ç†
â””â”€â”€ å·¥å…·ç±»ï¼ˆUtilsï¼‰          â†’ è¾…åŠ©åŠŸèƒ½
```

### 2.2 å®ä½“ç±»è®¾è®¡ï¼ˆEntity/POJOï¼‰


**ä»€ä¹ˆæ˜¯å®ä½“ç±»**ï¼šå°±åƒæ˜¯æ•°æ®çš„"ç›’å­"ï¼Œç”¨æ¥è£…è½½å’Œä¼ é€’æ•°æ®

```java
// ç”¨æˆ·å®ä½“ç±» - ç®€å•æ˜äº†
public class User {
    private Long id;           // ç”¨æˆ·ID
    private String username;   // ç”¨æˆ·å
    private String password;   // å¯†ç 
    private String email;      // é‚®ç®±
    private Date createTime;   // åˆ›å»ºæ—¶é—´
    
    // æ„é€ æ–¹æ³•
    public User() {}
    
    public User(String username, String password, String email) {
        this.username = username;
        this.password = password;
        this.email = email;
        this.createTime = new Date();
    }
    
    // getterå’Œsetteræ–¹æ³•ï¼ˆè¿™é‡Œçœç•¥ï¼Œå®é™…å¼€å‘ä¸­éƒ½è¦æœ‰ï¼‰
    public String getUsername() { return username; }
    public void setUsername(String username) { this.username = username; }
    // ... å…¶ä»–getter/setter
}
```

> ğŸ’¡ **å®ä½“ç±»çš„ä½œç”¨**ï¼š
> - åƒå¿«é€’ç›’å­ä¸€æ ·ï¼ŒæŠŠç›¸å…³æ•°æ®æ‰“åŒ…åœ¨ä¸€èµ·
> - åœ¨ä¸åŒå±‚ä¹‹é—´ä¼ é€’æ•°æ®æ—¶å¾ˆæ–¹ä¾¿
> - è®©ä»£ç æ›´æ¸…æ™°ï¼Œä¸€çœ‹å°±çŸ¥é“æœ‰å“ªäº›å­—æ®µ

### 2.3 æ•°æ®è®¿é—®å±‚è®¾è®¡ï¼ˆDAOï¼‰


**DAOæ˜¯ä»€ä¹ˆ**ï¼šData Access Objectï¼Œä¸“é—¨è´Ÿè´£å’Œæ•°æ®åº“æ‰“äº¤é“çš„"ç¿»è¯‘å®˜"

```java
// ç”¨æˆ·æ•°æ®è®¿é—®æ¥å£
public interface UserDao {
    // æ ¹æ®ç”¨æˆ·åæŸ¥æ‰¾ç”¨æˆ·
    User findByUsername(String username);
    
    // ä¿å­˜æ–°ç”¨æˆ·
    boolean save(User user);
    
    // æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·
    List<User> findAll();
    
    // æ ¹æ®IDåˆ é™¤ç”¨æˆ·
    boolean deleteById(Long id);
}

// å…·ä½“å®ç°ç±»
public class UserDaoImpl implements UserDao {
    
    @Override
    public User findByUsername(String username) {
        Connection conn = null;
        PreparedStatement ps = null;
        ResultSet rs = null;
        
        try {
            conn = DBUtil.getConnection();
            String sql = "SELECT * FROM users WHERE username = ?";
            ps = conn.prepareStatement(sql);
            ps.setString(1, username);
            rs = ps.executeQuery();
            
            if (rs.next()) {
                User user = new User();
                user.setId(rs.getLong("id"));
                user.setUsername(rs.getString("username"));
                user.setPassword(rs.getString("password"));
                user.setEmail(rs.getString("email"));
                return user;
            }
        } catch (SQLException e) {
            e.printStackTrace();
        } finally {
            DBUtil.close(conn, ps, rs);
        }
        return null;
    }
    
    // å…¶ä»–æ–¹æ³•å®ç°...
}
```

> ğŸ¯ **DAOå±‚çš„å¥½å¤„**ï¼š
> - æŠŠæ•°æ®åº“æ“ä½œé›†ä¸­ç®¡ç†ï¼Œä¸ä¼šåˆ°å¤„éƒ½æ˜¯SQLè¯­å¥
> - å¦‚æœè¦æ¢æ•°æ®åº“ï¼Œåªéœ€è¦æ”¹DAOå®ç°
> - ä¸šåŠ¡é€»è¾‘å±‚ä¸ç”¨å…³å¿ƒå…·ä½“çš„æ•°æ®åº“æ“ä½œ

### 2.4 ä¸šåŠ¡é€»è¾‘å±‚è®¾è®¡ï¼ˆServiceï¼‰


**Serviceæ˜¯ä»€ä¹ˆ**ï¼šä¸“é—¨å¤„ç†ä¸šåŠ¡è§„åˆ™çš„"å¤§è„‘"ï¼Œæ¯”å¦‚ç”¨æˆ·æ³¨å†Œæ—¶çš„å„ç§æ£€æŸ¥

```java
// ç”¨æˆ·ä¸šåŠ¡é€»è¾‘æ¥å£
public interface UserService {
    // ç”¨æˆ·ç™»å½•éªŒè¯
    boolean login(String username, String password);
    
    // ç”¨æˆ·æ³¨å†Œ
    boolean register(User user);
    
    // æ£€æŸ¥ç”¨æˆ·åæ˜¯å¦å·²å­˜åœ¨
    boolean isUsernameExists(String username);
}

// ä¸šåŠ¡é€»è¾‘å®ç°
public class UserServiceImpl implements UserService {
    private UserDao userDao = new UserDaoImpl();
    
    @Override
    public boolean login(String username, String password) {
        // å‚æ•°éªŒè¯
        if (username == null || password == null) {
            return false;
        }
        
        // æŸ¥æ‰¾ç”¨æˆ·
        User user = userDao.findByUsername(username);
        if (user == null) {
            return false;
        }
        
        // éªŒè¯å¯†ç ï¼ˆå®é™…é¡¹ç›®ä¸­å¯†ç è¦åŠ å¯†ï¼‰
        return password.equals(user.getPassword());
    }
    
    @Override
    public boolean register(User user) {
        // ä¸šåŠ¡è§„åˆ™éªŒè¯
        if (user.getUsername() == null || user.getUsername().trim().isEmpty()) {
            return false;
        }
        
        if (user.getPassword() == null || user.getPassword().length() < 6) {
            return false;
        }
        
        // æ£€æŸ¥ç”¨æˆ·åæ˜¯å¦å·²å­˜åœ¨
        if (isUsernameExists(user.getUsername())) {
            return false;
        }
        
        // ä¿å­˜ç”¨æˆ·
        return userDao.save(user);
    }
    
    @Override
    public boolean isUsernameExists(String username) {
        return userDao.findByUsername(username) != null;
    }
}
```

> ğŸ”‘ **Serviceå±‚çš„æ ¸å¿ƒä»·å€¼**ï¼š
> - å¤„ç†å¤æ‚çš„ä¸šåŠ¡è§„åˆ™å’ŒéªŒè¯é€»è¾‘
> - å¯ä»¥è°ƒç”¨å¤šä¸ªDAOæ¥å®Œæˆä¸€ä¸ªä¸šåŠ¡æ“ä½œ
> - è®©Controllerå±‚ä¿æŒç®€æ´

---

## 3. ğŸ–¼ï¸ Viewè§†å›¾å±‚åˆ†ç¦»


### 3.1 Viewå±‚çš„ä½œç”¨


**Viewå±‚å°±åƒæ˜¯å•†åº—çš„æ©±çª—**ï¼š
- **å±•ç¤ºæ•°æ®**ï¼šæŠŠåå°çš„æ•°æ®æ¼‚äº®åœ°å±•ç¤ºç»™ç”¨æˆ·çœ‹
- **ç”¨æˆ·äº¤äº’**ï¼šæä¾›è¡¨å•ã€æŒ‰é’®è®©ç”¨æˆ·æ“ä½œ
- **ç•Œé¢ç¾åŒ–**ï¼šè®©é¡µé¢çœ‹èµ·æ¥èˆ’æœ

### 3.2 ä»Servletä¸­åˆ†ç¦»HTML


**ä¼ ç»Ÿåšæ³•çš„é—®é¢˜**ï¼š
```java
// åœ¨Servletä¸­ç›´æ¥å†™HTML - å¾ˆç—›è‹¦ï¼
response.getWriter().println("<html>");
response.getWriter().println("<head><title>ç”¨æˆ·åˆ—è¡¨</title></head>");
response.getWriter().println("<body>");
response.getWriter().println("<h1>ç”¨æˆ·ç®¡ç†</h1>");
response.getWriter().println("<table border='1'>");
// ... å‡ åè¡ŒHTMLä»£ç 
response.getWriter().println("</table>");
response.getWriter().println("</body></html>");
```

> âŒ **è¿™æ ·åšçš„ç¼ºé™·**ï¼š
> - HTMLå’ŒJavaä»£ç æ··åœ¨ä¸€èµ·ï¼Œå¾ˆéš¾ç»´æŠ¤
> - å‰ç«¯å·¥ç¨‹å¸ˆæ— æ³•ç›´æ¥ä¿®æ”¹é¡µé¢
> - ä»£ç å¯è¯»æ€§æå·®

**ä½¿ç”¨JSPè¿›è¡Œè§†å›¾åˆ†ç¦»**ï¼š

**login.jsp - ç™»å½•é¡µé¢**
```jsp
<%@ page contentType="text/html;charset=UTF-8" %>
<!DOCTYPE html>
<html>
<head>
    <title>ç”¨æˆ·ç™»å½•</title>
    <style>
        .login-form { 
            width: 300px; 
            margin: 100px auto; 
            padding: 20px; 
            border: 1px solid #ccc; 
        }
    </style>
</head>
<body>
    <div class="login-form">
        <h2>ç”¨æˆ·ç™»å½•</h2>
        
        <%-- æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯ --%>
        <% if (request.getAttribute("error") != null) { %>
            <div style="color: red;">
                <%= request.getAttribute("error") %>
            </div>
        <% } %>
        
        <form action="login" method="post">
            <p>
                ç”¨æˆ·åï¼š<input type="text" name="username" required>
            </p>
            <p>
                å¯†ç ï¼š<input type="password" name="password" required>
            </p>
            <p>
                <input type="submit" value="ç™»å½•">
            </p>
        </form>
    </div>
</body>
</html>
```

**userList.jsp - ç”¨æˆ·åˆ—è¡¨é¡µé¢**
```jsp
<%@ page contentType="text/html;charset=UTF-8" %>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
<!DOCTYPE html>
<html>
<head>
    <title>ç”¨æˆ·åˆ—è¡¨</title>
</head>
<body>
    <h1>ç”¨æˆ·ç®¡ç†ç³»ç»Ÿ</h1>
    
    <table border="1" cellpadding="5" cellspacing="0">
        <thead>
            <tr>
                <th>ID</th>
                <th>ç”¨æˆ·å</th>
                <th>é‚®ç®±</th>
                <th>åˆ›å»ºæ—¶é—´</th>
                <th>æ“ä½œ</th>
            </tr>
        </thead>
        <tbody>
            <c:forEach var="user" items="${userList}">
                <tr>
                    <td>${user.id}</td>
                    <td>${user.username}</td>
                    <td>${user.email}</td>
                    <td>${user.createTime}</td>
                    <td>
                        <a href="editUser?id=${user.id}">ç¼–è¾‘</a> |
                        <a href="deleteUser?id=${user.id}" 
                           onclick="return confirm('ç¡®å®šåˆ é™¤å—ï¼Ÿ')">åˆ é™¤</a>
                    </td>
                </tr>
            </c:forEach>
        </tbody>
    </table>
    
    <p><a href="addUser.jsp">æ·»åŠ æ–°ç”¨æˆ·</a></p>
</body>
</html>
```

### 3.3 æ•°æ®ä¼ é€’æœºåˆ¶


**Controllerå‘Viewä¼ é€’æ•°æ®çš„æ–¹å¼**ï¼š

```java
// åœ¨Servletä¸­å‡†å¤‡æ•°æ®
List<User> userList = userService.getAllUsers();

// å°†æ•°æ®æ”¾å…¥è¯·æ±‚åŸŸï¼ŒJSPé¡µé¢å°±èƒ½ä½¿ç”¨äº†
request.setAttribute("userList", userList);

// è½¬å‘åˆ°JSPé¡µé¢æ˜¾ç¤º
request.getRequestDispatcher("/WEB-INF/views/userList.jsp")
       .forward(request, response);
```

> ğŸ’¡ **æ•°æ®ä¼ é€’çš„æµç¨‹**ï¼š
> ```
> Controllerè·å–æ•°æ® â†’ æ”¾å…¥requeståŸŸ â†’ è½¬å‘åˆ°JSP â†’ JSPè¯»å–æ•°æ®æ˜¾ç¤º
> ```

---

## 4. ğŸ® Controlleræ§åˆ¶å±‚å®ç°


### 4.1 Controllerçš„æ ¸å¿ƒèŒè´£


**Controllerå°±åƒæ˜¯äº¤é€šè­¦å¯Ÿ**ï¼š
- **æ¥æ”¶è¯·æ±‚**ï¼šå¤„ç†ç”¨æˆ·çš„å„ç§è¯·æ±‚
- **è°ƒåº¦å¤„ç†**ï¼šå†³å®šè°ƒç”¨å“ªä¸ªServiceå¤„ç†ä¸šåŠ¡
- **æ§åˆ¶è·³è½¬**ï¼šæ ¹æ®å¤„ç†ç»“æœå†³å®šè·³è½¬åˆ°å“ªä¸ªé¡µé¢

### 4.2 åŸºç¡€Controllerå®ç°


```java
// ç”¨æˆ·æ§åˆ¶å™¨
@WebServlet("/user/*")
public class UserController extends HttpServlet {
    private UserService userService = new UserServiceImpl();
    
    @Override
    protected void doGet(HttpServletRequest request, 
                        HttpServletResponse response) 
                        throws ServletException, IOException {
        
        // è·å–è¯·æ±‚è·¯å¾„ï¼Œåˆ¤æ–­è¦æ‰§è¡Œä»€ä¹ˆæ“ä½œ
        String pathInfo = request.getPathInfo();
        
        if ("/list".equals(pathInfo)) {
            // æ˜¾ç¤ºç”¨æˆ·åˆ—è¡¨
            showUserList(request, response);
        } else if ("/add".equals(pathInfo)) {
            // æ˜¾ç¤ºæ·»åŠ ç”¨æˆ·é¡µé¢
            showAddUserForm(request, response);
        } else if ("/edit".equals(pathInfo)) {
            // æ˜¾ç¤ºç¼–è¾‘ç”¨æˆ·é¡µé¢
            showEditUserForm(request, response);
        } else {
            // é»˜è®¤æ˜¾ç¤ºç”¨æˆ·åˆ—è¡¨
            showUserList(request, response);
        }
    }
    
    @Override
    protected void doPost(HttpServletRequest request, 
                         HttpServletResponse response) 
                         throws ServletException, IOException {
        
        String pathInfo = request.getPathInfo();
        
        if ("/add".equals(pathInfo)) {
            // å¤„ç†æ·»åŠ ç”¨æˆ·
            addUser(request, response);
        } else if ("/edit".equals(pathInfo)) {
            // å¤„ç†ç¼–è¾‘ç”¨æˆ·
            editUser(request, response);
        } else if ("/delete".equals(pathInfo)) {
            // å¤„ç†åˆ é™¤ç”¨æˆ·
            deleteUser(request, response);
        }
    }
    
    // æ˜¾ç¤ºç”¨æˆ·åˆ—è¡¨
    private void showUserList(HttpServletRequest request, 
                             HttpServletResponse response) 
                             throws ServletException, IOException {
        
        // è°ƒç”¨Serviceè·å–æ•°æ®
        List<User> userList = userService.getAllUsers();
        
        // å°†æ•°æ®ä¼ é€’ç»™View
        request.setAttribute("userList", userList);
        
        // è½¬å‘åˆ°JSPé¡µé¢
        request.getRequestDispatcher("/WEB-INF/views/userList.jsp")
               .forward(request, response);
    }
    
    // å¤„ç†æ·»åŠ ç”¨æˆ·
    private void addUser(HttpServletRequest request, 
                        HttpServletResponse response) 
                        throws ServletException, IOException {
        
        // è·å–è¡¨å•å‚æ•°
        String username = request.getParameter("username");
        String password = request.getParameter("password");
        String email = request.getParameter("email");
        
        // åˆ›å»ºç”¨æˆ·å¯¹è±¡
        User user = new User(username, password, email);
        
        // è°ƒç”¨Serviceå¤„ç†ä¸šåŠ¡
        boolean success = userService.register(user);
        
        if (success) {
            // æˆåŠŸï¼šé‡å®šå‘åˆ°ç”¨æˆ·åˆ—è¡¨
            response.sendRedirect(request.getContextPath() + "/user/list");
        } else {
            // å¤±è´¥ï¼šè¿”å›æ·»åŠ é¡µé¢å¹¶æ˜¾ç¤ºé”™è¯¯
            request.setAttribute("error", "æ·»åŠ ç”¨æˆ·å¤±è´¥ï¼Œè¯·æ£€æŸ¥è¾“å…¥ä¿¡æ¯");
            request.getRequestDispatcher("/WEB-INF/views/addUser.jsp")
                   .forward(request, response);
        }
    }
}
```

### 4.3 ç™»å½•æ§åˆ¶å™¨ç¤ºä¾‹


```java
// ä¸“é—¨å¤„ç†ç™»å½•çš„æ§åˆ¶å™¨
@WebServlet("/login")
public class LoginController extends HttpServlet {
    private UserService userService = new UserServiceImpl();
    
    @Override
    protected void doGet(HttpServletRequest request, 
                        HttpServletResponse response) 
                        throws ServletException, IOException {
        
        // GETè¯·æ±‚æ˜¾ç¤ºç™»å½•é¡µé¢
        request.getRequestDispatcher("/WEB-INF/views/login.jsp")
               .forward(request, response);
    }
    
    @Override
    protected void doPost(HttpServletRequest request, 
                         HttpServletResponse response) 
                         throws ServletException, IOException {
        
        // è·å–ç™»å½•å‚æ•°
        String username = request.getParameter("username");
        String password = request.getParameter("password");
        
        // è°ƒç”¨ServiceéªŒè¯ç™»å½•
        boolean loginSuccess = userService.login(username, password);
        
        if (loginSuccess) {
            // ç™»å½•æˆåŠŸï¼šä¿å­˜ç”¨æˆ·ä¿¡æ¯åˆ°sessionï¼Œè·³è½¬åˆ°ä¸»é¡µ
            HttpSession session = request.getSession();
            session.setAttribute("username", username);
            
            response.sendRedirect(request.getContextPath() + "/user/list");
        } else {
            // ç™»å½•å¤±è´¥ï¼šè¿”å›ç™»å½•é¡µé¢æ˜¾ç¤ºé”™è¯¯
            request.setAttribute("error", "ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯");
            request.getRequestDispatcher("/WEB-INF/views/login.jsp")
                   .forward(request, response);
        }
    }
}
```

### 4.4 Controllerçš„è®¾è®¡åŸåˆ™


**ğŸ”¸ Controlleråº”è¯¥ä¿æŒç®€æ´**
```
Controllerçš„æ­£ç¡®åšæ³•ï¼š
â”œâ”€â”€ æ¥æ”¶å’ŒéªŒè¯è¯·æ±‚å‚æ•°
â”œâ”€â”€ è°ƒç”¨Serviceå¤„ç†ä¸šåŠ¡é€»è¾‘
â”œâ”€â”€ æ ¹æ®ç»“æœé€‰æ‹©åˆé€‚çš„View
â””â”€â”€ ä¼ é€’æ•°æ®ç»™Viewæ˜¾ç¤º

Controllerä¸åº”è¯¥åšçš„äº‹ï¼š
âŒ å†™å¤æ‚çš„ä¸šåŠ¡é€»è¾‘ï¼ˆåº”è¯¥åœ¨Serviceä¸­ï¼‰
âŒ ç›´æ¥æ“ä½œæ•°æ®åº“ï¼ˆåº”è¯¥é€šè¿‡DAOï¼‰
âŒ ç”ŸæˆHTMLä»£ç ï¼ˆåº”è¯¥è½¬å‘ç»™JSPï¼‰
```

---

## 5. âš–ï¸ èŒè´£åˆ†ç¦»åŸåˆ™


### 5.1 ä»€ä¹ˆæ˜¯èŒè´£åˆ†ç¦»


**èŒè´£åˆ†ç¦»å°±åƒæ˜¯å·¥å‚çš„æµæ°´çº¿**ï¼š
- æ¯ä¸ªå·¥äººä¸“é—¨è´Ÿè´£ä¸€é“å·¥åº
- å·¥äººä¹‹é—´é€šè¿‡ä¼ é€å¸¦ä¼ é€’äº§å“
- å¦‚æœæŸé“å·¥åºæœ‰é—®é¢˜ï¼Œåªéœ€è¦è°ƒæ•´å¯¹åº”çš„å·¥äºº

```
ä¼ ç»Ÿå¼€å‘ï¼ˆä¸€ä¸ªäººå¹²æ‰€æœ‰æ´»ï¼‰ï¼š
ç¨‹åºå‘˜A â†’ å†™HTMLã€å†™SQLã€å†™ä¸šåŠ¡é€»è¾‘ã€è°ƒè¯•ã€æµ‹è¯•
â†“
ç´¯æ­»ç´¯æ´»ï¼Œå‡ºé”™ç‡é«˜ï¼Œéš¾ä»¥ç»´æŠ¤

MVCå¼€å‘ï¼ˆä¸“ä¸šåˆ†å·¥ï¼‰ï¼š
å‰ç«¯å·¥ç¨‹å¸ˆ â†’ ä¸“æ³¨é¡µé¢å’Œç”¨æˆ·ä½“éªŒï¼ˆViewï¼‰
åç«¯å·¥ç¨‹å¸ˆ â†’ ä¸“æ³¨ä¸šåŠ¡é€»è¾‘å’Œæ•°æ®ï¼ˆModelï¼‰  
æ¶æ„å¸ˆ â†’ è®¾è®¡Controllerå’Œæ•´ä½“æ¶æ„
â†“
å„å¸å…¶èŒï¼Œæ•ˆç‡é«˜ï¼Œè´¨é‡å¥½
```

### 5.2 MVCå„å±‚çš„å…·ä½“èŒè´£


**ğŸ“¦ Modelå±‚èŒè´£**
```
æ•°æ®æ¨¡å‹ï¼ˆEntityï¼‰ï¼š
âœ… å®šä¹‰æ•°æ®ç»“æ„
âœ… å°è£…æ•°æ®æ“ä½œæ–¹æ³•
âŒ ä¸å¤„ç†HTTPè¯·æ±‚
âŒ ä¸ç”ŸæˆHTML

æ•°æ®è®¿é—®ï¼ˆDAOï¼‰ï¼š
âœ… æ•°æ®åº“å¢åˆ æ”¹æŸ¥
âœ… æ•°æ®æŒä¹…åŒ–æ“ä½œ
âŒ ä¸å¤„ç†ä¸šåŠ¡è§„åˆ™
âŒ ä¸å…³å¿ƒé¡µé¢æ˜¾ç¤º

ä¸šåŠ¡é€»è¾‘ï¼ˆServiceï¼‰ï¼š
âœ… å¤„ç†ä¸šåŠ¡è§„åˆ™
âœ… æ•°æ®éªŒè¯å’Œå¤„ç†
âŒ ä¸å…³å¿ƒHTTPåè®®
âŒ ä¸ç”Ÿæˆé¡µé¢å†…å®¹
```

**ğŸ® Controllerå±‚èŒè´£**
```
è¯·æ±‚æ§åˆ¶å™¨ï¼ˆServletï¼‰ï¼š
âœ… æ¥æ”¶HTTPè¯·æ±‚
âœ… å‚æ•°è§£æå’ŒéªŒè¯
âœ… è°ƒç”¨Serviceå¤„ç†ä¸šåŠ¡
âœ… é€‰æ‹©åˆé€‚çš„View
âŒ ä¸å†™ä¸šåŠ¡é€»è¾‘ä»£ç 
âŒ ä¸ç›´æ¥æ“ä½œæ•°æ®åº“
âŒ ä¸ç”Ÿæˆå¤æ‚çš„HTML
```

**ğŸ–¼ï¸ Viewå±‚èŒè´£**
```
é¡µé¢è§†å›¾ï¼ˆJSP/HTMLï¼‰ï¼š
âœ… æ•°æ®å±•ç¤ºå’Œæ ¼å¼åŒ–
âœ… ç”¨æˆ·äº¤äº’ç•Œé¢
âœ… é¡µé¢æ ·å¼å’Œå¸ƒå±€
âŒ ä¸å¤„ç†ä¸šåŠ¡é€»è¾‘
âŒ ä¸ç›´æ¥è®¿é—®æ•°æ®åº“
âŒ ä¸å¤„ç†å¤æ‚è®¡ç®—
```

### 5.3 è¿åèŒè´£åˆ†ç¦»çš„å¸¸è§é”™è¯¯


**âŒ é”™è¯¯ç¤ºä¾‹1ï¼šåœ¨JSPä¸­å†™ä¸šåŠ¡é€»è¾‘**
```jsp
<%-- ä¸å¥½çš„åšæ³•ï¼šåœ¨JSPä¸­å¤„ç†ä¸šåŠ¡é€»è¾‘ --%>
<%
    String username = request.getParameter("username");
    Connection conn = DriverManager.getConnection(...);
    PreparedStatement ps = conn.prepareStatement("SELECT * FROM users WHERE username=?");
    ps.setString(1, username);
    ResultSet rs = ps.executeQuery();
    // ... ä¸€å¤§å †æ•°æ®åº“æ“ä½œä»£ç 
%>
```

**âœ… æ­£ç¡®åšæ³•ï¼šJSPåªè´Ÿè´£æ˜¾ç¤º**
```jsp
<%-- å¥½çš„åšæ³•ï¼šJSPåªæ˜¾ç¤ºControllerä¼ é€’çš„æ•°æ® --%>
<c:forEach var="user" items="${userList}">
    <tr>
        <td>${user.username}</td>
        <td>${user.email}</td>
    </tr>
</c:forEach>
```

**âŒ é”™è¯¯ç¤ºä¾‹2ï¼šåœ¨Controllerä¸­å†™æ•°æ®åº“æ“ä½œ**
```java
// ä¸å¥½çš„åšæ³•ï¼šControllerç›´æ¥æ“ä½œæ•°æ®åº“
@WebServlet("/user")
public class UserController extends HttpServlet {
    protected void doPost(HttpServletRequest request, HttpServletResponse response) {
        String username = request.getParameter("username");
        
        // é”™è¯¯ï¼šControllerä¸åº”è¯¥ç›´æ¥å†™SQL
        Connection conn = DriverManager.getConnection(...);
        PreparedStatement ps = conn.prepareStatement("INSERT INTO users...");
        // ...
    }
}
```

**âœ… æ­£ç¡®åšæ³•ï¼šControllerè°ƒç”¨Service**
```java
// å¥½çš„åšæ³•ï¼šControllerè°ƒç”¨Serviceå¤„ç†ä¸šåŠ¡
@WebServlet("/user")
public class UserController extends HttpServlet {
    private UserService userService = new UserServiceImpl();
    
    protected void doPost(HttpServletRequest request, HttpServletResponse response) {
        String username = request.getParameter("username");
        
        // æ­£ç¡®ï¼šè°ƒç”¨Serviceå¤„ç†ä¸šåŠ¡
        boolean success = userService.addUser(username);
        
        if (success) {
            // è·³è½¬åˆ°æˆåŠŸé¡µé¢
        }
    }
}
```

---

## 6. ğŸ”— ä»£ç è§£è€¦è®¾è®¡


### 6.1 ä»€ä¹ˆæ˜¯ä»£ç è€¦åˆ


**ä»£ç è€¦åˆå°±åƒæ˜¯è¿ä½“å©´å„¿**ï¼š
- ä¸¤ä¸ªæ¨¡å—ç´§ç´§ç»‘åœ¨ä¸€èµ·
- ä¿®æ”¹ä¸€ä¸ªå°±ä¼šå½±å“å¦ä¸€ä¸ª
- å¾ˆéš¾å•ç‹¬æµ‹è¯•æˆ–æ›¿æ¢

```
é«˜è€¦åˆçš„ä¾‹å­ï¼š
Controllerç›´æ¥new DAOå¯¹è±¡ â†’ æ¢ä¸ªæ•°æ®åº“å°±å¾—æ”¹Controller
JSPé‡Œé¢å†™SQLè¯­å¥ â†’ ä¿®æ”¹æ•°æ®åº“ç»“æ„å°±å¾—æ”¹JSP
Serviceé‡Œé¢å†™HTTPç›¸å…³ä»£ç  â†’ æ— æ³•è„±ç¦»Webç¯å¢ƒæµ‹è¯•
```

### 6.2 æ¥å£è§£è€¦


**ä½¿ç”¨æ¥å£å®ç°è§£è€¦**ï¼š

```java
// å®šä¹‰æ¥å£ - åˆ¶å®šæ ‡å‡†
public interface UserService {
    boolean login(String username, String password);
    boolean register(User user);
    List<User> getAllUsers();
}

// å®ç°ç±»1 - æ•°æ®åº“ç‰ˆæœ¬
public class DatabaseUserServiceImpl implements UserService {
    private UserDao userDao = new UserDaoImpl();
    
    @Override
    public boolean login(String username, String password) {
        // ä»æ•°æ®åº“éªŒè¯ç”¨æˆ·
        User user = userDao.findByUsername(username);
        return user != null && user.getPassword().equals(password);
    }
    
    // å…¶ä»–æ–¹æ³•...
}

// å®ç°ç±»2 - å†…å­˜ç‰ˆæœ¬ï¼ˆç”¨äºæµ‹è¯•ï¼‰
public class MemoryUserServiceImpl implements UserService {
    private List<User> userList = new ArrayList<>();
    
    @Override
    public boolean login(String username, String password) {
        // ä»å†…å­˜ä¸­éªŒè¯ç”¨æˆ·
        return userList.stream()
                      .anyMatch(user -> user.getUsername().equals(username) 
                               && user.getPassword().equals(password));
    }
    
    // å…¶ä»–æ–¹æ³•...
}
```

**Controllerä½¿ç”¨æ¥å£**ï¼š
```java
public class UserController extends HttpServlet {
    // é¢å‘æ¥å£ç¼–ç¨‹ï¼Œä¸å…³å¿ƒå…·ä½“å®ç°
    private UserService userService;
    
    @Override
    public void init() {
        // å¯ä»¥é€šè¿‡é…ç½®æ–‡ä»¶å†³å®šä½¿ç”¨å“ªä¸ªå®ç°
        userService = new DatabaseUserServiceImpl();
        // æˆ–è€…ï¼šuserService = new MemoryUserServiceImpl();
    }
    
    // Controllerçš„ä»£ç ä¸éœ€è¦æ”¹å˜
    protected void doPost(HttpServletRequest request, HttpServletResponse response) {
        String username = request.getParameter("username");
        String password = request.getParameter("password");
        
        // è°ƒç”¨æ¥å£æ–¹æ³•ï¼Œä¸å…³å¿ƒå…·ä½“å®ç°
        boolean success = userService.login(username, password);
        
        // å¤„ç†ç»“æœ...
    }
}
```

### 6.3 é…ç½®æ–‡ä»¶è§£è€¦


**ä½¿ç”¨é…ç½®æ–‡ä»¶ç®¡ç†ä¾èµ–**ï¼š

**config.propertiesé…ç½®æ–‡ä»¶**
```properties
# æ•°æ®åº“é…ç½®
db.driver=com.mysql.jdbc.Driver
db.url=jdbc:mysql://localhost:3306/userdb
db.username=root
db.password=123456

# Serviceå®ç°ç±»é…ç½®
user.service.impl=com.example.service.impl.DatabaseUserServiceImpl
```

**é…ç½®è¯»å–å·¥å…·ç±»**ï¼š
```java
public class ConfigUtil {
    private static Properties props = new Properties();
    
    static {
        try {
            props.load(ConfigUtil.class.getResourceAsStream("/config.properties"));
        } catch (IOException e) {
            e.printStackTrace();
        }
    }
    
    public static String getProperty(String key) {
        return props.getProperty(key);
    }
    
    public static <T> T createInstance(String key, Class<T> type) {
        try {
            String className = getProperty(key);
            Class<?> clazz = Class.forName(className);
            return (T) clazz.newInstance();
        } catch (Exception e) {
            e.printStackTrace();
            return null;
        }
    }
}
```

**Controllerä½¿ç”¨é…ç½®**ï¼š
```java
public class UserController extends HttpServlet {
    private UserService userService;
    
    @Override
    public void init() {
        // é€šè¿‡é…ç½®æ–‡ä»¶åˆ›å»ºServiceå®ä¾‹
        userService = ConfigUtil.createInstance(
            "user.service.impl", 
            UserService.class
        );
    }
}
```

> ğŸ’¡ **è§£è€¦çš„å¥½å¤„**ï¼š
> - ä¿®æ”¹é…ç½®æ–‡ä»¶å°±èƒ½åˆ‡æ¢å®ç°ï¼Œæ— éœ€ä¿®æ”¹ä»£ç 
> - å¯ä»¥è½»æ¾è¿›è¡Œå•å…ƒæµ‹è¯•
> - å›¢é˜Ÿå¼€å‘æ—¶å‡å°‘å†²çª
> - ç³»ç»Ÿæ›´å®¹æ˜“ç»´æŠ¤å’Œæ‰©å±•

---

## 7. ğŸ¢ ä¸‰å±‚æ¶æ„æ¨¡å¼


### 7.1 ä¸‰å±‚æ¶æ„ä¸MVCçš„å…³ç³»


**ä¸‰å±‚æ¶æ„æ˜¯ä»æŠ€æœ¯è§’åº¦çš„åˆ†å±‚**ï¼š
```
è¡¨ç°å±‚ï¼ˆPresentation Layerï¼‰  â†’ å¯¹åº”MVCçš„View + Controller
ä¸šåŠ¡é€»è¾‘å±‚ï¼ˆBusiness Layerï¼‰   â†’ å¯¹åº”MVCçš„Modelä¸­çš„Service
æ•°æ®è®¿é—®å±‚ï¼ˆData Layerï¼‰      â†’ å¯¹åº”MVCçš„Modelä¸­çš„DAO
```

**ğŸ”¸ æ›´è¯¦ç»†çš„æ¶æ„å›¾**ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        è¡¨ç°å±‚ (Webå±‚)            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  JSP/HTML   â”‚ â”‚  Servlet    â”‚ â”‚ â† ç”¨æˆ·ç•Œé¢å’Œè¯·æ±‚å¤„ç†
â”‚  â”‚   (View)    â”‚ â”‚(Controller) â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚        ä¸šåŠ¡é€»è¾‘å±‚               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚    Service Implementation   â”‚ â”‚ â† ä¸šåŠ¡è§„åˆ™å’Œæµç¨‹æ§åˆ¶
â”‚  â”‚      (Business Logic)      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚        æ•°æ®è®¿é—®å±‚               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚    DAO Implementation       â”‚ â”‚ â† æ•°æ®æŒä¹…åŒ–æ“ä½œ
â”‚  â”‚     (Data Access)           â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚           æ•°æ®åº“                â”‚
â”‚    MySQL / Oracle / SQLServer   â”‚ â† æ•°æ®å­˜å‚¨
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 7.2 è¡¨ç°å±‚è®¾è®¡


**è¡¨ç°å±‚çš„ç»„æˆ**ï¼š
```
è¡¨ç°å±‚åŒ…å«ï¼š
â”œâ”€â”€ JSPé¡µé¢æ–‡ä»¶          â†’ ç”¨æˆ·ç•Œé¢
â”œâ”€â”€ CSSæ ·å¼æ–‡ä»¶          â†’ é¡µé¢ç¾åŒ–
â”œâ”€â”€ JavaScriptæ–‡ä»¶       â†’ å‰ç«¯äº¤äº’
â”œâ”€â”€ Servletæ§åˆ¶å™¨        â†’ è¯·æ±‚å¤„ç†
â””â”€â”€ è¿‡æ»¤å™¨å’Œç›‘å¬å™¨       â†’ è¾…åŠ©åŠŸèƒ½
```

**è¡¨ç°å±‚ç¤ºä¾‹ç»“æ„**ï¼š
```
webapp/
â”œâ”€â”€ WEB-INF/
â”‚   â”œâ”€â”€ views/           â† JSPé¡µé¢ç›®å½•
â”‚   â”‚   â”œâ”€â”€ user/
â”‚   â”‚   â”‚   â”œâ”€â”€ list.jsp
â”‚   â”‚   â”‚   â”œâ”€â”€ add.jsp
â”‚   â”‚   â”‚   â””â”€â”€ edit.jsp
â”‚   â”‚   â””â”€â”€ common/
â”‚   â”‚       â”œâ”€â”€ header.jsp
â”‚   â”‚       â””â”€â”€ footer.jsp
â”‚   â”œâ”€â”€ web.xml
â”‚   â””â”€â”€ lib/
â”œâ”€â”€ css/                 â† æ ·å¼æ–‡ä»¶
â”‚   â””â”€â”€ style.css
â”œâ”€â”€ js/                  â† JavaScriptæ–‡ä»¶
â”‚   â””â”€â”€ common.js
â””â”€â”€ index.jsp           â† é¦–é¡µ
```

### 7.3 ä¸šåŠ¡é€»è¾‘å±‚è®¾è®¡


**ä¸šåŠ¡é€»è¾‘å±‚çš„ç‰¹ç‚¹**ï¼š
- **ç‹¬ç«‹æ€§**ï¼šä¸ä¾èµ–å…·ä½“çš„è¡¨ç°å±‚æŠ€æœ¯
- **å¯é‡ç”¨**ï¼šå¯ä»¥è¢«ä¸åŒçš„è¡¨ç°å±‚è°ƒç”¨
- **äº‹åŠ¡æ€§**ï¼šå¤„ç†å¤æ‚çš„ä¸šåŠ¡äº‹åŠ¡

```java
// ç”¨æˆ·ä¸šåŠ¡é€»è¾‘å±‚ - å®Œæ•´ç¤ºä¾‹
public class UserServiceImpl implements UserService {
    private UserDao userDao = new UserDaoImpl();
    
    @Override
    public boolean register(User user) {
        // 1. å‚æ•°éªŒè¯
        if (!validateUser(user)) {
            return false;
        }
        
        // 2. ä¸šåŠ¡è§„åˆ™æ£€æŸ¥
        if (userDao.findByUsername(user.getUsername()) != null) {
            throw new BusinessException("ç”¨æˆ·åå·²å­˜åœ¨");
        }
        
        if (userDao.findByEmail(user.getEmail()) != null) {
            throw new BusinessException("é‚®ç®±å·²è¢«æ³¨å†Œ");
        }
        
        // 3. å¯†ç åŠ å¯†å¤„ç†
        String encryptedPassword = PasswordUtil.encrypt(user.getPassword());
        user.setPassword(encryptedPassword);
        
        // 4. è®¾ç½®åˆ›å»ºæ—¶é—´
        user.setCreateTime(new Date());
        
        // 5. ä¿å­˜åˆ°æ•°æ®åº“
        return userDao.save(user);
    }
    
    @Override
    public User authenticate(String username, String password) {
        // 1. æŸ¥æ‰¾ç”¨æˆ·
        User user = userDao.findByUsername(username);
        if (user == null) {
            return null;
        }
        
        // 2. éªŒè¯å¯†ç 
        if (!PasswordUtil.verify(password, user.getPassword())) {
            return null;
        }
        
        // 3. æ›´æ–°æœ€åç™»å½•æ—¶é—´
        user.setLastLoginTime(new Date());
        userDao.update(user);
        
        return user;
    }
    
    // ç§æœ‰çš„éªŒè¯æ–¹æ³•
    private boolean validateUser(User user) {
        if (user.getUsername() == null || user.getUsername().trim().isEmpty()) {
            return false;
        }
        
        if (user.getPassword() == null || user.getPassword().length() < 6) {
            return false;
        }
        
        if (user.getEmail() == null || !EmailUtil.isValidEmail(user.getEmail())) {
            return false;
        }
        
        return true;
    }
}
```

### 7.4 æ•°æ®è®¿é—®å±‚è®¾è®¡


**æ•°æ®è®¿é—®å±‚çš„èŒè´£**ï¼š
```
DAOå±‚çš„æ ¸å¿ƒä»»åŠ¡ï¼š
â”œâ”€â”€ æ•°æ®åº“è¿æ¥ç®¡ç†
â”œâ”€â”€ SQLè¯­å¥æ‰§è¡Œ
â”œâ”€â”€ ç»“æœé›†æ˜ å°„
â”œâ”€â”€ å¼‚å¸¸å¤„ç†
â””â”€â”€ èµ„æºé‡Šæ”¾
```

**é€šç”¨DAOè®¾è®¡**ï¼š
```java
// é€šç”¨æ•°æ®è®¿é—®æ¥å£
public interface BaseDao<T> {
    boolean save(T entity);
    boolean update(T entity);
    boolean delete(Long id);
    T findById(Long id);
    List<T> findAll();
    List<T> findByCondition(Map<String, Object> conditions);
}

// ç”¨æˆ·DAOç»§æ‰¿é€šç”¨æ¥å£
public interface UserDao extends BaseDao<User> {
    User findByUsername(String username);
    User findByEmail(String email);
    List<User> findByCreateTimeRange(Date startTime, Date endTime);
}

// å…·ä½“å®ç°
public class UserDaoImpl implements UserDao {
    
    @Override
    public User findByUsername(String username) {
        String sql = "SELECT id, username, password, email, create_time " +
                     "FROM users WHERE username = ?";
        
        try (Connection conn = DBUtil.getConnection();
             PreparedStatement ps = conn.prepareStatement(sql)) {
            
            ps.setString(1, username);
            
            try (ResultSet rs = ps.executeQuery()) {
                if (rs.next()) {
                    return mapResultSetToUser(rs);
                }
            }
            
        } catch (SQLException e) {
            throw new DataAccessException("æŸ¥è¯¢ç”¨æˆ·å¤±è´¥", e);
        }
        
        return null;
    }
    
    // ç»“æœé›†æ˜ å°„æ–¹æ³•
    private User mapResultSetToUser(ResultSet rs) throws SQLException {
        User user = new User();
        user.setId(rs.getLong("id"));
        user.setUsername(rs.getString("username"));
        user.setPassword(rs.getString("password"));
        user.setEmail(rs.getString("email"));
        user.setCreateTime(rs.getTimestamp("create_time"));
        return user;
    }
    
    // å…¶ä»–æ–¹æ³•å®ç°...
}
```

---

## 8. ğŸ’¼ å®æˆ˜æ¡ˆä¾‹ï¼šç”¨æˆ·ç®¡ç†ç³»ç»Ÿ


### 8.1 é¡¹ç›®ç»“æ„è®¾è®¡


```
ç”¨æˆ·ç®¡ç†ç³»ç»Ÿå®Œæ•´ç›®å½•ç»“æ„ï¼š

src/main/java/
â”œâ”€â”€ com.example.controller/     â† Controllerå±‚
â”‚   â”œâ”€â”€ UserController.java
â”‚   â”œâ”€â”€ LoginController.java
â”‚   â””â”€â”€ BaseController.java
â”œâ”€â”€ com.example.service/        â† Serviceæ¥å£
â”‚   â””â”€â”€ UserService.java
â”œâ”€â”€ com.example.service.impl/   â† Serviceå®ç°
â”‚   â””â”€â”€ UserServiceImpl.java
â”œâ”€â”€ com.example.dao/           â† DAOæ¥å£
â”‚   â””â”€â”€ UserDao.java
â”œâ”€â”€ com.example.dao.impl/      â† DAOå®ç°
â”‚   â””â”€â”€ UserDaoImpl.java
â”œâ”€â”€ com.example.entity/        â† å®ä½“ç±»
â”‚   â””â”€â”€ User.java
â”œâ”€â”€ com.example.util/          â† å·¥å…·ç±»
â”‚   â”œâ”€â”€ DBUtil.java
â”‚   â”œâ”€â”€ PasswordUtil.java
â”‚   â””â”€â”€ DateUtil.java
â””â”€â”€ com.example.exception/     â† å¼‚å¸¸ç±»
    â”œâ”€â”€ BusinessException.java
    â””â”€â”€ DataAccessException.java

webapp/
â”œâ”€â”€ WEB-INF/
â”‚   â”œâ”€â”€ views/
â”‚   â”‚   â”œâ”€â”€ user/
â”‚   â”‚   â”‚   â”œâ”€â”€ list.jsp       â† ç”¨æˆ·åˆ—è¡¨é¡µé¢
â”‚   â”‚   â”‚   â”œâ”€â”€ add.jsp        â† æ·»åŠ ç”¨æˆ·é¡µé¢
â”‚   â”‚   â”‚   â””â”€â”€ edit.jsp       â† ç¼–è¾‘ç”¨æˆ·é¡µé¢
â”‚   â”‚   â”œâ”€â”€ login.jsp          â† ç™»å½•é¡µé¢
â”‚   â”‚   â””â”€â”€ index.jsp          â† é¦–é¡µ
â”‚   â””â”€â”€ web.xml
â”œâ”€â”€ css/style.css              â† æ ·å¼æ–‡ä»¶
â””â”€â”€ js/common.js               â† å…¬å…±JS
```

### 8.2 å®Œæ•´çš„Controllerå®ç°


```java
@WebServlet("/user/*")
public class UserController extends HttpServlet {
    private UserService userService = new UserServiceImpl();
    
    @Override
    protected void doGet(HttpServletRequest request, 
                        HttpServletResponse response) 
                        throws ServletException, IOException {
        
        String action = getAction(request);
        
        try {
            switch (action) {
                case "list":
                    showUserList(request, response);
                    break;
                case "add":
                    showAddForm(request, response);
                    break;
                case "edit":
                    showEditForm(request, response);
                    break;
                case "delete":
                    deleteUser(request, response);
                    break;
                default:
                    showUserList(request, response);
            }
        } catch (Exception e) {
            handleError(request, response, e);
        }
    }
    
    @Override
    protected void doPost(HttpServletRequest request, 
                         HttpServletResponse response) 
                         throws ServletException, IOException {
        
        String action = getAction(request);
        
        try {
            switch (action) {
                case "add":
                    addUser(request, response);
                    break;
                case "edit":
                    editUser(request, response);
                    break;
                default:
                    response.sendError(HttpServletResponse.SC_METHOD_NOT_ALLOWED);
            }
        } catch (Exception e) {
            handleError(request, response, e);
        }
    }
    
    // æ˜¾ç¤ºç”¨æˆ·åˆ—è¡¨
    private void showUserList(HttpServletRequest request, 
                             HttpServletResponse response) 
                             throws ServletException, IOException {
        
        List<User> users = userService.getAllUsers();
        request.setAttribute("users", users);
        request.getRequestDispatcher("/WEB-INF/views/user/list.jsp")
               .forward(request, response);
    }
    
    // æ·»åŠ ç”¨æˆ·
    private void addUser(HttpServletRequest request, 
                        HttpServletResponse response) 
                        throws ServletException, IOException {
        
        // è·å–è¡¨å•å‚æ•°
        String username = request.getParameter("username");
        String password = request.getParameter("password");
        String email = request.getParameter("email");
        
        // åˆ›å»ºç”¨æˆ·å¯¹è±¡
        User user = new User();
        user.setUsername(username);
        user.setPassword(password);
        user.setEmail(email);
        
        // è°ƒç”¨Serviceå¤„ç†
        boolean success = userService.addUser(user);
        
        if (success) {
            // æˆåŠŸï¼šé‡å®šå‘åˆ°åˆ—è¡¨é¡µé¢
            response.sendRedirect(request.getContextPath() + "/user/list");
        } else {
            // å¤±è´¥ï¼šè¿”å›æ·»åŠ é¡µé¢æ˜¾ç¤ºé”™è¯¯
            request.setAttribute("error", "æ·»åŠ ç”¨æˆ·å¤±è´¥");
            request.setAttribute("user", user);
            request.getRequestDispatcher("/WEB-INF/views/user/add.jsp")
                   .forward(request, response);
        }
    }
    
    // è·å–æ“ä½œç±»å‹
    private String getAction(HttpServletRequest request) {
        String pathInfo = request.getPathInfo();
        if (pathInfo == null || pathInfo.equals("/")) {
            return "list";
        }
        return pathInfo.substring(1); // å»æ‰å¼€å¤´çš„"/"
    }
    
    // ç»Ÿä¸€é”™è¯¯å¤„ç†
    private void handleError(HttpServletRequest request, 
                           HttpServletResponse response, 
                           Exception e) 
                           throws ServletException, IOException {
        
        request.setAttribute("error", e.getMessage());
        request.getRequestDispatcher("/WEB-INF/views/error.jsp")
               .forward(request, response);
    }
}
```

### 8.3 å®Œæ•´çš„æ•°æ®æµç¨‹æ¼”ç¤º


**ç”¨æˆ·æ·»åŠ åŠŸèƒ½çš„å®Œæ•´æµç¨‹**ï¼š

```
1. ç”¨æˆ·æ“ä½œï¼š
   ç”¨æˆ·åœ¨æµè§ˆå™¨ä¸­è®¿é—® /user/addï¼Œå¡«å†™è¡¨å•å¹¶æäº¤

2. Controllerå¤„ç†ï¼š
   UserController.doPost() 
   â†“ æ¥æ”¶è¯·æ±‚å‚æ•°
   â†“ åˆ›å»ºUserå¯¹è±¡
   â†“ è°ƒç”¨userService.addUser(user)

3. Serviceä¸šåŠ¡å¤„ç†ï¼š
   UserServiceImpl.addUser()
   â†“ éªŒè¯ç”¨æˆ·è¾“å…¥
   â†“ æ£€æŸ¥ç”¨æˆ·åæ˜¯å¦é‡å¤
   â†“ å¯†ç åŠ å¯†å¤„ç†
   â†“ è°ƒç”¨userDao.save(user)

4. DAOæ•°æ®æ“ä½œï¼š
   UserDaoImpl.save()
   â†“ è¿æ¥æ•°æ®åº“
   â†“ æ‰§è¡ŒINSERTè¯­å¥
   â†“ è¿”å›æ“ä½œç»“æœ

5. ç»“æœè¿”å›ï¼š
   æˆåŠŸ â†’ é‡å®šå‘åˆ°ç”¨æˆ·åˆ—è¡¨
   å¤±è´¥ â†’ è½¬å‘åˆ°æ·»åŠ é¡µé¢æ˜¾ç¤ºé”™è¯¯

6. Viewæ˜¾ç¤ºï¼š
   JSPé¡µé¢æ¥æ”¶æ•°æ®å¹¶æ¸²æŸ“ç»™ç”¨æˆ·
```

**å®Œæ•´çš„é”™è¯¯å¤„ç†æœºåˆ¶**ï¼š
```java
// è‡ªå®šä¹‰ä¸šåŠ¡å¼‚å¸¸
public class BusinessException extends RuntimeException {
    public BusinessException(String message) {
        super(message);
    }
    
    public BusinessException(String message, Throwable cause) {
        super(message, cause);
    }
}

// Serviceä¸­æŠ›å‡ºä¸šåŠ¡å¼‚å¸¸
@Override
public boolean addUser(User user) {
    if (userDao.findByUsername(user.getUsername()) != null) {
        throw new BusinessException("ç”¨æˆ·åå·²å­˜åœ¨ï¼Œè¯·é€‰æ‹©å…¶ä»–ç”¨æˆ·å");
    }
    
    // å…¶ä»–ä¸šåŠ¡é€»è¾‘...
    return userDao.save(user);
}

// Controllerä¸­æ•è·å’Œå¤„ç†å¼‚å¸¸
private void addUser(HttpServletRequest request, 
                    HttpServletResponse response) 
                    throws ServletException, IOException {
    try {
        // ä¸šåŠ¡å¤„ç†ä»£ç ...
        boolean success = userService.addUser(user);
        
        if (success) {
            response.sendRedirect(request.getContextPath() + "/user/list");
        }
        
    } catch (BusinessException e) {
        // ä¸šåŠ¡å¼‚å¸¸ï¼šæ˜¾ç¤ºå‹å¥½çš„é”™è¯¯ä¿¡æ¯
        request.setAttribute("error", e.getMessage());
        request.setAttribute("user", user);
        request.getRequestDispatcher("/WEB-INF/views/user/add.jsp")
               .forward(request, response);
               
    } catch (Exception e) {
        // ç³»ç»Ÿå¼‚å¸¸ï¼šè®°å½•æ—¥å¿—å¹¶æ˜¾ç¤ºé€šç”¨é”™è¯¯é¡µé¢
        e.printStackTrace();
        request.setAttribute("error", "ç³»ç»Ÿå‡ºç°å¼‚å¸¸ï¼Œè¯·è”ç³»ç®¡ç†å‘˜");
        request.getRequestDispatcher("/WEB-INF/views/error.jsp")
               .forward(request, response);
    }
}
```

---

## 9. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 9.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ MVCæ¨¡å¼ï¼šModel-View-Controllerï¼Œå®ç°èŒè´£åˆ†ç¦»çš„è®¾è®¡æ¨¡å¼
ğŸ”¸ Modelå±‚ï¼šåŒ…å«Entityã€DAOã€Serviceï¼Œè´Ÿè´£æ•°æ®å’Œä¸šåŠ¡é€»è¾‘
ğŸ”¸ Viewå±‚ï¼šJSPé¡µé¢ï¼Œè´Ÿè´£æ•°æ®å±•ç¤ºå’Œç”¨æˆ·äº¤äº’
ğŸ”¸ Controllerå±‚ï¼šServletï¼Œè´Ÿè´£è¯·æ±‚å¤„ç†å’Œæµç¨‹æ§åˆ¶
ğŸ”¸ èŒè´£åˆ†ç¦»ï¼šæ¯å±‚åªè´Ÿè´£è‡ªå·±çš„äº‹ï¼Œä¸è¶Šæƒå¤„ç†å…¶ä»–å±‚çš„ä»»åŠ¡
ğŸ”¸ ä»£ç è§£è€¦ï¼šé€šè¿‡æ¥å£å’Œé…ç½®æ–‡ä»¶å‡å°‘å±‚æ¬¡é—´çš„ä¾èµ–
ğŸ”¸ ä¸‰å±‚æ¶æ„ï¼šè¡¨ç°å±‚ã€ä¸šåŠ¡é€»è¾‘å±‚ã€æ•°æ®è®¿é—®å±‚çš„æŠ€æœ¯åˆ†å±‚
```

### 9.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ MVCä¸æ˜¯æŠ€æœ¯ï¼Œæ˜¯æ€æƒ³**
```
MVCçš„æœ¬è´¨ï¼š
- ä¸æ˜¯æŸä¸ªå…·ä½“çš„æ¡†æ¶æˆ–æŠ€æœ¯
- æ˜¯ä¸€ç§ç»„ç»‡ä»£ç çš„æ€ç»´æ–¹å¼
- ç›®æ ‡æ˜¯è®©ä»£ç æ›´æ¸…æ™°ã€æ›´å¥½ç»´æŠ¤
- å¯ä»¥ç”¨ä»»ä½•æŠ€æœ¯æ ˆæ¥å®ç°MVC
```

**ğŸ”¹ èŒè´£åˆ†ç¦»çš„ä»·å€¼**
```
åˆ†ç¦»çš„å¥½å¤„ï¼š
- ä»£ç ç»“æ„æ¸…æ™°ï¼Œå®¹æ˜“ç†è§£
- å›¢é˜Ÿåä½œæ›´é¡ºç•…ï¼Œå‡å°‘å†²çª
- æµ‹è¯•æ›´å®¹æ˜“ï¼Œå¯ä»¥å•ç‹¬æµ‹è¯•æ¯ä¸€å±‚
- ç»´æŠ¤æ›´ç®€å•ï¼Œä¿®æ”¹ä¸€å¤„ä¸å½±å“å…¶ä»–åœ°æ–¹
- æ‰©å±•æ›´çµæ´»ï¼Œå¯ä»¥æ›¿æ¢æŸä¸€å±‚çš„å®ç°
```

**ğŸ”¹ è§£è€¦çš„é‡è¦æ€§**
```
è§£è€¦çš„æ„ä¹‰ï¼š
- é™ä½æ¨¡å—é—´çš„ä¾èµ–å…³ç³»
- æé«˜ä»£ç çš„å¯é‡ç”¨æ€§
- ä¾¿äºå•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•
- ç³»ç»Ÿæ›´å®¹æ˜“æ‰©å±•å’Œç»´æŠ¤
- å¯ä»¥å¹¶è¡Œå¼€å‘ï¼Œæé«˜æ•ˆç‡
```

### 9.3 å®é™…åº”ç”¨ä»·å€¼


**ä¼ä¸šå¼€å‘ä¸­çš„æ ‡å‡†åšæ³•**ï¼š
- **å°é¡¹ç›®**ï¼šç®€å•çš„MVCç»“æ„ï¼Œå¿«é€Ÿå¼€å‘
- **ä¸­å‹é¡¹ç›®**ï¼šå®Œæ•´çš„ä¸‰å±‚æ¶æ„ï¼Œè§„èŒƒå¼€å‘æµç¨‹
- **å¤§å‹é¡¹ç›®**ï¼šå¾®æœåŠ¡æ¶æ„ï¼Œæ¯ä¸ªæœåŠ¡å†…éƒ¨ä»ç„¶æ˜¯MVC

**å­¦ä¹ è¿›é˜¶è·¯å¾„**ï¼š
```
åŸºç¡€é˜¶æ®µï¼š
â”œâ”€â”€ ç†è§£MVCåŸºæœ¬æ¦‚å¿µ
â”œâ”€â”€ æŒæ¡Servlet+JSP+JavaBean
â”œâ”€â”€ å­¦ä¼šç®€å•çš„å¢åˆ æ”¹æŸ¥æ“ä½œ
â””â”€â”€ èƒ½å¤Ÿåˆ†ç¦»å‡ºControllerã€Serviceã€DAO

è¿›é˜¶é˜¶æ®µï¼š
â”œâ”€â”€ ä½¿ç”¨è®¾è®¡æ¨¡å¼ä¼˜åŒ–ä»£ç ç»“æ„
â”œâ”€â”€ å¼•å…¥Springæ¡†æ¶ç®€åŒ–å¼€å‘
â”œâ”€â”€ å­¦ä¹ æ›´å¤šçš„ä¼ä¸šçº§ç‰¹æ€§
â””â”€â”€ æŒæ¡å¾®æœåŠ¡æ¶æ„æ€æƒ³

é«˜çº§é˜¶æ®µï¼š
â”œâ”€â”€ åˆ†å¸ƒå¼ç³»ç»Ÿè®¾è®¡
â”œâ”€â”€ é«˜å¹¶å‘å¤„ç†æ–¹æ¡ˆ  
â”œâ”€â”€ ç³»ç»Ÿæ¶æ„è®¾è®¡
â””â”€â”€ æŠ€æœ¯é€‰å‹å’Œå†³ç­–
```

### 9.4 å¸¸è§é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ


**Q1: MVCæ˜¯å¦å¢åŠ äº†ä»£ç å¤æ‚åº¦ï¼Ÿ**
> A: çŸ­æœŸçœ‹ç¡®å®ä¼šå¢åŠ ä¸€äº›ä»£ç é‡ï¼Œä½†é•¿æœŸæ¥çœ‹å¤§å¤§é™ä½äº†ç»´æŠ¤æˆæœ¬ã€‚å°±åƒç›–æˆ¿å­ï¼Œæ‰“å¥½åœ°åŸºéœ€è¦æ—¶é—´ï¼Œä½†åç»­å»ºè®¾ä¼šæ›´é¡ºåˆ©ã€‚

**Q2: å°é¡¹ç›®æ˜¯å¦éœ€è¦ä¸¥æ ¼æŒ‰ç…§MVCï¼Ÿ**
> A: å¯ä»¥çµæ´»è°ƒæ•´ï¼Œä½†åŸºæœ¬çš„åˆ†å±‚æ€æƒ³è¦ä¿æŒã€‚å³ä½¿æ˜¯ç®€å•é¡¹ç›®ï¼Œä¹Ÿè¦é¿å…æŠŠæ‰€æœ‰ä»£ç å†™åœ¨ä¸€ä¸ªServleté‡Œã€‚

**Q3: å¦‚ä½•åˆ¤æ–­èŒè´£åˆ†ç¦»æ˜¯å¦åˆç†ï¼Ÿ**
> A: çœ‹æ˜¯å¦ç¬¦åˆ"å•ä¸€èŒè´£åŸåˆ™"ï¼šæ¯ä¸ªç±»åº”è¯¥åªæœ‰ä¸€ä¸ªè¢«ä¿®æ”¹çš„ç†ç”±ã€‚å¦‚æœä¿®æ”¹æ•°æ®åº“ç»“æ„éœ€è¦æ”¹Controllerï¼Œè¯´æ˜èŒè´£åˆ†ç¦»æœ‰é—®é¢˜ã€‚

**Q4: Serviceå±‚å’ŒDAOå±‚çš„è¾¹ç•Œå¦‚ä½•åˆ’åˆ†ï¼Ÿ**
> A: DAOåªåšæ•°æ®è®¿é—®ï¼Œä¸€ä¸ªæ–¹æ³•å¯¹åº”ä¸€ä¸ªSQLæ“ä½œï¼›Serviceå¤„ç†ä¸šåŠ¡é€»è¾‘ï¼Œå¯èƒ½è°ƒç”¨å¤šä¸ªDAOæ–¹æ³•å®Œæˆä¸€ä¸ªä¸šåŠ¡åŠŸèƒ½ã€‚

**æ ¸å¿ƒè®°å¿†å£è¯€**ï¼š
```
ğŸ¯ MVCåˆ†å·¥æ˜ç¡®å„å¸èŒï¼ŒModelæ•°æ®Viewå±•ç¤º
ğŸ® Controllerè°ƒåº¦æ¥æ§åˆ¶ï¼ŒServiceä¸šåŠ¡DAOå­˜å–  
ğŸ”— æ¥å£è§£è€¦æ›´çµæ´»ï¼Œé…ç½®ç®¡ç†å¥½ç»´æŠ¤
ğŸ“ ä¸‰å±‚æ¶æ„æ˜¯åŸºç¡€ï¼ŒèŒè´£åˆ†ç¦»æ˜¯æ ¸å¿ƒ
```

**å®è·µå»ºè®®**ï¼š
- ä»ç®€å•çš„å¢åˆ æ”¹æŸ¥å¼€å§‹ç»ƒä¹ MVC
- å¤šå†™ä»£ç ï¼Œä½“ä¼šåˆ†å±‚çš„å¥½å¤„
- å­¦ä¼šç”»æ¶æ„å›¾ï¼Œç†æ¸…å±‚æ¬¡å…³ç³»
- å…³æ³¨ä»£ç è´¨é‡ï¼Œä¸è¦æ€¥äºè¿½æ±‚å¤æ‚åŠŸèƒ½