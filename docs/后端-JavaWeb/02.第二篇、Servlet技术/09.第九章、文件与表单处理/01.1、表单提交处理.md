---
title: 1ã€è¡¨å•æäº¤å¤„ç†
---
## ğŸ“š ç›®å½•

1. [GETä¸POSTæ–¹æ³•è¯¦è§£](#1-GETä¸POSTæ–¹æ³•è¯¦è§£)
2. [è¡¨å•å‚æ•°è·å–ä¸è§£æ](#2-è¡¨å•å‚æ•°è·å–ä¸è§£æ)
3. [ä¸­æ–‡ä¹±ç é—®é¢˜å¤„ç†](#3-ä¸­æ–‡ä¹±ç é—®é¢˜å¤„ç†)
4. [å‚æ•°æ ¡éªŒä¸æ•°æ®éªŒè¯](#4-å‚æ•°æ ¡éªŒä¸æ•°æ®éªŒè¯)
5. [è¡¨å•é‡å¤æäº¤é˜²æŠ¤](#5-è¡¨å•é‡å¤æäº¤é˜²æŠ¤)
6. [æ•°æ®ç»‘å®šå®ç”¨æŠ€å·§](#6-æ•°æ®ç»‘å®šå®ç”¨æŠ€å·§)
7. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#7-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸŒ GETä¸POSTæ–¹æ³•è¯¦è§£


### 1.1 ä»€ä¹ˆæ˜¯GETå’ŒPOST


**ç®€å•ç†è§£**ï¼šå°±åƒä½ å»é“¶è¡ŒåŠä¸šåŠ¡ï¼Œæœ‰ä¸¤ç§ä¸åŒçš„æ–¹å¼

```
GETæ–¹å¼ - åƒæ˜¯æŸ¥è¯¢è´¦æˆ·ä½™é¢ï¼š
â€¢ ä½ åªæ˜¯é—®é“¶è¡Œ"æˆ‘æœ‰å¤šå°‘é’±"
â€¢ è¿™ä¸ªè¯¢é—®ä¸ä¼šæ”¹å˜ä½ çš„è´¦æˆ·
â€¢ åˆ«äººå¯èƒ½å¬åˆ°ä½ åœ¨é—®ä»€ä¹ˆ

POSTæ–¹å¼ - åƒæ˜¯å­˜é’±å–é’±ï¼š
â€¢ ä½ è¦è¿›è¡Œå®é™…çš„æ“ä½œ
â€¢ ä¼šæ”¹å˜ä½ çš„è´¦æˆ·çŠ¶æ€
â€¢ éœ€è¦ç§å¯†åœ°è¿›è¡Œæ“ä½œ
```

### 1.2 ä¸¤ç§æ–¹å¼çš„æ ¸å¿ƒåŒºåˆ«


**ğŸ”¸ æ•°æ®ä¼ è¾“æ–¹å¼å¯¹æ¯”**

| å¯¹æ¯”é¡¹ç›® | **GETæ–¹å¼** | **POSTæ–¹å¼** |
|---------|------------|-------------|
| **æ•°æ®ä½ç½®** | æ”¾åœ¨ç½‘å€åé¢ï¼ˆURLä¸­ï¼‰ | æ”¾åœ¨è¯·æ±‚ä½“é‡Œï¼ˆçœ‹ä¸åˆ°ï¼‰ |
| **æ•°æ®å®‰å…¨æ€§** | âŒ ä¸å®‰å…¨ï¼Œåœ°å€æ å¯è§ | âœ… ç›¸å¯¹å®‰å…¨ï¼Œéšè—ä¼ è¾“ |
| **æ•°æ®å¤§å°é™åˆ¶** | âŒ æœ‰é™åˆ¶ï¼ˆé€šå¸¸2KBï¼‰ | âœ… å‡ ä¹æ— é™åˆ¶ |
| **ä¹¦ç­¾æ”¶è—** | âœ… å¯ä»¥æ”¶è— | âŒ æ— æ³•æ”¶è— |
| **åˆ·æ–°å½±å“** | âœ… æ— å‰¯ä½œç”¨ | âš ï¸ å¯èƒ½é‡å¤æäº¤ |

**ğŸ’¡ å®é™…ä½¿ç”¨åœºæ™¯**
```markdown
GETé€‚ç”¨åœºæ™¯ï¼š
â€¢ ğŸ” æœç´¢åŠŸèƒ½ï¼šsearch?keyword=java
â€¢ ğŸ“„ æŸ¥çœ‹æ–‡ç« ï¼šarticle?id=123  
â€¢ ğŸ“Š æ•°æ®å±•ç¤ºï¼šreport?type=monthly

POSTé€‚ç”¨åœºæ™¯ï¼š
â€¢ ğŸ‘¤ ç”¨æˆ·ç™»å½•ï¼šæäº¤è´¦å·å¯†ç 
â€¢ ğŸ“ å‘è¡¨è¯„è®ºï¼šæäº¤è¯„è®ºå†…å®¹
â€¢ ğŸ“¤ æ–‡ä»¶ä¸Šä¼ ï¼šæäº¤æ–‡ä»¶æ•°æ®
â€¢ ğŸ’° æ”¯ä»˜æ“ä½œï¼šæäº¤è®¢å•ä¿¡æ¯
```

### 1.3 åœ¨HTMLä¸­çš„ä½¿ç”¨


**HTMLè¡¨å•ç¤ºä¾‹**
```html
<!-- GETæ–¹å¼è¡¨å• -->
<form action="search" method="get">
    å…³é”®å­—ï¼š<input type="text" name="keyword">
    <input type="submit" value="æœç´¢">
</form>

<!-- POSTæ–¹å¼è¡¨å• -->
<form action="login" method="post">
    ç”¨æˆ·åï¼š<input type="text" name="username"><br>
    å¯†ç ï¼š<input type="password" name="password"><br>
    <input type="submit" value="ç™»å½•">
</form>
```

**æäº¤åçš„åŒºåˆ«**
```
GETæäº¤åçš„åœ°å€ï¼š
http://localhost:8080/search?keyword=java

POSTæäº¤åçš„åœ°å€ï¼š
http://localhost:8080/login
ï¼ˆå‚æ•°çœ‹ä¸åˆ°ï¼Œä½†å®é™…å·²ç»å‘é€ï¼‰
```

---

## 2. ğŸ“‹ è¡¨å•å‚æ•°è·å–ä¸è§£æ


### 2.1 Servletä¸­è·å–å‚æ•°çš„æ–¹æ³•


**æ ¸å¿ƒæ–¹æ³•ä»‹ç»**
```java
// æœ€å¸¸ç”¨çš„ä¸‰ä¸ªæ–¹æ³•
String getParameter(String name)     // è·å–å•ä¸ªå‚æ•°å€¼
String[] getParameterValues(String name)  // è·å–å¤šä¸ªåŒåå‚æ•°
Map<String,String[]> getParameterMap()    // è·å–æ‰€æœ‰å‚æ•°
```

### 2.2 å•ä¸ªå‚æ•°è·å–


**ğŸ“ å¤„ç†ç®€å•è¡¨å•æ•°æ®**

```java
@WebServlet("/user-info")
public class UserInfoServlet extends HttpServlet {
    
    protected void doPost(HttpServletRequest request, 
                         HttpServletResponse response) 
                         throws ServletException, IOException {
        
        // è·å–è¡¨å•ä¸­çš„å•ä¸ªå‚æ•°
        String username = request.getParameter("username");
        String age = request.getParameter("age");
        String email = request.getParameter("email");
        
        // âš ï¸ é‡è¦ï¼šgetParameterè¿”å›çš„æ°¸è¿œæ˜¯Stringç±»å‹
        // éœ€è¦æ•°å­—æ—¶è¦æ‰‹åŠ¨è½¬æ¢
        int userAge = Integer.parseInt(age);
        
        System.out.println("ç”¨æˆ·åï¼š" + username);
        System.out.println("å¹´é¾„ï¼š" + userAge);
        System.out.println("é‚®ç®±ï¼š" + email);
    }
}
```

**å¯¹åº”çš„HTMLè¡¨å•**
```html
<form action="user-info" method="post">
    ç”¨æˆ·åï¼š<input type="text" name="username"><br>
    å¹´é¾„ï¼š<input type="number" name="age"><br>
    é‚®ç®±ï¼š<input type="email" name="email"><br>
    <input type="submit" value="æäº¤">
</form>
```

### 2.3 å¤šå€¼å‚æ•°è·å–


**ğŸ”˜ å¤„ç†å¤é€‰æ¡†å’Œå¤šé€‰æ•°æ®**

**HTMLä¸­çš„å¤šé€‰è¡¨å•**
```html
<form action="hobby" method="post">
    <p>è¯·é€‰æ‹©ä½ çš„çˆ±å¥½ï¼š</p>
    <input type="checkbox" name="hobbies" value="reading">è¯»ä¹¦<br>
    <input type="checkbox" name="hobbies" value="music">éŸ³ä¹<br>
    <input type="checkbox" name="hobbies" value="sports">è¿åŠ¨<br>
    <input type="checkbox" name="hobbies" value="travel">æ—…æ¸¸<br>
    <input type="submit" value="æäº¤">
</form>
```

**Servletå¤„ç†å¤šå€¼å‚æ•°**
```java
@WebServlet("/hobby")
public class HobbyServlet extends HttpServlet {
    
    protected void doPost(HttpServletRequest request, 
                         HttpServletResponse response) 
                         throws ServletException, IOException {
        
        // è·å–å¤šä¸ªåŒåå‚æ•°ï¼ˆå¤é€‰æ¡†çš„å€¼ï¼‰
        String[] hobbies = request.getParameterValues("hobbies");
        
        if (hobbies != null && hobbies.length > 0) {
            System.out.println("ç”¨æˆ·çš„çˆ±å¥½æœ‰ï¼š");
            for (String hobby : hobbies) {
                System.out.println("- " + hobby);
            }
        } else {
            System.out.println("ç”¨æˆ·æ²¡æœ‰é€‰æ‹©ä»»ä½•çˆ±å¥½");
        }
    }
}
```

### 2.4 è·å–æ‰€æœ‰å‚æ•°


**ğŸ—‚ï¸ æ‰¹é‡å¤„ç†è¡¨å•æ•°æ®**

```java
@WebServlet("/all-params")
public class AllParamsServlet extends HttpServlet {
    
    protected void doPost(HttpServletRequest request, 
                         HttpServletResponse response) 
                         throws ServletException, IOException {
        
        // è·å–æ‰€æœ‰å‚æ•°çš„Map
        Map<String, String[]> paramMap = request.getParameterMap();
        
        System.out.println("æ”¶åˆ°çš„æ‰€æœ‰å‚æ•°ï¼š");
        for (String paramName : paramMap.keySet()) {
            String[] values = paramMap.get(paramName);
            
            if (values.length == 1) {
                // å•ä¸ªå€¼çš„å‚æ•°
                System.out.println(paramName + " = " + values[0]);
            } else {
                // å¤šä¸ªå€¼çš„å‚æ•°
                System.out.println(paramName + " = " + 
                                 String.join(", ", values));
            }
        }
    }
}
```

> ğŸ’¡ **å®ç”¨æç¤º**ï¼š`getParameterMap()`ç‰¹åˆ«é€‚åˆåšé€šç”¨çš„è¡¨å•å¤„ç†å™¨ï¼Œä¸ç®¡è¡¨å•æœ‰å¤šå°‘å­—æ®µéƒ½èƒ½å¤„ç†ã€‚

---

## 3. ğŸ”§ ä¸­æ–‡ä¹±ç é—®é¢˜å¤„ç†


### 3.1 ä¹±ç é—®é¢˜çš„æ ¹æœ¬åŸå› 


**ä¸ºä»€ä¹ˆä¼šå‡ºç°ä¹±ç ï¼Ÿ**

```
ç®€å•ç†è§£ï¼šå°±åƒä¸¤ä¸ªäººè¯´ä¸åŒçš„è¯­è¨€
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   æµè§ˆå™¨     â”‚    â”‚   ç½‘ç»œä¼ è¾“   â”‚    â”‚   æœåŠ¡å™¨     â”‚
â”‚  UTF-8ç¼–ç    â”‚â”€â”€â”€â–¶â”‚   å­—èŠ‚æµ    â”‚â”€â”€â”€â–¶â”‚  ISOç¼–ç è§£æ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ç»“æœï¼šæµè§ˆå™¨è¯´"UTF-8è¯"ï¼ŒæœåŠ¡å™¨æŒ‰"ISOæ–¹è¨€"ç†è§£ï¼Œå°±ä¹±äº†ï¼
```

**ä¹±ç ç°è±¡ç¤ºä¾‹**
```
ç”¨æˆ·è¾“å…¥ï¼šå¼ ä¸‰
ä¼ è¾“è¿‡ç¨‹ï¼šæ­£å¸¸
æœåŠ¡å™¨æ¥æ”¶ï¼šÃ¥Â¼ Ã¤Â¸â€°  â† è¿™å°±æ˜¯ä¹±ç ï¼
```

### 3.2 POSTè¯·æ±‚ä¹±ç è§£å†³


**ğŸ”¸ æ ¸å¿ƒè§£å†³æ–¹æ³•**

```java
@WebServlet("/chinese-test")
public class ChineseTestServlet extends HttpServlet {
    
    protected void doPost(HttpServletRequest request, 
                         HttpServletResponse response) 
                         throws ServletException, IOException {
        
        // â­ å…³é”®æ­¥éª¤ï¼šåœ¨è·å–å‚æ•°ä¹‹å‰è®¾ç½®ç¼–ç 
        request.setCharacterEncoding("UTF-8");
        
        // ç°åœ¨è·å–ä¸­æ–‡å‚æ•°å°±ä¸ä¼šä¹±ç äº†
        String name = request.getParameter("name");
        String message = request.getParameter("message");
        
        // è®¾ç½®å“åº”ç¼–ç ï¼Œé¿å…è¾“å‡ºä¹±ç 
        response.setContentType("text/html;charset=UTF-8");
        
        PrintWriter out = response.getWriter();
        out.println("æ”¶åˆ°å§“åï¼š" + name);
        out.println("æ”¶åˆ°ç•™è¨€ï¼š" + message);
    }
}
```

> âš ï¸ **é‡è¦æé†’**ï¼š`setCharacterEncoding()`å¿…é¡»åœ¨ç¬¬ä¸€æ¬¡è°ƒç”¨`getParameter()`ä¹‹å‰æ‰§è¡Œï¼Œå¦åˆ™æ— æ•ˆï¼

### 3.3 GETè¯·æ±‚ä¹±ç è§£å†³


**GETæ–¹å¼çš„ä¹±ç å¤„ç†ç¨å¾®å¤æ‚**

```java
@WebServlet("/get-chinese")
public class GetChineseServlet extends HttpServlet {
    
    protected void doGet(HttpServletRequest request, 
                        HttpServletResponse response) 
                        throws ServletException, IOException {
        
        // æ–¹æ³•1ï¼šæ‰‹åŠ¨è½¬ç ï¼ˆé€‚ç”¨äºè¾ƒè€çš„Tomcatç‰ˆæœ¬ï¼‰
        String name = request.getParameter("name");
        if (name != null) {
            // å…ˆç”¨ISO-8859-1è§£ç ï¼Œå†ç”¨UTF-8ç¼–ç 
            name = new String(name.getBytes("ISO-8859-1"), "UTF-8");
        }
        
        // æ–¹æ³•2ï¼šåœ¨server.xmlä¸­é…ç½®ï¼ˆæ¨èï¼‰
        // <Connector port="8080" URIEncoding="UTF-8" />
        
        response.setContentType("text/html;charset=UTF-8");
        PrintWriter out = response.getWriter();
        out.println("GETæ¥æ”¶åˆ°çš„å§“åï¼š" + name);
    }
}
```

### 3.4 ç»Ÿä¸€ä¹±ç è§£å†³æ–¹æ¡ˆ


**ğŸ¯ ä½¿ç”¨è¿‡æ»¤å™¨ç»Ÿä¸€å¤„ç†**

```java
@WebFilter("/*")  // æ‹¦æˆªæ‰€æœ‰è¯·æ±‚
public class EncodingFilter implements Filter {
    
    @Override
    public void doFilter(ServletRequest request, ServletResponse response,
                        FilterChain chain) 
                        throws IOException, ServletException {
        
        // ç»Ÿä¸€è®¾ç½®è¯·æ±‚ç¼–ç 
        request.setCharacterEncoding("UTF-8");
        
        // ç»Ÿä¸€è®¾ç½®å“åº”ç¼–ç 
        response.setContentType("text/html;charset=UTF-8");
        
        // ç»§ç»­æ‰§è¡Œåç»­å¤„ç†
        chain.doFilter(request, response);
    }
}
```

> âœ… **æœ€ä½³å®è·µ**ï¼šä½¿ç”¨è¿‡æ»¤å™¨æ˜¯æœ€å½»åº•çš„è§£å†³æ–¹æ¡ˆï¼Œä¸€åŠ³æ°¸é€¸è§£å†³æ•´ä¸ªé¡¹ç›®çš„ä¹±ç é—®é¢˜ã€‚

---

## 4. âœ… å‚æ•°æ ¡éªŒä¸æ•°æ®éªŒè¯


### 4.1 ä¸ºä»€ä¹ˆéœ€è¦å‚æ•°æ ¡éªŒ


**å®‰å…¨æ€§è€ƒè™‘**
```
ç”¨æˆ·å¯èƒ½ä¼šæäº¤ï¼š
â€¢ ç©ºå€¼æˆ–null
â€¢ è¶…é•¿çš„å­—ç¬¦ä¸²
â€¢ åŒ…å«æ¶æ„ä»£ç çš„å†…å®¹
â€¢ ä¸ç¬¦åˆæ ¼å¼çš„æ•°æ®ï¼ˆå¦‚é‚®ç®±ã€æ‰‹æœºå·ï¼‰

ä¸æ ¡éªŒçš„åæœï¼š
â€¢ ğŸ’¥ ç¨‹åºå´©æºƒ
â€¢ ğŸ” å®‰å…¨æ¼æ´
â€¢ ğŸ“Š æ•°æ®æ±¡æŸ“
```

### 4.2 åŸºç¡€æ ¡éªŒæ–¹æ³•


**ğŸ” å¸¸ç”¨æ ¡éªŒæŠ€å·§**

```java
@WebServlet("/register")
public class RegisterServlet extends HttpServlet {
    
    protected void doPost(HttpServletRequest request, 
                         HttpServletResponse response) 
                         throws ServletException, IOException {
        
        request.setCharacterEncoding("UTF-8");
        response.setContentType("text/html;charset=UTF-8");
        
        String username = request.getParameter("username");
        String password = request.getParameter("password");
        String email = request.getParameter("email");
        String ageStr = request.getParameter("age");
        
        // ğŸ“‹ æ ¡éªŒç»“æœæ”¶é›†
        List<String> errors = new ArrayList<>();
        
        // 1ï¸âƒ£ éç©ºæ ¡éªŒ
        if (username == null || username.trim().isEmpty()) {
            errors.add("ç”¨æˆ·åä¸èƒ½ä¸ºç©º");
        }
        
        // 2ï¸âƒ£ é•¿åº¦æ ¡éªŒ
        if (username != null && username.length() > 20) {
            errors.add("ç”¨æˆ·åä¸èƒ½è¶…è¿‡20ä¸ªå­—ç¬¦");
        }
        
        // 3ï¸âƒ£ æ ¼å¼æ ¡éªŒ
        if (email != null && !email.matches("\\w+@\\w+\\.\\w+")) {
            errors.add("é‚®ç®±æ ¼å¼ä¸æ­£ç¡®");
        }
        
        // 4ï¸âƒ£ æ•°å­—æ ¡éªŒ
        int age = 0;
        try {
            age = Integer.parseInt(ageStr);
            if (age < 0 || age > 150) {
                errors.add("å¹´é¾„å¿…é¡»åœ¨0-150ä¹‹é—´");
            }
        } catch (NumberFormatException e) {
            errors.add("å¹´é¾„å¿…é¡»æ˜¯æ•°å­—");
        }
        
        // 5ï¸âƒ£ æ ¡éªŒç»“æœå¤„ç†
        PrintWriter out = response.getWriter();
        if (!errors.isEmpty()) {
            out.println("<h3>æ³¨å†Œå¤±è´¥ï¼š</h3>");
            for (String error : errors) {
                out.println("<p style='color:red;'>âŒ " + error + "</p>");
            }
        } else {
            out.println("<h3>âœ… æ³¨å†ŒæˆåŠŸï¼</h3>");
            out.println("<p>æ¬¢è¿æ‚¨ï¼Œ" + username + "ï¼</p>");
        }
    }
}
```

### 4.3 å®ç”¨æ ¡éªŒå·¥å…·ç±»


**ğŸ› ï¸ å°è£…å¸¸ç”¨æ ¡éªŒæ–¹æ³•**

```java
public class ValidateUtils {
    
    // æ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦ä¸ºç©º
    public static boolean isEmpty(String str) {
        return str == null || str.trim().isEmpty();
    }
    
    // æ£€æŸ¥é‚®ç®±æ ¼å¼
    public static boolean isEmail(String email) {
        if (isEmpty(email)) return false;
        return email.matches("\\w+@\\w+\\.\\w+");
    }
    
    // æ£€æŸ¥æ‰‹æœºå·æ ¼å¼
    public static boolean isPhone(String phone) {
        if (isEmpty(phone)) return false;
        return phone.matches("1[3-9]\\d{9}");
    }
    
    // å®‰å…¨çš„æ•´æ•°è½¬æ¢
    public static Integer safeParseInt(String str, Integer defaultValue) {
        try {
            return Integer.parseInt(str);
        } catch (NumberFormatException e) {
            return defaultValue;
        }
    }
}
```

---

## 5. ğŸ”’ è¡¨å•é‡å¤æäº¤é˜²æŠ¤


### 5.1 é‡å¤æäº¤é—®é¢˜


**ä»€ä¹ˆæ˜¯é‡å¤æäº¤ï¼Ÿ**
```
ç”¨æˆ·æ“ä½œåœºæ™¯ï¼š
1. å¡«å†™è®¢å•è¡¨å•
2. ç‚¹å‡»"æäº¤è®¢å•"æŒ‰é’®
3. ç½‘ç»œå¡é¡¿ï¼Œé¡µé¢æ²¡ååº”
4. ç”¨æˆ·ç€æ€¥ï¼Œåˆç‚¹äº†å‡ æ¬¡æŒ‰é’®
5. ç»“æœï¼šç”Ÿæˆäº†å¤šä¸ªç›¸åŒè®¢å•ï¼ ğŸ’¸
```

**é‡å¤æäº¤çš„å±å®³**
- ğŸ’° **è´¢åŠ¡æŸå¤±**ï¼šé‡å¤æ‰£æ¬¾ã€é‡å¤ä¸‹å•
- ğŸ“Š **æ•°æ®æ··ä¹±**ï¼šæ•°æ®åº“ä¸­äº§ç”Ÿé‡å¤è®°å½•
- ğŸ–¥ï¸ **ç³»ç»Ÿè´Ÿæ‹…**ï¼šæ— æ•ˆè¯·æ±‚å¢åŠ æœåŠ¡å™¨å‹åŠ›

### 5.2 Tokenä»¤ç‰Œé˜²æŠ¤æ–¹æ¡ˆ


**ğŸ« åŸºæœ¬æ€è·¯ï¼šæ¯ä¸ªè¡¨å•éƒ½æœ‰å”¯ä¸€"å…¥åœºåˆ¸"**

**ç¬¬ä¸€æ­¥ï¼šç”Ÿæˆè¡¨å•æ—¶åˆ›å»ºToken**
```java
@WebServlet("/show-form")
public class ShowFormServlet extends HttpServlet {
    
    protected void doGet(HttpServletRequest request, 
                        HttpServletResponse response) 
                        throws ServletException, IOException {
        
        // ç”Ÿæˆå”¯ä¸€Token
        String token = UUID.randomUUID().toString();
        
        // å­˜å‚¨åˆ°Sessionä¸­
        HttpSession session = request.getSession();
        session.setAttribute("formToken", token);
        
        // å‘é€è¡¨å•é¡µé¢
        response.setContentType("text/html;charset=UTF-8");
        PrintWriter out = response.getWriter();
        
        out.println("<form action='submit-order' method='post'>");
        out.println("å•†å“åç§°ï¼š<input type='text' name='productName'><br>");
        out.println("è´­ä¹°æ•°é‡ï¼š<input type='number' name='quantity'><br>");
        // ğŸ« å…³é”®ï¼šéšè—å­—æ®µæºå¸¦Token
        out.println("<input type='hidden' name='token' value='" + token + "'>");
        out.println("<input type='submit' value='æäº¤è®¢å•'>");
        out.println("</form>");
    }
}
```

**ç¬¬äºŒæ­¥ï¼šå¤„ç†è¡¨å•æ—¶éªŒè¯Token**
```java
@WebServlet("/submit-order")
public class SubmitOrderServlet extends HttpServlet {
    
    protected void doPost(HttpServletRequest request, 
                         HttpServletResponse response) 
                         throws ServletException, IOException {
        
        request.setCharacterEncoding("UTF-8");
        response.setContentType("text/html;charset=UTF-8");
        
        // è·å–è¡¨å•ä¸­çš„Token
        String formToken = request.getParameter("token");
        
        // è·å–Sessionä¸­å­˜å‚¨çš„Token
        HttpSession session = request.getSession();
        String sessionToken = (String) session.getAttribute("formToken");
        
        PrintWriter out = response.getWriter();
        
        // ğŸ” TokenéªŒè¯
        if (formToken == null || !formToken.equals(sessionToken)) {
            out.println("<h3>âŒ è¡¨å•æäº¤å¤±è´¥</h3>");
            out.println("<p>è¯·å‹¿é‡å¤æäº¤æˆ–ç›´æ¥è®¿é—®æäº¤åœ°å€</p>");
            return;
        }
        
        // â­ å…³é”®ï¼šéªŒè¯æˆåŠŸåç«‹å³ç§»é™¤Tokenï¼Œé˜²æ­¢é‡å¤ä½¿ç”¨
        session.removeAttribute("formToken");
        
        // å¤„ç†æ­£å¸¸çš„ä¸šåŠ¡é€»è¾‘
        String productName = request.getParameter("productName");
        String quantity = request.getParameter("quantity");
        
        out.println("<h3>âœ… è®¢å•æäº¤æˆåŠŸ</h3>");
        out.println("<p>å•†å“ï¼š" + productName + "ï¼Œæ•°é‡ï¼š" + quantity + "</p>");
        out.println("<p>è®¢å•å·ï¼š" + System.currentTimeMillis() + "</p>");
    }
}
```

### 5.3 JavaScriptå‰ç«¯é˜²æŠ¤


**å‰ç«¯é…åˆé˜²æ­¢é‡å¤ç‚¹å‡»**
```html
<script>
function submitForm(button) {
    // ç¦ç”¨æŒ‰é’®ï¼Œé˜²æ­¢é‡å¤ç‚¹å‡»
    button.disabled = true;
    button.value = "æäº¤ä¸­...";
    
    // æäº¤è¡¨å•
    document.getElementById('orderForm').submit();
}
</script>

<form id="orderForm" action="submit-order" method="post">
    å•†å“åç§°ï¼š<input type="text" name="productName"><br>
    è´­ä¹°æ•°é‡ï¼š<input type="number" name="quantity"><br>
    <input type="hidden" name="token" value="${token}">
    <input type="button" value="æäº¤è®¢å•" onclick="submitForm(this)">
</form>
```

---

## 6. ğŸ¯ æ•°æ®ç»‘å®šå®ç”¨æŠ€å·§


### 6.1 ä»€ä¹ˆæ˜¯æ•°æ®ç»‘å®š


**ç®€å•ç†è§£**ï¼šå°±æ˜¯æŠŠè¡¨å•é‡Œé›¶æ•£çš„æ•°æ®ï¼Œæ•´é½åœ°è£…åˆ°ä¸€ä¸ªå¯¹è±¡é‡Œ

```
è¡¨å•æ•°æ®ï¼ˆé›¶æ•£ï¼‰:          Javaå¯¹è±¡ï¼ˆæ•´é½ï¼‰:
username = "å¼ ä¸‰"      â†’   User {
password = "123456"           username: "å¼ ä¸‰"
email = "zhangsan@qq.com"     password: "123456"
age = "25"                    email: "zhangsan@qq.com"
                              age: 25
                          }
```

### 6.2 åˆ›å»ºæ•°æ®å¯¹è±¡


**ğŸ“„ ç”¨æˆ·ä¿¡æ¯å®ä½“ç±»**
```java
public class User {
    private String username;
    private String password;
    private String email;
    private Integer age;
    private String[] hobbies;
    
    // æ„é€ æ–¹æ³•
    public User() {}
    
    // getterå’Œsetteræ–¹æ³•
    public String getUsername() { return username; }
    public void setUsername(String username) { this.username = username; }
    
    public String getPassword() { return password; }
    public void setPassword(String password) { this.password = password; }
    
    public String getEmail() { return email; }
    public void setEmail(String email) { this.email = email; }
    
    public Integer getAge() { return age; }
    public void setAge(Integer age) { this.age = age; }
    
    public String[] getHobbies() { return hobbies; }
    public void setHobbies(String[] hobbies) { this.hobbies = hobbies; }
    
    // toStringæ–¹æ³•ï¼Œæ–¹ä¾¿æ‰“å°è°ƒè¯•
    @Override
    public String toString() {
        return "User{" +
                "username='" + username + '\'' +
                ", email='" + email + '\'' +
                ", age=" + age +
                ", hobbies=" + Arrays.toString(hobbies) +
                '}';
    }
}
```

### 6.3 æ‰‹åŠ¨æ•°æ®ç»‘å®š


**ğŸ”§ åŸºç¡€ç»‘å®šæ–¹æ³•**

```java
@WebServlet("/user-binding")
public class UserBindingServlet extends HttpServlet {
    
    protected void doPost(HttpServletRequest request, 
                         HttpServletResponse response) 
                         throws ServletException, IOException {
        
        request.setCharacterEncoding("UTF-8");
        
        // åˆ›å»ºç”¨æˆ·å¯¹è±¡
        User user = new User();
        
        // æ‰‹åŠ¨ç»‘å®šåŸºæœ¬æ•°æ®
        user.setUsername(request.getParameter("username"));
        user.setPassword(request.getParameter("password"));
        user.setEmail(request.getParameter("email"));
        
        // å¤„ç†æ•°å­—ç±»å‹è½¬æ¢
        String ageStr = request.getParameter("age");
        if (ageStr != null && !ageStr.trim().isEmpty()) {
            try {
                user.setAge(Integer.parseInt(ageStr));
            } catch (NumberFormatException e) {
                user.setAge(null);  // è½¬æ¢å¤±è´¥è®¾ä¸ºnull
            }
        }
        
        // å¤„ç†æ•°ç»„ç±»å‹æ•°æ®
        String[] hobbies = request.getParameterValues("hobbies");
        user.setHobbies(hobbies);
        
        // è¾“å‡ºç»‘å®šç»“æœ
        response.setContentType("text/html;charset=UTF-8");
        PrintWriter out = response.getWriter();
        out.println("<h3>ç”¨æˆ·ä¿¡æ¯ç»‘å®šç»“æœï¼š</h3>");
        out.println("<pre>" + user.toString() + "</pre>");
    }
}
```

### 6.4 é€šç”¨æ•°æ®ç»‘å®šå·¥å…·


**ğŸ› ï¸ è‡ªåŠ¨ç»‘å®šå·¥å…·ç±»**

```java
public class DataBindingUtils {
    
    // é€šç”¨çš„å‚æ•°ç»‘å®šæ–¹æ³•
    public static <T> T bindParameters(HttpServletRequest request, Class<T> clazz) {
        try {
            // åˆ›å»ºç›®æ ‡å¯¹è±¡å®ä¾‹
            T instance = clazz.newInstance();
            
            // è·å–æ‰€æœ‰è¯·æ±‚å‚æ•°
            Map<String, String[]> paramMap = request.getParameterMap();
            
            // è·å–ç±»çš„æ‰€æœ‰å­—æ®µ
            Field[] fields = clazz.getDeclaredFields();
            
            for (Field field : fields) {
                String fieldName = field.getName();
                String[] paramValues = paramMap.get(fieldName);
                
                if (paramValues != null && paramValues.length > 0) {
                    // è®¾ç½®å­—æ®µå¯è®¿é—®
                    field.setAccessible(true);
                    
                    // æ ¹æ®å­—æ®µç±»å‹è¿›è¡Œè½¬æ¢å’Œè®¾ç½®
                    setFieldValue(instance, field, paramValues);
                }
            }
            
            return instance;
            
        } catch (Exception e) {
            throw new RuntimeException("æ•°æ®ç»‘å®šå¤±è´¥", e);
        }
    }
    
    // æ ¹æ®å­—æ®µç±»å‹è®¾ç½®å€¼
    private static void setFieldValue(Object instance, Field field, String[] values) 
            throws IllegalAccessException {
        
        Class<?> fieldType = field.getType();
        String value = values[0];  // å–ç¬¬ä¸€ä¸ªå€¼
        
        if (fieldType == String.class) {
            field.set(instance, value);
        } else if (fieldType == Integer.class || fieldType == int.class) {
            if (!value.trim().isEmpty()) {
                field.set(instance, Integer.parseInt(value));
            }
        } else if (fieldType == String[].class) {
            field.set(instance, values);  // è®¾ç½®æ‰€æœ‰å€¼
        }
        // å¯ä»¥ç»§ç»­æ‰©å±•å…¶ä»–ç±»å‹...
    }
}
```

**ä½¿ç”¨è‡ªåŠ¨ç»‘å®šå·¥å…·**
```java
@WebServlet("/auto-binding")
public class AutoBindingServlet extends HttpServlet {
    
    protected void doPost(HttpServletRequest request, 
                         HttpServletResponse response) 
                         throws ServletException, IOException {
        
        request.setCharacterEncoding("UTF-8");
        
        // ğŸ¯ ä¸€è¡Œä»£ç å®Œæˆæ•°æ®ç»‘å®šï¼
        User user = DataBindingUtils.bindParameters(request, User.class);
        
        // è¾“å‡ºç»“æœ
        response.setContentType("text/html;charset=UTF-8");
        PrintWriter out = response.getWriter();
        out.println("<h3>âœ… è‡ªåŠ¨ç»‘å®šæˆåŠŸï¼š</h3>");
        out.println("<pre>" + user.toString() + "</pre>");
    }
}
```

---

## 7. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 7.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ GETä¸POSTï¼šä¸¤ç§ä¸åŒçš„è¡¨å•æäº¤æ–¹å¼ï¼Œé€‚ç”¨åœºæ™¯ä¸åŒ
ğŸ”¸ å‚æ•°è·å–ï¼šgetParameter()è·å–å•å€¼ï¼ŒgetParameterValues()è·å–å¤šå€¼
ğŸ”¸ ä¸­æ–‡ä¹±ç ï¼šPOSTç”¨setCharacterEncoding()ï¼ŒGETéœ€è¦é¢å¤–å¤„ç†
ğŸ”¸ å‚æ•°æ ¡éªŒï¼šå®‰å…¨ç¬¬ä¸€ï¼Œæ°¸è¿œä¸ä¿¡ä»»ç”¨æˆ·è¾“å…¥çš„æ•°æ®
ğŸ”¸ é‡å¤æäº¤ï¼šä½¿ç”¨Tokenä»¤ç‰Œæœºåˆ¶é˜²æ­¢è¡¨å•é‡å¤æäº¤
ğŸ”¸ æ•°æ®ç»‘å®šï¼šå°†è¡¨å•å‚æ•°å°è£…æˆJavaå¯¹è±¡ï¼Œæé«˜ä»£ç å¯ç»´æŠ¤æ€§
```

### 7.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ GETä¸POSTçš„é€‰æ‹©åŸåˆ™**
```
é€‰æ‹©GETçš„æƒ…å†µï¼š
â€¢ æŸ¥è¯¢ã€æœç´¢ã€å±•ç¤ºç±»æ“ä½œ
â€¢ éœ€è¦è¢«æ”¶è—æˆ–åˆ†äº«çš„URL
â€¢ æ•°æ®é‡å°ä¸”ä¸æ•æ„Ÿ

é€‰æ‹©POSTçš„æƒ…å†µï¼š
â€¢ å¢åˆ æ”¹æ“ä½œ
â€¢ æ•æ„Ÿæ•°æ®ä¼ è¾“ï¼ˆå¯†ç ã€ä¸ªäººä¿¡æ¯ï¼‰
â€¢ æ•°æ®é‡å¤§ï¼ˆæ–‡ä»¶ä¸Šä¼ ï¼‰
â€¢ éœ€è¦é˜²æ­¢é‡å¤æäº¤çš„æ“ä½œ
```

**ğŸ”¹ ä¹±ç å¤„ç†çš„æ ¸å¿ƒé€»è¾‘**
```
å…³é”®ç‚¹ï¼š
â€¢ ç¼–ç é—®é¢˜æœ¬è´¨æ˜¯"è¯­è¨€ä¸é€š"
â€¢ POSTä¹±ç ï¼šrequest.setCharacterEncoding("UTF-8")
â€¢ GETä¹±ç ï¼šé…ç½®Tomcatçš„URIEncodingæˆ–æ‰‹åŠ¨è½¬ç 
â€¢ æœ€ä½³å®è·µï¼šä½¿ç”¨è¿‡æ»¤å™¨ç»Ÿä¸€å¤„ç†
```

**ğŸ”¹ å®‰å…¨æ ¡éªŒçš„é‡è¦æ€§**
```
åŸºæœ¬åŸåˆ™ï¼š
â€¢ æ°¸è¿œä¸ä¿¡ä»»ç”¨æˆ·è¾“å…¥
â€¢ å‰ç«¯æ ¡éªŒåªæ˜¯ç”¨æˆ·ä½“éªŒï¼Œåç«¯æ ¡éªŒæ‰æ˜¯å®‰å…¨ä¿éšœ
â€¢ æ ¡éªŒè¦å…¨é¢ï¼šéç©ºã€é•¿åº¦ã€æ ¼å¼ã€èŒƒå›´
â€¢ é”™è¯¯ä¿¡æ¯è¦å‹å¥½ï¼Œä¸è¦æš´éœ²ç³»ç»Ÿç»†èŠ‚
```

### 7.3 å®é™…åº”ç”¨æŒ‡å¯¼


**ğŸ’¼ åœ¨å®é™…é¡¹ç›®ä¸­çš„åº”ç”¨**
```markdown
ç™»å½•ç³»ç»Ÿï¼š
â€¢ ä½¿ç”¨POSTæäº¤ç”¨æˆ·åå¯†ç 
â€¢ å¿…é¡»è¿›è¡Œå‚æ•°æ ¡éªŒå’Œä¹±ç å¤„ç†
â€¢ å¯ä»¥ä½¿ç”¨Tokené˜²æ­¢æš´åŠ›ç ´è§£

è´­ç‰©ç½‘ç«™ï¼š
â€¢ å•†å“æœç´¢ç”¨GETï¼Œè®¢å•æäº¤ç”¨POST
â€¢ è®¢å•è¡¨å•å¿…é¡»é˜²é‡å¤æäº¤
â€¢ ä½¿ç”¨æ•°æ®ç»‘å®šç®€åŒ–è®¢å•ä¿¡æ¯å¤„ç†

å†…å®¹ç®¡ç†ï¼š
â€¢ æ–‡ç« å‘å¸ƒä½¿ç”¨POST + æ–‡ä»¶ä¸Šä¼ 
â€¢ è¯„è®ºç³»ç»Ÿéœ€è¦é˜²XSSæ”»å‡»
â€¢ åˆ†é¡µæµè§ˆä½¿ç”¨GETæ–¹å¼
```

**ğŸ”§ å¼€å‘å®è·µå»ºè®®**
```markdown
ä»£ç ç»„ç»‡ï¼š
â€¢ åˆ›å»ºå·¥å…·ç±»ç»Ÿä¸€å¤„ç†å¸¸è§æ“ä½œ
â€¢ ä½¿ç”¨è¿‡æ»¤å™¨å¤„ç†å…¨å±€æ€§é—®é¢˜ï¼ˆç¼–ç ã€å®‰å…¨ï¼‰
â€¢ å°è£…å®ä½“ç±»æé«˜ä»£ç å¯è¯»æ€§

æ€§èƒ½ä¼˜åŒ–ï¼š
â€¢ é¿å…åœ¨å¾ªç¯ä¸­é‡å¤è·å–ç›¸åŒå‚æ•°
â€¢ å¯¹äºå¤æ‚è¡¨å•è€ƒè™‘ä½¿ç”¨è‡ªåŠ¨ç»‘å®š
â€¢ åˆç†ä½¿ç”¨ç¼“å­˜å‡å°‘é‡å¤å¤„ç†

å®‰å…¨è€ƒè™‘ï¼š
â€¢ æ‰€æœ‰ç”¨æˆ·è¾“å…¥éƒ½è¦æ ¡éªŒ
â€¢ æ•æ„Ÿæ“ä½œå¢åŠ é¢å¤–éªŒè¯ï¼ˆå¦‚éªŒè¯ç ï¼‰
â€¢ è®°å½•é‡è¦æ“ä½œçš„æ—¥å¿—
```

### 7.4 å¸¸è§é—®é¢˜è§£å†³


**â“ ç»å¸¸é‡åˆ°çš„é—®é¢˜**
```markdown
Q1: è·å–å‚æ•°è¿”å›nullæ€ä¹ˆåŠï¼Ÿ
A1: æ£€æŸ¥è¡¨å•å­—æ®µnameå±æ€§æ˜¯å¦æ­£ç¡®ï¼Œç¡®è®¤æäº¤æ–¹å¼åŒ¹é…

Q2: ä¸­æ–‡ä¹±ç æ€ä¹ˆå½»åº•è§£å†³ï¼Ÿ
A2: ä½¿ç”¨ç¼–ç è¿‡æ»¤å™¨ï¼Œç»Ÿä¸€è®¾ç½®UTF-8ç¼–ç 

Q3: å¦‚ä½•é˜²æ­¢æ¶æ„ç”¨æˆ·ç»•è¿‡å‰ç«¯æ ¡éªŒï¼Ÿ
A3: åç«¯å¿…é¡»è¿›è¡Œå®Œæ•´çš„å‚æ•°æ ¡éªŒï¼Œä¸ä¾èµ–å‰ç«¯

Q4: Tokené˜²é‡å¤æäº¤å¤±æ•ˆæ€ä¹ˆåŠï¼Ÿ
A4: æ£€æŸ¥Sessionæ˜¯å¦æ­£å¸¸ï¼ŒTokenç”Ÿæˆå’ŒéªŒè¯é€»è¾‘æ˜¯å¦æ­£ç¡®
```

**æ ¸å¿ƒè®°å¿†å£è¯€**ï¼š
- è¡¨å•æäº¤åˆ†ä¸¤è·¯ï¼ŒGETæŸ¥è¯¢POSTæ“ä½œ
- å‚æ•°è·å–æœ‰ä¸‰æ³•ï¼Œå•å€¼å¤šå€¼å…¨æ˜ å°„  
- ä¸­æ–‡ä¹±ç è®¾ç¼–ç ï¼ŒPOSTç®€å•GETç¨éš¾
- ç”¨æˆ·è¾“å…¥ä¸å¯ä¿¡ï¼Œæ ¡éªŒè¿‡æ»¤æ˜¯å¿…é¡»
- é‡å¤æäº¤ç”¨Tokenï¼Œä¸€æ¬¡ä½¿ç”¨å°±é”€æ¯
- æ•°æ®ç»‘å®šææ•ˆç‡ï¼Œå¯¹è±¡å°è£…æ›´æ¸…æ™°