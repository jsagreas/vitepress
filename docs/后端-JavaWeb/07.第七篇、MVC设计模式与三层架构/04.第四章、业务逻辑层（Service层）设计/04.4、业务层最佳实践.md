---
title: 4ã€ä¸šåŠ¡å±‚æœ€ä½³å®è·µ
---
## ğŸ“š ç›®å½•

1. [ä¸šåŠ¡å±‚æ¦‚å¿µä¸ä½œç”¨](#1-ä¸šåŠ¡å±‚æ¦‚å¿µä¸ä½œç”¨)
2. [å•ä¸€èŒè´£åŸåˆ™åœ¨Serviceå±‚çš„åº”ç”¨](#2-å•ä¸€èŒè´£åŸåˆ™åœ¨Serviceå±‚çš„åº”ç”¨)
3. [æ¥å£éš”ç¦»ä¸ä¾èµ–å€’ç½®](#3-æ¥å£éš”ç¦»ä¸ä¾èµ–å€’ç½®)
4. [ä¸šåŠ¡å¯¹è±¡BOè®¾è®¡](#4-ä¸šåŠ¡å¯¹è±¡BOè®¾è®¡)
5. [æœåŠ¡å±‚è§£è€¦ç­–ç•¥](#5-æœåŠ¡å±‚è§£è€¦ç­–ç•¥)
6. [å•å…ƒæµ‹è¯•æœ€ä½³å®è·µ](#6-å•å…ƒæµ‹è¯•æœ€ä½³å®è·µ)
7. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#7-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ¯ ä¸šåŠ¡å±‚æ¦‚å¿µä¸ä½œç”¨


### 1.1 ä»€ä¹ˆæ˜¯ä¸šåŠ¡é€»è¾‘å±‚


**ç®€å•ç†è§£**ï¼šä¸šåŠ¡é€»è¾‘å±‚å°±æ˜¯å¤„ç†å…·ä½“ä¸šåŠ¡è§„åˆ™çš„åœ°æ–¹ï¼Œå®ƒæ˜¯åº”ç”¨ç¨‹åºçš„"å¤§è„‘"

```
ç”¨æˆ·è´­ä¹°å•†å“çš„ä¾‹å­ï¼š

å‰ç«¯ç•Œé¢ï¼ˆè¡¨ç°å±‚ï¼‰  â†â†’  ä¸šåŠ¡é€»è¾‘å±‚  â†â†’  æ•°æ®è®¿é—®å±‚
    ç”¨æˆ·ç‚¹å‡»è´­ä¹°           æ£€æŸ¥åº“å­˜          æŸ¥è¯¢æ•°æ®åº“
    æ˜¾ç¤ºè´­ä¹°ç»“æœ           è®¡ç®—ä»·æ ¼          æ›´æ–°æ•°æ®
    æç¤ºæˆåŠŸ/å¤±è´¥          æ‰£å‡åº“å­˜          è®°å½•æ—¥å¿—
```

**ä¸šåŠ¡å±‚çš„æ ¸å¿ƒä½œç”¨**ï¼š
- ğŸ”¸ **å¤„ç†ä¸šåŠ¡è§„åˆ™**ï¼šæ¯”å¦‚VIPç”¨æˆ·æ‰“8æŠ˜ï¼Œæ™®é€šç”¨æˆ·ä¸æ‰“æŠ˜
- ğŸ”¸ **åè°ƒæ•°æ®æ“ä½œ**ï¼šä¸€æ¬¡è´­ä¹°å¯èƒ½æ¶‰åŠè®¢å•ã€åº“å­˜ã€ç”¨æˆ·ç§¯åˆ†å¤šä¸ªæ•°æ®è¡¨
- ğŸ”¸ **äº‹åŠ¡ç®¡ç†**ï¼šç¡®ä¿æ•°æ®æ“ä½œè¦ä¹ˆå…¨æˆåŠŸï¼Œè¦ä¹ˆå…¨å¤±è´¥
- ğŸ”¸ **ä¸šåŠ¡éªŒè¯**ï¼šæ£€æŸ¥æ•°æ®æ˜¯å¦ç¬¦åˆä¸šåŠ¡è¦æ±‚

### 1.2 ä¸ºä»€ä¹ˆéœ€è¦Serviceå±‚


**æ²¡æœ‰Serviceå±‚çš„é—®é¢˜**ï¼š
```
Controllerç›´æ¥è°ƒç”¨DAOçš„é—®é¢˜ï¼š

ç”¨æˆ·Controller {
    è´­ä¹°å•†å“() {
        // æ£€æŸ¥åº“å­˜ - è°ƒç”¨åº“å­˜DAO
        // åˆ›å»ºè®¢å• - è°ƒç”¨è®¢å•DAO  
        // æ‰£å‡åº“å­˜ - è°ƒç”¨åº“å­˜DAO
        // å¢åŠ ç§¯åˆ† - è°ƒç”¨ç”¨æˆ·DAO
        // å‘é€é€šçŸ¥ - è°ƒç”¨é€šçŸ¥DAO
    }
}

é—®é¢˜ï¼š
âŒ Controllerå˜å¾—è‡ƒè‚¿å¤æ‚
âŒ ä¸šåŠ¡é€»è¾‘æ•£è½åœ¨å„å¤„
âŒ é‡å¤ä»£ç å¤š
âŒ éš¾ä»¥æµ‹è¯•å’Œç»´æŠ¤
```

**æœ‰Serviceå±‚çš„ä¼˜åŠ¿**ï¼š
```
æ¸…æ™°çš„åˆ†å±‚ç»“æ„ï¼š

Controllerï¼ˆå¤„ç†è¯·æ±‚ï¼‰ 
    â†“
Serviceï¼ˆå¤„ç†ä¸šåŠ¡é€»è¾‘ï¼‰
    â†“  
DAOï¼ˆæ•°æ®è®¿é—®ï¼‰

ä¼˜åŠ¿ï¼š
âœ… èŒè´£åˆ†æ˜ï¼Œä»£ç æ¸…æ™°
âœ… ä¸šåŠ¡é€»è¾‘é›†ä¸­ç®¡ç†
âœ… ä»£ç å¤ç”¨æ€§é«˜
âœ… ä¾¿äºæµ‹è¯•å’Œç»´æŠ¤
```

### 1.3 Serviceå±‚åœ¨ä¸‰å±‚æ¶æ„ä¸­çš„ä½ç½®


**ä¸‰å±‚æ¶æ„ç¤ºæ„å›¾**ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        è¡¨ç°å±‚ï¼ˆControllerï¼‰      â”‚  â† æ¥æ”¶è¯·æ±‚ï¼Œè¿”å›å“åº”
â”‚  - æ¥æ”¶ç”¨æˆ·è¯·æ±‚                  â”‚
â”‚  - å‚æ•°éªŒè¯                     â”‚
â”‚  - è°ƒç”¨ä¸šåŠ¡å±‚                   â”‚
â”‚  - è¿”å›ç»“æœ                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚        ä¸šåŠ¡å±‚ï¼ˆServiceï¼‰         â”‚  â† å¤„ç†ä¸šåŠ¡é€»è¾‘
â”‚  - ä¸šåŠ¡è§„åˆ™å¤„ç†                  â”‚
â”‚  - äº‹åŠ¡æ§åˆ¶                     â”‚
â”‚  - æ•°æ®ç»„è£…                     â”‚
â”‚  - è°ƒç”¨æ•°æ®å±‚                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚        æ•°æ®å±‚ï¼ˆDAOï¼‰             â”‚  â† æ•°æ®åº“æ“ä½œ
â”‚  - å¢åˆ æ”¹æŸ¥                     â”‚
â”‚  - SQLæ‰§è¡Œ                      â”‚
â”‚  - ç»“æœæ˜ å°„                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. âš–ï¸ å•ä¸€èŒè´£åŸåˆ™åœ¨Serviceå±‚çš„åº”ç”¨


### 2.1 ä»€ä¹ˆæ˜¯å•ä¸€èŒè´£åŸåˆ™


> ğŸ’¡ **å•ä¸€èŒè´£åŸåˆ™ï¼ˆSRPï¼‰**ï¼šä¸€ä¸ªç±»åº”è¯¥åªæœ‰ä¸€ä¸ªå¼•èµ·å®ƒå˜åŒ–çš„åŸå› 
> 
> é€šä¿—è¯´æ³•ï¼šä¸€ä¸ªç±»åªåšä¸€ä»¶äº‹ï¼Œåšå¥½ä¸€ä»¶äº‹

### 2.2 é”™è¯¯çš„Serviceè®¾è®¡


**âŒ è¿åå•ä¸€èŒè´£çš„ä¾‹å­**ï¼š
```java
// åä¾‹å­ï¼šä¸€ä¸ªServiceå¤„ç†æ‰€æœ‰ç”¨æˆ·ç›¸å…³æ“ä½œ
public class UserService {
    
    public void registerUser(User user) { /* ç”¨æˆ·æ³¨å†Œé€»è¾‘ */ }
    
    public void loginUser(String username, String password) { /* ç™»å½•é€»è¾‘ */ }
    
    public void sendEmail(String to, String content) { /* å‘é‚®ä»¶é€»è¾‘ */ }
    
    public void generateReport() { /* ç”ŸæˆæŠ¥è¡¨é€»è¾‘ */ }
    
    public void backupData() { /* æ•°æ®å¤‡ä»½é€»è¾‘ */ }
}
```

**é—®é¢˜åˆ†æ**ï¼š
- ğŸ”¥ **èŒè´£æ··ä¹±**ï¼šç”¨æˆ·ç®¡ç†ã€é‚®ä»¶å‘é€ã€æŠ¥è¡¨ç”Ÿæˆã€æ•°æ®å¤‡ä»½éƒ½æ··åœ¨ä¸€èµ·
- ğŸ”¥ **éš¾ä»¥ç»´æŠ¤**ï¼šä¿®æ”¹é‚®ä»¶åŠŸèƒ½å¯èƒ½å½±å“ç”¨æˆ·æ³¨å†Œ
- ğŸ”¥ **æµ‹è¯•å›°éš¾**ï¼šæµ‹è¯•ç”¨æˆ·æ³¨å†Œæ—¶è¦è€ƒè™‘æ‰€æœ‰å…¶ä»–åŠŸèƒ½
- ğŸ”¥ **ä»£ç è‡ƒè‚¿**ï¼šä¸€ä¸ªç±»æ‰¿æ‹…å¤ªå¤šè´£ä»»

### 2.3 æ­£ç¡®çš„Serviceè®¾è®¡


**âœ… ç¬¦åˆå•ä¸€èŒè´£çš„ä¾‹å­**ï¼š

**ç”¨æˆ·ç®¡ç†æœåŠ¡**ï¼š
```java
public class UserService {
    
    public void registerUser(User user) {
        // åªå¤„ç†ç”¨æˆ·æ³¨å†Œç›¸å…³çš„ä¸šåŠ¡é€»è¾‘
        validateUserInfo(user);
        checkUserExists(user.getUsername());
        encryptPassword(user);
        userDAO.save(user);
    }
    
    public User loginUser(String username, String password) {
        // åªå¤„ç†ç”¨æˆ·ç™»å½•ç›¸å…³çš„ä¸šåŠ¡é€»è¾‘
        User user = userDAO.findByUsername(username);
        validatePassword(password, user.getPassword());
        updateLastLoginTime(user);
        return user;
    }
}
```

**é‚®ä»¶æœåŠ¡**ï¼š
```java
public class EmailService {
    
    public void sendWelcomeEmail(String userEmail) {
        // åªå¤„ç†é‚®ä»¶å‘é€ç›¸å…³çš„ä¸šåŠ¡é€»è¾‘
        String content = buildWelcomeContent();
        sendEmail(userEmail, "æ¬¢è¿æ³¨å†Œ", content);
    }
    
    public void sendPasswordResetEmail(String userEmail, String token) {
        String content = buildResetPasswordContent(token);
        sendEmail(userEmail, "å¯†ç é‡ç½®", content);
    }
}
```

**æŠ¥è¡¨æœåŠ¡**ï¼š
```java
public class ReportService {
    
    public UserReport generateUserReport(Date startDate, Date endDate) {
        // åªå¤„ç†æŠ¥è¡¨ç”Ÿæˆç›¸å…³çš„ä¸šåŠ¡é€»è¾‘
        List<User> users = userDAO.findByDateRange(startDate, endDate);
        return buildUserReport(users);
    }
}
```

### 2.4 å¦‚ä½•åˆ¤æ–­æ˜¯å¦ç¬¦åˆå•ä¸€èŒè´£


**ğŸ“‹ åˆ¤æ–­æ ‡å‡†**ï¼š

| **æ ‡å‡†** | **è¯´æ˜** | **ç¤ºä¾‹** |
|---------|----------|----------|
| **åŠŸèƒ½å†…èš** | Serviceä¸­çš„æ–¹æ³•éƒ½å›´ç»•åŒä¸€ä¸ªä¸šåŠ¡é¢†åŸŸ | `UserService`åªå¤„ç†ç”¨æˆ·ç›¸å…³æ“ä½œ |
| **å˜åŒ–åŸå› å”¯ä¸€** | åªæœ‰ä¸€ç§ä¸šåŠ¡å˜åŒ–ä¼šå¯¼è‡´ç±»ä¿®æ”¹ | ç”¨æˆ·è§„åˆ™å˜åŒ–æ‰ä¼šä¿®æ”¹`UserService` |
| **å‘½åæ¸…æ™°** | ç±»åèƒ½æ¸…æ¥šè¡¨è¾¾å•ä¸€èŒè´£ | `EmailService`ã€`OrderService` |
| **æ–¹æ³•ç›¸å…³** | ç±»ä¸­çš„æ–¹æ³•å½¼æ­¤ç›¸å…³ï¼Œå…±åŒå®Œæˆä¸€ä¸ªèŒè´£ | æ³¨å†Œã€ç™»å½•éƒ½æ˜¯ç”¨æˆ·ç®¡ç†çš„ä¸€éƒ¨åˆ† |

---

## 3. ğŸ”— æ¥å£éš”ç¦»ä¸ä¾èµ–å€’ç½®


### 3.1 æ¥å£éš”ç¦»åŸåˆ™


> ğŸ’¡ **æ¥å£éš”ç¦»åŸåˆ™**ï¼šå®¢æˆ·ç«¯ä¸åº”è¯¥ä¾èµ–å®ƒä¸éœ€è¦çš„æ¥å£
> 
> é€šä¿—è¯´æ³•ï¼šç»™ä»€ä¹ˆäººæä¾›ä»€ä¹ˆæœåŠ¡ï¼Œä¸è¦æŠŠç”¨ä¸åˆ°çš„åŠŸèƒ½ä¹Ÿç»™ä»–

### 3.2 æ¥å£éš”ç¦»çš„å®è·µ


**âŒ è¿åæ¥å£éš”ç¦»çš„ä¾‹å­**ï¼š
```java
// åä¾‹å­ï¼šä¸€ä¸ªå¤§è€Œå…¨çš„æ¥å£
public interface UserService {
    // åŸºæœ¬ç”¨æˆ·æ“ä½œ
    void registerUser(User user);
    User loginUser(String username, String password);
    
    // ç®¡ç†å‘˜æ“ä½œ  
    void deleteUser(Long userId);
    List<User> getAllUsers();
    
    // ç»Ÿè®¡åˆ†æ
    UserStatistics getUserStatistics();
    
    // æ•°æ®å¯¼å‡º
    void exportUserData();
}
```

**é—®é¢˜**ï¼š
- ğŸ”¥ æ™®é€šç”¨æˆ·æ¥å£å®ç°ç±»ä¹Ÿè¦å®ç°ç®¡ç†å‘˜æ–¹æ³•
- ğŸ”¥ ç»Ÿè®¡æ¨¡å—ä¾èµ–äº†ä¸éœ€è¦çš„å¯¼å‡ºåŠŸèƒ½
- ğŸ”¥ æ¥å£å˜åŒ–å½±å“æ‰€æœ‰å®ç°ç±»

**âœ… ç¬¦åˆæ¥å£éš”ç¦»çš„ä¾‹å­**ï¼š
```java
// åŸºç¡€ç”¨æˆ·æœåŠ¡æ¥å£
public interface BasicUserService {
    void registerUser(User user);
    User loginUser(String username, String password);
    void updateProfile(User user);
}

// ç”¨æˆ·ç®¡ç†æ¥å£ï¼ˆç®¡ç†å‘˜ä½¿ç”¨ï¼‰
public interface UserManagementService {
    void deleteUser(Long userId);
    List<User> getAllUsers();
    void lockUser(Long userId);
}

// ç”¨æˆ·ç»Ÿè®¡æ¥å£
public interface UserStatisticsService {
    UserStatistics getUserStatistics();
    List<User> getActiveUsers();
}

// æ•°æ®å¯¼å‡ºæ¥å£
public interface DataExportService {
    void exportUserData();
    void exportUserReport();
}
```

**ä¼˜åŠ¿**ï¼š
- âœ… æ¯ä¸ªæ¥å£èŒè´£æ˜ç¡®
- âœ… å®ç°ç±»åªéœ€è¦å®ç°éœ€è¦çš„åŠŸèƒ½
- âœ… æ¥å£å˜åŒ–å½±å“é¢å°

### 3.3 ä¾èµ–å€’ç½®åŸåˆ™


> ğŸ’¡ **ä¾èµ–å€’ç½®åŸåˆ™**ï¼šé«˜å±‚æ¨¡å—ä¸åº”è¯¥ä¾èµ–ä½å±‚æ¨¡å—ï¼Œä¸¤è€…éƒ½åº”è¯¥ä¾èµ–æŠ½è±¡
> 
> é€šä¿—è¯´æ³•ï¼šä¸è¦ç›´æ¥ä¾èµ–å…·ä½“å®ç°ï¼Œè¦ä¾èµ–æ¥å£

### 3.4 ä¾èµ–å€’ç½®çš„å®è·µ


**âŒ è¿åä¾èµ–å€’ç½®çš„ä¾‹å­**ï¼š
```java
// åä¾‹å­ï¼šç›´æ¥ä¾èµ–å…·ä½“å®ç°
public class UserService {
    
    // ç›´æ¥ä¾èµ–å…·ä½“çš„DAOå®ç°
    private UserDAOImpl userDAO = new UserDAOImpl();
    private EmailServiceImpl emailService = new EmailServiceImpl();
    
    public void registerUser(User user) {
        userDAO.save(user);
        emailService.sendWelcomeEmail(user.getEmail());
    }
}
```

**é—®é¢˜**ï¼š
- ğŸ”¥ **ç´§è€¦åˆ**ï¼šServiceå±‚ç›´æ¥ä¾èµ–å…·ä½“å®ç°
- ğŸ”¥ **éš¾ä»¥æµ‹è¯•**ï¼šæ— æ³•ä½¿ç”¨Mockå¯¹è±¡è¿›è¡Œå•å…ƒæµ‹è¯•
- ğŸ”¥ **éš¾ä»¥æ›¿æ¢**ï¼šæ›´æ¢DAOå®ç°éœ€è¦ä¿®æ”¹Serviceä»£ç 

**âœ… ç¬¦åˆä¾èµ–å€’ç½®çš„ä¾‹å­**ï¼š
```java
// å¥½ä¾‹å­ï¼šä¾èµ–æ¥å£æŠ½è±¡
public class UserService {
    
    // ä¾èµ–æ¥å£ï¼Œä¸ä¾èµ–å…·ä½“å®ç°
    private UserDAO userDAO;
    private EmailService emailService;
    
    // é€šè¿‡æ„é€ å‡½æ•°æ³¨å…¥ä¾èµ–
    public UserService(UserDAO userDAO, EmailService emailService) {
        this.userDAO = userDAO;
        this.emailService = emailService;
    }
    
    public void registerUser(User user) {
        userDAO.save(user);
        emailService.sendWelcomeEmail(user.getEmail());
    }
}
```

**ä½¿ç”¨Springè¿›è¡Œä¾èµ–æ³¨å…¥**ï¼š
```java
@Service
public class UserService {
    
    @Autowired
    private UserDAO userDAO;
    
    @Autowired
    private EmailService emailService;
    
    public void registerUser(User user) {
        userDAO.save(user);
        emailService.sendWelcomeEmail(user.getEmail());
    }
}
```

### 3.5 ä¾èµ–æ³¨å…¥çš„å¥½å¤„


**ğŸ“Š å¯¹æ¯”åˆ†æ**ï¼š

| **æ–¹é¢** | **ç›´æ¥ä¾èµ–** | **æ¥å£ä¾èµ–** |
|---------|-------------|-------------|
| **è€¦åˆåº¦** | é«˜è€¦åˆï¼Œéš¾ä»¥ä¿®æ”¹ | ä½è€¦åˆï¼Œæ˜“äºæ‰©å±• |
| **æµ‹è¯•æ€§** | éš¾ä»¥è¿›è¡Œå•å…ƒæµ‹è¯• | æ˜“äºä½¿ç”¨Mockæµ‹è¯• |
| **å¯ç»´æŠ¤æ€§** | ä¿®æ”¹å½±å“é¢å¤§ | ä¿®æ”¹å½±å“é¢å° |
| **å¯æ›¿æ¢æ€§** | æ›´æ¢å®ç°éœ€è¦ä¿®æ”¹ä»£ç  | é…ç½®å³å¯æ›´æ¢å®ç° |

---

## 4. ğŸ“¦ ä¸šåŠ¡å¯¹è±¡BOè®¾è®¡


### 4.1 ä»€ä¹ˆæ˜¯ä¸šåŠ¡å¯¹è±¡BO


> ğŸ’¡ **ä¸šåŠ¡å¯¹è±¡ï¼ˆBusiness Objectï¼ŒBOï¼‰**ï¼šä¸“é—¨ç”¨äºä¸šåŠ¡å±‚çš„æ•°æ®å¯¹è±¡ï¼ŒåŒ…å«ä¸šåŠ¡é€»è¾‘å’Œä¸šåŠ¡æ•°æ®
> 
> é€šä¿—è¯´æ³•ï¼šBOå°±æ˜¯ä¸“é—¨ä¸ºä¸šåŠ¡å¤„ç†è®¾è®¡çš„æ•°æ®å®¹å™¨

### 4.2 ä¸ºä»€ä¹ˆéœ€è¦BOå¯¹è±¡


**å¸¸è§çš„æ•°æ®å¯¹è±¡ç±»å‹**ï¼š
```
æ•°æ®å¯¹è±¡ç±»å‹å¯¹æ¯”ï¼š

POï¼ˆæŒä¹…åŒ–å¯¹è±¡ï¼‰     â†â†’     æ•°æ®åº“è¡¨ç»“æ„
DTOï¼ˆæ•°æ®ä¼ è¾“å¯¹è±¡ï¼‰  â†â†’     ç½‘ç»œä¼ è¾“æ•°æ®  
VOï¼ˆè§†å›¾å¯¹è±¡ï¼‰      â†â†’     å‰ç«¯é¡µé¢å±•ç¤º
BOï¼ˆä¸šåŠ¡å¯¹è±¡ï¼‰      â†â†’     ä¸šåŠ¡é€»è¾‘å¤„ç†
```

**ä¸ºä»€ä¹ˆä¸èƒ½ç›´æ¥ä½¿ç”¨PO**ï¼š
```java
// æ•°æ®åº“ç”¨æˆ·è¡¨å¯¹åº”çš„PO
public class UserPO {
    private Long id;
    private String username;
    private String password;  // åŠ å¯†åçš„å¯†ç 
    private String email;
    private Date createTime;
    private Date updateTime;
    private Integer status;   // 0-ç¦ç”¨ 1-å¯ç”¨
}

// ç”¨æˆ·æ³¨å†Œä¸šåŠ¡éœ€è¦çš„æ•°æ®
public class UserRegisterBO {
    private String username;
    private String rawPassword;    // åŸå§‹å¯†ç ï¼Œéœ€è¦åŠ å¯†
    private String confirmPassword; // ç¡®è®¤å¯†ç ï¼Œç”¨äºéªŒè¯
    private String email;
    private String phoneNumber;    // æ‰‹æœºå·ï¼Œç”¨äºå‘é€éªŒè¯ç 
    private String verificationCode; // éªŒè¯ç 
    private boolean agreeTerms;    // æ˜¯å¦åŒæ„æ¡æ¬¾
}
```

**BOçš„ä¼˜åŠ¿**ï¼š
- âœ… **ä¸šåŠ¡ä¸“ç”¨**ï¼šåŒ…å«ä¸šåŠ¡å¤„ç†éœ€è¦çš„å­—æ®µ
- âœ… **é€»è¾‘éš”ç¦»**ï¼šé¿å…æ•°æ®åº“å­—æ®µç›´æ¥æš´éœ²ç»™ä¸šåŠ¡å±‚
- âœ… **éªŒè¯æ–¹ä¾¿**ï¼šå¯ä»¥åœ¨BOä¸­æ·»åŠ ä¸šåŠ¡éªŒè¯é€»è¾‘
- âœ… **æ‰©å±•çµæ´»**ï¼šæ ¹æ®ä¸šåŠ¡éœ€è¦æ·»åŠ è®¡ç®—å­—æ®µ

### 4.3 BOè®¾è®¡å®è·µ


**ç”¨æˆ·è®¢å•ä¸šåŠ¡å¯¹è±¡ç¤ºä¾‹**ï¼š
```java
public class OrderBO {
    
    // åŸºæœ¬ä¿¡æ¯
    private Long userId;
    private List<OrderItemBO> items;
    private String deliveryAddress;
    
    // ä¸šåŠ¡è®¡ç®—å­—æ®µ
    private BigDecimal originalAmount;  // åŸå§‹é‡‘é¢
    private BigDecimal discountAmount;  // æŠ˜æ‰£é‡‘é¢  
    private BigDecimal finalAmount;     // æœ€ç»ˆé‡‘é¢
    private String discountReason;      // æŠ˜æ‰£åŸå› 
    
    // ä¸šåŠ¡çŠ¶æ€
    private boolean canPay;            // æ˜¯å¦å¯ä»¥æ”¯ä»˜
    private boolean needDelivery;       // æ˜¯å¦éœ€è¦é…é€
    private String statusMessage;       // çŠ¶æ€æè¿°
    
    // ä¸šåŠ¡é€»è¾‘æ–¹æ³•
    public void calculateAmount() {
        // è®¡ç®—è®¢å•æ€»é‡‘é¢çš„ä¸šåŠ¡é€»è¾‘
        this.originalAmount = items.stream()
            .map(OrderItemBO::getTotalPrice)
            .reduce(BigDecimal.ZERO, BigDecimal::add);
    }
    
    public void applyDiscount(DiscountRule discountRule) {
        // åº”ç”¨æŠ˜æ‰£è§„åˆ™çš„ä¸šåŠ¡é€»è¾‘
        this.discountAmount = discountRule.calculate(this.originalAmount);
        this.finalAmount = this.originalAmount.subtract(this.discountAmount);
        this.discountReason = discountRule.getDescription();
    }
    
    public boolean validateOrder() {
        // è®¢å•éªŒè¯çš„ä¸šåŠ¡é€»è¾‘
        if (items == null || items.isEmpty()) {
            return false;
        }
        
        if (finalAmount.compareTo(BigDecimal.ZERO) <= 0) {
            return false;
        }
        
        return true;
    }
}
```

### 4.4 BOä¸å…¶ä»–å¯¹è±¡çš„è½¬æ¢


**è½¬æ¢å…³ç³»å›¾**ï¼š
```
å‰ç«¯è¯·æ±‚æ•°æ®ï¼ˆDTOï¼‰ 
        â†“
      è½¬æ¢ä¸ºBO
        â†“
    ä¸šåŠ¡é€»è¾‘å¤„ç†
        â†“
      è½¬æ¢ä¸ºPO
        â†“
      ä¿å­˜åˆ°æ•°æ®åº“

æŸ¥è¯¢æµç¨‹ç›¸åï¼š
PO â†’ BO â†’ DTO/VO
```

**è½¬æ¢ç¤ºä¾‹**ï¼š
```java
@Service
public class UserService {
    
    public void registerUser(UserRegisterDTO dto) {
        
        // 1. DTOè½¬æ¢ä¸ºBO
        UserRegisterBO bo = convertToBO(dto);
        
        // 2. ä¸šåŠ¡é€»è¾‘å¤„ç†
        bo.validateUserInfo();
        bo.encryptPassword();
        bo.generateUserId();
        
        // 3. BOè½¬æ¢ä¸ºPO
        UserPO po = convertToPO(bo);
        
        // 4. ä¿å­˜åˆ°æ•°æ®åº“
        userDAO.save(po);
    }
    
    private UserRegisterBO convertToBO(UserRegisterDTO dto) {
        UserRegisterBO bo = new UserRegisterBO();
        bo.setUsername(dto.getUsername());
        bo.setRawPassword(dto.getPassword());
        bo.setEmail(dto.getEmail());
        // ... å…¶ä»–å­—æ®µè½¬æ¢
        return bo;
    }
}
```

---

## 5. ğŸ”„ æœåŠ¡å±‚è§£è€¦ç­–ç•¥


### 5.1 ä»€ä¹ˆæ˜¯æœåŠ¡å±‚è§£è€¦


> ğŸ’¡ **æœåŠ¡å±‚è§£è€¦**ï¼šå‡å°‘Serviceä¹‹é—´çš„ç›´æ¥ä¾èµ–ï¼Œè®©å„ä¸ªæœåŠ¡å¯ä»¥ç‹¬ç«‹å˜åŒ–
> 
> é€šä¿—è¯´æ³•ï¼šè®©å„ä¸ªæœåŠ¡åƒç‹¬ç«‹çš„å°æ¨¡å—ï¼Œäº’ä¸å¹²æ‰°

### 5.2 ç´§è€¦åˆçš„é—®é¢˜


**âŒ æœåŠ¡é—´ç´§è€¦åˆçš„ä¾‹å­**ï¼š
```java
// è®¢å•æœåŠ¡ç›´æ¥ä¾èµ–å¤šä¸ªå…¶ä»–æœåŠ¡
@Service
public class OrderService {
    
    @Autowired
    private UserService userService;
    
    @Autowired
    private ProductService productService;
    
    @Autowired
    private InventoryService inventoryService;
    
    @Autowired
    private PaymentService paymentService;
    
    @Autowired
    private EmailService emailService;
    
    @Autowired
    private SmsService smsService;
    
    public void createOrder(OrderDTO orderDTO) {
        // ç›´æ¥è°ƒç”¨å¤šä¸ªæœåŠ¡ï¼Œå½¢æˆç´§è€¦åˆ
        User user = userService.getUser(orderDTO.getUserId());
        Product product = productService.getProduct(orderDTO.getProductId());
        
        inventoryService.lockInventory(orderDTO.getProductId(), orderDTO.getQuantity());
        
        Order order = buildOrder(user, product, orderDTO);
        orderDAO.save(order);
        
        paymentService.createPayment(order);
        emailService.sendOrderConfirmation(user.getEmail(), order);
        smsService.sendOrderNotification(user.getPhone(), order);
    }
}
```

**é—®é¢˜åˆ†æ**ï¼š
- ğŸ”¥ **ä¾èµ–è¿‡å¤š**ï¼šOrderServiceä¾èµ–6ä¸ªå…¶ä»–æœåŠ¡
- ğŸ”¥ **éš¾ä»¥æµ‹è¯•**ï¼šæµ‹è¯•æ—¶éœ€è¦Mockæ‰€æœ‰ä¾èµ–æœåŠ¡
- ğŸ”¥ **å˜åŒ–æ•æ„Ÿ**ï¼šä»»ä½•ä¸€ä¸ªä¾èµ–æœåŠ¡å˜åŒ–éƒ½å¯èƒ½å½±å“è®¢å•æœåŠ¡
- ğŸ”¥ **éƒ¨ç½²å›°éš¾**ï¼šæ‰€æœ‰æœåŠ¡å¿…é¡»åŒæ—¶å¯ç”¨

### 5.3 è§£è€¦ç­–ç•¥ï¼šäº‹ä»¶é©±åŠ¨


**âœ… ä½¿ç”¨äº‹ä»¶é©±åŠ¨è§£è€¦**ï¼š
```java
// è®¢å•æœåŠ¡åªå…³æ³¨æ ¸å¿ƒè®¢å•é€»è¾‘
@Service
public class OrderService {
    
    @Autowired
    private OrderDAO orderDAO;
    
    @Autowired
    private ApplicationEventPublisher eventPublisher;
    
    public void createOrder(OrderDTO orderDTO) {
        
        // 1. æ ¸å¿ƒè®¢å•é€»è¾‘
        Order order = buildOrder(orderDTO);
        orderDAO.save(order);
        
        // 2. å‘å¸ƒäº‹ä»¶ï¼Œè®©å…¶ä»–æœåŠ¡è‡ªå·±å¤„ç†
        OrderCreatedEvent event = new OrderCreatedEvent(order);
        eventPublisher.publishEvent(event);
    }
}

// å…¶ä»–æœåŠ¡ç›‘å¬äº‹ä»¶ï¼Œå„è‡ªå¤„ç†è‡ªå·±çš„ä¸šåŠ¡
@Component
public class OrderEventListener {
    
    @Autowired
    private EmailService emailService;
    
    @Autowired
    private SmsService smsService;
    
    @Autowired
    private InventoryService inventoryService;
    
    @EventListener
    public void handleOrderCreated(OrderCreatedEvent event) {
        Order order = event.getOrder();
        
        // å‘é€é‚®ä»¶é€šçŸ¥
        emailService.sendOrderConfirmation(order.getUserEmail(), order);
        
        // å‘é€çŸ­ä¿¡é€šçŸ¥  
        smsService.sendOrderNotification(order.getUserPhone(), order);
        
        // æ‰£å‡åº“å­˜
        inventoryService.decreaseInventory(order.getProductId(), order.getQuantity());
    }
}
```

### 5.4 è§£è€¦ç­–ç•¥ï¼šé—¨é¢æ¨¡å¼


**âœ… ä½¿ç”¨é—¨é¢æ¨¡å¼ç®€åŒ–ä¾èµ–**ï¼š
```java
// è®¢å•é—¨é¢æœåŠ¡ï¼Œç»Ÿä¸€å¯¹å¤–æä¾›æœåŠ¡
@Service
public class OrderFacadeService {
    
    @Autowired
    private OrderService orderService;
    
    @Autowired
    private UserService userService;
    
    @Autowired
    private ProductService productService;
    
    @Autowired
    private InventoryService inventoryService;
    
    public OrderResultVO createOrder(OrderRequestVO request) {
        
        // 1. æ•°æ®å‡†å¤‡å’ŒéªŒè¯
        User user = userService.getUser(request.getUserId());
        Product product = productService.getProduct(request.getProductId());
        
        // 2. åº“å­˜æ£€æŸ¥
        boolean hasStock = inventoryService.checkStock(request.getProductId(), request.getQuantity());
        if (!hasStock) {
            return OrderResultVO.failure("åº“å­˜ä¸è¶³");
        }
        
        // 3. åˆ›å»ºè®¢å•
        OrderDTO orderDTO = buildOrderDTO(user, product, request);
        Order order = orderService.createOrder(orderDTO);
        
        // 4. è¿”å›ç»“æœ
        return OrderResultVO.success(order);
    }
}

// ç®€åŒ–çš„è®¢å•æœåŠ¡ï¼Œåªå¤„ç†æ ¸å¿ƒé€»è¾‘
@Service
public class OrderService {
    
    @Autowired
    private OrderDAO orderDAO;
    
    public Order createOrder(OrderDTO orderDTO) {
        // åªå¤„ç†è®¢å•æ ¸å¿ƒé€»è¾‘
        Order order = new Order();
        order.setUserId(orderDTO.getUserId());
        order.setProductId(orderDTO.getProductId());
        order.setQuantity(orderDTO.getQuantity());
        order.setAmount(orderDTO.getAmount());
        order.setStatus(OrderStatus.PENDING);
        order.setCreateTime(new Date());
        
        return orderDAO.save(order);
    }
}
```

### 5.5 è§£è€¦æ•ˆæœå¯¹æ¯”


**ğŸ“Š è§£è€¦å‰åå¯¹æ¯”**ï¼š

| **æ–¹é¢** | **ç´§è€¦åˆ** | **è§£è€¦å** |
|---------|------------|------------|
| **ä¾èµ–æ•°é‡** | OrderServiceä¾èµ–6ä¸ªæœåŠ¡ | æ¯ä¸ªæœåŠ¡èŒè´£å•ä¸€ |
| **æµ‹è¯•å¤æ‚åº¦** | éœ€è¦Mock 6ä¸ªä¾èµ– | åªéœ€Mockæ ¸å¿ƒä¾èµ– |
| **å˜æ›´å½±å“** | ä»»ä½•æœåŠ¡å˜åŒ–éƒ½å½±å“è®¢å•æœåŠ¡ | å„æœåŠ¡ç‹¬ç«‹å˜åŒ– |
| **éƒ¨ç½²çµæ´»æ€§** | å¿…é¡»æ•´ä½“éƒ¨ç½² | å¯ä»¥ç‹¬ç«‹éƒ¨ç½² |
| **æ•…éšœéš”ç¦»** | ä»»ä½•æœåŠ¡æ•…éšœéƒ½å½±å“æ•´ä½“ | æ•…éšœå½±å“èŒƒå›´å° |

---

## 6. ğŸ§ª å•å…ƒæµ‹è¯•æœ€ä½³å®è·µ


### 6.1 ä¸ºä»€ä¹ˆè¦å¯¹Serviceå±‚è¿›è¡Œå•å…ƒæµ‹è¯•


**å•å…ƒæµ‹è¯•çš„é‡è¦æ€§**ï¼š
- âœ… **éªŒè¯ä¸šåŠ¡é€»è¾‘**ï¼šç¡®ä¿ä¸šåŠ¡è§„åˆ™æ­£ç¡®å®ç°
- âœ… **å›å½’æµ‹è¯•**ï¼šä¿®æ”¹ä»£ç åå¿«é€ŸéªŒè¯åŠŸèƒ½æ˜¯å¦æ­£å¸¸
- âœ… **æ–‡æ¡£ä½œç”¨**ï¼šæµ‹è¯•ç”¨ä¾‹å°±æ˜¯æ´»çš„ä»£ç æ–‡æ¡£
- âœ… **é‡æ„å®‰å…¨**ï¼šæœ‰æµ‹è¯•ä¿æŠ¤ï¼Œé‡æ„æ›´å®‰å…¨

### 6.2 Serviceå±‚æµ‹è¯•çš„æŒ‘æˆ˜


**æµ‹è¯•éš¾ç‚¹**ï¼š
```java
// Serviceå±‚é€šå¸¸æœ‰å¾ˆå¤šä¾èµ–
@Service
public class UserService {
    
    @Autowired
    private UserDAO userDAO;           // æ•°æ®åº“ä¾èµ–
    
    @Autowired
    private EmailService emailService;  // é‚®ä»¶æœåŠ¡ä¾èµ–
    
    @Autowired
    private RedisTemplate redisTemplate; // ç¼“å­˜ä¾èµ–
    
    public void registerUser(User user) {
        // å¦‚ä½•æµ‹è¯•è¿™ä¸ªæ–¹æ³•ï¼Ÿ
        // - éœ€è¦çœŸå®çš„æ•°æ®åº“å—ï¼Ÿ
        // - éœ€è¦çœŸå®çš„é‚®ä»¶æœåŠ¡å—ï¼Ÿ
        // - éœ€è¦çœŸå®çš„Rediså—ï¼Ÿ
    }
}
```

**è§£å†³æ–¹æ¡ˆ**ï¼šä½¿ç”¨Mockå¯¹è±¡æ¨¡æ‹Ÿä¾èµ–

### 6.3 ä½¿ç”¨Mockitoè¿›è¡Œå•å…ƒæµ‹è¯•


**âœ… å®Œæ•´çš„æµ‹è¯•ç¤ºä¾‹**ï¼š
```java
@RunWith(MockitoJUnitRunner.class)
public class UserServiceTest {
    
    @Mock
    private UserDAO userDAO;
    
    @Mock
    private EmailService emailService;
    
    @Mock
    private RedisTemplate<String, Object> redisTemplate;
    
    @InjectMocks
    private UserService userService;
    
    @Test
    public void testRegisterUser_Success() {
        // 1. å‡†å¤‡æµ‹è¯•æ•°æ®
        User user = new User();
        user.setUsername("testuser");
        user.setEmail("test@example.com");
        user.setPassword("password123");
        
        // 2. è®¾ç½®Mockè¡Œä¸º
        when(userDAO.findByUsername("testuser")).thenReturn(null);  // ç”¨æˆ·ä¸å­˜åœ¨
        when(userDAO.save(any(User.class))).thenReturn(user);       // ä¿å­˜æˆåŠŸ
        
        // 3. æ‰§è¡Œè¢«æµ‹è¯•æ–¹æ³•
        userService.registerUser(user);
        
        // 4. éªŒè¯ç»“æœ
        verify(userDAO, times(1)).findByUsername("testuser");
        verify(userDAO, times(1)).save(user);
        verify(emailService, times(1)).sendWelcomeEmail(user.getEmail());
        
        // éªŒè¯å¯†ç å·²è¢«åŠ å¯†ï¼ˆä¸å†æ˜¯åŸå§‹å¯†ç ï¼‰
        assertNotEquals("password123", user.getPassword());
        assertTrue(user.getPassword().length() > 20);
    }
    
    @Test(expected = BusinessException.class)
    public void testRegisterUser_UserAlreadyExists() {
        // 1. å‡†å¤‡æµ‹è¯•æ•°æ®
        User existingUser = new User();
        existingUser.setUsername("testuser");
        
        User newUser = new User();
        newUser.setUsername("testuser");
        newUser.setEmail("test@example.com");
        
        // 2. è®¾ç½®Mockè¡Œä¸º - ç”¨æˆ·å·²å­˜åœ¨
        when(userDAO.findByUsername("testuser")).thenReturn(existingUser);
        
        // 3. æ‰§è¡Œæµ‹è¯• - åº”è¯¥æŠ›å‡ºå¼‚å¸¸
        userService.registerUser(newUser);
    }
    
    @Test
    public void testLoginUser_Success() {
        // 1. å‡†å¤‡æµ‹è¯•æ•°æ®
        String username = "testuser";
        String password = "password123";
        
        User user = new User();
        user.setUsername(username);
        user.setPassword("$2a$10$encrypted_password_hash");
        user.setLastLoginTime(null);
        
        // 2. è®¾ç½®Mockè¡Œä¸º
        when(userDAO.findByUsername(username)).thenReturn(user);
        
        // 3. æ‰§è¡Œæµ‹è¯•
        User loginUser = userService.loginUser(username, password);
        
        // 4. éªŒè¯ç»“æœ
        assertNotNull(loginUser);
        assertEquals(username, loginUser.getUsername());
        assertNotNull(loginUser.getLastLoginTime());  // ç™»å½•æ—¶é—´å·²æ›´æ–°
        
        verify(userDAO, times(1)).findByUsername(username);
        verify(userDAO, times(1)).save(user);  // æ›´æ–°æœ€åç™»å½•æ—¶é—´
    }
}
```

### 6.4 æµ‹è¯•æ•°æ®å‡†å¤‡ç­–ç•¥


**âœ… ä½¿ç”¨Builderæ¨¡å¼å‡†å¤‡æµ‹è¯•æ•°æ®**ï¼š
```java
// æµ‹è¯•æ•°æ®æ„å»ºå™¨
public class UserTestDataBuilder {
    
    private User user = new User();
    
    public static UserTestDataBuilder aUser() {
        return new UserTestDataBuilder();
    }
    
    public UserTestDataBuilder withUsername(String username) {
        user.setUsername(username);
        return this;
    }
    
    public UserTestDataBuilder withEmail(String email) {
        user.setEmail(email);
        return this;
    }
    
    public UserTestDataBuilder withPassword(String password) {
        user.setPassword(password);
        return this;
    }
    
    public UserTestDataBuilder asActiveUser() {
        user.setStatus(UserStatus.ACTIVE);
        user.setCreateTime(new Date());
        return this;
    }
    
    public User build() {
        return user;
    }
}

// åœ¨æµ‹è¯•ä¸­ä½¿ç”¨
@Test
public void testRegisterUser_Success() {
    User user = aUser()
        .withUsername("testuser")
        .withEmail("test@example.com")
        .withPassword("password123")
        .build();
        
    userService.registerUser(user);
    
    // ... éªŒè¯é€»è¾‘
}
```

### 6.5 æµ‹è¯•è¦†ç›–ç‡å’Œè´¨é‡


**æµ‹è¯•è¦†ç›–çš„åœºæ™¯**ï¼š
- âœ… **æ­£å¸¸æƒ…å†µ**ï¼šä¸šåŠ¡æµç¨‹æ­£å¸¸æ‰§è¡Œ
- âœ… **å¼‚å¸¸æƒ…å†µ**ï¼šå„ç§å¼‚å¸¸å’Œè¾¹ç•Œæ¡ä»¶
- âœ… **è¾¹ç•Œå€¼**ï¼šç©ºå€¼ã€æœ€å¤§å€¼ã€æœ€å°å€¼ç­‰
- âœ… **ä¸šåŠ¡è§„åˆ™**ï¼šå„ç§ä¸šåŠ¡é€»è¾‘åˆ†æ”¯

**æµ‹è¯•è´¨é‡æŒ‡æ ‡**ï¼š
- ğŸ¯ **ä»£ç è¦†ç›–ç‡**ï¼šè‡³å°‘80%ä»¥ä¸Š
- ğŸ¯ **åˆ†æ”¯è¦†ç›–ç‡**ï¼šä¸»è¦ä¸šåŠ¡åˆ†æ”¯éƒ½è¦è¦†ç›–
- ğŸ¯ **æµ‹è¯•é€Ÿåº¦**ï¼šå•ä¸ªæµ‹è¯•æ–¹æ³•åº”åœ¨æ¯«ç§’çº§
- ğŸ¯ **æµ‹è¯•ç‹¬ç«‹æ€§**ï¼šæµ‹è¯•ä¹‹é—´ä¸ç›¸äº’å½±å“

---

## 7. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 7.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ Serviceå±‚ä½œç”¨ï¼šå¤„ç†ä¸šåŠ¡é€»è¾‘ï¼Œåè°ƒå„å±‚æ“ä½œ
ğŸ”¸ å•ä¸€èŒè´£ï¼šä¸€ä¸ªServiceç±»åªå¤„ç†ä¸€ç±»ä¸šåŠ¡
ğŸ”¸ æ¥å£éš”ç¦»ï¼šæä¾›ä¸“é—¨çš„æ¥å£ï¼Œé¿å…å¤§è€Œå…¨
ğŸ”¸ ä¾èµ–å€’ç½®ï¼šä¾èµ–æ¥å£æŠ½è±¡ï¼Œä¸ä¾èµ–å…·ä½“å®ç°
ğŸ”¸ ä¸šåŠ¡å¯¹è±¡BOï¼šä¸“é—¨ç”¨äºä¸šåŠ¡å±‚çš„æ•°æ®å®¹å™¨
ğŸ”¸ æœåŠ¡è§£è€¦ï¼šå‡å°‘Serviceé—´ç›´æ¥ä¾èµ–
ğŸ”¸ å•å…ƒæµ‹è¯•ï¼šä½¿ç”¨MockéªŒè¯ä¸šåŠ¡é€»è¾‘
```

### 7.2 å…³é”®è®¾è®¡åŸåˆ™


**ğŸ”¹ Serviceå±‚è®¾è®¡åŸåˆ™**ï¼š
```
èŒè´£å•ä¸€ï¼šä¸€ä¸ªServiceåªç®¡ä¸€å—ä¸šåŠ¡
ä¾èµ–æŠ½è±¡ï¼šé€šè¿‡æ¥å£ä¾èµ–ï¼Œä¸ä¾èµ–å®ç°
æ¥å£ç»†åˆ†ï¼šæŒ‰ä½¿ç”¨åœºæ™¯è®¾è®¡ä¸åŒæ¥å£
äº‹åŠ¡æ§åˆ¶ï¼šåœ¨Serviceå±‚ç®¡ç†äº‹åŠ¡è¾¹ç•Œ
å¼‚å¸¸å¤„ç†ï¼šä¸šåŠ¡å¼‚å¸¸åœ¨Serviceå±‚å¤„ç†
```

**ğŸ”¹ ä»£ç è´¨é‡ä¿è¯**ï¼š
```
å•å…ƒæµ‹è¯•ï¼šæ¯ä¸ªä¸šåŠ¡æ–¹æ³•éƒ½è¦æœ‰æµ‹è¯•
Mockä¾èµ–ï¼šä½¿ç”¨Mockå¯¹è±¡éš”ç¦»å¤–éƒ¨ä¾èµ–
æµ‹è¯•è¦†ç›–ï¼šæ­£å¸¸æµç¨‹å’Œå¼‚å¸¸æµç¨‹éƒ½è¦æµ‹è¯•
æŒç»­é‡æ„ï¼šä¿æŒä»£ç ç®€æ´å’Œå¯è¯»æ€§
```

### 7.3 å®é™…é¡¹ç›®åº”ç”¨æŒ‡å¯¼


**ğŸ¯ Serviceå±‚å¼€å‘æ­¥éª¤**ï¼š
1. **åˆ†æä¸šåŠ¡**ï¼šç†è§£ä¸šåŠ¡éœ€æ±‚å’Œè§„åˆ™
2. **è®¾è®¡æ¥å£**ï¼šå®šä¹‰Serviceæ¥å£ï¼Œéµå¾ªå•ä¸€èŒè´£
3. **è®¾è®¡BO**ï¼šåˆ›å»ºä¸šåŠ¡å¯¹è±¡ï¼Œå°è£…ä¸šåŠ¡æ•°æ®
4. **å®ç°é€»è¾‘**ï¼šç¼–å†™ä¸šåŠ¡é€»è¾‘ï¼Œä¾èµ–æ¥å£æŠ½è±¡
5. **ç¼–å†™æµ‹è¯•**ï¼šä¸ºæ¯ä¸ªä¸šåŠ¡æ–¹æ³•ç¼–å†™å•å…ƒæµ‹è¯•
6. **é›†æˆè°ƒè¯•**ï¼šä¸Controllerå’ŒDAOå±‚é›†æˆæµ‹è¯•

**ğŸ¯ å¸¸è§é—®é¢˜é¿å…**ï¼š
- âŒ ä¸è¦åœ¨Serviceä¸­ç›´æ¥æ“ä½œHttpRequest/Response
- âŒ ä¸è¦åœ¨Serviceä¸­ç›´æ¥æ“ä½œæ•°æ®åº“è¿æ¥
- âŒ ä¸è¦è®©Serviceæ–¹æ³•è¿‡é•¿ï¼Œè¶…è¿‡50è¡Œè¦è€ƒè™‘æ‹†åˆ†
- âŒ ä¸è¦åœ¨Serviceä¸­å¤„ç†é¡µé¢å±•ç¤ºé€»è¾‘
- âŒ ä¸è¦å¿½ç•¥å¼‚å¸¸å¤„ç†å’Œæ—¥å¿—è®°å½•

**æ ¸å¿ƒè®°å¿†**ï¼š
- Serviceå±‚æ˜¯ä¸šåŠ¡é€»è¾‘çš„æ ¸å¿ƒï¼Œè¦ä¿æŒç®€æ´å’Œä¸“æ³¨
- éµå¾ªSOLIDåŸåˆ™ï¼Œç‰¹åˆ«æ˜¯å•ä¸€èŒè´£å’Œä¾èµ–å€’ç½®
- é€šè¿‡BOå¯¹è±¡å’Œæ¥å£è®¾è®¡å®ç°è‰¯å¥½çš„åˆ†å±‚æ¶æ„  
- å•å…ƒæµ‹è¯•æ˜¯ä¿è¯ä»£ç è´¨é‡çš„é‡è¦æ‰‹æ®µ
- è§£è€¦æ˜¯æé«˜ç³»ç»Ÿå¯ç»´æŠ¤æ€§çš„å…³é”®ç­–ç•¥