---
title: 4ã€JDBCä¸DAOå®ç°
---
## ğŸ“š ç›®å½•

1. [ä»€ä¹ˆæ˜¯DAOå±‚ï¼Ÿä¸ºä»€ä¹ˆéœ€è¦å®ƒï¼Ÿ](#1-ä»€ä¹ˆæ˜¯DAOå±‚ä¸ºä»€ä¹ˆéœ€è¦å®ƒ)
2. [JDBCåŸºç¡€æ¦‚å¿µä¸å·¥ä½œåŸç†](#2-JDBCåŸºç¡€æ¦‚å¿µä¸å·¥ä½œåŸç†)
3. [JDBCæ ¸å¿ƒAPIè¯¦è§£](#3-JDBCæ ¸å¿ƒAPIè¯¦è§£)
4. [DAOè®¾è®¡æ¨¡å¼å®ç°](#4-DAOè®¾è®¡æ¨¡å¼å®ç°)
5. [è¿æ¥æ± ä¸èµ„æºç®¡ç†](#5-è¿æ¥æ± ä¸èµ„æºç®¡ç†)
6. [æœ€ä½³å®è·µä¸å¸¸è§é—®é¢˜](#6-æœ€ä½³å®è·µä¸å¸¸è§é—®é¢˜)
7. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#7-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ—ƒï¸ ä»€ä¹ˆæ˜¯DAOå±‚ï¼Ÿä¸ºä»€ä¹ˆéœ€è¦å®ƒï¼Ÿ


### 1.1 DAOçš„åŸºæœ¬æ¦‚å¿µ


**ğŸ”¸ DAOæ˜¯ä»€ä¹ˆï¼Ÿ**
```
DAO = Data Access Objectï¼ˆæ•°æ®è®¿é—®å¯¹è±¡ï¼‰
ç®€å•ç†è§£ï¼šä¸“é—¨è´Ÿè´£ä¸æ•°æ®åº“æ‰“äº¤é“çš„"ç®¡å®¶"
```

**ğŸ’­ ä¸ºä»€ä¹ˆå«"ç®¡å®¶"ï¼Ÿ**
- å°±åƒå®¶é‡Œçš„ç®¡å®¶è´Ÿè´£ç®¡ç†å„ç§äº‹åŠ¡ä¸€æ ·
- DAOè´Ÿè´£ç®¡ç†æ‰€æœ‰ä¸æ•°æ®åº“ç›¸å…³çš„æ“ä½œ
- å…¶ä»–éƒ¨åˆ†ä¸ç”¨å…³å¿ƒæ•°æ®åº“çš„å…·ä½“ç»†èŠ‚

**ğŸ  æ—¥å¸¸ç”Ÿæ´»ç±»æ¯”**
```
æ²¡æœ‰DAOçš„æƒ…å†µï¼š
ä½ æƒ³åƒé¥­ â†’ è‡ªå·±ä¹°èœ â†’ è‡ªå·±åšé¥­ â†’ è‡ªå·±æ´—ç¢—
ä½ æƒ³å–æ°´ â†’ è‡ªå·±çƒ§æ°´ â†’ è‡ªå·±å€’æ°´ â†’ è‡ªå·±æ´—æ¯å­

æœ‰DAOçš„æƒ…å†µï¼š
ä½ æƒ³åƒé¥­ â†’ å‘Šè¯‰ç®¡å®¶"æˆ‘è¦åƒé¥­" â†’ ç®¡å®¶æå®šä¸€åˆ‡
ä½ æƒ³å–æ°´ â†’ å‘Šè¯‰ç®¡å®¶"æˆ‘è¦å–æ°´" â†’ ç®¡å®¶æå®šä¸€åˆ‡
```

### 1.2 DAOåœ¨ä¸‰å±‚æ¶æ„ä¸­çš„ä½ç½®


**ğŸ—ï¸ ä¸‰å±‚æ¶æ„ç¤ºæ„å›¾**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     è¡¨ç°å±‚ï¼ˆServletï¼‰        â”‚ â† å¤„ç†ç”¨æˆ·è¯·æ±‚
â”‚     "æœåŠ¡å‘˜"                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚     ä¸šåŠ¡é€»è¾‘å±‚ï¼ˆServiceï¼‰    â”‚ â† å¤„ç†ä¸šåŠ¡è§„åˆ™
â”‚     "å¨å¸ˆ"                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚     æ•°æ®è®¿é—®å±‚ï¼ˆDAOï¼‰        â”‚ â† æ“ä½œæ•°æ®åº“
â”‚     "ä»“åº“ç®¡ç†å‘˜"            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        æ•°æ®åº“              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ğŸ¯ å„å±‚èŒè´£**
- **è¡¨ç°å±‚**ï¼š"`è€æ¿ï¼Œæˆ‘è¦ä¸€ä»½å®«ä¿é¸¡ä¸`"
- **ä¸šåŠ¡å±‚**ï¼š"`æ£€æŸ¥åº“å­˜ï¼Œè®¡ç®—ä»·æ ¼ï¼Œå‡†å¤‡åˆ¶ä½œ`"
- **DAOå±‚**ï¼š"`ä»æ•°æ®åº“å–å‡ºé¸¡è‚‰ã€èŠ±ç”Ÿç­‰åŸæ–™ä¿¡æ¯`"

### 1.3 ä¸ºä»€ä¹ˆéœ€è¦DAOå±‚ï¼Ÿ


**âŒ æ²¡æœ‰DAOå±‚çš„é—®é¢˜**
```java
// åœ¨Servletä¸­ç›´æ¥å†™æ•°æ®åº“ä»£ç ï¼ˆä¸å¥½çš„åšæ³•ï¼‰
public class UserServlet extends HttpServlet {
    protected void doPost(HttpServletRequest request, HttpServletResponse response) {
        // è·å–å‚æ•°
        String username = request.getParameter("username");
        
        // ç›´æ¥åœ¨è¿™é‡Œå†™æ•°æ®åº“ä»£ç 
        Connection conn = null;
        PreparedStatement pstmt = null;
        try {
            conn = DriverManager.getConnection("jdbc:mysql://localhost:3306/mydb", "root", "123456");
            pstmt = conn.prepareStatement("SELECT * FROM user WHERE username = ?");
            pstmt.setString(1, username);
            // ... ä¸€å¤§å †æ•°æ®åº“æ“ä½œä»£ç 
        } catch (SQLException e) {
            e.printStackTrace();
        }
        // é—®é¢˜ï¼šä»£ç æ··ä¹±ï¼Œéš¾ä»¥ç»´æŠ¤ï¼Œé‡å¤ä»£ç å¤š
    }
}
```

**âœ… æœ‰DAOå±‚çš„ä¼˜ç‚¹**
- **ğŸ”§ ä»£ç æ•´æ´**ï¼šæ¯å±‚åšè‡ªå·±çš„äº‹
- **ğŸ”„ æ˜“äºç»´æŠ¤**ï¼šä¿®æ”¹æ•°æ®åº“æ“ä½œåªéœ€æ”¹DAOå±‚
- **â™»ï¸ ä»£ç å¤ç”¨**ï¼šåŒä¸€ä¸ªDAOå¯ä»¥è¢«å¤šä¸ªServiceä½¿ç”¨
- **ğŸ§ª ä¾¿äºæµ‹è¯•**ï¼šå¯ä»¥å•ç‹¬æµ‹è¯•DAOå±‚
- **ğŸ”€ æ˜“äºæ›¿æ¢**ï¼šå¯ä»¥ä»MySQLæ¢åˆ°Oracleè€Œä¸å½±å“å…¶ä»–å±‚

---

## 2. ğŸ”— JDBCåŸºç¡€æ¦‚å¿µä¸å·¥ä½œåŸç†


### 2.1 JDBCæ˜¯ä»€ä¹ˆï¼Ÿ


**ğŸ”¸ JDBCå…¨ç§°ä¸ä½œç”¨**
```
JDBC = Java Database Connectivity
ä¸­æ–‡ï¼šJavaæ•°æ®åº“è¿æ¥
ä½œç”¨ï¼šè®©Javaç¨‹åºèƒ½å¤Ÿä¸å„ç§æ•°æ®åº“è¿›è¡Œäº¤æµ
```

**ğŸŒ‰ JDBCçš„æ¡¥æ¢ä½œç”¨**
```
Javaç¨‹åº â†â†’ JDBC â†â†’ æ•°æ®åº“é©±åŠ¨ â†â†’ å…·ä½“æ•°æ®åº“

å°±åƒç¿»è¯‘å®˜ï¼š
ä¸­å›½äºº â†â†’ ç¿»è¯‘å®˜ â†â†’ å¤–å›½äºº
Java  â†â†’  JDBC  â†â†’  MySQL/Oracle
```

### 2.2 JDBCå·¥ä½œåŸç†


**ğŸ“‹ JDBCæ“ä½œæ•°æ®åº“çš„åŸºæœ¬æ­¥éª¤**
```
1ï¸âƒ£ åŠ è½½é©±åŠ¨        â†’ å‡†å¤‡"ç¿»è¯‘å®˜"
2ï¸âƒ£ å»ºç«‹è¿æ¥        â†’ æ‰“ç”µè¯ç»™æ•°æ®åº“
3ï¸âƒ£ åˆ›å»ºè¯­å¥å¯¹è±¡    â†’ å‡†å¤‡è¦è¯´çš„è¯
4ï¸âƒ£ æ‰§è¡ŒSQLè¯­å¥     â†’ è¯´è¯ï¼ˆå‘é€å‘½ä»¤ï¼‰
5ï¸âƒ£ å¤„ç†ç»“æœ        â†’ å¬å›å¤
6ï¸âƒ£ å…³é—­èµ„æº        â†’ æŒ‚ç”µè¯
```

**ğŸ”„ å·¥ä½œæµç¨‹å›¾**
```
Javaç¨‹åº              JDBC                 æ•°æ®åº“
   |                   |                    |
   |--[1]åŠ è½½é©±åŠ¨------>|                    |
   |                   |                    |
   |--[2]è¯·æ±‚è¿æ¥------>|--[2]å»ºç«‹è¿æ¥----->|
   |                   |<---[ç¡®è®¤è¿æ¥]------|
   |                   |                    |
   |--[3]å‘é€SQL------->|--[3]æ‰§è¡ŒSQL------>|
   |                   |<---[4]è¿”å›ç»“æœ-----|
   |<--[4]å¤„ç†ç»“æœ------|                    |
   |                   |                    |
   |--[5]å…³é—­è¿æ¥------>|--[5]æ–­å¼€è¿æ¥----->|
```

### 2.3 JDBCé©±åŠ¨ç±»å‹


**ğŸš— å››ç§é©±åŠ¨ç±»å‹ï¼ˆäº†è§£å³å¯ï¼‰**

| ç±»å‹ | åç§° | æè¿° | ä½¿ç”¨åœºæ™¯ |
|------|------|------|----------|
| **Type 1** | `JDBC-ODBCæ¡¥æ¥` | é€šè¿‡ODBCè®¿é—®æ•°æ®åº“ | åŸºæœ¬ä¸ç”¨ |
| **Type 2** | `æœ¬åœ°APIé©±åŠ¨` | éƒ¨åˆ†Java+éƒ¨åˆ†æœ¬åœ°ä»£ç  | ç‰¹æ®Šéœ€æ±‚ |
| **Type 3** | `ç½‘ç»œåè®®é©±åŠ¨` | çº¯Javaï¼Œé€šè¿‡ä¸­é—´ä»¶ | ä¼ä¸šåº”ç”¨ |
| **Type 4** | `æœ¬åœ°åè®®é©±åŠ¨` | çº¯Javaï¼Œç›´è¿æ•°æ®åº“ | **æœ€å¸¸ç”¨** â­ |

**ğŸ’¡ æ–°æ‰‹åªéœ€è®°ä½**ï¼šæˆ‘ä»¬ç”¨çš„MySQLé©±åŠ¨å°±æ˜¯Type 4ï¼Œçº¯Javaç¼–å†™ï¼Œç›´æ¥è¿æ¥æ•°æ®åº“ã€‚

---

## 3. ğŸ› ï¸ JDBCæ ¸å¿ƒAPIè¯¦è§£


### 3.1 æ ¸å¿ƒæ¥å£æ¦‚è§ˆ


**ğŸ“Š JDBCæ ¸å¿ƒæ¥å£å…³ç³»**
```
DriverManagerï¼ˆé©±åŠ¨ç®¡ç†å™¨ï¼‰
    â†“ è·å–è¿æ¥
Connectionï¼ˆæ•°æ®åº“è¿æ¥ï¼‰
    â†“ åˆ›å»ºè¯­å¥
Statement/PreparedStatementï¼ˆSQLè¯­å¥æ‰§è¡Œå™¨ï¼‰
    â†“ æ‰§è¡ŒæŸ¥è¯¢
ResultSetï¼ˆç»“æœé›†ï¼‰
```

### 3.2 DriverManager - é©±åŠ¨ç®¡ç†å™¨


**ğŸ”¸ ä¸»è¦ä½œç”¨**ï¼šç®¡ç†æ•°æ®åº“é©±åŠ¨ï¼Œè·å–æ•°æ®åº“è¿æ¥

```java
// 1. åŠ è½½é©±åŠ¨ï¼ˆç°åœ¨å¯ä»¥çœç•¥ï¼Œä¼šè‡ªåŠ¨åŠ è½½ï¼‰
Class.forName("com.mysql.cj.jdbc.Driver");

// 2. è·å–è¿æ¥
Connection conn = DriverManager.getConnection(
    "jdbc:mysql://localhost:3306/mydb?useSSL=false&serverTimezone=UTC",
    "root", 
    "123456"
);
```

**ğŸ”— è¿æ¥URLè¯¦è§£**
```
jdbc:mysql://localhost:3306/mydb?useSSL=false&serverTimezone=UTC
  â”‚     â”‚        â”‚        â”‚    â”‚       â”‚
  â”‚     â”‚        â”‚        â”‚    â”‚       â””â”€â”€ æ—¶åŒºè®¾ç½®
  â”‚     â”‚        â”‚        â”‚    â””â”€â”€ æ•°æ®åº“å
  â”‚     â”‚        â”‚        â””â”€â”€ ç«¯å£å·
  â”‚     â”‚        â””â”€â”€ ä¸»æœºåœ°å€
  â”‚     â””â”€â”€ æ•°æ®åº“ç±»å‹
  â””â”€â”€ åè®®
```

### 3.3 Connection - æ•°æ®åº“è¿æ¥


**ğŸ”¸ Connectionçš„ä½œç”¨**ï¼šä»£è¡¨ä¸æ•°æ®åº“çš„ä¸€ä¸ªè¿æ¥ä¼šè¯

**âš¡ ä¸»è¦æ–¹æ³•**
```java
Connection conn = DriverManager.getConnection(...);

// åˆ›å»ºè¯­å¥å¯¹è±¡
Statement stmt = conn.createStatement();
PreparedStatement pstmt = conn.prepareStatement("SELECT * FROM user WHERE id = ?");

// äº‹åŠ¡æ§åˆ¶
conn.setAutoCommit(false);  // å…³é—­è‡ªåŠ¨æäº¤
conn.commit();              // æäº¤äº‹åŠ¡
conn.rollback();            // å›æ»šäº‹åŠ¡

// å…³é—­è¿æ¥
conn.close();
```

**ğŸ’­ Connectionå°±åƒç”µè¯çº¿**
- å»ºç«‹è¿æ¥ = æ‹¨é€šç”µè¯
- ä½¿ç”¨è¿æ¥ = é€šè¯è¿‡ç¨‹
- å…³é—­è¿æ¥ = æŒ‚æ–­ç”µè¯

### 3.4 Statement vs PreparedStatement


**ğŸ“‹ ä¸¤ç§è¯­å¥å¯¹è±¡å¯¹æ¯”**

| ç‰¹æ€§ | **Statement** | **PreparedStatement** |
|------|--------------|---------------------|
| **SQLç¼–å†™** | å­—ç¬¦ä¸²æ‹¼æ¥ | å‚æ•°å ä½ç¬¦ |
| **æ€§èƒ½** | æ¯æ¬¡ç¼–è¯‘ | é¢„ç¼–è¯‘ï¼Œæ€§èƒ½æ›´å¥½ |
| **å®‰å…¨æ€§** | å®¹æ˜“SQLæ³¨å…¥ | é˜²æ­¢SQLæ³¨å…¥ âœ… |
| **ä½¿ç”¨éš¾åº¦** | ç®€å• | ç¨å¤æ‚ä½†æ›´å®‰å…¨ |
| **æ¨èç¨‹åº¦** | ä¸æ¨è | **å¼ºçƒˆæ¨è** â­ |

**âŒ Statementçš„é—®é¢˜ï¼ˆä¸å®‰å…¨ï¼‰**
```java
// å±é™©çš„åšæ³• - å®¹æ˜“SQLæ³¨å…¥
String sql = "SELECT * FROM user WHERE username = '" + username + "'";
Statement stmt = conn.createStatement();
ResultSet rs = stmt.executeQuery(sql);

// å¦‚æœusername = "admin'; DROP TABLE user; --"
// æœ€ç»ˆSQLï¼šSELECT * FROM user WHERE username = 'admin'; DROP TABLE user; --'
// ç»“æœï¼šç”¨æˆ·è¡¨è¢«åˆ é™¤ï¼ï¼ï¼
```

**âœ… PreparedStatementçš„ä¼˜åŠ¿ï¼ˆå®‰å…¨ï¼‰**
```java
// å®‰å…¨çš„åšæ³•
String sql = "SELECT * FROM user WHERE username = ?";
PreparedStatement pstmt = conn.prepareStatement(sql);
pstmt.setString(1, username);  // å‚æ•°ä¼šè¢«è‡ªåŠ¨è½¬ä¹‰
ResultSet rs = pstmt.executeQuery();
```

### 3.5 ResultSet - ç»“æœé›†


**ğŸ”¸ ResultSetçš„ä½œç”¨**ï¼šå°è£…æŸ¥è¯¢ç»“æœï¼Œæä¾›éå†å’Œå–å€¼æ–¹æ³•

**ğŸ“ ResultSetçš„æ¸¸æ ‡æ¦‚å¿µ**
```
æŸ¥è¯¢ç»“æœï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     id     â”‚ username â”‚  email  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚     1      â”‚   admin  â”‚ a@qq.comâ”‚  â† cursoræŒ‡å‘è¿™é‡Œ
â”‚     2      â”‚   user1  â”‚ b@qq.comâ”‚
â”‚     3      â”‚   user2  â”‚ c@qq.comâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

cursorï¼ˆæ¸¸æ ‡ï¼‰ï¼šå°±åƒè¯»ä¹¦æ—¶çš„ä¹¦ç­¾ï¼Œæ ‡è®°å½“å‰è¯»åˆ°å“ªä¸€è¡Œ
```

**âš¡ ResultSetå¸¸ç”¨æ–¹æ³•**
```java
ResultSet rs = pstmt.executeQuery();

// ç§»åŠ¨æ¸¸æ ‡
boolean hasNext = rs.next();        // ç§»åŠ¨åˆ°ä¸‹ä¸€è¡Œï¼Œè¿”å›æ˜¯å¦æœ‰æ•°æ®
rs.previous();                      // ç§»åŠ¨åˆ°ä¸Šä¸€è¡Œ
rs.first();                        // ç§»åŠ¨åˆ°ç¬¬ä¸€è¡Œ
rs.last();                         // ç§»åŠ¨åˆ°æœ€åä¸€è¡Œ

// æŒ‰åˆ—åè·å–æ•°æ®ï¼ˆæ¨èï¼‰
int id = rs.getInt("id");
String username = rs.getString("username");
String email = rs.getString("email");

// æŒ‰åˆ—ç´¢å¼•è·å–æ•°æ®ï¼ˆä¸æ¨èï¼Œä¸ç›´è§‚ï¼‰
int id = rs.getInt(1);              // ç¬¬1åˆ—
String username = rs.getString(2);   // ç¬¬2åˆ—
```

**ğŸ”„ å…¸å‹çš„ResultSetéå†æ¨¡å¼**
```java
while (rs.next()) {
    // å¤„ç†æ¯ä¸€è¡Œæ•°æ®
    int id = rs.getInt("id");
    String username = rs.getString("username");
    String email = rs.getString("email");
    
    System.out.println("ç”¨æˆ·ï¼š" + username + "ï¼Œé‚®ç®±ï¼š" + email);
}
```

---

## 4. ğŸ—ï¸ DAOè®¾è®¡æ¨¡å¼å®ç°


### 4.1 DAOè®¾è®¡æ¨¡å¼çš„åŸºæœ¬ç»“æ„


**ğŸ”¸ DAOæ¨¡å¼åŒ…å«çš„è§’è‰²**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   å®ä½“ç±»Bean     â”‚ â† å¯¹åº”æ•°æ®åº“è¡¨çš„Javaå¯¹è±¡
â”‚   (User.java)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†•ï¸
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   DAOæ¥å£       â”‚ â† å®šä¹‰æ•°æ®æ“ä½œæ–¹æ³•
â”‚ (UserDAO.java)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†•ï¸
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   DAOå®ç°ç±»     â”‚ â† å…·ä½“çš„æ•°æ®åº“æ“ä½œå®ç°
â”‚(UserDAOImpl.java)â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 å®ä½“ç±»ï¼ˆBeanï¼‰è®¾è®¡


**ğŸ“‹ Userå®ä½“ç±»ç¤ºä¾‹**
```java
/**
 * ç”¨æˆ·å®ä½“ç±» - å¯¹åº”æ•°æ®åº“ä¸­çš„userè¡¨
 * è¿™ä¸ªç±»å°±åƒä¸€ä¸ª"æ•°æ®å®¹å™¨"ï¼Œå­˜æ”¾ç”¨æˆ·ä¿¡æ¯
 */
public class User {
    private Integer id;       // ç”¨æˆ·ID
    private String username;  // ç”¨æˆ·å
    private String email;     // é‚®ç®±
    private String password;  // å¯†ç 
    
    // æ— å‚æ„é€ æ–¹æ³•ï¼ˆå¿…é¡»æœ‰ï¼‰
    public User() {}
    
    // æœ‰å‚æ„é€ æ–¹æ³•ï¼ˆå¯é€‰ï¼‰
    public User(String username, String email, String password) {
        this.username = username;
        this.email = email;
        this.password = password;
    }
    
    // getterå’Œsetteræ–¹æ³•ï¼ˆå¿…é¡»æœ‰ï¼‰
    public Integer getId() { return id; }
    public void setId(Integer id) { this.id = id; }
    
    public String getUsername() { return username; }
    public void setUsername(String username) { this.username = username; }
    
    public String getEmail() { return email; }
    public void setEmail(String email) { this.email = email; }
    
    public String getPassword() { return password; }
    public void setPassword(String password) { this.password = password; }
    
    // toStringæ–¹æ³•ï¼ˆä¾¿äºè°ƒè¯•ï¼‰
    @Override
    public String toString() {
        return "User{id=" + id + ", username='" + username + 
               "', email='" + email + "'}";
    }
}
```

**ğŸ’¡ å®ä½“ç±»è®¾è®¡è¦ç‚¹**
- **å±æ€§ç§æœ‰**ï¼šä½¿ç”¨`private`ä¿®é¥°
- **æä¾›getter/setter**ï¼šå¤–éƒ¨é€šè¿‡æ–¹æ³•è®¿é—®å±æ€§
- **æ— å‚æ„é€ **ï¼šæ¡†æ¶éœ€è¦ç”¨åˆ°
- **toStringæ–¹æ³•**ï¼šæ–¹ä¾¿è°ƒè¯•è¾“å‡º

### 4.3 DAOæ¥å£è®¾è®¡


**ğŸ”¸ UserDAOæ¥å£**
```java
import java.util.List;

/**
 * ç”¨æˆ·DAOæ¥å£ - å®šä¹‰ç”¨æˆ·ç›¸å…³çš„æ•°æ®æ“ä½œ
 * æ¥å£åªå®šä¹‰æ–¹æ³•ï¼Œä¸å®ç°å…·ä½“é€»è¾‘
 */
public interface UserDAO {
    
    /**
     * å¢åŠ ç”¨æˆ·
     * @param user ç”¨æˆ·å¯¹è±¡
     * @return æ˜¯å¦æˆåŠŸ
     */
    boolean addUser(User user);
    
    /**
     * æ ¹æ®IDåˆ é™¤ç”¨æˆ·
     * @param id ç”¨æˆ·ID
     * @return æ˜¯å¦æˆåŠŸ
     */
    boolean deleteUser(Integer id);
    
    /**
     * æ›´æ–°ç”¨æˆ·ä¿¡æ¯
     * @param user ç”¨æˆ·å¯¹è±¡
     * @return æ˜¯å¦æˆåŠŸ
     */
    boolean updateUser(User user);
    
    /**
     * æ ¹æ®IDæŸ¥è¯¢ç”¨æˆ·
     * @param id ç”¨æˆ·ID
     * @return ç”¨æˆ·å¯¹è±¡ï¼Œæ²¡æ‰¾åˆ°è¿”å›null
     */
    User findUserById(Integer id);
    
    /**
     * æ ¹æ®ç”¨æˆ·åæŸ¥è¯¢ç”¨æˆ·
     * @param username ç”¨æˆ·å
     * @return ç”¨æˆ·å¯¹è±¡ï¼Œæ²¡æ‰¾åˆ°è¿”å›null
     */
    User findUserByUsername(String username);
    
    /**
     * æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·
     * @return ç”¨æˆ·åˆ—è¡¨
     */
    List<User> findAllUsers();
}
```

**ğŸ¯ æ¥å£è®¾è®¡åŸåˆ™**
- **æ–¹æ³•å‘½åæ¸…æ™°**ï¼š`add`ã€`delete`ã€`update`ã€`find`
- **å‚æ•°åˆç†**ï¼šéœ€è¦ä»€ä¹ˆå‚æ•°å°±ä¼ ä»€ä¹ˆ
- **è¿”å›å€¼æ˜ç¡®**ï¼šæˆåŠŸè¿”å›booleanï¼ŒæŸ¥è¯¢è¿”å›å¯¹è±¡æˆ–åˆ—è¡¨

### 4.4 DAOå®ç°ç±»è®¾è®¡


**ğŸ”¸ UserDAOImplå®ç°ç±»ï¼ˆæ ¸å¿ƒï¼‰**
```java
import java.sql.*;
import java.util.ArrayList;
import java.util.List;

/**
 * ç”¨æˆ·DAOå®ç°ç±» - å…·ä½“çš„æ•°æ®åº“æ“ä½œå®ç°
 */
public class UserDAOImpl implements UserDAO {
    
    // æ•°æ®åº“é…ç½®å¸¸é‡
    private static final String URL = "jdbc:mysql://localhost:3306/mydb?useSSL=false&serverTimezone=UTC";
    private static final String USERNAME = "root";
    private static final String PASSWORD = "123456";
    
    /**
     * è·å–æ•°æ®åº“è¿æ¥çš„ç§æœ‰æ–¹æ³•
     */
    private Connection getConnection() throws SQLException {
        return DriverManager.getConnection(URL, USERNAME, PASSWORD);
    }
    
    @Override
    public boolean addUser(User user) {
        String sql = "INSERT INTO user(username, email, password) VALUES(?, ?, ?)";
        
        try (Connection conn = getConnection();
             PreparedStatement pstmt = conn.prepareStatement(sql)) {
            
            // è®¾ç½®å‚æ•°
            pstmt.setString(1, user.getUsername());
            pstmt.setString(2, user.getEmail());
            pstmt.setString(3, user.getPassword());
            
            // æ‰§è¡Œæ’å…¥
            int rows = pstmt.executeUpdate();
            return rows > 0;  // å½±å“è¡Œæ•°å¤§äº0è¯´æ˜æˆåŠŸ
            
        } catch (SQLException e) {
            e.printStackTrace();
            return false;
        }
    }
    
    @Override
    public boolean deleteUser(Integer id) {
        String sql = "DELETE FROM user WHERE id = ?";
        
        try (Connection conn = getConnection();
             PreparedStatement pstmt = conn.prepareStatement(sql)) {
            
            pstmt.setInt(1, id);
            int rows = pstmt.executeUpdate();
            return rows > 0;
            
        } catch (SQLException e) {
            e.printStackTrace();
            return false;
        }
    }
    
    @Override
    public User findUserById(Integer id) {
        String sql = "SELECT * FROM user WHERE id = ?";
        
        try (Connection conn = getConnection();
             PreparedStatement pstmt = conn.prepareStatement(sql)) {
            
            pstmt.setInt(1, id);
            ResultSet rs = pstmt.executeQuery();
            
            if (rs.next()) {
                // ä»ç»“æœé›†ä¸­åˆ›å»ºUserå¯¹è±¡
                User user = new User();
                user.setId(rs.getInt("id"));
                user.setUsername(rs.getString("username"));
                user.setEmail(rs.getString("email"));
                user.setPassword(rs.getString("password"));
                return user;
            }
            
        } catch (SQLException e) {
            e.printStackTrace();
        }
        
        return null;  // æ²¡æ‰¾åˆ°è¿”å›null
    }
    
    @Override
    public List<User> findAllUsers() {
        String sql = "SELECT * FROM user ORDER BY id";
        List<User> userList = new ArrayList<>();
        
        try (Connection conn = getConnection();
             PreparedStatement pstmt = conn.prepareStatement(sql);
             ResultSet rs = pstmt.executeQuery()) {
            
            // éå†æ‰€æœ‰ç»“æœ
            while (rs.next()) {
                User user = new User();
                user.setId(rs.getInt("id"));
                user.setUsername(rs.getString("username"));
                user.setEmail(rs.getString("email"));
                user.setPassword(rs.getString("password"));
                userList.add(user);
            }
            
        } catch (SQLException e) {
            e.printStackTrace();
        }
        
        return userList;
    }
    
    // ... å…¶ä»–æ–¹æ³•çš„å®ç°
}
```

**ğŸ”‘ å®ç°ç±»å…³é”®ç‚¹**
- **try-with-resources**ï¼šè‡ªåŠ¨å…³é—­èµ„æºï¼Œé˜²æ­¢å†…å­˜æ³„æ¼
- **å¼‚å¸¸å¤„ç†**ï¼šæ•è·SQLExceptionå¹¶è¿”å›åˆç†çš„é»˜è®¤å€¼
- **SQLå®‰å…¨**ï¼šä½¿ç”¨PreparedStatementé˜²æ­¢SQLæ³¨å…¥
- **å¯¹è±¡æ˜ å°„**ï¼šå°†ResultSetè½¬æ¢ä¸ºJavaå¯¹è±¡

---

## 5. ğŸŠ è¿æ¥æ± ä¸èµ„æºç®¡ç†


### 5.1 ä¸ºä»€ä¹ˆéœ€è¦è¿æ¥æ± ï¼Ÿ


**âŒ æ²¡æœ‰è¿æ¥æ± çš„é—®é¢˜**
```
ç”¨æˆ·è¯·æ±‚1 â†’ åˆ›å»ºè¿æ¥ â†’ ä½¿ç”¨ â†’ å…³é—­è¿æ¥
ç”¨æˆ·è¯·æ±‚2 â†’ åˆ›å»ºè¿æ¥ â†’ ä½¿ç”¨ â†’ å…³é—­è¿æ¥  
ç”¨æˆ·è¯·æ±‚3 â†’ åˆ›å»ºè¿æ¥ â†’ ä½¿ç”¨ â†’ å…³é—­è¿æ¥
...

é—®é¢˜ï¼š
- åˆ›å»ºè¿æ¥å¾ˆè€—æ—¶ï¼ˆéœ€è¦ç½‘ç»œé€šä¿¡ã€èº«ä»½éªŒè¯ç­‰ï¼‰
- é¢‘ç¹åˆ›å»ºå…³é—­è¿æ¥æ¶ˆè€—ç³»ç»Ÿèµ„æº
- æ•°æ®åº“è¿æ¥æ•°æœ‰é™ï¼Œå¯èƒ½è¢«è€—å°½
```

**âœ… æœ‰è¿æ¥æ± çš„ä¼˜åŠ¿**
```
è¿æ¥æ± ï¼š[è¿æ¥1][è¿æ¥2][è¿æ¥3][è¿æ¥4]...[è¿æ¥N]
         â†‘å¯ç”¨   â†‘ä½¿ç”¨ä¸­ â†‘å¯ç”¨   â†‘å¯ç”¨

ç”¨æˆ·è¯·æ±‚1 â†’ ä»æ± ä¸­å€Ÿä¸€ä¸ªè¿æ¥ â†’ ä½¿ç”¨ â†’ è¿˜å›æ± ä¸­
ç”¨æˆ·è¯·æ±‚2 â†’ ä»æ± ä¸­å€Ÿä¸€ä¸ªè¿æ¥ â†’ ä½¿ç”¨ â†’ è¿˜å›æ± ä¸­
ç”¨æˆ·è¯·æ±‚3 â†’ å¤ç”¨ä¹‹å‰çš„è¿æ¥...

ä¼˜åŠ¿ï¼š
ğŸš€ å“åº”é€Ÿåº¦å¿« - ä¸ç”¨æ¯æ¬¡åˆ›å»ºè¿æ¥
ğŸ’° èŠ‚çœèµ„æº - è¿æ¥å¤ç”¨
ğŸ›¡ï¸ æ§åˆ¶è¿æ¥æ•° - é˜²æ­¢æ•°æ®åº“è¿‡è½½
```

### 5.2 C3P0è¿æ¥æ± ä½¿ç”¨


**ğŸ“¦ æ·»åŠ C3P0ä¾èµ–**
```xml
<dependency>
    <groupId>com.mchange</groupId>
    <artifactId>c3p0</artifactId>
    <version>0.9.5.5</version>
</dependency>
```

**âš™ï¸ è¿æ¥æ± é…ç½®æ–‡ä»¶ï¼ˆc3p0-config.xmlï¼‰**
```xml
<?xml version="1.0" encoding="UTF-8"?>
<c3p0-config>
    <default-config>
        <!-- æ•°æ®åº“è¿æ¥ä¿¡æ¯ -->
        <property name="driverClass">com.mysql.cj.jdbc.Driver</property>
        <property name="jdbcUrl">jdbc:mysql://localhost:3306/mydb</property>
        <property name="user">root</property>
        <property name="password">123456</property>
        
        <!-- è¿æ¥æ± é…ç½® -->
        <property name="initialPoolSize">5</property>     <!-- åˆå§‹è¿æ¥æ•° -->
        <property name="maxPoolSize">20</property>        <!-- æœ€å¤§è¿æ¥æ•° -->
        <property name="minPoolSize">3</property>         <!-- æœ€å°è¿æ¥æ•° -->
        <property name="acquireIncrement">2</property>    <!-- æ¯æ¬¡å¢åŠ è¿æ¥æ•° -->
        <property name="maxIdleTime">30000</property>     <!-- æœ€å¤§ç©ºé—²æ—¶é—´ -->
    </default-config>
</c3p0-config>
```

**ğŸ”§ æ•°æ®åº“å·¥å…·ç±»**
```java
import com.mchange.v2.c3p0.ComboPooledDataSource;
import javax.sql.DataSource;
import java.sql.Connection;
import java.sql.SQLException;

/**
 * æ•°æ®åº“å·¥å…·ç±» - ä½¿ç”¨è¿æ¥æ± ç®¡ç†è¿æ¥
 */
public class DBUtil {
    private static DataSource dataSource;
    
    // é™æ€ä»£ç å—ï¼Œç¨‹åºå¯åŠ¨æ—¶æ‰§è¡Œä¸€æ¬¡
    static {
        // åˆ›å»ºè¿æ¥æ± ï¼Œä¼šè‡ªåŠ¨è¯»å–é…ç½®æ–‡ä»¶
        dataSource = new ComboPooledDataSource();
    }
    
    /**
     * è·å–æ•°æ®åº“è¿æ¥
     */
    public static Connection getConnection() throws SQLException {
        return dataSource.getConnection();
    }
    
    /**
     * å…³é—­èµ„æº
     */
    public static void closeResources(Connection conn, PreparedStatement pstmt, ResultSet rs) {
        if (rs != null) {
            try { rs.close(); } catch (SQLException e) { e.printStackTrace(); }
        }
        if (pstmt != null) {
            try { pstmt.close(); } catch (SQLException e) { e.printStackTrace(); }
        }
        if (conn != null) {
            try { conn.close(); } catch (SQLException e) { e.printStackTrace(); }
        }
    }
}
```

**ğŸ”„ æ”¹è¿›åçš„DAOå®ç°**
```java
@Override
public boolean addUser(User user) {
    String sql = "INSERT INTO user(username, email, password) VALUES(?, ?, ?)";
    
    // ä½¿ç”¨è¿æ¥æ± è·å–è¿æ¥
    try (Connection conn = DBUtil.getConnection();
         PreparedStatement pstmt = conn.prepareStatement(sql)) {
        
        pstmt.setString(1, user.getUsername());
        pstmt.setString(2, user.getEmail());
        pstmt.setString(3, user.getPassword());
        
        int rows = pstmt.executeUpdate();
        return rows > 0;
        
    } catch (SQLException e) {
        e.printStackTrace();
        return false;
    }
}
```

---

## 6. ğŸ¯ æœ€ä½³å®è·µä¸å¸¸è§é—®é¢˜


### 6.1 èµ„æºç®¡ç†æœ€ä½³å®è·µ


**âœ… æ­£ç¡®çš„èµ„æºå…³é—­æ–¹å¼**
```java
// æ–¹å¼1ï¼štry-with-resourcesï¼ˆæ¨èï¼‰
try (Connection conn = DBUtil.getConnection();
     PreparedStatement pstmt = conn.prepareStatement(sql);
     ResultSet rs = pstmt.executeQuery()) {
    
    // ä½¿ç”¨èµ„æº
    
} // è‡ªåŠ¨å…³é—­ï¼Œå³ä½¿å‘ç”Ÿå¼‚å¸¸ä¹Ÿä¼šå…³é—­

// æ–¹å¼2ï¼šæ‰‹åŠ¨å…³é—­ï¼ˆä¸æ¨èï¼Œä½†è¦äº†è§£ï¼‰
Connection conn = null;
PreparedStatement pstmt = null;
ResultSet rs = null;

try {
    conn = DBUtil.getConnection();
    // ... ä½¿ç”¨èµ„æº
} catch (SQLException e) {
    e.printStackTrace();
} finally {
    // æŒ‰ç…§ç›¸åçš„é¡ºåºå…³é—­
    if (rs != null) try { rs.close(); } catch (SQLException e) {}
    if (pstmt != null) try { pstmt.close(); } catch (SQLException e) {}
    if (conn != null) try { conn.close(); } catch (SQLException e) {}
}
```

### 6.2 å¸¸è§é”™è¯¯ä¸è§£å†³æ–¹æ¡ˆ


**âŒ å¸¸è§é”™è¯¯1ï¼šå¿˜è®°å…³é—­èµ„æº**
```java
// é”™è¯¯çš„åšæ³•
public List<User> findAllUsers() {
    Connection conn = DBUtil.getConnection();
    PreparedStatement pstmt = conn.prepareStatement("SELECT * FROM user");
    ResultSet rs = pstmt.executeQuery();
    
    List<User> users = new ArrayList<>();
    while (rs.next()) {
        // å¤„ç†æ•°æ®...
    }
    
    return users;  // å¿˜è®°å…³é—­connã€pstmtã€rsï¼ï¼ï¼
}
```

**âœ… è§£å†³æ–¹æ¡ˆ**ï¼šä½¿ç”¨try-with-resources

**âŒ å¸¸è§é”™è¯¯2ï¼šSQLæ³¨å…¥**
```java
// å±é™©çš„åšæ³•
public User login(String username, String password) {
    String sql = "SELECT * FROM user WHERE username='" + username + 
                "' AND password='" + password + "'";
    // å¦‚æœusername = "admin'; --"ï¼Œä¼šç»•è¿‡å¯†ç æ£€æŸ¥
}
```

**âœ… è§£å†³æ–¹æ¡ˆ**ï¼šä½¿ç”¨PreparedStatement

**âŒ å¸¸è§é”™è¯¯3ï¼šæ²¡æœ‰å¤„ç†nullå€¼**
```java
// å¯èƒ½å‡ºé”™çš„åšæ³•
public boolean updateUser(User user) {
    String sql = "UPDATE user SET username=?, email=? WHERE id=?";
    pstmt.setString(1, user.getUsername());  // å¦‚æœgetUsername()è¿”å›nullä¼šæ€æ ·ï¼Ÿ
    pstmt.setString(2, user.getEmail());
    pstmt.setInt(3, user.getId());
}
```

**âœ… è§£å†³æ–¹æ¡ˆ**ï¼šæ·»åŠ nullå€¼æ£€æŸ¥

### 6.3 äº‹åŠ¡å¤„ç†


**ğŸ”„ äº‹åŠ¡çš„ACIDç‰¹æ€§**
- **A**tomicityï¼ˆåŸå­æ€§ï¼‰ï¼šè¦ä¹ˆå…¨åšï¼Œè¦ä¹ˆå…¨ä¸åš
- **C**onsistencyï¼ˆä¸€è‡´æ€§ï¼‰ï¼šæ•°æ®ä¿æŒä¸€è‡´çŠ¶æ€
- **I**solationï¼ˆéš”ç¦»æ€§ï¼‰ï¼šå¹¶å‘äº‹åŠ¡äº’ä¸å¹²æ‰°
- **D**urabilityï¼ˆæŒä¹…æ€§ï¼‰ï¼šæäº¤åæ°¸ä¹…ä¿å­˜

**ğŸ’° è½¬è´¦ä¸šåŠ¡ç¤ºä¾‹**
```java
/**
 * è½¬è´¦ä¸šåŠ¡ - éœ€è¦äº‹åŠ¡ä¿è¯
 */
public boolean transfer(Integer fromUserId, Integer toUserId, Double amount) {
    Connection conn = null;
    
    try {
        conn = DBUtil.getConnection();
        conn.setAutoCommit(false);  // å…³é—­è‡ªåŠ¨æäº¤
        
        // ç¬¬1æ­¥ï¼šæ‰£é™¤è½¬å‡ºç”¨æˆ·ä½™é¢
        String sql1 = "UPDATE account SET balance = balance - ? WHERE user_id = ?";
        try (PreparedStatement pstmt1 = conn.prepareStatement(sql1)) {
            pstmt1.setDouble(1, amount);
            pstmt1.setInt(2, fromUserId);
            pstmt1.executeUpdate();
        }
        
        // ç¬¬2æ­¥ï¼šå¢åŠ è½¬å…¥ç”¨æˆ·ä½™é¢
        String sql2 = "UPDATE account SET balance = balance + ? WHERE user_id = ?";
        try (PreparedStatement pstmt2 = conn.prepareStatement(sql2)) {
            pstmt2.setDouble(1, amount);
            pstmt2.setInt(2, toUserId);
            pstmt2.executeUpdate();
        }
        
        conn.commit();  // ä¸¤æ­¥éƒ½æˆåŠŸï¼Œæäº¤äº‹åŠ¡
        return true;
        
    } catch (SQLException e) {
        if (conn != null) {
            try {
                conn.rollback();  // å‘ç”Ÿå¼‚å¸¸ï¼Œå›æ»šäº‹åŠ¡
            } catch (SQLException rollbackEx) {
                rollbackEx.printStackTrace();
            }
        }
        e.printStackTrace();
        return false;
        
    } finally {
        if (conn != null) {
            try {
                conn.setAutoCommit(true);  // æ¢å¤è‡ªåŠ¨æäº¤
                conn.close();
            } catch (SQLException e) {
                e.printStackTrace();
            }
        }
    }
}
```

---

## 7. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 7.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ DAOå±‚ä½œç”¨ï¼šä¸“é—¨è´Ÿè´£æ•°æ®åº“æ“ä½œçš„"ç®¡å®¶"
ğŸ”¸ JDBCå·¥ä½œæµç¨‹ï¼šåŠ è½½é©±åŠ¨â†’å»ºç«‹è¿æ¥â†’æ‰§è¡ŒSQLâ†’å¤„ç†ç»“æœâ†’å…³é—­èµ„æº
ğŸ”¸ æ ¸å¿ƒAPIï¼šDriverManagerã€Connectionã€PreparedStatementã€ResultSet
ğŸ”¸ DAOè®¾è®¡æ¨¡å¼ï¼šå®ä½“ç±»Bean + DAOæ¥å£ + DAOå®ç°ç±»
ğŸ”¸ è¿æ¥æ± æ„ä¹‰ï¼šæé«˜æ€§èƒ½ï¼ŒèŠ‚çœèµ„æºï¼Œæ§åˆ¶è¿æ¥æ•°
ğŸ”¸ èµ„æºç®¡ç†ï¼šå¿…é¡»æ­£ç¡®å…³é—­èµ„æºï¼Œæ¨ètry-with-resources
```

### 7.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ ä¸ºä»€ä¹ˆéœ€è¦åˆ†å±‚ï¼Ÿ**
```
åˆ†å·¥æ˜ç¡®ï¼šæ¯å±‚åšè‡ªå·±æ“…é•¿çš„äº‹
æ˜“äºç»´æŠ¤ï¼šä¿®æ”¹æŸå±‚ä¸å½±å“å…¶ä»–å±‚
ä»£ç å¤ç”¨ï¼šåŒä¸€ä¸ªDAOå¯ä»¥è¢«å¤šä¸ªServiceä½¿ç”¨
ä¾¿äºæµ‹è¯•ï¼šå¯ä»¥å•ç‹¬æµ‹è¯•æ¯ä¸€å±‚
```

**ğŸ”¹ PreparedStatement vs Statement**
```
PreparedStatementä¼˜åŠ¿ï¼š
âœ… é˜²æ­¢SQLæ³¨å…¥ï¼ˆæœ€é‡è¦ï¼‰
âœ… æ€§èƒ½æ›´å¥½ï¼ˆé¢„ç¼–è¯‘ï¼‰
âœ… ä»£ç æ›´æ¸…æ™°ï¼ˆå‚æ•°å ä½ç¬¦ï¼‰
```

**ğŸ”¹ è¿æ¥æ± çš„ä»·å€¼**
```
ä¼ ç»Ÿæ–¹å¼ï¼šæ¯æ¬¡è¯·æ±‚éƒ½è¦"å¼€é—¨â†’åŠäº‹â†’å…³é—¨"
è¿æ¥æ± æ–¹å¼ï¼šé—¨ä¸€ç›´å¼€ç€ï¼ŒåŠäº‹æ›´é«˜æ•ˆ
```

### 7.3 å®é™…åº”ç”¨ä»·å€¼


**ğŸ¯ åœ¨å®é™…é¡¹ç›®ä¸­çš„åº”ç”¨**
- **ç”¨æˆ·ç®¡ç†ç³»ç»Ÿ**ï¼šå¢åˆ æ”¹æŸ¥ç”¨æˆ·ä¿¡æ¯
- **å•†å“ç®¡ç†ç³»ç»Ÿ**ï¼šç®¡ç†å•†å“åº“å­˜å’Œä¿¡æ¯
- **è®¢å•å¤„ç†ç³»ç»Ÿ**ï¼šè®¢å•çš„åˆ›å»ºã€æŸ¥è¯¢ã€æ›´æ–°
- **æƒé™ç®¡ç†ç³»ç»Ÿ**ï¼šç”¨æˆ·è§’è‰²å’Œæƒé™çš„ç®¡ç†

**ğŸ”§ å¼€å‘å®è·µå»ºè®®**
- **å…ˆå†™æ¥å£å†å®ç°**ï¼šç¡®ä¿è®¾è®¡åˆç†
- **ç»Ÿä¸€å¼‚å¸¸å¤„ç†**ï¼šä¸è¦åœ¨DAOå±‚å¤„ç†ä¸šåŠ¡å¼‚å¸¸
- **åˆç†ä½¿ç”¨äº‹åŠ¡**ï¼šæ¶‰åŠå¤šè¡¨æ“ä½œæ—¶è€ƒè™‘äº‹åŠ¡
- **æ€§èƒ½ä¼˜åŒ–**ï¼šä½¿ç”¨è¿æ¥æ± ï¼Œåˆç†è®¾è®¡ç´¢å¼•

### 7.4 å­¦ä¹ è·¯å¾„å»ºè®®


**ğŸ“š å­¦ä¹ é¡ºåº**
```
ç¬¬1æ­¥ï¼šç†è§£JDBCåŸºæœ¬æ¦‚å¿µå’ŒAPI
ç¬¬2æ­¥ï¼šç»ƒä¹ åŸºæœ¬çš„CRUDæ“ä½œ  
ç¬¬3æ­¥ï¼šæŒæ¡DAOè®¾è®¡æ¨¡å¼
ç¬¬4æ­¥ï¼šå­¦ä¹ è¿æ¥æ± ä½¿ç”¨
ç¬¬5æ­¥ï¼šäº†è§£äº‹åŠ¡å¤„ç†
ç¬¬6æ­¥ï¼šç»¼åˆé¡¹ç›®ç»ƒä¹ 
```

**ğŸ’¡ å­¦ä¹ å»ºè®®**
- **å¤šåŠ¨æ‰‹ç»ƒä¹ **ï¼šç†è®ºç»“åˆå®è·µ
- **æ¨¡ä»¿ä¼˜ç§€ä»£ç **ï¼šå­¦ä¹ æ ‡å‡†çš„DAOå®ç°
- **æ³¨æ„å¼‚å¸¸å¤„ç†**ï¼šå…»æˆè‰¯å¥½çš„ç¼–ç¨‹ä¹ æƒ¯
- **å…³æ³¨æ€§èƒ½ä¼˜åŒ–**ï¼šäº†è§£SQLä¼˜åŒ–åŸºç¡€

**æ ¸å¿ƒè®°å¿†å£è¯€**ï¼š
- DAOä¸“ç®¡æ•°æ®åº“ï¼Œåˆ†å±‚è®¾è®¡æ›´æ¸…æ™°
- JDBCå››æ­¥è¦è®°ç‰¢ï¼Œè¿æ¥è¯­å¥ç»“æœå…³
- PreparedStatementé˜²æ³¨å…¥ï¼Œè¿æ¥æ± é‡Œæ€§èƒ½é«˜
- èµ„æºå…³é—­å¾ˆé‡è¦ï¼Œäº‹åŠ¡å¤„ç†ä¿ä¸€è‡´