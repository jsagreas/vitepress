---
title: 3ã€DAOæ¥å£è®¾è®¡è§„èŒƒ
---
## ğŸ“š ç›®å½•

1. [DAOæ¥å£åŸºæœ¬æ¦‚å¿µ](#1-DAOæ¥å£åŸºæœ¬æ¦‚å¿µ)
2. [å¢åˆ æ”¹æŸ¥æ–¹æ³•è®¾è®¡](#2-å¢åˆ æ”¹æŸ¥æ–¹æ³•è®¾è®¡)
3. [æ–¹æ³•å‘½åè§„èŒƒè¯¦è§£](#3-æ–¹æ³•å‘½åè§„èŒƒè¯¦è§£)
4. [å‚æ•°è®¾è®¡åŸåˆ™](#4-å‚æ•°è®¾è®¡åŸåˆ™)
5. [è¿”å›å€¼è®¾è®¡ç­–ç•¥](#5-è¿”å›å€¼è®¾è®¡ç­–ç•¥)
6. [å¼‚å¸¸å£°æ˜ä¸å¤„ç†](#6-å¼‚å¸¸å£°æ˜ä¸å¤„ç†)
7. [å®Œæ•´è®¾è®¡ç¤ºä¾‹](#7-å®Œæ•´è®¾è®¡ç¤ºä¾‹)
8. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#8-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ—‚ï¸ DAOæ¥å£åŸºæœ¬æ¦‚å¿µ


### 1.1 ä»€ä¹ˆæ˜¯DAOæ¥å£


**é€šä¿—ç†è§£**ï¼šDAOæ¥å£å°±åƒæ˜¯ä¸€ä»½"æ•°æ®åº“æ“ä½œè¯´æ˜ä¹¦"ï¼Œå®ƒè§„å®šäº†æˆ‘ä»¬è¦å¯¹æ•°æ®åº“è¿›è¡Œå“ªäº›æ“ä½œï¼Œä½†ä¸å…·ä½“è¯´æ˜æ€ä¹ˆæ“ä½œã€‚

```
ç°å®ç”Ÿæ´»ç±»æ¯”ï¼š
é¤å…èœå•ï¼ˆæ¥å£ï¼‰ vs å¨å¸ˆåšèœï¼ˆå®ç°ç±»ï¼‰

èœå•ä¸Šå†™ç€ï¼š
- å®«ä¿é¸¡ä¸
- çº¢çƒ§è‚‰  
- è›‹ç‚’é¥­

ä½†èœå•ä¸ä¼šå‘Šè¯‰ä½ å…·ä½“æ€ä¹ˆåšè¿™äº›èœï¼Œå…·ä½“åšæ³•ç”±å¨å¸ˆï¼ˆå®ç°ç±»ï¼‰æ¥å®Œæˆ
```

**DAOæ¥å£çš„ä½œç”¨**ï¼š
- **è§„èŒƒç»Ÿä¸€**ï¼šæ‰€æœ‰å®ç°ç±»å¿…é¡»æŒ‰ç…§æ¥å£è§„å®šçš„æ–¹æ³•æ¥æ“ä½œ
- **è§£è€¦åˆ**ï¼šè°ƒç”¨è€…ä¸éœ€è¦å…³å¿ƒå…·ä½“æ€ä¹ˆæ“ä½œæ•°æ®åº“
- **å¯æ›¿æ¢**ï¼šå¯ä»¥è½»æ¾åˆ‡æ¢ä¸åŒçš„æ•°æ®åº“å®ç°æ–¹å¼

### 1.2 DAOåœ¨ä¸‰å±‚æ¶æ„ä¸­çš„ä½ç½®


```
å®¢æˆ·ç«¯è¯·æ±‚
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ§åˆ¶å™¨å±‚    â”‚ â† å¤„ç†ç”¨æˆ·è¯·æ±‚
â”‚(Controller) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ä¸šåŠ¡é€»è¾‘å±‚  â”‚ â† å¤„ç†ä¸šåŠ¡è§„åˆ™
â”‚(Service)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ•°æ®è®¿é—®å±‚  â”‚ â† DAOæ¥å£åœ¨è¿™é‡Œï¼
â”‚(DAO)        â”‚ â† è´Ÿè´£æ•°æ®åº“æ“ä½œ
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
   æ•°æ®åº“
```

### 1.3 æ¥å£ vs å®ç°ç±»çš„å…³ç³»


**æ¥å£å®šä¹‰**ï¼šè§„å®šè¦åšä»€ä¹ˆäº‹æƒ…
```java
// ç”¨æˆ·æ•°æ®è®¿é—®æ¥å£ï¼ˆåªå®šä¹‰æ–¹æ³•ï¼Œä¸å®ç°ï¼‰
public interface UserDao {
    void save(User user);           // è¦èƒ½ä¿å­˜ç”¨æˆ·
    User findById(int id);          // è¦èƒ½æ ¹æ®IDæŸ¥æ‰¾ç”¨æˆ·
    List<User> findAll();           // è¦èƒ½æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·
    void update(User user);         // è¦èƒ½æ›´æ–°ç”¨æˆ·ä¿¡æ¯
    void delete(int id);            // è¦èƒ½åˆ é™¤ç”¨æˆ·
}
```

**å®ç°ç±»**ï¼šå…·ä½“æ€ä¹ˆåšè¿™äº›äº‹æƒ…
```java
// ç”¨JDBCæ–¹å¼å®ç°ç”¨æˆ·æ•°æ®è®¿é—®
public class UserDaoJdbcImpl implements UserDao {
    // å…·ä½“ç”¨JDBCçš„æ–¹å¼æ¥ä¿å­˜ç”¨æˆ·
    public void save(User user) {
        // è¿™é‡Œå†™å…·ä½“çš„JDBCä»£ç ...
    }
    
    // å…·ä½“ç”¨JDBCçš„æ–¹å¼æ¥æŸ¥æ‰¾ç”¨æˆ·
    public User findById(int id) {
        // è¿™é‡Œå†™å…·ä½“çš„JDBCä»£ç ...
        return user;
    }
    // ... å…¶ä»–æ–¹æ³•çš„å…·ä½“å®ç°
}
```

---

## 2. âœï¸ å¢åˆ æ”¹æŸ¥æ–¹æ³•è®¾è®¡


### 2.1 åŸºç¡€CRUDæ–¹æ³•æ¦‚è§ˆ


**CRUDæ˜¯ä»€ä¹ˆ**ï¼Ÿ
- **C**reateï¼ˆå¢ï¼‰ï¼šå¾€æ•°æ®åº“é‡Œæ·»åŠ æ–°æ•°æ®
- **R**eadï¼ˆæŸ¥ï¼‰ï¼šä»æ•°æ®åº“é‡Œè¯»å–æ•°æ®
- **U**pdateï¼ˆæ”¹ï¼‰ï¼šä¿®æ”¹æ•°æ®åº“é‡Œå·²æœ‰çš„æ•°æ®
- **D**eleteï¼ˆåˆ ï¼‰ï¼šä»æ•°æ®åº“é‡Œåˆ é™¤æ•°æ®

### 2.2 å¢åŠ æ“ä½œï¼ˆCreateï¼‰è®¾è®¡


**æ ¸å¿ƒåŸåˆ™**ï¼šæ–°å¢æ“ä½œè¦è€ƒè™‘å„ç§ä¸åŒçš„ä½¿ç”¨åœºæ™¯

```java
public interface UserDao {
    // 1. åŸºç¡€æ–°å¢ï¼šä¿å­˜ä¸€ä¸ªç”¨æˆ·
    void save(User user);
    
    // 2. å¸¦è¿”å›å€¼çš„æ–°å¢ï¼šè¿”å›æ–°å¢åçš„å®Œæ•´ç”¨æˆ·ä¿¡æ¯ï¼ˆåŒ…å«è‡ªåŠ¨ç”Ÿæˆçš„IDï¼‰
    User insert(User user);
    
    // 3. æ‰¹é‡æ–°å¢ï¼šä¸€æ¬¡ä¿å­˜å¤šä¸ªç”¨æˆ·ï¼ˆæé«˜æ•ˆç‡ï¼‰
    int batchSave(List<User> users);  // è¿”å›å®é™…ä¿å­˜çš„æ•°é‡
    
    // 4. æ¡ä»¶æ–°å¢ï¼šå¦‚æœä¸å­˜åœ¨æ‰æ–°å¢
    boolean saveIfNotExists(User user);
}
```

**è®¾è®¡è€ƒè™‘**ï¼š
- **save()** - æœ€ç®€å•çš„ä¿å­˜ï¼Œé€‚åˆå¤§éƒ¨åˆ†åœºæ™¯
- **insert()** - éœ€è¦è·å–æ–°å¢åIDçš„åœºæ™¯ï¼ˆæ¯”å¦‚æ–°å¢ç”¨æˆ·åè¦æ˜¾ç¤ºç”¨æˆ·ç¼–å·ï¼‰
- **batchSave()** - å¤§é‡æ•°æ®å¯¼å…¥çš„åœºæ™¯
- **saveIfNotExists()** - é¿å…é‡å¤æ•°æ®çš„åœºæ™¯

### 2.3 æŸ¥è¯¢æ“ä½œï¼ˆReadï¼‰è®¾è®¡


**æŸ¥è¯¢æ˜¯ä½¿ç”¨æœ€é¢‘ç¹çš„æ“ä½œ**ï¼Œéœ€è¦è€ƒè™‘å„ç§æŸ¥è¯¢éœ€æ±‚ï¼š

```java
public interface UserDao {
    // 1. ä¸»é”®æŸ¥è¯¢ï¼šæ ¹æ®IDç²¾ç¡®æŸ¥æ‰¾
    User findById(Integer id);
    
    // 2. æŸ¥è¯¢æ‰€æœ‰ï¼šè·å–å…¨éƒ¨æ•°æ®
    List<User> findAll();
    
    // 3. æ¡ä»¶æŸ¥è¯¢ï¼šæ ¹æ®ç”¨æˆ·åæŸ¥æ‰¾
    User findByUsername(String username);
    
    // 4. æ¨¡ç³ŠæŸ¥è¯¢ï¼šæ ¹æ®å§“åæ¨¡ç³ŠæŸ¥æ‰¾
    List<User> findByNameLike(String name);
    
    // 5. åˆ†é¡µæŸ¥è¯¢ï¼šåˆ†é¡µè·å–æ•°æ®ï¼ˆæ€§èƒ½è€ƒè™‘ï¼‰
    List<User> findByPage(int pageNum, int pageSize);
    
    // 6. ç»Ÿè®¡æŸ¥è¯¢ï¼šè·å–æ€»æ•°é‡
    int count();
    
    // 7. å­˜åœ¨æ€§æ£€æŸ¥ï¼šæ£€æŸ¥æ˜¯å¦å­˜åœ¨
    boolean existsById(Integer id);
    boolean existsByUsername(String username);
}
```

**æŸ¥è¯¢æ–¹æ³•å‘½åè§„å¾‹**ï¼š
- `findBy...` - æŸ¥è¯¢å¹¶è¿”å›å…·ä½“å¯¹è±¡
- `existsBy...` - åªæ£€æŸ¥æ˜¯å¦å­˜åœ¨ï¼Œè¿”å›true/false
- `countBy...` - ç»Ÿè®¡æ•°é‡ï¼Œè¿”å›æ•°å­—

### 2.4 ä¿®æ”¹æ“ä½œï¼ˆUpdateï¼‰è®¾è®¡


**ä¿®æ”¹æ“ä½œè¦è€ƒè™‘ä¸åŒçš„æ›´æ–°éœ€æ±‚**ï¼š

```java
public interface UserDao {
    // 1. å…¨é‡æ›´æ–°ï¼šæ›´æ–°æ‰€æœ‰å­—æ®µ
    int update(User user);
    
    // 2. é€‰æ‹©æ€§æ›´æ–°ï¼šåªæ›´æ–°éç©ºå­—æ®µ
    int updateSelective(User user);
    
    // 3. æŒ‡å®šå­—æ®µæ›´æ–°ï¼šåªæ›´æ–°ç‰¹å®šå­—æ®µ
    int updatePassword(Integer id, String newPassword);
    int updateStatus(Integer id, Integer status);
    
    // 4. æ‰¹é‡æ›´æ–°ï¼šä¸€æ¬¡æ›´æ–°å¤šæ¡è®°å½•
    int batchUpdate(List<User> users);
    
    // 5. æ¡ä»¶æ›´æ–°ï¼šæŒ‰æ¡ä»¶æ‰¹é‡æ›´æ–°
    int updateStatusByRole(String role, Integer newStatus);
}
```

**è¿”å›å€¼è¯´æ˜**ï¼š
- è¿”å› `int` è¡¨ç¤ºå®é™…æ›´æ–°çš„è®°å½•æ•°
- å¦‚æœè¿”å›0ï¼Œè¯´æ˜æ²¡æœ‰è®°å½•è¢«æ›´æ–°ï¼ˆå¯èƒ½IDä¸å­˜åœ¨ï¼‰
- å¦‚æœè¿”å›å¤§äº0ï¼Œè¯´æ˜æ›´æ–°æˆåŠŸ

### 2.5 åˆ é™¤æ“ä½œï¼ˆDeleteï¼‰è®¾è®¡


**åˆ é™¤æ“ä½œéœ€è¦è€ƒè™‘å®‰å…¨æ€§å’Œä¸åŒçš„åˆ é™¤æ–¹å¼**ï¼š

```java
public interface UserDao {
    // 1. ä¸»é”®åˆ é™¤ï¼šæ ¹æ®IDåˆ é™¤
    int deleteById(Integer id);
    
    // 2. æ‰¹é‡åˆ é™¤ï¼šæ ¹æ®IDåˆ—è¡¨æ‰¹é‡åˆ é™¤
    int deleteByIds(List<Integer> ids);
    
    // 3. æ¡ä»¶åˆ é™¤ï¼šæ ¹æ®æ¡ä»¶åˆ é™¤ï¼ˆè°¨æ…ä½¿ç”¨ï¼‰
    int deleteByStatus(Integer status);
    
    // 4. é€»è¾‘åˆ é™¤ï¼šä¸çœŸæ­£åˆ é™¤ï¼Œåªæ ‡è®°ä¸ºå·²åˆ é™¤
    int markAsDeleted(Integer id);
    
    // 5. æ¸…ç©ºæ‰€æœ‰ï¼ˆå±é™©æ“ä½œï¼Œä¸€èˆ¬ä¸æä¾›ï¼‰
    // int deleteAll();  // æ³¨é‡Šæ‰ï¼Œé˜²æ­¢è¯¯ç”¨
}
```

**åˆ é™¤è®¾è®¡åŸåˆ™**ï¼š
- **ç‰©ç†åˆ é™¤**ï¼šçœŸæ­£ä»æ•°æ®åº“ä¸­åˆ é™¤è®°å½•
- **é€»è¾‘åˆ é™¤**ï¼šåªä¿®æ”¹çŠ¶æ€å­—æ®µï¼Œè®°å½•è¿˜åœ¨ä½†æ ‡è®°ä¸º"å·²åˆ é™¤"
- **æ‰¹é‡åˆ é™¤**ï¼šä¸€æ¬¡åˆ é™¤å¤šæ¡è®°å½•ï¼Œæé«˜æ•ˆç‡
- **å±é™©æ“ä½œ**ï¼šæ¸…ç©ºæ‰€æœ‰æ•°æ®çš„æ–¹æ³•ä¸€èˆ¬ä¸æä¾›ï¼Œæˆ–éœ€è¦ç‰¹æ®Šæƒé™

---

## 3. ğŸ“ æ–¹æ³•å‘½åè§„èŒƒè¯¦è§£


### 3.1 åŠ¨è¯é€‰æ‹©è§„èŒƒ


**åŠ¨è¯ä½¿ç”¨è¦å‡†ç¡®è¡¨è¾¾æ“ä½œæ„å›¾**ï¼š

| åŠ¨è¯ç±»å‹ | **æ¨èåŠ¨è¯** | **ä½¿ç”¨åœºæ™¯** | **ç¤ºä¾‹** |
|---------|------------|------------|---------|
| ğŸ“ **å¢åŠ æ“ä½œ** | `save`, `insert`, `add` | `save`ï¼šé€šç”¨ä¿å­˜<br>`insert`ï¼šå¼ºè°ƒæ’å…¥<br>`add`ï¼šæ·»åŠ åˆ°é›†åˆ | `save(user)`<br>`insert(user)`<br>`addToGroup(userId, groupId)` |
| ğŸ” **æŸ¥è¯¢æ“ä½œ** | `find`, `get`, `select` | `find`ï¼šæŸ¥æ‰¾ï¼ˆå¯èƒ½ä¸ºç©ºï¼‰<br>`get`ï¼šè·å–ï¼ˆé€šå¸¸ä¸ä¸ºç©ºï¼‰<br>`select`ï¼šSQLé£æ ¼ | `findById(id)`<br>`getUserInfo(id)`<br>`selectActiveUsers()` |
| âœï¸ **ä¿®æ”¹æ“ä½œ** | `update`, `modify`, `change` | `update`ï¼šæ ‡å‡†æ›´æ–°<br>`modify`ï¼šä¿®æ”¹<br>`change`ï¼šæ”¹å˜çŠ¶æ€ | `update(user)`<br>`modifyPassword(id, pwd)`<br>`changeStatus(id, status)` |
| ğŸ—‘ï¸ **åˆ é™¤æ“ä½œ** | `delete`, `remove`, `drop` | `delete`ï¼šåˆ é™¤è®°å½•<br>`remove`ï¼šç§»é™¤å…³è”<br>`drop`ï¼šåˆ é™¤ç»“æ„ | `deleteById(id)`<br>`removeFromGroup(userId)`<br>`dropTable()` |

### 3.2 ä»‹è¯ä½¿ç”¨è§„èŒƒ


**ç”¨ä»‹è¯æ˜ç¡®è¡¨è¾¾æŸ¥è¯¢æ¡ä»¶**ï¼š

```java
public interface UserDao {
    // By - æ ¹æ®æŸä¸ªæ¡ä»¶
    User findByUsername(String username);
    List<User> findByAge(Integer age);
    User findByEmail(String email);
    
    // Like - æ¨¡ç³ŠæŸ¥è¯¢
    List<User> findByNameLike(String name);        // å§“ååŒ…å«
    List<User> findByEmailLike(String email);      // é‚®ç®±åŒ…å«
    
    // Between - èŒƒå›´æŸ¥è¯¢
    List<User> findByAgeBetween(Integer minAge, Integer maxAge);
    List<User> findByCreateTimeBetween(Date startTime, Date endTime);
    
    // In - åœ¨æŒ‡å®šå€¼ä¸­
    List<User> findByIdIn(List<Integer> ids);
    List<User> findByStatusIn(List<Integer> statusList);
    
    // GreaterThan/LessThan - å¤§äº/å°äº
    List<User> findByAgeGreaterThan(Integer age);
    List<User> findByAgeLessThan(Integer age);
}
```

### 3.3 å¤åˆæ¡ä»¶å‘½å


**å¤šä¸ªæ¡ä»¶ç»„åˆæ—¶çš„å‘½åè§„èŒƒ**ï¼š

```java
public interface UserDao {
    // And - ä¸”æ¡ä»¶ï¼ˆæ‰€æœ‰æ¡ä»¶éƒ½è¦æ»¡è¶³ï¼‰
    User findByUsernameAndPassword(String username, String password);
    List<User> findByStatusAndAgeGreaterThan(Integer status, Integer age);
    
    // Or - æˆ–æ¡ä»¶ï¼ˆæ»¡è¶³å…¶ä¸­ä¸€ä¸ªæ¡ä»¶å³å¯ï¼‰
    List<User> findByUsernameOrEmail(String username, String email);
    List<User> findByPhoneOrEmail(String phone, String email);
    
    // å¤æ‚æ¡ä»¶ç»„åˆ
    List<User> findByStatusAndCreateTimeBetween(
        Integer status, Date startTime, Date endTime
    );
}
```

### 3.4 ç‰¹æ®Šæ–¹æ³•å‘½å


**ä¸€äº›ç‰¹æ®Šç”¨é€”çš„æ–¹æ³•å‘½åè§„èŒƒ**ï¼š

```java
public interface UserDao {
    // å­˜åœ¨æ€§æ£€æŸ¥ï¼šexistså¼€å¤´
    boolean existsByUsername(String username);
    boolean existsByEmail(String email);
    boolean existsByPhone(String phone);
    
    // è®¡æ•°ç»Ÿè®¡ï¼šcountå¼€å¤´
    int count();                                    // æ€»æ•°
    int countByStatus(Integer status);              // æŒ‰çŠ¶æ€ç»Ÿè®¡
    int countByAgeGreaterThan(Integer age);         // æŒ‰å¹´é¾„ç»Ÿè®¡
    
    // æ‰¹é‡æ“ä½œï¼šbatchå¼€å¤´
    int batchSave(List<User> users);
    int batchUpdate(List<User> users);
    int batchDelete(List<Integer> ids);
    
    // é€»è¾‘åˆ é™¤ï¼šmarkå¼€å¤´
    int markAsDeleted(Integer id);
    int markAsActive(Integer id);
}
```

---

## 4. ğŸ¯ å‚æ•°è®¾è®¡åŸåˆ™


### 4.1 å‚æ•°ç±»å‹é€‰æ‹©


**é€‰æ‹©åˆé€‚çš„å‚æ•°ç±»å‹èƒ½è®©æ–¹æ³•æ›´å¥½ç”¨**ï¼š

```java
public interface UserDao {
    // âœ… å¥½çš„å‚æ•°è®¾è®¡
    User findById(Integer id);              // ä½¿ç”¨åŒ…è£…ç±»å‹ï¼Œå¯ä»¥ä¸ºnull
    List<User> findByIds(List<Integer> ids); // ä½¿ç”¨é›†åˆç±»å‹
    User findByUser(User userCondition);     // ä½¿ç”¨å¯¹è±¡å°è£…å¤šä¸ªæ¡ä»¶
    
    // âŒ ä¸æ¨èçš„å‚æ•°è®¾è®¡  
    User findById(int id);                   // åŸºæœ¬ç±»å‹ä¸èƒ½ä¸ºnullï¼Œé™åˆ¶äº†ä½¿ç”¨
    User findByIds(Integer[] ids);           // æ•°ç»„ä¸å¦‚é›†åˆçµæ´»
    User findByMultiCondition(String name, Integer age, String email, 
                              Integer status, Date createTime); // å‚æ•°å¤ªå¤šï¼Œéš¾ä»¥ä½¿ç”¨
}
```

### 4.2 å‚æ•°é¡ºåºè®¾è®¡


**å‚æ•°é¡ºåºè¦ç¬¦åˆä½¿ç”¨ä¹ æƒ¯**ï¼š

```java
public interface UserDao {
    // âœ… æ¨èçš„å‚æ•°é¡ºåºï¼šä¸»è¦å‚æ•°åœ¨å‰ï¼Œæ¬¡è¦å‚æ•°åœ¨å
    List<User> findByPage(int pageNum, int pageSize);           // åˆ†é¡µå‚æ•°
    List<User> findByStatusAndPage(Integer status, int pageNum, int pageSize);
    
    // æ›´æ–°æ“ä½œï¼šä¸»é”®å‚æ•°é€šå¸¸æ”¾åœ¨å‰é¢
    int updatePassword(Integer id, String newPassword);
    int updateUserInfo(Integer id, String name, String email);
    
    // æ—¶é—´èŒƒå›´æŸ¥è¯¢ï¼šå¼€å§‹æ—¶é—´åœ¨å‰ï¼Œç»“æŸæ—¶é—´åœ¨å
    List<User> findByCreateTimeBetween(Date startTime, Date endTime);
}
```

### 4.3 å¯é€‰å‚æ•°å¤„ç†


**å½“æ–¹æ³•æœ‰å¤šä¸ªå¯é€‰å‚æ•°æ—¶çš„è®¾è®¡ç­–ç•¥**ï¼š

**æ–¹æ¡ˆä¸€ï¼šæ–¹æ³•é‡è½½**
```java
public interface UserDao {
    // åŸºç¡€æŸ¥è¯¢
    List<User> findUsers();
    
    // æŒ‰çŠ¶æ€æŸ¥è¯¢
    List<User> findUsers(Integer status);
    
    // æŒ‰çŠ¶æ€å’Œå¹´é¾„æŸ¥è¯¢
    List<User> findUsers(Integer status, Integer age);
    
    // åˆ†é¡µæŸ¥è¯¢
    List<User> findUsers(int pageNum, int pageSize);
    
    // æŒ‰çŠ¶æ€åˆ†é¡µæŸ¥è¯¢
    List<User> findUsers(Integer status, int pageNum, int pageSize);
}
```

**æ–¹æ¡ˆäºŒï¼šæ¡ä»¶å¯¹è±¡å°è£…**
```java
// åˆ›å»ºæŸ¥è¯¢æ¡ä»¶ç±»
public class UserQueryCondition {
    private String username;
    private Integer status;
    private Integer minAge;
    private Integer maxAge;
    private Date startTime;
    private Date endTime;
    private Integer pageNum;
    private Integer pageSize;
    
    // getterå’Œsetteræ–¹æ³•...
}

public interface UserDao {
    // ä½¿ç”¨æ¡ä»¶å¯¹è±¡ï¼Œçµæ´»æ€§æ›´å¥½
    List<User> findUsers(UserQueryCondition condition);
}
```

### 4.4 å‚æ•°éªŒè¯è€ƒè™‘


**åœ¨æ¥å£ä¸­é€šè¿‡æ–¹æ³•åæš—ç¤ºå‚æ•°è¦æ±‚**ï¼š

```java
public interface UserDao {
    // æ–¹æ³•åæš—ç¤ºå‚æ•°ä¸èƒ½ä¸ºç©º
    User findByUsernameNotNull(String username);        // usernameä¸èƒ½ä¸ºç©º
    List<User> findByIdsNotEmpty(List<Integer> ids);    // idsåˆ—è¡¨ä¸èƒ½ä¸ºç©º
    
    // æ–¹æ³•åæš—ç¤ºå‚æ•°èŒƒå›´
    List<User> findByPageValid(int pageNum, int pageSize); // é¡µç å’Œé¡µå¤§å°å¿…é¡»æœ‰æ•ˆ
    
    // åˆ†å¼€å®šä¹‰ï¼Œæ˜ç¡®å‚æ•°è¦æ±‚
    User findByUsername(String username);               // å¯èƒ½ä¸ºnull
    User findByUsernameExact(String username);          // ç²¾ç¡®åŒ¹é…ï¼Œä¸èƒ½ä¸ºnull
}
```

---

## 5. ğŸ è¿”å›å€¼è®¾è®¡ç­–ç•¥


### 5.1 è¿”å›å€¼ç±»å‹é€‰æ‹©


**ä¸åŒæ“ä½œåº”è¯¥è¿”å›ä»€ä¹ˆç±»å‹çš„å€¼**ï¼š

```java
public interface UserDao {
    // æŸ¥è¯¢æ“ä½œçš„è¿”å›å€¼è®¾è®¡
    User findById(Integer id);              // å•ä¸ªå¯¹è±¡ï¼Œå¯èƒ½ä¸ºnull
    List<User> findAll();                   // é›†åˆï¼Œè‡³å°‘è¿”å›ç©ºé›†åˆï¼Œä¸è¿”å›null
    Optional<User> findOptionalById(Integer id); // Java 8+ æ¨èï¼Œæ˜ç¡®è¡¨ç¤ºå¯èƒ½ä¸ºç©º
    
    // æ–°å¢æ“ä½œçš„è¿”å›å€¼è®¾è®¡
    void save(User user);                   // ç®€å•ä¿å­˜ï¼Œä¸éœ€è¦è¿”å›å€¼
    User insert(User user);                 // è¿”å›ä¿å­˜åçš„å®Œæ•´å¯¹è±¡ï¼ˆåŒ…å«ç”Ÿæˆçš„IDï¼‰
    int batchSave(List<User> users);        // æ‰¹é‡æ“ä½œï¼Œè¿”å›å®é™…å¤„ç†çš„æ•°é‡
    
    // ä¿®æ”¹æ“ä½œçš„è¿”å›å€¼è®¾è®¡
    int update(User user);                  // è¿”å›å½±å“çš„è¡Œæ•°
    boolean updateById(User user);          // è¿”å›æ˜¯å¦æ›´æ–°æˆåŠŸ
    
    // åˆ é™¤æ“ä½œçš„è¿”å›å€¼è®¾è®¡
    int deleteById(Integer id);             // è¿”å›åˆ é™¤çš„è¡Œæ•°
    boolean removeById(Integer id);         // è¿”å›æ˜¯å¦åˆ é™¤æˆåŠŸ
    
    // ç»Ÿè®¡æ“ä½œçš„è¿”å›å€¼è®¾è®¡
    int count();                            // è¿”å›æ€»æ•°é‡
    boolean exists(Integer id);             // è¿”å›æ˜¯å¦å­˜åœ¨
}
```

### 5.2 ç©ºå€¼å¤„ç†ç­–ç•¥


**å¦‚ä½•å¤„ç†æŸ¥è¯¢ä¸åˆ°æ•°æ®çš„æƒ…å†µ**ï¼š

**ä¼ ç»Ÿæ–¹å¼ï¼šè¿”å›null**
```java
public interface UserDao {
    User findById(Integer id);              // æ‰¾ä¸åˆ°è¿”å›null
    List<User> findByStatus(Integer status); // æ‰¾ä¸åˆ°è¿”å›ç©ºListï¼ˆä¸æ˜¯nullï¼‰
}

// è°ƒç”¨æ—¶éœ€è¦åˆ¤ç©º
User user = userDao.findById(1);
if (user != null) {
    // ä½¿ç”¨user
}
```

**ç°ä»£æ–¹å¼ï¼šä½¿ç”¨Optional**
```java
public interface UserDao {
    Optional<User> findById(Integer id);    // æ‰¾ä¸åˆ°è¿”å›Optional.empty()
    List<User> findByStatus(Integer status); // æ‰¾ä¸åˆ°è¿”å›ç©ºList
}

// è°ƒç”¨æ—¶æ›´å®‰å…¨
Optional<User> userOpt = userDao.findById(1);
if (userOpt.isPresent()) {
    User user = userOpt.get();
    // ä½¿ç”¨user
}

// æˆ–è€…ä½¿ç”¨é“¾å¼è°ƒç”¨
userDao.findById(1)
    .ifPresent(user -> {
        // ä½¿ç”¨user
    });
```

### 5.3 æ‰¹é‡æ“ä½œè¿”å›å€¼


**æ‰¹é‡æ“ä½œåº”è¯¥è¿”å›ä»€ä¹ˆä¿¡æ¯**ï¼š

```java
public interface UserDao {
    // ç®€å•è¿”å›å¤„ç†æ•°é‡
    int batchSave(List<User> users);        // è¿”å›å®é™…ä¿å­˜çš„æ•°é‡
    int batchUpdate(List<User> users);      // è¿”å›å®é™…æ›´æ–°çš„æ•°é‡
    int batchDelete(List<Integer> ids);     // è¿”å›å®é™…åˆ é™¤çš„æ•°é‡
    
    // è¿”å›è¯¦ç»†ç»“æœä¿¡æ¯
    BatchResult<User> batchSaveWithResult(List<User> users);
}

// æ‰¹é‡æ“ä½œç»“æœç±»
public class BatchResult<T> {
    private int successCount;       // æˆåŠŸå¤„ç†çš„æ•°é‡
    private int failCount;          // å¤±è´¥çš„æ•°é‡  
    private List<T> successItems;   // æˆåŠŸå¤„ç†çš„é¡¹ç›®
    private List<T> failItems;      // å¤±è´¥çš„é¡¹ç›®
    private List<String> errorMessages; // é”™è¯¯ä¿¡æ¯
    
    // getterå’Œsetteræ–¹æ³•...
}
```

### 5.4 åˆ†é¡µæŸ¥è¯¢è¿”å›å€¼


**åˆ†é¡µæŸ¥è¯¢éœ€è¦è¿”å›æ›´å¤šä¿¡æ¯**ï¼š

```java
// ç®€å•åˆ†é¡µï¼šåªè¿”å›å½“é¡µæ•°æ®
public interface UserDao {
    List<User> findByPage(int pageNum, int pageSize);
}

// å®Œæ•´åˆ†é¡µï¼šè¿”å›åˆ†é¡µä¿¡æ¯
public interface UserDao {
    PageResult<User> findByPageWithInfo(int pageNum, int pageSize);
}

// åˆ†é¡µç»“æœç±»
public class PageResult<T> {
    private List<T> data;           // å½“é¡µæ•°æ®
    private int pageNum;            // å½“å‰é¡µç 
    private int pageSize;           // é¡µå¤§å°
    private long total;             // æ€»è®°å½•æ•°
    private int totalPages;         // æ€»é¡µæ•°
    private boolean hasNext;        // æ˜¯å¦æœ‰ä¸‹ä¸€é¡µ
    private boolean hasPrevious;    // æ˜¯å¦æœ‰ä¸Šä¸€é¡µ
    
    // getterå’Œsetteræ–¹æ³•...
}
```

---

## 6. âš ï¸ å¼‚å¸¸å£°æ˜ä¸å¤„ç†


### 6.1 å¼‚å¸¸ç±»å‹è®¾è®¡


**DAOå±‚åº”è¯¥æŠ›å‡ºä»€ä¹ˆç±»å‹çš„å¼‚å¸¸**ï¼š

```java
// è‡ªå®šä¹‰DAOå¼‚å¸¸ä½“ç³»
public class DaoException extends RuntimeException {
    public DaoException(String message) {
        super(message);
    }
    
    public DaoException(String message, Throwable cause) {
        super(message, cause);
    }
}

// å…·ä½“å¼‚å¸¸ç±»å‹
public class DataNotFoundException extends DaoException {
    public DataNotFoundException(String message) {
        super(message);
    }
}

public class DataDuplicateException extends DaoException {
    public DataDuplicateException(String message) {
        super(message);
    }
}

public class DataAccessException extends DaoException {
    public DataAccessException(String message, Throwable cause) {
        super(message, cause);
    }
}
```

### 6.2 å¼‚å¸¸å£°æ˜åŸåˆ™


**ä»€ä¹ˆæ—¶å€™åœ¨æ¥å£ä¸­å£°æ˜å¼‚å¸¸**ï¼š

```java
public interface UserDao {
    // âœ… æ¨èï¼šä½¿ç”¨è¿è¡Œæ—¶å¼‚å¸¸ï¼Œä¸å¼ºåˆ¶è°ƒç”¨è€…å¤„ç†
    void save(User user);                   // å¯èƒ½æŠ›å‡ºDaoException
    User findById(Integer id);              // å¯èƒ½æŠ›å‡ºDataAccessException
    
    // âŒ ä¸æ¨èï¼šä½¿ç”¨æ£€æŸ¥å¼‚å¸¸ï¼Œå¼ºåˆ¶è°ƒç”¨è€…å¤„ç†
    void saveChecked(User user) throws DaoException;     // è°ƒç”¨è€…å¿…é¡»try-catch
    
    // âœ… ç‰¹æ®Šæƒ…å†µï¼šæ˜ç¡®çš„ä¸šåŠ¡å¼‚å¸¸å¯ä»¥å£°æ˜
    void saveUnique(User user) throws DataDuplicateException; // æ˜ç¡®å‘ŠçŸ¥å¯èƒ½é‡å¤
}
```

### 6.3 å¼‚å¸¸å¤„ç†ç­–ç•¥


**ä¸åŒæ“ä½œçš„å¼‚å¸¸å¤„ç†æ–¹å¼**ï¼š

```java
public interface UserDao {
    // æ–°å¢æ“ä½œï¼šé‡å¤æ•°æ®å¼‚å¸¸
    void save(User user);                   // å¯èƒ½æŠ›å‡ºDataDuplicateException
    
    // æŸ¥è¯¢æ“ä½œï¼šä¸€èˆ¬ä¸æŠ›å¼‚å¸¸ï¼Œè¿”å›nullæˆ–ç©ºé›†åˆ
    User findById(Integer id);              // æ‰¾ä¸åˆ°è¿”å›nullï¼Œä¸æŠ›å¼‚å¸¸
    List<User> findAll();                   // æ²¡æ•°æ®è¿”å›ç©ºListï¼Œä¸æŠ›å¼‚å¸¸
    
    // æ›´æ–°æ“ä½œï¼šæ•°æ®ä¸å­˜åœ¨æ—¶çš„å¤„ç†
    int update(User user);                  // è¿”å›å½±å“è¡Œæ•°ï¼Œ0è¡¨ç¤ºæ²¡æ‰¾åˆ°æ•°æ®
    void updateRequired(User user);         // å¦‚æœæ²¡æ‰¾åˆ°æ•°æ®å°±æŠ›å¼‚å¸¸
    
    // åˆ é™¤æ“ä½œï¼šæ•°æ®ä¸å­˜åœ¨æ—¶çš„å¤„ç†  
    int deleteById(Integer id);             // è¿”å›åˆ é™¤è¡Œæ•°ï¼Œ0è¡¨ç¤ºæ²¡æ‰¾åˆ°
    void deleteRequired(Integer id);        // å¦‚æœæ²¡æ‰¾åˆ°å°±æŠ›å¼‚å¸¸
}
```

### 6.4 å¼‚å¸¸ä¿¡æ¯è®¾è®¡


**å¼‚å¸¸ä¿¡æ¯è¦æä¾›æœ‰ç”¨çš„è°ƒè¯•ä¿¡æ¯**ï¼š

```java
public class UserDaoImpl implements UserDao {
    
    @Override
    public void save(User user) {
        try {
            // æ‰§è¡Œä¿å­˜æ“ä½œ...
        } catch (SQLException e) {
            if (e.getErrorCode() == 1062) {  // MySQLé‡å¤é”®é”™è¯¯ç 
                throw new DataDuplicateException(
                    String.format("ç”¨æˆ·å '%s' å·²ç»å­˜åœ¨", user.getUsername())
                );
            } else {
                throw new DataAccessException(
                    String.format("ä¿å­˜ç”¨æˆ·å¤±è´¥ï¼š%s", user.getUsername()), e
                );
            }
        }
    }
    
    @Override  
    public void updateRequired(User user) {
        int count = update(user);
        if (count == 0) {
            throw new DataNotFoundException(
                String.format("ç”¨æˆ·ä¸å­˜åœ¨ï¼ŒIDï¼š%d", user.getId())
            );
        }
    }
}
```

---

## 7. ğŸ“‹ å®Œæ•´è®¾è®¡ç¤ºä¾‹


### 7.1 ç”¨æˆ·DAOæ¥å£å®Œæ•´ç¤ºä¾‹


```java
package com.example.dao;

import com.example.entity.User;
import com.example.vo.PageResult;
import com.example.vo.UserQueryCondition;
import com.example.exception.DaoException;

import java.util.List;
import java.util.Optional;

/**
 * ç”¨æˆ·æ•°æ®è®¿é—®æ¥å£
 * 
 * è®¾è®¡åŸåˆ™ï¼š
 * 1. æ–¹æ³•å‘½åæ¸…æ™°ï¼Œè§åçŸ¥æ„
 * 2. å‚æ•°ç±»å‹åˆç†ï¼Œä¾¿äºä½¿ç”¨
 * 3. è¿”å›å€¼æ˜ç¡®ï¼Œå¤„ç†ç©ºå€¼æƒ…å†µ
 * 4. å¼‚å¸¸å¤„ç†å¾—å½“ï¼Œæä¾›æœ‰ç”¨ä¿¡æ¯
 */
public interface UserDao {
    
    // ========== æ–°å¢æ“ä½œ ==========
    
    /**
     * ä¿å­˜ç”¨æˆ·
     * @param user ç”¨æˆ·ä¿¡æ¯
     * @throws DaoException ä¿å­˜å¤±è´¥æ—¶æŠ›å‡º
     */
    void save(User user);
    
    /**
     * ä¿å­˜ç”¨æˆ·å¹¶è¿”å›å®Œæ•´ä¿¡æ¯ï¼ˆåŒ…å«è‡ªåŠ¨ç”Ÿæˆçš„IDï¼‰
     * @param user ç”¨æˆ·ä¿¡æ¯
     * @return ä¿å­˜åçš„å®Œæ•´ç”¨æˆ·ä¿¡æ¯
     */
    User insert(User user);
    
    /**
     * æ‰¹é‡ä¿å­˜ç”¨æˆ·
     * @param users ç”¨æˆ·åˆ—è¡¨
     * @return å®é™…ä¿å­˜çš„æ•°é‡
     */
    int batchSave(List<User> users);
    
    // ========== æŸ¥è¯¢æ“ä½œ ==========
    
    /**
     * æ ¹æ®IDæŸ¥æ‰¾ç”¨æˆ·
     * @param id ç”¨æˆ·ID
     * @return ç”¨æˆ·ä¿¡æ¯ï¼Œæ‰¾ä¸åˆ°è¿”å›null
     */
    User findById(Integer id);
    
    /**
     * æ ¹æ®IDæŸ¥æ‰¾ç”¨æˆ·ï¼ˆOptionalç‰ˆæœ¬ï¼‰
     * @param id ç”¨æˆ·ID  
     * @return Optionalå°è£…çš„ç”¨æˆ·ä¿¡æ¯
     */
    Optional<User> findOptionalById(Integer id);
    
    /**
     * æ ¹æ®ç”¨æˆ·åæŸ¥æ‰¾ç”¨æˆ·
     * @param username ç”¨æˆ·å
     * @return ç”¨æˆ·ä¿¡æ¯ï¼Œæ‰¾ä¸åˆ°è¿”å›null
     */
    User findByUsername(String username);
    
    /**
     * æŸ¥æ‰¾æ‰€æœ‰ç”¨æˆ·
     * @return ç”¨æˆ·åˆ—è¡¨ï¼Œæ²¡æœ‰æ•°æ®è¿”å›ç©ºåˆ—è¡¨
     */
    List<User> findAll();
    
    /**
     * æ ¹æ®æ¡ä»¶æŸ¥è¯¢ç”¨æˆ·
     * @param condition æŸ¥è¯¢æ¡ä»¶
     * @return ç¬¦åˆæ¡ä»¶çš„ç”¨æˆ·åˆ—è¡¨
     */
    List<User> findByCondition(UserQueryCondition condition);
    
    /**
     * åˆ†é¡µæŸ¥è¯¢ç”¨æˆ·
     * @param pageNum é¡µç ï¼ˆä»1å¼€å§‹ï¼‰
     * @param pageSize é¡µå¤§å°
     * @return åˆ†é¡µç»“æœ
     */
    PageResult<User> findByPage(int pageNum, int pageSize);
    
    /**
     * æ ¹æ®å§“åæ¨¡ç³ŠæŸ¥è¯¢
     * @param name å§“åå…³é”®å­—
     * @return åŒ¹é…çš„ç”¨æˆ·åˆ—è¡¨
     */
    List<User> findByNameLike(String name);
    
    // ========== ç»Ÿè®¡æ“ä½œ ==========
    
    /**
     * ç»Ÿè®¡ç”¨æˆ·æ€»æ•°
     * @return ç”¨æˆ·æ€»æ•°
     */
    int count();
    
    /**
     * æ ¹æ®çŠ¶æ€ç»Ÿè®¡ç”¨æˆ·æ•°
     * @param status ç”¨æˆ·çŠ¶æ€
     * @return å¯¹åº”çŠ¶æ€çš„ç”¨æˆ·æ•°é‡
     */
    int countByStatus(Integer status);
    
    /**
     * æ£€æŸ¥ç”¨æˆ·æ˜¯å¦å­˜åœ¨
     * @param id ç”¨æˆ·ID
     * @return å­˜åœ¨è¿”å›trueï¼Œå¦åˆ™è¿”å›false
     */
    boolean existsById(Integer id);
    
    /**
     * æ£€æŸ¥ç”¨æˆ·åæ˜¯å¦å·²å­˜åœ¨
     * @param username ç”¨æˆ·å
     * @return å­˜åœ¨è¿”å›trueï¼Œå¦åˆ™è¿”å›false
     */
    boolean existsByUsername(String username);
    
    // ========== ä¿®æ”¹æ“ä½œ ==========
    
    /**
     * æ›´æ–°ç”¨æˆ·ä¿¡æ¯
     * @param user ç”¨æˆ·ä¿¡æ¯
     * @return å½±å“çš„è®°å½•æ•°
     */
    int update(User user);
    
    /**
     * é€‰æ‹©æ€§æ›´æ–°ç”¨æˆ·ä¿¡æ¯ï¼ˆåªæ›´æ–°éç©ºå­—æ®µï¼‰
     * @param user ç”¨æˆ·ä¿¡æ¯
     * @return å½±å“çš„è®°å½•æ•°
     */
    int updateSelective(User user);
    
    /**
     * æ›´æ–°ç”¨æˆ·å¯†ç 
     * @param id ç”¨æˆ·ID
     * @param newPassword æ–°å¯†ç 
     * @return æ˜¯å¦æ›´æ–°æˆåŠŸ
     */
    boolean updatePassword(Integer id, String newPassword);
    
    /**
     * æ›´æ–°ç”¨æˆ·çŠ¶æ€
     * @param id ç”¨æˆ·ID
     * @param status æ–°çŠ¶æ€
     * @return æ˜¯å¦æ›´æ–°æˆåŠŸ
     */
    boolean updateStatus(Integer id, Integer status);
    
    // ========== åˆ é™¤æ“ä½œ ==========
    
    /**
     * æ ¹æ®IDåˆ é™¤ç”¨æˆ·
     * @param id ç”¨æˆ·ID
     * @return åˆ é™¤çš„è®°å½•æ•°
     */
    int deleteById(Integer id);
    
    /**
     * æ‰¹é‡åˆ é™¤ç”¨æˆ·
     * @param ids ç”¨æˆ·IDåˆ—è¡¨
     * @return å®é™…åˆ é™¤çš„è®°å½•æ•°
     */
    int deleteByIds(List<Integer> ids);
    
    /**
     * é€»è¾‘åˆ é™¤ç”¨æˆ·ï¼ˆæ ‡è®°ä¸ºåˆ é™¤çŠ¶æ€ï¼‰
     * @param id ç”¨æˆ·ID
     * @return æ˜¯å¦åˆ é™¤æˆåŠŸ
     */
    boolean markAsDeleted(Integer id);
}
```

### 7.2 æŸ¥è¯¢æ¡ä»¶ç±»è®¾è®¡


```java
package com.example.vo;

import java.util.Date;

/**
 * ç”¨æˆ·æŸ¥è¯¢æ¡ä»¶ç±»
 * ç”¨äºå°è£…å¤æ‚çš„æŸ¥è¯¢æ¡ä»¶ï¼Œé¿å…æ–¹æ³•å‚æ•°è¿‡å¤š
 */
public class UserQueryCondition {
    
    // åŸºæœ¬ä¿¡æ¯æ¡ä»¶
    private String username;        // ç”¨æˆ·åï¼ˆç²¾ç¡®åŒ¹é…ï¼‰
    private String nameLike;        // å§“åï¼ˆæ¨¡ç³ŠåŒ¹é…ï¼‰  
    private String email;           // é‚®ç®±ï¼ˆç²¾ç¡®åŒ¹é…ï¼‰
    private String phone;           // æ‰‹æœºå·ï¼ˆç²¾ç¡®åŒ¹é…ï¼‰
    
    // çŠ¶æ€æ¡ä»¶
    private Integer status;         // ç”¨æˆ·çŠ¶æ€
    private Boolean isDeleted;      // æ˜¯å¦åˆ é™¤
    
    // å¹´é¾„æ¡ä»¶
    private Integer minAge;         // æœ€å°å¹´é¾„
    private Integer maxAge;         // æœ€å¤§å¹´é¾„
    
    // æ—¶é—´æ¡ä»¶
    private Date createTimeStart;   // åˆ›å»ºæ—¶é—´å¼€å§‹
    private Date createTimeEnd;     // åˆ›å»ºæ—¶é—´ç»“æŸ
    
    // åˆ†é¡µæ¡ä»¶
    private Integer pageNum;        // é¡µç 
    private Integer pageSize;       // é¡µå¤§å°
    
    // æ’åºæ¡ä»¶
    private String orderBy;         // æ’åºå­—æ®µ
    private String orderDirection;  // æ’åºæ–¹å‘ï¼ˆASC/DESCï¼‰
    
    // æ„é€ æ–¹æ³•
    public UserQueryCondition() {}
    
    // ä¾¿æ·æ„é€ æ–¹æ³•
    public UserQueryCondition(Integer pageNum, Integer pageSize) {
        this.pageNum = pageNum;
        this.pageSize = pageSize;
    }
    
    // getterå’Œsetteræ–¹æ³•
    public String getUsername() { return username; }
    public void setUsername(String username) { this.username = username; }
    
    public String getNameLike() { return nameLike; }
    public void setNameLike(String nameLike) { this.nameLike = nameLike; }
    
    // ... å…¶ä»–getterå’Œsetteræ–¹æ³•
    
    // ä¾¿æ·æ–¹æ³•ï¼šåˆ¤æ–­æ˜¯å¦æœ‰æŸ¥è¯¢æ¡ä»¶
    public boolean hasCondition() {
        return username != null || nameLike != null || email != null 
            || status != null || minAge != null || maxAge != null;
    }
    
    // ä¾¿æ·æ–¹æ³•ï¼šåˆ¤æ–­æ˜¯å¦éœ€è¦åˆ†é¡µ
    public boolean needPaging() {
        return pageNum != null && pageSize != null 
            && pageNum > 0 && pageSize > 0;
    }
}
```

---

## 8. ğŸ“š æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 8.1 å¿…é¡»æŒæ¡çš„è®¾è®¡åŸåˆ™


```
ğŸ”¸ æ¥å£èŒè´£æ˜ç¡®ï¼šæ¯ä¸ªDAOæ¥å£åªè´Ÿè´£ä¸€ä¸ªå®ä½“çš„æ•°æ®è®¿é—®
ğŸ”¸ æ–¹æ³•å‘½åè§„èŒƒï¼šåŠ¨è¯+ä»‹è¯+æ¡ä»¶çš„æ–¹å¼ï¼Œè§åçŸ¥æ„
ğŸ”¸ å‚æ•°è®¾è®¡åˆç†ï¼šç±»å‹æ°å½“ï¼Œé¡ºåºåˆç†ï¼Œæ•°é‡é€‚ä¸­
ğŸ”¸ è¿”å›å€¼æ˜ç¡®ï¼šç©ºå€¼å¤„ç†ç­–ç•¥ä¸€è‡´ï¼Œæ‰¹é‡æ“ä½œè¿”å›å½±å“æ•°é‡
ğŸ”¸ å¼‚å¸¸å¤„ç†å¾—å½“ï¼šä½¿ç”¨è¿è¡Œæ—¶å¼‚å¸¸ï¼Œæä¾›æœ‰ç”¨çš„é”™è¯¯ä¿¡æ¯
ğŸ”¸ æ‰©å±•æ€§è‰¯å¥½ï¼šä¾¿äºæ·»åŠ æ–°æ–¹æ³•ï¼Œä¾¿äºåˆ‡æ¢å®ç°æ–¹å¼
```

### 8.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ æ¥å£çš„ä½œç”¨**
- **è§„èŒƒç»Ÿä¸€**ï¼šæ‰€æœ‰å®ç°ç±»å¿…é¡»éµå¾ªç›¸åŒçš„æ–¹æ³•ç­¾å
- **è§£è€¦åˆ**ï¼šè°ƒç”¨è€…ä¸ä¾èµ–å…·ä½“å®ç°ï¼Œåªä¾èµ–æ¥å£
- **å¯æµ‹è¯•**ï¼šå¯ä»¥è½»æ¾åˆ›å»ºMockå¯¹è±¡è¿›è¡Œå•å…ƒæµ‹è¯•
- **å¯æ›¿æ¢**ï¼šå¯ä»¥æ— ç¼åˆ‡æ¢ä¸åŒçš„æ•°æ®è®¿é—®å®ç°

**ğŸ”¹ CRUDæ“ä½œè®¾è®¡è¦ç‚¹**
- **å¢åŠ **ï¼šè€ƒè™‘å•ä¸ªã€æ‰¹é‡ã€æ¡ä»¶æ–°å¢ç­‰åœºæ™¯
- **æŸ¥è¯¢**ï¼šè€ƒè™‘å•ä¸ªã€æ‰¹é‡ã€åˆ†é¡µã€ç»Ÿè®¡ç­‰éœ€æ±‚
- **ä¿®æ”¹**ï¼šè€ƒè™‘å…¨é‡ã€é€‰æ‹©æ€§ã€æ‰¹é‡æ›´æ–°ç­‰æ–¹å¼
- **åˆ é™¤**ï¼šè€ƒè™‘ç‰©ç†åˆ é™¤ã€é€»è¾‘åˆ é™¤ã€æ‰¹é‡åˆ é™¤ç­‰æ–¹å¼

**ğŸ”¹ å‚æ•°å’Œè¿”å›å€¼è®¾è®¡**
- **å‚æ•°**ï¼šä¼˜å…ˆä½¿ç”¨åŒ…è£…ç±»å‹ï¼Œè€ƒè™‘å‚æ•°é¡ºåºï¼Œé¿å…å‚æ•°è¿‡å¤š
- **è¿”å›å€¼**ï¼šæ˜ç¡®ç©ºå€¼å¤„ç†ç­–ç•¥ï¼Œæ‰¹é‡æ“ä½œè¿”å›å½±å“æ•°é‡
- **åˆ†é¡µ**ï¼šæä¾›å®Œæ•´çš„åˆ†é¡µä¿¡æ¯ï¼Œä¸åªæ˜¯å½“é¡µæ•°æ®

### 8.3 å®é™…åº”ç”¨ä»·å€¼


**é¡¹ç›®å¼€å‘ä¸­çš„ä½œç”¨**ï¼š
- **å›¢é˜Ÿåä½œ**ï¼šæ¥å£ä½œä¸ºå¥‘çº¦ï¼Œä¸åŒäººå¯ä»¥å¹¶è¡Œå¼€å‘
- **ä»£ç è´¨é‡**ï¼šè§„èŒƒçš„æ¥å£è®¾è®¡è®©ä»£ç æ›´æ˜“è¯»ã€æ˜“ç»´æŠ¤
- **ç³»ç»Ÿæ¶æ„**ï¼šè‰¯å¥½çš„DAOè®¾è®¡æ˜¯ä¸‰å±‚æ¶æ„çš„åŸºç¡€
- **æŠ€æœ¯é€‰å‹**ï¼šå¯ä»¥è½»æ¾åˆ‡æ¢ä¸åŒçš„æ•°æ®è®¿é—®æŠ€æœ¯ï¼ˆJDBCã€MyBatisã€Hibernateç­‰ï¼‰

**å­¦ä¹ å’Œæˆé•¿ä»·å€¼**ï¼š
- **é¢å‘æ¥å£ç¼–ç¨‹**ï¼šç†è§£æ¥å£åœ¨Javaä¸­çš„é‡è¦ä½œç”¨
- **è®¾è®¡æ¨¡å¼åº”ç”¨**ï¼šä½“éªŒç­–ç•¥æ¨¡å¼ã€æ¨¡æ¿æ–¹æ³•æ¨¡å¼ç­‰
- **æ¶æ„æ€ç»´åŸ¹å…»**ï¼šç†è§£åˆ†å±‚æ¶æ„å’ŒèŒè´£åˆ†ç¦»çš„é‡è¦æ€§
- **ä»£ç è§„èŒƒæ„è¯†**ï¼šåŸ¹å…»ç¼–å†™è§„èŒƒã€å¯ç»´æŠ¤ä»£ç çš„ä¹ æƒ¯

**æ ¸å¿ƒè®°å¿†è¦ç‚¹**ï¼š
- DAOæ¥å£æ˜¯æ•°æ®åº“æ“ä½œçš„"è¯´æ˜ä¹¦"ï¼Œå®šä¹‰åšä»€ä¹ˆï¼Œä¸å®šä¹‰æ€ä¹ˆåš
- æ–¹æ³•å‘½åè¦è§åçŸ¥æ„ï¼Œå‚æ•°è®¾è®¡è¦ä¾¿äºä½¿ç”¨
- è¿”å›å€¼è¦å¤„ç†å¥½ç©ºå€¼æƒ…å†µï¼Œå¼‚å¸¸è¦æä¾›æœ‰ç”¨ä¿¡æ¯
- å¥½çš„æ¥å£è®¾è®¡æ˜¯é¡¹ç›®æˆåŠŸçš„é‡è¦åŸºç¡€