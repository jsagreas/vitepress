---
title: 1ã€è¿æ¥å‚æ•°é€ŸæŸ¥è¡¨
---
## ğŸ“š ç›®å½•

1. [è¿æ¥å‚æ•°æ¦‚è¿°](#1-è¿æ¥å‚æ•°æ¦‚è¿°)
2. [MySQLè¿æ¥å‚æ•°å¤§å…¨](#2-MySQLè¿æ¥å‚æ•°å¤§å…¨)
3. [Oracleè¿æ¥å‚æ•°é…ç½®](#3-Oracleè¿æ¥å‚æ•°é…ç½®)
4. [æ€§èƒ½ä¼˜åŒ–å‚æ•°è¯¦è§£](#4-æ€§èƒ½ä¼˜åŒ–å‚æ•°è¯¦è§£)
5. [å®‰å…¨ç›¸å…³å‚æ•°é…ç½®](#5-å®‰å…¨ç›¸å…³å‚æ•°é…ç½®)
6. [å…¼å®¹æ€§å‚æ•°è¯´æ˜](#6-å…¼å®¹æ€§å‚æ•°è¯´æ˜)
7. [å¸¸ç”¨å‚æ•°ç»„åˆæ¨è](#7-å¸¸ç”¨å‚æ•°ç»„åˆæ¨è)
8. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#8-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ”— è¿æ¥å‚æ•°æ¦‚è¿°


### 1.1 ä»€ä¹ˆæ˜¯JDBCè¿æ¥å‚æ•°


**é€šä¿—ç†è§£**ï¼šè¿æ¥å‚æ•°å°±åƒæ˜¯ä½ å»é“¶è¡ŒåŠäº‹æ—¶éœ€è¦å¡«å†™çš„å„ç§è¡¨æ ¼ä¿¡æ¯ï¼Œå‘Šè¯‰æ•°æ®åº“ä½ æ˜¯è°ã€è¦åšä»€ä¹ˆã€æ€ä¹ˆåšã€‚

```
ç°å®ç”Ÿæ´»ç±»æ¯”ï¼š
å»é“¶è¡ŒåŠäº‹ = è¿æ¥æ•°æ®åº“
èº«ä»½è¯å· = ç”¨æˆ·åå¯†ç   
åŠäº‹ç±»å‹ = è¿æ¥å‚æ•°è®¾ç½®
åŠäº‹æ•ˆç‡ = æ€§èƒ½å‚æ•°è°ƒä¼˜

JDBCè¿æ¥å°±æ˜¯ç¨‹åºå’Œæ•°æ®åº“ä¹‹é—´çš„"é€šè¯è§„åˆ™"
```

### 1.2 è¿æ¥URLçš„åŸºæœ¬ç»“æ„


**ğŸ”¸ æ ‡å‡†æ ¼å¼è§£æ**
```
jdbc:æ•°æ®åº“ç±»å‹://æœåŠ¡å™¨åœ°å€:ç«¯å£å·/æ•°æ®åº“å?å‚æ•°1=å€¼1&å‚æ•°2=å€¼2

å…·ä½“ç¤ºä¾‹ï¼š
jdbc:mysql://localhost:3306/mydb?useSSL=false&serverTimezone=UTC

æ‹†è§£è¯´æ˜ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ jdbc:   â”‚ mysql   â”‚ localhost   â”‚ 3306 â”‚ mydb â”‚ useSSL=false&...        â”‚
â”‚ åè®®å¤´  â”‚ æ•°æ®åº“  â”‚ æœåŠ¡å™¨åœ°å€  â”‚ ç«¯å£ â”‚ åº“å â”‚ è¿æ¥å‚æ•°                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.3 å‚æ•°åˆ†ç±»è¯´æ˜


**ğŸ“‹ å‚æ•°ç±»å‹åˆ†ç±»**
- ğŸ” **è®¤è¯å‚æ•°**ï¼šç”¨æˆ·åã€å¯†ç ç­‰èº«ä»½éªŒè¯ä¿¡æ¯
- âš¡ **æ€§èƒ½å‚æ•°**ï¼šè¿æ¥æ± ã€è¶…æ—¶ã€æ‰¹å¤„ç†ç­‰æ€§èƒ½ç›¸å…³
- ğŸ›¡ï¸ **å®‰å…¨å‚æ•°**ï¼šSSLã€åŠ å¯†ã€éªŒè¯ç­‰å®‰å…¨è®¾ç½®
- ğŸŒ **ç½‘ç»œå‚æ•°**ï¼šç¼–ç ã€æ—¶åŒºã€è¿æ¥æ–¹å¼ç­‰
- ğŸ”§ **å…¼å®¹å‚æ•°**ï¼šç‰ˆæœ¬å…¼å®¹ã€ç‰¹æ€§å¼€å…³ç­‰

---

## 2. ğŸ¬ MySQLè¿æ¥å‚æ•°å¤§å…¨


### 2.1 åŸºç¡€è¿æ¥å‚æ•°


**ğŸ”¸ å¿…éœ€å‚æ•°**
```java
// æœ€åŸºæœ¬çš„è¿æ¥é…ç½®
String url = "jdbc:mysql://localhost:3306/testdb" +
             "?user=root" +
             "&password=123456" +
             "&useSSL=false" +
             "&serverTimezone=Asia/Shanghai";
```

| å‚æ•°å | ä½œç”¨è¯´æ˜ | ç¤ºä¾‹å€¼ | é‡è¦ç¨‹åº¦ |
|--------|----------|--------|----------|
| **user** | `æ•°æ®åº“ç”¨æˆ·å` | `root` | â­â­â­ |
| **password** | `æ•°æ®åº“å¯†ç ` | `123456` | â­â­â­ |
| **useSSL** | `æ˜¯å¦ä½¿ç”¨SSLåŠ å¯†è¿æ¥` | `false` | â­â­ |
| **serverTimezone** | `æœåŠ¡å™¨æ—¶åŒºè®¾ç½®` | `Asia/Shanghai` | â­â­â­ |

### 2.2 æ€§èƒ½ç›¸å…³å‚æ•°


**âš¡ è¿æ¥æ± ä¸æ€§èƒ½ä¼˜åŒ–**

> ğŸ’¡ **é€šä¿—è§£é‡Š**ï¼šè¿™äº›å‚æ•°å°±åƒæ˜¯è°ƒèŠ‚æ°´ç®¡æµé‡çš„é˜€é—¨ï¼Œæ§åˆ¶æ•°æ®ä¼ è¾“çš„é€Ÿåº¦å’Œæ•ˆç‡

```java
// é«˜æ€§èƒ½è¿æ¥é…ç½®ç¤ºä¾‹
String performanceUrl = "jdbc:mysql://localhost:3306/testdb" +
    "?useUnicode=true" +                    // ä½¿ç”¨Unicodeç¼–ç 
    "&characterEncoding=UTF-8" +            // å­—ç¬¦ç¼–ç UTF-8
    "&autoReconnect=true" +                 // è‡ªåŠ¨é‡è¿
    "&failOverReadOnly=false" +             // æ•…éšœè½¬ç§»ä¸åªè¯»
    "&maxReconnects=3" +                    // æœ€å¤§é‡è¿æ¬¡æ•°
    "&initialTimeout=2" +                   // åˆå§‹è¶…æ—¶æ—¶é—´
    "&connectTimeout=60000" +               // è¿æ¥è¶…æ—¶(æ¯«ç§’)
    "&socketTimeout=60000";                 // Socketè¶…æ—¶
```

| å‚æ•°å | é€šä¿—å«ä¹‰ | æ¨èå€¼ | é€‚ç”¨åœºæ™¯ |
|--------|----------|--------|----------|
| **useUnicode** | `æ”¯æŒä¸­æ–‡ç­‰Unicodeå­—ç¬¦` | `true` | æœ‰ä¸­æ–‡æ•°æ®æ—¶å¿…éœ€ |
| **characterEncoding** | `å­—ç¬¦ç¼–ç æ–¹å¼` | `UTF-8` | æ ‡å‡†ç¼–ç  |
| **autoReconnect** | `æ–­çº¿è‡ªåŠ¨é‡è¿` | `true` | ç½‘ç»œä¸ç¨³å®šç¯å¢ƒ |
| **connectTimeout** | `è¿æ¥ç­‰å¾…æ—¶é—´ä¸Šé™` | `30000-60000` | æ ¹æ®ç½‘ç»œæƒ…å†µè°ƒæ•´ |
| **socketTimeout** | `æ•°æ®ä¼ è¾“è¶…æ—¶æ—¶é—´` | `60000` | é•¿æŸ¥è¯¢åœºæ™¯é€‚å½“å¢å¤§ |

### 2.3 æ‰¹å¤„ç†å‚æ•°


**ğŸ”„ æ‰¹é‡æ“ä½œä¼˜åŒ–**

> âš ï¸ **æ³¨æ„**ï¼šæ‰¹å¤„ç†å°±åƒæ‰¹é‡æ´—ç›˜å­ï¼Œä¸€æ¬¡å¤„ç†å¤šä¸ªæ¯”ä¸€ä¸ªä¸€ä¸ªå¤„ç†æ•ˆç‡æ›´é«˜

```java
// æ‰¹å¤„ç†ä¼˜åŒ–é…ç½®
String batchUrl = "jdbc:mysql://localhost:3306/testdb" +
    "?rewriteBatchedStatements=true" +      // å¼€å¯æ‰¹å¤„ç†é‡å†™
    "&useServerPrepStmts=true" +            // ä½¿ç”¨æœåŠ¡å™¨ç«¯é¢„å¤„ç†
    "&cachePrepStmts=true" +                // ç¼“å­˜é¢„å¤„ç†è¯­å¥
    "&prepStmtCacheSize=250" +              // é¢„å¤„ç†ç¼“å­˜å¤§å°
    "&prepStmtCacheSqlLimit=2048";          // ç¼“å­˜SQLé•¿åº¦é™åˆ¶
```

**ğŸ“Š æ‰¹å¤„ç†æ•ˆæœå¯¹æ¯”**
```
æ™®é€šæ–¹å¼æ’å…¥1000æ¡è®°å½•ï¼šçº¦éœ€è¦ 2-3ç§’
å¼€å¯æ‰¹å¤„ç†æ’å…¥1000æ¡è®°å½•ï¼šçº¦éœ€è¦ 0.1-0.2ç§’
æ€§èƒ½æå‡ï¼š10-20å€ï¼
```

### 2.4 æ—¶åŒºä¸ç¼–ç å‚æ•°


**ğŸŒ å›½é™…åŒ–è®¾ç½®**

> ğŸ’¡ **é€šä¿—ç†è§£**ï¼šæ—¶åŒºè®¾ç½®å°±åƒè°ƒæ‰‹è¡¨ï¼Œç¡®ä¿ç¨‹åºå’Œæ•°æ®åº“çš„"æ—¶é—´"ä¿æŒä¸€è‡´

| å‚æ•°å | å«ä¹‰è¯´æ˜ | å¸¸ç”¨å€¼ | ä½¿ç”¨å»ºè®® |
|--------|----------|--------|----------|
| **serverTimezone** | `æ•°æ®åº“æœåŠ¡å™¨æ—¶åŒº` | `Asia/Shanghai`<br>`UTC`<br>`GMT+8` | ä¸­å›½ç”¨æˆ·æ¨è`Asia/Shanghai` |
| **useUnicode** | `å¯ç”¨Unicodeæ”¯æŒ` | `true` | æœ‰ä¸­æ–‡å¿…é¡»è®¾ä¸ºtrue |
| **characterEncoding** | `å­—ç¬¦é›†ç¼–ç ` | `UTF-8`<br>`GBK` | æ¨èUTF-8å›½é™…æ ‡å‡† |
| **useOldAliasMetadataBehavior** | `æ—§ç‰ˆå…ƒæ•°æ®è¡Œä¸º` | `true` | å…¼å®¹è€é¡¹ç›®æ—¶ä½¿ç”¨ |

---

## 3. ğŸ›ï¸ Oracleè¿æ¥å‚æ•°é…ç½®


### 3.1 OracleåŸºç¡€è¿æ¥


**ğŸ”¸ æ ‡å‡†Oracleè¿æ¥æ–¹å¼**

```java
// Oracle thiné©±åŠ¨è¿æ¥
String oracleUrl = "jdbc:oracle:thin:@localhost:1521:xe";

// å¸¦å‚æ•°çš„å®Œæ•´è¿æ¥
String fullOracleUrl = "jdbc:oracle:thin:@localhost:1521:xe" +
    "?oracle.jdbc.timezoneAsRegion=false" +     // æ—¶åŒºå¤„ç†
    "&oracle.net.keepAlive=true" +              // ä¿æŒè¿æ¥æ´»è·ƒ
    "&oracle.jdbc.ReadTimeout=60000";           // è¯»å–è¶…æ—¶
```

### 3.2 Oracleä¸“ç”¨å‚æ•°


**ğŸ›ï¸ Oracleç‰¹æœ‰é…ç½®**

> ğŸ“ **è¯´æ˜**ï¼šOracleæ˜¯ä¼ä¸šçº§æ•°æ®åº“ï¼Œå‚æ•°è®¾ç½®æ›´åŠ å¤æ‚ä½†ä¹Ÿæ›´å¼ºå¤§

| å‚æ•°å | ä½œç”¨è§£é‡Š | æ¨èå€¼ | é€‚ç”¨åœºæ™¯ |
|--------|----------|--------|----------|
| **oracle.jdbc.timezoneAsRegion** | `æ—¶åŒºå¤„ç†æ–¹å¼` | `false` | é¿å…æ—¶åŒºè½¬æ¢é—®é¢˜ |
| **oracle.net.keepAlive** | `ä¿æŒè¿æ¥æ´»è·ƒçŠ¶æ€` | `true` | é•¿æ—¶é—´è¿æ¥åœºæ™¯ |
| **oracle.jdbc.ReadTimeout** | `æŸ¥è¯¢ç»“æœè¯»å–è¶…æ—¶` | `60000` | å¤§æ•°æ®é‡æŸ¥è¯¢ |
| **oracle.jdbc.implicitStatementCacheSize** | `éšå¼è¯­å¥ç¼“å­˜å¤§å°` | `20` | é¢‘ç¹æŸ¥è¯¢ä¼˜åŒ– |

### 3.3 Oracleè¿æ¥æ± ä¼˜åŒ–


```java
// Oracleè¿æ¥æ± æ¨èé…ç½®
Properties props = new Properties();
props.setProperty("oracle.jdbc.implicitStatementCacheSize", "20");
props.setProperty("oracle.jdbc.explicitStatementCacheSize", "20");
props.setProperty("oracle.net.CONNECT_TIMEOUT", "30000");
props.setProperty("oracle.jdbc.ReadTimeout", "60000");
```

---

## 4. âš¡ æ€§èƒ½ä¼˜åŒ–å‚æ•°è¯¦è§£


### 4.1 è¿æ¥ç®¡ç†å‚æ•°


**ğŸ”— è¿æ¥ç”Ÿå‘½å‘¨æœŸæ§åˆ¶**

> ğŸ¯ **æ ¸å¿ƒæ¦‚å¿µ**ï¼šè¿æ¥ç®¡ç†å°±åƒç®¡ç†åœè½¦åœºï¼Œè¦æ§åˆ¶è½¦ä½æ•°é‡ã€åœè½¦æ—¶é—´ã€æ¸…ç†ç©ºä½

```java
// é«˜æ€§èƒ½è¿æ¥ç®¡ç†é…ç½®
String optimizedUrl = "jdbc:mysql://localhost:3306/testdb" +
    "?autoReconnect=true" +                 // è‡ªåŠ¨é‡è¿
    "&autoReconnectForPools=true" +         // è¿æ¥æ± è‡ªåŠ¨é‡è¿
    "&maxReconnects=3" +                    // æœ€å¤§é‡è¿æ¬¡æ•°
    "&initialTimeout=2" +                   // åˆå§‹è¶…æ—¶2ç§’
    "&maxRows=1000" +                       // æœ€å¤§è¿”å›è¡Œæ•°é™åˆ¶
    "&largeRowSizeThreshold=2048";          // å¤§è¡Œæ•°æ®é˜ˆå€¼
```

### 4.2 æŸ¥è¯¢ä¼˜åŒ–å‚æ•°


**ğŸ“Š æŸ¥è¯¢æ€§èƒ½æå‡**

| å‚æ•°ç±»å‹ | å‚æ•°å | é€šä¿—è¯´æ˜ | æ€§èƒ½å½±å“ |
|----------|--------|----------|----------|
| **ç»“æœé›†ä¼˜åŒ–** | `useCursorFetch` | `ä½¿ç”¨æ¸¸æ ‡è·å–å¤§ç»“æœé›†` | ğŸŸ¢ å‡å°‘å†…å­˜å ç”¨ |
| **ç¼“å­˜ä¼˜åŒ–** | `cachePrepStmts` | `ç¼“å­˜é¢„å¤„ç†SQLè¯­å¥` | ğŸŸ¢ å‡å°‘SQLè§£ææ—¶é—´ |
| **ç½‘ç»œä¼˜åŒ–** | `useCompression` | `å¯ç”¨æ•°æ®ä¼ è¾“å‹ç¼©` | ğŸŸ¡ ç½‘ç»œå¸¦å®½æœ‰é™æ—¶æœ‰æ•ˆ |
| **æ‰§è¡Œä¼˜åŒ–** | `useServerPrepStmts` | `ä½¿ç”¨æœåŠ¡å™¨ç«¯é¢„å¤„ç†` | ğŸŸ¢ å¤ç”¨æ‰§è¡Œè®¡åˆ’ |

### 4.3 å†…å­˜ç®¡ç†å‚æ•°


**ğŸ’¾ å†…å­˜ä½¿ç”¨ä¼˜åŒ–**

```
å†…å­˜å‚æ•°é…ç½®ç­–ç•¥ï¼š

å°é¡¹ç›®ï¼ˆç®€å•æŸ¥è¯¢ï¼‰ï¼š
â”œâ”€â”€ é»˜è®¤é…ç½®å³å¯
â”œâ”€â”€ prepStmtCacheSize=25
â””â”€â”€ maxRows=500

ä¸­å‹é¡¹ç›®ï¼ˆå¤æ‚æŸ¥è¯¢ï¼‰ï¼š
â”œâ”€â”€ prepStmtCacheSize=100-250
â”œâ”€â”€ largeRowSizeThreshold=2048
â””â”€â”€ maxRows=1000-5000

å¤§å‹é¡¹ç›®ï¼ˆé«˜å¹¶å‘ï¼‰ï¼š
â”œâ”€â”€ prepStmtCacheSize=250-500
â”œâ”€â”€ å¯ç”¨useCompression=true
â””â”€â”€ æ ¹æ®ç¡¬ä»¶èµ„æºè°ƒæ•´
```

---

## 5. ğŸ›¡ï¸ å®‰å…¨ç›¸å…³å‚æ•°é…ç½®


### 5.1 SSLå®‰å…¨è¿æ¥


**ğŸ”’ æ•°æ®ä¼ è¾“åŠ å¯†**

> âš ï¸ **å®‰å…¨æé†’**ï¼šSSLå°±åƒç»™æ•°æ®ç©¿ä¸Š"é˜²å¼¹è¡£"ï¼Œä¿æŠ¤æ•°æ®åœ¨ç½‘ç»œä¸­çš„å®‰å…¨ä¼ è¾“

```java
// å®‰å…¨è¿æ¥é…ç½®ï¼ˆç”Ÿäº§ç¯å¢ƒæ¨èï¼‰
String secureUrl = "jdbc:mysql://localhost:3306/testdb" +
    "?useSSL=true" +                        // å¯ç”¨SSL
    "&requireSSL=true" +                    // å¼ºåˆ¶è¦æ±‚SSL
    "&verifyServerCertificate=true" +       // éªŒè¯æœåŠ¡å™¨è¯ä¹¦
    "&trustCertificateKeyStoreUrl=file:path/to/truststore" +
    "&trustCertificateKeyStorePassword=password";

// å¼€å‘ç¯å¢ƒç®€åŒ–é…ç½®
String devUrl = "jdbc:mysql://localhost:3306/testdb" +
    "?useSSL=false" +                       // å¼€å‘æ—¶å¯å…³é—­
    "&allowPublicKeyRetrieval=true";        // å…è®¸è·å–å…¬é’¥
```

### 5.2 èº«ä»½éªŒè¯å‚æ•°


**ğŸ‘¤ ç”¨æˆ·è®¤è¯è®¾ç½®**

| å®‰å…¨çº§åˆ« | å‚æ•°é…ç½® | é€‚ç”¨ç¯å¢ƒ | å®‰å…¨ç¨‹åº¦ |
|----------|----------|----------|----------|
| **åŸºç¡€è®¤è¯** | `user + password` | å¼€å‘ç¯å¢ƒ | â­â­ |
| **SSLåŠ å¯†** | `useSSL=true` | æµ‹è¯•ç¯å¢ƒ | â­â­â­ |
| **è¯ä¹¦è®¤è¯** | `è¯ä¹¦+SSL` | ç”Ÿäº§ç¯å¢ƒ | â­â­â­â­ |
| **åŒå‘è®¤è¯** | `å®¢æˆ·ç«¯+æœåŠ¡å™¨è¯ä¹¦` | é«˜å®‰å…¨è¦æ±‚ | â­â­â­â­â­ |

### 5.3 æƒé™æ§åˆ¶å‚æ•°


```java
// æƒé™é™åˆ¶é…ç½®ç¤ºä¾‹
String restrictedUrl = "jdbc:mysql://localhost:3306/testdb" +
    "?allowLoadLocalInfile=false" +         // ç¦æ­¢åŠ è½½æœ¬åœ°æ–‡ä»¶
    "&allowUrlInLocalInfile=false" +        // ç¦æ­¢URLæ–‡ä»¶åŠ è½½
    "&allowMultiQueries=false" +            // ç¦æ­¢å¤šè¯­å¥æ‰§è¡Œ
    "&autoDeserialize=false";               // ç¦æ­¢è‡ªåŠ¨ååºåˆ—åŒ–
```

> ğŸš¨ **å®‰å…¨è­¦å‘Š**ï¼šç”Ÿäº§ç¯å¢ƒä¸­ï¼Œåº”è¯¥å°†è¿™äº›å±é™©åŠŸèƒ½å…¨éƒ¨å…³é—­ï¼Œé˜²æ­¢SQLæ³¨å…¥æ”»å‡»

---

## 6. ğŸ”§ å…¼å®¹æ€§å‚æ•°è¯´æ˜


### 6.1 MySQLç‰ˆæœ¬å…¼å®¹


**ğŸ“… ä¸åŒMySQLç‰ˆæœ¬çš„å…¼å®¹å¤„ç†**

```java
// MySQL 8.0+ å…¼å®¹é…ç½®
String mysql8Url = "jdbc:mysql://localhost:3306/testdb" +
    "?serverTimezone=Asia/Shanghai" +       // 8.0å¿…éœ€å‚æ•°
    "&useSSL=false" +
    "&allowPublicKeyRetrieval=true" +       // 8.0æ–°è®¤è¯æ–¹å¼
    "&useUnicode=true" +
    "&characterEncoding=utf8mb4";           // æ”¯æŒemojiç­‰4å­—èŠ‚å­—ç¬¦

// MySQL 5.7åŠä»¥ä¸‹å…¼å®¹é…ç½®  
String mysql57Url = "jdbc:mysql://localhost:3306/testdb" +
    "?useUnicode=true" +
    "&characterEncoding=UTF-8" +
    "&autoReconnect=true" +
    "&useOldAliasMetadataBehavior=true";    // å…¼å®¹è€ç‰ˆæœ¬
```

### 6.2 é©±åŠ¨ç‰ˆæœ¬å…¼å®¹


**ğŸ”„ JDBCé©±åŠ¨ç‰ˆæœ¬é€‚é…**

| MySQLç‰ˆæœ¬ | æ¨èé©±åŠ¨ç‰ˆæœ¬ | å…³é”®å‚æ•° | æ³¨æ„äº‹é¡¹ |
|-----------|------------|----------|----------|
| **MySQL 8.0+** | `8.0.x` | `serverTimezoneå¿…éœ€` | æ–°è®¤è¯æ’ä»¶ |
| **MySQL 5.7** | `5.1.x - 8.0.x` | `useSSL=false` | è¿‡æ¸¡ç‰ˆæœ¬ |
| **MySQL 5.6åŠä»¥ä¸‹** | `5.1.x` | `useOldAliasMetadataBehavior=true` | è€ç‰ˆæœ¬å…¼å®¹ |

### 6.3 åº”ç”¨æœåŠ¡å™¨å…¼å®¹


**ğŸ–¥ï¸ ä¸åŒåº”ç”¨ç¯å¢ƒçš„å‚æ•°è°ƒæ•´**

```
Tomcatç¯å¢ƒï¼š
â”œâ”€â”€ è¿æ¥æ± é…ç½®ï¼šmaxActive=20
â”œâ”€â”€ è¶…æ—¶è®¾ç½®ï¼šconnectTimeout=30000
â””â”€â”€ ç¼–ç è®¾ç½®ï¼šURIEncoding="UTF-8"

Spring Bootç¯å¢ƒï¼š
â”œâ”€â”€ è‡ªåŠ¨é…ç½®ï¼šspring.datasource.url
â”œâ”€â”€ è¿æ¥æ± ï¼šä½¿ç”¨HikariCPé»˜è®¤é…ç½®  
â””â”€â”€ æ—¶åŒºå¤„ç†ï¼šspring.jpa.properties.hibernate.jdbc.time_zone

ç‹¬ç«‹åº”ç”¨ï¼š
â”œâ”€â”€ æ‰‹åŠ¨ç®¡ç†è¿æ¥æ± 
â”œâ”€â”€ æ˜¾å¼è®¾ç½®æ‰€æœ‰å‚æ•°
â””â”€â”€ å¤„ç†è¿æ¥æ³„éœ²é—®é¢˜
```

---

## 7. ğŸ¯ å¸¸ç”¨å‚æ•°ç»„åˆæ¨è


### 7.1 å¼€å‘ç¯å¢ƒé…ç½®


**ğŸ› ï¸ å¼€å‘è°ƒè¯•å‹å¥½é…ç½®**

```java
/**
 * å¼€å‘ç¯å¢ƒï¼šæ³¨é‡è°ƒè¯•ä¾¿åˆ©æ€§ï¼Œæ€§èƒ½è¦æ±‚ä¸é«˜
 */
String devConfig = "jdbc:mysql://localhost:3306/testdb" +
    "?user=root" +
    "&password=123456" +
    "&useSSL=false" +                       // ç®€åŒ–SSLé…ç½®
    "&serverTimezone=Asia/Shanghai" +       // é¿å…æ—¶åŒºé—®é¢˜
    "&useUnicode=true" +
    "&characterEncoding=UTF-8" +
    "&allowMultiQueries=true" +             // æ–¹ä¾¿è°ƒè¯•å¤šæ¡SQL
    "&autoReconnect=true";                  // è‡ªåŠ¨é‡è¿ä¾¿äºå¼€å‘
```

> ğŸ’¡ **å¼€å‘å°è´´å£«**ï¼šå¼€å‘ç¯å¢ƒä¼˜å…ˆè€ƒè™‘ä¾¿åˆ©æ€§ï¼Œå¯ä»¥é€‚å½“æ”¾å®½å®‰å…¨é™åˆ¶

### 7.2 ç”Ÿäº§ç¯å¢ƒé…ç½®


**ğŸ­ ç”Ÿäº§ç¯å¢ƒé«˜æ€§èƒ½å®‰å…¨é…ç½®**

```java
/**
 * ç”Ÿäº§ç¯å¢ƒï¼šæ³¨é‡æ€§èƒ½å’Œå®‰å…¨æ€§
 */
String prodConfig = "jdbc:mysql://prod-db:3306/myapp" +
    "?useSSL=true" +                        // å¯ç”¨SSLåŠ å¯†
    "&serverTimezone=UTC" +                 // ç»Ÿä¸€ä½¿ç”¨UTCæ—¶åŒº
    "&useUnicode=true" +
    "&characterEncoding=UTF-8" +
    "&autoReconnect=true" +
    "&failOverReadOnly=false" +
    "&maxReconnects=3" +
    "&initialTimeout=2" +
    "&connectTimeout=30000" +
    "&socketTimeout=600000" +               // 10åˆ†é’Ÿè¶…æ—¶
    "&rewriteBatchedStatements=true" +      // æ‰¹å¤„ç†ä¼˜åŒ–
    "&cachePrepStmts=true" +                // ç¼“å­˜é¢„å¤„ç†
    "&prepStmtCacheSize=250" +
    "&prepStmtCacheSqlLimit=2048" +
    "&useServerPrepStmts=true" +
    "&allowLoadLocalInfile=false" +         // å®‰å…¨é™åˆ¶
    "&allowMultiQueries=false";             // ç¦æ­¢å¤šæŸ¥è¯¢
```

### 7.3 é«˜å¹¶å‘åœºæ™¯é…ç½®


**âš¡ é«˜å¹¶å‘ä¼˜åŒ–é…ç½®**

```java
/**
 * é«˜å¹¶å‘åœºæ™¯ï¼šæœ€å¤§åŒ–æ€§èƒ½
 */
String highConcurrencyConfig = "jdbc:mysql://cluster-db:3306/bigapp" +
    "?useUnicode=true" +
    "&characterEncoding=UTF-8" +
    "&serverTimezone=UTC" +
    "&useSSL=true" +
    "&connectTimeout=5000" +                // çŸ­è¿æ¥è¶…æ—¶
    "&socketTimeout=30000" +                // çŸ­socketè¶…æ—¶
    "&autoReconnect=true" +
    "&maxReconnects=1" +                    // å‡å°‘é‡è¿å°è¯•
    "&rewriteBatchedStatements=true" +      // æ‰¹å¤„ç†å¿…å¼€
    "&cachePrepStmts=true" +
    "&prepStmtCacheSize=500" +              // æ›´å¤§ç¼“å­˜
    "&prepStmtCacheSqlLimit=4096" +
    "&useServerPrepStmts=true" +
    "&useCompression=true" +                // å¯ç”¨å‹ç¼©
    "&useCursorFetch=true" +                // æ¸¸æ ‡è·å–
    "&defaultFetchSize=1000";               // åˆç†çš„æ‰¹æ¬¡å¤§å°
```

### 7.4 ç‰¹å®šåœºæ™¯é…ç½®æ¨è


| åº”ç”¨åœºæ™¯ | æ ¸å¿ƒå‚æ•° | æ€§èƒ½é‡ç‚¹ | æ³¨æ„äº‹é¡¹ |
|----------|----------|----------|----------|
| **æ•°æ®åˆ†æ** | `useCursorFetch=true`<br>`defaultFetchSize=5000` | å¤„ç†å¤§ç»“æœé›† | é¿å…å†…å­˜æº¢å‡º |
| **å®æ—¶äº¤æ˜“** | `connectTimeout=1000`<br>`socketTimeout=5000` | å¿«é€Ÿå“åº” | è®¾ç½®çŸ­è¶…æ—¶ |
| **æ‰¹é‡å¤„ç†** | `rewriteBatchedStatements=true`<br>`useCompression=true` | æ‰¹å¤„ç†æ•ˆç‡ | åˆç†æ‰¹æ¬¡å¤§å° |
| **è¯»å¤šå†™å°‘** | `cachePrepStmts=true`<br>`prepStmtCacheSize=500` | æŸ¥è¯¢ç¼“å­˜ | ç¼“å­˜å‘½ä¸­ç‡ |

---

## 8. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 8.1 å¿…é¡»æŒæ¡çš„å‚æ•°


```
ğŸ”¸ åŸºç¡€è¿æ¥ï¼šuser, password, serverTimezone, useSSL
ğŸ”¸ ç¼–ç è®¾ç½®ï¼šuseUnicode=true, characterEncoding=UTF-8
ğŸ”¸ æ€§èƒ½ä¼˜åŒ–ï¼šrewriteBatchedStatements, cachePrepStmts
ğŸ”¸ è¶…æ—¶æ§åˆ¶ï¼šconnectTimeout, socketTimeout
ğŸ”¸ å®‰å…¨é…ç½®ï¼šallowMultiQueries=false, allowLoadLocalInfile=false
```

### 8.2 å‚æ•°é€‰æ‹©åŸåˆ™


**ğŸ¯ é…ç½®ç­–ç•¥**
```
å¼€å‘ç¯å¢ƒåŸåˆ™ï¼š
- ä¾¿åˆ©æ€§ > æ€§èƒ½ > å®‰å…¨æ€§
- å…è®¸è°ƒè¯•åŠŸèƒ½ï¼Œç®€åŒ–é…ç½®

æµ‹è¯•ç¯å¢ƒåŸåˆ™ï¼š
- æ¥è¿‘ç”Ÿäº§ç¯å¢ƒé…ç½®
- å¼€å¯æ€§èƒ½ç›‘æ§å‚æ•°

ç”Ÿäº§ç¯å¢ƒåŸåˆ™ï¼š
- å®‰å…¨æ€§ > æ€§èƒ½ > ä¾¿åˆ©æ€§
- ä¸¥æ ¼çš„å®‰å…¨é™åˆ¶ï¼Œä¼˜åŒ–çš„æ€§èƒ½é…ç½®
```

### 8.3 å¸¸è§é…ç½®é”™è¯¯


**âŒ é¿å…çš„å¸¸è§é—®é¢˜**

> âš ï¸ **é‡è¦æé†’**ï¼šè¿™äº›æ˜¯æ–°æ‰‹æœ€å®¹æ˜“çŠ¯çš„é”™è¯¯

1. **æ—¶åŒºé—®é¢˜**ï¼š`serverTimezone`å‚æ•°ç¼ºå¤±å¯¼è‡´è¿æ¥å¤±è´¥
2. **ç¼–ç é—®é¢˜**ï¼šä¸­æ–‡ä¹±ç å› ä¸ºæ²¡è®¾ç½®`characterEncoding=UTF-8`
3. **æ€§èƒ½é—®é¢˜**ï¼šé«˜å¹¶å‘åœºæ™¯æ²¡å¼€å¯`rewriteBatchedStatements`
4. **å®‰å…¨é—®é¢˜**ï¼šç”Ÿäº§ç¯å¢ƒå¼€å¯äº†`allowMultiQueries=true`
5. **è¶…æ—¶é—®é¢˜**ï¼šæ²¡è®¾ç½®åˆç†çš„`connectTimeout`å’Œ`socketTimeout`

### 8.4 å‚æ•°è°ƒä¼˜å»ºè®®


**ğŸ”§ ä¼˜åŒ–æ­¥éª¤**
```
ç¬¬ä¸€æ­¥ï¼šç¡®ä¿åŸºæœ¬è¿æ¥æ­£å¸¸
â”œâ”€â”€ è®¾ç½®æ­£ç¡®çš„serverTimezone
â”œâ”€â”€ é…ç½®useUnicodeå’ŒcharacterEncoding
â””â”€â”€ å¤„ç†SSLç›¸å…³è®¾ç½®

ç¬¬äºŒæ­¥ï¼šæ ¹æ®åº”ç”¨åœºæ™¯è°ƒä¼˜
â”œâ”€â”€ æ‰¹å¤„ç†åœºæ™¯ï¼šå¼€å¯rewriteBatchedStatements
â”œâ”€â”€ é«˜å¹¶å‘åœºæ™¯ï¼šè°ƒæ•´ç¼“å­˜å’Œè¶…æ—¶å‚æ•°
â””â”€â”€ å®‰å…¨è¦æ±‚ï¼šé…ç½®SSLå’Œæƒé™é™åˆ¶

ç¬¬ä¸‰æ­¥ï¼šç›‘æ§å’Œå¾®è°ƒ
â”œâ”€â”€ ç›‘æ§è¿æ¥æ± ä½¿ç”¨æƒ…å†µ
â”œâ”€â”€ è§‚å¯ŸæŸ¥è¯¢æ€§èƒ½æŒ‡æ ‡
â””â”€â”€ æ ¹æ®ç›‘æ§ç»“æœå¾®è°ƒå‚æ•°
```

### 8.5 å®ç”¨è®°å¿†æŠ€å·§


**ğŸ’¡ è®°å¿†å£è¯€**
```
è¿æ¥å‚æ•°è¦è®°ç‰¢ï¼Œ
åŸºç¡€å››é¡¹ä¸å¯å°‘ï¼š
ç”¨æˆ·å¯†ç æ—¶åŒºç¼–ç ï¼Œ
SSLå®‰å…¨è¦è€ƒè™‘ã€‚

æ€§èƒ½ä¼˜åŒ–ä¸‰å¤§å®ï¼š
æ‰¹å¤„ç†ç¼“å­˜å’Œè¶…æ—¶ï¼Œ
é«˜å¹¶å‘æ¥å‹ç¼©å¸®ï¼Œ
ç›‘æ§è°ƒä¼˜æ­¥æ­¥é«˜ã€‚
```

**ğŸ¯ å¿«é€Ÿæ£€æŸ¥æ¸…å•**
- [ ] `serverTimezone`è®¾ç½®æ­£ç¡®çš„æ—¶åŒº
- [ ] `useUnicode=true`å’Œ`characterEncoding=UTF-8`
- [ ] æ ¹æ®ç¯å¢ƒé€‰æ‹©SSLé…ç½®
- [ ] é«˜å¹¶å‘å¼€å¯`rewriteBatchedStatements=true`
- [ ] è®¾ç½®åˆç†çš„è¶…æ—¶æ—¶é—´
- [ ] ç”Ÿäº§ç¯å¢ƒå…³é—­å±é™©åŠŸèƒ½

> ğŸ“ **æ€»ç»“**ï¼šJDBCè¿æ¥å‚æ•°çš„é…ç½®æ˜¯æ•°æ®åº“ç¼–ç¨‹çš„åŸºç¡€ï¼Œé€‰å¯¹å‚æ•°èƒ½è®©ä½ çš„åº”ç”¨æ€§èƒ½æå‡å‡ å€ï¼Œé€‰é”™å‚æ•°å¯èƒ½å¯¼è‡´å„ç§å¥‡æ€ªé—®é¢˜ã€‚è®°ä½ï¼šå¼€å‘æ±‚ä¾¿åˆ©ï¼Œç”Ÿäº§æ±‚å®‰å…¨ï¼Œæ€§èƒ½ä¼˜åŒ–è¦æœ‰é’ˆå¯¹æ€§ï¼