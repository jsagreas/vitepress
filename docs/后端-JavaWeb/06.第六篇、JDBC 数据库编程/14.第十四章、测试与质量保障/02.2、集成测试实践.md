---
title: 2ã€é›†æˆæµ‹è¯•å®è·µ
---
## ğŸ“š ç›®å½•

1. [é›†æˆæµ‹è¯•åŸºç¡€æ¦‚å¿µ](#1-é›†æˆæµ‹è¯•åŸºç¡€æ¦‚å¿µ)
2. [æµ‹è¯•ç¯å¢ƒæ­å»º](#2-æµ‹è¯•ç¯å¢ƒæ­å»º)
3. [æµ‹è¯•æ•°æ®åˆå§‹åŒ–ç­–ç•¥](#3-æµ‹è¯•æ•°æ®åˆå§‹åŒ–ç­–ç•¥)
4. [æµ‹è¯•ç”¨ä¾‹è®¾è®¡åŸåˆ™](#4-æµ‹è¯•ç”¨ä¾‹è®¾è®¡åŸåˆ™)
5. [è‡ªåŠ¨åŒ–æµ‹è¯•å®ç°](#5-è‡ªåŠ¨åŒ–æµ‹è¯•å®ç°)
6. [æŒç»­é›†æˆé…ç½®](#6-æŒç»­é›†æˆé…ç½®)
7. [æµ‹è¯•æœ€ä½³å®è·µ](#7-æµ‹è¯•æœ€ä½³å®è·µ)
8. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#8-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ¯ é›†æˆæµ‹è¯•åŸºç¡€æ¦‚å¿µ


### 1.1 ä»€ä¹ˆæ˜¯é›†æˆæµ‹è¯•


æƒ³è±¡ä¸€ä¸‹ï¼Œä½ å¼€å‘äº†ä¸€ä¸ªåœ¨çº¿è´­ç‰©ç³»ç»Ÿã€‚å•å…ƒæµ‹è¯•å°±åƒæ£€æŸ¥æ¯ä¸ªé›¶ä»¶æ˜¯å¦åˆæ ¼ï¼Œæ¯”å¦‚ç”¨æˆ·æ³¨å†ŒåŠŸèƒ½ã€å•†å“æŸ¥è¯¢åŠŸèƒ½éƒ½å•ç‹¬æµ‹è¯•è¿‡äº†ã€‚ä½†æ˜¯ï¼Œ**é›†æˆæµ‹è¯•å°±æ˜¯è¦çœ‹è¿™äº›åŠŸèƒ½ç»„åˆåœ¨ä¸€èµ·æ—¶èƒ½å¦æ­£å¸¸å·¥ä½œ**ã€‚

```
ğŸª åœ¨çº¿è´­ç‰©ç³»ç»Ÿæµç¨‹ï¼š
ç”¨æˆ·æ³¨å†Œ â†’ ç™»å½•éªŒè¯ â†’ æµè§ˆå•†å“ â†’ åŠ å…¥è´­ç‰©è½¦ â†’ ä¸‹å•æ”¯ä»˜ â†’ è®¢å•ç®¡ç†

é›†æˆæµ‹è¯•è¦éªŒè¯ï¼šè¿™æ•´ä¸ªæµç¨‹èƒ½å¦é¡ºç•…è¿è¡Œï¼Ÿ
```

**ğŸ”¸ é›†æˆæµ‹è¯•çš„æ ¸å¿ƒç‰¹ç‚¹**
- **çœŸå®ç¯å¢ƒæ¨¡æ‹Ÿ**ï¼šä½¿ç”¨çœŸå®çš„æ•°æ®åº“è¿æ¥
- **å®Œæ•´ä¸šåŠ¡æµç¨‹**ï¼šæµ‹è¯•å¤šä¸ªæ¨¡å—çš„åä½œ
- **æ•°æ®ä¸€è‡´æ€§éªŒè¯**ï¼šç¡®ä¿æ•°æ®åœ¨å„ä¸ªç¯èŠ‚æ­£ç¡®ä¼ é€’
- **å¼‚å¸¸æƒ…å†µå¤„ç†**ï¼šæµ‹è¯•ç³»ç»Ÿåœ¨å¼‚å¸¸æƒ…å†µä¸‹çš„è¡¨ç°

### 1.2 ä¸ºä»€ä¹ˆéœ€è¦é›†æˆæµ‹è¯•


**ğŸ’¡ ç”Ÿæ´»ä¸­çš„ç±»æ¯”**
å°±åƒåšèœä¸€æ ·ï¼Œæ¯ä¸ªé£Ÿæéƒ½å¾ˆæ–°é²œï¼ˆå•å…ƒæµ‹è¯•é€šè¿‡ï¼‰ï¼Œä½†æ··åˆåœ¨ä¸€èµ·åšå‡ºçš„èœå¯èƒ½ä¸å¥½åƒã€‚é›†æˆæµ‹è¯•å°±æ˜¯è¦ç¡®ä¿"æ•´é“èœ"çš„å‘³é“ã€‚

**ğŸ¯ é›†æˆæµ‹è¯•è§£å†³çš„é—®é¢˜**
- **æ¥å£å…¼å®¹æ€§**ï¼šæ¨¡å—Açš„è¾“å‡ºèƒ½å¦è¢«æ¨¡å—Bæ­£ç¡®å¤„ç†
- **æ•°æ®æµæ­£ç¡®æ€§**ï¼šæ•°æ®åœ¨ç³»ç»Ÿä¸­çš„ä¼ é€’æ˜¯å¦å‡†ç¡®
- **äº‹åŠ¡ä¸€è‡´æ€§**ï¼šæ•°æ®åº“æ“ä½œæ˜¯å¦ä¿æŒä¸€è‡´æ€§
- **æ€§èƒ½è¡¨ç°**ï¼šå¤šæ¨¡å—åä½œæ—¶çš„æ€§èƒ½å¦‚ä½•

### 1.3 é›†æˆæµ‹è¯•çš„åˆ†ç±»


**ğŸ—ï¸ æŒ‰é›†æˆæ–¹å¼åˆ†ç±»**

| æµ‹è¯•ç±»å‹ | **ç‰¹ç‚¹** | **ä¼˜åŠ¿** | **é€‚ç”¨åœºæ™¯** |
|---------|---------|---------|-------------|
| ğŸ”¼ **å¤§çˆ†ç‚¸é›†æˆ** | æ‰€æœ‰æ¨¡å—åŒæ—¶é›†æˆ | ç®€å•ç›´æ¥ | å°å‹é¡¹ç›® |
| ğŸ“ˆ **å¢é‡é›†æˆ** | é€æ­¥å¢åŠ æ¨¡å— | é—®é¢˜å®šä½å‡†ç¡® | å¤æ‚ç³»ç»Ÿ |
| ğŸ—ï¸ **è‡ªé¡¶å‘ä¸‹** | ä»ä¸Šå±‚æ¨¡å—å¼€å§‹ | æ—©æœŸå‘ç°è®¾è®¡é—®é¢˜ | æ§åˆ¶æµå¤æ‚ |
| ğŸ§± **è‡ªåº•å‘ä¸Š** | ä»åº•å±‚æ¨¡å—å¼€å§‹ | åŸºç¡€åŠŸèƒ½ç¨³å›º | æ•°æ®å¤„ç†å¯†é›† |

---

## 2. ğŸ—ï¸ æµ‹è¯•ç¯å¢ƒæ­å»º


### 2.1 æµ‹è¯•ç¯å¢ƒæ¶æ„è®¾è®¡


**ğŸ¨ æµ‹è¯•ç¯å¢ƒå…¨æ™¯å›¾**
```
                    æµ‹è¯•ç¯å¢ƒæ¶æ„
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚            å¼€å‘è€…æœ¬åœ°ç¯å¢ƒ                â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚  â”œâ”€ æœ¬åœ°æ•°æ®åº“(H2/MySQL)                â”‚
    â”‚  â”œâ”€ å•å…ƒæµ‹è¯•                            â”‚
    â”‚  â””â”€ å¿«é€Ÿé›†æˆæµ‹è¯•                        â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚             æŒç»­é›†æˆç¯å¢ƒ                â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚  â”œâ”€ è‡ªåŠ¨åŒ–æµ‹è¯•æ•°æ®åº“                    â”‚
    â”‚  â”œâ”€ å®Œæ•´é›†æˆæµ‹è¯•å¥—ä»¶                    â”‚
    â”‚  â””â”€ æ€§èƒ½åŸºå‡†æµ‹è¯•                        â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚             é¢„ç”Ÿäº§ç¯å¢ƒ                  â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚  â”œâ”€ ç”Ÿäº§ç¯å¢ƒé•œåƒæ•°æ®                    â”‚
    â”‚  â”œâ”€ ç«¯åˆ°ç«¯æµ‹è¯•                          â”‚
    â”‚  â””â”€ å‹åŠ›æµ‹è¯•                            â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 æ•°æ®åº“ç¯å¢ƒé…ç½®


**ğŸ”§ å¤šç¯å¢ƒæ•°æ®åº“é…ç½®**

ä¸åŒç¯å¢ƒä½¿ç”¨ä¸åŒçš„æ•°æ®åº“é…ç½®ï¼Œå°±åƒä¸åŒåœºåˆç©¿ä¸åŒè¡£æœä¸€æ ·ã€‚

```java
// application-test.properties - æµ‹è¯•ç¯å¢ƒé…ç½®
# ä½¿ç”¨å†…å­˜æ•°æ®åº“ï¼Œé€Ÿåº¦å¿«ï¼Œæ¯æ¬¡æµ‹è¯•éƒ½æ˜¯å¹²å‡€ç¯å¢ƒ
spring.datasource.url=jdbc:h2:mem:testdb
spring.datasource.driver-class-name=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=

# æ¯æ¬¡æµ‹è¯•éƒ½é‡æ–°åˆ›å»ºè¡¨ç»“æ„
spring.jpa.hibernate.ddl-auto=create-drop

# æ˜¾ç¤ºSQLè¯­å¥ï¼Œæ–¹ä¾¿è°ƒè¯•
spring.jpa.show-sql=true
```

**ğŸ’¡ ä¸ºä»€ä¹ˆé€‰æ‹©H2å†…å­˜æ•°æ®åº“åšæµ‹è¯•ï¼Ÿ**
- **é€Ÿåº¦å¿«**ï¼šå†…å­˜æ“ä½œæ¯”ç£ç›˜å¿«å¾ˆå¤š
- **éš”ç¦»æ€§å¥½**ï¼šæ¯æ¬¡æµ‹è¯•éƒ½æ˜¯å…¨æ–°ç¯å¢ƒ
- **è½»é‡çº§**ï¼šä¸éœ€è¦å®‰è£…é¢å¤–è½¯ä»¶
- **å…¼å®¹æ€§å¥½**ï¼šæ”¯æŒæ ‡å‡†SQLè¯­æ³•

### 2.3 æµ‹è¯•å®¹å™¨åŒ–éƒ¨ç½²


**ğŸ³ Dockeræµ‹è¯•ç¯å¢ƒé…ç½®**

```yaml
# docker-compose-test.yml
version: '3.8'
services:
  # æµ‹è¯•æ•°æ®åº“
  test-db:
    image: mysql:8.0
    environment:
      MYSQL_ROOT_PASSWORD: testroot
      MYSQL_DATABASE: testdb
      MYSQL_USER: testuser
      MYSQL_PASSWORD: testpass
    ports:
      - "3307:3306"
    # ä½¿ç”¨ä¸´æ—¶æ–‡ä»¶ç³»ç»Ÿï¼Œæµ‹è¯•ç»“æŸè‡ªåŠ¨æ¸…ç†
    tmpfs:
      - /var/lib/mysql
  
  # åº”ç”¨ç¨‹åº
  app:
    build: .
    depends_on:
      - test-db
    environment:
      - SPRING_PROFILES_ACTIVE=test
    ports:
      - "8081:8080"
```

**ğŸ¯ å®¹å™¨åŒ–æµ‹è¯•çš„å¥½å¤„**
- **ç¯å¢ƒä¸€è‡´æ€§**ï¼šæ¯ä¸ªå¼€å‘è€…éƒ½æœ‰ç›¸åŒçš„æµ‹è¯•ç¯å¢ƒ
- **å¿«é€Ÿå¯åŠ¨**ï¼šå‡ ç§’é’Ÿå°±èƒ½å¯åŠ¨å®Œæ•´æµ‹è¯•ç¯å¢ƒ
- **è‡ªåŠ¨æ¸…ç†**ï¼šæµ‹è¯•ç»“æŸåç¯å¢ƒè‡ªåŠ¨é”€æ¯
- **èµ„æºéš”ç¦»**ï¼šä¸ä¼šå½±å“æœ¬åœ°å…¶ä»–åº”ç”¨

---

## 3. ğŸ“Š æµ‹è¯•æ•°æ®åˆå§‹åŒ–ç­–ç•¥


### 3.1 æµ‹è¯•æ•°æ®çš„é‡è¦æ€§


**ğŸŒ± æµ‹è¯•æ•°æ®å°±åƒç§å­**
å¥½çš„æµ‹è¯•æ•°æ®å°±åƒä¼˜è´¨çš„ç§å­ï¼Œèƒ½è®©æµ‹è¯•"å¼€èŠ±ç»“æœ"ã€‚æµ‹è¯•æ•°æ®çš„è´¨é‡ç›´æ¥å½±å“æµ‹è¯•çš„æœ‰æ•ˆæ€§ã€‚

**ğŸ”¸ æµ‹è¯•æ•°æ®çš„ç‰¹ç‚¹è¦æ±‚**
- **å¯é¢„æµ‹æ€§**ï¼šçŸ¥é“è¾“å…¥ä»€ä¹ˆï¼Œåº”è¯¥å¾—åˆ°ä»€ä¹ˆç»“æœ
- **å®Œæ•´æ€§**ï¼šè¦†ç›–å„ç§ä¸šåŠ¡åœºæ™¯
- **ä¸€è‡´æ€§**ï¼šæ•°æ®ä¹‹é—´çš„å…³ç³»è¦æ­£ç¡®
- **å¯é‡å¤æ€§**ï¼šæ¯æ¬¡æµ‹è¯•éƒ½èƒ½å¾—åˆ°ç›¸åŒç»“æœ

### 3.2 æ•°æ®åˆå§‹åŒ–æ–¹å¼å¯¹æ¯”


| æ–¹å¼ | **æè¿°** | **ä¼˜ç‚¹** | **ç¼ºç‚¹** | **é€‚ç”¨åœºæ™¯** |
|------|----------|----------|----------|-------------|
| ğŸ—‚ï¸ **SQLè„šæœ¬** | é¢„å†™SQLæ–‡ä»¶ | ç›´è§‚ã€çµæ´» | ç»´æŠ¤æˆæœ¬é«˜ | å¤æ‚æ•°æ®å…³ç³» |
| ğŸ­ **æ•°æ®å·¥å‚** | ä»£ç ç”Ÿæˆæ•°æ® | çµæ´»ã€å¯æ§ | éœ€è¦ç¼–ç¨‹ | åŠ¨æ€æµ‹è¯•åœºæ™¯ |
| ğŸ“‹ **æµ‹è¯•å¤¹å…·** | å›ºå®šæµ‹è¯•æ•°æ®é›† | ç¨³å®šã€å¿«é€Ÿ | ä¸å¤Ÿçµæ´» | æ ‡å‡†åŒ–æµ‹è¯• |
| ğŸ“¸ **æ•°æ®å¿«ç…§** | çœŸå®æ•°æ®å¤‡ä»½ | çœŸå®æ€§é«˜ | éšç§é£é™©å¤§ | å›å½’æµ‹è¯• |

### 3.3 SQLè„šæœ¬åˆå§‹åŒ–å®è·µ


**ğŸ“ åˆ›å»ºæµ‹è¯•æ•°æ®SQLè„šæœ¬**

```sql
-- test-data.sql - æµ‹è¯•æ•°æ®åˆå§‹åŒ–è„šæœ¬

-- 1. æ¸…ç†æ—§æ•°æ®ï¼ˆæŒ‰ä¾èµ–å…³ç³»å€’åºåˆ é™¤ï¼‰
DELETE FROM order_items;
DELETE FROM orders;  
DELETE FROM products;
DELETE FROM users;

-- 2. æ’å…¥æµ‹è¯•ç”¨æˆ·æ•°æ®
INSERT INTO users (id, username, email, password, created_time) VALUES
(1, 'testuser1', 'test1@example.com', 'password123', '2024-01-01 10:00:00'),
(2, 'testuser2', 'test2@example.com', 'password456', '2024-01-01 11:00:00'),
(3, 'adminuser', 'admin@example.com', 'adminpass', '2024-01-01 09:00:00');

-- 3. æ’å…¥æµ‹è¯•å•†å“æ•°æ®  
INSERT INTO products (id, name, price, stock, category) VALUES
(1, 'æµ‹è¯•å•†å“A', 99.99, 100, 'ç”µå­äº§å“'),
(2, 'æµ‹è¯•å•†å“B', 199.99, 50, 'å®¶å±…ç”¨å“'),
(3, 'æµ‹è¯•å•†å“C', 299.99, 20, 'æœè£…é‹å¸½');

-- 4. æ’å…¥æµ‹è¯•è®¢å•æ•°æ®
INSERT INTO orders (id, user_id, total_amount, status, created_time) VALUES
(1, 1, 99.99, 'å·²æ”¯ä»˜', '2024-01-02 10:30:00'),
(2, 2, 399.98, 'å¾…æ”¯ä»˜', '2024-01-02 11:30:00');

-- 5. æ’å…¥è®¢å•æ˜ç»†æ•°æ®
INSERT INTO order_items (id, order_id, product_id, quantity, price) VALUES
(1, 1, 1, 1, 99.99),
(2, 2, 2, 2, 199.99);
```

**ğŸ’¡ SQLè„šæœ¬è®¾è®¡åŸåˆ™**
- **å…ˆåˆ åæ’**ï¼šç¡®ä¿æ•°æ®çš„ä¸€è‡´æ€§
- **æŒ‰ä¾èµ–å…³ç³»**ï¼šå…ˆæ’å…¥è¢«ä¾èµ–çš„æ•°æ®
- **ä½¿ç”¨å›ºå®šID**ï¼šä¾¿äºæµ‹è¯•æ–­è¨€
- **è¦†ç›–å…¸å‹åœºæ™¯**ï¼šæ­£å¸¸ã€å¼‚å¸¸ã€è¾¹ç•Œæƒ…å†µ

### 3.4 Javaæ•°æ®å·¥å‚æ¨¡å¼


**ğŸ­ ä½¿ç”¨å»ºé€ è€…æ¨¡å¼åˆ›å»ºæµ‹è¯•æ•°æ®**

```java
/**
 * ç”¨æˆ·æµ‹è¯•æ•°æ®å·¥å‚
 * åƒæµæ°´çº¿ä¸€æ ·ç”Ÿäº§æµ‹è¯•ç”¨æˆ·æ•°æ®
 */
public class UserTestDataBuilder {
    private User user;
    
    public UserTestDataBuilder() {
        // è®¾ç½®é»˜è®¤å€¼
        this.user = new User();
        this.user.setUsername("defaultUser");
        this.user.setEmail("default@test.com");
        this.user.setPassword("defaultPass");
        this.user.setCreatedTime(LocalDateTime.now());
    }
    
    public UserTestDataBuilder withUsername(String username) {
        this.user.setUsername(username);
        return this;
    }
    
    public UserTestDataBuilder withEmail(String email) {
        this.user.setEmail(email);
        return this;
    }
    
    public UserTestDataBuilder asVipUser() {
        this.user.setVipLevel(VipLevel.GOLD);
        this.user.setVipExpireTime(LocalDateTime.now().plusMonths(12));
        return this;
    }
    
    public User build() {
        return this.user;
    }
    
    // é™æ€å·¥å‚æ–¹æ³•ï¼Œä½¿ç”¨æ›´ç®€å•
    public static UserTestDataBuilder aUser() {
        return new UserTestDataBuilder();
    }
}
```

**ğŸ¯ ä½¿ç”¨æ•°æ®å·¥å‚çš„æµ‹è¯•ç¤ºä¾‹**

```java
@Test
public void testVipUserDiscount() {
    // åˆ›å»ºVIPç”¨æˆ·æµ‹è¯•æ•°æ®ï¼Œä»£ç è¯»èµ·æ¥åƒè‡ªç„¶è¯­è¨€
    User vipUser = aUser()
        .withUsername("vipuser")
        .withEmail("vip@test.com") 
        .asVipUser()
        .build();
        
    // åˆ›å»ºè®¢å•æµ‹è¯•æ•°æ®
    Order order = anOrder()
        .withUser(vipUser)
        .withTotalAmount(new BigDecimal("1000.00"))
        .build();
    
    // æ‰§è¡Œä¸šåŠ¡é€»è¾‘
    BigDecimal finalAmount = discountService.calculateFinalAmount(order);
    
    // éªŒè¯VIPç”¨æˆ·äº«å—æŠ˜æ‰£
    assertThat(finalAmount).isLessThan(new BigDecimal("1000.00"));
}
```

---

## 4. ğŸ¯ æµ‹è¯•ç”¨ä¾‹è®¾è®¡åŸåˆ™


### 4.1 FIRSTåŸåˆ™è¯¦è§£


**ğŸƒ FIRSTåŸåˆ™ - å¥½æµ‹è¯•çš„é»„é‡‘æ³•åˆ™**

| åŸåˆ™ | **å«ä¹‰** | **å®è·µè¦ç‚¹** | **ç¤ºä¾‹** |
|------|----------|-------------|----------|
| **F**ast | å¿«é€Ÿ | æµ‹è¯•è¿è¡Œè¦å¿« | å•ä¸ªæµ‹è¯•<100ms |
| **I**ndependent | ç‹¬ç«‹ | æµ‹è¯•é—´ä¸ç›¸äº’ä¾èµ– | ä»»æ„é¡ºåºæ‰§è¡Œ |
| **R**epeatable | å¯é‡å¤ | ä»»ä½•ç¯å¢ƒéƒ½èƒ½è¿è¡Œ | ä¸ä¾èµ–å¤–éƒ¨æœåŠ¡ |
| **S**elf-validating | è‡ªéªŒè¯ | æœ‰æ˜ç¡®çš„é€šè¿‡/å¤±è´¥ | ä½¿ç”¨æ–­è¨€ |
| **T**imely | åŠæ—¶ | ä¸ä»£ç åŒæ­¥ç¼–å†™ | TDDå¼€å‘æ¨¡å¼ |

### 4.2 æµ‹è¯•ç”¨ä¾‹åˆ†å±‚è®¾è®¡


**ğŸ”ï¸ æµ‹è¯•é‡‘å­—å¡”**
```
                  ğŸ”º E2Eæµ‹è¯•
                 /   (å°‘é‡)   \
                /_____________\
               ğŸ”º é›†æˆæµ‹è¯• ğŸ”º
              /   (é€‚é‡)    \
             /_______________\
            ğŸ”º  å•å…ƒæµ‹è¯•  ğŸ”º
           /    (å¤§é‡)      \
          /_________________\
```

**ğŸ“Š å„å±‚æµ‹è¯•çš„èŒè´£**

**ğŸ¯ å•å…ƒæµ‹è¯• (70%)**
- æµ‹è¯•å•ä¸ªæ–¹æ³•æˆ–ç±»
- ä½¿ç”¨Mockå¯¹è±¡éš”ç¦»ä¾èµ–
- è¿è¡Œé€Ÿåº¦æœ€å¿«

**ğŸ”— é›†æˆæµ‹è¯• (20%)**  
- æµ‹è¯•æ¨¡å—é—´åä½œ
- ä½¿ç”¨çœŸå®æ•°æ®åº“
- éªŒè¯æ•°æ®ä¸€è‡´æ€§

**ğŸŒ ç«¯åˆ°ç«¯æµ‹è¯• (10%)**
- æµ‹è¯•å®Œæ•´ä¸šåŠ¡æµç¨‹
- æ¨¡æ‹Ÿç”¨æˆ·çœŸå®æ“ä½œ
- è¿è¡Œé€Ÿåº¦æœ€æ…¢

### 4.3 è¾¹ç•Œå€¼æµ‹è¯•è®¾è®¡


**ğŸ¯ è¾¹ç•Œå€¼åˆ†ææ³•**

ä»¥ç”¨æˆ·å¹´é¾„éªŒè¯ä¸ºä¾‹ï¼š
```
å¹´é¾„æœ‰æ•ˆèŒƒå›´ï¼š18-65å²

æµ‹è¯•ç”¨ä¾‹è®¾è®¡ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ— æ•ˆå€¼  â”‚ è¾¹ç•Œå€¼ â”‚  æœ‰æ•ˆå€¼  â”‚ è¾¹ç•Œå€¼ â”‚ æ— æ•ˆå€¼ â”‚
â”‚   17   â”‚   18   â”‚   35    â”‚   65   â”‚   66   â”‚
â”‚   âŒ   â”‚   âœ…   â”‚   âœ…   â”‚   âœ…   â”‚   âŒ   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ğŸ’¡ è¾¹ç•Œå€¼æµ‹è¯•åŸåˆ™**
- **æœ€å°å€¼-1**ï¼šæµ‹è¯•è¾¹ç•Œå¤–çš„æ— æ•ˆå€¼
- **æœ€å°å€¼**ï¼šæµ‹è¯•è¾¹ç•Œä¸Šçš„æœ‰æ•ˆå€¼  
- **æœ€å°å€¼+1**ï¼šæµ‹è¯•è¾¹ç•Œå†…çš„æœ‰æ•ˆå€¼
- **æœ€å¤§å€¼-1**ï¼šæµ‹è¯•è¾¹ç•Œå†…çš„æœ‰æ•ˆå€¼
- **æœ€å¤§å€¼**ï¼šæµ‹è¯•è¾¹ç•Œä¸Šçš„æœ‰æ•ˆå€¼
- **æœ€å¤§å€¼+1**ï¼šæµ‹è¯•è¾¹ç•Œå¤–çš„æ— æ•ˆå€¼

### 4.4 å¼‚å¸¸åœºæ™¯æµ‹è¯•


**âš ï¸ å¼‚å¸¸æµ‹è¯•åœºæ™¯çŸ©é˜µ**

| å¼‚å¸¸ç±»å‹ | **æµ‹è¯•åœºæ™¯** | **é¢„æœŸè¡Œä¸º** | **éªŒè¯ç‚¹** |
|----------|-------------|-------------|-----------|
| ğŸš« **æ•°æ®åº“è¿æ¥å¤±è´¥** | æ–­å¼€æ•°æ®åº“è¿æ¥ | æŠ›å‡ºè¿æ¥å¼‚å¸¸ | å¼‚å¸¸ç±»å‹å’Œæ¶ˆæ¯ |
| ğŸ”’ **æ•°æ®åº“é”å†²çª** | å¹¶å‘ä¿®æ”¹åŒä¸€è®°å½• | äº‹åŠ¡å›æ»š | æ•°æ®ä¸€è‡´æ€§ |
| ğŸ“Š **æ•°æ®æ ¼å¼é”™è¯¯** | æ’å…¥éæ³•æ•°æ® | éªŒè¯å¤±è´¥ | é”™è¯¯æç¤ºä¿¡æ¯ |
| â±ï¸ **æ“ä½œè¶…æ—¶** | é•¿æ—¶é—´è¿è¡Œçš„æŸ¥è¯¢ | è¶…æ—¶å¼‚å¸¸ | èµ„æºæ­£ç¡®é‡Šæ”¾ |

---

## 5. ğŸ¤– è‡ªåŠ¨åŒ–æµ‹è¯•å®ç°


### 5.1 JUnit 5æµ‹è¯•æ¡†æ¶åŸºç¡€


**ğŸ§ª JUnit 5æµ‹è¯•ç”Ÿå‘½å‘¨æœŸ**

```java
@TestMethodOrder(OrderAnnotation.class) // æŒ‡å®šæµ‹è¯•æ‰§è¡Œé¡ºåº
class UserServiceIntegrationTest {
    
    @BeforeAll
    static void setupAll() {
        // æ‰€æœ‰æµ‹è¯•å¼€å§‹å‰æ‰§è¡Œä¸€æ¬¡
        System.out.println("ğŸ—ï¸ åˆå§‹åŒ–æµ‹è¯•ç¯å¢ƒ");
    }
    
    @BeforeEach  
    void setUp() {
        // æ¯ä¸ªæµ‹è¯•æ–¹æ³•æ‰§è¡Œå‰éƒ½ä¼šæ‰§è¡Œ
        System.out.println("ğŸ§¹ æ¸…ç†æµ‹è¯•æ•°æ®");
    }
    
    @Test
    @Order(1)
    @DisplayName("ç”¨æˆ·æ³¨å†ŒåŠŸèƒ½æµ‹è¯•")
    void testUserRegistration() {
        // å…·ä½“çš„æµ‹è¯•é€»è¾‘
    }
    
    @AfterEach
    void tearDown() {
        // æ¯ä¸ªæµ‹è¯•æ–¹æ³•æ‰§è¡Œåéƒ½ä¼šæ‰§è¡Œ  
        System.out.println("ğŸ—‘ï¸ æ¸…ç†æµ‹è¯•æ•°æ®");
    }
    
    @AfterAll
    static void tearDownAll() {
        // æ‰€æœ‰æµ‹è¯•ç»“æŸåæ‰§è¡Œä¸€æ¬¡
        System.out.println("ğŸ æ¸…ç†æµ‹è¯•ç¯å¢ƒ");
    }
}
```

### 5.2 Spring Bootæµ‹è¯•é›†æˆ


**ğŸŒ± Spring Bootæµ‹è¯•æ³¨è§£è¯¦è§£**

```java
@SpringBootTest // å¯åŠ¨å®Œæ•´çš„Springåº”ç”¨ä¸Šä¸‹æ–‡
@AutoConfigureTestDatabase(replace = NONE) // ä½¿ç”¨çœŸå®æ•°æ®åº“
@TestPropertySource(locations = "classpath:application-test.properties") // æµ‹è¯•é…ç½®
@Transactional // æ¯ä¸ªæµ‹è¯•æ–¹æ³•éƒ½åœ¨äº‹åŠ¡ä¸­æ‰§è¡Œ
@Rollback // æµ‹è¯•ç»“æŸåå›æ»šäº‹åŠ¡ï¼Œä¿æŒæ•°æ®æ¸…æ´
class OrderServiceIntegrationTest {
    
    @Autowired
    private OrderService orderService; // æ³¨å…¥çœŸå®çš„ä¸šåŠ¡æœåŠ¡
    
    @Autowired  
    private TestEntityManager entityManager; // ç”¨äºæµ‹è¯•æ•°æ®æ“ä½œ
    
    @Test
    @DisplayName("åˆ›å»ºè®¢å•å¹¶éªŒè¯åº“å­˜æ‰£å‡")
    void testCreateOrderWithStockReduction() {
        // Given: å‡†å¤‡æµ‹è¯•æ•°æ®
        User user = new User("testuser", "test@example.com");
        entityManager.persistAndFlush(user);
        
        Product product = new Product("æµ‹è¯•å•†å“", new BigDecimal("100.00"), 10);
        entityManager.persistAndFlush(product);
        
        // When: æ‰§è¡Œä¸šåŠ¡æ“ä½œ
        OrderCreateRequest request = new OrderCreateRequest();
        request.setUserId(user.getId());
        request.addItem(product.getId(), 2); // è´­ä¹°2ä¸ªå•†å“
        
        Order createdOrder = orderService.createOrder(request);
        
        // Then: éªŒè¯ç»“æœ
        assertThat(createdOrder).isNotNull();
        assertThat(createdOrder.getStatus()).isEqualTo(OrderStatus.PENDING);
        
        // éªŒè¯åº“å­˜æ˜¯å¦æ­£ç¡®æ‰£å‡
        Product updatedProduct = entityManager.find(Product.class, product.getId());
        assertThat(updatedProduct.getStock()).isEqualTo(8); // 10 - 2 = 8
    }
}
```

### 5.3 æ•°æ®åº“æµ‹è¯•ç‰¹åŒ–æ³¨è§£


**ğŸ“Š ä¸“é—¨çš„æ•°æ®åº“æµ‹è¯•**

```java
@DataJpaTest // åªå¯åŠ¨JPAç›¸å…³ç»„ä»¶ï¼Œæµ‹è¯•æ›´å¿«
@AutoConfigureTestDatabase(replace = NONE) // ä½¿ç”¨çœŸå®æ•°æ®åº“è¿æ¥
class UserRepositoryTest {
    
    @Autowired
    private TestEntityManager entityManager; // æµ‹è¯•ä¸“ç”¨çš„å®ä½“ç®¡ç†å™¨
    
    @Autowired
    private UserRepository userRepository; // å¾…æµ‹è¯•çš„Repository
    
    @Test
    @DisplayName("æ ¹æ®é‚®ç®±æŸ¥æ‰¾ç”¨æˆ·")
    void testFindByEmail() {
        // å‡†å¤‡æµ‹è¯•æ•°æ®
        User user = new User("testuser", "test@example.com");
        entityManager.persistAndFlush(user);
        
        // æ‰§è¡ŒæŸ¥è¯¢
        Optional<User> found = userRepository.findByEmail("test@example.com");
        
        // éªŒè¯ç»“æœ
        assertThat(found).isPresent();
        assertThat(found.get().getUsername()).isEqualTo("testuser");
    }
    
    @Test
    @DisplayName("æŸ¥è¯¢ç”¨æˆ·ç»Ÿè®¡ä¿¡æ¯")
    @Sql("/test-data/users.sql") // ä»SQLæ–‡ä»¶åŠ è½½æµ‹è¯•æ•°æ®
    void testUserStatistics() {
        long activeUsers = userRepository.countByStatus(UserStatus.ACTIVE);
        assertThat(activeUsers).isGreaterThan(0);
    }
}
```

### 5.4 é›†æˆæµ‹è¯•å®Œæ•´ç¤ºä¾‹


**ğŸª ç”µå•†ç³»ç»Ÿä¸‹å•æµç¨‹é›†æˆæµ‹è¯•**

```java
@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)
@TestInstance(TestInstance.Lifecycle.PER_CLASS) // ä¸€ä¸ªæµ‹è¯•ç±»å®ä¾‹è´¯ç©¿æ‰€æœ‰æµ‹è¯•
class ECommerceIntegrationTest {
    
    @Autowired
    private TestRestTemplate restTemplate; // ç”¨äºHTTPè¯·æ±‚æµ‹è¯•
    
    @LocalServerPort
    private int port; // éšæœºåˆ†é…çš„æµ‹è¯•ç«¯å£
    
    private String baseUrl;
    private Long testUserId;
    private Long testProductId;
    
    @BeforeAll
    void setupTestData() {
        baseUrl = "http://localhost:" + port;
        
        // åˆ›å»ºæµ‹è¯•ç”¨æˆ·
        CreateUserRequest userRequest = new CreateUserRequest();
        userRequest.setUsername("integrationtestuser");
        userRequest.setEmail("integration@test.com");
        
        ResponseEntity<UserResponse> userResponse = restTemplate.postForEntity(
            baseUrl + "/api/users", userRequest, UserResponse.class);
        testUserId = userResponse.getBody().getId();
        
        // åˆ›å»ºæµ‹è¯•å•†å“
        CreateProductRequest productRequest = new CreateProductRequest();
        productRequest.setName("é›†æˆæµ‹è¯•å•†å“");
        productRequest.setPrice(new BigDecimal("99.99"));
        productRequest.setStock(100);
        
        ResponseEntity<ProductResponse> productResponse = restTemplate.postForEntity(
            baseUrl + "/api/products", productRequest, ProductResponse.class);
        testProductId = productResponse.getBody().getId();
    }
    
    @Test
    @DisplayName("å®Œæ•´çš„ä¸‹å•æµç¨‹æµ‹è¯•")
    void testCompleteOrderFlow() {
        // 1. ç”¨æˆ·ç™»å½•
        LoginRequest loginRequest = new LoginRequest();
        loginRequest.setUsername("integrationtestuser");
        loginRequest.setPassword("password123");
        
        ResponseEntity<LoginResponse> loginResponse = restTemplate.postForEntity(
            baseUrl + "/api/auth/login", loginRequest, LoginResponse.class);
        
        String token = loginResponse.getBody().getToken();
        
        // 2. æŸ¥çœ‹å•†å“è¯¦æƒ…
        HttpHeaders headers = new HttpHeaders();
        headers.setBearerAuth(token);
        
        ResponseEntity<ProductResponse> productResponse = restTemplate.exchange(
            baseUrl + "/api/products/" + testProductId,
            HttpMethod.GET, new HttpEntity<>(headers), ProductResponse.class);
        
        assertThat(productResponse.getBody().getStock()).isEqualTo(100);
        
        // 3. åˆ›å»ºè®¢å•
        CreateOrderRequest orderRequest = new CreateOrderRequest();
        orderRequest.setUserId(testUserId);
        orderRequest.addItem(testProductId, 2);
        
        ResponseEntity<OrderResponse> orderResponse = restTemplate.exchange(
            baseUrl + "/api/orders", HttpMethod.POST,
            new HttpEntity<>(orderRequest, headers), OrderResponse.class);
        
        Long orderId = orderResponse.getBody().getId();
        assertThat(orderResponse.getBody().getStatus()).isEqualTo("PENDING");
        
        // 4. éªŒè¯åº“å­˜æ‰£å‡
        ResponseEntity<ProductResponse> updatedProductResponse = restTemplate.exchange(
            baseUrl + "/api/products/" + testProductId,
            HttpMethod.GET, new HttpEntity<>(headers), ProductResponse.class);
        
        assertThat(updatedProductResponse.getBody().getStock()).isEqualTo(98); // 100 - 2
        
        // 5. æ”¯ä»˜è®¢å•
        PayOrderRequest payRequest = new PayOrderRequest();
        payRequest.setOrderId(orderId);
        payRequest.setPaymentMethod("CREDIT_CARD");
        
        ResponseEntity<OrderResponse> paidOrderResponse = restTemplate.exchange(
            baseUrl + "/api/orders/" + orderId + "/pay",
            HttpMethod.POST, new HttpEntity<>(payRequest, headers), OrderResponse.class);
        
        assertThat(paidOrderResponse.getBody().getStatus()).isEqualTo("PAID");
        
        // 6. æŸ¥è¯¢è®¢å•å†å²
        ResponseEntity<OrderResponse[]> orderHistoryResponse = restTemplate.exchange(
            baseUrl + "/api/users/" + testUserId + "/orders",
            HttpMethod.GET, new HttpEntity<>(headers), OrderResponse[].class);
        
        assertThat(orderHistoryResponse.getBody()).hasSize(1);
        assertThat(orderHistoryResponse.getBody()[0].getId()).isEqualTo(orderId);
    }
}
```

---

## 6. ğŸ”„ æŒç»­é›†æˆé…ç½®


### 6.1 æŒç»­é›†æˆçš„ä»·å€¼


**ğŸ­ æŒç»­é›†æˆå°±åƒå·¥å‚æµæ°´çº¿**

æƒ³è±¡ä¼ ç»Ÿçš„æ‰‹å·¥ä½œåŠï¼Œæ¯ä¸ªå·¥åŒ ç‹¬ç«‹å·¥ä½œï¼Œæœ€åæ‰æŠŠä½œå“ç»„è£…åœ¨ä¸€èµ·ï¼Œç»å¸¸å‘ç°ä¸åŒ¹é…çš„é—®é¢˜ã€‚è€ŒæŒç»­é›†æˆå°±åƒç°ä»£åŒ–å·¥å‚çš„æµæ°´çº¿ï¼Œæ¯ä¸ªç¯èŠ‚éƒ½æœ‰è´¨é‡æ£€æŸ¥ï¼Œé—®é¢˜èƒ½å¤ŸåŠæ—¶å‘ç°å’Œè§£å†³ã€‚

**ğŸ’¡ æŒç»­é›†æˆå¸¦æ¥çš„å¥½å¤„**
- **æ—©æœŸå‘ç°é—®é¢˜**ï¼šä»£ç æäº¤åç«‹å³æµ‹è¯•
- **è‡ªåŠ¨åŒ–éªŒè¯**ï¼šå‡å°‘äººå·¥é”™è¯¯
- **å¿«é€Ÿåé¦ˆ**ï¼šå‡ åˆ†é’Ÿå†…çŸ¥é“ä»£ç æ˜¯å¦æœ‰é—®é¢˜
- **å›¢é˜Ÿåä½œ**ï¼šç¡®ä¿æ‰€æœ‰äººçš„ä»£ç èƒ½è‰¯å¥½é›†æˆ

### 6.2 GitHub Actionsé…ç½®


**ğŸš€ GitHub Actionså·¥ä½œæµé…ç½®**

```yaml
# .github/workflows/ci.yml
name: ğŸ§ª æŒç»­é›†æˆæµ‹è¯•

on:
  push:
    branches: [ main, develop ]
  pull_request:
    branches: [ main ]

jobs:
  test:
    name: ğŸƒ è¿è¡Œæµ‹è¯•å¥—ä»¶
    runs-on: ubuntu-latest
    
    services:
      # æµ‹è¯•æ•°æ®åº“æœåŠ¡
      mysql:
        image: mysql:8.0
        env:
          MYSQL_ROOT_PASSWORD: testroot
          MYSQL_DATABASE: testdb
        ports:
          - 3306:3306
        options: >-
          --health-cmd="mysqladmin ping"
          --health-interval=10s
          --health-timeout=5s
          --health-retries=3
    
    steps:
    - name: ğŸ“¥ æ£€å‡ºä»£ç 
      uses: actions/checkout@v3
      
    - name: â˜• è®¾ç½®Javaç¯å¢ƒ
      uses: actions/setup-java@v3
      with:
        java-version: '17'
        distribution: 'temurin'
        
    - name: ğŸ“¦ ç¼“å­˜Mavenä¾èµ–
      uses: actions/cache@v3
      with:
        path: ~/.m2
        key: ${{ runner.os }}-m2-${{ hashFiles('**/pom.xml') }}
        restore-keys: ${{ runner.os }}-m2
        
    - name: ğŸ” è¿è¡Œå•å…ƒæµ‹è¯•
      run: ./mvnw test -Dspring.profiles.active=test
      
    - name: ğŸ§ª è¿è¡Œé›†æˆæµ‹è¯•  
      run: ./mvnw verify -Dspring.profiles.active=test
      env:
        DB_HOST: localhost
        DB_PORT: 3306
        DB_NAME: testdb
        DB_USERNAME: root
        DB_PASSWORD: testroot
        
    - name: ğŸ“Š ç”Ÿæˆæµ‹è¯•æŠ¥å‘Š
      uses: dorny/test-reporter@v1
      if: success() || failure()
      with:
        name: æµ‹è¯•ç»“æœæŠ¥å‘Š
        path: target/surefire-reports/*.xml
        reporter: java-junit
        
    - name: ğŸ“ˆ ä¸Šä¼ ä»£ç è¦†ç›–ç‡
      uses: codecov/codecov-action@v3
      with:
        file: target/site/jacoco/jacoco.xml
        
    - name: ğŸš¨ é€šçŸ¥æµ‹è¯•ç»“æœ
      if: failure()
      uses: 8398a7/action-slack@v3
      with:
        status: failure
        channel: '#dev-team'
        text: 'ğŸš¨ é›†æˆæµ‹è¯•å¤±è´¥ï¼Œè¯·æ£€æŸ¥ä»£ç ï¼'
      env:
        SLACK_WEBHOOK_URL: ${{ secrets.SLACK_WEBHOOK }}
```

### 6.3 Mavené…ç½®ä¼˜åŒ–


**ğŸ”§ é’ˆå¯¹CIç¯å¢ƒçš„Mavené…ç½®**

```xml
<!-- pom.xmlä¸­çš„æµ‹è¯•é…ç½® -->
<profiles>
    <!-- CIç¯å¢ƒä¸“ç”¨é…ç½® -->
    <profile>
        <id>ci</id>
        <activation>
            <property>
                <name>env.CI</name>
            </property>
        </activation>
        <properties>
            <!-- CIç¯å¢ƒä½¿ç”¨æ›´å¤šå†…å­˜å’Œçº¿ç¨‹ -->
            <maven.test.jvmargs>-Xmx2g -XX:MaxPermSize=512m</maven.test.jvmargs>
            <surefire.forkCount>2C</surefire.forkCount>
        </properties>
        <build>
            <plugins>
                <!-- ç”Ÿæˆæµ‹è¯•è¦†ç›–ç‡æŠ¥å‘Š -->
                <plugin>
                    <groupId>org.jacoco</groupId>
                    <artifactId>jacoco-maven-plugin</artifactId>
                    <version>0.8.7</version>
                    <executions>
                        <execution>
                            <goals>
                                <goal>prepare-agent</goal>
                            </goals>
                        </execution>
                        <execution>
                            <id>report</id>
                            <phase>test</phase>
                            <goals>
                                <goal>report</goal>
                            </goals>
                        </execution>
                    </executions>
                </plugin>
                
                <!-- é›†æˆæµ‹è¯•æ’ä»¶ -->
                <plugin>
                    <groupId>org.apache.maven.plugins</groupId>
                    <artifactId>maven-failsafe-plugin</artifactId>
                    <version>3.0.0-M7</version>
                    <executions>
                        <execution>
                            <goals>
                                <goal>integration-test</goal>
                                <goal>verify</goal>
                            </goals>
                        </execution>
                    </executions>
                </plugin>
            </plugins>
        </build>
    </profile>
</profiles>
```

### 6.4 æµ‹è¯•ç»“æœå¯è§†åŒ–


**ğŸ“Š æµ‹è¯•æŠ¥å‘Šçœ‹æ¿**

```
                    æµ‹è¯•æ‰§è¡Œçœ‹æ¿
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  ğŸ“Š æ€»ä½“æµ‹è¯•ç»“æœ                         â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚  âœ… å•å…ƒæµ‹è¯•:    156/156 (100%)         â”‚
    â”‚  âœ… é›†æˆæµ‹è¯•:     24/24  (100%)         â”‚
    â”‚  âœ… ç«¯åˆ°ç«¯æµ‹è¯•:    8/8   (100%)         â”‚
    â”‚  ğŸ“ˆ ä»£ç è¦†ç›–ç‡:   85%                   â”‚
    â”‚  â±ï¸ æ‰§è¡Œæ—¶é—´:    3åˆ†42ç§’                â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  ğŸ” è¯¦ç»†æµ‹è¯•åˆ†æ                         â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚  ç”¨æˆ·æ¨¡å—:    âœ… 45ä¸ªæµ‹è¯•é€šè¿‡            â”‚
    â”‚  å•†å“æ¨¡å—:    âœ… 38ä¸ªæµ‹è¯•é€šè¿‡            â”‚
    â”‚  è®¢å•æ¨¡å—:    âœ… 52ä¸ªæµ‹è¯•é€šè¿‡            â”‚
    â”‚  æ”¯ä»˜æ¨¡å—:    âœ… 29ä¸ªæµ‹è¯•é€šè¿‡            â”‚
    â”‚  åº“å­˜æ¨¡å—:    âœ… 24ä¸ªæµ‹è¯•é€šè¿‡            â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 7. ğŸ’ æµ‹è¯•æœ€ä½³å®è·µ


### 7.1 æµ‹è¯•ä»£ç è´¨é‡åŸåˆ™


**ğŸ“ å¥½çš„æµ‹è¯•ä»£ç ç‰¹å¾**

å°±åƒå†™å¥½çš„æ–‡ç« ä¸€æ ·ï¼Œå¥½çš„æµ‹è¯•ä»£ç åº”è¯¥æ¸…æ™°ã€ç®€æ´ã€æ˜“æ‡‚ã€‚

**ğŸ¯ AAAæ¨¡å¼ - æµ‹è¯•ä»£ç çš„æ ‡å‡†ç»“æ„**

```java
@Test
@DisplayName("VIPç”¨æˆ·ä¸‹å•äº«å—9æŠ˜ä¼˜æƒ ")
void testVipUserDiscount() {
    // ========== Arrange (å‡†å¤‡) ==========
    // åˆ›å»ºVIPç”¨æˆ·
    User vipUser = UserTestDataBuilder.aUser()
        .withUsername("vipuser")
        .asVipUser()
        .build();
    
    // åˆ›å»ºè®¢å•
    Order order = OrderTestDataBuilder.anOrder()
        .withUser(vipUser)
        .withTotalAmount(new BigDecimal("1000.00"))
        .build();
    
    // ========== Act (æ‰§è¡Œ) ==========
    BigDecimal finalAmount = discountService.calculateDiscount(order);
    
    // ========== Assert (æ–­è¨€) ==========
    // éªŒè¯VIPç”¨æˆ·äº«å—9æŠ˜ä¼˜æƒ 
    BigDecimal expectedAmount = new BigDecimal("900.00");
    assertThat(finalAmount)
        .as("VIPç”¨æˆ·åº”è¯¥äº«å—9æŠ˜ä¼˜æƒ ")
        .isEqualTo(expectedAmount);
}
```

### 7.2 æµ‹è¯•å‘½åè§„èŒƒ


**ğŸ·ï¸ æµ‹è¯•æ–¹æ³•å‘½åæœ€ä½³å®è·µ**

| å‘½åæ¨¡å¼ | **ç¤ºä¾‹** | **é€‚ç”¨åœºæ™¯** |
|----------|----------|-------------|
| **should_When_Given** | `should_ReturnDiscount_When_UserIsVip_Given_ValidOrder` | è¡Œä¸ºé©±åŠ¨æµ‹è¯• |
| **testä¸šåŠ¡åœºæ™¯** | `testç”¨æˆ·æ³¨å†ŒæˆåŠŸåå‘é€æ¬¢è¿é‚®ä»¶` | ä¸šåŠ¡åŠŸèƒ½æµ‹è¯• |
| **whenæ¡ä»¶thenç»“æœ** | `whenUserIsVip_thenGet10PercentDiscount` | æ¡ä»¶ç»“æœæµ‹è¯• |

```java
// âœ… å¥½çš„æµ‹è¯•å‘½å - ä¸€çœ‹å°±çŸ¥é“æµ‹è¯•ä»€ä¹ˆ
@Test
@DisplayName("å½“å•†å“åº“å­˜ä¸è¶³æ—¶ï¼Œä¸‹å•åº”è¯¥æŠ›å‡ºåº“å­˜ä¸è¶³å¼‚å¸¸")
void should_ThrowInsufficientStockException_When_OrderQuantityExceedsStock() {
    // æµ‹è¯•é€»è¾‘...
}

// âŒ ä¸å¥½çš„æµ‹è¯•å‘½å - çœ‹ä¸å‡ºæµ‹è¯•ç›®çš„
@Test  
void testOrder() {
    // æµ‹è¯•é€»è¾‘...
}
```

### 7.3 æµ‹è¯•æ•°æ®ç®¡ç†ç­–ç•¥


**ğŸ—ƒï¸ æµ‹è¯•æ•°æ®ç”Ÿå‘½å‘¨æœŸç®¡ç†**

```java
@TestInstance(TestInstance.Lifecycle.PER_CLASS)
class OrderServiceIntegrationTest {
    
    // æµ‹è¯•æ•°æ®å®¹å™¨ï¼Œå­˜æ”¾æ•´ä¸ªæµ‹è¯•ç±»å…±ç”¨çš„æ•°æ®
    private TestDataContainer testData;
    
    @BeforeAll
    void setupTestEnvironment() {
        // åˆ›å»ºåŸºç¡€æµ‹è¯•æ•°æ®ï¼Œæ•´ä¸ªæµ‹è¯•ç±»åªåˆ›å»ºä¸€æ¬¡
        testData = TestDataContainer.builder()
            .withUsers(10)          // åˆ›å»º10ä¸ªæµ‹è¯•ç”¨æˆ·
            .withProducts(20)       // åˆ›å»º20ä¸ªæµ‹è¯•å•†å“  
            .withCategories(5)      // åˆ›å»º5ä¸ªå•†å“åˆ†ç±»
            .build();
        
        System.out.println("ğŸ“Š åŸºç¡€æµ‹è¯•æ•°æ®å·²å‡†å¤‡å®Œæ¯•");
    }
    
    @BeforeEach
    void setupTestMethod() {
        // æ¯ä¸ªæµ‹è¯•æ–¹æ³•æ‰§è¡Œå‰ï¼Œé‡ç½®ç›¸å…³æ•°æ®çŠ¶æ€
        testData.resetOrderData();     // æ¸…ç†è®¢å•æ•°æ®
        testData.resetInventory();     // é‡ç½®åº“å­˜æ•°æ®
        
        System.out.println("ğŸ§¹ æµ‹è¯•æ•°æ®å·²é‡ç½®");
    }
    
    @Test
    void testCreateOrder() {
        // ä½¿ç”¨é¢„è®¾çš„æµ‹è¯•æ•°æ®
        User testUser = testData.getRandomUser();
        Product testProduct = testData.getRandomProduct();
        
        // æ‰§è¡Œæµ‹è¯•...
    }
    
    @AfterAll
    void cleanupTestEnvironment() {
        // æ¸…ç†æ‰€æœ‰æµ‹è¯•æ•°æ®
        testData.cleanup();
        System.out.println("ğŸ—‘ï¸ æµ‹è¯•ç¯å¢ƒå·²æ¸…ç†å®Œæ¯•");
    }
}
```

### 7.4 å¼‚å¸¸æµ‹è¯•æœ€ä½³å®è·µ


**âš ï¸ å¼‚å¸¸æµ‹è¯•çš„æ­£ç¡®å§¿åŠ¿**

```java
@Test
@DisplayName("å½“åº“å­˜ä¸è¶³æ—¶ï¼Œåº”è¯¥æŠ›å‡ºå…·ä½“çš„å¼‚å¸¸ä¿¡æ¯")
void should_ThrowInsufficientStockException_When_StockNotEnough() {
    // å‡†å¤‡æµ‹è¯•æ•°æ®
    Product product = testData.getProductWithStock(5); // åº“å­˜åªæœ‰5ä¸ª
    User user = testData.getRandomUser();
    
    // åˆ›å»ºè®¢å•è¯·æ±‚ï¼Œæ•°é‡è¶…è¿‡åº“å­˜
    CreateOrderRequest request = new CreateOrderRequest();
    request.setUserId(user.getId());
    request.addItem(product.getId(), 10); // è¦è´­ä¹°10ä¸ªï¼Œä½†åº“å­˜åªæœ‰5ä¸ª
    
    // ä½¿ç”¨JUnit 5çš„assertThrowséªŒè¯å¼‚å¸¸
    InsufficientStockException exception = assertThrows(
        InsufficientStockException.class,
        () -> orderService.createOrder(request),
        "å½“åº“å­˜ä¸è¶³æ—¶åº”è¯¥æŠ›å‡ºInsufficientStockException"
    );
    
    // éªŒè¯å¼‚å¸¸ä¿¡æ¯çš„å‡†ç¡®æ€§
    assertThat(exception.getMessage())
        .contains("åº“å­˜ä¸è¶³")
        .contains(product.getName())
        .contains("å½“å‰åº“å­˜: 5")
        .contains("éœ€è¦æ•°é‡: 10");
    
    // éªŒè¯å¼‚å¸¸å‘ç”Ÿæ—¶ï¼Œåº“å­˜æ²¡æœ‰è¢«é”™è¯¯æ‰£å‡
    Product unchangedProduct = productRepository.findById(product.getId()).get();
    assertThat(unchangedProduct.getStock())
        .as("å¼‚å¸¸å‘ç”Ÿæ—¶åº“å­˜ä¸åº”è¯¥æ”¹å˜")
        .isEqualTo(5);
}
```

### 7.5 å¹¶å‘æµ‹è¯•å®è·µ


**âš¡ å¹¶å‘åœºæ™¯æµ‹è¯•**

```java
@Test
@DisplayName("å¹¶å‘ä¸‹å•æ—¶ï¼Œåº“å­˜æ‰£å‡åº”è¯¥ä¿æŒä¸€è‡´æ€§")
void testConcurrentOrderCreation() throws InterruptedException {
    // å‡†å¤‡æµ‹è¯•æ•°æ®
    Product product = testData.getProductWithStock(100);
    List<User> users = testData.getUsers(50); // 50ä¸ªç”¨æˆ·
    
    // åˆ›å»ºçº¿ç¨‹æ± æ¨¡æ‹Ÿå¹¶å‘è¯·æ±‚
    ExecutorService executorService = Executors.newFixedThreadPool(10);
    CountDownLatch startLatch = new CountDownLatch(1); // æ§åˆ¶æ‰€æœ‰çº¿ç¨‹åŒæ—¶å¼€å§‹
    CountDownLatch endLatch = new CountDownLatch(50);  // ç­‰å¾…æ‰€æœ‰çº¿ç¨‹å®Œæˆ
    
    List<Future<OrderResult>> futures = new ArrayList<>();
    
    // 50ä¸ªç”¨æˆ·åŒæ—¶ä¸‹å•ï¼Œæ¯äººä¹°2ä¸ªå•†å“
    for (User user : users) {
        Future<OrderResult> future = executorService.submit(() -> {
            try {
                startLatch.await(); // ç­‰å¾…å¼€å§‹ä¿¡å·
                
                CreateOrderRequest request = new CreateOrderRequest();
                request.setUserId(user.getId());
                request.addItem(product.getId(), 2);
                
                Order order = orderService.createOrder(request);
                return OrderResult.success(order);
                
            } catch (Exception e) {
                return OrderResult.failure(e);
            } finally {
                endLatch.countDown();
            }
        });
        futures.add(future);
    }
    
    // æ‰€æœ‰çº¿ç¨‹åŒæ—¶å¼€å§‹
    startLatch.countDown();
    
    // ç­‰å¾…æ‰€æœ‰çº¿ç¨‹å®Œæˆï¼Œæœ€å¤šç­‰å¾…30ç§’
    boolean finished = endLatch.await(30, TimeUnit.SECONDS);
    assertThat(finished).as("æ‰€æœ‰å¹¶å‘è¯·æ±‚åº”è¯¥åœ¨30ç§’å†…å®Œæˆ").isTrue();
    
    // ç»Ÿè®¡ç»“æœ
    int successCount = 0;
    int failureCount = 0;
    
    for (Future<OrderResult> future : futures) {
        OrderResult result = future.get();
        if (result.isSuccess()) {
            successCount++;
        } else {
            failureCount++;
        }
    }
    
    // éªŒè¯ç»“æœ
    System.out.println("âœ… æˆåŠŸä¸‹å•: " + successCount);
    System.out.println("âŒ ä¸‹å•å¤±è´¥: " + failureCount);
    
    // é¢„æœŸï¼š100ä¸ªå•†å“ï¼Œ50ä¸ªç”¨æˆ·æ¯äººä¹°2ä¸ªï¼Œæ€»å…±éœ€è¦100ä¸ª
    // æ‰€ä»¥åº”è¯¥æ­£å¥½å¤Ÿç”¨ï¼Œéƒ½èƒ½æˆåŠŸ
    assertThat(successCount).isEqualTo(50);
    assertThat(failureCount).isEqualTo(0);
    
    // éªŒè¯æœ€ç»ˆåº“å­˜
    Product finalProduct = productRepository.findById(product.getId()).get();
    assertThat(finalProduct.getStock())
        .as("æœ€ç»ˆåº“å­˜åº”è¯¥ä¸º0")
        .isEqualTo(0);
    
    executorService.shutdown();
}
```

---

## 8. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 8.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ é›†æˆæµ‹è¯•æœ¬è´¨ï¼šéªŒè¯å¤šä¸ªæ¨¡å—åä½œæ˜¯å¦æ­£å¸¸
ğŸ”¸ æµ‹è¯•ç¯å¢ƒæ­å»ºï¼šç‹¬ç«‹ã€å¯é‡å¤ã€æ¥è¿‘ç”Ÿäº§ç¯å¢ƒ
ğŸ”¸ æµ‹è¯•æ•°æ®ç®¡ç†ï¼šå¯æ§ã€å®Œæ•´ã€ç¬¦åˆä¸šåŠ¡åœºæ™¯
ğŸ”¸ è‡ªåŠ¨åŒ–æµ‹è¯•ï¼šå¿«é€Ÿåé¦ˆã€æŒç»­éªŒè¯ã€å‡å°‘äººå·¥é”™è¯¯
ğŸ”¸ æŒç»­é›†æˆï¼šæ—©æœŸå‘ç°é—®é¢˜ã€è‡ªåŠ¨åŒ–éªŒè¯ã€å›¢é˜Ÿåä½œ
```

### 8.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ é›†æˆæµ‹è¯•ä¸å•å…ƒæµ‹è¯•çš„åŒºåˆ«**
```
å•å…ƒæµ‹è¯•åƒæ£€æŸ¥é›¶ä»¶ï¼š
- æµ‹è¯•å•ä¸ªæ–¹æ³•æˆ–ç±»
- ä½¿ç”¨Mockéš”ç¦»ä¾èµ–  
- è¿è¡Œé€Ÿåº¦å¿«

é›†æˆæµ‹è¯•åƒæ£€æŸ¥æ•´æœºï¼š
- æµ‹è¯•æ¨¡å—é—´åä½œ
- ä½¿ç”¨çœŸå®ä¾èµ–
- éªŒè¯ä¸šåŠ¡æµç¨‹å®Œæ•´æ€§
```

**ğŸ”¹ æµ‹è¯•æ•°æ®çš„é‡è¦æ€§**
```
å¥½çš„æµ‹è¯•æ•°æ®ç‰¹å¾ï¼š
âœ… å¯é¢„æµ‹ - çŸ¥é“è¾“å…¥ä»€ä¹ˆï¼Œåº”è¯¥å¾—åˆ°ä»€ä¹ˆ
âœ… å®Œæ•´ - è¦†ç›–æ­£å¸¸ã€å¼‚å¸¸ã€è¾¹ç•Œæƒ…å†µ
âœ… ä¸€è‡´ - æ•°æ®é—´å…³ç³»æ­£ç¡®
âœ… å¯é‡å¤ - æ¯æ¬¡æµ‹è¯•ç»“æœä¸€è‡´
```

**ğŸ”¹ æŒç»­é›†æˆçš„ä»·å€¼**
```
ä¼ ç»Ÿæ–¹å¼ï¼šå¼€å‘å®Œæˆåæ‰é›†æˆæµ‹è¯•
é—®é¢˜ï¼šé›†æˆæ—¶å‘ç°å¤§é‡é—®é¢˜ï¼Œä¿®å¤æˆæœ¬é«˜

æŒç»­é›†æˆæ–¹å¼ï¼šæ¯æ¬¡ä»£ç æäº¤éƒ½è‡ªåŠ¨æµ‹è¯•
ä¼˜åŠ¿ï¼šé—®é¢˜æ—©å‘ç°æ—©è§£å†³ï¼Œä¿®å¤æˆæœ¬ä½
```

### 8.3 å®é™…åº”ç”¨æŒ‡å¯¼


**ğŸ¯ æµ‹è¯•ç­–ç•¥é€‰æ‹©**
- **å°é¡¹ç›®**ï¼šé‡ç‚¹åšé›†æˆæµ‹è¯•ï¼Œè¦†ç›–ä¸»è¦ä¸šåŠ¡æµç¨‹
- **å¤§é¡¹ç›®**ï¼šæŒ‰æµ‹è¯•é‡‘å­—å¡”åˆ†å±‚ï¼Œåº•å±‚å¤šä¸Šå±‚å°‘
- **é—ç•™ç³»ç»Ÿ**ï¼šå…ˆå†™é›†æˆæµ‹è¯•ä¿æŠ¤ç°æœ‰åŠŸèƒ½ï¼Œå†é€æ­¥è¡¥å……å•å…ƒæµ‹è¯•

**ğŸ”§ å·¥å…·é€‰æ‹©å»ºè®®**
- **æµ‹è¯•æ¡†æ¶**ï¼šJUnit 5ï¼ˆåŠŸèƒ½ä¸°å¯Œï¼Œç¤¾åŒºæ´»è·ƒï¼‰
- **æµ‹è¯•æ•°æ®åº“**ï¼šH2å†…å­˜æ•°æ®åº“ï¼ˆå¿«é€Ÿã€è½»é‡ï¼‰
- **CIå·¥å…·**ï¼šGitHub Actionsï¼ˆå…è´¹ã€æ˜“ç”¨ï¼‰
- **æ–­è¨€åº“**ï¼šAssertJï¼ˆè¯­æ³•æ¸…æ™°ã€åŠŸèƒ½å¼ºå¤§ï¼‰

**ğŸ’¡ å›¢é˜Ÿå®è·µå»ºè®®**
- **æµ‹è¯•å…ˆè¡Œ**ï¼šé‡è¦åŠŸèƒ½å…ˆå†™æµ‹è¯•å†å†™ä»£ç 
- **æµ‹è¯•è¯„å®¡**ï¼šæµ‹è¯•ä»£ç ä¹Ÿè¦åšä»£ç è¯„å®¡
- **å¤±è´¥åˆ†æ**ï¼šæµ‹è¯•å¤±è´¥æ—¶è¦åˆ†ææ ¹æœ¬åŸå› 
- **æŒç»­æ”¹è¿›**ï¼šå®šæœŸå›é¡¾æµ‹è¯•æ•ˆæœï¼Œä¼˜åŒ–æµ‹è¯•ç­–ç•¥

### 8.4 å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ


**â“ å¸¸è§é—®é¢˜æ¸…å•**

| é—®é¢˜ | **åŸå› ** | **è§£å†³æ–¹æ¡ˆ** |
|------|----------|-------------|
| ğŸŒ æµ‹è¯•è¿è¡Œå¤ªæ…¢ | ä½¿ç”¨äº†çœŸå®æ•°æ®åº“ | ä½¿ç”¨å†…å­˜æ•°æ®åº“æˆ–Docker |
| ğŸ”„ æµ‹è¯•ç»“æœä¸ç¨³å®š | æµ‹è¯•é—´æœ‰æ•°æ®ä¾èµ– | æ¯ä¸ªæµ‹è¯•ç‹¬ç«‹å‡†å¤‡æ•°æ® |
| ğŸ“Š æµ‹è¯•è¦†ç›–ç‡ä½ | ç¼ºå°‘å¼‚å¸¸åœºæ™¯æµ‹è¯• | è¡¥å……è¾¹ç•Œå€¼å’Œå¼‚å¸¸æµ‹è¯• |
| ğŸš« CIæ„å»ºå¤±è´¥ | ç¯å¢ƒé…ç½®ä¸ä¸€è‡´ | ä½¿ç”¨å®¹å™¨åŒ–éƒ¨ç½² |

**ğŸš€ è¿›é˜¶å­¦ä¹ è·¯å¾„**
1. **æŒæ¡åŸºç¡€** â†’ ç†è§£é›†æˆæµ‹è¯•æ¦‚å¿µå’ŒåŸºæœ¬å®è·µ
2. **å·¥å…·ç†Ÿç»ƒ** â†’ ç†Ÿç»ƒä½¿ç”¨JUnitã€Spring Boot Testç­‰å·¥å…·
3. **ç­–ç•¥ä¼˜åŒ–** â†’ å­¦ä¼šè®¾è®¡é«˜æ•ˆçš„æµ‹è¯•ç­–ç•¥
4. **è‡ªåŠ¨åŒ–è¿›é˜¶** â†’ å®ç°å®Œæ•´çš„CI/CDæµæ°´çº¿
5. **æ€§èƒ½æµ‹è¯•** â†’ å­¦ä¹ å‹åŠ›æµ‹è¯•å’Œæ€§èƒ½è°ƒä¼˜

**æ ¸å¿ƒè®°å¿†å£è¯€**ï¼š
- é›†æˆæµ‹è¯•éªŒåä½œï¼Œå¤šä¸ªæ¨¡å—ä¸€èµ·è·‘
- æµ‹è¯•ç¯å¢ƒè¦ç‹¬ç«‹ï¼Œæ•°æ®æ¸…æ´å¾ˆé‡è¦  
- è‡ªåŠ¨è¿è¡Œåé¦ˆå¿«ï¼ŒæŒç»­é›†æˆè´¨é‡é«˜
- å¼‚å¸¸è¾¹ç•Œéƒ½è¦æµ‹ï¼Œä¸šåŠ¡æµç¨‹èµ°ä¸€é