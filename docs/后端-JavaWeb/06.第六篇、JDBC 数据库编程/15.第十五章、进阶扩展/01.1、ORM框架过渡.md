---
title: 1ã€ORMæ¡†æ¶è¿‡æ¸¡
---
## ğŸ“š ç›®å½•

1. [ä»€ä¹ˆæ˜¯ORMæ¡†æ¶](#1-ä»€ä¹ˆæ˜¯ORMæ¡†æ¶)
2. [ä¸ºä»€ä¹ˆéœ€è¦ä»JDBCè¿ç§»åˆ°ORM](#2-ä¸ºä»€ä¹ˆéœ€è¦ä»JDBCè¿ç§»åˆ°ORM)
3. [ä¸»æµORMæ¡†æ¶å¯¹æ¯”](#3-ä¸»æµORMæ¡†æ¶å¯¹æ¯”)
4. [MyBatisè¯¦ç»†ä»‹ç»](#4-MyBatisè¯¦ç»†ä»‹ç»)
5. [JdbcTemplateå¿«é€Ÿä¸Šæ‰‹](#5-JdbcTemplateå¿«é€Ÿä¸Šæ‰‹)
6. [HibernateåŸºç¡€æ¦‚å¿µ](#6-HibernateåŸºç¡€æ¦‚å¿µ)
7. [ä½•æ—¶è¿ç§»åˆ°ORMæ¡†æ¶](#7-ä½•æ—¶è¿ç§»åˆ°ORMæ¡†æ¶)
8. [å¹³æ»‘è¿‡æ¸¡ç­–ç•¥](#8-å¹³æ»‘è¿‡æ¸¡ç­–ç•¥)
9. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#9-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ¯ ä»€ä¹ˆæ˜¯ORMæ¡†æ¶


### 1.1 ORMçš„é€šä¿—ç†è§£


**ğŸ”¸ ä»€ä¹ˆæ˜¯ORM**
```
ORM = Object-Relational Mappingï¼ˆå¯¹è±¡å…³ç³»æ˜ å°„ï¼‰

é€šä¿—ç†è§£ï¼š
å°±åƒç¿»è¯‘å®˜ä¸€æ ·ï¼ŒæŠŠæ•°æ®åº“çš„è¡¨å’ŒJavaçš„å¯¹è±¡è¿›è¡Œ"ç¿»è¯‘"
è®©ä½ å¯ä»¥ç”¨æ“ä½œJavaå¯¹è±¡çš„æ–¹å¼æ¥æ“ä½œæ•°æ®åº“

æ¯”å¦‚ï¼š
æ•°æ®åº“æœ‰ä¸ªç”¨æˆ·è¡¨ â†’ Javaæœ‰ä¸ªUserç±»
ORMæ¡†æ¶å¸®ä½ æŠŠè¡¨çš„æ•°æ®è‡ªåŠ¨è½¬æ¢æˆUserå¯¹è±¡
```

**ğŸ’¡ ç”Ÿæ´»ä¸­çš„ç±»æ¯”**
```
æƒ³è±¡ä½ å»å›½å¤–æ—…æ¸¸ï¼š
ä½ ï¼ˆJavaç¨‹åºï¼‰è¯´ä¸­æ–‡
å¤–å›½äººï¼ˆæ•°æ®åº“ï¼‰è¯´è‹±æ–‡
ç¿»è¯‘å®˜ï¼ˆORMæ¡†æ¶ï¼‰å¸®ä½ ä»¬äº¤æµ

ä½ è¯´ï¼š"æˆ‘è¦ä¸€ä¸ªæ±‰å ¡" â†’ ç¿»è¯‘å®˜ â†’ "I want a hamburger"
å¤–å›½äººè¯´ï¼š"Here you are" â†’ ç¿»è¯‘å®˜ â†’ "ç»™ä½ æ±‰å ¡"
```

### 1.2 ORMè§£å†³çš„æ ¸å¿ƒé—®é¢˜


**ğŸš« åŸå§‹JDBCçš„ç—›ç‚¹**
```
é—®é¢˜1ï¼šé‡å¤ä»£ç å¤ªå¤š
Connection conn = DriverManager.getConnection(url, user, password);
PreparedStatement pstmt = conn.prepareStatement(sql);
ResultSet rs = pstmt.executeQuery();
// æ¯æ¬¡éƒ½è¦å†™è¿™ä¸€å †ä»£ç ...

é—®é¢˜2ï¼šæ‰‹åŠ¨å°è£…å¯¹è±¡éº»çƒ¦
while(rs.next()) {
    User user = new User();
    user.setId(rs.getInt("id"));
    user.setName(rs.getString("name"));
    user.setAge(rs.getInt("age"));
    // å­—æ®µå¤šäº†å°±è¦å†™å¾ˆå¤šè¡Œ...
}

é—®é¢˜3ï¼šSQLè¯­å¥æ•£è½å„å¤„
String sql1 = "select * from user where id = ?";
String sql2 = "insert into user(name, age) values(?, ?)";
// SQLè¯­å¥åˆ°å¤„éƒ½æ˜¯ï¼Œéš¾ä»¥ç®¡ç†
```

**âœ… ORMæ¡†æ¶çš„è§£å†³æ–¹æ¡ˆ**
```
è§£å†³æ–¹æ¡ˆ1ï¼šè‡ªåŠ¨ç®¡ç†è¿æ¥
æ¡†æ¶å¸®ä½ ç®¡ç†æ•°æ®åº“è¿æ¥ï¼Œä¸ç”¨æ‰‹åŠ¨å¼€å…³

è§£å†³æ–¹æ¡ˆ2ï¼šè‡ªåŠ¨å¯¹è±¡æ˜ å°„
æ¡†æ¶è‡ªåŠ¨æŠŠæ•°æ®åº“è®°å½•è½¬æ¢æˆJavaå¯¹è±¡

è§£å†³æ–¹æ¡ˆ3ï¼šç»Ÿä¸€SQLç®¡ç†
æŠŠSQLè¯­å¥é›†ä¸­ç®¡ç†ï¼Œæˆ–è€…ç”¨æ–¹æ³•è°ƒç”¨ä»£æ›¿SQL
```

### 1.3 ORMæ¡†æ¶çš„å·¥ä½œåŸç†


**ğŸ”§ å·¥ä½œæµç¨‹å›¾ç¤º**
```
Javaåº”ç”¨ç¨‹åº
       â†“
   ORMæ¡†æ¶å±‚
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ å¯¹è±¡æ˜ å°„å™¨   â”‚ â† æŠŠå¯¹è±¡è½¬æ¢æˆSQL
   â”‚ SQLç”Ÿæˆå™¨   â”‚ â† è‡ªåŠ¨ç”ŸæˆSQLè¯­å¥  
   â”‚ è¿æ¥ç®¡ç†å™¨   â”‚ â† ç®¡ç†æ•°æ®åº“è¿æ¥
   â”‚ ç»“æœæ˜ å°„å™¨   â”‚ â† æŠŠæŸ¥è¯¢ç»“æœè½¬æ¢æˆå¯¹è±¡
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â†“
   JDBCé©±åŠ¨å±‚
       â†“
    æ•°æ®åº“
```

---

## 2. ğŸ’­ ä¸ºä»€ä¹ˆéœ€è¦ä»JDBCè¿ç§»åˆ°ORM


### 2.1 å¼€å‘æ•ˆç‡å¯¹æ¯”


**â±ï¸ å¼€å‘æ—¶é—´å¯¹æ¯”**

| æ“ä½œç±»å‹ | **åŸå§‹JDBC** | **ORMæ¡†æ¶** | **æ•ˆç‡æå‡** |
|---------|-------------|------------|-------------|
| ğŸ” æŸ¥è¯¢å•æ¡è®°å½• | `10åˆ†é’Ÿç¼–å†™` | `2åˆ†é’Ÿé…ç½®` | `5å€æå‡` |
| â• æ’å…¥æ•°æ® | `8åˆ†é’Ÿç¼–å†™` | `1åˆ†é’Ÿè°ƒç”¨` | `8å€æå‡` |
| ğŸ“ æ›´æ–°æ•°æ® | `12åˆ†é’Ÿç¼–å†™` | `2åˆ†é’Ÿä¿®æ”¹` | `6å€æå‡` |
| ğŸ—‘ï¸ åˆ é™¤æ•°æ® | `5åˆ†é’Ÿç¼–å†™` | `30ç§’è°ƒç”¨` | `10å€æå‡` |

### 2.2 ä»£ç é‡å¯¹æ¯”ç¤ºä¾‹


**ğŸ“Š å®é™…ä»£ç å¯¹æ¯”**

**JDBCæ–¹å¼æŸ¥è¯¢ç”¨æˆ·**ï¼ˆéœ€è¦å†™30å¤šè¡Œï¼‰ï¼š
```java
public User findUserById(int id) {
    Connection conn = null;
    PreparedStatement pstmt = null;
    ResultSet rs = null;
    User user = null;
    
    try {
        conn = DriverManager.getConnection(url, username, password);
        String sql = "select id, name, age, email from user where id = ?";
        pstmt = conn.prepareStatement(sql);
        pstmt.setInt(1, id);
        rs = pstmt.executeQuery();
        
        if(rs.next()) {
            user = new User();
            user.setId(rs.getInt("id"));
            user.setName(rs.getString("name"));
            user.setAge(rs.getInt("age"));
            user.setEmail(rs.getString("email"));
        }
    } catch(SQLException e) {
        e.printStackTrace();
    } finally {
        // å…³é—­èµ„æºçš„ä»£ç ...
    }
    return user;
}
```

**MyBatisæ–¹å¼æŸ¥è¯¢ç”¨æˆ·**ï¼ˆåªéœ€è¦1è¡Œï¼‰ï¼š
```java
public User findUserById(int id) {
    return userMapper.selectById(id);  // å°±è¿™ä¸€è¡Œï¼
}
```

### 2.3 ç»´æŠ¤æˆæœ¬å¯¹æ¯”


**ğŸ”§ ç»´æŠ¤éš¾åº¦åˆ†æ**
```
JDBCç»´æŠ¤æˆæœ¬ï¼š
â€¢ æ•°æ®åº“è¡¨ç»“æ„å˜åŒ– â†’ éœ€è¦ä¿®æ”¹å¤šå¤„Javaä»£ç 
â€¢ å¢åŠ å­—æ®µ â†’ è¦æ”¹æ‰€æœ‰ç›¸å…³çš„ResultSetå¤„ç†
â€¢ SQLè¯­å¥æ•£è½å„å¤„ â†’ æ‰¾ä¸ªSQLè¦ç¿»éæ•´ä¸ªé¡¹ç›®
â€¢ å¼‚å¸¸å¤„ç†é‡å¤ â†’ æ¯ä¸ªæ–¹æ³•éƒ½è¦å†™try-catch

ORMç»´æŠ¤æˆæœ¬ï¼š
â€¢ æ•°æ®åº“è¡¨ç»“æ„å˜åŒ– â†’ åªéœ€è¦ä¿®æ”¹å®ä½“ç±»
â€¢ å¢åŠ å­—æ®µ â†’ åœ¨å®ä½“ç±»åŠ ä¸ªå±æ€§å°±è¡Œ
â€¢ SQLé›†ä¸­ç®¡ç† â†’ ç»Ÿä¸€åœ¨é…ç½®æ–‡ä»¶é‡Œç®¡ç†
â€¢ ç»Ÿä¸€å¼‚å¸¸å¤„ç† â†’ æ¡†æ¶å¸®ä½ å¤„ç†å¤§éƒ¨åˆ†å¼‚å¸¸
```

---

## 3. ğŸ” ä¸»æµORMæ¡†æ¶å¯¹æ¯”


### 3.1 ä¸‰å¤§ä¸»æµæ¡†æ¶æ¦‚è§ˆ


**ğŸ† æ¡†æ¶ç‰¹ç‚¹å¯¹æ¯”**

| æ¡†æ¶åç§° | **å­¦ä¹ éš¾åº¦** | **çµæ´»æ€§** | **æ€§èƒ½** | **é€‚ç”¨åœºæ™¯** |
|---------|-------------|-----------|---------|-------------|
| ğŸš€ **MyBatis** | `â­â­â­` | `â­â­â­â­â­` | `â­â­â­â­â­` | `å¤æ‚æŸ¥è¯¢ã€é«˜æ€§èƒ½è¦æ±‚` |
| ğŸŒ± **JdbcTemplate** | `â­â­` | `â­â­â­` | `â­â­â­â­` | `ç®€å•é¡¹ç›®ã€å¿«é€Ÿå¼€å‘` |
| ğŸ» **Hibernate** | `â­â­â­â­â­` | `â­â­` | `â­â­â­` | `ä¼ä¸šçº§åº”ç”¨ã€å¤æ‚å…³ç³»` |

### 3.2 è¯¦ç»†ç‰¹ç‚¹åˆ†æ


**ğŸ”¸ MyBatisçš„ç‰¹ç‚¹**
```
ä¼˜ç‚¹ï¼š
âœ… SQLå¯æ§æ€§å¼º - ä½ æƒ³å†™å•¥SQLå°±å†™å•¥SQL
âœ… å­¦ä¹ æˆæœ¬é€‚ä¸­ - ä¼šSQLå°±èƒ½ä¸Šæ‰‹
âœ… æ€§èƒ½ä¼˜ç§€ - æ¥è¿‘åŸç”ŸJDBCçš„æ€§èƒ½
âœ… çµæ´»æ€§é«˜ - å¯ä»¥å¤„ç†å¤æ‚çš„ä¸šåŠ¡é€»è¾‘

ç¼ºç‚¹ï¼š
âŒ éœ€è¦å†™SQL - å¯¹SQLè¦æ±‚è¾ƒé«˜
âŒ æ•°æ®åº“ç§»æ¤æ€§å·® - æ¢æ•°æ®åº“å¯èƒ½è¦æ”¹SQL

é€‚åˆåœºæ™¯ï¼š
â€¢ å¯¹æ€§èƒ½è¦æ±‚é«˜çš„é¡¹ç›®
â€¢ éœ€è¦å¤æ‚æŸ¥è¯¢çš„é¡¹ç›®
â€¢ å›¢é˜ŸSQLåŸºç¡€è¾ƒå¥½
```

**ğŸ”¸ JdbcTemplateçš„ç‰¹ç‚¹**
```
ä¼˜ç‚¹ï¼š
âœ… å­¦ä¹ ç®€å• - å‡ ä¹æ²¡æœ‰å­¦ä¹ æˆæœ¬
âœ… è½»é‡çº§ - ä¸éœ€è¦å¤æ‚é…ç½®
âœ… Springé›†æˆå¥½ - Springé¡¹ç›®é¦–é€‰

ç¼ºç‚¹ï¼š
âŒ åŠŸèƒ½ç›¸å¯¹ç®€å• - å¤æ‚åœºæ™¯æ”¯æŒä¸å¤Ÿ
âŒ ä»éœ€å†™ä¸å°‘ä»£ç  - æ¯”MyBatisè¦å¤šå†™ä¸€äº›

é€‚åˆåœºæ™¯ï¼š
â€¢ Springé¡¹ç›®çš„ç®€å•æ•°æ®è®¿é—®
â€¢ å¿«é€ŸåŸå‹å¼€å‘
â€¢ å°å‹é¡¹ç›®
```

**ğŸ”¸ Hibernateçš„ç‰¹ç‚¹**
```
ä¼˜ç‚¹ï¼š
âœ… å…¨è‡ªåŠ¨ORM - å‡ ä¹ä¸ç”¨å†™SQL
âœ… æ•°æ®åº“æ— å…³æ€§ - æ¢æ•°æ®åº“ä¸ç”¨æ”¹ä»£ç 
âœ… åŠŸèƒ½å¼ºå¤§ - æ”¯æŒå¤æ‚çš„å¯¹è±¡å…³ç³»æ˜ å°„

ç¼ºç‚¹ï¼š
âŒ å­¦ä¹ æˆæœ¬é«˜ - æ¦‚å¿µå¤šï¼Œé…ç½®å¤æ‚
âŒ æ€§èƒ½ä¸å¯æ§ - è‡ªåŠ¨ç”Ÿæˆçš„SQLå¯èƒ½ä¸ä¼˜åŒ–
âŒ è°ƒè¯•å›°éš¾ - å‡ºé—®é¢˜äº†ä¸çŸ¥é“ç”Ÿæˆäº†å•¥SQL

é€‚åˆåœºæ™¯ï¼š
â€¢ å¤§å‹ä¼ä¸šçº§åº”ç”¨
â€¢ å¯¹è±¡å…³ç³»å¤æ‚çš„é¡¹ç›®
â€¢ å›¢é˜ŸHibernateç»éªŒä¸°å¯Œ
```

### 3.3 é€‰æ‹©å»ºè®®


**ğŸ¯ é€‰æ‹©å†³ç­–æ ‘**
```
ä½ çš„é¡¹ç›®æƒ…å†µï¼š

é¡¹ç›®è§„æ¨¡å°ï¼Œæ—¶é—´ç´§ï¼Ÿ
â””â”€ é€‰æ‹© JdbcTemplate

é¡¹ç›®å¯¹æ€§èƒ½è¦æ±‚é«˜ï¼ŒSQLå¤æ‚ï¼Ÿ
â””â”€ é€‰æ‹© MyBatis

é¡¹ç›®è§„æ¨¡å¤§ï¼Œå¯¹è±¡å…³ç³»å¤æ‚ï¼Œå›¢é˜Ÿç»éªŒä¸°å¯Œï¼Ÿ
â””â”€ é€‰æ‹© Hibernate

åˆå­¦è€…æƒ³å¿«é€Ÿä¸Šæ‰‹ORMï¼Ÿ
â””â”€ å»ºè®®ä» JdbcTemplate å¼€å§‹ï¼Œå†å­¦ MyBatis
```

---

## 4. âš¡ MyBatisè¯¦ç»†ä»‹ç»


### 4.1 MyBatisæ˜¯ä»€ä¹ˆ


**ğŸ”¸ MyBatisçš„å®šä½**
```
MyBatis = åŠè‡ªåŠ¨ORMæ¡†æ¶

ä¸ºä»€ä¹ˆå«"åŠè‡ªåŠ¨"ï¼Ÿ
â€¢ è‡ªåŠ¨éƒ¨åˆ†ï¼šè‡ªåŠ¨å¤„ç†è¿æ¥ã€è‡ªåŠ¨å°è£…ç»“æœ
â€¢ æ‰‹åŠ¨éƒ¨åˆ†ï¼šéœ€è¦ä½ è‡ªå·±å†™SQLè¯­å¥

å°±åƒåŠè‡ªåŠ¨æ´—è¡£æœºï¼š
â€¢ è‡ªåŠ¨éƒ¨åˆ†ï¼šè‡ªåŠ¨è¿›æ°´ã€æ’æ°´ã€ç”©å¹²
â€¢ æ‰‹åŠ¨éƒ¨åˆ†ï¼šéœ€è¦ä½ æ”¾æ´—è¡£ç²‰ã€è®¾ç½®ç¨‹åº
```

### 4.2 MyBatisæ ¸å¿ƒç»„ä»¶


**ğŸ—ï¸ æ¶æ„ç»„ä»¶å›¾ç¤º**
```
MyBatisæ ¸å¿ƒæ¶æ„ï¼š

SqlSessionFactory  â† ä¼šè¯å·¥å‚ï¼ˆç®¡ç†æ•°æ®åº“é…ç½®ï¼‰
       â†“
SqlSession        â† ä¼šè¯ï¼ˆæ‰§è¡ŒSQLçš„å…¥å£ï¼‰  
       â†“
Mapperæ¥å£        â† æ˜ å°„å™¨æ¥å£ï¼ˆå®šä¹‰æ–¹æ³•ï¼‰
       â†“
Mapper.xml        â† æ˜ å°„æ–‡ä»¶ï¼ˆå†™SQLè¯­å¥ï¼‰
       â†“
æ•°æ®åº“              â† æœ€ç»ˆæ“ä½œçš„æ•°æ®åº“
```

**ğŸ”§ å„ç»„ä»¶ä½œç”¨è¯´æ˜**
```
SqlSessionFactoryï¼š
ä½œç”¨ï¼šç®¡ç†æ•°æ®åº“è¿æ¥é…ç½®
æ¯”å–»ï¼šåƒå·¥å‚çš„æ€»ç®¡ï¼Œç®¡ç†æ•´ä¸ªå·¥å‚çš„é…ç½®

SqlSessionï¼š
ä½œç”¨ï¼šæ‰§è¡Œå…·ä½“çš„SQLæ“ä½œ
æ¯”å–»ï¼šåƒå·¥å‚çš„è½¦é—´ï¼ŒçœŸæ­£å¹²æ´»çš„åœ°æ–¹

Mapperæ¥å£ï¼š
ä½œç”¨ï¼šå®šä¹‰æ•°æ®åº“æ“ä½œçš„æ–¹æ³•
æ¯”å–»ï¼šåƒäº§å“è¯´æ˜ä¹¦ï¼Œå‘Šè¯‰ä½ æœ‰å“ªäº›åŠŸèƒ½

Mapper.xmlï¼š
ä½œç”¨ï¼šå†™å…·ä½“çš„SQLè¯­å¥
æ¯”å–»ï¼šåƒæ“ä½œæ‰‹å†Œï¼Œå‘Šè¯‰ä½ å…·ä½“æ€ä¹ˆæ“ä½œ
```

### 4.3 MyBatiså¿«é€Ÿå…¥é—¨ç¤ºä¾‹


**ğŸ“ é…ç½®æ–‡ä»¶ç¤ºä¾‹ï¼ˆmybatis-config.xmlï¼‰**
```xml
<?xml version="1.0" encoding="UTF-8"?>
<configuration>
    <!-- æ•°æ®åº“è¿æ¥é…ç½® -->
    <environments default="development">
        <environment id="development">
            <dataSource type="POOLED">
                <property name="driver" value="com.mysql.cj.jdbc.Driver"/>
                <property name="url" value="jdbc:mysql://localhost:3306/demo"/>
                <property name="username" value="root"/>
                <property name="password" value="123456"/>
            </dataSource>
        </environment>
    </environments>
    
    <!-- æ˜ å°„æ–‡ä»¶ä½ç½® -->
    <mappers>
        <mapper resource="mapper/UserMapper.xml"/>
    </mappers>
</configuration>
```

**ğŸ‘¤ å®ä½“ç±»ç¤ºä¾‹**
```java
public class User {
    private Integer id;
    private String name;
    private Integer age;
    private String email;
    
    // getterå’Œsetteræ–¹æ³•...
}
```

**ğŸ”§ Mapperæ¥å£ç¤ºä¾‹**
```java
public interface UserMapper {
    User selectById(Integer id);
    List<User> selectAll();
    int insert(User user);
    int update(User user);
    int deleteById(Integer id);
}
```

**ğŸ“‹ æ˜ å°„æ–‡ä»¶ç¤ºä¾‹ï¼ˆUserMapper.xmlï¼‰**
```xml
<mapper namespace="com.example.mapper.UserMapper">
    
    <!-- æŸ¥è¯¢å•ä¸ªç”¨æˆ· -->
    <select id="selectById" resultType="com.example.entity.User">
        select id, name, age, email 
        from user 
        where id = #{id}
    </select>
    
    <!-- æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ· -->
    <select id="selectAll" resultType="com.example.entity.User">
        select id, name, age, email from user
    </select>
    
    <!-- æ’å…¥ç”¨æˆ· -->
    <insert id="insert">
        insert into user(name, age, email) 
        values(#{name}, #{age}, #{email})
    </insert>
    
</mapper>
```

### 4.4 MyBatisä½¿ç”¨æµç¨‹


**ğŸ“Š ä½¿ç”¨æ­¥éª¤å›¾ç¤º**
```
ç¬¬1æ­¥ï¼šåˆ›å»ºé…ç½®æ–‡ä»¶
       â†“
ç¬¬2æ­¥ï¼šåˆ›å»ºå®ä½“ç±»å’ŒMapperæ¥å£
       â†“  
ç¬¬3æ­¥ï¼šç¼–å†™æ˜ å°„æ–‡ä»¶ï¼ˆå†™SQLï¼‰
       â†“
ç¬¬4æ­¥ï¼šè·å–SqlSessionå¹¶æ‰§è¡Œ
       â†“
ç¬¬5æ­¥ï¼šå…³é—­èµ„æº
```

**ğŸ’» å®é™…ä½¿ç”¨ä»£ç **
```java
public class MyBatisDemo {
    public static void main(String[] args) throws Exception {
        // 1. åŠ è½½é…ç½®æ–‡ä»¶
        String resource = "mybatis-config.xml";
        InputStream inputStream = Resources.getResourceAsStream(resource);
        
        // 2. åˆ›å»ºä¼šè¯å·¥å‚
        SqlSessionFactory sqlSessionFactory = 
            new SqlSessionFactoryBuilder().build(inputStream);
        
        // 3. è·å–ä¼šè¯
        SqlSession sqlSession = sqlSessionFactory.openSession();
        
        try {
            // 4. è·å–Mapper
            UserMapper userMapper = sqlSession.getMapper(UserMapper.class);
            
            // 5. æ‰§è¡Œæ•°æ®åº“æ“ä½œ
            User user = userMapper.selectById(1);
            System.out.println(user.getName());
            
            // 6. æäº¤äº‹åŠ¡ï¼ˆæ’å…¥ã€æ›´æ–°ã€åˆ é™¤æ“ä½œéœ€è¦ï¼‰
            sqlSession.commit();
            
        } finally {
            // 7. å…³é—­ä¼šè¯
            sqlSession.close();
        }
    }
}
```

---

## 5. ğŸŒ± JdbcTemplateå¿«é€Ÿä¸Šæ‰‹


### 5.1 JdbcTemplateæ˜¯ä»€ä¹ˆ


**ğŸ”¸ JdbcTemplateçš„å®šä½**
```
JdbcTemplate = Springçš„JDBCå·¥å…·ç±»

æœ¬è´¨ï¼šå¯¹åŸå§‹JDBCçš„ç®€å•å°è£…
ç›®çš„ï¼šå‡å°‘JDBCçš„é‡å¤ä»£ç 
ç‰¹ç‚¹ï¼šç®€å•ã€è½»é‡ã€æ˜“å­¦

å°±åƒç‘å£«å†›åˆ€ï¼š
â€¢ åŠŸèƒ½å¤Ÿç”¨ï¼Œä¸å¤æ‚
â€¢ ä¸Šæ‰‹ç®€å•ï¼Œå­¦ä¼šå°±ç”¨
â€¢ é€‚åˆå¤§éƒ¨åˆ†å¸¸è§åœºæ™¯
```

### 5.2 JdbcTemplateè§£å†³çš„é—®é¢˜


**ğŸš« åŸå§‹JDBCçš„é‡å¤ä»£ç **
```
æ¯æ¬¡æ•°æ®åº“æ“ä½œéƒ½è¦å†™ï¼š
1. è·å–è¿æ¥
2. åˆ›å»ºPreparedStatement
3. è®¾ç½®å‚æ•°
4. æ‰§è¡ŒSQL
5. å¤„ç†ç»“æœ
6. å…³é—­èµ„æº
7. å¼‚å¸¸å¤„ç†

JdbcTemplateå¸®ä½ åšäº†1ã€2ã€6ã€7æ­¥éª¤
ä½ åªéœ€è¦å…³å¿ƒ3ã€4ã€5æ­¥éª¤
```

### 5.3 JdbcTemplateåŸºç¡€ä½¿ç”¨


**âš™ï¸ é…ç½®æ•°æ®æº**
```java
@Configuration
public class DatabaseConfig {
    
    @Bean
    public DataSource dataSource() {
        HikariDataSource dataSource = new HikariDataSource();
        dataSource.setJdbcUrl("jdbc:mysql://localhost:3306/demo");
        dataSource.setUsername("root");
        dataSource.setPassword("123456");
        return dataSource;
    }
    
    @Bean
    public JdbcTemplate jdbcTemplate(DataSource dataSource) {
        return new JdbcTemplate(dataSource);
    }
}
```

**ğŸ“‹ å¸¸ç”¨æ“ä½œç¤ºä¾‹**
```java
@Repository
public class UserDao {
    
    @Autowired
    private JdbcTemplate jdbcTemplate;
    
    // æŸ¥è¯¢å•ä¸ªå¯¹è±¡
    public User findById(Integer id) {
        String sql = "select id, name, age, email from user where id = ?";
        return jdbcTemplate.queryForObject(sql, new BeanPropertyRowMapper<>(User.class), id);
    }
    
    // æŸ¥è¯¢åˆ—è¡¨
    public List<User> findAll() {
        String sql = "select id, name, age, email from user";
        return jdbcTemplate.query(sql, new BeanPropertyRowMapper<>(User.class));
    }
    
    // æ’å…¥æ•°æ®
    public int save(User user) {
        String sql = "insert into user(name, age, email) values(?, ?, ?)";
        return jdbcTemplate.update(sql, user.getName(), user.getAge(), user.getEmail());
    }
    
    // æ›´æ–°æ•°æ®
    public int update(User user) {
        String sql = "update user set name = ?, age = ?, email = ? where id = ?";
        return jdbcTemplate.update(sql, user.getName(), user.getAge(), 
                                  user.getEmail(), user.getId());
    }
    
    // åˆ é™¤æ•°æ®
    public int deleteById(Integer id) {
        String sql = "delete from user where id = ?";
        return jdbcTemplate.update(sql, id);
    }
}
```

### 5.4 JdbcTemplateä¼˜ç¼ºç‚¹


**âœ… ä¼˜ç‚¹åˆ†æ**
```
1. å­¦ä¹ æˆæœ¬ä½
   - ä¼šJDBCå°±ä¼šJdbcTemplate
   - æ–¹æ³•åå¾ˆç›´è§‚ï¼šqueryæŸ¥è¯¢ã€updateæ›´æ–°

2. Springé›†æˆå¥½
   - Springé¡¹ç›®æ— ç¼é›†æˆ
   - è‡ªåŠ¨äº‹åŠ¡ç®¡ç†

3. ä»£ç ç®€æ´
   - å‡å°‘äº†80%çš„JDBCé‡å¤ä»£ç 
   - è‡ªåŠ¨èµ„æºç®¡ç†

4. å¼‚å¸¸å¤„ç†ç»Ÿä¸€
   - æŠŠSQLExceptionè½¬æ¢æˆè¿è¡Œæ—¶å¼‚å¸¸
   - ç»Ÿä¸€å¼‚å¸¸å¤„ç†æœºåˆ¶
```

**âŒ ç¼ºç‚¹åˆ†æ**
```
1. ä»éœ€å†™SQL
   - SQLè¯­å¥æ•£è½åœ¨å„ä¸ªæ–¹æ³•ä¸­
   - å¤æ‚æŸ¥è¯¢è¿˜æ˜¯å¾ˆå¤æ‚

2. ç»“æœæ˜ å°„æ‰‹å·¥
   - å¤æ‚å¯¹è±¡æ˜ å°„éœ€è¦æ‰‹å·¥å¤„ç†
   - å…³è”æŸ¥è¯¢æ¯”è¾ƒéº»çƒ¦

3. åŠŸèƒ½ç›¸å¯¹ç®€å•
   - æ²¡æœ‰ç¼“å­˜æœºåˆ¶
   - æ²¡æœ‰æ‡’åŠ è½½ç­‰é«˜çº§åŠŸèƒ½
```

---

## 6. ğŸ» HibernateåŸºç¡€æ¦‚å¿µ


### 6.1 Hibernateæ˜¯ä»€ä¹ˆ


**ğŸ”¸ Hibernateçš„å®šä½**
```
Hibernate = å…¨è‡ªåŠ¨ORMæ¡†æ¶

ç‰¹ç‚¹ï¼š
â€¢ å‡ ä¹ä¸ç”¨å†™SQLï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰
â€¢ å®Œå…¨çš„å¯¹è±¡åŒ–æ“ä½œï¼ˆç”¨å¯¹è±¡æ€ç»´æ“ä½œæ•°æ®åº“ï¼‰
â€¢ åŠŸèƒ½éå¸¸å¼ºå¤§ï¼ˆæ”¯æŒå¤æ‚çš„å¯¹è±¡å…³ç³»æ˜ å°„ï¼‰

å°±åƒå…¨è‡ªåŠ¨æ´—è¡£æœºï¼š
â€¢ ä½ åªéœ€è¦æ”¾è¡£æœã€æŒ‰å¼€å§‹æŒ‰é’®
â€¢ å…¶ä»–éƒ½æ˜¯è‡ªåŠ¨çš„ï¼šè¿›æ°´ã€æ´—æ¶¤ã€æ¼‚æ´—ã€ç”©å¹²
```

### 6.2 Hibernateæ ¸å¿ƒæ¦‚å¿µ


**ğŸ—ï¸ æ ¸å¿ƒæ¦‚å¿µå›¾ç¤º**
```
Hibernateæ ¸å¿ƒæ¦‚å¿µï¼š

å®ä½“ç±»(Entity)     â† Javaå¯¹è±¡ï¼Œå¯¹åº”æ•°æ®åº“è¡¨
       â†•
æ˜ å°„å…³ç³»(Mapping)  â† å®šä¹‰å¯¹è±¡å’Œè¡¨çš„å¯¹åº”å…³ç³»
       â†•  
ä¼šè¯(Session)     â† æ“ä½œæ•°æ®åº“çš„å…¥å£
       â†•
äº‹åŠ¡(Transaction) â† ä¿è¯æ•°æ®ä¸€è‡´æ€§
       â†•
æ•°æ®åº“è¡¨(Table)    â† æœ€ç»ˆå­˜å‚¨æ•°æ®çš„åœ°æ–¹
```

**ğŸ“ æ¦‚å¿µè¯¦ç»†è§£é‡Š**
```
å®ä½“ç±»(Entity)ï¼š
â€¢ å°±æ˜¯æ™®é€šçš„Javaç±»ï¼ŒåŠ ä¸Šæ³¨è§£
â€¢ ä¸€ä¸ªç±»å¯¹åº”æ•°æ®åº“çš„ä¸€å¼ è¡¨
â€¢ ç±»çš„å±æ€§å¯¹åº”è¡¨çš„å­—æ®µ

æ˜ å°„å…³ç³»(Mapping)ï¼š
â€¢ å‘Šè¯‰Hibernateå“ªä¸ªç±»å¯¹åº”å“ªä¸ªè¡¨
â€¢ å“ªä¸ªå±æ€§å¯¹åº”å“ªä¸ªå­—æ®µ
â€¢ å¯ä»¥ç”¨æ³¨è§£æˆ–XMLé…ç½®

ä¼šè¯(Session)ï¼š
â€¢ ç›¸å½“äºJDBCçš„Connection
â€¢ æ‰€æœ‰æ•°æ®åº“æ“ä½œéƒ½é€šè¿‡Session
â€¢ ä¸€èˆ¬ä¸€ä¸ªè¯·æ±‚å¯¹åº”ä¸€ä¸ªSession

äº‹åŠ¡(Transaction)ï¼š
â€¢ ä¿è¯æ•°æ®æ“ä½œçš„ä¸€è‡´æ€§
â€¢ è¦ä¹ˆå…¨æˆåŠŸï¼Œè¦ä¹ˆå…¨å¤±è´¥
```

### 6.3 Hibernateç®€å•ç¤ºä¾‹


**ğŸ‘¤ å®ä½“ç±»ç¤ºä¾‹**
```java
@Entity
@Table(name = "user")
public class User {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Integer id;
    
    @Column(name = "name")
    private String name;
    
    @Column(name = "age") 
    private Integer age;
    
    @Column(name = "email")
    private String email;
    
    // æ„é€ å™¨ã€getterã€setter...
}
```

**âš™ï¸ é…ç½®æ–‡ä»¶ç¤ºä¾‹ï¼ˆhibernate.cfg.xmlï¼‰**
```xml
<hibernate-configuration>
    <session-factory>
        <!-- æ•°æ®åº“è¿æ¥é…ç½® -->
        <property name="hibernate.connection.driver_class">
            com.mysql.cj.jdbc.Driver
        </property>
        <property name="hibernate.connection.url">
            jdbc:mysql://localhost:3306/demo
        </property>
        <property name="hibernate.connection.username">root</property>
        <property name="hibernate.connection.password">123456</property>
        
        <!-- Hibernateé…ç½® -->
        <property name="hibernate.dialect">
            org.hibernate.dialect.MySQL8Dialect
        </property>
        <property name="hibernate.show_sql">true</property>
        <property name="hibernate.hbm2ddl.auto">update</property>
        
        <!-- æ˜ å°„æ–‡ä»¶ -->
        <mapping class="com.example.entity.User"/>
    </session-factory>
</hibernate-configuration>
```

**ğŸ’» åŸºæœ¬æ“ä½œç¤ºä¾‹**
```java
public class HibernateDemo {
    private static SessionFactory sessionFactory;
    
    static {
        try {
            sessionFactory = new Configuration()
                .configure("hibernate.cfg.xml")
                .buildSessionFactory();
        } catch (Throwable ex) {
            throw new ExceptionInInitializerError(ex);
        }
    }
    
    public static void main(String[] args) {
        Session session = sessionFactory.openSession();
        Transaction tx = null;
        
        try {
            tx = session.beginTransaction();
            
            // ä¿å­˜å¯¹è±¡ï¼ˆç›¸å½“äºINSERTï¼‰
            User user = new User();
            user.setName("å¼ ä¸‰");
            user.setAge(25);
            user.setEmail("zhangsan@example.com");
            session.save(user);
            
            // æŸ¥è¯¢å¯¹è±¡ï¼ˆç›¸å½“äºSELECTï¼‰
            User loadedUser = session.get(User.class, 1);
            System.out.println(loadedUser.getName());
            
            // æ›´æ–°å¯¹è±¡ï¼ˆç›¸å½“äºUPDATEï¼‰
            loadedUser.setAge(26);
            session.update(loadedUser);
            
            // åˆ é™¤å¯¹è±¡ï¼ˆç›¸å½“äºDELETEï¼‰
            session.delete(loadedUser);
            
            tx.commit();
        } catch (Exception e) {
            if (tx != null) tx.rollback();
            e.printStackTrace();
        } finally {
            session.close();
        }
    }
}
```

### 6.4 Hibernateçš„ä¼˜ç¼ºç‚¹


**âœ… Hibernateçš„ä¼˜ç‚¹**
```
1. å¼€å‘æ•ˆç‡æé«˜
   â€¢ å‡ ä¹ä¸ç”¨å†™SQL
   â€¢ ç”¨å¯¹è±¡çš„æ–¹å¼æ“ä½œæ•°æ®åº“

2. æ•°æ®åº“æ— å…³æ€§å¥½
   â€¢ æ¢æ•°æ®åº“ä¸ç”¨æ”¹ä»£ç 
   â€¢ Hibernateè‡ªåŠ¨é€‚é…ä¸åŒæ•°æ®åº“

3. åŠŸèƒ½å¼ºå¤§
   â€¢ è‡ªåŠ¨å»ºè¡¨
   â€¢ å…³è”æŸ¥è¯¢
   â€¢ ç¼“å­˜æœºåˆ¶
   â€¢ æ‡’åŠ è½½ç­‰

4. å¯¹è±¡åŒ–ç¨‹åº¦é«˜
   â€¢ å®Œå…¨é¢å‘å¯¹è±¡çš„æ•°æ®åº“æ“ä½œ
   â€¢ ç¬¦åˆJavaå¼€å‘è€…æ€ç»´
```

**âŒ Hibernateçš„ç¼ºç‚¹**
```
1. å­¦ä¹ æˆæœ¬é«˜
   â€¢ æ¦‚å¿µå¤šã€é…ç½®å¤æ‚
   â€¢ éœ€è¦ç†è§£ORMçš„å„ç§æ¦‚å¿µ

2. æ€§èƒ½ä¸å¯æ§
   â€¢ è‡ªåŠ¨ç”Ÿæˆçš„SQLå¯èƒ½ä¸ä¼˜åŒ–
   â€¢ å¤æ‚æŸ¥è¯¢æ€§èƒ½å¯èƒ½ä¸å¦‚æ‰‹å†™SQL

3. è°ƒè¯•å›°éš¾
   â€¢ å‡ºé—®é¢˜æ—¶ä¸çŸ¥é“æ‰§è¡Œäº†ä»€ä¹ˆSQL
   â€¢ é”™è¯¯ä¿¡æ¯æœ‰æ—¶ä¸å¤Ÿç›´è§‚

4. è¿‡åº¦å·¥ç¨‹åŒ–
   â€¢ ç®€å•é¡¹ç›®ç”¨Hibernateå¯èƒ½è¿‡é‡
   â€¢ å¢åŠ äº†ç³»ç»Ÿå¤æ‚åº¦
```

---

## 7. ğŸ¯ ä½•æ—¶è¿ç§»åˆ°ORMæ¡†æ¶


### 7.1 è¿ç§»æ—¶æœºåˆ¤æ–­


**ğŸ“Š é¡¹ç›®è¯„ä¼°ç»´åº¦**

| è¯„ä¼°ç»´åº¦ | **ç»§ç»­JDBC** | **è¿ç§»åˆ°ORM** | **æƒé‡** |
|---------|-------------|-------------|---------|
| ğŸ”¢ **é¡¹ç›®è§„æ¨¡** | `å°å‹(< 10è¡¨)` | `ä¸­å¤§å‹(> 20è¡¨)` | `â­â­â­â­â­` |
| ğŸ‘¥ **å›¢é˜Ÿè§„æ¨¡** | `1-2äºº` | `3äººä»¥ä¸Š` | `â­â­â­â­` |
| â° **å¼€å‘å‘¨æœŸ** | `< 2å‘¨` | `> 1ä¸ªæœˆ` | `â­â­â­â­` |
| ğŸ”§ **ç»´æŠ¤å‘¨æœŸ** | `< 6ä¸ªæœˆ` | `é•¿æœŸç»´æŠ¤` | `â­â­â­â­â­` |
| ğŸ’° **æ€§èƒ½è¦æ±‚** | `æè‡´æ€§èƒ½` | `å¼€å‘æ•ˆç‡ä¼˜å…ˆ` | `â­â­â­` |

### 7.2 å…·ä½“åˆ¤æ–­æ ‡å‡†


**ğŸš€ å»ºè®®è¿ç§»çš„æƒ…å†µ**
```
é¡¹ç›®è§„æ¨¡æ–¹é¢ï¼š
â˜‘ï¸ æ•°æ®åº“è¡¨è¶…è¿‡20å¼ 
â˜‘ï¸ å®ä½“ç±»è¶…è¿‡15ä¸ª
â˜‘ï¸ DAOç±»è¶…è¿‡10ä¸ª
â˜‘ï¸ SQLè¯­å¥è¶…è¿‡100æ¡

å¼€å‘æ•ˆç‡æ–¹é¢ï¼š
â˜‘ï¸ é‡å¤çš„CRUDä»£ç å¤ªå¤š
â˜‘ï¸ æ‰‹å·¥å°è£…å¯¹è±¡å¾ˆè´¹æ—¶
â˜‘ï¸ SQLè¯­å¥ç®¡ç†æ··ä¹±
â˜‘ï¸ å›¢é˜ŸSQLæ°´å¹³å‚å·®ä¸é½

ç»´æŠ¤æˆæœ¬æ–¹é¢ï¼š
â˜‘ï¸ æ•°æ®åº“ç»“æ„ç»å¸¸å˜åŒ–
â˜‘ï¸ éœ€è¦æ”¯æŒå¤šç§æ•°æ®åº“
â˜‘ï¸ é¡¹ç›®éœ€è¦é•¿æœŸç»´æŠ¤
â˜‘ï¸ å›¢é˜Ÿäººå‘˜æµåŠ¨æ€§å¤§
```

**âš¡ ç»§ç»­ä½¿ç”¨JDBCçš„æƒ…å†µ**
```
é¡¹ç›®ç‰¹ç‚¹ï¼š
â˜‘ï¸ é¡¹ç›®è§„æ¨¡å°ï¼Œè¡¨å°‘äº10å¼ 
â˜‘ï¸ å¼€å‘å‘¨æœŸçŸ­ï¼Œå°äº2å‘¨
â˜‘ï¸ å¯¹æ€§èƒ½è¦æ±‚æé«˜
â˜‘ï¸ SQLæŸ¥è¯¢éå¸¸å¤æ‚

å›¢é˜Ÿæƒ…å†µï¼š
â˜‘ï¸ å›¢é˜ŸSQLæ°´å¹³å¾ˆé«˜
â˜‘ï¸ ä¸æƒ³å­¦ä¹ æ–°æŠ€æœ¯
â˜‘ï¸ é¡¹ç›®ä¸´æ—¶æ€§å¼º
â˜‘ï¸ é¢„ç®—æœ‰é™ï¼Œæ—¶é—´ç´§è¿«
```

### 7.3 é£é™©è¯„ä¼°


**âš ï¸ è¿ç§»é£é™©åˆ†æ**
```
æŠ€æœ¯é£é™©ï¼š
â€¢ å­¦ä¹ æ–°æ¡†æ¶éœ€è¦æ—¶é—´
â€¢ å¯èƒ½é‡åˆ°æ¡†æ¶bugæˆ–é™åˆ¶
â€¢ ç°æœ‰ä»£ç éœ€è¦å¤§é‡é‡æ„

è¿›åº¦é£é™©ï¼š
â€¢ çŸ­æœŸå†…å¼€å‘æ•ˆç‡å¯èƒ½ä¸‹é™
â€¢ è°ƒè¯•å’Œæ’é”™éœ€è¦é¢å¤–æ—¶é—´
â€¢ å›¢é˜ŸåŸ¹è®­éœ€è¦æŠ•å…¥ç²¾åŠ›

æ€§èƒ½é£é™©ï¼š
â€¢ ORMæ¡†æ¶å¯èƒ½å¸¦æ¥æ€§èƒ½æŸè€—
â€¢ è‡ªåŠ¨ç”Ÿæˆçš„SQLå¯èƒ½ä¸å¤Ÿä¼˜åŒ–
â€¢ éœ€è¦é¢å¤–çš„æ€§èƒ½è°ƒä¼˜å·¥ä½œ
```

**ğŸ›¡ï¸ é£é™©ç¼“è§£ç­–ç•¥**
```
æŠ€æœ¯é£é™©ç¼“è§£ï¼š
â€¢ é€‰æ‹©æˆç†Ÿç¨³å®šçš„ORMæ¡†æ¶
â€¢ å…ˆåœ¨éå…³é”®åŠŸèƒ½ä¸Šè¯•ç‚¹
â€¢ ä¿ç•™å…³é”®åŠŸèƒ½çš„JDBCå®ç°

è¿›åº¦é£é™©ç¼“è§£ï¼š
â€¢ åˆ†é˜¶æ®µé€æ­¥è¿ç§»
â€¢ è€ä»£ç å’Œæ–°ä»£ç å¹¶å­˜
â€¢ åŠ å¼ºå›¢é˜ŸæŠ€æœ¯åŸ¹è®­

æ€§èƒ½é£é™©ç¼“è§£ï¼š
â€¢ åšå¥½æ€§èƒ½åŸºå‡†æµ‹è¯•
â€¢ å…³é”®æŸ¥è¯¢ä¿ç•™æ‰‹å†™SQL
â€¢ å»ºç«‹æ€§èƒ½ç›‘æ§æœºåˆ¶
```

---

## 8. ğŸ”„ å¹³æ»‘è¿‡æ¸¡ç­–ç•¥


### 8.1 æ¸è¿›å¼è¿ç§»æ–¹æ¡ˆ


**ğŸ“ˆ è¿ç§»è·¯å¾„å›¾ç¤º**
```
è¿ç§»è·¯å¾„ï¼š

é˜¶æ®µ1ï¼šç°æœ‰JDBCä»£ç 
        â†“
é˜¶æ®µ2ï¼šå¼•å…¥JdbcTemplateï¼ˆç®€å•æ“ä½œï¼‰
        â†“  
é˜¶æ®µ3ï¼šå¼•å…¥MyBatisï¼ˆå¤æ‚æŸ¥è¯¢ï¼‰
        â†“
é˜¶æ®µ4ï¼šå…¨é¢ä½¿ç”¨ORMæ¡†æ¶
        â†“
é˜¶æ®µ5ï¼šä»£ç é‡æ„å’Œä¼˜åŒ–
```

**ğŸ¯ åˆ†é˜¶æ®µè¿ç§»ç­–ç•¥**
```
ç¬¬ä¸€é˜¶æ®µï¼šå‡†å¤‡é˜¶æ®µï¼ˆ1-2å‘¨ï¼‰
â€¢ è¯„ä¼°ç°æœ‰ä»£ç å¤æ‚åº¦
â€¢ é€‰æ‹©åˆé€‚çš„ORMæ¡†æ¶
â€¢ å‡†å¤‡æµ‹è¯•ç¯å¢ƒå’Œæ•°æ®

ç¬¬äºŒé˜¶æ®µï¼šè¯•ç‚¹é˜¶æ®µï¼ˆ2-3å‘¨ï¼‰
â€¢ é€‰æ‹©1-2ä¸ªç®€å•æ¨¡å—è¯•ç‚¹
â€¢ ç”¨æ–°æ¡†æ¶é‡å†™è¿™äº›æ¨¡å—
â€¢ å¯¹æ¯”æ€§èƒ½å’Œå¼€å‘æ•ˆç‡

ç¬¬ä¸‰é˜¶æ®µï¼šæ¨å¹¿é˜¶æ®µï¼ˆ4-6å‘¨ï¼‰  
â€¢ é€æ­¥è¿ç§»å…¶ä»–æ¨¡å—
â€¢ æ–°åŠŸèƒ½ç›´æ¥ç”¨ORMå¼€å‘
â€¢ è€åŠŸèƒ½é€æ­¥é‡æ„

ç¬¬å››é˜¶æ®µï¼šå®Œå–„é˜¶æ®µï¼ˆ2-4å‘¨ï¼‰
â€¢ ç»Ÿä¸€ä»£ç é£æ ¼
â€¢ ä¼˜åŒ–æ€§èƒ½é—®é¢˜
â€¢ å®Œå–„æ–‡æ¡£å’Œè§„èŒƒ
```

### 8.2 å¹¶å­˜è¿‡æ¸¡æ–¹æ¡ˆ


**ğŸ”— æ··åˆæ¶æ„è®¾è®¡**
```
é¡¹ç›®æ¶æ„ï¼š

Controllerå±‚
     â†“
Serviceå±‚
     â†“
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ DAOå±‚   â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ JDBC    â”‚ â† å¤æ‚æŸ¥è¯¢ã€é«˜æ€§èƒ½è¦æ±‚
  â”‚ MyBatis â”‚ â† å¸¸è§„CRUDæ“ä½œ  
  â”‚Template â”‚ â† ç®€å•æŸ¥è¯¢
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â†“
  æ•°æ®åº“å±‚
```

**ğŸ”§ å®é™…å®ç°ç¤ºä¾‹**
```java
@Service
public class UserService {
    
    // è€çš„JDBCå®ç°ï¼ˆå¤æ‚æŸ¥è¯¢ï¼‰
    @Autowired
    private UserJdbcDao userJdbcDao;
    
    // æ–°çš„MyBatiså®ç°ï¼ˆå¸¸è§„æ“ä½œï¼‰
    @Autowired  
    private UserMapper userMapper;
    
    // æ ¹æ®éœ€æ±‚é€‰æ‹©ä¸åŒå®ç°
    public List<User> findUsers(UserQuery query) {
        if (query.isComplexQuery()) {
            // å¤æ‚æŸ¥è¯¢ç”¨JDBC
            return userJdbcDao.findByComplexCondition(query);
        } else {
            // ç®€å•æŸ¥è¯¢ç”¨MyBatis
            return userMapper.findBySimpleCondition(query);
        }
    }
    
    // æ–°åŠŸèƒ½ç›´æ¥ç”¨ORM
    public User saveUser(User user) {
        return userMapper.save(user);
    }
}
```

### 8.3 æ•°æ®ä¸€è‡´æ€§ä¿è¯


**ğŸ”„ äº‹åŠ¡ç®¡ç†ç»Ÿä¸€**
```java
@Configuration
@EnableTransactionManagement
public class TransactionConfig {
    
    @Bean
    public PlatformTransactionManager transactionManager(DataSource dataSource) {
        return new DataSourceTransactionManager(dataSource);
    }
}

// ä¸šåŠ¡å±‚ç»Ÿä¸€äº‹åŠ¡ç®¡ç†
@Service
@Transactional
public class UserService {
    
    // ä¸ç®¡åº•å±‚ç”¨JDBCè¿˜æ˜¯MyBatisï¼Œäº‹åŠ¡éƒ½æ˜¯ç»Ÿä¸€ç®¡ç†çš„
    public void transferOperation() {
        // æ“ä½œ1ï¼šç”¨JDBCå®ç°
        userJdbcDao.updateBalance(userId1, -100);
        
        // æ“ä½œ2ï¼šç”¨MyBatiså®ç°  
        userMapper.updateBalance(userId2, +100);
        
        // ä¸¤ä¸ªæ“ä½œåœ¨åŒä¸€ä¸ªäº‹åŠ¡ä¸­
    }
}
```

### 8.4 è¿ç§»æœ€ä½³å®è·µ


**âœ… è¿ç§»æˆåŠŸè¦ç´ **
```
æŠ€æœ¯å‡†å¤‡ï¼š
â€¢ å……åˆ†çš„æ¡†æ¶å­¦ä¹ å’Œè°ƒç ”
â€¢ å®Œæ•´çš„è¿ç§»è®¡åˆ’å’Œæ—¶é—´è¡¨
â€¢ è¯¦ç»†çš„æµ‹è¯•ç”¨ä¾‹å’ŒéªŒè¯æ ‡å‡†

å›¢é˜Ÿå‡†å¤‡ï¼š
â€¢ å›¢é˜ŸæŠ€æœ¯åŸ¹è®­å’ŒçŸ¥è¯†åˆ†äº«
â€¢ ä»£ç reviewå’Œæœ€ä½³å®è·µåˆ¶å®š
â€¢ é—®é¢˜è§£å†³æœºåˆ¶å’ŒæŠ€æœ¯æ”¯æŒ

é¡¹ç›®ç®¡ç†ï¼š
â€¢ åˆ†é˜¶æ®µè¿ç§»ï¼Œé™ä½é£é™©  
â€¢ ä¿æŒè€ä»£ç å¯å›é€€
â€¢ å¯†åˆ‡ç›‘æ§é¡¹ç›®è¿›åº¦å’Œè´¨é‡
```

**âŒ å¸¸è§è¿ç§»é™·é˜±**
```
æŠ€æœ¯é™·é˜±ï¼š
â€¢ ä¸€æ¬¡æ€§å…¨éƒ¨é‡å†™ï¼ˆé£é™©å¤ªå¤§ï¼‰
â€¢ æ²¡æœ‰å……åˆ†æµ‹è¯•æ–°æ¡†æ¶
â€¢ å¿½ç•¥æ€§èƒ½å¯¹æ¯”å’Œä¼˜åŒ–

ç®¡ç†é™·é˜±ï¼š
â€¢ æ—¶é—´ä¼°ç®—è¿‡äºä¹è§‚
â€¢ å›¢é˜ŸåŸ¹è®­ä¸å……åˆ†
â€¢ æ²¡æœ‰åº”æ€¥å›é€€æ–¹æ¡ˆ

ä¸šåŠ¡é™·é˜±ï¼š
â€¢ è¿ç§»è¿‡ç¨‹ä¸­å¼•å…¥æ–°bug
â€¢ å½±å“æ­£å¸¸åŠŸèƒ½å¼€å‘è¿›åº¦
â€¢ ç”¨æˆ·ä½“éªŒå‡ºç°é—®é¢˜
```

---

## 9. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 9.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ ORMæœ¬è´¨ï¼šå¯¹è±¡å…³ç³»æ˜ å°„ï¼ŒæŠŠæ•°æ®åº“æ“ä½œå¯¹è±¡åŒ–
ğŸ”¸ æ¡†æ¶é€‰æ‹©ï¼šMyBatisé€‚åˆå¤æ‚æŸ¥è¯¢ï¼ŒJdbcTemplateé€‚åˆç®€å•é¡¹ç›®ï¼ŒHibernateåŠŸèƒ½å¼ºå¤§ä½†å¤æ‚
ğŸ”¸ è¿ç§»æ—¶æœºï¼šé¡¹ç›®è§„æ¨¡å¤§ã€ç»´æŠ¤å‘¨æœŸé•¿æ—¶è€ƒè™‘è¿ç§»
ğŸ”¸ è¿‡æ¸¡ç­–ç•¥ï¼šæ¸è¿›å¼è¿ç§»ï¼Œæ–°è€ä»£ç å¹¶å­˜ï¼Œç»Ÿä¸€äº‹åŠ¡ç®¡ç†
ğŸ”¸ é£é™©æ§åˆ¶ï¼šå……åˆ†æµ‹è¯•ã€åˆ†é˜¶æ®µæ¨è¿›ã€ä¿æŒå›é€€èƒ½åŠ›
```

### 9.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ ORMä¸æ˜¯ä¸‡èƒ½çš„**
```
ORMçš„ä»·å€¼ï¼š
â€¢ æé«˜å¼€å‘æ•ˆç‡ï¼Œå‡å°‘é‡å¤ä»£ç 
â€¢ ç»Ÿä¸€æ•°æ®è®¿é—®æ–¹å¼ï¼Œä¾¿äºç»´æŠ¤
â€¢ é™ä½SQLé”™è¯¯ï¼Œæé«˜ä»£ç è´¨é‡

ORMçš„å±€é™ï¼š
â€¢ å¤æ‚æŸ¥è¯¢å¯èƒ½æ€§èƒ½ä¸ä½³
â€¢ å­¦ä¹ æˆæœ¬å’Œè°ƒè¯•éš¾åº¦å¢åŠ 
â€¢ ä¸æ˜¯æ‰€æœ‰åœºæ™¯éƒ½é€‚åˆORM
```

**ğŸ”¹ é€‰æ‹©æ¡†æ¶è¦çœ‹åœºæ™¯**
```
é€‰æ‹©ä¾æ®ï¼š
é¡¹ç›®è§„æ¨¡ > å›¢é˜Ÿèƒ½åŠ› > æ€§èƒ½è¦æ±‚ > ç»´æŠ¤æˆæœ¬

æ²¡æœ‰æœ€å¥½çš„æ¡†æ¶ï¼Œåªæœ‰æœ€åˆé€‚çš„æ¡†æ¶
```

**ğŸ”¹ è¿ç§»è¦å¾ªåºæ¸è¿›**
```
æˆåŠŸè¿ç§»çš„å…³é”®ï¼š
â€¢ ä¸è¦æ€¥äºä¸€æ¬¡æ€§å…¨éƒ¨æ›¿æ¢
â€¢ å…ˆä»ç®€å•æ¨¡å—å¼€å§‹è¯•ç‚¹
â€¢ ä¿æŒè€ä»£ç çš„å¯ç”¨æ€§
â€¢ å›¢é˜ŸåŸ¹è®­å’ŒçŸ¥è¯†ç§¯ç´¯åŒæ ·é‡è¦
```

### 9.3 å®é™…åº”ç”¨å»ºè®®


**ğŸ¯ æ–°æ‰‹å­¦ä¹ è·¯å¾„**
```
ç¬¬1æ­¥ï¼šç†Ÿç»ƒæŒæ¡åŸç”ŸJDBC
ç¬¬2æ­¥ï¼šå­¦ä¹ JdbcTemplateï¼ˆSpringé¡¹ç›®ï¼‰
ç¬¬3æ­¥ï¼šæ·±å…¥å­¦ä¹ MyBatis
ç¬¬4æ­¥ï¼šäº†è§£Hibernateæ¦‚å¿µï¼ˆå¯é€‰ï¼‰
ç¬¬5æ­¥ï¼šåœ¨å®é™…é¡¹ç›®ä¸­åº”ç”¨å’Œä¼˜åŒ–
```

**ğŸ”§ é¡¹ç›®åº”ç”¨ç­–ç•¥**
```
å°å‹é¡¹ç›®ï¼ˆ< 10è¡¨ï¼‰ï¼š
æ¨èä½¿ç”¨JdbcTemplateï¼Œç®€å•å¤Ÿç”¨

ä¸­å‹é¡¹ç›®ï¼ˆ10-50è¡¨ï¼‰ï¼š
æ¨èä½¿ç”¨MyBatisï¼Œçµæ´»å¯æ§

å¤§å‹é¡¹ç›®ï¼ˆ> 50è¡¨ï¼‰ï¼š
å¯è€ƒè™‘Hibernateï¼Œä½†éœ€è¦å›¢é˜Ÿæœ‰è¶³å¤Ÿç»éªŒ
```

**âš ï¸ é¿å…å¸¸è§è¯¯åŒº**
```
è¯¯åŒº1ï¼šè®¤ä¸ºORMå°±æ˜¯ä¸ç”¨å†™SQL
æ­£ç¡®ï¼šMyBatisç­‰åŠè‡ªåŠ¨ORMä»éœ€è¦å†™SQL

è¯¯åŒº2ï¼šè®¤ä¸ºORMæ€§èƒ½ä¸€å®šæ¯”JDBCå·®
æ­£ç¡®ï¼šåˆç†ä½¿ç”¨ORMï¼Œæ€§èƒ½å·®è·å¾ˆå°

è¯¯åŒº3ï¼šè®¤ä¸ºå­¦ä¼šORMå°±ä¸ç”¨å­¦JDBC
æ­£ç¡®ï¼šJDBCæ˜¯åŸºç¡€ï¼Œç†è§£JDBCæœ‰åŠ©äºæ›´å¥½ä½¿ç”¨ORM

è¯¯åŒº4ï¼šè®¤ä¸ºæ‰€æœ‰é¡¹ç›®éƒ½åº”è¯¥ç”¨ORM
æ­£ç¡®ï¼šè¦æ ¹æ®é¡¹ç›®å®é™…æƒ…å†µé€‰æ‹©æŠ€æœ¯æ ˆ
```

**æ ¸å¿ƒè®°å¿†å£è¯€**ï¼š
- ORMæ¡†æ¶æ¥å¸®å¿™ï¼Œå¯¹è±¡æ“ä½œä»£æ›¿SQLå¿™
- åŠè‡ªåŠ¨MyBatiså¼ºï¼Œå…¨è‡ªåŠ¨Hibernateè¯¦
- JdbcTemplateå¤Ÿç®€å•ï¼ŒSpringé¡¹ç›®é¦–é€‰æ£’
- è¿ç§»è¦çœ‹é¡¹ç›®å¤§ï¼Œæ¸è¿›è¿‡æ¸¡é£é™©å°