---
title: 1ã€ResultSetç»“æœé›†æ“ä½œ
---
## ğŸ“š ç›®å½•

1. [ResultSetæ˜¯ä»€ä¹ˆ](#1-ResultSetæ˜¯ä»€ä¹ˆ)
2. [æ¸¸æ ‡ç§»åŠ¨æœºåˆ¶è¯¦è§£](#2-æ¸¸æ ‡ç§»åŠ¨æœºåˆ¶è¯¦è§£)
3. [next()æ–¹æ³•éå†åŸç†](#3-nextæ–¹æ³•éå†åŸç†)
4. [getXxx()ç³»åˆ—æ–¹æ³•å…¨è§£æ](#4-getXxxç³»åˆ—æ–¹æ³•å…¨è§£æ)
5. [åˆ—ç´¢å¼•ä¸åˆ—åè·å–æŠ€å·§](#5-åˆ—ç´¢å¼•ä¸åˆ—åè·å–æŠ€å·§)
6. [å®é™…å¼€å‘æœ€ä½³å®è·µ](#6-å®é™…å¼€å‘æœ€ä½³å®è·µ)
7. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#7-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ¯ ResultSetæ˜¯ä»€ä¹ˆ


### 1.1 é€šä¿—ç†è§£ResultSet


**ğŸ”¸ ç”Ÿæ´»ä¸­çš„ç±»æ¯”**
æƒ³è±¡ä½ å»å›¾ä¹¦é¦†æŸ¥èµ„æ–™ï¼Œç®¡ç†å‘˜ç»™ä½ ä¸€ä¸ª**æŸ¥è¯¢ç»“æœæ¸…å•**ã€‚è¿™ä¸ªæ¸…å•ä¸Šåˆ—ç€æ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„ä¹¦ç±ä¿¡æ¯ï¼Œä½ éœ€è¦**ä¸€è¡Œä¸€è¡Œåœ°çœ‹**ï¼Œæ¯æ¬¡åªèƒ½çœ‹ä¸€è¡Œï¼Œçœ‹å®Œè¿™ä¸€è¡Œæ‰èƒ½çœ‹ä¸‹ä¸€è¡Œã€‚

`ResultSet`å°±åƒè¿™ä¸ªæŸ¥è¯¢ç»“æœæ¸…å•ï¼š
- ğŸ“‹ **å­˜æ”¾æŸ¥è¯¢ç»“æœ**ï¼šåŒ…å«ä»æ•°æ®åº“æŸ¥åˆ°çš„æ‰€æœ‰æ•°æ®
- ğŸ‘† **ä¸€æ¬¡çœ‹ä¸€è¡Œ**ï¼šæ¯æ¬¡åªèƒ½å¤„ç†ä¸€æ¡è®°å½•
- â­ï¸ **æŒ‰é¡ºåºè®¿é—®**ï¼šå¿…é¡»ä»ç¬¬ä¸€è¡Œå¼€å§‹ï¼Œä¾æ¬¡å¾€ä¸‹çœ‹

### 1.2 ResultSetçš„æœ¬è´¨ä½œç”¨


**ğŸ”¸ æ ¸å¿ƒå®šä¹‰**
```
ResultSet = æ•°æ®åº“æŸ¥è¯¢ç»“æœçš„Javaè¡¨ç¤º
ä½œç”¨ï¼šå°†SQLæŸ¥è¯¢è¿”å›çš„è¡¨æ ¼æ•°æ®ï¼Œè½¬æ¢æˆJavaç¨‹åºå¯ä»¥æ“ä½œçš„å¯¹è±¡
```

**ğŸ’¡ ä¸ºä»€ä¹ˆéœ€è¦ResultSetï¼Ÿ**
```
æ•°æ®åº“ä¸­çš„è¡¨ï¼š
+----+--------+-----+
| id | name   | age |
+----+--------+-----+
| 1  | å¼ ä¸‰   | 25  |
| 2  | æå››   | 30  |
| 3  | ç‹äº”   | 28  |
+----+--------+-----+

Javaç¨‹åºæ— æ³•ç›´æ¥å¤„ç†è¿™ç§è¡¨æ ¼æ ¼å¼
éœ€è¦ResultSetä½œä¸º"ç¿»è¯‘å®˜"ï¼Œè®©Javaèƒ½å¤Ÿè¯»å–æ¯ä¸€è¡Œçš„æ•°æ®
```

### 1.3 ResultSetçš„å·¥ä½œæµç¨‹


**ğŸ”„ å®Œæ•´å·¥ä½œè¿‡ç¨‹**
```
1. SQLæŸ¥è¯¢æ‰§è¡Œ â†’ è¿”å›ç»“æœè¡¨
2. JDBCå°†ç»“æœè¡¨åŒ…è£…æˆResultSetå¯¹è±¡
3. Javaç¨‹åºé€šè¿‡ResultSeté€è¡Œè¯»å–æ•°æ®
4. æ¯ä¸€è¡Œæ•°æ®å¯ä»¥é€šè¿‡getXxx()æ–¹æ³•è·å–å…·ä½“å€¼
```

**ğŸ“Š æµç¨‹ç¤ºæ„å›¾**
```
SQLæŸ¥è¯¢: SELECT * FROM users
         â†“
    [æ•°æ®åº“è¿”å›ç»“æœè¡¨]
         â†“
    [JDBCå°è£…æˆResultSet]
         â†“
    Javaç¨‹åº: rs.next() â†’ rs.getString("name")
         â†“
    è·å¾—å…·ä½“æ•°æ®: "å¼ ä¸‰"
```

---

## 2. ğŸ§­ æ¸¸æ ‡ç§»åŠ¨æœºåˆ¶è¯¦è§£


### 2.1 ä»€ä¹ˆæ˜¯æ¸¸æ ‡


**ğŸ”¸ æ¸¸æ ‡çš„é€šä¿—è§£é‡Š**
æ¸¸æ ‡ï¼ˆCursorï¼‰å°±åƒæ˜¯ä¸€ä¸ª**é˜…è¯»æŒ‡é’ˆ**ï¼Œå‘Šè¯‰ä½ ç°åœ¨æ­£åœ¨çœ‹ç¬¬å‡ è¡Œæ•°æ®ã€‚

```
æƒ³è±¡ä¸€æœ¬ä¹¦ï¼Œä½ ç”¨ä¹¦ç­¾æ ‡è®°å½“å‰é˜…è¯»ä½ç½®ï¼š
ç¬¬1é¡µ â† ä¹¦ç­¾åœ¨è¿™é‡Œï¼ˆå½“å‰ä½ç½®ï¼‰
ç¬¬2é¡µ
ç¬¬3é¡µ
...

ResultSetä¸­çš„æ¸¸æ ‡å°±æ˜¯è¿™ä¸ª"ä¹¦ç­¾"
```

### 2.2 æ¸¸æ ‡çš„åˆå§‹ä½ç½®


**ğŸ”¸ é‡è¦æ¦‚å¿µï¼šæ¸¸æ ‡åˆå§‹åœ¨ç¬¬0è¡Œ**
```
ResultSetåˆšåˆ›å»ºæ—¶çš„çŠ¶æ€ï¼š

æ¸¸æ ‡ä½ç½® â†’ [BOF] â† è¿™é‡Œæ˜¯èµ·å§‹ä½ç½®ï¼ˆBefore Firstï¼‰
           ç¬¬1è¡Œæ•°æ®
           ç¬¬2è¡Œæ•°æ®  
           ç¬¬3è¡Œæ•°æ®
          [EOF] â† ç»“æŸä½ç½®ï¼ˆAfter Lastï¼‰

BOF = Before of Fileï¼ˆæ–‡ä»¶å¼€å§‹å‰ï¼‰
EOF = End of Fileï¼ˆæ–‡ä»¶ç»“æŸåï¼‰
```

> âš ï¸ **æ–°æ‰‹æ˜“é”™ç‚¹**ï¼šæ¸¸æ ‡åˆå§‹ä¸åœ¨ç¬¬1è¡Œï¼Œè€Œåœ¨ç¬¬0è¡Œï¼ˆBOFä½ç½®ï¼‰ï¼å¿…é¡»å…ˆè°ƒç”¨`next()`æ‰èƒ½è®¿é—®ç¬¬1è¡Œæ•°æ®ã€‚

### 2.3 æ¸¸æ ‡ç§»åŠ¨çš„åŸºæœ¬æ–¹æ³•


**ğŸ“‹ å¸¸ç”¨æ¸¸æ ‡ç§»åŠ¨æ–¹æ³•**

| æ–¹æ³•å | **ä½œç”¨** | **è¿”å›å€¼** | **è¯´æ˜** |
|--------|----------|------------|----------|
| `next()` | ç§»åŠ¨åˆ°ä¸‹ä¸€è¡Œ | `boolean` | æœ€å¸¸ç”¨ï¼Œå‘ä¸‹ç§»åŠ¨ä¸€è¡Œ |
| `previous()` | ç§»åŠ¨åˆ°ä¸Šä¸€è¡Œ | `boolean` | å‘ä¸Šç§»åŠ¨ä¸€è¡Œ |
| `first()` | ç§»åŠ¨åˆ°ç¬¬ä¸€è¡Œ | `boolean` | ç›´æ¥è·³åˆ°ç¬¬1è¡Œ |
| `last()` | ç§»åŠ¨åˆ°æœ€åä¸€è¡Œ | `boolean` | ç›´æ¥è·³åˆ°æœ€åä¸€è¡Œ |
| `absolute(n)` | ç§»åŠ¨åˆ°ç¬¬nè¡Œ | `boolean` | ç›´æ¥å®šä½åˆ°æŒ‡å®šè¡Œ |

### 2.4 æ¸¸æ ‡ç§»åŠ¨ç¤ºä¾‹


**ğŸ’¡ æ¸¸æ ‡ç§»åŠ¨è¿‡ç¨‹æ¼”ç¤º**
```java
// å‡è®¾æŸ¥è¯¢ç»“æœæœ‰3è¡Œæ•°æ®
ResultSet rs = stmt.executeQuery("SELECT * FROM users");

// åˆå§‹çŠ¶æ€ï¼šæ¸¸æ ‡åœ¨BOFä½ç½®
System.out.println("åˆå§‹ä½ç½®ï¼Œæ— æ³•è·å–æ•°æ®");

// ç¬¬ä¸€æ¬¡next()ï¼šæ¸¸æ ‡ç§»åŠ¨åˆ°ç¬¬1è¡Œ
boolean hasData1 = rs.next(); // è¿”å›trueï¼Œè¡¨ç¤ºæœ‰æ•°æ®
System.out.println("å½“å‰åœ¨ç¬¬1è¡Œï¼š" + rs.getString("name")); // è¾“å‡ºï¼šå¼ ä¸‰

// ç¬¬äºŒæ¬¡next()ï¼šæ¸¸æ ‡ç§»åŠ¨åˆ°ç¬¬2è¡Œ  
boolean hasData2 = rs.next(); // è¿”å›true
System.out.println("å½“å‰åœ¨ç¬¬2è¡Œï¼š" + rs.getString("name")); // è¾“å‡ºï¼šæå››

// ç¬¬ä¸‰æ¬¡next()ï¼šæ¸¸æ ‡ç§»åŠ¨åˆ°ç¬¬3è¡Œ
boolean hasData3 = rs.next(); // è¿”å›true
System.out.println("å½“å‰åœ¨ç¬¬3è¡Œï¼š" + rs.getString("name")); // è¾“å‡ºï¼šç‹äº”

// ç¬¬å››æ¬¡next()ï¼šæ¸¸æ ‡ç§»åŠ¨åˆ°EOFä½ç½®
boolean hasData4 = rs.next(); // è¿”å›falseï¼Œè¡¨ç¤ºæ²¡æœ‰æ›´å¤šæ•°æ®
System.out.println("å·²ç»åˆ°è¾¾ç»“æŸä½ç½®ï¼Œæ— æ•°æ®å¯è¯»");
```

---

## 3. â¡ï¸ next()æ–¹æ³•éå†åŸç†


### 3.1 next()æ–¹æ³•çš„åŒé‡ä½œç”¨


**ğŸ”¸ next()æ–¹æ³•åšäº†ä¸¤ä»¶äº‹**
1. **ç§»åŠ¨æ¸¸æ ‡**ï¼šå°†æ¸¸æ ‡å‘ä¸‹ç§»åŠ¨ä¸€è¡Œ
2. **è¿”å›çŠ¶æ€**ï¼šå‘Šè¯‰ä½ æ˜¯å¦ç§»åŠ¨æˆåŠŸï¼ˆæ˜¯å¦æœ‰æ•°æ®ï¼‰

```java
boolean hasNext = rs.next();
// hasNext = trueï¼šç§»åŠ¨æˆåŠŸï¼Œå½“å‰è¡Œæœ‰æ•°æ®
// hasNext = falseï¼šç§»åŠ¨å¤±è´¥ï¼Œå·²ç»åˆ°è¾¾ç»“æŸä½ç½®
```

### 3.2 æ ‡å‡†éå†æ¨¡å¼


**ğŸ”¸ ç»å…¸whileå¾ªç¯éå†**
```java
// è¿™æ˜¯æœ€æ ‡å‡†ã€æœ€å¸¸ç”¨çš„éå†æ–¹å¼
while (rs.next()) {
    // è¿›å…¥å¾ªç¯è¯´æ˜ï¼š
    // 1. æ¸¸æ ‡æˆåŠŸç§»åŠ¨åˆ°äº†ä¸‹ä¸€è¡Œ
    // 2. å½“å‰è¡Œç¡®å®æœ‰æ•°æ®
    
    String name = rs.getString("name");
    int age = rs.getInt("age");
    System.out.println("å§“åï¼š" + name + "ï¼Œå¹´é¾„ï¼š" + age);
}
```

### 3.3 éå†è¿‡ç¨‹è¯¦ç»†åˆ†æ


**ğŸ“Š é€æ­¥æ‰§è¡Œè¿‡ç¨‹**
```
åˆå§‹çŠ¶æ€ï¼š
æ¸¸æ ‡ â†’ [BOF]
       ç¬¬1è¡Œï¼šå¼ ä¸‰, 25
       ç¬¬2è¡Œï¼šæå››, 30  
       ç¬¬3è¡Œï¼šç‹äº”, 28
       [EOF]

ç¬¬1æ¬¡ while(rs.next())ï¼š
1. next()æ‰§è¡Œï¼šæ¸¸æ ‡ä»BOFç§»åŠ¨åˆ°ç¬¬1è¡Œ
2. è¿”å›trueï¼ˆå› ä¸ºç¬¬1è¡Œæœ‰æ•°æ®ï¼‰
3. è¿›å…¥å¾ªç¯ä½“ï¼Œå¤„ç†å¼ ä¸‰çš„æ•°æ®

ç¬¬2æ¬¡ while(rs.next())ï¼š  
1. next()æ‰§è¡Œï¼šæ¸¸æ ‡ä»ç¬¬1è¡Œç§»åŠ¨åˆ°ç¬¬2è¡Œ
2. è¿”å›trueï¼ˆå› ä¸ºç¬¬2è¡Œæœ‰æ•°æ®ï¼‰
3. è¿›å…¥å¾ªç¯ä½“ï¼Œå¤„ç†æå››çš„æ•°æ®

ç¬¬3æ¬¡ while(rs.next())ï¼š
1. next()æ‰§è¡Œï¼šæ¸¸æ ‡ä»ç¬¬2è¡Œç§»åŠ¨åˆ°ç¬¬3è¡Œ  
2. è¿”å›trueï¼ˆå› ä¸ºç¬¬3è¡Œæœ‰æ•°æ®ï¼‰
3. è¿›å…¥å¾ªç¯ä½“ï¼Œå¤„ç†ç‹äº”çš„æ•°æ®

ç¬¬4æ¬¡ while(rs.next())ï¼š
1. next()æ‰§è¡Œï¼šæ¸¸æ ‡ä»ç¬¬3è¡Œç§»åŠ¨åˆ°EOF
2. è¿”å›falseï¼ˆå› ä¸ºEOFä½ç½®æ— æ•°æ®ï¼‰
3. ä¸è¿›å…¥å¾ªç¯ä½“ï¼Œéå†ç»“æŸ
```

### 3.4 æ–°æ‰‹å¸¸è§é”™è¯¯


**âŒ é”™è¯¯ç”¨æ³•1ï¼šå¿˜è®°è°ƒç”¨next()**
```java
ResultSet rs = stmt.executeQuery("SELECT * FROM users");
// ç›´æ¥è·å–æ•°æ®ï¼Œæ²¡æœ‰å…ˆè°ƒç”¨next()
String name = rs.getString("name"); // æŠ¥é”™ï¼æ¸¸æ ‡è¿˜åœ¨BOFä½ç½®
```

**âŒ é”™è¯¯ç”¨æ³•2ï¼šå¤šæ¬¡è°ƒç”¨next()**
```java
while (rs.next()) {
    rs.next(); // åˆè°ƒç”¨äº†ä¸€æ¬¡ï¼ä¼šè·³è¿‡ä¸€è¡Œæ•°æ®
    String name = rs.getString("name");
}
```

**âœ… æ­£ç¡®ç”¨æ³•ï¼š**
```java
while (rs.next()) {
    // åªåœ¨whileæ¡ä»¶ä¸­è°ƒç”¨ä¸€æ¬¡next()
    String name = rs.getString("name");
    int age = rs.getInt("age");
    // å¤„ç†å½“å‰è¡Œæ•°æ®...
}
```

---

## 4. ğŸ” getXxx()ç³»åˆ—æ–¹æ³•å…¨è§£æ


### 4.1 getXxx()æ–¹æ³•çš„ä½œç”¨


**ğŸ”¸ é€šä¿—ç†è§£**
`getXxx()`æ–¹æ³•å°±åƒæ˜¯**æ•°æ®æå–å™¨**ï¼Œç”¨æ¥ä»å½“å‰è¡Œä¸­æå–æŒ‡å®šåˆ—çš„æ•°æ®ï¼Œå¹¶è½¬æ¢æˆJavaå¯¹åº”çš„æ•°æ®ç±»å‹ã€‚

```
æ•°æ®åº“ä¸­çš„ä¸€è¡Œæ•°æ®ï¼š
| id | name | age | salary  | is_active |
| 1  | å¼ ä¸‰ | 25  | 5000.50 | true      |

é€šè¿‡getXxx()æ–¹æ³•æå–ï¼š
rs.getInt("id")      â†’ 1        (æ•´æ•°)
rs.getString("name") â†’ "å¼ ä¸‰"    (å­—ç¬¦ä¸²)  
rs.getInt("age")     â†’ 25       (æ•´æ•°)
rs.getDouble("salary") â†’ 5000.50 (æµ®ç‚¹æ•°)
rs.getBoolean("is_active") â†’ true (å¸ƒå°”å€¼)
```

### 4.2 å¸¸ç”¨getXxx()æ–¹æ³•ä¸€è§ˆ


**ğŸ“‹ åŸºæœ¬æ•°æ®ç±»å‹è·å–æ–¹æ³•**

| **æ•°æ®åº“ç±»å‹** | **Javaç±»å‹** | **è·å–æ–¹æ³•** | **ç¤ºä¾‹** |
|----------------|--------------|--------------|----------|
| `INT, SMALLINT` | `int` | `getInt()` | `rs.getInt("age")` |
| `BIGINT` | `long` | `getLong()` | `rs.getLong("phone")` |
| `VARCHAR, CHAR` | `String` | `getString()` | `rs.getString("name")` |
| `DOUBLE, FLOAT` | `double` | `getDouble()` | `rs.getDouble("salary")` |
| `DECIMAL` | `BigDecimal` | `getBigDecimal()` | `rs.getBigDecimal("price")` |
| `BOOLEAN` | `boolean` | `getBoolean()` | `rs.getBoolean("is_active")` |
| `DATE` | `Date` | `getDate()` | `rs.getDate("birthday")` |
| `TIMESTAMP` | `Timestamp` | `getTimestamp()` | `rs.getTimestamp("create_time")` |

### 4.3 ä¸¤ç§è·å–æ–¹å¼ï¼šåˆ—å vs åˆ—ç´¢å¼•


**ğŸ”¸ æ–¹å¼ä¸€ï¼šé€šè¿‡åˆ—åè·å–ï¼ˆæ¨èï¼‰**
```java
// ä¼˜ç‚¹ï¼šå¯è¯»æ€§å¥½ï¼Œä¸å®¹æ˜“å‡ºé”™
String name = rs.getString("name");     // é€šè¿‡åˆ—å
int age = rs.getInt("age");           // é€šè¿‡åˆ—å
double salary = rs.getDouble("salary"); // é€šè¿‡åˆ—å
```

**ğŸ”¸ æ–¹å¼äºŒï¼šé€šè¿‡åˆ—ç´¢å¼•è·å–**
```java
// æ³¨æ„ï¼šåˆ—ç´¢å¼•ä»1å¼€å§‹ï¼Œä¸æ˜¯ä»0å¼€å§‹ï¼
String name = rs.getString(1);    // ç¬¬1åˆ—
int age = rs.getInt(2);          // ç¬¬2åˆ—  
double salary = rs.getDouble(3);  // ç¬¬3åˆ—
```

> ğŸ’¡ **å»ºè®®**ï¼šå®é™…å¼€å‘ä¸­ä¼˜å…ˆä½¿ç”¨åˆ—åæ–¹å¼ï¼Œä»£ç æ›´æ¸…æ™°æ˜“æ‡‚ã€‚

### 4.4 ç±»å‹è½¬æ¢ä¸æ³¨æ„äº‹é¡¹


**ğŸ”¸ è‡ªåŠ¨ç±»å‹è½¬æ¢**
ResultSetä¼šå°½é‡è¿›è¡Œåˆç†çš„ç±»å‹è½¬æ¢ï¼š
```java
// æ•°æ®åº“ä¸­ageå­—æ®µæ˜¯INTç±»å‹
int age1 = rs.getInt("age");        // ç›´æ¥è·å–æ•´æ•°ï¼š25
String age2 = rs.getString("age");   // è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼š"25"
double age3 = rs.getDouble("age");   // è½¬æ¢ä¸ºæµ®ç‚¹æ•°ï¼š25.0
```

**âš ï¸ å¸¸è§æ³¨æ„äº‹é¡¹**
```java
// 1. NULLå€¼å¤„ç†
String name = rs.getString("name");
if (rs.wasNull()) {
    System.out.println("nameå­—æ®µä¸ºNULL");
}

// 2. æ—¥æœŸå¤„ç†
java.sql.Date birthday = rs.getDate("birthday");
java.sql.Timestamp createTime = rs.getTimestamp("create_time");

// 3. å¤§æ•°å­—å¤„ç†ï¼ˆé¿å…ç²¾åº¦ä¸¢å¤±ï¼‰
BigDecimal price = rs.getBigDecimal("price"); // æ¨èç”¨äºé‡‘é¢
```

---

## 5. ğŸ“ åˆ—ç´¢å¼•ä¸åˆ—åè·å–æŠ€å·§


### 5.1 åˆ—ç´¢å¼•çš„è§„åˆ™


**ğŸ”¸ é‡è¦æ¦‚å¿µï¼šåˆ—ç´¢å¼•ä»1å¼€å§‹**
```
SQLæŸ¥è¯¢ï¼šSELECT id, name, age FROM users

ç»“æœé›†åˆ—ç»“æ„ï¼š
åˆ—ç´¢å¼• 1 â†’ id å­—æ®µ
åˆ—ç´¢å¼• 2 â†’ name å­—æ®µ  
åˆ—ç´¢å¼• 3 â†’ age å­—æ®µ

æ³¨æ„ï¼šä¸æ˜¯ä»0å¼€å§‹ï¼Œè€Œæ˜¯ä»1å¼€å§‹ï¼
```

### 5.2 è·å–åˆ—ä¿¡æ¯çš„å®ç”¨æ–¹æ³•


**ğŸ”¸ åŠ¨æ€è·å–åˆ—ä¿¡æ¯**
```java
// è·å–ç»“æœé›†çš„å…ƒæ•°æ®ä¿¡æ¯
ResultSetMetaData metaData = rs.getMetaData();

// è·å–åˆ—çš„æ€»æ•°
int columnCount = metaData.getColumnCount();
System.out.println("å…±æœ‰ " + columnCount + " åˆ—");

// éå†æ‰€æœ‰åˆ—ä¿¡æ¯
for (int i = 1; i <= columnCount; i++) {
    String columnName = metaData.getColumnName(i);    // åˆ—å
    String columnType = metaData.getColumnTypeName(i); // æ•°æ®ç±»å‹
    int columnSize = metaData.getColumnDisplaySize(i); // æ˜¾ç¤ºé•¿åº¦
    
    System.out.println("ç¬¬" + i + "åˆ—ï¼š" + columnName + 
                      "ï¼Œç±»å‹ï¼š" + columnType + 
                      "ï¼Œé•¿åº¦ï¼š" + columnSize);
}
```

### 5.3 çµæ´»çš„æ•°æ®è·å–ç­–ç•¥


**ğŸ”¸ é€šç”¨æ•°æ®è·å–æ–¹æ³•**
```java
while (rs.next()) {
    // æ–¹æ³•1ï¼šæŒ‰åˆ—åè·å–ï¼ˆæ¨èï¼‰
    int id = rs.getInt("id");
    String name = rs.getString("name");
    int age = rs.getInt("age");
    
    // æ–¹æ³•2ï¼šæŒ‰ç´¢å¼•è·å–
    int id2 = rs.getInt(1);
    String name2 = rs.getString(2);
    int age2 = rs.getInt(3);
    
    // æ–¹æ³•3ï¼šåŠ¨æ€è·å–ï¼ˆé€‚ç”¨äºä¸ç¡®å®šåˆ—ç»“æ„çš„æƒ…å†µï¼‰
    ResultSetMetaData metaData = rs.getMetaData();
    for (int i = 1; i <= metaData.getColumnCount(); i++) {
        String columnName = metaData.getColumnName(i);
        String value = rs.getString(i); // ç»Ÿä¸€ç”¨getStringè·å–
        System.out.println(columnName + " = " + value);
    }
}
```

### 5.4 å®é™…åº”ç”¨åœºæ™¯


**ğŸ’¡ åœºæ™¯1ï¼šå¤„ç†ç”¨æˆ·è¡¨æŸ¥è¯¢**
```java
String sql = "SELECT id, username, email, age, create_time FROM users WHERE age > ?";
PreparedStatement pstmt = conn.prepareStatement(sql);
pstmt.setInt(1, 18);
ResultSet rs = pstmt.executeQuery();

while (rs.next()) {
    // æ¨èï¼šä½¿ç”¨æœ‰æ„ä¹‰çš„å˜é‡åå’Œåˆ—åå¯¹åº”
    int userId = rs.getInt("id");
    String userName = rs.getString("username");
    String userEmail = rs.getString("email");
    int userAge = rs.getInt("age");
    Timestamp createTime = rs.getTimestamp("create_time");
    
    System.out.printf("ç”¨æˆ·IDï¼š%dï¼Œç”¨æˆ·åï¼š%sï¼Œé‚®ç®±ï¼š%sï¼Œå¹´é¾„ï¼š%dï¼Œæ³¨å†Œæ—¶é—´ï¼š%s%n",
                     userId, userName, userEmail, userAge, createTime);
}
```

**ğŸ’¡ åœºæ™¯2ï¼šå¤„ç†è®¢å•ç»Ÿè®¡æŸ¥è¯¢**
```java
String sql = "SELECT product_name, SUM(quantity) as total_quantity, " +
             "AVG(price) as avg_price FROM orders GROUP BY product_name";
ResultSet rs = stmt.executeQuery(sql);

while (rs.next()) {
    String productName = rs.getString("product_name");
    int totalQuantity = rs.getInt("total_quantity");  // èšåˆå‡½æ•°ç»“æœ
    double avgPrice = rs.getDouble("avg_price");      // èšåˆå‡½æ•°ç»“æœ
    
    System.out.println("å•†å“ï¼š" + productName + 
                      "ï¼Œæ€»é”€é‡ï¼š" + totalQuantity + 
                      "ï¼Œå¹³å‡ä»·æ ¼ï¼š" + avgPrice);
}
```

---

## 6. ğŸ› ï¸ å®é™…å¼€å‘æœ€ä½³å®è·µ


### 6.1 æ ‡å‡†çš„ç»“æœé›†å¤„ç†æ¨¡æ¿


**âœ… æ¨èçš„æ ‡å‡†å†™æ³•**
```java
public List<User> getAllUsers() {
    List<User> users = new ArrayList<>();
    String sql = "SELECT id, name, email, age FROM users";
    
    try (Connection conn = getConnection();
         PreparedStatement pstmt = conn.prepareStatement(sql);
         ResultSet rs = pstmt.executeQuery()) {
        
        while (rs.next()) {
            User user = new User();
            user.setId(rs.getInt("id"));
            user.setName(rs.getString("name"));
            user.setEmail(rs.getString("email"));
            user.setAge(rs.getInt("age"));
            
            users.add(user);
        }
    } catch (SQLException e) {
        e.printStackTrace();
        // å®é™…é¡¹ç›®ä¸­åº”è¯¥ç”¨æ—¥å¿—æ¡†æ¶è®°å½•
    }
    
    return users;
}
```

### 6.2 å¼‚å¸¸å¤„ç†ä¸èµ„æºç®¡ç†


**ğŸ”¸ ä¸ºä»€ä¹ˆè¦æ­£ç¡®å…³é—­èµ„æº**
```
æ•°æ®åº“è¿æ¥æ˜¯æœ‰é™èµ„æºï¼š
- æ¯ä¸ªè¿æ¥å ç”¨å†…å­˜å’Œç½‘ç»œèµ„æº
- æ•°æ®åº“æœåŠ¡å™¨é™åˆ¶æœ€å¤§è¿æ¥æ•°
- ä¸å…³é—­ä¼šå¯¼è‡´è¿æ¥æ³„éœ²ï¼Œæœ€ç»ˆè€—å°½è¿æ¥æ± 
```

**âœ… æ¨èçš„èµ„æºç®¡ç†æ–¹å¼**
```java
// ä½¿ç”¨try-with-resourcesè¯­å¥ï¼Œè‡ªåŠ¨å…³é—­èµ„æº
try (Connection conn = DriverManager.getConnection(url, user, password);
     PreparedStatement pstmt = conn.prepareStatement(sql);
     ResultSet rs = pstmt.executeQuery()) {
    
    // å¤„ç†ç»“æœé›†
    while (rs.next()) {
        // è·å–æ•°æ®...
    }
    
} // è¿™é‡Œä¼šè‡ªåŠ¨å…³é—­rsã€pstmtã€connï¼Œå³ä½¿å‘ç”Ÿå¼‚å¸¸ä¹Ÿä¼šå…³é—­
```

### 6.3 NULLå€¼å¤„ç†ç­–ç•¥


**ğŸ”¸ æ•°æ®åº“NULLå€¼çš„å¤„ç†**
```java
while (rs.next()) {
    int id = rs.getInt("id");
    String name = rs.getString("name");
    
    // æ–¹æ³•1ï¼šæ£€æŸ¥æ˜¯å¦ä¸ºNULL
    if (name == null) {
        name = "æœªçŸ¥ç”¨æˆ·"; // è®¾ç½®é»˜è®¤å€¼
    }
    
    // æ–¹æ³•2ï¼šä½¿ç”¨wasNull()æ–¹æ³•
    int age = rs.getInt("age");
    if (rs.wasNull()) {
        age = 0; // å¦‚æœæ•°æ®åº“ä¸­ageä¸ºNULLï¼Œè®¾ç½®é»˜è®¤å€¼
    }
    
    // æ–¹æ³•3ï¼šç›´æ¥å¤„ç†ï¼ˆStringç±»å‹ï¼‰
    String email = rs.getString("email");
    email = (email != null) ? email : "æ— é‚®ç®±";
}
```

### 6.4 æ€§èƒ½ä¼˜åŒ–æŠ€å·§


**ğŸ’¡ æå‡æŸ¥è¯¢æ€§èƒ½çš„æ–¹æ³•**
```java
// 1. åªæŸ¥è¯¢éœ€è¦çš„åˆ—ï¼Œé¿å…SELECT *
String sql = "SELECT id, name, age FROM users"; // å¥½
String sql2 = "SELECT * FROM users";            // é¿å…

// 2. ä½¿ç”¨åˆé€‚çš„æ•°æ®ç±»å‹è·å–æ–¹æ³•
int id = rs.getInt("id");           // å¦‚æœç¡®å®šæ˜¯æ•´æ•°ï¼Œç”¨getInt
String idStr = rs.getString("id");   // é¿å…ä¸å¿…è¦çš„å­—ç¬¦ä¸²è½¬æ¢

// 3. æ‰¹é‡å¤„ç†æ•°æ®
List<User> userBatch = new ArrayList<>();
while (rs.next()) {
    User user = createUserFromResultSet(rs);
    userBatch.add(user);
    
    // æ¯å¤„ç†100æ¡è®°å½•ï¼Œè¿›è¡Œä¸€æ¬¡æ‰¹é‡æ“ä½œ
    if (userBatch.size() == 100) {
        processBatch(userBatch);
        userBatch.clear();
    }
}
// å¤„ç†å‰©ä½™æ•°æ®
if (!userBatch.isEmpty()) {
    processBatch(userBatch);
}
```

### 6.5 è°ƒè¯•å’Œæ—¥å¿—è®°å½•


**ğŸ”§ å®ç”¨çš„è°ƒè¯•æŠ€å·§**
```java
// è®°å½•SQLæ‰§è¡Œä¿¡æ¯ï¼ˆå¼€å‘ç¯å¢ƒï¼‰
System.out.println("æ‰§è¡ŒSQLï¼š" + sql);
System.out.println("æŸ¥è¯¢å‚æ•°ï¼š" + Arrays.toString(parameters));

// è®°å½•ç»“æœé›†ä¿¡æ¯
ResultSetMetaData metaData = rs.getMetaData();
System.out.println("ç»“æœé›†åˆ—æ•°ï¼š" + metaData.getColumnCount());

int rowCount = 0;
while (rs.next()) {
    rowCount++;
    // å¤„ç†æ•°æ®...
    
    // å¼€å‘æ—¶å¯ä»¥æ‰“å°å‰å‡ è¡Œæ•°æ®æŸ¥çœ‹
    if (rowCount <= 3) {
        System.out.println("ç¬¬" + rowCount + "è¡Œæ•°æ®ï¼š" + 
                          rs.getString(1) + ", " + rs.getString(2));
    }
}
System.out.println("å…±å¤„ç†äº† " + rowCount + " è¡Œæ•°æ®");
```

---

## 7. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 7.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ ResultSetæœ¬è´¨ï¼šæ•°æ®åº“æŸ¥è¯¢ç»“æœåœ¨Javaä¸­çš„è¡¨ç¤ºï¼Œç±»ä¼¼æŸ¥è¯¢ç»“æœæ¸…å•
ğŸ”¸ æ¸¸æ ‡æœºåˆ¶ï¼šç±»ä¼¼é˜…è¯»æŒ‡é’ˆï¼Œæ ‡è®°å½“å‰å¤„ç†åˆ°ç¬¬å‡ è¡Œæ•°æ®
ğŸ”¸ next()æ–¹æ³•ï¼šæ—¢ç§»åŠ¨æ¸¸æ ‡åˆè¿”å›çŠ¶æ€ï¼Œæ˜¯éå†çš„æ ¸å¿ƒæ–¹æ³•
ğŸ”¸ getXxx()æ–¹æ³•ï¼šæ•°æ®æå–å™¨ï¼Œå°†æ•°æ®åº“æ•°æ®è½¬æ¢ä¸ºJavaç±»å‹
ğŸ”¸ åˆ—è®¿é—®ï¼šä¼˜å…ˆä½¿ç”¨åˆ—åè®¿é—®ï¼Œåˆ—ç´¢å¼•ä»1å¼€å§‹è€Œä¸æ˜¯0
```

### 7.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ ResultSetçš„å·¥ä½œæµç¨‹**
```
SQLæŸ¥è¯¢ â†’ æ•°æ®åº“è¿”å›ç»“æœè¡¨ â†’ JDBCå°è£…æˆResultSet â†’ Javaç¨‹åºé€è¡Œå¤„ç†
```

**ğŸ”¹ æ¸¸æ ‡ç§»åŠ¨çš„æ ¸å¿ƒè§„å¾‹**
```
åˆå§‹ä½ç½®ï¼šæ¸¸æ ‡åœ¨BOFï¼ˆç¬¬0è¡Œï¼‰
ç§»åŠ¨è§„å¾‹ï¼šnext()æ¯æ¬¡å‘ä¸‹ç§»åŠ¨ä¸€è¡Œ
è¿”å›æœºåˆ¶ï¼šæœ‰æ•°æ®è¿”å›trueï¼Œæ— æ•°æ®è¿”å›false
ç»“æŸæ ‡å¿—ï¼šç§»åŠ¨åˆ°EOFä½ç½®æ—¶ï¼Œnext()è¿”å›false
```

**ğŸ”¹ æ•°æ®è·å–çš„æœ€ä½³å®è·µ**
```
ç±»å‹é€‰æ‹©ï¼šæ ¹æ®æ•°æ®åº“å­—æ®µç±»å‹é€‰æ‹©åˆé€‚çš„getXxx()æ–¹æ³•
åˆ—è®¿é—®ï¼šä¼˜å…ˆä½¿ç”¨åˆ—åï¼Œæé«˜ä»£ç å¯è¯»æ€§
NULLå¤„ç†ï¼šå§‹ç»ˆè€ƒè™‘NULLå€¼æƒ…å†µï¼Œè®¾ç½®åˆç†é»˜è®¤å€¼
èµ„æºç®¡ç†ï¼šä½¿ç”¨try-with-resourcesç¡®ä¿èµ„æºæ­£ç¡®é‡Šæ”¾
```

### 7.3 æ–°æ‰‹é¿å‘æŒ‡å—


| **å¸¸è§é”™è¯¯** | **æ­£ç¡®åšæ³•** | **è¯´æ˜** |
|-------------|-------------|----------|
| å¿˜è®°è°ƒç”¨`next()` | å…ˆ`rs.next()`å†`getXxx()` | æ¸¸æ ‡åˆå§‹åœ¨BOFä½ç½® |
| å¤šæ¬¡è°ƒç”¨`next()` | åªåœ¨whileæ¡ä»¶ä¸­è°ƒç”¨ä¸€æ¬¡ | é¿å…è·³è¿‡æ•°æ®è¡Œ |
| åˆ—ç´¢å¼•ä»0å¼€å§‹ | åˆ—ç´¢å¼•ä»1å¼€å§‹ | ä¸æ•°ç»„ä¸åŒ |
| å¿½ç•¥NULLå€¼ | ä½¿ç”¨`wasNull()`æ£€æŸ¥ | é¿å…æ•°æ®å¼‚å¸¸ |
| ä¸å…³é—­èµ„æº | ä½¿ç”¨try-with-resources | é˜²æ­¢å†…å­˜æ³„éœ² |

### 7.4 å®é™…åº”ç”¨ä»·å€¼


**ğŸ¯ åœ¨é¡¹ç›®ä¸­çš„ä½œç”¨**
- **æ•°æ®æŸ¥è¯¢**ï¼šæ‰€æœ‰SELECTæŸ¥è¯¢çš„ç»“æœéƒ½é€šè¿‡ResultSetè¿”å›
- **æŠ¥è¡¨ç”Ÿæˆ**ï¼šéå†æŸ¥è¯¢ç»“æœï¼Œç”Ÿæˆå„ç§ç»Ÿè®¡æŠ¥è¡¨  
- **æ•°æ®è½¬æ¢**ï¼šå°†æ•°æ®åº“æ•°æ®è½¬æ¢ä¸ºJavaå¯¹è±¡ï¼ˆORMçš„åŸºç¡€ï¼‰
- **æ‰¹é‡å¤„ç†**ï¼šå¤„ç†å¤§é‡æ•°æ®æ—¶çš„é€è¡Œæ“ä½œåŸºç¡€

**ğŸ”§ å¼€å‘å®è·µå»ºè®®**
- å§‹ç»ˆä½¿ç”¨æ ‡å‡†çš„while(rs.next())éå†æ¨¡å¼
- æ ¹æ®å®é™…éœ€æ±‚é€‰æ‹©åˆé€‚çš„getXxx()æ–¹æ³•
- é‡è§†å¼‚å¸¸å¤„ç†å’Œèµ„æºç®¡ç†
- åœ¨å¼€å‘é˜¶æ®µå¤šæ‰“å°è°ƒè¯•ä¿¡æ¯ï¼Œäº†è§£æ•°æ®å¤„ç†è¿‡ç¨‹

**æ ¸å¿ƒè®°å¿†**ï¼š
- ResultSetåƒæŸ¥è¯¢ç»“æœæ¸…å•ï¼Œéœ€è¦ç”¨æ¸¸æ ‡é€è¡Œé˜…è¯»
- next()æ˜¯ç§»åŠ¨æ¸¸æ ‡çš„é’¥åŒ™ï¼ŒgetXxx()æ˜¯æå–æ•°æ®çš„å·¥å…·
- åˆ—ç´¢å¼•ä»1å¼€å§‹ï¼Œåˆ—åè®¿é—®æ›´æ¸…æ™°
- èµ„æºç®¡ç†æ˜¯ä¸“ä¸šå¼€å‘çš„åŸºæœ¬è¦æ±‚