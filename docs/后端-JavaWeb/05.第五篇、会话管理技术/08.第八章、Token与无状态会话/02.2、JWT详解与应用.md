---
title: 2ã€JWTè¯¦è§£ä¸åº”ç”¨
---
## ğŸ“š ç›®å½•

1. [JWTçš„åŸºæœ¬æ¦‚å¿µä¸å·¥ä½œåŸç†](#1-JWTçš„åŸºæœ¬æ¦‚å¿µä¸å·¥ä½œåŸç†)
2. [JWTç»“æ„æ·±åº¦è§£æ](#2-JWTç»“æ„æ·±åº¦è§£æ)
3. [JWTåŠ å¯†æ–¹å¼è¯¦è§£](#3-JWTåŠ å¯†æ–¹å¼è¯¦è§£)
4. [JWTç”Ÿæˆä¸éªŒè¯æµç¨‹](#4-JWTç”Ÿæˆä¸éªŒè¯æµç¨‹)
5. [JWTè¿‡æœŸæ—¶é—´å¤„ç†æœºåˆ¶](#5-JWTè¿‡æœŸæ—¶é—´å¤„ç†æœºåˆ¶)
6. [JWTåœ¨JavaWebä¸­çš„å®é™…åº”ç”¨](#6-JWTåœ¨JavaWebä¸­çš„å®é™…åº”ç”¨)
7. [JWTæœ€ä½³å®è·µä¸å®‰å…¨æ³¨æ„äº‹é¡¹](#7-JWTæœ€ä½³å®è·µä¸å®‰å…¨æ³¨æ„äº‹é¡¹)
8. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#8-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ¯ JWTçš„åŸºæœ¬æ¦‚å¿µä¸å·¥ä½œåŸç†


### 1.1 ä»€ä¹ˆæ˜¯JWT

**JWTï¼ˆJSON Web Tokenï¼‰** æ˜¯ä¸€ç§å¼€æ”¾æ ‡å‡†ï¼Œç”¨æ¥åœ¨å„æ–¹ä¹‹é—´å®‰å…¨åœ°ä¼ è¾“ä¿¡æ¯ã€‚

> ğŸ’¡ **é€šä¿—ç†è§£**ï¼šJWTå°±åƒæ˜¯ä¸€å¼ "èº«ä»½è¯"ï¼Œé‡Œé¢è®°å½•äº†ç”¨æˆ·çš„åŸºæœ¬ä¿¡æ¯ï¼Œè€Œä¸”è¿™å¼ "èº«ä»½è¯"è¿˜æœ‰é˜²ä¼ªæ ‡å¿—ï¼Œä»»ä½•äººéƒ½æ— æ³•ä¼ªé€ ã€‚

**JWTçš„æ ¸å¿ƒç‰¹ç‚¹ï¼š**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    ä¼ ç»ŸSession     â”‚  VS   â”‚      JWTæ— çŠ¶æ€     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æœåŠ¡å™¨å­˜å‚¨ç”¨æˆ·çŠ¶æ€   â”‚        â”‚ ç”¨æˆ·ä¿¡æ¯å­˜åœ¨Tokenä¸­  â”‚
â”‚ éœ€è¦æŸ¥è¯¢æ•°æ®åº“      â”‚        â”‚ æ— éœ€æŸ¥è¯¢æ•°æ®åº“      â”‚
â”‚ ä¾èµ–æœåŠ¡å™¨å†…å­˜      â”‚        â”‚ å®Œå…¨æ— çŠ¶æ€         â”‚
â”‚ éš¾ä»¥æ°´å¹³æ‰©å±•       â”‚        â”‚ æ˜“äºåˆ†å¸ƒå¼éƒ¨ç½²     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.2 JWTè§£å†³çš„é—®é¢˜


**ğŸ”¸ ä¼ ç»ŸSessionçš„ç—›ç‚¹ï¼š**
- **å­˜å‚¨è´Ÿæ‹…**ï¼šæœåŠ¡å™¨éœ€è¦å­˜å‚¨å¤§é‡ç”¨æˆ·ä¼šè¯ä¿¡æ¯
- **æ‰©å±•å›°éš¾**ï¼šå¤šå°æœåŠ¡å™¨ä¹‹é—´éœ€è¦å…±äº«Sessionæ•°æ®  
- **ç§»åŠ¨ç«¯ä¸å‹å¥½**ï¼šç§»åŠ¨åº”ç”¨éš¾ä»¥å¤„ç†Cookie

**ğŸ”¸ JWTçš„è§£å†³æ–¹æ¡ˆï¼š**
- **æ— çŠ¶æ€**ï¼šæ‰€æœ‰ä¿¡æ¯éƒ½åœ¨Tokenä¸­ï¼ŒæœåŠ¡å™¨æ— éœ€å­˜å‚¨
- **å¯æ‰©å±•**ï¼šä»»ä½•æœåŠ¡å™¨éƒ½èƒ½éªŒè¯Tokenï¼Œå¤©ç„¶æ”¯æŒåˆ†å¸ƒå¼
- **è·¨å¹³å°**ï¼šé€‚ç”¨äºWebã€ç§»åŠ¨ç«¯ã€æ¡Œé¢åº”ç”¨

### 1.3 JWTçš„å·¥ä½œæµç¨‹


```
ç”¨æˆ·ç™»å½•æµç¨‹ï¼š
ç”¨æˆ· â”€â”€â”€â”€[1]ç™»å½•è¯·æ±‚â”€â”€â”€â”€â¤ æœåŠ¡å™¨
     âŸ¸â”€â”€[2]è¿”å›JWTâ”€â”€â”€â”€â”€â”€â”˜

åç»­è¯·æ±‚æµç¨‹ï¼š
ç”¨æˆ· â”€â”€â”€â”€[3]æºå¸¦JWTâ”€â”€â”€â”€â¤ æœåŠ¡å™¨
     âŸ¸â”€â”€[4]éªŒè¯é€šè¿‡â”€â”€â”€â”€â”€â”€â”˜
        è¿”å›èµ„æº

è¯¦ç»†æ­¥éª¤è¯´æ˜ï¼š
[1] ç”¨æˆ·æäº¤ç”¨æˆ·åå¯†ç 
[2] æœåŠ¡å™¨éªŒè¯æˆåŠŸåç”ŸæˆJWTè¿”å›ç»™å®¢æˆ·ç«¯  
[3] å®¢æˆ·ç«¯åœ¨æ¯æ¬¡è¯·æ±‚ä¸­æºå¸¦JWT
[4] æœåŠ¡å™¨éªŒè¯JWTç­¾åï¼Œæå–ç”¨æˆ·ä¿¡æ¯
```

---

## 2. ğŸ—ï¸ JWTç»“æ„æ·±åº¦è§£æ


### 2.1 JWTçš„ä¸‰æ®µå¼ç»“æ„


JWTç”±ä¸‰éƒ¨åˆ†ç»„æˆï¼Œç”¨ **ç‚¹(.)** åˆ†éš”ï¼š

```
å®Œæ•´çš„JWTç¤ºä¾‹ï¼š
eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c

ç»“æ„æ‹†è§£ï¼š
Header    .    Payload   .   Signature
  â†“              â†“            â†“
å¤´éƒ¨ä¿¡æ¯      è½½è·æ•°æ®      æ•°å­—ç­¾å
```

### 2.2 Headerï¼ˆå¤´éƒ¨ï¼‰è¯¦è§£


**HeaderåŒ…å«ä¸¤ä¸ªé‡è¦ä¿¡æ¯ï¼š**
- **alg**ï¼šç­¾åç®—æ³•ï¼ˆå¦‚HS256ã€RS256ï¼‰
- **typ**ï¼šTokenç±»å‹ï¼ˆå›ºå®šä¸ºJWTï¼‰

```json
{
  "alg": "HS256",
  "typ": "JWT"
}
```

**ğŸ“‹ å¸¸è§ç®—æ³•è¯´æ˜ï¼š**

| ç®—æ³• | **å…¨ç§°** | **ç±»å‹** | **ç‰¹ç‚¹** |
|-----|---------|---------|----------|
| `HS256` | HMAC SHA-256 | å¯¹ç§°åŠ å¯† | æœåŠ¡ç«¯åŠ å¯†è§£å¯†ç”¨åŒä¸€å¯†é’¥ |
| `HS384` | HMAC SHA-384 | å¯¹ç§°åŠ å¯† | æ›´å¼ºçš„å“ˆå¸Œç®—æ³• |
| `RS256` | RSA SHA-256 | éå¯¹ç§°åŠ å¯† | ç§é’¥ç­¾åï¼Œå…¬é’¥éªŒè¯ |
| `ES256` | ECDSA SHA-256 | éå¯¹ç§°åŠ å¯† | æ¤­åœ†æ›²çº¿ç®—æ³•ï¼Œæ€§èƒ½æ›´å¥½ |

### 2.3 Payloadï¼ˆè½½è·ï¼‰è¯¦è§£


**Payloadå­˜å‚¨å®é™…çš„ç”¨æˆ·ä¿¡æ¯å’Œå£°æ˜ï¼ˆClaimsï¼‰ï¼š**

```json
{
  "sub": "1234567890",        // Subject: ç”¨æˆ·ID
  "name": "å¼ ä¸‰",             // ç”¨æˆ·å
  "role": "admin",            // ç”¨æˆ·è§’è‰²  
  "iat": 1516239022,          // Issued At: ç­¾å‘æ—¶é—´
  "exp": 1516239322,          // Expiration: è¿‡æœŸæ—¶é—´
  "iss": "myapp.com"          // Issuer: ç­¾å‘è€…
}
```

**ğŸ”¸ Claimsåˆ†ç±»ï¼š**

**â‘  æ³¨å†Œå£°æ˜ï¼ˆRegistered Claimsï¼‰**ï¼š
```
iss (Issuer)     - ç­¾å‘è€…ï¼Œè°å‘çš„è¿™ä¸ªToken
sub (Subject)    - ä¸»é¢˜ï¼Œé€šå¸¸æ˜¯ç”¨æˆ·ID  
aud (Audience)   - å—ä¼—ï¼Œè¿™ä¸ªTokenæ˜¯ç»™è°ç”¨çš„
exp (Expiration) - è¿‡æœŸæ—¶é—´ï¼ŒUnixæ—¶é—´æˆ³
iat (Issued At)  - ç­¾å‘æ—¶é—´ï¼ŒUnixæ—¶é—´æˆ³
nbf (Not Before) - ç”Ÿæ•ˆæ—¶é—´ï¼Œåœ¨æ­¤ä¹‹å‰Tokenæ— æ•ˆ
jti (JWT ID)     - Tokençš„å”¯ä¸€æ ‡è¯†
```

**â‘¡ å…¬å…±å£°æ˜ï¼ˆPublic Claimsï¼‰**ï¼š
```
å¯ä»¥è‡ªç”±å®šä¹‰ï¼Œä½†å»ºè®®ä½¿ç”¨IANAæ³¨å†Œçš„åç§°
å¦‚ï¼šnameã€emailã€roleç­‰
```

**â‘¢ ç§æœ‰å£°æ˜ï¼ˆPrivate Claimsï¼‰**ï¼š
```
è‡ªå®šä¹‰çš„ç§æœ‰ä¿¡æ¯ï¼Œå¦‚ï¼š
departmentã€levelã€permissionsç­‰
```

### 2.4 Signatureï¼ˆç­¾åï¼‰è¯¦è§£


**ç­¾åçš„ä½œç”¨ï¼š**
- **é˜²ç¯¡æ”¹**ï¼šç¡®ä¿Tokenå†…å®¹æ²¡æœ‰è¢«ä¿®æ”¹
- **èº«ä»½éªŒè¯**ï¼šè¯æ˜Tokenç¡®å®æ˜¯æœåŠ¡å™¨ç­¾å‘çš„

**ç­¾åç”Ÿæˆè¿‡ç¨‹ï¼š**
```
æ­¥éª¤1ï¼šå°†Headerå’ŒPayloadåˆ†åˆ«è¿›è¡ŒBase64Urlç¼–ç 
encoded_header = base64UrlEncode(header)
encoded_payload = base64UrlEncode(payload)

æ­¥éª¤2ï¼šæ‹¼æ¥æˆå¾…ç­¾åå­—ç¬¦ä¸²
data = encoded_header + "." + encoded_payload

æ­¥éª¤3ï¼šä½¿ç”¨å¯†é’¥å’Œç®—æ³•ç”Ÿæˆç­¾å
signature = HMACSHA256(data, secret_key)

æ­¥éª¤4ï¼šå¯¹ç­¾åè¿›è¡ŒBase64Urlç¼–ç 
encoded_signature = base64UrlEncode(signature)
```

---

## 3. ğŸ” JWTåŠ å¯†æ–¹å¼è¯¦è§£


### 3.1 å¯¹ç§°åŠ å¯†ï¼ˆHMACç®—æ³•ï¼‰


**å·¥ä½œåŸç†ï¼š**
```
æœåŠ¡ç«¯å¯†é’¥ç®¡ç†ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    åŒä¸€ä¸ªå¯†é’¥    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ç­¾åJWT   â”‚ â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ â”‚   éªŒè¯JWT   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    secret_key    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Javaå®ç°ç¤ºä¾‹ï¼š**
```java
// ä½¿ç”¨HMAC-SHA256ç®—æ³•
String secretKey = "mySecretKey123456";

// ç­¾å
String signature = Jwts.builder()
    .setHeaderParam("alg", "HS256")
    .setSubject("user123")
    .signWith(SignatureAlgorithm.HS256, secretKey)
    .compact();
```

**âœ… ä¼˜ç‚¹ï¼š**
- ç®—æ³•ç®€å•ï¼Œæ€§èƒ½é«˜
- å¯†é’¥ç®¡ç†ç›¸å¯¹ç®€å•
- é€‚åˆå•ä½“åº”ç”¨

**âŒ ç¼ºç‚¹ï¼š**  
- å¯†é’¥æ³„éœ²é£é™©å¤§
- æ— æ³•å®ç°ä¸å¯å¦è®¤æ€§
- ä¸é€‚åˆåˆ†å¸ƒå¼ç³»ç»Ÿ

### 3.2 éå¯¹ç§°åŠ å¯†ï¼ˆRSA/ECDSAç®—æ³•ï¼‰


**å·¥ä½œåŸç†ï¼š**
```
å¯†é’¥å¯¹ç®¡ç†ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    ç§é’¥ç­¾å      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è®¤è¯æœåŠ¡å™¨   â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ â”‚    JWT     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                       â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    å…¬é’¥éªŒè¯     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ä¸šåŠ¡æœåŠ¡å™¨   â”‚ â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚    JWT     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Javaå®ç°ç¤ºä¾‹ï¼š**
```java
// ç”ŸæˆRSAå¯†é’¥å¯¹
KeyPair keyPair = Keys.keyPairFor(SignatureAlgorithm.RS256);
PrivateKey privateKey = keyPair.getPrivate();
PublicKey publicKey = keyPair.getPublic();

// ç§é’¥ç­¾å
String jwt = Jwts.builder()
    .setSubject("user123")
    .signWith(privateKey, SignatureAlgorithm.RS256)
    .compact();

// å…¬é’¥éªŒè¯
Claims claims = Jwts.parserBuilder()
    .setSigningKey(publicKey)
    .build()
    .parseClaimsJws(jwt)
    .getBody();
```

**âœ… ä¼˜ç‚¹ï¼š**
- å®‰å…¨æ€§é«˜ï¼Œç§é’¥ä¸éœ€è¦å…±äº«
- æ”¯æŒä¸å¯å¦è®¤æ€§
- é€‚åˆå¾®æœåŠ¡æ¶æ„

**âŒ ç¼ºç‚¹ï¼š**
- ç®—æ³•å¤æ‚ï¼Œæ€§èƒ½è¾ƒä½
- å¯†é’¥ç®¡ç†å¤æ‚
- Tokenä½“ç§¯è¾ƒå¤§

### 3.3 ç®—æ³•é€‰æ‹©æŒ‡å—


**ğŸ¯ é€‰æ‹©å»ºè®®ï¼š**

| åœºæ™¯ | **æ¨èç®—æ³•** | **ç†ç”±** |
|-----|-------------|----------|
| å•ä½“åº”ç”¨ | `HS256` | ç®€å•é«˜æ•ˆï¼Œå¯†é’¥ç®¡ç†ç®€å• |
| å¾®æœåŠ¡æ¶æ„ | `RS256` | æ”¯æŒåˆ†å¸ƒå¼éªŒè¯ï¼Œå®‰å…¨æ€§é«˜ |
| ç§»åŠ¨åº”ç”¨ | `HS256` | æ€§èƒ½å¥½ï¼Œé€‚åˆèµ„æºå—é™ç¯å¢ƒ |
| å¯¹å¤–API | `RS256` | æ”¯æŒç¬¬ä¸‰æ–¹éªŒè¯ï¼Œä¸æ³„éœ²å¯†é’¥ |

---

## 4. âš™ï¸ JWTç”Ÿæˆä¸éªŒè¯æµç¨‹


### 4.1 JWTç”Ÿæˆæµç¨‹è¯¦è§£


**ç”Ÿæˆæ­¥éª¤åˆ†è§£ï¼š**

```
ç¬¬ä¸€æ­¥ï¼šå‡†å¤‡Header
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ {              â”‚
â”‚   "alg":"HS256" â”‚  â†’ Base64Urlç¼–ç  â†’ eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9
â”‚   "typ":"JWT"   â”‚
â”‚ }              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ç¬¬äºŒæ­¥ï¼šå‡†å¤‡Payload  
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ {              â”‚
â”‚   "sub":"123"   â”‚  â†’ Base64Urlç¼–ç  â†’ eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ
â”‚   "name":"å¼ ä¸‰"  â”‚
â”‚   "exp":1234567 â”‚
â”‚ }              â”‚  
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ç¬¬ä¸‰æ­¥ï¼šç”Ÿæˆç­¾å
Header.Payload + å¯†é’¥ â†’ HMACSHA256 â†’ ç­¾å â†’ Base64Urlç¼–ç 
```

**Javaå®Œæ•´å®ç°ï¼š**
```java
public class JwtUtil {
    private static final String SECRET_KEY = "mySecretKey123456789";
    
    // ç”ŸæˆJWT
    public static String generateToken(String username, String role) {
        return Jwts.builder()
            // è®¾ç½®Header
            .setHeaderParam("alg", "HS256")
            .setHeaderParam("typ", "JWT")
            // è®¾ç½®Payload
            .setSubject(username)
            .claim("role", role)
            .setIssuedAt(new Date())
            .setExpiration(new Date(System.currentTimeMillis() + 24 * 60 * 60 * 1000)) // 24å°æ—¶
            // è®¾ç½®ç­¾å
            .signWith(SignatureAlgorithm.HS256, SECRET_KEY)
            .compact();
    }
}
```

### 4.2 JWTéªŒè¯æµç¨‹è¯¦è§£


**éªŒè¯æ­¥éª¤ï¼š**

```
éªŒè¯æµç¨‹å›¾ï¼š
æ¥æ”¶JWT â†’ æ‹†åˆ†ä¸‰éƒ¨åˆ† â†’ éªŒè¯æ ¼å¼ â†’ é‡æ–°è®¡ç®—ç­¾å â†’ å¯¹æ¯”ç­¾å â†’ æ£€æŸ¥è¿‡æœŸ â†’ æå–ä¿¡æ¯

è¯¦ç»†æ­¥éª¤ï¼š
â‘  æ ¼å¼éªŒè¯ï¼šæ£€æŸ¥æ˜¯å¦ä¸ºxxx.yyy.zzzæ ¼å¼
â‘¡ è§£ç Headerï¼šè·å–ç®—æ³•ä¿¡æ¯
â‘¢ è§£ç Payloadï¼šè·å–ç”¨æˆ·ä¿¡æ¯å’Œæ—¶é—´æˆ³  
â‘£ é‡æ–°è®¡ç®—ç­¾åï¼šç”¨ç›¸åŒç®—æ³•å’Œå¯†é’¥è®¡ç®—
â‘¤ ç­¾åå¯¹æ¯”ï¼šæ–°è®¡ç®—çš„ç­¾åä¸Tokenä¸­çš„ç­¾åå¯¹æ¯”
â‘¥ è¿‡æœŸæ£€æŸ¥ï¼šæ£€æŸ¥expå­—æ®µæ˜¯å¦è¶…è¿‡å½“å‰æ—¶é—´
â‘¦ è¿”å›ç»“æœï¼šéªŒè¯é€šè¿‡è¿”å›ç”¨æˆ·ä¿¡æ¯
```

**JavaéªŒè¯å®ç°ï¼š**
```java
// éªŒè¯JWT
public static Claims validateToken(String token) {
    try {
        return Jwts.parserBuilder()
            .setSigningKey(SECRET_KEY)
            .build()
            .parseClaimsJws(token)
            .getBody();
    } catch (ExpiredJwtException e) {
        throw new RuntimeException("Tokenå·²è¿‡æœŸ");
    } catch (SignatureException e) {
        throw new RuntimeException("Tokenç­¾åæ— æ•ˆ");
    } catch (Exception e) {
        throw new RuntimeException("Tokenæ ¼å¼é”™è¯¯");
    }
}
```

### 4.3 éªŒè¯å¼‚å¸¸å¤„ç†


**ğŸ”¸ å¸¸è§éªŒè¯å¼‚å¸¸ï¼š**

| å¼‚å¸¸ç±»å‹ | **åŸå› ** | **è§£å†³æ–¹æ¡ˆ** |
|---------|---------|-------------|
| `ExpiredJwtException` | Tokenè¿‡æœŸ | é‡æ–°ç™»å½•è·å–æ–°Token |
| `SignatureException` | ç­¾åéªŒè¯å¤±è´¥ | æ£€æŸ¥å¯†é’¥æ˜¯å¦æ­£ç¡® |
| `MalformedJwtException` | Tokenæ ¼å¼é”™è¯¯ | æ£€æŸ¥Tokenæ˜¯å¦å®Œæ•´ |
| `UnsupportedJwtException` | ä¸æ”¯æŒçš„Tokenç±»å‹ | æ£€æŸ¥ç®—æ³•æ˜¯å¦æ”¯æŒ |

---

## 5. â° JWTè¿‡æœŸæ—¶é—´å¤„ç†æœºåˆ¶


### 5.1 è¿‡æœŸæ—¶é—´çš„è®¾è®¡åŸåˆ™


**ğŸ¯ æ—¶é—´è®¾ç½®ç­–ç•¥ï¼š**

```
ä¸åŒåœºæ™¯çš„è¿‡æœŸæ—¶é—´å»ºè®®ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ä¸€èˆ¬Webåº”ç”¨    â”‚    â”‚   ç§»åŠ¨åº”ç”¨      â”‚    â”‚   APIæ¥å£      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ è®¿é—®Token: 15åˆ†é’Ÿâ”‚    â”‚ è®¿é—®Token: 1å°æ—¶ â”‚    â”‚ è®¿é—®Token: 2å°æ—¶â”‚
â”‚ åˆ·æ–°Token: 7å¤©  â”‚    â”‚ åˆ·æ–°Token: 30å¤© â”‚    â”‚ æ— åˆ·æ–°Token    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ—¶é—´è®¾ç½®è€ƒè™‘å› ç´ ï¼š**
- **å®‰å…¨æ€§**ï¼šæ—¶é—´è¶ŠçŸ­è¶Šå®‰å…¨ï¼Œä½†ç”¨æˆ·ä½“éªŒè¶Šå·®
- **ä¾¿åˆ©æ€§**ï¼šæ—¶é—´è¶Šé•¿ç”¨æˆ·ä½“éªŒè¶Šå¥½ï¼Œä½†å®‰å…¨é£é™©è¶Šå¤§
- **ä¸šåŠ¡åœºæ™¯**ï¼šé‡‘èåº”ç”¨éœ€è¦æ›´çŸ­çš„æœ‰æ•ˆæœŸ

### 5.2 Tokenåˆ·æ–°æœºåˆ¶


**ğŸ”„ åŒTokenæœºåˆ¶ï¼š**

```
è®¿é—®Token + åˆ·æ–°Token é…åˆä½¿ç”¨ï¼š

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Access Token  â”‚         â”‚  Refresh Token  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æœ‰æ•ˆæœŸï¼š15åˆ†é’Ÿ   â”‚         â”‚ æœ‰æ•ˆæœŸï¼š7å¤©      â”‚
â”‚ ç”¨é€”ï¼šè®¿é—®èµ„æº   â”‚         â”‚ ç”¨é€”ï¼šåˆ·æ–°Token  â”‚
â”‚ å­˜å‚¨ï¼šå†…å­˜      â”‚         â”‚ å­˜å‚¨ï¼šå®‰å…¨å­˜å‚¨   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚                         â”‚
           â””â”€â”€â”€â”€â”€â”€â”€ è¿‡æœŸåç”¨ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    Refresh Token
                    è·å–æ–°çš„Access Token
```

**åˆ·æ–°æµç¨‹å®ç°ï¼š**
```java
public class TokenRefreshService {
    
    // ç”ŸæˆTokenå¯¹
    public TokenPair generateTokenPair(String username) {
        // çŸ­æœŸè®¿é—®Token
        String accessToken = Jwts.builder()
            .setSubject(username)
            .setExpiration(new Date(System.currentTimeMillis() + 15 * 60 * 1000)) // 15åˆ†é’Ÿ
            .signWith(SignatureAlgorithm.HS256, SECRET_KEY)
            .compact();
            
        // é•¿æœŸåˆ·æ–°Token
        String refreshToken = Jwts.builder()
            .setSubject(username)
            .claim("type", "refresh")
            .setExpiration(new Date(System.currentTimeMillis() + 7 * 24 * 60 * 60 * 1000)) // 7å¤©
            .signWith(SignatureAlgorithm.HS256, REFRESH_SECRET_KEY)
            .compact();
            
        return new TokenPair(accessToken, refreshToken);
    }
}
```

### 5.3 è¿‡æœŸæ£€æŸ¥ä¸å¤„ç†


**âš ï¸ è¿‡æœŸæ£€æŸ¥ç­–ç•¥ï¼š**

```
å‰ç«¯å¤„ç†æµç¨‹ï¼š
å‘èµ·è¯·æ±‚ â†’ æ£€æŸ¥Tokenè¿‡æœŸæ—¶é—´ â†’ 
    â”œâ”€ æœªè¿‡æœŸï¼šç›´æ¥å‘é€è¯·æ±‚
    â””â”€ å°†è¦è¿‡æœŸï¼šå…ˆåˆ·æ–°Tokenå†å‘é€è¯·æ±‚
    
åç«¯å¤„ç†æµç¨‹ï¼š  
æ¥æ”¶è¯·æ±‚ â†’ éªŒè¯Token â†’
    â”œâ”€ éªŒè¯æˆåŠŸï¼šå¤„ç†ä¸šåŠ¡é€»è¾‘
    â”œâ”€ Tokenè¿‡æœŸï¼šè¿”å›401çŠ¶æ€ç 
    â””â”€ Tokenæ— æ•ˆï¼šè¿”å›403çŠ¶æ€ç 
```

**è‡ªåŠ¨åˆ·æ–°å®ç°ï¼š**
```java
// å‰ç«¯æ‹¦æˆªå™¨ç¤ºä¾‹ï¼ˆä¼ªä»£ç ï¼‰
public class TokenInterceptor {
    
    public boolean preHandle(HttpServletRequest request) {
        String token = getTokenFromHeader(request);
        
        // æ£€æŸ¥Tokenæ˜¯å¦å³å°†è¿‡æœŸï¼ˆæå‰5åˆ†é’Ÿåˆ·æ–°ï¼‰
        if (isTokenExpiringSoon(token, 5 * 60)) {
            String newToken = refreshToken(token);
            // æ›´æ–°è¯·æ±‚å¤´ä¸­çš„Token
            request.setAttribute("newToken", newToken);
        }
        
        return true;
    }
}
```

---

## 6. ğŸ’» JWTåœ¨JavaWebä¸­çš„å®é™…åº”ç”¨


### 6.1 Spring Bootæ•´åˆJWT


**ä¾èµ–é…ç½®ï¼š**
```xml
<dependency>
    <groupId>io.jsonwebtoken</groupId>
    <artifactId>jjwt-api</artifactId>
    <version>0.11.5</version>
</dependency>
<dependency>
    <groupId>io.jsonwebtoken</groupId>
    <artifactId>jjwt-impl</artifactId>
    <version>0.11.5</version>
</dependency>
```

**JWTå·¥å…·ç±»ï¼š**
```java
@Component
public class JwtTokenUtil {
    
    @Value("${jwt.secret}")
    private String secret;
    
    @Value("${jwt.expiration}")
    private Long expiration;
    
    // ç”ŸæˆToken
    public String generateToken(UserDetails userDetails) {
        Map<String, Object> claims = new HashMap<>();
        claims.put("role", userDetails.getAuthorities());
        return createToken(claims, userDetails.getUsername());
    }
    
    // éªŒè¯Token
    public Boolean validateToken(String token, UserDetails userDetails) {
        final String username = getUsernameFromToken(token);
        return username.equals(userDetails.getUsername()) && !isTokenExpired(token);
    }
}
```

### 6.2 è¿‡æ»¤å™¨é…ç½®


**JWTè¿‡æ»¤å™¨ï¼š**
```java
@Component
public class JwtAuthenticationFilter extends OncePerRequestFilter {
    
    @Autowired
    private JwtTokenUtil jwtTokenUtil;
    
    @Override
    protected void doFilterInternal(HttpServletRequest request, 
                                  HttpServletResponse response, 
                                  FilterChain chain) throws ServletException, IOException {
        
        String token = getTokenFromRequest(request);
        
        if (token != null && jwtTokenUtil.validateToken(token)) {
            // è®¾ç½®ç”¨æˆ·è®¤è¯ä¿¡æ¯
            String username = jwtTokenUtil.getUsernameFromToken(token);
            UsernamePasswordAuthenticationToken auth = 
                new UsernamePasswordAuthenticationToken(username, null, authorities);
            SecurityContextHolder.getContext().setAuthentication(auth);
        }
        
        chain.doFilter(request, response);
    }
}
```

### 6.3 å®é™…ä½¿ç”¨ç¤ºä¾‹


**ç™»å½•æ¥å£ï¼š**
```java
@RestController
public class AuthController {
    
    @PostMapping("/login")
    public Result login(@RequestBody LoginRequest request) {
        // 1. éªŒè¯ç”¨æˆ·åå¯†ç 
        User user = userService.authenticate(request.getUsername(), request.getPassword());
        
        if (user != null) {
            // 2. ç”ŸæˆJWT
            String token = jwtTokenUtil.generateToken(user);
            
            // 3. è¿”å›Token
            return Result.success(new TokenResponse(token));
        } else {
            return Result.error("ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯");
        }
    }
}
```

**å—ä¿æŠ¤çš„æ¥å£ï¼š**
```java
@RestController
@RequestMapping("/api")
public class UserController {
    
    @GetMapping("/profile")
    @PreAuthorize("hasRole('USER')")  // éœ€è¦è®¤è¯æ‰èƒ½è®¿é—®
    public Result getUserProfile(HttpServletRequest request) {
        // ä»Tokenä¸­è·å–ç”¨æˆ·ä¿¡æ¯
        String username = jwtTokenUtil.getUsernameFromToken(getToken(request));
        User user = userService.findByUsername(username);
        return Result.success(user);
    }
}
```

---

## 7. ğŸ›¡ï¸ JWTæœ€ä½³å®è·µä¸å®‰å…¨æ³¨æ„äº‹é¡¹


### 7.1 å®‰å…¨æœ€ä½³å®è·µ


**ğŸ”¸ å¯†é’¥å®‰å…¨ï¼š**
```
å¯†é’¥ç®¡ç†åŸåˆ™ï¼š
â‘  ä½¿ç”¨è¶³å¤Ÿé•¿çš„å¯†é’¥ï¼ˆè‡³å°‘256ä½ï¼‰
â‘¡ å¯†é’¥ä¸èƒ½ç¡¬ç¼–ç åœ¨ä»£ç ä¸­
â‘¢ å®šæœŸè½®æ¢å¯†é’¥
â‘£ ä½¿ç”¨ç¯å¢ƒå˜é‡æˆ–é…ç½®ä¸­å¿ƒç®¡ç†å¯†é’¥
â‘¤ å¯¹ç§°åŠ å¯†å¯†é’¥ä¸¥æ ¼ä¿å¯†

ç¤ºä¾‹é…ç½®ï¼š
# application.yml
jwt:
  secret: ${JWT_SECRET:defaultSecretKeyForDevelopment123456789}
  expiration: ${JWT_EXPIRATION:86400000}  # 24å°æ—¶
```

**ğŸ”¸ Tokenå­˜å‚¨ï¼š**

| å­˜å‚¨ä½ç½® | **å®‰å…¨æ€§** | **ä¾¿åˆ©æ€§** | **æ¨èåº¦** |
|---------|-----------|-----------|-----------|
| `LocalStorage` | â­â­ | â­â­â­â­â­ | âŒ æ˜“å—XSSæ”»å‡» |
| `SessionStorage` | â­â­ | â­â­â­â­ | âŒ æ˜“å—XSSæ”»å‡» |
| `Cookie` | â­â­â­â­ | â­â­â­ | âœ… è®¾ç½®HttpOnly |
| `å†…å­˜å˜é‡` | â­â­â­â­â­ | â­â­ | âœ… æœ€å®‰å…¨ä½†åˆ·æ–°ä¸¢å¤± |

### 7.2 å¸¸è§å®‰å…¨é—®é¢˜


**âš ï¸ å®‰å…¨é£é™©æ¸…å•ï¼š**

**â‘  Tokenæ³„éœ²é£é™©ï¼š**
```
é£é™©åœºæ™¯ï¼š
- URLå‚æ•°ä¸­ä¼ é€’Token
- æ—¥å¿—æ–‡ä»¶ä¸­è®°å½•Token  
- å‰ç«¯ä»£ç ä¸­ç¡¬ç¼–ç Token

é˜²èŒƒæªæ–½ï¼š
- ä½¿ç”¨è¯·æ±‚å¤´ä¼ é€’ï¼šAuthorization: Bearer <token>
- æ—¥å¿—è„±æ•å¤„ç†
- Tokenä½¿ç”¨ç¯å¢ƒå˜é‡ç®¡ç†
```

**â‘¡ é‡æ”¾æ”»å‡»ï¼š**
```
é£é™©ï¼šæ”»å‡»è€…è·å–Tokenåé‡å¤ä½¿ç”¨

é˜²èŒƒæªæ–½ï¼š
- è®¾ç½®åˆç†çš„è¿‡æœŸæ—¶é—´
- æ·»åŠ éšæœºnonceå€¼
- ç»‘å®šIPåœ°å€æˆ–è®¾å¤‡æŒ‡çº¹
```

**â‘¢ æ•æ„Ÿä¿¡æ¯æ³„éœ²ï¼š**
```java
// âŒ é”™è¯¯ç¤ºä¾‹ï¼šæ•æ„Ÿä¿¡æ¯æ”¾åœ¨Payloadä¸­
{
  "username": "john",
  "password": "123456",    // å¯†ç ä¸åº”è¯¥æ”¾åœ¨Tokenä¸­
  "creditCard": "1234-5678-9012-3456"  // æ•æ„Ÿä¿¡æ¯
}

// âœ… æ­£ç¡®ç¤ºä¾‹ï¼šåªæ”¾å¿…è¦çš„èº«ä»½ä¿¡æ¯
{
  "sub": "user123",
  "role": "admin", 
  "exp": 1609459200
}
```

### 7.3 æ€§èƒ½ä¼˜åŒ–å»ºè®®


**ğŸš€ æ€§èƒ½ä¼˜åŒ–ç­–ç•¥ï¼š**

**â‘  Tokenå¤§å°æ§åˆ¶ï¼š**
```
ä¼˜åŒ–å»ºè®®ï¼š
- Payloadä¸­åªåŒ…å«å¿…è¦ä¿¡æ¯
- ä½¿ç”¨çŸ­é”®åï¼šsubè€Œä¸æ˜¯subject
- é¿å…åµŒå¥—è¿‡æ·±çš„JSONç»“æ„
- è€ƒè™‘ä½¿ç”¨Tokenä¸­å­˜å‚¨IDï¼Œè¯¦ç»†ä¿¡æ¯æŸ¥ç¼“å­˜
```

**â‘¡ éªŒè¯æ€§èƒ½ä¼˜åŒ–ï¼š**
```java
// ç¼“å­˜å…¬é’¥é¿å…é‡å¤åŠ è½½
@Component
public class JwtKeyCache {
    
    private static final Cache<String, Key> keyCache = 
        Caffeine.newBuilder()
            .maximumSize(100)
            .expireAfterWrite(1, TimeUnit.HOURS)
            .build();
    
    public Key getKey(String keyId) {
        return keyCache.get(keyId, this::loadKeyFromStorage);
    }
}
```

---

## 8. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 8.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ JWTæœ¬è´¨ï¼šæ— çŠ¶æ€çš„èº«ä»½è®¤è¯Tokenï¼ŒåŒ…å«ç”¨æˆ·ä¿¡æ¯å’Œé˜²ä¼ªç­¾å
ğŸ”¸ ä¸‰æ®µç»“æ„ï¼šHeaderï¼ˆç®—æ³•ä¿¡æ¯ï¼‰+ Payloadï¼ˆç”¨æˆ·æ•°æ®ï¼‰+ Signatureï¼ˆé˜²ä¼ªç­¾åï¼‰
ğŸ”¸ åŠ å¯†æ–¹å¼ï¼šå¯¹ç§°åŠ å¯†ï¼ˆHMACï¼‰ç®€å•å¿«é€Ÿï¼Œéå¯¹ç§°åŠ å¯†ï¼ˆRSAï¼‰å®‰å…¨æ€§é«˜
ğŸ”¸ éªŒè¯æµç¨‹ï¼šæ‹†åˆ†â†’è§£ç â†’é‡æ–°è®¡ç®—ç­¾åâ†’å¯¹æ¯”â†’æ£€æŸ¥è¿‡æœŸâ†’æå–ä¿¡æ¯
ğŸ”¸ è¿‡æœŸå¤„ç†ï¼šåŒTokenæœºåˆ¶ï¼ŒçŸ­æœŸè®¿é—®+é•¿æœŸåˆ·æ–°ï¼Œè‡ªåŠ¨ç»­æœŸ
```

### 8.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ ä¸ºä»€ä¹ˆJWTæ˜¯æ— çŠ¶æ€çš„**
```
ä¼ ç»ŸSessionï¼šç”¨æˆ·ä¿¡æ¯å­˜å‚¨åœ¨æœåŠ¡å™¨ç«¯ï¼Œéœ€è¦æŸ¥è¯¢æ‰çŸ¥é“ç”¨æˆ·èº«ä»½
JWTæ–¹å¼ï¼šç”¨æˆ·ä¿¡æ¯ç›´æ¥ç¼–ç åœ¨Tokenä¸­ï¼ŒæœåŠ¡å™¨è§£æå³å¯è·å¾—èº«ä»½ä¿¡æ¯
ä¼˜åŠ¿ï¼šä¸ä¾èµ–æœåŠ¡å™¨å­˜å‚¨ï¼Œå¤©ç„¶æ”¯æŒåˆ†å¸ƒå¼å’Œæ°´å¹³æ‰©å±•
```

**ğŸ”¹ ç­¾åçš„é˜²ä¼ªåŸç†**
```  
å·¥ä½œæœºåˆ¶ï¼š
â‘  ä½¿ç”¨å¯†é’¥å¯¹Headerå’ŒPayloadè¿›è¡Œç­¾å
â‘¡ ä»»ä½•äººä¿®æ”¹å†…å®¹åï¼Œç­¾åå°±ä¼šå¯¹ä¸ä¸Š
â‘¢ æ²¡æœ‰å¯†é’¥çš„äººæ— æ³•ç”Ÿæˆæ­£ç¡®çš„ç­¾å
â‘£ æœåŠ¡å™¨éªŒè¯ç­¾åæ¥ç¡®ä¿Tokenæœªè¢«ç¯¡æ”¹
```

**ğŸ”¹ è¿‡æœŸæ—¶é—´çš„å¹³è¡¡è‰ºæœ¯**
```
æ—¶é—´å¤ªçŸ­ï¼šç”¨æˆ·é¢‘ç¹éœ€è¦é‡æ–°ç™»å½•ï¼Œä½“éªŒå·®
æ—¶é—´å¤ªé•¿ï¼šå®‰å…¨é£é™©å¤§ï¼ŒTokenè¢«ç›—ç”¨å½±å“å¤§
æœ€ä½³å®è·µï¼šè®¿é—®TokençŸ­æœŸ+åˆ·æ–°Tokené•¿æœŸçš„ç»„åˆ
```

### 8.3 å®é™…åº”ç”¨æŒ‡å¯¼


**ğŸ’¡ æŠ€æœ¯é€‰å‹å»ºè®®ï¼š**
- **å•ä½“åº”ç”¨**ï¼šä½¿ç”¨HMACç®—æ³•ï¼Œç®€å•é«˜æ•ˆ
- **å¾®æœåŠ¡**ï¼šä½¿ç”¨RSAç®—æ³•ï¼Œæ”¯æŒåˆ†å¸ƒå¼éªŒè¯  
- **ç§»åŠ¨ç«¯**ï¼šä¼˜å…ˆè€ƒè™‘æ€§èƒ½ï¼Œé€‰æ‹©HMACç®—æ³•
- **å¯¹å¤–API**ï¼šä½¿ç”¨RSAç®—æ³•ï¼Œä¸æš´éœ²å¯†é’¥

**ğŸ› ï¸ å®æ–½æ­¥éª¤ï¼š**
```
â‘  é€‰æ‹©åˆé€‚çš„JWTåº“ï¼ˆæ¨èjjwtï¼‰
â‘¡ è®¾è®¡Tokenç»“æ„ï¼ˆåŒ…å«å¿…è¦ä¿¡æ¯ï¼Œé¿å…æ•æ„Ÿæ•°æ®ï¼‰
â‘¢ å®ç°ç”Ÿæˆå’ŒéªŒè¯é€»è¾‘
â‘£ é…ç½®è¿‡æœŸæ—¶é—´å’Œåˆ·æ–°æœºåˆ¶
â‘¤ æ·»åŠ å®‰å…¨é˜²æŠ¤æªæ–½
â‘¥ æ€§èƒ½æµ‹è¯•å’Œä¼˜åŒ–
```

**âš ï¸ æ³¨æ„äº‹é¡¹æ¸…å•ï¼š**
```
âœ… å¯†é’¥å®‰å…¨ç®¡ç†ï¼Œä¸ç¡¬ç¼–ç 
âœ… åˆç†è®¾ç½®è¿‡æœŸæ—¶é—´  
âœ… Tokenå­˜å‚¨åœ¨å®‰å…¨ä½ç½®
âœ… æ—¥å¿—è„±æ•å¤„ç†
âœ… å®šæœŸå®‰å…¨å®¡æŸ¥
âŒ ä¸åœ¨Tokenä¸­å­˜å‚¨æ•æ„Ÿä¿¡æ¯
âŒ ä¸é€šè¿‡URLä¼ é€’Token
âŒ ä¸å¿½ç•¥å¼‚å¸¸å¤„ç†
```

### 8.4 å­¦ä¹ è¿›é˜¶è·¯å¾„


**ğŸ¯ æŒæ¡å±‚æ¬¡ï¼š**
```
åˆçº§ï¼šç†è§£JWTåŸºæœ¬æ¦‚å¿µï¼Œèƒ½ä½¿ç”¨ç°æˆå·¥å…·ç”Ÿæˆå’ŒéªŒè¯Token
ä¸­çº§ï¼šæŒæ¡ä¸åŒç®—æ³•ç‰¹ç‚¹ï¼Œèƒ½æ ¹æ®åœºæ™¯é€‰æ‹©åˆé€‚æ–¹æ¡ˆ
é«˜çº§ï¼šç†è§£å®‰å…¨åŸç†ï¼Œèƒ½è®¾è®¡å®Œæ•´çš„è®¤è¯æˆæƒç³»ç»Ÿ
ä¸“å®¶ï¼šèƒ½å¤„ç†å¤æ‚çš„åˆ†å¸ƒå¼è®¤è¯åœºæ™¯ï¼Œè¿›è¡Œæ€§èƒ½ä¼˜åŒ–
```

**æ ¸å¿ƒè®°å¿†å£è¯€ï¼š**
```
JWTæ— çŠ¶æ€ï¼Œä¸‰æ®µå¼ç»“æ„æ¸…
å¤´éƒ¨è½½è·åŠ ç­¾åï¼Œé˜²ä¼ªéªŒè¯ä¸å¯å°‘  
å¯¹ç§°éå¯¹ç§°ä¸¤ç®—æ³•ï¼Œåœºæ™¯é€‰æ‹©è¦åˆç†
è¿‡æœŸåˆ·æ–°åŒTokenï¼Œå®‰å…¨ä¾¿åˆ©ä¸¤ä¸è¯¯
å¯†é’¥ç®¡ç†æ˜¯å…³é”®ï¼Œæ•æ„Ÿä¿¡æ¯ä¸ä¹±æ”¾
```