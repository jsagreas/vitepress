---
title: 1、HTML属性动态绑定
---
## 📚 目录

1. [属性绑定基本概念](#1-属性绑定基本概念)
2. [th:href链接绑定](#2-th-href链接绑定)
3. [th:src资源绑定](#3-th-src资源绑定)
4. [th:value值绑定](#4-th-value值绑定)
5. [th:class样式类绑定](#5-th-class样式类绑定)
6. [th:style内联样式](#6-th-style内联样式)
7. [th:title与th:alt属性](#7-th-title与th-alt属性)
8. [核心要点总结](#8-核心要点总结)

---

## 1. 🎯 属性绑定基本概念


### 1.1 什么是属性绑定


**通俗理解**：属性绑定就是让HTML标签的属性值可以动态变化，不再写死在页面里。

```
传统静态HTML写法：
<a href="/user/123">查看用户</a>  ← 用户ID写死了

Thymeleaf动态绑定：
<a th:href="@{/user/{id}(id=${userId})}">查看用户</a>  ← 用户ID从后端获取
```

**为什么需要属性绑定**：
- ✅ 链接地址需要根据数据变化（比如用户ID、商品ID）
- ✅ 图片路径需要动态加载（比如用户头像、商品图片）
- ✅ 表单默认值需要回显（比如编辑时显示原有数据）
- ✅ 样式类需要根据状态切换（比如按钮激活状态）

### 1.2 属性绑定的工作原理


**执行流程**：
```
后端Controller                Thymeleaf模板               浏览器看到的HTML
     ↓                              ↓                          ↓
model.addAttribute          th:href="${url}"          href="实际的URL"
   ("url", "/home")              ↓                          ↓
                            模板引擎解析替换            最终渲染的静态HTML
```

**核心理解**：
- `th:xxx` 是 Thymeleaf 的专属属性，浏览器不认识
- 模板引擎会把 `th:xxx` 替换成标准的 `xxx` 属性
- 最终到浏览器的是普通HTML，没有任何 `th:` 前缀

### 1.3 属性绑定的基本语法


**语法结构**：
```html
<!-- 基本格式 -->
<标签 th:属性名="表达式">

<!-- 示例 -->
<a th:href="${链接地址}">文本</a>
<img th:src="${图片路径}">
<input th:value="${表单值}">
```

**表达式类型对比**：

| 表达式类型 | 语法格式 | 用途说明 | 示例 |
|---------|---------|---------|------|
| **变量表达式** | `${...}` | 获取后端传来的数据 | `${user.name}` |
| **URL表达式** | `@{...}` | 构建URL链接 | `@{/user/list}` |
| **文本表达式** | `#{...}` | 国际化文本 | `#{login.title}` |
| **选择表达式** | `*{...}` | 在对象上下文中使用 | `*{name}` |

---

## 2. 🔗 th:href链接绑定


### 2.1 th:href基本用法


**作用**：动态设置`<a>`标签的href属性，也就是链接地址。

**基础示例**：
```html
<!-- 后端代码 -->
model.addAttribute("userId", 101);

<!-- 模板代码 -->
<a th:href="@{/user/detail}">用户详情</a>

<!-- 浏览器看到 -->
<a href="/user/detail">用户详情</a>
```

### 2.2 带参数的链接


**场景**：链接需要携带参数，比如用户ID、页码等。

**路径变量方式**（推荐）：
```html
<!-- 后端 -->
model.addAttribute("userId", 101);

<!-- 模板 -->
<a th:href="@{/user/{id}(id=${userId})}">用户详情</a>

<!-- 生成结果 -->
<a href="/user/101">用户详情</a>
```

**查询参数方式**：
```html
<!-- 后端 -->
model.addAttribute("page", 2);
model.addAttribute("size", 20);

<!-- 模板 -->
<a th:href="@{/user/list(page=${page},size=${size})}">第2页</a>

<!-- 生成结果 -->
<a href="/user/list?page=2&size=20">第2页</a>
```

### 2.3 多参数组合使用


**实际场景**：搜索页面，既有路径参数又有查询参数。

```html
<!-- 后端 -->
model.addAttribute("category", "electronics");
model.addAttribute("keyword", "手机");
model.addAttribute("sort", "price");

<!-- 模板 -->
<a th:href="@{/shop/{cat}(cat=${category},q=${keyword},sort=${sort})}">
  查看商品
</a>

<!-- 生成结果 -->
<a href="/shop/electronics?q=手机&sort=price">查看商品</a>
```

### 2.4 动态拼接上下文路径


**问题场景**：项目部署在 `/myapp` 路径下，链接如何自动适配？

```html
<!-- 自动添加项目路径 -->
<a th:href="@{/user/list}">用户列表</a>

<!-- 如果项目路径是 /myapp，生成： -->
<a href="/myapp/user/list">用户列表</a>

<!-- 如果项目路径是 /，生成： -->
<a href="/user/list">用户列表</a>
```

> 💡 **小贴士**：`@{}` 表达式会自动处理项目上下文路径，不需要手动拼接。

---

## 3. 🖼️ th:src资源绑定


### 3.1 th:src基本用法


**作用**：动态设置图片、脚本、样式表等资源的路径。

**图片路径绑定**：
```html
<!-- 后端 -->
model.addAttribute("avatar", "user-101.jpg");

<!-- 模板 -->
<img th:src="@{/images/{file}(file=${avatar})}" alt="头像">

<!-- 生成结果 -->
<img src="/images/user-101.jpg" alt="头像">
```

### 3.2 静态资源路径处理


**项目结构示例**：
```
src/main/resources/
  └── static/
      ├── images/
      │   └── logo.png
      ├── css/
      │   └── style.css
      └── js/
          └── main.js
```

**资源引用方式**：
```html
<!-- 图片 -->
<img th:src="@{/images/logo.png}" alt="Logo">

<!-- CSS -->
<link th:href="@{/css/style.css}" rel="stylesheet">

<!-- JavaScript -->
<script th:src="@{/js/main.js}"></script>
```

### 3.3 动态图片路径场景


**用户头像展示**：
```html
<!-- 后端 -->
User user = new User();
user.setAvatar("/uploads/avatar/user123.jpg");
model.addAttribute("user", user);

<!-- 模板 -->
<img th:src="@{${user.avatar}}" 
     th:alt="${user.name} + '的头像'" 
     width="50" height="50">
```

**商品图片列表**：
```html
<!-- 后端 -->
List<String> images = Arrays.asList("p1.jpg", "p2.jpg", "p3.jpg");
model.addAttribute("productImages", images);

<!-- 模板 -->
<div th:each="img : ${productImages}">
  <img th:src="@{/product/{file}(file=${img})}" alt="商品图片">
</div>
```

---

## 4. ✍️ th:value值绑定


### 4.1 th:value基本概念


**作用**：设置表单输入框的默认值，常用于数据回显。

**什么是数据回显**：
- 编辑用户信息时，显示原有的姓名、邮箱
- 搜索后保留搜索关键词
- 表单提交失败后保留已填写的内容

### 4.2 表单回显基础示例


**编辑表单场景**：
```html
<!-- 后端 -->
User user = userService.findById(101);
model.addAttribute("user", user);

<!-- 模板 -->
<form th:action="@{/user/update}" method="post">
  <input type="hidden" th:value="${user.id}" name="id">
  
  <label>姓名：</label>
  <input type="text" th:value="${user.name}" name="name">
  
  <label>邮箱：</label>
  <input type="email" th:value="${user.email}" name="email">
  
  <button type="submit">保存修改</button>
</form>
```

### 4.3 不同输入类型的值绑定


**文本输入框**：
```html
<input type="text" th:value="${keyword}" placeholder="搜索关键词">
```

**数字输入框**：
```html
<input type="number" th:value="${age}" min="1" max="150">
```

**日期输入框**：
```html
<!-- 后端 -->
model.addAttribute("birthday", "1990-01-01");

<!-- 模板 -->
<input type="date" th:value="${birthday}">
```

**单选框回显**：
```html
<!-- 后端 -->
model.addAttribute("gender", "male");

<!-- 模板 -->
<input type="radio" name="gender" value="male" 
       th:checked="${gender == 'male'}"> 男
<input type="radio" name="gender" value="female" 
       th:checked="${gender == 'female'}"> 女
```

> ⚠️ **注意**：单选框和复选框用 `th:checked`，不用 `th:value`

---

## 5. 🎨 th:class样式类绑定


### 5.1 th:class基本用法


**作用**：动态设置元素的CSS类名，实现样式的动态切换。

**基础示例**：
```html
<!-- 后端 -->
model.addAttribute("isActive", true);

<!-- 模板 -->
<button th:class="${isActive} ? 'btn-active' : 'btn-default'">
  按钮
</button>

<!-- 生成结果（isActive为true时） -->
<button class="btn-active">按钮</button>
```

### 5.2 固定类名 + 动态类名


**场景**：有些类名固定不变，有些类名需要动态添加。

**方式一：字符串拼接**
```html
<div th:class="'card ' + ${type}">内容</div>

<!-- type="primary"时，生成： -->
<div class="card primary">内容</div>
```

**方式二：使用 classappend**（推荐）
```html
<div class="card" th:classappend="${type}">内容</div>

<!-- 保留原有class，追加新的 -->
<div class="card primary">内容</div>
```

### 5.3 条件样式切换


**导航菜单激活状态**：
```html
<!-- 后端 -->
model.addAttribute("currentPage", "home");

<!-- 模板 -->
<ul class="nav">
  <li th:class="${currentPage == 'home'} ? 'active' : ''">
    <a th:href="@{/}">首页</a>
  </li>
  <li th:class="${currentPage == 'product'} ? 'active' : ''">
    <a th:href="@{/product}">商品</a>
  </li>
  <li th:class="${currentPage == 'about'} ? 'active' : ''">
    <a th:href="@{/about}">关于</a>
  </li>
</ul>
```

**状态指示器**：
```html
<!-- 后端 -->
model.addAttribute("status", "success"); // 可能值：success, warning, error

<!-- 模板 -->
<span th:class="'badge badge-' + ${status}">
  [[${status == 'success'} ? '成功' : 
    ${status == 'warning'} ? '警告' : '错误']]
</span>
```

### 5.4 多个类名的灵活控制


**场景**：根据多个条件组合不同的类名。

```html
<!-- 后端 -->
model.addAttribute("isVip", true);
model.addAttribute("isOnline", false);

<!-- 模板 -->
<div th:class="|user-card 
                ${isVip ? 'vip' : ''} 
                ${isOnline ? 'online' : 'offline'}|">
  用户信息
</div>

<!-- 生成结果 -->
<div class="user-card vip offline">用户信息</div>
```

> 💡 **语法说明**：`|...|` 是文本拼接语法，可以方便地组合字符串。

---

## 6. 🖌️ th:style内联样式


### 6.1 th:style基本用法


**作用**：动态设置元素的内联样式，适合需要计算的样式值。

**基础示例**：
```html
<!-- 后端 -->
model.addAttribute("color", "#ff6600");

<!-- 模板 -->
<div th:style="'color: ' + ${color}">彩色文字</div>

<!-- 生成结果 -->
<div style="color: #ff6600">彩色文字</div>
```

### 6.2 动态进度条场景


**进度条宽度控制**：
```html
<!-- 后端 -->
model.addAttribute("progress", 65); // 完成度65%

<!-- 模板 -->
<div class="progress-bar" 
     th:style="'width: ' + ${progress} + '%'">
  [[${progress}]]%
</div>

<!-- 生成结果 -->
<div class="progress-bar" style="width: 65%">65%</div>
```

### 6.3 多个样式属性组合


**方式一：字符串拼接**
```html
<!-- 后端 -->
model.addAttribute("bgColor", "#f0f0f0");
model.addAttribute("textColor", "#333");
model.addAttribute("fontSize", 16);

<!-- 模板 -->
<div th:style="|background-color: ${bgColor}; 
                color: ${textColor}; 
                font-size: ${fontSize}px|">
  自定义样式内容
</div>
```

**方式二：条件样式**
```html
<!-- 后端 -->
model.addAttribute("isHighlight", true);

<!-- 模板 -->
<p th:style="${isHighlight} ? 
    'background-color: yellow; font-weight: bold' : 
    'background-color: transparent'">
  高亮文本
</p>
```

### 6.4 实际应用场景


**用户等级颜色**：
```html
<!-- 后端 -->
model.addAttribute("level", 5); // 用户等级

<!-- 模板 -->
<span th:style="'color: ' + 
    ${level >= 8 ? '#FFD700' : 
      level >= 5 ? '#C0C0C0' : '#CD7F32'}">
  VIP等级 [[${level}]]
</span>
```

**库存预警显示**：
```html
<!-- 后端 -->
model.addAttribute("stock", 15);

<!-- 模板 -->
<td th:style="${stock < 20} ? 'color: red; font-weight: bold' : ''">
  库存：[[${stock}]]
</td>
```

---

## 7. 📝 th:title与th:alt属性


### 7.1 th:title标题属性


**作用**：设置鼠标悬停时显示的提示文本。

**基础示例**：
```html
<!-- 后端 -->
model.addAttribute("userName", "张三");
model.addAttribute("lastLogin", "2025-09-23 10:30");

<!-- 模板 -->
<a th:href="@{/user/profile}" 
   th:title="'用户：' + ${userName} + '，最后登录：' + ${lastLogin}">
  个人中心
</a>

<!-- 鼠标悬停显示：用户：张三，最后登录：2025-09-23 10:30 -->
```

**图标按钮提示**：
```html
<button th:title="${isLocked ? '点击解锁' : '点击锁定'}" class="btn-icon">
  🔒
</button>
```

### 7.2 th:alt替代文本


**作用**：为图片提供替代文本，图片加载失败时显示，也有助于SEO和无障碍访问。

**基础示例**：
```html
<!-- 后端 -->
model.addAttribute("productName", "华为手机");
model.addAttribute("productImg", "huawei-p60.jpg");

<!-- 模板 -->
<img th:src="@{/images/{img}(img=${productImg})}" 
     th:alt="${productName}" 
     th:title="'查看' + ${productName} + '详情'">
```

**用户头像场景**：
```html
<!-- 后端 -->
User user = new User("李四", "avatar-123.jpg");
model.addAttribute("user", user);

<!-- 模板 -->
<img th:src="@{/avatar/{file}(file=${user.avatar})}" 
     th:alt="${user.name} + '的头像'" 
     th:title="'用户：' + ${user.name}">
```

### 7.3 组合使用示例


**商品卡片完整示例**：
```html
<!-- 后端 -->
Product product = new Product();
product.setName("MacBook Pro");
product.setPrice(12999);
product.setStock(50);
product.setImage("macbook.jpg");
model.addAttribute("product", product);

<!-- 模板 -->
<div class="product-card">
  <img th:src="@{/product/{img}(img=${product.image})}" 
       th:alt="${product.name}" 
       th:title="'点击查看' + ${product.name} + '详情'">
  
  <h3 th:text="${product.name}">商品名称</h3>
  
  <p class="price" 
     th:style="'color: ' + ${product.stock < 10 ? 'red' : '#ff6600'}">
    ¥[[${product.price}]]
  </p>
  
  <a th:href="@{/product/{id}(id=${product.id})}" 
     th:class="${product.stock > 0} ? 'btn-buy' : 'btn-disabled'"
     th:title="${product.stock > 0 ? '立即购买' : '暂时缺货'}">
    [[${product.stock > 0 ? '购买' : '缺货']]
  </a>
</div>
```

---

## 8. 📋 核心要点总结


### 8.1 必须掌握的核心概念


```
🔸 属性绑定本质：用th:xxx替换标准HTML属性，实现动态赋值
🔸 URL表达式@{}：自动处理上下文路径，构建完整URL
🔸 变量表达式${}：获取后端Model中的数据
🔸 条件表达式?:：根据条件动态设置属性值
🔸 文本拼接|...|：方便地组合字符串和变量
```

### 8.2 属性绑定对照表


| 属性类型 | Thymeleaf写法 | 适用场景 | 重要程度 |
|---------|--------------|---------|----------|
| **链接地址** | `th:href` | 导航菜单、详情链接 | ⭐⭐⭐⭐⭐ |
| **资源路径** | `th:src` | 图片、脚本、样式表 | ⭐⭐⭐⭐⭐ |
| **表单值** | `th:value` | 数据回显、搜索框 | ⭐⭐⭐⭐⭐ |
| **样式类** | `th:class` | 状态切换、主题变化 | ⭐⭐⭐⭐ |
| **内联样式** | `th:style` | 进度条、动态颜色 | ⭐⭐⭐ |
| **提示文本** | `th:title` | 鼠标悬停提示 | ⭐⭐⭐ |
| **替代文本** | `th:alt` | 图片说明、无障碍 | ⭐⭐⭐ |

### 8.3 常见使用场景速查


**🔹 链接类场景**
```html
<!-- 带ID的详情链接 -->
th:href="@{/user/{id}(id=${userId})}"

<!-- 带查询参数的列表 -->
th:href="@{/list(page=${page},size=20)}"

<!-- 混合参数 -->
th:href="@{/shop/{cat}(cat=${category},keyword=${kw})}"
```

**🔹 表单类场景**
```html
<!-- 编辑回显 -->
<input type="text" th:value="${user.name}">

<!-- 单选框选中 -->
<input type="radio" th:checked="${gender == 'male'}">

<!-- 下拉框选中 -->
<option th:selected="${city == 'beijing'}">北京</option>
```

**🔹 样式类场景**
```html
<!-- 激活状态 -->
th:class="${isActive} ? 'active' : ''"

<!-- 追加类名 -->
th:classappend="${type}"

<!-- 组合多个条件 -->
th:class="|base-class ${cond1 ? 'class1' : ''} ${cond2 ? 'class2' : ''}|"
```

### 8.4 最佳实践建议


> 💡 **URL构建**：始终使用 `@{}` 表达式，避免硬编码路径

> ⚠️ **样式优先级**：能用CSS类控制的，优先用 `th:class`，少用 `th:style`

> 🎯 **可读性**：复杂条件用后端处理好，模板只做简单判断

> 📝 **无障碍支持**：图片务必提供 `th:alt`，提升用户体验

### 8.5 调试技巧


**查看生成的HTML**：
```html
<!-- 浏览器右键 → 查看网页源代码 -->
<!-- 检查th:属性是否正确替换成了标准属性 -->
```

**常见错误排查**：
```
❌ 链接404 → 检查@{}路径是否正确
❌ 图片不显示 → 检查资源路径和文件名大小写
❌ 样式不生效 → 检查th:class的条件表达式
❌ 表单不回显 → 检查后端Model的key名称
```

**核心记忆口诀**：
- 属性绑定用th前缀，动态数据从后端取
- URL路径用@包裹，自动拼接上下文
- 条件判断用三元，真假分支要写清
- 类名样式灵活切，表单回显不能忘