---
title: 1、JSP概念入门
---
## 📚 目录

1. [JSP技术概念入门](#1-JSP技术概念入门)
2. [JSP与相关技术关系](#2-JSP与相关技术关系)
3. [JSP工作原理深度剖析](#3-JSP工作原理深度剖析)
4. [JSP在JavaEE体系中的定位](#4-JSP在JavaEE体系中的定位)
5. [核心要点总结](#5-核心要点总结)

---

## 1. 🌱 JSP技术概念入门


### 1.1 什么是JSP - 通俗理解


**🔸 JSP的本质**

> **简单来说**：JSP就是在HTML页面中嵌入Java代码的技术，让网页变得"智能化"，能够根据不同情况显示不同内容。

想象一下这个场景：
- **普通HTML**：就像一张印刷好的报纸，内容是固定的，每个人看到的都一样
- **JSP页面**：就像一台智能显示屏，能根据不同的人显示不同的个性化内容

```
传统静态网页 vs JSP动态网页对比：

静态HTML页面：
┌─────────────────────────────────┐
│ <html>                          │
│   <body>                        │
│     <h1>欢迎访问我们的网站</h1>   │  ← 内容固定不变
│     <p>今天是2025年1月1日</p>     │  ← 日期永远不变
│   </body>                       │
│ </html>                         │
└─────────────────────────────────┘

JSP动态页面：
┌─────────────────────────────────┐
│ <html>                          │
│   <body>                        │
│     <h1>欢迎 ${用户名} 访问</h1>   │  ← 根据用户显示
│     <p>今天是 ${当前日期}</p>      │  ← 实时获取日期
│   </body>                       │
│ </html>                         │
└─────────────────────────────────┘
```

### 1.2 JSP的核心价值


**💡 为什么需要JSP**

**问题场景**：假设你要做一个购物网站
- 用户登录后要显示"欢迎张三"
- 购物车要显示具体商品和数量
- 不同用户看到不同的推荐商品

如果用纯HTML，你需要为每个用户创建不同的页面，这显然不现实！

**JSP解决方案**：
```jsp
<!-- 一个JSP页面搞定所有用户 -->
<h1>欢迎 ${user.name}!</h1>
<p>您的购物车有 ${cart.itemCount} 件商品</p>
<div>为您推荐：${recommendItems}</div>
```

**🎯 JSP的三大核心价值**

| **价值** | **通俗解释** | **技术实现** |
|---------|-------------|-------------|
| **动态内容** | `网页内容可以变化` | `嵌入Java代码获取数据` |
| **用户个性化** | `不同用户看到不同内容` | `根据用户信息定制页面` |
| **数据交互** | `页面可以和数据库对话` | `连接数据库查询显示` |

### 1.3 JSP的文件特征


**📄 JSP文件长什么样**

JSP文件就是在普通HTML中加入特殊标记的混合文件：

```jsp
<%@ page language="java" contentType="text/html; charset=UTF-8" %>
<!DOCTYPE html>
<html>
<head>
    <title>我的第一个JSP页面</title>
</head>
<body>
    <h1>当前时间：<%= new java.util.Date() %></h1>
    
    <%-- 这是JSP注释，浏览器看不到 --%>
    <% 
        String message = "欢迎学习JSP!";
        int visitCount = 100;
    %>
    
    <p><%= message %></p>
    <p>访问次数：<%= visitCount %></p>
</body>
</html>
```

**🔍 JSP文件结构分析**

```
JSP文件组成部分：
┌─────────────────────────────────────────────────────┐
│                   JSP页面                           │
├─────────────────┬─────────────────┬─────────────────┤
│   JSP指令       │   Java代码块    │   HTML内容      │
├─────────────────┼─────────────────┼─────────────────┤
│• <%@ page %>    │• <% 代码 %>     │• 普通HTML标签   │
│• <%@ include %> │• <%= 表达式 %>  │• 文本内容       │
│• <%@ taglib %>  │• <%! 声明 %>    │• CSS/JavaScript │
└─────────────────┴─────────────────┴─────────────────┘
```

---

## 2. 🔗 JSP与相关技术关系


### 2.1 JSP vs HTML - 静态与动态的区别


**🎭 形象比喻理解**

```
电影院类比：
HTML = 电影海报     JSP = 正在播放的电影
├─ 内容固定不变     ├─ 内容实时变化
├─ 制作一次即可     ├─ 每次播放都不同
├─ 所有人看的一样   ├─ 可以个性化定制
└─ 无法交互        └─ 可以响应观众需求
```

**📊 详细对比表**

| **对比维度** | **HTML** | **JSP** |
|-------------|----------|---------|
| **文件扩展名** | `.html` | `.jsp` |
| **内容性质** | `静态固定` | `动态生成` |
| **代码组成** | `纯标记语言` | `HTML + Java代码` |
| **服务器处理** | `直接发送给浏览器` | `先执行Java代码，再发送` |
| **数据来源** | `写在文件里的固定内容` | `可从数据库、用户输入等获取` |
| **适用场景** | `公司介绍、产品展示等` | `用户中心、商品列表等` |

### 2.2 JSP vs Servlet - 兄弟技术的分工


**🤝 JSP和Servlet的关系**

> **核心理解**：JSP和Servlet本质上是同一个技术的两种不同写法，就像用中文写文章和用英文写文章，表达的是同一个意思。

**🏭 分工合作模式**

```
Web开发中的角色分工：

用户请求 → Servlet处理逻辑 → JSP展示结果 → 返回给用户
         (后台老板)        (前台服务员)
         
┌─────────────────────────────────────────────────────────┐
│                    完整工作流程                          │
├─────────────────┬─────────────────┬─────────────────────┤
│   用户操作      │   Servlet处理   │    JSP显示          │
├─────────────────┼─────────────────┼─────────────────────┤
│• 点击登录按钮   │• 验证用户名密码 │• 显示欢迎页面       │
│• 提交订单       │• 计算金额       │• 显示订单确认页面   │
│• 搜索商品       │• 查询数据库     │• 显示搜索结果列表   │
└─────────────────┴─────────────────┴─────────────────────┘
```

**💼 实际项目中的使用场景**

```java
// Servlet：专门处理业务逻辑
public class LoginServlet extends HttpServlet {
    protected void doPost(HttpServletRequest request, 
                         HttpServletResponse response) {
        String username = request.getParameter("username");
        String password = request.getParameter("password");
        
        // 验证用户信息
        User user = userService.login(username, password);
        
        if (user != null) {
            request.setAttribute("user", user);
            // 转发到JSP页面显示
            request.getRequestDispatcher("/welcome.jsp").forward(request, response);
        }
    }
}
```

```jsp
<!-- welcome.jsp：专门负责显示 -->
<h1>欢迎回来，${user.name}！</h1>
<p>您上次登录时间：${user.lastLoginTime}</p>
```

### 2.3 JSP的技术优势


**⚡ 为什么选择JSP**

| **优势** | **具体表现** | **实际好处** |
|---------|-------------|-------------|
| **开发效率高** | `HTML中直接写Java` | `前端人员容易上手` |
| **维护方便** | `页面结构清晰可见` | `修改样式不影响逻辑` |
| **功能强大** | `可以使用所有Java特性` | `连接数据库、处理文件等` |
| **标准化** | `Sun公司官方技术` | `稳定可靠，支持广泛` |

---

## 3. ⚙️ JSP工作原理深度剖析


### 3.1 JSP的执行过程 - 幕后的魔法


**🎪 JSP执行的完整过程**

> **核心理解**：JSP文件不能直接运行，它需要先"变身"成Servlet，然后才能工作。

```
JSP执行流程图：

用户访问JSP页面
        ↓
检查JSP文件是否有更新
        ↓               ↓
    有更新           无更新
        ↓               ↓
将JSP翻译成Java文件 → 使用已编译的class
        ↓               ↓
编译Java文件生成class文件
        ↓               ↓
        └─→ 执行class文件 ←─┘
                ↓
        生成HTML响应
                ↓
        发送给用户浏览器
```

### 3.2 JSP翻译过程详解


**🔄 从JSP到Servlet的转换**

让我们看一个具体例子：

**原始JSP文件** (`hello.jsp`)：
```jsp
<%@ page language="java" %>
<html>
<body>
    <h1>Hello <%= request.getParameter("name") %>!</h1>
    <% 
        int count = 0;
        count++;
    %>
    <p>访问次数：<%= count %></p>
</body>
</html>
```

**服务器自动生成的Servlet代码**（简化版）：
```java
public class hello_jsp extends HttpServlet {
    public void service(HttpServletRequest request, 
                       HttpServletResponse response) {
        PrintWriter out = response.getWriter();
        
        out.write("<html>");
        out.write("<body>");
        out.write("    <h1>Hello ");
        out.write(request.getParameter("name"));
        out.write("!</h1>");
        
        int count = 0;
        count++;
        
        out.write("    <p>访问次数：");
        out.write(String.valueOf(count));
        out.write("</p>");
        out.write("</body>");
        out.write("</html>");
    }
}
```

**🔍 转换规律总结**

| **JSP中的内容** | **转换为Servlet中的** | **说明** |
|---------------|---------------------|---------|
| **普通HTML** | `out.write("HTML内容")` | `直接输出HTML` |
| **<% 代码 %>** | `直接作为Java代码` | `嵌入到service方法中` |
| **<%= 表达式 %>** | `out.write(表达式结果)` | `计算后输出结果` |
| **JSP指令** | `import语句等` | `转为相应的Java代码` |

### 3.3 JSP的生命周期


**🔄 JSP页面的一生**

```
JSP生命周期阶段：

┌─────────────────────────────────────────────────────────┐
│                  JSP完整生命周期                         │
├──────────┬──────────┬──────────┬──────────┬──────────────┤
│ 第一次访问 │   翻译    │   编译    │   执行    │     销毁     │
├──────────┼──────────┼──────────┼──────────┼──────────────┤
│• 检查文件 │• JSP转Java│• 生成class│• 处理请求 │• 服务器关闭  │
│• 判断更新 │• 生成源码 │• 字节码文件│• 生成响应 │• 长时间未用  │
│• 首次加载 │• 自动完成 │• 自动完成 │• 多次执行 │• 手动重启    │
└──────────┴──────────┴──────────┴──────────┴──────────────┘

⏱️ 时间消耗：第一次访问较慢，后续访问很快
```

**💡 性能优化理解**

> **重要提示**：JSP的第一次访问会比较慢（因为要翻译编译），但后续访问会很快，这是正常现象！

---

## 4. 🏢 JSP在JavaEE体系中的定位


### 4.1 JavaEE体系架构


**🏗️ JavaEE技术栈全景**

```
JavaEE企业级开发技术栈：

┌─────────────────────────────────────────────────────────┐
│                    表现层 (Web层)                        │
├─────────────────┬─────────────────┬─────────────────────┤
│      JSP        │    Servlet      │      过滤器         │
├─────────────────┼─────────────────┼─────────────────────┤
│• 页面展示       │• 业务控制       │• 请求预处理         │
│• 用户界面       │• 数据处理       │• 编码转换           │
│• 模板渲染       │• 流程控制       │• 权限验证           │
└─────────────────┴─────────────────┴─────────────────────┘
┌─────────────────────────────────────────────────────────┐
│                   业务层 (Service层)                     │
├─────────────────┬─────────────────┬─────────────────────┤
│      EJB        │   Spring框架    │      业务逻辑       │
├─────────────────┼─────────────────┼─────────────────────┤
│• 事务管理       │• 依赖注入       │• 核心算法           │
│• 安全控制       │• AOP切面        │• 规则验证           │
│• 远程调用       │• 配置管理       │• 流程控制           │
└─────────────────┴─────────────────┴─────────────────────┘
┌─────────────────────────────────────────────────────────┐
│                   数据层 (DAO层)                         │
├─────────────────┬─────────────────┬─────────────────────┤
│      JDBC       │      JPA        │      数据库         │
├─────────────────┼─────────────────┼─────────────────────┤
│• 数据库连接     │• 对象映射       │• MySQL/Oracle       │
│• SQL执行        │• 查询优化       │• 数据存储           │
│• 结果处理       │• 缓存管理       │• 事务支持           │
└─────────────────┴─────────────────┴─────────────────────┘
```

### 4.2 JSP在MVC模式中的角色


**🎭 MVC架构中的JSP职责**

> **MVC模式**：Model(模型) - View(视图) - Controller(控制器)，是Web开发的经典架构模式。

```
MVC模式中的JSP定位：

用户请求 → Controller → Model → View → 用户响应
          (Servlet)   (JavaBean) (JSP)

┌─────────────────────────────────────────────────────────┐
│                    MVC协作示例                          │
├─────────────────┬─────────────────┬─────────────────────┤
│   Controller    │      Model      │       View          │
│   (Servlet)     │   (JavaBean)    │      (JSP)          │
├─────────────────┼─────────────────┼─────────────────────┤
│接收用户请求     │处理业务逻辑     │显示处理结果         │
│┌─────────────── │┌─────────────── │┌───────────────────┐│
││用户点击登录   ││验证用户信息   ││显示欢迎页面      ││
││获取表单数据   ││查询数据库     ││展示用户信息      ││
││调用业务逻辑   ││返回用户对象   ││渲染页面模板      ││
││转发到视图     ││                ││                  ││
│└─────────────── │└─────────────── │└───────────────────┘│
└─────────────────┴─────────────────┴─────────────────────┘
```

**🔧 实际项目示例**

假设做一个学生管理系统：

**Controller (StudentServlet.java)**：
```java
// 处理学生查询请求
public void doGet(HttpServletRequest request, HttpServletResponse response) {
    String studentId = request.getParameter("id");
    
    // 调用Model获取数据
    Student student = studentService.findById(studentId);
    
    // 将数据传递给View
    request.setAttribute("student", student);
    request.getRequestDispatcher("/student_info.jsp").forward(request, response);
}
```

**Model (Student.java)**：
```java
// 学生数据模型
public class Student {
    private String name;
    private int age;
    private String major;
    
    // getter和setter方法...
}
```

**View (student_info.jsp)**：
```jsp
<!-- 显示学生信息 -->
<div class="student-card">
    <h2>${student.name}</h2>
    <p>年龄：${student.age}</p>
    <p>专业：${student.major}</p>
</div>
```

### 4.3 JSP的技术生态


**🌐 JSP相关技术图谱**

| **技术类别** | **具体技术** | **与JSP的关系** | **作用说明** |
|-------------|-------------|---------------|-------------|
| **标签技术** | `JSTL标签库` | `简化JSP开发` | `替代Java代码，提高可读性` |
| **表达式语言** | `EL表达式` | `数据显示` | `${user.name}替代Java代码` |
| **模板引擎** | `Freemarker/Velocity` | `JSP的替代品` | `更强大的模板功能` |
| **前端框架** | `Vue/React` | `前后端分离` | `JSP转向API接口` |

---

## 5. 📋 核心要点总结


### 5.1 必须掌握的核心概念


```
🔸 JSP本质：在HTML中嵌入Java代码，实现动态网页
🔸 工作原理：JSP → Java源码 → 字节码 → 执行响应
🔸 技术定位：JavaEE体系中的视图层(View)技术
🔸 与Servlet关系：JSP负责显示，Servlet负责逻辑处理
🔸 与HTML区别：HTML是静态的，JSP是动态生成的
🔸 主要优势：开发效率高，适合页面展示
```

### 5.2 关键理解要点


**🔹 JSP不是独立的技术**
```
JSP实际上是Servlet的另一种写法
最终都会转换成Servlet来执行
理解这一点有助于掌握JSP的本质
```

**🔹 JSP的执行特点**
```
第一次访问：翻译 + 编译 + 执行 (较慢)
后续访问：直接执行 (很快)
文件修改：重新翻译编译
```

**🔹 JSP在项目中的角色**
```
专门负责页面显示和用户交互
不应该写复杂的业务逻辑
配合Servlet形成完整的Web应用
```

### 5.3 学习建议与注意事项


**💡 新手学习建议**
- **循序渐进**：先掌握基本语法，再学习高级特性
- **多动手**：理论要结合实际编码练习
- **理解原理**：知道JSP转Servlet的过程很重要
- **项目实践**：做小项目巩固所学知识

**⚠️ 常见误区避免**
- JSP中不要写太多Java代码，影响可读性
- 不要把JSP当成万能工具，业务逻辑应该在Servlet中处理
- 注意JSP页面的编码设置，避免中文乱码
- 理解JSP生命周期，合理使用内置对象

**🚀 进阶学习路径**
1. **JSP基础语法** → 指令、脚本、动作元素
2. **内置对象** → request、response、session等
3. **自定义标签** → JSTL标签库、EL表达式
4. **MVC项目实战** → 整合Servlet构建完整应用
5. **现代化框架** → Spring MVC、Spring Boot

### 5.4 实际应用价值


**🎯 职业发展角度**
- **基础技能**：JavaWeb开发的必备基础
- **架构理解**：理解MVC模式和分层架构  
- **技术演进**：为学习现代框架打基础
- **项目经验**：具备完整Web项目开发能力

**💼 实际项目应用**
- **企业官网**：展示公司信息和产品介绍
- **管理系统**：后台数据管理界面
- **电商平台**：商品展示和用户中心
- **内容管理**：新闻发布和内容展示

**核心记忆口诀**：
```
JSP本质是Servlet，HTML里面嵌Java
动态页面它来做，数据显示最在行
翻译编译再执行，第一次慢后续快
MVC模式当视图，配合控制共协作
学好基础很重要，Web开发必经路
```