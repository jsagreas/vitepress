---
title: 2ã€ELä½œç”¨åŸŸå¯¹è±¡
---
## ğŸ“š ç›®å½•

1. [ELä½œç”¨åŸŸå¯¹è±¡æ¦‚è¿°](#1-ELä½œç”¨åŸŸå¯¹è±¡æ¦‚è¿°)
2. [é¡µé¢ä½œç”¨åŸŸå¯¹è±¡è¯¦è§£](#2-é¡µé¢ä½œç”¨åŸŸå¯¹è±¡è¯¦è§£)
3. [è¯·æ±‚å‚æ•°è·å–å¯¹è±¡](#3-è¯·æ±‚å‚æ•°è·å–å¯¹è±¡)
4. [HTTPè¯·æ±‚å¤´å¯¹è±¡](#4-HTTPè¯·æ±‚å¤´å¯¹è±¡)
5. [Cookieæ“ä½œå¯¹è±¡](#5-Cookieæ“ä½œå¯¹è±¡)
6. [åˆå§‹åŒ–å‚æ•°å¯¹è±¡](#6-åˆå§‹åŒ–å‚æ•°å¯¹è±¡)
7. [å®é™…åº”ç”¨åœºæ™¯](#7-å®é™…åº”ç”¨åœºæ™¯)
8. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#8-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸŒ ELä½œç”¨åŸŸå¯¹è±¡æ¦‚è¿°


### 1.1 ä»€ä¹ˆæ˜¯ELä½œç”¨åŸŸå¯¹è±¡


**ç®€å•ç†è§£**ï¼šELä½œç”¨åŸŸå¯¹è±¡å°±åƒæ˜¯JSPé¡µé¢ä¸­çš„"ä¿¡æ¯æŸœ"ï¼Œä¸åŒçš„æŸœå­å­˜æ”¾ç€ä¸åŒç±»å‹çš„æ•°æ®ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ç‰¹å®šçš„"é’¥åŒ™"æ¥è·å–è¿™äº›æ•°æ®ã€‚

```
æƒ³è±¡ä¸€ä¸ªå¿«é€’æœåŠ¡ç«™ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              ELä½œç”¨åŸŸå¯¹è±¡              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“¦ pageScope     - å½“å‰é¡µé¢çš„åŒ…è£¹     â”‚
â”‚ ğŸ“¦ requestScope  - æœ¬æ¬¡è¯·æ±‚çš„åŒ…è£¹     â”‚
â”‚ ğŸ“¦ sessionScope  - ä¼šè¯æœŸé—´çš„åŒ…è£¹     â”‚
â”‚ ğŸ“¦ applicationScope - å…¨ç«™å…±äº«åŒ…è£¹    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“‹ param         - ç”¨æˆ·å¡«å†™çš„è¡¨å•     â”‚
â”‚ ğŸ“‹ paramValues   - å¤šé€‰è¡¨å•é¡¹         â”‚
â”‚ ğŸ“„ header        - è¯·æ±‚ä¿¡æ¯å•         â”‚
â”‚ ğŸª cookie        - ä¼šå‘˜å¡ä¿¡æ¯         â”‚
â”‚ âš™ï¸ initParam     - ç³»ç»Ÿé…ç½®ä¿¡æ¯       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.2 ä¸ºä»€ä¹ˆéœ€è¦è¿™äº›å¯¹è±¡


**ä¼ ç»Ÿè·å–æ•°æ®çš„ç—›ç‚¹**ï¼š
```java
// ä¼ ç»ŸJavaä»£ç è·å–æ•°æ® - å¤æ‚ä¸”å®¹æ˜“å‡ºé”™
String name = (String)request.getAttribute("username");
String[] hobbies = request.getParameterValues("hobby");
Cookie[] cookies = request.getCookies();
// è¿˜è¦åˆ¤ç©ºã€ç±»å‹è½¬æ¢...
```

**ELè¡¨è¾¾å¼çš„ä¼˜åŠ¿**ï¼š
```jsp
<!-- ELè¡¨è¾¾å¼è·å–æ•°æ® - ç®€æ´ç›´è§‚ -->
æ¬¢è¿ç”¨æˆ·ï¼š${requestScope.username}
çˆ±å¥½ï¼š${paramValues.hobby[0]}
è®°ä½æˆ‘ï¼š${cookie.rememberMe.value}
```

### 1.3 ä½œç”¨åŸŸå¯¹è±¡çš„è®¿é—®ä¼˜å…ˆçº§


**é»˜è®¤æŸ¥æ‰¾é¡ºåº**ï¼š
```
ç”¨æˆ·å†™ï¼š${username}

ELå¼•æ“æŸ¥æ‰¾é¡ºåºï¼š
1ï¸âƒ£ pageScope.username     â† å…ˆæŸ¥é¡µé¢ä½œç”¨åŸŸ
2ï¸âƒ£ requestScope.username  â† å†æŸ¥è¯·æ±‚ä½œç”¨åŸŸ  
3ï¸âƒ£ sessionScope.username  â† ç„¶åæŸ¥ä¼šè¯ä½œç”¨åŸŸ
4ï¸âƒ£ applicationScope.username â† æœ€åæŸ¥åº”ç”¨ä½œç”¨åŸŸ

æ‰¾åˆ°ç¬¬ä¸€ä¸ªå°±åœæ­¢ï¼Œæ‰¾ä¸åˆ°è¿”å›ç©ºå­—ç¬¦ä¸²
```

---

## 2. ğŸ“„ é¡µé¢ä½œç”¨åŸŸå¯¹è±¡è¯¦è§£


### 2.1 å››å¤§ä½œç”¨åŸŸå¯¹è±¡å¯¹æ¯”


| ä½œç”¨åŸŸå¯¹è±¡ | **ç”Ÿå‘½å‘¨æœŸ** | **å¯è§èŒƒå›´** | **å…¸å‹ç”¨é€”** | **å†…å­˜å ç”¨** |
|-----------|-------------|-------------|-------------|-------------|
| ğŸ”¸ **pageScope** | `å½“å‰é¡µé¢æ‰§è¡ŒæœŸé—´` | `ä»…å½“å‰JSPé¡µé¢` | `é¡µé¢ä¸´æ—¶è®¡ç®—ç»“æœ` | `æœ€å°` |
| ğŸ”¸ **requestScope** | `ä¸€æ¬¡HTTPè¯·æ±‚` | `è¯·æ±‚è½¬å‘é“¾ä¸Šçš„é¡µé¢` | `è¡¨å•æ•°æ®ã€ä¸šåŠ¡ç»“æœ` | `è¾ƒå°` |
| ğŸ”¸ **sessionScope** | `ç”¨æˆ·ä¼šè¯æœŸé—´` | `åŒä¸€ç”¨æˆ·çš„æ‰€æœ‰é¡µé¢` | `ç”¨æˆ·ä¿¡æ¯ã€è´­ç‰©è½¦` | `ä¸­ç­‰` |
| ğŸ”¸ **applicationScope** | `åº”ç”¨å¯åŠ¨åˆ°å…³é—­` | `æ‰€æœ‰ç”¨æˆ·çš„æ‰€æœ‰é¡µé¢` | `å…¨å±€é…ç½®ã€è®¡æ•°å™¨` | `æœ€å¤§` |

### 2.2 pageScope - é¡µé¢ä½œç”¨åŸŸ


**æ¦‚å¿µè¯´æ˜**ï¼š`pageScope`å°±åƒæ˜¯ä½ æ¡Œå­ä¸Šçš„è‰ç¨¿çº¸ï¼Œåªåœ¨å½“å‰é¡µé¢è®¡ç®—æ—¶ä½¿ç”¨ï¼Œé¡µé¢ç»“æŸå°±ä¸¢å¼ƒã€‚

```jsp
<%-- é¡µé¢ä½œç”¨åŸŸç¤ºä¾‹ --%>
<%
    // åœ¨é¡µé¢ä¸­è®¾ç½®ä¸€äº›ä¸´æ—¶æ•°æ®
    pageContext.setAttribute("tempResult", "è®¡ç®—å®Œæˆ");
    pageContext.setAttribute("pageCount", 1);
%>

<!-- ä½¿ç”¨ELè·å–é¡µé¢ä½œç”¨åŸŸæ•°æ® -->
<p>ä¸´æ—¶ç»“æœï¼š${pageScope.tempResult}</p>
<p>é¡µé¢è®¡æ•°ï¼š${pageScope.pageCount}</p>

<%-- æ³¨æ„ï¼šè¿™äº›æ•°æ®ä¸ä¼šä¼ é€’åˆ°å…¶ä»–é¡µé¢ --%>
```

**å®é™…åº”ç”¨åœºæ™¯**ï¼š
```jsp
<%-- é¡µé¢å†…çš„å¾ªç¯è®¡ç®— --%>
<c:forEach var="i" begin="1" end="5">
    <c:set var="sum" value="${pageScope.sum + i}" scope="page"/>
</c:forEach>
æœ€ç»ˆç»“æœï¼š${pageScope.sum}
```

### 2.3 requestScope - è¯·æ±‚ä½œç”¨åŸŸ


**æ¦‚å¿µè¯´æ˜**ï¼š`requestScope`åƒæ˜¯å¿«é€’å•ï¼Œä»å‘è´§åˆ°æ”¶è´§çš„æ•´ä¸ªè¿‡ç¨‹ä¸­éƒ½æºå¸¦ç€ä¿¡æ¯ã€‚

```jsp
<%-- åœ¨Servletä¸­è®¾ç½®è¯·æ±‚æ•°æ® --%>
```

```java
// UserServlet.java
request.setAttribute("user", userObject);
request.setAttribute("message", "ç™»å½•æˆåŠŸ");
request.getRequestDispatcher("/welcome.jsp").forward(request, response);
```

```jsp
<!-- welcome.jspä¸­è·å–è¯·æ±‚æ•°æ® -->
<h1>æ¬¢è¿ï¼Œ${requestScope.user.name}ï¼</h1>
<p class="success">${requestScope.message}</p>

<%-- ç®€åŒ–å†™æ³•ï¼ˆæ¨èï¼‰ --%>
<h1>æ¬¢è¿ï¼Œ${user.name}ï¼</h1>
<p>${message}</p>
```

### 2.4 sessionScope - ä¼šè¯ä½œç”¨åŸŸ


**æ¦‚å¿µè¯´æ˜**ï¼š`sessionScope`åƒæ˜¯ä¼šå‘˜å¡ï¼Œåœ¨ç”¨æˆ·æ•´ä¸ªè®¿é—®è¿‡ç¨‹ä¸­éƒ½è®°å½•ç€ç”¨æˆ·ä¿¡æ¯ã€‚

```java
// ç™»å½•æˆåŠŸåè®¾ç½®ä¼šè¯æ•°æ®
session.setAttribute("currentUser", user);
session.setAttribute("loginTime", new Date());
session.setAttribute("shoppingCart", cartList);
```

```jsp
<!-- ä»»ä½•é¡µé¢éƒ½å¯ä»¥è·å–ä¼šè¯æ•°æ® -->
<div class="user-info">
    <span>å½“å‰ç”¨æˆ·ï¼š${sessionScope.currentUser.username}</span>
    <span>ç™»å½•æ—¶é—´ï¼š${sessionScope.loginTime}</span>
    <span>è´­ç‰©è½¦å•†å“ï¼š${sessionScope.shoppingCart.size()}ä»¶</span>
</div>

<%-- ç”¨æˆ·æƒé™æ£€æŸ¥ --%>
<c:if test="${not empty sessionScope.currentUser}">
    <a href="profile.jsp">ä¸ªäººä¸­å¿ƒ</a>
    <a href="logout">é€€å‡ºç™»å½•</a>
</c:if>
```

### 2.5 applicationScope - åº”ç”¨ä½œç”¨åŸŸ


**æ¦‚å¿µè¯´æ˜**ï¼š`applicationScope`åƒæ˜¯å…¬å¸çš„å…¬å‘Šæ¿ï¼Œæ‰€æœ‰å‘˜å·¥ï¼ˆç”¨æˆ·ï¼‰éƒ½èƒ½çœ‹åˆ°ç›¸åŒçš„ä¿¡æ¯ã€‚

```java
// åœ¨ServletContextListenerä¸­è®¾ç½®åº”ç”¨æ•°æ®
public void contextInitialized(ServletContextEvent event) {
    ServletContext application = event.getServletContext();
    application.setAttribute("appName", "åœ¨çº¿å•†åŸ");
    application.setAttribute("version", "v2.1");
    application.setAttribute("onlineUsers", new AtomicInteger(0));
}
```

```jsp
<!-- ä»»ä½•ç”¨æˆ·çš„ä»»ä½•é¡µé¢éƒ½èƒ½è®¿é—® -->
<header>
    <h1>${applicationScope.appName}</h1>
    <small>ç‰ˆæœ¬ï¼š${applicationScope.version}</small>
    <span>åœ¨çº¿ç”¨æˆ·ï¼š${applicationScope.onlineUsers}äºº</span>
</header>
```

---

## 3. ğŸ“ è¯·æ±‚å‚æ•°è·å–å¯¹è±¡


### 3.1 param - å•å€¼å‚æ•°å¯¹è±¡


**æ¦‚å¿µè¯´æ˜**ï¼š`param`å°±åƒæ˜¯è¡¨å•ä¸Šå¡«å†™çš„å•ä¸ªä¿¡æ¯ï¼Œæ¯”å¦‚å§“åã€é‚®ç®±ç­‰åªæœ‰ä¸€ä¸ªå€¼çš„å­—æ®µã€‚

```html
<!-- ç”¨æˆ·æäº¤çš„è¡¨å• -->
<form action="register.jsp" method="post">
    ç”¨æˆ·åï¼š<input type="text" name="username" />
    é‚®ç®±ï¼š<input type="email" name="email" />
    å¹´é¾„ï¼š<input type="number" name="age" />
    <input type="submit" value="æ³¨å†Œ" />
</form>
```

```jsp
<!-- register.jspä¸­è·å–è¡¨å•æ•°æ® -->
<div class="user-info">
    <p>ç”¨æˆ·åï¼š${param.username}</p>
    <p>é‚®ç®±ï¼š${param.email}</p>
    <p>å¹´é¾„ï¼š${param.age}</p>
</div>

<%-- ç­‰ä»·çš„ä¼ ç»Ÿå†™æ³• --%>
<p>ç”¨æˆ·åï¼š<%= request.getParameter("username") %></p>
```

**å¸¸è§URLå‚æ•°è·å–**ï¼š
```
ç”¨æˆ·è®¿é—®ï¼šhttp://localhost:8080/search.jsp?keyword=æ‰‹æœº&category=ç”µå­äº§å“

search.jspä¸­è·å–ï¼š
```

```jsp
<h2>æœç´¢ç»“æœ</h2>
<p>å…³é”®è¯ï¼š${param.keyword}</p>
<p>åˆ†ç±»ï¼š${param.category}</p>

<%-- å‚æ•°ä¸ºç©ºæ—¶çš„å¤„ç† --%>
<c:choose>
    <c:when test="${not empty param.keyword}">
        <p>æ­£åœ¨æœç´¢"${param.keyword}"...</p>
    </c:when>
    <c:otherwise>
        <p>è¯·è¾“å…¥æœç´¢å…³é”®è¯</p>
    </c:otherwise>
</c:choose>
```

### 3.2 paramValues - å¤šå€¼å‚æ•°å¯¹è±¡


**æ¦‚å¿µè¯´æ˜**ï¼š`paramValues`åƒæ˜¯å¤šé€‰é¢˜çš„ç­”æ¡ˆï¼Œä¸€ä¸ªé—®é¢˜å¯èƒ½æœ‰å¤šä¸ªé€‰æ‹©ï¼Œæ¯”å¦‚å…´è¶£çˆ±å¥½ã€æŠ€èƒ½ç­‰ã€‚

```html
<!-- åŒ…å«å¤šé€‰æ¡†çš„è¡¨å• -->
<form action="profile.jsp" method="post">
    <p>å…´è¶£çˆ±å¥½ï¼š</p>
    <input type="checkbox" name="hobby" value="reading" /> é˜…è¯»
    <input type="checkbox" name="hobby" value="music" /> éŸ³ä¹  
    <input type="checkbox" name="hobby" value="sports" /> è¿åŠ¨
    <input type="checkbox" name="hobby" value="travel" /> æ—…æ¸¸
    
    <p>æŒæ¡æŠ€èƒ½ï¼š</p>
    <select name="skill" multiple>
        <option value="java">Java</option>
        <option value="python">Python</option>
        <option value="javascript">JavaScript</option>
    </select>
    
    <input type="submit" value="ä¿å­˜" />
</form>
```

```jsp
<!-- profile.jspä¸­å¤„ç†å¤šå€¼å‚æ•° -->
<div class="profile">
    <h3>ä¸ªäººå…´è¶£</h3>
    <ul>
        <c:forEach var="hobbyItem" items="${paramValues.hobby}">
            <li>${hobbyItem}</li>
        </c:forEach>
    </ul>
    
    <h3>æŠ€èƒ½åˆ—è¡¨</h3>
    <%-- æ˜¾ç¤ºç¬¬ä¸€ä¸ªæŠ€èƒ½ --%>
    <p>ä¸»è¦æŠ€èƒ½ï¼š${paramValues.skill[0]}</p>
    
    <%-- æ˜¾ç¤ºæ‰€æœ‰æŠ€èƒ½ --%>
    <p>å…¨éƒ¨æŠ€èƒ½ï¼š
        <c:forEach var="skillItem" items="${paramValues.skill}" varStatus="status">
            ${skillItem}<c:if test="${!status.last}">, </c:if>
        </c:forEach>
    </p>
</div>
```

**å‚æ•°å­˜åœ¨æ€§æ£€æŸ¥**ï¼š
```jsp
<%-- æ£€æŸ¥æ˜¯å¦é€‰æ‹©äº†çˆ±å¥½ --%>
<c:choose>
    <c:when test="${not empty paramValues.hobby}">
        <p>æ‚¨é€‰æ‹©äº†${fn:length(paramValues.hobby)}ä¸ªçˆ±å¥½</p>
    </c:when>
    <c:otherwise>
        <p>æ‚¨è¿˜æ²¡æœ‰é€‰æ‹©ä»»ä½•çˆ±å¥½</p>
    </c:otherwise>
</c:choose>
```

---

## 4. ğŸ“„ HTTPè¯·æ±‚å¤´å¯¹è±¡


### 4.1 header - å•å€¼è¯·æ±‚å¤´å¯¹è±¡


**æ¦‚å¿µè¯´æ˜**ï¼š`header`åƒæ˜¯ä¿¡ä»¶çš„é‚®æˆ³å’Œæ”¶ä»¶äººä¿¡æ¯ï¼ŒåŒ…å«äº†HTTPè¯·æ±‚çš„å„ç§å…ƒæ•°æ®ä¿¡æ¯ã€‚

**å¸¸ç”¨è¯·æ±‚å¤´è·å–**ï¼š
```jsp
<div class="request-info">
    <h3>è¯·æ±‚ä¿¡æ¯</h3>
    <p>æµè§ˆå™¨ç±»å‹ï¼š${header['User-Agent']}</p>
    <p>æ¥æºé¡µé¢ï¼š${header.Referer}</p>
    <p>æ¥å—ç±»å‹ï¼š${header.Accept}</p>
    <p>ä¸»æœºåœ°å€ï¼š${header.Host}</p>
    <p>è¿æ¥æ–¹å¼ï¼š${header.Connection}</p>
</div>

<%-- æ³¨æ„ï¼šè¯·æ±‚å¤´åç§°åŒ…å«ç‰¹æ®Šå­—ç¬¦æ—¶ç”¨[]è¯­æ³• --%>
<p>å†…å®¹ç±»å‹ï¼š${header['Content-Type']}</p>
<p>ç¼“å­˜æ§åˆ¶ï¼š${header['Cache-Control']}</p>
```

**æµè§ˆå™¨æ£€æµ‹ç¤ºä¾‹**ï¼š
```jsp
<script>
// æ ¹æ®æµè§ˆå™¨ç±»å‹æ˜¾ç¤ºä¸åŒæç¤º
<c:choose>
    <c:when test="${fn:contains(header['User-Agent'], 'Chrome')}">
        console.log('æ£€æµ‹åˆ°Chromeæµè§ˆå™¨');
    </c:when>
    <c:when test="${fn:contains(header['User-Agent'], 'Firefox')}">
        console.log('æ£€æµ‹åˆ°Firefoxæµè§ˆå™¨');
    </c:when>
    <c:otherwise>
        console.log('å…¶ä»–æµè§ˆå™¨');
    </c:otherwise>
</c:choose>
</script>
```

### 4.2 headerValues - å¤šå€¼è¯·æ±‚å¤´å¯¹è±¡


**æ¦‚å¿µè¯´æ˜**ï¼šæŸäº›HTTPè¯·æ±‚å¤´å¯èƒ½åŒ…å«å¤šä¸ªå€¼ï¼Œ`headerValues`å¯ä»¥è·å–è¿™äº›å¤šå€¼ä¿¡æ¯ã€‚

```jsp
<div class="header-details">
    <h3>è¯¦ç»†è¯·æ±‚å¤´ä¿¡æ¯</h3>
    
    <%-- Accept-Languageå¯èƒ½åŒ…å«å¤šç§è¯­è¨€ --%>
    <p>æ”¯æŒè¯­è¨€ï¼š</p>
    <ul>
        <c:forEach var="lang" items="${headerValues['Accept-Language']}">
            <li>${lang}</li>
        </c:forEach>
    </ul>
    
    <%-- Accept-Encodingå¯èƒ½åŒ…å«å¤šç§ç¼–ç  --%>
    <p>æ”¯æŒç¼–ç ï¼š</p>
    <ul>
        <c:forEach var="encoding" items="${headerValues['Accept-Encoding']}">
            <li>${encoding}</li>
        </c:forEach>
    </ul>
</div>
```

**è¯·æ±‚å¤´è°ƒè¯•ä¿¡æ¯**ï¼š
```jsp
<%-- å¼€å‘è°ƒè¯•æ—¶æ˜¾ç¤ºæ‰€æœ‰è¯·æ±‚å¤´ --%>
<c:if test="${param.debug == 'true'}">
    <div class="debug-info">
        <h4>è°ƒè¯•ï¼šæ‰€æœ‰è¯·æ±‚å¤´</h4>
        <table border="1">
            <tr><th>è¯·æ±‚å¤´åç§°</th><th>å€¼</th></tr>
            <c:forEach var="headerEntry" items="${header}">
                <tr>
                    <td>${headerEntry.key}</td>
                    <td>${headerEntry.value}</td>
                </tr>
            </c:forEach>
        </table>
    </div>
</c:if>
```

---

## 5. ğŸª Cookieæ“ä½œå¯¹è±¡


### 5.1 cookieå¯¹è±¡åŸºæœ¬ä½¿ç”¨


**æ¦‚å¿µè¯´æ˜**ï¼š`cookie`å°±åƒæ˜¯æµè§ˆå™¨çš„"è®°äº‹æœ¬"ï¼Œè®°å½•ç”¨æˆ·çš„åå¥½è®¾ç½®å’ŒçŠ¶æ€ä¿¡æ¯ã€‚

```java
// Servletä¸­è®¾ç½®Cookie
Cookie userPref = new Cookie("theme", "dark");
userPref.setMaxAge(7 * 24 * 3600); // 7å¤©æœ‰æ•ˆ
response.addCookie(userPref);

Cookie rememberMe = new Cookie("rememberUser", "true");
rememberMe.setMaxAge(30 * 24 * 3600); // 30å¤©æœ‰æ•ˆ
response.addCookie(rememberMe);
```

```jsp
<!-- JSPä¸­è·å–å’Œä½¿ç”¨Cookie -->
<div class="user-preferences">
    <%-- è·å–Cookieå€¼ --%>
    <p>å½“å‰ä¸»é¢˜ï¼š${cookie.theme.value}</p>
    <p>è®°ä½ç”¨æˆ·ï¼š${cookie.rememberUser.value}</p>
    
    <%-- æ ¹æ®Cookieå€¼è®¾ç½®é¡µé¢æ ·å¼ --%>
    <c:choose>
        <c:when test="${cookie.theme.value == 'dark'}">
            <link rel="stylesheet" href="dark-theme.css">
        </c:when>
        <c:otherwise>
            <link rel="stylesheet" href="light-theme.css">
        </c:otherwise>
    </c:choose>
</div>
```

### 5.2 Cookieçš„å®é™…åº”ç”¨åœºæ™¯


**ç”¨æˆ·åå¥½è®¾ç½®**ï¼š
```jsp
<!-- è¯­è¨€é€‰æ‹©åŠŸèƒ½ -->
<div class="language-selector">
    å½“å‰è¯­è¨€ï¼š
    <c:choose>
        <c:when test="${cookie.language.value == 'en'}">English</c:when>
        <c:when test="${cookie.language.value == 'zh'}">ä¸­æ–‡</c:when>
        <c:otherwise>é»˜è®¤</c:otherwise>
    </c:choose>
    
    <select onchange="changeLanguage(this.value)">
        <option value="zh" ${cookie.language.value == 'zh' ? 'selected' : ''}>ä¸­æ–‡</option>
        <option value="en" ${cookie.language.value == 'en' ? 'selected' : ''}>English</option>
    </select>
</div>
```

**è‡ªåŠ¨ç™»å½•åŠŸèƒ½**ï¼š
```jsp
<!-- ç™»å½•é¡µé¢çš„è®°ä½æˆ‘åŠŸèƒ½ -->
<form action="login" method="post">
    <input type="text" name="username" 
           value="${cookie.savedUsername.value}" placeholder="ç”¨æˆ·å" />
    <input type="password" name="password" placeholder="å¯†ç " />
    
    <label>
        <input type="checkbox" name="rememberMe" 
               ${not empty cookie.rememberUser ? 'checked' : ''} />
        è®°ä½æˆ‘
    </label>
    
    <input type="submit" value="ç™»å½•" />
</form>
```

**è´­ç‰©è½¦çŠ¶æ€ä¿æŒ**ï¼š
```jsp
<!-- è´­ç‰©è½¦å•†å“æ•°é‡æ˜¾ç¤º -->
<div class="cart-info">
    <span class="cart-icon">ğŸ›’</span>
    <span class="cart-count">
        ${not empty cookie.cartCount ? cookie.cartCount.value : 0}
    </span>
</div>

<%-- æ£€æŸ¥Cookieæ˜¯å¦å­˜åœ¨ --%>
<c:if test="${not empty cookie.cartItems}">
    <p>è´­ç‰©è½¦ä¸­æœ‰å•†å“ï¼Œ<a href="cart.jsp">æŸ¥çœ‹è¯¦æƒ…</a></p>
</c:if>
```

### 5.3 Cookieå±æ€§è·å–


```jsp
<div class="cookie-details">
    <h3>Cookieè¯¦ç»†ä¿¡æ¯</h3>
    
    <c:if test="${not empty cookie.userSession}">
        <p>Cookieåç§°ï¼š${cookie.userSession.name}</p>
        <p>Cookieå€¼ï¼š${cookie.userSession.value}</p>
        <p>æœ‰æ•ˆæœŸï¼š${cookie.userSession.maxAge}ç§’</p>
        <p>è·¯å¾„ï¼š${cookie.userSession.path}</p>
        <p>åŸŸï¼š${cookie.userSession.domain}</p>
        <p>å®‰å…¨æ€§ï¼š${cookie.userSession.secure}</p>
    </c:if>
</div>
```

---

## 6. âš™ï¸ åˆå§‹åŒ–å‚æ•°å¯¹è±¡


### 6.1 initParam - é…ç½®å‚æ•°å¯¹è±¡


**æ¦‚å¿µè¯´æ˜**ï¼š`initParam`åƒæ˜¯åº”ç”¨ç¨‹åºçš„"é…ç½®æ–‡ä»¶"ï¼Œå­˜å‚¨ç€ç³»ç»Ÿå¯åŠ¨æ—¶è®¾ç½®çš„å„ç§é…ç½®ä¿¡æ¯ã€‚

**web.xmlä¸­çš„é…ç½®**ï¼š
```xml
<!-- web.xmlæ–‡ä»¶ -->
<web-app>
    <!-- ä¸Šä¸‹æ–‡åˆå§‹åŒ–å‚æ•° -->
    <context-param>
        <param-name>appName</param-name>
        <param-value>åœ¨çº¿è´­ç‰©å•†åŸ</param-value>
    </context-param>
    
    <context-param>
        <param-name>adminEmail</param-name>
        <param-value>admin@example.com</param-value>
    </context-param>
    
    <context-param>
        <param-name>maxFileSize</param-name>
        <param-value>10485760</param-value>
    </context-param>
    
    <context-param>
        <param-name>debugMode</param-name>
        <param-value>false</param-value>
    </context-param>
</web-app>
```

**JSPä¸­è·å–é…ç½®å‚æ•°**ï¼š
```jsp
<div class="app-config">
    <h2>${initParam.appName}</h2>
    
    <div class="config-info">
        <p>ç®¡ç†å‘˜é‚®ç®±ï¼š
            <a href="mailto:${initParam.adminEmail}">${initParam.adminEmail}</a>
        </p>
        
        <p>æœ€å¤§æ–‡ä»¶ä¸Šä¼ ï¼š${initParam.maxFileSize / 1024 / 1024}MB</p>
        
        <%-- æ ¹æ®é…ç½®æ˜¾ç¤ºä¸åŒå†…å®¹ --%>
        <c:if test="${initParam.debugMode == 'true'}">
            <div class="debug-panel">
                <h4>è°ƒè¯•æ¨¡å¼å·²å¯ç”¨</h4>
                <p>å½“å‰æ—¶é—´ï¼š${pageContext.servletContext.serverInfo}</p>
            </div>
        </c:if>
    </div>
</div>
```

### 6.2 é…ç½®å‚æ•°çš„å®é™…åº”ç”¨


**æ•°æ®åº“è¿æ¥é…ç½®**ï¼š
```xml
<!-- web.xmlä¸­çš„æ•°æ®åº“é…ç½® -->
<context-param>
    <param-name>dbUrl</param-name>
    <param-value>jdbc:mysql://localhost:3306/shop</param-value>
</context-param>
<context-param>
    <param-name>dbUser</param-name>
    <param-value>root</param-value>
</context-param>
<context-param>
    <param-name>maxConnections</param-name>
    <param-value>20</param-value>
</context-param>
```

```jsp
<!-- ç®¡ç†é¡µé¢æ˜¾ç¤ºç³»ç»Ÿé…ç½® -->
<c:if test="${sessionScope.user.role == 'admin'}">
    <div class="admin-panel">
        <h3>ç³»ç»Ÿé…ç½®</h3>
        <table class="config-table">
            <tr>
                <td>æ•°æ®åº“åœ°å€ï¼š</td>
                <td>${initParam.dbUrl}</td>
            </tr>
            <tr>
                <td>æ•°æ®åº“ç”¨æˆ·ï¼š</td>
                <td>${initParam.dbUser}</td>
            </tr>
            <tr>
                <td>æœ€å¤§è¿æ¥æ•°ï¼š</td>
                <td>${initParam.maxConnections}</td>
            </tr>
        </table>
    </div>
</c:if>
```

**åŠŸèƒ½å¼€å…³é…ç½®**ï¼š
```xml
<!-- åŠŸèƒ½å¼€å…³é…ç½® -->
<context-param>
    <param-name>enableUserRegistration</param-name>
    <param-value>true</param-value>
</context-param>
<context-param>
    <param-name>enableOnlinePayment</param-name>
    <param-value>true</param-value>
</context-param>
<context-param>
    <param-name>maintenanceMode</param-name>
    <param-value>false</param-value>
</context-param>
```

```jsp
<!-- æ ¹æ®é…ç½®åŠ¨æ€æ˜¾ç¤ºåŠŸèƒ½ -->
<c:choose>
    <c:when test="${initParam.maintenanceMode == 'true'}">
        <div class="maintenance-notice">
            <h2>ç³»ç»Ÿç»´æŠ¤ä¸­</h2>
            <p>ç³»ç»Ÿæ­£åœ¨è¿›è¡Œç»´æŠ¤ï¼Œè¯·ç¨åè®¿é—®ã€‚</p>
        </div>
    </c:when>
    <c:otherwise>
        <!-- æ­£å¸¸é¡µé¢å†…å®¹ -->
        <div class="main-content">
            <c:if test="${initParam.enableUserRegistration == 'true'}">
                <a href="register.jsp" class="btn">ç”¨æˆ·æ³¨å†Œ</a>
            </c:if>
            
            <c:if test="${initParam.enableOnlinePayment == 'true'}">
                <div class="payment-methods">
                    <h3>æ”¯ä»˜æ–¹å¼</h3>
                    <!-- æ”¯ä»˜ç›¸å…³å†…å®¹ -->
                </div>
            </c:if>
        </div>
    </c:otherwise>
</c:choose>
```

---

## 7. ğŸš€ å®é™…åº”ç”¨åœºæ™¯


### 7.1 ç”¨æˆ·ä¿¡æ¯å±•ç¤ºé¡µé¢


```jsp
<%@ page contentType="text/html;charset=UTF-8" %>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>

<!DOCTYPE html>
<html>
<head>
    <title>${initParam.appName} - ç”¨æˆ·ä¿¡æ¯</title>
    <%-- æ ¹æ®ç”¨æˆ·åå¥½åŠ è½½ä¸»é¢˜ --%>
    <c:choose>
        <c:when test="${cookie.theme.value == 'dark'}">
            <link rel="stylesheet" href="css/dark-theme.css">
        </c:when>
        <c:otherwise>
            <link rel="stylesheet" href="css/light-theme.css">
        </c:otherwise>
    </c:choose>
</head>
<body>
    <%-- åº”ç”¨ä¿¡æ¯å¤´éƒ¨ --%>
    <header>
        <h1>${initParam.appName}</h1>
        <p>åœ¨çº¿ç”¨æˆ·ï¼š${applicationScope.onlineCount}äºº</p>
    </header>
    
    <%-- ç”¨æˆ·ä¸ªäººä¿¡æ¯ --%>
    <div class="user-profile">
        <h2>ä¸ªäººä¿¡æ¯</h2>
        <p>ç”¨æˆ·åï¼š${sessionScope.currentUser.username}</p>
        <p>é‚®ç®±ï¼š${sessionScope.currentUser.email}</p>
        <p>æ³¨å†Œæ—¶é—´ï¼š${sessionScope.currentUser.registerTime}</p>
    </div>
    
    <%-- ç”¨æˆ·åå¥½è®¾ç½® --%>
    <div class="user-preferences">
        <h3>åå¥½è®¾ç½®</h3>
        <p>ä¸»é¢˜ï¼š${cookie.theme.value}</p>
        <p>è¯­è¨€ï¼š${cookie.language.value}</p>
        <p>è‡ªåŠ¨ç™»å½•ï¼š${cookie.rememberMe.value == 'true' ? 'å·²å¼€å¯' : 'å·²å…³é—­'}</p>
    </div>
    
    <%-- æµè§ˆå™¨ä¿¡æ¯ --%>
    <div class="browser-info">
        <h3>æµè§ˆå™¨ä¿¡æ¯</h3>
        <p>User-Agentï¼š${header['User-Agent']}</p>
        <p>æ¥æºé¡µé¢ï¼š${header.Referer}</p>
    </div>
</body>
</html>
```

### 7.2 æœç´¢ç»“æœé¡µé¢


```jsp
<%@ page contentType="text/html;charset=UTF-8" %>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
<%@ taglib prefix="fn" uri="http://java.sun.com/jsp/jstl/functions" %>

<div class="search-container">
    <%-- æœç´¢æ¡ä»¶æ˜¾ç¤º --%>
    <div class="search-params">
        <h2>æœç´¢ç»“æœ</h2>
        <p>å…³é”®è¯ï¼š<strong>${param.keyword}</strong></p>
        
        <c:if test="${not empty param.category}">
            <p>åˆ†ç±»ï¼š${param.category}</p>
        </c:if>
        
        <c:if test="${not empty paramValues.tags}">
            <p>æ ‡ç­¾ï¼š
                <c:forEach var="tag" items="${paramValues.tags}" varStatus="status">
                    <span class="tag">${tag}</span>
                    <c:if test="${!status.last}">, </c:if>
                </c:forEach>
            </p>
        </c:if>
    </div>
    
    <%-- æœç´¢ç»“æœ --%>
    <div class="search-results">
        <c:choose>
            <c:when test="${not empty requestScope.searchResults}">
                <p>æ‰¾åˆ°${fn:length(requestScope.searchResults)}ä¸ªç»“æœ</p>
                <c:forEach var="item" items="${requestScope.searchResults}">
                    <div class="result-item">
                        <h3>${item.title}</h3>
                        <p>${item.description}</p>
                    </div>
                </c:forEach>
            </c:when>
            <c:otherwise>
                <p class="no-results">æœªæ‰¾åˆ°ç›¸å…³ç»“æœ</p>
            </c:otherwise>
        </c:choose>
    </div>
</div>
```

### 7.3 è¡¨å•æ•°æ®å¤„ç†é¡µé¢


```jsp
<%-- ç”¨æˆ·æ³¨å†Œè¡¨å•å¤„ç† --%>
<div class="registration-result">
    <h2>æ³¨å†Œä¿¡æ¯ç¡®è®¤</h2>
    
    <%-- åŸºæœ¬ä¿¡æ¯ --%>
    <div class="basic-info">
        <h3>åŸºæœ¬ä¿¡æ¯</h3>
        <p>ç”¨æˆ·åï¼š${param.username}</p>
        <p>é‚®ç®±ï¼š${param.email}</p>
        <p>å¹´é¾„ï¼š${param.age}</p>
        <p>æ€§åˆ«ï¼š${param.gender}</p>
    </div>
    
    <%-- å…´è¶£çˆ±å¥½ --%>
    <div class="hobbies">
        <h3>å…´è¶£çˆ±å¥½</h3>
        <c:choose>
            <c:when test="${not empty paramValues.hobby}">
                <ul>
                    <c:forEach var="hobby" items="${paramValues.hobby}">
                        <li>${hobby}</li>
                    </c:forEach>
                </ul>
            </c:when>
            <c:otherwise>
                <p>æœªé€‰æ‹©ä»»ä½•çˆ±å¥½</p>
            </c:otherwise>
        </c:choose>
    </div>
    
    <%-- æŠ€èƒ½åˆ—è¡¨ --%>
    <div class="skills">
        <h3>æŒæ¡æŠ€èƒ½</h3>
        <c:if test="${not empty paramValues.skills}">
            <p>å…±é€‰æ‹©äº†${fn:length(paramValues.skills)}é¡¹æŠ€èƒ½ï¼š</p>
            <c:forEach var="skill" items="${paramValues.skills}" varStatus="status">
                ${skill}<c:if test="${!status.last}">, </c:if>
            </c:forEach>
        </c:if>
    </div>
</div>
```

---

## 8. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 8.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ å››å¤§ä½œç”¨åŸŸå¯¹è±¡ï¼šé¡µé¢ã€è¯·æ±‚ã€ä¼šè¯ã€åº”ç”¨çº§åˆ«çš„æ•°æ®å­˜å‚¨
ğŸ”¸ å‚æ•°è·å–å¯¹è±¡ï¼šparamå¤„ç†å•å€¼ï¼ŒparamValueså¤„ç†å¤šå€¼
ğŸ”¸ è¯·æ±‚å¤´å¯¹è±¡ï¼šheaderè·å–HTTPè¯·æ±‚çš„å…ƒæ•°æ®ä¿¡æ¯  
ğŸ”¸ Cookieå¯¹è±¡ï¼šæµè§ˆå™¨ç«¯çš„æ•°æ®æŒä¹…åŒ–å­˜å‚¨
ğŸ”¸ åˆå§‹åŒ–å‚æ•°ï¼šåº”ç”¨çº§åˆ«çš„é…ç½®ä¿¡æ¯è·å–
```

### 8.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ ä½œç”¨åŸŸé€‰æ‹©åŸåˆ™**ï¼š
```
æ•°æ®ä½¿ç”¨èŒƒå›´è¶Šå°ï¼Œé€‰æ‹©çš„ä½œç”¨åŸŸè¶Šå°ï¼š
- ä¸´æ—¶è®¡ç®— â†’ pageScope
- å•æ¬¡è¯·æ±‚ â†’ requestScope  
- ç”¨æˆ·ä¼šè¯ â†’ sessionScope
- å…¨å±€å…±äº« â†’ applicationScope
```

**ğŸ”¹ å‚æ•°è·å–æŠ€å·§**ï¼š
```
è¡¨å•å­—æ®µç±»å‹å†³å®šè·å–æ–¹å¼ï¼š
- å•é€‰æ¡†ã€æ–‡æœ¬æ¡† â†’ param
- å¤šé€‰æ¡†ã€å¤šé€‰ä¸‹æ‹‰ â†’ paramValues
- URLå‚æ•° â†’ param
- å¤æ‚å‚æ•° â†’ paramValues
```

**ğŸ”¹ Cookieä½¿ç”¨æ³¨æ„**ï¼š
```
Cookieçš„é™åˆ¶ï¼š
- å¤§å°é™åˆ¶ï¼šå•ä¸ªCookieæœ€å¤§4KB
- æ•°é‡é™åˆ¶ï¼šæ¯ä¸ªåŸŸåæœ€å¤š20ä¸ªCookie
- å®‰å…¨æ€§ï¼šæ•æ„Ÿä¿¡æ¯ä¸è¦å­˜å‚¨åœ¨Cookieä¸­
- æœ‰æ•ˆæœŸï¼šéœ€è¦åˆç†è®¾ç½®è¿‡æœŸæ—¶é—´
```

### 8.3 å®é™…åº”ç”¨ä»·å€¼


**å¼€å‘æ•ˆç‡æå‡**ï¼š
- **ç®€åŒ–ä»£ç **ï¼šELè¡¨è¾¾å¼æ¯”Javaä»£ç ç®€æ´30-50%
- **å‡å°‘é”™è¯¯**ï¼šè‡ªåŠ¨å¤„ç†ç©ºå€¼ï¼Œé¿å…NullPointerException
- **æé«˜å¯è¯»æ€§**ï¼šéæŠ€æœ¯äººå‘˜ä¹Ÿèƒ½ç†è§£é¡µé¢é€»è¾‘

**ç³»ç»ŸåŠŸèƒ½å¢å¼º**ï¼š
- **ç”¨æˆ·ä½“éªŒ**ï¼šè®°ä½ç”¨æˆ·åå¥½ï¼Œä¸ªæ€§åŒ–æ˜¾ç¤º
- **æ•°æ®ä¼ é€’**ï¼šé¡µé¢é—´æ•°æ®æ— ç¼ä¼ é€’
- **é…ç½®ç®¡ç†**ï¼šé›†ä¸­ç®¡ç†åº”ç”¨é…ç½®å‚æ•°

**ç»´æŠ¤ä¾¿åˆ©æ€§**ï¼š
- **è°ƒè¯•æ–¹ä¾¿**ï¼šç›´æ¥åœ¨é¡µé¢æ˜¾ç¤ºå˜é‡å€¼
- **é…ç½®çµæ´»**ï¼šé€šè¿‡é…ç½®æ–‡ä»¶æ§åˆ¶åŠŸèƒ½å¼€å…³
- **æ‰©å±•å®¹æ˜“**ï¼šç»Ÿä¸€çš„æ•°æ®è®¿é—®æ–¹å¼

### 8.4 å­¦ä¹ è¦ç‚¹è®°å¿†


**ä½œç”¨åŸŸè®°å¿†å£è¯€**ï¼š
```
é¡µé¢ä½œç”¨åŸŸåƒè‰ç¨¿ï¼Œç”¨å®Œå°±æ‰”ä¸ä¿å­˜
è¯·æ±‚ä½œç”¨åŸŸåƒå¿«é€’ï¼Œä¸€æ¬¡ä¼ é€’åˆ°ç›®çš„
ä¼šè¯ä½œç”¨åŸŸåƒä¼šå‘˜ï¼Œç”¨æˆ·æœŸé—´éƒ½æœ‰æ•ˆ  
åº”ç”¨ä½œç”¨åŸŸåƒå…¬å‘Šï¼Œæ‰€æœ‰ç”¨æˆ·å…±åŒäº«
```

**å‚æ•°è·å–è®°å¿†**ï¼š
```
paramå–å•å€¼ï¼ŒparamValueså–å¤šå€¼
headerçœ‹è¯·æ±‚ï¼Œcookieè®°åå¥½
initParamé…å…¨å±€ï¼Œå„æœ‰ç”¨é€”è¦è®°ç‰¢
```

**æ ¸å¿ƒè®°å¿†**ï¼š
- ELä½œç”¨åŸŸå¯¹è±¡æ˜¯JSPé¡µé¢çš„"ä¿¡æ¯ä»“åº“"
- ä¸åŒå¯¹è±¡å­˜å‚¨ä¸åŒç”Ÿå‘½å‘¨æœŸçš„æ•°æ®
- åˆç†é€‰æ‹©ä½œç”¨åŸŸå¯¹è±¡å¯ä»¥æé«˜åº”ç”¨æ€§èƒ½
- æŒæ¡è¿™äº›å¯¹è±¡æ˜¯æ„å»ºåŠ¨æ€ç½‘é¡µçš„åŸºç¡€