---
title: 3、EL运算符
---
## 📚 目录

1. [EL运算符概述](#1-EL运算符概述)
2. [算术运算符](#2-算术运算符)
3. [关系运算符](#3-关系运算符)
4. [逻辑运算符](#4-逻辑运算符)
5. [empty运算符](#5-empty运算符)
6. [三元运算符](#6-三元运算符)
7. [运算符优先级](#7-运算符优先级)
8. [核心要点总结](#8-核心要点总结)

---

## 1. 🎯 EL运算符概述


### 1.1 什么是EL运算符


**简单理解**：EL运算符就是在JSP页面中进行计算和比较的工具

```
传统Java代码：
int result = a + b;
boolean isEqual = (x == y);

EL表达式：
${a + b}
${x == y}
```

**核心特点**：
- 🔸 **简化计算**：不用写复杂的Java代码，直接在页面计算
- 🔸 **自动转换**：数据类型自动转换，不用担心类型问题
- 🔸 **安全处理**：遇到null值不会报错，而是智能处理
- 🔸 **表达式风格**：类似数学公式，易读易写

### 1.2 EL运算符的应用场景


**实际开发中的用途**：
```
页面显示计算结果：
${price * quantity}  // 计算总价

条件判断显示：
${user != null ? "欢迎" + user.name : "请登录"}

数据验证：
${empty username ? "用户名不能为空" : ""}

状态判断：
${status == 1 ? "启用" : "禁用"}
```

---

## 2. ➕ 算术运算符


### 2.1 基本算术运算符


| 运算符 | **作用** | **示例** | **结果说明** |
|--------|---------|---------|-------------|
| `+` | **加法** | `${5 + 3}` | `8` |
| `-` | **减法** | `${10 - 4}` | `6` |
| `*` | **乘法** | `${6 * 7}` | `42` |
| `/` 或 `div` | **除法** | `${15 / 3}` 或 `${15 div 3}` | `5` |
| `%` 或 `mod` | **取余** | `${17 % 5}` 或 `${17 mod 5}` | `2` |

> 💡 **为什么有两种写法**：因为在XML中，某些字符有特殊含义，所以提供了文字版本

### 2.2 算术运算的智能特性


**🔸 自动类型转换**
```
情况说明：
${5 + "3"}     → 8     (字符串"3"自动转为数字3)
${5.5 + 2}     → 7.5   (整数2自动转为小数2.0)
${true + 1}    → 2     (true转为1，false转为0)
```

**🔸 null值处理**
```
安全的null处理：
${null + 5}    → 5     (null当作0处理)
${null * 3}    → 0     (null当作0处理)
${null / 2}    → 0     (null当作0处理)

传统Java会报空指针异常，EL会智能处理！
```

### 2.3 实际应用示例


**购物车总价计算**
```jsp
<!-- 商品信息 -->
<c:set var="price" value="29.8" />
<c:set var="quantity" value="3" />
<c:set var="discount" value="0.1" />

<!-- 计算过程 -->
<p>商品单价：￥${price}</p>
<p>购买数量：${quantity}件</p>
<p>小计：￥${price * quantity}</p>
<p>折扣：${discount * 100}%</p>
<p><strong>最终价格：￥${(price * quantity) * (1 - discount)}</strong></p>
```

**显示结果**：
```
商品单价：￥29.8
购买数量：3件
小计：￥89.4
折扣：10.0%
最终价格：￥80.46
```

---

## 3. 🔍 关系运算符


### 3.1 关系运算符对照表


| 运算符 | **文字形式** | **作用** | **示例** | **结果** |
|--------|-------------|---------|---------|---------|
| `==` | `eq` | **等于** | `${5 == 5}` | `true` |
| `!=` | `ne` | **不等于** | `${5 != 3}` | `true` |
| `<` | `lt` | **小于** | `${3 < 5}` | `true` |
| `>` | `gt` | **大于** | `${8 > 5}` | `true` |
| `<=` | `le` | **小于等于** | `${5 <= 5}` | `true` |
| `>=` | `ge` | **大于等于** | `${6 >= 5}` | `true` |

> 📝 **记忆技巧**：
> - `eq` = equal（相等）
> - `ne` = not equal（不相等）  
> - `lt` = less than（小于）
> - `gt` = greater than（大于）

### 3.2 字符串比较


**🔸 字符串相等比较**
```
字符串比较示例：
${"hello" == "hello"}     → true
${"Hello" == "hello"}     → false (区分大小写)
${name eq "admin"}        → 根据name的值判断
```

**🔸 字符串大小比较**
```
字符串大小比较（按字典序）：
${"abc" < "abd"}          → true  (c < d)
${"apple" > "app"}        → true  (apple比app长)
${"123" < "45"}           → true  (按字符串比较，不是数字)
```

### 3.3 数字比较的智能处理


**🔸 混合类型比较**
```
数字与字符串：
${5 > "3"}                → true  (字符串"3"转为数字3)
${5.5 == "5.5"}          → true  (类型自动转换)

null值比较：
${null == 0}             → false (null不等于任何值，除了null)
${null == null}          → true  
${null == ""}            → false (null不等于空字符串)
```

### 3.4 实际应用：用户权限判断


**权限控制示例**
```jsp
<!-- 假设用户信息存储在session中 -->
<c:if test="${sessionScope.user.role == 'admin'}">
    <button>管理员功能</button>
</c:if>

<c:if test="${sessionScope.user.level >= 3}">
    <p>您是VIP用户</p>
</c:if>

<c:if test="${sessionScope.user.age >= 18}">
    <p>成年用户可以查看此内容</p>
</c:if>
```

---

## 4. 🔗 逻辑运算符


### 4.1 逻辑运算符基础


| 运算符 | **文字形式** | **作用** | **说明** |
|--------|-------------|---------|---------|
| `&&` | `and` | **逻辑与** | 两个条件都为true才返回true |
| `\|\|` | `or` | **逻辑或** | 任意一个条件为true就返回true |
| `!` | `not` | **逻辑非** | 取反，true变false，false变true |

### 4.2 逻辑与（&&/and）运算


**🔸 基本用法**
```
理解逻辑与：只有两个条件都满足才为真

${true && true}          → true
${true && false}         → false  
${false && true}         → false
${false && false}        → false

实际应用：
${user != null && user.age >= 18}   // 用户存在且成年
${score >= 60 and score <= 100}     // 分数在合理范围内
```

**🔸 短路特性**
```
智能短路：如果第一个条件为false，不会计算第二个条件

${false && (1/0)}        → false (不会执行除零运算)
${user == null && user.name}  → false (user为null时不会访问name属性)
```

### 4.3 逻辑或（||/or）运算


**🔸 基本用法**
```
理解逻辑或：任意一个条件满足就为真

${true || true}          → true
${true || false}         → true
${false || true}         → true  
${false || false}        → false

实际应用：
${user.role == 'admin' || user.role == 'manager'}  // 管理员或经理
${empty username or empty password}                // 用户名或密码为空
```

### 4.4 逻辑非（!/not）运算


**🔸 基本用法**
```
理解逻辑非：反转布尔值

${!true}                 → false
${!false}                → true
${not empty username}    → username不为空时返回true

实际应用：
${!user.isDeleted}       → 用户未被删除
${not (age < 18)}        → 等同于 age >= 18
```

### 4.5 复合逻辑判断示例


**🔸 用户登录状态检查**
```jsp
<!-- 复杂的登录状态判断 -->
<c:choose>
    <c:when test="${empty sessionScope.user}">
        <p>请先登录</p>
    </c:when>
    <c:when test="${sessionScope.user.status == 'active' && sessionScope.user.loginTime != null}">
        <p>欢迎回来，${sessionScope.user.name}！</p>
    </c:when>
    <c:when test="${sessionScope.user.status == 'locked' || sessionScope.user.status == 'disabled'}">
        <p>账户异常，请联系管理员</p>
    </c:when>
    <c:otherwise>
        <p>账户状态未知</p>
    </c:otherwise>
</c:choose>
```

---

## 5. 🫗 empty运算符


### 5.1 empty运算符的作用


**简单理解**：empty就是用来检查"空"的专用工具

```
什么情况算"空"：
- null值
- 空字符串 ""
- 空集合 (size = 0)
- 空数组 (length = 0)
```

**🔸 基本语法**
```
检查是否为空：
${empty variable}        → 如果variable为空返回true

检查是否不为空：
${not empty variable}    → 如果variable不为空返回true
${!empty variable}       → 同上，另一种写法
```

### 5.2 不同数据类型的empty判断


**🔸 字符串类型**
```
字符串的empty判断：
${empty ""}              → true  (空字符串)
${empty "hello"}         → false (有内容)
${empty null}            → true  (null值)
${empty "   "}           → false (空格不算空)

实际应用：
<c:if test="${empty param.username}">
    <p style="color:red;">用户名不能为空！</p>
</c:if>
```

**🔸 集合类型**
```java
// Java代码设置数据
List<String> emptyList = new ArrayList<>();  // 空集合
List<String> dataList = Arrays.asList("a", "b");  // 有数据的集合
request.setAttribute("emptyList", emptyList);
request.setAttribute("dataList", dataList);
```

```jsp
<!-- JSP页面检查 -->
${empty emptyList}       → true  (空集合)
${empty dataList}        → false (有元素的集合)

<c:if test="${not empty dataList}">
    <ul>
        <c:forEach var="item" items="${dataList}">
            <li>${item}</li>
        </c:forEach>
    </ul>
</c:if>
```

**🔸 数组类型**
```java
// Java代码
String[] emptyArray = new String[0];      // 空数组
String[] dataArray = {"apple", "banana"}; // 有数据的数组
```

```jsp
<!-- JSP检查 -->
${empty emptyArray}      → true
${empty dataArray}       → false
```

### 5.3 empty的实际应用场景


**🔸 表单验证**
```jsp
<!-- 用户注册表单验证 -->
<form action="register" method="post">
    <div>
        <label>用户名：</label>
        <input type="text" name="username" value="${param.username}" />
        <c:if test="${empty param.username && not empty param}">
            <span style="color:red;">用户名不能为空</span>
        </c:if>
    </div>
    
    <div>
        <label>邮箱：</label>  
        <input type="email" name="email" value="${param.email}" />
        <c:if test="${empty param.email && not empty param}">
            <span style="color:red;">邮箱不能为空</span>
        </c:if>
    </div>
</form>
```

**🔸 数据展示控制**
```jsp
<!-- 商品列表展示 -->
<c:choose>
    <c:when test="${empty productList}">
        <div class="no-data">
            <p>暂无商品数据</p>
            <img src="images/empty.png" alt="暂无数据" />
        </div>
    </c:when>
    <c:otherwise>
        <div class="product-grid">
            <c:forEach var="product" items="${productList}">
                <div class="product-item">
                    <h3>${product.name}</h3>
                    <p>价格：${product.price}</p>
                </div>
            </c:forEach>
        </div>
    </c:otherwise>
</c:choose>
```

---

## 6. 🔀 三元运算符


### 6.1 三元运算符基础


**简单理解**：三元运算符就是简化的if-else语句

```
基本格式：
条件 ? 值1 : 值2

含义：如果条件为真，返回值1；否则返回值2

Java对比：
// Java写法
String result = (score >= 60) ? "及格" : "不及格";

// EL写法  
${score >= 60 ? "及格" : "不及格"}
```

### 6.2 基本用法示例


**🔸 简单条件判断**
```jsp
<!-- 用户状态显示 -->
<p>账户状态：${user.isActive ? "激活" : "未激活"}</p>

<!-- 性别显示 -->
<p>性别：${user.gender == 1 ? "男" : "女"}</p>

<!-- 年龄分类 -->
<p>年龄段：${user.age >= 18 ? "成年人" : "未成年人"}</p>

<!-- 价格显示 -->
<p class="${product.price > 100 ? 'high-price' : 'normal-price'}">
    价格：￥${product.price}
</p>
```

### 6.3 复杂条件的三元运算


**🔸 嵌套三元运算符**
```jsp
<!-- 成绩等级判断 -->
<p>等级：${score >= 90 ? "优秀" : (score >= 80 ? "良好" : (score >= 60 ? "及格" : "不及格"))}</p>

<!-- 更清晰的写法 -->
<c:set var="grade" value="${score >= 90 ? '优秀' : 
                           score >= 80 ? '良好' : 
                           score >= 60 ? '及格' : '不及格'}" />
<p>等级：${grade}</p>
```

**🔸 结合empty使用**
```jsp
<!-- 用户头像显示 -->
<img src="${empty user.avatar ? '/images/default-avatar.png' : user.avatar}" 
     alt="用户头像" />

<!-- 用户昵称显示 -->
<h3>${empty user.nickname ? user.username : user.nickname}</h3>

<!-- 商品描述显示 -->
<p>${empty product.description ? "暂无描述" : product.description}</p>
```

### 6.4 实际应用场景


**🔸 表格数据显示**
```jsp
<table>
    <thead>
        <tr>
            <th>用户名</th>
            <th>状态</th>
            <th>最后登录</th>
            <th>操作</th>
        </tr>
    </thead>
    <tbody>
        <c:forEach var="user" items="${userList}">
            <tr>
                <td>${user.username}</td>
                <td>
                    <span class="${user.isActive ? 'status-active' : 'status-inactive'}">
                        ${user.isActive ? "正常" : "禁用"}
                    </span>
                </td>
                <td>${empty user.lastLoginTime ? "从未登录" : user.lastLoginTime}</td>
                <td>
                    <button class="${user.isActive ? 'btn-disable' : 'btn-enable'}">
                        ${user.isActive ? "禁用" : "启用"}
                    </button>
                </td>
            </tr>
        </c:forEach>
    </tbody>
</table>
```

**🔸 动态样式类**
```jsp
<!-- 消息列表 -->
<div class="message-list">
    <c:forEach var="msg" items="${messageList}">
        <div class="message-item ${msg.isRead ? 'read' : 'unread'} ${msg.priority > 1 ? 'important' : ''}">
            <h4>${msg.title}</h4>
            <p>${msg.content}</p>
            <small>${msg.isRead ? "已读" : "未读"} | ${msg.createTime}</small>
        </div>
    </c:forEach>
</div>
```

---

## 7. ⚖️ 运算符优先级


### 7.1 运算符优先级表


| **优先级** | **运算符** | **说明** | **示例** |
|-----------|----------|----------|---------|
| **1（最高）** | `()` | **括号** | `${(a + b) * c}` |
| **2** | `!`, `not`, `empty` | **一元运算符** | `${!flag}`, `${empty list}` |
| **3** | `*`, `/`, `div`, `%`, `mod` | **乘除运算** | `${a * b / c}` |
| **4** | `+`, `-` | **加减运算** | `${a + b - c}` |
| **5** | `<`, `>`, `<=`, `>=`, `lt`, `gt`, `le`, `ge` | **关系运算** | `${a < b && c > d}` |
| **6** | `==`, `!=`, `eq`, `ne` | **相等运算** | `${a == b || c != d}` |
| **7** | `&&`, `and` | **逻辑与** | `${a && b && c}` |
| **8** | `\|\|`, `or` | **逻辑或** | `${a \|\| b \|\| c}` |
| **9（最低）** | `? :` | **三元运算符** | `${condition ? value1 : value2}` |

### 7.2 优先级实例分析


**🔸 混合运算示例**
```jsp
<!-- 复杂表达式拆解 -->
${5 + 3 * 2 > 10 && !empty name}

<!-- 按优先级执行顺序： -->
<!-- 1. 3 * 2 = 6          (乘法优先级高) -->
<!-- 2. 5 + 6 = 11         (加法次之) -->  
<!-- 3. 11 > 10 = true     (关系运算) -->
<!-- 4. !empty name        (一元运算符) -->
<!-- 5. true && (第4步结果) (逻辑与最后) -->
```

**🔸 使用括号明确优先级**
```jsp
<!-- 不清晰的表达式 -->
${price * quantity + shipping > 100 && user.level >= 2}

<!-- 清晰的表达式 -->
${(price * quantity + shipping) > 100 && user.level >= 2}

<!-- 更复杂的情况 -->
${((price * quantity) * (1 - discount) + shipping) > 100 && (user.level >= 2 || user.isVip)}
```

### 7.3 避免优先级陷阱


**🔸 常见错误示例**
```jsp
<!-- 错误：意图检查age在18-60之间 -->
${18 <= age <= 60}        ❌ 语法错误

<!-- 正确写法 -->
${age >= 18 && age <= 60} ✅

<!-- 错误：字符串连接优先级 -->
${"结果是：" + 5 + 3}      ❌ 结果："结果是：53"

<!-- 正确写法 -->  
${"结果是：" + (5 + 3)}    ✅ 结果："结果是：8"
```

---

## 8. 📋 核心要点总结


### 8.1 必须掌握的基本概念


```
🔸 运算符分类：算术、关系、逻辑、empty、三元五大类
🔸 自动转换：EL会智能处理数据类型转换和null值
🔸 安全特性：不会出现空指针异常，遇到null智能处理
🔸 简化语法：比Java代码更简洁，适合在页面中使用
🔸 优先级：掌握基本优先级，复杂时使用括号明确
```

### 8.2 关键理解要点


**🔹 为什么EL运算符如此实用**
```
传统JSP脚本：
<% 
    if(user != null && user.getName() != null) {
        out.print("欢迎 " + user.getName());
    } else {
        out.print("请登录");
    }
%>

EL表达式：
${user != null ? "欢迎 " + user.name : "请登录"}

优势：代码简洁、类型安全、null安全
```

**🔹 empty运算符的重要性**
```
开发中的常见需求：
- 表单验证：检查输入是否为空
- 数据展示：判断是否有数据要显示  
- 条件渲染：根据数据存在与否显示不同内容

empty运算符统一处理了null、空字符串、空集合等情况
```

**🔹 三元运算符的适用场景**
```
适合使用三元运算符：
- 简单的二选一显示
- 动态CSS类名
- 默认值设置

不适合使用三元运算符：
- 复杂的业务逻辑
- 多重嵌套条件
- 需要执行多个操作
```

### 8.3 实际开发指导


**🔹 最佳实践建议**
```
代码可读性：
✅ 使用括号明确复杂表达式的优先级
✅ 复杂逻辑拆分为多个简单表达式
✅ 使用有意义的变量名

性能考虑：
✅ 利用短路特性避免不必要的计算
✅ 简单判断使用三元运算符，复杂判断使用JSTL标签

安全编程：
✅ 始终考虑null值情况
✅ 使用empty检查集合和字符串
✅ 避免过深的三元运算符嵌套
```

**🔹 常见应用模式**
- **数据验证**：`${empty param.username ? "用户名必填" : ""}`
- **状态显示**：`${user.isActive ? "正常" : "禁用"}`
- **默认值**：`${empty user.avatar ? "/images/default.jpg" : user.avatar}`
- **条件样式**：`class="${score >= 60 ? 'pass' : 'fail'}"`
- **安全访问**：`${user != null && user.role == 'admin' ? "管理面板" : ""}`

**核心记忆**：
- EL运算符让JSP页面计算变简单
- 五类运算符各有用途，组合使用更强大
- empty专治各种"空"，三元运算符处理二选一
- 优先级记不清时，括号来帮忙