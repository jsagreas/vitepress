---
title: 12、构建节点管理
---
## 📚 目录

1. [Master-Slave架构概念](#1-master-slave架构概念)
2. [构建节点添加方法](#2-构建节点添加方法)
3. [SSH连接Slave配置](#3-ssh连接slave配置)
4. [JNLP连接方式](#4-jnlp连接方式)
5. [节点标签管理](#5-节点标签管理)
6. [构建环境隔离](#6-构建环境隔离)
7. [节点资源监控](#7-节点资源监控)
8. [节点故障处理](#8-节点故障处理)
9. [核心要点总结](#9-核心要点总结)

---

## 1. 🏗️ Master-Slave架构概念


### 1.1 什么是Master-Slave架构


**通俗理解**：就像一个公司的组织架构
- **Master（主节点）**：相当于老板，负责管理和调度工作
- **Slave（从节点）**：相当于员工，负责具体干活

```
简单类比：
包工头（Master）：接活、分配任务、监督进度
工人（Slave）：具体施工、汇报结果

Jenkins架构：
Master节点：管理界面、任务调度、结果收集  
Slave节点：执行构建、运行测试、部署应用
```

### 1.2 为什么需要多节点架构


**🔸 解决单机限制问题**

传统单机Jenkins的问题：
- **性能瓶颈**：一台机器处理所有构建任务，容易卡顿
- **资源不足**：内存、CPU、磁盘空间有限
- **环境冲突**：不同项目需要不同的运行环境

多节点架构的优势：
- **并行构建**：多个任务同时在不同机器上执行
- **环境隔离**：Java项目在Java环境节点，Python项目在Python环境节点
- **负载分散**：避免单点压力过大

### 1.3 架构工作原理


**🔸 工作流程图示**

```
┌─────────────────┐    任务分发    ┌─────────────────┐
│   Master节点    │ =============> │   Slave节点1    │
│  - Web界面      │                │  - Java环境     │
│  - 任务调度     │                │  - 执行构建     │
│  - 插件管理     │                └─────────────────┘
└─────────────────┘
         ║                         ┌─────────────────┐
         ╚══════════════════════=> │   Slave节点2    │
                任务分发            │  - Python环境   │
                                   │  - 执行测试     │
                                   └─────────────────┘
```

**工作步骤**：
1. 用户通过Web界面触发构建任务
2. Master节点根据任务需求选择合适的Slave节点
3. Slave节点执行具体的构建、测试、部署工作
4. 执行结果返回给Master节点
5. Master节点在Web界面显示结果

### 1.4 节点类型详解


| 节点类型 | **作用** | **特点** | **使用场景** |
|---------|----------|----------|-------------|
| **Master节点** | `管理调度中心` | `不直接执行构建任务` | `小团队可以执行构建` |
| **永久Slave节点** | `专用构建机器` | `长期在线，性能稳定` | `核心业务构建` |
| **按需Slave节点** | `临时构建资源` | `用完即销毁，成本低` | `偶发性大量构建` |
| **Docker节点** | `容器化构建环境` | `环境一致，启动快速` | `微服务项目构建` |

---

## 2. ➕ 构建节点添加方法


### 2.1 添加节点的前置准备


**🔸 硬件要求检查**

最基本的要求：
- **CPU**：至少2核心（推荐4核心以上）
- **内存**：最少4GB（推荐8GB以上）
- **磁盘**：至少50GB可用空间
- **网络**：与Master节点网络互通

**🔸 软件环境准备**

必需软件：
- **Java运行环境**：JDK 8或11（与Master版本保持一致）
- **操作系统**：Linux、Windows或macOS
- **网络工具**：SSH客户端（Linux/macOS自带，Windows需安装）

### 2.2 通过Web界面添加节点


**步骤一：进入节点管理页面**

1. 登录Jenkins Master
2. 点击 `Manage Jenkins`（管理Jenkins）
3. 选择 `Manage Nodes and Clouds`（管理节点和云）
4. 点击 `New Node`（新建节点）

**步骤二：基本信息配置**

```
节点配置示例：
┌─────────────────────────────────┐
│ 节点名称：build-server-01       │
│ 类型：永久代理                   │
│ 描述：Java项目专用构建服务器     │
│ 执行器数量：2                   │
│ 远程工作目录：/var/jenkins      │
│ 标签：java maven linux          │
│ 用法：只构建标签匹配的作业       │
└─────────────────────────────────┘
```

**关键参数解释**：
- **执行器数量**：该节点能同时运行几个构建任务
- **远程工作目录**：Slave节点上Jenkins工作的文件夹
- **标签**：给节点打标签，方便任务分配
- **用法**：决定什么情况下使用这个节点

### 2.3 连接方式选择


**🔸 主要连接方式对比**

| 连接方式 | **适用场景** | **优点** | **缺点** |
|---------|-------------|----------|----------|
| **SSH** | `Linux/Unix环境` | `安全稳定，配置简单` | `需要SSH服务` |
| **JNLP** | `Windows环境或网络受限` | `穿透防火墙能力强` | `配置相对复杂` |
| **Windows服务** | `Windows专用` | `系统集成度高` | `只支持Windows` |

---

## 3. 🔐 SSH连接Slave配置


### 3.1 SSH连接原理


**通俗理解**：SSH就像一条加密的隧道
- Master节点通过这条隧道远程登录到Slave节点
- 就像你用远程桌面连接另一台电脑，但更安全

```
SSH连接示意图：
Master节点                    Slave节点
    │                           │
    │ ──SSH加密隧道──────────────► │
    │   用户名：jenkins           │ 
    │   密钥：private_key         │
    │                           │
    └─ 发送构建命令 ──────────────► └─ 执行并返回结果
```

### 3.2 SSH密钥配置步骤


**步骤一：在Master节点生成密钥对**

在Master节点执行：
```bash
# 生成SSH密钥对
ssh-keygen -t rsa -b 4096 -C "jenkins@master"

# 会在 ~/.ssh/ 目录下生成：
# id_rsa（私钥）- 保存在Master节点
# id_rsa.pub（公钥）- 复制到Slave节点
```

**步骤二：配置Slave节点**

在Slave节点执行：
```bash
# 创建jenkins用户
sudo useradd -m jenkins
sudo mkdir -p /home/jenkins/.ssh

# 复制公钥到Slave节点
sudo nano /home/jenkins/.ssh/authorized_keys
# 将Master节点的id_rsa.pub内容粘贴到这里

# 设置正确的权限
sudo chmod 700 /home/jenkins/.ssh
sudo chmod 600 /home/jenkins/.ssh/authorized_keys
sudo chown -R jenkins:jenkins /home/jenkins/.ssh
```

**步骤三：在Jenkins中配置SSH凭据**

1. 进入 `Manage Jenkins` → `Manage Credentials`
2. 添加新凭据，类型选择 `SSH Username with private key`
3. 填写配置：

```
凭据配置：
┌─────────────────────────────────┐
│ ID：slave-ssh-key               │
│ 描述：Slave节点SSH连接密钥       │
│ 用户名：jenkins                 │
│ 私钥：直接输入（复制id_rsa内容） │
└─────────────────────────────────┘
```

### 3.3 完成SSH节点配置


在添加节点时选择启动方式为 `Launch slave agents via SSH`：

```
SSH配置参数：
┌─────────────────────────────────┐
│ 主机：192.168.1.100             │
│ 凭据：slave-ssh-key             │  
│ 主机密钥验证策略：手动信任      │
│ JavaPath：/usr/bin/java         │
│ JVM选项：-Xmx2g                 │
└─────────────────────────────────┘
```

> 💡 **新手提示**：第一次连接可能需要手动确认主机指纹，这是正常的安全验证过程

---

## 4. 🔗 JNLP连接方式


### 4.1 JNLP连接原理


**通俗理解**：JNLP就像"主动汇报"机制
- SSH是Master"推"命令到Slave
- JNLP是Slave"拉"任务从Master

```
JNLP连接示意图：
Master节点                    Slave节点
    │                           │
    │ ◄───── 我要任务！ ─────────── │ 
    │ ─────► 给你任务 ───────────► │ 
    │ ◄───── 完成了！ ─────────── │
    │                           │
```

**适用场景**：
- Slave节点在防火墙后面，SSH连接困难
- Windows环境，SSH配置复杂
- 网络环境复杂，需要Slave主动连接

### 4.2 JNLP节点配置步骤


**步骤一：在Jenkins中配置节点**

选择启动方式为 `Launch agent by connecting it to the master`：

```
JNLP配置示例：
┌─────────────────────────────────┐
│ 启动方式：通过Java Web Start    │
│ 隧道连接：50000（默认端口）     │
│ 可用性：保持在线                │
└─────────────────────────────────┘
```

**步骤二：下载agent程序**

Jenkins会提供下载链接和启动命令：
```bash
# 下载agent.jar
wget http://jenkins-master:8080/jnlpJars/agent.jar

# 获取连接密钥（在节点配置页面显示）
# Secret: a1b2c3d4e5f6...
```

**步骤三：启动Slave代理**

在Slave节点执行：
```bash
# 启动JNLP代理
java -jar agent.jar -jnlpUrl http://jenkins-master:8080/computer/slave-01/slave-agent.jnlp -secret a1b2c3d4e5f6... -workDir /var/jenkins
```

### 4.3 Windows环境JNLP配置


**创建Windows服务**：

1. 下载 `winsw.exe`（Windows Service Wrapper）
2. 创建配置文件 `jenkins-slave.xml`：

```xml
<service>
  <id>jenkins-slave</id>
  <name>Jenkins Slave</name>
  <description>Jenkins构建代理服务</description>
  <executable>java</executable>
  <arguments>-jar agent.jar -jnlpUrl http://jenkins-master:8080/computer/slave-01/slave-agent.jnlp -secret a1b2c3d4e5f6...</arguments>
  <workingdirectory>C:\jenkins</workingdirectory>
  <logpath>C:\jenkins\logs</logpath>
  <log mode="roll-by-size">
    <sizeThreshold>10240</sizeThreshold>
    <keepFiles>8</keepFiles>
  </log>
</service>
```

3. 安装服务：
```cmd
winsw.exe install jenkins-slave.xml
winsw.exe start jenkins-slave
```

> ⚠️ **注意事项**：JNLP连接需要确保Master节点的50000端口（或自定义端口）对Slave节点开放

---

## 5. 🏷️ 节点标签管理


### 5.1 标签的作用和意义


**通俗理解**：标签就像给员工贴"技能标签"
- 会Java的员工贴"java"标签
- 会Python的员工贴"python"标签
- 有特殊设备的员工贴"gpu"标签

这样分配任务时就知道该派谁去干活了。

```
标签分类示例：
┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐
│   构建环境标签   │  │   硬件配置标签   │  │   项目类型标签   │
│   java          │  │   high-memory   │  │   frontend      │
│   python        │  │   gpu           │  │   backend       │  
│   node          │  │   ssd           │  │   mobile        │
│   docker        │  │   linux         │  │   test          │
└─────────────────┘  └─────────────────┘  └─────────────────┘
```

### 5.2 标签命名规范


**🔸 推荐的标签命名规范**

```
# 按类型分类标签
操作系统：linux, windows, macos
编程语言：java8, java11, python3.8, node16
构建工具：maven, gradle, npm, docker
硬件特性：gpu, high-memory, ssd
项目用途：frontend, backend, mobile, test
```

**好的标签示例**：
- `java11-maven-linux`：Java 11 + Maven + Linux环境
- `python3.8-gpu`：Python 3.8 + GPU支持
- `frontend-node16`：前端项目 + Node.js 16

**避免的标签命名**：
- 过于复杂：`java11-maven3.6.3-linux-centos7-ssd-16gb`
- 太模糊：`server1`, `good`, `fast`

### 5.3 标签在Pipeline中的使用


**基本语法**：
```groovy
pipeline {
    agent {
        label 'java11 && linux'  // 需要同时有java11和linux标签
    }
    stages {
        stage('Build') {
            steps {
                sh 'mvn clean compile'
            }
        }
    }
}
```

**多节点并行构建**：
```groovy
pipeline {
    agent none
    stages {
        stage('并行构建') {
            parallel {
                stage('Java构建') {
                    agent { label 'java11' }
                    steps {
                        sh 'mvn clean package'
                    }
                }
                stage('前端构建') {
                    agent { label 'node16' }
                    steps {
                        sh 'npm run build'
                    }
                }
            }
        }
    }
}
```

### 5.4 动态标签管理


**使用NodeProperties插件**：

可以根据时间、负载等条件动态调整节点标签：
```groovy
// 工作时间标签
if (现在是工作时间) {
    节点.addLabel("work-hours")
} else {
    节点.addLabel("off-hours")
}
```

---

## 6. 🏠 构建环境隔离


### 6.1 为什么需要环境隔离


**通俗类比**：就像不同的实验室
- 化学实验室：防止化学物质污染
- 生物实验室：防止细菌交叉感染
- 构建环境：防止不同项目相互干扰

```
环境冲突示例：
项目A需要：Java 8 + Maven 3.6
项目B需要：Java 11 + Maven 3.8
在同一机器上构建 → 版本冲突！

解决方案：
项目A → Java8专用节点
项目B → Java11专用节点
```

### 6.2 基于Docker的环境隔离


**🔸 Docker容器隔离原理**

每个构建任务都在独立的容器中运行：
```
┌─────────────────────────────────────────────┐
│              物理服务器                      │
│  ┌─────────────┐  ┌─────────────┐            │
│  │ Java8容器   │  │ Python容器  │            │
│  │ 项目A构建   │  │ 项目B构建   │            │
│  └─────────────┘  └─────────────┘            │
│  ┌─────────────┐  ┌─────────────┐            │  
│  │ Node容器    │  │ .NET容器    │            │
│  │ 项目C构建   │  │ 项目D构建   │            │
│  └─────────────┘  └─────────────┘            │
└─────────────────────────────────────────────┘
```

**Pipeline中使用Docker**：
```groovy
pipeline {
    agent {
        docker {
            image 'maven:3.8-openjdk-11'
            args '-v $HOME/.m2:/root/.m2'
        }
    }
    stages {
        stage('Build') {
            steps {
                sh 'mvn clean package'
            }
        }
    }
}
```

### 6.3 工作空间隔离


**🔸 独立工作空间配置**

每个项目使用独立的工作目录：
```
Jenkins工作空间结构：
/var/jenkins/
├── workspace/
│   ├── project-a/          # 项目A的工作空间
│   ├── project-b/          # 项目B的工作空间
│   └── project-c/          # 项目C的工作空间
├── tools/                  # 共享工具
└── logs/                   # 日志文件
```

**在Pipeline中指定工作空间**：
```groovy
pipeline {
    agent {
        label 'java11'
    }
    options {
        // 自定义工作空间
        dir('/custom/workspace/my-project')
    }
    stages {
        stage('Build') {
            steps {
                sh 'pwd'  // 显示当前工作目录
            }
        }
    }
}
```

### 6.4 资源隔离策略


**🔸 CPU和内存隔离**

使用容器限制资源使用：
```groovy
pipeline {
    agent {
        docker {
            image 'maven:3.8-openjdk-11'
            args '--memory=2g --cpus=2'  // 限制内存2GB，CPU 2核
        }
    }
}
```

**🔸 网络隔离**

为不同项目创建独立的网络环境：
```bash
# 创建专用网络
docker network create project-a-network

# 在Pipeline中使用
args '--network=project-a-network'
```

---

## 7. 📊 节点资源监控


### 7.1 监控的重要性


**通俗理解**：就像体检报告
- 看看机器"身体状况"怎么样
- 发现问题及时"治疗"
- 预防"生病"影响工作

```
监控指标类比：
CPU使用率 = 大脑忙碌程度
内存使用 = 记忆力占用情况  
磁盘空间 = 储物空间剩余
网络流量 = 沟通交流频率
```

### 7.2 Jenkins内置监控


**🔸 节点状态查看**

在 `Manage Jenkins` → `Manage Nodes` 中可以看到：
- **在线状态**：节点是否正常连接
- **执行器状态**：正在运行的任务数量
- **标签信息**：节点的能力标签
- **系统信息**：操作系统、Java版本等

```
节点状态面板示例：
┌─────────────────────────────────────────┐
│ 节点名称    │ 状态 │ 执行器 │ 空闲时间  │
├─────────────────────────────────────────┤
│ build-01    │ 在线 │ 1/2   │ 5分钟     │
│ build-02    │ 在线 │ 0/4   │ 1小时     │  
│ build-03    │ 离线 │ -     │ -         │
└─────────────────────────────────────────┘
```

### 7.3 系统资源监控


**安装Monitoring插件**：

1. 安装 `Monitoring` 插件
2. 在 `Manage Jenkins` → `Monitoring` 查看详细信息

**监控内容包括**：
- **JVM内存使用**：堆内存、非堆内存使用情况
- **CPU负载**：系统负载和Jenkins进程负载  
- **HTTP会话**：活动用户会话数量
- **数据库连接**：如果使用外部数据库

### 7.4 自定义监控脚本


**简单的资源监控脚本**：
```bash
#!/bin/bash
# 节点健康检查脚本

echo "=== 节点资源监控报告 ==="
echo "时间：$(date)"
echo "主机名：$(hostname)"
echo ""

# CPU使用率
echo "CPU使用率："
top -bn1 | grep "Cpu(s)" | awk '{print $2}' | sed 's/%us,//'

# 内存使用
echo "内存使用："
free -h | grep Mem | awk '{print "已用: "$3" / 总计: "$2}'

# 磁盘空间
echo "磁盘使用："
df -h | grep -E "/$|/var" | awk '{print $6": "$5" 已用"}'

# Jenkins进程状态
echo "Jenkins代理进程："
ps aux | grep jenkins | grep -v grep | wc -l
```

### 7.5 告警机制设置


**🔸 邮件告警配置**

当节点离线时发送邮件通知：
```groovy
pipeline {
    agent any
    stages {
        stage('节点健康检查') {
            steps {
                script {
                    def offlineNodes = Jenkins.instance.nodes.findAll { 
                        !it.computer.online 
                    }
                    if (offlineNodes) {
                        mail to: 'admin@company.com',
                             subject: 'Jenkins节点离线告警',
                             body: "以下节点离线: ${offlineNodes.collect{it.name}.join(', ')}"
                    }
                }
            }
        }
    }
}
```

**🔸 Slack集成告警**

使用Slack插件发送实时告警：
```groovy
// 当构建失败时发送Slack消息
slackSend channel: '#devops',
          color: 'danger', 
          message: "节点 ${env.NODE_NAME} 构建失败！"
```

---

## 8. 🔧 节点故障处理


### 8.1 常见故障类型


**🔸 连接问题**

| 故障现象 | **可能原因** | **解决方法** |
|---------|-------------|-------------|
| `节点显示离线` | `网络连接中断` | `检查网络连通性` |
| `SSH连接失败` | `密钥过期或权限问题` | `重新配置SSH密钥` |
| `JNLP连接超时` | `防火墙阻拦或端口未开放` | `检查防火墙设置` |

**🔸 性能问题**

| 故障现象 | **可能原因** | **解决方法** |
|---------|-------------|-------------|
| `构建速度慢` | `资源不足或磁盘满` | `升级硬件或清理磁盘` |
| `内存溢出` | `JVM堆内存设置过小` | `增加内存参数` |
| `任务排队` | `执行器数量不足` | `增加执行器或添加节点` |

### 8.2 节点离线故障排查


**步骤一：检查基础连接**

```bash
# 从Master节点测试网络连通性
ping slave-node-ip

# 测试SSH连接
ssh jenkins@slave-node-ip

# 检查端口是否开放
telnet slave-node-ip 22    # SSH端口
telnet slave-node-ip 50000 # JNLP端口
```

**步骤二：检查节点服务状态**

在Slave节点执行：
```bash
# 检查SSH服务
sudo systemctl status ssh

# 检查Java进程
ps aux | grep java

# 检查磁盘空间
df -h

# 检查内存使用
free -h
```

**步骤三：查看Jenkins日志**

在Master节点查看：
- 节点日志：`Manage Jenkins` → `Manage Nodes` → 点击节点名 → `Log`
- 系统日志：`Manage Jenkins` → `System Log`

### 8.3 性能问题优化


**🔸 JVM参数调优**

为Slave代理增加JVM参数：
```bash
# SSH方式：在节点配置的"JVM选项"中添加
-Xmx4g -XX:+UseG1GC -XX:MaxGCPauseMillis=200

# JNLP方式：启动命令中添加
java -Xmx4g -XX:+UseG1GC -jar agent.jar ...
```

**🔸 并发执行器优化**

根据机器配置合理设置执行器数量：
```
执行器数量建议：
CPU核心数 ≤ 4：执行器数量 = CPU核心数
CPU核心数 > 4：执行器数量 = CPU核心数 - 1

例如：
8核CPU → 设置7个执行器
16核CPU → 设置15个执行器
```

### 8.4 故障恢复流程


**🔸 自动恢复脚本**

创建节点监控和自动恢复脚本：
```bash
#!/bin/bash
# 节点自动恢复脚本

JENKINS_URL="http://jenkins-master:8080"
NODE_NAME="build-server-01"

# 检查节点状态
if ! curl -s "$JENKINS_URL/computer/$NODE_NAME/api/json" | grep -q '"offline":false'; then
    echo "节点离线，尝试重启..."
    
    # 重启Jenkins代理服务
    sudo systemctl restart jenkins-slave
    
    # 等待30秒检查状态
    sleep 30
    
    # 再次检查
    if ! curl -s "$JENKINS_URL/computer/$NODE_NAME/api/json" | grep -q '"offline":false'; then
        # 发送告警
        echo "节点恢复失败，请人工介入" | mail -s "Jenkins节点故障" admin@company.com
    else
        echo "节点恢复成功"
    fi
fi
```

**🔸 预防性维护**

定期执行维护任务：
```bash
# 每周执行的维护脚本
#!/bin/bash

# 清理旧的构建文件
find /var/jenkins/workspace -name "target" -type d -mtime +7 -exec rm -rf {} \;

# 清理日志文件
find /var/jenkins/logs -name "*.log" -mtime +30 -delete

# 检查磁盘使用率
DISK_USAGE=$(df /var/jenkins | tail -1 | awk '{print $5}' | sed 's/%//')
if [ $DISK_USAGE -gt 80 ]; then
    echo "磁盘使用率超过80%，请清理空间" | mail -s "磁盘空间告警" admin@company.com
fi
```

---

## 9. 📋 核心要点总结


### 9.1 必须掌握的核心概念


```
🔸 Master-Slave架构：分工合作，Master管理调度，Slave执行任务
🔸 连接方式选择：SSH适合Linux，JNLP适合复杂网络环境
🔸 节点标签管理：合理打标签，精确分配任务
🔸 环境隔离：防止项目间相互干扰，保证构建稳定性
🔸 资源监控：及时发现问题，预防故障发生
🔸 故障处理：建立标准流程，快速恢复服务
```

### 9.2 关键理解要点


**🔹 为什么需要多节点**
```
单节点限制：
- 性能瓶颈：一台机器处理能力有限
- 环境冲突：不同项目需求不同
- 可靠性风险：单点故障影响全部任务

多节点优势：
- 并行处理：多任务同时执行，效率倍增
- 环境专用：专机专用，避免冲突
- 负载分散：分摊压力，提高稳定性
```

**🔹 连接方式如何选择**
```
SSH连接：
✅ 适合：Linux环境，网络简单
✅ 优点：配置简单，安全稳定
❌ 限制：需要SSH服务支持

JNLP连接：
✅ 适合：Windows环境，复杂网络
✅ 优点：穿透防火墙能力强
❌ 限制：配置复杂，依赖Java
```

**🔹 标签管理的意义**
```
没有标签的问题：
- 任务随机分配，可能分配到不合适的节点
- Java项目分配到Python环境节点 → 构建失败

有标签的好处：
- 精确匹配：Java项目只在Java节点执行
- 资源优化：高性能任务分配到高配置节点
- 环境一致：相同环境标签保证构建一致性
```

### 9.3 实际应用指导


**🎯 小团队节点规划**
```
团队规模：5-10人
项目类型：Java Web应用

推荐配置：
- Master节点：4核8GB，管理界面和轻量构建
- Slave节点1：8核16GB，Java后端构建
- Slave节点2：4核8GB，前端构建和测试

标签规划：
- java11-maven-backend
- node16-frontend  
- test-environment
```

**🎯 中大型团队节点规划**
```
团队规模：20+人
项目类型：微服务架构

推荐配置：
- Master节点：专用管理，不执行构建
- 构建节点池：按技术栈分组（Java、Python、Node.js）
- 测试节点池：专用测试环境
- 部署节点：生产环境部署专用

高可用策略：
- 每个技术栈至少2个节点
- 关键环节设置备用节点
- 跨机房部署保证可靠性
```

### 9.4 最佳实践建议


**🔧 配置最佳实践**
```
节点命名规范：
- 用途-技术栈-序号：build-java-01, test-python-02
- 避免：server1, node-a 等无意义命名

资源配置原则：
- 执行器数量 ≈ CPU核心数 - 1
- 内存预留：系统预留2GB + Jenkins预留1GB
- 磁盘空间：至少100GB，推荐SSD

安全配置：
- SSH密钥定期更换
- 最小权限原则
- 网络访问控制
```

**🔧 运维最佳实践**
```
监控策略：
- 实时监控：CPU、内存、磁盘使用率
- 定期检查：节点在线状态、构建成功率
- 告警设置：离线告警、资源不足告警

维护策略：
- 定期清理：工作空间、日志文件
- 系统更新：操作系统、Java版本
- 备份恢复：重要配置和数据备份
```

**核心记忆**：
- 多节点分工协作，Master调度Slave执行
- SSH安全稳定，JNLP网络友好  
- 标签精确匹配，环境隔离保障
- 监控预防为主，故障快速恢复