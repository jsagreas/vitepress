---
title: 1ã€Jenkinsä¸»é…ç½®æ–‡ä»¶ç®¡ç†
---
## ğŸ“š ç›®å½•

1. [Jenkinsé…ç½®æ–‡ä»¶åŸºç¡€æ¦‚å¿µ](#1-jenkinsé…ç½®æ–‡ä»¶åŸºç¡€æ¦‚å¿µ)
2. [jenkins.xmlæ ¸å¿ƒé…ç½®æ–‡ä»¶](#2-jenkinsxmlæ ¸å¿ƒé…ç½®æ–‡ä»¶)
3. [config.xmlå…¨å±€é…ç½®æ–‡ä»¶](#3-configxmlå…¨å±€é…ç½®æ–‡ä»¶)
4. [JENKINS_HOMEç¯å¢ƒå˜é‡ç®¡ç†](#4-jenkins_homeç¯å¢ƒå˜é‡ç®¡ç†)
5. [jenkins.model.Jenkins.xmlç³»ç»Ÿé…ç½®](#5-jenkinsmodeljenkinsxmlç³»ç»Ÿé…ç½®)
6. [é…ç½®æ–‡ä»¶å¤‡ä»½ä¸æ¢å¤ç­–ç•¥](#6-é…ç½®æ–‡ä»¶å¤‡ä»½ä¸æ¢å¤ç­–ç•¥)
7. [é…ç½®æ–‡ä»¶æƒé™è®¾ç½®](#7-é…ç½®æ–‡ä»¶æƒé™è®¾ç½®)
8. [é…ç½®çƒ­é‡è½½æœºåˆ¶](#8-é…ç½®çƒ­é‡è½½æœºåˆ¶)
9. [å¤šå®ä¾‹é…ç½®æ–‡ä»¶éš”ç¦»](#9-å¤šå®ä¾‹é…ç½®æ–‡ä»¶éš”ç¦»)
10. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#10-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ¯ Jenkinsé…ç½®æ–‡ä»¶åŸºç¡€æ¦‚å¿µ


### 1.1 ä»€ä¹ˆæ˜¯Jenkinsé…ç½®æ–‡ä»¶


**ğŸ”¸ ç®€å•ç†è§£**
```
Jenkinsé…ç½®æ–‡ä»¶å°±åƒæ˜¯Jenkinsçš„"èº«ä»½è¯"å’Œ"è¯´æ˜ä¹¦"ï¼š
- å‘Šè¯‰Jenkinså¦‚ä½•å¯åŠ¨ï¼ˆjenkins.xmlï¼‰
- è®°å½•Jenkinsçš„å…¨å±€è®¾ç½®ï¼ˆconfig.xmlï¼‰
- ä¿å­˜æ‰€æœ‰çš„é¡¹ç›®é…ç½®ã€ç”¨æˆ·ä¿¡æ¯ã€æ’ä»¶è®¾ç½®ç­‰

å°±åƒä½ çš„ç”µè„‘æœ‰ç³»ç»Ÿè®¾ç½®ä¸€æ ·ï¼ŒJenkinsä¹Ÿéœ€è¦è¿™äº›æ–‡ä»¶æ¥"è®°ä½"ï¼š
âœ… ç³»ç»Ÿè¿è¡Œå‚æ•°ï¼ˆå†…å­˜å¤§å°ã€ç«¯å£å·ç­‰ï¼‰
âœ… å®‰å…¨è®¾ç½®ï¼ˆç”¨æˆ·æƒé™ã€è®¤è¯æ–¹å¼ç­‰ï¼‰
âœ… å…¨å±€å·¥å…·é…ç½®ï¼ˆJDKè·¯å¾„ã€Gitè·¯å¾„ç­‰ï¼‰
âœ… æ’ä»¶é…ç½®ï¼ˆå®‰è£…äº†å“ªäº›æ’ä»¶ï¼Œå¦‚ä½•é…ç½®ç­‰ï¼‰
```

### 1.2 Jenkinsé…ç½®æ–‡ä»¶çš„å±‚æ¬¡ç»“æ„


```
Jenkinsé…ç½®æ–‡ä»¶ä½“ç³»
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        ç³»ç»Ÿçº§é…ç½®æ–‡ä»¶            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚     jenkins.xml             â”‚ â”‚ â† æœåŠ¡å¯åŠ¨é…ç½®
â”‚  â”‚   (Windows Serviceé…ç½®)     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚     JENKINS_HOME            â”‚ â”‚ â† æ•°æ®ç›®å½•
â”‚  â”‚   â”œâ”€â”€ config.xml            â”‚ â”‚ â† å…¨å±€é…ç½®
â”‚  â”‚   â”œâ”€â”€ users/                â”‚ â”‚ â† ç”¨æˆ·ä¿¡æ¯
â”‚  â”‚   â”œâ”€â”€ jobs/                 â”‚ â”‚ â† é¡¹ç›®é…ç½®
â”‚  â”‚   â”œâ”€â”€ plugins/              â”‚ â”‚ â† æ’ä»¶æ•°æ®
â”‚  â”‚   â””â”€â”€ logs/                 â”‚ â”‚ â† æ—¥å¿—æ–‡ä»¶
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ç†è§£è¦ç‚¹ï¼š
- jenkins.xmlï¼šæ§åˆ¶JenkinsæœåŠ¡å¦‚ä½•å¯åŠ¨
- JENKINS_HOMEï¼šJenkinsçš„"å®¶ç›®å½•"ï¼Œæ‰€æœ‰æ•°æ®éƒ½åœ¨è¿™é‡Œ
- config.xmlï¼šJenkinsçš„"ä¸»è®¾ç½®æ–‡ä»¶"
```

### 1.3 é…ç½®æ–‡ä»¶çš„ä½œç”¨èŒƒå›´


| é…ç½®æ–‡ä»¶ç±»å‹ | **ä½œç”¨èŒƒå›´** | **å½±å“å†…å®¹** | **ä¿®æ”¹å½±å“** |
|-------------|------------|-------------|-------------|
| ğŸ”§ **jenkins.xml** | `æœåŠ¡çº§åˆ«` | `å¯åŠ¨å‚æ•°ã€JVMè®¾ç½®` | `éœ€è¦é‡å¯æœåŠ¡` |
| ğŸŒ **config.xml** | `å…¨å±€çº§åˆ«` | `ç³»ç»Ÿé…ç½®ã€å®‰å…¨è®¾ç½®` | `éƒ¨åˆ†å¯çƒ­é‡è½½` |
| ğŸ“ **jobé…ç½®æ–‡ä»¶** | `é¡¹ç›®çº§åˆ«` | `å•ä¸ªé¡¹ç›®çš„æ„å»ºé…ç½®` | `ç«‹å³ç”Ÿæ•ˆ` |
| ğŸ‘¤ **ç”¨æˆ·é…ç½®æ–‡ä»¶** | `ç”¨æˆ·çº§åˆ«` | `ä¸ªäººè®¾ç½®ã€APIä»¤ç‰Œ` | `ç«‹å³ç”Ÿæ•ˆ` |

---

## 2. âš™ï¸ jenkins.xmlæ ¸å¿ƒé…ç½®æ–‡ä»¶


### 2.1 jenkins.xmlæ–‡ä»¶ä½ç½®


**ğŸ“ åœ¨ä¸åŒç³»ç»Ÿä¸­çš„ä½ç½®**
```
Windowsç³»ç»Ÿï¼š
C:\Program Files\Jenkins\jenkins.xml
æˆ–
C:\Program Files (x86)\Jenkins\jenkins.xml

Linuxç³»ç»Ÿï¼ˆsystemdæœåŠ¡ï¼‰ï¼š
/etc/systemd/system/jenkins.service
æˆ–
/usr/lib/systemd/system/jenkins.service

Linuxç³»ç»Ÿï¼ˆä¼ ç»Ÿinitï¼‰ï¼š
/etc/init.d/jenkins
```

> ğŸ’¡ **æ–°æ‰‹æç¤º**ï¼šjenkins.xmlä¸»è¦åœ¨Windowsç³»ç»Ÿä¸­ä½¿ç”¨ï¼ŒLinuxç³»ç»Ÿé€šå¸¸ä½¿ç”¨systemdæœåŠ¡æ–‡ä»¶æˆ–initè„šæœ¬

### 2.2 jenkins.xmlæ–‡ä»¶ç»“æ„è§£æ


**ğŸ”¸ åŸºæœ¬ç»“æ„è¯´æ˜**
```xml
<!-- è¿™æ˜¯Windows Serviceçš„é…ç½®æ–‡ä»¶ -->
<service>
  <!-- æœåŠ¡åŸºæœ¬ä¿¡æ¯ -->
  <id>jenkins</id>
  <name>Jenkins</name>
  <description>Jenkins CI Server</description>
  
  <!-- Javaè™šæ‹Ÿæœºé…ç½® -->
  <executable>java</executable>
  <arguments>-Xmx1024m -jar jenkins.war --httpPort=8080</arguments>
  
  <!-- æœåŠ¡è¡Œä¸ºé…ç½® -->
  <onfailure action="restart" delay="10 sec"/>
  <resetfailure>1 day</resetfailure>
</service>
```

### 2.3 é‡è¦é…ç½®å‚æ•°è¯¦è§£


**ğŸ”§ å†…å­˜é…ç½®å‚æ•°**
```xml
<!-- JVMå†…å­˜è®¾ç½® -->
<arguments>
  -Xms512m          <!-- åˆå§‹å †å†…å­˜ï¼š512MB -->
  -Xmx2048m         <!-- æœ€å¤§å †å†…å­˜ï¼š2GB -->
  -XX:MaxPermSize=256m  <!-- æ°¸ä¹…ä»£å†…å­˜ï¼š256MB -->
  -jar jenkins.war
  --httpPort=8080
</arguments>
```

**ğŸŒ ç½‘ç»œé…ç½®å‚æ•°**
```xml
<arguments>
  -jar jenkins.war
  --httpPort=8080        <!-- HTTPç«¯å£ -->
  --httpsPort=8443      <!-- HTTPSç«¯å£ -->
  --prefix=/jenkins     <!-- URLå‰ç¼€ -->
  --sessionTimeout=30   <!-- ä¼šè¯è¶…æ—¶ï¼ˆåˆ†é’Ÿï¼‰ -->
</arguments>
```

### 2.4 Jenkinså¯åŠ¨å‚æ•°ä¼˜åŒ–


**âš¡ æ€§èƒ½ä¼˜åŒ–é…ç½®**
```xml
<arguments>
  <!-- å†…å­˜ä¼˜åŒ– -->
  -Xms1g -Xmx4g
  -XX:+UseG1GC                    <!-- ä½¿ç”¨G1åƒåœ¾æ”¶é›†å™¨ -->
  -XX:+UseStringDeduplication     <!-- å­—ç¬¦ä¸²å»é‡ -->
  
  <!-- Jenkinsç‰¹å®šä¼˜åŒ– -->
  -Djenkins.install.runSetupWizard=false  <!-- è·³è¿‡åˆå§‹åŒ–å‘å¯¼ -->
  -Dhudson.DNSMultiCast.disabled=true     <!-- ç¦ç”¨DNSå¤šæ’­ -->
  -Djenkins.CLI.disabled=true             <!-- ç¦ç”¨CLIï¼ˆå®‰å…¨è€ƒè™‘ï¼‰ -->
  
  -jar jenkins.war --httpPort=8080
</arguments>
```

> âš ï¸ **å®‰å…¨æé†’**ï¼šç¦ç”¨CLIæ˜¯ä¸ºäº†é¿å…å®‰å…¨æ¼æ´ï¼Œé™¤éç¡®å®éœ€è¦ï¼Œå»ºè®®ä¿æŒç¦ç”¨çŠ¶æ€

---

## 3. ğŸ“‹ config.xmlå…¨å±€é…ç½®æ–‡ä»¶


### 3.1 config.xmlæ–‡ä»¶ä½ç½®å’Œä½œç”¨


**ğŸ“ æ–‡ä»¶ä½ç½®**
```
config.xmlä½ç½®ï¼š
$JENKINS_HOME/config.xml

ä½œç”¨è¯´æ˜ï¼š
è¿™ä¸ªæ–‡ä»¶æ˜¯Jenkinsçš„"å¤§è„‘"ï¼Œè®°å½•äº†ï¼š
âœ… ç³»ç»Ÿå…¨å±€è®¾ç½®
âœ… å®‰å…¨é…ç½®
âœ… å·¥å…·é…ç½®ï¼ˆJDKã€Gitã€Mavenç­‰ï¼‰
âœ… æ’ä»¶å…¨å±€é…ç½®
âœ… ç³»ç»Ÿæ¶ˆæ¯å’Œæè¿°
```

### 3.2 config.xmlæ ¸å¿ƒé…ç½®æ®µè½


**ğŸ”¸ åŸºæœ¬ç³»ç»Ÿä¿¡æ¯**
```xml
<hudson>
  <!-- Jenkinsç‰ˆæœ¬ä¿¡æ¯ -->
  <version>2.414.1</version>
  
  <!-- ç³»ç»Ÿæè¿°ä¿¡æ¯ -->
  <systemMessage>
    <![CDATA[æ¬¢è¿ä½¿ç”¨å…¬å¸Jenkins CI/CDå¹³å°]]>
  </systemMessage>
  
  <!-- å¹¶å‘æ„å»ºæ•°é‡ -->
  <numExecutors>2</numExecutors>
  
  <!-- æ„å»ºä¿ç•™ç­–ç•¥ -->
  <logRotator>
    <daysToKeep>30</daysToKeep>
    <numToKeep>100</numToKeep>
  </logRotator>
</hudson>
```

### 3.3 å®‰å…¨é…ç½®éƒ¨åˆ†


**ğŸ”’ ç”¨æˆ·è®¤è¯é…ç½®**
```xml
<!-- å®‰å…¨åŸŸé…ç½® -->
<securityRealm class="hudson.security.HudsonPrivateSecurityRealm">
  <disableSignup>false</disableSignup>
  <enableCaptcha>false</enableCaptcha>
</securityRealm>

<!-- æˆæƒç­–ç•¥é…ç½® -->
<authorizationStrategy class="hudson.security.FullControlOnceLoggedInAuthorizationStrategy">
  <denyAnonymousReadAccess>true</denyAnonymousReadAccess>
</authorizationStrategy>
```

> ğŸ’¡ **å®‰å…¨å»ºè®®**ï¼šç”Ÿäº§ç¯å¢ƒå»ºè®®ç¦ç”¨ç”¨æˆ·æ³¨å†Œï¼ˆdisableSignup=trueï¼‰å¹¶å¯ç”¨é€‚å½“çš„æˆæƒç­–ç•¥

### 3.4 å…¨å±€å·¥å…·é…ç½®


**ğŸ› ï¸ JDKé…ç½®ç¤ºä¾‹**
```xml
<globalToolConfiguration>
  <jdks>
    <jdk>
      <name>JDK8</name>
      <home>/usr/lib/jvm/java-8-openjdk</home>
      <properties/>
    </jdk>
    <jdk>
      <name>JDK11</name>
      <home>/usr/lib/jvm/java-11-openjdk</home>
      <properties/>
    </jdk>
  </jdks>
</globalToolConfiguration>
```

---

## 4. ğŸ  JENKINS_HOMEç¯å¢ƒå˜é‡ç®¡ç†


### 4.1 JENKINS_HOMEçš„é‡è¦æ€§


**ğŸ”¸ ä»€ä¹ˆæ˜¯JENKINS_HOME**
```
JENKINS_HOMEæ˜¯Jenkinsçš„"å®¶ç›®å½•"ï¼Œç±»ä¼¼äºï¼š
- Windowsç”¨æˆ·çš„"æˆ‘çš„æ–‡æ¡£"æ–‡ä»¶å¤¹
- Linuxç”¨æˆ·çš„å®¶ç›®å½• /home/username

JENKINS_HOMEé‡Œé¢å­˜æ”¾ï¼š
ğŸ“ config.xml         â† å…¨å±€é…ç½®
ğŸ“ jobs/              â† æ‰€æœ‰é¡¹ç›®çš„é…ç½®å’Œæ„å»ºå†å²
ğŸ“ users/             â† ç”¨æˆ·ä¿¡æ¯å’Œè®¾ç½®
ğŸ“ plugins/           â† å·²å®‰è£…çš„æ’ä»¶
ğŸ“ workspace/         â† é¡¹ç›®å·¥ä½œç©ºé—´
ğŸ“ logs/              â† ç³»ç»Ÿæ—¥å¿—
ğŸ“ secrets/           â† å®‰å…¨å¯†é’¥
```

### 4.2 è®¾ç½®JENKINS_HOMEç¯å¢ƒå˜é‡


**ğŸ”§ ä¸åŒç³»ç»Ÿçš„è®¾ç½®æ–¹æ³•**

**Windowsç³»ç»Ÿï¼š**
```cmd
# ä¸´æ—¶è®¾ç½®ï¼ˆå½“å‰ä¼šè¯æœ‰æ•ˆï¼‰
set JENKINS_HOME=D:\Jenkins

# æ°¸ä¹…è®¾ç½®ï¼ˆé€šè¿‡ç³»ç»Ÿå±æ€§ï¼‰
# æ§åˆ¶é¢æ¿ â†’ ç³»ç»Ÿ â†’ é«˜çº§ç³»ç»Ÿè®¾ç½® â†’ ç¯å¢ƒå˜é‡
# æ–°å»ºç³»ç»Ÿå˜é‡ï¼šJENKINS_HOME = D:\Jenkins
```

**Linuxç³»ç»Ÿï¼š**
```bash
# ä¸´æ—¶è®¾ç½®
export JENKINS_HOME=/var/lib/jenkins

# æ°¸ä¹…è®¾ç½®ï¼ˆæ·»åŠ åˆ°ç”¨æˆ·é…ç½®æ–‡ä»¶ï¼‰
echo 'export JENKINS_HOME=/var/lib/jenkins' >> ~/.bashrc
source ~/.bashrc

# ç³»ç»Ÿçº§è®¾ç½®ï¼ˆæ‰€æœ‰ç”¨æˆ·ç”Ÿæ•ˆï¼‰
echo 'export JENKINS_HOME=/var/lib/jenkins' >> /etc/environment
```

### 4.3 JENKINS_HOMEç›®å½•ç»“æ„è¯¦è§£


```
JENKINS_HOMEç›®å½•ç»“æ„è¯´æ˜
â”œâ”€â”€ config.xml                    â† å…¨å±€é…ç½®æ–‡ä»¶
â”œâ”€â”€ jenkins.model.Jenkins.xml     â† ç³»ç»Ÿçº§é…ç½®
â”œâ”€â”€ jobs/                         â† é¡¹ç›®é…ç½®ç›®å½•
â”‚   â”œâ”€â”€ MyProject/                â† å•ä¸ªé¡¹ç›®ç›®å½•
â”‚   â”‚   â”œâ”€â”€ config.xml           â† é¡¹ç›®é…ç½®æ–‡ä»¶
â”‚   â”‚   â””â”€â”€ builds/              â† æ„å»ºå†å²
â”‚   â”‚       â”œâ”€â”€ 1/               â† ç¬¬1æ¬¡æ„å»º
â”‚   â”‚       â””â”€â”€ 2/               â† ç¬¬2æ¬¡æ„å»º
â”‚   â””â”€â”€ AnotherProject/
â”œâ”€â”€ users/                        â† ç”¨æˆ·æ•°æ®ç›®å½•
â”‚   â””â”€â”€ admin/                   â† ç”¨æˆ·åç›®å½•
â”‚       â””â”€â”€ config.xml           â† ç”¨æˆ·é…ç½®
â”œâ”€â”€ plugins/                      â† æ’ä»¶ç›®å½•
â”œâ”€â”€ workspace/                    â† å·¥ä½œç©ºé—´
â”‚   â”œâ”€â”€ MyProject/               â† é¡¹ç›®å·¥ä½œç›®å½•
â”‚   â””â”€â”€ AnotherProject/
â”œâ”€â”€ logs/                         â† æ—¥å¿—ç›®å½•
â””â”€â”€ secrets/                      â† å®‰å…¨ç›¸å…³æ–‡ä»¶
```

### 4.4 JENKINS_HOMEè¿ç§»æ³¨æ„äº‹é¡¹


**ğŸ“¦ è¿ç§»æ­¥éª¤**
1. **åœæ­¢JenkinsæœåŠ¡**
2. **å¤åˆ¶æ•´ä¸ªJENKINS_HOMEç›®å½•åˆ°æ–°ä½ç½®**
3. **æ›´æ–°ç¯å¢ƒå˜é‡æŒ‡å‘æ–°ä½ç½®**
4. **é‡å¯JenkinsæœåŠ¡**

> âš ï¸ **é‡è¦æé†’**ï¼šè¿ç§»å‰åŠ¡å¿…å¤‡ä»½åŸJENKINS_HOMEç›®å½•ï¼Œç¡®ä¿æ•°æ®å®‰å…¨

---

## 5. ğŸ—ï¸ jenkins.model.Jenkins.xmlç³»ç»Ÿé…ç½®


### 5.1 jenkins.model.Jenkins.xmlçš„ç‰¹æ®Šä½œç”¨


**ğŸ”¸ æ–‡ä»¶è¯´æ˜**
```
jenkins.model.Jenkins.xmlæ˜¯ä»€ä¹ˆï¼Ÿ
- è¿™æ˜¯Jenkinsçš„"ç³»ç»Ÿçº§é…ç½®æ–‡ä»¶"
- ä½ç½®ï¼š$JENKINS_HOME/jenkins.model.Jenkins.xml
- ä½œç”¨ï¼šå­˜å‚¨é€šè¿‡"ç³»ç»Ÿç®¡ç†"ç•Œé¢è®¾ç½®çš„å…¨å±€é…ç½®

ä¸config.xmlçš„åŒºåˆ«ï¼š
config.xmlï¼šåŸºç¡€ç³»ç»Ÿé…ç½®
jenkins.model.Jenkins.xmlï¼šæ‰©å±•ç³»ç»Ÿé…ç½®å’Œæ’ä»¶å…¨å±€è®¾ç½®
```

### 5.2 å¸¸è§é…ç½®å†…å®¹


**ğŸ”§ ç³»ç»Ÿé…ç½®ç¤ºä¾‹**
```xml
<jenkins.model.Jenkins>
  <!-- ç®¡ç†å‘˜é‚®ç®±è®¾ç½® -->
  <adminAddress>admin@company.com</adminAddress>
  
  <!-- Jenkins URLé…ç½® -->
  <jenkinsUrl>http://jenkins.company.com:8080/</jenkinsUrl>
  
  <!-- ç³»ç»Ÿç®¡ç†å‘˜è®¾ç½® -->
  <installStateSecurity class="jenkins.install.InstallState$SECURITY_CUSTOMIZATION"/>
  
  <!-- å…¨å±€å±æ€§é…ç½® -->
  <globalNodeProperties>
    <hudson.slaves.EnvironmentVariablesNodeProperty>
      <envVars>
        <tree-map>
          <entry>
            <string>MAVEN_HOME</string>
            <string>/opt/maven</string>
          </entry>
          <entry>
            <string>JAVA_HOME</string>
            <string>/usr/lib/jvm/java-11-openjdk</string>
          </entry>
        </tree-map>
      </envVars>
    </hudson.slaves.EnvironmentVariablesNodeProperty>
  </globalNodeProperties>
</jenkins.model.Jenkins>
```

### 5.3 é…ç½®æ–‡ä»¶çš„è‡ªåŠ¨ç”Ÿæˆ


**ğŸ’¡ ç†è§£é…ç½®æ–‡ä»¶çš„æ¥æº**
```
jenkins.model.Jenkins.xmlå¦‚ä½•äº§ç”Ÿï¼Ÿ

ç”¨æˆ·æ“ä½œæµç¨‹ï¼š
1. ç™»å½•Jenkinsç®¡ç†ç•Œé¢
2. è¿›å…¥"ç³»ç»Ÿç®¡ç†" â†’ "ç³»ç»Ÿé…ç½®"
3. è®¾ç½®å„ç§å…¨å±€å‚æ•°
4. ç‚¹å‡»"ä¿å­˜"

è‡ªåŠ¨åŒ–ç»“æœï¼š
âœ… Jenkinsè‡ªåŠ¨å°†è®¾ç½®å†™å…¥jenkins.model.Jenkins.xml
âœ… ä¸‹æ¬¡é‡å¯æ—¶ï¼ŒJenkinsä»æ–‡ä»¶è¯»å–è¿™äº›é…ç½®
âœ… å®ç°é…ç½®çš„æŒä¹…åŒ–å­˜å‚¨
```

---

## 6. ğŸ’¾ é…ç½®æ–‡ä»¶å¤‡ä»½ä¸æ¢å¤ç­–ç•¥


### 6.1 ä¸ºä»€ä¹ˆéœ€è¦å¤‡ä»½é…ç½®æ–‡ä»¶


**ğŸ”¸ å¤‡ä»½çš„é‡è¦æ€§**
```
é…ç½®æ–‡ä»¶ä¸¢å¤±çš„åæœï¼š
âŒ æ‰€æœ‰é¡¹ç›®é…ç½®ä¸¢å¤±
âŒ ç”¨æˆ·è´¦å·å’Œæƒé™ä¸¢å¤±
âŒ æ’ä»¶é…ç½®éœ€è¦é‡æ–°è®¾ç½®
âŒ æ„å»ºå†å²è®°å½•ä¸¢å¤±
âŒ ç³»ç»Ÿè®¾ç½®éœ€è¦é‡æ–°é…ç½®

å¤‡ä»½çš„å¥½å¤„ï¼š
âœ… å¿«é€Ÿæ¢å¤ç³»ç»Ÿ
âœ… è¿ç§»åˆ°æ–°æœåŠ¡å™¨
âœ… ç‰ˆæœ¬å›æ»šï¼ˆé…ç½®é”™è¯¯æ—¶ï¼‰
âœ… ç¾éš¾æ¢å¤ä¿éšœ
```

### 6.2 æ‰‹åŠ¨å¤‡ä»½æ–¹æ³•


**ğŸ“‚ å®Œæ•´å¤‡ä»½æ–¹æ¡ˆ**
```bash
#!/bin/bash
# Jenkinså®Œæ•´å¤‡ä»½è„šæœ¬

JENKINS_HOME="/var/lib/jenkins"
BACKUP_DIR="/backup/jenkins"
DATE=$(date +%Y%m%d_%H%M%S)
BACKUP_FILE="jenkins_backup_${DATE}.tar.gz"

# åˆ›å»ºå¤‡ä»½ç›®å½•
mkdir -p $BACKUP_DIR

# åœæ­¢JenkinsæœåŠ¡ï¼ˆå¯é€‰ï¼Œå»ºè®®åœ¨ç»´æŠ¤çª—å£æ‰§è¡Œï¼‰
# sudo systemctl stop jenkins

# åˆ›å»ºå¤‡ä»½
echo "å¼€å§‹å¤‡ä»½Jenkins..."
tar -czf "$BACKUP_DIR/$BACKUP_FILE" \
    --exclude="$JENKINS_HOME/workspace" \
    --exclude="$JENKINS_HOME/logs" \
    --exclude="$JENKINS_HOME/war" \
    "$JENKINS_HOME"

echo "å¤‡ä»½å®Œæˆï¼š$BACKUP_DIR/$BACKUP_FILE"

# å¯åŠ¨JenkinsæœåŠ¡
# sudo systemctl start jenkins

# ä¿ç•™æœ€è¿‘30å¤©çš„å¤‡ä»½
find $BACKUP_DIR -name "jenkins_backup_*.tar.gz" -mtime +30 -delete
```

### 6.3 æ ¸å¿ƒé…ç½®æ–‡ä»¶å¤‡ä»½


**ğŸ¯ æœ€å°åŒ–å¤‡ä»½æ–¹æ¡ˆ**
```bash
#!/bin/bash
# ä»…å¤‡ä»½æ ¸å¿ƒé…ç½®æ–‡ä»¶

JENKINS_HOME="/var/lib/jenkins"
CONFIG_BACKUP_DIR="/backup/jenkins-config"
DATE=$(date +%Y%m%d_%H%M%S)

mkdir -p $CONFIG_BACKUP_DIR/$DATE

# å¤‡ä»½æ ¸å¿ƒé…ç½®æ–‡ä»¶
cp "$JENKINS_HOME/config.xml" "$CONFIG_BACKUP_DIR/$DATE/"
cp "$JENKINS_HOME/jenkins.model.Jenkins.xml" "$CONFIG_BACKUP_DIR/$DATE/" 2>/dev/null

# å¤‡ä»½æ‰€æœ‰é¡¹ç›®é…ç½®
mkdir -p "$CONFIG_BACKUP_DIR/$DATE/jobs"
for job in $JENKINS_HOME/jobs/*/; do
    if [ -d "$job" ]; then
        job_name=$(basename "$job")
        mkdir -p "$CONFIG_BACKUP_DIR/$DATE/jobs/$job_name"
        cp "$job/config.xml" "$CONFIG_BACKUP_DIR/$DATE/jobs/$job_name/" 2>/dev/null
    fi
done

# å¤‡ä»½ç”¨æˆ·é…ç½®
cp -r "$JENKINS_HOME/users" "$CONFIG_BACKUP_DIR/$DATE/" 2>/dev/null

echo "é…ç½®æ–‡ä»¶å¤‡ä»½å®Œæˆï¼š$CONFIG_BACKUP_DIR/$DATE"
```

### 6.4 é…ç½®æ–‡ä»¶æ¢å¤


**ğŸ”„ æ¢å¤æ­¥éª¤**
```bash
# 1. åœæ­¢JenkinsæœåŠ¡
sudo systemctl stop jenkins

# 2. å¤‡ä»½å½“å‰é…ç½®ï¼ˆä»¥é˜²æ¢å¤å¤±è´¥ï¼‰
mv $JENKINS_HOME $JENKINS_HOME.backup.$(date +%Y%m%d)

# 3. æ¢å¤é…ç½®æ–‡ä»¶
tar -xzf /backup/jenkins/jenkins_backup_20231001_120000.tar.gz -C /

# 4. ä¿®æ­£æ–‡ä»¶æƒé™
chown -R jenkins:jenkins $JENKINS_HOME

# 5. å¯åŠ¨JenkinsæœåŠ¡
sudo systemctl start jenkins

# 6. éªŒè¯æ¢å¤ç»“æœ
sudo systemctl status jenkins
```

---

## 7. ğŸ” é…ç½®æ–‡ä»¶æƒé™è®¾ç½®


### 7.1 Linuxç³»ç»Ÿæƒé™é…ç½®


**ğŸ”¸ æ ‡å‡†æƒé™è®¾ç½®**
```bash
# Jenkinsç”¨æˆ·å’Œç»„è®¾ç½®
sudo useradd -r -m -d /var/lib/jenkins jenkins

# JENKINS_HOMEæƒé™è®¾ç½®
sudo chown -R jenkins:jenkins /var/lib/jenkins
sudo chmod 755 /var/lib/jenkins

# é…ç½®æ–‡ä»¶æƒé™è®¾ç½®
sudo chmod 600 /var/lib/jenkins/config.xml
sudo chmod 600 /var/lib/jenkins/jenkins.model.Jenkins.xml
sudo chmod -R 600 /var/lib/jenkins/secrets/

# å·¥ä½œç›®å½•æƒé™
sudo chmod 755 /var/lib/jenkins/workspace
sudo chmod 755 /var/lib/jenkins/jobs
```

### 7.2 Windowsç³»ç»Ÿæƒé™é…ç½®


**ğŸ”§ Windowsæƒé™è®¾ç½®**
```
æ–‡ä»¶å¤¹æƒé™è®¾ç½®æ­¥éª¤ï¼š
1. å³é”®ç‚¹å‡»JENKINS_HOMEæ–‡ä»¶å¤¹
2. é€‰æ‹©"å±æ€§" â†’ "å®‰å…¨"é€‰é¡¹å¡
3. ç‚¹å‡»"ç¼–è¾‘"æŒ‰é’®
4. è®¾ç½®æƒé™ï¼š

JenkinsæœåŠ¡è´¦æˆ·ï¼šå®Œå…¨æ§åˆ¶
Administratorsç»„ï¼šå®Œå…¨æ§åˆ¶
SYSTEMè´¦æˆ·ï¼šå®Œå…¨æ§åˆ¶
å…¶ä»–ç”¨æˆ·ï¼šæ— æƒé™ï¼ˆåˆ é™¤ï¼‰

ç‰¹åˆ«æ³¨æ„ï¼š
âš ï¸ ç¡®ä¿JenkinsæœåŠ¡è´¦æˆ·æœ‰è¯»å†™æƒé™
âš ï¸ ç§»é™¤ä¸å¿…è¦çš„ç”¨æˆ·æƒé™
âš ï¸ secretsæ–‡ä»¶å¤¹åªå…è®¸Jenkinsè´¦æˆ·è®¿é—®
```

### 7.3 æƒé™é—®é¢˜è¯Šæ–­


**ğŸ” å¸¸è§æƒé™é—®é¢˜åŠè§£å†³**

| é—®é¢˜ç—‡çŠ¶ | **å¯èƒ½åŸå› ** | **è§£å†³æ–¹æ³•** |
|---------|------------|-------------|
| ğŸš« **Jenkinsæ— æ³•å¯åŠ¨** | `JENKINS_HOMEæƒé™ä¸è¶³` | `æ£€æŸ¥å¹¶ä¿®æ­£ç›®å½•æƒé™` |
| ğŸš« **æ— æ³•ä¿å­˜é…ç½®** | `config.xmlæ–‡ä»¶åªè¯»` | `ä¿®æ”¹æ–‡ä»¶æƒé™ä¸ºå¯å†™` |
| ğŸš« **æ’ä»¶å®‰è£…å¤±è´¥** | `pluginsç›®å½•æƒé™é—®é¢˜` | `ç¡®ä¿Jenkinsç”¨æˆ·æœ‰å†™æƒé™` |
| ğŸš« **æ„å»ºå¤±è´¥** | `workspaceæƒé™ä¸è¶³` | `æ£€æŸ¥å·¥ä½œç©ºé—´æƒé™è®¾ç½®` |

---

## 8. ğŸ”„ é…ç½®çƒ­é‡è½½æœºåˆ¶


### 8.1 ä»€ä¹ˆæ˜¯é…ç½®çƒ­é‡è½½


**ğŸ”¸ çƒ­é‡è½½æ¦‚å¿µ**
```
é…ç½®çƒ­é‡è½½æ˜¯æŒ‡ï¼š
åœ¨ä¸é‡å¯JenkinsæœåŠ¡çš„æƒ…å†µä¸‹ï¼Œè®©é…ç½®æ–‡ä»¶çš„ä¿®æ”¹ç«‹å³ç”Ÿæ•ˆ

æ”¯æŒçƒ­é‡è½½çš„é…ç½®ï¼š
âœ… é¡¹ç›®é…ç½®æ–‡ä»¶ï¼ˆjob config.xmlï¼‰
âœ… éƒ¨åˆ†æ’ä»¶é…ç½®
âœ… ç”¨æˆ·æƒé™è®¾ç½®

ä¸æ”¯æŒçƒ­é‡è½½çš„é…ç½®ï¼š
âŒ JVMå¯åŠ¨å‚æ•°
âŒ ç«¯å£å·è®¾ç½®
âŒ ç³»ç»Ÿçº§å®‰å…¨é…ç½®
âŒ æ’ä»¶çš„å®‰è£…å’Œå¸è½½
```

### 8.2 è§¦å‘é…ç½®é‡è½½çš„æ–¹æ³•


**ğŸ”§ é‡è½½é…ç½®çš„æ–¹å¼**

**æ–¹æ³•1ï¼šé€šè¿‡Webç•Œé¢**
```
æ“ä½œæ­¥éª¤ï¼š
1. ç™»å½•Jenkinsç®¡ç†ç•Œé¢
2. è¿›å…¥"ç³»ç»Ÿç®¡ç†"
3. ç‚¹å‡»"é‡æ–°åŠ è½½é…ç½®"
4. ç³»ç»Ÿè‡ªåŠ¨é‡è½½é…ç½®æ–‡ä»¶
```

**æ–¹æ³•2ï¼šé€šè¿‡CLIå‘½ä»¤**
```bash
# ä½¿ç”¨Jenkins CLIé‡è½½é…ç½®
java -jar jenkins-cli.jar -s http://localhost:8080 reload-configuration

# æˆ–è€…ä½¿ç”¨curlè°ƒç”¨REST API
curl -X POST http://admin:password@localhost:8080/reload
```

**æ–¹æ³•3ï¼šé€šè¿‡æ–‡ä»¶ç›‘æ§**
```bash
# Jenkinsä¼šè‡ªåŠ¨ç›‘æ§æŸäº›é…ç½®æ–‡ä»¶çš„å˜åŒ–
# å½“æ£€æµ‹åˆ°æ–‡ä»¶ä¿®æ”¹æ—¶ï¼Œè‡ªåŠ¨é‡è½½é…ç½®

# æ£€æŸ¥é‡è½½çŠ¶æ€
tail -f $JENKINS_HOME/logs/jenkins.log | grep -i reload
```

### 8.3 å®‰å…¨çš„é…ç½®ä¿®æ”¹æµç¨‹


**ğŸ“‹ æ¨èçš„é…ç½®ä¿®æ”¹æ­¥éª¤**
1. **å¤‡ä»½åŸé…ç½®æ–‡ä»¶**
2. **åœ¨æµ‹è¯•ç¯å¢ƒéªŒè¯ä¿®æ”¹**
3. **åœ¨ç»´æŠ¤æ—¶é—´çª—å£è¿›è¡Œä¿®æ”¹**
4. **ä¿®æ”¹é…ç½®æ–‡ä»¶**
5. **è§¦å‘é…ç½®é‡è½½**
6. **éªŒè¯ä¿®æ”¹ç»“æœ**
7. **ç›‘æ§ç³»ç»ŸçŠ¶æ€**

---

## 9. ğŸ¢ å¤šå®ä¾‹é…ç½®æ–‡ä»¶éš”ç¦»


### 9.1 ä¸ºä»€ä¹ˆéœ€è¦å¤šå®ä¾‹


**ğŸ”¸ å¤šå®ä¾‹åº”ç”¨åœºæ™¯**
```
å¸¸è§çš„å¤šå®ä¾‹éœ€æ±‚ï¼š
ğŸ“ˆ å¼€å‘ç¯å¢ƒï¼šdev-jenkins (ç«¯å£8080)
ğŸ“ˆ æµ‹è¯•ç¯å¢ƒï¼štest-jenkins (ç«¯å£8081)  
ğŸ“ˆ ç”Ÿäº§ç¯å¢ƒï¼šprod-jenkins (ç«¯å£8082)

æˆ–è€…æŒ‰å›¢é˜Ÿåˆ†ç¦»ï¼š
ğŸ‘¥ å‰ç«¯å›¢é˜Ÿï¼šfrontend-jenkins
ğŸ‘¥ åç«¯å›¢é˜Ÿï¼šbackend-jenkins
ğŸ‘¥ è¿ç»´å›¢é˜Ÿï¼šdevops-jenkins

å¤šå®ä¾‹çš„å¥½å¤„ï¼š
âœ… ç¯å¢ƒéš”ç¦»ï¼Œäº’ä¸å¹²æ‰°
âœ… ä¸åŒå›¢é˜Ÿç‹¬ç«‹ç®¡ç†
âœ… æ•…éšœå½±å“èŒƒå›´é™åˆ¶
âœ… ä¾¿äºæƒé™ç®¡ç†
```

### 9.2 å¤šå®ä¾‹é…ç½®éš”ç¦»æ–¹æ¡ˆ


**ğŸ”§ æ–¹æ¡ˆ1ï¼šä¸åŒJENKINS_HOME**
```bash
# ç¯å¢ƒ1ï¼šå¼€å‘ç¯å¢ƒ
export JENKINS_HOME_DEV=/var/lib/jenkins-dev
mkdir -p $JENKINS_HOME_DEV

# ç¯å¢ƒ2ï¼šæµ‹è¯•ç¯å¢ƒ  
export JENKINS_HOME_TEST=/var/lib/jenkins-test
mkdir -p $JENKINS_HOME_TEST

# ç¯å¢ƒ3ï¼šç”Ÿäº§ç¯å¢ƒ
export JENKINS_HOME_PROD=/var/lib/jenkins-prod
mkdir -p $JENKINS_HOME_PROD

# å¯åŠ¨ä¸åŒå®ä¾‹
java -DJENKINS_HOME=$JENKINS_HOME_DEV -jar jenkins.war --httpPort=8080
java -DJENKINS_HOME=$JENKINS_HOME_TEST -jar jenkins.war --httpPort=8081  
java -DJENKINS_HOME=$JENKINS_HOME_PROD -jar jenkins.war --httpPort=8082
```

### 9.3 systemdå¤šå®ä¾‹æœåŠ¡é…ç½®


**ğŸ”§ åˆ›å»ºå¤šä¸ªæœåŠ¡æ–‡ä»¶**
```bash
# åˆ›å»ºå¼€å‘ç¯å¢ƒæœåŠ¡
sudo tee /etc/systemd/system/jenkins-dev.service << 'EOF'
[Unit]
Description=Jenkins Development Instance
After=network.target

[Service]
Type=forking
User=jenkins
Environment=JENKINS_HOME=/var/lib/jenkins-dev
ExecStart=/usr/bin/java -jar /opt/jenkins/jenkins.war --httpPort=8080
Restart=on-failure

[Install]
WantedBy=multi-user.target
EOF

# åˆ›å»ºæµ‹è¯•ç¯å¢ƒæœåŠ¡
sudo tee /etc/systemd/system/jenkins-test.service << 'EOF'
[Unit]
Description=Jenkins Test Instance  
After=network.target

[Service]
Type=forking
User=jenkins
Environment=JENKINS_HOME=/var/lib/jenkins-test
ExecStart=/usr/bin/java -jar /opt/jenkins/jenkins.war --httpPort=8081
Restart=on-failure

[Install]
WantedBy=multi-user.target
EOF

# å¯ç”¨å¹¶å¯åŠ¨æœåŠ¡
sudo systemctl daemon-reload
sudo systemctl enable jenkins-dev jenkins-test
sudo systemctl start jenkins-dev jenkins-test
```

### 9.4 å¤šå®ä¾‹ç®¡ç†è„šæœ¬


**ğŸ“ å®ä¾‹ç®¡ç†è„šæœ¬**
```bash
#!/bin/bash
# Jenkinså¤šå®ä¾‹ç®¡ç†è„šæœ¬

JENKINS_JAR="/opt/jenkins/jenkins.war"
BASE_DIR="/var/lib/jenkins"

# å®ä¾‹é…ç½®
declare -A INSTANCES=(
    ["dev"]="8080"
    ["test"]="8081"
    ["prod"]="8082"
)

start_instance() {
    local name=$1
    local port=${INSTANCES[$name]}
    local home="${BASE_DIR}-${name}"
    
    if [ -z "$port" ]; then
        echo "æœªçŸ¥å®ä¾‹: $name"
        return 1
    fi
    
    echo "å¯åŠ¨Jenkinså®ä¾‹: $name (ç«¯å£: $port)"
    nohup java -DJENKINS_HOME="$home" \
               -jar "$JENKINS_JAR" \
               --httpPort="$port" \
               > "$home/nohup.out" 2>&1 &
    
    echo $! > "$home/jenkins.pid"
    echo "å®ä¾‹ $name å·²å¯åŠ¨ï¼ŒPID: $(cat $home/jenkins.pid)"
}

stop_instance() {
    local name=$1
    local home="${BASE_DIR}-${name}"
    
    if [ -f "$home/jenkins.pid" ]; then
        local pid=$(cat "$home/jenkins.pid")
        echo "åœæ­¢Jenkinså®ä¾‹: $name (PID: $pid)"
        kill "$pid"
        rm -f "$home/jenkins.pid"
    else
        echo "å®ä¾‹ $name æœªè¿è¡Œ"
    fi
}

case "$1" in
    start)
        start_instance "$2"
        ;;
    stop)
        stop_instance "$2"
        ;;
    list)
        echo "å¯ç”¨å®ä¾‹ï¼š"
        for instance in "${!INSTANCES[@]}"; do
            echo "  $instance (ç«¯å£: ${INSTANCES[$instance]})"
        done
        ;;
    *)
        echo "ç”¨æ³•: $0 {start|stop|list} [instance_name]"
        echo "å®ä¾‹åç§°: ${!INSTANCES[*]}"
        ;;
esac
```

---

## 10. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 10.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ Jenkinsé…ç½®æ–‡ä»¶ä½“ç³»ï¼šç³»ç»Ÿçº§ã€å…¨å±€çº§ã€é¡¹ç›®çº§ã€ç”¨æˆ·çº§å››ä¸ªå±‚æ¬¡
ğŸ”¸ JENKINS_HOMEé‡è¦æ€§ï¼šJenkinsçš„"å®¶ç›®å½•"ï¼ŒåŒ…å«æ‰€æœ‰é‡è¦æ•°æ®
ğŸ”¸ é…ç½®æ–‡ä»¶çƒ­é‡è½½ï¼šéƒ¨åˆ†é…ç½®å¯ä»¥ä¸é‡å¯æœåŠ¡ç›´æ¥ç”Ÿæ•ˆ
ğŸ”¸ æƒé™ç®¡ç†ï¼šæ­£ç¡®çš„æ–‡ä»¶æƒé™æ˜¯Jenkinså®‰å…¨è¿è¡Œçš„åŸºç¡€
ğŸ”¸ å¤‡ä»½ç­–ç•¥ï¼šå®šæœŸå¤‡ä»½é…ç½®æ–‡ä»¶æ˜¯ä¿éšœç³»ç»Ÿç¨³å®šçš„å…³é”®
```

### 10.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ é…ç½®æ–‡ä»¶çš„ä¼˜å…ˆçº§å’Œä½œç”¨èŒƒå›´**
```
ç³»ç»Ÿå¯åŠ¨çº§ï¼ˆæœ€é«˜ä¼˜å…ˆçº§ï¼‰ï¼š
- jenkins.xml / systemd serviceæ–‡ä»¶
- å½±å“JVMå‚æ•°ã€ç«¯å£ã€å¯åŠ¨è¡Œä¸º

å…¨å±€é…ç½®çº§ï¼š
- config.xmlã€jenkins.model.Jenkins.xml
- å½±å“ç³»ç»Ÿå…¨å±€è®¾ç½®ã€å®‰å…¨ç­–ç•¥

é¡¹ç›®é…ç½®çº§ï¼š
- jobs/*/config.xml
- å½±å“å•ä¸ªé¡¹ç›®çš„æ„å»ºé…ç½®

ç”¨æˆ·é…ç½®çº§ï¼ˆæœ€ä½ä¼˜å…ˆçº§ï¼‰ï¼š
- users/*/config.xml
- å½±å“ä¸ªäººè®¾ç½®å’Œåå¥½
```

**ğŸ”¹ é…ç½®ä¿®æ”¹çš„å½±å“èŒƒå›´**
```
éœ€è¦é‡å¯æœåŠ¡çš„ä¿®æ”¹ï¼š
â— JVMå†…å­˜å‚æ•°
â— ç½‘ç»œç«¯å£è®¾ç½®
â— å®‰å…¨åŸŸé…ç½®ï¼ˆéƒ¨åˆ†ï¼‰

å¯ä»¥çƒ­é‡è½½çš„ä¿®æ”¹ï¼š
âœ… é¡¹ç›®æ„å»ºé…ç½®
âœ… ç”¨æˆ·æƒé™è®¾ç½®
âœ… æ’ä»¶å‚æ•°é…ç½®
âœ… å…¨å±€å·¥å…·è·¯å¾„
```

### 10.3 å®è·µå»ºè®®


**ğŸ’¡ é…ç½®ç®¡ç†æœ€ä½³å®è·µ**
```
æ—¥å¸¸ç®¡ç†ï¼š
âœ… å»ºç«‹é…ç½®æ–‡ä»¶ç‰ˆæœ¬æ§åˆ¶
âœ… åˆ¶å®šæ ‡å‡†çš„é…ç½®æ¨¡æ¿
âœ… å®šæœŸå¤‡ä»½å…³é”®é…ç½®
âœ… ç›‘æ§é…ç½®æ–‡ä»¶å˜åŒ–

å®‰å…¨è€ƒè™‘ï¼š
âœ… åˆç†è®¾ç½®æ–‡ä»¶æƒé™
âœ… å®šæœŸå®¡æ ¸ç”¨æˆ·æƒé™
âœ… é¿å…åœ¨é…ç½®æ–‡ä»¶ä¸­å­˜å‚¨æ˜æ–‡å¯†ç 
âœ… ä½¿ç”¨ä¸“ç”¨æœåŠ¡è´¦æˆ·è¿è¡ŒJenkins

æ•…éšœé¢„é˜²ï¼š
âœ… ä¿®æ”¹å‰å…ˆå¤‡ä»½
âœ… åœ¨æµ‹è¯•ç¯å¢ƒéªŒè¯
âœ… åˆ†æ­¥éª¤è¿›è¡Œé‡å¤§é…ç½®ä¿®æ”¹
âœ… ä¿ç•™é…ç½®å›æ»šæ–¹æ¡ˆ
```

### 10.4 å¿«é€Ÿæ•…éšœæ’é™¤æ¸…å•


```
é…ç½®é—®é¢˜è¯Šæ–­æ­¥éª¤ï¼š

1. æœåŠ¡æ— æ³•å¯åŠ¨ï¼š
   â–¡ æ£€æŸ¥jenkins.xml/serviceæ–‡ä»¶è¯­æ³•
   â–¡ éªŒè¯JENKINS_HOMEè·¯å¾„å’Œæƒé™
   â–¡ æŸ¥çœ‹ç³»ç»Ÿæ—¥å¿—å’ŒJenkinsæ—¥å¿—

2. é…ç½®ä¸¢å¤±ï¼š
   â–¡ ç¡®è®¤JENKINS_HOMEç›®å½•å®Œæ•´æ€§
   â–¡ æ£€æŸ¥config.xmlæ–‡ä»¶æ˜¯å¦å­˜åœ¨
   â–¡ éªŒè¯æ–‡ä»¶æƒé™è®¾ç½®

3. æƒé™é—®é¢˜ï¼š
   â–¡ æ£€æŸ¥JenkinsæœåŠ¡è´¦æˆ·æƒé™
   â–¡ éªŒè¯é…ç½®æ–‡ä»¶æ‰€æœ‰è€…
   â–¡ ç¡®è®¤ç›®å½•è®¿é—®æƒé™

4. é…ç½®ä¸ç”Ÿæ•ˆï¼š
   â–¡ ç¡®è®¤æ˜¯å¦æ”¯æŒçƒ­é‡è½½
   â–¡ å°è¯•æ‰‹åŠ¨é‡è½½é…ç½®
   â–¡ æ£€æŸ¥é…ç½®æ–‡ä»¶è¯­æ³•æ­£ç¡®æ€§
```

**æ ¸å¿ƒè®°å¿†è¦ç‚¹**ï¼š
- Jenkinsé…ç½®æ–‡ä»¶æ˜¯ç³»ç»Ÿçš„"DNA"ï¼Œéœ€è¦ç²¾å¿ƒç®¡ç†
- JENKINS_HOMEæ˜¯Jenkinsçš„æ ¸å¿ƒï¼Œä¿æŠ¤å¥½è¿™ä¸ªç›®å½•å°±ä¿æŠ¤äº†æ•´ä¸ªç³»ç»Ÿ
- å¤‡ä»½æ˜¯æœ€å¥½çš„ä¿é™©ï¼Œå®šæœŸå¤‡ä»½é…ç½®æ–‡ä»¶æ˜¯å¿…é¡»çš„ä¹ æƒ¯
- æƒé™è®¾ç½®å…³ä¹å®‰å…¨ï¼Œæœ€å°æƒé™åŸåˆ™æ°¸è¿œé€‚ç”¨
- å¤šå®ä¾‹éš”ç¦»è®©ä¸åŒç¯å¢ƒäº•æ°´ä¸çŠ¯æ²³æ°´