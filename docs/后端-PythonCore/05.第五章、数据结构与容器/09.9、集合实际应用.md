---
title: 9ã€é›†åˆå®é™…åº”ç”¨
---
## ğŸ“š ç›®å½•

1. [é›†åˆåŸºç¡€å›é¡¾ä¸æ ¸å¿ƒæ¦‚å¿µ](#1-é›†åˆåŸºç¡€å›é¡¾ä¸æ ¸å¿ƒæ¦‚å¿µ)
2. [æ•°æ®å»é‡ï¼šé›†åˆçš„é¦–è¦åº”ç”¨](#2-æ•°æ®å»é‡é›†åˆçš„é¦–è¦åº”ç”¨)
3. [æˆå‘˜æµ‹è¯•ï¼šå¿«é€Ÿåˆ¤æ–­å…ƒç´ å­˜åœ¨æ€§](#3-æˆå‘˜æµ‹è¯•å¿«é€Ÿåˆ¤æ–­å…ƒç´ å­˜åœ¨æ€§)
4. [æ•°æ®åˆ†æä¸­çš„é›†åˆè¿ç®—](#4-æ•°æ®åˆ†æä¸­çš„é›†åˆè¿ç®—)
5. [æƒé™ç®¡ç†åº”ç”¨å®è·µ](#5-æƒé™ç®¡ç†åº”ç”¨å®è·µ)
6. [æ ‡ç­¾ç³»ç»Ÿå®ç°](#6-æ ‡ç­¾ç³»ç»Ÿå®ç°)
7. [é›†åˆä¸åˆ—è¡¨æ€§èƒ½å¯¹æ¯”](#7-é›†åˆä¸åˆ—è¡¨æ€§èƒ½å¯¹æ¯”)
8. [é›†åˆä¼˜åŒ–æŠ€å·§ä¸æœ€ä½³å®è·µ](#8-é›†åˆä¼˜åŒ–æŠ€å·§ä¸æœ€ä½³å®è·µ)
9. [é›†åˆä½¿ç”¨åœºæ™¯æ€»ç»“](#9-é›†åˆä½¿ç”¨åœºæ™¯æ€»ç»“)
10. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#10-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ¯ é›†åˆåŸºç¡€å›é¡¾ä¸æ ¸å¿ƒæ¦‚å¿µ


### 1.1 ä»€ä¹ˆæ˜¯é›†åˆï¼Ÿä¸ºä»€ä¹ˆéœ€è¦é›†åˆï¼Ÿ


**é›†åˆå°±åƒç°å®ä¸­çš„"ä¼šå‘˜åå•"**ï¼š
```
æƒ³è±¡ä¸€ä¸ªå¥èº«æˆ¿çš„ä¼šå‘˜åå•ï¼š
- æ¯ä¸ªäººåªèƒ½å‡ºç°ä¸€æ¬¡ï¼ˆä¸é‡å¤ï¼‰
- å¯ä»¥å¿«é€ŸæŸ¥çœ‹æŸäººæ˜¯å¦æ˜¯ä¼šå‘˜ï¼ˆæˆå‘˜æµ‹è¯•ï¼‰
- å¯ä»¥å¯¹æ¯”ä¸¤ä¸ªå¥èº«æˆ¿çš„å…±åŒä¼šå‘˜ï¼ˆäº¤é›†ï¼‰
- å¯ä»¥åˆå¹¶ä¸¤ä¸ªåå•ï¼ˆå¹¶é›†ï¼‰
```

**Pythoné›†åˆçš„æœ¬è´¨ç‰¹å¾**ï¼š
- **å”¯ä¸€æ€§**ï¼šæ¯ä¸ªå…ƒç´ åªèƒ½å‡ºç°ä¸€æ¬¡ï¼Œè‡ªåŠ¨å»é‡
- **æ— åºæ€§**ï¼šå…ƒç´ æ²¡æœ‰å›ºå®šçš„ä½ç½®å…³ç³»
- **å¯å˜æ€§**ï¼šå¯ä»¥æ·»åŠ å’Œåˆ é™¤å…ƒç´ 
- **é«˜æ•ˆæ€§**ï¼šæŸ¥æ‰¾ã€æ·»åŠ ã€åˆ é™¤éƒ½å¾ˆå¿«

### 1.2 é›†åˆçš„åˆ›å»ºæ–¹å¼


```python
# ğŸ”¸ ç›´æ¥åˆ›å»ºï¼ˆæ¨èï¼‰
fruits = {'apple', 'banana', 'orange'}

# ğŸ”¸ ä»åˆ—è¡¨åˆ›å»ºï¼ˆå»é‡ï¼‰
numbers = set([1, 2, 2, 3, 3, 4])  # ç»“æœï¼š{1, 2, 3, 4}

# ğŸ”¸ ç©ºé›†åˆï¼ˆæ³¨æ„ä¸èƒ½ç”¨{}ï¼‰
empty_set = set()  # æ­£ç¡®
# empty_dict = {}   # è¿™æ˜¯å­—å…¸ï¼Œä¸æ˜¯é›†åˆï¼

# ğŸ”¸ é›†åˆæ¨å¯¼å¼
squares = {x**2 for x in range(5)}  # {0, 1, 4, 9, 16}
```

> ğŸ’¡ **æ–°æ‰‹æé†’**  
> `{}` åˆ›å»ºçš„æ˜¯ç©ºå­—å…¸ï¼Œä¸æ˜¯ç©ºé›†åˆï¼ç©ºé›†åˆå¿…é¡»ç”¨ `set()`

### 1.3 é›†åˆçš„åŸºæœ¬æ“ä½œé€Ÿè§ˆ


```
é›†åˆæ“ä½œ                ç°å®ç±»æ¯”                  Pythonè¯­æ³•
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
æ·»åŠ æˆå‘˜               æ–°äººå…¥ä¼š                  add()
åˆ é™¤æˆå‘˜               é€€ä¼š                      remove()
æ£€æŸ¥æˆå‘˜               æŸ¥çœ‹æ˜¯å¦æ˜¯ä¼šå‘˜             in
åˆå¹¶                   ä¸¤ä¸ªä¿±ä¹éƒ¨åˆå¹¶             | æˆ– union()
å…±åŒéƒ¨åˆ†               æ‰¾å…±åŒçˆ±å¥½çš„äºº             & æˆ– intersection()
ç‹¬æœ‰éƒ¨åˆ†               æ‰¾å„è‡ªç‰¹æœ‰çš„æˆå‘˜           - æˆ– difference()
```

---

## 2. ğŸ§¹ æ•°æ®å»é‡ï¼šé›†åˆçš„é¦–è¦åº”ç”¨


### 2.1 ä¸ºä»€ä¹ˆéœ€è¦æ•°æ®å»é‡ï¼Ÿ


**ç°å®åœºæ™¯ä¸¾ä¾‹**ï¼š
- ç”¨æˆ·è®¿é—®æ—¥å¿—ï¼šåŒä¸€ç”¨æˆ·å¤šæ¬¡è®¿é—®ï¼Œä½†æˆ‘ä»¬åªæƒ³çŸ¥é“æœ‰å¤šå°‘ä¸åŒç”¨æˆ·
- å•†å“æ ‡ç­¾ï¼šä¸€ä¸ªå•†å“å¯èƒ½æœ‰é‡å¤æ ‡ç­¾ï¼Œæˆ‘ä»¬éœ€è¦å”¯ä¸€çš„æ ‡ç­¾åˆ—è¡¨
- é‚®ä»¶åˆ—è¡¨ï¼šé¿å…ç»™åŒä¸€äººå‘é€å¤šå°ç›¸åŒé‚®ä»¶

### 2.2 åŸºç¡€å»é‡æ“ä½œ


```python
# ğŸ”¸ åˆ—è¡¨å»é‡ï¼ˆæœ€å¸¸è§åœºæ™¯ï¼‰
def remove_duplicates_basic(data_list):
    """
    å°†åˆ—è¡¨ä¸­çš„é‡å¤å…ƒç´ å»é™¤
    ç®€å•ç›´æ¥çš„æ–¹æ³•
    """
    return list(set(data_list))

# ç¤ºä¾‹ï¼šç”¨æˆ·IDå»é‡
user_ids = [1001, 1002, 1001, 1003, 1002, 1004, 1001]
unique_users = remove_duplicates_basic(user_ids)
print(f"åŸå§‹ç”¨æˆ·: {len(user_ids)} ä¸ª")      # 7ä¸ª
print(f"å”¯ä¸€ç”¨æˆ·: {len(unique_users)} ä¸ª")  # 4ä¸ª
```

### 2.3 ä¿æŒé¡ºåºçš„å»é‡æ–¹æ³•


> âš ï¸ **é‡è¦æé†’**  
> æ™®é€šé›†åˆä¼šä¸¢å¤±å…ƒç´ çš„åŸå§‹é¡ºåºï¼Œå¦‚æœéœ€è¦ä¿æŒé¡ºåºï¼Œéœ€è¦ç‰¹æ®Šå¤„ç†

```python
def remove_duplicates_keep_order(data_list):
    """
    å»é‡çš„åŒæ—¶ä¿æŒç¬¬ä¸€æ¬¡å‡ºç°çš„é¡ºåº
    é€‚ç”¨äºé¡ºåºå¾ˆé‡è¦çš„åœºæ™¯
    """
    seen = set()
    result = []
    for item in data_list:
        if item not in seen:
            seen.add(item)
            result.append(item)
    return result

# ç¤ºä¾‹ï¼šä¿æŒè®¿é—®é¡ºåºçš„é¡µé¢å»é‡
visited_pages = ['home', 'about', 'home', 'contact', 'about', 'products']
unique_pages = remove_duplicates_keep_order(visited_pages)
print(f"è®¿é—®è½¨è¿¹: {unique_pages}")
# ç»“æœ: ['home', 'about', 'contact', 'products']
```

### 2.4 å®é™…åº”ç”¨ï¼šæ•°æ®æ¸…æ´—


```python
class DataCleaner:
    """
    æ•°æ®æ¸…æ´—å·¥å…·ç±»
    ä¸“é—¨å¤„ç†å„ç§å»é‡éœ€æ±‚
    """
    
    @staticmethod
    def clean_email_list(emails):
        """æ¸…ç†é‚®ä»¶åˆ—è¡¨ï¼šå»é‡ã€å»ç©ºã€è½¬å°å†™"""
        # å…ˆè¿‡æ»¤ç©ºå­—ç¬¦ä¸²ï¼Œå†è½¬å°å†™ï¼Œæœ€åå»é‡
        cleaned = set()
        for email in emails:
            if email and email.strip():  # å»é™¤ç©ºå€¼
                cleaned.add(email.strip().lower())  # ç»Ÿä¸€å°å†™
        return list(cleaned)
    
    @staticmethod
    def clean_tags(tag_string):
        """æ¸…ç†æ ‡ç­¾å­—ç¬¦ä¸²ï¼šåˆ†å‰²ã€å»é‡ã€å»ç©º"""
        if not tag_string:
            return []
        
        # æŒ‰é€—å·åˆ†å‰²ï¼Œå»é™¤ç©ºç™½ï¼Œå»é‡
        tags = set()
        for tag in tag_string.split(','):
            clean_tag = tag.strip()
            if clean_tag:
                tags.add(clean_tag)
        return sorted(list(tags))  # æ’åºåè¿”å›

# ä½¿ç”¨ç¤ºä¾‹
emails = ['user@gmail.com', 'USER@GMAIL.COM', '', 'admin@site.com', 'user@gmail.com']
clean_emails = DataCleaner.clean_email_list(emails)
print(f"æ¸…ç†åé‚®ç®±: {clean_emails}")

tag_input = "Python, java, python, , JavaScript, Java"
clean_tags = DataCleaner.clean_tags(tag_input)
print(f"æ¸…ç†åæ ‡ç­¾: {clean_tags}")
```

---

## 3. ğŸ” æˆå‘˜æµ‹è¯•ï¼šå¿«é€Ÿåˆ¤æ–­å…ƒç´ å­˜åœ¨æ€§


### 3.1 ä»€ä¹ˆæ˜¯æˆå‘˜æµ‹è¯•ï¼Ÿä¸ºä»€ä¹ˆé›†åˆæ›´å¿«ï¼Ÿ


**æˆå‘˜æµ‹è¯•**å°±æ˜¯æ£€æŸ¥æŸä¸ªå…ƒç´ æ˜¯å¦åœ¨å®¹å™¨ä¸­ã€‚

**æ€§èƒ½å·®å¼‚å¯¹æ¯”**ï¼š
```
æ•°æ®ç»“æ„    æˆå‘˜æµ‹è¯•æ–¹å¼           æ—¶é—´å¤æ‚åº¦    å½¢è±¡æ¯”å–»
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
åˆ—è¡¨        ä»å¤´åˆ°å°¾é€ä¸ªæ£€æŸ¥        O(n)       åœ¨ä¹¦æ¶ä¸Šä¸€æœ¬æœ¬æ‰¾ä¹¦
é›†åˆ        ç›´æ¥å®šä½æŸ¥æ‰¾           O(1)       ç”¨å›¾ä¹¦é¦†æ£€ç´¢ç³»ç»Ÿæ‰¾ä¹¦
å­—å…¸        é”®çš„ç›´æ¥æŸ¥æ‰¾           O(1)       ç”¨ç›®å½•ç›´æ¥ç¿»åˆ°é¡µç 
```

### 3.2 åŸºç¡€æˆå‘˜æµ‹è¯•


```python
# ğŸ”¸ é›†åˆæˆå‘˜æµ‹è¯•ï¼ˆæ¨èï¼‰
valid_usernames = {'admin', 'user', 'guest', 'manager'}

def check_user_permission(username):
    """æ£€æŸ¥ç”¨æˆ·æ˜¯å¦æœ‰æ•ˆ"""
    if username in valid_usernames:
        return f"ç”¨æˆ· {username} æœ‰æ•ˆ"
    else:
        return f"ç”¨æˆ· {username} æ— æ•ˆ"

# ğŸ”¸ åˆ—è¡¨æˆå‘˜æµ‹è¯•ï¼ˆå¯¹æ¯”ï¼‰
valid_usernames_list = ['admin', 'user', 'guest', 'manager']

def check_user_permission_slow(username):
    """è¾ƒæ…¢çš„æ£€æŸ¥æ–¹å¼"""
    if username in valid_usernames_list:  # éœ€è¦é€ä¸ªæ¯”è¾ƒ
        return f"ç”¨æˆ· {username} æœ‰æ•ˆ"
    else:
        return f"ç”¨æˆ· {username} æ— æ•ˆ"
```

### 3.3 å®é™…åº”ç”¨ï¼šç™½åå•å’Œé»‘åå•


```python
class SecurityFilter:
    """
    å®‰å…¨è¿‡æ»¤å™¨
    æ¼”ç¤ºæˆå‘˜æµ‹è¯•åœ¨å®‰å…¨æ£€æŸ¥ä¸­çš„åº”ç”¨
    """
    
    def __init__(self):
        # ä½¿ç”¨é›†åˆå­˜å‚¨ç™½åå•å’Œé»‘åå•
        self.whitelist_ips = {
            '192.168.1.100', '192.168.1.101', 
            '10.0.0.50', '127.0.0.1'
        }
        
        self.blacklist_ips = {
            '192.168.1.999', '10.0.0.666',
            '0.0.0.0'
        }
        
        self.blocked_keywords = {
            'script', 'alert', 'drop', 'delete',
            'union', 'select', 'insert'
        }
    
    def check_ip_access(self, ip_address):
        """æ£€æŸ¥IPè®¿é—®æƒé™"""
        if ip_address in self.blacklist_ips:
            return False, "IPåœ¨é»‘åå•ä¸­"
        
        if ip_address in self.whitelist_ips:
            return True, "IPåœ¨ç™½åå•ä¸­"
        
        return False, "IPä¸åœ¨ç™½åå•ä¸­"
    
    def check_content_safety(self, content):
        """æ£€æŸ¥å†…å®¹å®‰å…¨æ€§"""
        content_lower = content.lower()
        
        # æ£€æŸ¥æ˜¯å¦åŒ…å«å±é™©å…³é”®è¯
        for keyword in self.blocked_keywords:
            if keyword in content_lower:
                return False, f"åŒ…å«å±é™©å…³é”®è¯: {keyword}"
        
        return True, "å†…å®¹å®‰å…¨"

# ä½¿ç”¨ç¤ºä¾‹
filter_system = SecurityFilter()

# IPæ£€æŸ¥
ip_result = filter_system.check_ip_access('192.168.1.100')
print(f"IPæ£€æŸ¥ç»“æœ: {ip_result}")

# å†…å®¹æ£€æŸ¥
content_result = filter_system.check_content_safety("select * from users")
print(f"å†…å®¹æ£€æŸ¥ç»“æœ: {content_result}")
```

### 3.4 æ‰¹é‡æˆå‘˜æµ‹è¯•


```python
def batch_membership_test(items_to_check, valid_set):
    """
    æ‰¹é‡æ£€æŸ¥å¤šä¸ªå…ƒç´ çš„æœ‰æ•ˆæ€§
    è¿”å›æœ‰æ•ˆå’Œæ— æ•ˆçš„å…ƒç´ åˆ—è¡¨
    """
    valid_items = []
    invalid_items = []
    
    for item in items_to_check:
        if item in valid_set:
            valid_items.append(item)
        else:
            invalid_items.append(item)
    
    return valid_items, invalid_items

# ç¤ºä¾‹ï¼šæ£€æŸ¥ç”¨æˆ·æƒé™
all_permissions = {'read', 'write', 'delete', 'admin', 'export'}
user_requested = ['read', 'write', 'hack', 'admin', 'virus']

valid, invalid = batch_membership_test(user_requested, all_permissions)
print(f"æœ‰æ•ˆæƒé™: {valid}")      # ['read', 'write', 'admin']
print(f"æ— æ•ˆæƒé™: {invalid}")    # ['hack', 'virus']
```

---

## 4. ğŸ“Š æ•°æ®åˆ†æä¸­çš„é›†åˆè¿ç®—


### 4.1 é›†åˆè¿ç®—çš„ç°å®æ„ä¹‰


**ç”¨è´­ç‰©ç½‘ç«™çš„ä¾‹å­æ¥ç†è§£**ï¼š
```
ç”¨æˆ·Aæµè§ˆè¿‡çš„å•†å“: {æ‰‹æœº, ç”µè„‘, è€³æœº, å……ç”µå™¨}
ç”¨æˆ·Bæµè§ˆè¿‡çš„å•†å“: {ç”µè„‘, å¹³æ¿, è€³æœº, éŸ³å“}

äº¤é›†(å…±åŒå…´è¶£): {ç”µè„‘, è€³æœº}        â†’ å¯ä»¥æ¨èç›¸ä¼¼å•†å“
å¹¶é›†(æ€»æµè§ˆ): {æ‰‹æœº, ç”µè„‘, è€³æœº, å……ç”µå™¨, å¹³æ¿, éŸ³å“}  â†’ æ‰©å±•æ¨èèŒƒå›´
å·®é›†(Aç‹¬æœ‰): {æ‰‹æœº, å……ç”µå™¨}         â†’ Açš„ç‹¬ç‰¹å…´è¶£
```

### 4.2 åŸºç¡€é›†åˆè¿ç®—


```python
# ğŸ”¸ åˆ›å»ºç¤ºä¾‹æ•°æ®
python_users = {'Alice', 'Bob', 'Charlie', 'David', 'Eva'}
java_users = {'Bob', 'David', 'Frank', 'Grace', 'Henry'}
javascript_users = {'Charlie', 'David', 'Frank', 'Ivan', 'Jack'}

print("Pythonç”¨æˆ·:", python_users)
print("Javaç”¨æˆ·:", java_users)
print("JavaScriptç”¨æˆ·:", javascript_users)
print("-" * 50)

# ğŸ”¸ äº¤é›†ï¼šæ‰¾åˆ°å…±åŒç”¨æˆ·
python_java = python_users & java_users
print(f"æ—¢ä¼šPythonåˆä¼šJava: {python_java}")

# ğŸ”¸ å¹¶é›†ï¼šæ‰¾åˆ°æ‰€æœ‰ç”¨æˆ·
all_users = python_users | java_users | javascript_users
print(f"æ‰€æœ‰å¼€å‘è€…: {all_users}")

# ğŸ”¸ å·®é›†ï¼šæ‰¾åˆ°ç‹¬æœ‰ç”¨æˆ·
only_python = python_users - java_users - javascript_users
print(f"åªä¼šPython: {only_python}")

# ğŸ”¸ å¯¹ç§°å·®é›†ï¼šæ‰¾åˆ°ä¸å…±åŒçš„ç”¨æˆ·
python_java_diff = python_users ^ java_users
print(f"Pythonå’ŒJavaçš„å¯¹ç§°å·®é›†: {python_java_diff}")
```

### 4.3 å®é™…åº”ç”¨ï¼šç”¨æˆ·è¡Œä¸ºåˆ†æ


```python
class UserBehaviorAnalyzer:
    """
    ç”¨æˆ·è¡Œä¸ºåˆ†æå™¨
    ä½¿ç”¨é›†åˆè¿ç®—åˆ†æç”¨æˆ·è¡Œä¸ºæ¨¡å¼
    """
    
    def __init__(self):
        self.user_actions = {}
    
    def record_action(self, user_id, action):
        """è®°å½•ç”¨æˆ·è¡Œä¸º"""
        if user_id not in self.user_actions:
            self.user_actions[user_id] = set()
        self.user_actions[user_id].add(action)
    
    def find_similar_users(self, target_user, min_common_actions=2):
        """
        æ‰¾åˆ°è¡Œä¸ºç›¸ä¼¼çš„ç”¨æˆ·
        åŸºäºå…±åŒè¡Œä¸ºæ•°é‡åˆ¤æ–­ç›¸ä¼¼åº¦
        """
        if target_user not in self.user_actions:
            return []
        
        target_actions = self.user_actions[target_user]
        similar_users = []
        
        for user_id, actions in self.user_actions.items():
            if user_id == target_user:
                continue
            
            # è®¡ç®—å…±åŒè¡Œä¸º
            common_actions = target_actions & actions
            
            if len(common_actions) >= min_common_actions:
                similarity = len(common_actions) / len(target_actions | actions)
                similar_users.append({
                    'user_id': user_id,
                    'common_actions': common_actions,
                    'similarity': similarity
                })
        
        # æŒ‰ç›¸ä¼¼åº¦æ’åº
        similar_users.sort(key=lambda x: x['similarity'], reverse=True)
        return similar_users
    
    def analyze_user_segments(self):
        """åˆ†æç”¨æˆ·ç¾¤ä½“ç‰¹å¾"""
        all_actions = set()
        for actions in self.user_actions.values():
            all_actions |= actions
        
        action_analysis = {}
        for action in all_actions:
            users_with_action = set()
            for user_id, actions in self.user_actions.items():
                if action in actions:
                    users_with_action.add(user_id)
            
            action_analysis[action] = {
                'user_count': len(users_with_action),
                'percentage': len(users_with_action) / len(self.user_actions) * 100,
                'users': users_with_action
            }
        
        return action_analysis

# ä½¿ç”¨ç¤ºä¾‹
analyzer = UserBehaviorAnalyzer()

# æ¨¡æ‹Ÿç”¨æˆ·è¡Œä¸ºæ•°æ®
user_behaviors = {
    'user1': ['login', 'browse', 'search', 'purchase'],
    'user2': ['login', 'browse', 'add_cart', 'purchase'],
    'user3': ['login', 'browse', 'search', 'wishlist'],
    'user4': ['browse', 'search', 'compare', 'purchase'],
    'user5': ['login', 'browse', 'add_cart', 'wishlist']
}

# å½•å…¥æ•°æ®
for user_id, actions in user_behaviors.items():
    for action in actions:
        analyzer.record_action(user_id, action)

# åˆ†æç›¸ä¼¼ç”¨æˆ·
similar = analyzer.find_similar_users('user1', min_common_actions=2)
print("ä¸user1ç›¸ä¼¼çš„ç”¨æˆ·:")
for user_info in similar:
    print(f"  {user_info['user_id']}: ç›¸ä¼¼åº¦ {user_info['similarity']:.2f}, å…±åŒè¡Œä¸º: {user_info['common_actions']}")
```

### 4.4 ä¸šåŠ¡åœºæ™¯ï¼šå•†å“æ¨èç³»ç»Ÿ


```python
class SimpleRecommendationEngine:
    """
    ç®€å•æ¨èå¼•æ“
    åŸºäºç”¨æˆ·è´­ä¹°å†å²ä½¿ç”¨é›†åˆè¿ç®—åšæ¨è
    """
    
    def __init__(self):
        self.user_purchases = {}
        self.product_buyers = {}
    
    def add_purchase(self, user_id, product_id):
        """æ·»åŠ è´­ä¹°è®°å½•"""
        # è®°å½•ç”¨æˆ·è´­ä¹°çš„å•†å“
        if user_id not in self.user_purchases:
            self.user_purchases[user_id] = set()
        self.user_purchases[user_id].add(product_id)
        
        # è®°å½•å•†å“çš„è´­ä¹°è€…
        if product_id not in self.product_buyers:
            self.product_buyers[product_id] = set()
        self.product_buyers[product_id].add(user_id)
    
    def recommend_by_similarity(self, target_user, max_recommendations=5):
        """
        åŸºäºç”¨æˆ·ç›¸ä¼¼åº¦æ¨èå•†å“
        æ‰¾åˆ°è´­ä¹°è¡Œä¸ºç›¸ä¼¼çš„ç”¨æˆ·ï¼Œæ¨èä»–ä»¬ä¹°è¿‡ä½†ç›®æ ‡ç”¨æˆ·æ²¡ä¹°çš„å•†å“
        """
        if target_user not in self.user_purchases:
            return []
        
        target_products = self.user_purchases[target_user]
        recommendations = set()
        
        # æ‰¾åˆ°æ‰€æœ‰å…¶ä»–ç”¨æˆ·
        for other_user, other_products in self.user_purchases.items():
            if other_user == target_user:
                continue
            
            # è®¡ç®—å…±åŒè´­ä¹°çš„å•†å“
            common_products = target_products & other_products
            
            # å¦‚æœæœ‰å…±åŒè´­ä¹°ï¼Œæ¨èå…¶ä»–ç”¨æˆ·ç‹¬æœ‰çš„å•†å“
            if len(common_products) > 0:
                unique_products = other_products - target_products
                recommendations |= unique_products
        
        # è¿”å›æœ‰é™æ•°é‡çš„æ¨è
        return list(recommendations)[:max_recommendations]
    
    def find_frequent_combinations(self, min_support=2):
        """
        æ‰¾åˆ°ç»å¸¸ä¸€èµ·è´­ä¹°çš„å•†å“ç»„åˆ
        ç”¨äº"è´­ä¹°äº†Açš„ç”¨æˆ·è¿˜è´­ä¹°äº†B"æ¨è
        """
        product_combinations = {}
        
        for user_products in self.user_purchases.values():
            if len(user_products) < 2:
                continue
            
            # ç”Ÿæˆæ‰€æœ‰å•†å“å¯¹ç»„åˆ
            product_list = list(user_products)
            for i in range(len(product_list)):
                for j in range(i + 1, len(product_list)):
                    combination = tuple(sorted([product_list[i], product_list[j]]))
                    product_combinations[combination] = product_combinations.get(combination, 0) + 1
        
        # è¿‡æ»¤å‡ºé¢‘ç¹ç»„åˆ
        frequent_combinations = {
            combo: count for combo, count in product_combinations.items()
            if count >= min_support
        }
        
        return frequent_combinations

# ä½¿ç”¨ç¤ºä¾‹
recommender = SimpleRecommendationEngine()

# æ¨¡æ‹Ÿè´­ä¹°æ•°æ®
purchases = [
    ('alice', 'laptop'), ('alice', 'mouse'), ('alice', 'keyboard'),
    ('bob', 'laptop'), ('bob', 'mouse'), ('bob', 'monitor'),
    ('charlie', 'phone'), ('charlie', 'case'), ('charlie', 'charger'),
    ('david', 'laptop'), ('david', 'mouse'), ('david', 'case'),
    ('eva', 'phone'), ('eva', 'case'), ('eva', 'headphones')
]

for user, product in purchases:
    recommender.add_purchase(user, product)

# ä¸ºAliceæ¨èå•†å“
recommendations = recommender.recommend_by_similarity('alice')
print(f"ä¸ºAliceæ¨èçš„å•†å“: {recommendations}")

# æ‰¾å‡ºé¢‘ç¹è´­ä¹°ç»„åˆ
frequent = recommender.find_frequent_combinations(min_support=2)
print("é¢‘ç¹è´­ä¹°ç»„åˆ:")
for combo, count in frequent.items():
    print(f"  {combo}: {count}æ¬¡")
```

---

## 5. ğŸ” æƒé™ç®¡ç†åº”ç”¨å®è·µ


### 5.1 åŸºäºè§’è‰²çš„æƒé™æ§åˆ¶ï¼ˆRBACï¼‰


**æƒé™ç®¡ç†çš„æ ¸å¿ƒæ€æƒ³**ï¼š
```
ç”¨æˆ· â†’ è§’è‰² â†’ æƒé™

ä¾‹å¦‚ï¼š
å¼ ä¸‰ â†’ ç¼–è¾‘å‘˜ â†’ {åˆ›å»ºæ–‡ç« , ç¼–è¾‘æ–‡ç« , åˆ é™¤è‡ªå·±æ–‡ç« }
æå›› â†’ ç®¡ç†å‘˜ â†’ {åˆ›å»ºæ–‡ç« , ç¼–è¾‘æ–‡ç« , åˆ é™¤ä»»æ„æ–‡ç« , ç”¨æˆ·ç®¡ç†}
```

```python
class RoleBasedAccessControl:
    """
    åŸºäºè§’è‰²çš„æƒé™æ§åˆ¶ç³»ç»Ÿ
    æ¼”ç¤ºé›†åˆåœ¨æƒé™ç®¡ç†ä¸­çš„æ ¸å¿ƒåº”ç”¨
    """
    
    def __init__(self):
        # å®šä¹‰æ‰€æœ‰å¯èƒ½çš„æƒé™
        self.all_permissions = {
            'create_post', 'edit_post', 'delete_post', 'publish_post',
            'create_user', 'edit_user', 'delete_user', 'view_users',
            'manage_system', 'view_reports', 'backup_data'
        }
        
        # å®šä¹‰è§’è‰²åŠå…¶æƒé™
        self.roles = {
            'visitor': {'view_posts'},
            'author': {'create_post', 'edit_post', 'delete_post'},
            'editor': {'create_post', 'edit_post', 'delete_post', 'publish_post'},
            'admin': {'create_post', 'edit_post', 'delete_post', 'publish_post',
                     'create_user', 'edit_user', 'view_users'},
            'superadmin': self.all_permissions.copy()  # æ‰€æœ‰æƒé™
        }
        
        # ç”¨æˆ·è§’è‰²åˆ†é…
        self.user_roles = {}
    
    def assign_role(self, user_id, role):
        """ä¸ºç”¨æˆ·åˆ†é…è§’è‰²"""
        if role not in self.roles:
            raise ValueError(f"è§’è‰² '{role}' ä¸å­˜åœ¨")
        
        if user_id not in self.user_roles:
            self.user_roles[user_id] = set()
        
        self.user_roles[user_id].add(role)
        print(f"ç”¨æˆ· {user_id} è·å¾—è§’è‰²: {role}")
    
    def get_user_permissions(self, user_id):
        """è·å–ç”¨æˆ·çš„æ‰€æœ‰æƒé™"""
        if user_id not in self.user_roles:
            return set()
        
        user_permissions = set()
        for role in self.user_roles[user_id]:
            user_permissions |= self.roles[role]  # å¹¶é›†æ“ä½œ
        
        return user_permissions
    
    def check_permission(self, user_id, permission):
        """æ£€æŸ¥ç”¨æˆ·æ˜¯å¦æœ‰ç‰¹å®šæƒé™"""
        user_permissions = self.get_user_permissions(user_id)
        return permission in user_permissions
    
    def get_missing_permissions(self, user_id, required_permissions):
        """è·å–ç”¨æˆ·ç¼ºå°‘çš„æƒé™"""
        user_permissions = self.get_user_permissions(user_id)
        return required_permissions - user_permissions  # å·®é›†æ“ä½œ
    
    def find_users_with_permission(self, permission):
        """æ‰¾åˆ°æ‹¥æœ‰ç‰¹å®šæƒé™çš„æ‰€æœ‰ç”¨æˆ·"""
        users_with_permission = []
        
        for user_id in self.user_roles:
            if self.check_permission(user_id, permission):
                users_with_permission.append(user_id)
        
        return users_with_permission

# ä½¿ç”¨ç¤ºä¾‹
rbac = RoleBasedAccessControl()

# åˆ†é…è§’è‰²
rbac.assign_role('alice', 'author')
rbac.assign_role('bob', 'editor')
rbac.assign_role('charlie', 'admin')
rbac.assign_role('alice', 'editor')  # Aliceè·å¾—å¤šä¸ªè§’è‰²

# æ£€æŸ¥æƒé™
print(f"Aliceçš„æƒé™: {rbac.get_user_permissions('alice')}")
print(f"Aliceèƒ½å¦åˆ é™¤æ–‡ç« : {rbac.check_permission('alice', 'delete_post')}")
print(f"Aliceèƒ½å¦åˆ›å»ºç”¨æˆ·: {rbac.check_permission('alice', 'create_user')}")

# æ£€æŸ¥ç¼ºå°‘çš„æƒé™
admin_permissions = {'create_user', 'delete_user', 'manage_system'}
missing = rbac.get_missing_permissions('alice', admin_permissions)
print(f"Aliceè¦æˆä¸ºç®¡ç†å‘˜è¿˜ç¼ºå°‘çš„æƒé™: {missing}")
```

### 5.2 åŠ¨æ€æƒé™éªŒè¯è£…é¥°å™¨


```python
def require_permissions(*required_perms):
    """
    æƒé™éªŒè¯è£…é¥°å™¨
    ä½¿ç”¨é›†åˆå¿«é€Ÿæ£€æŸ¥ç”¨æˆ·æƒé™
    """
    def decorator(func):
        def wrapper(user_id, *args, **kwargs):
            # è·å–ç”¨æˆ·æƒé™ï¼ˆç®€åŒ–ç‰ˆï¼Œå®é™…åº”ç”¨ä¸­ä»æ•°æ®åº“è·å–ï¼‰
            user_perms = get_user_permissions(user_id)
            required_set = set(required_perms)
            
            # æ£€æŸ¥æƒé™ï¼šç”¨æˆ·æƒé™å¿…é¡»åŒ…å«æ‰€æœ‰è¦æ±‚çš„æƒé™
            if not required_set.issubset(user_perms):
                missing = required_set - user_perms
                raise PermissionError(f"æƒé™ä¸è¶³ï¼Œç¼ºå°‘æƒé™: {missing}")
            
            return func(user_id, *args, **kwargs)
        return wrapper
    return decorator

# æ¨¡æ‹Ÿç”¨æˆ·æƒé™æ•°æ®
USER_PERMISSIONS = {
    'alice': {'create_post', 'edit_post'},
    'bob': {'create_post', 'edit_post', 'delete_post', 'publish_post'},
    'admin': {'create_post', 'edit_post', 'delete_post', 'publish_post', 
              'create_user', 'delete_user', 'manage_system'}
}

def get_user_permissions(user_id):
    return USER_PERMISSIONS.get(user_id, set())

# ä½¿ç”¨è£…é¥°å™¨ä¿æŠ¤å‡½æ•°
@require_permissions('create_post')
def create_article(user_id, title, content):
    return f"ç”¨æˆ· {user_id} åˆ›å»ºäº†æ–‡ç« : {title}"

@require_permissions('delete_post', 'publish_post')
def delete_published_article(user_id, article_id):
    return f"ç”¨æˆ· {user_id} åˆ é™¤äº†å·²å‘å¸ƒæ–‡ç« : {article_id}"

@require_permissions('manage_system', 'create_user')
def create_admin_user(user_id, new_user_id):
    return f"ç®¡ç†å‘˜ {user_id} åˆ›å»ºäº†æ–°ç®¡ç†å‘˜: {new_user_id}"

# æµ‹è¯•æƒé™éªŒè¯
try:
    print(create_article('alice', 'æˆ‘çš„ç¬¬ä¸€ç¯‡æ–‡ç« ', 'å†…å®¹...'))
    print(delete_published_article('bob', 'article_123'))
    print(create_admin_user('admin', 'new_admin'))
    
    # è¿™ä¸ªä¼šå¤±è´¥
    create_admin_user('alice', 'should_fail')
    
except PermissionError as e:
    print(f"æƒé™é”™è¯¯: {e}")
```

---

## 6. ğŸ·ï¸ æ ‡ç­¾ç³»ç»Ÿå®ç°


### 6.1 æ ‡ç­¾ç³»ç»Ÿçš„æ ¸å¿ƒæ¦‚å¿µ


**æ ‡ç­¾ç³»ç»Ÿå°±åƒç»™ç‰©å“è´´æ ‡ç­¾**ï¼š
```
æ–‡ç« A: {Python, æ•™ç¨‹, åˆå­¦è€…, ç¼–ç¨‹}
æ–‡ç« B: {Python, é«˜çº§, æ€§èƒ½ä¼˜åŒ–, ç¼–ç¨‹}
æ–‡ç« C: {JavaScript, å‰ç«¯, æ•™ç¨‹, Web}

é€šè¿‡æ ‡ç­¾å¯ä»¥ï¼š
- æ‰¾åˆ°æ‰€æœ‰Pythonç›¸å…³æ–‡ç« ï¼ˆåŒ…å«Pythonæ ‡ç­¾ï¼‰
- æ‰¾åˆ°é€‚åˆåˆå­¦è€…çš„æ–‡ç« ï¼ˆåŒ…å«åˆå­¦è€…æ ‡ç­¾ï¼‰
- åˆ†ææ ‡ç­¾ä¹‹é—´çš„å…³è”å…³ç³»
```

### 6.2 åŸºç¡€æ ‡ç­¾ç®¡ç†ç³»ç»Ÿ


```python
class TagSystem:
    """
    æ ‡ç­¾ç®¡ç†ç³»ç»Ÿ
    ä½¿ç”¨é›†åˆé«˜æ•ˆç®¡ç†ç‰©å“çš„æ ‡ç­¾å…³ç³»
    """
    
    def __init__(self):
        # item_id -> set of tags
        self.item_tags = {}
        # tag -> set of item_ids
        self.tag_items = {}
    
    def add_tag(self, item_id, tag):
        """ä¸ºç‰©å“æ·»åŠ æ ‡ç­¾"""
        # æ›´æ–°ç‰©å“çš„æ ‡ç­¾é›†åˆ
        if item_id not in self.item_tags:
            self.item_tags[item_id] = set()
        self.item_tags[item_id].add(tag)
        
        # æ›´æ–°æ ‡ç­¾çš„ç‰©å“é›†åˆ
        if tag not in self.tag_items:
            self.tag_items[tag] = set()
        self.tag_items[tag].add(item_id)
    
    def remove_tag(self, item_id, tag):
        """ç§»é™¤ç‰©å“çš„æ ‡ç­¾"""
        if item_id in self.item_tags:
            self.item_tags[item_id].discard(tag)
            
            # å¦‚æœç‰©å“æ²¡æœ‰æ ‡ç­¾äº†ï¼Œåˆ é™¤è®°å½•
            if not self.item_tags[item_id]:
                del self.item_tags[item_id]
        
        if tag in self.tag_items:
            self.tag_items[tag].discard(item_id)
            
            # å¦‚æœæ ‡ç­¾æ²¡æœ‰ç‰©å“äº†ï¼Œåˆ é™¤è®°å½•
            if not self.tag_items[tag]:
                del self.tag_items[tag]
    
    def get_items_by_tag(self, tag):
        """è·å–æ‹¥æœ‰æŒ‡å®šæ ‡ç­¾çš„æ‰€æœ‰ç‰©å“"""
        return self.tag_items.get(tag, set()).copy()
    
    def get_tags_by_item(self, item_id):
        """è·å–ç‰©å“çš„æ‰€æœ‰æ ‡ç­¾"""
        return self.item_tags.get(item_id, set()).copy()
    
    def find_items_with_all_tags(self, tags):
        """æ‰¾åˆ°åŒæ—¶æ‹¥æœ‰æ‰€æœ‰æŒ‡å®šæ ‡ç­¾çš„ç‰©å“ï¼ˆäº¤é›†ï¼‰"""
        if not tags:
            return set()
        
        result = self.get_items_by_tag(tags[0])
        for tag in tags[1:]:
            tag_items = self.get_items_by_tag(tag)
            result = result & tag_items  # äº¤é›†æ“ä½œ
        
        return result
    
    def find_items_with_any_tags(self, tags):
        """æ‰¾åˆ°æ‹¥æœ‰ä»»æ„æŒ‡å®šæ ‡ç­¾çš„ç‰©å“ï¼ˆå¹¶é›†ï¼‰"""
        result = set()
        for tag in tags:
            tag_items = self.get_items_by_tag(tag)
            result = result | tag_items  # å¹¶é›†æ“ä½œ
        
        return result
    
    def get_related_tags(self, tag, min_common_items=1):
        """æ‰¾åˆ°ä¸æŒ‡å®šæ ‡ç­¾ç›¸å…³çš„å…¶ä»–æ ‡ç­¾"""
        if tag not in self.tag_items:
            return set()
        
        target_items = self.tag_items[tag]
        related_tags = set()
        
        for other_tag, other_items in self.tag_items.items():
            if other_tag == tag:
                continue
            
            # è®¡ç®—å…±åŒçš„ç‰©å“æ•°é‡
            common_items = target_items & other_items
            if len(common_items) >= min_common_items:
                related_tags.add(other_tag)
        
        return related_tags

# ä½¿ç”¨ç¤ºä¾‹ï¼šåšå®¢æ ‡ç­¾ç³»ç»Ÿ
blog_tags = TagSystem()

# æ·»åŠ æ–‡ç« æ ‡ç­¾
articles = {
    'article1': ['Python', 'æ•™ç¨‹', 'åˆå­¦è€…', 'ç¼–ç¨‹'],
    'article2': ['Python', 'é«˜çº§', 'æ€§èƒ½ä¼˜åŒ–', 'ç¼–ç¨‹'],
    'article3': ['JavaScript', 'å‰ç«¯', 'æ•™ç¨‹', 'Web'],
    'article4': ['Python', 'æ•°æ®åˆ†æ', 'pandas', 'æ•™ç¨‹'],
    'article5': ['Java', 'ç¼–ç¨‹', 'Spring', 'ä¼ä¸šçº§']
}

for article_id, tags in articles.items():
    for tag in tags:
        blog_tags.add_tag(article_id, tag)

# æŸ¥è¯¢æ“ä½œ
print("Pythonç›¸å…³æ–‡ç« :", blog_tags.get_items_by_tag('Python'))
print("æ•™ç¨‹ç±»æ–‡ç« :", blog_tags.get_items_by_tag('æ•™ç¨‹'))

# å¤åˆæŸ¥è¯¢
python_tutorials = blog_tags.find_items_with_all_tags(['Python', 'æ•™ç¨‹'])
print("Pythonæ•™ç¨‹æ–‡ç« :", python_tutorials)

programming_articles = blog_tags.find_items_with_any_tags(['Python', 'Java', 'JavaScript'])
print("ç¼–ç¨‹ç›¸å…³æ–‡ç« :", programming_articles)

# æ‰¾ç›¸å…³æ ‡ç­¾
related_to_python = blog_tags.get_related_tags('Python')
print("ä¸Pythonç›¸å…³çš„æ ‡ç­¾:", related_to_python)
```

### 6.3 é«˜çº§æ ‡ç­¾åˆ†æåŠŸèƒ½


```python
class AdvancedTagAnalyzer:
    """
    é«˜çº§æ ‡ç­¾åˆ†æå™¨
    æä¾›æ ‡ç­¾ç»Ÿè®¡å’Œæ¨èåŠŸèƒ½
    """
    
    def __init__(self, tag_system):
        self.tag_system = tag_system
    
    def get_tag_popularity(self):
        """è·å–æ ‡ç­¾çƒ­åº¦æ’å"""
        tag_counts = {}
        for tag, items in self.tag_system.tag_items.items():
            tag_counts[tag] = len(items)
        
        # æŒ‰ä½¿ç”¨æ¬¡æ•°æ’åº
        sorted_tags = sorted(tag_counts.items(), key=lambda x: x[1], reverse=True)
        return sorted_tags
    
    def recommend_tags_for_item(self, item_id, max_recommendations=5):
        """ä¸ºç‰©å“æ¨èæ–°æ ‡ç­¾"""
        if item_id not in self.tag_system.item_tags:
            return []
        
        current_tags = self.tag_system.item_tags[item_id]
        recommended_tags = set()
        
        # åŸºäºå½“å‰æ ‡ç­¾æ‰¾ç›¸å…³æ ‡ç­¾
        for tag in current_tags:
            related = self.tag_system.get_related_tags(tag)
            recommended_tags |= related
        
        # æ’é™¤å·²æœ‰æ ‡ç­¾
        recommended_tags -= current_tags
        
        # æŒ‰çƒ­åº¦æ’åºæ¨è
        tag_popularity = dict(self.get_tag_popularity())
        sorted_recommendations = sorted(
            recommended_tags,
            key=lambda x: tag_popularity.get(x, 0),
            reverse=True
        )
        
        return sorted_recommendations[:max_recommendations]
    
    def find_tag_clusters(self, min_cluster_size=2):
        """æ‰¾åˆ°æ ‡ç­¾èšç±»ï¼ˆç»å¸¸ä¸€èµ·å‡ºç°çš„æ ‡ç­¾ç»„ï¼‰"""
        tag_combinations = {}
        
        for item_tags in self.tag_system.item_tags.values():
            if len(item_tags) < 2:
                continue
            
            # ç”Ÿæˆæ ‡ç­¾ç»„åˆ
            tag_list = list(item_tags)
            for i in range(len(tag_list)):
                for j in range(i + 1, len(tag_list)):
                    combination = tuple(sorted([tag_list[i], tag_list[j]]))
                    tag_combinations[combination] = tag_combinations.get(combination, 0) + 1
        
        # è¿‡æ»¤å‡ºé¢‘ç¹ç»„åˆ
        clusters = {
            combo: count for combo, count in tag_combinations.items()
            if count >= min_cluster_size
        }
        
        return sorted(clusters.items(), key=lambda x: x[1], reverse=True)

# ä½¿ç”¨é«˜çº§åˆ†æåŠŸèƒ½
analyzer = AdvancedTagAnalyzer(blog_tags)

# æ ‡ç­¾çƒ­åº¦æ’å
popularity = analyzer.get_tag_popularity()
print("æ ‡ç­¾çƒ­åº¦æ’å:")
for tag, count in popularity[:5]:
    print(f"  {tag}: {count}æ¬¡ä½¿ç”¨")

# æ¨èæ ‡ç­¾
recommendations = analyzer.recommend_tags_for_item('article1')
print(f"\nä¸ºarticle1æ¨èçš„æ ‡ç­¾: {recommendations}")

# æ ‡ç­¾èšç±»
clusters = analyzer.find_tag_clusters()
print("\né¢‘ç¹å‡ºç°çš„æ ‡ç­¾ç»„åˆ:")
for combo, count in clusters[:5]:
    print(f"  {combo}: å…±åŒå‡ºç°{count}æ¬¡")
```

---

## 7. âš¡ é›†åˆä¸åˆ—è¡¨æ€§èƒ½å¯¹æ¯”


### 7.1 ä¸ºä»€ä¹ˆé›†åˆæ›´å¿«ï¼Ÿåº•å±‚åŸç†


**æ•°æ®ç»“æ„å¯¹æ¯”**ï¼š
```
åˆ—è¡¨ï¼ˆListï¼‰:              é›†åˆï¼ˆSetï¼‰:
[A, B, C, D, E]           {A, B, C, D, E}
                         
æŸ¥æ‰¾æ–¹å¼ï¼š                 æŸ¥æ‰¾æ–¹å¼ï¼š
ä»å¤´å¼€å§‹é€ä¸ªæ¯”è¾ƒ            é€šè¿‡å“ˆå¸Œå€¼ç›´æ¥å®šä½
A==ç›®æ ‡? B==ç›®æ ‡? ...       hash(ç›®æ ‡) â†’ ç›´æ¥æ‰¾åˆ°ä½ç½®

æ—¶é—´å¤æ‚åº¦ï¼šO(n)           æ—¶é—´å¤æ‚åº¦ï¼šO(1)
```

### 7.2 æ€§èƒ½æµ‹è¯•å¯¹æ¯”


```python
import time
import random

def performance_comparison():
    """
    å¯¹æ¯”é›†åˆå’Œåˆ—è¡¨åœ¨ä¸åŒæ“ä½œä¸Šçš„æ€§èƒ½
    """
    # å‡†å¤‡æµ‹è¯•æ•°æ®
    data_sizes = [1000, 10000, 100000]
    
    for size in data_sizes:
        print(f"\n=== æ•°æ®é‡: {size} ===")
        
        # åˆ›å»ºæµ‹è¯•æ•°æ®
        test_data = list(range(size))
        test_set = set(test_data)
        test_list = test_data.copy()
        
        # å‡†å¤‡æŸ¥æ‰¾ç›®æ ‡ï¼ˆéšæœºé€‰æ‹©ä¸€äº›å­˜åœ¨å’Œä¸å­˜åœ¨çš„å€¼ï¼‰
        search_targets = random.sample(test_data, 100) + [size + i for i in range(100)]
        
        # æµ‹è¯•é›†åˆæŸ¥æ‰¾æ€§èƒ½
        start_time = time.time()
        for target in search_targets:
            target in test_set
        set_time = time.time() - start_time
        
        # æµ‹è¯•åˆ—è¡¨æŸ¥æ‰¾æ€§èƒ½
        start_time = time.time()
        for target in search_targets:
            target in test_list
        list_time = time.time() - start_time
        
        print(f"é›†åˆæŸ¥æ‰¾æ—¶é—´: {set_time:.4f}ç§’")
        print(f"åˆ—è¡¨æŸ¥æ‰¾æ—¶é—´: {list_time:.4f}ç§’")
        print(f"åˆ—è¡¨æ¯”é›†åˆæ…¢: {list_time/set_time:.1f}å€")

# è¿è¡Œæ€§èƒ½æµ‹è¯•
performance_comparison()
```

### 7.3 å®é™…åº”ç”¨ä¸­çš„æ€§èƒ½ä¼˜åŒ–æ¡ˆä¾‹


```python
class PerformanceOptimizedFilter:
    """
    æ€§èƒ½ä¼˜åŒ–çš„è¿‡æ»¤å™¨
    å±•ç¤ºé›†åˆåœ¨å®é™…åº”ç”¨ä¸­çš„æ€§èƒ½ä¼˜åŠ¿
    """
    
    def __init__(self):
        # ä½¿ç”¨é›†åˆå­˜å‚¨é»‘åå•ï¼Œæé«˜æŸ¥æ‰¾æ•ˆç‡
        self.blacklist = set()
        self.whitelist = set()
    
    def load_blacklist_from_file(self, filename):
        """ä»æ–‡ä»¶åŠ è½½é»‘åå•"""
        # å®é™…åº”ç”¨ä¸­ä¼šä»æ–‡ä»¶è¯»å–
        # è¿™é‡Œæ¨¡æ‹Ÿå¤§é‡é»‘åå•æ•°æ®
        large_blacklist = [f"bad_user_{i}" for i in range(50000)]
        self.blacklist = set(large_blacklist)
        print(f"åŠ è½½äº† {len(self.blacklist)} ä¸ªé»‘åå•ç”¨æˆ·")
    
    def batch_filter_users_optimized(self, user_list):
        """
        ä¼˜åŒ–ç‰ˆï¼šä½¿ç”¨é›†åˆå¿«é€Ÿè¿‡æ»¤
        """
        start_time = time.time()
        
        valid_users = []
        for user in user_list:
            if user not in self.blacklist:  # O(1) æŸ¥æ‰¾
                valid_users.append(user)
        
        end_time = time.time()
        return valid_users, end_time - start_time
    
    def batch_filter_users_slow(self, user_list):
        """
        å¯¹æ¯”ç‰ˆï¼šä½¿ç”¨åˆ—è¡¨è¿›è¡Œè¿‡æ»¤ï¼ˆæ¨¡æ‹Ÿä½æ•ˆåšæ³•ï¼‰
        """
        start_time = time.time()
        
        # è½¬æ¢ä¸ºåˆ—è¡¨ï¼ˆæ¨¡æ‹Ÿä½æ•ˆå®ç°ï¼‰
        blacklist_list = list(self.blacklist)
        
        valid_users = []
        for user in user_list:
            if user not in blacklist_list:  # O(n) æŸ¥æ‰¾
                valid_users.append(user)
        
        end_time = time.time()
        return valid_users, end_time - start_time

# æ€§èƒ½å¯¹æ¯”ç¤ºä¾‹
filter_system = PerformanceOptimizedFilter()
filter_system.load_blacklist_from_file("blacklist.txt")

# å‡†å¤‡æµ‹è¯•ç”¨æˆ·åˆ—è¡¨
test_users = [f"user_{i}" for i in range(10000)]
test_users += [f"bad_user_{i}" for i in range(100, 200)]  # æ··å…¥ä¸€äº›é»‘åå•ç”¨æˆ·

print(f"\næµ‹è¯•ç”¨æˆ·æ€»æ•°: {len(test_users)}")

# ä¼˜åŒ–ç‰ˆæœ¬
valid_users_fast, time_fast = filter_system.batch_filter_users_optimized(test_users)
print(f"é›†åˆç‰ˆæœ¬ - æœ‰æ•ˆç”¨æˆ·: {len(valid_users_fast)}, è€—æ—¶: {time_fast:.4f}ç§’")

# æ…¢é€Ÿç‰ˆæœ¬
valid_users_slow, time_slow = filter_system.batch_filter_users_slow(test_users)
print(f"åˆ—è¡¨ç‰ˆæœ¬ - æœ‰æ•ˆç”¨æˆ·: {len(valid_users_slow)}, è€—æ—¶: {time_slow:.4f}ç§’")
print(f"æ€§èƒ½æå‡: {time_slow/time_fast:.1f}å€")
```

### 7.4 é€‰æ‹©æŒ‡å—ï¼šä»€ä¹ˆæ—¶å€™ç”¨é›†åˆï¼Œä»€ä¹ˆæ—¶å€™ç”¨åˆ—è¡¨


| æ“ä½œç±»å‹ | **é›†åˆä¼˜åŠ¿** | **åˆ—è¡¨ä¼˜åŠ¿** | **æ¨èä½¿ç”¨** |
|---------|-------------|-------------|-------------|
| **é¢‘ç¹æŸ¥æ‰¾** | O(1)å¿«é€ŸæŸ¥æ‰¾ | O(n)çº¿æ€§æŸ¥æ‰¾ | âœ… **é›†åˆ** |
| **å»é‡éœ€æ±‚** | è‡ªåŠ¨å»é‡ | éœ€è¦é¢å¤–ä»£ç  | âœ… **é›†åˆ** |
| **ä¿æŒé¡ºåº** | æ— åº | æœ‰åº | âœ… **åˆ—è¡¨** |
| **ç´¢å¼•è®¿é—®** | ä¸æ”¯æŒ | æ”¯æŒ list[i] | âœ… **åˆ—è¡¨** |
| **æ•°å­¦è¿ç®—** | äº¤å¹¶å·®è¿ç®— | éœ€è¦é¢å¤–å®ç° | âœ… **é›†åˆ** |
| **å­˜å‚¨é‡å¤å…ƒç´ ** | ä¸æ”¯æŒ | æ”¯æŒ | âœ… **åˆ—è¡¨** |

**é€‰æ‹©åŸåˆ™**ï¼š
```python
# âœ… ä½¿ç”¨é›†åˆçš„åœºæ™¯
unique_visitors = set()           # å»é‡ç»Ÿè®¡
user_permissions = {'read', 'write'}  # æƒé™æ£€æŸ¥
valid_ids = {1, 2, 3, 4, 5}     # å¿«é€Ÿæˆå‘˜æµ‹è¯•

# âœ… ä½¿ç”¨åˆ—è¡¨çš„åœºæ™¯
shopping_cart = ['apple', 'banana', 'apple']  # å…è®¸é‡å¤
timeline = ['event1', 'event2', 'event3']     # ä¿æŒé¡ºåº
scores = [85, 92, 78, 90]        # éœ€è¦ç´¢å¼•è®¿é—®
```

---

## 8. ğŸš€ é›†åˆä¼˜åŒ–æŠ€å·§ä¸æœ€ä½³å®è·µ


### 8.1 é›†åˆåˆ›å»ºä¼˜åŒ–


```python
# ğŸ”¸ æ€§èƒ½ä¼˜åŒ–ï¼šé€‰æ‹©æœ€ä½³çš„é›†åˆåˆ›å»ºæ–¹å¼

# âœ… æ¨èï¼šç›´æ¥åˆ›å»ºï¼ˆæœ€å¿«ï¼‰
fast_set = {'a', 'b', 'c', 'd', 'e'}

# âœ… å¯ç”¨ï¼šä»å¯è¿­ä»£å¯¹è±¡åˆ›å»º
medium_set = set(['a', 'b', 'c', 'd', 'e'])

# âŒ é¿å…ï¼šé€ä¸ªæ·»åŠ ï¼ˆæœ€æ…¢ï¼‰
slow_set = set()
for item in ['a', 'b', 'c', 'd', 'e']:
    slow_set.add(item)

# ğŸ”¸ å¤§æ•°æ®é›†ä¼˜åŒ–ï¼šä½¿ç”¨ç”Ÿæˆå™¨è¡¨è¾¾å¼
large_set = set(x for x in range(1000000) if x % 2 == 0)
```

### 8.2 å†…å­˜ä¼˜åŒ–æŠ€å·§


```python
class MemoryOptimizedTagSystem:
    """
    å†…å­˜ä¼˜åŒ–çš„æ ‡ç­¾ç³»ç»Ÿ
    å±•ç¤ºé›†åˆä½¿ç”¨ä¸­çš„å†…å­˜ä¼˜åŒ–æŠ€å·§
    """
    
    def __init__(self):
        # ğŸ”¸ ä½¿ç”¨å­—ç¬¦ä¸²å¸¸é‡æ± ä¼˜åŒ–å†…å­˜
        self.tag_pool = {}  # æ ‡ç­¾å­—ç¬¦ä¸²æ± 
        self.item_tags = {}
        
    def _get_tag(self, tag_str):
        """è·å–æ ‡ç­¾å­—ç¬¦ä¸²ï¼Œå¤ç”¨ç›¸åŒå­—ç¬¦ä¸²ä»¥èŠ‚çœå†…å­˜"""
        if tag_str not in self.tag_pool:
            self.tag_pool[tag_str] = tag_str
        return self.tag_pool[tag_str]
    
    def add_tags(self, item_id, tags):
        """æ‰¹é‡æ·»åŠ æ ‡ç­¾ï¼ˆæ¯”é€ä¸ªæ·»åŠ æ›´é«˜æ•ˆï¼‰"""
        if item_id not in self.item_tags:
            self.item_tags[item_id] = set()
        
        # æ‰¹é‡æ“ä½œæ¯”å•ä¸ªæ“ä½œæ›´é«˜æ•ˆ
        optimized_tags = {self._get_tag(tag) for tag in tags}
        self.item_tags[item_id].update(optimized_tags)
    
    def remove_unused_tags(self):
        """æ¸…ç†æœªä½¿ç”¨çš„æ ‡ç­¾ï¼Œé‡Šæ”¾å†…å­˜"""
        used_tags = set()
        for tags in self.item_tags.values():
            used_tags.update(tags)
        
        # æ¸…ç†æœªä½¿ç”¨çš„æ ‡ç­¾
        unused_tags = set(self.tag_pool.keys()) - used_tags
        for tag in unused_tags:
            del self.tag_pool[tag]
        
        return len(unused_tags)

# ğŸ”¸ å†»ç»“é›†åˆï¼ˆfrozensetï¼‰çš„ä½¿ç”¨åœºæ™¯
class ImmutableConfigManager:
    """
    ä¸å¯å˜é…ç½®ç®¡ç†å™¨
    æ¼”ç¤ºfrozensetåœ¨é…ç½®ç®¡ç†ä¸­çš„åº”ç”¨
    """
    
    def __init__(self):
        # ä½¿ç”¨frozensetå­˜å‚¨ä¸å¯å˜çš„é…ç½®
        self.admin_permissions = frozenset([
            'create', 'read', 'update', 'delete', 'admin'
        ])
        
        self.user_permissions = frozenset([
            'read', 'update'
        ])
        
        # frozensetå¯ä»¥ä½œä¸ºå­—å…¸çš„é”®
        self.role_configs = {
            self.admin_permissions: {'level': 'admin', 'access_all': True},
            self.user_permissions: {'level': 'user', 'access_all': False}
        }
    
    def get_config_by_permissions(self, permissions):
        """æ ¹æ®æƒé™é›†åˆè·å–é…ç½®"""
        perm_frozenset = frozenset(permissions)
        return self.role_configs.get(perm_frozenset, None)
```

### 8.3 é”™è¯¯å¤„ç†ä¸è¾¹ç•Œæƒ…å†µ


```python
class RobustSetOperations:
    """
    å¥å£®çš„é›†åˆæ“ä½œ
    æ¼”ç¤ºé›†åˆä½¿ç”¨ä¸­çš„é”™è¯¯å¤„ç†æœ€ä½³å®è·µ
    """
    
    @staticmethod
    def safe_set_intersection(*sets):
        """
        å®‰å…¨çš„é›†åˆäº¤é›†æ“ä½œ
        å¤„ç†ç©ºé›†åˆå’ŒNoneå€¼
        """
        if not sets:
            return set()
        
        # è¿‡æ»¤æ‰Noneå€¼å’Œç©ºé›†åˆ
        valid_sets = [s for s in sets if s is not None]
        if not valid_sets:
            return set()
        
        result = valid_sets[0].copy()
        for s in valid_sets[1:]:
            result &= s
        
        return result
    
    @staticmethod
    def safe_set_union(*sets):
        """
        å®‰å…¨çš„é›†åˆå¹¶é›†æ“ä½œ
        """
        result = set()
        for s in sets:
            if s is not None:
                result |= s
        return result
    
    @staticmethod
    def safe_remove_from_set(target_set, item):
        """
        å®‰å…¨åœ°ä»é›†åˆä¸­ç§»é™¤å…ƒç´ 
        """
        try:
            target_set.remove(item)
            return True
        except KeyError:
            return False
    
    @staticmethod
    def safe_discard_from_set(target_set, item):
        """
        å®‰å…¨åœ°ä»é›†åˆä¸­ä¸¢å¼ƒå…ƒç´ ï¼ˆæ¨èæ–¹å¼ï¼‰
        """
        target_set.discard(item)  # ä¸å­˜åœ¨ä¹Ÿä¸ä¼šæŠ¥é”™
        return True

# ä½¿ç”¨ç¤ºä¾‹
sets_to_intersect = [{'a', 'b', 'c'}, {'b', 'c', 'd'}, None, {'c', 'd', 'e'}]
safe_intersection = RobustSetOperations.safe_set_intersection(*sets_to_intersect)
print(f"å®‰å…¨äº¤é›†ç»“æœ: {safe_intersection}")  # {'c'}
```

### 8.4 é›†åˆæ“ä½œçš„æœ€ä½³å®è·µ


```python
class SetBestPractices:
    """
    é›†åˆæ“ä½œæœ€ä½³å®è·µç¤ºä¾‹
    """
    
    @staticmethod
    def efficient_batch_operations():
        """æ¼”ç¤ºé«˜æ•ˆçš„æ‰¹é‡æ“ä½œ"""
        
        # âœ… å¥½çš„åšæ³•ï¼šæ‰¹é‡æ“ä½œ
        base_set = {1, 2, 3}
        new_items = [4, 5, 6, 7, 8]
        base_set.update(new_items)  # ä¸€æ¬¡æ€§æ·»åŠ å¤šä¸ªå…ƒç´ 
        
        # âŒ ä½æ•ˆåšæ³•ï¼šé€ä¸ªæ“ä½œ
        # for item in new_items:
        #     base_set.add(item)
        
        return base_set
    
    @staticmethod
    def memory_efficient_large_operations():
        """å¤§æ•°æ®é›†çš„å†…å­˜é«˜æ•ˆæ“ä½œ"""
        
        # âœ… ä½¿ç”¨ç”Ÿæˆå™¨è¡¨è¾¾å¼ï¼ŒèŠ‚çœå†…å­˜
        large_set = set(x for x in range(1000000) if x % 100 == 0)
        
        # âŒ é¿å…åˆ›å»ºä¸´æ—¶åˆ—è¡¨
        # temp_list = [x for x in range(1000000) if x % 100 == 0]
        # large_set = set(temp_list)
        
        return len(large_set)
    
    @staticmethod
    def choose_right_operation():
        """é€‰æ‹©æ­£ç¡®çš„é›†åˆæ“ä½œæ–¹æ³•"""
        
        set1 = {1, 2, 3, 4, 5}
        set2 = {4, 5, 6, 7, 8}
        
        # âœ… éœ€è¦ä¿®æ”¹åŸé›†åˆæ—¶
        set1 &= set2  # å°±åœ°äº¤é›†æ“ä½œ
        
        # âœ… éœ€è¦ä¿æŒåŸé›†åˆä¸å˜æ—¶
        set1 = {1, 2, 3, 4, 5}  # é‡ç½®
        result = set1 & set2    # åˆ›å»ºæ–°é›†åˆ
        
        # âœ… é“¾å¼æ“ä½œ
        final_result = (set1 | set2) & {1, 2, 3, 4, 5, 6}
        
        return result, final_result

# ğŸ”¸ æ€§èƒ½ç›‘æ§å·¥å…·
def monitor_set_performance(func):
    """
    é›†åˆæ“ä½œæ€§èƒ½ç›‘æ§è£…é¥°å™¨
    """
    import time
    import tracemalloc
    
    def wrapper(*args, **kwargs):
        # å¼€å§‹å†…å­˜ç›‘æ§
        tracemalloc.start()
        start_time = time.time()
        
        # æ‰§è¡Œå‡½æ•°
        result = func(*args, **kwargs)
        
        # ç»“æŸç›‘æ§
        end_time = time.time()
        current, peak = tracemalloc.get_traced_memory()
        tracemalloc.stop()
        
        print(f"å‡½æ•° {func.__name__} æ€§èƒ½æŠ¥å‘Š:")
        print(f"  æ‰§è¡Œæ—¶é—´: {end_time - start_time:.4f}ç§’")
        print(f"  å†…å­˜ä½¿ç”¨: {current / 1024 / 1024:.2f}MB")
        print(f"  å³°å€¼å†…å­˜: {peak / 1024 / 1024:.2f}MB")
        
        return result
    
    return wrapper
```

---

## 9. ğŸ¯ é›†åˆä½¿ç”¨åœºæ™¯æ€»ç»“


### 9.1 Webå¼€å‘ä¸­çš„é›†åˆåº”ç”¨


```python
# ğŸ”¸ ç”¨æˆ·ä¼šè¯ç®¡ç†
active_sessions = set()  # æ´»è·ƒä¼šè¯ID
banned_ips = set()       # è¢«å°IPåœ°å€

# ğŸ”¸ æƒé™ç³»ç»Ÿ
user_permissions = {
    'user123': {'read', 'write'},
    'admin456': {'read', 'write', 'delete', 'admin'}
}

# ğŸ”¸ å†…å®¹æ ‡ç­¾
article_tags = {
    'post1': {'python', 'tutorial', 'beginner'},
    'post2': {'javascript', 'advanced', 'performance'}
}

# ğŸ”¸ APIé™æµ
rate_limit_exceeded = set()  # è¶…å‡ºé™åˆ¶çš„ç”¨æˆ·
```

### 9.2 æ•°æ®å¤„ç†ä¸­çš„é›†åˆåº”ç”¨


```python
# ğŸ”¸ æ•°æ®å»é‡
unique_visitors = set()
unique_products = set()

# ğŸ”¸ æ•°æ®éªŒè¯
valid_email_domains = {'gmail.com', 'yahoo.com', 'company.com'}
allowed_file_types = {'.jpg', '.png', '.pdf', '.doc'}

# ğŸ”¸ æ•°æ®åˆ†æ
customer_segments = {
    'premium': {'user1', 'user2', 'user3'},
    'regular': {'user4', 'user5', 'user6'}
}
```

### 9.3 ç®—æ³•ä¼˜åŒ–ä¸­çš„é›†åˆåº”ç”¨


```python
# ğŸ”¸ å›¾ç®—æ³•ä¸­çš„è®¿é—®æ ‡è®°
visited_nodes = set()

# ğŸ”¸ æœç´¢ç®—æ³•ä¸­çš„é‡å¤æ£€æµ‹
seen_states = set()

# ğŸ”¸ ç¼“å­˜ç³»ç»Ÿä¸­çš„é”®ç®¡ç†
cached_keys = set()
expired_keys = set()
```

### 9.4 å®é™…é¡¹ç›®åœºæ™¯æ˜ å°„


```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ä¸šåŠ¡åœºæ™¯          â”‚    â”‚      é›†åˆåº”ç”¨            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ç”¨æˆ·æƒé™ç®¡ç†        â”‚ â†’ â”‚ æƒé™é›†åˆè¿ç®—              â”‚
â”‚ å•†å“æ ‡ç­¾ç³»ç»Ÿ        â”‚ â†’ â”‚ æ ‡ç­¾é›†åˆæ“ä½œ              â”‚
â”‚ æ•°æ®å»é‡æ¸…æ´—        â”‚ â†’ â”‚ é›†åˆè‡ªåŠ¨å»é‡              â”‚
â”‚ ç™½åå•é»‘åå•        â”‚ â†’ â”‚ æˆå‘˜æµ‹è¯•                 â”‚
â”‚ æ¨èç³»ç»Ÿ           â”‚ â†’ â”‚ ç”¨æˆ·å…´è¶£äº¤é›†             â”‚
â”‚ å†…å®¹è¿‡æ»¤           â”‚ â†’ â”‚ å…³é”®è¯åŒ¹é…               â”‚
â”‚ è®¿é—®æ§åˆ¶           â”‚ â†’ â”‚ IPåœ°å€é›†åˆ               â”‚
â”‚ æ•°æ®åˆ†æ           â”‚ â†’ â”‚ ç”¨æˆ·ç¾¤ä½“åˆ’åˆ†             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 10. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 10.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


> ğŸ’¡ **é›†åˆçš„æœ¬è´¨**  
> é›†åˆ = æ•°å­¦ä¸­çš„"é›†åˆ"æ¦‚å¿µï¼Œå…·æœ‰å”¯ä¸€æ€§ã€æ— åºæ€§ã€å¯å˜æ€§

```
ğŸ”¸ æ ¸å¿ƒç‰¹æ€§ï¼šè‡ªåŠ¨å»é‡ã€å¿«é€ŸæŸ¥æ‰¾ã€é›†åˆè¿ç®—
ğŸ”¸ æ—¶é—´å¤æ‚åº¦ï¼šæŸ¥æ‰¾O(1)ã€æ·»åŠ O(1)ã€åˆ é™¤O(1)
ğŸ”¸ ç©ºé—´å¤æ‚åº¦ï¼šO(n)ï¼Œnä¸ºå…ƒç´ ä¸ªæ•°
ğŸ”¸ ä½¿ç”¨é™åˆ¶ï¼šå…ƒç´ å¿…é¡»æ˜¯å¯å“ˆå¸Œçš„ï¼ˆä¸å¯å˜ç±»å‹ï¼‰
```

### 10.2 å…³é”®æ“ä½œæ€»ç»“


| æ“ä½œç±»å‹ | **è¯­æ³•** | **ç”¨é€”** | **ç¤ºä¾‹** |
|---------|---------|---------|---------|
| **åˆ›å»º** | `{1,2,3}` æˆ– `set([1,2,3])` | åˆ›å»ºé›†åˆ | `fruits = {'apple', 'banana'}` |
| **æ·»åŠ ** | `add(item)` | æ·»åŠ å•ä¸ªå…ƒç´  | `fruits.add('orange')` |
| **æ‰¹é‡æ·»åŠ ** | `update(items)` | æ·»åŠ å¤šä¸ªå…ƒç´  | `fruits.update(['grape', 'kiwi'])` |
| **åˆ é™¤** | `remove(item)` | åˆ é™¤å…ƒç´ ï¼ˆä¸å­˜åœ¨ä¼šæŠ¥é”™ï¼‰ | `fruits.remove('apple')` |
| **å®‰å…¨åˆ é™¤** | `discard(item)` | åˆ é™¤å…ƒç´ ï¼ˆä¸å­˜åœ¨ä¸æŠ¥é”™ï¼‰ | `fruits.discard('apple')` |
| **äº¤é›†** | `set1 & set2` | å…±åŒå…ƒç´  | `common = users1 & users2` |
| **å¹¶é›†** | `set1 | set2` | æ‰€æœ‰å…ƒç´  | `all_users = users1 | users2` |
| **å·®é›†** | `set1 - set2` | set1ç‹¬æœ‰ | `unique = users1 - users2` |
| **æˆå‘˜æµ‹è¯•** | `item in set` | æ£€æŸ¥å­˜åœ¨ | `if 'admin' in permissions:` |

### 10.3 æ€§èƒ½ä¼˜åŒ–è¦ç‚¹


```
ğŸš€ æ€§èƒ½ä¼˜åŒ–åŸåˆ™ï¼š
1. ä¼˜å…ˆä½¿ç”¨é›†åˆè¿›è¡Œæˆå‘˜æµ‹è¯•ï¼ˆæ¯”åˆ—è¡¨å¿«100å€ä»¥ä¸Šï¼‰
2. éœ€è¦å»é‡æ—¶ç›´æ¥ç”¨é›†åˆï¼Œé¿å…æ‰‹åŠ¨å»é‡é€»è¾‘
3. æ‰¹é‡æ“ä½œä½¿ç”¨update()ï¼Œé¿å…å¾ªç¯è°ƒç”¨add()
4. å¤§æ•°æ®å¤„ç†æ—¶è€ƒè™‘å†…å­˜ä½¿ç”¨ï¼Œé€‚æ—¶æ¸…ç†æ— ç”¨æ•°æ®
5. ä½¿ç”¨frozensetå­˜å‚¨ä¸å˜çš„é…ç½®æ•°æ®
```

### 10.4 å¸¸è§é™·é˜±ä¸æ³¨æ„äº‹é¡¹


> âš ï¸ **é‡è¦æé†’**

```python
# âŒ å¸¸è§é”™è¯¯1ï¼šåˆ›å»ºç©ºé›†åˆ
empty_dict = {}        # è¿™æ˜¯å­—å…¸ï¼
empty_set = set()      # âœ… æ­£ç¡®çš„ç©ºé›†åˆ

# âŒ å¸¸è§é”™è¯¯2ï¼šå°è¯•å­˜å‚¨å¯å˜å¯¹è±¡
# bad_set = {[1,2], [3,4]}  # åˆ—è¡¨ä¸å¯å“ˆå¸Œï¼Œä¼šæŠ¥é”™
good_set = {(1,2), (3,4)}   # âœ… å…ƒç»„å¯ä»¥

# âŒ å¸¸è§é”™è¯¯3ï¼šæœŸæœ›ä¿æŒé¡ºåº
data = {'c', 'a', 'b'}
# print(data[0])  # é›†åˆä¸æ”¯æŒç´¢å¼•è®¿é—®

# âŒ å¸¸è§é”™è¯¯4ï¼šä¿®æ”¹æ­£åœ¨è¿­ä»£çš„é›†åˆ
# for item in my_set:
#     my_set.remove(item)  # å¯èƒ½å¯¼è‡´é”™è¯¯
```

### 10.5 å®é™…åº”ç”¨æŒ‡å¯¼


**é€‰æ‹©é›†åˆçš„åˆ¤æ–­æ ‡å‡†**ï¼š
```
âœ… ä»€ä¹ˆæ—¶å€™ç”¨é›†åˆï¼š
- éœ€è¦å»é‡çš„åœºæ™¯
- é¢‘ç¹çš„æˆå‘˜æµ‹è¯•
- éœ€è¦æ•°å­¦é›†åˆè¿ç®—
- æƒé™ã€æ ‡ç­¾ã€IDç®¡ç†
- æ€§èƒ½è¦æ±‚é«˜çš„æŸ¥æ‰¾æ“ä½œ

âŒ ä»€ä¹ˆæ—¶å€™ä¸ç”¨é›†åˆï¼š
- éœ€è¦ä¿æŒå…ƒç´ é¡ºåº
- éœ€è¦å­˜å‚¨é‡å¤å…ƒç´ 
- éœ€è¦é€šè¿‡ç´¢å¼•è®¿é—®å…ƒç´ 
- å…ƒç´ ç±»å‹ä¸å¯å“ˆå¸Œï¼ˆå¦‚åˆ—è¡¨ã€å­—å…¸ï¼‰
- æ•°æ®é‡å¾ˆå°ï¼ˆ<100ä¸ªå…ƒç´ ï¼‰
```

### 10.6 å­¦ä¹ è·¯å¾„å»ºè®®


```
ğŸ¯ æ–°æ‰‹å­¦ä¹ è·¯å¾„ï¼š

ç¬¬ä¸€é˜¶æ®µï¼šåŸºç¡€ç†è§£
1. ç†è§£é›†åˆçš„æœ¬è´¨ç‰¹å¾ï¼ˆå”¯ä¸€æ€§ã€æ— åºæ€§ï¼‰
2. æŒæ¡åŸºæœ¬æ“ä½œï¼ˆåˆ›å»ºã€æ·»åŠ ã€åˆ é™¤ã€æŸ¥æ‰¾ï¼‰
3. å­¦ä¼šä¸åˆ—è¡¨çš„æ€§èƒ½å¯¹æ¯”

ç¬¬äºŒé˜¶æ®µï¼šå®ç”¨æŠ€èƒ½
4. æŒæ¡é›†åˆè¿ç®—ï¼ˆäº¤é›†ã€å¹¶é›†ã€å·®é›†ï¼‰
5. å­¦ä¼šæ•°æ®å»é‡çš„å„ç§åœºæ™¯
6. ç†è§£æˆå‘˜æµ‹è¯•çš„æ€§èƒ½ä¼˜åŠ¿

ç¬¬ä¸‰é˜¶æ®µï¼šé«˜çº§åº”ç”¨
7. æƒé™ç®¡ç†ç³»ç»Ÿè®¾è®¡
8. æ ‡ç­¾ç³»ç»Ÿå®ç°
9. æ€§èƒ½ä¼˜åŒ–æŠ€å·§

ç¬¬å››é˜¶æ®µï¼šå®æˆ˜é¡¹ç›®
10. é›†æˆåˆ°å®é™…é¡¹ç›®ä¸­
11. è§£å†³å…·ä½“ä¸šåŠ¡é—®é¢˜
12. æŒç»­ä¼˜åŒ–å’Œæ”¹è¿›
```

### 10.7 æ‰©å±•å­¦ä¹ èµ„æº


**ç›¸å…³çŸ¥è¯†ç‚¹**ï¼š
- **å­—å…¸ï¼ˆdictï¼‰**ï¼šé”®å€¼å¯¹å­˜å‚¨ï¼Œä¸é›†åˆæœ‰ç›¸ä¼¼çš„æŸ¥æ‰¾æ€§èƒ½
- **frozenset**ï¼šä¸å¯å˜é›†åˆï¼Œå¯ä»¥ä½œä¸ºå­—å…¸çš„é”®
- **collections.Counter**ï¼šè®¡æ•°é›†åˆï¼Œç»Ÿè®¡å…ƒç´ å‡ºç°æ¬¡æ•°
- **collections.defaultdict**ï¼šå¸¦é»˜è®¤å€¼çš„å­—å…¸ï¼Œé…åˆé›†åˆä½¿ç”¨

**å®é™…é¡¹ç›®åº”ç”¨æ–¹å‘**ï¼š
- Webå¼€å‘ï¼šç”¨æˆ·æƒé™ã€ä¼šè¯ç®¡ç†ã€å†…å®¹æ ‡ç­¾
- æ•°æ®åˆ†æï¼šæ•°æ®æ¸…æ´—ã€ç”¨æˆ·è¡Œä¸ºåˆ†æã€æ¨èç³»ç»Ÿ
- ç³»ç»Ÿå¼€å‘ï¼šç¼“å­˜ç®¡ç†ã€é…ç½®ç®¡ç†ã€å®‰å…¨è¿‡æ»¤
- ç®—æ³•ä¼˜åŒ–ï¼šæœç´¢ä¼˜åŒ–ã€å›¾ç®—æ³•ã€çŠ¶æ€ç®¡ç†

**æ ¸å¿ƒè®°å¿†å£è¯€**ï¼š
```
é›†åˆå»é‡æŸ¥æ‰¾å¿«ï¼Œæƒé™æ ‡ç­¾éƒ½é å®ƒ
äº¤å¹¶å·®è¿ç®—å¼ºï¼Œæˆå‘˜æµ‹è¯•æ•ˆç‡é«˜
åˆ—è¡¨æœ‰åºé›†åˆæ— ï¼ŒæŒ‰éœ€é€‰æ‹©ä¸ä¼šé”™
å“ˆå¸ŒåŸç†è¦è®°ç‰¢ï¼Œå¯å˜å¯¹è±¡è¿›ä¸äº†
```

---

## ğŸ”š ç»“è¯­


Pythoné›†åˆæ˜¯ä¸€ä¸ªæ—¢ç®€å•åˆå¼ºå¤§çš„æ•°æ®ç»“æ„ã€‚è™½ç„¶å®ƒçš„åŸºæœ¬æ¦‚å¿µå¾ˆå®¹æ˜“ç†è§£ï¼Œä½†è¦çœŸæ­£æŒæ¡å®ƒåœ¨å®é™…é¡¹ç›®ä¸­çš„åº”ç”¨ï¼Œéœ€è¦å¤§é‡çš„ç»ƒä¹ å’Œæ€è€ƒã€‚

é€šè¿‡æœ¬ç¬”è®°çš„å­¦ä¹ ï¼Œä½ åº”è¯¥èƒ½å¤Ÿï¼š
- **ç†è§£**é›†åˆçš„æ ¸å¿ƒç‰¹æ€§å’Œä½¿ç”¨åœºæ™¯
- **æŒæ¡**é›†åˆçš„åŸºæœ¬æ“ä½œå’Œé«˜çº§æŠ€å·§  
- **åº”ç”¨**é›†åˆè§£å†³å®é™…çš„ç¼–ç¨‹é—®é¢˜
- **ä¼˜åŒ–**ä»£ç çš„æ€§èƒ½å’Œå¯è¯»æ€§

è®°ä½ï¼Œç¼–ç¨‹ä¸ä»…ä»…æ˜¯å­¦ä¼šè¯­æ³•ï¼Œæ›´é‡è¦çš„æ˜¯å­¦ä¼š**ä»€ä¹ˆæ—¶å€™ç”¨ä»€ä¹ˆå·¥å…·**ã€‚é›†åˆå°±æ˜¯Pythonæä¾›ç»™æˆ‘ä»¬çš„ä¸€ä¸ªé«˜æ•ˆå·¥å…·ï¼Œåˆç†ä½¿ç”¨å®ƒèƒ½è®©ä½ çš„ä»£ç æ›´ç®€æ´ã€æ›´é«˜æ•ˆã€æ›´ä¼˜é›…ã€‚

> ğŸ’­ **æ€è€ƒç»ƒä¹ **  
> å°è¯•åœ¨ä½ çš„ä¸‹ä¸€ä¸ªé¡¹ç›®ä¸­æ‰¾åˆ°3ä¸ªå¯ä»¥ç”¨é›†åˆä¼˜åŒ–çš„åœ°æ–¹ï¼Œç„¶åå®é™…åº”ç”¨è¿™äº›æŠ€å·§ï¼Œä½“éªŒé›†åˆå¸¦æ¥çš„æ€§èƒ½æå‡ã€‚