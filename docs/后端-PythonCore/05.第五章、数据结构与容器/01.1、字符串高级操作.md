---
title: 1ã€å­—ç¬¦ä¸²é«˜çº§æ“ä½œ
---
## ğŸ“š ç›®å½•

1. [å­—ç¬¦ä¸²ç´¢å¼•ä¸åˆ‡ç‰‡](#1-å­—ç¬¦ä¸²ç´¢å¼•ä¸åˆ‡ç‰‡)
2. [å­—ç¬¦ä¸²ä¸å¯å˜ç‰¹æ€§](#2-å­—ç¬¦ä¸²ä¸å¯å˜ç‰¹æ€§)
3. [å­—ç¬¦ä¸²æ‹¼æ¥æ–¹å¼å¯¹æ¯”](#3-å­—ç¬¦ä¸²æ‹¼æ¥æ–¹å¼å¯¹æ¯”)
4. [join() vs + æ€§èƒ½åˆ†æ](#4-join-vs-æ€§èƒ½åˆ†æ)
5. [å­—ç¬¦ä¸²æŸ¥æ‰¾æ–¹æ³•](#5-å­—ç¬¦ä¸²æŸ¥æ‰¾æ–¹æ³•)
6. [å­—ç¬¦ä¸²åˆ¤æ–­æ–¹æ³•](#6-å­—ç¬¦ä¸²åˆ¤æ–­æ–¹æ³•)
7. [å­—ç¬¦ä¸²æ›¿æ¢æ–¹æ³•](#7-å­—ç¬¦ä¸²æ›¿æ¢æ–¹æ³•)
8. [å­—ç¬¦ä¸²åˆ†å‰²æ–¹æ³•](#8-å­—ç¬¦ä¸²åˆ†å‰²æ–¹æ³•)
9. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#9-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ” å­—ç¬¦ä¸²ç´¢å¼•ä¸åˆ‡ç‰‡


### 1.1 ä»€ä¹ˆæ˜¯å­—ç¬¦ä¸²ç´¢å¼•


**ç®€å•ç†è§£**ï¼šæƒ³è±¡å­—ç¬¦ä¸²å°±åƒä¸€ä¸²ç å­ï¼Œæ¯é¢—ç å­éƒ½æœ‰è‡ªå·±çš„ä½ç½®ç¼–å·ï¼Œè¿™ä¸ªç¼–å·å°±æ˜¯ç´¢å¼•ã€‚

```
å­—ç¬¦ä¸²ï¼š  "H  e  l  l  o"
æ­£å‘ç´¢å¼•ï¼š  0  1  2  3  4
åå‘ç´¢å¼•ï¼š -5 -4 -3 -2 -1
```

**ğŸ”¸ ç´¢å¼•è§„åˆ™**
- **æ­£å‘ç´¢å¼•**ï¼šä»å·¦åˆ°å³ï¼Œä» 0 å¼€å§‹è®¡æ•°
- **åå‘ç´¢å¼•**ï¼šä»å³åˆ°å·¦ï¼Œä» -1 å¼€å§‹è®¡æ•°
- **è®°å¿†æŠ€å·§**ï¼šæ­£å‘åƒæ•°ç»„ä¸‹æ ‡ï¼Œåå‘åƒå€’æ•°ç¬¬å‡ ä¸ª

```python
text = "Python"

# è·å–å•ä¸ªå­—ç¬¦
print(text[0])    # 'P' - ç¬¬ä¸€ä¸ªå­—ç¬¦
print(text[2])    # 't' - ç¬¬ä¸‰ä¸ªå­—ç¬¦
print(text[-1])   # 'n' - æœ€åä¸€ä¸ªå­—ç¬¦
print(text[-2])   # 'o' - å€’æ•°ç¬¬äºŒä¸ªå­—ç¬¦
```

### 1.2 å­—ç¬¦ä¸²åˆ‡ç‰‡æ“ä½œ


**ç”Ÿæ´»ç±»æ¯”**ï¼šåˆ‡ç‰‡å°±åƒåˆ‡é¢åŒ…ï¼Œä½ å¯ä»¥æŒ‡å®šä»å“ªé‡Œå¼€å§‹åˆ‡ï¼Œåˆ°å“ªé‡Œç»“æŸï¼Œæ¯éš”å‡ ç‰‡å–ä¸€ç‰‡ã€‚

**ğŸ”¸ åˆ‡ç‰‡è¯­æ³•æ ¼å¼**
```
å­—ç¬¦ä¸²[å¼€å§‹ä½ç½®:ç»“æŸä½ç½®:æ­¥é•¿]
```

**åŸºç¡€åˆ‡ç‰‡ç¤ºä¾‹**
```python
text = "Pythonç¼–ç¨‹"

# åŸºæœ¬åˆ‡ç‰‡
print(text[0:3])    # 'Pyt' - ä»ç´¢å¼•0åˆ°2ï¼ˆä¸åŒ…å«3ï¼‰
print(text[2:5])    # 'tho' - ä»ç´¢å¼•2åˆ°4
print(text[:3])     # 'Pyt' - ä»å¼€å¤´åˆ°ç´¢å¼•2
print(text[3:])     # 'honç¼–ç¨‹' - ä»ç´¢å¼•3åˆ°ç»“å°¾
print(text[:])      # 'Pythonç¼–ç¨‹' - å®Œæ•´å¤åˆ¶
```

**ğŸ¯ åˆ‡ç‰‡è®°å¿†è¦ç‚¹**
- **å·¦é—­å³å¼€**ï¼š`[start:end)` åŒ…å«startï¼Œä¸åŒ…å«end
- **çœç•¥è§„åˆ™**ï¼šçœç•¥startä»å¤´å¼€å§‹ï¼Œçœç•¥endåˆ°å°¾ç»“æŸ
- **è´Ÿæ•°ç´¢å¼•**ï¼šå¯ä»¥ç”¨è´Ÿæ•°è¡¨ç¤ºä»å°¾éƒ¨è®¡ç®—çš„ä½ç½®

**é«˜çº§åˆ‡ç‰‡æŠ€å·§**
```python
text = "abcdefgh"

# æ­¥é•¿åˆ‡ç‰‡
print(text[::2])     # 'aceg' - æ¯éš”ä¸€ä¸ªå­—ç¬¦å–ä¸€ä¸ª
print(text[1::2])    # 'bdfh' - ä»ç´¢å¼•1å¼€å§‹ï¼Œæ¯éš”ä¸€ä¸ªå–ä¸€ä¸ª
print(text[::-1])    # 'hgfedcba' - åè½¬å­—ç¬¦ä¸²ï¼ˆæ­¥é•¿ä¸º-1ï¼‰
print(text[6:2:-1])  # 'gfed' - ä»ç´¢å¼•6åˆ°3ï¼Œåå‘å–å€¼
```

**ğŸ“Š åˆ‡ç‰‡åº”ç”¨åœºæ™¯**
```
åº”ç”¨åœºæ™¯                     ç¤ºä¾‹ä»£ç 
è·å–æ–‡ä»¶æ‰©å±•å          filename[-4:]  # '.txt'
å»é™¤é¦–å°¾ç©ºæ ¼            text[1:-1]     # å»æ‰é¦–å°¾å­—ç¬¦
å­—ç¬¦ä¸²åè½¬              text[::-1]     # å®Œå…¨åè½¬
å–å‡ºä¸­é—´éƒ¨åˆ†            text[2:-2]     # å»æ‰å‰2å2ä¸ªå­—ç¬¦
```

### 1.3 ç´¢å¼•è¾¹ç•Œå¤„ç†


**âš ï¸ å¸¸è§é”™è¯¯**
```python
text = "hello"

# ç´¢å¼•è¶Šç•Œä¼šæŠ¥é”™
try:
    print(text[10])  # IndexError: string index out of range
except IndexError as e:
    print(f"é”™è¯¯ï¼š{e}")

# åˆ‡ç‰‡ä¸ä¼šæŠ¥é”™ï¼Œä¼šè¿”å›ç©ºå­—ç¬¦ä¸²æˆ–éƒ¨åˆ†ç»“æœ
print(text[10:15])   # '' - è¿”å›ç©ºå­—ç¬¦ä¸²
print(text[3:10])    # 'lo' - åªè¿”å›æœ‰æ•ˆéƒ¨åˆ†
```

**ğŸ’¡ å®‰å…¨è®¿é—®æŠ€å·§**
```python
def safe_get_char(text, index, default=""):
    """å®‰å…¨è·å–å­—ç¬¦ï¼Œé¿å…ç´¢å¼•è¶Šç•Œ"""
    if 0 <= index < len(text):
        return text[index]
    elif -len(text) <= index < 0:
        return text[index]
    else:
        return default

# ä½¿ç”¨ç¤ºä¾‹
text = "hello"
print(safe_get_char(text, 10))     # '' - è¿”å›é»˜è®¤å€¼
print(safe_get_char(text, 1))      # 'e' - æ­£å¸¸è¿”å›
```

---

## 2. ğŸ”’ å­—ç¬¦ä¸²ä¸å¯å˜ç‰¹æ€§


### 2.1 ä»€ä¹ˆæ˜¯ä¸å¯å˜ç‰¹æ€§


**ç”Ÿæ´»ç±»æ¯”**ï¼šå­—ç¬¦ä¸²å°±åƒå·²ç»å°åˆ·å¥½çš„ä¹¦ï¼Œä½ ä¸èƒ½ä¿®æ”¹ä¹¦ä¸Šçš„å­—ï¼Œåªèƒ½é‡æ–°å°ä¸€æœ¬æ–°ä¹¦ã€‚

**ğŸ”¸ æ ¸å¿ƒæ¦‚å¿µ**
```
ä¸å¯å˜(Immutable)ï¼šåˆ›å»ºåä¸èƒ½ä¿®æ”¹åŸå§‹å¯¹è±¡
- å­—ç¬¦ä¸²ä¸€æ—¦åˆ›å»ºï¼Œå†…å®¹æ— æ³•æ”¹å˜
- æ‰€æœ‰"ä¿®æ”¹"æ“ä½œéƒ½ä¼šåˆ›å»ºæ–°çš„å­—ç¬¦ä¸²å¯¹è±¡
- åŸå­—ç¬¦ä¸²ä¿æŒä¸å˜
```

**é”™è¯¯ç¤ºä¾‹ï¼ˆè¿™æ ·åšä¼šæŠ¥é”™ï¼‰**
```python
text = "hello"
# ä¸‹é¢çš„æ“ä½œä¼šæŠ¥é”™
# text[0] = 'H'  # TypeError: 'str' object does not support item assignment
```

**æ­£ç¡®çš„"ä¿®æ”¹"æ–¹å¼**
```python
text = "hello"

# æ–¹æ³•1ï¼šåˆ‡ç‰‡ç»„åˆ
new_text = 'H' + text[1:]  # "Hello"

# æ–¹æ³•2ï¼šä½¿ç”¨replaceæ–¹æ³•
new_text = text.replace('h', 'H')  # "Hello"

# æ–¹æ³•3ï¼šè½¬æ¢ä¸ºåˆ—è¡¨æ“ä½œåå†åˆå¹¶
char_list = list(text)
char_list[0] = 'H'
new_text = ''.join(char_list)  # "Hello"

print(f"åŸå­—ç¬¦ä¸²ï¼š{text}")      # "hello" - æ²¡æœ‰æ”¹å˜
print(f"æ–°å­—ç¬¦ä¸²ï¼š{new_text}")  # "Hello"
```

### 2.2 ä¸å¯å˜æ€§çš„å†…å­˜æœºåˆ¶


**ğŸ§  å†…å­˜ç¤ºæ„å›¾**
```
å†…å­˜ç©ºé—´ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ "hello" â”‚ â† å¯¹è±¡A (id: 140001)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â†‘
   textå˜é‡

æ‰§è¡Œ text = "Hello" åï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ "hello" â”‚   â”‚ "Hello" â”‚ â† å¯¹è±¡B (id: 140002)  
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â†‘
                textå˜é‡ï¼ˆæŒ‡å‘æ–°å¯¹è±¡ï¼‰
```

**éªŒè¯ä¸å¯å˜æ€§**
```python
# æŸ¥çœ‹å¯¹è±¡ID
text1 = "hello"
print(f"text1çš„IDï¼š{id(text1)}")

text2 = text1.replace('h', 'H')
print(f"text1çš„IDï¼š{id(text1)}")  # IDæ²¡å˜
print(f"text2çš„IDï¼š{id(text2)}")  # æ–°çš„ID

print(f"text1å†…å®¹ï¼š{text1}")      # "hello" - åŸå†…å®¹ä¸å˜
print(f"text2å†…å®¹ï¼š{text2}")      # "Hello" - æ–°å†…å®¹
```

### 2.3 ä¸å¯å˜æ€§çš„ä¼˜ç¼ºç‚¹


**âœ… ä¼˜ç‚¹**
```
çº¿ç¨‹å®‰å…¨    â†’ å¤šçº¿ç¨‹ç¯å¢ƒä¸‹æ— éœ€æ‹…å¿ƒæ•°æ®è¢«æ„å¤–ä¿®æ”¹
å“ˆå¸Œç¨³å®š    â†’ å¯ä»¥ä½œä¸ºå­—å…¸çš„é”®å€¼
è°ƒè¯•å‹å¥½    â†’ æ•°æ®ä¸ä¼šåœ¨æ„å¤–çš„åœ°æ–¹è¢«ä¿®æ”¹
å†…å­˜ä¼˜åŒ–    â†’ ç›¸åŒå†…å®¹çš„å­—ç¬¦ä¸²å¯ä»¥å…±äº«å†…å­˜
```

**âŒ ç¼ºç‚¹**
```
æ€§èƒ½å¼€é”€    â†’ é¢‘ç¹"ä¿®æ”¹"ä¼šåˆ›å»ºå¤§é‡ä¸´æ—¶å¯¹è±¡
å†…å­˜å ç”¨    â†’ å¤§é‡å­—ç¬¦ä¸²æ“ä½œå¯èƒ½å ç”¨æ›´å¤šå†…å­˜
ç¼–ç¨‹é™åˆ¶    â†’ ä¸èƒ½åƒåˆ—è¡¨é‚£æ ·ç›´æ¥ä¿®æ”¹å…ƒç´ 
```

**ğŸ¯ å®é™…åº”ç”¨å»ºè®®**
```python
# âŒ æ•ˆç‡ä½çš„å­—ç¬¦ä¸²æ‹¼æ¥
result = ""
for i in range(1000):
    result += str(i)  # æ¯æ¬¡éƒ½åˆ›å»ºæ–°å­—ç¬¦ä¸²

# âœ… é«˜æ•ˆçš„å­—ç¬¦ä¸²æ‹¼æ¥
parts = []
for i in range(1000):
    parts.append(str(i))
result = ''.join(parts)  # ä¸€æ¬¡æ€§æ‹¼æ¥
```

---

## 3. ğŸ”— å­—ç¬¦ä¸²æ‹¼æ¥æ–¹å¼å¯¹æ¯”


### 3.1 å¸¸è§æ‹¼æ¥æ–¹æ³•ä¸€è§ˆ


**ç”Ÿæ´»ç±»æ¯”**ï¼šæ‹¼æ¥å­—ç¬¦ä¸²å°±åƒç»„è£…å¥å­ï¼Œæœ‰å¤šç§ä¸åŒçš„ç»„è£…æ–¹æ³•ï¼Œæ¯ç§æ–¹æ³•çš„æ•ˆç‡å’Œé€‚ç”¨åœºæ™¯éƒ½ä¸åŒã€‚

**ğŸ“Š æ‹¼æ¥æ–¹æ³•æ€»è§ˆè¡¨**

| æ–¹æ³• | è¯­æ³•ç¤ºä¾‹ | é€‚ç”¨åœºæ™¯ | æ€§èƒ½ | å¯è¯»æ€§ |
|------|----------|----------|------|--------|
| **+ æ“ä½œç¬¦** | `a + b + c` | å°‘é‡å­—ç¬¦ä¸²æ‹¼æ¥ | â­â­ | â­â­â­â­ |
| **join()æ–¹æ³•** | `''.join([a, b, c])` | å¤§é‡å­—ç¬¦ä¸²æ‹¼æ¥ | â­â­â­â­ | â­â­â­ |
| **f-string** | `f"{a}{b}{c}"` | æ ¼å¼åŒ–æ‹¼æ¥ | â­â­â­â­ | â­â­â­â­â­ |
| **format()æ–¹æ³•** | `"{}{}{}.format(a,b,c)"` | æ¨¡æ¿æ‹¼æ¥ | â­â­â­ | â­â­â­ |
| **%æ ¼å¼åŒ–** | `"%s%s%s" % (a,b,c)` | ä¼ ç»Ÿæ ¼å¼åŒ– | â­â­ | â­â­ |

### 3.2 + æ“ä½œç¬¦æ‹¼æ¥


**ğŸ”¸ åŸºæœ¬ç”¨æ³•**
```python
# ç®€å•æ‹¼æ¥
first_name = "å¼ "
last_name = "ä¸‰"
full_name = first_name + last_name  # "å¼ ä¸‰"

# å¤šä¸ªæ‹¼æ¥
greeting = "ä½ å¥½ï¼Œ" + "æˆ‘æ˜¯" + full_name + "ï¼"
print(greeting)  # "ä½ å¥½ï¼Œæˆ‘æ˜¯å¼ ä¸‰ï¼"
```

**ğŸ“ˆ æ€§èƒ½ç‰¹ç‚¹**
```python
import time

# å°‘é‡æ‹¼æ¥ï¼ˆæ¨èï¼‰
start = time.time()
result = "hello" + " " + "world" + "!"
end = time.time()
print(f"å°‘é‡æ‹¼æ¥æ—¶é—´ï¼š{end - start:.6f}ç§’")

# å¤§é‡æ‹¼æ¥ï¼ˆä¸æ¨èï¼‰
start = time.time()
result = ""
for i in range(1000):
    result += str(i)  # æ¯æ¬¡åˆ›å»ºæ–°å­—ç¬¦ä¸²å¯¹è±¡
end = time.time()
print(f"å¤§é‡æ‹¼æ¥æ—¶é—´ï¼š{end - start:.6f}ç§’")
```

**âš ï¸ ä½¿ç”¨æ³¨æ„äº‹é¡¹**
- **é€‚åˆ**ï¼šå°‘é‡å­—ç¬¦ä¸²çš„ç®€å•æ‹¼æ¥
- **ä¸é€‚åˆ**ï¼šå¾ªç¯ä¸­çš„å¤§é‡æ‹¼æ¥æ“ä½œ
- **åŸå› **ï¼šæ¯æ¬¡+æ“ä½œéƒ½ä¼šåˆ›å»ºæ–°çš„å­—ç¬¦ä¸²å¯¹è±¡

### 3.3 join()æ–¹æ³•æ‹¼æ¥


**ğŸ”¸ åŸºæœ¬è¯­æ³•**
```python
# è¯­æ³•ï¼šåˆ†éš”ç¬¦.join(å¯è¿­ä»£å¯¹è±¡)
words = ["Python", "æ˜¯", "æœ€å¥½çš„", "è¯­è¨€"]

# ç”¨ç©ºæ ¼è¿æ¥
sentence = " ".join(words)
print(sentence)  # "Python æ˜¯ æœ€å¥½çš„ è¯­è¨€"

# ç”¨é€—å·è¿æ¥
csv_line = ",".join(words)
print(csv_line)  # "Python,æ˜¯,æœ€å¥½çš„,è¯­è¨€"

# æ— åˆ†éš”ç¬¦è¿æ¥
no_space = "".join(words)
print(no_space)  # "Pythonæ˜¯æœ€å¥½çš„è¯­è¨€"
```

**ğŸ’ª é«˜æ•ˆæ‹¼æ¥ç¤ºä¾‹**
```python
# æ„å»ºHTMLåˆ—è¡¨
items = ["è‹¹æœ", "é¦™è•‰", "æ©™å­"]
html_items = [f"<li>{item}</li>" for item in items]
html_list = "<ul>" + "".join(html_items) + "</ul>"
print(html_list)
# <ul><li>è‹¹æœ</li><li>é¦™è•‰</li><li>æ©™å­</li></ul>

# æ•°å­—åºåˆ—æ‹¼æ¥
numbers = range(1, 6)
number_string = "-".join(str(n) for n in numbers)
print(number_string)  # "1-2-3-4-5"
```

### 3.4 f-stringæ ¼å¼åŒ–æ‹¼æ¥


**ğŸ”¸ åŸºæœ¬ç”¨æ³•ï¼ˆPython 3.6+ï¼‰**
```python
name = "å°æ˜"
age = 18
score = 95.5

# f-stringæ‹¼æ¥
message = f"å­¦ç”Ÿ{name}ï¼Œå¹´é¾„{age}å²ï¼Œæˆç»©{score}åˆ†"
print(message)  # "å­¦ç”Ÿå°æ˜ï¼Œå¹´é¾„18å²ï¼Œæˆç»©95.5åˆ†"

# è¡¨è¾¾å¼æ”¯æŒ
discount = 0.8
price = 100
final_price = f"åŸä»·{price}å…ƒï¼ŒæŠ˜å{price * discount}å…ƒ"
print(final_price)  # "åŸä»·100å…ƒï¼ŒæŠ˜å80.0å…ƒ"
```

**ğŸ¨ é«˜çº§æ ¼å¼åŒ–**
```python
from datetime import datetime

now = datetime.now()
name = "å¼ ä¸‰"
balance = 1234.56789

# æ ¼å¼åŒ–æ•°å­—å’Œæ—¥æœŸ
report = f"""
ç”¨æˆ·æŠ¥å‘Š
å§“åï¼š{name}
ä½™é¢ï¼š{balance:.2f}å…ƒ
æ—¶é—´ï¼š{now:%Y-%m-%d %H:%M}
"""
print(report)
```

### 3.5 æ‹¼æ¥æ–¹æ³•é€‰æ‹©æŒ‡å—


**ğŸ¯ é€‰æ‹©å†³ç­–æ ‘**
```
å­—ç¬¦ä¸²æ‹¼æ¥éœ€æ±‚
        â†“
   éœ€è¦æ ¼å¼åŒ–ï¼Ÿ
    â†™        â†˜
  æ˜¯           å¦
   â†“           â†“
f-string    å­—ç¬¦ä¸²æ•°é‡ï¼Ÿ
  æˆ–          â†™      â†˜
format()   å°‘é‡      å¤§é‡
            â†“        â†“
           + æ“ä½œç¬¦  join()
```

**ğŸ“‹ å®é™…åº”ç”¨å»ºè®®**
```python
# âœ… æ¨èç”¨æ³•

# 1. ç®€å•æ‹¼æ¥ç”¨ +
file_name = name + ".txt"

# 2. æ ¼å¼åŒ–ç”¨ f-string
message = f"Hello {name}, you have {count} messages"

# 3. å¤§é‡æ‹¼æ¥ç”¨ join
lines = []
for data in large_dataset:
    lines.append(process(data))
result = "\n".join(lines)

# 4. æ¨¡æ¿æ‹¼æ¥ç”¨ format
template = "Dear {name}, your order #{order_id} is ready"
message = template.format(name="å¼ ä¸‰", order_id="12345")
```

---

## 4. âš¡ join() vs + æ€§èƒ½åˆ†æ


### 4.1 æ€§èƒ½å·®å¼‚çš„æ ¹æœ¬åŸå› 


**ğŸ§  å†…å­˜æœºåˆ¶åˆ†æ**

**+ æ“ä½œç¬¦çš„å†…å­˜è¡Œä¸º**
```
æ­¥éª¤1: "a" + "b"        â†’ åˆ›å»º "ab"
æ­¥éª¤2: "ab" + "c"       â†’ åˆ›å»º "abc" 
æ­¥éª¤3: "abc" + "d"      â†’ åˆ›å»º "abcd"
...
ç»“æœï¼šæ¯æ¬¡æ‹¼æ¥éƒ½è¦åˆ›å»ºæ–°çš„å­—ç¬¦ä¸²å¯¹è±¡
```

**join()æ–¹æ³•çš„å†…å­˜è¡Œä¸º**
```
æ­¥éª¤1: é¢„å…ˆè®¡ç®—æ€»é•¿åº¦
æ­¥éª¤2: åˆ†é…ä¸€æ¬¡æ€§å†…å­˜ç©ºé—´  
æ­¥éª¤3: ä¾æ¬¡å¤åˆ¶æ‰€æœ‰å­—ç¬¦ä¸²
ç»“æœï¼šåªåˆ›å»ºä¸€ä¸ªæœ€ç»ˆçš„å­—ç¬¦ä¸²å¯¹è±¡
```

### 4.2 æ€§èƒ½æµ‹è¯•å¯¹æ¯”


**ğŸ”¬ å®é™…æµ‹è¯•ä»£ç **
```python
import time
import sys

def test_plus_operator(count):
    """æµ‹è¯•+æ“ä½œç¬¦æ€§èƒ½"""
    start_time = time.time()
    result = ""
    for i in range(count):
        result += str(i)
    end_time = time.time()
    return end_time - start_time

def test_join_method(count):
    """æµ‹è¯•joinæ–¹æ³•æ€§èƒ½"""
    start_time = time.time()
    parts = []
    for i in range(count):
        parts.append(str(i))
    result = "".join(parts)
    end_time = time.time()
    return end_time - start_time

# æ€§èƒ½æµ‹è¯•
test_counts = [100, 1000, 5000, 10000]

print("æ€§èƒ½å¯¹æ¯”æµ‹è¯•ç»“æœï¼š")
print("æ•°é‡\t\t+ æ“ä½œç¬¦\t\tjoinæ–¹æ³•\t\tæ€§èƒ½å·®å¼‚")
print("-" * 60)

for count in test_counts:
    plus_time = test_plus_operator(count)
    join_time = test_join_method(count)
    ratio = plus_time / join_time if join_time > 0 else 0
    
    print(f"{count}\t\t{plus_time:.4f}s\t\t{join_time:.4f}s\t\t{ratio:.1f}å€")
```

**ğŸ“Š å…¸å‹æµ‹è¯•ç»“æœ**
```
æ•°é‡        + æ“ä½œç¬¦        joinæ–¹æ³•        æ€§èƒ½å·®å¼‚
100         0.0001s        0.0000s        2.5å€
1000        0.0156s        0.0002s        78å€  
5000        0.3841s        0.0009s        427å€
10000       1.5234s        0.0018s        846å€
```

### 4.3 å†…å­˜ä½¿ç”¨åˆ†æ


**ğŸ“ˆ å†…å­˜æ¶ˆè€—å¯¹æ¯”**
```python
import tracemalloc

def memory_test_plus(count):
    """æµ‹è¯•+æ“ä½œç¬¦å†…å­˜ä½¿ç”¨"""
    tracemalloc.start()
    
    result = ""
    for i in range(count):
        result += str(i)
    
    current, peak = tracemalloc.get_traced_memory()
    tracemalloc.stop()
    return peak

def memory_test_join(count):
    """æµ‹è¯•joinæ–¹æ³•å†…å­˜ä½¿ç”¨"""
    tracemalloc.start()
    
    parts = []
    for i in range(count):
        parts.append(str(i))
    result = "".join(parts)
    
    current, peak = tracemalloc.get_traced_memory()
    tracemalloc.stop()
    return peak

# å†…å­˜ä½¿ç”¨æµ‹è¯•
count = 5000
plus_memory = memory_test_plus(count)
join_memory = memory_test_join(count)

print(f"æ‹¼æ¥{count}ä¸ªå­—ç¬¦ä¸²çš„å†…å­˜ä½¿ç”¨ï¼š")
print(f"+ æ“ä½œç¬¦ï¼š{plus_memory / 1024 / 1024:.2f} MB")
print(f"joinæ–¹æ³•ï¼š{join_memory / 1024 / 1024:.2f} MB")
print(f"å†…å­˜èŠ‚çœï¼š{(plus_memory - join_memory) / plus_memory * 100:.1f}%")
```

### 4.4 æœ€ä½³å®è·µå»ºè®®


**ğŸ¯ ä½¿ç”¨å†³ç­–è¡¨**

| åœºæ™¯ | å­—ç¬¦ä¸²æ•°é‡ | æ¨èæ–¹æ³• | åŸå›  |
|------|------------|----------|------|
| **ç®€å•æ‹¼æ¥** | 2-3ä¸ª | `+` æ“ä½œç¬¦ | ä»£ç ç®€æ´ï¼Œæ€§èƒ½å·®å¼‚å¯å¿½ç•¥ |
| **æ ¼å¼åŒ–æ‹¼æ¥** | ä»»æ„ | `f-string` | å¯è¯»æ€§æœ€å¥½ï¼Œæ€§èƒ½ä¼˜ç§€ |
| **å¾ªç¯æ‹¼æ¥** | >10ä¸ª | `join()` | æ€§èƒ½æœ€ä¼˜ï¼Œå†…å­˜å‹å¥½ |
| **æ¡ä»¶æ‹¼æ¥** | ä¸å®š | åˆ—è¡¨+`join()` | çµæ´»æ€§å¥½ï¼Œæ€§èƒ½ç¨³å®š |

**ğŸ’¡ å®ç”¨ä»£ç æ¨¡æ¿**
```python
# æ¨¡æ¿1ï¼šç®€å•æ‹¼æ¥
def simple_concat(first, last):
    return first + " " + last

# æ¨¡æ¿2ï¼šæ ¼å¼åŒ–æ‹¼æ¥  
def format_message(name, age, city):
    return f"å§“åï¼š{name}ï¼Œå¹´é¾„ï¼š{age}ï¼ŒåŸå¸‚ï¼š{city}"

# æ¨¡æ¿3ï¼šå¤§é‡æ‹¼æ¥
def build_csv(data_list):
    lines = []
    for row in data_list:
        lines.append(",".join(str(item) for item in row))
    return "\n".join(lines)

# æ¨¡æ¿4ï¼šæ¡ä»¶æ‹¼æ¥
def build_query(base_query, conditions):
    parts = [base_query]
    if conditions:
        parts.append("WHERE")
        parts.append(" AND ".join(conditions))
    return " ".join(parts)
```

**âš ï¸ æ€§èƒ½é™·é˜±é¿å…**
```python
# âŒ æ€§èƒ½å·®çš„åšæ³•
def bad_concatenation(items):
    result = ""
    for item in items:
        result += str(item) + ", "
    return result[:-2]  # å»æ‰æœ€åçš„é€—å·

# âœ… æ€§èƒ½å¥½çš„åšæ³•
def good_concatenation(items):
    return ", ".join(str(item) for item in items)

# âœ… æ›´å¥½çš„åšæ³•ï¼ˆå¦‚æœéœ€è¦å¤æ‚é€»è¾‘ï¼‰
def better_concatenation(items):
    parts = []
    for item in items:
        processed = process_item(item)  # å‡è®¾éœ€è¦å¤„ç†
        if processed:  # å‡è®¾éœ€è¦æ¡ä»¶åˆ¤æ–­
            parts.append(processed)
    return ", ".join(parts)
```

---

## 5. ğŸ” å­—ç¬¦ä¸²æŸ¥æ‰¾æ–¹æ³•


### 5.1 find()æ–¹æ³• - æŸ¥æ‰¾å­—ç¬¦ä¸²ä½ç½®


**ç”Ÿæ´»ç±»æ¯”**ï¼šfind()å°±åƒåœ¨ä¸€æœ¬ä¹¦ä¸­æ‰¾ç‰¹å®šçš„è¯ï¼Œæ‰¾åˆ°äº†å‘Šè¯‰ä½ åœ¨ç¬¬å‡ é¡µï¼Œæ‰¾ä¸åˆ°å°±è¯´"æ²¡æ‰¾åˆ°"ã€‚

**ğŸ”¸ åŸºæœ¬è¯­æ³•**
```python
å­—ç¬¦ä¸².find(å­å­—ç¬¦ä¸², å¼€å§‹ä½ç½®, ç»“æŸä½ç½®)
```

**åŸºç¡€ä½¿ç”¨ç¤ºä¾‹**
```python
text = "Pythonç¼–ç¨‹å¾ˆæœ‰è¶£ï¼ŒPythonå­¦ä¹ å¾ˆç®€å•"

# åŸºæœ¬æŸ¥æ‰¾
pos1 = text.find("Python")
print(f"ç¬¬ä¸€ä¸ªPythonçš„ä½ç½®ï¼š{pos1}")  # 0

# ä»æŒ‡å®šä½ç½®å¼€å§‹æŸ¥æ‰¾
pos2 = text.find("Python", 1)  # ä»ä½ç½®1å¼€å§‹æ‰¾
print(f"ç¬¬äºŒä¸ªPythonçš„ä½ç½®ï¼š{pos2}")  # 11

# åœ¨æŒ‡å®šèŒƒå›´å†…æŸ¥æ‰¾
pos3 = text.find("ç¼–ç¨‹", 0, 10)
print(f"ç¼–ç¨‹çš„ä½ç½®ï¼š{pos3}")  # 6

# æŸ¥æ‰¾ä¸å­˜åœ¨çš„å­—ç¬¦ä¸²
pos4 = text.find("Java")
print(f"Javaçš„ä½ç½®ï¼š{pos4}")  # -1ï¼ˆè¡¨ç¤ºæœªæ‰¾åˆ°ï¼‰
```

**ğŸ“Š find()æ–¹æ³•ç‰¹ç‚¹**
```
è¿”å›å€¼ï¼š
âœ… æ‰¾åˆ° â†’ è¿”å›ç¬¬ä¸€æ¬¡å‡ºç°çš„ç´¢å¼•ä½ç½®
âŒ æœªæ‰¾åˆ° â†’ è¿”å› -1
âš ï¸ æ³¨æ„ï¼šåªè¿”å›ç¬¬ä¸€æ¬¡æ‰¾åˆ°çš„ä½ç½®
```

**å®ç”¨æŸ¥æ‰¾æŠ€å·§**
```python
email = "user@example.com"

# æ£€æŸ¥é‚®ç®±æ ¼å¼
at_pos = email.find("@")
dot_pos = email.find(".", at_pos)

if at_pos > 0 and dot_pos > at_pos:
    print("é‚®ç®±æ ¼å¼æ­£ç¡®")
    print(f"ç”¨æˆ·åï¼š{email[:at_pos]}")
    print(f"åŸŸåï¼š{email[at_pos+1:]}")
else:
    print("é‚®ç®±æ ¼å¼é”™è¯¯")
```

### 5.2 index()æ–¹æ³• - æŸ¥æ‰¾å¹¶æŠ›å‡ºå¼‚å¸¸


**ğŸ”¸ find() vs index() å¯¹æ¯”**
```python
text = "Hello World"

# find() - å®‰å…¨æŸ¥æ‰¾ï¼Œè¿”å›-1
pos1 = text.find("Python")
print(f"findç»“æœï¼š{pos1}")  # -1

# index() - ä¸¥æ ¼æŸ¥æ‰¾ï¼ŒæŠ›å‡ºå¼‚å¸¸
try:
    pos2 = text.index("Python")
    print(f"indexç»“æœï¼š{pos2}")
except ValueError as e:
    print(f"indexé”™è¯¯ï¼š{e}")  # substring not found
```

**ğŸ¯ ä½¿ç”¨åœºæ™¯é€‰æ‹©**
```python
def safe_search(text, target):
    """å®‰å…¨æŸ¥æ‰¾ï¼Œé€‚åˆä¸ç¡®å®šæ˜¯å¦å­˜åœ¨çš„æƒ…å†µ"""
    pos = text.find(target)
    if pos != -1:
        return f"æ‰¾åˆ°äº†ï¼Œä½ç½®ï¼š{pos}"
    else:
        return "æ²¡æ‰¾åˆ°"

def strict_search(text, target):
    """ä¸¥æ ¼æŸ¥æ‰¾ï¼Œé€‚åˆç¡®å®šä¸€å®šå­˜åœ¨çš„æƒ…å†µ"""
    try:
        pos = text.index(target)
        return f"æ‰¾åˆ°äº†ï¼Œä½ç½®ï¼š{pos}"
    except ValueError:
        return "ç¨‹åºå‡ºé”™ï¼šé¢„æœŸçš„å­—ç¬¦ä¸²ä¸å­˜åœ¨"

# ä½¿ç”¨ç¤ºä¾‹
filename = "report.pdf"
print(safe_search(filename, "."))      # é€‚åˆæ£€æŸ¥æ–‡ä»¶æ‰©å±•å
print(strict_search("2023-12-25", "-"))  # é€‚åˆè§£æå·²çŸ¥æ ¼å¼
```

### 5.3 count()æ–¹æ³• - ç»Ÿè®¡å‡ºç°æ¬¡æ•°


**ğŸ”¸ åŸºæœ¬ç”¨æ³•**
```python
text = "Pythonç¼–ç¨‹ï¼ŒPythonå¼€å‘ï¼Œå­¦ä¹ Python"

# ç»Ÿè®¡Pythonå‡ºç°æ¬¡æ•°
count = text.count("Python")
print(f"Pythonå‡ºç°äº†{count}æ¬¡")  # 3

# åœ¨æŒ‡å®šèŒƒå›´å†…ç»Ÿè®¡
count_range = text.count("Python", 0, 15)  
print(f"å‰15ä¸ªå­—ç¬¦ä¸­Pythonå‡ºç°äº†{count_range}æ¬¡")  # 2
```

**ğŸ“ˆ å®ç”¨ç»Ÿè®¡ç¤ºä¾‹**
```python
# ç»Ÿè®¡å•è¯é¢‘ç‡
def count_words(text):
    """ç»Ÿè®¡æ–‡æœ¬ä¸­å„å•è¯çš„å‡ºç°é¢‘ç‡"""
    # ç®€å•çš„è¯é¢‘ç»Ÿè®¡
    words = text.lower().replace(",", "").replace(".", "").split()
    word_count = {}
    
    for word in words:
        if word in word_count:
            word_count[word] += 1
        else:
            word_count[word] = 1
    
    return word_count

text = "Python is great. Python is powerful. I love Python."
word_freq = count_words(text)
for word, count in word_freq.items():
    print(f"{word}: {count}æ¬¡")

# ç»Ÿè®¡å­—ç¬¦å‡ºç°é¢‘ç‡
def count_chars(text):
    """ç»Ÿè®¡æ¯ä¸ªå­—ç¬¦çš„å‡ºç°æ¬¡æ•°"""
    char_count = {}
    for char in text:
        char_count[char] = text.count(char)
    return char_count

text = "hello"
char_freq = count_chars(text)
print(char_freq)  # {'h': 1, 'e': 1, 'l': 2, 'o': 1}
```

### 5.4 æŸ¥æ‰¾æ–¹æ³•çš„ç»„åˆåº”ç”¨


**ğŸ¯ å®é™…åº”ç”¨æ¡ˆä¾‹**
```python
def analyze_log_file(log_content):
    """åˆ†ææ—¥å¿—æ–‡ä»¶ä¸­çš„é”™è¯¯ä¿¡æ¯"""
    error_count = log_content.count("ERROR")
    warning_count = log_content.count("WARNING")
    
    # æ‰¾åˆ°ç¬¬ä¸€ä¸ªé”™è¯¯çš„ä½ç½®
    first_error_pos = log_content.find("ERROR")
    if first_error_pos != -1:
        # æ‰¾åˆ°é”™è¯¯æ‰€åœ¨è¡Œçš„å¼€å§‹å’Œç»“æŸ
        line_start = log_content.rfind("\n", 0, first_error_pos) + 1
        line_end = log_content.find("\n", first_error_pos)
        if line_end == -1:
            line_end = len(log_content)
        
        first_error_line = log_content[line_start:line_end]
    else:
        first_error_line = "æ— é”™è¯¯"
    
    return {
        "é”™è¯¯æ•°é‡": error_count,
        "è­¦å‘Šæ•°é‡": warning_count,
        "ç¬¬ä¸€ä¸ªé”™è¯¯": first_error_line
    }

# ä½¿ç”¨ç¤ºä¾‹
log = """
2023-12-25 10:00:01 INFO ç³»ç»Ÿå¯åŠ¨
2023-12-25 10:00:02 WARNING å†…å­˜ä½¿ç”¨ç‡é«˜
2023-12-25 10:00:03 ERROR æ•°æ®åº“è¿æ¥å¤±è´¥
2023-12-25 10:00:04 ERROR ç½‘ç»œè¶…æ—¶
"""

result = analyze_log_file(log)
for key, value in result.items():
    print(f"{key}: {value}")
```

**ğŸ”§ é«˜çº§æŸ¥æ‰¾å·¥å…·**
```python
def find_all_positions(text, target):
    """æŸ¥æ‰¾æ‰€æœ‰å‡ºç°ä½ç½®"""
    positions = []
    start = 0
    while True:
        pos = text.find(target, start)
        if pos == -1:
            break
        positions.append(pos)
        start = pos + 1
    return positions

# ä½¿ç”¨ç¤ºä¾‹
text = "Pythonå¾ˆå¥½ï¼ŒPythonå¾ˆå¼ºï¼ŒPythonå¾ˆæ£’"
positions = find_all_positions(text, "Python")
print(f"Pythonå‡ºç°çš„æ‰€æœ‰ä½ç½®ï¼š{positions}")  # [0, 7, 14]

def search_between_markers(text, start_marker, end_marker):
    """æŸ¥æ‰¾ä¸¤ä¸ªæ ‡è®°ä¹‹é—´çš„å†…å®¹"""
    start_pos = text.find(start_marker)
    if start_pos == -1:
        return "æœªæ‰¾åˆ°å¼€å§‹æ ‡è®°"
    
    start_pos += len(start_marker)
    end_pos = text.find(end_marker, start_pos)
    if end_pos == -1:
        return "æœªæ‰¾åˆ°ç»“æŸæ ‡è®°"
    
    return text[start_pos:end_pos]

# ä½¿ç”¨ç¤ºä¾‹
html = "<title>Pythonæ•™ç¨‹</title>"
title = search_between_markers(html, "<title>", "</title>")
print(f"ç½‘é¡µæ ‡é¢˜ï¼š{title}")  # Pythonæ•™ç¨‹
```

---

## 6. âœ… å­—ç¬¦ä¸²åˆ¤æ–­æ–¹æ³•


### 6.1 startswith() å’Œ endswith() - å¼€å¤´ç»“å°¾åˆ¤æ–­


**ç”Ÿæ´»ç±»æ¯”**ï¼šå°±åƒçœ‹ä¸€ä¸ªäººçš„å§“æ°åˆ¤æ–­å¯èƒ½çš„ç±è´¯ï¼Œæˆ–è€…çœ‹æ–‡ä»¶åçš„åç¼€åˆ¤æ–­æ–‡ä»¶ç±»å‹ã€‚

**ğŸ”¸ åŸºæœ¬ç”¨æ³•**
```python
filename = "report.pdf"
url = "https://www.python.org"
name = "å¼ ä¸‰"

# åˆ¤æ–­å¼€å¤´
print(filename.startswith("report"))   # True
print(url.startswith("https://"))      # True  
print(name.startswith("å¼ "))           # True

# åˆ¤æ–­ç»“å°¾
print(filename.endswith(".pdf"))       # True
print(url.endswith(".org"))            # True
print(name.endswith("ä¸‰"))             # True
```

**ğŸ¯ å¤šé€‰æ‹©åˆ¤æ–­**
```python
filename = "document.docx"

# åˆ¤æ–­å¤šä¸ªå¯èƒ½çš„å¼€å¤´
starts_with_doc = filename.startswith(("doc", "report", "file"))
print(f"ä»¥doc/report/fileå¼€å¤´ï¼š{starts_with_doc}")  # True

# åˆ¤æ–­å¤šä¸ªå¯èƒ½çš„ç»“å°¾ï¼ˆæ–‡ä»¶ç±»å‹æ£€æŸ¥ï¼‰
is_office_file = filename.endswith((".doc", ".docx", ".xls", ".xlsx", ".ppt", ".pptx"))
print(f"æ˜¯Officeæ–‡ä»¶ï¼š{is_office_file}")  # True

# åˆ¤æ–­å›¾ç‰‡æ–‡ä»¶
image_file = "photo.jpg"
is_image = image_file.endswith((".jpg", ".jpeg", ".png", ".gif", ".bmp"))
print(f"æ˜¯å›¾ç‰‡æ–‡ä»¶ï¼š{is_image}")  # True
```

**ğŸ“ å®é™…åº”ç”¨ç¤ºä¾‹**
```python
def classify_files(file_list):
    """æ–‡ä»¶åˆ†ç±»å™¨"""
    categories = {
        "å›¾ç‰‡": [],
        "æ–‡æ¡£": [],
        "è§†é¢‘": [],
        "å…¶ä»–": []
    }
    
    for filename in file_list:
        if filename.endswith((".jpg", ".jpeg", ".png", ".gif")):
            categories["å›¾ç‰‡"].append(filename)
        elif filename.endswith((".doc", ".docx", ".txt", ".pdf")):
            categories["æ–‡æ¡£"].append(filename)
        elif filename.endswith((".mp4", ".avi", ".mkv", ".mov")):
            categories["è§†é¢‘"].append(filename)
        else:
            categories["å…¶ä»–"].append(filename)
    
    return categories

files = ["photo.jpg", "report.pdf", "movie.mp4", "data.csv"]
result = classify_files(files)
for category, files in result.items():
    print(f"{category}: {files}")
```

### 6.2 isdigit() å’Œ isnumeric() - æ•°å­—åˆ¤æ–­


**ğŸ”¸ æ•°å­—åˆ¤æ–­æ–¹æ³•å¯¹æ¯”**

| æ–¹æ³• | æ£€æŸ¥å†…å®¹ | ç¤ºä¾‹ | ç»“æœ |
|------|----------|------|------|
| **isdigit()** | 0-9æ•°å­—å­—ç¬¦ | `"123".isdigit()` | `True` |
| **isnumeric()** | æ•°å­—å­—ç¬¦ï¼ˆåŒ…æ‹¬ä¸­æ–‡æ•°å­—ï¼‰ | `"ä¸€äºŒä¸‰".isnumeric()` | `True` |
| **isdecimal()** | åè¿›åˆ¶æ•°å­—å­—ç¬¦ | `"123".isdecimal()` | `True` |

**åŸºç¡€åˆ¤æ–­ç¤ºä¾‹**
```python
# åŸºæœ¬æ•°å­—åˆ¤æ–­
print("123".isdigit())      # True - çº¯æ•°å­—
print("12.3".isdigit())     # False - åŒ…å«å°æ•°ç‚¹
print("-123".isdigit())     # False - åŒ…å«è´Ÿå·
print("abc".isdigit())      # False - å­—æ¯

# ä¸­æ–‡æ•°å­—åˆ¤æ–­
print("ä¸€äºŒä¸‰".isnumeric())   # True - ä¸­æ–‡æ•°å­—
print("123".isnumeric())     # True - é˜¿æ‹‰ä¼¯æ•°å­—
print("â… ".isnumeric())       # True - ç½—é©¬æ•°å­—
```

**ğŸ¯ å®ç”¨è¾“å…¥éªŒè¯**
```python
def get_valid_age():
    """è·å–æœ‰æ•ˆçš„å¹´é¾„è¾“å…¥"""
    while True:
        age_input = input("è¯·è¾“å…¥æ‚¨çš„å¹´é¾„ï¼š").strip()
        
        if age_input.isdigit():
            age = int(age_input)
            if 0 <= age <= 150:
                return age
            else:
                print("å¹´é¾„åº”è¯¥åœ¨0-150ä¹‹é—´")
        else:
            print("è¯·è¾“å…¥æœ‰æ•ˆçš„æ•°å­—")

def validate_phone_number(phone):
    """éªŒè¯æ‰‹æœºå·ç æ ¼å¼"""
    # å»é™¤ç©ºæ ¼å’Œæ¨ªçº¿
    clean_phone = phone.replace(" ", "").replace("-", "")
    
    # æ£€æŸ¥æ˜¯å¦å…¨ä¸ºæ•°å­—ä¸”é•¿åº¦æ­£ç¡®
    if clean_phone.isdigit() and len(clean_phone) == 11:
        return True
    else:
        return False

# ä½¿ç”¨ç¤ºä¾‹
phone_numbers = ["13812345678", "138-1234-5678", "138 1234 5678", "abc12345678"]
for phone in phone_numbers:
    is_valid = validate_phone_number(phone)
    print(f"{phone}: {'æœ‰æ•ˆ' if is_valid else 'æ— æ•ˆ'}")
```

### 6.3 isalpha() å’Œ isalnum() - å­—æ¯å’Œå­—æ¯æ•°å­—åˆ¤æ–­


**ğŸ”¸ å­—ç¬¦ç±»å‹åˆ¤æ–­**
```python
# isalpha() - çº¯å­—æ¯åˆ¤æ–­
print("Hello".isalpha())     # True
print("ä½ å¥½".isalpha())       # True - ä¸­æ–‡ä¹Ÿæ˜¯å­—æ¯
print("Hello123".isalpha())  # False - åŒ…å«æ•°å­—
print("Hello!".isalpha())    # False - åŒ…å«æ ‡ç‚¹

# isalnum() - å­—æ¯æ•°å­—åˆ¤æ–­
print("Hello123".isalnum())  # True - å­—æ¯+æ•°å­—
print("ç”¨æˆ·123".isalnum())    # True - ä¸­æ–‡+æ•°å­—
print("Hello-123".isalnum()) # False - åŒ…å«æ¨ªçº¿
```

**ğŸ“ ç”¨æˆ·åéªŒè¯ç¤ºä¾‹**
```python
def validate_username(username):
    """éªŒè¯ç”¨æˆ·åæ ¼å¼"""
    # ç”¨æˆ·åè§„åˆ™ï¼šåªèƒ½åŒ…å«å­—æ¯ã€æ•°å­—ï¼Œé•¿åº¦3-20ä½
    if not username:
        return False, "ç”¨æˆ·åä¸èƒ½ä¸ºç©º"
    
    if not (3 <= len(username) <= 20):
        return False, "ç”¨æˆ·åé•¿åº¦åº”ä¸º3-20ä½"
    
    if not username.isalnum():
        return False, "ç”¨æˆ·ååªèƒ½åŒ…å«å­—æ¯å’Œæ•°å­—"
    
    if username.isdigit():
        return False, "ç”¨æˆ·åä¸èƒ½å…¨ä¸ºæ•°å­—"
    
    return True, "ç”¨æˆ·åæ ¼å¼æ­£ç¡®"

# æµ‹è¯•ç”¨æˆ·å
usernames = ["abc123", "å¼ ä¸‰", "user@123", "123456", "ab", "verylongusernamethatexceedslimit"]
for username in usernames:
    is_valid, message = validate_username(username)
    print(f"{username}: {message}")
```

### 6.4 å…¶ä»–å¸¸ç”¨åˆ¤æ–­æ–¹æ³•


**ğŸ”¸ ç©ºç™½å­—ç¬¦åˆ¤æ–­**
```python
# isspace() - åˆ¤æ–­æ˜¯å¦ä¸ºç©ºç™½å­—ç¬¦
print("   ".isspace())      # True - ç©ºæ ¼
print("\t\n".isspace())     # True - åˆ¶è¡¨ç¬¦å’Œæ¢è¡Œç¬¦
print("".isspace())         # False - ç©ºå­—ç¬¦ä¸²
print(" a ".isspace())      # False - åŒ…å«å­—æ¯

# å®ç”¨çš„å­—ç¬¦ä¸²æ¸…ç†
def clean_input(text):
    """æ¸…ç†ç”¨æˆ·è¾“å…¥"""
    if not text or text.isspace():
        return None
    return text.strip()

inputs = ["  hello  ", "   ", "", "world"]
for inp in inputs:
    cleaned = clean_input(inp)
    print(f"'{inp}' â†’ {cleaned}")
```

**ğŸ”¸ å¤§å°å†™åˆ¤æ–­**
```python
text1 = "HELLO"
text2 = "hello"  
text3 = "Hello"

# å¤§å°å†™åˆ¤æ–­
print(text1.isupper())    # True - å…¨å¤§å†™
print(text2.islower())    # True - å…¨å°å†™
print(text3.istitle())    # True - æ ‡é¢˜æ ¼å¼ï¼ˆé¦–å­—æ¯å¤§å†™ï¼‰

# å®ç”¨æ ¼å¼æ£€æŸ¥
def check_naming_convention(name):
    """æ£€æŸ¥å‘½åè§„èŒƒ"""
    if name.isupper():
        return "å¸¸é‡å‘½åï¼ˆå…¨å¤§å†™ï¼‰"
    elif name.islower():
        return "å˜é‡å‘½åï¼ˆå…¨å°å†™ï¼‰"
    elif name.istitle():
        return "ç±»åå‘½åï¼ˆé¦–å­—æ¯å¤§å†™ï¼‰"
    else:
        return "æ··åˆå¤§å°å†™"

names = ["MAX_SIZE", "user_name", "MyClass", "userAge"]
for name in names:
    convention = check_naming_convention(name)
    print(f"{name}: {convention}")
```

### 6.5 ç»¼åˆåˆ¤æ–­åº”ç”¨


**ğŸ¯ è¡¨å•éªŒè¯ç»¼åˆæ¡ˆä¾‹**
```python
class FormValidator:
    """è¡¨å•éªŒè¯å™¨"""
    
    @staticmethod
    def validate_email(email):
        """é‚®ç®±éªŒè¯"""
        if not email or "@" not in email or "." not in email:
            return False, "é‚®ç®±æ ¼å¼é”™è¯¯"
        
        parts = email.split("@")
        if len(parts) != 2:
            return False, "é‚®ç®±æ ¼å¼é”™è¯¯"
        
        username, domain = parts
        if not username or not domain:
            return False, "é‚®ç®±æ ¼å¼é”™è¯¯"
        
        return True, "é‚®ç®±æ ¼å¼æ­£ç¡®"
    
    @staticmethod  
    def validate_password(password):
        """å¯†ç å¼ºåº¦éªŒè¯"""
        if len(password) < 8:
            return False, "å¯†ç é•¿åº¦è‡³å°‘8ä½"
        
        has_digit = any(c.isdigit() for c in password)
        has_alpha = any(c.isalpha() for c in password)
        has_upper = any(c.isupper() for c in password)
        has_lower = any(c.islower() for c in password)
        
        if not (has_digit and has_alpha):
            return False, "å¯†ç å¿…é¡»åŒ…å«å­—æ¯å’Œæ•°å­—"
        
        if not (has_upper and has_lower):
            return False, "å¯†ç å¿…é¡»åŒ…å«å¤§å°å†™å­—æ¯"
        
        return True, "å¯†ç å¼ºåº¦ç¬¦åˆè¦æ±‚"
    
    @staticmethod
    def validate_name(name):
        """å§“åéªŒè¯"""
        if not name or name.isspace():
            return False, "å§“åä¸èƒ½ä¸ºç©º"
        
        if name.isdigit():
            return False, "å§“åä¸èƒ½å…¨ä¸ºæ•°å­—"
        
        if len(name) < 2 or len(name) > 20:
            return False, "å§“åé•¿åº¦åº”ä¸º2-20ä½"
        
        return True, "å§“åæ ¼å¼æ­£ç¡®"

# ä½¿ç”¨ç¤ºä¾‹
validator = FormValidator()

test_data = {
    "é‚®ç®±": ["user@example.com", "invalid-email", "user@.com"],
    "å¯†ç ": ["Password123", "password", "PASSWORD", "Pass123"],
    "å§“å": ["å¼ ä¸‰", "123", "", "æ"]
}

for field, values in test_data.items():
    print(f"\n{field}éªŒè¯ç»“æœï¼š")
    for value in values:
        if field == "é‚®ç®±":
            is_valid, msg = validator.validate_email(value)
        elif field == "å¯†ç ":
            is_valid, msg = validator.validate_password(value)
        else:  # å§“å
            is_valid, msg = validator.validate_name(value)
        
        status = "âœ…" if is_valid else "âŒ"
        print(f"{status} '{value}': {msg}")
```

---

## 7. ğŸ”„ å­—ç¬¦ä¸²æ›¿æ¢æ–¹æ³•


### 7.1 replace() æ–¹æ³• - åŸºç¡€æ›¿æ¢


**ç”Ÿæ´»ç±»æ¯”**ï¼šreplace()å°±åƒæ–‡æ¡£ç¼–è¾‘å™¨çš„"æŸ¥æ‰¾æ›¿æ¢"åŠŸèƒ½ï¼ŒæŠŠæ–‡æ¡£ä¸­æ‰€æœ‰çš„æŸä¸ªè¯æ›¿æ¢æˆå¦ä¸€ä¸ªè¯ã€‚

**ğŸ”¸ åŸºæœ¬è¯­æ³•**
```python
å­—ç¬¦ä¸².replace(æ—§å­—ç¬¦ä¸², æ–°å­—ç¬¦ä¸², æ›¿æ¢æ¬¡æ•°)
```

**åŸºç¡€ä½¿ç”¨ç¤ºä¾‹**
```python
text = "Pythonå¾ˆå¥½ï¼ŒPythonå¾ˆå¼ºï¼ŒPythonå¾ˆæ£’"

# æ›¿æ¢æ‰€æœ‰åŒ¹é…
new_text1 = text.replace("Python", "Java")
print(new_text1)  # "Javaå¾ˆå¥½ï¼ŒJavaå¾ˆå¼ºï¼ŒJavaå¾ˆæ£’"

# é™åˆ¶æ›¿æ¢æ¬¡æ•°
new_text2 = text.replace("Python", "Java", 2)  # åªæ›¿æ¢å‰2ä¸ª
print(new_text2)  # "Javaå¾ˆå¥½ï¼ŒJavaå¾ˆå¼ºï¼ŒPythonå¾ˆæ£’"

# åŸå­—ç¬¦ä¸²ä¸å˜
print(text)  # "Pythonå¾ˆå¥½ï¼ŒPythonå¾ˆå¼ºï¼ŒPythonå¾ˆæ£’"
```

**ğŸ“ å®ç”¨æ›¿æ¢åœºæ™¯**
```python
# æ¸…ç†ç”¨æˆ·è¾“å…¥
def clean_user_input(text):
    """æ¸…ç†ç”¨æˆ·è¾“å…¥çš„å¸¸è§é—®é¢˜"""
    # æ›¿æ¢å…¨è§’å­—ç¬¦ä¸ºåŠè§’
    text = text.replace("ï¼Œ", ",")
    text = text.replace("ã€‚", ".")
    text = text.replace("ï¼", "!")
    text = text.replace("ï¼Ÿ", "?")
    
    # å»é™¤å¤šä½™ç©ºæ ¼
    while "  " in text:  # æŒç»­æ›¿æ¢ç›´åˆ°æ²¡æœ‰åŒç©ºæ ¼
        text = text.replace("  ", " ")
    
    return text.strip()

user_input = "ä½ å¥½ï¼Œ    è¿™æ˜¯æµ‹è¯•ï¼ï¼ï¼"
cleaned = clean_user_input(user_input)
print(f"åŸå§‹è¾“å…¥ï¼š'{user_input}'")
print(f"æ¸…ç†åï¼š'{cleaned}'")

# æ•æ„Ÿè¯è¿‡æ»¤
def filter_sensitive_words(text, sensitive_words):
    """è¿‡æ»¤æ•æ„Ÿè¯"""
    for word in sensitive_words:
        text = text.replace(word, "*" * len(word))
    return text

content = "è¿™é‡Œæœ‰ä¸€äº›ä¸å½“è¨€è®ºå’Œè¿ç¦å†…å®¹"
sensitive = ["ä¸å½“", "è¿ç¦"]
filtered = filter_sensitive_words(content, sensitive)
print(f"è¿‡æ»¤åï¼š{filtered}")  # "è¿™é‡Œæœ‰ä¸€äº›**è¨€è®ºå’Œ**å†…å®¹"
```

### 7.2 translate() æ–¹æ³• - å­—ç¬¦æ˜ å°„æ›¿æ¢


**ğŸ”¸ ä»€ä¹ˆæ˜¯translate()æ–¹æ³•**
translate()æ–¹æ³•ä½¿ç”¨ç¿»è¯‘è¡¨è¿›è¡Œå­—ç¬¦æ›¿æ¢ï¼Œæ¯”replace()æ›´é«˜æ•ˆï¼Œç‰¹åˆ«é€‚åˆå•å­—ç¬¦æ›¿æ¢ã€‚

**åŸºç¡€ä½¿ç”¨ç¤ºä¾‹**
```python
# åˆ›å»ºç¿»è¯‘è¡¨
translation_table = str.maketrans("abc", "123")

text = "abcdef"
result = text.translate(translation_table)
print(result)  # "123def"

# åˆ é™¤å­—ç¬¦ï¼ˆç¬¬ä¸‰ä¸ªå‚æ•°ï¼‰
translation_table2 = str.maketrans("abc", "123", "def")
result2 = text.translate(translation_table2)
print(result2)  # "123" (defè¢«åˆ é™¤)
```

**ğŸ¯ å®é™…åº”ç”¨åœºæ™¯**
```python
def remove_punctuation(text):
    """ç§»é™¤æ ‡ç‚¹ç¬¦å·"""
    import string
    # åˆ›å»ºåˆ é™¤æ ‡ç‚¹çš„ç¿»è¯‘è¡¨
    translator = str.maketrans('', '', string.punctuation)
    return text.translate(translator)

def caesar_cipher(text, shift):
    """å‡¯æ’’å¯†ç åŠ å¯†"""
    uppercase = "ABCDEFGHIJKLMNOPQRSTUVWXYZ"
    lowercase = "abcdefghijklmnopqrstuvwxyz"
    
    # åˆ›å»ºä½ç§»åçš„å­—æ¯è¡¨
    upper_shifted = uppercase[shift:] + uppercase[:shift]
    lower_shifted = lowercase[shift:] + lowercase[:shift]
    
    # åˆ›å»ºç¿»è¯‘è¡¨
    translator = str.maketrans(
        uppercase + lowercase,
        upper_shifted + lower_shifted
    )
    
    return text.translate(translator)

# ä½¿ç”¨ç¤ºä¾‹
text_with_punct = "Hello, World! How are you?"
clean_text = remove_punctuation(text_with_punct)
print(f"å»æ ‡ç‚¹ï¼š{clean_text}")  # "Hello World How are you"

secret_message = caesar_cipher("Hello World", 3)
print(f"åŠ å¯†åï¼š{secret_message}")  # "Khoor Zruog"
```

### 7.3 é«˜çº§æ›¿æ¢æŠ€å·§


**ğŸ”§ é“¾å¼æ›¿æ¢**
```python
def format_phone_number(phone):
    """æ ¼å¼åŒ–ç”µè¯å·ç """
    # é“¾å¼æ›¿æ¢æ¸…ç†æ ¼å¼
    cleaned = (phone
               .replace(" ", "")
               .replace("-", "")
               .replace("(", "")
               .replace(")", "")
               .replace("+86", ""))
    
    # æ ¼å¼åŒ–ä¸ºæ ‡å‡†æ ¼å¼
    if len(cleaned) == 11 and cleaned.startswith("1"):
        formatted = f"{cleaned[:3]}-{cleaned[3:7]}-{cleaned[7:]}"
        return formatted
    else:
        return "æ— æ•ˆç”µè¯å·ç "

phones = ["138 1234 5678", "138-1234-5678", "(138)12345678", "+86 13812345678"]
for phone in phones:
    formatted = format_phone_number(phone)
    print(f"{phone} â†’ {formatted}")
```

**ğŸ“Š æ‰¹é‡æ›¿æ¢å­—å…¸**
```python
def batch_replace(text, replace_dict):
    """æ‰¹é‡æ›¿æ¢å­—å…¸ä¸­çš„é”®å€¼å¯¹"""
    for old, new in replace_dict.items():
        text = text.replace(old, new)
    return text

# æ–‡æœ¬æ ‡å‡†åŒ–
standardize_dict = {
    "colour": "color",
    "flavour": "flavor", 
    "centre": "center",
    "realise": "realize"
}

british_text = "The colour of the centre is realised"
american_text = batch_replace(british_text, standardize_dict)
print(f"è‹±å¼ï¼š{british_text}")
print(f"ç¾å¼ï¼š{american_text}")

# HTMLè½¬ä¹‰
html_escape_dict = {
    "&": "&amp;",
    "<": "&lt;",
    ">": "&gt;",
    '"': "&quot;",
    "'": "&#x27;"
}

def escape_html(text):
    """HTMLè½¬ä¹‰"""
    return batch_replace(text, html_escape_dict)

html_text = '<script>alert("Hello & Goodbye")</script>'
escaped = escape_html(html_text)
print(f"è½¬ä¹‰å‰ï¼š{html_text}")
print(f"è½¬ä¹‰åï¼š{escaped}")
```

### 7.4 æ›¿æ¢æ€§èƒ½ä¼˜åŒ–


**âš¡ æ€§èƒ½å¯¹æ¯”æµ‹è¯•**
```python
import time
import re

def test_replace_performance():
    """æµ‹è¯•ä¸åŒæ›¿æ¢æ–¹æ³•çš„æ€§èƒ½"""
    text = "abcdefghijklmnopqrstuvwxyz" * 1000
    
    # æ–¹æ³•1ï¼šå¤šæ¬¡replace
    start = time.time()
    result1 = text.replace('a', '1').replace('b', '2').replace('c', '3')
    time1 = time.time() - start
    
    # æ–¹æ³•2ï¼štranslate
    start = time.time()
    translator = str.maketrans('abc', '123')
    result2 = text.translate(translator)
    time2 = time.time() - start
    
    # æ–¹æ³•3ï¼šæ­£åˆ™è¡¨è¾¾å¼ï¼ˆé¢„è§ˆï¼‰
    start = time.time()
    pattern = re.compile('[abc]')
    result3 = pattern.sub(lambda m: {'a': '1', 'b': '2', 'c': '3'}[m.group()], text)
    time3 = time.time() - start
    
    print(f"å¤šæ¬¡replace: {time1:.6f}ç§’")
    print(f"translate:   {time2:.6f}ç§’")
    print(f"æ­£åˆ™è¡¨è¾¾å¼:   {time3:.6f}ç§’")
    
    # éªŒè¯ç»“æœä¸€è‡´æ€§
    print(f"ç»“æœä¸€è‡´: {result1 == result2 == result3}")

# test_replace_performance()  # å¯ä»¥å–æ¶ˆæ³¨é‡Šè¿è¡Œæµ‹è¯•
```

**ğŸ’¡ æœ€ä½³å®è·µå»ºè®®**
```python
# âœ… æ¨èçš„æ›¿æ¢ç­–ç•¥

# 1. å•ä¸€æ›¿æ¢ç”¨replace
def simple_replace(text):
    return text.replace("old", "new")

# 2. å¤šå­—ç¬¦ä¸€å¯¹ä¸€æ›¿æ¢ç”¨translate
def char_replace(text):
    translator = str.maketrans("123", "abc")
    return text.translate(translator)

# 3. å¤æ‚æ¨¡å¼æ›¿æ¢ç”¨æ­£åˆ™ï¼ˆä¸‹ç« è¯¦è¿°ï¼‰
def pattern_replace(text):
    import re
    return re.sub(r'\d+', 'NUMBER', text)

# 4. å¤§é‡ä¸åŒæ›¿æ¢ç”¨å¾ªç¯
def bulk_replace(text, replacements):
    for old, new in replacements:
        text = text.replace(old, new)
    return text
```

---

## 8. âœ‚ï¸ å­—ç¬¦ä¸²åˆ†å‰²æ–¹æ³•


### 8.1 split() æ–¹æ³• - åŸºç¡€åˆ†å‰²


**ç”Ÿæ´»ç±»æ¯”**ï¼šsplit()å°±åƒåˆ‡èœï¼ŒæŒ‰ç…§æŒ‡å®šçš„"åˆ€æ³•"ï¼ˆåˆ†éš”ç¬¦ï¼‰æŠŠä¸€æ ¹é•¿é»„ç“œåˆ‡æˆè‹¥å¹²æ®µã€‚

**ğŸ”¸ åŸºæœ¬è¯­æ³•**
```python
å­—ç¬¦ä¸².split(åˆ†éš”ç¬¦, æœ€å¤§åˆ†å‰²æ¬¡æ•°)
```

**åŸºç¡€ä½¿ç”¨ç¤ºä¾‹**
```python
# åŸºæœ¬åˆ†å‰²
text = "è‹¹æœ,é¦™è•‰,æ©™å­,è‘¡è„"
fruits = text.split(",")
print(fruits)  # ['è‹¹æœ', 'é¦™è•‰', 'æ©™å­', 'è‘¡è„']

# é»˜è®¤æŒ‰ç©ºç™½å­—ç¬¦åˆ†å‰²
sentence = "Python æ˜¯ æœ€å¥½çš„ ç¼–ç¨‹è¯­è¨€"
words = sentence.split()  # ä¸ä¼ å‚æ•°é»˜è®¤æŒ‰ç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ã€æ¢è¡Œç¬¦åˆ†å‰²
print(words)  # ['Python', 'æ˜¯', 'æœ€å¥½çš„', 'ç¼–ç¨‹è¯­è¨€']

# é™åˆ¶åˆ†å‰²æ¬¡æ•°
text2 = "a-b-c-d-e"
parts = text2.split("-", 2)  # æœ€å¤šåˆ†å‰²2æ¬¡
print(parts)  # ['a', 'b', 'c-d-e']
```

**ğŸ“ å®ç”¨åˆ†å‰²åœºæ™¯**
```python
# è§£æCSVæ•°æ®
csv_line = "å¼ ä¸‰,25,åŒ—äº¬,å·¥ç¨‹å¸ˆ"
name, age, city, job = csv_line.split(",")
print(f"å§“åï¼š{name}ï¼Œå¹´é¾„ï¼š{age}ï¼ŒåŸå¸‚ï¼š{city}ï¼ŒèŒä¸šï¼š{job}")

# è§£æè·¯å¾„
file_path = "/home/user/documents/report.txt"
path_parts = file_path.split("/")
print(f"è·¯å¾„ç»„æˆï¼š{path_parts}")
# ['', 'home', 'user', 'documents', 'report.txt']

filename = path_parts[-1]  # è·å–æ–‡ä»¶å
directory = "/".join(path_parts[:-1])  # é‡æ„ç›®å½•è·¯å¾„
print(f"æ–‡ä»¶åï¼š{filename}")
print(f"ç›®å½•ï¼š{directory}")

# è§£æé‚®ç®±
email = "user@example.com"
username, domain = email.split("@")
print(f"ç”¨æˆ·åï¼š{username}ï¼ŒåŸŸåï¼š{domain}")
```

### 8.2 rsplit() æ–¹æ³• - ä»å³å¼€å§‹åˆ†å‰²


**ğŸ”¸ split() vs rsplit() çš„åŒºåˆ«**
```python
text = "a.b.c.d.e"

# ä»å·¦å¼€å§‹åˆ†å‰²ï¼ˆé»˜è®¤ï¼‰
left_split = text.split(".", 2)
print(f"ä»å·¦åˆ†å‰²ï¼š{left_split}")  # ['a', 'b', 'c.d.e']

# ä»å³å¼€å§‹åˆ†å‰²
right_split = text.rsplit(".", 2)  
print(f"ä»å³åˆ†å‰²ï¼š{right_split}")  # ['a.b.c', 'd', 'e']
```

**ğŸ¯ rsplit() çš„å…¸å‹åº”ç”¨**
```python
def parse_filename(full_path):
    """è§£ææ–‡ä»¶è·¯å¾„ï¼Œè·å–ç›®å½•å’Œæ–‡ä»¶å"""
    # ä»å³è¾¹ç¬¬ä¸€æ¬¡åˆ†å‰²ï¼Œè·å–ç›®å½•å’Œæ–‡ä»¶å
    if "/" in full_path:
        directory, filename = full_path.rsplit("/", 1)
    else:
        directory, filename = "", full_path
    
    # ä»å³è¾¹ç¬¬ä¸€æ¬¡åˆ†å‰²ï¼Œè·å–æ–‡ä»¶åå’Œæ‰©å±•å
    if "." in filename:
        name, extension = filename.rsplit(".", 1)
    else:
        name, extension = filename, ""
    
    return {
        "ç›®å½•": directory,
        "æ–‡ä»¶å": name,
        "æ‰©å±•å": extension,
        "å®Œæ•´æ–‡ä»¶å": filename
    }

# ä½¿ç”¨ç¤ºä¾‹
paths = [
    "/home/user/document.pdf",
    "report.xlsx", 
    "/var/log/system.log.gz",
    "README"
]

for path in paths:
    result = parse_filename(path)
    print(f"\nè·¯å¾„ï¼š{path}")
    for key, value in result.items():
        print(f"  {key}ï¼š{value}")
```

### 8.3 splitlines() æ–¹æ³• - æŒ‰è¡Œåˆ†å‰²


**ğŸ”¸ ä»€ä¹ˆæ˜¯splitlines()**
splitlines()ä¸“é—¨ç”¨äºæŒ‰è¡Œåˆ†å‰²æ–‡æœ¬ï¼Œèƒ½è¯†åˆ«å¤šç§æ¢è¡Œç¬¦æ ¼å¼ã€‚

**åŸºç¡€ä½¿ç”¨ç¤ºä¾‹**
```python
# å¤šè¡Œæ–‡æœ¬åˆ†å‰²
text = """ç¬¬ä¸€è¡Œ
ç¬¬äºŒè¡Œ
ç¬¬ä¸‰è¡Œ"""

lines = text.splitlines()
print(lines)  # ['ç¬¬ä¸€è¡Œ', 'ç¬¬äºŒè¡Œ', 'ç¬¬ä¸‰è¡Œ']

# ä¿ç•™æ¢è¡Œç¬¦
lines_with_breaks = text.splitlines(True)  # å‚æ•°Trueä¿ç•™æ¢è¡Œç¬¦
print(lines_with_breaks)  # ['ç¬¬ä¸€è¡Œ\n', 'ç¬¬äºŒè¡Œ\n', 'ç¬¬ä¸‰è¡Œ']
```

**ğŸ“„ å¤„ç†ä¸åŒæ¢è¡Œç¬¦æ ¼å¼**
```python
# æ··åˆæ¢è¡Œç¬¦çš„æ–‡æœ¬
mixed_text = "Line1\nLine2\r\nLine3\rLine4"
lines = mixed_text.splitlines()
print(f"åˆ†å‰²ç»“æœï¼š{lines}")
# ['Line1', 'Line2', 'Line3', 'Line4']

# å®ç”¨çš„æ–‡æœ¬å¤„ç†å‡½æ•°
def process_text_file(text_content):
    """å¤„ç†æ–‡æœ¬æ–‡ä»¶å†…å®¹"""
    lines = text_content.splitlines()
    
    # è¿‡æ»¤ç©ºè¡Œå’Œä»…åŒ…å«ç©ºç™½çš„è¡Œ
    non_empty_lines = [line.strip() for line in lines if line.strip()]
    
    # ç»Ÿè®¡ä¿¡æ¯
    stats = {
        "æ€»è¡Œæ•°": len(lines),
        "éç©ºè¡Œæ•°": len(non_empty_lines),
        "ç©ºè¡Œæ•°": len(lines) - len(non_empty_lines)
    }
    
    return non_empty_lines, stats

# ä½¿ç”¨ç¤ºä¾‹
sample_text = """
è¿™æ˜¯ç¬¬ä¸€è¡Œ

è¿™æ˜¯ç¬¬ä¸‰è¡Œ
   
è¿™æ˜¯ç¬¬äº”è¡Œ
"""

processed_lines, stats = process_text_file(sample_text)
print("å¤„ç†åçš„å†…å®¹ï¼š")
for i, line in enumerate(processed_lines, 1):
    print(f"{i}. {line}")

print(f"\nç»Ÿè®¡ä¿¡æ¯ï¼š{stats}")
```

### 8.4 åˆ†å‰²æ–¹æ³•çš„ç»¼åˆåº”ç”¨


**ğŸ¯ é…ç½®æ–‡ä»¶è§£æå™¨**
```python
def parse_config_file(config_text):
    """è§£æç®€å•çš„é…ç½®æ–‡ä»¶"""
    config = {}
    
    for line in config_text.splitlines():
        line = line.strip()
        
        # è·³è¿‡ç©ºè¡Œå’Œæ³¨é‡Šè¡Œ
        if not line or line.startswith("#"):
            continue
        
        # è§£æé”®å€¼å¯¹
        if "=" in line:
            key, value = line.split("=", 1)  # æœ€å¤šåˆ†å‰²1æ¬¡
            key = key.strip()
            value = value.strip()
            
            # å¤„ç†åˆ—è¡¨å€¼
            if "," in value:
                value = [item.strip() for item in value.split(",")]
            
            config[key] = value
    
    return config

# ä½¿ç”¨ç¤ºä¾‹
config_text = """
# æ•°æ®åº“é…ç½®
host = localhost
port = 3306
database = myapp

# ç”¨æˆ·é…ç½®  
users = admin, user1, user2, guest
debug = true
"""

config = parse_config_file(config_text)
print("è§£æçš„é…ç½®ï¼š")
for key, value in config.items():
    print(f"{key}: {value}")
```

**ğŸ“Š CSVæ•°æ®å¤„ç†**
```python
def parse_csv_data(csv_text):
    """ç®€å•çš„CSVè§£æå™¨"""
    lines = csv_text.strip().splitlines()
    
    if not lines:
        return [], []
    
    # ç¬¬ä¸€è¡Œæ˜¯æ ‡é¢˜
    headers = [header.strip() for header in lines[0].split(",")]
    
    # è§£ææ•°æ®è¡Œ
    data = []
    for line in lines[1:]:
        row = [cell.strip() for cell in line.split(",")]
        # ç¡®ä¿è¡Œé•¿åº¦ä¸æ ‡é¢˜ä¸€è‡´
        while len(row) < len(headers):
            row.append("")
        data.append(dict(zip(headers, row)))
    
    return headers, data

# ä½¿ç”¨ç¤ºä¾‹
csv_content = """
å§“å, å¹´é¾„, åŸå¸‚, èŒä¸š
å¼ ä¸‰, 25, åŒ—äº¬, å·¥ç¨‹å¸ˆ
æå››, 30, ä¸Šæµ·, è®¾è®¡å¸ˆ
ç‹äº”, 28, å¹¿å·, äº§å“ç»ç†
"""

headers, data = parse_csv_data(csv_content)
print(f"è¡¨å¤´ï¼š{headers}")
print(f"æ•°æ®ï¼š")
for row in data:
    print(row)
```

**ğŸ”§ æ—¥å¿—åˆ†æå™¨**
```python
def analyze_log_entries(log_text):
    """åˆ†ææ—¥å¿—æ¡ç›®"""
    entries = []
    
    for line in log_text.splitlines():
        line = line.strip()
        if not line:
            continue
        
        # ç®€å•çš„æ—¥å¿—æ ¼å¼ï¼šæ—¶é—´æˆ³ çº§åˆ« æ¶ˆæ¯
        parts = line.split(" ", 2)  # æœ€å¤šåˆ†å‰²2æ¬¡
        if len(parts) >= 3:
            timestamp, level, message = parts
            entries.append({
                "æ—¶é—´": timestamp,
                "çº§åˆ«": level,
                "æ¶ˆæ¯": message
            })
    
    # ç»Ÿè®¡å„çº§åˆ«æ—¥å¿—æ•°é‡
    level_counts = {}
    for entry in entries:
        level = entry["çº§åˆ«"]
        level_counts[level] = level_counts.get(level, 0) + 1
    
    return entries, level_counts

# ä½¿ç”¨ç¤ºä¾‹
log_content = """
2023-12-25_10:00:01 INFO ç³»ç»Ÿå¯åŠ¨æˆåŠŸ
2023-12-25_10:00:02 WARNING å†…å­˜ä½¿ç”¨ç‡è¾ƒé«˜
2023-12-25_10:00:03 ERROR æ•°æ®åº“è¿æ¥å¤±è´¥
2023-12-25_10:00:04 INFO é‡è¯•è¿æ¥æ•°æ®åº“
2023-12-25_10:00:05 INFO æ•°æ®åº“è¿æ¥æˆåŠŸ
"""

entries, stats = analyze_log_entries(log_content)
print("æ—¥å¿—æ¡ç›®ï¼š")
for entry in entries:
    print(f"[{entry['æ—¶é—´']}] {entry['çº§åˆ«']}: {entry['æ¶ˆæ¯']}")

print(f"\næ—¥å¿—ç»Ÿè®¡ï¼š{stats}")
```

### 8.5 åˆ†å‰²æ–¹æ³•çš„æœ€ä½³å®è·µ


**ğŸ’¡ é€‰æ‹©åˆé€‚çš„åˆ†å‰²æ–¹æ³•**

| åœºæ™¯ | æ¨èæ–¹æ³• | åŸå›  |
|------|----------|------|
| **CSVæ•°æ®** | `split(",")` | ç®€å•æ˜ç¡®çš„åˆ†éš”ç¬¦ |
| **æ–‡ä»¶è·¯å¾„** | `rsplit("/", 1)` | ä»å³åˆ†å‰²è·å–æ–‡ä»¶å |
| **å¤šè¡Œæ–‡æœ¬** | `splitlines()` | è‡ªåŠ¨å¤„ç†å„ç§æ¢è¡Œç¬¦ |
| **ç©ºç™½åˆ†éš”** | `split()` | è‡ªåŠ¨å¤„ç†å¤šç§ç©ºç™½å­—ç¬¦ |
| **é™åˆ¶åˆ†å‰²æ¬¡æ•°** | `split(sep, maxsplit)` | é¿å…è¿‡åº¦åˆ†å‰² |

**âš ï¸ å¸¸è§é™·é˜±é¿å…**
```python
# âŒ å¸¸è§é”™è¯¯
def bad_split_example():
    # é”™è¯¯1ï¼šå¿˜è®°å¤„ç†ç©ºå­—ç¬¦ä¸²
    text = ""
    parts = text.split(",")  # è¿”å› [''] è€Œä¸æ˜¯ []
    
    # é”™è¯¯2ï¼šæ²¡æœ‰æ£€æŸ¥åˆ†å‰²ç»“æœé•¿åº¦
    data = "name,age"  # ç¼ºå°‘ç¬¬ä¸‰ä¸ªå­—æ®µ
    name, age, city = data.split(",")  # ValueError: not enough values to unpack
    
    # é”™è¯¯3ï¼šæ²¡æœ‰å¤„ç†å‰åç©ºç™½
    csv_line = " name , age , city "
    parts = csv_line.split(",")  # [' name ', ' age ', ' city ']

# âœ… æ­£ç¡®åšæ³•
def good_split_example():
    # æ­£ç¡®1ï¼šæ£€æŸ¥ç©ºå­—ç¬¦ä¸²
    text = ""
    parts = text.split(",") if text else []
    
    # æ­£ç¡®2ï¼šå®‰å…¨è§£åŒ…
    data = "name,age"
    parts = data.split(",")
    name = parts[0] if len(parts) > 0 else ""
    age = parts[1] if len(parts) > 1 else ""
    city = parts[2] if len(parts) > 2 else ""
    
    # æ­£ç¡®3ï¼šæ¸…ç†ç©ºç™½
    csv_line = " name , age , city "
    parts = [part.strip() for part in csv_line.split(",")]

# é€šç”¨çš„å®‰å…¨åˆ†å‰²å‡½æ•°
def safe_split(text, separator, expected_parts=None, default=""):
    """å®‰å…¨çš„å­—ç¬¦ä¸²åˆ†å‰²"""
    if not text:
        return []
    
    parts = [part.strip() for part in text.split(separator)]
    
    if expected_parts:
        # è¡¥é½ç¼ºå¤±çš„éƒ¨åˆ†
        while len(parts) < expected_parts:
            parts.append(default)
        # æˆªæ–­å¤šä½™çš„éƒ¨åˆ†
        parts = parts[:expected_parts]
    
    return parts

# ä½¿ç”¨ç¤ºä¾‹
test_data = ["name,age,city", "name,age", "name,age,city,extra", ""]
for data in test_data:
    result = safe_split(data, ",", 3, "æœªçŸ¥")
    print(f"'{data}' â†’ {result}")
```

---

## 9. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 9.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


**ğŸ”¸ å­—ç¬¦ä¸²åŸºç¡€ç‰¹æ€§**
```
ç´¢å¼•ä¸åˆ‡ç‰‡ï¼š
â€¢ æ­£å‘ç´¢å¼•ä»0å¼€å§‹ï¼Œåå‘ç´¢å¼•ä»-1å¼€å§‹
â€¢ åˆ‡ç‰‡æ ¼å¼ [start:end:step]ï¼Œå·¦é—­å³å¼€åŒºé—´
â€¢ åˆ‡ç‰‡ä¸ä¼šå¼•å‘ç´¢å¼•è¶Šç•Œé”™è¯¯

ä¸å¯å˜ç‰¹æ€§ï¼š
â€¢ å­—ç¬¦ä¸²åˆ›å»ºåå†…å®¹æ— æ³•ä¿®æ”¹
â€¢ æ‰€æœ‰"ä¿®æ”¹"æ“ä½œéƒ½åˆ›å»ºæ–°å­—ç¬¦ä¸²å¯¹è±¡
â€¢ ç†è§£ä¸å¯å˜æ€§æœ‰åŠ©äºæ€§èƒ½ä¼˜åŒ–
```

**ğŸ”¸ å­—ç¬¦ä¸²æ“ä½œæ–¹æ³•åˆ†ç±»**

| æ“ä½œç±»å‹ | ä¸»è¦æ–¹æ³• | ä½¿ç”¨åœºæ™¯ |
|----------|----------|----------|
| **æ‹¼æ¥** | `+`, `join()`, `f-string` | å­—ç¬¦ä¸²ç»„åˆ |
| **æŸ¥æ‰¾** | `find()`, `index()`, `count()` | å®šä½å­—ç¬¦ä¸²ä½ç½® |
| **åˆ¤æ–­** | `startswith()`, `isdigit()`, `isalpha()` | éªŒè¯å­—ç¬¦ä¸²æ ¼å¼ |
| **æ›¿æ¢** | `replace()`, `translate()` | ä¿®æ”¹å­—ç¬¦ä¸²å†…å®¹ |
| **åˆ†å‰²** | `split()`, `rsplit()`, `splitlines()` | æ‹†åˆ†å­—ç¬¦ä¸² |

### 9.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ æ€§èƒ½ä¼˜åŒ–åŸåˆ™**
```
æ‹¼æ¥æ€§èƒ½ï¼š
å°é‡æ‹¼æ¥ â†’ ä½¿ç”¨ + æ“ä½œç¬¦ï¼ˆç®€å•ç›´æ¥ï¼‰
å¤§é‡æ‹¼æ¥ â†’ ä½¿ç”¨ join() æ–¹æ³•ï¼ˆæ€§èƒ½æœ€ä¼˜ï¼‰
æ ¼å¼åŒ–æ‹¼æ¥ â†’ ä½¿ç”¨ f-stringï¼ˆç°ä»£æ¨èï¼‰

å†…å­˜æ•ˆç‡ï¼š
â€¢ é¿å…å¾ªç¯ä¸­ä½¿ç”¨ + æ‹¼æ¥å¤§é‡å­—ç¬¦ä¸²
â€¢ ä½¿ç”¨åˆ—è¡¨æ”¶é›†å† join() ä¸€æ¬¡æ€§æ‹¼æ¥
â€¢ ç†è§£å­—ç¬¦ä¸²ä¸å¯å˜æ€§çš„å†…å­˜å½±å“
```

**ğŸ”¹ æ–¹æ³•é€‰æ‹©ç­–ç•¥**
```
æŸ¥æ‰¾é€‰æ‹©ï¼š
ç¡®å®šå­˜åœ¨ â†’ ä½¿ç”¨ index()ï¼ˆä¼šæŠ›å‡ºå¼‚å¸¸ï¼‰
ä¸ç¡®å®šå­˜åœ¨ â†’ ä½¿ç”¨ find()ï¼ˆè¿”å›-1ï¼‰
ç»Ÿè®¡æ•°é‡ â†’ ä½¿ç”¨ count()

åˆ¤æ–­é€‰æ‹©ï¼š
æ ¼å¼éªŒè¯ â†’ ç»„åˆä½¿ç”¨å¤šä¸ª is* æ–¹æ³•
ç®€å•æ£€æŸ¥ â†’ ä½¿ç”¨ startswith/endswith
å¤æ‚æ¨¡å¼ â†’ è€ƒè™‘æ­£åˆ™è¡¨è¾¾å¼ï¼ˆä¸‹é˜¶æ®µå­¦ä¹ ï¼‰
```

**ğŸ”¹ é”™è¯¯å¤„ç†æ€ç»´**
```
é˜²å¾¡å¼ç¼–ç¨‹ï¼š
â€¢ æ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦ä¸ºç©º
â€¢ éªŒè¯åˆ†å‰²ç»“æœçš„é•¿åº¦
â€¢ å¤„ç†ç´¢å¼•è¶Šç•Œæƒ…å†µ
â€¢ æ¸…ç†ç”¨æˆ·è¾“å…¥çš„ç©ºç™½å­—ç¬¦
```

### 9.3 å®é™…åº”ç”¨æŒ‡å¯¼


**ğŸ’¼ çœŸå®é¡¹ç›®ä¸­çš„åº”ç”¨**
```
æ•°æ®æ¸…ç†ï¼š
â€¢ ä½¿ç”¨ strip() å»é™¤é¦–å°¾ç©ºç™½
â€¢ ä½¿ç”¨ replace() ç»Ÿä¸€æ ¼å¼
â€¢ ä½¿ç”¨ split() è§£æç»“æ„åŒ–æ•°æ®

ç”¨æˆ·è¾“å…¥éªŒè¯ï¼š
â€¢ ç»„åˆ is* æ–¹æ³•éªŒè¯æ ¼å¼
â€¢ ä½¿ç”¨ startswith/endswith æ£€æŸ¥å‰ç¼€åç¼€
â€¢ ä½¿ç”¨ find/count æ£€æŸ¥å¿…éœ€å­—ç¬¦

æ–‡ä»¶å¤„ç†ï¼š
â€¢ ä½¿ç”¨ splitlines() æŒ‰è¡Œå¤„ç†
â€¢ ä½¿ç”¨ rsplit() è§£ææ–‡ä»¶è·¯å¾„
â€¢ ä½¿ç”¨ join() é‡æ„è·¯å¾„
```

**ğŸ› ï¸ è°ƒè¯•æŠ€å·§**
```python
# è°ƒè¯•å­—ç¬¦ä¸²æ“ä½œçš„é€šç”¨æ–¹æ³•
def debug_string_operation(text, operation_name):
    """è°ƒè¯•å­—ç¬¦ä¸²æ“ä½œ"""
    print(f"åŸå§‹å­—ç¬¦ä¸²: '{text}'")
    print(f"å­—ç¬¦ä¸²é•¿åº¦: {len(text)}")
    print(f"å­—ç¬¦ä¸²ç±»å‹: {type(text)}")
    print(f"å­—ç¬¦ä¸²è¡¨ç¤º: {repr(text)}")  # æ˜¾ç¤ºè½¬ä¹‰å­—ç¬¦
    print(f"æ“ä½œ: {operation_name}")
    print("-" * 40)

# ä½¿ç”¨ç¤ºä¾‹
debug_string_operation("  hello\n", "å»ç©ºç™½æ“ä½œå‰")
```

### 9.4 å­¦ä¹ æ£€æŸ¥ç‚¹


**ğŸ“ è‡ªæˆ‘æ£€æµ‹**
- [ ] èƒ½å¤Ÿç†Ÿç»ƒä½¿ç”¨ç´¢å¼•å’Œåˆ‡ç‰‡è·å–å­—ç¬¦ä¸²éƒ¨åˆ†
- [ ] ç†è§£å­—ç¬¦ä¸²ä¸å¯å˜ç‰¹æ€§åŠå…¶å½±å“
- [ ] èƒ½å¤Ÿé€‰æ‹©åˆé€‚çš„æ‹¼æ¥æ–¹æ³•å¹¶ç†è§£æ€§èƒ½å·®å¼‚
- [ ] æŒæ¡å„ç§æŸ¥æ‰¾æ–¹æ³•çš„é€‚ç”¨åœºæ™¯
- [ ] èƒ½å¤Ÿç»„åˆä½¿ç”¨åˆ¤æ–­æ–¹æ³•è¿›è¡Œè¾“å…¥éªŒè¯
- [ ] ç†Ÿç»ƒä½¿ç”¨æ›¿æ¢æ–¹æ³•å¤„ç†æ–‡æœ¬
- [ ] èƒ½å¤Ÿé€‰æ‹©åˆé€‚çš„åˆ†å‰²æ–¹æ³•è§£ææ•°æ®

**ğŸ¯ å®è·µç»ƒä¹ å»ºè®®**
1. **æ–‡ä»¶åå¤„ç†å™¨**ï¼šç¼–å†™å‡½æ•°è§£ææ–‡ä»¶è·¯å¾„ï¼Œæå–ç›®å½•ã€æ–‡ä»¶åã€æ‰©å±•å
2. **é…ç½®è§£æå™¨**ï¼šè§£æ key=value æ ¼å¼çš„é…ç½®æ–‡ä»¶
3. **æ•°æ®æ¸…ç†å·¥å…·**ï¼šæ¸…ç†CSVæ•°æ®ä¸­çš„æ ¼å¼é—®é¢˜
4. **ç”¨æˆ·è¾“å…¥éªŒè¯å™¨**ï¼šéªŒè¯é‚®ç®±ã€æ‰‹æœºå·ã€èº«ä»½è¯ç­‰æ ¼å¼
5. **æ–‡æœ¬åˆ†æå™¨**ï¼šç»Ÿè®¡æ–‡ç« ä¸­çš„è¯é¢‘ã€å­—ç¬¦é¢‘ç‡

### 9.5 è¿›é˜¶å­¦ä¹ æ–¹å‘


**ğŸš€ ä¸‹ä¸€æ­¥å­¦ä¹ å†…å®¹**
```
å­—ç¬¦ä¸²è¿›é˜¶ï¼š
â€¢ æ­£åˆ™è¡¨è¾¾å¼ï¼šå¤æ‚æ¨¡å¼åŒ¹é…å’Œæ›¿æ¢
â€¢ å­—ç¬¦ç¼–ç ï¼šUnicodeã€UTF-8ç¼–ç å¤„ç†
â€¢ å­—ç¬¦ä¸²æ ¼å¼åŒ–ï¼šformat()æ–¹æ³•çš„é«˜çº§ç”¨æ³•
â€¢ æœ¬åœ°åŒ–å¤„ç†ï¼šå¤šè¯­è¨€å­—ç¬¦ä¸²å¤„ç†

ç›¸å…³çŸ¥è¯†ç‚¹ï¼š
â€¢ æ–‡ä»¶æ“ä½œï¼šè¯»å†™æ–‡æœ¬æ–‡ä»¶
â€¢ æ•°æ®å¤„ç†ï¼šJSONã€XMLè§£æ
â€¢ ç½‘ç»œç¼–ç¨‹ï¼šHTTPè¯·æ±‚å“åº”å¤„ç†
â€¢ æ•°æ®åº“ï¼šSQLå­—ç¬¦ä¸²æ„å»º
```

**ğŸ’¡ æœ€åçš„å­¦ä¹ å»ºè®®**
- **å¤šå®è·µ**ï¼šå­—ç¬¦ä¸²æ“ä½œéœ€è¦å¤§é‡ç»ƒä¹ æ‰èƒ½ç†Ÿç»ƒ
- **æ³¨é‡ç»†èŠ‚**ï¼šç©ºç™½å­—ç¬¦ã€è¾¹ç•Œæƒ…å†µå¾€å¾€æ˜¯bugçš„æ¥æº
- **æ€§èƒ½æ„è¯†**ï¼šäº†è§£ä¸åŒæ–¹æ³•çš„æ€§èƒ½ç‰¹ç‚¹
- **é˜²å¾¡ç¼–ç¨‹**ï¼šå§‹ç»ˆè€ƒè™‘å¼‚å¸¸æƒ…å†µå’Œé”™è¯¯è¾“å…¥
- **ä»£ç æ•´æ´**ï¼šä½¿ç”¨æœ‰æ„ä¹‰çš„å˜é‡åå’Œé€‚å½“çš„æ³¨é‡Š

**ğŸª è®°å¿†å£è¯€**
```
å­—ç¬¦ä¸²æ“ä½œè¦è®°ç‰¢ï¼Œç´¢å¼•åˆ‡ç‰‡æ˜¯åŸºç¡€
ä¸å¯å˜æ€§è¦ç†è§£ï¼Œæ‹¼æ¥æŸ¥æ‰¾æœ‰æŠ€å·§  
åˆ¤æ–­æ›¿æ¢åˆ†å‰²å¥½ï¼Œæ€§èƒ½å®‰å…¨éƒ½é‡è¦
å¤šç»ƒä¹ æ¥å¤šæ€è€ƒï¼ŒPythonå­—ç¬¦ä¸²æŒæ¡ç‰¢
```

**æ ¸å¿ƒè®°å¿†**ï¼š
- å­—ç¬¦ä¸²æ˜¯ä¸å¯å˜çš„åºåˆ—ç±»å‹ï¼Œæ‰€æœ‰æ“ä½œéƒ½è¿”å›æ–°å¯¹è±¡
- é€‰æ‹©åˆé€‚çš„æ–¹æ³•æ¯”æ­»è®°ç¡¬èƒŒæ›´é‡è¦
- æ€§èƒ½ä¼˜åŒ–ä»ç†è§£åŸç†å¼€å§‹
- é˜²å¾¡å¼ç¼–ç¨‹è®©ä»£ç æ›´å¥å£®