---
title: 2ã€ä¾èµ–ç®¡ç†
---
## ğŸ“š ç›®å½•

1. [ä¾èµ–ç®¡ç†åŸºç¡€æ¦‚å¿µ](#1-ä¾èµ–ç®¡ç†åŸºç¡€æ¦‚å¿µ)
2. [requirements.txtä¼ ç»Ÿæ–¹æ¡ˆ](#2-requirements-txtä¼ ç»Ÿæ–¹æ¡ˆ)
3. [pipåŒ…ç®¡ç†å·¥å…·è¯¦è§£](#3-pipåŒ…ç®¡ç†å·¥å…·è¯¦è§£)
4. [pipenvç°ä»£ä¾èµ–ç®¡ç†](#4-pipenvç°ä»£ä¾èµ–ç®¡ç†)
5. [poetryé¡¹ç›®ç®¡ç†ç¥å™¨](#5-poetryé¡¹ç›®ç®¡ç†ç¥å™¨)
6. [condaç¯å¢ƒç®¡ç†](#6-condaç¯å¢ƒç®¡ç†)
7. [ä¾èµ–ç‰ˆæœ¬æ§åˆ¶ç­–ç•¥](#7-ä¾èµ–ç‰ˆæœ¬æ§åˆ¶ç­–ç•¥)
8. [ä¾èµ–å†²çªè§£å†³æ–¹æ¡ˆ](#8-ä¾èµ–å†²çªè§£å†³æ–¹æ¡ˆ)
9. [ç¦»çº¿ä¾èµ–ç®¡ç†](#9-ç¦»çº¿ä¾èµ–ç®¡ç†)
10. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#10-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ¯ ä¾èµ–ç®¡ç†åŸºç¡€æ¦‚å¿µ


### 1.1 ä»€ä¹ˆæ˜¯ä¾èµ–ç®¡ç†


**ğŸ”¸ é€šä¿—ç†è§£**
æƒ³è±¡ä½ åœ¨åšèœï¼Œéœ€è¦ç”¨åˆ°å„ç§è°ƒæ–™å’Œé£Ÿæã€‚Pythoné¡¹ç›®ä¹Ÿæ˜¯ä¸€æ ·ï¼Œéœ€è¦ç”¨åˆ°å„ç§ç¬¬ä¸‰æ–¹åº“ï¼ˆæ¯”å¦‚requestsã€numpyç­‰ï¼‰ã€‚ä¾èµ–ç®¡ç†å°±æ˜¯å¸®ä½ ï¼š
- ğŸ“¦ **è®°å½•**ä½ ç”¨äº†å“ªäº›åº“
- ğŸ”¢ **ç®¡ç†**æ¯ä¸ªåº“çš„ç‰ˆæœ¬
- ğŸš€ **å®‰è£…**è¿™äº›åº“åˆ°ä½ çš„é¡¹ç›®ä¸­
- ğŸ”„ **åŒæ­¥**è®©å›¢é˜Ÿå…¶ä»–äººä¹Ÿèƒ½ç”¨åŒæ ·çš„åº“

```
ç°å®æ¯”å–»ï¼š
åšçº¢çƒ§è‚‰éœ€è¦ï¼šé…±æ²¹(ç”ŸæŠ½)ã€ç³–ã€æ–™é…’ã€è‘±ã€å§œ
Pythoné¡¹ç›®éœ€è¦ï¼šrequests(2.28.0)ã€pandas(1.5.0)ã€numpy(1.21.0)

ä¾èµ–ç®¡ç† = è´­ç‰©æ¸…å• + è´­ä¹°æ¸ é“ + å­˜å‚¨æ–¹å¼
```

### 1.2 ä¸ºä»€ä¹ˆéœ€è¦ä¾èµ–ç®¡ç†


**ğŸ’¡ æ ¸å¿ƒé—®é¢˜**
- **ç¯å¢ƒä¸ä¸€è‡´**ï¼šä½ çš„ç”µè„‘èƒ½è·‘ï¼ŒåŒäº‹çš„è·‘ä¸äº†
- **ç‰ˆæœ¬æ··ä¹±**ï¼šä¸çŸ¥é“ç”¨çš„å“ªä¸ªç‰ˆæœ¬çš„åº“
- **å®‰è£…å›°éš¾**ï¼šæ–°äººåŠ å…¥é¡¹ç›®ä¸çŸ¥é“è£…ä»€ä¹ˆ
- **å‡çº§é£é™©**ï¼šæ›´æ–°ä¸€ä¸ªåº“ï¼Œæ•´ä¸ªé¡¹ç›®å´©äº†

**ğŸ¯ ä¾èµ–ç®¡ç†è§£å†³çš„é—®é¢˜**
```
é—®é¢˜1: "åœ¨æˆ‘ç”µè„‘ä¸Šèƒ½è·‘å•Šï¼"
è§£å†³: ç²¾ç¡®è®°å½•æ‰€æœ‰ä¾èµ–ç‰ˆæœ¬

é—®é¢˜2: "è¿™ä¸ªé¡¹ç›®éœ€è¦è£…ä»€ä¹ˆï¼Ÿ"
è§£å†³: ä¸€æ¡å‘½ä»¤å®‰è£…æ‰€æœ‰ä¾èµ–

é—®é¢˜3: "æ›´æ–°åé¡¹ç›®è·‘ä¸äº†äº†"
è§£å†³: ç‰ˆæœ¬é”å®šå’Œå†²çªæ£€æµ‹
```

### 1.3 ä¾èµ–ç®¡ç†å·¥å…·å¯¹æ¯”


| å·¥å…· | **ç‰¹ç‚¹** | **é€‚ç”¨åœºæ™¯** | **å­¦ä¹ éš¾åº¦** |
|------|---------|-------------|-------------|
| ğŸ“„ **requirements.txt** | `æœ€ç®€å•ï¼Œå¹¿æ³›æ”¯æŒ` | `å°é¡¹ç›®ï¼Œç®€å•éœ€æ±‚` | â­ |
| ğŸ”§ **pip** | `Pythonå®˜æ–¹å·¥å…·` | `åŸºç¡€åŒ…ç®¡ç†` | â­â­ |
| ğŸŒŸ **pipenv** | `è‡ªåŠ¨è™šæ‹Ÿç¯å¢ƒ` | `å¼€å‘ç¯å¢ƒç®¡ç†` | â­â­â­ |
| ğŸ­ **poetry** | `ç°ä»£åŒ–ï¼ŒåŠŸèƒ½å…¨é¢` | `æ­£å¼é¡¹ç›®ï¼Œå‘å¸ƒåŒ…` | â­â­â­â­ |
| ğŸ **conda** | `ç§‘å­¦è®¡ç®—ç”Ÿæ€` | `æ•°æ®ç§‘å­¦ï¼Œæœºå™¨å­¦ä¹ ` | â­â­â­ |

---

## 2. ğŸ“„ requirements.txtä¼ ç»Ÿæ–¹æ¡ˆ


### 2.1 requirements.txtåŸºç¡€ç”¨æ³•


**ğŸ”¸ æ ¸å¿ƒæ¦‚å¿µ**
`requirements.txt` å°±åƒæ˜¯è´­ç‰©æ¸…å•ï¼Œåˆ—å‡ºé¡¹ç›®éœ€è¦çš„æ‰€æœ‰PythonåŒ…ã€‚

**ğŸ“ åŸºæœ¬æ ¼å¼**
```txt
# è¿™æ˜¯æ³¨é‡Šï¼Œè¯´æ˜è¿™ä¸ªæ–‡ä»¶çš„ä½œç”¨
# é¡¹ç›®åŸºç¡€ä¾èµ–
requests==2.28.1
pandas>=1.5.0
numpy~=1.21.0
Django<4.0
flask
```

**ğŸ¯ ç‰ˆæœ¬å·è¯­æ³•è¯´æ˜**
- `==2.28.1` â†’ **ç²¾ç¡®ç‰ˆæœ¬**ï¼Œåªèƒ½ç”¨2.28.1
- `>=1.5.0` â†’ **æœ€ä½ç‰ˆæœ¬**ï¼Œ1.5.0ä»¥ä¸Šéƒ½å¯ä»¥
- `~=1.21.0` â†’ **å…¼å®¹ç‰ˆæœ¬**ï¼Œ1.21.xéƒ½å¯ä»¥ï¼Œä½†ä¸èƒ½åˆ°1.22
- `<4.0` â†’ **æœ€é«˜ç‰ˆæœ¬**ï¼Œ4.0ä»¥ä¸‹éƒ½å¯ä»¥
- `flask` â†’ **ä»»æ„ç‰ˆæœ¬**ï¼Œå®‰è£…æœ€æ–°çš„

### 2.2 åˆ›å»ºå’Œä½¿ç”¨requirements.txt


**ğŸ“‹ æ­¥éª¤1ï¼šç”Ÿæˆrequirements.txt**
```bash
# æ–¹æ³•1ï¼šæ‰‹åŠ¨åˆ›å»ºï¼ˆæ¨èæ–°é¡¹ç›®ï¼‰
touch requirements.txt

# æ–¹æ³•2ï¼šä»å½“å‰ç¯å¢ƒå¯¼å‡ºï¼ˆè°¨æ…ä½¿ç”¨ï¼‰
pip freeze > requirements.txt
```

> âš ï¸ **æ³¨æ„**ï¼š`pip freeze`ä¼šå¯¼å‡ºæ‰€æœ‰åŒ…ï¼ŒåŒ…æ‹¬ä¸éœ€è¦çš„ï¼Œå»ºè®®æ‰‹åŠ¨ç­›é€‰

**ğŸ“‹ æ­¥éª¤2ï¼šå®‰è£…ä¾èµ–**
```bash
# å®‰è£…requirements.txtä¸­çš„æ‰€æœ‰åŒ…
pip install -r requirements.txt

# å‡çº§å®‰è£…ï¼ˆå¦‚æœå·²ç»å®‰è£…è¿‡ï¼‰
pip install -r requirements.txt --upgrade
```

### 2.3 requirements.txtè¿›é˜¶æŠ€å·§


**ğŸª å¤šç¯å¢ƒç®¡ç†**
```
é¡¹ç›®ç»“æ„ï¼š
myproject/
â”œâ”€â”€ requirements/
â”‚   â”œâ”€â”€ base.txt          # åŸºç¡€ä¾èµ–
â”‚   â”œâ”€â”€ development.txt   # å¼€å‘ç¯å¢ƒ
â”‚   â”œâ”€â”€ production.txt    # ç”Ÿäº§ç¯å¢ƒ
â”‚   â””â”€â”€ testing.txt       # æµ‹è¯•ç¯å¢ƒ
```

**ğŸ“ base.txt (åŸºç¡€ä¾èµ–)**
```txt
# æ ¸å¿ƒåŠŸèƒ½ä¾èµ–
Django==4.1.0
requests==2.28.1
psycopg2-binary==2.9.3
```

**ğŸ“ development.txt (å¼€å‘ç¯å¢ƒ)**
```txt
# å¼•å…¥åŸºç¡€ä¾èµ–
-r base.txt

# å¼€å‘å·¥å…·
django-debug-toolbar==3.2.4
pytest==7.1.2
black==22.3.0
```

**ğŸ“ production.txt (ç”Ÿäº§ç¯å¢ƒ)**
```txt
-r base.txt

# ç”Ÿäº§ç¯å¢ƒä¼˜åŒ–
gunicorn==20.1.0
redis==4.3.4
```

### 2.4 requirements.txtæœ€ä½³å®è·µ


**âœ… æ¨èåšæ³•**
```txt
# âœ… å¥½çš„requirements.txtç¤ºä¾‹
# åŸºç¡€Webæ¡†æ¶
Flask==2.2.2
Werkzeug==2.2.2

# æ•°æ®åº“
SQLAlchemy==1.4.41
alembic==1.8.1

# APIç›¸å…³
requests==2.28.1
marshmallow==3.17.1

# å¼€å‘å·¥å…·ï¼ˆåªåœ¨å¼€å‘ç¯å¢ƒï¼‰
# pytest==7.1.2  # ç”Ÿäº§ç¯å¢ƒæ³¨é‡Šæ‰
```

**âŒ é¿å…çš„é—®é¢˜**
```txt
# âŒ ä¸å¥½çš„ä¾‹å­
numpy  # æ²¡æœ‰ç‰ˆæœ¬å·ï¼Œå¯èƒ½å®‰è£…ä¸å…¼å®¹ç‰ˆæœ¬
Django>=2.0  # ç‰ˆæœ¬èŒƒå›´å¤ªå¤§ï¼Œå¯èƒ½æœ‰breaking changes
somepackage==1.0.0a1  # é¢„è§ˆç‰ˆæœ¬ï¼Œä¸ç¨³å®š
```

---

## 3. ğŸ”§ pipåŒ…ç®¡ç†å·¥å…·è¯¦è§£


### 3.1 pipåŸºç¡€å‘½ä»¤


**ğŸ¯ pipæ˜¯ä»€ä¹ˆ**
pipæ˜¯Pythonçš„åŒ…å®‰è£…å™¨ï¼Œå°±åƒæ‰‹æœºçš„åº”ç”¨å•†åº—ï¼Œç”¨æ¥ä¸‹è½½å’Œç®¡ç†PythonåŒ…ã€‚

**ğŸ“‹ å¸¸ç”¨å‘½ä»¤å¤§å…¨**
```bash
# å®‰è£…åŒ…
pip install package_name              # å®‰è£…æœ€æ–°ç‰ˆæœ¬
pip install package_name==1.2.3       # å®‰è£…æŒ‡å®šç‰ˆæœ¬
pip install package_name>=1.2.0       # å®‰è£…æœ€ä½ç‰ˆæœ¬

# å¸è½½åŒ…
pip uninstall package_name            # å¸è½½åŒ…
pip uninstall -y package_name         # ä¸è¯¢é—®ç›´æ¥å¸è½½

# æŸ¥çœ‹åŒ…ä¿¡æ¯
pip list                              # åˆ—å‡ºæ‰€æœ‰å·²å®‰è£…çš„åŒ…
pip show package_name                 # æ˜¾ç¤ºåŒ…çš„è¯¦ç»†ä¿¡æ¯
pip freeze                            # ä»¥requirementsæ ¼å¼æ˜¾ç¤ºæ‰€æœ‰åŒ…
```

### 3.2 pipè¿›é˜¶ç”¨æ³•


**ğŸ” æœç´¢å’ŒæŸ¥çœ‹åŒ…**
```bash
# æœç´¢åŒ…ï¼ˆæ³¨æ„ï¼šè¯¥åŠŸèƒ½å·²åºŸå¼ƒï¼Œå»ºè®®ä½¿ç”¨PyPIç½‘ç«™æœç´¢ï¼‰
# pip search package_name  # å·²ä¸å¯ç”¨

# æŸ¥çœ‹åŒ…çš„ä¾èµ–å…³ç³»
pip show --verbose package_name

# æ£€æŸ¥å“ªäº›åŒ…éœ€è¦æ›´æ–°
pip list --outdated

# æ›´æ–°åŒ…åˆ°æœ€æ–°ç‰ˆæœ¬
pip install --upgrade package_name
```

**âš¡ æå‡å®‰è£…é€Ÿåº¦**
```bash
# ä½¿ç”¨å›½å†…é•œåƒæºï¼ˆä¸´æ—¶ï¼‰
pip install -i https://pypi.tuna.tsinghua.edu.cn/simple/ requests

# æ°¸ä¹…é…ç½®é•œåƒæº
pip config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple/

# æŸ¥çœ‹pipé…ç½®
pip config list
```

### 3.3 pipè™šæ‹Ÿç¯å¢ƒé…åˆ


**ğŸ  ä¸ºä»€ä¹ˆéœ€è¦è™šæ‹Ÿç¯å¢ƒ**
æƒ³è±¡ä½ æœ‰å¤šä¸ªé¡¹ç›®ï¼š
- é¡¹ç›®Aéœ€è¦Django 3.2
- é¡¹ç›®Béœ€è¦Django 4.1
- å¦‚æœéƒ½è£…åœ¨åŒä¸€ä¸ªPythonç¯å¢ƒï¼Œå°±ä¼šå†²çª

**ğŸ”§ åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ**
```bash
# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv myproject_env

# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒï¼ˆWindowsï¼‰
myproject_env\Scripts\activate

# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒï¼ˆmacOS/Linuxï¼‰
source myproject_env/bin/activate

# é€€å‡ºè™šæ‹Ÿç¯å¢ƒ
deactivate
```

**ğŸ’¡ å®Œæ•´å·¥ä½œæµç¨‹**
```bash
# 1. åˆ›å»ºé¡¹ç›®ç›®å½•
mkdir my_project
cd my_project

# 2. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv venv

# 3. æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
source venv/bin/activate  # macOS/Linux
# venv\Scripts\activate   # Windows

# 4. å®‰è£…ä¾èµ–
pip install flask requests

# 5. ç”Ÿæˆrequirements.txt
pip freeze > requirements.txt

# 6. å¼€å‘å®Œæˆåé€€å‡º
deactivate
```

---

## 4. ğŸŒŸ pipenvç°ä»£ä¾èµ–ç®¡ç†


### 4.1 pipenvæ ¸å¿ƒæ¦‚å¿µ


**ğŸ¯ pipenvæ˜¯ä»€ä¹ˆ**
pipenv = pip + virtualenvï¼Œå®ƒè‡ªåŠ¨å¸®ä½ ï¼š
- ğŸ  **åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ**
- ğŸ“¦ **ç®¡ç†ä¾èµ–**
- ğŸ”’ **é”å®šç‰ˆæœ¬**
- ğŸ”„ **åŒæ­¥ç¯å¢ƒ**

**âœ¨ pipenv vs ä¼ ç»Ÿæ–¹å¼**
```
ä¼ ç»Ÿæ–¹å¼ï¼š
1. æ‰‹åŠ¨åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
2. æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
3. ç”¨pipå®‰è£…åŒ…
4. æ‰‹å†™requirements.txt
5. è®°ä½æ¿€æ´»å‘½ä»¤

pipenvæ–¹å¼ï¼š
1. pipenv install package_name  # å…¨è‡ªåŠ¨ï¼
```

### 4.2 pipenvåŸºç¡€ç”¨æ³•


**ğŸš€ å®‰è£…pipenv**
```bash
# å®‰è£…pipenv
pip install pipenv
```

**ğŸ“‹ åŸºæœ¬å‘½ä»¤**
```bash
# åˆå§‹åŒ–é¡¹ç›®ï¼ˆè‡ªåŠ¨åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼‰
pipenv install

# å®‰è£…åŒ…
pipenv install requests          # å®‰è£…ç”Ÿäº§ä¾èµ–
pipenv install pytest --dev     # å®‰è£…å¼€å‘ä¾èµ–

# å®‰è£…æ‰€æœ‰ä¾èµ–
pipenv install --dev             # åŒ…æ‹¬å¼€å‘ä¾èµ–
pipenv install                   # åªå®‰è£…ç”Ÿäº§ä¾èµ–

# è¿›å…¥è™šæ‹Ÿç¯å¢ƒ
pipenv shell

# è¿è¡Œå‘½ä»¤ï¼ˆæ— éœ€æ¿€æ´»ç¯å¢ƒï¼‰
pipenv run python app.py
pipenv run pip list
```

### 4.3 Pipfileå’ŒPipfile.lock


**ğŸ“„ Pipfileï¼ˆäººç±»å¯è¯»ï¼‰**
```toml
# pipenvä¼šè‡ªåŠ¨ç”Ÿæˆè¿™ä¸ªæ–‡ä»¶
[[source]]
url = "https://pypi.org/simple"
verify_ssl = true
name = "pypi"

[packages]
requests = "~=2.28.0"
flask = "*"
django = ">=3.2,<4.0"

[dev-packages]
pytest = "*"
black = "*"
flake8 = "*"

[requires]
python_version = "3.9"
```

**ğŸ”’ Pipfile.lockï¼ˆæœºå™¨å¯è¯»ï¼‰**
```json
{
    "_meta": {
        "hash": {
            "sha256": "..."
        },
        "pipfile-spec": 6,
        "requires": {
            "python_version": "3.9"
        }
    },
    "default": {
        "requests": {
            "hashes": ["sha256:..."],
            "index": "pypi",
            "version": "==2.28.1"
        }
    }
}
```

> ğŸ’¡ **ç†è§£è¦ç‚¹**ï¼š
> - `Pipfile`ï¼šä½ ç¼–å†™çš„éœ€æ±‚ï¼ˆæƒ³è¦ä»€ä¹ˆï¼‰
> - `Pipfile.lock`ï¼šå…·ä½“çš„å®ç°ï¼ˆç¡®åˆ‡å®‰è£…äº†ä»€ä¹ˆï¼‰

### 4.4 pipenvå®ç”¨æŠ€å·§


**ğŸª ç¯å¢ƒç®¡ç†**
```bash
# æŸ¥çœ‹è™šæ‹Ÿç¯å¢ƒä½ç½®
pipenv --venv

# æŸ¥çœ‹é¡¹ç›®æ ¹ç›®å½•
pipenv --where

# å®‰è£…requirements.txtä¸­çš„ä¾èµ–
pipenv install -r requirements.txt

# ç”Ÿæˆrequirements.txt
pipenv requirements > requirements.txt
pipenv requirements --dev > dev-requirements.txt
```

**ğŸ”§ ä¾èµ–ç®¡ç†**
```bash
# æ›´æ–°æ‰€æœ‰åŒ…
pipenv update

# æ›´æ–°ç‰¹å®šåŒ…
pipenv update requests

# å¸è½½åŒ…
pipenv uninstall requests

# æŸ¥çœ‹ä¾èµ–å…³ç³»å›¾
pipenv graph
```

**âš¡ å®é™…å·¥ä½œæµç¨‹**
```bash
# æ–°é¡¹ç›®å¼€å§‹
mkdir my_new_project
cd my_new_project
pipenv --python 3.9        # æŒ‡å®šPythonç‰ˆæœ¬

# å®‰è£…ä¾èµ–
pipenv install flask
pipenv install pytest --dev

# å¼€å‘
pipenv shell                # è¿›å…¥ç¯å¢ƒ
python app.py              # å¼€å‘ä»£ç 
exit                       # é€€å‡ºç¯å¢ƒ

# æˆ–è€…ç›´æ¥è¿è¡Œ
pipenv run python app.py   # æ— éœ€è¿›å…¥ç¯å¢ƒ
```

---

## 5. ğŸ­ poetryé¡¹ç›®ç®¡ç†ç¥å™¨


### 5.1 poetryæ ¸å¿ƒç†å¿µ


**ğŸ¯ poetryæ˜¯ä»€ä¹ˆ**
poetryæ˜¯ç°ä»£Pythoné¡¹ç›®ç®¡ç†å·¥å…·ï¼Œä¸ä»…ç®¡ç†ä¾èµ–ï¼Œè¿˜èƒ½ï¼š
- ğŸ“¦ **æ‰“åŒ…å‘å¸ƒ**é¡¹ç›®
- ğŸ”§ **æ„å»ºç®¡ç†**
- ğŸ“Š **ç‰ˆæœ¬ç®¡ç†**
- ğŸš€ **å‘å¸ƒåˆ°PyPI**

**âœ¨ poetryçš„ä¼˜åŠ¿**
```
ä¼ ç»Ÿæ–¹å¼éœ€è¦çš„æ–‡ä»¶ï¼š
â”œâ”€â”€ requirements.txt
â”œâ”€â”€ setup.py
â”œâ”€â”€ MANIFEST.in
â”œâ”€â”€ tox.ini
â””â”€â”€ ...

poetryåªéœ€è¦ï¼š
â””â”€â”€ pyproject.toml  # ä¸€ä¸ªæ–‡ä»¶æå®šæ‰€æœ‰é…ç½®ï¼
```

### 5.2 poetryåŸºç¡€ç”¨æ³•


**ğŸš€ å®‰è£…poetry**
```bash
# æ¨èå®‰è£…æ–¹å¼ï¼ˆå®˜æ–¹è„šæœ¬ï¼‰
curl -sSL https://install.python-poetry.org | python3 -

# æˆ–è€…ç”¨pipå®‰è£…ï¼ˆä¸æ¨èï¼‰
pip install poetry
```

**ğŸ“‹ åŸºæœ¬å‘½ä»¤**
```bash
# åˆ›å»ºæ–°é¡¹ç›®
poetry new my-project
cd my-project

# åˆå§‹åŒ–ç°æœ‰é¡¹ç›®
poetry init

# å®‰è£…ä¾èµ–
poetry add requests          # æ·»åŠ ç”Ÿäº§ä¾èµ–
poetry add pytest --group dev  # æ·»åŠ å¼€å‘ä¾èµ–

# å®‰è£…æ‰€æœ‰ä¾èµ–
poetry install              # å®‰è£…pyproject.tomlä¸­çš„ä¾èµ–

# è¿è¡Œå‘½ä»¤
poetry run python app.py
poetry shell               # æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
```

### 5.3 pyproject.tomlé…ç½®æ–‡ä»¶


**ğŸ“„ å®Œæ•´çš„pyproject.tomlç¤ºä¾‹**
```toml
[tool.poetry]
name = "my-awesome-project"
version = "0.1.0"
description = "ä¸€ä¸ªå¾ˆæ£’çš„Pythoné¡¹ç›®"
authors = ["ä½ çš„åå­— <your.email@example.com>"]
readme = "README.md"
packages = [{include = "my_awesome_project"}]

[tool.poetry.dependencies]
python = "^3.8"
requests = "^2.28.0"
click = "^8.1.0"
fastapi = {version = "^0.85.0", optional = true}

[tool.poetry.group.dev.dependencies]
pytest = "^7.1.0"
black = "^22.3.0"
isort = "^5.10.0"
mypy = "^0.991"

[tool.poetry.group.test.dependencies]
pytest-cov = "^4.0.0"
httpx = "^0.23.0"

[tool.poetry.extras]
web = ["fastapi"]

[build-system]
requires = ["poetry-core"]
build-backend = "poetry.core.masonry.api"

[tool.poetry.scripts]
my-cli = "my_awesome_project.cli:main"
```

**ğŸ” é…ç½®æ–‡ä»¶è§£æ**
- `[tool.poetry]` â†’ é¡¹ç›®åŸºæœ¬ä¿¡æ¯
- `[tool.poetry.dependencies]` â†’ ç”Ÿäº§ç¯å¢ƒä¾èµ–
- `[tool.poetry.group.dev.dependencies]` â†’ å¼€å‘ä¾èµ–åˆ†ç»„
- `[tool.poetry.extras]` â†’ å¯é€‰ä¾èµ–åŠŸèƒ½
- `[tool.poetry.scripts]` â†’ å‘½ä»¤è¡Œå·¥å…·å®šä¹‰

### 5.4 poetryé«˜çº§åŠŸèƒ½


**ğŸª ä¾èµ–åˆ†ç»„ç®¡ç†**
```bash
# åˆ›å»ºä¸åŒçš„ä¾èµ–ç»„
poetry add --group test pytest pytest-cov
poetry add --group lint black isort flake8
poetry add --group docs sphinx sphinx-rtd-theme

# å®‰è£…ç‰¹å®šç»„çš„ä¾èµ–
poetry install --with test,lint
poetry install --only dev
poetry install --without test
```

**ğŸ”’ ç‰ˆæœ¬é”å®šå’Œæ›´æ–°**
```bash
# æŸ¥çœ‹ä¾èµ–
poetry show                    # åˆ—å‡ºæ‰€æœ‰ä¾èµ–
poetry show requests           # æŸ¥çœ‹ç‰¹å®šåŒ…ä¿¡æ¯
poetry show --tree            # ä»¥æ ‘çŠ¶æ˜¾ç¤ºä¾èµ–å…³ç³»

# æ›´æ–°ä¾èµ–
poetry update                 # æ›´æ–°æ‰€æœ‰ä¾èµ–
poetry update requests        # æ›´æ–°ç‰¹å®šåŒ…
```

**ğŸ“¦ æ„å»ºå’Œå‘å¸ƒ**
```bash
# æ„å»ºé¡¹ç›®
poetry build                  # ç”Ÿæˆwheelå’Œtar.gz

# å‘å¸ƒåˆ°PyPI
poetry config pypi-token.pypi your-api-token
poetry publish               # å‘å¸ƒåˆ°PyPI

# å‘å¸ƒåˆ°æµ‹è¯•PyPI
poetry config repositories.testpypi https://test.pypi.org/legacy/
poetry publish -r testpypi
```

---

## 6. ğŸ condaç¯å¢ƒç®¡ç†


### 6.1 condaæ ¸å¿ƒæ¦‚å¿µ


**ğŸ¯ condaæ˜¯ä»€ä¹ˆ**
condaæ˜¯ä¸“ä¸ºæ•°æ®ç§‘å­¦è®¾è®¡çš„åŒ…ç®¡ç†å™¨ï¼Œç‰¹åˆ«æ“…é•¿å¤„ç†ï¼š
- ğŸ§® **ç§‘å­¦è®¡ç®—åŒ…**ï¼ˆnumpy, scipy, pandasï¼‰
- ğŸ¤– **æœºå™¨å­¦ä¹ åŒ…**ï¼ˆtensorflow, pytorch, scikit-learnï¼‰
- ğŸ“Š **æ•°æ®åˆ†æåŒ…**ï¼ˆmatplotlib, seaborn, jupyterï¼‰
- ğŸ”§ **ç¼–è¯‘ä¾èµ–**ï¼ˆè‡ªåŠ¨å¤„ç†C/C++ä¾èµ–ï¼‰

**ğŸ”„ conda vs pip**
```
pipï¼šåªç®¡ç†PythonåŒ…
condaï¼šç®¡ç†PythonåŒ… + ç³»ç»Ÿä¾èµ– + ä¸åŒè¯­è¨€çš„åŒ…

ä¾‹å­ï¼šå®‰è£…numpy
pip: å¯èƒ½éœ€è¦æ‰‹åŠ¨å®‰è£…ç¼–è¯‘å·¥å…·
conda: è‡ªåŠ¨å¤„ç†æ‰€æœ‰ä¾èµ–ï¼Œå¼€ç®±å³ç”¨
```

### 6.2 condaåŸºç¡€å‘½ä»¤


**ğŸ“‹ ç¯å¢ƒç®¡ç†**
```bash
# æŸ¥çœ‹æ‰€æœ‰ç¯å¢ƒ
conda env list
conda info --envs

# åˆ›å»ºç¯å¢ƒ
conda create --name myenv python=3.9
conda create --name myenv python=3.9 numpy pandas

# æ¿€æ´»/åˆ‡æ¢ç¯å¢ƒ
conda activate myenv
conda deactivate

# åˆ é™¤ç¯å¢ƒ
conda env remove --name myenv
```

**ğŸ“¦ åŒ…ç®¡ç†**
```bash
# å®‰è£…åŒ…
conda install numpy
conda install numpy=1.21.0         # æŒ‡å®šç‰ˆæœ¬
conda install -c conda-forge package_name  # æŒ‡å®šé¢‘é“

# æœç´¢åŒ…
conda search numpy
conda search "numpy>=1.20"

# åˆ—å‡ºåŒ…
conda list
conda list numpy

# æ›´æ–°åŒ…
conda update numpy
conda update --all
```

### 6.3 environment.ymlæ–‡ä»¶


**ğŸ“„ environment.ymlç¤ºä¾‹**
```yaml
# æ•°æ®ç§‘å­¦é¡¹ç›®ç¯å¢ƒé…ç½®
name: data-science-project
channels:
  - conda-forge
  - defaults
dependencies:
  - python=3.9
  - numpy>=1.21.0
  - pandas>=1.3.0
  - matplotlib>=3.5.0
  - jupyter>=1.0.0
  - scikit-learn>=1.0.0
  - pip
  - pip:
    - streamlit>=1.15.0
    - plotly>=5.0.0
    - some-pip-only-package
```

**ğŸ”§ ä½¿ç”¨environment.yml**
```bash
# ä»æ–‡ä»¶åˆ›å»ºç¯å¢ƒ
conda env create -f environment.yml

# å¯¼å‡ºå½“å‰ç¯å¢ƒ
conda env export > environment.yml

# æ›´æ–°ç¯å¢ƒ
conda env update -f environment.yml --prune
```

### 6.4 condaå®ç”¨æŠ€å·§


**âš¡ åŠ é€Ÿcondaä½¿ç”¨**
```bash
# é…ç½®å›½å†…é•œåƒæº
conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/
conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/
conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/conda-forge/

# æŸ¥çœ‹é…ç½®
conda config --show channels

# è®¾ç½®ä¼˜å…ˆçº§
conda config --set channel_priority strict
```

**ğŸª æ•°æ®ç§‘å­¦å·¥ä½œæµç¨‹**
```bash
# 1. åˆ›å»ºæ•°æ®ç§‘å­¦ç¯å¢ƒ
conda create --name ds-project python=3.9

# 2. æ¿€æ´»ç¯å¢ƒ
conda activate ds-project

# 3. å®‰è£…æ ¸å¿ƒåŒ…
conda install numpy pandas matplotlib jupyter scikit-learn

# 4. å®‰è£…æ·±åº¦å­¦ä¹ æ¡†æ¶ï¼ˆé€‰æ‹©å…¶ä¸€ï¼‰
conda install pytorch torchvision -c pytorch      # PyTorch
conda install tensorflow-gpu                       # TensorFlow

# 5. å¯¼å‡ºç¯å¢ƒé…ç½®
conda env export > environment.yml
```

---

## 7. ğŸ”¢ ä¾èµ–ç‰ˆæœ¬æ§åˆ¶ç­–ç•¥


### 7.1 ç‰ˆæœ¬å·è§„èŒƒï¼ˆSemVerï¼‰


**ğŸ¯ è¯­ä¹‰åŒ–ç‰ˆæœ¬æ§åˆ¶**
ç‰ˆæœ¬å·æ ¼å¼ï¼š`MAJOR.MINOR.PATCH`ï¼ˆä¸»ç‰ˆæœ¬.æ¬¡ç‰ˆæœ¬.ä¿®è®¢ç‰ˆæœ¬ï¼‰

```
ç¤ºä¾‹ï¼šrequests 2.28.1
â”œâ”€â”€ 2 (ä¸»ç‰ˆæœ¬): é‡å¤§æ›´æ–°ï¼Œå¯èƒ½ä¸å…¼å®¹
â”œâ”€â”€ 28 (æ¬¡ç‰ˆæœ¬): æ–°åŠŸèƒ½ï¼Œå‘åå…¼å®¹
â””â”€â”€ 1 (ä¿®è®¢ç‰ˆæœ¬): Bugä¿®å¤ï¼Œå‘åå…¼å®¹

å®é™…ç†è§£ï¼š
1.0.0 â†’ 1.0.1  âœ… å®‰å…¨æ›´æ–°ï¼ˆBugä¿®å¤ï¼‰
1.0.0 â†’ 1.1.0  âš ï¸  è°¨æ…æ›´æ–°ï¼ˆæ–°åŠŸèƒ½ï¼‰
1.0.0 â†’ 2.0.0  âŒ å±é™©æ›´æ–°ï¼ˆå¯èƒ½ä¸å…¼å®¹ï¼‰
```

### 7.2 ç‰ˆæœ¬çº¦æŸç­–ç•¥


**ğŸ“Š ç‰ˆæœ¬çº¦æŸå¯¹æ¯”è¡¨**

| çº¦æŸæ–¹å¼ | **å«ä¹‰** | **å®‰å…¨æ€§** | **çµæ´»æ€§** | **ä½¿ç”¨åœºæ™¯** |
|---------|----------|-----------|-----------|-------------|
| `==2.28.1` | `ç²¾ç¡®ç‰ˆæœ¬` | ğŸ”’ **æœ€é«˜** | âŒ **æœ€ä½** | `ç”Ÿäº§ç¯å¢ƒå…³é”®ä¾èµ–` |
| `~=2.28.0` | `å…¼å®¹ç‰ˆæœ¬` | ğŸ”’ **é«˜** | âš¡ **ä¸­ç­‰** | `ä¸€èˆ¬ç”Ÿäº§ç¯å¢ƒ` |
| `>=2.28.0,<3.0` | `èŒƒå›´ç‰ˆæœ¬` | âš–ï¸ **ä¸­ç­‰** | âš¡ **é«˜** | `å¼€å‘ç¯å¢ƒ` |
| `>=2.28.0` | `æœ€ä½ç‰ˆæœ¬` | âš ï¸ **ä½** | ğŸš€ **æœ€é«˜** | `æµ‹è¯•æ–°åŠŸèƒ½` |

**ğŸ’¡ å®é™…é€‰æ‹©ç­–ç•¥**
```python
# ç”Ÿäº§ç¯å¢ƒï¼ˆç¨³å®šä¼˜å…ˆï¼‰
requests==2.28.1
Django==4.1.0

# å¼€å‘ç¯å¢ƒï¼ˆé€‚åº¦çµæ´»ï¼‰
requests~=2.28.0      # å…è®¸2.28.x
Django>=4.1.0,<5.0   # 4.xç‰ˆæœ¬

# å·¥å…·ç±»ä¾èµ–ï¼ˆå¯ä»¥çµæ´»ï¼‰
black>=22.0.0
pytest>=7.0.0
```

### 7.3 ä¾èµ–æ›´æ–°ç­–ç•¥


**ğŸ”„ æ¸è¿›å¼æ›´æ–°æµç¨‹**
```
æ­¥éª¤1: æµ‹è¯•ç¯å¢ƒå°å¹…æ›´æ–°
â”œâ”€â”€ æ›´æ–°patchç‰ˆæœ¬ (2.28.1 â†’ 2.28.2)
â”œâ”€â”€ è¿è¡Œå®Œæ•´æµ‹è¯•å¥—ä»¶
â””â”€â”€ éªŒè¯æ ¸å¿ƒåŠŸèƒ½

æ­¥éª¤2: æ¬¡ç‰ˆæœ¬æ›´æ–°
â”œâ”€â”€ æ›´æ–°minorç‰ˆæœ¬ (2.28.x â†’ 2.29.x)
â”œâ”€â”€ æ£€æŸ¥changelog
â”œâ”€â”€ æµ‹è¯•æ–°åŠŸèƒ½å…¼å®¹æ€§
â””â”€â”€ å›å½’æµ‹è¯•

æ­¥éª¤3: ä¸»ç‰ˆæœ¬æ›´æ–°ï¼ˆè°¨æ…ï¼‰
â”œâ”€â”€ è¯¦ç»†é˜…è¯»è¿ç§»æŒ‡å—
â”œâ”€â”€ åˆ›å»ºä¸“é—¨çš„æ›´æ–°åˆ†æ”¯
â”œâ”€â”€ é€æ­¥è°ƒæ•´ä»£ç é€‚é…
â””â”€â”€ å……åˆ†æµ‹è¯•ååˆå¹¶
```

**âš¡ è‡ªåŠ¨åŒ–æ›´æ–°å®è·µ**
```bash
# æ£€æŸ¥è¿‡æ—¶çš„åŒ…
pip list --outdated
poetry show --outdated
conda update --dry-run --all

# å®‰å…¨æ›´æ–°ï¼ˆåªæ›´æ–°patchç‰ˆæœ¬ï¼‰
pip install --upgrade package_name==2.28.*

# æµ‹è¯•æ›´æ–°
poetry update --dry-run
poetry update package_name
```

---

## 8. ğŸ”§ ä¾èµ–å†²çªè§£å†³æ–¹æ¡ˆ


### 8.1 ç†è§£ä¾èµ–å†²çª


**ğŸ¯ ä»€ä¹ˆæ˜¯ä¾èµ–å†²çª**
æƒ³è±¡ä¸¤ä¸ªæœ‹å‹éƒ½è¦å€Ÿä½ çš„è½¦ï¼š
- æœ‹å‹Aè¯´ï¼š"æˆ‘éœ€è¦2020å¹´çš„è½¦"
- æœ‹å‹Bè¯´ï¼š"æˆ‘éœ€è¦2021å¹´çš„è½¦"
- ä½ åªæœ‰ä¸€è¾†è½¦ â†’ å†²çªï¼

```
Pythonä¾èµ–å†²çªç¤ºä¾‹ï¼š
é¡¹ç›®ä¾èµ–:
â”œâ”€â”€ package_A éœ€è¦ requests>=2.25.0
â”œâ”€â”€ package_B éœ€è¦ requests<2.20.0
â””â”€â”€ âŒ æ— æ³•åŒæ—¶æ»¡è¶³ï¼

ç»“æœï¼šå®‰è£…å¤±è´¥æˆ–è¿è¡Œæ—¶é”™è¯¯
```

### 8.2 å¸¸è§å†²çªç±»å‹


**ğŸ“Š å†²çªç±»å‹åˆ†æ**

| å†²çªç±»å‹ | **ç¤ºä¾‹** | **è§£å†³éš¾åº¦** | **è§£å†³æ–¹æ¡ˆ** |
|---------|---------|-------------|-------------|
| ğŸ”¢ **ç‰ˆæœ¬å†²çª** | `Aéœ€è¦numpy>=1.20, Béœ€è¦numpy<1.15` | â­â­â­ | `å‡çº§åŒ…æˆ–é™çº§åŒ…` |
| ğŸ”„ **å¾ªç¯ä¾èµ–** | `Aä¾èµ–Bï¼ŒBä¾èµ–A` | â­â­â­â­ | `é‡æ„ä»£ç ç»“æ„` |
| ğŸ **Pythonç‰ˆæœ¬** | `åŒ…éœ€è¦Python3.9+ï¼Œä½ ç”¨3.7` | â­â­ | `å‡çº§Pythonç‰ˆæœ¬` |
| ğŸ› ï¸ **ç³»ç»Ÿä¾èµ–** | `åŒ…éœ€è¦ç‰¹å®šçš„Cåº“` | â­â­â­â­â­ | `ä½¿ç”¨condaæˆ–Docker` |

### 8.3 å†²çªæ£€æµ‹æ–¹æ³•


**ğŸ” æ‰‹åŠ¨æ£€æµ‹**
```bash
# pipæ£€æµ‹å†²çª
pip check

# è¾“å‡ºç¤ºä¾‹
tensorboard 2.9.0 has requirement protobuf>=3.9.2, but you have protobuf 3.8.0.
```

**ğŸ” å·¥å…·æ£€æµ‹**
```bash
# pipdeptreeæŸ¥çœ‹ä¾èµ–æ ‘
pip install pipdeptree
pipdeptree

# poetryæ£€æµ‹
poetry check

# pipenvæ£€æµ‹
pipenv check
```

### 8.4 å†²çªè§£å†³å®æˆ˜


**ğŸ› ï¸ è§£å†³æ–¹æ¡ˆ1ï¼šç‰ˆæœ¬åè°ƒ**
```bash
# åœºæ™¯ï¼šrequestsç‰ˆæœ¬å†²çª
# package_A éœ€è¦ requests>=2.25.0
# package_B éœ€è¦ requests>=2.20.0,<2.25.0

# è§£å†³ï¼šæ‰¾åˆ°äº¤é›†ç‰ˆæœ¬
pip install requests==2.24.0  # æ»¡è¶³ä¸¤è€…è¦æ±‚çš„æœ€é«˜ç‰ˆæœ¬
```

**ğŸ› ï¸ è§£å†³æ–¹æ¡ˆ2ï¼šä¾èµ–å‡çº§**
```bash
# åœºæ™¯ï¼šæŸä¸ªåŒ…ç‰ˆæœ¬å¤ªè€
# è§£å†³ï¼šå‡çº§å†²çªçš„åŒ…

# æ£€æŸ¥å“ªä¸ªåŒ…å¯ä»¥å‡çº§
pip list --outdated

# å°è¯•å‡çº§é—®é¢˜åŒ…
pip install --upgrade package_B

# æˆ–è€…é™çº§éœ€æ±‚åŒ…
pip install package_A==older_version
```

**ğŸ› ï¸ è§£å†³æ–¹æ¡ˆ3ï¼šè™šæ‹Ÿç¯å¢ƒéš”ç¦»**
```bash
# ä¸ºä¸åŒé¡¹ç›®åˆ›å»ºç‹¬ç«‹ç¯å¢ƒ
# é¡¹ç›®A
python -m venv project_a_env
source project_a_env/bin/activate
pip install package_A

# é¡¹ç›®B  
python -m venv project_b_env
source project_b_env/bin/activate
pip install package_B
```

**ğŸ› ï¸ è§£å†³æ–¹æ¡ˆ4ï¼šä½¿ç”¨poetryè§£å†³**
```toml
# pyproject.tomlä¸­ç²¾ç¡®æ§åˆ¶
[tool.poetry.dependencies]
python = "^3.8"
package_A = "^1.0.0"
package_B = "^2.0.0"
requests = "~=2.24.0"  # å¼ºåˆ¶ä½¿ç”¨å…¼å®¹ç‰ˆæœ¬
```

### 8.5 å†²çªé¢„é˜²ç­–ç•¥


**âœ… æœ€ä½³å®è·µ**
```python
# 1. ä½¿ç”¨ç‰ˆæœ¬é”å®šæ–‡ä»¶
# poetry.lock / Pipfile.lock / requirements-lock.txt

# 2. å®šæœŸæ›´æ–°å’Œæµ‹è¯•
# æ¯å‘¨æ£€æŸ¥ä¾èµ–æ›´æ–°ï¼ŒåŠæ—¶å‘ç°é—®é¢˜

# 3. æœ€å°åŒ–ä¾èµ–
# åªå®‰è£…çœŸæ­£éœ€è¦çš„åŒ…ï¼Œé¿å…é—´æ¥å†²çª

# 4. ä½¿ç”¨ä¾èµ–ç®¡ç†å·¥å…·
# poetry/pipenvè‡ªåŠ¨è§£å†³å†²çª
```

---

## 9. ğŸ“¦ ç¦»çº¿ä¾èµ–ç®¡ç†


### 9.1 ç¦»çº¿åœºæ™¯éœ€æ±‚


**ğŸ¯ ä»€ä¹ˆæ—¶å€™éœ€è¦ç¦»çº¿ç®¡ç†**
- ğŸ¢ **ä¼ä¸šå†…ç½‘**ï¼šæ— æ³•è®¿é—®å¤–ç½‘çš„ç”Ÿäº§ç¯å¢ƒ
- ğŸ”’ **å®‰å…¨è¦æ±‚**ï¼šä¸å…è®¸ä»å…¬ç½‘ä¸‹è½½ä»£ç 
- ğŸŒ **ç½‘ç»œä¸ç¨³å®š**ï¼šç½‘ç»œæ¡ä»¶å·®çš„åœ°åŒº
- âš¡ **åŠ é€Ÿéƒ¨ç½²**ï¼šé¿å…é‡å¤ä¸‹è½½å¤§åŒ…

### 9.2 pipç¦»çº¿æ–¹æ¡ˆ


**ğŸ“¦ ä¸‹è½½ä¾èµ–åŒ…**
```bash
# ä¸‹è½½åŒ…åˆ°æœ¬åœ°ç›®å½•ï¼ˆåŒ…æ‹¬ä¾èµ–ï¼‰
pip download -r requirements.txt -d ./packages

# ä¸‹è½½ç‰¹å®šåŒ…
pip download numpy pandas -d ./packages

# ä¸‹è½½åŒ…ï¼ˆä¸å«ä¾èµ–ï¼‰
pip download --no-deps requests -d ./packages
```

**ğŸ’¾ ç¦»çº¿å®‰è£…**
```bash
# ä»æœ¬åœ°ç›®å½•å®‰è£…
pip install --no-index --find-links ./packages -r requirements.txt

# å®‰è£…ç‰¹å®šåŒ…
pip install --no-index --find-links ./packages numpy

# åˆ›å»ºç¦»çº¿å®‰è£…è„šæœ¬
echo "pip install --no-index --find-links ./packages -r requirements.txt" > install_offline.sh
```

### 9.3 åˆ›å»ºç§æœ‰PyPIé•œåƒ


**ğŸ—ï¸ ä½¿ç”¨devpiæ­å»ºç§æœ‰ä»“åº“**
```bash
# å®‰è£…devpi
pip install devpi-server devpi-client

# å¯åŠ¨æœåŠ¡å™¨
devpi-server --start --host=0.0.0.0 --port=3141

# å®¢æˆ·ç«¯é…ç½®
devpi use http://localhost:3141
devpi login root --password=""
devpi index -c dev bases=root/pypi
devpi use root/dev
```

**ğŸ“¦ ä¸Šä¼ åŒ…åˆ°ç§æœ‰ä»“åº“**
```bash
# ä¸Šä¼ wheelæ–‡ä»¶
devpi upload package.whl

# é…ç½®pipä½¿ç”¨ç§æœ‰ä»“åº“
pip config set global.index-url http://localhost:3141/root/dev/+simple/
```

### 9.4 Dockerç¦»çº¿æ–¹æ¡ˆ


**ğŸ³ åˆ¶ä½œç¦»çº¿Dockeré•œåƒ**
```dockerfile
# Dockerfile
FROM python:3.9-slim

# å¤åˆ¶ç¦»çº¿åŒ…
COPY packages/ /tmp/packages/
COPY requirements.txt /app/

# ç¦»çº¿å®‰è£…
WORKDIR /app
RUN pip install --no-index --find-links /tmp/packages -r requirements.txt

# æ¸…ç†ä¸´æ—¶æ–‡ä»¶
RUN rm -rf /tmp/packages

COPY . .
CMD ["python", "app.py"]
```

**ğŸ”§ æ„å»ºå’Œä½¿ç”¨**
```bash
# æœ¬åœ°å‡†å¤‡ç¦»çº¿åŒ…
pip download -r requirements.txt -d packages/

# æ„å»ºDockeré•œåƒ
docker build -t my-app-offline .

# å¯¼å‡ºé•œåƒï¼ˆç”¨äºç¦»çº¿ç¯å¢ƒï¼‰
docker save my-app-offline > my-app-offline.tar

# åœ¨ç¦»çº¿ç¯å¢ƒå¯¼å…¥
docker load < my-app-offline.tar
```

### 9.5 condaç¦»çº¿æ–¹æ¡ˆ


**ğŸ“¦ condaç¦»çº¿åŒ…ç®¡ç†**
```bash
# ä¸‹è½½åŒ…åˆ°æœ¬åœ°
conda create --name offline_env --download-only python=3.9 numpy pandas

# æŸ¥çœ‹ä¸‹è½½çš„åŒ…
conda info

# åˆ›å»ºç¦»çº¿ç¯å¢ƒ
conda create --name myenv --offline python=3.9 numpy pandas

# å¯¼å‡ºç¯å¢ƒé…ç½®
conda env export > environment.yml
conda list --export > requirements.txt
```

**ğŸ’¾ å®Œæ•´ç¦»çº¿è§£å†³æ–¹æ¡ˆ**
```bash
# 1. åœ¨æœ‰ç½‘ç¯å¢ƒå‡†å¤‡
conda create --name prepare_env python=3.9
conda activate prepare_env
conda install numpy pandas matplotlib
conda env export > environment.yml

# 2. ä¸‹è½½æ‰€æœ‰ä¾èµ–
conda env create --name offline_env --file environment.yml --download-only

# 3. æ‰“åŒ…ç¯å¢ƒ
tar -czf conda_env.tar.gz ~/.conda/envs/offline_env/

# 4. åœ¨ç¦»çº¿ç¯å¢ƒè§£å‹ä½¿ç”¨
tar -xzf conda_env.tar.gz -C ~/.conda/envs/
conda activate offline_env
```

---

## 10. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 10.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ ä¾èµ–ç®¡ç†æœ¬è´¨ï¼šç¡®ä¿é¡¹ç›®åœ¨ä¸åŒç¯å¢ƒä¸­çš„ä¸€è‡´æ€§
ğŸ”¸ ç‰ˆæœ¬æ§åˆ¶ç­–ç•¥ï¼šå¹³è¡¡ç¨³å®šæ€§å’ŒåŠŸèƒ½æ›´æ–°çš„éœ€æ±‚
ğŸ”¸ å·¥å…·é€‰æ‹©åŸåˆ™ï¼šæ ¹æ®é¡¹ç›®è§„æ¨¡å’Œå›¢é˜Ÿéœ€æ±‚é€‰æ‹©åˆé€‚å·¥å…·
ğŸ”¸ å†²çªè§£å†³æ€è·¯ï¼šç†è§£å†²çªæ ¹æºï¼Œé‡‡ç”¨åˆé€‚çš„è§£å†³ç­–ç•¥
ğŸ”¸ ç¦»çº¿ç®¡ç†ä»·å€¼ï¼šä¿è¯åœ¨å—é™ç¯å¢ƒä¸­çš„é¡¹ç›®éƒ¨ç½²èƒ½åŠ›
```

### 10.2 å·¥å…·é€‰æ‹©å»ºè®®


**ğŸ¯ ä¸åŒåœºæ™¯çš„æœ€ä½³é€‰æ‹©**

| åœºæ™¯ | **æ¨èå·¥å…·** | **ç†ç”±** |
|------|-------------|----------|
| ğŸ†• **æ–°æ‰‹å­¦ä¹ ** | `pip + venv + requirements.txt` | `ç®€å•ç›´æ¥ï¼Œæ˜“äºç†è§£` |
| ğŸ¢ **ä¼ä¸šé¡¹ç›®** | `poetry` | `åŠŸèƒ½å…¨é¢ï¼Œç®¡ç†è§„èŒƒ` |
| ğŸ”¬ **æ•°æ®ç§‘å­¦** | `conda` | `ç§‘å­¦è®¡ç®—åŒ…æ”¯æŒå¥½` |
| âš¡ **å¿«é€Ÿå¼€å‘** | `pipenv` | `è‡ªåŠ¨åŒ–ç¨‹åº¦é«˜` |
| ğŸ¯ **åŒ…å‘å¸ƒ** | `poetry` | `æ„å»ºå‘å¸ƒåŠŸèƒ½å¼ºå¤§` |

### 10.3 æœ€ä½³å®è·µæ¸…å•


**âœ… å¿…é¡»éµå¾ªçš„å®è·µ**
- ğŸ”’ **ç‰ˆæœ¬é”å®š**ï¼šç”Ÿäº§ç¯å¢ƒä½¿ç”¨ç²¾ç¡®ç‰ˆæœ¬
- ğŸ  **è™šæ‹Ÿç¯å¢ƒ**ï¼šæ¯ä¸ªé¡¹ç›®ç‹¬ç«‹ç¯å¢ƒ
- ğŸ“ **æ–‡æ¡£é½å…¨**ï¼šrequirementsæ–‡ä»¶å’Œå®‰è£…è¯´æ˜
- ğŸ§ª **æµ‹è¯•æ›´æ–°**ï¼šæ›´æ–°ä¾èµ–å‰å……åˆ†æµ‹è¯•
- ğŸ”„ **å®šæœŸç»´æŠ¤**ï¼šå®šæœŸæ£€æŸ¥å’Œæ›´æ–°ä¾èµ–

**âŒ éœ€è¦é¿å…çš„é—®é¢˜**
- âŒ å…¨å±€å®‰è£…å¼€å‘ä¾èµ–
- âŒ ä¸é”å®šç‰ˆæœ¬å·
- âŒ å¿½ç•¥ä¾èµ–å†²çªè­¦å‘Š
- âŒ æ²¡æœ‰å¤‡ä»½å·¥ä½œç¯å¢ƒ
- âŒ æ··ç”¨ä¸åŒçš„ç®¡ç†å·¥å…·

### 10.4 å­¦ä¹ è·¯å¾„å»ºè®®


**ğŸ“š æ¨èå­¦ä¹ é¡ºåº**
```
é˜¶æ®µ1: åŸºç¡€æŒæ¡
â”œâ”€â”€ pipåŸºæœ¬å‘½ä»¤
â”œâ”€â”€ è™šæ‹Ÿç¯å¢ƒæ¦‚å¿µ
â””â”€â”€ requirements.txtä½¿ç”¨

é˜¶æ®µ2: å·¥å…·è¿›é˜¶
â”œâ”€â”€ é€‰æ‹©é€‚åˆçš„ç®¡ç†å·¥å…·(pipenv/poetry)
â”œâ”€â”€ ç†è§£é…ç½®æ–‡ä»¶ç»“æ„
â””â”€â”€ æŒæ¡ç‰ˆæœ¬æ§åˆ¶ç­–ç•¥

é˜¶æ®µ3: é«˜çº§åº”ç”¨
â”œâ”€â”€ ä¾èµ–å†²çªè§£å†³
â”œâ”€â”€ ç¦»çº¿ç¯å¢ƒç®¡ç†
â””â”€â”€ ä¼ä¸šçº§éƒ¨ç½²æ–¹æ¡ˆ
```

**ğŸ¯ å®è·µå»ºè®®**
- ğŸ’» **åŠ¨æ‰‹ç»ƒä¹ **ï¼šåˆ›å»ºä¸åŒç±»å‹çš„é¡¹ç›®ç»ƒä¹ 
- ğŸ”„ **å¯¹æ¯”ä½“éªŒ**ï¼šå°è¯•ä¸åŒå·¥å…·çš„ä¼˜ç¼ºç‚¹
- ğŸ“– **é˜…è¯»æ–‡æ¡£**ï¼šæ·±å…¥äº†è§£å·¥å…·çš„é«˜çº§åŠŸèƒ½
- ğŸ¤ **å›¢é˜Ÿåä½œ**ï¼šåœ¨å®é™…é¡¹ç›®ä¸­åº”ç”¨å’Œä¼˜åŒ–

### 10.5 å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥


**âš¡ pipé€ŸæŸ¥**
```bash
pip install package_name        # å®‰è£…åŒ…
pip install -r requirements.txt # æ‰¹é‡å®‰è£…
pip list --outdated            # æ£€æŸ¥æ›´æ–°
pip freeze > requirements.txt  # å¯¼å‡ºä¾èµ–
```

**âš¡ pipenvé€ŸæŸ¥**
```bash
pipenv install package_name     # å®‰è£…åŒ…
pipenv install --dev           # å®‰è£…å¼€å‘ä¾èµ–
pipenv shell                   # æ¿€æ´»ç¯å¢ƒ
pipenv run python script.py   # è¿è¡Œè„šæœ¬
```

**âš¡ poetryé€ŸæŸ¥**
```bash
poetry add package_name        # æ·»åŠ ä¾èµ–
poetry install                 # å®‰è£…æ‰€æœ‰ä¾èµ–
poetry show --tree            # æŸ¥çœ‹ä¾èµ–æ ‘
poetry build                  # æ„å»ºé¡¹ç›®
```

**âš¡ condaé€ŸæŸ¥**
```bash
conda create -n env_name python=3.9  # åˆ›å»ºç¯å¢ƒ
conda activate env_name               # æ¿€æ´»ç¯å¢ƒ
conda install package_name           # å®‰è£…åŒ…
conda env export > environment.yml   # å¯¼å‡ºç¯å¢ƒ
```

**æ ¸å¿ƒè®°å¿†**ï¼š
- ä¾èµ–ç®¡ç†æ˜¯é¡¹ç›®ç¨³å®šè¿è¡Œçš„åŸºç¡€
- é€‰æ‹©åˆé€‚çš„å·¥å…·æ¯”æŒæ¡æ‰€æœ‰å·¥å…·æ›´é‡è¦
- ç‰ˆæœ¬æ§åˆ¶å’Œå†²çªè§£å†³æ˜¯é«˜çº§æŠ€èƒ½çš„ä½“ç°
- å®è·µå‡ºçœŸçŸ¥ï¼Œå¤šåŠ¨æ‰‹æ‰èƒ½çœŸæ­£æŒæ¡