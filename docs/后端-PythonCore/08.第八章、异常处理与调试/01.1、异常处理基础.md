---
title: 1ã€å¼‚å¸¸å¤„ç†åŸºç¡€
---
## ğŸ“š ç›®å½•

1. [å¼‚å¸¸æ¦‚å¿µä¸ä»·å€¼](#1-å¼‚å¸¸æ¦‚å¿µä¸ä»·å€¼)
2. [try-exceptè¯­å¥åŸºç¡€](#2-try-exceptè¯­å¥åŸºç¡€)
3. [å¼‚å¸¸ç±»å‹åŒ¹é…](#3-å¼‚å¸¸ç±»å‹åŒ¹é…)
4. [å¤šé‡å¼‚å¸¸æ•è·](#4-å¤šé‡å¼‚å¸¸æ•è·)
5. [exceptå­å¥é¡ºåº](#5-exceptå­å¥é¡ºåº)
6. [å¼‚å¸¸ä¿¡æ¯è·å–](#6-å¼‚å¸¸ä¿¡æ¯è·å–)
7. [å¼‚å¸¸å¤„ç†æµç¨‹](#7-å¼‚å¸¸å¤„ç†æµç¨‹)
8. [å¼‚å¸¸å¤„ç†æœ€ä½³å®è·µ](#8-å¼‚å¸¸å¤„ç†æœ€ä½³å®è·µ)
9. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#9-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ¯ å¼‚å¸¸æ¦‚å¿µä¸ä»·å€¼


### 1.1 ä»€ä¹ˆæ˜¯å¼‚å¸¸


**ğŸ”¸ é€šä¿—ç†è§£**
æƒ³è±¡ä½ åœ¨åšé¥­æ—¶ï¼Œå¯èƒ½ä¼šé‡åˆ°å„ç§æ„å¤–æƒ…å†µï¼š
- ğŸ”¥ ç‚‰å­çªç„¶ç†„ç«äº†
- ğŸ§‚ ç›ç”¨å®Œäº†
- â° æ—¶é—´ä¸å¤Ÿäº†

åœ¨ç¼–ç¨‹ä¸­ï¼Œ**å¼‚å¸¸**å°±æ˜¯ç¨‹åºè¿è¡Œæ—¶é‡åˆ°çš„å„ç§"æ„å¤–æƒ…å†µ"ï¼Œæ¯”å¦‚ï¼š
- ğŸ“ æ–‡ä»¶ä¸å­˜åœ¨
- ğŸ”¢ é™¤æ•°ä¸ºé›¶
- ğŸ’¾ å†…å­˜ä¸è¶³

```
æ­£å¸¸æƒ…å†µï¼šç¨‹åºæŒ‰é¢„æœŸè¿è¡Œ âœ…
å¼‚å¸¸æƒ…å†µï¼šç¨‹åºé‡åˆ°é¢„æ–™ä¹‹å¤–çš„é—®é¢˜ âŒ
```

### 1.2 å¼‚å¸¸çš„ä»·å€¼ä¸ä½œç”¨


**ğŸŒŸ ä¸ºä»€ä¹ˆéœ€è¦å¼‚å¸¸å¤„ç†ï¼Ÿ**

| æ²¡æœ‰å¼‚å¸¸å¤„ç† | æœ‰å¼‚å¸¸å¤„ç† |
|------------|-----------|
| ç¨‹åºé‡åˆ°é”™è¯¯ç›´æ¥å´©æºƒ ğŸ’¥ | ç¨‹åºä¼˜é›…åœ°å¤„ç†é”™è¯¯ âœ¨ |
| ç”¨æˆ·çœ‹åˆ°ä¸€å †é”™è¯¯ä¿¡æ¯ ğŸ˜µ | ç”¨æˆ·çœ‹åˆ°å‹å¥½çš„æç¤º ğŸ˜Š |
| ç¨‹åºæ— æ³•ç»§ç»­è¿è¡Œ ğŸ›‘ | ç¨‹åºå¯ä»¥ç»§ç»­æ‰§è¡Œ ğŸ”„ |

**ğŸ’¡ å¼‚å¸¸å¤„ç†çš„æ ¸å¿ƒä»·å€¼**
- **ğŸ›¡ï¸ ä¿æŠ¤ç¨‹åº**ï¼šé˜²æ­¢ç¨‹åºæ„å¤–å´©æºƒ
- **ğŸ‘¥ ç”¨æˆ·å‹å¥½**ï¼šæä¾›æ¸…æ™°çš„é”™è¯¯æç¤º
- **ğŸ”§ ä¾¿äºè°ƒè¯•**ï¼šå¸®åŠ©å¼€å‘è€…å¿«é€Ÿå®šä½é—®é¢˜
- **ğŸ’ª ç¨‹åºå¥å£®**ï¼šè®©ç¨‹åºèƒ½åº”å¯¹å„ç§æ„å¤–æƒ…å†µ

### 1.3 å¼‚å¸¸å¤„ç†çš„åŸºæœ¬æ€è·¯


```
ç¨‹åºæ‰§è¡Œæµç¨‹ï¼š

æ­£å¸¸æµç¨‹ï¼š
å¼€å§‹ â†’ æ‰§è¡Œä»£ç  â†’ è·å¾—ç»“æœ â†’ ç»“æŸ

å¼‚å¸¸æµç¨‹ï¼š
å¼€å§‹ â†’ æ‰§è¡Œä»£ç  â†’ é‡åˆ°å¼‚å¸¸ â†’ å¤„ç†å¼‚å¸¸ â†’ ç»§ç»­æˆ–ç»“æŸ
```

**ğŸ”¸ æ ¸å¿ƒç†å¿µ**
- **é¢„é˜²ä¼˜äºæ²»ç–—**ï¼šå°½é‡é¿å…å¼‚å¸¸å‘ç”Ÿ
- **ä¼˜é›…å¤„ç†**ï¼šå¼‚å¸¸å‘ç”Ÿæ—¶ç»™å‡ºåˆç†å“åº”
- **ä¿¡æ¯é€æ˜**ï¼šè®©ç”¨æˆ·å’Œå¼€å‘è€…éƒ½èƒ½ç†è§£å‘ç”Ÿäº†ä»€ä¹ˆ

---

## 2. ğŸ› ï¸ try-exceptè¯­å¥åŸºç¡€


### 2.1 åŸºæœ¬è¯­æ³•ç»“æ„


**ğŸ”¸ æœ€ç®€å•çš„å¼‚å¸¸å¤„ç†**

```python
try:
    # å¯èƒ½å‡ºç°å¼‚å¸¸çš„ä»£ç 
    risky_code()
except:
    # å¤„ç†å¼‚å¸¸çš„ä»£ç 
    handle_error()
```

**ğŸ“ è¯­æ³•è¯´æ˜**
- `try:` åé¢æ”¾å¯èƒ½å‡ºé”™çš„ä»£ç 
- `except:` åé¢æ”¾å¤„ç†é”™è¯¯çš„ä»£ç 
- å¦‚æœtryä¸­çš„ä»£ç å‡ºé”™ï¼Œå°±ä¼šè·³åˆ°exceptä¸­æ‰§è¡Œ

### 2.2 å®é™…åº”ç”¨ç¤ºä¾‹


**ğŸ’» ç¤ºä¾‹1ï¼šå¤„ç†é™¤é›¶é”™è¯¯**

```python
# æ²¡æœ‰å¼‚å¸¸å¤„ç†çš„ç‰ˆæœ¬ âŒ
def divide_unsafe(a, b):
    return a / b

# è°ƒç”¨ä¼šå¯¼è‡´ç¨‹åºå´©æºƒ
# result = divide_unsafe(10, 0)  # ZeroDivisionError!

# æœ‰å¼‚å¸¸å¤„ç†çš„ç‰ˆæœ¬ âœ…
def divide_safe(a, b):
    try:
        result = a / b
        return result
    except:
        print("å‡ºé”™äº†ï¼šä¸èƒ½é™¤ä»¥é›¶ï¼")
        return None

# å®‰å…¨è°ƒç”¨
result = divide_safe(10, 0)  # è¾“å‡ºï¼šå‡ºé”™äº†ï¼šä¸èƒ½é™¤ä»¥é›¶ï¼
print(f"ç»“æœï¼š{result}")     # è¾“å‡ºï¼šç»“æœï¼šNone
```

**ğŸ’» ç¤ºä¾‹2ï¼šå¤„ç†æ–‡ä»¶è¯»å–é”™è¯¯**

```python
def read_file_safe(filename):
    try:
        with open(filename, 'r', encoding='utf-8') as file:
            content = file.read()
            return content
    except:
        print(f"æ— æ³•è¯»å–æ–‡ä»¶ï¼š{filename}")
        return ""

# å°è¯•è¯»å–ä¸å­˜åœ¨çš„æ–‡ä»¶
content = read_file_safe("ä¸å­˜åœ¨çš„æ–‡ä»¶.txt")
```

### 2.3 try-exceptçš„æ‰§è¡Œæµç¨‹


```
æ‰§è¡Œæµç¨‹å›¾ï¼š

ç¨‹åºå¼€å§‹
    â†“
è¿›å…¥ try å—
    â†“
æ‰§è¡Œ try ä¸­çš„ä»£ç 
    â†“
æœ‰å¼‚å¸¸å—ï¼Ÿ
    â†“                    â†“
   æ˜¯                   å¦
    â†“                    â†“
è¿›å…¥ except å—      è·³è¿‡ except å—
    â†“                    â†“
æ‰§è¡Œå¼‚å¸¸å¤„ç†ä»£ç         ç»§ç»­åç»­ä»£ç 
    â†“                    â†“
    â†“â†â†â†â†â†â†â†â†â†â†â†â†â†â†â†â†â†â†
    â†“
ç»§ç»­ç¨‹åºæ‰§è¡Œ
```

**ğŸ”¸ å…³é”®ç†è§£**
- åªæœ‰tryä¸­**çœŸçš„å‡ºç°å¼‚å¸¸**æ—¶ï¼Œexceptæ‰ä¼šæ‰§è¡Œ
- å¦‚æœtryä¸­çš„ä»£ç æ­£å¸¸æ‰§è¡Œï¼Œexceptä¼šè¢«è·³è¿‡
- ä¸€æ—¦å¼‚å¸¸è¢«æ•è·å¤„ç†ï¼Œç¨‹åºä¼šç»§ç»­æ‰§è¡Œåé¢çš„ä»£ç 

---

## 3. ğŸ¯ å¼‚å¸¸ç±»å‹åŒ¹é…


### 3.1 ä¸ºä»€ä¹ˆè¦æŒ‡å®šå¼‚å¸¸ç±»å‹


**ğŸ”¸ é—®é¢˜åˆ†æ**
ä½¿ç”¨ç©ºçš„`except:`ä¼šæ•è·æ‰€æœ‰å¼‚å¸¸ï¼Œè¿™å¯èƒ½å¯¼è‡´é—®é¢˜ï¼š

```python
# ä¸å¥½çš„åšæ³• âŒ
try:
    number = int(input("è¯·è¾“å…¥æ•°å­—ï¼š"))
    result = 10 / number
    print(f"ç»“æœï¼š{result}")
except:
    print("å‡ºç°äº†é”™è¯¯")  # æ— æ³•çŸ¥é“å…·ä½“æ˜¯ä»€ä¹ˆé”™è¯¯
```

**é—®é¢˜**ï¼šç”¨æˆ·è¾“å…¥"abc"å’Œè¾“å…¥"0"éƒ½ä¼šæ˜¾ç¤ºç›¸åŒé”™è¯¯ä¿¡æ¯ï¼Œä½†å®é™…é—®é¢˜ä¸åŒã€‚

### 3.2 æŒ‡å®šå…·ä½“å¼‚å¸¸ç±»å‹


**ğŸ”¸ æ”¹è¿›ç‰ˆæœ¬**

```python
# å¥½çš„åšæ³• âœ…
try:
    number = int(input("è¯·è¾“å…¥æ•°å­—ï¼š"))
    result = 10 / number
    print(f"ç»“æœï¼š{result}")
except ValueError:
    print("è¯·è¾“å…¥æœ‰æ•ˆçš„æ•°å­—ï¼")
except ZeroDivisionError:
    print("ä¸èƒ½é™¤ä»¥é›¶ï¼")
```

### 3.3 å¸¸è§å¼‚å¸¸ç±»å‹


| å¼‚å¸¸ç±»å‹ | å‘ç”Ÿåœºæ™¯ | ç¤ºä¾‹ |
|---------|---------|------|
| `ValueError` | ç±»å‹è½¬æ¢é”™è¯¯ | `int("abc")` |
| `ZeroDivisionError` | é™¤é›¶é”™è¯¯ | `10 / 0` |
| `FileNotFoundError` | æ–‡ä»¶ä¸å­˜åœ¨ | `open("ä¸å­˜åœ¨.txt")` |
| `IndexError` | ç´¢å¼•è¶…å‡ºèŒƒå›´ | `[1,2,3][10]` |
| `KeyError` | å­—å…¸é”®ä¸å­˜åœ¨ | `{"a": 1}["b"]` |
| `TypeError` | ç±»å‹æ“ä½œé”™è¯¯ | `"hello" + 5` |

**ğŸ’» å®é™…åº”ç”¨ç¤ºä¾‹**

```python
def safe_calculator():
    try:
        # è·å–ç”¨æˆ·è¾“å…¥
        a = float(input("è¯·è¾“å…¥ç¬¬ä¸€ä¸ªæ•°å­—ï¼š"))
        operation = input("è¯·è¾“å…¥æ“ä½œç¬¦(+, -, *, /)ï¼š")
        b = float(input("è¯·è¾“å…¥ç¬¬äºŒä¸ªæ•°å­—ï¼š"))
        
        # æ‰§è¡Œè®¡ç®—
        if operation == "+":
            result = a + b
        elif operation == "-":
            result = a - b
        elif operation == "*":
            result = a * b
        elif operation == "/":
            result = a / b
        else:
            print("ä¸æ”¯æŒçš„æ“ä½œç¬¦")
            return
            
        print(f"ç»“æœï¼š{result}")
        
    except ValueError:
        print("âŒ è¯·è¾“å…¥æœ‰æ•ˆçš„æ•°å­—ï¼")
    except ZeroDivisionError:
        print("âŒ ä¸èƒ½é™¤ä»¥é›¶ï¼")

# è°ƒç”¨å‡½æ•°
safe_calculator()
```

---

## 4. ğŸ”€ å¤šé‡å¼‚å¸¸æ•è·


### 4.1 å¤„ç†å¤šç§å¼‚å¸¸çš„æ–¹æ³•


**ğŸ”¸ æ–¹æ³•1ï¼šåˆ†åˆ«æ•è·**

```python
try:
    # å¯èƒ½å‡ºç°å¤šç§å¼‚å¸¸çš„ä»£ç 
    process_data()
except ValueError:
    print("æ•°å€¼é”™è¯¯")
except FileNotFoundError:
    print("æ–‡ä»¶æœªæ‰¾åˆ°")
except KeyError:
    print("é”®å€¼é”™è¯¯")
```

**ğŸ”¸ æ–¹æ³•2ï¼šåŒæ—¶æ•è·å¤šç§å¼‚å¸¸**

```python
try:
    process_data()
except (ValueError, TypeError, KeyError):
    print("è¾“å…¥æ•°æ®æœ‰é—®é¢˜")
except (FileNotFoundError, PermissionError):
    print("æ–‡ä»¶æ“ä½œå¤±è´¥")
```

### 4.2 å®é™…åº”ç”¨æ¡ˆä¾‹


**ğŸ’» ç¤ºä¾‹ï¼šæ•°æ®å¤„ç†å‡½æ•°**

```python
def process_user_data(data_file, user_id):
    try:
        # è¯»å–æ–‡ä»¶
        with open(data_file, 'r') as file:
            data = file.read()
        
        # è§£æJSON
        import json
        user_data = json.loads(data)
        
        # è·å–ç”¨æˆ·ä¿¡æ¯
        user_info = user_data[str(user_id)]
        
        # å¤„ç†å¹´é¾„
        age = int(user_info['age'])
        
        return f"ç”¨æˆ·{user_id}ï¼Œå¹´é¾„{age}å²"
        
    except FileNotFoundError:
        return "âŒ æ•°æ®æ–‡ä»¶ä¸å­˜åœ¨"
    except json.JSONDecodeError:
        return "âŒ æ–‡ä»¶æ ¼å¼ä¸æ­£ç¡®"
    except KeyError:
        return "âŒ ç”¨æˆ·ä¿¡æ¯ä¸å­˜åœ¨"
    except ValueError:
        return "âŒ å¹´é¾„ä¿¡æ¯æ— æ•ˆ"
    except (PermissionError, OSError):
        return "âŒ æ–‡ä»¶è¯»å–å¤±è´¥"

# ä½¿ç”¨ç¤ºä¾‹
result = process_user_data("users.json", 123)
print(result)
```

### 4.3 å¼‚å¸¸æ•è·çš„ä¼˜å…ˆçº§


**ğŸ”¸ é‡è¦æ¦‚å¿µï¼šå¼‚å¸¸çš„ç»§æ‰¿å…³ç³»**

```
BaseException
 â””â”€â”€ Exception
     â”œâ”€â”€ ValueError
     â”œâ”€â”€ TypeError  
     â”œâ”€â”€ FileNotFoundError
     â””â”€â”€ å…¶ä»–å¼‚å¸¸...
```

**âš ï¸ æ³¨æ„é¡ºåºå¾ˆé‡è¦**

```python
# é”™è¯¯çš„åšæ³• âŒ
try:
    risky_operation()
except Exception:  # è¿™ä¼šæ•è·æ‰€æœ‰å¼‚å¸¸
    print("é€šç”¨é”™è¯¯")
except ValueError:  # è¿™è¡Œæ°¸è¿œä¸ä¼šæ‰§è¡Œï¼
    print("æ•°å€¼é”™è¯¯")

# æ­£ç¡®çš„åšæ³• âœ…
try:
    risky_operation()
except ValueError:  # å…·ä½“å¼‚å¸¸åœ¨å‰
    print("æ•°å€¼é”™è¯¯")
except Exception:   # é€šç”¨å¼‚å¸¸åœ¨å
    print("å…¶ä»–é”™è¯¯")
```

---

## 5. ğŸ“ exceptå­å¥é¡ºåº


### 5.1 é¡ºåºè§„åˆ™


**ğŸ”¸ æ ¸å¿ƒåŸåˆ™**ï¼šä»å…·ä½“åˆ°ä¸€èˆ¬ï¼Œä»å­ç±»åˆ°çˆ¶ç±»

```
æ­£ç¡®é¡ºåºï¼š
å…·ä½“å¼‚å¸¸(å­ç±») â†’ ä¸€èˆ¬å¼‚å¸¸(çˆ¶ç±»)

é”™è¯¯é¡ºåºï¼š
ä¸€èˆ¬å¼‚å¸¸(çˆ¶ç±») â†’ å…·ä½“å¼‚å¸¸(å­ç±»)  # åé¢çš„æ°¸è¿œä¸ä¼šæ‰§è¡Œ
```

### 5.2 å®é™…ç¤ºä¾‹å¯¹æ¯”


**âŒ é”™è¯¯é¡ºåºç¤ºä¾‹**

```python
try:
    value = int(input("è¾“å…¥æ•°å­—ï¼š"))
    result = 10 / value
except Exception:           # å¤ªå®½æ³›ï¼Œä¼šæ•è·æ‰€æœ‰å¼‚å¸¸
    print("å‘ç”Ÿäº†æŸç§é”™è¯¯")
except ValueError:          # æ°¸è¿œä¸ä¼šæ‰§è¡Œ
    print("è¯·è¾“å…¥æ•°å­—")
except ZeroDivisionError:   # æ°¸è¿œä¸ä¼šæ‰§è¡Œ
    print("ä¸èƒ½ä¸ºé›¶")
```

**âœ… æ­£ç¡®é¡ºåºç¤ºä¾‹**

```python
try:
    value = int(input("è¾“å…¥æ•°å­—ï¼š"))
    result = 10 / value
except ValueError:          # æœ€å…·ä½“çš„å¼‚å¸¸
    print("è¯·è¾“å…¥æœ‰æ•ˆæ•°å­—")
except ZeroDivisionError:   # å…·ä½“å¼‚å¸¸
    print("æ•°å­—ä¸èƒ½ä¸ºé›¶")
except Exception:           # æœ€åçš„é€šç”¨æ•è·
    print("å‘ç”Ÿäº†æœªçŸ¥é”™è¯¯")
```

### 5.3 å¼‚å¸¸å±‚æ¬¡ç»“æ„ç†è§£


**ğŸ“Š å¸¸è§å¼‚å¸¸çš„å±‚æ¬¡å…³ç³»**

```
Exception (åŸºç¡€å¼‚å¸¸ç±»)
â”œâ”€â”€ ValueError (å€¼é”™è¯¯)
â”œâ”€â”€ TypeError (ç±»å‹é”™è¯¯)
â”œâ”€â”€ LookupError (æŸ¥æ‰¾é”™è¯¯)
â”‚   â”œâ”€â”€ IndexError (ç´¢å¼•é”™è¯¯)
â”‚   â””â”€â”€ KeyError (é”®é”™è¯¯)
â”œâ”€â”€ OSError (æ“ä½œç³»ç»Ÿé”™è¯¯)
â”‚   â”œâ”€â”€ FileNotFoundError (æ–‡ä»¶æœªæ‰¾åˆ°)
â”‚   â””â”€â”€ PermissionError (æƒé™é”™è¯¯)
â””â”€â”€ ArithmeticError (ç®—æœ¯é”™è¯¯)
    â”œâ”€â”€ ZeroDivisionError (é™¤é›¶é”™è¯¯)
    â””â”€â”€ OverflowError (æº¢å‡ºé”™è¯¯)
```

**ğŸ’» æ­£ç¡®ä½¿ç”¨ç¤ºä¾‹**

```python
def safe_file_processor(filename, index):
    try:
        with open(filename, 'r') as file:
            lines = file.readlines()
            content = lines[index]
            number = int(content.strip())
            result = 100 / number
            return result
            
    except FileNotFoundError:      # æœ€å…·ä½“
        print("æ–‡ä»¶ä¸å­˜åœ¨")
    except IndexError:             # å…·ä½“
        print("è¡Œå·è¶…å‡ºèŒƒå›´")
    except ValueError:             # å…·ä½“
        print("å†…å®¹ä¸æ˜¯æ•°å­—")
    except ZeroDivisionError:      # å…·ä½“
        print("ä¸èƒ½é™¤ä»¥é›¶")
    except OSError:                # è¾ƒä¸€èˆ¬ï¼ˆFileNotFoundErrorçš„çˆ¶ç±»ï¼‰
        print("æ–‡ä»¶æ“ä½œå¤±è´¥")
    except Exception:              # æœ€ä¸€èˆ¬
        print("å‘ç”ŸæœªçŸ¥é”™è¯¯")
```

---

## 6. ğŸ“‹ å¼‚å¸¸ä¿¡æ¯è·å–


### 6.1 è·å–å¼‚å¸¸è¯¦ç»†ä¿¡æ¯


**ğŸ”¸ ä½¿ç”¨ `as` å…³é”®å­—è·å–å¼‚å¸¸å¯¹è±¡**

```python
try:
    risky_operation()
except ValueError as e:
    print(f"å€¼é”™è¯¯ï¼š{e}")
except Exception as e:
    print(f"å…¶ä»–é”™è¯¯ï¼š{e}")
```

### 6.2 å¼‚å¸¸ä¿¡æ¯çš„åº”ç”¨


**ğŸ’» ç¤ºä¾‹1ï¼šè¯¦ç»†çš„é”™è¯¯æŠ¥å‘Š**

```python
def divide_with_details(a, b):
    try:
        result = a / b
        return result
    except ZeroDivisionError as e:
        error_msg = f"è®¡ç®—é”™è¯¯ï¼š{a} Ã· {b} å¤±è´¥"
        detail_msg = f"è¯¦ç»†ä¿¡æ¯ï¼š{e}"
        print(f"âŒ {error_msg}")
        print(f"ğŸ” {detail_msg}")
        return None
    except TypeError as e:
        print(f"âŒ å‚æ•°ç±»å‹é”™è¯¯ï¼š{e}")
        print(f"ğŸ’¡ æç¤ºï¼šè¯·ç¡®ä¿è¾“å…¥çš„æ˜¯æ•°å­—")
        return None

# æµ‹è¯•
result1 = divide_with_details(10, 0)     # é™¤é›¶é”™è¯¯
result2 = divide_with_details(10, "a")   # ç±»å‹é”™è¯¯
```

**ğŸ’» ç¤ºä¾‹2ï¼šæ–‡ä»¶æ“ä½œçš„è¯¦ç»†å¼‚å¸¸å¤„ç†**

```python
def read_config_file(filename):
    try:
        with open(filename, 'r', encoding='utf-8') as file:
            import json
            config = json.load(file)
            return config
            
    except FileNotFoundError as e:
        print(f"âŒ é…ç½®æ–‡ä»¶ä¸å­˜åœ¨ï¼š{filename}")
        print(f"ğŸ” ç³»ç»Ÿä¿¡æ¯ï¼š{e}")
        return {}
        
    except json.JSONDecodeError as e:
        print(f"âŒ é…ç½®æ–‡ä»¶æ ¼å¼é”™è¯¯")
        print(f"ğŸ” é”™è¯¯ä½ç½®ï¼šç¬¬{e.lineno}è¡Œï¼Œç¬¬{e.colno}åˆ—")
        print(f"ğŸ” é”™è¯¯ä¿¡æ¯ï¼š{e.msg}")
        return {}
        
    except UnicodeDecodeError as e:
        print(f"âŒ æ–‡ä»¶ç¼–ç é”™è¯¯ï¼š{e}")
        print(f"ğŸ’¡ å»ºè®®ï¼šæ£€æŸ¥æ–‡ä»¶æ˜¯å¦ä¸ºUTF-8ç¼–ç ")
        return {}
        
    except Exception as e:
        print(f"âŒ æœªçŸ¥é”™è¯¯ï¼š{type(e).__name__}")
        print(f"ğŸ” è¯¦ç»†ä¿¡æ¯ï¼š{e}")
        return {}

# ä½¿ç”¨ç¤ºä¾‹
config = read_config_file("app_config.json")
```

### 6.3 å¼‚å¸¸ä¿¡æ¯çš„ç»„æˆ


**ğŸ”¸ å¼‚å¸¸å¯¹è±¡åŒ…å«çš„ä¿¡æ¯**

| å±æ€§/æ–¹æ³• | è¯´æ˜ | ç¤ºä¾‹ |
|----------|------|------|
| `str(e)` | å¼‚å¸¸æ¶ˆæ¯ | `"division by zero"` |
| `type(e).__name__` | å¼‚å¸¸ç±»å‹å | `"ZeroDivisionError"` |
| `e.args` | å¼‚å¸¸å‚æ•° | `("division by zero",)` |

**ğŸ’» å®é™…åº”ç”¨**

```python
def detailed_error_info():
    try:
        x = 1 / 0
    except Exception as e:
        print(f"å¼‚å¸¸ç±»å‹ï¼š{type(e).__name__}")
        print(f"å¼‚å¸¸æ¶ˆæ¯ï¼š{str(e)}")
        print(f"å¼‚å¸¸å‚æ•°ï¼š{e.args}")

detailed_error_info()
# è¾“å‡ºï¼š
# å¼‚å¸¸ç±»å‹ï¼šZeroDivisionError
# å¼‚å¸¸æ¶ˆæ¯ï¼šdivision by zero
# å¼‚å¸¸å‚æ•°ï¼š('division by zero',)
```

---

## 7. ğŸ”„ å¼‚å¸¸å¤„ç†æµç¨‹


### 7.1 å®Œæ•´çš„å¼‚å¸¸å¤„ç†è¯­æ³•


**ğŸ”¸ try-except-else-finally å®Œæ•´ç»“æ„**

```python
try:
    # å¯èƒ½å‡ºç°å¼‚å¸¸çš„ä»£ç 
    risky_code()
except SomeException:
    # å¤„ç†å¼‚å¸¸
    handle_exception()
else:
    # æ²¡æœ‰å¼‚å¸¸æ—¶æ‰§è¡Œ
    success_code()
finally:
    # æ— è®ºå¦‚ä½•éƒ½ä¼šæ‰§è¡Œ
    cleanup_code()
```

### 7.2 å„éƒ¨åˆ†çš„ä½œç”¨


**ğŸ“‹ è¯­æ³•ç»„ä»¶è¯´æ˜**

| ç»„ä»¶ | æ‰§è¡Œæ¡ä»¶ | ä½œç”¨ |
|------|---------|------|
| `try` | æ€»æ˜¯æ‰§è¡Œ | æ”¾ç½®å¯èƒ½å‡ºé”™çš„ä»£ç  |
| `except` | æœ‰å¼‚å¸¸æ—¶æ‰§è¡Œ | å¤„ç†ç‰¹å®šå¼‚å¸¸ |
| `else` | æ— å¼‚å¸¸æ—¶æ‰§è¡Œ | å¤„ç†æˆåŠŸæƒ…å†µ |
| `finally` | æ€»æ˜¯æ‰§è¡Œ | æ¸…ç†èµ„æºï¼Œæ”¶å°¾å·¥ä½œ |

### 7.3 æ‰§è¡Œæµç¨‹å›¾


```
ç¨‹åºå¼€å§‹
    â†“
æ‰§è¡Œ try å—
    â†“
æœ‰å¼‚å¸¸å‘ç”Ÿå—ï¼Ÿ
    â†“           â†“
   æ˜¯          å¦
    â†“           â†“
æ‰§è¡Œ except   æ‰§è¡Œ else
    â†“           â†“
    â†“â†â†â†â†â†â†â†â†â†â†
    â†“
æ‰§è¡Œ finally
    â†“
ç¨‹åºç»§ç»­
```

### 7.4 å®é™…åº”ç”¨ç¤ºä¾‹


**ğŸ’» ç¤ºä¾‹ï¼šæ–‡ä»¶å¤„ç†çš„å®Œæ•´æµç¨‹**

```python
def process_data_file(filename):
    file = None
    try:
        print(f"ğŸ”„ å¼€å§‹å¤„ç†æ–‡ä»¶ï¼š{filename}")
        file = open(filename, 'r', encoding='utf-8')
        
        data = file.read()
        if not data:
            raise ValueError("æ–‡ä»¶ä¸ºç©º")
            
        # å¤„ç†æ•°æ®
        lines = data.split('\n')
        result = len(lines)
        
    except FileNotFoundError:
        print(f"âŒ æ–‡ä»¶ä¸å­˜åœ¨ï¼š{filename}")
        return None
        
    except ValueError as e:
        print(f"âŒ æ•°æ®é”™è¯¯ï¼š{e}")
        return None
        
    else:
        print(f"âœ… æ–‡ä»¶å¤„ç†æˆåŠŸï¼Œå…±{result}è¡Œ")
        return result
        
    finally:
        if file and not file.closed:
            file.close()
            print("ğŸ”’ æ–‡ä»¶å·²å…³é—­")

# ä½¿ç”¨ç¤ºä¾‹
result = process_data_file("data.txt")
```

**ğŸ’» ç¤ºä¾‹ï¼šç½‘ç»œè¯·æ±‚å¤„ç†**

```python
def fetch_data_safely(url):
    connection = None
    try:
        print(f"ğŸŒ æ­£åœ¨è¿æ¥ï¼š{url}")
        # æ¨¡æ‹Ÿç½‘ç»œè¿æ¥
        import time
        time.sleep(1)
        
        if "invalid" in url:
            raise ConnectionError("æ— æ•ˆçš„URL")
            
        data = f"æ¥è‡ª {url} çš„æ•°æ®"
        
    except ConnectionError as e:
        print(f"âŒ è¿æ¥å¤±è´¥ï¼š{e}")
        return None
        
    except Exception as e:
        print(f"âŒ æœªçŸ¥é”™è¯¯ï¼š{e}")
        return None
        
    else:
        print(f"âœ… æ•°æ®è·å–æˆåŠŸ")
        return data
        
    finally:
        print("ğŸ”„ æ¸…ç†è¿æ¥èµ„æº")
        # æ¸…ç†å·¥ä½œ

# ä½¿ç”¨ç¤ºä¾‹
data1 = fetch_data_safely("https://api.example.com")
data2 = fetch_data_safely("https://invalid.example.com")
```

---

## 8. ğŸŒŸ å¼‚å¸¸å¤„ç†æœ€ä½³å®è·µ


### 8.1 åŸºæœ¬åŸåˆ™


**ğŸ”¸ æ ¸å¿ƒåŸåˆ™**

| åŸåˆ™ | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| **å…·ä½“æ•è·** | æ•è·å…·ä½“çš„å¼‚å¸¸ç±»å‹ | `except ValueError:` è€Œä¸æ˜¯ `except:` |
| **é€‚åº¦å¤„ç†** | åªå¤„ç†ä½ èƒ½å¤„ç†çš„å¼‚å¸¸ | ä¸è¦æ•è·æ‰€æœ‰å¼‚å¸¸ç„¶åå¿½ç•¥ |
| **ä¿¡æ¯æ˜ç¡®** | æä¾›æ¸…æ™°çš„é”™è¯¯ä¿¡æ¯ | å‘Šè¯‰ç”¨æˆ·å‘ç”Ÿäº†ä»€ä¹ˆå’Œå¦‚ä½•è§£å†³ |
| **èµ„æºæ¸…ç†** | ç¡®ä¿èµ„æºå¾—åˆ°é‡Šæ”¾ | ä½¿ç”¨finallyæˆ–withè¯­å¥ |

### 8.2 å¥½çš„å®è·µç¤ºä¾‹


**âœ… æ¨èåšæ³•**

```python
def good_practice_example():
    """å±•ç¤ºå¼‚å¸¸å¤„ç†çš„å¥½åšæ³•"""
    
    # 1. å…·ä½“çš„å¼‚å¸¸æ•è·
    try:
        user_input = input("è¯·è¾“å…¥æ•°å­—ï¼š")
        number = int(user_input)
        result = 100 / number
        
    except ValueError:
        print("âŒ è¾“å…¥é”™è¯¯ï¼šè¯·è¾“å…¥æœ‰æ•ˆçš„æ•°å­—")
        return None
    except ZeroDivisionError:
        print("âŒ è®¡ç®—é”™è¯¯ï¼šé™¤æ•°ä¸èƒ½ä¸ºé›¶")
        return None
    
    # 2. æˆåŠŸæ—¶çš„å¤„ç†
    else:
        print(f"âœ… è®¡ç®—æˆåŠŸï¼šç»“æœæ˜¯ {result}")
        return result
    
    # 3. æ¸…ç†å·¥ä½œ
    finally:
        print("ğŸ”„ è®¡ç®—ç»“æŸ")

# 2. ä½¿ç”¨withè¯­å¥è‡ªåŠ¨ç®¡ç†èµ„æº
def read_file_properly(filename):
    try:
        with open(filename, 'r', encoding='utf-8') as file:
            return file.read()
    except FileNotFoundError:
        print(f"âŒ æ–‡ä»¶ä¸å­˜åœ¨ï¼š{filename}")
        return ""
    except UnicodeDecodeError:
        print(f"âŒ æ–‡ä»¶ç¼–ç é”™è¯¯ï¼Œå°è¯•å…¶ä»–ç¼–ç ")
        try:
            with open(filename, 'r', encoding='gbk') as file:
                return file.read()
        except Exception:
            print("âŒ æ— æ³•è¯»å–æ–‡ä»¶")
            return ""
```

### 8.3 é¿å…çš„é”™è¯¯åšæ³•


**âŒ ä¸æ¨èçš„åšæ³•**

```python
# é”™è¯¯åšæ³•1ï¼šæ•è·æ‰€æœ‰å¼‚å¸¸ä½†ä¸å¤„ç†
def bad_practice_1():
    try:
        risky_operation()
    except:
        pass  # é™é»˜å¿½ç•¥æ‰€æœ‰é”™è¯¯ - å¾ˆå±é™©ï¼

# é”™è¯¯åšæ³•2ï¼šå¼‚å¸¸ä¿¡æ¯ä¸æ˜ç¡®
def bad_practice_2():
    try:
        process_data()
    except Exception:
        print("å‡ºé”™äº†")  # ç”¨æˆ·ä¸çŸ¥é“å‡ºäº†ä»€ä¹ˆé”™

# é”™è¯¯åšæ³•3ï¼šå¼‚å¸¸æ•è·èŒƒå›´å¤ªå¤§
def bad_practice_3():
    try:
        data = get_data()
        result = process_data(data)
        save_result(result)
        send_email(result)
    except Exception:
        print("æŸä¸ªåœ°æ–¹å‡ºé”™äº†")  # æ— æ³•å®šä½å…·ä½“é—®é¢˜
```

### 8.4 å®ç”¨çš„å¼‚å¸¸å¤„ç†æ¨¡å¼


**ğŸ”§ æ¨¡å¼1ï¼šé‡è¯•æœºåˆ¶**

```python
def retry_operation(max_attempts=3):
    """å¸¦é‡è¯•çš„æ“ä½œ"""
    for attempt in range(max_attempts):
        try:
            # å¯èƒ½å¤±è´¥çš„æ“ä½œ
            result = unstable_operation()
            return result
            
        except ConnectionError as e:
            if attempt < max_attempts - 1:
                print(f"âš ï¸ ç¬¬{attempt + 1}æ¬¡å°è¯•å¤±è´¥ï¼Œæ­£åœ¨é‡è¯•...")
                import time
                time.sleep(1)  # ç­‰å¾…1ç§’åé‡è¯•
            else:
                print(f"âŒ é‡è¯•{max_attempts}æ¬¡åä»ç„¶å¤±è´¥ï¼š{e}")
                return None
```

**ğŸ”§ æ¨¡å¼2ï¼šä¼˜é›…é™çº§**

```python
def get_user_avatar(user_id):
    """è·å–ç”¨æˆ·å¤´åƒï¼Œå¤±è´¥æ—¶è¿”å›é»˜è®¤å¤´åƒ"""
    try:
        # å°è¯•ä»ç½‘ç»œè·å–
        avatar_url = f"https://api.example.com/avatar/{user_id}"
        avatar_data = download_image(avatar_url)
        return avatar_data
        
    except (ConnectionError, TimeoutError):
        print("ğŸŒ ç½‘ç»œè¿æ¥å¤±è´¥ï¼Œä½¿ç”¨æœ¬åœ°é»˜è®¤å¤´åƒ")
        return load_default_avatar()
        
    except Exception as e:
        print(f"âš ï¸ è·å–å¤´åƒå¤±è´¥ï¼š{e}ï¼Œä½¿ç”¨é»˜è®¤å¤´åƒ")
        return load_default_avatar()
```

**ğŸ”§ æ¨¡å¼3ï¼šé”™è¯¯æ”¶é›†å’ŒæŠ¥å‘Š**

```python
class ErrorCollector:
    """é”™è¯¯æ”¶é›†å™¨"""
    def __init__(self):
        self.errors = []
    
    def safe_execute(self, func, *args, **kwargs):
        """å®‰å…¨æ‰§è¡Œå‡½æ•°å¹¶æ”¶é›†é”™è¯¯"""
        try:
            return func(*args, **kwargs)
        except Exception as e:
            error_info = {
                'function': func.__name__,
                'error_type': type(e).__name__,
                'error_message': str(e),
                'args': args,
                'kwargs': kwargs
            }
            self.errors.append(error_info)
            return None
    
    def report_errors(self):
        """æŠ¥å‘Šæ‰€æœ‰æ”¶é›†åˆ°çš„é”™è¯¯"""
        if not self.errors:
            print("âœ… æ²¡æœ‰å‘ç°é”™è¯¯")
        else:
            print(f"âŒ å‘ç° {len(self.errors)} ä¸ªé”™è¯¯ï¼š")
            for i, error in enumerate(self.errors, 1):
                print(f"{i}. {error['function']}(): {error['error_message']}")

# ä½¿ç”¨ç¤ºä¾‹
collector = ErrorCollector()
collector.safe_execute(risky_function_1, param1)
collector.safe_execute(risky_function_2, param2)
collector.report_errors()
```

---

## 9. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 9.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


**ğŸ”¸ å¼‚å¸¸å¤„ç†åŸºç¡€**
- **å¼‚å¸¸**ï¼šç¨‹åºè¿è¡Œæ—¶é‡åˆ°çš„æ„å¤–æƒ…å†µ
- **try-except**ï¼šPythonå¤„ç†å¼‚å¸¸çš„åŸºæœ¬è¯­æ³•
- **å¼‚å¸¸ç±»å‹**ï¼šä¸åŒçš„é”™è¯¯å¯¹åº”ä¸åŒçš„å¼‚å¸¸ç±»
- **å¼‚å¸¸ä¿¡æ¯**ï¼šé€šè¿‡å¼‚å¸¸å¯¹è±¡è·å–è¯¦ç»†é”™è¯¯ä¿¡æ¯

### 9.2 å…³é”®è¯­æ³•è¦ç‚¹


```python
# åŸºæœ¬ç»“æ„
try:
    # å¯èƒ½å‡ºé”™çš„ä»£ç 
    pass
except SpecificException as e:
    # å¤„ç†ç‰¹å®šå¼‚å¸¸
    pass
except (Exception1, Exception2):
    # å¤„ç†å¤šç§å¼‚å¸¸
    pass
else:
    # æ²¡æœ‰å¼‚å¸¸æ—¶æ‰§è¡Œ
    pass
finally:
    # æ€»æ˜¯æ‰§è¡Œçš„æ¸…ç†ä»£ç 
    pass
```

### 9.3 æœ€ä½³å®è·µæ¸…å•


**âœ… åº”è¯¥è¿™æ ·åš**
- ğŸ¯ æ•è·å…·ä½“çš„å¼‚å¸¸ç±»å‹
- ğŸ“ æä¾›æ¸…æ™°çš„é”™è¯¯ä¿¡æ¯
- ğŸ”„ é€‚å½“æ—¶ä½¿ç”¨é‡è¯•æœºåˆ¶
- ğŸ§¹ ç¡®ä¿èµ„æºå¾—åˆ°æ¸…ç†
- ğŸ“Š è®°å½•é‡è¦çš„é”™è¯¯ä¿¡æ¯

**âŒ é¿å…è¿™æ ·åš**
- ğŸš« ä½¿ç”¨ç©ºçš„except:æ•è·æ‰€æœ‰å¼‚å¸¸
- ğŸš« æ•è·å¼‚å¸¸åä»€ä¹ˆéƒ½ä¸åš
- ğŸš« å¼‚å¸¸å¤„ç†èŒƒå›´è¿‡å¤§
- ğŸš« é”™è¯¯ä¿¡æ¯è¿‡äºæ¨¡ç³Š
- ğŸš« å¿½ç•¥å¼‚å¸¸çš„é¡ºåºè§„åˆ™

### 9.4 å®é™…åº”ç”¨æŒ‡å¯¼


**ğŸ¯ ä½•æ—¶ä½¿ç”¨å¼‚å¸¸å¤„ç†**
- ğŸ”„ æ–‡ä»¶æ“ä½œï¼ˆè¯»å†™ã€æƒé™é—®é¢˜ï¼‰
- ğŸŒ ç½‘ç»œè¯·æ±‚ï¼ˆè¿æ¥å¤±è´¥ã€è¶…æ—¶ï¼‰
- ğŸ”¢ ç”¨æˆ·è¾“å…¥éªŒè¯ï¼ˆæ ¼å¼é”™è¯¯ã€ç±»å‹é”™è¯¯ï¼‰
- ğŸ“Š æ•°æ®å¤„ç†ï¼ˆè§£æé”™è¯¯ã€æ ¼å¼é—®é¢˜ï¼‰
- ğŸ—„ï¸ æ•°æ®åº“æ“ä½œï¼ˆè¿æ¥å¤±è´¥ã€æŸ¥è¯¢é”™è¯¯ï¼‰

**ğŸ’¡ è®°å¿†å£è¯€**
```
å¼‚å¸¸å¤„ç†è¦è®°ç‰¢ï¼Œ
try-exceptæ˜¯åŸºç¡€ï¼Œ
å…·ä½“å¼‚å¸¸å…·ä½“æŠ“ï¼Œ
é¡ºåºè§„åˆ™ä¸èƒ½å¿˜ï¼Œ
é”™è¯¯ä¿¡æ¯è¦æ˜ç¡®ï¼Œ
èµ„æºæ¸…ç†ç”¨finallyï¼
```

**ğŸŒŸ æ ¸å¿ƒç†å¿µ**
å¼‚å¸¸å¤„ç†ä¸æ˜¯ä¸ºäº†éšè—é”™è¯¯ï¼Œè€Œæ˜¯ä¸ºäº†ï¼š
- ğŸ›¡ï¸ **ä¿æŠ¤ç¨‹åº**ï¼šè®©ç¨‹åºæ›´ç¨³å®š
- ğŸ‘¥ **ç”¨æˆ·å‹å¥½**ï¼šæä¾›æ›´å¥½çš„ç”¨æˆ·ä½“éªŒ  
- ğŸ”§ **ä¾¿äºè°ƒè¯•**ï¼šå¸®åŠ©å¿«é€Ÿå®šä½å’Œè§£å†³é—®é¢˜
- ğŸ’ª **æé«˜è´¨é‡**ï¼šè®©ä»£ç æ›´åŠ å¥å£®å¯é 