---
title: 2ã€æ¨¡å¼åŒ¹é…
---
## ğŸ“š ç›®å½•

1. [æ¨¡å¼åŒ¹é…åŸºç¡€æ¦‚å¿µ](#1-æ¨¡å¼åŒ¹é…åŸºç¡€æ¦‚å¿µ)
2. [match-caseè¯­å¥è¯¦è§£](#2-match-caseè¯­å¥è¯¦è§£)
3. [å­—é¢é‡æ¨¡å¼åŒ¹é…](#3-å­—é¢é‡æ¨¡å¼åŒ¹é…)
4. [å˜é‡æ¨¡å¼åŒ¹é…](#4-å˜é‡æ¨¡å¼åŒ¹é…)
5. [åºåˆ—æ¨¡å¼åŒ¹é…](#5-åºåˆ—æ¨¡å¼åŒ¹é…)
6. [æ˜ å°„æ¨¡å¼åŒ¹é…](#6-æ˜ å°„æ¨¡å¼åŒ¹é…)
7. [ç±»æ¨¡å¼åŒ¹é…](#7-ç±»æ¨¡å¼åŒ¹é…)
8. [å®ˆå«æ¡ä»¶è¯¦è§£](#8-å®ˆå«æ¡ä»¶è¯¦è§£)
9. [é€šé…ç¬¦æ¨¡å¼åº”ç”¨](#9-é€šé…ç¬¦æ¨¡å¼åº”ç”¨)
10. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#10-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸŒŸ æ¨¡å¼åŒ¹é…åŸºç¡€æ¦‚å¿µ


### 1.1 ä»€ä¹ˆæ˜¯æ¨¡å¼åŒ¹é…


> ğŸ’¡ **é€šä¿—ç†è§£**ï¼šæ¨¡å¼åŒ¹é…å°±åƒæ˜¯ç»™æ•°æ®"æ‰¾å¯¹è±¡"ï¼Œçœ‹çœ‹å“ªä¸ªæ¨¡å¼èƒ½å’Œä½ çš„æ•°æ®å®Œç¾åŒ¹é…ï¼

**ç®€å•æ¯”å–»**ï¼š
```
å°±åƒä½ å»å•†åº—ä¹°è¡£æœï¼š
â”œâ”€ ä½ çš„èº«ææ•°æ®ï¼šèº«é«˜175cmï¼Œä½“é‡70kg
â”œâ”€ åº—é‡Œçš„è¡£æœæ¨¡å¼ï¼šSç ã€Mç ã€Lç 
â””â”€ åŒ¹é…ç»“æœï¼šMç æœ€é€‚åˆä½ ï¼

æ¨¡å¼åŒ¹é…ä¹Ÿæ˜¯è¿™æ ·ï¼š
â”œâ”€ ä½ çš„æ•°æ®ï¼šæŸä¸ªå€¼æˆ–å¯¹è±¡
â”œâ”€ å®šä¹‰çš„æ¨¡å¼ï¼šå„ç§å¯èƒ½çš„æƒ…å†µ
â””â”€ åŒ¹é…ç»“æœï¼šæ‰¾åˆ°ç¬¦åˆçš„æ¨¡å¼å¹¶æ‰§è¡Œå¯¹åº”ä»£ç 
```

### 1.2 ä¸ºä»€ä¹ˆéœ€è¦æ¨¡å¼åŒ¹é…


**ä¼ ç»Ÿæ–¹å¼ vs æ¨¡å¼åŒ¹é…**ï¼š
```python
# ä¼ ç»Ÿçš„ if-elif é“¾ï¼ˆç¹çä¸”å®¹æ˜“å‡ºé”™ï¼‰
def handle_data_old(data):
    if isinstance(data, str) and data == "hello":
        return "greeting"
    elif isinstance(data, list) and len(data) == 2:
        return f"pair: {data[0]}, {data[1]}"
    elif isinstance(data, dict) and "name" in data:
        return f"person: {data['name']}"
    else:
        return "unknown"

# æ¨¡å¼åŒ¹é…æ–¹å¼ï¼ˆæ¸…æ™°ä¸”ç›´è§‚ï¼‰
def handle_data_new(data):
    match data:
        case "hello":
            return "greeting"
        case [a, b]:
            return f"pair: {a}, {b}"
        case {"name": name}:
            return f"person: {name}"
        case _:
            return "unknown"
```

> ğŸ¯ **æ ¸å¿ƒä¼˜åŠ¿**ï¼šä»£ç æ›´ç®€æ´ã€æ›´ç›´è§‚ã€æ›´ä¸å®¹æ˜“å‡ºé”™ï¼

### 1.3 Python 3.10+ çš„æ–°ç‰¹æ€§


**ç‰ˆæœ¬è¦æ±‚**ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ”” é‡è¦æé†’                    â”‚
â”‚ æ¨¡å¼åŒ¹é…æ˜¯Python 3.10+çš„æ–°ç‰¹æ€§ â”‚
â”‚ å¦‚æœä½ çš„ç‰ˆæœ¬è¾ƒä½ï¼Œéœ€è¦å‡çº§ï¼    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**è¯­æ³•ç»“æ„é¢„è§ˆ**ï¼š
```
match è¡¨è¾¾å¼:
    case æ¨¡å¼1:
        å¤„ç†ä»£ç 1
    case æ¨¡å¼2:
        å¤„ç†ä»£ç 2
    case _:  # é»˜è®¤æƒ…å†µ
        é»˜è®¤å¤„ç†ä»£ç 
```

---

## 2. âš¡ match-caseè¯­å¥è¯¦è§£


### 2.1 åŸºæœ¬è¯­æ³•ç»“æ„


**å®Œæ•´è¯­æ³•æ ¼å¼**ï¼š
```python
match ç›®æ ‡è¡¨è¾¾å¼:
    case æ¨¡å¼1 [if æ¡ä»¶1]:
        æ‰§è¡Œä»£ç 1
    case æ¨¡å¼2 [if æ¡ä»¶2]:
        æ‰§è¡Œä»£ç 2
    case _:  # å¯é€‰çš„é»˜è®¤case
        é»˜è®¤æ‰§è¡Œä»£ç 
```

> ğŸ“Œ **è¯­æ³•è¦ç‚¹**ï¼š
> - `match` åé¢è·Ÿè¦åŒ¹é…çš„è¡¨è¾¾å¼
> - æ¯ä¸ª `case` å®šä¹‰ä¸€ç§å¯èƒ½çš„æ¨¡å¼
> - `if` æ¡ä»¶æ˜¯å¯é€‰çš„å®ˆå«æ¡ä»¶
> - `_` æ˜¯é€šé…ç¬¦ï¼ŒåŒ¹é…ä»»ä½•æƒ…å†µ

### 2.2 ç®€å•å…¥é—¨ç¤ºä¾‹


**æœ€åŸºç¡€çš„ä¾‹å­**ï¼š
```python
def describe_animal(animal):
    match animal:
        case "cat":
            return "å–µå–µå«çš„å°å¯çˆ±"
        case "dog":
            return "æ±ªæ±ªå«çš„å¥½æœ‹å‹"
        case "bird":
            return "å½å½å–³å–³çš„å°ç²¾çµ"
        case _:
            return "æˆ‘ä¸è®¤è¯†è¿™ä¸ªåŠ¨ç‰©"

# æµ‹è¯•ä½¿ç”¨
print(describe_animal("cat"))    # è¾“å‡ºï¼šå–µå–µå«çš„å°å¯çˆ±
print(describe_animal("fish"))   # è¾“å‡ºï¼šæˆ‘ä¸è®¤è¯†è¿™ä¸ªåŠ¨ç‰©
```

**å¤„ç†æ•°å­—çš„ä¾‹å­**ï¼š
```python
def check_score(score):
    match score:
        case 100:
            return "å®Œç¾ï¼æ»¡åˆ†ï¼"
        case 90 | 91 | 92 | 93 | 94 | 95 | 96 | 97 | 98 | 99:
            return "ä¼˜ç§€ï¼"
        case score if 80 <= score < 90:
            return "è‰¯å¥½ï¼"
        case score if 60 <= score < 80:
            return "åŠæ ¼ï¼"
        case _:
            return "éœ€è¦åŠªåŠ›ï¼"

print(check_score(95))   # è¾“å‡ºï¼šä¼˜ç§€ï¼
print(check_score(75))   # è¾“å‡ºï¼šè‰¯å¥½ï¼
```

### 2.3 åŒ¹é…çš„æ‰§è¡Œæµç¨‹


**æ‰§è¡Œè¿‡ç¨‹å›¾ç¤º**ï¼š
```
æ•°æ®è¿›å…¥ match è¯­å¥
        â†“
    æ£€æŸ¥ç¬¬ä¸€ä¸ª case
        â†“
    æ˜¯å¦åŒ¹é…ï¼Ÿ
    â”œâ”€ æ˜¯ â†’ æ‰§è¡Œå¯¹åº”ä»£ç  â†’ ç»“æŸ
    â””â”€ å¦ â†’ æ£€æŸ¥ä¸‹ä¸€ä¸ª case
        â†“
    ç»§ç»­æ£€æŸ¥...
        â†“
    å¦‚æœéƒ½ä¸åŒ¹é…
        â†“
    æ‰§è¡Œ _ é€šé…ç¬¦caseï¼ˆå¦‚æœæœ‰ï¼‰
        â†“
    ç»“æŸ
```

> âš ï¸ **é‡è¦ç‰¹ç‚¹**ï¼šä¸€æ—¦åŒ¹é…æˆåŠŸï¼Œå°±ä¼šæ‰§è¡Œå¯¹åº”ä»£ç å¹¶é€€å‡ºï¼Œä¸ä¼šç»§ç»­æ£€æŸ¥åé¢çš„caseï¼

---

## 3. ğŸ”¤ å­—é¢é‡æ¨¡å¼åŒ¹é…


### 3.1 ä»€ä¹ˆæ˜¯å­—é¢é‡æ¨¡å¼


> ğŸ’¡ **é€šä¿—è§£é‡Š**ï¼šå­—é¢é‡å°±æ˜¯ä½ ç›´æ¥å†™å‡ºæ¥çš„å…·ä½“å€¼ï¼Œæ¯”å¦‚æ•°å­— `42`ã€å­—ç¬¦ä¸² `"hello"`ã€å¸ƒå°”å€¼ `True` ç­‰ã€‚

**åŸºæœ¬å­—é¢é‡ç±»å‹**ï¼š
```python
def match_literals(value):
    match value:
        # æ•°å­—å­—é¢é‡
        case 42:
            return "ç”Ÿå‘½ã€å®‡å®™ä»¥åŠä¸€åˆ‡çš„ç­”æ¡ˆï¼"
        
        # å­—ç¬¦ä¸²å­—é¢é‡
        case "hello":
            return "ä½ å¥½ï¼"
        
        # å¸ƒå°”å€¼å­—é¢é‡
        case True:
            return "è¿™æ˜¯çœŸçš„"
        case False:
            return "è¿™æ˜¯å‡çš„"
        
        # None å­—é¢é‡
        case None:
            return "è¿™æ˜¯ç©ºå€¼"
        
        case _:
            return "å…¶ä»–å€¼"
```

### 3.2 å¤šå€¼åŒ¹é…ï¼ˆORæ¨¡å¼ï¼‰


**ä½¿ç”¨ `|` ç¬¦å·åŒ¹é…å¤šä¸ªå€¼**ï¼š
```python
def check_weekday(day):
    match day:
        case "Monday" | "Tuesday" | "Wednesday" | "Thursday" | "Friday":
            return "å·¥ä½œæ—¥ï¼Œè¦åŠªåŠ›å·¥ä½œï¼"
        case "Saturday" | "Sunday":
            return "å‘¨æœ«ï¼Œå¯ä»¥ä¼‘æ¯ï¼"
        case _:
            return "è¿™ä¸æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„æ˜ŸæœŸ"

# æ›´ç®€æ´çš„å†™æ³•
def check_grade(letter):
    match letter:
        case "A" | "B":
            return "ä¼˜ç§€æˆç»©ï¼"
        case "C" | "D":
            return "è¿˜ä¸é”™ï¼"
        case "F":
            return "éœ€è¦é‡ä¿®ï¼"
        case _:
            return "æ— æ•ˆæˆç»©"
```

### 3.3 å¸¸é‡åŒ¹é…æŠ€å·§


**å®šä¹‰å¸¸é‡å¹¶åŒ¹é…**ï¼š
```python
# å®šä¹‰å¸¸é‡
HTTP_OK = 200
HTTP_NOT_FOUND = 404
HTTP_SERVER_ERROR = 500

def handle_http_status(status_code):
    match status_code:
        case HTTP_OK:
            return "è¯·æ±‚æˆåŠŸï¼"
        case HTTP_NOT_FOUND:
            return "é¡µé¢æœªæ‰¾åˆ°ï¼"
        case HTTP_SERVER_ERROR:
            return "æœåŠ¡å™¨é”™è¯¯ï¼"
        case _:
            return f"æœªçŸ¥çŠ¶æ€ç ï¼š{status_code}"

print(handle_http_status(200))  # è¾“å‡ºï¼šè¯·æ±‚æˆåŠŸï¼
print(handle_http_status(404))  # è¾“å‡ºï¼šé¡µé¢æœªæ‰¾åˆ°ï¼
```

---

## 4. ğŸ“¦ å˜é‡æ¨¡å¼åŒ¹é…


### 4.1 ä»€ä¹ˆæ˜¯å˜é‡æ¨¡å¼


> ğŸ’¡ **é€šä¿—ç†è§£**ï¼šå˜é‡æ¨¡å¼å°±åƒæ˜¯ä¸€ä¸ª"å®¹å™¨"ï¼Œå®ƒå¯ä»¥æ¥ä½ä»»ä½•å€¼ï¼Œå¹¶ç»™è¿™ä¸ªå€¼èµ·ä¸ªåå­—ï¼Œæ–¹ä¾¿åç»­ä½¿ç”¨ã€‚

**åŸºæœ¬å˜é‡æ•è·**ï¼š
```python
def process_value(data):
    match data:
        case x:  # xæ˜¯å˜é‡ï¼Œä¼šæ•è·ä»»ä½•å€¼
            return f"æ¥æ”¶åˆ°çš„å€¼æ˜¯ï¼š{x}ï¼Œç±»å‹æ˜¯ï¼š{type(x).__name__}"

# æµ‹è¯•
print(process_value(42))        # è¾“å‡ºï¼šæ¥æ”¶åˆ°çš„å€¼æ˜¯ï¼š42ï¼Œç±»å‹æ˜¯ï¼šint
print(process_value("hello"))   # è¾“å‡ºï¼šæ¥æ”¶åˆ°çš„å€¼æ˜¯ï¼šhelloï¼Œç±»å‹æ˜¯ï¼šstr
```

### 4.2 å˜é‡ä¸å­—é¢é‡ç»„åˆ


**æ··åˆä½¿ç”¨çš„æ™ºèƒ½åŒ¹é…**ï¼š
```python
def analyze_user_action(action):
    match action:
        case ("click", element):  # ç¬¬ä¸€ä¸ªå¿…é¡»æ˜¯"click"ï¼Œç¬¬äºŒä¸ªæ•è·åˆ°elementå˜é‡
            return f"ç”¨æˆ·ç‚¹å‡»äº†ï¼š{element}"
        
        case ("type", text):      # ç¬¬ä¸€ä¸ªå¿…é¡»æ˜¯"type"ï¼Œç¬¬äºŒä¸ªæ•è·åˆ°textå˜é‡
            return f"ç”¨æˆ·è¾“å…¥äº†ï¼š{text}"
        
        case ("scroll", direction, distance):  # ä¸‰ä¸ªå‚æ•°çš„åŒ¹é…
            return f"ç”¨æˆ·å‘{direction}æ»šåŠ¨äº†{distance}åƒç´ "
        
        case unknown_action:      # æ•è·å…¶ä»–ä»»ä½•æƒ…å†µ
            return f"æœªçŸ¥æ“ä½œï¼š{unknown_action}"

# æµ‹è¯•ä½¿ç”¨
print(analyze_user_action(("click", "æŒ‰é’®")))              # ç”¨æˆ·ç‚¹å‡»äº†ï¼šæŒ‰é’®
print(analyze_user_action(("type", "hello world")))        # ç”¨æˆ·è¾“å…¥äº†ï¼šhello world
print(analyze_user_action(("scroll", "down", 100)))        # ç”¨æˆ·å‘downæ»šåŠ¨äº†100åƒç´ 
```

### 4.3 ç±»å‹çº¦æŸçš„å˜é‡åŒ¹é…


**ç»“åˆç±»å‹æ£€æŸ¥çš„å˜é‡æ•è·**ï¼š
```python
def smart_calculator(operation):
    match operation:
        case ("add", int(a), int(b)):  # åªåŒ¹é…æ•´æ•°åŠ æ³•
            return f"{a} + {b} = {a + b}"
        
        case ("add", float(a), float(b)):  # åªåŒ¹é…æµ®ç‚¹æ•°åŠ æ³•
            return f"{a} + {b} = {a + b}"
        
        case ("multiply", num) if isinstance(num, (int, float)):  # å¹³æ–¹è¿ç®—
            return f"{num} çš„å¹³æ–¹æ˜¯ {num * num}"
        
        case invalid:
            return f"æ— æ•ˆçš„æ“ä½œï¼š{invalid}"

# æµ‹è¯•
print(smart_calculator(("add", 5, 3)))           # 5 + 3 = 8
print(smart_calculator(("add", 2.5, 1.5)))       # 2.5 + 1.5 = 4.0
print(smart_calculator(("multiply", 4)))          # 4 çš„å¹³æ–¹æ˜¯ 16
```

---

## 5. ğŸ“‹ åºåˆ—æ¨¡å¼åŒ¹é…


### 5.1 ä»€ä¹ˆæ˜¯åºåˆ—æ¨¡å¼


> ğŸ’¡ **é€šä¿—ç†è§£**ï¼šåºåˆ—å°±æ˜¯æœ‰é¡ºåºçš„æ•°æ®é›†åˆï¼Œæ¯”å¦‚åˆ—è¡¨ `[1, 2, 3]`ã€å…ƒç»„ `(a, b, c)` ç­‰ã€‚åºåˆ—æ¨¡å¼å°±æ˜¯åŒ¹é…è¿™äº›æœ‰åºæ•°æ®çš„ç»“æ„ã€‚

**åºåˆ—ç±»å‹å¯¹ç…§è¡¨**ï¼š
```
åºåˆ—ç±»å‹        ç¤ºä¾‹                     ç‰¹ç‚¹
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
åˆ—è¡¨(list)      [1, 2, 3]               å¯å˜ï¼Œç”¨æ–¹æ‹¬å·
å…ƒç»„(tuple)     (1, 2, 3)               ä¸å¯å˜ï¼Œç”¨åœ†æ‹¬å·
å­—ç¬¦ä¸²(str)     "abc"                   ä¸å¯å˜å­—ç¬¦åºåˆ—
èŒƒå›´(range)     range(1, 4)             æ•°å­—åºåˆ—
```

### 5.2 å›ºå®šé•¿åº¦åºåˆ—åŒ¹é…


**ç²¾ç¡®åŒ¹é…åºåˆ—é•¿åº¦å’Œå†…å®¹**ï¼š
```python
def analyze_coordinates(point):
    match point:
        case [x, y]:  # äºŒç»´åæ ‡
            return f"2Dåæ ‡ï¼šx={x}, y={y}"
        
        case [x, y, z]:  # ä¸‰ç»´åæ ‡
            return f"3Dåæ ‡ï¼šx={x}, y={y}, z={z}"
        
        case [r, g, b, a]:  # RGBAé¢œè‰²å€¼
            return f"é¢œè‰²å€¼ï¼šçº¢={r}, ç»¿={g}, è“={b}, é€æ˜åº¦={a}"
        
        case [single]:  # åªæœ‰ä¸€ä¸ªå…ƒç´ 
            return f"å•ä¸ªå€¼ï¼š{single}"
        
        case []:  # ç©ºåˆ—è¡¨
            return "ç©ºåæ ‡"
        
        case _:
            return "ä¸æ”¯æŒçš„åæ ‡æ ¼å¼"

# æµ‹è¯•å„ç§æƒ…å†µ
print(analyze_coordinates([10, 20]))          # 2Dåæ ‡ï¼šx=10, y=20
print(analyze_coordinates([1, 2, 3]))         # 3Dåæ ‡ï¼šx=1, y=2, z=3
print(analyze_coordinates([255, 0, 0, 128]))  # é¢œè‰²å€¼ï¼šçº¢=255, ç»¿=0, è“=0, é€æ˜åº¦=128
print(analyze_coordinates([42]))              # å•ä¸ªå€¼ï¼š42
print(analyze_coordinates([]))                # ç©ºåæ ‡
```

### 5.3 ä¸å®šé•¿åº¦åºåˆ—åŒ¹é…


**ä½¿ç”¨ `*` ç¬¦å·åŒ¹é…å‰©ä½™å…ƒç´ **ï¼š
```python
def process_command(command_list):
    match command_list:
        case ["help"]:
            return "æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯"
        
        case ["echo", *words]:  # echoåé¢å¯ä»¥è·Ÿä»»æ„æ•°é‡çš„å•è¯
            return f"å›æ˜¾ï¼š{' '.join(words)}"
        
        case ["copy", source, target]:  # å¤åˆ¶æ–‡ä»¶ï¼ˆå›ºå®šä¸¤ä¸ªå‚æ•°ï¼‰
            return f"å¤åˆ¶ {source} åˆ° {target}"
        
        case ["delete", *files]:  # åˆ é™¤ä¸€ä¸ªæˆ–å¤šä¸ªæ–‡ä»¶
            return f"åˆ é™¤æ–‡ä»¶ï¼š{', '.join(files)}"
        
        case [first, *middle, last]:  # é¦–å°¾å›ºå®šï¼Œä¸­é—´ä»»æ„
            return f"é¦–å…ƒç´ ï¼š{first}ï¼Œæœ«å…ƒç´ ï¼š{last}ï¼Œä¸­é—´æœ‰{len(middle)}ä¸ªå…ƒç´ "
        
        case _:
            return "æœªçŸ¥å‘½ä»¤"

# æµ‹è¯•ä¸åŒé•¿åº¦çš„å‘½ä»¤
print(process_command(["help"]))                           # æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
print(process_command(["echo", "Hello", "World"]))         # å›æ˜¾ï¼šHello World
print(process_command(["copy", "file1.txt", "file2.txt"])) # å¤åˆ¶ file1.txt åˆ° file2.txt
print(process_command(["delete", "a.txt", "b.txt"]))       # åˆ é™¤æ–‡ä»¶ï¼ša.txt, b.txt
print(process_command([1, 2, 3, 4, 5]))                    # é¦–å…ƒç´ ï¼š1ï¼Œæœ«å…ƒç´ ï¼š5ï¼Œä¸­é—´æœ‰3ä¸ªå…ƒç´ 
```

### 5.4 åµŒå¥—åºåˆ—åŒ¹é…


**åŒ¹é…å¤æ‚çš„åµŒå¥—ç»“æ„**ï¼š
```python
def analyze_nested_data(data):
    match data:
        case [[x, y], [w, h]]:  # çŸ©å½¢ï¼šå·¦ä¸Šè§’å’Œå®½é«˜
            return f"çŸ©å½¢ï¼šä½ç½®({x}, {y})ï¼Œå°ºå¯¸{w}Ã—{h}"
        
        case [["name", name], ["age", age]]:  # é”®å€¼å¯¹åˆ—è¡¨
            return f"äººå‘˜ä¿¡æ¯ï¼š{name}ï¼Œ{age}å²"
        
        case [[a, b], [c, d]]:  # 2Ã—2çŸ©é˜µ
            return f"2Ã—2çŸ©é˜µï¼š\n{a} {b}\n{c} {d}"
        
        case [first_row, *other_rows]:  # è¡¨æ ¼æ•°æ®
            return f"è¡¨æ ¼ï¼šé¦–è¡Œ{len(first_row)}åˆ—ï¼Œå…±{len(other_rows)+1}è¡Œ"
        
        case _:
            return "æœªè¯†åˆ«çš„åµŒå¥—ç»“æ„"

# æµ‹è¯•åµŒå¥—åŒ¹é…
print(analyze_nested_data([[10, 20], [100, 50]]))           # çŸ©å½¢ï¼šä½ç½®(10, 20)ï¼Œå°ºå¯¸100Ã—50
print(analyze_nested_data([["name", "å°æ˜"], ["age", 18]]))  # äººå‘˜ä¿¡æ¯ï¼šå°æ˜ï¼Œ18å²
print(analyze_nested_data([[1, 2], [3, 4]]))                # 2Ã—2çŸ©é˜µï¼š1 2  3 4
```

---

## 6. ğŸ—ºï¸ æ˜ å°„æ¨¡å¼åŒ¹é…


### 6.1 ä»€ä¹ˆæ˜¯æ˜ å°„æ¨¡å¼


> ğŸ’¡ **é€šä¿—ç†è§£**ï¼šæ˜ å°„å°±åƒæ˜¯ä¸€æœ¬å­—å…¸ï¼Œæ¯ä¸ªè¯ï¼ˆé”®ï¼‰éƒ½æœ‰å¯¹åº”çš„è§£é‡Šï¼ˆå€¼ï¼‰ã€‚Pythonä¸­çš„å­—å…¸ `{}` å°±æ˜¯æœ€å¸¸è§çš„æ˜ å°„ç±»å‹ã€‚

**å­—å…¸ç»“æ„ç¤ºæ„**ï¼š
```
å­—å…¸å°±åƒä¸€ä¸ªå‚¨ç‰©æŸœï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æŸœå­å·  â”‚   å­˜æ”¾ç‰©å“   â”‚
â”‚ (é”®)    â”‚    (å€¼)     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ "name"  â”‚   "å°æ˜"    â”‚
â”‚ "age"   â”‚     18      â”‚
â”‚ "city"  â”‚   "åŒ—äº¬"    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6.2 åŸºç¡€å­—å…¸åŒ¹é…


**åŒ¹é…å­—å…¸çš„é”®å€¼å¯¹**ï¼š
```python
def process_user_info(user_data):
    match user_data:
        case {"name": name}:  # åªè¦æœ‰nameé”®å°±åŒ¹é…
            return f"ç”¨æˆ·åï¼š{name}"
        
        case {"name": name, "age": age}:  # å¿…é¡»åŒæ—¶æœ‰nameå’Œageé”®
            return f"ç”¨æˆ·ï¼š{name}ï¼Œå¹´é¾„ï¼š{age}"
        
        case {"email": email}:  # æœ‰é‚®ç®±ä¿¡æ¯
            return f"é‚®ç®±ï¼š{email}"
        
        case {}:  # ç©ºå­—å…¸
            return "ç©ºçš„ç”¨æˆ·ä¿¡æ¯"
        
        case _:
            return "æ— æ•ˆçš„ç”¨æˆ·æ•°æ®"

# æµ‹è¯•ä¸åŒçš„å­—å…¸
print(process_user_info({"name": "å°æ˜"}))                    # ç”¨æˆ·åï¼šå°æ˜
print(process_user_info({"name": "å°çº¢", "age": 20}))         # ç”¨æˆ·ï¼šå°çº¢ï¼Œå¹´é¾„ï¼š20
print(process_user_info({"email": "test@example.com"}))      # é‚®ç®±ï¼štest@example.com
print(process_user_info({}))                                 # ç©ºçš„ç”¨æˆ·ä¿¡æ¯
```

### 6.3 éƒ¨åˆ†é”®åŒ¹é…


**åªå…³å¿ƒéƒ¨åˆ†é”®ï¼Œå¿½ç•¥å…¶ä»–é”®**ï¼š
```python
def analyze_api_response(response):
    match response:
        case {"status": "success", "data": data}:  # æˆåŠŸå“åº”ï¼Œè·å–æ•°æ®
            return f"è¯·æ±‚æˆåŠŸï¼æ•°æ®ï¼š{data}"
        
        case {"status": "error", "message": msg}:  # é”™è¯¯å“åº”ï¼Œè·å–é”™è¯¯ä¿¡æ¯
            return f"è¯·æ±‚å¤±è´¥ï¼š{msg}"
        
        case {"status": "pending"}:  # è¯·æ±‚å¤„ç†ä¸­ï¼ˆå¯èƒ½è¿˜æœ‰å…¶ä»–é”®ï¼‰
            return "è¯·æ±‚å¤„ç†ä¸­ï¼Œè¯·ç¨å€™..."
        
        case {"token": token}:  # è®¤è¯ä¿¡æ¯ï¼ˆä¸ç®¡å…¶ä»–å†…å®¹ï¼‰
            return f"æ”¶åˆ°è®¤è¯ä»¤ç‰Œï¼š{token[:10]}..."  # åªæ˜¾ç¤ºå‰10ä¸ªå­—ç¬¦
        
        case _:
            return "æœªçŸ¥çš„å“åº”æ ¼å¼"

# æµ‹è¯•APIå“åº”
print(analyze_api_response({
    "status": "success", 
    "data": {"user_id": 123}, 
    "timestamp": "2024-01-01"
}))  # è¯·æ±‚æˆåŠŸï¼æ•°æ®ï¼š{'user_id': 123}

print(analyze_api_response({
    "status": "error", 
    "message": "ç”¨æˆ·ä¸å­˜åœ¨",
    "error_code": 404
}))  # è¯·æ±‚å¤±è´¥ï¼šç”¨æˆ·ä¸å­˜åœ¨
```

### 6.4 åµŒå¥—å­—å…¸åŒ¹é…


**åŒ¹é…å¤æ‚çš„åµŒå¥—å­—å…¸ç»“æ„**ï¼š
```python
def process_config(config):
    match config:
        case {"database": {"host": host, "port": port}}:  # æ•°æ®åº“é…ç½®
            return f"æ•°æ®åº“è¿æ¥ï¼š{host}:{port}"
        
        case {"server": {"name": name, "settings": {"debug": True}}}:  # è°ƒè¯•æ¨¡å¼æœåŠ¡å™¨
            return f"è°ƒè¯•æ¨¡å¼æœåŠ¡å™¨ï¼š{name}"
        
        case {"users": [{"name": admin_name, "role": "admin"}, *others]}:  # ç”¨æˆ·åˆ—è¡¨ï¼Œç¬¬ä¸€ä¸ªæ˜¯ç®¡ç†å‘˜
            return f"ç®¡ç†å‘˜ï¼š{admin_name}ï¼Œå…¶ä»–ç”¨æˆ·æ•°é‡ï¼š{len(others)}"
        
        case {"features": {"enabled": features}} if len(features) > 0:  # å¯ç”¨çš„åŠŸèƒ½åˆ—è¡¨
            return f"å·²å¯ç”¨åŠŸèƒ½ï¼š{', '.join(features)}"
        
        case _:
            return "æœªè¯†åˆ«çš„é…ç½®æ ¼å¼"

# æµ‹è¯•åµŒå¥—é…ç½®
config1 = {
    "database": {
        "host": "localhost",
        "port": 5432
    }
}
print(process_config(config1))  # æ•°æ®åº“è¿æ¥ï¼šlocalhost:5432

config2 = {
    "users": [
        {"name": "admin", "role": "admin"},
        {"name": "user1", "role": "user"},
        {"name": "user2", "role": "user"}
    ]
}
print(process_config(config2))  # ç®¡ç†å‘˜ï¼šadminï¼Œå…¶ä»–ç”¨æˆ·æ•°é‡ï¼š2
```

---

## 7. ğŸ—ï¸ ç±»æ¨¡å¼åŒ¹é…


### 7.1 ä»€ä¹ˆæ˜¯ç±»æ¨¡å¼åŒ¹é…


> ğŸ’¡ **é€šä¿—ç†è§£**ï¼šç±»æ¨¡å¼åŒ¹é…å°±åƒæ˜¯è¯†åˆ«ä¸åŒç±»å‹çš„ç‰©å“ã€‚æ¯”å¦‚ä½ èƒ½åŒºåˆ†å‡ºæ±½è½¦ã€è‡ªè¡Œè½¦ã€é£æœºï¼Œç±»æ¨¡å¼åŒ¹é…å°±æ˜¯è®©ç¨‹åºä¹Ÿèƒ½è¯†åˆ«ä¸åŒç±»å‹çš„å¯¹è±¡ã€‚

**ç±»åŒ¹é…ç¤ºæ„å›¾**ï¼š
```
å¯¹è±¡ç±»å‹è¯†åˆ«ï¼š
â”œâ”€ åŠ¨ç‰©ç±»
â”‚  â”œâ”€ ç‹—å¯¹è±¡ â†’ æ±ªæ±ªå«
â”‚  â”œâ”€ çŒ«å¯¹è±¡ â†’ å–µå–µå«
â”‚  â””â”€ é¸Ÿå¯¹è±¡ â†’ å½å½å«
â”œâ”€ å‡ ä½•ç±»
â”‚  â”œâ”€ åœ†å½¢å¯¹è±¡ â†’ è®¡ç®—é¢ç§¯
â”‚  â””â”€ çŸ©å½¢å¯¹è±¡ â†’ è®¡ç®—å‘¨é•¿
â””â”€ å…¶ä»–ç±»å‹ â†’ é»˜è®¤å¤„ç†
```

### 7.2 åŸºç¡€ç±»åŒ¹é…


**åŒ¹é…å†…ç½®ç±»å‹**ï¼š
```python
def describe_type(obj):
    match obj:
        case str(text):  # åŒ¹é…å­—ç¬¦ä¸²ç±»å‹
            return f"è¿™æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼š'{text}'"
        
        case int(number):  # åŒ¹é…æ•´æ•°ç±»å‹
            return f"è¿™æ˜¯ä¸€ä¸ªæ•´æ•°ï¼š{number}"
        
        case list(items):  # åŒ¹é…åˆ—è¡¨ç±»å‹
            return f"è¿™æ˜¯ä¸€ä¸ªåˆ—è¡¨ï¼Œæœ‰{len(items)}ä¸ªå…ƒç´ "
        
        case dict(data):  # åŒ¹é…å­—å…¸ç±»å‹
            return f"è¿™æ˜¯ä¸€ä¸ªå­—å…¸ï¼Œæœ‰{len(data)}ä¸ªé”®"
        
        case _:
            return f"æœªçŸ¥ç±»å‹ï¼š{type(obj).__name__}"

# æµ‹è¯•ä¸åŒç±»å‹
print(describe_type("Hello"))           # è¿™æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼š'Hello'
print(describe_type(42))                # è¿™æ˜¯ä¸€ä¸ªæ•´æ•°ï¼š42
print(describe_type([1, 2, 3]))         # è¿™æ˜¯ä¸€ä¸ªåˆ—è¡¨ï¼Œæœ‰3ä¸ªå…ƒç´ 
print(describe_type({"a": 1, "b": 2}))  # è¿™æ˜¯ä¸€ä¸ªå­—å…¸ï¼Œæœ‰2ä¸ªé”®
```

### 7.3 è‡ªå®šä¹‰ç±»åŒ¹é…


**åˆ›å»ºå’ŒåŒ¹é…è‡ªå®šä¹‰ç±»**ï¼š
```python
# å®šä¹‰ä¸€äº›ç®€å•çš„ç±»
class Point:
    def __init__(self, x, y):
        self.x = x
        self.y = y
    
    def __repr__(self):
        return f"Point({self.x}, {self.y})"

class Circle:
    def __init__(self, center, radius):
        self.center = center
        self.radius = radius
    
    def __repr__(self):
        return f"Circle(center={self.center}, radius={self.radius})"

class Rectangle:
    def __init__(self, width, height):
        self.width = width
        self.height = height
    
    def __repr__(self):
        return f"Rectangle({self.width}Ã—{self.height})"

# å‡ ä½•å›¾å½¢å¤„ç†å‡½æ•°
def calculate_area(shape):
    match shape:
        case Circle(center=Point(x, y), radius=r):  # åŒ¹é…åœ†å½¢
            area = 3.14159 * r * r
            return f"åœ†å¿ƒåœ¨({x}, {y})çš„åœ†ï¼ŒåŠå¾„{r}ï¼Œé¢ç§¯â‰ˆ{area:.2f}"
        
        case Rectangle(width=w, height=h):  # åŒ¹é…çŸ©å½¢
            area = w * h
            return f"çŸ©å½¢{w}Ã—{h}ï¼Œé¢ç§¯={area}"
        
        case Point(x=x, y=y):  # åŒ¹é…ç‚¹
            return f"ç‚¹({x}, {y})æ²¡æœ‰é¢ç§¯"
        
        case _:
            return "æœªçŸ¥çš„å‡ ä½•å›¾å½¢"

# æµ‹è¯•è‡ªå®šä¹‰ç±»åŒ¹é…
point = Point(3, 4)
circle = Circle(Point(0, 0), 5)
rectangle = Rectangle(10, 6)

print(calculate_area(point))      # ç‚¹(3, 4)æ²¡æœ‰é¢ç§¯
print(calculate_area(circle))     # åœ†å¿ƒåœ¨(0, 0)çš„åœ†ï¼ŒåŠå¾„5ï¼Œé¢ç§¯â‰ˆ78.54
print(calculate_area(rectangle))  # çŸ©å½¢10Ã—6ï¼Œé¢ç§¯=60
```

### 7.4 ç±»å±æ€§è§£æ„


**ç›´æ¥æå–ç±»çš„å±æ€§**ï¼š
```python
class Student:
    def __init__(self, name, age, grade, subjects):
        self.name = name
        self.age = age
        self.grade = grade
        self.subjects = subjects

def analyze_student(student):
    match student:
        case Student(name=name, age=age) if age < 12:  # å°å­¦ç”Ÿ
            return f"{name}æ˜¯å°å­¦ç”Ÿï¼Œ{age}å²"
        
        case Student(name=name, grade=grade, subjects=subjects) if "æ•°å­¦" in subjects:
            return f"{name}åœ¨{grade}å¹´çº§ï¼Œå­¦ä¹ æ•°å­¦"
        
        case Student(name=name, subjects=subjects) if len(subjects) > 5:
            return f"{name}è¯¾ç¨‹å¾ˆå¤šï¼Œå…±{len(subjects)}é—¨è¯¾"
        
        case Student(name=name):  # åªå…³å¿ƒå§“å
            return f"å­¦ç”Ÿå§“åï¼š{name}"
        
        case _:
            return "ä¸æ˜¯å­¦ç”Ÿå¯¹è±¡"

# åˆ›å»ºå­¦ç”Ÿå¯¹è±¡è¿›è¡Œæµ‹è¯•
student1 = Student("å°æ˜", 10, "å››å¹´çº§", ["è¯­æ–‡", "æ•°å­¦", "è‹±è¯­"])
student2 = Student("å°çº¢", 15, "ä¹å¹´çº§", ["è¯­æ–‡", "æ•°å­¦", "è‹±è¯­", "ç‰©ç†", "åŒ–å­¦", "ç”Ÿç‰©"])

print(analyze_student(student1))  # å°æ˜æ˜¯å°å­¦ç”Ÿï¼Œ10å²
print(analyze_student(student2))  # å°çº¢è¯¾ç¨‹å¾ˆå¤šï¼Œå…±6é—¨è¯¾
```

---

## 8. ğŸ›¡ï¸ å®ˆå«æ¡ä»¶è¯¦è§£


### 8.1 ä»€ä¹ˆæ˜¯å®ˆå«æ¡ä»¶


> ğŸ’¡ **é€šä¿—ç†è§£**ï¼šå®ˆå«æ¡ä»¶å°±åƒæ˜¯é—¨å«ï¼Œå³ä½¿æ¨¡å¼åŒ¹é…æˆåŠŸäº†ï¼Œè¿˜è¦ç»è¿‡é—¨å«çš„"é¢å¤–æ£€æŸ¥"æ‰èƒ½çœŸæ­£è¿›å…¥æ‰§è¡Œã€‚

**å®ˆå«æ¡ä»¶å·¥ä½œæµç¨‹**ï¼š
```
æ•°æ®åŒ¹é…æµç¨‹ï¼š
æ•°æ® â†’ æ¨¡å¼åŒ¹é… â†’ å®ˆå«æ¡ä»¶æ£€æŸ¥ â†’ æ‰§è¡Œä»£ç 
  â†“        â†“           â†“           â†“
 42    case x:     if x > 0:    print("æ­£æ•°")
                     â†“
                  æ¡ä»¶ä¸ºçœŸï¼Œæ‰§è¡Œ
```

### 8.2 åŸºç¡€å®ˆå«æ¡ä»¶


**ä½¿ç”¨ `if` æ·»åŠ é¢å¤–æ¡ä»¶**ï¼š
```python
def categorize_number(num):
    match num:
        case x if x > 100:
            return f"{x}æ˜¯ä¸€ä¸ªå¤§æ•°"
        
        case x if x > 0:
            return f"{x}æ˜¯ä¸€ä¸ªæ­£æ•°"
        
        case x if x == 0:
            return f"{x}æ˜¯é›¶"
        
        case x if x < 0:
            return f"{x}æ˜¯ä¸€ä¸ªè´Ÿæ•°"
        
        case _:
            return "ä¸æ˜¯æ•°å­—"

# æµ‹è¯•ä¸åŒæ•°å­—
print(categorize_number(150))    # 150æ˜¯ä¸€ä¸ªå¤§æ•°
print(categorize_number(50))     # 50æ˜¯ä¸€ä¸ªæ­£æ•°
print(categorize_number(0))      # 0æ˜¯é›¶
print(categorize_number(-10))    # -10æ˜¯ä¸€ä¸ªè´Ÿæ•°
```

### 8.3 å¤æ‚å®ˆå«æ¡ä»¶


**ç»„åˆå¤šä¸ªæ¡ä»¶åˆ¤æ–­**ï¼š
```python
def evaluate_student_performance(student_info):
    match student_info:
        case {"name": name, "score": score, "age": age} if score >= 90 and age < 18:
            return f"ä¼˜ç§€å­¦ç”Ÿï¼š{name}ï¼ˆ{age}å²ï¼‰ï¼Œåˆ†æ•°ï¼š{score}"
        
        case {"name": name, "score": score, "subjects": subjects} if score >= 80 and len(subjects) >= 5:
            return f"å…¨é¢å‘å±•ï¼š{name}ï¼Œåˆ†æ•°{score}ï¼Œå­¦{len(subjects)}é—¨è¯¾"
        
        case {"name": name, "score": score} if 60 <= score < 80:
            return f"æˆç»©è‰¯å¥½ï¼š{name}ï¼Œåˆ†æ•°ï¼š{score}"
        
        case {"name": name, "score": score} if score < 60:
            return f"éœ€è¦åŠªåŠ›ï¼š{name}ï¼Œåˆ†æ•°ï¼š{score}"
        
        case {"name": name}:  # æ²¡æœ‰åˆ†æ•°ä¿¡æ¯
            return f"å­¦ç”Ÿï¼š{name}ï¼ˆåˆ†æ•°æœªçŸ¥ï¼‰"
        
        case _:
            return "æ— æ•ˆçš„å­¦ç”Ÿä¿¡æ¯"

# æµ‹è¯•å¤æ‚æ¡ä»¶
student1 = {"name": "å¤©æ‰å°‘å¹´", "score": 95, "age": 16}
student2 = {"name": "å…¨èƒ½å­¦éœ¸", "score": 88, "subjects": ["è¯­æ–‡", "æ•°å­¦", "è‹±è¯­", "ç‰©ç†", "åŒ–å­¦"]}
student3 = {"name": "æ™®é€šå­¦ç”Ÿ", "score": 75}

print(evaluate_student_performance(student1))  # ä¼˜ç§€å­¦ç”Ÿï¼šå¤©æ‰å°‘å¹´ï¼ˆ16å²ï¼‰ï¼Œåˆ†æ•°ï¼š95
print(evaluate_student_performance(student2))  # å…¨é¢å‘å±•ï¼šå…¨èƒ½å­¦éœ¸ï¼Œåˆ†æ•°88ï¼Œå­¦5é—¨è¯¾
print(evaluate_student_performance(student3))  # æˆç»©è‰¯å¥½ï¼šæ™®é€šå­¦ç”Ÿï¼Œåˆ†æ•°ï¼š75
```

### 8.4 å‡½æ•°è°ƒç”¨å®ˆå«


**åœ¨å®ˆå«æ¡ä»¶ä¸­è°ƒç”¨å‡½æ•°**ï¼š
```python
def is_prime(n):
    """æ£€æŸ¥æ˜¯å¦ä¸ºè´¨æ•°"""
    if n < 2:
        return False
    for i in range(2, int(n ** 0.5) + 1):
        if n % i == 0:
            return False
    return True

def is_palindrome(s):
    """æ£€æŸ¥æ˜¯å¦ä¸ºå›æ–‡å­—ç¬¦ä¸²"""
    s = str(s).lower()
    return s == s[::-1]

def analyze_data(data):
    match data:
        case int(n) if is_prime(n):
            return f"{n}æ˜¯è´¨æ•°"
        
        case int(n) if n > 0 and str(n) == str(n)[::-1]:
            return f"{n}æ˜¯å›æ–‡æ•°"
        
        case str(s) if is_palindrome(s):
            return f"'{s}'æ˜¯å›æ–‡å­—ç¬¦ä¸²"
        
        case list(items) if len(items) > 0 and all(isinstance(x, int) for x in items):
            return f"æ•´æ•°åˆ—è¡¨ï¼Œæœ€å¤§å€¼ï¼š{max(items)}"
        
        case _:
            return f"æ™®é€šæ•°æ®ï¼š{data}"

# æµ‹è¯•å‡½æ•°å®ˆå«
print(analyze_data(17))           # 17æ˜¯è´¨æ•°
print(analyze_data(121))          # 121æ˜¯å›æ–‡æ•°
print(analyze_data("level"))      # 'level'æ˜¯å›æ–‡å­—ç¬¦ä¸²
print(analyze_data([1, 5, 3, 9])) # æ•´æ•°åˆ—è¡¨ï¼Œæœ€å¤§å€¼ï¼š9
```

---

## 9. ğŸŒŸ é€šé…ç¬¦æ¨¡å¼åº”ç”¨


### 9.1 ä»€ä¹ˆæ˜¯é€šé…ç¬¦æ¨¡å¼


> ğŸ’¡ **é€šä¿—ç†è§£**ï¼šé€šé…ç¬¦ `_` å°±åƒæ˜¯"ä¸‡èƒ½é’¥åŒ™"ï¼Œå¯ä»¥åŒ¹é…ä»»ä½•ä¸œè¥¿ã€‚å®ƒé€šå¸¸ç”¨ä½œæœ€åçš„"å…œåº•"é€‰é¡¹ã€‚

**é€šé…ç¬¦çš„ä½œç”¨**ï¼š
```
é€šé…ç¬¦ _ çš„å«ä¹‰ï¼š
â”œâ”€ åŒ¹é…ä»»ä½•å€¼
â”œâ”€ ä¸ç»‘å®šå˜é‡ï¼ˆä¸ä¿å­˜åŒ¹é…çš„å€¼ï¼‰
â”œâ”€ é€šå¸¸ç”¨ä½œé»˜è®¤æƒ…å†µ
â””â”€ å¿…é¡»æ”¾åœ¨æœ€åï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰

å°±åƒï¼š
if æ¡ä»¶1:
    å¤„ç†1
elif æ¡ä»¶2:
    å¤„ç†2
else:        â† è¿™å°±ç›¸å½“äºé€šé…ç¬¦
    é»˜è®¤å¤„ç†
```

### 9.2 åŸºç¡€é€šé…ç¬¦ä½¿ç”¨


**ä½œä¸ºé»˜è®¤æƒ…å†µå¤„ç†**ï¼š
```python
def handle_user_input(user_input):
    match user_input:
        case "yes" | "y" | "æ˜¯":
            return "ç”¨æˆ·é€‰æ‹©äº†ï¼šæ˜¯"
        
        case "no" | "n" | "å¦":
            return "ç”¨æˆ·é€‰æ‹©äº†ï¼šå¦"
        
        case "help" | "å¸®åŠ©":
            return "æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯"
        
        case "quit" | "exit" | "é€€å‡º":
            return "ç”¨æˆ·è¦é€€å‡ºç¨‹åº"
        
        case _:  # é€šé…ç¬¦åŒ¹é…æ‰€æœ‰å…¶ä»–æƒ…å†µ
            return f"ä¸ç†è§£çš„è¾“å…¥ï¼š'{user_input}'ï¼Œè¯·è¾“å…¥yes/no/help/quit"

# æµ‹è¯•å„ç§è¾“å…¥
print(handle_user_input("yes"))        # ç”¨æˆ·é€‰æ‹©äº†ï¼šæ˜¯
print(handle_user_input("å¸®åŠ©"))       # æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
print(handle_user_input("éšä¾¿ä»€ä¹ˆ"))   # ä¸ç†è§£çš„è¾“å…¥ï¼š'éšä¾¿ä»€ä¹ˆ'ï¼Œè¯·è¾“å…¥yes/no/help/quit
```

### 9.3 éƒ¨åˆ†é€šé…ç¬¦


**åœ¨åºåˆ—ä¸­ä½¿ç”¨é€šé…ç¬¦å¿½ç•¥æŸäº›ä½ç½®**ï¼š
```python
def analyze_log_entry(log_parts):
    match log_parts:
        case [timestamp, "ERROR", _, message]:  # å¿½ç•¥é”™è¯¯ç±»å‹ï¼Œåªå…³å¿ƒæ—¶é—´å’Œæ¶ˆæ¯
            return f"é”™è¯¯æ—¥å¿— [{timestamp}]: {message}"
        
        case [timestamp, "INFO", _]:  # ä¿¡æ¯æ—¥å¿—ï¼Œå¿½ç•¥å…·ä½“ä¿¡æ¯
            return f"æ™®é€šä¿¡æ¯æ—¥å¿— [{timestamp}]"
        
        case [_, "DEBUG", *details]:  # å¿½ç•¥æ—¶é—´æˆ³ï¼Œè·å–è°ƒè¯•è¯¦æƒ…
            return f"è°ƒè¯•ä¿¡æ¯ï¼š{' '.join(details)}"
        
        case [timestamp, level, *_]:  # åªå…³å¿ƒæ—¶é—´å’Œçº§åˆ«ï¼Œå…¶ä»–éƒ½å¿½ç•¥
            return f"æ—¥å¿—çº§åˆ« {level} åœ¨ {timestamp}"
        
        case _:
            return "æ— æ³•è§£æçš„æ—¥å¿—æ ¼å¼"

# æµ‹è¯•æ—¥å¿—è§£æ
log1 = ["2024-01-01", "ERROR", "FileNotFound", "æ–‡ä»¶ä¸å­˜åœ¨"]
log2 = ["2024-01-01", "INFO", "ç”¨æˆ·ç™»å½•æˆåŠŸ"]
log3 = ["2024-01-01", "DEBUG", "å˜é‡å€¼", "x=10", "y=20"]

print(analyze_log_entry(log1))  # é”™è¯¯æ—¥å¿— [2024-01-01]: æ–‡ä»¶ä¸å­˜åœ¨
print(analyze_log_entry(log2))  # æ™®é€šä¿¡æ¯æ—¥å¿— [2024-01-01]
print(analyze_log_entry(log3))  # è°ƒè¯•ä¿¡æ¯ï¼šå˜é‡å€¼ x=10 y=20
```

### 9.4 å¤šå±‚åµŒå¥—ä¸­çš„é€šé…ç¬¦


**åœ¨å¤æ‚ç»“æ„ä¸­çµæ´»ä½¿ç”¨é€šé…ç¬¦**ï¼š
```python
def process_api_data(api_response):
    match api_response:
        case {"status": "success", "data": {"user": {"name": name}}, **_}:
            # åªå…³å¿ƒç”¨æˆ·åï¼Œå…¶ä»–ä¿¡æ¯éƒ½å¿½ç•¥
            return f"æ¬¢è¿ç”¨æˆ·ï¼š{name}"
        
        case {"status": "error", "code": code, **_}:
            # åªå…³å¿ƒé”™è¯¯çŠ¶æ€å’Œé”™è¯¯ç 
            return f"APIé”™è¯¯ï¼Œé”™è¯¯ç ï¼š{code}"
        
        case {"status": _, "timestamp": timestamp, **_}:
            # ä¸ç®¡çŠ¶æ€å¦‚ä½•ï¼Œåªè¦æœ‰æ—¶é—´æˆ³å°±è®°å½•
            return f"è¯·æ±‚æ—¶é—´ï¼š{timestamp}"
        
        case _:
            return "æœªçŸ¥çš„APIå“åº”æ ¼å¼"

# æµ‹è¯•APIå“åº”å¤„ç†
response1 = {
    "status": "success",
    "data": {"user": {"name": "å¼ ä¸‰", "id": 123, "email": "zhang@example.com"}},
    "metadata": {"version": "1.0", "server": "api-01"}
}

response2 = {
    "status": "error", 
    "code": 404,
    "message": "ç”¨æˆ·æœªæ‰¾åˆ°",
    "details": "è¯¦ç»†é”™è¯¯ä¿¡æ¯"
}

print(process_api_data(response1))  # æ¬¢è¿ç”¨æˆ·ï¼šå¼ ä¸‰
print(process_api_data(response2))  # APIé”™è¯¯ï¼Œé”™è¯¯ç ï¼š404
```

---

## 10. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 10.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ æ¨¡å¼åŒ¹é…æœ¬è´¨ï¼šåƒ"æ‰¾å¯¹è±¡"ä¸€æ ·ï¼Œä¸ºæ•°æ®æ‰¾åˆ°åŒ¹é…çš„æ¨¡å¼
ğŸ”¸ match-caseè¯­æ³•ï¼šPython 3.10+çš„æ–°ç‰¹æ€§ï¼Œæ¯”if-elifæ›´æ¸…æ™°
ğŸ”¸ å…«ç§æ¨¡å¼ç±»å‹ï¼šå­—é¢é‡ã€å˜é‡ã€åºåˆ—ã€æ˜ å°„ã€ç±»ã€å®ˆå«ã€é€šé…ç¬¦
ğŸ”¸ æ‰§è¡Œæœºåˆ¶ï¼šä»ä¸Šåˆ°ä¸‹åŒ¹é…ï¼Œä¸€æ—¦åŒ¹é…æˆåŠŸå°±æ‰§è¡Œå¹¶é€€å‡º
ğŸ”¸ é€šé…ç¬¦ä½œç”¨ï¼šå…œåº•å¤„ç†ï¼ŒåŒ¹é…ä»»ä½•æƒ…å†µ
```

### 10.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ æ¨¡å¼åŒ¹é…çš„ä¼˜åŠ¿**
```
ä¼ ç»Ÿæ–¹å¼çš„é—®é¢˜ï¼š
- å¤šå±‚if-elifåµŒå¥—ï¼Œä»£ç å¤æ‚
- ç±»å‹æ£€æŸ¥å’Œæ•°æ®æå–åˆ†ç¦»
- å®¹æ˜“å‡ºç°é€»è¾‘é”™è¯¯

æ¨¡å¼åŒ¹é…çš„ä¼˜åŠ¿ï¼š
- ä»£ç ç»“æ„æ¸…æ™°ï¼Œä¸€ç›®äº†ç„¶
- ç±»å‹æ£€æŸ¥å’Œæ•°æ®æå–ä¸€ä½“åŒ–
- ç¼–è¯‘å™¨èƒ½æ›´å¥½åœ°ä¼˜åŒ–å’Œæ£€æŸ¥
```

**ğŸ”¹ ä½¿ç”¨åœºæ™¯é€‰æ‹©**
```
é€‚åˆæ¨¡å¼åŒ¹é…ï¼š
âœ… æ•°æ®ç»“æ„è§£æï¼ˆJSONã€é…ç½®æ–‡ä»¶ï¼‰
âœ… çŠ¶æ€æœºå®ç°
âœ… å‘½ä»¤å¤„ç†ç³»ç»Ÿ
âœ… ç±»å‹åˆ†å‘å¤„ç†
âœ… å¤æ‚æ¡ä»¶åˆ¤æ–­

ä»ç”¨ä¼ ç»Ÿifï¼š
ğŸ“ ç®€å•çš„çœŸå‡åˆ¤æ–­
ğŸ“ æ•°å€¼èŒƒå›´æ¯”è¾ƒ
ğŸ“ å•ä¸€æ¡ä»¶æ£€æŸ¥
```

### 10.3 æœ€ä½³å®è·µå»ºè®®


**ğŸ¯ æ¨¡å¼è®¾è®¡åŸåˆ™**
```
1. ä»å…·ä½“åˆ°æŠ½è±¡ï¼šå…ˆåŒ¹é…å…·ä½“æƒ…å†µï¼Œå†åŒ¹é…é€šç”¨æƒ…å†µ
2. ä½¿ç”¨å®ˆå«æ¡ä»¶ï¼šä¸ºæ¨¡å¼æ·»åŠ é¢å¤–çš„æ¡ä»¶é™åˆ¶
3. åˆç†ä½¿ç”¨é€šé…ç¬¦ï¼šé¿å…é—æ¼æƒ…å†µï¼Œæä¾›é»˜è®¤å¤„ç†
4. ä¿æŒæ¨¡å¼ç®€æ´ï¼šå¤æ‚é€»è¾‘åˆ†è§£ä¸ºå¤šä¸ªç®€å•æ¨¡å¼
```

**ğŸ’¡ æ€§èƒ½ä¼˜åŒ–æŠ€å·§**
```
é«˜æ•ˆæ¨¡å¼æ’åºï¼š
- å¸¸è§æƒ…å†µæ”¾å‰é¢
- è®¡ç®—å¼€é”€å°çš„æ¨¡å¼ä¼˜å…ˆ
- é¿å…è¿‡äºå¤æ‚çš„å®ˆå«æ¡ä»¶

ä»£ç å¯ç»´æŠ¤æ€§ï¼š
- ä¸ºå¤æ‚æ¨¡å¼æ·»åŠ æ³¨é‡Š
- ä½¿ç”¨æœ‰æ„ä¹‰çš„å˜é‡å
- é€‚å½“åˆ†è§£å¤æ‚çš„matchè¯­å¥
```

### 10.4 å¸¸è§é”™è¯¯é¿å…


> âš ï¸ **æ–°æ‰‹å¸¸çŠ¯é”™è¯¯**

```python
# âŒ é”™è¯¯ï¼šå˜é‡åå†²çª
def bad_example(data):
    x = 10  # å¤–éƒ¨å˜é‡
    match data:
        case x:  # è¿™é‡Œçš„xä¼šè¦†ç›–å¤–éƒ¨å˜é‡ï¼
            return f"åŒ¹é…åˆ°ï¼š{x}"

# âœ… æ­£ç¡®ï¼šä½¿ç”¨ä¸åŒçš„å˜é‡å
def good_example(data):
    x = 10  # å¤–éƒ¨å˜é‡
    match data:
        case value:  # ä½¿ç”¨ä¸åŒçš„åå­—
            return f"åŒ¹é…åˆ°ï¼š{value}ï¼Œå¤–éƒ¨xä»æ˜¯ï¼š{x}"

# âŒ é”™è¯¯ï¼šé€šé…ç¬¦ä½ç½®é”™è¯¯
def bad_order(data):
    match data:
        case _:  # é€šé…ç¬¦åœ¨å‰é¢ï¼Œåé¢çš„caseæ°¸è¿œä¸ä¼šæ‰§è¡Œï¼
            return "é»˜è®¤"
        case "special":
            return "ç‰¹æ®Šæƒ…å†µ"

# âœ… æ­£ç¡®ï¼šé€šé…ç¬¦æ”¾æœ€å
def good_order(data):
    match data:
        case "special":
            return "ç‰¹æ®Šæƒ…å†µ"
        case _:  # é€šé…ç¬¦æ”¾æœ€å
            return "é»˜è®¤"
```

### 10.5 å­¦ä¹ è¿›é˜¶è·¯å¾„


**ğŸ“š å­¦ä¹ å»ºè®®**

```
å…¥é—¨é˜¶æ®µï¼ˆå¿…é¡»æŒæ¡ï¼‰ï¼š
â–¡ åŸºç¡€è¯­æ³•ç»“æ„
â–¡ å­—é¢é‡å’Œå˜é‡æ¨¡å¼
â–¡ åºåˆ—æ¨¡å¼åŒ¹é…
â–¡ é€šé…ç¬¦ä½¿ç”¨

è¿›é˜¶é˜¶æ®µï¼ˆæ·±å…¥åº”ç”¨ï¼‰ï¼š
â–¡ å¤æ‚åµŒå¥—æ¨¡å¼
â–¡ ç±»æ¨¡å¼åŒ¹é…
â–¡ å®ˆå«æ¡ä»¶æ´»ç”¨
â–¡ æ€§èƒ½ä¼˜åŒ–æŠ€å·§

é«˜çº§é˜¶æ®µï¼ˆç”Ÿäº§åº”ç”¨ï¼‰ï¼š
â–¡ çŠ¶æ€æœºè®¾è®¡
â–¡ è§£æå™¨å®ç°
â–¡ é¢†åŸŸç‰¹å®šè¯­è¨€(DSL)
â–¡ å‡½æ•°å¼ç¼–ç¨‹æ¨¡å¼
```

**ğŸ”§ å®è·µé¡¹ç›®å»ºè®®**
1. **é…ç½®æ–‡ä»¶è§£æå™¨**ï¼šç»ƒä¹ å­—å…¸å’ŒåµŒå¥—æ¨¡å¼
2. **ç®€å•å‘½ä»¤è¡Œå·¥å…·**ï¼šç»ƒä¹ å­—ç¬¦ä¸²å’Œåºåˆ—æ¨¡å¼
3. **çŠ¶æ€æœºæ¸¸æˆ**ï¼šç»ƒä¹ ç±»æ¨¡å¼å’Œå®ˆå«æ¡ä»¶
4. **æ•°æ®è½¬æ¢å·¥å…·**ï¼šç»ƒä¹ å¤æ‚æ¨¡å¼ç»„åˆ

**æ ¸å¿ƒè®°å¿†å£è¯€**ï¼š
- æ¨¡å¼åŒ¹é…æ‰¾å¯¹è±¡ï¼Œæ•°æ®ç»“æ„è¦å¯¹åº”
- ä»ä¸Šåˆ°ä¸‹é€ä¸ªè¯•ï¼ŒåŒ¹é…æˆåŠŸå°±æ‰§è¡Œ  
- å­—é¢é‡å˜é‡åºåˆ—ç±»ï¼Œæ˜ å°„å®ˆå«é€šé…ç¬¦
- ä»£ç ç®€æ´é€»è¾‘æ¸…ï¼ŒPythonæ–°ç‰¹æ€§è¦å­¦ä¼š