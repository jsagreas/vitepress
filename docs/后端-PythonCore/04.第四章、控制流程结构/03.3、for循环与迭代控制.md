---
title: 3、for循环与迭代控制
---
## 📚 目录

1. [for循环基础概念](#1-for循环基础概念)
2. [range()函数详解](#2-range函数详解)
3. [可迭代对象遍历](#3-可迭代对象遍历)
4. [enumerate()函数使用](#4-enumerate函数使用)
5. [zip()函数并行迭代](#5-zip函数并行迭代)
6. [嵌套循环处理](#6-嵌套循环处理)
7. [循环变量作用域](#7-循环变量作用域)
8. [for-else语句](#8-for-else语句)
9. [核心要点总结](#9-核心要点总结)

---

## 1. 🔄 for循环基础概念


### 1.1 什么是for循环

**通俗理解**：for循环就像是一个"自动化的重复执行器"

```
生活中的例子：
你要给班上30个同学发作业本，你会：
1. 拿第1个同学的本子，发给他
2. 拿第2个同学的本子，发给他
3. 拿第3个同学的本子，发给他
...重复这个动作直到发完

for循环就是让计算机自动做这种重复工作！
```

**🔸 基础语法结构**
```python
for 变量名 in 可迭代对象:
    要重复执行的代码
```

### 1.2 for循环的工作原理


**💡 工作机制图解**
```
可迭代对象: [1, 2, 3, 4, 5]
           ↓
for i in [1, 2, 3, 4, 5]:
    第1次循环: i = 1 → 执行代码块
    第2次循环: i = 2 → 执行代码块  
    第3次循环: i = 3 → 执行代码块
    第4次循环: i = 4 → 执行代码块
    第5次循环: i = 5 → 执行代码块
           ↓
    循环结束
```

**🎯 最简单的例子**
```python
# 打印数字1到5
for num in [1, 2, 3, 4, 5]:
    print(num)

# 输出结果：
# 1
# 2  
# 3
# 4
# 5
```

### 1.3 for循环 vs while循环的区别


| **特点** | **for循环** | **while循环** |
|---------|------------|-------------|
| **使用场景** | `已知循环次数或遍历集合` | `条件满足就继续循环` |
| **写法简洁度** | `更简洁` | `需要手动控制计数` |
| **适合新手** | `✅ 推荐新手使用` | `容易写出死循环` |

**💭 选择建议**
- **遍历列表、字符串** → 用for循环
- **不知道要循环几次** → 用while循环
- **新手学习** → 优先掌握for循环

---

## 2. 📊 range()函数详解


### 2.1 range()是什么

**通俗解释**：`range()`就像一个"数字生成器"，专门用来生成连续的数字序列

```
想象一下：
你要打印1到10的数字，难道要写：
for num in [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]:

太麻烦了！range()帮你自动生成：
for num in range(1, 11):  # 轻松搞定！
```

### 2.2 range()的三种用法


**🔸 用法一：range(stop) - 从0开始**
```python
# range(5) 生成：0, 1, 2, 3, 4
for i in range(5):
    print(i)
# 输出：0 1 2 3 4
```

**🔸 用法二：range(start, stop) - 指定开始和结束**
```python
# range(2, 8) 生成：2, 3, 4, 5, 6, 7
for i in range(2, 8):
    print(i)
# 输出：2 3 4 5 6 7
```

**🔸 用法三：range(start, stop, step) - 指定步长**
```python
# range(1, 10, 2) 生成：1, 3, 5, 7, 9
for i in range(1, 10, 2):
    print(i)
# 输出：1 3 5 7 9
```

### 2.3 range()的重要特点


**⚠️ 新手易错点**
```
🔸 左闭右开：range(1, 5) → 1,2,3,4 (不包含5！)
🔸 step不能为0：range(1, 5, 0) 会报错
🔸 倒序遍历：range(5, 0, -1) → 5,4,3,2,1
```

**💡 实用示例**
```python
# ① 正序遍历
print("正序:", list(range(1, 6)))      # [1, 2, 3, 4, 5]

# ② 倒序遍历  
print("倒序:", list(range(5, 0, -1)))  # [5, 4, 3, 2, 1]

# ③ 偶数遍历
print("偶数:", list(range(0, 11, 2)))  # [0, 2, 4, 6, 8, 10]

# ④ 奇数遍历
print("奇数:", list(range(1, 11, 2)))  # [1, 3, 5, 7, 9]
```

### 2.4 range()内存优化特性


**🚀 为什么range()这么好用**
```python
# range()不会一次性生成所有数字，而是用的时候才生成
# 这叫"惰性求值"，非常节省内存

# 比如 range(1000000) 不会占用大量内存
for i in range(1000000):
    if i > 5:
        break
    print(i)
# 只会在需要的时候生成数字
```

---

## 3. 🗂️ 可迭代对象遍历


### 3.1 什么是可迭代对象

**通俗理解**：可迭代对象就是"可以一个一个取出元素"的容器

```
生活类比：
📚 书架上的书 → 可以一本一本取出来看
🍎 果篮里的水果 → 可以一个一个拿出来吃
💼 文件夹里的文件 → 可以一个一个打开查看

Python中的可迭代对象也是这样！
```

### 3.2 常见的可迭代对象类型


**📝 字符串遍历**
```python
name = "Python"
for char in name:
    print(char)
# 输出：P y t h o n (每行一个字符)
```

**📋 列表遍历**
```python
fruits = ["苹果", "香蕉", "橙子"]
for fruit in fruits:
    print(f"我喜欢吃{fruit}")
# 输出：
# 我喜欢吃苹果
# 我喜欢吃香蕉  
# 我喜欢吃橙子
```

**📖 字典遍历**
```python
student = {"姓名": "小明", "年龄": 18, "班级": "三年二班"}

# 遍历键(key)
for key in student:
    print(key)  # 姓名 年龄 班级

# 遍历值(value)  
for value in student.values():
    print(value)  # 小明 18 三年二班

# 遍历键值对
for key, value in student.items():
    print(f"{key}: {value}")
# 姓名: 小明
# 年龄: 18
# 班级: 三年二班
```

### 3.3 遍历的实用技巧


**🎯 条件过滤遍历**
```python
numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]

# 只处理偶数
for num in numbers:
    if num % 2 == 0:
        print(f"{num}是偶数")

# 跳过某些值
for num in numbers:
    if num == 5:
        continue  # 跳过5
    print(num)
```

---

## 4. 🏷️ enumerate()函数使用


### 4.1 enumerate()解决什么问题

**问题场景**：有时候我们不仅要遍历元素，还要知道元素的位置

```
生活例子：
老师点名：
"第1号：张三" 
"第2号：李四"
"第3号：王五"

不仅要知道学生姓名，还要知道他是第几号
```

**🔸 传统做法 vs enumerate()做法**
```python
students = ["张三", "李四", "王五"]

# ❌ 传统做法：手动计数
index = 0
for student in students:
    print(f"第{index + 1}号：{student}")
    index += 1

# ✅ enumerate()做法：自动计数
for index, student in enumerate(students):
    print(f"第{index + 1}号：{student}")
```

### 4.2 enumerate()基础用法


**💡 基本语法**
```python
enumerate(可迭代对象, start=起始数字)
```

**🔸 默认从0开始计数**
```python
colors = ["红色", "绿色", "蓝色"]
for i, color in enumerate(colors):
    print(f"索引{i}: {color}")
# 输出：
# 索引0: 红色
# 索引1: 绿色  
# 索引2: 蓝色
```

**🔸 自定义起始数字**
```python
subjects = ["语文", "数学", "英语"]
for num, subject in enumerate(subjects, start=1):
    print(f"第{num}科: {subject}")
# 输出：
# 第1科: 语文
# 第2科: 数学
# 第3科: 英语
```

### 4.3 enumerate()实用场景


**🎯 场景一：查找元素位置**
```python
names = ["小明", "小红", "小刚", "小丽"]
target = "小刚"

for i, name in enumerate(names):
    if name == target:
        print(f"找到了！{target}在第{i+1}个位置")
        break
# 输出：找到了！小刚在第3个位置
```

**🎯 场景二：处理文件行号**
```python
lines = ["第一行内容", "第二行内容", "第三行内容"]

for line_num, content in enumerate(lines, start=1):
    print(f"第{line_num}行: {content}")
```

**🎯 场景三：创建选择菜单**
```python
menu = ["新建文件", "打开文件", "保存文件", "退出程序"]

print("请选择操作：")
for i, option in enumerate(menu, start=1):
    print(f"{i}. {option}")
# 输出：
# 请选择操作：
# 1. 新建文件
# 2. 打开文件
# 3. 保存文件
# 4. 退出程序
```

---

## 5. 🔗 zip()函数并行迭代


### 5.1 zip()解决什么问题

**问题场景**：有时候需要同时遍历多个列表

```
生活例子：
你有三个列表：
学生姓名: ["小明", "小红", "小刚"]  
考试成绩: [85, 92, 78]
班级职务: ["班长", "学委", "体委"]

你想要打印：小明(班长): 85分
怎么同时遍历三个列表？
```

### 5.2 zip()基础用法


**💡 zip()工作原理图解**
```
列表1: ["小明", "小红", "小刚"]
列表2: [85, 92, 78]
       ↓ zip配对 ↓
结果: ("小明",85), ("小红",92), ("小刚",78)
```

**🔸 基本使用**
```python
names = ["小明", "小红", "小刚"]
scores = [85, 92, 78]

for name, score in zip(names, scores):
    print(f"{name}: {score}分")
# 输出：
# 小明: 85分
# 小红: 92分
# 小刚: 78分
```

**🔸 多个列表并行遍历**
```python
names = ["小明", "小红", "小刚"]
scores = [85, 92, 78]
positions = ["班长", "学委", "体委"]

for name, score, position in zip(names, scores, positions):
    print(f"{name}({position}): {score}分")
# 输出：
# 小明(班长): 85分
# 小红(学委): 92分
# 小刚(体委): 78分
```

### 5.3 zip()的重要特点


**⚠️ 长度不一致的处理**
```python
list1 = [1, 2, 3, 4, 5]
list2 = ['a', 'b', 'c']  # 比list1短

for num, letter in zip(list1, list2):
    print(num, letter)
# 输出：
# 1 a
# 2 b  
# 3 c
# 注意：4和5被忽略了！zip以最短的列表为准
```

**💡 实用技巧**
```python
# ① 创建字典
keys = ['name', 'age', 'city']
values = ['张三', 25, '北京']
person = dict(zip(keys, values))
print(person)  # {'name': '张三', 'age': 25, 'city': '北京'}

# ② 转置数据
matrix = [(1, 4), (2, 5), (3, 6)]
row1, row2 = zip(*matrix)
print(row1)  # (1, 2, 3)
print(row2)  # (4, 5, 6)
```

---

## 6. 🔄 嵌套循环处理


### 6.1 什么是嵌套循环

**通俗理解**：嵌套循环就是"循环里面还有循环"

```
生活类比：
你要给每个班级的每个学生发通知书：
- 外层循环：遍历每个班级
- 内层循环：遍历班级里的每个学生

for 班级 in 所有班级:
    for 学生 in 这个班级的学生:
        给这个学生发通知书
```

### 6.2 嵌套循环基础语法


**🔸 基本结构**
```python
for 外层变量 in 外层可迭代对象:
    for 内层变量 in 内层可迭代对象:
        执行的代码
```

**🎯 打印乘法表示例**
```python
# 九九乘法表
for i in range(1, 10):
    for j in range(1, i + 1):
        print(f"{j}×{i}={i*j}", end="  ")
    print()  # 换行
# 输出：
# 1×1=1  
# 1×2=2  2×2=4  
# 1×3=3  2×3=6  3×3=9  
# ...
```

### 6.3 嵌套循环实用场景


**🎯 场景一：二维列表遍历**
```python
# 学生成绩表
class_scores = [
    [85, 92, 78],  # 第一组学生成绩
    [90, 88, 95],  # 第二组学生成绩  
    [87, 91, 89]   # 第三组学生成绩
]

for group_num, group in enumerate(class_scores, 1):
    print(f"第{group_num}组成绩：")
    for student_num, score in enumerate(group, 1):
        print(f"  学生{student_num}: {score}分")
```

**🎯 场景二：坐标遍历**
```python
# 遍历3x3网格的所有位置
for row in range(3):
    for col in range(3):
        print(f"位置({row}, {col})", end="  ")
    print()
# 输出：
# 位置(0, 0)  位置(0, 1)  位置(0, 2)  
# 位置(1, 0)  位置(1, 1)  位置(1, 2)  
# 位置(2, 0)  位置(2, 1)  位置(2, 2)
```

### 6.4 嵌套循环的控制


**🔸 break和continue在嵌套循环中的作用**
```python
for i in range(3):
    print(f"外层循环 {i}")
    for j in range(3):
        if j == 1:
            continue  # 只跳过内层循环的当前迭代
        if j == 2:
            break     # 只跳出内层循环
        print(f"  内层循环 {j}")
```

**💡 性能提示**
> ⚡ **注意**：嵌套循环的性能会随着层数增加而快速降低
> - 2层循环：n × m 次操作
> - 3层循环：n × m × k 次操作
> 
> 🎯 **建议**：尽量避免3层以上的嵌套循环

---

## 7. 🎯 循环变量作用域


### 7.1 什么是作用域

**通俗解释**：作用域就是"变量的有效范围"

```
生活类比：
你的学生证只在学校里有效，出了学校就没用了
变量也是这样，有自己的"有效范围"
```

### 7.2 Python中for循环变量的特殊性


**⚠️ 重要特点：循环变量在循环结束后仍然存在**
```python
# 循环结束后，变量i仍然存在
for i in range(5):
    print(i)

print(f"循环结束后，i的值是: {i}")  # 输出：i的值是: 4
```

**🔸 对比其他语言**
```
在C/Java等语言中：
for (int i = 0; i < 5; i++) {
    // i只在这个大括号内有效
}
// 这里访问i会报错

在Python中：
for i in range(5):
    pass
# 这里i仍然可以访问，值为4
```

### 7.3 作用域相关的注意事项


**🚨 常见陷阱：循环变量被意外修改**
```python
# ❌ 错误示例：在循环内修改循环变量
for i in range(5):
    print(f"当前i: {i}")
    i = 100  # 这样做没有意义！
    print(f"修改后i: {i}")
# 下次循环i还是会按原来的序列继续
```

**✅ 正确的做法**
```python
# 如果需要控制循环，使用break或continue
for i in range(10):
    if i == 3:
        continue  # 跳过3
    if i == 7:
        break     # 在7处停止
    print(i)
```

**💡 最佳实践**
```python
# ① 使用有意义的变量名
for student in students:      # ✅ 好
    pass

for s in students:           # ❌ 不好
    pass

# ② 避免在循环外使用循环变量
for i in range(5):
    process_data(i)

# 如果循环后还需要使用，明确赋值
final_index = i  # 明确表示要使用这个值
```

---

## 8. 🔀 for-else语句


### 8.1 for-else是什么

**通俗理解**：for-else是Python的特殊语法，else代码块在循环**正常结束**时执行

```
工作流程：
for循环开始 → 执行循环体 → 循环正常结束 → 执行else块
                    ↓
                 如果遇到break → 跳过else块
```

### 8.2 for-else基础语法


**🔸 基本结构**
```python
for 变量 in 可迭代对象:
    循环体代码
    if 某个条件:
        break
else:
    # 只有循环正常结束（没有break）才执行
    循环完成后的代码
```

**🎯 具体示例**
```python
# 示例1：正常结束，执行else
for i in range(3):
    print(f"数字: {i}")
else:
    print("循环正常结束了！")

# 输出：
# 数字: 0
# 数字: 1  
# 数字: 2
# 循环正常结束了！
```

```python
# 示例2：遇到break，不执行else
for i in range(5):
    if i == 2:
        print("遇到2，跳出循环")
        break
    print(f"数字: {i}")
else:
    print("这句话不会打印")

# 输出：
# 数字: 0
# 数字: 1
# 遇到2，跳出循环
```

### 8.3 for-else的实用场景


**🎯 场景一：查找元素**
```python
students = ["小明", "小红", "小刚"]
target = "小丽"

for student in students:
    if student == target:
        print(f"找到了学生：{target}")
        break
else:
    print(f"没有找到学生：{target}")

# 输出：没有找到学生：小丽
```

**🎯 场景二：验证所有条件**
```python
numbers = [2, 4, 6, 8, 10]

# 检查是否都是偶数
for num in numbers:
    if num % 2 != 0:
        print(f"发现奇数：{num}")
        break
else:
    print("所有数字都是偶数！")

# 输出：所有数字都是偶数！
```

**🎯 场景三：密码验证**
```python
attempts = 3
correct_password = "123456"

for attempt in range(attempts):
    password = input(f"请输入密码(第{attempt+1}次尝试): ")
    if password == correct_password:
        print("密码正确，登录成功！")
        break
else:
    print("密码错误次数过多，账户被锁定！")
```

### 8.4 for-else使用建议


**💡 何时使用for-else**
- ✅ 查找元素：找到就break，找不到执行else
- ✅ 验证条件：发现不符合就break，全符合执行else
- ✅ 尝试操作：成功就break，全失败执行else

**⚠️ 注意事项**
- continue不会触发else跳过
- 只有break才会跳过else块
- 空循环也会执行else

---

## 9. 📋 核心要点总结


### 9.1 必须掌握的核心概念


```
🔸 for循环基础：遍历可迭代对象的自动化工具
🔸 range()函数：生成数字序列，支持起始、结束、步长
🔸 可迭代对象：字符串、列表、字典等可以逐个访问的容器
🔸 enumerate()：同时获取索引和值的便捷函数
🔸 zip()：并行遍历多个序列的配对工具
🔸 嵌套循环：循环内嵌套循环，处理多维数据
🔸 作用域特性：循环变量在循环结束后仍然存在
🔸 for-else语句：循环正常结束时执行的额外代码块
```

### 9.2 关键理解要点


**🔹 for循环的核心价值**
```
自动化重复：让计算机替你做重复性工作
简洁明了：比while循环更适合确定次数的循环
安全可靠：不容易写出死循环
```

**🔹 重要函数的使用场景**
```
range() → 需要数字序列时
enumerate() → 需要索引和值时  
zip() → 需要配对遍历时
```

**🔹 循环控制的最佳实践**
```
break：找到目标立即停止
continue：跳过当前，继续下一个
for-else：正常结束时的后续处理
```

### 9.3 新手易错点提醒


**⚠️ 常见错误**
```
❌ range(1, 5)包含5：实际是1,2,3,4
❌ 在循环内修改循环变量：没有效果
❌ 嵌套过深：性能和可读性都差
❌ 忘记for-else的break条件：理解else执行时机
```

**✅ 最佳实践**
```
✅ 使用有意义的变量名：for student in students
✅ 合理使用enumerate和zip：代码更简洁
✅ 循环嵌套不超过3层：保持代码可读性
✅ 善用break和continue：精确控制循环流程
```

### 9.4 实际应用价值


**🎯 数据处理场景**
- **批量操作**：处理文件列表、数据清洗
- **报表生成**：遍历数据生成统计报告
- **用户交互**：菜单选择、输入验证

**🎯 算法实现场景**
- **查找算法**：在数据中查找特定元素
- **排序算法**：比较和交换元素位置
- **图形绘制**：生成坐标点、绘制图案

**核心记忆口诀**：
```
for循环遍历很简单，range生成数字串
enumerate带上小标签，zip配对不孤单
嵌套循环层层套，作用域外变量在
for-else正常才执行，break一出就不见
```