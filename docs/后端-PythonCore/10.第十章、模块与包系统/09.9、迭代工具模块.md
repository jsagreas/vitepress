---
title: 9ã€è¿­ä»£å·¥å…·æ¨¡å—
---
## ğŸ“š ç›®å½•

1. [itertoolsæ¨¡å—æ¦‚è¿°](#1-itertoolsæ¨¡å—æ¦‚è¿°)
2. [æ— é™è¿­ä»£å™¨è¯¦è§£](#2-æ— é™è¿­ä»£å™¨è¯¦è§£)
3. [ç´¯ç§¯è®¡ç®—å·¥å…·](#3-ç´¯ç§¯è®¡ç®—å·¥å…·)
4. [è¿­ä»£å™¨è¿æ¥æ“ä½œ](#4-è¿­ä»£å™¨è¿æ¥æ“ä½œ)
5. [æ¡ä»¶è¿‡æ»¤å·¥å…·](#5-æ¡ä»¶è¿‡æ»¤å·¥å…·)
6. [ç»„åˆè¿­ä»£å™¨è¯¦è§£](#6-ç»„åˆè¿­ä»£å™¨è¯¦è§£)
7. [è¿­ä»£å™¨è¿‡æ»¤ä¸åˆ†ç»„](#7-è¿­ä»£å™¨è¿‡æ»¤ä¸åˆ†ç»„)
8. [æ€§èƒ½ä¼˜åŒ–å®è·µ](#8-æ€§èƒ½ä¼˜åŒ–å®è·µ)
9. [è‡ªå®šä¹‰è¿­ä»£å·¥å…·](#9-è‡ªå®šä¹‰è¿­ä»£å·¥å…·)
10. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#10-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ”§ itertoolsæ¨¡å—æ¦‚è¿°


### 1.1 ä»€ä¹ˆæ˜¯itertoolsæ¨¡å—


**ğŸ¯ ç®€å•ç†è§£**ï¼š`itertools`å°±åƒæ˜¯Pythonç»™æˆ‘ä»¬æä¾›çš„ä¸€ä¸ª"è¿­ä»£å™¨å·¥å…·ç®±"ï¼Œé‡Œé¢è£…æ»¡äº†å„ç§å¤„ç†æ•°æ®åºåˆ—çš„é«˜æ•ˆå·¥å…·ã€‚

**æ ¸å¿ƒä½œç”¨**ï¼š
```
æƒ³è±¡ä½ æœ‰ä¸€å †æ•°æ®éœ€è¦å¤„ç†ï¼š
â€¢ éœ€è¦é‡å¤æŸäº›æ•°æ® â†’ itertoolså¸®ä½ æ— é™é‡å¤
â€¢ éœ€è¦ç»„åˆä¸åŒæ•°æ® â†’ itertoolså¸®ä½ æ’åˆ—ç»„åˆ  
â€¢ éœ€è¦è¿‡æ»¤ç­›é€‰æ•°æ® â†’ itertoolså¸®ä½ æ¡ä»¶ç­›é€‰
â€¢ éœ€è¦è¿æ¥å¤šä¸ªåºåˆ— â†’ itertoolså¸®ä½ æ— ç¼æ‹¼æ¥
```

### 1.2 ä¸ºä»€ä¹ˆè¦å­¦itertools


**ğŸ’¡ è§£å†³çš„å®é™…é—®é¢˜**ï¼š
- **å†…å­˜æ•ˆç‡**ï¼šå¤„ç†å¤§æ•°æ®æ—¶ä¸ä¼šä¸€æ¬¡æ€§å ç”¨å¤§é‡å†…å­˜
- **ä»£ç ç®€æ´**ï¼šä¸€è¡Œä»£ç å®Œæˆå¤æ‚çš„æ•°æ®å¤„ç†é€»è¾‘
- **æ€§èƒ½ä¼˜å¼‚**ï¼šåº•å±‚ç”¨Cå®ç°ï¼Œæ¯”çº¯Pythonå¾ªç¯å¿«å¾ˆå¤š
- **åŠŸèƒ½å¼ºå¤§**ï¼šæä¾›æ•°å­¦ã€ç»Ÿè®¡ã€ç®—æ³•ä¸­å¸¸ç”¨çš„è¿­ä»£æ¨¡å¼

**å®é™…åº”ç”¨åœºæ™¯**ï¼š
```
æ—¥å¸¸ç¼–ç¨‹ä¸­ä½ å¯èƒ½é‡åˆ°ï¼š
âœ… æ‰¹é‡å¤„ç†æ–‡ä»¶æ—¶éœ€è¦ç¼–å·æ ‡è¯†
âœ… æ•°æ®åˆ†ææ—¶éœ€è¦æ’åˆ—ç»„åˆè®¡ç®—
âœ… ç®—æ³•å®ç°æ—¶éœ€è¦é«˜æ•ˆçš„æ•°æ®æµå¤„ç†
âœ… å¤§æ•°æ®å¤„ç†æ—¶éœ€è¦èŠ‚çœå†…å­˜
```

### 1.3 itertoolsçš„åŸºæœ¬åˆ†ç±»


```
itertoolså·¥å…·åˆ†ä¸ºä¸‰å¤§ç±»ï¼š

ğŸ”¸ æ— é™è¿­ä»£å™¨
  â””â”€ count()     â† æ•°å­—åºåˆ—ç”Ÿæˆå™¨
  â””â”€ cycle()     â† å¾ªç¯é‡å¤å™¨  
  â””â”€ repeat()    â† å€¼é‡å¤å™¨

ğŸ”¸ æœ‰é™è¿­ä»£å™¨
  â””â”€ accumulate() â† ç´¯ç§¯è®¡ç®—å™¨
  â””â”€ chain()      â† åºåˆ—è¿æ¥å™¨
  â””â”€ compress()   â† æ¡ä»¶è¿‡æ»¤å™¨
  â””â”€ æ›´å¤šè¿‡æ»¤åˆ†ç»„å·¥å…·...

ğŸ”¸ ç»„åˆè¿­ä»£å™¨
  â””â”€ product()       â† ç¬›å¡å°”ç§¯
  â””â”€ permutations()  â† æ’åˆ—
  â””â”€ combinations()  â† ç»„åˆ
```

---

## 2. â™¾ï¸ æ— é™è¿­ä»£å™¨è¯¦è§£


### 2.1 count() - æ•°å­—åºåˆ—ç”Ÿæˆå™¨


**ğŸ¯ ä½œç”¨**ï¼šç”Ÿæˆä¸€ä¸ªä»æŒ‡å®šæ•°å­—å¼€å§‹ï¼ŒæŒ‰å›ºå®šæ­¥é•¿é€’å¢çš„æ— é™æ•°å­—åºåˆ—ã€‚

**åŸºæœ¬è¯­æ³•**ï¼š
```python
itertools.count(start=0, step=1)
# start: èµ·å§‹æ•°å­—ï¼ˆé»˜è®¤0ï¼‰
# step: æ­¥é•¿ï¼ˆé»˜è®¤1ï¼‰
```

**ğŸ“ é€šä¿—ç†è§£**ï¼šå°±åƒä¸€ä¸ªæ°¸ä¸åœæ­¢çš„è®¡æ•°å™¨ï¼Œä½ å‘Šè¯‰å®ƒä»å‡ å¼€å§‹æ•°ï¼Œæ¯æ¬¡åŠ å‡ ã€‚

**å®ç”¨ç¤ºä¾‹**ï¼š
```python
import itertools

# ç¤ºä¾‹1ï¼šç®€å•è®¡æ•°ï¼ˆä»0å¼€å§‹ï¼Œæ¯æ¬¡+1ï¼‰
counter = itertools.count()
for i, num in enumerate(counter):
    if i >= 5:  # åªå–å‰5ä¸ª
        break
    print(f"ç¬¬{i+1}ä¸ªæ•°å­—: {num}")

# è¾“å‡ºï¼šç¬¬1ä¸ªæ•°å­—: 0, ç¬¬2ä¸ªæ•°å­—: 1, ç¬¬3ä¸ªæ•°å­—: 2...

# ç¤ºä¾‹2ï¼šè‡ªå®šä¹‰èµ·å§‹å’Œæ­¥é•¿
even_numbers = itertools.count(2, 2)  # ä»2å¼€å§‹ï¼Œæ¯æ¬¡+2
odd_numbers = itertools.count(1, 2)   # ä»1å¼€å§‹ï¼Œæ¯æ¬¡+2

# ç¤ºä¾‹3ï¼šå®é™…åº”ç”¨ - ç»™æ–‡ä»¶ç¼–å·
filenames = ['photo1.jpg', 'photo2.jpg', 'photo3.jpg']
file_counter = itertools.count(1)

for filename in filenames:
    file_id = next(file_counter)
    print(f"æ–‡ä»¶ç¼–å·{file_id}: {filename}")
```

### 2.2 cycle() - å¾ªç¯é‡å¤å™¨


**ğŸ¯ ä½œç”¨**ï¼šæŠŠä¸€ä¸ªåºåˆ—æ— é™å¾ªç¯é‡å¤ï¼Œæ°¸è¿œä¸åœæ­¢ã€‚

**ğŸ“ é€šä¿—ç†è§£**ï¼šå°±åƒæ’­æ”¾åˆ—è¡¨çš„å¾ªç¯æ’­æ”¾ï¼Œæ­Œæ›²æ’­å®Œäº†å°±é‡å¤´å¼€å§‹ã€‚

**å®ç”¨ç¤ºä¾‹**ï¼š
```python
# ç¤ºä¾‹1ï¼šåŸºç¡€å¾ªç¯
colors = itertools.cycle(['çº¢', 'ç»¿', 'è“'])
for i, color in enumerate(colors):
    if i >= 8:  # åªå–å‰8ä¸ª
        break
    print(f"ç¬¬{i+1}ä¸ªé¢œè‰²: {color}")

# è¾“å‡ºï¼šçº¢, ç»¿, è“, çº¢, ç»¿, è“, çº¢, ç»¿

# ç¤ºä¾‹2ï¼šå®é™…åº”ç”¨ - è½®ç­å®‰æ’
workers = itertools.cycle(['å¼ ä¸‰', 'æå››', 'ç‹äº”'])
for day in range(1, 11):  # 10å¤©çš„æ’ç­
    worker = next(workers)
    print(f"ç¬¬{day}å¤©å€¼ç­: {worker}")

# ç¤ºä¾‹3ï¼šæ•°æ®å¤„ç† - æ‰¹æ¬¡æ ‡è®°
batch_labels = itertools.cycle(['A', 'B', 'C'])
data = [1, 2, 3, 4, 5, 6, 7, 8, 9]

for item, label in zip(data, batch_labels):
    print(f"æ•°æ®{item} â†’ æ‰¹æ¬¡{label}")
```

### 2.3 repeat() - å€¼é‡å¤å™¨


**ğŸ¯ ä½œç”¨**ï¼šæŠŠåŒä¸€ä¸ªå€¼é‡å¤æŒ‡å®šæ¬¡æ•°ï¼ˆæˆ–æ— é™æ¬¡ï¼‰ã€‚

**ğŸ“ é€šä¿—ç†è§£**ï¼šå°±åƒå¤è¯»æœºï¼Œä¸€ç›´é‡å¤è¯´åŒä¸€å¥è¯ã€‚

**åŸºæœ¬è¯­æ³•**ï¼š
```python
itertools.repeat(object, times=None)
# object: è¦é‡å¤çš„å€¼
# times: é‡å¤æ¬¡æ•°ï¼ˆä¸æŒ‡å®šåˆ™æ— é™é‡å¤ï¼‰
```

**å®ç”¨ç¤ºä¾‹**ï¼š
```python
# ç¤ºä¾‹1ï¼šæœ‰é™é‡å¤
hello_5times = itertools.repeat('Hello', 5)
print(list(hello_5times))  # ['Hello', 'Hello', 'Hello', 'Hello', 'Hello']

# ç¤ºä¾‹2ï¼šé…åˆå…¶ä»–å‡½æ•°ä½¿ç”¨
numbers = [1, 2, 3, 4, 5]
multiplier = itertools.repeat(10, 5)  # é‡å¤5æ¬¡æ•°å­—10

result = [x * y for x, y in zip(numbers, multiplier)]
print(result)  # [10, 20, 30, 40, 50] - æ¯ä¸ªæ•°éƒ½ä¹˜ä»¥10

# ç¤ºä¾‹3ï¼šå®é™…åº”ç”¨ - å¡«å……é»˜è®¤å€¼
user_inputs = ['å¼ ä¸‰', 'æå››']  # ç”¨æˆ·åªè¾“å…¥äº†2ä¸ªåå­—
default_name = itertools.repeat('åŒ¿åç”¨æˆ·', 3)  # éœ€è¦å¡«å……3ä¸ªé»˜è®¤å€¼

all_names = user_inputs + list(default_name)
print(all_names)  # ['å¼ ä¸‰', 'æå››', 'åŒ¿åç”¨æˆ·', 'åŒ¿åç”¨æˆ·', 'åŒ¿åç”¨æˆ·']
```

### 2.4 æ— é™è¿­ä»£å™¨çš„æ³¨æ„äº‹é¡¹


> âš ï¸ **é‡è¦æé†’**ï¼šæ— é™è¿­ä»£å™¨ä¼šä¸€ç›´äº§ç”Ÿæ•°æ®ï¼Œ**å¿…é¡»**è®¾ç½®åœæ­¢æ¡ä»¶ï¼Œå¦åˆ™ç¨‹åºä¼šæ— é™è¿è¡Œï¼

**å®‰å…¨ä½¿ç”¨æ–¹æ³•**ï¼š
```python
# âœ… æ­£ç¡®ï¼šä½¿ç”¨enumerate + break
counter = itertools.count()
for i, num in enumerate(counter):
    if i >= 100:  # è®¾ç½®åœæ­¢æ¡ä»¶
        break
    # å¤„ç†æ•°æ®...

# âœ… æ­£ç¡®ï¼šä½¿ç”¨zipé™åˆ¶é•¿åº¦
data = [1, 2, 3, 4, 5]
infinite_labels = itertools.cycle(['A', 'B'])
result = list(zip(data, infinite_labels))  # zipä¼šåœ¨æœ€çŸ­åºåˆ—ç»“æŸæ—¶åœæ­¢

# âœ… æ­£ç¡®ï¼šä½¿ç”¨isliceåˆ‡ç‰‡
from itertools import islice
first_10 = list(islice(itertools.count(), 10))  # åªå–å‰10ä¸ª
```

---

## 3. ğŸ§® ç´¯ç§¯è®¡ç®—å·¥å…·


### 3.1 accumulate() åŸºç¡€æ¦‚å¿µ


**ğŸ¯ ä½œç”¨**ï¼šå¯¹åºåˆ—è¿›è¡Œç´¯ç§¯è®¡ç®—ï¼Œæ¯ä¸€æ­¥éƒ½ä¿ç•™ä¸­é—´ç»“æœã€‚

**ğŸ“ é€šä¿—ç†è§£**ï¼šå°±åƒè®°è´¦æœ¬ï¼Œæ¯ä¸€ç¬”éƒ½è®°å½•å½“å‰çš„æ€»é¢ã€‚

**åŸºæœ¬è¯­æ³•**ï¼š
```python
itertools.accumulate(iterable, func=operator.add, initial=None)
# iterable: è¦å¤„ç†çš„åºåˆ—
# func: ç´¯ç§¯å‡½æ•°ï¼ˆé»˜è®¤æ˜¯åŠ æ³•ï¼‰
# initial: åˆå§‹å€¼ï¼ˆå¯é€‰ï¼‰
```

### 3.2 ç´¯åŠ è®¡ç®—ï¼ˆé»˜è®¤è¡Œä¸ºï¼‰


```python
import itertools

# ç¤ºä¾‹1ï¼šåŸºç¡€ç´¯åŠ 
numbers = [1, 2, 3, 4, 5]
cumsum = list(itertools.accumulate(numbers))
print(f"åŸå§‹æ•°æ®: {numbers}")
print(f"ç´¯ç§¯å’Œ: {cumsum}")

# è¯¦ç»†è¿‡ç¨‹è§£é‡Šï¼š
# ç¬¬1æ­¥: 1
# ç¬¬2æ­¥: 1 + 2 = 3  
# ç¬¬3æ­¥: 3 + 3 = 6
# ç¬¬4æ­¥: 6 + 4 = 10
# ç¬¬5æ­¥: 10 + 5 = 15
# ç»“æœ: [1, 3, 6, 10, 15]

# ç¤ºä¾‹2ï¼šå®é™…åº”ç”¨ - é”€å”®ç´¯è®¡
daily_sales = [100, 150, 200, 80, 120]  # æ¯æ—¥é”€å”®é¢
cumulative_sales = list(itertools.accumulate(daily_sales))

for day, (daily, total) in enumerate(zip(daily_sales, cumulative_sales), 1):
    print(f"ç¬¬{day}å¤©: å½“æ—¥{daily}å…ƒ, ç´¯è®¡{total}å…ƒ")
```

### 3.3 è‡ªå®šä¹‰ç´¯ç§¯å‡½æ•°


```python
import operator

# ç¤ºä¾‹1ï¼šç´¯ç§¯ä¹˜æ³•
numbers = [2, 3, 4, 5]
cumulative_product = list(itertools.accumulate(numbers, operator.mul))
print(f"ç´¯ç§¯ä¹˜ç§¯: {cumulative_product}")  # [2, 6, 24, 120]

# ç¤ºä¾‹2ï¼šå¯»æ‰¾æœ€å¤§å€¼
scores = [85, 92, 78, 96, 88]
running_max = list(itertools.accumulate(scores, max))
print(f"å†å²æœ€é«˜åˆ†: {running_max}")  # [85, 92, 92, 96, 96]

# ç¤ºä¾‹3ï¼šè‡ªå®šä¹‰å‡½æ•° - å­—ç¬¦ä¸²æ‹¼æ¥
words = ['Hello', 'World', 'Python', 'Programming']
sentence_building = list(itertools.accumulate(words, lambda x, y: x + ' ' + y))
print("å¥å­æ„å»ºè¿‡ç¨‹:")
for i, sentence in enumerate(sentence_building, 1):
    print(f"ç¬¬{i}æ­¥: {sentence}")
```

### 3.4 ä½¿ç”¨åˆå§‹å€¼


```python
# ç¤ºä¾‹1ï¼šå¸¦åˆå§‹å€¼çš„ç´¯åŠ 
numbers = [10, 20, 30]
with_initial = list(itertools.accumulate(numbers, initial=100))
print(f"å¸¦åˆå§‹å€¼100çš„ç´¯åŠ : {with_initial}")  # [100, 110, 130, 160]

# ç¤ºä¾‹2ï¼šå®é™…åº”ç”¨ - é“¶è¡Œè´¦æˆ·ä½™é¢
transactions = [500, -200, 300, -100]  # å­˜æ¬¾å’Œå–æ¬¾è®°å½•
initial_balance = 1000  # åˆå§‹ä½™é¢

balance_history = list(itertools.accumulate(transactions, initial=initial_balance))
print("è´¦æˆ·ä½™é¢å˜åŒ–:")
print(f"åˆå§‹ä½™é¢: {balance_history[0]}å…ƒ")

for i, (transaction, balance) in enumerate(zip(transactions, balance_history[1:]), 1):
    action = "å­˜å…¥" if transaction > 0 else "å–å‡º"
    print(f"ç¬¬{i}ç¬”äº¤æ˜“: {action}{abs(transaction)}å…ƒ, ä½™é¢: {balance}å…ƒ")
```

---

## 4. ğŸ”— è¿­ä»£å™¨è¿æ¥æ“ä½œ


### 4.1 chain() åŸºç¡€è¿æ¥


**ğŸ¯ ä½œç”¨**ï¼šæŠŠå¤šä¸ªåºåˆ—é¦–å°¾ç›¸è¿ï¼Œå˜æˆä¸€ä¸ªè¿ç»­çš„åºåˆ—ã€‚

**ğŸ“ é€šä¿—ç†è§£**ï¼šå°±åƒæŠŠå‡ æ¡ç»³å­æ‰“ç»“è¿åœ¨ä¸€èµ·ï¼Œå˜æˆä¸€æ¡é•¿ç»³å­ã€‚

```python
# ç¤ºä¾‹1ï¼šåŸºç¡€è¿æ¥
list1 = [1, 2, 3]
list2 = ['a', 'b', 'c'] 
list3 = [True, False]

connected = list(itertools.chain(list1, list2, list3))
print(f"è¿æ¥ç»“æœ: {connected}")  # [1, 2, 3, 'a', 'b', 'c', True, False]

# ç¤ºä¾‹2ï¼šå®é™…åº”ç”¨ - åˆå¹¶å¤šä¸ªæ–‡ä»¶çš„æ•°æ®
morning_data = ['ç”¨æˆ·1ç™»å½•', 'ç”¨æˆ·2è´­ä¹°']
afternoon_data = ['ç”¨æˆ·3æ³¨å†Œ', 'ç”¨æˆ·1é€€å‡º']
evening_data = ['ç”¨æˆ·4ç™»å½•', 'ç”¨æˆ·2è¯„ä»·']

all_day_logs = list(itertools.chain(morning_data, afternoon_data, evening_data))
print("å…¨å¤©æ—¥å¿—:")
for i, log in enumerate(all_day_logs, 1):
    print(f"{i}. {log}")
```

### 4.2 chain.from_iterable() é«˜çº§è¿æ¥


**ğŸ¯ ä½œç”¨**ï¼šä¸“é—¨ç”¨æ¥è¿æ¥"åµŒå¥—åºåˆ—"ï¼Œæ¯”å¦‚åˆ—è¡¨çš„åˆ—è¡¨ã€‚

**ğŸ“ é€šä¿—ç†è§£**ï¼šæŠŠè£…åœ¨ç›’å­é‡Œçš„å¤šä¸ªå°ç›’å­éƒ½å€’å‡ºæ¥ï¼Œæ··åœ¨ä¸€èµ·ã€‚

```python
# ç¤ºä¾‹1ï¼šæ‰å¹³åŒ–åµŒå¥—åˆ—è¡¨
nested_lists = [[1, 2], [3, 4, 5], [6]]
flattened = list(itertools.chain.from_iterable(nested_lists))
print(f"æ‰å¹³åŒ–ç»“æœ: {flattened}")  # [1, 2, 3, 4, 5, 6]

# ç¤ºä¾‹2ï¼šå®é™…åº”ç”¨ - å¤„ç†åˆ†ç»„æ•°æ®
departments = [
    ['å¼ ä¸‰', 'æå››'],      # æŠ€æœ¯éƒ¨
    ['ç‹äº”', 'èµµå…­', 'é’±ä¸ƒ'], # é”€å”®éƒ¨  
    ['å­™å…«']               # è´¢åŠ¡éƒ¨
]

all_employees = list(itertools.chain.from_iterable(departments))
print(f"å…¬å¸å…¨ä½“å‘˜å·¥: {all_employees}")

# ç¤ºä¾‹3ï¼šå¤„ç†æ–‡ä»¶è·¯å¾„
folder_contents = [
    ['photo1.jpg', 'photo2.jpg'],
    ['doc1.pdf', 'doc2.pdf', 'doc3.pdf'],
    ['music.mp3']
]

all_files = list(itertools.chain.from_iterable(folder_contents))
print("æ‰€æœ‰æ–‡ä»¶:")
for i, filename in enumerate(all_files, 1):
    print(f"{i}. {filename}")
```

### 4.3 è¿æ¥æ“ä½œçš„æ€§èƒ½ä¼˜åŠ¿


```python
# å¯¹æ¯”ï¼šä¼ ç»Ÿæ–¹æ³• vs itertools.chain

# âŒ ä¼ ç»Ÿæ–¹æ³•ï¼ˆæ•ˆç‡è¾ƒä½ï¼‰
def traditional_merge(lists):
    result = []
    for lst in lists:
        for item in lst:
            result.append(item)
    return result

# âœ… itertoolsæ–¹æ³•ï¼ˆæ•ˆç‡æ›´é«˜ï¼‰
def itertools_merge(lists):
    return list(itertools.chain.from_iterable(lists))

# å®é™…æµ‹è¯•
data = [[i] * 1000 for i in range(100)]  # 100ä¸ªåŒ…å«1000ä¸ªå…ƒç´ çš„åˆ—è¡¨

# itertools.chain çš„ä¼˜åŠ¿ï¼š
# â€¢ å†…å­˜æ•ˆç‡é«˜ï¼šå»¶è¿Ÿè®¡ç®—ï¼Œä¸ä¼šç«‹å³åˆ›å»ºå®Œæ•´åˆ—è¡¨
# â€¢ é€Ÿåº¦å¿«ï¼šåº•å±‚Cå®ç°
# â€¢ ä»£ç ç®€æ´ï¼šä¸€è¡Œä»£ç å®Œæˆå¤æ‚é€»è¾‘
```

---

## 5. ğŸ” æ¡ä»¶è¿‡æ»¤å·¥å…·


### 5.1 compress() åŸºç¡€æ¦‚å¿µ


**ğŸ¯ ä½œç”¨**ï¼šæ ¹æ®å¸ƒå°”å€¼åºåˆ—æ¥è¿‡æ»¤æ•°æ®ï¼ŒTrueä¿ç•™ï¼ŒFalseä¸¢å¼ƒã€‚

**ğŸ“ é€šä¿—ç†è§£**ï¼šå°±åƒæœ‰ä¸€ä¸ªå¼€å…³åˆ—è¡¨ï¼Œå¼€å…³æ˜¯å¼€(True)çš„ä½ç½®ä¿ç•™æ•°æ®ï¼Œå…³(False)çš„ä½ç½®è·³è¿‡æ•°æ®ã€‚

**åŸºæœ¬è¯­æ³•**ï¼š
```python
itertools.compress(data, selectors)
# data: è¦è¿‡æ»¤çš„æ•°æ®åºåˆ—
# selectors: å¸ƒå°”å€¼åºåˆ—ï¼ˆTrue/Falseçš„é€‰æ‹©å™¨ï¼‰
```

### 5.2 åŸºç¡€è¿‡æ»¤æ“ä½œ


```python
# ç¤ºä¾‹1ï¼šåŸºç¡€è¿‡æ»¤
students = ['å¼ ä¸‰', 'æå››', 'ç‹äº”', 'èµµå…­', 'é’±ä¸ƒ']
passed = [True, False, True, True, False]  # æ˜¯å¦é€šè¿‡è€ƒè¯•

passed_students = list(itertools.compress(students, passed))
print(f"é€šè¿‡è€ƒè¯•çš„å­¦ç”Ÿ: {passed_students}")  # ['å¼ ä¸‰', 'ç‹äº”', 'èµµå…­']

# ç¤ºä¾‹2ï¼šæ•°å€¼è¿‡æ»¤
numbers = [10, 25, 30, 45, 50, 65]
conditions = [x > 30 for x in numbers]  # å¤§äº30çš„æ¡ä»¶
print(f"è¿‡æ»¤æ¡ä»¶: {conditions}")  # [False, False, False, True, True, True]

filtered_numbers = list(itertools.compress(numbers, conditions))
print(f"å¤§äº30çš„æ•°å­—: {filtered_numbers}")  # [45, 50, 65]
```

### 5.3 å®é™…åº”ç”¨åœºæ™¯


```python
# ç¤ºä¾‹1ï¼šæ ¹æ®ç”¨æˆ·æƒé™è¿‡æ»¤åŠŸèƒ½
features = ['æŸ¥çœ‹', 'ç¼–è¾‘', 'åˆ é™¤', 'å¯¼å‡º', 'ç®¡ç†']
user_permissions = [True, True, False, True, False]  # ç”¨æˆ·æƒé™

available_features = list(itertools.compress(features, user_permissions))
print(f"ç”¨æˆ·å¯ç”¨åŠŸèƒ½: {available_features}")  # ['æŸ¥çœ‹', 'ç¼–è¾‘', 'å¯¼å‡º']

# ç¤ºä¾‹2ï¼šæ ¹æ®åº“å­˜çŠ¶æ€è¿‡æ»¤å•†å“
products = ['æ‰‹æœº', 'ç”µè„‘', 'å¹³æ¿', 'è€³æœº', 'å……ç”µå™¨']
in_stock = [True, False, True, True, False]  # åº“å­˜çŠ¶æ€

available_products = list(itertools.compress(products, in_stock))
print(f"æœ‰åº“å­˜å•†å“: {available_products}")  # ['æ‰‹æœº', 'å¹³æ¿', 'è€³æœº']

# ç¤ºä¾‹3ï¼šæ•°æ®æ¸…æ´— - è¿‡æ»¤æœ‰æ•ˆæ•°æ®
data = [100, None, 200, 0, 300, '', 400]
valid_mask = [x is not None and x != '' and x != 0 for x in data]

clean_data = list(itertools.compress(data, valid_mask))
print(f"æ¸…æ´—åæ•°æ®: {clean_data}")  # [100, 200, 300, 400]
```

### 5.4 ä¸å…¶ä»–å·¥å…·é…åˆä½¿ç”¨


```python
# ç¤ºä¾‹1ï¼šé…åˆzipä½¿ç”¨
names = ['Alice', 'Bob', 'Charlie', 'David']
ages = [25, 17, 30, 16]
scores = [85, 90, 75, 95]

# è¿‡æ»¤å‡ºæˆå¹´äººçš„ä¿¡æ¯
adult_mask = [age >= 18 for age in ages]
adult_info = list(zip(
    itertools.compress(names, adult_mask),
    itertools.compress(ages, adult_mask), 
    itertools.compress(scores, adult_mask)
))

print("æˆå¹´äººä¿¡æ¯:")
for name, age, score in adult_info:
    print(f"{name}: {age}å², åˆ†æ•°{score}")

# ç¤ºä¾‹2ï¼šå¤šæ¡ä»¶è¿‡æ»¤
products = ['è‹¹æœ', 'é¦™è•‰', 'æ©™å­', 'è‘¡è„', 'è¥¿ç“œ']
prices = [5.0, 3.0, 4.0, 8.0, 15.0]
ratings = [4.5, 3.8, 4.2, 4.8, 4.0]

# ç­›é€‰ä»·æ ¼é€‚ä¸­ä¸”è¯„åˆ†ä¸é”™çš„å•†å“
good_value_mask = [(price <= 6.0) and (rating >= 4.0) for price, rating in zip(prices, ratings)]
recommended = list(itertools.compress(products, good_value_mask))

print(f"æ¨èå•†å“: {recommended}")  # ['è‹¹æœ', 'æ©™å­']
```

---

## 6. ğŸ² ç»„åˆè¿­ä»£å™¨è¯¦è§£


### 6.1 product() - ç¬›å¡å°”ç§¯


**ğŸ¯ ä½œç”¨**ï¼šè®¡ç®—å¤šä¸ªåºåˆ—çš„ç¬›å¡å°”ç§¯ï¼Œå°±æ˜¯æ‰€æœ‰å¯èƒ½çš„ç»„åˆé…å¯¹ã€‚

**ğŸ“ é€šä¿—ç†è§£**ï¼šå°±åƒæ­é…è¡£æœï¼Œæœ‰3ä»¶ä¸Šè¡£å’Œ2æ¡è£¤å­ï¼Œèƒ½æ­é…å‡º3Ã—2=6ç§ç©¿æ³•ã€‚

```python
# ç¤ºä¾‹1ï¼šåŸºç¡€ç¬›å¡å°”ç§¯
colors = ['çº¢', 'è“']
sizes = ['S', 'M', 'L']

combinations = list(itertools.product(colors, sizes))
print("æ‰€æœ‰é¢œè‰²å°ºå¯¸ç»„åˆ:")
for color, size in combinations:
    print(f"{color}è‰²-{size}ç ")

# è¾“å‡ºï¼šçº¢è‰²-Sç , çº¢è‰²-Mç , çº¢è‰²-Lç , è“è‰²-Sç , è“è‰²-Mç , è“è‰²-Lç 

# ç¤ºä¾‹2ï¼šå®é™…åº”ç”¨ - ç”Ÿæˆæµ‹è¯•ç”¨ä¾‹
browsers = ['Chrome', 'Firefox']
systems = ['Windows', 'Mac']
versions = ['æ–°ç‰ˆæœ¬', 'æ—§ç‰ˆæœ¬']

test_cases = list(itertools.product(browsers, systems, versions))
print(f"éœ€è¦æµ‹è¯• {len(test_cases)} ç§ç»„åˆ:")
for i, (browser, system, version) in enumerate(test_cases, 1):
    print(f"æµ‹è¯•{i}: {browser} + {system} + {version}")
```

### 6.2 product() çš„é‡å¤å‚æ•°


```python
# ç¤ºä¾‹1ï¼šé‡å¤è‡ªèº«
dice_results = list(itertools.product([1,2,3,4,5,6], repeat=2))
print(f"æ·ä¸¤æ¬¡éª°å­çš„æ‰€æœ‰å¯èƒ½: {len(dice_results)}ç§")
# æ˜¾ç¤ºå‰å‡ ç§æƒ…å†µ
for i, (first, second) in enumerate(dice_results[:10]):
    print(f"ç¬¬{i+1}ç§: ç¬¬ä¸€æ¬¡{first}, ç¬¬äºŒæ¬¡{second}")

# ç¤ºä¾‹2ï¼šå¯†ç ç”Ÿæˆå™¨åŸç†
digits = '0123456789'
simple_passwords = [''.join(p) for p in itertools.product(digits, repeat=3)]
print(f"3ä½æ•°å­—å¯†ç å…±æœ‰: {len(simple_passwords)}ç§")
print(f"å‰10ä¸ª: {simple_passwords[:10]}")
```

### 6.3 permutations() - æ’åˆ—


**ğŸ¯ ä½œç”¨**ï¼šç”Ÿæˆåºåˆ—çš„æ‰€æœ‰å¯èƒ½æ’åˆ—ï¼Œ**é¡ºåºå¾ˆé‡è¦**ã€‚

**ğŸ“ é€šä¿—ç†è§£**ï¼šå°±åƒæ’é˜Ÿï¼Œ3ä¸ªäººå¯ä»¥æœ‰6ç§ä¸åŒçš„æ’é˜Ÿé¡ºåºã€‚

```python
# ç¤ºä¾‹1ï¼šåŸºç¡€æ’åˆ—
people = ['å¼ ä¸‰', 'æå››', 'ç‹äº”']
arrangements = list(itertools.permutations(people))

print(f"3äººæ’é˜Ÿçš„æ‰€æœ‰æ–¹å¼({len(arrangements)}ç§):")
for i, arrangement in enumerate(arrangements, 1):
    print(f"æ–¹å¼{i}: {' â†’ '.join(arrangement)}")

# ç¤ºä¾‹2ï¼šæŒ‡å®šé•¿åº¦çš„æ’åˆ—
letters = ['A', 'B', 'C', 'D']
two_letter_codes = list(itertools.permutations(letters, 2))

print(f"ä»4ä¸ªå­—æ¯ä¸­é€‰2ä¸ªçš„æ’åˆ—({len(two_letter_codes)}ç§):")
for code in two_letter_codes:
    print(''.join(code), end=' ')
print()  # AB AC AD BA BC BD CA CB CD DA DB DC

# ç¤ºä¾‹3ï¼šå®é™…åº”ç”¨ - æ¯”èµ›æ’å
contestants = ['é€‰æ‰‹A', 'é€‰æ‰‹B', 'é€‰æ‰‹C']
possible_rankings = list(itertools.permutations(contestants))

print("æ‰€æœ‰å¯èƒ½çš„æ’åç»“æœ:")
for i, ranking in enumerate(possible_rankings, 1):
    print(f"å¯èƒ½{i}: å† å†›{ranking[0]}, äºšå†›{ranking[1]}, å­£å†›{ranking[2]}")
```

### 6.4 combinations() - ç»„åˆ


**ğŸ¯ ä½œç”¨**ï¼šç”Ÿæˆåºåˆ—çš„æ‰€æœ‰å¯èƒ½ç»„åˆï¼Œ**é¡ºåºä¸é‡è¦**ã€‚

**ğŸ“ é€šä¿—ç†è§£**ï¼šå°±åƒä»ç­çº§é‡Œé€‰ä»£è¡¨ï¼Œé€‰å‡ºæ¥çš„3ä¸ªäººä¸åˆ†å…ˆåé¡ºåºã€‚

```python
# ç¤ºä¾‹1ï¼šåŸºç¡€ç»„åˆ
fruits = ['è‹¹æœ', 'é¦™è•‰', 'æ©™å­', 'è‘¡è„']
fruit_pairs = list(itertools.combinations(fruits, 2))

print(f"ä»4ç§æ°´æœä¸­é€‰2ç§çš„ç»„åˆ({len(fruit_pairs)}ç§):")
for pair in fruit_pairs:
    print(f"{pair[0]} + {pair[1]}")

# ç¤ºä¾‹2ï¼šå®é™…åº”ç”¨ - å›¢é˜Ÿç»„å»º
employees = ['å¼ ä¸‰', 'æå››', 'ç‹äº”', 'èµµå…­']
teams = list(itertools.combinations(employees, 3))

print(f"ä»4äººä¸­é€‰3äººç»„é˜Ÿçš„æ–¹æ¡ˆ({len(teams)}ç§):")
for i, team in enumerate(teams, 1):
    print(f"æ–¹æ¡ˆ{i}: {', '.join(team)}")

# ç¤ºä¾‹3ï¼šé€‰è¯¾ç»„åˆ
courses = ['æ•°å­¦', 'ç‰©ç†', 'åŒ–å­¦', 'ç”Ÿç‰©', 'å†å²']
course_selection = list(itertools.combinations(courses, 3))

print(f"ä»5é—¨è¯¾ä¸­é€‰3é—¨çš„ç»„åˆ({len(course_selection)}ç§):")
for i, selection in enumerate(course_selection[:5], 1):  # åªæ˜¾ç¤ºå‰5ç§
    print(f"é€‰æ‹©{i}: {', '.join(selection)}")
```

### 6.5 combinations_with_replacement() - å…è®¸é‡å¤çš„ç»„åˆ


**ğŸ¯ ä½œç”¨**ï¼šç”Ÿæˆå…è®¸é‡å¤å…ƒç´ çš„ç»„åˆã€‚

**ğŸ“ é€šä¿—ç†è§£**ï¼šå°±åƒç‚¹é¤ï¼Œå¯ä»¥ç‚¹ä¸¤ä»½åŒæ ·çš„èœã€‚

```python
# ç¤ºä¾‹1ï¼šåŸºç¡€é‡å¤ç»„åˆ
colors = ['çº¢', 'ç»¿', 'è“']
color_combinations = list(itertools.combinations_with_replacement(colors, 2))

print("å¯é‡å¤çš„é¢œè‰²ç»„åˆ:")
for combo in color_combinations:
    print(f"{combo[0]} + {combo[1]}")
# è¾“å‡ºï¼šçº¢+çº¢, çº¢+ç»¿, çº¢+è“, ç»¿+ç»¿, ç»¿+è“, è“+è“

# ç¤ºä¾‹2ï¼šå®é™…åº”ç”¨ - è´­ç‰©ç»„åˆ
items = ['ç¬”', 'æœ¬å­', 'æ©¡çš®']
shopping_combos = list(itertools.combinations_with_replacement(items, 3))

print(f"ä¹°3æ ·ä¸œè¥¿çš„ç»„åˆ({len(shopping_combos)}ç§):")
for i, combo in enumerate(shopping_combos, 1):
    print(f"ç»„åˆ{i}: {', '.join(combo)}")
```

### 6.6 ç»„åˆå·¥å…·çš„æ•°å­¦è§„å¾‹


```python
# ç†è§£æ•°å­¦è§„å¾‹
n = 4  # æ€»å…ƒç´ ä¸ªæ•°
r = 2  # é€‰æ‹©ä¸ªæ•°

print("æ•°å­¦å…¬å¼éªŒè¯:")
print(f"ä»{n}ä¸ªå…ƒç´ ä¸­:")

# æ’åˆ—æ•°ï¼šP(n,r) = n!/(n-r)!
perm_count = len(list(itertools.permutations(range(n), r)))
print(f"é€‰{r}ä¸ªçš„æ’åˆ—æ•°: {perm_count} (é¡ºåºé‡è¦)")

# ç»„åˆæ•°ï¼šC(n,r) = n!/[r!(n-r)!]
comb_count = len(list(itertools.combinations(range(n), r)))
print(f"é€‰{r}ä¸ªçš„ç»„åˆæ•°: {comb_count} (é¡ºåºä¸é‡è¦)")

# å¯é‡å¤ç»„åˆæ•°ï¼šC(n+r-1,r)
comb_rep_count = len(list(itertools.combinations_with_replacement(range(n), r)))
print(f"å¯é‡å¤ç»„åˆæ•°: {comb_rep_count} (å…è®¸é‡å¤)")

# ç¬›å¡å°”ç§¯ï¼šn^r
product_count = len(list(itertools.product(range(n), repeat=r)))
print(f"ç¬›å¡å°”ç§¯æ•°é‡: {product_count} (å®Œå…¨ç‹¬ç«‹é€‰æ‹©)")
```

---

## 7. ğŸ”¬ è¿­ä»£å™¨è¿‡æ»¤ä¸åˆ†ç»„


### 7.1 filterfalse() - åå‘è¿‡æ»¤


**ğŸ¯ ä½œç”¨**ï¼šä¿ç•™ä¸æ»¡è¶³æ¡ä»¶çš„å…ƒç´ ï¼Œæ˜¯å†…ç½®filter()çš„åå‘ç‰ˆæœ¬ã€‚

**ğŸ“ é€šä¿—ç†è§£**ï¼šfilter()é€‰ä¸­å¥½çš„ç•™ä¸‹ï¼Œfilterfalse()é€‰ä¸­åçš„ç•™ä¸‹ã€‚

```python
# ç¤ºä¾‹1ï¼šåŸºç¡€åå‘è¿‡æ»¤
numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]

# æ™®é€šfilterï¼šä¿ç•™å¶æ•°
even_numbers = list(filter(lambda x: x % 2 == 0, numbers))
print(f"å¶æ•°: {even_numbers}")  # [2, 4, 6, 8, 10]

# filterfalseï¼šä¿ç•™å¥‡æ•°ï¼ˆä¸æ˜¯å¶æ•°çš„ï¼‰
odd_numbers = list(itertools.filterfalse(lambda x: x % 2 == 0, numbers))
print(f"å¥‡æ•°: {odd_numbers}")  # [1, 3, 5, 7, 9]

# ç¤ºä¾‹2ï¼šå®é™…åº”ç”¨ - æ•°æ®æ¸…æ´—
scores = [85, 45, 92, 38, 76, 28, 95]
passing_score = 60

failed_students = list(itertools.filterfalse(lambda x: x >= passing_score, scores))
print(f"ä¸åŠæ ¼åˆ†æ•°: {failed_students}")  # [45, 38, 28]
```

### 7.2 takewhile() å’Œ dropwhile() - æ¡ä»¶æˆªæ–­


**ğŸ¯ takewhileä½œç”¨**ï¼šä»å¤´å¼€å§‹å–å…ƒç´ ï¼Œç›´åˆ°é‡åˆ°ç¬¬ä¸€ä¸ªä¸æ»¡è¶³æ¡ä»¶çš„å°±åœæ­¢ã€‚
**ğŸ¯ dropwhileä½œç”¨**ï¼šä»å¤´å¼€å§‹ä¸¢å¼ƒå…ƒç´ ï¼Œç›´åˆ°é‡åˆ°ç¬¬ä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„ï¼Œç„¶åè¿”å›å‰©ä½™æ‰€æœ‰å…ƒç´ ã€‚

```python
# ç¤ºä¾‹1ï¼štakewhile - è¿ç»­æ»¡è¶³æ¡ä»¶çš„å…ƒç´ 
scores = [85, 90, 78, 92, 88, 65, 95]

# ä»å¼€å¤´å–è¿ç»­çš„é«˜åˆ†ï¼ˆâ‰¥80ï¼‰
high_scores_start = list(itertools.takewhile(lambda x: x >= 80, scores))
print(f"å¼€å¤´è¿ç»­é«˜åˆ†: {high_scores_start}")  # [85, 90] é‡åˆ°78å°±åœæ­¢

# ç¤ºä¾‹2ï¼šdropwhile - è·³è¿‡å¼€å¤´ä¸æ»¡è¶³æ¡ä»¶çš„
temperatures = [15, 18, 16, 22, 25, 28, 20, 24]

# è·³è¿‡å¼€å¤´çš„ä½æ¸©ï¼ˆ<20ï¼‰ï¼Œç„¶åè¿”å›å‰©ä½™æ‰€æœ‰æ¸©åº¦
after_cold = list(itertools.dropwhile(lambda x: x < 20, temperatures))
print(f"è·³è¿‡ä½æ¸©å: {after_cold}")  # [22, 25, 28, 20, 24]

# ç¤ºä¾‹3ï¼šå®é™…åº”ç”¨ - å¤„ç†æ—¥å¿—
log_lines = [
    "# æ³¨é‡Šè¡Œ",
    "# å¦ä¸€ä¸ªæ³¨é‡Š", 
    "æ•°æ®1",
    "æ•°æ®2",
    "# ä¸­é—´æ³¨é‡Š",
    "æ•°æ®3"
]

# è·³è¿‡å¼€å¤´çš„æ³¨é‡Šè¡Œ
actual_data = list(itertools.dropwhile(lambda x: x.startswith('#'), log_lines))
print("è·³è¿‡å¼€å¤´æ³¨é‡Šåçš„æ•°æ®:")
for line in actual_data:
    print(f"  {line}")
```

### 7.3 groupby() - åˆ†ç»„å·¥å…·


**ğŸ¯ ä½œç”¨**ï¼šå°†ç›¸é‚»çš„ç›¸åŒå…ƒç´ åˆ†ç»„ã€‚

**ğŸ“ é€šä¿—ç†è§£**ï¼šå°±åƒæ•´ç†ä¹¦æ¶ï¼ŒæŠŠç›¸åŒç±»å‹çš„ä¹¦æ”¾åœ¨ä¸€èµ·ã€‚

> âš ï¸ **é‡è¦æé†’**ï¼šgroupby()åªèƒ½åˆ†ç»„**ç›¸é‚»**çš„ç›¸åŒå…ƒç´ ï¼Œå¦‚æœè¦åˆ†ç»„æ‰€æœ‰ç›¸åŒå…ƒç´ ï¼Œéœ€è¦å…ˆæ’åºï¼

```python
# ç¤ºä¾‹1ï¼šåŸºç¡€åˆ†ç»„
data = ['A', 'A', 'B', 'B', 'B', 'C', 'A', 'A']  # æ³¨æ„æœ€ååˆæœ‰A

grouped = itertools.groupby(data)
print("åˆ†ç»„ç»“æœ:")
for key, group in grouped:
    group_list = list(group)
    print(f"ç»„ '{key}': {group_list} (å…±{len(group_list)}ä¸ª)")

# è¾“å‡ºï¼š
# ç»„ 'A': ['A', 'A'] (å…±2ä¸ª)  
# ç»„ 'B': ['B', 'B', 'B'] (å…±3ä¸ª)
# ç»„ 'C': ['C'] (å…±1ä¸ª)
# ç»„ 'A': ['A', 'A'] (å…±2ä¸ª)  â† æ³¨æ„ï¼šæœ€åçš„Aå•ç‹¬æˆç»„

# ç¤ºä¾‹2ï¼šæŒ‰é•¿åº¦åˆ†ç»„å•è¯
words = ['Hi', 'Go', 'Cat', 'Dog', 'Apple', 'Banana']
# å…ˆæŒ‰é•¿åº¦æ’åºï¼Œå†åˆ†ç»„
words_by_length = sorted(words, key=len)
print(f"æŒ‰é•¿åº¦æ’åº: {words_by_length}")

grouped_by_length = itertools.groupby(words_by_length, key=len)
print("æŒ‰é•¿åº¦åˆ†ç»„:")
for length, group in grouped_by_length:
    word_list = list(group)
    print(f"{length}ä¸ªå­—æ¯: {word_list}")
```

### 7.4 groupby() å®é™…åº”ç”¨


```python
# ç¤ºä¾‹1ï¼šé”€å”®æ•°æ®åˆ†æ
sales_data = [
    ('2024-01', 'æ‰‹æœº', 1000),
    ('2024-01', 'ç”µè„‘', 2000), 
    ('2024-01', 'å¹³æ¿', 800),
    ('2024-02', 'æ‰‹æœº', 1200),
    ('2024-02', 'ç”µè„‘', 1800),
    ('2024-03', 'æ‰‹æœº', 900)
]

# æŒ‰æœˆä»½åˆ†ç»„åˆ†æ
monthly_groups = itertools.groupby(sales_data, key=lambda x: x[0])
print("æœˆåº¦é”€å”®åˆ†æ:")
for month, sales in monthly_groups:
    sales_list = list(sales)
    total = sum(sale[2] for sale in sales_list)
    print(f"{month}: {len(sales_list)}ç¬”è®¢å•, æ€»é‡‘é¢{total}å…ƒ")

# ç¤ºä¾‹2ï¼šå­¦ç”Ÿæˆç»©åˆ†æ¡£
students = [
    ('å¼ ä¸‰', 95), ('æå››', 88), ('ç‹äº”', 76), 
    ('èµµå…­', 92), ('é’±ä¸ƒ', 84), ('å­™å…«', 68)
]

# æŒ‰æˆç»©åˆ†æ¡£ï¼ˆå…ˆæ’åºï¼Œå†åˆ†ç»„ï¼‰
def grade_level(score):
    if score >= 90: return 'ä¼˜ç§€'
    elif score >= 80: return 'è‰¯å¥½' 
    elif score >= 70: return 'ä¸­ç­‰'
    else: return 'éœ€æé«˜'

students_by_grade = sorted(students, key=lambda x: grade_level(x[1]))
grade_groups = itertools.groupby(students_by_grade, key=lambda x: grade_level(x[1]))

print("å­¦ç”Ÿæˆç»©åˆ†æ¡£:")
for grade, students_in_grade in grade_groups:
    student_list = list(students_in_grade)
    print(f"{grade}:")
    for name, score in student_list:
        print(f"  {name}: {score}åˆ†")
```

### 7.5 islice() - åˆ‡ç‰‡å·¥å…·


**ğŸ¯ ä½œç”¨**ï¼šå¯¹ä»»ä½•å¯è¿­ä»£å¯¹è±¡è¿›è¡Œåˆ‡ç‰‡æ“ä½œï¼Œä¸ä»…ä»…æ˜¯åˆ—è¡¨ã€‚

```python
# ç¤ºä¾‹1ï¼šåŸºç¡€åˆ‡ç‰‡
numbers = itertools.count(0, 5)  # æ— é™åºåˆ—ï¼š0, 5, 10, 15, ...

# å–ç¬¬3åˆ°ç¬¬8ä¸ªå…ƒç´ ï¼ˆç´¢å¼•2åˆ°7ï¼‰
sliced = list(itertools.islice(numbers, 2, 8))
print(f"åˆ‡ç‰‡ç»“æœ: {sliced}")  # [10, 15, 20, 25, 30, 35]

# ç¤ºä¾‹2ï¼šåˆ†é¡µå¤„ç†
def paginate_data(data, page_size=3):
    """æ•°æ®åˆ†é¡µç”Ÿæˆå™¨"""
    iterator = iter(data)
    while True:
        page = list(itertools.islice(iterator, page_size))
        if not page:
            break
        yield page

# ä½¿ç”¨ç¤ºä¾‹
all_data = list(range(1, 11))  # [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
print("åˆ†é¡µç»“æœ:")
for page_num, page in enumerate(paginate_data(all_data, 3), 1):
    print(f"ç¬¬{page_num}é¡µ: {page}")

# ç¤ºä¾‹3ï¼šå¤„ç†å¤§æ–‡ä»¶çš„å‰å‡ è¡Œ
def read_first_lines(filename, n=5):
    """è¯»å–æ–‡ä»¶çš„å‰nè¡Œï¼Œä¸åŠ è½½æ•´ä¸ªæ–‡ä»¶"""
    with open(filename, 'r', encoding='utf-8') as file:
        return list(itertools.islice(file, n))

# è¿™ç§æ–¹æ³•å¯¹å¤§æ–‡ä»¶ç‰¹åˆ«æœ‰ç”¨ï¼Œåªè¯»å–éœ€è¦çš„éƒ¨åˆ†
```

---

## 8. âš¡ æ€§èƒ½ä¼˜åŒ–å®è·µ


### 8.1 å†…å­˜æ•ˆç‡å¯¹æ¯”


**ğŸ’¡ æ ¸å¿ƒç†å¿µ**ï¼šitertoolså·¥å…·éƒ½æ˜¯"æ‡’æƒ°è®¡ç®—"çš„ï¼Œåªåœ¨éœ€è¦æ—¶æ‰ç”Ÿæˆæ•°æ®ã€‚

```python
import sys

# ç¤ºä¾‹1ï¼šå†…å­˜ä½¿ç”¨å¯¹æ¯”
def memory_comparison():
    # âŒ ç«‹å³ç”Ÿæˆæ‰€æœ‰æ•°æ®ï¼ˆå†…å­˜æ¶ˆè€—å¤§ï¼‰
    big_list = list(range(1000000))  # ç«‹å³åˆ›å»º100ä¸‡ä¸ªæ•°å­—
    print(f"åˆ—è¡¨å†…å­˜å ç”¨: {sys.getsizeof(big_list)} å­—èŠ‚")
    
    # âœ… æ‡’æƒ°ç”Ÿæˆï¼ˆå†…å­˜æ¶ˆè€—å°ï¼‰
    big_range = range(1000000)  # åªæ˜¯ä¸€ä¸ªç”Ÿæˆå™¨
    print(f"rangeå†…å­˜å ç”¨: {sys.getsizeof(big_range)} å­—èŠ‚")
    
    big_count = itertools.count()  # æ— é™ç”Ÿæˆå™¨
    print(f"countå†…å­˜å ç”¨: {sys.getsizeof(big_count)} å­—èŠ‚")

memory_comparison()

# å…³é”®ç†è§£ï¼š
# â€¢ åˆ—è¡¨ï¼šæ‰€æœ‰æ•°æ®éƒ½å­˜åœ¨å†…å­˜ä¸­
# â€¢ itertoolsï¼šåªå­˜å‚¨ç”Ÿæˆè§„åˆ™ï¼ŒæŒ‰éœ€ç”Ÿæˆæ•°æ®
```

### 8.2 å¤„ç†å¤§æ•°æ®é›†çš„æœ€ä½³å®è·µ


```python
# ç¤ºä¾‹1ï¼šé«˜æ•ˆçš„æ•°æ®ç®¡é“
def process_large_dataset(data_source):
    """é«˜æ•ˆå¤„ç†å¤§æ•°æ®é›†çš„ç¤ºä¾‹"""
    
    # æ­¥éª¤1ï¼šè¿‡æ»¤æœ‰æ•ˆæ•°æ®
    valid_data = itertools.filterfalse(lambda x: x is None or x == '', data_source)
    
    # æ­¥éª¤2ï¼šæ·»åŠ åºå·
    numbered_data = zip(itertools.count(1), valid_data)
    
    # æ­¥éª¤3ï¼šåˆ†æ‰¹å¤„ç†
    batch_size = 1000
    data_iter = iter(numbered_data)
    
    while True:
        batch = list(itertools.islice(data_iter, batch_size))
        if not batch:
            break
            
        # å¤„ç†è¿™ä¸€æ‰¹æ•°æ®
        print(f"å¤„ç†æ‰¹æ¬¡: ç¼–å· {batch[0][0]} åˆ° {batch[-1][0]}")
        # å®é™…å¤„ç†é€»è¾‘...

# ç¤ºä¾‹2ï¼šå†…å­˜å‹å¥½çš„æ–‡ä»¶å¤„ç†
def process_csv_efficiently(filename):
    """é«˜æ•ˆå¤„ç†å¤§CSVæ–‡ä»¶"""
    with open(filename, 'r') as file:
        # è·³è¿‡æ ‡é¢˜è¡Œ
        data_lines = itertools.islice(file, 1, None)
        
        # è§£ææ•°æ®
        parsed_data = (line.strip().split(',') for line in data_lines)
        
        # è¿‡æ»¤æœ‰æ•ˆè¡Œ
        valid_rows = itertools.filterfalse(lambda row: len(row) < 3, parsed_data)
        
        # åˆ†ç»„å¤„ç†
        for key, group in itertools.groupby(valid_rows, key=lambda row: row[0]):
            group_list = list(group)
            print(f"å¤„ç†åˆ†ç»„ {key}: {len(group_list)} æ¡è®°å½•")
```

### 8.3 é“¾å¼æ“ä½œä¼˜åŒ–


```python
# ç¤ºä¾‹ï¼šä¼˜é›…çš„é“¾å¼æ•°æ®å¤„ç†
def chain_processing_example():
    # åŸå§‹æ•°æ®
    raw_data = range(1, 101)  # 1åˆ°100çš„æ•°å­—
    
    # é“¾å¼å¤„ç†ï¼šç­›é€‰â†’å˜æ¢â†’åˆ†ç»„â†’ç»Ÿè®¡
    result = (
        # 1. ç­›é€‰å‡º3çš„å€æ•°
        num for num in raw_data if num % 3 == 0
    )
    
    # 2. å¹³æ–¹å˜æ¢
    squared = (num ** 2 for num in result)
    
    # 3. æ·»åŠ æ ‡ç­¾
    labeled = zip(itertools.count(1), squared)
    
    # 4. åˆ†æ‰¹å¤„ç†
    batches = []
    labeled_iter = iter(labeled)
    while True:
        batch = list(itertools.islice(labeled_iter, 5))
        if not batch:
            break
        batches.append(batch)
    
    # æ˜¾ç¤ºç»“æœ
    for i, batch in enumerate(batches, 1):
        print(f"æ‰¹æ¬¡{i}: {batch}")

chain_processing_example()
```

### 8.4 æ€§èƒ½æµ‹è¯•ä¸å¯¹æ¯”


```python
import time

def performance_test():
    """æ€§èƒ½æµ‹è¯•ç¤ºä¾‹"""
    data_size = 100000
    
    # æµ‹è¯•1ï¼šä¼ ç»Ÿå¾ªç¯ vs itertools
    def traditional_approach():
        result = []
        for i in range(data_size):
            if i % 2 == 0:
                result.append(i * 2)
        return result
    
    def itertools_approach():
        evens = filter(lambda x: x % 2 == 0, range(data_size))
        doubled = map(lambda x: x * 2, evens)
        return list(doubled)
    
    # æ€§èƒ½å¯¹æ¯”
    start = time.time()
    result1 = traditional_approach()
    time1 = time.time() - start
    
    start = time.time()
    result2 = itertools_approach()
    time2 = time.time() - start
    
    print(f"ä¼ ç»Ÿæ–¹æ³•è€—æ—¶: {time1:.4f}ç§’")
    print(f"itertoolsæ–¹æ³•è€—æ—¶: {time2:.4f}ç§’")
    print(f"æ€§èƒ½æå‡: {time1/time2:.2f}å€")

# performance_test()  # å¯ä»¥å–æ¶ˆæ³¨é‡Šæ¥è¿è¡Œæµ‹è¯•
```

---

## 9. ğŸ› ï¸ è‡ªå®šä¹‰è¿­ä»£å·¥å…·


### 9.1 è‡ªå®šä¹‰è¿­ä»£å™¨åŸºç¡€


**ğŸ“ ç†è§£æ¦‚å¿µ**ï¼šå½“itertoolsæä¾›çš„å·¥å…·ä¸å¤Ÿç”¨æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºè‡ªå·±çš„è¿­ä»£å·¥å…·ã€‚

```python
# ç¤ºä¾‹1ï¼šè‡ªå®šä¹‰æ‰¹å¤„ç†è¿­ä»£å™¨
def batched(iterable, batch_size):
    """å°†æ•°æ®åˆ†æ‰¹å¤„ç†ï¼Œç±»ä¼¼äºitertools.batched()ï¼ˆPython 3.12+æ‰æœ‰ï¼‰"""
    iterator = iter(iterable)
    while True:
        batch = list(itertools.islice(iterator, batch_size))
        if not batch:
            break
        yield batch

# ä½¿ç”¨ç¤ºä¾‹
data = range(1, 16)  # 1åˆ°15çš„æ•°å­—
print("è‡ªå®šä¹‰æ‰¹å¤„ç†ç»“æœ:")
for i, batch in enumerate(batched(data, 4), 1):
    print(f"æ‰¹æ¬¡{i}: {batch}")

# ç¤ºä¾‹2ï¼šè‡ªå®šä¹‰çª—å£è¿­ä»£å™¨
def sliding_window(iterable, window_size):
    """æ»‘åŠ¨çª—å£è¿­ä»£å™¨"""
    it = iter(iterable)
    window = list(itertools.islice(it, window_size))
    if len(window) == window_size:
        yield tuple(window)
    for item in it:
        window.pop(0)
        window.append(item)
        yield tuple(window)

# ä½¿ç”¨ç¤ºä¾‹
numbers = [1, 2, 3, 4, 5, 6, 7]
print("æ»‘åŠ¨çª—å£ç»“æœ:")
for window in sliding_window(numbers, 3):
    print(window)
# è¾“å‡ºï¼š(1,2,3), (2,3,4), (3,4,5), (4,5,6), (5,6,7)
```

### 9.2 ä¸šåŠ¡åœºæ™¯å®šåˆ¶å·¥å…·


```python
# ç¤ºä¾‹1ï¼šæ•°æ®éªŒè¯è¿­ä»£å™¨
def validate_and_process(data, validator, processor):
    """éªŒè¯æ•°æ®å¹¶å¤„ç†"""
    for item in data:
        if validator(item):
            yield processor(item)
        else:
            print(f"è·³è¿‡æ— æ•ˆæ•°æ®: {item}")

# ä½¿ç”¨ç¤ºä¾‹
raw_scores = [85, -5, 92, 105, 78, 'invalid', 88]

def is_valid_score(score):
    return isinstance(score, (int, float)) and 0 <= score <= 100

def normalize_score(score):
    return round(score / 100, 2)  # è½¬æ¢ä¸ºç™¾åˆ†æ¯”

valid_scores = list(validate_and_process(
    raw_scores, 
    is_valid_score, 
    normalize_score
))
print(f"æœ‰æ•ˆæˆç»©: {valid_scores}")

# ç¤ºä¾‹2ï¼šæ¡ä»¶ç´¯ç§¯å™¨
def conditional_accumulate(iterable, condition, accumulator=None):
    """åªåœ¨æ»¡è¶³æ¡ä»¶æ—¶è¿›è¡Œç´¯ç§¯"""
    if accumulator is None:
        accumulator = lambda x, y: x + y
    
    iterator = iter(iterable)
    current = next(iterator)
    yield current
    
    for item in iterator:
        if condition(current, item):
            current = accumulator(current, item)
        else:
            current = item
        yield current

# ä½¿ç”¨ç¤ºä¾‹ï¼šåªæœ‰é€’å¢æ—¶æ‰ç´¯åŠ 
numbers = [1, 3, 2, 5, 4, 8, 6, 9]
result = list(conditional_accumulate(
    numbers, 
    lambda prev, curr: curr > prev  # åªæœ‰å½“å‰æ•°å­—å¤§äºå‰ä¸€ä¸ªæ‰ç´¯åŠ 
))
print(f"æ¡ä»¶ç´¯ç§¯ç»“æœ: {result}")
```

### 9.3 ç»„åˆç°æœ‰å·¥å…·åˆ›å»ºå¤æ‚åŠŸèƒ½


```python
# ç¤ºä¾‹1ï¼šæ•°æ®æ¸…æ´—ç®¡é“
class DataProcessor:
    """æ•°æ®å¤„ç†ç®¡é“"""
    
    def __init__(self, data):
        self.data = data
    
    def remove_nulls(self):
        """ç§»é™¤ç©ºå€¼"""
        self.data = itertools.filterfalse(lambda x: x is None, self.data)
        return self
    
    def remove_duplicates(self):
        """ç§»é™¤è¿ç»­é‡å¤å€¼"""
        self.data = (k for k, _ in itertools.groupby(self.data))
        return self
    
    def add_index(self, start=1):
        """æ·»åŠ ç´¢å¼•"""
        self.data = zip(itertools.count(start), self.data)
        return self
    
    def batch_process(self, batch_size):
        """æ‰¹é‡å¤„ç†"""
        def batched_data():
            iterator = iter(self.data)
            while True:
                batch = list(itertools.islice(iterator, batch_size))
                if not batch:
                    break
                yield batch
        self.data = batched_data()
        return self
    
    def get_result(self):
        """è·å–æœ€ç»ˆç»“æœ"""
        return list(self.data)

# ä½¿ç”¨ç¤ºä¾‹
raw_data = [1, 1, 2, None, 2, 3, 3, 4, None, 5, 5]
result = (DataProcessor(raw_data)
          .remove_nulls()
          .remove_duplicates() 
          .add_index()
          .batch_process(2)
          .get_result())

print("æ•°æ®å¤„ç†ç»“æœ:")
for i, batch in enumerate(result, 1):
    print(f"æ‰¹æ¬¡{i}: {batch}")
```

### 9.4 é«˜çº§è‡ªå®šä¹‰å·¥å…·


```python
# ç¤ºä¾‹1ï¼šæ™ºèƒ½åˆ†ç»„å™¨
def smart_groupby(iterable, key_func, sort_first=True):
    """æ™ºèƒ½åˆ†ç»„ï¼Œå¯é€‰æ‹©æ˜¯å¦å…ˆæ’åº"""
    if sort_first:
        sorted_data = sorted(iterable, key=key_func)
        return itertools.groupby(sorted_data, key=key_func)
    else:
        return itertools.groupby(iterable, key=key_func)

# ç¤ºä¾‹2ï¼šå¤šæ¡ä»¶è¿‡æ»¤å™¨
def multi_filter(iterable, *conditions):
    """åº”ç”¨å¤šä¸ªè¿‡æ»¤æ¡ä»¶"""
    result = iterable
    for condition in conditions:
        result = filter(condition, result)
    return result

# ä½¿ç”¨ç¤ºä¾‹
students = [
    {'name': 'å¼ ä¸‰', 'age': 20, 'score': 85},
    {'name': 'æå››', 'age': 19, 'score': 92},
    {'name': 'ç‹äº”', 'age': 21, 'score': 78},
    {'name': 'èµµå…­', 'age': 20, 'score': 88}
]

# å¤šæ¡ä»¶ç­›é€‰ï¼šå¹´é¾„â‰¥20ä¸”åˆ†æ•°â‰¥85
filtered_students = list(multi_filter(
    students,
    lambda s: s['age'] >= 20,
    lambda s: s['score'] >= 85
))

print("ç¬¦åˆæ¡ä»¶çš„å­¦ç”Ÿ:")
for student in filtered_students:
    print(f"{student['name']}: {student['age']}å², {student['score']}åˆ†")
```

---

## 10. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 10.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ itertoolsæœ¬è´¨ï¼šé«˜æ•ˆçš„è¿­ä»£å™¨å·¥å…·ç®±ï¼Œå†…å­˜å‹å¥½ï¼Œæ€§èƒ½ä¼˜å¼‚
ğŸ”¸ ä¸‰å¤§ç±»åˆ«ï¼šæ— é™è¿­ä»£å™¨ã€æœ‰é™è¿­ä»£å™¨ã€ç»„åˆè¿­ä»£å™¨
ğŸ”¸ æ ¸å¿ƒä¼˜åŠ¿ï¼šæ‡’æƒ°è®¡ç®—ã€å†…å­˜æ•ˆç‡ã€ä»£ç ç®€æ´ã€åŠŸèƒ½å¼ºå¤§
ğŸ”¸ åº”ç”¨åœºæ™¯ï¼šæ•°æ®å¤„ç†ã€ç®—æ³•å®ç°ã€æ€§èƒ½ä¼˜åŒ–ã€å¤§æ•°æ®åˆ†æ
```

### 10.2 å…³é”®å·¥å…·é€ŸæŸ¥è¡¨


| **å·¥å…·ç±»åˆ«** | **å‡½æ•°å** | **ä¸»è¦ä½œç”¨** | **å…¸å‹ç”¨æ³•** |
|-------------|-----------|-------------|-------------|
| **æ— é™è¿­ä»£å™¨** | `count()` | ç”Ÿæˆç­‰å·®æ•°åˆ— | `è®¡æ•°å™¨ã€ç¼–å·ç”Ÿæˆ` |
| | `cycle()` | å¾ªç¯é‡å¤åºåˆ— | `è½®ç­å®‰æ’ã€å¾ªç¯æ ‡è®°` |
| | `repeat()` | é‡å¤åŒä¸€å€¼ | `å¡«å……é»˜è®¤å€¼ã€æ‰¹é‡æ“ä½œ` |
| **ç´¯ç§¯å·¥å…·** | `accumulate()` | ç´¯ç§¯è®¡ç®— | `æ±‚å’Œã€æ±‚ç§¯ã€ç´¯è®¡ç»Ÿè®¡` |
| **è¿æ¥å·¥å…·** | `chain()` | è¿æ¥å¤šä¸ªåºåˆ— | `åˆå¹¶æ•°æ®ã€æ‰å¹³åŒ–` |
| **è¿‡æ»¤å·¥å…·** | `compress()` | æ¡ä»¶è¿‡æ»¤ | `æ•°æ®ç­›é€‰ã€æƒé™æ§åˆ¶` |
| | `filterfalse()` | åå‘è¿‡æ»¤ | `æ’é™¤ç‰¹å®šæ•°æ®` |
| **åˆ†ç»„å·¥å…·** | `groupby()` | ç›¸é‚»å…ƒç´ åˆ†ç»„ | `æ•°æ®åˆ†ç±»ã€ç»Ÿè®¡åˆ†æ` |
| **ç»„åˆå·¥å…·** | `product()` | ç¬›å¡å°”ç§¯ | `å…¨ç»„åˆã€æµ‹è¯•ç”¨ä¾‹` |
| | `permutations()` | æ’åˆ— | `æ’åºæ–¹æ¡ˆã€æ’å` |
| | `combinations()` | ç»„åˆ | `é€‰æ‹©æ–¹æ¡ˆã€é…å¯¹` |

### 10.3 å®é™…åº”ç”¨æŒ‡å¯¼åŸåˆ™


**ğŸ”¹ é€‰æ‹©å·¥å…·çš„æ€è·¯**
```
æ•°æ®é‡å¤§ï¼Ÿ â†’ ä¼˜å…ˆè€ƒè™‘itertoolsï¼ˆå†…å­˜æ•ˆç‡ï¼‰
éœ€è¦ç»„åˆï¼Ÿ â†’ product/permutations/combinations
éœ€è¦è¿‡æ»¤ï¼Ÿ â†’ compress/filter/filterfalse
éœ€è¦åˆ†ç»„ï¼Ÿ â†’ groupbyï¼ˆè®°å¾—å…ˆæ’åºï¼‰
éœ€è¦ç´¯ç§¯ï¼Ÿ â†’ accumulate
éœ€è¦è¿æ¥ï¼Ÿ â†’ chain
```

**ğŸ”¹ æ€§èƒ½ä¼˜åŒ–æŠ€å·§**
```
â€¢ é“¾å¼æ“ä½œï¼šå¤šä¸ªitertoolså·¥å…·å¯ä»¥ä¸²è”ä½¿ç”¨
â€¢ æ‡’æƒ°è®¡ç®—ï¼šåªåœ¨éœ€è¦æ—¶æ‰è½¬æ¢ä¸ºlist
â€¢ åˆç†åˆ‡ç‰‡ï¼šä½¿ç”¨isliceè€Œä¸æ˜¯å®Œæ•´è½¬æ¢
â€¢ é¿å…é‡å¤ï¼šç¼“å­˜è®¡ç®—ç»“æœï¼Œé¿å…é‡å¤è¿­ä»£
```

**ğŸ”¹ å¸¸è§é™·é˜±ä¸æ³¨æ„äº‹é¡¹**
```
âš ï¸ æ— é™è¿­ä»£å™¨ï¼šå¿…é¡»è®¾ç½®åœæ­¢æ¡ä»¶
âš ï¸ groupbyåˆ†ç»„ï¼šåªåˆ†ç»„ç›¸é‚»å…ƒç´ ï¼Œéœ€è¦æ—¶å…ˆæ’åº
âš ï¸ è¿­ä»£å™¨æ¶ˆè€—ï¼šè¿­ä»£å™¨åªèƒ½ä½¿ç”¨ä¸€æ¬¡ï¼Œéœ€è¦æ—¶åˆ›å»ºæ–°çš„
âš ï¸ å†…å­˜å¹³è¡¡ï¼šä¸è¦ä¸ºäº†æ€§èƒ½è¿‡åº¦ä¼˜åŒ–è€Œç‰ºç‰²ä»£ç å¯è¯»æ€§
```

### 10.4 å­¦ä¹ è¿›é˜¶è·¯å¾„


**ğŸ¯ åˆçº§åº”ç”¨**
- ç†Ÿç»ƒä½¿ç”¨åŸºç¡€å·¥å…·ï¼šcountã€cycleã€chainã€compress
- ç†è§£æ‡’æƒ°è®¡ç®—çš„æ¦‚å¿µå’Œä¼˜åŠ¿
- æŒæ¡åŸºæœ¬çš„æ•°æ®è¿‡æ»¤å’Œè¿æ¥æ“ä½œ

**ğŸ¯ ä¸­çº§åº”ç”¨**  
- ç»„åˆå¤šä¸ªå·¥å…·å®Œæˆå¤æ‚æ•°æ®å¤„ç†
- ç†è§£å¹¶ä½¿ç”¨ç»„åˆè¿­ä»£å™¨ï¼ˆproductã€combinationsç­‰ï¼‰
- æŒæ¡groupbyçš„æ­£ç¡®ä½¿ç”¨æ–¹æ³•

**ğŸ¯ é«˜çº§åº”ç”¨**
- åˆ›å»ºè‡ªå®šä¹‰è¿­ä»£å·¥å…·
- è®¾è®¡é«˜æ•ˆçš„æ•°æ®å¤„ç†ç®¡é“
- åœ¨å¤§æ•°æ®åœºæ™¯ä¸­ä¼˜åŒ–å†…å­˜å’Œæ€§èƒ½

### 10.5 å®æˆ˜ç»ƒä¹ å»ºè®®


```python
# ç»ƒä¹ 1ï¼šæ•°æ®åˆ†æåœºæ™¯
# å¤„ç†é”€å”®æ•°æ®ï¼ŒæŒ‰æœˆåˆ†ç»„ï¼Œè®¡ç®—ç´¯ç§¯é”€å”®é¢

# ç»ƒä¹ 2ï¼šç®—æ³•å®ç°åœºæ™¯  
# ç”Ÿæˆæ‰€æœ‰å¯èƒ½çš„å¯†ç ç»„åˆï¼Œå®ç°æš´åŠ›ç ´è§£é€»è¾‘

# ç»ƒä¹ 3ï¼šæ–‡ä»¶å¤„ç†åœºæ™¯
# æ‰¹é‡å¤„ç†å¤§æ–‡ä»¶ï¼Œå†…å­˜å‹å¥½çš„åˆ†æ‰¹è¯»å–å’Œå¤„ç†

# ç»ƒä¹ 4ï¼šä¸šåŠ¡é€»è¾‘åœºæ™¯
# å®ç°è½®ç­ç³»ç»Ÿã€æƒé™è¿‡æ»¤ã€æ•°æ®éªŒè¯ç­‰åŠŸèƒ½
```

**æ ¸å¿ƒè®°å¿†å£è¯€**ï¼š
- itertoolså·¥å…·ç®±ï¼Œæ•°æ®å¤„ç†å¾ˆé«˜æ•ˆ
- æ— é™è¿­ä»£è¦å°å¿ƒï¼Œè®°å¾—è®¾ç½®åœæ­¢ç‚¹  
- ç»„åˆæ’åˆ—åˆ†å¾—æ¸…ï¼Œé¡ºåºé‡è¦æ˜¯æ’åˆ—
- æ‡’æƒ°è®¡ç®—çœå†…å­˜ï¼Œé“¾å¼æ“ä½œæ›´ä¼˜é›…