---
title: 32ã€JSONå¤„ç†å‡½æ•°
---
## ğŸ“š ç›®å½•

1. [JSONæ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆè¦å­¦å®ƒ](#1-JSONæ˜¯ä»€ä¹ˆä¸ºä»€ä¹ˆè¦å­¦å®ƒ)
2. [åºåˆ—åŒ–ï¼šæŠŠPythonå¯¹è±¡å˜æˆJSONå­—ç¬¦ä¸²](#2-åºåˆ—åŒ–æŠŠPythonå¯¹è±¡å˜æˆJSONå­—ç¬¦ä¸²)
3. [ååºåˆ—åŒ–ï¼šæŠŠJSONå­—ç¬¦ä¸²å˜æˆPythonå¯¹è±¡](#3-ååºåˆ—åŒ–æŠŠJSONå­—ç¬¦ä¸²å˜æˆPythonå¯¹è±¡)
4. [æ–‡ä»¶æ“ä½œï¼šè¯»å†™JSONæ–‡ä»¶](#4-æ–‡ä»¶æ“ä½œè¯»å†™JSONæ–‡ä»¶)
5. [å®é™…åº”ç”¨åœºæ™¯](#5-å®é™…åº”ç”¨åœºæ™¯)
6. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#6-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ“– JSONæ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆè¦å­¦å®ƒ


### 1.1 JSONçš„é€šä¿—ç†è§£


**ğŸ’­ ç”Ÿæ´»ç±»æ¯”**
```
JSONå°±åƒæ˜¯ä¸€ç§"é€šç”¨è¯­è¨€"ï¼Œæƒ³è±¡ä¸€ä¸‹ï¼š
â€¢ ä½ è¯´ä¸­æ–‡ï¼Œæœ‹å‹è¯´è‹±æ–‡ï¼Œæ€ä¹ˆäº¤æµï¼Ÿ
â€¢ éœ€è¦ä¸€ç§åŒæ–¹éƒ½æ‡‚çš„è¯­è¨€ä½œä¸ºæ¡¥æ¢
â€¢ JSONå°±æ˜¯ç¨‹åºä¹‹é—´äº¤æµçš„"é€šç”¨è¯­è¨€"
```

**ğŸ”¸ ä»€ä¹ˆæ˜¯JSON**
```
JSONï¼ˆJavaScript Object Notationï¼‰
â€¢ ä¸€ç§è½»é‡çº§çš„æ•°æ®äº¤æ¢æ ¼å¼
â€¢ çœ‹èµ·æ¥åƒPythonå­—å…¸ï¼Œä½†å…¶å®æ˜¯æ–‡æœ¬
â€¢ å‡ ä¹æ‰€æœ‰ç¼–ç¨‹è¯­è¨€éƒ½æ”¯æŒ
â€¢ ç½‘ç»œä¼ è¾“å’Œæ•°æ®å­˜å‚¨çš„æ ‡å‡†æ ¼å¼
```

### 1.2 ä¸ºä»€ä¹ˆå­¦ä¹ JSONå¤„ç†å¾ˆé‡è¦


**ğŸ¯ å®é™…åº”ç”¨åœºæ™¯**
- **ç½‘ç»œAPIè°ƒç”¨**ï¼šä¸æœåŠ¡å™¨äº¤æ¢æ•°æ®
- **é…ç½®æ–‡ä»¶**ï¼šå­˜å‚¨ç¨‹åºè®¾ç½®
- **æ•°æ®æŒä¹…åŒ–**ï¼šä¿å­˜ç¨‹åºæ•°æ®åˆ°æ–‡ä»¶
- **å‰åç«¯é€šä¿¡**ï¼šç½‘é¡µä¸æœåŠ¡å™¨æ•°æ®ä¼ è¾“

**ğŸ’¡ å…³é”®ç†è§£**
> JSONå¤„ç†æ˜¯ç°ä»£ç¨‹åºå¼€å‘çš„åŸºæœ¬æŠ€èƒ½ï¼Œå°±åƒå­¦ä¼šä½¿ç”¨å­—å…¸ä¸€æ ·é‡è¦

---

## 2. ğŸ”„ åºåˆ—åŒ–ï¼šæŠŠPythonå¯¹è±¡å˜æˆJSONå­—ç¬¦ä¸²


### 2.1 json.dumps() - æ ¸å¿ƒåºåˆ—åŒ–å‡½æ•°


**ğŸ”¸ åŸºæœ¬æ¦‚å¿µ**
```
åºåˆ—åŒ– = æŠŠPythonæ•°æ®ç»“æ„è½¬æ¢æˆJSONå­—ç¬¦ä¸²
å°±åƒæŠŠç‰©å“æ‰“åŒ…æˆå¿«é€’åŒ…è£¹ï¼Œæ–¹ä¾¿è¿è¾“
```

**ğŸ“ åŸºç¡€ç”¨æ³•**
```python
import json

# å­—å…¸è½¬JSON
person = {"name": "å¼ ä¸‰", "age": 25, "city": "åŒ—äº¬"}
json_str = json.dumps(person)
print(json_str)  # {"name": "å¼ ä¸‰", "age": 25, "city": "åŒ—äº¬"}
print(type(json_str))  # <class 'str'>
```

### 2.2 å¤„ç†ä¸­æ–‡å­—ç¬¦


**âš ï¸ é‡è¦æé†’**
> é»˜è®¤æƒ…å†µä¸‹ï¼Œä¸­æ–‡ä¼šè¢«è½¬ä¹‰æˆUnicodeç¼–ç ï¼Œçœ‹èµ·æ¥å¾ˆéš¾è¯»

```python
# é—®é¢˜ï¼šä¸­æ–‡è¢«è½¬ä¹‰
person = {"å§“å": "æå››", "èŒä¸š": "ç¨‹åºå‘˜"}
result = json.dumps(person)
print(result)  # {"\u59d3\u540d": "\u674e\u56db", "\u804c\u4e1a": "\u7a0b\u5e8f\u5458"}

# è§£å†³ï¼šä½¿ç”¨ensure_ascii=False
result = json.dumps(person, ensure_ascii=False)
print(result)  # {"å§“å": "æå››", "èŒä¸š": "ç¨‹åºå‘˜"}
```

### 2.3 ç¾åŒ–è¾“å‡ºæ ¼å¼


```python
# å¤æ‚æ•°æ®ç»“æ„
data = {
    "ç”¨æˆ·ä¿¡æ¯": {
        "å§“å": "ç‹äº”",
        "å¹´é¾„": 30,
        "çˆ±å¥½": ["è¯»ä¹¦", "æ¸¸æ³³", "ç¼–ç¨‹"]
    },
    "è®¾ç½®": {
        "ä¸»é¢˜": "æ·±è‰²",
        "è¯­è¨€": "ä¸­æ–‡"
    }
}

# ç¾åŒ–è¾“å‡ºï¼šä½¿ç”¨ç¼©è¿›
beautiful_json = json.dumps(data, ensure_ascii=False, indent=2)
print(beautiful_json)
```

**è¾“å‡ºæ•ˆæœï¼š**
```
{
  "ç”¨æˆ·ä¿¡æ¯": {
    "å§“å": "ç‹äº”",
    "å¹´é¾„": 30,
    "çˆ±å¥½": [
      "è¯»ä¹¦",
      "æ¸¸æ³³",
      "ç¼–ç¨‹"
    ]
  },
  "è®¾ç½®": {
    "ä¸»é¢˜": "æ·±è‰²",
    "è¯­è¨€": "ä¸­æ–‡"
  }
}
```

### 2.4 æ•°æ®ç±»å‹è½¬æ¢å¯¹ç…§è¡¨


| **Pythonç±»å‹** | **JSONç±»å‹** | **ç¤ºä¾‹** |
|----------------|--------------|----------|
| `dict` | `object` | `{"key": "value"}` |
| `list/tuple` | `array` | `[1, 2, 3]` |
| `str` | `string` | `"hello"` |
| `int/float` | `number` | `123, 3.14` |
| `True/False` | `true/false` | `true, false` |
| `None` | `null` | `null` |

---

## 3. ğŸ”™ ååºåˆ—åŒ–ï¼šæŠŠJSONå­—ç¬¦ä¸²å˜æˆPythonå¯¹è±¡


### 3.1 json.loads() - æ ¸å¿ƒååºåˆ—åŒ–å‡½æ•°


**ğŸ”¸ åŸºæœ¬æ¦‚å¿µ**
```
ååºåˆ—åŒ– = æŠŠJSONå­—ç¬¦ä¸²è½¬æ¢æˆPythonæ•°æ®ç»“æ„
å°±åƒæ‹†å¼€å¿«é€’åŒ…è£¹ï¼Œå–å‡ºé‡Œé¢çš„ç‰©å“
```

**ğŸ“ åŸºç¡€ç”¨æ³•**
```python
# JSONå­—ç¬¦ä¸²è½¬Pythonå¯¹è±¡
json_string = '{"name": "èµµå…­", "age": 28, "married": true}'
person = json.loads(json_string)

print(person)  # {'name': 'èµµå…­', 'age': 28, 'married': True}
print(type(person))  # <class 'dict'>
print(person['name'])  # èµµå…­
```

### 3.2 å¤„ç†å¤æ‚JSONæ•°æ®


```python
# å¤æ‚JSONæ•°æ®
complex_json = '''
{
  "ç”¨æˆ·åˆ—è¡¨": [
    {"å§“å": "å°æ˜", "å¹´é¾„": 20},
    {"å§“å": "å°çº¢", "å¹´é¾„": 22}
  ],
  "æ€»æ•°": 2,
  "çŠ¶æ€": "æˆåŠŸ"
}
'''

data = json.loads(complex_json)
print(f"æ€»å…±æœ‰ {data['æ€»æ•°']} ä¸ªç”¨æˆ·")
for user in data['ç”¨æˆ·åˆ—è¡¨']:
    print(f"ç”¨æˆ·ï¼š{user['å§“å']}ï¼Œå¹´é¾„ï¼š{user['å¹´é¾„']}")
```

### 3.3 é”™è¯¯å¤„ç†


**ğŸ’¡ å…³é”®ç†è§£**
> JSONæ ¼å¼å¿…é¡»ä¸¥æ ¼æ­£ç¡®ï¼Œå¦åˆ™ä¼šæŠ¥é”™

```python
# å¸¸è§é”™è¯¯ç¤ºä¾‹
try:
    # é”™è¯¯1ï¼šå•å¼•å·ï¼ˆJSONåªæ”¯æŒåŒå¼•å·ï¼‰
    bad_json1 = "{'name': 'test'}"
    json.loads(bad_json1)  # ä¼šæŠ¥é”™
except json.JSONDecodeError as e:
    print(f"JSONæ ¼å¼é”™è¯¯ï¼š{e}")

try:
    # é”™è¯¯2ï¼šå¤šä½™çš„é€—å·
    bad_json2 = '{"name": "test",}'
    json.loads(bad_json2)  # ä¼šæŠ¥é”™
except json.JSONDecodeError as e:
    print(f"JSONæ ¼å¼é”™è¯¯ï¼š{e}")
```

---

## 4. ğŸ“ æ–‡ä»¶æ“ä½œï¼šè¯»å†™JSONæ–‡ä»¶


### 4.1 json.dump() - å†™å…¥JSONæ–‡ä»¶


**ğŸ”¸ åŸºæœ¬æ¦‚å¿µ**
```
json.dump() = ç›´æ¥æŠŠPythonå¯¹è±¡å†™å…¥æ–‡ä»¶
ç›¸å½“äº json.dumps() + æ–‡ä»¶å†™å…¥çš„ç»„åˆ
```

```python
# å‡†å¤‡æ•°æ®
student_data = {
    "å­¦ç”Ÿä¿¡æ¯": [
        {"å­¦å·": "2023001", "å§“å": "å¼ ä¸‰", "æˆç»©": {"æ•°å­¦": 95, "è‹±è¯­": 88}},
        {"å­¦å·": "2023002", "å§“å": "æå››", "æˆç»©": {"æ•°å­¦": 87, "è‹±è¯­": 92}}
    ],
    "ç­çº§": "è®¡ç®—æœºç§‘å­¦1ç­",
    "æ€»äººæ•°": 2
}

# å†™å…¥æ–‡ä»¶
with open('students.json', 'w', encoding='utf-8') as file:
    json.dump(student_data, file, ensure_ascii=False, indent=2)

print("æ•°æ®å·²ä¿å­˜åˆ° students.json æ–‡ä»¶")
```

### 4.2 json.load() - è¯»å–JSONæ–‡ä»¶


**ğŸ”¸ åŸºæœ¬æ¦‚å¿µ**
```
json.load() = ç›´æ¥ä»æ–‡ä»¶è¯»å–JSONæ•°æ®
ç›¸å½“äºæ–‡ä»¶è¯»å– + json.loads() çš„ç»„åˆ
```

```python
# ä»æ–‡ä»¶è¯»å–æ•°æ®
with open('students.json', 'r', encoding='utf-8') as file:
    loaded_data = json.load(file)

# ä½¿ç”¨è¯»å–çš„æ•°æ®
print(f"ç­çº§ï¼š{loaded_data['ç­çº§']}")
print(f"å­¦ç”Ÿæ€»æ•°ï¼š{loaded_data['æ€»äººæ•°']}")

for student in loaded_data['å­¦ç”Ÿä¿¡æ¯']:
    name = student['å§“å']
    math_score = student['æˆç»©']['æ•°å­¦']
    print(f"{name} çš„æ•°å­¦æˆç»©ï¼š{math_score}")
```

### 4.3 æ–‡ä»¶æ“ä½œæœ€ä½³å®è·µ


**ğŸ“‹ æ¨èåšæ³•**
```python
def save_json_file(data, filename):
    """ä¿å­˜æ•°æ®åˆ°JSONæ–‡ä»¶"""
    try:
        with open(filename, 'w', encoding='utf-8') as f:
            json.dump(data, f, ensure_ascii=False, indent=2)
        print(f"âœ… æ•°æ®å·²ä¿å­˜åˆ° {filename}")
    except Exception as e:
        print(f"âŒ ä¿å­˜å¤±è´¥ï¼š{e}")

def load_json_file(filename):
    """ä»JSONæ–‡ä»¶åŠ è½½æ•°æ®"""
    try:
        with open(filename, 'r', encoding='utf-8') as f:
            return json.load(f)
    except FileNotFoundError:
        print(f"âŒ æ–‡ä»¶ {filename} ä¸å­˜åœ¨")
        return None
    except json.JSONDecodeError:
        print(f"âŒ {filename} ä¸æ˜¯æœ‰æ•ˆçš„JSONæ–‡ä»¶")
        return None
```

---

## 5. ğŸš€ å®é™…åº”ç”¨åœºæ™¯


### 5.1 é…ç½®æ–‡ä»¶ç®¡ç†


```python
# ç¨‹åºé…ç½®
config = {
    "æ•°æ®åº“": {
        "ä¸»æœº": "localhost",
        "ç«¯å£": 3306,
        "ç”¨æˆ·å": "admin"
    },
    "åº”ç”¨è®¾ç½®": {
        "è°ƒè¯•æ¨¡å¼": True,
        "æ—¥å¿—çº§åˆ«": "INFO",
        "æœ€å¤§è¿æ¥æ•°": 100
    }
}

# ä¿å­˜é…ç½®
with open('config.json', 'w', encoding='utf-8') as f:
    json.dump(config, f, ensure_ascii=False, indent=2)

# è¯»å–é…ç½®
with open('config.json', 'r', encoding='utf-8') as f:
    app_config = json.load(f)
    
db_host = app_config['æ•°æ®åº“']['ä¸»æœº']
debug_mode = app_config['åº”ç”¨è®¾ç½®']['è°ƒè¯•æ¨¡å¼']
```

### 5.2 APIæ•°æ®å¤„ç†


```python
# æ¨¡æ‹ŸAPIå“åº”æ•°æ®
api_response = '''
{
  "code": 200,
  "message": "æˆåŠŸ",
  "data": {
    "ç”¨æˆ·": {
      "id": 12345,
      "æ˜µç§°": "Pythonå­¦ä¹ è€…",
      "ç­‰çº§": 5
    },
    "æƒé™": ["è¯»å–", "å†™å…¥", "åˆ é™¤"]
  }
}
'''

# è§£æAPIå“åº”
response_data = json.loads(api_response)

if response_data['code'] == 200:
    user_info = response_data['data']['ç”¨æˆ·']
    permissions = response_data['data']['æƒé™']
    
    print(f"æ¬¢è¿ {user_info['æ˜µç§°']}!")
    print(f"æ‚¨çš„ç­‰çº§ï¼š{user_info['ç­‰çº§']}")
    print(f"æ‚¨çš„æƒé™ï¼š{', '.join(permissions)}")
```

### 5.3 æ•°æ®å¤‡ä»½ä¸æ¢å¤


```python
# ç¨‹åºæ•°æ®å¤‡ä»½
user_data = {
    "ç”¨æˆ·åˆ—è¡¨": [
        {"id": 1, "name": "ç”¨æˆ·1", "last_login": "2024-01-15"},
        {"id": 2, "name": "ç”¨æˆ·2", "last_login": "2024-01-16"}
    ],
    "ç³»ç»Ÿç»Ÿè®¡": {
        "æ€»ç”¨æˆ·æ•°": 2,
        "æ´»è·ƒç”¨æˆ·": 1,
        "å¤‡ä»½æ—¶é—´": "2024-01-20 10:30:00"
    }
}

# å¤‡ä»½æ•°æ®
def backup_data(data):
    filename = f"backup_{data['ç³»ç»Ÿç»Ÿè®¡']['å¤‡ä»½æ—¶é—´'].replace(':', '-').replace(' ', '_')}.json"
    with open(filename, 'w', encoding='utf-8') as f:
        json.dump(data, f, ensure_ascii=False, indent=2)
    print(f"âœ… æ•°æ®å·²å¤‡ä»½åˆ° {filename}")

# æ¢å¤æ•°æ®
def restore_data(filename):
    with open(filename, 'r', encoding='utf-8') as f:
        return json.load(f)

backup_data(user_data)
```

---

## 6. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 6.1 å››ä¸ªæ ¸å¿ƒå‡½æ•°å¯¹æ¯”


| **å‡½æ•°** | **ä½œç”¨** | **è¾“å…¥** | **è¾“å‡º** | **ä½¿ç”¨åœºæ™¯** |
|----------|----------|----------|----------|--------------|
| `json.dumps()` | åºåˆ—åŒ–åˆ°å­—ç¬¦ä¸² | Pythonå¯¹è±¡ | JSONå­—ç¬¦ä¸² | ç½‘ç»œä¼ è¾“ã€è°ƒè¯•æ‰“å° |
| `json.loads()` | ä»å­—ç¬¦ä¸²ååºåˆ—åŒ– | JSONå­—ç¬¦ä¸² | Pythonå¯¹è±¡ | è§£æAPIå“åº” |
| `json.dump()` | åºåˆ—åŒ–åˆ°æ–‡ä»¶ | Pythonå¯¹è±¡ | å†™å…¥æ–‡ä»¶ | ä¿å­˜é…ç½®ã€æ•°æ®å¤‡ä»½ |
| `json.load()` | ä»æ–‡ä»¶ååºåˆ—åŒ– | æ–‡ä»¶å¯¹è±¡ | Pythonå¯¹è±¡ | è¯»å–é…ç½®ã€åŠ è½½æ•°æ® |

### 6.2 å¸¸ç”¨å‚æ•°æ€»ç»“


**ğŸ“Œ é‡è¦å‚æ•°**
```python
# ensure_ascii=False  # æ”¯æŒä¸­æ–‡æ˜¾ç¤º
# indent=2           # ç¾åŒ–è¾“å‡ºæ ¼å¼
# encoding='utf-8'   # æ–‡ä»¶ç¼–ç ï¼ˆæ–‡ä»¶æ“ä½œæ—¶ï¼‰
```

### 6.3 æœ€ä½³å®è·µå»ºè®®


**ğŸ¯ è®°å¿†å£è¯€**
```
"dumpsè¾“å‡ºå­—ç¬¦ä¸²ï¼ŒloadsåŠ è½½è¦å°å¿ƒ
dumpç›´æ¥å†™æ–‡ä»¶ï¼Œloadè¯»å–æœ€å®‰å¿ƒ
ä¸­æ–‡è®°å¾—Falseï¼Œç¼©è¿›ç¾åŒ–ç”¨2"
```

**ğŸ’¡ å®ç”¨æŠ€å·§**
- âœ… å¤„ç†ä¸­æ–‡æ—¶æ€»æ˜¯ä½¿ç”¨ `ensure_ascii=False`
- âœ… æ–‡ä»¶æ“ä½œæ€»æ˜¯æŒ‡å®š `encoding='utf-8'`
- âœ… è°ƒè¯•æ—¶ä½¿ç”¨ `indent=2` ç¾åŒ–è¾“å‡º
- âœ… ä½¿ç”¨ `try-except` å¤„ç†JSONè§£æé”™è¯¯
- âœ… æ–‡ä»¶æ“ä½œä½¿ç”¨ `with` è¯­å¥ç¡®ä¿æ–‡ä»¶æ­£ç¡®å…³é—­

**ğŸ”§ å¸¸è§é”™è¯¯é¿å…**
- âŒ æ··æ·† `dumps/loads`ï¼ˆå­—ç¬¦ä¸²ï¼‰å’Œ `dump/load`ï¼ˆæ–‡ä»¶ï¼‰
- âŒ å¿˜è®°å¤„ç†ä¸­æ–‡ç¼–ç é—®é¢˜
- âŒ ä¸æ£€æŸ¥JSONæ ¼å¼æ˜¯å¦æ­£ç¡®
- âŒ æ–‡ä»¶è·¯å¾„é”™è¯¯æˆ–æƒé™ä¸è¶³

**æ ¸å¿ƒç†è§£**ï¼š
- JSONå¤„ç†æ˜¯Pythonä¸å¤–ç•Œæ•°æ®äº¤æ¢çš„æ¡¥æ¢
- åºåˆ—åŒ–å’Œååºåˆ—åŒ–æ˜¯ä¸€å¯¹ç›¸åçš„æ“ä½œ
- æ–‡ä»¶æ“ä½œæ˜¯æ•°æ®æŒä¹…åŒ–çš„åŸºç¡€æ–¹æ³•
- é”™è¯¯å¤„ç†è®©ç¨‹åºæ›´åŠ å¥å£®å¯é 