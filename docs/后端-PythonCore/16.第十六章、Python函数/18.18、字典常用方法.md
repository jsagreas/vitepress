---
title: 18ã€å­—å…¸å¸¸ç”¨æ–¹æ³•
---
## ğŸ“š ç›®å½•

1. [å­—å…¸æ–¹æ³•æ¦‚è¿°](#1-å­—å…¸æ–¹æ³•æ¦‚è¿°)
2. [è·å–æ“ä½œæ–¹æ³•](#2-è·å–æ“ä½œæ–¹æ³•)
3. [ä¿®æ”¹æ“ä½œæ–¹æ³•](#3-ä¿®æ”¹æ“ä½œæ–¹æ³•)
4. [åˆ é™¤æ“ä½œæ–¹æ³•](#4-åˆ é™¤æ“ä½œæ–¹æ³•)
5. [å¤åˆ¶æ“ä½œæ–¹æ³•](#5-å¤åˆ¶æ“ä½œæ–¹æ³•)
6. [å®æˆ˜åº”ç”¨åœºæ™¯](#6-å®æˆ˜åº”ç”¨åœºæ™¯)
7. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#7-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ¯ å­—å…¸æ–¹æ³•æ¦‚è¿°


### 1.1 ä»€ä¹ˆæ˜¯å­—å…¸æ–¹æ³•


å­—å…¸æ–¹æ³•å°±æ˜¯ä¸“é—¨ä¸ºå­—å…¸è¿™ç§æ•°æ®ç±»å‹è®¾è®¡çš„**å†…ç½®åŠŸèƒ½å‡½æ•°**ã€‚å°±åƒä½ çš„æ‰‹æœºæœ‰å„ç§åº”ç”¨ä¸€æ ·ï¼Œå­—å…¸ä¹Ÿæœ‰å„ç§"åº”ç”¨"æ¥å¸®ä½ å¤„ç†æ•°æ®ã€‚

**ğŸ’¡ ç®€å•ç†è§£**ï¼š
```
å­—å…¸å°±åƒä¸€ä¸ªé€šè®¯å½•ï¼š
- å§“åæ˜¯"é”®"(key)
- ç”µè¯å·ç æ˜¯"å€¼"(value)
- å­—å…¸æ–¹æ³•å°±æ˜¯æ“ä½œé€šè®¯å½•çš„å„ç§åŠŸèƒ½
```

### 1.2 å­—å…¸æ–¹æ³•çš„åˆ†ç±»


```
ğŸ“‹ å­—å…¸æ–¹æ³•å…¨å®¶ç¦ï¼š

ğŸ” è·å–ç±»æ–¹æ³•ï¼š
â”œâ”€â”€ keys()     - è·å–æ‰€æœ‰å§“å
â”œâ”€â”€ values()   - è·å–æ‰€æœ‰ç”µè¯
â”œâ”€â”€ items()    - è·å–å®Œæ•´æ¡ç›®
â””â”€â”€ get()      - å®‰å…¨æŸ¥æ‰¾ç”µè¯

âœï¸ ä¿®æ”¹ç±»æ–¹æ³•ï¼š
â”œâ”€â”€ update()     - æ‰¹é‡æ·»åŠ è”ç³»äºº
â””â”€â”€ setdefault() - æ™ºèƒ½æ·»åŠ è”ç³»äºº

ğŸ—‘ï¸ åˆ é™¤ç±»æ–¹æ³•ï¼š
â”œâ”€â”€ pop()      - åˆ é™¤æŒ‡å®šè”ç³»äºº
â”œâ”€â”€ popitem()  - éšæœºåˆ é™¤ä¸€ä¸ª
â””â”€â”€ clear()    - æ¸…ç©ºé€šè®¯å½•

ğŸ“„ å¤åˆ¶ç±»æ–¹æ³•ï¼š
â””â”€â”€ copy()     - å¤‡ä»½é€šè®¯å½•
```

### 1.3 ä¸ºä»€ä¹ˆè¦å­¦å­—å…¸æ–¹æ³•


**å®é™…åº”ç”¨ä»·å€¼**ï¼š
- ğŸ¯ **æ•°æ®å¤„ç†æ›´é«˜æ•ˆ** - ä¸“ä¸šå·¥å…·å¹²ä¸“ä¸šäº‹
- ğŸ›¡ï¸ **æ“ä½œæ›´å®‰å…¨** - é¿å…ç¨‹åºå´©æºƒ
- ğŸ’¡ **ä»£ç æ›´ç®€æ´** - ä¸€è¡Œä»£ç æå®šå¤æ‚æ“ä½œ
- ğŸš€ **å¼€å‘æ›´å¿«é€Ÿ** - å†…ç½®æ–¹æ³•æ€§èƒ½ä¼˜åŒ–

---

## 2. ğŸ” è·å–æ“ä½œæ–¹æ³•


### 2.1 keys() - è·å–æ‰€æœ‰é”®


**ä½œç”¨**ï¼šè·å–å­—å…¸ä¸­æ‰€æœ‰çš„é”®ï¼ˆå°±åƒè·å–é€šè®¯å½•ä¸­æ‰€æœ‰äººçš„å§“åï¼‰

```python
# åŸºç¡€ç”¨æ³•
student = {"å§“å": "å°æ˜", "å¹´é¾„": 18, "ç­çº§": "é«˜ä¸‰1ç­"}
all_keys = student.keys()
print(list(all_keys))  # ['å§“å', 'å¹´é¾„', 'ç­çº§']
```

**ğŸ’¡ æ–°æ‰‹é‡ç‚¹ç†è§£**ï¼š
- `keys()`è¿”å›çš„ä¸æ˜¯åˆ—è¡¨ï¼Œæ˜¯ä¸€ä¸ªç‰¹æ®Šçš„"è§†å›¾å¯¹è±¡"
- æƒ³è¦åˆ—è¡¨å½¢å¼ï¼Œéœ€è¦ç”¨`list()`è½¬æ¢
- è¿™ä¸ªè§†å›¾ä¼š**å®æ—¶æ›´æ–°**ï¼Œå­—å…¸å˜äº†å®ƒä¹Ÿè·Ÿç€å˜

```python
# å®æ—¶æ›´æ–°æ¼”ç¤º
student = {"å§“å": "å°æ˜", "å¹´é¾„": 18}
keys_view = student.keys()
print(list(keys_view))  # ['å§“å', 'å¹´é¾„']

# æ·»åŠ æ–°æ•°æ®
student["ç­çº§"] = "é«˜ä¸‰1ç­"
print(list(keys_view))  # ['å§“å', 'å¹´é¾„', 'ç­çº§'] - è‡ªåŠ¨æ›´æ–°äº†ï¼
```

**ğŸ¯ å®ç”¨åœºæ™¯**ï¼š
- æ£€æŸ¥å­—å…¸åŒ…å«å“ªäº›å±æ€§
- éå†æ‰€æœ‰é”®è¿›è¡Œæ‰¹é‡æ“ä½œ
- éªŒè¯å¿…éœ€å­—æ®µæ˜¯å¦å­˜åœ¨

### 2.2 values() - è·å–æ‰€æœ‰å€¼


**ä½œç”¨**ï¼šè·å–å­—å…¸ä¸­æ‰€æœ‰çš„å€¼ï¼ˆè·å–é€šè®¯å½•ä¸­æ‰€æœ‰çš„ç”µè¯å·ç ï¼‰

```python
# åŸºç¡€ç”¨æ³•
scores = {"è¯­æ–‡": 85, "æ•°å­¦": 92, "è‹±è¯­": 88}
all_scores = scores.values()
print(list(all_scores))  # [85, 92, 88]

# è®¡ç®—æ€»åˆ†
total = sum(scores.values())
print(f"æ€»åˆ†ï¼š{total}")  # æ€»åˆ†ï¼š265
```

**âš ï¸ æ–°æ‰‹æ³¨æ„**ï¼š
- å€¼å¯ä»¥é‡å¤ï¼Œæ‰€ä»¥ç»“æœå¯èƒ½æœ‰ç›¸åŒå…ƒç´ 
- å€¼çš„é¡ºåºå¯¹åº”é”®çš„é¡ºåº
- åŒæ ·æ˜¯è§†å›¾å¯¹è±¡ï¼Œä¼šå®æ—¶æ›´æ–°

### 2.3 items() - è·å–é”®å€¼å¯¹


**ä½œç”¨**ï¼šè·å–å­—å…¸ä¸­æ‰€æœ‰çš„é”®å€¼å¯¹ï¼ˆè·å–å®Œæ•´çš„è”ç³»äººä¿¡æ¯ï¼‰

```python
# åŸºç¡€ç”¨æ³•
student = {"å§“å": "å°æ˜", "å¹´é¾„": 18, "ç­çº§": "é«˜ä¸‰1ç­"}
all_items = student.items()
print(list(all_items))  
# [('å§“å', 'å°æ˜'), ('å¹´é¾„', 18), ('ç­çº§', 'é«˜ä¸‰1ç­')]
```

**ğŸŒŸ æœ€å¸¸ç”¨çš„éå†æ–¹å¼**ï¼š
```python
# åŒæ—¶è·å–é”®å’Œå€¼
for key, value in student.items():
    print(f"{key}: {value}")

# è¾“å‡ºï¼š
# å§“å: å°æ˜
# å¹´é¾„: 18
# ç­çº§: é«˜ä¸‰1ç­
```

### 2.4 get() - å®‰å…¨è·å–å€¼


**ä½œç”¨**ï¼šå®‰å…¨åœ°è·å–å€¼ï¼Œä¸å­˜åœ¨æ—¶ä¸ä¼šæŠ¥é”™

**âŒ æ™®é€šæ–¹å¼çš„é—®é¢˜**ï¼š
```python
student = {"å§“å": "å°æ˜", "å¹´é¾„": 18}
print(student["ç”µè¯"])  # KeyError: 'ç”µè¯' - ç¨‹åºå´©æºƒï¼
```

**âœ… get()æ–¹å¼ - å®‰å…¨å¯é **ï¼š
```python
# åŸºç¡€ç”¨æ³•
phone = student.get("ç”µè¯")
print(phone)  # None - ä¸å­˜åœ¨è¿”å›Noneï¼Œä¸ä¼šå´©æºƒ

# è®¾ç½®é»˜è®¤å€¼
phone = student.get("ç”µè¯", "æœªæä¾›")
print(phone)  # "æœªæä¾›"
```

**ğŸ’¡ å®ç”¨æŠ€å·§**ï¼š
```python
# æ£€æŸ¥ç”¨æˆ·æƒé™
user = {"name": "å¼ ä¸‰", "role": "user"}
is_admin = user.get("role") == "admin"
print(is_admin)  # False

# è·å–é…ç½®ä¿¡æ¯
config = {"host": "localhost", "port": 8080}
timeout = config.get("timeout", 30)  # é»˜è®¤30ç§’
print(f"è¶…æ—¶æ—¶é—´ï¼š{timeout}ç§’")
```

---

## 3. âœï¸ ä¿®æ”¹æ“ä½œæ–¹æ³•


### 3.1 update() - æ‰¹é‡æ›´æ–°å­—å…¸


**ä½œç”¨**ï¼šä¸€æ¬¡æ€§æ·»åŠ æˆ–æ›´æ–°å¤šä¸ªé”®å€¼å¯¹ï¼ˆæ‰¹é‡å¯¼å…¥è”ç³»äººï¼‰

**ğŸ¯ ä¸‰ç§ä½¿ç”¨æ–¹å¼**ï¼š

**æ–¹å¼1ï¼šç”¨å¦ä¸€ä¸ªå­—å…¸æ›´æ–°**
```python
student = {"å§“å": "å°æ˜", "å¹´é¾„": 18}
new_info = {"ç­çº§": "é«˜ä¸‰1ç­", "å¹´é¾„": 19}  # å¹´é¾„ä¼šè¢«æ›´æ–°

student.update(new_info)
print(student)  # {'å§“å': 'å°æ˜', 'å¹´é¾„': 19, 'ç­çº§': 'é«˜ä¸‰1ç­'}
```

**æ–¹å¼2ï¼šç”¨å…³é”®å­—å‚æ•°æ›´æ–°**
```python
student = {"å§“å": "å°æ˜"}
student.update(å¹´é¾„=18, ç­çº§="é«˜ä¸‰1ç­", æˆç»©=95)
print(student)  # {'å§“å': 'å°æ˜', 'å¹´é¾„': 18, 'ç­çº§': 'é«˜ä¸‰1ç­', 'æˆç»©': 95}
```

**æ–¹å¼3ï¼šç”¨é”®å€¼å¯¹åˆ—è¡¨æ›´æ–°**
```python
student = {"å§“å": "å°æ˜"}
updates = [("å¹´é¾„", 18), ("ç­çº§", "é«˜ä¸‰1ç­")]
student.update(updates)
print(student)  # {'å§“å': 'å°æ˜', 'å¹´é¾„': 18, 'ç­çº§': 'é«˜ä¸‰1ç­'}
```

**ğŸŒŸ å®é™…åº”ç”¨åœºæ™¯**ï¼š
```python
# åˆå¹¶ç”¨æˆ·è®¾ç½®
default_settings = {"theme": "light", "language": "zh", "notifications": True}
user_settings = {"theme": "dark", "font_size": 14}

# ç”¨æˆ·è®¾ç½®è¦†ç›–é»˜è®¤è®¾ç½®
final_settings = default_settings.copy()
final_settings.update(user_settings)
print(final_settings)
# {'theme': 'dark', 'language': 'zh', 'notifications': True, 'font_size': 14}
```

### 3.2 setdefault() - æ™ºèƒ½è®¾ç½®é»˜è®¤å€¼


**ä½œç”¨**ï¼šå¦‚æœé”®ä¸å­˜åœ¨å°±æ·»åŠ ï¼Œå­˜åœ¨å°±ä¸åŠ¨ï¼ˆæ™ºèƒ½æ·»åŠ ï¼Œä¸é‡å¤ï¼‰

```python
# åŸºç¡€ç”¨æ³•
student = {"å§“å": "å°æ˜", "å¹´é¾„": 18}

# æ·»åŠ ä¸å­˜åœ¨çš„é”®
result1 = student.setdefault("ç­çº§", "é«˜ä¸‰1ç­")
print(result1)  # "é«˜ä¸‰1ç­"
print(student)  # {'å§“å': 'å°æ˜', 'å¹´é¾„': 18, 'ç­çº§': 'é«˜ä¸‰1ç­'}

# å°è¯•æ·»åŠ å·²å­˜åœ¨çš„é”®
result2 = student.setdefault("å¹´é¾„", 20)
print(result2)  # 18 - è¿”å›åŸæ¥çš„å€¼
print(student)  # {'å§“å': 'å°æ˜', 'å¹´é¾„': 18, 'ç­çº§': 'é«˜ä¸‰1ç­'} - å¹´é¾„æ²¡å˜
```

**ğŸ¯ ç»å…¸åº”ç”¨åœºæ™¯**ï¼š
```python
# ç»Ÿè®¡å­—ç¬¦å‡ºç°æ¬¡æ•°
text = "hello world"
char_count = {}

for char in text:
    char_count.setdefault(char, 0)  # ç¡®ä¿é”®å­˜åœ¨ï¼Œé»˜è®¤ä¸º0
    char_count[char] += 1

print(char_count)  # {'h': 1, 'e': 1, 'l': 3, 'o': 2, ' ': 1, 'w': 1, 'r': 1, 'd': 1}
```

**ğŸ’¡ å¯¹æ¯”ç†è§£ - ä¸‰ç§æ–¹å¼**ï¼š
```python
scores = {}

# æ–¹å¼1ï¼šä¼ ç»Ÿæ–¹å¼ï¼ˆç¹çï¼‰
if "æ•°å­¦" not in scores:
    scores["æ•°å­¦"] = []
scores["æ•°å­¦"].append(95)

# æ–¹å¼2ï¼šä½¿ç”¨getï¼ˆç®€æ´ä½†éœ€è¦é‡æ–°èµ‹å€¼ï¼‰
scores["è¯­æ–‡"] = scores.get("è¯­æ–‡", [])
scores["è¯­æ–‡"].append(88)

# æ–¹å¼3ï¼šä½¿ç”¨setdefaultï¼ˆæœ€ä¼˜é›…ï¼‰
scores.setdefault("è‹±è¯­", []).append(92)
```

---

## 4. ğŸ—‘ï¸ åˆ é™¤æ“ä½œæ–¹æ³•


### 4.1 pop() - åˆ é™¤æŒ‡å®šé”®å¹¶è¿”å›å€¼


**ä½œç”¨**ï¼šåˆ é™¤æŒ‡å®šçš„é”®å€¼å¯¹ï¼Œå¹¶è¿”å›å¯¹åº”çš„å€¼ï¼ˆæŒ‡å®šåˆ é™¤æŸä¸ªè”ç³»äººï¼‰

```python
# åŸºç¡€ç”¨æ³•
student = {"å§“å": "å°æ˜", "å¹´é¾„": 18, "ç­çº§": "é«˜ä¸‰1ç­"}

# åˆ é™¤å¹¶è·å–å€¼
age = student.pop("å¹´é¾„")
print(age)  # 18
print(student)  # {'å§“å': 'å°æ˜', 'ç­çº§': 'é«˜ä¸‰1ç­'}
```

**ğŸ›¡ï¸ å®‰å…¨åˆ é™¤ï¼ˆè®¾ç½®é»˜è®¤å€¼ï¼‰**ï¼š
```python
student = {"å§“å": "å°æ˜", "å¹´é¾„": 18}

# åˆ é™¤ä¸å­˜åœ¨çš„é”®ï¼Œè¿”å›é»˜è®¤å€¼
phone = student.pop("ç”µè¯", "æ— ")
print(phone)  # "æ— "
print(student)  # {'å§“å': 'å°æ˜', 'å¹´é¾„': 18} - å­—å…¸æ²¡å˜åŒ–

# åˆ é™¤ä¸å­˜åœ¨çš„é”®ï¼Œä¸è®¾é»˜è®¤å€¼ä¼šæŠ¥é”™
# score = student.pop("æˆç»©")  # KeyError!
```

**ğŸ¯ å®ç”¨åœºæ™¯**ï¼š
```python
# å¤„ç†è¡¨å•æ•°æ®ï¼Œæå–ç‰¹æ®Šå­—æ®µ
form_data = {
    "username": "admin",
    "password": "123456",
    "csrf_token": "abc123",
    "remember_me": True
}

# æå–å¹¶åˆ é™¤æ•æ„Ÿä¿¡æ¯
token = form_data.pop("csrf_token")
password = form_data.pop("password")

print("å¤„ç†åçš„æ•°æ®ï¼š", form_data)  # {'username': 'admin', 'remember_me': True}
print("æå–çš„å¯†ç ï¼š", password)
```

### 4.2 popitem() - åˆ é™¤ä»»æ„é”®å€¼å¯¹


**ä½œç”¨**ï¼šåˆ é™¤å¹¶è¿”å›ä»»æ„ä¸€ä¸ªé”®å€¼å¯¹ï¼ˆéšæœºåˆ é™¤ä¸€ä¸ªè”ç³»äººï¼‰

```python
student = {"å§“å": "å°æ˜", "å¹´é¾„": 18, "ç­çº§": "é«˜ä¸‰1ç­"}

# åˆ é™¤ä»»æ„ä¸€ä¸ª
key, value = student.popitem()
print(f"åˆ é™¤äº† {key}: {value}")  # åˆ é™¤äº† ç­çº§: é«˜ä¸‰1ç­
print(student)  # {'å§“å': 'å°æ˜', 'å¹´é¾„': 18}
```

**âš ï¸ æ–°æ‰‹æ³¨æ„**ï¼š
- Python 3.7+æŒ‰æ’å…¥é¡ºåºåˆ é™¤æœ€åä¸€ä¸ª
- ç©ºå­—å…¸è°ƒç”¨ä¼šæŠ¥é”™ `KeyError`
- ä¸»è¦ç”¨äºéœ€è¦é€ä¸ªå¤„ç†æ‰€æœ‰å…ƒç´ çš„åœºæ™¯

**ğŸ’¡ å®ç”¨åœºæ™¯**ï¼š
```python
# å¤„ç†ä»»åŠ¡é˜Ÿåˆ—
tasks = {"task1": "å‘é€é‚®ä»¶", "task2": "ç”ŸæˆæŠ¥å‘Š", "task3": "å¤‡ä»½æ•°æ®"}

while tasks:
    task_id, task_desc = tasks.popitem()
    print(f"æ­£åœ¨æ‰§è¡Œï¼š{task_desc}")
    # æ‰§è¡Œä»»åŠ¡...

print("æ‰€æœ‰ä»»åŠ¡å®Œæˆï¼")
```

### 4.3 clear() - æ¸…ç©ºå­—å…¸


**ä½œç”¨**ï¼šåˆ é™¤å­—å…¸ä¸­çš„æ‰€æœ‰é”®å€¼å¯¹ï¼ˆæ¸…ç©ºé€šè®¯å½•ï¼‰

```python
student = {"å§“å": "å°æ˜", "å¹´é¾„": 18, "ç­çº§": "é«˜ä¸‰1ç­"}
print("æ¸…ç©ºå‰ï¼š", student)  # {'å§“å': 'å°æ˜', 'å¹´é¾„': 18, 'ç­çº§': 'é«˜ä¸‰1ç­'}

student.clear()
print("æ¸…ç©ºåï¼š", student)  # {}
```

**ğŸ”„ å¯¹æ¯”å…¶ä»–æ¸…ç©ºæ–¹å¼**ï¼š
```python
# æ–¹å¼1ï¼šclear()æ–¹æ³•ï¼ˆæ¨èï¼‰
dict1 = {"a": 1, "b": 2}
dict1.clear()
print(dict1)  # {}

# æ–¹å¼2ï¼šé‡æ–°èµ‹å€¼ç©ºå­—å…¸
dict2 = {"a": 1, "b": 2}
dict2 = {}
print(dict2)  # {}

# ä¸¤ç§æ–¹å¼çš„åŒºåˆ«åœ¨äºå¼•ç”¨å…³ç³»
```

---

## 5. ğŸ“„ å¤åˆ¶æ“ä½œæ–¹æ³•


### 5.1 copy() - æµ…æ‹·è´å­—å…¸


**ä½œç”¨**ï¼šåˆ›å»ºå­—å…¸çš„å‰¯æœ¬ï¼ˆå¤‡ä»½é€šè®¯å½•ï¼‰

```python
original = {"å§“å": "å°æ˜", "å¹´é¾„": 18, "çˆ±å¥½": ["ç¯®çƒ", "éŸ³ä¹"]}
backup = original.copy()

print("åŸå­—å…¸ï¼š", original)
print("å¤‡ä»½å­—å…¸ï¼š", backup)
print("æ˜¯å¦æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼š", original is backup)  # False
```

**ğŸ¯ æµ…æ‹·è´çš„ç‰¹ç‚¹**ï¼š
```python
original = {"å§“å": "å°æ˜", "çˆ±å¥½": ["ç¯®çƒ", "éŸ³ä¹"]}
backup = original.copy()

# ä¿®æ”¹ç¬¬ä¸€å±‚æ•°æ® - äº’ä¸å½±å“
backup["å§“å"] = "å°çº¢"
print("åŸå­—å…¸å§“åï¼š", original["å§“å"])  # å°æ˜
print("å¤‡ä»½å­—å…¸å§“åï¼š", backup["å§“å"])   # å°çº¢

# ä¿®æ”¹åµŒå¥—æ•°æ® - ä¼šç›¸äº’å½±å“
backup["çˆ±å¥½"].append("é˜…è¯»")
print("åŸå­—å…¸çˆ±å¥½ï¼š", original["çˆ±å¥½"])  # ['ç¯®çƒ', 'éŸ³ä¹', 'é˜…è¯»']
print("å¤‡ä»½å­—å…¸çˆ±å¥½ï¼š", backup["çˆ±å¥½"])   # ['ç¯®çƒ', 'éŸ³ä¹', 'é˜…è¯»']
```

**ğŸ’¡ ä½•æ—¶éœ€è¦æ·±æ‹·è´**ï¼š
```python
import copy

original = {"ç”¨æˆ·": {"å§“å": "å°æ˜", "çˆ±å¥½": ["ç¯®çƒ"]}}

# æµ…æ‹·è´
shallow = original.copy()
# æ·±æ‹·è´
deep = copy.deepcopy(original)

# ä¿®æ”¹åµŒå¥—æ•°æ®
shallow["ç”¨æˆ·"]["çˆ±å¥½"].append("éŸ³ä¹")

print("åŸå­—å…¸ï¼š", original)   # è¢«å½±å“äº†
print("æµ…æ‹·è´ï¼š", shallow)   # ä¸€èµ·å˜åŒ–
print("æ·±æ‹·è´ï¼š", deep)      # ä¸å—å½±å“
```

---

## 6. ğŸš€ å®æˆ˜åº”ç”¨åœºæ™¯


### 6.1 æ•°æ®å¤„ç†ç»¼åˆåº”ç”¨


**åœºæ™¯ï¼šå­¦ç”Ÿæˆç»©ç®¡ç†ç³»ç»Ÿ**
```python
# å­¦ç”Ÿæ•°æ®
students = {
    "001": {"å§“å": "å°æ˜", "è¯­æ–‡": 85, "æ•°å­¦": 92},
    "002": {"å§“å": "å°çº¢", "è¯­æ–‡": 88, "æ•°å­¦": 95},
    "003": {"å§“å": "å°åˆš", "è¯­æ–‡": 82}  # ç¼ºå°‘æ•°å­¦æˆç»©
}

# 1. ä½¿ç”¨get()å®‰å…¨è·å–æˆç»©ï¼Œç¼ºå¤±æ—¶ç”¨0
for student_id, info in students.items():
    math_score = info.get("æ•°å­¦", 0)
    chinese_score = info.get("è¯­æ–‡", 0)
    total = math_score + chinese_score
    print(f"{info['å§“å']}ï¼šæ€»åˆ† {total}")

# 2. ä½¿ç”¨setdefault()ä¸ºç¼ºå¤±ç§‘ç›®è®¾ç½®é»˜è®¤æˆç»©
for student_id, info in students.items():
    info.setdefault("æ•°å­¦", 0)
    info.setdefault("è‹±è¯­", 0)

print("è¡¥å…¨åçš„æ•°æ®ï¼š")
for student_id, info in students.items():
    print(f"{student_id}: {info}")
```

### 6.2 é…ç½®æ–‡ä»¶åˆå¹¶


**åœºæ™¯ï¼šåº”ç”¨é…ç½®ç®¡ç†**
```python
# é»˜è®¤é…ç½®
default_config = {
    "host": "localhost",
    "port": 8080,
    "debug": False,
    "timeout": 30,
    "database": {
        "host": "localhost",
        "port": 3306
    }
}

# ç”¨æˆ·é…ç½®
user_config = {
    "port": 9000,
    "debug": True,
    "api_key": "secret123"
}

# åˆå¹¶é…ç½®
final_config = default_config.copy()
final_config.update(user_config)

print("æœ€ç»ˆé…ç½®ï¼š")
for key, value in final_config.items():
    print(f"{key}: {value}")
```

### 6.3 ç¼“å­˜ç³»ç»Ÿå®ç°


**åœºæ™¯ï¼šç®€å•çš„å†…å­˜ç¼“å­˜**
```python
class SimpleCache:
    def __init__(self, max_size=100):
        self.cache = {}
        self.max_size = max_size
    
    def get(self, key):
        """è·å–ç¼“å­˜å€¼"""
        return self.cache.get(key)
    
    def set(self, key, value):
        """è®¾ç½®ç¼“å­˜å€¼"""
        # å¦‚æœç¼“å­˜æ»¡äº†ï¼Œåˆ é™¤ä¸€ä¸ªæ—§çš„
        if len(self.cache) >= self.max_size:
            old_key, _ = self.cache.popitem()
            print(f"ç¼“å­˜å·²æ»¡ï¼Œåˆ é™¤: {old_key}")
        
        self.cache[key] = value
    
    def clear(self):
        """æ¸…ç©ºç¼“å­˜"""
        self.cache.clear()
        print("ç¼“å­˜å·²æ¸…ç©º")
    
    def status(self):
        """æŸ¥çœ‹ç¼“å­˜çŠ¶æ€"""
        print(f"ç¼“å­˜é¡¹æ•°: {len(self.cache)}")
        print(f"ç¼“å­˜é”®: {list(self.cache.keys())}")

# ä½¿ç”¨ç¤ºä¾‹
cache = SimpleCache(max_size=3)
cache.set("user:123", {"name": "å°æ˜", "age": 18})
cache.set("user:456", {"name": "å°çº¢", "age": 19})
cache.set("user:789", {"name": "å°åˆš", "age": 20})

cache.status()
print("è·å–ç”¨æˆ·123:", cache.get("user:123"))

# æ·»åŠ ç¬¬4ä¸ªä¼šåˆ é™¤ç¬¬1ä¸ª
cache.set("user:999", {"name": "å°æ", "age": 21})
cache.status()
```

---

## 7. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 7.1 æ–¹æ³•åˆ†ç±»è®°å¿†


| æ–¹æ³•ç±»å‹ | æ–¹æ³•å | ä½œç”¨ | æ˜¯å¦ä¿®æ”¹åŸå­—å…¸ | è¿”å›å€¼ |
|---------|--------|------|----------------|--------|
| ğŸ” **è·å–ç±»** | `keys()` | è·å–æ‰€æœ‰é”® | âŒ | é”®çš„è§†å›¾ |
| | `values()` | è·å–æ‰€æœ‰å€¼ | âŒ | å€¼çš„è§†å›¾ |
| | `items()` | è·å–é”®å€¼å¯¹ | âŒ | é”®å€¼å¯¹è§†å›¾ |
| | `get(key, default)` | å®‰å…¨è·å–å€¼ | âŒ | å€¼æˆ–é»˜è®¤å€¼ |
| âœï¸ **ä¿®æ”¹ç±»** | `update()` | æ‰¹é‡æ›´æ–° | âœ… | None |
| | `setdefault()` | æ™ºèƒ½è®¾ç½® | âœ… | é”®å¯¹åº”çš„å€¼ |
| ğŸ—‘ï¸ **åˆ é™¤ç±»** | `pop(key)` | åˆ é™¤æŒ‡å®šé”® | âœ… | è¢«åˆ é™¤çš„å€¼ |
| | `popitem()` | åˆ é™¤ä»»æ„é”®å€¼å¯¹ | âœ… | (é”®, å€¼)å…ƒç»„ |
| | `clear()` | æ¸…ç©ºå­—å…¸ | âœ… | None |
| ğŸ“„ **å¤åˆ¶ç±»** | `copy()` | æµ…æ‹·è´ | âŒ | æ–°å­—å…¸ |

### 7.2 ä½¿ç”¨åœºæ™¯é€ŸæŸ¥


**ğŸ” ä»€ä¹ˆæ—¶å€™ç”¨get()ï¼Ÿ**
```python
# âœ… å½“é”®å¯èƒ½ä¸å­˜åœ¨æ—¶
user_age = user_info.get("age", "æœªçŸ¥")

# âŒ ç¡®å®šé”®å­˜åœ¨æ—¶æ²¡å¿…è¦
user_name = user_info["name"]  # è¿™æ ·æ›´ç›´æ¥
```

**âš¡ ä»€ä¹ˆæ—¶å€™ç”¨setdefault()ï¼Ÿ**
```python
# âœ… éœ€è¦ç¡®ä¿é”®å­˜åœ¨å¹¶æœ‰é»˜è®¤å€¼
scores.setdefault("æ•°å­¦", []).append(95)

# âŒ åªæ˜¯ç®€å•èµ‹å€¼
scores["æ•°å­¦"] = 95  # è¿™æ ·æ›´ç®€å•
```

**ğŸ”„ ä»€ä¹ˆæ—¶å€™ç”¨update()ï¼Ÿ**
```python
# âœ… æ‰¹é‡æ·»åŠ å¤šä¸ªé”®å€¼å¯¹
config.update(host="localhost", port=8080, debug=True)

# âŒ å•ä¸ªé”®å€¼å¯¹
config["host"] = "localhost"  # è¿™æ ·æ›´ç›´æ¥
```

### 7.3 æ–°æ‰‹å¸¸è§é”™è¯¯


**âŒ é”™è¯¯1ï¼šå¿˜è®°è½¬æ¢è§†å›¾å¯¹è±¡**
```python
# é”™è¯¯
keys = student.keys()
print(keys[0])  # TypeError!

# æ­£ç¡®
keys = list(student.keys())
print(keys[0])  # æ­£å¸¸å·¥ä½œ
```

**âŒ é”™è¯¯2ï¼špop()ä¸å­˜åœ¨çš„é”®**
```python
# é”™è¯¯
value = student.pop("ä¸å­˜åœ¨çš„é”®")  # KeyError!

# æ­£ç¡®
value = student.pop("ä¸å­˜åœ¨çš„é”®", "é»˜è®¤å€¼")
```

**âŒ é”™è¯¯3ï¼šæ··æ·†æµ…æ‹·è´å’Œæ·±æ‹·è´**
```python
# éœ€è¦æ·±æ‹·è´çš„åœºæ™¯
import copy
new_dict = copy.deepcopy(original_dict)  # å®Œå…¨ç‹¬ç«‹çš„å‰¯æœ¬
```

### 7.4 æ€§èƒ½æç¤º


**âš¡ æ•ˆç‡å¯¹æ¯”**ï¼š
- `get()` vs `in` + `[]`ï¼šget()æ›´ç®€æ´å®‰å…¨
- `setdefault()` vs æ‰‹åŠ¨æ£€æŸ¥ï¼šsetdefault()æ›´é«˜æ•ˆ
- `update()` vs é€ä¸ªèµ‹å€¼ï¼šupdate()æ‰¹é‡æ“ä½œæ›´å¿«
- `clear()` vs é‡æ–°èµ‹å€¼ï¼šclear()ä¿æŒå¼•ç”¨å…³ç³»

**ğŸ’¡ æœ€ä½³å®è·µ**ï¼š
- ä¼˜å…ˆä½¿ç”¨å­—å…¸æ–¹æ³•è€Œä¸æ˜¯æ‰‹åŠ¨å®ç°
- éœ€è¦å®‰å…¨è·å–æ—¶ç”¨`get()`
- éœ€è¦æ‰¹é‡æ“ä½œæ—¶ç”¨`update()`
- éœ€è¦ç¡®ä¿é”®å­˜åœ¨æ—¶ç”¨`setdefault()`

**æ ¸å¿ƒè®°å¿†å£è¯€**ï¼š
- è·å–æ•°æ®ç”¨keysã€valuesã€itemsã€get
- ä¿®æ”¹æ•°æ®ç”¨updateã€setdefaultæœ€æ£’
- åˆ é™¤æ•°æ®popã€popitemã€clearè¦è®°ç‰¢
- å¤åˆ¶å­—å…¸copyæ–¹æ³•ä¸èƒ½å°‘