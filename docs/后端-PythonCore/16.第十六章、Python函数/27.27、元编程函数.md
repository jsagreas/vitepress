---
title: 27ã€å…ƒç¼–ç¨‹å‡½æ•°
---
## ğŸ“š ç›®å½•

1. [å…ƒç¼–ç¨‹åŸºç¡€æ¦‚å¿µ](#1-å…ƒç¼–ç¨‹åŸºç¡€æ¦‚å¿µ)
2. [super()çˆ¶ç±»è°ƒç”¨è¯¦è§£](#2-superçˆ¶ç±»è°ƒç”¨è¯¦è§£)
3. [classmethod()ç±»æ–¹æ³•è£…é¥°å™¨](#3-classmethodç±»æ–¹æ³•è£…é¥°å™¨)
4. [staticmethod()é™æ€æ–¹æ³•è£…é¥°å™¨](#4-staticmethodé™æ€æ–¹æ³•è£…é¥°å™¨)
5. [property()å±æ€§è£…é¥°å™¨](#5-propertyå±æ€§è£…é¥°å™¨)
6. [å®æˆ˜åº”ç”¨åœºæ™¯](#6-å®æˆ˜åº”ç”¨åœºæ™¯)
7. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#7-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ§  å…ƒç¼–ç¨‹åŸºç¡€æ¦‚å¿µ


### 1.1 ä»€ä¹ˆæ˜¯å…ƒç¼–ç¨‹


**ç®€å•ç†è§£**ï¼šå…ƒç¼–ç¨‹å°±æ˜¯**å†™ä»£ç æ¥æ“ä½œä»£ç **çš„æŠ€æœ¯

```
ç”Ÿæ´»ç±»æ¯”ï¼š
æ™®é€šç¼–ç¨‹ = ç”¨å·¥å…·åˆ¶ä½œäº§å“
å…ƒç¼–ç¨‹ = åˆ¶ä½œå·¥å…·çš„å·¥å…·

å®é™…å¯¹åº”ï¼š
æ™®é€šç¼–ç¨‹ï¼šå†™å‡½æ•°å¤„ç†æ•°æ®
å…ƒç¼–ç¨‹ï¼šå†™ä»£ç ä¿®æ”¹ç±»çš„è¡Œä¸ºã€åˆ›å»ºæ–°çš„æ–¹æ³•
```

**ğŸ”¸ å…ƒç¼–ç¨‹çš„æ ¸å¿ƒä½œç”¨**
- **åŠ¨æ€åˆ›å»º**ï¼šåœ¨ç¨‹åºè¿è¡Œæ—¶åˆ›å»ºæˆ–ä¿®æ”¹ç±»å’Œå‡½æ•°
- **è¡Œä¸ºå¢å¼º**ï¼šä¸ºç°æœ‰çš„ç±»å’Œæ–¹æ³•æ·»åŠ æ–°åŠŸèƒ½
- **ä»£ç å¤ç”¨**ï¼šç”¨æ›´å°‘çš„ä»£ç å®ç°æ›´å¤šçš„åŠŸèƒ½
- **çµæ´»æ§åˆ¶**ï¼šè®©ç¨‹åºå…·æœ‰è‡ªæˆ‘ä¿®æ”¹çš„èƒ½åŠ›

### 1.2 Pythonä¸­çš„å…ƒç¼–ç¨‹å·¥å…·


```
Pythonå…ƒç¼–ç¨‹å››å¤§é‡‘åˆšï¼š

ğŸ”¹ super()      â† è°ƒç”¨çˆ¶ç±»æ–¹æ³•ï¼Œå®ç°ç»§æ‰¿é“¾
ğŸ”¹ classmethod  â† æŠŠæ–¹æ³•å˜æˆç±»æ–¹æ³•
ğŸ”¹ staticmethod â† æŠŠæ–¹æ³•å˜æˆé™æ€æ–¹æ³•  
ğŸ”¹ property     â† æŠŠæ–¹æ³•å˜æˆå±æ€§
```

**ğŸ’¡ ä¸ºä»€ä¹ˆè¦å­¦å…ƒç¼–ç¨‹**
- **ç»§æ‰¿é—®é¢˜**ï¼šå¤šé‡ç»§æ‰¿æ—¶å¦‚ä½•æ­£ç¡®è°ƒç”¨çˆ¶ç±»æ–¹æ³•ï¼Ÿ
- **æ–¹æ³•åˆ†ç±»**ï¼šä»€ä¹ˆæ—¶å€™ç”¨å®ä¾‹æ–¹æ³•ã€ç±»æ–¹æ³•ã€é™æ€æ–¹æ³•ï¼Ÿ
- **å±æ€§å°è£…**ï¼šå¦‚ä½•è®©æ–¹æ³•åƒå±æ€§ä¸€æ ·ä½¿ç”¨ï¼Ÿ

---

## 2. ğŸ”— super()çˆ¶ç±»è°ƒç”¨è¯¦è§£


### 2.1 super()çš„æœ¬è´¨å«ä¹‰


**ğŸ¯ æ ¸å¿ƒæ¦‚å¿µ**ï¼š`super()`æ˜¯ä¸€ä¸ª**"çˆ¶ç±»ä»£ç†å™¨"**ï¼Œå¸®ä½ æ‰¾åˆ°å¹¶è°ƒç”¨çˆ¶ç±»çš„æ–¹æ³•

```
ç®€å•ç†è§£ï¼š
class å„¿å­(çˆ¶äº²):
    def è¯´è¯(self):
        super().è¯´è¯()  # å…ˆè®©çˆ¶äº²è¯´è¯
        print("ç„¶åå„¿å­è¡¥å……")  # å†è‡ªå·±è¯´è¯
```

### 2.2 ä¸ºä»€ä¹ˆéœ€è¦super()


**âŒ ä¸ç”¨super()çš„é—®é¢˜**
```python
class Animal:
    def __init__(self, name):
        self.name = name
        print(f"åŠ¨ç‰©{name}å‡ºç”Ÿäº†")

class Dog(Animal):
    def __init__(self, name, breed):
        # ç›´æ¥è°ƒç”¨çˆ¶ç±» - ä¸æ¨èçš„æ–¹å¼
        Animal.__init__(self, name)
        self.breed = breed
        print(f"è¿™æ˜¯ä¸€åª{breed}")
```

**é—®é¢˜åˆ†æ**ï¼š
- â‘ ï¸âƒ£ **ç¡¬ç¼–ç **ï¼šç›´æ¥å†™`Animal.__init__`ï¼Œå¦‚æœæ”¹çˆ¶ç±»åå°±éº»çƒ¦
- â‘¡ï¸âƒ£ **å¤šé‡ç»§æ‰¿æ··ä¹±**ï¼šæœ‰å¤šä¸ªçˆ¶ç±»æ—¶ï¼Œè°ƒç”¨é¡ºåºå®¹æ˜“å‡ºé”™
- â‘¢ï¸âƒ£ **ç»´æŠ¤å›°éš¾**ï¼šä»£ç ä¸å¤Ÿçµæ´»

**âœ… ä½¿ç”¨super()çš„æ­£ç¡®æ–¹å¼**
```python
class Animal:
    def __init__(self, name):
        self.name = name
        print(f"åŠ¨ç‰©{name}å‡ºç”Ÿäº†")

class Dog(Animal):
    def __init__(self, name, breed):
        super().__init__(name)  # ä¼˜é›…åœ°è°ƒç”¨çˆ¶ç±»
        self.breed = breed
        print(f"è¿™æ˜¯ä¸€åª{breed}")

# ä½¿ç”¨ç¤ºä¾‹
my_dog = Dog("æ—ºè´¢", "é‡‘æ¯›")
# è¾“å‡ºï¼š
# åŠ¨ç‰©æ—ºè´¢å‡ºç”Ÿäº†
# è¿™æ˜¯ä¸€åªé‡‘æ¯›
```

### 2.3 super()çš„å·¥ä½œåŸç†


**ğŸ”„ æ–¹æ³•è§£æé¡ºåºï¼ˆMROï¼‰**

```python
class A:
    def method(self):
        print("Açš„æ–¹æ³•")

class B(A):
    def method(self):
        print("Bè°ƒç”¨å‰")
        super().method()  # æŒ‰MROé¡ºåºæ‰¾ä¸‹ä¸€ä¸ª
        print("Bè°ƒç”¨å")

class C(A):
    def method(self):
        print("Cè°ƒç”¨å‰")
        super().method()
        print("Cè°ƒç”¨å")

class D(B, C):  # å¤šé‡ç»§æ‰¿
    def method(self):
        print("Dè°ƒç”¨å‰")
        super().method()
        print("Dè°ƒç”¨å")

# æŸ¥çœ‹æ–¹æ³•è§£æé¡ºåº
print(D.__mro__)
# (<class 'D'>, <class 'B'>, <class 'C'>, <class 'A'>, <class 'object'>)

d = D()
d.method()
```

**è¾“å‡ºç»“æœ**ï¼š
```
Dè°ƒç”¨å‰
Bè°ƒç”¨å‰
Cè°ƒç”¨å‰
Açš„æ–¹æ³•
Cè°ƒç”¨å
Bè°ƒç”¨å
Dè°ƒç”¨å
```

**ğŸ“Š MROè§£ææµç¨‹å›¾**
```
è°ƒç”¨ d.method() 
    â†“
D.method() â†’ super() æ‰¾åˆ° B
    â†“
B.method() â†’ super() æ‰¾åˆ° C  
    â†“
C.method() â†’ super() æ‰¾åˆ° A
    â†“
A.method() â†’ æ‰§è¡Œå®Œæ¯•
    â†“
è¿”å› C â†’ è¿”å› B â†’ è¿”å› D
```

### 2.4 super()çš„å®ç”¨åœºæ™¯


**åœºæ™¯1ï¼šæ‰©å±•çˆ¶ç±»åŠŸèƒ½**
```python
class BankAccount:
    def __init__(self, balance):
        self.balance = balance
    
    def withdraw(self, amount):
        if amount <= self.balance:
            self.balance -= amount
            return True
        return False

class SavingsAccount(BankAccount):
    def __init__(self, balance, interest_rate):
        super().__init__(balance)  # ç»§æ‰¿çˆ¶ç±»åˆå§‹åŒ–
        self.interest_rate = interest_rate
    
    def withdraw(self, amount):
        # å‚¨è“„è´¦æˆ·æœ‰æ‰‹ç»­è´¹
        fee = 2
        total = amount + fee
        return super().withdraw(total)  # è°ƒç”¨çˆ¶ç±»å–æ¬¾é€»è¾‘
```

**åœºæ™¯2ï¼šåä½œå¼ç»§æ‰¿**
```python
class Logger:
    def log(self, message):
        print(f"[LOG] {message}")

class TimestampLogger(Logger):
    def log(self, message):
        import datetime
        timestamp = datetime.datetime.now()
        super().log(f"{timestamp} - {message}")

class FileLogger(Logger):
    def log(self, message):
        super().log(message)  # å…ˆæ‰“å°åˆ°æ§åˆ¶å°
        with open("log.txt", "a") as f:
            f.write(message + "\n")  # å†å†™å…¥æ–‡ä»¶
```

---

## 3. ğŸ·ï¸ classmethod()ç±»æ–¹æ³•è£…é¥°å™¨


### 3.1 ç±»æ–¹æ³•çš„åŸºæœ¬æ¦‚å¿µ


**ğŸ¯ æ ¸å¿ƒç†è§£**ï¼šç±»æ–¹æ³•æ˜¯**å±äºç±»çš„æ–¹æ³•**ï¼Œä¸éœ€è¦åˆ›å»ºå®ä¾‹å°±èƒ½è°ƒç”¨

```
ç”Ÿæ´»ç±»æ¯”ï¼š
å®ä¾‹æ–¹æ³• = æ¯ä¸ªäººçš„ä¸ªäººæŠ€èƒ½ï¼ˆéœ€è¦å…·ä½“çš„äººï¼‰
ç±»æ–¹æ³•   = äººç±»çš„å…±åŒèƒ½åŠ›ï¼ˆä¸éœ€è¦å…·ä½“çš„äººï¼‰

ä»£ç å¯¹åº”ï¼š
å®ä¾‹æ–¹æ³•ï¼štom.say_hello()  # éœ€è¦tomè¿™ä¸ªäºº
ç±»æ–¹æ³•ï¼š  Human.get_species()  # ç›´æ¥é—®äººç±»
```

### 3.2 classmethodçš„è¯­æ³•å’Œä½¿ç”¨


**ğŸ“ åŸºæœ¬è¯­æ³•**
```python
class MyClass:
    class_variable = "æˆ‘æ˜¯ç±»å˜é‡"
    
    @classmethod
    def class_method(cls):  # ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯cls(class)
        return f"è¿™æ˜¯ç±»æ–¹æ³•ï¼Œè®¿é—®ï¼š{cls.class_variable}"
    
    def instance_method(self):  # ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯self
        return f"è¿™æ˜¯å®ä¾‹æ–¹æ³•"

# è°ƒç”¨æ–¹å¼å¯¹æ¯”
print(MyClass.class_method())     # ç›´æ¥ç”¨ç±»åè°ƒç”¨
print(MyClass().instance_method()) # éœ€è¦å…ˆåˆ›å»ºå®ä¾‹
```

### 3.3 classmethodçš„å…¸å‹åº”ç”¨


**åº”ç”¨1ï¼šæ›¿ä»£æ„é€ å‡½æ•°**
```python
class Person:
    def __init__(self, name, age):
        self.name = name
        self.age = age
    
    @classmethod
    def from_string(cls, person_str):
        """ä»å­—ç¬¦ä¸²åˆ›å»ºPersonå¯¹è±¡"""
        name, age = person_str.split('-')
        return cls(name, int(age))  # clsç›¸å½“äºPerson
    
    @classmethod 
    def baby(cls, name):
        """åˆ›å»ºå©´å„¿ï¼ˆå›ºå®šå¹´é¾„0å²ï¼‰"""
        return cls(name, 0)

# å¤šç§åˆ›å»ºæ–¹å¼
person1 = Person("å¼ ä¸‰", 25)                    # æ™®é€šæ–¹å¼
person2 = Person.from_string("æå››-30")          # ä»å­—ç¬¦ä¸²
person3 = Person.baby("ç‹äº”")                   # åˆ›å»ºå©´å„¿

print(f"{person2.name}ä»Šå¹´{person2.age}å²")     # æå››ä»Šå¹´30å²
print(f"{person3.name}ä»Šå¹´{person3.age}å²")     # ç‹äº”ä»Šå¹´0å²
```

**åº”ç”¨2ï¼šå•ä¾‹æ¨¡å¼**
```python
class DatabaseConnection:
    _instance = None
    
    def __init__(self, host):
        self.host = host
    
    @classmethod
    def get_instance(cls, host="localhost"):
        """è·å–å•ä¾‹å®ä¾‹"""
        if cls._instance is None:
            cls._instance = cls(host)
        return cls._instance

# æ— è®ºè°ƒç”¨å¤šå°‘æ¬¡ï¼Œéƒ½æ˜¯åŒä¸€ä¸ªå®ä¾‹
db1 = DatabaseConnection.get_instance()
db2 = DatabaseConnection.get_instance()
print(db1 is db2)  # True - æ˜¯åŒä¸€ä¸ªå¯¹è±¡
```

**åº”ç”¨3ï¼šç±»çº§åˆ«çš„å·¥å…·æ–¹æ³•**
```python
class MathUtils:
    PI = 3.14159
    
    @classmethod
    def circle_area(cls, radius):
        """è®¡ç®—åœ†å½¢é¢ç§¯"""
        return cls.PI * radius * radius
    
    @classmethod
    def is_prime(cls, number):
        """åˆ¤æ–­æ˜¯å¦ä¸ºè´¨æ•°"""
        if number < 2:
            return False
        for i in range(2, int(number ** 0.5) + 1):
            if number % i == 0:
                return False
        return True

# ç›´æ¥é€šè¿‡ç±»è°ƒç”¨å·¥å…·æ–¹æ³•
area = MathUtils.circle_area(5)      # 78.53975
is_prime = MathUtils.is_prime(17)    # True
```

---

## 4. âš¡ staticmethod()é™æ€æ–¹æ³•è£…é¥°å™¨


### 4.1 é™æ€æ–¹æ³•çš„åŸºæœ¬æ¦‚å¿µ


**ğŸ¯ æ ¸å¿ƒç†è§£**ï¼šé™æ€æ–¹æ³•æ˜¯**ç‹¬ç«‹çš„å‡½æ•°**ï¼Œåªæ˜¯æ”¾åœ¨ç±»é‡Œé¢æ–¹ä¾¿ç»„ç»‡

```
ç†è§£è§’åº¦ï¼š
å®ä¾‹æ–¹æ³• = éœ€è¦selfï¼ˆä¸ªäººæŠ€èƒ½ï¼‰
ç±»æ–¹æ³•   = éœ€è¦clsï¼ˆç¾¤ä½“æŠ€èƒ½ï¼‰  
é™æ€æ–¹æ³• = ä»€ä¹ˆéƒ½ä¸éœ€è¦ï¼ˆçº¯å·¥å…·å‡½æ•°ï¼‰

ç”Ÿæ´»ç±»æ¯”ï¼š
é™æ€æ–¹æ³• = æ”¾åœ¨å·¥å…·ç®±é‡Œçš„èºä¸åˆ€
å·¥å…·ç®±ä¸å½±å“èºä¸åˆ€çš„åŠŸèƒ½ï¼Œåªæ˜¯ä¸ºäº†åˆ†ç±»æ•´ç†
```

### 4.2 staticmethodçš„è¯­æ³•å’Œç‰¹ç‚¹


**ğŸ“ åŸºæœ¬è¯­æ³•**
```python
class Calculator:
    
    @staticmethod
    def add(a, b):  # æ²¡æœ‰selfæˆ–clså‚æ•°
        """åŠ æ³•è¿ç®—"""
        return a + b
    
    @staticmethod
    def multiply(a, b):
        """ä¹˜æ³•è¿ç®—"""
        return a * b
    
    def instance_method(self):
        return "æˆ‘æ˜¯å®ä¾‹æ–¹æ³•"

# è°ƒç”¨æ–¹å¼ - ä¸¤ç§éƒ½å¯ä»¥
result1 = Calculator.add(3, 5)        # é€šè¿‡ç±»è°ƒç”¨
result2 = Calculator().multiply(4, 6)  # é€šè¿‡å®ä¾‹è°ƒç”¨

print(result1)  # 8
print(result2)  # 24
```

### 4.3 é™æ€æ–¹æ³• vs ç±»æ–¹æ³• vs å®ä¾‹æ–¹æ³•


**ğŸ“Š ä¸‰ç§æ–¹æ³•å¯¹æ¯”è¡¨**

| æ–¹æ³•ç±»å‹ | **ç¬¬ä¸€ä¸ªå‚æ•°** | **è°ƒç”¨æ–¹å¼** | **ä¸»è¦ç”¨é€”** | **ä½•æ—¶ä½¿ç”¨** |
|---------|-------------|------------|-------------|-------------|
| ğŸ”¸ **å®ä¾‹æ–¹æ³•** | `self` | `å®ä¾‹.æ–¹æ³•()` | `æ“ä½œå®ä¾‹æ•°æ®` | `éœ€è¦è®¿é—®å®ä¾‹å±æ€§æ—¶` |
| ğŸ”¹ **ç±»æ–¹æ³•** | `cls` | `ç±».æ–¹æ³•()` | `æ“ä½œç±»æ•°æ®` | `éœ€è¦è®¿é—®ç±»å±æ€§æˆ–åˆ›å»ºå®ä¾‹æ—¶` |
| âš¡ **é™æ€æ–¹æ³•** | `æ— ` | `ç±».æ–¹æ³•()` | `ç‹¬ç«‹å·¥å…·å‡½æ•°` | `é€»è¾‘ä¸Šå±äºç±»ä½†ä¸éœ€è¦ç±»/å®ä¾‹æ•°æ®æ—¶` |

**ğŸ”„ é€‰æ‹©æµç¨‹å›¾**
```
éœ€è¦è®¿é—®å®ä¾‹å±æ€§ï¼Ÿ
    â†“ æ˜¯
  å®ä¾‹æ–¹æ³•
    â†“ å¦
éœ€è¦è®¿é—®ç±»å±æ€§ï¼Ÿ
    â†“ æ˜¯  
  ç±»æ–¹æ³•
    â†“ å¦
åªæ˜¯é€»è¾‘ä¸Šå±äºè¿™ä¸ªç±»ï¼Ÿ
    â†“ æ˜¯
  é™æ€æ–¹æ³•
```

### 4.4 é™æ€æ–¹æ³•çš„å®é™…åº”ç”¨


**åº”ç”¨1ï¼šéªŒè¯å’Œå·¥å…·å‡½æ•°**
```python
class User:
    def __init__(self, email, password):
        self.email = email
        self.password = password
    
    @staticmethod
    def is_valid_email(email):
        """éªŒè¯é‚®ç®±æ ¼å¼"""
        return "@" in email and "." in email
    
    @staticmethod
    def is_strong_password(password):
        """éªŒè¯å¯†ç å¼ºåº¦"""
        return len(password) >= 8 and any(c.isdigit() for c in password)
    
    @classmethod
    def create_user(cls, email, password):
        """åˆ›å»ºç”¨æˆ·ï¼ˆä½¿ç”¨éªŒè¯ï¼‰"""
        if not cls.is_valid_email(email):
            raise ValueError("é‚®ç®±æ ¼å¼ä¸æ­£ç¡®")
        if not cls.is_strong_password(password):
            raise ValueError("å¯†ç å¼ºåº¦ä¸å¤Ÿ")
        return cls(email, password)

# å¯ä»¥åœ¨åˆ›å»ºç”¨æˆ·å‰éªŒè¯
if User.is_valid_email("test@example.com"):
    user = User.create_user("test@example.com", "password123")
```

**åº”ç”¨2ï¼šæ•°æ®è½¬æ¢å·¥å…·**
```python
class DateUtils:
    
    @staticmethod
    def days_between(date1, date2):
        """è®¡ç®—ä¸¤ä¸ªæ—¥æœŸé—´çš„å¤©æ•°"""
        from datetime import datetime
        d1 = datetime.strptime(date1, "%Y-%m-%d")
        d2 = datetime.strptime(date2, "%Y-%m-%d")
        return abs((d2 - d1).days)
    
    @staticmethod
    def format_date(date_str, from_format, to_format):
        """æ—¥æœŸæ ¼å¼è½¬æ¢"""
        from datetime import datetime
        date_obj = datetime.strptime(date_str, from_format)
        return date_obj.strftime(to_format)

# ç‹¬ç«‹ä½¿ç”¨ï¼Œä¸éœ€è¦åˆ›å»ºå®ä¾‹
days = DateUtils.days_between("2024-01-01", "2024-12-31")  # 365
formatted = DateUtils.format_date("01/15/2024", "%m/%d/%Y", "%Yå¹´%mæœˆ%dæ—¥")
```

---

## 5. ğŸ  property()å±æ€§è£…é¥°å™¨


### 5.1 propertyçš„åŸºæœ¬æ¦‚å¿µ


**ğŸ¯ æ ¸å¿ƒç†è§£**ï¼š`property`è®©**æ–¹æ³•åƒå±æ€§ä¸€æ ·ä½¿ç”¨**ï¼Œå®ç°ä¼˜é›…çš„æ•°æ®å°è£…

```
ç”Ÿæ´»ç±»æ¯”ï¼š
æ™®é€šæ–¹æ³•ï¼šuser.get_age()    # åƒ"è¯·å‘Šè¯‰æˆ‘ä½ çš„å¹´é¾„"
å±æ€§è®¿é—®ï¼šuser.age          # åƒ"ä½ çš„å¹´é¾„"

ä»£ç æ•ˆæœï¼š
user.get_temperature()  â†’  user.temperature  # æ›´è‡ªç„¶
user.set_name("æ–°åå­—")  â†’  user.name = "æ–°åå­—"  # æ›´ç›´è§‚
```

### 5.2 propertyçš„ä¸‰ç§ç”¨æ³•


**ç”¨æ³•1ï¼šåªè¯»å±æ€§**
```python
class Circle:
    def __init__(self, radius):
        self._radius = radius  # ç§æœ‰å±æ€§ç”¨ä¸‹åˆ’çº¿
    
    @property
    def area(self):
        """åœ†çš„é¢ç§¯ï¼ˆåªè¯»ï¼‰"""
        return 3.14159 * self._radius ** 2
    
    @property 
    def diameter(self):
        """åœ†çš„ç›´å¾„ï¼ˆåªè¯»ï¼‰"""
        return self._radius * 2

circle = Circle(5)
print(circle.area)      # 78.53975 - åƒè®¿é—®å±æ€§ä¸€æ ·
print(circle.diameter)  # 10
# circle.area = 100     # æŠ¥é”™ï¼åªè¯»å±æ€§ä¸èƒ½ä¿®æ”¹
```

**ç”¨æ³•2ï¼šå¯è¯»å†™å±æ€§**
```python
class Temperature:
    def __init__(self, celsius=0):
        self._celsius = celsius
    
    @property
    def celsius(self):
        """è·å–æ‘„æ°æ¸©åº¦"""
        return self._celsius
    
    @celsius.setter
    def celsius(self, value):
        """è®¾ç½®æ‘„æ°æ¸©åº¦"""
        if value < -273.15:
            raise ValueError("æ¸©åº¦ä¸èƒ½ä½äºç»å¯¹é›¶åº¦")
        self._celsius = value
    
    @property
    def fahrenheit(self):
        """è·å–åæ°æ¸©åº¦"""
        return self._celsius * 9/5 + 32
    
    @fahrenheit.setter  
    def fahrenheit(self, value):
        """è®¾ç½®åæ°æ¸©åº¦ï¼ˆè‡ªåŠ¨è½¬æ¢ä¸ºæ‘„æ°ï¼‰"""
        self.celsius = (value - 32) * 5/9

temp = Temperature()
temp.celsius = 25        # è®¾ç½®æ‘„æ°æ¸©åº¦
print(temp.fahrenheit)   # 77.0 - è‡ªåŠ¨è®¡ç®—åæ°æ¸©åº¦

temp.fahrenheit = 86     # è®¾ç½®åæ°æ¸©åº¦
print(temp.celsius)      # 30.0 - è‡ªåŠ¨è½¬æ¢ä¸ºæ‘„æ°
```

**ç”¨æ³•3ï¼šå®Œæ•´çš„å±æ€§æ§åˆ¶**
```python
class Person:
    def __init__(self, name):
        self._name = name
        self._age = 0
    
    @property
    def name(self):
        """è·å–å§“å"""
        return self._name
    
    @name.setter
    def name(self, value):
        """è®¾ç½®å§“å"""
        if not isinstance(value, str):
            raise TypeError("å§“åå¿…é¡»æ˜¯å­—ç¬¦ä¸²")
        if len(value.strip()) == 0:
            raise ValueError("å§“åä¸èƒ½ä¸ºç©º")
        self._name = value.strip()
    
    @name.deleter
    def name(self):
        """åˆ é™¤å§“å"""
        print(f"åˆ é™¤å§“åï¼š{self._name}")
        self._name = None

person = Person("å¼ ä¸‰")
print(person.name)      # å¼ ä¸‰
person.name = "æå››"    # è®¾ç½®æ–°å§“å
print(person.name)      # æå››
del person.name         # åˆ é™¤å§“åï¼šæå››
```

### 5.3 propertyçš„é«˜çº§åº”ç”¨


**åº”ç”¨1ï¼šæ•°æ®éªŒè¯å’Œè½¬æ¢**
```python
class BankAccount:
    def __init__(self, initial_balance=0):
        self._balance = initial_balance
    
    @property
    def balance(self):
        """è´¦æˆ·ä½™é¢"""
        return self._balance
    
    @property 
    def formatted_balance(self):
        """æ ¼å¼åŒ–çš„ä½™é¢æ˜¾ç¤º"""
        return f"Â¥{self._balance:,.2f}"
    
    @property
    def is_overdrawn(self):
        """æ˜¯å¦é€æ”¯"""
        return self._balance < 0

account = BankAccount(12345.67)
print(account.balance)           # 12345.67
print(account.formatted_balance) # Â¥12,345.67
print(account.is_overdrawn)      # False
```

**åº”ç”¨2ï¼šæ‡’åŠ è½½å±æ€§**
```python
class DataProcessor:
    def __init__(self, filename):
        self.filename = filename
        self._data = None  # å»¶è¿ŸåŠ è½½
    
    @property
    def data(self):
        """æ‡’åŠ è½½æ•°æ®"""
        if self._data is None:
            print(f"é¦–æ¬¡è®¿é—®ï¼ŒåŠ è½½æ•°æ®ï¼š{self.filename}")
            # æ¨¡æ‹Ÿæ•°æ®åŠ è½½
            self._data = [1, 2, 3, 4, 5]
        return self._data

processor = DataProcessor("data.txt")
# æ­¤æ—¶è¿˜æ²¡æœ‰åŠ è½½æ•°æ®
print("å¼€å§‹è®¿é—®æ•°æ®")
print(processor.data)  # é¦–æ¬¡è®¿é—®ï¼ŒåŠ è½½æ•°æ®ï¼šdata.txt
print(processor.data)  # ç¬¬äºŒæ¬¡è®¿é—®ï¼Œç›´æ¥è¿”å›ç¼“å­˜
```

---

## 6. ğŸ› ï¸ å®æˆ˜åº”ç”¨åœºæ™¯


### 6.1 ç»¼åˆæ¡ˆä¾‹ï¼šå­¦ç”Ÿç®¡ç†ç³»ç»Ÿ


```python
class Student:
    # ç±»å˜é‡ï¼šå­¦ç”Ÿæ€»æ•°
    total_students = 0
    
    def __init__(self, name, age, student_id):
        self.name = name
        self.age = age
        self.student_id = student_id
        self._grades = []
        Student.total_students += 1
    
    # å®ä¾‹æ–¹æ³•ï¼šæ·»åŠ æˆç»©
    def add_grade(self, grade):
        if 0 <= grade <= 100:
            self._grades.append(grade)
        else:
            raise ValueError("æˆç»©å¿…é¡»åœ¨0-100ä¹‹é—´")
    
    # å±æ€§ï¼šå¹³å‡æˆç»©
    @property
    def average_grade(self):
        if not self._grades:
            return 0
        return sum(self._grades) / len(self._grades)
    
    # å±æ€§ï¼šæˆç»©ç­‰çº§
    @property
    def grade_level(self):
        avg = self.average_grade
        if avg >= 90: return "ä¼˜ç§€"
        elif avg >= 80: return "è‰¯å¥½"  
        elif avg >= 60: return "åŠæ ¼"
        else: return "ä¸åŠæ ¼"
    
    # ç±»æ–¹æ³•ï¼šè·å–ç»Ÿè®¡ä¿¡æ¯
    @classmethod
    def get_total_students(cls):
        return cls.total_students
    
    # ç±»æ–¹æ³•ï¼šä»å­—ç¬¦ä¸²åˆ›å»ºå­¦ç”Ÿ
    @classmethod
    def from_string(cls, student_str):
        name, age, student_id = student_str.split(',')
        return cls(name, int(age), student_id)
    
    # é™æ€æ–¹æ³•ï¼šéªŒè¯å­¦å·æ ¼å¼
    @staticmethod
    def is_valid_student_id(student_id):
        return len(student_id) == 8 and student_id.isdigit()

# ä½¿ç”¨ç¤ºä¾‹
# åˆ›å»ºå­¦ç”Ÿ
student1 = Student("å¼ ä¸‰", 20, "20240001")
student2 = Student.from_string("æå››,19,20240002")

# æ·»åŠ æˆç»©
student1.add_grade(85)
student1.add_grade(92)
student1.add_grade(78)

# æŸ¥çœ‹å±æ€§
print(f"å¹³å‡æˆç»©ï¼š{student1.average_grade:.1f}")  # 85.0
print(f"ç­‰çº§ï¼š{student1.grade_level}")            # è‰¯å¥½

# ç±»æ–¹æ³•å’Œé™æ€æ–¹æ³•
print(f"æ€»å­¦ç”Ÿæ•°ï¼š{Student.get_total_students()}")  # 2
print(Student.is_valid_student_id("20240001"))      # True
```

### 6.2 è®¾è®¡æ¨¡å¼åº”ç”¨


**Builderæ¨¡å¼ + å±æ€§è£…é¥°å™¨**
```python
class Pizza:
    def __init__(self):
        self._size = "ä¸­"
        self._toppings = []
        self._crust = "è–„åº•"
    
    # é“¾å¼è°ƒç”¨çš„å»ºé€ è€…æ–¹æ³•
    @classmethod
    def builder(cls):
        return cls()
    
    def size(self, size):
        self._size = size
        return self  # è¿”å›selfæ”¯æŒé“¾å¼è°ƒç”¨
    
    def add_topping(self, topping):
        self._toppings.append(topping)
        return self
    
    def crust(self, crust):
        self._crust = crust
        return self
    
    # å±æ€§è®¿é—®
    @property
    def description(self):
        toppings_str = ", ".join(self._toppings)
        return f"{self._size}å·{self._crust}æŠ«è¨ï¼Œé…æ–™ï¼š{toppings_str}"
    
    @property
    def price(self):
        base_price = {"å°": 15, "ä¸­": 20, "å¤§": 25}
        topping_price = len(self._toppings) * 3
        return base_price[self._size] + topping_price

# ä¼˜é›…çš„é“¾å¼è°ƒç”¨
pizza = (Pizza.builder()
         .size("å¤§")
         .add_topping("åŸ¹æ ¹")
         .add_topping("è˜‘è‡")
         .crust("åšåº•"))

print(pizza.description)  # å¤§å·åšåº•æŠ«è¨ï¼Œé…æ–™ï¼šåŸ¹æ ¹, è˜‘è‡
print(f"ä»·æ ¼ï¼šÂ¥{pizza.price}")  # ä»·æ ¼ï¼šÂ¥31
```

---

## 7. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 7.1 å››å¤§å…ƒç¼–ç¨‹å‡½æ•°é€Ÿè®°


```
ğŸ”— super()      = çˆ¶ç±»æ–¹æ³•çš„ä¼˜é›…è°ƒç”¨å™¨
ğŸ·ï¸ classmethod  = ç±»çº§åˆ«çš„å·¥å‚æ–¹æ³•  
âš¡ staticmethod = ç±»å†…éƒ¨çš„å·¥å…·å‡½æ•°
ğŸ  property     = æ–¹æ³•ä¼ªè£…æˆçš„å±æ€§
```

### 7.2 ä½¿ç”¨åœºæ™¯å¿«é€Ÿåˆ¤æ–­


**ğŸ”„ é€‰æ‹©å†³ç­–æ ‘**
```
æˆ‘è¦è°ƒç”¨çˆ¶ç±»æ–¹æ³•ï¼Ÿ 
    â†“ æ˜¯ â†’ super()

æˆ‘çš„æ–¹æ³•éœ€è¦è®¿é—®å®ä¾‹æ•°æ®ï¼Ÿ
    â†“ æ˜¯ â†’ æ™®é€šå®ä¾‹æ–¹æ³•
    â†“ å¦ â†“

æˆ‘çš„æ–¹æ³•éœ€è¦è®¿é—®ç±»æ•°æ®ï¼Ÿ
    â†“ æ˜¯ â†’ @classmethod  
    â†“ å¦ â†“

æˆ‘çš„æ–¹æ³•åªæ˜¯é€»è¾‘ä¸Šå±äºè¿™ä¸ªç±»ï¼Ÿ
    â†“ æ˜¯ â†’ @staticmethod

æˆ‘å¸Œæœ›æ–¹æ³•åƒå±æ€§ä¸€æ ·ä½¿ç”¨ï¼Ÿ
    â†“ æ˜¯ â†’ @property
```

### 7.3 å¸¸è§ä½¿ç”¨æ¨¡å¼


**ğŸ“Œ è®°å¿†å£è¯€**
```
superçˆ¶ç±»ä¸ç”¨æ„ï¼ŒMROé¡ºåºè‡ªåŠ¨èµ°
classç±»æ–¹æ³•åšå·¥å‚ï¼Œåˆ›å»ºå®ä¾‹æœ€å¸¸ç”¨  
staticé™æ€çº¯å·¥å…·ï¼ŒéªŒè¯è½¬æ¢å¥½å¸®æ‰‹
propertyå±æ€§è£…ï¼Œè®¿é—®æ§åˆ¶æ›´ä¼˜é›…
```

### 7.4 æœ€ä½³å®è·µå»ºè®®


**âœ… æ¨èåšæ³•**
- â‘ ï¸âƒ£ **æ€»æ˜¯ä½¿ç”¨super()**ï¼šä¸è¦ç›´æ¥è°ƒç”¨çˆ¶ç±»å
- â‘¡ï¸âƒ£ **ç±»æ–¹æ³•åšæ„é€ å™¨**ï¼šæä¾›å¤šç§åˆ›å»ºå¯¹è±¡çš„æ–¹å¼
- â‘¢ï¸âƒ£ **é™æ€æ–¹æ³•åšéªŒè¯**ï¼šæ•°æ®æ ¡éªŒå’Œæ ¼å¼è½¬æ¢
- â‘£ï¸âƒ£ **propertyåšè®¡ç®—å±æ€§**ï¼šå°†å¤æ‚è®¡ç®—åŒ…è£…æˆå±æ€§

**âŒ é¿å…çš„é™·é˜±**
- â‘ ï¸âƒ£ **ä¸è¦æ»¥ç”¨property**ï¼šç®€å•å±æ€§ç›´æ¥ç”¨å˜é‡
- â‘¡ï¸âƒ£ **ä¸è¦æ··æ·†ç±»æ–¹æ³•å’Œé™æ€æ–¹æ³•**ï¼šè®°ä½clså‚æ•°çš„ä½œç”¨
- â‘¢ï¸âƒ£ **ä¸è¦åœ¨super()ä¸­ä¼ å‚**ï¼šPython3ä¸­super()ä¸éœ€è¦å‚æ•°
- â‘£ï¸âƒ£ **ä¸è¦å¿˜è®°setterè£…é¥°å™¨**ï¼šå¯å†™å±æ€§éœ€è¦@name.setter

### 7.5 å®é™…å¼€å‘ä»·å€¼


**ğŸ¯ æ ¸å¿ƒæ”¶ç›Š**
- **ä»£ç ä¼˜é›…æ€§**ï¼šè®©Pythonä»£ç æ›´åŠ Pythonic
- **ç»´æŠ¤ä¾¿åˆ©æ€§**ï¼šæ›´å®¹æ˜“ç†è§£å’Œä¿®æ”¹çš„ä»£ç ç»“æ„  
- **åŠŸèƒ½æ‰©å±•æ€§**ï¼šçµæ´»çš„ç»§æ‰¿å’Œç»„åˆæ¨¡å¼
- **å°è£…å®‰å…¨æ€§**ï¼šä¼˜é›…çš„æ•°æ®è®¿é—®æ§åˆ¶

**ğŸ’¡ è¿›é˜¶æ–¹å‘**
- **æè¿°å™¨åè®®**ï¼šæ›´æ·±å…¥çš„å±æ€§æ§åˆ¶æœºåˆ¶
- **å…ƒç±»ç¼–ç¨‹**ï¼šç±»çš„ç±»ï¼Œæ›´é«˜çº§çš„å…ƒç¼–ç¨‹
- **è£…é¥°å™¨æ¨¡å¼**ï¼šå‡½æ•°å’Œç±»çš„è¡Œä¸ºå¢å¼º
- **è®¾è®¡æ¨¡å¼**ï¼šåœ¨Pythonä¸­ä¼˜é›…å®ç°å„ç§è®¾è®¡æ¨¡å¼

**æ ¸å¿ƒè®°å¿†**ï¼š
- å…ƒç¼–ç¨‹è®©ä»£ç æ“ä½œä»£ç ï¼Œæå‡å¼€å‘æ•ˆç‡
- super()è§£å†³ç»§æ‰¿è°ƒç”¨ï¼Œclassmethodåˆ›å»ºå®ä¾‹  
- staticmethodçº¯å·¥å…·å‡½æ•°ï¼Œpropertyä¼˜é›…å±æ€§
- é€‰å¯¹å·¥å…·å¾ˆé‡è¦ï¼Œåœºæ™¯åŒ¹é…æ˜¯å…³é”®