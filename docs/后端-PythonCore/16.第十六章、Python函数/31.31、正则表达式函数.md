---
title: 31ã€æ­£åˆ™è¡¨è¾¾å¼å‡½æ•°
---
## ğŸ“š ç›®å½•

1. [ä»€ä¹ˆæ˜¯æ­£åˆ™è¡¨è¾¾å¼](#1-ä»€ä¹ˆæ˜¯æ­£åˆ™è¡¨è¾¾å¼)
2. [re.search() - æ™ºèƒ½æœç´¢åŒ¹é…](#2-research---æ™ºèƒ½æœç´¢åŒ¹é…)
3. [re.match() - å¼€å¤´ä¸¥æ ¼åŒ¹é…](#3-rematch---å¼€å¤´ä¸¥æ ¼åŒ¹é…)
4. [re.findall() - æ‰¾å‡ºæ‰€æœ‰åŒ¹é…](#4-refindall---æ‰¾å‡ºæ‰€æœ‰åŒ¹é…)
5. [re.sub() - æ™ºèƒ½æ›¿æ¢æ–‡æœ¬](#5-resub---æ™ºèƒ½æ›¿æ¢æ–‡æœ¬)
6. [re.split() - æŒ‰æ¨¡å¼åˆ†å‰²](#6-resplit---æŒ‰æ¨¡å¼åˆ†å‰²)
7. [re.compile() - é¢„ç¼–è¯‘æ¨¡å¼](#7-recompile---é¢„ç¼–è¯‘æ¨¡å¼)
8. [å®ç”¨æŠ€å·§ä¸æœ€ä½³å®è·µ](#8-å®ç”¨æŠ€å·§ä¸æœ€ä½³å®è·µ)
9. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#9-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ” ä»€ä¹ˆæ˜¯æ­£åˆ™è¡¨è¾¾å¼


### 1.1 æ­£åˆ™è¡¨è¾¾å¼çš„æœ¬è´¨


> ğŸ’¡ **ç”Ÿæ´»ç±»æ¯”**  
> æ­£åˆ™è¡¨è¾¾å¼å°±åƒä¸€ä¸ª"æ™ºèƒ½æœç´¢å™¨"ï¼Œç±»ä¼¼äºåœ¨æ–‡æ¡£ä¸­æŒ‰Ctrl+Fæœç´¢ï¼Œä½†å®ƒèƒ½è¯†åˆ«**æ¨¡å¼**è€Œä¸åªæ˜¯å›ºå®šæ–‡å­—

**æ ¸å¿ƒæ¦‚å¿µ**ï¼š
```
æ™®é€šæœç´¢ï¼šåªèƒ½æ‰¾å›ºå®šæ–‡å­—
"apple" â†’ åªèƒ½æ‰¾åˆ° "apple"

æ­£åˆ™è¡¨è¾¾å¼ï¼šèƒ½æ‰¾ç¬¦åˆè§„å¾‹çš„æ–‡å­—
"\d{3}-\d{4}" â†’ èƒ½æ‰¾åˆ° "123-4567"ã€"999-0001" ç­‰æ‰€æœ‰æ‰‹æœºå·æ ¼å¼
```

### 1.2 ä¸ºä»€ä¹ˆéœ€è¦æ­£åˆ™è¡¨è¾¾å¼


```
ğŸ“‹ **å®é™…éœ€æ±‚åœºæ™¯**
âœ… éªŒè¯é‚®ç®±æ ¼å¼æ˜¯å¦æ­£ç¡®
âœ… æå–æ–‡æœ¬ä¸­çš„æ‰€æœ‰ç”µè¯å·ç   
âœ… æ‰¹é‡æ›¿æ¢ç‰¹å®šæ ¼å¼çš„æ–‡å­—
âœ… æŒ‰æŸç§è§„å¾‹åˆ†å‰²æ–‡æœ¬
âœ… æ£€æŸ¥å¯†ç å¼ºåº¦æ˜¯å¦ç¬¦åˆè¦æ±‚
```

### 1.3 Pythonä¸­çš„reæ¨¡å—


**å¯¼å…¥æ–¹å¼**ï¼š
```python
import re  # Pythonå†…ç½®æ¨¡å—ï¼Œæ— éœ€å®‰è£…
```

**å¸¸ç”¨ç¬¦å·é€ŸæŸ¥**ï¼š
```
.  â†’ åŒ¹é…ä»»æ„ä¸€ä¸ªå­—ç¬¦ï¼ˆé™¤æ¢è¡Œï¼‰
\d â†’ åŒ¹é…æ•°å­—ï¼ˆ0-9ï¼‰
\w â†’ åŒ¹é…å­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿
+  â†’ åŒ¹é…1æ¬¡æˆ–å¤šæ¬¡
*  â†’ åŒ¹é…0æ¬¡æˆ–å¤šæ¬¡
?  â†’ åŒ¹é…0æ¬¡æˆ–1æ¬¡
```

---

## 2. ğŸ¯ re.search() - æ™ºèƒ½æœç´¢åŒ¹é…


### 2.1 search()çš„æ ¸å¿ƒä½œç”¨


> ğŸ” **åŠŸèƒ½ç†è§£**  
> `re.search()`åƒä¸€ä¸ª"æ™ºèƒ½ä¾¦æ¢"ï¼Œåœ¨æ•´ä¸ªæ–‡æœ¬ä¸­å¯»æ‰¾**ç¬¬ä¸€ä¸ª**ç¬¦åˆæ¡ä»¶çš„å†…å®¹

**åŸºæœ¬è¯­æ³•**ï¼š
```python
result = re.search(pattern, string)
# pattern: è¦æœç´¢çš„æ¨¡å¼ï¼ˆæ­£åˆ™è¡¨è¾¾å¼ï¼‰
# string: è¢«æœç´¢çš„æ–‡æœ¬
# è¿”å›: åŒ¹é…å¯¹è±¡ æˆ– None
```

### 2.2 åŸºç¡€ä½¿ç”¨ç¤ºä¾‹


**ä¾‹å­1ï¼šæŸ¥æ‰¾æ•°å­—**
```python
import re

text = "æˆ‘ä»Šå¹´25å²ï¼Œæ‰‹æœºå·æ˜¯13812345678"
result = re.search(r'\d+', text)

if result:
    print(f"æ‰¾åˆ°æ•°å­—: {result.group()}")  # è¾“å‡º: æ‰¾åˆ°æ•°å­—: 25
    print(f"ä½ç½®: {result.span()}")       # è¾“å‡º: ä½ç½®: (2, 4)
else:
    print("æ²¡æ‰¾åˆ°åŒ¹é…å†…å®¹")
```

ğŸ’¡ **å…³é”®ç†è§£**ï¼š
- `\d+` è¡¨ç¤º"ä¸€ä¸ªæˆ–å¤šä¸ªæ•°å­—"
- `result.group()` è·å–åŒ¹é…çš„å†…å®¹
- `result.span()` è·å–åŒ¹é…çš„ä½ç½®èŒƒå›´

**ä¾‹å­2ï¼šæŸ¥æ‰¾é‚®ç®±**
```python
text = "è”ç³»æ–¹å¼ï¼šzhangsan@gmail.com æˆ– lisi@qq.com"
result = re.search(r'\w+@\w+\.\w+', text)

if result:
    print(f"æ‰¾åˆ°é‚®ç®±: {result.group()}")  # è¾“å‡º: zhangsan@gmail.com
```

### 2.3 search()çš„ç‰¹ç‚¹


| ç‰¹æ€§ | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| **åªæ‰¾ç¬¬ä¸€ä¸ª** | å³ä½¿æœ‰å¤šä¸ªåŒ¹é…ï¼Œä¹Ÿåªè¿”å›ç¬¬ä¸€ä¸ª | æ–‡æœ¬ä¸­æœ‰5ä¸ªæ•°å­—ï¼Œåªè¿”å›ç¬¬ä¸€ä¸ª |
| **å…¨æ–‡æœç´¢** | åœ¨æ•´ä¸ªå­—ç¬¦ä¸²ä¸­æœç´¢ | ä¸ç®¡åŒ¹é…å†…å®¹åœ¨å¼€å¤´ã€ä¸­é—´è¿˜æ˜¯ç»“å°¾ |
| **è¿”å›å¯¹è±¡** | æˆåŠŸè¿”å›Matchå¯¹è±¡ï¼Œå¤±è´¥è¿”å›None | éœ€è¦ç”¨ifåˆ¤æ–­æ˜¯å¦æ‰¾åˆ° |

---

## 3. ğŸš€ re.match() - å¼€å¤´ä¸¥æ ¼åŒ¹é…


### 3.1 match()çš„æ ¸å¿ƒç‰¹ç‚¹


> âš ï¸ **é‡è¦ç†è§£**  
> `re.match()`æ˜¯ä¸ª"ä¸¥æ ¼é—¨å«"ï¼Œåªæ£€æŸ¥å­—ç¬¦ä¸²çš„**å¼€å¤´**æ˜¯å¦ç¬¦åˆè§„å¾‹ï¼Œä¸ç¬¦åˆå°±ç›´æ¥æ‹’ç»

**åŸºæœ¬è¯­æ³•**ï¼š
```python
result = re.match(pattern, string)
# åªåŒ¹é…å­—ç¬¦ä¸²çš„å¼€å¤´éƒ¨åˆ†
```

### 3.2 match() vs search() å¯¹æ¯”


```python
text = "æˆ‘çš„ç”µè¯æ˜¯ 13812345678"

# search(): åœ¨æ•´ä¸ªæ–‡æœ¬ä¸­æŸ¥æ‰¾
result1 = re.search(r'\d+', text)
print(result1.group())  # è¾“å‡º: 13812345678 âœ…

# match(): åªä»å¼€å¤´æŸ¥æ‰¾
result2 = re.match(r'\d+', text)
print(result2)  # è¾“å‡º: None âŒ (å› ä¸ºå¼€å¤´ä¸æ˜¯æ•°å­—)
```

### 3.3 match()çš„å®é™…ç”¨é€”


**éªŒè¯è¾“å…¥æ ¼å¼**ï¼š
```python
def check_phone(phone):
    """æ£€æŸ¥ç”µè¯å·ç æ ¼å¼"""
    pattern = r'1[3-9]\d{9}'  # 1å¼€å¤´ï¼Œç¬¬äºŒä½3-9ï¼Œåé¢9ä½æ•°å­—
    
    if re.match(pattern, phone):
        return "âœ… æ‰‹æœºå·æ ¼å¼æ­£ç¡®"
    else:
        return "âŒ æ‰‹æœºå·æ ¼å¼é”™è¯¯"

# æµ‹è¯•
print(check_phone("13812345678"))  # âœ… æ‰‹æœºå·æ ¼å¼æ­£ç¡®
print(check_phone("12812345678"))  # âŒ æ‰‹æœºå·æ ¼å¼é”™è¯¯ (ç¬¬äºŒä½æ˜¯2)
print(check_phone("138123456789")) # âŒ æ‰‹æœºå·æ ¼å¼é”™è¯¯ (å¤ªé•¿äº†)
```

**éªŒè¯å¯†ç å¼ºåº¦**ï¼š
```python
def check_password(password):
    """æ£€æŸ¥å¯†ç æ˜¯å¦åŒ…å«å­—æ¯å’Œæ•°å­—"""
    # å¿…é¡»åŒ…å«å­—æ¯å’Œæ•°å­—ï¼Œé•¿åº¦6-20ä½
    pattern = r'^(?=.*[a-zA-Z])(?=.*\d)[a-zA-Z\d]{6,20}$'
    
    if re.match(pattern, password):
        return "âœ… å¯†ç æ ¼å¼ç¬¦åˆè¦æ±‚"
    else:
        return "âŒ å¯†ç éœ€è¦åŒ…å«å­—æ¯å’Œæ•°å­—ï¼Œé•¿åº¦6-20ä½"

print(check_password("abc123"))    # âœ… å¯†ç æ ¼å¼ç¬¦åˆè¦æ±‚
print(check_password("123456"))    # âŒ å¯†ç éœ€è¦åŒ…å«å­—æ¯å’Œæ•°å­—
```

---

## 4. ğŸ“ re.findall() - æ‰¾å‡ºæ‰€æœ‰åŒ¹é…


### 4.1 findall()çš„å¼ºå¤§ä¹‹å¤„


> ğŸ£ **å½¢è±¡æ¯”å–»**  
> å¦‚æœ`search()`æ˜¯"é’“é±¼"ï¼ˆåªé’“ä¸€æ¡ï¼‰ï¼Œé‚£ä¹ˆ`findall()`å°±æ˜¯"æ’’ç½‘æ•é±¼"ï¼ˆä¸€ç½‘æ‰“å°½ï¼‰

**åŸºæœ¬è¯­æ³•**ï¼š
```python
results = re.findall(pattern, string)
# è¿”å›: åŒ…å«æ‰€æœ‰åŒ¹é…å†…å®¹çš„åˆ—è¡¨
```

### 4.2 æå–æ‰€æœ‰åŒ¹é…å†…å®¹


**ä¾‹å­1ï¼šæå–æ‰€æœ‰æ•°å­—**
```python
text = "å°æ˜è€ƒäº†95åˆ†ï¼Œå°çº¢è€ƒäº†87åˆ†ï¼Œå°åˆšè€ƒäº†92åˆ†"
scores = re.findall(r'\d+', text)
print(scores)  # è¾“å‡º: ['95', '87', '92']

# è½¬æ¢ä¸ºæ•´æ•°å¹¶è®¡ç®—å¹³å‡åˆ†
scores = [int(x) for x in scores]
average = sum(scores) / len(scores)
print(f"å¹³å‡åˆ†: {average}")  # è¾“å‡º: å¹³å‡åˆ†: 91.33
```

**ä¾‹å­2ï¼šæå–æ‰€æœ‰é‚®ç®±**
```python
text = """
è”ç³»äººä¿¡æ¯ï¼š
å¼ ä¸‰: zhangsan@gmail.com
æå››: lisi@qq.com  
ç‹äº”: wangwu@163.com
"""

emails = re.findall(r'\w+@\w+\.\w+', text)
print("æ‰¾åˆ°çš„é‚®ç®±:")
for i, email in enumerate(emails, 1):
    print(f"{i}. {email}")

# è¾“å‡º:
# æ‰¾åˆ°çš„é‚®ç®±:
# 1. zhangsan@gmail.com
# 2. lisi@qq.com
# 3. wangwu@163.com
```

### 4.3 å®ç”¨æ•°æ®æå–åœºæ™¯


**æå–ç½‘é¡µä¸­çš„é“¾æ¥**ï¼š
```python
html = '''
<a href="https://www.baidu.com">ç™¾åº¦</a>
<a href="https://www.google.com">è°·æ­Œ</a>
<a href="https://www.github.com">GitHub</a>
'''

# æå–æ‰€æœ‰ç½‘å€
urls = re.findall(r'https://[^"]+', html)
print("ç½‘é¡µé“¾æ¥:")
for url in urls:
    print(f"- {url}")

# è¾“å‡º:
# - https://www.baidu.com
# - https://www.google.com  
# - https://www.github.com
```

**æå–æ–‡æœ¬ä¸­çš„ä»·æ ¼**ï¼š
```python
product_info = "iPhone14å”®ä»·5999å…ƒï¼ŒiPadå”®ä»·2899å…ƒï¼ŒMacBookå”®ä»·9999å…ƒ"

prices = re.findall(r'(\d+)å…ƒ', product_info)
print("å•†å“ä»·æ ¼:")
for price in prices:
    print(f"Â¥{price}")

# è®¡ç®—æ€»ä»·
total = sum(int(price) for price in prices)
print(f"æ€»ä»·: Â¥{total}")
```

---

## 5. âœï¸ re.sub() - æ™ºèƒ½æ›¿æ¢æ–‡æœ¬


### 5.1 sub()çš„æ ¸å¿ƒåŠŸèƒ½


> ğŸ”„ **åŠŸèƒ½ç†è§£**  
> `re.sub()`åƒä¸€ä¸ª"æ™ºèƒ½ç¼–è¾‘å™¨"ï¼Œèƒ½å¤ŸæŒ‰ç…§è§„å¾‹æ‰¹é‡æ›¿æ¢æ–‡æœ¬ï¼Œæ¯”Wordçš„æŸ¥æ‰¾æ›¿æ¢æ›´å¼ºå¤§

**åŸºæœ¬è¯­æ³•**ï¼š
```python
new_string = re.sub(pattern, replacement, string)
# pattern: è¦æ›¿æ¢çš„æ¨¡å¼
# replacement: æ›¿æ¢æˆä»€ä¹ˆ
# string: åŸå§‹æ–‡æœ¬
# è¿”å›: æ›¿æ¢åçš„æ–°æ–‡æœ¬
```

### 5.2 åŸºç¡€æ›¿æ¢æ“ä½œ


**ä¾‹å­1ï¼šæ•æ„Ÿè¯è¿‡æ»¤**
```python
text = "è¿™ä¸ªäº§å“çœŸæ˜¯åƒåœ¾ï¼Œå¤ªå·®åŠ²äº†ï¼"

# å°†è´Ÿé¢è¯æ±‡æ›¿æ¢ä¸ºæ˜Ÿå·
clean_text = re.sub(r'åƒåœ¾|å·®åŠ²', '***', text)
print(clean_text)  # è¾“å‡º: è¿™ä¸ªäº§å“çœŸæ˜¯***ï¼Œå¤ª***äº†ï¼
```

**ä¾‹å­2ï¼šç»Ÿä¸€ç”µè¯å·ç æ ¼å¼**
```python
contacts = """
å¼ ä¸‰: 138-1234-5678
æå››: 13987654321  
ç‹äº”: 139 8765 4321
"""

# ç»Ÿä¸€ä¸º XXX-XXXX-XXXX æ ¼å¼
def format_phone(match):
    phone = match.group().replace('-', '').replace(' ', '')
    return f"{phone[:3]}-{phone[3:7]}-{phone[7:]}"

formatted = re.sub(r'1[3-9]\d{9}|1[3-9]\d-\d{4}-\d{4}|1[3-9]\d \d{4} \d{4}', 
                   format_phone, contacts)
print(formatted)
```

### 5.3 é«˜çº§æ›¿æ¢æŠ€å·§


**ä½¿ç”¨åˆ†ç»„è¿›è¡Œéƒ¨åˆ†æ›¿æ¢**ï¼š
```python
# éšè—æ‰‹æœºå·ä¸­é—´4ä½
text = "æˆ‘çš„æ‰‹æœºå·æ˜¯13812345678ï¼Œè¯·è”ç³»æˆ‘"

hidden = re.sub(r'(1\d{2})\d{4}(\d{4})', r'\1****\2', text)
print(hidden)  # è¾“å‡º: æˆ‘çš„æ‰‹æœºå·æ˜¯138****5678ï¼Œè¯·è”ç³»æˆ‘
```

ğŸ’¡ **åˆ†ç»„è¯´æ˜**ï¼š
- `(1\d{2})` æ˜¯ç¬¬1ç»„ï¼šå‰3ä½
- `\d{4}` æ˜¯ä¸­é—´4ä½ï¼ˆè¦éšè—çš„ï¼‰
- `(\d{4})` æ˜¯ç¬¬2ç»„ï¼šå4ä½
- `r'\1****\2'` è¡¨ç¤ºï¼šç¬¬1ç»„ + **** + ç¬¬2ç»„

**æ‰¹é‡æ›¿æ¢å¤šç§æ ¼å¼**ï¼š
```python
messy_text = "ä»Šå¤©æ˜¯2023/12/25ï¼Œæ˜å¤©æ˜¯2023-12-26ï¼Œåå¤©æ˜¯2023.12.27"

# ç»Ÿä¸€æ—¥æœŸæ ¼å¼ä¸º YYYY-MM-DD
standardized = re.sub(r'(\d{4})[/.](\d{2})[/.](\d{2})', r'\1-\2-\3', messy_text)
print(standardized)
# è¾“å‡º: ä»Šå¤©æ˜¯2023-12-25ï¼Œæ˜å¤©æ˜¯2023-12-26ï¼Œåå¤©æ˜¯2023-12-27
```

---

## 6. âœ‚ï¸ re.split() - æŒ‰æ¨¡å¼åˆ†å‰²


### 6.1 split()çš„æ™ºèƒ½åˆ†å‰²


> ğŸ“„ **åŠŸèƒ½ç±»æ¯”**  
> æ™®é€šçš„`str.split()`åªèƒ½æŒ‰å›ºå®šåˆ†éš”ç¬¦åˆ†å‰²ï¼Œè€Œ`re.split()`èƒ½æŒ‰"æ¨¡å¼"åˆ†å‰²ï¼Œå°±åƒæ™ºèƒ½å‰ªåˆ€

**åŸºæœ¬è¯­æ³•**ï¼š
```python
parts = re.split(pattern, string)
# pattern: åˆ†å‰²çš„æ¨¡å¼
# string: è¦åˆ†å‰²çš„æ–‡æœ¬  
# è¿”å›: åˆ†å‰²åçš„åˆ—è¡¨
```

### 6.2 çµæ´»åˆ†å‰²ç¤ºä¾‹


**ä¾‹å­1ï¼šæŒ‰å¤šç§åˆ†éš”ç¬¦åˆ†å‰²**
```python
# æ™®é€šsplit()çš„å±€é™
text = "apple,banana;orange:grape"
print(text.split(','))  # ['apple', 'banana;orange:grape'] âŒ ä¸å¤Ÿçµæ´»

# re.split()çš„å¼ºå¤§
parts = re.split(r'[,;:]', text)  # æŒ‰é€—å·ã€åˆ†å·ã€å†’å·åˆ†å‰²
print(parts)  # ['apple', 'banana', 'orange', 'grape'] âœ…
```

**ä¾‹å­2ï¼šæŒ‰ç©ºç™½ç¬¦åˆ†å‰²**
```python
messy_text = "Python   Java\tC++\n\nJavaScript"

# æŒ‰å„ç§ç©ºç™½ç¬¦åˆ†å‰²ï¼ˆç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ã€æ¢è¡Œç¬¦ï¼‰
languages = re.split(r'\s+', messy_text)
print([lang for lang in languages if lang])  # è¿‡æ»¤ç©ºå­—ç¬¦ä¸²
# è¾“å‡º: ['Python', 'Java', 'C++', 'JavaScript']
```

### 6.3 å®ç”¨åˆ†å‰²åœºæ™¯


**è§£æCSVæ•°æ®**ï¼š
```python
csv_line = "å¼ ä¸‰,25,åŒ—äº¬,å·¥ç¨‹å¸ˆ"
fields = re.split(r',', csv_line)
print("å§“å:", fields[0])
print("å¹´é¾„:", fields[1])  
print("åŸå¸‚:", fields[2])
print("èŒä¸š:", fields[3])
```

**è§£æå¤æ‚æ ¼å¼çš„æ•°æ®**ï¼š
```python
log_entry = "2023-12-25 14:30:15 [INFO] User login successful"

# æŒ‰æ—¶é—´ã€æ—¥å¿—çº§åˆ«ã€æ¶ˆæ¯åˆ†å‰²
parts = re.split(r'(\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}) \[(\w+)\] (.+)', log_entry)
parts = [p for p in parts if p]  # è¿‡æ»¤ç©ºå­—ç¬¦ä¸²

if len(parts) >= 3:
    timestamp = parts[0]
    level = parts[1]  
    message = parts[2]
    print(f"æ—¶é—´: {timestamp}")
    print(f"çº§åˆ«: {level}")
    print(f"æ¶ˆæ¯: {message}")
```

---

## 7. âš™ï¸ re.compile() - é¢„ç¼–è¯‘æ¨¡å¼


### 7.1 compile()çš„æ€§èƒ½ä¼˜åŠ¿


> ğŸ­ **å·¥å‚ç±»æ¯”**  
> `re.compile()`åƒä¸€ä¸ª"æ¨¡æ¿å·¥å‚"ï¼Œå…ˆåˆ¶ä½œå¥½æ¨¡æ¿ï¼Œåç»­ä½¿ç”¨æ—¶ç›´æ¥å¥—ç”¨ï¼Œé¿å…é‡å¤åˆ¶ä½œ

**æ€§èƒ½å¯¹æ¯”**ï¼š
```python
import re
import time

text = "è¿™æ˜¯ä¸€æ®µæµ‹è¯•æ–‡æœ¬ï¼ŒåŒ…å«13812345678å’Œ15987654321ç­‰ç”µè¯å·ç "

# æ–¹å¼1ï¼šæ¯æ¬¡éƒ½ç¼–è¯‘æ­£åˆ™è¡¨è¾¾å¼ï¼ˆæ…¢ï¼‰
start_time = time.time()
for i in range(10000):
    result = re.findall(r'1[3-9]\d{9}', text)
time1 = time.time() - start_time

# æ–¹å¼2ï¼šé¢„ç¼–è¯‘æ­£åˆ™è¡¨è¾¾å¼ï¼ˆå¿«ï¼‰
pattern = re.compile(r'1[3-9]\d{9}')
start_time = time.time()
for i in range(10000):
    result = pattern.findall(text)
time2 = time.time() - start_time

print(f"æ™®é€šæ–¹å¼è€—æ—¶: {time1:.4f}ç§’")
print(f"é¢„ç¼–è¯‘æ–¹å¼è€—æ—¶: {time2:.4f}ç§’")
print(f"æ€§èƒ½æå‡: {time1/time2:.2f}å€")
```

### 7.2 compile()çš„åŸºæœ¬ä½¿ç”¨


**åˆ›å»ºç¼–è¯‘å¯¹è±¡**ï¼š
```python
# ç¼–è¯‘å¸¸ç”¨çš„æ­£åˆ™è¡¨è¾¾å¼
phone_pattern = re.compile(r'1[3-9]\d{9}')
email_pattern = re.compile(r'\w+@\w+\.\w+')
url_pattern = re.compile(r'https?://[^\s]+')

# ä½¿ç”¨ç¼–è¯‘åçš„å¯¹è±¡
text = "è”ç³»æˆ‘ï¼š13812345678ï¼Œé‚®ç®±ï¼štest@example.com"

phone = phone_pattern.search(text)
email = email_pattern.search(text)

if phone:
    print(f"ç”µè¯: {phone.group()}")
if email:
    print(f"é‚®ç®±: {email.group()}")
```

### 7.3 å®é™…åº”ç”¨åœºæ™¯


**æ•°æ®éªŒè¯ç±»**ï¼š
```python
class DataValidator:
    def __init__(self):
        # é¢„ç¼–è¯‘æ‰€æœ‰éªŒè¯è§„åˆ™
        self.phone_pattern = re.compile(r'^1[3-9]\d{9}$')
        self.email_pattern = re.compile(r'^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$')
        self.id_card_pattern = re.compile(r'^\d{17}[\dXx]$')
    
    def is_valid_phone(self, phone):
        """éªŒè¯æ‰‹æœºå·"""
        return bool(self.phone_pattern.match(phone))
    
    def is_valid_email(self, email):
        """éªŒè¯é‚®ç®±"""
        return bool(self.email_pattern.match(email))
    
    def is_valid_id_card(self, id_card):
        """éªŒè¯èº«ä»½è¯å·"""
        return bool(self.id_card_pattern.match(id_card))

# ä½¿ç”¨éªŒè¯å™¨
validator = DataValidator()

test_data = [
    "13812345678",
    "test@example.com", 
    "110101199901011234"
]

print("éªŒè¯ç»“æœ:")
print(f"æ‰‹æœºå·: {validator.is_valid_phone(test_data[0])}")
print(f"é‚®ç®±: {validator.is_valid_email(test_data[1])}")
print(f"èº«ä»½è¯: {validator.is_valid_id_card(test_data[2])}")
```

---

## 8. ğŸ’¡ å®ç”¨æŠ€å·§ä¸æœ€ä½³å®è·µ


### 8.1 å¸¸ç”¨æ­£åˆ™è¡¨è¾¾å¼æ¨¡å¼åº“


```python
# å¸¸ç”¨éªŒè¯æ¨¡å¼é›†åˆ
COMMON_PATTERNS = {
    'phone': r'^1[3-9]\d{9}$',                    # æ‰‹æœºå·
    'email': r'^[^@]+@[^@]+\.[^@]+$',             # é‚®ç®±ï¼ˆç®€åŒ–ç‰ˆï¼‰
    'url': r'^https?://[^\s]+$',                  # ç½‘å€
    'ip': r'^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$', # IPåœ°å€
    'date': r'^\d{4}-\d{2}-\d{2}$',               # æ—¥æœŸæ ¼å¼
    'time': r'^\d{2}:\d{2}:\d{2}$',               # æ—¶é—´æ ¼å¼
    'chinese': r'^[\u4e00-\u9fa5]+$',             # ä¸­æ–‡å­—ç¬¦
    'number': r'^-?\d+(\.\d+)?$',                 # æ•°å­—ï¼ˆæ•´æ•°æˆ–å°æ•°ï¼‰
}

def validate_input(input_type, value):
    """é€šç”¨éªŒè¯å‡½æ•°"""
    if input_type in COMMON_PATTERNS:
        pattern = re.compile(COMMON_PATTERNS[input_type])
        return bool(pattern.match(value))
    return False

# æµ‹è¯•éªŒè¯
test_cases = [
    ('phone', '13812345678'),
    ('email', 'user@example.com'),
    ('date', '2023-12-25'),
    ('chinese', 'ä¸­å›½'),
]

for type_name, value in test_cases:
    result = validate_input(type_name, value)
    print(f"{type_name}: {value} â†’ {'âœ…' if result else 'âŒ'}")
```

### 8.2 æ€§èƒ½ä¼˜åŒ–å»ºè®®


| ä¼˜åŒ–æ–¹æ³• | è¯´æ˜ | ç¤ºä¾‹ |
|----------|------|------|
| **é¢„ç¼–è¯‘** | é‡å¤ä½¿ç”¨çš„æ¨¡å¼è¦é¢„ç¼–è¯‘ | `pattern = re.compile(r'\d+')` |
| **éè´ªå©ªåŒ¹é…** | ä½¿ç”¨`?`é¿å…è¿‡åº¦åŒ¹é… | `r'<.*?>'`è€Œä¸æ˜¯`r'<.*>'` |
| **å­—ç¬¦ç±»ä¼˜åŒ–** | ç”¨`[0-9]`ä»£æ›¿`\d`æå‡æ€§èƒ½ | `r'[0-9]+'`æ¯”`r'\d+'`ç¨å¿« |
| **é”šç‚¹ä½¿ç”¨** | æ˜ç¡®åŒ¹é…ä½ç½®å‡å°‘å›æº¯ | `r'^start'`ã€`r'end$'` |

### 8.3 å¸¸è§é”™è¯¯ä¸é¿å…æ–¹æ³•


**é”™è¯¯1ï¼šå¿˜è®°è½¬ä¹‰ç‰¹æ®Šå­—ç¬¦**
```python
# âŒ é”™è¯¯ï¼šç‚¹å·æ²¡æœ‰è½¬ä¹‰
pattern = r'3.14'  # ä¼šåŒ¹é… "3x14"ã€"3a14" ç­‰

# âœ… æ­£ç¡®ï¼šè½¬ä¹‰ç‚¹å·
pattern = r'3\.14'  # åªåŒ¹é… "3.14"
```

**é”™è¯¯2ï¼šè´ªå©ªåŒ¹é…é™·é˜±**
```python
html = '<div>å†…å®¹1</div><div>å†…å®¹2</div>'

# âŒ é”™è¯¯ï¼šè´ªå©ªåŒ¹é…
result = re.search(r'<div>.*</div>', html)
print(result.group())  # åŒ¹é…æ•´ä¸ªå­—ç¬¦ä¸²

# âœ… æ­£ç¡®ï¼šéè´ªå©ªåŒ¹é…  
result = re.search(r'<div>.*?</div>', html)
print(result.group())  # åªåŒ¹é…ç¬¬ä¸€ä¸ªdiv
```

---

## 9. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 9.1 å…­å¤§å‡½æ•°åŠŸèƒ½å¯¹æ¯”


| å‡½æ•° | ä¸»è¦ç”¨é€” | è¿”å›ç±»å‹ | ä½¿ç”¨åœºæ™¯ |
|------|----------|----------|----------|
| **`search()`** | ğŸ” å…¨æ–‡æœç´¢ç¬¬ä¸€ä¸ªåŒ¹é… | Matchå¯¹è±¡/None | æ£€æŸ¥æ˜¯å¦åŒ…å«æŸæ¨¡å¼ |
| **`match()`** | ğŸšª ä»å¼€å¤´ä¸¥æ ¼åŒ¹é… | Matchå¯¹è±¡/None | éªŒè¯æ ¼å¼æ˜¯å¦æ­£ç¡® |
| **`findall()`** | ğŸ“ æ‰¾å‡ºæ‰€æœ‰åŒ¹é…é¡¹ | åˆ—è¡¨ | æå–æ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„å†…å®¹ |
| **`sub()`** | âœï¸ æŒ‰æ¨¡å¼æ›¿æ¢æ–‡æœ¬ | å­—ç¬¦ä¸² | æ‰¹é‡æ›¿æ¢å’Œæ–‡æœ¬æ¸…ç† |
| **`split()`** | âœ‚ï¸ æŒ‰æ¨¡å¼åˆ†å‰²æ–‡æœ¬ | åˆ—è¡¨ | è§£æç»“æ„åŒ–æ•°æ® |
| **`compile()`** | âš™ï¸ é¢„ç¼–è¯‘æå‡æ€§èƒ½ | Patternå¯¹è±¡ | é‡å¤ä½¿ç”¨çš„å¤æ‚æ¨¡å¼ |

### 9.2 é€‰æ‹©å‡½æ•°çš„å†³ç­–æµç¨‹


```
ğŸ“Š ä½¿ç”¨å†³ç­–å›¾

éœ€è¦éªŒè¯æ ¼å¼ï¼Ÿ
    â†“ æ˜¯
    ä½¿ç”¨ match()

éœ€è¦æŸ¥æ‰¾æ˜¯å¦å­˜åœ¨ï¼Ÿ
    â†“ æ˜¯  
    ä½¿ç”¨ search()

éœ€è¦æå–æ‰€æœ‰åŒ¹é…ï¼Ÿ
    â†“ æ˜¯
    ä½¿ç”¨ findall()

éœ€è¦æ›¿æ¢å†…å®¹ï¼Ÿ
    â†“ æ˜¯
    ä½¿ç”¨ sub()

éœ€è¦åˆ†å‰²æ–‡æœ¬ï¼Ÿ
    â†“ æ˜¯
    ä½¿ç”¨ split()

éœ€è¦é‡å¤ä½¿ç”¨æ¨¡å¼ï¼Ÿ
    â†“ æ˜¯
    å…ˆç”¨ compile()
```

### 9.3 å­¦ä¹ å»ºè®®ä¸å®è·µæ–¹å‘


**ğŸ¯ å­¦ä¹ è·¯å¾„**ï¼š
1. **åŸºç¡€é˜¶æ®µ**ï¼šæŒæ¡`search()`å’Œ`findall()`ï¼Œå­¦ä¼šåŸºæœ¬æ¨¡å¼
2. **è¿›é˜¶é˜¶æ®µ**ï¼šæŒæ¡`sub()`å’Œ`split()`ï¼Œå­¦ä¼šæ•°æ®æ¸…ç†
3. **ä¼˜åŒ–é˜¶æ®µ**ï¼šä½¿ç”¨`compile()`æå‡æ€§èƒ½ï¼ŒæŒæ¡å¤æ‚æ¨¡å¼

**ğŸ’¼ å®è·µé¡¹ç›®å»ºè®®**ï¼š
- ğŸ“§ é‚®ç®±åœ°å€æå–å™¨
- ğŸ“± æ‰‹æœºå·æ ¼å¼åŒ–å·¥å…·  
- ğŸ“„ æ—¥å¿—æ–‡ä»¶åˆ†æå™¨
- ğŸ”’ å¯†ç å¼ºåº¦æ£€æŸ¥å™¨
- ğŸŒ ç½‘é¡µé“¾æ¥çˆ¬è™«

**ğŸ§  è®°å¿†æŠ€å·§**ï¼š
```
æ­£åˆ™å…­å…„å¼Ÿï¼Œå„æœ‰æ‰€é•¿å¤„
searchå…¨æ–‡æ‰¾ï¼Œmatché—¨å£å®ˆ
findallä¸€ç½‘æ”¶ï¼Œsubæ›¿æ¢æ‰‹
splitæ¥åˆ†å‰²ï¼Œcompileæ€§èƒ½ä¼˜
```

**æ ¸å¿ƒç†è§£**ï¼š
- æ­£åˆ™è¡¨è¾¾å¼æ˜¯**æ¨¡å¼åŒ¹é…**å·¥å…·ï¼Œä¸æ˜¯å­—ç¬¦ä¸²ç²¾ç¡®åŒ¹é…
- é€‰æ‹©åˆé€‚çš„å‡½æ•°æ¯”å†™å¤æ‚çš„æ­£åˆ™æ›´é‡è¦
- é¢„ç¼–è¯‘èƒ½æ˜¾è‘—æå‡é‡å¤ä½¿ç”¨åœºæ™¯çš„æ€§èƒ½
- å®é™…é¡¹ç›®ä¸­å¾€å¾€éœ€è¦ç»„åˆä½¿ç”¨å¤šä¸ªå‡½æ•°æ¥è§£å†³é—®é¢˜