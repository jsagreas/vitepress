---
title: 7ã€é«˜é˜¶åºåˆ—å‡½æ•°
---
## ğŸ“š ç›®å½•

1. [é«˜é˜¶åºåˆ—å‡½æ•°æ¦‚è¿°](#1-é«˜é˜¶åºåˆ—å‡½æ•°æ¦‚è¿°)
2. [map()æ˜ å°„å‡½æ•°](#2-mapæ˜ å°„å‡½æ•°)
3. [filter()è¿‡æ»¤å‡½æ•°](#3-filterè¿‡æ»¤å‡½æ•°)
4. [any()ä»»ä¸€ä¸ºçœŸå‡½æ•°](#4-anyä»»ä¸€ä¸ºçœŸå‡½æ•°)
5. [all()å…¨éƒ¨ä¸ºçœŸå‡½æ•°](#5-allå…¨éƒ¨ä¸ºçœŸå‡½æ•°)
6. [iter()è¿­ä»£å™¨åˆ›å»º](#6-iterè¿­ä»£å™¨åˆ›å»º)
7. [next()è¿­ä»£å™¨å–å€¼](#7-nextè¿­ä»£å™¨å–å€¼)
8. [å®æˆ˜åº”ç”¨åœºæ™¯](#8-å®æˆ˜åº”ç”¨åœºæ™¯)
9. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#9-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ¯ é«˜é˜¶åºåˆ—å‡½æ•°æ¦‚è¿°


### 1.1 ä»€ä¹ˆæ˜¯é«˜é˜¶åºåˆ—å‡½æ•°


**é€šä¿—ç†è§£**ï¼šé«˜é˜¶åºåˆ—å‡½æ•°å°±æ˜¯ä¸“é—¨å¤„ç†**æ•°æ®åºåˆ—**ï¼ˆå¦‚åˆ—è¡¨ã€å…ƒç»„ï¼‰çš„ç‰¹æ®Šå‡½æ•°ã€‚å®ƒä»¬å°±åƒ"æ•°æ®åŠ å·¥å‚"ä¸€æ ·ï¼Œèƒ½å¤Ÿå¯¹ä¸€æ‰¹æ•°æ®è¿›è¡Œæ‰¹é‡å¤„ç†ã€‚

```
æƒ³è±¡ä¸€ä¸ªæµæ°´çº¿å·¥å‚ï¼š
åŸææ–™ï¼ˆæ•°æ®ï¼‰ â†’ åŠ å·¥æœºå™¨ï¼ˆé«˜é˜¶å‡½æ•°ï¼‰ â†’ æˆå“ï¼ˆå¤„ç†ç»“æœï¼‰

ä¾‹å¦‚ï¼šä¸€å †è‹¹æœ â†’ æ¦¨æ±æœº â†’ è‹¹æœæ±
     [1,2,3,4] â†’ map(å¹³æ–¹) â†’ [1,4,9,16]
```

### 1.2 ä¸ºä»€ä¹ˆéœ€è¦é«˜é˜¶åºåˆ—å‡½æ•°


**ä¼ ç»Ÿå¤„ç†æ–¹å¼çš„é—®é¢˜**ï¼š
```python
# ä¼ ç»Ÿæ–¹å¼ï¼šç»™æ¯ä¸ªæ•°å­—åŠ 1
numbers = [1, 2, 3, 4, 5]
result = []
for num in numbers:
    result.append(num + 1)
print(result)  # [2, 3, 4, 5, 6]
```

**é«˜é˜¶å‡½æ•°çš„ä¼˜åŠ¿**ï¼š
- **ç®€æ´é«˜æ•ˆ**ï¼šä¸€è¡Œä»£ç å®Œæˆå¤æ‚æ“ä½œ
- **å‡½æ•°å¼ç¼–ç¨‹**ï¼šä»£ç æ›´æ¸…æ™°æ˜“è¯»
- **å†…å­˜å‹å¥½**ï¼šè¿”å›è¿­ä»£å™¨ï¼ŒèŠ‚çœå†…å­˜

### 1.3 æ ¸å¿ƒå‡½æ•°åˆ†ç±»


```
å¤„ç†æµç¨‹å›¾ï¼š
     æ•°æ®åºåˆ—
        |
    â”Œâ”€â”€â”€â–¼â”€â”€â”€â”
    â”‚ map() â”‚ â† æ•°æ®è½¬æ¢ï¼šæŠŠæ¯ä¸ªå…ƒç´ å˜æˆå¦ä¸€ä¸ªæ ·å­
    â””â”€â”€â”€â”¬â”€â”€â”€â”˜
        |
    â”Œâ”€â”€â”€â–¼â”€â”€â”€â”
    â”‚filter()â”‚ â† æ•°æ®ç­›é€‰ï¼šæŒ‘é€‰ç¬¦åˆæ¡ä»¶çš„å…ƒç´ 
    â””â”€â”€â”€â”¬â”€â”€â”€â”˜
        |
    â”Œâ”€â”€â”€â–¼â”€â”€â”€â”
    â”‚any/allâ”‚ â† æ¡ä»¶åˆ¤æ–­ï¼šæ£€æŸ¥æ•°æ®æ˜¯å¦æ»¡è¶³æ¡ä»¶
    â””â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. ğŸ”„ map()æ˜ å°„å‡½æ•°


### 2.1 åŸºæœ¬æ¦‚å¿µå’Œä½œç”¨


**ä»€ä¹ˆæ˜¯map()å‡½æ•°**ï¼š
`map()`å°±åƒä¸€ä¸ª"ä¸‡èƒ½å˜æ¢å™¨"ï¼Œå®ƒèƒ½æŠŠä¸€ä¸ªå‡½æ•°åº”ç”¨åˆ°åºåˆ—çš„æ¯ä¸€ä¸ªå…ƒç´ ä¸Šï¼Œç„¶åè¿”å›å˜æ¢åçš„ç»“æœã€‚

**å·¥ä½œåŸç†å›¾ç¤º**ï¼š
```
åŸå§‹æ•°æ®ï¼š  [1,    2,    3,    4]
            â†“     â†“     â†“     â†“
å‡½æ•°å¤„ç†ï¼š  f(1)  f(2)  f(3)  f(4)
            â†“     â†“     â†“     â†“
ç»“æœæ•°æ®ï¼š  [f1,   f2,   f3,   f4]
```

### 2.2 åŸºç¡€ç”¨æ³•è¯¦è§£


**è¯­æ³•æ ¼å¼**ï¼š
```python
map(function, sequence)
# function: è¦åº”ç”¨çš„å‡½æ•°
# sequence: è¦å¤„ç†çš„åºåˆ—ï¼ˆåˆ—è¡¨ã€å…ƒç»„ç­‰ï¼‰
```

**å®é™…ä¾‹å­**ï¼š
```python
# ä¾‹å­1ï¼šç»™æ¯ä¸ªæ•°å­—ä¹˜ä»¥2
numbers = [1, 2, 3, 4, 5]
result = map(lambda x: x * 2, numbers)
print(list(result))  # [2, 4, 6, 8, 10]

# ä¾‹å­2ï¼šæŠŠæ•°å­—è½¬æ¢æˆå­—ç¬¦ä¸²
numbers = [1, 2, 3]
strings = map(str, numbers)
print(list(strings))  # ['1', '2', '3']
```

> ğŸ’¡ **æ–°æ‰‹æç¤º**ï¼š`map()`è¿”å›çš„æ˜¯ä¸€ä¸ªç‰¹æ®Šå¯¹è±¡ï¼Œéœ€è¦ç”¨`list()`è½¬æ¢æ‰èƒ½çœ‹åˆ°ç»“æœ

### 2.3 å¸¸è§åº”ç”¨åœºæ™¯


**åœºæ™¯ä¸€ï¼šæ•°æ®ç±»å‹è½¬æ¢**
```python
# æŠŠå­—ç¬¦ä¸²æ•°å­—è½¬æˆæ•´æ•°
str_numbers = ['1', '2', '3', '4']
int_numbers = list(map(int, str_numbers))
print(int_numbers)  # [1, 2, 3, 4]
```

**åœºæ™¯äºŒï¼šæ•°å­¦è¿ç®—**
```python
# è®¡ç®—æ¯ä¸ªæ•°çš„å¹³æ–¹
numbers = [1, 2, 3, 4]
squares = list(map(lambda x: x**2, numbers))
print(squares)  # [1, 4, 9, 16]
```

**åœºæ™¯ä¸‰ï¼šå­—ç¬¦ä¸²å¤„ç†**
```python
# æŠŠæ‰€æœ‰åå­—é¦–å­—æ¯å¤§å†™
names = ['alice', 'bob', 'charlie']
capitalized = list(map(str.capitalize, names))
print(capitalized)  # ['Alice', 'Bob', 'Charlie']
```

### 2.4 å¤šä¸ªåºåˆ—çš„å¤„ç†


**å¤„ç†å¤šä¸ªåˆ—è¡¨**ï¼š
```python
# ä¸¤ä¸ªåˆ—è¡¨å¯¹åº”ç›¸åŠ 
list1 = [1, 2, 3]
list2 = [4, 5, 6]
sums = list(map(lambda x, y: x + y, list1, list2))
print(sums)  # [5, 7, 9]

# ç›¸å½“äºï¼š1+4=5, 2+5=7, 3+6=9
```

---

## 3. ğŸ” filter()è¿‡æ»¤å‡½æ•°


### 3.1 åŸºæœ¬æ¦‚å¿µå’Œä½œç”¨


**ä»€ä¹ˆæ˜¯filter()å‡½æ•°**ï¼š
`filter()`å°±åƒä¸€ä¸ª"æ™ºèƒ½ç­›å­"ï¼Œå®ƒæ ¹æ®ç»™å®šçš„æ¡ä»¶ï¼Œä»åºåˆ—ä¸­æŒ‘é€‰å‡ºç¬¦åˆè¦æ±‚çš„å…ƒç´ ã€‚

**å·¥ä½œåŸç†å›¾ç¤º**ï¼š
```
åŸå§‹æ•°æ®ï¼š  [1, 2, 3, 4, 5, 6]
            â†“  â†“  â†“  â†“  â†“  â†“
æ¡ä»¶åˆ¤æ–­ï¼š  Ã—  âœ“  Ã—  âœ“  Ã—  âœ“  (ç­›é€‰å¶æ•°)
            â†“     â†“     â†“
ç»“æœæ•°æ®ï¼š  [2,    4,    6]
```

### 3.2 åŸºç¡€ç”¨æ³•è¯¦è§£


**è¯­æ³•æ ¼å¼**ï¼š
```python
filter(function, sequence)
# function: è¿”å›True/Falseçš„åˆ¤æ–­å‡½æ•°
# sequence: è¦ç­›é€‰çš„åºåˆ—
```

**å®é™…ä¾‹å­**ï¼š
```python
# ä¾‹å­1ï¼šç­›é€‰å¶æ•°
numbers = [1, 2, 3, 4, 5, 6]
even_numbers = filter(lambda x: x % 2 == 0, numbers)
print(list(even_numbers))  # [2, 4, 6]

# ä¾‹å­2ï¼šç­›é€‰é•¿åº¦å¤§äº3çš„å•è¯
words = ['cat', 'dog', 'elephant', 'bird']
long_words = filter(lambda word: len(word) > 3, words)
print(list(long_words))  # ['elephant', 'bird']
```

### 3.3 å¸¸è§ç­›é€‰æ¡ä»¶


**æ•°å€¼ç­›é€‰**ï¼š
```python
# ç­›é€‰æ­£æ•°
numbers = [-2, -1, 0, 1, 2, 3]
positive = list(filter(lambda x: x > 0, numbers))
print(positive)  # [1, 2, 3]

# ç­›é€‰èƒ½è¢«3æ•´é™¤çš„æ•°
numbers = [1, 2, 3, 6, 9, 10, 12]
divisible_by_3 = list(filter(lambda x: x % 3 == 0, numbers))
print(divisible_by_3)  # [3, 6, 9, 12]
```

**å­—ç¬¦ä¸²ç­›é€‰**ï¼š
```python
# ç­›é€‰ä»¥ç‰¹å®šå­—æ¯å¼€å¤´çš„å•è¯
words = ['apple', 'banana', 'apricot', 'cherry']
a_words = list(filter(lambda word: word.startswith('a'), words))
print(a_words)  # ['apple', 'apricot']
```

### 3.4 ç‰¹æ®Šç”¨æ³•ï¼šç§»é™¤å‡å€¼


```python
# ç§»é™¤åˆ—è¡¨ä¸­çš„å‡å€¼ï¼ˆNone, 0, '', Falseç­‰ï¼‰
mixed_list = [1, 0, 'hello', '', None, 'world', False, True]
truthy_values = list(filter(None, mixed_list))
print(truthy_values)  # [1, 'hello', 'world', True]
```

> ğŸ’¡ **æŠ€å·§**ï¼šå½“`filter()`çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯`None`æ—¶ï¼Œä¼šè‡ªåŠ¨è¿‡æ»¤æ‰æ‰€æœ‰"å‡å€¼"

---

## 4. â“ any()ä»»ä¸€ä¸ºçœŸå‡½æ•°


### 4.1 åŸºæœ¬æ¦‚å¿µå’Œä½œç”¨


**ä»€ä¹ˆæ˜¯any()å‡½æ•°**ï¼š
`any()`å°±åƒä¸€ä¸ª"åŒ…å®¹çš„æ£€æŸ¥å‘˜"ï¼Œåªè¦åºåˆ—ä¸­**æœ‰ä»»ä½•ä¸€ä¸ª**å…ƒç´ ä¸ºçœŸï¼Œå®ƒå°±è¿”å›`True`ã€‚

**é€šä¿—æ¯”å–»**ï¼š
```
å°±åƒé—®"ç­ä¸Šæœ‰äººåŠæ ¼äº†å—ï¼Ÿ"
- åªè¦æœ‰ä¸€ä¸ªäººåŠæ ¼ â†’ å›ç­”"æ˜¯"
- æ‰€æœ‰äººéƒ½ä¸åŠæ ¼ â†’ å›ç­”"å¦"
```

### 4.2 åŸºç¡€ç”¨æ³•è¯¦è§£


**è¯­æ³•æ ¼å¼**ï¼š
```python
any(sequence)
# sequence: å¯è¿­ä»£çš„åºåˆ—
# è¿”å›å€¼: True æˆ– False
```

**åŸºæœ¬ä¾‹å­**ï¼š
```python
# ä¾‹å­1ï¼šæ£€æŸ¥æ˜¯å¦æœ‰æ­£æ•°
numbers = [-1, -2, 3, -4]
has_positive = any(x > 0 for x in numbers)
print(has_positive)  # True (å› ä¸ºæœ‰3æ˜¯æ­£æ•°)

# ä¾‹å­2ï¼šæ£€æŸ¥æ˜¯å¦æœ‰å¶æ•°
numbers = [1, 3, 5, 7]
has_even = any(x % 2 == 0 for x in numbers)
print(has_even)  # False (éƒ½æ˜¯å¥‡æ•°)
```

### 4.3 å®ç”¨åº”ç”¨åœºæ™¯


**æ£€æŸ¥åˆ—è¡¨å†…å®¹**ï¼š
```python
# æ£€æŸ¥æ˜¯å¦æœ‰ç©ºå­—ç¬¦ä¸²
strings = ['hello', 'world', '', 'python']
has_empty = any(s == '' for s in strings)
print(has_empty)  # True

# æ£€æŸ¥æ˜¯å¦æœ‰é•¿å•è¯
words = ['cat', 'dog', 'elephant']
has_long_word = any(len(word) > 5 for word in words)
print(has_long_word)  # True (elephanté•¿åº¦ä¸º8)
```

**æƒé™æ£€æŸ¥åœºæ™¯**ï¼š
```python
# æ£€æŸ¥ç”¨æˆ·æ˜¯å¦æœ‰ä»»ä¸€æƒé™
user_permissions = ['read', 'write']
required_permissions = ['admin', 'write', 'delete']
has_permission = any(perm in user_permissions for perm in required_permissions)
print(has_permission)  # True (æœ‰writeæƒé™)
```

### 4.4 ç‰¹æ®Šæƒ…å†µå¤„ç†


| è¾“å…¥æƒ…å†µ | ç»“æœ | è¯´æ˜ |
|---------|------|------|
| `any([True, False])` | `True` | æœ‰çœŸå€¼å­˜åœ¨ |
| `any([False, False])` | `False` | å…¨éƒ¨ä¸ºå‡å€¼ |
| `any([])` | `False` | **ç©ºåºåˆ—è¿”å›False** |
| `any([0, '', None])` | `False` | å…¨éƒ¨æ˜¯å‡å€¼ |

---

## 5. âœ… all()å…¨éƒ¨ä¸ºçœŸå‡½æ•°


### 5.1 åŸºæœ¬æ¦‚å¿µå’Œä½œç”¨


**ä»€ä¹ˆæ˜¯all()å‡½æ•°**ï¼š
`all()`å°±åƒä¸€ä¸ª"ä¸¥æ ¼çš„æ£€æŸ¥å‘˜"ï¼Œè¦æ±‚åºåˆ—ä¸­**æ‰€æœ‰å…ƒç´ **éƒ½ä¸ºçœŸï¼Œæ‰è¿”å›`True`ã€‚

**é€šä¿—æ¯”å–»**ï¼š
```
å°±åƒé—®"ç­ä¸Šæ‰€æœ‰äººéƒ½åŠæ ¼äº†å—ï¼Ÿ"
- æ‰€æœ‰äººéƒ½åŠæ ¼ â†’ å›ç­”"æ˜¯"
- æœ‰ä»»ä½•ä¸€ä¸ªäººä¸åŠæ ¼ â†’ å›ç­”"å¦"
```

### 5.2 åŸºç¡€ç”¨æ³•è¯¦è§£


**è¯­æ³•æ ¼å¼**ï¼š
```python
all(sequence)
# sequence: å¯è¿­ä»£çš„åºåˆ—  
# è¿”å›å€¼: True æˆ– False
```

**åŸºæœ¬ä¾‹å­**ï¼š
```python
# ä¾‹å­1ï¼šæ£€æŸ¥æ˜¯å¦éƒ½æ˜¯æ­£æ•°
numbers = [1, 2, 3, 4]
all_positive = all(x > 0 for x in numbers)
print(all_positive)  # True

# ä¾‹å­2ï¼šæ£€æŸ¥æ˜¯å¦éƒ½æ˜¯å¶æ•°
numbers = [2, 4, 6, 7]
all_even = all(x % 2 == 0 for x in numbers)
print(all_even)  # False (7æ˜¯å¥‡æ•°)
```

### 5.3 å®ç”¨åº”ç”¨åœºæ™¯


**æ•°æ®éªŒè¯**ï¼š
```python
# æ£€æŸ¥æ‰€æœ‰å¯†ç æ˜¯å¦ç¬¦åˆé•¿åº¦è¦æ±‚
passwords = ['abc123', 'password123', 'mypass']
all_valid = all(len(pwd) >= 6 for pwd in passwords)
print(all_valid)  # False (mypassé•¿åº¦ä¸å¤Ÿ)

# æ£€æŸ¥æ‰€æœ‰å¹´é¾„æ˜¯å¦åˆæ³•
ages = [25, 30, 18, 45]
all_adults = all(age >= 18 for age in ages)
print(all_adults)  # True
```

**æ¡ä»¶æ£€æŸ¥**ï¼š
```python
# æ£€æŸ¥æ‰€æœ‰æ–‡ä»¶æ˜¯å¦å­˜åœ¨ï¼ˆç¤ºä¾‹ï¼‰
files = ['file1.txt', 'file2.txt', 'file3.txt']
# å‡è®¾çš„å­˜åœ¨æ€§æ£€æŸ¥
file_exists = [True, True, False]  # æ¨¡æ‹Ÿæ£€æŸ¥ç»“æœ
all_files_exist = all(file_exists)
print(all_files_exist)  # False
```

### 5.4 any()ä¸all()å¯¹æ¯”


| å‡½æ•° | æ¡ä»¶ | ç©ºåºåˆ—ç»“æœ | ä½¿ç”¨åœºæ™¯ |
|------|------|-----------|----------|
| `any()` | **ä»»ä¸€ä¸ºçœŸ**å³å¯ | `False` | æ£€æŸ¥"æ˜¯å¦å­˜åœ¨" |
| `all()` | **å…¨éƒ¨ä¸ºçœŸ**æ‰è¡Œ | `True` | æ£€æŸ¥"æ˜¯å¦å…¨éƒ¨æ»¡è¶³" |

```python
# å¯¹æ¯”ç¤ºä¾‹
numbers = [2, 4, 6, 8]

# any(): æ˜¯å¦æœ‰å¶æ•°ï¼Ÿ
print(any(x % 2 == 0 for x in numbers))  # True

# all(): æ˜¯å¦éƒ½æ˜¯å¶æ•°ï¼Ÿ  
print(all(x % 2 == 0 for x in numbers))  # True

numbers = [1, 2, 3, 4]
print(any(x % 2 == 0 for x in numbers))  # True (æœ‰å¶æ•°)
print(all(x % 2 == 0 for x in numbers))  # False (ä¸å…¨æ˜¯å¶æ•°)
```

---

## 6. ğŸ”„ iter()è¿­ä»£å™¨åˆ›å»º


### 6.1 åŸºæœ¬æ¦‚å¿µå’Œä½œç”¨


**ä»€ä¹ˆæ˜¯è¿­ä»£å™¨**ï¼š
è¿­ä»£å™¨å°±åƒä¸€ä¸ª"æ™ºèƒ½æŒ‡é’ˆ"ï¼Œå®ƒè®°ä½å½“å‰ä½ç½®ï¼Œæ¯æ¬¡è°ƒç”¨æ—¶è¿”å›ä¸‹ä¸€ä¸ªå…ƒç´ ã€‚å°±åƒçœ‹ä¹¦æ—¶çš„ä¹¦ç­¾ï¼Œè®°ä½è¯»åˆ°å“ªé‡Œäº†ã€‚

**ä¸ºä»€ä¹ˆéœ€è¦è¿­ä»£å™¨**ï¼š
```
ä¼ ç»Ÿæ–¹å¼ï¼ˆä¸€æ¬¡æ€§åŠ è½½ï¼‰ï¼š
[1, 2, 3, 4, 5] â†’ å…¨éƒ¨å­˜åœ¨å†…å­˜ä¸­

è¿­ä»£å™¨æ–¹å¼ï¼ˆæŒ‰éœ€è·å–ï¼‰ï¼š
iter([1,2,3,4,5]) â†’ ç”¨åˆ°æ—¶æ‰ç»™ä¸‹ä¸€ä¸ªï¼ŒèŠ‚çœå†…å­˜
```

### 6.2 åŸºç¡€ç”¨æ³•è¯¦è§£


**è¯­æ³•æ ¼å¼**ï¼š
```python
iter(sequence)          # ä»åºåˆ—åˆ›å»ºè¿­ä»£å™¨
iter(callable, sentinel) # ä»å‡½æ•°åˆ›å»ºè¿­ä»£å™¨
```

**åŸºæœ¬ä¾‹å­**ï¼š
```python
# ä»åˆ—è¡¨åˆ›å»ºè¿­ä»£å™¨
numbers = [1, 2, 3, 4]
number_iter = iter(numbers)
print(number_iter)  # <list_iterator object at 0x...>

# æ‰‹åŠ¨è·å–å…ƒç´ 
print(next(number_iter))  # 1
print(next(number_iter))  # 2
```

### 6.3 ä¸åŒæ•°æ®ç±»å‹çš„è¿­ä»£å™¨


**å­—ç¬¦ä¸²è¿­ä»£å™¨**ï¼š
```python
# å­—ç¬¦ä¸²è¿­ä»£å™¨ï¼ˆé€ä¸ªå­—ç¬¦ï¼‰
text = "hello"
text_iter = iter(text)
print(next(text_iter))  # 'h'
print(next(text_iter))  # 'e'
```

**å­—å…¸è¿­ä»£å™¨**ï¼š
```python
# å­—å…¸é”®è¿­ä»£å™¨
person = {'name': 'Alice', 'age': 25}
key_iter = iter(person)
print(next(key_iter))  # 'name'
print(next(key_iter))  # 'age'
```

### 6.4 è‡ªå®šä¹‰è¿­ä»£å™¨


```python
# ä»å‡½æ•°åˆ›å»ºè¿­ä»£å™¨
import random

def roll_dice():
    """æ¨¡æ‹Ÿæ·éª°å­"""
    return random.randint(1, 6)

# åˆ›å»ºè¿­ä»£å™¨ï¼Œç›´åˆ°æ·å‡º6ä¸ºæ­¢
dice_iter = iter(roll_dice, 6)
for value in dice_iter:
    print(f"æ·å‡ºäº†: {value}")
# å½“æ·å‡º6æ—¶è‡ªåŠ¨åœæ­¢
```

> ğŸ’¡ **ç†è§£è¦ç‚¹**ï¼šç¬¬äºŒç§`iter()`ç”¨æ³•ä¼šä¸€ç›´è°ƒç”¨å‡½æ•°ï¼Œç›´åˆ°è¿”å›å€¼ç­‰äº`sentinel`ï¼ˆå“¨å…µå€¼ï¼‰ä¸ºæ­¢

---

## 7. â¡ï¸ next()è¿­ä»£å™¨å–å€¼


### 7.1 åŸºæœ¬æ¦‚å¿µå’Œä½œç”¨


**ä»€ä¹ˆæ˜¯next()å‡½æ•°**ï¼š
`next()`å°±åƒè¿­ä»£å™¨çš„"å‰è¿›æŒ‰é’®"ï¼Œæ¯æŒ‰ä¸€æ¬¡ï¼Œå°±ä»è¿­ä»£å™¨ä¸­å–å‡ºä¸‹ä¸€ä¸ªå…ƒç´ ã€‚

**å·¥ä½œåŸç†å›¾ç¤º**ï¼š
```
è¿­ä»£å™¨çŠ¶æ€ï¼š[1, 2, 3, 4]
             â†‘
           å½“å‰ä½ç½®

next() â†’ è¿”å›1ï¼Œä½ç½®å‘å‰ï¼š[1, 2, 3, 4]
                            â†‘
next() â†’ è¿”å›2ï¼Œä½ç½®å‘å‰ï¼š[1, 2, 3, 4]  
                               â†‘
```

### 7.2 åŸºç¡€ç”¨æ³•è¯¦è§£


**è¯­æ³•æ ¼å¼**ï¼š
```python
next(iterator)           # è·å–ä¸‹ä¸€ä¸ªå…ƒç´ 
next(iterator, default)  # è·å–ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œæ²¡æœ‰æ—¶è¿”å›é»˜è®¤å€¼
```

**åŸºæœ¬ä¾‹å­**ï¼š
```python
# åŸºæœ¬ç”¨æ³•
fruits = ['apple', 'banana', 'orange']
fruit_iter = iter(fruits)

print(next(fruit_iter))  # 'apple'
print(next(fruit_iter))  # 'banana' 
print(next(fruit_iter))  # 'orange'
# print(next(fruit_iter))  # ä¼šæŠ¥é”™ï¼šStopIteration
```

### 7.3 å®‰å…¨ä½¿ç”¨next()


**ä½¿ç”¨é»˜è®¤å€¼é¿å…é”™è¯¯**ï¼š
```python
numbers = [1, 2, 3]
num_iter = iter(numbers)

print(next(num_iter, 'no more'))  # 1
print(next(num_iter, 'no more'))  # 2  
print(next(num_iter, 'no more'))  # 3
print(next(num_iter, 'no more'))  # 'no more' (ä¸ä¼šæŠ¥é”™)
```

**é…åˆå¾ªç¯ä½¿ç”¨**ï¼š
```python
# æ‰‹åŠ¨éå†è¿­ä»£å™¨
data = ['a', 'b', 'c']
data_iter = iter(data)

while True:
    try:
        item = next(data_iter)
        print(f"å¤„ç†: {item}")
    except StopIteration:
        print("å¤„ç†å®Œæ¯•")
        break
```

### 7.4 å®é™…åº”ç”¨åœºæ™¯


**æ–‡ä»¶é€è¡Œè¯»å–**ï¼š
```python
# æ–‡ä»¶è¿­ä»£å™¨ç¤ºä¾‹ï¼ˆæ¦‚å¿µæ¼”ç¤ºï¼‰
def read_file_lines(filename):
    """æ¨¡æ‹Ÿæ–‡ä»¶è¡Œè¿­ä»£å™¨"""
    lines = ['ç¬¬ä¸€è¡Œ', 'ç¬¬äºŒè¡Œ', 'ç¬¬ä¸‰è¡Œ']
    return iter(lines)

file_iter = read_file_lines('example.txt')
first_line = next(file_iter, 'æ–‡ä»¶ä¸ºç©º')
print(f"é¦–è¡Œå†…å®¹: {first_line}")
```

**åˆ†æ‰¹å¤„ç†æ•°æ®**ï¼š
```python
# åˆ†æ‰¹å¤„ç†å¤§é‡æ•°æ®
def batch_process(data, batch_size=2):
    """å°†æ•°æ®åˆ†æ‰¹å¤„ç†"""
    data_iter = iter(data)
    while True:
        batch = []
        for _ in range(batch_size):
            item = next(data_iter, None)
            if item is None:
                break
            batch.append(item)
        
        if not batch:
            break
        
        print(f"å¤„ç†æ‰¹æ¬¡: {batch}")

# æµ‹è¯•
large_data = [1, 2, 3, 4, 5, 6, 7]
batch_process(large_data)
# è¾“å‡ºï¼š
# å¤„ç†æ‰¹æ¬¡: [1, 2]
# å¤„ç†æ‰¹æ¬¡: [3, 4] 
# å¤„ç†æ‰¹æ¬¡: [5, 6]
# å¤„ç†æ‰¹æ¬¡: [7]
```

---

## 8. ğŸš€ å®æˆ˜åº”ç”¨åœºæ™¯


### 8.1 æ•°æ®æ¸…æ´—å’Œè½¬æ¢


**åœºæ™¯ï¼šå¤„ç†ç”¨æˆ·è¾“å…¥æ•°æ®**
```python
# ç”¨æˆ·è¾“å…¥çš„æˆç»©æ•°æ®ï¼ˆåŒ…å«æ— æ•ˆå€¼ï¼‰
raw_scores = ['85', '92', 'invalid', '78', '', '95', 'N/A']

# æ­¥éª¤1ï¼šè¿‡æ»¤æœ‰æ•ˆæ•°å­—
valid_scores = filter(lambda x: x.isdigit(), raw_scores)

# æ­¥éª¤2ï¼šè½¬æ¢ä¸ºæ•´æ•°
int_scores = map(int, valid_scores)

# æ­¥éª¤3ï¼šæ£€æŸ¥æ˜¯å¦éƒ½åŠæ ¼
scores_list = list(int_scores)
all_passed = all(score >= 60 for score in scores_list)
has_excellent = any(score >= 90 for score in scores_list)

print(f"æœ‰æ•ˆæˆç»©: {scores_list}")      # [85, 92, 78, 95]
print(f"å…¨éƒ¨åŠæ ¼: {all_passed}")       # True
print(f"æœ‰ä¼˜ç§€æˆç»©: {has_excellent}")  # True
```

### 8.2 é…ç½®éªŒè¯ç³»ç»Ÿ


**åœºæ™¯ï¼šæ£€æŸ¥ç³»ç»Ÿé…ç½®æ˜¯å¦æœ‰æ•ˆ**
```python
# ç³»ç»Ÿé…ç½®æ£€æŸ¥
def validate_config(config):
    """éªŒè¯ç³»ç»Ÿé…ç½®"""
    
    # å¿…éœ€é…ç½®é¡¹
    required_keys = ['host', 'port', 'database']
    has_all_keys = all(key in config for key in required_keys)
    
    # æ£€æŸ¥æ˜¯å¦æœ‰ç©ºå€¼
    has_empty_values = any(config.get(key) == '' for key in required_keys)
    
    # ç«¯å£å·éªŒè¯
    port_valid = 1 <= config.get('port', 0) <= 65535
    
    return has_all_keys and not has_empty_values and port_valid

# æµ‹è¯•é…ç½®
config1 = {'host': 'localhost', 'port': 3306, 'database': 'myapp'}
config2 = {'host': 'localhost', 'port': 0, 'database': ''}

print(f"é…ç½®1æœ‰æ•ˆ: {validate_config(config1)}")  # True
print(f"é…ç½®2æœ‰æ•ˆ: {validate_config(config2)}")  # False
```

### 8.3 å¤§æ–‡ä»¶å¤„ç†


**åœºæ™¯ï¼šå¤„ç†å¤§é‡æ•°æ®è€Œä¸å ç”¨è¿‡å¤šå†…å­˜**
```python
# æ¨¡æ‹Ÿå¤§æ•°æ®å¤„ç†
def process_large_dataset(data):
    """å†…å­˜å‹å¥½çš„å¤§æ•°æ®å¤„ç†"""
    
    # åˆ›å»ºè¿­ä»£å™¨ï¼ˆä¸ä¼šä¸€æ¬¡æ€§åŠ è½½æ‰€æœ‰æ•°æ®ï¼‰
    data_iter = iter(data)
    
    processed_count = 0
    batch_size = 3
    
    while True:
        # è·å–ä¸€æ‰¹æ•°æ®
        batch = []
        for _ in range(batch_size):
            item = next(data_iter, None)
            if item is None:
                break
            batch.append(item)
        
        if not batch:
            break
        
        # å¤„ç†å½“å‰æ‰¹æ¬¡
        processed_batch = list(map(lambda x: x * 2, batch))
        processed_count += len(processed_batch)
        
        print(f"å¤„ç†æ‰¹æ¬¡: {batch} â†’ {processed_batch}")
    
    print(f"æ€»å…±å¤„ç†äº† {processed_count} ä¸ªå…ƒç´ ")

# æ¨¡æ‹Ÿå¤§æ•°æ®ï¼ˆå®é™…å¯èƒ½æ˜¯æ–‡ä»¶è¯»å–å™¨ï¼‰
large_numbers = range(1, 11)  # 1åˆ°10
process_large_dataset(large_numbers)
```

### 8.4 å‡½æ•°å¼ç¼–ç¨‹é“¾å¼æ“ä½œ


**åœºæ™¯ï¼šä¼˜é›…çš„æ•°æ®å¤„ç†ç®¡é“**
```python
# å­¦ç”Ÿæˆç»©å¤„ç†ç®¡é“
students = [
    {'name': 'Alice', 'scores': [85, 92, 78]},
    {'name': 'Bob', 'scores': [76, 88, 92]}, 
    {'name': 'Charlie', 'scores': [95, 87, 91]},
    {'name': 'David', 'scores': [65, 70, 68]}
]

# æ•°æ®å¤„ç†ç®¡é“
def process_students(students):
    # 1. è®¡ç®—æ¯ä¸ªå­¦ç”Ÿçš„å¹³å‡åˆ†
    with_averages = map(
        lambda s: {**s, 'average': sum(s['scores']) / len(s['scores'])}, 
        students
    )
    
    # 2. ç­›é€‰å¹³å‡åˆ†80ä»¥ä¸Šçš„å­¦ç”Ÿ
    high_performers = filter(
        lambda s: s['average'] >= 80, 
        with_averages
    )
    
    # 3. æå–å§“å
    names = map(lambda s: s['name'], high_performers)
    
    return list(names)

excellent_students = process_students(students)
print(f"ä¼˜ç§€å­¦ç”Ÿ: {excellent_students}")  # ['Alice', 'Bob', 'Charlie']

# æ£€æŸ¥æ˜¯å¦æœ‰ä¼˜ç§€å­¦ç”Ÿ
has_excellent = any(True for _ in process_students(students))
print(f"æœ‰ä¼˜ç§€å­¦ç”Ÿ: {has_excellent}")

# æ£€æŸ¥æ˜¯å¦æ‰€æœ‰äººéƒ½ä¼˜ç§€
all_excellent = len(process_students(students)) == len(students)
print(f"å…¨éƒ¨éƒ½ä¼˜ç§€: {all_excellent}")
```

---

## 9. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 9.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ map(): æ•°æ®è½¬æ¢å™¨ï¼ŒæŠŠå‡½æ•°åº”ç”¨åˆ°æ¯ä¸ªå…ƒç´ 
ğŸ”¸ filter(): æ•°æ®ç­›é€‰å™¨ï¼Œæ ¹æ®æ¡ä»¶è¿‡æ»¤å…ƒç´   
ğŸ”¸ any(): å­˜åœ¨æ€§æ£€æŸ¥ï¼Œæœ‰ä»»ä¸€ä¸ºçœŸå³è¿”å›True
ğŸ”¸ all(): å®Œæ•´æ€§æ£€æŸ¥ï¼Œå…¨éƒ¨ä¸ºçœŸæ‰è¿”å›True
ğŸ”¸ iter(): è¿­ä»£å™¨ç”Ÿæˆå™¨ï¼Œåˆ›å»ºå¯éå†å¯¹è±¡
ğŸ”¸ next(): è¿­ä»£å™¨æ¨è¿›å™¨ï¼Œè·å–ä¸‹ä¸€ä¸ªå…ƒç´ 
```

### 9.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ å†…å­˜æ•ˆç‡ç†å¿µ**
```
ä¼ ç»Ÿæ–¹å¼ï¼šä¸€æ¬¡æ€§å¤„ç†æ‰€æœ‰æ•°æ®ï¼Œå ç”¨å¤§é‡å†…å­˜
å‡½æ•°å¼æ–¹å¼ï¼šæŒ‰éœ€å¤„ç†ï¼Œè¿”å›è¿­ä»£å™¨ï¼ŒèŠ‚çœå†…å­˜
```

**ğŸ”¹ å‡½æ•°å¼ç¼–ç¨‹æ€ç»´**
```
å‘½ä»¤å¼ï¼šå‘Šè¯‰è®¡ç®—æœºæ€ä¹ˆåšï¼ˆhowï¼‰
å‡½æ•°å¼ï¼šå‘Šè¯‰è®¡ç®—æœºåšä»€ä¹ˆï¼ˆwhatï¼‰

ä¾‹å¦‚ï¼š
å‘½ä»¤å¼ï¼šforå¾ªç¯é€ä¸ªå¤„ç†
å‡½æ•°å¼ï¼šmap/filterå£°æ˜å¼å¤„ç†
```

**ğŸ”¹ è¿­ä»£å™¨çš„ç‰¹ç‚¹**
```
ä¸€æ¬¡æ€§æ¶ˆè´¹ï¼šè¿­ä»£å™¨ç”¨å®Œå°±æ²¡äº†
æƒ°æ€§è®¡ç®—ï¼šéœ€è¦æ—¶æ‰è®¡ç®—ä¸‹ä¸€ä¸ªå€¼
å†…å­˜å‹å¥½ï¼šä¸ä¼šä¸€æ¬¡æ€§åŠ è½½æ‰€æœ‰æ•°æ®
```

### 9.3 å®é™…åº”ç”¨æŒ‡å¯¼


**é€‰æ‹©ä½¿ç”¨åŸåˆ™**ï¼š

| éœ€æ±‚ | æ¨èå‡½æ•° | å…¸å‹åœºæ™¯ |
|------|---------|----------|
| **æ•°æ®è½¬æ¢** | `map()` | ç±»å‹è½¬æ¢ã€æ•°å­¦è®¡ç®—ã€æ ¼å¼åŒ– |
| **æ•°æ®ç­›é€‰** | `filter()` | æ¡ä»¶è¿‡æ»¤ã€æ•°æ®æ¸…æ´— |
| **å­˜åœ¨æ€§æ£€æŸ¥** | `any()` | æƒé™éªŒè¯ã€å¼‚å¸¸æ£€æµ‹ |
| **å®Œæ•´æ€§æ£€æŸ¥** | `all()` | æ•°æ®éªŒè¯ã€æ¡ä»¶æ»¡è¶³ |
| **é€ä¸ªå¤„ç†** | `iter()+next()` | å¤§æ–‡ä»¶è¯»å–ã€æµå¼å¤„ç† |

**æ€§èƒ½ä¼˜åŒ–å»ºè®®**ï¼š
- âœ… **å°æ•°æ®**ï¼šç›´æ¥ç”¨åˆ—è¡¨æ¨å¯¼å¼ï¼Œä»£ç æ›´æ¸…æ™°
- âœ… **å¤§æ•°æ®**ï¼šä½¿ç”¨é«˜é˜¶å‡½æ•°+è¿­ä»£å™¨ï¼ŒèŠ‚çœå†…å­˜
- âœ… **é“¾å¼æ“ä½œ**ï¼šå¤šä¸ªé«˜é˜¶å‡½æ•°ç»„åˆä½¿ç”¨
- âš ï¸ **é¿å…è¿‡åº¦**ï¼šä¸è¦ä¸ºäº†å‡½æ•°å¼è€Œå‡½æ•°å¼

### 9.4 å¸¸è§é”™è¯¯å’Œè§£å†³æ–¹æ¡ˆ


**é”™è¯¯1ï¼šå¿˜è®°è½¬æ¢ä¸ºåˆ—è¡¨**
```python
# é”™è¯¯ï¼šç›´æ¥æ‰“å°mapå¯¹è±¡
result = map(str, [1, 2, 3])
print(result)  # <map object at 0x...>

# æ­£ç¡®ï¼šè½¬æ¢ä¸ºåˆ—è¡¨
result = list(map(str, [1, 2, 3]))
print(result)  # ['1', '2', '3']
```

**é”™è¯¯2ï¼šè¿­ä»£å™¨é‡å¤ä½¿ç”¨**
```python
# é”™è¯¯ï¼šè¿­ä»£å™¨åªèƒ½ç”¨ä¸€æ¬¡
numbers = iter([1, 2, 3])
print(list(numbers))  # [1, 2, 3]
print(list(numbers))  # [] (ç©ºäº†!)

# æ­£ç¡®ï¼šéœ€è¦å¤šæ¬¡ä½¿ç”¨æ—¶é‡æ–°åˆ›å»º
original = [1, 2, 3]
iter1 = iter(original)
iter2 = iter(original)
```

**é”™è¯¯3ï¼šnext()æ²¡æœ‰å¤„ç†å¼‚å¸¸**
```python
# é”™è¯¯ï¼šå¯èƒ½æŠ›å‡ºå¼‚å¸¸
numbers = iter([1, 2])
print(next(numbers))  # 1
print(next(numbers))  # 2  
print(next(numbers))  # StopIterationå¼‚å¸¸!

# æ­£ç¡®ï¼šä½¿ç”¨é»˜è®¤å€¼
print(next(numbers, 'finished'))  # 'finished'
```

### 9.5 å­¦ä¹ è¿›é˜¶è·¯å¾„


**åŸºç¡€æŒæ¡**ï¼ˆå½“å‰é‡ç‚¹ï¼‰ï¼š
- ç†è§£æ¯ä¸ªå‡½æ•°çš„åŸºæœ¬ç”¨æ³•
- èƒ½å¤Ÿè§£å†³ç®€å•çš„æ•°æ®å¤„ç†é—®é¢˜
- æŒæ¡è¿­ä»£å™¨çš„åŸºæœ¬æ¦‚å¿µ

**è¿›é˜¶åº”ç”¨**ï¼š
- ç»„åˆä½¿ç”¨å¤šä¸ªé«˜é˜¶å‡½æ•°
- ç†è§£ç”Ÿæˆå™¨è¡¨è¾¾å¼
- æŒæ¡functoolsæ¨¡å—çš„reduce()

**é«˜çº§æŠ€å·§**ï¼š
- è‡ªå®šä¹‰è¿­ä»£å™¨ç±»
- åç¨‹å’Œå¼‚æ­¥è¿­ä»£å™¨
- å‡½æ•°å¼ç¼–ç¨‹æ¨¡å¼

**æ ¸å¿ƒè®°å¿†å£è¯€**ï¼š
- mapè½¬æ¢æ•°æ®å¾ˆæ–¹ä¾¿ï¼Œfilterç­›é€‰æŒ‰æ¡ä»¶
- anyæ£€æŸ¥å­˜åœ¨anyä¸€ä¸ªï¼Œallè¦æ±‚å…¨éƒ¨éƒ½æ»¡è¶³  
- iteråˆ›å»ºè¿­ä»£å™¨å¯¹è±¡ï¼Œnextæ¨è¿›å–ä¸‹ä¸€ä¸ª
- å†…å­˜å‹å¥½æƒ°æ€§è®¡ç®—ï¼Œå‡½æ•°å¼ç¼–ç¨‹æ–°æ€è·¯