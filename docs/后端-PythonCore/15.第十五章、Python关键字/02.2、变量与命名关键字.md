---
title: 2、变量与命名关键字
---
## 📚 目录

1. [什么是Python关键字](#1-什么是python关键字)
2. [del - 删除变量或对象](#2-del-删除变量或对象)
3. [global - 声明全局变量](#3-global-声明全局变量)
4. [nonlocal - 声明非局部变量](#4-nonlocal-声明非局部变量)
5. [as - 别名关键字](#5-as-别名关键字)
6. [from - 导入指定模块内容](#6-from-导入指定模块内容)
7. [import - 导入模块](#7-import-导入模块)
8. [核心要点总结](#8-核心要点总结)

---

## 1. 🔑 什么是Python关键字


### 1.1 关键字的本质含义


**🔸 什么是关键字？**
```
关键字就像Python语言的"保留词汇"
- 就像中文里的"的、地、得"有特定用法
- Python的关键字有特殊含义，不能随便用作变量名
- 它们是Python语言的"基本语法砖块"
```

**💡 通俗理解**：
> 想象关键字就像交通标志🚦，每个都有固定的意思
> - `del` 就像"禁止通行"标志，表示删除
> - `global` 就像"全球通用"标志，表示全局范围
> - `import` 就像"进口"标志，表示引入外部内容

### 1.2 为什么要学习这些关键字


**🎯 学习价值**：
- **变量管理**：学会如何创建、修改、删除变量
- **作用域控制**：理解变量的"生存范围"
- **模块使用**：掌握如何使用别人写好的代码
- **代码组织**：让代码更清晰、更易维护

---

## 2. 🗑️ del - 删除变量或对象


### 2.1 del的基本含义


**🔸 核心概念**
```
del = delete 的缩写，意思是"删除"
作用：从内存中移除变量或对象
本质：告诉Python"我不再需要这个东西了"
```

**🧠 记忆口诀**："`del`就是delete，不要就删掉"

### 2.2 del的实际应用


**📍 难度等级**：🟢 基础

#### 🔹 删除普通变量


```python
# 创建变量
name = "小明"
age = 20

# 使用变量
print(name)  # 输出：小明

# 删除变量
del name

# 再次使用会报错
# print(name)  # 错误！变量已不存在
```

**💡 实际理解**：
> 就像你清理房间，把不需要的东西扔掉💔
> 变量`name`就像一个盒子，`del name`就是把盒子扔掉
> 扔掉后就找不到这个盒子了

#### 🔹 删除列表元素


```python
# 创建列表
fruits = ['苹果', '香蕉', '橙子', '葡萄']

# 删除指定位置的元素
del fruits[1]  # 删除香蕉
print(fruits)  # ['苹果', '橙子', '葡萄']

# 删除一段元素
del fruits[1:3]  # 删除橙子和葡萄
print(fruits)  # ['苹果']
```

#### 🔹 删除字典键值对


```python
student = {
    'name': '小红',
    'age': 18,
    'grade': '高三'
}

# 删除某个键值对
del student['grade']
print(student)  # {'name': '小红', 'age': 18}
```

### 2.3 del使用注意事项


**⚠️ 常见误区** vs **✅ 正确理解**：

| 误区 | 正确理解 |
|------|----------|
| ❌ del可以删除文件 | ✅ del只删除Python中的变量和对象 |
| ❌ del删除后还能恢复 | ✅ del删除后无法恢复，要小心使用 |
| ❌ del会让程序变快 | ✅ del主要用于内存管理，不是为了提速 |

**💼 实际应用场景**：
> 📱 **移动应用**：清理不需要的数据，节省内存
> 🖥️ **数据处理**：删除处理完的临时变量
> 🏢 **系统开发**：清理敏感信息，保护隐私

---

## 3. 🌍 global - 声明全局变量


### 3.1 global的基本含义


**🔸 核心概念**
```
global = 全球的、全局的
作用：声明一个变量是全局变量
目的：让函数内部可以修改函数外部的变量
```

**🏠 生活比喻**：
> 想象你家有个公共客厅📺和私人卧室🛏️
> - 全局变量就像客厅的电视，全家人都能用
> - 局部变量就像卧室的东西，只有房间主人能用
> - `global`就是告诉Python："我要用客厅的电视"

### 3.2 理解变量作用域


**📍 难度等级**：🟡 中级

#### 🔹 没有global的情况


```python
# 全局变量（在函数外面定义）
count = 0

def add_one():
    # 这里创建了一个新的局部变量count
    count = count + 1  # 错误！不能修改全局变量
    print(count)

# add_one()  # 会报错
```

**💭 为什么会报错？**：
> Python看到`count = count + 1`时会想：
> "你要给count赋值，那count就是局部变量"
> "但右边的count还没定义，所以报错"

#### 🔹 使用global的正确方式


```python
# 全局变量
count = 0

def add_one():
    global count  # 声明：我要用全局的count
    count = count + 1
    print(f"计数器: {count}")

add_one()  # 输出：计数器: 1
add_one()  # 输出：计数器: 2
print(count)  # 输出：2（全局变量被修改了）
```

### 2.3 global的实际应用


**🎯 适用场景**：

| 场景类型 | 适用度 | 示例 |
|----------|--------|------|
| 🔢 计数器 | ⭐⭐⭐⭐⭐ | 网站访问次数统计 |
| 🔧 配置变量 | ⭐⭐⭐⭐ | 全局设置选项 |
| 📊 状态管理 | ⭐⭐⭐ | 游戏状态控制 |

**💡 实用示例**：
```python
# 简单的网站访问计数器
visit_count = 0

def welcome_user():
    global visit_count
    visit_count += 1
    print(f"欢迎！您是第{visit_count}位访客")

welcome_user()  # 欢迎！您是第1位访客
welcome_user()  # 欢迎！您是第2位访客
```

---

## 4. 🏘️ nonlocal - 声明非局部变量


### 4.1 nonlocal的基本含义


**🔸 核心概念**
```
nonlocal = 非局部的
作用：在嵌套函数中修改外层函数的变量
场景：函数里面还有函数的情况
```

**🏢 办公楼比喻**：
> 想象一栋办公楼🏢：
> - 全局变量 = 大楼的公共设施（所有人都能用）
> - 外层函数变量 = 部门的共享资源（部门内共享）  
> - 局部变量 = 个人办公桌（只有自己用）
> - `nonlocal` = 告诉Python"我要用部门的共享资源"

### 4.2 理解嵌套函数


**📍 难度等级**：🟡 中级

#### 🔹 嵌套函数的基本结构


```python
def outer_function():
    # 外层函数的变量
    message = "Hello"
    
    def inner_function():
        # 内层函数
        print(message)  # 可以读取外层变量
    
    inner_function()

outer_function()  # 输出：Hello
```

#### 🔹 使用nonlocal修改外层变量


```python
def make_counter():
    count = 0  # 外层函数的变量
    
    def counter():
        nonlocal count  # 声明要修改外层的count
        count += 1
        return count
    
    return counter

# 创建计数器
my_counter = make_counter()
print(my_counter())  # 1
print(my_counter())  # 2
print(my_counter())  # 3
```

### 4.3 nonlocal vs global 对比


**🆚 关键区别**：

| 对比维度 | **global** | **nonlocal** |
|----------|------------|--------------|
| 🎯 **作用范围** | 全局变量 | 外层函数变量 |
| 📍 **使用场景** | 函数修改全局变量 | 内层函数修改外层变量 |
| 🔧 **常见用途** | 配置变量、计数器 | 闭包、装饰器 |

**💼 实际应用示例**：
```python
# 制作一个简单的银行账户
def create_account(initial_balance):
    balance = initial_balance  # 外层函数变量
    
    def deposit(amount):
        nonlocal balance
        balance += amount
        print(f"存款{amount}元，余额：{balance}元")
    
    def withdraw(amount):
        nonlocal balance
        if balance >= amount:
            balance -= amount
            print(f"取款{amount}元，余额：{balance}元")
        else:
            print("余额不足！")
    
    return deposit, withdraw

# 创建账户
deposit_func, withdraw_func = create_account(1000)
deposit_func(500)   # 存款500元，余额：1500元
withdraw_func(200)  # 取款200元，余额：1300元
```

---

## 5. 🏷️ as - 别名关键字


### 5.1 as的基本含义


**🔸 核心概念**
```
as = 作为、当作
作用：给模块、变量、函数起别名
目的：让代码更简洁，避免名称冲突
```

**📝 生活比喻**：
> 就像给朋友起外号💫：
> - 张三 as 小张（张三的外号是小张）
> - numpy as np（numpy的简称是np）
> - 让代码更简洁，打字更快

### 5.2 as的使用场景


**📍 难度等级**：🟢 基础

#### 🔹 导入模块时起别名


```python
# 给模块起简短的别名
import numpy as np
import pandas as pd
import matplotlib.pyplot as plt

# 使用别名调用
data = np.array([1, 2, 3, 4])  # 比numpy.array()简洁
```

#### 🔹 导入特定功能时起别名


```python
# 从模块中导入特定功能并起别名
from datetime import datetime as dt

# 使用别名
current_time = dt.now()
print(current_time)
```

#### 🔹 异常处理中的别名


```python
try:
    result = 10 / 0
except ZeroDivisionError as e:
    print(f"计算错误：{e}")
```

### 5.3 as的实际价值


**💡 使用as的好处**：

| 好处 | 说明 | 示例 |
|------|------|------|
| 🚀 **提高效率** | 减少打字量 | `np.array()` vs `numpy.array()` |
| 🔧 **避免冲突** | 防止名称重复 | 两个模块都有`json`功能 |
| 📖 **增强可读** | 使用更清晰的名称 | `从urllib.request导入urlopen as 网页打开器` |

**🎯 **最佳实践**：
```python
# 常见的标准别名（业界约定）
import numpy as np           # 科学计算
import pandas as pd          # 数据处理  
import matplotlib.pyplot as plt  # 绘图
import tensorflow as tf      # 机器学习
```

---

## 6. 📥 from - 导入指定模块内容


### 6.1 from的基本含义


**🔸 核心概念**
```
from = 从...中
作用：从模块中导入特定的功能
好处：只导入需要的部分，不导入整个模块
```

**🏪 商店比喻**：
> 想象模块是一个大超市🏪：
> - `import 超市` = 把整个超市搬回家（占地方）
> - `from 超市 import 牛奶` = 只买需要的牛奶（精准高效）
> - from让你精确选择需要的功能

### 6.2 from的使用方式


**📍 难度等级**：🟢 基础

#### 🔹 导入特定功能


```python
# 只导入需要的数学函数
from math import sqrt, pi, sin

# 直接使用，不需要模块名前缀
print(sqrt(16))    # 4.0
print(pi)          # 3.141592653589793
print(sin(0))      # 0.0
```

**对比传统方式**：
```python
# 传统方式：导入整个模块
import math
print(math.sqrt(16))  # 需要写math.前缀

# from方式：更简洁
from math import sqrt
print(sqrt(16))       # 直接使用
```

#### 🔹 导入多个功能


```python
# 导入多个功能（用逗号分隔）
from datetime import datetime, date, timedelta

# 分别使用
now = datetime.now()        # 当前时间
today = date.today()        # 今天日期
tomorrow = today + timedelta(days=1)  # 明天
```

#### 🔹 导入所有功能（谨慎使用）


```python
# 导入模块的所有公开功能
from math import *

# 可以直接使用所有数学函数
print(sqrt(25))    # 5.0
print(cos(0))      # 1.0
print(log(10))     # 2.302585092994046
```

**⚠️ 使用 * 的注意事项**：
> 虽然方便，但可能导致：
> - 命名冲突（不知道函数来自哪个模块）
> - 代码难以理解
> - 建议只在确定安全时使用

### 6.3 from的实际应用


**🎯 适用场景矩阵**：

| 场景 | 推荐用法 | 原因 |
|------|----------|------|
| 🔢 **科学计算** | `from math import sqrt, pi` | 常用函数，提高效率 |
| 📅 **时间处理** | `from datetime import datetime` | 避免重复写模块名 |
| 🌐 **网络请求** | `from requests import get, post` | 简化API调用 |
| 📊 **数据处理** | `from pandas import DataFrame` | 核心类直接使用 |

**💼 实际项目示例**：
```python
# 网络爬虫项目的导入
from requests import get
from bs4 import BeautifulSoup
from time import sleep

def get_webpage(url):
    response = get(url)  # 直接使用get，无需requests.get
    soup = BeautifulSoup(response.text, 'html.parser')
    return soup

# 数据分析项目的导入
from pandas import read_csv, DataFrame
from matplotlib.pyplot import plot, show

data = read_csv('data.csv')  # 直接使用，简洁明了
plot(data['x'], data['y'])
show()
```

---

## 7. 📦 import - 导入模块


### 7.1 import的基本含义


**🔸 核心概念**
```
import = 导入、引入
作用：将外部模块引入到当前程序中
本质：使用别人写好的代码，避免重复造轮子
```

**🧰 工具箱比喻**：
> 想象Python模块就像各种工具箱🧰：
> - `math`模块 = 数学计算工具箱
> - `datetime`模块 = 时间处理工具箱
> - `random`模块 = 随机数工具箱
> - `import`就是把工具箱搬到你的工作台

### 7.2 import的基本用法


**📍 难度等级**：🟢 基础

#### 🔹 导入标准库模块


```python
# 导入Python内置模块
import math        # 数学计算
import random      # 随机数
import datetime    # 日期时间
import os          # 操作系统接口

# 使用模块功能
print(math.sqrt(16))                    # 4.0
print(random.randint(1, 10))           # 随机整数
print(datetime.datetime.now())          # 当前时间
print(os.getcwd())                      # 当前目录
```

#### 🔹 导入第三方模块


```python
# 需要先用pip安装：pip install requests
import requests    # 网络请求
import numpy       # 科学计算  
import pandas      # 数据处理

# 使用第三方模块
response = requests.get('https://api.github.com')
data = numpy.array([1, 2, 3, 4, 5])
df = pandas.DataFrame({'numbers': [1, 2, 3]})
```

#### 🔹 导入自己写的模块


```python
# 假设你写了一个my_utils.py文件
import my_utils

# 使用自己模块中的功能
result = my_utils.my_function()
```

### 7.3 import vs from import 对比


**🆚 使用方式对比**：

| 对比维度 | **import 模块** | **from 模块 import 功能** |
|----------|----------------|------------------------|
| 🎯 **命名空间** | 保持独立 | 直接引入 |
| ⌨️ **代码长度** | 较长 | 较短 |
| 🔍 **代码清晰度** | 明确来源 | 可能混淆 |
| 💾 **内存使用** | 导入整个模块 | 只导入需要部分 |

**💡 选择建议**：
```python
# 功能使用频繁 → 用from import
from math import sqrt, pi
print(sqrt(pi))  # 简洁

# 功能使用较少 → 用import
import math
print(math.sqrt(math.pi))  # 清晰来源

# 避免名称冲突 → 用import
import json
import simplejson
# 两个模块都有相同功能，用import避免混淆
```

### 7.4 模块搜索路径


**🔍 Python如何找到模块**：
```
Python按以下顺序查找模块：
1. 当前目录
2. PYTHONPATH环境变量指定的目录  
3. Python标准库目录
4. site-packages目录（第三方模块）
```

**🛤️ 查看搜索路径**：
```python
import sys
print(sys.path)  # 显示所有搜索路径
```

---

## 8. 📋 核心要点总结


### 8.1 必须掌握的核心概念


```
🔸 del：删除不需要的变量和对象，释放内存
🔸 global：在函数内修改全局变量
🔸 nonlocal：在嵌套函数中修改外层函数变量  
🔸 as：给模块或变量起别名，让代码更简洁
🔸 from：从模块中导入特定功能
🔸 import：导入整个模块，使用别人的代码
```

### 8.2 关键理解要点


**🔹 变量作用域的层次**：
```
全局作用域 ← global关键字控制
    ↓
外层函数作用域 ← nonlocal关键字控制  
    ↓
内层函数作用域 ← 局部变量
```

**🔹 模块导入的策略**：
```
功能简单、使用频繁 → from import
模块复杂、偶尔使用 → import
避免名称冲突 → import + as
```

**🔹 内存管理的思维**：
```
创建变量 → 占用内存
使用变量 → 处理数据  
删除变量 → 释放内存（del关键字）
```

### 8.3 实际应用指导


**✅ 最佳实践**：
- **命名规范**：全局变量用大写，局部变量用小写
- **模块别名**：使用业界约定的标准别名（np, pd, plt等）
- **导入顺序**：标准库 → 第三方库 → 自定义模块
- **内存管理**：及时删除大型数据对象

**❌ 常见错误**：
- 忘记使用global导致UnboundLocalError
- 过度使用`from ... import *`导致命名冲突
- 删除还在使用的变量导致NameError
- nonlocal和global混淆使用

### 8.4 学习路径建议


**🛤️ 渐进式学习**：
```
Level 1: 掌握import和基本变量操作
Level 2: 理解global和作用域概念
Level 3: 学会使用nonlocal处理嵌套函数
Level 4: 熟练运用as和from优化代码
```

**🎯 实战练习建议**：
1. **模块练习**：尝试导入并使用math、random、datetime模块
2. **作用域练习**：写几个函数练习global和nonlocal
3. **项目实践**：在实际项目中合理使用这些关键字
4. **代码审查**：检查自己代码中关键字的使用是否合理

**核心记忆口诀**：
- del删除释内存，global全局要声明
- nonlocal嵌套用，as别名更简便  
- from精确import全，模块引入靠import

**🔍 掌握检验标准**：
- **基础级** ✅：能正确使用import导入模块
- **应用级** ✅：能灵活运用global和nonlocal
- **进阶级** ✅：能合理选择导入方式和变量作用域
- **专家级** ✅：能设计清晰的模块结构和命名空间