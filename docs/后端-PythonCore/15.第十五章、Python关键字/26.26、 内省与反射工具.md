---
title: 26ã€ å†…çœä¸åå°„å·¥å…·
---
## ğŸ“š ç›®å½•

1. [ä»€ä¹ˆæ˜¯è°ƒè¯•ä¸å¼€å‘å·¥å…·](#1-ä»€ä¹ˆæ˜¯è°ƒè¯•ä¸å¼€å‘å·¥å…·)
2. [inspectæ¨¡å— - ä»£ç å†…çœåˆ©å™¨](#2-inspectæ¨¡å—-ä»£ç å†…çœåˆ©å™¨)
3. [pdbè°ƒè¯•å™¨ - ç¨‹åºè¯Šæ–­ä¸“å®¶](#3-pdbè°ƒè¯•å™¨-ç¨‹åºè¯Šæ–­ä¸“å®¶)
4. [tracebackæ¨¡å— - é”™è¯¯è¿½è¸ªå¤§å¸ˆ](#4-tracebackæ¨¡å—-é”™è¯¯è¿½è¸ªå¤§å¸ˆ)
5. [warningsæ¨¡å— - è­¦å‘Šæ§åˆ¶ç®¡å®¶](#5-warningsæ¨¡å—-è­¦å‘Šæ§åˆ¶ç®¡å®¶)
6. [sysæ¨¡å— - ç³»ç»Ÿä¿¡æ¯ä¸­å¿ƒ](#6-sysæ¨¡å—-ç³»ç»Ÿä¿¡æ¯ä¸­å¿ƒ)
7. [osæ¨¡å— - æ“ä½œç³»ç»Ÿæ¥å£](#7-osæ¨¡å—-æ“ä½œç³»ç»Ÿæ¥å£)
8. [å®æˆ˜åº”ç”¨åœºæ™¯](#8-å®æˆ˜åº”ç”¨åœºæ™¯)
9. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#9-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ” ä»€ä¹ˆæ˜¯è°ƒè¯•ä¸å¼€å‘å·¥å…·


### 1.1 åŸºæœ¬æ¦‚å¿µç†è§£


**ä»€ä¹ˆæ˜¯è°ƒè¯•å·¥å…·ï¼Ÿ**
ç®€å•æ¥è¯´ï¼Œè°ƒè¯•å·¥å…·å°±åƒåŒ»ç”Ÿçš„å¬è¯Šå™¨å’ŒXå…‰æœºä¸€æ ·ï¼Œå¸®åŠ©æˆ‘ä»¬**"çœ‹é€"ç¨‹åºå†…éƒ¨**ï¼Œæ‰¾å‡ºé—®é¢˜æ‰€åœ¨ã€‚

```
ç°å®ç±»æ¯”ï¼š
åŒ»ç”Ÿè¯Šæ–­ç—…äºº â†â†’ ç¨‹åºå‘˜è°ƒè¯•ä»£ç 
å¬è¯Šå™¨æ£€æŸ¥å¿ƒè·³ â†â†’ inspectæ£€æŸ¥å¯¹è±¡
Xå…‰çœ‹éª¨éª¼ç»“æ„ â†â†’ pdbé€æ­¥æ‰§è¡Œ
åŒ–éªŒæŠ¥å‘Šæ‰¾ç—…å›  â†â†’ tracebackæ‰¾é”™è¯¯
```

**ä¸ºä»€ä¹ˆéœ€è¦è¿™äº›å·¥å…·ï¼Ÿ**

| ğŸ¯ **ä½¿ç”¨åœºæ™¯** | **å¯¹åº”å·¥å…·** | **è§£å†³é—®é¢˜** |
|----------------|-------------|-------------|
| ğŸ” **äº†è§£å¯¹è±¡ä¿¡æ¯** | `inspect` | è¿™ä¸ªå‡½æ•°æœ‰å‡ ä¸ªå‚æ•°ï¼Ÿ|
| ğŸ› **ç¨‹åºå‡ºé”™äº†** | `pdb` + `traceback` | é”™åœ¨å“ªä¸€è¡Œï¼Ÿä¸ºä»€ä¹ˆé”™ï¼Ÿ|
| âš ï¸ **ä»£ç æœ‰éšæ‚£** | `warnings` | è¿™æ ·å†™æœ‰é£é™©å—ï¼Ÿ|
| ğŸ’» **ç³»ç»Ÿç¯å¢ƒé—®é¢˜** | `sys` + `os` | è¿è¡Œç¯å¢ƒæ˜¯ä»€ä¹ˆï¼Ÿ|

### 1.2 æ–°æ‰‹å­¦ä¹ è·¯å¾„


```
ğŸŒ± å…¥é—¨é˜¶æ®µï¼š
å…ˆå­¦ â†’ inspectï¼ˆçœ‹æ‡‚å¯¹è±¡ï¼‰
å†å­¦ â†’ tracebackï¼ˆè¯»æ‡‚é”™è¯¯ï¼‰

ğŸŒ¿ è¿›é˜¶é˜¶æ®µï¼š
æŒæ¡ â†’ pdbï¼ˆè°ƒè¯•æŠ€å·§ï¼‰
äº†è§£ â†’ warningsï¼ˆä»£ç è´¨é‡ï¼‰

ğŸŒ³ é«˜çº§é˜¶æ®µï¼š
è¿ç”¨ â†’ sys + osï¼ˆç¯å¢ƒæ§åˆ¶ï¼‰
ç»¼åˆ â†’ å®é™…é¡¹ç›®è°ƒè¯•
```

---

## 2. ğŸ”¬ inspectæ¨¡å— - ä»£ç å†…çœåˆ©å™¨


### 2.1 ä»€ä¹ˆæ˜¯å†…çœï¼Ÿ


**é€šä¿—ç†è§£ï¼šå†…çœå°±æ˜¯"è‡ªæˆ‘æ£€æŸ¥"**

```
ç°å®ç±»æ¯”ï¼š
ç…§é•œå­çœ‹è‡ªå·± â†â†’ inspectçœ‹å¯¹è±¡
ä½“æ£€äº†è§£èº«ä½“ â†â†’ å†…çœäº†è§£ä»£ç 
```

**inspectèƒ½åšä»€ä¹ˆï¼Ÿ**
- ğŸ“‹ æŸ¥çœ‹å‡½æ•°çš„å‚æ•°åˆ—è¡¨
- ğŸ“„ è·å–å‡½æ•°çš„æºä»£ç 
- ğŸ—ï¸ æ£€æŸ¥å¯¹è±¡çš„ç±»å‹å’Œç»“æ„
- ğŸ“ æ‰¾åˆ°ä»£ç çš„å®šä¹‰ä½ç½®

### 2.2 æ ¸å¿ƒåŠŸèƒ½è¯¦è§£


#### ğŸ”¸ æ£€æŸ¥å‡½æ•°ä¿¡æ¯


```python
import inspect

def greet(name, age=18, *args, **kwargs):
    """é—®å€™å‡½æ•°"""
    return f"Hello {name}, you are {age} years old"

# ğŸ” è·å–å‡½æ•°ç­¾åï¼ˆå‚æ•°ä¿¡æ¯ï¼‰
sig = inspect.signature(greet)
print(f"å‡½æ•°ç­¾åï¼š{sig}")
# è¾“å‡ºï¼š(name, age=18, *args, **kwargs)

# ğŸ“‹ è·å–å‚æ•°è¯¦ç»†ä¿¡æ¯
for param_name, param in sig.parameters.items():
    print(f"å‚æ•°ï¼š{param_name}")
    print(f"  é»˜è®¤å€¼ï¼š{param.default}")
    print(f"  ç±»å‹ï¼š{param.kind}")
```

**ğŸ’¡ å®é™…åº”ç”¨åœºæ™¯ï¼š**
> ğŸ¯ **APIå¼€å‘**ï¼šè‡ªåŠ¨ç”Ÿæˆæ¥å£æ–‡æ¡£
> ğŸ¯ **ä»£ç æ£€æŸ¥**ï¼šéªŒè¯å‡½æ•°è°ƒç”¨æ˜¯å¦æ­£ç¡®
> ğŸ¯ **åŠ¨æ€è°ƒç”¨**ï¼šæ ¹æ®å‚æ•°è‡ªåŠ¨ç»„è£…å‡½æ•°è°ƒç”¨

#### ğŸ”¸ è·å–æºä»£ç 


```python
# ğŸ“„ æŸ¥çœ‹å‡½æ•°æºç 
source = inspect.getsource(greet)
print("å‡½æ•°æºç ï¼š")
print(source)

# ğŸ“ æŸ¥çœ‹å®šä¹‰ä½ç½®
file_path = inspect.getfile(greet)
line_number = inspect.getsourcelines(greet)[1]
print(f"å®šä¹‰åœ¨ï¼š{file_path} ç¬¬{line_number}è¡Œ")
```

#### ğŸ”¸ æ£€æŸ¥å¯¹è±¡ç±»å‹


```python
# ğŸ” åˆ¤æ–­å¯¹è±¡ç±»å‹
print(f"æ˜¯å‡½æ•°å—ï¼Ÿ{inspect.isfunction(greet)}")
print(f"æ˜¯æ–¹æ³•å—ï¼Ÿ{inspect.ismethod(greet)}")
print(f"æ˜¯ç±»å—ï¼Ÿ{inspect.isclass(str)}")

# ğŸ“Š è·å–ç±»çš„æˆå‘˜ä¿¡æ¯
class Student:
    def __init__(self, name):
        self.name = name
    
    def study(self):
        return f"{self.name} is studying"

members = inspect.getmembers(Student)
for name, value in members:
    print(f"{name}: {type(value).__name__}")
```

### 2.3 å®ç”¨æŠ€å·§


**ğŸ¯ è‡ªåŠ¨åŒ–æ–‡æ¡£ç”Ÿæˆ**

```python
def auto_doc(func):
    """è‡ªåŠ¨ç”Ÿæˆå‡½æ•°æ–‡æ¡£"""
    sig = inspect.signature(func)
    doc = f"""
    å‡½æ•°åï¼š{func.__name__}
    å‚æ•°ï¼š{sig}
    æ–‡æ¡£ï¼š{func.__doc__ or 'æš‚æ— æ–‡æ¡£'}
    """
    return doc

# ä½¿ç”¨ç¤ºä¾‹
print(auto_doc(greet))
```

---

## 3. ğŸ› pdbè°ƒè¯•å™¨ - ç¨‹åºè¯Šæ–­ä¸“å®¶


### 3.1 ä»€ä¹ˆæ˜¯è°ƒè¯•å™¨ï¼Ÿ


**é€šä¿—ç†è§£ï¼šè°ƒè¯•å™¨å°±åƒç¨‹åºçš„"æ…¢é•œå¤´å›æ”¾"**

```
ç°å®ç±»æ¯”ï¼š
çœ‹ç”µå½±æ…¢é•œå¤´ â†â†’ pdbé€è¡Œæ‰§è¡Œ
æš‚åœåˆ†æåŠ¨ä½œ â†â†’ æ–­ç‚¹æ£€æŸ¥å˜é‡
å€’å¸¦é‡æ–°çœ‹ â†â†’ é‡å¯è°ƒè¯•è¿‡ç¨‹
```

### 3.2 åŸºæœ¬ä½¿ç”¨æ–¹æ³•


#### ğŸ”¸ å¯åŠ¨è°ƒè¯•çš„å‡ ç§æ–¹å¼


**æ–¹å¼1ï¼šä»£ç ä¸­æ’å…¥æ–­ç‚¹**

```python
import pdb

def calculate(a, b):
    result = a + b
    pdb.set_trace()  # ğŸ›‘ åœ¨è¿™é‡Œæš‚åœ
    result = result * 2
    return result

# è¿è¡Œæ—¶ä¼šåœ¨set_traceå¤„æš‚åœ
calculate(5, 3)
```

**æ–¹å¼2ï¼šå‘½ä»¤è¡Œå¯åŠ¨**

```bash
# ç›´æ¥è°ƒè¯•æ•´ä¸ªç¨‹åº
python -m pdb your_script.py
```

**æ–¹å¼3ï¼šå¼‚å¸¸æ—¶è‡ªåŠ¨å¯åŠ¨**

```python
import pdb
import sys

def risky_function():
    try:
        x = 1 / 0  # è¿™é‡Œä¼šå‡ºé”™
    except:
        pdb.post_mortem()  # ğŸ” é”™è¯¯åè‡ªåŠ¨è°ƒè¯•

risky_function()
```

#### ğŸ”¸ å¸¸ç”¨è°ƒè¯•å‘½ä»¤


| ğŸ“ **å‘½ä»¤** | **å…¨ç§°** | **ä½œç”¨** | **ä½¿ç”¨åœºæ™¯** |
|------------|---------|---------|-------------|
| `n` | next | æ‰§è¡Œä¸‹ä¸€è¡Œ | ğŸ”„ é€è¡Œè°ƒè¯• |
| `s` | step | è¿›å…¥å‡½æ•°å†…éƒ¨ | ğŸ” æ·±å…¥æŸ¥çœ‹ |
| `c` | continue | ç»§ç»­æ‰§è¡Œ | â–¶ï¸ è·³åˆ°ä¸‹ä¸ªæ–­ç‚¹ |
| `l` | list | æ˜¾ç¤ºå½“å‰ä»£ç  | ğŸ‘ï¸ çœ‹å‘¨å›´ä»£ç  |
| `p <å˜é‡>` | print | æ‰“å°å˜é‡å€¼ | ğŸ” æ£€æŸ¥å˜é‡ |
| `q` | quit | é€€å‡ºè°ƒè¯• | âŒ ç»“æŸè°ƒè¯• |

### 3.3 å®é™…è°ƒè¯•ç¤ºä¾‹


```python
def buggy_calculator(numbers):
    total = 0
    for i, num in enumerate(numbers):
        if i % 2 == 0:  # ğŸ› è¿™é‡Œæœ‰é€»è¾‘é”™è¯¯
            total += num
        else:
            total -= num
    return total

# è°ƒè¯•è¿‡ç¨‹æ¼”ç¤º
import pdb; pdb.set_trace()
result = buggy_calculator([1, 2, 3, 4, 5])
```

**ğŸ’¡ è°ƒè¯•æ­¥éª¤ï¼š**
1. è¿è¡Œåˆ°æ–­ç‚¹ï¼Œè¾“å…¥ `n` è¿›å…¥å‡½æ•°
2. è¾“å…¥ `l` æŸ¥çœ‹ä»£ç 
3. è¾“å…¥ `p numbers` æŸ¥çœ‹è¾“å…¥å‚æ•°
4. è¾“å…¥ `n` é€è¡Œæ‰§è¡Œï¼Œè§‚å¯Ÿ `total` å˜åŒ–
5. å‘ç°é—®é¢˜å¹¶ä¿®å¤

---

## 4. ğŸ“Š tracebackæ¨¡å— - é”™è¯¯è¿½è¸ªå¤§å¸ˆ


### 4.1 ä»€ä¹ˆæ˜¯é”™è¯¯è¿½è¸ªï¼Ÿ


**é€šä¿—ç†è§£ï¼štracebackå°±åƒ"æ¡ˆå‘ç°åœºå‹˜æŸ¥æŠ¥å‘Š"**

```
ç°å®ç±»æ¯”ï¼š
è­¦å¯Ÿè°ƒæŸ¥æ¡ˆä»¶ â†â†’ tracebackè¿½è¸ªé”™è¯¯
ç°åœºç•™ä¸‹çº¿ç´¢ â†â†’ è°ƒç”¨æ ˆç•™ä¸‹è½¨è¿¹
æŒ‰çº¿ç´¢æ‰¾çœŸå‡¶ â†â†’ æŒ‰æ ˆæ‰¾é”™è¯¯æ ¹æº
```

### 4.2 æ ¸å¿ƒåŠŸèƒ½


#### ğŸ”¸ æ•è·å’Œæ ¼å¼åŒ–é”™è¯¯ä¿¡æ¯


```python
import traceback
import sys

def problematic_function():
    x = 1 / 0  # ğŸš¨ é™¤é›¶é”™è¯¯

def caller_function():
    problematic_function()

def main():
    try:
        caller_function()
    except Exception as e:
        # ğŸ“‹ è·å–è¯¦ç»†é”™è¯¯ä¿¡æ¯
        error_info = traceback.format_exc()
        print("è¯¦ç»†é”™è¯¯ä¿¡æ¯ï¼š")
        print(error_info)
        
        # ğŸ“ è·å–è°ƒç”¨æ ˆ
        print("\nè°ƒç”¨æ ˆè½¨è¿¹ï¼š")
        traceback.print_tb(sys.exc_info()[2])

main()
```

#### ğŸ”¸ è‡ªå®šä¹‰é”™è¯¯å¤„ç†


```python
def safe_divide(a, b):
    """å®‰å…¨é™¤æ³•å‡½æ•°"""
    try:
        return a / b
    except ZeroDivisionError:
        # ğŸ¯ è®°å½•é”™è¯¯å‘ç”Ÿçš„å…·ä½“ä½ç½®
        tb = traceback.extract_tb(sys.exc_info()[2])
        filename, line_num, func_name, text = tb[-1]
        
        print(f"âŒ é™¤é›¶é”™è¯¯å‘ç”Ÿåœ¨ï¼š")
        print(f"   æ–‡ä»¶ï¼š{filename}")
        print(f"   å‡½æ•°ï¼š{func_name}")
        print(f"   è¡Œå·ï¼š{line_num}")
        print(f"   ä»£ç ï¼š{text}")
        
        return None

# æµ‹è¯•
result = safe_divide(10, 0)
```

### 4.3 å®ç”¨æŠ€å·§


**ğŸ¯ é”™è¯¯æ—¥å¿—è®°å½•**

```python
import logging
import traceback

# é…ç½®æ—¥å¿—
logging.basicConfig(level=logging.ERROR)
logger = logging.getLogger(__name__)

def robust_function():
    try:
        # ä¸€äº›å¯èƒ½å‡ºé”™çš„ä»£ç 
        data = {"name": "Alice"}
        print(data["age"])  # ğŸš¨ KeyError
    except Exception as e:
        # ğŸ“ è®°å½•å®Œæ•´é”™è¯¯ä¿¡æ¯åˆ°æ—¥å¿—
        logger.error(f"å‘ç”Ÿé”™è¯¯ï¼š{str(e)}")
        logger.error(f"é”™è¯¯è¯¦æƒ…ï¼š\n{traceback.format_exc()}")

robust_function()
```

---

## 5. âš ï¸ warningsæ¨¡å— - è­¦å‘Šæ§åˆ¶ç®¡å®¶


### 5.1 ä»€ä¹ˆæ˜¯è­¦å‘Šç³»ç»Ÿï¼Ÿ


**é€šä¿—ç†è§£ï¼šwarningså°±åƒæ±½è½¦çš„"æ•…éšœæŒ‡ç¤ºç¯"**

```
ç°å®ç±»æ¯”ï¼š
æ±½è½¦æ•…éšœç¯äº® â†â†’ Pythonå‘å‡ºè­¦å‘Š
æé†’æ£€æŸ¥å¼•æ“ â†â†’ æé†’æ£€æŸ¥ä»£ç 
ä¸å½±å“ç»§ç»­å¼€ â†â†’ ä¸å½±å“ç¨‹åºè¿è¡Œ
```

### 5.2 è­¦å‘Šçš„ç±»å‹å’Œä½œç”¨


| ğŸ·ï¸ **è­¦å‘Šç±»å‹** | **å«ä¹‰** | **ä½¿ç”¨åœºæ™¯** |
|----------------|---------|-------------|
| `UserWarning` | ç”¨æˆ·è­¦å‘Š | ğŸ”” ä¸€èˆ¬æ€§æé†’ |
| `DeprecationWarning` | åºŸå¼ƒè­¦å‘Š | ğŸ“‰ åŠŸèƒ½å³å°†ç§»é™¤ |
| `SyntaxWarning` | è¯­æ³•è­¦å‘Š | âš ï¸ è¯­æ³•å¯ç–‘ |
| `RuntimeWarning` | è¿è¡Œæ—¶è­¦å‘Š | ğŸƒâ€â™‚ï¸ è¿è¡Œæ—¶é—®é¢˜ |

### 5.3 åŸºæœ¬ä½¿ç”¨


#### ğŸ”¸ å‘å‡ºè­¦å‘Š


```python
import warnings

def old_function():
    """è¿™æ˜¯ä¸€ä¸ªå³å°†åºŸå¼ƒçš„å‡½æ•°"""
    warnings.warn(
        "old_functionå³å°†åœ¨ä¸‹ä¸ªç‰ˆæœ¬ä¸­ç§»é™¤ï¼Œè¯·ä½¿ç”¨new_function",
        DeprecationWarning,
        stacklevel=2  # ğŸ¯ æŒ‡å‘è°ƒç”¨è€…ä½ç½®
    )
    return "æ—§åŠŸèƒ½"

def new_function():
    """æ–°çš„æ¨èå‡½æ•°"""
    return "æ–°åŠŸèƒ½"

# ä½¿ç”¨æ—¶ä¼šçœ‹åˆ°è­¦å‘Š
result = old_function()
```

#### ğŸ”¸ æ§åˆ¶è­¦å‘Šæ˜¾ç¤º


```python
# ğŸ”‡ å¿½ç•¥ç‰¹å®šè­¦å‘Š
warnings.filterwarnings("ignore", category=DeprecationWarning)

# ğŸ”Š åªæ˜¾ç¤ºä¸€æ¬¡è­¦å‘Š
warnings.filterwarnings("once", category=UserWarning)

# ğŸš¨ å°†è­¦å‘Šè½¬ä¸ºé”™è¯¯
warnings.filterwarnings("error", category=RuntimeWarning)

# ğŸ“‹ è‡ªå®šä¹‰è­¦å‘Šæ ¼å¼
def custom_warning(message, category, filename, lineno, file=None, line=None):
    print(f"âš ï¸ è­¦å‘Šï¼š{message}")

warnings.showwarning = custom_warning
```

### 5.4 å®é™…åº”ç”¨


**ğŸ¯ ç‰ˆæœ¬å…¼å®¹æ€§ç®¡ç†**

```python
import warnings
from functools import wraps

def deprecated(reason):
    """è£…é¥°å™¨ï¼šæ ‡è®°åºŸå¼ƒå‡½æ•°"""
    def decorator(func):
        @wraps(func)
        def wrapper(*args, **kwargs):
            warnings.warn(
                f"{func.__name__}å·²åºŸå¼ƒï¼š{reason}",
                DeprecationWarning,
                stacklevel=2
            )
            return func(*args, **kwargs)
        return wrapper
    return decorator

@deprecated("è¯·ä½¿ç”¨calculate_area_v2")
def calculate_area(radius):
    return 3.14 * radius * radius

# ä½¿ç”¨æ—¶ä¼šæç¤ºåºŸå¼ƒè­¦å‘Š
area = calculate_area(5)
```

---

## 6. ğŸ’» sysæ¨¡å— - ç³»ç»Ÿä¿¡æ¯ä¸­å¿ƒ


### 6.1 ä»€ä¹ˆæ˜¯ç³»ç»Ÿæ¨¡å—ï¼Ÿ


**é€šä¿—ç†è§£ï¼šsyså°±åƒç”µè„‘çš„"ç³»ç»Ÿä¿¡æ¯é¢æ¿"**

```
ç°å®ç±»æ¯”ï¼š
æŸ¥çœ‹ç”µè„‘é…ç½® â†â†’ sys.version_info
ä»»åŠ¡ç®¡ç†å™¨ â†â†’ sys.modules
ç³»ç»Ÿè®¾ç½® â†â†’ sys.pathé…ç½®
```

### 6.2 å¸¸ç”¨åŠŸèƒ½è¯¦è§£


#### ğŸ”¸ Pythonç¯å¢ƒä¿¡æ¯


```python
import sys

# ğŸ Pythonç‰ˆæœ¬ä¿¡æ¯
print(f"Pythonç‰ˆæœ¬ï¼š{sys.version}")
print(f"ç‰ˆæœ¬è¯¦æƒ…ï¼š{sys.version_info}")

# ğŸ’¾ ç³»ç»Ÿå¹³å°
print(f"è¿è¡Œå¹³å°ï¼š{sys.platform}")

# ğŸ“‚ æ¨¡å—æœç´¢è·¯å¾„
print("æ¨¡å—æœç´¢è·¯å¾„ï¼š")
for path in sys.path:
    print(f"  {path}")
```

#### ğŸ”¸ ç¨‹åºè¿è¡Œæ§åˆ¶


```python
import sys

def check_python_version():
    """æ£€æŸ¥Pythonç‰ˆæœ¬"""
    if sys.version_info < (3, 8):
        print("âŒ éœ€è¦Python 3.8æˆ–æ›´é«˜ç‰ˆæœ¬")
        sys.exit(1)  # ğŸšª é€€å‡ºç¨‹åº
    else:
        print("âœ… Pythonç‰ˆæœ¬ç¬¦åˆè¦æ±‚")

def process_arguments():
    """å¤„ç†å‘½ä»¤è¡Œå‚æ•°"""
    print(f"è„šæœ¬åï¼š{sys.argv[0]}")
    if len(sys.argv) > 1:
        print("å‘½ä»¤è¡Œå‚æ•°ï¼š")
        for i, arg in enumerate(sys.argv[1:], 1):
            print(f"  å‚æ•°{i}ï¼š{arg}")
    else:
        print("æ²¡æœ‰å‘½ä»¤è¡Œå‚æ•°")

# ä½¿ç”¨ç¤ºä¾‹
check_python_version()
process_arguments()
```

#### ğŸ”¸ å†…å­˜å’Œæ€§èƒ½ç›‘æ§


```python
import sys

# ğŸ“Š å†…å­˜ä½¿ç”¨æƒ…å†µ
def check_memory_usage():
    import gc
    
    # ğŸ§¹ è§¦å‘åƒåœ¾å›æ”¶
    collected = gc.collect()
    print(f"åƒåœ¾å›æ”¶æ¸…ç†äº† {collected} ä¸ªå¯¹è±¡")
    
    # ğŸ“ˆ å¼•ç”¨è®¡æ•°ç¤ºä¾‹
    test_list = [1, 2, 3]
    print(f"åˆ—è¡¨å¼•ç”¨è®¡æ•°ï¼š{sys.getrefcount(test_list)}")

check_memory_usage()
```

### 6.3 å®ç”¨æŠ€å·§


**ğŸ¯ åŠ¨æ€æ¨¡å—è·¯å¾„ç®¡ç†**

```python
import sys
import os

def add_project_path():
    """æ·»åŠ é¡¹ç›®è·¯å¾„åˆ°æ¨¡å—æœç´¢è·¯å¾„"""
    project_root = os.path.dirname(os.path.abspath(__file__))
    if project_root not in sys.path:
        sys.path.insert(0, project_root)
        print(f"âœ… å·²æ·»åŠ é¡¹ç›®è·¯å¾„ï¼š{project_root}")

add_project_path()
```

---

## 7. ğŸ—‚ï¸ osæ¨¡å— - æ“ä½œç³»ç»Ÿæ¥å£


### 7.1 ä»€ä¹ˆæ˜¯æ“ä½œç³»ç»Ÿæ¥å£ï¼Ÿ


**é€šä¿—ç†è§£ï¼šosæ¨¡å—å°±åƒç¨‹åºçš„"ä¸‡èƒ½é¥æ§å™¨"**

```
ç°å®ç±»æ¯”ï¼š
é¥æ§å™¨æ§åˆ¶ç”µè§† â†â†’ osæ¨¡å—æ§åˆ¶ç³»ç»Ÿ
åˆ‡æ¢é¢‘é“ â†â†’ åˆ‡æ¢ç›®å½•
è°ƒèŠ‚éŸ³é‡ â†â†’ ä¿®æ”¹æ–‡ä»¶æƒé™
æŸ¥çœ‹èŠ‚ç›®å• â†â†’ åˆ—å‡ºæ–‡ä»¶
```

### 7.2 æ ¸å¿ƒåŠŸèƒ½åˆ†ç±»


#### ğŸ”¸ æ–‡ä»¶å’Œç›®å½•æ“ä½œ


```python
import os

# ğŸ“ ç›®å½•æ“ä½œ
def directory_operations():
    # ğŸ“ è·å–å½“å‰ç›®å½•
    current_dir = os.getcwd()
    print(f"å½“å‰ç›®å½•ï¼š{current_dir}")
    
    # ğŸ“‚ åˆ›å»ºç›®å½•
    test_dir = "test_folder"
    if not os.path.exists(test_dir):
        os.makedirs(test_dir)
        print(f"âœ… åˆ›å»ºç›®å½•ï¼š{test_dir}")
    
    # ğŸ“‹ åˆ—å‡ºç›®å½•å†…å®¹
    files = os.listdir(".")
    print("å½“å‰ç›®å½•æ–‡ä»¶ï¼š")
    for file in files[:5]:  # åªæ˜¾ç¤ºå‰5ä¸ª
        print(f"  ğŸ“„ {file}")

directory_operations()
```

#### ğŸ”¸ ç¯å¢ƒå˜é‡ç®¡ç†


```python
# ğŸŒ ç¯å¢ƒå˜é‡æ“ä½œ
def environment_operations():
    # ğŸ” è·å–ç¯å¢ƒå˜é‡
    python_path = os.environ.get("PYTHONPATH", "æœªè®¾ç½®")
    print(f"PYTHONPATHï¼š{python_path}")
    
    # â• è®¾ç½®ç¯å¢ƒå˜é‡
    os.environ["MY_APP_CONFIG"] = "development"
    print(f"è®¾ç½®é…ç½®ï¼š{os.environ['MY_APP_CONFIG']}")
    
    # ğŸ“‹ åˆ—å‡ºæ‰€æœ‰ç¯å¢ƒå˜é‡ï¼ˆåªæ˜¾ç¤ºéƒ¨åˆ†ï¼‰
    print("éƒ¨åˆ†ç¯å¢ƒå˜é‡ï¼š")
    for key, value in list(os.environ.items())[:3]:
        print(f"  {key}: {value}")

environment_operations()
```

#### ğŸ”¸ è·¯å¾„å¤„ç†


```python
# ğŸ›¤ï¸ è·¯å¾„æ“ä½œ
def path_operations():
    file_path = "/home/user/documents/report.txt"
    
    # ğŸ” è·¯å¾„åˆ†æ
    print(f"å®Œæ•´è·¯å¾„ï¼š{file_path}")
    print(f"ç›®å½•éƒ¨åˆ†ï¼š{os.path.dirname(file_path)}")
    print(f"æ–‡ä»¶åï¼š{os.path.basename(file_path)}")
    print(f"æ–‡ä»¶æ‰©å±•åï¼š{os.path.splitext(file_path)[1]}")
    
    # ğŸ”— è·¯å¾„æ‹¼æ¥ï¼ˆè·¨å¹³å°å…¼å®¹ï¼‰
    safe_path = os.path.join("projects", "python", "main.py")
    print(f"å®‰å…¨è·¯å¾„ï¼š{safe_path}")

path_operations()
```

### 7.3 å®é™…åº”ç”¨åœºæ™¯


**ğŸ¯ é¡¹ç›®æ–‡ä»¶ç®¡ç†**

```python
import os
import time

def project_manager():
    """é¡¹ç›®æ–‡ä»¶ç®¡ç†å™¨"""
    project_name = "my_python_project"
    
    # ğŸ“ åˆ›å»ºé¡¹ç›®ç»“æ„
    folders = ["src", "tests", "docs", "data"]
    
    if not os.path.exists(project_name):
        os.makedirs(project_name)
        print(f"âœ… åˆ›å»ºé¡¹ç›®ï¼š{project_name}")
        
        # ğŸ—ï¸ åˆ›å»ºå­ç›®å½•
        for folder in folders:
            folder_path = os.path.join(project_name, folder)
            os.makedirs(folder_path)
            print(f"  ğŸ“‚ {folder}")
        
        # ğŸ“ åˆ›å»ºåŸºæœ¬æ–‡ä»¶
        files = ["README.md", "requirements.txt", "main.py"]
        for file in files:
            file_path = os.path.join(project_name, file)
            with open(file_path, "w") as f:
                f.write(f"# {file}\nåˆ›å»ºæ—¶é—´ï¼š{time.ctime()}")
            print(f"  ğŸ“„ {file}")

project_manager()
```

---

## 8. ğŸš€ å®æˆ˜åº”ç”¨åœºæ™¯


### 8.1 ç»¼åˆè°ƒè¯•å·¥å…·ç®±


```python
import inspect
import traceback
import warnings
import sys
import os
from functools import wraps

class DebugToolbox:
    """è°ƒè¯•å·¥å…·ç®±"""
    
    @staticmethod
    def debug_function(func):
        """å‡½æ•°è°ƒè¯•è£…é¥°å™¨"""
        @wraps(func)
        def wrapper(*args, **kwargs):
            # ğŸ“‹ è®°å½•å‡½æ•°è°ƒç”¨ä¿¡æ¯
            sig = inspect.signature(func)
            print(f"ğŸ” è°ƒç”¨å‡½æ•°ï¼š{func.__name__}")
            print(f"ğŸ“ å‚æ•°ç­¾åï¼š{sig}")
            print(f"ğŸ“¥ å®é™…å‚æ•°ï¼šargs={args}, kwargs={kwargs}")
            
            try:
                result = func(*args, **kwargs)
                print(f"âœ… æ‰§è¡ŒæˆåŠŸï¼Œè¿”å›ï¼š{result}")
                return result
            except Exception as e:
                print(f"âŒ æ‰§è¡Œå¤±è´¥ï¼š{str(e)}")
                print(f"ğŸ“Š é”™è¯¯è¯¦æƒ…ï¼š")
                traceback.print_exc()
                raise
        return wrapper
    
    @staticmethod
    def system_info():
        """ç³»ç»Ÿä¿¡æ¯æŠ¥å‘Š"""
        print("ğŸ’» ç³»ç»Ÿç¯å¢ƒä¿¡æ¯ï¼š")
        print(f"  ğŸ Pythonç‰ˆæœ¬ï¼š{sys.version_info}")
        print(f"  ğŸ’¾ å¹³å°ï¼š{sys.platform}")
        print(f"  ğŸ“‚ å½“å‰ç›®å½•ï¼š{os.getcwd()}")
        print(f"  ğŸŒ ç”¨æˆ·ï¼š{os.environ.get('USER', 'æœªçŸ¥')}")

# ä½¿ç”¨ç¤ºä¾‹
@DebugToolbox.debug_function
def calculate_average(numbers):
    """è®¡ç®—å¹³å‡å€¼"""
    if not numbers:
        warnings.warn("ç©ºåˆ—è¡¨å¯èƒ½å¯¼è‡´é™¤é›¶é”™è¯¯", UserWarning)
        return 0
    return sum(numbers) / len(numbers)

# æµ‹è¯•
DebugToolbox.system_info()
result = calculate_average([1, 2, 3, 4, 5])
```

### 8.2 é”™è¯¯å¤„ç†æœ€ä½³å®è·µ


```python
import logging
import sys
import traceback
from datetime import datetime

# ğŸ”§ é…ç½®æ—¥å¿—ç³»ç»Ÿ
logging.basicConfig(
    level=logging.INFO,
    format='%(asctime)s - %(levelname)s - %(message)s',
    handlers=[
        logging.FileHandler('app.log'),
        logging.StreamHandler(sys.stdout)
    ]
)
logger = logging.getLogger(__name__)

def robust_main():
    """å¥å£®çš„ä¸»å‡½æ•°"""
    try:
        logger.info("ğŸš€ ç¨‹åºå¯åŠ¨")
        
        # æ¨¡æ‹Ÿä¸€äº›æ“ä½œ
        data = process_data()
        save_results(data)
        
        logger.info("âœ… ç¨‹åºæ­£å¸¸ç»“æŸ")
        
    except KeyboardInterrupt:
        logger.warning("â¹ï¸ ç”¨æˆ·ä¸­æ–­ç¨‹åº")
        sys.exit(0)
    except Exception as e:
        logger.error(f"ğŸ’¥ ç¨‹åºå¼‚å¸¸ï¼š{str(e)}")
        logger.error(f"ğŸ“ é”™è¯¯è¯¦æƒ…ï¼š\n{traceback.format_exc()}")
        sys.exit(1)

def process_data():
    """æ•°æ®å¤„ç†å‡½æ•°"""
    # æ¨¡æ‹Ÿå¤„ç†è¿‡ç¨‹
    return {"result": "success", "count": 100}

def save_results(data):
    """ä¿å­˜ç»“æœ"""
    logger.info(f"ğŸ’¾ ä¿å­˜æ•°æ®ï¼š{data}")

if __name__ == "__main__":
    robust_main()
```

---

## 9. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 9.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ inspectï¼šä»£ç çš„"é€è§†é•œ"ï¼Œçœ‹æ¸…å¯¹è±¡å†…éƒ¨ç»“æ„
ğŸ”¸ pdbï¼šç¨‹åºçš„"æ˜¾å¾®é•œ"ï¼Œé€è¡Œåˆ†ææ‰§è¡Œè¿‡ç¨‹  
ğŸ”¸ tracebackï¼šé”™è¯¯çš„"ä¾¦æ¢"ï¼Œè¿½è¸ªé—®é¢˜æ ¹æº
ğŸ”¸ warningsï¼šä»£ç çš„"å¥åº·æ£€æŸ¥"ï¼Œé¢„è­¦æ½œåœ¨é—®é¢˜
ğŸ”¸ sysï¼šPythonçš„"æ§åˆ¶é¢æ¿"ï¼Œç®¡ç†è¿è¡Œç¯å¢ƒ
ğŸ”¸ osï¼šç³»ç»Ÿçš„"ä¸‡èƒ½é’¥åŒ™"ï¼Œæ“ä½œæ–‡ä»¶å’Œç¯å¢ƒ
```

### 9.2 å­¦ä¹ è®°å¿†è¦ç‚¹


**ğŸ¯ ä½¿ç”¨åœºæ™¯è®°å¿†æ³•ï¼š**

| ğŸ­ **æƒ…å†µ** | **é¦–é€‰å·¥å…·** | **è®°å¿†å£è¯€** |
|------------|-------------|-------------|
| ğŸ¤” **ä¸çŸ¥é“å‡½æ•°æ€ä¹ˆç”¨** | `inspect` | "å†…çœä¸€ä¸‹ï¼Œçœ‹ä¸ªæ˜ç™½" |
| ğŸ› **ç¨‹åºè·‘ä¸å¯¹** | `pdb` | "ä¸€æ­¥ä¸€æ­¥ï¼Œæ‰¾åˆ°é—®é¢˜" |
| ğŸ’¥ **ç¨‹åºå´©æºƒäº†** | `traceback` | "é¡ºè—¤æ‘¸ç“œï¼Œè¿½æ ¹æº¯æº" |
| âš ï¸ **ä»£ç æœ‰éšæ‚£** | `warnings` | "æœªé›¨ç»¸ç¼ªï¼Œæå‰é¢„è­¦" |
| ğŸ”§ **ç¯å¢ƒæœ‰é—®é¢˜** | `sys` + `os` | "çŸ¥å·±çŸ¥å½¼ï¼Œç¯å¢ƒå…ˆè¡Œ" |

### 9.3 å®é™…å¼€å‘å»ºè®®


**ğŸŒŸ æ–°æ‰‹é˜¶æ®µé‡ç‚¹ï¼š**
- âœ… å­¦ä¼šç”¨ `inspect.signature()` æŸ¥çœ‹å‡½æ•°å‚æ•°
- âœ… æŒæ¡ `pdb.set_trace()` åŸºæœ¬è°ƒè¯•
- âœ… ç†è§£ `traceback.format_exc()` é”™è¯¯ä¿¡æ¯
- âœ… ä¼šç”¨ `sys.argv` å¤„ç†å‘½ä»¤è¡Œå‚æ•°
- âœ… ç†Ÿæ‚‰ `os.path` è·¯å¾„æ“ä½œ

**ğŸš€ è¿›é˜¶é˜¶æ®µç›®æ ‡ï¼š**
- ğŸ¯ æ„å»ºè‡ªå·±çš„è°ƒè¯•å·¥å…·ç®±
- ğŸ¯ å»ºç«‹å®Œå–„çš„é”™è¯¯å¤„ç†æœºåˆ¶
- ğŸ¯ æŒæ¡æ€§èƒ½åˆ†æå’Œä¼˜åŒ–æŠ€å·§
- ğŸ¯ äº†è§£è·¨å¹³å°å…¼å®¹æ€§å¤„ç†

**ğŸ’¡ æœ€ä½³å®è·µåŸåˆ™ï¼š**
1. **é¢„é˜²ä¸ºä¸»**ï¼šç”¨warningsæå‰å‘ç°é—®é¢˜
2. **å·¥å…·ç»„åˆ**ï¼šå¤šä¸ªå·¥å…·é…åˆä½¿ç”¨æ•ˆæœæ›´å¥½
3. **æ—¥å¿—è®°å½•**ï¼šé‡è¦æ“ä½œéƒ½è¦ç•™ä¸‹è®°å½•
4. **ç¯å¢ƒæ£€æŸ¥**ï¼šç¨‹åºè¿è¡Œå‰å…ˆæ£€æŸ¥ç¯å¢ƒ
5. **ä¼˜é›…é™çº§**ï¼šå‡ºé”™æ—¶è¦æœ‰åˆç†çš„å¤„ç†æ–¹æ¡ˆ

**æ ¸å¿ƒè®°å¿†å£è¯€ï¼š**
```
inspectçœ‹å†…éƒ¨ï¼Œpdbé€æ­¥æŸ¥
tracebackæ‰¾é”™è¯¯ï¼Œwarningsæ—©é¢„è­¦  
sysç®¡ç¯å¢ƒï¼Œosæ“ä½œç³»ç»Ÿ
è°ƒè¯•å·¥å…·è¦ç”¨å¥½ï¼Œä»£ç è´¨é‡æ­¥æ­¥é«˜
```

### 9.4 å¸¸è§è¯¯åŒºæé†’


âš ï¸ **é¿å…è¿™äº›é”™è¯¯ï¼š**
- âŒ ç”Ÿäº§ç¯å¢ƒç•™ç€ `pdb.set_trace()`
- âŒ å¿½ç•¥è­¦å‘Šä¿¡æ¯ä¸å¤„ç†
- âŒ ä¸åšå¼‚å¸¸å¤„ç†å°±ç›´æ¥å´©æºƒ
- âŒ ç¡¬ç¼–ç æ–‡ä»¶è·¯å¾„ä¸è€ƒè™‘è·¨å¹³å°
- âŒ è°ƒè¯•å®Œä¸æ¸…ç†è°ƒè¯•ä»£ç 

âœ… **æ­£ç¡®çš„åšæ³•ï¼š**
- âœ… è°ƒè¯•ä»£ç ç”¨æ¡ä»¶æ§åˆ¶
- âœ… åŠæ—¶å¤„ç†åºŸå¼ƒè­¦å‘Š
- âœ… å»ºç«‹å®Œå–„çš„å¼‚å¸¸å¤„ç†æœºåˆ¶
- âœ… ä½¿ç”¨ `os.path.join()` å¤„ç†è·¯å¾„
- âœ… ä»£ç æäº¤å‰æ¸…ç†è°ƒè¯•ä¿¡æ¯