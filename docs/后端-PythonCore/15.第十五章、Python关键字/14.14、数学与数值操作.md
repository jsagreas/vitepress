---
title: 14、数学与数值操作
---
## 📚 目录

1. [基础数学函数](#1-基础数学函数)
2. [绝对值操作 abs()](#2-绝对值操作-abs)
3. [最值查找 max() 和 min()](#3-最值查找-max-和-min)
4. [求和运算 sum()](#4-求和运算-sum)
5. [长度计算 len()](#5-长度计算-len)
6. [数值舍入 round()](#6-数值舍入-round)
7. [幂运算 pow()](#7-幂运算-pow)
8. [除法运算 divmod()](#8-除法运算-divmod)
9. [实际应用场景](#9-实际应用场景)
10. [核心要点总结](#10-核心要点总结)

---

## 1. 🧮 基础数学函数


### 1.1 什么是Python内置数学函数


**简单理解**：就像计算器上的按钮一样，Python给我们准备了很多现成的数学工具。

```
想象一下：
计算器按钮     →    Python函数
  [+/-]       →    abs() 绝对值
  [MAX]       →    max() 最大值  
  [MIN]       →    min() 最小值
  [SUM]       →    sum() 求和
```

**核心特点**：
- 🔸 **内置函数**：不需要导入，直接使用
- 🔸 **简单易用**：一个函数解决一个问题
- 🔸 **处理多种类型**：整数、小数、列表都能处理

### 1.2 为什么要学这些函数


**实际需求场景**：
```
日常编程中经常遇到：
• 计算商品价格差值 → abs()
• 找出考试最高分 → max()  
• 找出库存最少的商品 → min()
• 计算购物车总价 → sum()
• 统计用户数量 → len()
• 四舍五入金额 → round()
```

**学会的好处**：
- ✅ 写代码更简洁，不用自己造轮子
- ✅ 代码更可靠，内置函数经过充分测试
- ✅ 性能更好，底层用C语言优化过

---

## 2. 📏 绝对值操作 abs()


### 2.1 绝对值是什么


**通俗解释**：绝对值就是"去掉符号后的数值大小"。

```
生活中的理解：
温度差：今天5度，昨天-3度，温度差是 |5-(-3)| = 8度
距离：你在3楼，朋友在-2楼（地下2层），距离是 |3-(-2)| = 5层

数学上：
正数的绝对值 = 自己：|5| = 5
负数的绝对值 = 去掉负号：|-5| = 5  
零的绝对值 = 0：|0| = 0
```

### 2.2 abs()函数详解


**基本语法**：
```python
abs(数值)
```

**💡 使用示例**：
```python
# 基础用法
print(abs(5))      # 输出：5
print(abs(-5))     # 输出：5
print(abs(0))      # 输出：0
print(abs(-3.14))  # 输出：3.14

# 实际应用：计算温度差
today_temp = 25
yesterday_temp = 18
temp_diff = abs(today_temp - yesterday_temp)
print(f"温度相差：{temp_diff}度")  # 输出：温度相差：7度
```

### 2.3 常见应用场景


**🎯 场景一：计算差值**
```python
# 计算身高差
height1 = 175  # 小明身高
height2 = 168  # 小红身高
height_diff = abs(height1 - height2)
print(f"身高相差：{height_diff}厘米")
```

**🎯 场景二：判断误差范围**
```python
# 判断测量误差是否在允许范围内
target_value = 100      # 目标值
measured_value = 98.5   # 测量值
tolerance = 2           # 允许误差

error = abs(target_value - measured_value)
if error <= tolerance:
    print("测量合格")
else:
    print("测量超出误差范围")
```

---

## 3. 🔢 最值查找 max() 和 min()


### 3.1 什么是最大值和最小值


**简单理解**：就像在一群人中找最高的和最矮的。

```
现实类比：
考试成绩：[85, 92, 78, 96, 83]
最高分 → max() → 96分
最低分 → min() → 78分

商品价格：[12.5, 8.9, 15.2, 6.8]  
最贵 → max() → 15.2元
最便宜 → min() → 6.8元
```

### 3.2 max()函数详解


**基本语法**：
```python
max(值1, 值2, 值3, ...)    # 直接比较多个值
max([列表])               # 找列表中最大值
max(字符串)              # 找字符串中最大字符
```

**💡 使用示例**：
```python
# 方式1：直接比较多个数
print(max(10, 5, 8, 3))  # 输出：10

# 方式2：列表中找最大值
scores = [85, 92, 78, 96, 83]
highest_score = max(scores)
print(f"最高分：{highest_score}")  # 输出：最高分：96

# 方式3：字符串比较（按ASCII码）
print(max("hello"))      # 输出：o（ASCII码最大）
print(max("apple", "banana", "cherry"))  # 输出：cherry（字典序最大）
```

### 3.3 min()函数详解


**使用方法与max()完全相同**：
```python
# 找最小值
print(min(10, 5, 8, 3))  # 输出：3

# 找列表最小值
prices = [12.5, 8.9, 15.2, 6.8]
cheapest = min(prices)
print(f"最便宜：{cheapest}元")  # 输出：最便宜：6.8元

# 找最短字符串
names = ["Tom", "Alice", "Bob"]
shortest_name = min(names, key=len)  # 按长度比较
print(f"最短姓名：{shortest_name}")  # 输出：最短姓名：Tom
```

### 3.4 高级用法：key参数


**什么是key参数**：告诉函数"按什么标准来比较"。

```python
# 按年龄找最大最小
students = [
    {"name": "小明", "age": 18},
    {"name": "小红", "age": 20}, 
    {"name": "小刚", "age": 16}
]

# 找年龄最大的学生
oldest = max(students, key=lambda x: x["age"])
print(f"年龄最大：{oldest['name']}, {oldest['age']}岁")

# 找年龄最小的学生  
youngest = min(students, key=lambda x: x["age"])
print(f"年龄最小：{youngest['name']}, {youngest['age']}岁")
```

---

## 4. ➕ 求和运算 sum()


### 4.1 求和的含义


**通俗解释**：把一堆数字加起来，就像计算购物车总价。

```
生活场景：
购物清单：[苹果6元, 香蕉4元, 橙子8元, 葡萄12元]
总价 = 6 + 4 + 8 + 12 = 30元

考试成绩：[语文85, 数学92, 英语88]  
总分 = 85 + 92 + 88 = 265分
```

### 4.2 sum()函数详解


**基本语法**：
```python
sum(可迭代对象)           # 对列表/元组求和
sum(可迭代对象, 初始值)   # 从初始值开始求和
```

**💡 基础使用**：
```python
# 列表求和
numbers = [1, 2, 3, 4, 5]
total = sum(numbers)
print(f"总和：{total}")  # 输出：总和：15

# 购物车总价
cart_prices = [25.5, 12.8, 8.9, 45.2]
total_price = sum(cart_prices)
print(f"购物车总价：{total_price}元")  # 输出：购物车总价：92.4元

# 指定初始值
numbers = [1, 2, 3]
result = sum(numbers, 10)  # 从10开始加
print(result)  # 输出：16 (10+1+2+3)
```

### 4.3 实际应用场景


**🎯 场景一：计算平均分**
```python
# 计算学生平均成绩
scores = [85, 92, 78, 96, 83]
total_score = sum(scores)
average = total_score / len(scores)
print(f"平均分：{average:.1f}")  # 输出：平均分：86.8
```

**🎯 场景二：统计销售额**
```python
# 一周销售额统计
daily_sales = [1200, 1580, 950, 2100, 1750, 2300, 1650]
weekly_total = sum(daily_sales)
print(f"本周总销售额：{weekly_total}元")
```

**⚠️ 注意事项**：
```python
# sum()只能计算数值，不能计算字符串
numbers = [1, 2, 3, 4]
sum(numbers)  # ✅ 正确：10

strings = ["hello", "world"]  
# sum(strings)  # ❌ 错误：TypeError

# 字符串连接应该用join()
result = "".join(strings)  # ✅ 正确："helloworld"
```

---

## 5. 📐 长度计算 len()


### 5.1 长度的概念


**通俗解释**：数一数有多少个元素，就像数羊一样。

```
现实类比：
书架上的书 → 数有几本书
班级学生 → 数有几个人  
购物清单 → 数有几样商品
文章字数 → 数有几个字符
```

### 5.2 len()函数详解


**基本语法**：
```python
len(对象)  # 返回对象中元素的个数
```

**💡 多种数据类型的长度**：
```python
# 字符串长度
text = "Hello World"
print(f"字符串长度：{len(text)}")  # 输出：字符串长度：11

# 列表长度
fruits = ["苹果", "香蕉", "橙子", "葡萄"]
print(f"水果种类：{len(fruits)}种")  # 输出：水果种类：4种

# 元组长度
coordinates = (10, 20, 30)
print(f"坐标维度：{len(coordinates)}")  # 输出：坐标维度：3

# 字典长度（键值对个数）
student = {"姓名": "小明", "年龄": 18, "班级": "三年一班"}
print(f"学生信息项目：{len(student)}项")  # 输出：学生信息项目：3项
```

### 5.3 实际应用场景


**🎯 场景一：验证用户输入**
```python
# 检查密码长度
password = input("请输入密码：")
if len(password) < 6:
    print("密码太短，至少需要6位")
elif len(password) > 20:
    print("密码太长，最多20位")
else:
    print("密码长度合适")
```

**🎯 场景二：数据统计**
```python
# 统计用户数量
user_list = ["张三", "李四", "王五", "赵六", "孙七"]
user_count = len(user_list)
print(f"当前用户数量：{user_count}人")

# 检查列表是否为空
if len(user_list) == 0:
    print("暂无用户")
else:
    print(f"共有{user_count}位用户")
```

**🎯 场景三：循环控制**
```python
# 遍历列表时使用长度
items = ["商品A", "商品B", "商品C"]
for i in range(len(items)):
    print(f"第{i+1}个商品：{items[i]}")
```

---

## 6. 🎯 数值舍入 round()


### 6.1 四舍五入的概念


**通俗解释**：把小数变成更简单的数，就像把零钱凑整。

```
生活中的舍入：
价格：12.678元 → 舍入到分：12.68元
成绩：85.4分 → 舍入到整数：85分  
距离：3.14159公里 → 舍入到1位小数：3.1公里

规则：
小数部分 ≥ 0.5 → 向上舍入
小数部分 < 0.5 → 向下舍入
```

### 6.2 round()函数详解


**基本语法**：
```python
round(数值)           # 舍入到整数
round(数值, 小数位数)  # 舍入到指定小数位数
```

**💡 基础使用**：
```python
# 舍入到整数
print(round(3.7))    # 输出：4
print(round(3.2))    # 输出：3  
print(round(3.5))    # 输出：4

# 舍入到指定小数位
print(round(3.14159, 2))   # 输出：3.14 (保留2位小数)
print(round(3.14159, 3))   # 输出：3.142 (保留3位小数)
print(round(123.456, 1))   # 输出：123.5 (保留1位小数)

# 舍入到十位、百位
print(round(1234.56, -1))  # 输出：1230.0 (舍入到十位)
print(round(1234.56, -2))  # 输出：1200.0 (舍入到百位)
```

### 6.3 实际应用场景


**🎯 场景一：金额计算**
```python
# 计算商品折扣价格
original_price = 99.99
discount = 0.8  # 8折
discounted_price = original_price * discount
final_price = round(discounted_price, 2)  # 保留2位小数
print(f"折扣价：{final_price}元")  # 输出：折扣价：79.99元
```

**🎯 场景二：成绩处理**
```python
# 计算平均成绩
scores = [85.7, 92.3, 78.8, 96.1, 83.6]
average = sum(scores) / len(scores)
rounded_average = round(average, 1)
print(f"平均成绩：{rounded_average}分")  # 输出：平均成绩：87.3分
```

**⚠️ 特殊情况说明**：
```python
# Python的"银行家舍入"
print(round(2.5))   # 输出：2 (偶数舍入)
print(round(3.5))   # 输出：4 (偶数舍入)

# 这是为了减少舍入误差的数学方法
# 实际使用中影响很小，了解即可
```

---

## 7. 🔋 幂运算 pow()


### 7.1 幂运算的概念


**通俗解释**：幂运算就是"乘方"，把一个数自己乘自己若干次。

```
数学概念：
2的3次方 = 2³ = 2 × 2 × 2 = 8
5的2次方 = 5² = 5 × 5 = 25

生活应用：
面积计算：正方形面积 = 边长²
体积计算：正方体体积 = 边长³
细菌繁殖：每小时翻倍 → 2^小时数
```

### 7.2 pow()函数详解


**基本语法**：
```python
pow(底数, 指数)        # 计算 底数^指数
pow(底数, 指数, 模数)  # 计算 (底数^指数) % 模数
```

**💡 基础使用**：
```python
# 基本幂运算
print(pow(2, 3))    # 输出：8 (2的3次方)
print(pow(5, 2))    # 输出：25 (5的2次方)
print(pow(10, 4))   # 输出：10000 (10的4次方)

# 小数幂运算
print(pow(4, 0.5))  # 输出：2.0 (4的0.5次方，即开平方)
print(pow(8, 1/3))  # 输出：2.0 (8的1/3次方，即开立方)

# 负数指数（倒数）
print(pow(2, -1))   # 输出：0.5 (2的-1次方 = 1/2)
print(pow(4, -2))   # 输出：0.0625 (4的-2次方 = 1/16)
```

### 7.3 与**操作符的对比


**两种写法效果相同**：
```python
# 方式1：使用pow函数
result1 = pow(2, 3)
print(result1)  # 输出：8

# 方式2：使用**操作符  
result2 = 2 ** 3
print(result2)  # 输出：8

# 什么时候用pow()？
# 1. 需要取模运算时
print(pow(3, 4, 5))    # 输出：1 (3^4 % 5 = 81 % 5 = 1)

# 2. 代码更清晰易读时
base = 2
exponent = 10
result = pow(base, exponent)  # 比 base ** exponent 更清晰
```

### 7.4 实际应用场景


**🎯 场景一：面积体积计算**
```python
# 计算正方形面积
side_length = 5
area = pow(side_length, 2)
print(f"正方形面积：{area}平方米")  # 输出：正方形面积：25平方米

# 计算正方体体积
edge_length = 3
volume = pow(edge_length, 3)  
print(f"正方体体积：{volume}立方米")  # 输出：正方体体积：27立方米
```

**🎯 场景二：复利计算**
```python
# 计算银行存款复利
principal = 10000      # 本金
rate = 0.05           # 年利率5%
years = 3             # 存3年

final_amount = principal * pow(1 + rate, years)
print(f"3年后金额：{final_amount:.2f}元")  # 输出：3年后金额：11576.25元
```

---

## 8. ➗ 除法运算 divmod()


### 8.1 除法运算的两个结果


**通俗解释**：divmod就像小学除法，给你商和余数两个答案。

```
小学除法：
17 ÷ 5 = 3 ... 2
↑    ↑   ↑     ↑
被除数 除数 商   余数

divmod(17, 5) → (3, 2)
返回元组：(商, 余数)
```

### 8.2 divmod()函数详解


**基本语法**：
```python
divmod(被除数, 除数)  # 返回 (商, 余数)
```

**💡 基础使用**：
```python
# 基本除法
result = divmod(17, 5)
print(result)           # 输出：(3, 2)
print(f"商：{result[0]}, 余数：{result[1]}")  # 输出：商：3, 余数：2

# 直接解包赋值
quotient, remainder = divmod(17, 5)
print(f"17除以5，商是{quotient}，余数是{remainder}")

# 小数除法
q, r = divmod(20.5, 3)
print(f"商：{q}, 余数：{r}")  # 输出：商：6.0, 余数：2.5
```

### 8.3 与其他操作符的对比


**三种方式得到商和余数**：
```python
a, b = 17, 5

# 方式1：divmod函数（推荐）
quotient, remainder = divmod(a, b)
print(f"divmod: 商={quotient}, 余数={remainder}")

# 方式2：分别计算  
quotient2 = a // b    # 整除
remainder2 = a % b    # 取余
print(f"分别计算: 商={quotient2}, 余数={remainder2}")

# 方式3：普通除法（只有商）
quotient3 = a / b     # 普通除法
print(f"普通除法: 商={quotient3}")  # 输出：3.4
```

### 8.4 实际应用场景


**🎯 场景一：时间换算**
```python
# 把秒数转换为小时、分钟、秒
total_seconds = 7265  # 总秒数

# 计算小时数和剩余秒数
hours, remaining_seconds = divmod(total_seconds, 3600)

# 计算分钟数和最终剩余秒数  
minutes, seconds = divmod(remaining_seconds, 60)

print(f"{total_seconds}秒 = {hours}小时{minutes}分钟{seconds}秒")
# 输出：7265秒 = 2小时1分钟5秒
```

**🎯 场景二：分页计算**
```python
# 计算数据分页
total_items = 47      # 总数据条数
items_per_page = 10   # 每页显示条数

pages, remaining_items = divmod(total_items, items_per_page)

if remaining_items > 0:
    total_pages = pages + 1  # 有余数需要多一页
else:
    total_pages = pages

print(f"总共{total_items}条数据，每页{items_per_page}条")
print(f"需要{total_pages}页，最后一页有{remaining_items}条")
```

**🎯 场景三：钱币找零**
```python
# 计算找零的各种面额
money = 87  # 要找零的金额

# 50元
fifties, money = divmod(money, 50)
print(f"50元：{fifties}张")

# 20元  
twenties, money = divmod(money, 20)
print(f"20元：{twenties}张")

# 10元
tens, money = divmod(money, 10)
print(f"10元：{tens}张")

# 剩余的就是1元
print(f"1元：{money}张")
```

---

## 9. 🎯 实际应用场景


### 9.1 学生成绩管理系统


```python
def analyze_scores(scores):
    """分析学生成绩"""
    print("=== 成绩分析报告 ===")
    
    # 基本统计
    total_students = len(scores)
    total_score = sum(scores)
    highest_score = max(scores)
    lowest_score = min(scores)
    average_score = round(total_score / total_students, 1)
    
    print(f"参考人数：{total_students}人")
    print(f"总分：{total_score}分")
    print(f"最高分：{highest_score}分")
    print(f"最低分：{lowest_score}分") 
    print(f"平均分：{average_score}分")
    
    # 分数段统计
    excellent = len([s for s in scores if s >= 90])
    good = len([s for s in scores if 80 <= s < 90])
    pass_count = len([s for s in scores if 60 <= s < 80])
    fail = len([s for s in scores if s < 60])
    
    print(f"\n成绩分布：")
    print(f"优秀(90+)：{excellent}人")
    print(f"良好(80-89)：{good}人")
    print(f"及格(60-79)：{pass_count}人") 
    print(f"不及格(<60)：{fail}人")

# 使用示例
class_scores = [85, 92, 78, 96, 83, 89, 76, 94, 87, 91]
analyze_scores(class_scores)
```

### 9.2 商店收银系统


```python
def calculate_bill(items_prices, discount_rate=0):
    """计算购物账单"""
    print("=== 购物小票 ===")
    
    # 商品统计
    item_count = len(items_prices)
    subtotal = sum(items_prices)
    
    print(f"商品数量：{item_count}件")
    print(f"小计：{subtotal:.2f}元")
    
    # 折扣计算
    if discount_rate > 0:
        discount_amount = subtotal * discount_rate
        final_total = subtotal - discount_amount
        print(f"折扣({int(discount_rate*100)}%)：-{discount_amount:.2f}元")
    else:
        final_total = subtotal
    
    print(f"总计：{final_total:.2f}元")
    
    # 找零计算
    payment = float(input("顾客支付："))
    change = payment - final_total
    
    if change >= 0:
        print(f"找零：{change:.2f}元")
        
        # 找零面额分解
        if change > 0:
            print("\n找零明细：")
            change_cents = int(change * 100)  # 转为分，避免小数精度问题
            
            denominations = [5000, 2000, 1000, 500, 200, 100, 50, 10, 5, 1]
            names = ["50元", "20元", "10元", "5元", "2元", "1元", "5角", "1角", "5分", "1分"]
            
            for i, value in enumerate(denominations):
                count, change_cents = divmod(change_cents, value)
                if count > 0:
                    print(f"{names[i]}：{count}张")
    else:
        print(f"金额不足，还需：{abs(change):.2f}元")

# 使用示例
shopping_cart = [12.5, 8.9, 15.2, 6.8, 3.6]
calculate_bill(shopping_cart, discount_rate=0.1)  # 9折
```

### 9.3 体育比赛统计


```python
def sports_statistics(athletes_data):
    """体育比赛成绩统计"""
    print("=== 比赛成绩统计 ===")
    
    # 提取成绩列表
    scores = [athlete["score"] for athlete in athletes_data]
    
    # 基本统计
    participants = len(athletes_data)
    best_score = max(scores)
    worst_score = min(scores)
    average_score = round(sum(scores) / participants, 2)
    
    print(f"参赛人数：{participants}人")
    print(f"最好成绩：{best_score}")
    print(f"最差成绩：{worst_score}")
    print(f"平均成绩：{average_score}")
    
    # 找出最佳选手
    best_athlete = max(athletes_data, key=lambda x: x["score"])
    print(f"\n冠军：{best_athlete['name']} - {best_athlete['score']}")
    
    # 成绩排名
    sorted_athletes = sorted(athletes_data, key=lambda x: x["score"], reverse=True)
    print(f"\n前三名：")
    for i, athlete in enumerate(sorted_athletes[:3]):
        print(f"第{i+1}名：{athlete['name']} - {athlete['score']}")

# 使用示例  
athletes = [
    {"name": "张三", "score": 98.5},
    {"name": "李四", "score": 95.2}, 
    {"name": "王五", "score": 97.8},
    {"name": "赵六", "score": 94.1},
    {"name": "孙七", "score": 96.3}
]
sports_statistics(athletes)
```

---

## 10. 📋 核心要点总结


### 10.1 函数功能对比表


| 函数 | **主要功能** | **输入类型** | **输出类型** | **常用场景** |
|------|-------------|-------------|-------------|-------------|
| `abs()` | **求绝对值** | `数值` | `数值` | `计算差值、误差分析` |
| `max()` | **找最大值** | `多个值或序列` | `单个值` | `找最高分、最大价格` |
| `min()` | **找最小值** | `多个值或序列` | `单个值` | `找最低分、最小价格` |
| `sum()` | **求和** | `数值序列` | `数值` | `计算总价、总分` |
| `len()` | **计算长度** | `序列对象` | `整数` | `统计数量、验证长度` |
| `round()` | **四舍五入** | `数值, 位数` | `数值` | `金额处理、精度控制` |
| `pow()` | **幂运算** | `底数, 指数` | `数值` | `面积计算、复利计算` |
| `divmod()` | **除法取商余** | `被除数, 除数` | `元组(商,余数)` | `时间换算、分页计算` |

### 10.2 实用记忆技巧


**🔸 函数名称联想**：
```
abs → absolute 绝对的 → 绝对值
max → maximum 最大的 → 最大值  
min → minimum 最小的 → 最小值
sum → summation 求和 → 加法
len → length 长度 → 计数
round → 围绕,圆 → 舍入
pow → power 幂,力量 → 乘方
divmod → divide+modulo 除法+取模 → 商和余数
```

**🔸 使用场景记忆**：
```
💰 金钱相关：round(价格, 2)，sum(购物车)，max/min(价格对比)
📊 统计分析：len(数据)，sum()/len()求平均，max/min找极值  
🧮 数学计算：abs(差值)，pow(面积体积)，divmod(时间换算)
📋 数据处理：所有函数都可用于列表/元组处理
```

### 10.3 常见错误及避免方法


**⚠️ 类型错误**：
```python
# ❌ 错误：对字符串使用sum
# sum(["hello", "world"])  # TypeError

# ✅ 正确：字符串用join连接  
"".join(["hello", "world"])

# ❌ 错误：对空列表求max/min
# max([])  # ValueError

# ✅ 正确：先检查是否为空
numbers = []
if numbers:
    print(max(numbers))
else:
    print("列表为空")
```

**⚠️ 精度问题**：
```python
# 浮点数精度问题
result = 0.1 + 0.2  # 0.30000000000000004
print(round(result, 1))  # 输出：0.3

# 金额计算建议用整数（分为单位）
price_cents = 199  # 1.99元用199分表示
price_yuan = price_cents / 100  # 转换为元
```

### 10.4 学习建议


**🎯 掌握程度要求**：
- **基础级**：能正确使用每个函数的基本功能
- **应用级**：能在实际场景中选择合适的函数
- **熟练级**：能组合使用多个函数解决复杂问题

**📚 继续学习方向**：
- **math模块**：更多数学函数（sin, cos, log等）
- **statistics模块**：统计函数（平均数、中位数、方差等）
- **decimal模块**：精确小数计算
- **numpy库**：大规模数值计算

**核心记忆口诀**：
- abs去符号，max和min找极值
- sum求总和，len数个数
- round来舍入，pow算乘方  
- divmod商余数，一次全搞定

**实践建议**：每个函数都要动手试试，在实际项目中多使用，才能真正掌握！