---
title: 13、输入输出函数
---
## 📚 目录

1. [输入输出函数概述](#1-输入输出函数概述)
2. [print函数详解](#2-print函数详解)
3. [input函数详解](#3-input函数详解)
4. [文件操作基础](#4-文件操作基础)
5. [文件读取操作](#5-文件读取操作)
6. [文件写入操作](#6-文件写入操作)
7. [文件操作最佳实践](#7-文件操作最佳实践)
8. [核心要点总结](#8-核心要点总结)

---

## 1. 🌟 输入输出函数概述


### 1.1 什么是输入输出函数


**📋 通俗理解**
```
想象一下日常生活中的交流：
👤 你说话 → 别人听到 (输出)
👤 别人说话 → 你听到 (输入)

Python程序也是这样：
💻 程序显示信息 → 用户看到 (print输出)
💻 用户输入信息 → 程序接收 (input输入)
💻 程序保存数据 → 写入文件 (文件输出)
💻 程序读取数据 → 从文件读取 (文件输入)
```

**🔸 核心概念**
- **输出**：程序向外界展示信息（屏幕显示、文件保存）
- **输入**：程序从外界获取信息（键盘输入、文件读取）
- **交互**：程序与用户或文件系统的数据交换

### 1.2 输入输出的重要性


**💡 为什么重要**
```
没有输入输出的程序 = 哑巴和聋子
- 无法告诉用户结果 → 程序白跑了
- 无法获取用户需求 → 程序不实用
- 无法保存处理结果 → 数据会丢失
- 无法读取已有数据 → 重复劳动
```

**🎯 实际应用场景**
- **控制台程序**：用户交互、调试信息
- **数据处理**：读取Excel、保存结果
- **日志记录**：程序运行记录
- **配置管理**：读取设置文件

---

## 2. 🖥️ print函数详解


### 2.1 print函数基础用法


**📖 基本概念**
`print()`函数就像程序的"嘴巴"，用来向屏幕"说话"

```python
# 最简单的用法
print("Hello, World!")
# 输出：Hello, World!

# 打印数字
print(42)
# 输出：42

# 打印变量
name = "小明"
print(name)
# 输出：小明
```

### 2.2 print函数高级特性


**🔧 多参数输出**
```python
# 同时打印多个内容
print("姓名:", "小明", "年龄:", 18)
# 输出：姓名: 小明 年龄: 18

# 打印不同类型的数据
score = 95.5
print("学生:", "小明", "分数:", score)
# 输出：学生: 小明 分数: 95.5
```

**⚙️ 自定义分隔符和结尾符**
```python
# 改变分隔符 (sep参数)
print("苹果", "香蕉", "橙子", sep="-")
# 输出：苹果-香蕉-橙子

print("2025", "09", "21", sep="/")
# 输出：2025/09/21

# 改变结尾符 (end参数)
print("正在加载", end="...")
print("完成")
# 输出：正在加载...完成

# 不换行输出
for i in range(5):
    print(i, end=" ")
# 输出：0 1 2 3 4 
```

### 2.3 格式化输出


**📝 字符串格式化方法**

**方法1：f-string（推荐）**
```python
name = "小红"
age = 20
score = 88.5

# 最现代化的方式
print(f"学生{name}，年龄{age}岁，成绩{score}分")
# 输出：学生小红，年龄20岁，成绩88.5分

# 格式控制
price = 3.14159
print(f"价格：{price:.2f}元")  # 保留2位小数
# 输出：价格：3.14元
```

**方法2：format方法**
```python
template = "姓名：{}，年龄：{}，分数：{}"
print(template.format("小明", 18, 95))
# 输出：姓名：小明，年龄：18，分数：95
```

**方法3：%格式化**
```python
print("姓名：%s，年龄：%d，分数：%.1f" % ("小李", 19, 92.8))
# 输出：姓名：小李，年龄：19，分数：92.8
```

### 2.4 输出到文件


**📁 将print输出重定向到文件**
```python
# 写入文件而不是屏幕
with open("output.txt", "w", encoding="utf-8") as f:
    print("这行文字会保存到文件中", file=f)
    print("这是第二行", file=f)
```

---

## 3. ⌨️ input函数详解


### 3.1 input函数基础


**📖 基本概念**
`input()`函数就像程序的"耳朵"，用来"听取"用户输入

```python
# 基本用法
name = input("请输入您的姓名：")
print(f"您好，{name}！")

# 运行过程：
# 1. 程序显示"请输入您的姓名："
# 2. 等待用户键盘输入
# 3. 用户按回车确认
# 4. 程序接收输入内容
```

### 3.2 input函数重要特性


**⚠️ 重要提醒：input总是返回字符串**
```python
# 错误的理解
age = input("请输入年龄：")  # 用户输入：18
print(age + 5)  # ❌ 报错！不能字符串+数字

# 正确的做法
age = input("请输入年龄：")  # 得到字符串"18"
age = int(age)  # 转换为整数18
print(age + 5)  # ✅ 输出：23
```

**🔄 类型转换示例**
```python
# 获取整数
age_str = input("年龄：")
age = int(age_str)

# 获取小数
score_str = input("分数：")
score = float(score_str)

# 一步到位的写法
age = int(input("年龄："))
score = float(input("分数："))
```

### 3.3 输入验证与错误处理


**🛡️ 处理输入错误**
```python
# 基础版本
try:
    age = int(input("请输入年龄："))
    print(f"您的年龄是{age}岁")
except ValueError:
    print("请输入有效的数字！")

# 循环版本 - 直到输入正确
while True:
    try:
        age = int(input("请输入年龄："))
        break  # 输入正确，跳出循环
    except ValueError:
        print("输入无效，请重新输入数字！")

print(f"您的年龄是{age}岁")
```

### 3.4 实用输入技巧


**🎯 常见输入场景**
```python
# 1. 确认输入（y/n）
confirm = input("确定要删除吗？(y/n): ").lower()
if confirm in ['y', 'yes', '是']:
    print("已删除")
else:
    print("已取消")

# 2. 多选输入
print("1. 苹果  2. 香蕉  3. 橙子")
choice = input("请选择（输入数字）：")
fruits = {"1": "苹果", "2": "香蕉", "3": "橙子"}
print(f"您选择了：{fruits.get(choice, '无效选择')}")

# 3. 输入多个值
numbers = input("请输入多个数字（用空格分隔）：").split()
numbers = [int(x) for x in numbers]
print(f"您输入的数字：{numbers}")
```

---

## 4. 📁 文件操作基础


### 4.1 什么是文件操作


**🗂️ 通俗理解**
```
文件操作就像操作现实中的文件夹：
📂 打开文件夹 → open()打开文件
📄 查看内容 → read()读取文件
✍️ 写入内容 → write()写入文件
🔒 关闭文件夹 → close()关闭文件
```

**🔸 文件操作的必要性**
- **数据持久化**：程序关闭后数据不丢失
- **数据共享**：不同程序可以访问同一文件
- **批量处理**：处理大量数据
- **配置管理**：保存程序设置

### 4.2 open函数详解


**📖 基本语法**
```python
file_object = open(filename, mode, encoding)
```

**🔧 参数说明**
```
filename：文件路径
├── "data.txt"          # 当前目录下的文件
├── "folder/data.txt"   # 子目录中的文件
└── "C:/temp/data.txt"  # 绝对路径

mode：打开模式
├── 'r'  # 只读模式（默认）
├── 'w'  # 写入模式（覆盖原内容）
├── 'a'  # 追加模式（在末尾添加）
├── 'r+' # 读写模式
└── 'x'  # 创建模式（文件不存在时创建）

encoding：编码格式
├── 'utf-8'    # 推荐，支持中文
├── 'gbk'      # Windows中文编码
└── 'ascii'    # 英文编码
```

### 4.3 文件对象的概念


**📄 file对象就像一个书签**
```python
# 打开文件获得file对象
f = open("data.txt", "r", encoding="utf-8")

# file对象包含的信息：
print(f.name)     # 文件名
print(f.mode)     # 打开模式  
print(f.closed)   # 是否已关闭

# 使用完后必须关闭
f.close()
```

---

## 5. 📖 文件读取操作


### 5.1 read()方法详解


**📚 基础读取**
```python
# 读取整个文件
f = open("example.txt", "r", encoding="utf-8")
content = f.read()  # 读取所有内容到字符串
print(content)
f.close()
```

**🔢 按字符数读取**
```python
f = open("example.txt", "r", encoding="utf-8")
first_10_chars = f.read(10)  # 只读取前10个字符
remaining = f.read()         # 读取剩余内容
f.close()
```

### 5.2 按行读取方法


**📝 readline() - 读取一行**
```python
f = open("example.txt", "r", encoding="utf-8")
first_line = f.readline()   # 读取第一行
second_line = f.readline()  # 读取第二行
f.close()
```

**📋 readlines() - 读取所有行**
```python
f = open("example.txt", "r", encoding="utf-8")
all_lines = f.readlines()  # 返回列表，每个元素是一行
f.close()

# 处理每一行
for line in all_lines:
    print(line.strip())  # strip()去除换行符
```

**🔄 迭代读取（推荐）**
```python
f = open("example.txt", "r", encoding="utf-8")
for line in f:  # 直接迭代file对象
    print(line.strip())
f.close()
```

### 5.3 文件读取实例


**📊 读取配置文件示例**
```python
# config.txt内容：
# name=小明
# age=18
# city=北京

config = {}
with open("config.txt", "r", encoding="utf-8") as f:
    for line in f:
        line = line.strip()
        if '=' in line:
            key, value = line.split('=', 1)
            config[key] = value

print(config)
# 输出：{'name': '小明', 'age': '18', 'city': '北京'}
```

---

## 6. ✍️ 文件写入操作


### 6.1 write()方法详解


**📝 基础写入**
```python
# 写入模式 - 会覆盖原文件
f = open("output.txt", "w", encoding="utf-8")
f.write("Hello, World!")
f.write("这是第二行内容")  # 注意：不会自动换行
f.close()
```

**📄 写入多行**
```python
f = open("output.txt", "w", encoding="utf-8")
f.write("第一行\n")    # \n是换行符
f.write("第二行\n")
f.write("第三行\n")
f.close()
```

### 6.2 writelines()方法


**📋 写入字符串列表**
```python
lines = ["苹果\n", "香蕉\n", "橙子\n"]
f = open("fruits.txt", "w", encoding="utf-8")
f.writelines(lines)  # 一次性写入多行
f.close()
```

### 6.3 追加模式


**➕ 在文件末尾添加内容**
```python
# 追加模式 - 不覆盖原内容
f = open("log.txt", "a", encoding="utf-8")
f.write("新的日志记录\n")
f.close()
```

### 6.4 文件写入实例


**📊 保存处理结果**
```python
# 计算平方数并保存
numbers = [1, 2, 3, 4, 5]
with open("squares.txt", "w", encoding="utf-8") as f:
    f.write("数字与平方对照表\n")
    f.write("-" * 20 + "\n")
    for num in numbers:
        square = num ** 2
        f.write(f"{num} 的平方是 {square}\n")
```

---

## 7. 🛡️ 文件操作最佳实践


### 7.1 with语句（强烈推荐）


**🔒 自动关闭文件**
```python
# 传统方式 - 容易忘记关闭
f = open("data.txt", "r")
content = f.read()
f.close()  # 容易忘记！

# with方式 - 自动关闭（推荐）
with open("data.txt", "r", encoding="utf-8") as f:
    content = f.read()
# 文件自动关闭，即使出错也会关闭
```

**💡 with语句的优势**
```
✅ 自动关闭文件，防止资源泄漏
✅ 即使程序出错也会正确关闭
✅ 代码更简洁，不用手动close()
✅ 符合Python最佳实践
```

### 7.2 异常处理


**🛡️ 处理文件操作错误**
```python
try:
    with open("may_not_exist.txt", "r", encoding="utf-8") as f:
        content = f.read()
        print(content)
except FileNotFoundError:
    print("文件不存在！")
except PermissionError:
    print("没有权限访问文件！")
except Exception as e:
    print(f"发生错误：{e}")
```

### 7.3 编码问题解决


**🔤 正确处理中文**
```python
# ✅ 正确方式 - 指定编码
with open("chinese.txt", "r", encoding="utf-8") as f:
    content = f.read()

# ❌ 错误方式 - 可能乱码
with open("chinese.txt", "r") as f:  # 没有指定编码
    content = f.read()
```

### 7.4 路径处理


**📁 使用pathlib模块（现代方式）**
```python
from pathlib import Path

# 创建路径对象
file_path = Path("data") / "students.txt"

# 检查文件是否存在
if file_path.exists():
    with open(file_path, "r", encoding="utf-8") as f:
        content = f.read()
else:
    print("文件不存在")
```

### 7.5 综合实例


**📚 学生成绩管理系统**
```python
def save_student_scores(filename, students):
    """保存学生成绩到文件"""
    try:
        with open(filename, "w", encoding="utf-8") as f:
            f.write("学生成绩表\n")
            f.write("=" * 30 + "\n")
            for name, score in students.items():
                f.write(f"{name}: {score}分\n")
        print(f"成绩已保存到 {filename}")
    except Exception as e:
        print(f"保存失败：{e}")

def load_student_scores(filename):
    """从文件加载学生成绩"""
    students = {}
    try:
        with open(filename, "r", encoding="utf-8") as f:
            lines = f.readlines()
            for line in lines[2:]:  # 跳过标题行
                if ':' in line:
                    name, score_str = line.strip().split(': ')
                    score = int(score_str.replace('分', ''))
                    students[name] = score
        return students
    except FileNotFoundError:
        print("文件不存在，返回空字典")
        return {}
    except Exception as e:
        print(f"读取失败：{e}")
        return {}

# 使用示例
students = {"小明": 85, "小红": 92, "小李": 78}
save_student_scores("scores.txt", students)
loaded_students = load_student_scores("scores.txt")
print(loaded_students)
```

---

## 8. 📋 核心要点总结


### 8.1 必须掌握的核心概念


```
🔸 print函数：程序的"嘴巴"，用于输出信息
🔸 input函数：程序的"耳朵"，用于接收用户输入
🔸 open函数：打开文件的钥匙，返回文件对象
🔸 file对象：操作文件的工具，提供读写方法
🔸 read/write：文件内容的读取和写入操作
🔸 close函数：关闭文件，释放系统资源
```

### 8.2 关键理解要点


**🔹 输入输出的本质**
```
输入输出 = 程序与外界的沟通桥梁
- 没有输出 → 程序是哑巴
- 没有输入 → 程序是聋子  
- 没有文件操作 → 数据无法持久保存
```

**🔹 input函数的重要特性**
```
牢记：input()永远返回字符串！
用户输入 "18" → 得到字符串"18"
需要数字 → 必须int("18")转换
```

**🔹 文件操作模式**
```
'r' 读取：只能看，不能改
'w' 写入：清空重写，小心数据丢失  
'a' 追加：在末尾添加，保留原内容
```

**🔹 with语句的重要性**
```
为什么推荐with？
✅ 自动关闭文件
✅ 异常安全
✅ 代码简洁
✅ Python最佳实践
```

### 8.3 实际应用价值


**🎯 常见应用场景**
- **用户交互**：获取用户输入，显示结果
- **数据处理**：读取CSV、保存计算结果
- **日志记录**：记录程序运行状态
- **配置管理**：读取设置文件
- **数据分析**：处理文本文件数据

**💡 最佳实践要点**
```
1. 总是指定文件编码 encoding="utf-8"
2. 优先使用 with 语句操作文件
3. input输入后记得类型转换
4. 使用异常处理防止程序崩溃
5. 文件路径使用 pathlib 模块
```

### 8.4 新手避坑指南


**⚠️ 常见错误**
```
❌ 忘记关闭文件 → 资源泄漏
❌ input不转换类型 → 字符串运算错误
❌ 不指定编码 → 中文乱码
❌ 写入模式覆盖文件 → 数据丢失
❌ 不处理异常 → 程序崩溃
```

**✅ 正确做法**
```
✅ 使用with语句自动关闭
✅ input后立即转换类型
✅ 始终指定utf-8编码
✅ 谨慎使用'w'模式
✅ 添加try-except异常处理
```

**🎓 学习建议**
1. **先掌握基础**：print、input的基本用法
2. **理解概念**：明白输入输出的作用
3. **多练习**：编写小程序练习文件操作
4. **注意细节**：编码、异常处理等
5. **形成习惯**：始终使用最佳实践

**核心记忆口诀**：
- print输出info，input输入要转型
- 文件操作with语句，编码utf-8别忘记
- 读写模式要分清，异常处理保安全