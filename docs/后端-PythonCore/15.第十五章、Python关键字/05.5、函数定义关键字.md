---
title: 5、函数定义关键字
---
## 📚 目录

1. [函数定义基础概念](#1-函数定义基础概念)
2. [def关键字详解](#2-def关键字详解)
3. [return关键字详解](#3-return关键字详解)
4. [yield关键字详解](#4-yield关键字详解)
5. [lambda关键字详解](#5-lambda关键字详解)
6. [函数关键字对比总结](#6-函数关键字对比总结)
7. [核心要点总结](#7-核心要点总结)

---

## 1. 🏗️ 函数定义基础概念


### 1.1 什么是函数


**🔸 生活中的函数概念**
```
想象一下咖啡机：
输入：咖啡豆 + 水 + 按钮
处理：研磨、冲泡、过滤
输出：一杯咖啡

编程中的函数就像咖啡机：
输入：参数（原料）
处理：代码逻辑（机器工作）
输出：返回值（成品）
```

**💡 函数的核心作用**
- **代码复用**：写一次，用多次
- **模块化**：把复杂问题分解成小块
- **便于维护**：修改功能只需改一个地方
- **提高可读性**：给代码取个好名字

### 1.2 Python中的四种函数形式


```
┌─────────────────────────────────────┐
│           Python函数家族             │
├─────────────────────────────────────┤
│ def     ← 标准函数（最常用）          │
│ return  ← 函数返回值                 │
│ yield   ← 生成器函数（特殊返回）      │
│ lambda  ← 匿名函数（简化版）          │
└─────────────────────────────────────┘
```

---

## 2. 🎯 def关键字详解


### 2.1 def的基本含义


**🔸 def = define（定义）**
- `def`是"define"的缩写，意思是"定义"
- 告诉Python："接下来我要创建一个函数"
- 就像给工具箱里添加一个新工具

### 2.2 def的基本语法


```python
def 函数名(参数):
    """函数说明（可选）"""
    函数体代码
    return 返回值（可选）
```

**📝 语法要点解释**
- **冒号**：`:` 表示函数定义开始
- **缩进**：函数体必须缩进（通常4个空格）
- **函数名**：遵循变量命名规则，建议用动词
- **参数**：函数的输入，可以没有

### 2.3 最简单的函数示例


```python
# 最简单的函数 - 不要参数，不返回值
def say_hello():
    print("你好，欢迎学习Python！")

# 调用函数
say_hello()  # 输出：你好，欢迎学习Python！
```

### 2.4 带参数的函数


**🔹 单个参数**
```python
def greet(name):
    print(f"你好，{name}！")

greet("小明")  # 输出：你好，小明！
```

**🔹 多个参数**
```python
def add_numbers(a, b):
    result = a + b
    print(f"{a} + {b} = {result}")

add_numbers(5, 3)  # 输出：5 + 3 = 8
```

**🔹 默认参数**
```python
def introduce(name, age=18):
    print(f"我叫{name}，今年{age}岁")

introduce("小红")        # 输出：我叫小红，今年18岁
introduce("小蓝", 25)    # 输出：我叫小蓝，今年25岁
```

### 2.5 函数文档字符串


> 💡 **什么是文档字符串？**
> 
> 就像给工具贴标签，说明这个工具是干什么用的

```python
def calculate_area(length, width):
    """
    计算矩形面积
    
    参数:
        length: 矩形长度
        width: 矩形宽度
    
    返回:
        矩形面积
    """
    return length * width

# 查看函数说明
print(calculate_area.__doc__)
```

---

## 3. ↩️ return关键字详解


### 3.1 return的基本含义


**🔸 return = 返回**
- 把函数的计算结果"交出来"
- 就像工厂生产完产品后交付给客户
- 函数执行到`return`就结束了

### 3.2 return的两大作用


```
作用①：返回结果          作用②：结束函数
┌─────────────────┐    ┌─────────────────┐
│ def get_sum():  │    │ def check_age(): │
│   result = 1+2  │    │   age = 15      │
│   return result │    │   if age < 18:  │
│   ↑            │    │     return      │
│   把3交出去      │    │     ↑          │
└─────────────────┘    │     直接结束     │
                       │   print("成年") │
                       └─────────────────┘
```

### 3.3 return的使用方式


**🔹 返回单个值**
```python
def get_double(num):
    return num * 2

result = get_double(5)
print(result)  # 输出：10
```

**🔹 返回多个值**
```python
def get_name_age():
    return "张三", 25

name, age = get_name_age()
print(f"姓名：{name}，年龄：{age}")  # 输出：姓名：张三，年龄：25
```

**🔹 条件返回**
```python
def check_score(score):
    if score >= 90:
        return "优秀"
    elif score >= 80:
        return "良好"
    elif score >= 60:
        return "及格"
    else:
        return "不及格"

print(check_score(85))  # 输出：良好
```

**🔹 提前结束函数**
```python
def divide_numbers(a, b):
    if b == 0:
        print("错误：不能除以0")
        return  # 直接结束，不返回任何值
    
    return a / b

result = divide_numbers(10, 0)  # 输出：错误：不能除以0
print(result)  # 输出：None
```

### 3.4 没有return的函数


> ⚠️ **重要提醒**
> 
> 如果函数没有`return`，Python会自动返回`None`

```python
def say_something():
    print("我只是打印，没有return")

result = say_something()
print(result)  # 输出：None
```

---

## 4. 🔄 yield关键字详解


### 4.1 yield的基本含义


**🔸 yield = 产出/让出**
- `yield`创建的是**生成器函数**
- 不是一次性返回所有结果，而是"按需生产"
- 就像流水线，需要一个生产一个

### 4.2 yield vs return的区别


| 特征 | **return** | **yield** |
|------|------------|-----------|
| **返回方式** | `一次性返回所有结果` | `逐个产出结果` |
| **函数状态** | `执行完毕，函数结束` | `暂停等待，保持状态` |
| **内存使用** | `所有数据都在内存` | `用时才生成，省内存` |
| **返回类型** | `具体的值` | `生成器对象` |

### 4.3 yield的简单示例


**🔹 传统函数（用return）**
```python
def get_numbers():
    numbers = []
    for i in range(5):
        numbers.append(i)
    return numbers  # 一次性返回整个列表

result = get_numbers()
print(result)  # 输出：[0, 1, 2, 3, 4]
```

**🔹 生成器函数（用yield）**
```python
def generate_numbers():
    for i in range(5):
        yield i  # 每次产出一个数字

# 创建生成器
gen = generate_numbers()

# 逐个获取数字
print(next(gen))  # 输出：0
print(next(gen))  # 输出：1
print(next(gen))  # 输出：2
```

### 4.4 yield的实际应用


**🔹 读取大文件**
```python
def read_large_file(filename):
    """逐行读取大文件，不会占用太多内存"""
    with open(filename, 'r') as file:
        for line in file:
            yield line.strip()  # 一次只返回一行

# 使用生成器处理大文件
for line in read_large_file('big_file.txt'):
    print(line)  # 一行一行处理，内存占用很小
```

**🔹 无限序列生成器**
```python
def fibonacci():
    """生成斐波那契数列"""
    a, b = 0, 1
    while True:
        yield a
        a, b = b, a + b

# 生成前10个斐波那契数
fib = fibonacci()
for _ in range(10):
    print(next(fib))  # 输出：0, 1, 1, 2, 3, 5, 8, 13, 21, 34
```

### 4.5 用for循环使用生成器


```python
def count_down(start):
    """倒计时生成器"""
    while start > 0:
        yield start
        start -= 1
    yield "发射！"

# 直接用for循环
for count in count_down(3):
    print(count)
# 输出：
# 3
# 2  
# 1
# 发射！
```

---

## 5. 🚀 lambda关键字详解


### 5.1 lambda的基本含义


**🔸 lambda = 匿名函数**
- `lambda`来自数学中的λ（lambda）演算
- 创建"一次性使用"的小函数
- 就像即用即扔的纸杯，简单方便

### 5.2 lambda的语法格式


```python
lambda 参数: 表达式
```

**📝 语法要点**
- **没有def**：不需要`def`关键字
- **没有函数名**：匿名，用完就扔
- **只能一行**：只能写一个表达式
- **自动返回**：表达式的结果就是返回值

### 5.3 lambda vs def对比


**🔹 用def定义**
```python
def add(x, y):
    return x + y

result = add(3, 5)
print(result)  # 输出：8
```

**🔹 用lambda定义**
```python
add = lambda x, y: x + y

result = add(3, 5)
print(result)  # 输出：8
```

### 5.4 lambda的典型应用场景


**🔹 配合map函数使用**
```python
# 把列表中每个数字平方
numbers = [1, 2, 3, 4, 5]

# 传统方式
def square(x):
    return x * x
squared = list(map(square, numbers))

# lambda方式
squared = list(map(lambda x: x * x, numbers))
print(squared)  # 输出：[1, 4, 9, 16, 25]
```

**🔹 配合filter函数使用**
```python
# 筛选出偶数
numbers = [1, 2, 3, 4, 5, 6, 7, 8]

even_numbers = list(filter(lambda x: x % 2 == 0, numbers))
print(even_numbers)  # 输出：[2, 4, 6, 8]
```

**🔹 配合sorted函数使用**
```python
# 按姓名长度排序
names = ["张三", "李四", "王五五", "赵六"]

sorted_names = sorted(names, key=lambda name: len(name))
print(sorted_names)  # 输出：['张三', '李四', '赵六', '王五五']
```

### 5.5 lambda的使用建议


> ✅ **适合用lambda的情况**
> - 简单的一行表达式
> - 临时使用，不需要重复调用
> - 配合map、filter、sorted等函数

> ❌ **不适合用lambda的情况**
> - 复杂的逻辑处理
> - 需要多行代码
> - 需要重复使用的函数

```python
# ✅ 好的lambda使用
numbers = [1, 2, 3, 4, 5]
doubled = list(map(lambda x: x * 2, numbers))

# ❌ 不好的lambda使用（太复杂）
# lambda x: x * 2 if x > 0 else -x * 2 if x < 0 else 0  # 太复杂了

# 复杂逻辑应该用def
def complex_calculation(x):
    if x > 0:
        return x * 2
    elif x < 0:
        return -x * 2
    else:
        return 0
```

---

## 6. ⚖️ 函数关键字对比总结


### 6.1 四个关键字的使用场景


| 关键字 | **主要用途** | **什么时候用** | **典型例子** |
|--------|-------------|----------------|-------------|
| **def** | `定义常规函数` | `需要重复使用的代码块` | `计算器函数、数据处理函数` |
| **return** | `返回函数结果` | `函数需要输出结果` | `计算结果、查询结果` |
| **yield** | `创建生成器` | `处理大量数据、无限序列` | `读取大文件、数据流处理` |
| **lambda** | `创建匿名函数` | `简单的一次性函数` | `排序规则、过滤条件` |

### 6.2 选择指南流程图


```
需要定义函数？
    │
    ├─是─→ 函数逻辑复杂？
    │        │
    │        ├─是─→ 使用 def
    │        │
    │        └─否─→ 一次性使用？
    │               │
    │               ├─是─→ 使用 lambda
    │               └─否─→ 使用 def
    │
    └─否─→ 需要返回值？
           │
           ├─是─→ 一次性返回？
           │        │
           │        ├─是─→ 使用 return
           │        └─否─→ 使用 yield
           │
           └─否─→ 直接执行代码
```

### 6.3 组合使用示例


```python
# def + return：标准函数
def calculate_tax(salary):
    """计算个人所得税"""
    if salary <= 5000:
        return 0
    else:
        return (salary - 5000) * 0.1

# def + yield：生成器函数
def get_employees():
    """逐个产出员工信息"""
    employees = ["张三", "李四", "王五"]
    for emp in employees:
        yield emp

# lambda：匿名函数
employees_salary = [
    {"name": "张三", "salary": 8000},
    {"name": "李四", "salary": 6000},
    {"name": "王五", "salary": 4000}
]

# 按薪水排序
sorted_employees = sorted(employees_salary, 
                         key=lambda emp: emp["salary"])

# 组合使用
for emp in sorted_employees:
    tax = calculate_tax(emp["salary"])
    print(f"{emp['name']}薪水{emp['salary']}，税款{tax}")
```

---

## 7. 📋 核心要点总结


### 7.1 必须掌握的核心概念


```
🔸 def：定义函数的关键字，创建可重复使用的代码块
🔸 return：返回函数结果，同时结束函数执行
🔸 yield：创建生成器，按需产出结果，节省内存
🔸 lambda：创建匿名函数，适合简单的一次性操作
```

### 7.2 关键理解要点


**🔹 函数的本质**
```
函数就像工具箱里的工具：
- def：制作工具的指令
- return：工具的输出结果  
- yield：流水线工具，按需生产
- lambda：临时小工具，用完就扔
```

**🔹 内存效率对比**
```
return方式：
数据量：1万个数字
内存占用：一次性加载1万个 → 占用大

yield方式：
数据量：1万个数字  
内存占用：每次只处理1个 → 占用小
```

**🔹 代码复用性**
```
def > lambda
原因：def定义的函数可以重复调用，lambda更适合一次性使用
```

### 7.3 实际编程建议


**✅ 最佳实践**
- **函数命名**：用动词，说明函数的作用（如get_user、calculate_total）
- **参数设计**：参数数量不要太多（建议不超过5个）
- **单一职责**：一个函数只做一件事
- **适当注释**：复杂函数要写文档字符串

**❌ 常见错误**
```python
# 错误：函数名不清楚
def func1():  # 不知道这个函数是干什么的
    pass

# 正确：函数名清楚
def calculate_student_average_score():
    pass

# 错误：函数做太多事情
def process_data():  # 既读文件又计算又保存
    read_file()
    calculate()
    save_result()

# 正确：职责分离
def read_data():
    pass

def calculate_result():
    pass

def save_result():
    pass
```

### 7.4 学习进阶路线


```
学习路径：
①②③④
│││└─ lambda（匿名函数）
││└── yield（生成器）
│└─── return（函数返回）  
└──── def（函数定义）

建议顺序：
1. 先掌握 def + return（最基础）
2. 理解 lambda（简化代码）
3. 学习 yield（高级特性）
4. 综合运用（实际项目）
```

**💡 记忆口诀**
```
def定义函数要记牢，
return返回把值交，
yield生成按需要，
lambda匿名一次抛。
```

### 7.5 实际应用价值


- **提高效率**：函数让代码可以重复使用
- **便于维护**：修改功能只需改一个地方  
- **团队协作**：函数是代码的标准组件
- **内存优化**：生成器帮助处理大数据
- **代码简洁**：lambda让简单操作更优雅

**核心记忆**：
- def是函数的根基，return是函数的输出
- yield适合大数据处理，lambda适合简单操作
- 选择合适的关键字，让代码更高效更优雅
- 函数设计要简单明了，一个函数一个目的