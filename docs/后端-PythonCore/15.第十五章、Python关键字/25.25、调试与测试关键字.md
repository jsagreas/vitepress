---
title: 25ã€è°ƒè¯•ä¸æµ‹è¯•å…³é”®å­—
---
## ğŸ“š ç›®å½•

1. [è°ƒè¯•å…³é”®å­—æ¦‚è¿°](#1-è°ƒè¯•å…³é”®å­—æ¦‚è¿°)
2. [breakpoint - æ–­ç‚¹è°ƒè¯•ç¥å™¨](#2-breakpoint-æ–­ç‚¹è°ƒè¯•ç¥å™¨)
3. [__debug__ - è°ƒè¯•æ¨¡å¼æ ‡å¿—](#3-__debug__-è°ƒè¯•æ¨¡å¼æ ‡å¿—)
4. [quitä¸exit - ç¨‹åºé€€å‡º](#4-quitä¸exit-ç¨‹åºé€€å‡º)
5. [è°ƒè¯•å·¥å…·ç»¼åˆåº”ç”¨](#5-è°ƒè¯•å·¥å…·ç»¼åˆåº”ç”¨)
6. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#6-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ› è°ƒè¯•å…³é”®å­—æ¦‚è¿°


### 1.1 ä»€ä¹ˆæ˜¯è°ƒè¯•å…³é”®å­—ï¼Ÿ


**ç®€å•ç†è§£**ï¼šè°ƒè¯•å…³é”®å­—å°±åƒæ˜¯ç¨‹åºçš„"ä½“æ£€å·¥å…·"ï¼Œå¸®æˆ‘ä»¬æ‰¾åˆ°ä»£ç å“ªé‡Œå‡ºäº†é—®é¢˜ã€‚

```
ç°å®ç”Ÿæ´»ç±»æ¯”ï¼š
çœ‹ç—…æ—¶åŒ»ç”Ÿç”¨å¬è¯Šå™¨ã€ä½“æ¸©è®¡ â†’ Pythonè°ƒè¯•æ—¶ç”¨breakpointã€__debug__
åŒ»ç”Ÿé€šè¿‡æ£€æŸ¥æ‰¾ç—…å›          â†’ ç¨‹åºå‘˜é€šè¿‡è°ƒè¯•æ‰¾bug
```

**ğŸ¯ è°ƒè¯•çš„æ ¸å¿ƒä½œç”¨**ï¼š
- **å‘ç°é—®é¢˜**ï¼šæ‰¾å‡ºä»£ç è¿è¡Œå¼‚å¸¸çš„åœ°æ–¹
- **åˆ†æåŸå› **ï¼šç†è§£ä¸ºä»€ä¹ˆä¼šå‡ºé”™
- **éªŒè¯ä¿®å¤**ï¼šç¡®è®¤ä¿®æ”¹åçš„ä»£ç æ˜¯å¦æ­£å¸¸
- **ä¼˜åŒ–æ€§èƒ½**ï¼šå‘ç°ä»£ç è¿è¡Œæ•ˆç‡é—®é¢˜

### 1.2 è°ƒè¯•å…³é”®å­—åˆ†ç±»


```
Pythonè°ƒè¯•å·¥å…·ç®±ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ” æ–­ç‚¹è°ƒè¯•ï¼šbreakpoint      â”‚
â”‚ ğŸ“Š çŠ¶æ€æ£€æŸ¥ï¼š__debug__       â”‚
â”‚ ğŸšª ç¨‹åºé€€å‡ºï¼šquit/exit       â”‚
â”‚ ğŸ”§ å…¶ä»–å·¥å…·ï¼šassertç­‰        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. ğŸ” breakpoint - æ–­ç‚¹è°ƒè¯•ç¥å™¨


### 2.1 ä»€ä¹ˆæ˜¯breakpointï¼Ÿ


**é€šä¿—è§£é‡Š**ï¼šbreakpointå°±åƒç»™ç¨‹åºæŒ‰ä¸‹"æš‚åœé”®"ï¼Œè®©ç¨‹åºåœ¨ç‰¹å®šä½ç½®åœä¸‹æ¥ï¼Œæˆ‘ä»¬å¯ä»¥æ£€æŸ¥è¿™æ—¶å€™å˜é‡çš„å€¼å’Œç¨‹åºçŠ¶æ€ã€‚

```
ç”Ÿæ´»ç±»æ¯”ï¼š
ç¨‹åºè¿è¡Œ = å¼€è½¦è¡Œé©¶
breakpoint = åœ¨è·¯è¾¹åœè½¦æ£€æŸ¥
å¯ä»¥æŸ¥çœ‹ï¼šæ²¹é‡ã€è½®èƒã€å¼•æ“çŠ¶æ€ç­‰
ç„¶åå†³å®šï¼šç»§ç»­å¼€è¿˜æ˜¯ä¿®ç†
```

### 2.2 breakpointåŸºæœ¬ç”¨æ³•


**æœ€ç®€å•çš„ä½¿ç”¨**ï¼š
```python
def calculate_average(numbers):
    total = 0
    for num in numbers:
        total += num
        breakpoint()  # åœ¨è¿™é‡Œæš‚åœï¼Œæ£€æŸ¥å˜é‡å€¼
    
    average = total / len(numbers)
    return average

# æµ‹è¯•
numbers = [10, 20, 30]
result = calculate_average(numbers)
print(f"å¹³å‡å€¼ï¼š{result}")
```

**ğŸ’¡ ä½¿ç”¨breakpointæ—¶ä¼šå‘ç”Ÿä»€ä¹ˆ**ï¼š
1. **ç¨‹åºæš‚åœ**ï¼šè¿è¡Œåˆ°è¿™è¡Œæ—¶è‡ªåŠ¨åœæ­¢
2. **è¿›å…¥è°ƒè¯•å™¨**ï¼šå¯åŠ¨Pythonå†…ç½®çš„pdbè°ƒè¯•å™¨
3. **äº¤äº’æ¨¡å¼**ï¼šå¯ä»¥è¾“å…¥å‘½ä»¤æŸ¥çœ‹å˜é‡ã€æ‰§è¡Œä»£ç 
4. **ç»§ç»­æ‰§è¡Œ**ï¼šè¾“å…¥`c`ï¼ˆcontinueï¼‰ç»§ç»­è¿è¡Œ

### 2.3 è°ƒè¯•å™¨å¸¸ç”¨å‘½ä»¤


```
è°ƒè¯•å™¨å‘½ä»¤é€ŸæŸ¥ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ l (list)    - æ˜¾ç¤ºå½“å‰ä»£ç         â”‚
â”‚ p å˜é‡å    - æ‰“å°å˜é‡å€¼          â”‚
â”‚ n (next)    - æ‰§è¡Œä¸‹ä¸€è¡Œ          â”‚
â”‚ s (step)    - è¿›å…¥å‡½æ•°å†…éƒ¨        â”‚
â”‚ c (continue)- ç»§ç»­æ‰§è¡Œ            â”‚
â”‚ q (quit)    - é€€å‡ºè°ƒè¯•å™¨          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å®é™…è°ƒè¯•æ¼”ç¤º**ï¼š
```python
def find_max_number(numbers):
    if not numbers:
        return None
    
    max_num = numbers[0]
    breakpoint()  # ç¬¬ä¸€ä¸ªæ–­ç‚¹
    
    for i, num in enumerate(numbers[1:], 1):
        print(f"æ¯”è¾ƒ {max_num} å’Œ {num}")
        breakpoint()  # å¾ªç¯ä¸­çš„æ–­ç‚¹
        
        if num > max_num:
            max_num = num
    
    return max_num

# æµ‹è¯•ä»£ç 
test_numbers = [3, 7, 2, 9, 1]
max_value = find_max_number(test_numbers)
print(f"æœ€å¤§å€¼æ˜¯ï¼š{max_value}")
```

### 2.4 æ¡ä»¶æ–­ç‚¹æŠ€å·§


**åªåœ¨ç‰¹å®šæ¡ä»¶ä¸‹æš‚åœ**ï¼š
```python
def process_data(data_list):
    for i, item in enumerate(data_list):
        # åªåœ¨å¤„ç†ç‰¹å®šæ•°æ®æ—¶æš‚åœ
        if item < 0:  # å‘ç°è´Ÿæ•°æ—¶æ‰è°ƒè¯•
            breakpoint()
        
        result = item * 2
        print(f"å¤„ç†ç¬¬{i+1}é¡¹ï¼š{item} â†’ {result}")

# æµ‹è¯•
test_data = [1, 3, -2, 5, -1, 8]
process_data(test_data)
```

**ğŸ¯ breakpointçš„æœ€ä½³å®è·µ**ï¼š
- **ä¸´æ—¶ä½¿ç”¨**ï¼šè°ƒè¯•å®Œè®°å¾—åˆ é™¤breakpoint
- **å…³é”®ä½ç½®**ï¼šåœ¨å®¹æ˜“å‡ºé”™çš„åœ°æ–¹è®¾ç½®
- **æ¡ä»¶åˆ¤æ–­**ï¼šé…åˆifè¯­å¥ä½¿ç”¨æ›´é«˜æ•ˆ
- **åˆ†æ­¥è°ƒè¯•**ï¼šå¤æ‚å‡½æ•°å¯ä»¥è®¾ç½®å¤šä¸ªæ–­ç‚¹

---

## 3. ğŸ“Š __debug__ - è°ƒè¯•æ¨¡å¼æ ‡å¿—


### 3.1 ä»€ä¹ˆæ˜¯__debug__ï¼Ÿ


**ç®€å•ç†è§£**ï¼š`__debug__`å°±åƒç¨‹åºçš„"è°ƒè¯•å¼€å…³"ï¼Œå‘Šè¯‰æˆ‘ä»¬å½“å‰æ˜¯å¦å¤„äºè°ƒè¯•æ¨¡å¼ã€‚

```
ç±»æ¯”ç†è§£ï¼š
__debug__ = True  â†’ å¼€å‘æ¨¡å¼ï¼ˆè¯¦ç»†ä¿¡æ¯ï¼‰
__debug__ = False â†’ ç”Ÿäº§æ¨¡å¼ï¼ˆç²¾ç®€é«˜æ•ˆï¼‰

å°±åƒæ‰‹æœºçš„å¼€å‘è€…æ¨¡å¼ï¼š
æ™®é€šç”¨æˆ·ï¼šç®€æ´ç•Œé¢
å¼€å‘è€…ï¼šè¯¦ç»†ä¿¡æ¯ã€è°ƒè¯•é€‰é¡¹
```

### 3.2 __debug__çš„åŸºæœ¬ç‰¹æ€§


**æŸ¥çœ‹è°ƒè¯•çŠ¶æ€**ï¼š
```python
# æ£€æŸ¥å½“å‰æ˜¯å¦ä¸ºè°ƒè¯•æ¨¡å¼
print(f"å½“å‰è°ƒè¯•æ¨¡å¼ï¼š{__debug__}")

if __debug__:
    print("æ­£åœ¨è°ƒè¯•æ¨¡å¼ä¸‹è¿è¡Œ")
else:
    print("æ­£åœ¨ä¼˜åŒ–æ¨¡å¼ä¸‹è¿è¡Œ")
```

**æ ¹æ®è°ƒè¯•çŠ¶æ€æ‰§è¡Œä¸åŒä»£ç **ï¼š
```python
def calculate_factorial(n):
    # è°ƒè¯•æ¨¡å¼ä¸‹è¿›è¡Œè¯¦ç»†æ£€æŸ¥
    if __debug__:
        print(f"å¼€å§‹è®¡ç®— {n} çš„é˜¶ä¹˜")
        if n < 0:
            print("è­¦å‘Šï¼šè´Ÿæ•°æ²¡æœ‰é˜¶ä¹˜")
            return None
    
    result = 1
    for i in range(1, n + 1):
        result *= i
        
        # è°ƒè¯•æ¨¡å¼ä¸‹æ˜¾ç¤ºè®¡ç®—è¿‡ç¨‹
        if __debug__:
            print(f"æ­¥éª¤ {i}: {result}")
    
    return result

# æµ‹è¯•
number = 5
factorial = calculate_factorial(number)
print(f"{number}! = {factorial}")
```

### 3.3 æ§åˆ¶__debug__çš„å€¼


**é€šè¿‡å‘½ä»¤è¡Œæ§åˆ¶**ï¼š
```bash
# æ­£å¸¸è¿è¡Œï¼ˆ__debug__ = Trueï¼‰
python my_script.py

# ä¼˜åŒ–æ¨¡å¼è¿è¡Œï¼ˆ__debug__ = Falseï¼‰
python -O my_script.py
```

**å®é™…åº”ç”¨åœºæ™¯**ï¼š
```python
class DataProcessor:
    def __init__(self):
        # è°ƒè¯•æ¨¡å¼ä¸‹è®°å½•è¯¦ç»†æ—¥å¿—
        if __debug__:
            print("DataProcessor åˆå§‹åŒ– - è°ƒè¯•æ¨¡å¼")
            self.log_enabled = True
        else:
            self.log_enabled = False
    
    def process_item(self, item):
        if self.log_enabled:
            print(f"å¤„ç†æ•°æ®é¡¹ï¼š{item}")
        
        # å®é™…å¤„ç†é€»è¾‘
        processed = item.upper() if isinstance(item, str) else item * 2
        
        if self.log_enabled:
            print(f"å¤„ç†ç»“æœï¼š{processed}")
        
        return processed

# ä½¿ç”¨ç¤ºä¾‹
processor = DataProcessor()
result = processor.process_item("hello")
print(f"æœ€ç»ˆç»“æœï¼š{result}")
```

### 3.4 __debug__ä¸assertçš„é…åˆ


**è°ƒè¯•æ–­è¨€æ¨¡å¼**ï¼š
```python
def divide_numbers(a, b):
    # è°ƒè¯•æ¨¡å¼ä¸‹è¿›è¡Œå‚æ•°æ£€æŸ¥
    if __debug__:
        assert isinstance(a, (int, float)), f"aå¿…é¡»æ˜¯æ•°å­—ï¼Œå½“å‰æ˜¯ï¼š{type(a)}"
        assert isinstance(b, (int, float)), f"bå¿…é¡»æ˜¯æ•°å­—ï¼Œå½“å‰æ˜¯ï¼š{type(b)}"
        assert b != 0, "é™¤æ•°ä¸èƒ½ä¸º0"
        print(f"å‚æ•°æ£€æŸ¥é€šè¿‡ï¼š{a} Ã· {b}")
    
    return a / b

# æµ‹è¯•
try:
    result = divide_numbers(10, 2)
    print(f"è®¡ç®—ç»“æœï¼š{result}")
    
    # è¿™ä¼šåœ¨è°ƒè¯•æ¨¡å¼ä¸‹è§¦å‘æ–­è¨€é”™è¯¯
    # result = divide_numbers(10, 0)
except AssertionError as e:
    print(f"æ–­è¨€é”™è¯¯ï¼š{e}")
```

---

## 4. ğŸšª quitä¸exit - ç¨‹åºé€€å‡º


### 4.1 quitå’Œexitçš„åŸºæœ¬æ¦‚å¿µ


**ç®€å•ç†è§£**ï¼šquitå’Œexitå°±åƒç¨‹åºçš„"å…³é—¨é”®"ï¼Œç”¨æ¥æ­£å¸¸é€€å‡ºPythonç¨‹åºã€‚

```
ç”Ÿæ´»ç±»æ¯”ï¼š
quit/exit = æ­£å¸¸ä¸‹ç­ç¦»å¼€åŠå…¬å®¤
- ä¿å­˜å·¥ä½œè¿›åº¦
- å…³é—­ç”µè„‘
- é”é—¨ç¦»å¼€

è€Œä¸æ˜¯ç›´æ¥"è·‘è·¯"ï¼ˆå¼ºåˆ¶ç»ˆæ­¢ï¼‰
```

### 4.2 quitçš„ä½¿ç”¨æ–¹æ³•


**åŸºæœ¬é€€å‡º**ï¼š
```python
def user_menu():
    while True:
        print("\n=== ç”¨æˆ·èœå• ===")
        print("1. æŸ¥çœ‹ä¿¡æ¯")
        print("2. ä¿®æ”¹è®¾ç½®") 
        print("3. é€€å‡ºç¨‹åº")
        
        choice = input("è¯·é€‰æ‹©æ“ä½œï¼š")
        
        if choice == "1":
            print("æ˜¾ç¤ºç”¨æˆ·ä¿¡æ¯...")
        elif choice == "2":
            print("ä¿®æ”¹è®¾ç½®...")
        elif choice == "3":
            print("æ­£åœ¨é€€å‡ºç¨‹åº...")
            quit()  # æ­£å¸¸é€€å‡º
        else:
            print("æ— æ•ˆé€‰æ‹©ï¼Œè¯·é‡æ–°è¾“å…¥")

# è¿è¡Œèœå•
user_menu()
```

**å¸¦é€€å‡ºç çš„quit**ï¼š
```python
def check_file_exists(filename):
    import os
    
    if os.path.exists(filename):
        print(f"æ–‡ä»¶ {filename} å­˜åœ¨")
        return True
    else:
        print(f"é”™è¯¯ï¼šæ–‡ä»¶ {filename} ä¸å­˜åœ¨")
        print("ç¨‹åºæ— æ³•ç»§ç»­æ‰§è¡Œ")
        quit(1)  # ä»¥é”™è¯¯ç 1é€€å‡º

# æµ‹è¯•
check_file_exists("config.txt")
print("è¿™è¡Œä»£ç åªæœ‰åœ¨æ–‡ä»¶å­˜åœ¨æ—¶æ‰ä¼šæ‰§è¡Œ")
```

### 4.3 exitçš„ä½¿ç”¨æ–¹æ³•


**exitä¸quitåŸºæœ¬ç›¸åŒ**ï¼š
```python
def validate_user_input():
    age = input("è¯·è¾“å…¥æ‚¨çš„å¹´é¾„ï¼š")
    
    try:
        age = int(age)
        if age < 0:
            print("å¹´é¾„ä¸èƒ½ä¸ºè´Ÿæ•°")
            exit()  # é€€å‡ºç¨‹åº
        elif age > 150:
            print("å¹´é¾„è¶…å‡ºåˆç†èŒƒå›´")
            exit()
        else:
            print(f"æ‚¨çš„å¹´é¾„æ˜¯ï¼š{age}")
    except ValueError:
        print("è¯·è¾“å…¥æœ‰æ•ˆçš„æ•°å­—")
        exit()

# è¿è¡ŒéªŒè¯
validate_user_input()
print("éªŒè¯é€šè¿‡ï¼Œç»§ç»­æ‰§è¡Œç¨‹åº...")
```

### 4.4 quit vs exit vs sys.exit()


**ä¸‰ç§é€€å‡ºæ–¹å¼å¯¹æ¯”**ï¼š

| é€€å‡ºæ–¹å¼ | **é€‚ç”¨åœºæ™¯** | **ç‰¹ç‚¹** | **æ¨èåº¦** |
|---------|------------|---------|-----------|
| `quit()` | äº¤äº’å¼ç¯å¢ƒ | ç®€å•ç›´æ¥ | â­â­â­ |
| `exit()` | äº¤äº’å¼ç¯å¢ƒ | ä¸quitç›¸åŒ | â­â­â­ |
| `sys.exit()` | è„šæœ¬ç¨‹åº | æ›´ä¸“ä¸šï¼Œæ”¯æŒæ›´å¤šé€‰é¡¹ | â­â­â­â­â­ |

**sys.exit()çš„ä¸“ä¸šç”¨æ³•**ï¼š
```python
import sys

def process_config_file(config_path):
    try:
        with open(config_path, 'r') as f:
            config = f.read()
        print("é…ç½®æ–‡ä»¶è¯»å–æˆåŠŸ")
        return config
    except FileNotFoundError:
        print(f"é”™è¯¯ï¼šæ‰¾ä¸åˆ°é…ç½®æ–‡ä»¶ {config_path}")
        sys.exit(1)  # æ–‡ä»¶ä¸å­˜åœ¨é”™è¯¯
    except PermissionError:
        print(f"é”™è¯¯ï¼šæ²¡æœ‰æƒé™è¯»å– {config_path}")
        sys.exit(2)  # æƒé™é”™è¯¯
    except Exception as e:
        print(f"æœªçŸ¥é”™è¯¯ï¼š{e}")
        sys.exit(3)  # å…¶ä»–é”™è¯¯

# ä½¿ç”¨ç¤ºä¾‹
config = process_config_file("app_config.txt")
print("ç¨‹åºç»§ç»­è¿è¡Œ...")
```

---

## 5. ğŸ”§ è°ƒè¯•å·¥å…·ç»¼åˆåº”ç”¨


### 5.1 åˆ›å»ºè°ƒè¯•è¾…åŠ©å‡½æ•°


**ä¸‡èƒ½è°ƒè¯•å·¥å…·**ï¼š
```python
def debug_info(var_name, var_value, line_num=None):
    """è°ƒè¯•ä¿¡æ¯æ‰“å°å‡½æ•°"""
    if __debug__:
        line_info = f" (ç¬¬{line_num}è¡Œ)" if line_num else ""
        print(f"ğŸ› è°ƒè¯•{line_info}ï¼š{var_name} = {var_value} ({type(var_value).__name__})")

def debug_function_call(func_name, *args, **kwargs):
    """å‡½æ•°è°ƒç”¨è°ƒè¯•"""
    if __debug__:
        args_str = ", ".join(str(arg) for arg in args)
        kwargs_str = ", ".join(f"{k}={v}" for k, v in kwargs.items())
        all_args = ", ".join(filter(None, [args_str, kwargs_str]))
        print(f"ğŸ“ è°ƒç”¨å‡½æ•°ï¼š{func_name}({all_args})")

# ä½¿ç”¨ç¤ºä¾‹
def calculate_score(math, english, chinese):
    debug_function_call("calculate_score", math, english, chinese)
    
    total = math + english + chinese
    debug_info("total", total, 45)
    
    average = total / 3
    debug_info("average", average, 48)
    
    return average

# æµ‹è¯•
score = calculate_score(85, 92, 78)
print(f"å¹³å‡åˆ†ï¼š{score:.1f}")
```

### 5.2 å®ç”¨è°ƒè¯•è£…é¥°å™¨


**è‡ªåŠ¨è°ƒè¯•è£…é¥°å™¨**ï¼š
```python
def debug_decorator(func):
    """ä¸ºå‡½æ•°æ·»åŠ è°ƒè¯•åŠŸèƒ½çš„è£…é¥°å™¨"""
    def wrapper(*args, **kwargs):
        if __debug__:
            print(f"ğŸš€ å¼€å§‹æ‰§è¡Œï¼š{func.__name__}")
            print(f"ğŸ“¥ å‚æ•°ï¼šargs={args}, kwargs={kwargs}")
        
        try:
            result = func(*args, **kwargs)
            if __debug__:
                print(f"âœ… æ‰§è¡ŒæˆåŠŸï¼š{func.__name__}")
                print(f"ğŸ“¤ è¿”å›å€¼ï¼š{result}")
            return result
        except Exception as e:
            if __debug__:
                print(f"âŒ æ‰§è¡Œå¤±è´¥ï¼š{func.__name__}")
                print(f"ğŸš¨ é”™è¯¯ä¿¡æ¯ï¼š{e}")
                breakpoint()  # å‡ºé”™æ—¶è‡ªåŠ¨è¿›å…¥è°ƒè¯•
            raise
    
    return wrapper

# ä½¿ç”¨è£…é¥°å™¨
@debug_decorator
def divide_and_multiply(a, b, c):
    result = (a / b) * c
    return result

# æµ‹è¯•
try:
    value = divide_and_multiply(10, 2, 3)
    print(f"è®¡ç®—ç»“æœï¼š{value}")
    
    # è¿™ä¼šè§¦å‘é”™è¯¯å’Œè°ƒè¯•
    # value = divide_and_multiply(10, 0, 3)
except ZeroDivisionError:
    print("é™¤é›¶é”™è¯¯å·²å¤„ç†")
```

### 5.3 è°ƒè¯•æ¨¡å¼é…ç½®ç±»


**ä¸“ä¸šè°ƒè¯•é…ç½®**ï¼š
```python
class DebugConfig:
    """è°ƒè¯•é…ç½®ç®¡ç†ç±»"""
    
    def __init__(self):
        self.debug_enabled = __debug__
        self.log_function_calls = True
        self.log_variable_changes = True
        self.auto_breakpoint_on_error = True
    
    def log(self, message, level="INFO"):
        """ç»Ÿä¸€æ—¥å¿—è¾“å‡º"""
        if self.debug_enabled:
            print(f"[{level}] {message}")
    
    def trace_variable(self, name, old_value, new_value):
        """å˜é‡å˜åŒ–è·Ÿè¸ª"""
        if self.debug_enabled and self.log_variable_changes:
            print(f"ğŸ”„ å˜é‡å˜åŒ–ï¼š{name} ä» {old_value} å˜ä¸º {new_value}")
    
    def function_entry(self, func_name, args):
        """å‡½æ•°å…¥å£è·Ÿè¸ª"""
        if self.debug_enabled and self.log_function_calls:
            print(f"â¡ï¸  è¿›å…¥å‡½æ•°ï¼š{func_name}{args}")
    
    def function_exit(self, func_name, result):
        """å‡½æ•°å‡ºå£è·Ÿè¸ª"""
        if self.debug_enabled and self.log_function_calls:
            print(f"â¬…ï¸  é€€å‡ºå‡½æ•°ï¼š{func_name}ï¼Œè¿”å›ï¼š{result}")

# å…¨å±€è°ƒè¯•é…ç½®
debug = DebugConfig()

def smart_calculator(operation, a, b):
    debug.function_entry("smart_calculator", (operation, a, b))
    
    if operation == "add":
        result = a + b
        debug.log(f"æ‰§è¡ŒåŠ æ³•ï¼š{a} + {b} = {result}")
    elif operation == "divide":
        if b == 0:
            debug.log("å‘ç°é™¤é›¶é”™è¯¯", "ERROR")
            if debug.auto_breakpoint_on_error:
                breakpoint()
            return None
        result = a / b
        debug.log(f"æ‰§è¡Œé™¤æ³•ï¼š{a} / {b} = {result}")
    else:
        debug.log(f"ä¸æ”¯æŒçš„æ“ä½œï¼š{operation}", "WARNING")
        return None
    
    debug.function_exit("smart_calculator", result)
    return result

# æµ‹è¯•
result1 = smart_calculator("add", 10, 5)
result2 = smart_calculator("divide", 15, 3)
print(f"è®¡ç®—ç»“æœï¼š{result1}, {result2}")
```

---

## 6. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 6.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ breakpointï¼šç¨‹åºæš‚åœç¥å™¨ï¼Œç”¨äºé€æ­¥è°ƒè¯•
ğŸ”¸ __debug__ï¼šè°ƒè¯•æ¨¡å¼æ ‡å¿—ï¼Œæ§åˆ¶è°ƒè¯•ä»£ç æ‰§è¡Œ
ğŸ”¸ quit/exitï¼šç¨‹åºæ­£å¸¸é€€å‡ºï¼Œå¯å¸¦é€€å‡ºç 
ğŸ”¸ sys.exitï¼šæ›´ä¸“ä¸šçš„é€€å‡ºæ–¹å¼ï¼Œè„šæœ¬ç¨‹åºé¦–é€‰
```

### 6.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ è°ƒè¯•çš„æœ¬è´¨æ€ç»´**
```
è°ƒè¯•ä¸æ˜¯æ‰¾èŒ¬ï¼Œè€Œæ˜¯ç†è§£ï¼š
1. ç¨‹åºåœ¨åšä»€ä¹ˆï¼Ÿ
2. ä¸ºä»€ä¹ˆä¼šè¿™æ ·åšï¼Ÿ
3. å“ªé‡Œå’Œé¢„æœŸä¸ç¬¦ï¼Ÿ
4. å¦‚ä½•ä¿®æ­£é—®é¢˜ï¼Ÿ
```

**ğŸ”¹ å·¥å…·é€‰æ‹©åŸåˆ™**
```
é€‰æ‹©è°ƒè¯•å·¥å…·çš„è€ƒè™‘ï¼š
breakpoint â†’ éœ€è¦è¯¦ç»†è·Ÿè¸ªç¨‹åºæ‰§è¡Œ
__debug__ â†’ éœ€è¦æ§åˆ¶è°ƒè¯•ä¿¡æ¯è¾“å‡º
quit/exit â†’ ç®€å•è„šæœ¬çš„é€€å‡ºå¤„ç†
sys.exit â†’ ä¸“ä¸šç¨‹åºçš„é”™è¯¯å¤„ç†
```

**ğŸ”¹ è°ƒè¯•æ•ˆç‡æå‡**
```
é«˜æ•ˆè°ƒè¯•çš„ç§˜è¯€ï¼š
1. åœ¨å…³é”®ä½ç½®è®¾ç½®æ–­ç‚¹ï¼Œä¸è¦åˆ°å¤„éƒ½æ”¾
2. åˆ©ç”¨æ¡ä»¶æ–­ç‚¹ï¼Œåªåœ¨éœ€è¦æ—¶æš‚åœ
3. ç»“åˆ__debug__æ§åˆ¶è°ƒè¯•ä¿¡æ¯çš„è¯¦ç»†ç¨‹åº¦
4. ä½¿ç”¨è£…é¥°å™¨è‡ªåŠ¨åŒ–è°ƒè¯•è¿‡ç¨‹
```

### 6.3 å®é™…åº”ç”¨åœºæ™¯


**ğŸ¯ å…¸å‹åº”ç”¨åœºæ™¯**
- **åŠŸèƒ½å¼€å‘**ï¼šä½¿ç”¨breakpointé€æ­¥éªŒè¯é€»è¾‘
- **é”™è¯¯æ’æŸ¥**ï¼šåœ¨å¼‚å¸¸ä½ç½®è®¾ç½®æ–­ç‚¹åˆ†æåŸå› 
- **æ€§èƒ½ä¼˜åŒ–**ï¼šç”¨è°ƒè¯•ä¿¡æ¯è·Ÿè¸ªç¨‹åºç“¶é¢ˆ
- **æµ‹è¯•éªŒè¯**ï¼šé€šè¿‡__debug__æ§åˆ¶æµ‹è¯•ä¿¡æ¯è¾“å‡º

**ğŸ’¡ æ–°æ‰‹å­¦ä¹ å»ºè®®**
```
å­¦ä¹ è·¯å¾„ï¼š
ç¬¬ä¸€æ­¥ï¼šå­¦ä¼šç”¨breakpointæš‚åœç¨‹åºæ£€æŸ¥å˜é‡
ç¬¬äºŒæ­¥ï¼šç†è§£__debug__æ§åˆ¶è°ƒè¯•ä¿¡æ¯çš„è¾“å‡º
ç¬¬ä¸‰æ­¥ï¼šæŒæ¡æ­£ç¡®çš„ç¨‹åºé€€å‡ºæ–¹å¼
ç¬¬å››æ­¥ï¼šç»“åˆå…¶ä»–å·¥å…·åˆ›å»ºè°ƒè¯•å·¥å…·ç®±
```

**âš ï¸ å¸¸è§æ³¨æ„äº‹é¡¹**
- è°ƒè¯•å®Œæˆåè®°å¾—åˆ é™¤breakpointè¯­å¥
- ç”Ÿäº§ç¯å¢ƒå»ºè®®ä½¿ç”¨ä¼˜åŒ–æ¨¡å¼ï¼ˆ-Oï¼‰å…³é—­è°ƒè¯•
- quit/exitä¸»è¦ç”¨äºäº¤äº’å¼ç¯å¢ƒ
- å¤æ‚ç¨‹åºæ¨èä½¿ç”¨sys.exitå¤„ç†é€€å‡º

**ğŸ”‘ è®°å¿†å£è¯€**
```
æ–­ç‚¹æš‚åœæŸ¥å˜é‡ï¼Œè°ƒè¯•æ ‡å¿—æ§è¾“å‡º
ç¨‹åºé€€å‡ºè¦æ­£å¸¸ï¼Œé”™è¯¯ç å¸®åŠ©å®šä½
å¼€å‘è°ƒè¯•è¦ç»†å¿ƒï¼Œç”Ÿäº§ç¯å¢ƒè¦å…³é—­
```

**æ ¸å¿ƒä»·å€¼**ï¼šæŒæ¡è¿™äº›è°ƒè¯•å…³é”®å­—ï¼Œå°±åƒç»™ç¨‹åºè£…ä¸Šäº†"é€è§†çœ¼"ï¼Œèƒ½å¤Ÿæ¸…æ¥šçœ‹åˆ°ç¨‹åºå†…éƒ¨çš„è¿è¡ŒçŠ¶æ€ï¼Œå¤§å¤§æé«˜ç¼–ç¨‹æ•ˆç‡å’Œä»£ç è´¨é‡ã€‚