---
title: 1、项目搭建与配置
---
## 📚 目录

1. [Vue CLI项目搭建](#1-vue-cli项目搭建)
2. [Vite项目搭建](#2-vite项目搭建)
3. [项目目录结构详解](#3-项目目录结构详解)
4. [环境变量配置](#4-环境变量配置)
5. [开发服务器配置](#5-开发服务器配置)
6. [跨域问题解决](#6-跨域问题解决)
7. [项目配置文件详解](#7-项目配置文件详解)
8. [核心要点总结](#8-核心要点总结)

---

## 1. 🛠️ Vue CLI项目搭建


### 1.1 什么是Vue CLI脚手架


**Vue CLI脚手架**就像是盖房子的**标准图纸**，它帮我们快速搭建Vue项目的基础架构。

```
Vue CLI的作用：
👷 就像建筑工人 → 帮你搭建房子框架
📋 标准图纸     → 提供项目模板
🔧 工具箱       → 集成各种开发工具
📦 打包配送     → 处理项目构建和打包
```

**为什么需要脚手架？**
- ✅ **省时间**：不用从零开始配置
- ✅ **标准化**：遵循最佳实践
- ✅ **功能齐全**：集成了常用开发工具
- ✅ **易维护**：统一的项目结构

### 1.2 Vue CLI安装与使用


**步骤1️⃣：安装Vue CLI**
```bash
# 全局安装Vue CLI（一次性安装，永久使用）
npm install -g @vue/cli
# 或者使用yarn
yarn global add @vue/cli
```

**步骤2️⃣：创建项目**
```bash
# 创建新项目
vue create my-vue-project

# 进入项目目录
cd my-vue-project

# 启动开发服务器
npm run serve
```

**步骤3️⃣：选择配置**
```
Vue CLI创建项目时的选择：

? Please pick a preset: (选择预设)
❯ Default ([Vue 3] babel, eslint)     ← 默认Vue3配置
  Default ([Vue 2] babel, eslint)     ← 默认Vue2配置  
  Manually select features            ← 手动选择功能

手动选择功能包括：
☑️ Babel            ← JavaScript编译
☑️ TypeScript       ← 类型检查
☑️ Router           ← 路由
☑️ Vuex             ← 状态管理
☑️ CSS Pre-processors ← CSS预处理器
☑️ Linter / Formatter ← 代码检查
☑️ Unit Testing     ← 单元测试
```

### 1.3 Vue CLI项目结构


创建完成后，你会得到这样的项目结构：

```
my-vue-project/
├── public/              ← 静态资源文件夹
│   ├── index.html      ← 主HTML页面
│   └── favicon.ico     ← 网站图标
├── src/                ← 源代码文件夹
│   ├── components/     ← 组件文件夹
│   ├── views/          ← 页面文件夹
│   ├── router/         ← 路由配置
│   ├── store/          ← 状态管理
│   ├── assets/         ← 资源文件
│   ├── App.vue         ← 根组件
│   └── main.js         ← 入口文件
├── package.json        ← 项目配置文件
└── vue.config.js       ← Vue CLI配置文件
```

---

## 2. ⚡ Vite项目搭建


### 2.1 什么是Vite构建工具


**Vite**是新一代的前端构建工具，可以理解为**超级跑车**版本的项目构建器。

```
Vite vs Vue CLI的区别：

Vue CLI (传统方式)：
🚗 像普通汽车 → 启动需要预热，但功能完整
⏰ 启动较慢   → 需要预先编译所有文件
🔄 热更新慢   → 修改代码后更新需要等待

Vite (现代方式)：
🏎️ 像跑车     → 瞬间启动，速度极快
⚡ 启动超快   → 按需编译，只编译用到的文件
🔥 热更新快   → 修改代码立即看到效果
```

### 2.2 Vite项目创建


**方式1️⃣：使用npm创建**
```bash
# 创建Vite + Vue项目
npm create vue@latest my-vite-project

# 进入项目
cd my-vite-project

# 安装依赖
npm install

# 启动开发服务器
npm run dev
```

**方式2️⃣：使用Vite命令创建**
```bash
# 使用Vite创建项目
npm create vite@latest my-vite-project -- --template vue

# 安装和启动
cd my-vite-project
npm install
npm run dev
```

### 2.3 Vite项目特点


**🚀 启动速度对比**：
```
项目启动时间对比：
Vue CLI：    15-30秒  ████████████████
Vite：       1-3秒    ██

文件修改后更新时间：
Vue CLI：    2-5秒    ████████
Vite：       0.1秒    █
```

**💡 Vite的优势**：
- ✅ **极速启动**：几秒钟就能看到页面
- ✅ **实时更新**：修改代码立即生效
- ✅ **现代化**：支持最新的前端技术
- ✅ **简单配置**：配置更加简洁

---

## 3. 📁 项目目录结构详解


### 3.1 标准项目目录结构


无论使用Vue CLI还是Vite，推荐的目录结构都是相似的：

```
src/
├── assets/          ← 静态资源文件夹
│   ├── images/      ← 图片文件
│   ├── styles/      ← 样式文件
│   └── fonts/       ← 字体文件
├── components/      ← 可复用组件
│   ├── common/      ← 通用组件
│   └── business/    ← 业务组件
├── views/           ← 页面组件
│   ├── Home.vue
│   └── About.vue
├── router/          ← 路由配置
│   └── index.js
├── store/           ← 状态管理
│   └── index.js
├── api/             ← API接口管理
│   └── index.js
├── utils/           ← 工具函数
│   └── index.js
├── App.vue          ← 根组件
└── main.js          ← 入口文件
```

### 3.2 每个文件夹的作用


<details>
<summary>📁 点击查看详细说明</summary>

**assets/ - 静态资源**
```javascript
// 存放图片、样式、字体等静态文件
// 这些文件会被构建工具处理

// 使用方式：
import logo from '@/assets/images/logo.png'
```

**components/ - 可复用组件**
```javascript
// 存放可以在多个地方使用的组件
// 比如按钮、表单、对话框等

// 例如：Button.vue, Modal.vue, Form.vue
```

**views/ - 页面组件**
```javascript
// 存放页面级别的组件
// 通常对应路由的页面

// 例如：Home.vue, About.vue, UserProfile.vue
```

**api/ - API接口管理**
```javascript
// 统一管理后端接口调用
// 便于维护和修改

export const getUserInfo = () => {
  return request.get('/api/user/info')
}
```

</details>

### 3.3 目录结构最佳实践


**🔸 按功能模块划分**
```
src/
├── modules/
│   ├── user/           ← 用户模块
│   │   ├── components/
│   │   ├── views/
│   │   └── api/
│   └── product/        ← 产品模块
│       ├── components/
│       ├── views/
│       └── api/
```

**🔸 文件命名规范**
```
组件文件：PascalCase (大驼峰)
UserProfile.vue ✅
userProfile.vue ❌

页面文件：PascalCase
Home.vue ✅
home.vue ❌

工具文件：camelCase (小驼峰)
userUtils.js ✅
UserUtils.js ❌
```

---

## 4. 🌍 环境变量配置


### 4.1 什么是环境变量


**环境变量**就像是给不同环境贴的**标签**，告诉项目当前运行在什么环境下。

```
为什么需要环境变量？

开发环境：
🔧 API地址：http://localhost:3000
🐛 调试模式：开启
📊 日志级别：详细

生产环境：
🌐 API地址：https://api.mysite.com
✅ 调试模式：关闭
📝 日志级别：错误
```

### 4.2 创建.env环境文件


在项目根目录创建环境配置文件：

**.env.development** (开发环境)
```bash
# 开发环境配置
NODE_ENV=development
VUE_APP_API_BASE_URL=http://localhost:3000/api
VUE_APP_TITLE=我的Vue应用(开发版)
```

**.env.production** (生产环境)
```bash
# 生产环境配置  
NODE_ENV=production
VUE_APP_API_BASE_URL=https://api.mysite.com/api
VUE_APP_TITLE=我的Vue应用
```

**.env.local** (本地环境)
```bash
# 本地专用配置（不会被git提交）
VUE_APP_SECRET_KEY=your-secret-key
```

### 4.3 使用环境变量


**在Vue组件中使用**：
```javascript
// 在任何Vue组件中都可以使用
export default {
  mounted() {
    console.log('API地址:', process.env.VUE_APP_API_BASE_URL)
    console.log('应用标题:', process.env.VUE_APP_TITLE)
  }
}
```

**在JavaScript文件中使用**：
```javascript
// api/index.js
const API_BASE_URL = process.env.VUE_APP_API_BASE_URL

export const request = axios.create({
  baseURL: API_BASE_URL
})
```

> 💡 **重要提示**
> 
> 环境变量必须以 `VUE_APP_` 开头才能在前端代码中使用！

---

## 5. ⚙️ 开发服务器配置


### 5.1 开发服务器的作用


**开发服务器**就像是你开发时的**专属助手**：

```
开发服务器提供的服务：
🌐 本地Web服务   → 让你在浏览器访问项目
🔥 热重载        → 修改代码自动刷新页面
📁 静态文件服务  → 处理图片、CSS等静态资源
🔄 API代理       → 解决跨域问题
🐛 错误提示      → 显示编译错误信息
```

### 5.2 基本开发服务器配置


**package.json中的启动命令**：
```json
{
  "scripts": {
    "serve": "vue-cli-service serve",     // Vue CLI启动命令
    "dev": "vite",                       // Vite启动命令
    "build": "vue-cli-service build"     // 构建命令
  }
}
```

**自定义启动端口**：
```bash
# 指定端口启动
npm run serve -- --port 8080

# 指定主机和端口
npm run serve -- --host 0.0.0.0 --port 8080
```

### 5.3 高级服务器配置


**Vue CLI配置 (vue.config.js)**：
```javascript
module.exports = {
  // 开发服务器配置
  devServer: {
    port: 8080,           // 端口号
    host: '0.0.0.0',      // 主机地址
    open: true,           // 自动打开浏览器
    hot: true,            // 热重载
    compress: true        // 开启gzip压缩
  }
}
```

**Vite配置 (vite.config.js)**：
```javascript
export default {
  server: {
    port: 3000,           // 端口号
    host: '0.0.0.0',      // 主机地址
    open: true,           // 自动打开浏览器
    cors: true            // 开启CORS
  }
}
```

---

## 6. 🌉 跨域问题解决


### 6.1 什么是跨域问题


**跨域**就像是**国境管制**，浏览器不允许网页随意访问其他域名的接口。

```
跨域产生的场景：

前端地址：http://localhost:8080
后端地址：http://localhost:3000

❌ 直接请求会被浏览器阻止
✅ 需要通过代理服务器转发请求

流程图：
前端 → 代理服务器 → 后端API
     (同域)        (服务器间通信)
```

### 6.2 代理配置解决跨域


**Vue CLI代理配置**：
```javascript
// vue.config.js
module.exports = {
  devServer: {
    proxy: {
      // 配置API代理
      '/api': {
        target: 'http://localhost:3000',  // 后端服务器地址
        changeOrigin: true,               // 改变请求头中的host
        pathRewrite: {
          '^/api': ''                     // 重写路径，去掉/api前缀
        }
      }
    }
  }
}
```

**Vite代理配置**：
```javascript
// vite.config.js
export default {
  server: {
    proxy: {
      '/api': {
        target: 'http://localhost:3000',
        changeOrigin: true,
        rewrite: path => path.replace(/^\/api/, '')
      }
    }
  }
}
```

### 6.3 代理使用示例


**前端请求代码**：
```javascript
// 使用代理后，直接请求/api路径即可
export const getUserList = () => {
  return axios.get('/api/users')  // 会被代理到 http://localhost:3000/users
}

export const createUser = (data) => {
  return axios.post('/api/users', data)  // 会被代理到 http://localhost:3000/users
}
```

**多个API代理配置**：
```javascript
// vue.config.js
module.exports = {
  devServer: {
    proxy: {
      '/api': {
        target: 'http://localhost:3000'
      },
      '/upload': {
        target: 'http://localhost:4000'  // 文件上传服务
      },
      '/ws': {
        target: 'ws://localhost:5000',   // WebSocket服务
        ws: true
      }
    }
  }
}
```

---

## 7. 📝 项目配置文件详解


### 7.1 vue.config.js配置详解


**vue.config.js**是Vue CLI项目的核心配置文件：

```javascript
module.exports = {
  // 基础配置
  publicPath: '/',                    // 部署时的基础路径
  outputDir: 'dist',                  // 构建输出目录
  assetsDir: 'static',               // 静态资源目录
  
  // 开发服务器配置
  devServer: {
    port: 8080,
    open: true,
    proxy: {
      '/api': {
        target: 'http://localhost:3000'
      }
    }
  },
  
  // CSS配置
  css: {
    loaderOptions: {
      sass: {
        additionalData: `@import "@/assets/styles/variables.scss";`
      }
    }
  },
  
  // 链式webpack配置
  chainWebpack: config => {
    // 配置别名
    config.resolve.alias
      .set('@', resolve('src'))
      .set('components', resolve('src/components'))
  }
}
```

### 7.2 vite.config.js配置详解


**vite.config.js**是Vite项目的配置文件：

```javascript
import { defineConfig } from 'vite'
import vue from '@vitejs/plugin-vue'
import { resolve } from 'path'

export default defineConfig({
  // 插件配置
  plugins: [vue()],
  
  // 开发服务器配置
  server: {
    port: 3000,
    open: true,
    proxy: {
      '/api': 'http://localhost:8080'
    }
  },
  
  // 构建配置
  build: {
    outDir: 'dist',
    assetsDir: 'assets'
  },
  
  // 路径别名配置
  resolve: {
    alias: {
      '@': resolve(__dirname, 'src'),
      'components': resolve(__dirname, 'src/components')
    }
  },
  
  // CSS配置
  css: {
    preprocessorOptions: {
      scss: {
        additionalData: `@import "@/assets/styles/variables.scss";`
      }
    }
  }
})
```

### 7.3 配置文件使用技巧


**🔸 路径别名配置**
```javascript
// 配置后可以这样导入
import UserCard from '@/components/UserCard.vue'
import { getUserInfo } from 'api/user'

// 而不用写相对路径
import UserCard from '../../../components/UserCard.vue'
```

**🔸 环境相关配置**
```javascript
// vue.config.js
const isDev = process.env.NODE_ENV === 'development'

module.exports = {
  publicPath: isDev ? '/' : '/my-app/',
  devServer: {
    port: isDev ? 8080 : 3000
  }
}
```

---

## 8. 📋 核心要点总结


### 8.1 必须掌握的核心概念


```
🔸 脚手架工具：Vue CLI和Vite都是快速搭建项目的工具
🔸 项目结构：遵循标准目录结构，便于团队协作和维护
🔸 环境变量：区分开发、测试、生产环境的不同配置
🔸 开发服务器：提供本地开发时的Web服务和热重载
🔸 代理配置：解决开发时的跨域问题
🔸 配置文件：vue.config.js和vite.config.js用于自定义项目配置
```

### 8.2 关键理解要点


**🔹 Vue CLI vs Vite选择**
```
选择Vue CLI：
✅ 需要稳定成熟的构建方案
✅ 团队已有Vue CLI经验
✅ 项目规模较大，需要完整的生态

选择Vite：
✅ 追求极致的开发体验
✅ 项目启动速度要求高
✅ 使用Vue 3和现代化技术栈
```

**🔹 目录结构设计原则**
```
分层清晰：业务代码和配置代码分离
功能聚合：相关文件放在同一目录
命名规范：遵循团队约定的命名规则
可扩展性：为项目增长预留空间
```

**🔹 跨域问题理解**
```
本质：浏览器的安全限制机制
表现：无法直接请求不同域名的接口
解决：通过代理服务器转发请求
原理：前端请求代理，代理请求后端
```

### 8.3 实际应用建议


**🎯 新项目启动流程**
```
步骤1️⃣：选择构建工具（Vue CLI或Vite）
步骤2️⃣：创建项目并选择需要的功能
步骤3️⃣：配置环境变量和开发服务器
步骤4️⃣：设置代理解决跨域问题
步骤5️⃣：完善项目目录结构
步骤6️⃣：配置路径别名和CSS预处理器
```

**💡 配置优化建议**
- **合理使用环境变量**：敏感信息不要提交到代码仓库
- **配置路径别名**：简化组件导入路径
- **启用热重载**：提高开发效率
- **配置代理服务**：解决接口调用问题
- **遵循命名规范**：保持代码风格一致

**核心记忆**：
- 脚手架是项目搭建的快速通道
- 环境变量让项目适应不同运行环境  
- 代理配置是解决跨域的标准方案
- 合理的目录结构是项目维护的基础