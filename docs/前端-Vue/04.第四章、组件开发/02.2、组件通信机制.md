---
title: 2ã€ç»„ä»¶é€šä¿¡æœºåˆ¶
---
## ğŸ“š ç›®å½•

1. [ç»„ä»¶é€šä¿¡æ¦‚è¿°](#1-ç»„ä»¶é€šä¿¡æ¦‚è¿°)
2. [propsçˆ¶å‘å­ä¼ æ•°æ®](#2-propsçˆ¶å‘å­ä¼ æ•°æ®)
3. [emitå­å‘çˆ¶ä¼ äº‹ä»¶](#3-emitå­å‘çˆ¶ä¼ äº‹ä»¶)
4. [ç»„ä»¶v-modelå®ç°](#4-ç»„ä»¶v-modelå®ç°)
5. [ç»„ä»¶å®ä¾‹è®¿é—®ref](#5-ç»„ä»¶å®ä¾‹è®¿é—®ref)
6. [provide/injectè·¨å±‚çº§é€šä¿¡](#6-provideinjectè·¨å±‚çº§é€šä¿¡)
7. [å…„å¼Ÿç»„ä»¶é€šä¿¡EventBus](#7-å…„å¼Ÿç»„ä»¶é€šä¿¡eventbus)
8. [å…¨å±€å±æ€§globalProperties](#8-å…¨å±€å±æ€§globalproperties)
9. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#9-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ¤ ç»„ä»¶é€šä¿¡æ¦‚è¿°


### 1.1 ä»€ä¹ˆæ˜¯ç»„ä»¶é€šä¿¡


> ğŸ’¡ **é€šä¿—ç†è§£**ï¼šç»„ä»¶é€šä¿¡å°±æ˜¯è®©ä¸åŒçš„ç»„ä»¶ä¹‹é—´èƒ½å¤Ÿ"è¯´è¯"ï¼Œäº’ç›¸ä¼ é€’ä¿¡æ¯

æƒ³è±¡ä¸€ä¸‹ç°å®ç”Ÿæ´»ä¸­çš„å®¶åº­ï¼š
```
çˆ¶æ¯ â†â†’ å­©å­ â†â†’ å…„å¼Ÿå§å¦¹
```

åœ¨Vueä¸­ä¹Ÿæ˜¯ä¸€æ ·çš„é“ç†ï¼š
```
çˆ¶ç»„ä»¶ â†â†’ å­ç»„ä»¶ â†â†’ å…„å¼Ÿç»„ä»¶
```

### 1.2 ä¸ºä»€ä¹ˆéœ€è¦ç»„ä»¶é€šä¿¡


**ğŸ” æ ¸å¿ƒåŸå› **ï¼šæ¯ä¸ªç»„ä»¶éƒ½æœ‰è‡ªå·±çš„**ç‹¬ç«‹ä½œç”¨åŸŸ**ï¼Œå°±åƒæ¯ä¸ªæˆ¿é—´éƒ½æœ‰è‡ªå·±çš„ç©ºé—´ä¸€æ ·

```
ç»„ä»¶Açš„æ•°æ® â‰  ç»„ä»¶Bçš„æ•°æ®
```

å¦‚æœæ²¡æœ‰é€šä¿¡æœºåˆ¶ï¼š
- âŒ ç»„ä»¶ä¹‹é—´æ— æ³•å…±äº«æ•°æ®
- âŒ æ— æ³•å“åº”ç”¨æˆ·æ“ä½œ
- âŒ åº”ç”¨åŠŸèƒ½å‰²è£‚ï¼Œæ— æ³•ååŒå·¥ä½œ

### 1.3 é€šä¿¡åœºæ™¯åˆ†ç±»


```
é€šä¿¡ç±»å‹å›¾:
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   çˆ¶ç»„ä»¶     â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
           â”‚ props â†“ / emit â†‘
    â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   å­ç»„ä»¶A    â”‚ â”‚   å­ç»„ä»¶B    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†• EventBus å…„å¼Ÿé€šä¿¡
```

**ğŸ“‹ é€šä¿¡æ–¹å¼æ€»è§ˆ**ï¼š

| é€šä¿¡ç±»å‹ | **ä½¿ç”¨åœºæ™¯** | **æ ¸å¿ƒæ–¹æ³•** | **éš¾åº¦** |
|---------|-------------|-------------|---------|
| ğŸ”½ **çˆ¶â†’å­** | `ä¼ é€’æ•°æ®ç»™å­ç»„ä»¶` | `props` | `â­â˜†â˜†` |
| ğŸ”¼ **å­â†’çˆ¶** | `å­ç»„ä»¶é€šçŸ¥çˆ¶ç»„ä»¶` | `emit` | `â­â˜†â˜†` |
| ğŸ”„ **åŒå‘ç»‘å®š** | `è¡¨å•ç»„ä»¶ç­‰` | `v-model` | `â­â­â˜†` |
| ğŸ¯ **ç›´æ¥è®¿é—®** | `è°ƒç”¨å­ç»„ä»¶æ–¹æ³•` | `ref` | `â­â­â˜†` |
| ğŸ“¡ **è·¨å±‚çº§** | `ç¥–å­™ç»„ä»¶é€šä¿¡` | `provide/inject` | `â­â­â­` |
| ğŸŒ **å…„å¼Ÿç»„ä»¶** | `åŒçº§ç»„ä»¶é€šä¿¡` | `EventBus` | `â­â­â­` |

---

## 2. ğŸ”½ propsçˆ¶å‘å­ä¼ æ•°æ®


### 2.1 propsçš„åŸºæœ¬æ¦‚å¿µ


> ğŸ“– **æ¦‚å¿µè§£é‡Š**ï¼špropså°±åƒæ˜¯çˆ¶ç»„ä»¶ç»™å­ç»„ä»¶çš„"ç¤¼ç‰©"ï¼Œçˆ¶ç»„ä»¶å¯ä»¥æŠŠæ•°æ®æ‰“åŒ…é€ç»™å­ç»„ä»¶ä½¿ç”¨

**ğŸ ç”Ÿæ´»æ¯”å–»**ï¼š
- çˆ¶æ¯ç»™å­©å­é›¶èŠ±é’± â†’ çˆ¶ç»„ä»¶ç»™å­ç»„ä»¶ä¼ æ•°æ®
- å­©å­ä¸èƒ½ä¿®æ”¹é›¶èŠ±é’±çš„æ¥æº â†’ å­ç»„ä»¶ä¸èƒ½ç›´æ¥ä¿®æ”¹props

### 2.2 åŸºç¡€ä½¿ç”¨æ–¹æ³•


**çˆ¶ç»„ä»¶ä¼ é€’æ•°æ®**ï¼š
```vue
<!-- ğŸ“ çˆ¶ç»„ä»¶ ParentComponent.vue -->
<template>
  <div>
    <h2>æˆ‘æ˜¯çˆ¶ç»„ä»¶</h2>
    <!-- åƒHTMLå±æ€§ä¸€æ ·ä¼ é€’æ•°æ® -->
    <child-component 
      :user-name="currentUser" 
      :age="25"
      message="ä½ å¥½ï¼Œè¿™æ˜¯ä¸€æ¡æ¶ˆæ¯"
    />
  </div>
</template>

<script>
import ChildComponent from './ChildComponent.vue'

export default {
  components: { ChildComponent },
  data() {
    return {
      currentUser: 'å°æ˜'
    }
  }
}
</script>
```

**å­ç»„ä»¶æ¥æ”¶æ•°æ®**ï¼š
```vue
<!-- ğŸ“ å­ç»„ä»¶ ChildComponent.vue -->
<template>
  <div>
    <h3>æˆ‘æ˜¯å­ç»„ä»¶</h3>
    <p>å§“åï¼š{{ userName }}</p>
    <p>å¹´é¾„ï¼š{{ age }}</p>
    <p>æ¶ˆæ¯ï¼š{{ message }}</p>
  </div>
</template>

<script>
export default {
  // å£°æ˜è¦æ¥æ”¶çš„props
  props: ['userName', 'age', 'message']
}
</script>
```

### 2.3 propsç±»å‹éªŒè¯


> âš ï¸ **ä¸ºä»€ä¹ˆéœ€è¦éªŒè¯**ï¼šå°±åƒæ”¶å¿«é€’è¦éªŒè¯åŒ…è£¹æ˜¯å¦æ­£ç¡®ä¸€æ ·ï¼ŒpropséªŒè¯èƒ½å¸®æˆ‘ä»¬å‘ç°ä¼ é”™æ•°æ®çš„é—®é¢˜

**ğŸ”§ åŸºç¡€ç±»å‹éªŒè¯**ï¼š
```vue
<script>
export default {
  props: {
    // å­—ç¬¦ä¸²ç±»å‹
    userName: String,
    // æ•°å­—ç±»å‹  
    age: Number,
    // å¸ƒå°”ç±»å‹
    isVip: Boolean,
    // æ•°ç»„ç±»å‹
    hobbies: Array,
    // å¯¹è±¡ç±»å‹
    userInfo: Object
  }
}
</script>
```

**ğŸ›¡ï¸ è¯¦ç»†éªŒè¯è§„åˆ™**ï¼š
```vue
<script>
export default {
  props: {
    userName: {
      type: String,           // ç±»å‹é™åˆ¶
      required: true,         // å¿…é¡»ä¼ é€’
      default: 'åŒ¿åç”¨æˆ·'      // é»˜è®¤å€¼
    },
    age: {
      type: Number,
      default: 18,
      validator(value) {      // è‡ªå®šä¹‰éªŒè¯
        return value >= 0 && value <= 120
      }
    },
    userLevel: {
      type: String,
      default: 'normal',
      validator(value) {
        // åªå…è®¸è¿™äº›å€¼
        return ['normal', 'vip', 'admin'].includes(value)
      }
    }
  }
}
</script>
```

### 2.4 propsæ³¨æ„äº‹é¡¹


> ğŸ“‹ **é‡è¦è§„åˆ™**ï¼špropséµå¾ª"å•å‘æ•°æ®æµ"åŸåˆ™

**âœ… æ­£ç¡®åšæ³•**ï¼š
```vue
<!-- å­ç»„ä»¶ä¸­ -->
<script>
export default {
  props: ['initialValue'],
  data() {
    return {
      // æŠŠpropså€¼å¤åˆ¶åˆ°æœ¬åœ°dataä¸­ä½¿ç”¨
      localValue: this.initialValue
    }
  },
  methods: {
    updateValue() {
      // ä¿®æ”¹æœ¬åœ°æ•°æ®ï¼Œä¸ç›´æ¥ä¿®æ”¹props
      this.localValue = 'æ–°å€¼'
    }
  }
}
</script>
```

**âŒ é”™è¯¯åšæ³•**ï¼š
```vue
<script>
export default {
  props: ['value'],
  methods: {
    updateValue() {
      // âŒ åƒä¸‡ä¸è¦è¿™æ ·åšï¼
      this.value = 'æ–°å€¼'  // ä¼šæŠ¥é”™ä¸”è¿ååŸåˆ™
    }
  }
}
</script>
```

---

## 3. ğŸ”¼ emitå­å‘çˆ¶ä¼ äº‹ä»¶


### 3.1 emitçš„åŸºæœ¬æ¦‚å¿µ


> ğŸ“ **é€šä¿—ç†è§£**ï¼šemitå°±åƒå­ç»„ä»¶ç»™çˆ¶ç»„ä»¶"æ‰“ç”µè¯"ï¼Œå‘Šè¯‰çˆ¶ç»„ä»¶å‘ç”Ÿäº†ä»€ä¹ˆäº‹æƒ…

**ğŸ“± ç”Ÿæ´»æ¯”å–»**ï¼š
- å­©å­é‡åˆ°é—®é¢˜ç»™çˆ¶æ¯æ‰“ç”µè¯ â†’ å­ç»„ä»¶emitäº‹ä»¶ç»™çˆ¶ç»„ä»¶
- çˆ¶æ¯æ¥åˆ°ç”µè¯åå†³å®šå¦‚ä½•å¤„ç† â†’ çˆ¶ç»„ä»¶ç›‘å¬äº‹ä»¶å¹¶å¤„ç†

### 3.2 åŸºç¡€äº‹ä»¶ä¼ é€’


**å­ç»„ä»¶å‘é€äº‹ä»¶**ï¼š
```vue
<!-- ğŸ“ å­ç»„ä»¶ ChildComponent.vue -->
<template>
  <div>
    <button @click="tellParent">å‘Šè¯‰çˆ¶ç»„ä»¶</button>
    <button @click="sendData">å‘é€æ•°æ®ç»™çˆ¶ç»„ä»¶</button>
  </div>
</template>

<script>
export default {
  methods: {
    tellParent() {
      // å‘é€ç®€å•äº‹ä»¶
      this.$emit('child-clicked')
    },
    sendData() {
      // å‘é€äº‹ä»¶å¹¶æºå¸¦æ•°æ®
      this.$emit('data-change', {
        message: 'æˆ‘æ˜¯å­ç»„ä»¶çš„æ•°æ®',
        timestamp: Date.now()
      })
    }
  }
}
</script>
```

**çˆ¶ç»„ä»¶ç›‘å¬äº‹ä»¶**ï¼š
```vue
<!-- ğŸ“ çˆ¶ç»„ä»¶ ParentComponent.vue -->
<template>
  <div>
    <child-component 
      @child-clicked="handleChildClick"
      @data-change="handleDataChange"
    />
  </div>
</template>

<script>
export default {
  methods: {
    handleChildClick() {
      console.log('å­ç»„ä»¶è¢«ç‚¹å‡»äº†ï¼')
    },
    handleDataChange(data) {
      console.log('æ”¶åˆ°å­ç»„ä»¶æ•°æ®ï¼š', data)
    }
  }
}
</script>
```

### 3.3 äº‹ä»¶å‚æ•°ä¼ é€’


> ğŸ’¡ **ç†è§£è¦ç‚¹**ï¼šemitä¸ä»…èƒ½å‘é€"ä¿¡å·"ï¼Œè¿˜èƒ½æºå¸¦"è´§ç‰©"

**ğŸšš å¤šå‚æ•°ä¼ é€’**ï¼š
```vue
<!-- å­ç»„ä»¶ -->
<script>
export default {
  methods: {
    submitForm() {
      // å¯ä»¥ä¼ é€’å¤šä¸ªå‚æ•°
      this.$emit('form-submit', 
        this.formData,        // ç¬¬1ä¸ªå‚æ•°ï¼šè¡¨å•æ•°æ®
        this.isValid,         // ç¬¬2ä¸ªå‚æ•°ï¼šéªŒè¯çŠ¶æ€
        'success'             // ç¬¬3ä¸ªå‚æ•°ï¼šæäº¤ç±»å‹
      )
    }
  }
}
</script>
```

```vue
<!-- çˆ¶ç»„ä»¶ -->
<template>
  <child-form @form-submit="handleSubmit" />
</template>

<script>
export default {
  methods: {
    // æ¥æ”¶å¤šä¸ªå‚æ•°
    handleSubmit(formData, isValid, submitType) {
      if (isValid) {
        console.log('æäº¤æ•°æ®ï¼š', formData)
        console.log('æäº¤ç±»å‹ï¼š', submitType)
      }
    }
  }
}
</script>
```

### 3.4 è‡ªå®šä¹‰äº‹ä»¶å‘½å


> ğŸ“ **å‘½åå»ºè®®**ï¼šäº‹ä»¶åä½¿ç”¨`kebab-case`ï¼ˆçŸ­æ¨ªçº¿è¿æ¥ï¼‰æ ¼å¼

```vue
<script>
export default {
  methods: {
    // âœ… æ¨èå‘½åæ–¹å¼
    notifyParent() {
      this.$emit('data-updated')      // å¥½
      this.$emit('user-login')        // å¥½
      this.$emit('form-validate')     // å¥½
    },
    
    // âŒ ä¸æ¨èçš„å‘½å
    badNaming() {
      this.$emit('dataUpdated')       // é¿å…é©¼å³°
      this.$emit('user_login')        // é¿å…ä¸‹åˆ’çº¿
    }
  }
}
</script>
```

---

## 4. ğŸ”„ ç»„ä»¶v-modelå®ç°


### 4.1 v-modelçš„æœ¬è´¨


> ğŸ¯ **æ ¸å¿ƒç†è§£**ï¼šv-modelæ˜¯propså’Œemitçš„"è¯­æ³•ç³–"ï¼Œè®©åŒå‘ç»‘å®šå˜å¾—æ›´ç®€å•

**ğŸ¯ è¯­æ³•ç³–å±•å¼€**ï¼š
```vue
<!-- è¿™ä¸¤ç§å†™æ³•æ˜¯ç­‰ä»·çš„ -->

<!-- ç®€å†™å½¢å¼ -->
<my-input v-model="searchText" />

<!-- å®Œæ•´å½¢å¼ -->
<my-input 
  :value="searchText" 
  @input="searchText = $event" 
/>
```

### 4.2 åœ¨ç»„ä»¶ä¸­å®ç°v-model


**è‡ªå®šä¹‰è¾“å…¥ç»„ä»¶**ï¼š
```vue
<!-- ğŸ“ MyInput.vue -->
<template>
  <div class="my-input">
    <label>{{ label }}</label>
    <input 
      :value="value"
      @input="updateValue"
      :placeholder="placeholder"
    />
  </div>
</template>

<script>
export default {
  props: {
    value: String,      // æ¥æ”¶v-modelçš„å€¼
    label: String,
    placeholder: String
  },
  methods: {
    updateValue(event) {
      // å‘é€inputäº‹ä»¶ï¼Œæ›´æ–°v-modelçš„å€¼
      this.$emit('input', event.target.value)
    }
  }
}
</script>
```

**åœ¨çˆ¶ç»„ä»¶ä¸­ä½¿ç”¨**ï¼š
```vue
<template>
  <div>
    <!-- ä½¿ç”¨è‡ªå®šä¹‰v-modelç»„ä»¶ -->
    <my-input 
      v-model="username" 
      label="ç”¨æˆ·å"
      placeholder="è¯·è¾“å…¥ç”¨æˆ·å"
    />
    
    <p>å½“å‰è¾“å…¥ï¼š{{ username }}</p>
  </div>
</template>

<script>
export default {
  data() {
    return {
      username: ''
    }
  }
}
</script>
```

### 4.3 è‡ªå®šä¹‰v-modeläº‹ä»¶å


> ğŸ”§ **é«˜çº§ç”¨æ³•**ï¼šå¯ä»¥è‡ªå®šä¹‰v-modelä½¿ç”¨çš„äº‹ä»¶å

```vue
<!-- è‡ªå®šä¹‰äº‹ä»¶åçš„ç»„ä»¶ -->
<script>
export default {
  model: {
    prop: 'checked',    // è‡ªå®šä¹‰propå
    event: 'change'     // è‡ªå®šä¹‰äº‹ä»¶å
  },
  props: {
    checked: Boolean
  },
  methods: {
    toggle() {
      this.$emit('change', !this.checked)
    }
  }
}
</script>
```

---

## 5. ğŸ¯ ç»„ä»¶å®ä¾‹è®¿é—®ref


### 5.1 refçš„åŸºæœ¬æ¦‚å¿µ


> ğŸ”— **é€šä¿—ç†è§£**ï¼šrefå°±åƒç»™ç»„ä»¶è´´äº†ä¸ª"åå­—æ ‡ç­¾"ï¼Œè®©çˆ¶ç»„ä»¶èƒ½ç›´æ¥æ‰¾åˆ°å¹¶æ“ä½œå­ç»„ä»¶

**ğŸ·ï¸ ç”Ÿæ´»æ¯”å–»**ï¼š
- ç»™å®¶é‡Œçš„ç”µå™¨è´´æ ‡ç­¾ â†’ ç»™ç»„ä»¶è®¾ç½®ref
- é€šè¿‡æ ‡ç­¾æ‰¾åˆ°ç”µå™¨å¹¶æ“ä½œ â†’ é€šè¿‡refè®¿é—®ç»„ä»¶å¹¶è°ƒç”¨æ–¹æ³•

### 5.2 åŸºç¡€ä½¿ç”¨æ–¹æ³•


**ç»™ç»„ä»¶è®¾ç½®ref**ï¼š
```vue
<!-- ğŸ“ çˆ¶ç»„ä»¶ -->
<template>
  <div>
    <!-- ç»™å­ç»„ä»¶è®¾ç½®ref -->
    <child-component ref="myChild" />
    <button @click="callChild">è°ƒç”¨å­ç»„ä»¶æ–¹æ³•</button>
  </div>
</template>

<script>
export default {
  methods: {
    callChild() {
      // é€šè¿‡refç›´æ¥è®¿é—®å­ç»„ä»¶
      this.$refs.myChild.childMethod()
      
      // è·å–å­ç»„ä»¶çš„æ•°æ®
      console.log(this.$refs.myChild.childData)
    }
  }
}
</script>
```

**å­ç»„ä»¶æä¾›æ–¹æ³•å’Œæ•°æ®**ï¼š
```vue
<!-- ğŸ“ ChildComponent.vue -->
<template>
  <div>å­ç»„ä»¶å†…å®¹</div>
</template>

<script>
export default {
  data() {
    return {
      childData: 'æˆ‘æ˜¯å­ç»„ä»¶çš„æ•°æ®'
    }
  },
  methods: {
    childMethod() {
      console.log('å­ç»„ä»¶çš„æ–¹æ³•è¢«è°ƒç”¨äº†ï¼')
    },
    focus() {
      // èšç„¦åˆ°è¾“å…¥æ¡†
      this.$refs.input.focus()
    }
  }
}
</script>
```

### 5.3 refçš„å®é™…åº”ç”¨åœºæ™¯


**ğŸ“‹ å¸¸è§ä½¿ç”¨åœºæ™¯**ï¼š

```vue
<template>
  <div>
    <!-- åœºæ™¯1ï¼šæ“ä½œè¡¨å•ç»„ä»¶ -->
    <user-form ref="userForm" />
    <button @click="validateForm">éªŒè¯è¡¨å•</button>
    
    <!-- åœºæ™¯2ï¼šæ§åˆ¶å¼¹çª—ç»„ä»¶ -->
    <modal-dialog ref="modal" />
    <button @click="showModal">æ˜¾ç¤ºå¼¹çª—</button>
    
    <!-- åœºæ™¯3ï¼šæ“ä½œåˆ—è¡¨ç»„ä»¶ -->
    <data-table ref="table" />
    <button @click="refreshTable">åˆ·æ–°è¡¨æ ¼</button>
  </div>
</template>

<script>
export default {
  methods: {
    // éªŒè¯è¡¨å•
    validateForm() {
      const isValid = this.$refs.userForm.validate()
      if (isValid) {
        console.log('è¡¨å•éªŒè¯é€šè¿‡')
      }
    },
    
    // æ˜¾ç¤ºå¼¹çª—
    showModal() {
      this.$refs.modal.show()
    },
    
    // åˆ·æ–°è¡¨æ ¼
    refreshTable() {
      this.$refs.table.refresh()
    }
  }
}
</script>
```

### 5.4 refæ³¨æ„äº‹é¡¹


> âš ï¸ **é‡è¦æé†’**ï¼šrefåº”è¯¥è°¨æ…ä½¿ç”¨ï¼Œä¼˜å…ˆè€ƒè™‘propså’Œemit

**âœ… é€‚åˆä½¿ç”¨refçš„åœºæ™¯**ï¼š
- èšç„¦è¡¨å•å…ƒç´ 
- è§¦å‘å­ç»„ä»¶åŠ¨ç”»
- è°ƒç”¨ç¬¬ä¸‰æ–¹ç»„ä»¶åº“çš„æ–¹æ³•

**âŒ ä¸é€‚åˆä½¿ç”¨refçš„åœºæ™¯**ï¼š
- ä¼ é€’æ•°æ®ï¼ˆåº”è¯¥ç”¨propsï¼‰
- å“åº”ç”¨æˆ·æ“ä½œï¼ˆåº”è¯¥ç”¨emitï¼‰

---

## 6. ğŸ“¡ provide/injectè·¨å±‚çº§é€šä¿¡


### 6.1 provide/injectæ¦‚å¿µ


> ğŸŒŠ **é€šä¿—ç†è§£**ï¼šprovide/injectå°±åƒ"å¹¿æ’­ç”µå°"ï¼Œç¥–å…ˆç»„ä»¶å¹¿æ’­ä¿¡æ¯ï¼Œåä»£ç»„ä»¶æ”¶å¬ä¿¡æ¯

**ğŸ“» å¹¿æ’­æ¯”å–»**ï¼š
```
ç¥–å…ˆç»„ä»¶(ç”µå°) --provide--> æ•°æ®ä¿¡å·
             â†“
çˆ¶ç»„ä»¶(ä¸­ç»§ç«™) --> ä¸éœ€è¦å¤„ç†ï¼Œä¿¡å·ç©¿é€
             â†“  
å­ç»„ä»¶(æ”¶éŸ³æœº) --inject--> æ¥æ”¶æ•°æ®
```

### 6.2 åŸºç¡€ä½¿ç”¨æ–¹æ³•


**ç¥–å…ˆç»„ä»¶æä¾›æ•°æ®**ï¼š
```vue
<!-- ğŸ“ GrandParent.vue -->
<template>
  <div>
    <h1>ç¥–å…ˆç»„ä»¶</h1>
    <parent-component />
  </div>
</template>

<script>
export default {
  provide: {
    // æä¾›é™æ€æ•°æ®
    appName: 'My Vue App',
    theme: 'dark'
  },
  data() {
    return {
      userInfo: { name: 'ç®¡ç†å‘˜', role: 'admin' }
    }
  },
  provide() {
    // æä¾›å“åº”å¼æ•°æ®
    return {
      userInfo: this.userInfo
    }
  }
}
</script>
```

**åä»£ç»„ä»¶æ³¨å…¥æ•°æ®**ï¼š
```vue
<!-- ğŸ“ Child.vue (å¯èƒ½éš”äº†å¥½å‡ å±‚) -->
<template>
  <div>
    <h3>åä»£ç»„ä»¶</h3>
    <p>åº”ç”¨åï¼š{{ appName }}</p>
    <p>ä¸»é¢˜ï¼š{{ theme }}</p>
    <p>ç”¨æˆ·ï¼š{{ userInfo.name }}</p>
  </div>
</template>

<script>
export default {
  inject: ['appName', 'theme', 'userInfo'],
  mounted() {
    console.log('æ³¨å…¥çš„æ•°æ®ï¼š', {
      appName: this.appName,
      theme: this.theme,
      userInfo: this.userInfo
    })
  }
}
</script>
```

### 6.3 é«˜çº§ç”¨æ³•


**è®¾ç½®é»˜è®¤å€¼å’Œé‡å‘½å**ï¼š
```vue
<script>
export default {
  inject: {
    // é‡å‘½åæ³¨å…¥çš„æ•°æ®
    applicationName: {
      from: 'appName',
      default: 'é»˜è®¤åº”ç”¨å'
    },
    
    // è®¾ç½®é»˜è®¤å€¼
    currentTheme: {
      from: 'theme',
      default: 'light'
    },
    
    // ä½¿ç”¨å‡½æ•°ä½œä¸ºé»˜è®¤å€¼
    config: {
      from: 'appConfig',
      default() {
        return { debug: false }
      }
    }
  }
}
</script>
```

### 6.4 ä½¿ç”¨åœºæ™¯


> ğŸ’¡ **é€‚ç”¨åœºæ™¯**ï¼šå½“æ•°æ®éœ€è¦ç©¿è¶Šå¤šä¸ªå±‚çº§æ—¶ä½¿ç”¨

**ğŸ¯ å…¸å‹åº”ç”¨**ï¼š
- ä¸»é¢˜é…ç½®
- ç”¨æˆ·ç™»å½•ä¿¡æ¯
- åº”ç”¨å…¨å±€é…ç½®
- å¤šè¯­è¨€è®¾ç½®

```
åº”ç”¨å±‚çº§ç¤ºä¾‹:
App.vue (provide: ç”¨æˆ·ä¿¡æ¯ã€ä¸»é¢˜)
  â””â”€ Layout.vue 
      â””â”€ Sidebar.vue
          â””â”€ MenuItem.vue (inject: ç”¨æˆ·ä¿¡æ¯)
              â””â”€ SubMenu.vue (inject: ä¸»é¢˜)
```

---

## 7. ğŸŒ å…„å¼Ÿç»„ä»¶é€šä¿¡EventBus


### 7.1 EventBusæ¦‚å¿µ


> ğŸšŒ **é€šä¿—ç†è§£**ï¼šEventBuså°±åƒ"å…¬äº¤è½¦"ï¼Œä¸åŒçš„ç»„ä»¶å¯ä»¥ä¸Šè½¦å‘æ¶ˆæ¯ï¼Œä¹Ÿå¯ä»¥ä¸‹è½¦æ”¶æ¶ˆæ¯

**ğŸšŒ å…¬äº¤è½¦æ¯”å–»**ï¼š
```
ç»„ä»¶A --å‘æ¶ˆæ¯--> EventBus --ä¼ é€’--> ç»„ä»¶B
ç»„ä»¶C --å‘æ¶ˆæ¯--> EventBus --ä¼ é€’--> ç»„ä»¶D
```

### 7.2 åˆ›å»ºå’Œä½¿ç”¨EventBus


**åˆ›å»ºEventBus**ï¼š
```javascript
// ğŸ“ utils/eventBus.js
import Vue from 'vue'

// åˆ›å»ºä¸€ä¸ªç©ºçš„Vueå®ä¾‹ä½œä¸ºäº‹ä»¶æ€»çº¿
export const EventBus = new Vue()
```

**ç»„ä»¶Aå‘é€æ¶ˆæ¯**ï¼š
```vue
<!-- ğŸ“ ComponentA.vue -->
<template>
  <div>
    <button @click="sendMessage">å‘é€æ¶ˆæ¯ç»™Bç»„ä»¶</button>
  </div>
</template>

<script>
import { EventBus } from '@/utils/eventBus'

export default {
  methods: {
    sendMessage() {
      // å‘é€äº‹ä»¶
      EventBus.$emit('message-from-a', {
        text: 'ä½ å¥½ï¼Œæˆ‘æ˜¯Aç»„ä»¶',
        timestamp: Date.now()
      })
    }
  }
}
</script>
```

**ç»„ä»¶Bæ¥æ”¶æ¶ˆæ¯**ï¼š
```vue
<!-- ğŸ“ ComponentB.vue -->
<template>
  <div>
    <p v-if="receivedMessage">
      æ”¶åˆ°æ¶ˆæ¯ï¼š{{ receivedMessage.text }}
    </p>
  </div>
</template>

<script>
import { EventBus } from '@/utils/eventBus'

export default {
  data() {
    return {
      receivedMessage: null
    }
  },
  created() {
    // ç›‘å¬äº‹ä»¶
    EventBus.$on('message-from-a', this.handleMessage)
  },
  beforeDestroy() {
    // ç»„ä»¶é”€æ¯å‰ç§»é™¤äº‹ä»¶ç›‘å¬
    EventBus.$off('message-from-a', this.handleMessage)
  },
  methods: {
    handleMessage(data) {
      this.receivedMessage = data
      console.log('Bç»„ä»¶æ”¶åˆ°æ¶ˆæ¯ï¼š', data)
    }
  }
}
</script>
```

### 7.3 EventBusæœ€ä½³å®è·µ


> âš ï¸ **é‡è¦æé†’**ï¼šä½¿ç”¨EventBusè¦æ³¨æ„å†…å­˜æ³„æ¼é—®é¢˜

**âœ… æ­£ç¡®çš„äº‹ä»¶ç®¡ç†**ï¼š
```vue
<script>
export default {
  created() {
    // ç»‘å®šäº‹ä»¶
    EventBus.$on('user-logout', this.handleLogout)
    EventBus.$on('theme-change', this.handleThemeChange)
  },
  beforeDestroy() {
    // âœ… å¿…é¡»åœ¨ç»„ä»¶é”€æ¯å‰è§£ç»‘äº‹ä»¶
    EventBus.$off('user-logout', this.handleLogout)
    EventBus.$off('theme-change', this.handleThemeChange)
  }
}
</script>
```

### 7.4 EventBusçš„é—®é¢˜å’Œæ›¿ä»£æ–¹æ¡ˆ


> ğŸ“‹ **æ³¨æ„äº‹é¡¹**ï¼šEventBusåœ¨Vue3ä¸­ä¸å†æ¨èä½¿ç”¨

**âŒ EventBusçš„é—®é¢˜**ï¼š
- äº‹ä»¶æ»¡å¤©é£ï¼Œéš¾ä»¥è¿½è¸ª
- å®¹æ˜“é€ æˆå†…å­˜æ³„æ¼
- ç»„ä»¶è€¦åˆåº¦é«˜

**âœ… æ¨èæ›¿ä»£æ–¹æ¡ˆ**ï¼š
- ä½¿ç”¨Vuex/PiniaçŠ¶æ€ç®¡ç†
- ä½¿ç”¨Composition APIçš„ç»„åˆå¼å‡½æ•°
- ä½¿ç”¨ç¬¬ä¸‰æ–¹äº‹ä»¶åº“å¦‚mitt

---

## 8. ğŸŒ å…¨å±€å±æ€§globalProperties


### 8.1 å…¨å±€å±æ€§æ¦‚å¿µ


> ğŸ—‚ï¸ **é€šä¿—ç†è§£**ï¼šglobalPropertieså°±åƒç»™æ¯ä¸ªç»„ä»¶éƒ½å‘äº†ä¸€æœ¬"é€šè®¯å½•"ï¼Œé‡Œé¢æœ‰å…¨å±€é€šç”¨çš„å·¥å…·å’Œæ•°æ®

### 8.2 Vue3ä¸­çš„ä½¿ç”¨æ–¹æ³•


**æ³¨å†Œå…¨å±€å±æ€§**ï¼š
```javascript
// ğŸ“ main.js
import { createApp } from 'vue'
import App from './App.vue'

const app = createApp(App)

// æ³¨å†Œå…¨å±€å±æ€§
app.config.globalProperties.$http = axios
app.config.globalProperties.$message = {
  success: (msg) => console.log('æˆåŠŸï¼š', msg),
  error: (msg) => console.error('é”™è¯¯ï¼š', msg)
}
app.config.globalProperties.$utils = {
  formatDate: (date) => date.toLocaleDateString(),
  formatCurrency: (amount) => `Â¥${amount.toFixed(2)}`
}

app.mount('#app')
```

**åœ¨ç»„ä»¶ä¸­ä½¿ç”¨å…¨å±€å±æ€§**ï¼š
```vue
<template>
  <div>
    <p>æ ¼å¼åŒ–æ—¥æœŸï¼š{{ $utils.formatDate(new Date()) }}</p>
    <p>æ ¼å¼åŒ–é‡‘é¢ï¼š{{ $utils.formatCurrency(99.9) }}</p>
    <button @click="makeRequest">å‘é€è¯·æ±‚</button>
  </div>
</template>

<script>
export default {
  methods: {
    async makeRequest() {
      try {
        const response = await this.$http.get('/api/data')
        this.$message.success('è¯·æ±‚æˆåŠŸ')
      } catch (error) {
        this.$message.error('è¯·æ±‚å¤±è´¥')
      }
    }
  }
}
</script>
```

### 8.3 å¸¸è§çš„å…¨å±€å±æ€§


**ğŸ› ï¸ å®ç”¨çš„å…¨å±€å·¥å…·**ï¼š
```javascript
// æ³¨å†Œå¸¸ç”¨å…¨å±€å±æ€§
app.config.globalProperties.$toast = toast
app.config.globalProperties.$loading = loading
app.config.globalProperties.$confirm = confirm
app.config.globalProperties.$api = apiService
app.config.globalProperties.$storage = localStorage
app.config.globalProperties.$router = router
```

---

## 9. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 9.1 å¿…é¡»æŒæ¡çš„é€šä¿¡æ–¹å¼


```
ğŸ”½ props: çˆ¶ç»„ä»¶ä¼ æ•°æ®ç»™å­ç»„ä»¶
ğŸ”¼ emit: å­ç»„ä»¶é€šçŸ¥çˆ¶ç»„ä»¶äº‹ä»¶
ğŸ”„ v-model: åŒå‘æ•°æ®ç»‘å®šçš„è¯­æ³•ç³–
ğŸ¯ ref: ç›´æ¥è®¿é—®å­ç»„ä»¶å®ä¾‹
ğŸ“¡ provide/inject: è·¨å±‚çº§æ•°æ®ä¼ é€’
ğŸŒ EventBus: å…„å¼Ÿç»„ä»¶äº‹ä»¶é€šä¿¡
ğŸŒ globalProperties: å…¨å±€å±æ€§å’Œå·¥å…·
```

### 9.2 ä½¿ç”¨åœºæ™¯é€‰æ‹©æŒ‡å—


**ğŸ¯ æ ¹æ®å…³ç³»é€‰æ‹©é€šä¿¡æ–¹å¼**ï¼š

```
çˆ¶å­å…³ç³»:
â”œâ”€ ä¼ æ•°æ®: props
â”œâ”€ ä¼ äº‹ä»¶: emit  
â”œâ”€ åŒå‘ç»‘å®š: v-model
â””â”€ ç›´æ¥è°ƒç”¨: ref

è·¨å±‚çº§å…³ç³»:
â””â”€ provide/inject

å…„å¼Ÿå…³ç³»:
â”œâ”€ EventBus (Vue2)
â”œâ”€ çŠ¶æ€ç®¡ç† (æ¨è)
â””â”€ çˆ¶ç»„ä»¶ä¸­è½¬

å…¨å±€å·¥å…·:
â””â”€ globalProperties
```

### 9.3 æœ€ä½³å®è·µå»ºè®®


> ğŸ’¡ **æ ¸å¿ƒåŸåˆ™**ï¼šä¼˜å…ˆä½¿ç”¨ç®€å•ç›´æ¥çš„é€šä¿¡æ–¹å¼

**âœ… æ¨èåšæ³•**ï¼š
- çˆ¶å­é€šä¿¡ä¼˜å…ˆä½¿ç”¨props/emit
- è·¨å±‚çº§æ•°æ®ä½¿ç”¨provide/inject
- å¤æ‚çŠ¶æ€ä½¿ç”¨Vuex/Pinia
- å…¨å±€å·¥å…·ä½¿ç”¨globalProperties

**âŒ é¿å…çš„åšæ³•**ï¼š
- è¿‡åº¦ä½¿ç”¨refç›´æ¥æ“ä½œç»„ä»¶
- EventBusäº‹ä»¶æ»¡å¤©é£
- æ‰€æœ‰æ•°æ®éƒ½æ”¾åˆ°å…¨å±€çŠ¶æ€

### 9.4 é€šä¿¡æ–¹å¼å¯¹æ¯”æ€»ç»“


| æ–¹å¼ | **ä¼˜ç‚¹** | **ç¼ºç‚¹** | **æ¨èåº¦** |
|------|---------|---------|-----------|
| **props/emit** | `ç®€å•ç›´æ¥` | `åªèƒ½çˆ¶å­é€šä¿¡` | `ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥` |
| **v-model** | `åŒå‘ç»‘å®šæ–¹ä¾¿` | `åªé€‚åˆè¡¨å•ç±»ç»„ä»¶` | `ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥â˜†` |
| **ref** | `ç›´æ¥è®¿é—®å¼ºå¤§` | `å®¹æ˜“é€ æˆè€¦åˆ` | `ğŸ”¥ğŸ”¥ğŸ”¥â˜†â˜†` |
| **provide/inject** | `è·¨å±‚çº§ä¼ é€’` | `æ•°æ®æµå‘ä¸æ˜æ˜¾` | `ğŸ”¥ğŸ”¥ğŸ”¥â˜†â˜†` |
| **EventBus** | `ä»»æ„ç»„ä»¶é€šä¿¡` | `éš¾ä»¥ç»´æŠ¤ï¼Œå·²åºŸå¼ƒ` | `ğŸ”¥â˜†â˜†â˜†â˜†` |
| **globalProperties** | `å…¨å±€å¯ç”¨` | `å®¹æ˜“æ±¡æŸ“å…¨å±€` | `ğŸ”¥ğŸ”¥ğŸ”¥â˜†â˜†` |

**æ ¸å¿ƒè®°å¿†**ï¼š
- çˆ¶å­ç”¨props/emitï¼Œç®€å•åˆç›´æ¥
- è·¨çº§ç”¨provide/injectï¼Œæ•°æ®èƒ½ç©¿é€  
- å…„å¼Ÿç”¨çŠ¶æ€ç®¡ç†ï¼Œæ¸…æ™°åˆå¯é 
- å…¨å±€ç”¨globalPropertiesï¼Œå·¥å…·å¾ˆæ–¹ä¾¿