---
title: 3ã€å¼‚æ­¥æ•°æ®å¤„ç†
---
## ğŸ“š ç›®å½•

1. [å¼‚æ­¥æ•°æ®å¤„ç†æ¦‚è¿°](#1-å¼‚æ­¥æ•°æ®å¤„ç†æ¦‚è¿°)
2. [PromiseåŸºç¡€ä¸é“¾å¼è°ƒç”¨](#2-PromiseåŸºç¡€ä¸é“¾å¼è°ƒç”¨)
3. [async/awaitå¼‚æ­¥è¯­æ³•](#3-async-awaitå¼‚æ­¥è¯­æ³•)
4. [HTTPè¯·æ±‚å¤„ç†æœºåˆ¶](#4-HTTPè¯·æ±‚å¤„ç†æœºåˆ¶)
5. [å¹¶å‘è¯·æ±‚å¤„ç†](#5-å¹¶å‘è¯·æ±‚å¤„ç†)
6. [å¼‚æ­¥æ•°æ®åŠ è½½ç­–ç•¥](#6-å¼‚æ­¥æ•°æ®åŠ è½½ç­–ç•¥)
7. [æ•°æ®ç¼“å­˜æœºåˆ¶](#7-æ•°æ®ç¼“å­˜æœºåˆ¶)
8. [è¯·æ±‚é‡è¯•æœºåˆ¶](#8-è¯·æ±‚é‡è¯•æœºåˆ¶)
9. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#9-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸŒ å¼‚æ­¥æ•°æ®å¤„ç†æ¦‚è¿°


### 1.1 ä»€ä¹ˆæ˜¯å¼‚æ­¥æ•°æ®å¤„ç†


**ç®€å•ç†è§£**ï¼šå¼‚æ­¥å°±æ˜¯"ä¸ç­‰å¾…"çš„æ„æ€ã€‚æƒ³è±¡ä½ åœ¨é¤å…ç‚¹é¤ï¼š

```
åŒæ­¥æ–¹å¼ï¼šä½ ç«™åœ¨æŸœå°ç­‰å¨å¸ˆåšå®Œèœæ‰èƒ½ç¦»å¼€
å¼‚æ­¥æ–¹å¼ï¼šä½ ç‚¹å®Œé¤æ‹¿ä¸ªå·ç ç‰Œï¼Œå»æ‰¾ä½ç½®åä¸‹ï¼Œèœå¥½äº†å«ä½ 

ç½‘é¡µä¹Ÿæ˜¯ä¸€æ ·ï¼š
åŒæ­¥ï¼šé¡µé¢å¡ä½ç­‰æ•°æ®å›æ¥
å¼‚æ­¥ï¼šé¡µé¢ç»§ç»­å“åº”ï¼Œæ•°æ®å›æ¥åå†æ›´æ–°
```

**æ ¸å¿ƒä½œç”¨**ï¼š
- ğŸš€ **é¡µé¢ä¸å¡é¡¿** - ç”¨æˆ·å¯ä»¥ç»§ç»­æ“ä½œ
- âš¡ **æå‡ä½“éªŒ** - æ•°æ®åœ¨åå°æ‚„æ‚„åŠ è½½
- ğŸ¯ **å¹¶è¡Œå¤„ç†** - å¤šä¸ªè¯·æ±‚åŒæ—¶è¿›è¡Œ

### 1.2 ä¸ºä»€ä¹ˆéœ€è¦å¼‚æ­¥å¤„ç†


```
ä¼ ç»ŸåŒæ­¥é—®é¢˜ï¼š
ç”¨æˆ·ç‚¹å‡»æŒ‰é’® â†’ é¡µé¢å†»ç»“ â†’ ç­‰å¾…æœåŠ¡å™¨ â†’ é¡µé¢æ¢å¤

ç°ä»£å¼‚æ­¥æ–¹æ¡ˆï¼š
ç”¨æˆ·ç‚¹å‡»æŒ‰é’® â†’ æ˜¾ç¤ºåŠ è½½çŠ¶æ€ â†’ ç»§ç»­æ“ä½œ â†’ æ•°æ®åˆ°è¾¾æ›´æ–°
```

**å®é™…åœºæ™¯**ï¼š
- è·å–ç”¨æˆ·ä¿¡æ¯
- åŠ è½½å•†å“åˆ—è¡¨  
- æäº¤è¡¨å•æ•°æ®
- ä¸Šä¼ æ–‡ä»¶

---

## 2. ğŸ”— PromiseåŸºç¡€ä¸é“¾å¼è°ƒç”¨


### 2.1 Promiseæ˜¯ä»€ä¹ˆ


**é€šä¿—è§£é‡Š**ï¼šPromiseå°±åƒä¸€å¼ "æ¬ æ¡"ï¼Œæ‰¿è¯ºå°†æ¥ä¼šç»™ä½ ç»“æœã€‚

```javascript
// Promiseå°±åƒç‚¹å¤–å–
const å¤–å–è®¢å• = new Promise((resolve, reject) => {
  // å¤–å–å°å“¥åœ¨è·¯ä¸Š
  setTimeout(() => {
    const ä¸‹é›¨äº† = false;
    if (ä¸‹é›¨äº†) {
      reject('å¤–å–è¢«é›¨æ·‹æ¹¿äº†'); // å¤±è´¥äº†
    } else {
      resolve('çƒ­è…¾è…¾çš„é¥­èœ'); // æˆåŠŸäº†
    }
  }, 2000);
});

// ä½ å¯ä»¥å®‰æ’æ”¶åˆ°å¤–å–ååšä»€ä¹ˆ
å¤–å–è®¢å•
  .then(é¥­èœ => console.log('æ”¶åˆ°äº†:', é¥­èœ))
  .catch(é”™è¯¯ => console.log('å‡ºé—®é¢˜äº†:', é”™è¯¯));
```

### 2.2 Promiseçš„ä¸‰ç§çŠ¶æ€


```
PromiseçŠ¶æ€å›¾ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   pending   â”‚ â† ç­‰å¾…ä¸­ï¼ˆå¤–å–åœ¨è·¯ä¸Šï¼‰
â”‚   (ç­‰å¾…ä¸­)   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
   â”Œâ”€â”€â”€â–¼â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚fulfilledâ”‚  â”‚rejected â”‚
   â”‚ (æˆåŠŸ)  â”‚  â”‚ (å¤±è´¥)  â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**çŠ¶æ€è¯´æ˜**ï¼š
- **pending** - åˆå§‹çŠ¶æ€ï¼Œè¿˜åœ¨å¤„ç†ä¸­
- **fulfilled** - æˆåŠŸäº†ï¼Œæœ‰ç»“æœäº†
- **rejected** - å¤±è´¥äº†ï¼Œå‡ºé”™äº†

### 2.3 Promiseé“¾å¼è°ƒç”¨


**åŸºæœ¬è¯­æ³•**ï¼š
```javascript
// é“¾å¼è°ƒç”¨å°±åƒæµæ°´çº¿
getUserInfo()
  .then(user => {
    console.log('ç”¨æˆ·ä¿¡æ¯:', user);
    return getUserPosts(user.id); // è¿”å›æ–°çš„Promise
  })
  .then(posts => {
    console.log('ç”¨æˆ·æ–‡ç« :', posts);
    return getPostComments(posts[0].id);
  })
  .then(comments => {
    console.log('æ–‡ç« è¯„è®º:', comments);
  })
  .catch(error => {
    console.log('æŸä¸ªç¯èŠ‚å‡ºé”™äº†:', error);
  });
```

**åœ¨Vueä¸­çš„åº”ç”¨**ï¼š
```javascript
// Vueç»„ä»¶ä¸­ä½¿ç”¨Promise
export default {
  data() {
    return {
      user: null,
      posts: [],
      loading: true
    }
  },
  async mounted() {
    this.loadUserData();
  },
  methods: {
    loadUserData() {
      // é“¾å¼è·å–ç”¨æˆ·å®Œæ•´ä¿¡æ¯
      this.getUserBasicInfo()
        .then(user => {
          this.user = user;
          return this.getUserPosts(user.id);
        })
        .then(posts => {
          this.posts = posts;
          this.loading = false;
        })
        .catch(error => {
          console.error('åŠ è½½å¤±è´¥:', error);
          this.loading = false;
        });
    }
  }
}
```

---

## 3. âš¡ async/awaitå¼‚æ­¥è¯­æ³•


### 3.1 ä»€ä¹ˆæ˜¯async/await


**é€šä¿—ç†è§£**ï¼šasync/awaitè®©å¼‚æ­¥ä»£ç çœ‹èµ·æ¥åƒåŒæ­¥ä»£ç ï¼Œæ›´å®¹æ˜“ç†è§£ã€‚

```javascript
// ä¼ ç»ŸPromiseå†™æ³•ï¼ˆå›è°ƒåœ°ç‹±ï¼‰
function ä¼ ç»Ÿæ–¹å¼() {
  getUserInfo()
    .then(user => {
      getUserPosts(user.id)
        .then(posts => {
          getPostComments(posts[0].id)
            .then(comments => {
              console.log(comments);
            });
        });
    });
}

// async/awaitå†™æ³•ï¼ˆæ¸…æ™°æ˜äº†ï¼‰
async function ç°ä»£æ–¹å¼() {
  const user = await getUserInfo();
  const posts = await getUserPosts(user.id);
  const comments = await getPostComments(posts[0].id);
  console.log(comments);
}
```

### 3.2 async/awaitåŸºæœ¬ç”¨æ³•


**åŸºç¡€è¯­æ³•**ï¼š
```javascript
// asyncæ ‡è®°å‡½æ•°æ˜¯å¼‚æ­¥çš„
async function fetchData() {
  // awaitç­‰å¾…Promiseå®Œæˆ
  const response = await fetch('/api/data');
  const data = await response.json();
  return data;
}

// åœ¨Vueç»„ä»¶ä¸­ä½¿ç”¨
export default {
  methods: {
    async handleClick() {
      try {
        this.loading = true;
        const data = await this.fetchData();
        this.items = data;
      } catch (error) {
        this.error = error.message;
      } finally {
        this.loading = false;
      }
    }
  }
}
```

### 3.3 é”™è¯¯å¤„ç†


**try-catchæ¨¡å¼**ï¼š
```javascript
async function safeRequest() {
  try {
    // å¯èƒ½å‡ºé”™çš„ä»£ç 
    const user = await getUserInfo();
    const posts = await getUserPosts(user.id);
    return { user, posts };
  } catch (error) {
    // ç»Ÿä¸€å¤„ç†é”™è¯¯
    console.error('è¯·æ±‚å¤±è´¥:', error);
    throw new Error('æ•°æ®åŠ è½½å¤±è´¥ï¼Œè¯·é‡è¯•');
  }
}
```

---

## 4. ğŸŒ HTTPè¯·æ±‚å¤„ç†æœºåˆ¶


### 4.1 å¸¸è§çš„HTTPè¯·æ±‚æ–¹æ³•


| æ–¹æ³• | **ç”¨é€”** | **è¯´æ˜** | **ç¤ºä¾‹åœºæ™¯** |
|------|---------|---------|-------------|
| **GET** | `è·å–æ•°æ®` | `ä»æœåŠ¡å™¨è¯»å–ä¿¡æ¯` | `æŸ¥çœ‹ç”¨æˆ·åˆ—è¡¨` |
| **POST** | `åˆ›å»ºæ•°æ®` | `å‘æœåŠ¡å™¨å‘é€æ–°æ•°æ®` | `æ³¨å†Œæ–°ç”¨æˆ·` |
| **PUT** | `æ›´æ–°æ•°æ®` | `å®Œæ•´æ›¿æ¢ç°æœ‰æ•°æ®` | `ä¿®æ”¹ç”¨æˆ·ä¿¡æ¯` |
| **DELETE** | `åˆ é™¤æ•°æ®` | `ç§»é™¤æœåŠ¡å™¨ä¸Šçš„æ•°æ®` | `åˆ é™¤æ–‡ç« ` |

### 4.2 Vueä¸­çš„HTTPè¯·æ±‚å¤„ç†


**ä½¿ç”¨axioså‘é€è¯·æ±‚**ï¼š
```javascript
// å®‰è£…ï¼šnpm install axios
import axios from 'axios';

export default {
  data() {
    return {
      users: [],
      loading: false,
      error: null
    }
  },
  methods: {
    // GETè¯·æ±‚ - è·å–æ•°æ®
    async fetchUsers() {
      this.loading = true;
      try {
        const response = await axios.get('/api/users');
        this.users = response.data;
      } catch (error) {
        this.error = 'è·å–ç”¨æˆ·åˆ—è¡¨å¤±è´¥';
      } finally {
        this.loading = false;
      }
    },

    // POSTè¯·æ±‚ - åˆ›å»ºæ•°æ®
    async createUser(userData) {
      try {
        const response = await axios.post('/api/users', userData);
        this.users.push(response.data);
        this.$message.success('ç”¨æˆ·åˆ›å»ºæˆåŠŸ');
      } catch (error) {
        this.$message.error('åˆ›å»ºå¤±è´¥');
      }
    },

    // DELETEè¯·æ±‚ - åˆ é™¤æ•°æ®
    async deleteUser(userId) {
      try {
        await axios.delete(`/api/users/${userId}`);
        this.users = this.users.filter(user => user.id !== userId);
        this.$message.success('åˆ é™¤æˆåŠŸ');
      } catch (error) {
        this.$message.error('åˆ é™¤å¤±è´¥');
      }
    }
  }
}
```

### 4.3 è¯·æ±‚æ‹¦æˆªå™¨å’Œå“åº”æ‹¦æˆªå™¨


**ç»Ÿä¸€å¤„ç†è¯·æ±‚å’Œå“åº”**ï¼š
```javascript
// åˆ›å»ºaxioså®ä¾‹
const api = axios.create({
  baseURL: 'https://api.example.com',
  timeout: 5000
});

// è¯·æ±‚æ‹¦æˆªå™¨ - ç»Ÿä¸€æ·»åŠ token
api.interceptors.request.use(
  config => {
    const token = localStorage.getItem('token');
    if (token) {
      config.headers.Authorization = `Bearer ${token}`;
    }
    return config;
  },
  error => Promise.reject(error)
);

// å“åº”æ‹¦æˆªå™¨ - ç»Ÿä¸€å¤„ç†é”™è¯¯
api.interceptors.response.use(
  response => response.data,
  error => {
    if (error.response?.status === 401) {
      // ç™»å½•è¿‡æœŸï¼Œè·³è½¬åˆ°ç™»å½•é¡µ
      router.push('/login');
    }
    return Promise.reject(error);
  }
);
```

---

## 5. ğŸš€ å¹¶å‘è¯·æ±‚å¤„ç†


### 5.1 ä»€ä¹ˆæ˜¯å¹¶å‘è¯·æ±‚


**æ¦‚å¿µç†è§£**ï¼šåŒæ—¶å‘é€å¤šä¸ªè¯·æ±‚ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªä¸€ä¸ªç­‰å¾…ã€‚

```
ä¸²è¡Œè¯·æ±‚ï¼ˆæ…¢ï¼‰ï¼š
è¯·æ±‚A â”€â”€â†’ ç­‰å¾… â”€â”€â†’ è¯·æ±‚B â”€â”€â†’ ç­‰å¾… â”€â”€â†’ è¯·æ±‚C
æ€»æ—¶é—´ï¼š3ç§’ + 2ç§’ + 1ç§’ = 6ç§’

å¹¶è¡Œè¯·æ±‚ï¼ˆå¿«ï¼‰ï¼š
è¯·æ±‚A â”€â”€â†’ â”
è¯·æ±‚B â”€â”€â†’ â”œâ”€ åŒæ—¶è¿›è¡Œ
è¯·æ±‚C â”€â”€â†’ â”˜
æ€»æ—¶é—´ï¼šmax(3ç§’, 2ç§’, 1ç§’) = 3ç§’
```

### 5.2 Promise.all()å¤„ç†å¹¶å‘


**åŸºæœ¬ç”¨æ³•**ï¼š
```javascript
// åŒæ—¶è·å–å¤šä¸ªæ•°æ®
async function loadDashboard() {
  this.loading = true;
  
  try {
    // ä¸‰ä¸ªè¯·æ±‚åŒæ—¶å‘å‡º
    const [users, orders, products] = await Promise.all([
      axios.get('/api/users'),
      axios.get('/api/orders'), 
      axios.get('/api/products')
    ]);
    
    // æ‰€æœ‰æ•°æ®éƒ½å›æ¥åä¸€èµ·æ›´æ–°
    this.users = users.data;
    this.orders = orders.data;
    this.products = products.data;
  } catch (error) {
    console.error('åŠ è½½å¤±è´¥:', error);
  } finally {
    this.loading = false;
  }
}
```

### 5.3 Promise.allSettled()å®¹é”™å¤„ç†


**å…è®¸éƒ¨åˆ†å¤±è´¥**ï¼š
```javascript
async function loadDataWithFallback() {
  const results = await Promise.allSettled([
    axios.get('/api/users'),
    axios.get('/api/orders'),
    axios.get('/api/products')
  ]);
  
  results.forEach((result, index) => {
    if (result.status === 'fulfilled') {
      // æˆåŠŸçš„è¯·æ±‚
      switch (index) {
        case 0: this.users = result.value.data; break;
        case 1: this.orders = result.value.data; break;
        case 2: this.products = result.value.data; break;
      }
    } else {
      // å¤±è´¥çš„è¯·æ±‚ï¼Œæ˜¾ç¤ºé”™è¯¯ä¿¡æ¯
      console.warn(`è¯·æ±‚${index}å¤±è´¥:`, result.reason);
    }
  });
}
```

---

## 6. ğŸ“¦ å¼‚æ­¥æ•°æ®åŠ è½½ç­–ç•¥


### 6.1 åˆ†é¡µåŠ è½½ç­–ç•¥


**åŸºç¡€åˆ†é¡µ**ï¼š
```javascript
export default {
  data() {
    return {
      items: [],
      currentPage: 1,
      pageSize: 10,
      total: 0,
      loading: false
    }
  },
  methods: {
    async loadPage(page = 1) {
      this.loading = true;
      try {
        const response = await axios.get('/api/items', {
          params: {
            page: page,
            size: this.pageSize
          }
        });
        
        this.items = response.data.items;
        this.total = response.data.total;
        this.currentPage = page;
      } catch (error) {
        this.$message.error('åŠ è½½å¤±è´¥');
      } finally {
        this.loading = false;
      }
    },
    
    // ç¿»é¡µ
    async nextPage() {
      if (this.currentPage * this.pageSize < this.total) {
        await this.loadPage(this.currentPage + 1);
      }
    }
  }
}
```

### 6.2 æ— é™æ»šåŠ¨åŠ è½½


**æ»šåŠ¨åˆ°åº•éƒ¨è‡ªåŠ¨åŠ è½½**ï¼š
```javascript
export default {
  data() {
    return {
      items: [],
      page: 1,
      hasMore: true,
      loading: false
    }
  },
  mounted() {
    this.loadFirstPage();
    this.setupScrollListener();
  },
  methods: {
    async loadFirstPage() {
      this.items = [];
      this.page = 1;
      await this.loadMore();
    },
    
    async loadMore() {
      if (this.loading || !this.hasMore) return;
      
      this.loading = true;
      try {
        const response = await axios.get('/api/items', {
          params: { page: this.page, size: 20 }
        });
        
        const newItems = response.data.items;
        this.items.push(...newItems);
        this.hasMore = newItems.length === 20;
        this.page++;
      } catch (error) {
        this.$message.error('åŠ è½½å¤±è´¥');
      } finally {
        this.loading = false;
      }
    },
    
    setupScrollListener() {
      window.addEventListener('scroll', () => {
        const { scrollTop, scrollHeight, clientHeight } = document.documentElement;
        // è·ç¦»åº•éƒ¨100pxæ—¶å¼€å§‹åŠ è½½
        if (scrollTop + clientHeight >= scrollHeight - 100) {
          this.loadMore();
        }
      });
    }
  }
}
```

### 6.3 æ‡’åŠ è½½ç­–ç•¥


**æŒ‰éœ€åŠ è½½ç»„ä»¶æ•°æ®**ï¼š
```javascript
// æ‡’åŠ è½½ç»„ä»¶
export default {
  data() {
    return {
      visible: false,
      data: null,
      loaded: false
    }
  },
  methods: {
    async show() {
      this.visible = true;
      // åªæœ‰åœ¨æ˜¾ç¤ºæ—¶æ‰åŠ è½½æ•°æ®
      if (!this.loaded) {
        await this.loadData();
        this.loaded = true;
      }
    },
    
    async loadData() {
      try {
        const response = await axios.get('/api/heavy-data');
        this.data = response.data;
      } catch (error) {
        console.error('æ‡’åŠ è½½å¤±è´¥:', error);
      }
    }
  }
}
```

---

## 7. ğŸ’¾ æ•°æ®ç¼“å­˜æœºåˆ¶


### 7.1 ç®€å•å†…å­˜ç¼“å­˜


**åŸºç¡€ç¼“å­˜å®ç°**ï¼š
```javascript
// åˆ›å»ºç®€å•çš„ç¼“å­˜å·¥å…·
class SimpleCache {
  constructor(maxAge = 5 * 60 * 1000) { // 5åˆ†é’Ÿè¿‡æœŸ
    this.cache = new Map();
    this.maxAge = maxAge;
  }
  
  set(key, value) {
    this.cache.set(key, {
      value,
      timestamp: Date.now()
    });
  }
  
  get(key) {
    const item = this.cache.get(key);
    if (!item) return null;
    
    // æ£€æŸ¥æ˜¯å¦è¿‡æœŸ
    if (Date.now() - item.timestamp > this.maxAge) {
      this.cache.delete(key);
      return null;
    }
    
    return item.value;
  }
  
  clear() {
    this.cache.clear();
  }
}

// åœ¨Vueä¸­ä½¿ç”¨ç¼“å­˜
const dataCache = new SimpleCache();

export default {
  methods: {
    async fetchUserInfo(userId) {
      // å…ˆæ£€æŸ¥ç¼“å­˜
      const cacheKey = `user_${userId}`;
      let user = dataCache.get(cacheKey);
      
      if (user) {
        console.log('ä»ç¼“å­˜è·å–ç”¨æˆ·ä¿¡æ¯');
        return user;
      }
      
      // ç¼“å­˜ä¸­æ²¡æœ‰ï¼Œå‘èµ·è¯·æ±‚
      console.log('ä»æœåŠ¡å™¨è·å–ç”¨æˆ·ä¿¡æ¯');
      const response = await axios.get(`/api/users/${userId}`);
      user = response.data;
      
      // å­˜å…¥ç¼“å­˜
      dataCache.set(cacheKey, user);
      return user;
    }
  }
}
```

### 7.2 LocalStorageæŒä¹…åŒ–ç¼“å­˜


**æœ¬åœ°å­˜å‚¨ç¼“å­˜**ï¼š
```javascript
// æŒä¹…åŒ–ç¼“å­˜å·¥å…·
class PersistentCache {
  constructor(prefix = 'cache_') {
    this.prefix = prefix;
  }
  
  set(key, value, expireMinutes = 30) {
    const item = {
      value,
      expires: Date.now() + (expireMinutes * 60 * 1000)
    };
    localStorage.setItem(this.prefix + key, JSON.stringify(item));
  }
  
  get(key) {
    const itemStr = localStorage.getItem(this.prefix + key);
    if (!itemStr) return null;
    
    try {
      const item = JSON.parse(itemStr);
      if (Date.now() > item.expires) {
        localStorage.removeItem(this.prefix + key);
        return null;
      }
      return item.value;
    } catch (error) {
      return null;
    }
  }
}

// ä½¿ç”¨ç¤ºä¾‹
const cache = new PersistentCache();

export default {
  methods: {
    async getConfigData() {
      // é…ç½®æ•°æ®å¾ˆå°‘å˜åŒ–ï¼Œç¼“å­˜1å°æ—¶
      let config = cache.get('app_config');
      
      if (!config) {
        const response = await axios.get('/api/config');
        config = response.data;
        cache.set('app_config', config, 60); // ç¼“å­˜60åˆ†é’Ÿ
      }
      
      return config;
    }
  }
}
```

---

## 8. ğŸ”„ è¯·æ±‚é‡è¯•æœºåˆ¶


### 8.1 åŸºç¡€é‡è¯•æœºåˆ¶


**ç®€å•é‡è¯•å®ç°**ï¼š
```javascript
// é‡è¯•å·¥å…·å‡½æ•°
async function retryRequest(requestFn, maxRetries = 3, delay = 1000) {
  for (let i = 0; i < maxRetries; i++) {
    try {
      return await requestFn();
    } catch (error) {
      console.log(`è¯·æ±‚å¤±è´¥ï¼Œç¬¬${i + 1}æ¬¡é‡è¯•`);
      
      // æœ€åä¸€æ¬¡é‡è¯•ä¹Ÿå¤±è´¥äº†
      if (i === maxRetries - 1) {
        throw error;
      }
      
      // ç­‰å¾…åé‡è¯•
      await new Promise(resolve => setTimeout(resolve, delay * (i + 1)));
    }
  }
}

// åœ¨Vueä¸­ä½¿ç”¨
export default {
  methods: {
    async fetchImportantData() {
      try {
        const data = await retryRequest(
          () => axios.get('/api/important-data'),
          3, // æœ€å¤šé‡è¯•3æ¬¡
          1000 // åˆå§‹å»¶è¿Ÿ1ç§’
        );
        this.importantData = data.data;
      } catch (error) {
        this.$message.error('æ•°æ®åŠ è½½å¤±è´¥ï¼Œè¯·åˆ·æ–°é¡µé¢é‡è¯•');
      }
    }
  }
}
```

### 8.2 æ™ºèƒ½é‡è¯•ç­–ç•¥


**æŒ‡æ•°é€€é¿é‡è¯•**ï¼š
```javascript
class SmartRetry {
  constructor(options = {}) {
    this.maxRetries = options.maxRetries || 3;
    this.baseDelay = options.baseDelay || 1000;
    this.maxDelay = options.maxDelay || 10000;
  }
  
  async execute(requestFn) {
    let lastError;
    
    for (let attempt = 0; attempt <= this.maxRetries; attempt++) {
      try {
        return await requestFn();
      } catch (error) {
        lastError = error;
        
        // ç½‘ç»œé”™è¯¯æˆ–5xxæœåŠ¡å™¨é”™è¯¯æ‰é‡è¯•
        if (!this.shouldRetry(error) || attempt === this.maxRetries) {
          throw error;
        }
        
        // æŒ‡æ•°é€€é¿å»¶è¿Ÿ
        const delay = Math.min(
          this.baseDelay * Math.pow(2, attempt),
          this.maxDelay
        );
        
        console.log(`è¯·æ±‚å¤±è´¥ï¼Œ${delay}msåè¿›è¡Œç¬¬${attempt + 1}æ¬¡é‡è¯•`);
        await this.sleep(delay);
      }
    }
    
    throw lastError;
  }
  
  shouldRetry(error) {
    // ç½‘ç»œé”™è¯¯
    if (!error.response) return true;
    
    // æœåŠ¡å™¨é”™è¯¯(5xx)
    const status = error.response.status;
    return status >= 500 && status < 600;
  }
  
  sleep(ms) {
    return new Promise(resolve => setTimeout(resolve, ms));
  }
}

// ä½¿ç”¨ç¤ºä¾‹
const smartRetry = new SmartRetry({
  maxRetries: 3,
  baseDelay: 1000,
  maxDelay: 8000
});

export default {
  methods: {
    async saveUserData(userData) {
      try {
        const result = await smartRetry.execute(
          () => axios.post('/api/users', userData)
        );
        this.$message.success('ä¿å­˜æˆåŠŸ');
        return result.data;
      } catch (error) {
        this.$message.error('ä¿å­˜å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥');
        throw error;
      }
    }
  }
}
```

---

## 9. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 9.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ å¼‚æ­¥å¤„ç†æœ¬è´¨ï¼šä¸é˜»å¡ä¸»çº¿ç¨‹ï¼Œæå‡ç”¨æˆ·ä½“éªŒ
ğŸ”¸ Promiseæœºåˆ¶ï¼šå¤„ç†å¼‚æ­¥æ“ä½œçš„æ ‡å‡†æ–¹å¼ï¼Œé“¾å¼è°ƒç”¨
ğŸ”¸ async/awaitè¯­æ³•ï¼šè®©å¼‚æ­¥ä»£ç æ›´åƒåŒæ­¥ä»£ç ï¼Œæ˜“è¯»æ˜“å†™
ğŸ”¸ HTTPè¯·æ±‚æ–¹æ³•ï¼šGETè·å–ã€POSTåˆ›å»ºã€PUTæ›´æ–°ã€DELETEåˆ é™¤
ğŸ”¸ å¹¶å‘å¤„ç†ï¼šPromise.allåŒæ—¶å¤„ç†å¤šä¸ªè¯·æ±‚ï¼Œæå‡æ•ˆç‡
ğŸ”¸ åŠ è½½ç­–ç•¥ï¼šåˆ†é¡µã€æ— é™æ»šåŠ¨ã€æ‡’åŠ è½½ç­‰ä¸åŒåœºæ™¯
ğŸ”¸ ç¼“å­˜æœºåˆ¶ï¼šé¿å…é‡å¤è¯·æ±‚ï¼Œæå‡æ€§èƒ½å’Œç”¨æˆ·ä½“éªŒ
ğŸ”¸ é‡è¯•æœºåˆ¶ï¼šå¤„ç†ç½‘ç»œä¸ç¨³å®šï¼Œæå‡è¯·æ±‚æˆåŠŸç‡
```

### 9.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ å¼‚æ­¥vsåŒæ­¥çš„æœ¬è´¨åŒºåˆ«**
```
åŒæ­¥æ“ä½œï¼šä¸€æ­¥ä¸€æ­¥æ¥ï¼Œå‰é¢ä¸å®Œæˆåé¢ä¸èƒ½å¼€å§‹
å¼‚æ­¥æ“ä½œï¼šå¯ä»¥åŒæ—¶è¿›è¡Œå¤šä»¶äº‹ï¼Œæé«˜æ•ˆç‡

å®é™…å½±å“ï¼š
åŒæ­¥ï¼šé¡µé¢å¡é¡¿ï¼Œç”¨æˆ·ä½“éªŒå·®
å¼‚æ­¥ï¼šé¡µé¢æµç•…ï¼Œç”¨æˆ·ä½“éªŒå¥½
```

**ğŸ”¹ ä½•æ—¶ä½¿ç”¨Promise.all vs Promise.allSettled**
```
Promise.allï¼š
- æ‰€æœ‰è¯·æ±‚éƒ½å¿…é¡»æˆåŠŸ
- ä¸€ä¸ªå¤±è´¥å°±å…¨éƒ¨å¤±è´¥
- é€‚åˆï¼šå…³é”®æ•°æ®ï¼Œç¼ºä¸€ä¸å¯

Promise.allSettledï¼š
- å…è®¸éƒ¨åˆ†è¯·æ±‚å¤±è´¥
- è·å–æ‰€æœ‰ç»“æœï¼ŒæˆåŠŸå’Œå¤±è´¥çš„éƒ½è¦
- é€‚åˆï¼šéå…³é”®æ•°æ®ï¼Œèƒ½æ˜¾ç¤ºå¤šå°‘æ˜¯å¤šå°‘
```

**ğŸ”¹ ç¼“å­˜ç­–ç•¥é€‰æ‹©**
```
å†…å­˜ç¼“å­˜ï¼š
- é¡µé¢åˆ·æ–°å°±æ²¡äº†
- é€Ÿåº¦æœ€å¿«
- é€‚åˆï¼šä¼šè¯æœŸé—´çš„ä¸´æ—¶æ•°æ®

æœ¬åœ°å­˜å‚¨ç¼“å­˜ï¼š
- é¡µé¢åˆ·æ–°è¿˜åœ¨
- é€Ÿåº¦è¾ƒå¿«
- é€‚åˆï¼šç”¨æˆ·é…ç½®ã€å¸¸ç”¨æ•°æ®
```

### 9.3 å®é™…åº”ç”¨æŒ‡å¯¼


**âœ… æœ€ä½³å®è·µ**
- ä½¿ç”¨async/awaitæ›¿ä»£å¤æ‚çš„Promiseé“¾
- é‡è¦è¯·æ±‚è¦æœ‰é‡è¯•æœºåˆ¶
- é¢‘ç¹è¯·æ±‚çš„æ•°æ®è¦ç¼“å­˜
- ç”¨loadingçŠ¶æ€æå‡ç”¨æˆ·ä½“éªŒ
- é”™è¯¯è¦æœ‰å‹å¥½çš„æç¤ºä¿¡æ¯

**âš ï¸ å¸¸è§é™·é˜±**
- å¿˜è®°å¤„ç†é”™è¯¯æƒ…å†µ
- æ²¡æœ‰loadingçŠ¶æ€å¯¼è‡´ç”¨æˆ·å›°æƒ‘
- è¿‡åº¦ç¼“å­˜å¯¼è‡´æ•°æ®ä¸åŠæ—¶
- é‡è¯•æ¬¡æ•°å¤ªå¤šå½±å“æ€§èƒ½

**ğŸ¯ é€‰æ‹©æ ‡å‡†**
```
æ•°æ®æ›´æ–°é¢‘ç‡ï¼š
- é«˜é¢‘æ›´æ–°ï¼šå‡å°‘ç¼“å­˜ï¼Œå®æ—¶è·å–
- ä½é¢‘æ›´æ–°ï¼šç§¯æç¼“å­˜ï¼Œå®šæœŸåˆ·æ–°

ç½‘ç»œç¯å¢ƒï¼š
- è‰¯å¥½ç¯å¢ƒï¼šå‡å°‘é‡è¯•ï¼Œå¿«é€Ÿå“åº”
- ä¸ç¨³å®šç¯å¢ƒï¼šå¢åŠ é‡è¯•ï¼Œæå‡æˆåŠŸç‡

ç”¨æˆ·åœºæ™¯ï¼š
- å…³é”®æ“ä½œï¼šå¤šé‡ä¿éšœï¼Œç¡®ä¿æˆåŠŸ
- ä¸€èˆ¬æµè§ˆï¼šåˆç†ä¼˜åŒ–ï¼Œå¹³è¡¡ä½“éªŒ
```

**æ ¸å¿ƒè®°å¿†**ï¼š
- å¼‚æ­¥å¤„ç†è®©é¡µé¢æ›´æµç•…ï¼Œç”¨æˆ·ä½“éªŒæ›´å¥½
- Promiseå’Œasync/awaitæ˜¯å¤„ç†å¼‚æ­¥çš„ä¸¤å¤§åˆ©å™¨
- åˆç†ä½¿ç”¨ç¼“å­˜å’Œé‡è¯•ï¼Œè®©åº”ç”¨æ›´ç¨³å®šå¯é 
- å§‹ç»ˆè€ƒè™‘ç”¨æˆ·æ„Ÿå—ï¼Œæä¾›é€‚å½“çš„åé¦ˆå’Œæç¤º