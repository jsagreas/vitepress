---
title: 6ã€è·¯ç”±é«˜çº§ç‰¹æ€§
---
## ğŸ“š ç›®å½•

1. [è·¯ç”±æ‡’åŠ è½½ - æŒ‰éœ€åŠ è½½é¡µé¢](#1-è·¯ç”±æ‡’åŠ è½½---æŒ‰éœ€åŠ è½½é¡µé¢)
2. [å¼‚æ­¥ç»„ä»¶åŠ è½½ - æå‡åº”ç”¨æ€§èƒ½](#2-å¼‚æ­¥ç»„ä»¶åŠ è½½---æå‡åº”ç”¨æ€§èƒ½)
3. [è·¯ç”±è¿‡æ¸¡åŠ¨ç”» - ä¼˜åŒ–ç”¨æˆ·ä½“éªŒ](#3-è·¯ç”±è¿‡æ¸¡åŠ¨ç”»---ä¼˜åŒ–ç”¨æˆ·ä½“éªŒ)
4. [æ»šåŠ¨è¡Œä¸ºæ§åˆ¶ - ç²¾å‡†å®šä½å†…å®¹](#4-æ»šåŠ¨è¡Œä¸ºæ§åˆ¶---ç²¾å‡†å®šä½å†…å®¹)
5. [è·¯ç”±ç¼“å­˜ç­–ç•¥ - æå‡äº¤äº’ä½“éªŒ](#5-è·¯ç”±ç¼“å­˜ç­–ç•¥---æå‡äº¤äº’ä½“éªŒ)
6. [è·¯ç”±æ€§èƒ½ä¼˜åŒ– - å®æˆ˜æŠ€å·§](#6-è·¯ç”±æ€§èƒ½ä¼˜åŒ–---å®æˆ˜æŠ€å·§)
7. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#7-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸš€ è·¯ç”±æ‡’åŠ è½½ - æŒ‰éœ€åŠ è½½é¡µé¢


### 1.1 ä»€ä¹ˆæ˜¯è·¯ç”±æ‡’åŠ è½½


**ç®€å•ç†è§£**ï¼šå°±åƒçœ‹ä¹¦ä¸€æ ·ï¼Œä¸ç”¨ä¸€æ¬¡æ€§æŠŠæ•´æœ¬ä¹¦éƒ½æ‹¿å‡ºæ¥ï¼Œè€Œæ˜¯çœ‹åˆ°å“ªä¸€é¡µå†ç¿»åˆ°å“ªä¸€é¡µã€‚

```
ä¼ ç»ŸåŠ è½½æ–¹å¼ï¼š
ç”¨æˆ·è®¿é—®ç½‘ç«™ â†’ ä¸€æ¬¡æ€§ä¸‹è½½æ‰€æœ‰é¡µé¢ä»£ç  â†’ é¦–é¡µæ˜¾ç¤ºæ…¢

æ‡’åŠ è½½æ–¹å¼ï¼š
ç”¨æˆ·è®¿é—®ç½‘ç«™ â†’ åªä¸‹è½½é¦–é¡µä»£ç  â†’ é¦–é¡µå¿«é€Ÿæ˜¾ç¤º
ç”¨æˆ·ç‚¹å‡»å…¶ä»–é¡µé¢ â†’ å†ä¸‹è½½å¯¹åº”é¡µé¢ä»£ç  â†’ æŒ‰éœ€åŠ è½½
```

**ä¸ºä»€ä¹ˆéœ€è¦æ‡’åŠ è½½**ï¼š
- ğŸš€ **é¦–é¡µåŠ è½½æ›´å¿«**ï¼šå‡å°‘åˆå§‹ä¸‹è½½çš„ä»£ç é‡
- ğŸ’¾ **èŠ‚çœå¸¦å®½**ï¼šç”¨æˆ·å¯èƒ½ä¸ä¼šè®¿é—®æ‰€æœ‰é¡µé¢
- ğŸ“± **ç§»åŠ¨ç«¯å‹å¥½**ï¼šå‡å°‘ç§»åŠ¨ç½‘ç»œè´Ÿæ‹…

### 1.2 åŸºç¡€æ‡’åŠ è½½å®ç°


**ä¼ ç»Ÿå†™æ³• vs æ‡’åŠ è½½å†™æ³•**ï¼š

```javascript
// âŒ ä¼ ç»Ÿå†™æ³•ï¼šä¸€æ¬¡æ€§å¯¼å…¥æ‰€æœ‰ç»„ä»¶
import Home from '@/views/Home.vue'
import About from '@/views/About.vue'
import Contact from '@/views/Contact.vue'

const routes = [
  { path: '/', component: Home },
  { path: '/about', component: About },
  { path: '/contact', component: Contact }
]

// âœ… æ‡’åŠ è½½å†™æ³•ï¼šç”¨åˆ°æ—¶æ‰å¯¼å…¥
const routes = [
  { 
    path: '/', 
    component: () => import('@/views/Home.vue') 
  },
  { 
    path: '/about', 
    component: () => import('@/views/About.vue') 
  },
  { 
    path: '/contact', 
    component: () => import('@/views/Contact.vue') 
  }
]
```

**æ ¸å¿ƒæŠ€æœ¯**ï¼š`import()` å‡½æ•°
- è¿™æ˜¯ES2020çš„**åŠ¨æ€å¯¼å…¥**è¯­æ³•
- è¿”å›ä¸€ä¸ªPromiseï¼Œå¼‚æ­¥åŠ è½½æ¨¡å—
- Vue Routerä¼šè‡ªåŠ¨å¤„ç†è¿™ä¸ªPromise

### 1.3 åˆ†ç»„æ‡’åŠ è½½


**é—®é¢˜åœºæ™¯**ï¼šå¦‚æœæœ‰å¾ˆå¤šç›¸å…³é¡µé¢ï¼Œå¯ä»¥æ‰“åŒ…åˆ°ä¸€ä¸ªæ–‡ä»¶é‡Œ

```javascript
// æŒ‰åŠŸèƒ½æ¨¡å—åˆ†ç»„æ‰“åŒ…
const routes = [
  // ç”¨æˆ·ç›¸å…³é¡µé¢æ‰“åŒ…åˆ°ä¸€ä¸ªæ–‡ä»¶
  { 
    path: '/user/profile', 
    component: () => import(/* webpackChunkName: "user" */ '@/views/UserProfile.vue') 
  },
  { 
    path: '/user/settings', 
    component: () => import(/* webpackChunkName: "user" */ '@/views/UserSettings.vue') 
  },
  
  // ç®¡ç†å‘˜ç›¸å…³é¡µé¢æ‰“åŒ…åˆ°ä¸€ä¸ªæ–‡ä»¶
  { 
    path: '/admin/dashboard', 
    component: () => import(/* webpackChunkName: "admin" */ '@/views/AdminDashboard.vue') 
  },
  { 
    path: '/admin/users', 
    component: () => import(/* webpackChunkName: "admin" */ '@/views/AdminUsers.vue') 
  }
]
```

**é­”æ³•æ³¨é‡Šè¯´æ˜**ï¼š
- `/* webpackChunkName: "user" */` æ˜¯ç»™webpackçš„æŒ‡ä»¤
- å‘Šè¯‰webpackæŠŠè¿™äº›æ–‡ä»¶æ‰“åŒ…åˆ°åä¸º"user"çš„chunké‡Œ
- æœ€ç»ˆç”Ÿæˆ `user.js` æ–‡ä»¶ï¼ŒåŒ…å«ç”¨æˆ·ç›¸å…³çš„æ‰€æœ‰é¡µé¢

---

## 2. âš¡ å¼‚æ­¥ç»„ä»¶åŠ è½½ - æå‡åº”ç”¨æ€§èƒ½


### 2.1 å¼‚æ­¥ç»„ä»¶çš„æœ¬è´¨


**é€šä¿—ç†è§£**ï¼šå°±åƒå¤–å–é…é€ï¼Œä¸æ˜¯æ‰€æœ‰èœéƒ½è¦åŒæ—¶ä¸Šæ¡Œï¼Œå¯ä»¥å…ˆä¸Šä¸€éƒ¨åˆ†ï¼Œå…¶ä»–çš„å‡†å¤‡å¥½å†ä¸Šã€‚

```
åŒæ­¥ç»„ä»¶ï¼š
é¡µé¢åŠ è½½ â†’ ç­‰å¾…æ‰€æœ‰ç»„ä»¶å‡†å¤‡å®Œæ¯• â†’ æ˜¾ç¤ºé¡µé¢
ï¼ˆå¦‚æœæŸä¸ªç»„ä»¶å¾ˆå¤§ï¼Œæ•´ä¸ªé¡µé¢éƒ½è¦ç­‰ï¼‰

å¼‚æ­¥ç»„ä»¶ï¼š
é¡µé¢åŠ è½½ â†’ æ˜¾ç¤ºä¸»è¦å†…å®¹ â†’ å¤§ç»„ä»¶å‡†å¤‡å¥½åå†æ˜¾ç¤º
ï¼ˆç”¨æˆ·å…ˆçœ‹åˆ°ä¸»è¦å†…å®¹ï¼Œä½“éªŒæ›´å¥½ï¼‰
```

### 2.2 å¼‚æ­¥ç»„ä»¶åŸºç¡€ç”¨æ³•


```javascript
// ç®€å•çš„å¼‚æ­¥ç»„ä»¶
const AsyncComponent = () => import('./MyComponent.vue')

// åœ¨è·¯ç”±ä¸­ä½¿ç”¨
{
  path: '/heavy-page',
  component: AsyncComponent
}
```

### 2.3 å¸¦åŠ è½½çŠ¶æ€çš„å¼‚æ­¥ç»„ä»¶


```javascript
// å®Œæ•´çš„å¼‚æ­¥ç»„ä»¶é…ç½®
const AsyncComponent = () => ({
  // è¦åŠ è½½çš„ç»„ä»¶
  component: import('./HeavyComponent.vue'),
  
  // åŠ è½½ä¸­æ˜¾ç¤ºçš„ç»„ä»¶
  loading: LoadingComponent,
  
  // åŠ è½½å¤±è´¥æ˜¾ç¤ºçš„ç»„ä»¶
  error: ErrorComponent,
  
  // å»¶è¿Ÿæ˜¾ç¤ºloadingç»„ä»¶çš„æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰
  delay: 200,
  
  // æœ€å¤§ç­‰å¾…æ—¶é—´ï¼Œè¶…æ—¶æ˜¾ç¤ºerrorç»„ä»¶
  timeout: 5000
})
```

**é…ç½®è¯´æ˜**ï¼š
- `loading`ï¼šæ˜¾ç¤º"æ­£åœ¨åŠ è½½..."çš„å°ç»„ä»¶
- `error`ï¼šç½‘ç»œé”™è¯¯æ—¶æ˜¾ç¤ºçš„æç¤ºç»„ä»¶
- `delay`ï¼šé¿å…é—ªçƒï¼Œ200mså†…åŠ è½½å®Œæˆå°±ä¸æ˜¾ç¤ºloading
- `timeout`ï¼šè¶…è¿‡5ç§’è¿˜æ²¡åŠ è½½å®Œå°±æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯

### 2.4 å®ç”¨çš„åŠ è½½ç»„ä»¶ç¤ºä¾‹


```vue
<!-- LoadingComponent.vue -->
<template>
  <div class="loading">
    <div class="spinner"></div>
    <p>é¡µé¢åŠ è½½ä¸­...</p>
  </div>
</template>

<style>
.loading {
  text-align: center;
  padding: 20px;
}
.spinner {
  width: 20px;
  height: 20px;
  border: 2px solid #ccc;
  border-top: 2px solid #409eff;
  border-radius: 50%;
  animation: spin 1s linear infinite;
}
@keyframes spin {
  to { transform: rotate(360deg); }
}
</style>
```

---

## 3. ğŸ¨ è·¯ç”±è¿‡æ¸¡åŠ¨ç”» - ä¼˜åŒ–ç”¨æˆ·ä½“éªŒ


### 3.1 ä»€ä¹ˆæ˜¯è·¯ç”±è¿‡æ¸¡åŠ¨ç”»


**ç”Ÿæ´»ä¾‹å­**ï¼šå°±åƒç¿»ä¹¦æ—¶çš„åŠ¨ç”»æ•ˆæœï¼Œä»ä¸€é¡µå¹³æ»‘åœ°è¿‡æ¸¡åˆ°å¦ä¸€é¡µï¼Œè€Œä¸æ˜¯çªç„¶è·³è½¬ã€‚

```
æ— åŠ¨ç”»åˆ‡æ¢ï¼š
é¦–é¡µ â†’ [ç¬é—´è·³è½¬] â†’ å…³äºé¡µé¢
ï¼ˆæ„Ÿè§‰ç”Ÿç¡¬ï¼Œä½“éªŒä¸å¥½ï¼‰

æœ‰åŠ¨ç”»åˆ‡æ¢ï¼š
é¦–é¡µ â†’ [æ·¡å‡ºåŠ¨ç”»] â†’ [æ·¡å…¥åŠ¨ç”»] â†’ å…³äºé¡µé¢
ï¼ˆæ„Ÿè§‰æµç•…ï¼Œä½“éªŒæ›´å¥½ï¼‰
```

### 3.2 åŸºç¡€è·¯ç”±åŠ¨ç”»


```vue
<!-- App.vue -->
<template>
  <div id="app">
    <!-- transitionåŒ…è£¹router-view -->
    <transition name="fade">
      <router-view />
    </transition>
  </div>
</template>

<style>
/* æ·¡å…¥æ·¡å‡ºåŠ¨ç”» */
.fade-enter-active, .fade-leave-active {
  transition: opacity 0.3s ease;
}
.fade-enter-from, .fade-leave-to {
  opacity: 0;
}
</style>
```

**åŠ¨ç”»ç±»åè§£é‡Š**ï¼š
- `fade-enter-active`ï¼šè¿›å…¥æ—¶çš„åŠ¨ç”»è¿‡ç¨‹
- `fade-leave-active`ï¼šç¦»å¼€æ—¶çš„åŠ¨ç”»è¿‡ç¨‹
- `fade-enter-from`ï¼šè¿›å…¥çš„èµ·å§‹çŠ¶æ€ï¼ˆé€æ˜ï¼‰
- `fade-leave-to`ï¼šç¦»å¼€çš„ç»“æŸçŠ¶æ€ï¼ˆé€æ˜ï¼‰

### 3.3 å¸¸ç”¨åŠ¨ç”»æ•ˆæœ


```vue
<style>
/* ğŸ”„ æ»‘åŠ¨åŠ¨ç”» */
.slide-enter-active, .slide-leave-active {
  transition: transform 0.3s ease;
}
.slide-enter-from {
  transform: translateX(100%);
}
.slide-leave-to {
  transform: translateX(-100%);
}

/* ğŸ“ ç¼©æ”¾åŠ¨ç”» */
.scale-enter-active, .scale-leave-active {
  transition: transform 0.3s ease;
}
.scale-enter-from, .scale-leave-to {
  transform: scale(0.8);
}

/* ğŸª æ—‹è½¬åŠ¨ç”» */
.rotate-enter-active, .rotate-leave-active {
  transition: all 0.5s ease;
}
.rotate-enter-from {
  transform: rotateY(-90deg);
  opacity: 0;
}
.rotate-leave-to {
  transform: rotateY(90deg);
  opacity: 0;
}
</style>
```

### 3.4 åŠ¨æ€åŠ¨ç”»åç§°


```vue
<template>
  <transition :name="transitionName">
    <router-view />
  </transition>
</template>

<script>
export default {
  computed: {
    transitionName() {
      // æ ¹æ®è·¯ç”±å±‚çº§å†³å®šåŠ¨ç”»æ–¹å‘
      if (this.$route.meta.index > this.prevIndex) {
        return 'slide-left'  // å‰è¿›ï¼šä»å³æ»‘å…¥
      } else {
        return 'slide-right' // åé€€ï¼šä»å·¦æ»‘å…¥
      }
    }
  }
}
</script>
```

---

## 4. ğŸ“ æ»šåŠ¨è¡Œä¸ºæ§åˆ¶ - ç²¾å‡†å®šä½å†…å®¹


### 4.1 æ»šåŠ¨è¡Œä¸ºçš„ä½œç”¨


**å®é™…é—®é¢˜**ï¼š
- ç”¨æˆ·åœ¨é¡µé¢åº•éƒ¨ç‚¹å‡»é“¾æ¥ï¼Œè·³è½¬åˆ°æ–°é¡µé¢è¿˜æ˜¯åœ¨åº•éƒ¨ä½ç½®
- ç”¨æˆ·å¸Œæœ›å›åˆ°ä¹‹å‰æµè§ˆçš„ä½ç½®
- ç‚¹å‡»é”šç‚¹é“¾æ¥å¸Œæœ›æ»šåŠ¨åˆ°æŒ‡å®šä½ç½®

### 4.2 åŸºç¡€æ»šåŠ¨æ§åˆ¶


```javascript
// router/index.js
const router = createRouter({
  history: createWebHistory(),
  routes,
  
  // æ»šåŠ¨è¡Œä¸ºé…ç½®
  scrollBehavior(to, from, savedPosition) {
    // ğŸ”™ å¦‚æœæœ‰ä¿å­˜çš„ä½ç½®ï¼ˆæµè§ˆå™¨å‰è¿›åé€€ï¼‰
    if (savedPosition) {
      return savedPosition
    }
    
    // ğŸ”— å¦‚æœæœ‰é”šç‚¹ï¼ˆ#section1ï¼‰
    if (to.hash) {
      return { el: to.hash }
    }
    
    // ğŸ” é»˜è®¤æ»šåŠ¨åˆ°é¡¶éƒ¨
    return { top: 0 }
  }
})
```

**å‚æ•°è¯´æ˜**ï¼š
- `to`ï¼šè¦è·³è½¬åˆ°çš„è·¯ç”±
- `from`ï¼šå½“å‰è·¯ç”±
- `savedPosition`ï¼šæµè§ˆå™¨è®°å½•çš„æ»šåŠ¨ä½ç½®ï¼ˆå‰è¿›åé€€æ—¶æœ‰å€¼ï¼‰

### 4.3 é«˜çº§æ»šåŠ¨æ§åˆ¶


```javascript
scrollBehavior(to, from, savedPosition) {
  // ğŸ”™ æµè§ˆå™¨å‰è¿›åé€€ï¼Œæ¢å¤ä¹‹å‰ä½ç½®
  if (savedPosition) {
    return savedPosition
  }
  
  // ğŸ”— é”šç‚¹è·³è½¬ï¼Œå¹³æ»‘æ»šåŠ¨
  if (to.hash) {
    return {
      el: to.hash,
      behavior: 'smooth'  // å¹³æ»‘æ»šåŠ¨
    }
  }
  
  // ğŸ“„ åŒä¸€é¡µé¢å†…çš„è·¯ç”±å˜åŒ–ï¼Œä¿æŒä½ç½®
  if (to.path === from.path) {
    return {}  // ä¸æ”¹å˜æ»šåŠ¨ä½ç½®
  }
  
  // ğŸ” å¼‚æ­¥æ»šåŠ¨åˆ°é¡¶éƒ¨ï¼ˆç­‰å¾…é¡µé¢æ¸²æŸ“å®Œæˆï¼‰
  return new Promise((resolve) => {
    setTimeout(() => {
      resolve({ top: 0, behavior: 'smooth' })
    }, 100)
  })
}
```

### 4.4 å®ç”¨æ»šåŠ¨æŠ€å·§


```javascript
// ğŸ¯ æ ¹æ®è·¯ç”±å…ƒä¿¡æ¯æ§åˆ¶æ»šåŠ¨
scrollBehavior(to, from, savedPosition) {
  if (savedPosition) {
    return savedPosition
  }
  
  // ç‰¹æ®Šé¡µé¢ä¿æŒä½ç½®
  if (to.meta.keepScrollPosition) {
    return {}
  }
  
  // è¯¦æƒ…é¡µæ»šåŠ¨åˆ°å†…å®¹åŒºåŸŸ
  if (to.meta.scrollToContent) {
    return { el: '#content', behavior: 'smooth' }
  }
  
  return { top: 0, behavior: 'smooth' }
}

// è·¯ç”±é…ç½®ä¸­æ·»åŠ å…ƒä¿¡æ¯
{
  path: '/article/:id',
  component: ArticleDetail,
  meta: { scrollToContent: true }
}
```

---

## 5. ğŸ’¾ è·¯ç”±ç¼“å­˜ç­–ç•¥ - æå‡äº¤äº’ä½“éªŒ


### 5.1 ä¸ºä»€ä¹ˆéœ€è¦è·¯ç”±ç¼“å­˜


**ç”¨æˆ·åœºæ™¯**ï¼š
- ç”¨æˆ·åœ¨åˆ—è¡¨é¡µæ»šåŠ¨åˆ°ç¬¬10é¡µ
- ç‚¹å‡»æŸä¸ªè¯¦æƒ…æŸ¥çœ‹
- è¿”å›åˆ—è¡¨é¡µæ—¶ï¼Œå¸Œæœ›è¿˜åœ¨ç¬¬10é¡µçš„ä½ç½®
- è€Œä¸æ˜¯é‡æ–°å›åˆ°ç¬¬1é¡µ

### 5.2 ä½¿ç”¨keep-aliveå®ç°ç¼“å­˜


```vue
<!-- App.vue -->
<template>
  <div id="app">
    <!-- ç¼“å­˜è·¯ç”±ç»„ä»¶ -->
    <router-view v-slot="{ Component }">
      <keep-alive :include="cachedViews">
        <component :is="Component" />
      </keep-alive>
    </router-view>
  </div>
</template>

<script>
export default {
  data() {
    return {
      // éœ€è¦ç¼“å­˜çš„ç»„ä»¶åç§°
      cachedViews: ['ProductList', 'UserProfile']
    }
  }
}
</script>
```

### 5.3 åŠ¨æ€æ§åˆ¶ç¼“å­˜


```vue
<template>
  <router-view v-slot="{ Component }">
    <keep-alive :include="cachedViews">
      <component :is="Component" :key="$route.fullPath" />
    </keep-alive>
  </router-view>
</template>

<script>
export default {
  computed: {
    cachedViews() {
      // æ ¹æ®è·¯ç”±å…ƒä¿¡æ¯å†³å®šæ˜¯å¦ç¼“å­˜
      return this.$route.matched
        .filter(route => route.meta.keepAlive)
        .map(route => route.components.default.name)
    }
  }
}
</script>
```

**è·¯ç”±é…ç½®**ï¼š
```javascript
{
  path: '/products',
  component: ProductList,
  meta: { keepAlive: true }  // æ ‡è®°éœ€è¦ç¼“å­˜
}
```

### 5.4 ç¼“å­˜ç”Ÿå‘½å‘¨æœŸ


```vue
<!-- ProductList.vue -->
<script>
export default {
  name: 'ProductList',
  
  // ğŸ“ ç»„ä»¶è¢«ç¼“å­˜æ—¶è°ƒç”¨
  activated() {
    console.log('é¡µé¢æ¿€æ´»ï¼Œå¯èƒ½éœ€è¦åˆ·æ–°æ•°æ®')
    // æ£€æŸ¥æ˜¯å¦éœ€è¦æ›´æ–°æ•°æ®
    this.checkDataUpdate()
  },
  
  // ğŸ“ ç»„ä»¶è¢«ç¼“å­˜éšè—æ—¶è°ƒç”¨
  deactivated() {
    console.log('é¡µé¢è¢«ç¼“å­˜')
    // å¯ä»¥åœ¨è¿™é‡Œä¿å­˜ç”¨æˆ·æ“ä½œçŠ¶æ€
  },
  
  methods: {
    checkDataUpdate() {
      // å¦‚æœæ•°æ®è¿‡æœŸï¼Œé‡æ–°è·å–
      const now = Date.now()
      if (now - this.lastUpdateTime > 5 * 60 * 1000) {  // 5åˆ†é’Ÿ
        this.fetchData()
      }
    }
  }
}
</script>
```

---

## 6. âš¡ è·¯ç”±æ€§èƒ½ä¼˜åŒ– - å®æˆ˜æŠ€å·§


### 6.1 é¢„åŠ è½½ä¼˜åŒ–


```javascript
// ğŸš€ è·¯ç”±é¢„åŠ è½½ï¼šé¼ æ ‡æ‚¬åœæ—¶é¢„åŠ è½½
const routes = [
  {
    path: '/products/:id',
    component: () => import(
      /* webpackChunkName: "product-detail" */
      /* webpackPrefetch: true */  // é¢„åŠ è½½æ ‡è®°
      '@/views/ProductDetail.vue'
    )
  }
]
```

### 6.2 è·¯ç”±å…ƒä¿¡æ¯ä¼˜åŒ–


```javascript
const routes = [
  {
    path: '/dashboard',
    component: () => import('@/views/Dashboard.vue'),
    meta: {
      title: 'æ§åˆ¶å°',
      requiresAuth: true,
      keepAlive: true,
      preload: ['UserInfo', 'Statistics']  // éœ€è¦é¢„åŠ è½½çš„æ•°æ®
    }
  }
]

// åœ¨è·¯ç”±å®ˆå«ä¸­ä½¿ç”¨å…ƒä¿¡æ¯
router.beforeEach((to, from, next) => {
  // è®¾ç½®é¡µé¢æ ‡é¢˜
  document.title = to.meta.title || 'é»˜è®¤æ ‡é¢˜'
  
  // é¢„åŠ è½½æ•°æ®
  if (to.meta.preload) {
    to.meta.preload.forEach(dataType => {
      store.dispatch(`preload${dataType}`)
    })
  }
  
  next()
})
```

### 6.3 ç»„ä»¶æ‹†åˆ†ä¼˜åŒ–


```vue
<!-- âŒ ä¸€ä¸ªå¤§ç»„ä»¶ï¼ŒåŠ è½½æ…¢ -->
<template>
  <div>
    <Header />
    <ProductList />    <!-- å¾ˆå¤§çš„å•†å“åˆ—è¡¨ -->
    <Reviews />        <!-- å¾ˆå¤§çš„è¯„è®ºåˆ—è¡¨ -->
    <Recommendations /> <!-- å¾ˆå¤§çš„æ¨èåˆ—è¡¨ -->
  </div>
</template>

<!-- âœ… æ‹†åˆ†æˆå¤šä¸ªå¼‚æ­¥ç»„ä»¶ -->
<template>
  <div>
    <Header />
    
    <!-- ä¸»è¦å†…å®¹ç«‹å³æ˜¾ç¤º -->
    <ProductList />
    
    <!-- æ¬¡è¦å†…å®¹å¼‚æ­¥åŠ è½½ -->
    <Suspense>
      <template #default>
        <AsyncReviews />
      </template>
      <template #fallback>
        <div>è¯„è®ºåŠ è½½ä¸­...</div>
      </template>
    </Suspense>
    
    <Suspense>
      <template #default>
        <AsyncRecommendations />
      </template>
      <template #fallback>
        <div>æ¨èåŠ è½½ä¸­...</div>
      </template>
    </Suspense>
  </div>
</template>

<script>
export default {
  components: {
    AsyncReviews: () => import('./components/Reviews.vue'),
    AsyncRecommendations: () => import('./components/Recommendations.vue')
  }
}
</script>
```

### 6.4 æ€§èƒ½ç›‘æ§


```javascript
// è·¯ç”±æ€§èƒ½ç›‘æ§
router.beforeEach((to, from, next) => {
  // è®°å½•å¼€å§‹æ—¶é—´
  to.meta.startTime = performance.now()
  next()
})

router.afterEach((to, from) => {
  // è®¡ç®—è·¯ç”±åˆ‡æ¢è€—æ—¶
  const loadTime = performance.now() - to.meta.startTime
  
  // å‘é€æ€§èƒ½æ•°æ®ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰
  if (loadTime > 1000) {  // è¶…è¿‡1ç§’çš„æ…¢è·¯ç”±
    console.warn(`æ…¢è·¯ç”±æ£€æµ‹: ${to.path} è€—æ—¶ ${loadTime.toFixed(2)}ms`)
  }
})
```

---

## 7. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 7.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ è·¯ç”±æ‡’åŠ è½½ï¼šimport()åŠ¨æ€å¯¼å…¥ï¼ŒæŒ‰éœ€åŠ è½½é¡µé¢ä»£ç 
ğŸ”¸ å¼‚æ­¥ç»„ä»¶ï¼šåˆ†æ­¥åŠ è½½ç»„ä»¶ï¼Œæå‡é¦–é¡µé€Ÿåº¦
ğŸ”¸ è¿‡æ¸¡åŠ¨ç”»ï¼štransitionåŒ…è£¹router-viewï¼Œä¼˜åŒ–åˆ‡æ¢ä½“éªŒ
ğŸ”¸ æ»šåŠ¨è¡Œä¸ºï¼šscrollBehavioré…ç½®ï¼Œæ§åˆ¶é¡µé¢æ»šåŠ¨ä½ç½®
ğŸ”¸ è·¯ç”±ç¼“å­˜ï¼škeep-aliveç¼“å­˜ç»„ä»¶ï¼Œä¿æŒç”¨æˆ·çŠ¶æ€
ğŸ”¸ æ€§èƒ½ä¼˜åŒ–ï¼šé¢„åŠ è½½ã€ç»„ä»¶æ‹†åˆ†ã€ç›‘æ§ç­‰ç»¼åˆç­–ç•¥
```

### 7.2 å®é™…åº”ç”¨æŒ‡å¯¼


**ğŸ¯ ä½•æ—¶ä½¿ç”¨æ‡’åŠ è½½**ï¼š
- âœ… å¤§å‹åº”ç”¨ï¼Œé¡µé¢è¾ƒå¤š
- âœ… é¦–é¡µåŠ è½½é€Ÿåº¦è¦æ±‚é«˜
- âœ… ç”¨æˆ·ä¸ä¸€å®šè®¿é—®æ‰€æœ‰é¡µé¢

**ğŸ¯ ä½•æ—¶ä½¿ç”¨ç¼“å­˜**ï¼š
- âœ… åˆ—è¡¨é¡µé¢ï¼Œéœ€è¦ä¿æŒæ»šåŠ¨ä½ç½®
- âœ… è¡¨å•é¡µé¢ï¼Œé¿å…ç”¨æˆ·è¾“å…¥ä¸¢å¤±
- âœ… æ•°æ®è·å–æˆæœ¬é«˜çš„é¡µé¢

**ğŸ¯ åŠ¨ç”»ä½¿ç”¨å»ºè®®**ï¼š
- âœ… ç®€å•æµç•…çš„åŠ¨ç”»ï¼ˆ200-300msï¼‰
- âŒ è¿‡äºå¤æ‚çš„åŠ¨ç”»ï¼ˆå½±å“æ€§èƒ½ï¼‰
- âŒ ç§»åŠ¨ç«¯ä½¿ç”¨è¿‡å¤šåŠ¨ç”»ï¼ˆè€—ç”µï¼‰

### 7.3 æœ€ä½³å®è·µæ€»ç»“


```javascript
// ğŸ† å®Œæ•´çš„è·¯ç”±é…ç½®ç¤ºä¾‹
const router = createRouter({
  history: createWebHistory(),
  routes: [
    {
      path: '/',
      component: () => import('@/views/Home.vue'),
      meta: { title: 'é¦–é¡µ' }
    },
    {
      path: '/products',
      component: () => import(
        /* webpackChunkName: "products" */
        '@/views/ProductList.vue'
      ),
      meta: { 
        title: 'å•†å“åˆ—è¡¨',
        keepAlive: true,  // ç¼“å­˜åˆ—è¡¨çŠ¶æ€
        requiresAuth: false
      }
    }
  ],
  
  // æ»šåŠ¨è¡Œä¸º
  scrollBehavior(to, from, savedPosition) {
    if (savedPosition) return savedPosition
    if (to.hash) return { el: to.hash, behavior: 'smooth' }
    return { top: 0, behavior: 'smooth' }
  }
})

// å…¨å±€å®ˆå«
router.beforeEach((to, from, next) => {
  document.title = to.meta.title || 'My App'
  next()
})
```

**ğŸ§  è®°å¿†è¦ç‚¹**ï¼š
- **æ‡’åŠ è½½**ï¼šç”¨æ—¶å†è½½ï¼Œæå‡é¦–é¡µé€Ÿåº¦
- **å¼‚æ­¥ç»„ä»¶**ï¼šåˆ†æ­¥å±•ç¤ºï¼Œæ”¹å–„ç”¨æˆ·ä½“éªŒ  
- **è·¯ç”±åŠ¨ç”»**ï¼šå¹³æ»‘è¿‡æ¸¡ï¼Œè§†è§‰æ›´ä½³
- **æ»šåŠ¨æ§åˆ¶**ï¼šæ™ºèƒ½å®šä½ï¼Œç¬¦åˆé¢„æœŸ
- **ç»„ä»¶ç¼“å­˜**ï¼šä¿æŒçŠ¶æ€ï¼Œé¿å…é‡å¤åŠ è½½
- **æ€§èƒ½ä¼˜åŒ–**ï¼šé¢„åŠ è½½ã€ç›‘æ§ã€æ‹†åˆ†å¹¶ä¸¾

**ğŸ’¡ å®ç”¨æŠ€å·§**ï¼š
1. æ‡’åŠ è½½æŒ‰åŠŸèƒ½æ¨¡å—åˆ†ç»„æ‰“åŒ…
2. å¼‚æ­¥ç»„ä»¶é…ç½®loadingå’ŒerrorçŠ¶æ€
3. åŠ¨ç”»æ—¶é—´æ§åˆ¶åœ¨300msä»¥å†…
4. æ»šåŠ¨è¡Œä¸ºæ ¹æ®é¡µé¢ç±»å‹åŒºåˆ«å¤„ç†
5. ç¼“å­˜ç­–ç•¥ç»“åˆä¸šåŠ¡åœºæ™¯çµæ´»é…ç½®
6. æ€§èƒ½ç›‘æ§åŠæ—¶å‘ç°é—®é¢˜é¡µé¢