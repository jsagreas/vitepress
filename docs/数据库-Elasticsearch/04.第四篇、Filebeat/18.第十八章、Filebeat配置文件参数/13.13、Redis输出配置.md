---
title: 13ã€Redisè¾“å‡ºé…ç½®
---
## ğŸ“š ç›®å½•

1. [Redisè¾“å‡ºé…ç½®æ¦‚è¿°](#1-Redisè¾“å‡ºé…ç½®æ¦‚è¿°)
2. [åŸºç¡€è¿æ¥é…ç½®](#2-åŸºç¡€è¿æ¥é…ç½®)
3. [è®¤è¯ä¸æ•°æ®åº“é…ç½®](#3-è®¤è¯ä¸æ•°æ®åº“é…ç½®)
4. [æ•°æ®æ ¼å¼ä¸å­˜å‚¨æ–¹å¼](#4-æ•°æ®æ ¼å¼ä¸å­˜å‚¨æ–¹å¼)
5. [æ€§èƒ½ä¸å¯é æ€§é…ç½®](#5-æ€§èƒ½ä¸å¯é æ€§é…ç½®)
6. [å®Œæ•´é…ç½®ç¤ºä¾‹](#6-å®Œæ•´é…ç½®ç¤ºä¾‹)
7. [å¸¸è§é—®é¢˜ä¸æœ€ä½³å®è·µ](#7-å¸¸è§é—®é¢˜ä¸æœ€ä½³å®è·µ)
8. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#8-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ”— Redisè¾“å‡ºé…ç½®æ¦‚è¿°


### 1.1 ä»€ä¹ˆæ˜¯Redisè¾“å‡º


**ç®€å•ç†è§£**ï¼šRedisè¾“å‡ºå°±æ˜¯è®©FilebeatæŠŠæ”¶é›†åˆ°çš„æ—¥å¿—æ•°æ®å‘é€åˆ°Redisæ•°æ®åº“ä¸­å­˜å‚¨

```
æ—¥å¿—æµå‘ï¼š
åº”ç”¨ç¨‹åº â†’ æ—¥å¿—æ–‡ä»¶ â†’ Filebeatè¯»å– â†’ å‘é€åˆ°Redis â†’ å…¶ä»–ç¨‹åºè¯»å–å¤„ç†

å®é™…åº”ç”¨åœºæ™¯ï¼š
WebæœåŠ¡å™¨æ—¥å¿— â†’ Filebeat â†’ Redis â†’ Logstash â†’ Elasticsearch
```

### 1.2 ä¸ºä»€ä¹ˆé€‰æ‹©Redisä½œä¸ºè¾“å‡ºç›®æ ‡


**ğŸ”¸ Redisçš„ä¼˜åŠ¿**ï¼š
- **é«˜æ€§èƒ½**ï¼šå†…å­˜æ•°æ®åº“ï¼Œè¯»å†™é€Ÿåº¦æå¿«
- **ç¼“å†²ä½œç”¨**ï¼šä½œä¸ºä¸­é—´ç¼“å­˜ï¼Œé¿å…ç›´æ¥å†²å‡»åç«¯ç³»ç»Ÿ
- **æ•°æ®ç»“æ„ä¸°å¯Œ**ï¼šæ”¯æŒåˆ—è¡¨ã€å‘å¸ƒè®¢é˜…ç­‰å¤šç§æ•°æ®ç±»å‹
- **å¯é æ€§**ï¼šæ”¯æŒæŒä¹…åŒ–ï¼Œæ•°æ®ä¸æ˜“ä¸¢å¤±

**ğŸ’¡ å…¸å‹åº”ç”¨åœºæ™¯**ï¼š
```
åœºæ™¯1ï¼šæ—¥å¿—ç¼“å†²
Filebeat â†’ Redis â†’ Logstash â†’ Elasticsearch
Redisä½œä¸ºç¼“å†²å±‚ï¼Œé˜²æ­¢æ—¥å¿—é‡çªå¢å‹å®Elasticsearch

åœºæ™¯2ï¼šå®æ—¶æ—¥å¿—å¤„ç†
Filebeat â†’ Redis(å‘å¸ƒè®¢é˜…) â†’ å¤šä¸ªæ¶ˆè´¹è€…ç¨‹åº
å®æ—¶å¤„ç†å‘Šè­¦ã€ç»Ÿè®¡ç­‰
```

### 1.3 Redisè¾“å‡ºé…ç½®åŸºæœ¬ç»“æ„


```yaml
output.redis:
  hosts: ["localhost:6379"]    # RedisæœåŠ¡å™¨åœ°å€
  password: "your_password"    # å¯†ç (å¯é€‰)
  db: 0                       # æ•°æ®åº“ç¼–å·
  datatype: "list"            # æ•°æ®ç±»å‹
  key: "filebeat"             # å­˜å‚¨é”®å
  timeout: 5s                 # è¿æ¥è¶…æ—¶
  max_retries: 3              # æœ€å¤§é‡è¯•æ¬¡æ•°
```

---

## 2. ğŸŒ åŸºç¡€è¿æ¥é…ç½®


### 2.1 hostå‚æ•° - RedisæœåŠ¡å™¨åœ°å€


**ğŸ”¸ å‚æ•°ä½œç”¨**ï¼šæŒ‡å®šRedisæœåŠ¡å™¨çš„åœ°å€å’Œç«¯å£

```yaml
# å•ä¸ªRedisæœåŠ¡å™¨
output.redis:
  hosts: ["192.168.1.100:6379"]

# å¤šä¸ªRedisæœåŠ¡å™¨(é›†ç¾¤æˆ–ä¸»ä»)
output.redis:
  hosts: 
    - "redis1.example.com:6379"
    - "redis2.example.com:6379"
    - "redis3.example.com:6379"

# ä½¿ç”¨åŸŸå
output.redis:
  hosts: ["redis.company.com:6379"]
```

**ğŸ“‹ åœ°å€æ ¼å¼è¯´æ˜**ï¼š
```
æ ¼å¼ï¼šä¸»æœºå:ç«¯å£å·
ä¾‹å­ï¼š
- localhost:6379        # æœ¬åœ°Redisï¼Œé»˜è®¤ç«¯å£
- 10.0.1.50:6380       # æŒ‡å®šIPå’Œè‡ªå®šä¹‰ç«¯å£
- redis.example.com:6379 # ä½¿ç”¨åŸŸå
```

### 2.2 portå‚æ•° - ç«¯å£é…ç½®


**ğŸ”¸ å‚æ•°è¯´æ˜**ï¼šè™½ç„¶ç«¯å£é€šå¸¸åœ¨hostsä¸­æŒ‡å®šï¼Œä½†ä¹Ÿå¯ä»¥å•ç‹¬é…ç½®é»˜è®¤ç«¯å£

```yaml
output.redis:
  hosts: ["192.168.1.100"]  # ä¸æŒ‡å®šç«¯å£
  port: 6379                # ä½¿ç”¨é»˜è®¤ç«¯å£6379
```

**ğŸ’¡ ç«¯å£ä½¿ç”¨å»ºè®®**ï¼š
- **6379**ï¼šRedisé»˜è®¤ç«¯å£ï¼Œç”Ÿäº§ç¯å¢ƒå»ºè®®ä¿®æ”¹
- **è‡ªå®šä¹‰ç«¯å£**ï¼šæé«˜å®‰å…¨æ€§ï¼Œå¦‚6380ã€16379ç­‰
- **é˜²ç«å¢™é…ç½®**ï¼šç¡®ä¿FilebeatæœåŠ¡å™¨èƒ½è®¿é—®Redisç«¯å£

---

## 3. ğŸ” è®¤è¯ä¸æ•°æ®åº“é…ç½®


### 3.1 passwordå‚æ•° - å¯†ç è®¤è¯


**ğŸ”¸ å¯†ç é…ç½®**ï¼šRedisè®¾ç½®äº†å¯†ç æ—¶å¿…é¡»é…ç½®æ­¤å‚æ•°

```yaml
output.redis:
  hosts: ["redis.example.com:6379"]
  password: "your_secure_password"
```

**ğŸ”’ å®‰å…¨æœ€ä½³å®è·µ**ï¼š
```yaml
# æ–¹å¼1ï¼šç›´æ¥åœ¨é…ç½®æ–‡ä»¶ä¸­(ä¸æ¨èç”Ÿäº§ç¯å¢ƒ)
output.redis:
  password: "mypassword123"

# æ–¹å¼2ï¼šä½¿ç”¨ç¯å¢ƒå˜é‡(æ¨è)
output.redis:
  password: "${REDIS_PASSWORD}"

# æ–¹å¼3ï¼šä½¿ç”¨å¯†é’¥åº“(æœ€å®‰å…¨)
output.redis:
  password: "${REDIS_PASSWORD:keystore}"
```

### 3.2 dbå‚æ•° - æ•°æ®åº“é€‰æ‹©


**ğŸ”¸ æ•°æ®åº“ç¼–å·**ï¼šRedisé»˜è®¤æœ‰16ä¸ªæ•°æ®åº“(0-15)ï¼Œå¯ä»¥é€‰æ‹©å­˜å‚¨åˆ°å“ªä¸ªæ•°æ®åº“

```yaml
output.redis:
  db: 0    # ä½¿ç”¨é»˜è®¤æ•°æ®åº“
  db: 1    # ä½¿ç”¨1å·æ•°æ®åº“
  db: 15   # ä½¿ç”¨15å·æ•°æ®åº“
```

**ğŸ“Š æ•°æ®åº“ä½¿ç”¨å»ºè®®**ï¼š
```
æ•°æ®åº“åˆ†é…ç¤ºä¾‹ï¼š
db 0: ç”Ÿäº§ç¯å¢ƒæ—¥å¿—
db 1: æµ‹è¯•ç¯å¢ƒæ—¥å¿—  
db 2: å¼€å‘ç¯å¢ƒæ—¥å¿—
db 3: é”™è¯¯æ—¥å¿—ä¸“ç”¨
db 4: è®¿é—®æ—¥å¿—ä¸“ç”¨
```

---

## 4. ğŸ“„ æ•°æ®æ ¼å¼ä¸å­˜å‚¨æ–¹å¼


### 4.1 datatypeå‚æ•° - æ•°æ®ç±»å‹é€‰æ‹©


**ğŸ”¸ æ”¯æŒçš„æ•°æ®ç±»å‹**ï¼š

```yaml
# ç±»å‹1ï¼šlist (åˆ—è¡¨ï¼Œæœ€å¸¸ç”¨)
output.redis:
  datatype: "list"
  key: "filebeat-logs"

# ç±»å‹2ï¼šchannel (å‘å¸ƒè®¢é˜…)
output.redis:
  datatype: "channel"
  key: "log-channel"
```

### 4.2 listç±»å‹è¯¦è§£


**ğŸ’¡ å·¥ä½œåŸç†**ï¼šå°†æ—¥å¿—æ•°æ®æ¨é€åˆ°Redisåˆ—è¡¨çš„å°¾éƒ¨

```
Redisåˆ—è¡¨ç»“æ„ï¼š
key: "filebeat-logs"
â”œâ”€â”€ æ—¥å¿—è®°å½•1 (æœ€æ–°)
â”œâ”€â”€ æ—¥å¿—è®°å½•2
â”œâ”€â”€ æ—¥å¿—è®°å½•3
â””â”€â”€ æ—¥å¿—è®°å½•4 (æœ€æ—§)

æ“ä½œï¼šLPUSH key value (å·¦æ¨å…¥ï¼Œå³å–å‡º)
```

**é…ç½®ç¤ºä¾‹**ï¼š
```yaml
output.redis:
  hosts: ["localhost:6379"]
  datatype: "list"
  key: "web-access-logs"
  
# æ¶ˆè´¹ç«¯(å¦‚Logstash)å¯ä»¥ç”¨RPOPè·å–æ•°æ®
```

### 4.3 channelç±»å‹è¯¦è§£


**ğŸ’¡ å·¥ä½œåŸç†**ï¼šä½¿ç”¨Redisçš„å‘å¸ƒè®¢é˜…åŠŸèƒ½ï¼Œå®æ—¶æ¨é€æ—¥å¿—

```
å‘å¸ƒè®¢é˜…æ¨¡å¼ï¼š
Filebeat â†’ PUBLISH channel message â†’ Redis
                                   â†“
                            è®¢é˜…è€…1ã€è®¢é˜…è€…2æ¥æ”¶
```

**é…ç½®ç¤ºä¾‹**ï¼š
```yaml
output.redis:
  hosts: ["localhost:6379"]
  datatype: "channel"
  key: "realtime-alerts"
  
# æ¶ˆè´¹ç«¯éœ€è¦SUBSCRIBE realtime-alerts
```

### 4.4 keyå‚æ•° - é”®åé…ç½®


**ğŸ”¸ é”®åè®¾ç½®**ï¼šå†³å®šæ•°æ®åœ¨Redisä¸­çš„å­˜å‚¨ä½ç½®

```yaml
# å›ºå®šé”®å
output.redis:
  key: "filebeat-logs"

# åŠ¨æ€é”®å(æ ¹æ®å­—æ®µç”Ÿæˆ)
output.redis:
  key: "logs-%{[fields.env]}-%{[fields.service]}"
  # ç»“æœ: logs-prod-nginx, logs-test-apacheç­‰

# æ ¹æ®æ—¶é—´ç”Ÿæˆé”®å
output.redis:
  key: "logs-%{+yyyy.MM.dd}"
  # ç»“æœ: logs-2024.03.15
```

**ğŸ“‹ é”®åè®¾è®¡å»ºè®®**ï¼š
```
æŒ‰æœåŠ¡åˆ†ç±»ï¼š
- nginx-access-logs
- nginx-error-logs  
- mysql-slow-logs

æŒ‰ç¯å¢ƒåˆ†ç±»ï¼š
- prod-application-logs
- test-application-logs

æŒ‰æ—¶é—´åˆ†ç±»ï¼š
- logs-2024-03-15
- logs-2024-03-16
```

---

## 5. âš¡ æ€§èƒ½ä¸å¯é æ€§é…ç½®


### 5.1 timeoutå‚æ•° - è¶…æ—¶è®¾ç½®


**ğŸ”¸ è¶…æ—¶æ—¶é—´**ï¼šè®¾ç½®è¿æ¥Redisçš„è¶…æ—¶æ—¶é—´

```yaml
output.redis:
  timeout: 5s      # 5ç§’è¶…æ—¶
  timeout: 10s     # 10ç§’è¶…æ—¶
  timeout: 30s     # 30ç§’è¶…æ—¶
```

**â±ï¸ è¶…æ—¶è®¾ç½®å»ºè®®**ï¼š
```
ç½‘ç»œç¯å¢ƒ          å»ºè®®è¶…æ—¶æ—¶é—´
æœ¬åœ°ç½‘ç»œ          3-5ç§’
å±€åŸŸç½‘           5-10ç§’  
å…¬ç½‘è¿æ¥          10-30ç§’
ä¸ç¨³å®šç½‘ç»œ        30-60ç§’
```

### 5.2 max_retrieså‚æ•° - æœ€å¤§é‡è¯•æ¬¡æ•°


**ğŸ”¸ é‡è¯•æœºåˆ¶**ï¼šè¿æ¥å¤±è´¥æ—¶çš„é‡è¯•æ¬¡æ•°

```yaml
output.redis:
  max_retries: 3     # é‡è¯•3æ¬¡
  max_retries: 5     # é‡è¯•5æ¬¡
  max_retries: -1    # æ— é™é‡è¯•(ä¸æ¨è)
```

**ğŸ”„ é‡è¯•ç­–ç•¥è¯´æ˜**ï¼š
```
é‡è¯•è¿‡ç¨‹ï¼š
ç¬¬1æ¬¡å¤±è´¥ â†’ ç­‰å¾…1ç§’ â†’ é‡è¯•
ç¬¬2æ¬¡å¤±è´¥ â†’ ç­‰å¾…2ç§’ â†’ é‡è¯•  
ç¬¬3æ¬¡å¤±è´¥ â†’ ç­‰å¾…4ç§’ â†’ é‡è¯•
è¶…è¿‡max_retries â†’ æ”¾å¼ƒå¹¶æŠ¥é”™
```

### 5.3 å…¶ä»–æ€§èƒ½å‚æ•°


```yaml
output.redis:
  # æ‰¹é‡å‘é€é…ç½®
  bulk_max_size: 2048        # æ‰¹é‡å‘é€æœ€å¤§æ¡æ•°
  
  # è¿æ¥æ± é…ç½®
  worker: 2                  # å·¥ä½œçº¿ç¨‹æ•°
  
  # è´Ÿè½½å‡è¡¡
  loadbalance: true          # å¤šä¸ªRedisé—´è´Ÿè½½å‡è¡¡
```

---

## 6. ğŸ“‹ å®Œæ•´é…ç½®ç¤ºä¾‹


### 6.1 åŸºç¡€ç”Ÿäº§ç¯å¢ƒé…ç½®


```yaml
# ===== Filebeat Redisè¾“å‡ºé…ç½® =====
filebeat.inputs:
- type: log
  paths:
    - /var/log/nginx/access.log
  fields:
    service: nginx
    env: production

output.redis:
  # åŸºç¡€è¿æ¥é…ç½®
  hosts: ["redis.company.com:6379"]
  password: "${REDIS_PASSWORD}"
  db: 0
  
  # æ•°æ®å­˜å‚¨é…ç½®
  datatype: "list"
  key: "nginx-access-logs"
  
  # æ€§èƒ½é…ç½®
  timeout: 10s
  max_retries: 3
  bulk_max_size: 1024
  
  # å¯é€‰ï¼šè´Ÿè½½å‡è¡¡
  loadbalance: true

# æ—¥å¿—é…ç½®
logging.level: info
logging.to_files: true
logging.files:
  path: /var/log/filebeat
  name: filebeat
  keepfiles: 7
  permissions: 0644
```

### 6.2 å¤šç¯å¢ƒåŠ¨æ€é”®åé…ç½®


```yaml
filebeat.inputs:
- type: log
  paths:
    - /var/log/app/*.log
  fields:
    service: webapp
    env: production
  fields_under_root: true

output.redis:
  hosts: ["redis-cluster1:6379", "redis-cluster2:6379"]
  password: "${REDIS_PASSWORD}"
  db: 1
  
  # åŠ¨æ€é”®åï¼šæŒ‰ç¯å¢ƒå’ŒæœåŠ¡åˆ†ç±»
  datatype: "list"
  key: "logs-%{[env]}-%{[service]}-%{+yyyy.MM.dd}"
  
  timeout: 15s
  max_retries: 5
  worker: 3
```

### 6.3 å®æ—¶å‘Šè­¦é…ç½®(å‘å¸ƒè®¢é˜…)


```yaml
filebeat.inputs:
- type: log
  paths:
    - /var/log/app/error.log
  fields:
    log_type: error
    priority: high

# è¿‡æ»¤å™¨ï¼šåªå‘é€ERRORçº§åˆ«æ—¥å¿—
processors:
- include_fields:
    fields: ["@timestamp", "message", "fields"]

output.redis:
  hosts: ["redis.monitor.com:6379"]
  password: "${REDIS_PASSWORD}"
  db: 2
  
  # ä½¿ç”¨å‘å¸ƒè®¢é˜…æ¨¡å¼ï¼Œå®æ—¶æ¨é€å‘Šè­¦
  datatype: "channel"
  key: "error-alerts"
  
  timeout: 5s
  max_retries: 2
```

---

## 7. â“ å¸¸è§é—®é¢˜ä¸æœ€ä½³å®è·µ


### 7.1 å¸¸è§é”™è¯¯åŠè§£å†³æ–¹æ¡ˆ


**ğŸ”¸ è¿æ¥å¤±è´¥é—®é¢˜**

```yaml
# é”™è¯¯ä¿¡æ¯ï¼šconnection refused
# è§£å†³æ–¹æ¡ˆï¼š
1. æ£€æŸ¥RedisæœåŠ¡æ˜¯å¦å¯åŠ¨
   sudo systemctl status redis

2. æ£€æŸ¥ç½‘ç»œè¿é€šæ€§
   telnet redis.example.com 6379
   
3. æ£€æŸ¥é˜²ç«å¢™è®¾ç½®
   sudo ufw allow 6379
```

**ğŸ”¸ è®¤è¯å¤±è´¥é—®é¢˜**

```yaml
# é”™è¯¯ä¿¡æ¯ï¼šNOAUTH Authentication required
# è§£å†³æ–¹æ¡ˆï¼š
output.redis:
  password: "correct_password"  # ç¡®ä¿å¯†ç æ­£ç¡®
  
# æˆ–è€…ç¦ç”¨Rediså¯†ç (ä»…æµ‹è¯•ç¯å¢ƒ)
# åœ¨redis.confä¸­æ³¨é‡Š: # requirepass yourpassword
```

**ğŸ”¸ å†…å­˜ä¸è¶³é—®é¢˜**

```yaml
# é”™è¯¯ä¿¡æ¯ï¼šOOM command not allowed when used memory
# è§£å†³æ–¹æ¡ˆï¼š
1. å¢åŠ Rediså†…å­˜é™åˆ¶
   # redis.conf
   maxmemory 2gb
   
2. è®¾ç½®å†…å­˜æ·˜æ±°ç­–ç•¥
   maxmemory-policy allkeys-lru
   
3. åŠæ—¶æ¶ˆè´¹æ•°æ®ï¼Œé¿å…ç§¯å‹
```

### 7.2 æ€§èƒ½ä¼˜åŒ–å»ºè®®


**ğŸ“Š æ‰¹é‡å¤„ç†ä¼˜åŒ–**

```yaml
output.redis:
  bulk_max_size: 2048        # æ‰¹é‡å¤§å°(æ ¹æ®ç½‘ç»œè°ƒæ•´)
  timeout: 10s               # é€‚å½“çš„è¶…æ—¶æ—¶é—´
  worker: 2                  # å¹¶å‘å·¥ä½œçº¿ç¨‹
```

**ğŸ”„ è´Ÿè½½å‡è¡¡é…ç½®**

```yaml
output.redis:
  hosts: 
    - "redis1.example.com:6379"
    - "redis2.example.com:6379"
  loadbalance: true          # å¯ç”¨è´Ÿè½½å‡è¡¡
  max_retries: 3             # å¤±è´¥é‡è¯•
```

### 7.3 ç›‘æ§ä¸è¿ç»´


**ğŸ“ˆ Redisç›‘æ§æŒ‡æ ‡**

```bash
# Rediså‘½ä»¤è¡Œç›‘æ§
redis-cli info memory        # å†…å­˜ä½¿ç”¨æƒ…å†µ
redis-cli info stats         # ç»Ÿè®¡ä¿¡æ¯
redis-cli llen filebeat-logs # åˆ—è¡¨é•¿åº¦

# ç›‘æ§é”®çš„å¢é•¿é€Ÿåº¦
redis-cli --latency-history -i 1
```

**ğŸ” Filebeatæ—¥å¿—æ’æŸ¥**

```yaml
# å¼€å¯è°ƒè¯•æ—¥å¿—
logging.level: debug
logging.selectors: ["output"]

# æŸ¥çœ‹å‘é€ç»Ÿè®¡
curl -X GET 'localhost:5066/stats'
```

---

## 8. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 8.1 å¿…é¡»æŒæ¡çš„é…ç½®å‚æ•°


```yaml
ğŸ”¸ hosts: RedisæœåŠ¡å™¨åœ°å€å’Œç«¯å£
ğŸ”¸ password: Rediså¯†ç è®¤è¯
ğŸ”¸ db: æ•°æ®åº“ç¼–å·é€‰æ‹©(0-15)
ğŸ”¸ datatype: æ•°æ®ç±»å‹(list/channel)  
ğŸ”¸ key: å­˜å‚¨é”®å(æ”¯æŒåŠ¨æ€ç”Ÿæˆ)
ğŸ”¸ timeout: è¿æ¥è¶…æ—¶æ—¶é—´
ğŸ”¸ max_retries: æœ€å¤§é‡è¯•æ¬¡æ•°
```

### 8.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ æ•°æ®ç±»å‹é€‰æ‹©åŸåˆ™**
```
listç±»å‹ï¼š
âœ… é€‚åˆæ‰¹é‡å¤„ç†ã€ç¦»çº¿åˆ†æ
âœ… æ•°æ®æŒä¹…å­˜å‚¨ï¼Œæ¶ˆè´¹è€…å¯æŒ‰éœ€è·å–
âœ… æ”¯æŒå¤šä¸ªæ¶ˆè´¹è€…

channelç±»å‹ï¼š  
âœ… é€‚åˆå®æ—¶å¤„ç†ã€å‘Šè­¦é€šçŸ¥
âœ… å‘å¸ƒè®¢é˜…æ¨¡å¼ï¼Œå®æ—¶æ¨é€
âœ… æ•°æ®ä¸æŒä¹…åŒ–ï¼Œé”™è¿‡å°±æ²¡äº†
```

**ğŸ”¹ é”®åè®¾è®¡ç­–ç•¥**
```
å›ºå®šé”®åï¼šç®€å•ç›´æ¥ï¼Œé€‚åˆå•ä¸€ç”¨é€”
åŠ¨æ€é”®åï¼šçµæ´»åˆ†ç±»ï¼Œä¾¿äºæ•°æ®ç®¡ç†
æ—¶é—´é”®åï¼šæŒ‰æ—¶é—´åˆ†ç‰‡ï¼Œä¾¿äºå½’æ¡£æ¸…ç†
```

**ğŸ”¹ æ€§èƒ½è°ƒä¼˜é‡ç‚¹**
```
ç½‘ç»œå±‚é¢ï¼šåˆç†è®¾ç½®timeoutå’Œmax_retries
æ‰¹é‡å¤„ç†ï¼šè°ƒæ•´bulk_max_sizeæé«˜æ•ˆç‡
å¹¶å‘æ§åˆ¶ï¼šè®¾ç½®é€‚å½“çš„workeræ•°é‡
è´Ÿè½½å‡è¡¡ï¼šå¤šRediså®ä¾‹åˆ†æ‹…å‹åŠ›
```

### 8.3 å®é™…åº”ç”¨æŒ‡å¯¼


**ğŸ¯ å…¸å‹åº”ç”¨åœºæ™¯**

| åœºæ™¯ | **æ•°æ®ç±»å‹** | **é”®åç­–ç•¥** | **é…ç½®é‡ç‚¹** |
|------|-------------|-------------|-------------|
| **æ—¥å¿—æ”¶é›†** | `list` | `æŒ‰æœåŠ¡åˆ†ç±»` | `æ‰¹é‡å¤§å°ã€è¶…æ—¶æ—¶é—´` |
| **å®æ—¶ç›‘æ§** | `channel` | `æŒ‰å‘Šè­¦çº§åˆ«` | `ä½å»¶è¿Ÿã€å¿«é€Ÿé‡è¯•` |  
| **å¤šç¯å¢ƒ** | `list` | `ç¯å¢ƒ+æœåŠ¡` | `åŠ¨æ€é”®åã€æ•°æ®åº“åˆ†ç¦»` |
| **å½’æ¡£å­˜å‚¨** | `list` | `æ—¶é—´åˆ†ç‰‡` | `å¤§æ‰¹é‡ã€é•¿è¶…æ—¶` |

**âš ï¸ æ³¨æ„äº‹é¡¹**
```
ç”Ÿäº§ç¯å¢ƒï¼š
- å¿…é¡»è®¾ç½®å¯†ç è®¤è¯
- åˆç†è§„åˆ’æ•°æ®åº“ä½¿ç”¨
- å®šæœŸæ¸…ç†è¿‡æœŸæ•°æ®
- ç›‘æ§Rediså†…å­˜ä½¿ç”¨

å¼€å‘æµ‹è¯•ï¼š
- å¯ä»¥ä½¿ç”¨é»˜è®¤é…ç½®å¿«é€ŸéªŒè¯
- æ³¨æ„åŒºåˆ†ä¸åŒç¯å¢ƒçš„æ•°æ®
- é€‚å½“è°ƒè¯•æ—¥å¿—çº§åˆ«
```

**æ ¸å¿ƒè®°å¿†**ï¼š
- Redisè¾“å‡ºé…ç½®æ ¸å¿ƒæ˜¯**è¿æ¥**ã€**è®¤è¯**ã€**å­˜å‚¨æ–¹å¼**ä¸‰å¤§è¦ç´ 
- listç±»å‹é€‚åˆ**æ•°æ®æŒä¹…åŒ–**ï¼Œchannelç±»å‹é€‚åˆ**å®æ—¶æ¨é€**
- é”®åè®¾è®¡è¦è€ƒè™‘**æ•°æ®åˆ†ç±»**å’Œ**åç»­å¤„ç†**éœ€æ±‚  
- æ€§èƒ½ä¼˜åŒ–é‡ç‚¹æ˜¯**æ‰¹é‡å¤„ç†**å’Œ**åˆç†é‡è¯•**