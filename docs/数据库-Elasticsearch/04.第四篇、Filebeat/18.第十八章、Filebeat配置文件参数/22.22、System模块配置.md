---
title: 22ã€Systemæ¨¡å—é…ç½®
---
## ğŸ“š ç›®å½•

1. [Systemæ¨¡å—åŸºç¡€æ¦‚å¿µ](#1-Systemæ¨¡å—åŸºç¡€æ¦‚å¿µ)
2. [ç³»ç»Ÿæ—¥å¿—é…ç½®è¯¦è§£](#2-ç³»ç»Ÿæ—¥å¿—é…ç½®è¯¦è§£)
3. [è®¤è¯æ—¥å¿—é…ç½®è¯¦è§£](#3-è®¤è¯æ—¥å¿—é…ç½®è¯¦è§£)
4. [æ—¶åŒºå¤„ç†ä¸å­—æ®µè½¬æ¢](#4-æ—¶åŒºå¤„ç†ä¸å­—æ®µè½¬æ¢)
5. [æ•°æ®ç®¡é“ä¸å¤„ç†å™¨](#5-æ•°æ®ç®¡é“ä¸å¤„ç†å™¨)
6. [å®Œæ•´é…ç½®ç¤ºä¾‹](#6-å®Œæ•´é…ç½®ç¤ºä¾‹)
7. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#7-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ–¥ï¸ Systemæ¨¡å—åŸºç¡€æ¦‚å¿µ


### 1.1 ä»€ä¹ˆæ˜¯Systemæ¨¡å—


**é€šä¿—ç†è§£**ï¼šå°±åƒç»™ä½ çš„ç”µè„‘å®‰è£…ä¸€ä¸ª"æ—¥å¿—ç®¡å®¶"

```
ä¼ ç»Ÿæ‰‹å·¥æ–¹å¼ï¼š
æ‰‹åŠ¨æ‰¾æ—¥å¿—æ–‡ä»¶ â†’ æ‰‹åŠ¨è§£ææ ¼å¼ â†’ æ‰‹åŠ¨å‘é€åˆ°ES
ç¹çã€æ˜“é”™ã€æ•ˆç‡ä½

Systemæ¨¡å—æ–¹å¼ï¼š
å¯ç”¨æ¨¡å— â†’ è‡ªåŠ¨è¯†åˆ«æ ¼å¼ â†’ è‡ªåŠ¨è§£æå‘é€
ç®€å•ã€å‡†ç¡®ã€é«˜æ•ˆ
```

**ğŸ“– æ ¸å¿ƒå®šä¹‰**ï¼šSystemæ¨¡å—æ˜¯Filebeatå†…ç½®çš„é¢„é…ç½®æ¨¡å—ï¼Œä¸“é—¨ç”¨æ¥æ”¶é›†å’Œè§£æLinux/Unixç³»ç»Ÿçš„æ ‡å‡†æ—¥å¿—æ–‡ä»¶ã€‚

### 1.2 Systemæ¨¡å—è§£å†³ä»€ä¹ˆé—®é¢˜


**å®é™…åœºæ™¯ç±»æ¯”**ï¼š
```
å°±åƒé…’åº—çš„ç›‘æ§ç³»ç»Ÿï¼š
- éœ€è¦ç›‘æ§å®¢äººè¿›å‡ºï¼ˆç³»ç»Ÿç™»å½•æ—¥å¿—ï¼‰
- éœ€è¦ç›‘æ§å®‰å…¨äº‹ä»¶ï¼ˆè®¤è¯å¤±è´¥æ—¥å¿—ï¼‰
- éœ€è¦ç»Ÿä¸€æ ¼å¼è®°å½•ï¼ˆæ ‡å‡†åŒ–è§£æï¼‰
- éœ€è¦åŠæ—¶æŠ¥è­¦ï¼ˆå®æ—¶åˆ†æï¼‰
```

**ğŸ¯ ä¸»è¦ä½œç”¨**ï¼š
- **è‡ªåŠ¨æ”¶é›†**ï¼šç³»ç»Ÿæ—¥å¿—å’Œè®¤è¯æ—¥å¿—
- **æ™ºèƒ½è§£æ**ï¼šè‡ªåŠ¨è¯†åˆ«æ—¥å¿—æ ¼å¼å¹¶æå–å­—æ®µ
- **æ ‡å‡†åŒ–**ï¼šç»Ÿä¸€æ—¥å¿—æ ¼å¼ä¾¿äºåˆ†æ
- **å®æ—¶ç›‘æ§**ï¼šåŠæ—¶å‘ç°ç³»ç»Ÿå¼‚å¸¸

### 1.3 Systemæ¨¡å—åŒ…å«å“ªäº›å­æ¨¡å—


```
Systemæ¨¡å—æ¶æ„å›¾ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Systemæ¨¡å—    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ”¸ syslog     â”‚ â† ç³»ç»Ÿè¿è¡Œæ—¥å¿—
â”‚  ğŸ”¸ auth       â”‚ â† ç”¨æˆ·è®¤è¯æ—¥å¿—
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

syslogå­æ¨¡å—ï¼šæ”¶é›† /var/log/syslog, /var/log/messages ç­‰
authå­æ¨¡å—ï¼šæ”¶é›† /var/log/auth.log, /var/log/secure ç­‰
```

---

## 2. ğŸ“‹ ç³»ç»Ÿæ—¥å¿—é…ç½®è¯¦è§£


### 2.1 å¯ç”¨syslogå­æ¨¡å—


**ğŸ”§ åŸºç¡€å¯ç”¨æ–¹å¼**ï¼š

```yaml
filebeat.modules:
- module: system
  syslog:
    enabled: true  # å¯ç”¨ç³»ç»Ÿæ—¥å¿—æ”¶é›†
```

**é€šä¿—è§£é‡Š**ï¼šè¿™å°±åƒæ‰“å¼€ç”µè§†æœºçš„å¼€å…³ï¼Œ`enabled: true`è¡¨ç¤º"å¼€å§‹å·¥ä½œ"ã€‚

### 2.2 syslog.var.pathsè·¯å¾„é…ç½®


**ğŸ“ è·¯å¾„é…ç½®è¯¦è§£**ï¼š

```yaml
filebeat.modules:
- module: system
  syslog:
    enabled: true
    var.paths:
      - /var/log/syslog*      # Ubuntu/Debianç³»ç»Ÿæ—¥å¿—
      - /var/log/messages*    # CentOS/RHELç³»ç»Ÿæ—¥å¿—
      - /var/log/system.log*  # macOSç³»ç»Ÿæ—¥å¿—
```

**ğŸ’¡ è·¯å¾„é…ç½®è¯´æ˜**ï¼š

| æ“ä½œç³»ç»Ÿ | é»˜è®¤è·¯å¾„ | è¯´æ˜ |
|---------|----------|------|
| **Ubuntu/Debian** | `/var/log/syslog*` | åŒ…å«ç³»ç»Ÿè¿è¡Œã€æœåŠ¡çŠ¶æ€ç­‰ä¿¡æ¯ |
| **CentOS/RHEL** | `/var/log/messages*` | ç³»ç»Ÿå†…æ ¸ã€æœåŠ¡ã€ç¡¬ä»¶æ¶ˆæ¯ |
| **macOS** | `/var/log/system.log*` | ç³»ç»Ÿçº§åˆ«çš„æ—¥å¿—ä¿¡æ¯ |

**ğŸ” è·¯å¾„é€šé…ç¬¦è§£é‡Š**ï¼š
```
/var/log/syslog*  æ„æ€æ˜¯ï¼š
- /var/log/syslog          (å½“å‰æ—¥å¿—)
- /var/log/syslog.1        (æ˜¨å¤©çš„æ—¥å¿—)  
- /var/log/syslog.2.gz     (å‰å¤©çš„å‹ç¼©æ—¥å¿—)
- /var/log/syslog.3.gz     (æ›´æ—©çš„å‹ç¼©æ—¥å¿—)
```

### 2.3 syslogæ—¥å¿—å†…å®¹ç¤ºä¾‹


**ğŸ“ å…¸å‹ç³»ç»Ÿæ—¥å¿—é•¿ä»€ä¹ˆæ ·**ï¼š

```
Sep 21 10:15:23 web-server systemd[1]: Started SSH daemon
Sep 21 10:15:24 web-server kernel: [12345.678] USB disconnect
Sep 21 10:16:01 web-server CRON[2345]: (root) CMD (/usr/bin/updatedb)
```

**ğŸ” æ—¥å¿—å­—æ®µè§£æåçš„ç»“æœ**ï¼š
```json
{
  "timestamp": "2025-09-21T10:15:23.000Z",
  "hostname": "web-server",
  "program": "systemd",
  "pid": 1,
  "message": "Started SSH daemon",
  "severity": "info"
}
```

---

## 3. ğŸ” è®¤è¯æ—¥å¿—é…ç½®è¯¦è§£


### 3.1 å¯ç”¨authå­æ¨¡å—


**ğŸ”§ è®¤è¯æ—¥å¿—å¯ç”¨**ï¼š

```yaml
filebeat.modules:
- module: system
  auth:
    enabled: true  # å¯ç”¨è®¤è¯æ—¥å¿—æ”¶é›†
```

### 3.2 auth.var.pathsè·¯å¾„é…ç½®


**ğŸ—‚ï¸ è®¤è¯æ—¥å¿—è·¯å¾„é…ç½®**ï¼š

```yaml
filebeat.modules:
- module: system
  auth:
    enabled: true
    var.paths:
      - /var/log/auth.log*    # Ubuntu/Debianè®¤è¯æ—¥å¿—
      - /var/log/secure*      # CentOS/RHELè®¤è¯æ—¥å¿—
```

**ğŸ”’ è®¤è¯æ—¥å¿—åŒ…å«ä»€ä¹ˆä¿¡æ¯**ï¼š

| æ—¥å¿—ç±»å‹ | è®°å½•å†…å®¹ | é‡è¦æ€§ |
|---------|----------|--------|
| **ç™»å½•æˆåŠŸ** | ç”¨æˆ·åã€IPåœ°å€ã€æ—¶é—´ | ğŸŸ¢ æ­£å¸¸ç›‘æ§ |
| **ç™»å½•å¤±è´¥** | å¤±è´¥åŸå› ã€å°è¯•æ¬¡æ•° | ğŸŸ¡ å®‰å…¨è­¦å‘Š |
| **æƒé™æå‡** | sudoå‘½ä»¤æ‰§è¡Œè®°å½• | ğŸŸ  é‡ç‚¹å…³æ³¨ |
| **æš´åŠ›ç ´è§£** | çŸ­æ—¶é—´å¤§é‡å¤±è´¥å°è¯• | ğŸ”´ å®‰å…¨å¨èƒ |

### 3.3 authæ—¥å¿—å®é™…ç¤ºä¾‹


**ğŸ“ è®¤è¯æ—¥å¿—å®ä¾‹**ï¼š

```
Sep 21 10:20:15 web-server sshd[12345]: Accepted password for john from 192.168.1.100
Sep 21 10:21:30 web-server sudo: john : TTY=pts/0 ; PWD=/home/john ; USER=root ; COMMAND=/bin/ls
Sep 21 10:22:45 web-server sshd[12346]: Failed password for invalid user hacker from 1.2.3.4
```

**ğŸ” è§£æåçš„è®¤è¯äº‹ä»¶**ï¼š
```json
{
  "user": "john",
  "source_ip": "192.168.1.100", 
  "auth_result": "success",
  "auth_method": "password",
  "command": "/bin/ls"
}
```

---

## 4. ğŸŒ æ—¶åŒºå¤„ç†ä¸å­—æ®µè½¬æ¢


### 4.1 convert_timezoneæ—¶åŒºè½¬æ¢


**â° ä¸ºä»€ä¹ˆéœ€è¦æ—¶åŒºè½¬æ¢**ï¼š
```
é—®é¢˜åœºæ™¯ï¼š
æœåŠ¡å™¨åœ¨ç¾å›½ï¼ˆUTC-8ï¼‰â†’ æ—¥å¿—æ—¶é—´æ˜¯ç¾å›½æ—¶é—´
åˆ†æå›¢é˜Ÿåœ¨ä¸­å›½ï¼ˆUTC+8ï¼‰â†’ éœ€è¦çœ‹ä¸­å›½æ—¶é—´
ä¸è½¬æ¢å°±ä¼šæœ‰16å°æ—¶æ—¶å·®ï¼
```

**ğŸ”§ æ—¶åŒºè½¬æ¢é…ç½®**ï¼š

```yaml
filebeat.modules:
- module: system
  syslog:
    enabled: true
    var.convert_timezone: true  # å¯ç”¨æ—¶åŒºè½¬æ¢
```

**ğŸ’¡ æ—¶åŒºè½¬æ¢æ•ˆæœ**ï¼š
```
åŸå§‹æ—¥å¿—ï¼šSep 21 02:00:00 (æœåŠ¡å™¨æœ¬åœ°æ—¶é—´)
è½¬æ¢åï¼šSep 21 10:00:00 (åè°ƒä¸–ç•Œæ—¶ UTC)
```

### 4.2 processorså­—æ®µå¤„ç†å™¨


**ğŸ”§ å­—æ®µå¤„ç†å™¨çš„ä½œç”¨**ï¼šå°±åƒæ•°æ®çš„"åŠ å·¥å‚"ï¼Œå¯¹åŸå§‹æ—¥å¿—è¿›è¡Œå„ç§å¤„ç†ã€‚

**ğŸ“‹ å¸¸ç”¨å¤„ç†å™¨ç±»å‹**ï¼š

```yaml
processors:
  # 1. æ·»åŠ å­—æ®µ
  - add_fields:
      target: server
      fields:
        environment: production
        datacenter: beijing
        
  # 2. åˆ é™¤å­—æ®µ  
  - drop_fields:
      fields: ["agent.ephemeral_id", "agent.hostname"]
      
  # 3. é‡å‘½åå­—æ®µ
  - rename:
      fields:
        - from: "message"
          to: "original_message"
```

**ğŸ¯ å®é™…åº”ç”¨ç¤ºä¾‹**ï¼š
```yaml
filebeat.modules:
- module: system
  syslog:
    enabled: true
  processors:
    - add_fields:
        target: environment
        fields:
          env: production
          team: ops
    - drop_fields:
        fields: ["host.architecture", "host.os.build"]
```

---

## 5. ğŸ”„ æ•°æ®ç®¡é“ä¸å¤„ç†å™¨


### 5.1 ä»€ä¹ˆæ˜¯pipelinesæ•°æ®ç®¡é“


**é€šä¿—ç†è§£**ï¼šæ•°æ®ç®¡é“å°±åƒå·¥å‚çš„ç”Ÿäº§çº¿

```
åŸææ–™ï¼ˆåŸå§‹æ—¥å¿—ï¼‰â†’ ç”Ÿäº§çº¿å¤„ç† â†’ æˆå“ï¼ˆç»“æ„åŒ–æ•°æ®ï¼‰
                  â†“
              å„ä¸ªå·¥åºï¼š
              æ¸…æ´— â†’ è§£æ â†’ ä¸°å¯Œ â†’ æ ¼å¼åŒ–
```

**ğŸ“Š æ•°æ®ç®¡é“å·¥ä½œæµç¨‹**ï¼š
```
åŸå§‹æ—¥å¿— â†’ Filebeat â†’ Logstashç®¡é“ â†’ Elasticsearch
           â†“            â†“              â†“
        æ”¶é›†æ—¥å¿—      è§£æå¤„ç†        å­˜å‚¨æ£€ç´¢
```

### 5.2 pipelinesé…ç½®ç¤ºä¾‹


**ğŸ”§ ç®¡é“é…ç½®æ–¹å¼**ï¼š

```yaml
filebeat.modules:
- module: system
  syslog:
    enabled: true
  pipelines:
    - pipeline: system-syslog-pipeline  # æŒ‡å®šå¤„ç†ç®¡é“
```

**ğŸ’¡ ç®¡é“é…ç½®ä½œç”¨**ï¼š
- **æŒ‡å®šå¤„ç†é€»è¾‘**ï¼šå‘Šè¯‰Logstashç”¨å“ªå¥—è§„åˆ™å¤„ç†
- **æ•°æ®æ ‡å‡†åŒ–**ï¼šç»Ÿä¸€å­—æ®µåç§°å’Œæ ¼å¼
- **æ™ºèƒ½è§£æ**ï¼šè‡ªåŠ¨æå–IPã€æ—¶é—´æˆ³ç­‰ä¿¡æ¯

### 5.3 å¤„ç†å™¨ç»„åˆä½¿ç”¨


**ğŸ”§ å¤šä¸ªå¤„ç†å™¨ååŒå·¥ä½œ**ï¼š

```yaml
processors:
  # æ­¥éª¤1ï¼šæ·»åŠ ç¯å¢ƒæ ‡è¯†
  - add_fields:
      target: meta
      fields:
        env: production
        
  # æ­¥éª¤2ï¼šè§£æIPåœ°å€ä¿¡æ¯
  - script:
      lang: javascript
      source: >
        if (ctx.source && ctx.source.ip) {
          ctx.geo_location = "internal";
        }
        
  # æ­¥éª¤3ï¼šæ¸…ç†ä¸éœ€è¦çš„å­—æ®µ
  - drop_fields:
      fields: ["agent.version", "ecs.version"]
```

---

## 6. âš™ï¸ å®Œæ•´é…ç½®ç¤ºä¾‹


### 6.1 ç”Ÿäº§ç¯å¢ƒå®Œæ•´é…ç½®


```yaml
# ==================== Filebeat Systemæ¨¡å—é…ç½® ====================

filebeat.modules:
- module: system
  # ç³»ç»Ÿæ—¥å¿—é…ç½®
  syslog:
    enabled: true
    var.paths:
      - /var/log/syslog*
      - /var/log/messages*
    var.convert_timezone: true
    
  # è®¤è¯æ—¥å¿—é…ç½®  
  auth:
    enabled: true
    var.paths:
      - /var/log/auth.log*
      - /var/log/secure*
    var.convert_timezone: true

# ==================== å…¨å±€å¤„ç†å™¨é…ç½® ====================
processors:
  # æ·»åŠ ç¯å¢ƒä¿¡æ¯
  - add_fields:
      target: environment
      fields:
        env: production
        datacenter: beijing
        team: infrastructure
        
  # æ·»åŠ ä¸»æœºæ ‡è¯†
  - add_host_metadata:
      when.not.contains.tags: forwarded
      
  # æ¸…ç†æ•æ„Ÿå­—æ®µ
  - drop_fields:
      fields: 
        - "agent.ephemeral_id"
        - "host.mac"

# ==================== è¾“å‡ºé…ç½® ====================
output.elasticsearch:
  hosts: ["elasticsearch-01:9200", "elasticsearch-02:9200"]
  index: "filebeat-system-%{+yyyy.MM.dd}"
  template.settings:
    index.number_of_shards: 2
    index.number_of_replicas: 1

# ==================== æ—¥å¿—é…ç½® ====================
logging.level: info
logging.to_files: true
logging.files:
  path: /var/log/filebeat
  name: filebeat
  keepfiles: 7
  permissions: 0644
```

### 6.2 æµ‹è¯•ç¯å¢ƒç®€åŒ–é…ç½®


```yaml
# æµ‹è¯•ç¯å¢ƒ - ç®€åŒ–é…ç½®
filebeat.modules:
- module: system
  syslog:
    enabled: true
  auth:
    enabled: true

processors:
  - add_fields:
      target: environment
      fields:
        env: test

output.console:
  pretty: true  # æ§åˆ¶å°ç¾åŒ–è¾“å‡ºï¼Œä¾¿äºè°ƒè¯•

logging.level: debug  # è¯¦ç»†æ—¥å¿—ï¼Œä¾¿äºæ’æŸ¥é—®é¢˜
```

---

## 7. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 7.1 å¿…é¡»æŒæ¡çš„åŸºæœ¬æ¦‚å¿µ


```
ğŸ”¸ Systemæ¨¡å—ï¼šFilebeatå†…ç½®çš„ç³»ç»Ÿæ—¥å¿—æ”¶é›†æ¨¡å—
ğŸ”¸ syslogå­æ¨¡å—ï¼šæ”¶é›†ç³»ç»Ÿè¿è¡Œæ—¥å¿—ï¼ˆ/var/log/syslog, /var/log/messagesï¼‰
ğŸ”¸ authå­æ¨¡å—ï¼šæ”¶é›†ç”¨æˆ·è®¤è¯æ—¥å¿—ï¼ˆ/var/log/auth.log, /var/log/secureï¼‰
ğŸ”¸ var.pathsï¼šæŒ‡å®šæ—¥å¿—æ–‡ä»¶è·¯å¾„ï¼Œæ”¯æŒé€šé…ç¬¦
ğŸ”¸ convert_timezoneï¼šæ—¶åŒºè½¬æ¢ï¼Œç»Ÿä¸€æ—¶é—´æ ¼å¼
ğŸ”¸ processorsï¼šæ•°æ®å¤„ç†å™¨ï¼Œå¯¹æ—¥å¿—è¿›è¡ŒåŠ å·¥å¤„ç†
ğŸ”¸ pipelinesï¼šæ•°æ®ç®¡é“ï¼ŒæŒ‡å®šæ—¥å¿—çš„å¤„ç†æµç¨‹
```

### 7.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ æ¨¡å—åŒ–çš„ä¼˜åŠ¿**ï¼š
```
é¢„é…ç½® vs æ‰‹å·¥é…ç½®ï¼š
âœ… æ¨¡å—åŒ–ï¼šenabled: true å³å¯å·¥ä½œ
âŒ æ‰‹å·¥ï¼šéœ€è¦å†™å¤æ‚çš„æ­£åˆ™è¡¨è¾¾å¼è§£æ

å†…ç½®æ™ºèƒ½ vs æ‰‹åŠ¨è§£æï¼š
âœ… æ¨¡å—åŒ–ï¼šè‡ªåŠ¨è¯†åˆ«æ—¥å¿—æ ¼å¼
âŒ æ‰‹å·¥ï¼šéœ€è¦äº†è§£æ¯ç§æ—¥å¿—çš„å…·ä½“æ ¼å¼
```

**ğŸ”¹ è·¯å¾„é…ç½®çš„çµæ´»æ€§**ï¼š
```
é€šé…ç¬¦æ”¯æŒï¼š
/var/log/syslog*  â†’ åŒ…å«æ‰€æœ‰è½®è½¬çš„æ—¥å¿—æ–‡ä»¶
/var/log/auth.log* â†’ åŒ…å«å†å²è®¤è¯æ—¥å¿—

è·¨å¹³å°å…¼å®¹ï¼š
- Ubuntu: /var/log/syslog
- CentOS: /var/log/messages  
- macOS: /var/log/system.log
```

**ğŸ”¹ å¤„ç†å™¨çš„ç»„åˆä½¿ç”¨**ï¼š
```
æ•°æ®æµè½¬è¿‡ç¨‹ï¼š
åŸå§‹æ—¥å¿— â†’ å­—æ®µæ·»åŠ  â†’ æ•°æ®æ¸…æ´— â†’ æ ¼å¼è½¬æ¢ â†’ è¾“å‡ºå­˜å‚¨
         â†“         â†“        â†“         â†“
      add_fields  drop_fields  rename   è¾“å‡ºåˆ°ES
```

### 7.3 å®é™…åº”ç”¨ä»·å€¼


**ğŸ¯ å®‰å…¨ç›‘æ§åœºæ™¯**ï¼š
- **ç™»å½•ç›‘æ§**ï¼šå®æ—¶å‘ç°å¼‚å¸¸ç™»å½•è¡Œä¸º
- **æƒé™å®¡è®¡**ï¼šè·Ÿè¸ªsudoå‘½ä»¤æ‰§è¡Œè®°å½•
- **æ”»å‡»æ£€æµ‹**ï¼šè¯†åˆ«æš´åŠ›ç ´è§£å’Œå¼‚å¸¸è®¿é—®

**ğŸ“Š è¿ç»´ç›‘æ§åœºæ™¯**ï¼š
- **ç³»ç»Ÿå¥åº·**ï¼šç›‘æ§æœåŠ¡å¯åœã€é”™è¯¯æ—¥å¿—
- **æ€§èƒ½åˆ†æ**ï¼šåˆ†æç³»ç»Ÿè´Ÿè½½å’Œèµ„æºä½¿ç”¨
- **æ•…éšœæ’æŸ¥**ï¼šå¿«é€Ÿå®šä½ç³»ç»Ÿå¼‚å¸¸åŸå› 

**ğŸ’¼ åˆè§„å®¡è®¡åœºæ™¯**ï¼š
- **æ“ä½œè®°å½•**ï¼šå®Œæ•´çš„ç”¨æˆ·æ“ä½œå®¡è®¡è½¨è¿¹
- **æ•°æ®ä¿æŠ¤**ï¼šç¡®ä¿æ—¥å¿—æ•°æ®çš„å®Œæ•´æ€§
- **åˆè§„æŠ¥å‘Š**ï¼šè‡ªåŠ¨ç”Ÿæˆåˆè§„æ€§åˆ†ææŠ¥å‘Š

### 7.4 é…ç½®æœ€ä½³å®è·µ


**âœ… æ¨èåšæ³•**ï¼š
```
ğŸ”¸ å¯ç”¨æ—¶åŒºè½¬æ¢ï¼šé¿å…æ—¶é—´æ··ä¹±
ğŸ”¸ åˆç†é…ç½®è·¯å¾„ï¼šè¦†ç›–è½®è½¬æ—¥å¿—
ğŸ”¸ æ·»åŠ ç¯å¢ƒæ ‡è¯†ï¼šä¾¿äºåŒºåˆ†ä¸åŒç¯å¢ƒ
ğŸ”¸ æ¸…ç†æ•æ„Ÿå­—æ®µï¼šä¿æŠ¤éšç§ä¿¡æ¯
ğŸ”¸ é…ç½®é€‚å½“ç´¢å¼•ï¼šä¼˜åŒ–å­˜å‚¨å’Œæ£€ç´¢
```

**âš ï¸ æ³¨æ„äº‹é¡¹**ï¼š
```
ğŸ”¸ ç›‘æ§æ—¥å¿—æ–‡ä»¶æƒé™ï¼šç¡®ä¿Filebeatæœ‰è¯»å–æƒé™
ğŸ”¸ å¤„ç†æ—¥å¿—è½®è½¬ï¼šé…ç½®é€šé…ç¬¦åŒ…å«å†å²æ—¥å¿—
ğŸ”¸ æ§åˆ¶èµ„æºæ¶ˆè€—ï¼šé¿å…å¤„ç†è¿‡å¤šå†å²æ—¥å¿—
ğŸ”¸ æµ‹è¯•é…ç½®å˜æ›´ï¼šå…ˆåœ¨æµ‹è¯•ç¯å¢ƒéªŒè¯
```

**æ ¸å¿ƒè®°å¿†**ï¼š
- Systemæ¨¡å— = syslog + authï¼Œä¸€é”®æ”¶é›†ç³»ç»Ÿæ ¸å¿ƒæ—¥å¿—
- var.pathsé…ç½®æ—¥å¿—è·¯å¾„ï¼Œé€šé…ç¬¦æ”¯æŒè½®è½¬æ–‡ä»¶
- processorså¤„ç†æ•°æ®ï¼ŒpipelinesæŒ‡å®šæµç¨‹
- æ—¶åŒºè½¬æ¢å¾ˆé‡è¦ï¼Œæ ‡å‡†åŒ–æ—¶é—´ä¾¿äºåˆ†æ