---
title: 15ã€å¤„ç†å™¨é…ç½®åŸºç¡€
---
## ğŸ“š ç›®å½•

1. [å¤„ç†å™¨æ¦‚è¿°ä¸ä½œç”¨](#1-å¤„ç†å™¨æ¦‚è¿°ä¸ä½œç”¨)
2. [processorsé…ç½®æ®µè¯¦è§£](#2-processorsé…ç½®æ®µè¯¦è§£)
3. [å¤„ç†å™¨æ‰§è¡Œé¡ºåºæœºåˆ¶](#3-å¤„ç†å™¨æ‰§è¡Œé¡ºåºæœºåˆ¶)
4. [æ¡ä»¶åˆ¤æ–­é…ç½®(when)](#4-æ¡ä»¶åˆ¤æ–­é…ç½®when)
5. [add_fieldsæ·»åŠ å­—æ®µå¤„ç†å™¨](#5-add_fieldsæ·»åŠ å­—æ®µå¤„ç†å™¨)
6. [drop_fieldsåˆ é™¤å­—æ®µå¤„ç†å™¨](#6-drop_fieldsåˆ é™¤å­—æ®µå¤„ç†å™¨)
7. [renameé‡å‘½åå­—æ®µå¤„ç†å™¨](#7-renameé‡å‘½åå­—æ®µå¤„ç†å™¨)
8. [copy_fieldså¤åˆ¶å­—æ®µå¤„ç†å™¨](#8-copy_fieldså¤åˆ¶å­—æ®µå¤„ç†å™¨)
9. [convertç±»å‹è½¬æ¢å¤„ç†å™¨](#9-convertç±»å‹è½¬æ¢å¤„ç†å™¨)
10. [å¤„ç†å™¨ç»„åˆåº”ç”¨å®ä¾‹](#10-å¤„ç†å™¨ç»„åˆåº”ç”¨å®ä¾‹)
11. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#11-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ¯ å¤„ç†å™¨æ¦‚è¿°ä¸ä½œç”¨


### 1.1 ä»€ä¹ˆæ˜¯Filebeatå¤„ç†å™¨


**ğŸ”¸ åŸºæœ¬æ¦‚å¿µ**
```
å¤„ç†å™¨(Processors)å°±åƒæ•°æ®çš„"åŠ å·¥è½¦é—´"
ä½œç”¨ï¼šåœ¨æ•°æ®å‘é€åˆ°ç›®æ ‡ä¹‹å‰ï¼Œå¯¹æ—¥å¿—æ•°æ®è¿›è¡Œå„ç§å¤„ç†å’Œè½¬æ¢

å½¢è±¡ç†è§£ï¼š
åŸå§‹æ—¥å¿— â†’ å¤„ç†å™¨åŠ å·¥ â†’ æœ€ç»ˆè¾“å‡º
å°±åƒå·¥å‚æµæ°´çº¿ä¸€æ ·ï¼Œæ¯ä¸ªå¤„ç†å™¨è´Ÿè´£ä¸€é“å·¥åº
```

**ğŸ’¡ å¤„ç†å™¨çš„å®é™…ä»·å€¼**
- **æ•°æ®æ¸…æ´—**ï¼šå»æ‰ä¸éœ€è¦çš„å­—æ®µï¼Œå‡å°‘å­˜å‚¨ç©ºé—´
- **æ ¼å¼ç»Ÿä¸€**ï¼šå°†ä¸åŒæ ¼å¼çš„æ•°æ®è½¬æ¢æˆç»Ÿä¸€æ ¼å¼
- **ä¿¡æ¯å¢å¼º**ï¼šæ·»åŠ æœ‰ç”¨çš„æ ‡è¯†å­—æ®µ
- **ç±»å‹è½¬æ¢**ï¼šå°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å­—ç­‰åˆé€‚çš„æ•°æ®ç±»å‹

### 1.2 å¤„ç†å™¨åœ¨Filebeatä¸­çš„ä½ç½®


```
æ•°æ®æµå‘å›¾ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   åŸå§‹æ—¥å¿—   â”‚ â†’  â”‚  å¤„ç†å™¨å¤„ç†  â”‚ â†’  â”‚   è¾“å‡ºç›®æ ‡   â”‚
â”‚  (Input)    â”‚    â”‚ (Processors)â”‚    â”‚ (Output)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

å¤„ç†æ—¶æœºï¼š
- åœ¨æ—¥å¿—è¢«è¯»å–ä¹‹å
- åœ¨å‘é€åˆ°Elasticsearchæˆ–å…¶ä»–ç›®æ ‡ä¹‹å‰
- å¯ä»¥é…ç½®å¤šä¸ªå¤„ç†å™¨æŒ‰é¡ºåºæ‰§è¡Œ
```

### 1.3 å¸¸è§å¤„ç†å™¨ç±»å‹


| å¤„ç†å™¨ç±»å‹ | **ä¸»è¦åŠŸèƒ½** | **ä½¿ç”¨åœºæ™¯** |
|-----------|-------------|-------------|
| ğŸ·ï¸ **add_fields** | `æ·»åŠ æ–°å­—æ®µ` | `ç»™æ—¥å¿—æ·»åŠ ç¯å¢ƒæ ‡è¯†ã€æœåŠ¡åç§°ç­‰` |
| ğŸ—‘ï¸ **drop_fields** | `åˆ é™¤å­—æ®µ` | `å»æ‰æ•æ„Ÿä¿¡æ¯ã€å‡å°‘æ•°æ®é‡` |
| ğŸ”„ **rename** | `é‡å‘½åå­—æ®µ` | `ç»Ÿä¸€å­—æ®µå‘½åè§„èŒƒ` |
| ğŸ“‹ **copy_fields** | `å¤åˆ¶å­—æ®µ` | `å¤‡ä»½é‡è¦å­—æ®µã€åˆ›å»ºè¡ç”Ÿå­—æ®µ` |
| ğŸ”§ **convert** | `ç±»å‹è½¬æ¢` | `å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å­—ã€å¸ƒå°”å€¼ç­‰` |

---

## 2. âš™ï¸ processorsé…ç½®æ®µè¯¦è§£


### 2.1 é…ç½®ä½ç½®å’Œè¯­æ³•


**ğŸ“ é…ç½®æ–‡ä»¶ä¸­çš„ä½ç½®**
```yaml
# filebeat.yml é…ç½®ç¤ºä¾‹
filebeat.inputs:
- type: log
  paths:
    - /var/log/*.log
  
# å¤„ç†å™¨é…ç½®æ®µ - å¯ä»¥é…ç½®åœ¨å¤šä¸ªä½ç½®
processors:
  - add_fields:
      target: ""
      fields:
        environment: production
        
# ä¹Ÿå¯ä»¥é…ç½®åœ¨ç‰¹å®šinputä¸­
filebeat.inputs:
- type: log
  paths:
    - /var/log/app.log
  processors:
    - drop_fields:
        fields: ["host.name", "agent.version"]
```

### 2.2 å…¨å±€å¤„ç†å™¨vsè¾“å…¥å¤„ç†å™¨


**ğŸŒ å…¨å±€å¤„ç†å™¨é…ç½®**
```yaml
# å¯¹æ‰€æœ‰è¾“å…¥ç”Ÿæ•ˆçš„å¤„ç†å™¨
processors:
  - add_fields:
      fields:
        datacenter: "beijing"
        team: "backend"

filebeat.inputs:
- type: log
  paths: ["/var/log/app1.log"]
- type: log  
  paths: ["/var/log/app2.log"]
# ä¸¤ä¸ªè¾“å…¥éƒ½ä¼šè¢«æ·»åŠ datacenterå’Œteamå­—æ®µ
```

**ğŸ¯ è¾“å…¥çº§åˆ«å¤„ç†å™¨é…ç½®**
```yaml
filebeat.inputs:
- type: log
  paths: ["/var/log/nginx.log"]
  processors:
    - add_fields:
        fields:
          service: "nginx"
          log_type: "access"

- type: log
  paths: ["/var/log/mysql.log"]  
  processors:
    - add_fields:
        fields:
          service: "mysql"
          log_type: "error"
```

### 2.3 å¤„ç†å™¨é…ç½®è¯­æ³•è§„åˆ™


**ğŸ“ åŸºæœ¬è¯­æ³•æ ¼å¼**
```yaml
processors:
  - å¤„ç†å™¨åç§°:
      å‚æ•°1: å€¼1
      å‚æ•°2: å€¼2
      when:           # å¯é€‰çš„æ¡ä»¶åˆ¤æ–­
        æ¡ä»¶è¡¨è¾¾å¼
        
# å¤šä¸ªå¤„ç†å™¨ç¤ºä¾‹
processors:
  - add_fields:
      fields:
        environment: "prod"
  - drop_fields:
      fields: ["user_agent"]
  - rename:
      fields:
        - from: "old_name"
          to: "new_name"
```

---

## 3. ğŸ”„ å¤„ç†å™¨æ‰§è¡Œé¡ºåºæœºåˆ¶


### 3.1 æ‰§è¡Œé¡ºåºçš„é‡è¦æ€§


**âš¡ ä¸ºä»€ä¹ˆé¡ºåºå¾ˆé‡è¦**
```
å¤„ç†å™¨æŒ‰ç…§é…ç½®æ–‡ä»¶ä¸­çš„é¡ºåºä¾æ¬¡æ‰§è¡Œï¼Œå°±åƒå·¥å‚æµæ°´çº¿ï¼š

é”™è¯¯é¡ºåºç¤ºä¾‹ï¼š
1. å…ˆåˆ é™¤å­—æ®µ user_id
2. å†å°è¯•é‡å‘½å user_id â†’ customer_id  âŒ å¤±è´¥ï¼

æ­£ç¡®é¡ºåºç¤ºä¾‹ï¼š  
1. å…ˆé‡å‘½å user_id â†’ customer_id
2. å†åˆ é™¤ä¸éœ€è¦çš„å…¶ä»–å­—æ®µ âœ… æˆåŠŸï¼
```

### 3.2 é¡ºåºé…ç½®ç¤ºä¾‹


**âœ… åˆç†çš„å¤„ç†å™¨é¡ºåº**
```yaml
processors:
  # ç¬¬1æ­¥ï¼šå…ˆæ·»åŠ å¿…è¦çš„æ ‡è¯†å­—æ®µ
  - add_fields:
      fields:
        service_name: "web-api"
        environment: "production"
        
  # ç¬¬2æ­¥ï¼šé‡å‘½åéœ€è¦æ ‡å‡†åŒ–çš„å­—æ®µ      
  - rename:
      fields:
        - from: "usr"
          to: "user"
        - from: "msg"  
          to: "message"
          
  # ç¬¬3æ­¥ï¼šç±»å‹è½¬æ¢
  - convert:
      fields:
        - {from: "response_time", to: "response_time_ms", type: "float"}
        
  # ç¬¬4æ­¥ï¼šæœ€ååˆ é™¤ä¸éœ€è¦çš„å­—æ®µ
  - drop_fields:
      fields: ["host.os", "agent.version", "ecs.version"]
```

### 3.3 æ‰§è¡Œé¡ºåºéªŒè¯


**ğŸ” å¦‚ä½•éªŒè¯å¤„ç†å™¨æ˜¯å¦æŒ‰é¢„æœŸæ‰§è¡Œ**

é€šè¿‡Filebeatçš„æ—¥å¿—è¾“å‡ºæˆ–æµ‹è¯•æ¨¡å¼æ¥éªŒè¯ï¼š
```bash
# ä½¿ç”¨æµ‹è¯•æ¨¡å¼æŸ¥çœ‹å¤„ç†ç»“æœ
filebeat test output -c filebeat.yml

# æˆ–è€…æŸ¥çœ‹è¯¦ç»†æ—¥å¿—
filebeat -e -d "processors" -c filebeat.yml
```

---

## 4. ğŸ¯ æ¡ä»¶åˆ¤æ–­é…ç½®(when)


### 4.1 whenæ¡ä»¶çš„ä½œç”¨


**ğŸ”¸ æ¡ä»¶åˆ¤æ–­æœºåˆ¶**
```
whenæ¡ä»¶è®©å¤„ç†å™¨å˜å¾—"æ™ºèƒ½"
ä½œç”¨ï¼šåªæœ‰æ»¡è¶³ç‰¹å®šæ¡ä»¶æ—¶ï¼Œå¤„ç†å™¨æ‰ä¼šæ‰§è¡Œ

å®é™…åº”ç”¨ï¼š
- åªå¯¹ç‰¹å®šç±»å‹çš„æ—¥å¿—æ·»åŠ å­—æ®µ
- åªåˆ é™¤æŸäº›æœåŠ¡çš„æ•æ„Ÿå­—æ®µ  
- æ ¹æ®æ—¥å¿—çº§åˆ«è¿›è¡Œä¸åŒå¤„ç†
```

### 4.2 åŸºæœ¬æ¡ä»¶è¯­æ³•


**ğŸ“ å¸¸ç”¨æ¡ä»¶è¡¨è¾¾å¼**

| æ¡ä»¶ç±»å‹ | **è¯­æ³•ç¤ºä¾‹** | **è¯´æ˜** |
|---------|-------------|---------|
| ğŸ” **å­—æ®µç›¸ç­‰** | `equals: {message: "ERROR"}` | `messageå­—æ®µç­‰äº"ERROR"` |
| ğŸ” **å­—æ®µåŒ…å«** | `contains: {message: "failed"}` | `messageå­—æ®µåŒ…å«"failed"` |
| ğŸ” **æ­£åˆ™åŒ¹é…** | `regexp: {message: "^ERROR.*"}` | `messageä»¥"ERROR"å¼€å¤´` |
| ğŸ” **å­—æ®µå­˜åœ¨** | `has_fields: ["user_id"]` | `å­˜åœ¨user_idå­—æ®µ` |
| ğŸ” **é€»è¾‘ç»„åˆ** | `and: [æ¡ä»¶1, æ¡ä»¶2]` | `åŒæ—¶æ»¡è¶³å¤šä¸ªæ¡ä»¶` |

### 4.3 æ¡ä»¶åˆ¤æ–­å®ä¾‹


**ğŸª åŸºäºæ—¥å¿—çº§åˆ«çš„æ¡ä»¶å¤„ç†**
```yaml
processors:
  # åªç»™é”™è¯¯æ—¥å¿—æ·»åŠ å‘Šè­¦æ ‡è¯†
  - add_fields:
      when:
        regexp:
          message: "^(ERROR|FATAL)"
      fields:
        alert_level: "high"
        need_notification: true
        
  # åªç»™debugæ—¥å¿—æ·»åŠ è°ƒè¯•æ ‡è¯†      
  - add_fields:
      when:
        contains:
          message: "DEBUG"
      fields:
        log_level: "debug"
        retain_days: 7
```

**ğŸŒ åŸºäºæœåŠ¡åç§°çš„æ¡ä»¶å¤„ç†**
```yaml
processors:
  # åªå¯¹nginxè®¿é—®æ—¥å¿—è¿›è¡Œç‰¹æ®Šå¤„ç†
  - add_fields:
      when:
        and:
          - contains: {source: "nginx"}
          - contains: {message: "GET"}
      fields:
        request_type: "http_get"
        parse_required: true
        
  # æ•°æ®åº“æ—¥å¿—çš„ç‰¹æ®Šå¤„ç†        
  - drop_fields:
      when:
        contains: {source: "mysql"}
      fields: ["host.ip", "user.name"]  # å»æ‰æ•æ„Ÿä¿¡æ¯
```

### 4.4 å¤æ‚æ¡ä»¶ç»„åˆ


**ğŸ”§ å¤šæ¡ä»¶é€»è¾‘ç»„åˆ**
```yaml
processors:
  - add_fields:
      when:
        or:  # æ»¡è¶³ä»»ä¸€æ¡ä»¶å³å¯
          - and:  # åŒæ—¶æ»¡è¶³è¿™ä¸¤ä¸ªæ¡ä»¶
              - equals: {service: "payment"}
              - contains: {message: "transaction"}
          - and:  # æˆ–è€…åŒæ—¶æ»¡è¶³è¿™ä¸¤ä¸ªæ¡ä»¶
              - equals: {service: "order"}  
              - contains: {message: "created"}
      fields:
        business_critical: true
        monitor_priority: "high"
```

---

## 5. ğŸ·ï¸ add_fieldsæ·»åŠ å­—æ®µå¤„ç†å™¨


### 5.1 add_fieldsåŸºæœ¬ç”¨æ³•


**ğŸ”¸ æ ¸å¿ƒåŠŸèƒ½è¯´æ˜**
```
add_fieldså¤„ç†å™¨ç”¨äºç»™æ—¥å¿—è®°å½•æ·»åŠ æ–°çš„å­—æ®µ
å°±åƒç»™æ–‡ä»¶è´´æ ‡ç­¾ä¸€æ ·ï¼Œä¸ºæ—¥å¿—æ•°æ®æ·»åŠ é¢å¤–çš„æ ‡è¯†ä¿¡æ¯

å¸¸è§ç”¨é€”ï¼š
- æ·»åŠ ç¯å¢ƒæ ‡è¯†ï¼ˆå¼€å‘/æµ‹è¯•/ç”Ÿäº§ï¼‰
- æ·»åŠ æœåŠ¡åç§°å’Œç‰ˆæœ¬
- æ·»åŠ ä¸šåŠ¡ç›¸å…³çš„åˆ†ç±»æ ‡ç­¾
```

### 5.2 åŸºç¡€é…ç½®è¯­æ³•


**ğŸ“ æ ‡å‡†é…ç½®æ ¼å¼**
```yaml
processors:
  - add_fields:
      target: ""           # ç›®æ ‡è·¯å¾„ï¼Œ""è¡¨ç¤ºæ ¹çº§åˆ«
      fields:              # è¦æ·»åŠ çš„å­—æ®µ
        field1: value1
        field2: value2
      when:                # å¯é€‰çš„æ¡ä»¶åˆ¤æ–­
        æ¡ä»¶è¡¨è¾¾å¼
```

### 5.3 å®é™…åº”ç”¨ç¤ºä¾‹


**ğŸ¢ ç¯å¢ƒå’ŒæœåŠ¡æ ‡è¯†**
```yaml
processors:
  - add_fields:
      target: ""
      fields:
        environment: "production"      # ç¯å¢ƒæ ‡è¯†
        datacenter: "beijing"          # æ•°æ®ä¸­å¿ƒ
        service_name: "user-service"   # æœåŠ¡åç§°
        service_version: "v2.1.0"      # æœåŠ¡ç‰ˆæœ¬
        team: "backend-team"           # è´Ÿè´£å›¢é˜Ÿ
```

**ğŸ¯ ä¸šåŠ¡åˆ†ç±»æ ‡ç­¾**
```yaml
processors:
  - add_fields:
      when:
        contains: {source: "payment"}
      target: "business"     # æ·»åŠ åˆ°businesså­å¯¹è±¡ä¸‹
      fields:
        category: "financial"
        priority: "critical"
        compliance: "pci-dss"
        
  - add_fields:
      when:
        contains: {source: "user"}  
      target: "business"
      fields:
        category: "user-management"
        priority: "normal"
        data_sensitivity: "high"
```

### 5.4 åµŒå¥—å­—æ®µæ·»åŠ 


**ğŸ“Š åˆ›å»ºåµŒå¥—ç»“æ„**
```yaml
processors:
  - add_fields:
      target: "custom_meta"    # åˆ›å»ºè‡ªå®šä¹‰å…ƒæ•°æ®å¯¹è±¡
      fields:
        deployment:
          region: "asia-pacific"
          zone: "zone-a"
          cluster: "prod-cluster-01"
        monitoring:
          alert_enabled: true
          dashboard_url: "https://monitor.company.com"
          
# ç»“æœç»“æ„ï¼š
# {
#   "custom_meta": {
#     "deployment": {
#       "region": "asia-pacific",
#       "zone": "zone-a", 
#       "cluster": "prod-cluster-01"
#     },
#     "monitoring": {
#       "alert_enabled": true,
#       "dashboard_url": "https://monitor.company.com"
#     }
#   }
# }
```

---

## 6. ğŸ—‘ï¸ drop_fieldsåˆ é™¤å­—æ®µå¤„ç†å™¨


### 6.1 drop_fieldsæ ¸å¿ƒä½œç”¨


**ğŸ”¸ ä¸ºä»€ä¹ˆè¦åˆ é™¤å­—æ®µ**
```
åˆ é™¤ä¸éœ€è¦çš„å­—æ®µæœ‰å‡ ä¸ªé‡è¦åŸå› ï¼š
1. èŠ‚çœå­˜å‚¨ç©ºé—´ - å»æ‰æ— ç”¨æ•°æ®
2. ä¿æŠ¤éšç§ - åˆ é™¤æ•æ„Ÿä¿¡æ¯
3. æé«˜æ€§èƒ½ - å‡å°‘ä¼ è¾“å’Œç´¢å¼•çš„æ•°æ®é‡
4. ç®€åŒ–æ•°æ® - åªä¿ç•™å…³é”®ä¿¡æ¯
```

### 6.2 åŸºæœ¬é…ç½®è¯­æ³•


**ğŸ“ åˆ é™¤å­—æ®µçš„é…ç½®æ ¼å¼**
```yaml
processors:
  - drop_fields:
      fields: ["field1", "field2", "field3"]   # è¦åˆ é™¤çš„å­—æ®µåˆ—è¡¨
      when:                                     # å¯é€‰æ¡ä»¶
        æ¡ä»¶è¡¨è¾¾å¼
      ignore_missing: true                      # å¿½ç•¥ä¸å­˜åœ¨çš„å­—æ®µ
```

### 6.3 å¸¸è§åˆ é™¤åœºæ™¯


**ğŸ§¹ æ¸…ç†Filebeaté»˜è®¤å­—æ®µ**
```yaml
processors:
  - drop_fields:
      fields:
        - "agent.ephemeral_id"    # åˆ é™¤ä»£ç†ä¸´æ—¶ID
        - "agent.hostname"        # åˆ é™¤ä¸»æœºå
        - "agent.id"              # åˆ é™¤ä»£ç†ID
        - "agent.name"            # åˆ é™¤ä»£ç†åç§°
        - "agent.type"            # åˆ é™¤ä»£ç†ç±»å‹
        - "agent.version"         # åˆ é™¤ç‰ˆæœ¬ä¿¡æ¯
        - "ecs.version"           # åˆ é™¤ECSç‰ˆæœ¬
        - "host.architecture"     # åˆ é™¤ç³»ç»Ÿæ¶æ„
        - "host.containerized"    # åˆ é™¤å®¹å™¨åŒ–æ ‡è¯†
        - "host.name"             # åˆ é™¤ä¸»æœºå
        - "host.os.build"         # åˆ é™¤OSæ„å»ºä¿¡æ¯
        - "host.os.codename"      # åˆ é™¤OSä»£å·
        - "host.os.family"        # åˆ é™¤OSå®¶æ—
        - "host.os.kernel"        # åˆ é™¤å†…æ ¸ç‰ˆæœ¬
        - "host.os.name"          # åˆ é™¤OSåç§°
        - "host.os.platform"      # åˆ é™¤OSå¹³å°
        - "host.os.version"       # åˆ é™¤OSç‰ˆæœ¬
```

**ğŸ”’ åˆ é™¤æ•æ„Ÿä¿¡æ¯**
```yaml
processors:
  # åˆ é™¤å¯èƒ½åŒ…å«æ•æ„Ÿä¿¡æ¯çš„å­—æ®µ
  - drop_fields:
      when:
        equals: {service: "user-auth"}
      fields:
        - "user.password"         # åˆ é™¤å¯†ç å­—æ®µ
        - "user.email"            # åˆ é™¤é‚®ç®±
        - "user.phone"            # åˆ é™¤ç”µè¯
        - "request.headers.authorization"  # åˆ é™¤è®¤è¯å¤´
        - "request.headers.cookie"         # åˆ é™¤Cookie
```

### 6.4 æ¡ä»¶åˆ é™¤ç¤ºä¾‹


**ğŸ¯ æ ¹æ®ä¸åŒæ¡ä»¶åˆ é™¤ä¸åŒå­—æ®µ**
```yaml
processors:
  # åªåœ¨å¼€å‘ç¯å¢ƒåˆ é™¤æŸäº›å­—æ®µ
  - drop_fields:
      when:
        equals: {environment: "development"}
      fields: ["user.ip", "user.location"]
      
  # å¯¹ç‰¹å®šæ—¥å¿—çº§åˆ«åˆ é™¤è¯¦ç»†ä¿¡æ¯      
  - drop_fields:
      when:
        not:
          regexp: {message: "^(ERROR|WARN)"}
      fields: ["stack_trace", "debug_info", "memory_usage"]
      
  # åˆ é™¤å¤§æ–‡ä»¶è·¯å¾„ä¸­çš„æ•æ„Ÿè·¯å¾„ä¿¡æ¯
  - drop_fields:
      when:
        contains: {source: "/home/"}
      fields: ["log.file.path"]
      ignore_missing: true
```

---

## 7. ğŸ”„ renameé‡å‘½åå­—æ®µå¤„ç†å™¨


### 7.1 renameå¤„ç†å™¨çš„ä»·å€¼


**ğŸ”¸ ä¸ºä»€ä¹ˆéœ€è¦é‡å‘½åå­—æ®µ**
```
å­—æ®µé‡å‘½åçš„å¸¸è§åœºæ™¯ï¼š
1. ç»Ÿä¸€å‘½åè§„èŒƒ - ä¸åŒç³»ç»Ÿçš„å­—æ®µåä¸ä¸€è‡´
2. ç¬¦åˆæ ‡å‡†æ ¼å¼ - éµå¾ªECS(Elastic Common Schema)è§„èŒƒ
3. ç®€åŒ–å­—æ®µå - å°†å¤æ‚çš„å­—æ®µåæ”¹ä¸ºç®€å•æ˜“æ‡‚çš„
4. é¿å…å­—æ®µå†²çª - é˜²æ­¢ä¸åŒæ•°æ®æºçš„å­—æ®µåå†²çª
```

### 7.2 åŸºæœ¬é…ç½®è¯­æ³•


**ğŸ“ é‡å‘½åé…ç½®æ ¼å¼**
```yaml
processors:
  - rename:
      fields:
        - from: "old_field_name"      # åŸå­—æ®µå
          to: "new_field_name"        # æ–°å­—æ®µå
        - from: "another_old"
          to: "another_new"
      ignore_missing: true            # å¿½ç•¥ä¸å­˜åœ¨çš„å­—æ®µ
      fail_on_error: false           # å‡ºé”™æ—¶ä¸åœæ­¢å¤„ç†
      when:                          # å¯é€‰æ¡ä»¶
        æ¡ä»¶è¡¨è¾¾å¼
```

### 7.3 å®é™…åº”ç”¨ç¤ºä¾‹


**ğŸ¢ ç»Ÿä¸€æ—¥å¿—å­—æ®µå‘½å**
```yaml
processors:
  - rename:
      fields:
        # æ ‡å‡†åŒ–æ—¶é—´å­—æ®µ
        - from: "timestamp"
          to: "@timestamp"
        - from: "time"  
          to: "@timestamp"
          
        # æ ‡å‡†åŒ–æ¶ˆæ¯å­—æ®µ  
        - from: "msg"
          to: "message"
        - from: "log_message"
          to: "message"
        - from: "content"
          to: "message"
          
        # æ ‡å‡†åŒ–çº§åˆ«å­—æ®µ
        - from: "level"
          to: "log.level"
        - from: "severity"
          to: "log.level"
        - from: "priority"
          to: "log.level"
```

**ğŸŒ WebæœåŠ¡å™¨æ—¥å¿—æ ‡å‡†åŒ–**
```yaml
processors:
  - rename:
      when:
        contains: {source: "nginx"}
      fields:
        # Nginxè®¿é—®æ—¥å¿—å­—æ®µé‡å‘½å
        - from: "remote_addr"
          to: "client.ip"
        - from: "request_method"  
          to: "http.request.method"
        - from: "request_uri"
          to: "url.path"
        - from: "status"
          to: "http.response.status_code"
        - from: "body_bytes_sent"
          to: "http.response.body.bytes"
        - from: "http_user_agent"
          to: "user_agent.original"
        - from: "http_referer"
          to: "http.request.referrer"
```

### 7.4 åµŒå¥—å­—æ®µé‡å‘½å


**ğŸ“Š å¤„ç†åµŒå¥—ç»“æ„çš„å­—æ®µ**
```yaml
processors:
  - rename:
      fields:
        # é‡å‘½ååµŒå¥—å­—æ®µ
        - from: "user.user_id"
          to: "user.id"
        - from: "user.user_name"  
          to: "user.name"
        - from: "request.request_id"
          to: "request.id"
          
        # å°†æ·±å±‚åµŒå¥—å­—æ®µæå‡åˆ°ä¸Šå±‚
        - from: "response.data.status"
          to: "response.status"
        - from: "metadata.service.name"
          to: "service.name"
      ignore_missing: true
```

---

## 8. ğŸ“‹ copy_fieldså¤åˆ¶å­—æ®µå¤„ç†å™¨


### 8.1 copy_fieldsçš„åº”ç”¨åœºæ™¯


**ğŸ”¸ ä¸ºä»€ä¹ˆéœ€è¦å¤åˆ¶å­—æ®µ**
```
å­—æ®µå¤åˆ¶çš„å¸¸è§ç”¨é€”ï¼š
1. å¤‡ä»½é‡è¦å­—æ®µ - é˜²æ­¢åç»­å¤„ç†è¯¯åˆ é™¤
2. åˆ›å»ºè¡ç”Ÿå­—æ®µ - åŸºäºåŸå­—æ®µåˆ›å»ºæ–°çš„åˆ†æç»´åº¦
3. æ ¼å¼è½¬æ¢å‡†å¤‡ - å¤åˆ¶åå¯¹å‰¯æœ¬è¿›è¡Œæ ¼å¼è½¬æ¢
4. å¤šé‡ç´¢å¼•éœ€æ±‚ - åŒä¸€æ•°æ®éœ€è¦ä¸åŒçš„å­—æ®µå
```

### 8.2 åŸºæœ¬é…ç½®è¯­æ³•


**ğŸ“ å¤åˆ¶å­—æ®µé…ç½®æ ¼å¼**
```yaml
processors:
  - copy_fields:
      fields:
        - from: "source_field"        # æºå­—æ®µ
          to: "target_field"          # ç›®æ ‡å­—æ®µ
        - from: "another_source"  
          to: "another_target"
      fail_on_error: false           # å‡ºé”™æ—¶ä¸åœæ­¢
      ignore_missing: true           # å¿½ç•¥ä¸å­˜åœ¨çš„å­—æ®µ
      when:                          # å¯é€‰æ¡ä»¶
        æ¡ä»¶è¡¨è¾¾å¼
```

### 8.3 å®é™…åº”ç”¨ç¤ºä¾‹


**ğŸ’¾ å¤‡ä»½å…³é”®å­—æ®µ**
```yaml
processors:
  # å¤‡ä»½é‡è¦å­—æ®µï¼Œé˜²æ­¢åç»­å¤„ç†ä¸¢å¤±
  - copy_fields:
      fields:
        - from: "message"
          to: "original_message"      # å¤‡ä»½åŸå§‹æ¶ˆæ¯
        - from: "user.id"
          to: "user_id_backup"        # å¤‡ä»½ç”¨æˆ·ID
        - from: "@timestamp"  
          to: "event_time_backup"     # å¤‡ä»½æ—¶é—´æˆ³
          
  # åç»­å¯ä»¥å®‰å…¨åœ°å¯¹åŸå­—æ®µè¿›è¡Œå¤„ç†
  - rename:
      fields:
        - from: "message"
          to: "processed_message"
```

**ğŸ“Š åˆ›å»ºåˆ†æå­—æ®µ**
```yaml
processors:
  # ä¸ºä¸åŒçš„åˆ†æéœ€æ±‚åˆ›å»ºå­—æ®µå‰¯æœ¬
  - copy_fields:
      when:
        contains: {source: "access.log"}
      fields:
        - from: "http.response.status_code"
          to: "response_code_for_monitoring"    # ç”¨äºç›‘æ§å‘Šè­¦
        - from: "http.response.status_code"  
          to: "response_code_for_analytics"     # ç”¨äºæ•°æ®åˆ†æ
        - from: "client.ip"
          to: "visitor_ip"                      # ç”¨äºè®¿å®¢åˆ†æ
        - from: "url.path"
          to: "page_path"                       # ç”¨äºé¡µé¢åˆ†æ
```

### 8.4 åµŒå¥—å­—æ®µå¤åˆ¶


**ğŸ—ï¸ å¤åˆ¶å’Œåˆ›å»ºåµŒå¥—ç»“æ„**
```yaml
processors:
  - copy_fields:
      fields:
        # å°†å¹³é“ºå­—æ®µå¤åˆ¶åˆ°åµŒå¥—ç»“æ„ä¸­
        - from: "user_id"
          to: "analytics.user.id"
        - from: "session_id"
          to: "analytics.session.id"  
        - from: "page_view_count"
          to: "analytics.metrics.page_views"
          
        # å¤åˆ¶åµŒå¥—å­—æ®µåˆ°å¹³é“ºç»“æ„ï¼ˆä¾¿äºæœç´¢ï¼‰
        - from: "request.headers.content-type"
          to: "content_type"
        - from: "response.data.items_count"  
          to: "items_count"
      ignore_missing: true
```

---

## 9. ğŸ”§ convertç±»å‹è½¬æ¢å¤„ç†å™¨


### 9.1 convertå¤„ç†å™¨çš„é‡è¦æ€§


**ğŸ”¸ ä¸ºä»€ä¹ˆéœ€è¦ç±»å‹è½¬æ¢**
```
æ•°æ®ç±»å‹è½¬æ¢çš„å¿…è¦æ€§ï¼š
1. æ€§èƒ½ä¼˜åŒ– - æ•°å­—ç±»å‹æ¯”å­—ç¬¦ä¸²æœç´¢æ›´å¿«
2. èšåˆåˆ†æ - åªæœ‰æ•°å­—ç±»å‹æ‰èƒ½è¿›è¡Œæ•°å­¦è¿ç®—
3. å­˜å‚¨ä¼˜åŒ– - æ­£ç¡®çš„ç±»å‹å ç”¨æ›´å°‘ç©ºé—´
4. æŸ¥è¯¢å‡†ç¡®æ€§ - é¿å…å­—ç¬¦ä¸²æ•°å­—æ¯”è¾ƒçš„é—®é¢˜

å¸¸è§é—®é¢˜ï¼š
âŒ "100" > "99"  â†’  false (å­—ç¬¦ä¸²æ¯”è¾ƒ)
âœ… 100 > 99     â†’  true  (æ•°å­—æ¯”è¾ƒ)
```

### 9.2 æ”¯æŒçš„æ•°æ®ç±»å‹


| ç›®æ ‡ç±»å‹ | **è¯´æ˜** | **ç¤ºä¾‹è½¬æ¢** |
|---------|---------|-------------|
| ğŸ”¢ **integer** | `æ•´æ•°` | `"123" â†’ 123` |
| ğŸ”¢ **long** | `é•¿æ•´æ•°` | `"1234567890" â†’ 1234567890` |
| ğŸ”¢ **float** | `æµ®ç‚¹æ•°` | `"3.14" â†’ 3.14` |
| ğŸ”¢ **double** | `åŒç²¾åº¦æµ®ç‚¹` | `"3.141592653" â†’ 3.141592653` |
| âœ… **boolean** | `å¸ƒå°”å€¼` | `"true" â†’ true, "1" â†’ true` |
| ğŸ“ **string** | `å­—ç¬¦ä¸²` | `123 â†’ "123"` |
| ğŸ• **ip** | `IPåœ°å€` | `éªŒè¯IPæ ¼å¼` |

### 9.3 åŸºæœ¬é…ç½®è¯­æ³•


**ğŸ“ ç±»å‹è½¬æ¢é…ç½®æ ¼å¼**
```yaml
processors:
  - convert:
      fields:
        - {from: "source_field", to: "target_field", type: "target_type"}
        - {from: "another_field", type: "integer"}  # åŸåœ°è½¬æ¢
      ignore_missing: true
      fail_on_error: false
      when:
        æ¡ä»¶è¡¨è¾¾å¼
```

### 9.4 å®é™…åº”ç”¨ç¤ºä¾‹


**ğŸ“Š Webè®¿é—®æ—¥å¿—ç±»å‹è½¬æ¢**
```yaml
processors:
  - convert:
      when:
        contains: {source: "access.log"}
      fields:
        # HTTPçŠ¶æ€ç è½¬ä¸ºæ•´æ•°
        - {from: "status", to: "http.response.status_code", type: "integer"}
        
        # å“åº”æ—¶é—´è½¬ä¸ºæµ®ç‚¹æ•°ï¼ˆæ¯«ç§’ï¼‰
        - {from: "request_time", to: "http.response.time_ms", type: "float"}
        
        # å“åº”å¤§å°è½¬ä¸ºé•¿æ•´æ•°
        - {from: "body_bytes_sent", to: "http.response.body.bytes", type: "long"}
        
        # æ˜¯å¦ä¸ºHTTPSè½¬ä¸ºå¸ƒå°”å€¼
        - {from: "https", type: "boolean"}
        
        # å®¢æˆ·ç«¯IPä¿æŒä¸ºIPç±»å‹
        - {from: "remote_addr", to: "client.ip", type: "ip"}
      ignore_missing: true
```

**ğŸ’° ä¸šåŠ¡æ•°æ®ç±»å‹è½¬æ¢**
```yaml
processors:
  - convert:
      when:
        equals: {service: "payment"}
      fields:
        # é‡‘é¢ç›¸å…³å­—æ®µè½¬æ¢
        - {from: "amount", type: "double"}           # äº¤æ˜“é‡‘é¢
        - {from: "fee", type: "double"}              # æ‰‹ç»­è´¹
        - {from: "discount", type: "double"}         # æŠ˜æ‰£é‡‘é¢
        
        # è®¡æ•°ç›¸å…³å­—æ®µè½¬æ¢  
        - {from: "quantity", type: "integer"}        # å•†å“æ•°é‡
        - {from: "user_id", type: "long"}            # ç”¨æˆ·ID
        - {from: "order_id", type: "long"}           # è®¢å•ID
        
        # çŠ¶æ€ç›¸å…³å­—æ®µè½¬æ¢
        - {from: "is_successful", type: "boolean"}   # æ˜¯å¦æˆåŠŸ
        - {from: "is_refund", type: "boolean"}       # æ˜¯å¦é€€æ¬¾
      fail_on_error: false
```

### 9.5 ç±»å‹è½¬æ¢æœ€ä½³å®è·µ


**âœ… è½¬æ¢æˆåŠŸçš„å…³é”®ç‚¹**
```yaml
processors:
  # 1. å…ˆæ¸…ç†æ•°æ®æ ¼å¼ï¼Œå†è¿›è¡Œè½¬æ¢
  - add_fields:
      target: ""
      fields:
        # é¢„å¤„ç†ï¼šå»æ‰å¯èƒ½çš„å•ä½åç¼€
        clean_response_time: ""
        
  # 2. ä½¿ç”¨æ¡ä»¶ç¡®ä¿å­—æ®µå­˜åœ¨ä¸”æ ¼å¼æ­£ç¡®
  - convert:
      when:
        and:
          - has_fields: ["response_time"]
          - regexp: {response_time: "^[0-9.]+$"}  # ç¡®ä¿æ˜¯æ•°å­—æ ¼å¼
      fields:
        - {from: "response_time", type: "float"}
      fail_on_error: false  # è½¬æ¢å¤±è´¥æ—¶ç»§ç»­å¤„ç†
      
  # 3. æä¾›é»˜è®¤å€¼å¤„ç†
  - add_fields:
      when:
        not:
          has_fields: ["response_time"]
      fields:
        response_time: 0.0
```

---

## 10. ğŸª å¤„ç†å™¨ç»„åˆåº”ç”¨å®ä¾‹


### 10.1 å®Œæ•´çš„æ—¥å¿—å¤„ç†æµæ°´çº¿


**ğŸ—ï¸ çœŸå®åœºæ™¯ï¼šç”µå•†ç½‘ç«™è®¿é—®æ—¥å¿—å¤„ç†**
```yaml
processors:
  # ç¬¬1æ­¥ï¼šæ·»åŠ åŸºç¡€æ ‡è¯†ä¿¡æ¯
  - add_fields:
      target: ""
      fields:
        environment: "production"
        service: "web-frontend"
        datacenter: "shanghai"
        log_type: "access"
        
  # ç¬¬2æ­¥ï¼šæ ‡å‡†åŒ–å­—æ®µå‘½å
  - rename:
      fields:
        - from: "remote_addr"
          to: "client_ip"
        - from: "time_local"  
          to: "request_time"
        - from: "request_method"
          to: "http_method"
        - from: "request_uri"
          to: "url_path"
        - from: "status"
          to: "response_code"
        - from: "body_bytes_sent"
          to: "response_size"
        - from: "http_referer"
          to: "referer"
        - from: "http_user_agent"
          to: "user_agent"
          
  # ç¬¬3æ­¥ï¼šå¤‡ä»½é‡è¦å­—æ®µ      
  - copy_fields:
      fields:
        - from: "client_ip"
          to: "visitor_ip_backup"
        - from: "url_path"  
          to: "page_path_analysis"
        - from: "response_code"
          to: "status_code_monitoring"
          
  # ç¬¬4æ­¥ï¼šæ•°æ®ç±»å‹è½¬æ¢
  - convert:
      fields:
        - {from: "response_code", type: "integer"}
        - {from: "response_size", type: "long"}  
        - {from: "request_time", to: "request_duration_ms", type: "float"}
      ignore_missing: true
      
  # ç¬¬5æ­¥ï¼šæ·»åŠ ä¸šåŠ¡åˆ†æå­—æ®µ
  - add_fields:
      when:
        regexp: {url_path: "^/api/"}
      target: "api_info"
      fields:
        is_api_request: true
        api_version: "v1"
        
  - add_fields:
      when:
        range: {response_code: {gte: 400, lt: 500}}
      fields:
        error_type: "client_error"
        needs_alert: true
        
  - add_fields:
      when:
        range: {response_code: {gte: 500}}  
      fields:
        error_type: "server_error"
        needs_alert: true
        priority: "high"
        
  # ç¬¬6æ­¥ï¼šæ¸…ç†ä¸éœ€è¦çš„å­—æ®µ
  - drop_fields:
      fields:
        - "agent.ephemeral_id"
        - "agent.hostname" 
        - "agent.id"
        - "agent.name"
        - "agent.type"
        - "agent.version"
        - "ecs.version"
        - "host.name"
        - "input.type"
      ignore_missing: true
```

### 10.2 åº”ç”¨é”™è¯¯æ—¥å¿—å¤„ç†


**ğŸš¨ Javaåº”ç”¨å¼‚å¸¸æ—¥å¿—å¤„ç†æµæ°´çº¿**
```yaml
processors:
  # è¯†åˆ«å’Œæ ‡è®°ä¸åŒç±»å‹çš„æ—¥å¿—
  - add_fields:
      when:
        regexp: {message: "^ERROR"}
      fields:
        log_level: "ERROR"
        severity: "high"
        alert_required: true
        
  - add_fields:
      when:
        regexp: {message: "^WARN"}  
      fields:
        log_level: "WARN"
        severity: "medium"
        
  - add_fields:
      when:
        regexp: {message: "^INFO"}
      fields:
        log_level: "INFO"  
        severity: "low"
        
  # æå–å¼‚å¸¸ç±»å‹
  - add_fields:
      when:
        regexp: {message: "Exception|Error"}
      target: "error_info"
      fields:
        has_exception: true
        
  # ç‰¹æ®Šå¼‚å¸¸çš„é¢å¤–å¤„ç†  
  - add_fields:
      when:
        contains: {message: "OutOfMemoryError"}
      target: "error_info"
      fields:
        exception_type: "memory"
        critical_level: "urgent"
        auto_restart_needed: true
        
  - add_fields:
      when:
        contains: {message: "SQLException"}
      target: "error_info"  
      fields:
        exception_type: "database"
        component: "data_layer"
        
  # æ¸…ç†æ•æ„Ÿä¿¡æ¯
  - drop_fields:
      when:
        equals: {log_level: "DEBUG"}
      fields: ["user.password", "database.connection_string"]
      ignore_missing: true
```

---

## 11. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 11.1 å¿…é¡»æŒæ¡çš„åŸºæœ¬æ¦‚å¿µ


```
ğŸ”¸ å¤„ç†å™¨æœ¬è´¨ï¼šæ•°æ®å¤„ç†çš„"æµæ°´çº¿å·¥äºº"ï¼Œè´Ÿè´£æ•°æ®è½¬æ¢å’Œæ¸…æ´—
ğŸ”¸ æ‰§è¡Œé¡ºåºï¼šæŒ‰é…ç½®æ–‡ä»¶é¡ºåºä¾æ¬¡æ‰§è¡Œï¼Œé¡ºåºå¾ˆé‡è¦
ğŸ”¸ æ¡ä»¶åˆ¤æ–­ï¼šwhenè¯­å¥è®©å¤„ç†å™¨å˜å¾—æ™ºèƒ½åŒ–ï¼ŒæŒ‰éœ€æ‰§è¡Œ
ğŸ”¸ é…ç½®ä½ç½®ï¼šå¯ä»¥é…ç½®åœ¨å…¨å±€æˆ–ç‰¹å®šè¾“å…¥çº§åˆ«
ğŸ”¸ é”™è¯¯å¤„ç†ï¼šé€šè¿‡ignore_missingå’Œfail_on_erroræ§åˆ¶å®¹é”™æ€§
```

### 11.2 å„å¤„ç†å™¨çš„æ ¸å¿ƒç”¨é€”


**ğŸ·ï¸ å­—æ®µæ“ä½œå¤„ç†å™¨**
- **add_fields**ï¼šç»™æ—¥å¿—æ·»åŠ æ ‡è¯†ã€åˆ†ç±»ã€å…ƒæ•°æ®ä¿¡æ¯
- **drop_fields**ï¼šåˆ é™¤æ•æ„Ÿä¿¡æ¯ã€æ— ç”¨å­—æ®µï¼ŒèŠ‚çœå­˜å‚¨ç©ºé—´
- **rename**ï¼šç»Ÿä¸€å­—æ®µå‘½åè§„èŒƒï¼Œç¬¦åˆæ ‡å‡†æ ¼å¼
- **copy_fields**ï¼šå¤‡ä»½é‡è¦å­—æ®µï¼Œåˆ›å»ºåˆ†æç»´åº¦
- **convert**ï¼šæ•°æ®ç±»å‹è½¬æ¢ï¼Œä¼˜åŒ–æŸ¥è¯¢å’Œèšåˆæ€§èƒ½

### 11.3 é…ç½®æœ€ä½³å®è·µ


**âœ… æ¨èçš„é…ç½®åŸåˆ™**
```
å¤„ç†å™¨é¡ºåºå®‰æ’ï¼š
1. å…ˆæ·»åŠ åŸºç¡€æ ‡è¯†å­—æ®µ
2. å†è¿›è¡Œå­—æ®µé‡å‘½å  
3. ç„¶åå¤åˆ¶éœ€è¦å¤‡ä»½çš„å­—æ®µ
4. æ¥ç€è¿›è¡Œç±»å‹è½¬æ¢
5. æœ€ååˆ é™¤ä¸éœ€è¦çš„å­—æ®µ

æ¡ä»¶åˆ¤æ–­ä½¿ç”¨ï¼š
- ç”¨æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…æ—¥å¿—æ ¼å¼
- ç”¨å­—æ®µå­˜åœ¨æ€§æ£€æŸ¥é¿å…é”™è¯¯
- ç”¨é€»è¾‘ç»„åˆå¤„ç†å¤æ‚åœºæ™¯

æ€§èƒ½ä¼˜åŒ–ï¼š
- åªå¯¹éœ€è¦çš„æ—¥å¿—åº”ç”¨å¤„ç†å™¨
- é¿å…è¿‡åº¦å¤æ‚çš„æ¡ä»¶åˆ¤æ–­
- åŠæ—¶åˆ é™¤ä¸éœ€è¦çš„å­—æ®µ
```

### 11.4 å¸¸è§é—®é¢˜é¿å…


**âš ï¸ éœ€è¦æ³¨æ„çš„é—®é¢˜**
```
é…ç½®é”™è¯¯ï¼š
âŒ å…ˆåˆ é™¤å­—æ®µå†é‡å‘½å â†’ æ‰¾ä¸åˆ°å­—æ®µ
âœ… å…ˆé‡å‘½åå†åˆ é™¤ä¸éœ€è¦çš„å­—æ®µ

ç±»å‹è½¬æ¢ï¼š  
âŒ ç›´æ¥è½¬æ¢å¯èƒ½åŒ…å«éæ•°å­—å­—ç¬¦çš„å­—æ®µ
âœ… å…ˆç”¨æ¡ä»¶æ£€æŸ¥æ ¼å¼ï¼Œå†è¿›è¡Œè½¬æ¢

å­—æ®µè·¯å¾„ï¼š
âŒ åµŒå¥—å­—æ®µè·¯å¾„å†™é”™ï¼šuser_info.name
âœ… æ­£ç¡®çš„åµŒå¥—è·¯å¾„ï¼šuser_info.name æˆ– "user_info.name"

æ¡ä»¶åˆ¤æ–­ï¼š
âŒ æ¡ä»¶è¿‡äºå¤æ‚ï¼Œå½±å“æ€§èƒ½
âœ… ç®€å•æ˜ç¡®çš„æ¡ä»¶åˆ¤æ–­
```

### 11.5 å®é™…åº”ç”¨å»ºè®®


**ğŸ’¡ ç”Ÿäº§ç¯å¢ƒä½¿ç”¨å»ºè®®**
```
å¼€å‘é˜¶æ®µï¼š
- ä½¿ç”¨æµ‹è¯•æ¨¡å¼éªŒè¯å¤„ç†å™¨æ•ˆæœ
- é€æ­¥æ·»åŠ å¤„ç†å™¨ï¼Œé¿å…ä¸€æ¬¡é…ç½®å¤ªå¤š
- ä¿ç•™åŸå§‹å­—æ®µï¼Œä¾¿äºè°ƒè¯•

ç”Ÿäº§éƒ¨ç½²ï¼š
- ç›‘æ§å¤„ç†å™¨çš„æ‰§è¡Œæ€§èƒ½
- å®šæœŸæ£€æŸ¥å¤„ç†åçš„æ•°æ®è´¨é‡  
- æ ¹æ®å®é™…éœ€æ±‚è°ƒæ•´å¤„ç†å™¨é…ç½®

ç»´æŠ¤ä¼˜åŒ–ï¼š
- å®šæœŸæ¸…ç†ä¸å†éœ€è¦çš„å¤„ç†å™¨
- ä¼˜åŒ–æ¡ä»¶åˆ¤æ–­æé«˜æ€§èƒ½
- æ ¹æ®ä¸šåŠ¡å˜åŒ–è°ƒæ•´å­—æ®µå¤„ç†é€»è¾‘
```

**æ ¸å¿ƒè®°å¿†å£è¯€**ï¼š
- å¤„ç†å™¨å¦‚æµæ°´çº¿ï¼Œé¡ºåºé…ç½®è¦åˆç†
- æ¡ä»¶åˆ¤æ–­å¾ˆé‡è¦ï¼Œç²¾å‡†æ§åˆ¶æ•ˆæœå¥½  
- å­—æ®µæ“ä½œæœ‰äº”ç§ï¼Œå¢åˆ æ”¹å¤æ¢ç±»å‹
- æµ‹è¯•éªŒè¯è¦å……åˆ†ï¼Œç”Ÿäº§ä½¿ç”¨æ‰æ”¾å¿ƒ