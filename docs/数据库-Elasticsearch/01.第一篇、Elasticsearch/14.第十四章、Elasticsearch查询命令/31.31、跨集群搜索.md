---
title: 31ã€è·¨é›†ç¾¤æœç´¢
---
## ğŸ“š ç›®å½•

1. [è·¨é›†ç¾¤æœç´¢åŸºç¡€æ¦‚å¿µ](#1-è·¨é›†ç¾¤æœç´¢åŸºç¡€æ¦‚å¿µ)
2. [è¿œç¨‹é›†ç¾¤é…ç½®ä¸ç®¡ç†](#2-è¿œç¨‹é›†ç¾¤é…ç½®ä¸ç®¡ç†)
3. [è·¨é›†ç¾¤æœç´¢å®è·µæ“ä½œ](#3-è·¨é›†ç¾¤æœç´¢å®è·µæ“ä½œ)
4. [è·¨é›†ç¾¤å¤åˆ¶ä¸åŒæ­¥](#4-è·¨é›†ç¾¤å¤åˆ¶ä¸åŒæ­¥)
5. [æ€§èƒ½ä¼˜åŒ–ä¸æ•…éšœæ’æŸ¥](#5-æ€§èƒ½ä¼˜åŒ–ä¸æ•…éšœæ’æŸ¥)
6. [å®é™…åº”ç”¨åœºæ™¯](#6-å®é™…åº”ç”¨åœºæ™¯)
7. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#7-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸŒ è·¨é›†ç¾¤æœç´¢åŸºç¡€æ¦‚å¿µ


### 1.1 ä»€ä¹ˆæ˜¯è·¨é›†ç¾¤æœç´¢


> ğŸ“– **æ ¸å¿ƒæ¦‚å¿µ**  
> è·¨é›†ç¾¤æœç´¢(Cross-Cluster Search, CCS)å…è®¸ä½ åœ¨ä¸€ä¸ªElasticsearché›†ç¾¤ä¸­æœç´¢å…¶ä»–è¿œç¨‹é›†ç¾¤çš„æ•°æ®ï¼Œå°±åƒæœç´¢æœ¬åœ°æ•°æ®ä¸€æ ·

ğŸ’¡ **ç”Ÿæ´»ç±»æ¯”**ï¼šæƒ³è±¡ä½ åœ¨åŒ—äº¬çš„å›¾ä¹¦é¦†æŸ¥ä¹¦ï¼Œä½†å¯ä»¥åŒæ—¶æŸ¥è¯¢ä¸Šæµ·ã€å¹¿å·å›¾ä¹¦é¦†çš„ä¹¦ç±ä¿¡æ¯ï¼Œè€Œä¸éœ€è¦äº²è‡ªè·‘åˆ°é‚£äº›åŸå¸‚

**æ ¸å¿ƒç‰¹ç‚¹**ï¼š
- ğŸ”¸ **ç»Ÿä¸€æŸ¥è¯¢**ï¼šä¸€æ¬¡æœç´¢å¯ä»¥è¦†ç›–å¤šä¸ªé›†ç¾¤
- ğŸ”¸ **å®æ—¶æœç´¢**ï¼šæ— éœ€æ•°æ®å¤åˆ¶ï¼Œç›´æ¥æŸ¥è¯¢è¿œç¨‹æ•°æ®
- ğŸ”¸ **é€æ˜æ“ä½œ**ï¼šä½¿ç”¨æ–¹å¼å’Œæœ¬åœ°æœç´¢å®Œå…¨ä¸€è‡´
- ğŸ”¸ **ç½‘ç»œä¼˜åŒ–**ï¼šåªä¼ è¾“å¿…è¦çš„æœç´¢ç»“æœï¼Œä¸æ˜¯å…¨é‡æ•°æ®

### 1.2 è·¨é›†ç¾¤æœç´¢çš„å·¥ä½œåŸç†


```
æœ¬åœ°é›†ç¾¤ (æŸ¥è¯¢å‘èµ·è€…)          è¿œç¨‹é›†ç¾¤ (æ•°æ®æä¾›è€…)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  åè°ƒèŠ‚ç‚¹       â”‚â†â”€é…ç½®â”€â”€â”€â†’â”‚   ä»»æ„èŠ‚ç‚¹      â”‚
â”‚                 â”‚           â”‚                 â”‚
â”‚  1.æ¥æ”¶æŸ¥è¯¢     â”‚â”€â”€æŸ¥è¯¢â”€â”€â†’â”‚  1.æ‰§è¡Œæœ¬åœ°æœç´¢ â”‚
â”‚  2.åˆ†å‘åˆ°è¿œç¨‹   â”‚           â”‚  2.è¿”å›ç»“æœæ‘˜è¦ â”‚
â”‚  3.åˆå¹¶ç»“æœ     â”‚â†â”€ç»“æœâ”€â”€â”€â”‚  3.æä¾›è¯¦ç»†æ•°æ® â”‚
â”‚  4.è¿”å›ç»™å®¢æˆ·ç«¯ â”‚           â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

ğŸ§  **è®°å¿†è¦ç‚¹**ï¼šè·¨é›†ç¾¤æœç´¢å°±æ˜¯"æœ¬åœ°åè°ƒ + è¿œç¨‹æ‰§è¡Œ + ç»“æœæ±‡æ€»"ä¸‰æ­¥èµ°

### 1.3 åº”ç”¨åœºæ™¯åˆ†æ


**å…¸å‹ä½¿ç”¨åœºæ™¯**ï¼š

```
ğŸ¢ **ä¼ä¸šå¤šæœºæˆ¿éƒ¨ç½²**
- åŒ—äº¬æœºæˆ¿ï¼šç”¨æˆ·æ•°æ®
- ä¸Šæµ·æœºæˆ¿ï¼šè®¢å•æ•°æ®  
- å¹¿å·æœºæˆ¿ï¼šæ—¥å¿—æ•°æ®
â†’ éœ€è¦è·¨æœºæˆ¿ç»Ÿä¸€æŸ¥è¯¢åˆ†æ

ğŸ“Š **æ•°æ®ä¸­å¿ƒæ•´åˆ**
- å†å²æ•°æ®é›†ç¾¤ï¼šå†·æ•°æ®å­˜å‚¨
- å®æ—¶æ•°æ®é›†ç¾¤ï¼šçƒ­æ•°æ®å¤„ç†
â†’ éœ€è¦è·¨æ—¶é—´æ®µæŸ¥è¯¢åˆ†æ

ğŸŒ **å¤šåŒºåŸŸæœåŠ¡**
- äºšæ´²é›†ç¾¤ï¼šäºšæ´²ç”¨æˆ·æ•°æ®
- æ¬§æ´²é›†ç¾¤ï¼šæ¬§æ´²ç”¨æˆ·æ•°æ®
- ç¾æ´²é›†ç¾¤ï¼šç¾æ´²ç”¨æˆ·æ•°æ®
â†’ éœ€è¦å…¨çƒæ•°æ®ç»Ÿä¸€è§†å›¾
```

---

## 2. ğŸ”§ è¿œç¨‹é›†ç¾¤é…ç½®ä¸ç®¡ç†


### 2.1 é…ç½®è¿œç¨‹é›†ç¾¤è¿æ¥


**åŸºç¡€é…ç½®å‘½ä»¤**ï¼š

```json
PUT /_cluster/settings
{
  "persistent": {
    "cluster.remote": {
      "cluster_beijing": {
        "seeds": ["beijing-node1:9300", "beijing-node2:9300"],
        "transport.ping_schedule": "30s",
        "transport.compress": true
      },
      "cluster_shanghai": {
        "seeds": ["shanghai-node1:9300", "shanghai-node2:9300"],
        "transport.ping_schedule": "30s"
      }
    }
  }
}
```

> ğŸ’¡ **é…ç½®è¯´æ˜**  
> - `seeds`ï¼šè¿œç¨‹é›†ç¾¤çš„èŠ‚ç‚¹åœ°å€ï¼ˆæ³¨æ„æ˜¯9300ç«¯å£ï¼Œä¸æ˜¯9200ï¼‰
> - `transport.ping_schedule`ï¼šå¿ƒè·³æ£€æµ‹é—´éš”
> - `transport.compress`ï¼šæ˜¯å¦å‹ç¼©ä¼ è¾“æ•°æ®

**ç®€åŒ–é…ç½®æ–¹å¼**ï¼š

```json
PUT /_cluster/settings
{
  "persistent": {
    "cluster.remote.cluster_beijing.seeds": ["beijing-node:9300"]
  }
}
```

### 2.2 æŸ¥çœ‹è¿œç¨‹é›†ç¾¤ä¿¡æ¯


**æŸ¥çœ‹æ‰€æœ‰è¿œç¨‹è¿æ¥**ï¼š

```bash
GET /_remote/info
```

**å“åº”ç¤ºä¾‹**ï¼š
```json
{
  "cluster_beijing": {
    "connected": true,
    "mode": "sniff",
    "seeds": ["beijing-node1:9300"],
    "num_nodes_connected": 3,
    "max_connections_per_cluster": 3,
    "initial_connect_timeout": "30s"
  }
}
```

**æŸ¥çœ‹é›†ç¾¤è¿æ¥è¯¦æƒ…**ï¼š

```bash
GET /_cluster/remote/info
```

ğŸ” **çŠ¶æ€è§£è¯»**ï¼š
- `connected: true` â†’ è¿æ¥æ­£å¸¸
- `num_nodes_connected: 3` â†’ å·²è¿æ¥3ä¸ªèŠ‚ç‚¹
- `mode: sniff` â†’ ä½¿ç”¨èŠ‚ç‚¹å—…æ¢æ¨¡å¼

### 2.3 ç®¡ç†è¿œç¨‹è¿æ¥


**æ–­å¼€è¿œç¨‹é›†ç¾¤**ï¼š

```json
POST /_cluster/remote/cluster_beijing/_disconnect
```

**é‡æ–°é…ç½®è¿œç¨‹é›†ç¾¤**ï¼š

```json
PUT /_cluster/settings
{
  "persistent": {
    "cluster.remote.cluster_beijing": null
  }
}
```

**åŠ¨æ€æ·»åŠ æ–°çš„è¿œç¨‹é›†ç¾¤**ï¼š

```json
PUT /_cluster/settings
{
  "persistent": {
    "cluster.remote.cluster_guangzhou.seeds": ["gz-node:9300"]
  }
}
```

---

## 3. ğŸ” è·¨é›†ç¾¤æœç´¢å®è·µæ“ä½œ


### 3.1 åŸºæœ¬è·¨é›†ç¾¤æœç´¢


**æœç´¢å•ä¸ªè¿œç¨‹é›†ç¾¤**ï¼š

```bash
GET /cluster_beijing:user_index/_search
{
  "query": {
    "match": {
      "name": "å¼ ä¸‰"
    }
  }
}
```

> ğŸ“– **è¯­æ³•è¯´æ˜**  
> æ ¼å¼ï¼š`{è¿œç¨‹é›†ç¾¤å}:{ç´¢å¼•å}/_search`  
> è¿™å°±åƒæ‰“ç”µè¯æ—¶è¦å…ˆæ‹¨åŒºå·ä¸€æ ·

**æœç´¢å¤šä¸ªè¿œç¨‹é›†ç¾¤**ï¼š

```bash
GET /cluster_beijing:user_*,cluster_shanghai:order_*/_search
{
  "query": {
    "range": {
      "create_time": {
        "gte": "2024-01-01"
      }
    }
  }
}
```

**æ··åˆæœ¬åœ°å’Œè¿œç¨‹æœç´¢**ï¼š

```bash
GET /local_logs,cluster_beijing:remote_logs/_search
{
  "query": {
    "bool": {
      "must": [
        {"term": {"level": "ERROR"}},
        {"range": {"@timestamp": {"gte": "now-1d"}}}
      ]
    }
  }
}
```

### 3.2 è·¨é›†ç¾¤é€šé…ç¬¦æœç´¢


**æœç´¢æ‰€æœ‰è¿œç¨‹é›†ç¾¤çš„åŒ¹é…ç´¢å¼•**ï¼š

```bash
GET /cluster_*:log_*/_search
{
  "query": {"match_all": {}},
  "size": 10
}
```

**ä½¿ç”¨å¤šä¸ªè¿œç¨‹é€šé…ç¬¦**ï¼š

```bash
GET /cluster_beijing:user_*,cluster_*:order_*/_search
{
  "query": {
    "term": {"status": "active"}
  }
}
```

### 3.3 è·¨é›†ç¾¤èšåˆåˆ†æ


**è·¨é›†ç¾¤æ•°æ®ç»Ÿè®¡**ï¼š

```bash
GET /cluster_*:sales_*/_search
{
  "size": 0,
  "aggs": {
    "sales_by_region": {
      "terms": {
        "field": "region",
        "size": 10
      },
      "aggs": {
        "total_amount": {
          "sum": {"field": "amount"}
        }
      }
    }
  }
}
```

**è·¨é›†ç¾¤æ—¶é—´èšåˆ**ï¼š

```bash
GET /cluster_*:metrics_*/_search
{
  "size": 0,
  "aggs": {
    "metrics_over_time": {
      "date_histogram": {
        "field": "@timestamp",
        "interval": "1h"
      },
      "aggs": {
        "avg_cpu": {"avg": {"field": "cpu_usage"}},
        "max_memory": {"max": {"field": "memory_usage"}}
      }
    }
  }
}
```

### 3.4 POSTæ–¹å¼è·¨é›†ç¾¤æœç´¢


**POSTè¯·æ±‚è·¨é›†ç¾¤æœç´¢**ï¼š

```bash
POST /cluster_beijing:product_index/_search
{
  "query": {
    "bool": {
      "must": [
        {"match": {"category": "electronics"}},
        {"range": {"price": {"gte": 100, "lte": 1000}}}
      ]
    }
  },
  "sort": [{"price": {"order": "desc"}}],
  "size": 20
}
```

---

## 4. ğŸ”„ è·¨é›†ç¾¤å¤åˆ¶ä¸åŒæ­¥


### 4.1 é…ç½®è·¨é›†ç¾¤å¤åˆ¶


**å¯ç”¨è·¨é›†ç¾¤å¤åˆ¶åŠŸèƒ½**ï¼š

```json
POST /_cluster/settings
{
  "persistent": {
    "cluster.remote.cluster_beijing.seeds": ["beijing:9300"],
    "xpack.ccr.enabled": true
  }
}
```

**åˆ›å»ºè·¨é›†ç¾¤å¤åˆ¶ç´¢å¼•**ï¼š

```bash
PUT /local_copy_index/_ccr/follow
{
  "remote_cluster": "cluster_beijing",
  "leader_index": "source_index",
  "settings": {
    "index.number_of_replicas": 1
  }
}
```

> ğŸ’¡ **å¤åˆ¶è¯´æ˜**  
> CCR(Cross-Cluster Replication)å…è®¸å°†è¿œç¨‹é›†ç¾¤çš„ç´¢å¼•å®æ—¶å¤åˆ¶åˆ°æœ¬åœ°é›†ç¾¤

### 4.2 ç®¡ç†å¤åˆ¶çŠ¶æ€


**æŸ¥çœ‹å¤åˆ¶çŠ¶æ€**ï¼š

```bash
GET /local_copy_index/_ccr/stats
```

**æš‚åœå¤åˆ¶**ï¼š

```bash
POST /local_copy_index/_ccr/pause_follow
```

**æ¢å¤å¤åˆ¶**ï¼š

```bash
POST /local_copy_index/_ccr/resume_follow
```

**åœæ­¢å¤åˆ¶**ï¼š

```bash
POST /local_copy_index/_ccr/unfollow
```

---

## 5. âš¡ æ€§èƒ½ä¼˜åŒ–ä¸æ•…éšœæ’æŸ¥


### 5.1 æ€§èƒ½ä¼˜åŒ–ç­–ç•¥


**è¿æ¥æ± ä¼˜åŒ–**ï¼š

```json
PUT /_cluster/settings
{
  "persistent": {
    "cluster.remote.cluster_beijing.transport.connections_per_cluster": 5,
    "cluster.remote.cluster_beijing.transport.compress": true,
    "cluster.remote.cluster_beijing.skip_unavailable": true
  }
}
```

ğŸ“Š **æ€§èƒ½å‚æ•°è¯´æ˜**ï¼š
- `connections_per_cluster: 5` â†’ æ¯ä¸ªé›†ç¾¤ä¿æŒ5ä¸ªè¿æ¥
- `compress: true` â†’ å¯ç”¨æ•°æ®å‹ç¼©å‡å°‘ç½‘ç»œä¼ è¾“
- `skip_unavailable: true` â†’ è·³è¿‡ä¸å¯ç”¨çš„é›†ç¾¤ç»§ç»­æœç´¢

**æœç´¢ä¼˜åŒ–æŠ€å·§**ï¼š

```bash
GET /cluster_*:large_index/_search
{
  "size": 100,
  "timeout": "10s",
  "_source": ["field1", "field2"],
  "query": {
    "bool": {
      "filter": [
        {"range": {"timestamp": {"gte": "now-1h"}}}
      ]
    }
  }
}
```

ğŸ¯ **ä¼˜åŒ–è¦ç‚¹**ï¼š
- é™åˆ¶è¿”å›å­—æ®µå‡å°‘ä¼ è¾“é‡
- è®¾ç½®è¶…æ—¶é¿å…é•¿æ—¶é—´ç­‰å¾…
- ä½¿ç”¨filteræé«˜æŸ¥è¯¢æ•ˆç‡
- æ§åˆ¶sizeå¤§å°

### 5.2 æ•…éšœæ’æŸ¥


**æ£€æŸ¥ç½‘ç»œè¿æ¥**ï¼š

```bash
GET /_cluster/health?level=cluster
```

**è¯Šæ–­è¿œç¨‹è¿æ¥**ï¼š

```bash
GET /_nodes/stats/transport
```

**å¸¸è§é—®é¢˜è§£å†³**ï¼š

| ğŸ” é—®é¢˜ç°è±¡ | ğŸš¨ å¯èƒ½åŸå›  | âœ… è§£å†³æ–¹æ¡ˆ |
|------------|------------|------------|
| `è¿æ¥è¶…æ—¶` | ç½‘ç»œä¸é€šæˆ–ç«¯å£é”™è¯¯ | æ£€æŸ¥9300ç«¯å£ï¼Œç¡®è®¤ç½‘ç»œè¿é€šæ€§ |
| `è®¤è¯å¤±è´¥` | å®‰å…¨é…ç½®ä¸åŒ¹é… | ç¡®è®¤ç”¨æˆ·æƒé™å’Œè¯ä¹¦é…ç½® |
| `é›†ç¾¤ä¸å¯ç”¨` | è¿œç¨‹é›†ç¾¤å®•æœº | è®¾ç½®skip_unavailableè·³è¿‡æ•…éšœé›†ç¾¤ |
| `æœç´¢ç¼“æ…¢` | ç½‘ç»œå»¶è¿Ÿé«˜ | å¯ç”¨å‹ç¼©ï¼Œå‡å°‘è¿”å›å­—æ®µ |

### 5.3 ç›‘æ§å‘Šè­¦


**ç›‘æ§å…³é”®æŒ‡æ ‡**ï¼š

```bash
GET /_cluster/stats
```

```bash
GET /_nodes/stats/transport
```

ğŸ“‹ **é‡è¦ç›‘æ§æŒ‡æ ‡**ï¼š
- â±ï¸ **ç½‘ç»œå»¶è¿Ÿ**ï¼štransport.rx_size_in_bytes
- ğŸ“Š **è¿æ¥æ•°é‡**ï¼štransport.server_open  
- ğŸ”„ **ä¼ è¾“é€Ÿç‡**ï¼štransport.tx_count
- âŒ **é”™è¯¯ç‡**ï¼štransport.rx_count vs æˆåŠŸè¯·æ±‚

---

## 6. ğŸ¯ å®é™…åº”ç”¨åœºæ™¯


### 6.1 å¤šæœºæˆ¿æ•°æ®åˆ†æ


**åœºæ™¯æè¿°**ï¼šå…¬å¸åœ¨åŒ—äº¬ã€ä¸Šæµ·ã€æ·±åœ³éƒ½æœ‰æœºæˆ¿ï¼Œéœ€è¦ç»Ÿä¸€åˆ†æå„åœ°ç”¨æˆ·è¡Œä¸º

```bash
# ç»Ÿä¸€æŸ¥è¯¢å„æœºæˆ¿ç”¨æˆ·æ´»è·ƒåº¦
GET /beijing:user_activity,shanghai:user_activity,shenzhen:user_activity/_search
{
  "size": 0,
  "aggs": {
    "activity_by_city": {
      "terms": {"field": "city"},
      "aggs": {
        "daily_active_users": {
          "cardinality": {"field": "user_id"}
        }
      }
    }
  }
}
```

### 6.2 å†å²æ•°æ®ä¸å®æ—¶æ•°æ®è”åˆæŸ¥è¯¢


**åœºæ™¯æè¿°**ï¼šå†å²è®¢å•å­˜å‚¨åœ¨å†·å­˜å‚¨é›†ç¾¤ï¼Œå®æ—¶è®¢å•åœ¨çƒ­é›†ç¾¤ï¼Œéœ€è¦ç»Ÿä¸€åˆ†æ

```bash
# æŸ¥è¯¢æŸç”¨æˆ·çš„å…¨éƒ¨è®¢å•å†å²
GET /hot_cluster:orders_current,cold_cluster:orders_history/_search
{
  "query": {
    "bool": {
      "must": [
        {"term": {"user_id": "user123"}},
        {"range": {"order_date": {"gte": "2023-01-01"}}}
      ]
    }
  },
  "sort": [{"order_date": {"order": "desc"}}]
}
```

### 6.3 ç¾å¤‡ä¸å®¹é”™åœºæ™¯


**ä¸»å¤‡é›†ç¾¤åˆ‡æ¢**ï¼š

```bash
# ä¸»é›†ç¾¤ä¸å¯ç”¨æ—¶ï¼Œè‡ªåŠ¨æŸ¥è¯¢å¤‡ä»½é›†ç¾¤
GET /main_cluster:important_data,backup_cluster:important_data/_search
{
  "query": {"match_all": {}},
  "timeout": "5s"
}
```

---

## 7. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 7.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒå‘½ä»¤


```bash
# ğŸ”§ é…ç½®ç®¡ç†
PUT /_cluster/settings          # é…ç½®è¿œç¨‹é›†ç¾¤
GET /_remote/info              # æŸ¥çœ‹è¿œç¨‹é›†ç¾¤ä¿¡æ¯
POST /_cluster/remote/{name}/_disconnect  # æ–­å¼€è¿æ¥

# ğŸ” è·¨é›†ç¾¤æœç´¢
GET /{remote}:{index}/_search   # åŸºæœ¬è·¨é›†ç¾¤æœç´¢
GET /{remote}:*/_search        # é€šé…ç¬¦æœç´¢
POST /{remote}:{index}/_search  # POSTæ–¹å¼æœç´¢

# ğŸ”„ å¤åˆ¶åŒæ­¥
PUT /{index}/_ccr/follow       # åˆ›å»ºè·¨é›†ç¾¤å¤åˆ¶
GET /{index}/_ccr/stats        # æŸ¥çœ‹å¤åˆ¶çŠ¶æ€
```

### 7.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ æ ¸å¿ƒæ¦‚å¿µç†è§£**ï¼š
- è·¨é›†ç¾¤æœç´¢æ˜¯"è¿œç¨‹æŸ¥è¯¢ + æœ¬åœ°æ±‡æ€»"
- è¯­æ³•æ ¼å¼ï¼š`è¿œç¨‹é›†ç¾¤å:ç´¢å¼•å`
- åªä¼ è¾“ç»“æœï¼Œä¸å¤åˆ¶å…¨é‡æ•°æ®

**ğŸ”¹ æ€§èƒ½ä¼˜åŒ–åŸåˆ™**ï¼š
- ç½‘ç»œæ˜¯ç“¶é¢ˆï¼Œè¦å‡å°‘ä¼ è¾“é‡
- ä½¿ç”¨è¿‡æ»¤æ¡ä»¶ç¼©å°æœç´¢èŒƒå›´  
- é™åˆ¶è¿”å›å­—æ®µå’Œç»“æœæ•°é‡
- å¯ç”¨å‹ç¼©æé«˜ä¼ è¾“æ•ˆç‡

**ğŸ”¹ å®¹é”™è®¾è®¡æ€è·¯**ï¼š
- è®¾ç½®`skip_unavailable`è·³è¿‡æ•…éšœé›†ç¾¤
- é…ç½®åˆç†çš„è¶…æ—¶æ—¶é—´
- ç›‘æ§ç½‘ç»œè¿æ¥çŠ¶æ€

### 7.3 å®é™…åº”ç”¨å»ºè®®


**âœ… é€‚ç”¨åœºæ™¯**ï¼š
- å¤šæœºæˆ¿ã€å¤šåŒºåŸŸæ•°æ®ç»Ÿä¸€æŸ¥è¯¢
- å†å²æ•°æ®ä¸å®æ—¶æ•°æ®è”åˆåˆ†æ
- ç¾å¤‡å’Œå®¹é”™åœºæ™¯
- æ•°æ®è¿ç§»è¿‡ç¨‹ä¸­çš„è¿‡æ¸¡æ–¹æ¡ˆ

**âŒ ä¸é€‚ç”¨åœºæ™¯**ï¼š
- é«˜é¢‘å®æ—¶æŸ¥è¯¢ï¼ˆç½‘ç»œå»¶è¿Ÿå½±å“ï¼‰
- å¤§é‡æ•°æ®ä¼ è¾“ï¼ˆå¸¦å®½é™åˆ¶ï¼‰
- å¯¹ä¸€è‡´æ€§è¦æ±‚æé«˜çš„åœºæ™¯

**ğŸ¯ æœ€ä½³å®è·µ**ï¼š
- å°±è¿‘åŸåˆ™ï¼šä¼˜å…ˆæŸ¥è¯¢æœ¬åœ°æ•°æ®
- åˆ†æ‰¹æŸ¥è¯¢ï¼šå¤§æ•°æ®é‡åˆ†å¤šæ¬¡æŸ¥è¯¢
- å¼‚æ­¥å¤„ç†ï¼šé•¿æ—¶é—´æŸ¥è¯¢ä½¿ç”¨å¼‚æ­¥æ–¹å¼
- ç¼“å­˜ç­–ç•¥ï¼šé¢‘ç¹æŸ¥è¯¢ç»“æœè¿›è¡Œç¼“å­˜

### 7.4 æ•…éšœæ’æŸ¥æ€è·¯


ğŸ” **æ’æŸ¥æ­¥éª¤**ï¼š
1. **ç½‘ç»œè¿é€šæ€§** â†’ pingæµ‹è¯•ï¼Œtelnetç«¯å£æµ‹è¯•
2. **é›†ç¾¤çŠ¶æ€** â†’ æ£€æŸ¥å„é›†ç¾¤healthçŠ¶æ€  
3. **é…ç½®æ­£ç¡®æ€§** â†’ éªŒè¯seedsé…ç½®å’Œæƒé™
4. **èµ„æºçŠ¶å†µ** â†’ æ£€æŸ¥CPUã€å†…å­˜ã€ç½‘ç»œå¸¦å®½
5. **æ—¥å¿—åˆ†æ** â†’ æŸ¥çœ‹elasticsearch.logé”™è¯¯ä¿¡æ¯

ğŸ§  **è®°å¿†å£è¯€**ï¼š
- è·¨é›†ç¾¤æœç´¢ç”¨å†’å·ï¼Œè¿œç¨‹é›†ç¾¤ååœ¨å‰
- ç½‘ç»œé…ç½®è¦ä»”ç»†ï¼Œ9300ç«¯å£åˆ«è®°é”™
- æ€§èƒ½ä¼˜åŒ–æŠ“é‡ç‚¹ï¼Œå‹ç¼©è¿‡æ»¤å‡ä¼ è¾“
- å®¹é”™è®¾è®¡è¦å‘¨å…¨ï¼Œè·³è¿‡æ•…éšœä¿å¯ç”¨

**æ ¸å¿ƒä»·å€¼**ï¼šè·¨é›†ç¾¤æœç´¢è®©åˆ†å¸ƒå¼çš„Elasticsearchéƒ¨ç½²çœŸæ­£å®ç°äº†"åˆ†å¸ƒå¼å­˜å‚¨ï¼Œç»Ÿä¸€æŸ¥è¯¢"çš„ç†æƒ³æ¶æ„ï¼Œæ˜¯æ„å»ºå¤§è§„æ¨¡ã€é«˜å¯ç”¨æœç´¢ç³»ç»Ÿçš„é‡è¦æŠ€æœ¯æ‰‹æ®µã€‚