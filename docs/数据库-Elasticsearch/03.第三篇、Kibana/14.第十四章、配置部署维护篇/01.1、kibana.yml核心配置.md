---
title: 1ã€kibana.ymlæ ¸å¿ƒé…ç½®
---
## ğŸ“š ç›®å½•

1. [Kibanaé…ç½®æ–‡ä»¶åŸºç¡€](#1-kibanaé…ç½®æ–‡ä»¶åŸºç¡€)
2. [æ ¸å¿ƒæœåŠ¡å™¨é…ç½®](#2-æ ¸å¿ƒæœåŠ¡å™¨é…ç½®)
3. [Elasticsearchè¿æ¥é…ç½®](#3-elasticsearchè¿æ¥é…ç½®)
4. [è·¯å¾„ä¸å­˜å‚¨é…ç½®](#4-è·¯å¾„ä¸å­˜å‚¨é…ç½®)
5. [æ—¥å¿—ä¸å›½é™…åŒ–é…ç½®](#5-æ—¥å¿—ä¸å›½é™…åŒ–é…ç½®)
6. [é…ç½®å®æˆ˜æ¡ˆä¾‹](#6-é…ç½®å®æˆ˜æ¡ˆä¾‹)
7. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#7-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ”§ Kibanaé…ç½®æ–‡ä»¶åŸºç¡€


### 1.1 ä»€ä¹ˆæ˜¯kibana.ymlé…ç½®æ–‡ä»¶


**ğŸ”¸ é…ç½®æ–‡ä»¶çš„ä½œç”¨**
```
kibana.yml = Kibanaçš„"è®¾ç½®é¢æ¿"
å°±åƒä½ ç»™æ‰‹æœºè®¾ç½®å£çº¸ã€é“ƒå£°ä¸€æ ·ï¼Œkibana.ymlå‘Šè¯‰Kibanaï¼š
- åœ¨å“ªä¸ªåœ°å€è¿è¡Œ
- è¿æ¥å“ªä¸ªElasticsearch
- ä½¿ç”¨ä»€ä¹ˆè¯­è¨€
- æ—¥å¿—ä¿å­˜åœ¨å“ªé‡Œ
```

**ğŸ’¡ é€šä¿—ç†è§£**
> æŠŠKibanaæƒ³è±¡æˆä¸€å®¶å’–å•¡åº—ï¼Œkibana.ymlå°±æ˜¯è¿™å®¶åº—çš„"è¥ä¸šè®¾ç½®"ï¼š
> - `server.host`: åº—å¼€åœ¨å“ªæ¡è¡—é“
> - `server.port`: åº—é“ºé—¨ç‰Œå·
> - `elasticsearch.hosts`: å’–å•¡è±†ä¾›åº”å•†åœ°å€
> - `server.name`: å’–å•¡åº—çš„æ‹›ç‰Œåå­—

### 1.2 é…ç½®æ–‡ä»¶ä½ç½®ä¸æ ¼å¼


**ğŸ“ æ–‡ä»¶ä½ç½®**
```
Linux/Mac: /etc/kibana/kibana.yml
Windows: C:\kibana\config\kibana.yml
Docker: /usr/share/kibana/config/kibana.yml
```

**ğŸ“ é…ç½®æ ¼å¼è§„åˆ™**
```yaml
# æ³¨é‡Šä»¥ # å¼€å¤´
é…ç½®é¡¹åç§°: é…ç½®å€¼
server.host: "localhost"
server.port: 5601

# åˆ—è¡¨æ ¼å¼
elasticsearch.hosts:
  - "http://localhost:9200"
  - "http://localhost:9201"
```

> âš ï¸ **æ ¼å¼æ³¨æ„äº‹é¡¹**  
> YAMLæ ¼å¼å¯¹ç¼©è¿›å¾ˆæ•æ„Ÿï¼Œå°±åƒPythonä¸€æ ·ï¼ç”¨ç©ºæ ¼ç¼©è¿›ï¼Œä¸è¦ç”¨Tabé”®

### 1.3 é…ç½®æ–‡ä»¶çš„å±‚æ¬¡ç»“æ„


**ğŸŒ³ é…ç½®åˆ†ç±»**
```
kibana.yml
â”œâ”€â”€ æœåŠ¡å™¨é…ç½® (server.*)
â”‚   â”œâ”€â”€ host: æœåŠ¡å™¨åœ°å€
â”‚   â”œâ”€â”€ port: æœåŠ¡ç«¯å£  
â”‚   â””â”€â”€ name: æœåŠ¡å™¨åç§°
â”œâ”€â”€ Elasticsearché…ç½® (elasticsearch.*)
â”‚   â”œâ”€â”€ hosts: ESé›†ç¾¤åœ°å€
â”‚   â””â”€â”€ username/password: è®¤è¯ä¿¡æ¯
â”œâ”€â”€ è·¯å¾„é…ç½® (path.*)
â”‚   â””â”€â”€ data: æ•°æ®å­˜å‚¨è·¯å¾„
â””â”€â”€ ç³»ç»Ÿé…ç½®
    â”œâ”€â”€ logging.*: æ—¥å¿—é…ç½®
    â””â”€â”€ i18n.*: è¯­è¨€é…ç½®
```

---

## 2. ğŸŒ æ ¸å¿ƒæœåŠ¡å™¨é…ç½®


### 2.1 server.host - æœåŠ¡å™¨åœ°å€é…ç½®


**ğŸ”¸ ä½œç”¨è¯´æ˜**
`server.host` å†³å®šKibanaç›‘å¬å“ªä¸ªç½‘ç»œåœ°å€ï¼Œç®€å•è¯´å°±æ˜¯"è°èƒ½è®¿é—®ä½ çš„Kibana"

**ğŸ’¡ å¸¸ç”¨é…ç½®å€¼**

| é…ç½®å€¼ | **å«ä¹‰** | **é€‚ç”¨åœºæ™¯** | **å®‰å…¨æ€§** |
|--------|---------|-------------|-----------|
| `"localhost"` | `åªå…è®¸æœ¬æœºè®¿é—®` | `å¼€å‘æµ‹è¯•` | `ğŸŸ¢ æœ€å®‰å…¨` |
| `"127.0.0.1"` | `åªå…è®¸æœ¬æœºè®¿é—®` | `å¼€å‘æµ‹è¯•` | `ğŸŸ¢ æœ€å®‰å…¨` |
| `"0.0.0.0"` | `å…è®¸ä»»ä½•åœ°å€è®¿é—®` | `ç”Ÿäº§ç¯å¢ƒ` | `ğŸ”´ éœ€è¦é˜²ç«å¢™ä¿æŠ¤` |
| `"192.168.1.100"` | `åªå…è®¸æŒ‡å®šIPè®¿é—®` | `å†…ç½‘ç¯å¢ƒ` | `ğŸŸ¡ ä¸­ç­‰å®‰å…¨` |

**ğŸš€ å®é™…é…ç½®ç¤ºä¾‹**
```yaml
# å¼€å‘ç¯å¢ƒ - åªå…è®¸æœ¬æœºè®¿é—®
server.host: "localhost"

# ç”Ÿäº§ç¯å¢ƒ - å…è®¸æ‰€æœ‰åœ°å€è®¿é—®ï¼ˆéœ€è¦é…åˆé˜²ç«å¢™ï¼‰
server.host: "0.0.0.0"

# å†…ç½‘ç¯å¢ƒ - æŒ‡å®šæœåŠ¡å™¨IP
server.host: "192.168.1.100"
```

> ğŸŒ° **ç”Ÿæ´»ç±»æ¯”**  
> å°±åƒå®¶é‡Œçš„é—¨é”è®¾ç½®ï¼š
> - `localhost` = åªæœ‰å®¶äººèƒ½è¿›é—¨
> - `0.0.0.0` = å¤§é—¨æ•å¼€ï¼Œä»»ä½•äººéƒ½èƒ½è¿›
> - æŒ‡å®šIP = åªå…è®¸ç‰¹å®šæœ‹å‹è¿›é—¨

### 2.2 server.port - ç«¯å£è®¾ç½®


**ğŸ”¸ ç«¯å£çš„ä½œç”¨**
ç«¯å£å°±åƒå¤§æ¥¼çš„æˆ¿é—´å·ï¼Œå‘Šè¯‰æµè§ˆå™¨Kibana"ä½"åœ¨å“ªä¸ªæˆ¿é—´

**ğŸ“Š ç«¯å£é€‰æ‹©æŒ‡å—**

| ç«¯å£ç±»å‹ | **æ¨èç«¯å£** | **è¯´æ˜** | **æ³¨æ„äº‹é¡¹** |
|---------|-------------|---------|-------------|
| ğŸ”¸ **é»˜è®¤ç«¯å£** | `5601` | `Kibanaå®˜æ–¹é»˜è®¤` | `æœ€å¸¸ç”¨ï¼Œæ˜“è®°` |
| ğŸ”¸ **è‡ªå®šä¹‰ç«¯å£** | `8080, 9000` | `é¿å…å†²çª` | `ç¡®ä¿ç«¯å£æœªè¢«å ç”¨` |
| ğŸ”¸ **é«˜ç«¯å£** | `> 10000` | `å®‰å…¨æ€§æ›´é«˜` | `éœ€è¦è®°å½•ç«¯å£å·` |

```yaml
# æ ‡å‡†é…ç½®
server.port: 5601

# è‡ªå®šä¹‰ç«¯å£ï¼ˆé¿å…ä¸å…¶ä»–æœåŠ¡å†²çªï¼‰
server.port: 8080

# é«˜ç«¯å£ï¼ˆæé«˜å®‰å…¨æ€§ï¼‰
server.port: 15601
```

**ğŸ” ç«¯å£æ£€æŸ¥å‘½ä»¤**
```bash
# æ£€æŸ¥ç«¯å£æ˜¯å¦è¢«å ç”¨
netstat -an | grep 5601

# Linuxæ£€æŸ¥ç«¯å£å ç”¨
ss -tlnp | grep 5601

# æµ‹è¯•ç«¯å£è¿é€šæ€§
telnet localhost 5601
```

### 2.3 server.name - æœåŠ¡å™¨åç§°


**ğŸ”¸ å‘½åçš„æ„ä¹‰**
ç»™ä½ çš„Kibanaèµ·ä¸ªåå­—ï¼Œå°±åƒç»™å® ç‰©èµ·åå­—ä¸€æ ·ï¼Œæ–¹ä¾¿è¯†åˆ«å’Œç®¡ç†

**ğŸ’¡ å‘½åæœ€ä½³å®è·µ**
```yaml
# ç¯å¢ƒæ ‡è¯†å‘½å
server.name: "kibana-production"
server.name: "kibana-dev"
server.name: "kibana-test"

# åŠŸèƒ½æ ‡è¯†å‘½å
server.name: "log-analysis-kibana"
server.name: "metrics-dashboard"

# åœ°ç†ä½ç½®å‘½å
server.name: "kibana-beijing"
server.name: "kibana-shanghai"
```

> ğŸ¯ **å‘½åå»ºè®®**
> - ä½¿ç”¨æœ‰æ„ä¹‰çš„åç§°ï¼Œé¿å… "kibana1", "kibana2"
> - åŒ…å«ç¯å¢ƒä¿¡æ¯ï¼ˆdev/test/prodï¼‰
> - åŒ…å«åŠŸèƒ½æè¿°ï¼ˆlogs/metrics/securityï¼‰

### 2.4 server.basePath - åŸºç¡€è·¯å¾„


**ğŸ”¸ ä»€ä¹ˆæ˜¯basePath**
å½“Kibanaä¸æ˜¯ç›´æ¥é€šè¿‡åŸŸåè®¿é—®ï¼Œè€Œæ˜¯é€šè¿‡å­è·¯å¾„è®¿é—®æ—¶ä½¿ç”¨

**ğŸŒ° å®é™…åº”ç”¨åœºæ™¯**
```
æ²¡æœ‰basePath: http://company.com:5601
æœ‰basePath:   http://company.com/kibana

é…ç½®æ–¹å¼:
server.basePath: "/kibana"
```

**âš ï¸ ä½¿ç”¨æ³¨æ„äº‹é¡¹**
- basePathå¿…é¡»ä»¥ `/` å¼€å¤´
- ä¸è¦ä»¥ `/` ç»“å°¾
- é€šå¸¸ç”¨äºåå‘ä»£ç†ç¯å¢ƒ

---

## 3. ğŸ”— Elasticsearchè¿æ¥é…ç½®


### 3.1 elasticsearch.hosts - é›†ç¾¤åœ°å€é…ç½®


**ğŸ”¸ è¿æ¥æ–¹å¼è¯¦è§£**

**å•èŠ‚ç‚¹é…ç½®**
```yaml
# æœ€ç®€å•çš„å•èŠ‚ç‚¹è¿æ¥
elasticsearch.hosts: ["http://localhost:9200"]

# å¸¦è®¤è¯çš„å•èŠ‚ç‚¹è¿æ¥
elasticsearch.hosts: ["https://es-node1:9200"]
```

**å¤šèŠ‚ç‚¹é›†ç¾¤é…ç½®**
```yaml
# å¤šèŠ‚ç‚¹é…ç½®ï¼ˆæ¨èç”Ÿäº§ç¯å¢ƒï¼‰
elasticsearch.hosts:
  - "http://es-node1:9200"
  - "http://es-node2:9200"  
  - "http://es-node3:9200"
```

**ğŸŒ ä¸åŒç¯å¢ƒçš„è¿æ¥é…ç½®**

| ç¯å¢ƒç±»å‹ | **é…ç½®ç¤ºä¾‹** | **è¯´æ˜** |
|---------|-------------|---------|
| ğŸ”¸ **æœ¬åœ°å¼€å‘** | `["http://localhost:9200"]` | `å•æœºå¼€å‘æµ‹è¯•` |
| ğŸ”¸ **Dockerç¯å¢ƒ** | `["http://elasticsearch:9200"]` | `å®¹å™¨é—´é€šä¿¡` |
| ğŸ”¸ **äº‘æœåŠ¡** | `["https://cloud-es.com:9243"]` | `äº‘ç«¯ESæœåŠ¡` |
| ğŸ”¸ **å†…ç½‘é›†ç¾¤** | `["http://192.168.1.10:9200"]` | `å†…ç½‘å¤šèŠ‚ç‚¹` |

### 3.2 Elasticsearchè®¤è¯é…ç½®


**ğŸ”’ ç”¨æˆ·åå¯†ç è®¤è¯**
```yaml
# åŸºç¡€è®¤è¯
elasticsearch.username: "kibana_system"
elasticsearch.password: "your_password"

# æˆ–è€…ä½¿ç”¨ç¯å¢ƒå˜é‡ï¼ˆæ›´å®‰å…¨ï¼‰
elasticsearch.username: "${ES_USERNAME}"
elasticsearch.password: "${ES_PASSWORD}"
```

**ğŸ” SSL/TLSåŠ å¯†è¿æ¥**
```yaml
# å¯ç”¨HTTPSè¿æ¥
elasticsearch.hosts: ["https://localhost:9200"]

# SSLè¯ä¹¦é…ç½®
elasticsearch.ssl.certificateAuthorities: ["/path/to/ca.crt"]
elasticsearch.ssl.verificationMode: "certificate"
```

> ğŸ’¡ **å®‰å…¨æé†’**  
> ç”Ÿäº§ç¯å¢ƒåŠ¡å¿…ï¼š
> - ä½¿ç”¨HTTPSè¿æ¥
> - å¯ç”¨ç”¨æˆ·è®¤è¯
> - å®šæœŸæ›´æ¢å¯†ç 
> - ä½¿ç”¨ä¸“ç”¨çš„kibana_systemç”¨æˆ·

### 3.3 è¿æ¥å¥åº·æ£€æŸ¥


**â±ï¸ è¶…æ—¶è®¾ç½®**
```yaml
# è¯·æ±‚è¶…æ—¶ï¼ˆé»˜è®¤30ç§’ï¼‰
elasticsearch.requestTimeout: 30000

# è¿æ¥è¶…æ—¶ï¼ˆé»˜è®¤1ç§’ï¼‰
elasticsearch.pingTimeout: 1500
```

**ğŸ”„ é‡è¯•æœºåˆ¶**
```yaml
# æœ€å¤§é‡è¯•æ¬¡æ•°
elasticsearch.maxRetries: 3

# é‡è¯•é—´éš”
elasticsearch.requestHeadersWhitelist: ["authorization"]
```

---

## 4. ğŸ“ è·¯å¾„ä¸å­˜å‚¨é…ç½®


### 4.1 path.data - æ•°æ®è·¯å¾„é…ç½®


**ğŸ”¸ æ•°æ®ç›®å½•çš„ä½œç”¨**
Kibanaéœ€è¦å­˜å‚¨ä¸€äº›æ•°æ®ï¼Œæ¯”å¦‚ï¼š
- ä»ªè¡¨æ¿é…ç½®
- ç”¨æˆ·è®¾ç½®
- ä¸´æ—¶æ–‡ä»¶
- æ’ä»¶æ•°æ®

**ğŸ“‚ è·¯å¾„é…ç½®ç¤ºä¾‹**
```yaml
# Linuxç³»ç»Ÿ
path.data: "/var/lib/kibana"

# Windowsç³»ç»Ÿ  
path.data: "C:\\ProgramData\\Kibana"

# è‡ªå®šä¹‰è·¯å¾„
path.data: "/opt/kibana/data"
```

**ğŸ’¾ å­˜å‚¨ç©ºé—´è§„åˆ’**

| æ•°æ®ç±»å‹ | **é¢„ä¼°å¤§å°** | **å¢é•¿é€Ÿåº¦** | **æ¸…ç†ç­–ç•¥** |
|---------|-------------|-------------|-------------|
| ğŸ”¸ **ä»ªè¡¨æ¿é…ç½®** | `å‡ MB` | `ç¼“æ…¢å¢é•¿` | `å®šæœŸå¤‡ä»½å³å¯` |
| ğŸ”¸ **ç”¨æˆ·è®¾ç½®** | `å‡ KB` | `å‡ ä¹ä¸å˜` | `æ— éœ€æ¸…ç†` |
| ğŸ”¸ **ä¸´æ—¶æ–‡ä»¶** | `å‡ GB` | `å¿«é€Ÿå¢é•¿` | `å®šæœŸæ¸…ç†` |
| ğŸ”¸ **æ—¥å¿—æ–‡ä»¶** | `å‡ ç™¾MB` | `æŒç»­å¢é•¿` | `æ—¥å¿—è½®è½¬` |

**ğŸ§¹ æ¸…ç†ç»´æŠ¤è„šæœ¬**
```bash
#!/bin/bash
# Kibanaæ•°æ®æ¸…ç†è„šæœ¬

KIBANA_DATA="/var/lib/kibana"
LOG_FILE="/var/log/kibana/kibana.log"

# æ¸…ç†7å¤©å‰çš„ä¸´æ—¶æ–‡ä»¶
find $KIBANA_DATA/tmp -type f -mtime +7 -delete

# å‹ç¼©30å¤©å‰çš„æ—¥å¿—
find /var/log/kibana -name "*.log" -mtime +30 -exec gzip {} \;

echo "Kibanaæ¸…ç†å®Œæˆ: $(date)"
```

---

## 5. ğŸ“ æ—¥å¿—ä¸å›½é™…åŒ–é…ç½®


### 5.1 logging.level - æ—¥å¿—çº§åˆ«é…ç½®


**ğŸ”¸ æ—¥å¿—çº§åˆ«è¯´æ˜**

| çº§åˆ« | **åŒ…å«å†…å®¹** | **æ–‡ä»¶å¤§å°** | **é€‚ç”¨åœºæ™¯** |
|------|-------------|-------------|-------------|
| ğŸ”´ **error** | `åªè®°å½•é”™è¯¯` | `æœ€å°` | `ç”Ÿäº§ç¯å¢ƒ` |
| ğŸŸ¡ **warn** | `é”™è¯¯+è­¦å‘Š` | `è¾ƒå°` | `ç”Ÿäº§ç¯å¢ƒ` |
| ğŸ”µ **info** | `é”™è¯¯+è­¦å‘Š+ä¿¡æ¯` | `ä¸­ç­‰` | `æµ‹è¯•ç¯å¢ƒ` |
| ğŸŸ¢ **debug** | `æ‰€æœ‰ä¿¡æ¯` | `å¾ˆå¤§` | `å¼€å‘è°ƒè¯•` |

```yaml
# ç”Ÿäº§ç¯å¢ƒæ¨è
logging.level: "warn"

# å¼€å‘ç¯å¢ƒæ¨è  
logging.level: "debug"

# é—®é¢˜æ’æŸ¥æ—¶
logging.level: "debug"
```

**ğŸ“Š ä¸åŒçº§åˆ«çš„å®é™…æ•ˆæœ**
```
errorçº§åˆ«æ—¥å¿—:
2025-09-21T10:30:15.123Z [ERROR] è¿æ¥Elasticsearchå¤±è´¥

warnçº§åˆ«æ—¥å¿—:
2025-09-21T10:30:15.123Z [ERROR] è¿æ¥Elasticsearchå¤±è´¥
2025-09-21T10:30:16.456Z [WARN]  è¿æ¥é‡è¯•ä¸­...

infoçº§åˆ«æ—¥å¿—:
2025-09-21T10:30:15.123Z [ERROR] è¿æ¥Elasticsearchå¤±è´¥
2025-09-21T10:30:16.456Z [WARN]  è¿æ¥é‡è¯•ä¸­...
2025-09-21T10:30:17.789Z [INFO]  å¼€å§‹å¯åŠ¨KibanaæœåŠ¡

debugçº§åˆ«æ—¥å¿—:
[åŒ…å«ä¸Šè¿°æ‰€æœ‰å†…å®¹ï¼Œplus...]
2025-09-21T10:30:18.012Z [DEBUG] åŠ è½½é…ç½®æ–‡ä»¶
2025-09-21T10:30:18.345Z [DEBUG] åˆå§‹åŒ–æ’ä»¶ç³»ç»Ÿ
```

### 5.2 æ—¥å¿—è¾“å‡ºé…ç½®


**ğŸ“„ æ—¥å¿—æ–‡ä»¶é…ç½®**
```yaml
# æ—¥å¿—è¾“å‡ºåˆ°æ–‡ä»¶
logging.dest: "/var/log/kibana/kibana.log"

# æ—¥å¿—è¾“å‡ºåˆ°æ§åˆ¶å°ï¼ˆDockerç¯å¢ƒå¸¸ç”¨ï¼‰
logging.dest: "stdout"

# åŒæ—¶è¾“å‡ºåˆ°æ–‡ä»¶å’Œæ§åˆ¶å°
logging.dest: "/var/log/kibana/kibana.log"
logging.verbose: true
```

**ğŸ”„ æ—¥å¿—è½®è½¬é…ç½®**
```yaml
# æ—¥å¿—æ–‡ä»¶å¤§å°é™åˆ¶
logging.rotate.enabled: true
logging.rotate.maxFileSize: "10MB"
logging.rotate.maxFiles: 5
```

### 5.3 i18n.locale - è¯­è¨€è®¾ç½®


**ğŸŒ æ”¯æŒçš„è¯­è¨€**
```yaml
# ä¸­æ–‡ç®€ä½“ï¼ˆæ¨èä¸­å›½ç”¨æˆ·ï¼‰
i18n.locale: "zh-CN"

# è‹±æ–‡ï¼ˆé»˜è®¤ï¼‰
i18n.locale: "en"

# æ—¥æ–‡
i18n.locale: "ja-JP"

# å…¶ä»–è¯­è¨€
i18n.locale: "es"  # è¥¿ç­ç‰™è¯­
i18n.locale: "fr"  # æ³•è¯­
```

**ğŸ¯ è¯­è¨€é€‰æ‹©å»ºè®®**
- **ä¸­æ–‡ç”¨æˆ·**: ä½¿ç”¨ `zh-CN`ï¼Œç•Œé¢æ›´å‹å¥½
- **å›½é™…å›¢é˜Ÿ**: ä½¿ç”¨ `en`ï¼Œä¾¿äºåä½œ
- **å¤šè¯­è¨€ç¯å¢ƒ**: è®©ç”¨æˆ·åœ¨ç•Œé¢ä¸­è‡ªè¡Œé€‰æ‹©

---

## 6. ğŸš€ é…ç½®å®æˆ˜æ¡ˆä¾‹


### 6.1 å¼€å‘ç¯å¢ƒå®Œæ•´é…ç½®


```yaml
# =================================
# Kibanaå¼€å‘ç¯å¢ƒé…ç½®
# =================================

# æœåŠ¡å™¨é…ç½®
server.host: "localhost"
server.port: 5601
server.name: "kibana-dev"

# Elasticsearchè¿æ¥
elasticsearch.hosts: ["http://localhost:9200"]

# è·¯å¾„é…ç½®
path.data: "/tmp/kibana-dev"

# æ—¥å¿—é…ç½®
logging.level: "debug"
logging.dest: "stdout"

# è¯­è¨€è®¾ç½®
i18n.locale: "zh-CN"

# å¼€å‘ä¾¿åˆ©è®¾ç½®
server.rewriteBasePath: false
```

> ğŸ“ **å¼€å‘ç¯å¢ƒç‰¹ç‚¹**
> - ä½¿ç”¨localhostï¼Œåªå…è®¸æœ¬æœºè®¿é—®
> - æ—¥å¿—çº§åˆ«debugï¼Œä¾¿äºè°ƒè¯•
> - æ•°æ®ç›®å½•åœ¨tmpï¼Œé‡å¯åæ¸…ç©º
> - ä¸­æ–‡ç•Œé¢ï¼Œä¾¿äºç†è§£

### 6.2 ç”Ÿäº§ç¯å¢ƒå®Œæ•´é…ç½®


```yaml
# =================================
# Kibanaç”Ÿäº§ç¯å¢ƒé…ç½®
# =================================

# æœåŠ¡å™¨é…ç½®
server.host: "0.0.0.0"
server.port: 5601
server.name: "kibana-production"
server.basePath: "/kibana"

# Elasticsearchè¿æ¥
elasticsearch.hosts:
  - "https://es-node1:9200"
  - "https://es-node2:9200"
  - "https://es-node3:9200"

# è®¤è¯é…ç½®
elasticsearch.username: "kibana_system"
elasticsearch.password: "${KIBANA_PASSWORD}"

# SSLé…ç½®
elasticsearch.ssl.certificateAuthorities: ["/etc/kibana/ca.crt"]
elasticsearch.ssl.verificationMode: "certificate"

# è·¯å¾„é…ç½®
path.data: "/var/lib/kibana"

# æ—¥å¿—é…ç½®
logging.level: "warn"
logging.dest: "/var/log/kibana/kibana.log"
logging.rotate.enabled: true
logging.rotate.maxFileSize: "50MB"
logging.rotate.maxFiles: 10

# æ€§èƒ½ä¼˜åŒ–
elasticsearch.requestTimeout: 60000
elasticsearch.pingTimeout: 3000

# è¯­è¨€è®¾ç½®
i18n.locale: "zh-CN"
```

> â­ **ç”Ÿäº§ç¯å¢ƒå…³é”®ç‚¹**
> - å…è®¸æ‰€æœ‰åœ°å€è®¿é—®ï¼Œé…åˆé˜²ç«å¢™
> - ä½¿ç”¨HTTPSå’Œè®¤è¯
> - æ—¥å¿—è½®è½¬ï¼Œé¿å…ç£ç›˜ç©ºé—´è€—å°½
> - å¢åŠ è¶…æ—¶æ—¶é—´ï¼Œé€‚åº”ç½‘ç»œå»¶è¿Ÿ

### 6.3 Dockerç¯å¢ƒé…ç½®


```yaml
# =================================
# Kibana Dockerç¯å¢ƒé…ç½®
# =================================

# æœåŠ¡å™¨é…ç½®
server.host: "0.0.0.0"
server.port: 5601
server.name: "kibana-docker"

# Elasticsearchè¿æ¥ï¼ˆå®¹å™¨é—´é€šä¿¡ï¼‰
elasticsearch.hosts: ["http://elasticsearch:9200"]

# æ—¥å¿—é…ç½®ï¼ˆè¾“å‡ºåˆ°æ§åˆ¶å°ï¼Œä¾¿äºdocker logsæŸ¥çœ‹ï¼‰
logging.level: "info"
logging.dest: "stdout"

# è¯­è¨€è®¾ç½®
i18n.locale: "zh-CN"

# Dockerç‰¹å®šé…ç½®
server.shutdownTimeout: "5s"
```

**ğŸ³ Docker Composeå®Œæ•´ç¤ºä¾‹**
```yaml
version: '3.8'
services:
  elasticsearch:
    image: docker.elastic.co/elasticsearch/elasticsearch:8.10.0
    environment:
      - discovery.type=single-node
      - "ES_JAVA_OPTS=-Xms512m -Xmx512m"
    ports:
      - "9200:9200"

  kibana:
    image: docker.elastic.co/kibana/kibana:8.10.0
    ports:
      - "5601:5601"
    environment:
      - ELASTICSEARCH_HOSTS=http://elasticsearch:9200
      - I18N_LOCALE=zh-CN
    volumes:
      - ./kibana.yml:/usr/share/kibana/config/kibana.yml
    depends_on:
      - elasticsearch
```

### 6.4 é…ç½®éªŒè¯ä¸æµ‹è¯•


**ğŸ” é…ç½®æ£€æŸ¥æ¸…å•**

- [ ] **ç½‘ç»œè¿é€šæ€§**: èƒ½å¦è®¿é—®Kibanaç•Œé¢
- [ ] **ESè¿æ¥**: Kibanaèƒ½å¦è¿æ¥åˆ°Elasticsearch  
- [ ] **æ—¥å¿—è¾“å‡º**: æ—¥å¿—æ˜¯å¦æ­£å¸¸è®°å½•
- [ ] **æ€§èƒ½è¡¨ç°**: å“åº”é€Ÿåº¦æ˜¯å¦æ­£å¸¸
- [ ] **å®‰å…¨è®¾ç½®**: è®¤è¯å’ŒåŠ å¯†æ˜¯å¦ç”Ÿæ•ˆ

**âš¡ å¿«é€ŸéªŒè¯å‘½ä»¤**
```bash
# æ£€æŸ¥Kibanaæ˜¯å¦å¯åŠ¨
curl -I http://localhost:5601

# æ£€æŸ¥Elasticsearchè¿æ¥
curl -X GET "localhost:5601/api/status"

# æŸ¥çœ‹å®æ—¶æ—¥å¿—
tail -f /var/log/kibana/kibana.log

# æ£€æŸ¥é…ç½®æ–‡ä»¶è¯­æ³•
kibana --help
```

---

## 7. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 7.1 å¿…é¡»æŒæ¡çš„é…ç½®é¡¹


**ğŸ”¸ æœåŠ¡å™¨åŸºç¡€é…ç½®**
```yaml
server.host: "0.0.0.0"          # å…è®¸è®¿é—®çš„åœ°å€
server.port: 5601               # æœåŠ¡ç«¯å£
server.name: "your-kibana"      # æœåŠ¡å™¨åç§°
```

**ğŸ”¸ Elasticsearchè¿æ¥**
```yaml
elasticsearch.hosts: ["http://localhost:9200"]  # ESåœ°å€
elasticsearch.username: "kibana_system"         # ç”¨æˆ·å
elasticsearch.password: "password"              # å¯†ç 
```

**ğŸ”¸ åŸºç¡€ç³»ç»Ÿé…ç½®**
```yaml
path.data: "/var/lib/kibana"    # æ•°æ®ç›®å½•
logging.level: "warn"           # æ—¥å¿—çº§åˆ«
i18n.locale: "zh-CN"           # ç•Œé¢è¯­è¨€
```

### 7.2 ä¸åŒç¯å¢ƒçš„é…ç½®é‡ç‚¹


| ç¯å¢ƒç±»å‹ | **é‡ç‚¹é…ç½®é¡¹** | **æ³¨æ„äº‹é¡¹** |
|---------|--------------|-------------|
| ğŸ”° **å¼€å‘ç¯å¢ƒ** | `host=localhost, debugæ—¥å¿—` | `å®‰å…¨æ€§è¦æ±‚ä½ï¼Œä¾¿äºè°ƒè¯•` |
| ğŸ”¸ **æµ‹è¯•ç¯å¢ƒ** | `æ¨¡æ‹Ÿç”Ÿäº§é…ç½®` | `æ¥è¿‘ç”Ÿäº§ç¯å¢ƒé…ç½®` |
| â­ **ç”Ÿäº§ç¯å¢ƒ** | `å®‰å…¨è®¤è¯ï¼Œæ—¥å¿—è½®è½¬` | `å®‰å…¨æ€§å’Œç¨³å®šæ€§ç¬¬ä¸€` |
| ğŸ³ **å®¹å™¨ç¯å¢ƒ** | `stdoutæ—¥å¿—ï¼Œç¯å¢ƒå˜é‡` | `å®¹å™¨åŒ–éƒ¨ç½²ç‰¹ç‚¹` |

### 7.3 å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ


**âŒ è¿æ¥ä¸ä¸ŠElasticsearch**
```
æ£€æŸ¥æ¸…å•:
âœ“ elasticsearch.hostsåœ°å€æ˜¯å¦æ­£ç¡®
âœ“ ç½‘ç»œæ˜¯å¦é€šç•…
âœ“ ç”¨æˆ·åå¯†ç æ˜¯å¦æ­£ç¡®
âœ“ SSLè¯ä¹¦æ˜¯å¦é…ç½®
```

**âŒ é¡µé¢è®¿é—®ä¸äº†**
```
æ£€æŸ¥æ¸…å•:
âœ“ server.hostæ˜¯å¦é…ç½®ä¸º0.0.0.0
âœ“ server.portæ˜¯å¦è¢«å ç”¨
âœ“ é˜²ç«å¢™æ˜¯å¦å¼€æ”¾ç«¯å£
âœ“ æœåŠ¡æ˜¯å¦æ­£å¸¸å¯åŠ¨
```

**âŒ ä¸­æ–‡ç•Œé¢ä¸æ˜¾ç¤º**
```
è§£å†³æ–¹æ¡ˆ:
âœ“ è®¾ç½® i18n.locale: "zh-CN"
âœ“ é‡å¯KibanaæœåŠ¡
âœ“ æ¸…é™¤æµè§ˆå™¨ç¼“å­˜
```

### 7.4 æœ€ä½³å®è·µå»ºè®®


**ğŸ¯ é…ç½®ç®¡ç†**
- ä½¿ç”¨ç‰ˆæœ¬æ§åˆ¶ç®¡ç†é…ç½®æ–‡ä»¶
- ä¸åŒç¯å¢ƒä½¿ç”¨ä¸åŒé…ç½®æ–‡ä»¶
- æ•æ„Ÿä¿¡æ¯ä½¿ç”¨ç¯å¢ƒå˜é‡
- å®šæœŸå¤‡ä»½é‡è¦é…ç½®

**ğŸ”’ å®‰å…¨å»ºè®®**
- ç”Ÿäº§ç¯å¢ƒå¿…é¡»å¯ç”¨è®¤è¯
- ä½¿ç”¨HTTPSè¿æ¥
- å®šæœŸæ›´æ¢å¯†ç 
- é™åˆ¶ç½‘ç»œè®¿é—®èŒƒå›´

**ğŸ“Š æ€§èƒ½ä¼˜åŒ–**
- åˆç†è®¾ç½®æ—¥å¿—çº§åˆ«
- é…ç½®æ—¥å¿—è½®è½¬
- ç›‘æ§ç£ç›˜ç©ºé—´ä½¿ç”¨
- å®šæœŸæ¸…ç†ä¸´æ—¶æ–‡ä»¶

**æ ¸å¿ƒè®°å¿†è¦ç‚¹**ï¼š
- kibana.ymlæ˜¯Kibanaçš„"è®¾ç½®ä¸­å¿ƒ"
- server.*æ§åˆ¶è°èƒ½è®¿é—®Kibana
- elasticsearch.*æ§åˆ¶Kibanaå¦‚ä½•è¿æ¥ES
- ç”Ÿäº§ç¯å¢ƒå®‰å…¨ç¬¬ä¸€ï¼Œå¼€å‘ç¯å¢ƒä¾¿åˆ©ç¬¬ä¸€
- é…ç½®éªŒè¯æ˜¯éƒ¨ç½²æˆåŠŸçš„å…³é”®æ­¥éª¤