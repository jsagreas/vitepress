---
title: 4ã€å®¢æˆ·ç«¯è¿æ¥é—®é¢˜
---
## ğŸ“š ç›®å½•

1. [Kafkaç½‘ç»œé€šä¿¡åŸºç¡€ç†è§£](#1-kafkaç½‘ç»œé€šä¿¡åŸºç¡€ç†è§£)
2. [bootstrap.serversé…ç½®è¯¦è§£](#2-bootstrap-serversé…ç½®è¯¦è§£)
3. [advertised.listenersæ ¸å¿ƒæ¦‚å¿µ](#3-advertised-listenersæ ¸å¿ƒæ¦‚å¿µ)
4. [ç½‘ç»œè¿é€šæ€§è¯Šæ–­](#4-ç½‘ç»œè¿é€šæ€§è¯Šæ–­)
5. [DNSè§£æé—®é¢˜å¤„ç†](#5-dnsè§£æé—®é¢˜å¤„ç†)
6. [è´Ÿè½½å‡è¡¡å™¨é…ç½®ä¼˜åŒ–](#6-è´Ÿè½½å‡è¡¡å™¨é…ç½®ä¼˜åŒ–)
7. [è¶…æ—¶é…ç½®è°ƒä¼˜](#7-è¶…æ—¶é…ç½®è°ƒä¼˜)
8. [è®¤è¯ä¸SSLé—®é¢˜](#8-è®¤è¯ä¸sslé—®é¢˜)
9. [æ€§èƒ½ç›¸å…³é…ç½®](#9-æ€§èƒ½ç›¸å…³é…ç½®)
10. [æ•…éšœè¯Šæ–­å·¥å…·ç®±](#10-æ•…éšœè¯Šæ–­å·¥å…·ç®±)
11. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#11-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸŒ Kafkaç½‘ç»œé€šä¿¡åŸºç¡€ç†è§£


### 1.1 Kafkaç½‘ç»œé€šä¿¡åŸç†


> ğŸ’¡ **é€šä¿—ç†è§£**  
> æƒ³è±¡Kafkaå°±åƒä¸€ä¸ªé‚®å±€ç³»ç»Ÿï¼Œå®¢æˆ·ç«¯ï¼ˆç”Ÿäº§è€…/æ¶ˆè´¹è€…ï¼‰è¦ç»™é‚®å±€å¯„ä¿¡æˆ–å–ä¿¡ï¼Œå¿…é¡»å…ˆçŸ¥é“é‚®å±€çš„åœ°å€ï¼Œç„¶åå»ºç«‹è¿æ¥é€šé“ã€‚

**ğŸ”¸ åŸºæœ¬é€šä¿¡æµç¨‹**
```
å®¢æˆ·ç«¯å¯åŠ¨ â†’ è¿æ¥BootstrapæœåŠ¡å™¨ â†’ è·å–é›†ç¾¤å…ƒæ•°æ® â†’ è¿æ¥çœŸæ­£çš„ç›®æ ‡Broker
     â†“              â†“                â†“               â†“
   é…ç½®åœ°å€        å‘ç°é›†ç¾¤         æ›´æ–°è·¯ç”±è¡¨        å¼€å§‹å·¥ä½œ
```

**æ ¸å¿ƒç»„ä»¶å…³ç³»å›¾**ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â‘ åˆå§‹è¿æ¥     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   å®¢æˆ·ç«¯     â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ â”‚BootstrapèŠ‚ç‚¹  â”‚
â”‚(ç”Ÿäº§è€…/æ¶ˆè´¹è€…)â”‚                â”‚ (ä»»æ„Broker) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                              â”‚
       â”‚â‘¡è·å–å…ƒæ•°æ®                    â”‚â‘¢è¿”å›é›†ç¾¤ä¿¡æ¯
       â†“                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            Kafkaé›†ç¾¤å…ƒæ•°æ®                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚Broker-1 â”‚  â”‚Broker-2 â”‚  â”‚Broker-3 â”‚     â”‚
â”‚  â”‚Leader   â”‚  â”‚Follower â”‚  â”‚Follower â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚â‘£ç›´æ¥è¿æ¥Leader
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  çœŸæ­£çš„      â”‚
â”‚  æ•°æ®ä¼ è¾“    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.2 ç½‘ç»œè¿æ¥çš„ä¸¤ä¸ªé˜¶æ®µ


**ğŸ”¹ é˜¶æ®µä¸€ï¼šBootstrapè¿æ¥**
- **ä½œç”¨**ï¼šå°±åƒé—®è·¯ï¼Œå…ˆæ‰¾ä¸€ä¸ªäººé—®é‚®å±€åœ¨å“ªé‡Œ
- **ç‰¹ç‚¹**ï¼šåªéœ€è¦è¿é€šä»»æ„ä¸€ä¸ªBrokerå³å¯
- **ç›®æ ‡**ï¼šè·å–æ•´ä¸ªé›†ç¾¤çš„"åœ°å›¾"

**ğŸ”¹ é˜¶æ®µäºŒï¼šå®é™…ä¸šåŠ¡è¿æ¥**
- **ä½œç”¨**ï¼šæ ¹æ®"åœ°å›¾"ç›´æ¥æ‰¾åˆ°ç›®æ ‡é‚®å±€
- **ç‰¹ç‚¹**ï¼šéœ€è¦è¿æ¥ç‰¹å®šçš„Leader Broker
- **ç›®æ ‡**ï¼šè¿›è¡ŒçœŸæ­£çš„æ•°æ®è¯»å†™

> âš ï¸ **æ–°æ‰‹æ˜“é”™ç‚¹**  
> å¾ˆå¤šäººä»¥ä¸ºé…ç½®äº†`bootstrap.servers`å°±å¤Ÿäº†ï¼Œå®é™…ä¸Šè¿™åªæ˜¯"é—®è·¯"çš„åœ°å€ï¼ŒçœŸæ­£å·¥ä½œæ—¶è¿˜éœ€è¦è¿æ¥å…¶ä»–Brokerï¼

---

## 2. ğŸ”§ bootstrap.serversé…ç½®è¯¦è§£


### 2.1 ä»€ä¹ˆæ˜¯bootstrap.servers


> ğŸ“– **ç®€å•ç†è§£**  
> `bootstrap.servers`å°±åƒä½ æ‰‹æœºé‡Œå­˜çš„"å®¢æœç”µè¯"ï¼Œå½“ä½ æƒ³äº†è§£æŸä¸ªæœåŠ¡æ—¶ï¼Œå…ˆæ‰“è¿™ä¸ªç”µè¯é—®æ¸…æ¥šï¼Œç„¶åå†å»å…·ä½“çš„æœåŠ¡ç‚¹åŠäº‹ã€‚

**ğŸ”¸ é…ç½®ç¤ºä¾‹å¯¹æ¯”**

| é…ç½®æ–¹å¼ | **ç¤ºä¾‹** | **è¯´æ˜** | **é€‚ç”¨åœºæ™¯** |
|---------|---------|---------|-------------|
| **å•ä¸ªæœåŠ¡å™¨** | `localhost:9092` | åªæœ‰ä¸€ä¸ªå…¥å£ | å¼€å‘æµ‹è¯•ç¯å¢ƒ |
| **å¤šä¸ªæœåŠ¡å™¨** | `broker1:9092,broker2:9092,broker3:9092` | å¤šä¸ªå…¥å£æé«˜å¯ç”¨æ€§ | ç”Ÿäº§ç¯å¢ƒ |
| **IPåœ°å€æ–¹å¼** | `192.168.1.10:9092,192.168.1.11:9092` | ç›´æ¥ä½¿ç”¨IP | ç½‘ç»œç¯å¢ƒç®€å• |
| **åŸŸåæ–¹å¼** | `kafka-cluster.company.com:9092` | é€šè¿‡DNSè§£æ | ä¼ä¸šç¯å¢ƒ |

### 2.2 å¸¸è§é…ç½®é”™è¯¯ä¸è§£å†³


**âŒ é”™è¯¯1ï¼šåªé…ç½®ä¸€ä¸ªèŠ‚ç‚¹**
```properties
# ä¸æ¨è - å•ç‚¹æ•…éšœ
bootstrap.servers=broker1:9092
```

**âœ… æ­£ç¡®é…ç½®ï¼š**
```properties
# æ¨è - é«˜å¯ç”¨é…ç½®
bootstrap.servers=broker1:9092,broker2:9092,broker3:9092
```

> ğŸ¯ **ä¸ºä»€ä¹ˆè¦é…å¤šä¸ª**  
> å°±åƒä½ å­˜äº†å¤šä¸ªæœ‹å‹çš„ç”µè¯ï¼Œå¦‚æœä¸€ä¸ªæœ‹å‹ä¸åœ¨ï¼Œè¿˜å¯ä»¥æ‰¾å…¶ä»–æœ‹å‹å¸®å¿™ã€‚å¦‚æœBootstrapæœåŠ¡å™¨æŒ‚äº†ï¼Œå®¢æˆ·ç«¯è¿˜èƒ½ä»å…¶ä»–æœåŠ¡å™¨è·å–é›†ç¾¤ä¿¡æ¯ã€‚

**âŒ é”™è¯¯2ï¼šç«¯å£å·é”™è¯¯**
```properties
# å¸¸è§é”™è¯¯ - ç«¯å£å†™é”™
bootstrap.servers=broker1:9093  # å®é™…æ˜¯9092
```

**ğŸ” è¯Šæ–­æ–¹æ³•ï¼š**
```bash
# æ£€æŸ¥ç«¯å£æ˜¯å¦å¼€æ”¾
telnet broker1 9092

# æˆ–ä½¿ç”¨ncå‘½ä»¤
nc -zv broker1 9092
```

### 2.3 Bootstrapè¿æ¥æµ‹è¯•


**ğŸ› ï¸ å¿«é€Ÿæµ‹è¯•è„šæœ¬**
```bash
#!/bin/bash
# æµ‹è¯•Bootstrapè¿æ¥

BROKERS="broker1:9092,broker2:9092,broker3:9092"

echo "æµ‹è¯•Bootstrapè¿æ¥..."
for broker in ${BROKERS//,/ }; do
    echo -n "æµ‹è¯• $broker: "
    if timeout 5 bash -c "</dev/tcp/${broker/://}" 2>/dev/null; then
        echo "âœ… è¿æ¥æˆåŠŸ"
    else
        echo "âŒ è¿æ¥å¤±è´¥"
    fi
done
```

---

## 3. ğŸ“¡ advertised.listenersæ ¸å¿ƒæ¦‚å¿µ


### 3.1 ä»€ä¹ˆæ˜¯advertised.listeners


> ğŸ’¡ **ç”Ÿæ´»åŒ–ç†è§£**  
> æƒ³è±¡ä½ å¼€äº†ä¸€å®¶åº—ï¼Œ`listeners`æ˜¯ä½ åº—çš„çœŸå®åœ°å€ï¼Œ`advertised.listeners`æ˜¯ä½ åœ¨å¹¿å‘Šç‰Œä¸Šå†™çš„åœ°å€ã€‚å®¢æˆ·çœ‹åˆ°å¹¿å‘Šç‰Œä¸Šçš„åœ°å€æ¥æ‰¾ä½ ã€‚

**ğŸ”¸ é…ç½®å¯¹æ¯”è¡¨**

| é…ç½®é¡¹ | **ä½œç”¨** | **å½±å“èŒƒå›´** | **é…ç½®ç¤ºä¾‹** |
|-------|---------|-------------|-------------|
| **listeners** | Brokerå®é™…ç›‘å¬çš„åœ°å€ | æœåŠ¡å™¨æœ¬åœ° | `PLAINTEXT://0.0.0.0:9092` |
| **advertised.listeners** | å‘Šè¯‰å®¢æˆ·ç«¯çš„è¿æ¥åœ°å€ | å®¢æˆ·ç«¯è¿æ¥ | `PLAINTEXT://broker1.example.com:9092` |

### 3.2 å¸¸è§é…ç½®åœºæ™¯


**ğŸ  åœºæ™¯1ï¼šå•æœºå¼€å‘ç¯å¢ƒ**
```properties
# æœåŠ¡å™¨é…ç½®
listeners=PLAINTEXT://localhost:9092
advertised.listeners=PLAINTEXT://localhost:9092

# å®¢æˆ·ç«¯é…ç½®
bootstrap.servers=localhost:9092
```

**ğŸ¢ åœºæ™¯2ï¼šå†…ç½‘éƒ¨ç½²**
```properties
# æœåŠ¡å™¨é…ç½®
listeners=PLAINTEXT://0.0.0.0:9092
advertised.listeners=PLAINTEXT://192.168.1.10:9092

# å®¢æˆ·ç«¯é…ç½®  
bootstrap.servers=192.168.1.10:9092
```

**â˜ï¸ åœºæ™¯3ï¼šäº‘ç¯å¢ƒï¼ˆæœ€å¤æ‚ï¼‰**
```properties
# æœåŠ¡å™¨é…ç½®
listeners=INTERNAL://0.0.0.0:9092,EXTERNAL://0.0.0.0:9093
advertised.listeners=INTERNAL://kafka-internal:9092,EXTERNAL://kafka.public.com:9093
listener.security.protocol.map=INTERNAL:PLAINTEXT,EXTERNAL:PLAINTEXT
```

### 3.3 é…ç½®é”™è¯¯è¯Šæ–­


**ğŸš¨ é—®é¢˜ç°è±¡**ï¼šå®¢æˆ·ç«¯èƒ½è¿æ¥Bootstrapï¼Œä½†è·å–å…ƒæ•°æ®åè¿æ¥å¤±è´¥

**ğŸ” è¯Šæ–­æ­¥éª¤**ï¼š

```bash
# 1. æ£€æŸ¥Brokerè¿”å›çš„å…ƒæ•°æ®
kafka-broker-api-versions --bootstrap-server localhost:9092

# 2. æ£€æŸ¥å®é™…çš„advertisedåœ°å€
kafka-configs --bootstrap-server localhost:9092 --entity-type brokers --entity-name 0 --describe
```

**è§£å†³æ–¹æ¡ˆå¯¹ç…§è¡¨**ï¼š

| é—®é¢˜ | **ç°è±¡** | **åŸå› ** | **è§£å†³æ–¹æ³•** |
|-----|---------|---------|-------------|
| **è¿æ¥è¶…æ—¶** | è·å–å…ƒæ•°æ®åè¿æ¥å¤±è´¥ | advertisedåœ°å€ä¸å¯è¾¾ | ä¿®æ­£advertised.listeners |
| **DNSè§£æå¤±è´¥** | UnknownHostException | åŸŸåé…ç½®é”™è¯¯ | æ£€æŸ¥DNSæˆ–æ”¹ç”¨IP |
| **ç«¯å£ä¸é€š** | Connection refused | ç«¯å£é…ç½®é”™è¯¯ | æ£€æŸ¥é˜²ç«å¢™å’Œç«¯å£é…ç½® |

---

## 4. ğŸ”Œ ç½‘ç»œè¿é€šæ€§è¯Šæ–­


### 4.1 ç½‘ç»œè¿é€šæ€§æµ‹è¯•å·¥å…·


**ğŸ› ï¸ åŸºç¡€è¿é€šæ€§æµ‹è¯•**

```bash
# 1. Pingæµ‹è¯•ï¼ˆæµ‹è¯•åŸºæœ¬ç½‘ç»œï¼‰
ping -c 3 broker1.example.com

# 2. ç«¯å£è¿é€šæ€§æµ‹è¯•
telnet broker1.example.com 9092

# 3. æ›´è¯¦ç»†çš„ç«¯å£æ‰«æ
nmap -p 9092 broker1.example.com

# 4. ä½¿ç”¨ncå‘½ä»¤æµ‹è¯•
nc -zv broker1.example.com 9092
```

**ğŸ”§ Kafkaä¸“ç”¨æµ‹è¯•å·¥å…·**

```bash
# ä½¿ç”¨Kafkaè‡ªå¸¦å·¥å…·æµ‹è¯•è¿æ¥
kafka-broker-api-versions --bootstrap-server broker1:9092 --timeout 5000

# æµ‹è¯•ç”Ÿäº§æ¶ˆè´¹
kafka-console-producer --bootstrap-server broker1:9092 --topic test-topic
kafka-console-consumer --bootstrap-server broker1:9092 --topic test-topic --from-beginning
```

### 4.2 ç½‘ç»œåˆ†åŒºé—®é¢˜å¤„ç†


**ğŸ“Š ç½‘ç»œåˆ†åŒºå½±å“å›¾**ï¼š
```
æ­£å¸¸æƒ…å†µ:           ç½‘ç»œåˆ†åŒºå:
Client              Client
  |                   |
  â†“                   â†“  (è¿æ¥æ–­å¼€)
Broker1â”€â”€â”€â”€Broker2    Broker1  Ã—  Broker2
  |         |           |         |
Broker3â”€â”€â”€â”€Broker4    Broker3â”€â”€â”€â”€Broker4
```

**ğŸ”¸ åˆ†åŒºæ£€æµ‹æ–¹æ³•**

```bash
# æ£€æŸ¥é›†ç¾¤çŠ¶æ€
kafka-topics --bootstrap-server broker1:9092 --describe

# æ£€æŸ¥ISRï¼ˆåŒæ­¥å‰¯æœ¬ï¼‰çŠ¶æ€
kafka-run-class kafka.tools.ClusterTool --bootstrap-server broker1:9092
```

**è§£å†³ç­–ç•¥**ï¼š

> ğŸ’¡ **åº”å¯¹åŸåˆ™**  
> ç½‘ç»œåˆ†åŒºå°±åƒé“è·¯å¡Œæ–¹ï¼Œè½¦è¾†ï¼ˆæ•°æ®ï¼‰æ— æ³•é€šè¿‡ã€‚æ­¤æ—¶è¦ä¹ˆç­‰ä¿®è·¯ï¼ˆç½‘ç»œæ¢å¤ï¼‰ï¼Œè¦ä¹ˆç»•è·¯ï¼ˆåˆ‡æ¢è¿æ¥ï¼‰ã€‚

1. **å®¢æˆ·ç«¯é‡è¯•æœºåˆ¶**
```properties
# å¢åŠ é‡è¯•é…ç½®
retries=10
retry.backoff.ms=1000
reconnect.backoff.ms=1000
```

2. **å¤šBootstrapé…ç½®**
```properties
# ç¡®ä¿BootstrapæœåŠ¡å™¨åˆ†å¸ƒåœ¨ä¸åŒç½‘ç»œæ®µ
bootstrap.servers=zone1-broker:9092,zone2-broker:9092,zone3-broker:9092
```

---

## 5. ğŸŒ DNSè§£æé—®é¢˜å¤„ç†


### 5.1 DNSè§£æå¤±è´¥çš„è¡¨ç°


**ğŸš¨ å¸¸è§é”™è¯¯ä¿¡æ¯**ï¼š
```
java.net.UnknownHostException: kafka-broker.internal.com
org.apache.kafka.common.errors.TimeoutException: Failed to resolve kafka-broker
```

**ğŸ” DNSé—®é¢˜è¯Šæ–­å·¥å…·**

```bash
# 1. æµ‹è¯•DNSè§£æ
nslookup kafka-broker.internal.com
dig kafka-broker.internal.com

# 2. æ£€æŸ¥ç³»ç»ŸDNSé…ç½®
cat /etc/resolv.conf

# 3. æµ‹è¯•ä¸åŒDNSæœåŠ¡å™¨
nslookup kafka-broker.internal.com 8.8.8.8
```

### 5.2 DNSé…ç½®è§£å†³æ–¹æ¡ˆ


**æ–¹æ¡ˆå¯¹æ¯”è¡¨**ï¼š

| è§£å†³æ–¹æ¡ˆ | **é€‚ç”¨åœºæ™¯** | **ä¼˜ç‚¹** | **ç¼ºç‚¹** | **å®æ–½éš¾åº¦** |
|---------|-------------|---------|---------|-------------|
| **ä¿®å¤DNSæœåŠ¡å™¨** | DNSæœåŠ¡å™¨æ•…éšœ | å½»åº•è§£å†³é—®é¢˜ | éœ€è¦è¿ç»´æ”¯æŒ | â˜…â˜…â˜… |
| **ä½¿ç”¨IPåœ°å€** | ä¸´æ—¶åº”æ€¥ | å¿«é€Ÿè§£å†³ | ä¸å¤Ÿçµæ´» | â˜… |
| **é…ç½®hostsæ–‡ä»¶** | å¼€å‘ç¯å¢ƒ | ç®€å•æœ‰æ•ˆ | ç»´æŠ¤éº»çƒ¦ | â˜…â˜… |
| **å†…ç½‘DNS** | ä¼ä¸šç¯å¢ƒ | ç»Ÿä¸€ç®¡ç† | éœ€è¦åŸºç¡€è®¾æ–½ | â˜…â˜…â˜… |

**ğŸ”§ hostsæ–‡ä»¶é…ç½®ç¤ºä¾‹**
```bash
# ç¼–è¾‘hostsæ–‡ä»¶
sudo vim /etc/hosts

# æ·»åŠ KafkaæœåŠ¡å™¨æ˜ å°„
192.168.1.10 kafka-broker-1
192.168.1.11 kafka-broker-2  
192.168.1.12 kafka-broker-3
```

### 5.3 å®¢æˆ·ç«¯DNSé…ç½®ä¼˜åŒ–


```properties
# å®¢æˆ·ç«¯DNSç¼“å­˜é…ç½®
# JVMå‚æ•°è®¾ç½®
-Dsun.net.useExclusiveBind=false
-Djava.net.preferIPv4Stack=true
-Dnetworkaddress.cache.ttl=10

# åº”ç”¨ç¨‹åºé…ç½®
request.timeout.ms=30000
metadata.max.age.ms=300000
```

---

## 6. âš–ï¸ è´Ÿè½½å‡è¡¡å™¨é…ç½®ä¼˜åŒ–


### 6.1 è´Ÿè½½å‡è¡¡å™¨çš„ä½œç”¨


> ğŸ¯ **å½¢è±¡æ¯”å–»**  
> è´Ÿè½½å‡è¡¡å™¨å°±åƒå•†åœºçš„å¯¼è´­å‘˜ï¼Œå®¢æˆ·æ¥äº†å…ˆé—®å¯¼è´­å‘˜ï¼Œå¯¼è´­å‘˜æ ¹æ®å„ä¸ªåº—é“ºçš„å¿™é—²ç¨‹åº¦ï¼Œå¼•å¯¼å®¢æˆ·åˆ°åˆé€‚çš„åº—é“ºã€‚

**ğŸ”¸ å¸¸è§è´Ÿè½½å‡è¡¡æ¶æ„**
```
        å®¢æˆ·ç«¯è¯·æ±‚
             â”‚
             â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   è´Ÿè½½å‡è¡¡å™¨     â”‚
    â”‚  (HAProxy/LVS)  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”
    â†“        â†“        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Broker-1â”‚â”‚Broker-2â”‚â”‚Broker-3â”‚
â”‚ :9092  â”‚â”‚ :9092  â”‚â”‚ :9092  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6.2 è´Ÿè½½å‡è¡¡å™¨é…ç½®è¦ç‚¹


**ğŸ”§ HAProxyé…ç½®ç¤ºä¾‹**
```haproxy
# HAProxyé…ç½®æ–‡ä»¶
global
    daemon
    maxconn 4096

defaults
    mode tcp
    timeout connect 5000ms
    timeout client 50000ms
    timeout server 50000ms

# Kafkaé›†ç¾¤é…ç½®
listen kafka-cluster
    bind *:9092
    mode tcp
    balance roundrobin
    
    # å¥åº·æ£€æŸ¥é…ç½®
    option tcp-check
    tcp-check connect
    
    # åç«¯æœåŠ¡å™¨
    server kafka1 192.168.1.10:9092 check
    server kafka2 192.168.1.11:9092 check  
    server kafka3 192.168.1.12:9092 check
```

**âš ï¸ é…ç½®æ³¨æ„äº‹é¡¹**

| é…ç½®é¡¹ | **æ¨èå€¼** | **è¯´æ˜** | **å½±å“** |
|-------|-----------|---------|---------|
| **æ¨¡å¼** | `mode tcp` | TCPé€ä¼ æ¨¡å¼ | é¿å…åè®®è§£æé—®é¢˜ |
| **è´Ÿè½½ç®—æ³•** | `roundrobin` | è½®è¯¢åˆ†å‘ | ç®€å•æœ‰æ•ˆ |
| **å¥åº·æ£€æŸ¥** | `tcp-check` | TCPè¿æ¥æ£€æŸ¥ | åŠæ—¶å‘ç°æ•…éšœèŠ‚ç‚¹ |
| **è¶…æ—¶è®¾ç½®** | `50000ms` | è¶³å¤Ÿé•¿çš„è¶…æ—¶ | é¿å…è¯¯åˆ¤ |

### 6.3 è´Ÿè½½å‡è¡¡å™¨æ•…éšœæ’æŸ¥


**ğŸ” å¸¸è§é—®é¢˜è¯Šæ–­**

```bash
# 1. æ£€æŸ¥è´Ÿè½½å‡è¡¡å™¨çŠ¶æ€
curl http://haproxy-admin:8080/stats

# 2. æµ‹è¯•åç«¯æœåŠ¡å™¨è¿é€šæ€§
for server in 192.168.1.10 192.168.1.11 192.168.1.12; do
    echo "Testing $server:9092"
    nc -zv $server 9092
done

# 3. æ£€æŸ¥è´Ÿè½½å‡è¡¡å™¨æ—¥å¿—
tail -f /var/log/haproxy.log
```

---

## 7. â±ï¸ è¶…æ—¶é…ç½®è°ƒä¼˜


### 7.1 è¶…æ—¶å‚æ•°ç†è§£


> ğŸ’­ **ç”Ÿæ´»åŒ–ç†è§£**  
> è¶…æ—¶è®¾ç½®å°±åƒç­‰å…¬äº¤è½¦ï¼Œç­‰å¤ªçŸ­å¯èƒ½é”™è¿‡è½¦ï¼Œç­‰å¤ªé•¿æµªè´¹æ—¶é—´ã€‚éœ€è¦æ ¹æ®å®é™…æƒ…å†µåˆç†è®¾ç½®ã€‚

**ğŸ”¸ å®¢æˆ·ç«¯è¶…æ—¶å‚æ•°è¯¦è§£**

| å‚æ•° | **é»˜è®¤å€¼** | **ä½œç”¨** | **è°ƒä¼˜å»ºè®®** |
|-----|-----------|---------|-------------|
| `request.timeout.ms` | 30000 | è¯·æ±‚è¶…æ—¶æ—¶é—´ | ç½‘ç»œå·®æ—¶å¢åŠ åˆ°60000 |
| `session.timeout.ms` | 10000 | ä¼šè¯è¶…æ—¶æ—¶é—´ | æ ¹æ®ç½‘ç»œå»¶è¿Ÿè°ƒæ•´ |
| `heartbeat.interval.ms` | 3000 | å¿ƒè·³é—´éš” | é€šå¸¸ä¸ºsession.timeoutçš„1/3 |
| `connections.max.idle.ms` | 540000 | è¿æ¥ç©ºé—²è¶…æ—¶ | é•¿è¿æ¥åœºæ™¯å¯ä»¥å¢å¤§ |

### 7.2 è¶…æ—¶é…ç½®æœ€ä½³å®è·µ


**ğŸ¯ ä¸åŒåœºæ™¯çš„æ¨èé…ç½®**

**åœºæ™¯1ï¼šæœ¬åœ°å¼€å‘ç¯å¢ƒ**
```properties
# å¿«é€Ÿå“åº”ï¼ŒçŸ­è¶…æ—¶
request.timeout.ms=15000
session.timeout.ms=6000
heartbeat.interval.ms=2000
```

**åœºæ™¯2ï¼šç¨³å®šå†…ç½‘ç¯å¢ƒ** 
```properties
# å¹³è¡¡æ€§èƒ½å’Œç¨³å®šæ€§
request.timeout.ms=30000
session.timeout.ms=10000
heartbeat.interval.ms=3000
```

**åœºæ™¯3ï¼šè·¨åœ°åŸŸç½‘ç»œ**
```properties
# å®¹å¿ç½‘ç»œå»¶è¿Ÿï¼Œé•¿è¶…æ—¶
request.timeout.ms=60000
session.timeout.ms=30000
heartbeat.interval.ms=10000
```

### 7.3 è¶…æ—¶é—®é¢˜è¯Šæ–­


**ğŸ” è¶…æ—¶é—®é¢˜æ’æŸ¥æµç¨‹**
```
å®¢æˆ·ç«¯è¶…æ—¶ 
    â†“
æ£€æŸ¥ç½‘ç»œå»¶è¿Ÿ
    â†“
pingç›®æ ‡æœåŠ¡å™¨
    â†“
æ£€æŸ¥æœåŠ¡å™¨è´Ÿè½½
    â†“
æŸ¥çœ‹Kafkaæ—¥å¿—
    â†“
è°ƒæ•´è¶…æ—¶å‚æ•°
```

**ç›‘æ§è„šæœ¬ç¤ºä¾‹**ï¼š
```bash
#!/bin/bash
# Kafkaè¿æ¥å»¶è¿Ÿç›‘æ§

BROKER="kafka-broker:9092"
echo "ç›‘æ§Kafkaè¿æ¥å»¶è¿Ÿ..."

while true; do
    start_time=$(date +%s%3N)
    timeout 10 kafka-broker-api-versions --bootstrap-server $BROKER > /dev/null 2>&1
    if [ $? -eq 0 ]; then
        end_time=$(date +%s%3N)
        latency=$((end_time - start_time))
        echo "$(date): è¿æ¥å»¶è¿Ÿ ${latency}ms"
    else
        echo "$(date): è¿æ¥å¤±è´¥"
    fi
    sleep 5
done
```

---

## 8. ğŸ” è®¤è¯ä¸SSLé—®é¢˜


### 8.1 SSLæ¡æ‰‹å¤±è´¥


> ğŸ”’ **SSLæ¡æ‰‹ç†è§£**  
> SSLæ¡æ‰‹å°±åƒä¸¤ä¸ªäººè§é¢æ—¶çš„èº«ä»½éªŒè¯è¿‡ç¨‹ï¼šå…ˆäº’ç›¸å‡ºç¤ºèº«ä»½è¯ï¼Œç¡®è®¤èº«ä»½åæ‰å¼€å§‹æ­£å¼äº¤æµã€‚

**ğŸš¨ å¸¸è§SSLé”™è¯¯**
```
javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException
javax.net.ssl.SSLPeerUnverifiedException: peer not authenticated
java.security.cert.CertificateException: No subject alternative names present
```

**ğŸ”§ SSLé…ç½®æ£€æŸ¥æ¸…å•**

- [ ] **è¯ä¹¦æœ‰æ•ˆæœŸ**ï¼šè¯ä¹¦æ˜¯å¦è¿‡æœŸ
- [ ] **è¯ä¹¦åŸŸå**ï¼šæ˜¯å¦åŒ¹é…è®¿é—®åœ°å€
- [ ] **ä¿¡ä»»é“¾**ï¼šæ ¹è¯ä¹¦æ˜¯å¦åœ¨ä¿¡ä»»åº“ä¸­
- [ ] **åè®®ç‰ˆæœ¬**ï¼šTLSç‰ˆæœ¬æ˜¯å¦å…¼å®¹
- [ ] **åŠ å¯†å¥—ä»¶**ï¼šæ˜¯å¦æ”¯æŒç›¸åŒçš„åŠ å¯†ç®—æ³•

### 8.2 SSLé…ç½®ç¤ºä¾‹


**ğŸ”§ æœåŠ¡å™¨ç«¯SSLé…ç½®**
```properties
# server.properties
listeners=SSL://0.0.0.0:9093
advertised.listeners=SSL://kafka-broker.company.com:9093
security.protocol=SSL

# SSLå¯†é’¥åº“é…ç½®
ssl.keystore.location=/opt/kafka/ssl/kafka.server.keystore.jks
ssl.keystore.password=server-password
ssl.key.password=server-password

# SSLä¿¡ä»»åº“é…ç½®
ssl.truststore.location=/opt/kafka/ssl/kafka.server.truststore.jks
ssl.truststore.password=server-password
```

**ğŸ”§ å®¢æˆ·ç«¯SSLé…ç½®**
```properties
# å®¢æˆ·ç«¯é…ç½®
bootstrap.servers=kafka-broker.company.com:9093
security.protocol=SSL

# å®¢æˆ·ç«¯ä¿¡ä»»åº“
ssl.truststore.location=/opt/kafka/ssl/kafka.client.truststore.jks
ssl.truststore.password=client-password

# åŒå‘è®¤è¯ï¼ˆå¯é€‰ï¼‰
ssl.keystore.location=/opt/kafka/ssl/kafka.client.keystore.jks
ssl.keystore.password=client-password
```

### 8.3 SSLè°ƒè¯•å·¥å…·


**ğŸ› ï¸ SSLè¿æ¥æµ‹è¯•**
```bash
# 1. ä½¿ç”¨opensslæµ‹è¯•SSLè¿æ¥
openssl s_client -connect kafka-broker.company.com:9093 -verify_return_error

# 2. æ£€æŸ¥è¯ä¹¦ä¿¡æ¯
openssl x509 -in certificate.crt -text -noout

# 3. éªŒè¯è¯ä¹¦é“¾
openssl verify -CAfile ca-cert.pem server-cert.pem

# 4. Java SSLè°ƒè¯•
java -Djavax.net.debug=ssl:handshake YourKafkaApplication
```

---

## 9. ğŸš€ æ€§èƒ½ç›¸å…³é…ç½®


### 9.1 ç½‘ç»œå¸¦å®½é™åˆ¶


> ğŸ“ˆ **å¸¦å®½ç†è§£**  
> ç½‘ç»œå¸¦å®½å°±åƒæ°´ç®¡çš„ç²—ç»†ï¼Œç®¡å­è¶Šç²—ï¼Œå•ä½æ—¶é—´èƒ½æµè¿‡çš„æ°´è¶Šå¤šã€‚Kafkaçš„æ•°æ®ä¼ è¾“é€Ÿåº¦å—åˆ°ç½‘ç»œå¸¦å®½é™åˆ¶ã€‚

**ğŸ”¸ å¸¦å®½é™åˆ¶æ£€æµ‹**
```bash
# 1. ä½¿ç”¨iperfæµ‹è¯•ç½‘ç»œå¸¦å®½
# æœåŠ¡å™¨ç«¯
iperf -s

# å®¢æˆ·ç«¯
iperf -c kafka-server-ip -t 10 -i 1

# 2. ç›‘æ§ç½‘ç»œä½¿ç”¨æƒ…å†µ
iftop -i eth0
nethogs
```

**ğŸ“Š æ€§èƒ½ä¼˜åŒ–é…ç½®**

| é…ç½®é¡¹ | **æ¨èå€¼** | **è¯´æ˜** | **é€‚ç”¨åœºæ™¯** |
|-------|-----------|---------|-------------|
| `send.buffer.bytes` | 128KB | å‘é€ç¼“å†²åŒºå¤§å° | é«˜ååé‡åœºæ™¯ |
| `receive.buffer.bytes` | 64KB | æ¥æ”¶ç¼“å†²åŒºå¤§å° | é«˜ååé‡åœºæ™¯ |
| `batch.size` | 32KB | æ‰¹å¤„ç†å¤§å° | æé«˜ååé‡ |
| `linger.ms` | 10-50 | æ‰¹å¤„ç†ç­‰å¾…æ—¶é—´ | å¹³è¡¡å»¶è¿Ÿå’Œååé‡ |

### 9.2 è¿æ¥æ± é…ç½®


**ğŸ”§ ç”Ÿäº§è€…è¿æ¥æ± ä¼˜åŒ–**
```properties
# è¿æ¥ç®¡ç†
connections.max.idle.ms=600000
reconnect.backoff.ms=1000
reconnect.backoff.max.ms=10000

# æ‰¹å¤„ç†ä¼˜åŒ–
batch.size=32768
linger.ms=20
buffer.memory=134217728
```

**ğŸ”§ æ¶ˆè´¹è€…è¿æ¥ä¼˜åŒ–**
```properties
# æ‹‰å–é…ç½®
fetch.min.bytes=50000
fetch.max.wait.ms=500
max.partition.fetch.bytes=2097152

# ä¼šè¯ç®¡ç†
session.timeout.ms=30000
heartbeat.interval.ms=10000
```

### 9.3 æ€§èƒ½ç›‘æ§æŒ‡æ ‡


**ğŸ“Š å…³é”®ç›‘æ§æŒ‡æ ‡**

```bash
# 1. ç½‘ç»œè¿æ¥æ•°ç›‘æ§
netstat -an | grep :9092 | wc -l

# 2. Kafkaç½‘ç»œæŒ‡æ ‡
kafka-run-class kafka.tools.JmxTool \
  --object-name kafka.network:type=RequestMetrics,name=NetworkProcessorAvgIdlePercent \
  --jmx-url service:jmx:rmi:///jndi/rmi://localhost:9999/jmxrmi

# 3. è¿æ¥æ± çŠ¶æ€ç›‘æ§
jconsole # è¿æ¥åˆ°Kafka JVMæŸ¥çœ‹è¿æ¥æ± çŠ¶æ€
```

---

## 10. ğŸ”§ æ•…éšœè¯Šæ–­å·¥å…·ç®±


### 10.1 å¿«é€Ÿè¯Šæ–­è„šæœ¬


**ğŸ› ï¸ ä¸€é”®è¯Šæ–­è„šæœ¬**
```bash
#!/bin/bash
# Kafkaç½‘ç»œé—®é¢˜å¿«é€Ÿè¯Šæ–­è„šæœ¬

KAFKA_BROKERS="broker1:9092,broker2:9092,broker3:9092"
TOPIC_NAME="test-connectivity"

echo "ğŸ” Kafkaç½‘ç»œè¯Šæ–­å¼€å§‹..."
echo "================================="

# 1. æµ‹è¯•Bootstrapè¿æ¥
echo "1. æµ‹è¯•Bootstrapè¿æ¥..."
for broker in ${KAFKA_BROKERS//,/ }; do
    host=$(echo $broker | cut -d: -f1)
    port=$(echo $broker | cut -d: -f2)
    
    if timeout 3 bash -c "cat < /dev/null > /dev/tcp/$host/$port"; then
        echo "âœ… $broker - è¿æ¥æˆåŠŸ"
    else
        echo "âŒ $broker - è¿æ¥å¤±è´¥"
    fi
done

# 2. æµ‹è¯•DNSè§£æ
echo "2. æµ‹è¯•DNSè§£æ..."
for broker in ${KAFKA_BROKERS//,/ }; do
    host=$(echo $broker | cut -d: -f1)
    if nslookup $host > /dev/null 2>&1; then
        echo "âœ… $host - DNSè§£ææˆåŠŸ"
    else
        echo "âŒ $host - DNSè§£æå¤±è´¥"
    fi
done

# 3. è·å–é›†ç¾¤å…ƒæ•°æ®
echo "3. è·å–é›†ç¾¤å…ƒæ•°æ®..."
if kafka-broker-api-versions --bootstrap-server $KAFKA_BROKERS --timeout 5000; then
    echo "âœ… å…ƒæ•°æ®è·å–æˆåŠŸ"
else
    echo "âŒ å…ƒæ•°æ®è·å–å¤±è´¥"
fi

# 4. æµ‹è¯•Topicæ“ä½œ
echo "4. æµ‹è¯•Topicæ“ä½œ..."
kafka-topics --bootstrap-server $KAFKA_BROKERS --list --timeout 5000
```

### 10.2 æ—¥å¿—åˆ†æå·¥å…·


**ğŸ“‹ Kafkaæ—¥å¿—å…³é”®ä¿¡æ¯æå–**
```bash
# 1. è¿æ¥ç›¸å…³é”™è¯¯
grep -i "connection\|connect" /var/log/kafka/server.log | tail -20

# 2. ç½‘ç»œè¶…æ—¶é”™è¯¯
grep -i "timeout\|time.*out" /var/log/kafka/server.log | tail -20

# 3. SSL/è®¤è¯é”™è¯¯
grep -i "ssl\|auth\|certificate" /var/log/kafka/server.log | tail -20

# 4. å®æ—¶ç›‘æ§æ—¥å¿—
tail -f /var/log/kafka/server.log | grep -E "(ERROR|WARN|connection|timeout)"
```

### 10.3 ç½‘ç»œé…ç½®éªŒè¯æ¸…å•


**âœ… é…ç½®æ£€æŸ¥æ¸…å•**

- [ ] **Bootstrapé…ç½®**ï¼šæ˜¯å¦é…ç½®äº†å¤šä¸ªèŠ‚ç‚¹
- [ ] **ç«¯å£å¼€æ”¾**ï¼šé˜²ç«å¢™æ˜¯å¦å¼€æ”¾ç›¸åº”ç«¯å£
- [ ] **DNSè§£æ**ï¼šåŸŸåæ˜¯å¦èƒ½æ­£ç¡®è§£æ
- [ ] **advertised.listeners**ï¼šæ˜¯å¦é…ç½®äº†å®¢æˆ·ç«¯å¯è¾¾çš„åœ°å€
- [ ] **ç½‘ç»œè¿é€šæ€§**ï¼šå®¢æˆ·ç«¯ä¸æ‰€æœ‰Brokeræ˜¯å¦ç½‘ç»œè¿é€š
- [ ] **æ—¶é—´åŒæ­¥**ï¼šæ‰€æœ‰èŠ‚ç‚¹æ—¶é—´æ˜¯å¦åŒæ­¥
- [ ] **SSLè¯ä¹¦**ï¼šå¦‚æœä½¿ç”¨SSLï¼Œè¯ä¹¦æ˜¯å¦æœ‰æ•ˆ
- [ ] **è®¤è¯é…ç½®**ï¼šå¦‚æœéœ€è¦è®¤è¯ï¼Œé…ç½®æ˜¯å¦æ­£ç¡®

---

## 11. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 11.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


> ğŸ¯ **æ ¸å¿ƒç†è§£**  
> Kafkaç½‘ç»œé€šä¿¡å°±åƒé‚®æ”¿ç³»ç»Ÿï¼šå…ˆé€šè¿‡Bootstrapåœ°å€"é—®è·¯"ï¼Œè·å¾—æ•´ä¸ªé‚®å±€ç½‘ç»œçš„"åœ°å›¾"ï¼Œç„¶åæ ¹æ®åœ°å›¾ç›´æ¥æ‰¾åˆ°ç›®æ ‡é‚®å±€è¿›è¡Œä¸šåŠ¡åŠç†ã€‚

**ğŸ”¸ å…³é”®é…ç½®ç†è§£**
```
bootstrap.servers     â†’ é—®è·¯çš„åœ°å€ï¼ˆå¯ä»¥æ˜¯ä»»æ„Brokerï¼‰
advertised.listeners â†’ å¹¿å‘Šç‰Œåœ°å€ï¼ˆå®¢æˆ·ç«¯å®é™…è¿æ¥çš„åœ°å€ï¼‰  
listeners           â†’ çœŸå®ç›‘å¬åœ°å€ï¼ˆæœåŠ¡å™¨å†…éƒ¨é…ç½®ï¼‰
```

### 11.2 æ•…éšœæ’æŸ¥æ€è·¯


**ğŸ” æ ‡å‡†æ’æŸ¥æµç¨‹**
```
1. æ£€æŸ¥åŸºç¡€ç½‘ç»œè¿é€šæ€§ï¼ˆpingã€telnetï¼‰
    â†“
2. éªŒè¯Bootstrapè¿æ¥ï¼ˆè·å–å…ƒæ•°æ®ï¼‰
    â†“  
3. æ£€æŸ¥advertised.listenersé…ç½®
    â†“
4. æµ‹è¯•å®é™…ä¸šåŠ¡è¿æ¥
    â†“
5. åˆ†ææ—¥å¿—æ‰¾å‡ºæ ¹æœ¬åŸå› 
```

### 11.3 æœ€ä½³å®è·µå»ºè®®


**ğŸ† ç”Ÿäº§ç¯å¢ƒé…ç½®å»ºè®®**

| é…ç½®ç±»åˆ« | **æ¨èåšæ³•** | **é¿å…é—®é¢˜** |
|---------|-------------|-------------|
| **Bootstrapé…ç½®** | é…ç½®3ä¸ªä»¥ä¸ŠèŠ‚ç‚¹ | å•ç‚¹æ•…éšœ |
| **ç½‘ç»œé…ç½®** | ä½¿ç”¨å†…ç½‘IPæˆ–å¯è§£æåŸŸå | è¿æ¥å¤±è´¥ |
| **è¶…æ—¶è®¾ç½®** | æ ¹æ®ç½‘ç»œç¯å¢ƒè°ƒæ•´ | è¯¯åˆ¤æ•…éšœ |
| **SSLé…ç½®** | å®šæœŸæ›´æ–°è¯ä¹¦ | è¿æ¥ä¸­æ–­ |
| **ç›‘æ§å‘Šè­¦** | è®¾ç½®ç½‘ç»œæŒ‡æ ‡ç›‘æ§ | é—®é¢˜å‘ç°å»¶è¿Ÿ |

### 11.4 å¸¸è§é”™è¯¯é€ŸæŸ¥è¡¨


| é”™è¯¯ç°è±¡ | **å¯èƒ½åŸå› ** | **è§£å†³æ–¹å‘** |
|---------|-------------|-------------|
| **UnknownHostException** | DNSè§£æå¤±è´¥ | æ£€æŸ¥DNSé…ç½®æˆ–ä½¿ç”¨IP |
| **Connection refused** | ç«¯å£ä¸é€šæˆ–æœåŠ¡æœªå¯åŠ¨ | æ£€æŸ¥é˜²ç«å¢™å’ŒæœåŠ¡çŠ¶æ€ |
| **TimeoutException** | ç½‘ç»œå»¶è¿Ÿæˆ–é…ç½®é”™è¯¯ | è°ƒæ•´è¶…æ—¶æ—¶é—´æˆ–æ£€æŸ¥ç½‘ç»œ |
| **SSLHandshakeException** | SSLè¯ä¹¦é—®é¢˜ | æ£€æŸ¥è¯ä¹¦é…ç½®å’Œæœ‰æ•ˆæœŸ |
| **Metadataè·å–å¤±è´¥** | advertised.listenersé…ç½®é”™è¯¯ | ä¿®æ­£æœåŠ¡å™¨é…ç½® |

**æ ¸å¿ƒè®°å¿†å£è¯€**ï¼š
- Bootstrapé—®è·¯å…ˆè¿é€šï¼Œå…ƒæ•°æ®è·å–æ˜¯å…³é”®
- Advertisedåœ°å€è¦æ­£ç¡®ï¼Œå®¢æˆ·ç«¯è¿æ¥é å®ƒæ¥  
- ç½‘ç»œè¶…æ—¶è¦åˆç†ï¼ŒSSLè¯ä¹¦åˆ«è¿‡æœŸ
- æ—¥å¿—ç›‘æ§ä¸èƒ½å°‘ï¼Œé—®é¢˜å®šä½æ›´é«˜æ•ˆ

> ğŸ’¡ **æ–°æ‰‹æé†’**  
> ç½‘ç»œé—®é¢˜80%éƒ½æ˜¯é…ç½®é”™è¯¯å¯¼è‡´çš„ï¼Œä»”ç»†æ£€æŸ¥é…ç½®æ–‡ä»¶ï¼Œå–„ç”¨å·¥å…·æµ‹è¯•ï¼Œå¤šçœ‹æ—¥å¿—åˆ†æï¼Œé—®é¢˜å¾ˆå¿«å°±èƒ½è§£å†³ï¼