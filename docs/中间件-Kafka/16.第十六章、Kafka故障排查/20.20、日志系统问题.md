---
title: 20ã€æ—¥å¿—ç³»ç»Ÿé—®é¢˜
---
## ğŸ“š ç›®å½•

1. [æ—¥å¿—ç³»ç»ŸåŸºç¡€æ¦‚å¿µ](#1-æ—¥å¿—ç³»ç»ŸåŸºç¡€æ¦‚å¿µ)
2. [æ—¥å¿—æ–‡ä»¶ç®¡ç†é—®é¢˜](#2-æ—¥å¿—æ–‡ä»¶ç®¡ç†é—®é¢˜)
3. [æ—¥å¿—é…ç½®ç›¸å…³é—®é¢˜](#3-æ—¥å¿—é…ç½®ç›¸å…³é—®é¢˜)
4. [æ—¥å¿—æƒé™ä¸å­˜å‚¨é—®é¢˜](#4-æ—¥å¿—æƒé™ä¸å­˜å‚¨é—®é¢˜)
5. [æ—¥å¿—æ”¶é›†ä¼ è¾“é—®é¢˜](#5-æ—¥å¿—æ”¶é›†ä¼ è¾“é—®é¢˜)
6. [æ—¥å¿—ç›‘æ§å‘Šè­¦é—®é¢˜](#6-æ—¥å¿—ç›‘æ§å‘Šè­¦é—®é¢˜)
7. [å®æˆ˜è¯Šæ–­å·¥å…·ä¸æ–¹æ³•](#7-å®æˆ˜è¯Šæ–­å·¥å…·ä¸æ–¹æ³•)
8. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#8-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ“‹ æ—¥å¿—ç³»ç»ŸåŸºç¡€æ¦‚å¿µ


### 1.1 Kafkaæ—¥å¿—ç³»ç»Ÿæ˜¯ä»€ä¹ˆ


**ç®€å•ç†è§£**ï¼šæƒ³è±¡Kafkaå°±åƒä¸€ä¸ªè¶…çº§è®°å½•å‘˜ï¼Œå®ƒæŠŠæ‰€æœ‰å‘ç”Ÿçš„äº‹æƒ…éƒ½è¯¦ç»†è®°å½•ä¸‹æ¥ã€‚

```
å®é™…ç”Ÿæ´»ç±»æ¯”ï¼š
é“¶è¡Œäº¤æ˜“ = Kafkaæ¶ˆæ¯å¤„ç†
äº¤æ˜“è®°å½• = Kafkaæ—¥å¿—æ–‡ä»¶
æŸ¥è´¦æœ¬   = æŸ¥çœ‹Kafkaæ—¥å¿—

å¦‚æœé“¶è¡Œçš„è´¦æœ¬å‡ºé—®é¢˜ï¼Œå°±æŸ¥ä¸åˆ°äº¤æ˜“è®°å½•äº†
å¦‚æœKafkaçš„æ—¥å¿—å‡ºé—®é¢˜ï¼Œå°±ç›‘æ§ä¸åˆ°ç³»ç»ŸçŠ¶æ€äº†
```

### 1.2 Kafkaæ—¥å¿—ç³»ç»Ÿçš„ç»„æˆ


**ğŸ”¸ æ ¸å¿ƒç»„ä»¶**
```
Kafkaæ—¥å¿—ç³»ç»Ÿæ¶æ„ï¼š

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Kafkaé›†ç¾¤                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  åº”ç”¨æ—¥å¿—    â”‚  ç³»ç»Ÿæ—¥å¿—  â”‚  é”™è¯¯æ—¥å¿—  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  server.log  â”‚ kafka.log â”‚ error.log â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚          æ—¥å¿—æ”¶é›†å™¨                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚      æ—¥å¿—åˆ†æå·¥å…· + ç›‘æ§å‘Šè­¦         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ğŸ’¡ ä¸»è¦æ—¥å¿—ç±»å‹**

| æ—¥å¿—ç±»å‹ | **ä½œç”¨** | **é‡è¦ç¨‹åº¦** | **å¸¸è§é—®é¢˜** |
|---------|----------|-------------|-------------|
| ğŸ”¸ **æœåŠ¡å™¨æ—¥å¿—** | `è®°å½•Kafkaè¿è¡ŒçŠ¶æ€` | `â­â­â­â­â­` | `æ–‡ä»¶è¿‡å¤§ã€æƒé™é—®é¢˜` |
| ğŸ”¸ **åº”ç”¨æ—¥å¿—** | `è®°å½•ä¸šåŠ¡æ“ä½œ` | `â­â­â­â­â˜†` | `æ ¼å¼é”™è¯¯ã€æ”¶é›†å¼‚å¸¸` |
| ğŸ”¸ **é”™è¯¯æ—¥å¿—** | `è®°å½•å¼‚å¸¸ä¿¡æ¯` | `â­â­â­â­â­` | `çº§åˆ«è®¾ç½®ã€å‘Šè­¦å¤±æ•ˆ` |
| ğŸ”¸ **å®¡è®¡æ—¥å¿—** | `è®°å½•å®‰å…¨æ“ä½œ` | `â­â­â­â˜†â˜†` | `å­˜å‚¨ä¸è¶³ã€ä¼ è¾“é—®é¢˜` |

---

## 2. ğŸ“ æ—¥å¿—æ–‡ä»¶ç®¡ç†é—®é¢˜


### 2.1 æ—¥å¿—æ–‡ä»¶è¿‡å¤§é—®é¢˜


**ğŸ”¸ é—®é¢˜ç°è±¡**
```
å…¸å‹åœºæ™¯ï¼š
- æ—¥å¿—æ–‡ä»¶å‡ ä¸ªGBï¼Œç¼–è¾‘å™¨æ‰“ä¸å¼€
- ç³»ç»Ÿè¿è¡Œç¼“æ…¢ï¼Œç£ç›˜I/Oé«˜
- æŸ¥æ‰¾æ—¥å¿—ä¿¡æ¯è€—æ—¶å¾ˆé•¿
- æ—¥å¿—ä¼ è¾“å¤±è´¥

å¸¸è§é”™è¯¯æç¤ºï¼š
"æ–‡ä»¶è¿‡å¤§ï¼Œæ— æ³•æ‰“å¼€"
"å†…å­˜ä¸è¶³"
"ç£ç›˜ç©ºé—´ä¸è¶³"
```

**âœ… è§£å†³æ–¹æ¡ˆ**

**æ–¹æ¡ˆä¸€ï¼šåˆ†å—æŸ¥çœ‹æ—¥å¿—**
```bash
# æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶å¤§å°
ls -lh /var/log/kafka/server.log

# æŸ¥çœ‹æ–‡ä»¶æœ€å1000è¡Œï¼ˆæœ€æ–°æ—¥å¿—ï¼‰
tail -n 1000 /var/log/kafka/server.log

# æŸ¥çœ‹æ–‡ä»¶å‰1000è¡Œ
head -n 1000 /var/log/kafka/server.log

# åˆ†é¡µæŸ¥çœ‹æ—¥å¿—
less /var/log/kafka/server.log
```

**æ–¹æ¡ˆäºŒï¼šæ—¥å¿—åˆ†å‰²**
```bash
# æŒ‰å¤§å°åˆ†å‰²æ—¥å¿—æ–‡ä»¶ï¼ˆæ¯100MBä¸€ä¸ªæ–‡ä»¶ï¼‰
split -b 100M /var/log/kafka/server.log server_log_

# æŒ‰è¡Œæ•°åˆ†å‰²ï¼ˆæ¯10ä¸‡è¡Œä¸€ä¸ªæ–‡ä»¶ï¼‰
split -l 100000 /var/log/kafka/server.log server_log_

# æŸ¥çœ‹åˆ†å‰²åçš„æ–‡ä»¶
ls -lh server_log_*
```

**âš¡ é¢„é˜²æªæ–½**
```properties
# Kafkaé…ç½®æ–‡ä»¶(server.properties)è®¾ç½®æ—¥å¿—è½®è½¬
log.retention.hours=168          # ä¿ç•™7å¤©
log.segment.bytes=1073741824     # æ¯ä¸ªsegment 1GB
log.cleanup.policy=delete        # åˆ é™¤æ—§æ—¥å¿—
```

### 2.2 æ—¥å¿—è½®è½¬é…ç½®å¤±æ•ˆ


**ğŸ”¸ ä»€ä¹ˆæ˜¯æ—¥å¿—è½®è½¬**

ç®€å•è¯´å°±æ˜¯ï¼š**å®šæœŸæŠŠæ—§æ—¥å¿—"æ‰“åŒ…å­˜æ¡£"ï¼Œåˆ›å»ºæ–°çš„æ—¥å¿—æ–‡ä»¶**

```
æ—¥å¿—è½®è½¬è¿‡ç¨‹ç¤ºæ„ï¼š
ç¬¬1å¤©: server.log (æ­£åœ¨å†™å…¥)
ç¬¬2å¤©: server.log (æ­£åœ¨å†™å…¥), server.log.1 (æ˜¨å¤©çš„)
ç¬¬3å¤©: server.log (æ­£åœ¨å†™å…¥), server.log.1, server.log.2
...
ç¬¬8å¤©: åˆ é™¤server.log.7ï¼Œä¿ç•™æœ€è¿‘7å¤©
```

**ğŸ”¸ å¸¸è§å¤±æ•ˆåŸå› **

**åŸå› 1ï¼šæƒé™é—®é¢˜**
```bash
# æ£€æŸ¥æ—¥å¿—ç›®å½•æƒé™
ls -ld /var/log/kafka/
# åº”è¯¥æ˜¾ç¤ºï¼šdrwxr-xr-x kafka kafka

# ä¿®å¤æƒé™
sudo chown -R kafka:kafka /var/log/kafka/
sudo chmod 755 /var/log/kafka/
```

**åŸå› 2ï¼šé…ç½®é”™è¯¯**
```properties
# é”™è¯¯é…ç½®
log.retention.hours=0        # 0è¡¨ç¤ºç«‹å³åˆ é™¤ï¼Œä¸åˆç†
log.segment.bytes=-1         # è´Ÿæ•°æ— æ•ˆ

# æ­£ç¡®é…ç½®
log.retention.hours=168      # 7å¤© = 7 * 24å°æ—¶
log.segment.bytes=1073741824 # 1GB
log.retention.check.interval.ms=300000  # 5åˆ†é’Ÿæ£€æŸ¥ä¸€æ¬¡
```

**âœ… ä¿®å¤æ–¹æ¡ˆ**
```bash
# 1. æ£€æŸ¥å½“å‰é…ç½®
grep -E "log.retention|log.segment" /opt/kafka/config/server.properties

# 2. æ‰‹åŠ¨è§¦å‘æ—¥å¿—æ¸…ç†
/opt/kafka/bin/kafka-log-dirs.sh --bootstrap-server localhost:9092 --describe

# 3. é‡å¯KafkaæœåŠ¡
sudo systemctl restart kafka
```

---

## 3. âš™ï¸ æ—¥å¿—é…ç½®ç›¸å…³é—®é¢˜


### 3.1 æ—¥å¿—çº§åˆ«è®¾ç½®ä¸å½“


**ğŸ”¸ æ—¥å¿—çº§åˆ«è§£é‡Š**

æƒ³è±¡æ—¥å¿—çº§åˆ«å°±åƒåŒ»é™¢çš„**ç—…æƒ…ä¸¥é‡ç¨‹åº¦**åˆ†çº§ï¼š

```
æ—¥å¿—çº§åˆ«ç±»æ¯”ï¼š
TRACE = ä½“æ£€æŠ¥å‘Š     (æœ€è¯¦ç»†ï¼ŒåŒ…å«ä¸€åˆ‡)
DEBUG = ç—‡çŠ¶è®°å½•     (å¼€å‘è°ƒè¯•ç”¨)
INFO  = å¥åº·æŠ¥å‘Š     (æ­£å¸¸ä¿¡æ¯)
WARN  = æ³¨æ„äº‹é¡¹     (éœ€è¦å…³æ³¨)
ERROR = ç–¾ç—…è¯Šæ–­     (ä¸¥é‡é—®é¢˜)
FATAL = å±æ€¥é€šçŸ¥     (è‡´å‘½é”™è¯¯)
```

**ğŸ“Š çº§åˆ«å¯¹æ¯”è¡¨**

| çº§åˆ« | **ä½¿ç”¨åœºæ™¯** | **æ—¥å¿—é‡** | **æ€§èƒ½å½±å“** | **å»ºè®®** |
|------|-------------|-----------|-------------|----------|
| `TRACE` | `è¯¦ç»†è°ƒè¯•` | `ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥` | `å¾ˆå¤§` | `ä»…å¼€å‘ç¯å¢ƒ` |
| `DEBUG` | `é—®é¢˜æ’æŸ¥` | `ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥â˜†` | `è¾ƒå¤§` | `æµ‹è¯•ç¯å¢ƒ` |
| `INFO` | `æ­£å¸¸è¿è¡Œ` | `ğŸ”¥ğŸ”¥â˜†â˜†â˜†` | `è¾ƒå°` | `ç”Ÿäº§ç¯å¢ƒ` |
| `WARN` | `å¼‚å¸¸è­¦å‘Š` | `ğŸ”¥â˜†â˜†â˜†â˜†` | `å¾ˆå°` | `é‡è¦ç›‘æ§` |
| `ERROR` | `é”™è¯¯å¤„ç†` | `ğŸ”¥â˜†â˜†â˜†â˜†` | `å¾ˆå°` | `å¿…é¡»è®°å½•` |

**âœ… é…ç½®ä¼˜åŒ–**

**ç”Ÿäº§ç¯å¢ƒæ¨èé…ç½®**
```properties
# log4j.propertiesæ–‡ä»¶
log4j.rootLogger=INFO, stdout, kafkaAppender

# ä¸åŒç»„ä»¶ä½¿ç”¨ä¸åŒçº§åˆ«
log4j.logger.kafka=INFO
log4j.logger.kafka.network.RequestChannel=WARN
log4j.logger.kafka.producer.async.DefaultEventHandler=DEBUG
log4j.logger.kafka.request.logger=WARN
log4j.logger.kafka.controller=TRACE
```

**å¼€å‘ç¯å¢ƒè°ƒè¯•é…ç½®**
```properties
# å¼€å‘è°ƒè¯•æ—¶å¯ä»¥è®¾ç½®æ›´è¯¦ç»†
log4j.rootLogger=DEBUG, stdout, kafkaAppender
log4j.logger.kafka.coordinator=DEBUG
log4j.logger.kafka.log=DEBUG
```

### 3.2 æ—¥å¿—æ ¼å¼è§£æé”™è¯¯


**ğŸ”¸ é—®é¢˜è¡¨ç°**
```
å¸¸è§é”™è¯¯ï¼š
- æ—¥å¿—è§£æå·¥å…·æŠ¥é”™
- ç›‘æ§å›¾è¡¨æ˜¾ç¤ºå¼‚å¸¸
- å‘Šè­¦è§„åˆ™åŒ¹é…å¤±è´¥
- æ—¥å¿—èšåˆç»Ÿè®¡é”™è¯¯

å…¸å‹é”™è¯¯ä¿¡æ¯ï¼š
"Unable to parse log format"
"Invalid timestamp format"
"Field mapping error"
```

**ğŸ”¸ Kafkaæ ‡å‡†æ—¥å¿—æ ¼å¼**
```
æ ‡å‡†æ ¼å¼ç¤ºä¾‹ï¼š
[2025-01-20 10:30:15,123] INFO [GroupCoordinator 1]: 
  Preparing to rebalance group test-group with old generation 1 
  (kafka.coordinator.group.GroupCoordinator)

æ ¼å¼è§£æï¼š
[æ—¶é—´æˆ³] çº§åˆ« [ç»„ä»¶ä¿¡æ¯]: å…·ä½“æ¶ˆæ¯ (ç±»å)
```

**âœ… æ ¼å¼é…ç½®ä¿®å¤**
```properties
# log4j.propertiesä¸­è®¾ç½®ç»Ÿä¸€æ ¼å¼
log4j.appender.kafkaAppender.layout=org.apache.log4j.PatternLayout
log4j.appender.kafkaAppender.layout.ConversionPattern=[%d] %p %m (%c)%n

# è‡ªå®šä¹‰æ ¼å¼ï¼ˆåŒ…å«æ›´å¤šä¿¡æ¯ï¼‰
log4j.appender.kafkaAppender.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss,SSS} [%t] %-5p %c{1} - %m%n
```

**ğŸ”§ éªŒè¯æ ¼å¼æ­£ç¡®æ€§**
```bash
# æ£€æŸ¥æ—¥å¿—æ ¼å¼æ˜¯å¦ä¸€è‡´
head -10 /var/log/kafka/server.log | grep -E "\[.*\].*INFO|WARN|ERROR"

# ä½¿ç”¨grepéªŒè¯æ—¶é—´æ ¼å¼
grep -E "\[20[0-9]{2}-[0-9]{2}-[0-9]{2}" /var/log/kafka/server.log | head -5
```

---

## 4. ğŸ” æ—¥å¿—æƒé™ä¸å­˜å‚¨é—®é¢˜


### 4.1 æ—¥å¿—å†™å…¥æƒé™é—®é¢˜


**ğŸ”¸ æƒé™é—®é¢˜ç†è§£**

å°±åƒ**æˆ¿é—´é’¥åŒ™**ä¸€æ ·ï¼ŒKafkaéœ€è¦æœ‰æ­£ç¡®çš„"é’¥åŒ™"æ‰èƒ½å†™å…¥æ—¥å¿—æ–‡ä»¶ï¼š

```
æƒé™ç±»æ¯”ï¼š
è¯»æƒé™ = èƒ½çœ‹æˆ¿é—´é‡Œçš„ä¸œè¥¿ï¼ˆæŸ¥çœ‹æ—¥å¿—ï¼‰
å†™æƒé™ = èƒ½å¾€æˆ¿é—´é‡Œæ”¾ä¸œè¥¿ï¼ˆå†™å…¥æ—¥å¿—ï¼‰
æ‰§è¡Œæƒé™ = èƒ½è¿›å…¥æˆ¿é—´ï¼ˆè®¿é—®ç›®å½•ï¼‰

å¦‚æœé’¥åŒ™ä¸å¯¹ï¼Œå°±è¿›ä¸äº†æˆ¿é—´ï¼
```

**ğŸ”¸ å¸¸è§æƒé™é”™è¯¯**
```bash
# å…¸å‹é”™è¯¯ä¿¡æ¯
Permission denied: /var/log/kafka/server.log
java.io.IOException: No space left on device
Unable to create log file

# æ£€æŸ¥å½“å‰æƒé™
ls -la /var/log/kafka/
# æœŸæœ›çœ‹åˆ°ï¼š
# drwxr-xr-x kafka kafka server.log
```

**âœ… æƒé™ä¿®å¤æ­¥éª¤**

**æ­¥éª¤1ï¼šæ£€æŸ¥æ–‡ä»¶æ‰€æœ‰è€…**
```bash
# æŸ¥çœ‹æ–‡ä»¶å½’å±
ls -la /var/log/kafka/

# æŸ¥çœ‹Kafkaè¿›ç¨‹è¿è¡Œç”¨æˆ·
ps aux | grep kafka

# ç¡®ä¿ä¸€è‡´
sudo chown -R kafka:kafka /var/log/kafka/
```

**æ­¥éª¤2ï¼šè®¾ç½®æ­£ç¡®æƒé™**
```bash
# è®¾ç½®ç›®å½•æƒé™ï¼ˆ755 = rwx r-x r-xï¼‰
sudo chmod 755 /var/log/kafka/

# è®¾ç½®æ–‡ä»¶æƒé™ï¼ˆ644 = rw- r-- r--ï¼‰
sudo chmod 644 /var/log/kafka/*.log
```

**æ­¥éª¤3ï¼šéªŒè¯æƒé™**
```bash
# æµ‹è¯•å†™å…¥æƒé™
sudo -u kafka touch /var/log/kafka/test.log
sudo -u kafka rm /var/log/kafka/test.log
```

### 4.2 æ—¥å¿—å­˜å‚¨ç©ºé—´ä¸è¶³


**ğŸ”¸ ç©ºé—´ä¸è¶³çš„åæœ**
```
ä¸¥é‡å½±å“ï¼š
- Kafkaæ— æ³•å¯åŠ¨
- æ¶ˆæ¯å¤„ç†åœæ­¢
- ç³»ç»Ÿæ€§èƒ½ä¸‹é™
- æœåŠ¡ä¸å¯ç”¨

ç›‘æ§æŒ‡æ ‡ï¼š
ç£ç›˜ä½¿ç”¨ç‡ > 85%  âš ï¸ è­¦å‘Š
ç£ç›˜ä½¿ç”¨ç‡ > 95%  ğŸš¨ å±é™©
ç£ç›˜ä½¿ç”¨ç‡ = 100% ğŸ’¥ ç³»ç»Ÿå´©æºƒ
```

**âœ… ç©ºé—´ç®¡ç†æ–¹æ¡ˆ**

**ç´§æ€¥å¤„ç†ï¼ˆç«‹å³é‡Šæ”¾ç©ºé—´ï¼‰**
```bash
# 1. æ£€æŸ¥ç£ç›˜ä½¿ç”¨æƒ…å†µ
df -h

# 2. æ‰¾å‡ºæœ€å¤§çš„æ—¥å¿—æ–‡ä»¶
du -h /var/log/kafka/ | sort -rh | head -10

# 3. å‹ç¼©æ—§æ—¥å¿—ï¼ˆä¸åˆ é™¤ï¼Œå‹ç¼©èŠ‚çœç©ºé—´ï¼‰
gzip /var/log/kafka/*.log.1
gzip /var/log/kafka/*.log.2

# 4. åˆ é™¤éå¿…è¦çš„æ—§æ—¥å¿—ï¼ˆè°¨æ…æ“ä½œï¼‰
find /var/log/kafka/ -name "*.log.*" -mtime +7 -delete
```

**é•¿æœŸé¢„é˜²æ–¹æ¡ˆ**
```bash
# è®¾ç½®è‡ªåŠ¨æ¸…ç†è„šæœ¬
cat > /etc/cron.daily/kafka-log-cleanup << 'EOF'
#!/bin/bash
# æ¸…ç†7å¤©å‰çš„å‹ç¼©æ—¥å¿—
find /var/log/kafka/ -name "*.log.*.gz" -mtime +7 -delete

# å‹ç¼©3å¤©å‰çš„æ—¥å¿—
find /var/log/kafka/ -name "*.log.[0-9]*" -mtime +3 -exec gzip {} \;

# æ£€æŸ¥ç£ç›˜ç©ºé—´ï¼Œå‘Šè­¦
USAGE=$(df /var/log/kafka | awk 'NR==2 {print $5}' | sed 's/%//')
if [ $USAGE -gt 85 ]; then
    echo "Kafkaæ—¥å¿—ç£ç›˜ä½¿ç”¨ç‡: ${USAGE}%" | mail -s "ç£ç›˜ç©ºé—´è­¦å‘Š" admin@company.com
fi
EOF

chmod +x /etc/cron.daily/kafka-log-cleanup
```

---

## 5. ğŸ“¡ æ—¥å¿—æ”¶é›†ä¼ è¾“é—®é¢˜


### 5.1 æ—¥å¿—æ”¶é›†ç³»ç»Ÿå¼‚å¸¸


**ğŸ”¸ æ—¥å¿—æ”¶é›†ç³»ç»Ÿæ¦‚å¿µ**

æƒ³è±¡æˆ**å¿«é€’æ”¶é›†ç³»ç»Ÿ**ï¼š

```
æ—¥å¿—æ”¶é›†æµç¨‹ï¼š
KafkaæœåŠ¡å™¨ = å‘ä»¶äººï¼ˆäº§ç”Ÿæ—¥å¿—åŒ…è£¹ï¼‰
     â†“
æ—¥å¿—æ”¶é›†å™¨ = å¿«é€’å‘˜ï¼ˆæ”¶é›†æ—¥å¿—åŒ…è£¹ï¼‰
     â†“
æ—¥å¿—åˆ†æç³»ç»Ÿ = æ”¶ä»¶äººï¼ˆå¤„ç†æ—¥å¿—åŒ…è£¹ï¼‰

å¦‚æœå¿«é€’å‘˜å‡ºé—®é¢˜ï¼ŒåŒ…è£¹å°±æ”¶ä¸åˆ°äº†ï¼
```

**ğŸ”¸ å¸¸è§æ”¶é›†å™¨**

| å·¥å…· | **ç‰¹ç‚¹** | **é€‚ç”¨åœºæ™¯** | **å¸¸è§é—®é¢˜** |
|------|----------|-------------|-------------|
| `Filebeat` | `è½»é‡çº§ï¼ŒELKç”Ÿæ€` | `å°åˆ°ä¸­å‹é¡¹ç›®` | `é…ç½®å¤æ‚ï¼Œå†…å­˜å ç”¨` |
| `Fluentd` | `çµæ´»æ’ä»¶ï¼ŒRubyç¼–å†™` | `å¤šæ ·åŒ–æ•°æ®æº` | `æ€§èƒ½ç“¶é¢ˆï¼Œèµ„æºæ¶ˆè€—` |
| `Logstash` | `åŠŸèƒ½å¼ºå¤§ï¼Œé‡é‡çº§` | `å¤æ‚æ•°æ®å¤„ç†` | `èµ„æºå ç”¨å¤§ï¼Œå¯åŠ¨æ…¢` |
| `Vector` | `é«˜æ€§èƒ½ï¼ŒRustç¼–å†™` | `é«˜ååé‡åœºæ™¯` | `ç›¸å¯¹è¾ƒæ–°ï¼Œç¤¾åŒºå°` |

**âœ… Filebeaté…ç½®ç¤ºä¾‹**

**åŸºç¡€é…ç½®æ–‡ä»¶**
```yaml
# filebeat.yml
filebeat.inputs:
- type: log
  enabled: true
  paths:
    - /var/log/kafka/*.log
  fields:
    service: kafka
    environment: production
  
output.elasticsearch:
  hosts: ["localhost:9200"]
  index: "kafka-logs-%{+yyyy.MM.dd}"

logging.level: info
logging.to_files: true
logging.files:
  path: /var/log/filebeat
  name: filebeat
  keepfiles: 7
```

**æ•…éšœæ’æŸ¥å‘½ä»¤**
```bash
# æ£€æŸ¥FilebeatçŠ¶æ€
sudo systemctl status filebeat

# æŸ¥çœ‹Filebeatæ—¥å¿—
sudo tail -f /var/log/filebeat/filebeat

# æµ‹è¯•é…ç½®æ–‡ä»¶
sudo /usr/share/filebeat/bin/filebeat test config -c /etc/filebeat/filebeat.yml

# æ‰‹åŠ¨è¿è¡Œè°ƒè¯•
sudo /usr/share/filebeat/bin/filebeat -e -c /etc/filebeat/filebeat.yml
```

### 5.2 æ—¥å¿—ä¼ è¾“ç½‘ç»œé—®é¢˜


**ğŸ”¸ ç½‘ç»œé—®é¢˜ç±»å‹**

```
å¸¸è§ç½‘ç»œæ•…éšœï¼š
è¿æ¥è¶…æ—¶   = ç½‘ç»œä¸é€šï¼ˆåƒç”µè¯æ‰“ä¸é€šï¼‰
æ•°æ®ä¸¢åŒ…   = ä¼ è¾“ä¸­ä¸¢å¤±ï¼ˆåƒä¿¡ä»¶ä¸¢å¤±ï¼‰
å¸¦å®½ä¸è¶³   = ä¼ è¾“å¤ªæ…¢ï¼ˆåƒç½‘é€Ÿæ…¢ï¼‰
é˜²ç«å¢™é˜»æ–­ = è¢«æ‹¦æˆªï¼ˆåƒå®‰æ£€è¿‡ä¸¥ï¼‰
```

**âœ… ç½‘ç»œè¯Šæ–­æ­¥éª¤**

**æ­¥éª¤1ï¼šåŸºç¡€è¿é€šæ€§æµ‹è¯•**
```bash
# æµ‹è¯•åˆ°æ—¥å¿—æ”¶é›†æœåŠ¡å™¨çš„è¿é€šæ€§
ping log-server.company.com

# æµ‹è¯•ç‰¹å®šç«¯å£ï¼ˆå¦‚Elasticsearchçš„9200ç«¯å£ï¼‰
telnet log-server.company.com 9200

# ä½¿ç”¨ncæµ‹è¯•ç«¯å£
nc -zv log-server.company.com 9200
```

**æ­¥éª¤2ï¼šç½‘ç»œæ€§èƒ½æµ‹è¯•**
```bash
# æµ‹è¯•ç½‘ç»œå¸¦å®½
iperf3 -c log-server.company.com

# æµ‹è¯•DNSè§£æ
nslookup log-server.company.com

# æ£€æŸ¥è·¯ç”±è·¯å¾„
traceroute log-server.company.com
```

**æ­¥éª¤3ï¼šé˜²ç«å¢™æ£€æŸ¥**
```bash
# æ£€æŸ¥æœ¬åœ°é˜²ç«å¢™è§„åˆ™
sudo iptables -L

# æ£€æŸ¥ç‰¹å®šç«¯å£æ˜¯å¦å¼€æ”¾
sudo netstat -tlnp | grep :9200

# ä¸´æ—¶å¼€æ”¾ç«¯å£ï¼ˆæµ‹è¯•ç”¨ï¼‰
sudo iptables -A OUTPUT -p tcp --dport 9200 -j ACCEPT
```

---

## 6. ğŸš¨ æ—¥å¿—ç›‘æ§å‘Šè­¦é—®é¢˜


### 6.1 æ—¥å¿—ç›‘æ§å‘Šè­¦å¤±æ•ˆ


**ğŸ”¸ å‘Šè­¦ç³»ç»Ÿç†è§£**

å‘Šè­¦ç³»ç»Ÿå°±åƒ**ç«ç¾æŠ¥è­¦å™¨**ï¼š

```
æ­£å¸¸å·¥ä½œæµç¨‹ï¼š
æ£€æµ‹å¼‚å¸¸ â†’ è§¦å‘å‘Šè­¦ â†’ é€šçŸ¥ç®¡ç†å‘˜ â†’ å¤„ç†é—®é¢˜

å‘Šè­¦å¤±æ•ˆ = ç€ç«äº†ä½†æŠ¥è­¦å™¨ä¸å“ï¼
```

**ğŸ”¸ å¸¸è§å¤±æ•ˆåŸå› **

**åŸå› 1ï¼šå‘Šè­¦è§„åˆ™é…ç½®é”™è¯¯**
```yaml
# é”™è¯¯é…ç½®ç¤ºä¾‹
alert_rules:
  - name: kafka_error_rate
    condition: error_count > 1000  # é˜ˆå€¼è®¾ç½®è¿‡é«˜
    duration: 60m                 # æŒç»­æ—¶é—´è¿‡é•¿
    
# æ­£ç¡®é…ç½®
alert_rules:
  - name: kafka_error_rate
    condition: error_count > 10   # åˆç†é˜ˆå€¼
    duration: 5m                  # åŠæ—¶å“åº”
```

**åŸå› 2ï¼šé€šçŸ¥æ¸ é“é—®é¢˜**
```yaml
# é‚®ä»¶é…ç½®
smtp:
  host: smtp.company.com
  port: 587
  username: alert@company.com
  password: "æ­£ç¡®å¯†ç "        # å¯†ç é”™è¯¯å¯¼è‡´å‘é€å¤±è´¥
  
# é’‰é’‰/ä¼ä¸šå¾®ä¿¡é…ç½®
webhook:
  url: "https://oapi.dingtalk.com/robot/send?access_token=æ­£ç¡®çš„token"
```

**âœ… å‘Šè­¦é…ç½®éªŒè¯**

**éªŒè¯è„šæœ¬**
```bash
#!/bin/bash
# alert_test.sh - å‘Šè­¦ç³»ç»Ÿæµ‹è¯•è„šæœ¬

echo "=== æµ‹è¯•å‘Šè­¦è§„åˆ™ ==="

# 1. ç”Ÿæˆæµ‹è¯•é”™è¯¯æ—¥å¿—
echo "[$(date)] ERROR Test alert message for monitoring" >> /var/log/kafka/server.log

# 2. ç­‰å¾…å‘Šè­¦è§¦å‘ï¼ˆé€šå¸¸1-3åˆ†é’Ÿï¼‰
echo "ç­‰å¾…å‘Šè­¦è§¦å‘..."
sleep 180

# 3. æ£€æŸ¥å‘Šè­¦å†å²
curl -s "http://prometheus:9090/api/v1/query?query=up" | jq .

echo "è¯·æ£€æŸ¥æ˜¯å¦æ”¶åˆ°å‘Šè­¦é€šçŸ¥"
```

### 6.2 æ—¥å¿—åˆ†æå·¥å…·æ•…éšœ


**ğŸ”¸ ELKå †æ ˆé—®é¢˜è¯Šæ–­**

```
ELKç»„ä»¶çŠ¶æ€æ£€æŸ¥ï¼š
Elasticsearch = æ•°æ®å­˜å‚¨å¼•æ“
Logstash     = æ•°æ®å¤„ç†ç®¡é“  
Kibana       = æ•°æ®å¯è§†åŒ–ç•Œé¢
```

**Elasticsearchå¥åº·æ£€æŸ¥**
```bash
# æ£€æŸ¥é›†ç¾¤çŠ¶æ€
curl -X GET "localhost:9200/_cluster/health?pretty"

# æœŸæœ›è¿”å›ï¼š
{
  "status" : "green",        # green=å¥åº·, yellow=è­¦å‘Š, red=æ•…éšœ
  "number_of_nodes" : 3,
  "active_primary_shards" : 5
}

# æ£€æŸ¥ç´¢å¼•çŠ¶æ€
curl -X GET "localhost:9200/_cat/indices?v"
```

**Kibanaè¿æ¥é—®é¢˜**
```bash
# æ£€æŸ¥Kibanaé…ç½®
cat /etc/kibana/kibana.yml | grep elasticsearch.hosts

# æµ‹è¯•Kibanaåˆ°Elasticsearchè¿æ¥
curl -X GET "localhost:5601/api/status" | jq .
```

**ğŸ“Š æ€§èƒ½ä¼˜åŒ–å»ºè®®**

| ç»„ä»¶ | **å¸¸è§é—®é¢˜** | **ä¼˜åŒ–æ–¹æ¡ˆ** |
|------|-------------|-------------|
| `Elasticsearch` | `å†…å­˜ä¸è¶³ã€æŸ¥è¯¢æ…¢` | `å¢åŠ å †å†…å­˜ã€ä¼˜åŒ–ç´¢å¼•` |
| `Logstash` | `å¤„ç†é€Ÿåº¦æ…¢` | `å¢åŠ workerè¿›ç¨‹ã€ä¼˜åŒ–è¿‡æ»¤å™¨` |
| `Kibana` | `ç•Œé¢å“åº”æ…¢` | `ä¼˜åŒ–æŸ¥è¯¢ã€å¢åŠ ç¼“å­˜` |

---

## 7. ğŸ”§ å®æˆ˜è¯Šæ–­å·¥å…·ä¸æ–¹æ³•


### 7.1 æ—¥å¿—åˆ†æç¥å™¨å·¥å…·


**ğŸ”¸ å‘½ä»¤è¡Œå·¥å…·ç»„åˆ**

```bash
# 1. å®æ—¶ç›‘æ§æ—¥å¿—
tail -f /var/log/kafka/server.log | grep -i error

# 2. ç»Ÿè®¡é”™è¯¯æ•°é‡
grep -c "ERROR" /var/log/kafka/server.log

# 3. æŒ‰æ—¶é—´è¿‡æ»¤ï¼ˆä»Šå¤©çš„é”™è¯¯ï¼‰
grep "$(date '+%Y-%m-%d')" /var/log/kafka/server.log | grep ERROR

# 4. å¤šæ–‡ä»¶åŒæ—¶ç›‘æ§
multitail /var/log/kafka/server.log /var/log/kafka/controller.log

# 5. å½©è‰²æ˜¾ç¤ºå…³é”®è¯
cat /var/log/kafka/server.log | grep --color=auto -E "ERROR|WARN|FATAL"
```

**ğŸ”¸ é«˜çº§åˆ†æè„šæœ¬**

```bash
#!/bin/bash
# kafka_log_analyzer.sh - Kafkaæ—¥å¿—åˆ†æè„šæœ¬

LOG_FILE="/var/log/kafka/server.log"
TODAY=$(date '+%Y-%m-%d')

echo "=== Kafkaæ—¥å¿—åˆ†ææŠ¥å‘Š ($TODAY) ==="
echo

# ç»Ÿè®¡ä»Šæ—¥æ—¥å¿—çº§åˆ«åˆ†å¸ƒ
echo "ğŸ“Š æ—¥å¿—çº§åˆ«ç»Ÿè®¡ï¼š"
grep "$TODAY" "$LOG_FILE" | grep -o -E "(INFO|WARN|ERROR|DEBUG)" | sort | uniq -c | sort -nr

echo
# æ‰¾å‡ºé«˜é¢‘é”™è¯¯
echo "ğŸš¨ é«˜é¢‘é”™è¯¯TOP 5ï¼š"
grep "$TODAY" "$LOG_FILE" | grep "ERROR" | awk '{print $4}' | sort | uniq -c | sort -nr | head -5

echo
# æ£€æŸ¥å…³é”®ç»„ä»¶çŠ¶æ€
echo "ğŸ” å…³é”®ç»„ä»¶çŠ¶æ€ï¼š"
echo "GroupCoordinator: $(grep -c 'GroupCoordinator' "$LOG_FILE")"
echo "RequestHandler: $(grep -c 'RequestHandler' "$LOG_FILE")"
echo "Controller: $(grep -c 'Controller' "$LOG_FILE")"

echo
# ç½‘ç»œç›¸å…³é—®é¢˜
echo "ğŸŒ ç½‘ç»œé—®é¢˜æ£€æŸ¥ï¼š"
grep -i "connection\|timeout\|network" "$LOG_FILE" | tail -5
```

### 7.2 æ•…éšœè¯Šæ–­æµç¨‹å›¾


```
Kafkaæ—¥å¿—é—®é¢˜è¯Šæ–­æµç¨‹ï¼š

é—®é¢˜å‘ç°
    â†“
æ£€æŸ¥æ—¥å¿—æ–‡ä»¶
    â”œâ”€ æ–‡ä»¶æ˜¯å¦å­˜åœ¨ï¼Ÿ â”€â”€Noâ”€â”€â†’ æ£€æŸ¥è·¯å¾„é…ç½®
    â”œâ”€ æ–‡ä»¶æ˜¯å¦è¿‡å¤§ï¼Ÿ â”€â”€Yesâ”€â†’ æ‰§è¡Œæ—¥å¿—è½®è½¬
    â”œâ”€ æƒé™æ˜¯å¦æ­£ç¡®ï¼Ÿ â”€â”€Noâ”€â”€â†’ ä¿®å¤æ–‡ä»¶æƒé™
    â””â”€ æ ¼å¼æ˜¯å¦æ­£å¸¸ï¼Ÿ â”€â”€Noâ”€â”€â†’ æ£€æŸ¥æ—¥å¿—é…ç½®
    â†“
æ£€æŸ¥æ”¶é›†ç³»ç»Ÿ
    â”œâ”€ æ”¶é›†å™¨æ˜¯å¦è¿è¡Œï¼Ÿ â”€â”€Noâ”€â”€â†’ é‡å¯æ”¶é›†æœåŠ¡
    â”œâ”€ ç½‘ç»œæ˜¯å¦é€šç•…ï¼Ÿ â”€â”€Noâ”€â”€â†’ æ£€æŸ¥ç½‘ç»œè¿æ¥
    â””â”€ é…ç½®æ˜¯å¦æ­£ç¡®ï¼Ÿ â”€â”€Noâ”€â”€â†’ ä¿®æ­£é…ç½®æ–‡ä»¶
    â†“
æ£€æŸ¥ç›‘æ§å‘Šè­¦
    â”œâ”€ è§„åˆ™æ˜¯å¦ç”Ÿæ•ˆï¼Ÿ â”€â”€Noâ”€â”€â†’ æ›´æ–°å‘Šè­¦è§„åˆ™
    â”œâ”€ é€šçŸ¥æ˜¯å¦æ­£å¸¸ï¼Ÿ â”€â”€Noâ”€â”€â†’ æ£€æŸ¥é€šçŸ¥æ¸ é“
    â””â”€ é˜ˆå€¼æ˜¯å¦åˆç†ï¼Ÿ â”€â”€Noâ”€â”€â†’ è°ƒæ•´å‘Šè­¦é˜ˆå€¼
    â†“
é—®é¢˜è§£å†³
```

**ğŸ¯ å¿«é€Ÿæ£€æŸ¥æ¸…å•**

```
âœ… æ—¥å¿—æ–‡ä»¶åŸºç¡€æ£€æŸ¥
â–¡ æ–‡ä»¶æƒé™ (644)
â–¡ ç›®å½•æƒé™ (755)  
â–¡ ç£ç›˜ç©ºé—´ (>15%å¯ç”¨)
â–¡ æ–‡ä»¶å¤§å° (<1GB)

âœ… é…ç½®æ£€æŸ¥
â–¡ æ—¥å¿—çº§åˆ«è®¾ç½®
â–¡ è½®è½¬é…ç½®ç”Ÿæ•ˆ
â–¡ æ ¼å¼é…ç½®æ­£ç¡®
â–¡ è·¯å¾„é…ç½®å‡†ç¡®

âœ… ç³»ç»Ÿæ£€æŸ¥  
â–¡ æ”¶é›†å™¨è¿è¡ŒçŠ¶æ€
â–¡ ç½‘ç»œè¿æ¥æ­£å¸¸
â–¡ å‘Šè­¦è§„åˆ™ç”Ÿæ•ˆ
â–¡ é€šçŸ¥æ¸ é“ç•…é€š
```

---

## 8. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 8.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ æ—¥å¿—ç³»ç»Ÿä½œç”¨ï¼šKafkaçš„"é»‘åŒ£å­"ï¼Œè®°å½•æ‰€æœ‰è¿è¡ŒçŠ¶æ€
ğŸ”¸ æ–‡ä»¶ç®¡ç†ï¼šåˆç†çš„å¤§å°æ§åˆ¶ã€æƒé™è®¾ç½®ã€å­˜å‚¨è§„åˆ’
ğŸ”¸ é…ç½®ä¼˜åŒ–ï¼šæ­£ç¡®çš„çº§åˆ«è®¾ç½®ã€æ ¼å¼é…ç½®ã€è½®è½¬ç­–ç•¥  
ğŸ”¸ ç›‘æ§å‘Šè­¦ï¼šåŠæ—¶å‘ç°é—®é¢˜ã€å‡†ç¡®é€šçŸ¥ã€å¿«é€Ÿå“åº”
ğŸ”¸ æ•…éšœè¯Šæ–­ï¼šç³»ç»ŸåŒ–çš„æ’æŸ¥æ–¹æ³•ã€å®ç”¨çš„å·¥å…·æŠ€å·§
```

### 8.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ ä¸ºä»€ä¹ˆæ—¥å¿—ç³»ç»Ÿå¦‚æ­¤é‡è¦**
```
è¿ç»´è§’åº¦ï¼š
- ç³»ç»Ÿå‡ºé—®é¢˜æ—¶ï¼Œæ—¥å¿—æ˜¯å”¯ä¸€çš„"è¯æ®"
- æ²¡æœ‰æ—¥å¿—å°±åƒ"ç›²äººæ‘¸è±¡"ï¼Œæ— æ³•å®šä½é—®é¢˜
- æ—¥å¿—è´¨é‡ç›´æ¥å½±å“æ•…éšœå¤„ç†æ•ˆç‡

ä¸šåŠ¡è§’åº¦ï¼š
- æ—¥å¿—è®°å½•ä¸šåŠ¡æ“ä½œè½¨è¿¹
- å¸®åŠ©åˆ†æç”¨æˆ·è¡Œä¸ºå’Œç³»ç»Ÿæ€§èƒ½
- åˆè§„å®¡è®¡çš„é‡è¦ä¾æ®
```

**ğŸ”¹ æ—¥å¿—ç®¡ç†çš„å¹³è¡¡è‰ºæœ¯**
```
è¯¦ç»† vs æ€§èƒ½ï¼š
- æ—¥å¿—å¤ªè¯¦ç»†å½±å“æ€§èƒ½
- æ—¥å¿—å¤ªç®€å•æ— æ³•æ’æŸ¥é—®é¢˜
- éœ€è¦æ ¹æ®ç¯å¢ƒè°ƒæ•´çº§åˆ«

å­˜å‚¨ vs æˆæœ¬ï¼š
- é•¿æœŸä¿å­˜å ç”¨å¤§é‡å­˜å‚¨
- åˆ é™¤å¤ªå¿«å¯èƒ½ä¸¢å¤±é‡è¦ä¿¡æ¯  
- éœ€è¦åˆ¶å®šåˆç†çš„ä¿ç•™ç­–ç•¥
```

**ğŸ”¹ ç›‘æ§å‘Šè­¦çš„å…³é”®åŸåˆ™**
```
åŠæ—¶æ€§åŸåˆ™ï¼š
- é—®é¢˜å‘ç”Ÿå5åˆ†é’Ÿå†…å‘Šè­¦
- é¿å…"é©¬åç‚®"å¼çš„é€šçŸ¥

å‡†ç¡®æ€§åŸåˆ™ï¼š
- å‡å°‘è¯¯æŠ¥å’Œæ¼æŠ¥
- å‘Šè­¦å†…å®¹è¦æ˜ç¡®å…·ä½“

å¯æ“ä½œæ€§åŸåˆ™ï¼š
- å‘Šè­¦è¦åŒ…å«å¤„ç†å»ºè®®
- æä¾›å¿«é€Ÿå®šä½é—®é¢˜çš„ä¿¡æ¯
```

### 8.3 å®é™…åº”ç”¨æŒ‡å¯¼


**ğŸ’¡ æ—¥å¸¸è¿ç»´å»ºè®®**
```
é¢„é˜²æ€§ç»´æŠ¤ï¼š
âœ… æ¯æ—¥æ£€æŸ¥ç£ç›˜ç©ºé—´ä½¿ç”¨ç‡
âœ… æ¯å‘¨æ£€æŸ¥æ—¥å¿—è½®è½¬æ˜¯å¦æ­£å¸¸
âœ… æ¯æœˆreviewå‘Šè­¦è§„åˆ™çš„æœ‰æ•ˆæ€§
âœ… å®šæœŸå¤‡ä»½é‡è¦æ—¥å¿—æ–‡ä»¶

æ•…éšœåº”æ€¥å¤„ç†ï¼š
ğŸš¨ ä¼˜å…ˆæ¢å¤æœåŠ¡å¯ç”¨æ€§
ğŸ” ä¿ç•™æ•…éšœç°åœºæ—¥å¿—
ğŸ“Š åˆ†ææ ¹æœ¬åŸå› 
ğŸ“ æ›´æ–°å¤„ç†æ–‡æ¡£
```

**ğŸ¯ æœ€ä½³å®è·µæ€»ç»“**
```
é…ç½®ç®¡ç†ï¼š
- ä½¿ç”¨ç‰ˆæœ¬æ§åˆ¶ç®¡ç†é…ç½®æ–‡ä»¶
- å»ºç«‹é…ç½®å˜æ›´å®¡æ‰¹æµç¨‹
- ä¿æŒå¼€å‘ã€æµ‹è¯•ã€ç”Ÿäº§ç¯å¢ƒé…ç½®ä¸€è‡´æ€§

ç›‘æ§ä½“ç³»ï¼š
- å»ºç«‹åˆ†å±‚ç›‘æ§ï¼ˆç³»ç»Ÿâ†’åº”ç”¨â†’ä¸šåŠ¡ï¼‰
- è®¾ç½®åˆç†çš„å‘Šè­¦é˜ˆå€¼å’Œå‡çº§æœºåˆ¶
- å®šæœŸæ¼”ç»ƒæ•…éšœå¤„ç†æµç¨‹

å›¢é˜Ÿåä½œï¼š
- å»ºç«‹æ¸…æ™°çš„è¿ç»´è´£ä»»åˆ†å·¥
- åˆ¶å®šæ ‡å‡†åŒ–çš„æ•…éšœå¤„ç†æµç¨‹
- å®šæœŸåˆ†äº«æ•…éšœæ¡ˆä¾‹å’Œè§£å†³ç»éªŒ
```

**æ ¸å¿ƒè®°å¿†è¦ç‚¹**ï¼š
- æ—¥å¿—æ˜¯Kafkaè¿ç»´çš„"çœ¼ç›"ï¼Œå¿…é¡»ä¿æŒæ¸…æ™°æ˜äº®
- é¢„é˜²èƒœäºæ²»ç–—ï¼Œä¸»åŠ¨ç›‘æ§æ¯”è¢«åŠ¨å“åº”æ›´é‡è¦
- å·¥å…·æ˜¯æ‰‹æ®µï¼Œæµç¨‹æ˜¯å…³é”®ï¼Œäººå‘˜æ˜¯æ ¸å¿ƒ
- æ¯æ¬¡æ•…éšœéƒ½æ˜¯å­¦ä¹ æœºä¼šï¼Œè¦å–„äºæ€»ç»“å’Œæ”¹è¿›