---
title: 27ã€Connecté›†ç¾¤ç®¡ç†
---
## ğŸ“š ç›®å½•

1. [ConnectåŸºç¡€æ¦‚å¿µç†è§£](#1-ConnectåŸºç¡€æ¦‚å¿µç†è§£)
2. [Connectå¯åŠ¨æ¨¡å¼è¯¦è§£](#2-Connectå¯åŠ¨æ¨¡å¼è¯¦è§£)
3. [åˆ†å¸ƒå¼æ¨¡å¼é›†ç¾¤ç®¡ç†](#3-åˆ†å¸ƒå¼æ¨¡å¼é›†ç¾¤ç®¡ç†)
4. [ç‹¬ç«‹æ¨¡å¼æ“ä½œå®è·µ](#4-ç‹¬ç«‹æ¨¡å¼æ“ä½œå®è·µ)
5. [REST APIç®¡ç†æ“ä½œ](#5-REST-APIç®¡ç†æ“ä½œ)
6. [è¿æ¥å™¨ç”Ÿå‘½å‘¨æœŸç®¡ç†](#6-è¿æ¥å™¨ç”Ÿå‘½å‘¨æœŸç®¡ç†)
7. [ä»»åŠ¡çŠ¶æ€ç›‘æ§ä¸æ•…éšœå¤„ç†](#7-ä»»åŠ¡çŠ¶æ€ç›‘æ§ä¸æ•…éšœå¤„ç†)
8. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#8-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ”Œ ConnectåŸºç¡€æ¦‚å¿µç†è§£


### 1.1 ä»€ä¹ˆæ˜¯Kafka Connect

**ğŸ”¸ é€šä¿—ç†è§£**
```
æƒ³è±¡Connectæ˜¯ä¸€ä¸ª"æ•°æ®æ¬è¿å·¥"ï¼š
- å°±åƒå¿«é€’å‘˜åœ¨ä¸åŒåœ°ç‚¹ä¹‹é—´è¿é€åŒ…è£¹
- Connectåœ¨ä¸åŒç³»ç»Ÿä¹‹é—´ä¼ è¾“æ•°æ®
- å®ƒæŠŠå¤æ‚çš„æ•°æ®é›†æˆå˜æˆç®€å•çš„é…ç½®
```

**ğŸ’¡ æ ¸å¿ƒä½œç”¨**
- **æ•°æ®æ¡¥æ¢**ï¼šè¿æ¥Kafkaä¸å¤–éƒ¨ç³»ç»Ÿï¼ˆæ•°æ®åº“ã€æ–‡ä»¶ç³»ç»Ÿã€äº‘æœåŠ¡ç­‰ï¼‰
- **ç®€åŒ–é›†æˆ**ï¼šæ— éœ€ç¼–å†™å¤æ‚ä»£ç ï¼Œé€šè¿‡é…ç½®å³å¯å®ç°æ•°æ®æµè½¬
- **å¯æ‰©å±•æ€§**ï¼šæ”¯æŒæ°´å¹³æ‰©å±•ï¼Œå¤„ç†å¤§é‡æ•°æ®ä¼ è¾“ä»»åŠ¡

### 1.2 Connectçš„ä¸¤ä¸ªå…³é”®è§’è‰²


**ğŸ“¥ Source Connectorï¼ˆæºè¿æ¥å™¨ï¼‰**
```
ä½œç”¨ï¼šæŠŠå¤–éƒ¨æ•°æ®"å€’å…¥"Kafka
å°±åƒï¼šæ°´ç®¡æŠŠæ°´å€’å…¥æ°´æ± 

å¸¸è§åœºæ™¯ï¼š
â€¢ ä»MySQLæ•°æ®åº“è¯»å–æ•°æ® â†’ å‘é€åˆ°Kafka Topic
â€¢ ä»æ–‡ä»¶ç³»ç»Ÿè¯»å–æ—¥å¿— â†’ å‘é€åˆ°Kafka Topic
â€¢ ä»Web APIè·å–æ•°æ® â†’ å‘é€åˆ°Kafka Topic
```

**ğŸ“¤ Sink Connectorï¼ˆç›®æ ‡è¿æ¥å™¨ï¼‰**
```
ä½œç”¨ï¼šæŠŠKafkaæ•°æ®"å€’å‡º"åˆ°å¤–éƒ¨ç³»ç»Ÿ
å°±åƒï¼šæ°´ç®¡æŠŠæ°´æ± çš„æ°´å€’å‡ºå»

å¸¸è§åœºæ™¯ï¼š
â€¢ ä»Kafka Topicè¯»å–æ•°æ® â†’ å†™å…¥Elasticsearch
â€¢ ä»Kafka Topicè¯»å–æ•°æ® â†’ å†™å…¥HDFS
â€¢ ä»Kafka Topicè¯»å–æ•°æ® â†’ å†™å…¥æ•°æ®åº“
```

### 1.3 Connectæ¶æ„å›¾è§£


```
å¤–éƒ¨ç³»ç»Ÿ          Kafka Connecté›†ç¾¤         Kafkaé›†ç¾¤
                                          
MySQL DB     â†’   Source Connector   â†’    Topic A
æ–‡ä»¶ç³»ç»Ÿ     â†’   Source Connector   â†’    Topic B
                                          
                 Sink Connector     â†    Topic C  â†’  Elasticsearch
                 Sink Connector     â†    Topic D  â†’  HDFS
```

---

## 2. ğŸš€ Connectå¯åŠ¨æ¨¡å¼è¯¦è§£


### 2.1 ä¸¤ç§è¿è¡Œæ¨¡å¼å¯¹æ¯”


| ç‰¹æ€§ | **åˆ†å¸ƒå¼æ¨¡å¼** | **ç‹¬ç«‹æ¨¡å¼** |
|------|-------------|------------|
| **é€‚ç”¨åœºæ™¯** | `ç”Ÿäº§ç¯å¢ƒï¼Œå¤§è§„æ¨¡æ•°æ®å¤„ç†` | `å¼€å‘æµ‹è¯•ï¼Œç®€å•æ•°æ®åŒæ­¥` |
| **å¯æ‰©å±•æ€§** | `â­â­â­â­â­ é«˜åº¦å¯æ‰©å±•` | `â­â­ å•æœºè¿è¡Œ` |
| **å®¹é”™èƒ½åŠ›** | `â­â­â­â­â­ è‡ªåŠ¨æ•…éšœè½¬ç§»` | `â­ æ— å®¹é”™æœºåˆ¶` |
| **é…ç½®ç®¡ç†** | `ğŸŸ¢ REST APIåŠ¨æ€é…ç½®` | `ğŸŸ¡ æ–‡ä»¶é…ç½®ï¼Œéœ€é‡å¯` |
| **ç›‘æ§èƒ½åŠ›** | `ğŸŸ¢ å®Œæ•´ç›‘æ§ä½“ç³»` | `ğŸŸ¡ åŸºç¡€ç›‘æ§` |

### 2.2 å¦‚ä½•é€‰æ‹©è¿è¡Œæ¨¡å¼


**ğŸ¯ é€‰æ‹©å»ºè®®**
```
é€‰æ‹©åˆ†å¸ƒå¼æ¨¡å¼çš„æƒ…å†µï¼š
âœ… ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²
âœ… éœ€è¦å¤„ç†å¤§é‡æ•°æ®
âœ… è¦æ±‚é«˜å¯ç”¨æ€§
âœ… éœ€è¦åŠ¨æ€ç®¡ç†è¿æ¥å™¨
âœ… å¤šä¸ªå›¢é˜Ÿå…±äº«ä½¿ç”¨

é€‰æ‹©ç‹¬ç«‹æ¨¡å¼çš„æƒ…å†µï¼š
âœ… å¼€å‘å’Œæµ‹è¯•ç¯å¢ƒ
âœ… ç®€å•çš„æ•°æ®åŒæ­¥ä»»åŠ¡
âœ… å­¦ä¹ å’Œå®éªŒConnectåŠŸèƒ½
âœ… ä¸´æ—¶çš„æ•°æ®è¿ç§»ä»»åŠ¡
```

---

## 3. ğŸ—ï¸ åˆ†å¸ƒå¼æ¨¡å¼é›†ç¾¤ç®¡ç†


### 3.1 åˆ†å¸ƒå¼æ¨¡å¼å¯åŠ¨å‘½ä»¤


**ğŸ“‹ åŸºç¡€å¯åŠ¨å‘½ä»¤**
```bash
# å¯åŠ¨åˆ†å¸ƒå¼Connecté›†ç¾¤
bin/connect-distributed.sh config/connect-distributed.properties
```

**ğŸ”§ é…ç½®æ–‡ä»¶å…³é”®å‚æ•°**
```properties
# connect-distributed.propertiesæ ¸å¿ƒé…ç½®è§£é‡Š

# 1ï¸âƒ£ é›†ç¾¤æ ‡è¯† - åŒä¸€é›†ç¾¤çš„æ‰€æœ‰èŠ‚ç‚¹å¿…é¡»ç›¸åŒ
group.id=connect-cluster-demo

# 2ï¸âƒ£ Kafkaè¿æ¥ä¿¡æ¯
bootstrap.servers=localhost:9092

# 3ï¸âƒ£ å†…éƒ¨Topicé…ç½®ï¼ˆConnectè‡ªåŠ¨åˆ›å»ºå’Œç®¡ç†ï¼‰
config.storage.topic=connect-configs          # å­˜å‚¨è¿æ¥å™¨é…ç½®
offset.storage.topic=connect-offsets          # å­˜å‚¨æ¶ˆè´¹åç§»é‡
status.storage.topic=connect-status           # å­˜å‚¨ä»»åŠ¡çŠ¶æ€

# 4ï¸âƒ£ æ•°æ®åºåˆ—åŒ–æ ¼å¼
key.converter=org.apache.kafka.connect.json.JsonConverter
value.converter=org.apache.kafka.connect.json.JsonConverter

# 5ï¸âƒ£ REST APIç«¯å£
rest.port=8083
```

### 3.2 é›†ç¾¤æ‰©å±•æ“ä½œ


**â• æ·»åŠ æ–°èŠ‚ç‚¹**
```bash
# æ­¥éª¤1ï¼šåœ¨æ–°æœºå™¨ä¸Šå‡†å¤‡ç›¸åŒçš„é…ç½®æ–‡ä»¶
# æ³¨æ„ï¼šgroup.idå¿…é¡»ä¸ç°æœ‰é›†ç¾¤ç›¸åŒ

# æ­¥éª¤2ï¼šå¯åŠ¨æ–°èŠ‚ç‚¹
bin/connect-distributed.sh config/connect-distributed.properties

# æ­¥éª¤3ï¼šéªŒè¯èŠ‚ç‚¹åŠ å…¥
curl http://localhost:8083/ | jq
```

**âš–ï¸ è´Ÿè½½å‡è¡¡è‡ªåŠ¨åŒ–**
```
Connecté›†ç¾¤ä¼šè‡ªåŠ¨å¤„ç†ï¼š
â€¢ æ–°èŠ‚ç‚¹åŠ å…¥æ—¶ï¼Œä»»åŠ¡ä¼šé‡æ–°åˆ†é…
â€¢ èŠ‚ç‚¹ç¦»å¼€æ—¶ï¼Œä»»åŠ¡ä¼šè¿ç§»åˆ°å…¶ä»–èŠ‚ç‚¹
â€¢ ç¡®ä¿æ‰€æœ‰ä»»åŠ¡æŒç»­è¿è¡Œ
```

### 3.3 é›†ç¾¤çŠ¶æ€æŸ¥è¯¢


**ğŸ“Š æŸ¥çœ‹é›†ç¾¤ä¿¡æ¯**
```bash
# æŸ¥çœ‹é›†ç¾¤åŸºæœ¬ä¿¡æ¯
curl http://localhost:8083/ | jq

# é¢„æœŸè¾“å‡ºè§£è¯»ï¼š
{
  "version": "3.4.0",           # Kafkaç‰ˆæœ¬
  "commit": "abc123def",        # æäº¤ID
  "kafka_cluster_id": "xyz"     # Kafkaé›†ç¾¤ID
}
```

**ğŸ‘¥ æŸ¥çœ‹é›†ç¾¤æˆå‘˜**
```bash
# æŸ¥çœ‹æ‰€æœ‰WorkerèŠ‚ç‚¹
curl http://localhost:8083/admin/workers | jq

# è¾“å‡ºè¯´æ˜ï¼š
[
  {
    "id": "worker-1:8083",      # Workeræ ‡è¯†
    "url": "http://worker-1:8083"  # REST APIåœ°å€
  },
  {
    "id": "worker-2:8083",      # ç¬¬äºŒä¸ªWorker
    "url": "http://worker-2:8083"
  }
]
```

---

## 4. ğŸ”§ ç‹¬ç«‹æ¨¡å¼æ“ä½œå®è·µ


### 4.1 ç‹¬ç«‹æ¨¡å¼å¯åŠ¨


**ğŸ“‹ å¯åŠ¨å‘½ä»¤æ ¼å¼**
```bash
# è¯­æ³•ï¼šå¯åŠ¨è„šæœ¬ + Connecté…ç½® + è¿æ¥å™¨é…ç½®
bin/connect-standalone.sh \
  config/connect-standalone.properties \
  config/your-connector.properties
```

**ğŸ”¸ å®é™…å¯åŠ¨ç¤ºä¾‹**
```bash
# å¯åŠ¨æ–‡ä»¶æºè¿æ¥å™¨ï¼ˆè¯»å–æ–‡ä»¶å†…å®¹å‘é€åˆ°Kafkaï¼‰
bin/connect-standalone.sh \
  config/connect-standalone.properties \
  config/connect-file-source.properties
```

### 4.2 ç‹¬ç«‹æ¨¡å¼é…ç½®æ–‡ä»¶


**âš™ï¸ connect-standalone.propertieså…³é”®é…ç½®**
```properties
# Kafkaè¿æ¥
bootstrap.servers=localhost:9092

# åç§»é‡å­˜å‚¨ï¼ˆç‹¬ç«‹æ¨¡å¼å­˜å‚¨åœ¨æœ¬åœ°æ–‡ä»¶ï¼‰
offset.storage.file.filename=/tmp/connect.offsets

# æ•°æ®æ ¼å¼è½¬æ¢
key.converter=org.apache.kafka.connect.storage.StringConverter
value.converter=org.apache.kafka.connect.storage.StringConverter
```

### 4.3 å¸¸ç”¨è¿æ¥å™¨é…ç½®ç¤ºä¾‹


**ğŸ“„ æ–‡ä»¶æºè¿æ¥å™¨é…ç½®**
```properties
# connect-file-source.properties

# è¿æ¥å™¨åŸºæœ¬ä¿¡æ¯
name=local-file-source          # è¿æ¥å™¨åç§°
connector.class=FileStreamSource # è¿æ¥å™¨ç±»å‹

# ä¸šåŠ¡é…ç½®
file=/tmp/input.txt             # æºæ–‡ä»¶è·¯å¾„
topic=my-topic                  # ç›®æ ‡Topic
```

**ğŸ’¾ æ–‡ä»¶ç›®æ ‡è¿æ¥å™¨é…ç½®**
```properties
# connect-file-sink.properties

name=local-file-sink
connector.class=FileStreamSink

# ä¸šåŠ¡é…ç½®
file=/tmp/output.txt            # è¾“å‡ºæ–‡ä»¶è·¯å¾„
topics=my-topic                 # æºTopic
```

---

## 5. ğŸŒ REST APIç®¡ç†æ“ä½œ


### 5.1 è¿æ¥å™¨ç®¡ç†API


**ğŸ“‹ æŸ¥çœ‹æ‰€æœ‰è¿æ¥å™¨**
```bash
# è·å–è¿æ¥å™¨åˆ—è¡¨
curl http://localhost:8083/connectors | jq

# è¾“å‡ºç¤ºä¾‹ï¼š
[
  "mysql-source-connector",
  "elasticsearch-sink-connector"
]
```

**ğŸ” æŸ¥çœ‹è¿æ¥å™¨è¯¦ç»†ä¿¡æ¯**
```bash
# æŸ¥çœ‹ç‰¹å®šè¿æ¥å™¨é…ç½®
curl http://localhost:8083/connectors/mysql-source-connector | jq

# æŸ¥çœ‹è¿æ¥å™¨çŠ¶æ€
curl http://localhost:8083/connectors/mysql-source-connector/status | jq
```

### 5.2 è¿æ¥å™¨ç”Ÿå‘½å‘¨æœŸæ“ä½œ


**â• åˆ›å»ºæ–°è¿æ¥å™¨**
```bash
# é€šè¿‡POSTè¯·æ±‚åˆ›å»ºè¿æ¥å™¨
curl -X POST http://localhost:8083/connectors \
  -H "Content-Type: application/json" \
  -d '{
    "name": "mysql-source-demo",
    "config": {
      "connector.class": "io.confluent.connect.jdbc.JdbcSourceConnector",
      "connection.url": "jdbc:mysql://localhost:3306/testdb",
      "connection.user": "root",
      "connection.password": "password",
      "table.whitelist": "users",
      "mode": "incrementing",
      "incrementing.column.name": "id",
      "topic.prefix": "mysql-"
    }
  }'
```

**â¸ï¸ æš‚åœè¿æ¥å™¨**
```bash
# æš‚åœè¿æ¥å™¨ï¼ˆåœæ­¢æ•°æ®å¤„ç†ï¼Œä½†ä¿ç•™é…ç½®ï¼‰
curl -X PUT http://localhost:8083/connectors/mysql-source-demo/pause

# æ¢å¤è¿æ¥å™¨
curl -X PUT http://localhost:8083/connectors/mysql-source-demo/resume
```

**ğŸ—‘ï¸ åˆ é™¤è¿æ¥å™¨**
```bash
# å®Œå…¨åˆ é™¤è¿æ¥å™¨
curl -X DELETE http://localhost:8083/connectors/mysql-source-demo
```

### 5.3 æ’ä»¶ç®¡ç†


**ğŸ”Œ æŸ¥çœ‹å¯ç”¨æ’ä»¶**
```bash
# æŸ¥çœ‹æ‰€æœ‰å·²å®‰è£…çš„è¿æ¥å™¨æ’ä»¶
curl http://localhost:8083/connector-plugins | jq

# è¾“å‡ºç¤ºä¾‹ï¼š
[
  {
    "class": "org.apache.kafka.connect.file.FileStreamSinkConnector",
    "type": "sink",
    "version": "3.4.0"
  },
  {
    "class": "org.apache.kafka.connect.file.FileStreamSourceConnector", 
    "type": "source",
    "version": "3.4.0"
  }
]
```

**âœ… éªŒè¯è¿æ¥å™¨é…ç½®**
```bash
# åœ¨åˆ›å»ºå‰éªŒè¯é…ç½®æ˜¯å¦æ­£ç¡®
curl -X PUT http://localhost:8083/connector-plugins/JdbcSourceConnector/config/validate \
  -H "Content-Type: application/json" \
  -d '{
    "connector.class": "io.confluent.connect.jdbc.JdbcSourceConnector",
    "connection.url": "jdbc:mysql://localhost:3306/testdb"
  }'
```

---

## 6. ğŸ”„ è¿æ¥å™¨ç”Ÿå‘½å‘¨æœŸç®¡ç†


### 6.1 è¿æ¥å™¨çŠ¶æ€ç†è§£


**ğŸ“Š çŠ¶æ€ç±»å‹è¯´æ˜**
```
UNASSIGNED  ï¼šå°šæœªåˆ†é…ç»™WorkerèŠ‚ç‚¹
RUNNING     ï¼šæ­£å¸¸è¿è¡Œä¸­
PAUSED      ï¼šå·²æš‚åœï¼ˆäººå·¥æ“ä½œï¼‰
FAILED      ï¼šè¿è¡Œå¤±è´¥
DESTROYED   ï¼šå·²é”€æ¯
```

**ğŸ” çŠ¶æ€æŸ¥è¯¢å‘½ä»¤**
```bash
# æŸ¥çœ‹è¿æ¥å™¨æ•´ä½“çŠ¶æ€
curl http://localhost:8083/connectors/my-connector/status | jq

# è¾“å‡ºè§£è¯»ï¼š
{
  "name": "my-connector",
  "connector": {
    "state": "RUNNING",           # è¿æ¥å™¨çŠ¶æ€
    "worker_id": "worker-1:8083"  # è¿è¡Œçš„Worker
  },
  "tasks": [                      # ä»»åŠ¡åˆ—è¡¨
    {
      "id": 0,
      "state": "RUNNING",
      "worker_id": "worker-1:8083"
    }
  ]
}
```

### 6.2 é…ç½®æ›´æ–°æ“ä½œ


**ğŸ”§ æ›´æ–°è¿æ¥å™¨é…ç½®**
```bash
# æ›´æ–°ç°æœ‰è¿æ¥å™¨çš„é…ç½®
curl -X PUT http://localhost:8083/connectors/my-connector/config \
  -H "Content-Type: application/json" \
  -d '{
    "connector.class": "FileStreamSource",
    "file": "/tmp/new-input.txt",    # æ›´æ”¹è¾“å…¥æ–‡ä»¶
    "topic": "updated-topic"         # æ›´æ”¹ç›®æ ‡Topic
  }'

# âš ï¸ æ³¨æ„ï¼šé…ç½®æ›´æ–°ä¼šè§¦å‘è¿æ¥å™¨é‡å¯
```

### 6.3 ä»»åŠ¡ç®¡ç†æ“ä½œ


**ğŸ”„ é‡å¯æ“ä½œ**
```bash
# é‡å¯æ•´ä¸ªè¿æ¥å™¨
curl -X POST http://localhost:8083/connectors/my-connector/restart

# é‡å¯ç‰¹å®šä»»åŠ¡
curl -X POST http://localhost:8083/connectors/my-connector/tasks/0/restart

# å¼ºåˆ¶é‡å¯ï¼ˆå¿½ç•¥å½“å‰çŠ¶æ€ï¼‰
curl -X POST "http://localhost:8083/connectors/my-connector/restart?includeTasks=true&onlyFailed=false"
```

---

## 7. ğŸ“ˆ ä»»åŠ¡çŠ¶æ€ç›‘æ§ä¸æ•…éšœå¤„ç†


### 7.1 å¥åº·çŠ¶æ€ç›‘æ§


**ğŸ’š ç³»ç»Ÿå¥åº·æ£€æŸ¥**
```bash
# æ£€æŸ¥Connecté›†ç¾¤å¥åº·çŠ¶æ€
curl http://localhost:8083/admin/health | jq

# æ£€æŸ¥ç‰¹å®šè¿æ¥å™¨å¥åº·çŠ¶æ€
curl http://localhost:8083/connectors/my-connector/status | jq '.connector.state'
```

**ğŸ“Š æ€§èƒ½æŒ‡æ ‡æŸ¥è¯¢**
```bash
# æŸ¥çœ‹ä»»åŠ¡æŒ‡æ ‡ï¼ˆå¦‚æœå¯ç”¨JMXï¼‰
curl http://localhost:8083/admin/loggers | jq

# æŸ¥çœ‹è¿æ¥å™¨ä»»åŠ¡è¯¦æƒ…
curl http://localhost:8083/connectors/my-connector/tasks | jq
```

### 7.2 å¸¸è§æ•…éšœæ’æŸ¥


**â— è¿æ¥å™¨å¯åŠ¨å¤±è´¥**
```bash
# æ­¥éª¤1ï¼šæŸ¥çœ‹è¯¦ç»†é”™è¯¯ä¿¡æ¯
curl http://localhost:8083/connectors/failed-connector/status | jq '.connector.trace'

# æ­¥éª¤2ï¼šæ£€æŸ¥é…ç½®æœ‰æ•ˆæ€§
curl -X PUT http://localhost:8083/connector-plugins/YourConnector/config/validate \
  -H "Content-Type: application/json" \
  -d @your-config.json

# æ­¥éª¤3ï¼šæŸ¥çœ‹Workeræ—¥å¿—
tail -f logs/connect.log
```

**ğŸ”§ ä»»åŠ¡å¤±è´¥æ¢å¤**
```bash
# æŸ¥çœ‹å¤±è´¥åŸå› 
curl http://localhost:8083/connectors/my-connector/tasks/0/status | jq '.trace'

# ä¿®å¤é…ç½®åé‡å¯
curl -X POST http://localhost:8083/connectors/my-connector/tasks/0/restart
```

### 7.3 æ—¥å¿—ç®¡ç†


**ğŸ“ åŠ¨æ€è°ƒæ•´æ—¥å¿—çº§åˆ«**
```bash
# æŸ¥çœ‹å½“å‰æ—¥å¿—é…ç½®
curl http://localhost:8083/admin/loggers | jq

# è°ƒæ•´ç‰¹å®šåŒ…çš„æ—¥å¿—çº§åˆ«
curl -X PUT http://localhost:8083/admin/loggers/org.apache.kafka.connect \
  -H "Content-Type: application/json" \
  -d '{"level": "DEBUG"}'

# æ¢å¤é»˜è®¤æ—¥å¿—çº§åˆ«
curl -X PUT http://localhost:8083/admin/loggers/org.apache.kafka.connect \
  -H "Content-Type: application/json" \
  -d '{"level": "INFO"}'
```

---

## 8. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 8.1 å¿…é¡»æŒæ¡çš„åŸºæœ¬æ¦‚å¿µ


```
ğŸ”¸ Connectä½œç”¨ï¼šKafkaä¸å¤–éƒ¨ç³»ç»Ÿçš„æ•°æ®æ¡¥æ¢
ğŸ”¸ ä¸¤ç§è§’è‰²ï¼šSourceè¿æ¥å™¨ï¼ˆæ•°æ®è¾“å…¥ï¼‰ã€Sinkè¿æ¥å™¨ï¼ˆæ•°æ®è¾“å‡ºï¼‰
ğŸ”¸ è¿è¡Œæ¨¡å¼ï¼šåˆ†å¸ƒå¼æ¨¡å¼ï¼ˆç”Ÿäº§ï¼‰ã€ç‹¬ç«‹æ¨¡å¼ï¼ˆå¼€å‘æµ‹è¯•ï¼‰
ğŸ”¸ ç®¡ç†æ–¹å¼ï¼šREST APIè¿›è¡ŒåŠ¨æ€ç®¡ç†
ğŸ”¸ æ‰©å±•æ€§ï¼šé€šè¿‡æ’ä»¶æ”¯æŒå„ç§å¤–éƒ¨ç³»ç»Ÿ
```

### 8.2 å…³é”®å‘½ä»¤é€ŸæŸ¥


**ğŸš€ å¯åŠ¨å‘½ä»¤**
```bash
# åˆ†å¸ƒå¼æ¨¡å¼
bin/connect-distributed.sh config/connect-distributed.properties

# ç‹¬ç«‹æ¨¡å¼
bin/connect-standalone.sh config/connect-standalone.properties config/connector.properties
```

**ğŸ”Œ REST APIæ ¸å¿ƒæ“ä½œ**
```bash
# è¿æ¥å™¨ç®¡ç†
GET    /connectors                    # åˆ—å‡ºæ‰€æœ‰è¿æ¥å™¨
POST   /connectors                    # åˆ›å»ºè¿æ¥å™¨
GET    /connectors/{name}             # æŸ¥çœ‹è¿æ¥å™¨é…ç½®
PUT    /connectors/{name}/config      # æ›´æ–°é…ç½®
DELETE /connectors/{name}             # åˆ é™¤è¿æ¥å™¨

# çŠ¶æ€ç›‘æ§
GET    /connectors/{name}/status      # æŸ¥çœ‹çŠ¶æ€
PUT    /connectors/{name}/pause       # æš‚åœ
PUT    /connectors/{name}/resume      # æ¢å¤
POST   /connectors/{name}/restart     # é‡å¯

# æ’ä»¶ç®¡ç†
GET    /connector-plugins             # æŸ¥çœ‹å¯ç”¨æ’ä»¶
```

### 8.3 å®é™…åº”ç”¨åœºæ™¯


**ğŸ’¼ å…¸å‹ä½¿ç”¨åœºæ™¯**
- **æ•°æ®åŒæ­¥**ï¼šMySQL â†’ Kafka â†’ Elasticsearch
- **æ—¥å¿—æ”¶é›†**ï¼šåº”ç”¨æ—¥å¿— â†’ Kafka â†’ HDFS
- **å®æ—¶ETL**ï¼šæ•°æ®åº“å˜æ›´ â†’ Kafka â†’ æ•°æ®ä»“åº“
- **äº‹ä»¶æµå¤„ç†**ï¼šå¾®æœåŠ¡äº‹ä»¶ â†’ Kafka â†’ ç›‘æ§ç³»ç»Ÿ

### 8.4 æœ€ä½³å®è·µå»ºè®®


**ğŸ¯ ç”Ÿäº§ç¯å¢ƒå»ºè®®**
```
âœ… ä½¿ç”¨åˆ†å¸ƒå¼æ¨¡å¼éƒ¨ç½²
âœ… é…ç½®åˆé€‚çš„å‰¯æœ¬å› å­ï¼ˆå†…éƒ¨Topicï¼‰
âœ… ç›‘æ§è¿æ¥å™¨çŠ¶æ€å’Œæ€§èƒ½
âœ… å®šæœŸå¤‡ä»½è¿æ¥å™¨é…ç½®
âœ… åˆç†è®¾ç½®èµ„æºé™åˆ¶
âœ… å®æ–½æ—¥å¿—ç®¡ç†ç­–ç•¥
```

**âš ï¸ å¸¸è§æ³¨æ„äº‹é¡¹**
```
â€¢ Connectå†…éƒ¨Topicä¸è¦æ‰‹åŠ¨åˆ é™¤
â€¢ é…ç½®æ›´æ–°ä¼šå¯¼è‡´è¿æ¥å™¨é‡å¯
â€¢ ç‹¬ç«‹æ¨¡å¼ä¸æ”¯æŒåŠ¨æ€é…ç½®æ›´æ–°
â€¢ ç¡®ä¿å¤–éƒ¨ç³»ç»Ÿè¿æ¥æƒé™æ­£ç¡®
â€¢ æ³¨æ„æ•°æ®æ ¼å¼è½¬æ¢è®¾ç½®
```

**æ ¸å¿ƒè®°å¿†å£è¯€**ï¼š
```
Connectæ¡¥æ¢è¿ä¸‡ç‰©ï¼ŒSourceè¾“å…¥Sinkè¾“å‡º
åˆ†å¸ƒç”Ÿäº§ç‹¬ç«‹æµ‹è¯•ï¼ŒRESTæ¥å£ç®¡ç†å…¨
çŠ¶æ€ç›‘æ§æ•…éšœæ’æŸ¥ï¼Œæ’ä»¶æ‰©å±•åŠŸèƒ½å¼º
```