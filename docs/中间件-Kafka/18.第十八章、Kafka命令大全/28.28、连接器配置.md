---
title: 28ã€è¿æ¥å™¨é…ç½®
---
## ğŸ“š ç›®å½•

1. [Kafka ConnectåŸºç¡€æ¦‚å¿µ](#1-kafka-connectåŸºç¡€æ¦‚å¿µ)
2. [è¿æ¥å™¨åˆ›å»ºä¸ç®¡ç†](#2-è¿æ¥å™¨åˆ›å»ºä¸ç®¡ç†)
3. [è¿æ¥å™¨é…ç½®æ“ä½œ](#3-è¿æ¥å™¨é…ç½®æ“ä½œ)
4. [è¿æ¥å™¨çŠ¶æ€ä¸ç›‘æ§](#4-è¿æ¥å™¨çŠ¶æ€ä¸ç›‘æ§)
5. [ä»»åŠ¡ç®¡ç†æ“ä½œ](#5-ä»»åŠ¡ç®¡ç†æ“ä½œ)
6. [æ•…éšœæ’æŸ¥ä¸è°ƒè¯•](#6-æ•…éšœæ’æŸ¥ä¸è°ƒè¯•)
7. [å®é™…åº”ç”¨åœºæ™¯](#7-å®é™…åº”ç”¨åœºæ™¯)
8. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#8-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ”Œ Kafka ConnectåŸºç¡€æ¦‚å¿µ


### 1.1 ä»€ä¹ˆæ˜¯Kafka Connect

**ç®€å•ç†è§£**ï¼šKafka Connectå°±åƒæ˜¯ä¸€ä¸ª"æ•°æ®æ¬è¿å·¥"ï¼Œä¸“é—¨è´Ÿè´£æŠŠå¤–éƒ¨ç³»ç»Ÿçš„æ•°æ®æ¬åˆ°Kafkaé‡Œï¼Œæˆ–è€…æŠŠKafkaçš„æ•°æ®æ¬åˆ°å¤–éƒ¨ç³»ç»Ÿã€‚

```
ä¼ ç»Ÿæ•°æ®æµè½¬ï¼š
æ•°æ®åº“ â†’ æ‰‹å·¥ç¼–ç¨‹ â†’ Kafka â†’ æ‰‹å·¥ç¼–ç¨‹ â†’ å¦ä¸€ä¸ªç³»ç»Ÿ

ä½¿ç”¨Kafka Connectï¼š
æ•°æ®åº“ â†’ Connectè¿æ¥å™¨ â†’ Kafka â†’ Connectè¿æ¥å™¨ â†’ å¦ä¸€ä¸ªç³»ç»Ÿ
```

**ğŸ”¸ æ ¸å¿ƒä½œç”¨**
- **æ•°æ®å¯¼å…¥**ï¼šæŠŠå¤–éƒ¨æ•°æ®æºï¼ˆæ•°æ®åº“ã€æ–‡ä»¶ç­‰ï¼‰çš„æ•°æ®å¯¼å…¥åˆ°Kafka
- **æ•°æ®å¯¼å‡º**ï¼šæŠŠKafkaçš„æ•°æ®å¯¼å‡ºåˆ°å¤–éƒ¨ç³»ç»Ÿï¼ˆæ•°æ®åº“ã€æœç´¢å¼•æ“ç­‰ï¼‰
- **å®æ—¶åŒæ­¥**ï¼šä¿æŒæ•°æ®çš„å®æ—¶åŒæ­¥ï¼Œæ— éœ€æ‰‹åŠ¨ç¼–ç¨‹

### 1.2 Connectçš„åŸºæœ¬ç»„ä»¶


**ğŸ“‹ æ ¸å¿ƒç»„ä»¶è§£é‡Š**
```
Connecté›†ç¾¤æ¶æ„ï¼š

    å¤–éƒ¨æ•°æ®æº           Kafka Connecté›†ç¾¤         ç›®æ ‡ç³»ç»Ÿ
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  MySQL  â”‚ â”€â”€â”€â”€â”€â”€â†’ â”‚  Sourceè¿æ¥å™¨   â”‚ â”€â”€â”€â†’ â”‚ Kafka   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚                 â”‚      â”‚ Topics  â”‚
                        â”‚  Sinkè¿æ¥å™¨     â”‚ â”€â”€â”€â†’ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚                 â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚æ–‡ä»¶ç³»ç»Ÿ â”‚ â”€â”€â”€â”€â”€â”€â†’ â”‚     Worker      â”‚ â”€â”€â”€â†’ â”‚ ES/DB   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ğŸ”¸ ç»„ä»¶è¯´æ˜**
- **Worker**ï¼šè¿è¡Œè¿æ¥å™¨çš„å·¥ä½œè¿›ç¨‹ï¼Œå°±åƒæ˜¯"æ¬è¿å·¥äºº"
- **Connector**ï¼šè¿æ¥å™¨ï¼Œå®šä¹‰æ•°æ®ä»å“ªæ¥åˆ°å“ªå»çš„"æ¬è¿è·¯çº¿"
- **Task**ï¼šå…·ä½“çš„æ¬è¿ä»»åŠ¡ï¼Œä¸€ä¸ªè¿æ¥å™¨å¯ä»¥æœ‰å¤šä¸ªä»»åŠ¡å¹¶è¡Œå·¥ä½œ
- **Source Connector**ï¼šæºè¿æ¥å™¨ï¼Œè´Ÿè´£ä»å¤–éƒ¨ç³»ç»Ÿè¯»å–æ•°æ®
- **Sink Connector**ï¼šæ±‡è¿æ¥å™¨ï¼Œè´Ÿè´£æŠŠæ•°æ®å†™å…¥å¤–éƒ¨ç³»ç»Ÿ

### 1.3 è¿è¡Œæ¨¡å¼


**ğŸ”¸ ç‹¬ç«‹æ¨¡å¼ï¼ˆStandaloneï¼‰**
```
é€‚ç”¨åœºæ™¯ï¼šå¼€å‘æµ‹è¯•ã€å°è§„æ¨¡éƒ¨ç½²
ç‰¹ç‚¹ï¼šå•ä¸ªè¿›ç¨‹è¿è¡Œï¼Œé…ç½®ç®€å•
å¯åŠ¨å‘½ä»¤ï¼šconnect-standalone.sh
```

**ğŸ”¸ åˆ†å¸ƒå¼æ¨¡å¼ï¼ˆDistributedï¼‰**
```
é€‚ç”¨åœºæ™¯ï¼šç”Ÿäº§ç¯å¢ƒã€å¤§è§„æ¨¡éƒ¨ç½²
ç‰¹ç‚¹ï¼šå¤šä¸ªWorkerååŒå·¥ä½œï¼Œé«˜å¯ç”¨
å¯åŠ¨å‘½ä»¤ï¼šconnect-distributed.sh
```

---

## 2. ğŸš€ è¿æ¥å™¨åˆ›å»ºä¸ç®¡ç†


### 2.1 è¿æ¥å™¨åˆ›å»ºå‘½ä»¤


**ğŸ”¸ åˆ›å»ºSourceè¿æ¥å™¨ï¼ˆä»æ•°æ®åº“è¯»å–æ•°æ®ï¼‰**
```bash
# åˆ›å»ºMySQLæºè¿æ¥å™¨
curl -X POST http://localhost:8083/connectors -H "Content-Type: application/json" -d '{
  "name": "mysql-source-connector",
  "config": {
    "connector.class": "io.confluent.connect.jdbc.JdbcSourceConnector",
    "connection.url": "jdbc:mysql://localhost:3306/mydb",
    "connection.user": "root",
    "connection.password": "password",
    "table.whitelist": "users,orders",
    "mode": "incrementing",
    "incrementing.column.name": "id",
    "topic.prefix": "mysql-"
  }
}'
```

**ğŸ’¡ é…ç½®å‚æ•°è¯¦è§£**
- `name`ï¼šè¿æ¥å™¨çš„åç§°ï¼Œå°±åƒç»™æ¬è¿å·¥èµ·ä¸ªåå­—
- `connector.class`ï¼šä½¿ç”¨å“ªç§ç±»å‹çš„è¿æ¥å™¨
- `connection.url`ï¼šæ•°æ®åº“è¿æ¥åœ°å€
- `table.whitelist`ï¼šè¦åŒæ­¥å“ªäº›è¡¨
- `mode`ï¼šåŒæ­¥æ¨¡å¼ï¼ˆå¢é‡ã€æ—¶é—´æˆ³ã€æ‰¹é‡ç­‰ï¼‰
- `topic.prefix`ï¼šKafkaä¸»é¢˜çš„å‰ç¼€

**ğŸ”¸ åˆ›å»ºSinkè¿æ¥å™¨ï¼ˆå†™å…¥æ•°æ®åˆ°å¤–éƒ¨ç³»ç»Ÿï¼‰**
```bash
# åˆ›å»ºElasticsearchæ±‡è¿æ¥å™¨
curl -X POST http://localhost:8083/connectors -H "Content-Type: application/json" -d '{
  "name": "elasticsearch-sink-connector",
  "config": {
    "connector.class": "io.confluent.connect.elasticsearch.ElasticsearchSinkConnector",
    "connection.url": "http://localhost:9200",
    "topics": "mysql-users,mysql-orders",
    "type.name": "_doc",
    "key.ignore": "true"
  }
}'
```

### 2.2 è¿æ¥å™¨ç®¡ç†åŸºç¡€å‘½ä»¤


**ğŸ”¸ æŸ¥çœ‹æ‰€æœ‰è¿æ¥å™¨**
```bash
# åˆ—å‡ºæ‰€æœ‰è¿æ¥å™¨
curl -X GET http://localhost:8083/connectors

# è¿”å›ç»“æœç¤ºä¾‹
["mysql-source-connector", "elasticsearch-sink-connector"]
```

**ğŸ”¸ æŸ¥çœ‹è¿æ¥å™¨è¯¦ç»†ä¿¡æ¯**
```bash
# æŸ¥çœ‹æŒ‡å®šè¿æ¥å™¨çš„é…ç½®
curl -X GET http://localhost:8083/connectors/mysql-source-connector

# æŸ¥çœ‹è¿æ¥å™¨é…ç½®ï¼ˆåªè¿”å›é…ç½®éƒ¨åˆ†ï¼‰
curl -X GET http://localhost:8083/connectors/mysql-source-connector/config
```

**ğŸ”¸ åˆ é™¤è¿æ¥å™¨**
```bash
# åˆ é™¤æŒ‡å®šè¿æ¥å™¨
curl -X DELETE http://localhost:8083/connectors/mysql-source-connector

# åˆ é™¤åä¼šåœæ­¢æ‰€æœ‰ç›¸å…³ä»»åŠ¡å¹¶æ¸…ç†èµ„æº
```

---

## 3. âš™ï¸ è¿æ¥å™¨é…ç½®æ“ä½œ


### 3.1 é…ç½®æ›´æ–°å‘½ä»¤


**ğŸ”¸ æ›´æ–°è¿æ¥å™¨é…ç½®**
```bash
# æ›´æ–°è¿æ¥å™¨é…ç½®
curl -X PUT http://localhost:8083/connectors/mysql-source-connector/config \
-H "Content-Type: application/json" -d '{
  "connector.class": "io.confluent.connect.jdbc.JdbcSourceConnector",
  "connection.url": "jdbc:mysql://localhost:3306/mydb",
  "connection.user": "root",
  "connection.password": "newpassword",
  "table.whitelist": "users,orders,products",
  "mode": "incrementing",
  "incrementing.column.name": "id",
  "topic.prefix": "mysql-",
  "poll.interval.ms": "5000"
}'
```

**ğŸ’¡ æ›´æ–°è¯´æ˜**
- æ›´æ–°é…ç½®ä¼šé‡å¯è¿æ¥å™¨
- å¯ä»¥æ·»åŠ æ–°çš„è¡¨åˆ°åŒæ­¥åˆ—è¡¨
- å¯ä»¥è°ƒæ•´è½®è¯¢é—´éš”ç­‰å‚æ•°

### 3.2 é…ç½®éªŒè¯å·¥å…·


**ğŸ”¸ éªŒè¯è¿æ¥å™¨é…ç½®**
```bash
# éªŒè¯é…ç½®æ˜¯å¦æ­£ç¡®ï¼ˆä¸ä¼šçœŸæ­£åˆ›å»ºè¿æ¥å™¨ï¼‰
curl -X PUT http://localhost:8083/connector-plugins/JdbcSourceConnector/config/validate \
-H "Content-Type: application/json" -d '{
  "connector.class": "io.confluent.connect.jdbc.JdbcSourceConnector",
  "connection.url": "jdbc:mysql://localhost:3306/testdb",
  "connection.user": "testuser",
  "connection.password": "testpass"
}'
```

**ğŸ”¸ æŸ¥çœ‹å¯ç”¨è¿æ¥å™¨æ’ä»¶**
```bash
# åˆ—å‡ºæ‰€æœ‰å¯ç”¨çš„è¿æ¥å™¨æ’ä»¶
curl -X GET http://localhost:8083/connector-plugins

# è¿”å›ç»“æœåŒ…å«æ‰€æœ‰å·²å®‰è£…çš„è¿æ¥å™¨ç±»å‹
```

### 3.3 å¸¸ç”¨é…ç½®æ¨¡æ¿


**ğŸ“‹ MySQLæºè¿æ¥å™¨é…ç½®æ¨¡æ¿**
```json
{
  "name": "mysql-source",
  "config": {
    "connector.class": "io.confluent.connect.jdbc.JdbcSourceConnector",
    "connection.url": "jdbc:mysql://localhost:3306/database_name",
    "connection.user": "username",
    "connection.password": "password",
    "mode": "incrementing",
    "incrementing.column.name": "id",
    "table.whitelist": "table1,table2",
    "topic.prefix": "mysql-",
    "poll.interval.ms": "1000",
    "batch.max.rows": "500"
  }
}
```

**ğŸ“‹ æ–‡ä»¶æºè¿æ¥å™¨é…ç½®æ¨¡æ¿**
```json
{
  "name": "file-source",
  "config": {
    "connector.class": "FileStreamSource",
    "file": "/path/to/input/file.txt",
    "topic": "file-topic",
    "tasks.max": "1"
  }
}
```

---

## 4. ğŸ“Š è¿æ¥å™¨çŠ¶æ€ä¸ç›‘æ§


### 4.1 çŠ¶æ€æŸ¥è¯¢å‘½ä»¤


**ğŸ”¸ æŸ¥çœ‹è¿æ¥å™¨è¿è¡ŒçŠ¶æ€**
```bash
# æŸ¥çœ‹è¿æ¥å™¨çŠ¶æ€
curl -X GET http://localhost:8083/connectors/mysql-source-connector/status

# è¿”å›ç»“æœç¤ºä¾‹
{
  "name": "mysql-source-connector",
  "connector": {
    "state": "RUNNING",
    "worker_id": "connect-1:8083"
  },
  "tasks": [
    {
      "id": 0,
      "state": "RUNNING", 
      "worker_id": "connect-1:8083"
    }
  ]
}
```

**ğŸ’¡ çŠ¶æ€å«ä¹‰è§£é‡Š**
- `RUNNING`ï¼šæ­£å¸¸è¿è¡Œä¸­
- `PAUSED`ï¼šå·²æš‚åœ
- `FAILED`ï¼šè¿è¡Œå¤±è´¥
- `UNASSIGNED`ï¼šæœªåˆ†é…åˆ°Worker

**ğŸ”¸ æŸ¥çœ‹æ‰€æœ‰è¿æ¥å™¨çŠ¶æ€æ€»è§ˆ**
```bash
# æ‰¹é‡æŸ¥çœ‹æ‰€æœ‰è¿æ¥å™¨çŠ¶æ€
for connector in $(curl -s http://localhost:8083/connectors); do
  echo "=== $connector ==="
  curl -s http://localhost:8083/connectors/$connector/status | jq .
done
```

### 4.2 ç›‘æ§æŒ‡æ ‡æŸ¥è¯¢


**ğŸ”¸ æŸ¥çœ‹è¿æ¥å™¨æŒ‡æ ‡ä¿¡æ¯**
```bash
# æŸ¥çœ‹WorkerèŠ‚ç‚¹ä¿¡æ¯
curl -X GET http://localhost:8083/

# è¿”å›Connecté›†ç¾¤çš„åŸºæœ¬ä¿¡æ¯
{
  "version": "2.8.0",
  "commit": "ebb1d6e21cc92130",
  "kafka_cluster_id": "cluster-123"
}
```

---

## 5. ğŸ”§ ä»»åŠ¡ç®¡ç†æ“ä½œ


### 5.1 ä»»åŠ¡æ§åˆ¶å‘½ä»¤


**ğŸ”¸ é‡å¯è¿æ¥å™¨**
```bash
# é‡å¯æ•´ä¸ªè¿æ¥å™¨ï¼ˆåŒ…æ‹¬æ‰€æœ‰ä»»åŠ¡ï¼‰
curl -X POST http://localhost:8083/connectors/mysql-source-connector/restart

# é‡å¯æ—¶ä¼šé‡æ–°åŠ è½½é…ç½®å¹¶é‡æ–°åˆ†é…ä»»åŠ¡
```

**ğŸ”¸ é‡å¯å•ä¸ªä»»åŠ¡**
```bash
# é‡å¯æŒ‡å®šä»»åŠ¡ï¼ˆä»»åŠ¡IDä»0å¼€å§‹ï¼‰
curl -X POST http://localhost:8083/connectors/mysql-source-connector/tasks/0/restart

# åªé‡å¯å‡ºé—®é¢˜çš„ç‰¹å®šä»»åŠ¡ï¼Œä¸å½±å“å…¶ä»–ä»»åŠ¡
```

**ğŸ”¸ æš‚åœå’Œæ¢å¤è¿æ¥å™¨**
```bash
# æš‚åœè¿æ¥å™¨ï¼ˆåœæ­¢å¤„ç†æ•°æ®ä½†ä¿æŒé…ç½®ï¼‰
curl -X PUT http://localhost:8083/connectors/mysql-source-connector/pause

# æ¢å¤è¿æ¥å™¨è¿è¡Œ
curl -X PUT http://localhost:8083/connectors/mysql-source-connector/resume
```

### 5.2 ä»»åŠ¡ä¿¡æ¯æŸ¥è¯¢


**ğŸ”¸ æŸ¥çœ‹ä»»åŠ¡è¯¦ç»†ä¿¡æ¯**
```bash
# æŸ¥çœ‹è¿æ¥å™¨çš„æ‰€æœ‰ä»»åŠ¡
curl -X GET http://localhost:8083/connectors/mysql-source-connector/tasks

# æŸ¥çœ‹ç‰¹å®šä»»åŠ¡çŠ¶æ€
curl -X GET http://localhost:8083/connectors/mysql-source-connector/tasks/0/status
```

**ğŸ”¸ æŸ¥çœ‹ä»»åŠ¡é…ç½®**
```bash
# æŸ¥çœ‹ä»»åŠ¡çš„å…·ä½“é…ç½®
curl -X GET http://localhost:8083/connectors/mysql-source-connector/tasks/0/config
```

---

## 6. ğŸ” æ•…éšœæ’æŸ¥ä¸è°ƒè¯•


### 6.1 é”™è¯¯ä¿¡æ¯æŸ¥çœ‹


**ğŸ”¸ æŸ¥çœ‹è¿æ¥å™¨é”™è¯¯ä¿¡æ¯**
```bash
# æŸ¥çœ‹è¿æ¥å™¨çŠ¶æ€ï¼ˆåŒ…å«é”™è¯¯ä¿¡æ¯ï¼‰
curl -X GET http://localhost:8083/connectors/mysql-source-connector/status

# å¦‚æœæœ‰é”™è¯¯ï¼Œä¼šåœ¨è¿”å›ç»“æœä¸­æ˜¾ç¤º
{
  "name": "mysql-source-connector",
  "connector": {
    "state": "FAILED",
    "trace": "org.apache.kafka.connect.errors.ConnectException: ..."
  }
}
```

**ğŸ”¸ æŸ¥çœ‹Workeræ—¥å¿—**
```bash
# æŸ¥çœ‹Connect Workerçš„æ—¥å¿—æ–‡ä»¶
tail -f /path/to/kafka/logs/connect.log

# æˆ–è€…ä½¿ç”¨grepè¿‡æ»¤ç‰¹å®šè¿æ¥å™¨çš„æ—¥å¿—
grep "mysql-source-connector" /path/to/kafka/logs/connect.log
```

### 6.2 å¸¸è§é—®é¢˜æ’æŸ¥


**âš ï¸ è¿æ¥å™¨åˆ›å»ºå¤±è´¥**
```bash
# æ£€æŸ¥é…ç½®éªŒè¯
curl -X PUT http://localhost:8083/connector-plugins/JdbcSourceConnector/config/validate \
-H "Content-Type: application/json" -d '{é…ç½®å†…å®¹}'

# å¸¸è§åŸå› ï¼š
# 1. æ•°æ®åº“è¿æ¥å¤±è´¥
# 2. è¡¨ä¸å­˜åœ¨
# 3. æƒé™ä¸è¶³
# 4. é…ç½®å‚æ•°é”™è¯¯
```

**âš ï¸ æ•°æ®ä¸åŒæ­¥é—®é¢˜**
```bash
# æ£€æŸ¥è¿æ¥å™¨çŠ¶æ€
curl -X GET http://localhost:8083/connectors/mysql-source-connector/status

# æ£€æŸ¥Kafkaä¸»é¢˜æ˜¯å¦æœ‰æ•°æ®
kafka-console-consumer.sh --bootstrap-server localhost:9092 \
  --topic mysql-users --from-beginning
```

### 6.3 è°ƒè¯•æŠ€å·§


**ğŸ’¡ æ—¥å¿—çº§åˆ«è°ƒæ•´**
```bash
# åŠ¨æ€è°ƒæ•´æ—¥å¿—çº§åˆ«ï¼ˆæ— éœ€é‡å¯ï¼‰
curl -X PUT http://localhost:8083/admin/loggers/io.confluent.connect.jdbc \
-H "Content-Type: application/json" -d '{"level": "DEBUG"}'

# æ¢å¤é»˜è®¤æ—¥å¿—çº§åˆ«
curl -X PUT http://localhost:8083/admin/loggers/io.confluent.connect.jdbc \
-H "Content-Type: application/json" -d '{"level": "INFO"}'
```

---

## 7. ğŸ¯ å®é™…åº”ç”¨åœºæ™¯


### 7.1 æ•°æ®åº“åŒæ­¥åœºæ™¯


**ğŸ“Š MySQLåˆ°Kafkaæ•°æ®åŒæ­¥**
```bash
# 1. åˆ›å»ºMySQLæºè¿æ¥å™¨
curl -X POST http://localhost:8083/connectors -H "Content-Type: application/json" -d '{
  "name": "mysql-users-source",
  "config": {
    "connector.class": "io.confluent.connect.jdbc.JdbcSourceConnector",
    "connection.url": "jdbc:mysql://localhost:3306/ecommerce",
    "connection.user": "kafka_user",
    "connection.password": "kafka_pass",
    "table.whitelist": "users",
    "mode": "timestamp+incrementing",
    "timestamp.column.name": "updated_at",
    "incrementing.column.name": "id",
    "topic.prefix": "ecommerce-"
  }
}'

# 2. éªŒè¯æ•°æ®åŒæ­¥
kafka-console-consumer.sh --bootstrap-server localhost:9092 \
  --topic ecommerce-users --from-beginning
```

### 7.2 æ—¥å¿—æ”¶é›†åœºæ™¯


**ğŸ“ æ–‡ä»¶æ—¥å¿—åˆ°Kafka**
```bash
# åˆ›å»ºæ–‡ä»¶æºè¿æ¥å™¨
curl -X POST http://localhost:8083/connectors -H "Content-Type: application/json" -d '{
  "name": "app-logs-source",
  "config": {
    "connector.class": "FileStreamSource",
    "file": "/var/log/application.log",
    "topic": "app-logs",
    "tasks.max": "1"
  }
}'
```

### 7.3 æ•°æ®å¯¼å‡ºåœºæ™¯


**ğŸ“¤ Kafkaåˆ°Elasticsearch**
```bash
# åˆ›å»ºESæ±‡è¿æ¥å™¨
curl -X POST http://localhost:8083/connectors -H "Content-Type: application/json" -d '{
  "name": "es-sink-connector",
  "config": {
    "connector.class": "io.confluent.connect.elasticsearch.ElasticsearchSinkConnector",
    "connection.url": "http://localhost:9200",
    "topics": "ecommerce-users,ecommerce-orders",
    "type.name": "_doc",
    "key.ignore": "true",
    "schema.ignore": "true"
  }
}'
```

---

## 8. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 8.1 å¿…é¡»æŒæ¡çš„åŸºæœ¬æ¦‚å¿µ


```
ğŸ”¸ Kafka Connectï¼šæ•°æ®æ¬è¿å·¥ï¼Œè¿æ¥Kafkaå’Œå¤–éƒ¨ç³»ç»Ÿ
ğŸ”¸ è¿æ¥å™¨ç±»å‹ï¼šSourceï¼ˆæ•°æ®å¯¼å…¥ï¼‰å’ŒSinkï¼ˆæ•°æ®å¯¼å‡ºï¼‰
ğŸ”¸ è¿è¡Œæ¨¡å¼ï¼šç‹¬ç«‹æ¨¡å¼ï¼ˆå¼€å‘ï¼‰å’Œåˆ†å¸ƒå¼æ¨¡å¼ï¼ˆç”Ÿäº§ï¼‰
ğŸ”¸ æ ¸å¿ƒç»„ä»¶ï¼šWorkerã€Connectorã€Taskçš„åä½œå…³ç³»
ğŸ”¸ REST APIï¼šé€šè¿‡HTTPè¯·æ±‚ç®¡ç†è¿æ¥å™¨çš„æ‰€æœ‰æ“ä½œ
```

### 8.2 å…³é”®æ“ä½œå‘½ä»¤é€ŸæŸ¥


**ğŸ”¹ è¿æ¥å™¨ç”Ÿå‘½å‘¨æœŸç®¡ç†**
```bash
# åˆ›å»ºè¿æ¥å™¨
curl -X POST http://localhost:8083/connectors -d '{é…ç½®}'

# æŸ¥çœ‹è¿æ¥å™¨
curl -X GET http://localhost:8083/connectors/[name]

# æ›´æ–°é…ç½®
curl -X PUT http://localhost:8083/connectors/[name]/config -d '{é…ç½®}'

# åˆ é™¤è¿æ¥å™¨
curl -X DELETE http://localhost:8083/connectors/[name]
```

**ğŸ”¹ çŠ¶æ€ç›‘æ§å‘½ä»¤**
```bash
# æŸ¥çœ‹çŠ¶æ€
curl -X GET http://localhost:8083/connectors/[name]/status

# é‡å¯è¿æ¥å™¨
curl -X POST http://localhost:8083/connectors/[name]/restart

# æš‚åœ/æ¢å¤
curl -X PUT http://localhost:8083/connectors/[name]/pause
curl -X PUT http://localhost:8083/connectors/[name]/resume
```

### 8.3 æœ€ä½³å®è·µè¦ç‚¹


**ğŸ’¡ é…ç½®å»ºè®®**
- **å‘½åè§„èŒƒ**ï¼šä½¿ç”¨æœ‰æ„ä¹‰çš„è¿æ¥å™¨åç§°ï¼Œå¦‚`mysql-users-source`
- **èµ„æºæ§åˆ¶**ï¼šåˆç†è®¾ç½®`tasks.max`é¿å…è¿‡åº¦å¹¶è¡Œ
- **é”™è¯¯å¤„ç†**ï¼šé…ç½®é€‚å½“çš„é”™è¯¯å¤„ç†ç­–ç•¥
- **ç›‘æ§å‘Šè­¦**ï¼šå®šæœŸæ£€æŸ¥è¿æ¥å™¨çŠ¶æ€å’Œé”™è¯¯æ—¥å¿—

**ğŸ’¡ æ•…éšœæ’æŸ¥æ€è·¯**
```
1. æ£€æŸ¥è¿æ¥å™¨çŠ¶æ€ï¼šæ˜¯å¦Running
2. æŸ¥çœ‹é”™è¯¯æ—¥å¿—ï¼šå®šä½å…·ä½“é—®é¢˜
3. éªŒè¯é…ç½®ï¼šæ•°æ®åº“è¿æ¥ã€æƒé™ã€è¡¨åç­‰
4. æµ‹è¯•è¿é€šæ€§ï¼šç½‘ç»œã€é˜²ç«å¢™ã€ç«¯å£ç­‰
5. ç›‘æ§èµ„æºï¼šCPUã€å†…å­˜ã€ç£ç›˜ä½¿ç”¨æƒ…å†µ
```

**ğŸ’¡ ç”Ÿäº§ç¯å¢ƒæ³¨æ„äº‹é¡¹**
- **é«˜å¯ç”¨éƒ¨ç½²**ï¼šä½¿ç”¨åˆ†å¸ƒå¼æ¨¡å¼ï¼Œå¤šWorkerèŠ‚ç‚¹
- **èµ„æºéš”ç¦»**ï¼šä¸åŒç±»å‹è¿æ¥å™¨åˆ†é…åˆ°ä¸åŒWorker
- **å¤‡ä»½é…ç½®**ï¼šä¿å­˜è¿æ¥å™¨é…ç½®ç”¨äºç¾éš¾æ¢å¤
- **ç‰ˆæœ¬ç®¡ç†**ï¼šè¿æ¥å™¨æ’ä»¶ç‰ˆæœ¬ä¸Kafkaç‰ˆæœ¬å…¼å®¹æ€§

### 8.4 å­¦ä¹ å»ºè®®


**ğŸ¯ å­¦ä¹ è·¯å¾„**
1. **ç†è§£æ¦‚å¿µ**ï¼šå…ˆææ¸…æ¥šConnectæ˜¯åšä»€ä¹ˆçš„
2. **åŠ¨æ‰‹å®è·µ**ï¼šä»ç®€å•çš„æ–‡ä»¶è¿æ¥å™¨å¼€å§‹
3. **è¿›é˜¶é…ç½®**ï¼šå­¦ä¹ æ•°æ®åº“è¿æ¥å™¨çš„å„ç§å‚æ•°
4. **ç›‘æ§è¿ç»´**ï¼šæŒæ¡çŠ¶æ€æŸ¥çœ‹å’Œæ•…éšœæ’æŸ¥
5. **ç”Ÿäº§åº”ç”¨**ï¼šäº†è§£é«˜å¯ç”¨å’Œæ€§èƒ½ä¼˜åŒ–

**æ ¸å¿ƒè®°å¿†è¦ç‚¹**ï¼š
- Connectæ˜¯Kafkaç”Ÿæ€ä¸­çš„æ•°æ®é›†æˆå·¥å…·
- é€šè¿‡REST APIè¿›è¡Œæ‰€æœ‰ç®¡ç†æ“ä½œ
- Sourceè´Ÿè´£æ•°æ®å¯¼å…¥ï¼ŒSinkè´Ÿè´£æ•°æ®å¯¼å‡º  
- çŠ¶æ€ç›‘æ§å’Œé”™è¯¯æ’æŸ¥æ˜¯è¿ç»´çš„å…³é”®æŠ€èƒ½
- åˆç†é…ç½®å‚æ•°æ¯”ç›²ç›®å¢åŠ å¹¶è¡Œåº¦æ›´é‡è¦