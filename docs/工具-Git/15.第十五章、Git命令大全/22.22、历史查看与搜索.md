---
title: 22、历史查看与搜索
---
## 📚 目录

1. [什么是Git历史查看？](#1-什么是git历史查看)
2. [时间范围过滤](#2-时间范围过滤)
3. [作者与提交信息搜索](#3-作者与提交信息搜索)
4. [代码内容搜索](#4-代码内容搜索)
5. [分支与显示选项](#5-分支与显示选项)
6. [实战应用场景](#6-实战应用场景)
7. [核心要点总结](#7-核心要点总结)

---

## 1. 📖 什么是Git历史查看？


### 1.1 历史查看的本质


**🔸 简单理解**
想象Git就像是你项目的"时光机"，每次提交都是一个时间节点。历史查看就是让你回到过去，查看项目在不同时间点的状态。

```
项目时间轴：
提交A ─→ 提交B ─→ 提交C ─→ 提交D（当前）
 昨天     今早     下午1点    现在

git log 就是查看这条时间轴上的所有记录
```

**💡 为什么需要查看历史？**
- **找bug来源**：某个功能突然出错了，想知道是什么时候改的
- **了解项目进展**：看看团队成员都做了什么
- **代码考古**：寻找某段代码是谁写的、什么时候写的
- **回滚准备**：找到稳定的版本进行回退

### 1.2 基础查看命令


**最简单的历史查看**：
```bash
git log
```

这会显示：
```
commit a1b2c3d4e5f6... (最新的提交)
Author: 张三 <zhangsan@email.com>
Date: Sat Sep 21 14:30:00 2025 +0800

    修复了登录页面的样式问题

commit f6e5d4c3b2a1... (稍早的提交)
Author: 李四 <lisi@email.com>  
Date: Fri Sep 20 16:45:00 2025 +0800

    添加了用户注册功能
```

> 💡 **新手提示**：按 `q` 键可以退出log查看界面

---

## 2. ⏰ 时间范围过滤


### 2.1 按开始时间过滤（--since）


**🔸 基本概念**
`--since` 就是"从什么时候开始"的意思，让你查看某个时间点之后的所有提交。

**常用时间格式**：
```bash
# 查看昨天以来的提交
git log --since="yesterday"

# 查看一周内的提交  
git log --since="1 week ago"

# 查看具体日期后的提交
git log --since="2025-09-15"

# 查看具体时间后的提交
git log --since="2025-09-21 10:00"
```

**📝 实际应用示例**：
```bash
# 场景：想看看这个月都提交了什么
git log --since="1 month ago" --oneline

# 输出示例：
a1b2c3d 修复了登录页面的样式问题
f6e5d4c 添加了用户注册功能  
9e8d7c6 更新了数据库配置
```

### 2.2 按截止时间过滤（--until）


**🔸 基本概念**
`--until` 就是"到什么时候为止"，查看某个时间点之前的提交。

```bash
# 查看昨天之前的所有提交
git log --until="yesterday"

# 查看指定日期之前的提交
git log --until="2025-09-15"

# 组合使用：查看特定时间段的提交
git log --since="2025-09-01" --until="2025-09-15"
```

**💡 实用技巧**：
```bash
# 查看上周的工作内容
git log --since="2 weeks ago" --until="1 week ago" --author="你的名字"
```

### 2.3 时间格式大全


| **格式类型** | **示例** | **说明** |
|-------------|----------|----------|
| **相对时间** | `"1 hour ago"` | 1小时前 |
| | `"yesterday"` | 昨天 |
| | `"1 week ago"` | 1周前 |
| | `"2 months ago"` | 2个月前 |
| **绝对日期** | `"2025-09-21"` | 具体日期 |
| **日期时间** | `"2025-09-21 14:30"` | 具体日期和时间 |
| **ISO格式** | `"2025-09-21T14:30:00"` | 标准ISO时间格式 |

---

## 3. 👤 作者与提交信息搜索


### 3.1 按作者过滤（--author）


**🔸 基本概念**
当你想知道某个人都提交了什么代码时，用 `--author` 来过滤。

```bash
# 查看张三的所有提交
git log --author="张三"

# 支持部分匹配
git log --author="zhang"

# 支持邮箱匹配
git log --author="zhangsan@email.com"
```

**📊 实用场景**：
```bash
# 查看自己本周的工作
git log --author="你的名字" --since="1 week ago" --oneline

# 查看某个同事的贡献
git log --author="同事姓名" --stat
```

### 3.2 按提交消息搜索（--grep）


**🔸 基本概念**
`--grep` 让你在提交消息中搜索关键词，就像在文档中搜索一样。

```bash
# 搜索包含"修复"的提交
git log --grep="修复"

# 搜索包含"login"的提交  
git log --grep="login"

# 大小写不敏感搜索
git log --grep="LOGIN" -i
```

**🎯 实际应用**：
```bash
# 找所有的bug修复
git log --grep="fix\|修复\|bug" -i --oneline

# 找功能添加相关的提交
git log --grep="add\|新增\|feature" -i --oneline
```

### 3.3 组合搜索


```bash
# 查看张三修复bug的提交
git log --author="张三" --grep="修复"

# 查看本周所有人的bug修复
git log --since="1 week ago" --grep="fix\|bug" -i
```

---

## 4. 🔍 代码内容搜索


### 4.1 字符串内容搜索（-S）


**🔸 基本概念**
`-S` 选项让你搜索代码中添加或删除了特定字符串的提交，简单说就是"这行代码是什么时候加的？"

```bash
# 搜索添加或删除了"password"的提交
git log -S"password"

# 搜索函数名变化
git log -S"getUserInfo"

# 搜索配置项变化
git log -S"database_host"
```

**📝 实战示例**：
```
假设你想知道数据库密码是什么时候改的：

git log -S"database_password" --oneline

输出：
a1b2c3d 更新数据库配置
f6e5d4c 初始化数据库连接
```

### 4.2 正则表达式搜索（-G）


**🔸 基本概念**
`-G` 比 `-S` 更强大，支持正则表达式模式匹配。

```bash
# 搜索所有函数定义变化
git log -G"function.*login"

# 搜索变量声明变化
git log -G"var\s+\w+\s*="

# 搜索SQL语句变化
git log -G"SELECT.*FROM.*users"
```

**💡 新手提示**：
- `-S` 适合搜索具体的字符串
- `-G` 适合搜索模式，但需要了解正则表达式

### 4.3 实用搜索组合


```bash
# 找到某个API调用是什么时候加的
git log -S"api.user.login" --oneline --stat

# 查看最近修改CSS样式的提交
git log -S"color:" --since="1 week ago" -- "*.css"
```

---

## 5. 🌳 分支与显示选项


### 5.1 查看所有分支（--all）


**🔸 基本概念**
默认情况下，`git log` 只显示当前分支的历史。`--all` 让你看到所有分支的提交。

```
分支结构示意：
main:     A─B─C─D
           \
feature:    E─F
             \
hotfix:       G

# 默认在main分支：只看到A-B-C-D
git log --oneline

# 查看所有分支：看到A-B-C-D-E-F-G
git log --all --oneline
```

**实用命令**：
```bash
# 查看所有分支的提交历史
git log --all --oneline --graph

# 查看所有分支的详细信息
git log --all --decorate --graph
```

### 5.2 显示装饰信息（--decorate）


**🔸 基本概念**
`--decorate` 会显示分支名、标签等引用信息，让你知道每个提交属于哪个分支。

```bash
git log --oneline --decorate

# 输出示例：
a1b2c3d (HEAD -> main, origin/main) 修复登录问题
f6e5d4c (tag: v1.0.0) 发布版本1.0
9e8d7c6 (feature/user-auth) 添加用户认证
```

**📊 装饰信息解读**：
- `HEAD -> main`：当前在main分支
- `origin/main`：远程main分支
- `tag: v1.0.0`：版本标签
- `feature/user-auth`：功能分支

### 5.3 图形化显示（--graph）


```bash
# 显示分支合并图
git log --oneline --graph --all

# 输出示例：
* a1b2c3d (HEAD -> main) 合并功能分支
|\
| * f6e5d4c (feature/login) 完成登录功能
| * 9e8d7c6 添加登录表单
|/
* 5c4b3a2 初始提交
```

---

## 6. 💼 实战应用场景


### 6.1 日常开发场景


**🎯 场景1：查看今天的工作内容**
```bash
git log --since="today" --author="你的名字" --oneline
```

**🎯 场景2：准备周报**
```bash
# 查看本周团队工作
git log --since="1 week ago" --all --oneline --decorate
```

**🎯 场景3：找bug引入时间**
```bash
# 找包含特定错误代码的提交
git log -S"NullPointerException" --oneline
```

### 6.2 团队协作场景


**🎯 场景4：了解新同事的贡献**
```bash
git log --author="新同事" --stat --since="1 month ago"
```

**🎯 场景5：版本发布前检查**
```bash
# 查看距离上次发布的所有变更
git log --since="v1.0.0" --oneline --decorate
```

### 6.3 问题排查场景


**🎯 场景6：追踪配置变更**
```bash
# 查看配置文件的修改历史
git log -p -- config.json
```

**🎯 场景7：找回丢失的功能**
```bash
# 搜索删除的函数
git log -S"旧函数名" --all --oneline
```

### 6.4 组合命令速查表


| **使用场景** | **命令** | **说明** |
|-------------|----------|----------|
| **查看今日工作** | `git log --since="today" --author="我"` | 今天我做了什么 |
| **周工作总结** | `git log --since="1 week ago" --oneline` | 一周的提交概览 |
| **找bug修复** | `git log --grep="fix\|bug" -i` | 查找修复相关提交 |
| **代码考古** | `git log -S"关键代码" --oneline` | 找代码修改历史 |
| **分支对比** | `git log --all --graph --oneline` | 可视化分支历史 |

---

## 7. 📋 核心要点总结


### 7.1 必须掌握的核心概念


```
🔸 时间过滤：--since（从何时开始） --until（到何时结束）
🔸 人员过滤：--author（按作者查找）
🔸 消息搜索：--grep（在提交消息中搜索）
🔸 内容搜索：-S（字符串搜索） -G（正则搜索）
🔸 分支查看：--all（所有分支） --decorate（显示引用）
```

### 7.2 关键理解要点


**🔹 搜索的本质**
```
Git搜索就像在图书馆找书：
- 时间过滤：按出版年份找书
- 作者过滤：按作者找书  
- 消息搜索：按书名关键词找书
- 内容搜索：按书中内容找书
```

**🔹 选项组合的威力**
```
单独使用：功能有限
组合使用：威力无穷

例如：git log --since="1 week ago" --author="张三" --grep="修复"
含义：找张三在过去一周内修复的问题
```

**🔹 常用时间表达**
```
记忆技巧：
- yesterday = 昨天
- "1 week ago" = 一周前  
- "2 hours ago" = 两小时前
- 具体日期用 "YYYY-MM-DD" 格式
```

### 7.3 实际应用价值


**📈 提升效率的使用建议**：
- **每日回顾**：`git log --since="today" --author="自己"`
- **周报准备**：`git log --since="1 week ago" --oneline`  
- **问题排查**：`git log -S"错误关键词" --oneline`
- **代码审查**：`git log --author="同事" --since="昨天"`

**🎯 新手学习建议**：
1. **先掌握基础**：`git log` 和 `--oneline`
2. **然后学时间过滤**：`--since` 和 `--until`
3. **再学搜索功能**：`--author` 和 `--grep`
4. **最后学高级功能**：`-S` 和 `--all`

**💡 实用小贴士**：
- 使用 `--oneline` 让输出更简洁
- 结合 `--graph` 可视化分支历史
- 善用Tab键自动补全分支名和作者名
- 记住 `q` 键退出log查看界面

**核心记忆口诀**：
> 时间用since和until，作者用author很简单  
> 消息搜索用grep好，内容查找S和G  
> 所有分支用all看，装饰信息decorate全