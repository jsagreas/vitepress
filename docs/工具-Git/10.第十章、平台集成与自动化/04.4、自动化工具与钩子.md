---
title: 4ã€è‡ªåŠ¨åŒ–å·¥å…·ä¸é’©å­
---
## ğŸ“š ç›®å½•

1. [Gité’©å­ç³»ç»ŸåŸºç¡€](#1-gité’©å­ç³»ç»ŸåŸºç¡€)
2. [å¸¸ç”¨é’©å­ç±»å‹è¯¦è§£](#2-å¸¸ç”¨é’©å­ç±»å‹è¯¦è§£)
3. [Huskyå·¥å…·é›†æˆå®æˆ˜](#3-huskyå·¥å…·é›†æˆå®æˆ˜)
4. [ä»£ç è´¨é‡è‡ªåŠ¨åŒ–](#4-ä»£ç è´¨é‡è‡ªåŠ¨åŒ–)
5. [æäº¤ä¿¡æ¯è§„èŒƒè‡ªåŠ¨åŒ–](#5-æäº¤ä¿¡æ¯è§„èŒƒè‡ªåŠ¨åŒ–)
6. [å®æˆ˜æ¡ˆä¾‹ä¸æœ€ä½³å®è·µ](#6-å®æˆ˜æ¡ˆä¾‹ä¸æœ€ä½³å®è·µ)
7. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#7-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ£ Gité’©å­ç³»ç»ŸåŸºç¡€


### 1.1 ä»€ä¹ˆæ˜¯Gité’©å­ï¼Ÿ


> ğŸ’¡ **ç”Ÿæ´»ç±»æ¯”**ï¼šå°±åƒå®¶é‡Œçš„çƒŸé›¾æŠ¥è­¦å™¨ï¼Œå½“æ£€æµ‹åˆ°çƒŸé›¾æ—¶è‡ªåŠ¨å“é“ƒã€‚Gité’©å­å°±æ˜¯ä»£ç ä»“åº“çš„"æŠ¥è­¦å™¨"ï¼Œåœ¨ç‰¹å®šæ—¶æœºè‡ªåŠ¨æ‰§è¡ŒæŒ‡å®šçš„è„šæœ¬ã€‚

**ğŸ”¸ æ ¸å¿ƒå®šä¹‰**
```
Gité’©å­ï¼ˆGit Hooksï¼‰ï¼šåœ¨Gitæ“ä½œè¿‡ç¨‹ä¸­è‡ªåŠ¨è§¦å‘æ‰§è¡Œçš„è„šæœ¬
ä½œç”¨æ—¶æœºï¼šæäº¤å‰ã€æ¨é€å‰ã€åˆå¹¶åç­‰å…³é”®èŠ‚ç‚¹
ç›®çš„ï¼šè‡ªåŠ¨åŒ–ä»£ç è´¨é‡æ£€æŸ¥ã€æ ¼å¼åŒ–ã€æµ‹è¯•ç­‰å·¥ä½œ
```

**ğŸ  é’©å­å­˜æ”¾ä½ç½®**
```
é¡¹ç›®æ ¹ç›®å½•/.git/hooks/
â”œâ”€â”€ pre-commit          â† æäº¤å‰æ‰§è¡Œ
â”œâ”€â”€ pre-push            â† æ¨é€å‰æ‰§è¡Œ  
â”œâ”€â”€ commit-msg          â† æäº¤ä¿¡æ¯æ£€æŸ¥
â”œâ”€â”€ post-commit         â† æäº¤åæ‰§è¡Œ
â””â”€â”€ ...æ›´å¤šé’©å­æ–‡ä»¶
```

### 1.2 é’©å­çš„å·¥ä½œåŸç†


**âš¡ æ‰§è¡Œæµç¨‹å›¾**
```
å¼€å‘è€…æ“ä½œ          Gitæ£€æŸ¥          é’©å­æ‰§è¡Œ          æ“ä½œç»“æœ
     |                |                |                |
git commit â”€â”€â”€â”€â”€â”€â”€â”€â†’ æ£€æŸ¥hooks â”€â”€â”€â”€â†’ æ‰§è¡Œpre-commit â”€â”€â†’ æäº¤æˆåŠŸ/å¤±è´¥
     |                |                |                |
git push â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ æ£€æŸ¥hooks â”€â”€â”€â”€â†’ æ‰§è¡Œpre-push â”€â”€â”€â”€â†’ æ¨é€æˆåŠŸ/å¤±è´¥
```

**ğŸ”§ é’©å­ç±»å‹åˆ†ç±»**
```
å®¢æˆ·ç«¯é’©å­ï¼ˆåœ¨æœ¬åœ°æ‰§è¡Œï¼‰ï¼š
ğŸ”¸ pre-commitï¼šæäº¤å‰æ£€æŸ¥ä»£ç è´¨é‡
ğŸ”¸ commit-msgï¼šæ£€æŸ¥æäº¤ä¿¡æ¯æ ¼å¼
ğŸ”¸ pre-pushï¼šæ¨é€å‰æœ€åéªŒè¯

æœåŠ¡ç«¯é’©å­ï¼ˆåœ¨è¿œç¨‹ä»“åº“æ‰§è¡Œï¼‰ï¼š
ğŸ”¸ pre-receiveï¼šæ¥æ”¶æ¨é€å‰æ£€æŸ¥
ğŸ”¸ post-receiveï¼šæ¥æ”¶æ¨é€åå¤„ç†
```

### 1.3 ä¸ºä»€ä¹ˆéœ€è¦é’©å­ï¼Ÿ


**âŒ æ²¡æœ‰é’©å­çš„é—®é¢˜**
```
å¸¸è§åœºæ™¯é—®é¢˜ï¼š
â€¢ æäº¤äº†æ ¼å¼æ··ä¹±çš„ä»£ç 
â€¢ æ¨é€äº†æœ‰è¯­æ³•é”™è¯¯çš„ä»£ç 
â€¢ æäº¤ä¿¡æ¯ä¸è§„èŒƒï¼Œéš¾ä»¥è¿½è¸ª
â€¢ å¿˜è®°è¿è¡Œæµ‹è¯•å°±æäº¤
â€¢ ä»£ç é£æ ¼ä¸ç»Ÿä¸€
```

**âœ… ä½¿ç”¨é’©å­çš„å¥½å¤„**
```
è‡ªåŠ¨åŒ–ä¿éšœï¼š
â€¢ ä»£ç è´¨é‡ï¼šè‡ªåŠ¨æ£€æŸ¥è¯­æ³•é”™è¯¯
â€¢ æ ¼å¼ç»Ÿä¸€ï¼šè‡ªåŠ¨æ ¼å¼åŒ–ä»£ç 
â€¢ è§„èŒƒæäº¤ï¼šå¼ºåˆ¶è§„èŒƒçš„æäº¤ä¿¡æ¯
â€¢ æµ‹è¯•ä¿éšœï¼šæäº¤å‰è‡ªåŠ¨è¿è¡Œæµ‹è¯•
â€¢ å›¢é˜Ÿåä½œï¼šç»Ÿä¸€çš„ä»£ç æ ‡å‡†
```

---

## 2. ğŸ”§ å¸¸ç”¨é’©å­ç±»å‹è¯¦è§£


### 2.1 pre-commité’©å­è¯¦è§£


**ğŸ¯ æ ¸å¿ƒä½œç”¨**ï¼šåœ¨`git commit`æ‰§è¡Œå‰è¿›è¡Œä»£ç æ£€æŸ¥

> ğŸ­ **å·¥å‚ç±»æ¯”**ï¼šå°±åƒå·¥å‚çš„è´¨æ£€å‘˜ï¼Œäº§å“è£…ç®±å‰å¿…é¡»æ£€æŸ¥è´¨é‡ï¼Œä¸åˆæ ¼çš„ä¸èƒ½å‡ºå‚ã€‚

**ğŸ“‹ å…¸å‹åº”ç”¨åœºæ™¯**
```
ä»£ç è´¨é‡æ£€æŸ¥ï¼š
â€¢ è¯­æ³•æ£€æŸ¥ï¼ˆESLintã€Pylintç­‰ï¼‰
â€¢ ä»£ç æ ¼å¼åŒ–ï¼ˆPrettierã€Blackç­‰ï¼‰
â€¢ ç±»å‹æ£€æŸ¥ï¼ˆTypeScriptã€mypyç­‰ï¼‰
â€¢ å•å…ƒæµ‹è¯•æ‰§è¡Œ
â€¢ ä»£ç å¤æ‚åº¦æ£€æŸ¥
```

**ğŸ”¸ åŸºç¡€é’©å­ç¤ºä¾‹**
```bash
#!/bin/sh

# .git/hooks/pre-commit


echo "ğŸ” å¼€å§‹ä»£ç è´¨é‡æ£€æŸ¥..."

# æ£€æŸ¥JavaScriptè¯­æ³•

npm run lint
if [ $? -ne 0 ]; then
    echo "âŒ ä»£ç è¯­æ³•æ£€æŸ¥å¤±è´¥ï¼Œè¯·ä¿®å¤åå†æäº¤"
    exit 1
fi

# è¿è¡Œæµ‹è¯•

npm test
if [ $? -ne 0 ]; then
    echo "âŒ æµ‹è¯•å¤±è´¥ï¼Œè¯·ä¿®å¤åå†æäº¤"
    exit 1
fi

echo "âœ… æ£€æŸ¥é€šè¿‡ï¼Œå‡†å¤‡æäº¤"
```

### 2.2 pre-pushé’©å­è¯¦è§£


**ğŸ¯ æ ¸å¿ƒä½œç”¨**ï¼šåœ¨`git push`æ‰§è¡Œå‰è¿›è¡Œæœ€ç»ˆéªŒè¯

> ğŸšª **å®‰æ£€ç±»æ¯”**ï¼šå°±åƒæœºåœºå®‰æ£€ï¼Œç™»æœºå‰çš„æœ€åä¸€é“æ£€æŸ¥ï¼Œç¡®ä¿æ²¡æœ‰å±é™©ç‰©å“å¸¦ä¸Šé£æœºã€‚

**ğŸ“‹ å…¸å‹åº”ç”¨åœºæ™¯**
```
æ¨é€å‰éªŒè¯ï¼š
â€¢ å®Œæ•´æµ‹è¯•å¥—ä»¶æ‰§è¡Œ
â€¢ æ„å»ºéªŒè¯
â€¢ ä¾èµ–æ£€æŸ¥
â€¢ åˆ†æ”¯ä¿æŠ¤æ£€æŸ¥
â€¢ æ•æ„Ÿä¿¡æ¯æ£€æŸ¥
```

**ğŸ”¸ å®ç”¨é’©å­ç¤ºä¾‹**
```bash
#!/bin/sh

# .git/hooks/pre-push


echo "ğŸš€ å¼€å§‹æ¨é€å‰æ£€æŸ¥..."

# æ£€æŸ¥æ˜¯å¦åœ¨æ­£ç¡®åˆ†æ”¯

current_branch=$(git branch --show-current)
if [ "$current_branch" = "main" ]; then
    echo "âš ï¸  è­¦å‘Šï¼šæ­£åœ¨å‘mainåˆ†æ”¯æ¨é€ï¼Œè¯·ç¡®è®¤"
    read -p "ç¡®è®¤æ¨é€åˆ°mainåˆ†æ”¯å—ï¼Ÿ(y/N): " confirm
    if [ "$confirm" != "y" ]; then
        echo "âŒ å–æ¶ˆæ¨é€"
        exit 1
    fi
fi

# è¿è¡Œå®Œæ•´æµ‹è¯•

echo "ğŸ§ª è¿è¡Œå®Œæ•´æµ‹è¯•å¥—ä»¶..."
npm run test:full
if [ $? -ne 0 ]; then
    echo "âŒ å®Œæ•´æµ‹è¯•å¤±è´¥"
    exit 1
fi

echo "âœ… æ¨é€å‰æ£€æŸ¥é€šè¿‡"
```

### 2.3 commit-msgé’©å­è¯¦è§£


**ğŸ¯ æ ¸å¿ƒä½œç”¨**ï¼šæ£€æŸ¥æäº¤ä¿¡æ¯æ˜¯å¦ç¬¦åˆè§„èŒƒ

> ğŸ“ **ä½œæ–‡ç±»æ¯”**ï¼šå°±åƒè€å¸ˆæ£€æŸ¥ä½œæ–‡æ ¼å¼ï¼Œæ ‡é¢˜è¦è§„èŒƒï¼Œå†…å®¹è¦æ¸…æ™°ï¼Œä¸ç¬¦åˆè¦æ±‚å°±è¦é‡å†™ã€‚

**ğŸ“‹ æäº¤ä¿¡æ¯è§„èŒƒç¤ºä¾‹**
```
æ ‡å‡†æ ¼å¼ï¼š
feat: æ·»åŠ ç”¨æˆ·ç™»å½•åŠŸèƒ½
fix: ä¿®å¤å¯†ç éªŒè¯bug
docs: æ›´æ–°APIæ–‡æ¡£
style: ä»£ç æ ¼å¼åŒ–
test: æ·»åŠ å•å…ƒæµ‹è¯•

è§„èŒƒè¯´æ˜ï¼š
â€¢ type: description
â€¢ typeå¿…é¡»æ˜¯é¢„å®šä¹‰ç±»å‹
â€¢ descriptionç®€æ´æ˜ç¡®
â€¢ å¯é€‰çš„scopeå’Œbody
```

**ğŸ”¸ æäº¤ä¿¡æ¯æ£€æŸ¥ç¤ºä¾‹**
```bash
#!/bin/sh

# .git/hooks/commit-msg


commit_msg_file=$1
commit_msg=$(cat $commit_msg_file)

# æ£€æŸ¥æäº¤ä¿¡æ¯æ ¼å¼

pattern="^(feat|fix|docs|style|refactor|test|chore)(\(.+\))?: .{1,50}"

if ! echo "$commit_msg" | grep -qE "$pattern"; then
    echo "âŒ æäº¤ä¿¡æ¯æ ¼å¼ä¸æ­£ç¡®"
    echo "æ­£ç¡®æ ¼å¼ï¼štype(scope): description"
    echo "ç¤ºä¾‹ï¼šfeat(auth): æ·»åŠ ç”¨æˆ·ç™»å½•åŠŸèƒ½"
    exit 1
fi

echo "âœ… æäº¤ä¿¡æ¯æ ¼å¼æ­£ç¡®"
```

---

## 3. ğŸ”¨ Huskyå·¥å…·é›†æˆå®æˆ˜


### 3.1 ä»€ä¹ˆæ˜¯Huskyï¼Ÿ


> ğŸ• **å°ç‹—ç±»æ¯”**ï¼šHuskyå°±åƒä¸€åªè®­ç»ƒæœ‰ç´ çš„çœ‹é—¨ç‹—ï¼Œå¸®ä½ å®ˆæŠ¤ä»£ç ä»“åº“ï¼Œåœ¨æœ‰äººæƒ³æäº¤"åä»£ç "æ—¶è‡ªåŠ¨é˜»æ­¢ã€‚

**ğŸ”¸ æ ¸å¿ƒç‰¹ç‚¹**
```
Husky = Gité’©å­çš„ç®¡ç†å·¥å…·
ä¼˜åŠ¿ï¼š
â€¢ ç®€åŒ–é’©å­é…ç½®
â€¢ å›¢é˜Ÿå…±äº«é’©å­è®¾ç½®
â€¢ è·¨å¹³å°å…¼å®¹
â€¢ ä¸package.jsoné›†æˆ
â€¢ æ”¯æŒæ‰€æœ‰Gité’©å­
```

### 3.2 Huskyå®‰è£…ä¸é…ç½®


**ğŸ› ï¸ å®‰è£…æ­¥éª¤**

**ç¬¬ä¸€æ­¥ï¼šå®‰è£…Husky**
```bash
# é¡¹ç›®ä¸­å®‰è£…husky

npm install --save-dev husky

# å¯ç”¨Gité’©å­

npx husky install

# æ·»åŠ å®‰è£…è„šæœ¬ï¼ˆå¯é€‰ï¼‰

npm pkg set scripts.prepare="husky install"
```

**ç¬¬äºŒæ­¥ï¼šåˆ›å»ºé’©å­**
```bash
# åˆ›å»ºpre-commité’©å­

npx husky add .husky/pre-commit "npm run lint"

# åˆ›å»ºpre-pushé’©å­  

npx husky add .husky/pre-push "npm test"

# åˆ›å»ºcommit-msgé’©å­

npx husky add .husky/commit-msg 'npx --no -- commitlint --edit "$1"'
```

**ç¬¬ä¸‰æ­¥ï¼šç›®å½•ç»“æ„**
```
é¡¹ç›®æ ¹ç›®å½•/
â”œâ”€â”€ .husky/
â”‚   â”œâ”€â”€ _/
â”‚   â”œâ”€â”€ pre-commit      â† æäº¤å‰é’©å­
â”‚   â”œâ”€â”€ pre-push        â† æ¨é€å‰é’©å­
â”‚   â””â”€â”€ commit-msg      â† æäº¤ä¿¡æ¯é’©å­
â”œâ”€â”€ package.json
â””â”€â”€ ...
```

### 3.3 Huskyé…ç½®æ¡ˆä¾‹


**ğŸ“¦ package.jsoné…ç½®**
```json
{
  "scripts": {
    "prepare": "husky install",
    "lint": "eslint . --fix",
    "format": "prettier --write .",
    "test": "jest",
    "pre-commit": "lint-staged"
  },
  "devDependencies": {
    "husky": "^8.0.0",
    "lint-staged": "^13.0.0",
    "eslint": "^8.0.0",
    "prettier": "^2.0.0"
  }
}
```

**ğŸ”¸ .husky/pre-commitæ–‡ä»¶**
```bash
#!/usr/bin/env sh

. "$(dirname -- "$0")/_/husky.sh"

echo "ğŸ” è¿è¡Œä»£ç æ£€æŸ¥..."
npm run pre-commit
```

---

## 4. ğŸ§¹ ä»£ç è´¨é‡è‡ªåŠ¨åŒ–


### 4.1 lint-stagedå¢é‡æ£€æŸ¥


**ğŸ¯ æ ¸å¿ƒç†å¿µ**ï¼šåªæ£€æŸ¥æœ¬æ¬¡æäº¤çš„æ–‡ä»¶ï¼Œä¸æ£€æŸ¥æ•´ä¸ªé¡¹ç›®

> ğŸ  **æ‰“æ‰«ç±»æ¯”**ï¼šå°±åƒåªæ‰“æ‰«å¼„è„çš„æˆ¿é—´ï¼Œè€Œä¸æ˜¯æ¯æ¬¡éƒ½æ‰“æ‰«æ•´ä¸ªæˆ¿å­ï¼Œæ•ˆç‡æ›´é«˜ã€‚

**ğŸ”¸ å®‰è£…é…ç½®**
```bash
# å®‰è£…lint-staged

npm install --save-dev lint-staged
```

**ğŸ“‹ é…ç½®æ–‡ä»¶ç¤ºä¾‹**
```json
// package.json
{
  "lint-staged": {
    "*.{js,jsx,ts,tsx}": [
      "eslint --fix",
      "prettier --write"
    ],
    "*.{css,scss,less}": [
      "stylelint --fix",
      "prettier --write"
    ],
    "*.{md,json}": [
      "prettier --write"
    ]
  }
}
```

### 4.2 å¤šè¯­è¨€ä»£ç æ£€æŸ¥


**ğŸŒ æ”¯æŒå¤šç§ç¼–ç¨‹è¯­è¨€**

**JavaScript/TypeScripté¡¹ç›®**
```bash
# .husky/pre-commit

#!/usr/bin/env sh

. "$(dirname -- "$0")/_/husky.sh"

# JavaScriptè¯­æ³•æ£€æŸ¥

npx eslint . --fix
# TypeScriptç±»å‹æ£€æŸ¥  

npx tsc --noEmit
# ä»£ç æ ¼å¼åŒ–

npx prettier --write .
# è¿è¡Œæµ‹è¯•

npm test
```

**Pythoné¡¹ç›®**
```bash
# .husky/pre-commit

#!/usr/bin/env sh

. "$(dirname -- "$0")/_/husky.sh"

# Pythonè¯­æ³•æ£€æŸ¥

flake8 .
# ä»£ç æ ¼å¼åŒ–

black .
# ç±»å‹æ£€æŸ¥

mypy .
# è¿è¡Œæµ‹è¯•

pytest
```

### 4.3 ä»£ç æ ¼å¼åŒ–è‡ªåŠ¨åŒ–


**ğŸ¨ ä¿æŒä»£ç é£æ ¼ç»Ÿä¸€**

**Prettieré…ç½®ç¤ºä¾‹**
```json
// .prettierrc
{
  "semi": true,
  "trailingComma": "es5",
  "singleQuote": true,
  "printWidth": 80,
  "tabWidth": 2
}
```

**è‡ªåŠ¨æ ¼å¼åŒ–æµç¨‹**
```
å¼€å‘è€…æäº¤ä»£ç 
       â†“
pre-commité’©å­è§¦å‘
       â†“
lint-stagedæ£€æŸ¥ä¿®æ”¹æ–‡ä»¶
       â†“
è‡ªåŠ¨è¿è¡Œprettieræ ¼å¼åŒ–
       â†“
è‡ªåŠ¨è¿è¡Œeslintä¿®å¤
       â†“
æ£€æŸ¥é€šè¿‡ â†’ å…è®¸æäº¤
æ£€æŸ¥å¤±è´¥ â†’ é˜»æ­¢æäº¤
```

---

## 5. ğŸ“ æäº¤ä¿¡æ¯è§„èŒƒè‡ªåŠ¨åŒ–


### 5.1 Conventional Commitsè§„èŒƒ


**ğŸ“‹ æ ‡å‡†æäº¤æ ¼å¼**
```
type(scope): description

[å¯é€‰çš„body]

[å¯é€‰çš„footer]
```

**ğŸ”¸ æäº¤ç±»å‹è¯´æ˜**
| ç±»å‹ | **è¯´æ˜** | **ç¤ºä¾‹** |
|------|---------|----------|
| `feat` | **æ–°åŠŸèƒ½** | `feat(auth): æ·»åŠ å¾®ä¿¡ç™»å½•` |
| `fix` | **ä¿®å¤bug** | `fix(api): ä¿®å¤ç”¨æˆ·æ•°æ®è·å–é”™è¯¯` |
| `docs` | **æ–‡æ¡£æ›´æ–°** | `docs: æ›´æ–°å®‰è£…æŒ‡å—` |
| `style` | **ä»£ç æ ¼å¼** | `style: ç»Ÿä¸€ä»£ç ç¼©è¿›` |
| `refactor` | **é‡æ„ä»£ç ** | `refactor: ä¼˜åŒ–æ•°æ®åº“æŸ¥è¯¢é€»è¾‘` |
| `test` | **æµ‹è¯•ç›¸å…³** | `test: æ·»åŠ ç”¨æˆ·æ¨¡å—å•å…ƒæµ‹è¯•` |
| `chore` | **æ„å»º/å·¥å…·** | `chore: æ›´æ–°ä¾èµ–ç‰ˆæœ¬` |

### 5.2 commitlinté…ç½®


**ğŸ› ï¸ å®‰è£…commitlint**
```bash
# å®‰è£…commitlint

npm install --save-dev @commitlint/cli @commitlint/config-conventional

# åˆ›å»ºé…ç½®æ–‡ä»¶

echo "module.exports = {extends: ['@commitlint/config-conventional']}" > commitlint.config.js
```

**ğŸ”¸ commitlint.config.jsé…ç½®**
```javascript
module.exports = {
  extends: ['@commitlint/config-conventional'],
  rules: {
    'type-enum': [
      2,
      'always',
      ['feat', 'fix', 'docs', 'style', 'refactor', 'test', 'chore']
    ],
    'type-case': [2, 'always', 'lower-case'],
    'subject-case': [2, 'always', 'lower-case'],
    'subject-max-length': [2, 'always', 50],
    'body-max-line-length': [2, 'always', 72]
  }
}
```

### 5.3 äº¤äº’å¼æäº¤å·¥å…·


**ğŸ¯ ä½¿ç”¨commitizenç®€åŒ–æäº¤**

**å®‰è£…é…ç½®**
```bash
# å®‰è£…commitizen

npm install --save-dev commitizen cz-conventional-changelog

# é…ç½®package.json

npm pkg set scripts.commit="cz"
npm pkg set config.commitizen.path="cz-conventional-changelog"
```

**ä½¿ç”¨æ–¹å¼**
```bash
# æ›¿ä»£git commitçš„äº¤äº’å¼æäº¤

npm run commit

# æˆ–è€…å…¨å±€å®‰è£…åç›´æ¥ä½¿ç”¨

git cz
```

**ğŸ“‹ äº¤äº’å¼ç•Œé¢ç¤ºä¾‹**
```
? é€‰æ‹©æäº¤ç±»å‹: (Use arrow keys)
â¯ feat:     æ–°åŠŸèƒ½
  fix:      ä¿®å¤bug  
  docs:     æ–‡æ¡£æ›´æ–°
  style:    ä»£ç æ ¼å¼
  refactor: é‡æ„ä»£ç 
  test:     æµ‹è¯•ç›¸å…³
  chore:    æ„å»º/å·¥å…·

? å½±å“èŒƒå›´ (å¯é€‰): auth
? ç®€çŸ­æè¿°: æ·»åŠ å¾®ä¿¡ç™»å½•åŠŸèƒ½
? è¯¦ç»†æè¿° (å¯é€‰): 
? æ˜¯å¦ç ´åæ€§å˜æ›´?: No
? å½±å“çš„issues (å¯é€‰): #123
```

---

## 6. ğŸ’¼ å®æˆ˜æ¡ˆä¾‹ä¸æœ€ä½³å®è·µ


### 6.1 å®Œæ•´é¡¹ç›®é…ç½®æ¡ˆä¾‹


**ğŸ—ï¸ å‰ç«¯Reacté¡¹ç›®å®Œæ•´é…ç½®**

**ç›®å½•ç»“æ„**
```
my-react-app/
â”œâ”€â”€ .husky/
â”‚   â”œâ”€â”€ _/
â”‚   â”œâ”€â”€ pre-commit
â”‚   â”œâ”€â”€ pre-push
â”‚   â””â”€â”€ commit-msg
â”œâ”€â”€ src/
â”œâ”€â”€ package.json
â”œâ”€â”€ .eslintrc.js
â”œâ”€â”€ .prettierrc
â”œâ”€â”€ commitlint.config.js
â””â”€â”€ jest.config.js
```

**package.jsonå®Œæ•´é…ç½®**
```json
{
  "scripts": {
    "prepare": "husky install",
    "lint": "eslint src --ext .js,.jsx,.ts,.tsx --fix",
    "format": "prettier --write src",
    "test": "jest",
    "test:coverage": "jest --coverage",
    "build": "react-scripts build",
    "commit": "cz"
  },
  "lint-staged": {
    "src/**/*.{js,jsx,ts,tsx}": [
      "eslint --fix",
      "prettier --write",
      "jest --findRelatedTests --passWithNoTests"
    ],
    "src/**/*.{css,scss,less}": [
      "stylelint --fix",
      "prettier --write"
    ]
  },
  "devDependencies": {
    "husky": "^8.0.0",
    "lint-staged": "^13.0.0",
    "@commitlint/cli": "^17.0.0",
    "@commitlint/config-conventional": "^17.0.0",
    "commitizen": "^4.2.0",
    "cz-conventional-changelog": "^3.3.0"
  }
}
```

### 6.2 å›¢é˜Ÿåä½œæœ€ä½³å®è·µ


**ğŸ¤ å›¢é˜Ÿç»Ÿä¸€æ ‡å‡†**

**å›¢é˜Ÿé’©å­å…±äº«ç­–ç•¥**
```
1. é’©å­é…ç½®ç‰ˆæœ¬æ§åˆ¶
   â€¢ .huskyç›®å½•åŠ å…¥Gitç®¡ç†
   â€¢ é…ç½®æ–‡ä»¶ç»Ÿä¸€æ ‡å‡†
   â€¢ å›¢é˜Ÿæˆå‘˜åŒæ­¥æ›´æ–°

2. æ¸è¿›å¼å¼•å…¥ç­–ç•¥
   â€¢ å…ˆå¼•å…¥ä»£ç æ ¼å¼åŒ–
   â€¢ å†åŠ å…¥è¯­æ³•æ£€æŸ¥
   â€¢ æœ€åæ·»åŠ æµ‹è¯•è¦æ±‚

3. çµæ´»æ€§ä¿éšœ
   â€¢ æä¾›è·³è¿‡é’©å­çš„æ–¹æ³•
   â€¢ ç´§æ€¥æƒ…å†µç»•è¿‡æœºåˆ¶
   â€¢ æœ¬åœ°å¼€å‘å‹å¥½é…ç½®
```

**ğŸ“‹ è·³è¿‡é’©å­çš„æ–¹æ³•**
```bash
# è·³è¿‡pre-commité’©å­ï¼ˆç´§æ€¥æƒ…å†µï¼‰

git commit --no-verify -m "hotfix: ç´§æ€¥ä¿®å¤"

# è·³è¿‡pre-pushé’©å­

git push --no-verify

# ä¸´æ—¶ç¦ç”¨æ‰€æœ‰é’©å­

export HUSKY=0
git commit -m "æš‚æ—¶è·³è¿‡é’©å­"
```

### 6.3 å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ


**âŒ å¸¸è§é—®é¢˜æ’æŸ¥**

**é—®é¢˜1ï¼šé’©å­ä¸æ‰§è¡Œ**
```bash
# æ£€æŸ¥é’©å­æ–‡ä»¶æƒé™

ls -la .git/hooks/
# æˆ–è€…æ£€æŸ¥.huskyç›®å½•

ls -la .husky/

# ä¿®å¤æƒé™é—®é¢˜

chmod +x .husky/pre-commit
```

**é—®é¢˜2ï¼šé’©å­æ‰§è¡Œå¤±è´¥**
```bash
# æ‰‹åŠ¨æµ‹è¯•é’©å­

./.husky/pre-commit

# æŸ¥çœ‹è¯¦ç»†é”™è¯¯ä¿¡æ¯

HUSKY_DEBUG=1 git commit -m "test"
```

**é—®é¢˜3ï¼šæ€§èƒ½é—®é¢˜**
```
ä¼˜åŒ–ç­–ç•¥ï¼š
â€¢ ä½¿ç”¨lint-stagedåªæ£€æŸ¥ä¿®æ”¹æ–‡ä»¶
â€¢ å¹¶è¡Œè¿è¡Œæ£€æŸ¥ä»»åŠ¡
â€¢ ç¼“å­˜æ£€æŸ¥ç»“æœ
â€¢ è·³è¿‡ä¸å¿…è¦çš„æ£€æŸ¥
```

---

## 7. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 7.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ Gité’©å­ï¼šåœ¨Gitæ“ä½œç‰¹å®šæ—¶æœºè‡ªåŠ¨æ‰§è¡Œçš„è„šæœ¬
ğŸ”¸ pre-commitï¼šæäº¤å‰ä»£ç è´¨é‡æ£€æŸ¥çš„å®ˆé—¨å‘˜
ğŸ”¸ pre-pushï¼šæ¨é€å‰æœ€åéªŒè¯çš„å®‰æ£€å‘˜
ğŸ”¸ commit-msgï¼šæäº¤ä¿¡æ¯æ ¼å¼è§„èŒƒçš„è€å¸ˆ
ğŸ”¸ Huskyï¼šç®€åŒ–é’©å­ç®¡ç†çš„å¾—åŠ›åŠ©æ‰‹
ğŸ”¸ lint-stagedï¼šåªæ£€æŸ¥ä¿®æ”¹æ–‡ä»¶çš„é«˜æ•ˆå·¥å…·
```

### 7.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ è‡ªåŠ¨åŒ–çš„ä»·å€¼**
```
æ•ˆç‡æå‡ï¼š
â€¢ å‡å°‘æ‰‹åŠ¨æ£€æŸ¥é—æ¼
â€¢ ç»Ÿä¸€å›¢é˜Ÿä»£ç æ ‡å‡†
â€¢ è‡ªåŠ¨ä¿®å¤å¸¸è§é—®é¢˜
â€¢ æå‰å‘ç°æ½œåœ¨bug

è´¨é‡ä¿éšœï¼š
â€¢ å¼ºåˆ¶ä»£ç è§„èŒƒ
â€¢ ç¡®ä¿æµ‹è¯•é€šè¿‡
â€¢ è§„èŒƒæäº¤ä¿¡æ¯
â€¢ é˜²æ­¢ä½è´¨é‡ä»£ç è¿›å…¥ä»“åº“
```

**ğŸ”¹ å·¥å…·é€‰æ‹©æŒ‡å—**
```
ç®€å•é¡¹ç›®ï¼š
â€¢ ç›´æ¥ä½¿ç”¨GitåŸç”Ÿé’©å­
â€¢ ç¼–å†™ç®€å•çš„shellè„šæœ¬

ä¸­ç­‰é¡¹ç›®ï¼š
â€¢ ä½¿ç”¨Huskyç®¡ç†é’©å­
â€¢ é…åˆlint-stagedä¼˜åŒ–æ€§èƒ½

å¤§å‹é¡¹ç›®ï¼š
â€¢ å®Œæ•´çš„å·¥å…·é“¾é›†æˆ
â€¢ å¤šè¯­è¨€æ”¯æŒ
â€¢ è‡ªå®šä¹‰è§„åˆ™é…ç½®
```

### 7.3 å®è·µåº”ç”¨å»ºè®®


**ğŸ¯ æ–°æ‰‹å…¥é—¨è·¯å¾„**
```
ç¬¬ä¸€æ­¥ï¼šç†è§£é’©å­æ¦‚å¿µ
â€¢ äº†è§£é’©å­çš„è§¦å‘æ—¶æœº
â€¢ æŒæ¡åŸºæœ¬çš„é’©å­ç±»å‹

ç¬¬äºŒæ­¥ï¼šä½¿ç”¨Huskyç®€åŒ–é…ç½®
â€¢ å®‰è£…å¹¶é…ç½®åŸºæœ¬é’©å­
â€¢ ä½“éªŒè‡ªåŠ¨åŒ–çš„ä¾¿åˆ©

ç¬¬ä¸‰æ­¥ï¼šé›†æˆä»£ç æ£€æŸ¥å·¥å…·
â€¢ é…ç½®ESLint/Prettier
â€¢ ä½¿ç”¨lint-stagedä¼˜åŒ–

ç¬¬å››æ­¥ï¼šè§„èŒƒæäº¤ä¿¡æ¯
â€¢ é…ç½®commitlint
â€¢ ä½¿ç”¨commitizenå·¥å…·

ç¬¬äº”æ­¥ï¼šå›¢é˜Ÿåä½œå®è·µ
â€¢ åˆ¶å®šå›¢é˜Ÿè§„èŒƒ
â€¢ ä¼˜åŒ–å·¥ä½œæµç¨‹
```

**ğŸ›¡ï¸ é¿å…å¸¸è§è¯¯åŒº**
```
è¯¯åŒº1ï¼šè¿‡åº¦é…ç½®
âŒ ä¸€å¼€å§‹å°±é…ç½®æ‰€æœ‰å¯èƒ½çš„æ£€æŸ¥
âœ… æ¸è¿›å¼å¼•å…¥ï¼Œä»åŸºç¡€å¼€å§‹

è¯¯åŒº2ï¼šå¿½ç•¥æ€§èƒ½
âŒ é’©å­æ‰§è¡Œæ—¶é—´è¿‡é•¿å½±å“å¼€å‘ä½“éªŒ
âœ… ä½¿ç”¨å¢é‡æ£€æŸ¥ï¼Œä¼˜åŒ–æ‰§è¡Œé€Ÿåº¦

è¯¯åŒº3ï¼šè§„åˆ™è¿‡ä¸¥
âŒ ä¸¥æ ¼çš„è§„åˆ™é˜»ç¢æ­£å¸¸å¼€å‘
âœ… å¹³è¡¡ä»£ç è´¨é‡å’Œå¼€å‘æ•ˆç‡

è¯¯åŒº4ï¼šç¼ºä¹çµæ´»æ€§
âŒ æ²¡æœ‰ç´§æ€¥æƒ…å†µçš„ç»•è¿‡æœºåˆ¶
âœ… æä¾›é€‚å½“çš„è·³è¿‡é’©å­æ–¹æ³•
```

### 7.4 å­¦ä¹ æ£€æŸ¥æ¸…å•


**âœ… åŸºç¡€æŒæ¡æ£€æŸ¥**
- [ ] èƒ½è¯´å‡ºGité’©å­çš„åŸºæœ¬æ¦‚å¿µå’Œä½œç”¨
- [ ] èƒ½åŒºåˆ†å®¢æˆ·ç«¯é’©å­å’ŒæœåŠ¡ç«¯é’©å­
- [ ] èƒ½æ‰‹åŠ¨åˆ›å»ºç®€å•çš„pre-commité’©å­
- [ ] ç†è§£é’©å­çš„æ‰§è¡Œæ—¶æœºå’Œè¿”å›å€¼æ„ä¹‰

**âœ… å·¥å…·ä½¿ç”¨æ£€æŸ¥**
- [ ] èƒ½å¤Ÿå®‰è£…å’Œé…ç½®Husky
- [ ] èƒ½å¤Ÿé…ç½®lint-stagedè¿›è¡Œå¢é‡æ£€æŸ¥
- [ ] èƒ½å¤Ÿé›†æˆESLintã€Prettierç­‰å·¥å…·
- [ ] èƒ½å¤Ÿé…ç½®commitlintè§„èŒƒæäº¤ä¿¡æ¯

**âœ… å®è·µåº”ç”¨æ£€æŸ¥**
- [ ] èƒ½ä¸ºæ–°é¡¹ç›®é…ç½®å®Œæ•´çš„é’©å­ä½“ç³»
- [ ] èƒ½è§£å†³å¸¸è§çš„é’©å­é…ç½®é—®é¢˜
- [ ] èƒ½æ ¹æ®é¡¹ç›®éœ€æ±‚å®šåˆ¶é’©å­è§„åˆ™
- [ ] èƒ½åœ¨å›¢é˜Ÿä¸­æ¨å¹¿å’Œç»´æŠ¤é’©å­è§„èŒƒ

### 7.5 è¿›é˜¶å­¦ä¹ æ–¹å‘


**ğŸš€ æ·±å…¥å­¦ä¹ å»ºè®®**
```
è‡ªå®šä¹‰é’©å­å¼€å‘ï¼š
â€¢ ç¼–å†™å¤æ‚çš„æ£€æŸ¥é€»è¾‘
â€¢ é›†æˆç¬¬ä¸‰æ–¹API
â€¢ å¤šè¯­è¨€é¡¹ç›®æ”¯æŒ

CI/CDé›†æˆï¼š
â€¢ ç»“åˆæŒç»­é›†æˆå·¥å…·
â€¢ æœåŠ¡ç«¯é’©å­é…ç½®
â€¢ è‡ªåŠ¨åŒ–éƒ¨ç½²æµç¨‹

å›¢é˜Ÿå·¥ç¨‹åŒ–ï¼š
â€¢ åˆ¶å®šä»£ç è§„èŒƒæ ‡å‡†
â€¢ å·¥ä½œæµç¨‹ä¼˜åŒ–
â€¢ å¼€å‘æ•ˆç‡æå‡
```

**æ ¸å¿ƒè®°å¿†å£è¯€**ï¼š
- é’©å­å®ˆæŠ¤ä»£ç è´¨é‡ï¼Œè‡ªåŠ¨æ£€æŸ¥ä¸é—æ¼
- Huskyç®¡ç†æ›´è½»æ¾ï¼Œlint-stagedæ•ˆç‡é«˜  
- è§„èŒƒæäº¤ä¿¡æ¯ç¾ï¼Œå›¢é˜Ÿåä½œæ›´å’Œè°
- æ¸è¿›é…ç½®é¿è¿‡åº¦ï¼Œçµæ´»ä½¿ç”¨æ˜¯ç‹é“