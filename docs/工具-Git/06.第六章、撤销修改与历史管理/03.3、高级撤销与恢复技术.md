---
title: 3ã€é«˜çº§æ’¤é”€ä¸æ¢å¤æŠ€æœ¯
---
## ğŸ“š ç›®å½•

1. [å¼•ç”¨æ—¥å¿—ä¸æ—¶å…‰æœºå™¨](#1-å¼•ç”¨æ—¥å¿—ä¸æ—¶å…‰æœºå™¨)
2. [æŒ‘é€‰æäº¤çš„è‰ºæœ¯](#2-æŒ‘é€‰æäº¤çš„è‰ºæœ¯)
3. [æ“ä½œæ’¤é”€çš„å®‰å…¨ç½‘](#3-æ“ä½œæ’¤é”€çš„å®‰å…¨ç½‘)
4. [ä¸¢å¤±æ•°æ®çš„æœæ•‘é˜Ÿ](#4-ä¸¢å¤±æ•°æ®çš„æœæ•‘é˜Ÿ)
5. [åˆ†æ”¯æ¢å¤å®æˆ˜æŠ€å·§](#5-åˆ†æ”¯æ¢å¤å®æˆ˜æŠ€å·§)
6. [æäº¤æ¢å¤çš„å¤šç§æ–¹æ³•](#6-æäº¤æ¢å¤çš„å¤šç§æ–¹æ³•)
7. [æ•°æ®æ¢å¤æœ€ä½³å®è·µ](#7-æ•°æ®æ¢å¤æœ€ä½³å®è·µ)
8. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#8-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ•°ï¸ å¼•ç”¨æ—¥å¿—ä¸æ—¶å…‰æœºå™¨


### 1.1 ä»€ä¹ˆæ˜¯git reflog


**é€šä¿—ç†è§£**ï¼š`git reflog`å°±åƒæ˜¯Gitçš„"æ“ä½œè®°å½•æœ¬"ï¼Œè®°å½•äº†ä½ åœ¨è¿™ä¸ªä»“åº“é‡Œåšè¿‡çš„æ‰€æœ‰æ“ä½œã€‚

> ğŸ’¡ **æ ¸å¿ƒæ¦‚å¿µ**ï¼šreflogï¼ˆreference logï¼‰æ˜¯Gitçš„å¼•ç”¨æ—¥å¿—ï¼Œè®°å½•åˆ†æ”¯æŒ‡é’ˆçš„ç§»åŠ¨å†å²ï¼Œå³ä½¿æäº¤è¢«åˆ é™¤äº†ï¼Œåœ¨è¿™é‡Œè¿˜èƒ½æ‰¾åˆ°ç—•è¿¹ã€‚

```
ä½ çš„Gitæ“ä½œå†å²ï¼š
æ˜¨å¤© 15:30 â†’ æäº¤äº†æ–°åŠŸèƒ½
æ˜¨å¤© 16:00 â†’ åˆå¹¶äº†åˆ†æ”¯  
ä»Šå¤© 09:00 â†’ ä¸å°å¿ƒåˆ é™¤äº†æäº¤
ä»Šå¤© 09:05 â†’ æƒ³è¦æ‰¾å›åˆ é™¤çš„å†…å®¹

reflogå°±æ˜¯è¿™ä¸ª"æ“ä½œè®°å½•æœ¬"ï¼
```

### 1.2 æŸ¥çœ‹æ“ä½œå†å²


**åŸºæœ¬æŸ¥çœ‹å‘½ä»¤**ï¼š
```bash
# æŸ¥çœ‹å½“å‰åˆ†æ”¯çš„æ“ä½œå†å²
git reflog

# æŸ¥çœ‹æŒ‡å®šåˆ†æ”¯çš„æ“ä½œå†å²
git reflog show main

# æŸ¥çœ‹æœ€è¿‘10æ¡æ“ä½œ
git reflog -10
```

**è¾“å‡ºç¤ºä¾‹è§£è¯»**ï¼š
```
a1b2c3d HEAD@{0}: commit: æ·»åŠ ç”¨æˆ·ç™»å½•åŠŸèƒ½
e4f5g6h HEAD@{1}: merge: åˆå¹¶featureåˆ†æ”¯  
i7j8k9l HEAD@{2}: checkout: åˆ‡æ¢åˆ°mainåˆ†æ”¯
m1n2o3p HEAD@{3}: commit: ä¿®å¤ç™»å½•bug
```

**æ¯ä¸€è¡Œçš„å«ä¹‰**ï¼š
- `a1b2c3d`ï¼šæäº¤çš„SHA-1å“ˆå¸Œå€¼
- `HEAD@{0}`ï¼šæ“ä½œçš„æ—¶é—´é¡ºåºï¼ˆ0æ˜¯æœ€æ–°çš„ï¼‰
- `commit`ï¼šæ“ä½œç±»å‹ï¼ˆæäº¤ã€åˆå¹¶ã€åˆ‡æ¢ç­‰ï¼‰
- `æ·»åŠ ç”¨æˆ·ç™»å½•åŠŸèƒ½`ï¼šæ“ä½œæè¿°

### 1.3 åˆ©ç”¨reflogæ¢å¤ä¸¢å¤±çš„æäº¤


**åœºæ™¯æ¨¡æ‹Ÿ**ï¼šä½ ä¸å°å¿ƒç”¨`git reset --hard`åˆ é™¤äº†é‡è¦æäº¤

**æ­¥éª¤â‘  æŸ¥çœ‹æ“ä½œå†å²**ï¼š
```bash
git reflog
# æ‰¾åˆ°åˆ é™¤å‰çš„æäº¤hashï¼Œæ¯”å¦‚ a1b2c3d
```

**æ­¥éª¤â‘¡ æ¢å¤åˆ°æŒ‡å®šæäº¤**ï¼š
```bash
# æ¢å¤åˆ°åˆ é™¤å‰çš„çŠ¶æ€
git reset --hard a1b2c3d

# æˆ–è€…åˆ›å»ºæ–°åˆ†æ”¯ä¿å­˜æ¢å¤çš„å†…å®¹
git branch recovered-work a1b2c3d
```

> âš ï¸ **é‡è¦æé†’**ï¼šreflogåªåœ¨æœ¬åœ°æœ‰æ•ˆï¼Œæ¨é€åˆ°è¿œç¨‹ä»“åº“ä¸ä¼šåŒ…å«reflogä¿¡æ¯ã€‚

### 1.4 reflogçš„æ—¶æ•ˆæ€§


**é»˜è®¤ä¿å­˜æ—¶é—´**ï¼š
- **å¯è¾¾æäº¤**ï¼š90å¤©
- **ä¸å¯è¾¾æäº¤**ï¼š30å¤©
- **reflogæ¡ç›®**ï¼š90å¤©

**æŸ¥çœ‹ä¿å­˜æ—¶é—´**ï¼š
```bash
# æŸ¥çœ‹Gité…ç½®çš„ä¿å­˜æ—¶é—´
git config gc.reflogExpire        # é»˜è®¤90å¤©
git config gc.reflogExpireUnreachable  # é»˜è®¤30å¤©
```

---

## 2. ğŸ¯ æŒ‘é€‰æäº¤çš„è‰ºæœ¯


### 2.1 ä»€ä¹ˆæ˜¯cherry-pick


**é€šä¿—ç†è§£**ï¼š`git cherry-pick`å°±åƒæ˜¯"ç‚¹èœ"ï¼Œä½ å¯ä»¥ä»åˆ«çš„åˆ†æ”¯"èœå•"ä¸ŠæŒ‘é€‰ä½ æƒ³è¦çš„"èœ"ï¼ˆæäº¤ï¼‰åˆ°å½“å‰åˆ†æ”¯ã€‚

> ğŸ’¡ **æ ¸å¿ƒæ¦‚å¿µ**ï¼šcherry-pickå…è®¸ä½ é€‰æ‹©æ€§åœ°å°†å…¶ä»–åˆ†æ”¯çš„æŸä¸ªæˆ–æŸäº›æäº¤åº”ç”¨åˆ°å½“å‰åˆ†æ”¯ï¼Œè€Œä¸éœ€è¦åˆå¹¶æ•´ä¸ªåˆ†æ”¯ã€‚

**ä½¿ç”¨åœºæ™¯**ï¼š
```
åœºæ™¯1ï¼šä¿®å¤bug
developåˆ†æ”¯ â†’ [A] â†’ [B] â†’ [C] â†’ [D(ä¿®å¤bug)]
mainåˆ†æ”¯    â†’ [1] â†’ [2] â†’ [3]

æƒ³è¦ï¼šåªæŠŠä¿®å¤bugçš„æäº¤Dåº”ç”¨åˆ°mainåˆ†æ”¯
```

### 2.2 åŸºæœ¬cherry-pickæ“ä½œ


**å•ä¸ªæäº¤æŒ‘é€‰**ï¼š
```bash
# åˆ‡æ¢åˆ°ç›®æ ‡åˆ†æ”¯
git checkout main

# æŒ‘é€‰æŒ‡å®šæäº¤
git cherry-pick d4e5f6g

# æŸ¥çœ‹ç»“æœ
git log --oneline -3
```

**æŒ‘é€‰å¤šä¸ªæäº¤**ï¼š
```bash
# æŒ‘é€‰å¤šä¸ªä¸è¿ç»­çš„æäº¤
git cherry-pick commit1 commit2 commit3

# æŒ‘é€‰è¿ç»­çš„æäº¤èŒƒå›´ï¼ˆä¸åŒ…å«startï¼‰
git cherry-pick start-commit..end-commit

# æŒ‘é€‰è¿ç»­çš„æäº¤èŒƒå›´ï¼ˆåŒ…å«startï¼‰  
git cherry-pick start-commit^..end-commit
```

### 2.3 å¤„ç†cherry-pickå†²çª


**å†²çªå‘ç”Ÿæ—¶çš„æ“ä½œæµç¨‹**ï¼š

**æ­¥éª¤â‘  å°è¯•cherry-pick**ï¼š
```bash
git cherry-pick abc123
# å¦‚æœæœ‰å†²çªï¼ŒGitä¼šåœä¸‹æ¥æç¤º
```

**æ­¥éª¤â‘¡ è§£å†³å†²çª**ï¼š
```bash
# æŸ¥çœ‹å†²çªæ–‡ä»¶
git status

# æ‰‹åŠ¨ç¼–è¾‘å†²çªæ–‡ä»¶ï¼Œè§£å†³å†²çªæ ‡è®°
# å†²çªæ ‡è®°å½¢å¼ï¼š
# <<<<<<< HEAD
# å½“å‰åˆ†æ”¯çš„å†…å®¹
# =======  
# è¦åˆå¹¶çš„å†…å®¹
# >>>>>>> abc123 (commit message)
```

**æ­¥éª¤â‘¢ å®Œæˆcherry-pick**ï¼š
```bash
# æ·»åŠ è§£å†³å†²çªåçš„æ–‡ä»¶
git add .

# ç»§ç»­cherry-pick
git cherry-pick --continue

# æˆ–è€…æ”¾å¼ƒè¿™æ¬¡cherry-pick
git cherry-pick --abort
```

### 2.4 cherry-pickçš„é«˜çº§ç”¨æ³•


**åªæŒ‘é€‰æ–‡ä»¶å˜æ›´ï¼Œä¸åˆ›å»ºæäº¤**ï¼š
```bash
# åº”ç”¨å˜æ›´ä½†ä¸è‡ªåŠ¨æäº¤
git cherry-pick -n abc123

# è¿™æ ·ä½ å¯ä»¥ä¿®æ”¹å†…å®¹åå†æäº¤
git commit -m "è‡ªå®šä¹‰æäº¤ä¿¡æ¯"
```

**ä¿®æ”¹æäº¤ä¿¡æ¯**ï¼š
```bash
# æŒ‘é€‰æäº¤ä½†ç¼–è¾‘æäº¤ä¿¡æ¯
git cherry-pick -e abc123
```

**ä»å…¶ä»–ä»“åº“cherry-pick**ï¼š
```bash
# æ·»åŠ è¿œç¨‹ä»“åº“
git remote add other-repo https://github.com/user/repo.git

# è·å–è¿œç¨‹åˆ†æ”¯
git fetch other-repo

# æŒ‘é€‰è¿œç¨‹åˆ†æ”¯çš„æäº¤
git cherry-pick other-repo/main~2
```

---

## 3. ğŸ›¡ï¸ æ“ä½œæ’¤é”€çš„å®‰å…¨ç½‘


### 3.1 ORIG_HEADçš„ä½œç”¨æœºåˆ¶


**ä»€ä¹ˆæ˜¯ORIG_HEAD**ï¼š
å½“ä½ æ‰§è¡Œä¸€äº›"å±é™©"æ“ä½œæ—¶ï¼ŒGitä¼šè‡ªåŠ¨ä¿å­˜æ“ä½œå‰çš„HEADä½ç½®åˆ°`ORIG_HEAD`ï¼Œè¿™å°±æ˜¯ä½ çš„"åæ‚”è¯"ã€‚

> ğŸ’¡ **æ ¸å¿ƒæ¦‚å¿µ**ï¼šORIG_HEADæ˜¯Gitçš„å®‰å…¨æœºåˆ¶ï¼Œåœ¨æ‰§è¡Œmergeã€resetã€rebaseç­‰æ“ä½œå‰ï¼ŒGitä¼šå°†å½“å‰HEADä¿å­˜ä¸ºORIG_HEADã€‚

**ä¼šè§¦å‘ORIG_HEADä¿å­˜çš„æ“ä½œ**ï¼š
- `git merge`
- `git reset`  
- `git rebase`
- `git cherry-pick`

### 3.2 ä½¿ç”¨ORIG_HEADæ’¤é”€æ“ä½œ


**æ’¤é”€resetæ“ä½œ**ï¼š
```bash
# å‡è®¾ä½ æ‰§è¡Œäº†å±é™©çš„reset
git reset --hard HEAD~3

# å‘ç°æé”™äº†ï¼Œæƒ³è¦æ’¤é”€
git reset --hard ORIG_HEAD

# ç°åœ¨å›åˆ°äº†resetä¹‹å‰çš„çŠ¶æ€
```

**æ’¤é”€mergeæ“ä½œ**ï¼š
```bash
# åˆå¹¶åå‘ç°æœ‰é—®é¢˜
git merge feature-branch

# æ’¤é”€åˆšæ‰çš„åˆå¹¶
git reset --hard ORIG_HEAD
```

**æ’¤é”€rebaseæ“ä½œ**ï¼š
```bash
# rebaseå‡ºç°é—®é¢˜
git rebase main

# æ’¤é”€rebase
git reset --hard ORIG_HEAD
```

### 3.3 æŸ¥çœ‹ORIG_HEAD


**æŸ¥çœ‹ORIG_HEADæŒ‡å‘**ï¼š
```bash
# æŸ¥çœ‹ORIG_HEADæŒ‡å‘çš„æäº¤
git show ORIG_HEAD

# æŸ¥çœ‹ORIG_HEADçš„å®Œæ•´å“ˆå¸Œ
git rev-parse ORIG_HEAD

# æ¯”è¾ƒå½“å‰HEADå’ŒORIG_HEADçš„å·®å¼‚
git diff ORIG_HEAD HEAD
```

**ORIG_HEADçš„ç”Ÿå­˜æœŸ**ï¼š
```
ORIG_HEADä¼šåœ¨ä¸‹æ¬¡è§¦å‘ä¿å­˜çš„æ“ä½œæ—¶è¢«è¦†ç›–
å»ºè®®ï¼šé‡è¦æ“ä½œå‰æ‰‹åŠ¨åˆ›å»ºåˆ†æ”¯å¤‡ä»½
```

---

## 4. ğŸ” ä¸¢å¤±æ•°æ®çš„æœæ•‘é˜Ÿ


### 4.1 git fsckå‘½ä»¤è¯¦è§£


**ä»€ä¹ˆæ˜¯git fsck**ï¼š
`git fsck`ï¼ˆfile system checkï¼‰æ˜¯Gitçš„"ä½“æ£€å·¥å…·"ï¼Œå¯ä»¥æ£€æŸ¥ä»“åº“çš„å®Œæ•´æ€§ï¼Œæ‰¾åˆ°"å­¤å„¿"å¯¹è±¡ã€‚

> ğŸ’¡ **æ ¸å¿ƒæ¦‚å¿µ**ï¼šfsckä¼šæ‰«ææ•´ä¸ªGitå¯¹è±¡æ•°æ®åº“ï¼Œæ‰¾åˆ°é‚£äº›æ²¡æœ‰è¢«ä»»ä½•å¼•ç”¨æŒ‡å‘ä½†ä»ç„¶å­˜åœ¨çš„å¯¹è±¡ï¼Œè¿™äº›é€šå¸¸æ˜¯è¢«åˆ é™¤æ“ä½œ"é—ç•™"çš„æ•°æ®ã€‚

**åŸºæœ¬æ£€æŸ¥å‘½ä»¤**ï¼š
```bash
# åŸºæœ¬çš„å®Œæ•´æ€§æ£€æŸ¥
git fsck

# æ˜¾ç¤ºæ‰€æœ‰ä¸å¯è¾¾çš„å¯¹è±¡
git fsck --unreachable

# æŸ¥æ‰¾ä¸¢å¤±çš„å¯¹è±¡
git fsck --lost-found
```

### 4.2 ç†è§£Gitå¯¹è±¡ç±»å‹


**Gitçš„å››ç§å¯¹è±¡ç±»å‹**ï¼š

| å¯¹è±¡ç±»å‹ | **ç”¨é€”è¯´æ˜** | **æ¢å¤ä»·å€¼** |
|---------|-------------|-------------|
| **commit** | `å­˜å‚¨æäº¤ä¿¡æ¯` | â­â­â­ æœ€é‡è¦ |
| **tree** | `å­˜å‚¨ç›®å½•ç»“æ„` | â­â­ ç»“æ„ä¿¡æ¯ |
| **blob** | `å­˜å‚¨æ–‡ä»¶å†…å®¹` | â­â­ æ–‡ä»¶æ•°æ® |
| **tag** | `å­˜å‚¨æ ‡ç­¾ä¿¡æ¯` | â­ æ ‡ç­¾ä¿¡æ¯ |

**æŸ¥çœ‹å¯¹è±¡å†…å®¹**ï¼š
```bash
# æŸ¥çœ‹å¯¹è±¡ç±»å‹
git cat-file -t abc123

# æŸ¥çœ‹å¯¹è±¡å†…å®¹
git cat-file -p abc123

# æŸ¥çœ‹å¯¹è±¡å¤§å°
git cat-file -s abc123
```

### 4.3 æ‰¾å›ä¸¢å¤±çš„æäº¤


**ä½¿ç”¨fsckæ‰¾å›æäº¤çš„å®Œæ•´æµç¨‹**ï¼š

**æ­¥éª¤â‘  æ‰«æä¸¢å¤±çš„å¯¹è±¡**ï¼š
```bash
git fsck --lost-found
```

**æ­¥éª¤â‘¡ åˆ†æè¾“å‡ºç»“æœ**ï¼š
```
dangling commit a1b2c3d4e5f6...
dangling blob f6e5d4c3b2a1...
dangling tree e5f6a1b2c3d4...
```

**æ­¥éª¤â‘¢ æ£€æŸ¥ä¸¢å¤±çš„æäº¤**ï¼š
```bash
# æŸ¥çœ‹ä¸¢å¤±æäº¤çš„è¯¦ç»†ä¿¡æ¯
git show a1b2c3d4e5f6

# æŸ¥çœ‹æäº¤çš„æ—¥å¿—ä¿¡æ¯
git log --oneline a1b2c3d4e5f6
```

**æ­¥éª¤â‘£ æ¢å¤æœ‰ä»·å€¼çš„æäº¤**ï¼š
```bash
# åˆ›å»ºæ–°åˆ†æ”¯æŒ‡å‘æ‰¾åˆ°çš„æäº¤
git branch recovered-commit a1b2c3d4e5f6

# æˆ–è€…cherry-pickåˆ°å½“å‰åˆ†æ”¯
git cherry-pick a1b2c3d4e5f6
```

### 4.4 å¤„ç†å¤§é‡ä¸¢å¤±å¯¹è±¡


**æ‰¹é‡æ£€æŸ¥è„šæœ¬æ€è·¯**ï¼š
```bash
# æ‰¾å‡ºæ‰€æœ‰ä¸¢å¤±çš„commitå¯¹è±¡
git fsck --unreachable | grep commit | cut -d' ' -f3 > lost-commits.txt

# é€ä¸ªæ£€æŸ¥ï¼ˆä¼ªä»£ç æ€è·¯ï¼‰
while read commit; do
    echo "=== Commit: $commit ==="
    git show --stat $commit
    echo ""
done < lost-commits.txt
```

---

## 5. ğŸŒ¿ åˆ†æ”¯æ¢å¤å®æˆ˜æŠ€å·§


### 5.1 è¯¯åˆ åˆ†æ”¯çš„æ¢å¤æ–¹æ³•


**åœºæ™¯è®¾å®š**ï¼šä½ ä¸å°å¿ƒåˆ é™¤äº†é‡è¦çš„å¼€å‘åˆ†æ”¯

```bash
# è¯¯åˆ é™¤æ“ä½œ
git branch -D feature-login
# error: åˆ†æ”¯å·²è¢«åˆ é™¤ï¼Œä½†è¿˜æ²¡æ¨é€åˆ°è¿œç¨‹
```

**æ¢å¤æ–¹æ³•â‘  ä½¿ç”¨reflog**ï¼š
```bash
# æŸ¥çœ‹æ‰€æœ‰åˆ†æ”¯çš„reflog
git reflog show --all | grep feature-login

# æ‰¾åˆ°åˆ†æ”¯åˆ é™¤å‰çš„æœ€åä¸€æ¬¡æäº¤
# è¾“å‡ºç±»ä¼¼ï¼ša1b2c3d refs/heads/feature-login@{0}: commit: å®Œæˆç™»å½•åŠŸèƒ½

# é‡æ–°åˆ›å»ºåˆ†æ”¯
git branch feature-login a1b2c3d
```

**æ¢å¤æ–¹æ³•â‘¡ é€šè¿‡commit hash**ï¼š
```bash
# å¦‚æœä½ è®°å¾—åˆ†æ”¯ä¸Šæœ€åçš„æäº¤ä¿¡æ¯
git log --all --grep="å®Œæˆç™»å½•åŠŸèƒ½"

# æ‰¾åˆ°å¯¹åº”çš„commit hashåé‡å»ºåˆ†æ”¯
git branch feature-login <commit-hash>
```

### 5.2 åˆ†æ”¯æŒ‡é’ˆé”™è¯¯ç§»åŠ¨çš„ä¿®å¤


**é—®é¢˜åœºæ™¯**ï¼šåˆ†æ”¯æŒ‡é’ˆæŒ‡å‘äº†é”™è¯¯çš„æäº¤

```
æœŸæœ›çŠ¶æ€ï¼š
feature-branch â†’ [A] â†’ [B] â†’ [C] â†’ [D]

å®é™…çŠ¶æ€ï¼ˆé”™è¯¯ï¼‰ï¼š
feature-branch â†’ [A] â†’ [B]  (æŒ‡é’ˆå›é€€äº†)
```

**ä¿®å¤æ­¥éª¤**ï¼š
```bash
# åˆ‡æ¢åˆ°é—®é¢˜åˆ†æ”¯
git checkout feature-branch

# æŸ¥çœ‹reflogæ‰¾åˆ°æ­£ç¡®çš„ä½ç½®
git reflog show feature-branch

# é‡ç½®åˆ†æ”¯åˆ°æ­£ç¡®ä½ç½®
git reset --hard feature-branch@{0}  # æˆ–å…·ä½“çš„commit hash
```

### 5.3 è¿œç¨‹åˆ†æ”¯åŒæ­¥é—®é¢˜


**åœºæ™¯**ï¼šæœ¬åœ°åˆ†æ”¯ä¸è¿œç¨‹åˆ†æ”¯å¤±å»åŒæ­¥

**è¯Šæ–­é—®é¢˜**ï¼š
```bash
# æŸ¥çœ‹åˆ†æ”¯è·Ÿè¸ªæƒ…å†µ
git branch -vv

# æŸ¥çœ‹è¿œç¨‹åˆ†æ”¯çŠ¶æ€
git remote show origin

# è·å–æœ€æ–°çš„è¿œç¨‹ä¿¡æ¯
git fetch origin
```

**ä¿®å¤åŒæ­¥**ï¼š
```bash
# é‡æ–°è®¾ç½®è·Ÿè¸ªå…³ç³»
git branch --set-upstream-to=origin/feature-branch feature-branch

# æˆ–è€…é‡æ–°æ£€å‡ºè¿œç¨‹åˆ†æ”¯
git checkout -b feature-branch origin/feature-branch
```

---

## 6. ğŸ“¦ æäº¤æ¢å¤çš„å¤šç§æ–¹æ³•


### 6.1 æŒ‰åœºæ™¯é€‰æ‹©æ¢å¤æ–¹æ³•


**æ¢å¤æ–¹æ³•å¯¹æ¯”è¡¨**ï¼š

| åœºæ™¯ | **æ¨èæ–¹æ³•** | **ä¼˜ç‚¹** | **æ³¨æ„äº‹é¡¹** |
|------|------------|---------|-------------|
| **åˆšåˆ é™¤çš„æäº¤** | `git reflog` | â­â­â­ æœ€ç›´æ¥ | ä»…é™æœ¬åœ°æ“ä½œ |
| **å†å²ä¸­çš„æäº¤** | `git cherry-pick` | â­â­ ç²¾ç¡®é€‰æ‹© | å¯èƒ½æœ‰å†²çª |
| **æ‰¹é‡æ¢å¤** | `git fsck` | â­â­ æ‰¾å›é—æ¼ | éœ€è¦ç­›é€‰ |
| **åˆ†æ”¯çº§åˆ«** | `åˆ›å»ºæ–°åˆ†æ”¯` | â­â­â­ å®‰å…¨ | å ç”¨ç©ºé—´ |

### 6.2 æäº¤å†…å®¹çš„éƒ¨åˆ†æ¢å¤


**åªæ¢å¤ç‰¹å®šæ–‡ä»¶**ï¼š
```bash
# ä»å†å²æäº¤æ¢å¤ç‰¹å®šæ–‡ä»¶
git checkout abc123 -- path/to/file.txt

# ä»åˆ é™¤çš„æäº¤æ¢å¤æ–‡ä»¶ï¼ˆé€šè¿‡reflogæ‰¾åˆ°commitï¼‰
git checkout HEAD@{5} -- src/login.js
```

**æ¢å¤æ–‡ä»¶çš„ç‰¹å®šç‰ˆæœ¬**ï¼š
```bash
# æŸ¥çœ‹æ–‡ä»¶çš„ä¿®æ”¹å†å²
git log --follow -- path/to/file.txt

# æ¢å¤åˆ°æŒ‡å®šç‰ˆæœ¬
git checkout commit-hash -- path/to/file.txt
```

### 6.3 äº¤äº’å¼æ¢å¤


**ä½¿ç”¨git revertçš„äº¤äº’æ¨¡å¼**ï¼š
```bash
# åˆ›å»ºåå‘æäº¤æ¥"æ’¤é”€"é”™è¯¯æäº¤
git revert -n abc123  # -n è¡¨ç¤ºä¸è‡ªåŠ¨æäº¤

# ç¼–è¾‘åå‘æ›´æ”¹
git add -p  # äº¤äº’å¼æ·»åŠ éƒ¨åˆ†æ›´æ”¹

# æäº¤åå‘æ›´æ”¹
git commit -m "éƒ¨åˆ†æ’¤é”€abc123æäº¤çš„æ›´æ”¹"
```

---

## 7. ğŸ› ï¸ æ•°æ®æ¢å¤æœ€ä½³å®è·µ


### 7.1 é¢„é˜²æ€§æªæ–½


**å»ºç«‹æ¢å¤ä¹ æƒ¯**ï¼š

> âœ… **æ“ä½œå‰å¤‡ä»½**ï¼šé‡è¦æ“ä½œå‰åˆ›å»ºåˆ†æ”¯å¤‡ä»½
> âœ… **å®šæœŸæ¨é€**ï¼šæœ¬åœ°æäº¤åŠæ—¶æ¨é€åˆ°è¿œç¨‹
> âœ… **æè¿°æ€§æäº¤**ï¼šå†™æ¸…æ¥šçš„æäº¤ä¿¡æ¯ä¾¿äºæŸ¥æ‰¾
> âœ… **æ ‡ç­¾æ ‡è®°**ï¼šé‡è¦èŠ‚ç‚¹æ‰“æ ‡ç­¾

**å®ç”¨çš„å¤‡ä»½å‘½ä»¤**ï¼š
```bash
# æ“ä½œå‰åˆ›å»ºå¤‡ä»½åˆ†æ”¯
git branch backup-$(date +%Y%m%d-%H%M%S)

# æˆ–è€…åˆ›å»ºä¸´æ—¶æ ‡ç­¾
git tag temp-backup-$(date +%Y%m%d-%H%M%S)
```

### 7.2 ç³»ç»Ÿæ€§æ¢å¤æµç¨‹


**æ ‡å‡†æ¢å¤æ£€æŸ¥æ¸…å•**ï¼š

**â‘  ç¡®å®šé—®é¢˜èŒƒå›´**
- [ ] ç¡®è®¤ä¸¢å¤±çš„æ˜¯ä»€ä¹ˆï¼ˆæäº¤/åˆ†æ”¯/æ–‡ä»¶ï¼‰
- [ ] ç¡®è®¤æœ€åæ­£å¸¸çš„æ—¶é—´ç‚¹
- [ ] æ£€æŸ¥æ˜¯å¦æœ‰è¿œç¨‹å¤‡ä»½

**â‘¡ é€‰æ‹©æ¢å¤ç­–ç•¥**
- [ ] ä¼˜å…ˆä½¿ç”¨reflogï¼ˆæœ€è¿‘çš„æ“ä½œï¼‰
- [ ] å…¶æ¬¡å°è¯•fsckï¼ˆæ·±åº¦æœç´¢ï¼‰
- [ ] æœ€åè€ƒè™‘ä»è¿œç¨‹æ¢å¤

**â‘¢ æ‰§è¡Œæ¢å¤æ“ä½œ**
- [ ] åœ¨æ–°åˆ†æ”¯ä¸­è¿›è¡Œæ¢å¤å°è¯•
- [ ] éªŒè¯æ¢å¤çš„æ•°æ®å®Œæ•´æ€§
- [ ] ç¡®è®¤ååˆå¹¶åˆ°ä¸»åˆ†æ”¯

**â‘£ é˜²æ­¢å†æ¬¡å‘ç”Ÿ**
- [ ] åˆ†æå‡ºé”™åŸå› 
- [ ] å»ºç«‹é¢„é˜²æœºåˆ¶
- [ ] å®Œå–„å¤‡ä»½ç­–ç•¥

### 7.3 æ¢å¤æ“ä½œçš„å®‰å…¨åŸåˆ™


**é»„é‡‘æ³•åˆ™**ï¼š

> ğŸš¨ **æ°¸è¿œä¸è¦ç›´æ¥åœ¨ä¸»åˆ†æ”¯ä¸Šè¿›è¡Œæ¢å¤å®éªŒ**

**å®‰å…¨æ“ä½œæµç¨‹**ï¼š
```bash
# 1. åˆ›å»ºå®éªŒåˆ†æ”¯
git checkout -b recovery-experiment

# 2. åœ¨å®éªŒåˆ†æ”¯ä¸­å°è¯•æ¢å¤
git cherry-pick <lost-commit>
# æˆ–å…¶ä»–æ¢å¤æ“ä½œ

# 3. éªŒè¯æ¢å¤ç»“æœ
git diff main recovery-experiment
git log --oneline recovery-experiment

# 4. ç¡®è®¤æ— è¯¯ååˆå¹¶
git checkout main
git merge recovery-experiment

# 5. æ¸…ç†å®éªŒåˆ†æ”¯
git branch -d recovery-experiment
```

### 7.4 å›¢é˜Ÿåä½œä¸­çš„æ¢å¤


**å›¢é˜Ÿæ¢å¤ç­–ç•¥**ï¼š

**æ²Ÿé€šæœºåˆ¶**ï¼š
- ğŸ”” ç«‹å³é€šçŸ¥å›¢é˜Ÿæˆå‘˜åœæ­¢æ¨é€
- ğŸ“‹ è®°å½•é—®é¢˜å‘ç”Ÿçš„æ—¶é—´å’Œæ“ä½œ
- ğŸ¤ åè°ƒæ¢å¤æ–¹æ¡ˆé¿å…å†²çª

**åä½œæ¢å¤å‘½ä»¤**ï¼š
```bash
# å›¢é˜Ÿæˆå‘˜æ£€æŸ¥æœ¬åœ°æ˜¯å¦æœ‰ä¸¢å¤±çš„æäº¤
git log --oneline --all | grep "å…³é”®è¯"

# åˆ†äº«æœ‰ä»·å€¼çš„commit hash
git show --stat abc123

# åè°ƒæ¨é€æ¢å¤çš„å†…å®¹
git push origin recovered-branch
```

---

## 8. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 8.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒå‘½ä»¤


```bash
ğŸ”¸ git reflog              # æŸ¥çœ‹æ“ä½œå†å²ï¼Œæ‰¾å›æœ€è¿‘åˆ é™¤çš„æäº¤
ğŸ”¸ git cherry-pick         # ç²¾ç¡®æŒ‘é€‰éœ€è¦çš„æäº¤
ğŸ”¸ git reset --hard ORIG_HEAD  # æ’¤é”€åˆšæ‰çš„å±é™©æ“ä½œ
ğŸ”¸ git fsck --lost-found   # æ·±åº¦æœç´¢ä¸¢å¤±çš„Gitå¯¹è±¡
ğŸ”¸ git branch recovery <hash>   # ä¸ºæ¢å¤çš„å†…å®¹åˆ›å»ºæ–°åˆ†æ”¯
```

### 8.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ æ¢å¤çš„æ—¶æ•ˆæ€§**
```
reflogä¿å­˜æœŸï¼š90å¤©ï¼ˆå¯é…ç½®ï¼‰
æœ¬åœ°æ“ä½œï¼šéšæ—¶å¯æ¢å¤
è¿œç¨‹æ¨é€ï¼šæ¨é€å‰çš„æœ¬åœ°æ“ä½œæ‰èƒ½æ¢å¤
```

**ğŸ”¹ æ¢å¤çš„æˆåŠŸç‡**
```
æœ€è¿‘åˆ é™¤ï¼šå‡ ä¹100%å¯æ¢å¤ï¼ˆreflogï¼‰
å†å²æäº¤ï¼šè¾ƒé«˜æˆåŠŸç‡ï¼ˆfsckï¼‰
è¿œç¨‹å·²åˆ ï¼šä¾èµ–å›¢é˜Ÿæˆå‘˜çš„æœ¬åœ°å‰¯æœ¬
```

**ğŸ”¹ é¢„é˜²èƒœäºæ²»ç–—**
```
å®šæœŸå¤‡ä»½ > äº‹åæ¢å¤
æ¸…æ™°æäº¤ä¿¡æ¯ > ç›²ç›®æœç´¢
å›¢é˜Ÿåä½œ > å•æ‰“ç‹¬æ–—
```

### 8.3 å®é™…åº”ç”¨åœºæ™¯


- **æ—¥å¸¸å¼€å‘**ï¼šè¯¯åˆ æäº¤ã€é”™è¯¯resetçš„å¿«é€Ÿæ¢å¤
- **ä»£ç å®¡æŸ¥**ï¼šæŒ‘é€‰ç‰¹å®šä¿®å¤æäº¤åˆ°å‘å¸ƒåˆ†æ”¯
- **ç‰ˆæœ¬ç®¡ç†**ï¼šä»å†å²ç‰ˆæœ¬æ¢å¤ç‰¹å®šåŠŸèƒ½
- **å›¢é˜Ÿåä½œ**ï¼šååŠ©é˜Ÿå‹æ¢å¤ä¸¢å¤±çš„å·¥ä½œæˆæœ
- **ç´§æ€¥ä¿®å¤**ï¼šå¿«é€Ÿå®šä½å’Œæ¢å¤å…³é”®ä»£ç 

**æ ¸å¿ƒè®°å¿†è¦ç‚¹**ï¼š
- Gitå‡ ä¹ä¸ä¼šçœŸæ­£"åˆ é™¤"æ•°æ®ï¼Œåªæ˜¯è®©å®ƒä»¬å˜å¾—ä¸å¯è¾¾
- reflogæ˜¯ä½ çš„"åæ‚”è¯"ï¼Œfsckæ˜¯ä½ çš„"æœæ•‘é˜Ÿ"
- æ¢å¤æ“ä½œè¦åœ¨å®‰å…¨çš„åˆ†æ”¯ä¸­è¿›è¡Œå®éªŒ
- é¢„é˜²æ€§å¤‡ä»½æ°¸è¿œæ¯”äº‹åæ¢å¤æ›´å¯é 

> ğŸ’¡ **æœ€ç»ˆå»ºè®®**ï¼šç†Ÿç»ƒæŒæ¡è¿™äº›æ¢å¤æŠ€æœ¯ä¼šè®©ä½ åœ¨Gitä½¿ç”¨ä¸­æ›´æœ‰ä¿¡å¿ƒï¼Œä½†æ›´é‡è¦çš„æ˜¯å…»æˆè‰¯å¥½çš„å¤‡ä»½å’Œæ“ä½œä¹ æƒ¯ï¼Œé¿å…éœ€è¦æ¢å¤çš„æƒ…å†µå‘ç”Ÿã€‚