---
title: 7ã€ç³»ç»ŸæœåŠ¡åˆå§‹åŒ–é…ç½®
---
## ğŸ“š ç›®å½•

1. [systemdåŸºç¡€æœåŠ¡çŠ¶æ€æ£€æŸ¥](#1-systemdåŸºç¡€æœåŠ¡çŠ¶æ€æ£€æŸ¥)
2. [å¿…è¦ç³»ç»ŸæœåŠ¡å¯ç”¨ç¡®è®¤](#2-å¿…è¦ç³»ç»ŸæœåŠ¡å¯ç”¨ç¡®è®¤)
3. [å¼€æœºè‡ªå¯åŠ¨æœåŠ¡ç®¡ç†](#3-å¼€æœºè‡ªå¯åŠ¨æœåŠ¡ç®¡ç†)
4. [æœåŠ¡ä¾èµ–å…³ç³»éªŒè¯](#4-æœåŠ¡ä¾èµ–å…³ç³»éªŒè¯)
5. [ä¸å¿…è¦æœåŠ¡ç¦ç”¨ç­–ç•¥](#5-ä¸å¿…è¦æœåŠ¡ç¦ç”¨ç­–ç•¥)
6. [æœåŠ¡é…ç½®æ–‡ä»¶ä½ç½®ç¡®è®¤](#6-æœåŠ¡é…ç½®æ–‡ä»¶ä½ç½®ç¡®è®¤)
7. [æœåŠ¡è¿è¡ŒçŠ¶æ€ç›‘æ§](#7-æœåŠ¡è¿è¡ŒçŠ¶æ€ç›‘æ§)
8. [æœåŠ¡æ•…éšœæ’æŸ¥åŸºç¡€æ–¹æ³•](#8-æœåŠ¡æ•…éšœæ’æŸ¥åŸºç¡€æ–¹æ³•)
9. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#9-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ” systemdåŸºç¡€æœåŠ¡çŠ¶æ€æ£€æŸ¥


### 1.1 ä»€ä¹ˆæ˜¯systemd


**ğŸ’¡ ç®€å•ç†è§£systemd**
```
systemdå°±åƒLinuxç³»ç»Ÿçš„"æ€»ç®¡å®¶"ï¼š
â€¢ è´Ÿè´£å¯åŠ¨ç³»ç»Ÿå’Œç®¡ç†æ‰€æœ‰æœåŠ¡
â€¢ å–ä»£äº†ä¼ ç»Ÿçš„initç³»ç»Ÿ
â€¢ è®©æœåŠ¡ç®¡ç†å˜å¾—æ›´ç®€å•ã€æ›´å¼ºå¤§
â€¢ ç°åœ¨ç»å¤§å¤šæ•°Linuxå‘è¡Œç‰ˆéƒ½åœ¨ä½¿ç”¨
```

**ğŸ”¸ systemdçš„æ ¸å¿ƒæ¦‚å¿µ**

systemdæŠŠæ‰€æœ‰éœ€è¦ç®¡ç†çš„ä¸œè¥¿éƒ½å«åš"**å•å…ƒ(Unit)**"ï¼Œä¸»è¦åŒ…æ‹¬ï¼š
- **æœåŠ¡å•å…ƒ(.service)** - å„ç§åå°æœåŠ¡ç¨‹åº
- **æŒ‚è½½å•å…ƒ(.mount)** - æ–‡ä»¶ç³»ç»ŸæŒ‚è½½ç‚¹  
- **è®¾å¤‡å•å…ƒ(.device)** - ç¡¬ä»¶è®¾å¤‡
- **å¥—æ¥å­—å•å…ƒ(.socket)** - ç½‘ç»œå¥—æ¥å­—

æˆ‘ä»¬ä¸»è¦å…³æ³¨çš„æ˜¯**æœåŠ¡å•å…ƒ**ï¼Œä¹Ÿå°±æ˜¯å„ç§ç³»ç»ŸæœåŠ¡ã€‚

### 1.2 æ£€æŸ¥æœåŠ¡çŠ¶æ€çš„åŸºæœ¬å‘½ä»¤


**ğŸ”§ æ ¸å¿ƒå‘½ä»¤è¯¦è§£**

```bash
# æŸ¥çœ‹å•ä¸ªæœåŠ¡çš„è¯¦ç»†çŠ¶æ€
systemctl status æœåŠ¡å

# æŸ¥çœ‹æ‰€æœ‰æœåŠ¡çš„ç®€è¦çŠ¶æ€
systemctl list-units --type=service

# æŸ¥çœ‹æ‰€æœ‰æœåŠ¡(åŒ…æ‹¬æœªè¿è¡Œçš„)
systemctl list-units --type=service --all
```

**ğŸ“Š å®é™…æ“ä½œç¤ºä¾‹**

```bash
# æ£€æŸ¥SSHæœåŠ¡çŠ¶æ€
$ systemctl status sshd
â— sshd.service - OpenSSH server daemon
   Loaded: loaded (/usr/lib/systemd/system/sshd.service; enabled; vendor preset: enabled)
   Active: active (running) since Mon 2025-01-15 09:30:12 CST; 2h 15min ago
     Docs: man:sshd(8)
           man:sshd_config(5)
 Main PID: 1234 (sshd)
   CGroup: /system.slice/sshd.service
           â””â”€1234 /usr/sbin/sshd -D
```

**ğŸ¯ çŠ¶æ€ä¿¡æ¯è§£è¯»**

| å­—æ®µ | å«ä¹‰ | å®é™…æ„æ€ |
|------|------|----------|
| **Loaded** | `loaded` | æœåŠ¡é…ç½®æ–‡ä»¶å·²åŠ è½½ |
| **Active** | `active (running)` | æœåŠ¡æ­£åœ¨è¿è¡Œä¸­ |
| **Enabled** | `enabled` | å¼€æœºä¼šè‡ªåŠ¨å¯åŠ¨ |
| **Main PID** | `1234` | ä¸»è¿›ç¨‹çš„IDå· |

### 1.3 å¸¸è§æœåŠ¡çŠ¶æ€ç±»å‹


**âœ… æ­£å¸¸çŠ¶æ€**
- `active (running)` - æ­£åœ¨è¿è¡Œ
- `active (exited)` - å·²æˆåŠŸæ‰§è¡Œå®Œæ¯•
- `active (waiting)` - ç­‰å¾…äº‹ä»¶è§¦å‘

**âŒ å¼‚å¸¸çŠ¶æ€**  
- `inactive (dead)` - æœåŠ¡å·²åœæ­¢
- `failed` - æœåŠ¡å¯åŠ¨å¤±è´¥
- `activating` - æ­£åœ¨å¯åŠ¨ä¸­

**â¸ï¸ å…¶ä»–çŠ¶æ€**
- `masked` - æœåŠ¡è¢«ç¦ç”¨ä¸”æ— æ³•å¯åŠ¨
- `static` - æœåŠ¡å­˜åœ¨ä½†ä¸èƒ½ç›´æ¥å¯åŠ¨

---

## 2. âœ… å¿…è¦ç³»ç»ŸæœåŠ¡å¯ç”¨ç¡®è®¤


### 2.1 ä»€ä¹ˆæ˜¯å¿…è¦ç³»ç»ŸæœåŠ¡


**ğŸ”¸ æ ¸å¿ƒç³»ç»ŸæœåŠ¡**

è¿™äº›æœåŠ¡å°±åƒäººä½“çš„é‡è¦å™¨å®˜ï¼Œç¼ºäº†ç³»ç»Ÿå°±å¯èƒ½å‡ºé—®é¢˜ï¼š

```
åŸºç¡€ç½‘ç»œæœåŠ¡ï¼š
â€¢ NetworkManager    - ç½‘ç»œè¿æ¥ç®¡ç†
â€¢ systemd-resolved  - DNSè§£ææœåŠ¡
â€¢ firewalld        - é˜²ç«å¢™æœåŠ¡

ç³»ç»Ÿç®¡ç†æœåŠ¡ï¼š
â€¢ systemd-logind   - ç”¨æˆ·ç™»å½•ç®¡ç†
â€¢ dbus            - ç³»ç»Ÿæ¶ˆæ¯æ€»çº¿
â€¢ chronyd         - æ—¶é—´åŒæ­¥æœåŠ¡

å­˜å‚¨ç›¸å…³æœåŠ¡ï¼š
â€¢ systemd-udevd   - ç¡¬ä»¶è®¾å¤‡ç®¡ç†
â€¢ lvm2-monitor    - LVMå·ç›‘æ§
```

### 2.2 æ£€æŸ¥å¿…è¦æœåŠ¡æ˜¯å¦å¯ç”¨


**ğŸ” æ£€æŸ¥æ–¹æ³•**

```bash
# æ£€æŸ¥æœåŠ¡æ˜¯å¦å¯ç”¨(å¼€æœºè‡ªå¯åŠ¨)
systemctl is-enabled æœåŠ¡å

# æ£€æŸ¥æœåŠ¡æ˜¯å¦æ­£åœ¨è¿è¡Œ
systemctl is-active æœåŠ¡å

# ä¸€æ¬¡æ€§æ£€æŸ¥å¤šä¸ªæœåŠ¡
systemctl is-enabled sshd NetworkManager firewalld
```

**ğŸ“‹ æ‰¹é‡æ£€æŸ¥è„šæœ¬**

```bash
#!/bin/bash
# æ£€æŸ¥å¸¸ç”¨ç³»ç»ŸæœåŠ¡çŠ¶æ€

essential_services=(
    "NetworkManager"
    "sshd" 
    "firewalld"
    "chronyd"
    "systemd-resolved"
)

echo "=== å¿…è¦æœåŠ¡çŠ¶æ€æ£€æŸ¥ ==="
for service in "${essential_services[@]}"; do
    enabled=$(systemctl is-enabled $service 2>/dev/null)
    active=$(systemctl is-active $service 2>/dev/null)
    printf "%-20s å¯ç”¨: %-10s è¿è¡Œ: %s\n" $service $enabled $active
done
```

### 2.3 å¯ç”¨å¿…è¦æœåŠ¡


**âš¡ å¯ç”¨æœåŠ¡çš„æ ‡å‡†æ“ä½œ**

```bash
# å¯ç”¨å¹¶ç«‹å³å¯åŠ¨æœåŠ¡
sudo systemctl enable --now æœåŠ¡å

# åˆ†æ­¥æ“ä½œ
sudo systemctl enable æœåŠ¡å    # è®¾ç½®å¼€æœºè‡ªå¯åŠ¨
sudo systemctl start æœåŠ¡å     # ç«‹å³å¯åŠ¨æœåŠ¡
```

**ğŸ’¡ å®é™…æ¡ˆä¾‹**

```bash
# ç¡®ä¿SSHæœåŠ¡å¼€æœºè‡ªå¯åŠ¨å¹¶è¿è¡Œ
sudo systemctl enable --now sshd

# ç¡®ä¿é˜²ç«å¢™æœåŠ¡æ­£å¸¸
sudo systemctl enable --now firewalld

# ç¡®ä¿æ—¶é—´åŒæ­¥æœåŠ¡æ­£å¸¸  
sudo systemctl enable --now chronyd
```

---

## 3. ğŸš€ å¼€æœºè‡ªå¯åŠ¨æœåŠ¡ç®¡ç†


### 3.1 ç†è§£å¼€æœºè‡ªå¯åŠ¨


**ğŸ”¸ ä»€ä¹ˆæ˜¯å¼€æœºè‡ªå¯åŠ¨**

```
ç®€å•è¯´å°±æ˜¯ï¼š
ç”µè„‘å¼€æœº â†’ ç³»ç»Ÿå¯åŠ¨ â†’ è‡ªåŠ¨å¯åŠ¨æŸäº›æœåŠ¡

å°±åƒä½ çš„æ‰‹æœºå¼€æœºåï¼š
â€¢ å¾®ä¿¡è‡ªåŠ¨å¯åŠ¨(å¦‚æœè®¾ç½®äº†)
â€¢ éŸ³ä¹æ’­æ”¾å™¨è‡ªåŠ¨å¯åŠ¨(å¦‚æœè®¾ç½®äº†)
â€¢ å…¶ä»–åº”ç”¨æ ¹æ®è®¾ç½®å†³å®šæ˜¯å¦å¯åŠ¨
```

**ğŸ¯ ä¸ºä»€ä¹ˆéœ€è¦å¼€æœºè‡ªå¯åŠ¨**

| æœåŠ¡ç±»å‹ | æ˜¯å¦éœ€è¦è‡ªå¯åŠ¨ | åŸå›  |
|----------|----------------|------|
| **sshd** | âœ… éœ€è¦ | è¿œç¨‹ç™»å½•å¿…é¡»ï¼ŒæœåŠ¡å™¨é‡å¯åè¦èƒ½è¿æ¥ |
| **nginx** | âœ… éœ€è¦ | WebæœåŠ¡å™¨ï¼Œé‡å¯åç½‘ç«™è¦èƒ½è®¿é—® |
| **mysql** | âœ… éœ€è¦ | æ•°æ®åº“æœåŠ¡ï¼Œåº”ç”¨ç¨‹åºéœ€è¦ |
| **httpd** | â“ çœ‹æƒ…å†µ | å¦‚æœç”¨nginxå°±ä¸éœ€è¦apache |
| **bluetooth** | âŒ ä¸éœ€è¦ | æœåŠ¡å™¨é€šå¸¸ä¸éœ€è¦è“ç‰™ |

### 3.2 ç®¡ç†å¼€æœºè‡ªå¯åŠ¨


**ğŸ“‹ æŸ¥çœ‹å¼€æœºè‡ªå¯åŠ¨åˆ—è¡¨**

```bash
# æŸ¥çœ‹æ‰€æœ‰å·²å¯ç”¨çš„æœåŠ¡
systemctl list-unit-files --type=service --state=enabled

# æŸ¥çœ‹æ‰€æœ‰æœåŠ¡çš„å¯ç”¨çŠ¶æ€  
systemctl list-unit-files --type=service

# åªçœ‹é‡è¦çš„å‡ ä¸ª
systemctl list-unit-files --type=service | grep -E "(sshd|httpd|nginx|mysql)"
```

**âš¡ å¯ç”¨/ç¦ç”¨è‡ªå¯åŠ¨**

```bash
# å¯ç”¨å¼€æœºè‡ªå¯åŠ¨(ä¸ç«‹å³å¯åŠ¨)
sudo systemctl enable æœåŠ¡å

# ç¦ç”¨å¼€æœºè‡ªå¯åŠ¨(ä¸åœæ­¢å½“å‰è¿è¡Œ)  
sudo systemctl disable æœåŠ¡å

# å¯ç”¨å¹¶ç«‹å³å¯åŠ¨
sudo systemctl enable --now æœåŠ¡å

# ç¦ç”¨å¹¶ç«‹å³åœæ­¢
sudo systemctl disable --now æœåŠ¡å
```

### 3.3 è‡ªå¯åŠ¨çº§åˆ«ç®¡ç†


**ğŸ”¸ systemdçš„å¯åŠ¨ç›®æ ‡**

systemdç”¨"ç›®æ ‡(target)"æ¥æ›¿ä»£ä¼ ç»Ÿçš„è¿è¡Œçº§åˆ«ï¼š

```
å¸¸ç”¨å¯åŠ¨ç›®æ ‡ï¼š
â€¢ multi-user.target    - å¤šç”¨æˆ·å‘½ä»¤è¡Œæ¨¡å¼(ç±»ä¼¼runlevel 3)
â€¢ graphical.target     - å›¾å½¢ç•Œé¢æ¨¡å¼(ç±»ä¼¼runlevel 5)
â€¢ rescue.target        - æ•‘æ´æ¨¡å¼(ç±»ä¼¼runlevel 1)
```

**ğŸ“Š æ£€æŸ¥å’Œè®¾ç½®é»˜è®¤å¯åŠ¨ç›®æ ‡**

```bash
# æŸ¥çœ‹å½“å‰é»˜è®¤å¯åŠ¨ç›®æ ‡
systemctl get-default

# è®¾ç½®é»˜è®¤å¯åŠ¨ç›®æ ‡
sudo systemctl set-default multi-user.target

# æŸ¥çœ‹å½“å‰è¿è¡Œçš„ç›®æ ‡
systemctl list-units --type=target
```

---

## 4. ğŸ”— æœåŠ¡ä¾èµ–å…³ç³»éªŒè¯


### 4.1 ä»€ä¹ˆæ˜¯æœåŠ¡ä¾èµ–å…³ç³»


**ğŸ’¡ ç®€å•ç†è§£ä¾èµ–å…³ç³»**

```
å°±åƒç›–æˆ¿å­ï¼š
â€¢ å…ˆæ‰“åœ°åŸº â†’ å†å»ºå¢™ â†’ æœ€åè£…å±‹é¡¶
â€¢ æ¯ä¸€æ­¥éƒ½ä¾èµ–å‰é¢çš„æ­¥éª¤å®Œæˆ

ç³»ç»ŸæœåŠ¡ä¹Ÿä¸€æ ·ï¼š
â€¢ ç½‘ç»œæœåŠ¡ â†’ éœ€è¦å…ˆæœ‰åŸºç¡€ç³»ç»ŸæœåŠ¡
â€¢ WebæœåŠ¡ â†’ éœ€è¦å…ˆæœ‰ç½‘ç»œæœåŠ¡  
â€¢ æ•°æ®åº“è¿æ¥ â†’ éœ€è¦å…ˆæœ‰æ•°æ®åº“æœåŠ¡
```

**ğŸ”¸ ä¾èµ–å…³ç³»ç±»å‹**

| ä¾èµ–ç±»å‹ | å«ä¹‰ | ä¸¾ä¾‹ |
|----------|------|------|
| **Requires** | å¼ºä¾èµ–ï¼Œå¿…é¡»æœ‰ | nginxéœ€è¦network.target |
| **Wants** | å¼±ä¾èµ–ï¼Œæœ€å¥½æœ‰ | sshdæƒ³è¦network.target |
| **After** | é¡ºåºä¾èµ–ï¼Œåœ¨æŸæœåŠ¡åå¯åŠ¨ | nginxåœ¨network.targetä¹‹å |
| **Before** | é¡ºåºä¾èµ–ï¼Œåœ¨æŸæœåŠ¡å‰å¯åŠ¨ | network.targetåœ¨nginxä¹‹å‰ |

### 4.2 æŸ¥çœ‹æœåŠ¡ä¾èµ–å…³ç³»


**ğŸ” åŸºæœ¬æŸ¥çœ‹å‘½ä»¤**

```bash
# æŸ¥çœ‹æœåŠ¡çš„ä¾èµ–å…³ç³»
systemctl list-dependencies æœåŠ¡å

# æŸ¥çœ‹è¯¦ç»†çš„ä¾èµ–æ ‘
systemctl list-dependencies æœåŠ¡å --all

# æŸ¥çœ‹åå‘ä¾èµ–(è°ä¾èµ–è¿™ä¸ªæœåŠ¡)
systemctl list-dependencies æœåŠ¡å --reverse
```

**ğŸ“‹ å®é™…æ“ä½œç¤ºä¾‹**

```bash
# æŸ¥çœ‹sshdæœåŠ¡çš„ä¾èµ–å…³ç³»
$ systemctl list-dependencies sshd
sshd.service
â— â”œâ”€system.slice
â— â”œâ”€basic.target
â— â”‚ â”œâ”€microcode.service
â— â”‚ â”œâ”€rhel-dmesg.service
â— â”‚ â”œâ”€selinux-policy-migrate-local-changes@targeted.service
â— â”‚ â”œâ”€paths.target
â— â”‚ â”œâ”€slices.target
â— â”‚ â”œâ”€sockets.target
â— â”‚ â”œâ”€sysinit.target
â— â”‚ â””â”€timers.target
â— â””â”€network.target
```

### 4.3 éªŒè¯ä¾èµ–å…³ç³»æ˜¯å¦æ­£å¸¸


**âœ… ä¾èµ–å…³ç³»æ£€æŸ¥æ¸…å•**

```bash
# 1. æ£€æŸ¥æœåŠ¡æœ¬èº«çŠ¶æ€
systemctl status æœåŠ¡å

# 2. æ£€æŸ¥ä¾èµ–æœåŠ¡çŠ¶æ€  
systemctl list-dependencies æœåŠ¡å | grep -E "(failed|inactive)"

# 3. æ£€æŸ¥ç³»ç»Ÿæ—¥å¿—ä¸­çš„ä¾èµ–é”™è¯¯
journalctl -u æœåŠ¡å | grep -i "depend"
```

**ğŸš¨ å¸¸è§ä¾èµ–é—®é¢˜**

```
é—®é¢˜1: ç½‘ç»œæœåŠ¡å¯åŠ¨å¤±è´¥
åŸå› : network.targetæœªæ­£å¸¸å¯åŠ¨
è§£å†³: systemctl start network.target

é—®é¢˜2: æ•°æ®åº“è¿æ¥å¤±è´¥  
åŸå› : mysql.serviceæœªå¯åŠ¨æˆ–å¯åŠ¨å¤±è´¥
è§£å†³: systemctl start mysql; systemctl status mysql

é—®é¢˜3: æ—¶é—´åŒæ­¥å¼‚å¸¸
åŸå› : chronydæœåŠ¡ä¾èµ–networkï¼Œç½‘ç»œæœªå°±ç»ª
è§£å†³: æ£€æŸ¥ç½‘ç»œé…ç½®å’Œé˜²ç«å¢™è®¾ç½®
```

---

## 5. ğŸ›¡ï¸ ä¸å¿…è¦æœåŠ¡ç¦ç”¨ç­–ç•¥


### 5.1 ä¸ºä»€ä¹ˆè¦ç¦ç”¨ä¸å¿…è¦çš„æœåŠ¡


**ğŸ”¸ ç¦ç”¨æœåŠ¡çš„å¥½å¤„**

```
ç³»ç»Ÿå®‰å…¨æ€§æå‡ï¼š
â€¢ å‡å°‘æ”»å‡»é¢ - è¿è¡Œçš„æœåŠ¡è¶Šå°‘ï¼Œè¢«æ”»å‡»çš„å¯èƒ½æ€§è¶Šå°
â€¢ é™ä½æƒé™é£é™© - æ¯ä¸ªæœåŠ¡éƒ½æœ‰å¯¹åº”æƒé™ï¼ŒæœåŠ¡å°‘æƒé™æ›´å®‰å…¨

ç³»ç»Ÿæ€§èƒ½æå‡ï¼š  
â€¢ èŠ‚çœå†…å­˜ - ä¸è¿è¡Œä¸éœ€è¦çš„æœåŠ¡
â€¢ å‡å°‘CPUå ç”¨ - é¿å…æ— ç”¨çš„åå°è¿›ç¨‹
â€¢ ç¼©çŸ­å¯åŠ¨æ—¶é—´ - å¯åŠ¨çš„æœåŠ¡å°‘ï¼Œå¼€æœºæ›´å¿«
```

**âš ï¸ æ³¨æ„äº‹é¡¹**
- ä¸è¦éšæ„ç¦ç”¨ä¸è®¤è¯†çš„æœåŠ¡
- ç¦ç”¨å‰è¦äº†è§£æœåŠ¡çš„ä½œç”¨
- é‡è¦ç³»ç»ŸæœåŠ¡åƒä¸‡åˆ«ç¦ç”¨

### 5.2 è¯†åˆ«ä¸å¿…è¦çš„æœåŠ¡


**ğŸ” å¸¸è§å¯ä»¥ç¦ç”¨çš„æœåŠ¡**

| æœåŠ¡å | ä½œç”¨ | æ˜¯å¦å¯ç¦ç”¨ | é€‚ç”¨åœºæ™¯ |
|--------|------|------------|----------|
| **bluetooth** | è“ç‰™æœåŠ¡ | âœ… å¯ä»¥ | æœåŠ¡å™¨ä¸éœ€è¦è“ç‰™ |
| **cups** | æ‰“å°æœåŠ¡ | âœ… å¯ä»¥ | æœåŠ¡å™¨ä¸éœ€è¦æ‰“å° |
| **avahi-daemon** | ç½‘ç»œå‘ç° | âœ… å¯ä»¥ | ç®€å•ç½‘ç»œç¯å¢ƒ |
| **ModemManager** | è°ƒåˆ¶è§£è°ƒå™¨ | âœ… å¯ä»¥ | ä¸ä½¿ç”¨æ‹¨å·ä¸Šç½‘ |
| **postfix** | é‚®ä»¶æœåŠ¡ | â“ çœ‹æƒ…å†µ | ä¸éœ€è¦å‘é€é‚®ä»¶æ—¶ |

**ğŸ”§ æœåŠ¡è¯„ä¼°æ–¹æ³•**

```bash
# 1. æŸ¥çœ‹æœåŠ¡æè¿°
systemctl list-unit-files --type=service | grep æœåŠ¡å
systemctl cat æœåŠ¡å | grep Description

# 2. æŸ¥çœ‹æœåŠ¡å ç”¨èµ„æº
systemctl status æœåŠ¡å
ps aux | grep æœåŠ¡å

# 3. æŸ¥çœ‹æœåŠ¡ç›‘å¬ç«¯å£
ss -tlnp | grep è¿›ç¨‹ID
```

### 5.3 å®‰å…¨ç¦ç”¨æœåŠ¡çš„æ­¥éª¤


**ğŸ“‹ æ ‡å‡†ç¦ç”¨æµç¨‹**

```bash
# ç¬¬1æ­¥ï¼šäº†è§£æœåŠ¡ä½œç”¨
systemctl status æœåŠ¡å
systemctl cat æœåŠ¡å

# ç¬¬2æ­¥ï¼šåœæ­¢æœåŠ¡(æµ‹è¯•å½±å“)
sudo systemctl stop æœåŠ¡å

# ç¬¬3æ­¥ï¼šè§‚å¯Ÿç³»ç»Ÿæ˜¯å¦æ­£å¸¸(ç­‰å¾…ä¸€æ®µæ—¶é—´)
# æ£€æŸ¥ç›¸å…³åŠŸèƒ½æ˜¯å¦å—å½±å“

# ç¬¬4æ­¥ï¼šç¡®è®¤æ— å½±å“åç¦ç”¨å¼€æœºè‡ªå¯åŠ¨
sudo systemctl disable æœåŠ¡å

# ç¬¬5æ­¥ï¼šç¡®è®¤ç¦ç”¨çŠ¶æ€
systemctl is-enabled æœåŠ¡å
```

**ğŸ’¡ æ‰¹é‡ç¦ç”¨ç¤ºä¾‹**

```bash
#!/bin/bash
# ç¦ç”¨å¸¸è§ä¸å¿…è¦æœåŠ¡çš„è„šæœ¬

services_to_disable=(
    "bluetooth"
    "cups" 
    "avahi-daemon"
    "ModemManager"
)

for service in "${services_to_disable[@]}"; do
    if systemctl is-enabled $service >/dev/null 2>&1; then
        echo "ç¦ç”¨æœåŠ¡: $service"
        sudo systemctl disable --now $service
    else
        echo "æœåŠ¡ $service å·²ç»æ˜¯ç¦ç”¨çŠ¶æ€"
    fi
done
```

---

## 6. ğŸ“‚ æœåŠ¡é…ç½®æ–‡ä»¶ä½ç½®ç¡®è®¤


### 6.1 systemdé…ç½®æ–‡ä»¶ç›®å½•ç»“æ„


**ğŸ—‚ï¸ ä¸»è¦é…ç½®æ–‡ä»¶ä½ç½®**

```
systemdé…ç½®æ–‡ä»¶å±‚çº§ç»“æ„ï¼š

/etc/systemd/system/          â† ç®¡ç†å‘˜è‡ªå®šä¹‰é…ç½®(ä¼˜å…ˆçº§æœ€é«˜)
â”œâ”€â”€ æœåŠ¡å.service            â† è‡ªå®šä¹‰æœåŠ¡é…ç½®
â”œâ”€â”€ æœåŠ¡å.service.d/         â† æœåŠ¡é…ç½®æ‰©å±•ç›®å½•
â””â”€â”€ multi-user.target.wants/  â† å¼€æœºè‡ªå¯åŠ¨é“¾æ¥

/usr/lib/systemd/system/      â† ç³»ç»Ÿé»˜è®¤é…ç½®æ–‡ä»¶  
â”œâ”€â”€ sshd.service             â† SSHæœåŠ¡é…ç½®
â”œâ”€â”€ nginx.service            â† NginxæœåŠ¡é…ç½®
â””â”€â”€ mysql.service            â† MySQLæœåŠ¡é…ç½®

/run/systemd/system/          â† è¿è¡Œæ—¶ä¸´æ—¶é…ç½®
```

**ğŸ¯ ä¼˜å…ˆçº§è¯´æ˜**

systemdè¯»å–é…ç½®çš„ä¼˜å…ˆçº§é¡ºåºï¼š
1. `/etc/systemd/system/` - ç®¡ç†å‘˜é…ç½®(æœ€é«˜ä¼˜å…ˆçº§)
2. `/run/systemd/system/` - è¿è¡Œæ—¶é…ç½®  
3. `/usr/lib/systemd/system/` - ç³»ç»Ÿé»˜è®¤é…ç½®(æœ€ä½ä¼˜å…ˆçº§)

### 6.2 æŸ¥çœ‹æœåŠ¡é…ç½®æ–‡ä»¶


**ğŸ” åŸºæœ¬æŸ¥çœ‹å‘½ä»¤**

```bash
# æŸ¥çœ‹æœåŠ¡å®Œæ•´é…ç½®å†…å®¹
systemctl cat æœåŠ¡å

# æŸ¥çœ‹é…ç½®æ–‡ä»¶è·¯å¾„
systemctl show æœåŠ¡å -p FragmentPath

# æŸ¥çœ‹æ‰€æœ‰ç›¸å…³é…ç½®æ–‡ä»¶
systemctl show æœåŠ¡å -p FragmentPath,DropInPaths
```

**ğŸ“‹ å®é™…æ“ä½œç¤ºä¾‹**

```bash
# æŸ¥çœ‹sshdæœåŠ¡é…ç½®
$ systemctl cat sshd
# /usr/lib/systemd/system/sshd.service
[Unit]
Description=OpenSSH server daemon
Documentation=man:sshd(8) man:sshd_config(5)
After=network.target sshd-keygen.target
Wants=sshd-keygen.target

[Service]
Type=notify
EnvironmentFile=-/etc/crypto-policies/back-ends/opensshserver.config
EnvironmentFile=-/etc/sysconfig/sshd
ExecStart=/usr/sbin/sshd -D $OPTIONS $CRYPTO_POLICY
ExecReload=/bin/kill -HUP $MAINPID
KillMode=process
Restart=on-failure
RestartSec=42s

[Install]
WantedBy=multi-user.target
```

### 6.3 è‡ªå®šä¹‰æœåŠ¡é…ç½®


**âš¡ ä¿®æ”¹æœåŠ¡é…ç½®çš„æ­£ç¡®æ–¹æ³•**

```bash
# æ–¹æ³•1ï¼šä½¿ç”¨systemctl edit(æ¨è)
sudo systemctl edit æœåŠ¡å

# æ–¹æ³•2ï¼šåˆ›å»ºé…ç½®æ‰©å±•ç›®å½•
sudo mkdir -p /etc/systemd/system/æœåŠ¡å.service.d/
sudo vim /etc/systemd/system/æœåŠ¡å.service.d/override.conf

# ä¿®æ”¹åé‡æ–°åŠ è½½é…ç½®
sudo systemctl daemon-reload
sudo systemctl restart æœåŠ¡å
```

**ğŸ’¡ é…ç½®ä¿®æ”¹ç¤ºä¾‹**

```bash
# ä¿®æ”¹sshdæœåŠ¡çš„é‡å¯ç­–ç•¥
sudo systemctl edit sshd

# åœ¨ç¼–è¾‘å™¨ä¸­æ·»åŠ ï¼š
[Service]
Restart=always
RestartSec=10s

# ä¿å­˜é€€å‡ºåï¼Œsystemdä¼šåˆ›å»ºï¼š
# /etc/systemd/system/sshd.service.d/override.conf
```

---

## 7. ğŸ“Š æœåŠ¡è¿è¡ŒçŠ¶æ€ç›‘æ§


### 7.1 åŸºæœ¬çŠ¶æ€ç›‘æ§


**ğŸ” å®æ—¶ç›‘æ§å‘½ä»¤**

```bash
# æŸ¥çœ‹ç³»ç»Ÿæ•´ä½“æœåŠ¡çŠ¶æ€  
systemctl list-units --type=service

# åªçœ‹è¿è¡Œä¸­çš„æœåŠ¡
systemctl list-units --type=service --state=active

# åªçœ‹å¤±è´¥çš„æœåŠ¡
systemctl list-units --type=service --state=failed

# ç›‘æ§ç‰¹å®šæœåŠ¡çŠ¶æ€å˜åŒ–
watch -n 2 'systemctl status æœåŠ¡å'
```

**ğŸ“‹ çŠ¶æ€ä¿¡æ¯è¯¦è§£**

```bash
$ systemctl status nginx
â— nginx.service - The nginx HTTP and reverse proxy server
   Loaded: loaded (/usr/lib/systemd/system/nginx.service; enabled; vendor preset: disabled)
   Active: active (running) since Wed 2025-01-15 10:00:00 CST; 1h 30min ago
     Docs: http://nginx.org/en/docs/
  Process: 1234 ExecStart=/usr/sbin/nginx (code=exited, status=0/SUCCESS)
  Process: 1233 ExecStartPre=/usr/sbin/nginx -t (code=exited, status=0/SUCCESS)
 Main PID: 1235 (nginx)
   CGroup: /system.slice/nginx.service
           â”œâ”€1235 nginx: master process /usr/sbin/nginx
           â””â”€1236 nginx: worker process

1æœˆ 15 10:00:00 server systemd[1]: Starting The nginx HTTP and reverse proxy server...
1æœˆ 15 10:00:00 server nginx[1233]: nginx: configuration file /etc/nginx/nginx.conf test is successful
1æœˆ 15 10:00:00 server systemd[1]: Started The nginx HTTP and reverse proxy server.
```

**ğŸ¯ å…³é”®ä¿¡æ¯è§£è¯»**

| ä¿¡æ¯é¡¹ | å«ä¹‰ | æ­£å¸¸çŠ¶æ€ |
|--------|------|----------|
| **Active** | å½“å‰è¿è¡ŒçŠ¶æ€ | `active (running)` |
| **Main PID** | ä¸»è¿›ç¨‹ID | æœ‰å…·ä½“æ•°å­— |
| **CGroup** | è¿›ç¨‹ç»„ä¿¡æ¯ | æ˜¾ç¤ºç›¸å…³è¿›ç¨‹ |
| **æœ€è¿‘æ—¥å¿—** | å¯åŠ¨å’Œè¿è¡Œæ—¥å¿— | æ— é”™è¯¯ä¿¡æ¯ |

### 7.2 èµ„æºä½¿ç”¨ç›‘æ§


**ğŸ’» ç›‘æ§æœåŠ¡èµ„æºå ç”¨**

```bash
# æŸ¥çœ‹æœåŠ¡CPUå’Œå†…å­˜ä½¿ç”¨æƒ…å†µ
systemctl status æœåŠ¡å

# è¯¦ç»†çš„èµ„æºç»Ÿè®¡
systemd-cgtop

# æŸ¥çœ‹ç‰¹å®šæœåŠ¡çš„èµ„æºé™åˆ¶
systemctl show æœåŠ¡å -p CPUQuotaPerSecUSec,MemoryLimit
```

**ğŸ“Š è®¾ç½®èµ„æºé™åˆ¶**

```bash
# åˆ›å»ºæœåŠ¡é…ç½®æ‰©å±•
sudo systemctl edit æœåŠ¡å

# æ·»åŠ èµ„æºé™åˆ¶
[Service]
CPUQuota=50%          # é™åˆ¶CPUä½¿ç”¨50%
MemoryLimit=1G        # é™åˆ¶å†…å­˜ä½¿ç”¨1GB  
TasksMax=100          # é™åˆ¶æœ€å¤§è¿›ç¨‹æ•°

# åº”ç”¨é…ç½®
sudo systemctl daemon-reload
sudo systemctl restart æœåŠ¡å
```

### 7.3 è‡ªåŠ¨åŒ–ç›‘æ§è„šæœ¬


**ğŸ”§ æœåŠ¡å¥åº·æ£€æŸ¥è„šæœ¬**

```bash
#!/bin/bash
# ç³»ç»ŸæœåŠ¡å¥åº·æ£€æŸ¥è„šæœ¬

# å®šä¹‰éœ€è¦ç›‘æ§çš„å…³é”®æœåŠ¡
critical_services=(
    "sshd"
    "NetworkManager" 
    "firewalld"
    "chronyd"
)

# æ£€æŸ¥å‡½æ•°
check_service() {
    local service=$1
    local status=$(systemctl is-active $service)
    local enabled=$(systemctl is-enabled $service)
    
    if [ "$status" = "active" ]; then
        echo "âœ… $service: è¿è¡Œæ­£å¸¸ (å¯ç”¨çŠ¶æ€: $enabled)"
    else
        echo "âŒ $service: çŠ¶æ€å¼‚å¸¸ ($status) (å¯ç”¨çŠ¶æ€: $enabled)"
        # å¯ä»¥æ·»åŠ è‡ªåŠ¨é‡å¯é€»è¾‘
        # systemctl restart $service
    fi
}

echo "=== ç³»ç»ŸæœåŠ¡å¥åº·æ£€æŸ¥ $(date) ==="
for service in "${critical_services[@]}"; do
    check_service $service
done

# æ£€æŸ¥å¤±è´¥çš„æœåŠ¡
failed_services=$(systemctl list-units --type=service --state=failed --no-legend | wc -l)
if [ $failed_services -gt 0 ]; then
    echo "âš ï¸  å‘ç° $failed_services ä¸ªå¤±è´¥çš„æœåŠ¡:"
    systemctl list-units --type=service --state=failed --no-legend
fi
```

---

## 8. ğŸ”§ æœåŠ¡æ•…éšœæ’æŸ¥åŸºç¡€æ–¹æ³•


### 8.1 æ•…éšœæ’æŸ¥æ€è·¯


**ğŸ¯ ç³»ç»ŸåŒ–æ’æŸ¥æµç¨‹**

```
ç¬¬1æ­¥: ç¡®è®¤é—®é¢˜ç°è±¡
â€¢ æœåŠ¡æ— æ³•å¯åŠ¨ï¼Ÿ
â€¢ æœåŠ¡è¿è¡Œå¼‚å¸¸ï¼Ÿ  
â€¢ æœåŠ¡é¢‘ç¹é‡å¯ï¼Ÿ

ç¬¬2æ­¥: æŸ¥çœ‹æœåŠ¡çŠ¶æ€
â€¢ systemctl status æœåŠ¡å
â€¢ æŸ¥çœ‹åŸºæœ¬çŠ¶æ€ä¿¡æ¯

ç¬¬3æ­¥: æŸ¥çœ‹è¯¦ç»†æ—¥å¿—
â€¢ journalctl -u æœåŠ¡å
â€¢ åˆ†æé”™è¯¯æ—¥å¿—ä¿¡æ¯

ç¬¬4æ­¥: æ£€æŸ¥é…ç½®æ–‡ä»¶
â€¢ é…ç½®æ–‡ä»¶è¯­æ³•é”™è¯¯ï¼Ÿ
â€¢ æƒé™é—®é¢˜ï¼Ÿ

ç¬¬5æ­¥: æ£€æŸ¥ä¾èµ–å…³ç³»
â€¢ ä¾èµ–æœåŠ¡æ˜¯å¦æ­£å¸¸ï¼Ÿ
â€¢ èµ„æºæ˜¯å¦å……è¶³ï¼Ÿ

ç¬¬6æ­¥: å°è¯•è§£å†³æ–¹æ¡ˆ
â€¢ é‡å¯æœåŠ¡
â€¢ ä¿®å¤é…ç½®
â€¢ è§£å†³ä¾èµ–é—®é¢˜
```

### 8.2 å¸¸ç”¨æ•…éšœæ’æŸ¥å‘½ä»¤


**ğŸ” åŸºç¡€æ’æŸ¥å‘½ä»¤**

```bash
# æŸ¥çœ‹æœåŠ¡è¯¦ç»†çŠ¶æ€
systemctl status æœåŠ¡å -l

# æŸ¥çœ‹æœåŠ¡æ—¥å¿—(æœ€è¿‘çš„)
journalctl -u æœåŠ¡å --since "1 hour ago"

# æŸ¥çœ‹æœåŠ¡æ—¥å¿—(å®æ—¶è·Ÿè¸ª)
journalctl -u æœåŠ¡å -f

# æŸ¥çœ‹æœåŠ¡æ—¥å¿—(æŒ‰ä¼˜å…ˆçº§)
journalctl -u æœåŠ¡å -p err

# æ£€æŸ¥é…ç½®æ–‡ä»¶è¯­æ³•
nginx -t              # nginxé…ç½®æ£€æŸ¥
sshd -t               # sshdé…ç½®æ£€æŸ¥
systemd-analyze verify æœåŠ¡å.service  # systemdé…ç½®æ£€æŸ¥
```

### 8.3 å¸¸è§æ•…éšœç±»å‹åŠè§£å†³æ–¹æ³•


**âŒ æ•…éšœç±»å‹1ï¼šæœåŠ¡å¯åŠ¨å¤±è´¥**

```bash
# ç°è±¡
$ systemctl start nginx
Job for nginx.service failed because the control process exited with error code.

# æ’æŸ¥æ­¥éª¤
systemctl status nginx -l
journalctl -u nginx --since "5 minutes ago"

# å¸¸è§åŸå› å’Œè§£å†³æ–¹æ³•
é…ç½®æ–‡ä»¶é”™è¯¯:
  nginx -t                    # æ£€æŸ¥é…ç½®
  vim /etc/nginx/nginx.conf   # ä¿®å¤é…ç½®
  
ç«¯å£è¢«å ç”¨:
  ss -tlnp | grep :80         # æŸ¥çœ‹ç«¯å£å ç”¨
  kill è¿›ç¨‹ID                 # æ€æ‰å ç”¨è¿›ç¨‹
  
æƒé™é—®é¢˜:
  ls -l /etc/nginx/          # æ£€æŸ¥æ–‡ä»¶æƒé™
  chown -R nginx:nginx /etc/nginx/  # ä¿®å¤æƒé™
```

**âŒ æ•…éšœç±»å‹2ï¼šæœåŠ¡å¼‚å¸¸é€€å‡º**

```bash
# ç°è±¡  
æœåŠ¡å¯åŠ¨åå¾ˆå¿«é€€å‡ºï¼Œstatusæ˜¾ç¤º"inactive (dead)"

# æ’æŸ¥æ­¥éª¤
journalctl -u æœåŠ¡å --since today
systemctl cat æœåŠ¡å          # æŸ¥çœ‹æœåŠ¡é…ç½®

# å¸¸è§åŸå› 
ExecStartè·¯å¾„é”™è¯¯:
  which ç¨‹åºå                # ç¡®è®¤ç¨‹åºè·¯å¾„
  ä¿®æ”¹æœåŠ¡é…ç½®æ–‡ä»¶ä¸­çš„è·¯å¾„
  
ä¾èµ–æœåŠ¡æœªå¯åŠ¨:
  systemctl list-dependencies æœåŠ¡å
  å¯åŠ¨ç›¸å…³ä¾èµ–æœåŠ¡

ç¯å¢ƒå˜é‡é—®é¢˜:
  æ£€æŸ¥EnvironmentFileé…ç½®
  ç¡®è®¤ç¯å¢ƒå˜é‡æ–‡ä»¶å­˜åœ¨ä¸”æ­£ç¡®
```

**âŒ æ•…éšœç±»å‹3ï¼šæœåŠ¡å“åº”ç¼“æ…¢**

```bash
# ç°è±¡
æœåŠ¡èƒ½å¯åŠ¨ï¼Œä½†å“åº”å¾ˆæ…¢æˆ–ç»å¸¸è¶…æ—¶

# æ’æŸ¥æ–¹æ³•
# 1. æ£€æŸ¥ç³»ç»Ÿèµ„æº
top               # CPUä½¿ç”¨æƒ…å†µ
free -h           # å†…å­˜ä½¿ç”¨æƒ…å†µ  
df -h             # ç£ç›˜ä½¿ç”¨æƒ…å†µ
ss -tlnp          # ç½‘ç»œè¿æ¥æƒ…å†µ

# 2. æ£€æŸ¥æœåŠ¡é…ç½®
systemctl show æœåŠ¡å | grep -E "(CPU|Memory|Tasks)"

# 3. è°ƒæ•´æœåŠ¡å‚æ•°
systemctl edit æœåŠ¡å
# å¢åŠ è¶…æ—¶æ—¶é—´ï¼Œè°ƒæ•´èµ„æºé™åˆ¶ç­‰
```

### 8.4 æ•…éšœé¢„é˜²ç­–ç•¥


**ğŸ›¡ï¸ é¢„é˜²æªæ–½**

```bash
# 1. å®šæœŸå¤‡ä»½é…ç½®æ–‡ä»¶
cp /etc/nginx/nginx.conf /etc/nginx/nginx.conf.bak.$(date +%Y%m%d)

# 2. é…ç½®ç›‘æ§å’Œå‘Šè­¦
# åˆ›å»ºç›‘æ§è„šæœ¬ï¼Œå®šæ—¶æ£€æŸ¥æœåŠ¡çŠ¶æ€

# 3. è®°å½•å˜æ›´æ—¥å¿—
# ä¿®æ”¹é…ç½®å‰è®°å½•å˜æ›´åŸå› å’Œå†…å®¹

# 4. æµ‹è¯•é…ç½®å˜æ›´
# å…ˆåœ¨æµ‹è¯•ç¯å¢ƒéªŒè¯ï¼Œå†åº”ç”¨åˆ°ç”Ÿäº§ç¯å¢ƒ

# 5. è®¾ç½®åˆé€‚çš„é‡å¯ç­–ç•¥
[Service]
Restart=on-failure
RestartSec=10s
StartLimitIntervalSec=60s
StartLimitBurst=3
```

---

## 9. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 9.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ systemdæœ¬è´¨ï¼šLinuxç³»ç»Ÿçš„"æ€»ç®¡å®¶"ï¼Œè´Ÿè´£ç®¡ç†æ‰€æœ‰æœåŠ¡
ğŸ”¸ æœåŠ¡çŠ¶æ€ï¼šactive/inactive/failedç­‰ï¼Œè¦èƒ½çœ‹æ‡‚çŠ¶æ€ä¿¡æ¯  
ğŸ”¸ å¼€æœºè‡ªå¯åŠ¨ï¼šenable/disableæ§åˆ¶æœåŠ¡æ˜¯å¦éšç³»ç»Ÿå¯åŠ¨
ğŸ”¸ æœåŠ¡ä¾èµ–ï¼šæœåŠ¡é—´çš„å¯åŠ¨é¡ºåºå’Œä¾èµ–å…³ç³»å¾ˆé‡è¦
ğŸ”¸ é…ç½®æ–‡ä»¶ï¼š/etc/systemd/system/ä¼˜å…ˆçº§æœ€é«˜ï¼Œå¯è¦†ç›–é»˜è®¤é…ç½®
ğŸ”¸ æ•…éšœæ’æŸ¥ï¼šsystemctl status + journalctlæ˜¯æœ€åŸºæœ¬çš„æ’æŸ¥å·¥å…·
```

### 9.2 å…³é”®æ“ä½œå‘½ä»¤


**ğŸ“‹ æ—¥å¸¸ç®¡ç†å‘½ä»¤**

| æ“ä½œ | å‘½ä»¤ | ä½œç”¨ |
|------|------|------|
| **æŸ¥çœ‹çŠ¶æ€** | `systemctl status æœåŠ¡å` | æŸ¥çœ‹æœåŠ¡è¯¦ç»†çŠ¶æ€ |
| **å¯åŠ¨æœåŠ¡** | `systemctl start æœåŠ¡å` | ç«‹å³å¯åŠ¨æœåŠ¡ |
| **åœæ­¢æœåŠ¡** | `systemctl stop æœåŠ¡å` | ç«‹å³åœæ­¢æœåŠ¡ |
| **é‡å¯æœåŠ¡** | `systemctl restart æœåŠ¡å` | é‡æ–°å¯åŠ¨æœåŠ¡ |
| **å¯ç”¨è‡ªå¯åŠ¨** | `systemctl enable æœåŠ¡å` | è®¾ç½®å¼€æœºè‡ªå¯åŠ¨ |
| **ç¦ç”¨è‡ªå¯åŠ¨** | `systemctl disable æœåŠ¡å` | ç¦ç”¨å¼€æœºè‡ªå¯åŠ¨ |
| **æŸ¥çœ‹æ—¥å¿—** | `journalctl -u æœåŠ¡å` | æŸ¥çœ‹æœåŠ¡æ—¥å¿— |
| **é‡è½½é…ç½®** | `systemctl daemon-reload` | é‡æ–°åŠ è½½systemdé…ç½® |

### 9.3 å®é™…åº”ç”¨æŒ‡å¯¼


**ğŸ¯ æ–°ç³»ç»Ÿåˆå§‹åŒ–æ£€æŸ¥æ¸…å•**

```bash
# 1. æ£€æŸ¥å¿…è¦æœåŠ¡çŠ¶æ€
systemctl status sshd NetworkManager firewalld chronyd

# 2. ç¡®ä¿å¿…è¦æœåŠ¡å¼€æœºè‡ªå¯åŠ¨
systemctl is-enabled sshd NetworkManager firewalld chronyd

# 3. ç¦ç”¨ä¸å¿…è¦æœåŠ¡
systemctl disable bluetooth cups avahi-daemon

# 4. æ£€æŸ¥å¤±è´¥çš„æœåŠ¡
systemctl list-units --type=service --state=failed

# 5. å¤‡ä»½é‡è¦é…ç½®
cp -r /etc/systemd/system/ /etc/systemd/system.backup/
```

**ğŸ”§ æ—¥å¸¸ç»´æŠ¤è¦ç‚¹**

- **å®šæœŸæ£€æŸ¥** - æ¯å‘¨æ£€æŸ¥ä¸€æ¬¡æœåŠ¡çŠ¶æ€å’Œæ—¥å¿—
- **é…ç½®å¤‡ä»½** - ä¿®æ”¹é…ç½®å‰å…ˆå¤‡ä»½  
- **æµ‹è¯•éªŒè¯** - é…ç½®ä¿®æ”¹åè¦æµ‹è¯•åŠŸèƒ½æ˜¯å¦æ­£å¸¸
- **æ–‡æ¡£è®°å½•** - é‡è¦å˜æ›´è¦è®°å½•åŸå› å’Œè¿‡ç¨‹
- **ç›‘æ§å‘Šè­¦** - å¯¹å…³é”®æœåŠ¡è®¾ç½®ç›‘æ§å’Œè‡ªåŠ¨å‘Šè­¦

**æ ¸å¿ƒè®°å¿†è¦ç‚¹**ï¼š
- systemdæ˜¯ç°ä»£Linuxçš„æœåŠ¡ç®¡ç†å™¨
- `systemctl`æ˜¯ç®¡ç†æœåŠ¡çš„ä¸»è¦å‘½ä»¤  
- `journalctl`æ˜¯æŸ¥çœ‹æ—¥å¿—çš„ä¸»è¦å·¥å…·
- æœåŠ¡é…ç½®ä¿®æ”¹åè¦`daemon-reload`
- æ•…éšœæ’æŸ¥ä»statuså’Œæ—¥å¿—å¼€å§‹
- å®‰å…¨ç¬¬ä¸€ï¼Œä¸äº†è§£çš„æœåŠ¡åˆ«ä¹±åŠ¨