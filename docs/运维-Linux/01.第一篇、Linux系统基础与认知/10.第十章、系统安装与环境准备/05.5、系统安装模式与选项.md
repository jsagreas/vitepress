---
title: 5、系统安装模式与选项
---
## 📚 目录

1. [Linux安装模式概述](#1-Linux安装模式概述)
2. [最小化安装与完整安装](#2-最小化安装与完整安装)
3. [图形界面安装向导](#3-图形界面安装向导)
4. [文本模式安装流程](#4-文本模式安装流程)
5. [自动化安装配置](#5-自动化安装配置)
6. [软件包组选择策略](#6-软件包组选择策略)
7. [系统基础配置设置](#7-系统基础配置设置)
8. [核心要点总结](#8-核心要点总结)

---

## 1. 🖥️ Linux安装模式概述


### 1.1 什么是安装模式


**简单理解**：安装模式就是选择用什么方式来安装Linux系统到你的电脑上

```
常见安装方式：
┌─────────────────┐
│  光盘/USB启动    │ ← 最传统，最可靠的方式
├─────────────────┤
│  网络PXE安装    │ ← 通过局域网远程安装
├─────────────────┤
│  虚拟机安装      │ ← 在现有系统上虚拟安装
├─────────────────┤
│  硬盘直接安装    │ ← 从已有分区直接安装
└─────────────────┘
```

**安装模式的核心区别**：
- 🎯 **用户交互方式**：图形界面 vs 文本界面
- 📦 **软件包选择**：完整安装 vs 最小化安装
- ⚙️ **配置程度**：手动配置 vs 自动化配置
- 🚀 **安装速度**：快速安装 vs 定制化安装

### 1.2 选择合适的安装模式


**根据使用场景选择**：

| 使用场景 | **推荐模式** | **理由** |
|----------|-------------|----------|
| 🖥️ **桌面办公** | `图形界面完整安装` | `用户友好，功能完整` |
| 🔧 **服务器部署** | `文本模式最小化安装` | `资源占用少，安全性高` |
| 🏢 **批量部署** | `自动化安装` | `提高效率，标准化配置` |
| 🎓 **学习实验** | `虚拟机图形安装` | `安全隔离，可反复练习` |

---

## 2. 📦 最小化安装与完整安装


### 2.1 最小化安装详解


**什么是最小化安装**：只安装系统运行所必需的最基础组件

**最小化安装包含的内容**：
```
核心系统组件：
├─ Linux内核（kernel）
├─ 基础系统库（glibc等）
├─ 基本命令工具（bash、ls、cp等）
├─ 网络基础工具（ping、wget等）
├─ 软件包管理器（yum/apt等）
└─ SSH服务（远程管理）

不包含的内容：
❌ 图形界面（X Window、桌面环境）
❌ 办公软件（LibreOffice等）
❌ 多媒体工具（音视频播放器）
❌ 开发工具（编译器、IDE）
❌ Web服务器（Apache、Nginx）
```

**最小化安装的优势**：
```
资源占用：
├─ 磁盘空间：通常 < 1GB
├─ 内存占用：启动后 < 512MB
├─ CPU负载：极低
└─ 网络流量：安装过程中最少

安全优势：
├─ 攻击面最小：没有不必要的服务
├─ 漏洞风险低：组件少意味着漏洞少
├─ 更新简单：需要更新的包少
└─ 审计容易：系统组件清晰明确
```

### 2.2 完整安装详解


**什么是完整安装**：安装包含桌面环境和各种应用软件的完整系统

**完整安装包含的内容**：
```
桌面环境：
├─ X Window系统（图形基础）
├─ 桌面环境（GNOME/KDE/Xfce）
├─ 窗口管理器
└─ 显示管理器（登录界面）

应用软件：
├─ 办公套件（LibreOffice）
├─ Web浏览器（Firefox）
├─ 多媒体工具（音视频播放器）
├─ 图形编辑器（GIMP）
├─ 开发工具（编辑器、编译器）
└─ 系统管理工具
```

**完整安装的特点**：
```
优势：
✅ 开箱即用：安装完成即可正常使用
✅ 功能丰富：满足日常办公娱乐需求
✅ 用户友好：图形界面操作简单
✅ 软件齐全：减少后期软件安装工作

劣势：
❌ 占用空间大：通常需要 8-20GB
❌ 内存消耗多：图形界面占用较多内存
❌ 启动速度慢：需要加载更多组件
❌ 潜在安全风险：更多服务意味着更多攻击面
```

### 2.3 安装类型选择建议


**服务器环境**：
```bash
# 推荐最小化安装
理由：
├─ 服务器通常不需要图形界面
├─ 最小化资源占用，提高性能
├─ 减少安全风险和维护成本
└─ 后续可按需安装特定软件

选择策略：
1. 选择 "Minimal Install" 或 "Server" 模式
2. 只选择必要的软件包组
3. 后续通过包管理器安装需要的软件
```

**桌面环境**：
```bash
# 推荐完整安装或定制安装
理由：
├─ 需要图形界面进行日常操作
├─ 办公娱乐软件一次性安装到位
├─ 避免后期复杂的依赖问题
└─ 用户体验更友好

选择策略：
1. 选择 "Desktop" 或 "Workstation" 模式
2. 根据需要选择桌面环境
3. 可取消不需要的软件包组
```

---

## 3. 🖼️ 图形界面安装向导


### 3.1 图形安装界面概述


**什么是图形安装界面**：提供可视化操作的安装程序，通过鼠标点击完成系统安装

**图形安装的特点**：
```
用户体验：
✅ 直观易懂：图标和菜单清晰
✅ 操作简单：鼠标点击即可
✅ 实时预览：可预览配置结果
✅ 错误提示：友好的错误信息

技术特点：
├─ 基于framebuffer：不需要完整图形驱动
├─ 内存需求：通常需要1GB以上内存
├─ 多语言支持：界面本地化程度高
└─ 向导式流程：步骤清晰，顺序引导
```

### 3.2 图形安装流程详解


**典型的图形安装步骤**：
```
步骤1：欢迎界面
┌─────────────────────┐
│ Welcome to CentOS 8 │
│                     │
│ [ ] Try CentOS      │ ← 试用模式（Live CD）
│ [●] Install CentOS  │ ← 安装模式
│                     │
│ Language: [English▼]│
│                     │
│     [Continue]      │
└─────────────────────┘

步骤2：安装摘要界面
┌─────────────────────┐
│ INSTALLATION SUMMARY│
├─────────────────────┤
│ [!] Installation    │ ← 安装目标磁盘
│     Destination     │
├─────────────────────┤
│ [✓] Network &       │ ← 网络和主机名
│     Host Name       │
├─────────────────────┤
│ [!] Software        │ ← 软件选择
│     Selection       │
├─────────────────────┤
│ [✓] Time & Date     │ ← 时间和日期
└─────────────────────┘
```

**关键配置界面**：

**🔸 磁盘分区界面**
```
自动分区：
├─ 使用整个磁盘：最简单，适合新手
├─ 使用可用空间：与现有系统共存
└─ 替换现有Linux：保留其他操作系统

手动分区：
├─ 标准分区：传统分区方式
├─ LVM：逻辑卷管理，灵活性高
└─ LVM精简配置：动态空间分配

推荐分区方案：
/boot    : 1GB   (启动分区)
/        : 20GB  (根分区)  
/home    : 剩余  (用户数据)
swap     : 2倍内存或8GB
```

**🔸 网络配置界面**
```
网络连接：
├─ 以太网：有线网络配置
├─ WiFi：无线网络配置
├─ 手动IP：静态IP地址配置
└─ 自动IP：DHCP自动获取

主机名设置：
├─ 自动：基于网络配置自动生成
├─ 手动：用户自定义主机名
└─ 格式：hostname.domain.com
```

### 3.3 图形安装的优势与限制


**优势分析**：
```
适合人群：
✅ Linux新手：界面友好，容易上手
✅ 偶尔安装：不需要记忆复杂命令
✅ 复杂配置：可视化配置更直观
✅ 错误排查：图形提示更容易理解

场景适用：
✅ 个人电脑：日常使用的桌面系统
✅ 开发环境：需要图形界面的开发机
✅ 学习环境：教学演示和实验
✅ 单次安装：不需要批量部署的情况
```

**限制分析**：
```
技术限制：
❌ 内存需求高：至少需要1GB内存
❌ 显卡依赖：部分老旧显卡可能不支持
❌ 远程安装难：无法通过SSH进行图形安装
❌ 自动化困难：难以实现无人值守安装

应用限制：
❌ 服务器环境：通常不需要图形界面
❌ 批量部署：效率低，无法自动化
❌ 资源受限：低配置设备可能无法运行
❌ 网络安装：网络环境下传输数据量大
```

---

## 4. 💻 文本模式安装流程


### 4.1 文本安装界面概述


**什么是文本安装模式**：基于字符界面的安装程序，通过键盘操作完成系统安装

**文本安装的特点**：
```
技术特点：
✅ 资源占用极低：内存需求通常<256MB
✅ 兼容性好：几乎所有硬件都支持
✅ 远程友好：可通过SSH进行远程安装
✅ 自动化支持：容易集成到脚本中

操作特点：
├─ 键盘导航：Tab键切换，Enter确认
├─ 菜单选择：上下箭头键选择选项
├─ 文本输入：直接输入字符串
└─ 快捷键：Alt+数字键快速跳转
```

### 4.2 文本安装流程详解


**启动文本安装模式**：
```bash
# 在启动菜单中选择文本安装
启动选项：
├─ Install CentOS 8              ← 图形安装（默认）
├─ Install CentOS 8 (Text Mode) ← 文本安装
├─ Test media & install          ← 测试介质
└─ Boot from local drive         ← 从本地硬盘启动

# 或在图形模式启动参数中添加
linux inst.text
```

**文本界面安装步骤**：
```
步骤1：语言选择
========================================
Please select a language:
1) English (United States)
2) 简体中文 (中国)
3) Français (France)
...
Please make your choice [1]: 1

步骤2：安装摘要
========================================
Installation Summary
1) [x] Language settings     (English (United States))
2) [!] Installation source   (Not specified)
3) [!] Software selection    (Not specified)
4) [!] Installation Destination (Not specified)
5) [x] Network configuration (Wired (ens33))
6) [x] Root password         (Root password set)
7) [ ] User creation         (No user will be created)

Please make your choice [1-7]: 4
```

**关键配置步骤**：

**🔸 磁盘分区配置**
```
========================================
Installation Destination

Available Space: 20.00 GB

1) [x] /dev/sda (20.00 GB)

Partitioning Options:
1) Use automatic partitioning
2) I will configure partitioning

Please make your choice [1-2]: 1

Automatic Partitioning:
├─ /boot     : 1024 MB
├─ /         : 17.99 GB  
└─ swap      : 2.05 GB
```

**🔸 软件包选择**
```
========================================
Software Selection

Base Environment:
1) Minimal Install
2) Custom Operating System  
3) Server
4) Server with GUI
5) Workstation
6) Virtualization Host

Please make your choice [1-6]: 1

Additional software for selected environment:
No additional software selected.
```

### 4.3 文本模式操作技巧


**键盘操作指南**：
```
导航操作：
├─ Tab键：在选项间切换
├─ 空格键：选择/取消选择
├─ Enter键：确认选择
├─ ESC键：返回上级菜单
└─ Ctrl+Alt+F1-F6：切换虚拟终端

快捷操作：
├─ Alt+数字键：快速跳转到对应选项
├─ Ctrl+L：清屏刷新
├─ Ctrl+C：中断当前操作
└─ Ctrl+Z：暂停当前进程
```

**常见问题处理**：
```bash
# 屏幕显示问题
# 如果文字显示乱码或界面异常
echo "export LANG=en_US.UTF-8" >> ~/.bashrc
source ~/.bashrc

# 键盘映射问题  
# 如果按键响应异常
loadkeys us  # 加载美式键盘布局
```

### 4.4 文本安装适用场景


**推荐使用场景**：
```
技术场景：
✅ 服务器安装：无显示器的服务器环境
✅ 远程安装：通过SSH进行远程部署
✅ 批量部署：结合自动化脚本使用
✅ 资源受限：内存不足1GB的老旧设备
✅ 故障恢复：图形界面无法正常工作时

管理优势：
✅ 脚本化：容易编写自动化脚本
✅ 标准化：配置参数明确，易于复制
✅ 调试友好：错误信息更直接
✅ 网络高效：数据传输量小
```

---

## 5. 🤖 自动化安装配置


### 5.1 自动化安装概述


**什么是自动化安装**：预先定义安装配置，实现无人值守的批量系统部署

```
传统安装 vs 自动化安装：

传统方式：
人工操作 → 选择选项 → 等待安装 → 手动配置
时间成本：每台机器30-60分钟
人力成本：需要专人值守
出错概率：人工操作容易出错

自动化方式：
预配置文件 → 自动安装 → 自动配置 → 自动完成
时间成本：并行安装，大幅节省时间
人力成本：一次配置，重复使用
出错概率：标准化配置，减少错误
```

### 5.2 Kickstart自动化安装


**什么是Kickstart**：Red Hat系列Linux（CentOS/RHEL/Fedora）的自动化安装系统

**Kickstart配置文件结构**：
```bash
# ks.cfg 示例配置文件

# 安装模式和基本设置
install                    # 安装（而非升级）
text                      # 文本模式安装
lang en_US.UTF-8          # 系统语言
keyboard us               # 键盘布局
timezone Asia/Shanghai    # 时区设置

# 网络配置
network --device=ens33 --bootproto=dhcp --onboot=yes --hostname=centos8-server

# 系统认证
rootpw --iscrypted $6$encrypted_password_hash
authselect minimal

# 磁盘分区
clearpart --drives=sda --all --initlabel
autopart --type=lvm

# 软件包选择
%packages --ignoremissing
@core
@base
wget
curl
vim
-firefox*
-libreoffice*
%end

# 安装后脚本
%post --log=/root/ks-post.log
systemctl enable sshd
systemctl start firewalld
%end
```

**Kickstart关键配置项详解**：
```bash
# 安装源配置
url --url="http://mirror.centos.org/centos/8/BaseOS/x86_64/os/"
# 或使用本地DVD
cdrom

# 分区详细配置
part /boot --fstype="xfs" --size=1024
part pv.01 --fstype="lvmpv" --size=1 --grow
volgroup centos pv.01
logvol / --fstype="xfs" --name=root --vgname=centos --size=20480
logvol swap --name=swap --vgname=centos --size=2048
logvol /home --fstype="xfs" --name=home --vgname=centos --size=1 --grow

# 用户创建
user --name=admin --groups=wheel --iscrypted --password=$6$hash...

# 服务配置
services --enabled=sshd,NetworkManager --disabled=firewalld
```

### 5.3 Preseed自动化安装


**什么是Preseed**：Debian系列Linux（Ubuntu/Debian）的自动化安装系统

**Preseed配置文件示例**：
```bash
# preseed.cfg 示例配置

# 地区设置
d-i debian-installer/locale string en_US.UTF-8
d-i localechooser/supported-locales multiselect zh_CN.UTF-8, en_US.UTF-8
d-i keyboard-configuration/xkb-keymap select us

# 网络配置
d-i netcfg/choose_interface select auto
d-i netcfg/get_hostname string ubuntu-server
d-i netcfg/get_domain string localdomain

# 软件源配置
d-i mirror/country string CN
d-i mirror/http/hostname string mirrors.aliyun.com
d-i mirror/http/directory string /ubuntu

# 账户配置
d-i passwd/root-login boolean false
d-i passwd/user-fullname string Admin User
d-i passwd/username string admin
d-i passwd/user-password-crypted password $6$encrypted_hash...

# 分区配置
d-i partman-auto/method string lvm
d-i partman-auto-lvm/guided_size string max
d-i partman-auto/choose_recipe select atomic
d-i partman/confirm boolean true
d-i partman/confirm_nooverwrite boolean true

# 软件包选择
tasksel tasksel/first multiselect ubuntu-server
d-i pkgsel/include string openssh-server vim curl wget
d-i pkgsel/upgrade select none
d-i pkgsel/update-policy select none

# 安装完成后的脚本
d-i preseed/late_command string \
    echo 'admin ALL=(ALL) NOPASSWD:ALL' >> /target/etc/sudoers.d/admin
```

### 5.4 自动化安装部署方法


**🔸 PXE网络部署**
```bash
# PXE服务器配置步骤

1. 安装PXE相关服务
yum install -y dhcp tftp-server syslinux httpd

2. 配置DHCP服务
cat > /etc/dhcp/dhcpd.conf << EOF
subnet 192.168.1.0 netmask 255.255.255.0 {
    range 192.168.1.100 192.168.1.200;
    option routers 192.168.1.1;
    option domain-name-servers 8.8.8.8;
    filename "pxelinux.0";
    next-server 192.168.1.10;
}
EOF

3. 配置TFTP服务
cp /usr/share/syslinux/pxelinux.0 /var/lib/tftpboot/
mkdir -p /var/lib/tftpboot/pxelinux.cfg

4. 配置启动菜单
cat > /var/lib/tftpboot/pxelinux.cfg/default << EOF
DEFAULT install
LABEL install
    KERNEL vmlinuz
    APPEND initrd=initrd.img inst.repo=http://192.168.1.10/centos8 inst.ks=http://192.168.1.10/ks.cfg
EOF
```

**🔸 USB/DVD自动安装**
```bash
# 制作自动化安装媒体

1. 准备安装介质
cp CentOS-8.iso /tmp/
mkdir /mnt/iso
mount -o loop /tmp/CentOS-8.iso /mnt/iso

2. 复制文件到工作目录
cp -r /mnt/iso/* /tmp/custom-iso/

3. 添加kickstart文件
cp ks.cfg /tmp/custom-iso/

4. 修改启动配置
vim /tmp/custom-iso/isolinux/isolinux.cfg
# 在启动参数中添加：inst.ks=cdrom:/ks.cfg

5. 制作新的ISO
mkisofs -o custom-centos8.iso -b isolinux/isolinux.bin \
        -c isolinux/boot.cat -no-emul-boot -boot-load-size 4 \
        -boot-info-table -V "Custom CentOS 8" /tmp/custom-iso/
```

---

## 6. 📦 软件包组选择策略


### 6.1 软件包组概念


**什么是软件包组**：将相关功能的软件包打包在一起，方便批量安装和管理

```
软件包组的层次结构：
┌─────────────────┐
│   环境组        │ ← 最大的软件集合（如Desktop、Server）
├─────────────────┤
│   包组          │ ← 功能相关的软件集合（如Development Tools）
├─────────────────┤
│   软件包        │ ← 单个软件（如gcc、vim）
└─────────────────┘

示例关系：
Server环境组
├─ Core（核心包组）
│  ├─ bash, coreutils, kernel
│  └─ systemd, glibc
├─ Base System（基本系统包组）
│  ├─ NetworkManager, firewalld
│  └─ chrony, rsyslog
└─ Hardware Support（硬件支持包组）
   ├─ 驱动程序包
   └─ 固件包
```

### 6.2 主要环境组详解


**🔸 Minimal Install（最小安装）**
```
包含内容：
✅ 核心系统内核和基础库
✅ 基本命令行工具
✅ 网络基础功能
✅ 软件包管理器
✅ SSH服务

不包含内容：
❌ 图形界面
❌ 开发工具
❌ Web服务器
❌ 办公软件
❌ 多媒体工具

适用场景：
├─ 生产服务器：资源占用最小
├─ 容器环境：镜像体积最小
├─ 嵌入式设备：存储空间有限
└─ 定制化需求：后续按需安装
```

**🔸 Server（服务器环境）**
```
在最小安装基础上增加：
✅ 系统管理工具
✅ 网络服务工具
✅ 文件系统工具
✅ 监控和日志工具
✅ 硬件支持包

典型用途：
├─ Web服务器：后续安装Apache/Nginx
├─ 数据库服务器：后续安装MySQL/PostgreSQL
├─ 应用服务器：运行各种后端应用
└─ 文件服务器：NFS、Samba等服务
```

**🔸 Server with GUI（带图形界面的服务器）**
```
在服务器环境基础上增加：
✅ X Window系统
✅ 基础桌面环境
✅ 远程桌面支持
✅ 图形管理工具

适用场景：
├─ 需要图形化管理的服务器
├─ 数据库管理：需要图形化工具
├─ 开发测试服务器
└─ 学习环境：便于图形化操作
```

**🔸 Workstation（工作站）**
```
完整的桌面工作环境：
✅ 完整桌面环境（GNOME）
✅ 办公软件套件
✅ 多媒体工具
✅ 开发工具
✅ 图形编辑器

适用人群：
├─ 软件开发人员
├─ 内容创作者
├─ 日常办公用户
└─ 学习Linux的新手
```

### 6.3 软件包组管理


**查看可用软件包组**：
```bash
# CentOS/RHEL系统
dnf group list
# 或
yum group list

输出示例：
Available Environment Groups:
   Server
   Minimal Install  
   Workstation
   Virtualization Host

Available Groups:
   Container Management
   Development Tools
   Legacy UNIX Compatibility
   Network Servers
   Scientific Support
   Security Tools
   System Tools
```

**安装特定软件包组**：
```bash
# 安装开发工具组
dnf group install "Development Tools"

# 查看软件包组内容
dnf group info "Development Tools"

Group: Development Tools
 Description: A basic development environment.
 Mandatory Packages:
   autoconf
   gcc
   gcc-c++
   make
 Default Packages:
   byacc
   flex
   gdb
 Optional Packages:
   ElectricFence
   ant
```

### 6.4 软件包选择策略


**根据用途制定策略**：

**🔸 生产服务器策略**
```bash
基本原则：只安装必需的包，避免不必要的软件

推荐选择：
├─ Base Environment: Minimal Install
├─ Add-ons: Core, Base System
├─ 额外安装: 根据服务需求按需安装

安全考虑：
❌ 不安装桌面环境
❌ 不安装开发工具（生产环境）
❌ 不安装不必要的网络服务
✅ 只安装业务相关的软件包
```

**🔸 开发环境策略**
```bash
基本原则：平衡功能性和系统资源占用

推荐选择：
├─ Base Environment: Workstation 或 Server with GUI
├─ Add-ons: Development Tools, System Tools
├─ 可选: Container Management, Virtualization

实用工具：
✅ 代码编辑器和IDE
✅ 版本控制工具（Git）
✅ 编译工具链
✅ 调试和性能分析工具
```

**🔸 学习实验策略**
```bash
基本原则：功能完整，便于学习和实验

推荐选择：
├─ Base Environment: Workstation
├─ Add-ons: 大部分可用组件
├─ 包含: 图形界面、开发工具、系统工具

学习优势：
✅ 完整功能：可以学习各种Linux特性
✅ 图形界面：便于新手理解概念
✅ 工具丰富：各种管理和开发工具
✅ 实验安全：虚拟机环境可随意测试
```

---

## 7. 🌐 系统基础配置设置


### 7.1 语言与区域设置


**语言设置详解**：
```bash
# 系统语言配置
语言设置影响的内容：
├─ 系统界面显示语言
├─ 错误消息显示语言  
├─ 软件界面本地化
├─ 字符编码方式
└─ 数字、日期格式

常用语言选项：
├─ English (United States) - en_US.UTF-8
├─ 简体中文 (中国) - zh_CN.UTF-8
├─ 繁體中文 (台灣) - zh_TW.UTF-8
└─ 日本語 (日本) - ja_JP.UTF-8
```

**区域设置详解**：
```bash
# 区域信息配置
LANG=en_US.UTF-8           # 主要语言
LC_CTYPE=en_US.UTF-8       # 字符分类
LC_NUMERIC=zh_CN.UTF-8     # 数字格式
LC_TIME=zh_CN.UTF-8        # 时间日期格式
LC_COLLATE=en_US.UTF-8     # 字符串排序
LC_MONETARY=zh_CN.UTF-8    # 货币格式
LC_MESSAGES=en_US.UTF-8    # 消息语言
LC_ALL=                    # 覆盖所有LC_*设置

实际效果：
├─ 数字格式：123,456.78 vs 123.456,78
├─ 日期格式：2025/01/15 vs 15/01/2025
├─ 货币符号：$ vs ¥ vs €
└─ 时间格式：24小时制 vs 12小时制
```

**语言配置实践**：
```bash
# 查看当前语言设置
locale

# 查看可用语言包
dnf list glibc-langpack-*

# 安装中文语言包
dnf install glibc-langpack-zh

# 临时更改语言
export LANG=zh_CN.UTF-8

# 永久更改语言
localectl set-locale LANG=zh_CN.UTF-8

# 验证更改
localectl status
```

### 7.2 键盘布局配置


**键盘布局的重要性**：
```
布局影响的内容：
├─ 按键对应的字符
├─ 特殊符号位置
├─ 快捷键组合
└─ 输入法切换

常见布局选择：
├─ us: 美式英语键盘（最通用）
├─ us-intl: 美式国际键盘（支持重音符号）
├─ cn: 中文键盘布局
├─ uk: 英式英语键盘
├─ de: 德语键盘布局
└─ fr: 法语键盘布局
```

**键盘布局配置**：
```bash
# 查看当前键盘布局
localectl status

# 查看可用键盘布局
localectl list-keymaps | grep -i us

# 设置键盘布局
localectl set-keymap us

# 图形界面中的键盘设置
localectl set-x11-keymap us

# 临时更改键盘布局（当前会话）
loadkeys us

# 验证键盘布局
# 测试特殊字符输入：@#$%^&*()
```

### 7.3 网络配置与主机名设置


**网络配置选项**：
```
配置方式选择：
├─ DHCP自动获取：适用于大多数环境
├─ 静态IP配置：适用于服务器环境
├─ PPPoE拨号：适用于ADSL连接
└─ 无线配置：适用于WiFi连接

重要网络参数：
├─ IP地址：192.168.1.100
├─ 子网掩码：255.255.255.0 (/24)
├─ 网关：192.168.1.1
├─ DNS服务器：8.8.8.8, 114.114.114.114
└─ 搜索域：example.com
```

**静态IP配置示例**：
```bash
# 安装时的网络配置
IP Address: 192.168.1.100
Netmask: 255.255.255.0
Gateway: 192.168.1.1
DNS: 8.8.8.8

# 安装后验证网络配置
ip addr show
ip route show
cat /etc/resolv.conf

# 网络连接文件位置
ls /etc/NetworkManager/system-connections/
# 或 CentOS 7及以下
ls /etc/sysconfig/network-scripts/
```

**主机名设置详解**：
```bash
# 主机名的作用
主机名用途：
├─ 系统标识：在网络中标识本机
├─ 命令提示符：显示在shell提示符中
├─ 日志记录：系统日志中的主机标识
├─ 服务配置：某些服务需要主机名
└─ 证书配置：SSL证书可能绑定主机名

主机名格式：
├─ 短主机名：server01
├─ 完整域名：server01.example.com
├─ 命名规则：只能包含字母、数字、连字符
└─ 长度限制：通常不超过63个字符

# 设置主机名
hostnamectl set-hostname server01.example.com

# 查看主机名配置
hostnamectl status
cat /etc/hostname
```

### 7.4 时区与时间设置


**时区设置的重要性**：
```
时区影响的内容：
├─ 系统时间显示
├─ 日志文件时间戳
├─ 计划任务执行时间
├─ 应用程序时间处理
└─ 数据库时间记录

常用时区：
├─ Asia/Shanghai：中国标准时间（UTC+8）
├─ Asia/Tokyo：日本标准时间（UTC+9）
├─ Europe/London：格林威治标准时间（UTC+0）
├─ America/New_York：美国东部时间（UTC-5/-4）
└─ UTC：协调世界时（UTC+0）
```

**时区和时间配置**：
```bash
# 查看当前时区
timedatectl status

# 列出可用时区
timedatectl list-timezones | grep Asia

# 设置时区
timedatectl set-timezone Asia/Shanghai

# 设置系统时间（如果需要）
timedatectl set-time "2025-01-15 14:30:00"

# 启用NTP时间同步
timedatectl set-ntp true

# 查看时间同步状态
systemctl status chronyd

# 验证时间设置
date
hwclock --show
```

**NTP时间同步配置**：
```bash
# 配置NTP服务器
vim /etc/chrony.conf

# 添加国内NTP服务器
server ntp.aliyun.com iburst
server cn.pool.ntp.org iburst
server 0.centos.pool.ntp.org iburst

# 重启时间同步服务
systemctl restart chronyd

# 检查同步状态
chrony sources -v
chrony tracking
```

---

## 8. 📋 核心要点总结


### 8.1 必须掌握的核心概念


```
🔸 安装模式选择：最小化vs完整，图形vs文本，手动vs自动
🔸 图形安装流程：直观易用，适合新手和复杂配置
🔸 文本安装特点：资源占用少，适合服务器和远程安装
🔸 自动化部署：Kickstart/Preseed实现批量无人值守安装
🔸 软件包组策略：根据用途选择合适的环境和包组
🔸 基础配置：语言、键盘、网络、主机名、时区设置
```

### 8.2 关键理解要点


**🔹 选择合适的安装模式**
```
决策因素：
├─ 使用场景：桌面、服务器、开发环境
├─ 硬件资源：内存、存储空间限制
├─ 管理需求：是否需要图形界面管理
├─ 部署规模：单机安装vs批量部署
└─ 技术水平：新手友好vs高级定制

最佳实践：
✅ 服务器：文本模式 + 最小化安装
✅ 桌面：图形模式 + 完整安装或工作站
✅ 开发：图形模式 + 工作站 + 开发工具
✅ 批量：自动化安装 + 标准化配置
```

**🔹 自动化安装的价值**
```
核心优势：
├─ 效率提升：并行批量安装，节省时间
├─ 标准化：统一配置，减少人为错误
├─ 可重复：配置文件复用，快速部署
├─ 审计友好：配置文件版本管理
└─ 成本降低：减少人工操作成本

适用场景：
✅ 数据中心：大量服务器部署
✅ 云环境：虚拟机快速创建
✅ 开发团队：统一开发环境
✅ 测试环境：快速重建测试系统
```

**🔹 软件包组的策略选择**
```
选择原则：
├─ 需求导向：根据实际使用需求选择
├─ 安全优先：不安装不必要的软件
├─ 性能考虑：考虑系统资源消耗
├─ 维护便利：考虑后期维护成本
└─ 扩展性：为未来需求留有余地

包组搭配：
✅ 核心包组：Core + Base System（必选）
✅ 服务器：+ System Tools + Network Servers
✅ 开发环境：+ Development Tools + Container Management
✅ 桌面环境：+ Desktop + Multimedia + Graphics
```

### 8.3 实际应用指导


**🔸 生产环境最佳实践**
```bash
安装建议：
1. 选择稳定版本的Linux发行版
2. 使用文本模式最小化安装
3. 静态IP配置，便于管理
4. 合理的主机名规划
5. 统一的时区设置（建议UTC）

安全配置：
├─ 禁用root远程登录
├─ 创建专门的管理用户
├─ 配置防火墙规则
├─ 及时更新安全补丁
└─ 启用系统审计日志
```

**🔸 开发环境建议**
```bash
实用配置：
1. 选择Workstation环境
2. 安装完整的开发工具链
3. 配置合适的语言环境
4. 安装常用的编辑器和IDE
5. 配置版本控制工具

提高效率：
├─ 配置包管理器镜像源
├─ 安装常用命令行工具
├─ 配置shell环境和别名
├─ 安装虚拟化工具（Docker等）
└─ 配置网络代理（如需要）
```

**🔸 学习环境搭建**
```bash
学习友好配置：
1. 虚拟机安装，安全隔离
2. 图形界面，便于理解
3. 完整软件包，功能丰富
4. 快照功能，便于恢复
5. 多发行版对比学习

进阶学习：
├─ 尝试不同的安装模式
├─ 练习自动化安装脚本
├─ 对比不同发行版特点
├─ 学习系统配置和调优
└─ 实践企业级部署方案
```

**核心记忆要点**：
- 安装模式选择要根据使用场景和资源情况
- 图形安装用户友好，文本安装效率更高
- 自动化安装是大规模部署的必然选择
- 软件包组要按需选择，避免不必要的安全风险
- 基础配置要符合企业规范和使用习惯