---
title: 11ã€å‘è¡Œç‰ˆè¿ç§»ä¸å…¼å®¹æ€§
---
## ğŸ“š ç›®å½•

1. [è·¨å‘è¡Œç‰ˆæ•°æ®è¿ç§»ç­–ç•¥](#1-è·¨å‘è¡Œç‰ˆæ•°æ®è¿ç§»ç­–ç•¥)
2. [è½¯ä»¶åŒ…ä¾èµ–å…³ç³»å¤„ç†](#2-è½¯ä»¶åŒ…ä¾èµ–å…³ç³»å¤„ç†)
3. [é…ç½®æ–‡ä»¶æ ¼å¼å·®å¼‚](#3-é…ç½®æ–‡ä»¶æ ¼å¼å·®å¼‚)
4. [æœåŠ¡ç®¡ç†æœºåˆ¶å˜æ›´](#4-æœåŠ¡ç®¡ç†æœºåˆ¶å˜æ›´)
5. [ç”¨æˆ·æƒé™æ¨¡å‹è¿ç§»](#5-ç”¨æˆ·æƒé™æ¨¡å‹è¿ç§»)
6. [ç½‘ç»œé…ç½®è¿ç§»](#6-ç½‘ç»œé…ç½®è¿ç§»)
7. [å›æ»šç­–ç•¥åˆ¶å®š](#7-å›æ»šç­–ç•¥åˆ¶å®š)
8. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#8-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸš€ è·¨å‘è¡Œç‰ˆæ•°æ®è¿ç§»ç­–ç•¥


### 1.1 ä»€ä¹ˆæ˜¯å‘è¡Œç‰ˆè¿ç§»

ğŸ¯ **ç®€å•ç†è§£**ï¼šå°±åƒæ¬å®¶ä¸€æ ·ï¼ŒæŠŠä½ çš„æ•°æ®å’Œé…ç½®ä»ä¸€ä¸ªLinuxç³»ç»Ÿæ¬åˆ°å¦ä¸€ä¸ª

```
ç”Ÿæ´»åŒ–æ¯”å–»ï¼š
æ—§æˆ¿å­ï¼ˆCentOSï¼‰ â†’ æ–°æˆ¿å­ï¼ˆUbuntuï¼‰

æ¬å®¶éœ€è¦è€ƒè™‘ï¼š
âœ… å®¶å…·èƒ½å¦é€‚é…ï¼ˆè½¯ä»¶å…¼å®¹æ€§ï¼‰
âœ… æ°´ç”µæ¥å£ä¸åŒï¼ˆé…ç½®å·®å¼‚ï¼‰  
âœ… é‚»å±…ç¯å¢ƒå˜åŒ–ï¼ˆç³»ç»Ÿæœºåˆ¶å·®å¼‚ï¼‰
âœ… å¤‡ç”¨æ–¹æ¡ˆï¼ˆå›æ»šç­–ç•¥ï¼‰
```

**ğŸ”¸ å¸¸è§è¿ç§»åœºæ™¯**
```
1. æŠ€æœ¯æ ˆå‡çº§
   CentOS 7 â†’ Rocky Linux 8/9
   Ubuntu 16.04 â†’ Ubuntu 22.04
   
2. æ¶æ„å˜æ›´
   ä¼ ç»Ÿéƒ¨ç½² â†’ å®¹å™¨åŒ–
   æœ¬åœ°æœåŠ¡å™¨ â†’ äº‘å¹³å°

3. æˆæœ¬ä¼˜åŒ–
   å•†ä¸šç‰ˆ â†’ å¼€æºç‰ˆ
   é‡é‡çº§ â†’ è½»é‡çº§å‘è¡Œç‰ˆ
```

### 1.2 è¿ç§»å‰çš„å‡†å¤‡å·¥ä½œ

**ğŸ“‹ è¿ç§»è¯„ä¼°æ¸…å•**

```
ğŸŸ¢ **åŸºç¡€ä¿¡æ¯æ”¶é›†**
- [ ] å½“å‰ç³»ç»Ÿç‰ˆæœ¬å’Œæ¶æ„
- [ ] è¿è¡Œçš„å…³é”®æœåŠ¡åˆ—è¡¨  
- [ ] æ•°æ®å­˜å‚¨ä½ç½®å’Œå¤§å°
- [ ] ç½‘ç»œé…ç½®å’Œç«¯å£ä½¿ç”¨
- [ ] å®šæ—¶ä»»åŠ¡å’Œè„šæœ¬

ğŸŸ¡ **å…¼å®¹æ€§åˆ†æ**  
- [ ] è½¯ä»¶åŒ…åœ¨ç›®æ ‡ç³»ç»Ÿçš„å¯ç”¨æ€§
- [ ] é…ç½®æ–‡ä»¶æ ¼å¼å·®å¼‚
- [ ] æœåŠ¡ç®¡ç†æ–¹å¼å˜åŒ–
- [ ] å†…æ ¸ç‰ˆæœ¬å’Œé©±åŠ¨æ”¯æŒ

ğŸ”´ **é£é™©è¯„ä¼°**
- [ ] ä¸šåŠ¡ä¸­æ–­æ—¶é—´çª—å£
- [ ] æ•°æ®ä¸¢å¤±é£é™©ç‚¹
- [ ] å›æ»šå¤æ‚åº¦è¯„ä¼°
```

### 1.3 æ•°æ®åˆ†ç±»ä¸è¿ç§»ç­–ç•¥

**ğŸ“Š æ•°æ®åˆ†ç±»å¤„ç†**

| æ•°æ®ç±»å‹ | **è¿ç§»æ–¹å¼** | **æ³¨æ„äº‹é¡¹** | **ä¼˜å…ˆçº§** |
|---------|-------------|-------------|-----------|
| ğŸ”¸ **ç”¨æˆ·æ•°æ®** | `rsync/tar` | `æƒé™ä¿æŒ` | `æœ€é«˜` |
| ğŸ”¸ **åº”ç”¨æ•°æ®** | `dump/restore` | `ç‰ˆæœ¬å…¼å®¹` | `æœ€é«˜` |
| ğŸ”¸ **é…ç½®æ–‡ä»¶** | `æ‰‹åŠ¨è°ƒæ•´` | `æ ¼å¼å·®å¼‚` | `é«˜` |
| ğŸ”¸ **ç³»ç»Ÿæ—¥å¿—** | `å¯é€‰è¿ç§»` | `ç©ºé—´è€ƒè™‘` | `ä¸­` |
| ğŸ”¸ **ä¸´æ—¶æ–‡ä»¶** | `é‡æ–°ç”Ÿæˆ` | `å¯å¿½ç•¥` | `ä½` |

**ğŸ› ï¸ é€šç”¨è¿ç§»å‘½ä»¤**
```bash
# 1. æ•°æ®å¤‡ä»½ï¼ˆæºç³»ç»Ÿï¼‰
tar -czpf /backup/home_data.tar.gz /home/
tar -czpf /backup/etc_configs.tar.gz /etc/

# 2. ä¼ è¾“åˆ°ç›®æ ‡ç³»ç»Ÿ
rsync -avz /backup/ target_server:/restore/

# 3. æ•°æ®æ¢å¤ï¼ˆç›®æ ‡ç³»ç»Ÿï¼‰
cd /
tar -xzpf /restore/home_data.tar.gz
tar -xzpf /restore/etc_configs.tar.gz
```

---

## 2. ğŸ“¦ è½¯ä»¶åŒ…ä¾èµ–å…³ç³»å¤„ç†


### 2.1 ä¸åŒå‘è¡Œç‰ˆçš„åŒ…ç®¡ç†å·®å¼‚

**ğŸ¯ åŒ…ç®¡ç†å™¨å¯¹æ¯”**

```
åŒ…ç®¡ç†å™¨ç”Ÿæ€å¯¹æ¯”ï¼š

Red Hatç³»ï¼š                 Debianç³»ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    yum      â”‚  â†â†’       â”‚     apt     â”‚
â”‚   (dnf)     â”‚           â”‚   (dpkg)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â†“                         â†“
  .rpmåŒ…æ ¼å¼                .debåŒ…æ ¼å¼
     â†“                         â†“
  ä¾èµ–è§£æ                   ä¾èµ–è§£æ
```

**ğŸ”§ åŒ…åå·®å¼‚ä¸¾ä¾‹**
```bash
# WebæœåŠ¡å™¨
CentOS: httpd          Ubuntu: apache2
CentOS: nginx          Ubuntu: nginx (ç›¸åŒ)

# å¼€å‘å·¥å…·
CentOS: gcc            Ubuntu: gcc (ç›¸åŒ)
CentOS: make           Ubuntu: make (ç›¸åŒ)
CentOS: python3-devel  Ubuntu: python3-dev

# æ•°æ®åº“
CentOS: mariadb-server Ubuntu: mariadb-server (ç›¸åŒ)
CentOS: postgresql     Ubuntu: postgresql (ç›¸åŒ)
```

### 2.2 ä¾èµ–å…³ç³»è¿ç§»ç­–ç•¥

**ğŸ“‹ ä¾èµ–è§£å†³æ­¥éª¤**

```
ğŸŸ¢ **ç¬¬ä¸€æ­¥ï¼šåŒ…åˆ—è¡¨å¯¼å‡º**
# CentOS/RHELç³»ç»Ÿ
rpm -qa --qf '%{NAME}\n' > installed_packages.txt

# Ubuntu/Debianç³»ç»Ÿ  
dpkg -l | grep ^ii | awk '{print $2}' > installed_packages.txt

ğŸŸ¡ **ç¬¬äºŒæ­¥ï¼šåŒ…åæ˜ å°„**
åˆ›å»ºæ˜ å°„è¡¨ï¼šold_package_name â†’ new_package_name

ğŸ”´ **ç¬¬ä¸‰æ­¥ï¼šæ‰¹é‡å®‰è£…**
æ ¹æ®æ˜ å°„è¡¨åœ¨æ–°ç³»ç»Ÿå®‰è£…å¯¹åº”è½¯ä»¶åŒ…
```

**ğŸ’¡ å®ç”¨è¿ç§»è„šæœ¬**
```bash
#!/bin/bash
# åŒ…ä¾èµ–è¿ç§»è„šæœ¬ç¤ºä¾‹

# å®šä¹‰åŒ…åæ˜ å°„å…³ç³»
declare -A package_map=(
    ["httpd"]="apache2"
    ["python3-devel"]="python3-dev"
    ["openssh-server"]="openssh-server"
)

# è¯»å–åŸç³»ç»ŸåŒ…åˆ—è¡¨
while read package; do
    if [[ ${package_map[$package]} ]]; then
        new_package=${package_map[$package]}
        echo "å®‰è£… $new_package (æ›¿æ¢ $package)"
        apt install -y $new_package
    else
        echo "å°è¯•ç›´æ¥å®‰è£… $package"
        apt install -y $package 2>/dev/null || echo "æ— æ³•å®‰è£… $package"
    fi
done < installed_packages.txt
```

### 2.3 ç¬¬ä¸‰æ–¹è½¯ä»¶å¤„ç†

**ğŸ”§ éå®˜æ–¹è½¯ä»¶è¿ç§»**

```
ç¬¬ä¸‰æ–¹è½¯ä»¶è¿ç§»ç­–ç•¥ï¼š

æ–¹æ¡ˆ1ï¼šæºç é‡ç¼–è¯‘
é€‚ç”¨ï¼šå¼€æºè½¯ä»¶ï¼Œæœ‰ç¼–è¯‘ç¯å¢ƒ
æ­¥éª¤ï¼šä¸‹è½½æºç  â†’ é…ç½®ç¼–è¯‘é€‰é¡¹ â†’ make install

æ–¹æ¡ˆ2ï¼šé€šç”¨äºŒè¿›åˆ¶åŒ…
é€‚ç”¨ï¼šå®˜æ–¹æä¾›è·¨å¹³å°åŒ…
æ ¼å¼ï¼šAppImageã€Flatpakã€Snap

æ–¹æ¡ˆ3ï¼šå®¹å™¨åŒ–éƒ¨ç½²
é€‚ç”¨ï¼šå¤æ‚ä¾èµ–çš„åº”ç”¨
å·¥å…·ï¼šDockerã€Podman
```

---

## 3. âš™ï¸ é…ç½®æ–‡ä»¶æ ¼å¼å·®å¼‚


### 3.1 ä¸»è¦é…ç½®æ–‡ä»¶å·®å¼‚

**ğŸ“ ç³»ç»Ÿé…ç½®æ–‡ä»¶å¯¹æ¯”**

```
ç½‘ç»œé…ç½®å·®å¼‚ï¼š
CentOS 7:  /etc/sysconfig/network-scripts/ifcfg-*
CentOS 8+: /etc/NetworkManager/system-connections/
Ubuntu:    /etc/netplan/*.yaml

æœåŠ¡é…ç½®å·®å¼‚ï¼š
CentOS:    /etc/sysconfig/
Ubuntu:    /etc/default/

å¯åŠ¨é…ç½®å·®å¼‚ï¼š  
CentOS 6:  /etc/inittab
CentOS 7+: /etc/systemd/system/
Ubuntu:    /etc/systemd/system/
```

### 3.2 é…ç½®æ–‡ä»¶è¿ç§»æ–¹æ³•

**ğŸ› ï¸ é…ç½®è¿ç§»å®è·µ**

```bash
# 1. ç½‘ç»œé…ç½®è¿ç§»ç¤ºä¾‹
# ä»CentOSçš„ifcfgæ ¼å¼è½¬æ¢ä¸ºUbuntuçš„netplanæ ¼å¼

# CentOSåŸé…ç½® (/etc/sysconfig/network-scripts/ifcfg-eth0)
DEVICE=eth0
BOOTPROTO=static
IPADDR=192.168.1.100
NETMASK=255.255.255.0
GATEWAY=192.168.1.1

# è½¬æ¢ä¸ºUbuntu netplanæ ¼å¼ (/etc/netplan/01-netcfg.yaml)
network:
  version: 2
  ethernets:
    eth0:
      addresses:
        - 192.168.1.100/24
      gateway4: 192.168.1.1
```

**ğŸ“‹ é…ç½®è¿ç§»å·¥å…·**
```bash
# è‡ªåŠ¨åŒ–é…ç½®è½¬æ¢è„šæœ¬
#!/bin/bash

convert_network_config() {
    local centos_config="/etc/sysconfig/network-scripts/ifcfg-eth0"
    local ubuntu_config="/etc/netplan/01-netcfg.yaml"
    
    # æå–é…ç½®ä¿¡æ¯
    IPADDR=$(grep IPADDR $centos_config | cut -d= -f2)
    GATEWAY=$(grep GATEWAY $centos_config | cut -d= -f2)
    NETMASK=$(grep NETMASK $centos_config | cut -d= -f2)
    
    # è½¬æ¢å­ç½‘æ©ç ä¸ºCIDR
    CIDR=$(netmask_to_cidr $NETMASK)
    
    # ç”Ÿæˆnetplané…ç½®
    cat > $ubuntu_config << EOF
network:
  version: 2
  ethernets:
    eth0:
      addresses:
        - ${IPADDR}/${CIDR}
      gateway4: ${GATEWAY}
EOF
}
```

### 3.3 é…ç½®å…¼å®¹æ€§æ£€æŸ¥

**âœ… é…ç½®éªŒè¯æ–¹æ³•**

```
é…ç½®æ£€æŸ¥æ¸…å•ï¼š

ğŸŸ¢ **è¯­æ³•æ£€æŸ¥**
- é…ç½®æ–‡ä»¶è¯­æ³•æ˜¯å¦æ­£ç¡®
- å¿…éœ€å‚æ•°æ˜¯å¦å®Œæ•´
- æ ¼å¼æ˜¯å¦ç¬¦åˆæ–°ç³»ç»Ÿè¦æ±‚

ğŸŸ¡ **åŠŸèƒ½éªŒè¯**  
- ç½‘ç»œè¿æ¥æ˜¯å¦æ­£å¸¸
- æœåŠ¡å¯åŠ¨æ˜¯å¦æˆåŠŸ
- æƒé™è®¾ç½®æ˜¯å¦æœ‰æ•ˆ

ğŸ”´ **æ€§èƒ½æµ‹è¯•**
- æœåŠ¡å“åº”æ—¶é—´
- èµ„æºå ç”¨æƒ…å†µ
- é”™è¯¯æ—¥å¿—æ£€æŸ¥
```

---

## 4. ğŸ”§ æœåŠ¡ç®¡ç†æœºåˆ¶å˜æ›´


### 4.1 æœåŠ¡ç®¡ç†ç³»ç»Ÿæ¼”è¿›

**ğŸ“ˆ æœåŠ¡ç®¡ç†å‘å±•å†ç¨‹**

```
LinuxæœåŠ¡ç®¡ç†æ¼”è¿›ï¼š
SysV init â†’ Upstart â†’ systemd

ä¼ ç»ŸSysV (CentOS 6åŠæ›´æ—©)ï¼š
/etc/init.d/æœåŠ¡å start|stop|restart
chkconfig --add æœåŠ¡å

ç°ä»£systemd (CentOS 7+, Ubuntu 16+)ï¼š
systemctl start|stop|restart æœåŠ¡å
systemctl enable|disable æœåŠ¡å
```

### 4.2 æœåŠ¡è¿ç§»å®è·µ

**ğŸ”„ æœåŠ¡é…ç½®è¿ç§»**

```bash
# 1. æŸ¥çœ‹åŸç³»ç»ŸæœåŠ¡çŠ¶æ€
# SysVç³»ç»Ÿ
chkconfig --list | grep è¿è¡Œçº§åˆ«

# systemdç³»ç»Ÿ
systemctl list-unit-files --type=service

# 2. è¿ç§»æœåŠ¡é…ç½®
# ä»SysVè„šæœ¬è½¬æ¢ä¸ºsystemdå•å…ƒæ–‡ä»¶

# åŸSysVè„šæœ¬ (/etc/init.d/myservice)
#!/bin/bash
# chkconfig: 35 99 99
# description: My Custom Service
...

# è½¬æ¢ä¸ºsystemdå•å…ƒæ–‡ä»¶ (/etc/systemd/system/myservice.service)
[Unit]
Description=My Custom Service
After=network.target

[Service]
Type=forking
ExecStart=/usr/local/bin/myservice
ExecStop=/usr/local/bin/myservice stop
PIDFile=/var/run/myservice.pid

[Install]
WantedBy=multi-user.target
```

### 4.3 æœåŠ¡ä¾èµ–å…³ç³»å¤„ç†

**ğŸ”— ä¾èµ–å…³ç³»é…ç½®**

```
systemdä¾èµ–ç®¡ç†ï¼š

å¯åŠ¨é¡ºåºä¾èµ–ï¼š
After=network.target    # åœ¨ç½‘ç»œå¯åŠ¨å
Before=graphical.target # åœ¨å›¾å½¢ç•Œé¢å‰

å¼ºä¾èµ–å…³ç³»ï¼š
Requires=database.service  # å¿…éœ€ä¾èµ–
Wants=logging.service      # å¼±ä¾èµ–

å†²çªå…³ç³»ï¼š
Conflicts=another.service  # äº’æ–¥æœåŠ¡
```

---

## 5. ğŸ‘¤ ç”¨æˆ·æƒé™æ¨¡å‹è¿ç§»


### 5.1 ç”¨æˆ·æƒé™ä½“ç³»å·®å¼‚

**ğŸ” æƒé™æ¨¡å‹å¯¹æ¯”**

```
æƒé™ç®¡ç†å·®å¼‚ï¼š

ä¼ ç»Ÿæƒé™ï¼šrwx (è¯»å†™æ‰§è¡Œ)
æ‰©å±•æƒé™ï¼šACL (è®¿é—®æ§åˆ¶åˆ—è¡¨)  
å¼ºåˆ¶è®¿é—®æ§åˆ¶ï¼šSELinux vs AppArmor

Red Hatç³»ï¼šSELinux (é»˜è®¤å¼ºåˆ¶)
Debianç³»ï¼šAppArmor (Ubuntué»˜è®¤)
```

### 5.2 ç”¨æˆ·æ•°æ®è¿ç§»

**ğŸ‘¥ ç”¨æˆ·è¿ç§»æ­¥éª¤**

```bash
# 1. å¯¼å‡ºç”¨æˆ·ä¿¡æ¯
# ç”¨æˆ·è´¦æˆ·ä¿¡æ¯
grep -v "^#" /etc/passwd > users_backup.txt
grep -v "^#" /etc/group > groups_backup.txt
grep -v "^#" /etc/shadow > shadow_backup.txt

# 2. ç”¨æˆ·å®¶ç›®å½•å¤‡ä»½
tar -czpf /backup/home_dirs.tar.gz /home/

# 3. åœ¨æ–°ç³»ç»Ÿæ¢å¤ç”¨æˆ·
while IFS=':' read -r username x uid gid comment home shell; do
    if [ $uid -ge 1000 ] && [ $uid -lt 60000 ]; then
        useradd -u $uid -g $gid -c "$comment" -d $home -s $shell $username
        echo "åˆ›å»ºç”¨æˆ·: $username (UID: $uid)"
    fi
done < users_backup.txt

# 4. æ¢å¤å¯†ç ä¿¡æ¯ï¼ˆéœ€è¦rootæƒé™ï¼‰
# æ³¨æ„ï¼šç›´æ¥å¤åˆ¶shadowæ–‡ä»¶éœ€è°¨æ…ï¼Œå»ºè®®é‡æ–°è®¾ç½®å¯†ç 
```

### 5.3 æƒé™æ˜ å°„å¤„ç†

**âš–ï¸ SELinuxä¸AppArmorè¿ç§»**

```
SELinux â†’ AppArmor è¿ç§»ï¼š

1. è¯†åˆ«SELinuxç­–ç•¥
# æŸ¥çœ‹å½“å‰SELinuxçŠ¶æ€
getenforce
sesearch --allow -t httpd_exec_t

2. è½¬æ¢ä¸ºAppArmoré…ç½®
# ç”ŸæˆAppArmoré…ç½®æ–‡ä»¶
aa-genprof /usr/sbin/httpd
aa-complain /usr/sbin/httpd

3. æµ‹è¯•å’Œè°ƒä¼˜
# å­¦ä¹ æ¨¡å¼è¿è¡Œ
aa-complain profile_name
# å¼ºåˆ¶æ¨¡å¼å¯ç”¨
aa-enforce profile_name
```

---

## 6. ğŸŒ ç½‘ç»œé…ç½®è¿ç§»


### 6.1 ç½‘ç»œé…ç½®æ¶æ„å·®å¼‚

**ğŸ”§ ç½‘ç»œç®¡ç†å·¥å…·å˜è¿**

```
ç½‘ç»œé…ç½®å·¥å…·å‘å±•ï¼š
ä¼ ç»Ÿifconfig â†’ ipå‘½ä»¤ â†’ NetworkManager â†’ netplan

é…ç½®æ–‡ä»¶ä½ç½®å·®å¼‚ï¼š
CentOS 7: /etc/sysconfig/network-scripts/
CentOS 8: /etc/NetworkManager/system-connections/  
Ubuntu:   /etc/netplan/ (YAMLæ ¼å¼)
```

### 6.2 ç½‘ç»œé…ç½®è¿ç§»å®è·µ

**ğŸ› ï¸ é…ç½®æ ¼å¼è½¬æ¢**

```yaml
# Ubuntu netplané…ç½®ç¤ºä¾‹ (/etc/netplan/01-network.yaml)
network:
  version: 2
  renderer: networkd
  ethernets:
    enp0s3:
      dhcp4: false
      addresses:
        - 192.168.1.100/24
      gateway4: 192.168.1.1
      nameservers:
        addresses: [8.8.8.8, 8.8.4.4]
  
  bonds:
    bond0:
      interfaces: [enp0s8, enp0s9]
      parameters:
        mode: active-backup
      addresses: [10.0.0.100/24]
```

### 6.3 ç½‘ç»œæœåŠ¡è¿ç§»

**ğŸ“¡ ç½‘ç»œæœåŠ¡é…ç½®**

```bash
# é˜²ç«å¢™é…ç½®è¿ç§»
# CentOS (iptables/firewalld)
firewall-cmd --list-all
iptables -L -n

# Ubuntu (ufw)  
ufw status verbose
iptables -L -n

# DNSé…ç½®è¿ç§»
# ç»Ÿä¸€ä½¿ç”¨ /etc/resolv.conf
# æˆ–systemd-resolvedé…ç½®
```

---

## 7. ğŸ”„ å›æ»šç­–ç•¥åˆ¶å®š


### 7.1 å›æ»šåœºæ™¯åˆ†æ

**âš ï¸ å¸¸è§å›æ»šè§¦å‘æ¡ä»¶**

```
éœ€è¦å›æ»šçš„å…¸å‹åœºæ™¯ï¼š

ğŸ”´ **ä¸¥é‡é—®é¢˜**
- ç³»ç»Ÿæ— æ³•å¯åŠ¨
- å…³é”®æœåŠ¡å…¨éƒ¨å¤±æ•ˆ
- æ•°æ®ä¸¥é‡æŸå
- æ€§èƒ½ä¸¥é‡ä¸‹é™

ğŸŸ¡ **ä¸­ç­‰é—®é¢˜**  
- éƒ¨åˆ†åŠŸèƒ½å¼‚å¸¸
- å…¼å®¹æ€§é—®é¢˜
- é…ç½®é”™è¯¯å¯¼è‡´çš„é—®é¢˜

ğŸŸ¢ **è½»å¾®é—®é¢˜**
- ç•Œé¢æ˜¾ç¤ºé—®é¢˜
- éå…³é”®åŠŸèƒ½å¼‚å¸¸
- å¯é€šè¿‡é…ç½®ä¿®å¤çš„é—®é¢˜
```

### 7.2 å›æ»šç­–ç•¥è®¾è®¡

**ğŸ“‹ å›æ»šæ–¹æ¡ˆé€‰æ‹©**

| å›æ»šæ–¹æ¡ˆ | **é€‚ç”¨åœºæ™¯** | **æ‰§è¡Œæ—¶é—´** | **æ•°æ®ä¸¢å¤±** |
|---------|-------------|-------------|-------------|
| ğŸ”¸ **å¿«ç…§å›æ»š** | `è™šæ‹ŸåŒ–ç¯å¢ƒ` | `å‡ åˆ†é’Ÿ` | `æœ‰é£é™©` |
| ğŸ”¸ **ç³»ç»Ÿé•œåƒ** | `ç‰©ç†æœåŠ¡å™¨` | `30-60åˆ†é’Ÿ` | `æœ‰é£é™©` |
| ğŸ”¸ **é…ç½®å›æ»š** | `é…ç½®é—®é¢˜` | `å‡ åˆ†é’Ÿ` | `æœ€å°` |
| ğŸ”¸ **æ•°æ®æ¢å¤** | `æ•°æ®é—®é¢˜` | `å‡ å°æ—¶` | `å¯æ§åˆ¶` |

### 7.3 å›æ»šæ“ä½œå®æ–½

**ğŸ› ï¸ å›æ»šæ‰§è¡Œæµç¨‹**

```bash
# 1. å¿«ç…§å›æ»šï¼ˆVMwareç¯å¢ƒï¼‰
# åœ¨è™šæ‹ŸåŒ–å¹³å°æ‰§è¡Œ
# æ¢å¤åˆ°è¿ç§»å‰å¿«ç…§

# 2. è£¸æœºç³»ç»Ÿå›æ»š
# ä½¿ç”¨å¤‡ä»½é•œåƒæ¢å¤
dd if=/backup/system_image.img of=/dev/sda bs=4M

# 3. é…ç½®æ–‡ä»¶å›æ»š
# æ¢å¤å…³é”®é…ç½®æ–‡ä»¶
cp /backup/etc/fstab /etc/fstab
cp /backup/etc/hostname /etc/hostname
systemctl restart network

# 4. æœåŠ¡å›æ»š
# åœæ­¢æ–°æœåŠ¡ï¼Œå¯åŠ¨åŸæœåŠ¡
systemctl stop new_service
systemctl start old_service
systemctl enable old_service
```

### 7.4 å›æ»šéªŒè¯æµ‹è¯•

**âœ… å›æ»šåéªŒè¯æ¸…å•**

```
å›æ»šéªŒè¯æ­¥éª¤ï¼š

ğŸŸ¢ **ç³»ç»ŸåŸºç¡€åŠŸèƒ½**
- [ ] ç³»ç»Ÿæ­£å¸¸å¯åŠ¨
- [ ] ç½‘ç»œè¿æ¥æ­£å¸¸  
- [ ] ç£ç›˜æŒ‚è½½æ­£ç¡®
- [ ] æ—¶é—´åŒæ­¥æ­£å¸¸

ğŸŸ¡ **æœåŠ¡åŠŸèƒ½éªŒè¯**
- [ ] å…³é”®æœåŠ¡è¿è¡ŒçŠ¶æ€
- [ ] ç«¯å£ç›‘å¬æƒ…å†µ
- [ ] æœåŠ¡å“åº”æµ‹è¯•
- [ ] æ—¥å¿—é”™è¯¯æ£€æŸ¥

ğŸ”´ **ä¸šåŠ¡åŠŸèƒ½æµ‹è¯•**
- [ ] åº”ç”¨ç¨‹åºåŠŸèƒ½
- [ ] æ•°æ®åº“è¿æ¥
- [ ] ç”¨æˆ·è®¿é—®æƒé™
- [ ] æ€§èƒ½æŒ‡æ ‡æµ‹è¯•
```

---

## 8. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 8.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ è¿ç§»æœ¬è´¨ï¼šç³»ç»Ÿçº§åˆ«çš„"æ¬å®¶"ï¼Œéœ€è¦å…¨é¢è§„åˆ’å’Œé£é™©æ§åˆ¶
ğŸ”¸ æ•°æ®åˆ†ç±»ï¼šç”¨æˆ·æ•°æ®ã€é…ç½®æ–‡ä»¶ã€åº”ç”¨æ•°æ®çš„ä¸åŒå¤„ç†æ–¹å¼
ğŸ”¸ åŒ…ç®¡ç†ï¼šç†è§£ä¸åŒå‘è¡Œç‰ˆåŒ…ç®¡ç†å™¨çš„å·®å¼‚å’Œè½¬æ¢æ–¹æ³•  
ğŸ”¸ é…ç½®å·®å¼‚ï¼šç½‘ç»œã€æœåŠ¡ã€æƒé™ç­‰æ ¸å¿ƒé…ç½®çš„æ ¼å¼å·®å¼‚
ğŸ”¸ æœåŠ¡è¿ç§»ï¼šä»ä¼ ç»Ÿinitåˆ°systemdçš„æœåŠ¡ç®¡ç†å˜è¿
ğŸ”¸ æƒé™æ¨¡å‹ï¼šSELinuxä¸AppArmorç­‰å®‰å…¨æœºåˆ¶çš„å·®å¼‚
ğŸ”¸ å›æ»šç­–ç•¥ï¼šåˆ¶å®šå®Œå–„çš„å›æ»šé¢„æ¡ˆï¼Œç¡®ä¿å¯å¿«é€Ÿæ¢å¤
```

### 8.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ è¿ç§»çš„æœ¬è´¨æŒ‘æˆ˜**
```
æŠ€æœ¯å±‚é¢ï¼š
- ä¸åŒå‘è¡Œç‰ˆçš„ç³»ç»Ÿæ¶æ„å·®å¼‚
- è½¯ä»¶åŒ…ç”Ÿæ€å’Œä¾èµ–å…³ç³»å¤æ‚æ€§
- é…ç½®æ–‡ä»¶æ ¼å¼å’Œä½ç½®çš„å˜åŒ–

ç®¡ç†å±‚é¢ï¼š
- ä¸šåŠ¡ä¸­æ–­æ—¶é—´çš„æ§åˆ¶
- æ•°æ®ä¸€è‡´æ€§å’Œå®Œæ•´æ€§ä¿è¯
- å›¢é˜ŸæŠ€èƒ½é€‚åº”å’ŒåŸ¹è®­éœ€æ±‚
```

**ğŸ”¹ æˆåŠŸè¿ç§»çš„å…³é”®è¦ç´ **
```
å……åˆ†å‡†å¤‡ï¼š
- è¯¦ç»†çš„ç°çŠ¶è°ƒç ”å’Œå…¼å®¹æ€§åˆ†æ
- å®Œæ•´çš„å¤‡ä»½å’Œå›æ»šç­–ç•¥
- å……è¶³çš„æµ‹è¯•å’ŒéªŒè¯æ—¶é—´

æ‰§è¡Œæ§åˆ¶ï¼š
- åˆ†é˜¶æ®µå®æ–½ï¼Œé™ä½é£é™©
- å®æ—¶ç›‘æ§ï¼ŒåŠæ—¶å‘ç°é—®é¢˜
- æ–‡æ¡£è®°å½•ï¼Œä¾¿äºå¤ç›˜æ”¹è¿›
```

**ğŸ”¹ è¿ç§»åçš„æŒç»­ä¼˜åŒ–**
```
æ€§èƒ½è°ƒä¼˜ï¼š
- é’ˆå¯¹æ–°ç³»ç»Ÿç‰¹ç‚¹ä¼˜åŒ–é…ç½®
- åˆ©ç”¨æ–°ç‰¹æ€§æå‡æ€§èƒ½
- å»ºç«‹æ–°çš„ç›‘æ§å’Œå‘Šè­¦ä½“ç³»

çŸ¥è¯†è¿ç§»ï¼š
- å›¢é˜ŸæŠ€èƒ½åŸ¹è®­å’ŒçŸ¥è¯†æ›´æ–°
- æ“ä½œæ–‡æ¡£å’Œæµç¨‹çš„æ›´æ–°
- æœ€ä½³å®è·µçš„æ€»ç»“å’Œæ¨å¹¿
```

### 8.3 å®é™…åº”ç”¨ä»·å€¼


**ğŸ¯ å…¸å‹åº”ç”¨åœºæ™¯**
- **ä¼ä¸šITå‡çº§**ï¼šä»è€æ—§ç³»ç»Ÿè¿ç§»åˆ°ç°ä»£åŒ–å¹³å°
- **äº‘å¹³å°è¿ç§»**ï¼šæœ¬åœ°æœåŠ¡å™¨è¿ç§»åˆ°äº‘ç¯å¢ƒ
- **æˆæœ¬ä¼˜åŒ–**ï¼šä»å•†ä¸šç‰ˆè¿ç§»åˆ°å¼€æºæ›¿ä»£æ–¹æ¡ˆ
- **æ¶æ„é‡æ„**ï¼šé…åˆå¾®æœåŠ¡åŒ–å’Œå®¹å™¨åŒ–æ”¹é€ 

**ğŸ”§ è¿ç»´å®è·µå»ºè®®**
- **é£é™©è¯„ä¼°**ï¼šå……åˆ†è¯„ä¼°è¿ç§»é£é™©ï¼Œåˆ¶å®šè¯¦ç»†è®¡åˆ’
- **åˆ†æ­¥å®æ–½**ï¼šå…ˆæµ‹è¯•ç¯å¢ƒï¼Œå†ç”Ÿäº§ç¯å¢ƒé€æ­¥è¿ç§»
- **ç›‘æ§å®Œå–„**ï¼šå»ºç«‹å®Œæ•´çš„è¿ç§»è¿‡ç¨‹ç›‘æ§ä½“ç³»
- **å›¢é˜ŸåŸ¹è®­**ï¼šæå‰è¿›è¡Œæ–°ç³»ç»Ÿçš„æŠ€èƒ½åŸ¹è®­

**ğŸ“ˆ å‘å±•è¶‹åŠ¿**
- **è‡ªåŠ¨åŒ–å·¥å…·**ï¼šæ›´å¤šçš„è‡ªåŠ¨åŒ–è¿ç§»å·¥å…·å’Œå¹³å°
- **å®¹å™¨æŠ€æœ¯**ï¼šå®¹å™¨åŒ–é™ä½ç³»ç»Ÿä¾èµ–ï¼Œç®€åŒ–è¿ç§»
- **äº‘åŸç”Ÿ**ï¼šåŸºäºäº‘åŸç”Ÿæ¶æ„çš„ç°ä»£åŒ–æ”¹é€ 
- **æ ‡å‡†åŒ–**ï¼šè¡Œä¸šæ ‡å‡†åŒ–å‡å°‘ä¸åŒç³»ç»Ÿé—´çš„å·®å¼‚

**æ ¸å¿ƒè®°å¿†å£è¯€**ï¼š
- è¿ç§»å¦‚æ¬å®¶ï¼Œè§„åˆ’è¦å‘¨å…¨
- æ•°æ®é…ç½®æœåŠ¡ï¼Œåˆ†ç±»å¤„ç†å¥½  
- æµ‹è¯•éªŒè¯å›æ»šï¼Œä¸€ä¸ªä¸èƒ½å°‘
- é£é™©æ§åˆ¶ç¬¬ä¸€ï¼ŒæˆåŠŸæœ‰ä¿éšœ