---
title: 5ã€tmuxé«˜çº§åŠŸèƒ½ä¸è„šæœ¬åŒ–
---
## ğŸ“š ç›®å½•

1. [å‘½ä»¤è¡Œæ¨¡å¼ä¸æ‰¹å¤„ç†æ“ä½œ](#1-å‘½ä»¤è¡Œæ¨¡å¼ä¸æ‰¹å¤„ç†æ“ä½œ)
2. [è„šæœ¬åŒ–åˆ›å»ºå¤æ‚ä¼šè¯å¸ƒå±€](#2-è„šæœ¬åŒ–åˆ›å»ºå¤æ‚ä¼šè¯å¸ƒå±€)
3. [ä¼šè¯æ¨¡æ¿ä¸è‡ªåŠ¨åŒ–å¯åŠ¨](#3-ä¼šè¯æ¨¡æ¿ä¸è‡ªåŠ¨åŒ–å¯åŠ¨)
4. [ç¯å¢ƒå˜é‡ä¸ä¼šè¯ä¸Šä¸‹æ–‡](#4-ç¯å¢ƒå˜é‡ä¸ä¼šè¯ä¸Šä¸‹æ–‡)
5. [ç¼“å†²åŒºæ“ä½œä¸æ–‡æœ¬å¤åˆ¶](#5-ç¼“å†²åŒºæ“ä½œä¸æ–‡æœ¬å¤åˆ¶)
6. [å‘½ä»¤å†å²ä¸æœç´¢åŠŸèƒ½](#6-å‘½ä»¤å†å²ä¸æœç´¢åŠŸèƒ½)
7. [ä¼šè¯ä¿å­˜ä¸æ¢å¤æœºåˆ¶](#7-ä¼šè¯ä¿å­˜ä¸æ¢å¤æœºåˆ¶)
8. [ä¸ç³»ç»Ÿé›†æˆçš„é«˜çº§ç”¨æ³•](#8-ä¸ç³»ç»Ÿé›†æˆçš„é«˜çº§ç”¨æ³•)
9. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#9-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ–¥ï¸ å‘½ä»¤è¡Œæ¨¡å¼ä¸æ‰¹å¤„ç†æ“ä½œ


### 1.1 ä»€ä¹ˆæ˜¯tmuxå‘½ä»¤è¡Œæ¨¡å¼


**ç®€å•ç†è§£**ï¼štmuxæœ‰ä¸¤ç§æ“ä½œæ–¹å¼
- **äº¤äº’æ¨¡å¼**ï¼šè¿›å…¥tmuxåç”¨å¿«æ·é”®æ“ä½œï¼ˆåƒæŒ‰`Ctrl+b`ç„¶åæŒ‰å…¶ä»–é”®ï¼‰
- **å‘½ä»¤è¡Œæ¨¡å¼**ï¼šç›´æ¥åœ¨ç»ˆç«¯ç”¨å‘½ä»¤æ§åˆ¶tmuxï¼ˆä¸éœ€è¦è¿›å…¥tmuxå†…éƒ¨ï¼‰

```
ç”Ÿæ´»ç±»æ¯”ï¼š
äº¤äº’æ¨¡å¼ = è¿›å…¥æˆ¿é—´åç”¨é¥æ§å™¨æ“ä½œç”µè§†
å‘½ä»¤è¡Œæ¨¡å¼ = ç«™åœ¨æˆ¿é—´å¤–é¢é€šè¿‡æ™ºèƒ½å®¶å±…APPæ§åˆ¶ç”µè§†
```

### 1.2 åŸºç¡€å‘½ä»¤è¡Œæ“ä½œ


**ğŸ”¸ ä¼šè¯ç®¡ç†**
```bash
# åˆ›å»ºæ–°ä¼šè¯ï¼ˆåœ¨tmuxå¤–é¢æ‰§è¡Œï¼‰
tmux new-session -s work

# åˆ—å‡ºæ‰€æœ‰ä¼šè¯
tmux list-sessions
# ç®€å†™ï¼štmux ls

# è¿æ¥åˆ°æŒ‡å®šä¼šè¯
tmux attach-session -t work
# ç®€å†™ï¼štmux a -t work

# æ€æ­»æŒ‡å®šä¼šè¯
tmux kill-session -t work
```

**ğŸ’¡ å®é™…åœºæ™¯**
```
å‡è®¾ä½ åœ¨å…¬å¸ç”µè„‘ä¸Šï¼š
1. æ—©ä¸Šåˆ°å…¬å¸ï¼štmux a -t work  ï¼ˆè¿æ¥æ˜¨å¤©çš„å·¥ä½œä¼šè¯ï¼‰
2. å¦‚æœæ²¡æœ‰ä¼šè¯ï¼štmux new -s workï¼ˆåˆ›å»ºæ–°çš„å·¥ä½œä¼šè¯ï¼‰
3. ä¸‹ç­å‰ï¼šç›´æ¥å…³é—­ç»ˆç«¯ï¼ˆä¼šè¯ç»§ç»­è¿è¡Œï¼‰
4. ç¬¬äºŒå¤©ï¼štmux a -t workï¼ˆç»§ç»­æ˜¨å¤©çš„å·¥ä½œï¼‰
```

### 1.3 æ‰¹å¤„ç†æ“ä½œæ ¸å¿ƒ


**ä»€ä¹ˆæ˜¯æ‰¹å¤„ç†**ï¼šä¸€æ¬¡æ€§æ‰§è¡Œå¤šä¸ªtmuxæ“ä½œï¼Œå°±åƒå†™å‰§æœ¬ä¸€æ ·æå‰å®‰æ’å¥½æ‰€æœ‰åŠ¨ä½œ

```bash
# åœ¨å·²å­˜åœ¨çš„ä¼šè¯ä¸­æ‰§è¡Œå‘½ä»¤
tmux send-keys -t work "cd /project" Enter
tmux send-keys -t work "npm start" Enter

# åˆ›å»ºçª—å£å¹¶æ‰§è¡Œå‘½ä»¤
tmux new-window -t work -n "editor"
tmux send-keys -t work:editor "vim app.js" Enter
```

**ğŸ“‹ æ‰¹å¤„ç†è„šæœ¬ç¤ºä¾‹**
```bash
#!/bin/bash
# å·¥ä½œç¯å¢ƒè‡ªåŠ¨åŒ–å¯åŠ¨è„šæœ¬

# åˆ›å»ºä¸»ä¼šè¯
tmux new-session -d -s work

# ç¬¬ä¸€ä¸ªçª—å£ï¼šä»£ç ç¼–è¾‘
tmux rename-window -t work:0 "editor"
tmux send-keys -t work:editor "cd ~/project && vim ." Enter

# ç¬¬äºŒä¸ªçª—å£ï¼šå¼€å‘æœåŠ¡å™¨
tmux new-window -t work -n "server"
tmux send-keys -t work:server "cd ~/project && npm run dev" Enter

# ç¬¬ä¸‰ä¸ªçª—å£ï¼šæ•°æ®åº“
tmux new-window -t work -n "database"
tmux send-keys -t work:database "mysql -u root -p" Enter

# è¿æ¥åˆ°ä¼šè¯
tmux attach-session -t work
```

---

## 2. ğŸ“ è„šæœ¬åŒ–åˆ›å»ºå¤æ‚ä¼šè¯å¸ƒå±€


### 2.1 å¸ƒå±€çš„æ¦‚å¿µç†è§£


**çª—å£å¸ƒå±€**å°±åƒæˆ¿é—´è£…ä¿® - æŠŠä¸€ä¸ªå¤§æˆ¿é—´ï¼ˆçª—å£ï¼‰åˆ†å‰²æˆå‡ ä¸ªå°åŒºåŸŸï¼ˆé¢æ¿ï¼‰

```
å•ä¸ªçª—å£çš„ä¸åŒå¸ƒå±€ï¼š

æ°´å¹³åˆ†å‰²ï¼ˆå·¦å³åˆ†å¼€ï¼‰:        å‚ç›´åˆ†å‰²ï¼ˆä¸Šä¸‹åˆ†å¼€ï¼‰:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         â”‚         â”‚        â”‚                 â”‚
â”‚   A     â”‚    B    â”‚        â”‚       A         â”‚
â”‚         â”‚         â”‚        â”‚                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚         C         â”‚        â”‚       B         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 åŸºç¡€åˆ†å‰²æ“ä½œ


**ğŸ”¸ æ‰‹åŠ¨åˆ†å‰²å‘½ä»¤**
```bash
# å‚ç›´åˆ†å‰²ï¼ˆä¸Šä¸‹åˆ†å¼€ï¼‰
tmux split-window -t work

# æ°´å¹³åˆ†å‰²ï¼ˆå·¦å³åˆ†å¼€ï¼‰  
tmux split-window -h -t work

# åœ¨æŒ‡å®šé¢æ¿ä¸­åˆ†å‰²
tmux split-window -h -t work.1
```

**ç†è§£æŠ€å·§**ï¼š
- `split-window`ï¼šåˆ†å‰²çª—å£
- `-h`ï¼šæ°´å¹³åˆ†å‰²ï¼ˆhorizontalï¼Œå·¦å³åˆ†å¼€ï¼‰
- æ²¡æœ‰`-h`ï¼šå‚ç›´åˆ†å‰²ï¼ˆä¸Šä¸‹åˆ†å¼€ï¼‰

### 2.3 å¤æ‚å¸ƒå±€è„šæœ¬åŒ–


**ğŸ“‹ å¼€å‘ç¯å¢ƒå¸ƒå±€è„šæœ¬**
```bash
#!/bin/bash
# åˆ›å»ºå®Œæ•´çš„å¼€å‘ç¯å¢ƒå¸ƒå±€

SESSION="dev"

# åˆ›å»ºä¼šè¯
tmux new-session -d -s $SESSION

# é‡å‘½åç¬¬ä¸€ä¸ªçª—å£
tmux rename-window -t $SESSION:0 "main"

# åˆ›å»ºä¸»è¦çš„ä¸‰åˆ†å‰²å¸ƒå±€
tmux split-window -h -t $SESSION:main    # å·¦å³åˆ†å‰²
tmux split-window -v -t $SESSION:main.1  # å³è¾¹å†ä¸Šä¸‹åˆ†å‰²

# æœ€ç»ˆå¸ƒå±€ï¼š
# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
# â”‚           â”‚    B    â”‚
# â”‚     A     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  
# â”‚           â”‚    C    â”‚
# â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

# åœ¨æ¯ä¸ªé¢æ¿ä¸­å¯åŠ¨ä¸åŒç¨‹åº
tmux send-keys -t $SESSION:main.0 "vim ." Enter
tmux send-keys -t $SESSION:main.1 "npm run dev" Enter  
tmux send-keys -t $SESSION:main.2 "tail -f logs/app.log" Enter

# è®¾ç½®ç„¦ç‚¹åˆ°ç¬¬ä¸€ä¸ªé¢æ¿
tmux select-pane -t $SESSION:main.0
```

### 2.4 é¢„å®šä¹‰å¸ƒå±€ä½¿ç”¨


**tmuxå†…ç½®å¸ƒå±€**ï¼š
```bash
# åº”ç”¨é¢„å®šä¹‰å¸ƒå±€
tmux select-layout -t work even-horizontal  # å¹³å‡æ°´å¹³åˆ†å‰²
tmux select-layout -t work even-vertical    # å¹³å‡å‚ç›´åˆ†å‰²
tmux select-layout -t work main-horizontal  # ä¸»é¢æ¿åœ¨å·¦
tmux select-layout -t work main-vertical    # ä¸»é¢æ¿åœ¨ä¸Š
tmux select-layout -t work tiled           # å¹³é“ºå¸ƒå±€
```

**ğŸ’¡ å„ç§å¸ƒå±€æ•ˆæœ**ï¼š
```
even-horizontal:          even-vertical:
â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ A  â”‚ B  â”‚ C  â”‚         â”‚      A      â”‚
â”‚    â”‚    â”‚    â”‚         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    â”‚    â”‚    â”‚         â”‚      B      â”‚  
â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”˜         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                          â”‚      C      â”‚
                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

main-horizontal:          tiled:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”
â”‚         â”‚ B â”‚           â”‚  A   â”‚  B   â”‚
â”‚    A    â”œâ”€â”€â”€â”¤           â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤
â”‚         â”‚ C â”‚           â”‚  C   â”‚  D   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3. ğŸš€ ä¼šè¯æ¨¡æ¿ä¸è‡ªåŠ¨åŒ–å¯åŠ¨


### 3.1 ä¼šè¯æ¨¡æ¿çš„ç†å¿µ


**ä¼šè¯æ¨¡æ¿**å°±åƒè£…ä¿®è®¾è®¡å›¾ - æå‰è§„åˆ’å¥½æˆ¿é—´ï¼ˆä¼šè¯ï¼‰é‡Œè¦æ”¾å“ªäº›å®¶å…·ï¼ˆçª—å£å’Œé¢æ¿ï¼‰ï¼Œæ¯ä¸ªå®¶å…·æ”¾åœ¨å“ªä¸ªä½ç½®

**ä¸ºä»€ä¹ˆéœ€è¦æ¨¡æ¿**ï¼š
- âœ… æ¯å¤©é‡å¤æ­å»ºç›¸åŒçš„å·¥ä½œç¯å¢ƒå¤ªéº»çƒ¦
- âœ… ä¸åŒé¡¹ç›®éœ€è¦ä¸åŒçš„çª—å£å¸ƒå±€
- âœ… å›¢é˜Ÿæˆå‘˜å¯ä»¥å…±äº«ç›¸åŒçš„å·¥ä½œç¯å¢ƒè®¾ç½®

### 3.2 åˆ›å»ºå·¥ä½œæ¨¡æ¿


**ğŸ“‹ å‰ç«¯å¼€å‘æ¨¡æ¿**
```bash
#!/bin/bash
# frontend-template.sh - å‰ç«¯é¡¹ç›®å¼€å‘æ¨¡æ¿

SESSION="frontend"
PROJECT_PATH="~/projects/my-app"

# æ£€æŸ¥ä¼šè¯æ˜¯å¦å·²å­˜åœ¨
tmux has-session -t $SESSION 2>/dev/null
if [ $? != 0 ]; then
    # åˆ›å»ºæ–°ä¼šè¯
    tmux new-session -d -s $SESSION -c $PROJECT_PATH
    
    # çª—å£1ï¼šä»£ç ç¼–è¾‘
    tmux rename-window -t $SESSION:0 "editor"
    tmux send-keys -t $SESSION:editor "code ." Enter
    
    # çª—å£2ï¼šå¼€å‘æœåŠ¡å™¨
    tmux new-window -t $SESSION -n "dev-server" -c $PROJECT_PATH
    tmux split-window -h -t $SESSION:dev-server -c $PROJECT_PATH
    tmux send-keys -t $SESSION:dev-server.0 "npm run dev" Enter
    tmux send-keys -t $SESSION:dev-server.1 "npm run test -- --watch" Enter
    
    # çª—å£3ï¼šå·¥å…·çª—å£
    tmux new-window -t $SESSION -n "tools" -c $PROJECT_PATH
    tmux split-window -v -t $SESSION:tools -c $PROJECT_PATH
    tmux send-keys -t $SESSION:tools.0 "git status" Enter
    tmux send-keys -t $SESSION:tools.1 "htop" Enter
    
    # é€‰æ‹©ç¬¬ä¸€ä¸ªçª—å£
    tmux select-window -t $SESSION:editor
fi

# è¿æ¥åˆ°ä¼šè¯
tmux attach-session -t $SESSION
```

### 3.3 å¤šé¡¹ç›®ç®¡ç†æ¨¡æ¿


**ğŸ“‹ é¡¹ç›®åˆ‡æ¢è„šæœ¬**
```bash
#!/bin/bash
# project-manager.sh - å¤šé¡¹ç›®ç®¡ç†

select_project() {
    echo "é€‰æ‹©é¡¹ç›®ï¼š"
    echo "1) å‰ç«¯é¡¹ç›® (frontend)"
    echo "2) åç«¯API (backend)" 
    echo "3) æ•°æ®åˆ†æ (analytics)"
    echo "4) ä¸ªäººåšå®¢ (blog)"
    
    read -p "è¯·è¾“å…¥é€‰æ‹© (1-4): " choice
    
    case $choice in
        1) setup_frontend ;;
        2) setup_backend ;;
        3) setup_analytics ;;
        4) setup_blog ;;
        *) echo "æ— æ•ˆé€‰æ‹©" && exit 1 ;;
    esac
}

setup_frontend() {
    SESSION="frontend"
    PROJECT_PATH="~/projects/web-app"
    
    tmux new-session -d -s $SESSION -c $PROJECT_PATH
    tmux rename-window -t $SESSION:0 "code"
    tmux new-window -t $SESSION -n "server"
    tmux send-keys -t $SESSION:server "npm run dev" Enter
    tmux select-window -t $SESSION:code
    tmux attach-session -t $SESSION
}

# è°ƒç”¨å‡½æ•°
select_project
```

### 3.4 è‡ªåŠ¨åŒ–å¯åŠ¨é›†æˆ


**ğŸ”§ ç³»ç»Ÿå¯åŠ¨æ—¶è‡ªåŠ¨è¿è¡Œ**
```bash
# åœ¨ ~/.bashrc æˆ– ~/.zshrc ä¸­æ·»åŠ 
alias start-work="bash ~/scripts/work-template.sh"
alias start-dev="bash ~/scripts/dev-template.sh"
alias tmux-projects="bash ~/scripts/project-manager.sh"

# å¼€æœºè‡ªåŠ¨å¯åŠ¨å·¥ä½œä¼šè¯ï¼ˆå¯é€‰ï¼‰
if [ -z "$TMUX" ] && [ "$TERM_PROGRAM" != "vscode" ]; then
    tmux attach-session -t work 2>/dev/null || bash ~/scripts/work-template.sh
fi
```

---

## 4. ğŸŒ ç¯å¢ƒå˜é‡ä¸ä¼šè¯ä¸Šä¸‹æ–‡


### 4.1 ç†è§£ä¼šè¯ä¸Šä¸‹æ–‡


**ä¼šè¯ä¸Šä¸‹æ–‡**å°±åƒæ¯ä¸ªæˆ¿é—´éƒ½æœ‰è‡ªå·±çš„æ¸©åº¦è®¾å®š - æ¯ä¸ªtmuxä¼šè¯å¯ä»¥æœ‰è‡ªå·±çš„ç¯å¢ƒè®¾ç½®ï¼Œäº’ä¸å¹²æ‰°

```
ç°å®ç±»æ¯”ï¼š
å®¶é‡Œçš„ä¹¦æˆ¿ = å·¥ä½œä¼šè¯ï¼ˆå®‰é™ã€ä¸“æ³¨çš„ç¯å¢ƒå˜é‡ï¼‰
å®¶é‡Œçš„å®¢å… = å¨±ä¹ä¼šè¯ï¼ˆè½»æ¾ã€å¤šåª’ä½“çš„ç¯å¢ƒå˜é‡ï¼‰
```

### 4.2 ç¯å¢ƒå˜é‡åŸºç¡€æ“ä½œ


**ğŸ”¸ æŸ¥çœ‹å½“å‰ç¯å¢ƒå˜é‡**
```bash
# åœ¨tmuxä¼šè¯ä¸­æŸ¥çœ‹ç¯å¢ƒå˜é‡
tmux show-environment

# æŸ¥çœ‹ç‰¹å®šå˜é‡
tmux show-environment PATH
```

**ğŸ”¸ è®¾ç½®ä¼šè¯çº§ç¯å¢ƒå˜é‡**
```bash
# ä¸ºç‰¹å®šä¼šè¯è®¾ç½®ç¯å¢ƒå˜é‡
tmux set-environment -t work NODE_ENV development
tmux set-environment -t work API_URL http://localhost:3000

# å…¨å±€è®¾ç½®ï¼ˆå½±å“æ‰€æœ‰æ–°ä¼šè¯ï¼‰
tmux set-environment -g EDITOR vim
```

### 4.3 å®é™…åº”ç”¨åœºæ™¯


**ğŸ“‹ ä¸åŒç¯å¢ƒçš„é¡¹ç›®ç®¡ç†**
```bash
#!/bin/bash
# env-setup.sh - ç¯å¢ƒå˜é‡ç®¡ç†è„šæœ¬

setup_development() {
    SESSION="dev"
    tmux new-session -d -s $SESSION
    
    # å¼€å‘ç¯å¢ƒå˜é‡
    tmux set-environment -t $SESSION NODE_ENV development
    tmux set-environment -t $SESSION API_URL http://localhost:3000
    tmux set-environment -t $SESSION DEBUG true
    tmux set-environment -t $SESSION LOG_LEVEL debug
    
    tmux send-keys -t $SESSION "echo 'å¼€å‘ç¯å¢ƒå·²è®¾ç½®'" Enter
    tmux send-keys -t $SESSION "env | grep -E '(NODE_ENV|API_URL|DEBUG)'" Enter
}

setup_production() {
    SESSION="prod"
    tmux new-session -d -s $SESSION
    
    # ç”Ÿäº§ç¯å¢ƒå˜é‡
    tmux set-environment -t $SESSION NODE_ENV production
    tmux set-environment -t $SESSION API_URL https://api.example.com
    tmux set-environment -t $SESSION DEBUG false
    tmux set-environment -t $SESSION LOG_LEVEL error
    
    tmux send-keys -t $SESSION "echo 'ç”Ÿäº§ç¯å¢ƒå·²è®¾ç½®'" Enter
}
```

### 4.4 ç¯å¢ƒå˜é‡ç»§æ‰¿ä¸éš”ç¦»


**ğŸ”§ ç¯å¢ƒå˜é‡çš„ä¼ é€’è§„åˆ™**
```bash
# æ–°çª—å£ç»§æ‰¿ä¼šè¯ç¯å¢ƒå˜é‡
tmux new-window -t work -n "api"
# è¿™ä¸ªæ–°çª—å£ä¼šè‡ªåŠ¨ç»§æ‰¿workä¼šè¯çš„æ‰€æœ‰ç¯å¢ƒå˜é‡

# ä¸ºç‰¹å®šçª—å£è®¾ç½®ç¯å¢ƒå˜é‡
tmux send-keys -t work:api "export DATABASE_URL=mysql://localhost" Enter

# æŸ¥çœ‹çª—å£ä¸­çš„ç¯å¢ƒå˜é‡
tmux send-keys -t work:api "printenv | grep DATABASE" Enter
```

**ğŸ’¡ ç¯å¢ƒå˜é‡ä¼˜å…ˆçº§**ï¼š
1. **çª—å£å†…æ‰‹åŠ¨è®¾ç½®** - ä¼˜å…ˆçº§æœ€é«˜
2. **ä¼šè¯çº§ç¯å¢ƒå˜é‡** - ä¸­ç­‰ä¼˜å…ˆçº§  
3. **å…¨å±€tmuxç¯å¢ƒå˜é‡** - è¾ƒä½ä¼˜å…ˆçº§
4. **ç³»ç»Ÿç¯å¢ƒå˜é‡** - æœ€ä½ä¼˜å…ˆçº§

---

## 5. ğŸ“‹ ç¼“å†²åŒºæ“ä½œä¸æ–‡æœ¬å¤åˆ¶


### 5.1 ç†è§£tmuxç¼“å†²åŒº


**ç¼“å†²åŒº**å°±åƒä¸€ä¸ªæ™ºèƒ½å‰ªè´´æ¿ - å¯ä»¥ä¿å­˜å¤šæ®µæ–‡æœ¬ï¼Œéšæ—¶ç²˜è´´ä»»ä½•ä¸€æ®µ

```
ç³»ç»Ÿå‰ªè´´æ¿ vs tmuxç¼“å†²åŒºï¼š

ç³»ç»Ÿå‰ªè´´æ¿ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  åªèƒ½å­˜ä¸€æ®µ  â”‚  â† å¤åˆ¶æ–°å†…å®¹ä¼šè¦†ç›–æ—§å†…å®¹
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

tmuxç¼“å†²åŒºï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   æ–‡æœ¬æ®µ1    â”‚  â† æœ€æ–°å¤åˆ¶çš„
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   æ–‡æœ¬æ®µ2    â”‚  â† ä¹‹å‰å¤åˆ¶çš„
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  
â”‚   æ–‡æœ¬æ®µ3    â”‚  â† æ›´æ—©å¤åˆ¶çš„
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.2 å¤åˆ¶æ¨¡å¼åŸºç¡€æ“ä½œ


**è¿›å…¥å¤åˆ¶æ¨¡å¼**ï¼š
- **å¿«æ·é”®**ï¼š`Ctrl+b` ç„¶åæŒ‰ `[`
- **å‘½ä»¤è¡Œ**ï¼š`tmux copy-mode -t session:window`

**ğŸ“‹ å¤åˆ¶æ¨¡å¼æ“ä½œ**
```
å¤åˆ¶æ¨¡å¼å¿«æ·é”®ï¼ˆç±»ä¼¼vimï¼‰ï¼š

ç§»åŠ¨å…‰æ ‡ï¼š
â†‘â†“â†â†’  : æ–¹å‘é”®ç§»åŠ¨
h j k l : vimé£æ ¼ç§»åŠ¨
w b    : æŒ‰å•è¯ç§»åŠ¨
0 $    : è¡Œé¦–è¡Œæœ«

é€‰æ‹©æ–‡æœ¬ï¼š
Space  : å¼€å§‹é€‰æ‹©
Enter  : ç¡®è®¤å¤åˆ¶å¹¶é€€å‡º
y      : å¤åˆ¶é€‰ä¸­å†…å®¹
Esc    : é€€å‡ºå¤åˆ¶æ¨¡å¼

æœç´¢ï¼š
/      : å‘ä¸‹æœç´¢
?      : å‘ä¸Šæœç´¢
n      : ä¸‹ä¸€ä¸ªåŒ¹é…
N      : ä¸Šä¸€ä¸ªåŒ¹é…
```

### 5.3 ç¼“å†²åŒºç®¡ç†


**ğŸ”¸ æŸ¥çœ‹å’Œç®¡ç†ç¼“å†²åŒº**
```bash
# åˆ—å‡ºæ‰€æœ‰ç¼“å†²åŒºå†…å®¹
tmux list-buffers

# æŸ¥çœ‹æœ€æ–°ç¼“å†²åŒºå†…å®¹
tmux show-buffer

# æŸ¥çœ‹æŒ‡å®šç¼“å†²åŒºå†…å®¹
tmux show-buffer -b 1

# åˆ é™¤æŒ‡å®šç¼“å†²åŒº
tmux delete-buffer -b 1

# ä¿å­˜ç¼“å†²åŒºåˆ°æ–‡ä»¶
tmux save-buffer ~/copied-text.txt
```

### 5.4 é«˜çº§å¤åˆ¶æŠ€å·§


**ğŸ“‹ æ‰¹é‡æ–‡æœ¬æ“ä½œè„šæœ¬**
```bash
#!/bin/bash
# text-operations.sh - æ–‡æœ¬æ“ä½œå·¥å…·

# å¤åˆ¶å½“å‰é¢æ¿çš„æ‰€æœ‰å†…å®¹
copy_pane_content() {
    tmux capture-pane -t $1 -p > pane-content.txt
    echo "é¢æ¿å†…å®¹å·²ä¿å­˜åˆ° pane-content.txt"
}

# å¤åˆ¶å‘½ä»¤è¾“å‡ºåˆ°æ–‡ä»¶
copy_command_output() {
    local session_window=$1
    local command=$2
    
    tmux send-keys -t $session_window "$command" Enter
    sleep 2  # ç­‰å¾…å‘½ä»¤æ‰§è¡Œå®Œæˆ
    tmux capture-pane -t $session_window -p > command-output.txt
    echo "å‘½ä»¤è¾“å‡ºå·²ä¿å­˜åˆ° command-output.txt"
}

# åœ¨å¤šä¸ªé¢æ¿ä¸­ç²˜è´´ç›¸åŒå†…å®¹
paste_to_multiple_panes() {
    local session=$1
    local text=$2
    
    # è·å–ä¼šè¯ä¸­çš„æ‰€æœ‰é¢æ¿
    local panes=$(tmux list-panes -t $session -F "#{pane_id}")
    
    for pane in $panes; do
        tmux send-keys -t $pane "$text" Enter
    done
}

# ä½¿ç”¨ç¤ºä¾‹ï¼š
# copy_pane_content "work:0.1"
# copy_command_output "work:server" "ps aux"
# paste_to_multiple_panes "work" "git pull"
```

### 5.5 ç³»ç»Ÿå‰ªè´´æ¿é›†æˆ


**ğŸ”§ ä¸ç³»ç»Ÿå‰ªè´´æ¿åŒæ­¥**
```bash
# åœ¨ ~/.tmux.conf ä¸­è®¾ç½®
# å¤åˆ¶åˆ°ç³»ç»Ÿå‰ªè´´æ¿ï¼ˆLinuxï¼‰
bind -T copy-mode-vi y send-keys -X copy-pipe-and-cancel 'xclip -in -selection clipboard'

# å¤åˆ¶åˆ°ç³»ç»Ÿå‰ªè´´æ¿ï¼ˆmacOSï¼‰  
bind -T copy-mode-vi y send-keys -X copy-pipe-and-cancel 'pbcopy'

# ä»ç³»ç»Ÿå‰ªè´´æ¿ç²˜è´´
bind ] run "tmux set-buffer \"$(xclip -o -sel clipboard)\"; tmux paste-buffer"
```

---

## 6. ğŸ” å‘½ä»¤å†å²ä¸æœç´¢åŠŸèƒ½


### 6.1 ç†è§£å‘½ä»¤å†å²æœºåˆ¶


**tmuxå‘½ä»¤å†å²**åˆ†ä¸ºä¸¤ä¸ªå±‚é¢ï¼š
- **Shellå‘½ä»¤å†å²**ï¼šåœ¨å„ä¸ªé¢æ¿ä¸­æ‰§è¡Œçš„bash/zshå‘½ä»¤
- **tmuxå‘½ä»¤å†å²**ï¼štmuxè‡ªèº«çš„å‘½ä»¤å†å²

```
å‘½ä»¤å†å²çš„å±‚æ¬¡ç»“æ„ï¼š

ç³»ç»Ÿçº§ï¼š
~/.bash_history (æ‰€æœ‰ç»ˆç«¯å…±äº«)

ä¼šè¯çº§ï¼š  
æ¯ä¸ªtmuxä¼šè¯æœ‰ç‹¬ç«‹çš„å‘½ä»¤å†å²ç¯å¢ƒ

é¢æ¿çº§ï¼š
æ¯ä¸ªé¢æ¿ç»´æŠ¤è‡ªå·±çš„å½“å‰å·¥ä½œç›®å½•å’Œå‘½ä»¤ä¸Šä¸‹æ–‡
```

### 6.2 åŸºç¡€æœç´¢æ“ä½œ


**ğŸ”¸ åœ¨å¤åˆ¶æ¨¡å¼ä¸­æœç´¢**
```
è¿›å…¥å¤åˆ¶æ¨¡å¼ï¼šCtrl+b [

æœç´¢æ“ä½œï¼š
/text     : å‘ä¸‹æœç´¢ "text"
?text     : å‘ä¸Šæœç´¢ "text"  
n         : ä¸‹ä¸€ä¸ªåŒ¹é…
N         : ä¸Šä¸€ä¸ªåŒ¹é…
Ctrl+r    : å¢é‡æœç´¢
```

**å®é™…ä½¿ç”¨åœºæ™¯**ï¼š
```
å‡è®¾ä½ åœ¨æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶ï¼Œæƒ³æ‰¾åˆ°é”™è¯¯ä¿¡æ¯ï¼š
1. Ctrl+b [ (è¿›å…¥å¤åˆ¶æ¨¡å¼)
2. /ERROR (æœç´¢åŒ…å«ERRORçš„è¡Œ)
3. n n n (è·³è½¬åˆ°ä¸‹ä¸€ä¸ªã€ä¸‹ä¸€ä¸ªã€ä¸‹ä¸€ä¸ªERROR)
4. æ‰¾åˆ°ç›®æ ‡åæŒ‰ Esc é€€å‡º
```

### 6.3 å†å²è®°å½•é«˜çº§åŠŸèƒ½


**ğŸ“‹ é¢æ¿å†å²æ•è·è„šæœ¬**
```bash
#!/bin/bash
# history-manager.sh - å†å²è®°å½•ç®¡ç†å·¥å…·

# æ•è·é¢æ¿çš„å…¨éƒ¨å†å²å†…å®¹
capture_pane_history() {
    local session_pane=$1
    local filename=$2
    
    # -p: æ‰“å°åˆ°æ ‡å‡†è¾“å‡º
    # -S -: ä»å†å²çš„æœ€å¼€å§‹æ•è·
    tmux capture-pane -t $session_pane -p -S - > $filename
    echo "å†å²è®°å½•å·²ä¿å­˜åˆ° $filename"
}

# æœç´¢é¢æ¿å†å²ä¸­çš„å†…å®¹
search_pane_history() {
    local session_pane=$1  
    local search_term=$2
    
    # ä¸´æ—¶æ•è·å†å²
    tmux capture-pane -t $session_pane -p -S - > /tmp/tmux_history.txt
    
    # ä½¿ç”¨grepæœç´¢
    echo "æœç´¢ç»“æœï¼š"
    grep --color=always -n "$search_term" /tmp/tmux_history.txt
    
    # æ¸…ç†ä¸´æ—¶æ–‡ä»¶
    rm /tmp/tmux_history.txt
}

# æ¯”è¾ƒä¸¤ä¸ªé¢æ¿çš„è¾“å‡ºå·®å¼‚
compare_pane_outputs() {
    local pane1=$1
    local pane2=$2
    
    tmux capture-pane -t $pane1 -p > /tmp/pane1.txt
    tmux capture-pane -t $pane2 -p > /tmp/pane2.txt
    
    echo "é¢æ¿è¾“å‡ºå·®å¼‚ï¼š"
    diff --color=always /tmp/pane1.txt /tmp/pane2.txt
    
    rm /tmp/pane1.txt /tmp/pane2.txt
}

# ä½¿ç”¨ç¤ºä¾‹ï¼š
# capture_pane_history "work:0.1" "server-logs.txt"
# search_pane_history "work:0.1" "ERROR"
# compare_pane_outputs "work:0.1" "work:0.2"
```

### 6.4 æ™ºèƒ½å†å²è®°å½•ç®¡ç†


**ğŸ”§ è‡ªåŠ¨åŒ–å†å²è®°å½•è„šæœ¬**
```bash
#!/bin/bash
# smart-history.sh - æ™ºèƒ½å†å²è®°å½•ç®¡ç†

# ä¸ºæ¯ä¸ªé¡¹ç›®ä¼šè¯è‡ªåŠ¨ä¿å­˜å†å²è®°å½•
auto_save_session_history() {
    local session=$1
    local project_name=$2
    local history_dir="$HOME/.tmux-history/$project_name"
    
    # åˆ›å»ºå†å²è®°å½•ç›®å½•
    mkdir -p "$history_dir"
    
    # è·å–ä¼šè¯ä¸­çš„æ‰€æœ‰çª—å£å’Œé¢æ¿
    local windows=$(tmux list-windows -t $session -F "#{window_index}:#{window_name}")
    
    for window in $windows; do
        local window_index=$(echo $window | cut -d: -f1)
        local window_name=$(echo $window | cut -d: -f2)
        
        # è·å–çª—å£ä¸­çš„æ‰€æœ‰é¢æ¿
        local panes=$(tmux list-panes -t $session:$window_index -F "#{pane_index}")
        
        for pane in $panes; do
            local filename="$history_dir/${window_name}_pane${pane}_$(date +%Y%m%d_%H%M%S).log"
            tmux capture-pane -t $session:$window_index.$pane -p -S - > "$filename"
            echo "å·²ä¿å­˜ï¼š$filename"
        done
    done
}

# æ¸…ç†æ—§çš„å†å²è®°å½•æ–‡ä»¶
cleanup_old_history() {
    local project_name=$1
    local days_to_keep=${2:-30}  # é»˜è®¤ä¿ç•™30å¤©
    local history_dir="$HOME/.tmux-history/$project_name"
    
    if [ -d "$history_dir" ]; then
        find "$history_dir" -name "*.log" -mtime +$days_to_keep -delete
        echo "å·²æ¸…ç† $days_to_keep å¤©å‰çš„å†å²è®°å½•"
    fi
}

# æœç´¢å†å²è®°å½•
search_project_history() {
    local project_name=$1
    local search_term=$2
    local history_dir="$HOME/.tmux-history/$project_name"
    
    if [ -d "$history_dir" ]; then
        echo "åœ¨é¡¹ç›® $project_name ä¸­æœç´¢ï¼š$search_term"
        grep -r --color=always "$search_term" "$history_dir/"
    else
        echo "æœªæ‰¾åˆ°é¡¹ç›® $project_name çš„å†å²è®°å½•"
    fi
}
```

---

## 7. ğŸ’¾ ä¼šè¯ä¿å­˜ä¸æ¢å¤æœºåˆ¶


### 7.1 ç†è§£ä¼šè¯æŒä¹…åŒ–çš„å¿…è¦æ€§


**ä¸ºä»€ä¹ˆéœ€è¦ä¿å­˜ä¼šè¯**ï¼š
```
ç°å®é—®é¢˜ï¼š
- æœåŠ¡å™¨é‡å¯ â†’ æ‰€æœ‰tmuxä¼šè¯æ¶ˆå¤±
- æ„å¤–æ–­ç”µ â†’ å·¥ä½œç¯å¢ƒä¸¢å¤±  
- ç³»ç»Ÿå‡çº§ â†’ éœ€è¦é‡æ–°é…ç½®ç¯å¢ƒ

è§£å†³æ–¹æ¡ˆï¼š
- ä¿å­˜ä¼šè¯çŠ¶æ€ â†’ è®°å½•çª—å£ã€é¢æ¿ã€å‘½ä»¤ç­‰ä¿¡æ¯
- è‡ªåŠ¨æ¢å¤ â†’ ä¸€é”®æ¢å¤å®Œæ•´å·¥ä½œç¯å¢ƒ
```

### 7.2 æ‰‹åŠ¨ä¿å­˜ä¸æ¢å¤æ–¹æ¡ˆ


**ğŸ“‹ åŸºç¡€ä¿å­˜è„šæœ¬**
```bash
#!/bin/bash
# session-save.sh - æ‰‹åŠ¨ä¿å­˜ä¼šè¯ä¿¡æ¯

save_session_layout() {
    local session=$1
    local save_file="$HOME/.tmux-sessions/${session}.save"
    
    # åˆ›å»ºä¿å­˜ç›®å½•
    mkdir -p "$HOME/.tmux-sessions"
    
    echo "# tmuxä¼šè¯ä¿å­˜æ–‡ä»¶ - $(date)" > "$save_file"
    echo "# ä¼šè¯ï¼š$session" >> "$save_file"
    echo "" >> "$save_file"
    
    # ä¿å­˜ä¼šè¯åŸºæœ¬ä¿¡æ¯
    echo "# åˆ›å»ºä¼šè¯" >> "$save_file"
    echo "tmux new-session -d -s '$session'" >> "$save_file"
    echo "" >> "$save_file"
    
    # ä¿å­˜æ¯ä¸ªçª—å£çš„ä¿¡æ¯
    local windows=$(tmux list-windows -t $session -F "#{window_index}:#{window_name}:#{pane_current_path}")
    
    for window_info in $windows; do
        local window_index=$(echo $window_info | cut -d: -f1)
        local window_name=$(echo $window_info | cut -d: -f2)
        local window_path=$(echo $window_info | cut -d: -f3)
        
        if [ $window_index -eq 0 ]; then
            echo "# è®¾ç½®ç¬¬ä¸€ä¸ªçª—å£" >> "$save_file"
            echo "tmux rename-window -t '$session:0' '$window_name'" >> "$save_file"
        else
            echo "# åˆ›å»ºæ–°çª—å£" >> "$save_file"
            echo "tmux new-window -t '$session' -n '$window_name' -c '$window_path'" >> "$save_file"
        fi
        
        # ä¿å­˜é¢æ¿åˆ†å‰²ä¿¡æ¯
        local pane_count=$(tmux list-panes -t $session:$window_index | wc -l)
        if [ $pane_count -gt 1 ]; then
            echo "# åˆ†å‰²é¢æ¿" >> "$save_file"
            # è¿™é‡Œå¯ä»¥æ·»åŠ æ›´å¤æ‚çš„é¢æ¿åˆ†å‰²é€»è¾‘
        fi
        
        echo "" >> "$save_file"
    done
    
    echo "ä¼šè¯ '$session' å·²ä¿å­˜åˆ° $save_file"
}

# æ¢å¤ä¼šè¯
restore_session() {
    local session=$1
    local save_file="$HOME/.tmux-sessions/${session}.save"
    
    if [ -f "$save_file" ]; then
        echo "æ¢å¤ä¼šè¯ '$session'..."
        # æ‰§è¡Œä¿å­˜çš„å‘½ä»¤
        bash "$save_file"
        echo "ä¼šè¯å·²æ¢å¤ï¼Œä½¿ç”¨ 'tmux a -t $session' è¿æ¥"
    else
        echo "æœªæ‰¾åˆ°ä¼šè¯ '$session' çš„ä¿å­˜æ–‡ä»¶"
    fi
}

# ä½¿ç”¨ç¤ºä¾‹
# save_session_layout "work"
# restore_session "work"
```

### 7.3 tmux-resurrectæ’ä»¶ä½¿ç”¨


**tmux-resurrect**æ˜¯ä¸“ä¸šçš„ä¼šè¯ä¿å­˜æ’ä»¶ï¼ŒåŠŸèƒ½æ›´å®Œå–„

**ğŸ”§ å®‰è£…å’Œé…ç½®**
```bash
# 1. å®‰è£…TPMï¼ˆTmux Plugin Managerï¼‰
git clone https://github.com/tmux-plugins/tpm ~/.tmux/plugins/tpm

# 2. åœ¨ ~/.tmux.conf ä¸­æ·»åŠ 
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-resurrect'

# ä¿å­˜å’Œæ¢å¤å¿«æ·é”®
set -g @resurrect-save 'S'     # Ctrl+b S ä¿å­˜
set -g @resurrect-restore 'R'  # Ctrl+b R æ¢å¤

# åˆå§‹åŒ–TPMï¼ˆåœ¨é…ç½®æ–‡ä»¶æœ€åä¸€è¡Œï¼‰
run '~/.tmux/plugins/tpm/tpm'
```

**ğŸ’¡ resurrectåŠŸèƒ½è¯´æ˜**
```
ä¿å­˜å†…å®¹ï¼š
âœ… ä¼šè¯ã€çª—å£ã€é¢æ¿çš„å¸ƒå±€
âœ… å½“å‰å·¥ä½œç›®å½•
âœ… è¿è¡Œä¸­çš„ç¨‹åºï¼ˆvimã€lessç­‰ï¼‰
âœ… Shellå‘½ä»¤å†å²

ä¸ä¿å­˜å†…å®¹ï¼š
âŒ ç¨‹åºçš„å…·ä½“çŠ¶æ€å’Œæ•°æ®
âŒ ç½‘ç»œè¿æ¥
âŒ ä¸´æ—¶æ–‡ä»¶å†…å®¹
```

### 7.4 è‡ªåŠ¨åŒ–ä¿å­˜ç­–ç•¥


**ğŸ“‹ å®šæ—¶è‡ªåŠ¨ä¿å­˜è„šæœ¬**
```bash
#!/bin/bash
# auto-save.sh - è‡ªåŠ¨ä¿å­˜æ‰€æœ‰æ´»åŠ¨ä¼šè¯

auto_save_all_sessions() {
    local backup_dir="$HOME/.tmux-backups/$(date +%Y%m%d)"
    mkdir -p "$backup_dir"
    
    # è·å–æ‰€æœ‰æ´»åŠ¨ä¼šè¯
    local sessions=$(tmux list-sessions -F "#{session_name}")
    
    for session in $sessions; do
        local backup_file="$backup_dir/${session}_$(date +%H%M%S).backup"
        
        # ä¿å­˜ä¼šè¯å¸ƒå±€ä¿¡æ¯
        {
            echo "# è‡ªåŠ¨å¤‡ä»½ - $(date)"
            echo "# ä¼šè¯ï¼š$session"
            echo ""
            tmux list-windows -t $session -F "Window #{window_index}: #{window_name} [#{pane_current_path}]"
            echo ""
            tmux list-panes -t $session -F "Pane #{pane_index}: #{pane_current_command} [#{pane_current_path}]"
        } > "$backup_file"
        
        echo "å·²å¤‡ä»½ä¼šè¯ '$session' åˆ° $backup_file"
    done
    
    # æ¸…ç†7å¤©å‰çš„å¤‡ä»½
    find "$HOME/.tmux-backups" -type f -mtime +7 -delete 2>/dev/null
}

# è®¾ç½®å®šæ—¶ä»»åŠ¡ï¼ˆæ·»åŠ åˆ°crontabï¼‰
setup_auto_backup() {
    echo "è®¾ç½®è‡ªåŠ¨å¤‡ä»½ä»»åŠ¡..."
    (crontab -l 2>/dev/null; echo "0 */2 * * * $HOME/scripts/auto-save.sh") | crontab -
    echo "å·²è®¾ç½®æ¯2å°æ—¶è‡ªåŠ¨å¤‡ä»½tmuxä¼šè¯"
}

# ç´§æ€¥æ¢å¤åŠŸèƒ½
emergency_restore() {
    local backup_dir="$HOME/.tmux-backups"
    
    echo "å¯ç”¨çš„å¤‡ä»½ï¼š"
    find "$backup_dir" -name "*.backup" -mtime -1 | sort -r | head -10
    
    echo ""
    read -p "è¯·è¾“å…¥è¦æ¢å¤çš„å¤‡ä»½æ–‡ä»¶è·¯å¾„ï¼š" backup_file
    
    if [ -f "$backup_file" ]; then
        echo "å¤‡ä»½æ–‡ä»¶å†…å®¹ï¼š"
        cat "$backup_file"
        echo ""
        echo "è¯·æ ¹æ®å¤‡ä»½ä¿¡æ¯æ‰‹åŠ¨æ¢å¤ä¼šè¯"
    else
        echo "å¤‡ä»½æ–‡ä»¶ä¸å­˜åœ¨"
    fi
}
```

---

## 8. ğŸ”— ä¸ç³»ç»Ÿé›†æˆçš„é«˜çº§ç”¨æ³•


### 8.1 ç³»ç»ŸæœåŠ¡é›†æˆ


**ç†è§£ç³»ç»Ÿé›†æˆ**ï¼šè®©tmuxä¸åªæ˜¯ä¸€ä¸ªç»ˆç«¯å·¥å…·ï¼Œè€Œæ˜¯æˆä¸ºç³»ç»Ÿå·¥ä½œæµçš„æ ¸å¿ƒç»„ä»¶

```
é›†æˆå±‚æ¬¡ï¼š

ç”¨æˆ·çº§é›†æˆï¼š
â”œâ”€â”€ ç™»å½•è‡ªåŠ¨å¯åŠ¨
â”œâ”€â”€ å¿«æ·å‘½ä»¤åˆ«å  
â”œâ”€â”€ å·¥ä½œæµè„šæœ¬
â””â”€â”€ ä¸ªäººé…ç½®

ç³»ç»Ÿçº§é›†æˆï¼š
â”œâ”€â”€ æœåŠ¡ç›‘æ§
â”œâ”€â”€ æ—¥å¿—ç®¡ç†
â”œâ”€â”€ å®šæ—¶ä»»åŠ¡
â””â”€â”€ ç³»ç»Ÿé€šçŸ¥
```

**ğŸ“‹ ç™»å½•è‡ªåŠ¨å¯åŠ¨é…ç½®**
```bash
# åœ¨ ~/.bashrc æˆ– ~/.zshrc ä¸­æ·»åŠ 
tmux_auto_start() {
    # æ£€æŸ¥æ˜¯å¦å·²åœ¨tmuxä¸­
    if [ -z "$TMUX" ]; then
        # æ£€æŸ¥æ˜¯å¦æœ‰å·²å­˜åœ¨çš„ä¼šè¯
        if tmux has-session -t main 2>/dev/null; then
            echo "å‘ç°å·²å­˜åœ¨çš„ä¼šè¯ï¼Œæ˜¯å¦è¿æ¥ï¼Ÿ (y/n)"
            read -r response
            if [ "$response" = "y" ]; then
                tmux attach-session -t main
            fi
        else
            echo "åˆ›å»ºæ–°çš„ä¸»ä¼šè¯..."
            tmux new-session -s main
        fi
    fi
}

# åªåœ¨äº¤äº’å¼ç»ˆç«¯ä¸­å¯åŠ¨
if [[ $- == *i* ]]; then
    tmux_auto_start
fi
```

### 8.2 ç³»ç»Ÿç›‘æ§é›†æˆ


**ğŸ”§ ç³»ç»Ÿç›‘æ§ä»ªè¡¨æ¿**
```bash
#!/bin/bash
# system-monitor.sh - ç³»ç»Ÿç›‘æ§tmuxä»ªè¡¨æ¿

create_monitor_dashboard() {
    SESSION="monitor"
    
    # åˆ›å»ºç›‘æ§ä¼šè¯
    tmux new-session -d -s $SESSION
    
    # çª—å£1ï¼šç³»ç»Ÿæ¦‚è§ˆ
    tmux rename-window -t $SESSION:0 "overview"
    tmux split-window -h -t $SESSION:overview
    tmux split-window -v -t $SESSION:overview.0
    tmux split-window -v -t $SESSION:overview.1
    
    # å„é¢æ¿æ˜¾ç¤ºä¸åŒçš„ç³»ç»Ÿä¿¡æ¯
    tmux send-keys -t $SESSION:overview.0 "htop" Enter
    tmux send-keys -t $SESSION:overview.1 "watch -n 1 'df -h'" Enter
    tmux send-keys -t $SESSION:overview.2 "watch -n 2 'free -m'" Enter  
    tmux send-keys -t $SESSION:overview.3 "watch -n 5 'ss -tulpn | grep LISTEN'" Enter
    
    # çª—å£2ï¼šç½‘ç»œç›‘æ§
    tmux new-window -t $SESSION -n "network"
    tmux split-window -v -t $SESSION:network
    tmux send-keys -t $SESSION:network.0 "iftop" Enter
    tmux send-keys -t $SESSION:network.1 "ping google.com" Enter
    
    # çª—å£3ï¼šæ—¥å¿—ç›‘æ§
    tmux new-window -t $SESSION -n "logs"
    tmux split-window -h -t $SESSION:logs
    tmux send-keys -t $SESSION:logs.0 "tail -f /var/log/syslog" Enter
    tmux send-keys -t $SESSION:logs.1 "journalctl -f" Enter
    
    # é€‰æ‹©ç¬¬ä¸€ä¸ªçª—å£
    tmux select-window -t $SESSION:overview
    tmux attach-session -t $SESSION
}

# å¿«é€Ÿå¯åŠ¨ç›‘æ§
alias monitor="bash ~/scripts/system-monitor.sh && create_monitor_dashboard"
```

### 8.3 å¼€å‘ç¯å¢ƒé›†æˆ


**ğŸš€ Dockerå®¹å™¨é›†æˆ**
```bash
#!/bin/bash
# docker-tmux.sh - Dockerç¯å¢ƒé›†æˆ

create_docker_env() {
    local project=$1
    local session="docker-$project"
    
    tmux new-session -d -s $session
    
    # çª—å£1ï¼šDockerç®¡ç†
    tmux rename-window -t $session:0 "docker"
    tmux split-window -v -t $session:docker
    
    # ä¸Šé¢æ¿ï¼šå®¹å™¨åˆ—è¡¨ç›‘æ§
    tmux send-keys -t $session:docker.0 "watch -n 2 'docker ps -a'" Enter
    
    # ä¸‹é¢æ¿ï¼šDockerå‘½ä»¤è¡Œ
    tmux send-keys -t $session:docker.1 "docker --version" Enter
    
    # çª—å£2ï¼šåº”ç”¨å®¹å™¨
    tmux new-window -t $session -n "app"
    tmux send-keys -t $session:app "docker-compose up" Enter
    
    # çª—å£3ï¼šæ•°æ®åº“å®¹å™¨
    tmux new-window -t $session -n "database"  
    tmux send-keys -t $session:database "docker exec -it mysql-container mysql -u root -p" Enter
    
    # çª—å£4ï¼šæ—¥å¿—æŸ¥çœ‹
    tmux new-window -t $session -n "logs"
    tmux split-window -v -t $session:logs
    tmux send-keys -t $session:logs.0 "docker-compose logs -f app" Enter
    tmux send-keys -t $session:logs.1 "docker-compose logs -f db" Enter
    
    tmux select-window -t $session:docker
    tmux attach-session -t $session
}

# å®¹å™¨å¿«é€Ÿè¿æ¥
connect_to_container() {
    local container_name=$1
    local session="container-$container_name"
    
    # æ£€æŸ¥å®¹å™¨æ˜¯å¦è¿è¡Œ
    if docker ps --format "table {{.Names}}" | grep -q "$container_name"; then
        tmux new-session -d -s $session
        tmux send-keys -t $session "docker exec -it $container_name /bin/bash" Enter
        tmux attach-session -t $session
    else
        echo "å®¹å™¨ $container_name æœªè¿è¡Œ"
        docker ps --format "table {{.Names}}\t{{.Status}}"
    fi
}

# ä½¿ç”¨ç¤ºä¾‹
# create_docker_env "myapp"
# connect_to_container "web-server"
```

### 8.4 è¿œç¨‹æœåŠ¡å™¨é›†æˆ


**ğŸ“¡ SSHè¿æ¥ç®¡ç†**
```bash
#!/bin/bash
# ssh-tmux.sh - SSHè¿æ¥ç®¡ç†

create_server_session() {
    local server_name=$1
    local ssh_config=$2
    local session="server-$server_name"
    
    tmux new-session -d -s $session
    
    # çª—å£1ï¼šä¸»è¿æ¥
    tmux rename-window -t $session:0 "main"
    tmux send-keys -t $session:main "ssh $ssh_config" Enter
    
    # çª—å£2ï¼šæ–‡ä»¶ä¼ è¾“
    tmux new-window -t $session -n "files"
    tmux split-window -v -t $session:files
    tmux send-keys -t $session:files.0 "# æœ¬åœ°æ–‡ä»¶æ“ä½œ" Enter
    tmux send-keys -t $session:files.1 "# ä½¿ç”¨ scp æˆ– rsync ä¼ è¾“æ–‡ä»¶" Enter
    
    # çª—å£3ï¼šç›‘æ§è¿æ¥
    tmux new-window -t $session -n "monitor"
    tmux send-keys -t $session:monitor "while true; do ping -c1 $server_name && echo 'OK' || echo 'FAIL'; sleep 10; done" Enter
    
    tmux select-window -t $session:main
    echo "æœåŠ¡å™¨ä¼šè¯å·²åˆ›å»ºï¼Œä½¿ç”¨ 'tmux a -t $session' è¿æ¥"
}

# å¤šæœåŠ¡å™¨ç®¡ç†
create_multi_server_session() {
    local session="servers"
    
    tmux new-session -d -s $session
    
    # ä¸ºæ¯ä¸ªæœåŠ¡å™¨åˆ›å»ºçª—å£
    local servers=("web1:user@web1.example.com" "db1:user@db1.example.com" "app1:user@app1.example.com")
    
    local window_index=0
    for server_info in "${servers[@]}"; do
        local server_name=$(echo $server_info | cut -d: -f1)
        local ssh_config=$(echo $server_info | cut -d: -f2)
        
        if [ $window_index -eq 0 ]; then
            tmux rename-window -t $session:0 "$server_name"
        else
            tmux new-window -t $session -n "$server_name"
        fi
        
        tmux send-keys -t $session:$server_name "ssh $ssh_config" Enter
        ((window_index++))
    done
    
    tmux select-window -t $session:0
    tmux attach-session -t $session
}

# SSHéš§é“ç®¡ç†
create_tunnel_session() {
    local session="tunnels"
    
    tmux new-session -d -s $session
    tmux rename-window -t $session:0 "tunnels"
    
    # åˆ›å»ºå¤šä¸ªSSHéš§é“
    tmux send-keys -t $session:tunnels "# SSHéš§é“ç®¡ç†" Enter
    tmux send-keys -t $session:tunnels "# ç«¯å£è½¬å‘ï¼šssh -L 8080:localhost:80 user@server" Enter
    tmux send-keys -t $session:tunnels "# SOCKSä»£ç†ï¼šssh -D 1080 user@server" Enter
    
    tmux split-window -v -t $session:tunnels
    tmux send-keys -t $session:tunnels.1 "# éš§é“çŠ¶æ€ç›‘æ§" Enter
    tmux send-keys -t $session:tunnels.1 "watch -n 5 'ss -tulpn | grep -E \"(8080|1080)\"'" Enter
    
    tmux attach-session -t $session
}
```

---

## 9. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 9.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ å‘½ä»¤è¡Œæ“ä½œï¼šåœ¨tmuxå¤–éƒ¨ç”¨å‘½ä»¤æ§åˆ¶ä¼šè¯ï¼Œå®ç°æ‰¹é‡æ“ä½œ
ğŸ”¸ è„šæœ¬åŒ–å¸ƒå±€ï¼šç”¨è„šæœ¬è‡ªåŠ¨åˆ›å»ºå¤æ‚çš„çª—å£å’Œé¢æ¿å¸ƒå±€  
ğŸ”¸ ä¼šè¯æ¨¡æ¿ï¼šæ ‡å‡†åŒ–çš„å·¥ä½œç¯å¢ƒé…ç½®ï¼Œæé«˜å·¥ä½œæ•ˆç‡
ğŸ”¸ ç¯å¢ƒå˜é‡ï¼šä¼šè¯çº§çš„ç¯å¢ƒéš”ç¦»ï¼Œæ”¯æŒå¤šé¡¹ç›®å¼€å‘
ğŸ”¸ ç¼“å†²åŒºç®¡ç†ï¼šæ™ºèƒ½å‰ªè´´æ¿ï¼Œæ”¯æŒå¤šæ®µæ–‡æœ¬ç®¡ç†
ğŸ”¸ å†å²è®°å½•ï¼šé¢æ¿å†…å®¹çš„æœç´¢ã€ä¿å­˜å’Œå›æ”¾åŠŸèƒ½
ğŸ”¸ æŒä¹…åŒ–æœºåˆ¶ï¼šä¼šè¯çŠ¶æ€çš„ä¿å­˜ä¸æ¢å¤
ğŸ”¸ ç³»ç»Ÿé›†æˆï¼šä¸å¼€å‘å·¥å…·ã€æœåŠ¡å™¨ã€å®¹å™¨çš„æ·±åº¦æ•´åˆ
```

### 9.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ å‘½ä»¤è¡Œ vs äº¤äº’æ¨¡å¼çš„åŒºåˆ«**
```
äº¤äº’æ¨¡å¼ï¼š
- è¿›å…¥tmuxåä½¿ç”¨å¿«æ·é”®æ“ä½œ
- é€‚åˆï¼šæ—¥å¸¸æ‰‹åŠ¨æ“ä½œ
- ç‰¹ç‚¹ï¼šå³æ—¶ã€ç›´è§‚

å‘½ä»¤è¡Œæ¨¡å¼ï¼š  
- åœ¨ç»ˆç«¯ç›´æ¥ç”¨tmuxå‘½ä»¤æ§åˆ¶
- é€‚åˆï¼šè‡ªåŠ¨åŒ–ã€æ‰¹é‡æ“ä½œ  
- ç‰¹ç‚¹ï¼šå¯ç¼–ç¨‹ã€å¯é‡å¤
```

**ğŸ”¹ è„šæœ¬åŒ–çš„æ ¸å¿ƒä»·å€¼**
```
æ‰‹åŠ¨é…ç½®çš„é—®é¢˜ï¼š
âŒ é‡å¤åŠ³åŠ¨ï¼Œæ•ˆç‡ä½ä¸‹
âŒ å®¹æ˜“å‡ºé”™ï¼Œä¸ä¸€è‡´
âŒ éš¾ä»¥åˆ†äº«å’Œæ ‡å‡†åŒ–

è„šæœ¬åŒ–çš„ä¼˜åŠ¿ï¼š
âœ… ä¸€é”®åˆ›å»ºå¤æ‚ç¯å¢ƒ
âœ… ç¡®ä¿é…ç½®ä¸€è‡´æ€§
âœ… å›¢é˜Ÿåä½œæ ‡å‡†åŒ–
âœ… æ”¯æŒç‰ˆæœ¬æ§åˆ¶
```

**ğŸ”¹ ä¼šè¯ç®¡ç†çš„æœ€ä½³å®è·µ**
```
æŒ‰ç”¨é€”åˆ†ç±»ï¼š
- å·¥ä½œä¼šè¯ï¼šå¼€å‘ã€æµ‹è¯•ã€éƒ¨ç½²
- å­¦ä¹ ä¼šè¯ï¼šé˜…è¯»ã€ç¬”è®°ã€å®éªŒ
- ç›‘æ§ä¼šè¯ï¼šç³»ç»ŸçŠ¶æ€ã€æ—¥å¿—æŸ¥çœ‹
- ç»´æŠ¤ä¼šè¯ï¼šå¤‡ä»½ã€æ¸…ç†ã€å‡çº§

å‘½åè§„èŒƒï¼š
- é¡¹ç›®å + ç¯å¢ƒï¼šprojectA-dev, projectA-prod
- åŠŸèƒ½æè¿°ï¼šmonitoring, backup, learning
- æ—¶é—´æ ‡è®°ï¼šwork-20240115, temp-session
```

### 9.3 å®é™…åº”ç”¨ä»·å€¼


**ğŸ’¼ å·¥ä½œæ•ˆç‡æå‡**
- **ç¯å¢ƒåˆ‡æ¢**ï¼šå¿«é€Ÿåˆ‡æ¢ä¸åŒé¡¹ç›®çš„å¼€å‘ç¯å¢ƒ
- **æ‰¹é‡æ“ä½œ**ï¼šä¸€é”®å¯åŠ¨å®Œæ•´çš„å·¥ä½œæµç¨‹
- **çŠ¶æ€ä¿æŒ**ï¼šå·¥ä½œæ–­ç‚¹ç»­ä¼ ï¼Œæ— éœ€é‡å¤é…ç½®

**ğŸ”§ è¿ç»´è‡ªåŠ¨åŒ–**
- **æœåŠ¡ç›‘æ§**ï¼šå®æ—¶ç›‘æ§å¤šä¸ªæœåŠ¡çŠ¶æ€
- **æ—¥å¿—åˆ†æ**ï¼šå¹¶è¡ŒæŸ¥çœ‹å¤šä¸ªæ—¥å¿—æ–‡ä»¶
- **è¿œç¨‹ç®¡ç†**ï¼šç»Ÿä¸€ç®¡ç†å¤šä¸ªæœåŠ¡å™¨è¿æ¥

**ğŸ“š å­¦ä¹ å’Œå®éªŒ**
- **ç¯å¢ƒéš”ç¦»**ï¼šä¸åŒå­¦ä¹ å†…å®¹ä½¿ç”¨ç‹¬ç«‹ç¯å¢ƒ
- **è¿‡ç¨‹è®°å½•**ï¼šä¿å­˜å­¦ä¹ è¿‡ç¨‹å’Œå®éªŒç»“æœ
- **å¿«é€Ÿå¤ç°**ï¼šé‡ç°ä¹‹å‰çš„å­¦ä¹ å’Œå®éªŒç¯å¢ƒ

### 9.4 å¸¸è§é—®é¢˜ä¸è§£å†³


**â“ è„šæœ¬æ‰§è¡Œå¤±è´¥**
```
å¯èƒ½åŸå› ï¼š
- ä¼šè¯å·²å­˜åœ¨å†²çª
- è·¯å¾„ä¸æ­£ç¡®
- æƒé™ä¸è¶³

è§£å†³æ–¹æ¡ˆï¼š
# æ£€æŸ¥å¹¶æ¸…ç†å·²å­˜åœ¨ä¼šè¯
tmux has-session -t session_name && tmux kill-session -t session_name

# ä½¿ç”¨ç»å¯¹è·¯å¾„
cd /full/path/to/project

# æ£€æŸ¥è„šæœ¬æƒé™
chmod +x script.sh
```

**â“ ç¯å¢ƒå˜é‡ä¸ç”Ÿæ•ˆ**
```
é—®é¢˜åˆ†æï¼š
- ç¯å¢ƒå˜é‡ä½œç”¨åŸŸé—®é¢˜
- ç»§æ‰¿å…³ç³»ä¸æ­£ç¡®

è§£å†³æ–¹æ¡ˆï¼š
# å…¨å±€è®¾ç½®
tmux set-environment -g VAR_NAME value

# ä¼šè¯é‡æ–°åŠ è½½ç¯å¢ƒ
tmux send-keys -t session "source ~/.bashrc" Enter
```

**â“ ä¼šè¯æ¢å¤ä¸å®Œæ•´**
```
å¸¸è§é™åˆ¶ï¼š
- è¿è¡Œä¸­çš„ç¨‹åºçŠ¶æ€æ— æ³•å®Œå…¨æ¢å¤
- ç½‘ç»œè¿æ¥éœ€è¦é‡æ–°å»ºç«‹
- æŸäº›ç¨‹åºéœ€è¦æ‰‹åŠ¨é‡å¯

æ”¹è¿›å»ºè®®ï¼š
- ä½¿ç”¨tmux-resurrectæ’ä»¶
- ç¼–å†™å¯åŠ¨è„šæœ¬å¤„ç†ç¨‹åºé‡å¯
- å…³é”®æ•°æ®åŠæ—¶ä¿å­˜åˆ°æ–‡ä»¶
```

**æ ¸å¿ƒè®°å¿†**ï¼š
- tmuxé«˜çº§åŠŸèƒ½è®©ç»ˆç«¯æˆä¸ºå¼ºå¤§çš„å·¥ä½œå¹³å°
- è„šæœ¬åŒ–æ˜¯æé«˜æ•ˆç‡çš„å…³é”®ï¼Œä¸€æ¬¡ç¼–å†™å¤šæ¬¡ä½¿ç”¨
- ç³»ç»Ÿé›†æˆè®©tmuxæˆä¸ºå·¥ä½œæµçš„æ ¸å¿ƒç»„ä»¶
- åˆç†çš„ä¼šè¯ç®¡ç†æ˜¯é•¿æœŸä½¿ç”¨çš„åŸºç¡€