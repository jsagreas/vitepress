---
title: 13ã€æ›¿æ¢ä¸æ–‡æœ¬ç”ŸæˆæŠ€æœ¯
---
## ğŸ“š ç›®å½•

1. [é«˜çº§æ›¿æ¢æ¨¡å¼åŸºç¡€](#1-é«˜çº§æ›¿æ¢æ¨¡å¼åŸºç¡€)
2. [åŠ¨æ€æ›¿æ¢è§„åˆ™ä¸æ¡ä»¶æ›¿æ¢](#2-åŠ¨æ€æ›¿æ¢è§„åˆ™ä¸æ¡ä»¶æ›¿æ¢)
3. [æ¨¡æ¿å¼•æ“é›†æˆæŠ€æœ¯](#3-æ¨¡æ¿å¼•æ“é›†æˆæŠ€æœ¯)
4. [æ‰¹é‡æ–‡æœ¬è½¬æ¢å®æˆ˜](#4-æ‰¹é‡æ–‡æœ¬è½¬æ¢å®æˆ˜)
5. [æ ¼å¼åŒ–è¾“å‡ºæ§åˆ¶](#5-æ ¼å¼åŒ–è¾“å‡ºæ§åˆ¶)
6. [æ›¿æ¢å›è°ƒå‡½æ•°é«˜çº§åº”ç”¨](#6-æ›¿æ¢å›è°ƒå‡½æ•°é«˜çº§åº”ç”¨)
7. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#7-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ¯ é«˜çº§æ›¿æ¢æ¨¡å¼åŸºç¡€


### 1.1 ä»€ä¹ˆæ˜¯é«˜çº§æ›¿æ¢æ¨¡å¼


**ç®€å•ç†è§£**ï¼šæ™®é€šçš„æ›¿æ¢å°±æ˜¯"æ‰¾åˆ°Aï¼Œæ¢æˆB"ï¼Œè€Œé«˜çº§æ›¿æ¢æ¨¡å¼å¯ä»¥"æ‰¾åˆ°ç¬¦åˆæŸç§è§„å¾‹çš„å†…å®¹ï¼ŒæŒ‰ç…§å¤æ‚çš„è§„åˆ™è¿›è¡Œæ›¿æ¢"ã€‚

```
æ™®é€šæ›¿æ¢ï¼šcat â†’ dogï¼ˆç®€å•çš„ä¸€å¯¹ä¸€æ›¿æ¢ï¼‰
é«˜çº§æ›¿æ¢ï¼šæ‰€æœ‰çš„æ‰‹æœºå·ç  â†’ éšè—ä¸­é—´4ä½æ•°å­—
```

**ğŸ”¸ æ ¸å¿ƒæ¦‚å¿µ**
- **æ¨¡å¼åŒ¹é…**ï¼šç”¨æ­£åˆ™è¡¨è¾¾å¼æ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„æ–‡æœ¬
- **æ•è·ç»„**ï¼šæå–åŒ¹é…å†…å®¹çš„ç‰¹å®šéƒ¨åˆ†
- **å¼•ç”¨æ›¿æ¢**ï¼šåœ¨æ›¿æ¢å†…å®¹ä¸­å¼•ç”¨æ•è·çš„éƒ¨åˆ†
- **æ¡ä»¶æ›¿æ¢**ï¼šæ ¹æ®ä¸åŒæ¡ä»¶æ‰§è¡Œä¸åŒçš„æ›¿æ¢é€»è¾‘

### 1.2 sedé«˜çº§æ›¿æ¢è¯­æ³•è¯¦è§£


**åŸºæœ¬è¯­æ³•ç»“æ„**
```bash
sed 's/æ­£åˆ™æ¨¡å¼/æ›¿æ¢å†…å®¹/æ ‡å¿—ä½' æ–‡ä»¶å
```

**ğŸ”¹ æ•è·ç»„ä¸å¼•ç”¨**
```bash
# æ•è·ç»„ï¼šç”¨æ‹¬å·()åŒ…å›´è¦æå–çš„éƒ¨åˆ†
# å¼•ç”¨ï¼šç”¨\1, \2, \3...å¼•ç”¨ç¬¬1ã€2ã€3ä¸ªæ•è·ç»„

# ç¤ºä¾‹ï¼šäº¤æ¢å§“åçš„é¡ºåº
echo "å¼ ä¸‰ æå›› ç‹äº”" | sed 's/\([^ ]*\) \([^ ]*\)/\2, \1/g'
# è¾“å‡ºï¼šæå››, å¼ ä¸‰ ç‹äº”, å¼ ä¸‰
```

**ğŸ’¡ é€šä¿—è§£é‡Š**ï¼š
- `\([^ ]*\)`ï¼šæ•è·ç¬¬ä¸€ä¸ªè¯ï¼ˆä¸åŒ…å«ç©ºæ ¼çš„å­—ç¬¦ï¼‰
- `\([^ ]*\)`ï¼šæ•è·ç¬¬äºŒä¸ªè¯  
- `\2, \1`ï¼šæŠŠç¬¬äºŒä¸ªè¯å’Œç¬¬ä¸€ä¸ªè¯çš„é¡ºåºäº¤æ¢ï¼Œä¸­é—´åŠ é€—å·

### 1.3 å¸¸ç”¨æ›¿æ¢æ ‡å¿—ä½


| æ ‡å¿—ä½ | **å«ä¹‰** | **ç”¨é€”** | **ç¤ºä¾‹** |
|--------|---------|---------|---------|
| `g` | **å…¨å±€æ›¿æ¢** | æ›¿æ¢ä¸€è¡Œä¸­æ‰€æœ‰åŒ¹é…é¡¹ | `s/old/new/g` |
| `æ•°å­—` | **æŒ‡å®šæ›¿æ¢** | åªæ›¿æ¢ç¬¬Nä¸ªåŒ¹é…é¡¹ | `s/old/new/2` |
| `p` | **æ‰“å°æ›¿æ¢è¡Œ** | æ‰“å°å‘ç”Ÿæ›¿æ¢çš„è¡Œ | `s/old/new/gp` |
| `w æ–‡ä»¶` | **å†™å…¥æ–‡ä»¶** | å°†æ›¿æ¢ç»“æœå†™å…¥æ–‡ä»¶ | `s/old/new/w result.txt` |
| `I` | **å¿½ç•¥å¤§å°å†™** | ä¸åŒºåˆ†å¤§å°å†™åŒ¹é… | `s/old/new/gI` |

---

## 2. ğŸ”„ åŠ¨æ€æ›¿æ¢è§„åˆ™ä¸æ¡ä»¶æ›¿æ¢


### 2.1 åŠ¨æ€æ›¿æ¢è§„åˆ™æ¦‚å¿µ


**ä»€ä¹ˆæ˜¯åŠ¨æ€æ›¿æ¢**ï¼šæ ¹æ®åŒ¹é…åˆ°çš„å†…å®¹åŠ¨æ€å†³å®šå¦‚ä½•æ›¿æ¢ï¼Œè€Œä¸æ˜¯å›ºå®šçš„æ›¿æ¢æ–¹å¼ã€‚

```
é™æ€æ›¿æ¢ï¼šæ‰€æœ‰çš„"apple"éƒ½æ›¿æ¢æˆ"orange"
åŠ¨æ€æ›¿æ¢ï¼šå¦‚æœæ˜¯"red apple"æ›¿æ¢æˆ"red orange"
         å¦‚æœæ˜¯"green apple"æ›¿æ¢æˆ"fresh fruit"
```

### 2.2 åŸºäºå†…å®¹çš„æ¡ä»¶æ›¿æ¢


**ğŸ”¸ ä½¿ç”¨åœ°å€æ¨¡å¼è¿›è¡Œæ¡ä»¶æ›¿æ¢**
```bash
# åªåœ¨åŒ…å«ç‰¹å®šå†…å®¹çš„è¡Œä¸­æ›¿æ¢
sed '/ERROR/s/failed/FAILED/g' log.txt
# å«ä¹‰ï¼šåªåœ¨åŒ…å«"ERROR"çš„è¡Œä¸­ï¼Œå°†"failed"æ›¿æ¢ä¸º"FAILED"

# åœ¨æŒ‡å®šè¡Œå·èŒƒå›´å†…æ›¿æ¢
sed '10,20s/old/new/g' file.txt
# å«ä¹‰ï¼šåªåœ¨ç¬¬10-20è¡Œä¹‹é—´è¿›è¡Œæ›¿æ¢
```

**ğŸ”¸ æ’é™¤å¼æ¡ä»¶æ›¿æ¢**
```bash
# é™¤äº†æ³¨é‡Šè¡Œï¼Œå…¶ä»–è¡Œéƒ½è¿›è¡Œæ›¿æ¢
sed '/^#/!s/debug/info/g' config.txt
# å«ä¹‰ï¼šä¸æ˜¯ä»¥#å¼€å¤´çš„è¡Œï¼ˆ!è¡¨ç¤ºå–åï¼‰ï¼Œå°†debugæ›¿æ¢ä¸ºinfo
```

### 2.3 å¤šæ¡ä»¶ç»„åˆæ›¿æ¢


**å¤æ‚æ¡ä»¶ç¤ºä¾‹**
```bash
# å¤„ç†é…ç½®æ–‡ä»¶ï¼šåªåœ¨éæ³¨é‡Šä¸”éç©ºè¡Œä¸­æ›¿æ¢
sed -e '/^$/d' -e '/^#/!s/old_config/new_config/g' config.txt

# åˆ†æ­¥è§£é‡Šï¼š
# /^$/d : åˆ é™¤ç©ºè¡Œ
# /^#/! : ä¸æ˜¯æ³¨é‡Šè¡Œ
# s/old_config/new_config/g : è¿›è¡Œæ›¿æ¢
```

### 2.4 åŸºäºè¡Œå·çš„åŠ¨æ€æ›¿æ¢


```bash
# ä¸ºä¸åŒè¡Œåº”ç”¨ä¸åŒçš„æ›¿æ¢è§„åˆ™
sed -e '1s/^/# Header: /' \
    -e '2,$s/^/# /' \
    -e '$s/$/ # End/' file.txt

# è§£é‡Šï¼š
# ç¬¬1è¡Œï¼šåœ¨è¡Œé¦–æ·»åŠ "# Header: "
# ç¬¬2è¡Œåˆ°æœ€åï¼šåœ¨è¡Œé¦–æ·»åŠ "# "  
# æœ€åä¸€è¡Œï¼šåœ¨è¡Œæœ«æ·»åŠ "# End"
```

---

## 3. ğŸ”§ æ¨¡æ¿å¼•æ“é›†æˆæŠ€æœ¯


### 3.1 ä»€ä¹ˆæ˜¯æ¨¡æ¿å¼•æ“é›†æˆ


**é€šä¿—è§£é‡Š**ï¼šæ¨¡æ¿å¼•æ“å°±åƒä¸€ä¸ª"å¡«ç©ºé¢˜æ¨¡æ¿"ï¼Œä½ æä¾›æ•°æ®ï¼Œå®ƒæŒ‰ç…§æ¨¡æ¿æ ¼å¼ç”Ÿæˆæœ€ç»ˆæ–‡æœ¬ã€‚

```
æ¨¡æ¿ï¼šHello {{name}}, welcome to {{city}}!
æ•°æ®ï¼šname=å¼ ä¸‰, city=åŒ—äº¬
ç»“æœï¼šHello å¼ ä¸‰, welcome to åŒ—äº¬!
```

### 3.2 ä½¿ç”¨sedå®ç°ç®€å•æ¨¡æ¿å¼•æ“


**ğŸ”¸ å˜é‡æ›¿æ¢æ¨¡æ¿**
```bash
# åˆ›å»ºæ¨¡æ¿æ–‡ä»¶ template.txt
cat > template.txt << 'EOF'
ç”¨æˆ·ï¼š{{USERNAME}}
é‚®ç®±ï¼š{{EMAIL}}  
æ—¶é—´ï¼š{{DATE}}
çŠ¶æ€ï¼š{{STATUS}}
EOF

# å®šä¹‰æ›¿æ¢å‡½æ•°
process_template() {
    local template=$1
    local username=$2
    local email=$3
    local date=$4
    local status=$5
    
    sed -e "s/{{USERNAME}}/$username/g" \
        -e "s/{{EMAIL}}/$email/g" \
        -e "s/{{DATE}}/$date/g" \
        -e "s/{{STATUS}}/$status/g" \
        "$template"
}

# ä½¿ç”¨ç¤ºä¾‹
process_template template.txt "å¼ ä¸‰" "zhangsan@example.com" "$(date)" "active"
```

### 3.3 é«˜çº§æ¨¡æ¿å¤„ç†


**ğŸ”¸ æ¡ä»¶æ¨¡æ¿ç”Ÿæˆ**
```bash
# æ ¹æ®ç”¨æˆ·ç±»å‹ç”Ÿæˆä¸åŒå†…å®¹
generate_user_info() {
    local user_type=$1
    local username=$2
    
    case $user_type in
        "admin")
            sed -e "s/{{USERNAME}}/$username/g" \
                -e "s/{{PERMISSIONS}}/ç®¡ç†å‘˜æƒé™/g" \
                -e "s/{{LEVEL}}/é«˜çº§/g" admin_template.txt
            ;;
        "user")
            sed -e "s/{{USERNAME}}/$username/g" \
                -e "s/{{PERMISSIONS}}/æ™®é€šæƒé™/g" \
                -e "s/{{LEVEL}}/æ™®é€š/g" user_template.txt
            ;;
    esac
}
```

### 3.4 é…ç½®æ–‡ä»¶ç”Ÿæˆå™¨


```bash
# æ ¹æ®ç¯å¢ƒç”Ÿæˆé…ç½®æ–‡ä»¶
generate_config() {
    local env=$1  # dev, test, prod
    
    # åŸºç¡€æ¨¡æ¿
    local template="config_template.conf"
    
    case $env in
        "dev")
            sed -e 's/{{DB_HOST}}/localhost/g' \
                -e 's/{{DB_PORT}}/3306/g' \
                -e 's/{{DEBUG}}/true/g' \
                -e 's/{{LOG_LEVEL}}/debug/g' "$template"
            ;;
        "prod")
            sed -e 's/{{DB_HOST}}/prod-db.example.com/g' \
                -e 's/{{DB_PORT}}/5432/g' \
                -e 's/{{DEBUG}}/false/g' \
                -e 's/{{LOG_LEVEL}}/error/g' "$template"
            ;;
    esac
}
```

---

## 4. ğŸ“¦ æ‰¹é‡æ–‡æœ¬è½¬æ¢å®æˆ˜


### 4.1 æ‰¹é‡æ–‡ä»¶å¤„ç†æ¦‚å¿µ


**ä»€ä¹ˆæ˜¯æ‰¹é‡å¤„ç†**ï¼šä¸€æ¬¡æ€§å¯¹å¤šä¸ªæ–‡ä»¶è¿›è¡Œç›¸åŒçš„æ–‡æœ¬è½¬æ¢æ“ä½œï¼Œæé«˜å·¥ä½œæ•ˆç‡ã€‚

```
éœ€æ±‚ï¼šå°†100ä¸ªHTMLæ–‡ä»¶ä¸­çš„æ‰€æœ‰<font>æ ‡ç­¾æ›¿æ¢ä¸º<span>æ ‡ç­¾
æ‰‹åŠ¨ï¼šä¸€ä¸ªä¸€ä¸ªæ–‡ä»¶æ‰“å¼€ä¿®æ”¹ï¼ˆè´¹æ—¶è´¹åŠ›ï¼‰
æ‰¹é‡ï¼šä¸€ä¸ªå‘½ä»¤å¤„ç†æ‰€æœ‰æ–‡ä»¶ï¼ˆå¿«é€Ÿé«˜æ•ˆï¼‰
```

### 4.2 åŸºç¡€æ‰¹é‡æ›¿æ¢


**ğŸ”¸ å•ä¸€è§„åˆ™æ‰¹é‡å¤„ç†**
```bash
# å¯¹æ‰€æœ‰.txtæ–‡ä»¶è¿›è¡Œæ›¿æ¢
for file in *.txt; do
    sed -i 's/old_text/new_text/g' "$file"
    echo "å·²å¤„ç†: $file"
done

# æ›´é«˜æ•ˆçš„æ–¹å¼ï¼šä½¿ç”¨findå‘½ä»¤
find . -name "*.txt" -exec sed -i 's/old_text/new_text/g' {} \;
```

**ğŸ”¸ å¸¦å¤‡ä»½çš„å®‰å…¨æ›¿æ¢**
```bash
# æ›¿æ¢å‰è‡ªåŠ¨å¤‡ä»½åŸæ–‡ä»¶
find . -name "*.conf" -exec sed -i.bak 's/old_config/new_config/g' {} \;
# è¿™æ ·ä¼šç”Ÿæˆ .conf.bak å¤‡ä»½æ–‡ä»¶
```

### 4.3 å¤æ‚æ‰¹é‡è½¬æ¢è§„åˆ™


**ğŸ”¸ å¤šè§„åˆ™æ‰¹é‡å¤„ç†**
```bash
# åˆ›å»ºè½¬æ¢è„šæœ¬
create_conversion_script() {
    cat > convert_files.sh << 'EOF'
#!/bin/bash

for file in "$@"; do
    echo "æ­£åœ¨å¤„ç†: $file"
    
    # åº”ç”¨å¤šä¸ªæ›¿æ¢è§„åˆ™
    sed -i \
        -e 's/<font\([^>]*\)>/<span\1>/g' \
        -e 's/<\/font>/<\/span>/g' \
        -e 's/bgcolor=/style="background-color:/g' \
        -e 's/color=/style="color:/g' \
        "$file"
        
    echo "å®Œæˆ: $file"
done
EOF
    chmod +x convert_files.sh
}

# ä½¿ç”¨ç¤ºä¾‹
./convert_files.sh *.html
```

### 4.4 ç‰¹å®šæ ¼å¼è½¬æ¢å™¨


**ğŸ”¸ CSVåˆ°JSONè½¬æ¢å™¨**
```bash
# å°†CSVæ ¼å¼è½¬æ¢ä¸ºJSONæ ¼å¼
csv_to_json() {
    local csv_file=$1
    local json_file=$2
    
    # è¯»å–CSVå¤´éƒ¨
    header=$(head -n1 "$csv_file")
    
    # å¤„ç†æ•°æ®è¡Œ
    tail -n +2 "$csv_file" | while IFS=, read -r name age city; do
        echo "{\"name\":\"$name\",\"age\":$age,\"city\":\"$city\"}" >> "$json_file"
    done
}
```

**ğŸ”¸ æ—¥å¿—æ ¼å¼æ ‡å‡†åŒ–**
```bash
# æ ‡å‡†åŒ–ä¸åŒæ ¼å¼çš„æ—¥å¿—æ–‡ä»¶
standardize_logs() {
    local input_dir=$1
    local output_dir=$2
    
    for log_file in "$input_dir"/*.log; do
        basename=$(basename "$log_file")
        
        # è½¬æ¢ä¸ºæ ‡å‡†æ ¼å¼ï¼š[æ—¶é—´] [çº§åˆ«] æ¶ˆæ¯
        sed -E 's/^([0-9]{4}-[0-9]{2}-[0-9]{2} [0-9]{2}:[0-9]{2}:[0-9]{2}) - ([A-Z]+): (.*)$/[\1] [\2] \3/g' \
            "$log_file" > "$output_dir/$basename"
    done
}
```

---

## 5. ğŸ“Š æ ¼å¼åŒ–è¾“å‡ºæ§åˆ¶


### 5.1 è¾“å‡ºæ ¼å¼åŒ–æ¦‚å¿µ


**ä»€ä¹ˆæ˜¯æ ¼å¼åŒ–è¾“å‡º**ï¼šå°†æ•°æ®æŒ‰ç…§ç‰¹å®šçš„æ ¼å¼ã€å¯¹é½æ–¹å¼ã€æ ·å¼è¿›è¡Œå±•ç¤ºï¼Œè®©è¾“å‡ºæ›´ç¾è§‚æ˜“è¯»ã€‚

```
åŸå§‹æ•°æ®ï¼šname=å¼ ä¸‰,age=25,city=åŒ—äº¬
æ ¼å¼åŒ–åï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å§“å   â”‚ å¹´é¾„ â”‚ åŸå¸‚   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å¼ ä¸‰   â”‚ 25  â”‚ åŒ—äº¬   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.2 è¡¨æ ¼æ ¼å¼ç”Ÿæˆ


**ğŸ”¸ åˆ›å»ºç®€å•è¡¨æ ¼**
```bash
# ç”Ÿæˆè¡¨æ ¼æ ¼å¼çš„å‡½æ•°
generate_table() {
    local title=$1
    shift
    local data=("$@")
    
    # è¡¨æ ¼å¤´éƒ¨
    echo "â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”"
    echo "â”‚ $title"
    echo "â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤"
    
    # è¡¨æ ¼å†…å®¹
    for item in "${data[@]}"; do
        printf "â”‚ %-35s â”‚\n" "$item"
    done
    
    # è¡¨æ ¼åº•éƒ¨
    echo "â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜"
}

# ä½¿ç”¨ç¤ºä¾‹
generate_table "ç³»ç»Ÿä¿¡æ¯" \
    "ä¸»æœºå: $(hostname)" \
    "ç”¨æˆ·: $(whoami)" \
    "æ—¶é—´: $(date)"
```

### 5.3 åˆ—å¯¹é½æ ¼å¼åŒ–


**ğŸ”¸ æ•°æ®åˆ—å¯¹é½æ˜¾ç¤º**
```bash
# æ ¼å¼åŒ–ç”¨æˆ·ä¿¡æ¯æ˜¾ç¤º
format_user_info() {
    local input_file=$1
    
    printf "%-15s %-10s %-20s %-10s\n" "ç”¨æˆ·å" "UID" "é‚®ç®±" "çŠ¶æ€"
    printf "%-15s %-10s %-20s %-10s\n" "------" "---" "----" "----"
    
    while IFS=: read -r username uid email status; do
        printf "%-15s %-10s %-20s %-10s\n" "$username" "$uid" "$email" "$status"
    done < "$input_file"
}
```

### 5.4 é¢œè‰²åŒ–è¾“å‡º


**ğŸ”¸ å¸¦é¢œè‰²çš„æ ¼å¼åŒ–è¾“å‡º**
```bash
# å®šä¹‰é¢œè‰²ä»£ç 
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
BLUE='\033[0;34m'
NC='\033[0m' # No Color

# æ ¼å¼åŒ–æ—¥å¿—è¾“å‡º
format_log_output() {
    while read -r line; do
        if [[ $line =~ ERROR ]]; then
            echo -e "${RED}$line${NC}"
        elif [[ $line =~ WARNING ]]; then
            echo -e "${YELLOW}$line${NC}"
        elif [[ $line =~ INFO ]]; then
            echo -e "${BLUE}$line${NC}"
        elif [[ $line =~ SUCCESS ]]; then
            echo -e "${GREEN}$line${NC}"
        else
            echo "$line"
        fi
    done
}
```

### 5.5 æŠ¥å‘Šæ ¼å¼ç”Ÿæˆ


**ğŸ”¸ ç³»ç»ŸçŠ¶æ€æŠ¥å‘Š**
```bash
generate_system_report() {
    local output_file=${1:-system_report.txt}
    
    {
        echo "==============================================="
        echo "           ç³»ç»ŸçŠ¶æ€æŠ¥å‘Š"
        echo "==============================================="
        echo "ç”Ÿæˆæ—¶é—´: $(date)"
        echo ""
        
        echo "ğŸ–¥ï¸  ç³»ç»Ÿä¿¡æ¯:"
        echo "   ä¸»æœºå: $(hostname)"
        echo "   ç³»ç»Ÿç‰ˆæœ¬: $(cat /etc/os-release | grep PRETTY_NAME | cut -d'"' -f2)"
        echo "   å†…æ ¸ç‰ˆæœ¬: $(uname -r)"
        echo ""
        
        echo "ğŸ’¾ å†…å­˜ä½¿ç”¨:"
        free -h | sed 's/^/   /'
        echo ""
        
        echo "ğŸ’¿ ç£ç›˜ä½¿ç”¨:"
        df -h | grep -E '^/dev/' | sed 's/^/   /'
        echo ""
        
        echo "==============================================="
    } > "$output_file"
    
    echo "æŠ¥å‘Šå·²ç”Ÿæˆ: $output_file"
}
```

---

## 6. ğŸ”„ æ›¿æ¢å›è°ƒå‡½æ•°é«˜çº§åº”ç”¨


### 6.1 ä»€ä¹ˆæ˜¯æ›¿æ¢å›è°ƒå‡½æ•°


**é€šä¿—è§£é‡Š**ï¼šå›è°ƒå‡½æ•°å°±åƒæ˜¯"ä¸ªæ€§åŒ–å¤„ç†å™¨"ï¼Œå½“æ‰¾åˆ°åŒ¹é…çš„å†…å®¹æ—¶ï¼Œä¸ç›´æ¥æ›¿æ¢ï¼Œè€Œæ˜¯è°ƒç”¨ä¸€ä¸ªå‡½æ•°æ¥å†³å®šå¦‚ä½•æ›¿æ¢ã€‚

```
æ™®é€šæ›¿æ¢ï¼šæ‰¾åˆ°æ•°å­— â†’ ç›´æ¥æ›¿æ¢ä¸º"NUMBER"
å›è°ƒå‡½æ•°ï¼šæ‰¾åˆ°æ•°å­— â†’ è°ƒç”¨å‡½æ•°åˆ¤æ–­ï¼ˆå°äº10ç”¨ä¸­æ–‡ï¼Œå¤§äº10ç”¨è‹±æ–‡ï¼‰
```

### 6.2 ä½¿ç”¨Shellå‡½æ•°å®ç°å›è°ƒ


**ğŸ”¸ æ•°å€¼å¤„ç†å›è°ƒ**
```bash
# æ•°å€¼è½¬æ¢å›è°ƒå‡½æ•°
number_callback() {
    local number=$1
    
    if [[ $number -lt 10 ]]; then
        case $number in
            1) echo "ä¸€" ;;
            2) echo "äºŒ" ;;
            3) echo "ä¸‰" ;;
            *) echo "$number" ;;
        esac
    elif [[ $number -lt 100 ]]; then
        echo "åŒä½æ•°($number)"
    else
        echo "å¤§æ•°($number)"
    fi
}

# åº”ç”¨å›è°ƒå‡½æ•°å¤„ç†æ–‡æœ¬
process_with_callback() {
    local input_file=$1
    local temp_file=$(mktemp)
    
    # æå–æ‰€æœ‰æ•°å­—å¹¶å¤„ç†
    grep -oE '[0-9]+' "$input_file" | while read -r num; do
        replacement=$(number_callback "$num")
        sed -i "s/\b$num\b/$replacement/g" "$temp_file"
    done
}
```

### 6.3 æ¡ä»¶å›è°ƒå¤„ç†


**ğŸ”¸ åŸºäºä¸Šä¸‹æ–‡çš„æ™ºèƒ½æ›¿æ¢**
```bash
# æ™ºèƒ½é‚®ç®±å¤„ç†å›è°ƒ
email_callback() {
    local email=$1
    local context=$2
    
    # æ ¹æ®ä¸Šä¸‹æ–‡å†³å®šå¤„ç†æ–¹å¼
    if [[ $context =~ "å…¬å¼€" ]]; then
        # å…¬å¼€åœºåˆï¼šå®Œå…¨éšè—
        echo "[é‚®ç®±å·²éšè—]"
    elif [[ $context =~ "å†…éƒ¨" ]]; then
        # å†…éƒ¨ä½¿ç”¨ï¼šéƒ¨åˆ†éšè—
        echo "$email" | sed 's/\(.\{2\}\).*@\(.*\)/\1***@\2/'
    else
        # å…¶ä»–æƒ…å†µï¼šä¿æŒåŸæ ·
        echo "$email"
    fi
}

# æ™ºèƒ½æ–‡æ¡£å¤„ç†
process_document_with_context() {
    local doc_file=$1
    local doc_type=$2  # public, internal, private
    
    # æ ¹æ®æ–‡æ¡£ç±»å‹å¤„ç†é‚®ç®±
    while IFS= read -r line; do
        if [[ $line =~ [a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,} ]]; then
            email=$(echo "$line" | grep -oE '[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}')
            processed_email=$(email_callback "$email" "$doc_type")
            echo "${line/$email/$processed_email}"
        else
            echo "$line"
        fi
    done < "$doc_file"
}
```

### 6.4 å¤šæ­¥éª¤å›è°ƒé“¾


**ğŸ”¸ å¤æ‚æ–‡æœ¬å¤„ç†ç®¡é“**
```bash
# å®šä¹‰å¤„ç†æ­¥éª¤
step1_normalize() {
    # æ­¥éª¤1ï¼šæ ‡å‡†åŒ–æ ¼å¼
    sed -e 's/[[:space:]]\+/ /g' \
        -e 's/^[[:space:]]*//' \
        -e 's/[[:space:]]*$//'
}

step2_anonymize() {
    # æ­¥éª¤2ï¼šåŒ¿ååŒ–æ•æ„Ÿä¿¡æ¯
    sed -E 's/([0-9]{3})[0-9]{4}([0-9]{4})/\1****\2/g'  # æ‰‹æœºå·
}

step3_format() {
    # æ­¥éª¤3ï¼šæ ¼å¼åŒ–è¾“å‡º
    while read -r line; do
        echo "ã€å¤„ç†ç»“æœã€‘$line"
    done
}

# å›è°ƒé“¾å¤„ç†å‡½æ•°
process_with_callbacks() {
    local input_file=$1
    
    cat "$input_file" | \
        step1_normalize | \
        step2_anonymize | \
        step3_format
}
```

### 6.5 é”™è¯¯å¤„ç†å›è°ƒ


**ğŸ”¸ å¸¦é”™è¯¯å¤„ç†çš„å®‰å…¨å›è°ƒ**
```bash
# å®‰å…¨çš„å›è°ƒå¤„ç†å‡½æ•°
safe_callback_process() {
    local input_file=$1
    local callback_func=$2
    local output_file=$3
    
    # æ£€æŸ¥è¾“å…¥æ–‡ä»¶
    if [[ ! -f "$input_file" ]]; then
        echo "é”™è¯¯ï¼šè¾“å…¥æ–‡ä»¶ä¸å­˜åœ¨" >&2
        return 1
    fi
    
    # æ£€æŸ¥å›è°ƒå‡½æ•°æ˜¯å¦å­˜åœ¨
    if ! declare -f "$callback_func" > /dev/null; then
        echo "é”™è¯¯ï¼šå›è°ƒå‡½æ•° $callback_func ä¸å­˜åœ¨" >&2
        return 1
    fi
    
    # åˆ›å»ºä¸´æ—¶æ–‡ä»¶
    local temp_file=$(mktemp)
    
    # é€è¡Œå¤„ç†ï¼Œæ•è·é”™è¯¯
    while IFS= read -r line || [[ -n "$line" ]]; do
        if result=$($callback_func "$line" 2>&1); then
            echo "$result" >> "$temp_file"
        else
            echo "è­¦å‘Šï¼šå¤„ç†è¡Œå¤±è´¥: $line" >&2
            echo "$line" >> "$temp_file"  # ä¿ç•™åŸè¡Œ
        fi
    done < "$input_file"
    
    # ç§»åŠ¨ç»“æœåˆ°ç›®æ ‡æ–‡ä»¶
    mv "$temp_file" "$output_file"
    echo "å¤„ç†å®Œæˆï¼š$output_file"
}
```

---

## 7. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 7.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ é«˜çº§æ›¿æ¢ï¼šä¸ä»…ä»…æ˜¯ç®€å•çš„æŸ¥æ‰¾æ›¿æ¢ï¼Œè€Œæ˜¯åŸºäºæ¨¡å¼çš„æ™ºèƒ½æ›¿æ¢
ğŸ”¸ æ•è·ç»„ï¼šç”¨()æå–åŒ¹é…å†…å®¹çš„ç‰¹å®šéƒ¨åˆ†ï¼Œç”¨\1ã€\2å¼•ç”¨
ğŸ”¸ æ¡ä»¶æ›¿æ¢ï¼šæ ¹æ®ä¸åŒæ¡ä»¶æ‰§è¡Œä¸åŒçš„æ›¿æ¢é€»è¾‘
ğŸ”¸ åŠ¨æ€æ›¿æ¢ï¼šæ›¿æ¢å†…å®¹æ ¹æ®åŒ¹é…åˆ°çš„å…·ä½“å†…å®¹åŠ¨æ€å†³å®š
ğŸ”¸ æ‰¹é‡å¤„ç†ï¼šä¸€æ¬¡æ€§å¤„ç†å¤šä¸ªæ–‡ä»¶ï¼Œæé«˜å·¥ä½œæ•ˆç‡
ğŸ”¸ å›è°ƒå‡½æ•°ï¼šè‡ªå®šä¹‰å¤„ç†é€»è¾‘ï¼Œå®ç°å¤æ‚çš„æ›¿æ¢éœ€æ±‚
```

### 7.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ sedæ›¿æ¢çš„æœ¬è´¨**
```
ç†è§£è¦ç‚¹ï¼š
sedçš„så‘½ä»¤ä¸åªæ˜¯å­—ç¬¦ä¸²æ›¿æ¢ï¼Œè€Œæ˜¯æ¨¡å¼åŒ¹é…+å†…å®¹ç”Ÿæˆ
æ•è·ç»„è®©æˆ‘ä»¬å¯ä»¥"è®°ä½"åŒ¹é…çš„éƒ¨åˆ†ï¼Œç„¶åé‡æ–°ç»„ç»‡
æ ‡å¿—ä½æ§åˆ¶æ›¿æ¢çš„è¡Œä¸ºï¼ˆå…¨å±€ã€æŒ‡å®šä½ç½®ã€æ¡ä»¶ç­‰ï¼‰
```

**ğŸ”¹ æ‰¹é‡å¤„ç†çš„æ€ç»´**
```
æ ¸å¿ƒæ€è·¯ï¼š
å•ä¸ªæ–‡ä»¶ â†’ å¤šä¸ªæ–‡ä»¶ï¼ˆå¾ªç¯å¤„ç†ï¼‰
ç®€å•æ›¿æ¢ â†’ å¤æ‚è§„åˆ™ï¼ˆå¤šæ­¥éª¤å¤„ç†ï¼‰
æ‰‹åŠ¨æ“ä½œ â†’ è‡ªåŠ¨åŒ–è„šæœ¬ï¼ˆæé«˜æ•ˆç‡ï¼‰
```

**ğŸ”¹ æ¨¡æ¿åŒ–æ€æƒ³**
```
åº”ç”¨åœºæ™¯ï¼š
é…ç½®æ–‡ä»¶ç”Ÿæˆï¼šæ ¹æ®ç¯å¢ƒç”Ÿæˆä¸åŒé…ç½®
æŠ¥å‘Šç”Ÿæˆï¼šæ ¹æ®æ•°æ®ç”Ÿæˆæ ¼å¼åŒ–æŠ¥å‘Š
ä»£ç ç”Ÿæˆï¼šæ ¹æ®æ¨¡æ¿ç”Ÿæˆé‡å¤æ€§ä»£ç 
```

### 7.3 å®é™…åº”ç”¨ä»·å€¼


**ğŸ“Š å¸¸è§åº”ç”¨åœºæ™¯**
- **æ—¥å¿—å¤„ç†**ï¼šæ ‡å‡†åŒ–ä¸åŒæ ¼å¼çš„æ—¥å¿—æ–‡ä»¶
- **é…ç½®ç®¡ç†**ï¼šæ ¹æ®ç¯å¢ƒç”Ÿæˆé…ç½®æ–‡ä»¶
- **æ•°æ®è½¬æ¢**ï¼šCSVã€JSONã€XMLç­‰æ ¼å¼äº’è½¬
- **æ–‡æ¡£å¤„ç†**ï¼šæ‰¹é‡æ›´æ–°æ–‡æ¡£ä¸­çš„ä¿¡æ¯
- **ä»£ç é‡æ„**ï¼šæ‰¹é‡ä¿®æ”¹ä»£ç ä¸­çš„å‘½åè§„åˆ™

**ğŸ”§ å®ç”¨æŠ€å·§æ€»ç»“**
- **å®‰å…¨ç¬¬ä¸€**ï¼šå¤„ç†å‰å¤‡ä»½åŸæ–‡ä»¶ï¼ˆ-i.bakï¼‰
- **æµ‹è¯•ä¼˜å…ˆ**ï¼šå…ˆåœ¨æµ‹è¯•æ–‡ä»¶ä¸ŠéªŒè¯æ›¿æ¢è§„åˆ™
- **åˆ†æ­¥å¤„ç†**ï¼šå¤æ‚æ›¿æ¢åˆ†è§£ä¸ºå¤šä¸ªç®€å•æ­¥éª¤
- **é”™è¯¯å¤„ç†**ï¼šè€ƒè™‘å¼‚å¸¸æƒ…å†µï¼Œæ·»åŠ é”™è¯¯æ£€æŸ¥

### 7.4 è¿›é˜¶å­¦ä¹ æ–¹å‘


**ğŸ¯ æ·±å…¥æŒæ¡å»ºè®®**
- **æ­£åˆ™è¡¨è¾¾å¼**ï¼šæŒæ¡æ›´å¤æ‚çš„æ¨¡å¼åŒ¹é…
- **è„šæœ¬ç¼–ç¨‹**ï¼šç»“åˆShellç¼–ç¨‹å®ç°æ›´å¤æ‚é€»è¾‘
- **æ–‡æœ¬å¤„ç†å·¥å…·é“¾**ï¼šsed + awk + grep ç»„åˆä½¿ç”¨
- **è‡ªåŠ¨åŒ–å®è·µ**ï¼šå°†å¸¸ç”¨æ“ä½œå°è£…æˆå¯å¤ç”¨è„šæœ¬

**ğŸ“š ç›¸å…³å·¥å…·å¯¹æ¯”**
```
sedï¼š    é€‚åˆç®€å•åˆ°ä¸­ç­‰å¤æ‚åº¦çš„æ›¿æ¢
awkï¼š    é€‚åˆç»“æ„åŒ–æ•°æ®å¤„ç†å’Œå¤æ‚é€»è¾‘
perlï¼š   é€‚åˆæœ€å¤æ‚çš„æ–‡æœ¬å¤„ç†ä»»åŠ¡  
pythonï¼š é€‚åˆéœ€è¦ä¸°å¯Œåº“æ”¯æŒçš„æ–‡æœ¬å¤„ç†
```

**ğŸ’¡ è®°å¿†è¦ç‚¹**ï¼š
- sedæ›¿æ¢ä¸åªæ˜¯æŸ¥æ‰¾æ›¿æ¢ï¼Œè€Œæ˜¯æ¨¡å¼åŒ¹é…å’Œå†…å®¹é‡ç»„
- æ•è·ç»„()å’Œå¼•ç”¨\1è®©æ›¿æ¢å˜å¾—æ™ºèƒ½å’Œçµæ´»
- æ‰¹é‡å¤„ç†è¦è€ƒè™‘å®‰å…¨æ€§ï¼Œå…ˆå¤‡ä»½å†æ“ä½œ
- å¤æ‚éœ€æ±‚åˆ†è§£ä¸ºç®€å•æ­¥éª¤ï¼Œé€æ­¥å®ç°ç›®æ ‡