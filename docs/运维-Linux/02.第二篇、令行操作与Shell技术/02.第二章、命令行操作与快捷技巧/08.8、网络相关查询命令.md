---
title: 8、网络相关查询命令
---
## 📚 目录

1. [网络连通性测试命令](#1-网络连通性测试命令)
2. [文件下载与HTTP请求](#2-文件下载与HTTP请求)
3. [远程连接与文件传输](#3-远程连接与文件传输)
4. [网络状态查看命令](#4-网络状态查看命令)
5. [网络配置与接口管理](#5-网络配置与接口管理)
6. [DNS查询与域名解析](#6-DNS查询与域名解析)
7. [核心要点总结](#7-核心要点总结)

---

## 1. 🔍 网络连通性测试命令


### 1.1 ping命令详解


**🔸 什么是ping？**
```
简单理解：ping就像"喊话测试"
你对着远方喊一声，看对方能不能听到并回应
如果有回应，说明网络是通的；没回应，说明网络有问题
```

**💡 基本用法**
```bash
# 最简单的ping测试
ping baidu.com

# 指定ping的次数（不然会一直ping下去）
ping -c 4 baidu.com

# 设置每次ping的间隔时间（秒）
ping -i 2 baidu.com
```

> **📌 新手重点理解**
> - ping发送的是ICMP包（一种特殊的网络数据包）
> - 显示的时间越短，网络越快
> - 如果显示"timeout"或"unreachable"，说明网络不通

**⚡ 常用参数详解**
```bash
# -c：控制ping的次数（count）
ping -c 3 google.com        # 只ping 3次就停止

# -s：设置数据包大小（size）
ping -s 1000 baidu.com      # 发送1000字节的大包测试

# -W：设置超时时间（wait）
ping -W 5 192.168.1.1       # 等待5秒无回应就算超时
```

**📊 ping结果解读**
```
PING baidu.com (220.181.38.148): 56 data bytes
64 bytes from 220.181.38.148: icmp_seq=1 ttl=51 time=23.456 ms
64 bytes from 220.181.38.148: icmp_seq=2 ttl=51 time=24.123 ms

解读说明：
- icmp_seq=1：这是第1个ping包
- ttl=51：数据包的生存时间（跳数限制）
- time=23.456 ms：网络延迟23毫秒（越小越好）
```

---

## 2. 📥 文件下载与HTTP请求


### 2.1 wget命令 - 专业的下载工具


**🔸 什么是wget？**
```
简单理解：wget就像一个"专业下载器"
你告诉它一个网址，它就帮你把文件下载到本地
特别适合下载大文件或者批量下载
```

**💡 基础下载操作**
```bash
# 下载单个文件
wget https://example.com/file.zip

# 下载并重命名
wget -O myfile.zip https://example.com/file.zip

# 后台下载（不影响当前操作）
wget -b https://example.com/bigfile.iso
```

**⚡ 实用下载参数**
```bash
# 断点续传（下载中断了可以继续）
wget -c https://example.com/largefile.zip

# 限制下载速度（不占满带宽）
wget --limit-rate=200k https://example.com/file.zip

# 递归下载整个网站
wget -r -np https://example.com/folder/
```

> **⚠️ 注意事项**
> 使用递归下载时要小心，可能会下载很多不需要的文件

### 2.2 curl命令 - 万能的HTTP工具


**🔸 什么是curl？**
```
简单理解：curl就像一个"网络瑞士军刀"
不仅能下载文件，还能发送各种HTTP请求
程序员经常用它来测试API接口
```

**💡 基础HTTP请求**
```bash
# 获取网页内容
curl https://api.github.com

# 下载文件并保存
curl -o myfile.zip https://example.com/file.zip

# 显示详细的请求过程
curl -v https://httpbin.org/get
```

**📊 curl vs wget 对比**
| 特性 | **curl** | **wget** |
|------|----------|----------|
| **主要用途** | `HTTP请求测试` | `文件下载` |
| **API测试** | `✅ 很强` | `❌ 不适合` |
| **递归下载** | `❌ 不支持` | `✅ 很强` |
| **学习难度** | `中等` | `简单` |

---

## 3. 🔐 远程连接与文件传输


### 3.1 ssh命令 - 安全的远程登录


**🔸 什么是ssh？**
```
简单理解：ssh就像一条"加密的网络隧道"
让你可以安全地操作远程的Linux服务器
就像坐在服务器面前直接操作一样
```

**💡 基础连接方式**
```bash
# 基本连接（会提示输入密码）
ssh username@192.168.1.100

# 指定端口连接
ssh -p 2222 username@server.com

# 使用密钥登录（更安全，不需要密码）
ssh -i ~/.ssh/my_key username@server.com
```

**🔑 SSH密钥认证设置**
```bash
# 1. 在本地生成密钥对
ssh-keygen -t rsa -b 4096

# 2. 将公钥复制到服务器
ssh-copy-id username@server.com

# 3. 以后登录就不需要密码了
ssh username@server.com
```

> **💡 核心理解**
> - 密码登录：每次都要输入密码，相对不安全
> - 密钥登录：一次设置，永久免密，更安全
> - 公钥放在服务器，私钥放在本地，配对才能登录

### 3.2 scp命令 - 安全的文件复制


**🔸 什么是scp？**
```
简单理解：scp就像"网络版的cp命令"
可以在本地和远程服务器之间安全地复制文件
底层使用ssh协议，所以很安全
```

**💡 文件传输操作**
```bash
# 上传文件到服务器
scp myfile.txt username@server.com:/home/username/

# 从服务器下载文件
scp username@server.com:/path/to/file.txt ./

# 复制整个目录（递归）
scp -r myfolder/ username@server.com:/home/username/
```

**🎯 实用传输场景**
```
本地 → 服务器：部署代码、上传配置文件
服务器 → 本地：下载日志、备份文件  
服务器 ↔ 服务器：数据迁移、文件同步
```

---

## 4. 📊 网络状态查看命令


### 4.1 netstat命令 - 传统的网络状态工具


**🔸 什么是netstat？**
```
简单理解：netstat就像"网络体检工具"
能告诉你当前有哪些网络连接、哪些端口在监听
就像医生检查你的身体状况一样
```

**💡 核心参数组合**
```bash
# 最常用的组合：显示所有TCP/UDP连接
netstat -tulnp

参数详解：
-t: 显示TCP连接
-u: 显示UDP连接  
-l: 只显示监听状态的端口
-n: 用数字显示地址和端口（不解析名称）
-p: 显示进程ID和名称
```

**📈 结果解读示例**
```
Proto Recv-Q Send-Q Local Address    Foreign Address   State    PID/Program
tcp   0      0      0.0.0.0:22       0.0.0.0:*         LISTEN   1234/sshd
tcp   0      0      127.0.0.1:3306   0.0.0.0:*         LISTEN   5678/mysqld

解读说明：
- 22端口：SSH服务在监听，进程ID是1234
- 3306端口：MySQL服务在监听，进程ID是5678
- LISTEN状态：表示服务正在等待连接
```

### 4.2 ss命令 - 现代的网络状态工具


**🔸 什么是ss？**
```
简单理解：ss是netstat的"升级版"
速度更快，功能更强，是现代Linux的推荐工具
使用方式和netstat很像，但性能更好
```

**💡 常用ss命令**
```bash
# 显示所有连接（类似netstat -tulnp）
ss -tulnp

# 只显示TCP连接
ss -t

# 显示统计信息
ss -s

# 根据端口过滤
ss -tlnp | grep :80
```

**📊 netstat vs ss 对比**
| 特性 | **netstat** | **ss** |
|------|-------------|---------|
| **速度** | `较慢` | `很快` |
| **现代性** | `传统工具` | `现代推荐` |
| **功能** | `基础功能` | `功能更丰富` |
| **学习成本** | `经典，资料多` | `新工具，需适应` |

---

## 5. 🌐 网络配置与接口管理


### 5.1 ip命令 - 现代网络配置工具


**🔸 什么是ip命令？**
```
简单理解：ip命令就像"网络设置面板"
可以查看和修改网络接口、IP地址、路由等
是现代Linux管理网络的主要工具
```

### 5.2 网络接口查看（ip addr）


**💡 查看网络接口信息**
```bash
# 查看所有网络接口
ip addr show
# 或者简写
ip a

# 查看特定接口
ip addr show eth0

# 只显示IPv4地址
ip -4 addr show
```

**📋 结果解读**
```
2: eth0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500
    inet 192.168.1.100/24 brd 192.168.1.255 scope global eth0
    inet6 fe80::a1b2:c3d4:e5f6/64 scope link

解读说明：
- eth0：网络接口名称
- UP：接口是激活状态
- 192.168.1.100/24：IPv4地址和子网掩码
- mtu 1500：最大传输单元大小
```

### 5.3 路由管理（ip route）


**💡 路由表查看**
```bash
# 查看路由表
ip route show
# 或者简写
ip r

# 查看默认网关
ip route show default
```

**🛣️ 路由理解**
```
路由就像"交通指示牌"
告诉数据包："去这个地址，应该走哪条路"
默认路由：不知道怎么走的时候，走这条路（通常是网关）
```

---

## 6. 🔎 DNS查询与域名解析


### 6.1 dig命令 - 专业的DNS查询工具


**🔸 什么是dig？**
```
简单理解：dig就像"域名调查工具"
当你输入www.baidu.com，dig告诉你这个域名对应哪个IP地址
还能查看DNS解析的详细过程
```

**💡 基础DNS查询**
```bash
# 查询域名的A记录（IPv4地址）
dig baidu.com

# 简洁输出（只显示答案）
dig +short baidu.com

# 查询特定类型的记录
dig baidu.com MX    # 邮件服务器记录
dig baidu.com NS    # 域名服务器记录
```

### 6.2 nslookup命令 - 简单的域名查询


**🔸 什么是nslookup？**
```
简单理解：nslookup是dig的"简化版"
功能相对简单，但使用更直观
适合快速查询域名对应的IP地址
```

**💡 基本查询操作**
```bash
# 查询域名对应的IP
nslookup baidu.com

# 反向查询（IP查域名）
nslookup 8.8.8.8

# 指定DNS服务器查询
nslookup baidu.com 8.8.8.8
```

**📊 dig vs nslookup 对比**
| 特性 | **dig** | **nslookup** |
|------|---------|--------------|
| **功能** | `全面专业` | `简单直观` |
| **输出** | `详细信息` | `简洁结果` |
| **适用场景** | `专业调试` | `快速查询` |
| **学习难度** | `稍复杂` | `很简单` |

---

## 7. 📋 核心要点总结


### 7.1 必须掌握的核心概念


```
🔸 网络连通性：ping测试网络是否通畅，-c控制次数
🔸 文件传输：wget专门下载，curl万能请求，scp安全复制
🔸 远程连接：ssh安全登录，密钥认证更安全
🔸 状态监控：netstat传统工具，ss现代推荐
🔸 网络配置：ip命令管理接口和路由
🔸 域名解析：dig专业查询，nslookup简单快速
```

### 7.2 实际使用场景理解


**🔹 日常运维场景**
```
服务器连不上：用ping测试网络连通性
需要下载文件：wget下载，curl测试API
远程管理服务器：ssh登录，scp传输文件
检查服务状态：netstat/ss查看端口监听
网络故障排查：ip命令检查配置，dig查询DNS
```

**🔹 命令选择原则**
```
连通性测试：ping是首选
文件下载：wget简单，curl灵活
远程操作：ssh登录，scp传文件
网络状态：新系统用ss，老系统用netstat
网络配置：统一使用ip命令
DNS查询：dig功能全，nslookup够用
```

### 7.3 新手学习建议


**🎯 学习顺序**
1. **先掌握ping**：最基础的网络测试工具
2. **学会ssh**：远程连接是必备技能
3. **了解wget**：文件下载很实用
4. **掌握netstat/ss**：查看网络状态
5. **学习ip命令**：现代网络管理工具
6. **最后dig/nslookup**：DNS排查工具

**📚 实践建议**
- 多在真实环境中练习，理论结合实践
- 每个命令先学最常用的参数
- 遇到网络问题时主动使用这些工具排查
- 建立自己的常用命令备忘清单

**🔑 核心记忆要点**
- `ping`：网络通不通
- `ssh`：远程连过去
- `wget/curl`：文件下下来
- `netstat/ss`：端口看一看
- `ip`：网卡配一配
- `dig`：域名查一查

**核心理解**：
- 网络命令是Linux运维的基础工具
- 每个工具都有特定的使用场景，不要混淆
- 现代工具（ss、ip）正在替代传统工具（netstat、ifconfig）
- 熟练使用这些工具可以快速定位和解决网络问题