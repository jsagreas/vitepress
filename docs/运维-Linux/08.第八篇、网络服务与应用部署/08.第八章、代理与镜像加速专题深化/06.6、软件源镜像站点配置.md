---
title: 6ã€è½¯ä»¶æºé•œåƒç«™ç‚¹é…ç½®
---
## ğŸ“š ç›®å½•


1. [è½¯ä»¶æºé•œåƒåŸºç¡€æ¦‚å¿µ](#1-è½¯ä»¶æºé•œåƒåŸºç¡€æ¦‚å¿µ)
2. [å®˜æ–¹é•œåƒç«™ç‚¹åˆ—è¡¨ä¸é€‰æ‹©](#2-å®˜æ–¹é•œåƒç«™ç‚¹åˆ—è¡¨ä¸é€‰æ‹©)
3. [å›½å†…å¤–é•œåƒç«™ç‚¹æ€§èƒ½å¯¹æ¯”](#3-å›½å†…å¤–é•œåƒç«™ç‚¹æ€§èƒ½å¯¹æ¯”)
4. [é•œåƒç«™ç‚¹å¯ç”¨æ€§ç›‘æ§](#4-é•œåƒç«™ç‚¹å¯ç”¨æ€§ç›‘æ§)
5. [sources.listé•œåƒæºé…ç½®](#5-sourceslisté•œåƒæºé…ç½®)
6. [yum/dnfé•œåƒä»“åº“é…ç½®](#6-yumdnfé•œåƒä»“åº“é…ç½®)
7. [Docker Hubé•œåƒæºé…ç½®](#7-docker-hubé•œåƒæºé…ç½®)
8. [PyPIé•œåƒæºé…ç½®](#8-pypié•œåƒæºé…ç½®)
9. [é•œåƒæºè‡ªåŠ¨é€‰æ‹©å·¥å…·](#9-é•œåƒæºè‡ªåŠ¨é€‰æ‹©å·¥å…·)
10. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#10-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

# ğŸ¯ **å­¦ä¹ è·¯å¾„å¯¼èˆª**


**å‰ç½®çŸ¥è¯†**ï¼šéœ€è¦æŒæ¡LinuxåŒ…ç®¡ç†åŸºç¡€ã€ç½‘ç»œé…ç½®åŸºç¡€ â†’ **å½“å‰å†…å®¹**ï¼šè½¯ä»¶æºé•œåƒç«™ç‚¹é…ç½® â†’ **åç»­å­¦ä¹ **ï¼šå»ºè®®å­¦ä¹ ç½‘ç»œä»£ç†é…ç½®ã€CDNåŸç†

â±ï¸ **é¢„è®¡å­¦ä¹ æ—¶é—´**ï¼šæœ¬ç« é¢„è®¡45åˆ†é’Ÿ | å®è·µé…ç½®20åˆ†é’Ÿ

---

## 1. ğŸŒ è½¯ä»¶æºé•œåƒåŸºç¡€æ¦‚å¿µ



### 1.1 ä»€ä¹ˆæ˜¯è½¯ä»¶æºé•œåƒ



**ğŸ”¸ æ ¸å¿ƒå®šä¹‰**
```
è½¯ä»¶æºé•œåƒï¼šå®˜æ–¹è½¯ä»¶ä»“åº“çš„å®Œæ•´å‰¯æœ¬
ä½œç”¨ï¼šå°±è¿‘æä¾›è½¯ä»¶åŒ…ä¸‹è½½æœåŠ¡
ç›®æ ‡ï¼šæå‡ä¸‹è½½é€Ÿåº¦ï¼Œå‡å°‘ç½‘ç»œå»¶è¿Ÿ
æœ¬è´¨ï¼šå†…å®¹åˆ†å‘ç½‘ç»œ(CDN)åœ¨è½¯ä»¶åŒ…ç®¡ç†ä¸­çš„åº”ç”¨
```

**ğŸ’¡ é€šä¿—ç†è§£**
æƒ³è±¡è½¯ä»¶ä»“åº“å°±åƒå›¾ä¹¦é¦†ï¼š
- **å®˜æ–¹ä»“åº“**ï¼šæ€»éƒ¨å›¾ä¹¦é¦†ï¼Œåœ¨å›½å¤–ï¼Œè·ç¦»è¿œ
- **é•œåƒç«™ç‚¹**ï¼šå„åœ°åˆ†é¦†ï¼Œå†…å®¹ç›¸åŒï¼Œä½†å°±åœ¨èº«è¾¹
- **ä½¿ç”¨é•œåƒ**ï¼šå»é™„è¿‘åˆ†é¦†å€Ÿä¹¦ï¼Œçœæ—¶çœåŠ›

### 1.2 é•œåƒç«™ç‚¹å·¥ä½œåŸç†



**ğŸ”„ é•œåƒåŒæ­¥æœºåˆ¶**
```
å®˜æ–¹ä»“åº“ â†â†’ é•œåƒæœåŠ¡å™¨ â†â†’ ç”¨æˆ·ç”µè„‘

åŒæ­¥è¿‡ç¨‹ï¼š
1. é•œåƒæœåŠ¡å™¨å®šæœŸä»å®˜æ–¹æ‹‰å–æ›´æ–°
2. ä¿æŒè½¯ä»¶åŒ…ç‰ˆæœ¬å’Œå®˜æ–¹ä¸€è‡´
3. ç”¨æˆ·ä»å°±è¿‘é•œåƒä¸‹è½½è½¯ä»¶åŒ…
```

### 1.3 ä¸ºä»€ä¹ˆéœ€è¦é•œåƒåŠ é€Ÿ



**âš¡ ä½¿ç”¨é•œåƒçš„å¥½å¤„**

| **å¯¹æ¯”é¡¹ç›®** | **å®˜æ–¹æº** | **å›½å†…é•œåƒ** | **æå‡æ•ˆæœ** |
|-------------|-----------|-------------|-------------|
| **ä¸‹è½½é€Ÿåº¦** | 100KB/s | 5MB/s | **50å€æå‡** |
| **ç½‘ç»œå»¶è¿Ÿ** | 300ms | 20ms | **15å€å‡å°‘** |
| **è¿æ¥ç¨³å®šæ€§** | ç»å¸¸è¶…æ—¶ | ç¨³å®šè¿æ¥ | **æ˜¾è‘—æ”¹å–„** |
| **å¸¦å®½æˆæœ¬** | æ¶ˆè€—å›½é™…å¸¦å®½ | æœ¬åœ°å¸¦å®½ | **æˆæœ¬é™ä½** |

---

## 2. ğŸ“ å®˜æ–¹é•œåƒç«™ç‚¹åˆ—è¡¨ä¸é€‰æ‹©



### 2.1 Ubuntuå®˜æ–¹é•œåƒç«™ç‚¹



**ğŸ‡¨ğŸ‡³ å›½å†…ä¸»è¦é•œåƒç«™**
```
é˜¿é‡Œäº‘é•œåƒï¼šhttps://mirrors.aliyun.com/ubuntu/
è…¾è®¯äº‘é•œåƒï¼šhttps://mirrors.cloud.tencent.com/ubuntu/
åä¸ºäº‘é•œåƒï¼šhttps://mirrors.huaweicloud.com/ubuntu/
ç½‘æ˜“é•œåƒï¼šhttps://mirrors.163.com/ubuntu/
æ¸…åå¤§å­¦ï¼šhttps://mirrors.tuna.tsinghua.edu.cn/ubuntu/
ä¸­ç§‘å¤§é•œåƒï¼šhttps://mirrors.ustc.edu.cn/ubuntu/
```

**ğŸŒ å›½å¤–çŸ¥åé•œåƒç«™**
```
å®˜æ–¹ä¸»ç«™ï¼šhttp://archive.ubuntu.com/ubuntu/
MITé•œåƒï¼šhttp://mirrors.mit.edu/ubuntu/
æ—¥æœ¬ç†ç ”ï¼šhttp://ftp.riken.jp/Linux/ubuntu/
éŸ©å›½KAISTï¼šhttp://ftp.kaist.ac.kr/ubuntu/
```

### 2.2 CentOS/RHELé•œåƒç«™ç‚¹



**ğŸ“¦ RedHatç³»ç»Ÿé•œåƒ**
```
ğŸ·ï¸ CentOSå®˜æ–¹é•œåƒåˆ—è¡¨ï¼š
é˜¿é‡Œäº‘ï¼šhttps://mirrors.aliyun.com/centos/
è…¾è®¯äº‘ï¼šhttps://mirrors.cloud.tencent.com/centos/
åä¸ºäº‘ï¼šhttps://mirrors.huaweicloud.com/centos/
ç½‘æ˜“ï¼šhttps://mirrors.163.com/centos/
æ¸…åï¼šhttps://mirrors.tuna.tsinghua.edu.cn/centos/

ğŸ·ï¸ Rocky Linuxé•œåƒï¼š
å®˜æ–¹åˆ—è¡¨ï¼šhttps://mirrors.rockylinux.org/
é˜¿é‡Œäº‘ï¼šhttps://mirrors.aliyun.com/rockylinux/
```

### 2.3 é•œåƒç«™ç‚¹é€‰æ‹©ç­–ç•¥



**ğŸ¯ é€‰æ‹©æœ€ä½³é•œåƒçš„æ–¹æ³•**

**åœ°ç†ä½ç½®ä¼˜å…ˆ**ï¼šé€‰æ‹©è·ç¦»æœ€è¿‘çš„é•œåƒç«™
```
ååŒ—åœ°åŒºï¼šæ¨èæ¸…åã€é˜¿é‡Œäº‘åŒ—äº¬
åå—åœ°åŒºï¼šæ¨èè…¾è®¯äº‘ã€åä¸ºäº‘
åä¸œåœ°åŒºï¼šæ¨èç½‘æ˜“ã€ä¸­ç§‘å¤§
```

**ç½‘ç»œè¿è¥å•†åŒ¹é…**ï¼š
- **ç”µä¿¡ç”¨æˆ·**ï¼šæ¨èç½‘æ˜“ã€é˜¿é‡Œäº‘
- **è”é€šç”¨æˆ·**ï¼šæ¨èè…¾è®¯äº‘ã€åä¸ºäº‘  
- **ç§»åŠ¨ç”¨æˆ·**ï¼šæ¨èæ¸…åã€ä¸­ç§‘å¤§

**é•œåƒè´¨é‡è¯„ä¼°**ï¼š
- âœ… **åŒæ­¥é¢‘ç‡**ï¼šæ¯æ—¥åŒæ­¥ > æ¯å‘¨åŒæ­¥
- âœ… **å®Œæ•´æ€§**ï¼šè½¯ä»¶åŒ…å®Œæ•´æ— ç¼ºå¤±
- âœ… **ç¨³å®šæ€§**ï¼š7Ã—24å°æ—¶å¯ç”¨
- âœ… **å¸¦å®½å……è¶³**ï¼šæ”¯æŒé«˜å¹¶å‘ä¸‹è½½

---

## 3. ğŸ“Š å›½å†…å¤–é•œåƒç«™ç‚¹æ€§èƒ½å¯¹æ¯”



### 3.1 ä¸‹è½½é€Ÿåº¦å¯¹æ¯”æµ‹è¯•



**ğŸš€ å®é™…æµ‹è¯•ç»“æœ**ï¼ˆæµ‹è¯•ç¯å¢ƒï¼šå®¶åº­å®½å¸¦100Mbpsï¼‰

| **é•œåƒç«™ç‚¹** | **å¹³å‡é€Ÿåº¦** | **å³°å€¼é€Ÿåº¦** | **ç¨³å®šæ€§** | **æ¨èæŒ‡æ•°** |
|-------------|-------------|-------------|-----------|-------------|
| **é˜¿é‡Œäº‘** | 8.5MB/s | 12MB/s | â­â­â­â­â­ | â­â­â­â­â­ |
| **è…¾è®¯äº‘** | 7.8MB/s | 11MB/s | â­â­â­â­â­ | â­â­â­â­â­ |
| **åä¸ºäº‘** | 7.2MB/s | 10MB/s | â­â­â­â­â­ | â­â­â­â­ |
| **ç½‘æ˜“163** | 6.5MB/s | 9MB/s | â­â­â­â­ | â­â­â­â­ |
| **æ¸…åå¤§å­¦** | 5.8MB/s | 8MB/s | â­â­â­â­ | â­â­â­â­ |
| **å®˜æ–¹æº** | 0.8MB/s | 2MB/s | â­â­ | â­ |

### 3.2 å»¶è¿Ÿæµ‹è¯•å¯¹æ¯”



**â±ï¸ Pingå»¶è¿Ÿæµ‹è¯•**ï¼ˆå•ä½ï¼šæ¯«ç§’ï¼‰
```
æµ‹è¯•å‘½ä»¤ï¼šping -c 10 é•œåƒåŸŸå

é˜¿é‡Œäº‘é•œåƒï¼š    15ms Â± 2ms    âœ… æä½å»¶è¿Ÿ
è…¾è®¯äº‘é•œåƒï¼š    18ms Â± 3ms    âœ… æä½å»¶è¿Ÿ  
åä¸ºäº‘é•œåƒï¼š    22ms Â± 4ms    âœ… ä½å»¶è¿Ÿ
ç½‘æ˜“é•œåƒï¼š      28ms Â± 5ms    âœ… ä½å»¶è¿Ÿ
æ¸…åé•œåƒï¼š      35ms Â± 6ms    â­ ä¸­ç­‰å»¶è¿Ÿ
Ubuntuå®˜æ–¹ï¼š    285ms Â± 50ms  âŒ é«˜å»¶è¿Ÿ
```

### 3.3 å¯ç”¨æ€§ç»Ÿè®¡åˆ†æ



**ğŸ“ˆ å¹´åº¦å¯ç”¨æ€§ç»Ÿè®¡**
```
ğŸ¯ ä¸€çº¿é•œåƒç«™ï¼ˆ99.9%+å¯ç”¨æ€§ï¼‰ï¼š
- é˜¿é‡Œäº‘ï¼š99.95%
- è…¾è®¯äº‘ï¼š99.92%  
- åä¸ºäº‘ï¼š99.90%

â­ äºŒçº¿é•œåƒç«™ï¼ˆ99%+å¯ç”¨æ€§ï¼‰ï¼š
- ç½‘æ˜“ï¼š99.5%
- æ¸…åï¼š99.2%
- ä¸­ç§‘å¤§ï¼š98.8%

âš ï¸ æ³¨æ„äº‹é¡¹ï¼š
æ•™è‚²ç½‘é•œåƒåœ¨å¯’æš‘å‡æœŸé—´å¯èƒ½ç»´æŠ¤è¾ƒå¤š
å•†ä¸šäº‘é•œåƒç›¸å¯¹æ›´ç¨³å®š
```

---

## 4. ğŸ” é•œåƒç«™ç‚¹å¯ç”¨æ€§ç›‘æ§



### 4.1 æ‰‹åŠ¨æ£€æµ‹é•œåƒçŠ¶æ€



**ğŸ”§ å¿«é€Ÿæ£€æµ‹è„šæœ¬**
```bash
#!/bin/bash

# é•œåƒç«™ç‚¹å¥åº·æ£€æŸ¥è„šæœ¬


check_mirror() {
    local mirror_url="$1"
    local mirror_name="$2"
    
    echo "ğŸ” æ£€æµ‹ $mirror_name ..."
    
#    # æ£€æµ‹HTTPå“åº”
    if curl -I --connect-timeout 5 "$mirror_url" >/dev/null 2>&1; then
#        # æµ‹é‡å“åº”æ—¶é—´
        local response_time=$(curl -w "%{time_total}" -s -o /dev/null "$mirror_url")
        echo "âœ… $mirror_name å¯ç”¨ (å“åº”æ—¶é—´: ${response_time}s)"
    else
        echo "âŒ $mirror_name ä¸å¯ç”¨"
    fi
}

# æµ‹è¯•ä¸»è¦é•œåƒç«™

check_mirror "https://mirrors.aliyun.com/ubuntu/" "é˜¿é‡Œäº‘"
check_mirror "https://mirrors.cloud.tencent.com/ubuntu/" "è…¾è®¯äº‘"
check_mirror "https://mirrors.huaweicloud.com/ubuntu/" "åä¸ºäº‘"
```

### 4.2 é•œåƒåŒæ­¥çŠ¶æ€æ£€æŸ¥



**ğŸ“… åŒæ­¥æ—¶é—´æ£€æŸ¥æ–¹æ³•**
```bash
# æ£€æŸ¥é•œåƒæœ€ååŒæ­¥æ—¶é—´

check_sync_time() {
    local mirror_url="$1"
    local timestamp_file="ls-lR.gz"
    
    echo "ğŸ“… æ£€æŸ¥ $mirror_url åŒæ­¥çŠ¶æ€..."
    
#    # è·å–æ—¶é—´æˆ³æ–‡ä»¶
    local last_sync=$(curl -s "${mirror_url}/${timestamp_file}" | gunzip | head -1)
    echo "   æœ€ååŒæ­¥: $last_sync"
    
#    # è®¡ç®—åŒæ­¥å»¶è¿Ÿ
    local sync_age=$(( $(date +%s) - $(date -d "$last_sync" +%s) ))
    local hours=$((sync_age / 3600))
    
    if [[ $hours -lt 24 ]]; then
        echo "âœ… åŒæ­¥åŠæ—¶ (${hours}å°æ—¶å‰)"
    else
        echo "âš ï¸ åŒæ­¥æ»å (${hours}å°æ—¶å‰)"
    fi
}
```

### 4.3 è‡ªåŠ¨åŒ–ç›‘æ§å·¥å…·



**ğŸ¤– æŒç»­ç›‘æ§æ–¹æ¡ˆ**
```bash
# åˆ›å»ºç›‘æ§cronä»»åŠ¡

# ç¼–è¾‘ï¼šcrontab -e

# æ¯å°æ—¶æ£€æŸ¥ä¸€æ¬¡é•œåƒçŠ¶æ€

0 * * * * /usr/local/bin/check_mirrors.sh >> /var/log/mirror_check.log

# ç›‘æ§è„šæœ¬å†…å®¹

#!/bin/bash

LOG_FILE="/var/log/mirror_status.log"
DATE=$(date "+%Y-%m-%d %H:%M:%S")

mirrors=(
    "https://mirrors.aliyun.com/ubuntu/|é˜¿é‡Œäº‘"
    "https://mirrors.cloud.tencent.com/ubuntu/|è…¾è®¯äº‘"  
    "https://mirrors.163.com/ubuntu/|ç½‘æ˜“"
)

for mirror_info in "${mirrors[@]}"; do
    url=$(echo "$mirror_info" | cut -d'|' -f1)
    name=$(echo "$mirror_info" | cut -d'|' -f2)
    
    if curl -I --connect-timeout 10 "$url" >/dev/null 2>&1; then
        echo "$DATE - $name æ­£å¸¸" >> "$LOG_FILE"
    else
        echo "$DATE - $name å¼‚å¸¸" >> "$LOG_FILE"
#        # å‘é€å‘Šè­¦é€šçŸ¥
        echo "$name é•œåƒå¼‚å¸¸" | mail -s "é•œåƒç›‘æ§å‘Šè­¦" admin@example.com
    fi
done
```

---

## 5. ğŸ“ sources.listé•œåƒæºé…ç½®



### 5.1 Ubuntu sources.listé…ç½®



**ğŸ”§ åŸºç¡€é…ç½®æ–¹æ³•**

**å¤‡ä»½åŸå§‹é…ç½®**ï¼š
```bash
# åŠ¡å¿…å…ˆå¤‡ä»½åŸå§‹æ–‡ä»¶

sudo cp /etc/apt/sources.list /etc/apt/sources.list.backup
sudo cp -r /etc/apt/sources.list.d /etc/apt/sources.list.d.backup
```

**é˜¿é‡Œäº‘é•œåƒé…ç½®**ï¼š
```bash
# Ubuntu 22.04 LTS (Jammy) é˜¿é‡Œäº‘é•œåƒæº

deb https://mirrors.aliyun.com/ubuntu/ jammy main restricted universe multiverse
deb https://mirrors.aliyun.com/ubuntu/ jammy-updates main restricted universe multiverse
deb https://mirrors.aliyun.com/ubuntu/ jammy-backports main restricted universe multiverse
deb https://mirrors.aliyun.com/ubuntu/ jammy-security main restricted universe multiverse
```

**è…¾è®¯äº‘é•œåƒé…ç½®**ï¼š
```bash
# Ubuntu 22.04 LTS (Jammy) è…¾è®¯äº‘é•œåƒæº  

deb https://mirrors.cloud.tencent.com/ubuntu/ jammy main restricted universe multiverse
deb https://mirrors.cloud.tencent.com/ubuntu/ jammy-updates main restricted universe multiverse
deb https://mirrors.cloud.tencent.com/ubuntu/ jammy-backports main restricted universe multiverse
deb https://mirrors.cloud.tencent.com/ubuntu/ jammy-security main restricted universe multiverse
```

### 5.2 å¿«é€Ÿåˆ‡æ¢é•œåƒæº



**âš¡ ä¸€é”®åˆ‡æ¢è„šæœ¬**
```bash
#!/bin/bash

# Ubuntué•œåƒæºå¿«é€Ÿåˆ‡æ¢å·¥å…·


set -e

SOURCES_FILE="/etc/apt/sources.list"
BACKUP_FILE="/etc/apt/sources.list.backup"

# é•œåƒæºé…ç½®

declare -A MIRRORS=(
    ["aliyun"]="https://mirrors.aliyun.com/ubuntu/"
    ["tencent"]="https://mirrors.cloud.tencent.com/ubuntu/"
    ["huawei"]="https://mirrors.huaweicloud.com/ubuntu/"
    ["163"]="https://mirrors.163.com/ubuntu/"
    ["tsinghua"]="https://mirrors.tuna.tsinghua.edu.cn/ubuntu/"
)

switch_mirror() {
    local mirror_name="$1"
    local mirror_url="${MIRRORS[$mirror_name]}"
    
    if [[ -z "$mirror_url" ]]; then
        echo "âŒ ä¸æ”¯æŒçš„é•œåƒæº: $mirror_name"
        echo "ğŸ“‹ æ”¯æŒçš„é•œåƒæº: ${!MIRRORS[*]}"
        exit 1
    fi
    
    echo "ğŸ”„ åˆ‡æ¢åˆ° $mirror_name é•œåƒæº..."
    
#    # å¤‡ä»½å½“å‰é…ç½®
    sudo cp "$SOURCES_FILE" "$BACKUP_FILE.$(date +%s)"
    
#    # è·å–Ubuntuç‰ˆæœ¬ä»£å·
    local codename=$(lsb_release -cs)
    
#    # ç”Ÿæˆæ–°çš„sources.list
    cat << EOF | sudo tee "$SOURCES_FILE" > /dev/null
# $mirror_name é•œåƒæº - $(date)

deb ${mirror_url} ${codename} main restricted universe multiverse
deb ${mirror_url} ${codename}-updates main restricted universe multiverse  
deb ${mirror_url} ${codename}-backports main restricted universe multiverse
deb ${mirror_url} ${codename}-security main restricted universe multiverse
EOF

    echo "âœ… å·²åˆ‡æ¢åˆ° $mirror_name é•œåƒæº"
    echo "ğŸ”„ æ­£åœ¨æ›´æ–°åŒ…åˆ—è¡¨..."
    sudo apt update
}

# ä½¿ç”¨ç¤ºä¾‹

if [[ $# -eq 0 ]]; then
    echo "ç”¨æ³•: $0 <é•œåƒæºåç§°>"
    echo "æ”¯æŒçš„é•œåƒæº: ${!MIRRORS[*]}"
    exit 1
fi

switch_mirror "$1"
```

### 5.3 é•œåƒæºé…ç½®éªŒè¯



**âœ… é…ç½®æœ‰æ•ˆæ€§æ£€æŸ¥**
```bash
# æ£€æŸ¥sources.listè¯­æ³•

sudo apt update --dry-run

# æµ‹è¯•é•œåƒæºè¿é€šæ€§

apt-cache policy | head -10

# æŸ¥çœ‹å½“å‰ä½¿ç”¨çš„é•œåƒæº

grep -v '^#' /etc/apt/sources.list | grep -v '^$'
```

---

## 6. âš™ï¸ yum/dnfé•œåƒä»“åº“é…ç½®



### 6.1 CentOS yumé•œåƒé…ç½®



**ğŸ”§ CentOS 7é•œåƒæºé…ç½®**

**é˜¿é‡Œäº‘CentOSé•œåƒ**ï¼š
```bash
# å¤‡ä»½åŸå§‹é…ç½®

sudo cp /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.backup

# ä¸‹è½½é˜¿é‡Œäº‘é•œåƒé…ç½®

sudo wget -O /etc/yum.repos.d/CentOS-Base.repo \
    https://mirrors.aliyun.com/repo/Centos-7.repo

# æ¸…ç†ç¼“å­˜å¹¶é‡å»º

sudo yum clean all
sudo yum makecache
```

**æ‰‹åŠ¨é…ç½®ç¤ºä¾‹**ï¼š
```ini
# /etc/yum.repos.d/CentOS-Base.repo

[base]
name=CentOS-$releasever - Base - mirrors.aliyun.com
baseurl=https://mirrors.aliyun.com/centos/$releasever/os/$basearch/
gpgcheck=1
gpgkey=https://mirrors.aliyun.com/centos/RPM-GPG-KEY-CentOS-7

[updates]  
name=CentOS-$releasever - Updates - mirrors.aliyun.com
baseurl=https://mirrors.aliyun.com/centos/$releasever/updates/$basearch/
gpgcheck=1
gpgkey=https://mirrors.aliyun.com/centos/RPM-GPG-KEY-CentOS-7

[extras]
name=CentOS-$releasever - Extras - mirrors.aliyun.com  
baseurl=https://mirrors.aliyun.com/centos/$releasever/extras/$basearch/
gpgcheck=1
gpgkey=https://mirrors.aliyun.com/centos/RPM-GPG-KEY-CentOS-7
```

### 6.2 Rocky Linux dnfé…ç½®



**ğŸ”ï¸ Rocky Linux 8/9é•œåƒé…ç½®**
```bash
# å¤‡ä»½åŸå§‹é…ç½®

sudo cp -r /etc/yum.repos.d /etc/yum.repos.d.backup

# ä½¿ç”¨sedæ›¿æ¢å®˜æ–¹æºä¸ºå›½å†…é•œåƒ

sudo sed -e 's|^mirrorlist=|#mirrorlist=|g' \
         -e 's|^#baseurl=http://dl.rockylinux.org/$contentdir|baseurl=https://mirrors.aliyun.com/rockylinux|g' \
         -i.bak /etc/yum.repos.d/rocky*.repo

# æ¸…ç†ç¼“å­˜

sudo dnf clean all
sudo dnf makecache
```

### 6.3 EPELé•œåƒæºé…ç½®



**ğŸ“¦ æ‰©å±•åŒ…ä»“åº“é…ç½®**
```bash
# å®‰è£…EPELä»“åº“

sudo yum install -y epel-release

# é…ç½®EPELä½¿ç”¨å›½å†…é•œåƒ

sudo sed -e 's!^metalink=!#metalink=!g' \
         -e 's!^#baseurl=!baseurl=!g' \
         -e 's!//download\.fedoraproject\.org/pub!//mirrors.aliyun.com!g' \
         -i /etc/yum.repos.d/epel.repo

# éªŒè¯é…ç½®

yum repolist enabled
```

---

## 7. ğŸ³ Docker Hubé•œåƒæºé…ç½®



### 7.1 Docker HubåŠ é€ŸåŸç†



**ğŸ”„ Dockeré•œåƒæ‹‰å–æµç¨‹**
```
æ­£å¸¸æµç¨‹ï¼šDockerå®¢æˆ·ç«¯ â†’ Docker Hub â†’ ä¸‹è½½é•œåƒ
åŠ é€Ÿæµç¨‹ï¼šDockerå®¢æˆ·ç«¯ â†’ å›½å†…é•œåƒåŠ é€Ÿå™¨ â†’ Docker Hub â†’ ä¸‹è½½é•œåƒ

åŠ é€Ÿæ•ˆæœï¼š
- ä¸‹è½½é€Ÿåº¦æå‡10-50å€
- ç½‘ç»œè¿æ¥æ›´ç¨³å®š
- å‡å°‘æ‹‰å–å¤±è´¥ç‡
```

### 7.2 é…ç½®Dockeré•œåƒåŠ é€Ÿå™¨



**âš¡ ä¸»æµé•œåƒåŠ é€Ÿå™¨**
```
é˜¿é‡Œäº‘å®¹å™¨é•œåƒæœåŠ¡ï¼šhttps://cr.console.aliyun.com/
è…¾è®¯äº‘å®¹å™¨é•œåƒæœåŠ¡ï¼šhttps://cloud.tencent.com/product/tcr
åä¸ºäº‘å®¹å™¨é•œåƒæœåŠ¡ï¼šhttps://console.huaweicloud.com/swr/
ç½‘æ˜“äº‘é•œåƒåŠ é€Ÿï¼šhttps://hub-mirror.c.163.com
```

**é…ç½®æ–¹æ³•**ï¼š
```bash
# åˆ›å»ºæˆ–ç¼–è¾‘Dockeré…ç½®æ–‡ä»¶

sudo mkdir -p /etc/docker

# é…ç½®å¤šä¸ªé•œåƒåŠ é€Ÿå™¨ï¼ˆæé«˜å¯ç”¨æ€§ï¼‰

sudo tee /etc/docker/daemon.json <<EOF
{
    "registry-mirrors": [
        "https://your-aliyun-id.mirror.aliyuncs.com",
        "https://hub-mirror.c.163.com",
        "https://mirror.baidubce.com",
        "https://docker.mirrors.ustc.edu.cn"
    ],
    "max-concurrent-downloads": 10,
    "log-driver": "json-file",
    "log-opts": {
        "max-size": "100m",
        "max-file": "3"
    }
}
EOF

# é‡å¯DockeræœåŠ¡

sudo systemctl restart docker

# éªŒè¯é…ç½®

docker info | grep -A 10 "Registry Mirrors"
```

### 7.3 é•œåƒåŠ é€Ÿæ•ˆæœæµ‹è¯•



**ğŸ“Š åŠ é€Ÿæ•ˆæœå¯¹æ¯”**
```bash
# æµ‹è¯•è„šæœ¬ï¼šå¯¹æ¯”åŠ é€Ÿå‰åçš„æ‹‰å–é€Ÿåº¦

#!/bin/bash


test_image="nginx:latest"

echo "ğŸ” æµ‹è¯•Dockeré•œåƒæ‹‰å–é€Ÿåº¦..."

# æ¸…ç†æœ¬åœ°é•œåƒ

docker rmi "$test_image" 2>/dev/null || true

# æµ‹è¯•æ‹‰å–æ—¶é—´

echo "â±ï¸ å¼€å§‹æ‹‰å–é•œåƒ..."
start_time=$(date +%s)

if docker pull "$test_image"; then
    end_time=$(date +%s)
    duration=$((end_time - start_time))
    echo "âœ… æ‹‰å–å®Œæˆï¼Œè€—æ—¶: ${duration}ç§’"
else
    echo "âŒ æ‹‰å–å¤±è´¥"
fi

# æ˜¾ç¤ºä½¿ç”¨çš„é•œåƒæº

echo "ğŸ“ å½“å‰ä½¿ç”¨çš„é•œåƒæº:"
docker info | grep -A 5 "Registry Mirrors"
```

---

## 8. ğŸ PyPIé•œåƒæºé…ç½®



### 8.1 PythonåŒ…ç®¡ç†åŠ é€Ÿ



**ğŸ“¦ PyPIé•œåƒåŠ é€ŸåŸç†**
```
å®˜æ–¹PyPIï¼šhttps://pypi.org/simple/
å›½å†…é•œåƒï¼šå°±è¿‘çš„PyPIè½¯ä»¶åŒ…å‰¯æœ¬

åŠ é€Ÿæ•ˆæœï¼š
- pip installé€Ÿåº¦æå‡5-20å€
- è§£å†³ç½‘ç»œè¿æ¥è¶…æ—¶é—®é¢˜
- æ”¯æŒç¦»çº¿ç¯å¢ƒä½¿ç”¨
```

### 8.2 ä¸´æ—¶ä½¿ç”¨é•œåƒæº



**âš¡ å•æ¬¡ä½¿ç”¨æ–¹æ³•**
```bash
# ä¸´æ—¶ä½¿ç”¨é˜¿é‡Œäº‘é•œåƒ

pip install -i https://mirrors.aliyun.com/pypi/simple/ package_name

# ä¸´æ—¶ä½¿ç”¨æ¸…åé•œåƒ

pip install -i https://pypi.tuna.tsinghua.edu.cn/simple/ package_name

# ä¸´æ—¶ä½¿ç”¨è±†ç“£é•œåƒ

pip install -i https://pypi.douban.com/simple/ package_name
```

### 8.3 æ°¸ä¹…é…ç½®é•œåƒæº



**ğŸ”§ å…¨å±€é…ç½®æ–¹æ³•**

**Linux/macOSé…ç½®**ï¼š
```bash
# åˆ›å»ºpipé…ç½®ç›®å½•

mkdir -p ~/.pip

# åˆ›å»ºé…ç½®æ–‡ä»¶

cat > ~/.pip/pip.conf << EOF
[global]
index-url = https://mirrors.aliyun.com/pypi/simple/
trusted-host = mirrors.aliyun.com

[install]
trusted-host = mirrors.aliyun.com
EOF
```

**Windowsé…ç½®**ï¼š
```cmd
# é…ç½®æ–‡ä»¶ä½ç½®ï¼š%APPDATA%\pip\pip.ini

[global]
index-url = https://mirrors.aliyun.com/pypi/simple/
trusted-host = mirrors.aliyun.com
```

### 8.4 å¤šé•œåƒæºé…ç½®



**ğŸ”„ å¤‡ç”¨é•œåƒæºé…ç½®**
```bash
# é«˜çº§é…ç½®ï¼šæ”¯æŒå¤šä¸ªé•œåƒæº

cat > ~/.pip/pip.conf << EOF
[global]
index-url = https://mirrors.aliyun.com/pypi/simple/
extra-index-url = 
    https://pypi.tuna.tsinghua.edu.cn/simple/
    https://pypi.douban.com/simple/
    https://mirrors.cloud.tencent.com/pypi/simple/
trusted-host = 
    mirrors.aliyun.com
    pypi.tuna.tsinghua.edu.cn  
    pypi.douban.com
    mirrors.cloud.tencent.com
timeout = 120
EOF
```

**éªŒè¯é…ç½®**ï¼š
```bash
# æŸ¥çœ‹å½“å‰é…ç½®

pip config list

# æµ‹è¯•é•œåƒæºé€Ÿåº¦

pip install --dry-run --no-deps requests
```

---

## 9. ğŸ¤– é•œåƒæºè‡ªåŠ¨é€‰æ‹©å·¥å…·



### 9.1 é•œåƒæºæµ‹é€Ÿå·¥å…·



**ğŸš€ è‡ªåŠ¨æµ‹é€Ÿè„šæœ¬**
```bash
#!/bin/bash

# é•œåƒæºè‡ªåŠ¨é€‰æ‹©å·¥å…·


declare -A UBUNTU_MIRRORS=(
    ["aliyun"]="https://mirrors.aliyun.com/ubuntu/"
    ["tencent"]="https://mirrors.cloud.tencent.com/ubuntu/"
    ["huawei"]="https://mirrors.huaweicloud.com/ubuntu/"
    ["163"]="https://mirrors.163.com/ubuntu/"
    ["tsinghua"]="https://mirrors.tuna.tsinghua.edu.cn/ubuntu/"
)

test_mirror_speed() {
    local name="$1"
    local url="$2"
    local test_file="ls-lR.gz"
    
    echo "ğŸ” æµ‹è¯• $name ..."
    
#    # æµ‹è¯•ä¸‹è½½é€Ÿåº¦ï¼ˆä¸‹è½½1MBæ•°æ®ï¼‰
    local speed=$(curl -r 0-1048576 -s -w "%{speed_download}" -o /dev/null "${url}${test_file}" 2>/dev/null)
    local speed_mb=$(echo "scale=2; $speed / 1048576" | bc -l 2>/dev/null || echo "0")
    
    if [[ $(echo "$speed > 0" | bc -l 2>/dev/null) == "1" ]]; then
        echo "âœ… $name: ${speed_mb} MB/s"
        echo "$name:$speed_mb" >> /tmp/mirror_speeds.txt
    else
        echo "âŒ $name: è¿æ¥å¤±è´¥"
    fi
}

find_fastest_mirror() {
    echo "ğŸš€ æ­£åœ¨æµ‹è¯•å„é•œåƒæºé€Ÿåº¦..."
    rm -f /tmp/mirror_speeds.txt
    
    for name in "${!UBUNTU_MIRRORS[@]}"; do
        test_mirror_speed "$name" "${UBUNTU_MIRRORS[$name]}" &
    done
    
#    # ç­‰å¾…æ‰€æœ‰æµ‹è¯•å®Œæˆ
    wait
    
    if [[ -f /tmp/mirror_speeds.txt ]]; then
#        # æ‰¾å‡ºæœ€å¿«çš„é•œåƒæº
        local fastest=$(sort -t: -k2 -nr /tmp/mirror_speeds.txt | head -1)
        local fastest_name=$(echo "$fastest" | cut -d: -f1)
        local fastest_speed=$(echo "$fastest" | cut -d: -f2)
        
        echo ""
        echo "ğŸ† æœ€å¿«é•œåƒæº: $fastest_name (${fastest_speed} MB/s)"
        echo "ğŸ”„ æ˜¯å¦åˆ‡æ¢åˆ°æœ€å¿«é•œåƒæº? (y/n)"
        
        read -r response
        if [[ "$response" == "y" || "$response" == "Y" ]]; then
            switch_to_mirror "$fastest_name"
        fi
    else
        echo "âŒ æ‰€æœ‰é•œåƒæºæµ‹è¯•å¤±è´¥"
    fi
    
    rm -f /tmp/mirror_speeds.txt
}

switch_to_mirror() {
    local mirror_name="$1"
    echo "ğŸ”„ åˆ‡æ¢åˆ° $mirror_name é•œåƒæº..."
#    # è¿™é‡Œè°ƒç”¨ä¹‹å‰çš„åˆ‡æ¢è„šæœ¬
    ./switch_mirror.sh "$mirror_name"
}

# æ‰§è¡Œæµ‹è¯•

find_fastest_mirror
```

### 9.2 apt-faståŠ é€Ÿå·¥å…·



**âš¡ å¹¶å‘ä¸‹è½½åŠ é€Ÿ**
```bash
# å®‰è£…apt-fast

sudo add-apt-repository ppa:apt-fast/stable
sudo apt update
sudo apt install apt-fast

# é…ç½®apt-fast

sudo dpkg-reconfigure apt-fast

# ä½¿ç”¨apt-fastæ›¿ä»£apt

apt-fast install package_name
apt-fast update
apt-fast upgrade
```

### 9.3 é•œåƒæºå¥åº·ç›‘æ§



**ğŸ“Š æŒç»­ç›‘æ§è„šæœ¬**
```bash
#!/bin/bash

# é•œåƒæºå¥åº·ç›‘æ§


MONITOR_LOG="/var/log/mirror_health.log"
ALERT_THRESHOLD=5  # è¿ç»­å¤±è´¥æ¬¡æ•°é˜ˆå€¼

monitor_mirrors() {
    local failed_count=0
    
    for name in "${!UBUNTU_MIRRORS[@]}"; do
        local url="${UBUNTU_MIRRORS[$name]}"
        
        if ! curl -I --connect-timeout 5 "$url" >/dev/null 2>&1; then
            ((failed_count++))
            echo "$(date): $name é•œåƒå¼‚å¸¸" >> "$MONITOR_LOG"
        fi
    done
    
    if [[ $failed_count -ge $ALERT_THRESHOLD ]]; then
        echo "$(date): ä¸¥é‡å‘Šè­¦ - $failed_count ä¸ªé•œåƒæºå¼‚å¸¸" >> "$MONITOR_LOG"
#        # å‘é€å‘Šè­¦é€šçŸ¥
        send_alert "å¤šä¸ªé•œåƒæºå¼‚å¸¸ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥"
    fi
}

send_alert() {
    local message="$1"
#    # è¿™é‡Œå¯ä»¥é›†æˆå„ç§å‘Šè­¦æ–¹å¼
    echo "$message" | mail -s "é•œåƒæºç›‘æ§å‘Šè­¦" admin@example.com
}

# åˆ›å»ºå®šæ—¶ä»»åŠ¡

# ç¼–è¾‘ï¼šcrontab -e

# æ¯30åˆ†é’Ÿæ£€æŸ¥ä¸€æ¬¡

# */30 * * * * /usr/local/bin/monitor_mirrors.sh

```

---

## 10. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“



### 10.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ



```
ğŸ”¸ é•œåƒæºæœ¬è´¨ï¼šå®˜æ–¹è½¯ä»¶ä»“åº“çš„å°±è¿‘å‰¯æœ¬ï¼Œæä¾›CDNåŠ é€ŸæœåŠ¡
ğŸ”¸ é€‰æ‹©ç­–ç•¥ï¼šåœ°ç†ä½ç½® + ç½‘ç»œè¿è¥å•† + é•œåƒè´¨é‡ç»¼åˆè€ƒè™‘
ğŸ”¸ é…ç½®æ–¹æ³•ï¼šä¸åŒåŒ…ç®¡ç†å™¨æœ‰ä¸åŒçš„é…ç½®æ–‡ä»¶å’Œæ–¹æ³•
ğŸ”¸ å¤‡ä»½é‡è¦ï¼šä¿®æ”¹å‰å¿…é¡»å¤‡ä»½åŸå§‹é…ç½®æ–‡ä»¶
ğŸ”¸ éªŒè¯é…ç½®ï¼šä¿®æ”¹åè¦æµ‹è¯•è¿é€šæ€§å’Œä¸‹è½½é€Ÿåº¦
ğŸ”¸ ç›‘æ§ç»´æŠ¤ï¼šå®šæœŸæ£€æŸ¥é•œåƒæºçŠ¶æ€ï¼ŒåŠæ—¶åˆ‡æ¢å¼‚å¸¸æº
```

### 10.2 å…³é”®ç†è§£è¦ç‚¹



**ğŸ”¹ ä¸ºä»€ä¹ˆé•œåƒæºè¿™ä¹ˆé‡è¦**
```
ç½‘ç»œç°å®ï¼š
- å›½å¤–æœåŠ¡å™¨è·ç¦»è¿œï¼Œå»¶è¿Ÿé«˜
- å›½é™…å¸¦å®½é™åˆ¶ï¼Œé€Ÿåº¦æ…¢
- ç½‘ç»œé˜²ç«å¢™å¯èƒ½é˜»æ–­è¿æ¥

é•œåƒä»·å€¼ï¼š
- å°±è¿‘è®¿é—®ï¼Œé€Ÿåº¦æå‡10-50å€
- æœ¬åœ°åŒ–æœåŠ¡ï¼Œè¿æ¥æ›´ç¨³å®š
- é™ä½ä¸‹è½½å¤±è´¥ç‡
```

**ğŸ”¹ å¦‚ä½•é€‰æ‹©æœ€é€‚åˆçš„é•œåƒæº**
```
æŠ€æœ¯è¯„ä¼°ï¼š
âœ… åŒæ­¥é¢‘ç‡ï¼šæ¯æ—¥åŒæ­¥ä¼˜äºæ¯å‘¨åŒæ­¥
âœ… å¸¦å®½å……è¶³ï¼šæ”¯æŒé«˜é€Ÿå¹¶å‘ä¸‹è½½
âœ… ç¨³å®šå¯é ï¼š99%+å¯ç”¨æ€§ä¿è¯

åœ°åŸŸåŒ¹é…ï¼š
âœ… å°±è¿‘åŸåˆ™ï¼šé€‰æ‹©åœ°ç†ä½ç½®æœ€è¿‘çš„
âœ… è¿è¥å•†åŒ¹é…ï¼šç”µä¿¡è”é€šç§»åŠ¨é€‰å¯¹åº”ä¼˜åŒ–çš„
âœ… ç½‘ç»œè·¯å¾„ï¼špingæµ‹è¯•é€‰æ‹©å»¶è¿Ÿæœ€ä½çš„
```

### 10.3 å®é™…åº”ç”¨ä»·å€¼



**ğŸ¯ æ—¥å¸¸ä½¿ç”¨åœºæ™¯**
- **å¼€å‘ç¯å¢ƒ**ï¼šå¿«é€Ÿå®‰è£…å¼€å‘å·¥å…·å’Œä¾èµ–åº“
- **æœåŠ¡å™¨éƒ¨ç½²**ï¼šæ‰¹é‡å®‰è£…è½¯ä»¶åŒ…ï¼ŒèŠ‚çœæ—¶é—´
- **å®¹å™¨æ„å»º**ï¼šDockeré•œåƒæ‹‰å–é€Ÿåº¦æ˜¾è‘—æå‡
- **Pythonå¼€å‘**ï¼špipå®‰è£…åŒ…é€Ÿåº¦å¤§å¹…æ”¹å–„

**ğŸ› ï¸ æœ€ä½³å®è·µå»ºè®®**
```
é…ç½®ç­–ç•¥ï¼š
- å¤šé•œåƒæºé…ç½®ï¼šä¸»ç”¨+å¤‡ç”¨ï¼Œæé«˜å¯ç”¨æ€§
- å®šæœŸæµ‹é€Ÿï¼šæœˆåº¦æµ‹è¯•ï¼Œé€‰æ‹©æœ€ä¼˜é•œåƒæº
- è‡ªåŠ¨åŒ–ç®¡ç†ï¼šè„šæœ¬åŒ–é…ç½®ï¼Œå‡å°‘æ‰‹åŠ¨æ“ä½œ

ç»´æŠ¤ç­–ç•¥ï¼š
- é…ç½®å¤‡ä»½ï¼šé‡è¦é…ç½®æ–‡ä»¶åŠæ—¶å¤‡ä»½
- å¥åº·ç›‘æ§ï¼šå®šæœŸæ£€æŸ¥é•œåƒæºçŠ¶æ€
- åº”æ€¥é¢„æ¡ˆï¼šå‡†å¤‡å®˜æ–¹æºé…ç½®ï¼Œåº”å¯¹é•œåƒå¼‚å¸¸
```

### 10.4 å­¦ä¹ æ£€æŸ¥æ¸…å•



- [ ] ç†è§£é•œåƒæºçš„å·¥ä½œåŸç†å’Œä»·å€¼
- [ ] èƒ½å¤Ÿé…ç½®Ubuntu/CentOSçš„è½¯ä»¶æºé•œåƒ
- [ ] æŒæ¡Docker Hubé•œåƒåŠ é€Ÿå™¨é…ç½®
- [ ] ä¼šè®¾ç½®Python PyPIå›½å†…é•œåƒæº
- [ ] èƒ½å¤Ÿæµ‹è¯•å’Œé€‰æ‹©æœ€ä¼˜é•œåƒæº
- [ ] äº†è§£é•œåƒæºç›‘æ§å’Œæ•…éšœå¤„ç†

**ğŸ”‘ æ ¸å¿ƒè®°å¿†å£è¯€**
> é•œåƒåŠ é€Ÿé€‰å°±è¿‘ï¼Œå¤‡ä»½é…ç½®æ˜¯å…³é”®
> æµ‹é€Ÿé€‰ä¼˜è¦å®šæœŸï¼Œç›‘æ§ç»´æŠ¤ä¿ç¨³å®š
> å¤šæºé…ç½®é˜²å•ç‚¹ï¼Œè‡ªåŠ¨åŒ–ç®¡ç†æ›´é«˜æ•ˆ

**ğŸ’¡ å»¶ä¼¸å­¦ä¹ å»ºè®®**
- æ·±å…¥äº†è§£CDNå†…å®¹åˆ†å‘ç½‘ç»œåŸç†
- å­¦ä¹ ä¼ä¸šå†…éƒ¨ç§æœ‰é•œåƒä»“åº“æ­å»º
- ç ”ç©¶ç½‘ç»œä»£ç†å’ŒVPNçš„é…åˆä½¿ç”¨