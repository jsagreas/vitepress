---
title: 16ã€å®¹å™¨åŒ–WebæœåŠ¡éƒ¨ç½²
---
## ğŸ“š ç›®å½•

1. [Dockerå®¹å™¨åŒ–åŸºç¡€æ¦‚å¿µ](#1-Dockerå®¹å™¨åŒ–åŸºç¡€æ¦‚å¿µ)
2. [Dockerfileæœ€ä½³å®è·µ](#2-Dockerfileæœ€ä½³å®è·µ)
3. [å®¹å™¨ç½‘ç»œé…ç½®è¯¦è§£](#3-å®¹å™¨ç½‘ç»œé…ç½®è¯¦è§£)
4. [æ•°æ®å·æŒ‚è½½ç®¡ç†](#4-æ•°æ®å·æŒ‚è½½ç®¡ç†)
5. [Docker Composeå®¹å™¨ç¼–æ’](#5-Docker-Composeå®¹å™¨ç¼–æ’)
6. [å®¹å™¨ç›‘æ§ä¸æ—¥å¿—ç®¡ç†](#6-å®¹å™¨ç›‘æ§ä¸æ—¥å¿—ç®¡ç†)
7. [é•œåƒä¼˜åŒ–ç­–ç•¥](#7-é•œåƒä¼˜åŒ–ç­–ç•¥)
8. [å®¹å™¨å®‰å…¨é…ç½®](#8-å®¹å™¨å®‰å…¨é…ç½®)
9. [å¾®æœåŠ¡æ¶æ„é›†æˆ](#9-å¾®æœåŠ¡æ¶æ„é›†æˆ)
10. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#10-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ³ Dockerå®¹å™¨åŒ–åŸºç¡€æ¦‚å¿µ


### 1.1 ä»€ä¹ˆæ˜¯å®¹å™¨åŒ–éƒ¨ç½²


**å®¹å™¨åŒ–**å°±åƒæŠŠä½ çš„Webåº”ç”¨æ‰“åŒ…æˆä¸€ä¸ª"é›†è£…ç®±"ï¼Œè¿™ä¸ªé›†è£…ç®±é‡ŒåŒ…å«äº†åº”ç”¨è¿è¡Œæ‰€éœ€çš„ä¸€åˆ‡ï¼šä»£ç ã€è¿è¡Œç¯å¢ƒã€ç³»ç»Ÿå·¥å…·ã€åº“æ–‡ä»¶ç­‰ã€‚

```
ä¼ ç»Ÿéƒ¨ç½² vs å®¹å™¨åŒ–éƒ¨ç½²ï¼š

ä¼ ç»Ÿéƒ¨ç½²ï¼š
æœåŠ¡å™¨Aï¼šPython 2.7 + Django 1.8
æœåŠ¡å™¨Bï¼šPython 3.8 + Django 3.0  
é—®é¢˜ï¼šç¯å¢ƒä¸ä¸€è‡´ï¼Œéƒ¨ç½²å¤æ‚

å®¹å™¨åŒ–éƒ¨ç½²ï¼š
å®¹å™¨Aï¼š[åº”ç”¨ + Python 2.7 + Django 1.8]
å®¹å™¨Bï¼š[åº”ç”¨ + Python 3.8 + Django 3.0]
ä¼˜åŠ¿ï¼šç¯å¢ƒéš”ç¦»ï¼Œéƒ¨ç½²ä¸€è‡´
```

### 1.2 Dockeræ ¸å¿ƒæ¦‚å¿µè§£æ


**ğŸ”¸ é•œåƒï¼ˆImageï¼‰**
```
é•œåƒå°±æ˜¯åº”ç”¨çš„"æ¨¡æ¿"ï¼ŒåŒ…å«ï¼š
â€¢ æ“ä½œç³»ç»ŸåŸºç¡€æ–‡ä»¶
â€¢ è¿è¡Œæ—¶ç¯å¢ƒï¼ˆå¦‚Node.jsã€Pythonï¼‰
â€¢ åº”ç”¨ä»£ç å’Œä¾èµ–
â€¢ é…ç½®æ–‡ä»¶

ç±»æ¯”ï¼šé•œåƒåƒæ˜¯è½¯ä»¶å®‰è£…åŒ…ï¼Œåªè¯»ä¸å˜
```

**ğŸ”¸ å®¹å™¨ï¼ˆContainerï¼‰**
```
å®¹å™¨æ˜¯é•œåƒçš„"è¿è¡Œå®ä¾‹"ï¼š
â€¢ åŸºäºé•œåƒåˆ›å»º
â€¢ å¯è¯»å†™
â€¢ è¿›ç¨‹éš”ç¦»
â€¢ èµ„æºé™åˆ¶

ç±»æ¯”ï¼šå®¹å™¨åƒæ˜¯è¿è¡Œä¸­çš„ç¨‹åº
```

**ğŸ”¸ å®¹å™¨ä¸è™šæ‹Ÿæœºçš„åŒºåˆ«**
```
è™šæ‹Ÿæœºæ¶æ„ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    åº”ç”¨A    â”‚    åº”ç”¨B    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   Guest OS  â”‚   Guest OS  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚        è™šæ‹ŸåŒ–å±‚ï¼ˆHypervisorï¼‰ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚          Host OS            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

å®¹å™¨æ¶æ„ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    åº”ç”¨A    â”‚    åº”ç”¨B    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   Container â”‚  Container  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚        Docker Engine       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚          Host OS            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ä¼˜åŠ¿ï¼šèµ„æºå ç”¨å°‘ï¼Œå¯åŠ¨å¿«ï¼Œæ€§èƒ½å¥½
```

### 1.3 å®¹å™¨åŒ–çš„æ ¸å¿ƒä¼˜åŠ¿


**ğŸ“Š éƒ¨ç½²ä¸€è‡´æ€§**
- **å¼€å‘ç¯å¢ƒ**ï¼šåœ¨æœ¬åœ°å®¹å™¨ä¸­å¼€å‘
- **æµ‹è¯•ç¯å¢ƒ**ï¼šç›¸åŒå®¹å™¨æµ‹è¯•
- **ç”Ÿäº§ç¯å¢ƒ**ï¼šç›¸åŒå®¹å™¨éƒ¨ç½²
- **ç»“æœ**ï¼šå½»åº•è§£å†³"åœ¨æˆ‘æœºå™¨ä¸Šèƒ½è¿è¡Œ"çš„é—®é¢˜

**âš¡ å¿«é€Ÿæ‰©å±•**
```
ä¼ ç»Ÿæ‰©å±•ï¼šè´­ä¹°æœåŠ¡å™¨ â†’ å®‰è£…ç³»ç»Ÿ â†’ é…ç½®ç¯å¢ƒ â†’ éƒ¨ç½²åº”ç”¨
æ—¶é—´ï¼šæ•°å°æ—¶åˆ°æ•°å¤©

å®¹å™¨æ‰©å±•ï¼šdocker run nginx
æ—¶é—´ï¼šå‡ ç§’é’Ÿ
```

**ğŸ›¡ï¸ èµ„æºéš”ç¦»**
- **è¿›ç¨‹éš”ç¦»**ï¼šå®¹å™¨é—´äº’ä¸å¹²æ‰°
- **æ–‡ä»¶ç³»ç»Ÿéš”ç¦»**ï¼šç‹¬ç«‹çš„æ–‡ä»¶ç©ºé—´
- **ç½‘ç»œéš”ç¦»**ï¼šç‹¬ç«‹çš„ç½‘ç»œæ ˆ
- **èµ„æºé™åˆ¶**ï¼šCPUã€å†…å­˜é™åˆ¶

---

## 2. ğŸ“ Dockerfileæœ€ä½³å®è·µ


### 2.1 DockerfileåŸºç¡€è¯­æ³•


**Dockerfile**æ˜¯æ„å»ºé•œåƒçš„"é…æ–¹æ–‡ä»¶"ï¼Œå‘Šè¯‰Dockerå¦‚ä½•ä¸€æ­¥æ­¥æ„å»ºä½ çš„åº”ç”¨é•œåƒã€‚

```dockerfile
# åŸºç¡€é•œåƒé€‰æ‹©
FROM nginx:alpine

# ç»´æŠ¤è€…ä¿¡æ¯
LABEL maintainer="your-email@example.com"

# è®¾ç½®å·¥ä½œç›®å½•
WORKDIR /usr/share/nginx/html

# å¤åˆ¶æ–‡ä»¶åˆ°å®¹å™¨
COPY ./dist/ .

# æš´éœ²ç«¯å£
EXPOSE 80

# å¯åŠ¨å‘½ä»¤
CMD ["nginx", "-g", "daemon off;"]
```

### 2.2 Webåº”ç”¨Dockerfileå®ä¾‹


**ğŸŒ å‰ç«¯åº”ç”¨éƒ¨ç½²**
```dockerfile
# å¤šé˜¶æ®µæ„å»ºä¼˜åŒ–é•œåƒå¤§å°
FROM node:16-alpine AS builder

# è®¾ç½®å·¥ä½œç›®å½•
WORKDIR /app

# å¤åˆ¶ä¾èµ–æ–‡ä»¶
COPY package*.json ./

# å®‰è£…ä¾èµ–
RUN npm ci --only=production

# å¤åˆ¶æºç 
COPY . .

# æ„å»ºåº”ç”¨
RUN npm run build

# ç”Ÿäº§é˜¶æ®µ
FROM nginx:alpine

# å¤åˆ¶æ„å»ºäº§ç‰©
COPY --from=builder /app/dist /usr/share/nginx/html

# å¤åˆ¶nginxé…ç½®
COPY nginx.conf /etc/nginx/nginx.conf

EXPOSE 80
CMD ["nginx", "-g", "daemon off;"]
```

**ğŸ–¥ï¸ åç«¯APIæœåŠ¡**
```dockerfile
FROM python:3.9-slim

# å®‰è£…ç³»ç»Ÿä¾èµ–
RUN apt-get update && apt-get install -y \
    gcc \
    && rm -rf /var/lib/apt/lists/*

WORKDIR /app

# å¤åˆ¶ä¾èµ–æ–‡ä»¶
COPY requirements.txt .

# å®‰è£…Pythonä¾èµ–
RUN pip install --no-cache-dir -r requirements.txt

# å¤åˆ¶åº”ç”¨ä»£ç 
COPY . .

# åˆ›å»ºérootç”¨æˆ·
RUN useradd --create-home --shell /bin/bash app \
    && chown -R app:app /app
USER app

EXPOSE 8000

# ä½¿ç”¨gunicornå¯åŠ¨
CMD ["gunicorn", "--bind", "0.0.0.0:8000", "app:app"]
```

### 2.3 Dockerfileä¼˜åŒ–æŠ€å·§


**ğŸ“¦ å±‚çº§ä¼˜åŒ–**
```dockerfile
# âŒ é”™è¯¯å†™æ³• - é¢‘ç¹å˜åŠ¨çš„æ–‡ä»¶å…ˆå¤åˆ¶
COPY . .
RUN npm install

# âœ… æ­£ç¡®å†™æ³• - ä¾èµ–æ–‡ä»¶å…ˆå¤åˆ¶
COPY package*.json ./
RUN npm install
COPY . .

# åŸç†ï¼šDockerä½¿ç”¨å±‚çº§ç¼“å­˜ï¼Œä¾èµ–ä¸å˜æ—¶å¯å¤ç”¨ç¼“å­˜
```

**ğŸ—œï¸ é•œåƒä½“ç§¯ä¼˜åŒ–**
```dockerfile
# å¤šé˜¶æ®µæ„å»º
FROM node:16 AS builder
WORKDIR /app
COPY package*.json ./
RUN npm install
COPY . .
RUN npm run build

# æœ€å°è¿è¡Œé•œåƒ
FROM nginx:alpine
COPY --from=builder /app/dist /usr/share/nginx/html

# ä¼˜åŠ¿ï¼šæ„å»ºé•œåƒå¤§ï¼Œè¿è¡Œé•œåƒå°
```

### 2.4 å¸¸ç”¨æŒ‡ä»¤è¯¦è§£


| æŒ‡ä»¤ | **ä½œç”¨** | **ç¤ºä¾‹** | **æ³¨æ„äº‹é¡¹** |
|------|----------|----------|-------------|
| `FROM` | `æŒ‡å®šåŸºç¡€é•œåƒ` | `FROM ubuntu:20.04` | `å¿…é¡»æ˜¯ç¬¬ä¸€æ¡æŒ‡ä»¤` |
| `WORKDIR` | `è®¾ç½®å·¥ä½œç›®å½•` | `WORKDIR /app` | `ç›®å½•ä¸å­˜åœ¨ä¼šè‡ªåŠ¨åˆ›å»º` |
| `COPY` | `å¤åˆ¶æ–‡ä»¶åˆ°é•œåƒ` | `COPY . /app` | `åªèƒ½å¤åˆ¶æ„å»ºä¸Šä¸‹æ–‡ä¸­çš„æ–‡ä»¶` |
| `RUN` | `æ‰§è¡Œå‘½ä»¤` | `RUN npm install` | `æ¯ä¸ªRUNåˆ›å»ºæ–°çš„å±‚` |
| `EXPOSE` | `å£°æ˜ç«¯å£` | `EXPOSE 80` | `ä»…å£°æ˜ï¼Œä¸è‡ªåŠ¨æ˜ å°„` |
| `ENV` | `è®¾ç½®ç¯å¢ƒå˜é‡` | `ENV NODE_ENV=production` | `åœ¨è¿è¡Œæ—¶å¯ç”¨` |

---

## 3. ğŸŒ å®¹å™¨ç½‘ç»œé…ç½®è¯¦è§£


### 3.1 Dockerç½‘ç»œæ¨¡å¼


**Dockerç½‘ç»œ**è®©å®¹å™¨ä¹‹é—´ã€å®¹å™¨ä¸å¤–ç•Œèƒ½å¤Ÿç›¸äº’é€šä¿¡ï¼Œå°±åƒç»™æ¯ä¸ªå®¹å™¨åˆ†é…ç½‘ç»œåœ°å€ã€‚

```
Dockerç½‘ç»œæ¨¡å¼å¯¹æ¯”ï¼š

Bridgeï¼ˆæ¡¥æ¥ï¼‰ï¼š
å®¹å™¨A(172.17.0.2) â†â†’ Docker0 â†â†’ ä¸»æœºç½‘ç»œ
å®¹å™¨B(172.17.0.3) â†â†’ Docker0 â†â†’ å¤–éƒ¨ç½‘ç»œ
ç‰¹ç‚¹ï¼šé»˜è®¤æ¨¡å¼ï¼Œå®¹å™¨é—´å¯é€šä¿¡

Hostï¼ˆä¸»æœºï¼‰ï¼š
å®¹å™¨ = ä¸»æœºç½‘ç»œ
ç‰¹ç‚¹ï¼šæ€§èƒ½æœ€å¥½ï¼Œç«¯å£å†²çªé£é™©

Noneï¼ˆæ— ç½‘ç»œï¼‰ï¼š
å®¹å™¨ = æ— ç½‘ç»œè¿æ¥
ç‰¹ç‚¹ï¼šæœ€é«˜å®‰å…¨æ€§ï¼Œéœ€æ‰‹åŠ¨é…ç½®
```

### 3.2 åˆ›å»ºè‡ªå®šä¹‰ç½‘ç»œ


**ğŸ”— ä¸ºä»€ä¹ˆéœ€è¦è‡ªå®šä¹‰ç½‘ç»œ**
```bash
# é»˜è®¤bridgeç½‘ç»œçš„é—®é¢˜
docker run -d --name web nginx
docker run -d --name db mysql
# é—®é¢˜ï¼šåªèƒ½é€šè¿‡IPé€šä¿¡ï¼ŒIPä¼šå˜åŒ–

# è‡ªå®šä¹‰ç½‘ç»œçš„ä¼˜åŠ¿
docker network create my-network
docker run -d --name web --network my-network nginx
docker run -d --name db --network my-network mysql
# ä¼˜åŠ¿ï¼šé€šè¿‡å®¹å™¨åé€šä¿¡ï¼Œè‡ªåŠ¨DNSè§£æ
```

**ğŸ“‹ ç½‘ç»œç®¡ç†å‘½ä»¤**
```bash
# æŸ¥çœ‹ç½‘ç»œåˆ—è¡¨
docker network ls

# åˆ›å»ºç½‘ç»œ
docker network create --driver bridge my-web-network

# æŸ¥çœ‹ç½‘ç»œè¯¦æƒ…
docker network inspect my-web-network

# è¿æ¥å®¹å™¨åˆ°ç½‘ç»œ
docker network connect my-web-network container-name

# æ–­å¼€ç½‘ç»œè¿æ¥
docker network disconnect my-web-network container-name
```

### 3.3 WebæœåŠ¡ç½‘ç»œé…ç½®å®ä¾‹


**ğŸŒ å‰åç«¯åˆ†ç¦»éƒ¨ç½²**
```bash
# 1. åˆ›å»ºåº”ç”¨ç½‘ç»œ
docker network create web-app-network

# 2. å¯åŠ¨æ•°æ®åº“
docker run -d \
  --name mysql-db \
  --network web-app-network \
  -e MYSQL_ROOT_PASSWORD=secret \
  mysql:8.0

# 3. å¯åŠ¨åç«¯API
docker run -d \
  --name api-server \
  --network web-app-network \
  -e DB_HOST=mysql-db \
  my-api:latest

# 4. å¯åŠ¨å‰ç«¯åº”ç”¨
docker run -d \
  --name web-frontend \
  --network web-app-network \
  -p 80:80 \
  my-frontend:latest

# ç½‘ç»œæ‹“æ‰‘ï¼š
# å¤–éƒ¨ â†’ :80 â†’ web-frontend â†’ api-server â†’ mysql-db
```

### 3.4 ç«¯å£æ˜ å°„ä¸è´Ÿè½½å‡è¡¡


**ğŸ”Œ ç«¯å£æ˜ å°„è§„åˆ™**
```bash
# åŸºæœ¬ç«¯å£æ˜ å°„
docker run -p 8080:80 nginx  # ä¸»æœº8080 â†’ å®¹å™¨80

# æŒ‡å®šIPæ˜ å°„
docker run -p 127.0.0.1:8080:80 nginx  # åªç»‘å®šæœ¬åœ°

# å¤šç«¯å£æ˜ å°„
docker run -p 80:80 -p 443:443 nginx  # HTTP + HTTPS

# éšæœºç«¯å£
docker run -P nginx  # Dockerè‡ªåŠ¨åˆ†é…ç«¯å£
```

**âš–ï¸ å®¹å™¨è´Ÿè½½å‡è¡¡**
```bash
# ä½¿ç”¨nginxä½œä¸ºè´Ÿè½½å‡è¡¡å™¨
# nginx.confé…ç½®
upstream backend {
    server app1:8000;
    server app2:8000;
    server app3:8000;
}

server {
    listen 80;
    location / {
        proxy_pass http://backend;
    }
}
```

---

## 4. ğŸ’¾ æ•°æ®å·æŒ‚è½½ç®¡ç†


### 4.1 ä¸ºä»€ä¹ˆéœ€è¦æ•°æ®å·


**æ•°æ®æŒä¹…åŒ–é—®é¢˜**ï¼šå®¹å™¨åˆ é™¤åï¼Œå®¹å™¨å†…çš„æ•°æ®ä¹Ÿä¼šä¸¢å¤±ã€‚æ•°æ®å·å°±åƒç»™å®¹å™¨å¤–æ¥ä¸€ä¸ª"ç¡¬ç›˜"ï¼Œæ•°æ®å­˜å‚¨åœ¨å®¿ä¸»æœºä¸Šã€‚

```
æ— æ•°æ®å·ï¼š
å®¹å™¨å†…æ•°æ® â†’ å®¹å™¨åˆ é™¤ â†’ æ•°æ®ä¸¢å¤± âŒ

æœ‰æ•°æ®å·ï¼š
å®¹å™¨å†…æ•°æ® â†’ æ˜ å°„åˆ°ä¸»æœº â†’ å®¹å™¨åˆ é™¤ â†’ æ•°æ®ä¿ç•™ âœ…
```

### 4.2 æ•°æ®å·ç±»å‹è¯¦è§£


**ğŸ“ ç»‘å®šæŒ‚è½½ï¼ˆBind Mountï¼‰**
```bash
# ç›´æ¥æŒ‚è½½ä¸»æœºç›®å½•
docker run -v /host/path:/container/path nginx

# ç¤ºä¾‹ï¼šæŒ‚è½½ç½‘ç«™æ–‡ä»¶
docker run -d \
  -v /var/www/html:/usr/share/nginx/html:ro \
  -p 80:80 \
  nginx

# ç‰¹ç‚¹ï¼šç›´æ¥è®¿é—®ä¸»æœºæ–‡ä»¶ç³»ç»Ÿ
```

**ğŸ“¦ å‘½åå·ï¼ˆNamed Volumeï¼‰**
```bash
# åˆ›å»ºå‘½åå·
docker volume create web-data

# ä½¿ç”¨å‘½åå·
docker run -d \
  -v web-data:/usr/share/nginx/html \
  -p 80:80 \
  nginx

# ç‰¹ç‚¹ï¼šDockerç®¡ç†ï¼Œæ›´å®‰å…¨
```

**ğŸ”„ ä¸´æ—¶å·ï¼ˆtmpfsï¼‰**
```bash
# å†…å­˜ä¸´æ—¶å­˜å‚¨
docker run -d \
  --tmpfs /tmp:rw,noexec,nosuid,size=1g \
  nginx

# ç‰¹ç‚¹ï¼šå­˜å‚¨åœ¨å†…å­˜ï¼Œé‡å¯ä¸¢å¤±
```

### 4.3 Webåº”ç”¨æ•°æ®ç®¡ç†å®è·µ


**ğŸ—„ï¸ æ•°æ®åº“æ•°æ®æŒä¹…åŒ–**
```bash
# MySQLæ•°æ®æŒä¹…åŒ–
docker run -d \
  --name mysql-server \
  -v mysql-data:/var/lib/mysql \
  -e MYSQL_ROOT_PASSWORD=secret \
  mysql:8.0

# PostgreSQLæ•°æ®æŒä¹…åŒ–
docker run -d \
  --name postgres-server \
  -v postgres-data:/var/lib/postgresql/data \
  -e POSTGRES_PASSWORD=secret \
  postgres:13
```

**ğŸ“ æ—¥å¿—æ–‡ä»¶ç®¡ç†**
```bash
# åº”ç”¨æ—¥å¿—æŒ‚è½½
docker run -d \
  --name web-app \
  -v /var/log/myapp:/app/logs \
  -v app-config:/app/config:ro \
  my-app:latest

# æ—¥å¿—è½®è½¬é…ç½®
# /etc/logrotate.d/docker-logs
/var/log/myapp/*.log {
    daily
    rotate 7
    compress
    missingok
    notifempty
}
```

### 4.4 æ•°æ®å·æœ€ä½³å®è·µ


**ğŸ›¡ï¸ æ•°æ®å®‰å…¨ç­–ç•¥**
```bash
# åªè¯»æŒ‚è½½é…ç½®æ–‡ä»¶
docker run -v /host/config:/app/config:ro my-app

# æ•°æ®å·å¤‡ä»½
docker run --rm \
  -v mysql-data:/data \
  -v $(pwd):/backup \
  ubuntu tar czf /backup/mysql-backup.tar.gz /data

# æ•°æ®å·æ¢å¤
docker run --rm \
  -v mysql-data:/data \
  -v $(pwd):/backup \
  ubuntu tar xzf /backup/mysql-backup.tar.gz -C /
```

**ğŸ“Š å·ç®¡ç†å‘½ä»¤**
```bash
# æŸ¥çœ‹æ‰€æœ‰å·
docker volume ls

# æŸ¥çœ‹å·è¯¦æƒ…
docker volume inspect volume-name

# æ¸…ç†æœªä½¿ç”¨çš„å·
docker volume prune

# åˆ é™¤æŒ‡å®šå·
docker volume rm volume-name
```

---

## 5. ğŸ¼ Docker Composeå®¹å™¨ç¼–æ’


### 5.1 ä»€ä¹ˆæ˜¯å®¹å™¨ç¼–æ’


**å®¹å™¨ç¼–æ’**å°±åƒæŒ‡æŒ¥ä¸€ä¸ªä¹é˜Ÿï¼Œè®©å¤šä¸ªå®¹å™¨åè°ƒå·¥ä½œã€‚å•ä¸ªå®¹å™¨åƒç‹¬å¥ï¼Œç¼–æ’è®©å®ƒä»¬å˜æˆäº¤å“ä¹ã€‚

```
å•å®¹å™¨éƒ¨ç½²ï¼š
docker run -d nginx
docker run -d mysql
docker run -d redis
# é—®é¢˜ï¼šå‘½ä»¤å¤æ‚ï¼Œä¾èµ–å…³ç³»éš¾ç®¡ç†

Docker Composeç¼–æ’ï¼š
docker-compose up
# ä¼˜åŠ¿ï¼šä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼Œä¸€æ¡å‘½ä»¤å¯åŠ¨æ•´ä¸ªåº”ç”¨æ ˆ
```

### 5.2 Docker Composeé…ç½®åŸºç¡€


**ğŸ“„ docker-compose.ymlç»“æ„**
```yaml
version: '3.8'

services:
  # æœåŠ¡å®šä¹‰
  web:
    image: nginx:alpine
    ports:
      - "80:80"
    
  app:
    build: .
    depends_on:
      - db
    
  db:
    image: mysql:8.0
    environment:
      MYSQL_ROOT_PASSWORD: secret

networks:
  # ç½‘ç»œå®šä¹‰
  default:
    driver: bridge

volumes:
  # å·å®šä¹‰
  db-data:
    driver: local
```

### 5.3 å®Œæ•´Webåº”ç”¨ç¼–æ’å®ä¾‹


**ğŸŒ LNMPæ¶æ„éƒ¨ç½²**
```yaml
version: '3.8'

services:
  # Nginx WebæœåŠ¡å™¨
  nginx:
    image: nginx:alpine
    container_name: web-nginx
    ports:
      - "80:80"
      - "443:443"
    volumes:
      - ./nginx/conf.d:/etc/nginx/conf.d:ro
      - ./webapp:/var/www/html:ro
      - nginx-logs:/var/log/nginx
    depends_on:
      - php
    networks:
      - web-network
    restart: unless-stopped

  # PHPåº”ç”¨æœåŠ¡å™¨
  php:
    build: 
      context: ./php
      dockerfile: Dockerfile
    container_name: web-php
    volumes:
      - ./webapp:/var/www/html
      - php-logs:/var/log/php
    depends_on:
      - mysql
      - redis
    networks:
      - web-network
    environment:
      - DB_HOST=mysql
      - REDIS_HOST=redis
    restart: unless-stopped

  # MySQLæ•°æ®åº“
  mysql:
    image: mysql:8.0
    container_name: web-mysql
    volumes:
      - mysql-data:/var/lib/mysql
      - ./mysql/conf.d:/etc/mysql/conf.d:ro
    environment:
      MYSQL_ROOT_PASSWORD: ${DB_ROOT_PASSWORD}
      MYSQL_DATABASE: ${DB_NAME}
      MYSQL_USER: ${DB_USER}
      MYSQL_PASSWORD: ${DB_PASSWORD}
    networks:
      - web-network
    restart: unless-stopped

  # Redisç¼“å­˜
  redis:
    image: redis:alpine
    container_name: web-redis
    volumes:
      - redis-data:/data
    networks:
      - web-network
    restart: unless-stopped

networks:
  web-network:
    driver: bridge

volumes:
  mysql-data:
  redis-data:
  nginx-logs:
  php-logs:
```

### 5.4 ç¯å¢ƒå˜é‡ç®¡ç†


**ğŸ” .envæ–‡ä»¶é…ç½®**
```bash
# .envæ–‡ä»¶
DB_ROOT_PASSWORD=super_secret_password
DB_NAME=webapp
DB_USER=webuser
DB_PASSWORD=web_password

# åº”ç”¨é…ç½®
APP_ENV=production
APP_DEBUG=false
APP_URL=https://example.com
```

**ğŸ“‹ Composeå¸¸ç”¨å‘½ä»¤**
```bash
# å¯åŠ¨æ‰€æœ‰æœåŠ¡
docker-compose up -d

# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
docker-compose ps

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f web

# é‡å¯æœåŠ¡
docker-compose restart nginx

# åœæ­¢å¹¶åˆ é™¤
docker-compose down

# é‡æ–°æ„å»º
docker-compose build --no-cache

# æ‰©å±•æœåŠ¡
docker-compose up --scale web=3
```

---

## 6. ğŸ“Š å®¹å™¨ç›‘æ§ä¸æ—¥å¿—ç®¡ç†


### 6.1 å®¹å™¨ç›‘æ§çš„é‡è¦æ€§


**ä¸ºä»€ä¹ˆè¦ç›‘æ§å®¹å™¨**ï¼šå®¹å™¨æ˜¯"é»‘ç›’"ï¼Œéœ€è¦ç›‘æ§æ‰èƒ½äº†è§£å†…éƒ¨è¿è¡ŒçŠ¶å†µï¼ŒåŠæ—¶å‘ç°é—®é¢˜ã€‚

```
ç›‘æ§ç»´åº¦ï¼š
â”Œâ”€ èµ„æºä½¿ç”¨ â”€ CPUã€å†…å­˜ã€ç£ç›˜ã€ç½‘ç»œ
â”œâ”€ åº”ç”¨æ€§èƒ½ â”€ å“åº”æ—¶é—´ã€ååé‡ã€é”™è¯¯ç‡  
â”œâ”€ å®¹å™¨çŠ¶æ€ â”€ è¿è¡ŒçŠ¶æ€ã€é‡å¯æ¬¡æ•°
â””â”€ ä¸šåŠ¡æŒ‡æ ‡ â”€ ç”¨æˆ·æ•°ã€è®¢å•é‡ã€ä¸šåŠ¡KPI
```

### 6.2 åŸºç¡€ç›‘æ§å‘½ä»¤


**ğŸ“ˆ èµ„æºç›‘æ§å‘½ä»¤**
```bash
# æŸ¥çœ‹å®¹å™¨èµ„æºä½¿ç”¨
docker stats

# æŸ¥çœ‹ç‰¹å®šå®¹å™¨
docker stats container-name

# è¾“å‡ºæ ¼å¼åŒ–
docker stats --format "table {{.Container}}\t{{.CPUPerc}}\t{{.MemUsage}}"

# å®æ—¶æ—¥å¿—æŸ¥çœ‹
docker logs -f --tail 100 container-name

# å®¹å™¨è¿›ç¨‹æŸ¥çœ‹
docker top container-name
```

### 6.3 ç›‘æ§ç³»ç»Ÿæ­å»º


**ğŸ“Š Prometheus + Grafanaç›‘æ§æ ˆ**
```yaml
version: '3.8'

services:
  # Prometheusç›‘æ§æ•°æ®åº“
  prometheus:
    image: prom/prometheus:latest
    container_name: prometheus
    ports:
      - "9090:9090"
    volumes:
      - ./prometheus:/etc/prometheus
      - prometheus-data:/prometheus
    command:
      - '--config.file=/etc/prometheus/prometheus.yml'
      - '--storage.tsdb.path=/prometheus'

  # Grafanaå¯è§†åŒ–é¢æ¿
  grafana:
    image: grafana/grafana:latest
    container_name: grafana
    ports:
      - "3000:3000"
    volumes:
      - grafana-data:/var/lib/grafana
    environment:
      - GF_SECURITY_ADMIN_PASSWORD=admin

  # cAdvisorå®¹å™¨ç›‘æ§
  cadvisor:
    image: gcr.io/cadvisor/cadvisor:latest
    container_name: cadvisor
    ports:
      - "8080:8080"
    volumes:
      - /:/rootfs:ro
      - /var/run:/var/run:ro
      - /sys:/sys:ro
      - /var/lib/docker/:/var/lib/docker:ro

volumes:
  prometheus-data:
  grafana-data:
```

### 6.4 æ—¥å¿—ç®¡ç†ç­–ç•¥


**ğŸ“ æ—¥å¿—æ”¶é›†æ¶æ„**
```yaml
# ELKæ—¥å¿—æ ˆ
version: '3.8'

services:
  # Elasticsearchå­˜å‚¨
  elasticsearch:
    image: docker.elastic.co/elasticsearch/elasticsearch:7.14.0
    environment:
      - discovery.type=single-node
      - "ES_JAVA_OPTS=-Xms512m -Xmx512m"
    volumes:
      - es-data:/usr/share/elasticsearch/data

  # Logstashå¤„ç†
  logstash:
    image: docker.elastic.co/logstash/logstash:7.14.0
    volumes:
      - ./logstash/config:/usr/share/logstash/pipeline
    depends_on:
      - elasticsearch

  # Kibanaå¯è§†åŒ–
  kibana:
    image: docker.elastic.co/kibana/kibana:7.14.0
    ports:
      - "5601:5601"
    depends_on:
      - elasticsearch

volumes:
  es-data:
```

**ğŸ”„ æ—¥å¿—è½®è½¬é…ç½®**
```json
# /etc/docker/daemon.json
{
  "log-driver": "json-file",
  "log-opts": {
    "max-size": "10m",
    "max-file": "3"
  }
}
```

---

## 7. ğŸ¯ é•œåƒä¼˜åŒ–ç­–ç•¥


### 7.1 é•œåƒä½“ç§¯ä¼˜åŒ–


**ä¸ºä»€ä¹ˆè¦ä¼˜åŒ–é•œåƒ**ï¼šé•œåƒè¶Šå°ï¼Œä¸‹è½½è¶Šå¿«ï¼Œå­˜å‚¨æˆæœ¬è¶Šä½ï¼Œå®‰å…¨æ¼æ´è¶Šå°‘ã€‚

**ğŸ—œï¸ å¤šé˜¶æ®µæ„å»º**
```dockerfile
# æ„å»ºé˜¶æ®µ - åŒ…å«æ„å»ºå·¥å…·
FROM node:16 AS builder
WORKDIR /app
COPY package*.json ./
RUN npm ci --only=production
COPY . .
RUN npm run build

# è¿è¡Œé˜¶æ®µ - åªåŒ…å«è¿è¡Œæ—¶
FROM nginx:alpine
COPY --from=builder /app/dist /usr/share/nginx/html
# ç»“æœï¼šæ„å»ºé•œåƒ1GBï¼Œè¿è¡Œé•œåƒ50MB
```

**ğŸ“¦ åŸºç¡€é•œåƒé€‰æ‹©**
```bash
# é•œåƒå¤§å°å¯¹æ¯”
ubuntu:20.04        # ~72MB
alpine:3.14         # ~5MB
scratch             # ~0MB (ç©ºé•œåƒ)

# æ¨èé€‰æ‹©
FROM node:16-alpine   # è€Œä¸æ˜¯ node:16
FROM python:3.9-slim  # è€Œä¸æ˜¯ python:3.9
```

### 7.2 å±‚çº§ä¼˜åŒ–æŠ€å·§


**ğŸ”„ åˆå¹¶RUNæŒ‡ä»¤**
```dockerfile
# âŒ é”™è¯¯å†™æ³• - å¤šä¸ªå±‚
RUN apt-get update
RUN apt-get install -y curl
RUN apt-get install -y git
RUN rm -rf /var/lib/apt/lists/*

# âœ… æ­£ç¡®å†™æ³• - å•ä¸ªå±‚
RUN apt-get update && \
    apt-get install -y curl git && \
    rm -rf /var/lib/apt/lists/*
```

**ğŸ“‚ .dockerignoreä¼˜åŒ–**
```bash
# .dockerignoreæ–‡ä»¶
node_modules
npm-debug.log
.git
.gitignore
README.md
.env
.nyc_output
coverage
.nyc_output
*.log

# æ•ˆæœï¼šå‡å°‘æ„å»ºä¸Šä¸‹æ–‡ï¼ŒåŠ å¿«æ„å»ºé€Ÿåº¦
```

### 7.3 ç¼“å­˜ä¼˜åŒ–ç­–ç•¥


**âš¡ ä¾èµ–ç¼“å­˜ä¼˜åŒ–**
```dockerfile
# âœ… ä¾èµ–ä¼˜å…ˆå¤åˆ¶
COPY package.json package-lock.json ./
RUN npm ci --only=production

# åå¤åˆ¶æºç 
COPY . .

# åŸç†ï¼šä¾èµ–ä¸å˜æ—¶å¤ç”¨ç¼“å­˜å±‚
```

**ğŸ·ï¸ é•œåƒæ ‡ç­¾ç®¡ç†**
```bash
# è¯­ä¹‰åŒ–ç‰ˆæœ¬æ ‡ç­¾
docker build -t myapp:1.2.3 .
docker build -t myapp:1.2 .
docker build -t myapp:1 .
docker build -t myapp:latest .

# ç¯å¢ƒæ ‡ç­¾
docker build -t myapp:dev .
docker build -t myapp:staging .
docker build -t myapp:prod .
```

---

## 8. ğŸ”’ å®¹å™¨å®‰å…¨é…ç½®


### 8.1 å®¹å™¨å®‰å…¨åŸºç¡€


**å®‰å…¨å¨èƒæ¨¡å‹**ï¼šå®¹å™¨å…±äº«ä¸»æœºå†…æ ¸ï¼Œéœ€è¦é˜²æ­¢å®¹å™¨é€ƒé€¸ã€æƒé™æå‡ç­‰å®‰å…¨é£é™©ã€‚

```
å®‰å…¨å±‚çº§ï¼š
â”Œâ”€ é•œåƒå®‰å…¨ â”€ åŸºç¡€é•œåƒæ¼æ´ã€æ¶æ„ä»£ç 
â”œâ”€ è¿è¡Œæ—¶å®‰å…¨ â”€ æƒé™æ§åˆ¶ã€èµ„æºé™åˆ¶
â”œâ”€ ç½‘ç»œå®‰å…¨ â”€ ç½‘ç»œéš”ç¦»ã€åŠ å¯†é€šä¿¡
â””â”€ ä¸»æœºå®‰å…¨ â”€ ä¸»æœºåŠ å›ºã€è®¿é—®æ§åˆ¶
```

### 8.2 å®‰å…¨é…ç½®å®è·µ


**ğŸ‘¤ ç”¨æˆ·æƒé™æ§åˆ¶**
```dockerfile
# åˆ›å»ºérootç”¨æˆ·
RUN useradd --create-home --shell /bin/bash app && \
    chown -R app:app /app

# åˆ‡æ¢åˆ°érootç”¨æˆ·
USER app

# åªè¯»æ–‡ä»¶ç³»ç»Ÿ
docker run --read-only -v /tmp:/tmp:rw myapp
```

**ğŸ›¡ï¸ èµ„æºé™åˆ¶**
```bash
# CPUé™åˆ¶
docker run --cpus="1.5" myapp

# å†…å­˜é™åˆ¶  
docker run --memory="512m" myapp

# ç»¼åˆé™åˆ¶
docker run \
  --cpus="1.0" \
  --memory="512m" \
  --memory-swap="1g" \
  --restart=unless-stopped \
  myapp
```

### 8.3 ç½‘ç»œå®‰å…¨é…ç½®


**ğŸ” ç½‘ç»œéš”ç¦»**
```yaml
# docker-compose.yml
version: '3.8'

services:
  web:
    image: nginx
    networks:
      - frontend
      
  app:
    image: myapp
    networks:
      - frontend
      - backend
      
  db:
    image: mysql
    networks:
      - backend  # æ•°æ®åº“ä¸ç›´æ¥æš´éœ²ç»™å‰ç«¯

networks:
  frontend:
    driver: bridge
  backend:
    driver: bridge
    internal: true  # å†…éƒ¨ç½‘ç»œï¼Œä¸èƒ½è®¿é—®å¤–ç½‘
```

**ğŸ”‘ å¯†é’¥ç®¡ç†**
```bash
# Docker Secrets
echo "mysecretpassword" | docker secret create db_password -

# åœ¨æœåŠ¡ä¸­ä½¿ç”¨
docker service create \
  --name myapp \
  --secret db_password \
  myapp:latest
```

### 8.4 é•œåƒå®‰å…¨æ‰«æ


**ğŸ” æ¼æ´æ‰«æå·¥å…·**
```bash
# ä½¿ç”¨Trivyæ‰«æé•œåƒ
trivy image nginx:latest

# ä½¿ç”¨Docker Scout
docker scout cves nginx:latest

# æ‰«æç»“æœç¤ºä¾‹
HIGH: CVE-2021-12345
Package: openssl
Version: 1.1.1
Fixed: 1.1.1k

# å®‰å…¨åŸºçº¿æ£€æŸ¥
docker run --rm -it \
  -v /var/run/docker.sock:/var/run/docker.sock \
  docker/docker-bench-security
```

---

## 9. ğŸ—ï¸ å¾®æœåŠ¡æ¶æ„é›†æˆ


### 9.1 å¾®æœåŠ¡å®¹å™¨åŒ–åŸåˆ™


**å¾®æœåŠ¡**å°±æ˜¯æŠŠå¤§åº”ç”¨æ‹†åˆ†æˆå¤šä¸ªå°æœåŠ¡ï¼Œæ¯ä¸ªæœåŠ¡ç‹¬ç«‹éƒ¨ç½²åœ¨å®¹å™¨ä¸­ã€‚

```
å•ä½“æ¶æ„ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         å•ä¸€åº”ç”¨                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ç”¨æˆ· â”‚è®¢å• â”‚æ”¯ä»˜ â”‚åº“å­˜ â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”˜      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

å¾®æœåŠ¡æ¶æ„ï¼š
â”Œâ”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”
â”‚ç”¨æˆ· â”‚  â”‚è®¢å• â”‚  â”‚æ”¯ä»˜ â”‚  â”‚åº“å­˜ â”‚
â”‚æœåŠ¡ â”‚  â”‚æœåŠ¡ â”‚  â”‚æœåŠ¡ â”‚  â”‚æœåŠ¡ â”‚
â””â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”˜

ä¼˜åŠ¿ï¼šç‹¬ç«‹å¼€å‘ã€ç‹¬ç«‹éƒ¨ç½²ã€æŠ€æœ¯æ ˆå¤šæ ·åŒ–
```

### 9.2 æœåŠ¡å‘ç°ä¸é…ç½®


**ğŸ” æœåŠ¡å‘ç°æœºåˆ¶**
```yaml
# ä½¿ç”¨Consulè¿›è¡ŒæœåŠ¡å‘ç°
version: '3.8'

services:
  consul:
    image: consul:latest
    ports:
      - "8500:8500"
    command: agent -server -ui -bootstrap-expect=1 -client=0.0.0.0

  user-service:
    image: user-service:latest
    environment:
      - CONSUL_HOST=consul
      - SERVICE_NAME=user-service
    depends_on:
      - consul

  order-service:
    image: order-service:latest
    environment:
      - CONSUL_HOST=consul
      - SERVICE_NAME=order-service
    depends_on:
      - consul
```

### 9.3 APIç½‘å…³é…ç½®


**ğŸšª ç»Ÿä¸€å…¥å£ç®¡ç†**
```yaml
# Nginxä½œä¸ºAPIç½‘å…³
version: '3.8'

services:
  api-gateway:
    image: nginx:alpine
    ports:
      - "80:80"
    volumes:
      - ./nginx/nginx.conf:/etc/nginx/nginx.conf
    depends_on:
      - user-service
      - order-service

  user-service:
    image: user-service:latest
    deploy:
      replicas: 3

  order-service:
    image: order-service:latest
    deploy:
      replicas: 2
```

**nginx.confé…ç½®**
```nginx
upstream user-service {
    server user-service_1:8080;
    server user-service_2:8080;
    server user-service_3:8080;
}

upstream order-service {
    server order-service_1:8080;
    server order-service_2:8080;
}

server {
    listen 80;
    
    location /api/users/ {
        proxy_pass http://user-service/;
    }
    
    location /api/orders/ {
        proxy_pass http://order-service/;
    }
}
```

### 9.4 åˆ†å¸ƒå¼è·Ÿè¸ª


**ğŸ”— é“¾è·¯è¿½è¸ªç³»ç»Ÿ**
```yaml
# Jaegeråˆ†å¸ƒå¼è·Ÿè¸ª
version: '3.8'

services:
  jaeger:
    image: jaegertracing/all-in-one:latest
    ports:
      - "16686:16686"
      - "14268:14268"
    environment:
      - COLLECTOR_OTLP_ENABLED=true

  user-service:
    image: user-service:latest
    environment:
      - JAEGER_AGENT_HOST=jaeger
      - JAEGER_AGENT_PORT=6831
    depends_on:
      - jaeger
```

---

## 10. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 10.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ å®¹å™¨åŒ–åŸºç¡€ï¼šé•œåƒã€å®¹å™¨ã€ä»“åº“çš„æ¦‚å¿µå’Œå…³ç³»
ğŸ”¸ Dockerfileç¼–å†™ï¼šå¤šé˜¶æ®µæ„å»ºã€å±‚çº§ä¼˜åŒ–ã€æœ€ä½³å®è·µ
ğŸ”¸ ç½‘ç»œé…ç½®ï¼šè‡ªå®šä¹‰ç½‘ç»œã€ç«¯å£æ˜ å°„ã€æœåŠ¡å‘ç°
ğŸ”¸ æ•°æ®ç®¡ç†ï¼šå·æŒ‚è½½ã€æ•°æ®æŒä¹…åŒ–ã€å¤‡ä»½æ¢å¤
ğŸ”¸ æœåŠ¡ç¼–æ’ï¼šDocker Composeã€ç¯å¢ƒç®¡ç†ã€ä¾èµ–å…³ç³»
ğŸ”¸ ç›‘æ§è¿ç»´ï¼šèµ„æºç›‘æ§ã€æ—¥å¿—ç®¡ç†ã€æ€§èƒ½è°ƒä¼˜
ğŸ”¸ å®‰å…¨é…ç½®ï¼šæƒé™æ§åˆ¶ã€ç½‘ç»œéš”ç¦»ã€æ¼æ´æ‰«æ
ğŸ”¸ å¾®æœåŠ¡é›†æˆï¼šæœåŠ¡å‘ç°ã€APIç½‘å…³ã€åˆ†å¸ƒå¼è·Ÿè¸ª
```

### 10.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ å®¹å™¨åŒ–çš„æœ¬è´¨ä»·å€¼**
```
ä¸€è‡´æ€§ï¼šå¼€å‘ã€æµ‹è¯•ã€ç”Ÿäº§ç¯å¢ƒå®Œå…¨ä¸€è‡´
è½»é‡åŒ–ï¼šç›¸æ¯”è™šæ‹Ÿæœºï¼Œèµ„æºå ç”¨å°‘ï¼Œå¯åŠ¨å¿«
å¯ç§»æ¤ï¼šè·¨å¹³å°è¿è¡Œï¼ŒåŸºç¡€è®¾æ–½æ— å…³
å¯æ‰©å±•ï¼šå¿«é€Ÿæ°´å¹³æ‰©å±•ï¼Œé€‚åº”æµé‡å˜åŒ–
```

**ğŸ”¹ ç”Ÿäº§ç¯å¢ƒæœ€ä½³å®è·µ**
```
é•œåƒä¼˜åŒ–ï¼šé€‰æ‹©åˆé€‚åŸºç¡€é•œåƒï¼Œå‡å°‘å±‚æ•°ï¼Œæ¸…ç†ç¼“å­˜
å®‰å…¨åŠ å›ºï¼šérootç”¨æˆ·è¿è¡Œï¼Œèµ„æºé™åˆ¶ï¼Œå®šæœŸæ‰«æ
ç›‘æ§å‘Šè­¦ï¼šå®Œå–„ç›‘æ§ä½“ç³»ï¼ŒåŠæ—¶å‘ç°å’Œå¤„ç†é—®é¢˜
æ•°æ®ä¿æŠ¤ï¼šé‡è¦æ•°æ®æŒä¹…åŒ–ï¼Œå®šæœŸå¤‡ä»½ï¼Œç¾éš¾æ¢å¤
```

**ğŸ”¹ å¾®æœåŠ¡æ¶æ„è¦ç‚¹**
```
æœåŠ¡æ‹†åˆ†ï¼šæŒ‰ä¸šåŠ¡é¢†åŸŸæ‹†åˆ†ï¼Œä¿æŒå•ä¸€èŒè´£
é€šä¿¡æœºåˆ¶ï¼šRESTful APIã€æ¶ˆæ¯é˜Ÿåˆ—ã€RPC
æ•°æ®ä¸€è‡´æ€§ï¼šåˆ†å¸ƒå¼äº‹åŠ¡ã€æœ€ç»ˆä¸€è‡´æ€§
è¿ç»´ç®¡ç†ï¼šç»Ÿä¸€æ—¥å¿—ã€é“¾è·¯è·Ÿè¸ªã€æœåŠ¡æ²»ç†
```

### 10.3 å®é™…åº”ç”¨åœºæ™¯


- **å¼€å‘ç¯å¢ƒ**ï¼šå¿«é€Ÿæ­å»ºå¼€å‘ç¯å¢ƒï¼Œç‰ˆæœ¬ç®¡ç†
- **æµ‹è¯•ç¯å¢ƒ**ï¼šè‡ªåŠ¨åŒ–æµ‹è¯•ã€ç¯å¢ƒä¸€è‡´æ€§ä¿è¯
- **ç”Ÿäº§éƒ¨ç½²**ï¼šè“ç»¿éƒ¨ç½²ã€æ»šåŠ¨æ›´æ–°ã€è‡ªåŠ¨æ‰©ç¼©å®¹
- **å¾®æœåŠ¡æ¶æ„**ï¼šæœåŠ¡æ²»ç†ã€APIç½‘å…³ã€åˆ†å¸ƒå¼ç›‘æ§
- **DevOpsæµæ°´çº¿**ï¼šCI/CDé›†æˆã€è‡ªåŠ¨åŒ–éƒ¨ç½²

### 10.4 æ•…éšœæ’æŸ¥ä¸ä¼˜åŒ–


**ğŸ”§ å¸¸è§é—®é¢˜è¯Šæ–­**
```bash
# å®¹å™¨å¯åŠ¨å¤±è´¥
docker logs container-name
docker events --filter container=container-name

# æ€§èƒ½é—®é¢˜æ’æŸ¥
docker stats --no-stream
docker exec -it container-name top

# ç½‘ç»œè¿é€šæ€§æµ‹è¯•
docker exec -it container-name ping target-host
docker network inspect network-name
```

**âš¡ æ€§èƒ½ä¼˜åŒ–ç­–ç•¥**
```
é•œåƒä¼˜åŒ–ï¼šå‡å°‘é•œåƒå¤§å°ï¼Œä½¿ç”¨å¤šé˜¶æ®µæ„å»º
èµ„æºé…ç½®ï¼šåˆç†è®¾ç½®CPUã€å†…å­˜é™åˆ¶
ç½‘ç»œä¼˜åŒ–ï¼šä½¿ç”¨è‡ªå®šä¹‰ç½‘ç»œï¼Œå‡å°‘è·¨ä¸»æœºé€šä¿¡
å­˜å‚¨ä¼˜åŒ–ï¼šé€‰æ‹©åˆé€‚çš„å­˜å‚¨é©±åŠ¨ï¼Œä¼˜åŒ–IOæ€§èƒ½
```

**æ ¸å¿ƒè®°å¿†**ï¼š
- å®¹å™¨åŒ–è§£å†³ç¯å¢ƒä¸€è‡´æ€§ï¼ŒDockeræä¾›å®Œæ•´å·¥å…·é“¾
- Dockerfileæ˜¯æ„å»ºé…æ–¹ï¼Œåˆ†å±‚æ„å»ºæ”¯æŒç¼“å­˜ä¼˜åŒ–
- ç½‘ç»œå’Œå­˜å‚¨æ˜¯å®¹å™¨é€šä¿¡å’Œæ•°æ®çš„åŸºç¡€è®¾æ–½
- ç¼–æ’å·¥å…·ç®€åŒ–å¤šå®¹å™¨ç®¡ç†ï¼Œé€‚åˆå¤æ‚åº”ç”¨éƒ¨ç½²
- ç›‘æ§å’Œå®‰å…¨æ˜¯ç”Ÿäº§ç¯å¢ƒçš„å¿…å¤‡è¦ç´ 
- å¾®æœåŠ¡æ¶æ„éœ€è¦å®Œå–„çš„æœåŠ¡æ²»ç†ä½“ç³»