---
title: 12ã€PowerDNSæœåŠ¡å™¨é…ç½®
---
## ğŸ“š ç›®å½•

1. [PowerDNSåŸºç¡€æ¦‚å¿µä¸æ¶æ„](#1-PowerDNSåŸºç¡€æ¦‚å¿µä¸æ¶æ„)
2. [PowerDNS Authoritativeæƒå¨æœåŠ¡å™¨](#2-PowerDNS-Authoritativeæƒå¨æœåŠ¡å™¨)
3. [PowerDNS Recursoré€’å½’æœåŠ¡å™¨](#3-PowerDNS-Recursoré€’å½’æœåŠ¡å™¨)
4. [åç«¯æ•°æ®åº“é…ç½®](#4-åç«¯æ•°æ®åº“é…ç½®)
5. [RESTful APIæ¥å£ä½¿ç”¨](#5-RESTful-APIæ¥å£ä½¿ç”¨)
6. [PowerAdmin Webç®¡ç†ç•Œé¢](#6-PowerAdmin-Webç®¡ç†ç•Œé¢)
7. [ä¸BINDé…ç½®å·®å¼‚å¯¹æ¯”](#7-ä¸BINDé…ç½®å·®å¼‚å¯¹æ¯”)
8. [PowerDNSæ€§èƒ½è°ƒä¼˜](#8-PowerDNSæ€§èƒ½è°ƒä¼˜)
9. [è¿ç§»ç­–ç•¥ä¸æ•°æ®åŒæ­¥](#9-è¿ç§»ç­–ç•¥ä¸æ•°æ®åŒæ­¥)
10. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#10-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸŒ PowerDNSåŸºç¡€æ¦‚å¿µä¸æ¶æ„


### 1.1 ä»€ä¹ˆæ˜¯PowerDNS


**é€šä¿—ç†è§£**ï¼šPowerDNSå°±åƒä¸€ä¸ªç°ä»£åŒ–çš„"ç”µè¯ç°¿æŸ¥è¯¢ç³»ç»Ÿ"ï¼Œä½†æ¯”ä¼ ç»Ÿçš„BINDæ›´çµæ´»ã€æ›´æ˜“ç®¡ç†ã€‚

æƒ³è±¡ä¸€ä¸‹ï¼š
- **BIND**ï¼šå°±åƒä¼ ç»Ÿçš„çº¸è´¨ç”µè¯ç°¿ï¼Œä¿¡æ¯å­˜åœ¨æ–‡æœ¬æ–‡ä»¶é‡Œ
- **PowerDNS**ï¼šå°±åƒæ™ºèƒ½æ‰‹æœºé€šè®¯å½•ï¼Œä¿¡æ¯å­˜åœ¨æ•°æ®åº“é‡Œï¼Œè¿˜èƒ½é€šè¿‡APPç®¡ç†

**ğŸ”¸ PowerDNSçš„æ ¸å¿ƒç‰¹ç‚¹**
- **æ•°æ®åº“é©±åŠ¨**ï¼šDNSè®°å½•å­˜å‚¨åœ¨æ•°æ®åº“ä¸­ï¼Œè€Œä¸æ˜¯æ–‡æœ¬æ–‡ä»¶
- **æ¨¡å—åŒ–è®¾è®¡**ï¼šæƒå¨æœåŠ¡å™¨å’Œé€’å½’æœåŠ¡å™¨æ˜¯ç‹¬ç«‹çš„ç¨‹åº
- **APIå‹å¥½**ï¼šæä¾›RESTful APIï¼Œä¾¿äºè‡ªåŠ¨åŒ–ç®¡ç†
- **Webç•Œé¢**ï¼šæ”¯æŒå›¾å½¢åŒ–ç®¡ç†ç•Œé¢
- **é«˜æ€§èƒ½**ï¼šé’ˆå¯¹ç°ä»£ç¡¬ä»¶ä¼˜åŒ–ï¼Œæ€§èƒ½å“è¶Š

### 1.2 PowerDNSæ¶æ„ç»„æˆ


**ğŸ—ï¸ æ ¸å¿ƒç»„ä»¶æ¶æ„**
```
PowerDNSç”Ÿæ€ç³»ç»Ÿï¼š

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PowerDNS       â”‚    â”‚  PowerDNS       â”‚    â”‚  PowerAdmin     â”‚
â”‚  Authoritative  â”‚    â”‚  Recursor       â”‚    â”‚  Web Interface  â”‚
â”‚  (æƒå¨æœåŠ¡å™¨)    â”‚    â”‚  (é€’å½’æœåŠ¡å™¨)    â”‚    â”‚  (ç®¡ç†ç•Œé¢)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“                       â†“                       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Backend       â”‚    â”‚   Cache         â”‚    â”‚   HTTP API      â”‚
â”‚   Database      â”‚    â”‚   Storage       â”‚    â”‚   Interface     â”‚
â”‚ (MySQL/PgSQL)   â”‚    â”‚                 â”‚    â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ğŸ’¡ ç»„ä»¶åŠŸèƒ½è¯´æ˜**
- **Authoritative**ï¼šè´Ÿè´£å¯¹å¤–æä¾›æƒå¨DNSè§£æ
- **Recursor**ï¼šè´Ÿè´£é€’å½’æŸ¥è¯¢ï¼Œä¸ºå®¢æˆ·ç«¯æŸ¥æ‰¾ç­”æ¡ˆ
- **Backend Database**ï¼šå­˜å‚¨DNSè®°å½•çš„æ•°æ®åº“
- **PowerAdmin**ï¼šåŸºäºWebçš„ç®¡ç†ç•Œé¢
- **API**ï¼šRESTfulæ¥å£ï¼Œæ”¯æŒç¼–ç¨‹ç®¡ç†

### 1.3 PowerDNS vs BINDå¯¹æ¯”


| ç‰¹æ€§å¯¹æ¯” | **PowerDNS** | **BIND** | **è¯´æ˜** |
|---------|-------------|----------|----------|
| **æ•°æ®å­˜å‚¨** | `æ•°æ®åº“` | `æ–‡æœ¬æ–‡ä»¶` | `PowerDNSæ›´ä¾¿äºç®¡ç†å¤§é‡è®°å½•` |
| **é…ç½®æ–¹å¼** | `æ•°æ®åº“+é…ç½®æ–‡ä»¶` | `é…ç½®æ–‡ä»¶` | `PowerDNSæ”¯æŒåŠ¨æ€é…ç½®` |
| **Webç•Œé¢** | `åŸç”Ÿæ”¯æŒ` | `éœ€ç¬¬ä¸‰æ–¹` | `PowerDNSç®¡ç†æ›´å‹å¥½` |
| **APIæ”¯æŒ** | `å†…ç½®RESTful API` | `æ— ` | `PowerDNSæ›´é€‚åˆè‡ªåŠ¨åŒ–` |
| **æ€§èƒ½** | `é«˜æ€§èƒ½` | `ç¨³å®šå¯é ` | `å„æœ‰ä¼˜åŠ¿` |
| **å­¦ä¹ æˆæœ¬** | `ä¸­ç­‰` | `è¾ƒé«˜` | `PowerDNSç›¸å¯¹å®¹æ˜“ä¸Šæ‰‹` |

**ğŸ¯ é€‰æ‹©å»ºè®®**
- **é€‰PowerDNSçš„åœºæ™¯**ï¼šéœ€è¦Webç®¡ç†ã€APIé›†æˆã€å¤§é‡åŸŸåç®¡ç†
- **é€‰BINDçš„åœºæ™¯**ï¼šä¼ ç»Ÿç¯å¢ƒã€å¯¹ç¨³å®šæ€§è¦æ±‚æé«˜ã€å·²æœ‰BINDç»éªŒ

---

## 2. âš¡ PowerDNS Authoritativeæƒå¨æœåŠ¡å™¨


### 2.1 å®‰è£…PowerDNS Authoritative


**ğŸ“¦ CentOS/RHELå®‰è£…æ–¹å¼**
```bash
# æ·»åŠ PowerDNSå®˜æ–¹ä»“åº“
yum install epel-release
yum install pdns pdns-backend-mysql

# Ubuntu/Debianå®‰è£…
apt update
apt install pdns-server pdns-backend-mysql
```

**ğŸ”§ åŸºæœ¬ç›®å½•ç»“æ„**
```
/etc/pdns/                    â† PowerDNSé…ç½®ç›®å½•
â”œâ”€â”€ pdns.conf                 â† ä¸»é…ç½®æ–‡ä»¶
â”œâ”€â”€ pdns.d/                   â† é…ç½®ç‰‡æ®µç›®å½•
â””â”€â”€ templates/                â† æ¨¡æ¿æ–‡ä»¶

/var/lib/pdns/                â† æ•°æ®ç›®å½•
/var/log/pdns/                â† æ—¥å¿—ç›®å½•
```

### 2.2 åŸºç¡€é…ç½®æ–‡ä»¶


**ğŸ“ ä¸»é…ç½®æ–‡ä»¶ /etc/pdns/pdns.conf**
```ini
# åŸºæœ¬æœåŠ¡é…ç½®
daemon=yes                    # ä»¥å®ˆæŠ¤è¿›ç¨‹è¿è¡Œ
guardian=yes                  # å¯ç”¨å®ˆæŠ¤è¿›ç¨‹ç›‘æ§
setuid=pdns                   # è¿è¡Œç”¨æˆ·
setgid=pdns                   # è¿è¡Œç»„

# ç½‘ç»œç›‘å¬é…ç½®
local-address=0.0.0.0         # ç›‘å¬æ‰€æœ‰IPåœ°å€
local-port=53                 # DNSæ ‡å‡†ç«¯å£

# åç«¯æ•°æ®åº“é…ç½®
launch=gmysql                 # ä½¿ç”¨MySQLåç«¯
gmysql-host=localhost         # æ•°æ®åº“ä¸»æœº
gmysql-dbname=powerdns        # æ•°æ®åº“åç§°
gmysql-user=powerdns          # æ•°æ®åº“ç”¨æˆ·
gmysql-password=your_password # æ•°æ®åº“å¯†ç 

# APIé…ç½®
api=yes                       # å¯ç”¨API
api-key=your_api_key          # APIå¯†é’¥
webserver=yes                 # å¯ç”¨WebæœåŠ¡å™¨
webserver-address=0.0.0.0     # WebæœåŠ¡å™¨ç›‘å¬åœ°å€
webserver-port=8081           # WebæœåŠ¡å™¨ç«¯å£
```

**ğŸ” å®‰å…¨é…ç½®è¦ç‚¹**
- APIå¯†é’¥è¦ä½¿ç”¨å¼ºå¯†ç 
- WebæœåŠ¡å™¨ç«¯å£å»ºè®®ä½¿ç”¨é˜²ç«å¢™é™åˆ¶è®¿é—®
- æ•°æ®åº“è¿æ¥ä½¿ç”¨ä¸“ç”¨è´¦æˆ·ï¼Œæƒé™æœ€å°åŒ–

### 2.3 æœåŠ¡å¯åŠ¨ä¸ç®¡ç†


**ğŸš€ æœåŠ¡ç®¡ç†å‘½ä»¤**
```bash
# å¯åŠ¨PowerDNSæœåŠ¡
systemctl start pdns
systemctl enable pdns

# æ£€æŸ¥æœåŠ¡çŠ¶æ€
systemctl status pdns

# æŸ¥çœ‹æœåŠ¡æ—¥å¿—
journalctl -u pdns -f

# é‡æ–°åŠ è½½é…ç½®
systemctl reload pdns
```

**ğŸ” æœåŠ¡éªŒè¯**
```bash
# æµ‹è¯•æœ¬åœ°DNSè§£æ
dig @localhost example.com

# æ£€æŸ¥APIæ¥å£
curl -H "X-API-Key: your_api_key" http://localhost:8081/api/v1/servers

# æŸ¥çœ‹ç»Ÿè®¡ä¿¡æ¯
pdns_control show *
```

### 2.4 æƒå¨æœåŠ¡å™¨é…ç½®ä¼˜åŒ–


**âš¡ æ€§èƒ½ä¼˜åŒ–é…ç½®**
```ini
# æ€§èƒ½ç›¸å…³é…ç½®
receiver-threads=4            # æ¥æ”¶çº¿ç¨‹æ•°
distributor-threads=4         # åˆ†å‘çº¿ç¨‹æ•°
signing-threads=3             # ç­¾åçº¿ç¨‹æ•°

# ç¼“å­˜é…ç½®
cache-ttl=60                  # ç¼“å­˜TTL
query-cache-ttl=20            # æŸ¥è¯¢ç¼“å­˜TTL
negquery-cache-ttl=60         # å¦å®šæŸ¥è¯¢ç¼“å­˜

# æ—¥å¿—é…ç½®
log-dns-details=yes           # è®°å½•DNSè¯¦ç»†ä¿¡æ¯
log-dns-queries=no            # æ˜¯å¦è®°å½•æ‰€æœ‰æŸ¥è¯¢ï¼ˆç”Ÿäº§ç¯å¢ƒå»ºè®®å…³é—­ï¼‰
loglevel=3                    # æ—¥å¿—çº§åˆ«
```

---

## 3. ğŸ”„ PowerDNS Recursoré€’å½’æœåŠ¡å™¨


### 3.1 PowerDNS Recursoræ¦‚å¿µ


**é€šä¿—ç†è§£**ï¼šRecursorå°±åƒä¸€ä¸ª"ä»£ç†æŸ¥è¯¢å‘˜"ï¼Œå½“å®¢æˆ·ç«¯é—®å®ƒä¸€ä¸ªé—®é¢˜æ—¶ï¼Œå¦‚æœå®ƒä¸çŸ¥é“ç­”æ¡ˆï¼Œå°±ä¼šå»æ‰¾çŸ¥é“ç­”æ¡ˆçš„äººï¼ˆæƒå¨æœåŠ¡å™¨ï¼‰ï¼Œç„¶åæŠŠç­”æ¡ˆå¸¦å›æ¥å‘Šè¯‰å®¢æˆ·ç«¯ã€‚

**ğŸ”¸ Recursorçš„å·¥ä½œæµç¨‹**
```
å®¢æˆ·ç«¯æŸ¥è¯¢æµç¨‹ï¼š
å®¢æˆ·ç«¯ â†’ Recursor â†’ æ ¹æœåŠ¡å™¨ â†’ .comæœåŠ¡å™¨ â†’ example.comæœåŠ¡å™¨
   â†‘                                                    â†“
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ è¿”å›æœ€ç»ˆç­”æ¡ˆ â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 å®‰è£…é…ç½®Recursor


**ğŸ“¦ å®‰è£…PowerDNS Recursor**
```bash
# CentOS/RHEL
yum install pdns-recursor

# Ubuntu/Debian  
apt install pdns-recursor
```

**ğŸ“ åŸºæœ¬é…ç½® /etc/pdns-recursor/recursor.conf**
```ini
# åŸºæœ¬æœåŠ¡é…ç½®
daemon=yes
setuid=pdns-recursor
setgid=pdns-recursor

# ç½‘ç»œé…ç½®
local-address=127.0.0.1       # ç›‘å¬åœ°å€
local-port=5300               # é¿å…ä¸æƒå¨æœåŠ¡å™¨ç«¯å£å†²çª
allow-from=127.0.0.0/8, 10.0.0.0/8, 192.168.0.0/16

# ä¸Šæ¸¸DNSæœåŠ¡å™¨
forward-zones=                # è½¬å‘ç‰¹å®šåŸŸå
# forward-zones=company.local=192.168.1.10

# æ€§èƒ½é…ç½®
threads=4                     # çº¿ç¨‹æ•°
max-cache-entries=1000000     # æœ€å¤§ç¼“å­˜æ¡ç›®
max-negative-ttl=3600         # å¦å®šç¼“å­˜TTL

# å®‰å…¨é…ç½®
dnssec=validate               # å¯ç”¨DNSSECéªŒè¯
```

### 3.3 é€’å½’æŸ¥è¯¢ä¼˜åŒ–


**ğŸ¯ ç¼“å­˜ç­–ç•¥é…ç½®**
```ini
# ç¼“å­˜å¤§å°é…ç½®
max-cache-entries=1000000     # æœ€å¤§ç¼“å­˜æ¡ç›®æ•°
max-packetcache-entries=500000 # åŒ…ç¼“å­˜æ¡ç›®æ•°

# TTLé…ç½®
minimum-ttl-override=0        # æœ€å°TTLè¦†ç›–
maximum-ttl-override=86400    # æœ€å¤§TTLè¦†ç›–ï¼ˆ24å°æ—¶ï¼‰

# é¢„å–é…ç½®
refresh-on-ttl-perc=10        # TTLå‰©ä½™10%æ—¶å¼€å§‹åˆ·æ–°
```

**ğŸ“Š ç›‘æ§ä¸ç»Ÿè®¡**
```bash
# æŸ¥çœ‹é€’å½’æœåŠ¡å™¨ç»Ÿè®¡
rec_control get-all

# æŸ¥çœ‹ç¼“å­˜çŠ¶æ€
rec_control get cache-entries
rec_control get cache-hits
rec_control get cache-misses

# æ¸…ç©ºç¼“å­˜
rec_control wipe-cache domain.com
```

---

## 4. ğŸ—„ï¸ åç«¯æ•°æ®åº“é…ç½®


### 4.1 MySQLåç«¯é…ç½®


**æ•°æ®åº“å‡†å¤‡**
é¦–å…ˆéœ€è¦åˆ›å»ºä¸“ç”¨çš„æ•°æ®åº“å’Œç”¨æˆ·ï¼š

```sql
-- åˆ›å»ºæ•°æ®åº“
CREATE DATABASE powerdns CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;

-- åˆ›å»ºç”¨æˆ·å¹¶æˆæƒ
CREATE USER 'powerdns'@'localhost' IDENTIFIED BY 'strong_password';
GRANT ALL PRIVILEGES ON powerdns.* TO 'powerdns'@'localhost';
FLUSH PRIVILEGES;
```

**ğŸ“‹ æ•°æ®åº“è¡¨ç»“æ„**
PowerDNSéœ€è¦ç‰¹å®šçš„è¡¨ç»“æ„æ¥å­˜å‚¨DNSè®°å½•ï¼š

```sql
-- ä½¿ç”¨PowerDNSæ•°æ®åº“
USE powerdns;

-- åŸŸåè¡¨
CREATE TABLE domains (
  id                    INT AUTO_INCREMENT,
  name                  VARCHAR(255) NOT NULL,
  master                VARCHAR(128) DEFAULT NULL,
  last_check            INT DEFAULT NULL,
  type                  VARCHAR(6) NOT NULL,
  notified_serial       INT DEFAULT NULL,
  account               VARCHAR(40) DEFAULT NULL,
  PRIMARY KEY (id),
  UNIQUE KEY name_index (name)
);

-- DNSè®°å½•è¡¨
CREATE TABLE records (
  id                    BIGINT AUTO_INCREMENT,
  domain_id             INT DEFAULT NULL,
  name                  VARCHAR(255) DEFAULT NULL,
  type                  VARCHAR(10) DEFAULT NULL,
  content               VARCHAR(64000) DEFAULT NULL,
  ttl                   INT DEFAULT NULL,
  prio                  INT DEFAULT NULL,
  change_date           INT DEFAULT NULL,
  disabled              TINYINT(1) DEFAULT 0,
  ordername             VARCHAR(255) BINARY DEFAULT NULL,
  auth                  TINYINT(1) DEFAULT 1,
  PRIMARY KEY (id),
  KEY nametype_index (name,type),
  KEY domain_id (domain_id)
);
```

### 4.2 PostgreSQLåç«¯é…ç½®


**å®‰è£…PostgreSQLåç«¯**
```bash
# å®‰è£…PostgreSQLåç«¯æ”¯æŒ
yum install pdns-backend-postgresql
# æˆ–
apt install pdns-backend-pgsql
```

**é…ç½®PowerDNSä½¿ç”¨PostgreSQL**
```ini
# /etc/pdns/pdns.conf
launch=gpgsql
gpgsql-host=localhost
gpgsql-port=5432
gpgsql-dbname=powerdns
gpgsql-user=powerdns
gpgsql-password=your_password
```

### 4.3 æ•°æ®åº“æ€§èƒ½ä¼˜åŒ–


**ğŸš€ MySQLä¼˜åŒ–é…ç½®**
```ini
# PowerDNS MySQLè¿æ¥ä¼˜åŒ–
gmysql-timeout=10             # è¿æ¥è¶…æ—¶æ—¶é—´
gmysql-innodb-read-committed=yes # ä½¿ç”¨è¯»æäº¤éš”ç¦»çº§åˆ«

# è¿æ¥æ± é…ç½®
distributor-threads=3         # åˆ†å‘çº¿ç¨‹æ•°
receiver-threads=1            # æ¥æ”¶çº¿ç¨‹æ•°
```

**ğŸ“Š æ•°æ®åº“ç´¢å¼•ä¼˜åŒ–**
```sql
-- ä¸ºrecordsè¡¨æ·»åŠ æ€§èƒ½ç´¢å¼•
CREATE INDEX idx_records_name_type ON records(name, type);
CREATE INDEX idx_records_domain_id ON records(domain_id);
CREATE INDEX idx_records_ordername ON records(ordername);

-- ä¸ºdomainsè¡¨æ·»åŠ ç´¢å¼•
CREATE INDEX idx_domains_name ON domains(name);
```

---

## 5. ğŸ”Œ RESTful APIæ¥å£ä½¿ç”¨


### 5.1 APIåŸºç¡€ä½¿ç”¨


**ğŸ”‘ APIè®¤è¯é…ç½®**
APIä½¿ç”¨X-API-Keyå¤´è¿›è¡Œè®¤è¯ï¼Œéœ€è¦åœ¨é…ç½®æ–‡ä»¶ä¸­è®¾ç½®ï¼š

```ini
# /etc/pdns/pdns.conf
api=yes
api-key=your-secret-api-key
webserver=yes
webserver-address=0.0.0.0
webserver-port=8081
```

**ğŸ“¡ åŸºç¡€APIè°ƒç”¨ç¤ºä¾‹**
```bash
# è·å–æœåŠ¡å™¨ä¿¡æ¯
curl -H "X-API-Key: your-secret-api-key" \
     http://localhost:8081/api/v1/servers

# è·å–æ‰€æœ‰åŸŸååˆ—è¡¨
curl -H "X-API-Key: your-secret-api-key" \
     http://localhost:8081/api/v1/servers/localhost/zones

# è·å–ç‰¹å®šåŸŸåä¿¡æ¯
curl -H "X-API-Key: your-secret-api-key" \
     http://localhost:8081/api/v1/servers/localhost/zones/example.com
```

### 5.2 åŸŸåç®¡ç†API


**ğŸŒ åˆ›å»ºæ–°åŸŸå**
```bash
# åˆ›å»ºæ–°çš„DNSåŸŸå
curl -X POST \
     -H "X-API-Key: your-secret-api-key" \
     -H "Content-Type: application/json" \
     -d '{
       "name": "newdomain.com.",
       "kind": "Master",
       "nameservers": ["ns1.example.com.", "ns2.example.com."]
     }' \
     http://localhost:8081/api/v1/servers/localhost/zones
```

**ğŸ“ æ·»åŠ DNSè®°å½•**
```bash
# ä¸ºåŸŸåæ·»åŠ Aè®°å½•
curl -X PATCH \
     -H "X-API-Key: your-secret-api-key" \
     -H "Content-Type: application/json" \
     -d '{
       "rrsets": [
         {
           "name": "www.newdomain.com.",
           "type": "A",
           "records": [
             {
               "content": "192.168.1.100",
               "disabled": false
             }
           ]
         }
       ]
     }' \
     http://localhost:8081/api/v1/servers/localhost/zones/newdomain.com.
```

### 5.3 APIè‡ªåŠ¨åŒ–è„šæœ¬


**ğŸ¤– æ‰¹é‡åŸŸåç®¡ç†è„šæœ¬**
```bash
#!/bin/bash
# PowerDNSæ‰¹é‡ç®¡ç†è„šæœ¬

API_KEY="your-secret-api-key"
API_URL="http://localhost:8081/api/v1/servers/localhost"

# æ·»åŠ åŸŸåå‡½æ•°
add_domain() {
    local domain=$1
    curl -X POST \
         -H "X-API-Key: $API_KEY" \
         -H "Content-Type: application/json" \
         -d "{\"name\": \"$domain.\", \"kind\": \"Master\"}" \
         $API_URL/zones
}

# æ·»åŠ Aè®°å½•å‡½æ•°
add_a_record() {
    local domain=$1
    local name=$2
    local ip=$3
    
    curl -X PATCH \
         -H "X-API-Key: $API_KEY" \
         -H "Content-Type: application/json" \
         -d "{
           \"rrsets\": [{
             \"name\": \"$name.$domain.\",
             \"type\": \"A\",
             \"records\": [{\"content\": \"$ip\", \"disabled\": false}]
           }]
         }" \
         $API_URL/zones/$domain.
}

# ä½¿ç”¨ç¤ºä¾‹
add_domain "testdomain.com"
add_a_record "testdomain.com" "www" "192.168.1.10"
```

---

## 6. ğŸ–¥ï¸ PowerAdmin Webç®¡ç†ç•Œé¢


### 6.1 PowerAdminå®‰è£…é…ç½®


**ğŸ“¦ å®‰è£…PowerAdmin**
```bash
# ä¸‹è½½PowerAdmin
cd /var/www/html
wget https://github.com/poweradmin/poweradmin/archive/master.zip
unzip master.zip
mv poweradmin-master poweradmin

# è®¾ç½®æƒé™
chown -R apache:apache poweradmin
chmod -R 755 poweradmin
```

**ğŸ”§ WebæœåŠ¡å™¨é…ç½®**
```apache
# Apacheè™šæ‹Ÿä¸»æœºé…ç½®
<VirtualHost *:80>
    ServerName pdns-admin.example.com
    DocumentRoot /var/www/html/poweradmin
    
    <Directory /var/www/html/poweradmin>
        AllowOverride All
        Require all granted
    </Directory>
    
    ErrorLog /var/log/httpd/poweradmin_error.log
    CustomLog /var/log/httpd/poweradmin_access.log combined
</VirtualHost>
```

### 6.2 PowerAdminåˆå§‹åŒ–


**âš™ï¸ åˆå§‹é…ç½®**
é€šè¿‡Webç•Œé¢è®¿é—® `http://your-server/poweradmin/install/` è¿›è¡Œåˆå§‹åŒ–ï¼š

1. **æ•°æ®åº“è¿æ¥é…ç½®**ï¼šè¾“å…¥PowerDNSæ•°æ®åº“è¿æ¥ä¿¡æ¯
2. **ç®¡ç†å‘˜è´¦æˆ·åˆ›å»º**ï¼šè®¾ç½®ç®¡ç†å‘˜ç”¨æˆ·åå’Œå¯†ç   
3. **æƒé™é…ç½®**ï¼šè®¾ç½®ä¸åŒç”¨æˆ·çš„æƒé™çº§åˆ«

**ğŸ“ é…ç½®æ–‡ä»¶ç¤ºä¾‹**
å®‰è£…å®Œæˆåä¼šç”Ÿæˆ `inc/config.inc.php` é…ç½®æ–‡ä»¶ï¼š

```php
// æ•°æ®åº“é…ç½®
$db_host = 'localhost';
$db_user = 'powerdns';
$db_pass = 'your_password';
$db_name = 'powerdns';
$db_type = 'mysql';

// PowerDNSé…ç½®
$pdnssec_use = true;
$dns_hostmaster = 'hostmaster.example.com';
$dns_ns1 = 'ns1.example.com';
$dns_ns2 = 'ns2.example.com';
```

### 6.3 Webç•Œé¢åŠŸèƒ½ä½¿ç”¨


**ğŸŒ åŸŸåç®¡ç†åŠŸèƒ½**
- **æ·»åŠ åŸŸå**ï¼šé€šè¿‡Webç•Œé¢å¿«é€Ÿåˆ›å»ºæ–°åŸŸå
- **è®°å½•ç®¡ç†**ï¼šå›¾å½¢åŒ–æ·»åŠ ã€ä¿®æ”¹ã€åˆ é™¤DNSè®°å½•
- **æ‰¹é‡æ“ä½œ**ï¼šæ”¯æŒæ‰¹é‡å¯¼å…¥å¯¼å‡ºDNSè®°å½•
- **æ¨¡æ¿åŠŸèƒ½**ï¼šä½¿ç”¨é¢„å®šä¹‰æ¨¡æ¿å¿«é€Ÿåˆ›å»ºæ ‡å‡†é…ç½®

**ğŸ‘¥ ç”¨æˆ·æƒé™ç®¡ç†**
```
ç®¡ç†å‘˜æƒé™åˆ†çº§ï¼š
Super Admin    â†’ å®Œå…¨ç®¡ç†æƒé™
Domain Admin   â†’ ç‰¹å®šåŸŸåç®¡ç†æƒé™  
User          â†’ åªè¯»æŸ¥çœ‹æƒé™
```

**ğŸ“Š ç›‘æ§ç»Ÿè®¡åŠŸèƒ½**
- DNSæŸ¥è¯¢ç»Ÿè®¡å›¾è¡¨
- åŸŸåæ•°é‡ç»Ÿè®¡
- è®°å½•ç±»å‹åˆ†å¸ƒ
- ç³»ç»Ÿè¿è¡ŒçŠ¶æ€ç›‘æ§

---

## 7. âš–ï¸ ä¸BINDé…ç½®å·®å¼‚å¯¹æ¯”


### 7.1 é…ç½®æ–¹å¼å¯¹æ¯”


**ğŸ“„ BINDé…ç½®æ–¹å¼**
```
ä¼ ç»ŸBINDé…ç½®ï¼š
/etc/named.conf           â† ä¸»é…ç½®æ–‡ä»¶
/var/named/example.com    â† åŸŸåzoneæ–‡ä»¶
/var/named/reverse.db     â† åå‘è§£ææ–‡ä»¶

ç‰¹ç‚¹ï¼šæ–‡æœ¬æ–‡ä»¶é…ç½®ï¼Œæ‰‹åŠ¨ç¼–è¾‘
```

**ğŸ—„ï¸ PowerDNSé…ç½®æ–¹å¼**
```
PowerDNSé…ç½®ï¼š
/etc/pdns/pdns.conf       â† ä¸»é…ç½®æ–‡ä»¶
MySQLæ•°æ®åº“               â† DNSè®°å½•å­˜å‚¨
Webç•Œé¢/API               â† ç®¡ç†æ¥å£

ç‰¹ç‚¹ï¼šæ•°æ®åº“å­˜å‚¨ï¼Œå›¾å½¢åŒ–/APIç®¡ç†
```

### 7.2 è®°å½•ç®¡ç†å¯¹æ¯”


| æ“ä½œç±»å‹ | **BINDæ–¹å¼** | **PowerDNSæ–¹å¼** | **ä¼˜åŠ¿å¯¹æ¯”** |
|---------|-------------|----------------|-------------|
| **æ·»åŠ è®°å½•** | `ç¼–è¾‘zoneæ–‡ä»¶` | `Webç•Œé¢/APIæ“ä½œ` | `PowerDNSæ›´ä¾¿æ·` |
| **æ‰¹é‡ä¿®æ”¹** | `æ‰‹å·¥ç¼–è¾‘æ–‡ä»¶` | `æ•°æ®åº“SQLæ“ä½œ` | `PowerDNSæ”¯æŒæ‰¹é‡` |
| **è®°å½•æŸ¥è¯¢** | `cat/grepæ–‡ä»¶` | `Webç•Œé¢/APIæŸ¥è¯¢` | `PowerDNSæŸ¥è¯¢æ›´çµæ´»` |
| **å¤‡ä»½æ¢å¤** | `æ–‡ä»¶å¤‡ä»½` | `æ•°æ®åº“å¤‡ä»½` | `å„æœ‰ä¼˜åŠ¿` |
| **ç‰ˆæœ¬æ§åˆ¶** | `Gitç­‰å·¥å…·` | `æ•°æ®åº“å†å²` | `BINDæ›´é€‚åˆç‰ˆæœ¬æ§åˆ¶` |

### 7.3 è¿ç§»è€ƒè™‘å› ç´ 


**ğŸ”„ ä»BINDè¿ç§»åˆ°PowerDNS**
```
è¿ç§»ä¼˜åŠ¿ï¼š
âœ… æ›´å¥½çš„Webç®¡ç†ç•Œé¢
âœ… APIæ”¯æŒè‡ªåŠ¨åŒ–ç®¡ç†  
âœ… æ•°æ®åº“å­˜å‚¨ä¾¿äºæŸ¥è¯¢ç»Ÿè®¡
âœ… æ›´ç°ä»£çš„æ¶æ„è®¾è®¡

è¿ç§»æŒ‘æˆ˜ï¼š
âš ï¸ éœ€è¦å­¦ä¹ æ–°çš„ç®¡ç†æ–¹å¼
âš ï¸ æ•°æ®åº“ä¾èµ–å¢åŠ å¤æ‚æ€§
âš ï¸ ç°æœ‰è„šæœ¬éœ€è¦é‡å†™
âš ï¸ è¿ç»´æµç¨‹éœ€è¦è°ƒæ•´
```

**ğŸ“‹ è¿ç§»å†³ç­–çŸ©é˜µ**
```
é€‰æ‹©PowerDNSçš„æƒ…å†µï¼š
â€¢ éœ€è¦Webç•Œé¢ç®¡ç†
â€¢ è¦æ±‚APIè‡ªåŠ¨åŒ–é›†æˆ
â€¢ ç®¡ç†å¤§é‡åŸŸåè®°å½•
â€¢ å›¢é˜Ÿæœ‰æ•°æ®åº“è¿ç»´èƒ½åŠ›

ç»§ç»­ä½¿ç”¨BINDçš„æƒ…å†µï¼š
â€¢ ç°æœ‰ç³»ç»Ÿè¿è¡Œç¨³å®š
â€¢ å›¢é˜Ÿç†Ÿæ‚‰BINDé…ç½®
â€¢ å¯¹æ–‡æœ¬é…ç½®æœ‰åå¥½
â€¢ ä¸éœ€è¦å¤æ‚çš„ç®¡ç†åŠŸèƒ½
```

---

## 8. ğŸš€ PowerDNSæ€§èƒ½è°ƒä¼˜


### 8.1 æƒå¨æœåŠ¡å™¨è°ƒä¼˜


**âš¡ çº¿ç¨‹é…ç½®ä¼˜åŒ–**
```ini
# æ ¹æ®CPUæ ¸å¿ƒæ•°è°ƒæ•´çº¿ç¨‹
receiver-threads=4            # å»ºè®®è®¾ç½®ä¸ºCPUæ ¸å¿ƒæ•°
distributor-threads=4         # åŒreceiver-threads
signing-threads=3             # DNSSECç­¾åçº¿ç¨‹ï¼Œå¯ç•¥å°‘

# é˜Ÿåˆ—å¤§å°é…ç½®
overload-queue-length=0       # 0è¡¨ç¤ºæ— é™åˆ¶
max-queue-length=5000         # æœ€å¤§é˜Ÿåˆ—é•¿åº¦
```

**ğŸ’¾ å†…å­˜ç¼“å­˜ä¼˜åŒ–**
```ini
# ç¼“å­˜é…ç½®
cache-ttl=60                  # æƒå¨æœåŠ¡å™¨ç¼“å­˜TTL
query-cache-ttl=20            # æŸ¥è¯¢ç¼“å­˜TTL
negquery-cache-ttl=60         # å¦å®šæŸ¥è¯¢ç¼“å­˜TTL

# åŒ…ç¼“å­˜é…ç½®  
max-cache-entries=1000000     # æœ€å¤§ç¼“å­˜æ¡ç›®
max-packet-cache-entries=1000000 # åŒ…ç¼“å­˜æ¡ç›®
```

### 8.2 é€’å½’æœåŠ¡å™¨è°ƒä¼˜


**ğŸ”„ é€’å½’æŸ¥è¯¢ä¼˜åŒ–**
```ini
# å¹¶å‘æŸ¥è¯¢é…ç½®
max-mthreads=2048             # æœ€å¤§çº¿ç¨‹æ•°
max-tcp-clients=128           # æœ€å¤§TCPå®¢æˆ·ç«¯æ•°

# ç¼“å­˜ç­–ç•¥
max-cache-entries=1000000     # ç¼“å­˜æ¡ç›®æ•°
max-negative-ttl=3600         # å¦å®šç¼“å­˜æ—¶é—´
minimum-ttl-override=0        # æœ€å°TTL

# ç½‘ç»œä¼˜åŒ–
udp-truncation-threshold=1680 # UDPæˆªæ–­é˜ˆå€¼
edns-outgoing-bufsize=1680    # EDNSç¼“å†²åŒºå¤§å°
```

### 8.3 æ•°æ®åº“æ€§èƒ½ä¼˜åŒ–


**ğŸ—„ï¸ MySQLæ•°æ®åº“è°ƒä¼˜**
```sql
-- é’ˆå¯¹PowerDNSçš„MySQLä¼˜åŒ–
[mysqld]
# è¿æ¥é…ç½®
max_connections=200
thread_cache_size=16
table_open_cache=2000

# InnoDBé…ç½®
innodb_buffer_pool_size=1G    # æ ¹æ®å†…å­˜å¤§å°è°ƒæ•´
innodb_log_file_size=256M
innodb_flush_log_at_trx_commit=2

# æŸ¥è¯¢ç¼“å­˜
query_cache_type=1
query_cache_size=128M
```

**ğŸ“Š æ€§èƒ½ç›‘æ§æŒ‡æ ‡**
```bash
# PowerDNSæ€§èƒ½ç›‘æ§
pdns_control show questions    # æŸ¥è¯¢æ€»æ•°
pdns_control show cache-hit-rate # ç¼“å­˜å‘½ä¸­ç‡
pdns_control show latency      # å“åº”å»¶è¿Ÿ

# æ•°æ®åº“æ€§èƒ½ç›‘æ§
SHOW GLOBAL STATUS LIKE 'Com_select';
SHOW GLOBAL STATUS LIKE 'Innodb_buffer_pool_reads';
```

---

## 9. ğŸ”„ è¿ç§»ç­–ç•¥ä¸æ•°æ®åŒæ­¥


### 9.1 BINDåˆ°PowerDNSè¿ç§»


**ğŸ“‹ è¿ç§»å‡†å¤‡å·¥ä½œ**
```
è¿ç§»å‰æ£€æŸ¥æ¸…å•ï¼š
âœ… å¤‡ä»½ç°æœ‰BINDé…ç½®å’Œzoneæ–‡ä»¶
âœ… å‡†å¤‡PowerDNSæœåŠ¡å™¨ç¯å¢ƒ
âœ… å®‰è£…é…ç½®æ•°æ®åº“
âœ… æµ‹è¯•PowerDNSåŸºæœ¬åŠŸèƒ½
âœ… å‡†å¤‡è¿ç§»è„šæœ¬å’Œå·¥å…·
```

**ğŸ› ï¸ zoneæ–‡ä»¶è½¬æ¢å·¥å…·**
```bash
#!/bin/bash
# BIND zoneæ–‡ä»¶è½¬PowerDNSè„šæœ¬

convert_zone() {
    local zone_file=$1
    local domain=$(basename $zone_file)
    
    # ä½¿ç”¨pdnsutilå¯¼å…¥zoneæ–‡ä»¶
    pdnsutil load-zone $domain $zone_file
    
    # æˆ–è€…ä½¿ç”¨zone2sqlå·¥å…·
    /usr/bin/zone2sql --gmysql \
                      --zone=$zone_file \
                      --zone-name=$domain
}

# æ‰¹é‡è½¬æ¢æ‰€æœ‰zoneæ–‡ä»¶
for zone in /var/named/*.db; do
    convert_zone $zone
done
```

### 9.2 æ•°æ®åŒæ­¥ç­–ç•¥


**ğŸ”„ å®æ—¶åŒæ­¥æ–¹æ¡ˆ**
```
åŒæ­¥ç­–ç•¥é€‰æ‹©ï¼š

æ–¹æ¡ˆ1: åŒå†™æ¨¡å¼
BIND â†â†’ ç®¡ç†è„šæœ¬ â†â†’ PowerDNS
     å¹¶è¡Œæ›´æ–°ä¸¤ä¸ªç³»ç»Ÿ

æ–¹æ¡ˆ2: ä¸»ä»æ¨¡å¼  
BIND(ä¸») â†’ åŒæ­¥è„šæœ¬ â†’ PowerDNS(ä»)
     å®šæœŸåŒæ­¥æˆ–å®æ—¶åŒæ­¥

æ–¹æ¡ˆ3: é€æ­¥è¿ç§»
åŸŸå1 â†’ PowerDNS
åŸŸå2 â†’ PowerDNS  
...
åŸŸåN â†’ PowerDNS
```

**ğŸ“Š æ•°æ®ä¸€è‡´æ€§æ£€æŸ¥**
```bash
#!/bin/bash
# DNSè®°å½•ä¸€è‡´æ€§æ£€æŸ¥è„šæœ¬

check_consistency() {
    local domain=$1
    
    # ä»BINDè·å–è®°å½•
    bind_result=$(dig @bind_server $domain A +short)
    
    # ä»PowerDNSè·å–è®°å½•  
    pdns_result=$(dig @powerdns_server $domain A +short)
    
    # æ¯”è¾ƒç»“æœ
    if [ "$bind_result" = "$pdns_result" ]; then
        echo "âœ… $domain: è®°å½•ä¸€è‡´"
    else
        echo "âŒ $domain: è®°å½•ä¸ä¸€è‡´"
        echo "  BIND: $bind_result"
        echo "  PowerDNS: $pdns_result"
    fi
}

# æ£€æŸ¥æ‰€æœ‰åŸŸå
for domain in $(cat domain_list.txt); do
    check_consistency $domain
done
```

### 9.3 ç°åº¦åˆ‡æ¢æ–¹æ¡ˆ


**ğŸ¯ åˆ†é˜¶æ®µåˆ‡æ¢ç­–ç•¥**
```
ç¬¬ä¸€é˜¶æ®µ: æµ‹è¯•ç¯å¢ƒéªŒè¯
â€¢ åœ¨æµ‹è¯•ç¯å¢ƒå®Œæ•´éƒ¨ç½²PowerDNS
â€¢ å¯¼å…¥æ‰€æœ‰DNSæ•°æ®
â€¢ éªŒè¯åŠŸèƒ½å®Œæ•´æ€§

ç¬¬äºŒé˜¶æ®µ: å°èŒƒå›´è¯•è¿è¡Œ
â€¢ é€‰æ‹©éå…³é”®åŸŸåè¿›è¡Œåˆ‡æ¢
â€¢ ç›‘æ§è¿è¡ŒçŠ¶æ€
â€¢ æ”¶é›†æ€§èƒ½æ•°æ®

ç¬¬ä¸‰é˜¶æ®µ: é€æ­¥æ‰©å¤§èŒƒå›´
â€¢ æŒ‰åŸŸåé‡è¦æ€§åˆ†æ‰¹åˆ‡æ¢
â€¢ ä¿æŒBINDä½œä¸ºå¤‡é€‰æ–¹æ¡ˆ
â€¢ å®æ—¶ç›‘æ§æœåŠ¡è´¨é‡

ç¬¬å››é˜¶æ®µ: å®Œå…¨åˆ‡æ¢
â€¢ æ‰€æœ‰åŸŸååˆ‡æ¢åˆ°PowerDNS
â€¢ åœç”¨BINDæœåŠ¡
â€¢ æ¸…ç†æ—§é…ç½®æ–‡ä»¶
```

**âš ï¸ å›æ»šé¢„æ¡ˆ**
```bash
# ç´§æ€¥å›æ»šè„šæœ¬
#!/bin/bash

rollback_to_bind() {
    echo "å¼€å§‹å›æ»šåˆ°BIND..."
    
    # åœæ­¢PowerDNS
    systemctl stop pdns
    
    # å¯åŠ¨BIND
    systemctl start named
    
    # æ›´æ–°ä¸Šçº§DNSæœåŠ¡å™¨æŒ‡å‘
    # è¿™éƒ¨åˆ†éœ€è¦æ ¹æ®å®é™…æƒ…å†µç¼–å†™
    
    echo "å›æ»šå®Œæˆï¼Œè¯·æ£€æŸ¥DNSè§£æ"
}
```

---

## 10. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 10.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ PowerDNSæ¶æ„ï¼šæƒå¨æœåŠ¡å™¨ + é€’å½’æœåŠ¡å™¨ + æ•°æ®åº“åç«¯
ğŸ”¸ é…ç½®å·®å¼‚ï¼šæ•°æ®åº“é©±åŠ¨ vs æ–‡ä»¶é©±åŠ¨çš„æ ¹æœ¬åŒºåˆ«
ğŸ”¸ APIç®¡ç†ï¼šRESTfulæ¥å£å®ç°è‡ªåŠ¨åŒ–DNSç®¡ç†
ğŸ”¸ Webç•Œé¢ï¼šPowerAdminæä¾›å›¾å½¢åŒ–ç®¡ç†åŠŸèƒ½
ğŸ”¸ æ€§èƒ½è°ƒä¼˜ï¼šçº¿ç¨‹ã€ç¼“å­˜ã€æ•°æ®åº“å¤šç»´åº¦ä¼˜åŒ–
```

### 10.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ PowerDNSçš„ä¼˜åŠ¿ç†è§£**
```
æ ¸å¿ƒä¼˜åŠ¿ï¼š
â€¢ æ•°æ®åº“å­˜å‚¨ â†’ ä¾¿äºå¤§è§„æ¨¡ç®¡ç†å’ŒæŸ¥è¯¢
â€¢ APIæ¥å£ â†’ æ”¯æŒè‡ªåŠ¨åŒ–å’Œé›†æˆ
â€¢ Webç•Œé¢ â†’ é™ä½ç®¡ç†å¤æ‚åº¦
â€¢ æ¨¡å—åŒ–è®¾è®¡ â†’ çµæ´»çš„éƒ¨ç½²æ¶æ„

é€‚ç”¨åœºæ™¯ï¼š
â€¢ éœ€è¦ç®¡ç†å¤§é‡åŸŸå
â€¢ è¦æ±‚Webç•Œé¢ç®¡ç†
â€¢ éœ€è¦APIè‡ªåŠ¨åŒ–é›†æˆ
â€¢ å›¢é˜Ÿæœ‰æ•°æ®åº“è¿ç»´èƒ½åŠ›
```

**ğŸ”¹ ä¸BINDçš„é€‰æ‹©ç­–ç•¥**
```
é€‰æ‹©PowerDNSï¼š
â€¢ æ–°å»ºDNSæœåŠ¡
â€¢ éœ€è¦ç°ä»£åŒ–ç®¡ç†æ–¹å¼
â€¢ è¦æ±‚è‡ªåŠ¨åŒ–é›†æˆ
â€¢ ç®¡ç†å¤§é‡åŸŸåè®°å½•

ç»§ç»­ä½¿ç”¨BINDï¼š
â€¢ ç°æœ‰ç³»ç»Ÿç¨³å®šè¿è¡Œ
â€¢ å›¢é˜Ÿç†Ÿæ‚‰ä¼ ç»Ÿé…ç½®
â€¢ å¯¹ç¨³å®šæ€§è¦æ±‚æé«˜
â€¢ ä¸éœ€è¦å¤æ‚ç®¡ç†åŠŸèƒ½
```

### 10.3 å®é™…åº”ç”¨ä»·å€¼


- **ç°ä»£åŒ–DNSç®¡ç†**ï¼šæä¾›ç¬¦åˆå½“å‰è¿ç»´éœ€æ±‚çš„DNSç®¡ç†æ–¹æ¡ˆ
- **è‡ªåŠ¨åŒ–é›†æˆ**ï¼šé€šè¿‡APIå®ç°ä¸å…¶ä»–ç³»ç»Ÿçš„æ— ç¼é›†æˆ
- **é™ä½ç®¡ç†æˆæœ¬**ï¼šWebç•Œé¢å’Œæ•°æ®åº“å­˜å‚¨ç®€åŒ–æ—¥å¸¸ç®¡ç†å·¥ä½œ
- **æé«˜è¿ç»´æ•ˆç‡**ï¼šæ‰¹é‡æ“ä½œå’Œæ¨¡æ¿åŠŸèƒ½æå‡å·¥ä½œæ•ˆç‡
- **æ”¯æŒäº‘åŸç”Ÿ**ï¼šæ›´å¥½åœ°é€‚åº”å®¹å™¨åŒ–å’Œå¾®æœåŠ¡æ¶æ„

### 10.4 å­¦ä¹ è¿›é˜¶è·¯å¾„


```
ğŸ¯ æŒæ¡å±‚æ¬¡ï¼š
å…¥é—¨ï¼šèƒ½å®‰è£…é…ç½®åŸºç¡€çš„PowerDNSæœåŠ¡
è¿›é˜¶ï¼šæŒæ¡APIä½¿ç”¨å’Œæ€§èƒ½è°ƒä¼˜
é«˜çº§ï¼šèƒ½è®¾è®¡å¤æ‚çš„DNSæ¶æ„å’Œè¿ç§»æ–¹æ¡ˆ
ä¸“å®¶ï¼šèƒ½å¼€å‘è‡ªå®šä¹‰çš„DNSç®¡ç†å·¥å…·

ğŸ“š æ‰©å±•å­¦ä¹ ï¼š
â€¢ æ·±å…¥å­¦ä¹ DNSSECé…ç½®å’Œç®¡ç†
â€¢ æŒæ¡PowerDNSé›†ç¾¤éƒ¨ç½²
â€¢ å­¦ä¹ DNSå®‰å…¨é˜²æŠ¤ç­–ç•¥
â€¢ äº†è§£ç°ä»£DNSæŠ€æœ¯å‘å±•è¶‹åŠ¿
```

**ğŸ’¡ å®è·µå»ºè®®**
- åœ¨è™šæ‹Ÿç¯å¢ƒä¸­æ­å»ºæµ‹è¯•ç¯å¢ƒç»ƒä¹ 
- å¯¹æ¯”BINDå’ŒPowerDNSçš„ç®¡ç†å·®å¼‚
- å°è¯•ä½¿ç”¨APIç¼–å†™è‡ªåŠ¨åŒ–è„šæœ¬
- å…³æ³¨PowerDNSç¤¾åŒºå’Œæ–‡æ¡£æ›´æ–°

**æ ¸å¿ƒè®°å¿†**ï¼š
- PowerDNS = æ•°æ®åº“é©±åŠ¨çš„ç°ä»£DNSæœåŠ¡å™¨
- æƒå¨æœåŠ¡å™¨è´Ÿè´£è§£æï¼Œé€’å½’æœåŠ¡å™¨è´Ÿè´£æŸ¥è¯¢
- APIå’ŒWebç•Œé¢æ˜¯PowerDNSçš„æ ¸å¿ƒä¼˜åŠ¿
- é€‰æ‹©DNSæœåŠ¡å™¨è¦è€ƒè™‘å›¢é˜Ÿèƒ½åŠ›å’Œä¸šåŠ¡éœ€æ±‚