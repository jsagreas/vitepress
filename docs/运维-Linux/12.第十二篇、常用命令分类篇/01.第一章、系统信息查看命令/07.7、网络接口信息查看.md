---
title: 7、网络接口信息查看
---
## 📚 目录

1. [网络接口基础概念](#1-网络接口基础概念)
2. [ip addr - 现代网络地址查看](#2-ip-addr-现代网络地址查看)
3. [ifconfig - 经典接口配置工具](#3-ifconfig-经典接口配置工具)
4. [ip link - 链路层信息管理](#4-ip-link-链路层信息管理)
5. [网络统计信息查看](#5-网络统计信息查看)
6. [网卡硬件信息查看](#6-网卡硬件信息查看)
7. [无线网卡专用命令](#7-无线网卡专用命令)
8. [系统文件方式查看](#8-系统文件方式查看)
9. [网络连接状态查看](#9-网络连接状态查看)
10. [核心要点总结](#10-核心要点总结)

---

## 1. 🌐 网络接口基础概念


### 1.1 什么是网络接口


**🔸 网络接口的本质**
```
网络接口 = 计算机连接网络的"门户"
就像房子的门窗一样，是内外沟通的通道

物理接口：真实的网卡硬件（eth0、wlan0）
虚拟接口：软件创建的接口（lo、docker0）
```

**💡 接口命名规则**
```
传统命名：
eth0, eth1  → 有线网卡
wlan0, wlan1 → 无线网卡
lo          → 本地回环接口

现代命名（可预测命名）：
enp3s0      → PCI总线上的有线网卡
wlp2s0      → PCI总线上的无线网卡
```

### 1.2 网络接口的重要作用


**🎯 核心功能**
- **数据传输**：发送和接收网络数据包
- **地址绑定**：分配IP地址和MAC地址
- **协议处理**：处理不同层次的网络协议
- **流量控制**：管理网络流量和带宽

**🔗 网络层次对应关系**
```
应用层     ← 应用程序使用
传输层     ← TCP/UDP协议
网络层     ← IP地址配置    } 通过网络接口命令管理
链路层     ← MAC地址      }
物理层     ← 网卡硬件
```

---

## 2. 📡 ip addr - 现代网络地址查看


### 2.1 ip addr命令基础


**🔸 命令作用**
`ip addr`是现代Linux系统中查看和配置网络接口地址的**标准工具**，它替代了传统的`ifconfig`命令。

**💻 基本语法**
```bash
# 查看所有接口地址信息
ip addr show
ip addr        # 简写形式
ip a           # 更简写
```

### 2.2 输出信息详解


**📋 典型输出示例**
```
1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    inet 127.0.0.1/8 scope host lo
       valid_lft forever preferred_lft forever

2: eth0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast state UP group default qlen 1000
    link/ether 52:54:00:12:34:56 brd ff:ff:ff:ff:ff:ff
    inet 192.168.1.100/24 brd 192.168.1.255 scope global dynamic eth0
       valid_lft 86394sec preferred_lft 86394sec
```

**🔍 字段含义解析**

| 字段 | **含义说明** | **实际意思** |
|------|-------------|-------------|
| `1:, 2:` | `接口编号` | `系统分配的接口序号` |
| `lo, eth0` | `接口名称` | `网络接口的名字` |
| `<UP,LOWER_UP>` | `接口状态` | `UP=启用，LOWER_UP=链路正常` |
| `mtu 1500` | `最大传输单元` | `一次能传输的最大数据包大小` |
| `link/ether` | `MAC地址` | `网卡的物理地址（硬件地址）` |
| `inet 192.168.1.100/24` | `IP地址/子网掩码` | `分配给接口的网络地址` |

### 2.3 常用查看选项


**🎯 指定接口查看**
```bash
# 只查看特定接口
ip addr show eth0
ip a s eth0

# 只显示IPv4地址
ip -4 addr show

# 只显示IPv6地址  
ip -6 addr show
```

**📊 实用查看技巧**
```bash
# 只显示接口名称和IP地址（简洁模式）
ip -br addr show
# 输出示例：
# lo               UNKNOWN        127.0.0.1/8 
# eth0             UP             192.168.1.100/24

# 查看接口统计信息
ip -s addr show eth0
```

---

## 3. 🔧 ifconfig - 经典接口配置工具


### 3.1 ifconfig命令概述


**🔸 历史地位**
`ifconfig`是**传统**的网络接口配置工具，虽然在现代Linux中被`ip`命令替代，但在很多系统中仍然广泛使用。

> ⚠️ **注意**：某些精简的Linux发行版可能默认不安装`ifconfig`，需要安装`net-tools`包

### 3.2 基本使用方法


**💻 查看接口信息**
```bash
# 显示所有活动接口
ifconfig

# 显示所有接口（包括未激活的）
ifconfig -a

# 查看指定接口
ifconfig eth0
```

### 3.3 输出信息解读


**📋 典型输出**
```
eth0: flags=4163<UP,BROADCAST,RUNNING,MULTICAST>  mtu 1500
        inet 192.168.1.100  netmask 255.255.255.0  broadcast 192.168.1.255
        inet6 fe80::5054:ff:fe12:3456  prefixlen 64  scopeid 0x20<link>
        ether 52:54:00:12:34:56  txqueuelen 1000  (Ethernet)
        RX packets 1234  bytes 567890 (554.5 KiB)
        TX packets 987   bytes 123456 (120.5 KiB)
        collisions 0  errors 0  dropped 0  overruns 0  frame 0
```

**🔍 关键信息说明**

| 项目 | **含义** | **作用** |
|------|---------|---------|
| `flags=4163<UP,BROADCAST...>` | `接口状态标志` | `UP=激活，BROADCAST=支持广播` |
| `inet 192.168.1.100` | `IPv4地址` | `接口的IP地址` |
| `netmask 255.255.255.0` | `子网掩码` | `网络范围划分` |
| `ether 52:54:00:12:34:56` | `MAC地址` | `网卡物理地址` |
| `RX packets/TX packets` | `收发包统计` | `网络流量统计` |

### 3.4 ifconfig vs ip addr 对比


| 特性 | **ifconfig** | **ip addr** | **推荐使用** |
|------|-------------|-------------|-------------|
| **现代性** | `传统工具` | `现代标准` | `ip addr` |
| **功能丰富度** | `基础功能` | `功能完整` | `ip addr` |
| **输出格式** | `易读性强` | `信息详细` | `根据需求` |
| **安装需求** | `需要net-tools包` | `系统自带` | `ip addr` |

---

## 4. 🔗 ip link - 链路层信息管理


### 4.1 ip link作用理解


**🔸 什么是链路层**
链路层就是**网络的最底层**，负责在同一网络段内直接传输数据，就像邮递员在同一个小区内送信。

**💡 ip link专注功能**
- 查看网卡的**物理状态**（开启/关闭）
- 管理网卡的**MAC地址**
- 控制网卡的**基本属性**

### 4.2 基本查看命令


**💻 常用查看方式**
```bash
# 显示所有网络接口链路信息
ip link show
ip link        # 简写

# 查看指定接口
ip link show eth0

# 只显示接口名称
ip link show | grep '^[0-9]'
```

### 4.3 输出信息理解


**📋 输出示例**
```
1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN mode DEFAULT group default qlen 1000
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
2: eth0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast state UP mode DEFAULT group default qlen 1000
    link/ether 52:54:00:12:34:56 brd ff:ff:ff:ff:ff:ff
```

**🔍 重要状态标志**
- `UP`：接口已启用
- `LOWER_UP`：物理链路正常
- `BROADCAST`：支持广播
- `MULTICAST`：支持多播
- `LOOPBACK`：回环接口

### 4.4 实用管理操作


**⚡ 接口启用/禁用**
```bash
# 启用网络接口
sudo ip link set eth0 up

# 禁用网络接口  
sudo ip link set eth0 down

# 修改MTU大小
sudo ip link set eth0 mtu 1400
```

---

## 5. 📊 网络统计信息查看


### 5.1 /proc/net/dev 系统统计


**🔸 什么是/proc/net/dev**
这是Linux系统提供的**网络设备统计文件**，记录了每个网络接口的详细流量数据，就像网卡的"使用记录本"。

**💻 查看方法**
```bash
# 查看网络设备统计
cat /proc/net/dev

# 格式化显示（更易读）
column -t /proc/net/dev
```

### 5.2 统计信息解读


**📋 输出格式**
```
Inter-|   Receive                                                |  Transmit
 face |bytes    packets errs drop fifo frame compressed multicast|bytes    packets errs drop fifo colls carrier compressed
    lo:    1234      15    0    0    0     0          0         0     1234      15    0    0    0     0       0          0
  eth0: 5678912    4321    0    0    0     0          0         0  1234567    3210    0    0    0     0       0          0
```

**🔍 字段含义说明**

| 类别 | **字段** | **含义** |
|------|---------|----------|
| **接收(Receive)** | `bytes` | `接收的字节总数` |
| | `packets` | `接收的数据包数量` |
| | `errs` | `接收错误数` |
| | `drop` | `丢弃的包数` |
| **发送(Transmit)** | `bytes` | `发送的字节总数` |
| | `packets` | `发送的数据包数量` |
| | `errs` | `发送错误数` |
| | `colls` | `碰撞次数` |

### 5.3 实时监控技巧


**⚡ 实时查看网络流量**
```bash
# 每2秒刷新一次统计信息
watch -n 2 'cat /proc/net/dev'

# 配合其他工具使用
# 显示网络接口速率
cat /proc/net/dev | grep eth0 | awk '{print "RX: " $2 " bytes, TX: " $10 " bytes"}'
```

---

## 6. 🔧 网卡硬件信息查看


### 6.1 ethtool - 网卡详细信息工具


**🔸 ethtool的作用**
`ethtool`是查看和设置**网卡硬件特性**的专用工具，可以看到网卡的"身份证信息"，包括速度、双工模式、驱动信息等。

**💻 基本查看命令**
```bash
# 查看网卡基本信息
ethtool eth0

# 查看网卡驱动信息
ethtool -i eth0

# 查看网卡统计信息
ethtool -S eth0
```

### 6.2 输出信息详解


**📋 基本信息输出**
```
Settings for eth0:
    Supported ports: [ TP ]
    Supported link modes:   10baseT/Half 10baseT/Full
                            100baseT/Half 100baseT/Full
                            1000baseT/Full
    Speed: 1000Mb/s
    Duplex: Full
    Port: Twisted Pair
    Auto-negotiation: on
    Link detected: yes
```

**🔍 关键参数理解**

| 参数 | **含义** | **实际意思** |
|------|---------|-------------|
| `Speed: 1000Mb/s` | `网卡速度` | `千兆网卡，理论最大1Gbps` |
| `Duplex: Full` | `双工模式` | `可同时发送接收数据` |
| `Auto-negotiation: on` | `自动协商` | `自动匹配最佳连接参数` |
| `Link detected: yes` | `链路检测` | `网线连接正常` |

### 6.3 驱动信息查看


**💻 驱动详情**
```bash
ethtool -i eth0
# 输出：
driver: e1000
version: 7.3.21-k8-NAPI
firmware-version: 
bus-info: 0000:00:03.0
```

**📝 信息说明**
- `driver`：网卡驱动名称
- `version`：驱动版本
- `bus-info`：PCI总线信息

---

## 7. 📶 无线网卡专用命令


### 7.1 iwconfig - 无线网卡配置


**🔸 iwconfig的专门作用**
`iwconfig`是专门用于**无线网卡**的配置和查看工具，就像Wi-Fi的"控制面板"。

**💻 基本使用**
```bash
# 查看所有无线接口
iwconfig

# 查看指定无线接口
iwconfig wlan0
```

### 7.2 无线接口信息理解


**📋 典型输出**
```
wlan0     IEEE 802.11  ESSID:"MyWiFi"  
          Mode:Managed  Frequency:2.437 GHz  Access Point: 00:1B:2C:3D:4E:5F   
          Bit Rate=54 Mb/s   Tx-Power=20 dBm   
          Retry short limit:7   RTS thr:off   Fragment thr:off
          Power Management:on
          Link Quality=70/70  Signal level=-37 dBm  
          Rx invalid nwid:0  Rx invalid crypt:0  Rx invalid frag:0
```

**🔍 无线特有参数**

| 参数 | **含义** | **实际意思** |
|------|---------|-------------|
| `ESSID:"MyWiFi"` | `网络名称` | `连接的WiFi名称` |
| `Mode:Managed` | `工作模式` | `客户端模式（连接路由器）` |
| `Frequency:2.437 GHz` | `工作频率` | `WiFi工作在2.4GHz频段` |
| `Access Point` | `接入点MAC` | `连接的路由器MAC地址` |
| `Signal level=-37 dBm` | `信号强度` | `WiFi信号强度（越接近0越强）` |

### 7.3 无线网卡状态判断


**📶 信号质量评估**
- **信号强度 > -50dBm**：信号优秀 ⭐⭐⭐⭐⭐
- **-50 ~ -60dBm**：信号良好 ⭐⭐⭐⭐
- **-60 ~ -70dBm**：信号一般 ⭐⭐⭐
- **< -70dBm**：信号较差 ⭐⭐

---

## 8. 📁 系统文件方式查看


### 8.1 /sys/class/net 网络接口目录


**🔸 系统文件方式的优势**
`/sys/class/net`目录包含了所有网络接口的**系统级信息**，通过文件系统的方式提供网络接口数据，无需安装额外工具。

**💻 目录结构查看**
```bash
# 查看所有网络接口
ls /sys/class/net/
# 输出：eth0  lo  wlan0

# 查看接口详细信息目录
ls /sys/class/net/eth0/
```

### 8.2 常用信息文件


**📋 重要状态文件**
```bash
# 查看接口是否启用（1=启用，0=禁用）
cat /sys/class/net/eth0/operstate

# 查看MAC地址
cat /sys/class/net/eth0/address

# 查看MTU大小
cat /sys/class/net/eth0/mtu

# 查看接口类型
cat /sys/class/net/eth0/type
```

### 8.3 批量信息收集


**⚡ 一键查看脚本示例**
```bash
# 显示所有接口的基本信息
for iface in /sys/class/net/*; do
    name=$(basename $iface)
    state=$(cat $iface/operstate 2>/dev/null)
    mac=$(cat $iface/address 2>/dev/null)
    echo "$name: $state ($mac)"
done
```

---

## 9. 🔍 网络连接状态查看


### 9.1 netstat - 网络连接状态工具


**🔸 netstat的核心作用**
`netstat`用于显示**网络连接状态**、路由表和网络接口统计，就像查看"网络的通话记录"。

> 💡 **理解要点**：netstat主要看的是"谁在和谁通信"，而不是网卡本身的配置

**💻 常用参数组合**
```bash
# 显示所有网络连接
netstat -a

# 显示TCP连接
netstat -t

# 显示UDP连接  
netstat -u

# 显示监听端口
netstat -l

# 显示数字地址（不解析域名）
netstat -n

# 常用组合：显示所有TCP监听端口
netstat -tln
```

### 9.2 输出信息理解


**📋 典型输出**
```
Proto Recv-Q Send-Q Local Address           Foreign Address         State
tcp        0      0 0.0.0.0:22              0.0.0.0:*               LISTEN
tcp        0      0 192.168.1.100:22        192.168.1.200:54321     ESTABLISHED
udp        0      0 0.0.0.0:68              0.0.0.0:*               
```

**🔍 字段含义**
- `Proto`：协议类型（tcp/udp）
- `Local Address`：本地地址和端口
- `Foreign Address`：远程地址和端口  
- `State`：连接状态（LISTEN监听、ESTABLISHED已建立）

### 9.3 网络接口统计


**📊 接口统计信息**
```bash
# 显示网络接口统计
netstat -i
# 输出示例：
Kernel Interface table
Iface   MTU Met   RX-OK RX-ERR RX-DRP RX-OVR    TX-OK TX-ERR TX-DRP TX-OVR Flg
eth0   1500   0     1234      0      0      0      987      0      0      0 BMRU
lo    65536   0       15      0      0      0       15      0      0      0 LRU
```

---

## 10. 📋 核心要点总结


### 10.1 必须掌握的核心命令


```
🔸 现代标准：ip addr / ip a - 查看接口IP地址配置
🔸 传统工具：ifconfig - 查看接口配置（需安装net-tools）
🔸 链路管理：ip link - 管理接口物理状态
🔸 统计信息：cat /proc/net/dev - 查看流量统计
🔸 硬件信息：ethtool - 查看网卡硬件详情
🔸 无线专用：iwconfig - 查看无线网卡信息
🔸 系统方式：/sys/class/net - 通过文件系统查看
🔸 连接状态：netstat - 查看网络连接状态
```

### 10.2 关键理解要点


**🔹 命令选择策略**
```
日常使用推荐：
✅ ip addr - 现代Linux标准，功能完整
✅ ip link - 管理接口状态，简单直接
✅ /proc/net/dev - 查看流量统计，系统自带

特定需求使用：
🔧 ethtool - 需要查看网卡硬件信息时
📶 iwconfig - 管理无线网卡时  
🔍 netstat - 需要查看网络连接状态时
```

**🔹 信息层次理解**
```
物理层面：ethtool查看网卡硬件特性
链路层面：ip link管理接口启停状态  
网络层面：ip addr配置IP地址
应用层面：netstat查看连接状态
统计层面：/proc/net/dev查看流量数据
```

**🔹 故障排查思路**
```
第一步：ip link检查接口物理状态
第二步：ip addr检查IP地址配置
第三步：/proc/net/dev检查是否有数据流量
第四步：netstat检查网络连接状态
第五步：ethtool检查网卡硬件状态
```

### 10.3 实际应用场景


**🎯 日常运维场景**
- **服务器配置**：使用`ip addr`查看和配置网络地址
- **网络故障排查**：结合多个命令定位网络问题
- **性能监控**：使用`/proc/net/dev`监控网络流量
- **无线网络管理**：使用`iwconfig`配置WiFi连接
- **安全检查**：使用`netstat`检查可疑网络连接

**🔧 命令组合使用**
```bash
# 网络接口全面检查脚本示例
echo "=== 接口基本信息 ==="
ip addr show

echo -e "\n=== 接口状态 ==="  
ip link show

echo -e "\n=== 流量统计 ==="
cat /proc/net/dev | head -3

echo -e "\n=== 监听端口 ==="
netstat -tln | head -5
```

**核心记忆口诀**：
- ip命令现代用，addr看地址link看状态
- ifconfig虽传统，功能基础易上手  
- proc目录系统信息，统计流量很详细
- ethtool看硬件，iwconfig管无线
- netstat查连接，sys目录文件全