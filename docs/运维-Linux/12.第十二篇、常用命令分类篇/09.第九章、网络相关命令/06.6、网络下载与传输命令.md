---
title: 6、网络下载与传输命令
---
## 📚 目录

1. [wget文件下载工具](#1-wget文件下载工具)
2. [curl多协议传输工具](#2-curl多协议传输工具)  
3. [rsync文件同步传输](#3-rsync文件同步传输)
4. [scp安全复制命令](#4-scp安全复制命令)
5. [sftp安全文件传输](#5-sftp安全文件传输)
6. [ftp文件传输协议](#6-ftp文件传输协议)
7. [aria2多线程下载工具](#7-aria2多线程下载工具)
8. [核心要点总结](#8-核心要点总结)

---

## 1. 🌐 wget文件下载工具


### 1.1 什么是wget

**wget**是Linux系统中最常用的命令行下载工具，就像你在浏览器里点击下载按钮一样，但它是在命令行中完成的。

> 💡 **通俗理解**  
> 把wget想象成一个专业的"搬运工"，你告诉它网址，它就帮你把文件从网上搬到你的电脑里

**核心特点**：
- **断点续传**：下载中断了可以接着下载，不用重新开始
- **递归下载**：可以下载整个网站的所有文件
- **后台运行**：下载大文件时不影响你做其他事情
- **支持多种协议**：HTTP、HTTPS、FTP都可以

### 1.2 基本使用方法


**🔸 最简单的下载**
```bash
# 下载一个文件到当前目录
wget https://example.com/file.zip

# 指定保存的文件名
wget -O myfile.zip https://example.com/file.zip
```

**🔸 常用参数详解**

| 参数 | 含义 | 使用场景 |
|------|------|----------|
| `-O filename` | 指定保存文件名 | `下载时重命名文件` |
| `-P directory` | 指定保存目录 | `下载到指定文件夹` |
| `-c` | 断点续传 | `网络中断后继续下载` |
| `-b` | 后台下载 | `下载大文件时不占用终端` |
| `-t 3` | 重试3次 | `网络不稳定时多试几次` |
| `-T 30` | 超时30秒 | `避免长时间等待` |

### 1.3 实际应用场景


**📥 日常下载示例**
```bash
# 下载软件包到Downloads目录
wget -P ~/Downloads https://releases.ubuntu.com/20.04/ubuntu-20.04-desktop-amd64.iso

# 断点续传大文件（如果之前下载中断了）
wget -c https://example.com/bigfile.tar.gz

# 后台下载并保存日志
wget -b -o download.log https://example.com/largefile.zip
```

**🌐 批量下载技巧**
```bash
# 从文件列表中批量下载
echo "https://example.com/file1.zip" > urls.txt
echo "https://example.com/file2.zip" >> urls.txt
wget -i urls.txt

# 限制下载速度（避免占满带宽）
wget --limit-rate=200k https://example.com/file.zip
```

---

## 2. 🔧 curl多协议传输工具


### 2.1 curl是什么

**curl**不仅仅是下载工具，更像是一个"网络瑞士军刀"。它可以发送各种网络请求，获取网页内容，上传文件，甚至测试API接口。

> 💡 **形象比喻**  
> 如果wget是专业搬运工，那curl就是多面手 - 既能搬东西，又能帮你查看、测试、发送各种网络内容

**curl vs wget 区别**：
- **wget**：专门用来下载文件，简单直接
- **curl**：功能更全面，可以查看网页、测试接口、上传数据

### 2.2 基本使用方法


**🔸 查看网页内容**
```bash
# 直接显示网页内容（不保存）
curl https://httpbin.org/ip

# 保存到文件
curl -o webpage.html https://example.com

# 只显示响应头信息
curl -I https://example.com
```

**🔸 下载文件功能**
```bash
# 下载文件（保持原文件名）
curl -O https://example.com/file.zip

# 下载文件并重命名
curl -o myfile.zip https://example.com/file.zip

# 断点续传
curl -C - -O https://example.com/bigfile.zip
```

### 2.3 高级应用


**🌐 API接口测试**
```bash
# GET请求获取数据
curl https://api.github.com/users/octocat

# POST请求发送数据
curl -X POST -d "name=john&age=25" https://httpbin.org/post

# 发送JSON数据
curl -X POST -H "Content-Type: application/json" \
     -d '{"name":"john"}' https://httpbin.org/post
```

**🔐 带认证的请求**
```bash
# 基础认证
curl -u username:password https://example.com/api

# 使用cookie
curl -b "session=abc123" https://example.com/profile
```

---

## 3. 🔄 rsync文件同步传输


### 3.1 rsync是什么

**rsync**是一个超级智能的文件同步工具，它的特点是"**只传输变化的部分**"。就像你同步手机照片到云盘时，只上传新拍的照片，不会重复上传已有的。

> 💡 **生活类比**  
> 想象你要把家里的书搬到新家，rsync就像一个聪明的搬家工人 - 它会检查新家已经有哪些书了，只搬那些没有的，大大节省时间和力气

**核心优势**：
- **增量同步**：只传输变化的文件
- **保持权限**：保持文件的所有属性不变
- **压缩传输**：传输过程中压缩数据，节省带宽
- **断点续传**：支持中断后继续同步

### 3.2 基本语法格式


```bash
# 本地同步格式
rsync [选项] 源目录 目标目录

# 远程同步格式  
rsync [选项] 源目录 用户名@服务器IP:目标目录
```

**🔸 重要参数说明**

| 参数 | 含义 | 实际作用 |
|------|------|----------|
| `-a` | 归档模式 | `保持所有文件属性（权限、时间等）` |
| `-v` | 详细输出 | `显示同步过程，看到正在处理哪些文件` |
| `-z` | 压缩传输 | `网络传输时压缩，节省带宽` |
| `-r` | 递归同步 | `同步整个目录树` |
| `--delete` | 删除多余文件 | `目标目录完全同步源目录` |
| `--progress` | 显示进度 | `看到传输进度条` |

### 3.3 实用同步场景


**📁 本地目录同步**
```bash
# 备份重要文档
rsync -av ~/Documents/ ~/Backup/Documents/

# 同步时显示进度
rsync -av --progress ~/Photos/ /external-drive/Photos/
```

**🌐 远程服务器同步**
```bash
# 上传本地文件到服务器
rsync -avz ~/website/ user@server.com:/var/www/html/

# 从服务器下载文件到本地
rsync -avz user@server.com:/home/user/data/ ~/data/

# 完全同步（删除目标目录多余文件）
rsync -avz --delete ~/local-site/ user@server.com:/var/www/
```

---

## 4. 🔒 scp安全复制命令


### 4.1 scp是什么

**scp**（Secure Copy）是基于SSH的安全文件传输命令，就像给你的文件传输加了一把安全锁。它使用SSH协议加密传输，确保文件在网络中的安全。

> 💡 **安全类比**  
> 如果说普通的文件传输像寄平信，那scp就像寄挂号信 - 不仅能送达，还有安全保障，别人无法偷看内容

**主要特点**：
- **加密传输**：所有数据都经过SSH加密
- **简单易用**：语法类似cp命令
- **身份验证**：需要SSH登录权限才能传输
- **跨平台**：Linux、Windows、macOS都支持

### 4.2 基本使用方法


**🔸 基本语法**
```bash
# 上传文件到远程服务器
scp 本地文件 用户名@服务器IP:远程路径

# 从远程服务器下载文件
scp 用户名@服务器IP:远程文件 本地路径
```

**🔸 实际操作示例**
```bash
# 上传单个文件
scp myfile.txt user@192.168.1.100:/home/user/

# 上传整个目录（-r递归）
scp -r ~/project/ user@server.com:/home/user/projects/

# 下载文件到本地
scp user@server.com:/home/user/backup.tar.gz ~/Downloads/

# 指定SSH端口（如果不是默认22端口）
scp -P 2222 file.txt user@server.com:/tmp/
```

### 4.3 高级使用技巧


**🔐 密钥认证传输**
```bash
# 使用SSH密钥文件
scp -i ~/.ssh/id_rsa file.txt user@server.com:/home/user/

# 保持文件原有权限
scp -p config.conf user@server.com:/etc/app/
```

**📊 传输状态监控**
```bash
# 显示传输进度
scp -v file.txt user@server.com:/tmp/

# 压缩传输（适合大文件）
scp -C largefile.zip user@server.com:/home/user/
```

---

## 5. 💻 sftp安全文件传输


### 5.1 sftp是什么

**sftp**（SSH File Transfer Protocol）是一个交互式的安全文件传输工具，就像远程登录到服务器上操作文件一样，但专门用来管理文件。

> 💡 **交互理解**  
> sftp就像远程桌面，但专门用来管理文件 - 你可以浏览远程目录、上传下载文件，就像操作本地文件夹一样方便

**sftp vs scp 区别**：
- **scp**：一次性传输，适合明确知道要传哪个文件
- **sftp**：交互式操作，适合需要浏览、管理远程文件

### 5.2 连接和基本操作


**🔸 连接服务器**
```bash
# 连接到远程服务器
sftp user@server.com

# 指定端口连接
sftp -P 2222 user@server.com
```

**🔸 基本文件操作命令**

| 命令 | 作用 | 示例 |
|------|------|------|
| `ls` | 查看远程目录 | `ls -la` |
| `lls` | 查看本地目录 | `lls ~/Downloads` |
| `pwd` | 显示远程当前目录 | `pwd` |
| `lpwd` | 显示本地当前目录 | `lpwd` |
| `cd` | 切换远程目录 | `cd /home/user` |
| `lcd` | 切换本地目录 | `lcd ~/Desktop` |

### 5.3 文件传输操作


**📤 上传下载文件**
```bash
sftp> put localfile.txt                # 上传文件到当前远程目录
sftp> put -r local-folder/             # 上传整个目录
sftp> get remotefile.txt               # 下载文件到当前本地目录  
sftp> get -r remote-folder/            # 下载整个目录
sftp> mget *.txt                       # 批量下载所有txt文件
```

**📁 目录管理**
```bash
sftp> mkdir backup                     # 在远程创建目录
sftp> rmdir old-folder                 # 删除远程空目录
sftp> rename oldname newname           # 重命名远程文件
sftp> chmod 755 script.sh              # 修改远程文件权限
```

---

## 6. 📁 ftp文件传输协议


### 6.1 ftp基础概念

**ftp**（File Transfer Protocol）是最传统的文件传输协议，就像互联网早期的"文件共享平台"。虽然安全性不如现代工具，但在局域网和一些特定场景下仍然广泛使用。

> ⚠️ **安全提醒**  
> ftp传输的数据是明文的，就像寄明信片一样，路上任何人都能看到内容。在公网上建议使用sftp代替

**ftp的特点**：
- **历史悠久**：互联网早期就存在的协议
- **简单直接**：配置和使用都比较简单
- **广泛支持**：几乎所有系统都支持
- **安全性较低**：数据明文传输

### 6.2 连接和基本使用


**🔸 连接FTP服务器**
```bash
# 连接FTP服务器
ftp ftp.example.com

# 匿名连接（如果服务器支持）
ftp ftp.ubuntu.com
# 用户名输入: anonymous
# 密码: 你的邮箱地址
```

**🔸 基本FTP命令**

| 命令 | 作用 | 使用说明 |
|------|------|----------|
| `ls` | 列出远程文件 | `查看服务器上的文件` |
| `cd dirname` | 切换远程目录 | `进入服务器上的目录` |
| `lcd dirname` | 切换本地目录 | `改变本地工作目录` |
| `get filename` | 下载文件 | `从服务器下载到本地` |
| `put filename` | 上传文件 | `从本地上传到服务器` |
| `mget *.txt` | 批量下载 | `下载所有txt文件` |
| `binary` | 二进制模式 | `传输程序、图片等二进制文件` |
| `ascii` | 文本模式 | `传输纯文本文件` |

### 6.3 实际使用示例


**📥 下载文件操作**
```bash
ftp> open ftp.example.com              # 连接服务器
Name: myusername                       # 输入用户名
Password: ********                     # 输入密码  
ftp> ls                                # 查看文件列表
ftp> binary                            # 切换到二进制模式
ftp> get software.zip                  # 下载文件
ftp> quit                              # 退出连接
```

---

## 7. ⚡ aria2多线程下载工具


### 7.1 aria2是什么

**aria2**是一个超级强大的多线程下载工具，就像开了多条通道同时下载文件，速度比wget快很多。它支持几乎所有的下载协议，还能下载BT种子。

> 💡 **速度类比**  
> 如果wget是单车道，那aria2就是多车道高速公路 - 多个线程同时下载同一个文件的不同部分，然后合并在一起

**aria2的优势**：
- **多线程下载**：同时开启多个连接下载同一文件
- **支持协议丰富**：HTTP/HTTPS、FTP、BitTorrent、Metalink
- **配置灵活**：可以详细配置各种下载参数
- **Web界面**：可以通过浏览器管理下载任务

### 7.2 安装和基本使用


**🔧 安装aria2**
```bash
# Ubuntu/Debian系统
sudo apt install aria2

# CentOS/RHEL系统
sudo yum install aria2

# 或者用dnf
sudo dnf install aria2
```

**🚀 基本下载命令**
```bash
# 简单下载文件
aria2c https://example.com/file.zip

# 多线程下载（开启10个连接）
aria2c -x 10 https://example.com/largefile.zip

# 指定下载目录
aria2c -d ~/Downloads https://example.com/file.zip
```

### 7.3 高级功能配置


**⚙️ 重要参数配置**

| 参数 | 作用 | 推荐设置 |
|------|------|----------|
| `-x 10` | 最大连接数 | `一般设置5-16之间` |
| `-s 10` | 分段下载数 | `与连接数相同` |
| `-k 1M` | 最小分段大小 | `避免文件过小被分段` |
| `--max-download-limit=500K` | 限制下载速度 | `避免占满带宽` |
| `-c` | 断点续传 | `网络中断后继续下载` |

**📋 实际使用示例**
```bash
# 高速下载大文件
aria2c -x 16 -s 16 -k 1M -c \
       https://releases.ubuntu.com/20.04/ubuntu-20.04-desktop-amd64.iso

# 从文件列表批量下载
echo "https://example.com/file1.zip" > download-list.txt
echo "https://example.com/file2.zip" >> download-list.txt
aria2c -i download-list.txt

# 下载BT种子
aria2c /path/to/file.torrent
```

**🌐 Web界面管理**
```bash
# 启动aria2的RPC服务
aria2c --enable-rpc --rpc-listen-all=true --rpc-allow-origin-all

# 然后可以通过Web界面管理下载
# 浏览器打开: http://aria2c.com/ 或其他aria2 web界面
```

---

## 8. 📋 核心要点总结


### 8.1 各工具特点对比


| 工具 | **主要用途** | **最大优势** | **最佳使用场景** |
|------|------------|--------------|------------------|
| **wget** | `网络文件下载` | `简单易用，断点续传` | `日常下载单个文件` |
| **curl** | `多协议数据传输` | `功能全面，支持API测试` | `开发测试，获取网页内容` |
| **rsync** | `文件同步` | `增量同步，智能传输` | `备份，网站部署` |
| **scp** | `安全文件复制` | `加密传输，简单直接` | `服务器间文件传输` |
| **sftp** | `交互式安全传输` | `可浏览管理远程文件` | `需要管理远程文件系统` |
| **ftp** | `传统文件传输` | `兼容性好，配置简单` | `局域网文件共享` |
| **aria2** | `多线程下载` | `下载速度快，支持多协议` | `下载大文件，BT下载` |

### 8.2 选择工具的建议


**🎯 根据需求选择工具**

```
简单下载文件 → wget
测试API接口 → curl  
同步备份数据 → rsync
服务器间传文件 → scp
管理远程文件 → sftp
局域网文件共享 → ftp
高速下载大文件 → aria2
```

**💡 实用组合技巧**
- **网站部署**：`rsync` + `ssh密钥` 实现一键部署
- **自动备份**：`crontab` + `rsync` 定时同步重要文件  
- **开发调试**：`curl` 测试API + `wget` 下载依赖包
- **大文件传输**：`aria2` 高速下载 + `rsync` 智能同步

### 8.3 安全使用建议


> 🔒 **安全最佳实践**

- **优先使用加密工具**：sftp > ftp，https > http
- **使用SSH密钥认证**：避免密码被拦截
- **限制传输速度**：避免占满网络带宽影响其他应用
- **验证文件完整性**：下载重要文件后检查MD5或SHA1

### 8.4 故障排除指南


**📊 常见问题解决**

- [x] **连接超时**：检查网络，使用 `-T` 参数设置超时时间
- [x] **权限被拒绝**：确认SSH密钥配置，检查目标目录权限
- [x] **下载中断**：使用 `-c` 参数启用断点续传
- [x] **速度太慢**：尝试多线程工具如aria2，或限制其他网络应用

**🔧 调试技巧**
```bash
# 查看详细执行过程
wget -v https://example.com/file.zip
curl -v https://example.com/api
rsync -av --progress source/ dest/

# 测试连接
ping target-server.com
telnet server.com 22  # 测试SSH连接
```

**核心记忆口诀**：
- wget简单下载强，curl功能更全面
- rsync同步最智能，scp安全又直接  
- sftp交互管理好，ftp传统兼容广
- aria2多线程飞快，选对工具事半倍