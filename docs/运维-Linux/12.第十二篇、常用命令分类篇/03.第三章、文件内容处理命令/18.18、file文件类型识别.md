---
title: 18ã€fileæ–‡ä»¶ç±»å‹è¯†åˆ«
---
## ğŸ“š ç›®å½•

1. [fileå‘½ä»¤åŸºæœ¬æ¦‚å¿µ](#1-fileå‘½ä»¤åŸºæœ¬æ¦‚å¿µ)
2. [æ–‡ä»¶ç±»å‹æ£€æµ‹åŸç†](#2-æ–‡ä»¶ç±»å‹æ£€æµ‹åŸç†)
3. [åŸºæœ¬ä½¿ç”¨æ–¹æ³•](#3-åŸºæœ¬ä½¿ç”¨æ–¹æ³•)
4. [é«˜çº§å‚æ•°è¯¦è§£](#4-é«˜çº§å‚æ•°è¯¦è§£)
5. [å®é™…åº”ç”¨åœºæ™¯](#5-å®é™…åº”ç”¨åœºæ™¯)
6. [è„šæœ¬è‡ªåŠ¨åŒ–å¤„ç†](#6-è„šæœ¬è‡ªåŠ¨åŒ–å¤„ç†)
7. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#7-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ” fileå‘½ä»¤åŸºæœ¬æ¦‚å¿µ


### 1.1 ä»€ä¹ˆæ˜¯fileå‘½ä»¤


**ğŸ”¸ æ ¸å¿ƒå®šä¹‰**
```
fileå‘½ä»¤ï¼šLinuxç³»ç»Ÿä¸­ç”¨æ¥è¯†åˆ«æ–‡ä»¶ç±»å‹çš„å·¥å…·
ä½œç”¨ï¼šé€šè¿‡åˆ†ææ–‡ä»¶å†…å®¹è€Œéæ–‡ä»¶æ‰©å±•åæ¥åˆ¤æ–­æ–‡ä»¶çœŸå®ç±»å‹
åŸç†ï¼šè¯»å–æ–‡ä»¶çš„"é­”æ³•æ•°å­—"(Magic Number)æ¥è¯†åˆ«æ ¼å¼
```

**ğŸ’¡ ä¸ºä»€ä¹ˆéœ€è¦fileå‘½ä»¤**
```
æ—¥å¸¸ç—›ç‚¹ï¼š
â€¢ æ–‡ä»¶æ²¡æœ‰æ‰©å±•åï¼Œä¸çŸ¥é“æ˜¯ä»€ä¹ˆç±»å‹
â€¢ æ–‡ä»¶æ‰©å±•åè¢«æ¶æ„ä¿®æ”¹æˆ–é”™è¯¯å‘½å
â€¢ éœ€è¦æ‰¹é‡è¯†åˆ«å¤§é‡æœªçŸ¥æ–‡ä»¶çš„æ ¼å¼
â€¢ åœ¨è„šæœ¬ä¸­éœ€è¦æ ¹æ®æ–‡ä»¶ç±»å‹è¿›è¡Œä¸åŒå¤„ç†

ä¼ ç»Ÿæ–¹æ³•å±€é™æ€§ï¼š
ä»…çœ‹æ‰©å±•å â†’ å®¹æ˜“è¢«æ¬ºéª—ï¼Œä¸å¯é 
fileå‘½ä»¤ä¼˜åŠ¿ â†’ çœ‹æ–‡ä»¶å†…å®¹ï¼Œå‡†ç¡®å¯é 
```

### 1.2 å·¥ä½œæœºåˆ¶


**ğŸ”§ æ£€æµ‹æµç¨‹**
```
æ–‡ä»¶åˆ†ææµç¨‹ï¼š
æ–‡ä»¶è¾“å…¥ â†’ è¯»å–æ–‡ä»¶å¤´ â†’ å¯¹æ¯”é­”æ³•æ•°æ®åº“ â†’ è¾“å‡ºæ–‡ä»¶ç±»å‹

å…·ä½“æ­¥éª¤ï¼š
Step 1 ğŸ” è¯»å–æ–‡ä»¶å‰å‡ ä¸ªå­—èŠ‚
Step 2 ğŸ“‹ æŸ¥è¯¢ /usr/share/misc/magic æ•°æ®åº“
Step 3 ğŸ¯ åŒ¹é…å¯¹åº”çš„æ–‡ä»¶æ ¼å¼
Step 4 ğŸ“„ è¾“å‡ºè¯¦ç»†çš„æ–‡ä»¶ä¿¡æ¯
```

**ğŸ—ƒï¸ é­”æ³•æ•°æ®åº“**
```
æ•°æ®åº“ä½ç½®ï¼š/usr/share/misc/magic
åŒ…å«å†…å®¹ï¼š
â€¢ å„ç§æ–‡ä»¶æ ¼å¼çš„ç‰¹å¾ç 
â€¢ æ–‡ä»¶å¤´çš„äºŒè¿›åˆ¶æ¨¡å¼
â€¢ MIMEç±»å‹å¯¹åº”å…³ç³»
â€¢ æ–‡ä»¶æè¿°ä¿¡æ¯

ç¤ºä¾‹ç‰¹å¾ï¼š
PNGå›¾ç‰‡ï¼š89 50 4E 47 (åå…­è¿›åˆ¶)
PDFæ–‡æ¡£ï¼š25 50 44 46 (%PDF)
ZIPå‹ç¼©ï¼š50 4B 03 04 (PK..)
```

---

## 2. ğŸ”¬ æ–‡ä»¶ç±»å‹æ£€æµ‹åŸç†


### 2.1 é­”æ³•æ•°å­—æ¦‚å¿µ


**ğŸ¯ ä»€ä¹ˆæ˜¯é­”æ³•æ•°å­—**
```
å®šä¹‰ï¼šæ–‡ä»¶å¼€å¤´çš„ç‰¹å®šå­—èŠ‚åºåˆ—ï¼Œç”¨äºæ ‡è¯†æ–‡ä»¶æ ¼å¼
ä½ç½®ï¼šé€šå¸¸åœ¨æ–‡ä»¶çš„å‰å‡ ä¸ªå­—èŠ‚
ä½œç”¨ï¼šè®©æ“ä½œç³»ç»Ÿå’Œç¨‹åºå¿«é€Ÿè¯†åˆ«æ–‡ä»¶ç±»å‹

å¸¸è§é­”æ³•æ•°å­—ï¼š
æ ¼å¼        é­”æ³•æ•°å­—(åå…­è¿›åˆ¶)    ASCIIè¡¨ç¤º
JPEG       FF D8 FF              Ã¿Ã˜Ã¿
PNG        89 50 4E 47          â€°PNG
GIF        47 49 46 38          GIF8
PDF        25 50 44 46          %PDF
ZIP        50 4B 03 04          PK..
```

**ğŸ” æŸ¥çœ‹æ–‡ä»¶çš„é­”æ³•æ•°å­—**
```bash
# æŸ¥çœ‹æ–‡ä»¶å‰16ä¸ªå­—èŠ‚çš„åå…­è¿›åˆ¶å†…å®¹
hexdump -C filename | head -1

# ç¤ºä¾‹ï¼šæŸ¥çœ‹PNGå›¾ç‰‡çš„æ–‡ä»¶å¤´
$ hexdump -C image.png | head -1
00000000  89 50 4e 47 0d 0a 1a 0a  49 48 44 52 00 00 03 20
          â†‘  â†‘  â†‘  â†‘
         PNGçš„é­”æ³•æ•°å­—ï¼š89 50 4E 47
```

### 2.2 MIMEç±»å‹ç³»ç»Ÿ


**ğŸ“‹ MIMEç±»å‹ç»“æ„**
```
MIMEæ ¼å¼ï¼šä¸»ç±»å‹/å­ç±»å‹

å¸¸è§ä¸»ç±»å‹ï¼š
â€¢ text/     - æ–‡æœ¬æ–‡ä»¶
â€¢ image/    - å›¾åƒæ–‡ä»¶  
â€¢ audio/    - éŸ³é¢‘æ–‡ä»¶
â€¢ video/    - è§†é¢‘æ–‡ä»¶
â€¢ application/ - åº”ç”¨ç¨‹åºæ–‡ä»¶

ç¤ºä¾‹å¯¹åº”ï¼š
æ–‡ä»¶ç±»å‹        MIMEç±»å‹
HTMLç½‘é¡µ        text/html
JPEGå›¾ç‰‡        image/jpeg
MP3éŸ³é¢‘         audio/mpeg
PDFæ–‡æ¡£         application/pdf
```

---

## 3. ğŸ› ï¸ åŸºæœ¬ä½¿ç”¨æ–¹æ³•


### 3.1 åŸºç¡€è¯­æ³•


**ğŸ“ å‘½ä»¤æ ¼å¼**
```bash
file [é€‰é¡¹] æ–‡ä»¶å...

æœ€ç®€å•ç”¨æ³•ï¼š
file filename          # è¯†åˆ«å•ä¸ªæ–‡ä»¶
file file1 file2 file3  # è¯†åˆ«å¤šä¸ªæ–‡ä»¶
file *                  # è¯†åˆ«å½“å‰ç›®å½•æ‰€æœ‰æ–‡ä»¶
```

### 3.2 å¸¸ç”¨ç¤ºä¾‹


**ğŸ”¸ åŸºæœ¬æ–‡ä»¶è¯†åˆ«**

| æ–‡ä»¶ç±»å‹ | **å‘½ä»¤ç¤ºä¾‹** | **è¾“å‡ºç»“æœ** |
|---------|-------------|-------------|
| **æ–‡æœ¬æ–‡ä»¶** | `file test.txt` | `test.txt: UTF-8 Unicode text` |
| **å›¾ç‰‡æ–‡ä»¶** | `file photo.jpg` | `photo.jpg: JPEG image data, JFIF standard` |
| **å‹ç¼©æ–‡ä»¶** | `file archive.zip` | `archive.zip: Zip archive data` |
| **å¯æ‰§è¡Œæ–‡ä»¶** | `file /bin/ls` | `/bin/ls: ELF 64-bit LSB executable` |

**ğŸ’» å®é™…æ“ä½œæ¼”ç¤º**
```bash
# åˆ›å»ºæµ‹è¯•æ–‡ä»¶
echo "Hello World" > test.txt
wget -q https://example.com/image.jpg

# è¯†åˆ«æ–‡ä»¶ç±»å‹
$ file test.txt
test.txt: ASCII text

$ file image.jpg
image.jpg: JPEG image data, JFIF standard 1.01

# æ‰¹é‡è¯†åˆ«
$ file *
test.txt:  ASCII text
image.jpg: JPEG image data
script.sh: Bourne-Again shell script text
data.zip:  Zip archive data
```

### 3.3 ç›®å½•å’Œç‰¹æ®Šæ–‡ä»¶


**ğŸ“ å¤„ç†ä¸åŒæ–‡ä»¶ç±»å‹**
```bash
# ç›®å½•
$ file /home/user
/home/user: directory

# ç¬¦å·é“¾æ¥
$ file /usr/bin/python
/usr/bin/python: symbolic link to python3

# è®¾å¤‡æ–‡ä»¶
$ file /dev/sda1
/dev/sda1: block special

# ç©ºæ–‡ä»¶
$ touch empty.txt && file empty.txt
empty.txt: empty
```

---

## 4. âš™ï¸ é«˜çº§å‚æ•°è¯¦è§£


### 4.1 è¾“å‡ºæ ¼å¼æ§åˆ¶


**ğŸ”§ å…³é”®å‚æ•°è¯´æ˜**

| å‚æ•° | **ä½œç”¨** | **ä½¿ç”¨åœºæ™¯** | **è¾“å‡ºç¤ºä¾‹** |
|------|---------|-------------|-------------|
| `-b` | **ç®€æ´è¾“å‡º** | `è„šæœ¬å¤„ç†æ—¶å»é™¤æ–‡ä»¶å` | `JPEG image data` |
| `-i` | **æ˜¾ç¤ºMIMEç±»å‹** | `Webå¼€å‘ã€APIå¤„ç†` | `image/jpeg; charset=binary` |
| `-L` | **è·Ÿéšç¬¦å·é“¾æ¥** | `å¤„ç†é“¾æ¥æ–‡ä»¶` | `æ˜¾ç¤ºé“¾æ¥ç›®æ ‡çš„æ–‡ä»¶ç±»å‹` |
| `-z` | **æŸ¥çœ‹å‹ç¼©æ–‡ä»¶å†…å®¹** | `åˆ†æå‹ç¼©åŒ…å†…éƒ¨` | `gzip compressed data` |

**ğŸ’¡ å®ç”¨ç»„åˆç¤ºä¾‹**
```bash
# åªæ˜¾ç¤ºæ–‡ä»¶ç±»å‹ï¼Œä¸æ˜¾ç¤ºæ–‡ä»¶åï¼ˆé€‚åˆè„šæœ¬ï¼‰
$ file -b document.pdf
PDF document, version 1.4

# æ˜¾ç¤ºMIMEç±»å‹ï¼ˆWebå¼€å‘å¸¸ç”¨ï¼‰
$ file -i photo.png
photo.png: image/png; charset=binary

# ç»„åˆä½¿ç”¨ï¼šMIMEç±»å‹ç®€æ´è¾“å‡º
$ file -bi photo.png
image/png; charset=binary
```

### 4.2 å‹ç¼©æ–‡ä»¶å¤„ç†


**ğŸ“¦ å‹ç¼©æ–‡ä»¶åˆ†æ**
```bash
# åˆ†æå‹ç¼©æ–‡ä»¶æœ¬èº«
$ file archive.tar.gz
archive.tar.gz: gzip compressed data

# æŸ¥çœ‹å‹ç¼©æ–‡ä»¶å†…éƒ¨å†…å®¹ï¼ˆéœ€è¦-zå‚æ•°ï¼‰
$ file -z archive.tar.gz
archive.tar.gz: POSIX tar archive (gzip compressed data)

# åˆ†æå‹ç¼©åŒ…å†…çš„æ¯ä¸ªæ–‡ä»¶
$ file -z package.zip
package.zip: Zip archive data (text/plain; charset=us-ascii)
```

### 4.3 ç¼–ç æ ¼å¼è¯†åˆ«


**ğŸ“ æ–‡æœ¬ç¼–ç æ£€æµ‹**
```bash
# ä¸­æ–‡æ–‡ä»¶ç¼–ç æ£€æµ‹
$ file chinese.txt
chinese.txt: UTF-8 Unicode text

# æ£€æµ‹å„ç§ç¼–ç 
$ file gbk_file.txt
gbk_file.txt: ISO-8859 text

# è¯¦ç»†ç¼–ç ä¿¡æ¯
$ file -i multilang.txt
multilang.txt: text/plain; charset=utf-8
```

---

## 5. ğŸ¯ å®é™…åº”ç”¨åœºæ™¯


### 5.1 å®‰å…¨æ–‡ä»¶éªŒè¯


**ğŸ›¡ï¸ æ¶æ„æ–‡ä»¶æ£€æµ‹**
```bash
# åœºæ™¯ï¼šæ”¶åˆ°ä¸€ä¸ª"document.pdf"æ–‡ä»¶ï¼Œä½†æ€€ç–‘æ˜¯ä¼ªè£…çš„å¯æ‰§è¡Œæ–‡ä»¶
$ file document.pdf
document.pdf: PE32 executable (GUI) Intel 80386, for MS Windows
# âš ï¸ å‘ç°ï¼šå®é™…ä¸Šæ˜¯Windowså¯æ‰§è¡Œæ–‡ä»¶ï¼

# æ­£å¸¸PDFæ–‡ä»¶åº”è¯¥æ˜¾ç¤ºï¼š
$ file real_document.pdf  
real_document.pdf: PDF document, version 1.4

# è„šæœ¬ä¸­çš„å®‰å…¨æ£€æŸ¥
#!/bin/bash
check_file_safety() {
    local file_type=$(file -b "$1")
    if [[ $file_type == *"executable"* ]]; then
        echo "âš ï¸  è­¦å‘Šï¼šæ–‡ä»¶ $1 æ˜¯å¯æ‰§è¡Œæ–‡ä»¶ï¼Œå¯èƒ½æœ‰å®‰å…¨é£é™©"
        return 1
    fi
    echo "âœ… æ–‡ä»¶ $1 å®‰å…¨ï¼š$file_type"
    return 0
}
```

### 5.2 æ‰¹é‡æ–‡ä»¶æ•´ç†


**ğŸ“‚ è‡ªåŠ¨åˆ†ç±»è„šæœ¬**
```bash
#!/bin/bash
# æ ¹æ®æ–‡ä»¶ç±»å‹è‡ªåŠ¨æ•´ç†æ–‡ä»¶
organize_files() {
    for file in *; do
        [[ -d "$file" ]] && continue  # è·³è¿‡ç›®å½•
        
        file_type=$(file -b "$file")
        
        case $file_type in
            *"image"*)
                mkdir -p images && mv "$file" images/
                echo "ğŸ“¸ ç§»åŠ¨å›¾ç‰‡: $file"
                ;;
            *"PDF"*)
                mkdir -p documents && mv "$file" documents/
                echo "ğŸ“„ ç§»åŠ¨æ–‡æ¡£: $file"
                ;;
            *"audio"*|*"Audio"*)
                mkdir -p music && mv "$file" music/
                echo "ğŸµ ç§»åŠ¨éŸ³é¢‘: $file"
                ;;
            *"video"*|*"Video"*)
                mkdir -p videos && mv "$file" videos/
                echo "ğŸ¬ ç§»åŠ¨è§†é¢‘: $file"
                ;;
        esac
    done
}
```

### 5.3 Webå¼€å‘åº”ç”¨


**ğŸŒ ä¸Šä¼ æ–‡ä»¶éªŒè¯**
```bash
#!/bin/bash
# Webåç«¯æ–‡ä»¶ä¸Šä¼ éªŒè¯
validate_upload() {
    local uploaded_file="$1"
    local expected_type="$2"
    
    # è·å–å®é™…MIMEç±»å‹
    actual_mime=$(file -bi "$uploaded_file" | cut -d';' -f1)
    
    case $expected_type in
        "image")
            if [[ $actual_mime == image/* ]]; then
                echo "âœ… å›¾ç‰‡ä¸Šä¼ éªŒè¯é€šè¿‡"
                return 0
            fi
            ;;
        "document")
            if [[ $actual_mime == application/pdf ]] || 
               [[ $actual_mime == application/msword ]]; then
                echo "âœ… æ–‡æ¡£ä¸Šä¼ éªŒè¯é€šè¿‡"
                return 0
            fi
            ;;
    esac
    
    echo "âŒ æ–‡ä»¶ç±»å‹ä¸åŒ¹é…ï¼æœŸæœ›: $expected_type, å®é™…: $actual_mime"
    return 1
}

# ä½¿ç”¨ç¤ºä¾‹
validate_upload "upload.jpg" "image"
```

### 5.4 æ•°æ®æ¢å¤åœºæ™¯


**ğŸ”§ æ— æ‰©å±•åæ–‡ä»¶æ¢å¤**
```bash
# åœºæ™¯ï¼šä»æŸåçš„å­˜å‚¨è®¾å¤‡æ¢å¤çš„æ–‡ä»¶æ²¡æœ‰æ‰©å±•å
$ ls recovered_files/
file001 file002 file003 file004

# æ‰¹é‡è¯†åˆ«å¹¶é‡å‘½å
#!/bin/bash
recover_extensions() {
    for file in recovered_files/*; do
        if [[ -f "$file" ]]; then
            file_type=$(file -b "$file")
            new_name="$file"
            
            case $file_type in
                *"JPEG"*)
                    new_name="${file}.jpg"
                    ;;
                *"PNG"*)
                    new_name="${file}.png"
                    ;;
                *"PDF"*)
                    new_name="${file}.pdf"
                    ;;
                *"Microsoft Word"*)
                    new_name="${file}.doc"
                    ;;
            esac
            
            if [[ "$new_name" != "$file" ]]; then
                mv "$file" "$new_name"
                echo "ğŸ”„ é‡å‘½å: $(basename $file) â†’ $(basename $new_name)"
            fi
        fi
    done
}
```

---

## 6. ğŸ¤– è„šæœ¬è‡ªåŠ¨åŒ–å¤„ç†


### 6.1 æ–‡ä»¶ç±»å‹ç»Ÿè®¡


**ğŸ“Š åˆ†æç›®å½•æ–‡ä»¶æ„æˆ**
```bash
#!/bin/bash
# ç»Ÿè®¡ç›®å½•ä¸­å„ç±»æ–‡ä»¶çš„æ•°é‡
analyze_directory() {
    local target_dir="${1:-.}"
    
    declare -A file_counts
    declare -A file_sizes
    
    echo "ğŸ“ åˆ†æç›®å½•: $target_dir"
    echo "=================================="
    
    while IFS= read -r -d '' file; do
        if [[ -f "$file" ]]; then
            # è·å–æ–‡ä»¶ç±»å‹
            file_type=$(file -b "$file" | cut -d',' -f1)
            
            # ç»Ÿè®¡æ•°é‡
            ((file_counts["$file_type"]++))
            
            # ç»Ÿè®¡å¤§å°
            size=$(stat -c%s "$file")
            ((file_sizes["$file_type"] += size))
        fi
    done < <(find "$target_dir" -type f -print0)
    
    # è¾“å‡ºç»Ÿè®¡ç»“æœ
    printf "%-30s %8s %12s\n" "æ–‡ä»¶ç±»å‹" "æ•°é‡" "æ€»å¤§å°(KB)"
    echo "=================================================="
    
    for type in "${!file_counts[@]}"; do
        count=${file_counts["$type"]}
        size_kb=$((file_sizes["$type"] / 1024))
        printf "%-30s %8d %12d\n" "$type" "$count" "$size_kb"
    done | sort -k2 -nr  # æŒ‰æ•°é‡æ’åº
}

# ä½¿ç”¨ç¤ºä¾‹
analyze_directory "/home/user/Downloads"
```

### 6.2 æ‰¹é‡æ ¼å¼è½¬æ¢å‡†å¤‡


**ğŸ”„ è½¬æ¢å‰çš„æ–‡ä»¶ç­›é€‰**
```bash
#!/bin/bash
# å‡†å¤‡å›¾ç‰‡æ ¼å¼è½¬æ¢ï¼šç­›é€‰å‡ºéœ€è¦è½¬æ¢çš„æ–‡ä»¶
prepare_image_conversion() {
    local source_dir="$1"
    local target_format="$2"  # jpeg, png, webpç­‰
    
    echo "ğŸ–¼ï¸  å‡†å¤‡å›¾ç‰‡è½¬æ¢ä»»åŠ¡..."
    
    # åˆ›å»ºè½¬æ¢ä»»åŠ¡åˆ—è¡¨
    conversion_list="conversion_tasks.txt"
    > "$conversion_list"  # æ¸…ç©ºæ–‡ä»¶
    
    find "$source_dir" -type f | while read -r file; do
        file_type=$(file -bi "$file" | cut -d'/' -f1)
        
        if [[ "$file_type" == "image" ]]; then
            detailed_type=$(file -bi "$file" | cut -d'/' -f2 | cut -d';' -f1)
            
            # æ£€æŸ¥æ˜¯å¦éœ€è¦è½¬æ¢
            if [[ "$detailed_type" != "$target_format" ]]; then
                echo "$file -> ${file%.*}.$target_format" >> "$conversion_list"
                echo "ğŸ“ æ·»åŠ è½¬æ¢ä»»åŠ¡: $(basename "$file")"
            fi
        fi
    done
    
    task_count=$(wc -l < "$conversion_list")
    echo "âœ… å…±å‡†å¤‡äº† $task_count ä¸ªè½¬æ¢ä»»åŠ¡"
    echo "ğŸ“„ ä»»åŠ¡åˆ—è¡¨ä¿å­˜åœ¨: $conversion_list"
}
```

### 6.3 æ—¥å¿—æ–‡ä»¶æ™ºèƒ½åˆ†æ


**ğŸ“‹ ç³»ç»Ÿæ—¥å¿—ç±»å‹è¯†åˆ«**
```bash
#!/bin/bash
# æ™ºèƒ½åˆ†ææ—¥å¿—æ–‡ä»¶ï¼Œè¯†åˆ«æ—¥å¿—æ ¼å¼å¹¶æå–å…³é”®ä¿¡æ¯
analyze_logs() {
    local log_dir="/var/log"
    
    echo "ğŸ” åˆ†æç³»ç»Ÿæ—¥å¿—æ–‡ä»¶..."
    
    find "$log_dir" -name "*.log" -o -name "*.log.*" | while read -r logfile; do
        if [[ -r "$logfile" ]]; then
            file_info=$(file -b "$logfile")
            
            echo "ğŸ“„ æ–‡ä»¶: $(basename "$logfile")"
            echo "   ç±»å‹: $file_info"
            
            # æ ¹æ®æ–‡ä»¶ç±»å‹é‡‡ç”¨ä¸åŒçš„å¤„ç†ç­–ç•¥
            case $file_info in
                *"gzip"*)
                    echo "   ğŸ“¦ å‹ç¼©æ—¥å¿—ï¼Œå»ºè®®ä½¿ç”¨: zcat $logfile"
                    line_count=$(zcat "$logfile" 2>/dev/null | wc -l)
                    ;;
                *"ASCII text"*|*"UTF-8"*)
                    echo "   ğŸ“ æ–‡æœ¬æ—¥å¿—ï¼Œå¯ç›´æ¥è¯»å–"
                    line_count=$(wc -l < "$logfile")
                    ;;
                *"data"*)
                    echo "   âš ï¸  äºŒè¿›åˆ¶æ—¥å¿—ï¼Œéœ€è¦ä¸“ç”¨å·¥å…·"
                    line_count="N/A"
                    ;;
            esac
            
            [[ "$line_count" != "N/A" ]] && echo "   ğŸ“Š è¡Œæ•°: $line_count"
            echo "   ----------------------------------------"
        fi
    done
}
```

---

## 7. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 7.1 å¿…é¡»æŒæ¡çš„åŸºæœ¬æ¦‚å¿µ


```
ğŸ”¸ fileå‘½ä»¤ï¼šé€šè¿‡æ–‡ä»¶å†…å®¹è¯†åˆ«çœŸå®æ–‡ä»¶ç±»å‹çš„å·¥å…·
ğŸ”¸ é­”æ³•æ•°å­—ï¼šæ–‡ä»¶å¼€å¤´çš„ç‰¹å¾å­—èŠ‚ï¼Œç”¨äºæ ‡è¯†æ–‡ä»¶æ ¼å¼
ğŸ”¸ MIMEç±»å‹ï¼šæ ‡å‡†åŒ–çš„æ–‡ä»¶ç±»å‹æ ‡è¯†ç³»ç»Ÿ
ğŸ”¸ å®‰å…¨éªŒè¯ï¼šé˜²æ­¢æ–‡ä»¶æ‰©å±•åä¼ªè£…çš„é‡è¦æ‰‹æ®µ
ğŸ”¸ è„šæœ¬é›†æˆï¼šè‡ªåŠ¨åŒ–å¤„ç†ä¸­çš„æ–‡ä»¶åˆ†ç±»åŸºç¡€
```

### 7.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ ä¸ºä»€ä¹ˆä¸èƒ½åªçœ‹æ‰©å±•å**
```
æ‰©å±•åå±€é™æ€§ï¼š
â€¢ å¯ä»¥éšæ„ä¿®æ”¹ï¼Œå®¹æ˜“è¢«ä¼ªé€ 
â€¢ åœ¨æŸäº›ç³»ç»Ÿä¸­å¯èƒ½ä¸¢å¤±
â€¢ æ¶æ„æ–‡ä»¶å¸¸ç”¨æ¥éšè—çœŸå®æ ¼å¼

fileå‘½ä»¤ä¼˜åŠ¿ï¼š
â€¢ è¯»å–æ–‡ä»¶å®é™…å†…å®¹è¿›è¡Œåˆ¤æ–­
â€¢ åŸºäºå›½é™…æ ‡å‡†çš„é­”æ³•æ•°æ®åº“
â€¢ èƒ½è¯†åˆ«æ•°ç™¾ç§æ–‡ä»¶æ ¼å¼
â€¢ æä¾›è¯¦ç»†çš„æ–‡ä»¶ä¿¡æ¯
```

**ğŸ”¹ å¸¸ç”¨å‚æ•°çš„å®é™…ä»·å€¼**
```
-b å‚æ•°ï¼šè„šæœ¬ä¸­è·å–çº¯å‡€çš„æ–‡ä»¶ç±»å‹ä¿¡æ¯
-i å‚æ•°ï¼šWebå¼€å‘ä¸­è·å–MIMEç±»å‹
-L å‚æ•°ï¼šå¤„ç†ç¬¦å·é“¾æ¥æ—¶çš„æ­£ç¡®æ–¹å¼
-z å‚æ•°ï¼šåˆ†æå‹ç¼©åŒ…å†…å®¹çš„åˆ©å™¨
```

**ğŸ”¹ å®é™…åº”ç”¨çš„å…³é”®åœºæ™¯**
```
å®‰å…¨éªŒè¯ï¼šè¯†åˆ«ä¼ªè£…çš„æ¶æ„æ–‡ä»¶
æ–‡ä»¶æ•´ç†ï¼šæŒ‰ç±»å‹è‡ªåŠ¨åˆ†ç±»å¤§æ‰¹é‡æ–‡ä»¶
æ•°æ®æ¢å¤ï¼šä¸ºæ— æ‰©å±•åæ–‡ä»¶æ¢å¤æ­£ç¡®æ ¼å¼
Webå¼€å‘ï¼šéªŒè¯ç”¨æˆ·ä¸Šä¼ æ–‡ä»¶çš„çœŸå®æ€§
ç³»ç»Ÿç®¡ç†ï¼šåˆ†ææœªçŸ¥æ–‡ä»¶å’Œæ—¥å¿—æ ¼å¼
```

### 7.3 å®é™…åº”ç”¨ä»·å€¼


**ğŸ’¼ å·¥ä½œä¸­çš„å¸¸è§ç”¨é€”**

| åº”ç”¨åœºæ™¯ | **å…·ä½“ä½œç”¨** | **å‘½ä»¤ç¤ºä¾‹** |
|---------|-------------|-------------|
| **å®‰å…¨æ£€æŸ¥** | `è¯†åˆ«å¯ç–‘æ–‡ä»¶` | `file -b suspicious.pdf` |
| **æ‰¹é‡å¤„ç†** | `æ–‡ä»¶è‡ªåŠ¨åˆ†ç±»` | `file * \| grep image` |
| **æ•°æ®æ¢å¤** | `æ¢å¤æ–‡ä»¶æ‰©å±•å` | `file recovered_data/*` |
| **Webå¼€å‘** | `ä¸Šä¼ æ–‡ä»¶éªŒè¯` | `file -i uploaded_file` |
| **ç³»ç»Ÿè¿ç»´** | `æ—¥å¿—æ ¼å¼åˆ†æ` | `file /var/log/*.log` |

**ğŸš€ æå‡æ•ˆç‡çš„æŠ€å·§**

â“ **å¸¸è§é—®é¢˜ FAQ**ï¼š

**Q: fileå‘½ä»¤è¯†åˆ«é”™è¯¯æ€ä¹ˆåŠï¼Ÿ**
**A:** é­”æ³•æ•°æ®åº“å¶å°”ä¼šè¯¯åˆ¤ï¼Œå¯ä»¥ç»“åˆå…¶ä»–å·¥å…·éªŒè¯ï¼Œå¦‚ `hexdump`ã€`strings` ç­‰

**Q: å¦‚ä½•å¤„ç†å¤§é‡æ–‡ä»¶çš„æ‰¹é‡è¯†åˆ«ï¼Ÿ**
**A:** ä½¿ç”¨ `find` é…åˆ `file`ï¼Œæˆ–ç¼–å†™è„šæœ¬è¿›è¡Œæ‰¹é‡å¤„ç†å’Œç»Ÿè®¡

**Q: å‹ç¼©æ–‡ä»¶å†…å®¹çœ‹ä¸åˆ°å…·ä½“æ–‡ä»¶ç±»å‹ï¼Ÿ**
**A:** ä½¿ç”¨ `-z` å‚æ•°ï¼Œæˆ–å…ˆè§£å‹ç¼©å†ç”¨ `file` åˆ†æ

**ğŸ’¡ æœ€ä½³å®è·µå»ºè®®**ï¼š
- å®‰å…¨ç›¸å…³åœºæ™¯å¿…é¡»ä½¿ç”¨ `file` éªŒè¯æ–‡ä»¶ç±»å‹
- è„šæœ¬ä¸­ä½¿ç”¨ `-b` å‚æ•°è·å–çº¯å‡€è¾“å‡º
- å¤„ç†ç¬¦å·é“¾æ¥æ—¶è®°å¾—ä½¿ç”¨ `-L` å‚æ•°
- ç»“åˆå…¶ä»–å‘½ä»¤æ„å»ºå¼ºå¤§çš„æ–‡ä»¶å¤„ç†å·¥å…·é“¾

### 7.4 è®°å¿†è¦ç‚¹


**ğŸ§  æ ¸å¿ƒè®°å¿†å£è¯€**ï¼š
```
fileå‘½ä»¤è¯†åˆ«çœŸï¼Œé­”æ³•æ•°å­—è—æ–‡å¤´
æ‰©å±•åç§°èƒ½æ¬ºéª—ï¼Œå†…å®¹åˆ†ææœ€å¯é 
å®‰å…¨æ£€æŸ¥ç¬¬ä¸€æ­¥ï¼Œæ‰¹é‡å¤„ç†å¥½å¸®æ‰‹
```

**ğŸ”‘ å…³é”®æ“ä½œæ¸…å•**ï¼š
- [x] `file filename` - åŸºæœ¬æ–‡ä»¶ç±»å‹è¯†åˆ«
- [x] `file -i filename` - è·å–MIMEç±»å‹
- [x] `file -b filename` - ç®€æ´è¾“å‡ºï¼ˆè„šæœ¬ç”¨ï¼‰
- [x] `file -z archive` - åˆ†æå‹ç¼©æ–‡ä»¶å†…å®¹
- [x] `file *` - æ‰¹é‡è¯†åˆ«å½“å‰ç›®å½•æ–‡ä»¶

**æ ¸å¿ƒä»·å€¼**ï¼š
fileå‘½ä»¤æ˜¯Linuxç³»ç»Ÿä¸­æ–‡ä»¶ç±»å‹è¯†åˆ«çš„åŸºçŸ³å·¥å…·ï¼ŒæŒæ¡å®ƒèƒ½è®©ä½ åœ¨æ–‡ä»¶å¤„ç†ã€å®‰å…¨éªŒè¯ã€æ•°æ®æ¢å¤ç­‰å¤šä¸ªåœºæ™¯ä¸­æ¸¸åˆƒæœ‰ä½™ï¼Œæ˜¯æ¯ä¸ªLinuxç”¨æˆ·å¿…å¤‡çš„åŸºç¡€æŠ€èƒ½ã€‚