---
title: 2ã€å˜é‡æŸ¥çœ‹ä¸Žæ˜¾ç¤ºå‘½ä»¤
---
## ðŸ“š ç›®å½•

1. [çŽ¯å¢ƒå˜é‡ä¸ŽShellå˜é‡åŸºç¡€æ¦‚å¿µ](#1-çŽ¯å¢ƒå˜é‡ä¸ŽShellå˜é‡åŸºç¡€æ¦‚å¿µ)
2. [envå‘½ä»¤ï¼šæ˜¾ç¤ºæ‰€æœ‰çŽ¯å¢ƒå˜é‡](#2-envå‘½ä»¤ï¼šæ˜¾ç¤ºæ‰€æœ‰çŽ¯å¢ƒå˜é‡)
3. [printenvå‘½ä»¤ï¼šæŸ¥çœ‹æŒ‡å®šå˜é‡](#3-printenvå‘½ä»¤ï¼šæŸ¥çœ‹æŒ‡å®šå˜é‡)
4. [setå‘½ä»¤ï¼šæ˜¾ç¤ºæ‰€æœ‰å˜é‡](#4-setå‘½ä»¤ï¼šæ˜¾ç¤ºæ‰€æœ‰å˜é‡)
5. [echoå‘½ä»¤ï¼šå˜é‡å€¼è¾“å‡º](#5-echoå‘½ä»¤ï¼šå˜é‡å€¼è¾“å‡º)
6. [declareå‘½ä»¤ï¼šå˜é‡å±žæ€§æŸ¥çœ‹](#6-declareå‘½ä»¤ï¼šå˜é‡å±žæ€§æŸ¥çœ‹)
7. [typesetå‘½ä»¤ï¼šå˜é‡ç±»åž‹æ˜¾ç¤º](#7-typesetå‘½ä»¤ï¼šå˜é‡ç±»åž‹æ˜¾ç¤º)
8. [å˜é‡æ˜¯å¦å­˜åœ¨åˆ¤æ–­æ–¹æ³•](#8-å˜é‡æ˜¯å¦å­˜åœ¨åˆ¤æ–­æ–¹æ³•)
9. [å®žç”¨æŠ€å·§ä¸Žæœ€ä½³å®žè·µ](#9-å®žç”¨æŠ€å·§ä¸Žæœ€ä½³å®žè·µ)
10. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#10-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ðŸ”§ çŽ¯å¢ƒå˜é‡ä¸ŽShellå˜é‡åŸºç¡€æ¦‚å¿µ


### 1.1 ä»€ä¹ˆæ˜¯å˜é‡

åœ¨Linuxç³»ç»Ÿä¸­ï¼Œ**å˜é‡å°±åƒæ˜¯ä¸€ä¸ªå­˜å‚¨ç›’å­**ï¼Œç”¨æ¥ä¿å­˜å„ç§ä¿¡æ¯ã€‚å°±åƒä½ åœ¨å®¶é‡Œç»™ä¸åŒçš„ç›’å­è´´ä¸Šæ ‡ç­¾ï¼ˆå˜é‡åï¼‰ï¼Œç„¶åŽå¾€é‡Œé¢æ”¾ä¸œè¥¿ï¼ˆå˜é‡å€¼ï¼‰ã€‚

### 1.2 çŽ¯å¢ƒå˜é‡ vs Shellå˜é‡


**ðŸ“‹ ä¸¤ç§å˜é‡çš„åŒºåˆ«**ï¼š

```
çŽ¯å¢ƒå˜é‡ï¼ˆEnvironment Variablesï¼‰
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ å…¨å±€å¯è§ï¼Œå­è¿›ç¨‹ç»§æ‰¿     â”‚  â† åƒå®¶é‡Œçš„WiFiå¯†ç ï¼Œå…¨å®¶äººéƒ½èƒ½ç”¨
    â”‚ ä¾‹å¦‚ï¼šPATH, HOME, USER  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Shellå˜é‡ï¼ˆLocal Variablesï¼‰  
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ ä»…å½“å‰Shellå¯è§         â”‚  â† åƒä½ æˆ¿é—´é‡Œçš„ç§äººç‰©å“ï¼Œåªæœ‰ä½ èƒ½ç”¨
    â”‚ ä¾‹å¦‚ï¼šname=å¼ ä¸‰          â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ðŸ”¸ å½¢è±¡æ¯”å–»**ï¼š
- **çŽ¯å¢ƒå˜é‡**ï¼šåƒèº«ä»½è¯ä¿¡æ¯ï¼Œèµ°åˆ°å“ªé‡Œéƒ½å¸¦ç€ï¼Œå­è¿›ç¨‹ä¹Ÿèƒ½çœ‹åˆ°
- **Shellå˜é‡**ï¼šåƒä½ è„‘å­é‡Œè®°çš„ç”µè¯å·ç ï¼Œåªæœ‰ä½ è‡ªå·±çŸ¥é“

### 1.3 å¸¸è§çš„ç³»ç»ŸçŽ¯å¢ƒå˜é‡


| å˜é‡å | **å«ä¹‰** | **ç¤ºä¾‹å€¼** |
|---------|----------|------------|
| `PATH` | `å¯æ‰§è¡Œæ–‡ä»¶æœç´¢è·¯å¾„` | `/usr/bin:/bin:/usr/sbin` |
| `HOME` | `ç”¨æˆ·ä¸»ç›®å½•` | `/home/username` |
| `USER` | `å½“å‰ç”¨æˆ·å` | `zhang` |
| `SHELL` | `å½“å‰ä½¿ç”¨çš„Shell` | `/bin/bash` |
| `PWD` | `å½“å‰å·¥ä½œç›®å½•` | `/home/user/documents` |
| `LANG` | `ç³»ç»Ÿè¯­è¨€è®¾ç½®` | `zh_CN.UTF-8` |

---

## 2. ðŸŒ envå‘½ä»¤ï¼šæ˜¾ç¤ºæ‰€æœ‰çŽ¯å¢ƒå˜é‡


### 2.1 envå‘½ä»¤åŸºç¡€ç”¨æ³•


**envå‘½ä»¤**å°±åƒæ˜¯æŠŠæ‰€æœ‰çš„çŽ¯å¢ƒå˜é‡éƒ½åˆ—å‡ºæ¥ç»™ä½ çœ‹ï¼Œç›¸å½“äºŽ**æ‰“å¼€ç³»ç»Ÿçš„"è®¾ç½®é¢æ¿"**æŸ¥çœ‹æ‰€æœ‰é…ç½®ã€‚

```bash
# æœ€åŸºæœ¬ç”¨æ³•ï¼šæ˜¾ç¤ºæ‰€æœ‰çŽ¯å¢ƒå˜é‡
env
```

**ðŸ“‹ è¾“å‡ºç¤ºä¾‹**ï¼š
```
PATH=/usr/local/bin:/usr/bin:/bin
HOME=/home/zhangsan  
USER=zhangsan
SHELL=/bin/bash
LANG=zh_CN.UTF-8
...
```

### 2.2 envå‘½ä»¤å¸¸ç”¨é€‰é¡¹


```bash
# æŽ’åºæ˜¾ç¤ºçŽ¯å¢ƒå˜é‡ï¼ˆæŒ‰å­—æ¯é¡ºåºï¼‰
env | sort

# ç»Ÿè®¡çŽ¯å¢ƒå˜é‡æ•°é‡
env | wc -l

# æŸ¥æ‰¾åŒ…å«ç‰¹å®šå…³é”®è¯çš„çŽ¯å¢ƒå˜é‡
env | grep PATH
```

**ðŸ”¸ å®žé™…åº”ç”¨åœºæ™¯**ï¼š
- **ç³»ç»Ÿè¯Šæ–­**ï¼šæ£€æŸ¥ç³»ç»Ÿé…ç½®æ˜¯å¦æ­£ç¡®
- **è„šæœ¬è°ƒè¯•**ï¼šç¡®è®¤è„šæœ¬è¿è¡ŒçŽ¯å¢ƒ
- **æƒé™æŽ’æŸ¥**ï¼šæŸ¥çœ‹ç”¨æˆ·ç›¸å…³çš„çŽ¯å¢ƒè®¾ç½®

### 2.3 envä¸Žå…¶ä»–å‘½ä»¤çš„åŒºåˆ«


```
env    â†’ åªæ˜¾ç¤ºçŽ¯å¢ƒå˜é‡ï¼ˆèƒ½è¢«å­è¿›ç¨‹ç»§æ‰¿çš„ï¼‰
set    â†’ æ˜¾ç¤ºæ‰€æœ‰å˜é‡ï¼ˆçŽ¯å¢ƒå˜é‡ + Shellå˜é‡ï¼‰
export â†’ å°†Shellå˜é‡è½¬ä¸ºçŽ¯å¢ƒå˜é‡
```

---

## 3. ðŸŽ¯ printenvå‘½ä»¤ï¼šæŸ¥çœ‹æŒ‡å®šå˜é‡


### 3.1 printenvåŸºæœ¬ç”¨æ³•


**printenvå‘½ä»¤**å°±åƒæ˜¯**é—®ç³»ç»Ÿä¸€ä¸ªå…·ä½“é—®é¢˜**ï¼Œæ¯”å¦‚"æˆ‘çš„å®¶ç›®å½•åœ¨å“ªé‡Œï¼Ÿ"ï¼Œç³»ç»Ÿä¼šç›´æŽ¥å‘Šè¯‰ä½ ç­”æ¡ˆã€‚

```bash
# æŸ¥çœ‹å•ä¸ªå˜é‡çš„å€¼
printenv HOME
# è¾“å‡ºï¼š/home/zhangsan

# æŸ¥çœ‹å¤šä¸ªå˜é‡
printenv HOME USER SHELL
# è¾“å‡ºï¼š
# /home/zhangsan
# zhangsan  
# /bin/bash
```

### 3.2 printenv vs echoçš„åŒºåˆ«


```bash
# æ–¹æ³•1ï¼šä½¿ç”¨printenvï¼ˆæŽ¨èç”¨äºŽçŽ¯å¢ƒå˜é‡ï¼‰
printenv PATH

# æ–¹æ³•2ï¼šä½¿ç”¨echoï¼ˆé€šç”¨æ–¹æ³•ï¼‰  
echo $PATH

# åŒºåˆ«è¯´æ˜Žï¼š
# printenv ä¸“é—¨ç”¨äºŽçŽ¯å¢ƒå˜é‡ï¼Œè¯­æ³•ç®€æ´
# echo å¯ä»¥ç”¨äºŽä»»ä½•å˜é‡ï¼Œä½†éœ€è¦åŠ $ç¬¦å·
```

### 3.3 å®žç”¨æŠ€å·§


**âœ¨ æ£€æŸ¥å˜é‡æ˜¯å¦å­˜åœ¨**ï¼š
```bash
# å¦‚æžœå˜é‡ä¸å­˜åœ¨ï¼Œprintenvä¸è¾“å‡ºä»»ä½•å†…å®¹
printenv NOT_EXIST_VAR

# ç»“åˆæ¡ä»¶åˆ¤æ–­
if printenv PATH > /dev/null; then
    echo "PATHå˜é‡å­˜åœ¨"
else
    echo "PATHå˜é‡ä¸å­˜åœ¨"
fi
```

---

## 4. ðŸ“Š setå‘½ä»¤ï¼šæ˜¾ç¤ºæ‰€æœ‰å˜é‡


### 4.1 setå‘½ä»¤çš„ä½œç”¨


**setå‘½ä»¤**å°±åƒæ˜¯æ‰“å¼€ç³»ç»Ÿçš„**"å®Œæ•´æ¸…å•"**ï¼Œä¸ä»…èƒ½çœ‹åˆ°çŽ¯å¢ƒå˜é‡ï¼Œè¿˜èƒ½çœ‹åˆ°å½“å‰Shellä¸­å®šä¹‰çš„æ‰€æœ‰å±€éƒ¨å˜é‡å’Œå‡½æ•°ã€‚

```bash
# æ˜¾ç¤ºæ‰€æœ‰å˜é‡å’Œå‡½æ•°
set

# åªæ˜¾ç¤ºå˜é‡ï¼Œè¿‡æ»¤æŽ‰å‡½æ•°
set | grep "^[A-Z]"
```

### 4.2 setå‘½ä»¤çš„è¾“å‡ºå†…å®¹


```
setå‘½ä»¤æ˜¾ç¤ºçš„å†…å®¹åŒ…æ‹¬ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ çŽ¯å¢ƒå˜é‡            â”‚  â† PATHã€HOMEç­‰
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  
â”‚ Shellå˜é‡           â”‚  â† è‡ªå®šä¹‰çš„å±€éƒ¨å˜é‡
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Shellå‡½æ•°           â”‚  â† å®šä¹‰çš„å‡½æ•°
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Shellé€‰é¡¹           â”‚  â† set -oçš„å„ç§é€‰é¡¹
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.3 setå‘½ä»¤çš„è¿‡æ»¤æŠ€å·§


```bash
# åªçœ‹çŽ¯å¢ƒå˜é‡ï¼ˆå¤§å†™å¼€å¤´çš„ï¼‰
set | grep "^[A-Z]"

# åªçœ‹è‡ªå®šä¹‰å˜é‡ï¼ˆå°å†™å¼€å¤´çš„ï¼‰
set | grep "^[a-z]"  

# æŸ¥çœ‹å…·ä½“æŸä¸ªå˜é‡
set | grep "^PATH"

# ç»Ÿè®¡å˜é‡æ€»æ•°
set | grep "=" | wc -l
```

---

## 5. ðŸ’¬ echoå‘½ä»¤ï¼šå˜é‡å€¼è¾“å‡º


### 5.1 echoæ˜¾ç¤ºå˜é‡çš„åŸºæœ¬è¯­æ³•


**echoå‘½ä»¤**å°±åƒæ˜¯è®©ç³»ç»Ÿ"è¯´è¯"ï¼ŒæŠŠå˜é‡çš„å†…å®¹è¯»å‡ºæ¥ç»™ä½ å¬ã€‚

```bash
# åŸºæœ¬è¯­æ³•ï¼šecho $å˜é‡å
echo $HOME
# è¾“å‡ºï¼š/home/zhangsan

# æ›´å®‰å…¨çš„è¯­æ³•ï¼šä½¿ç”¨èŠ±æ‹¬å·
echo ${HOME}
# è¾“å‡ºï¼š/home/zhangsan
```

### 5.2 echoçš„é«˜çº§ç”¨æ³•


**ðŸ”¸ å­—ç¬¦ä¸²æ‹¼æŽ¥**ï¼š
```bash
# æ‹¼æŽ¥æ–‡æœ¬å’Œå˜é‡
echo "å½“å‰ç”¨æˆ·æ˜¯ï¼š$USER"
# è¾“å‡ºï¼šå½“å‰ç”¨æˆ·æ˜¯ï¼šzhangsan

# æ‹¼æŽ¥å¤šä¸ªå˜é‡
echo "ç”¨æˆ· $USER çš„å®¶ç›®å½•æ˜¯ $HOME"
# è¾“å‡ºï¼šç”¨æˆ· zhangsan çš„å®¶ç›®å½•æ˜¯ /home/zhangsan
```

**ðŸ”¸ å¤„ç†ç‰¹æ®Šæƒ…å†µ**ï¼š
```bash
# å˜é‡ååŒ…å«ç‰¹æ®Šå­—ç¬¦æ—¶ç”¨èŠ±æ‹¬å·
filename="report"
echo "${filename}_2024.txt"
# è¾“å‡ºï¼šreport_2024.txt

# å˜é‡ä¸å­˜åœ¨æ—¶çš„å¤„ç†
echo "å€¼ï¼š${NOT_EXIST:-é»˜è®¤å€¼}"
# è¾“å‡ºï¼šå€¼ï¼šé»˜è®¤å€¼
```

### 5.3 echoçš„å®žç”¨é€‰é¡¹


```bash
# -nï¼šä¸æ¢è¡Œè¾“å‡º
echo -n "è¯·è¾“å…¥ï¼š"
# è¾“å‡ºåŽå…‰æ ‡åœåœ¨åŒä¸€è¡Œ

# -eï¼šå¯ç”¨è½¬ä¹‰å­—ç¬¦
echo -e "ç¬¬ä¸€è¡Œ\nç¬¬äºŒè¡Œ"
# è¾“å‡ºï¼š
# ç¬¬ä¸€è¡Œ
# ç¬¬äºŒè¡Œ
```

---

## 6. ðŸ” declareå‘½ä»¤ï¼šå˜é‡å±žæ€§æŸ¥çœ‹


### 6.1 declareå‘½ä»¤çš„ä½œç”¨


**declareå‘½ä»¤**å°±åƒæ˜¯å˜é‡çš„"èº«ä»½è¯æŸ¥è¯¢ç³»ç»Ÿ"ï¼Œä¸ä»…èƒ½çœ‹åˆ°å˜é‡çš„å€¼ï¼Œè¿˜èƒ½çœ‹åˆ°å®ƒçš„å„ç§å±žæ€§ï¼ˆç±»åž‹ã€æƒé™ç­‰ï¼‰ã€‚

```bash
# æ˜¾ç¤ºæ‰€æœ‰å˜é‡åŠå…¶å±žæ€§
declare

# åªæ˜¾ç¤ºçŽ¯å¢ƒå˜é‡
declare -x

# åªæ˜¾ç¤ºæ•´æ•°ç±»åž‹å˜é‡  
declare -i
```

### 6.2 å˜é‡å±žæ€§è¯¦è§£


**ðŸ“‹ å¸¸è§çš„å˜é‡å±žæ€§**ï¼š

| å±žæ€§æ ‡è®° | **å«ä¹‰** | **è¯´æ˜Ž** |
|----------|----------|----------|
| `-x` | `å¯¼å‡ºå±žæ€§` | `å¯è¢«å­è¿›ç¨‹ç»§æ‰¿ï¼ˆçŽ¯å¢ƒå˜é‡ï¼‰` |
| `-i` | `æ•´æ•°å±žæ€§` | `åªèƒ½å­˜å‚¨æ•´æ•°å€¼` |
| `-r` | `åªè¯»å±žæ€§` | `ä¸èƒ½ä¿®æ”¹æˆ–åˆ é™¤` |
| `-a` | `æ•°ç»„å±žæ€§` | `å­˜å‚¨å¤šä¸ªå€¼çš„æ•°ç»„` |
| `-f` | `å‡½æ•°å±žæ€§` | `è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªå‡½æ•°` |

### 6.3 declareçš„å®žé™…ç”¨æ³•


```bash
# æŸ¥çœ‹ç‰¹å®šå˜é‡çš„å±žæ€§
declare -p HOME
# è¾“å‡ºï¼šdeclare -x HOME="/home/zhangsan"
# è¯´æ˜Žï¼šHOMEæ˜¯å¯¼å‡ºå˜é‡ï¼ˆ-xï¼‰ï¼Œå€¼ä¸º/home/zhangsan

# åˆ›å»ºä¸åŒç±»åž‹çš„å˜é‡
declare -i num=100        # æ•´æ•°å˜é‡
declare -r readonly_var="ä¸èƒ½æ”¹"  # åªè¯»å˜é‡
declare -a fruits=("è‹¹æžœ" "é¦™è•‰")  # æ•°ç»„å˜é‡
```

---

## 7. ðŸ·ï¸ typesetå‘½ä»¤ï¼šå˜é‡ç±»åž‹æ˜¾ç¤º


### 7.1 typesetä¸Ždeclareçš„å…³ç³»


**typesetå‘½ä»¤**æ˜¯**declareå‘½ä»¤çš„åˆ«å**ï¼Œå°±åƒåŒä¸€ä¸ªäººæœ‰ä¸¤ä¸ªåå­—ï¼ŒåŠŸèƒ½å®Œå…¨ä¸€æ ·ã€‚åœ¨æŸäº›Shellä¸­ï¼ˆå¦‚kshã€zshï¼‰ï¼Œæ›´ä¹ æƒ¯ä½¿ç”¨typesetã€‚

```bash
# ä»¥ä¸‹ä¸¤ä¸ªå‘½ä»¤å®Œå…¨ç­‰ä»·
declare -i number=42
typeset -i number=42

# æŸ¥çœ‹å˜é‡å±žæ€§ä¹Ÿä¸€æ ·
declare -p number
typeset -p number
```

### 7.2 typesetçš„å¸¸ç”¨åœºæ™¯


```bash
# å£°æ˜Žå±€éƒ¨å˜é‡ï¼ˆåœ¨å‡½æ•°å†…ï¼‰
function my_function() {
    typeset local_var="å±€éƒ¨å˜é‡"
    echo $local_var
}

# å£°æ˜Žæ•°ç»„
typeset -a colors=("çº¢" "ç»¿" "è“")
echo ${colors[0]}  # è¾“å‡ºï¼šçº¢
```

---

## 8. â“ å˜é‡æ˜¯å¦å­˜åœ¨åˆ¤æ–­æ–¹æ³•


### 8.1 æ£€æŸ¥å˜é‡å­˜åœ¨çš„å‡ ç§æ–¹æ³•


**æ–¹æ³•ä¸€ï¼šä½¿ç”¨`-v`æµ‹è¯•**ï¼ˆæŽ¨èï¼‰ï¼š
```bash
if [[ -v MY_VAR ]]; then
    echo "å˜é‡MY_VARå­˜åœ¨"
else
    echo "å˜é‡MY_VARä¸å­˜åœ¨"
fi
```

**æ–¹æ³•äºŒï¼šä½¿ç”¨å‚æ•°å±•å¼€**ï¼š
```bash
if [[ -n "${MY_VAR-}" ]]; then
    echo "å˜é‡MY_VARå­˜åœ¨ä¸”ä¸ä¸ºç©º"
else
    echo "å˜é‡MY_VARä¸å­˜åœ¨æˆ–ä¸ºç©º"
fi
```

**æ–¹æ³•ä¸‰ï¼šä½¿ç”¨declareæ£€æŸ¥**ï¼š
```bash
if declare -p MY_VAR >/dev/null 2>&1; then
    echo "å˜é‡MY_VARå·²å£°æ˜Ž"
else
    echo "å˜é‡MY_VARæœªå£°æ˜Ž"
fi
```

### 8.2 åŒºåˆ†"ä¸å­˜åœ¨"å’Œ"ä¸ºç©º"


è¿™æ˜¯åˆå­¦è€…å®¹æ˜“æ··æ·†çš„æ¦‚å¿µï¼š

```bash
# åœºæ™¯æ¼”ç¤º
unset MY_VAR              # å˜é‡ä¸å­˜åœ¨
MY_EMPTY=""               # å˜é‡å­˜åœ¨ä½†ä¸ºç©º

# æ£€æŸ¥æ˜¯å¦å­˜åœ¨
[[ -v MY_VAR ]] && echo "MY_VARå­˜åœ¨" || echo "MY_VARä¸å­˜åœ¨"
[[ -v MY_EMPTY ]] && echo "MY_EMPTYå­˜åœ¨" || echo "MY_EMPTYä¸å­˜åœ¨"

# æ£€æŸ¥æ˜¯å¦ä¸ºç©º
[[ -z "$MY_VAR" ]] && echo "MY_VARä¸ºç©ºæˆ–ä¸å­˜åœ¨"
[[ -z "$MY_EMPTY" ]] && echo "MY_EMPTYä¸ºç©ºæˆ–ä¸å­˜åœ¨"
```

**ðŸ”¸ è®°å¿†å£è¯€**ï¼š
- `-v` æ£€æŸ¥å­˜åœ¨æ€§ï¼ˆæ˜¯å¦å£°æ˜Žè¿‡ï¼‰
- `-z` æ£€æŸ¥ç©ºå€¼æ€§ï¼ˆæ˜¯å¦æœ‰å†…å®¹ï¼‰
- `-n` æ£€æŸ¥éžç©ºæ€§ï¼ˆæ˜¯å¦æœ‰å†…å®¹ä¸”ä¸ä¸ºç©ºï¼‰

---

## 9. ðŸ’¡ å®žç”¨æŠ€å·§ä¸Žæœ€ä½³å®žè·µ


### 9.1 æŸ¥çœ‹å˜é‡çš„ç»¼åˆæŠ€å·§


**ðŸŽ¯ å¿«é€Ÿè¯Šæ–­è„šæœ¬**ï¼š
```bash
#!/bin/bash
# å˜é‡è¯Šæ–­è„šæœ¬

check_var() {
    local var_name="$1"
    
    echo "=== æ£€æŸ¥å˜é‡: $var_name ==="
    
    # æ£€æŸ¥æ˜¯å¦å­˜åœ¨
    if [[ -v $var_name ]]; then
        echo "âœ… å˜é‡å­˜åœ¨"
        
        # æ˜¾ç¤ºå€¼
        echo "ðŸ“„ å€¼: $(printenv $var_name 2>/dev/null || echo "${!var_name}")"
        
        # æ˜¾ç¤ºå±žæ€§
        echo "ðŸ·ï¸ å±žæ€§: $(declare -p $var_name 2>/dev/null)"
    else
        echo "âŒ å˜é‡ä¸å­˜åœ¨"
    fi
    echo
}

# ä½¿ç”¨ç¤ºä¾‹
check_var "PATH"
check_var "HOME" 
check_var "NOT_EXIST"
```

### 9.2 çŽ¯å¢ƒå˜é‡ç®¡ç†æœ€ä½³å®žè·µ


**ðŸ”¸ æŸ¥çœ‹ç³»ç»ŸçŽ¯å¢ƒæ¦‚è§ˆ**ï¼š
```bash
# åˆ›å»ºçŽ¯å¢ƒä¿¡æ¯è„šæœ¬
echo "=== ç³»ç»ŸçŽ¯å¢ƒä¿¡æ¯ ==="
echo "ç”¨æˆ·: $USER"
echo "ä¸»ç›®å½•: $HOME" 
echo "Shell: $SHELL"
echo "å·¥ä½œç›®å½•: $PWD"
echo "è¯­è¨€: $LANG"
echo "è·¯å¾„: $PATH" | tr ':' '\n' | nl
```

**ðŸ”¸ å®‰å…¨åœ°ä½¿ç”¨å˜é‡**ï¼š
```bash
# å¥½çš„åšæ³•ï¼šä½¿ç”¨èŠ±æ‹¬å·å’Œé»˜è®¤å€¼
CONFIG_FILE="${CONFIG_FILE:-/etc/myapp.conf}"
LOG_LEVEL="${LOG_LEVEL:-INFO}"

# é¿å…çš„åšæ³•ï¼šç›´æŽ¥ä½¿ç”¨å¯èƒ½ä¸å­˜åœ¨çš„å˜é‡
# rm -rf $TEMP_DIR/*  # å±é™©ï¼å¦‚æžœTEMP_DIRä¸ºç©ºä¼šåˆ é™¤å½“å‰ç›®å½•
```

### 9.3 è°ƒè¯•æŠ€å·§


```bash
# è°ƒè¯•è„šæœ¬æ—¶æ˜¾ç¤ºæ‰€æœ‰å˜é‡å˜åŒ–
set -x  # å¼€å¯è°ƒè¯•æ¨¡å¼
export MY_VAR="test"
echo $MY_VAR
set +x  # å…³é—­è°ƒè¯•æ¨¡å¼

# åœ¨è„šæœ¬ä¸­è¾“å‡ºå…³é”®å˜é‡è¿›è¡Œè°ƒè¯•
echo "DEBUG: PATH=$PATH" >&2
echo "DEBUG: HOME=$HOME" >&2
```

---

## 10. ðŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 10.1 å‘½ä»¤å¯¹æ¯”é€ŸæŸ¥è¡¨


| å‘½ä»¤ | **ä¸»è¦ç”¨é€”** | **æ˜¾ç¤ºå†…å®¹** | **ä½¿ç”¨åœºæ™¯** |
|------|-------------|-------------|-------------|
| `env` | `æŸ¥çœ‹çŽ¯å¢ƒå˜é‡` | `ä»…çŽ¯å¢ƒå˜é‡` | `ç³»ç»Ÿé…ç½®æ£€æŸ¥` |
| `printenv` | `æŸ¥çœ‹æŒ‡å®šå˜é‡` | `æŒ‡å®šå˜é‡å€¼` | `å•ä¸ªå˜é‡æŸ¥è¯¢` |
| `set` | `æŸ¥çœ‹æ‰€æœ‰å˜é‡` | `æ‰€æœ‰å˜é‡+å‡½æ•°` | `å®Œæ•´å˜é‡æ¸…å•` |
| `echo` | `è¾“å‡ºå˜é‡å€¼` | `å˜é‡å†…å®¹` | `è„šæœ¬ä¸­æ˜¾ç¤ºå˜é‡` |
| `declare` | `æŸ¥çœ‹å˜é‡å±žæ€§` | `å˜é‡+å±žæ€§ä¿¡æ¯` | `å˜é‡ç±»åž‹è¯Šæ–­` |
| `typeset` | `åŒdeclare` | `å˜é‡+å±žæ€§ä¿¡æ¯` | `å…¼å®¹å…¶ä»–Shell` |

### 10.2 å˜é‡æ£€æŸ¥æ–¹æ³•æ±‡æ€»


```bash
# æ£€æŸ¥çŽ¯å¢ƒå˜é‡æ˜¯å¦å­˜åœ¨
printenv VAR_NAME >/dev/null && echo "å­˜åœ¨" || echo "ä¸å­˜åœ¨"

# æ£€æŸ¥ä»»æ„å˜é‡æ˜¯å¦å­˜åœ¨  
[[ -v VAR_NAME ]] && echo "å­˜åœ¨" || echo "ä¸å­˜åœ¨"

# æ£€æŸ¥å˜é‡æ˜¯å¦ä¸ºç©º
[[ -z "$VAR_NAME" ]] && echo "ä¸ºç©º" || echo "éžç©º"

# èŽ·å–å˜é‡å€¼ï¼ˆå¸¦é»˜è®¤å€¼ï¼‰
VALUE="${VAR_NAME:-é»˜è®¤å€¼}"
```

### 10.3 è®°å¿†è¦ç‚¹


**ðŸ”‘ æ ¸å¿ƒæ¦‚å¿µ**ï¼š
- **çŽ¯å¢ƒå˜é‡**ï¼šå…¨å±€å¯è§ï¼Œå­è¿›ç¨‹ç»§æ‰¿
- **Shellå˜é‡**ï¼šå½“å‰Shellå†…å¯è§
- **å˜é‡å±žæ€§**ï¼šç±»åž‹ã€æƒé™ã€ä½œç”¨åŸŸç­‰ç‰¹æ€§

**ðŸŽ¯ å¸¸ç”¨ç»„åˆ**ï¼š
- `env | grep å…³é”®è¯` â†’ æ‰¾ç‰¹å®šçŽ¯å¢ƒå˜é‡
- `declare -p å˜é‡å` â†’ æŸ¥çœ‹å˜é‡è¯¦ç»†ä¿¡æ¯  
- `[[ -v å˜é‡å ]]` â†’ åˆ¤æ–­å˜é‡æ˜¯å¦å­˜åœ¨
- `echo ${å˜é‡:-é»˜è®¤å€¼}` â†’ å®‰å…¨åœ°ä½¿ç”¨å˜é‡

**ðŸ’¡ æœ€ä½³å®žè·µ**ï¼š
- ä½¿ç”¨`${å˜é‡å}`è€Œä¸æ˜¯`$å˜é‡å`ï¼ˆæ›´å®‰å…¨ï¼‰
- æ£€æŸ¥å˜é‡å­˜åœ¨æ€§å†ä½¿ç”¨ï¼ˆé¿å…é”™è¯¯ï¼‰
- ä¸ºé‡è¦å˜é‡æä¾›é»˜è®¤å€¼ï¼ˆæé«˜å¥å£®æ€§ï¼‰
- ä½¿ç”¨æœ‰æ„ä¹‰çš„å˜é‡åï¼ˆæé«˜å¯è¯»æ€§ï¼‰

**æ ¸å¿ƒè®°å¿†å£è¯€**ï¼š
> envæŸ¥çŽ¯å¢ƒï¼Œprintenvé—®ä¸€ä¸ª  
> setçœ‹å…¨éƒ¨ï¼Œechoæ¥è¾“å‡º  
> declareå±žæ€§ï¼Œtypesetä¸€æ ·  
> åˆ¤æ–­å­˜åœ¨ç”¨-vï¼Œä¸ºç©ºæ£€æŸ¥ç”¨-z