---
title: 12ã€æ—¥å¿—æ–‡ä»¶ç›‘æ§å‘½ä»¤
---
## ğŸ“š ç›®å½•

1. [æ—¥å¿—ç³»ç»Ÿæ¦‚è¿°](#1-æ—¥å¿—ç³»ç»Ÿæ¦‚è¿°)
2. [journalctl - systemdæ—¥å¿—æŸ¥è¯¢ç¥å™¨](#2-journalctl-systemdæ—¥å¿—æŸ¥è¯¢ç¥å™¨)
3. [dmesg - å†…æ ¸æ¶ˆæ¯ç›‘æ§](#3-dmesg-å†…æ ¸æ¶ˆæ¯ç›‘æ§)
4. [ç³»ç»Ÿæ—¥å¿—æ–‡ä»¶è¯¦è§£](#4-ç³»ç»Ÿæ—¥å¿—æ–‡ä»¶è¯¦è§£)
5. [æ—¥å¿—çº§åˆ«ä¸è¿‡æ»¤æŠ€å·§](#5-æ—¥å¿—çº§åˆ«ä¸è¿‡æ»¤æŠ€å·§)
6. [å®æ—¶æ—¥å¿—ç›‘æ§æ–¹æ³•](#6-å®æ—¶æ—¥å¿—ç›‘æ§æ–¹æ³•)
7. [é”™è¯¯æ—¥å¿—å¿«é€Ÿå®šä½](#7-é”™è¯¯æ—¥å¿—å¿«é€Ÿå®šä½)
8. [æ—¥å¿—æ–‡ä»¶ç®¡ç†ç­–ç•¥](#8-æ—¥å¿—æ–‡ä»¶ç®¡ç†ç­–ç•¥)
9. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#9-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ” æ—¥å¿—ç³»ç»Ÿæ¦‚è¿°


### 1.1 ä»€ä¹ˆæ˜¯ç³»ç»Ÿæ—¥å¿—


**ç®€å•ç†è§£**ï¼šæ—¥å¿—å°±åƒæ˜¯è®¡ç®—æœºçš„"æ—¥è®°æœ¬"ï¼Œè®°å½•ç€ç³»ç»Ÿè¿è¡Œè¿‡ç¨‹ä¸­å‘ç”Ÿçš„å„ç§äº‹ä»¶ã€‚

```
ç°å®ç”Ÿæ´»ä¸­çš„æ—¥è®°ï¼š                ç³»ç»Ÿæ—¥å¿—ï¼š
ä»Šå¤©8ç‚¹èµ·åºŠ â†â†’ 2025-01-19 08:00:00 ç³»ç»Ÿå¯åŠ¨
ä¸Šåˆå·¥ä½œé¡ºåˆ© â†â†’ 2025-01-19 10:15:30 æœåŠ¡æ­£å¸¸è¿è¡Œ  
ä¸‹åˆç½‘ç»œæ–­äº† â†â†’ 2025-01-19 14:30:45 ç½‘ç»œè¿æ¥é”™è¯¯
æ™šä¸Šä¿®å¤å®Œæˆ â†â†’ 2025-01-19 19:20:12 ç½‘ç»œæœåŠ¡æ¢å¤
```

**æ—¥å¿—çš„æ ¸å¿ƒä½œç”¨**ï¼š
- **è®°å½•å†å²** - ç³»ç»Ÿåšäº†ä»€ä¹ˆäº‹æƒ…
- **å‘ç°é—®é¢˜** - ä»€ä¹ˆåœ°æ–¹å‡ºé”™äº†
- **åˆ†æåŸå› ** - ä¸ºä»€ä¹ˆä¼šå‡ºé”™
- **ç›‘æ§çŠ¶æ€** - ç³»ç»Ÿè¿è¡Œæ˜¯å¦æ­£å¸¸

### 1.2 Linuxæ—¥å¿—ç³»ç»Ÿæ¶æ„


```
åº”ç”¨ç¨‹åºå±‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚  åº”ç”¨æœåŠ¡æ—¥å¿—    â”‚ â† nginx, apache, mysqlç­‰
              â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
ç³»ç»ŸæœåŠ¡å±‚     â”‚   systemdæ—¥å¿—   â”‚ â† ç°ä»£Linuxä¸»è¦æ—¥å¿—ç³»ç»Ÿ
              â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
å†…æ ¸å±‚        â”‚   å†…æ ¸æ¶ˆæ¯æ—¥å¿—   â”‚ â† ç¡¬ä»¶ã€é©±åŠ¨ç›¸å…³æ¶ˆæ¯
              â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
å­˜å‚¨å±‚        â”‚   æ—¥å¿—æ–‡ä»¶å­˜å‚¨   â”‚ â† /var/log/ç›®å½•ä¸‹çš„æ–‡ä»¶
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.3 æ—¥å¿—ç³»ç»Ÿçš„æ¼”è¿›


| **ä¼ ç»Ÿsyslogæ—¶ä»£** | **ç°ä»£systemdæ—¶ä»£** |
|------------------|-------------------|
| `rsyslog/syslog-ng` | `systemd-journald` |
| æ–‡æœ¬æ–‡ä»¶å­˜å‚¨ | äºŒè¿›åˆ¶æ ¼å¼å­˜å‚¨ |
| é…ç½®å¤æ‚ | ç»Ÿä¸€ç®¡ç† |
| æŸ¥è¯¢ä¸ä¾¿ | `journalctl`å¼ºå¤§æŸ¥è¯¢ |

---

## 2. ğŸ“Š journalctl - systemdæ—¥å¿—æŸ¥è¯¢ç¥å™¨


### 2.1 journalctlåŸºæœ¬æ¦‚å¿µ


**ä»€ä¹ˆæ˜¯journalctl**ï¼šè¿™æ˜¯systemdç³»ç»Ÿçš„æ—¥å¿—æŸ¥è¯¢å·¥å…·ï¼ŒæŠŠç³»ç»Ÿæ‰€æœ‰æ—¥å¿—ç»Ÿä¸€ç®¡ç†èµ·æ¥ã€‚

**ä¸ºä»€ä¹ˆå«"ç¥å™¨"**ï¼š
- ğŸ”¸ **ä¸€ä¸ªå‘½ä»¤çœ‹æ‰€æœ‰** - ä¸ç”¨åˆ°å¤„æ‰¾æ—¥å¿—æ–‡ä»¶
- ğŸ”¸ **å¼ºå¤§çš„è¿‡æ»¤** - æŒ‰æ—¶é—´ã€æœåŠ¡ã€çº§åˆ«ç­›é€‰
- ğŸ”¸ **å®æ—¶ç›‘æ§** - å¯ä»¥åƒ`tail -f`ä¸€æ ·è·Ÿè¸ª
- ğŸ”¸ **ç»“æ„åŒ–æŸ¥è¯¢** - æ¯”grepæ›´ç²¾å‡†

### 2.2 åŸºç¡€æŸ¥è¯¢æ“ä½œ


**æŸ¥çœ‹æ‰€æœ‰æ—¥å¿—**ï¼ˆæœ€åŸºæœ¬ç”¨æ³•ï¼‰ï¼š
```bash
journalctl
# æ˜¾ç¤ºæ‰€æœ‰ç³»ç»Ÿæ—¥å¿—ï¼ŒæŒ‰æ—¶é—´é¡ºåºæ’åˆ—
```

**æŸ¥çœ‹æœ€æ–°æ—¥å¿—**ï¼ˆæœ€å¸¸ç”¨ï¼‰ï¼š
```bash
journalctl -n 20        # æ˜¾ç¤ºæœ€æ–°20æ¡æ—¥å¿—
journalctl --lines=50   # æ˜¾ç¤ºæœ€æ–°50æ¡æ—¥å¿—
```

**å®æ—¶ç›‘æ§æ—¥å¿—**ï¼ˆç›¸å½“äºtail -fï¼‰ï¼š
```bash
journalctl -f           # å®æ—¶æ˜¾ç¤ºæ–°æ—¥å¿—
journalctl -f -n 10     # å…ˆæ˜¾ç¤ºæœ€æ–°10æ¡ï¼Œç„¶åå®æ—¶è·Ÿè¸ª
```

### 2.3 æŒ‰æœåŠ¡æŸ¥è¯¢æ—¥å¿—


**æŸ¥çœ‹ç‰¹å®šæœåŠ¡æ—¥å¿—**ï¼š
```bash
journalctl -u nginx.service     # æŸ¥çœ‹nginxæœåŠ¡æ—¥å¿—
journalctl -u ssh.service       # æŸ¥çœ‹SSHæœåŠ¡æ—¥å¿—
journalctl -u systemd-networkd  # æŸ¥çœ‹ç½‘ç»œæœåŠ¡æ—¥å¿—
```

**å®æ—¶ç›‘æ§ç‰¹å®šæœåŠ¡**ï¼š
```bash
journalctl -u apache2.service -f
# å®æ—¶ç›‘æ§apache2æœåŠ¡çš„æ—¥å¿—è¾“å‡º
```

**å¤šæœåŠ¡åŒæ—¶æŸ¥çœ‹**ï¼š
```bash
journalctl -u nginx.service -u mysql.service
# åŒæ—¶æŸ¥çœ‹nginxå’Œmysqlçš„æ—¥å¿—
```

### 2.4 æ—¶é—´èŒƒå›´æŸ¥è¯¢


**æŒ‰æ—¥æœŸæŸ¥è¯¢**ï¼š
```bash
journalctl --since "2025-01-19"          # æŸ¥çœ‹ä»Šå¤©çš„æ—¥å¿—
journalctl --since "2025-01-18 10:00:00" # ä»æŒ‡å®šæ—¶é—´å¼€å§‹
journalctl --until "2025-01-19 18:00:00" # åˆ°æŒ‡å®šæ—¶é—´ç»“æŸ
```

**æ—¶é—´èŒƒå›´ç»„åˆ**ï¼š
```bash
journalctl --since "1 hour ago"          # æŸ¥çœ‹1å°æ—¶å†…çš„æ—¥å¿—
journalctl --since "yesterday"           # æŸ¥çœ‹æ˜¨å¤©çš„æ—¥å¿—
journalctl --since "10 minutes ago"      # æŸ¥çœ‹10åˆ†é’Ÿå†…çš„æ—¥å¿—
```

**ç›¸å¯¹æ—¶é—´è¡¨è¾¾**ï¼š
```bash
journalctl --since "2 days ago" --until "1 day ago"
# æŸ¥çœ‹å‰å¤©åˆ°æ˜¨å¤©çš„æ—¥å¿—
```

### 2.5 é«˜çº§æŸ¥è¯¢æŠ€å·§


**æŒ‰ä¼˜å…ˆçº§è¿‡æ»¤**ï¼š
```bash
journalctl -p err       # åªçœ‹é”™è¯¯çº§åˆ«åŠä»¥ä¸Š
journalctl -p warning   # åªçœ‹è­¦å‘Šçº§åˆ«åŠä»¥ä¸Š
journalctl -p debug     # çœ‹æ‰€æœ‰çº§åˆ«ï¼ˆåŒ…æ‹¬è°ƒè¯•ï¼‰
```

**æŒ‰è¿›ç¨‹æŸ¥è¯¢**ï¼š
```bash
journalctl _PID=1234           # æŸ¥çœ‹ç‰¹å®šè¿›ç¨‹IDçš„æ—¥å¿—
journalctl _COMM=sshd          # æŸ¥çœ‹sshdå‘½ä»¤çš„æ‰€æœ‰æ—¥å¿—
journalctl _UID=1000           # æŸ¥çœ‹ç‰¹å®šç”¨æˆ·çš„æ—¥å¿—
```

**è¾“å‡ºæ ¼å¼æ§åˆ¶**ï¼š
```bash
journalctl -o json       # JSONæ ¼å¼è¾“å‡º
journalctl -o json-pretty # æ ¼å¼åŒ–çš„JSON
journalctl -o verbose    # è¯¦ç»†ä¿¡æ¯æ ¼å¼
journalctl -o short      # ç®€çŸ­æ ¼å¼ï¼ˆé»˜è®¤ï¼‰
```

---

## 3. ğŸ–¥ï¸ dmesg - å†…æ ¸æ¶ˆæ¯ç›‘æ§


### 3.1 dmesgåŸºæœ¬æ¦‚å¿µ


**ä»€ä¹ˆæ˜¯dmesg**ï¼šè¿™æ˜¯æŸ¥çœ‹å†…æ ¸ç¯å½¢ç¼“å†²åŒºæ¶ˆæ¯çš„å‘½ä»¤ï¼Œè®°å½•ç€å†…æ ¸å¯åŠ¨å’Œè¿è¡Œæ—¶çš„é‡è¦ä¿¡æ¯ã€‚

**å†…æ ¸æ¶ˆæ¯vsæ™®é€šæ—¥å¿—çš„åŒºåˆ«**ï¼š
```
æ™®é€šåº”ç”¨æ—¥å¿—ï¼š  ç”¨æˆ·ç¨‹åºçš„è¿è¡Œè®°å½•
å†…æ ¸æ¶ˆæ¯ï¼š     ç³»ç»Ÿåº•å±‚ç¡¬ä»¶ã€é©±åŠ¨çš„çŠ¶æ€ä¿¡æ¯

å°±åƒï¼š
æ™®é€šæ—¥å¿— = å‘˜å·¥çš„å·¥ä½œæŠ¥å‘Š
å†…æ ¸æ¶ˆæ¯ = å…¬å¸åŸºç¡€è®¾æ–½çš„è¿è¡ŒæŠ¥å‘Šï¼ˆç”µåŠ›ã€ç½‘ç»œã€è®¾å¤‡ç­‰ï¼‰
```

### 3.2 åŸºæœ¬æŸ¥çœ‹æ“ä½œ


**æŸ¥çœ‹æ‰€æœ‰å†…æ ¸æ¶ˆæ¯**ï¼š
```bash
dmesg                    # æ˜¾ç¤ºæ‰€æœ‰å†…æ ¸æ¶ˆæ¯
dmesg | less             # åˆ†é¡µæŸ¥çœ‹ï¼ˆæ¨èï¼‰
dmesg | tail -20         # æŸ¥çœ‹æœ€æ–°20æ¡æ¶ˆæ¯
```

**å®æ—¶ç›‘æ§å†…æ ¸æ¶ˆæ¯**ï¼š
```bash
dmesg -w                 # å®æ—¶æ˜¾ç¤ºæ–°çš„å†…æ ¸æ¶ˆæ¯
dmesg --follow           # åŒä¸Šï¼Œé•¿é€‰é¡¹å½¢å¼
```

### 3.3 æŒ‰çº§åˆ«è¿‡æ»¤æ¶ˆæ¯


**å†…æ ¸æ¶ˆæ¯çº§åˆ«è¯´æ˜**ï¼š
```
Level 0 (emerg)   : ç³»ç»Ÿä¸å¯ç”¨          ğŸ”´ ç´§æ€¥
Level 1 (alert)   : å¿…é¡»ç«‹å³å¤„ç†        ğŸŸ  è­¦æŠ¥  
Level 2 (crit)    : ä¸¥é‡é”™è¯¯           ğŸŸ¡ ä¸¥é‡
Level 3 (err)     : é”™è¯¯ä¿¡æ¯           ğŸŸ¡ é”™è¯¯
Level 4 (warn)    : è­¦å‘Šä¿¡æ¯           ğŸ”µ è­¦å‘Š
Level 5 (notice)  : æ­£å¸¸ä½†é‡è¦         ğŸŸ¢ æ³¨æ„
Level 6 (info)    : ä¿¡æ¯æ€§æ¶ˆæ¯         ğŸŸ¢ ä¿¡æ¯
Level 7 (debug)   : è°ƒè¯•ä¿¡æ¯           âšª è°ƒè¯•
```

**æŒ‰çº§åˆ«æŸ¥çœ‹**ï¼š
```bash
dmesg -l err             # åªçœ‹é”™è¯¯çº§åˆ«æ¶ˆæ¯
dmesg -l warn,err        # çœ‹è­¦å‘Šå’Œé”™è¯¯çº§åˆ«
dmesg -l emerg,alert,crit # çœ‹ä¸¥é‡çº§åˆ«æ¶ˆæ¯
```

### 3.4 æŒ‰æ—¶é—´æŸ¥çœ‹æ¶ˆæ¯


**æ˜¾ç¤ºæ—¶é—´æˆ³**ï¼š
```bash
dmesg -T                 # æ˜¾ç¤ºäººç±»å¯è¯»çš„æ—¶é—´
dmesg -t                 # ä¸æ˜¾ç¤ºæ—¶é—´æˆ³
```

**æ—¶é—´æ ¼å¼å¯¹æ¯”**ï¼š
```bash
# é»˜è®¤æ ¼å¼ï¼ˆç³»ç»Ÿå¯åŠ¨åçš„ç§’æ•°ï¼‰
[12345.678901] usb 1-1: new high-speed USB device

# -Tå‚æ•°åçš„æ ¼å¼ï¼ˆå®é™…æ—¶é—´ï¼‰
[Sat Jan 19 15:30:45 2025] usb 1-1: new high-speed USB device
```

### 3.5 å¸¸è§å†…æ ¸æ¶ˆæ¯åˆ†æ


**ç¡¬ä»¶ç›¸å…³æ¶ˆæ¯**ï¼š
```bash
dmesg | grep -i usb      # æŸ¥çœ‹USBè®¾å¤‡ç›¸å…³
dmesg | grep -i network  # æŸ¥çœ‹ç½‘ç»œç›¸å…³
dmesg | grep -i disk     # æŸ¥çœ‹ç£ç›˜ç›¸å…³
dmesg | grep -i memory   # æŸ¥çœ‹å†…å­˜ç›¸å…³
```

**é”™è¯¯è¯Šæ–­**ï¼š
```bash
dmesg | grep -i error    # æŸ¥æ‰¾æ‰€æœ‰é”™è¯¯ä¿¡æ¯
dmesg | grep -i fail     # æŸ¥æ‰¾å¤±è´¥ä¿¡æ¯
dmesg | grep -i warn     # æŸ¥æ‰¾è­¦å‘Šä¿¡æ¯
```

---

## 4. ğŸ“ ç³»ç»Ÿæ—¥å¿—æ–‡ä»¶è¯¦è§£


### 4.1 æ—¥å¿—æ–‡ä»¶å­˜å‚¨ä½ç½®


**æ ¸å¿ƒæ—¥å¿—ç›®å½•**ï¼š`/var/log/` - è¿™æ˜¯Linuxç³»ç»Ÿæ—¥å¿—çš„"æ€»éƒ¨"

```
/var/log/ ç›®å½•ç»“æ„ï¼š
â”œâ”€â”€ messages         â† ç³»ç»Ÿæ€»æ—¥å¿—ï¼ˆæœ€é‡è¦ï¼‰
â”œâ”€â”€ syslog          â† ç³»ç»Ÿæ—¥å¿—ï¼ˆéƒ¨åˆ†å‘è¡Œç‰ˆï¼‰
â”œâ”€â”€ auth.log        â† è®¤è¯æ—¥å¿—ï¼ˆç™»å½•ã€sudoç­‰ï¼‰
â”œâ”€â”€ kern.log        â† å†…æ ¸æ—¥å¿—
â”œâ”€â”€ boot.log        â† å¯åŠ¨æ—¥å¿—
â”œâ”€â”€ cron.log        â† å®šæ—¶ä»»åŠ¡æ—¥å¿—
â”œâ”€â”€ mail.log        â† é‚®ä»¶ç³»ç»Ÿæ—¥å¿—
â””â”€â”€ apache2/        â† Apache webæœåŠ¡å™¨æ—¥å¿—ç›®å½•
    â”œâ”€â”€ access.log  â† è®¿é—®æ—¥å¿—
    â””â”€â”€ error.log   â† é”™è¯¯æ—¥å¿—
```

### 4.2 ä¸»è¦æ—¥å¿—æ–‡ä»¶è¯´æ˜


| **æ—¥å¿—æ–‡ä»¶** | **è®°å½•å†…å®¹** | **é‡è¦ç¨‹åº¦** | **æŸ¥çœ‹å‘½ä»¤** |
|-------------|-------------|--------------|-------------|
| `/var/log/messages` | `ç³»ç»Ÿæ ¸å¿ƒæ¶ˆæ¯` | ğŸ”´ **å¿…çœ‹** | `tail -f /var/log/messages` |
| `/var/log/auth.log` | `ç™»å½•è®¤è¯è®°å½•` | ğŸŸ  **é‡è¦** | `grep "Failed\|Accepted" /var/log/auth.log` |
| `/var/log/kern.log` | `å†…æ ¸ç›¸å…³æ¶ˆæ¯` | ğŸŸ¡ **è¯Šæ–­** | `tail /var/log/kern.log` |
| `/var/log/boot.log` | `ç³»ç»Ÿå¯åŠ¨æ—¥å¿—` | ğŸŸ¢ **å¯åŠ¨é—®é¢˜** | `cat /var/log/boot.log` |

### 4.3 æ—¥å¿—æ–‡ä»¶æ ¼å¼è§£è¯»


**æ ‡å‡†æ—¥å¿—è¡Œæ ¼å¼**ï¼š
```
Jan 19 15:30:45 myserver sshd[12345]: Accepted password for user from 192.168.1.100
â”‚              â”‚        â”‚    â”‚      â”‚
æ—¶é—´æˆ³          ä¸»æœºå    è¿›ç¨‹  PID   å…·ä½“æ¶ˆæ¯å†…å®¹
```

**å­—æ®µè§£é‡Š**ï¼š
- **æ—¶é—´æˆ³**ï¼šäº‹ä»¶å‘ç”Ÿçš„å…·ä½“æ—¶é—´
- **ä¸»æœºå**ï¼šäº§ç”Ÿæ—¥å¿—çš„æœºå™¨åç§°  
- **è¿›ç¨‹å**ï¼šäº§ç”Ÿæ—¥å¿—çš„ç¨‹åºåç§°
- **PID**ï¼šè¿›ç¨‹æ ‡è¯†å·ï¼ˆæ–¹æ‹¬å·å†…ï¼‰
- **æ¶ˆæ¯å†…å®¹**ï¼šå…·ä½“çš„äº‹ä»¶æè¿°

### 4.4 æ—¥å¿—æ–‡ä»¶æŸ¥çœ‹æŠ€å·§


**æŸ¥çœ‹æ–‡ä»¶å°¾éƒ¨ï¼ˆæœ€æ–°æ—¥å¿—ï¼‰**ï¼š
```bash
tail -f /var/log/messages      # å®æ—¶ç›‘æ§ç³»ç»Ÿæ—¥å¿—
tail -100 /var/log/auth.log    # æŸ¥çœ‹æœ€æ–°100è¡Œè®¤è¯æ—¥å¿—
```

**æœç´¢ç‰¹å®šå†…å®¹**ï¼š
```bash
grep "error" /var/log/messages         # æœç´¢é”™è¯¯ä¿¡æ¯
grep "192.168.1.100" /var/log/auth.log # æœç´¢ç‰¹å®šIPçš„ç™»å½•è®°å½•
```

**æŒ‰æ—¶é—´èŒƒå›´æŸ¥çœ‹**ï¼š
```bash
sed -n '/Jan 19 14:00/,/Jan 19 15:00/p' /var/log/messages
# æŸ¥çœ‹14:00åˆ°15:00ä¹‹é—´çš„ç³»ç»Ÿæ—¥å¿—
```

---

## 5. ğŸ”¢ æ—¥å¿—çº§åˆ«ä¸è¿‡æ»¤æŠ€å·§


### 5.1 æ—¥å¿—çº§åˆ«ä½“ç³»è¯¦è§£


**syslogæ ‡å‡†æ—¥å¿—çº§åˆ«**ï¼š
```
çº§åˆ«æ•°å­—    çº§åˆ«åç§°      å«ä¹‰æè¿°              å…³æ³¨ç¨‹åº¦
   0        emerg      ç³»ç»Ÿä¸å¯ç”¨             ğŸš¨ ç«‹å³å¤„ç†
   1        alert      å¿…é¡»ç«‹å³è¡ŒåŠ¨           ğŸ”¥ éå¸¸ç´§æ€¥  
   2        crit       ä¸¥é‡é”™è¯¯æ¡ä»¶           â— ä¸¥é‡é—®é¢˜
   3        err        ä¸€èˆ¬é”™è¯¯æ¡ä»¶           âš ï¸  éœ€è¦å…³æ³¨
   4        warning    è­¦å‘Šä¿¡æ¯               ğŸ’¡ å€¼å¾—æ³¨æ„
   5        notice     æ­£å¸¸ä½†é‡è¦çš„ä¿¡æ¯       â„¹ï¸  ä¿¡æ¯è®°å½•
   6        info       æ™®é€šä¿¡æ¯æ€§æ¶ˆæ¯         ğŸ“ æ—¥å¸¸è®°å½•
   7        debug      è°ƒè¯•çº§åˆ«ä¿¡æ¯           ğŸ” å¼€å‘è°ƒè¯•
```

### 5.2 æ—¥å¿—çº§åˆ«çš„å®é™…å«ä¹‰


**ç´§æ€¥çº§åˆ«åˆ†æ**ï¼š
```bash
# ğŸš¨ emerg/alertçº§åˆ« - ç³»ç»Ÿå¯èƒ½å´©æºƒ
"kernel panic"           # å†…æ ¸å´©æºƒ
"out of memory killer"   # å†…å­˜è€—å°½æ€è¿›ç¨‹
"filesystem corruption"  # æ–‡ä»¶ç³»ç»ŸæŸå

# â— crit/errçº§åˆ« - åŠŸèƒ½å¼‚å¸¸
"failed to start service"  # æœåŠ¡å¯åŠ¨å¤±è´¥
"disk I/O error"           # ç£ç›˜è¯»å†™é”™è¯¯
"network unreachable"      # ç½‘ç»œä¸å¯è¾¾

# ğŸ’¡ warningçº§åˆ« - æ½œåœ¨é—®é¢˜
"high CPU usage"           # CPUä½¿ç”¨ç‡é«˜
"disk space low"           # ç£ç›˜ç©ºé—´ä¸è¶³
"connection timeout"       # è¿æ¥è¶…æ—¶
```

### 5.3 è¿‡æ»¤æŠ€å·§å®æˆ˜


**æŒ‰çº§åˆ«è¿‡æ»¤journalctl**ï¼š
```bash
journalctl -p 0          # åªçœ‹emergçº§åˆ«
journalctl -p 3          # çœ‹errçº§åˆ«åŠä»¥ä¸Šï¼ˆ0,1,2,3ï¼‰
journalctl -p warning    # çœ‹warningçº§åˆ«åŠä»¥ä¸Š
```

**ç»„åˆæ¡ä»¶è¿‡æ»¤**ï¼š
```bash
journalctl -p err -u nginx.service --since "1 hour ago"
# æŸ¥çœ‹nginxæœåŠ¡1å°æ—¶å†…çš„é”™è¯¯çº§åˆ«æ—¥å¿—
```

**ä¼ ç»Ÿæ—¥å¿—æ–‡ä»¶çº§åˆ«è¿‡æ»¤**ï¼š
```bash
grep -E "(emerg|alert|crit|err)" /var/log/messages
# è¿‡æ»¤å‡ºç´§æ€¥åˆ°é”™è¯¯çº§åˆ«çš„æ‰€æœ‰æ—¥å¿—

awk '$4 ~ /warning|err|crit/' /var/log/syslog
# ä½¿ç”¨awkè¿‡æ»¤ç‰¹å®šçº§åˆ«ï¼ˆå‡è®¾çº§åˆ«åœ¨ç¬¬4å­—æ®µï¼‰
```

### 5.4 æ™ºèƒ½æœç´¢ç­–ç•¥


**å…³é”®è¯ç»„åˆæœç´¢**ï¼š
```bash
# æŸ¥æ‰¾ç™»å½•ç›¸å…³é—®é¢˜
journalctl | grep -E "(failed|denied|invalid|authentication)"

# æŸ¥æ‰¾ç½‘ç»œç›¸å…³é—®é¢˜  
journalctl | grep -E "(network|connection|timeout|unreachable)"

# æŸ¥æ‰¾ç£ç›˜ç›¸å…³é—®é¢˜
journalctl | grep -E "(disk|filesystem|mount|I/O)"
```

**æ—¶é—´+çº§åˆ«+æœåŠ¡ä¸‰é‡è¿‡æ»¤**ï¼š
```bash
journalctl -u sshd.service -p warning --since "today"
# æŸ¥çœ‹ä»Šå¤©sshdæœåŠ¡çš„è­¦å‘Šçº§åˆ«åŠä»¥ä¸Šæ—¥å¿—
```

---

## 6. ğŸ“º å®æ—¶æ—¥å¿—ç›‘æ§æ–¹æ³•


### 6.1 å®æ—¶ç›‘æ§çš„å¿…è¦æ€§


**ä¸ºä»€ä¹ˆéœ€è¦å®æ—¶ç›‘æ§**ï¼š
- **åŠæ—¶å‘ç°é—®é¢˜** - ç³»ç»Ÿå¼‚å¸¸ç¬¬ä¸€æ—¶é—´çŸ¥é“
- **è§‚å¯Ÿç³»ç»Ÿè¡Œä¸º** - äº†è§£æœåŠ¡è¿è¡ŒçŠ¶æ€
- **è°ƒè¯•åº”ç”¨é—®é¢˜** - å¼€å‘æµ‹è¯•æ—¶å®æ—¶è§‚å¯Ÿ
- **ç›‘æ§æ”»å‡»è¡Œä¸º** - å‘ç°å¼‚å¸¸è®¿é—®æ¨¡å¼

### 6.2 å¤šç§å®æ—¶ç›‘æ§æ–¹æ³•


**æ–¹æ³•1ï¼šjournalctlå®æ—¶ç›‘æ§**ï¼š
```bash
journalctl -f                    # ç›‘æ§æ‰€æœ‰æ—¥å¿—
journalctl -f -u nginx.service   # ç›‘æ§ç‰¹å®šæœåŠ¡
journalctl -f -p err             # åªç›‘æ§é”™è¯¯çº§åˆ«
```

**æ–¹æ³•2ï¼štailå‘½ä»¤ç›‘æ§**ï¼š
```bash
tail -f /var/log/messages        # ç›‘æ§ç³»ç»Ÿä¸»æ—¥å¿—
tail -f /var/log/auth.log         # ç›‘æ§è®¤è¯æ—¥å¿—
tail -f /var/log/nginx/access.log # ç›‘æ§webè®¿é—®æ—¥å¿—
```

**æ–¹æ³•3ï¼šå¤šæ–‡ä»¶åŒæ—¶ç›‘æ§**ï¼š
```bash
# ä½¿ç”¨multitailå·¥å…·ï¼ˆéœ€è¦å®‰è£…ï¼‰
multitail /var/log/messages /var/log/auth.log /var/log/kern.log

# ä½¿ç”¨tailå‘½ä»¤çš„å¤šæ–‡ä»¶æ¨¡å¼
tail -f /var/log/messages /var/log/auth.log
```

### 6.3 å®æ—¶ç›‘æ§å®æˆ˜åœºæ™¯


**åœºæ™¯1ï¼šç›‘æ§webæœåŠ¡å™¨**
```bash
# åŒæ—¶ç›‘æ§è®¿é—®æ—¥å¿—å’Œé”™è¯¯æ—¥å¿—
tail -f /var/log/nginx/access.log /var/log/nginx/error.log

# è¿‡æ»¤å‡ºé”™è¯¯è®¿é—®ï¼ˆ4xx, 5xxçŠ¶æ€ç ï¼‰
tail -f /var/log/nginx/access.log | grep -E " [45][0-9]{2} "
```

**åœºæ™¯2ï¼šç›‘æ§SSHç™»å½•**
```bash
# å®æ—¶æŸ¥çœ‹ç™»å½•å°è¯•
journalctl -f -u ssh.service

# åªçœ‹ç™»å½•å¤±è´¥çš„è®°å½•
tail -f /var/log/auth.log | grep "Failed password"
```

**åœºæ™¯3ï¼šç›‘æ§ç³»ç»Ÿèµ„æº**
```bash
# ç›‘æ§å†…å­˜ç›¸å…³é—®é¢˜
journalctl -f | grep -i "memory\|oom"

# ç›‘æ§ç£ç›˜ç›¸å…³é—®é¢˜
journalctl -f | grep -i "disk\|I/O\|filesystem"
```

### 6.4 é«˜çº§ç›‘æ§æŠ€å·§


**å½©è‰²è¾“å‡ºå¢å¼ºå¯è¯»æ€§**ï¼š
```bash
journalctl -f | ccze             # ä½¿ç”¨cczeå·¥å…·å½©è‰²æ˜¾ç¤º
tail -f /var/log/messages | ccze  # ä¼ ç»Ÿæ—¥å¿—æ–‡ä»¶å½©è‰²æ˜¾ç¤º
```

**è¿‡æ»¤å™ªéŸ³æ—¥å¿—**ï¼š
```bash
# æ’é™¤æ­£å¸¸çš„å®šæ—¶ä»»åŠ¡æ—¥å¿—
journalctl -f | grep -v "CRON"

# æ’é™¤ç‰¹å®šè¿›ç¨‹çš„æ—¥å¿—
tail -f /var/log/messages | grep -v "systemd"
```

**ç›‘æ§ç‰¹å®šæ¨¡å¼**ï¼š
```bash
# ç›‘æ§åŒ…å«ç‰¹å®šå…³é”®è¯çš„æ—¥å¿—
journalctl -f | grep -E "(error|fail|denied|timeout)"

# ç›‘æ§æ¥è‡ªç‰¹å®šIPçš„æ´»åŠ¨
tail -f /var/log/auth.log | grep "192.168.1.100"
```

---

## 7. ğŸ” é”™è¯¯æ—¥å¿—å¿«é€Ÿå®šä½


### 7.1 é”™è¯¯å®šä½æ€è·¯


**å®šä½é”™è¯¯çš„åŸºæœ¬æ­¥éª¤**ï¼š
```
ç¬¬1æ­¥ï¼šç¡®å®šé—®é¢˜ç°è±¡
     â†“
ç¬¬2æ­¥ï¼šç¡®å®šæ—¶é—´èŒƒå›´  
     â†“
ç¬¬3æ­¥ï¼šé€‰æ‹©ç›¸å…³æ—¥å¿—æ–‡ä»¶
     â†“
ç¬¬4æ­¥ï¼šä½¿ç”¨å…³é”®è¯æœç´¢
     â†“  
ç¬¬5æ­¥ï¼šåˆ†æé”™è¯¯ä¸Šä¸‹æ–‡
     â†“
ç¬¬6æ­¥ï¼šæ‰¾åˆ°æ ¹æœ¬åŸå› 
```

### 7.2 å¿«é€Ÿå®šä½å‘½ä»¤æŠ€å·§


**æŒ‰æ—¶é—´å¿«é€Ÿå®šä½**ï¼š
```bash
# æŸ¥çœ‹æœ€è¿‘1å°æ—¶çš„é”™è¯¯
journalctl --since "1 hour ago" -p err

# æŸ¥çœ‹ç‰¹å®šæ—¶é—´æ®µçš„é—®é¢˜
journalctl --since "2025-01-19 14:00" --until "2025-01-19 15:00" -p warning
```

**æŒ‰æœåŠ¡å¿«é€Ÿå®šä½**ï¼š
```bash
# å¦‚æœçŸ¥é“æ˜¯å“ªä¸ªæœåŠ¡å‡ºé—®é¢˜
journalctl -u apache2.service -p err --since "today"

# æŸ¥çœ‹æœåŠ¡çš„æœ€æ–°çŠ¶æ€
systemctl status apache2.service
```

**å…³é”®è¯ç»„åˆæœç´¢**ï¼š
```bash
# å¸¸è§é”™è¯¯å…³é”®è¯
journalctl | grep -E -i "(error|fail|denied|refused|timeout|crash)"

# ç½‘ç»œç›¸å…³é”™è¯¯
journalctl | grep -E -i "(connection|network|unreachable|timeout)"

# æƒé™ç›¸å…³é”™è¯¯
journalctl | grep -E -i "(permission|denied|forbidden|unauthorized)"
```

### 7.3 å…·ä½“é”™è¯¯åœºæ™¯åˆ†æ


**åœºæ™¯1ï¼šæœåŠ¡å¯åŠ¨å¤±è´¥**
```bash
# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
systemctl status nginx.service

# æŸ¥çœ‹è¯¦ç»†é”™è¯¯æ—¥å¿—
journalctl -u nginx.service --no-pager

# æŸ¥çœ‹é…ç½®æ–‡ä»¶è¯­æ³•
nginx -t
```

**åœºæ™¯2ï¼šç™»å½•å¤±è´¥é—®é¢˜**
```bash
# æŸ¥çœ‹SSHç™»å½•å¤±è´¥è®°å½•
grep "Failed password" /var/log/auth.log | tail -10

# æŸ¥çœ‹ç‰¹å®šç”¨æˆ·çš„ç™»å½•å°è¯•
grep "user01" /var/log/auth.log | grep -E "(Failed|Accepted)"
```

**åœºæ™¯3ï¼šç£ç›˜ç©ºé—´é—®é¢˜**
```bash
# æŸ¥çœ‹ç£ç›˜ç©ºé—´ç›¸å…³é”™è¯¯
journalctl | grep -i "no space\|disk full\|filesystem"

# æ£€æŸ¥å®é™…ç£ç›˜ä½¿ç”¨æƒ…å†µ
df -h
```

### 7.4 é”™è¯¯æ—¥å¿—åˆ†ææŠ€å·§


**æŸ¥çœ‹é”™è¯¯å‰åçš„ä¸Šä¸‹æ–‡**ï¼š
```bash
# grepæ˜¾ç¤ºåŒ¹é…è¡Œå‰åå„5è¡Œ
grep -A5 -B5 "error" /var/log/messages

# journalctlæ˜¾ç¤ºç‰¹å®šæ—¶é—´å‰åçš„æ—¥å¿—
journalctl --since "14:30:00" --until "14:35:00"
```

**ç»Ÿè®¡é”™è¯¯é¢‘ç‡**ï¼š
```bash
# ç»Ÿè®¡é”™è¯¯å‡ºç°æ¬¡æ•°
grep "connection refused" /var/log/messages | wc -l

# æŒ‰å°æ—¶ç»Ÿè®¡é”™è¯¯åˆ†å¸ƒ
grep "error" /var/log/messages | cut -d' ' -f1-3 | uniq -c
```

**è¿‡æ»¤é‡å¤é”™è¯¯**ï¼š
```bash
# å»é™¤é‡å¤çš„é”™è¯¯ä¿¡æ¯ï¼Œåªçœ‹å”¯ä¸€çš„
grep "error" /var/log/messages | sort | uniq

# ç»Ÿè®¡æ¯ç§é”™è¯¯å‡ºç°çš„æ¬¡æ•°
grep "error" /var/log/messages | sort | uniq -c | sort -nr
```

---

## 8. ğŸ“¦ æ—¥å¿—æ–‡ä»¶ç®¡ç†ç­–ç•¥


### 8.1 æ—¥å¿—è½®è½¬æœºåˆ¶


**ä»€ä¹ˆæ˜¯æ—¥å¿—è½®è½¬**ï¼š
æ—¥å¿—è½®è½¬å°±åƒæ˜¯ç»™æ—¥å¿—æ–‡ä»¶"æ¢æ–°æœ¬å­"ï¼Œé˜²æ­¢å•ä¸ªæ—¥å¿—æ–‡ä»¶æ— é™å¢é•¿å æ»¡ç£ç›˜ã€‚

```
æ—¥å¿—è½®è½¬è¿‡ç¨‹ç¤ºæ„ï¼š
messages         â† å½“å‰æ­£åœ¨å†™å…¥çš„æ—¥å¿—
messages.1       â† æ˜¨å¤©çš„æ—¥å¿—ï¼ˆå‹ç¼©å‰ï¼‰
messages.1.gz    â† æ˜¨å¤©çš„æ—¥å¿—ï¼ˆå‹ç¼©åï¼‰
messages.2.gz    â† å‰å¤©çš„æ—¥å¿—
messages.3.gz    â† å¤§å‰å¤©çš„æ—¥å¿—
...
messages.7.gz    â† 7å¤©å‰çš„æ—¥å¿—ï¼ˆä¹‹ååˆ é™¤ï¼‰
```

### 8.2 logrotateé…ç½®


**logrotateé…ç½®æ–‡ä»¶ä½ç½®**ï¼š
```bash
/etc/logrotate.conf          # ä¸»é…ç½®æ–‡ä»¶
/etc/logrotate.d/            # å…·ä½“æœåŠ¡çš„è½®è½¬é…ç½®
```

**å…¸å‹logrotateé…ç½®ç¤ºä¾‹**ï¼š
```bash
# æŸ¥çœ‹nginxçš„æ—¥å¿—è½®è½¬é…ç½®
cat /etc/logrotate.d/nginx

# å…¸å‹é…ç½®å†…å®¹ï¼š
/var/log/nginx/*.log {
    daily          # æ¯å¤©è½®è½¬
    missingok      # æ—¥å¿—æ–‡ä»¶ä¸å­˜åœ¨ä¸æŠ¥é”™
    rotate 52      # ä¿ç•™52ä¸ªæ—§æ—¥å¿—æ–‡ä»¶
    compress       # å‹ç¼©æ—§æ—¥å¿—æ–‡ä»¶
    delaycompress  # å»¶è¿Ÿå‹ç¼©ï¼ˆç¬¬äºŒæ¬¡è½®è½¬æ—¶æ‰å‹ç¼©ï¼‰
    notifempty     # ç©ºæ–‡ä»¶ä¸è½®è½¬
    create 644 www-data adm  # åˆ›å»ºæ–°æ–‡ä»¶çš„æƒé™å’Œå±ä¸»
}
```

### 8.3 æ—¥å¿—å¤§å°ç›‘æ§


**æ£€æŸ¥æ—¥å¿—æ–‡ä»¶å¤§å°**ï¼š
```bash
# æŸ¥çœ‹/var/logç›®å½•ä¸‹æ–‡ä»¶å¤§å°
ls -lh /var/log/

# æŸ¥çœ‹æœ€å¤§çš„æ—¥å¿—æ–‡ä»¶ï¼ˆå‰10ä¸ªï¼‰
du -h /var/log/* | sort -hr | head -10

# æŸ¥çœ‹æ€»çš„æ—¥å¿—ç›®å½•å¤§å°
du -sh /var/log/
```

**ç£ç›˜ç©ºé—´é¢„è­¦**ï¼š
```bash
# æ£€æŸ¥ç£ç›˜ä½¿ç”¨æƒ…å†µ
df -h /var/log

# å¦‚æœç£ç›˜ç©ºé—´ä¸è¶³ï¼Œä¸´æ—¶æ¸…ç†
sudo truncate -s 0 /var/log/large-log-file.log
```

### 8.4 æ—¥å¿—æ¸…ç†ç­–ç•¥


**å®‰å…¨æ¸…ç†æ—¥å¿—**ï¼š
```bash
# æ¸…ç©ºä½†ä¸åˆ é™¤æ–‡ä»¶ï¼ˆæ¨èï¼‰
sudo truncate -s 0 /var/log/messages

# åˆ é™¤æ—§çš„è½®è½¬æ—¥å¿—
sudo rm /var/log/messages.*.gz

# åªä¿ç•™æœ€è¿‘3å¤©çš„æ—¥å¿—
find /var/log -name "*.log" -mtime +3 -exec rm {} \;
```

**journaldæ—¥å¿—ç®¡ç†**ï¼š
```bash
# æŸ¥çœ‹journalå ç”¨çš„ç£ç›˜ç©ºé—´
journalctl --disk-usage

# æ¸…ç†è¶…è¿‡æŒ‡å®šæ—¶é—´çš„æ—¥å¿—
sudo journalctl --vacuum-time=7d    # åªä¿ç•™7å¤©å†…çš„æ—¥å¿—

# æ¸…ç†è¶…è¿‡æŒ‡å®šå¤§å°çš„æ—¥å¿—  
sudo journalctl --vacuum-size=100M  # åªä¿ç•™æœ€æ–°100MBçš„æ—¥å¿—
```

### 8.5 è‡ªåŠ¨åŒ–æ—¥å¿—ç®¡ç†


**è®¾ç½®å®šæ—¶æ¸…ç†ä»»åŠ¡**ï¼š
```bash
# ç¼–è¾‘crontab
crontab -e

# æ·»åŠ æ¯å‘¨æ¸…ç†ä»»åŠ¡
0 2 * * 0 /usr/sbin/logrotate /etc/logrotate.conf
```

**ç›‘æ§è„šæœ¬ç¤ºä¾‹**ï¼š
```bash
#!/bin/bash
# æ—¥å¿—å¤§å°ç›‘æ§è„šæœ¬

LOG_DIR="/var/log"
MAX_SIZE="1G"

# æ£€æŸ¥æ—¥å¿—ç›®å½•å¤§å°
CURRENT_SIZE=$(du -s $LOG_DIR | cut -f1)
MAX_SIZE_KB=$(echo $MAX_SIZE | numfmt --from=iec)

if [ $CURRENT_SIZE -gt $MAX_SIZE_KB ]; then
    echo "è­¦å‘Šï¼šæ—¥å¿—ç›®å½•è¶…è¿‡é™åˆ¶å¤§å°ï¼" | mail -s "æ—¥å¿—ç©ºé—´è­¦å‘Š" admin@example.com
    # æ‰§è¡Œæ¸…ç†æ“ä½œ
    journalctl --vacuum-size=500M
fi
```

---

## 9. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 9.1 å¿…é¡»æŒæ¡çš„å‘½ä»¤


```bash
ğŸ”¸ journalctl         # ç°ä»£Linuxæ—¥å¿—æŸ¥è¯¢æ ¸å¿ƒå·¥å…·
ğŸ”¸ journalctl -f      # å®æ—¶ç›‘æ§æ‰€æœ‰æ—¥å¿—
ğŸ”¸ journalctl -u æœåŠ¡å # æŸ¥çœ‹ç‰¹å®šæœåŠ¡æ—¥å¿—
ğŸ”¸ dmesg              # æŸ¥çœ‹å†…æ ¸æ¶ˆæ¯
ğŸ”¸ tail -f æ—¥å¿—æ–‡ä»¶    # å®æ—¶ç›‘æ§ä¼ ç»Ÿæ—¥å¿—æ–‡ä»¶
```

### 9.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ æ—¥å¿—ç³»ç»Ÿçš„æœ¬è´¨**
```
æ—¥å¿— = ç³»ç»Ÿçš„è®°å½•æœ¬
ç”¨é€”ï¼šå‘ç°é—®é¢˜ + åˆ†æåŸå›  + ç›‘æ§çŠ¶æ€
ä½ç½®ï¼šä¸»è¦åœ¨ /var/log/ ç›®å½•ä¸‹
å·¥å…·ï¼šjournalctlï¼ˆæ–°ï¼‰ + tail/grepï¼ˆä¼ ç»Ÿï¼‰
```

**ğŸ”¹ ä¸¤å¥—æ—¥å¿—ç³»ç»Ÿå¯¹æ¯”**
```
ä¼ ç»Ÿæ–¹å¼ï¼šæ–‡ä»¶ + grep + tail + less
ç°ä»£æ–¹å¼ï¼šjournalctl ç»Ÿä¸€æŸ¥è¯¢
å»ºè®®ï¼šä¸¤å¥—éƒ½è¦ä¼šï¼Œjournalctlä¸ºä¸»
```

**ğŸ”¹ æ—¥å¿—çº§åˆ«çš„å®ç”¨ä»·å€¼**
```
ğŸš¨ emerg/alert/crit  â† ç«‹å³å¤„ç†ï¼Œç³»ç»Ÿå¯èƒ½æœ‰å±é™©
âš ï¸  err/warning      â† éœ€è¦å…³æ³¨ï¼ŒåŠŸèƒ½å¯èƒ½å¼‚å¸¸  
â„¹ï¸  notice/info/debug â† äº†è§£å³å¯ï¼Œæ­£å¸¸è¿è¡Œä¿¡æ¯
```

### 9.3 å®æˆ˜åº”ç”¨ç­–ç•¥


**æ—¥å¸¸ç›‘æ§ä»»åŠ¡**ï¼š
- âœ… æ¯å¤©æ£€æŸ¥ç³»ç»Ÿé”™è¯¯æ—¥å¿—ï¼š`journalctl -p err --since "today"`
- âœ… ç›‘æ§é‡è¦æœåŠ¡çŠ¶æ€ï¼š`journalctl -u nginx.service -f`
- âœ… å…³æ³¨ç™»å½•å¼‚å¸¸ï¼š`grep "Failed" /var/log/auth.log`
- âœ… æ£€æŸ¥ç£ç›˜ç©ºé—´ä½¿ç”¨ï¼š`journalctl --disk-usage`

**æ•…éšœæ’æŸ¥æµç¨‹**ï¼š
```
1. ç¡®å®šé—®é¢˜æ—¶é—´èŒƒå›´
2. é€‰æ‹©ç›¸å…³æ—¥å¿—æ–‡ä»¶æˆ–æœåŠ¡
3. ä½¿ç”¨å…³é”®è¯è¿‡æ»¤
4. æŸ¥çœ‹é”™è¯¯å‰åä¸Šä¸‹æ–‡
5. ç»“åˆç³»ç»ŸçŠ¶æ€åˆ†æ
6. å®šä½æ ¹æœ¬åŸå› 
```

**æ€§èƒ½ä¼˜åŒ–å»ºè®®**ï¼š
- ğŸ”¸ è®¾ç½®åˆç†çš„æ—¥å¿—è½®è½¬ç­–ç•¥
- ğŸ”¸ å®šæœŸæ¸…ç†è€æ—§æ—¥å¿—æ–‡ä»¶
- ğŸ”¸ ç›‘æ§æ—¥å¿—ç›®å½•ç£ç›˜ä½¿ç”¨æƒ…å†µ
- ğŸ”¸ è¿‡æ»¤æ‰ä¸å¿…è¦çš„è°ƒè¯•ä¿¡æ¯

### 9.4 æ–°æ‰‹å­¦ä¹ è·¯å¾„


**ç¬¬ä¸€é˜¶æ®µï¼šåŸºç¡€æ“ä½œ**
```bash
journalctl                    # å…ˆå­¦ä¼šçœ‹æ‰€æœ‰æ—¥å¿—
journalctl -f                # å­¦ä¼šå®æ—¶ç›‘æ§
tail -f /var/log/messages    # æŒæ¡ä¼ ç»Ÿæ–¹å¼
```

**ç¬¬äºŒé˜¶æ®µï¼šç²¾ç¡®æŸ¥è¯¢**
```bash
journalctl -u æœåŠ¡å          # æŒ‰æœåŠ¡è¿‡æ»¤
journalctl -p err            # æŒ‰çº§åˆ«è¿‡æ»¤
journalctl --since "1h ago"  # æŒ‰æ—¶é—´è¿‡æ»¤
```

**ç¬¬ä¸‰é˜¶æ®µï¼šç»„åˆåº”ç”¨**
```bash
# å¤šæ¡ä»¶ç»„åˆæŸ¥è¯¢
journalctl -u nginx -p warning --since "today"
# å®æ—¶ç›‘æ§ç‰¹å®šé”™è¯¯
journalctl -f | grep -E "(error|fail)"
```

**è®°å¿†å£è¯€**ï¼š
- journalctlçœ‹æ—¥å¿—ï¼Œ-få‚æ•°å®æ—¶è·Ÿ
- -uæŒ‡å®šæœåŠ¡åï¼Œ-pè¿‡æ»¤æ—¥å¿—çº§  
- --sinceé™æ—¶é—´ï¼Œgrepç­›é€‰æ›´ç²¾å‡†
- /var/logä¼ ç»Ÿå­˜ï¼Œtailå‘½ä»¤ä¹Ÿè¦è¡Œ

**æ ¸å¿ƒç†å¿µ**ï¼š
æ—¥å¿—ç›‘æ§ä¸æ˜¯ä¸ºäº†çœ‹çƒ­é—¹ï¼Œè€Œæ˜¯è¦**åŠæ—¶å‘ç°é—®é¢˜ã€å¿«é€Ÿå®šä½åŸå› ã€ä¿éšœç³»ç»Ÿç¨³å®šè¿è¡Œ**ã€‚ç†Ÿç»ƒæŒæ¡è¿™äº›å‘½ä»¤ï¼Œå°±èƒ½æˆä¸ºç³»ç»Ÿè¿ç»´çš„"ç«çœ¼é‡‘ç›"ï¼