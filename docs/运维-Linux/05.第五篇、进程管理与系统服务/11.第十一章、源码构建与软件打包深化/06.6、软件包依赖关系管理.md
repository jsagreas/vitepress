---
title: 6ã€è½¯ä»¶åŒ…ä¾èµ–å…³ç³»ç®¡ç†
---
## ğŸ“š ç›®å½•


1. [è½¯ä»¶åŒ…ä¾èµ–å…³ç³»åŸºç¡€æ¦‚å¿µ](#1-è½¯ä»¶åŒ…ä¾èµ–å…³ç³»åŸºç¡€æ¦‚å¿µ)
2. [è¿è¡Œæ—¶ä¾èµ–ä¸æ„å»ºä¾èµ–](#2-è¿è¡Œæ—¶ä¾èµ–ä¸æ„å»ºä¾èµ–)
3. [ç‰ˆæœ¬ä¾èµ–å…³ç³»è¡¨è¾¾è¯­æ³•](#3-ç‰ˆæœ¬ä¾èµ–å…³ç³»è¡¨è¾¾è¯­æ³•)
4. [å†²çªåŒ…ä¸æ›¿æ¢åŒ…å£°æ˜](#4-å†²çªåŒ…ä¸æ›¿æ¢åŒ…å£°æ˜)
5. [è™šæ‹ŸåŒ…ä¾èµ–å¤„ç†](#5-è™šæ‹ŸåŒ…ä¾èµ–å¤„ç†)
6. [å¾ªç¯ä¾èµ–é—®é¢˜è§£å†³](#6-å¾ªç¯ä¾èµ–é—®é¢˜è§£å†³)
7. [ä¾èµ–å…³ç³»æµ‹è¯•ä¸éªŒè¯](#7-ä¾èµ–å…³ç³»æµ‹è¯•ä¸éªŒè¯)
8. [ä¾èµ–æ ‘åˆ†æå·¥å…·ä½¿ç”¨](#8-ä¾èµ–æ ‘åˆ†æå·¥å…·ä½¿ç”¨)
9. [ä¾èµ–å…³ç³»æœ€ä½³å®è·µ](#9-ä¾èµ–å…³ç³»æœ€ä½³å®è·µ)
10. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#10-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ§© è½¯ä»¶åŒ…ä¾èµ–å…³ç³»åŸºç¡€æ¦‚å¿µ



### 1.1 ä»€ä¹ˆæ˜¯è½¯ä»¶åŒ…ä¾èµ–å…³ç³»



**ğŸ”¸ é€šä¿—ç†è§£**
```
å°±åƒåšèœéœ€è¦é…èœä¸€æ ·ï¼š
- åšå®«ä¿é¸¡ä¸éœ€è¦ï¼šèŠ±ç”Ÿç±³ã€é’æ¤’ã€é¸¡è‚‰
- è½¯ä»¶åŒ…ä¹Ÿä¸€æ ·ï¼Œéœ€è¦å…¶ä»–è½¯ä»¶åŒ…æ‰èƒ½æ­£å¸¸å·¥ä½œ

ä¸¾ä¸ªä¾‹å­ï¼š
ä½ è¦å®‰è£…ä¸€ä¸ªéŸ³ä¹æ’­æ”¾å™¨ï¼Œå®ƒå¯èƒ½éœ€è¦ï¼š
- éŸ³é¢‘è§£ç åº“ï¼ˆæ’­æ”¾MP3ã€WAVç­‰æ ¼å¼ï¼‰
- å›¾å½¢ç•Œé¢åº“ï¼ˆæ˜¾ç¤ºæ’­æ”¾ç•Œé¢ï¼‰  
- æ•°æ®åº“åº“ï¼ˆç®¡ç†éŸ³ä¹åˆ—è¡¨ï¼‰
```

**ğŸ“‹ æ ¸å¿ƒæ¦‚å¿µ**
```
ä¾èµ–å…³ç³»ï¼šä¸€ä¸ªè½¯ä»¶åŒ…éœ€è¦å…¶ä»–è½¯ä»¶åŒ…æ‰èƒ½æ­£å¸¸è¿è¡Œ
ä¸»è¦ç±»å‹ï¼š
ğŸ”¸ å¿…éœ€ä¾èµ–ï¼šæ²¡æœ‰å°±æ— æ³•å·¥ä½œ
ğŸ”¸ æ¨èä¾èµ–ï¼šæ²¡æœ‰ä¹Ÿèƒ½å·¥ä½œï¼Œä½†åŠŸèƒ½å—é™
ğŸ”¸ å¯é€‰ä¾èµ–ï¼šæä¾›é¢å¤–åŠŸèƒ½
ğŸ”¸ æ„å»ºä¾èµ–ï¼šç¼–è¯‘æ—¶éœ€è¦ï¼Œè¿è¡Œæ—¶ä¸éœ€è¦
```

### 1.2 ä¸ºä»€ä¹ˆéœ€è¦ä¾èµ–å…³ç³»ç®¡ç†



**ğŸ’¡ ç°å®é—®é¢˜**
```
æ²¡æœ‰ä¾èµ–ç®¡ç†ä¼šæ€æ ·ï¼Ÿ

â”Œâ”€ æ‰‹åŠ¨å®‰è£…å™©æ¢¦ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. å®‰è£…è½¯ä»¶A             â”‚
â”‚ 2. æç¤ºç¼ºå°‘åº“B           â”‚  
â”‚ 3. å»æ‰¾åº“Bï¼Œå‘ç°éœ€è¦åº“C   â”‚
â”‚ 4. æ‰¾åº“Cï¼Œåˆéœ€è¦åº“D...    â”‚
â”‚ 5. å‡ å°æ—¶åè¿˜åœ¨æ‰¾ä¾èµ–...  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**âœ… ä¾èµ–ç®¡ç†çš„å¥½å¤„**
```
è‡ªåŠ¨åŒ–å¤„ç†ï¼š
- ç³»ç»ŸçŸ¥é“æ¯ä¸ªè½¯ä»¶éœ€è¦ä»€ä¹ˆ
- è‡ªåŠ¨ä¸‹è½½å®‰è£…æ‰€æœ‰ä¾èµ–
- é¿å…ç‰ˆæœ¬å†²çª
- å®‰å…¨å¸è½½ï¼ˆä¸ä¼šç ´åå…¶ä»–è½¯ä»¶ï¼‰

ç”¨æˆ·ä½“éªŒï¼š
ä¸€æ¡å‘½ä»¤æå®š â†’ yum install firefox
ç³»ç»Ÿè‡ªåŠ¨å¤„ç† â†’ ä¸‹è½½firefox + æ‰€æœ‰ä¾èµ–åº“
```

### 1.3 ä¾èµ–å…³ç³»çš„åŸºæœ¬åˆ†ç±»



**ğŸ¯ æŒ‰é‡è¦æ€§åˆ†ç±»**
```
â”Œâ”€ ä¾èµ–é‡è¦æ€§ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Requiresï¼ˆå¿…éœ€ï¼‰          â”‚
â”‚ â”œâ”€ æ²¡æœ‰å°±æ— æ³•å¯åŠ¨        â”‚
â”‚ â”œâ”€ ä¾‹ï¼šæ’­æ”¾å™¨éœ€è¦è§£ç åº“   â”‚
â”‚                          â”‚
â”‚ Recommendsï¼ˆæ¨èï¼‰        â”‚
â”‚ â”œâ”€ æ²¡æœ‰ä¹Ÿèƒ½ç”¨ï¼Œä½†åŠŸèƒ½å°‘   â”‚
â”‚ â”œâ”€ ä¾‹ï¼šæ–‡æœ¬ç¼–è¾‘å™¨çš„æ‹¼å†™æ£€æŸ¥â”‚
â”‚                          â”‚
â”‚ Suggestsï¼ˆå»ºè®®ï¼‰          â”‚
â”‚ â”œâ”€ å¯é€‰çš„é¢å¤–åŠŸèƒ½        â”‚
â”‚ â”œâ”€ ä¾‹ï¼šæ¸¸æˆçš„é«˜æ¸…æè´¨åŒ…   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. âš™ï¸ è¿è¡Œæ—¶ä¾èµ–ä¸æ„å»ºä¾èµ–



### 2.1 è¿è¡Œæ—¶ä¾èµ–è¯¦è§£



**ğŸ”¸ ä»€ä¹ˆæ˜¯è¿è¡Œæ—¶ä¾èµ–**
```
ç®€å•ç†è§£ï¼šè½¯ä»¶è¿è¡Œæ—¶å¿…é¡»å­˜åœ¨çš„å…¶ä»–è½¯ä»¶

å°±åƒå¼€è½¦éœ€è¦ï¼š
- æ±½æ²¹ï¼ˆå¿…éœ€ï¼Œæ²¡æœ‰å°±è·‘ä¸äº†ï¼‰
- å¯¼èˆªï¼ˆæ¨èï¼Œæ²¡æœ‰ä¹Ÿèƒ½å¼€ï¼Œä½†ä¼šè¿·è·¯ï¼‰
- éŸ³å“ï¼ˆå¯é€‰ï¼Œæ²¡æœ‰ä¹Ÿä¸å½±å“é©¾é©¶ï¼‰
```

**ğŸ“‹ è¿è¡Œæ—¶ä¾èµ–ç¤ºä¾‹**
```bash
# ä¸€ä¸ªWebæœåŠ¡å™¨çš„è¿è¡Œæ—¶ä¾èµ–

Package: nginx
Depends: 
  - libc6 (>= 2.28)          # Cæ ‡å‡†åº“ï¼ˆåŸºç¡€è¿è¡Œç¯å¢ƒï¼‰
  - libpcre3 (>= 8.35)       # æ­£åˆ™è¡¨è¾¾å¼åº“
  - libssl1.1 (>= 1.1.1)     # SSLåŠ å¯†åº“
  - zlib1g (>= 1.1.4)        # å‹ç¼©åº“

# æ²¡æœ‰è¿™äº›åº“ï¼Œnginxå°±æ— æ³•å¯åŠ¨

```

### 2.2 æ„å»ºä¾èµ–è¯¦è§£



**ğŸ”¸ ä»€ä¹ˆæ˜¯æ„å»ºä¾èµ–**
```
ç®€å•ç†è§£ï¼šç¼–è¯‘è½¯ä»¶æ—¶éœ€è¦çš„å·¥å…·å’Œåº“

å°±åƒç›–æˆ¿å­ï¼š
è¿è¡Œæ—¶ä¾èµ– = ä½æˆ¿éœ€è¦çš„ï¼ˆç”µã€æ°´ã€æ°”ï¼‰
æ„å»ºä¾èµ– = ç›–æˆ¿æ—¶éœ€è¦çš„ï¼ˆæ°´æ³¥ã€é’¢ç­‹ã€å·¥å…·ï¼‰

æˆ¿å­ç›–å¥½åï¼Œæ°´æ³¥é’¢ç­‹å¯ä»¥æ‹¿èµ°
ä½†ç”µæ°´æ°”å¿…é¡»ä¸€ç›´æœ‰
```

**ğŸ› ï¸ æ„å»ºä¾èµ–ç¤ºä¾‹**
```bash
# ç¼–è¯‘nginxéœ€è¦çš„æ„å»ºä¾èµ–

BuildRequires:
  - gcc                     # ç¼–è¯‘å™¨
  - make                    # æ„å»ºå·¥å…·
  - pcre-devel              # PCREå¼€å‘åº“
  - openssl-devel           # OpenSSLå¼€å‘åº“  
  - zlib-devel              # zlibå¼€å‘åº“

# ç¼–è¯‘å®Œæˆåï¼Œè¿™äº›å¯ä»¥åˆ é™¤

# ä½†è¿è¡Œæ—¶ä¾èµ–å¿…é¡»ä¿ç•™

```

### 2.3 RPMè§„èŒƒæ–‡ä»¶ä¸­çš„ä¾èµ–å£°æ˜



**ğŸ“ specæ–‡ä»¶ä¾èµ–å£°æ˜**
```bash
# RPM specæ–‡ä»¶ç¤ºä¾‹

Name: myapp
Version: 1.0
Release: 1%{?dist}

# æ„å»ºæ—¶ä¾èµ–

BuildRequires: gcc >= 4.8
BuildRequires: cmake >= 3.5
BuildRequires: pkgconfig(openssl)
BuildRequires: python3-devel

# è¿è¡Œæ—¶ä¾èµ–  

Requires: glibc >= 2.17
Requires: openssl-libs >= 1.1.0
Requires: python3 >= 3.6

# æ¨èä¾èµ–ï¼ˆå¯é€‰ï¼‰

Recommends: curl
Suggests: vim
```

### 2.4 Debianæ§åˆ¶æ–‡ä»¶ä¸­çš„ä¾èµ–å£°æ˜



**ğŸ“ debian/controlæ–‡ä»¶ç¤ºä¾‹**
```bash
Source: myapp
Build-Depends: 
  debhelper (>= 11),
  cmake (>= 3.5),
  libssl-dev,
  python3-dev,
  pkg-config

Package: myapp
Depends: 
  ${shlibs:Depends},        # è‡ªåŠ¨æ£€æµ‹çš„åº“ä¾èµ–
  ${misc:Depends},          # æ‚é¡¹ä¾èµ–
  python3 (>= 3.6),
  openssl (>= 1.1.0)
Recommends: curl
Suggests: vim-tiny
```

---

## 3. ğŸ“– ç‰ˆæœ¬ä¾èµ–å…³ç³»è¡¨è¾¾è¯­æ³•



### 3.1 åŸºæœ¬ç‰ˆæœ¬æ¯”è¾ƒç¬¦å·



**ğŸ”¸ é€šç”¨ç‰ˆæœ¬æ¯”è¾ƒè¯­æ³•**
```bash
ç¬¦å·å«ä¹‰å¯¹ç…§è¡¨ï¼š
=     ç­‰äºï¼ˆå®Œå…¨åŒ¹é…ï¼‰
>     å¤§äº  
>=    å¤§äºç­‰äº
<     å°äº
<=    å°äºç­‰äº  
~     å…¼å®¹ç‰ˆæœ¬ï¼ˆæ³¢æµªå·è§„åˆ™ï¼‰
^     å‘å‰å…¼å®¹ç‰ˆæœ¬ï¼ˆè„±å­—ç¬¦è§„åˆ™ï¼‰
```

### 3.2 RPMç‰ˆæœ¬ä¾èµ–è¯­æ³•



**ğŸ“‹ RPMè¯¦ç»†è¯­æ³•è§„åˆ™**
```bash
# åŸºæœ¬ç‰ˆæœ¬ä¾èµ–

Requires: package-name = 1.2.3           # ç²¾ç¡®ç‰ˆæœ¬
Requires: package-name >= 1.2.0          # æœ€ä½ç‰ˆæœ¬
Requires: package-name < 2.0.0           # æœ€é«˜ç‰ˆæœ¬ï¼ˆä¸åŒ…å«ï¼‰

# ç‰ˆæœ¬èŒƒå›´

Requires: package-name >= 1.2.0, package-name < 2.0.0

# Epochç‰ˆæœ¬å¤„ç†

Requires: package-name = 2:1.2.3-1       # Epoch:Version-Release

# å®é™…ä¾‹å­

Requires: glibc >= 2.17
Requires: openssl-libs >= 1.1.0, openssl-libs < 1.2.0
Requires: python3 >= 3.6, python3 < 4.0
```

**ğŸ’¡ ç‰ˆæœ¬æ¯”è¾ƒå®ä¾‹**
```bash
# å‡è®¾ç³»ç»Ÿæœ‰ openssl-1.1.5

Requires: openssl >= 1.1.0     âœ… æ»¡è¶³ï¼ˆ1.1.5 >= 1.1.0ï¼‰
Requires: openssl >= 1.2.0     âŒ ä¸æ»¡è¶³ï¼ˆ1.1.5 < 1.2.0ï¼‰  
Requires: openssl < 1.2.0      âœ… æ»¡è¶³ï¼ˆ1.1.5 < 1.2.0ï¼‰
Requires: openssl = 1.1.5      âœ… æ»¡è¶³ï¼ˆå®Œå…¨åŒ¹é…ï¼‰
```

### 3.3 Debianç‰ˆæœ¬ä¾èµ–è¯­æ³•



**ğŸ“‹ Debian APTè¯­æ³•è§„åˆ™**
```bash
# åŸºæœ¬ç‰ˆæœ¬ä¾èµ–

Depends: package-name (= 1.2.3)          # ç²¾ç¡®ç‰ˆæœ¬
Depends: package-name (>= 1.2.0)         # æœ€ä½ç‰ˆæœ¬
Depends: package-name (<< 2.0.0)         # æœ€é«˜ç‰ˆæœ¬ï¼ˆä¸¥æ ¼å°äºï¼‰

# æ³¨æ„ï¼šDebianç”¨<<è¡¨ç¤ºä¸¥æ ¼å°äºï¼ŒRPMç”¨<


# å¤åˆæ¡ä»¶

Depends: package-name (>= 1.2.0), package-name (<< 2.0.0)

# å®é™…ä¾‹å­  

Depends: libc6 (>= 2.28)
Depends: libssl1.1 (>= 1.1.1), libssl1.1 (<< 1.2)
Depends: python3 (>= 3.7~)               # ~è¡¨ç¤ºåŒ…å«é¢„å‘å¸ƒç‰ˆæœ¬
```

### 3.4 ç‰¹æ®Šç‰ˆæœ¬è¯­æ³•è§£é‡Š



**ğŸ¯ æ³¢æµªå·è§„åˆ™ï¼ˆ~ï¼‰**
```bash
# ~1.2.3 ç­‰ä»·äº >= 1.2.3, < 1.3.0

Requires: package-name ~ 1.2.3

å«ä¹‰ï¼š
- å…è®¸è¡¥ä¸ç‰ˆæœ¬å˜åŒ–ï¼ˆ1.2.3, 1.2.4, 1.2.5...ï¼‰
- ä¸å…è®¸æ¬¡ç‰ˆæœ¬å˜åŒ–ï¼ˆä¸èƒ½æ˜¯1.3.0ï¼‰

å®é™…åº”ç”¨ï¼š
python3 (>= 3.7~)    # åŒ…æ‹¬3.7çš„é¢„å‘å¸ƒç‰ˆæœ¬
```

**ğŸ¯ è„±å­—ç¬¦è§„åˆ™ï¼ˆ^ï¼‰**
```bash
# ^1.2.3 ç­‰ä»·äº >= 1.2.3, < 2.0.0  

å«ä¹‰ï¼š
- å…è®¸æ¬¡ç‰ˆæœ¬å’Œè¡¥ä¸ç‰ˆæœ¬å˜åŒ–
- ä¸å…è®¸ä¸»ç‰ˆæœ¬å˜åŒ–

# ä¸»è¦åœ¨npmã€composerç­‰ç°ä»£åŒ…ç®¡ç†å™¨ä¸­ä½¿ç”¨

# RPM/DEBä¸­ä¸å¸¸ç”¨

```

---

## 4. âš¡ å†²çªåŒ…ä¸æ›¿æ¢åŒ…å£°æ˜



### 4.1 å†²çªåŒ…ï¼ˆConflictsï¼‰è¯¦è§£



**ğŸ”¸ ä»€ä¹ˆæ˜¯åŒ…å†²çª**
```
ç®€å•ç†è§£ï¼šä¸¤ä¸ªè½¯ä»¶ä¸èƒ½åŒæ—¶å­˜åœ¨

ç°å®ä¾‹å­ï¼š
- ä½ ä¸èƒ½åŒæ—¶å®‰è£…ä¸¤ä¸ªä¸åŒçš„WebæœåŠ¡å™¨åœ¨åŒä¸€ç«¯å£
- å°±åƒä¸€ä¸ªåœè½¦ä½ä¸èƒ½åœä¸¤è¾†è½¦

å¸¸è§å†²çªæƒ…å†µï¼š
1. æä¾›ç›¸åŒåŠŸèƒ½çš„ä¸åŒå®ç°
2. ä½¿ç”¨ç›¸åŒçš„æ–‡ä»¶è·¯å¾„
3. ç›‘å¬ç›¸åŒçš„ç½‘ç»œç«¯å£
4. ä¿®æ”¹ç›¸åŒçš„ç³»ç»Ÿé…ç½®
```

**ğŸ“‹ å†²çªå£°æ˜è¯­æ³•**
```bash
# RPM specæ–‡ä»¶

Conflicts: httpd                    # ä¸Apacheå†²çª
Conflicts: nginx < 1.10.0          # ä¸æ—§ç‰ˆæœ¬nginxå†²çª
Conflicts: sendmail, postfix       # ä¸å¤šä¸ªé‚®ä»¶æœåŠ¡å™¨å†²çª

# Debian controlæ–‡ä»¶

Conflicts: apache2
Conflicts: nginx (<< 1.10.0)
Conflicts: sendmail, postfix
```

**ğŸ’¡ å®é™…å†²çªç¤ºä¾‹**
```bash
# WebæœåŠ¡å™¨å†²çªç¤ºä¾‹

Package: nginx
Conflicts: apache2, lighttpd        # ä¸èƒ½åŒæ—¶å®‰è£…å¤šä¸ªWebæœåŠ¡å™¨

Package: mysql-server
Conflicts: mariadb-server           # MySQLå’ŒMariaDBä¸èƒ½å…±å­˜

Package: vim
Conflicts: vim-tiny                 # å®Œæ•´ç‰ˆvimä¸ç²¾ç®€ç‰ˆå†²çª
```

### 4.2 æ›¿æ¢åŒ…ï¼ˆReplaces/Obsoletesï¼‰è¯¦è§£



**ğŸ”¸ ä»€ä¹ˆæ˜¯åŒ…æ›¿æ¢**
```
ç®€å•ç†è§£ï¼šæ–°è½¯ä»¶æ›¿ä»£æ—§è½¯ä»¶

ç°å®ä¾‹å­ï¼š
- æ™ºèƒ½æ‰‹æœºæ›¿ä»£äº†ä¼ ç»Ÿæ‰‹æœº
- æ–°ç‰ˆæœ¬è½¯ä»¶æ›¿ä»£æ—§ç‰ˆæœ¬
- æ”¹ååçš„è½¯ä»¶åŒ…æ›¿ä»£åŸæ¥çš„åŒ…

æ›¿æ¢çš„ç›®çš„ï¼š
1. è½¯ä»¶å‡çº§æ¢ä»£
2. åŒ…åæ”¹å˜
3. é¡¹ç›®é‡æ„åˆå¹¶
```

**ğŸ“‹ æ›¿æ¢å£°æ˜è¯­æ³•**
```bash
# RPM specæ–‡ä»¶ï¼ˆä½¿ç”¨Obsoletesï¼‰

Obsoletes: old-package-name < 2.0.0
Obsoletes: deprecated-tool
Obsoletes: legacy-app <= 1.5

# Debian controlæ–‡ä»¶ï¼ˆä½¿ç”¨Replacesï¼‰  

Replaces: old-package-name (<< 2.0.0)
Replaces: deprecated-tool
Replaces: legacy-app (<= 1.5)
```

**ğŸ’¡ å®é™…æ›¿æ¢ç¤ºä¾‹**
```bash
# MySQLè¢«MariaDBæ›¿æ¢

Package: mariadb-server
Replaces: mysql-server (<< 5.7)
Conflicts: mysql-server
Provides: mysql-server

# æ–°åŒ…åæ›¿æ¢æ—§åŒ…å

Package: python3-requests  
Replaces: python-requests (<< 3.0)
Conflicts: python-requests

# åˆå¹¶åŒ…çš„æƒ…å†µ

Package: systemd
Replaces: upstart, sysvinit
Conflicts: upstart, sysvinit  
```

### 4.3 æä¾›ï¼ˆProvidesï¼‰è™šæ‹ŸåŒ…



**ğŸ”¸ ä»€ä¹ˆæ˜¯è™šæ‹ŸåŒ…æä¾›**
```
ç®€å•ç†è§£ï¼šæˆ‘èƒ½æä¾›æŸç§æœåŠ¡

ç°å®ä¾‹å­ï¼š
- ä¸åŒå“ç‰Œçš„æ‰“å°æœºéƒ½èƒ½"æä¾›æ‰“å°æœåŠ¡"
- ä¸åŒçš„æ•°æ®åº“éƒ½èƒ½"æä¾›æ•°æ®åº“æœåŠ¡"

è™šæ‹ŸåŒ…çš„ä½œç”¨ï¼š
è®©ä¸åŒå®ç°çš„è½¯ä»¶åŒ…éƒ½èƒ½æ»¡è¶³ç›¸åŒçš„ä¾èµ–éœ€æ±‚
```

**ğŸ“‹ æä¾›å£°æ˜è¯­æ³•**
```bash
# RPM specæ–‡ä»¶

Provides: webserver                 # æä¾›WebæœåŠ¡å™¨åŠŸèƒ½
Provides: database-server           # æä¾›æ•°æ®åº“æœåŠ¡å™¨åŠŸèƒ½
Provides: python-interpreter        # æä¾›Pythonè§£é‡Šå™¨

# Debian controlæ–‡ä»¶

Provides: httpd                     # æä¾›HTTPæœåŠ¡å™¨
Provides: database                  # æä¾›æ•°æ®åº“åŠŸèƒ½
Provides: mail-transport-agent      # æä¾›é‚®ä»¶ä¼ è¾“ä»£ç†
```

---

## 5. ğŸ­ è™šæ‹ŸåŒ…ä¾èµ–å¤„ç†



### 5.1 è™šæ‹ŸåŒ…æ¦‚å¿µè¯¦è§£



**ğŸ”¸ ä»€ä¹ˆæ˜¯è™šæ‹ŸåŒ…**
```
è™šæ‹ŸåŒ…ä¸æ˜¯çœŸå®å­˜åœ¨çš„è½¯ä»¶åŒ…
å®ƒæ˜¯ä¸€ä¸ª"æœåŠ¡æ ‡ç­¾"æˆ–"åŠŸèƒ½æ ‡è¯†"

ç”Ÿæ´»ç±»æ¯”ï¼š
- ä½ éœ€è¦"äº¤é€šå·¥å…·"å»ä¸Šç­
- å¯ä»¥æ˜¯ï¼šå…¬äº¤è½¦ã€åœ°é“ã€å‡ºç§Ÿè½¦ã€è‡ªè¡Œè½¦
- "äº¤é€šå·¥å…·"å°±æ˜¯è™šæ‹Ÿçš„æ¦‚å¿µ
- å…·ä½“é€‰å“ªç§æ˜¯å®ç°ç»†èŠ‚

è½¯ä»¶ä¾‹å­ï¼š
- éœ€è¦ï¼šWebæœåŠ¡å™¨
- å¯ä»¥æ˜¯ï¼šApacheã€Nginxã€Lighttpd
- "WebæœåŠ¡å™¨"å°±æ˜¯è™šæ‹ŸåŒ…
```

**ğŸ“‹ è™šæ‹ŸåŒ…çš„ä¼˜åŠ¿**
```
â”Œâ”€ è™šæ‹ŸåŒ…çš„å¥½å¤„ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. çµæ´»é€‰æ‹©å®ç°           â”‚
â”‚    â””â”€ ç”¨æˆ·å¯é€‰Apacheæˆ–Nginx â”‚
â”‚                          â”‚
â”‚ 2. ç®€åŒ–ä¾èµ–å£°æ˜           â”‚
â”‚    â””â”€ åªéœ€ä¾èµ–"webserver"  â”‚
â”‚                          â”‚ 
â”‚ 3. æ–¹ä¾¿æ›¿æ¢å‡çº§           â”‚
â”‚    â””â”€ æ¢å®ç°ä¸å½±å“ä¾èµ–     â”‚
â”‚                          â”‚
â”‚ 4. é¿å…ç¡¬ç¼–ç åŒ…å         â”‚
â”‚    â””â”€ æé«˜åŒ…çš„å¯ç§»æ¤æ€§     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.2 å¸¸è§è™šæ‹ŸåŒ…ç¤ºä¾‹



**ğŸ¯ ç³»ç»ŸæœåŠ¡ç±»è™šæ‹ŸåŒ…**
```bash
# WebæœåŠ¡å™¨è™šæ‹ŸåŒ…

Virtual Package: httpd
Provided by:
  - apache2 (Provides: httpd)
  - nginx (Provides: httpd)  
  - lighttpd (Provides: httpd)

# æ•°æ®åº“æœåŠ¡å™¨è™šæ‹ŸåŒ…

Virtual Package: database-server
Provided by:
  - mysql-server (Provides: database-server)
  - mariadb-server (Provides: database-server)
  - postgresql-server (Provides: database-server)
```

**ğŸ¯ å¼€å‘å·¥å…·ç±»è™šæ‹ŸåŒ…**
```bash
# Cç¼–è¯‘å™¨è™šæ‹ŸåŒ…

Virtual Package: c-compiler
Provided by:
  - gcc (Provides: c-compiler)
  - clang (Provides: c-compiler)
  - icc (Provides: c-compiler)

# æ–‡æœ¬ç¼–è¾‘å™¨è™šæ‹ŸåŒ…  

Virtual Package: editor
Provided by:
  - vim (Provides: editor)
  - emacs (Provides: editor)
  - nano (Provides: editor)
```

### 5.3 è™šæ‹ŸåŒ…ä¾èµ–çš„å£°æ˜ä¸ä½¿ç”¨



**ğŸ“ å¦‚ä½•å£°æ˜æä¾›è™šæ‹ŸåŒ…**
```bash
# Apacheæä¾›WebæœåŠ¡å™¨åŠŸèƒ½

Package: apache2
Provides: httpd, webserver
Conflicts: nginx, lighttpd

# Nginxä¹Ÿæä¾›WebæœåŠ¡å™¨åŠŸèƒ½

Package: nginx  
Provides: httpd, webserver
Conflicts: apache2, lighttpd

# åº”ç”¨ç¨‹åºä¾èµ–è™šæ‹ŸåŒ…

Package: webapp
Depends: httpd                      # ä¾èµ–ä»»æ„WebæœåŠ¡å™¨
# ç³»ç»Ÿä¼šè‡ªåŠ¨é€‰æ‹©å·²å®‰è£…çš„æˆ–è¯¢é—®ç”¨æˆ·é€‰æ‹©

```

**ğŸ’¡ è™šæ‹ŸåŒ…é€‰æ‹©æœºåˆ¶**
```bash
ç”¨æˆ·å®‰è£…webappæ—¶çš„é€‰æ‹©è¿‡ç¨‹ï¼š

1. ç³»ç»Ÿæ£€æŸ¥webappä¾èµ–httpdè™šæ‹ŸåŒ…
2. æŸ¥æ‰¾æä¾›httpdçš„åŒ…ï¼šapache2, nginx, lighttpd
3. å¦‚æœå·²å®‰è£…å…¶ä¸­ä¸€ä¸ª â†’ ç›´æ¥æ»¡è¶³ä¾èµ–
4. å¦‚æœéƒ½æ²¡å®‰è£… â†’ æç¤ºç”¨æˆ·é€‰æ‹©ï¼š

   Which package should provide httpd?
   1) apache2
   2) nginx  
   3) lighttpd
   Please select [1-3]:
```

### 5.4 è™šæ‹ŸåŒ…ä½¿ç”¨æœ€ä½³å®è·µ



**âœ… åˆç†ä½¿ç”¨è™šæ‹ŸåŒ…**
```bash
# å¥½çš„è™šæ‹ŸåŒ…ä½¿ç”¨

Depends: java-runtime               # ä»»æ„Javaè¿è¡Œæ—¶
Depends: database-server            # ä»»æ„æ•°æ®åº“æœåŠ¡å™¨
Depends: mta                       # ä»»æ„é‚®ä»¶ä¼ è¾“ä»£ç†

# é¿å…çš„ç”¨æ³•

Depends: some-very-specific-lib     # å¤ªå…·ä½“ï¼Œæ²¡å¿…è¦è™šæ‹ŸåŒ–
```

**ğŸ¯ è™šæ‹ŸåŒ…å‘½åè§„èŒƒ**
```bash
å¸¸ç”¨è™šæ‹ŸåŒ…åï¼š
- httpd / webserver                # WebæœåŠ¡å™¨
- mta / mail-transport-agent       # é‚®ä»¶ä¼ è¾“ä»£ç†
- java-runtime / java-compiler     # Javaç¯å¢ƒ
- database-server                  # æ•°æ®åº“æœåŠ¡å™¨
- editor                          # æ–‡æœ¬ç¼–è¾‘å™¨
- x-window-manager                # çª—å£ç®¡ç†å™¨
```

---

## 6. ğŸ”„ å¾ªç¯ä¾èµ–é—®é¢˜è§£å†³



### 6.1 ä»€ä¹ˆæ˜¯å¾ªç¯ä¾èµ–



**ğŸ”¸ å¾ªç¯ä¾èµ–çš„é€šä¿—è§£é‡Š**
```
å°±åƒ"å…ˆæœ‰é¸¡è¿˜æ˜¯å…ˆæœ‰è›‹"çš„é—®é¢˜

è½¯ä»¶ä¾‹å­ï¼š
- åŒ…Aéœ€è¦åŒ…Bæ‰èƒ½å·¥ä½œ
- åŒ…Béœ€è¦åŒ…Aæ‰èƒ½å·¥ä½œ  
- é‚£ä¹ˆåº”è¯¥å…ˆå®‰è£…å“ªä¸ªï¼Ÿ

ç°å®ä¾‹å­ï¼š
A: "æˆ‘éœ€è¦Bçš„èº«ä»½è¯æ‰èƒ½åŠæ‰‹ç»­"
B: "æˆ‘éœ€è¦Açš„èº«ä»½è¯æ‰èƒ½åŠæ‰‹ç»­"
ç»“æœï¼šè°éƒ½åŠä¸äº†æ‰‹ç»­
```

**ğŸ“‹ å¾ªç¯ä¾èµ–çš„ç±»å‹**
```
â”Œâ”€ å¾ªç¯ä¾èµ–ç±»å‹ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç›´æ¥å¾ªç¯ä¾èµ–ï¼š            â”‚
â”‚   A â†’ B â†’ A              â”‚
â”‚                          â”‚
â”‚ é—´æ¥å¾ªç¯ä¾èµ–ï¼š            â”‚
â”‚   A â†’ B â†’ C â†’ A          â”‚
â”‚                          â”‚
â”‚ å¤æ‚å¾ªç¯ä¾èµ–ï¼š            â”‚
â”‚   A â†’ B â†’ C â†’ D â†’ B      â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6.2 å¾ªç¯ä¾èµ–çš„å±å®³



**âš ï¸ å¾ªç¯ä¾èµ–å¯¼è‡´çš„é—®é¢˜**
```bash
å®‰è£…é—®é¢˜ï¼š
# å°è¯•å®‰è£…åŒ…A

$ yum install packageA
Error: Cannot install packageA - requires packageB

# å°è¯•å®‰è£…åŒ…B  

$ yum install packageB  
Error: Cannot install packageB - requires packageA

ç»“æœï¼šä»€ä¹ˆéƒ½è£…ä¸äº†ï¼

å‡çº§é—®é¢˜ï¼š
- æ— æ³•å•ç‹¬å‡çº§ä»»ä½•ä¸€ä¸ªåŒ…
- å¿…é¡»åŒæ—¶å‡çº§æ‰€æœ‰ç›¸å…³åŒ…
- é£é™©å¢å¤§ï¼Œå®¹æ˜“å‡ºé”™

å¸è½½é—®é¢˜ï¼š
- æ— æ³•å•ç‹¬å¸è½½ä»»ä½•ä¸€ä¸ªåŒ…
- è¦ä¹ˆå…¨åˆ ï¼Œè¦ä¹ˆå…¨ç•™
- ç³»ç»Ÿæ¸…ç†å›°éš¾
```

### 6.3 è¯†åˆ«å¾ªç¯ä¾èµ–



**ğŸ” æ‰‹åŠ¨æ£€æŸ¥æ–¹æ³•**
```bash
# ä½¿ç”¨rpmæ£€æŸ¥ä¾èµ–å…³ç³»

rpm -qR packageA                    # æŸ¥çœ‹Açš„ä¾èµ–
rpm -q --whatrequires packageB      # æŸ¥çœ‹è°ä¾èµ–B

# ä½¿ç”¨aptæ£€æŸ¥ä¾èµ–å…³ç³»  

apt-cache depends packageA          # æŸ¥çœ‹Açš„ä¾èµ–
apt-cache rdepends packageB         # æŸ¥çœ‹è°ä¾èµ–B

# æŸ¥çœ‹ä¾èµ–æ ‘

yum deplist packageA | grep -E "(provider|dependency)"
```

**ğŸ› ï¸ è‡ªåŠ¨åŒ–æ£€æŸ¥å·¥å…·**
```bash
# ä½¿ç”¨ä¸“é—¨çš„ä¾èµ–åˆ†æå·¥å…·

dnf repoquery --requires --resolve packageA
dnf repoquery --whatrequires packageA

# æ£€æŸ¥æ„å»ºæ—¶çš„å¾ªç¯ä¾èµ–

rpmbuild --nobuild --define "_topdir /tmp/rpmbuild" mypackage.spec
# ä¼šæŠ¥å‘Šå¾ªç¯ä¾èµ–é”™è¯¯

```

### 6.4 è§£å†³å¾ªç¯ä¾èµ–çš„æ–¹æ³•



**ğŸ¯ æ–¹æ³•1ï¼šæ‹†åˆ†è½¯ä»¶åŒ…**
```bash
# åŸæ¥çš„å¾ªç¯ä¾èµ–

Package: libfoo
Depends: libbar

Package: libbar  
Depends: libfoo

# è§£å†³æ–¹æ¡ˆï¼šæå–å…¬å…±éƒ¨åˆ†

Package: libfoo
Depends: libcommon

Package: libbar
Depends: libcommon

Package: libcommon     # æ–°çš„å…¬å…±åº“åŒ…
# æ— å¾ªç¯ä¾èµ–

```

**ğŸ¯ æ–¹æ³•2ï¼šä½¿ç”¨å¼±ä¾èµ–**
```bash
# å°†å…¶ä¸­ä¸€ä¸ªæ”¹ä¸ºæ¨èä¾èµ–è€Œä¸æ˜¯å¿…éœ€ä¾èµ–

Package: libfoo
Depends: libcore
Recommends: libbar     # ä»Dependsæ”¹ä¸ºRecommends

Package: libbar
Depends: libfoo
```

**ğŸ¯ æ–¹æ³•3ï¼šå»¶è¿Ÿç»‘å®š**
```bash
# è¿è¡Œæ—¶åŠ¨æ€åŠ è½½ï¼Œè€Œä¸æ˜¯æ„å»ºæ—¶ä¾èµ–

Package: pluginA
# ä¸ç›´æ¥ä¾èµ–pluginBï¼Œè€Œæ˜¯è¿è¡Œæ—¶æ£€æŸ¥å¹¶åŠ è½½


Package: pluginB
# åŒæ ·ä¸ç›´æ¥ä¾èµ–pluginA

```

**ğŸ¯ æ–¹æ³•4ï¼šè™šæ‹ŸåŒ…è§£è€¦**
```bash
# ä½¿ç”¨è™šæ‹ŸåŒ…æ‰“ç ´å¾ªç¯

Package: service-provider
Provides: common-service
Depends: service-consumer

Package: service-consumer  
Depends: common-service    # ä¾èµ–è™šæ‹ŸåŒ…è€Œä¸æ˜¯å…·ä½“åŒ…
```

### 6.5 é¢„é˜²å¾ªç¯ä¾èµ–



**âœ… è®¾è®¡åŸåˆ™**
```bash
1. åˆ†å±‚æ¶æ„åŸåˆ™ï¼š
   ä¸Šå±‚ä¾èµ–ä¸‹å±‚ï¼Œä¸‹å±‚ä¸ä¾èµ–ä¸Šå±‚
   
   åº”ç”¨å±‚ â†’ ä¸šåŠ¡å±‚ â†’ æ•°æ®å±‚
   âœ… å•å‘ä¾èµ–ï¼Œæ— å¾ªç¯

2. æ¥å£åˆ†ç¦»åŸåˆ™ï¼š
   é€šè¿‡æ¥å£/åè®®é€šä¿¡ï¼Œè€Œä¸æ˜¯ç›´æ¥ä¾èµ–

3. æ’ä»¶åŒ–è®¾è®¡ï¼š
   æ ¸å¿ƒç³»ç»Ÿ + å¯é€‰æ’ä»¶
   æ’ä»¶ä¾èµ–æ ¸å¿ƒï¼Œæ ¸å¿ƒä¸ä¾èµ–æ’ä»¶
```

---

## 7. ğŸ§ª ä¾èµ–å…³ç³»æµ‹è¯•ä¸éªŒè¯



### 7.1 ä¾èµ–å…³ç³»æµ‹è¯•çš„é‡è¦æ€§



**ğŸ”¸ ä¸ºä»€ä¹ˆè¦æµ‹è¯•ä¾èµ–å…³ç³»**
```
å°±åƒæ£€æŸ¥æˆ¿å­çš„åŸºç¡€æ˜¯å¦ç‰¢å›º

æ²¡æœ‰ä¾èµ–æµ‹è¯•çš„é£é™©ï¼š
1. ç”¨æˆ·å®‰è£…å¤±è´¥ - "æ‰¾ä¸åˆ°ä¾èµ–åŒ…"
2. è¿è¡Œæ—¶å´©æºƒ - "ç¼ºå°‘å…³é”®åº“æ–‡ä»¶"  
3. åŠŸèƒ½å¼‚å¸¸ - "æŸäº›ç‰¹æ€§æ— æ³•ä½¿ç”¨"
4. å‡çº§å¤±è´¥ - "ç‰ˆæœ¬å†²çªæ— æ³•è§£å†³"

æµ‹è¯•çš„ä»·å€¼ï¼š
- æå‰å‘ç°é—®é¢˜
- ç¡®ä¿ç”¨æˆ·ä½“éªŒ
- é¿å…ç”Ÿäº§ç¯å¢ƒæ•…éšœ
- ç®€åŒ–æŠ€æœ¯æ”¯æŒå·¥ä½œ
```

### 7.2 ä¾èµ–å…³ç³»æµ‹è¯•æ–¹æ³•



**ğŸ¯ é™æ€åˆ†ææµ‹è¯•**
```bash
# RPMåŒ…ä¾èµ–æ£€æŸ¥

rpm -qpR package.rpm                # æŸ¥çœ‹åŒ…çš„ä¾èµ–è¦æ±‚
rpm -qpP package.rpm                # æŸ¥çœ‹åŒ…æä¾›ä»€ä¹ˆ

# æ£€æŸ¥ä¾èµ–æ˜¯å¦å¯æ»¡è¶³

yum deplist package-name            # åˆ—å‡ºä¾èµ–æ ‘
dnf repoquery --requires package    # æŸ¥è¯¢ä¾èµ–å…³ç³»

# DebianåŒ…ä¾èµ–æ£€æŸ¥

dpkg-deb -f package.deb Depends     # æŸ¥çœ‹debåŒ…ä¾èµ–
apt-cache depends package-name      # æŸ¥çœ‹ä¾èµ–å…³ç³»
apt-cache policy package-name       # æŸ¥çœ‹ç‰ˆæœ¬ç­–ç•¥
```

**ğŸ¯ æ¨¡æ‹Ÿå®‰è£…æµ‹è¯•**
```bash
# å¹²è¿è¡Œæµ‹è¯•ï¼ˆä¸å®é™…å®‰è£…ï¼‰

yum install --assumeno package-name     # æ¨¡æ‹Ÿå®‰è£…è¿‡ç¨‹
dnf install --downloadonly package-name # åªä¸‹è½½ä¸å®‰è£…

# APTæ¨¡æ‹Ÿå®‰è£…

apt-get -s install package-name         # æ¨¡æ‹Ÿå®‰è£…
apt-get --dry-run install package-name  # å¹²è¿è¡Œæµ‹è¯•

# æ£€æŸ¥å¯èƒ½çš„é—®é¢˜

yum check                               # æ£€æŸ¥ç³»ç»Ÿä¾èµ–ä¸€è‡´æ€§
apt-get check                          # æ£€æŸ¥ä¾èµ–å®Œæ•´æ€§
```

### 7.3 å®¹å™¨åŒ–æµ‹è¯•ç¯å¢ƒ



**ğŸ³ ä½¿ç”¨Dockerè¿›è¡Œä¾èµ–æµ‹è¯•**
```bash
# åˆ›å»ºå¹²å‡€çš„æµ‹è¯•ç¯å¢ƒ

cat > Dockerfile << EOF
FROM centos:8
RUN yum update -y
# ä¸å®‰è£…ä»»ä½•é¢å¤–åŒ…ï¼Œä¿æŒæœ€å°ç¯å¢ƒ

EOF

docker build -t test-env .

# åœ¨å®¹å™¨ä¸­æµ‹è¯•å®‰è£…

docker run -it --rm test-env bash
# å°è¯•å®‰è£…ä½ çš„è½¯ä»¶åŒ…

yum install -y your-package.rpm

# æµ‹è¯•è½¯ä»¶åŠŸèƒ½

your-command --version
your-command --help
```

**ğŸ“‹ æµ‹è¯•è„šæœ¬ç¤ºä¾‹**
```bash
#!/bin/bash

# dependency-test.sh


PACKAGE_NAME="myapp"
PACKAGE_VERSION="1.0-1"

echo "=== ä¾èµ–å…³ç³»æµ‹è¯•å¼€å§‹ ==="

# 1. æ£€æŸ¥åŒ…çš„ä¾èµ–å£°æ˜

echo "æ£€æŸ¥åŒ…ä¾èµ–å£°æ˜..."
rpm -qpR ${PACKAGE_NAME}-${PACKAGE_VERSION}.rpm

# 2. æ£€æŸ¥ä¾èµ–å¯ç”¨æ€§

echo "æ£€æŸ¥ä¾èµ–å¯ç”¨æ€§..."
yum deplist $PACKAGE_NAME | grep -i "not found" && {
    echo "é”™è¯¯ï¼šå‘ç°ä¸å¯ç”¨çš„ä¾èµ–"
    exit 1
}

# 3. æ¨¡æ‹Ÿå®‰è£…æµ‹è¯•

echo "æ¨¡æ‹Ÿå®‰è£…æµ‹è¯•..."
yum install --assumeno $PACKAGE_NAME || {
    echo "é”™è¯¯ï¼šæ¨¡æ‹Ÿå®‰è£…å¤±è´¥"
    exit 1  
}

# 4. å®é™…å®‰è£…æµ‹è¯•ï¼ˆåœ¨å¹²å‡€ç¯å¢ƒï¼‰

echo "å®é™…å®‰è£…æµ‹è¯•..."
yum install -y $PACKAGE_NAME

# 5. åŠŸèƒ½æµ‹è¯•

echo "åŠŸèƒ½æµ‹è¯•..."
$PACKAGE_NAME --version || {
    echo "é”™è¯¯ï¼šè½¯ä»¶æ— æ³•æ­£å¸¸è¿è¡Œ"
    exit 1
}

echo "=== ä¾èµ–å…³ç³»æµ‹è¯•é€šè¿‡ ==="
```

### 7.4 è‡ªåŠ¨åŒ–ä¾èµ–æµ‹è¯•



**ğŸ¤– æŒç»­é›†æˆæµ‹è¯•**
```yaml
# .gitlab-ci.yml ç¤ºä¾‹

dependency_test:
  stage: test
  image: centos:8
  script:
    - yum update -y
    - yum install -y rpm-build
#    # æ„å»ºåŒ…
    - rpmbuild -bb myapp.spec
#    # æµ‹è¯•ä¾èµ–
    - ./scripts/dependency-test.sh
#    # æ¸…ç†ç¯å¢ƒæµ‹è¯•
    - yum remove -y myapp
    - yum autoremove -y
#    # é‡æ–°å®‰è£…æµ‹è¯•
    - yum install -y dist/myapp-*.rpm
  artifacts:
    reports:
      junit: test-results.xml
```

**ğŸ“Š æµ‹è¯•æŠ¥å‘Šç”Ÿæˆ**
```bash
#!/bin/bash

# ç”Ÿæˆä¾èµ–æµ‹è¯•æŠ¥å‘Š


cat > dependency-report.html << EOF
<html>
<head><title>ä¾èµ–å…³ç³»æµ‹è¯•æŠ¥å‘Š</title></head>
<body>
<h1>è½¯ä»¶åŒ…ä¾èµ–å…³ç³»æµ‹è¯•æŠ¥å‘Š</h1>

<h2>åŸºæœ¬ä¿¡æ¯</h2>
<p>åŒ…åï¼š$(rpm -qp --queryformat '%{NAME}' *.rpm)</p>
<p>ç‰ˆæœ¬ï¼š$(rpm -qp --queryformat '%{VERSION}' *.rpm)</p>
<p>æµ‹è¯•æ—¶é—´ï¼š$(date)</p>

<h2>ä¾èµ–åˆ—è¡¨</h2>
<pre>$(rpm -qpR *.rpm)</pre>

<h2>æä¾›åˆ—è¡¨</h2>
<pre>$(rpm -qpP *.rpm)</pre>

<h2>å†²çªåˆ—è¡¨</h2>
<pre>$(rpm -qp --conflicts *.rpm)</pre>

</body>
</html>
EOF

echo "æµ‹è¯•æŠ¥å‘Šå·²ç”Ÿæˆï¼šdependency-report.html"
```

---

## 8. ğŸŒ³ ä¾èµ–æ ‘åˆ†æå·¥å…·ä½¿ç”¨



### 8.1 ä¾èµ–æ ‘æ¦‚å¿µ



**ğŸ”¸ ä»€ä¹ˆæ˜¯ä¾èµ–æ ‘**
```
ä¾èµ–æ ‘å°±åƒå®¶æ—æ—è°±ä¸€æ ·ï¼Œæ˜¾ç¤ºè½¯ä»¶åŒ…ä¹‹é—´çš„å…³ç³»

å®¶æ—å…³ç³»ï¼š
çˆ·çˆ·
â”œâ”€â”€ çˆ¸çˆ¸
â”‚   â”œâ”€â”€ æˆ‘
â”‚   â””â”€â”€ å¼Ÿå¼Ÿ  
â””â”€â”€ å”å”
    â””â”€â”€ å ‚å¼Ÿ

è½¯ä»¶ä¾èµ–ï¼š
myapp
â”œâ”€â”€ glibc
â”‚   â”œâ”€â”€ linux-kernel  
â”‚   â””â”€â”€ gcc-libs
â””â”€â”€ openssl
    â”œâ”€â”€ zlib
    â””â”€â”€ crypto-libs
```

**ğŸ“‹ ä¾èµ–æ ‘çš„ä»·å€¼**
```
1. å¯è§†åŒ–ä¾èµ–å…³ç³» - ä¸€ç›®äº†ç„¶çœ‹åˆ°æ‰€æœ‰ä¾èµ–
2. å‘ç°éšè—ä¾èµ– - æ‰¾å‡ºé—´æ¥ä¾èµ–çš„åŒ…  
3. åˆ†æå½±å“èŒƒå›´ - å‡çº§ä¸€ä¸ªåŒ…ä¼šå½±å“ä»€ä¹ˆ
4. ä¼˜åŒ–æ‰“åŒ…ç­–ç•¥ - åˆç†ç»„ç»‡åŒ…çš„ä¾èµ–å…³ç³»
5. æ’æŸ¥å®‰è£…é—®é¢˜ - å®šä½ä¾èµ–ç¼ºå¤±çš„æ ¹æº
```

### 8.2 RPMç³»ç»Ÿä¾èµ–æ ‘å·¥å…·



**ğŸ› ï¸ yum/dnfä¾èµ–åˆ†æ**
```bash
# æŸ¥çœ‹åŒ…çš„ç›´æ¥ä¾èµ–

yum deplist package-name
dnf repoquery --requires package-name

# æŸ¥çœ‹å®Œæ•´ä¾èµ–æ ‘

yum deplist package-name --resolve
dnf repoquery --requires --resolve package-name

# åå‘ä¾èµ–ï¼ˆè°ä¾èµ–è¿™ä¸ªåŒ…ï¼‰

yum whatrequires package-name  
dnf repoquery --whatrequires package-name

# å®é™…ä¾‹å­

$ dnf repoquery --requires --resolve nginx
nginx-1.20.1-1.el8.x86_64
â”œâ”€â”€ glibc >= 2.17
â”œâ”€â”€ libcrypt.so.1()(64bit)
â”œâ”€â”€ libcrypto.so.1.1()(64bit)  
â”œâ”€â”€ libdl.so.2()(64bit)
â””â”€â”€ libssl.so.1.1()(64bit)
```

**ğŸ› ï¸ rpmå‘½ä»¤åˆ†æ**
```bash
# æŸ¥çœ‹å·²å®‰è£…åŒ…çš„ä¾èµ–

rpm -qR package-name                # æŸ¥çœ‹ä¾èµ–è¦æ±‚
rpm -q --whatrequires package-name  # æŸ¥çœ‹è°éœ€è¦è¿™ä¸ªåŒ…

# æŸ¥çœ‹åŒ…æ–‡ä»¶çš„ä¾èµ–

rpm -qpR package.rpm                # æŸ¥çœ‹RPMæ–‡ä»¶çš„ä¾èµ–
rpm -qpP package.rpm                # æŸ¥çœ‹RPMæ–‡ä»¶æä¾›ä»€ä¹ˆ

# å®é™…ä¾‹å­

$ rpm -qR nginx
/bin/sh
/usr/sbin/useradd
glibc >= 2.17
libcrypt.so.1()(64bit)
```

### 8.3 Debianç³»ç»Ÿä¾èµ–æ ‘å·¥å…·



**ğŸ› ï¸ aptä¾èµ–åˆ†æ**
```bash
# æŸ¥çœ‹åŒ…çš„ä¾èµ–

apt-cache depends package-name      # æ˜¾ç¤ºä¾èµ–å…³ç³»
apt-cache rdepends package-name     # æ˜¾ç¤ºåå‘ä¾èµ–

# æ›´è¯¦ç»†çš„ä¾èµ–ä¿¡æ¯

apt-cache show package-name         # æ˜¾ç¤ºåŒ…çš„è¯¦ç»†ä¿¡æ¯
apt-cache policy package-name       # æ˜¾ç¤ºç‰ˆæœ¬ç­–ç•¥

# å®é™…ä¾‹å­

$ apt-cache depends nginx
nginx
  Depends: nginx-core
    nginx-core:i386
  Depends: nginx-common
  Suggests: fcgiwrap
  Suggests: nginx-doc
```

**ğŸ› ï¸ dpkgä¾èµ–åˆ†æ**
```bash
# æŸ¥çœ‹å·²å®‰è£…åŒ…çš„ä¾èµ–

dpkg -s package-name | grep Depends
dpkg-query -W -f='${Depends}\n' package-name

# æŸ¥çœ‹debæ–‡ä»¶çš„ä¾èµ–

dpkg-deb -f package.deb Depends
dpkg-deb -I package.deb | grep Depends
```

### 8.4 ç¬¬ä¸‰æ–¹ä¾èµ–åˆ†æå·¥å…·



**ğŸ¯ å›¾å½¢åŒ–å·¥å…·**
```bash
# å®‰è£…å›¾å½¢åŒ–ä¾èµ–åˆ†æå·¥å…·

# CentOS/RHEL

yum install -y graphviz
pip3 install rpm-py-installer

# Debian/Ubuntu  

apt install -y apt-rdepends graphviz
apt install -y debtree

# ç”Ÿæˆä¾èµ–å›¾

debtree --with-suggests nginx | dot -T png > nginx-deps.png
```

**ğŸ¯ å‘½ä»¤è¡Œåˆ†æå·¥å…·**
```bash
# apt-rdepends - é€’å½’ä¾èµ–åˆ†æ

apt-rdepends nginx
# è¾“å‡ºå®Œæ•´çš„é€’å½’ä¾èµ–åˆ—è¡¨


# aptitude - å¼ºå¤§çš„åŒ…ç®¡ç†å‰ç«¯

aptitude search '~Dnginx'          # æœç´¢ä¾èµ–nginxçš„åŒ…
aptitude why package-name           # è§£é‡Šä¸ºä»€ä¹ˆéœ€è¦æŸä¸ªåŒ…
aptitude why-not package-name       # è§£é‡Šä¸ºä»€ä¹ˆä¸èƒ½å®‰è£…æŸä¸ªåŒ…
```

### 8.5 ä¾èµ–æ ‘å¯è§†åŒ–



**ğŸ“Š ç”Ÿæˆä¾èµ–å…³ç³»å›¾**
```bash
#!/bin/bash

# generate-deps-graph.sh


PACKAGE_NAME=$1
OUTPUT_FILE="${PACKAGE_NAME}-deps"

echo "ç”Ÿæˆ ${PACKAGE_NAME} çš„ä¾èµ–å…³ç³»å›¾..."

# ç”Ÿæˆdotæ ¼å¼çš„ä¾èµ–å›¾

cat > ${OUTPUT_FILE}.dot << EOF
digraph dependencies {
  rankdir=TB;
  node [shape=box];
EOF

# é€’å½’è·å–ä¾èµ–å¹¶æ·»åŠ åˆ°å›¾ä¸­

function add_deps() {
    local pkg=$1
    local deps=$(dnf repoquery --requires $pkg | grep -v "rpmlib" | head -10)
    
    for dep in $deps; do
        echo "  \"$pkg\" -> \"$dep\";" >> ${OUTPUT_FILE}.dot
#        # é€’å½’æ·»åŠ ï¼ˆé™åˆ¶æ·±åº¦é˜²æ­¢æ— é™é€’å½’ï¼‰
        if [ $2 -lt 3 ]; then
            add_deps "$dep" $(($2 + 1))
        fi
    done
}

add_deps $PACKAGE_NAME 0

echo "}" >> ${OUTPUT_FILE}.dot

# ç”Ÿæˆå›¾ç‰‡

dot -T png ${OUTPUT_FILE}.dot -o ${OUTPUT_FILE}.png
dot -T svg ${OUTPUT_FILE}.dot -o ${OUTPUT_FILE}.svg

echo "ä¾èµ–å›¾å·²ç”Ÿæˆ: ${OUTPUT_FILE}.png"
```

---

## 9. ğŸ† ä¾èµ–å…³ç³»æœ€ä½³å®è·µ



### 9.1 ä¾èµ–å£°æ˜æœ€ä½³å®è·µ



**âœ… ç²¾ç¡®æ€§åŸåˆ™**
```bash
# å¥½çš„ä¾èµ–å£°æ˜ - ç²¾ç¡®ä½†ä¸è¿‡åº¦

Requires: glibc >= 2.17             # æŒ‡å®šæœ€ä½å¯ç”¨ç‰ˆæœ¬
Requires: openssl >= 1.1.0, openssl < 2.0.0  # æŒ‡å®šå…¼å®¹èŒƒå›´

# é¿å…çš„å£°æ˜

Requires: glibc                     # å¤ªæ¨¡ç³Šï¼Œå¯èƒ½å…¼å®¹æ€§é—®é¢˜
Requires: openssl = 1.1.5-exact    # è¿‡åº¦ç²¾ç¡®ï¼Œé™åˆ¶å¤ªä¸¥æ ¼
```

**âœ… å¿…è¦æ€§åŸåˆ™**
```bash
# åªå£°æ˜çœŸæ­£éœ€è¦çš„ä¾èµ–

Requires: python3 >= 3.6           # ç¨‹åºç¡®å®éœ€è¦Python3.6+
Requires: requests >= 2.0          # ç¡®å®ä½¿ç”¨äº†requestsåº“çš„2.0+ç‰¹æ€§

# é¿å…å£°æ˜éå¿…éœ€ä¾èµ–

# Requires: vim                    # å¦‚æœç¨‹åºä¸éœ€è¦vimå°±åˆ«å†™

# Requires: git                    # é™¤éç¨‹åºè°ƒç”¨gitå‘½ä»¤

```

### 9.2 ä¾èµ–ç‰ˆæœ¬ç®¡ç†ç­–ç•¥



**ğŸ¯ è¯­ä¹‰åŒ–ç‰ˆæœ¬æ§åˆ¶**
```bash
ç‰ˆæœ¬å·æ ¼å¼ï¼šä¸»ç‰ˆæœ¬.æ¬¡ç‰ˆæœ¬.ä¿®è®¢ç‰ˆæœ¬

ä¾èµ–ç­–ç•¥ï¼š
ä¸»ç‰ˆæœ¬å˜åŒ–ï¼šå¯èƒ½ä¸å…¼å®¹
Requires: mylib >= 1.0.0, mylib < 2.0.0

æ¬¡ç‰ˆæœ¬å˜åŒ–ï¼šå‘åå…¼å®¹ï¼Œæœ‰æ–°ç‰¹æ€§  
Requires: mylib >= 1.2.0, mylib < 1.3.0

ä¿®è®¢ç‰ˆæœ¬ï¼šåªä¿®å¤bugï¼Œå®Œå…¨å…¼å®¹
Requires: mylib >= 1.2.3         # é€šå¸¸ä¸é™åˆ¶ä¸Šé™
```

**ğŸ“‹ ç‰ˆæœ¬å…¼å®¹æ€§æµ‹è¯•çŸ©é˜µ**
```bash
# å»ºç«‹æµ‹è¯•çŸ©é˜µç¡®ä¿å…¼å®¹æ€§

æµ‹è¯•ç»„åˆï¼š
- æœ€ä½ç‰ˆæœ¬ï¼šglibc-2.17 + openssl-1.1.0
- å¸¸ç”¨ç‰ˆæœ¬ï¼šglibc-2.28 + openssl-1.1.1  
- æœ€æ–°ç‰ˆæœ¬ï¼šglibc-2.32 + openssl-1.1.1g

æ¯ä¸ªç»„åˆéƒ½è¦æµ‹è¯•ï¼š
âœ… å®‰è£…æˆåŠŸ
âœ… åŠŸèƒ½æ­£å¸¸  
âœ… æ€§èƒ½è¾¾æ ‡
```

### 9.3 è¿è¡Œç¯å¢ƒé€‚é…ç­–ç•¥



**ğŸŒ å¤šå‘è¡Œç‰ˆå…¼å®¹æ€§**
```bash
# ä½¿ç”¨æ¡ä»¶ä¾èµ–é€‚é…ä¸åŒå‘è¡Œç‰ˆ

%if 0%{?rhel} >= 8
Requires: python38
%else
Requires: python3 >= 3.6
%endif

%if 0%{?suse_version}
Requires: libopenssl1_1
%else  
Requires: openssl-libs >= 1.1.0
%endif
```

**ğŸ¯ ä¼˜é›…é™çº§ç­–ç•¥**
```bash
# æ ¸å¿ƒåŠŸèƒ½ vs å¯é€‰åŠŸèƒ½åˆ†ç¦»

Package: myapp
Requires: essential-lib >= 1.0     # æ ¸å¿ƒåŠŸèƒ½å¿…éœ€
Recommends: optional-plugin        # å¯é€‰å¢å¼ºåŠŸèƒ½
Suggests: development-tools         # å¼€å‘æ—¶æœ‰ç”¨

# è¿è¡Œæ—¶æ£€æµ‹å¯é€‰ä¾èµ–

if command -v optional-tool >/dev/null 2>&1; then
    echo "æ£€æµ‹åˆ°å¯é€‰å·¥å…·ï¼Œå¯ç”¨å¢å¼ºåŠŸèƒ½"
    use_optional_feature=true
else
    echo "æœªæ£€æµ‹åˆ°å¯é€‰å·¥å…·ï¼Œä½¿ç”¨åŸºç¡€åŠŸèƒ½"  
    use_optional_feature=false
fi
```

### 9.4 ä¾èµ–ç®¡ç†å·¥å…·åŒ–



**ğŸ”§ è‡ªåŠ¨åŒ–ä¾èµ–æ£€æŸ¥è„šæœ¬**
```bash
#!/bin/bash

# check-deps.sh - è‡ªåŠ¨æ£€æŸ¥ä¾èµ–åˆç†æ€§


SPEC_FILE=$1

echo "=== ä¾èµ–å…³ç³»æ£€æŸ¥ ==="

# 1. æ£€æŸ¥æ˜¯å¦æœ‰æœªå£°æ˜çš„åº“ä¾èµ–

echo "æ£€æŸ¥æœªå£°æ˜çš„åº“ä¾èµ–..."
rpm -qpR *.rpm | grep -E "lib.*\.so" | while read lib; do
    if ! grep -q "$lib" $SPEC_FILE; then
        echo "è­¦å‘Š: å‘ç°æœªåœ¨specä¸­å£°æ˜çš„åº“ä¾èµ–: $lib"
    fi
done

# 2. æ£€æŸ¥æ˜¯å¦æœ‰è¿‡æ—¶çš„ä¾èµ–å£°æ˜  

echo "æ£€æŸ¥è¿‡æ—¶çš„ä¾èµ–..."
grep "Requires:" $SPEC_FILE | while read line; do
    pkg=$(echo $line | awk '{print $2}')
    if ! dnf list available $pkg >/dev/null 2>&1; then
        echo "é”™è¯¯: ä¾èµ–çš„åŒ…ä¸å­˜åœ¨: $pkg"
    fi
done

# 3. æ£€æŸ¥ç‰ˆæœ¬å·åˆç†æ€§

echo "æ£€æŸ¥ç‰ˆæœ¬å·..."
grep "Requires:.*>=" $SPEC_FILE | while read line; do
    version=$(echo $line | grep -o ">= [0-9.]*" | cut -d' ' -f2)
    if [[ $(echo $version | tr -cd '.' | wc -c) -gt 3 ]]; then
        echo "è­¦å‘Š: ç‰ˆæœ¬å·å¯èƒ½è¿‡äºå…·ä½“: $line"
    fi
done

echo "=== æ£€æŸ¥å®Œæˆ ==="
```

**ğŸ“Š ä¾èµ–å…³ç³»æ–‡æ¡£ç”Ÿæˆ**
```bash
#!/bin/bash

# generate-deps-doc.sh


PACKAGE_NAME=$1

cat > ${PACKAGE_NAME}-dependencies.md << EOF
# ${PACKAGE_NAME} ä¾èµ–å…³ç³»æ–‡æ¡£


# è¿è¡Œæ—¶ä¾èµ–


\`\`\`
$(rpm -qR $PACKAGE_NAME | grep -v "rpmlib")
\`\`\`

# æ„å»ºä¾èµ–  


\`\`\`
$(grep "BuildRequires:" *.spec | cut -d: -f2-)
\`\`\`

# æä¾›çš„åŠŸèƒ½


\`\`\`
$(rpm -qP $PACKAGE_NAME)
\`\`\`

# å†²çªçš„åŒ…


\`\`\`  
$(rpm -q --conflicts $PACKAGE_NAME)
\`\`\`

# ä¾èµ–å…³ç³»å›¾


![ä¾èµ–å›¾](${PACKAGE_NAME}-deps.png)

# æµ‹è¯•ç¯å¢ƒ


- æœ€å°æµ‹è¯•ç‰ˆæœ¬: åˆ—å‡ºç»è¿‡æµ‹è¯•çš„æœ€ä½ä¾èµ–ç‰ˆæœ¬
- æ¨èç‰ˆæœ¬: åˆ—å‡ºæ¨èçš„ä¾èµ–ç‰ˆæœ¬
- å·²çŸ¥é—®é¢˜: åˆ—å‡ºä¸ç‰¹å®šç‰ˆæœ¬çš„å…¼å®¹æ€§é—®é¢˜
EOF

echo "ä¾èµ–æ–‡æ¡£å·²ç”Ÿæˆ: ${PACKAGE_NAME}-dependencies.md"
```

---

## 10. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“



### 10.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ



```
ğŸ”¸ ä¾èµ–å…³ç³»æœ¬è´¨ï¼šè½¯ä»¶åŒ…ä¹‹é—´çš„åä½œå…³ç³»ï¼Œç¡®ä¿åŠŸèƒ½å®Œæ•´æ€§
ğŸ”¸ è¿è¡Œæ—¶vsæ„å»ºä¾èµ–ï¼šè¿è¡Œéœ€è¦vsç¼–è¯‘éœ€è¦ï¼Œç”Ÿå‘½å‘¨æœŸä¸åŒ
ğŸ”¸ ç‰ˆæœ¬ä¾èµ–è¯­æ³•ï¼š>=ã€<ã€=ç­‰æ“ä½œç¬¦çš„æ­£ç¡®ä½¿ç”¨
ğŸ”¸ å†²çªä¸æ›¿æ¢ï¼šConflictsé¿å…å†²çªï¼ŒObsoletes/Replaceså¤„ç†å‡çº§
ğŸ”¸ è™šæ‹ŸåŒ…æœºåˆ¶ï¼šæä¾›åŠŸèƒ½æŠ½è±¡ï¼Œæ”¯æŒå¤šç§å®ç°é€‰æ‹©
ğŸ”¸ å¾ªç¯ä¾èµ–é—®é¢˜ï¼šè¯†åˆ«ã€é¿å…å’Œè§£å†³åŒ…é—´å¾ªç¯å¼•ç”¨
ğŸ”¸ ä¾èµ–æµ‹è¯•éªŒè¯ï¼šç¡®ä¿ä¾èµ–å£°æ˜çš„æ­£ç¡®æ€§å’Œå¯ç”¨æ€§
```

### 10.2 å…³é”®ç†è§£è¦ç‚¹



**ğŸ”¹ ä¾èµ–å…³ç³»çš„è®¾è®¡å“²å­¦**
```
æœ€å°å¿…è¦åŸåˆ™ï¼š
- åªå£°æ˜çœŸæ­£éœ€è¦çš„ä¾èµ–
- é¿å…å¼•å…¥ä¸å¿…è¦çš„å¤æ‚æ€§
- åŒºåˆ†æ ¸å¿ƒåŠŸèƒ½å’Œå¯é€‰åŠŸèƒ½

ç‰ˆæœ¬å…¼å®¹å¹³è¡¡ï¼š
- ä¸èƒ½å¤ªå®½æ¾ï¼ˆå¯èƒ½ä¸å…¼å®¹ï¼‰
- ä¸èƒ½å¤ªä¸¥æ ¼ï¼ˆé™åˆ¶é€‰æ‹©ï¼‰
- åŸºäºå®é™…æµ‹è¯•ç¡®å®šèŒƒå›´

ç”¨æˆ·ä½“éªŒä¼˜å…ˆï¼š
- è‡ªåŠ¨è§£å†³ä¾èµ–é—®é¢˜
- æä¾›æ¸…æ™°çš„é”™è¯¯ä¿¡æ¯  
- æ”¯æŒä¼˜é›…é™çº§
```

**ğŸ”¹ ä¸åŒç³»ç»Ÿçš„å·®å¼‚åŒ–ç†è§£**
```
RPMç³»ç»Ÿç‰¹ç‚¹ï¼š
- ä½¿ç”¨Requires/BuildRequires
- Obsoleteså¤„ç†æ›¿æ¢
- æ”¯æŒæ¡ä»¶ä¾èµ–ï¼ˆ%ifè¯­å¥ï¼‰

DEBç³»ç»Ÿç‰¹ç‚¹ï¼š  
- ä½¿ç”¨Depends/Build-Depends
- Replaceså¤„ç†æ›¿æ¢
- æ›´ä¸°å¯Œçš„ä¾èµ–ç±»å‹ï¼ˆRecommends/Suggestsï¼‰

é€šç”¨åŸåˆ™ï¼š
- ä¾èµ–é€»è¾‘ç›¸åŒï¼Œè¯­æ³•ç•¥æœ‰å·®å¼‚
- éƒ½æ”¯æŒç‰ˆæœ¬æ¯”è¾ƒå’Œè™šæ‹ŸåŒ…
- éƒ½æœ‰å¾ªç¯ä¾èµ–æ£€æµ‹æœºåˆ¶
```

### 10.3 å®é™…åº”ç”¨æŒ‡å¯¼



**ğŸ¯ æ—¥å¸¸å¼€å‘å®è·µ**
```
æ‰“åŒ…å‰å‡†å¤‡ï¼š
1. åˆ—å‡ºæ‰€æœ‰çœŸæ­£éœ€è¦çš„ä¾èµ–
2. ç¡®å®šæ¯ä¸ªä¾èµ–çš„æœ€ä½ç‰ˆæœ¬è¦æ±‚  
3. æµ‹è¯•ä¸åŒç‰ˆæœ¬ç»„åˆçš„å…¼å®¹æ€§
4. ç¼–å†™æ¸…æ™°çš„ä¾èµ–å£°æ˜

å‘å¸ƒå‰æ£€æŸ¥ï¼š
1. ä½¿ç”¨å·¥å…·éªŒè¯ä¾èµ–å¯ç”¨æ€§
2. åœ¨å¹²å‡€ç¯å¢ƒæµ‹è¯•å®‰è£…
3. æ£€æŸ¥æ˜¯å¦å­˜åœ¨å¾ªç¯ä¾èµ–
4. ç”Ÿæˆä¾èµ–å…³ç³»æ–‡æ¡£

ç»´æŠ¤æœŸæ³¨æ„ï¼š
1. å®šæœŸæ›´æ–°ä¾èµ–ç‰ˆæœ¬è¦æ±‚
2. è·Ÿè¸ªä¸Šæ¸¸ä¾èµ–çš„å˜åŒ–  
3. å¤„ç†ç”¨æˆ·æŠ¥å‘Šçš„ä¾èµ–é—®é¢˜
4. ä¼˜åŒ–ä¾èµ–ç»“æ„å‡å°‘å¤æ‚æ€§
```

**ğŸ”§ é—®é¢˜æ’æŸ¥æ€è·¯**
```
å®‰è£…å¤±è´¥æ—¶ï¼š
1. æ£€æŸ¥ä¾èµ–åŒ…æ˜¯å¦å­˜åœ¨äºä»“åº“
2. ç¡®è®¤ç‰ˆæœ¬è¦æ±‚æ˜¯å¦åˆç†
3. æŸ¥çœ‹æ˜¯å¦æœ‰å†²çªçš„åŒ…
4. æ£€æŸ¥ä»“åº“é…ç½®å’Œä¼˜å…ˆçº§

è¿è¡Œå¼‚å¸¸æ—¶ï¼š
1. ç¡®è®¤è¿è¡Œæ—¶ä¾èµ–æ˜¯å¦å®Œæ•´
2. æ£€æŸ¥åº“æ–‡ä»¶ç‰ˆæœ¬å…¼å®¹æ€§
3. éªŒè¯é…ç½®æ–‡ä»¶å’Œæƒé™
4. æŸ¥çœ‹ç³»ç»Ÿæ—¥å¿—è·å–è¯¦ç»†é”™è¯¯

å‡çº§é—®é¢˜æ—¶ï¼š
1. æ£€æŸ¥æ˜¯å¦æœ‰æ›¿æ¢/åºŸå¼ƒå£°æ˜
2. ç¡®è®¤æ–°ç‰ˆæœ¬çš„ä¾èµ–å˜åŒ–
3. å¤„ç†é…ç½®æ–‡ä»¶å†²çª
4. éªŒè¯æ•°æ®è¿ç§»å®Œæ•´æ€§
```

### 10.4 æœ€ä½³å®è·µæ€»ç»“



**âœ… ä¾èµ–ç®¡ç†é»„é‡‘è§„åˆ™**
```
1. æ˜ç¡®æ€§ - æ¸…æ¥šå£°æ˜æ¯ä¸ªä¾èµ–çš„ç”¨é€”
2. æœ€å°æ€§ - åªåŒ…å«å¿…è¦çš„ä¾èµ–å…³ç³»
3. å‡†ç¡®æ€§ - ç‰ˆæœ¬è¦æ±‚åŸºäºå®é™…æµ‹è¯•
4. å…¼å®¹æ€§ - è€ƒè™‘ä¸åŒç¯å¢ƒçš„é€‚é…
5. å¯ç»´æŠ¤æ€§ - ä¾¿äºåç»­æ›´æ–°å’Œè°ƒè¯•
6. æ–‡æ¡£åŒ– - è¯¦ç»†è®°å½•ä¾èµ–å…³ç³»å’ŒåŸå› 
```

**ğŸ¯ è¿›é˜¶æŠ€å·§**
```
- ä½¿ç”¨è™šæ‹ŸåŒ…æé«˜çµæ´»æ€§
- åˆç†ä½¿ç”¨å¼±ä¾èµ–å‡å°‘å¼ºåˆ¶è¦æ±‚
- å»ºç«‹è‡ªåŠ¨åŒ–æµ‹è¯•æµç¨‹
- ç»´æŠ¤ä¾èµ–å…³ç³»å˜æ›´æ—¥å¿—
- å®šæœŸreviewå’Œä¼˜åŒ–ä¾èµ–ç»“æ„
- è·Ÿè¸ªä¾èµ–åŒ…çš„ç”Ÿå‘½å‘¨æœŸå’Œå®‰å…¨æ›´æ–°
```

**æ ¸å¿ƒè®°å¿†**ï¼š
- ä¾èµ–å…³ç³»æ˜¯è½¯ä»¶åä½œçš„åŸºç¡€ï¼Œéœ€è¦ç²¾å¿ƒè®¾è®¡å’Œç®¡ç†
- ç†è§£ä¸åŒç±»å‹ä¾èµ–çš„ç”¨é€”å’Œç”Ÿå‘½å‘¨æœŸ
- æŒæ¡ç‰ˆæœ¬è¯­æ³•å’Œå†²çªå¤„ç†æœºåˆ¶
- ä½¿ç”¨å·¥å…·è¿›è¡Œæµ‹è¯•éªŒè¯å’Œé—®é¢˜æ’æŸ¥
- éµå¾ªæœ€ä½³å®è·µç¡®ä¿ä¾èµ–å…³ç³»çš„å¥å£®æ€§å’Œå¯ç»´æŠ¤æ€§