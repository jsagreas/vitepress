---
title: 4ã€DEBåŒ…æ ¼å¼ä¸debianç›®å½•ç»“æ„
---
## ğŸ“š ç›®å½•

1. [DEBåŒ…æ ¼å¼åŸºç¡€æ¦‚å¿µ](#1-DEBåŒ…æ ¼å¼åŸºç¡€æ¦‚å¿µ)
2. [DEBåŒ…å†…éƒ¨ç»“æ„è§£æ](#2-DEBåŒ…å†…éƒ¨ç»“æ„è§£æ)
3. [debianç›®å½•æ ¸å¿ƒæ–‡ä»¶è¯¦è§£](#3-debianç›®å½•æ ¸å¿ƒæ–‡ä»¶è¯¦è§£)
4. [controlæ–‡ä»¶åŒ…ä¿¡æ¯å®šä¹‰](#4-controlæ–‡ä»¶åŒ…ä¿¡æ¯å®šä¹‰)
5. [rulesæ–‡ä»¶æ„å»ºè§„åˆ™ç¼–å†™](#5-rulesæ–‡ä»¶æ„å»ºè§„åˆ™ç¼–å†™)
6. [changelogå˜æ›´è®°å½•æ ¼å¼](#6-changelogå˜æ›´è®°å½•æ ¼å¼)
7. [copyrightç‰ˆæƒä¿¡æ¯ç®¡ç†](#7-copyrightç‰ˆæƒä¿¡æ¯ç®¡ç†)
8. [ä¾èµ–å…³ç³»å£°æ˜è¯­æ³•](#8-ä¾èµ–å…³ç³»å£°æ˜è¯­æ³•)
9. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#9-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ“¦ DEBåŒ…æ ¼å¼åŸºç¡€æ¦‚å¿µ


### 1.1 ä»€ä¹ˆæ˜¯DEBåŒ…

**DEBåŒ…**å°±æ˜¯Debianç³»ç»Ÿï¼ˆåŒ…æ‹¬Ubuntuï¼‰ä½¿ç”¨çš„è½¯ä»¶å®‰è£…åŒ…æ ¼å¼ï¼Œå°±åƒWindowsçš„`.exe`å®‰è£…ç¨‹åºä¸€æ ·ã€‚

> **ğŸ’¡ æ ¸å¿ƒç†è§£**
> DEBåŒ… = ç¨‹åºæ–‡ä»¶ + å®‰è£…ä¿¡æ¯ + ä¾èµ–å…³ç³»ï¼Œä¸‰åˆä¸€çš„è½¯ä»¶åˆ†å‘æ ¼å¼

**ğŸ”¸ DEBåŒ…çš„ä½œç”¨ï¼š**
```
ä¼ ç»Ÿå®‰è£…æ–¹å¼ï¼š
ä¸‹è½½æºç  â†’ é…ç½®ç¼–è¯‘ â†’ make install â†’ æ‰‹åŠ¨é…ç½®

DEBåŒ…æ–¹å¼ï¼š
sudo apt install package.deb â†’ è‡ªåŠ¨å®Œæˆæ‰€æœ‰æ“ä½œ
```

### 1.2 DEBåŒ…çš„å‘½åè§„åˆ™

```
package-name_version-revision_architecture.deb

å®ä¾‹è§£æï¼š
firefox_91.0-1ubuntu2_amd64.deb
â”œâ”€â”€ firefox        # åŒ…å
â”œâ”€â”€ 91.0           # ä¸Šæ¸¸ç‰ˆæœ¬
â”œâ”€â”€ 1ubuntu2       # åŒ…ç‰ˆæœ¬ä¿®è®¢
â””â”€â”€ amd64          # ç›®æ ‡æ¶æ„
```

**ğŸ”¹ æ¶æ„ç±»å‹è¯´æ˜ï¼š**
- `amd64`ï¼š64ä½Intel/AMDå¤„ç†å™¨
- `i386`ï¼š32ä½Intelå¤„ç†å™¨  
- `armhf`ï¼šARMç¡¬æµ®ç‚¹
- `all`ï¼šæ¶æ„æ— å…³ï¼ˆçº¯è„šæœ¬ç­‰ï¼‰

---

## 2. ğŸ” DEBåŒ…å†…éƒ¨ç»“æ„è§£æ


### 2.1 DEBåŒ…ç»„æˆéƒ¨åˆ†

```
DEBåŒ…ç»“æ„å›¾ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     .deb æ–‡ä»¶          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ debian-binary           â”‚ â† ç‰ˆæœ¬æ ‡è¯†
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ control.tar.xz         â”‚ â† æ§åˆ¶ä¿¡æ¯
â”‚  â”œâ”€â”€ control           â”‚
â”‚  â”œâ”€â”€ postinst          â”‚
â”‚  â”œâ”€â”€ prerm             â”‚
â”‚  â””â”€â”€ ...               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ data.tar.xz            â”‚ â† ç¨‹åºæ–‡ä»¶
â”‚  â”œâ”€â”€ usr/bin/program   â”‚
â”‚  â”œâ”€â”€ etc/config        â”‚
â”‚  â””â”€â”€ ...               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 æŸ¥çœ‹DEBåŒ…å†…å®¹


**ğŸ”§ å®ç”¨å‘½ä»¤ï¼š**
```bash
# æŸ¥çœ‹åŒ…ä¿¡æ¯
dpkg -I package.deb

# æŸ¥çœ‹æ–‡ä»¶åˆ—è¡¨
dpkg -c package.deb

# æå–åŒ…å†…å®¹ï¼ˆä¸å®‰è£…ï¼‰
dpkg -x package.deb /tmp/extract
```

**ğŸ“ å®ä¾‹æ¼”ç¤ºï¼š**
```bash
$ dpkg -I firefox_91.0-1ubuntu2_amd64.deb

new debian package, version 2.0.
size 58234567 bytes: control archive=1234 bytes.
Package: firefox
Version: 91.0-1ubuntu2
Architecture: amd64
Depends: libc6, libgtk-3-0
Description: Web browser
```

---

## 3. ğŸ“ debianç›®å½•æ ¸å¿ƒæ–‡ä»¶è¯¦è§£


### 3.1 debianç›®å½•ç»“æ„æ¦‚è§ˆ

```
é¡¹ç›®æºç ç›®å½•ï¼š
my-program/
â”œâ”€â”€ src/                  â† ç¨‹åºæºä»£ç 
â”œâ”€â”€ Makefile             â† æ„å»ºè„šæœ¬
â””â”€â”€ debian/              â† DEBæ‰“åŒ…é…ç½®
    â”œâ”€â”€ control          â† åŒ…åŸºæœ¬ä¿¡æ¯
    â”œâ”€â”€ rules           â† æ„å»ºè§„åˆ™
    â”œâ”€â”€ changelog       â† å˜æ›´è®°å½•
    â”œâ”€â”€ copyright       â† ç‰ˆæƒä¿¡æ¯
    â”œâ”€â”€ compat          â† å…¼å®¹æ€§çº§åˆ«
    â”œâ”€â”€ install         â† æ–‡ä»¶å®‰è£…è§„åˆ™
    â”œâ”€â”€ postinst        â† å®‰è£…åè„šæœ¬
    â”œâ”€â”€ prerm           â† åˆ é™¤å‰è„šæœ¬
    â””â”€â”€ watch           â† ä¸Šæ¸¸ç‰ˆæœ¬ç›‘æ§
```

### 3.2 å¿…éœ€æ–‡ä»¶ä¸å¯é€‰æ–‡ä»¶


**ğŸ”¸ æ ¸å¿ƒå¿…éœ€æ–‡ä»¶ï¼š**
- `control`ï¼šåŒ…ä¿¡æ¯å®šä¹‰ï¼ˆ**å¿…é¡»**ï¼‰
- `rules`ï¼šæ„å»ºè§„åˆ™ï¼ˆ**å¿…é¡»**ï¼‰
- `changelog`ï¼šç‰ˆæœ¬è®°å½•ï¼ˆ**å¿…é¡»**ï¼‰
- `compat`ï¼šå…¼å®¹çº§åˆ«ï¼ˆ**æ¨è**ï¼‰

**ğŸ”¹ å¸¸ç”¨å¯é€‰æ–‡ä»¶ï¼š**
- `copyright`ï¼šç‰ˆæƒå£°æ˜
- `install`ï¼šæ–‡ä»¶å®‰è£…æ¸…å•
- `postinst/prerm`ï¼šç»´æŠ¤è„šæœ¬
- `patches/`ï¼šè¡¥ä¸ç›®å½•

---

## 4. ğŸ“‹ controlæ–‡ä»¶åŒ…ä¿¡æ¯å®šä¹‰


### 4.1 controlæ–‡ä»¶åŸºæœ¬ç»“æ„


**ğŸ”§ æ ‡å‡†æ ¼å¼ï¼š**
```
Source: my-program
Priority: optional
Maintainer: Your Name <your.email@example.com>
Build-Depends: debhelper-compat (= 13), cmake, libssl-dev
Standards-Version: 4.5.1

Package: my-program
Architecture: amd64
Depends: ${shlibs:Depends}, ${misc:Depends}
Description: ç¨‹åºç®€çŸ­æè¿°ï¼ˆä¸€è¡Œï¼‰
 è¿™é‡Œæ˜¯è¯¦ç»†æè¿°ï¼Œæ¯è¡Œå¼€å¤´éœ€è¦ä¸€ä¸ªç©ºæ ¼
 æ”¯æŒå¤šè¡Œæè¿°ï¼Œè§£é‡Šç¨‹åºçš„åŠŸèƒ½å’Œç”¨é€”
```

### 4.2 å…³é”®å­—æ®µè¯¦è§£


**ğŸ“Š åŸºç¡€ä¿¡æ¯å­—æ®µï¼š**

| å­—æ®µå | **ä½œç”¨** | **ç¤ºä¾‹** | **å¿…éœ€æ€§** |
|--------|----------|----------|-----------|
| `Source` | æºç åŒ…å | `firefox` | âœ… **å¿…éœ€** |
| `Package` | äºŒè¿›åˆ¶åŒ…å | `firefox` | âœ… **å¿…éœ€** |
| `Version` | åŒ…ç‰ˆæœ¬å· | `91.0-1ubuntu2` | âœ… **å¿…éœ€** |
| `Architecture` | ç›®æ ‡æ¶æ„ | `amd64` or `all` | âœ… **å¿…éœ€** |
| `Maintainer` | ç»´æŠ¤è€…ä¿¡æ¯ | `John <john@example.com>` | âœ… **å¿…éœ€** |
| `Description` | åŒ…æè¿° | `Web browser` | âœ… **å¿…éœ€** |

**ğŸ” é«˜çº§å­—æ®µè¯´æ˜ï¼š**
```
Priority: åŒ…é‡è¦çº§åˆ«
  - required: ç³»ç»Ÿå¿…éœ€
  - important: é‡è¦åŒ…
  - standard: æ ‡å‡†å®‰è£…
  - optional: å¯é€‰åŒ…ï¼ˆæœ€å¸¸ç”¨ï¼‰

Section: è½¯ä»¶åˆ†ç±»
  - admin: ç³»ç»Ÿç®¡ç†
  - devel: å¼€å‘å·¥å…·  
  - games: æ¸¸æˆè½¯ä»¶
  - net: ç½‘ç»œå·¥å…·
```

### 4.3 å®é™…ç¤ºä¾‹

```bash
# åˆ›å»ºåŸºç¡€controlæ–‡ä»¶
cat > debian/control << 'EOF'
Source: hello-world
Priority: optional
Maintainer: Student <student@example.com>
Build-Depends: debhelper-compat (= 13), gcc
Standards-Version: 4.5.1
Homepage: https://github.com/example/hello-world

Package: hello-world
Architecture: any
Depends: ${shlibs:Depends}, ${misc:Depends}
Description: ç®€å•çš„Hello Worldç¨‹åº
 è¿™æ˜¯ä¸€ä¸ªæ¼”ç¤ºDEBæ‰“åŒ…çš„Hello Worldç¨‹åºã€‚
 ç¨‹åºä¼šåœ¨æ§åˆ¶å°è¾“å‡º"Hello, World!"æ–‡æœ¬ã€‚
 é€‚åˆå­¦ä¹ DEBåŒ…åˆ¶ä½œçš„åŸºç¡€ç¤ºä¾‹ã€‚
EOF
```

---

## 5. âš™ï¸ rulesæ–‡ä»¶æ„å»ºè§„åˆ™ç¼–å†™


### 5.1 rulesæ–‡ä»¶åŸºç¡€æ¦‚å¿µ


**rulesæ–‡ä»¶**å°±æ˜¯å‘Šè¯‰ç³»ç»Ÿ"å¦‚ä½•ç¼–è¯‘å’Œå®‰è£…è¿™ä¸ªç¨‹åº"çš„è„šæœ¬ï¼Œç±»ä¼¼äºè‡ªåŠ¨åŒ–çš„å®‰è£…è¯´æ˜ä¹¦ã€‚

> **ğŸ’¡ æ ¸å¿ƒç†è§£**
> rules = Makefile + å®‰è£…è„šæœ¬ï¼Œè‡ªåŠ¨åŒ–å®Œæˆ ç¼–è¯‘â†’å®‰è£…â†’æ‰“åŒ… çš„å…¨è¿‡ç¨‹

### 5.2 åŸºç¡€rulesæ–‡ä»¶æ¨¡æ¿


**ğŸ”§ æœ€ç®€å•çš„rulesæ–‡ä»¶ï¼š**
```makefile
#!/usr/bin/make -f

# ä½¿ç”¨dhï¼ˆdebhelperï¼‰è‡ªåŠ¨åŒ–å·¥å…·
%:
	dh $@

# å¦‚æœéœ€è¦è‡ªå®šä¹‰ç¼–è¯‘é€‰é¡¹
override_dh_auto_configure:
	dh_auto_configure -- --enable-ssl --prefix=/usr

# å¦‚æœéœ€è¦è·³è¿‡æµ‹è¯•
override_dh_auto_test:
	# è·³è¿‡æµ‹è¯•é˜¶æ®µ
```

**ğŸ“ rulesæ–‡ä»¶æƒé™è®¾ç½®ï¼š**
```bash
# rulesæ–‡ä»¶å¿…é¡»å¯æ‰§è¡Œ
chmod +x debian/rules
```

### 5.3 æ„å»ºé˜¶æ®µè¯¦è§£


**ğŸ”„ DEBæ„å»ºæµç¨‹ï¼š**
```
æºç å‡†å¤‡ â†’ é…ç½®ç¼–è¯‘ â†’ ç¼–è¯‘ç¨‹åº â†’ è¿è¡Œæµ‹è¯• â†’ å®‰è£…æ–‡ä»¶ â†’ æ‰“åŒ…DEB

å¯¹åº”rulesé˜¶æ®µï¼š
dh_auto_clean     â†’ æ¸…ç†æ—§æ–‡ä»¶
dh_auto_configure â†’ é…ç½®æ„å»ºç¯å¢ƒ
dh_auto_build     â†’ ç¼–è¯‘æºä»£ç 
dh_auto_test      â†’ è¿è¡Œæµ‹è¯•ç”¨ä¾‹
dh_auto_install   â†’ å®‰è£…åˆ°ä¸´æ—¶ç›®å½•
dh_builddeb       â†’ ç”Ÿæˆ.debæ–‡ä»¶
```

### 5.4 å¸¸è§è‡ªå®šä¹‰åœºæ™¯


**ğŸ¯ å®è·µç¤ºä¾‹ï¼š**
```makefile
#!/usr/bin/make -f

%:
	dh $@

# è‡ªå®šä¹‰ç¼–è¯‘é…ç½®
override_dh_auto_configure:
	./configure --prefix=/usr --sysconfdir=/etc

# è‡ªå®šä¹‰å®‰è£…æ­¥éª¤
override_dh_auto_install:
	dh_auto_install
	# åˆ›å»ºé¢å¤–ç›®å½•
	mkdir -p debian/my-program/etc/my-program
	# å¤åˆ¶é…ç½®æ–‡ä»¶
	cp config/default.conf debian/my-program/etc/my-program/

# è·³è¿‡æŸäº›æ–‡ä»¶
override_dh_install:
	dh_install
	# åˆ é™¤ä¸éœ€è¦çš„æ–‡ä»¶
	rm -f debian/my-program/usr/share/doc/my-program/INSTALL
```

---

## 6. ğŸ“ changelogå˜æ›´è®°å½•æ ¼å¼


### 6.1 changelogæ–‡ä»¶ä½œç”¨


**changelogæ–‡ä»¶**è®°å½•è½¯ä»¶çš„ç‰ˆæœ¬å†å²å’Œå˜æ›´å†…å®¹ï¼Œå°±åƒè½¯ä»¶çš„"æˆé•¿æ—¥è®°"ã€‚

> **âš ï¸ æ³¨æ„äº‹é¡¹**
> changelogæ ¼å¼å¿…é¡»ä¸¥æ ¼éµå®ˆï¼Œæ ¼å¼é”™è¯¯ä¼šå¯¼è‡´æ‰“åŒ…å¤±è´¥

### 6.2 æ ‡å‡†æ ¼å¼è§„èŒƒ


**ğŸ”§ changelogæ ¼å¼æ¨¡æ¿ï¼š**
```
package-name (version-revision) distribution; urgency=priority

  * å˜æ›´æè¿°1
  * å˜æ›´æè¿°2
    - è¯¦ç»†è¯´æ˜
  * ä¿®å¤çš„bugæè¿°

 -- Maintainer Name <email@example.com>  Day, DD Mon YYYY HH:MM:SS +TIMEZONE
```

### 6.3 å®é™…ç¤ºä¾‹


**ğŸ“‹ å®Œæ•´ç¤ºä¾‹ï¼š**
```bash
# debian/changelog å†…å®¹
hello-world (1.2-1ubuntu1) focal; urgency=medium

  * æ–°å¢å¤šè¯­è¨€æ”¯æŒ
  * ä¿®å¤å†…å­˜æ³„æ¼é—®é¢˜
    - ä¿®æ­£å­—ç¬¦ä¸²å¤„ç†å‡½æ•°çš„å†…å­˜ç®¡ç†
  * æ›´æ–°å¸®åŠ©æ–‡æ¡£

 -- Student Developer <student@example.com>  Mon, 14 Sep 2025 15:30:21 +0800

hello-world (1.1-1) focal; urgency=low

  * åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
  * å®ç°åŸºæœ¬çš„Hello WorldåŠŸèƒ½

 -- Student Developer <student@example.com>  Sun, 13 Sep 2025 10:15:30 +0800
```

### 6.4 å¿«é€Ÿç”Ÿæˆchangelog


**âš¡ ä½¿ç”¨dchå·¥å…·ï¼š**
```bash
# åˆ›å»ºæ–°æ¡ç›®
dch -i

# æŒ‡å®šç‰ˆæœ¬å·
dch -v 1.2-1ubuntu1

# æ·»åŠ å˜æ›´è®°å½•
dch "ä¿®å¤ç™»å½•éªŒè¯é—®é¢˜"

# å‘å¸ƒç‰ˆæœ¬
dch -r
```

---

## 7. âš–ï¸ copyrightç‰ˆæƒä¿¡æ¯ç®¡ç†


### 7.1 copyrightæ–‡ä»¶é‡è¦æ€§


**copyrightæ–‡ä»¶**å£°æ˜è½¯ä»¶çš„ç‰ˆæƒä¿¡æ¯å’Œè®¸å¯è¯ï¼Œç¡®ä¿æ³•å¾‹åˆè§„æ€§ã€‚

> **ğŸ” å®è·µæ„ä¹‰**
> æ­£ç¡®çš„ç‰ˆæƒå£°æ˜ä¿æŠ¤å¼€å‘è€…æƒç›Šï¼Œä¹Ÿè®©ç”¨æˆ·æ˜ç¡®ä½¿ç”¨æƒé™

### 7.2 æ ‡å‡†æ ¼å¼


**ğŸ“„ Machine-readableæ ¼å¼ï¼š**
```
Format: https://www.debian.org/doc/packaging-manuals/copyright-format/1.0/
Upstream-Name: hello-world
Upstream-Contact: Original Author <author@example.com>
Source: https://github.com/example/hello-world

Files: *
Copyright: 2025 Your Name <your@example.com>
License: MIT

Files: src/external/*
Copyright: 2020 Third Party <third@example.com>
License: BSD-3-Clause

License: MIT
 MIT License
 .
 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software")...
 [å®Œæ•´MITè®¸å¯è¯æ–‡æœ¬]

License: BSD-3-Clause
 [BSD-3-Clauseè®¸å¯è¯å®Œæ•´æ–‡æœ¬]
```

### 7.3 å¸¸è§è®¸å¯è¯æ¨¡æ¿


**ğŸ“Š æµè¡Œå¼€æºè®¸å¯è¯ï¼š**

| è®¸å¯è¯ | **ç‰¹ç‚¹** | **å•†ç”¨** | **ä¿®æ”¹** | **åˆ†å‘** |
|--------|----------|----------|----------|----------|
| `MIT` | å®½æ¾è®¸å¯ | âœ… å…è®¸ | âœ… å…è®¸ | âœ… å…è®¸ |
| `GPL-3.0` | å¼ºåˆ¶å¼€æº | âœ… å…è®¸ | âœ… å…è®¸ | âœ… å¿…é¡»å¼€æº |
| `Apache-2.0` | ä¸“åˆ©ä¿æŠ¤ | âœ… å…è®¸ | âœ… å…è®¸ | âœ… å…è®¸ |
| `BSD-3-Clause` | å®½æ¾è®¸å¯ | âœ… å…è®¸ | âœ… å…è®¸ | âœ… å…è®¸ |

---

## 8. ğŸ”— ä¾èµ–å…³ç³»å£°æ˜è¯­æ³•


### 8.1 ä¾èµ–ç±»å‹è¯¦è§£


**ä¾èµ–å…³ç³»**å°±æ˜¯å‘Šè¯‰ç³»ç»Ÿ"è¿™ä¸ªè½¯ä»¶éœ€è¦å“ªäº›å…¶ä»–è½¯ä»¶æ‰èƒ½å·¥ä½œ"ã€‚

```
ç”Ÿæ´»ç±»æ¯”ï¼š
åšè›‹ç³•éœ€è¦ï¼šé¢ç²‰(å¿…é¡») + é¸¡è›‹(å¿…é¡») + ç³–(å¯é€‰)
è½¯ä»¶è¿è¡Œéœ€è¦ï¼šåŸºç¡€åº“(å¿…é¡») + å·¥å…·è½¯ä»¶(å¿…é¡») + æ’ä»¶(å¯é€‰)
```

### 8.2 ä¾èµ–å…³ç³»ç±»å‹


**ğŸ”¸ æ„å»ºæ—¶ä¾èµ– (Build-Depends)ï¼š**
ç¼–è¯‘è½¯ä»¶æ—¶éœ€è¦çš„å·¥å…·å’Œåº“
```
Build-Depends: 
    debhelper-compat (= 13),
    gcc,
    make,
    libssl-dev,
    pkg-config
```

**ğŸ”¹ è¿è¡Œæ—¶ä¾èµ– (Depends)ï¼š**
è½¯ä»¶è¿è¡Œæ—¶å¿…é¡»çš„åŒ…
```
Depends: 
    ${shlibs:Depends},
    ${misc:Depends},
    python3,
    libssl1.1
```

### 8.3 ä¾èµ–å…³ç³»è¯­æ³•


**ğŸ“‹ ç‰ˆæœ¬å…³ç³»è¯­æ³•ï¼š**
```bash
# ç²¾ç¡®ç‰ˆæœ¬
package (= 1.2.3)

# æœ€ä½ç‰ˆæœ¬
package (>= 1.2.3)

# æœ€é«˜ç‰ˆæœ¬
package (<= 1.2.3)

# ä¸¥æ ¼å¤§äº/å°äº
package (>> 1.2.3)
package (<< 1.2.4)

# å¤šé€‰ä¾èµ–ï¼ˆä»»ä¸€æ»¡è¶³å³å¯ï¼‰
package1 | package2 | package3

# è™šæ‹ŸåŒ…ä¾èµ–
mail-transport-agent
```

### 8.4 è‡ªåŠ¨ä¾èµ–å˜é‡


**âš¡ ä¾¿åˆ©å˜é‡è¯´æ˜ï¼š**
```
${shlibs:Depends}
â†³ è‡ªåŠ¨æ£€æµ‹å…±äº«åº“ä¾èµ–ï¼Œå¦‚libc6, libssl1.1

${misc:Depends}  
â†³ debhelperè‡ªåŠ¨æ·»åŠ çš„ä¾èµ–

${python3:Depends}
â†³ Python3ç¨‹åºçš„æ ‡å‡†ä¾èµ–

${perl:Depends}
â†³ Perlç¨‹åºçš„æ ‡å‡†ä¾èµ–
```

**ğŸ”§ å®è·µç¤ºä¾‹ï¼š**
```
# controlæ–‡ä»¶ä¸­çš„å®Œæ•´ä¾èµ–å£°æ˜
Package: my-web-server
Depends: 
    ${shlibs:Depends},
    ${misc:Depends},
    apache2 | nginx,
    mysql-server (>= 8.0),
    php7.4 | php8.0,
    ssl-cert
Recommends: 
    certbot,
    ufw
Suggests:
    phpmyadmin,
    redis-server
Conflicts:
    old-web-server
Replaces:
    old-web-server (<< 2.0)
```

---

## 9. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 9.1 å¿…é¡»æŒæ¡çš„åŸºæœ¬æ¦‚å¿µ


```
ğŸ”¸ DEBåŒ… = ç¨‹åº + å®‰è£…ä¿¡æ¯ + ä¾èµ–å…³ç³»çš„æ‰“åŒ…æ ¼å¼
ğŸ”¸ debianç›®å½•ï¼šåŒ…å«æ‰€æœ‰DEBæ‰“åŒ…ç›¸å…³çš„é…ç½®æ–‡ä»¶
ğŸ”¸ controlæ–‡ä»¶ï¼šå®šä¹‰åŒ…çš„åŸºæœ¬ä¿¡æ¯å’Œä¾èµ–å…³ç³»
ğŸ”¸ rulesæ–‡ä»¶ï¼šè‡ªåŠ¨åŒ–æ„å»ºè„šæœ¬ï¼Œæ§åˆ¶ç¼–è¯‘æ‰“åŒ…è¿‡ç¨‹
ğŸ”¸ changelogï¼šç‰ˆæœ¬å†å²è®°å½•ï¼Œæ ¼å¼è¦æ±‚ä¸¥æ ¼
ğŸ”¸ ä¾èµ–å…³ç³»ï¼šç¡®ä¿è½¯ä»¶èƒ½æ­£å¸¸å®‰è£…è¿è¡Œçš„å‰ææ¡ä»¶
```

### 9.2 å®é™…æ“ä½œè¦ç‚¹


**ğŸ”¹ æ‰“åŒ…æµç¨‹è®°å¿†ï¼š**
```
å‡†å¤‡æºç  â†’ åˆ›å»ºdebianç›®å½• â†’ ç¼–å†™é…ç½®æ–‡ä»¶ â†’ æ„å»ºæµ‹è¯• â†’ ç”ŸæˆDEBåŒ…

å…³é”®æ–‡ä»¶ç¼–å†™é¡ºåºï¼š
1. controlï¼ˆåŒ…ä¿¡æ¯ï¼‰
2. rulesï¼ˆæ„å»ºè§„åˆ™ï¼‰
3. changelogï¼ˆç‰ˆæœ¬è®°å½•ï¼‰
4. compatï¼ˆå…¼å®¹çº§åˆ«ï¼‰
```

**ğŸ”¹ å¸¸è§é—®é¢˜é¿å…ï¼š**
```
âŒ changelogæ ¼å¼é”™è¯¯ï¼šæ³¨æ„æ—¶é—´æ ¼å¼å’Œç©ºæ ¼
âŒ rulesæƒé™é—®é¢˜ï¼šå¿…é¡»chmod +x
âŒ ä¾èµ–å…³ç³»ä¸å®Œæ•´ï¼šå¯¼è‡´å®‰è£…å¤±è´¥  
âŒ ç‰ˆæœ¬å·ä¸è§„èŒƒï¼šå½±å“å‡çº§æœºåˆ¶
```

### 9.3 å­¦ä¹ è¿›é˜¶è·¯å¾„


**ğŸš€ åç»­å­¦ä¹ æ–¹å‘ï¼š**
- **å®è·µæ“ä½œ**ï¼šåŠ¨æ‰‹åˆ¶ä½œç®€å•çš„DEBåŒ…
- **é«˜çº§ç‰¹æ€§**ï¼šå­¦ä¹ å¤šäºŒè¿›åˆ¶åŒ…ã€è¡¥ä¸ç®¡ç†
- **è‡ªåŠ¨åŒ–å·¥å…·**ï¼šæŒæ¡pbuilderã€sbuildç­‰æ„å»ºå·¥å…·
- **ä»“åº“ç®¡ç†**ï¼šäº†è§£APTä»“åº“çš„åˆ›å»ºå’Œç»´æŠ¤

**ğŸ’¡ å…³é”®ç†è§£**ï¼š
DEBæ‰“åŒ…çœ‹ä¼¼å¤æ‚ï¼Œå®é™…ä¸Šå°±æ˜¯ç”¨æ ‡å‡†åŒ–çš„æ–¹å¼æè¿°"è¿™ä¸ªè½¯ä»¶æ˜¯ä»€ä¹ˆã€æ€ä¹ˆè£…ã€éœ€è¦ä»€ä¹ˆ"ä¸‰ä¸ªé—®é¢˜ã€‚æŒæ¡äº†åŸºæœ¬æ¦‚å¿µå’Œæ–‡ä»¶æ ¼å¼ï¼Œå°±èƒ½ä¸¾ä¸€åä¸‰åˆ¶ä½œå„ç§DEBåŒ…ã€‚

**ğŸ¯ è®°å¿†å£è¯€**ï¼š
- controlè¯´æ˜åŒ…ä¿¡æ¯ï¼Œrulesæ§åˆ¶æ€ä¹ˆè£…
- changelogè®°å½•ç‰ˆæœ¬å²ï¼Œä¾èµ–å…³ç³»è¦å†™è¯¦
- debianç›®å½•æ˜¯æ ¸å¿ƒï¼Œæ ¼å¼è§„èŒƒä¸èƒ½å¿˜