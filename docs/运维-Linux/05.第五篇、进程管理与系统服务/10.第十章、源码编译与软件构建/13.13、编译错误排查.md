---
title: 13ã€ç¼–è¯‘é”™è¯¯æ’æŸ¥
---
## ğŸ“š ç›®å½•

1. [ç¼–è¯‘é”™è¯¯æ¦‚è¿°](#1-ç¼–è¯‘é”™è¯¯æ¦‚è¿°)
2. [å¸¸è§ç¼–è¯‘é”™è¯¯ç±»å‹](#2-å¸¸è§ç¼–è¯‘é”™è¯¯ç±»å‹)
3. [å¤´æ–‡ä»¶ç›¸å…³é”™è¯¯](#3-å¤´æ–‡ä»¶ç›¸å…³é”™è¯¯)
4. [åº“æ–‡ä»¶é“¾æ¥é”™è¯¯](#4-åº“æ–‡ä»¶é“¾æ¥é”™è¯¯)
5. [ç¬¦å·æœªå®šä¹‰é—®é¢˜](#5-ç¬¦å·æœªå®šä¹‰é—®é¢˜)
6. [ç‰ˆæœ¬å…¼å®¹æ€§é”™è¯¯](#6-ç‰ˆæœ¬å…¼å®¹æ€§é”™è¯¯)
7. [ç¯å¢ƒé…ç½®é—®é¢˜](#7-ç¯å¢ƒé…ç½®é—®é¢˜)
8. [ç¼–è¯‘æ—¥å¿—åˆ†ææŠ€å·§](#8-ç¼–è¯‘æ—¥å¿—åˆ†ææŠ€å·§)
9. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#9-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ” ç¼–è¯‘é”™è¯¯æ¦‚è¿°


### 1.1 ä»€ä¹ˆæ˜¯ç¼–è¯‘é”™è¯¯


**ğŸ¯ ç®€å•ç†è§£**
ç¼–è¯‘é”™è¯¯å°±åƒæ˜¯ç¿»è¯‘è¿‡ç¨‹ä¸­é‡åˆ°çš„é—®é¢˜ã€‚å½“æˆ‘ä»¬å†™å¥½C/C++ä»£ç åï¼Œéœ€è¦ç”¨ç¼–è¯‘å™¨æŠŠäººç±»èƒ½è¯»æ‡‚çš„ä»£ç ç¿»è¯‘æˆæœºå™¨èƒ½æ‰§è¡Œçš„ç¨‹åºã€‚å¦‚æœç¿»è¯‘è¿‡ç¨‹ä¸­å‡ºäº†é—®é¢˜ï¼Œå°±å«ç¼–è¯‘é”™è¯¯ã€‚

```
æºä»£ç  â†’ [ç¼–è¯‘å™¨] â†’ å¯æ‰§è¡Œæ–‡ä»¶
  â†‘           â†‘         â†‘
å†™çš„ä»£ç     ç¿»è¯‘è¿‡ç¨‹    æœ€ç»ˆç¨‹åº
```

**ğŸ“‹ ç¼–è¯‘é”™è¯¯çš„æœ¬è´¨**
- **è¯­æ³•é”™è¯¯**ï¼šä»£ç å†™æ³•ä¸ç¬¦åˆè¯­è¨€è§„èŒƒ
- **ä¾èµ–é”™è¯¯**ï¼šæ‰¾ä¸åˆ°éœ€è¦çš„å¤´æ–‡ä»¶æˆ–åº“æ–‡ä»¶
- **ç¯å¢ƒé”™è¯¯**ï¼šç¼–è¯‘ç¯å¢ƒé…ç½®æœ‰é—®é¢˜
- **ç‰ˆæœ¬é”™è¯¯**ï¼šä¸åŒç‰ˆæœ¬ä¹‹é—´ä¸å…¼å®¹

### 1.2 ç¼–è¯‘é”™è¯¯ vs è¿è¡Œé”™è¯¯


```
ç¼–è¯‘é˜¶æ®µé”™è¯¯ï¼š
âœ… ä»£ç è¿˜æ²¡æœ‰å˜æˆç¨‹åºå°±å‘ç°çš„é—®é¢˜
âœ… ç¼–è¯‘å™¨ç›´æ¥æŠ¥é”™ï¼Œç¨‹åºæ— æ³•ç”Ÿæˆ
âœ… ä¾‹ï¼šè¯­æ³•é”™è¯¯ã€æ‰¾ä¸åˆ°å¤´æ–‡ä»¶

è¿è¡Œé˜¶æ®µé”™è¯¯ï¼š
âš ï¸ ç¨‹åºå·²ç»ç¼–è¯‘æˆåŠŸï¼Œè¿è¡Œæ—¶å‡ºç°çš„é—®é¢˜
âš ï¸ ç¨‹åºèƒ½ç”Ÿæˆï¼Œä½†æ‰§è¡Œæ—¶å´©æºƒæˆ–ç»“æœé”™è¯¯
âš ï¸ ä¾‹ï¼šæ®µé”™è¯¯ã€é€»è¾‘é”™è¯¯ã€å†…å­˜æ³„éœ²
```

### 1.3 ç¼–è¯‘è¿‡ç¨‹ç®€åŒ–ç†è§£


```
ç¼–è¯‘çš„å››ä¸ªä¸»è¦é˜¶æ®µï¼š

æºæ–‡ä»¶(.c) â†’ [é¢„å¤„ç†] â†’ é¢„å¤„ç†æ–‡ä»¶(.i)
             å¤„ç†#includeã€#defineç­‰
                 â†“
é¢„å¤„ç†æ–‡ä»¶ â†’ [ç¼–è¯‘] â†’ æ±‡ç¼–æ–‡ä»¶(.s)  
             è¯­æ³•æ£€æŸ¥ã€ç”Ÿæˆæ±‡ç¼–ä»£ç 
                 â†“
æ±‡ç¼–æ–‡ä»¶ â†’ [æ±‡ç¼–] â†’ ç›®æ ‡æ–‡ä»¶(.o)
           ç”Ÿæˆæœºå™¨ç 
                 â†“
ç›®æ ‡æ–‡ä»¶ â†’ [é“¾æ¥] â†’ å¯æ‰§è¡Œæ–‡ä»¶
           è¿æ¥å„ä¸ªæ¨¡å—å’Œåº“
```

> ğŸ’¡ **ç†è§£è¦ç‚¹**ï¼šæ¯ä¸ªé˜¶æ®µéƒ½å¯èƒ½å‡ºç°ä¸åŒç±»å‹çš„é”™è¯¯ï¼Œäº†è§£è¿™ä¸ªè¿‡ç¨‹æœ‰åŠ©äºå¿«é€Ÿå®šä½é—®é¢˜

---

## 2. ğŸ“Š å¸¸è§ç¼–è¯‘é”™è¯¯ç±»å‹


### 2.1 é”™è¯¯åˆ†ç±»ä¸€è§ˆè¡¨


| é”™è¯¯ç±»å‹ | **å¸¸è§ç—‡çŠ¶** | **å‡ºç°é˜¶æ®µ** | **è§£å†³éš¾åº¦** |
|---------|-------------|-------------|-------------|
| ğŸ”¤ **è¯­æ³•é”™è¯¯** | `è¯­æ³•ä¸æ­£ç¡®ã€æ‹¬å·ä¸åŒ¹é…` | `ç¼–è¯‘é˜¶æ®µ` | `â˜…â˜†â˜†â˜†â˜†` |
| ğŸ“ **å¤´æ–‡ä»¶é”™è¯¯** | `æ‰¾ä¸åˆ°.hæ–‡ä»¶` | `é¢„å¤„ç†é˜¶æ®µ` | `â˜…â˜…â˜†â˜†â˜†` |
| ğŸ“š **åº“æ–‡ä»¶é”™è¯¯** | `undefined reference` | `é“¾æ¥é˜¶æ®µ` | `â˜…â˜…â˜…â˜†â˜†` |
| ğŸ”— **ç¬¦å·æœªå®šä¹‰** | `å‡½æ•°æˆ–å˜é‡æ‰¾ä¸åˆ°` | `é“¾æ¥é˜¶æ®µ` | `â˜…â˜…â˜…â˜†â˜†` |
| ğŸ“¦ **ç‰ˆæœ¬ä¸å…¼å®¹** | `APIå˜åŒ–ã€åºŸå¼ƒå‡½æ•°` | `ç¼–è¯‘/é“¾æ¥é˜¶æ®µ` | `â˜…â˜…â˜…â˜…â˜†` |
| âš™ï¸ **ç¯å¢ƒé…ç½®** | `ç¼–è¯‘å™¨æ‰¾ä¸åˆ°ã€è·¯å¾„é”™è¯¯` | `æ‰€æœ‰é˜¶æ®µ` | `â˜…â˜…â˜†â˜†â˜†` |

### 2.2 é”™è¯¯ä¸¥é‡ç¨‹åº¦åˆ†ç±»


**ğŸ”´ è‡´å‘½é”™è¯¯ï¼ˆErrorï¼‰**
```
ç‰¹ç‚¹ï¼šç¼–è¯‘å®Œå…¨å¤±è´¥ï¼Œæ— æ³•ç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶
å…¸å‹è¡¨ç°ï¼š
error: 'stdio.h' file not found
error: use of undeclared identifier 'printf'
```

**ğŸŸ¡ è­¦å‘Šï¼ˆWarningï¼‰**
```
ç‰¹ç‚¹ï¼šç¼–è¯‘å¯ä»¥ç»§ç»­ï¼Œä½†å¯èƒ½æœ‰æ½œåœ¨é—®é¢˜
å…¸å‹è¡¨ç°ï¼š
warning: unused variable 'count'
warning: format '%d' expects argument of type 'int'
```

**ğŸ”µ ä¿¡æ¯ï¼ˆNote/Infoï¼‰**
```
ç‰¹ç‚¹ï¼šæç¤ºæ€§ä¿¡æ¯ï¼Œä¸å½±å“ç¼–è¯‘
å…¸å‹è¡¨ç°ï¼š
note: previous declaration is here
info: linking against libssl
```

---

## 3. ğŸ“ å¤´æ–‡ä»¶ç›¸å…³é”™è¯¯


### 3.1 å¤´æ–‡ä»¶æ‰¾ä¸åˆ°é”™è¯¯


**ğŸš¨ å…¸å‹é”™è¯¯ä¿¡æ¯**
```bash
error: stdio.h: No such file or directory
error: 'SDL2/SDL.h' file not found
fatal error: mysql/mysql.h: No such file or directory
```

**ğŸ” é”™è¯¯åŸå› åˆ†æ**
```
å¤´æ–‡ä»¶è·¯å¾„é—®é¢˜ï¼š
ç³»ç»Ÿæ ‡å‡†å¤´æ–‡ä»¶ â†’ å®‰è£…åœ¨ /usr/include/
ç”¨æˆ·å¤´æ–‡ä»¶     â†’ é€šå¸¸åœ¨å½“å‰ç›®å½•æˆ–æŒ‡å®šè·¯å¾„
ç¬¬ä¸‰æ–¹åº“å¤´æ–‡ä»¶ â†’ éœ€è¦å•ç‹¬å®‰è£…å’Œé…ç½®è·¯å¾„
```

### 3.2 è§£å†³å¤´æ–‡ä»¶é—®é¢˜çš„æ–¹æ³•


**æ–¹æ³•ä¸€ï¼šæ£€æŸ¥ç³»ç»Ÿå¤´æ–‡ä»¶**
```bash
# æ£€æŸ¥ç³»ç»Ÿæ˜¯å¦å®‰è£…å¼€å‘åŒ…
# Ubuntu/Debianç³»ç»Ÿ
sudo apt update
sudo apt install build-essential  # åŸºç¡€ç¼–è¯‘å·¥å…·
sudo apt install libc6-dev        # Cæ ‡å‡†åº“å¼€å‘åŒ…

# CentOS/RHELç³»ç»Ÿ  
sudo yum groupinstall "Development Tools"
sudo yum install glibc-devel
```

**æ–¹æ³•äºŒï¼šæŸ¥æ‰¾å¤´æ–‡ä»¶ä½ç½®**
```bash
# æŸ¥æ‰¾å¤´æ–‡ä»¶åœ¨ç³»ç»Ÿä¸­çš„ä½ç½®
find /usr/include -name "stdio.h"
find /usr/include -name "*.h" | grep mysql

# æŸ¥çœ‹gccçš„é»˜è®¤æœç´¢è·¯å¾„
gcc -v -E -x c /dev/null
```

**æ–¹æ³•ä¸‰ï¼šæ‰‹åŠ¨æŒ‡å®šå¤´æ–‡ä»¶è·¯å¾„**
```bash
# ç¼–è¯‘æ—¶æŒ‡å®šå¤´æ–‡ä»¶ç›®å½•
gcc -I/usr/include/mysql program.c -o program

# æŒ‡å®šå¤šä¸ªå¤´æ–‡ä»¶ç›®å½•
gcc -I./include -I/opt/local/include program.c -o program
```

### 3.3 ç¬¬ä¸‰æ–¹åº“å¤´æ–‡ä»¶é—®é¢˜


**ğŸ“¦ å¸¸è§ç¬¬ä¸‰æ–¹åº“å®‰è£…**
```bash
# SDL2 å›¾å½¢åº“
sudo apt install libsdl2-dev        # Ubuntu
sudo yum install SDL2-devel         # CentOS

# OpenSSL åŠ å¯†åº“
sudo apt install libssl-dev         # Ubuntu
sudo yum install openssl-devel      # CentOS

# MySQL æ•°æ®åº“
sudo apt install libmysqlclient-dev # Ubuntu
sudo yum install mysql-devel        # CentOS
```

**ğŸ’¡ ä½¿ç”¨ pkg-config æŸ¥æ‰¾åº“ä¿¡æ¯**
```bash
# æŸ¥çœ‹åº“çš„ç¼–è¯‘å‚æ•°
pkg-config --cflags --libs sdl2
pkg-config --cflags --libs openssl

# åœ¨ç¼–è¯‘æ—¶ä½¿ç”¨
gcc $(pkg-config --cflags sdl2) program.c $(pkg-config --libs sdl2)
```

---

## 4. ğŸ“š åº“æ–‡ä»¶é“¾æ¥é”™è¯¯


### 4.1 undefined reference é”™è¯¯


**ğŸš¨ å…¸å‹é”™è¯¯ä¿¡æ¯**
```
undefined reference to `printf'
undefined reference to `sqrt'
undefined reference to `pthread_create'
/usr/bin/ld: cannot find -lmysql
```

**ğŸ¯ é”™è¯¯å«ä¹‰è§£é‡Š**
è¿™ç±»é”™è¯¯çš„æ„æ€æ˜¯ï¼šç¼–è¯‘å™¨çŸ¥é“ä½ è¦è°ƒç”¨ä»€ä¹ˆå‡½æ•°ï¼ˆå› ä¸ºå¤´æ–‡ä»¶ä¸­æœ‰å£°æ˜ï¼‰ï¼Œä½†æ˜¯æ‰¾ä¸åˆ°è¿™ä¸ªå‡½æ•°çš„å…·ä½“å®ç°ä»£ç ï¼ˆåº“æ–‡ä»¶ï¼‰ã€‚

```
ç±»æ¯”ç†è§£ï¼š
ä½ çŸ¥é“æŸä¸ªå•†åº—çš„ç”µè¯å·ç ï¼ˆå¤´æ–‡ä»¶ï¼‰ï¼Œ
ä½†æ˜¯æ‹¨æ‰“æ—¶å‘ç°å·ç ä¸å­˜åœ¨ï¼ˆåº“æ–‡ä»¶ç¼ºå¤±ï¼‰
```

### 4.2 é“¾æ¥åº“çš„æ­£ç¡®æ–¹æ³•


**åŸºç¡€åº“é“¾æ¥**
```bash
# é“¾æ¥æ•°å­¦åº“
gcc program.c -lm -o program

# é“¾æ¥å¤šä¸ªåº“
gcc program.c -lm -lpthread -o program

# æŒ‡å®šåº“æ–‡ä»¶è·¯å¾„
gcc program.c -L/usr/local/lib -lmylibrary -o program
```

**é™æ€åº“ vs åŠ¨æ€åº“**
```
é™æ€åº“ (.aæ–‡ä»¶)ï¼š
âœ… ä»£ç ç›´æ¥ç¼–è¯‘åˆ°ç¨‹åºä¸­
âœ… ç¨‹åºç‹¬ç«‹è¿è¡Œï¼Œä¸ä¾èµ–å¤–éƒ¨æ–‡ä»¶
âŒ ç¨‹åºæ–‡ä»¶è¾ƒå¤§

åŠ¨æ€åº“ (.soæ–‡ä»¶)ï¼š
âœ… ç¨‹åºæ–‡ä»¶å°ï¼Œå¤šç¨‹åºå…±äº«
âŒ è¿è¡Œæ—¶éœ€è¦åº“æ–‡ä»¶å­˜åœ¨
âŒ å¯èƒ½å‡ºç°ç‰ˆæœ¬å†²çª
```

### 4.3 å¸¸ç”¨åº“çš„é“¾æ¥æ–¹æ³•


```bash
# æ•°å­¦å‡½æ•°åº“ (sin, cos, sqrtç­‰)
gcc program.c -lm

# çº¿ç¨‹åº“ (pthreadç›¸å…³å‡½æ•°)  
gcc program.c -lpthread

# ç½‘ç»œåº“ (socketç›¸å…³å‡½æ•°)
gcc program.c -lnsl -lsocket  # Solaris
# Linuxé€šå¸¸ä¸éœ€è¦é¢å¤–é“¾æ¥

# OpenSSLåŠ å¯†åº“
gcc program.c -lssl -lcrypto

# æ•°æ®åº“ç›¸å…³
gcc program.c $(mysql_config --cflags --libs)  # MySQL
gcc program.c -lpq  # PostgreSQL
```

---

## 5. ğŸ”— ç¬¦å·æœªå®šä¹‰é—®é¢˜


### 5.1 ç¬¦å·æœªå®šä¹‰çš„ç±»å‹


**å‡½æ•°ç¬¦å·æœªå®šä¹‰**
```c
// é”™è¯¯ç¤ºä¾‹
#include <stdio.h>

int main() {
    my_function();  // å‡½æ•°å£°æ˜äº†ä½†æ²¡æœ‰å®šä¹‰
    return 0;
}

// è§£å†³æ–¹æ³•ï¼šæä¾›å‡½æ•°å®šä¹‰
void my_function() {
    printf("Hello World\n");
}
```

**å˜é‡ç¬¦å·æœªå®šä¹‰**
```c
// é”™è¯¯ç¤ºä¾‹
extern int global_var;  // å£°æ˜å¤–éƒ¨å˜é‡

int main() {
    printf("%d\n", global_var);  // ä½†å˜é‡æ²¡æœ‰å®šä¹‰
    return 0;
}

// è§£å†³æ–¹æ³•ï¼šåœ¨æŸä¸ªæ–‡ä»¶ä¸­å®šä¹‰
int global_var = 42;
```

### 5.2 å¤šæ–‡ä»¶é¡¹ç›®çš„ç¬¦å·é—®é¢˜


**é¡¹ç›®ç»“æ„ç¤ºä¾‹**
```
project/
â”œâ”€â”€ main.c          # ä¸»ç¨‹åº
â”œâ”€â”€ utils.c         # å·¥å…·å‡½æ•°å®ç°
â”œâ”€â”€ utils.h         # å·¥å…·å‡½æ•°å£°æ˜
â””â”€â”€ Makefile        # æ„å»ºæ–‡ä»¶
```

**utils.h - å¤´æ–‡ä»¶**
```c
#ifndef UTILS_H
#define UTILS_H

// å‡½æ•°å£°æ˜
int add_numbers(int a, int b);
void print_message(const char* msg);

#endif
```

**utils.c - å®ç°æ–‡ä»¶**
```c
#include "utils.h"
#include <stdio.h>

// å‡½æ•°å®šä¹‰
int add_numbers(int a, int b) {
    return a + b;
}

void print_message(const char* msg) {
    printf("Message: %s\n", msg);
}
```

**main.c - ä¸»ç¨‹åº**
```c
#include <stdio.h>
#include "utils.h"

int main() {
    int result = add_numbers(5, 3);
    print_message("Hello World");
    return 0;
}
```

**æ­£ç¡®çš„ç¼–è¯‘å‘½ä»¤**
```bash
# æ–¹æ³•1ï¼šä¸€æ¬¡ç¼–è¯‘æ‰€æœ‰æºæ–‡ä»¶
gcc main.c utils.c -o program

# æ–¹æ³•2ï¼šåˆ†åˆ«ç¼–è¯‘å†é“¾æ¥
gcc -c main.c -o main.o
gcc -c utils.c -o utils.o  
gcc main.o utils.o -o program
```

### 5.3 C++ç‰¹æœ‰çš„ç¬¦å·é—®é¢˜


**åå­—ä¿®é¥°ï¼ˆName Manglingï¼‰**
```cpp
// C++ä¸­å‡½æ•°åä¼šè¢«ä¿®é¥°
void func(int x);        // å®é™…ç¬¦å·ï¼š_Z4funci
void func(double x);     // å®é™…ç¬¦å·ï¼š_Z4funcd

// ä½¿ç”¨ extern "C" é¿å…åå­—ä¿®é¥°
extern "C" {
    void c_function(int x);  // ç¬¦å·ï¼šc_function
}
```

**æ¨¡æ¿ç¬¦å·é—®é¢˜**
```cpp
// æ¨¡æ¿å‡½æ•°å¿…é¡»åœ¨å¤´æ–‡ä»¶ä¸­å®ç°
template<typename T>
T max_value(T a, T b) {
    return (a > b) ? a : b;
}
```

---

## 6. ğŸ“¦ ç‰ˆæœ¬å…¼å®¹æ€§é”™è¯¯


### 6.1 APIç‰ˆæœ¬å˜åŒ–é—®é¢˜


**ğŸš¨ å…¸å‹é”™è¯¯åœºæ™¯**
```
æ—§ä»£ç ä½¿ç”¨äº†å·²åºŸå¼ƒçš„å‡½æ•°ï¼š
warning: 'gets' is deprecated
error: 'sprintf' is unsafe, use 'snprintf'
```

**ğŸ“Š å¸¸è§ç‰ˆæœ¬å…¼å®¹æ€§é—®é¢˜**

| é—®é¢˜ç±»å‹ | **å…¸å‹è¡¨ç°** | **è§£å†³ç­–ç•¥** |
|---------|-------------|-------------|
| ğŸ”„ **APIå˜æ›´** | `å‡½æ•°ç­¾åæ”¹å˜` | `æŸ¥é˜…æ–°ç‰ˆæœ¬æ–‡æ¡£ï¼Œä¿®æ”¹è°ƒç”¨æ–¹å¼` |
| âš ï¸ **å‡½æ•°åºŸå¼ƒ** | `deprecatedè­¦å‘Š` | `ä½¿ç”¨æ¨èçš„æ›¿ä»£å‡½æ•°` |
| ğŸ“š **åº“ç‰ˆæœ¬ä¸åŒ¹é…** | `ç¬¦å·ç‰ˆæœ¬é”™è¯¯` | `å®‰è£…åŒ¹é…çš„åº“ç‰ˆæœ¬` |
| ğŸ”§ **ç¼–è¯‘å™¨ç‰ˆæœ¬** | `ä¸æ”¯æŒæ–°è¯­æ³•ç‰¹æ€§` | `å‡çº§ç¼–è¯‘å™¨æˆ–ä½¿ç”¨å…¼å®¹è¯­æ³•` |

### 6.2 è§£å†³ç‰ˆæœ¬å…¼å®¹æ€§çš„æ–¹æ³•


**æ–¹æ³•ä¸€ï¼šç‰ˆæœ¬æ£€æµ‹**
```c
#include <stdio.h>

// æ£€æŸ¥glibcç‰ˆæœ¬
#ifdef __GLIBC__
    #if __GLIBC__ >= 2 && __GLIBC_MINOR__ >= 15
        // æ–°ç‰ˆæœ¬ä»£ç 
        #define USE_NEW_API
    #endif
#endif

int main() {
#ifdef USE_NEW_API
    // ä½¿ç”¨æ–°çš„API
    printf("Using new API\n");
#else
    // ä½¿ç”¨æ—§çš„API  
    printf("Using old API\n");
#endif
    return 0;
}
```

**æ–¹æ³•äºŒï¼šæ¡ä»¶ç¼–è¯‘**
```c
// æ ¹æ®ç³»ç»Ÿç‰¹æ€§é€‰æ‹©å®ç°
#ifdef HAVE_STRLCPY
    strlcpy(dest, src, sizeof(dest));
#else
    strncpy(dest, src, sizeof(dest) - 1);
    dest[sizeof(dest) - 1] = '\0';
#endif
```

**æ–¹æ³•ä¸‰ï¼šä½¿ç”¨å…¼å®¹æ€§å®**
```c
// å®šä¹‰å…¼å®¹æ€§å®
#ifndef HAVE_SNPRINTF
    #define snprintf _snprintf
#endif

#ifndef HAVE_STRCASECMP
    #define strcasecmp _stricmp
#endif
```

### 6.3 åº“ç‰ˆæœ¬ç®¡ç†


**æŸ¥çœ‹åº“ç‰ˆæœ¬ä¿¡æ¯**
```bash
# æŸ¥çœ‹åŠ¨æ€åº“ç‰ˆæœ¬
ldd /usr/bin/gcc
ldconfig -p | grep libc

# æŸ¥çœ‹pkg-configåº“ç‰ˆæœ¬
pkg-config --modversion gtk+-3.0
pkg-config --modversion openssl

# æŸ¥çœ‹ç¼–è¯‘å™¨ç‰ˆæœ¬
gcc --version
clang --version
```

**ç®¡ç†å¤šç‰ˆæœ¬åº“**
```bash
# ä½¿ç”¨update-alternativesç®¡ç†å¤šç‰ˆæœ¬
sudo update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-7 70
sudo update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-9 90

# åˆ‡æ¢ç‰ˆæœ¬
sudo update-alternatives --config gcc
```

---

## 7. âš™ï¸ ç¯å¢ƒé…ç½®é—®é¢˜


### 7.1 ç¼–è¯‘å™¨è·¯å¾„é—®é¢˜


**ğŸš¨ å…¸å‹é”™è¯¯ä¿¡æ¯**
```
bash: gcc: command not found
bash: make: command not found
error: Microsoft Visual C++ 14.0 is required
```

### 7.2 ç¯å¢ƒå˜é‡é…ç½®


**PATHç¯å¢ƒå˜é‡**
```bash
# æŸ¥çœ‹å½“å‰PATH
echo $PATH

# ä¸´æ—¶æ·»åŠ è·¯å¾„
export PATH="/usr/local/bin:$PATH"

# æ°¸ä¹…æ·»åŠ åˆ°~/.bashrc
echo 'export PATH="/usr/local/bin:$PATH"' >> ~/.bashrc
source ~/.bashrc
```

**åº“è·¯å¾„ç¯å¢ƒå˜é‡**
```bash
# è®¾ç½®åº“æœç´¢è·¯å¾„
export LD_LIBRARY_PATH="/usr/local/lib:$LD_LIBRARY_PATH"

# è®¾ç½®pkg-configè·¯å¾„
export PKG_CONFIG_PATH="/usr/local/lib/pkgconfig:$PKG_CONFIG_PATH"

# è®¾ç½®ç¼–è¯‘å™¨åŒ…å«è·¯å¾„
export C_INCLUDE_PATH="/usr/local/include:$C_INCLUDE_PATH"
export CPLUS_INCLUDE_PATH="/usr/local/include:$CPLUS_INCLUDE_PATH"
```

### 7.3 è·¨å¹³å°ç¼–è¯‘é—®é¢˜


**Windows vs Linuxå·®å¼‚**
```c
// å¤´æ–‡ä»¶å·®å¼‚
#ifdef _WIN32
    #include <windows.h>
    #include <io.h>
#else
    #include <unistd.h>
    #include <sys/types.h>
#endif

// å‡½æ•°è°ƒç”¨å·®å¼‚
#ifdef _WIN32
    #define SLEEP(x) Sleep(x * 1000)
#else  
    #define SLEEP(x) sleep(x)
#endif
```

**ç¼–è¯‘å™¨ç‰¹å®šå¤„ç†**
```bash
# GCCç‰¹å®šé€‰é¡¹
gcc -Wall -Wextra -std=c99 program.c

# Clangç‰¹å®šé€‰é¡¹
clang -Weverything -std=c11 program.c

# MSVCç‰¹å®šå¤„ç†
cl /W4 /std:c11 program.c
```

---

## 8. ğŸ“ ç¼–è¯‘æ—¥å¿—åˆ†ææŠ€å·§


### 8.1 è¯»æ‡‚ç¼–è¯‘é”™è¯¯ä¿¡æ¯


**é”™è¯¯ä¿¡æ¯çš„ç»“æ„**
```
é”™è¯¯ä¿¡æ¯æ ¼å¼ï¼š
æ–‡ä»¶å:è¡Œå·:åˆ—å·: é”™è¯¯çº§åˆ«: é”™è¯¯æè¿°

ç¤ºä¾‹ï¼š
main.c:15:5: error: use of undeclared identifier 'printf'
â”‚     â”‚ â”‚ â”‚      â”‚
â”‚     â”‚ â”‚ â”‚      â””â”€â”€ é”™è¯¯æè¿°
â”‚     â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ é”™è¯¯çº§åˆ«
â”‚     â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ åˆ—å·  
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ è¡Œå·
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ æ–‡ä»¶å
```

**ğŸ” åˆ†æé”™è¯¯ä¿¡æ¯çš„æ­¥éª¤**
```
ç¬¬ä¸€æ­¥ï¼šå®šä½ â†’ æ‰¾åˆ°å‡ºé”™çš„æ–‡ä»¶å’Œè¡Œå·
ç¬¬äºŒæ­¥ï¼šç†è§£ â†’ è¯»æ‡‚é”™è¯¯çš„å…·ä½“æè¿°
ç¬¬ä¸‰æ­¥ï¼šåˆ†ç±» â†’ åˆ¤æ–­æ˜¯è¯­æ³•ã€é“¾æ¥è¿˜æ˜¯ç¯å¢ƒé—®é¢˜  
ç¬¬å››æ­¥ï¼šè§£å†³ â†’ æ ¹æ®é”™è¯¯ç±»å‹é€‰æ‹©å¯¹åº”æ–¹æ³•
```

### 8.2 ä½¿ç”¨ç¼–è¯‘å™¨çš„è¯¦ç»†è¾“å‡º


**å¢åŠ ç¼–è¯‘å™¨è¾“å‡ºä¿¡æ¯**
```bash
# æ˜¾ç¤ºè¯¦ç»†ç¼–è¯‘è¿‡ç¨‹
gcc -v program.c -o program

# åªè¿›è¡Œè¯­æ³•æ£€æŸ¥ï¼Œä¸ç”Ÿæˆä»£ç 
gcc -fsyntax-only program.c  

# æ˜¾ç¤ºæ‰€æœ‰è­¦å‘Š
gcc -Wall -Wextra program.c

# ä¿ç•™ä¸­é—´æ–‡ä»¶ç”¨äºè°ƒè¯•
gcc -save-temps program.c
```

**æŸ¥çœ‹é¢„å¤„ç†ç»“æœ**
```bash
# æŸ¥çœ‹é¢„å¤„ç†åçš„ä»£ç 
gcc -E program.c -o program.i

# æŸ¥çœ‹æ±‡ç¼–ä»£ç 
gcc -S program.c -o program.s

# æŸ¥çœ‹ç¼–è¯‘ä½†ä¸é“¾æ¥
gcc -c program.c -o program.o
```

### 8.3 è°ƒè¯•ç¼–è¯‘é—®é¢˜çš„å·¥å…·


**ä½¿ç”¨ ldd æ£€æŸ¥ä¾èµ–**
```bash
# æŸ¥çœ‹ç¨‹åºä¾èµ–çš„åŠ¨æ€åº“
ldd ./program

# æŸ¥çœ‹è¯¦ç»†çš„ä¾èµ–ä¿¡æ¯
ldd -v ./program

# æ£€æŸ¥ç¼ºå¤±çš„ä¾èµ–
ldd ./program | grep "not found"
```

**ä½¿ç”¨ nm æ£€æŸ¥ç¬¦å·**
```bash
# æŸ¥çœ‹ç›®æ ‡æ–‡ä»¶ä¸­çš„ç¬¦å·
nm program.o

# æŸ¥çœ‹åªåŒ…å«æœªå®šä¹‰ç¬¦å·
nm -u program.o

# æŸ¥çœ‹åŠ¨æ€ç¬¦å·
nm -D program
```

**ä½¿ç”¨ objdump åˆ†ææ–‡ä»¶**
```bash
# æŸ¥çœ‹ç›®æ ‡æ–‡ä»¶ä¿¡æ¯
objdump -t program.o

# åæ±‡ç¼–ä»£ç 
objdump -d program

# æŸ¥çœ‹ä¾èµ–åº“
objdump -p program | grep NEEDED
```

---

## 9. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 9.1 å¿…é¡»æŒæ¡çš„åŸºæœ¬æ¦‚å¿µ


```
ğŸ”¸ ç¼–è¯‘é”™è¯¯æœ¬è´¨ï¼šä»£ç ç¿»è¯‘è¿‡ç¨‹ä¸­çš„é—®é¢˜
ğŸ”¸ é”™è¯¯åˆ†ç±»ï¼šè¯­æ³•ã€å¤´æ–‡ä»¶ã€åº“æ–‡ä»¶ã€ç¬¦å·ã€ç‰ˆæœ¬ã€ç¯å¢ƒ
ğŸ”¸ è§£å†³æ€è·¯ï¼šå®šä½â†’ç†è§£â†’åˆ†ç±»â†’å¯¹ç—‡ä¸‹è¯
ğŸ”¸ é¢„é˜²æªæ–½ï¼šè§„èŒƒç¼–ç ã€ç‰ˆæœ¬ç®¡ç†ã€ç¯å¢ƒé…ç½®
```

### 9.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ ç¼–è¯‘é”™è¯¯è§£å†³çš„é€šç”¨æ€è·¯**
```
çœ‹é”™è¯¯ä¿¡æ¯ â†’ æ‰¾å‡†é”™è¯¯ç±»å‹ â†’ é€‰å¯¹è§£å†³æ–¹æ³•

å¤´æ–‡ä»¶é—®é¢˜ â†’ æ£€æŸ¥å®‰è£…ã€è·¯å¾„é…ç½®
åº“æ–‡ä»¶é—®é¢˜ â†’ æ£€æŸ¥é“¾æ¥ã€ç‰ˆæœ¬åŒ¹é…  
ç¬¦å·é—®é¢˜   â†’ æ£€æŸ¥å®šä¹‰ã€å¤šæ–‡ä»¶ç¼–è¯‘
ç¯å¢ƒé—®é¢˜   â†’ æ£€æŸ¥PATHã€å·¥å…·å®‰è£…
```

**ğŸ”¹ é”™è¯¯ä¿¡æ¯è§£è¯»æŠ€å·§**
```
å…³é”®ä¿¡æ¯ä¼˜å…ˆçº§ï¼š
æ–‡ä»¶å:è¡Œå· â†’ å¿«é€Ÿå®šä½é—®é¢˜ä½ç½®
é”™è¯¯ç±»å‹   â†’ åˆ¤æ–­è§£å†³æ–¹å‘
é”™è¯¯æè¿°   â†’ äº†è§£å…·ä½“é—®é¢˜
```

### 9.3 å®ç”¨è§£å†³ç­–ç•¥


**ğŸ“Š å¸¸è§é—®é¢˜é€ŸæŸ¥è¡¨**

| é”™è¯¯å…³é”®è¯ | **å¯èƒ½åŸå› ** | **è§£å†³æ–¹å‘** |
|-----------|-------------|-------------|
| `No such file` | `å¤´æ–‡ä»¶ç¼ºå¤±` | `å®‰è£…å¼€å‘åŒ…ï¼Œæ£€æŸ¥è·¯å¾„` |
| `undefined reference` | `åº“æ–‡ä»¶é—®é¢˜` | `æ·»åŠ -lé“¾æ¥åº“` |
| `command not found` | `å·¥å…·æœªå®‰è£…` | `å®‰è£…ç¼–è¯‘å™¨å·¥å…·` |
| `deprecated` | `ç‰ˆæœ¬å…¼å®¹æ€§` | `æ›´æ–°ä»£ç æˆ–é™çº§åº“` |

**ğŸ¯ é¢„é˜²ç¼–è¯‘é”™è¯¯çš„æœ€ä½³å®è·µ**
```
ä»£ç å±‚é¢ï¼š
âœ… è§„èŒƒä½¿ç”¨å¤´æ–‡ä»¶ä¿æŠ¤ (#ifndef/#define/#endif)
âœ… æ­£ç¡®å£°æ˜å’Œå®šä¹‰åˆ†ç¦»
âœ… ä½¿ç”¨æ ‡å‡†åº“å‡½æ•°

ç¯å¢ƒå±‚é¢ï¼š  
âœ… ä¿æŒç¼–è¯‘å·¥å…·é“¾ç‰ˆæœ¬ä¸€è‡´
âœ… è§„èŒƒé…ç½®ç¯å¢ƒå˜é‡
âœ… ä½¿ç”¨åŒ…ç®¡ç†å™¨å®‰è£…ä¾èµ–

é¡¹ç›®å±‚é¢ï¼š
âœ… ç¼–å†™æ¸…æ™°çš„Makefile
âœ… æ–‡æ¡£åŒ–ç¼–è¯‘ä¾èµ–å’Œæ­¥éª¤
âœ… ä½¿ç”¨ç‰ˆæœ¬æ§åˆ¶ç®¡ç†ä»£ç 
```

### 9.4 å­¦ä¹ å»ºè®®


**ğŸ”§ å®è·µæå‡æŠ€å·§**
- **å¤šç¼–è¯‘**ï¼šç»å¸¸ç¼–è¯‘ä»£ç ï¼Œç†Ÿæ‚‰é”™è¯¯æ¨¡å¼
- **è¯»æ—¥å¿—**ï¼šä»”ç»†é˜…è¯»ç¼–è¯‘å™¨è¾“å‡ºä¿¡æ¯
- **åšç¬”è®°**ï¼šè®°å½•é‡åˆ°çš„é—®é¢˜å’Œè§£å†³æ–¹æ³•
- **ç”¨å·¥å…·**ï¼šç†Ÿç»ƒæŒæ¡è°ƒè¯•å·¥å…·çš„ä½¿ç”¨

**ğŸ“š æ·±å…¥å­¦ä¹ æ–¹å‘**
- ç†è§£ç¼–è¯‘åŸç†åŸºç¡€çŸ¥è¯†
- å­¦ä¹ Makefileå’ŒCMakeæ„å»ºç³»ç»Ÿ
- æŒæ¡è°ƒè¯•å™¨(gdb)çš„ä½¿ç”¨æ–¹æ³•
- äº†è§£è½¯ä»¶åŒ…ç®¡ç†å’Œä¾èµ–ç®¡ç†

> ğŸ’¡ **æ ¸å¿ƒè®°å¿†**ï¼šç¼–è¯‘é”™è¯¯ä¸å¯æ€•ï¼Œå…³é”®æ˜¯è¦ä¼šçœ‹é”™è¯¯ä¿¡æ¯ã€æ‡‚å¾—åˆ†ç±»å¤„ç†ã€‚å¤šå®è·µã€å¤šæ€»ç»“ï¼Œå¾ˆå¿«å°±èƒ½æˆä¸ºç¼–è¯‘é—®é¢˜è§£å†³çš„ä¸“å®¶ï¼

**ğŸ”‘ ä¸€å¥è¯æ€»ç»“**ï¼šç¼–è¯‘é”™è¯¯å°±åƒç¿»è¯‘ä¸­é‡åˆ°çš„é—®é¢˜ï¼Œæ‰¾å¯¹è¯å…¸ï¼ˆå·¥å…·ï¼‰ã€ç†è§£è¯­æ³•ï¼ˆè§„åˆ™ï¼‰ã€é…ç½®ç¯å¢ƒï¼ˆè®¾ç½®ï¼‰ï¼Œé—®é¢˜è‡ªç„¶è¿åˆƒè€Œè§£ã€‚