---
title: 3ã€bzip2é«˜å‹ç¼©æ¯”å·¥å…·åº”ç”¨
---
## ğŸ“š ç›®å½•

1. [bzip2å‹ç¼©å·¥å…·æ¦‚è¿°](#1-bzip2å‹ç¼©å·¥å…·æ¦‚è¿°)
2. [bzip2æ ¸å¿ƒå‘½ä»¤ä¸å‹ç¼©çº§åˆ«](#2-bzip2æ ¸å¿ƒå‘½ä»¤ä¸å‹ç¼©çº§åˆ«)
3. [.bz2æ–‡ä»¶æ ¼å¼ç‰¹ç‚¹ä¸é€‚ç”¨åœºæ™¯](#3-bz2æ–‡ä»¶æ ¼å¼ç‰¹ç‚¹ä¸é€‚ç”¨åœºæ™¯)
4. [bzip2ä¸gzipå‹ç¼©æ•ˆæœå¯¹æ¯”](#4-bzip2ä¸gzipå‹ç¼©æ•ˆæœå¯¹æ¯”)
5. [å‹ç¼©æ–‡ä»¶æŸ¥çœ‹å·¥å…·è¯¦è§£](#5-å‹ç¼©æ–‡ä»¶æŸ¥çœ‹å·¥å…·è¯¦è§£)
6. [tarä¸bzip2é›†æˆåº”ç”¨](#6-tarä¸bzip2é›†æˆåº”ç”¨)
7. [å¹¶è¡Œå‹ç¼©ä¸æ€§èƒ½ä¼˜åŒ–](#7-å¹¶è¡Œå‹ç¼©ä¸æ€§èƒ½ä¼˜åŒ–)
8. [å‹ç¼©æ–‡ä»¶å®Œæ•´æ€§éªŒè¯](#8-å‹ç¼©æ–‡ä»¶å®Œæ•´æ€§éªŒè¯)
9. [å‹ç¼©ç­–ç•¥é€‰æ‹©ä¸æƒè¡¡](#9-å‹ç¼©ç­–ç•¥é€‰æ‹©ä¸æƒè¡¡)
10. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#10-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ—œï¸ bzip2å‹ç¼©å·¥å…·æ¦‚è¿°


### 1.1 bzip2åŸºæœ¬æ¦‚å¿µ


**ğŸ”¸ ä»€ä¹ˆæ˜¯bzip2**
```
bzip2ï¼šBlock-sorting File Compressor çš„ç¼©å†™
æœ¬è´¨ï¼šä¸€ç§é«˜æ•ˆçš„æ— æŸæ•°æ®å‹ç¼©å·¥å…·
ç‰¹ç‚¹ï¼šæ¯”gzipæœ‰æ›´é«˜çš„å‹ç¼©æ¯”ï¼Œä½†å‹ç¼©é€Ÿåº¦è¾ƒæ…¢
æ–‡ä»¶æ‰©å±•åï¼š.bz2
```

**ğŸ’¡ bzip2çš„æ ¸å¿ƒä¼˜åŠ¿**
```
å‹ç¼©æ¯”ä¼˜ç§€ï¼šé€šå¸¸æ¯”gzipé«˜10-15%
æ–‡ä»¶å®Œæ•´æ€§ï¼šå†…ç½®CRCæ ¡éªŒï¼Œç¡®ä¿æ•°æ®å®Œæ•´æ€§
æ¢å¤èƒ½åŠ›ï¼šæ”¯æŒéƒ¨åˆ†æŸåæ–‡ä»¶çš„æ•°æ®æ¢å¤
è·¨å¹³å°æ€§ï¼šLinux/Windows/macOSå‡æ”¯æŒ
```

### 1.2 bzip2å·¥ä½œåŸç†ç®€ä»‹


**ğŸ”§ å‹ç¼©ç®—æ³•åŸç†**
```
æ­¥éª¤1ï¼šBurrows-Wheelerå˜æ¢
- å°†æ•°æ®é‡æ–°æ’åˆ—ï¼Œç›¸åŒå­—ç¬¦èšé›†
- æé«˜æ•°æ®çš„å±€éƒ¨ç›¸ä¼¼æ€§

æ­¥éª¤2ï¼šMove-to-Frontå˜æ¢  
- å°†é‡å¤å‡ºç°çš„å­—ç¬¦ç”¨è¾ƒå°æ•°å­—è¡¨ç¤º
- è¿›ä¸€æ­¥é™ä½æ•°æ®å¤æ‚åº¦

æ­¥éª¤3ï¼šHuffmanç¼–ç 
- ä¸ºé¢‘ç¹å‡ºç°çš„å­—ç¬¦åˆ†é…çŸ­ç¼–ç 
- æœ€ç»ˆå®ç°æ•°æ®å‹ç¼©
```

**ğŸ“Š å‹ç¼©æµç¨‹å›¾ç¤º**
```
åŸå§‹æ–‡ä»¶
    â†“
[BWTå˜æ¢] â† æ ¸å¿ƒç®—æ³•
    â†“
[MTFå˜æ¢] â† ä¼˜åŒ–ç¼–ç 
    â†“
[Huffmanç¼–ç ] â† æœ€ç»ˆå‹ç¼©
    â†“
.bz2å‹ç¼©æ–‡ä»¶
```

### 1.3 bzip2å‘½ä»¤æ—æ¦‚è¿°


| å‘½ä»¤ | **åŠŸèƒ½è¯´æ˜** | **ä¸»è¦ç”¨é€”** |
|------|-------------|-------------|
| `bzip2` | å‹ç¼©æ–‡ä»¶ | å°†æ–‡ä»¶å‹ç¼©ä¸º.bz2æ ¼å¼ |
| `bunzip2` | è§£å‹ç¼©æ–‡ä»¶ | è§£å‹.bz2æ–‡ä»¶ |
| `bzcat` | æŸ¥çœ‹å‹ç¼©æ–‡ä»¶å†…å®¹ | ä¸è§£å‹ç›´æ¥æŸ¥çœ‹ |
| `bzmore/bzless` | åˆ†é¡µæŸ¥çœ‹å‹ç¼©æ–‡ä»¶ | å¤§æ–‡ä»¶åˆ†é¡µæµè§ˆ |
| `bzdiff` | æ¯”è¾ƒå‹ç¼©æ–‡ä»¶ | å¯¹æ¯”ä¸¤ä¸ª.bz2æ–‡ä»¶å†…å®¹ |
| `bzgrep` | åœ¨å‹ç¼©æ–‡ä»¶ä¸­æœç´¢ | ä¸è§£å‹ç›´æ¥æœç´¢å†…å®¹ |

---

## 2. ğŸ›ï¸ bzip2æ ¸å¿ƒå‘½ä»¤ä¸å‹ç¼©çº§åˆ«


### 2.1 bzip2åŸºæœ¬å‘½ä»¤ç”¨æ³•


**ğŸ”¸ åŸºæœ¬å‹ç¼©è¯­æ³•**
```bash
# åŸºæœ¬å‹ç¼©ï¼ˆåˆ é™¤åŸæ–‡ä»¶ï¼‰
bzip2 filename

# ä¿ç•™åŸæ–‡ä»¶å‹ç¼©
bzip2 -k filename

# è¯¦ç»†è¾“å‡ºå‹ç¼©è¿‡ç¨‹
bzip2 -v filename
```

**ğŸ’» å®é™…æ“ä½œç¤ºä¾‹**
```bash
# å‹ç¼©å•ä¸ªæ–‡ä»¶
$ ls -lh document.txt
-rw-r--r-- 1 user user 5.2M Jan 15 10:30 document.txt

$ bzip2 -k -v document.txt
  document.txt:  3.156:1,  2.536 bits/byte, 68.30% saved, 5459712 in, 1729580 out.

$ ls -lh document.*
-rw-r--r-- 1 user user 5.2M Jan 15 10:30 document.txt
-rw-r--r-- 1 user user 1.7M Jan 15 10:31 document.txt.bz2
```

**ğŸ”§ bunzip2è§£å‹å‘½ä»¤**
```bash
# åŸºæœ¬è§£å‹ï¼ˆåˆ é™¤å‹ç¼©æ–‡ä»¶ï¼‰
bunzip2 filename.bz2

# ä¿ç•™å‹ç¼©æ–‡ä»¶è§£å‹
bunzip2 -k filename.bz2

# å¼ºåˆ¶è¦†ç›–å·²å­˜åœ¨æ–‡ä»¶
bunzip2 -f filename.bz2
```

### 2.2 å‹ç¼©çº§åˆ«è¯¦è§£ï¼ˆ-1åˆ°-9ï¼‰


**ğŸ“Š å‹ç¼©çº§åˆ«å¯¹æ¯”è¡¨**
| çº§åˆ« | **å‹ç¼©æ¯”** | **é€Ÿåº¦** | **å†…å­˜ä½¿ç”¨** | **é€‚ç”¨åœºæ™¯** |
|------|-----------|---------|-------------|-------------|
| `-1` | æœ€ä½ | æœ€å¿« | ~600KB | å¿«é€Ÿå‹ç¼© |
| `-2` | è¾ƒä½ | è¾ƒå¿« | ~900KB | æ—¥å¸¸ä½¿ç”¨ |
| `-3` | ä½ | å¿« | ~1.3MB | å¹³è¡¡é€‰æ‹© |
| `-4` | ä¸­ä½ | ä¸­ç­‰ | ~1.7MB | ä¸€èˆ¬æ–‡æ¡£ |
| `-5` | ä¸­ç­‰ | ä¸­ç­‰ | ~2.1MB | ä¸­ç­‰æ–‡ä»¶ |
| `-6` | **é»˜è®¤** | **å¹³è¡¡** | **~2.5MB** | **æ¨èè®¾ç½®** |
| `-7` | é«˜ | è¾ƒæ…¢ | ~3.0MB | å­˜æ¡£å¤‡ä»½ |
| `-8` | å¾ˆé«˜ | æ…¢ | ~3.4MB | é•¿æœŸå­˜å‚¨ |
| `-9` | æœ€é«˜ | æœ€æ…¢ | ~3.8MB | æœ€å¤§å‹ç¼© |

**ğŸ’¡ å‹ç¼©çº§åˆ«é€‰æ‹©æŒ‡å—**
```bash
# å¿«é€Ÿå‹ç¼©ï¼ˆæµ‹è¯•ç¯å¢ƒï¼‰
bzip2 -1 test_file.txt

# å¹³è¡¡å‹ç¼©ï¼ˆæ—¥å¸¸ä½¿ç”¨ï¼‰
bzip2 -6 document.txt    # é»˜è®¤çº§åˆ«

# æœ€å¤§å‹ç¼©ï¼ˆå½’æ¡£å­˜å‚¨ï¼‰
bzip2 -9 archive_data.txt

# æ‰¹é‡å‹ç¼©ä¸åŒçº§åˆ«
for level in {1..9}; do
    bzip2 -$level -k sample.txt
    mv sample.txt.bz2 sample_level${level}.bz2
done
```

### 2.3 é«˜çº§å‹ç¼©é€‰é¡¹


**ğŸ”§ å®ç”¨å‹ç¼©é€‰é¡¹**
```bash
# é™é»˜æ¨¡å¼ï¼ˆæ— è¾“å‡ºï¼‰
bzip2 -q filename

# æµ‹è¯•å‹ç¼©æ•ˆæœï¼ˆä¸ç”Ÿæˆæ–‡ä»¶ï¼‰
bzip2 -c filename > /dev/null

# å‹ç¼©åˆ°æ ‡å‡†è¾“å‡º
bzip2 -c filename > filename.bz2

# é€’å½’å‹ç¼©ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶
find /path/to/dir -name "*.txt" -exec bzip2 -k {} \;
```

**âš ï¸ é‡è¦æ³¨æ„äº‹é¡¹**
> **è­¦å‘Šï¼š** é»˜è®¤æƒ…å†µä¸‹ï¼Œbzip2ä¼š**åˆ é™¤åŸæ–‡ä»¶**
> 
> ä½¿ç”¨ `-k` é€‰é¡¹ä¿ç•™åŸæ–‡ä»¶ï¼Œé¿å…æ•°æ®ä¸¢å¤±

---

## 3. ğŸ“„ .bz2æ–‡ä»¶æ ¼å¼ç‰¹ç‚¹ä¸é€‚ç”¨åœºæ™¯


### 3.1 .bz2æ–‡ä»¶æ ¼å¼ç‰¹ç‚¹


**ğŸ”¸ .bz2æ ¼å¼æŠ€æœ¯ç‰¹ç‚¹**
```
æ–‡ä»¶å¤´æ ‡è¯†ï¼š'BZ'
å‹ç¼©å—å¤§å°ï¼š100KB-900KBå¯è°ƒ
æ ¡éªŒæœºåˆ¶ï¼š32ä½CRCæ ¡éªŒç 
æ¢å¤èƒ½åŠ›ï¼šæ”¯æŒå—çº§åˆ«é”™è¯¯æ¢å¤
å…¼å®¹æ€§ï¼šå¹¿æ³›çš„è·¨å¹³å°æ”¯æŒ
```

**ğŸ“Š æ–‡ä»¶æ ¼å¼ç»“æ„å›¾ç¤º**
```
.bz2æ–‡ä»¶ç»“æ„ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ–‡ä»¶å¤´ (Magic: "BZ")           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å‹ç¼©å—1 (100KB-900KB)          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å‹ç¼©å—2                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ...                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å‹ç¼©å—N                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æ–‡ä»¶å°¾ + CRCæ ¡éªŒç              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 .bz2é€‚ç”¨åœºæ™¯åˆ†æ


**âœ… æœ€é€‚åˆçš„ä½¿ç”¨åœºæ™¯**

**ğŸ¯ é•¿æœŸæ•°æ®å½’æ¡£**
```bash
# å½’æ¡£æ—¥å¿—æ–‡ä»¶
bzip2 -9 access.log.2024-01-*

# å¤‡ä»½é…ç½®æ–‡ä»¶
tar -jcf system_backup.tar.bz2 /etc/
```

**ğŸ¯ ç½‘ç»œä¼ è¾“ä¼˜åŒ–**
```bash
# ä¼˜åŒ–å¸¦å®½ä½¿ç”¨
bzip2 -8 large_database_dump.sql
# ç»“æœï¼šå¯èŠ‚çœ15-20%çš„ä¼ è¾“æ—¶é—´
```

**ğŸ¯ å­˜å‚¨ç©ºé—´å—é™ç¯å¢ƒ**
```bash
# åµŒå…¥å¼è®¾å¤‡å­˜å‚¨ä¼˜åŒ–
bzip2 -9 firmware_image.bin
```

**âŒ ä¸é€‚åˆçš„åœºæ™¯**

**âš ï¸ é¢‘ç¹è®¿é—®çš„æ–‡ä»¶**
```
åŸå› ï¼šæ¯æ¬¡è®¿é—®éƒ½éœ€è¦è§£å‹
å½±å“ï¼šå¢åŠ CPUè´Ÿæ‹…å’Œå“åº”æ—¶é—´
å»ºè®®ï¼šä½¿ç”¨gzipæˆ–ä¿æŒåŸæ ¼å¼
```

**âš ï¸ å®æ—¶æ€§è¦æ±‚é«˜çš„åœºæ™¯**
```
åŸå› ï¼šå‹ç¼©/è§£å‹é€Ÿåº¦è¾ƒæ…¢
å½±å“ï¼šå¢åŠ å¤„ç†å»¶è¿Ÿ
å»ºè®®ï¼šé€‰æ‹©æ›´å¿«çš„å‹ç¼©ç®—æ³•
```

### 3.3 .bz2æ ¼å¼ä¼˜åŠ¿ä¸å±€é™


**ğŸ”‹ æ€§èƒ½ç‰¹ç‚¹å¯¹æ¯”**
```
å‹ç¼©æ¯”ä¼˜åŠ¿:
æ–‡æœ¬æ–‡ä»¶: é€šå¸¸æ¯”gzipé«˜10-15%
äºŒè¿›åˆ¶æ–‡ä»¶: æå‡æ•ˆæœå› æ–‡ä»¶è€Œå¼‚
é‡å¤æ•°æ®: å‹ç¼©æ•ˆæœæ˜¾è‘—

æ—¶é—´å¼€é”€:
å‹ç¼©æ—¶é—´: æ¯”gzipæ…¢2-3å€
è§£å‹æ—¶é—´: æ¯”gzipæ…¢çº¦50%
```

---

## 4. âš”ï¸ bzip2ä¸gzipå‹ç¼©æ•ˆæœå¯¹æ¯”


### 4.1 è¯¦ç»†æ€§èƒ½å¯¹æ¯”æµ‹è¯•


**ğŸ“Š çœŸå®æ•°æ®å‹ç¼©æµ‹è¯•**
```bash
# æµ‹è¯•æ–‡ä»¶ï¼š1GBæ—¥å¿—æ–‡ä»¶
åŸå§‹å¤§å°: 1,073,741,824 bytes (1.0 GB)

gzipå‹ç¼©ç»“æœ:
$ time gzip -6 logfile.txt
real    0m42.3s
user    0m41.8s  
sys     0m0.5s
å‹ç¼©åå¤§å°: 125,829,374 bytes (120 MB)
å‹ç¼©æ¯”: 88.3%

bzip2å‹ç¼©ç»“æœ:
$ time bzip2 -6 logfile.txt
real    2m18.6s
user    2m17.9s
sys     0m0.7s  
å‹ç¼©åå¤§å°: 98,736,521 bytes (94 MB)
å‹ç¼©æ¯”: 90.8%
```

**ğŸ“ˆ å‹ç¼©æ•ˆæœå¯¹æ¯”è¡¨**
| æ–‡ä»¶ç±»å‹ | **gzip -6** | **bzip2 -6** | **bzip2ä¼˜åŠ¿** | **æ—¶é—´å¯¹æ¯”** |
|----------|------------|-------------|--------------|-------------|
| æ–‡æœ¬æ–‡æ¡£ | 75% | 85% | +10% | æ…¢2.5å€ |
| æ—¥å¿—æ–‡ä»¶ | 88% | 91% | +3% | æ…¢3å€ |
| æºä»£ç  | 82% | 87% | +5% | æ…¢2.8å€ |
| æ•°æ®åº“å¯¼å‡º | 79% | 84% | +5% | æ…¢2.2å€ |
| é…ç½®æ–‡ä»¶ | 70% | 80% | +10% | æ…¢2å€ |

### 4.2 é€‰æ‹©ç­–ç•¥å†³ç­–æ ‘


**ğŸ”€ å‹ç¼©å·¥å…·é€‰æ‹©æµç¨‹**
```
å¼€å§‹é€‰æ‹©å‹ç¼©å·¥å…·
          â†“
    æ˜¯å¦å­˜å‚¨ç©ºé—´ç´§å¼ ï¼Ÿ
    â†“Yes              â†“No
é€‰æ‹©bzip2(-8/-9)   å‹ç¼©é€Ÿåº¦è¦æ±‚é«˜ï¼Ÿ
                  â†“Yes        â†“No
               é€‰æ‹©gzip     å¹³è¡¡è€ƒè™‘ï¼Ÿ
                          â†“Yes    â†“No
                      é€‰æ‹©bzip2-6 å…·ä½“åˆ†æ
```

**ğŸ’¡ å®ç”¨é€‰æ‹©å»ºè®®**
```bash
# å¿«é€Ÿå¤‡ä»½ - é€‰æ‹©gzip
tar -zcf backup_$(date +%Y%m%d).tar.gz /important/data/

# é•¿æœŸå½’æ¡£ - é€‰æ‹©bzip2
tar -jcf archive_$(date +%Y%m%d).tar.bz2 /historical/data/

# ç½‘ç»œä¼ è¾“ - æ ¹æ®å¸¦å®½é€‰æ‹©
# å¸¦å®½å……è¶³ï¼šgzipï¼ˆé€Ÿåº¦ä¼˜å…ˆï¼‰
# å¸¦å®½å—é™ï¼šbzip2ï¼ˆå¤§å°ä¼˜å…ˆï¼‰
```

### 4.3 æ··åˆä½¿ç”¨ç­–ç•¥


**ğŸ”§ æ™ºèƒ½å‹ç¼©è„šæœ¬ç¤ºä¾‹**
```bash
#!/bin/bash
# æ™ºèƒ½é€‰æ‹©å‹ç¼©å·¥å…·

smart_compress() {
    local file=$1
    local size=$(stat -f%z "$file" 2>/dev/null || stat -c%s "$file")
    
    if [ $size -lt 1048576 ]; then
        # å°äº1MBï¼Œä½¿ç”¨gzipï¼ˆé€Ÿåº¦ä¼˜å…ˆï¼‰
        echo "å°æ–‡ä»¶ï¼Œä½¿ç”¨gzipå‹ç¼©"
        gzip -6 "$file"
    elif [ $size -lt 104857600 ]; then
        # 1MB-100MBï¼Œä½¿ç”¨bzip2å¹³è¡¡æ¨¡å¼
        echo "ä¸­ç­‰æ–‡ä»¶ï¼Œä½¿ç”¨bzip2-6å‹ç¼©"
        bzip2 -6 "$file"
    else
        # å¤§äº100MBï¼Œä½¿ç”¨bzip2é«˜å‹ç¼©æ¯”
        echo "å¤§æ–‡ä»¶ï¼Œä½¿ç”¨bzip2-9å‹ç¼©"
        bzip2 -9 "$file"
    fi
}

# ä½¿ç”¨ç¤ºä¾‹
smart_compress document.txt
```

---

## 5. ğŸ‘€ å‹ç¼©æ–‡ä»¶æŸ¥çœ‹å·¥å…·è¯¦è§£


### 5.1 bzcatå‘½ä»¤è¯¦è§£


**ğŸ”¸ bzcatåŸºæœ¬ç”¨æ³•**
```bash
# æŸ¥çœ‹å‹ç¼©æ–‡ä»¶å†…å®¹ï¼ˆä¸è§£å‹ï¼‰
bzcat filename.bz2

# æŸ¥çœ‹å¤šä¸ªå‹ç¼©æ–‡ä»¶
bzcat file1.bz2 file2.bz2

# é…åˆç®¡é“ä½¿ç”¨
bzcat access.log.bz2 | grep "ERROR"
```

**ğŸ’» å®é™…åº”ç”¨ç¤ºä¾‹**
```bash
# åˆ†æå‹ç¼©æ—¥å¿—æ–‡ä»¶
$ bzcat access.log.bz2 | head -5
127.0.0.1 - - [15/Jan/2025:10:30:15 +0000] "GET /" 200
192.168.1.100 - - [15/Jan/2025:10:30:16 +0000] "POST /api" 201
10.0.0.50 - - [15/Jan/2025:10:30:17 +0000] "GET /image.jpg" 404

# ç»Ÿè®¡å‹ç¼©æ–‡ä»¶è¡Œæ•°
$ bzcat large_file.bz2 | wc -l
1,234,567

# æå–ç‰¹å®šå†…å®¹
$ bzcat database_dump.sql.bz2 | grep "CREATE TABLE" | head -3
```

### 5.2 bzmoreå’Œbzlessåˆ†é¡µå·¥å…·


**ğŸ”¸ bzmoreåˆ†é¡µæŸ¥çœ‹**
```bash
# åˆ†é¡µæŸ¥çœ‹å‹ç¼©æ–‡ä»¶ï¼ˆç±»ä¼¼moreå‘½ä»¤ï¼‰
bzmore filename.bz2

# æ“ä½œå¿«æ·é”®
Spaceé”®     # ä¸‹ä¸€é¡µ
Enteré”®     # ä¸‹ä¸€è¡Œ  
qé”®        # é€€å‡º
/pattern   # æœç´¢æ–‡æœ¬
```

**ğŸ”¸ bzlessé«˜çº§åˆ†é¡µ**
```bash
# é«˜çº§åˆ†é¡µæŸ¥çœ‹ï¼ˆç±»ä¼¼lesså‘½ä»¤ï¼‰
bzless filename.bz2

# å¢å¼ºåŠŸèƒ½
â†‘â†“æ–¹å‘é”®    # ä¸Šä¸‹æ»šåŠ¨
Page Up/Down # ç¿»é¡µ
G           # è·³åˆ°æ–‡ä»¶æœ«å°¾
gg          # è·³åˆ°æ–‡ä»¶å¼€å¤´
/pattern    # å‘å‰æœç´¢
?pattern    # å‘åæœç´¢
n           # ä¸‹ä¸€ä¸ªåŒ¹é…
N           # ä¸Šä¸€ä¸ªåŒ¹é…
```

### 5.3 å…¶ä»–æŸ¥çœ‹å·¥å…·


**ğŸ”§ bzdiffæ–‡ä»¶å¯¹æ¯”**
```bash
# æ¯”è¾ƒä¸¤ä¸ªå‹ç¼©æ–‡ä»¶å†…å®¹
bzdiff file1.bz2 file2.bz2

# å¿½ç•¥ç©ºç™½å­—ç¬¦å·®å¼‚
bzdiff -w file1.bz2 file2.bz2
```

**ğŸ” bzgrepæœç´¢å·¥å…·**
```bash
# åœ¨å‹ç¼©æ–‡ä»¶ä¸­æœç´¢
bzgrep "error" logfile.bz2

# æœç´¢å¤šä¸ªæ–‡ä»¶
bzgrep "pattern" *.bz2

# æ˜¾ç¤ºè¡Œå·
bzgrep -n "keyword" file.bz2

# å¿½ç•¥å¤§å°å†™
bzgrep -i "Error" file.bz2
```

**ğŸ“‹ å·¥å…·é€‰æ‹©æŒ‡å—**
| éœ€æ±‚ | **æ¨èå·¥å…·** | **ç‰¹ç‚¹** |
|------|-------------|---------|
| å¿«é€ŸæŸ¥çœ‹å‰å‡ è¡Œ | `bzcat file.bz2 \| head` | ç®€å•å¿«é€Ÿ |
| åˆ†é¡µæµè§ˆå¤§æ–‡ä»¶ | `bzless file.bz2` | æ”¯æŒæœç´¢å¯¼èˆª |
| æœç´¢ç‰¹å®šå†…å®¹ | `bzgrep pattern file.bz2` | ç›´æ¥æœç´¢ |
| ç»Ÿè®¡åˆ†æ | `bzcat file.bz2 \| wc/grep` | é…åˆç®¡é“ |

---

## 6. ğŸ”— tarä¸bzip2é›†æˆåº”ç”¨


### 6.1 tar -jé€‰é¡¹è¯¦è§£


**ğŸ”¸ åŸºæœ¬é›†æˆè¯­æ³•**
```bash
# åˆ›å»ºbzip2å‹ç¼©çš„tarå½’æ¡£
tar -jcvf archive.tar.bz2 directory/

# å‚æ•°è¯´æ˜ï¼š
# -j: ä½¿ç”¨bzip2å‹ç¼©
# -c: åˆ›å»ºå½’æ¡£æ–‡ä»¶
# -v: è¯¦ç»†è¾“å‡ºï¼ˆå¯é€‰ï¼‰
# -f: æŒ‡å®šå½’æ¡£æ–‡ä»¶å
```

**ğŸ’» å®é™…æ“ä½œç¤ºä¾‹**
```bash
# å¤‡ä»½æ•´ä¸ªç½‘ç«™ç›®å½•
$ tar -jcvf website_backup.tar.bz2 /var/www/html/
/var/www/html/
/var/www/html/index.html
/var/www/html/css/
/var/www/html/css/style.css
...

# æŸ¥çœ‹åˆ›å»ºçš„å½’æ¡£æ–‡ä»¶
$ ls -lh website_backup.tar.bz2
-rw-r--r-- 1 user user 45M Jan 15 11:00 website_backup.tar.bz2
```

### 6.2 è§£å‹tar.bz2æ–‡ä»¶


**ğŸ”¸ è§£å‹å‘½ä»¤è¯¦è§£**
```bash
# è§£å‹åˆ°å½“å‰ç›®å½•
tar -jxvf archive.tar.bz2

# è§£å‹åˆ°æŒ‡å®šç›®å½•
tar -jxvf archive.tar.bz2 -C /target/directory/

# åªè§£å‹ç‰¹å®šæ–‡ä»¶
tar -jxvf archive.tar.bz2 specific/file/path

# åˆ—å‡ºå½’æ¡£å†…å®¹ï¼ˆä¸è§£å‹ï¼‰
tar -jtvf archive.tar.bz2
```

**ğŸ” æŸ¥çœ‹å½’æ¡£å†…å®¹**
```bash
# åˆ—å‡ºæ‰€æœ‰æ–‡ä»¶
$ tar -jtvf backup.tar.bz2
drwxr-xr-x user/user   0 2025-01-15 10:30 documents/
-rw-r--r-- user/user 1024 2025-01-15 10:30 documents/file1.txt
-rw-r--r-- user/user 2048 2025-01-15 10:30 documents/file2.txt

# æœç´¢ç‰¹å®šæ–‡ä»¶
$ tar -jtvf backup.tar.bz2 | grep "\.log$"
```

### 6.3 é«˜çº§tar+bzip2åº”ç”¨


**ğŸ¯ å¢é‡å¤‡ä»½ç­–ç•¥**
```bash
#!/bin/bash
# æ™ºèƒ½å¢é‡å¤‡ä»½è„šæœ¬

backup_dir="/backup/$(date +%Y%m%d)"
source_dir="/important/data"

# åˆ›å»ºå¤‡ä»½ç›®å½•
mkdir -p "$backup_dir"

# å®Œæ•´å¤‡ä»½ï¼ˆæ¯å‘¨æ—¥ï¼‰
if [ $(date +%u) -eq 7 ]; then
    echo "æ‰§è¡Œå®Œæ•´å¤‡ä»½..."
    tar -jcf "$backup_dir/full_backup.tar.bz2" "$source_dir"
else
    # å¢é‡å¤‡ä»½ï¼ˆå…¶ä»–æ—¥æœŸï¼‰
    echo "æ‰§è¡Œå¢é‡å¤‡ä»½..."
    find "$source_dir" -mtime -1 -type f | \
    tar -jcf "$backup_dir/incremental_$(date +%u).tar.bz2" -T -
fi
```

**ğŸ”§ æ’é™¤ç‰¹å®šæ–‡ä»¶ç±»å‹**
```bash
# æ’é™¤ä¸´æ—¶æ–‡ä»¶å’Œç¼“å­˜
tar -jcvf clean_backup.tar.bz2 \
    --exclude="*.tmp" \
    --exclude="*.cache" \
    --exclude=".git" \
    --exclude="node_modules" \
    /project/directory/

# ä½¿ç”¨æ’é™¤åˆ—è¡¨æ–‡ä»¶
echo "*.log" > exclude_list.txt
echo "*.tmp" >> exclude_list.txt
tar -jcvf archive.tar.bz2 --exclude-from=exclude_list.txt /data/
```

### 6.4 æ€§èƒ½ä¼˜åŒ–æŠ€å·§


**âš¡ å‹ç¼©çº§åˆ«é€‰æ‹©**
```bash
# å¿«é€Ÿå¤‡ä»½ï¼ˆä½å‹ç¼©ï¼‰
GZIP=-1 tar -zcf quick_backup.tar.gz /data/

# é«˜å‹ç¼©å¤‡ä»½ï¼ˆbzip2æœ€å¤§å‹ç¼©ï¼‰
tar --use-compress-program="bzip2 -9" -cf archive.tar.bz2 /data/

# å¹³è¡¡é€‰æ‹©ï¼ˆæ¨èï¼‰
tar -jcf balanced_backup.tar.bz2 /data/
```

---

## 7. ğŸš€ å¹¶è¡Œå‹ç¼©ä¸æ€§èƒ½ä¼˜åŒ–


### 7.1 bzip2å¹¶è¡Œå‹ç¼©èƒ½åŠ›


**ğŸ”¸ pbzip2å¹¶è¡Œå‹ç¼©å·¥å…·**
```bash
# å®‰è£…pbzip2ï¼ˆå¦‚æœæœªå®‰è£…ï¼‰
# Ubuntu/Debian: apt install pbzip2
# CentOS/RHEL: yum install pbzip2

# åŸºæœ¬å¹¶è¡Œå‹ç¼©
pbzip2 filename

# æŒ‡å®šçº¿ç¨‹æ•°
pbzip2 -p4 filename    # ä½¿ç”¨4ä¸ªçº¿ç¨‹

# è‡ªåŠ¨æ£€æµ‹CPUæ ¸å¿ƒæ•°
pbzip2 -p0 filename    # ä½¿ç”¨æ‰€æœ‰å¯ç”¨æ ¸å¿ƒ
```

**ğŸ“Š æ€§èƒ½å¯¹æ¯”æµ‹è¯•**
```bash
# æµ‹è¯•æ–‡ä»¶ï¼š500MBæ–‡æœ¬æ–‡ä»¶
# æµ‹è¯•ç¯å¢ƒï¼š4æ ¸CPU

å•çº¿ç¨‹bzip2:
$ time bzip2 -6 large_file.txt
real    1m23.4s
user    1m22.8s
sys     0m0.6s

4çº¿ç¨‹pbzip2:
$ time pbzip2 -6 -p4 large_file.txt
real    0m28.7s
user    1m52.3s
sys     0m1.1s

æ€§èƒ½æå‡ï¼šçº¦3.9å€é€Ÿåº¦æå‡ï¼
```

### 7.2 å†…å­˜ä¼˜åŒ–ç­–ç•¥


**ğŸ”§ å†…å­˜ä½¿ç”¨ä¼˜åŒ–**
```bash
# å‡å°‘å†…å­˜ä½¿ç”¨ï¼ˆé€‚åˆå†…å­˜å—é™ç¯å¢ƒï¼‰
bzip2 -1 filename      # æœ€ä½å†…å­˜ä½¿ç”¨ï¼š~600KB
bzip2 -s filename      # å°å—æ¨¡å¼ï¼Œé™ä½å†…å­˜éœ€æ±‚

# å¹³è¡¡å†…å­˜ä¸å‹ç¼©æ¯”
bzip2 -6 filename      # é»˜è®¤ï¼š~2.5MBå†…å­˜

# æ£€æŸ¥å†…å­˜ä½¿ç”¨æƒ…å†µ
/usr/bin/time -v bzip2 -9 large_file.txt
# æŸ¥çœ‹"Maximum resident set size"é¡¹
```

### 7.3 ç£ç›˜I/Oä¼˜åŒ–


**ğŸ’¾ å‡å°‘ç£ç›˜I/Oæ“ä½œ**
```bash
# ä½¿ç”¨ç®¡é“é¿å…ä¸´æ—¶æ–‡ä»¶
cat large_file.txt | bzip2 -6 > compressed_file.bz2

# ç›´æ¥å‹ç¼©åˆ°ç›®æ ‡ä½ç½®
bzip2 -c source_file > /target/path/compressed.bz2

# å‹ç¼©æ—¶ä¿æŒåŸæ–‡ä»¶ï¼ˆé¿å…ç§»åŠ¨æ“ä½œï¼‰
bzip2 -k source_file
```

### 7.4 æ‰¹é‡å¤„ç†ä¼˜åŒ–


**ğŸ”„ é«˜æ•ˆæ‰¹é‡å‹ç¼©è„šæœ¬**
```bash
#!/bin/bash
# æ™ºèƒ½æ‰¹é‡å‹ç¼©å·¥å…·

batch_compress() {
    local source_dir=$1
    local cpu_cores=$(nproc)
    local max_jobs=$((cpu_cores * 2))
    
    find "$source_dir" -name "*.txt" -o -name "*.log" | \
    while read file; do
        {
            if command -v pbzip2 >/dev/null; then
                pbzip2 -6 -k "$file"
            else
                bzip2 -6 -k "$file"
            fi
            echo "å‹ç¼©å®Œæˆ: $(basename "$file")"
        } &
        
        # æ§åˆ¶å¹¶å‘æ•°
        (($(jobs -r | wc -l) >= max_jobs)) && wait
    done
    wait  # ç­‰å¾…æ‰€æœ‰ä»»åŠ¡å®Œæˆ
}

# ä½¿ç”¨ç¤ºä¾‹
batch_compress /var/log/
```

**ğŸ“ˆ æ€§èƒ½ç›‘æ§**
```bash
# ç›‘æ§å‹ç¼©è¿›ç¨‹æ€§èƒ½
top -p $(pgrep bzip2)

# ç›‘æ§I/Oä½¿ç”¨æƒ…å†µ
iostat -x 1

# ç›‘æ§å†…å­˜ä½¿ç”¨
watch -n 1 'free -h && ps aux | grep bzip2'
```

---

## 8. ğŸ” å‹ç¼©æ–‡ä»¶å®Œæ•´æ€§éªŒè¯


### 8.1 å†…ç½®å®Œæ•´æ€§æ£€æŸ¥


**ğŸ”¸ bzip2å†…ç½®éªŒè¯**
```bash
# æµ‹è¯•å‹ç¼©æ–‡ä»¶å®Œæ•´æ€§
bzip2 -t filename.bz2

# è¯¦ç»†æµ‹è¯•è¾“å‡º
bzip2 -tv filename.bz2

# æ‰¹é‡æµ‹è¯•å¤šä¸ªæ–‡ä»¶
bzip2 -t *.bz2
```

**ğŸ’» å®é™…éªŒè¯ç¤ºä¾‹**
```bash
# æ­£å¸¸æ–‡ä»¶æµ‹è¯•
$ bzip2 -tv document.bz2
  document.bz2: ok

# æŸåæ–‡ä»¶æµ‹è¯•
$ bzip2 -tv corrupted.bz2
  bzip2: Data integrity error when decompressing.
        Input file = corrupted.bz2, output file = (stdout)
```

### 8.2 å¤–éƒ¨æ ¡éªŒå’ŒéªŒè¯


**ğŸ”§ ç”Ÿæˆæ ¡éªŒå’Œæ–‡ä»¶**
```bash
# åˆ›å»ºå‹ç¼©æ–‡ä»¶çš„MD5æ ¡éªŒå’Œ
md5sum important_file.bz2 > important_file.bz2.md5

# åˆ›å»ºSHA256æ ¡éªŒå’Œ
sha256sum important_file.bz2 > important_file.bz2.sha256

# æ‰¹é‡ç”Ÿæˆæ ¡éªŒå’Œ
find /backup/ -name "*.bz2" -exec md5sum {} \; > backup_checksums.md5
```

**âœ… éªŒè¯æ ¡éªŒå’Œ**
```bash
# éªŒè¯MD5æ ¡éªŒå’Œ
md5sum -c important_file.bz2.md5

# éªŒè¯SHA256æ ¡éªŒå’Œ  
sha256sum -c important_file.bz2.sha256

# æ‰¹é‡éªŒè¯
md5sum -c backup_checksums.md5
```

### 8.3 é«˜çº§å®Œæ•´æ€§éªŒè¯


**ğŸ›¡ï¸ ç»¼åˆéªŒè¯è„šæœ¬**
```bash
#!/bin/bash
# å‹ç¼©æ–‡ä»¶å®Œæ•´æ€§éªŒè¯å·¥å…·

verify_bz2_integrity() {
    local file=$1
    local checksum_file="${file}.md5"
    
    echo "=== éªŒè¯æ–‡ä»¶: $file ==="
    
    # 1. æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨
    if [[ ! -f "$file" ]]; then
        echo "âŒ é”™è¯¯: æ–‡ä»¶ä¸å­˜åœ¨"
        return 1
    fi
    
    # 2. bzip2å†…ç½®å®Œæ•´æ€§æ£€æŸ¥
    echo "ğŸ” è¿›è¡Œbzip2å®Œæ•´æ€§æ£€æŸ¥..."
    if bzip2 -tq "$file"; then
        echo "âœ… bzip2å®Œæ•´æ€§æ£€æŸ¥é€šè¿‡"
    else
        echo "âŒ bzip2å®Œæ•´æ€§æ£€æŸ¥å¤±è´¥"
        return 1
    fi
    
    # 3. æ ¡éªŒå’ŒéªŒè¯ï¼ˆå¦‚æœå­˜åœ¨ï¼‰
    if [[ -f "$checksum_file" ]]; then
        echo "ğŸ” è¿›è¡ŒMD5æ ¡éªŒå’ŒéªŒè¯..."
        if md5sum -c "$checksum_file" 2>/dev/null; then
            echo "âœ… MD5æ ¡éªŒå’ŒéªŒè¯é€šè¿‡"
        else
            echo "âŒ MD5æ ¡éªŒå’ŒéªŒè¯å¤±è´¥"
            return 1
        fi
    fi
    
    # 4. è§£å‹æµ‹è¯•ï¼ˆæµ‹è¯•å‰100MBï¼‰
    echo "ğŸ“¦ è¿›è¡Œè§£å‹æµ‹è¯•..."
    if bzcat "$file" | head -c 104857600 > /dev/null; then
        echo "âœ… è§£å‹æµ‹è¯•é€šè¿‡"
        echo "ğŸ‰ æ–‡ä»¶å®Œæ•´æ€§éªŒè¯å…¨éƒ¨é€šè¿‡"
        return 0
    else
        echo "âŒ è§£å‹æµ‹è¯•å¤±è´¥"
        return 1
    fi
}

# ä½¿ç”¨ç¤ºä¾‹
verify_bz2_integrity backup.tar.bz2
```

### 8.4 é”™è¯¯æ¢å¤ç­–ç•¥


**ğŸ”§ éƒ¨åˆ†æŸåæ–‡ä»¶æ¢å¤**
```bash
# bzip2æ”¯æŒéƒ¨åˆ†æ¢å¤
bzip2recover corrupted_file.bz2

# è¿™ä¼šç”Ÿæˆå¤šä¸ªæ–‡ä»¶ï¼šrec00001.bz2, rec00002.bz2...
# ç„¶åå°è¯•è§£å‹å¯ç”¨çš„éƒ¨åˆ†ï¼š
for file in rec*.bz2; do
    if bzip2 -t "$file"; then
        echo "å¯æ¢å¤å—: $file"
        bzcat "$file" >> recovered_data.txt
    fi
done
```

---

## 9. âš–ï¸ å‹ç¼©ç­–ç•¥é€‰æ‹©ä¸æƒè¡¡


### 9.1 æ—¶é—´ä¸å‹ç¼©æ¯”æƒè¡¡åˆ†æ


**ğŸ“Š è¯¦ç»†æ€§èƒ½æƒè¡¡è¡¨**
| å‹ç¼©çº§åˆ« | **å‹ç¼©æ—¶é—´** | **è§£å‹æ—¶é—´** | **å‹ç¼©æ¯”** | **æœ€ä½³åœºæ™¯** |
|---------|-------------|-------------|-----------|-------------|
| `bzip2 -1` | 1x | 1x | 75% | ğŸš€ å¿«é€Ÿå¤„ç† |
| `bzip2 -6` | 2.5x | 1.2x | 85% | âš–ï¸ **å¹³è¡¡é€‰æ‹©** |
| `bzip2 -9` | 4x | 1.3x | 88% | ğŸ’¾ å­˜å‚¨ä¼˜å…ˆ |
| `gzip -6` | 0.4x | 0.8x | 78% | âš¡ é€Ÿåº¦ä¼˜å…ˆ |

**ğŸ’¡ å†³ç­–å‚è€ƒæ ‡å‡†**
```
ä¼˜å…ˆè€ƒè™‘é€Ÿåº¦ï¼ˆå®æ—¶å¤„ç†ï¼‰:
âœ… é€‰æ‹© gzip -6
âŒ é¿å… bzip2 -8/-9

ä¼˜å…ˆè€ƒè™‘å­˜å‚¨ç©ºé—´ï¼ˆå½’æ¡£ï¼‰:
âœ… é€‰æ‹© bzip2 -8/-9  
âŒ é¿å… gzip ä½çº§åˆ«

å¹³è¡¡è€ƒè™‘ï¼ˆæ—¥å¸¸ä½¿ç”¨ï¼‰:
âœ… é€‰æ‹© bzip2 -6
âœ… æˆ–è€… gzip -9
```

### 9.2 ä½¿ç”¨åœºæ™¯å†³ç­–çŸ©é˜µ


**ğŸ¯ åœºæ™¯åŒ–é€‰æ‹©ç­–ç•¥**

| ä½¿ç”¨åœºæ™¯ | **æ–‡ä»¶å¤§å°** | **è®¿é—®é¢‘ç‡** | **æ¨èæ–¹æ¡ˆ** | **å‚æ•°å»ºè®®** |
|---------|-------------|-------------|-------------|-------------|
| ğŸ—„ï¸ **æ—¥å¿—å½’æ¡£** | >100MB | å¾ˆå°‘ | `bzip2` | `-9` |
| ğŸ“¦ **ç³»ç»Ÿå¤‡ä»½** | >1GB | å¶å°” | `tar + bzip2` | `-8` |
| ğŸŒ **ç½‘ç»œä¼ è¾“** | ä»»æ„ | ä¸€æ¬¡æ€§ | `bzip2` | `-6/-8` |
| ğŸ”„ **ä¸´æ—¶å‹ç¼©** | <50MB | é¢‘ç¹ | `gzip` | `-6` |
| ğŸ’¾ **é•¿æœŸå­˜å‚¨** | >500MB | æå°‘ | `bzip2` | `-9` |

**ğŸ”§ è‡ªåŠ¨åŒ–é€‰æ‹©è„šæœ¬**
```bash
#!/bin/bash
# æ™ºèƒ½å‹ç¼©å·¥å…·é€‰æ‹©å™¨

intelligent_compress() {
    local file=$1
    local size=$(stat -f%z "$file" 2>/dev/null || stat -c%s "$file")
    local size_mb=$((size / 1048576))
    
    echo "æ–‡ä»¶: $file ($(numfmt --to=iec $size))"
    
    if [[ $size_mb -lt 10 ]]; then
        echo "ğŸš€ å°æ–‡ä»¶ (<10MB)ï¼Œä½¿ç”¨å¿«é€Ÿå‹ç¼©"
        gzip -6 "$file"
        
    elif [[ $size_mb -lt 100 ]]; then
        echo "âš–ï¸ ä¸­ç­‰æ–‡ä»¶ (10-100MB)ï¼Œä½¿ç”¨å¹³è¡¡å‹ç¼©"
        bzip2 -6 "$file"
        
    else
        echo "ğŸ’¾ å¤§æ–‡ä»¶ (>100MB)ï¼Œä½¿ç”¨é«˜å‹ç¼©æ¯”"
        if command -v pbzip2 >/dev/null; then
            pbzip2 -8 "$file"
        else
            bzip2 -8 "$file"
        fi
    fi
}

# æ‰¹é‡æ™ºèƒ½å‹ç¼©
for file in "$@"; do
    intelligent_compress "$file"
done
```

### 9.3 æˆæœ¬æ•ˆç›Šåˆ†æ


**ğŸ’° å­˜å‚¨æˆæœ¬vsæ—¶é—´æˆæœ¬**
```
å‡è®¾åœºæ™¯ï¼š1TBæ•°æ®å½’æ¡£
å­˜å‚¨æˆæœ¬ï¼š$0.01/GB/æœˆ
CPUæ—¶é—´æˆæœ¬ï¼š$0.10/å°æ—¶

gzip -6 å‹ç¼©:
- å‹ç¼©åå¤§å°ï¼š~300GB
- å‹ç¼©æ—¶é—´ï¼š~2å°æ—¶  
- å­˜å‚¨æˆæœ¬ï¼š$3/æœˆ
- æ—¶é—´æˆæœ¬ï¼š$0.20ï¼ˆä¸€æ¬¡æ€§ï¼‰
- æ€»æœˆæˆæœ¬ï¼š$3.20

bzip2 -8 å‹ç¼©:
- å‹ç¼©åå¤§å°ï¼š~220GB
- å‹ç¼©æ—¶é—´ï¼š~6å°æ—¶
- å­˜å‚¨æˆæœ¬ï¼š$2.20/æœˆ
- æ—¶é—´æˆæœ¬ï¼š$0.60ï¼ˆä¸€æ¬¡æ€§ï¼‰
- æ€»æœˆæˆæœ¬ï¼š$2.80

ç»“è®ºï¼šé•¿æœŸå­˜å‚¨(>3ä¸ªæœˆ)ï¼Œbzip2æ›´ç»æµ
```

### 9.4 æ€§èƒ½è°ƒä¼˜å»ºè®®


**âš¡ ç³»ç»Ÿçº§ä¼˜åŒ–å»ºè®®**
```bash
# 1. CPUä¼˜åŒ–
# ä½¿ç”¨å¹¶è¡Œå‹ç¼©
export BZIP2_CPU_CORES=$(nproc)
alias bzip2='pbzip2 -p$BZIP2_CPU_CORES'

# 2. å†…å­˜ä¼˜åŒ–  
# é™åˆ¶å†…å­˜ä½¿ç”¨
ulimit -v 2097152  # é™åˆ¶è™šæ‹Ÿå†…å­˜ä¸º2GB

# 3. I/Oä¼˜åŒ–
# ä½¿ç”¨æ›´å¿«çš„ä¸´æ—¶ç›®å½•
export TMPDIR=/dev/shm  # ä½¿ç”¨å†…å­˜æ–‡ä»¶ç³»ç»Ÿ

# 4. åˆ›å»ºå‹ç¼©é…ç½®æ–‡ä»¶
cat > ~/.bzip2rc << 'EOF'
# bzip2é»˜è®¤é…ç½®
-6    # é»˜è®¤å‹ç¼©çº§åˆ«
-k    # ä¿ç•™åŸæ–‡ä»¶
-v    # è¯¦ç»†è¾“å‡º
EOF
```

---

## 10. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 10.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ bzip2æœ¬è´¨ï¼šåŸºäºBurrows-Wheelerå˜æ¢çš„é«˜å‹ç¼©æ¯”å·¥å…·
ğŸ”¸ æ ¸å¿ƒç‰¹ç‚¹ï¼šå‹ç¼©æ¯”é«˜äºgzip 10-15%ï¼Œä½†é€Ÿåº¦è¾ƒæ…¢2-3å€
ğŸ”¸ å‹ç¼©çº§åˆ«ï¼š-1åˆ°-9ï¼Œé»˜è®¤-6ï¼Œæ•°å­—è¶Šå¤§å‹ç¼©æ¯”è¶Šé«˜ä½†è¶Šæ…¢
ğŸ”¸ æ–‡ä»¶æ ¼å¼ï¼š.bz2æ ¼å¼ï¼Œå†…ç½®CRCæ ¡éªŒï¼Œæ”¯æŒå—çº§é”™è¯¯æ¢å¤
ğŸ”¸ é›†æˆåº”ç”¨ï¼štar -jé€‰é¡¹ï¼Œå®ç°å½’æ¡£å’Œå‹ç¼©ä¸€ä½“åŒ–
ğŸ”¸ å¹¶è¡Œèƒ½åŠ›ï¼špbzip2æ”¯æŒå¤šçº¿ç¨‹ï¼Œå¯æ˜¾è‘—æå‡å‹ç¼©é€Ÿåº¦
```

### 10.2 å…³é”®å‘½ä»¤è®°å¿†


**ğŸ”§ æ ¸å¿ƒå‘½ä»¤æ€»ç»“**
```bash
# åŸºç¡€å‹ç¼©å‘½ä»¤
bzip2 -k -6 filename        # ä¿ç•™åŸæ–‡ä»¶ï¼Œä½¿ç”¨é»˜è®¤å‹ç¼©çº§åˆ«
bunzip2 -k filename.bz2     # ä¿ç•™å‹ç¼©æ–‡ä»¶ï¼Œè§£å‹

# æŸ¥çœ‹å·¥å…·
bzcat filename.bz2          # æŸ¥çœ‹å†…å®¹ä¸è§£å‹
bzless filename.bz2         # åˆ†é¡µæŸ¥çœ‹
bzgrep pattern filename.bz2 # æœç´¢å†…å®¹

# taré›†æˆ  
tar -jcf archive.tar.bz2 dir/  # åˆ›å»ºbzip2å‹ç¼©å½’æ¡£
tar -jxf archive.tar.bz2       # è§£å‹bzip2å½’æ¡£

# å®Œæ•´æ€§éªŒè¯
bzip2 -t filename.bz2          # æµ‹è¯•æ–‡ä»¶å®Œæ•´æ€§
```

### 10.3 æœ€ä½³å®è·µæ€»ç»“


**âœ… æ¨èåšæ³•**
```
ğŸ¯ åœºæ™¯é€‰æ‹©ï¼š
- é•¿æœŸå½’æ¡£ â†’ bzip2 -8/-9
- ç½‘ç»œä¼ è¾“ â†’ bzip2 -6/-8  
- æ—¥å¸¸å¤‡ä»½ â†’ tar -j
- ä¸´æ—¶å‹ç¼© â†’ gzipï¼ˆæ›´å¿«ï¼‰

ğŸ›¡ï¸ å®‰å…¨å®è·µï¼š
- é‡è¦æ–‡ä»¶ä½¿ç”¨ -k ä¿ç•™åŸæ–‡ä»¶
- å®šæœŸä½¿ç”¨ -t éªŒè¯å‹ç¼©æ–‡ä»¶å®Œæ•´æ€§
- ç”ŸæˆMD5/SHA256æ ¡éªŒå’Œæ–‡ä»¶
- ä½¿ç”¨ bzip2recover æ¢å¤æŸåæ–‡ä»¶

âš¡ æ€§èƒ½ä¼˜åŒ–ï¼š
- å¤§æ–‡ä»¶ä½¿ç”¨ pbzip2 å¹¶è¡Œå‹ç¼©
- å†…å­˜å—é™ç¯å¢ƒä½¿ç”¨ -1 åˆ° -3
- æ‰¹é‡å¤„ç†æ—¶æ§åˆ¶å¹¶å‘æ•°
- ä½¿ç”¨ç®¡é“é¿å…ä¸´æ—¶æ–‡ä»¶
```

**âŒ é¿å…é”™è¯¯**
```
âš ï¸ å¸¸è§é™·é˜±ï¼š
- å¿˜è®° -k é€‰é¡¹å¯¼è‡´åŸæ–‡ä»¶ä¸¢å¤±
- åœ¨å¿«é€Ÿè®¿é—®åœºæ™¯ä¸‹ä½¿ç”¨é«˜å‹ç¼©çº§åˆ«
- å¿½è§†å‹ç¼©æ—¶é—´æˆæœ¬
- ä¸éªŒè¯å¤§æ–‡ä»¶çš„å®Œæ•´æ€§

ğŸš« ä¸é€‚ç”¨åœºæ™¯ï¼š
- é¢‘ç¹è¯»å†™çš„å·¥ä½œæ–‡ä»¶
- å®æ—¶æ•°æ®å¤„ç†
- å†…å­˜ä¸¥é‡å—é™ç¯å¢ƒï¼ˆ<512MBï¼‰
- å¯¹å“åº”æ—¶é—´æ•æ„Ÿçš„åº”ç”¨
```

### 10.4 å­¦ä¹ è·¯å¾„å»ºè®®


**ğŸ“š è¿›é˜¶å­¦ä¹ è¦ç‚¹**
1. **æŒæ¡åŸºç¡€** â†’ ç†Ÿç»ƒä½¿ç”¨bzip2/bunzip2åŸºæœ¬å‘½ä»¤
2. **ç†è§£æƒè¡¡** â†’ æŒæ¡æ—¶é—´vsç©ºé—´çš„æƒè¡¡ç­–ç•¥  
3. **é›†æˆåº”ç”¨** â†’ ç†Ÿç»ƒä½¿ç”¨tar -jç»„åˆ
4. **æ€§èƒ½ä¼˜åŒ–** â†’ å­¦ä¼šä½¿ç”¨pbzip2å’Œæ‰¹é‡å¤„ç†
5. **æ•…éšœå¤„ç†** â†’ æŒæ¡å®Œæ•´æ€§éªŒè¯å’Œé”™è¯¯æ¢å¤

**ğŸ¯ å®è·µå»ºè®®**
- åœ¨æµ‹è¯•ç¯å¢ƒä¸­æ¯”è¾ƒä¸åŒå‹ç¼©çº§åˆ«çš„æ•ˆæœ
- ç¼–å†™è‡ªåŠ¨åŒ–å‹ç¼©è„šæœ¬ç®€åŒ–æ—¥å¸¸æ“ä½œ
- å»ºç«‹å®šæœŸå¤‡ä»½å’ŒéªŒè¯çš„æ ‡å‡†æµç¨‹
- æ ¹æ®å®é™…ä¸šåŠ¡éœ€æ±‚åˆ¶å®šå‹ç¼©ç­–ç•¥

**æ ¸å¿ƒè®°å¿†å£è¯€**ï¼š
- *"bzip2å‹ç¼©æ¯”æ›´é«˜ï¼Œæ—¶é—´æ¢ç©ºé—´è¦è®°ç‰¢"*
- *"å½’æ¡£å­˜å‚¨ç”¨-9ï¼Œæ—¥å¸¸ä½¿ç”¨-6å¥½"* 
- *"é‡è¦æ–‡ä»¶åŠ -kï¼Œå®Œæ•´æ€§éªŒè¯ä¸å¯å°‘"*