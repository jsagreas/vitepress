---
title: 25ã€æ–‡ä»¶å‹ç¼©ä¸å½’æ¡£
---
## ğŸ“š ç›®å½•

1. [æ–‡ä»¶å‹ç¼©ä¸å½’æ¡£æ¦‚è¿°](#1-æ–‡ä»¶å‹ç¼©ä¸å½’æ¡£æ¦‚è¿°)
2. [tarå½’æ¡£æ“ä½œè¯¦è§£](#2-tarå½’æ¡£æ“ä½œè¯¦è§£)
3. [gzip/gunzipå‹ç¼©](#3-gzipgunzipå‹ç¼©)
4. [bzip2/bunzip2å‹ç¼©](#4-bzip2bunzip2å‹ç¼©)
5. [xzå‹ç¼©ç®—æ³•](#5-xzå‹ç¼©ç®—æ³•)
6. [zipè·¨å¹³å°å‹ç¼©](#6-zipè·¨å¹³å°å‹ç¼©)
7. [å‹ç¼©æ¯”é€‰æ‹©ç­–ç•¥](#7-å‹ç¼©æ¯”é€‰æ‹©ç­–ç•¥)
8. [å¢é‡å¤‡ä»½æŠ€æœ¯](#8-å¢é‡å¤‡ä»½æŠ€æœ¯)
9. [å‹ç¼©åŒ…å®Œæ•´æ€§éªŒè¯](#9-å‹ç¼©åŒ…å®Œæ•´æ€§éªŒè¯)
10. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#10-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ“¦ æ–‡ä»¶å‹ç¼©ä¸å½’æ¡£æ¦‚è¿°


### 1.1 å‹ç¼©å’Œå½’æ¡£çš„åŒºåˆ«


**å½’æ¡£ï¼ˆArchiveï¼‰**ï¼šæŠŠå¤šä¸ªæ–‡ä»¶æ‰“åŒ…æˆä¸€ä¸ªæ–‡ä»¶
```
æƒ³è±¡ä¸€ä¸‹æ•´ç†ä¹¦æ¡Œï¼š
æŠŠæ•£è½çš„æ–‡ä»¶ â†’ æ”¾è¿›ä¸€ä¸ªæ–‡ä»¶å¤¹ â†’ æ–¹ä¾¿ç®¡ç†
```

**å‹ç¼©ï¼ˆCompressï¼‰**ï¼šå‡å°æ–‡ä»¶å ç”¨çš„å­˜å‚¨ç©ºé—´
```
å°±åƒæŠ½çœŸç©ºåŒ…è£…ï¼š
åŸæ¥çš„æ–‡ä»¶ â†’ æŒ¤æ‰ç©ºæ°” â†’ å˜å¾—æ›´å°
```

**ğŸ“‹ å¸¸è§ç»„åˆæ–¹å¼**
```
Linuxä¸­çš„å¸¸è§åšæ³•ï¼š
1. å…ˆå½’æ¡£ï¼šå¤šä¸ªæ–‡ä»¶ â†’ æ‰“åŒ…æˆä¸€ä¸ªæ–‡ä»¶
2. å†å‹ç¼©ï¼šå¤§æ–‡ä»¶ â†’ å‹ç¼©æˆå°æ–‡ä»¶
3. æœ€ç»ˆç»“æœï¼šä½“ç§¯å°ã€ä¾¿äºä¼ è¾“çš„å‹ç¼©åŒ…
```

### 1.2 ä¸ºä»€ä¹ˆéœ€è¦å‹ç¼©å’Œå½’æ¡£


**ğŸ¯ å®é™…åº”ç”¨åœºæ™¯**
- **èŠ‚çœå­˜å‚¨ç©ºé—´**ï¼šç¡¬ç›˜å®¹é‡æœ‰é™ï¼Œå‹ç¼©åèƒ½å­˜æ›´å¤šä¸œè¥¿
- **åŠ å¿«ä¼ è¾“é€Ÿåº¦**ï¼šæ–‡ä»¶å°äº†ï¼Œç½‘ç»œä¼ è¾“æ›´å¿«
- **ä¾¿äºå¤‡ä»½ç®¡ç†**ï¼šæŠŠç›¸å…³æ–‡ä»¶æ‰“åŒ…ï¼Œæ•´ç†æ›´æ–¹ä¾¿
- **è·¨å¹³å°å…¼å®¹**ï¼šæ ‡å‡†æ ¼å¼åœ¨ä¸åŒç³»ç»Ÿé—´é€šç”¨

### 1.3 Linuxä¸­çš„å‹ç¼©å·¥å…·ç”Ÿæ€


```
Linuxå‹ç¼©å·¥å…·å®¶æ—ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    å·¥å…·     â”‚  å‹ç¼©ç‡  â”‚   é€Ÿåº¦   â”‚  åº”ç”¨åœºæ™¯  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    tar      â”‚   æ— å‹ç¼©  â”‚   æœ€å¿«   â”‚  å½’æ¡£æ‰“åŒ…  â”‚
â”‚    gzip     â”‚    ä¸­ç­‰   â”‚   å¿«     â”‚  é€šç”¨å‹ç¼©  â”‚
â”‚   bzip2     â”‚    è¾ƒé«˜   â”‚   ä¸­ç­‰   â”‚  é«˜å‹ç¼©æ¯”  â”‚
â”‚     xz      â”‚    æœ€é«˜   â”‚   è¾ƒæ…¢   â”‚  æœ€ä½³å‹ç¼©  â”‚
â”‚    zip      â”‚    ä¸­ç­‰   â”‚   ä¸­ç­‰   â”‚  è·¨å¹³å°   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. ğŸ“ tarå½’æ¡£æ“ä½œè¯¦è§£


### 2.1 tarçš„åŸºæœ¬æ¦‚å¿µ


**tarçš„å«ä¹‰**ï¼š`Tape Archive`ï¼ˆç£å¸¦å½’æ¡£ï¼‰
> è™½ç„¶åå­—å«ç£å¸¦å½’æ¡£ï¼Œä½†ç°åœ¨ä¸»è¦ç”¨æ¥æ‰“åŒ…æ–‡ä»¶ï¼Œå°±åƒæŠŠæ•£è½çš„ä¸œè¥¿è£…è¿›ä¸€ä¸ªå¤§è¢‹å­é‡Œã€‚

**ğŸ”¸ tarçš„æ ¸å¿ƒä½œç”¨**
```
åŠŸèƒ½è¯´æ˜ï¼š
â€¢ æŠŠå¤šä¸ªæ–‡ä»¶/ç›®å½•æ‰“åŒ…æˆä¸€ä¸ªæ–‡ä»¶
â€¢ ä¿æŒæ–‡ä»¶çš„æƒé™ã€æ—¶é—´æˆ³ç­‰å±æ€§
â€¢ å¯ä»¥é…åˆå‹ç¼©å·¥å…·ä½¿ç”¨
â€¢ æ”¯æŒå¢é‡å¤‡ä»½å’Œå·®å¼‚å¤‡ä»½
```

### 2.2 tarå‘½ä»¤å‚æ•°è¯¦è§£


**ğŸ“ æ ¸å¿ƒå‚æ•°è¯´æ˜**
```bash
# åŸºæœ¬æ“ä½œå‚æ•°
c  # createï¼Œåˆ›å»ºå½’æ¡£æ–‡ä»¶
x  # extractï¼Œè§£å‹å½’æ¡£æ–‡ä»¶
t  # listï¼ŒæŸ¥çœ‹å½’æ¡£æ–‡ä»¶å†…å®¹
v  # verboseï¼Œæ˜¾ç¤ºè¯¦ç»†è¿‡ç¨‹
f  # fileï¼ŒæŒ‡å®šå½’æ¡£æ–‡ä»¶å

# å‹ç¼©å‚æ•°ï¼ˆå¸¸ä¸tarç»“åˆä½¿ç”¨ï¼‰
z  # ä½¿ç”¨gzipå‹ç¼©/è§£å‹
j  # ä½¿ç”¨bzip2å‹ç¼©/è§£å‹
J  # ä½¿ç”¨xzå‹ç¼©/è§£å‹
```

**ğŸ’¡ å‚æ•°ç»„åˆè®°å¿†æŠ€å·§**
```
åˆ›å»ºå‹ç¼©åŒ…ï¼šc + v + f + å‹ç¼©æ–¹å¼
è§£å‹å‹ç¼©åŒ…ï¼šx + v + f + å‹ç¼©æ–¹å¼

è®°å¿†å£è¯€ï¼š"åˆ›å»ºæ˜¾ç¤ºæ–‡ä»¶å‹ç¼©ï¼Œè§£å‹æ˜¾ç¤ºæ–‡ä»¶å‹ç¼©"
```

### 2.3 taråŸºæœ¬æ“ä½œç¤ºä¾‹


**ğŸ”§ åˆ›å»ºå½’æ¡£æ–‡ä»¶**
```bash
# åŸºæœ¬æ‰“åŒ…ï¼ˆæ— å‹ç¼©ï¼‰
tar -cvf backup.tar /home/user/documents
# è§£é‡Šï¼šcåˆ›å»º væ˜¾ç¤ºè¿‡ç¨‹ fæŒ‡å®šæ–‡ä»¶å

# æŸ¥çœ‹å½’æ¡£å†…å®¹
tar -tvf backup.tar
# è§£é‡Šï¼štåˆ—è¡¨ vè¯¦ç»†ä¿¡æ¯ fæŒ‡å®šæ–‡ä»¶

# è§£å‹å½’æ¡£æ–‡ä»¶
tar -xvf backup.tar
# è§£é‡Šï¼šxè§£å‹ væ˜¾ç¤ºè¿‡ç¨‹ fæŒ‡å®šæ–‡ä»¶
```

**ğŸ¯ å®é™…åº”ç”¨åœºæ™¯**
```bash
# åœºæ™¯1ï¼šæ‰“åŒ…é¡¹ç›®ä»£ç 
tar -cvf myproject-$(date +%Y%m%d).tar ./myproject

# åœºæ™¯2ï¼šå¤‡ä»½é…ç½®æ–‡ä»¶
tar -cvf config-backup.tar /etc/nginx /etc/mysql

# åœºæ™¯3ï¼šè§£å‹åˆ°æŒ‡å®šç›®å½•
tar -xvf backup.tar -C /tmp/restore
```

### 2.4 taré«˜çº§ç”¨æ³•


**ğŸ” æ’é™¤ç‰¹å®šæ–‡ä»¶**
```bash
# æ’é™¤æŒ‡å®šæ–‡ä»¶ç±»å‹
tar -cvf backup.tar --exclude='*.tmp' --exclude='*.log' /home/user

# ä½¿ç”¨æ’é™¤æ–‡ä»¶åˆ—è¡¨
echo "*.tmp" > exclude.txt
echo "*.log" >> exclude.txt
tar -cvf backup.tar --exclude-from=exclude.txt /home/user
```

**â° åŸºäºæ—¶é—´çš„å¢é‡å¤‡ä»½**
```bash
# åªæ‰“åŒ…æ¯”æŒ‡å®šæ–‡ä»¶æ–°çš„æ–‡ä»¶
tar -cvf incremental.tar --newer-mtime="2024-01-01" /home/user

# ä½¿ç”¨å‚è€ƒæ–‡ä»¶
touch reference-file
tar -cvf newer.tar --newer=reference-file /home/user
```

---

## 3. ğŸ—œï¸ gzip/gunzipå‹ç¼©


### 3.1 gzipå‹ç¼©åŸç†


**gzipæ˜¯ä»€ä¹ˆ**ï¼šGNU zipçš„ç¼©å†™ï¼ŒLinuxä¸­æœ€å¸¸ç”¨çš„å‹ç¼©å·¥å…·
> å°±åƒç”¨åŠ›æŠŠæµ·ç»µå‹æ‰ï¼Œgzipé€šè¿‡ç®—æ³•æ‰¾å‡ºæ–‡ä»¶ä¸­çš„é‡å¤æ¨¡å¼ï¼Œç”¨æ›´çŸ­çš„ä»£ç æ¥è¡¨ç¤ºï¼Œä»è€Œå‡å°æ–‡ä»¶å¤§å°ã€‚

**ğŸ”¸ gzipç‰¹ç‚¹**
```
ä¼˜åŠ¿ï¼š
â€¢ å‹ç¼©é€Ÿåº¦å¿«
â€¢ CPUå ç”¨ä½
â€¢ å…¼å®¹æ€§å¥½ï¼Œå‡ ä¹æ‰€æœ‰Linuxç³»ç»Ÿéƒ½æ”¯æŒ
â€¢ ä¸tarç»“åˆä½¿ç”¨éå¸¸æ–¹ä¾¿

é™åˆ¶ï¼š
â€¢ ä¸€æ¬¡åªèƒ½å‹ç¼©ä¸€ä¸ªæ–‡ä»¶
â€¢ å‹ç¼©æ¯”ä¸å¦‚bzip2å’Œxz
â€¢ å‹ç¼©ååŸæ–‡ä»¶ä¼šè¢«åˆ é™¤ï¼ˆé™¤éä½¿ç”¨-kå‚æ•°ï¼‰
```

### 3.2 gzipåŸºæœ¬ä½¿ç”¨


**ğŸ“ åŸºæœ¬å‹ç¼©æ“ä½œ**
```bash
# å‹ç¼©å•ä¸ªæ–‡ä»¶
gzip filename.txt
# ç»“æœï¼šç”Ÿæˆfilename.txt.gzï¼ŒåŸæ–‡ä»¶è¢«åˆ é™¤

# ä¿ç•™åŸæ–‡ä»¶å‹ç¼©
gzip -k filename.txt
# ç»“æœï¼šç”Ÿæˆfilename.txt.gzï¼ŒåŸæ–‡ä»¶ä¿ç•™

# è§£å‹æ–‡ä»¶
gunzip filename.txt.gz
# æˆ–è€…ä½¿ç”¨
gzip -d filename.txt.gz
```

**âš¡ å‹ç¼©çº§åˆ«æ§åˆ¶**
```bash
# å‹ç¼©çº§åˆ«ï¼š1(æœ€å¿«) åˆ° 9(æœ€å°)
gzip -1 filename.txt    # æœ€å¿«å‹ç¼©
gzip -6 filename.txt    # é»˜è®¤çº§åˆ«
gzip -9 filename.txt    # æœ€é«˜å‹ç¼©æ¯”

# å®é™…æµ‹è¯•å¯¹æ¯”
ls -lh document.txt      # æŸ¥çœ‹åŸæ–‡ä»¶å¤§å°
gzip -1 document1.txt    # å¿«é€Ÿå‹ç¼©
gzip -9 document2.txt    # é«˜å‹ç¼©æ¯”
ls -lh document*.gz      # æ¯”è¾ƒå‹ç¼©ç»“æœ
```

### 3.3 tarä¸gzipç»“åˆä½¿ç”¨


**ğŸ”¥ æœ€å¸¸ç”¨çš„ç»„åˆ**
```bash
# åˆ›å»ºgzipå‹ç¼©çš„taråŒ…
tar -czvf backup.tar.gz /home/user/documents
# è§£é‡Šï¼šcåˆ›å»º zä½¿ç”¨gzip væ˜¾ç¤ºè¿‡ç¨‹ fæŒ‡å®šæ–‡ä»¶å

# è§£å‹gzipå‹ç¼©çš„taråŒ…
tar -xzvf backup.tar.gz
# è§£é‡Šï¼šxè§£å‹ zä½¿ç”¨gzip væ˜¾ç¤ºè¿‡ç¨‹ fæŒ‡å®šæ–‡ä»¶å

# æŸ¥çœ‹å†…å®¹ï¼ˆä¸è§£å‹ï¼‰
tar -tzvf backup.tar.gz
```

**ğŸ’¡ æ–‡ä»¶åçº¦å®š**
```bash
.tar        # ä»…å½’æ¡£ï¼Œæœªå‹ç¼©
.tar.gz     # tarå½’æ¡£ågzipå‹ç¼©ï¼ˆæ¨èï¼‰
.tgz        # .tar.gzçš„ç®€å†™å½¢å¼
```

### 3.4 gzipå®é™…åº”ç”¨æŠ€å·§


**ğŸ¯ æ‰¹é‡å‹ç¼©å¤„ç†**
```bash
# å‹ç¼©ç›®å½•ä¸‹æ‰€æœ‰.txtæ–‡ä»¶
find /path/to/dir -name "*.txt" -exec gzip {} \;

# å‹ç¼©å¤šä¸ªæ–‡ä»¶ä½†ä¿ç•™åŸæ–‡ä»¶
gzip -k *.log

# æŸ¥çœ‹å‹ç¼©æ–‡ä»¶å†…å®¹ï¼ˆä¸è§£å‹ï¼‰
zcat compressed_file.gz
zless compressed_file.gz  # åˆ†é¡µæŸ¥çœ‹
```

**ğŸ“Š å‹ç¼©æ•ˆæœå¯¹æ¯”**
```bash
# å‹ç¼©å‰åå¤§å°å¯¹æ¯”
ls -lh filename.txt
gzip filename.txt
ls -lh filename.txt.gz

# æŸ¥çœ‹å‹ç¼©æ¯”
gzip -l filename.txt.gz
```

---

## 4. ğŸ“ bzip2/bunzip2å‹ç¼©


### 4.1 bzip2å‹ç¼©ç‰¹ç‚¹


**bzip2çš„å®šä½**ï¼šæ¯”gzipå‹ç¼©æ¯”æ›´é«˜çš„å‹ç¼©å·¥å…·
> å¦‚æœè¯´gzipåƒæ™®é€šçš„çœŸç©ºè¢‹ï¼Œé‚£bzip2å°±åƒæ›´å¼ºåŠ›çš„çœŸç©ºæ³µï¼Œèƒ½å‹å¾—æ›´ç´§ï¼Œä½†éœ€è¦æ›´å¤šæ—¶é—´å’ŒåŠ›æ°”ã€‚

**ğŸ”¸ bzip2 vs gzipå¯¹æ¯”**
```
bzip2ä¼˜åŠ¿ï¼š
â€¢ å‹ç¼©æ¯”æ›´é«˜ï¼ˆé€šå¸¸æ¯”gzipå°15-20%ï¼‰
â€¢ æ”¯æŒé”™è¯¯æ¢å¤
â€¢ å¯¹å¤§æ–‡ä»¶å‹ç¼©æ•ˆæœæ›´å¥½

bzip2åŠ£åŠ¿ï¼š
â€¢ å‹ç¼©é€Ÿåº¦è¾ƒæ…¢
â€¢ CPUå ç”¨æ›´é«˜
â€¢ å†…å­˜ä½¿ç”¨è¾ƒå¤š
```

### 4.2 bzip2åŸºæœ¬æ“ä½œ


**ğŸ“ åŸºæœ¬ä½¿ç”¨æ–¹æ³•**
```bash
# å‹ç¼©æ–‡ä»¶
bzip2 filename.txt
# ç»“æœï¼šç”Ÿæˆfilename.txt.bz2ï¼ŒåŸæ–‡ä»¶åˆ é™¤

# ä¿ç•™åŸæ–‡ä»¶å‹ç¼©
bzip2 -k filename.txt
# ç»“æœï¼šç”Ÿæˆfilename.txt.bz2ï¼ŒåŸæ–‡ä»¶ä¿ç•™

# è§£å‹æ–‡ä»¶
bunzip2 filename.txt.bz2
# æˆ–è€…ä½¿ç”¨
bzip2 -d filename.txt.bz2
```

**âš¡ bzip2å‹ç¼©çº§åˆ«**
```bash
# å‹ç¼©çº§åˆ«ï¼š1(æœ€å¿«) åˆ° 9(æœ€å°)
bzip2 -1 filename.txt   # æœ€å¿«å‹ç¼©
bzip2 -6 filename.txt   # é»˜è®¤çº§åˆ«
bzip2 -9 filename.txt   # æœ€é«˜å‹ç¼©æ¯”

# æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯
bzip2 -v filename.txt
```

### 4.3 tarä¸bzip2ç»“åˆ


**ğŸ”§ tar+bzip2æ“ä½œ**
```bash
# åˆ›å»ºbzip2å‹ç¼©çš„taråŒ…
tar -cjvf backup.tar.bz2 /home/user/documents
# è§£é‡Šï¼šjå‚æ•°è¡¨ç¤ºä½¿ç”¨bzip2

# è§£å‹bzip2å‹ç¼©çš„taråŒ…
tar -xjvf backup.tar.bz2

# æŸ¥çœ‹å†…å®¹
tar -tjvf backup.tar.bz2
```

**ğŸ’¡ æ–‡ä»¶åçº¦å®š**
```bash
.tar.bz2    # tarå½’æ¡£åbzip2å‹ç¼©ï¼ˆæ¨èï¼‰
.tbz2       # .tar.bz2çš„ç®€å†™
.tbz        # å¦ä¸€ç§ç®€å†™å½¢å¼
```

### 4.4 bzip2é€‚ç”¨åœºæ™¯


**ğŸ¯ æœ€é€‚åˆçš„ä½¿ç”¨åœºæ™¯**
```
å­˜å‚¨å¯†é›†å‹åº”ç”¨ï¼š
â€¢ é•¿æœŸå½’æ¡£æ–‡ä»¶
â€¢ ç½‘ç»œä¼ è¾“å¸¦å®½æœ‰é™
â€¢ å­˜å‚¨ç©ºé—´ç´§å¼ 
â€¢ å¤§æ–‡ä»¶å‹ç¼©

ä¸é€‚åˆçš„åœºæ™¯ï¼š
â€¢ éœ€è¦é¢‘ç¹å‹ç¼©/è§£å‹
â€¢ CPUæ€§èƒ½æœ‰é™çš„ç³»ç»Ÿ
â€¢ å®æ—¶å¤„ç†åœºæ™¯
```

**ğŸ“Š å®é™…æ•ˆæœæµ‹è¯•**
```bash
# åˆ›å»ºæµ‹è¯•æ–‡ä»¶
dd if=/dev/zero of=test.txt bs=1M count=10

# åˆ†åˆ«ç”¨gzipå’Œbzip2å‹ç¼©
cp test.txt test1.txt && gzip test1.txt
cp test.txt test2.txt && bzip2 test2.txt

# æ¯”è¾ƒå‹ç¼©ç»“æœ
ls -lh test*.bz2 test*.gz
```

---

## 5. ğŸ¯ xzå‹ç¼©ç®—æ³•


### 5.1 xzå‹ç¼©ç‰¹ç‚¹


**xzçš„å®šä½**ï¼šç›®å‰Linuxä¸­å‹ç¼©æ¯”æœ€é«˜çš„é€šç”¨å‹ç¼©å·¥å…·
> å¦‚æœå‹ç¼©æ˜¯ä¸€åœº"ç˜¦èº«æ¯”èµ›"ï¼Œxzå°±æ˜¯æœ€ç»ˆå† å†›ï¼Œèƒ½æŠŠæ–‡ä»¶å‹åˆ°æœ€å°ï¼Œä½†éœ€è¦ä»˜å‡ºæ›´å¤šæ—¶é—´æˆæœ¬ã€‚

**ğŸ”¸ xzå‹ç¼©ç®—æ³•ä¼˜åŠ¿**
```
ä¼˜åŠ¿ç‰¹ç‚¹ï¼š
â€¢ å‹ç¼©æ¯”æœ€é«˜ï¼ˆæ¯”bzip2è¿˜å°10-20%ï¼‰
â€¢ æ”¯æŒå¤šçº¿ç¨‹å‹ç¼©ï¼ˆæ–°ç‰ˆæœ¬ï¼‰
â€¢ é”™è¯¯æ¢å¤èƒ½åŠ›å¼º
â€¢ é€æ¸æˆä¸ºæ–°çš„æ ‡å‡†

åŠ£åŠ¿ï¼š
â€¢ å‹ç¼©é€Ÿåº¦æœ€æ…¢
â€¢ CPUå’Œå†…å­˜å ç”¨å¤§
â€¢ è§£å‹é€Ÿåº¦ä¹Ÿè¾ƒæ…¢
```

### 5.2 xzåŸºæœ¬æ“ä½œ


**ğŸ“ åŸºæœ¬ä½¿ç”¨æ–¹æ³•**
```bash
# å‹ç¼©æ–‡ä»¶
xz filename.txt
# ç»“æœï¼šç”Ÿæˆfilename.txt.xzï¼ŒåŸæ–‡ä»¶åˆ é™¤

# ä¿ç•™åŸæ–‡ä»¶å‹ç¼©
xz -k filename.txt

# è§£å‹æ–‡ä»¶
unxz filename.txt.xz
# æˆ–è€…ä½¿ç”¨
xz -d filename.txt.xz
```

**âš¡ xzå‹ç¼©å‚æ•°**
```bash
# å‹ç¼©çº§åˆ«ï¼š0(æœ€å¿«) åˆ° 9(æœ€å°)
xz -0 filename.txt      # æœ€å¿«å‹ç¼©
xz -6 filename.txt      # é»˜è®¤çº§åˆ«
xz -9 filename.txt      # æœ€é«˜å‹ç¼©æ¯”

# å¤šçº¿ç¨‹å‹ç¼©ï¼ˆå¦‚æœæ”¯æŒï¼‰
xz -T 4 filename.txt    # ä½¿ç”¨4ä¸ªçº¿ç¨‹

# æ˜¾ç¤ºå‹ç¼©è¿›åº¦
xz -v filename.txt
```

### 5.3 tarä¸xzç»“åˆ


**ğŸ”§ tar+xzæ“ä½œ**
```bash
# åˆ›å»ºxzå‹ç¼©çš„taråŒ…
tar -cJvf backup.tar.xz /home/user/documents
# è§£é‡Šï¼šå¤§å†™Jè¡¨ç¤ºä½¿ç”¨xz

# è§£å‹xzå‹ç¼©çš„taråŒ…
tar -xJvf backup.tar.xz

# æŸ¥çœ‹å†…å®¹
tar -tJvf backup.tar.xz
```

**ğŸ’¡ æ–‡ä»¶åçº¦å®š**
```bash
.tar.xz     # tarå½’æ¡£åxzå‹ç¼©ï¼ˆæ¨èï¼‰
.txz        # .tar.xzçš„ç®€å†™å½¢å¼
```

### 5.4 xzæ€§èƒ½è°ƒä¼˜


**ğŸ¯ æ ¹æ®éœ€æ±‚é€‰æ‹©ç­–ç•¥**
```bash
# å¿«é€Ÿå‹ç¼©ï¼ˆé€‚åˆä¸´æ—¶æ–‡ä»¶ï¼‰
xz -1 -T 0 filename.txt

# å¹³è¡¡å‹ç¼©ï¼ˆæ—¥å¸¸ä½¿ç”¨ï¼‰
xz -6 filename.txt

# æœ€é«˜å‹ç¼©ï¼ˆé•¿æœŸå­˜æ¡£ï¼‰
xz -9 -e filename.txt   # -eå¯ç”¨æé™æ¨¡å¼
```

**ğŸ“Š ä¸‰ç§å‹ç¼©å·¥å…·å¯¹æ¯”æµ‹è¯•**
```bash
# å‡†å¤‡æµ‹è¯•æ–‡ä»¶
dd if=/dev/urandom of=test.bin bs=1M count=50

# åˆ†åˆ«å‹ç¼©
cp test.bin test1.bin && gzip test1.bin
cp test.bin test2.bin && bzip2 test2.bin  
cp test.bin test3.bin && xz test3.bin

# æŸ¥çœ‹å‹ç¼©æ•ˆæœ
echo "å‹ç¼©æ•ˆæœå¯¹æ¯”ï¼š"
ls -lh test*.gz test*.bz2 test*.xz
```

---

## 6. ğŸŒ zipè·¨å¹³å°å‹ç¼©


### 6.1 zipå‹ç¼©ç‰¹ç‚¹


**zipçš„ç‰¹æ®Šåœ°ä½**ï¼šè·¨å¹³å°çš„å‹ç¼©æ ¼å¼
> zipå°±åƒå›½é™…é€šç”¨è¯­è¨€ï¼Œä¸ç®¡æ˜¯Windowsã€Macè¿˜æ˜¯Linuxï¼Œå¤§å®¶éƒ½è®¤è¯†ï¼Œéƒ½èƒ½ç”¨ã€‚

**ğŸ”¸ zip vs LinuxåŸç”Ÿå·¥å…·**
```
zipä¼˜åŠ¿ï¼š
â€¢ è·¨å¹³å°å…¼å®¹æ€§å¥½
â€¢ Windowsé»˜è®¤æ”¯æŒ
â€¢ æ”¯æŒåŠ å¯†å’Œåˆ†å·
â€¢ å¯ä»¥æ›´æ–°å·²æœ‰å‹ç¼©åŒ…

LinuxåŸç”Ÿå·¥å…·ä¼˜åŠ¿ï¼š
â€¢ æ›´å¥½çš„å‹ç¼©æ¯”
â€¢ ä¿æŒæ–‡ä»¶æƒé™å’Œå±æ€§
â€¢ ä¸Linuxå·¥å…·é“¾é›†æˆæ›´å¥½
```

### 6.2 zipåŸºæœ¬æ“ä½œ


**ğŸ“ åˆ›å»ºzipå‹ç¼©åŒ…**
```bash
# å‹ç¼©æ–‡ä»¶
zip archive.zip file1.txt file2.txt

# å‹ç¼©ç›®å½•ï¼ˆé€’å½’ï¼‰
zip -r archive.zip /path/to/directory

# åˆ›å»ºå‹ç¼©åŒ…æ—¶æ˜¾ç¤ºè¿‡ç¨‹
zip -r -v archive.zip /path/to/directory
```

**ğŸ”“ è§£å‹zipæ–‡ä»¶**
```bash
# è§£å‹åˆ°å½“å‰ç›®å½•
unzip archive.zip

# è§£å‹åˆ°æŒ‡å®šç›®å½•
unzip archive.zip -d /path/to/destination

# æŸ¥çœ‹å‹ç¼©åŒ…å†…å®¹ï¼ˆä¸è§£å‹ï¼‰
unzip -l archive.zip
```

### 6.3 zipé«˜çº§åŠŸèƒ½


**ğŸ”’ å¯†ç ä¿æŠ¤**
```bash
# åˆ›å»ºåŠ å¯†å‹ç¼©åŒ…
zip -e -r secure.zip /sensitive/data
# ä¼šæç¤ºè¾“å…¥å¯†ç 

# è§£å‹åŠ å¯†æ–‡ä»¶
unzip secure.zip
# ä¼šæç¤ºè¾“å…¥å¯†ç 
```

**ğŸ“¦ åˆ†å·å‹ç¼©**
```bash
# åˆ›å»ºåˆ†å·å‹ç¼©åŒ…ï¼ˆæ¯ä¸ª100MBï¼‰
zip -s 100m -r large.zip /huge/directory

# è§£å‹åˆ†å·æ–‡ä»¶
# é¦–å…ˆåˆå¹¶åˆ†å·
zip -F large.zip --out combined.zip
# ç„¶åè§£å‹
unzip combined.zip
```

### 6.4 zipå®ç”¨æŠ€å·§


**ğŸ¯ å¸¸ç”¨æ“ä½œæŠ€å·§**
```bash
# æ’é™¤ç‰¹å®šæ–‡ä»¶
zip -r archive.zip /path/to/dir -x "*.tmp" "*.log"

# æ›´æ–°å·²æœ‰å‹ç¼©åŒ…
zip -u archive.zip newfile.txt

# åˆ é™¤å‹ç¼©åŒ…ä¸­çš„æ–‡ä»¶
zip -d archive.zip unwanted.txt

# æµ‹è¯•å‹ç¼©åŒ…å®Œæ•´æ€§
unzip -t archive.zip
```

**âš¡ å‹ç¼©çº§åˆ«æ§åˆ¶**
```bash
# å‹ç¼©çº§åˆ«ï¼š0(æ— å‹ç¼©) åˆ° 9(æœ€é«˜å‹ç¼©)
zip -0 store.zip file.txt      # ä»…å­˜å‚¨ï¼Œä¸å‹ç¼©
zip -6 normal.zip file.txt     # é»˜è®¤å‹ç¼©
zip -9 best.zip file.txt       # æœ€é«˜å‹ç¼©æ¯”
```

---

## 7. âš–ï¸ å‹ç¼©æ¯”é€‰æ‹©ç­–ç•¥


### 7.1 å‹ç¼©å·¥å…·æ€§èƒ½å¯¹æ¯”


**ğŸ“Š å®é™…æµ‹è¯•æ•°æ®å¯¹æ¯”**
```
æµ‹è¯•æ–‡ä»¶ï¼š100MBæ··åˆæ•°æ®
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   å·¥å…·   â”‚ å‹ç¼©åå¤§å° â”‚ å‹ç¼©æ—¶é—´  â”‚ è§£å‹æ—¶é—´  â”‚ CPUä½¿ç”¨   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   tar    â”‚  100MB   â”‚   2ç§’    â”‚   1ç§’    â”‚   ä½     â”‚
â”‚   gzip   â”‚   35MB   â”‚   8ç§’    â”‚   3ç§’    â”‚   ä¸­     â”‚
â”‚  bzip2   â”‚   28MB   â”‚  25ç§’    â”‚  12ç§’    â”‚   é«˜     â”‚
â”‚    xz    â”‚   22MB   â”‚  45ç§’    â”‚  18ç§’    â”‚   å¾ˆé«˜   â”‚
â”‚   zip    â”‚   38MB   â”‚  10ç§’    â”‚   4ç§’    â”‚   ä¸­     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 7.2 åº”ç”¨åœºæ™¯é€‰æ‹©æŒ‡å—


**ğŸ¯ æ ¹æ®éœ€æ±‚é€‰æ‹©åˆé€‚å·¥å…·**

**å¿«é€Ÿå¤‡ä»½åœºæ™¯**
```bash
# æ—¥å¸¸æ–‡ä»¶å¤‡ä»½ï¼Œé€Ÿåº¦ä¼˜å…ˆ
tar -czvf daily_backup.tar.gz /home/user
# é€‰æ‹©ç†ç”±ï¼šé€Ÿåº¦å¿«ï¼Œå…¼å®¹æ€§å¥½
```

**é•¿æœŸå­˜æ¡£åœºæ™¯**
```bash
# å†å²æ•°æ®å½’æ¡£ï¼Œç©ºé—´ä¼˜å…ˆ
tar -cJvf archive_2024.tar.xz /archive/2024
# é€‰æ‹©ç†ç”±ï¼šå‹ç¼©æ¯”æœ€é«˜ï¼ŒèŠ‚çœå­˜å‚¨ç©ºé—´
```

**è·¨å¹³å°ä¼ è¾“**
```bash
# éœ€è¦åœ¨Windows/Macä¸Šä½¿ç”¨
zip -r project.zip /project/source
# é€‰æ‹©ç†ç”±ï¼šè·¨å¹³å°å…¼å®¹æ€§æœ€å¥½
```

### 7.3 å†³ç­–æµç¨‹å›¾


**ğŸ”„ å‹ç¼©å·¥å…·é€‰æ‹©æµç¨‹**
```
å¼€å§‹é€‰æ‹©å‹ç¼©å·¥å…·
         â”‚
         â–¼
    éœ€è¦è·¨å¹³å°ï¼Ÿ â”€â”€æ˜¯â”€â”€â†’ é€‰æ‹©zip
         â”‚
        å¦â”‚
         â–¼
    å­˜å‚¨ç©ºé—´ç´§å¼ ï¼Ÿ â”€â”€æ˜¯â”€â”€â†’ é€‰æ‹©xz
         â”‚
        å¦â”‚
         â–¼
    éœ€è¦é¢‘ç¹è®¿é—®ï¼Ÿ â”€â”€æ˜¯â”€â”€â†’ é€‰æ‹©gzip
         â”‚
        å¦â”‚
         â–¼
    å¹³è¡¡å‹ç¼©æ¯”å’Œé€Ÿåº¦ï¼Ÿ â”€â”€æ˜¯â”€â”€â†’ é€‰æ‹©bzip2
         â”‚
        å¦â”‚
         â–¼
    ä»…éœ€è¦æ‰“åŒ…ï¼Ÿ â”€â”€æ˜¯â”€â”€â†’ é€‰æ‹©tar
```

### 7.4 ä¼˜åŒ–ç­–ç•¥å»ºè®®


**ğŸš€ æ€§èƒ½ä¼˜åŒ–æŠ€å·§**

**å¤šçº¿ç¨‹å‹ç¼©**
```bash
# xzå¤šçº¿ç¨‹å‹ç¼©
xz -T 0 largefile.txt  # ä½¿ç”¨æ‰€æœ‰CPUæ ¸å¿ƒ

# pigzï¼ˆå¹¶è¡Œgzipï¼‰
pigz largefile.txt     # éœ€è¦å…ˆå®‰è£…pigz

# pbzip2ï¼ˆå¹¶è¡Œbzip2ï¼‰
pbzip2 largefile.txt   # éœ€è¦å…ˆå®‰è£…pbzip2
```

**å†…å­˜ä½¿ç”¨ä¼˜åŒ–**
```bash
# é™åˆ¶å†…å­˜ä½¿ç”¨ï¼ˆxzï¼‰
xz --memory=512M largefile.txt

# æ§åˆ¶å‹ç¼©å—å¤§å°ï¼ˆbzip2ï¼‰
bzip2 -s largefile.txt  # ä½¿ç”¨å°å—ï¼ŒèŠ‚çœå†…å­˜
```

---

## 8. ğŸ“ˆ å¢é‡å¤‡ä»½æŠ€æœ¯


### 8.1 å¢é‡å¤‡ä»½æ¦‚å¿µ


**å¢é‡å¤‡ä»½çš„å«ä¹‰**ï¼šåªå¤‡ä»½è‡ªä¸Šæ¬¡å¤‡ä»½åå‘ç”Ÿå˜åŒ–çš„æ–‡ä»¶
> å°±åƒæ‹ç…§ç‰‡ï¼Œç¬¬ä¸€æ¬¡æ‹å…¨å®¶ç¦ï¼ˆå…¨é‡ï¼‰ï¼Œåé¢åªæ‹æ–°åŠ å…¥çš„æˆå‘˜ï¼ˆå¢é‡ï¼‰ã€‚

**ğŸ”¸ å¤‡ä»½ç­–ç•¥ç±»å‹**
```
å…¨é‡å¤‡ä»½ï¼ˆFull Backupï¼‰ï¼š
â€¢ å¤‡ä»½æ‰€æœ‰æ–‡ä»¶
â€¢ å¤‡ä»½æ—¶é—´é•¿ï¼Œå ç”¨ç©ºé—´å¤§
â€¢ æ¢å¤ç®€å•ï¼Œåªéœ€è¦ä¸€ä¸ªå¤‡ä»½æ–‡ä»¶

å¢é‡å¤‡ä»½ï¼ˆIncremental Backupï¼‰ï¼š
â€¢ åªå¤‡ä»½å˜åŒ–çš„æ–‡ä»¶
â€¢ å¤‡ä»½æ—¶é—´çŸ­ï¼Œå ç”¨ç©ºé—´å°
â€¢ æ¢å¤éœ€è¦å¤šä¸ªå¤‡ä»½æ–‡ä»¶

å·®å¼‚å¤‡ä»½ï¼ˆDifferential Backupï¼‰ï¼š
â€¢ å¤‡ä»½è‡ªä¸Šæ¬¡å…¨é‡å¤‡ä»½åçš„æ‰€æœ‰å˜åŒ–
â€¢ æ—¶é—´å’Œç©ºé—´æ¶ˆè€—ä»‹äºä¸¤è€…ä¹‹é—´
```

### 8.2 tarå¢é‡å¤‡ä»½å®ç°


**ğŸ“ åŸºäºæ—¶é—´æˆ³çš„å¢é‡å¤‡ä»½**
```bash
# ç¬¬ä¸€æ¬¡å…¨é‡å¤‡ä»½
tar -czvf full_backup_$(date +%Y%m%d).tar.gz /home/user
# åˆ›å»ºæ—¶é—´æˆ³æ–‡ä»¶
touch /tmp/backup_timestamp

# å¢é‡å¤‡ä»½ï¼ˆåªå¤‡ä»½æ¯”æ—¶é—´æˆ³æ–°çš„æ–‡ä»¶ï¼‰
tar -czvf incremental_$(date +%Y%m%d_%H%M).tar.gz \
    --newer-mtime-than=/tmp/backup_timestamp /home/user
# æ›´æ–°æ—¶é—´æˆ³
touch /tmp/backup_timestamp
```

**ğŸ” åŸºäºå¿«ç…§çš„å¢é‡å¤‡ä»½**
```bash
# ä½¿ç”¨GNU tarçš„å¿«ç…§åŠŸèƒ½
# ç¬¬ä¸€æ¬¡å¤‡ä»½ï¼ˆåˆ›å»ºå¿«ç…§æ–‡ä»¶ï¼‰
tar -czvf level0.tar.gz \
    --listed-incremental=backup.snar /home/user

# ç¬¬ä¸€æ¬¡å¢é‡å¤‡ä»½
tar -czvf level1.tar.gz \
    --listed-incremental=backup.snar /home/user

# ç¬¬äºŒæ¬¡å¢é‡å¤‡ä»½
tar -czvf level2.tar.gz \
    --listed-incremental=backup.snar /home/user
```

### 8.3 å¢é‡å¤‡ä»½è„šæœ¬ç¤ºä¾‹


**ğŸ”§ è‡ªåŠ¨åŒ–å¢é‡å¤‡ä»½è„šæœ¬**
```bash
#!/bin/bash
# å¢é‡å¤‡ä»½è„šæœ¬ç¤ºä¾‹

# é…ç½®å‚æ•°
BACKUP_SOURCE="/home/user"
BACKUP_DEST="/backup"
TIMESTAMP_FILE="/tmp/backup_timestamp"
DATE=$(date +%Y%m%d_%H%M%S)

# æ£€æŸ¥æ˜¯å¦éœ€è¦å…¨é‡å¤‡ä»½ï¼ˆæ¯å‘¨ä¸€æ¬¡ï¼‰
if [ $(date +%u) -eq 1 ] || [ ! -f "$TIMESTAMP_FILE" ]; then
    echo "æ‰§è¡Œå…¨é‡å¤‡ä»½..."
    tar -czvf "$BACKUP_DEST/full_$DATE.tar.gz" "$BACKUP_SOURCE"
    touch "$TIMESTAMP_FILE"
    echo "å…¨é‡å¤‡ä»½å®Œæˆ"
else
    echo "æ‰§è¡Œå¢é‡å¤‡ä»½..."
    tar -czvf "$BACKUP_DEST/inc_$DATE.tar.gz" \
        --newer-mtime-than="$TIMESTAMP_FILE" "$BACKUP_SOURCE"
    touch "$TIMESTAMP_FILE"
    echo "å¢é‡å¤‡ä»½å®Œæˆ"
fi
```

### 8.4 å¢é‡å¤‡ä»½çš„æ¢å¤


**ğŸ”„ å¢é‡å¤‡ä»½æ¢å¤æµç¨‹**
```bash
# æ¢å¤æµç¨‹ï¼ˆå‡è®¾éœ€è¦æ¢å¤åˆ°æŸä¸ªæ—¶é—´ç‚¹ï¼‰

# 1. å…ˆæ¢å¤å…¨é‡å¤‡ä»½
tar -xzvf full_20240115.tar.gz -C /restore

# 2. æŒ‰é¡ºåºæ¢å¤å¢é‡å¤‡ä»½
tar -xzvf inc_20240116.tar.gz -C /restore
tar -xzvf inc_20240117.tar.gz -C /restore
tar -xzvf inc_20240118.tar.gz -C /restore

# 3. ä½¿ç”¨å¿«ç…§æ–¹å¼çš„æ¢å¤
# æ¢å¤å®Œæ•´æ•°æ®éœ€è¦æŒ‰é¡ºåºæ¢å¤æ‰€æœ‰çº§åˆ«
tar -xzvf level0.tar.gz -C /restore
tar -xzvf level1.tar.gz -C /restore  
tar -xzvf level2.tar.gz -C /restore
```

---

## 9. âœ… å‹ç¼©åŒ…å®Œæ•´æ€§éªŒè¯


### 9.1 ä¸ºä»€ä¹ˆéœ€è¦å®Œæ•´æ€§éªŒè¯


**æ•°æ®å®Œæ•´æ€§çš„é‡è¦æ€§**
> å°±åƒå¯„åŒ…è£¹è¦æ£€æŸ¥åŒ…è£…æ˜¯å¦å®Œå¥½ï¼Œå‹ç¼©åŒ…åœ¨ä¼ è¾“å’Œå­˜å‚¨è¿‡ç¨‹ä¸­å¯èƒ½æŸåï¼ŒéªŒè¯å®Œæ•´æ€§èƒ½ç¡®ä¿æ•°æ®å®‰å…¨ã€‚

**ğŸ”¸ å¯èƒ½å¯¼è‡´æŸåçš„å› ç´ **
```
å¸¸è§æŸååŸå› ï¼š
â€¢ ç½‘ç»œä¼ è¾“é”™è¯¯
â€¢ å­˜å‚¨ä»‹è´¨æ•…éšœ
â€¢ æ„å¤–çš„ç¨‹åºä¸­æ–­
â€¢ æ–‡ä»¶ç³»ç»Ÿé”™è¯¯
â€¢ æ¶æ„ä¿®æ”¹
```

### 9.2 å„ç§å‹ç¼©æ ¼å¼çš„å®Œæ•´æ€§æ£€æŸ¥


**ğŸ“ gzipå®Œæ•´æ€§éªŒè¯**
```bash
# æµ‹è¯•gzipæ–‡ä»¶å®Œæ•´æ€§
gzip -t filename.gz
# è¿”å›0è¡¨ç¤ºæ–‡ä»¶å®Œæ•´ï¼Œé0è¡¨ç¤ºæœ‰é”™è¯¯

# æ‰¹é‡æµ‹è¯•å¤šä¸ªæ–‡ä»¶
gzip -tv *.gz

# æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯
gzip -l filename.gz
```

**ğŸ“ bzip2å®Œæ•´æ€§éªŒè¯**
```bash
# æµ‹è¯•bzip2æ–‡ä»¶å®Œæ•´æ€§
bzip2 -t filename.bz2

# è¯¦ç»†æµ‹è¯•ä¿¡æ¯
bzip2 -tv filename.bz2

# æ‰¹é‡æµ‹è¯•
bzip2 -tv *.bz2
```

**ğŸ“ xzå®Œæ•´æ€§éªŒè¯**
```bash
# æµ‹è¯•xzæ–‡ä»¶å®Œæ•´æ€§
xz -t filename.xz

# è¯¦ç»†æµ‹è¯•ä¿¡æ¯
xz -tv filename.xz

# æ‰¹é‡æµ‹è¯•
xz -tv *.xz
```

**ğŸ“ zipå®Œæ•´æ€§éªŒè¯**
```bash
# æµ‹è¯•zipæ–‡ä»¶å®Œæ•´æ€§
unzip -t filename.zip

# è¯¦ç»†æµ‹è¯•ä¿¡æ¯
unzip -tq filename.zip

# éªŒè¯CRCæ ¡éªŒç 
zip -T filename.zip
```

### 9.3 tarå½’æ¡£å®Œæ•´æ€§éªŒè¯


**ğŸ” taræ–‡ä»¶å®Œæ•´æ€§æ£€æŸ¥**
```bash
# æ£€æŸ¥taræ–‡ä»¶å®Œæ•´æ€§
tar -tf archive.tar > /dev/null
# å¦‚æœæ²¡æœ‰é”™è¯¯è¾“å‡ºï¼Œè¯´æ˜æ–‡ä»¶å®Œæ•´

# è¯¦ç»†éªŒè¯tar.gzæ–‡ä»¶
tar -tzf archive.tar.gz > /dev/null
echo $?  # 0è¡¨ç¤ºæˆåŠŸ

# æ¯”è¾ƒéªŒè¯ï¼ˆæ¨èæ–¹æ³•ï¼‰
# åˆ›å»ºæ–‡ä»¶åˆ—è¡¨
tar -tvf archive.tar > archive_contents.txt
# éªŒè¯æ—¶æ¯”è¾ƒ
tar -tvf archive.tar > verify_contents.txt
diff archive_contents.txt verify_contents.txt
```

### 9.4 æ ¡éªŒå’ŒéªŒè¯æ–¹æ³•


**ğŸ” ä½¿ç”¨æ ¡éªŒå’ŒéªŒè¯**
```bash
# åˆ›å»ºæ ¡éªŒå’Œæ–‡ä»¶
md5sum backup.tar.gz > backup.tar.gz.md5
sha256sum backup.tar.gz > backup.tar.gz.sha256

# éªŒè¯æ ¡éªŒå’Œ
md5sum -c backup.tar.gz.md5
sha256sum -c backup.tar.gz.sha256

# æ‰¹é‡åˆ›å»ºæ ¡éªŒå’Œ
find /backup -name "*.tar.gz" -exec md5sum {} \; > all_backups.md5
```

**ğŸ”§ å®Œæ•´çš„å¤‡ä»½éªŒè¯è„šæœ¬**
```bash
#!/bin/bash
# å¤‡ä»½å®Œæ•´æ€§éªŒè¯è„šæœ¬

BACKUP_FILE="$1"

if [ -z "$BACKUP_FILE" ]; then
    echo "ç”¨æ³•: $0 <å¤‡ä»½æ–‡ä»¶>"
    exit 1
fi

echo "å¼€å§‹éªŒè¯: $BACKUP_FILE"

# æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨
if [ ! -f "$BACKUP_FILE" ]; then
    echo "é”™è¯¯: æ–‡ä»¶ä¸å­˜åœ¨"
    exit 1
fi

# æ ¹æ®æ‰©å±•åé€‰æ‹©éªŒè¯æ–¹æ³•
case "$BACKUP_FILE" in
    *.tar.gz|*.tgz)
        echo "éªŒè¯tar.gzæ–‡ä»¶..."
        tar -tzf "$BACKUP_FILE" > /dev/null && echo "âœ… æ–‡ä»¶å®Œæ•´" || echo "âŒ æ–‡ä»¶æŸå"
        ;;
    *.tar.bz2|*.tbz2)
        echo "éªŒè¯tar.bz2æ–‡ä»¶..."
        tar -tjf "$BACKUP_FILE" > /dev/null && echo "âœ… æ–‡ä»¶å®Œæ•´" || echo "âŒ æ–‡ä»¶æŸå"
        ;;
    *.tar.xz|*.txz)
        echo "éªŒè¯tar.xzæ–‡ä»¶..."
        tar -tJf "$BACKUP_FILE" > /dev/null && echo "âœ… æ–‡ä»¶å®Œæ•´" || echo "âŒ æ–‡ä»¶æŸå"
        ;;
    *.zip)
        echo "éªŒè¯zipæ–‡ä»¶..."
        unzip -t "$BACKUP_FILE" > /dev/null && echo "âœ… æ–‡ä»¶å®Œæ•´" || echo "âŒ æ–‡ä»¶æŸå"
        ;;
    *)
        echo "ä¸æ”¯æŒçš„æ–‡ä»¶æ ¼å¼"
        exit 1
        ;;
esac

# å¦‚æœå­˜åœ¨æ ¡éªŒå’Œæ–‡ä»¶ï¼Œè¿›è¡Œæ ¡éªŒ
if [ -f "$BACKUP_FILE.md5" ]; then
    echo "éªŒè¯MD5æ ¡éªŒå’Œ..."
    md5sum -c "$BACKUP_FILE.md5"
fi

if [ -f "$BACKUP_FILE.sha256" ]; then
    echo "éªŒè¯SHA256æ ¡éªŒå’Œ..."
    sha256sum -c "$BACKUP_FILE.sha256"
fi
```

---

## 10. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 10.1 å¿…é¡»æŒæ¡çš„åŸºæœ¬æ¦‚å¿µ


**ğŸ”¸ æ ¸å¿ƒå·¥å…·æŒæ¡**
```
tar: 
â€¢ å½’æ¡£å·¥å…·ï¼ŒæŠŠå¤šä¸ªæ–‡ä»¶æ‰“åŒ…æˆä¸€ä¸ª
â€¢ æœ€å¸¸ç”¨ç»„åˆï¼štar -czvfï¼ˆåˆ›å»ºï¼‰ tar -xzvfï¼ˆè§£å‹ï¼‰

gzip/gunzip:
â€¢ æœ€å¸¸ç”¨çš„å‹ç¼©å·¥å…·ï¼Œé€Ÿåº¦å¿«å…¼å®¹æ€§å¥½
â€¢ ä¸tarå®Œç¾ç»“åˆï¼š*.tar.gzæ ¼å¼

bzip2/bunzip2:
â€¢ å‹ç¼©æ¯”æ›´é«˜ï¼Œé€‚åˆå­˜å‚¨å¯†é›†å‹åº”ç”¨
â€¢ æ–‡ä»¶æ‰©å±•åï¼š*.tar.bz2

xz/unxz:
â€¢ å‹ç¼©æ¯”æœ€é«˜ï¼Œä½†é€Ÿåº¦è¾ƒæ…¢
â€¢ æ–‡ä»¶æ‰©å±•åï¼š*.tar.xz

zip/unzip:
â€¢ è·¨å¹³å°æœ€ä½³é€‰æ‹©ï¼ŒWindowså…¼å®¹
â€¢ æ”¯æŒåŠ å¯†å’Œåˆ†å·åŠŸèƒ½
```

### 10.2 å…³é”®æ“ä½œè®°å¿†


**ğŸ¯ å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥**
```bash
# åˆ›å»ºå‹ç¼©åŒ…
tar -czvf backup.tar.gz /path    # gzipå‹ç¼©
tar -cjvf backup.tar.bz2 /path   # bzip2å‹ç¼©  
tar -cJvf backup.tar.xz /path    # xzå‹ç¼©
zip -r backup.zip /path          # zipå‹ç¼©

# è§£å‹å‹ç¼©åŒ…
tar -xzvf backup.tar.gz          # è§£å‹gzip
tar -xjvf backup.tar.bz2         # è§£å‹bzip2
tar -xJvf backup.tar.xz          # è§£å‹xz
unzip backup.zip                 # è§£å‹zip

# æŸ¥çœ‹å†…å®¹ï¼ˆä¸è§£å‹ï¼‰
tar -tzvf backup.tar.gz          # æŸ¥çœ‹tar.gz
unzip -l backup.zip              # æŸ¥çœ‹zip

# å®Œæ•´æ€§éªŒè¯
tar -tzf backup.tar.gz > /dev/null  # éªŒè¯tar.gz
unzip -t backup.zip                  # éªŒè¯zip
```

### 10.3 é€‰æ‹©ç­–ç•¥æŒ‡å—


**âš–ï¸ å·¥å…·é€‰æ‹©å†³ç­–è¡¨**
```
åœºæ™¯å¯¼å‘é€‰æ‹©ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     ä½¿ç”¨åœºæ™¯     â”‚    æ¨èå·¥å…·     â”‚      åŸå›        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   æ—¥å¸¸å¤‡ä»½      â”‚   tar + gzip    â”‚  é€Ÿåº¦å¿«ï¼Œé€šç”¨   â”‚
â”‚   é•¿æœŸå½’æ¡£      â”‚   tar + xz      â”‚  å‹ç¼©æ¯”æœ€é«˜     â”‚
â”‚   è·¨å¹³å°ä¼ è¾“    â”‚      zip        â”‚  å…¼å®¹æ€§æœ€å¥½     â”‚
â”‚   ç½‘ç»œä¼ è¾“      â”‚   tar + bzip2   â”‚  å¹³è¡¡å‹ç¼©æ¯”     â”‚
â”‚   é¢‘ç¹è®¿é—®      â”‚   tar + gzip    â”‚  è§£å‹é€Ÿåº¦å¿«     â”‚
â”‚   æ•æ„Ÿæ•°æ®      â”‚   zip(åŠ å¯†)     â”‚  æ”¯æŒå¯†ç ä¿æŠ¤   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 10.4 å®é™…åº”ç”¨å»ºè®®


**ğŸš€ æœ€ä½³å®è·µ**

**å¤‡ä»½ç­–ç•¥å»ºè®®**
```bash
# æ—¥å¸¸è‡ªåŠ¨å¤‡ä»½
tar -czvf backup_$(date +%Y%m%d).tar.gz /important/data

# é•¿æœŸå­˜æ¡£
tar -cJvf archive_$(date +%Y).tar.xz /archive/data

# è·¨å¹³å°åˆ†äº«
zip -r -9 project.zip /project/files
```

**æ€§èƒ½ä¼˜åŒ–å»ºè®®**
```bash
# å¤§æ–‡ä»¶å‹ç¼©ä½¿ç”¨å¤šçº¿ç¨‹å·¥å…·
pigz -p 4 largefile.txt    # å¹¶è¡Œgzip
xz -T 4 largefile.txt      # xzå¤šçº¿ç¨‹

# å†…å­˜æœ‰é™æ—¶
xz --memory=512M largefile.txt
bzip2 -s largefile.txt
```

**å®Œæ•´æ€§ä¿æŠ¤**
```bash
# åˆ›å»ºå¤‡ä»½æ—¶ç”Ÿæˆæ ¡éªŒå’Œ
tar -czvf backup.tar.gz /data && sha256sum backup.tar.gz > backup.tar.gz.sha256

# ä¼ è¾“å‰åéªŒè¯
sha256sum -c backup.tar.gz.sha256
```

### 10.5 æ•…éšœæ’é™¤æŒ‡å—


**ğŸ”§ å¸¸è§é—®é¢˜è§£å†³**

**å‹ç¼©åŒ…æŸå**
```bash
# ä½¿ç”¨å·¥å…·è‡ªå¸¦çš„ä¿®å¤åŠŸèƒ½
bzip2recover damaged.tar.bz2    # bzip2ä¿®å¤
zip -F damaged.zip --out fixed.zip  # zipä¿®å¤
```

**ç©ºé—´ä¸è¶³é—®é¢˜**
```bash
# å‹ç¼©æ—¶æŒ‡å®šä¸´æ—¶ç›®å½•
TMPDIR=/tmp/large tar -czvf backup.tar.gz /data

# åˆ†æ®µå‹ç¼©å¤§æ–‡ä»¶
split -b 100M largefile.tar.gz chunk_
```

**æƒé™å’Œå±æ€§ä¿æŒ**
```bash
# ä¿æŒæ–‡ä»¶æƒé™
tar -czvpf backup.tar.gz /data    # -pä¿æŒæƒé™

# ä¿æŒæ‰€æœ‰å±æ€§ï¼ˆéœ€è¦rootæƒé™ï¼‰
tar --xattrs --acls -czvf backup.tar.gz /data
```

**æ ¸å¿ƒè®°å¿†å£è¯€**ï¼š
- taræ‰“åŒ…gzipå‹ï¼Œé€Ÿåº¦å¿«æ¥ç”¨é€”å¹¿
- bzip2å‹ç¼©æ¯”æ›´é«˜ï¼Œå­˜å‚¨ç©ºé—´è¦èŠ‚çº¦  
- xzå‹ç¼©æ˜¯æœ€å¼ºï¼Œå½’æ¡£é•¿æœŸæ¥ä¿å­˜
- zipè·¨å¹³å°æœ€é€šç”¨ï¼ŒWindowsä¹Ÿèƒ½ç”¨
- å®Œæ•´æ€§éªŒè¯åˆ«å¿˜è®°ï¼Œæ•°æ®å®‰å…¨ç¬¬ä¸€ä½