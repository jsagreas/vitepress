---
title: 3、DNS智能解析与流量调度
---
## 📚 目录

1. [DNS智能解析基础概念](#1-DNS智能解析基础概念)
2. [DNS记录类型与配置](#2-DNS记录类型与配置)
3. [地理位置智能解析](#3-地理位置智能解析)
4. [运营商线路识别与调度](#4-运营商线路识别与调度)
5. [DNS缓存与TTL优化](#5-DNS缓存与TTL优化)
6. [GSLB全局负载均衡](#6-GSLB全局负载均衡)
7. [故障切换与防护机制](#7-故障切换与防护机制)
8. [核心要点总结](#8-核心要点总结)

---

## 1. 🌐 DNS智能解析基础概念


### 1.1 什么是DNS智能解析


**🔍 通俗理解**：
想象你要去最近的银行取钱，DNS智能解析就像一个聪明的向导，它会根据你的位置、时间、路况等因素，自动为你推荐最近、最快的银行网点，而不是总是告诉你同一个地址。

```
传统DNS解析：
用户询问：www.example.com的IP是什么？
DNS服务器：永远回答同一个IP：192.168.1.100

智能DNS解析：
北京用户询问：www.example.com的IP是什么？
DNS服务器：回答北京机房IP：123.123.1.100

上海用户询问：www.example.com的IP是什么？
DNS服务器：回答上海机房IP：124.124.1.100
```

**💡 核心价值**：
- **就近访问**：用户自动连接到最近的服务器
- **负载分担**：将用户流量分散到不同服务器
- **故障容错**：某个服务器故障时自动切换
- **性能优化**：减少网络延迟，提升用户体验

### 1.2 智能解析的工作原理


```
智能解析决策流程：

用户请求 → DNS服务器接收
    ↓
分析用户信息（IP地址、运营商等）
    ↓
┌─ 地理位置判断 ─────────────┐
│ 北京用户 → 北京机房        │
│ 上海用户 → 上海机房        │
│ 广州用户 → 广州机房        │
└────────────────────────────┘
    ↓
┌─ 运营商线路判断 ───────────┐
│ 电信用户 → 电信线路        │
│ 联通用户 → 联通线路        │
│ 移动用户 → 移动线路        │
└────────────────────────────┘
    ↓
┌─ 健康状态检查 ─────────────┐
│ 服务器正常 → 返回IP        │
│ 服务器故障 → 切换备用IP    │
└────────────────────────────┘
    ↓
返回最优IP地址给用户
```

### 1.3 智能解析的应用场景


**🎯 典型应用场景**：

**CDN内容分发**：
- 用户访问静态资源时自动选择最近的CDN节点
- 视频网站根据用户位置分配最优的视频服务器

**多机房部署**：
- 企业在多个城市部署服务器
- 用户自动连接到最近的机房

**游戏加速**：
- 游戏玩家自动连接到延迟最低的游戏服务器
- 减少游戏卡顿，提升用户体验

---

## 2. 📋 DNS记录类型与配置


### 2.1 核心DNS记录类型详解


**🔸 A记录（Address Record）**

```
作用：将域名直接指向IPv4地址
格式：域名 → IP地址

示例配置：
www.example.com.    A    192.168.1.100
api.example.com.    A    192.168.1.101
cdn.example.com.    A    192.168.1.102
```

**💭 生活类比**：A记录就像门牌号码，直接告诉你这个地址对应的具体门牌号。

**🔸 CNAME记录（Canonical Name）**

```
作用：将域名指向另一个域名（别名）
格式：别名域名 → 真实域名

示例配置：
blog.example.com.     CNAME    www.example.com.
shop.example.com.     CNAME    www.example.com.
mobile.example.com.   CNAME    www.example.com.
```

**💭 生活类比**：CNAME就像给一个人起外号，多个外号都指向同一个真实姓名。

### 2.2 A记录与CNAME记录的选择


**🔄 对比分析**：

| 特性 | **A记录** | **CNAME记录** |
|------|-----------|---------------|
| **指向目标** | `直接指向IP地址` | `指向另一个域名` |
| **解析速度** | `快速，一次解析` | `较慢，需要递归解析` |
| **灵活性** | `需要手动更新IP` | `自动跟随目标域名变化` |
| **适用场景** | `固定IP服务` | `需要灵活切换的服务` |

**🎯 选择建议**：

```
使用A记录的场景：
✅ 服务器IP地址固定不变
✅ 需要最快的解析速度
✅ 直接控制服务器的情况

使用CNAME记录的场景：
✅ 使用CDN服务（如阿里云CDN）
✅ 服务器IP可能变化
✅ 多个子域名指向同一服务
✅ 使用第三方服务（如GitHub Pages）
```

### 2.3 实际配置示例


**DNS配置文件示例**：

```bash
# /etc/bind/db.example.com
$TTL    86400
@       IN      SOA     ns1.example.com. admin.example.com. (
                        2023011801      ; Serial
                        3600           ; Refresh
                        1800           ; Retry
                        604800         ; Expire
                        86400 )        ; Minimum

; Name servers
        IN      NS      ns1.example.com.
        IN      NS      ns2.example.com.

; A records for different regions
www             IN      A       192.168.1.100    ; 默认服务器
www.bj          IN      A       123.123.1.100    ; 北京机房
www.sh          IN      A       124.124.1.100    ; 上海机房
www.gz          IN      A       125.125.1.100    ; 广州机房

; CNAME records
blog            IN      CNAME   www.example.com.
api             IN      CNAME   www.example.com.
cdn             IN      CNAME   cdn.cloudflare.com.
```

---

## 3. 🌍 地理位置智能解析


### 3.1 GeoDNS地理定位原理


**🗺️ 地理定位机制**：

GeoDNS通过分析用户的IP地址来判断其地理位置，然后返回最适合该地区的服务器IP地址。

```
地理定位流程：

用户IP地址：123.456.78.90
    ↓
IP地址库查询
    ↓
┌─ IP归属地分析 ─────────────┐
│ 123.456.78.90 = 北京市     │
│ 运营商：中国电信            │
│ 区域：华北地区              │
└────────────────────────────┘
    ↓
选择最优服务器
    ↓
返回北京机房IP：123.123.1.100
```

**🔍 地理位置数据来源**：
- **IP地址库**：MaxMind GeoIP、纯真IP数据库等
- **运营商信息**：根据IP段识别电信、联通、移动
- **ASN信息**：自治系统号，更精确的网络归属

### 3.2 地理解析策略配置


**🎯 分区解析配置**：

```bash
# 华北地区用户解析配置
view "north-china" {
    match-clients { 
        123.0.0.0/8;      # 北京电信
        124.0.0.0/8;      # 天津联通
        125.0.0.0/8;      # 河北移动
    };
    
    zone "example.com" {
        type master;
        file "/etc/bind/zones/example.com.north";
    };
};

# 华东地区用户解析配置
view "east-china" {
    match-clients {
        180.0.0.0/8;      # 上海电信
        183.0.0.0/8;      # 江苏联通
        184.0.0.0/8;      # 浙江移动
    };
    
    zone "example.com" {
        type master;
        file "/etc/bind/zones/example.com.east";
    };
};
```

### 3.3 GeoDNS的实际效果


**📊 性能提升对比**：

```
传统单一解析：
┌─ 全球用户访问情况 ─────────┐
│ 北京用户 → 美国服务器      │
│ 延迟：200ms               │
│ 上海用户 → 美国服务器      │
│ 延迟：250ms               │
│ 广州用户 → 美国服务器      │
│ 延迟：280ms               │
└────────────────────────────┘

GeoDNS智能解析：
┌─ 就近访问效果 ─────────────┐
│ 北京用户 → 北京机房        │
│ 延迟：20ms ⬇️降低90%       │
│ 上海用户 → 上海机房        │
│ 延迟：15ms ⬇️降低94%       │
│ 广州用户 → 广州机房        │
│ 延迟：25ms ⬇️降低91%       │
└────────────────────────────┘
```

---

## 4. 🏢 运营商线路识别与调度


### 4.1 中国网络运营商格局


**🌐 主要运营商分布**：

```
中国三大运营商网络架构：

┌─ 中国电信 ─────────────────┐
│ 覆盖：南方21省             │
│ 特点：国际出口优势         │
│ IP段：202.96.x.x等         │
└────────────────────────────┘

┌─ 中国联通 ─────────────────┐
│ 覆盖：北方10省             │
│ 特点：网络质量稳定         │
│ IP段：61.135.x.x等         │
└────────────────────────────┘

┌─ 中国移动 ─────────────────┐
│ 覆盖：全国（主要是移动网） │
│ 特点：移动用户量最大       │
│ IP段：183.232.x.x等        │
└────────────────────────────┘
```

### 4.2 运营商识别机制


**🔍 识别方法**：

**IP地址段识别**：
```bash
# 电信IP段识别规则
acl "telecom-users" {
    202.96.0.0/11;
    202.100.0.0/14;
    218.0.0.0/8;
    # 更多电信IP段...
};

# 联通IP段识别规则  
acl "unicom-users" {
    61.135.0.0/16;
    123.125.0.0/16;
    110.242.0.0/15;
    # 更多联通IP段...
};

# 移动IP段识别规则
acl "mobile-users" {
    183.232.0.0/13;
    120.196.0.0/14;
    # 更多移动IP段...
};
```

### 4.3 运营商线路调度策略


**🎯 智能调度配置**：

```bash
# BIND9运营商分线解析配置
view "telecom-view" {
    match-clients { telecom-users; };
    recursion no;
    
    zone "example.com" {
        type master;
        file "/etc/bind/zones/example.com.telecom";
    };
};

view "unicom-view" {
    match-clients { unicom-users; };
    recursion no;
    
    zone "example.com" {
        type master;
        file "/etc/bind/zones/example.com.unicom";
    };
};

view "mobile-view" {
    match-clients { mobile-users; };
    recursion no;
    
    zone "example.com" {
        type master;
        file "/etc/bind/zones/example.com.mobile";
    };
};
```

**📋 分线解析配置文件**：

```bash
# /etc/bind/zones/example.com.telecom
$TTL 300
@       IN  SOA ns1.example.com. admin.example.com. (
                2023011801 3600 1800 604800 300)
        IN  NS  ns1.example.com.
        IN  NS  ns2.example.com.

www     IN  A   123.123.1.100    ; 电信线路服务器
api     IN  A   123.123.1.101    ; 电信API服务器
cdn     IN  A   123.123.1.102    ; 电信CDN节点

# /etc/bind/zones/example.com.unicom  
www     IN  A   124.124.1.100    ; 联通线路服务器
api     IN  A   124.124.1.101    ; 联通API服务器
cdn     IN  A   124.124.1.102    ; 联通CDN节点
```

### 4.4 跨网访问优化


**⚡ 网络互联优化**：

```
跨网访问问题：
电信用户 → 联通服务器 = 慢速访问
联通用户 → 电信服务器 = 慢速访问

解决方案：
┌─ 多线BGP机房 ──────────────┐
│ 同时接入电信、联通、移动   │
│ 用户访问同运营商线路       │
│ 避免跨网互联瓶颈           │
└────────────────────────────┘

智能调度效果：
电信用户 → 电信线路 → 高速访问
联通用户 → 联通线路 → 高速访问
移动用户 → 移动线路 → 高速访问
```

---

## 5. ⏰ DNS缓存与TTL优化


### 5.1 TTL值的作用机制


**🕐 TTL（Time To Live）含义**：

TTL就像食品的保质期，告诉DNS缓存服务器这条记录可以存放多长时间。

```
TTL工作流程：

用户首次访问 www.example.com
    ↓
本地DNS查询权威DNS
    ↓
权威DNS返回：IP=192.168.1.100, TTL=300秒
    ↓
本地DNS缓存该记录300秒
    ↓
300秒内其他用户查询时直接返回缓存结果
    ↓
300秒后缓存过期，需要重新查询
```

### 5.2 TTL值设置策略


**📊 不同场景的TTL设置**：

| 应用场景 | **TTL值** | **说明** | **适用情况** |
|----------|-----------|----------|--------------|
| **网站正常运行** | `300-3600秒` | `5分钟到1小时` | `稳定的生产环境` |
| **故障切换** | `60-300秒` | `1-5分钟` | `需要快速切换时` |
| **维护期间** | `30-60秒` | `30秒到1分钟` | `正在调整服务器` |
| **CDN加速** | `600-3600秒` | `10分钟到1小时` | `静态资源分发` |

**🎯 TTL优化策略**：

```bash
# 针对不同记录类型的TTL设置
$TTL 3600        ; 默认TTL 1小时

; 主站服务器 - 较长TTL（稳定）
www     3600    IN  A   192.168.1.100

; API服务器 - 中等TTL（可能调整）  
api     1800    IN  A   192.168.1.101

; 故障切换服务 - 短TTL（快速切换）
backup   300    IN  A   192.168.1.102

; CDN服务 - 长TTL（稳定不变）
cdn     7200    IN  CNAME  cdn.provider.com.
```

### 5.3 DNS缓存层次结构


**🔄 多级缓存体系**：

```
DNS缓存层次：

浏览器缓存 → 操作系统缓存 → 本地DNS → 权威DNS
    ↓           ↓            ↓         ↓
  几分钟     几分钟到几小时   TTL时间   实时更新
```

**💡 缓存管理命令**：

```bash
# 清除本地DNS缓存
# Windows系统
ipconfig /flushdns

# Linux系统  
systemctl restart systemd-resolved
# 或
sudo /etc/init.d/networking restart

# macOS系统
sudo dscacheutil -flushcache

# 查看DNS缓存
# Linux查看systemd-resolved缓存
systemd-resolve --status
```

### 5.4 缓存预热策略


**🚀 提升首次访问速度**：

```bash
# DNS预解析技术
# 在网页头部添加DNS预解析指令
<link rel="dns-prefetch" href="//cdn.example.com">
<link rel="dns-prefetch" href="//api.example.com">
<link rel="dns-prefetch" href="//static.example.com">

# 预连接（更进一步）
<link rel="preconnect" href="//cdn.example.com">
```

---

## 6. 🌍 GSLB全局负载均衡


### 6.1 GSLB基本概念


**🎯 GSLB（Global Server Load Balancing）含义**：

GSLB就像一个全球性的交通指挥中心，它会根据全球各地的交通状况，为每个用户规划最优的路线。

```
GSLB工作原理：

用户请求 → GSLB系统接收
    ↓
┌─ 全局健康检查 ─────────────┐
│ 北京机房：正常 ✅          │
│ 上海机房：正常 ✅          │
│ 广州机房：故障 ❌          │
│ 香港机房：正常 ✅          │
└────────────────────────────┘
    ↓
┌─ 性能监测 ─────────────────┐
│ 北京机房：延迟20ms         │
│ 上海机房：延迟15ms ⭐      │
│ 香港机房：延迟50ms         │
└────────────────────────────┘
    ↓
返回最优服务器IP（上海机房）
```

### 6.2 GSLB核心功能


**⚡ 主要功能特性**：

**健康检查**：
```bash
# GSLB健康检查配置示例
health_check {
    interval: 30s          # 检查间隔
    timeout: 5s            # 超时时间
    retries: 3             # 重试次数
    
    methods: [
        "tcp_connect",     # TCP连接检查
        "http_get",        # HTTP GET检查  
        "ping"             # ICMP ping检查
    ]
}
```

**性能监测**：
```
实时监控指标：
┌─ 服务器状态监控 ───────────┐
│ • 响应时间（RTT）          │
│ • 丢包率                  │
│ • 服务器负载               │
│ • 带宽使用率               │
│ • 并发连接数               │
└────────────────────────────┘
```

### 6.3 GSLB调度算法


**🔧 常用调度策略**：

**轮询调度（Round Robin）**：
```
算法：按顺序依次分配请求
优点：简单公平，实现容易
缺点：不考虑服务器性能差异

示例：
用户1 → 服务器A
用户2 → 服务器B  
用户3 → 服务器C
用户4 → 服务器A（循环）
```

**加权轮询（Weighted Round Robin）**：
```
算法：根据服务器权重分配请求
配置示例：
服务器A：权重3
服务器B：权重2
服务器C：权重1

分配结果：
6个请求中，A获得3个，B获得2个，C获得1个
```

**最少连接（Least Connections）**：
```
算法：将请求分配给当前连接数最少的服务器
适用：长连接服务，如数据库连接

实时状态：
服务器A：当前连接100个
服务器B：当前连接80个  ⭐ 选择
服务器C：当前连接120个
```

**地理位置优先**：
```
算法：优先选择地理位置最近的服务器
实现：结合GeoDNS和RTT测量

北京用户的服务器选择：
1. 北京机房（第一优先级）
2. 天津机房（第二优先级）  
3. 上海机房（第三优先级）
```

### 6.4 GSLB配置实例


**🔧 Nginx Plus GSLB配置**：

```nginx
# GSLB上游服务器组定义
upstream backend_global {
    zone backend_global 64k;
    
    # 北京机房
    server 123.123.1.100:80 weight=3 max_fails=2 fail_timeout=30s;
    
    # 上海机房  
    server 124.124.1.100:80 weight=3 max_fails=2 fail_timeout=30s;
    
    # 广州机房
    server 125.125.1.100:80 weight=2 max_fails=2 fail_timeout=30s;
    
    # 香港机房（备用）
    server 126.126.1.100:80 weight=1 backup;
}

# 健康检查配置
match server_ok {
    status 200;
    header Content-Type ~ "text/html";
    body ~ "OK";
}

server {
    listen 80;
    server_name www.example.com;
    
    location / {
        proxy_pass http://backend_global;
        health_check match=server_ok;
    }
}
```

---

## 7. 🛡️ 故障切换与防护机制


### 7.1 自动故障切换原理


**🔄 故障检测与切换流程**：

```
故障切换完整流程：

正常状态：
用户 → DNS查询 → 主服务器IP → 正常访问

故障检测：
┌─ 健康检查失败 ─────────────┐
│ 1. TCP连接超时             │
│ 2. HTTP返回5xx错误         │
│ 3. 连续3次检查失败         │
└────────────────────────────┘
    ↓
触发故障切换：
┌─ 自动切换动作 ─────────────┐
│ 1. 标记主服务器为不可用     │
│ 2. 更新DNS记录指向备用服务器│
│ 3. 设置短TTL加速切换       │
│ 4. 发送告警通知运维人员     │
└────────────────────────────┘
    ↓
切换完成：
用户 → DNS查询 → 备用服务器IP → 恢复访问
```

### 7.2 故障切换配置


**⚙️ DNS故障切换配置**：

```bash
# PowerDNS故障切换配置
# 主记录配置
www.example.com     A    192.168.1.100    # 主服务器
www.example.com     A    192.168.1.101    # 备用服务器1  
www.example.com     A    192.168.1.102    # 备用服务器2

# 健康检查脚本
#!/bin/bash
MAIN_SERVER="192.168.1.100"
BACKUP_SERVER="192.168.1.101"

# 检查主服务器状态
check_health() {
    curl -f -s --max-time 5 http://$1/health > /dev/null
    return $?
}

# 主服务器健康检查
if ! check_health $MAIN_SERVER; then
    echo "主服务器故障，切换到备用服务器"
    # 更新DNS记录，移除主服务器
    pdnsutil delete-rrset example.com www A
    pdnsutil add-record example.com www A 300 $BACKUP_SERVER
    
    # 发送告警
    echo "主服务器$MAIN_SERVER故障" | mail -s "DNS故障切换" admin@example.com
fi
```

### 7.3 DNS污染防护机制


**🛡️ DNS污染攻击与防护**：

**DNS污染的原理**：
```
正常DNS解析：
用户 → 本地DNS → 权威DNS → 返回正确IP

DNS污染攻击：
用户 → 本地DNS → 被污染 → 返回错误IP
                    ↑
              攻击者伪造响应
```

**防护策略**：

**DNSSEC数字签名**：
```bash
# 生成DNSSEC密钥
dnssec-keygen -a RSASHA256 -b 2048 -f KSK example.com
dnssec-keygen -a RSASHA256 -b 1024 example.com

# 签名区域文件
dnssec-signzone -o example.com -k Kexample.com.+008+12345.key \
    example.com.zone Kexample.com.+008+54321.key
```

**DNS over HTTPS (DoH)**：
```bash
# 配置DoH客户端
# /etc/systemd/resolved.conf
[Resolve]
DNS=1.1.1.1#cloudflare-dns.com
DNSOverTLS=yes
DNSSEC=yes
```

**多DNS服务商冗余**：
```bash
# 客户端多DNS配置
nameserver 8.8.8.8          # Google DNS
nameserver 1.1.1.1          # Cloudflare DNS  
nameserver 114.114.114.114  # 114 DNS
nameserver 223.5.5.5        # 阿里 DNS
```

### 7.4 监控与告警机制


**📊 DNS监控指标**：

```bash
# DNS服务监控脚本
#!/bin/bash

# 监控指标定义
DOMAIN="www.example.com"
EXPECTED_IP="192.168.1.100"
ALERT_EMAIL="admin@example.com"

# DNS解析时间监控
check_dns_timing() {
    local start_time=$(date +%s%N)
    local resolved_ip=$(dig +short $DOMAIN @8.8.8.8)
    local end_time=$(date +%s%N)
    
    local response_time=$(( (end_time - start_time) / 1000000 ))
    
    echo "DNS解析时间: ${response_time}ms"
    
    # 检查解析时间是否超过阈值
    if [ $response_time -gt 1000 ]; then
        echo "DNS解析时间过长: ${response_time}ms" | \
            mail -s "DNS性能告警" $ALERT_EMAIL
    fi
    
    # 检查解析结果是否正确
    if [ "$resolved_ip" != "$EXPECTED_IP" ]; then
        echo "DNS解析结果异常: 期望$EXPECTED_IP, 实际$resolved_ip" | \
            mail -s "DNS解析异常" $ALERT_EMAIL
    fi
}

# 定时执行监控
check_dns_timing
```

**⚡ 实时监控仪表板**：

```
DNS监控面板：
┌─ 实时状态 ─────────────────┐
│ 🟢 DNS服务: 正常           │
│ 🟢 解析延迟: 15ms          │
│ 🟢 成功率: 99.9%           │
│ 🟡 查询量: 1000/s (高负载) │
└────────────────────────────┘

┌─ 地区分布 ─────────────────┐
│ 北京: 🟢 20ms              │
│ 上海: 🟢 18ms              │  
│ 广州: 🟡 45ms (偏高)       │
│ 海外: 🔴 150ms (异常)      │
└────────────────────────────┘
```

---

## 8. 📋 核心要点总结


### 8.1 必须掌握的核心概念


```
🔸 DNS智能解析：根据用户位置、运营商等因素返回最优IP
🔸 记录类型：A记录直接指向IP，CNAME指向域名
🔸 地理定位：通过IP地址库判断用户地理位置
🔸 运营商识别：根据IP段识别电信、联通、移动用户  
🔸 TTL优化：合理设置缓存时间，平衡性能和灵活性
🔸 GSLB：全局负载均衡，实现多地域服务器智能调度
🔸 故障切换：自动检测故障并切换到备用服务器
🔸 DNS防护：DNSSEC、DoH等技术防范DNS攻击
```

### 8.2 关键理解要点


**🔹 为什么需要智能解析**：
```
解决的问题：
• 用户访问速度慢 → 就近接入解决
• 服务器负载不均 → 流量分散解决  
• 单点故障风险 → 多点备份解决
• 跨网访问卡顿 → 运营商分线解决
```

**🔹 配置选择原则**：
```
A记录 vs CNAME：
• 服务器IP固定 → 用A记录
• 使用CDN服务 → 用CNAME
• 需要快速解析 → 用A记录
• 需要灵活切换 → 用CNAME

TTL设置原则：
• 生产环境稳定 → 长TTL（1小时）
• 故障切换期间 → 短TTL（5分钟）
• 测试调试阶段 → 超短TTL（1分钟）
```

**🔹 性能优化要点**：
```
三个关键指标：
• 解析速度：TTL缓存 + DNS服务器性能
• 访问速度：地理位置 + 运营商线路
• 可用性：健康检查 + 故障切换
```

### 8.3 实际应用指导


**💡 部署建议**：

```
小型网站（单机房）：
✓ 使用公共DNS服务（如CloudFlare）
✓ 配置基本的A记录和CNAME
✓ 设置合适的TTL值

中型网站（多机房）：
✓ 部署GeoDNS实现地理位置分流
✓ 配置运营商线路分离
✓ 实现基本的健康检查

大型网站（全球化）：
✓ 部署GSLB全局负载均衡
✓ 配置完整的故障切换机制
✓ 实现DNS安全防护
✓ 建立完善的监控告警体系
```

**🎯 运维要点**：

```
日常维护：
• 定期检查DNS解析是否正常
• 监控各地区访问延迟情况
• 更新IP地址库保持准确性
• 测试故障切换机制的有效性

故障处理：
• 快速识别DNS解析问题
• 紧急情况下手动切换DNS记录
• 分析故障原因并优化配置
• 建立完善的应急响应流程
```

**核心记忆口诀**：
- 智能解析选最优，地理运营商都要有
- A记录直连CNAME转，TTL长短看需求
- 健康检查防故障，GSLB全球来调度
- 安全防护不能少，监控告警要做好