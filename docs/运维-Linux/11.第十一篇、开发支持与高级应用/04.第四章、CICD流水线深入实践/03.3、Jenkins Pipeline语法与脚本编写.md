---
title: 3ã€Jenkins Pipelineè¯­æ³•ä¸è„šæœ¬ç¼–å†™
---
## ğŸ“š ç›®å½•

1. [Jenkins PipelineåŸºç¡€æ¦‚å¿µ](#1-jenkins-pipelineåŸºç¡€æ¦‚å¿µ)
2. [Declarative Pipelineè¯¦è§£](#2-declarative-pipelineè¯¦è§£)
3. [Scripted Pipelineç¼–ç¨‹æ¨¡å¼](#3-scripted-pipelineç¼–ç¨‹æ¨¡å¼)
4. [Pipelineæ­¥éª¤ä¸ç¯å¢ƒå˜é‡](#4-pipelineæ­¥éª¤ä¸ç¯å¢ƒå˜é‡)
5. [å¹¶è¡Œæ‰§è¡Œä¸æ¡ä»¶æ§åˆ¶](#5-å¹¶è¡Œæ‰§è¡Œä¸æ¡ä»¶æ§åˆ¶)
6. [é”™è¯¯å¤„ç†ä¸é‡è¯•æœºåˆ¶](#6-é”™è¯¯å¤„ç†ä¸é‡è¯•æœºåˆ¶)
7. [Pipelineå…±äº«åº“å¼€å‘](#7-pipelineå…±äº«åº“å¼€å‘)
8. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#8-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸš€ Jenkins PipelineåŸºç¡€æ¦‚å¿µ


### 1.1 ä»€ä¹ˆæ˜¯Jenkins Pipeline


**ğŸ”¸ ç®€å•ç†è§£**
Pipelineå°±åƒç”Ÿäº§æµæ°´çº¿ä¸€æ ·ï¼ŒæŠŠè½¯ä»¶ä»ä»£ç å˜æˆå¯ç”¨äº§å“çš„æ•´ä¸ªè¿‡ç¨‹è‡ªåŠ¨åŒ–ã€‚

```
ä»£ç æäº¤ â†’ ç¼–è¯‘ â†’ æµ‹è¯• â†’ æ‰“åŒ… â†’ éƒ¨ç½²
    â†“        â†“       â†“      â†“       â†“
  Pipelineè‡ªåŠ¨å®Œæˆæ‰€æœ‰è¿™äº›æ­¥éª¤
```

**ğŸ’¡ æ ¸å¿ƒç‰¹ç‚¹**
- **ä»£ç åŒ–ç®¡ç†**ï¼šç”¨ä»£ç æè¿°æ„å»ºæµç¨‹ï¼Œç‰ˆæœ¬å¯æ§
- **å¯è§†åŒ–å±•ç¤º**ï¼šæµç¨‹å›¾å½¢åŒ–å±•ç¤ºï¼Œä¸€ç›®äº†ç„¶  
- **çµæ´»é…ç½®**ï¼šæ”¯æŒå¤æ‚çš„æ¡ä»¶åˆ¤æ–­å’Œå¹¶è¡Œå¤„ç†
- **å¯é‡ç”¨æ€§**ï¼šä¸€æ¬¡ç¼–å†™ï¼Œå¤šå¤„ä½¿ç”¨

### 1.2 Pipeline vs ä¼ ç»ŸJobçš„åŒºåˆ«


| ç‰¹æ€§ | **ä¼ ç»ŸJenkins Job** | **Pipeline** |
|------|---------------------|--------------|
| **é…ç½®æ–¹å¼** | ğŸ”§ ç•Œé¢ç‚¹å‡»é…ç½® | ğŸ’» ä»£ç åŒ–é…ç½® |
| **ç‰ˆæœ¬æ§åˆ¶** | âŒ æ— æ³•ç‰ˆæœ¬ç®¡ç† | âœ… ä¸ä»£ç ä¸€èµ·ç®¡ç† |
| **å¤æ‚åº¦æ”¯æŒ** | ğŸ”´ ç®€å•æµç¨‹ | ğŸŸ¢ å¤æ‚å·¥ä½œæµ |
| **å¯è§†åŒ–** | ğŸ“Š åŸºç¡€å±•ç¤º | ğŸ¨ ä¸°å¯Œçš„æµç¨‹å›¾ |
| **ç»´æŠ¤æ€§** | ğŸ”´ éš¾ä»¥ç»´æŠ¤ | ğŸŸ¢ æ˜“äºç»´æŠ¤å’Œå¤ç”¨ |

### 1.3 Pipelineçš„ä¸¤ç§è¯­æ³•


**ğŸ¯ é€‰æ‹©æŒ‡å—**
```
Declarative Pipelineï¼ˆå£°æ˜å¼ï¼‰ï¼š
âœ… é€‚åˆæ–°æ‰‹ï¼Œè¯­æ³•ç®€å•è§„èŒƒ
âœ… ç»“æ„æ¸…æ™°ï¼Œæ˜“äºç†è§£
âœ… æœ‰å¼ºåˆ¶çš„ç»“æ„çº¦æŸ

Scripted Pipelineï¼ˆè„šæœ¬å¼ï¼‰ï¼š
âœ… é€‚åˆé«˜çº§ç”¨æˆ·ï¼Œçµæ´»åº¦é«˜
âœ… å®Œæ•´çš„Groovyç¼–ç¨‹èƒ½åŠ›
âœ… å¯ä»¥å®ç°å¤æ‚é€»è¾‘
```

---

## 2. ğŸ“‹ Declarative Pipelineè¯¦è§£


### 2.1 åŸºæœ¬è¯­æ³•ç»“æ„


**ğŸ—ï¸ æ ‡å‡†æ¨¡æ¿ç»“æ„**
```groovy
pipeline {
    agent any                    // åœ¨å“ªé‡Œè¿è¡Œ
    
    stages {                     // é˜¶æ®µå®šä¹‰
        stage('æ„å»º') {
            steps {              // å…·ä½“æ­¥éª¤
                // æ‰§è¡Œçš„å‘½ä»¤
            }
        }
    }
    
    post {                       // åç½®å¤„ç†
        always {
            // æ€»æ˜¯æ‰§è¡Œçš„æ¸…ç†å·¥ä½œ
        }
    }
}
```

**ğŸ’­ ç”Ÿæ´»ç±»æ¯”**
> å°±åƒåšèœçš„èœè°±ï¼š
> - `agent`ï¼šåœ¨å“ªä¸ªå¨æˆ¿åšèœ
> - `stages`ï¼šåšèœçš„å„ä¸ªæ­¥éª¤ï¼ˆæ´—èœã€åˆ‡èœã€ç‚’èœï¼‰
> - `steps`ï¼šæ¯ä¸ªæ­¥éª¤çš„å…·ä½“æ“ä½œ
> - `post`ï¼šåšå®Œèœåçš„æ”¶æ‹¾å·¥ä½œ

### 2.2 Agentä»£ç†é…ç½®


**ğŸ”§ Agentç±»å‹è¯¦è§£**

```groovy
pipeline {
    // 1. ä»»æ„å¯ç”¨ä»£ç†
    agent any
    
    // 2. æŒ‡å®šæ ‡ç­¾çš„ä»£ç†
    agent { label 'linux && docker' }
    
    // 3. Dockerå®¹å™¨ä¸­è¿è¡Œ
    agent {
        docker {
            image 'node:16'
            args '-v /tmp:/tmp'
        }
    }
    
    // 4. Kubernetes Podä¸­è¿è¡Œ
    agent {
        kubernetes {
            yaml """
                spec:
                  containers:
                  - name: maven
                    image: maven:3.8.1-jdk-11
                    command: ['sleep']
                    args: ['99d']
            """
        }
    }
}
```

**ğŸ¯ é€‰æ‹©ç­–ç•¥**
- **any**ï¼šç®€å•é¡¹ç›®ï¼Œä¸æŒ‘ç¯å¢ƒ
- **label**ï¼šéœ€è¦ç‰¹å®šç¯å¢ƒï¼ˆå¦‚ç‰¹å®šOSã€å·¥å…·ï¼‰
- **docker**ï¼šéœ€è¦éš”ç¦»ç¯å¢ƒæˆ–ç‰¹å®šè½¯ä»¶ç‰ˆæœ¬
- **kubernetes**ï¼šå¤§è§„æ¨¡éƒ¨ç½²ï¼Œéœ€è¦å¼¹æ€§æ‰©ç¼©å®¹

### 2.3 Stagesé˜¶æ®µç»„ç»‡


**ğŸ“Š å…¸å‹çš„é˜¶æ®µè®¾è®¡**
```groovy
pipeline {
    agent any
    
    stages {
        stage('ä»£ç æ£€å‡º') {
            steps {
                git branch: 'main', url: 'https://github.com/example/project.git'
            }
        }
        
        stage('ä¾èµ–å®‰è£…') {
            steps {
                sh 'npm install'
            }
        }
        
        stage('ä»£ç æ£€æŸ¥') {
            parallel {
                stage('è¯­æ³•æ£€æŸ¥') {
                    steps {
                        sh 'npm run lint'
                    }
                }
                stage('å®‰å…¨æ‰«æ') {
                    steps {
                        sh 'npm audit'
                    }
                }
            }
        }
        
        stage('å•å…ƒæµ‹è¯•') {
            steps {
                sh 'npm test'
            }
            post {
                always {
                    publishTestResults testResultsPattern: 'test-results.xml'
                }
            }
        }
        
        stage('æ„å»ºåº”ç”¨') {
            steps {
                sh 'npm run build'
            }
        }
        
        stage('éƒ¨ç½²') {
            when {
                branch 'main'
            }
            steps {
                sh 'docker build -t myapp .'
                sh 'docker push myapp:latest'
            }
        }
    }
}
```

### 2.4 Stepsæ­¥éª¤å®šä¹‰


**âš¡ å¸¸ç”¨Stepsç±»å‹**

```groovy
steps {
    // 1. Shellå‘½ä»¤æ‰§è¡Œ
    sh 'echo "Hello World"'
    sh '''
        echo "å¤šè¡Œå‘½ä»¤"
        ls -la
        pwd
    '''
    
    // 2. æ–‡ä»¶æ“ä½œ
    writeFile file: 'config.txt', text: 'é…ç½®å†…å®¹'
    readFile 'version.txt'
    
    // 3. ç›®å½•æ“ä½œ
    dir('frontend') {
        sh 'npm install'
        sh 'npm run build'
    }
    
    // 4. ç¯å¢ƒå˜é‡è®¾ç½®
    withEnv(['PATH+EXTRA=/usr/local/bin']) {
        sh 'which node'
    }
    
    // 5. å‡­æ®ä½¿ç”¨
    withCredentials([usernamePassword(
        credentialsId: 'docker-hub',
        passwordVariable: 'DOCKER_PASS',
        usernameVariable: 'DOCKER_USER'
    )]) {
        sh 'docker login -u $DOCKER_USER -p $DOCKER_PASS'
    }
}
```

**ğŸ’¡ æ­¥éª¤ç»„ç»‡æŠ€å·§**
- **é€»è¾‘åˆ†ç»„**ï¼šç›¸å…³æ“ä½œæ”¾åœ¨åŒä¸€stage
- **å¤±è´¥å¿«é€Ÿ**ï¼šæŠŠå®¹æ˜“å¤±è´¥çš„æ£€æŸ¥æ”¾åœ¨å‰é¢
- **å¹¶è¡Œä¼˜åŒ–**ï¼šç‹¬ç«‹çš„ä»»åŠ¡å¯ä»¥å¹¶è¡Œæ‰§è¡Œ

---

## 3. ğŸ–¥ï¸ Scripted Pipelineç¼–ç¨‹æ¨¡å¼


### 3.1 åŸºæœ¬è¯­æ³•ç»“æ„


**ğŸ”¸ ä¸Declarativeçš„åŒºåˆ«**
```groovy
// Scripted Pipeline - æ›´åƒç¼–ç¨‹
node('linux') {                    // é€‰æ‹©è¿è¡ŒèŠ‚ç‚¹
    try {
        stage('æ£€å‡ºä»£ç ') {
            checkout scm
        }
        
        stage('æ„å»º') {
            if (env.BRANCH_NAME == 'main') {
                sh 'make build-production'
            } else {
                sh 'make build-dev'
            }
        }
        
        stage('æµ‹è¯•') {
            parallel(
                'å•å…ƒæµ‹è¯•': {
                    sh 'make test-unit'
                },
                'é›†æˆæµ‹è¯•': {
                    sh 'make test-integration'
                }
            )
        }
        
    } catch (Exception e) {
        currentBuild.result = 'FAILURE'
        throw e
    } finally {
        // æ¸…ç†å·¥ä½œ
        deleteDir()
    }
}
```

### 3.2 é«˜çº§ç¼–ç¨‹ç‰¹æ€§


**ğŸ¯ å˜é‡ä¸å‡½æ•°å®šä¹‰**
```groovy
// å…¨å±€å˜é‡
def buildNumber = env.BUILD_NUMBER
def gitCommit = ''

// è‡ªå®šä¹‰å‡½æ•°
def deployToEnvironment(env) {
    echo "æ­£åœ¨éƒ¨ç½²åˆ° ${env} ç¯å¢ƒ"
    sh "kubectl apply -f deploy-${env}.yaml"
}

def sendNotification(status) {
    if (status == 'SUCCESS') {
        slackSend(
            color: 'good',
            message: "âœ… éƒ¨ç½²æˆåŠŸï¼æ„å»º #${buildNumber}"
        )
    } else {
        slackSend(
            color: 'danger', 
            message: "âŒ éƒ¨ç½²å¤±è´¥ï¼æ„å»º #${buildNumber}"
        )
    }
}

node {
    try {
        stage('æ„å»º') {
            gitCommit = sh(
                script: 'git rev-parse HEAD',
                returnStdout: true
            ).trim()
            
            sh "docker build -t myapp:${gitCommit} ."
        }
        
        stage('éƒ¨ç½²') {
            deployToEnvironment('staging')
            
            // ç­‰å¾…ç”¨æˆ·ç¡®è®¤
            input message: 'æ˜¯å¦éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒï¼Ÿ'
            deployToEnvironment('production')
        }
        
        sendNotification('SUCCESS')
        
    } catch (Exception e) {
        sendNotification('FAILURE')
        throw e
    }
}
```

### 3.3 åŠ¨æ€Pipelineç”Ÿæˆ


**ğŸ”§ æ ¹æ®æ¡ä»¶åŠ¨æ€ç”Ÿæˆæµæ°´çº¿**
```groovy
def environments = ['dev', 'staging', 'prod']
def services = ['frontend', 'backend', 'database']

node {
    stage('åŠ¨æ€æ„å»º') {
        def parallelBuilds = [:]
        
        services.each { service ->
            parallelBuilds[service] = {
                node {
                    echo "æ„å»ºæœåŠ¡: ${service}"
                    sh "docker build -t ${service}:latest ./${service}"
                }
            }
        }
        
        parallel parallelBuilds
    }
    
    stage('åŠ¨æ€éƒ¨ç½²') {
        def parallelDeploys = [:]
        
        environments.each { env ->
            parallelDeploys[env] = {
                node {
                    echo "éƒ¨ç½²åˆ°ç¯å¢ƒ: ${env}"
                    sh "kubectl apply -f deploy-${env}.yaml"
                    
                    // å¥åº·æ£€æŸ¥
                    retry(3) {
                        sleep 10
                        sh "kubectl get pods -l env=${env}"
                    }
                }
            }
        }
        
        parallel parallelDeploys
    }
}
```

---

## 4. ğŸ”§ Pipelineæ­¥éª¤ä¸ç¯å¢ƒå˜é‡


### 4.1 å†…ç½®ç¯å¢ƒå˜é‡


**ğŸ“Š å¸¸ç”¨ç¯å¢ƒå˜é‡ä¸€è§ˆè¡¨**

| å˜é‡å | **å«ä¹‰** | **ç¤ºä¾‹å€¼** |
|--------|----------|------------|
| `BUILD_NUMBER` | æ„å»ºç¼–å· | `123` |
| `BUILD_ID` | æ„å»ºID | `2023-01-15_12-30-45` |
| `JOB_NAME` | ä»»åŠ¡åç§° | `myapp-pipeline` |
| `WORKSPACE` | å·¥ä½œç›®å½• | `/var/jenkins_home/workspace/myapp` |
| `BRANCH_NAME` | åˆ†æ”¯åç§° | `main` |
| `GIT_COMMIT` | Gitæäº¤å“ˆå¸Œ | `a1b2c3d4e5f6...` |
| `NODE_NAME` | èŠ‚ç‚¹åç§° | `slave-01` |

### 4.2 è‡ªå®šä¹‰ç¯å¢ƒå˜é‡


**ğŸ¯ ä¸‰ç§å®šä¹‰æ–¹å¼**
```groovy
pipeline {
    agent any
    
    // æ–¹å¼1ï¼šå…¨å±€ç¯å¢ƒå˜é‡
    environment {
        APP_NAME = 'myapp'
        VERSION = '1.0.0'
        DOCKER_REGISTRY = 'registry.example.com'
        BUILD_ENV = 'production'
    }
    
    stages {
        stage('æ„å»º') {
            // æ–¹å¼2ï¼šé˜¶æ®µçº§ç¯å¢ƒå˜é‡
            environment {
                STAGE_NAME = 'build'
                COMPILE_FLAGS = '-O2 -Wall'
            }
            
            steps {
                // æ–¹å¼3ï¼šåŠ¨æ€è®¾ç½®ç¯å¢ƒå˜é‡
                script {
                    env.DYNAMIC_VERSION = "${VERSION}-${BUILD_NUMBER}"
                    env.GIT_SHORT_COMMIT = sh(
                        script: 'git rev-parse --short HEAD',
                        returnStdout: true
                    ).trim()
                }
                
                sh 'echo "åº”ç”¨åç§°: $APP_NAME"'
                sh 'echo "ç‰ˆæœ¬: $DYNAMIC_VERSION"'
                sh 'echo "æäº¤: $GIT_SHORT_COMMIT"'
            }
        }
    }
}
```

### 4.3 å‡­æ®ç®¡ç†


**ğŸ” å®‰å…¨å‡­æ®ä½¿ç”¨**
```groovy
pipeline {
    agent any
    
    stages {
        stage('éƒ¨ç½²') {
            steps {
                // ç”¨æˆ·åå¯†ç ç±»å‹
                withCredentials([
                    usernamePassword(
                        credentialsId: 'docker-registry',
                        passwordVariable: 'DOCKER_PASS',
                        usernameVariable: 'DOCKER_USER'
                    )
                ]) {
                    sh '''
                        docker login -u $DOCKER_USER -p $DOCKER_PASS $DOCKER_REGISTRY
                        docker push $DOCKER_REGISTRY/$APP_NAME:$VERSION
                    '''
                }
                
                // SSHå¯†é’¥ç±»å‹
                withCredentials([
                    sshUserPrivateKey(
                        credentialsId: 'deploy-server',
                        keyFileVariable: 'SSH_KEY',
                        usernameVariable: 'SSH_USER'
                    )
                ]) {
                    sh '''
                        ssh -i $SSH_KEY $SSH_USER@production-server \
                        "docker pull $DOCKER_REGISTRY/$APP_NAME:$VERSION"
                    '''
                }
                
                // å¯†é’¥æ–‡ä»¶ç±»å‹
                withCredentials([
                    file(credentialsId: 'kubeconfig', variable: 'KUBECONFIG')
                ]) {
                    sh 'kubectl apply -f deployment.yaml'
                }
            }
        }
    }
}
```

**âš ï¸ å®‰å…¨æœ€ä½³å®è·µ**
- âœ… æ°¸è¿œä¸è¦åœ¨ä»£ç ä¸­ç¡¬ç¼–ç å¯†ç 
- âœ… ä½¿ç”¨Jenkinså‡­æ®ç®¡ç†åŠŸèƒ½
- âœ… å®šæœŸè½®æ¢æ•æ„Ÿå‡­æ®
- âœ… æœ€å°æƒé™åŸåˆ™

---

## 5. âš¡ å¹¶è¡Œæ‰§è¡Œä¸æ¡ä»¶æ§åˆ¶


### 5.1 å¹¶è¡Œæ‰§è¡Œé…ç½®


**ğŸš€ åŸºç¡€å¹¶è¡Œæ‰§è¡Œ**
```groovy
pipeline {
    agent any
    
    stages {
        stage('å¹¶è¡Œæµ‹è¯•') {
            parallel {
                stage('å•å…ƒæµ‹è¯•') {
                    steps {
                        sh 'npm run test:unit'
                    }
                    post {
                        always {
                            publishTestResults testResultsPattern: 'unit-test-results.xml'
                        }
                    }
                }
                
                stage('é›†æˆæµ‹è¯•') {
                    steps {
                        sh 'npm run test:integration'
                    }
                    post {
                        always {
                            publishTestResults testResultsPattern: 'integration-test-results.xml'
                        }
                    }
                }
                
                stage('ç«¯åˆ°ç«¯æµ‹è¯•') {
                    agent { label 'e2e-runner' }
                    steps {
                        sh 'npm run test:e2e'
                    }
                }
            }
        }
        
        stage('å¹¶è¡Œéƒ¨ç½²') {
            parallel {
                stage('éƒ¨ç½²å‰ç«¯') {
                    when {
                        changeset "frontend/**"
                    }
                    steps {
                        dir('frontend') {
                            sh 'npm run build'
                            sh 'aws s3 sync dist/ s3://my-frontend-bucket/'
                        }
                    }
                }
                
                stage('éƒ¨ç½²åç«¯') {
                    when {
                        changeset "backend/**"
                    }
                    steps {
                        dir('backend') {
                            sh 'docker build -t backend:${BUILD_NUMBER} .'
                            sh 'kubectl set image deployment/backend backend=backend:${BUILD_NUMBER}'
                        }
                    }
                }
            }
        }
    }
}
```

### 5.2 æ¡ä»¶æ‰§è¡Œé€»è¾‘


**ğŸ¯ Whenæ¡ä»¶è¯¦è§£**
```groovy
pipeline {
    agent any
    
    stages {
        // åˆ†æ”¯æ¡ä»¶
        stage('ç”Ÿäº§éƒ¨ç½²') {
            when {
                branch 'main'
            }
            steps {
                sh 'deploy-to-production.sh'
            }
        }
        
        // æ–‡ä»¶å˜æ›´æ¡ä»¶
        stage('å‰ç«¯æ„å»º') {
            when {
                changeset "frontend/**"
            }
            steps {
                sh 'build-frontend.sh'
            }
        }
        
        // ç¯å¢ƒå˜é‡æ¡ä»¶
        stage('æ€§èƒ½æµ‹è¯•') {
            when {
                environment name: 'RUN_PERF_TESTS', value: 'true'
            }
            steps {
                sh 'run-performance-tests.sh'
            }
        }
        
        // å¤šæ¡ä»¶ç»„åˆ
        stage('å‘å¸ƒ') {
            when {
                allOf {
                    branch 'main'
                    not {
                        changelog '.*\\[skip-release\\].*'
                    }
                }
            }
            steps {
                sh 'create-release.sh'
            }
        }
        
        // è¡¨è¾¾å¼æ¡ä»¶
        stage('å¤œé—´æ„å»º') {
            when {
                expression {
                    return env.BUILD_TIMESTAMP.contains('02:00')
                }
            }
            steps {
                sh 'run-nightly-build.sh'
            }
        }
    }
}
```

### 5.3 é˜¶æ®µè·³è¿‡ä¸å¤±è´¥ç­–ç•¥


**ğŸ”§ çµæ´»çš„æ‰§è¡Œæ§åˆ¶**
```groovy
pipeline {
    agent any
    
    stages {
        stage('å¯é€‰æµ‹è¯•') {
            when {
                expression {
                    return params.RUN_OPTIONAL_TESTS == true
                }
            }
            steps {
                script {
                    try {
                        sh 'run-optional-tests.sh'
                    } catch (Exception e) {
                        // æµ‹è¯•å¤±è´¥ä½†ä¸å½±å“æ•´ä¸ªæµæ°´çº¿
                        currentBuild.result = 'UNSTABLE'
                        echo "å¯é€‰æµ‹è¯•å¤±è´¥: ${e.getMessage()}"
                    }
                }
            }
        }
        
        stage('å…³é”®æµ‹è¯•') {
            steps {
                script {
                    def testResult = sh(
                        script: 'run-critical-tests.sh',
                        returnStatus: true
                    )
                    
                    if (testResult != 0) {
                        error "å…³é”®æµ‹è¯•å¤±è´¥ï¼Œåœæ­¢æµæ°´çº¿"
                    }
                }
            }
        }
    }
}
```

---

## 6. ğŸ› ï¸ é”™è¯¯å¤„ç†ä¸é‡è¯•æœºåˆ¶


### 6.1 åŸºç¡€é”™è¯¯å¤„ç†


**ğŸ¯ Try-Catchæ¨¡å¼**
```groovy
pipeline {
    agent any
    
    stages {
        stage('æ„å»ºä¸æµ‹è¯•') {
            steps {
                script {
                    try {
                        // ä¸»è¦æ„å»ºé€»è¾‘
                        sh 'make build'
                        sh 'make test'
                        
                        // è®¾ç½®æˆåŠŸçŠ¶æ€
                        currentBuild.result = 'SUCCESS'
                        
                    } catch (Exception buildError) {
                        // è®°å½•è¯¦ç»†é”™è¯¯ä¿¡æ¯
                        echo "æ„å»ºå¤±è´¥: ${buildError.getMessage()}"
                        
                        // å°è¯•æ”¶é›†é”™è¯¯æ—¥å¿—
                        sh 'find . -name "*.log" -exec cat {} \\;' 
                        
                        // è®¾ç½®å¤±è´¥çŠ¶æ€
                        currentBuild.result = 'FAILURE'
                        
                        // é‡æ–°æŠ›å‡ºå¼‚å¸¸ä»¥åœæ­¢æµæ°´çº¿
                        throw buildError
                        
                    } finally {
                        // æ¸…ç†å·¥ä½œï¼Œæ— è®ºæˆåŠŸå¤±è´¥éƒ½æ‰§è¡Œ
                        sh 'make clean'
                        archiveArtifacts artifacts: '**/*.log', allowEmptyArchive: true
                    }
                }
            }
        }
    }
    
    post {
        failure {
            // å‘é€å¤±è´¥é€šçŸ¥
            emailext (
                subject: "æ„å»ºå¤±è´¥: ${env.JOB_NAME} - ${env.BUILD_NUMBER}",
                body: "æ„å»ºå¤±è´¥ï¼Œè¯·æŸ¥çœ‹è¯¦ç»†æ—¥å¿—ã€‚",
                to: "${env.CHANGE_AUTHOR_EMAIL}"
            )
        }
    }
}
```

### 6.2 é‡è¯•æœºåˆ¶å®ç°


**ğŸ”„ æ™ºèƒ½é‡è¯•ç­–ç•¥**
```groovy
pipeline {
    agent any
    
    stages {
        stage('ç½‘ç»œä¾èµ–ä¸‹è½½') {
            steps {
                // ç®€å•é‡è¯•
                retry(3) {
                    sh 'wget https://example.com/large-file.zip'
                }
            }
        }
        
        stage('ä¸ç¨³å®šçš„æµ‹è¯•') {
            steps {
                script {
                    // å¸¦å»¶è¿Ÿçš„é‡è¯•
                    def maxRetries = 3
                    def retryCount = 0
                    def success = false
                    
                    while (retryCount < maxRetries && !success) {
                        try {
                            retryCount++
                            echo "å°è¯•ç¬¬ ${retryCount} æ¬¡..."
                            
                            sh 'run-flaky-tests.sh'
                            success = true
                            
                        } catch (Exception e) {
                            if (retryCount < maxRetries) {
                                echo "ç¬¬ ${retryCount} æ¬¡å°è¯•å¤±è´¥ï¼Œç­‰å¾…åé‡è¯•..."
                                sleep(time: retryCount * 10, unit: 'SECONDS')
                            } else {
                                echo "æ‰€æœ‰é‡è¯•éƒ½å¤±è´¥äº†"
                                throw e
                            }
                        }
                    }
                }
            }
        }
        
        stage('å¤–éƒ¨æœåŠ¡è°ƒç”¨') {
            steps {
                script {
                    // æŒ‡æ•°é€€é¿é‡è¯•
                    def callExternalService = { attempt ->
                        def waitTime = Math.pow(2, attempt - 1) * 5 // 5, 10, 20, 40ç§’
                        
                        if (attempt > 1) {
                            echo "ç­‰å¾… ${waitTime} ç§’åç¬¬ ${attempt} æ¬¡å°è¯•..."
                            sleep(time: waitTime as Integer, unit: 'SECONDS')
                        }
                        
                        def response = sh(
                            script: 'curl -f https://api.example.com/health',
                            returnStatus: true
                        )
                        
                        if (response != 0) {
                            throw new Exception("APIè°ƒç”¨å¤±è´¥")
                        }
                    }
                    
                    def maxAttempts = 4
                    def success = false
                    
                    for (int i = 1; i <= maxAttempts && !success; i++) {
                        try {
                            callExternalService(i)
                            success = true
                        } catch (Exception e) {
                            if (i == maxAttempts) {
                                error "å¤–éƒ¨æœåŠ¡è°ƒç”¨å¤±è´¥ï¼Œå·²é‡è¯• ${maxAttempts} æ¬¡"
                            }
                        }
                    }
                }
            }
        }
    }
}
```

### 6.3 Postå¤„ç†å—è¯¦è§£


**ğŸ“‹ å®Œæ•´çš„åå¤„ç†é…ç½®**
```groovy
pipeline {
    agent any
    
    stages {
        stage('ä¸»è¦æµç¨‹') {
            steps {
                sh 'echo "ä¸»è¦æ„å»ºé€»è¾‘"'
            }
        }
    }
    
    post {
        always {
            echo 'æ— è®ºæ„å»ºç»“æœå¦‚ä½•éƒ½ä¼šæ‰§è¡Œ'
            
            // æ¸…ç†å·¥ä½œç©ºé—´
            cleanWs()
            
            // å½’æ¡£åˆ¶å“
            archiveArtifacts artifacts: 'dist/**', allowEmptyArchive: true
        }
        
        success {
            echo 'æ„å»ºæˆåŠŸæ—¶æ‰§è¡Œ'
            
            // å‘é€æˆåŠŸé€šçŸ¥
            slackSend(
                color: 'good',
                message: "âœ… æ„å»ºæˆåŠŸ: ${env.JOB_NAME} #${env.BUILD_NUMBER}"
            )
            
            // è§¦å‘ä¸‹æ¸¸ä»»åŠ¡
            build job: 'deploy-to-staging', wait: false
        }
        
        failure {
            echo 'æ„å»ºå¤±è´¥æ—¶æ‰§è¡Œ'
            
            // æ”¶é›†å¤±è´¥ä¿¡æ¯
            script {
                def failureReason = currentBuild.description ?: 'æœªçŸ¥é”™è¯¯'
                
                // å‘é€è¯¦ç»†å¤±è´¥é€šçŸ¥
                emailext (
                    subject: "ğŸ”´ æ„å»ºå¤±è´¥: ${env.JOB_NAME} #${env.BUILD_NUMBER}",
                    body: """
                        æ„å»ºå¤±è´¥è¯¦æƒ…:
                        - é¡¹ç›®: ${env.JOB_NAME}
                        - åˆ†æ”¯: ${env.BRANCH_NAME}
                        - æäº¤: ${env.GIT_COMMIT}
                        - å¤±è´¥åŸå› : ${failureReason}
                        - æŸ¥çœ‹è¯¦æƒ…: ${env.BUILD_URL}
                    """,
                    to: "${env.CHANGE_AUTHOR_EMAIL},devops-team@company.com"
                )
            }
        }
        
        unstable {
            echo 'æ„å»ºä¸ç¨³å®šæ—¶æ‰§è¡Œï¼ˆæµ‹è¯•å¤±è´¥ä½†æ„å»ºæˆåŠŸï¼‰'
            
            slackSend(
                color: 'warning',
                message: "âš ï¸ æ„å»ºä¸ç¨³å®š: ${env.JOB_NAME} #${env.BUILD_NUMBER}"
            )
        }
        
        aborted {
            echo 'æ„å»ºè¢«ä¸­æ­¢æ—¶æ‰§è¡Œ'
            
            slackSend(
                color: 'warning',
                message: "ğŸ›‘ æ„å»ºè¢«å–æ¶ˆ: ${env.JOB_NAME} #${env.BUILD_NUMBER}"
            )
        }
        
        changed {
            echo 'æ„å»ºçŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶æ‰§è¡Œ'
            
            script {
                def previousResult = currentBuild.previousBuild?.result
                def currentResult = currentBuild.result
                
                if (previousResult == 'FAILURE' && currentResult == 'SUCCESS') {
                    slackSend(
                        color: 'good',
                        message: "ğŸ‰ æ„å»ºå·²ä¿®å¤: ${env.JOB_NAME} #${env.BUILD_NUMBER}"
                    )
                }
            }
        }
    }
}
```

---

## 7. ğŸ“š Pipelineå…±äº«åº“å¼€å‘


### 7.1 ä»€ä¹ˆæ˜¯å…±äº«åº“


**ğŸ’¡ ç®€å•ç†è§£**
å…±äº«åº“å°±åƒä»£ç åº“ä¸­çš„å·¥å…·ç®±ï¼ŒæŠŠå¸¸ç”¨çš„Pipelineä»£ç å°è£…èµ·æ¥ï¼Œè®©å¤šä¸ªé¡¹ç›®éƒ½èƒ½å¤ç”¨ã€‚

```
é¡¹ç›®A Pipeline â”€â”€â”
                 â”œâ”€â”€> å…±äº«åº“ï¼ˆé€šç”¨å‡½æ•°ï¼‰
é¡¹ç›®B Pipeline â”€â”€â”˜
```

**ğŸ¯ å…±äº«åº“çš„å¥½å¤„**
- **ä»£ç å¤ç”¨**ï¼šä¸€æ¬¡ç¼–å†™ï¼Œåˆ°å¤„ä½¿ç”¨
- **ç»Ÿä¸€æ ‡å‡†**ï¼šç¡®ä¿æ‰€æœ‰é¡¹ç›®éµå¾ªç›¸åŒè§„èŒƒ
- **æ˜“äºç»´æŠ¤**ï¼šé›†ä¸­ç®¡ç†ï¼Œç»Ÿä¸€æ›´æ–°
- **ä¸“ä¸šåˆ†å·¥**ï¼šDevOpså›¢é˜Ÿä¸“é—¨ç»´æŠ¤

### 7.2 å…±äº«åº“ç»“æ„


**ğŸ—ï¸ æ ‡å‡†ç›®å½•ç»“æ„**
```
jenkins-shared-library/
â”œâ”€â”€ vars/                          # å…¨å±€å˜é‡å’Œå‡½æ•°
â”‚   â”œâ”€â”€ buildDockerImage.groovy    # Dockeræ„å»ºå‡½æ•°
â”‚   â”œâ”€â”€ deployToK8s.groovy         # K8séƒ¨ç½²å‡½æ•°
â”‚   â”œâ”€â”€ sendNotification.groovy    # é€šçŸ¥å‡½æ•°
â”‚   â””â”€â”€ runTests.groovy            # æµ‹è¯•å‡½æ•°
â”œâ”€â”€ src/                           # é¢å‘å¯¹è±¡çš„Groovyç±»
â”‚   â””â”€â”€ com/
â”‚       â””â”€â”€ company/
â”‚           â””â”€â”€ jenkins/
â”‚               â”œâ”€â”€ Docker.groovy
â”‚               â”œâ”€â”€ Kubernetes.groovy
â”‚               â””â”€â”€ Utils.groovy
â””â”€â”€ resources/                     # èµ„æºæ–‡ä»¶
    â”œâ”€â”€ templates/
    â”‚   â”œâ”€â”€ Dockerfile.template
    â”‚   â””â”€â”€ deployment.yaml.template
    â””â”€â”€ scripts/
        â”œâ”€â”€ health-check.sh
        â””â”€â”€ cleanup.sh
```

### 7.3 å®ç”¨å…±äº«åº“ç¤ºä¾‹


**ğŸ”§ Dockeræ„å»ºå‡½æ•°**
```groovy
// vars/buildDockerImage.groovy
def call(Map config) {
    // å‚æ•°æ ¡éªŒ
    if (!config.imageName) {
        error "imageNameå‚æ•°æ˜¯å¿…éœ€çš„"
    }
    
    // é»˜è®¤å‚æ•°
    def dockerfile = config.dockerfile ?: 'Dockerfile'
    def tag = config.tag ?: env.BUILD_NUMBER
    def registry = config.registry ?: 'docker.io'
    def context = config.context ?: '.'
    
    // å®Œæ•´é•œåƒå
    def fullImageName = "${registry}/${config.imageName}:${tag}"
    
    echo "æ„å»ºDockeré•œåƒ: ${fullImageName}"
    
    try {
        // æ„å»ºé•œåƒ
        sh """
            docker build -f ${dockerfile} -t ${fullImageName} ${context}
            docker tag ${fullImageName} ${registry}/${config.imageName}:latest
        """
        
        // æ¨é€é•œåƒï¼ˆå¦‚æœé…ç½®äº†ï¼‰
        if (config.push) {
            echo "æ¨é€é•œåƒåˆ°ä»“åº“..."
            sh """
                docker push ${fullImageName}
                docker push ${registry}/${config.imageName}:latest
            """
        }
        
        return fullImageName
        
    } catch (Exception e) {
        error "Dockeré•œåƒæ„å»ºå¤±è´¥: ${e.getMessage()}"
    }
}
```

**ğŸš€ K8séƒ¨ç½²å‡½æ•°**
```groovy
// vars/deployToK8s.groovy
def call(Map config) {
    // å¿…éœ€å‚æ•°æ£€æŸ¥
    def requiredParams = ['namespace', 'deployment', 'image']
    requiredParams.each { param ->
        if (!config[param]) {
            error "${param} å‚æ•°æ˜¯å¿…éœ€çš„"
        }
    }
    
    def namespace = config.namespace
    def deployment = config.deployment
    def image = config.image
    def timeout = config.timeout ?: '300s'
    def replicas = config.replicas ?: 3
    
    echo "éƒ¨ç½²åˆ°Kubernetes: ${deployment} in ${namespace}"
    
    try {
        // æ›´æ–°éƒ¨ç½²
        sh """
            kubectl set image deployment/${deployment} \
                ${deployment}=${image} \
                -n ${namespace}
        """
        
        // ç­‰å¾…éƒ¨ç½²å®Œæˆ
        sh """
            kubectl rollout status deployment/${deployment} \
                -n ${namespace} \
                --timeout=${timeout}
        """
        
        // éªŒè¯éƒ¨ç½²
        def podCount = sh(
            script: "kubectl get pods -n ${namespace} -l app=${deployment} --no-headers | wc -l",
            returnStdout: true
        ).trim()
        
        if (podCount.toInteger() < replicas) {
            error "éƒ¨ç½²éªŒè¯å¤±è´¥ï¼šæœŸæœ› ${replicas} ä¸ªPodï¼Œå®é™… ${podCount} ä¸ª"
        }
        
        echo "âœ… éƒ¨ç½²æˆåŠŸï¼è¿è¡Œ ${podCount} ä¸ªPod"
        
    } catch (Exception e) {
        // å›æ»šéƒ¨ç½²
        echo "éƒ¨ç½²å¤±è´¥ï¼Œæ­£åœ¨å›æ»š..."
        sh "kubectl rollout undo deployment/${deployment} -n ${namespace}"
        error "éƒ¨ç½²å¤±è´¥å¹¶å·²å›æ»š: ${e.getMessage()}"
    }
}
```

**ğŸ“± é€šçŸ¥å‡½æ•°**
```groovy
// vars/sendNotification.groovy
def call(Map config) {
    def status = config.status ?: currentBuild.result
    def message = config.message
    def channels = config.channels ?: ['slack']
    
    // ç”Ÿæˆé»˜è®¤æ¶ˆæ¯
    if (!message) {
        def emoji = [
            'SUCCESS': 'âœ…',
            'FAILURE': 'âŒ', 
            'UNSTABLE': 'âš ï¸',
            'ABORTED': 'ğŸ›‘'
        ]
        
        message = """
            ${emoji[status]} ${status}: ${env.JOB_NAME} #${env.BUILD_NUMBER}
            åˆ†æ”¯: ${env.BRANCH_NAME}
            æäº¤: ${env.GIT_COMMIT?.take(8)}
            è€—æ—¶: ${currentBuild.durationString}
            æŸ¥çœ‹: ${env.BUILD_URL}
        """
    }
    
    // å‘é€åˆ°ä¸åŒæ¸ é“
    channels.each { channel ->
        switch(channel) {
            case 'slack':
                sendSlackNotification(status, message)
                break
            case 'email':
                sendEmailNotification(status, message, config.email)
                break
            case 'webhook':
                sendWebhookNotification(status, message, config.webhook)
                break
        }
    }
}

private def sendSlackNotification(status, message) {
    def color = [
        'SUCCESS': 'good',
        'FAILURE': 'danger',
        'UNSTABLE': 'warning',
        'ABORTED': 'warning'
    ]
    
    slackSend(
        color: color[status],
        message: message
    )
}

private def sendEmailNotification(status, message, emailConfig) {
    if (!emailConfig?.to) return
    
    emailext(
        subject: "${status}: ${env.JOB_NAME} #${env.BUILD_NUMBER}",
        body: message,
        to: emailConfig.to
    )
}
```

### 7.4 ä½¿ç”¨å…±äº«åº“


**ğŸ“‹ åœ¨Pipelineä¸­ä½¿ç”¨**
```groovy
// å¼•å…¥å…±äº«åº“
@Library('jenkins-shared-library@main') _

pipeline {
    agent any
    
    stages {
        stage('æ„å»º') {
            steps {
                script {
                    // ä½¿ç”¨å…±äº«åº“å‡½æ•°
                    def imageTag = buildDockerImage {
                        imageName = 'myapp'
                        tag = "${env.BRANCH_NAME}-${env.BUILD_NUMBER}"
                        dockerfile = 'docker/Dockerfile'
                        context = '.'
                        push = true
                        registry = 'registry.company.com'
                    }
                    
                    // ä¿å­˜é•œåƒä¿¡æ¯ä¾›åç»­ä½¿ç”¨
                    env.DOCKER_IMAGE = imageTag
                }
            }
        }
        
        stage('æµ‹è¯•') {
            steps {
                script {
                    runTests {
                        type = 'unit'
                        reportPath = 'test-results.xml'
                    }
                    
                    runTests {
                        type = 'integration'
                        reportPath = 'integration-results.xml'
                    }
                }
            }
        }
        
        stage('éƒ¨ç½²') {
            when {
                branch 'main'
            }
            steps {
                script {
                    deployToK8s {
                        namespace = 'production'
                        deployment = 'myapp'
                        image = env.DOCKER_IMAGE
                        replicas = 5
                        timeout = '600s'
                    }
                }
            }
        }
    }
    
    post {
        always {
            script {
                sendNotification {
                    channels = ['slack', 'email']
                    email = [
                        to: 'devops@company.com'
                    ]
                }
            }
        }
    }
}
```

---

## 8. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 8.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ PipelineåŸºç¡€ï¼šä»£ç åŒ–çš„CI/CDæµæ°´çº¿ï¼Œç‰ˆæœ¬å¯æ§
ğŸ”¸ ä¸¤ç§è¯­æ³•ï¼šDeclarativeï¼ˆå£°æ˜å¼ï¼‰ç®€å•è§„èŒƒï¼ŒScriptedï¼ˆè„šæœ¬å¼ï¼‰çµæ´»å¼ºå¤§
ğŸ”¸ æ ¸å¿ƒç»„ä»¶ï¼šagentï¼ˆè¿è¡Œç¯å¢ƒï¼‰ã€stagesï¼ˆé˜¶æ®µï¼‰ã€stepsï¼ˆæ­¥éª¤ï¼‰ã€postï¼ˆåå¤„ç†ï¼‰
ğŸ”¸ ç¯å¢ƒå˜é‡ï¼šå†…ç½®å˜é‡ + è‡ªå®šä¹‰å˜é‡ + å‡­æ®ç®¡ç†
ğŸ”¸ å¹¶è¡Œæ‰§è¡Œï¼šæé«˜æ•ˆç‡ï¼Œindependent taskså¯ä»¥å¹¶è¡Œ
ğŸ”¸ æ¡ä»¶æ§åˆ¶ï¼šwhenè¯­å¥å®ç°æ™ºèƒ½æ‰§è¡Œ
ğŸ”¸ é”™è¯¯å¤„ç†ï¼štry-catch + retry + postå¤„ç†
ğŸ”¸ å…±äº«åº“ï¼šä»£ç å¤ç”¨ï¼Œç»Ÿä¸€æ ‡å‡†
```

### 8.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ Pipelineçš„æœ¬è´¨**
- **Infrastructure as Code**ï¼šåŸºç¡€è®¾æ–½å³ä»£ç çš„ç†å¿µ
- **Version Control**ï¼šæµæ°´çº¿é…ç½®å¯ä»¥ç‰ˆæœ¬ç®¡ç†
- **Declarative vs Imperative**ï¼šå£°æ˜å¼æè¿°æƒ³è¦ä»€ä¹ˆï¼Œå‘½ä»¤å¼æè¿°æ€ä¹ˆåš

**ğŸ”¹ è®¾è®¡åŸåˆ™**
```
å¯è¯»æ€§ä¼˜å…ˆï¼š
- ä½¿ç”¨æœ‰æ„ä¹‰çš„stageåç§°
- æ·»åŠ å¿…è¦çš„æ³¨é‡Šè¯´æ˜
- ä¿æŒé€»è¾‘æ¸…æ™°

å¤±è´¥å¿«é€Ÿï¼š
- æŠŠå®¹æ˜“å¤±è´¥çš„æ£€æŸ¥æ”¾åœ¨å‰é¢
- æ—©æœŸå‘ç°é—®é¢˜ï¼ŒèŠ‚çœæ—¶é—´

å¯æ¢å¤æ€§ï¼š
- åˆç†çš„é‡è¯•æœºåˆ¶
- å®Œå–„çš„é”™è¯¯å¤„ç†
- æ¸…æ™°çš„å¤±è´¥ä¿¡æ¯
```

### 8.3 æœ€ä½³å®è·µæŒ‡å—


**ğŸ“ å­¦ä¹ æ£€æŸ¥ç‚¹**
- [ ] èƒ½ç‹¬ç«‹ç¼–å†™åŸºç¡€çš„Declarative Pipeline
- [ ] ç†è§£agentã€stagesã€stepsçš„ä½œç”¨
- [ ] ä¼šä½¿ç”¨ç¯å¢ƒå˜é‡å’Œå‡­æ®ç®¡ç†
- [ ] æŒæ¡å¹¶è¡Œæ‰§è¡Œå’Œæ¡ä»¶æ§åˆ¶
- [ ] èƒ½å®ç°é”™è¯¯å¤„ç†å’Œé‡è¯•æœºåˆ¶
- [ ] äº†è§£å…±äº«åº“çš„æ¦‚å¿µå’Œä½¿ç”¨

**ğŸ¯ å®è·µå»ºè®®**
1. **ä»ç®€å•å¼€å§‹**ï¼šå…ˆå†™åŸºç¡€Pipelineï¼Œé€æ­¥æ·»åŠ åŠŸèƒ½
2. **å¤šçœ‹ç¤ºä¾‹**ï¼šå­¦ä¹ å¼€æºé¡¹ç›®çš„Pipelineå†™æ³•
3. **æµ‹è¯•é©±åŠ¨**ï¼šåœ¨å¼€å‘ç¯å¢ƒå……åˆ†æµ‹è¯•åå†ä¸Šç”Ÿäº§
4. **æ–‡æ¡£è®°å½•**ï¼šä¸ºè‡ªå®šä¹‰å‡½æ•°å’Œå…±äº«åº“å†™å¥½æ–‡æ¡£
5. **æŒç»­ä¼˜åŒ–**ï¼šæ ¹æ®å®é™…ä½¿ç”¨æƒ…å†µä¸æ–­æ”¹è¿›

**âš ï¸ å¸¸è§é™·é˜±**
- âŒ Pipelineä»£ç å¤ªå¤æ‚ï¼Œéš¾ä»¥ç»´æŠ¤
- âŒ æ²¡æœ‰é”™è¯¯å¤„ç†ï¼Œå¤±è´¥æ—¶éš¾ä»¥å®šä½é—®é¢˜
- âŒ è¿‡åº¦å¹¶è¡ŒåŒ–ï¼Œåè€Œé™ä½æ•ˆç‡
- âŒ ç¡¬ç¼–ç æ•æ„Ÿä¿¡æ¯ï¼Œå­˜åœ¨å®‰å…¨é£é™©

**ğŸ’¡ å…³é”®æ´å¯Ÿ**
> Pipelineä¸ä»…ä»…æ˜¯è‡ªåŠ¨åŒ–å·¥å…·ï¼Œæ›´æ˜¯å›¢é˜Ÿåä½œå’Œè´¨é‡ä¿è¯çš„é‡è¦æ‰‹æ®µã€‚ä¸€ä¸ªå¥½çš„Pipelineåº”è¯¥è®©å›¢é˜Ÿæ›´æœ‰ä¿¡å¿ƒåœ°å‘å¸ƒè½¯ä»¶ã€‚

**ğŸ”— çŸ¥è¯†å…³è”**
- **å‰ç½®çŸ¥è¯†**ï¼šGitã€Dockerã€LinuxåŸºç¡€å‘½ä»¤
- **ç›¸å…³æ¦‚å¿µ**ï¼šCI/CDã€DevOpsã€åŸºç¡€è®¾æ–½å³ä»£ç 
- **åç»­å­¦ä¹ **ï¼šKubernetesã€ç›‘æ§å‘Šè­¦ã€å®‰å…¨æ‰«æé›†æˆ

**ğŸš€ å¿«é€Ÿä¸Šæ‰‹**
1ï¸âƒ£ **ç¬¬ä¸€æ­¥**ï¼šåœ¨Jenkinsä¸­åˆ›å»ºPipelineé¡¹ç›®
2ï¸âƒ£ **ç¬¬äºŒæ­¥**ï¼šä»ç®€å•çš„"Hello World" Pipelineå¼€å§‹
3ï¸âƒ£ **ç¬¬ä¸‰æ­¥**ï¼šé€æ­¥æ·»åŠ æ„å»ºã€æµ‹è¯•ã€éƒ¨ç½²é˜¶æ®µ
4ï¸âƒ£ **ç¬¬å››æ­¥**ï¼šé›†æˆé”™è¯¯å¤„ç†å’Œé€šçŸ¥æœºåˆ¶
5ï¸âƒ£ **ç¬¬äº”æ­¥**ï¼šå¼€å‘å…±äº«åº“æé«˜å¤ç”¨æ€§

**æ ¸å¿ƒè®°å¿†**ï¼š
- Pipelineå³ä»£ç ï¼Œç‰ˆæœ¬åŒ–ç®¡ç†æ„å»ºæµç¨‹
- å£°æ˜å¼ç®€å•æ¸…æ™°ï¼Œè„šæœ¬å¼çµæ´»å¼ºå¤§
- å¹¶è¡Œææ•ˆç‡ï¼Œæ¡ä»¶æ§æ™ºèƒ½åŒ–
- é”™è¯¯è¦å¤„ç†ï¼Œé‡è¯•ä¿ç¨³å®š
- å…±äº«åº“å¤ç”¨ï¼Œå›¢é˜Ÿæ ‡å‡†åŒ–