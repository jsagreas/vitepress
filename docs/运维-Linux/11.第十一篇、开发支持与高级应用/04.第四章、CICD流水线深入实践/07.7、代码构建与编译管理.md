---
title: 7ã€ä»£ç æ„å»ºä¸ç¼–è¯‘ç®¡ç†
---
## ğŸ“š ç›®å½•

1. [æ„å»ºç®¡ç†åŸºç¡€æ¦‚å¿µ](#1-æ„å»ºç®¡ç†åŸºç¡€æ¦‚å¿µ)
2. [å¤šè¯­è¨€æ„å»ºç¯å¢ƒé…ç½®](#2-å¤šè¯­è¨€æ„å»ºç¯å¢ƒé…ç½®)
3. [Javaé¡¹ç›®æ„å»ºå®è·µ](#3-javaé¡¹ç›®æ„å»ºå®è·µ)
4. [Node.jsé¡¹ç›®æ„å»ºå®è·µ](#4-nodejsé¡¹ç›®æ„å»ºå®è·µ)
5. [Dockeré•œåƒæ„å»º](#5-dockeré•œåƒæ„å»º)
6. [æ„å»ºä¼˜åŒ–ç­–ç•¥](#6-æ„å»ºä¼˜åŒ–ç­–ç•¥)
7. [ç‰ˆæœ¬ç®¡ç†ä¸å·¥ä»¶å­˜å‚¨](#7-ç‰ˆæœ¬ç®¡ç†ä¸å·¥ä»¶å­˜å‚¨)
8. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#8-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ”§ æ„å»ºç®¡ç†åŸºç¡€æ¦‚å¿µ


### 1.1 ä»€ä¹ˆæ˜¯ä»£ç æ„å»º


**ç®€å•ç†è§£**ï¼šæ„å»ºå°±åƒæ˜¯æŠŠä½ å†™çš„ä»£ç "æ‰“åŒ…è£…ç®±"çš„è¿‡ç¨‹

```
å¼€å‘é˜¶æ®µï¼šæºä»£ç æ–‡ä»¶ï¼ˆäººç±»å¯è¯»ï¼‰
    â†“ æ„å»ºè¿‡ç¨‹
ç”Ÿäº§é˜¶æ®µï¼šå¯æ‰§è¡Œæ–‡ä»¶ï¼ˆæœºå™¨å¯è¿è¡Œï¼‰

ç±»æ¯”ï¼š
æºä»£ç  = é£Ÿæå’Œèœè°±
æ„å»º   = çƒ¹é¥ªè¿‡ç¨‹  
æˆå“   = å¯ä»¥ç«¯ä¸Šæ¡Œçš„èœ
```

**æ„å»ºçš„æ ¸å¿ƒä½œç”¨**ï¼š
- **ç¼–è¯‘è½¬æ¢**ï¼šå°†é«˜çº§è¯­è¨€è½¬æ¢ä¸ºæœºå™¨èƒ½ç†è§£çš„ä»£ç 
- **ä¾èµ–ç®¡ç†**ï¼šè‡ªåŠ¨ä¸‹è½½å’Œç»„ç»‡é¡¹ç›®éœ€è¦çš„ç¬¬ä¸‰æ–¹åº“
- **èµ„æºæ‰“åŒ…**ï¼šå°†ä»£ç ã€é…ç½®æ–‡ä»¶ã€é™æ€èµ„æºç­‰æ‰“åŒ…åœ¨ä¸€èµ·
- **è´¨é‡æ£€æŸ¥**ï¼šåœ¨æ„å»ºè¿‡ç¨‹ä¸­è¿›è¡Œä»£ç æ£€æŸ¥å’Œæµ‹è¯•

### 1.2 æ„å»ºç¯å¢ƒçš„é‡è¦æ€§


**ä¸ºä»€ä¹ˆéœ€è¦æ ‡å‡†åŒ–æ„å»ºç¯å¢ƒï¼Ÿ**

```
é—®é¢˜åœºæ™¯ï¼š
å¼€å‘è€…Açš„ç”µè„‘ï¼šJava 8 + Maven 3.6
å¼€å‘è€…Bçš„ç”µè„‘ï¼šJava 11 + Maven 3.8
ç”Ÿäº§æœåŠ¡å™¨ï¼šJava 17 + Maven 3.9

ç»“æœï¼šåŒæ ·çš„ä»£ç åœ¨ä¸åŒç¯å¢ƒå¯èƒ½å‡ºç°ä¸åŒç»“æœ
```

**æ ‡å‡†åŒ–æ„å»ºçš„å¥½å¤„**ï¼š
- âœ… **ä¸€è‡´æ€§**ï¼šç¡®ä¿æ‰€æœ‰ç¯å¢ƒæ„å»ºç»“æœç›¸åŒ
- âœ… **å¯é‡å¤æ€§**ï¼šä»»ä½•æ—¶å€™éƒ½èƒ½é‡ç°æ„å»ºè¿‡ç¨‹
- âœ… **å¯é æ€§**ï¼šå‡å°‘"åœ¨æˆ‘æœºå™¨ä¸Šèƒ½è¿è¡Œ"çš„é—®é¢˜

### 1.3 æ„å»ºæµç¨‹æ¦‚è§ˆ


```
å…¸å‹CI/CDæ„å»ºæµç¨‹ï¼š

ä»£ç æäº¤ â†’ æ„å»ºè§¦å‘
    â†“
ç¯å¢ƒå‡†å¤‡ â†’ ä¾èµ–å®‰è£… â†’ ä»£ç ç¼–è¯‘ â†’ å•å…ƒæµ‹è¯• â†’ æ‰“åŒ… â†’ å‘å¸ƒ
    â†“           â†“         â†“         â†“       â†“      â†“
   æ‹‰å–é•œåƒ   ä¸‹è½½ä¾èµ–   æ£€æŸ¥è¯­æ³•   è¿è¡Œæµ‹è¯•  ç”ŸæˆåŒ…  ä¸Šä¼ ä»“åº“
```

---

## 2. ğŸŒ å¤šè¯­è¨€æ„å»ºç¯å¢ƒé…ç½®


### 2.1 æ„å»ºç¯å¢ƒç®¡ç†ç­–ç•¥


**ä¼ ç»Ÿæ–¹å¼ vs å®¹å™¨åŒ–æ–¹å¼**

| å¯¹æ¯”é¡¹ | **ä¼ ç»Ÿå®‰è£…** | **å®¹å™¨åŒ–æ„å»º** |
|--------|------------|----------------|
| **ç¯å¢ƒéš”ç¦»** | å›°éš¾ï¼Œå®¹æ˜“å†²çª | å®Œå…¨éš”ç¦» |
| **ç‰ˆæœ¬ç®¡ç†** | æ‰‹åŠ¨ç»´æŠ¤ | é•œåƒç‰ˆæœ¬æ§åˆ¶ |
| **ç¯å¢ƒä¸€è‡´æ€§** | éš¾ä»¥ä¿è¯ | å®Œå…¨ä¸€è‡´ |
| **éƒ¨ç½²é€Ÿåº¦** | æ…¢ | å¿« |

### 2.2 Jenkinsç¯å¢ƒé…ç½®


**Jenkinså…¨å±€å·¥å…·é…ç½®**

```groovy
// Jenkins Pipeline ç¯å¢ƒå‡†å¤‡
pipeline {
    agent any
    
    tools {
        // Javaç¯å¢ƒé…ç½®
        jdk 'OpenJDK-11'
        // Mavenå·¥å…·é…ç½®  
        maven 'Maven-3.8'
        // Node.jsç¯å¢ƒé…ç½®
        nodejs 'NodeJS-16'
    }
    
    environment {
        // å…¨å±€ç¯å¢ƒå˜é‡
        JAVA_HOME = tool('OpenJDK-11')
        MAVEN_HOME = tool('Maven-3.8')
        PATH = "${JAVA_HOME}/bin:${MAVEN_HOME}/bin:${PATH}"
    }
}
```

**DockeråŒ–æ„å»ºç¯å¢ƒ**

```yaml
# .gitlab-ci.yml ç¤ºä¾‹
stages:
  - build
  - test
  - package

# Javaæ„å»ºä»»åŠ¡
java-build:
  stage: build
  image: openjdk:11-jdk-slim
  before_script:
    - apt-get update && apt-get install -y maven
  script:
    - mvn clean compile
```

### 2.3 å¤šé¡¹ç›®ç¯å¢ƒç®¡ç†


**çŸ©é˜µæ„å»ºç­–ç•¥**

```yaml
# GitHub Actions çŸ©é˜µæ„å»ºç¤ºä¾‹
strategy:
  matrix:
    java-version: [8, 11, 17]
    os: [ubuntu-latest, windows-latest, macos-latest]
    
steps:
  - uses: actions/setup-java@v3
    with:
      java-version: ${{ matrix.java-version }}
      distribution: 'temurin'
```

---

## 3. â˜• Javaé¡¹ç›®æ„å»ºå®è·µ


### 3.1 Mavenæ„å»ºæ·±å…¥


**Mavenæ˜¯ä»€ä¹ˆï¼Ÿ**
Mavenå°±åƒæ˜¯Javaé¡¹ç›®çš„"è‡ªåŠ¨åŒ–åŠ©æ‰‹"ï¼Œå¸®ä½ ç®¡ç†é¡¹ç›®çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸ

**æ ¸å¿ƒæ¦‚å¿µç†è§£**ï¼š
```
POMæ–‡ä»¶ = é¡¹ç›®çš„"èº«ä»½è¯"
ä¾èµ–ç®¡ç† = è‡ªåŠ¨ä¸‹è½½éœ€è¦çš„"å·¥å…·åŒ…"
ç”Ÿå‘½å‘¨æœŸ = é¡¹ç›®ä»"å‡ºç”Ÿåˆ°æˆå“"çš„æ ‡å‡†æµç¨‹
```

**Mavenæ„å»ºç”Ÿå‘½å‘¨æœŸ**

```
Mavenæ ‡å‡†ç”Ÿå‘½å‘¨æœŸï¼š
validate â†’ compile â†’ test â†’ package â†’ verify â†’ install â†’ deploy
   â†“         â†“        â†“       â†“         â†“        â†“        â†“
 æ£€æŸ¥é¡¹ç›®   ç¼–è¯‘ä»£ç   è¿è¡Œæµ‹è¯•  æ‰“åŒ…jar   éªŒè¯åŒ…   å®‰è£…æœ¬åœ°  éƒ¨ç½²è¿œç¨‹
```

**å®é™…æ„å»ºè„šæœ¬**

```xml
<!-- pom.xml å…³é”®é…ç½® -->
<project>
    <groupId>com.company</groupId>
    <artifactId>my-app</artifactId>
    <version>1.0-SNAPSHOT</version>
    <packaging>jar</packaging>
    
    <properties>
        <maven.compiler.source>11</maven.compiler.source>
        <maven.compiler.target>11</maven.compiler.target>
        <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
    </properties>
    
    <build>
        <plugins>
            <!-- ç¼–è¯‘æ’ä»¶ -->
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-compiler-plugin</artifactId>
                <version>3.10.1</version>
            </plugin>
            
            <!-- æµ‹è¯•æ’ä»¶ -->
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-surefire-plugin</artifactId>
                <version>3.0.0-M7</version>
            </plugin>
        </plugins>
    </build>
</project>
```

**Jenkins Mavenæ„å»ºPipeline**

```groovy
pipeline {
    agent any
    
    stages {
        stage('ä»£ç æ£€å‡º') {
            steps {
                checkout scm
            }
        }
        
        stage('Mavenæ„å»º') {
            steps {
                sh '''
                    # æ¸…ç†ä¹‹å‰çš„æ„å»º
                    mvn clean
                    
                    # ç¼–è¯‘å’Œæµ‹è¯•
                    mvn compile test
                    
                    # æ‰“åŒ…
                    mvn package -DskipTests=false
                '''
            }
        }
        
        stage('æµ‹è¯•æŠ¥å‘Š') {
            steps {
                // å‘å¸ƒæµ‹è¯•ç»“æœ
                publishTestResults testResultsPattern: 'target/surefire-reports/*.xml'
                
                // å‘å¸ƒä»£ç è¦†ç›–ç‡æŠ¥å‘Š
                publishCoverage adapters: [jacocoAdapter('target/site/jacoco/jacoco.xml')]
            }
        }
    }
}
```

### 3.2 Gradleæ„å»ºå®è·µ


**Gradleçš„ä¼˜åŠ¿**ï¼š
- **æ€§èƒ½æ›´å¥½**ï¼šå¢é‡æ„å»ºï¼Œåªç¼–è¯‘å˜åŒ–çš„éƒ¨åˆ†
- **çµæ´»æ€§å¼º**ï¼šä½¿ç”¨Groovy/Kotlin DSLï¼Œç¼–ç¨‹å¼é…ç½®
- **ä¾èµ–è§£æå¿«**ï¼šå¹¶è¡Œä¸‹è½½ï¼Œæ™ºèƒ½ç¼“å­˜

**åŸºç¡€Gradleé…ç½®**

```groovy
// build.gradle
plugins {
    id 'java'
    id 'application'
}

group = 'com.company'
version = '1.0-SNAPSHOT'

repositories {
    mavenCentral()
}

dependencies {
    implementation 'org.springframework:spring-core:5.3.21'
    testImplementation 'junit:junit:4.13.2'
}

// Javaç¼–è¯‘é…ç½®
java {
    sourceCompatibility = JavaVersion.VERSION_11
    targetCompatibility = JavaVersion.VERSION_11
}

// æµ‹è¯•é…ç½®
test {
    useJUnit()
    testLogging {
        events "passed", "skipped", "failed"
    }
}
```

### 3.3 æ„å»ºæ€§èƒ½ä¼˜åŒ–


**Mavenæ€§èƒ½ä¼˜åŒ–ç­–ç•¥**

```xml
<!-- Mavenå¹¶è¡Œæ„å»º -->
<plugin>
    <groupId>org.apache.maven.plugins</groupId>
    <artifactId>maven-compiler-plugin</artifactId>
    <configuration>
        <!-- å¹¶è¡Œç¼–è¯‘ -->
        <fork>true</fork>
        <meminitial>128m</meminitial>
        <maxmem>512m</maxmem>
    </configuration>
</plugin>
```

**Gradleæ€§èƒ½ä¼˜åŒ–**

```groovy
// gradle.properties
# å¼€å¯å¹¶è¡Œæ„å»º
org.gradle.parallel=true
# å¼€å¯æ„å»ºç¼“å­˜
org.gradle.caching=true
# å¼€å¯æŒ‰éœ€é…ç½®
org.gradle.configureondemand=true
# å¢åŠ å †å†…å­˜
org.gradle.jvmargs=-Xmx2048m
```

---

## 4. ğŸŸ¢ Node.jsé¡¹ç›®æ„å»ºå®è·µ


### 4.1 npm/yarnåŒ…ç®¡ç†åŸºç¡€


**npm vs yarné€‰æ‹©**

| ç‰¹æ€§ | **npm** | **yarn** |
|------|---------|----------|
| **å®‰è£…é€Ÿåº¦** | è¾ƒæ…¢ | å¿« |
| **é”æ–‡ä»¶** | package-lock.json | yarn.lock |
| **ç¦»çº¿å®‰è£…** | ä¸æ”¯æŒ | æ”¯æŒ |
| **å·¥ä½œåŒº** | npm 7+ | åŸç”Ÿæ”¯æŒ |

**ç†è§£ä¾èµ–ç®¡ç†**ï¼š
```
package.json = é¡¹ç›®éœ€æ±‚æ¸…å•
node_modules = å®é™…ä¸‹è½½çš„ä¾èµ–åŒ…
lockæ–‡ä»¶ = ç²¾ç¡®ç‰ˆæœ¬è®°å½•ï¼ˆç¡®ä¿ç¯å¢ƒä¸€è‡´ï¼‰
```

### 4.2 Node.jsæ„å»ºæµç¨‹


**åŸºç¡€æ„å»ºè„šæœ¬**

```json
{
  "name": "my-node-app",
  "version": "1.0.0",
  "scripts": {
    "install:clean": "rm -rf node_modules package-lock.json && npm install",
    "build": "npm run lint && npm run test && npm run compile",
    "lint": "eslint src/",
    "test": "jest --coverage",
    "compile": "webpack --mode production",
    "start": "node dist/index.js"
  },
  "dependencies": {
    "express": "^4.18.0"
  },
  "devDependencies": {
    "webpack": "^5.70.0",
    "jest": "^27.5.0",
    "eslint": "^8.10.0"
  }
}
```

**Jenkins Node.js Pipeline**

```groovy
pipeline {
    agent any
    
    tools {
        nodejs 'NodeJS-16'
    }
    
    stages {
        stage('å®‰è£…ä¾èµ–') {
            steps {
                sh '''
                    # æ¸…ç†ç¼“å­˜
                    npm cache clean --force
                    
                    # å®‰è£…ä¾èµ–
                    npm ci  # æ¯”npm installæ›´é€‚åˆCIç¯å¢ƒ
                '''
            }
        }
        
        stage('ä»£ç æ£€æŸ¥') {
            steps {
                sh 'npm run lint'
            }
        }
        
        stage('è¿è¡Œæµ‹è¯•') {
            steps {
                sh 'npm test'
            }
        }
        
        stage('æ„å»ºåº”ç”¨') {
            steps {
                sh 'npm run build'
            }
        }
    }
}
```

### 4.3 å‰ç«¯æ„å»ºä¼˜åŒ–


**Webpackæ„å»ºä¼˜åŒ–**

```javascript
// webpack.config.js
const path = require('path');

module.exports = {
  mode: 'production',
  entry: './src/index.js',
  output: {
    path: path.resolve(__dirname, 'dist'),
    filename: '[name].[contenthash].js',  // æ–‡ä»¶ååŒ…å«hashï¼Œä¾¿äºç¼“å­˜
    clean: true  // æ¸…ç†è¾“å‡ºç›®å½•
  },
  optimization: {
    splitChunks: {
      chunks: 'all',  // ä»£ç åˆ†å‰²
    },
  },
  module: {
    rules: [
      {
        test: /\.js$/,
        exclude: /node_modules/,
        use: {
          loader: 'babel-loader',
          options: {
            presets: ['@babel/preset-env']
          }
        }
      }
    ]
  }
};
```

---

## 5. ğŸ³ Dockeré•œåƒæ„å»º


### 5.1 Dockeræ„å»ºåŸºç¡€


**ä¸ºä»€ä¹ˆä½¿ç”¨Dockeræ„å»ºï¼Ÿ**

```
ä¼ ç»Ÿéƒ¨ç½²é—®é¢˜ï¼š
"åœ¨æˆ‘æœºå™¨ä¸Šèƒ½è¿è¡Œ" â†’ ç¯å¢ƒå·®å¼‚å¯¼è‡´é—®é¢˜
ä¾èµ–ç®¡ç†å¤æ‚ â†’ ç‰ˆæœ¬å†²çª
éƒ¨ç½²è¿‡ç¨‹ç¹ç â†’ æ‰‹åŠ¨é…ç½®å®¹æ˜“å‡ºé”™

Dockerè§£å†³æ–¹æ¡ˆï¼š
ç¯å¢ƒä¸€è‡´æ€§ â†’ å®¹å™¨åŒ–å°è£…
ä¾èµ–éš”ç¦» â†’ æ¯ä¸ªåº”ç”¨ç‹¬ç«‹ç¯å¢ƒ  
éƒ¨ç½²ç®€åŒ– â†’ ä¸€ä¸ªå‘½ä»¤å¯åŠ¨
```

### 5.2 å¤šé˜¶æ®µæ„å»ºå®è·µ


**Javaåº”ç”¨å¤šé˜¶æ®µæ„å»º**

```dockerfile
# Dockerfile.java - å¤šé˜¶æ®µæ„å»º
# é˜¶æ®µ1ï¼šæ„å»ºé˜¶æ®µ
FROM maven:3.8-openjdk-11 AS builder

WORKDIR /app
COPY pom.xml .
COPY src ./src

# æ„å»ºåº”ç”¨
RUN mvn clean package -DskipTests

# é˜¶æ®µ2ï¼šè¿è¡Œé˜¶æ®µ
FROM openjdk:11-jre-slim AS runtime

WORKDIR /app

# åªå¤åˆ¶æ„å»ºäº§ç‰©ï¼Œä¸åŒ…å«æºç 
COPY --from=builder /app/target/*.jar app.jar

# è¿è¡Œåº”ç”¨
EXPOSE 8080
CMD ["java", "-jar", "app.jar"]
```

**Node.jsåº”ç”¨å¤šé˜¶æ®µæ„å»º**

```dockerfile
# Dockerfile.node - å¤šé˜¶æ®µæ„å»º
# é˜¶æ®µ1ï¼šæ„å»ºé˜¶æ®µ
FROM node:16-alpine AS builder

WORKDIR /app
COPY package*.json ./
RUN npm ci --only=production

COPY . .
RUN npm run build

# é˜¶æ®µ2ï¼šè¿è¡Œé˜¶æ®µ  
FROM node:16-alpine AS runtime

WORKDIR /app

# å¤åˆ¶æ„å»ºäº§ç‰©å’Œç”Ÿäº§ä¾èµ–
COPY --from=builder /app/dist ./dist
COPY --from=builder /app/node_modules ./node_modules
COPY --from=builder /app/package.json .

USER node
EXPOSE 3000
CMD ["npm", "start"]
```

### 5.3 Dockeræ„å»ºä¼˜åŒ–


**æ„å»ºç¼“å­˜ä¼˜åŒ–**

```dockerfile
# ä¼˜åŒ–å‰ - æ¯æ¬¡éƒ½é‡æ–°å®‰è£…ä¾èµ–
FROM node:16-alpine
WORKDIR /app
COPY . .              # ä»»ä½•æ–‡ä»¶å˜åŒ–éƒ½ä¼šå¯¼è‡´é‡æ–°å®‰è£…ä¾èµ–
RUN npm install
RUN npm run build

# ä¼˜åŒ–å - åˆ©ç”¨Dockerå±‚ç¼“å­˜
FROM node:16-alpine
WORKDIR /app
COPY package*.json ./  # åªæœ‰ä¾èµ–å˜åŒ–æ—¶æ‰é‡æ–°å®‰è£…
RUN npm ci
COPY . .              # æºç å˜åŒ–ä¸å½±å“ä¾èµ–å±‚
RUN npm run build
```

**CI/CDä¸­çš„Dockeræ„å»º**

```yaml
# GitLab CI Dockeræ„å»º
docker-build:
  stage: build
  image: docker:20.10
  services:
    - docker:20.10-dind
  variables:
    DOCKER_DRIVER: overlay2
    DOCKER_TLS_CERTDIR: "/certs"
  before_script:
    - docker login -u $CI_REGISTRY_USER -p $CI_REGISTRY_PASSWORD $CI_REGISTRY
  script:
    - docker build -t $CI_REGISTRY_IMAGE:$CI_COMMIT_SHA .
    - docker push $CI_REGISTRY_IMAGE:$CI_COMMIT_SHA
```

---

## 6. âš¡ æ„å»ºä¼˜åŒ–ç­–ç•¥


### 6.1 æ„å»ºç¼“å­˜ç­–ç•¥


**ç†è§£æ„å»ºç¼“å­˜**ï¼š
```
ç¼“å­˜åŸç†ï¼š
ç¬¬ä¸€æ¬¡æ„å»ºï¼šä¸‹è½½ä¾èµ– â†’ ç¼–è¯‘ä»£ç  â†’ æ‰“åŒ… (è€—æ—¶é•¿)
åç»­æ„å»ºï¼šä½¿ç”¨ç¼“å­˜ â†’ åªç¼–è¯‘å˜åŒ–éƒ¨åˆ† â†’ æ‰“åŒ… (è€—æ—¶çŸ­)

ç¼“å­˜ä½ç½®ï¼š
æœ¬åœ°ç¼“å­˜ï¼šå¼€å‘æœºå™¨ä¸Šçš„ç¼“å­˜
è¿œç¨‹ç¼“å­˜ï¼šå›¢é˜Ÿå…±äº«çš„ç¼“å­˜æœåŠ¡å™¨
å®¹å™¨ç¼“å­˜ï¼šDockerå±‚ç¼“å­˜
```

**Mavenä¾èµ–ç¼“å­˜**

```groovy
// Jenkins Pipeline ç¼“å­˜é…ç½®
pipeline {
    agent any
    
    stages {
        stage('æ„å»º') {
            steps {
                // ç¼“å­˜Mavenä¾èµ–
                script {
                    def cacheKey = "maven-${hashFiles('**/pom.xml')}"
                    cache(cacheKey) {
                        sh 'mvn compile'
                    }
                }
            }
        }
    }
}
```

**Node.jsä¾èµ–ç¼“å­˜**

```yaml
# GitHub Actions ç¼“å­˜ç¤ºä¾‹
- name: Cache Node.js modules
  uses: actions/cache@v3
  with:
    path: ~/.npm
    key: ${{ runner.os }}-node-${{ hashFiles('**/package-lock.json') }}
    restore-keys: |
      ${{ runner.os }}-node-
      
- name: Install dependencies
  run: npm ci
```

### 6.2 å¹¶è¡Œæ„å»ºç­–ç•¥


**Jenkinså¹¶è¡Œæ„å»º**

```groovy
pipeline {
    agent any
    
    stages {
        stage('å¹¶è¡Œæ„å»º') {
            parallel {
                stage('åç«¯æ„å»º') {
                    steps {
                        dir('backend') {
                            sh 'mvn package'
                        }
                    }
                }
                stage('å‰ç«¯æ„å»º') {
                    steps {
                        dir('frontend') {
                            sh 'npm run build'
                        }
                    }
                }
                stage('æ–‡æ¡£æ„å»º') {
                    steps {
                        dir('docs') {
                            sh 'mkdocs build'
                        }
                    }
                }
            }
        }
    }
}
```

### 6.3 æ„å»ºæ—¶é—´ä¼˜åŒ–


**æ„å»ºæ€§èƒ½ç›‘æ§**

```bash
# Mavenæ„å»ºæ—¶é—´åˆ†æ
mvn clean package -Dtime

# Gradleæ„å»ºæ€§èƒ½æŠ¥å‘Š
./gradlew build --profile

# npmæ„å»ºæ—¶é—´åˆ†æ
time npm run build
```

**ä¼˜åŒ–ç­–ç•¥æ€»ç»“**

| ä¼˜åŒ–æ–¹å‘ | **å…·ä½“æªæ–½** | **æ•ˆæœ** |
|----------|------------|----------|
| **ä¾èµ–ç®¡ç†** | ä½¿ç”¨ç¼“å­˜ã€é”å®šç‰ˆæœ¬ | å‡å°‘ä¸‹è½½æ—¶é—´ |
| **ç¼–è¯‘ä¼˜åŒ–** | å¢é‡ç¼–è¯‘ã€å¹¶è¡Œç¼–è¯‘ | æå‡ç¼–è¯‘é€Ÿåº¦ |
| **èµ„æºä¼˜åŒ–** | ä»£ç åˆ†å‰²ã€å‹ç¼© | å‡å°‘åŒ…ä½“ç§¯ |
| **å®¹å™¨ä¼˜åŒ–** | å¤šé˜¶æ®µæ„å»ºã€å±‚ç¼“å­˜ | å‡å°‘é•œåƒå¤§å° |

---

## 7. ğŸ“¦ ç‰ˆæœ¬ç®¡ç†ä¸å·¥ä»¶å­˜å‚¨


### 7.1 ç‰ˆæœ¬å·ç”Ÿæˆç­–ç•¥


**è¯­ä¹‰åŒ–ç‰ˆæœ¬æ§åˆ¶ï¼ˆSemVerï¼‰**

```
ç‰ˆæœ¬æ ¼å¼ï¼šä¸»ç‰ˆæœ¬.æ¬¡ç‰ˆæœ¬.ä¿®è®¢ç‰ˆæœ¬ (MAJOR.MINOR.PATCH)

ç¤ºä¾‹ï¼š1.2.3
  â†“   â†“   â†“
 ä¸»ç‰ˆ  æ¬¡ç‰ˆ  è¡¥ä¸

è§„åˆ™ï¼š
ä¸»ç‰ˆæœ¬ï¼šä¸å…¼å®¹çš„APIä¿®æ”¹
æ¬¡ç‰ˆæœ¬ï¼šå‘ä¸‹å…¼å®¹çš„åŠŸèƒ½æ€§æ–°å¢
è¡¥ä¸ç‰ˆæœ¬ï¼šå‘ä¸‹å…¼å®¹çš„bugä¿®å¤
```

**è‡ªåŠ¨ç‰ˆæœ¬å·ç”Ÿæˆ**

```groovy
// Jenkinsè‡ªåŠ¨ç‰ˆæœ¬å·ç”Ÿæˆ
pipeline {
    environment {
        VERSION = generateVersion()
    }
    
    stages {
        stage('ç”Ÿæˆç‰ˆæœ¬å·') {
            steps {
                script {
                    def version = "${env.BUILD_NUMBER}-${env.GIT_COMMIT.take(7)}"
                    env.APP_VERSION = version
                    echo "æ„å»ºç‰ˆæœ¬: ${version}"
                }
            }
        }
    }
}

def generateVersion() {
    def gitCommit = sh(returnStdout: true, script: 'git rev-parse --short HEAD').trim()
    def buildNumber = env.BUILD_NUMBER
    def timestamp = new Date().format('yyyyMMdd-HHmmss')
    return "1.0.${buildNumber}-${gitCommit}-${timestamp}"
}
```

### 7.2 å·¥ä»¶å­˜å‚¨ç®¡ç†


**åˆ¶å“ä»“åº“çš„ä½œç”¨**ï¼š
```
æºç ä»“åº“ï¼šå­˜å‚¨æºä»£ç 
åˆ¶å“ä»“åº“ï¼šå­˜å‚¨æ„å»ºäº§ç‰©

ç±»æ¯”ï¼š
æºç ä»“åº“ = èœè°±é›†åˆ
åˆ¶å“ä»“åº“ = æˆå“èœå“ä»“åº“
```

**Nexus/Artifactoryé…ç½®**

```xml
<!-- Mavenå‘å¸ƒé…ç½® -->
<distributionManagement>
    <repository>
        <id>nexus-releases</id>
        <url>http://nexus.company.com/repository/maven-releases/</url>
    </repository>
    <snapshotRepository>
        <id>nexus-snapshots</id>
        <url>http://nexus.company.com/repository/maven-snapshots/</url>
    </snapshotRepository>
</distributionManagement>
```

**Dockeré•œåƒä»“åº“ç®¡ç†**

```bash
# é•œåƒæ ‡ç­¾ç­–ç•¥
docker tag myapp:latest registry.company.com/myapp:1.0.0
docker tag myapp:latest registry.company.com/myapp:latest
docker tag myapp:latest registry.company.com/myapp:${BUILD_NUMBER}

# æ¨é€åˆ°ä¸åŒç¯å¢ƒ
docker push registry.company.com/myapp:latest          # å¼€å‘ç¯å¢ƒ
docker push registry.company.com/myapp:1.0.0          # æµ‹è¯•ç¯å¢ƒ  
docker push registry.company.com/myapp:1.0.0-stable   # ç”Ÿäº§ç¯å¢ƒ
```

### 7.3 å·¥ä»¶æ¸…ç†ç­–ç•¥


**è‡ªåŠ¨æ¸…ç†è§„åˆ™**

```groovy
// Jenkinså·¥ä»¶æ¸…ç†
pipeline {
    options {
        // ä¿ç•™æœ€è¿‘30ä¸ªæ„å»º
        buildDiscarder(logRotator(numToKeepStr: '30'))
        
        // å·¥ä»¶ä¿ç•™ç­–ç•¥
        artifactNumToKeep: 10
    }
}
```

**å­˜å‚¨ç©ºé—´ç®¡ç†**

```bash
#!/bin/bash
# æ¸…ç†è„šæœ¬ç¤ºä¾‹

# æ¸…ç†è¶…è¿‡30å¤©çš„Dockeré•œåƒ
docker image prune -a --filter "until=720h"

# æ¸…ç†æœªä½¿ç”¨çš„æ„å»ºç¼“å­˜
docker builder prune -a

# æ¸…ç†Mavenæœ¬åœ°ä»“åº“ä¸­çš„å¿«ç…§ç‰ˆæœ¬
find ~/.m2/repository -name "*SNAPSHOT*" -type d -mtime +7 -exec rm -rf {} +
```

---

## 8. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 8.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ æ„å»ºæœ¬è´¨ï¼šå°†æºä»£ç è½¬æ¢ä¸ºå¯éƒ¨ç½²çš„åˆ¶å“
ğŸ”¸ ç¯å¢ƒä¸€è‡´æ€§ï¼šç¡®ä¿å¼€å‘ã€æµ‹è¯•ã€ç”Ÿäº§ç¯å¢ƒæ„å»ºç»“æœç›¸åŒ
ğŸ”¸ ä¾èµ–ç®¡ç†ï¼šè‡ªåŠ¨åŒ–ç®¡ç†é¡¹ç›®æ‰€éœ€çš„ç¬¬ä¸‰æ–¹åº“
ğŸ”¸ æ„å»ºä¼˜åŒ–ï¼šé€šè¿‡ç¼“å­˜ã€å¹¶è¡Œç­‰ç­–ç•¥æå‡æ„å»ºæ•ˆç‡
ğŸ”¸ ç‰ˆæœ¬æ§åˆ¶ï¼šè§„èŒƒåŒ–çš„ç‰ˆæœ¬å·ç®¡ç†å’Œåˆ¶å“å­˜å‚¨
```

### 8.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ ä¸ºä»€ä¹ˆæ„å»ºå¦‚æ­¤é‡è¦**
```
è´¨é‡ä¿è¯ï¼š
- ç¼–è¯‘æ£€æŸ¥å‘ç°è¯­æ³•é”™è¯¯
- è‡ªåŠ¨åŒ–æµ‹è¯•ç¡®ä¿åŠŸèƒ½æ­£ç¡®
- ä»£ç æ‰«æå‘ç°å®‰å…¨æ¼æ´

æ•ˆç‡æå‡ï¼š
- è‡ªåŠ¨åŒ–å‡å°‘æ‰‹åŠ¨æ“ä½œ
- å¹¶è¡Œæ„å»ºæå‡é€Ÿåº¦
- ç¼“å­˜æœºåˆ¶é¿å…é‡å¤å·¥ä½œ

ä¸€è‡´æ€§ä¿éšœï¼š
- æ ‡å‡†åŒ–æ„å»ºç¯å¢ƒ
- ç‰ˆæœ¬åŒ–çš„ä¾èµ–ç®¡ç†
- å¯é‡å¤çš„æ„å»ºè¿‡ç¨‹
```

**ğŸ”¹ æ„å»ºä¼˜åŒ–çš„æ ¸å¿ƒæ€è·¯**
```
ç¼“å­˜ç­–ç•¥ï¼š
- ä¾èµ–ç¼“å­˜ï¼šé¿å…é‡å¤ä¸‹è½½
- æ„å»ºç¼“å­˜ï¼šé¿å…é‡å¤ç¼–è¯‘
- é•œåƒç¼“å­˜ï¼šåˆ©ç”¨Dockerå±‚ç¼“å­˜

å¹¶è¡ŒåŒ–ï¼š
- å¤šæ¨¡å—å¹¶è¡Œæ„å»º
- æµ‹è¯•å¹¶è¡Œæ‰§è¡Œ
- å¤šç¯å¢ƒåŒæ—¶éƒ¨ç½²

å¢é‡æ„å»ºï¼š
- åªæ„å»ºå˜åŒ–éƒ¨åˆ†
- æ™ºèƒ½ä¾èµ–åˆ†æ
- å¿«é€Ÿå¤±è´¥æœºåˆ¶
```

### 8.3 å®é™…åº”ç”¨æŒ‡å¯¼


**æ„å»ºç­–ç•¥é€‰æ‹©**ï¼š
```
å°å‹é¡¹ç›®ï¼š
âœ… å•ä¸€æ„å»ºæµæ°´çº¿
âœ… ç®€å•çš„ç‰ˆæœ¬ç®¡ç†
âœ… åŸºç¡€çš„æµ‹è¯•é›†æˆ

ä¸­å‹é¡¹ç›®ï¼š
âœ… å¤šé˜¶æ®µæ„å»ºæµæ°´çº¿
âœ… å¹¶è¡Œæ„å»ºç­–ç•¥
âœ… å®Œæ•´çš„æµ‹è¯•å¥—ä»¶
âœ… åˆ¶å“ä»“åº“ç®¡ç†

å¤§å‹é¡¹ç›®ï¼š
âœ… åˆ†å¸ƒå¼æ„å»ºé›†ç¾¤
âœ… é«˜çº§ç¼“å­˜ç­–ç•¥
âœ… ç›‘æ§å’Œå‘Šè­¦
âœ… å¤šç¯å¢ƒéƒ¨ç½²æµæ°´çº¿
```

**å¸¸è§é—®é¢˜è§£å†³**ï¼š
```
æ„å»ºå¤±è´¥ï¼š
ğŸ” æ£€æŸ¥ä¾èµ–ç‰ˆæœ¬å†²çª
ğŸ” éªŒè¯æ„å»ºç¯å¢ƒé…ç½®
ğŸ” æŸ¥çœ‹è¯¦ç»†é”™è¯¯æ—¥å¿—

æ„å»ºç¼“æ…¢ï¼š
âš¡ å¯ç”¨å¹¶è¡Œæ„å»º
âš¡ é…ç½®ä¾èµ–ç¼“å­˜
âš¡ ä¼˜åŒ–Dockerå±‚ç»“æ„

ç¯å¢ƒä¸ä¸€è‡´ï¼š
ğŸ”§ ä½¿ç”¨å®¹å™¨åŒ–æ„å»º
ğŸ”§ é”å®šä¾èµ–ç‰ˆæœ¬
ğŸ”§ æ ‡å‡†åŒ–æ„å»ºè„šæœ¬
```

### 8.4 æœ€ä½³å®è·µæ€»ç»“


```
ğŸ“Œ æ„å»ºè„šæœ¬ç®¡ç†ï¼š
- å°†æ„å»ºé€»è¾‘ç‰ˆæœ¬åŒ–
- ä½¿ç”¨å£°æ˜å¼é…ç½®
- ä¿æŒè„šæœ¬ç®€æ´æ˜äº†

ğŸ“Œ å®‰å…¨è€ƒè™‘ï¼š
- ä¸åœ¨æ„å»ºè„šæœ¬ä¸­ç¡¬ç¼–ç å¯†ç 
- ä½¿ç”¨å¯†é’¥ç®¡ç†ç³»ç»Ÿ
- å®šæœŸæ›´æ–°ä¾èµ–ç‰ˆæœ¬

ğŸ“Œ ç›‘æ§å’Œç»´æŠ¤ï¼š
- ç›‘æ§æ„å»ºæ€§èƒ½æŒ‡æ ‡
- å®šæœŸæ¸…ç†æ„å»ºç¼“å­˜
- åŠæ—¶æ›´æ–°æ„å»ºç¯å¢ƒ

ğŸ“Œ å›¢é˜Ÿåä½œï¼š
- æ–‡æ¡£åŒ–æ„å»ºæµç¨‹
- ç»Ÿä¸€æ„å»ºæ ‡å‡†
- åˆ†äº«æ„å»ºç»éªŒ
```

**æ ¸å¿ƒè®°å¿†**ï¼š
- æ„å»ºæ˜¯ä»£ç åˆ°äº§å“çš„æ¡¥æ¢ï¼Œç¡®ä¿è´¨é‡å’Œä¸€è‡´æ€§
- ä¼˜åŒ–æ„å»ºå°±æ˜¯ä¼˜åŒ–å¼€å‘æ•ˆç‡ï¼Œç¼“å­˜å’Œå¹¶è¡Œæ˜¯å…³é”®
- æ ‡å‡†åŒ–æ„å»ºç¯å¢ƒï¼Œæ¶ˆé™¤"åœ¨æˆ‘æœºå™¨ä¸Šèƒ½è¿è¡Œ"çš„é—®é¢˜
- ç‰ˆæœ¬ç®¡ç†å’Œåˆ¶å“å­˜å‚¨æ˜¯æ„å»ºæµæ°´çº¿çš„é‡è¦ç»„æˆéƒ¨åˆ†