---
title: 3ã€CMakeç°ä»£æ„å»ºå·¥å…·
---
## ğŸ“š ç›®å½•

1. [CMakeåŸºç¡€æ¦‚å¿µä¸æ ¸å¿ƒç†å¿µ](#1-CMakeåŸºç¡€æ¦‚å¿µä¸æ ¸å¿ƒç†å¿µ)
2. [CMakeLists.txtæ–‡ä»¶ç¼–å†™è¯¦è§£](#2-CMakeListstxtæ–‡ä»¶ç¼–å†™è¯¦è§£)
3. [ç›®æ ‡å®šä¹‰ä¸å±æ€§è®¾ç½®](#3-ç›®æ ‡å®šä¹‰ä¸å±æ€§è®¾ç½®)
4. [åº“ä¾èµ–ç®¡ç†ä¸é“¾æ¥æœºåˆ¶](#4-åº“ä¾èµ–ç®¡ç†ä¸é“¾æ¥æœºåˆ¶)
5. [è·¨å¹³å°æ„å»ºé…ç½®ç­–ç•¥](#5-è·¨å¹³å°æ„å»ºé…ç½®ç­–ç•¥)
6. [find_packageåŒ…æŸ¥æ‰¾æœºåˆ¶](#6-find_packageåŒ…æŸ¥æ‰¾æœºåˆ¶)
7. [ç”Ÿæˆå™¨é€‰æ‹©ä¸é…ç½®](#7-ç”Ÿæˆå™¨é€‰æ‹©ä¸é…ç½®)
8. [å¤–éƒ¨é¡¹ç›®é›†æˆ](#8-å¤–éƒ¨é¡¹ç›®é›†æˆ)
9. [CMakeæœ€ä½³å®è·µä¸ä¼˜åŒ–](#9-CMakeæœ€ä½³å®è·µä¸ä¼˜åŒ–)
10. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#10-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ—ï¸ CMakeåŸºç¡€æ¦‚å¿µä¸æ ¸å¿ƒç†å¿µ


### 1.1 ä»€ä¹ˆæ˜¯CMake


**ğŸ”¸ ç®€å•ç†è§£**ï¼š
```
CMake = è·¨å¹³å°çš„æ„å»ºç³»ç»Ÿç”Ÿæˆå™¨
ä¸æ˜¯æ„å»ºå·¥å…·æœ¬èº«ï¼Œè€Œæ˜¯ç”Ÿæˆæ„å»ºæ–‡ä»¶çš„å·¥å…·

ä¼ ç»Ÿæ–¹å¼ï¼š
Windows â†’ æ‰‹å†™ Visual Studio é¡¹ç›®æ–‡ä»¶
Linux   â†’ æ‰‹å†™ Makefile
macOS   â†’ æ‰‹å†™ Xcode é¡¹ç›®

CMakeæ–¹å¼ï¼š
å†™ä¸€ä»½ CMakeLists.txt â†’ CMakeè‡ªåŠ¨ç”Ÿæˆå„å¹³å°æ„å»ºæ–‡ä»¶
```

**ğŸ’¡ æ ¸å¿ƒä½œç”¨**ï¼š
- **ç»Ÿä¸€é…ç½®**ï¼šä¸€ä»½é…ç½®æ–‡ä»¶ï¼Œå¤šå¹³å°ä½¿ç”¨
- **è‡ªåŠ¨ç”Ÿæˆ**ï¼šæ ¹æ®å¹³å°è‡ªåŠ¨ç”Ÿæˆå¯¹åº”çš„æ„å»ºæ–‡ä»¶
- **ä¾èµ–ç®¡ç†**ï¼šæ™ºèƒ½å¤„ç†åº“ä¾èµ–å…³ç³»
- **åŠŸèƒ½ä¸°å¯Œ**ï¼šæ”¯æŒæµ‹è¯•ã€æ‰“åŒ…ã€å®‰è£…ç­‰å®Œæ•´æµç¨‹

### 1.2 CMakeçš„å·¥ä½œæµç¨‹


```
å·¥ä½œæµç¨‹å›¾ç¤ºï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  CMakeLists.txt â”‚â”€â”€â”€â–¶â”‚      CMake      â”‚â”€â”€â”€â–¶â”‚   æ„å»ºæ–‡ä»¶      â”‚
â”‚   (é…ç½®æ–‡ä»¶)    â”‚    â”‚   (é…ç½®é˜¶æ®µ)    â”‚    â”‚ (Makefileç­‰)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                        â”‚
                                                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   å¯æ‰§è¡Œæ–‡ä»¶    â”‚â—€â”€â”€â”€â”‚    æ„å»ºå·¥å…·     â”‚â—€â”€â”€â”€â”‚   æ„å»ºæ–‡ä»¶      â”‚
â”‚   (æœ€ç»ˆç¨‹åº)    â”‚    â”‚  (make/ninja)   â”‚    â”‚ (Makefileç­‰)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ä¸¤ä¸ªé˜¶æ®µï¼š
1ï¸âƒ£ é…ç½®é˜¶æ®µï¼šCMake è¯»å– CMakeLists.txtï¼Œç”Ÿæˆæ„å»ºæ–‡ä»¶
2ï¸âƒ£ æ„å»ºé˜¶æ®µï¼šæ„å»ºå·¥å…·è¯»å–æ„å»ºæ–‡ä»¶ï¼Œç¼–è¯‘ç”Ÿæˆç¨‹åº
```

### 1.3 CMake vs ä¼ ç»Ÿæ„å»ºæ–¹å¼


| å¯¹æ¯”é¡¹ç›® | **ä¼ ç»ŸMakefile** | **CMake** | **ä¼˜åŠ¿è¯´æ˜** |
|---------|-----------------|-----------|-------------|
| ğŸ—ï¸ **è·¨å¹³å°** | `éœ€è¦åˆ†åˆ«ç¼–å†™` | `ä¸€ä»½é…ç½®é€šç”¨` | CMakeè‡ªåŠ¨é€‚é…ä¸åŒå¹³å° |
| ğŸ“¦ **ä¾èµ–ç®¡ç†** | `æ‰‹åŠ¨å¤„ç†å¤æ‚` | `è‡ªåŠ¨æŸ¥æ‰¾é“¾æ¥` | å†…ç½®find_packageç­‰æœºåˆ¶ |
| ğŸ”§ **è¯­æ³•å¤æ‚åº¦** | `è¯­æ³•å¤è€å¤æ‚` | `ç°ä»£åŒ–è¯­æ³•` | æ›´æ¥è¿‘è„šæœ¬è¯­è¨€ï¼Œæ˜“è¯»æ˜“å†™ |
| âš¡ **æ„å»ºé€Ÿåº¦** | `æ”¯æŒå¹¶è¡Œæ„å»º` | `é»˜è®¤å¹¶è¡Œä¼˜åŒ–` | è‡ªåŠ¨ä¼˜åŒ–æ„å»ºè¿‡ç¨‹ |
| ğŸ› ï¸ **IDEé›†æˆ** | `é›†æˆåº¦è¾ƒå·®` | `å®Œç¾é›†æˆ` | æ”¯æŒå„ç§ä¸»æµIDE |

---

## 2. ğŸ“ CMakeLists.txtæ–‡ä»¶ç¼–å†™è¯¦è§£


### 2.1 åŸºæœ¬æ–‡ä»¶ç»“æ„


**ğŸ”¸ æœ€ç®€å•çš„CMakeLists.txt**ï¼š
```cmake
# æŒ‡å®šCMakeæœ€ä½ç‰ˆæœ¬è¦æ±‚
cmake_minimum_required(VERSION 3.16)

# å®šä¹‰é¡¹ç›®åç§°å’Œè¯­è¨€
project(MyProject LANGUAGES CXX)

# åˆ›å»ºå¯æ‰§è¡Œæ–‡ä»¶
add_executable(myapp main.cpp)
```

**ğŸ’¡ æ–‡ä»¶ç»“æ„è¯´æ˜**ï¼š
- **ç‰ˆæœ¬å£°æ˜**ï¼šç¡®ä¿CMakeåŠŸèƒ½å…¼å®¹æ€§
- **é¡¹ç›®å®šä¹‰**ï¼šè®¾ç½®é¡¹ç›®åŸºæœ¬ä¿¡æ¯
- **ç›®æ ‡åˆ›å»º**ï¼šå®šä¹‰è¦æ„å»ºçš„å†…å®¹

### 2.2 CMakeè¯­æ³•åŸºç¡€


**ğŸ”¸ å˜é‡å®šä¹‰ä¸ä½¿ç”¨**ï¼š
```cmake
# è®¾ç½®å˜é‡
set(MY_SOURCES main.cpp utils.cpp)
set(MY_HEADERS include/utils.h)

# ä½¿ç”¨å˜é‡ï¼ˆ${}è¯­æ³•ï¼‰
add_executable(myapp ${MY_SOURCES})

# å­—ç¬¦ä¸²æ“ä½œ
set(VERSION_MAJOR 2)
set(VERSION_MINOR 1)
set(FULL_VERSION "${VERSION_MAJOR}.${VERSION_MINOR}")
```

**ğŸ”¸ åˆ—è¡¨æ“ä½œ**ï¼š
```cmake
# åˆ›å»ºæºæ–‡ä»¶åˆ—è¡¨
set(SOURCES main.cpp)
list(APPEND SOURCES utils.cpp helper.cpp)

# è‡ªåŠ¨æŸ¥æ‰¾æºæ–‡ä»¶ï¼ˆä¸æ¨èç”¨äºç”Ÿäº§ï¼‰
file(GLOB SOURCES "src/*.cpp")
```

**ğŸ”¸ æ¡ä»¶åˆ¤æ–­**ï¼š
```cmake
# å¹³å°åˆ¤æ–­
if(WIN32)
    message("Windowså¹³å°æ„å»º")
elseif(UNIX)
    message("Unix/Linuxå¹³å°æ„å»º")
endif()

# ç¼–è¯‘å™¨åˆ¤æ–­
if(CMAKE_CXX_COMPILER_ID STREQUAL "GNU")
    # GCCç‰¹å®šè®¾ç½®
elseif(CMAKE_CXX_COMPILER_ID STREQUAL "Clang")
    # Clangç‰¹å®šè®¾ç½®
endif()
```

### 2.3 ç›®å½•ç»“æ„ç»„ç»‡


**ğŸ“ æ¨èçš„é¡¹ç›®ç»“æ„**ï¼š
```
MyProject/
â”œâ”€â”€ CMakeLists.txt              # æ ¹CMakeæ–‡ä»¶
â”œâ”€â”€ src/                        # æºç ç›®å½•
â”‚   â”œâ”€â”€ CMakeLists.txt         # æºç CMakeæ–‡ä»¶
â”‚   â”œâ”€â”€ main.cpp
â”‚   â””â”€â”€ utils.cpp
â”œâ”€â”€ include/                    # å¤´æ–‡ä»¶ç›®å½•
â”‚   â””â”€â”€ utils.h
â”œâ”€â”€ tests/                      # æµ‹è¯•ç›®å½•
â”‚   â””â”€â”€ CMakeLists.txt
â”œâ”€â”€ docs/                       # æ–‡æ¡£ç›®å½•
â””â”€â”€ build/                      # æ„å»ºç›®å½•ï¼ˆç”Ÿæˆï¼‰
```

**ğŸ”§ å¤šç›®å½•CMakeLists.txtç»„ç»‡**ï¼š
```cmake
# æ ¹ç›®å½• CMakeLists.txt
cmake_minimum_required(VERSION 3.16)
project(MyProject LANGUAGES CXX)

# æ·»åŠ å­ç›®å½•
add_subdirectory(src)
add_subdirectory(tests)

# src/CMakeLists.txt
add_executable(myapp 
    main.cpp 
    utils.cpp
)

# è®¾ç½®å¤´æ–‡ä»¶åŒ…å«è·¯å¾„
target_include_directories(myapp PRIVATE ../include)
```

---

## 3. ğŸ¯ ç›®æ ‡å®šä¹‰ä¸å±æ€§è®¾ç½®


### 3.1 ç›®æ ‡ç±»å‹è¯¦è§£


**ğŸ”¸ å¯æ‰§è¡Œæ–‡ä»¶ç›®æ ‡**ï¼š
```cmake
# åŸºç¡€å¯æ‰§è¡Œæ–‡ä»¶
add_executable(myapp main.cpp)

# å¤šæ–‡ä»¶å¯æ‰§è¡Œæ–‡ä»¶
add_executable(myapp 
    main.cpp
    utils.cpp
    helper.cpp
)
```

**ğŸ”¸ é™æ€åº“ç›®æ ‡**ï¼š
```cmake
# é™æ€åº“ï¼ˆ.a æˆ– .libï¼‰
add_library(mylib STATIC
    src/mylib.cpp
    src/internal.cpp
)

# ç”¨é€”ï¼šç¼–è¯‘æ—¶é“¾æ¥åˆ°æœ€ç»ˆç¨‹åºä¸­
```

**ğŸ”¸ åŠ¨æ€åº“ç›®æ ‡**ï¼š
```cmake
# åŠ¨æ€åº“ï¼ˆ.so æˆ– .dllï¼‰
add_library(mylib SHARED
    src/mylib.cpp
    src/internal.cpp
)

# ç”¨é€”ï¼šè¿è¡Œæ—¶åŠ¨æ€åŠ è½½
```

**ğŸ”¸ æ¥å£åº“ç›®æ ‡**ï¼š
```cmake
# ä»…å¤´æ–‡ä»¶åº“ï¼ˆHeader-onlyåº“ï¼‰
add_library(myheaderlib INTERFACE)

# é€‚ç”¨äºï¼šæ¨¡æ¿åº“ã€çº¯å¤´æ–‡ä»¶åº“
```

### 3.2 ç›®æ ‡å±æ€§è®¾ç½®


**ğŸ”¸ ç¼–è¯‘é€‰é¡¹è®¾ç½®**ï¼š
```cmake
# ä¸ºç‰¹å®šç›®æ ‡è®¾ç½®C++æ ‡å‡†
set_property(TARGET myapp PROPERTY CXX_STANDARD 17)
set_property(TARGET myapp PROPERTY CXX_STANDARD_REQUIRED ON)

# æˆ–ä½¿ç”¨æ›´ç®€æ´çš„æ–¹å¼
target_compile_features(myapp PRIVATE cxx_std_17)
```

**ğŸ”¸ ç¼–è¯‘å™¨æ ‡å¿—**ï¼š
```cmake
# ä¸ºç›®æ ‡æ·»åŠ ç¼–è¯‘é€‰é¡¹
target_compile_options(myapp PRIVATE
    -Wall -Wextra        # GCC/Clangè­¦å‘Šé€‰é¡¹
    $<$<CONFIG:Debug>:-g>    # Debugæ¨¡å¼æ·»åŠ è°ƒè¯•ä¿¡æ¯
    $<$<CONFIG:Release>:-O3> # Releaseæ¨¡å¼ä¼˜åŒ–
)
```

**ğŸ”¸ é¢„å¤„ç†å™¨å®šä¹‰**ï¼š
```cmake
# æ·»åŠ å®å®šä¹‰
target_compile_definitions(myapp PRIVATE
    MY_PROJECT_VERSION_MAJOR=2
    MY_PROJECT_VERSION_MINOR=1
    $<$<CONFIG:Debug>:DEBUG_MODE>
)
```

### 3.3 ç°ä»£CMakeçš„PRIVATE/PUBLIC/INTERFACE


**ğŸ’¡ ä¼ æ’­æ€§æ¦‚å¿µ**ï¼š
```
ä¼ æ’­æ€§è¯´æ˜ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    ä¾èµ–    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    ä¾èµ–    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    App      â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â–¶ â”‚   LibraryA  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â–¶ â”‚   LibraryB  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

PRIVATEï¼š  åªæœ‰LibraryAè‡ªå·±ä½¿ç”¨ï¼Œä¸ä¼ æ’­ç»™App
PUBLICï¼š   LibraryAä½¿ç”¨ï¼Œä¹Ÿä¼ æ’­ç»™App
INTERFACEï¼šLibraryAä¸ä½¿ç”¨ï¼Œä½†ä¼ æ’­ç»™App
```

**ğŸ”§ å®é™…åº”ç”¨ç¤ºä¾‹**ï¼š
```cmake
# åº“çš„CMakeLists.txt
add_library(mylib mylib.cpp)

# PRIVATEï¼šåº“å†…éƒ¨ä½¿ç”¨çš„å¤´æ–‡ä»¶è·¯å¾„
target_include_directories(mylib PRIVATE src/internal)

# PUBLICï¼šåº“å’Œä½¿ç”¨è€…éƒ½éœ€è¦çš„å¤´æ–‡ä»¶è·¯å¾„
target_include_directories(mylib PUBLIC include)

# INTERFACEï¼šåªæœ‰ä½¿ç”¨è€…éœ€è¦çš„è®¾ç½®
target_compile_definitions(mylib INTERFACE USING_MYLIB)

# åº”ç”¨ç¨‹åºé“¾æ¥åº“æ—¶è‡ªåŠ¨ç»§æ‰¿PUBLICå’ŒINTERFACEå±æ€§
target_link_libraries(myapp mylib)
```

---

## 4. ğŸ“¦ åº“ä¾èµ–ç®¡ç†ä¸é“¾æ¥æœºåˆ¶


### 4.1 ç°ä»£CMakeé“¾æ¥æ–¹å¼


**âœ… æ¨èæ–¹å¼ï¼ˆç›®æ ‡é“¾æ¥ï¼‰**ï¼š
```cmake
# ç°ä»£CMakeæ–¹å¼ï¼šç›´æ¥é“¾æ¥ç›®æ ‡
target_link_libraries(myapp mylib)

# é“¾æ¥ç³»ç»Ÿåº“
find_package(Threads REQUIRED)
target_link_libraries(myapp Threads::Threads)
```

**âŒ ä¼ ç»Ÿæ–¹å¼ï¼ˆä¸æ¨èï¼‰**ï¼š
```cmake
# ä¼ ç»Ÿæ–¹å¼ï¼šæ‰‹åŠ¨æŒ‡å®šåº“æ–‡ä»¶å’Œè·¯å¾„
link_directories(/usr/local/lib)
target_link_libraries(myapp mylib)
include_directories(/usr/local/include)
```

### 4.2 ä¾èµ–ä¼ æ’­æœºåˆ¶


**ğŸ”¸ ä¾èµ–ä¼ æ’­ç¤ºä¾‹**ï¼š
```cmake
# åœºæ™¯ï¼šApp â†’ LibA â†’ LibB çš„ä¾èµ–å…³ç³»

# LibBçš„è®¾ç½®
add_library(LibB libb.cpp)
target_include_directories(LibB PUBLIC include/libb)

# LibAçš„è®¾ç½®
add_library(LibA liba.cpp)
target_link_libraries(LibA PUBLIC LibB)  # PUBLICä¼ æ’­
target_include_directories(LibA PUBLIC include/liba)

# Appçš„è®¾ç½®
add_executable(App main.cpp)
target_link_libraries(App LibA)
# Appè‡ªåŠ¨è·å¾—LibAå’ŒLibBçš„PUBLICå±æ€§
```

**ğŸ’¡ ä¼ æ’­è§„åˆ™æ€»ç»“**ï¼š
```
ä½¿ç”¨åœºæ™¯æŒ‡å¯¼ï¼š

PRIVATEï¼š
- å†…éƒ¨å®ç°ç»†èŠ‚
- ä¸å¸Œæœ›ç”¨æˆ·çŸ¥é“çš„ä¾èµ–
- ä¾‹ï¼šå†…éƒ¨ä½¿ç”¨çš„JSONè§£æåº“

PUBLICï¼š
- æ¥å£çš„ä¸€éƒ¨åˆ†
- ç”¨æˆ·ä¹Ÿéœ€è¦çš„ä¾èµ–
- ä¾‹ï¼šå¤´æ–‡ä»¶ä¸­ç”¨åˆ°çš„æ•°æ®ç»“æ„åº“

INTERFACEï¼š
- ä»…å¤´æ–‡ä»¶åº“çš„ä¾èµ–
- ç¼–è¯‘æ—¶éœ€è¦ä½†è¿è¡Œæ—¶ä¸éœ€è¦
- ä¾‹ï¼šæ¨¡æ¿åº“çš„ç¼–è¯‘å™¨è¦æ±‚
```

### 4.3 é“¾æ¥åº“çš„æŸ¥æ‰¾


**ğŸ”¸ é€šè¿‡find_packageæŸ¥æ‰¾**ï¼š
```cmake
# æŸ¥æ‰¾å·²å®‰è£…çš„åº“
find_package(OpenCV REQUIRED)
target_link_libraries(myapp ${OpenCV_LIBS})
target_include_directories(myapp PRIVATE ${OpenCV_INCLUDE_DIRS})

# ç°ä»£åŒ–å†™æ³•ï¼ˆå¦‚æœåº“æ”¯æŒï¼‰
find_package(OpenCV REQUIRED)
target_link_libraries(myapp opencv_core opencv_imgproc)
```

**ğŸ”¸ æ‰‹åŠ¨æŸ¥æ‰¾åº“æ–‡ä»¶**ï¼š
```cmake
# æŸ¥æ‰¾ç‰¹å®šåº“æ–‡ä»¶
find_library(MATH_LIB m)
if(MATH_LIB)
    target_link_libraries(myapp ${MATH_LIB})
endif()

# æŸ¥æ‰¾å¤´æ–‡ä»¶
find_path(MYLIB_INCLUDE_DIR mylib.h)
if(MYLIB_INCLUDE_DIR)
    target_include_directories(myapp PRIVATE ${MYLIB_INCLUDE_DIR})
endif()
```

---

## 5. ğŸŒ è·¨å¹³å°æ„å»ºé…ç½®ç­–ç•¥


### 5.1 å¹³å°æ£€æµ‹ä¸é…ç½®


**ğŸ”¸ æ“ä½œç³»ç»Ÿæ£€æµ‹**ï¼š
```cmake
# ä¸»è¦å¹³å°åˆ¤æ–­
if(WIN32)
    # Windowsç‰¹å®šé…ç½®
    target_compile_definitions(myapp PRIVATE WINDOWS_BUILD)
elseif(APPLE)
    # macOSç‰¹å®šé…ç½®
    target_compile_definitions(myapp PRIVATE MACOS_BUILD)
elseif(UNIX)
    # Linux/Unixç‰¹å®šé…ç½®
    target_compile_definitions(myapp PRIVATE LINUX_BUILD)
endif()
```

**ğŸ”¸ ç¼–è¯‘å™¨ç‰¹å®šé…ç½®**ï¼š
```cmake
# ç¼–è¯‘å™¨æ£€æµ‹å’Œé…ç½®
if(CMAKE_CXX_COMPILER_ID STREQUAL "GNU")
    # GCCé…ç½®
    target_compile_options(myapp PRIVATE -Wall -Wextra)
elseif(CMAKE_CXX_COMPILER_ID STREQUAL "Clang")
    # Clangé…ç½®
    target_compile_options(myapp PRIVATE -Wall -Wextra)
elseif(CMAKE_CXX_COMPILER_ID STREQUAL "MSVC")
    # MSVCé…ç½®
    target_compile_options(myapp PRIVATE /W4)
endif()
```

### 5.2 æ„å»ºç±»å‹é…ç½®


**ğŸ”¸ Debug/Releaseé…ç½®**ï¼š
```cmake
# è®¾ç½®é»˜è®¤æ„å»ºç±»å‹
if(NOT CMAKE_BUILD_TYPE)
    set(CMAKE_BUILD_TYPE Release)
endif()

# ä¸åŒæ„å»ºç±»å‹çš„é…ç½®
target_compile_options(myapp PRIVATE
    $<$<CONFIG:Debug>:-O0 -g>           # Debugï¼šæ— ä¼˜åŒ–ï¼ŒåŒ…å«è°ƒè¯•ä¿¡æ¯
    $<$<CONFIG:Release>:-O3 -DNDEBUG>   # Releaseï¼šé«˜åº¦ä¼˜åŒ–ï¼Œç¦ç”¨æ–­è¨€
    $<$<CONFIG:RelWithDebInfo>:-O2 -g>  # ä¼˜åŒ–+è°ƒè¯•ä¿¡æ¯
)
```

### 5.3 ç”Ÿæˆå™¨è¡¨è¾¾å¼


**ğŸ’¡ ç”Ÿæˆå™¨è¡¨è¾¾å¼çš„å¨åŠ›**ï¼š
```cmake
# è¯­æ³•ï¼š$<æ¡ä»¶:å€¼>
# åœ¨æ„å»ºæ—¶æ ¹æ®æ¡ä»¶é€‰æ‹©ä¸åŒçš„å€¼

# æ ¹æ®é…ç½®é€‰æ‹©ä¸åŒé€‰é¡¹
target_compile_options(myapp PRIVATE
    $<$<CONFIG:Debug>:-g>
    $<$<CONFIG:Release>:-O3>
)

# æ ¹æ®ç¼–è¯‘å™¨é€‰æ‹©
target_compile_options(myapp PRIVATE
    $<$<CXX_COMPILER_ID:GNU>:-Wall>
    $<$<CXX_COMPILER_ID:MSVC>:/W4>
)

# æ ¹æ®å¹³å°é€‰æ‹©
target_link_libraries(myapp 
    $<$<PLATFORM_ID:Windows>:ws2_32>
    $<$<PLATFORM_ID:Linux>:pthread>
)
```

---

## 6. ğŸ” find_packageåŒ…æŸ¥æ‰¾æœºåˆ¶


### 6.1 åŒ…æŸ¥æ‰¾çš„å·¥ä½œåŸç†


**ğŸ”¸ æŸ¥æ‰¾æ¨¡å¼**ï¼š
```
find_package(PackageName) çš„æŸ¥æ‰¾è¿‡ç¨‹ï¼š

1ï¸âƒ£ Configæ¨¡å¼ï¼ˆæ¨èï¼‰ï¼š
   æŸ¥æ‰¾ PackageNameConfig.cmake æˆ– packagename-config.cmake
   â”œâ”€â”€ ç³»ç»Ÿå®‰è£…ä½ç½®
   â”œâ”€â”€ CMAKE_PREFIX_PATH æŒ‡å®šä½ç½®
   â””â”€â”€ åŒ…è‡ªå¸¦çš„é…ç½®æ–‡ä»¶

2ï¸âƒ£ Moduleæ¨¡å¼ï¼ˆä¼ ç»Ÿï¼‰ï¼š
   æŸ¥æ‰¾ FindPackageName.cmake æ–‡ä»¶
   â”œâ”€â”€ CMAKE_MODULE_PATH æŒ‡å®šä½ç½®
   â”œâ”€â”€ CMakeå†…ç½®æ¨¡å—ä½ç½®
   â””â”€â”€ ç”¨æˆ·æä¾›çš„æŸ¥æ‰¾è„šæœ¬
```

### 6.2 å¸¸ç”¨åŒ…æŸ¥æ‰¾ç¤ºä¾‹


**ğŸ”¸ æŸ¥æ‰¾çº¿ç¨‹åº“**ï¼š
```cmake
# çº¿ç¨‹åº“æ˜¯è·¨å¹³å°çš„åŸºç¡€åº“
find_package(Threads REQUIRED)
target_link_libraries(myapp Threads::Threads)

# åœ¨ä¸åŒå¹³å°ä¸Šä¼šè‡ªåŠ¨é€‰æ‹©ï¼š
# Linux: pthread
# Windows: Win32 threads
```

**ğŸ”¸ æŸ¥æ‰¾OpenSSL**ï¼š
```cmake
# æŸ¥æ‰¾SSL/TLSåº“
find_package(OpenSSL REQUIRED)
if(OpenSSL_FOUND)
    target_link_libraries(myapp OpenSSL::SSL OpenSSL::Crypto)
endif()
```

**ğŸ”¸ æŸ¥æ‰¾Booståº“**ï¼š
```cmake
# æŸ¥æ‰¾Booståº“çš„ç‰¹å®šç»„ä»¶
find_package(Boost REQUIRED COMPONENTS 
    filesystem 
    system 
    thread
)
target_link_libraries(myapp 
    Boost::filesystem 
    Boost::system 
    Boost::thread
)
```

### 6.3 è‡ªå®šä¹‰åŒ…æŸ¥æ‰¾


**ğŸ”¸ è®¾ç½®æŸ¥æ‰¾è·¯å¾„**ï¼š
```cmake
# æ·»åŠ è‡ªå®šä¹‰æŸ¥æ‰¾è·¯å¾„
list(APPEND CMAKE_PREFIX_PATH "/opt/mylib")
list(APPEND CMAKE_MODULE_PATH "${CMAKE_SOURCE_DIR}/cmake")

# ç„¶åæ­£å¸¸æŸ¥æ‰¾
find_package(MyCustomLib REQUIRED)
```

**ğŸ”¸ ç¼–å†™ç®€å•çš„FindXXX.cmake**ï¼š
```cmake
# cmake/FindMyLib.cmake æ–‡ä»¶å†…å®¹
find_path(MYLIB_INCLUDE_DIR 
    NAMES mylib.h
    PATHS /usr/local/include /opt/mylib/include
)

find_library(MYLIB_LIBRARY
    NAMES mylib
    PATHS /usr/local/lib /opt/mylib/lib
)

# åˆ›å»ºå¯¼å…¥ç›®æ ‡
if(MYLIB_INCLUDE_DIR AND MYLIB_LIBRARY)
    add_library(MyLib::MyLib UNKNOWN IMPORTED)
    set_target_properties(MyLib::MyLib PROPERTIES
        IMPORTED_LOCATION ${MYLIB_LIBRARY}
        INTERFACE_INCLUDE_DIRECTORIES ${MYLIB_INCLUDE_DIR}
    )
    set(MYLIB_FOUND TRUE)
endif()
```

---

## 7. âš™ï¸ ç”Ÿæˆå™¨é€‰æ‹©ä¸é…ç½®


### 7.1 ä»€ä¹ˆæ˜¯ç”Ÿæˆå™¨


**ğŸ’¡ ç”Ÿæˆå™¨çš„ä½œç”¨**ï¼š
```
ç”Ÿæˆå™¨ = CMakeè¾“å‡ºä»€ä¹ˆç±»å‹çš„æ„å»ºæ–‡ä»¶

ä¸åŒå¹³å°çš„é»˜è®¤ç”Ÿæˆå™¨ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     Linux       â”‚    â”‚    Windows      â”‚
â”‚    Makefile     â”‚    â”‚ Visual Studio   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     macOS       â”‚    â”‚   è·¨å¹³å°å·¥å…·     â”‚
â”‚     Xcode       â”‚    â”‚     Ninja       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 7.2 å¸¸ç”¨ç”Ÿæˆå™¨


**ğŸ”¸ Unix Makefiles**ï¼š
```bash
# ä½¿ç”¨Makefileç”Ÿæˆå™¨ï¼ˆLinux/macOSé»˜è®¤ï¼‰
cmake -G "Unix Makefiles" ..
make -j4  # å¹¶è¡Œæ„å»º
```

**ğŸ”¸ Ninjaç”Ÿæˆå™¨**ï¼š
```bash
# ä½¿ç”¨Ninjaç”Ÿæˆå™¨ï¼ˆé€Ÿåº¦æ›´å¿«ï¼‰
cmake -G Ninja ..
ninja     # è‡ªåŠ¨ä½¿ç”¨æ‰€æœ‰CPUæ ¸å¿ƒ
```

**ğŸ”¸ Visual Studioç”Ÿæˆå™¨**ï¼š
```bash
# Windowsä¸Šä½¿ç”¨Visual Studio
cmake -G "Visual Studio 16 2019" -A x64 ..
cmake --build . --config Release
```

### 7.3 ç”Ÿæˆå™¨çš„é€‰æ‹©å»ºè®®


| ç”Ÿæˆå™¨ç±»å‹ | **é€‚ç”¨åœºæ™¯** | **ä¼˜ç‚¹** | **ç¼ºç‚¹** |
|-----------|-------------|---------|---------|
| ğŸ› ï¸ **Unix Makefiles** | `ä¼ ç»ŸLinuxå¼€å‘` | `ç¨³å®šå¯é ï¼Œå¹¿æ³›æ”¯æŒ` | `æ„å»ºé€Ÿåº¦è¾ƒæ…¢` |
| âš¡ **Ninja** | `ç°ä»£å¼€å‘ç¯å¢ƒ` | `æ„å»ºé€Ÿåº¦æå¿«` | `éœ€è¦é¢å¤–å®‰è£…` |
| ğŸ¯ **Visual Studio** | `Windowså¼€å‘` | `IDEé›†æˆå®Œç¾` | `åªæ”¯æŒWindows` |
| ğŸ **Xcode** | `macOS/iOSå¼€å‘` | `è‹¹æœç”Ÿæ€æœ€ä½³` | `åªæ”¯æŒmacOS` |

---

## 8. ğŸ“¡ å¤–éƒ¨é¡¹ç›®é›†æˆ


### 8.1 FetchContentæ¨¡å—ï¼ˆæ¨èï¼‰


**ğŸ”¸ åŸºæœ¬ç”¨æ³•**ï¼š
```cmake
# å¼•å…¥FetchContentæ¨¡å—
include(FetchContent)

# å£°æ˜å¤–éƒ¨é¡¹ç›®
FetchContent_Declare(
    googletest
    GIT_REPOSITORY https://github.com/google/googletest.git
    GIT_TAG        release-1.12.1
)

# ä½¿ç”¨å¤–éƒ¨é¡¹ç›®
FetchContent_MakeAvailable(googletest)

# é“¾æ¥åˆ°ä½ çš„ç›®æ ‡
target_link_libraries(mytest gtest_main)
```

**ğŸ’¡ FetchContentçš„ä¼˜åŠ¿**ï¼š
- **è‡ªåŠ¨åŒ–**ï¼šè‡ªåŠ¨ä¸‹è½½ã€é…ç½®ã€æ„å»º
- **æºç çº§é›†æˆ**ï¼šä½œä¸ºå­é¡¹ç›®æ„å»º
- **ç‰ˆæœ¬æ§åˆ¶**ï¼šå¯ä»¥å›ºå®šç‰¹å®šç‰ˆæœ¬
- **ç°ä»£åŒ–**ï¼šCMake 3.14+çš„æ¨èæ–¹å¼

### 8.2 ExternalProjectæ¨¡å—


**ğŸ”¸ å¤æ‚é¡¹ç›®é›†æˆ**ï¼š
```cmake
include(ExternalProject)

ExternalProject_Add(
    external_lib
    GIT_REPOSITORY https://github.com/example/lib.git
    GIT_TAG v2.1.0
    CMAKE_ARGS 
        -DCMAKE_INSTALL_PREFIX=${CMAKE_BINARY_DIR}/external
        -DCMAKE_BUILD_TYPE=${CMAKE_BUILD_TYPE}
    BUILD_BYPRODUCTS ${CMAKE_BINARY_DIR}/external/lib/libexample.a
)

# åˆ›å»ºå¯¼å…¥åº“
add_library(example STATIC IMPORTED)
set_target_properties(example PROPERTIES
    IMPORTED_LOCATION ${CMAKE_BINARY_DIR}/external/lib/libexample.a
)
add_dependencies(example external_lib)
```

### 8.3 åŒ…ç®¡ç†å™¨é›†æˆ


**ğŸ”¸ vcpkgé›†æˆ**ï¼š
```cmake
# ä½¿ç”¨vcpkgå·¥å…·é“¾
# cmake -DCMAKE_TOOLCHAIN_FILE=vcpkg/scripts/buildsystems/vcpkg.cmake ..

find_package(fmt CONFIG REQUIRED)
find_package(spdlog CONFIG REQUIRED)

target_link_libraries(myapp 
    fmt::fmt 
    spdlog::spdlog
)
```

**ğŸ”¸ Conané›†æˆ**ï¼š
```cmake
# ä½¿ç”¨ConanåŒ…ç®¡ç†å™¨
include(${CMAKE_BINARY_DIR}/conanbuildinfo.cmake)
conan_basic_setup(TARGETS)

target_link_libraries(myapp CONAN_PKG::boost)
```

---

## 9. ğŸ¯ CMakeæœ€ä½³å®è·µä¸ä¼˜åŒ–


### 9.1 é¡¹ç›®ç»“æ„æœ€ä½³å®è·µ


**ğŸ“ æ¨èçš„ç°ä»£é¡¹ç›®ç»“æ„**ï¼š
```
ModernProject/
â”œâ”€â”€ CMakeLists.txt              # æ ¹é…ç½®æ–‡ä»¶
â”œâ”€â”€ cmake/                      # CMakeè¾…åŠ©æ–‡ä»¶
â”‚   â”œâ”€â”€ FindMyLib.cmake        # è‡ªå®šä¹‰æŸ¥æ‰¾è„šæœ¬
â”‚   â””â”€â”€ CompilerWarnings.cmake # ç¼–è¯‘å™¨è­¦å‘Šé…ç½®
â”œâ”€â”€ src/                        # æºç 
â”‚   â”œâ”€â”€ CMakeLists.txt
â”‚   â”œâ”€â”€ app/                   # åº”ç”¨ç¨‹åº
â”‚   â”‚   â””â”€â”€ main.cpp
â”‚   â””â”€â”€ lib/                   # åº“ä»£ç 
â”‚       â”œâ”€â”€ CMakeLists.txt
â”‚       â”œâ”€â”€ public/            # å…¬å…±å¤´æ–‡ä»¶
â”‚       â””â”€â”€ private/           # ç§æœ‰å®ç°
â”œâ”€â”€ tests/                      # æµ‹è¯•ä»£ç 
â”‚   â””â”€â”€ CMakeLists.txt
â”œâ”€â”€ docs/                       # æ–‡æ¡£
â”œâ”€â”€ scripts/                    # æ„å»ºè„šæœ¬
â””â”€â”€ build/                      # æ„å»ºç›®å½•ï¼ˆgitå¿½ç•¥ï¼‰
```

### 9.2 CMakeä»£ç é£æ ¼


**âœ… æ¨èçš„CMakeä»£ç é£æ ¼**ï¼š
```cmake
# ä½¿ç”¨å°å†™å‘½ä»¤å
add_executable(myapp main.cpp)

# å˜é‡åä½¿ç”¨å¤§å†™
set(MY_SOURCES main.cpp utils.cpp)

# ç›®æ ‡åä½¿ç”¨å°å†™æˆ–CamelCase
add_library(myUtilsLib utils.cpp)

# é€‚å½“çš„ç¼©è¿›å’Œæ¢è¡Œ
target_include_directories(myapp
    PRIVATE
        src/
        include/
    PUBLIC
        public_include/
)

# ä½¿ç”¨ç°ä»£CMakeç‰¹æ€§
target_compile_features(myapp PRIVATE cxx_std_17)
```

### 9.3 æ€§èƒ½ä¼˜åŒ–å»ºè®®


**âš¡ æ„å»ºæ€§èƒ½ä¼˜åŒ–**ï¼š
```cmake
# 1. ä½¿ç”¨Ninjaç”Ÿæˆå™¨
# cmake -G Ninja ..

# 2. å¯ç”¨ç¼–è¯‘ç¼“å­˜
find_program(CCACHE_PROGRAM ccache)
if(CCACHE_PROGRAM)
    set(CMAKE_CXX_COMPILER_LAUNCHER "${CCACHE_PROGRAM}")
endif()

# 3. é¢„ç¼–è¯‘å¤´æ–‡ä»¶ï¼ˆCMake 3.16+ï¼‰
target_precompile_headers(myapp PRIVATE
    <iostream>
    <vector>
    <string>
)

# 4. Unityæ„å»ºï¼ˆå‡å°‘ç¼–è¯‘å•å…ƒï¼‰
set_target_properties(myapp PROPERTIES
    UNITY_BUILD ON
    UNITY_BUILD_BATCH_SIZE 8
)
```

### 9.4 å¸¸è§é”™è¯¯ä¸é¿å…


**âŒ å¸¸è§é”™è¯¯ç¤ºä¾‹**ï¼š
```cmake
# é”™è¯¯1ï¼šä½¿ç”¨å…¨å±€è®¾ç½®å½±å“æ‰€æœ‰ç›®æ ‡
include_directories(...)      # å½±å“æ‰€æœ‰ç›®æ ‡
link_directories(...)         # ä¸æ¨è

# é”™è¯¯2ï¼šç¡¬ç¼–ç è·¯å¾„
target_include_directories(myapp PRIVATE /usr/local/include)

# é”™è¯¯3ï¼šä¸æ£€æŸ¥ä¾èµ–æ˜¯å¦æ‰¾åˆ°
find_package(SomeLib)
target_link_libraries(myapp SomeLib::SomeLib)  # å¯èƒ½å¤±è´¥
```

**âœ… æ­£ç¡®åšæ³•**ï¼š
```cmake
# æ­£ç¡®1ï¼šä½¿ç”¨ç›®æ ‡ç‰¹å®šè®¾ç½®
target_include_directories(myapp PRIVATE include/)
target_link_libraries(myapp somelib)

# æ­£ç¡®2ï¼šä½¿ç”¨å˜é‡å’Œç”Ÿæˆå™¨è¡¨è¾¾å¼
target_include_directories(myapp PRIVATE 
    $<BUILD_INTERFACE:${CMAKE_SOURCE_DIR}/include>
)

# æ­£ç¡®3ï¼šæ£€æŸ¥ä¾èµ–
find_package(SomeLib REQUIRED)
if(SomeLib_FOUND)
    target_link_libraries(myapp SomeLib::SomeLib)
endif()
```

---

## 10. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 10.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ CMakeæœ¬è´¨ï¼šè·¨å¹³å°æ„å»ºç³»ç»Ÿç”Ÿæˆå™¨ï¼Œä¸æ˜¯æ„å»ºå·¥å…·æœ¬èº«
ğŸ”¸ å·¥ä½œæµç¨‹ï¼šCMakeLists.txt â†’ CMakeé…ç½® â†’ æ„å»ºæ–‡ä»¶ â†’ æœ€ç»ˆç¨‹åº
ğŸ”¸ ç°ä»£CMakeï¼šåŸºäºç›®æ ‡çš„å±æ€§è®¾ç½®ï¼ŒPRIVATE/PUBLIC/INTERFACEä¼ æ’­
ğŸ”¸ ä¾èµ–ç®¡ç†ï¼štarget_link_libraries + find_package çš„ç°ä»£åŒ–ç»„åˆ
ğŸ”¸ è·¨å¹³å°ï¼šä¸€ä»½é…ç½®æ–‡ä»¶ï¼Œå¤šå¹³å°è‡ªåŠ¨é€‚é…
```

### 10.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ ç°ä»£CMake vs ä¼ ç»ŸCMake**ï¼š
```
ä¼ ç»Ÿæ–¹å¼ï¼š
- include_directories() å…¨å±€å½±å“
- link_directories() æ‰‹åŠ¨ç®¡ç†
- ç¡¬ç¼–ç è·¯å¾„å’Œé€‰é¡¹

ç°ä»£æ–¹å¼ï¼š
- target_* å‡½æ•°é’ˆå¯¹ç‰¹å®šç›®æ ‡
- è‡ªåŠ¨ä¼ æ’­ä¾èµ–å±æ€§
- ç”Ÿæˆå™¨è¡¨è¾¾å¼åŠ¨æ€é…ç½®
```

**ğŸ”¹ ç›®æ ‡å±æ€§ä¼ æ’­çš„ä»·å€¼**ï¼š
```
PUBLICä¼ æ’­æœºåˆ¶çš„å¨åŠ›ï¼š
App â†’ LibA(PUBLICåŒ…å«LibB) â†’ LibB
Appè‡ªåŠ¨è·å¾—LibAå’ŒLibBçš„æ‰€æœ‰PUBLICå±æ€§ï¼Œæ— éœ€æ‰‹åŠ¨é…ç½®
```

### 10.3 å®é™…åº”ç”¨æŒ‡å¯¼


**ğŸ¯ æ–°æ‰‹å­¦ä¹ è·¯å¾„**ï¼š
1. **å…¥é—¨**ï¼šæŒæ¡åŸºæœ¬CMakeLists.txtç¼–å†™
2. **è¿›é˜¶**ï¼šç†è§£ç›®æ ‡å±æ€§å’Œä¾èµ–ä¼ æ’­
3. **é«˜çº§**ï¼šå­¦ä¼šå¤–éƒ¨åº“é›†æˆå’Œè·¨å¹³å°é…ç½®
4. **ä¸“å®¶**ï¼šæŒæ¡æœ€ä½³å®è·µå’Œæ€§èƒ½ä¼˜åŒ–

**ğŸ› ï¸ é¡¹ç›®å®æ–½å»ºè®®**ï¼š
- **å°é¡¹ç›®**ï¼šå•ä¸ªCMakeLists.txtå³å¯
- **ä¸­å‹é¡¹ç›®**ï¼šæŒ‰æ¨¡å—åˆ†å‰²ï¼Œä½¿ç”¨add_subdirectory
- **å¤§å‹é¡¹ç›®**ï¼šä½¿ç”¨FetchContenté›†æˆå¤–éƒ¨ä¾èµ–
- **ä¼ä¸šçº§**ï¼šç»“åˆåŒ…ç®¡ç†å™¨å’ŒCI/CDæµæ°´çº¿

**ğŸ’¡ å­¦ä¹ é‡ç‚¹**ï¼š
- **ç†è§£æ¦‚å¿µ**ï¼šææ¸…æ¥šCMakeæ˜¯åšä»€ä¹ˆçš„ï¼Œæ€ä¹ˆå·¥ä½œçš„
- **æŒæ¡è¯­æ³•**ï¼šç†Ÿç»ƒä½¿ç”¨target_*ç³»åˆ—å‡½æ•°
- **å®è·µåº”ç”¨**ï¼šå¤šå†™å¤šç»ƒï¼Œä»ç®€å•é¡¹ç›®å¼€å§‹
- **ç°ä»£åŒ–æ€ç»´**ï¼šå­¦ä¹ ç°ä»£CMakeæ–¹å¼ï¼Œé¿å…ä¼ ç»Ÿé™·é˜±

**æ ¸å¿ƒè®°å¿†å£è¯€**ï¼š
- CMakeç”Ÿæˆæ„å»ºæ–‡ä»¶ï¼Œtargetç®¡ç†æ›´ç²¾ç»†
- PRIVATEè‡ªç”¨PUBLICä¼ æ’­ï¼ŒINTERFACEåªç»™åˆ«äºº
- find_packageæ‰¾ä¾èµ–ï¼ŒFetchContentå¾ˆä¾¿åˆ©
- ç°ä»£CMakeæ˜¯ç‹é“ï¼Œä¼ ç»Ÿæ–¹å¼è¦é¿å…