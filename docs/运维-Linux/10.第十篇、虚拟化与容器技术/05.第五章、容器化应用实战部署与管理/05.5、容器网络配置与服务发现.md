---
title: 5ã€å®¹å™¨ç½‘ç»œé…ç½®ä¸æœåŠ¡å‘ç°
---
## ğŸ“š ç›®å½•

1. [å®¹å™¨ç½‘ç»œåŸºç¡€æ¦‚å¿µ](#1-å®¹å™¨ç½‘ç»œåŸºç¡€æ¦‚å¿µ)
2. [å®¹å™¨ç½‘ç»œæ¨¡å¼é€‰æ‹©](#2-å®¹å™¨ç½‘ç»œæ¨¡å¼é€‰æ‹©)
3. [è‡ªå®šä¹‰ç½‘ç»œåˆ›å»ºä¸ç®¡ç†](#3-è‡ªå®šä¹‰ç½‘ç»œåˆ›å»ºä¸ç®¡ç†)
4. [æœåŠ¡é—´é€šä¿¡é…ç½®](#4-æœåŠ¡é—´é€šä¿¡é…ç½®)
5. [DNSè§£æä¸æœåŠ¡å‘ç°](#5-dnsè§£æä¸æœåŠ¡å‘ç°)
6. [è´Ÿè½½å‡è¡¡é…ç½®](#6-è´Ÿè½½å‡è¡¡é…ç½®)
7. [ç½‘ç»œéš”ç¦»ä¸å®‰å…¨ç­–ç•¥](#7-ç½‘ç»œéš”ç¦»ä¸å®‰å…¨ç­–ç•¥)
8. [è·¨ä¸»æœºç½‘ç»œé€šä¿¡](#8-è·¨ä¸»æœºç½‘ç»œé€šä¿¡)
9. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#9-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸŒ å®¹å™¨ç½‘ç»œåŸºç¡€æ¦‚å¿µ


### 1.1 ä»€ä¹ˆæ˜¯å®¹å™¨ç½‘ç»œ


å®¹å™¨ç½‘ç»œå°±æ˜¯è®©å®¹å™¨ä¹‹é—´èƒ½å¤Ÿç›¸äº’é€šä¿¡çš„"æ¡¥æ¢"ã€‚å°±åƒç°å®ä¸­çš„ç½‘ç»œè®©ä¸åŒçš„è®¾å¤‡èƒ½å¤Ÿäº’ç›¸è¿æ¥ä¸€æ ·ï¼Œå®¹å™¨ç½‘ç»œè®©è¿è¡Œåœ¨åŒä¸€å°æœºå™¨æˆ–ä¸åŒæœºå™¨ä¸Šçš„å®¹å™¨èƒ½å¤Ÿæ‰¾åˆ°å½¼æ­¤å¹¶è¿›è¡Œæ•°æ®äº¤æ¢ã€‚

**å®¹å™¨ç½‘ç»œçš„æœ¬è´¨ä½œç”¨**ï¼š
- **è¿é€šæ€§**ï¼šè®©å®¹å™¨èƒ½å¤Ÿè®¿é—®å¤–éƒ¨ç½‘ç»œå’Œè¢«å¤–éƒ¨è®¿é—®
- **éš”ç¦»æ€§**ï¼šä¸åŒçš„å®¹å™¨ç½‘ç»œä¹‹é—´ç›¸äº’éš”ç¦»ï¼Œä¿è¯å®‰å…¨
- **æœåŠ¡å‘ç°**ï¼šå®¹å™¨èƒ½å¤Ÿé€šè¿‡åç§°æ‰¾åˆ°å…¶ä»–å®¹å™¨æœåŠ¡
- **è´Ÿè½½åˆ†å‘**ï¼šå¤šä¸ªå®¹å™¨å®ä¾‹ä¹‹é—´è‡ªåŠ¨åˆ†é…è¯·æ±‚

### 1.2 å®¹å™¨ç½‘ç»œä¸ä¼ ç»Ÿç½‘ç»œçš„åŒºåˆ«


```
ä¼ ç»Ÿè™šæ‹Ÿæœºç½‘ç»œï¼š        å®¹å™¨ç½‘ç»œï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   è™šæ‹ŸæœºA        â”‚    â”‚   å®¹å™¨A          â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚   åº”ç”¨      â”‚ â”‚    â”‚ â”‚   åº”ç”¨      â”‚ â”‚
â”‚ â”‚             â”‚ â”‚    â”‚ â”‚             â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚   å®Œæ•´æ“ä½œç³»ç»Ÿ   â”‚    â”‚  å…±äº«ä¸»æœºå†…æ ¸   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“                       â†“
    ç‹¬ç«‹ç½‘ç»œæ ˆ              è½»é‡çº§ç½‘ç»œå‘½åç©ºé—´
```

**å…³é”®åŒºåˆ«**ï¼š
- **è½»é‡çº§**ï¼šå®¹å™¨ç½‘ç»œå¼€é”€æ›´å°ï¼Œå¯åŠ¨æ›´å¿«
- **åŠ¨æ€æ€§**ï¼šå®¹å™¨éšæ—¶åˆ›å»ºå’Œé”€æ¯ï¼Œç½‘ç»œé…ç½®éœ€è¦åŠ¨æ€ç®¡ç†
- **å¯†åº¦é«˜**ï¼šå•å°æœºå™¨å¯è¿è¡Œæ•°ç™¾ä¸ªå®¹å™¨ï¼Œç½‘ç»œç®¡ç†æ›´å¤æ‚

### 1.3 å®¹å™¨ç½‘ç»œçš„æ ¸å¿ƒç»„ä»¶


**ç½‘ç»œå‘½åç©ºé—´ï¼ˆNetwork Namespaceï¼‰**ï¼š
æ¯ä¸ªå®¹å™¨éƒ½æœ‰è‡ªå·±çš„ç½‘ç»œå‘½åç©ºé—´ï¼Œå°±åƒç»™æ¯ä¸ªå®¹å™¨åˆ†é…äº†ä¸€ä¸ªç‹¬ç«‹çš„"ç½‘ç»œç¯å¢ƒ"ï¼ŒåŒ…å«ï¼š
- ç‹¬ç«‹çš„ç½‘ç»œæ¥å£
- ç‹¬ç«‹çš„è·¯ç”±è¡¨
- ç‹¬ç«‹çš„é˜²ç«å¢™è§„åˆ™

**è™šæ‹Ÿç½‘æ¡¥ï¼ˆBridgeï¼‰**ï¼š
å……å½“å®¹å™¨ä¹‹é—´çš„"äº¤æ¢æœº"ï¼Œè¿æ¥åŒä¸€ç½‘ç»œä¸­çš„æ‰€æœ‰å®¹å™¨ã€‚

**è™šæ‹Ÿç½‘ç»œæ¥å£ï¼ˆveth pairï¼‰**ï¼š
è¿æ¥å®¹å™¨å’Œä¸»æœºçš„"ç½‘çº¿"ï¼Œæ¯ä¸ªå®¹å™¨é€šè¿‡veth pairè¿æ¥åˆ°ç½‘æ¡¥ã€‚

---

## 2. âš™ï¸ å®¹å™¨ç½‘ç»œæ¨¡å¼é€‰æ‹©


### 2.1 Dockerç½‘ç»œæ¨¡å¼å¯¹æ¯”


| ç½‘ç»œæ¨¡å¼ | **é€‚ç”¨åœºæ™¯** | **ç½‘ç»œæ€§èƒ½** | **éš”ç¦»ç¨‹åº¦** | **é…ç½®å¤æ‚åº¦** |
|---------|------------|-------------|-------------|---------------|
| **Bridge** | `ä¸€èˆ¬Webåº”ç”¨` | `ä¸­ç­‰` | `ä¸­ç­‰` | `ç®€å•` |
| **Host** | `é«˜æ€§èƒ½åº”ç”¨` | `æœ€é«˜` | `æœ€ä½` | `æœ€ç®€å•` |
| **None** | `å®‰å…¨éš”ç¦»` | `æ— ç½‘ç»œ` | `æœ€é«˜` | `éœ€è¦æ‰‹åŠ¨` |
| **Overlay** | `è·¨ä¸»æœºé€šä¿¡` | `ä¸­ç­‰` | `é«˜` | `å¤æ‚` |
| **Macvlan** | `ç‹¬ç«‹IPéœ€æ±‚` | `é«˜` | `é«˜` | `å¤æ‚` |

### 2.2 Bridgeæ¨¡å¼è¯¦è§£


**Bridgeæ¨¡å¼**æ˜¯Dockerçš„é»˜è®¤ç½‘ç»œæ¨¡å¼ï¼Œå°±åƒä¸ºå®¹å™¨æ­å»ºäº†ä¸€ä¸ª"å°åŒºå†…ç½‘"ã€‚

```
ä¸»æœºç½‘ç»œç¯å¢ƒï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              å®¿ä¸»æœº                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚eth0 â”‚â”€â”€â”€â”€â”‚ docker0ç½‘æ¡¥   â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”˜    â”‚  172.17.0.1  â”‚       â”‚
â”‚             â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                    â”‚               â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚    â”‚                             â”‚ â”‚
â”‚ â”Œâ”€â”€â–¼â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚å®¹å™¨1â”‚ â”‚å®¹å™¨2 â”‚ â”‚å®¹å™¨3 â”‚ â”‚å®¹å™¨4 â”‚â”‚
â”‚ â”‚.0.2â”‚  â”‚.0.3  â”‚ â”‚.0.4  â”‚ â”‚.0.5  â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Bridgeæ¨¡å¼çš„å·¥ä½œåŸç†**ï¼š
1. Dockeråˆ›å»ºdocker0ç½‘æ¡¥ä½œä¸º"è™šæ‹Ÿäº¤æ¢æœº"
2. æ¯ä¸ªå®¹å™¨åˆ†é…ç‹¬ç«‹çš„IPåœ°å€
3. å®¹å™¨é€šè¿‡veth pairè¿æ¥åˆ°docker0ç½‘æ¡¥
4. å¤–éƒ¨è®¿é—®é€šè¿‡NATè½¬å‘åˆ°å…·ä½“å®¹å™¨

**Bridgeæ¨¡å¼ç¤ºä¾‹**ï¼š
```bash
# æŸ¥çœ‹é»˜è®¤bridgeç½‘ç»œ
docker network ls

# åˆ›å»ºå®¹å™¨ä½¿ç”¨é»˜è®¤bridge
docker run -d --name web1 nginx

# æŸ¥çœ‹å®¹å™¨IPåœ°å€
docker inspect web1 | grep IPAddress
```

### 2.3 Hostæ¨¡å¼è¯¦è§£


**Hostæ¨¡å¼**è®©å®¹å™¨ç›´æ¥ä½¿ç”¨å®¿ä¸»æœºçš„ç½‘ç»œï¼Œå°±åƒå®¹å™¨"ä½è¿›äº†"å®¿ä¸»æœºçš„ç½‘ç»œç¯å¢ƒã€‚

**Hostæ¨¡å¼ç‰¹ç‚¹**ï¼š
- âœ… **æ€§èƒ½æœ€ä½³**ï¼šæ— éœ€ç½‘ç»œåœ°å€è½¬æ¢ï¼Œç›´æ¥è®¿é—®
- âœ… **é…ç½®ç®€å•**ï¼šä¸éœ€è¦ç«¯å£æ˜ å°„
- âŒ **ç«¯å£å†²çª**ï¼šå¤šä¸ªå®¹å™¨ä¸èƒ½ä½¿ç”¨ç›¸åŒç«¯å£
- âŒ **å®‰å…¨æ€§ä½**ï¼šå®¹å™¨ç›´æ¥æš´éœ²åœ¨å®¿ä¸»æœºç½‘ç»œ

```bash
# ä½¿ç”¨hostç½‘ç»œæ¨¡å¼
docker run -d --network host --name web-host nginx

# å®¹å™¨ç›´æ¥ç›‘å¬å®¿ä¸»æœº80ç«¯å£ï¼Œæ— éœ€-pæ˜ å°„
curl localhost:80
```

### 2.4 Noneæ¨¡å¼è¯¦è§£


**Noneæ¨¡å¼**åˆ›å»ºå®Œå…¨éš”ç¦»çš„å®¹å™¨ï¼Œæ²¡æœ‰ä»»ä½•ç½‘ç»œè¿æ¥ï¼Œé€‚åˆé«˜å®‰å…¨è¦æ±‚çš„åœºæ™¯ã€‚

```bash
# åˆ›å»ºæ— ç½‘ç»œå®¹å™¨
docker run -it --network none --name isolated alpine sh

# åœ¨å®¹å™¨å†…æŸ¥çœ‹ç½‘ç»œæ¥å£ï¼ˆåªæœ‰loå›ç¯æ¥å£ï¼‰
ip addr show
```

---

## 3. ğŸ”§ è‡ªå®šä¹‰ç½‘ç»œåˆ›å»ºä¸ç®¡ç†


### 3.1 ä¸ºä»€ä¹ˆéœ€è¦è‡ªå®šä¹‰ç½‘ç»œ


é»˜è®¤çš„bridgeç½‘ç»œæœ‰ä¸€äº›é™åˆ¶ï¼š
- å®¹å™¨é—´åªèƒ½é€šè¿‡IPé€šä¿¡ï¼Œä¸æ”¯æŒåç§°è§£æ
- æ‰€æœ‰å®¹å™¨éƒ½åœ¨åŒä¸€ç½‘ç»œä¸­ï¼Œç¼ºä¹éš”ç¦»
- ç½‘ç»œé…ç½®å›ºå®šï¼Œæ— æ³•è‡ªå®šä¹‰

è‡ªå®šä¹‰ç½‘ç»œå°±åƒä¸ºä¸åŒçš„åº”ç”¨æ­å»ºä¸“å±çš„"å±€åŸŸç½‘"ï¼Œæä¾›æ›´å¥½çš„éš”ç¦»å’Œç®¡ç†ã€‚

### 3.2 åˆ›å»ºè‡ªå®šä¹‰Bridgeç½‘ç»œ


```bash
# åˆ›å»ºè‡ªå®šä¹‰ç½‘ç»œ
docker network create \
  --driver bridge \
  --subnet 192.168.100.0/24 \
  --gateway 192.168.100.1 \
  my-network

# æŸ¥çœ‹ç½‘ç»œè¯¦æƒ…
docker network inspect my-network
```

**è‡ªå®šä¹‰ç½‘ç»œçš„ä¼˜åŠ¿**ï¼š
- **DNSè§£æ**ï¼šå®¹å™¨å¯ä»¥é€šè¿‡åç§°ç›¸äº’è®¿é—®
- **ç½‘ç»œéš”ç¦»**ï¼šä¸åŒç½‘ç»œçš„å®¹å™¨é»˜è®¤æ— æ³•é€šä¿¡
- **IPç®¡ç†**ï¼šå¯ä»¥æŒ‡å®šIPåœ°å€æ®µå’Œç½‘å…³

### 3.3 å®¹å™¨åŠ å…¥è‡ªå®šä¹‰ç½‘ç»œ


```bash
# åˆ›å»ºå®¹å™¨æ—¶æŒ‡å®šç½‘ç»œ
docker run -d --name web1 --network my-network nginx
docker run -d --name web2 --network my-network nginx

# åœ¨web1å®¹å™¨ä¸­ping web2ï¼ˆé€šè¿‡åç§°ï¼‰
docker exec web1 ping web2
```

### 3.4 ç½‘ç»œç®¡ç†å®ç”¨å‘½ä»¤


**æŸ¥çœ‹ç½‘ç»œä¿¡æ¯**ï¼š
```bash
# åˆ—å‡ºæ‰€æœ‰ç½‘ç»œ
docker network ls

# æŸ¥çœ‹ç‰¹å®šç½‘ç»œè¯¦æƒ…
docker network inspect my-network

# æŸ¥çœ‹å®¹å™¨ç½‘ç»œé…ç½®
docker exec web1 ip addr show
```

**åŠ¨æ€ç½‘ç»œç®¡ç†**ï¼š
```bash
# å°†è¿è¡Œä¸­çš„å®¹å™¨è¿æ¥åˆ°ç½‘ç»œ
docker network connect my-network existing-container

# æ–­å¼€å®¹å™¨ä¸ç½‘ç»œçš„è¿æ¥
docker network disconnect my-network existing-container

# åˆ é™¤è‡ªå®šä¹‰ç½‘ç»œ
docker network rm my-network
```

---

## 4. ğŸ”— æœåŠ¡é—´é€šä¿¡é…ç½®


### 4.1 åŒç½‘ç»œå®¹å™¨é€šä¿¡


åœ¨åŒä¸€ä¸ªè‡ªå®šä¹‰ç½‘ç»œä¸­çš„å®¹å™¨å¯ä»¥é€šè¿‡å®¹å™¨åç§°ç›´æ¥é€šä¿¡ï¼Œå°±åƒåŒä¸€ä¸ªå±€åŸŸç½‘ä¸­çš„è®¡ç®—æœºã€‚

```bash
# åˆ›å»ºåº”ç”¨ç½‘ç»œ
docker network create app-network

# å¯åŠ¨æ•°æ®åº“å®¹å™¨
docker run -d \
  --name mysql-db \
  --network app-network \
  -e MYSQL_ROOT_PASSWORD=secret \
  mysql:8.0

# å¯åŠ¨Webåº”ç”¨å®¹å™¨
docker run -d \
  --name web-app \
  --network app-network \
  -p 8080:8080 \
  my-web-app

# Webåº”ç”¨é€šè¿‡ mysql-db:3306 è¿æ¥æ•°æ®åº“
```

### 4.2 è·¨ç½‘ç»œé€šä¿¡é…ç½®


é»˜è®¤æƒ…å†µä¸‹ï¼Œä¸åŒç½‘ç»œçš„å®¹å™¨æ— æ³•é€šä¿¡ï¼Œè¿™æä¾›äº†å¾ˆå¥½çš„éš”ç¦»æ€§ã€‚å¦‚æœéœ€è¦è·¨ç½‘ç»œé€šä¿¡ï¼Œéœ€è¦ï¼š

**æ–¹æ³•1ï¼šå®¹å™¨è¿æ¥å¤šä¸ªç½‘ç»œ**
```bash
# åˆ›å»ºä¸¤ä¸ªç½‘ç»œ
docker network create frontend-network
docker network create backend-network

# APIæœåŠ¡åŒæ—¶è¿æ¥ä¸¤ä¸ªç½‘ç»œ
docker run -d --name api-service --network frontend-network nginx
docker network connect backend-network api-service

# ç°åœ¨api-serviceå¯ä»¥ä¸ä¸¤ä¸ªç½‘ç»œçš„å®¹å™¨é€šä¿¡
```

**æ–¹æ³•2ï¼šä½¿ç”¨ç½‘ç»œåˆ«å**
```bash
# ä¸ºå®¹å™¨åœ¨ç½‘ç»œä¸­è®¾ç½®åˆ«å
docker run -d \
  --name database \
  --network backend-network \
  --network-alias db \
  --network-alias mysql \
  mysql:8.0

# å…¶ä»–å®¹å™¨å¯é€šè¿‡å¤šä¸ªåç§°è®¿é—®ï¼šdatabaseã€dbã€mysql
```

### 4.3 ç«¯å£æš´éœ²ä¸æ˜ å°„


**å†…éƒ¨é€šä¿¡ vs å¤–éƒ¨è®¿é—®**ï¼š
```bash
# åªåœ¨å®¹å™¨é—´é€šä¿¡ï¼Œä¸æš´éœ²ç«¯å£
docker run -d --name internal-service --network app-network my-service

# æš´éœ²ç«¯å£ç»™å¤–éƒ¨è®¿é—®
docker run -d \
  --name public-service \
  --network app-network \
  -p 8080:80 \
  nginx

# åŠ¨æ€ç«¯å£æ˜ å°„
docker run -d --name dynamic-service -P nginx
```

---

## 5. ğŸ” DNSè§£æä¸æœåŠ¡å‘ç°


### 5.1 å®¹å™¨DNSè§£ææœºåˆ¶


Dockerä¸ºæ¯ä¸ªå®¹å™¨æä¾›å†…ç½®çš„DNSæœåŠ¡å™¨ï¼Œè®©å®¹å™¨èƒ½å¤Ÿé€šè¿‡åç§°æ‰¾åˆ°å…¶ä»–å®¹å™¨ï¼Œå°±åƒäº’è”ç½‘ä¸Šé€šè¿‡åŸŸåè®¿é—®ç½‘ç«™ä¸€æ ·ã€‚

```
DNSè§£ææµç¨‹ï¼š
å®¹å™¨Aè®¿é—® container-b
        â†“
    å®¹å™¨å†…DNSæœåŠ¡å™¨
        â†“
    Dockerå†…ç½®DNS
        â†“
    è¿”å›container-bçš„IPåœ°å€
        â†“
    å»ºç«‹ç½‘ç»œè¿æ¥
```

### 5.2 æœåŠ¡å‘ç°å®æˆ˜ç¤ºä¾‹


**å¤šå±‚åº”ç”¨æ¶æ„**ï¼š
```bash
# åˆ›å»ºåº”ç”¨ç½‘ç»œ
docker network create ecommerce-network

# æ•°æ®åº“å±‚
docker run -d \
  --name postgres-db \
  --network ecommerce-network \
  -e POSTGRES_PASSWORD=secret \
  postgres:13

# ç¼“å­˜å±‚
docker run -d \
  --name redis-cache \
  --network ecommerce-network \
  redis:6-alpine

# APIæœåŠ¡å±‚
docker run -d \
  --name api-server \
  --network ecommerce-network \
  -e DATABASE_URL=postgresql://postgres:secret@postgres-db:5432/app \
  -e REDIS_URL=redis://redis-cache:6379 \
  my-api-server

# å‰ç«¯å±‚
docker run -d \
  --name frontend \
  --network ecommerce-network \
  -p 80:80 \
  -e API_BASE_URL=http://api-server:8000 \
  my-frontend
```

åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼š
- å‰ç«¯é€šè¿‡ `api-server` è®¿é—®APIæœåŠ¡
- APIæœåŠ¡é€šè¿‡ `postgres-db` è®¿é—®æ•°æ®åº“
- APIæœåŠ¡é€šè¿‡ `redis-cache` è®¿é—®ç¼“å­˜

### 5.3 é«˜çº§DNSé…ç½®


**è‡ªå®šä¹‰DNSæœåŠ¡å™¨**ï¼š
```bash
# æŒ‡å®šè‡ªå®šä¹‰DNSæœåŠ¡å™¨
docker run -d \
  --name web-server \
  --dns 8.8.8.8 \
  --dns 114.114.114.114 \
  nginx
```

**DNSæœç´¢åŸŸé…ç½®**ï¼š
```bash
# é…ç½®DNSæœç´¢åŸŸ
docker run -d \
  --name app-server \
  --dns-search company.com \
  --dns-search internal.local \
  my-app
```

---

## 6. âš–ï¸ è´Ÿè½½å‡è¡¡é…ç½®


### 6.1 å®¹å™¨è´Ÿè½½å‡è¡¡åŸç†


å½“æˆ‘ä»¬æœ‰å¤šä¸ªç›¸åŒæœåŠ¡çš„å®¹å™¨å®ä¾‹æ—¶ï¼Œéœ€è¦è´Ÿè½½å‡è¡¡æ¥åˆ†é…è¯·æ±‚ï¼Œå°±åƒè¶…å¸‚å¼€å¤šä¸ªæ”¶é“¶å°æ¥æœåŠ¡é¡¾å®¢ä¸€æ ·ã€‚

```
è´Ÿè½½å‡è¡¡ç¤ºæ„å›¾ï¼š
         å®¢æˆ·ç«¯è¯·æ±‚
              â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ è´Ÿè½½å‡è¡¡å™¨   â”‚
        â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â†“         â†“         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”
â”‚WebæœåŠ¡1â”‚ â”‚WebæœåŠ¡2â”‚ â”‚WebæœåŠ¡3â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6.2 ä½¿ç”¨Nginxå®ç°è´Ÿè½½å‡è¡¡


**åˆ›å»ºåç«¯æœåŠ¡æ± **ï¼š
```bash
# åˆ›å»ºè´Ÿè½½å‡è¡¡ç½‘ç»œ
docker network create lb-network

# å¯åŠ¨å¤šä¸ªåç«¯æœåŠ¡
docker run -d --name backend1 --network lb-network my-web-app
docker run -d --name backend2 --network lb-network my-web-app
docker run -d --name backend3 --network lb-network my-web-app
```

**é…ç½®Nginxè´Ÿè½½å‡è¡¡**ï¼š
```nginx
# nginx.conf
upstream backend_servers {
    server backend1:8080;
    server backend2:8080;
    server backend3:8080;
}

server {
    listen 80;
    location / {
        proxy_pass http://backend_servers;
    }
}
```

```bash
# å¯åŠ¨Nginxè´Ÿè½½å‡è¡¡å™¨
docker run -d \
  --name nginx-lb \
  --network lb-network \
  -p 80:80 \
  -v $(pwd)/nginx.conf:/etc/nginx/nginx.conf:ro \
  nginx
```

### 6.3 Docker Composeè´Ÿè½½å‡è¡¡


ä½¿ç”¨Docker Composeå¯ä»¥æ›´ç®€å•åœ°å®ç°æœåŠ¡æ‰©å±•å’Œè´Ÿè½½å‡è¡¡ï¼š

```yaml
# docker-compose.yml
version: '3.8'
services:
  web:
    image: my-web-app
    networks:
      - app-network
    deploy:
      replicas: 3

  nginx:
    image: nginx
    ports:
      - "80:80"
    networks:
      - app-network
    volumes:
      - ./nginx.conf:/etc/nginx/nginx.conf:ro

networks:
  app-network:
    driver: bridge
```

```bash
# å¯åŠ¨æœåŠ¡
docker-compose up -d

# æ‰©å±•webæœåŠ¡å®ä¾‹
docker-compose up -d --scale web=5
```

---

## 7. ğŸ”’ ç½‘ç»œéš”ç¦»ä¸å®‰å…¨ç­–ç•¥


### 7.1 ç½‘ç»œéš”ç¦»åŸç†


ç½‘ç»œéš”ç¦»å°±åƒç»™ä¸åŒçš„éƒ¨é—¨åˆ†é…ç‹¬ç«‹çš„åŠå…¬åŒºåŸŸï¼Œç¡®ä¿å„è‡ªçš„ç½‘ç»œæµé‡ä¸ä¼šç›¸äº’å¹²æ‰°ï¼ŒåŒæ—¶æé«˜å®‰å…¨æ€§ã€‚

```
å¤šç¯å¢ƒéš”ç¦»ç¤ºä¾‹ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               å®¿ä¸»æœº                 â”‚
â”‚                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ å¼€å‘ç¯å¢ƒç½‘ç»œ  â”‚  â”‚ æµ‹è¯•ç¯å¢ƒç½‘ç»œ  â”‚â”‚
â”‚  â”‚  dev-network â”‚  â”‚ test-network â”‚â”‚
â”‚  â”‚              â”‚  â”‚              â”‚â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚â”‚
â”‚  â”‚ â”‚ å¼€å‘åº”ç”¨ â”‚ â”‚  â”‚ â”‚ æµ‹è¯•åº”ç”¨ â”‚ â”‚â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”‚      ç”Ÿäº§ç¯å¢ƒç½‘ç»œ                 â”‚
â”‚  â”‚     prod-network                â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ â”‚ WebæœåŠ¡  â”‚ â”‚ æ•°æ®åº“   â”‚      â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 7.2 å®æ–½ç½‘ç»œéš”ç¦»ç­–ç•¥


**ç¯å¢ƒéš”ç¦»**ï¼š
```bash
# åˆ›å»ºä¸åŒç¯å¢ƒçš„ç½‘ç»œ
docker network create --driver bridge dev-network
docker network create --driver bridge test-network
docker network create --driver bridge prod-network

# å¼€å‘ç¯å¢ƒ
docker run -d --name dev-app --network dev-network my-app:dev
docker run -d --name dev-db --network dev-network postgres:13

# ç”Ÿäº§ç¯å¢ƒ  
docker run -d --name prod-app --network prod-network my-app:prod
docker run -d --name prod-db --network prod-network postgres:13
```

**æœåŠ¡å±‚éš”ç¦»**ï¼š
```bash
# å‰ç«¯ç½‘ç»œ
docker network create frontend-tier

# åç«¯ç½‘ç»œ  
docker network create backend-tier

# æ•°æ®åº“ç½‘ç»œ
docker network create database-tier

# WebæœåŠ¡å™¨åªè¿æ¥å‰ç«¯ç½‘ç»œ
docker run -d --name nginx --network frontend-tier nginx

# APIæœåŠ¡è¿æ¥å‰ç«¯å’Œåç«¯ç½‘ç»œ
docker run -d --name api --network backend-tier my-api
docker network connect frontend-tier api

# æ•°æ®åº“åªè¿æ¥åç«¯ç½‘ç»œ
docker run -d --name database --network database-tier postgres
docker network connect backend-tier database
```

### 7.3 é˜²ç«å¢™è§„åˆ™é…ç½®


**ä½¿ç”¨iptablesé™åˆ¶è®¿é—®**ï¼š
```bash
# å…è®¸ç‰¹å®šç½‘ç»œæ®µè®¿é—®
iptables -A DOCKER-USER -s 192.168.1.0/24 -j ACCEPT

# é˜»æ­¢å…¶ä»–ç½‘ç»œè®¿é—®å®¹å™¨
iptables -A DOCKER-USER -j DROP

# å…è®¸å·²å»ºç«‹çš„è¿æ¥
iptables -A DOCKER-USER -m conntrack --ctstate ESTABLISHED,RELATED -j ACCEPT
```

**å®¹å™¨å†…å®‰å…¨é…ç½®**ï¼š
```bash
# ä»¥érootç”¨æˆ·è¿è¡Œå®¹å™¨
docker run -d --user 1000:1000 --name secure-app my-app

# åªè¯»æ ¹æ–‡ä»¶ç³»ç»Ÿ
docker run -d --read-only --name readonly-app my-app

# é™åˆ¶å®¹å™¨æƒé™
docker run -d --cap-drop=ALL --cap-add=NET_BIND_SERVICE nginx
```

---

## 8. ğŸŒ è·¨ä¸»æœºç½‘ç»œé€šä¿¡


### 8.1 è·¨ä¸»æœºé€šä¿¡éœ€æ±‚åœºæ™¯


å½“åº”ç”¨è§„æ¨¡è¶…å‡ºå•å°ä¸»æœºæ‰¿è½½èƒ½åŠ›æ—¶ï¼Œéœ€è¦è·¨ä¸»æœºå®¹å™¨é€šä¿¡ï¼š

```
è·¨ä¸»æœºå®¹å™¨é€šä¿¡åœºæ™¯ï¼š
ä¸»æœºA (192.168.1.100)          ä¸»æœºB (192.168.1.101)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚       â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚   Webå®¹å™¨   â”‚    â”‚       â”‚  â”‚   APIå®¹å™¨   â”‚    â”‚
â”‚  â”‚             â”‚â—„â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â–ºâ”‚             â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚       â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                     â”‚       â”‚                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚       â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  ç¼“å­˜å®¹å™¨   â”‚    â”‚       â”‚  â”‚  æ•°æ®åº“å®¹å™¨  â”‚    â”‚
â”‚  â”‚             â”‚â—„â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â–ºâ”‚             â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚       â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 8.2 Docker Swarmé›†ç¾¤ç½‘ç»œ


Docker Swarmæä¾›äº†å†…ç½®çš„è·¨ä¸»æœºç½‘ç»œè§£å†³æ–¹æ¡ˆï¼Œä½¿ç”¨Overlayç½‘ç»œã€‚

**åˆå§‹åŒ–Swarmé›†ç¾¤**ï¼š
```bash
# åœ¨ä¸»èŠ‚ç‚¹åˆå§‹åŒ–é›†ç¾¤
docker swarm init --advertise-addr 192.168.1.100

# åœ¨å·¥ä½œèŠ‚ç‚¹åŠ å…¥é›†ç¾¤
docker swarm join --token SWMTKN-xxx 192.168.1.100:2377
```

**åˆ›å»ºOverlayç½‘ç»œ**ï¼š
```bash
# åˆ›å»ºè·¨ä¸»æœºç½‘ç»œ
docker network create \
  --driver overlay \
  --attachable \
  multi-host-network

# åœ¨ä¸åŒä¸»æœºä¸Šå¯åŠ¨å®¹å™¨
# ä¸»æœºA:
docker run -d --name web --network multi-host-network nginx

# ä¸»æœºB:
docker run -d --name api --network multi-host-network my-api

# webå®¹å™¨å¯ä»¥ç›´æ¥è®¿é—®apiå®¹å™¨
docker exec web ping api
```

### 8.3 ä½¿ç”¨Docker Composeéƒ¨ç½²åˆ†å¸ƒå¼åº”ç”¨


```yaml
# docker-compose.yml
version: '3.8'
services:
  web:
    image: nginx
    networks:
      - frontend
    deploy:
      replicas: 2
      placement:
        constraints:
          - node.role == worker

  api:
    image: my-api
    networks:
      - frontend
      - backend
    deploy:
      replicas: 3

  database:
    image: postgres:13
    networks:
      - backend
    environment:
      POSTGRES_PASSWORD: secret
    deploy:
      placement:
        constraints:
          - node.role == manager

networks:
  frontend:
    driver: overlay
  backend:
    driver: overlay
```

```bash
# éƒ¨ç½²Stackåˆ°é›†ç¾¤
docker stack deploy -c docker-compose.yml myapp

# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
docker service ls

# æ‰©å±•æœåŠ¡
docker service scale myapp_api=5
```

### 8.4 ç¬¬ä¸‰æ–¹ç½‘ç»œè§£å†³æ–¹æ¡ˆ


**Calicoç½‘ç»œ**ï¼š
- æä¾›çº¯ä¸‰å±‚ç½‘ç»œè§£å†³æ–¹æ¡ˆ
- æ”¯æŒå¤§è§„æ¨¡é›†ç¾¤
- å†…ç½®ç½‘ç»œç­–ç•¥åŠŸèƒ½

**Flannelç½‘ç»œ**ï¼š
- ç®€å•æ˜“ç”¨çš„è¦†ç›–ç½‘ç»œ
- æ”¯æŒå¤šç§åç«¯å­˜å‚¨
- é€‚åˆä¸­å°è§„æ¨¡é›†ç¾¤

**Weaveç½‘ç»œ**ï¼š
- è‡ªåŠ¨æœåŠ¡å‘ç°
- å†…ç½®DNSæœåŠ¡
- æ”¯æŒç½‘ç»œåˆ†æ®µ

---

## 9. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 9.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ ç½‘ç»œæ¨¡å¼é€‰æ‹©ï¼šæ ¹æ®æ€§èƒ½ã€éš”ç¦»å’Œå¤æ‚åº¦éœ€æ±‚é€‰æ‹©åˆé€‚æ¨¡å¼
ğŸ”¸ è‡ªå®šä¹‰ç½‘ç»œï¼šä¸ºåº”ç”¨åˆ›å»ºä¸“å±ç½‘ç»œç¯å¢ƒï¼Œæ”¯æŒDNSè§£æ
ğŸ”¸ æœåŠ¡é€šä¿¡ï¼šå®¹å™¨é—´é€šè¿‡åç§°é€šä¿¡ï¼Œå®ç°æœåŠ¡è§£è€¦
ğŸ”¸ è´Ÿè½½å‡è¡¡ï¼šå¤šå®ä¾‹æœåŠ¡çš„è¯·æ±‚åˆ†å‘å’Œé«˜å¯ç”¨
ğŸ”¸ ç½‘ç»œéš”ç¦»ï¼šä¸åŒç¯å¢ƒå’Œå±‚çº§çš„ç½‘ç»œå®‰å…¨éš”ç¦»
ğŸ”¸ è·¨ä¸»æœºé€šä¿¡ï¼šä½¿ç”¨Overlayç½‘ç»œå®ç°åˆ†å¸ƒå¼éƒ¨ç½²
```

### 9.2 ç½‘ç»œæ¨¡å¼é€‰æ‹©æŒ‡å—


| åœºæ™¯éœ€æ±‚ | **æ¨èæ¨¡å¼** | **åŸå› ** |
|---------|------------|----------|
| å•æœºå¼€å‘æµ‹è¯• | `è‡ªå®šä¹‰Bridge` | éš”ç¦»æ€§å¥½ï¼Œæ”¯æŒDNS |
| é«˜æ€§èƒ½åº”ç”¨ | `Hostæ¨¡å¼` | ç½‘ç»œæ€§èƒ½æœ€ä½³ |
| å¾®æœåŠ¡æ¶æ„ | `è‡ªå®šä¹‰Bridge` | æœåŠ¡å‘ç°ï¼Œç½‘ç»œéš”ç¦» |
| å¤šä¸»æœºé›†ç¾¤ | `Overlayç½‘ç»œ` | è·¨ä¸»æœºé€æ˜é€šä¿¡ |
| å®‰å…¨è¦æ±‚é«˜ | `è‡ªå®šä¹‰ç½‘ç»œ+é˜²ç«å¢™` | å¤šå±‚éš”ç¦»å’Œè®¿é—®æ§åˆ¶ |

### 9.3 æœ€ä½³å®è·µå»ºè®®


**ç½‘ç»œè§„åˆ’åŸåˆ™**ï¼š
- ğŸ¯ **æŒ‰ç¯å¢ƒéš”ç¦»**ï¼šå¼€å‘ã€æµ‹è¯•ã€ç”Ÿäº§ä½¿ç”¨ç‹¬ç«‹ç½‘ç»œ
- ğŸ¯ **æŒ‰å±‚çº§éš”ç¦»**ï¼šå‰ç«¯ã€åç«¯ã€æ•°æ®åº“åˆ†å±‚ç½‘ç»œè®¾è®¡
- ğŸ¯ **æœ€å°æƒé™åŸåˆ™**ï¼šåªå¼€æ”¾å¿…è¦çš„ç½‘ç»œè®¿é—®æƒé™
- ğŸ¯ **æ ‡å‡†åŒ–å‘½å**ï¼šä½¿ç”¨æ¸…æ™°çš„ç½‘ç»œå’ŒæœåŠ¡å‘½åè§„èŒƒ

**æ€§èƒ½ä¼˜åŒ–è¦ç‚¹**ï¼š
- âš¡ **å‡å°‘ç½‘ç»œè·³è½¬**ï¼šç›¸å…³æœåŠ¡éƒ¨ç½²åœ¨åŒä¸€ç½‘ç»œ
- âš¡ **åˆç†ä½¿ç”¨Hostæ¨¡å¼**ï¼šå¯¹æ€§èƒ½æ•æ„Ÿçš„æœåŠ¡è€ƒè™‘Hostç½‘ç»œ
- âš¡ **è´Ÿè½½å‡è¡¡é…ç½®**ï¼šé¿å…å•ç‚¹ç“¶é¢ˆï¼Œå®ç°æ°´å¹³æ‰©å±•
- âš¡ **ç½‘ç»œç›‘æ§**ï¼šå®šæœŸæ£€æŸ¥ç½‘ç»œæ€§èƒ½å’Œè¿é€šæ€§

**å®‰å…¨é…ç½®è¦ç‚¹**ï¼š
- ğŸ” **ç½‘ç»œåˆ†æ®µ**ï¼šæ•æ„ŸæœåŠ¡ä½¿ç”¨ç‹¬ç«‹ç½‘ç»œ
- ğŸ” **è®¿é—®æ§åˆ¶**ï¼šé…ç½®é˜²ç«å¢™è§„åˆ™é™åˆ¶ä¸å¿…è¦çš„è®¿é—®
- ğŸ” **åŠ å¯†é€šä¿¡**ï¼šæ•æ„Ÿæ•°æ®ä¼ è¾“ä½¿ç”¨TLSåŠ å¯†
- ğŸ” **å®šæœŸå®¡è®¡**ï¼šæ£€æŸ¥ç½‘ç»œé…ç½®å’Œè®¿é—®æ—¥å¿—

### 9.4 å¸¸è§é—®é¢˜æ’æŸ¥


**å®¹å™¨æ— æ³•é€šä¿¡**ï¼š
1. æ£€æŸ¥å®¹å™¨æ˜¯å¦åœ¨åŒä¸€ç½‘ç»œï¼š`docker network inspect network-name`
2. ç¡®è®¤å®¹å™¨æœåŠ¡ç«¯å£ç›‘å¬ï¼š`docker exec container netstat -tlnp`
3. æµ‹è¯•ç½‘ç»œè¿é€šæ€§ï¼š`docker exec container ping target-container`

**DNSè§£æå¤±è´¥**ï¼š
1. ç¡®è®¤ä½¿ç”¨è‡ªå®šä¹‰ç½‘ç»œè€Œéé»˜è®¤bridge
2. æ£€æŸ¥å®¹å™¨åç§°æ˜¯å¦æ­£ç¡®
3. éªŒè¯DNSé…ç½®ï¼š`docker exec container nslookup target-container`

**è·¨ä¸»æœºé€šä¿¡é—®é¢˜**ï¼š
1. ç¡®è®¤Swarmé›†ç¾¤çŠ¶æ€ï¼š`docker node ls`
2. æ£€æŸ¥Overlayç½‘ç»œé…ç½®ï¼š`docker network ls`
3. éªŒè¯ä¸»æœºé—´ç½‘ç»œè¿é€šï¼š`ping target-host`

**æ ¸å¿ƒè®°å¿†**ï¼š
- è‡ªå®šä¹‰ç½‘ç»œæ”¯æŒDNSï¼Œé»˜è®¤bridgeä¸æ”¯æŒ
- ä¸åŒç½‘ç»œé»˜è®¤éš”ç¦»ï¼Œéœ€è¦æ‰‹åŠ¨è¿æ¥æ‰èƒ½é€šä¿¡
- Hostæ¨¡å¼æ€§èƒ½æœ€å¥½ä½†éš”ç¦»æ€§æœ€å·®
- Overlayç½‘ç»œå®ç°è·¨ä¸»æœºé€æ˜é€šä¿¡
- ç½‘ç»œå®‰å…¨éœ€è¦å¤šå±‚é˜²æŠ¤å’Œæœ€å°æƒé™åŸåˆ™