---
title: 6ã€å¤šå®¹å™¨åº”ç”¨ç¼–æ’ä¸docker-compose
---
## ğŸ“š ç›®å½•

1. [Docker ComposeåŸºç¡€æ¦‚å¿µ](#1-Docker-ComposeåŸºç¡€æ¦‚å¿µ)
2. [docker-compose.ymlæ–‡ä»¶ç¼–å†™è¯¦è§£](#2-docker-compose.ymlæ–‡ä»¶ç¼–å†™è¯¦è§£)
3. [æœåŠ¡å®šä¹‰ä¸ä¾èµ–å…³ç³»ç®¡ç†](#3-æœåŠ¡å®šä¹‰ä¸ä¾èµ–å…³ç³»ç®¡ç†)
4. [ç¯å¢ƒå˜é‡æ–‡ä»¶ç®¡ç†](#4-ç¯å¢ƒå˜é‡æ–‡ä»¶ç®¡ç†)
5. [å¤šç¯å¢ƒé…ç½®ç®¡ç†](#5-å¤šç¯å¢ƒé…ç½®ç®¡ç†)
6. [æœåŠ¡æ‰©ç¼©å®¹æ“ä½œ](#6-æœåŠ¡æ‰©ç¼©å®¹æ“ä½œ)
7. [æ»šåŠ¨æ›´æ–°ä¸é›¶åœæœºéƒ¨ç½²](#7-æ»šåŠ¨æ›´æ–°ä¸é›¶åœæœºéƒ¨ç½²)
8. [ç¼–æ’æ–‡ä»¶ç‰ˆæœ¬æ§åˆ¶](#8-ç¼–æ’æ–‡ä»¶ç‰ˆæœ¬æ§åˆ¶)
9. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#9-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ³ Docker ComposeåŸºç¡€æ¦‚å¿µ


### 1.1 ä»€ä¹ˆæ˜¯Docker Compose


**å®šä¹‰**ï¼šDocker Composeæ˜¯ä¸€ä¸ªç”¨äº**å®šä¹‰å’Œè¿è¡Œå¤šå®¹å™¨Dockeråº”ç”¨**çš„å·¥å…·

```
ç®€å•ç†è§£ï¼š
â€¢ å•å®¹å™¨ï¼šä¸€ä¸ªåº”ç”¨ä¸€ä¸ªå®¹å™¨ï¼Œæ‰‹åŠ¨ç®¡ç†
â€¢ å¤šå®¹å™¨ï¼šå‰ç«¯+åç«¯+æ•°æ®åº“ï¼Œéœ€è¦åè°ƒç®¡ç†
â€¢ Composeï¼šç”¨ä¸€ä¸ªæ–‡ä»¶å®šä¹‰æ‰€æœ‰å®¹å™¨ï¼Œä¸€é”®å¯åŠ¨æ•´ä¸ªåº”ç”¨
```

**æ ¸å¿ƒä½œç”¨**ï¼š
- ğŸ”¸ **ç¼–æ’ç®¡ç†**ï¼šç»Ÿä¸€ç®¡ç†å¤šä¸ªç›¸å…³å®¹å™¨
- ğŸ”¸ **ç®€åŒ–éƒ¨ç½²**ï¼šä¸€æ¡å‘½ä»¤å¯åŠ¨æ•´ä¸ªåº”ç”¨æ ˆ
- ğŸ”¸ **ç¯å¢ƒä¸€è‡´**ï¼šå¼€å‘ã€æµ‹è¯•ã€ç”Ÿäº§ç¯å¢ƒä¿æŒä¸€è‡´
- ğŸ”¸ **ä¾èµ–ç®¡ç†**ï¼šè‡ªåŠ¨å¤„ç†å®¹å™¨é—´çš„å¯åŠ¨é¡ºåºå’Œä¾èµ–

### 1.2 ä¸ºä»€ä¹ˆéœ€è¦Docker Compose


**ä¼ ç»Ÿå¤šå®¹å™¨ç®¡ç†çš„é—®é¢˜**ï¼š
```
æ‰‹åŠ¨å¯åŠ¨å¤šä¸ªå®¹å™¨ï¼š
docker run -d --name database mysql:8.0
docker run -d --name backend --link database backend:latest  
docker run -d --name frontend -p 80:80 frontend:latest

é—®é¢˜ï¼š
Ã— å‘½ä»¤å¤æ‚ï¼Œå®¹æ˜“å‡ºé”™
Ã— å®¹å™¨é—´ç½‘ç»œé…ç½®éº»çƒ¦
Ã— éš¾ä»¥ç®¡ç†å®¹å™¨ç”Ÿå‘½å‘¨æœŸ
Ã— ä¸åŒç¯å¢ƒé…ç½®ä¸ä¸€è‡´
```

**Composeè§£å†³æ–¹æ¡ˆ**ï¼š
```yaml
# docker-compose.yml
version: '3.8'
services:
  database:
    image: mysql:8.0
  backend:
    image: backend:latest
    depends_on:
      - database
  frontend:
    image: frontend:latest
    ports:
      - "80:80"
```

**ä½¿ç”¨æ–¹å¼**ï¼š
```bash
# ä¸€é”®å¯åŠ¨æ‰€æœ‰æœåŠ¡
docker-compose up

# ä¸€é”®åœæ­¢æ‰€æœ‰æœåŠ¡
docker-compose down
```

### 1.3 æ ¸å¿ƒæ¦‚å¿µç†è§£


**ğŸ”¸ Projectï¼ˆé¡¹ç›®ï¼‰**
```
æ¦‚å¿µï¼šä¸€ç»„ç›¸å…³çš„æœåŠ¡ç»„æˆä¸€ä¸ªé¡¹ç›®
ä¾‹å­ï¼šç”µå•†ç½‘ç«™ = å‰ç«¯ + API + æ•°æ®åº“ + ç¼“å­˜
æ ‡è¯†ï¼šé€šå¸¸ä»¥ç›®å½•åä½œä¸ºé¡¹ç›®å
```

**ğŸ”¸ Serviceï¼ˆæœåŠ¡ï¼‰**
```
æ¦‚å¿µï¼šé¡¹ç›®ä¸­çš„ä¸€ä¸ªç»„ä»¶ï¼Œå¯ä»¥è¿è¡Œå¤šä¸ªå®¹å™¨å®ä¾‹
ä¾‹å­ï¼šwebæœåŠ¡ã€æ•°æ®åº“æœåŠ¡ã€ç¼“å­˜æœåŠ¡
ç‰¹ç‚¹ï¼šæ¯ä¸ªæœåŠ¡å¯ä»¥æ‰©å±•ä¸ºå¤šä¸ªå®¹å™¨å®ä¾‹
```

**ğŸ”¸ Containerï¼ˆå®¹å™¨ï¼‰**
```
æ¦‚å¿µï¼šæœåŠ¡çš„å…·ä½“è¿è¡Œå®ä¾‹
å…³ç³»ï¼šä¸€ä¸ªæœåŠ¡å¯ä»¥æœ‰å¤šä¸ªå®¹å™¨å®ä¾‹
ä¾‹å­ï¼šwebæœåŠ¡æ‰©å±•ä¸º3ä¸ªå®¹å™¨å®ä¾‹å¤„ç†æ›´å¤šè¯·æ±‚
```

---

## 2. ğŸ“ docker-compose.ymlæ–‡ä»¶ç¼–å†™è¯¦è§£


### 2.1 æ–‡ä»¶åŸºæœ¬ç»“æ„


**æ ‡å‡†ç»“æ„**ï¼š
```yaml
# æŒ‡å®šComposeæ–‡ä»¶æ ¼å¼ç‰ˆæœ¬
version: '3.8'

# å®šä¹‰æœåŠ¡
services:
  æœåŠ¡å1:
    # æœåŠ¡é…ç½®
  æœåŠ¡å2:
    # æœåŠ¡é…ç½®

# å®šä¹‰ç½‘ç»œï¼ˆå¯é€‰ï¼‰
networks:
  ç½‘ç»œå:
    # ç½‘ç»œé…ç½®

# å®šä¹‰æ•°æ®å·ï¼ˆå¯é€‰ï¼‰
volumes:
  æ•°æ®å·å:
    # æ•°æ®å·é…ç½®
```

### 2.2 ç‰ˆæœ¬é€‰æ‹©è¯´æ˜


| ç‰ˆæœ¬ | **Docker Engineç‰ˆæœ¬** | **ä¸»è¦ç‰¹æ€§** | **æ¨èä½¿ç”¨** |
|------|---------------------|-------------|-------------|
| `3.8` | `19.03.0+` | `æœ€æ–°ç‰¹æ€§æ”¯æŒ` | `âœ… æ¨è` |
| `3.7` | `18.06.0+` | `ç¨³å®šæ€§å¥½` | `âœ… å¯ç”¨` |
| `3.3` | `17.06.0+` | `åŸºç¡€åŠŸèƒ½` | `âš ï¸ è¾ƒæ—§` |

### 2.3 æœåŠ¡é…ç½®è¯¦è§£


**ğŸ”¸ é•œåƒä¸æ„å»ºé…ç½®**
```yaml
services:
  # ä½¿ç”¨ç°æˆé•œåƒ
  web:
    image: nginx:1.20
    
  # ä»Dockerfileæ„å»º
  app:
    build: .                    # å½“å‰ç›®å½•çš„Dockerfile
    # æˆ–è€…è¯¦ç»†é…ç½®
    build:
      context: ./app           # æ„å»ºä¸Šä¸‹æ–‡
      dockerfile: Dockerfile   # Dockerfileè·¯å¾„
      args:                    # æ„å»ºå‚æ•°
        NODE_ENV: production
```

**ğŸ”¸ ç«¯å£æ˜ å°„é…ç½®**
```yaml
services:
  web:
    ports:
      - "8080:80"              # ä¸»æœº8080 -> å®¹å™¨80
      - "443:443"              # HTTPSç«¯å£
      - "127.0.0.1:3000:3000" # ç»‘å®šåˆ°æœ¬åœ°IP
```

**ğŸ”¸ ç¯å¢ƒå˜é‡é…ç½®**
```yaml
services:
  app:
    environment:
      - NODE_ENV=production    # æ–¹å¼1ï¼šç›´æ¥è®¾ç½®
      - DEBUG=false
    env_file:
      - .env                   # æ–¹å¼2ï¼šä»æ–‡ä»¶è¯»å–
      - .env.production
```

**ğŸ”¸ æ•°æ®å·æŒ‚è½½**
```yaml
services:
  database:
    volumes:
      - db_data:/var/lib/mysql          # å‘½åå·
      - ./config:/etc/mysql/conf.d      # ç»‘å®šæŒ‚è½½
      - /var/log/mysql                  # åŒ¿åå·

volumes:
  db_data:                              # å®šä¹‰å‘½åå·
```

### 2.4 å®é™…åº”ç”¨ç¤ºä¾‹


**å®Œæ•´çš„Webåº”ç”¨æ ˆ**ï¼š
```yaml
version: '3.8'

services:
  # å‰ç«¯æœåŠ¡
  frontend:
    build: ./frontend
    ports:
      - "3000:3000"
    environment:
      - REACT_APP_API_URL=http://localhost:8000
    depends_on:
      - backend

  # åç«¯APIæœåŠ¡
  backend:
    build: ./backend
    ports:
      - "8000:8000"
    environment:
      - DATABASE_URL=mysql://user:pass@database:3306/myapp
      - REDIS_URL=redis://redis:6379
    depends_on:
      - database
      - redis

  # æ•°æ®åº“æœåŠ¡
  database:
    image: mysql:8.0
    environment:
      - MYSQL_ROOT_PASSWORD=rootpass
      - MYSQL_DATABASE=myapp
      - MYSQL_USER=user
      - MYSQL_PASSWORD=pass
    volumes:
      - db_data:/var/lib/mysql
    ports:
      - "3306:3306"

  # ç¼“å­˜æœåŠ¡
  redis:
    image: redis:6.2
    ports:
      - "6379:6379"

volumes:
  db_data:
```

---

## 3. ğŸ”— æœåŠ¡å®šä¹‰ä¸ä¾èµ–å…³ç³»ç®¡ç†


### 3.1 æœåŠ¡ä¾èµ–å…³ç³»


**ğŸ”¸ depends_onåŸºç¡€ç”¨æ³•**
```yaml
services:
  web:
    build: .
    depends_on:
      - database      # webæœåŠ¡ä¾èµ–databaseæœåŠ¡
      - redis
    
  database:
    image: mysql:8.0
    
  redis:
    image: redis:6.2
```

**å¯åŠ¨é¡ºåº**ï¼š
```
å¯åŠ¨é¡ºåºï¼šdatabaseã€redis -> web
åœæ­¢é¡ºåºï¼šweb -> databaseã€redis

æ³¨æ„ï¼šdepends_onåªä¿è¯å¯åŠ¨é¡ºåºï¼Œä¸ç­‰å¾…æœåŠ¡å°±ç»ªï¼
```

**ğŸ”¸ å¥åº·æ£€æŸ¥é…ç½®**
```yaml
services:
  database:
    image: mysql:8.0
    environment:
      - MYSQL_ROOT_PASSWORD=password
    healthcheck:
      test: ["CMD", "mysqladmin", "ping", "-h", "localhost"]
      timeout: 10s
      retries: 5
      start_period: 30s
      interval: 10s
    
  web:
    build: .
    depends_on:
      database:
        condition: service_healthy    # ç­‰å¾…æ•°æ®åº“å¥åº·
```

### 3.2 ç½‘ç»œé€šä¿¡é…ç½®


**ğŸ”¸ é»˜è®¤ç½‘ç»œè¡Œä¸º**
```
Composeè‡ªåŠ¨åˆ›å»ºç½‘ç»œï¼š
é¡¹ç›®å_default

æœåŠ¡é—´é€šä¿¡ï¼š
â€¢ ä½¿ç”¨æœåŠ¡åä½œä¸ºä¸»æœºå
â€¢ ä¾‹ï¼šdatabaseæœåŠ¡å¯é€šè¿‡'database'è®¿é—®
â€¢ è‡ªåŠ¨DNSè§£æ
```

**ğŸ”¸ è‡ªå®šä¹‰ç½‘ç»œ**
```yaml
version: '3.8'

services:
  frontend:
    image: nginx
    networks:
      - frontend-net      # åªè¿æ¥å‰ç«¯ç½‘ç»œ
      
  backend:
    image: node:14
    networks:
      - frontend-net      # è¿æ¥å‰ç«¯ç½‘ç»œï¼ˆæ¥æ”¶è¯·æ±‚ï¼‰
      - backend-net       # è¿æ¥åç«¯ç½‘ç»œï¼ˆè®¿é—®æ•°æ®åº“ï¼‰
      
  database:
    image: mysql:8.0
    networks:
      - backend-net       # åªè¿æ¥åç«¯ç½‘ç»œï¼ˆå®‰å…¨éš”ç¦»ï¼‰

networks:
  frontend-net:
    driver: bridge
  backend-net:
    driver: bridge
```

**ç½‘ç»œéš”ç¦»æ•ˆæœ**ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              frontend-net                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚frontend â”‚ â†----------â†’ â”‚ backend â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              backend-net     â”‚           â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚           â”‚
â”‚              â”‚ backend â”‚ â†â”€â”€â”€â”˜           â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â”‚                   â”‚                     â”‚
â”‚                   â†“                     â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚              â”‚database â”‚                 â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.3 æœåŠ¡å‘ç°ä¸è´Ÿè½½å‡è¡¡


**ğŸ”¸ æœåŠ¡å‘ç°**
```yaml
services:
  web:
    build: .
    environment:
      # ä½¿ç”¨æœåŠ¡åè¿æ¥æ•°æ®åº“
      - DB_HOST=database
      - REDIS_HOST=redis
      
  database:
    image: mysql:8.0
    
  redis:
    image: redis:6.2
```

**ğŸ”¸ å†…ç½®è´Ÿè½½å‡è¡¡**
```bash
# æ‰©å±•webæœåŠ¡ä¸º3ä¸ªå®ä¾‹
docker-compose up --scale web=3

# Composeè‡ªåŠ¨è´Ÿè½½å‡è¡¡åˆ°3ä¸ªå®ä¾‹
# å…¶ä»–æœåŠ¡è®¿é—®'web'æ—¶ä¼šè‡ªåŠ¨åˆ†å‘è¯·æ±‚
```

---

## 4. ğŸ”§ ç¯å¢ƒå˜é‡æ–‡ä»¶ç®¡ç†


### 4.1 .envæ–‡ä»¶åŸºç¡€


**æ–‡ä»¶ä½œç”¨**ï¼šå­˜å‚¨ç¯å¢ƒç›¸å…³çš„é…ç½®å˜é‡ï¼Œé¿å…ç¡¬ç¼–ç 

**åŸºç¡€ç”¨æ³•**ï¼š
```bash
# .envæ–‡ä»¶
MYSQL_ROOT_PASSWORD=mySecretPassword
MYSQL_DATABASE=myapp
NODE_ENV=production
API_PORT=8000
```

```yaml
# docker-compose.yml
version: '3.8'
services:
  database:
    image: mysql:8.0
    environment:
      - MYSQL_ROOT_PASSWORD=${MYSQL_ROOT_PASSWORD}
      - MYSQL_DATABASE=${MYSQL_DATABASE}
      
  api:
    build: .
    ports:
      - "${API_PORT}:8000"
    environment:
      - NODE_ENV=${NODE_ENV}
```

### 4.2 å¤šæ–‡ä»¶ç®¡ç†ç­–ç•¥


**æ–‡ä»¶ç»„ç»‡ç»“æ„**ï¼š
```
project/
â”œâ”€â”€ docker-compose.yml
â”œâ”€â”€ .env                    # é»˜è®¤ç¯å¢ƒå˜é‡
â”œâ”€â”€ .env.development        # å¼€å‘ç¯å¢ƒ
â”œâ”€â”€ .env.staging           # æµ‹è¯•ç¯å¢ƒ
â”œâ”€â”€ .env.production        # ç”Ÿäº§ç¯å¢ƒ
â””â”€â”€ .env.local             # æœ¬åœ°è¦†ç›–ï¼ˆä¸æäº¤åˆ°gitï¼‰
```

**ä½¿ç”¨æŒ‡å®šç¯å¢ƒæ–‡ä»¶**ï¼š
```bash
# ä½¿ç”¨å¼€å‘ç¯å¢ƒé…ç½®
docker-compose --env-file .env.development up

# ä½¿ç”¨ç”Ÿäº§ç¯å¢ƒé…ç½®  
docker-compose --env-file .env.production up
```

### 4.3 ç¯å¢ƒå˜é‡ä¼˜å…ˆçº§


**ä¼˜å…ˆçº§é¡ºåº**ï¼ˆé«˜åˆ°ä½ï¼‰ï¼š
1. **Shellç¯å¢ƒå˜é‡**
2. **docker-compose.ymlä¸­çš„environment**
3. **env_fileæŒ‡å®šçš„æ–‡ä»¶**
4. **.envæ–‡ä»¶**

**ç¤ºä¾‹æ¼”ç¤º**ï¼š
```bash
# Shellä¸­è®¾ç½®
export NODE_ENV=development

# .envæ–‡ä»¶ä¸­
NODE_ENV=production

# æœ€ç»ˆå®¹å™¨ä¸­NODE_ENV=developmentï¼ˆShellä¼˜å…ˆçº§æ›´é«˜ï¼‰
```

### 4.4 æ•æ„Ÿä¿¡æ¯ç®¡ç†


**ğŸ”¸ ä½¿ç”¨Docker Secrets**
```yaml
version: '3.8'
services:
  app:
    image: myapp
    secrets:
      - db_password
    environment:
      - DB_PASSWORD_FILE=/run/secrets/db_password

secrets:
  db_password:
    file: ./secrets/db_password.txt
```

**ğŸ”¸ .env.exampleæ¨¡æ¿**
```bash
# .env.exampleæ–‡ä»¶ï¼ˆæäº¤åˆ°gitï¼‰
MYSQL_ROOT_PASSWORD=changeme
MYSQL_DATABASE=myapp
NODE_ENV=development
API_PORT=8000

# å›¢é˜Ÿæˆå‘˜å¤åˆ¶ä¸º.envæ–‡ä»¶å¹¶ä¿®æ”¹å®é™…å€¼
```

---

## 5. ğŸŒ å¤šç¯å¢ƒé…ç½®ç®¡ç†


### 5.1 ç¯å¢ƒé…ç½®ç­–ç•¥


**ğŸ”¸ ç»§æ‰¿å¼é…ç½®**
```yaml
# docker-compose.ymlï¼ˆåŸºç¡€é…ç½®ï¼‰
version: '3.8'
services:
  web:
    build: .
    environment:
      - NODE_ENV=production
      
  database:
    image: mysql:8.0
```

```yaml
# docker-compose.override.ymlï¼ˆå¼€å‘ç¯å¢ƒè¦†ç›–ï¼‰
version: '3.8'
services:
  web:
    ports:
      - "3000:3000"        # å¼€å‘ç¯å¢ƒæš´éœ²ç«¯å£
    volumes:
      - .:/app             # å¼€å‘ç¯å¢ƒæŒ‚è½½ä»£ç 
    environment:
      - NODE_ENV=development
      
  database:
    ports:
      - "3306:3306"        # å¼€å‘ç¯å¢ƒæš´éœ²æ•°æ®åº“
```

**ä½¿ç”¨æ–¹å¼**ï¼š
```bash
# å¼€å‘ç¯å¢ƒï¼ˆè‡ªåŠ¨åŠ è½½overrideæ–‡ä»¶ï¼‰
docker-compose up

# ç”Ÿäº§ç¯å¢ƒï¼ˆåªä½¿ç”¨åŸºç¡€é…ç½®ï¼‰
docker-compose -f docker-compose.yml up
```

### 5.2 å¤šæ–‡ä»¶ç»„åˆé…ç½®


**æ–‡ä»¶ç»„ç»‡**ï¼š
```
project/
â”œâ”€â”€ docker-compose.yml          # åŸºç¡€é…ç½®
â”œâ”€â”€ docker-compose.dev.yml      # å¼€å‘ç¯å¢ƒ
â”œâ”€â”€ docker-compose.staging.yml  # æµ‹è¯•ç¯å¢ƒ
â”œâ”€â”€ docker-compose.prod.yml     # ç”Ÿäº§ç¯å¢ƒ
â””â”€â”€ docker-compose.override.yml # æœ¬åœ°è¦†ç›–
```

**ç”Ÿäº§ç¯å¢ƒé…ç½®ç¤ºä¾‹**ï¼š
```yaml
# docker-compose.prod.yml
version: '3.8'
services:
  web:
    restart: always           # ç”Ÿäº§ç¯å¢ƒè‡ªåŠ¨é‡å¯
    logging:
      driver: "json-file"
      options:
        max-size: "10m"
        max-file: "3"
        
  database:
    restart: always
    volumes:
      - /data/mysql:/var/lib/mysql  # ç”Ÿäº§ç¯å¢ƒæ•°æ®æŒä¹…åŒ–
```

**ä½¿ç”¨å‘½ä»¤**ï¼š
```bash
# å¼€å‘ç¯å¢ƒ
docker-compose up

# æµ‹è¯•ç¯å¢ƒ
docker-compose -f docker-compose.yml -f docker-compose.staging.yml up

# ç”Ÿäº§ç¯å¢ƒ
docker-compose -f docker-compose.yml -f docker-compose.prod.yml up
```

### 5.3 é…ç½®éªŒè¯ä¸è°ƒè¯•


**ğŸ”¸ é…ç½®éªŒè¯**
```bash
# éªŒè¯é…ç½®æ–‡ä»¶è¯­æ³•
docker-compose config

# æŸ¥çœ‹æœ€ç»ˆåˆå¹¶åçš„é…ç½®
docker-compose -f docker-compose.yml -f docker-compose.prod.yml config

# éªŒè¯ç‰¹å®šæœåŠ¡é…ç½®
docker-compose config --services
```

**ğŸ”¸ è°ƒè¯•æŠ€å·§**
```bash
# æŸ¥çœ‹ç¯å¢ƒå˜é‡æ˜¯å¦æ­£ç¡®åŠ è½½
docker-compose exec web env

# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
docker-compose ps

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs web
```

---

## 6. âš¡ æœåŠ¡æ‰©ç¼©å®¹æ“ä½œ


### 6.1 æ°´å¹³æ‰©ç¼©å®¹


**åŸºç¡€æ‰©ç¼©å®¹å‘½ä»¤**ï¼š
```bash
# æ‰©å±•webæœåŠ¡åˆ°3ä¸ªå®ä¾‹
docker-compose up --scale web=3

# æ‰©å±•å¤šä¸ªæœåŠ¡
docker-compose up --scale web=3 --scale worker=2

# ç¼©å‡åˆ°1ä¸ªå®ä¾‹
docker-compose up --scale web=1
```

**å®é™…æ•ˆæœ**ï¼š
```
æ‰©å®¹å‰ï¼š
myapp_web_1

æ‰©å®¹åï¼š
myapp_web_1
myapp_web_2  
myapp_web_3
```

### 6.2 æ‰©ç¼©å®¹é…ç½®


**ğŸ”¸ é…ç½®å¯æ‰©å±•çš„æœåŠ¡**
```yaml
version: '3.8'
services:
  web:
    build: .
    # ä¸è¦æŒ‡å®šå›ºå®šç«¯å£ï¼Œé¿å…ç«¯å£å†²çª
    environment:
      - NODE_ENV=production
    depends_on:
      - database
      
  nginx:
    image: nginx
    ports:
      - "80:80"          # è´Ÿè½½å‡è¡¡å™¨å¯ä»¥å›ºå®šç«¯å£
    volumes:
      - ./nginx.conf:/etc/nginx/nginx.conf
    depends_on:
      - web
      
  database:
    image: mysql:8.0
    # æ•°æ®åº“é€šå¸¸ä¸æ‰©å±•ï¼Œä¿æŒå•å®ä¾‹
```

**ğŸ”¸ Nginxè´Ÿè½½å‡è¡¡é…ç½®**
```nginx
# nginx.conf
upstream web_backend {
    server web:3000;      # Composeä¼šè‡ªåŠ¨è´Ÿè½½å‡è¡¡åˆ°å¤šä¸ªå®ä¾‹
}

server {
    listen 80;
    location / {
        proxy_pass http://web_backend;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
}
```

### 6.3 æ‰©ç¼©å®¹æœ€ä½³å®è·µ


**ğŸ”¸ æ— çŠ¶æ€æœåŠ¡è®¾è®¡**
```yaml
services:
  web:
    build: .
    environment:
      - SESSION_STORE=redis    # ä½¿ç”¨å¤–éƒ¨ä¼šè¯å­˜å‚¨
      - UPLOAD_DIR=/shared     # ä½¿ç”¨å…±äº«å­˜å‚¨
    volumes:
      - shared_data:/shared    # å…±äº«æ–‡ä»¶å­˜å‚¨
    depends_on:
      - redis
      - database

volumes:
  shared_data:
```

**ğŸ”¸ å¥åº·æ£€æŸ¥é…ç½®**
```yaml
services:
  web:
    build: .
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:3000/health"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 40s
```

**ğŸ”¸ åŠ¨æ€æ‰©ç¼©å®¹è„šæœ¬**
```bash
#!/bin/bash
# scale.sh

SERVICE=$1
SCALE=$2

if [ -z "$SERVICE" ] || [ -z "$SCALE" ]; then
    echo "Usage: ./scale.sh <service_name> <instance_count>"
    exit 1
fi

echo "Scaling $SERVICE to $SCALE instances..."
docker-compose up -d --scale $SERVICE=$SCALE

echo "Current status:"
docker-compose ps $SERVICE
```

---

## 7. ğŸ”„ æ»šåŠ¨æ›´æ–°ä¸é›¶åœæœºéƒ¨ç½²


### 7.1 æ»šåŠ¨æ›´æ–°ç­–ç•¥


**æ»šåŠ¨æ›´æ–°åŸç†**ï¼š
```
ä¼ ç»Ÿæ›´æ–°ï¼šåœæ­¢æ‰€æœ‰ -> æ›´æ–° -> å¯åŠ¨æ‰€æœ‰ï¼ˆæœ‰åœæœºæ—¶é—´ï¼‰

æ»šåŠ¨æ›´æ–°ï¼š
æ­¥éª¤1ï¼šå¯åŠ¨æ–°ç‰ˆæœ¬å®ä¾‹
æ­¥éª¤2ï¼šå¥åº·æ£€æŸ¥é€šè¿‡åï¼Œç§»é™¤æ—§ç‰ˆæœ¬å®ä¾‹
æ­¥éª¤3ï¼šé‡å¤ç›´åˆ°æ‰€æœ‰å®ä¾‹æ›´æ–°å®Œæˆ
```

**åŸºç¡€æ»šåŠ¨æ›´æ–°**ï¼š
```bash
# æ„å»ºæ–°é•œåƒ
docker-compose build web

# æ»šåŠ¨æ›´æ–°ï¼ˆé€ä¸ªæ›¿æ¢å®¹å™¨ï¼‰
docker-compose up -d --no-deps web

# æŸ¥çœ‹æ›´æ–°çŠ¶æ€
docker-compose ps web
```

### 7.2 é›¶åœæœºéƒ¨ç½²é…ç½®


**ğŸ”¸ å¥åº·æ£€æŸ¥é…ç½®**
```yaml
version: '3.8'
services:
  web:
    build: .
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:3000/health"]
      interval: 10s          # æ£€æŸ¥é—´éš”
      timeout: 5s            # è¶…æ—¶æ—¶é—´
      retries: 3             # é‡è¯•æ¬¡æ•°
      start_period: 30s      # å¯åŠ¨ç­‰å¾…æœŸ
    deploy:
      replicas: 3            # è¿è¡Œ3ä¸ªå®ä¾‹
      update_config:
        parallelism: 1       # æ¯æ¬¡æ›´æ–°1ä¸ªå®ä¾‹
        delay: 10s           # æ›´æ–°é—´éš”
        failure_action: rollback
        monitor: 60s
      restart_policy:
        condition: on-failure
```

**ğŸ”¸ åº”ç”¨å¥åº·æ£€æŸ¥ç«¯ç‚¹**
```javascript
// Express.jså¥åº·æ£€æŸ¥ç¤ºä¾‹
app.get('/health', (req, res) => {
    // æ£€æŸ¥æ•°æ®åº“è¿æ¥
    database.ping((err) => {
        if (err) {
            return res.status(503).json({ 
                status: 'unhealthy', 
                error: 'database connection failed' 
            });
        }
        
        res.json({ 
            status: 'healthy',
            timestamp: new Date().toISOString(),
            version: process.env.APP_VERSION
        });
    });
});
```

### 7.3 è“ç»¿éƒ¨ç½²å®ç°


**ğŸ”¸ åŒç¯å¢ƒé…ç½®**
```yaml
# docker-compose.blue.ymlï¼ˆè“è‰²ç¯å¢ƒï¼‰
version: '3.8'
services:
  web-blue:
    build: .
    container_name: web-blue
    environment:
      - APP_VERSION=blue
      - PORT=3001

# docker-compose.green.ymlï¼ˆç»¿è‰²ç¯å¢ƒï¼‰
version: '3.8'
services:
  web-green:
    build: .
    container_name: web-green
    environment:
      - APP_VERSION=green
      - PORT=3002
      
  nginx:
    image: nginx
    ports:
      - "80:80"
    volumes:
      - ./nginx.conf:/etc/nginx/nginx.conf
```

**ğŸ”¸ è“ç»¿åˆ‡æ¢è„šæœ¬**
```bash
#!/bin/bash
# blue-green-deploy.sh

CURRENT=$(docker-compose ps -q web 2>/dev/null)
if [ -z "$CURRENT" ]; then
    # é¦–æ¬¡éƒ¨ç½²ï¼Œå¯åŠ¨è“è‰²ç¯å¢ƒ
    echo "Starting blue environment..."
    docker-compose -f docker-compose.blue.yml up -d
    ACTIVE="blue"
else
    # æ£€æŸ¥å½“å‰ç¯å¢ƒ
    BLUE_RUNNING=$(docker-compose -f docker-compose.blue.yml ps -q web-blue 2>/dev/null)
    if [ -n "$BLUE_RUNNING" ]; then
        # è“è‰²åœ¨è¿è¡Œï¼Œåˆ‡æ¢åˆ°ç»¿è‰²
        echo "Deploying green environment..."
        docker-compose -f docker-compose.green.yml up -d
        
        # ç­‰å¾…å¥åº·æ£€æŸ¥
        sleep 30
        
        # åˆ‡æ¢æµé‡å¹¶åœæ­¢è“è‰²
        echo "Switching traffic to green..."
        # æ›´æ–°Nginxé…ç½®æŒ‡å‘ç»¿è‰²
        docker-compose -f docker-compose.blue.yml down
        ACTIVE="green"
    else
        # ç»¿è‰²åœ¨è¿è¡Œï¼Œåˆ‡æ¢åˆ°è“è‰²
        echo "Deploying blue environment..."
        docker-compose -f docker-compose.blue.yml up -d
        sleep 30
        echo "Switching traffic to blue..."
        docker-compose -f docker-compose.green.yml down
        ACTIVE="blue"
    fi
fi

echo "Deployment complete. Active environment: $ACTIVE"
```

### 7.4 å›æ»šç­–ç•¥


**ğŸ”¸ å¿«é€Ÿå›æ»š**
```bash
# æ ‡è®°å½“å‰ç‰ˆæœ¬
docker tag myapp:latest myapp:backup-$(date +%Y%m%d-%H%M%S)

# å›æ»šåˆ°å‰ä¸€ä¸ªç‰ˆæœ¬
docker-compose down
docker tag myapp:previous myapp:latest
docker-compose up -d

# éªŒè¯å›æ»šç»“æœ
docker-compose ps
docker-compose logs web
```

**ğŸ”¸ ç‰ˆæœ¬ç®¡ç†ç­–ç•¥**
```bash
# æ„å»ºæ—¶æ ‡è®°ç‰ˆæœ¬
docker-compose build web
docker tag myproject_web:latest myproject_web:v1.2.3

# éƒ¨ç½²ç‰¹å®šç‰ˆæœ¬
export APP_VERSION=v1.2.3
docker-compose up -d
```

---

## 8. ğŸ“‹ ç¼–æ’æ–‡ä»¶ç‰ˆæœ¬æ§åˆ¶


### 8.1 Gitç‰ˆæœ¬æ§åˆ¶æœ€ä½³å®è·µ


**ğŸ”¸ æ–‡ä»¶æäº¤ç­–ç•¥**
```bash
# åº”è¯¥æäº¤çš„æ–‡ä»¶
git add docker-compose.yml
git add docker-compose.prod.yml  
git add docker-compose.staging.yml
git add .env.example
git add Dockerfile

# ä¸åº”è¯¥æäº¤çš„æ–‡ä»¶ï¼ˆ.gitignoreï¼‰
.env
.env.local
.env.*.local
docker-compose.override.yml    # ä¸ªäººé…ç½®
```

**ğŸ”¸ .gitignoreé…ç½®**
```bash
# .gitignore
# ç¯å¢ƒå˜é‡æ–‡ä»¶
.env
.env.local
.env.development.local
.env.test.local
.env.production.local

# ä¸ªäººé…ç½®è¦†ç›–
docker-compose.override.yml

# æ•°æ®å·
/data/
/logs/
/backups/

# è¿è¡Œæ—¶æ–‡ä»¶
*.pid
*.log
```

### 8.2 ç‰ˆæœ¬ç®¡ç†å·¥ä½œæµ


**ğŸ”¸ å¼€å‘å·¥ä½œæµ**
```bash
# 1. æ‹‰å–æœ€æ–°ä»£ç 
git pull origin main

# 2. åˆ›å»ºä¸ªäººé…ç½®ï¼ˆä¸æäº¤ï¼‰
cp .env.example .env
# ç¼–è¾‘.envæ–‡ä»¶è®¾ç½®ä¸ªäººé…ç½®

# 3. å¯åŠ¨å¼€å‘ç¯å¢ƒ
docker-compose up

# 4. ä¿®æ”¹é…ç½®æ–‡ä»¶
git add docker-compose.yml
git commit -m "feat: add redis service to compose"

# 5. æ¨é€æ›´æ”¹
git push origin feature/add-redis
```

**ğŸ”¸ ç¯å¢ƒåŒæ­¥ç­–ç•¥**
```bash
# å¼€å‘ç¯å¢ƒé…ç½®æ›´æ–°
git pull origin main
docker-compose pull        # æ‹‰å–æœ€æ–°é•œåƒ
docker-compose up -d       # é‡å¯æœåŠ¡

# ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²
git checkout v1.2.3        # åˆ‡æ¢åˆ°å‘å¸ƒç‰ˆæœ¬
docker-compose -f docker-compose.yml -f docker-compose.prod.yml pull
docker-compose -f docker-compose.yml -f docker-compose.prod.yml up -d
```

### 8.3 é…ç½®æ–‡ä»¶æ¨¡æ¿åŒ–


**ğŸ”¸ æ¨¡æ¿æ–‡ä»¶ç»„ç»‡**
```
project/
â”œâ”€â”€ docker-compose.yml.template    # æ¨¡æ¿æ–‡ä»¶
â”œâ”€â”€ .env.template                  # ç¯å¢ƒå˜é‡æ¨¡æ¿
â”œâ”€â”€ generate-config.sh             # é…ç½®ç”Ÿæˆè„šæœ¬
â””â”€â”€ configs/
    â”œâ”€â”€ development.env
    â”œâ”€â”€ staging.env
    â””â”€â”€ production.env
```

**ğŸ”¸ é…ç½®ç”Ÿæˆè„šæœ¬**
```bash
#!/bin/bash
# generate-config.sh

ENVIRONMENT=${1:-development}
CONFIG_FILE="configs/${ENVIRONMENT}.env"

if [ ! -f "$CONFIG_FILE" ]; then
    echo "Config file $CONFIG_FILE not found!"
    exit 1
fi

# åŠ è½½ç¯å¢ƒå˜é‡
source "$CONFIG_FILE"

# ç”Ÿæˆdocker-compose.yml
envsubst < docker-compose.yml.template > docker-compose.yml

# ç”Ÿæˆ.envæ–‡ä»¶
envsubst < .env.template > .env

echo "Generated configuration for $ENVIRONMENT environment"
```

### 8.4 å¤šåˆ†æ”¯ç¯å¢ƒç®¡ç†


**åˆ†æ”¯ç­–ç•¥**ï¼š
```
mainåˆ†æ”¯      -> ç”Ÿäº§ç¯å¢ƒ
stagingåˆ†æ”¯   -> æµ‹è¯•ç¯å¢ƒ  
developåˆ†æ”¯   -> å¼€å‘ç¯å¢ƒ
feature/*     -> åŠŸèƒ½å¼€å‘
```

**è‡ªåŠ¨éƒ¨ç½²é…ç½®**ï¼š
```yaml
# .github/workflows/deploy.yml
name: Deploy
on:
  push:
    branches: [main, staging, develop]

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      
      - name: Deploy to production
        if: github.ref == 'refs/heads/main'
        run: |
          docker-compose -f docker-compose.yml -f docker-compose.prod.yml up -d
          
      - name: Deploy to staging  
        if: github.ref == 'refs/heads/staging'
        run: |
          docker-compose -f docker-compose.yml -f docker-compose.staging.yml up -d
```

---

## 9. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 9.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ Docker Composeï¼šå¤šå®¹å™¨åº”ç”¨çš„ç¼–æ’å·¥å…·ï¼Œä¸€ä¸ªæ–‡ä»¶å®šä¹‰æ•´ä¸ªåº”ç”¨æ ˆ
ğŸ”¸ æœåŠ¡ä¾èµ–ï¼šé€šè¿‡depends_onå’Œå¥åº·æ£€æŸ¥ç®¡ç†å¯åŠ¨é¡ºåº
ğŸ”¸ ç¯å¢ƒç®¡ç†ï¼šä½¿ç”¨.envæ–‡ä»¶å’Œå¤šé…ç½®æ–‡ä»¶ç®¡ç†ä¸åŒç¯å¢ƒ
ğŸ”¸ ç½‘ç»œé€šä¿¡ï¼šæœåŠ¡é—´é€šè¿‡æœåŠ¡åé€šä¿¡ï¼Œæ”¯æŒè‡ªå®šä¹‰ç½‘ç»œéš”ç¦»
ğŸ”¸ æ‰©ç¼©å®¹ï¼šæ°´å¹³æ‰©å±•æœåŠ¡å®ä¾‹ï¼Œé…åˆè´Ÿè½½å‡è¡¡å®ç°é«˜å¯ç”¨
ğŸ”¸ é›¶åœæœºéƒ¨ç½²ï¼šæ»šåŠ¨æ›´æ–°å’Œè“ç»¿éƒ¨ç½²ä¿è¯æœåŠ¡è¿ç»­æ€§
```

### 9.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ docker-compose.ymlæ–‡ä»¶ç»“æ„**
```
æ ¸å¿ƒç†è§£ï¼š
â€¢ version: æŒ‡å®šæ–‡ä»¶æ ¼å¼ç‰ˆæœ¬
â€¢ services: å®šä¹‰æ‰€æœ‰åº”ç”¨ç»„ä»¶
â€¢ networks: è‡ªå®šä¹‰ç½‘ç»œé…ç½®
â€¢ volumes: æ•°æ®æŒä¹…åŒ–é…ç½®
```

**ğŸ”¹ ç¯å¢ƒå˜é‡ä¼˜å…ˆçº§**
```
ä¼˜å…ˆçº§é¡ºåºï¼š
Shellç¯å¢ƒå˜é‡ > environmenté…ç½® > env_file > .envæ–‡ä»¶
ç†è§£è¿™ä¸ªé¡ºåºæœ‰åŠ©äºè°ƒè¯•é…ç½®é—®é¢˜
```

**ğŸ”¹ æœåŠ¡å‘ç°æœºåˆ¶**
```
å…³é”®æ¦‚å¿µï¼š
â€¢ æœåŠ¡åå³ä¸»æœºåï¼šdatabaseæœåŠ¡é€šè¿‡'database'è®¿é—®
â€¢ è‡ªåŠ¨DNSè§£æï¼šComposeå†…ç½®DNSæœåŠ¡
â€¢ ç½‘ç»œéš”ç¦»ï¼šä¸åŒç½‘ç»œé—´çš„æœåŠ¡æ— æ³•äº’è®¿
```

### 9.3 å®é™…åº”ç”¨ä»·å€¼


**ğŸ’¼ å¼€å‘ç¯å¢ƒæ ‡å‡†åŒ–**
- å›¢é˜Ÿæˆå‘˜ç¯å¢ƒä¸€è‡´ï¼šé¿å…"åœ¨æˆ‘æœºå™¨ä¸Šèƒ½è·‘"é—®é¢˜
- æ–°äººå¿«é€Ÿä¸Šæ‰‹ï¼šä¸€é”®å¯åŠ¨å®Œæ•´å¼€å‘ç¯å¢ƒ
- æœåŠ¡ä¾èµ–ç®¡ç†ï¼šè‡ªåŠ¨åŒ–å¤„ç†å¤æ‚çš„æœåŠ¡å¯åŠ¨é¡ºåº

**ğŸš€ éƒ¨ç½²æµç¨‹ç®€åŒ–**  
- ä¸€é”®éƒ¨ç½²ï¼šä»å¼€å‘åˆ°ç”Ÿäº§ç¯å¢ƒä¸€è‡´çš„éƒ¨ç½²ä½“éªŒ
- ç¯å¢ƒéš”ç¦»ï¼šå¼€å‘ã€æµ‹è¯•ã€ç”Ÿäº§ç¯å¢ƒé…ç½®åˆ†ç¦»
- å›æ»šç­–ç•¥ï¼šå¿«é€Ÿå›é€€åˆ°ç¨³å®šç‰ˆæœ¬

**ğŸ“ˆ è¿ç»´æ•ˆç‡æå‡**
- æœåŠ¡ç›‘æ§ï¼šç»Ÿä¸€çš„æ—¥å¿—å’ŒçŠ¶æ€ç®¡ç†
- æ‰©ç¼©å®¹ï¼šæ ¹æ®è´Ÿè½½åŠ¨æ€è°ƒæ•´æœåŠ¡å®ä¾‹
- é›¶åœæœºï¼šæ»šåŠ¨æ›´æ–°ä¿è¯æœåŠ¡è¿ç»­æ€§

### 9.4 å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥


| å‘½ä»¤ | **åŠŸèƒ½è¯´æ˜** | **ä½¿ç”¨åœºæ™¯** |
|------|------------|------------|
| `docker-compose up` | `å¯åŠ¨æ‰€æœ‰æœåŠ¡` | `æ—¥å¸¸å¼€å‘å¯åŠ¨` |
| `docker-compose up -d` | `åå°å¯åŠ¨æœåŠ¡` | `ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²` |
| `docker-compose down` | `åœæ­¢å¹¶åˆ é™¤æœåŠ¡` | `æ¸…ç†ç¯å¢ƒ` |
| `docker-compose ps` | `æŸ¥çœ‹æœåŠ¡çŠ¶æ€` | `çŠ¶æ€æ£€æŸ¥` |
| `docker-compose logs <service>` | `æŸ¥çœ‹æœåŠ¡æ—¥å¿—` | `é—®é¢˜æ’æŸ¥` |
| `docker-compose exec <service> bash` | `è¿›å…¥æœåŠ¡å®¹å™¨` | `è°ƒè¯•é—®é¢˜` |
| `docker-compose build` | `æ„å»ºè‡ªå®šä¹‰é•œåƒ` | `ä»£ç æ›´æ–°` |
| `docker-compose pull` | `æ‹‰å–æœ€æ–°é•œåƒ` | `æ›´æ–°ä¾èµ–` |

### 9.5 æœ€ä½³å®è·µå»ºè®®


**ğŸ¯ é…ç½®ç®¡ç†**
- ä½¿ç”¨.env.exampleæ¨¡æ¿æ–‡ä»¶ï¼Œé¿å…æ•æ„Ÿä¿¡æ¯æ³„éœ²
- å¤šç¯å¢ƒé…ç½®åˆ†ç¦»ï¼Œä¿è¯é…ç½®çš„å¯ç»´æŠ¤æ€§
- ç‰ˆæœ¬æ§åˆ¶ä¸­æ’é™¤ä¸ªäººé…ç½®å’Œæ•æ„Ÿä¿¡æ¯

**âš¡ æ€§èƒ½ä¼˜åŒ–**
- åˆç†è®¾è®¡æœåŠ¡ä¾èµ–å…³ç³»ï¼Œé¿å…ä¸å¿…è¦çš„å¯åŠ¨ç­‰å¾…
- ä½¿ç”¨å¥åº·æ£€æŸ¥ä¿è¯æœåŠ¡å¯ç”¨æ€§
- é…ç½®åˆé€‚çš„èµ„æºé™åˆ¶é¿å…èµ„æºç«äº‰

**ğŸ”’ å®‰å…¨è€ƒè™‘**
- ä½¿ç”¨è‡ªå®šä¹‰ç½‘ç»œéš”ç¦»ä¸åŒå±‚çº§çš„æœåŠ¡
- æ•æ„Ÿä¿¡æ¯ä½¿ç”¨Docker Secretsç®¡ç†
- å®šæœŸæ›´æ–°é•œåƒç‰ˆæœ¬ï¼Œä¿®å¤å®‰å…¨æ¼æ´

**æ ¸å¿ƒè®°å¿†**ï¼š
- Composeè®©å¤šå®¹å™¨ç®¡ç†å˜ç®€å•ï¼Œä¸€ä¸ªæ–‡ä»¶å®šä¹‰æ•´ä¸ªåº”ç”¨
- æœåŠ¡é—´é€šä¿¡é æœåŠ¡åï¼Œä¾èµ–å…³ç³»è¦é…å¥½
- ç¯å¢ƒå˜é‡åˆ†å±‚ç®¡ç†ï¼Œä¸åŒç¯å¢ƒä¸åŒé…ç½®
- æ‰©ç¼©å®¹é…åˆè´Ÿè½½å‡è¡¡ï¼Œé›¶åœæœºéƒ¨ç½²ä¿ç¨³å®š