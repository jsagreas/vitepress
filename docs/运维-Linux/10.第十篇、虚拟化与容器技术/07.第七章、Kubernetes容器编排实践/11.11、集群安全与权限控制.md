---
title: 11ã€é›†ç¾¤å®‰å…¨ä¸æƒé™æ§åˆ¶
---
## ğŸ“š ç›®å½•

1. [é›†ç¾¤å®‰å…¨æ¦‚è¿°](#1-é›†ç¾¤å®‰å…¨æ¦‚è¿°)
2. [RBACè§’è‰²ä¸æƒé™é…ç½®](#2-RBACè§’è‰²ä¸æƒé™é…ç½®)
3. [ServiceAccountæœåŠ¡è´¦æˆ·ç®¡ç†](#3-ServiceAccountæœåŠ¡è´¦æˆ·ç®¡ç†)
4. [å‡†å…¥æ§åˆ¶å™¨AdmissionController](#4-å‡†å…¥æ§åˆ¶å™¨AdmissionController)
5. [Podå®‰å…¨ç­–ç•¥PodSecurityPolicy](#5-Podå®‰å…¨ç­–ç•¥PodSecurityPolicy)
6. [ç½‘ç»œå®‰å…¨ç­–ç•¥é…ç½®](#6-ç½‘ç»œå®‰å…¨ç­–ç•¥é…ç½®)
7. [é•œåƒå®‰å…¨æ‰«æä¸ç­–ç•¥](#7-é•œåƒå®‰å…¨æ‰«æä¸ç­–ç•¥)
8. [è¯ä¹¦ç®¡ç†ä¸è½®æ¢æœºåˆ¶](#8-è¯ä¹¦ç®¡ç†ä¸è½®æ¢æœºåˆ¶)
9. [å®¡è®¡æ—¥å¿—é…ç½®ä¸åˆ†æ](#9-å®¡è®¡æ—¥å¿—é…ç½®ä¸åˆ†æ)
10. [å®‰å…¨åŸºçº¿æ£€æŸ¥ä¸åˆè§„](#10-å®‰å…¨åŸºçº¿æ£€æŸ¥ä¸åˆè§„)
11. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#11-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ›¡ï¸ é›†ç¾¤å®‰å…¨æ¦‚è¿°


### 1.1 Kuberneteså®‰å…¨æ¨¡å‹


**å®‰å…¨çš„æœ¬è´¨**ï¼šä¿æŠ¤é›†ç¾¤èµ„æºä¸è¢«æœªæˆæƒè®¿é—®ã€ä¿®æ”¹æˆ–ç ´å

```
Kuberneteså®‰å…¨é˜²æŠ¤å±‚æ¬¡ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          ç”¨æˆ·/åº”ç”¨å±‚              â”‚ â† åº”ç”¨å®‰å…¨ã€å¯†é’¥ç®¡ç†
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚          APIæœåŠ¡å™¨å±‚              â”‚ â† è®¤è¯ã€æˆæƒã€å‡†å…¥æ§åˆ¶
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚          å®¹å™¨è¿è¡Œæ—¶å±‚              â”‚ â† Podå®‰å…¨ã€é•œåƒå®‰å…¨
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚          ç½‘ç»œå±‚                  â”‚ â† ç½‘ç»œç­–ç•¥ã€åŠ å¯†ä¼ è¾“
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚          ä¸»æœºç³»ç»Ÿå±‚              â”‚ â† èŠ‚ç‚¹å®‰å…¨ã€ç³»ç»ŸåŠ å›º
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.2 å®‰å…¨å¨èƒåˆ†æ


**å¸¸è§å®‰å…¨é£é™©**ï¼š
- **æƒé™æ»¥ç”¨**ï¼šè¿‡åº¦æˆæƒå¯¼è‡´çš„å®‰å…¨éšæ‚£
- **å®¹å™¨é€ƒé€¸**ï¼šæ¶æ„å®¹å™¨çªç ´éš”ç¦»è®¿é—®å®¿ä¸»æœº
- **ç½‘ç»œæ”»å‡»**ï¼šæœªæˆæƒçš„ç½‘ç»œè®¿é—®å’Œæ•°æ®æ³„éœ²
- **é•œåƒæ¼æ´**ï¼šä½¿ç”¨åŒ…å«å®‰å…¨æ¼æ´çš„å®¹å™¨é•œåƒ
- **é…ç½®é”™è¯¯**ï¼šä¸å®‰å…¨çš„é»˜è®¤é…ç½®æˆ–é”™è¯¯é…ç½®

**å®‰å…¨é˜²æŠ¤åŸåˆ™**ï¼š
```
ğŸ”¸ æœ€å°æƒé™åŸåˆ™ï¼šåªç»™å¿…éœ€çš„æœ€å°æƒé™
ğŸ”¸ æ·±åº¦é˜²å¾¡ï¼šå¤šå±‚å®‰å…¨é˜²æŠ¤ï¼Œä¸€å±‚å¤±æ•ˆä¸å½±å“æ•´ä½“
ğŸ”¸ é›¶ä¿¡ä»»æ¨¡å‹ï¼šä¸ä¿¡ä»»ä»»ä½•ç”¨æˆ·å’Œè®¾å¤‡ï¼Œéƒ½éœ€è¦éªŒè¯
ğŸ”¸ æŒç»­ç›‘æ§ï¼šå®æ—¶ç›‘æ§å¼‚å¸¸è¡Œä¸ºå’Œå®‰å…¨äº‹ä»¶
```

---

## 2. ğŸ‘¤ RBACè§’è‰²ä¸æƒé™é…ç½®


### 2.1 RBACåŸºæœ¬æ¦‚å¿µ


**RBACï¼ˆRole-Based Access Controlï¼‰**ï¼šåŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶

```
RBACæ ¸å¿ƒç»„ä»¶å…³ç³»å›¾ï¼š
     User/Group/ServiceAccount
              â†“ ç»‘å®š
           RoleBinding/ClusterRoleBinding  
              â†“ å…³è”
            Role/ClusterRole
              â†“ å®šä¹‰
          Resources + Verbsï¼ˆæƒé™ï¼‰
```

**æ ¸å¿ƒæ¦‚å¿µè§£é‡Š**ï¼š
- **Subjectï¼ˆä¸»ä½“ï¼‰**ï¼šè¦è·å¾—æƒé™çš„å¯¹è±¡ï¼Œå¯ä»¥æ˜¯ç”¨æˆ·ã€ç”¨æˆ·ç»„ã€æˆ–ServiceAccount
- **Role/ClusterRoleï¼ˆè§’è‰²ï¼‰**ï¼šå®šä¹‰äº†ä¸€ç»„æƒé™è§„åˆ™
- **RoleBinding/ClusterRoleBindingï¼ˆç»‘å®šï¼‰**ï¼šå°†è§’è‰²åˆ†é…ç»™ä¸»ä½“
- **Resourcesï¼ˆèµ„æºï¼‰**ï¼šKubernetesä¸­çš„å¯¹è±¡ï¼Œå¦‚podsã€servicesç­‰
- **Verbsï¼ˆåŠ¨ä½œï¼‰**ï¼šå¯¹èµ„æºå¯ä»¥æ‰§è¡Œçš„æ“ä½œï¼Œå¦‚getã€listã€createç­‰

### 2.2 è§’è‰²ç±»å‹è¯¦è§£


**Role vs ClusterRole**ï¼š
```
Roleï¼ˆå‘½åç©ºé—´çº§åˆ«ï¼‰ï¼š
âœ… åªèƒ½è®¿é—®ç‰¹å®šå‘½åç©ºé—´çš„èµ„æº
âœ… é€‚åˆéƒ¨é—¨çº§åˆ«çš„æƒé™æ§åˆ¶
âœ… ä¾‹ï¼šå¼€å‘å›¢é˜Ÿåªèƒ½ç®¡ç†devå‘½åç©ºé—´

ClusterRoleï¼ˆé›†ç¾¤çº§åˆ«ï¼‰ï¼š
âœ… å¯ä»¥è®¿é—®æ•´ä¸ªé›†ç¾¤çš„èµ„æº
âœ… å¯ä»¥è®¿é—®éå‘½åç©ºé—´èµ„æºï¼ˆå¦‚nodesã€PVç­‰ï¼‰
âœ… ä¾‹ï¼šé›†ç¾¤ç®¡ç†å‘˜è§’è‰²
```

**æƒé™åŠ¨ä½œè¯´æ˜**ï¼š
| åŠ¨ä½œ | å«ä¹‰ | å¸¸ç”¨åœºæ™¯ |
|------|------|----------|
| `get` | è·å–å•ä¸ªèµ„æº | æŸ¥çœ‹Podè¯¦æƒ… |
| `list` | åˆ—å‡ºèµ„æºåˆ—è¡¨ | æŸ¥çœ‹æ‰€æœ‰Pod |
| `watch` | ç›‘è§†èµ„æºå˜åŒ– | å®æ—¶ç›‘æ§èµ„æºçŠ¶æ€ |
| `create` | åˆ›å»ºèµ„æº | éƒ¨ç½²æ–°åº”ç”¨ |
| `update` | æ›´æ–°èµ„æº | ä¿®æ”¹é…ç½® |
| `patch` | éƒ¨åˆ†æ›´æ–°èµ„æº | æ·»åŠ æ ‡ç­¾ |
| `delete` | åˆ é™¤èµ„æº | æ¸…ç†èµ„æº |

### 2.3 å®é™…é…ç½®ç¤ºä¾‹


**åˆ›å»ºå¼€å‘äººå‘˜è§’è‰²**ï¼š
```yaml
# å¼€å‘äººå‘˜è§’è‰²å®šä¹‰
apiVersion: rbac.authorization.k8s.io/v1
kind: Role
metadata:
  namespace: development
  name: developer
rules:
- apiGroups: [""]  # æ ¸å¿ƒAPIç»„
  resources: ["pods", "services", "configmaps", "secrets"]
  verbs: ["get", "list", "create", "update", "delete"]
- apiGroups: ["apps"]
  resources: ["deployments", "replicasets"]
  verbs: ["get", "list", "create", "update", "delete", "patch"]
```

**ç»‘å®šç”¨æˆ·åˆ°è§’è‰²**ï¼š
```yaml
# è§’è‰²ç»‘å®šé…ç½®
apiVersion: rbac.authorization.k8s.io/v1
kind: RoleBinding
metadata:
  name: developer-binding
  namespace: development
subjects:
- kind: User
  name: john-developer  # ç”¨æˆ·å
  apiGroup: rbac.authorization.k8s.io
- kind: ServiceAccount
  name: app-service-account  # æœåŠ¡è´¦æˆ·
  namespace: development
roleRef:
  kind: Role
  name: developer
  apiGroup: rbac.authorization.k8s.io
```

### 2.4 å¸¸ç”¨è§’è‰²æ¨¡æ¿


**åªè¯»è§’è‰²**ï¼š
```yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: Role
metadata:
  namespace: production
  name: reader
rules:
- apiGroups: ["*"]
  resources: ["*"]
  verbs: ["get", "list", "watch"]  # åªè¯»æƒé™
```

**åº”ç”¨éƒ¨ç½²è§’è‰²**ï¼š
```yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  name: app-deployer
rules:
- apiGroups: [""]
  resources: ["pods", "services", "configmaps", "secrets"]
  verbs: ["*"]  # æ‰€æœ‰æ“ä½œ
- apiGroups: ["apps"]
  resources: ["deployments", "daemonsets", "statefulsets"]
  verbs: ["*"]
- apiGroups: ["networking.k8s.io"]
  resources: ["ingresses"]
  verbs: ["get", "list", "create", "update"]
```

---

## 3. ğŸ”‘ ServiceAccountæœåŠ¡è´¦æˆ·ç®¡ç†


### 3.1 ServiceAccountåŸºæœ¬æ¦‚å¿µ


**ä»€ä¹ˆæ˜¯ServiceAccount**ï¼šä¸ºPodä¸­è¿è¡Œçš„åº”ç”¨ç¨‹åºæä¾›èº«ä»½æ ‡è¯†

```
ServiceAccountä½œç”¨æœºåˆ¶ï¼š
Podå¯åŠ¨ â†’ è‡ªåŠ¨æŒ‚è½½ServiceAccount â†’ è·å–è®¿é—®Token â†’ è°ƒç”¨K8s API

é»˜è®¤æƒ…å†µï¼š
æ¯ä¸ªå‘½åç©ºé—´éƒ½æœ‰ä¸€ä¸ªdefault ServiceAccount
Podå¦‚æœä¸æŒ‡å®šï¼Œå°±ä½¿ç”¨default ServiceAccount
```

### 3.2 ServiceAccountåˆ›å»ºä¸é…ç½®


**åˆ›å»ºè‡ªå®šä¹‰ServiceAccount**ï¼š
```yaml
apiVersion: v1
kind: ServiceAccount
metadata:
  name: app-service-account
  namespace: production
automountServiceAccountToken: true  # æ˜¯å¦è‡ªåŠ¨æŒ‚è½½token
```

**åœ¨Podä¸­ä½¿ç”¨ServiceAccount**ï¼š
```yaml
apiVersion: v1
kind: Pod
metadata:
  name: app-pod
spec:
  serviceAccountName: app-service-account  # æŒ‡å®šä½¿ç”¨çš„ServiceAccount
  containers:
  - name: app
    image: nginx:1.20
```

### 3.3 Tokenç®¡ç†


**æŸ¥çœ‹ServiceAccount Token**ï¼š
```bash
# æŸ¥çœ‹ServiceAccountè¯¦æƒ…
kubectl describe serviceaccount app-service-account -n production

# è·å–tokenå†…å®¹
kubectl get secret $(kubectl get serviceaccount app-service-account -n production -o jsonpath='{.secrets[0].name}') -n production -o jsonpath='{.data.token}' | base64 --decode
```

**ç¦ç”¨è‡ªåŠ¨æŒ‚è½½Tokenï¼ˆå®‰å…¨è€ƒè™‘ï¼‰**ï¼š
```yaml
apiVersion: v1
kind: ServiceAccount
metadata:
  name: restricted-account
automountServiceAccountToken: false  # ç¦ç”¨è‡ªåŠ¨æŒ‚è½½
```

---

## 4. ğŸšª å‡†å…¥æ§åˆ¶å™¨AdmissionController


### 4.1 å‡†å…¥æ§åˆ¶å™¨æ¦‚å¿µ


**å‡†å…¥æ§åˆ¶å™¨**ï¼šåœ¨APIè¯·æ±‚è¢«æŒä¹…åŒ–åˆ°etcdä¹‹å‰ï¼Œå¯¹è¯·æ±‚è¿›è¡Œæœ€åçš„éªŒè¯å’Œä¿®æ”¹

```
APIè¯·æ±‚å¤„ç†æµç¨‹ï¼š
å®¢æˆ·ç«¯è¯·æ±‚ â†’ è®¤è¯ â†’ æˆæƒ â†’ å‡†å…¥æ§åˆ¶ â†’ æŒä¹…åŒ–åˆ°etcd

å‡†å…¥æ§åˆ¶å™¨ç±»å‹ï¼š
ğŸ”¸ éªŒè¯å‡†å…¥æ§åˆ¶å™¨ï¼šéªŒè¯è¯·æ±‚æ˜¯å¦åˆè§„ï¼Œä¸åˆè§„å°±æ‹’ç»
ğŸ”¸ ä¿®æ”¹å‡†å…¥æ§åˆ¶å™¨ï¼šå¯ä»¥ä¿®æ”¹è¯·æ±‚å†…å®¹ï¼Œç„¶åç»§ç»­å¤„ç†
```

### 4.2 å¸¸ç”¨å‡†å…¥æ§åˆ¶å™¨


**å†…ç½®å‡†å…¥æ§åˆ¶å™¨**ï¼š
```yaml
# APIæœåŠ¡å™¨å¯åŠ¨å‚æ•°ç¤ºä¾‹
--enable-admission-plugins=NodeRestriction,ResourceQuota,PodSecurityPolicy,MutatingAdmissionWebhook,ValidatingAdmissionWebhook
```

**é‡è¦å‡†å…¥æ§åˆ¶å™¨è¯´æ˜**ï¼š
- **NodeRestriction**ï¼šé™åˆ¶kubeletåªèƒ½ä¿®æ”¹è‡ªå·±èŠ‚ç‚¹ä¸Šçš„Pod
- **ResourceQuota**ï¼šå¼ºåˆ¶æ‰§è¡Œå‘½åç©ºé—´èµ„æºé…é¢
- **PodSecurityPolicy**ï¼šæ‰§è¡ŒPodå®‰å…¨ç­–ç•¥
- **LimitRanger**ï¼šå¼ºåˆ¶æ‰§è¡Œèµ„æºé™åˆ¶
- **AlwaysPullImages**ï¼šå¼ºåˆ¶æ€»æ˜¯æ‹‰å–é•œåƒ

### 4.3 è‡ªå®šä¹‰å‡†å…¥æ§åˆ¶å™¨


**éªŒè¯Webhookç¤ºä¾‹**ï¼š
```yaml
apiVersion: admissionregistration.k8s.io/v1
kind: ValidatingAdmissionWebhook
metadata:
  name: custom-validator
webhooks:
- name: validate.example.com
  clientConfig:
    service:
      name: webhook-service
      namespace: default
      path: "/validate"
  rules:
  - operations: ["CREATE", "UPDATE"]
    apiGroups: [""]
    apiVersions: ["v1"]
    resources: ["pods"]
```

**ä¿®æ”¹Webhookç¤ºä¾‹**ï¼š
```yaml
apiVersion: admissionregistration.k8s.io/v1
kind: MutatingAdmissionWebhook
metadata:
  name: custom-mutator
webhooks:
- name: mutate.example.com
  clientConfig:
    service:
      name: webhook-service
      namespace: default
      path: "/mutate"
  rules:
  - operations: ["CREATE"]
    apiGroups: [""]
    apiVersions: ["v1"]
    resources: ["pods"]
```

---

## 5. ğŸ”’ Podå®‰å…¨ç­–ç•¥PodSecurityPolicy


### 5.1 PodSecurityPolicyæ¦‚å¿µ


**PodSecurityPolicyï¼ˆPSPï¼‰**ï¼šå®šä¹‰Podå¿…é¡»æ»¡è¶³çš„å®‰å…¨æ¡ä»¶æ‰èƒ½è¢«åˆ›å»º

> âš ï¸ **é‡è¦æé†’**ï¼šPodSecurityPolicyåœ¨Kubernetes 1.25ç‰ˆæœ¬ä¸­å·²è¢«å¼ƒç”¨ï¼Œæ¨èä½¿ç”¨Pod Security Standards

### 5.2 PSPé…ç½®ç¤ºä¾‹


**å—é™åˆ¶çš„PSP**ï¼š
```yaml
apiVersion: policy/v1beta1
kind: PodSecurityPolicy
metadata:
  name: restricted
spec:
  privileged: false  # ä¸å…è®¸ç‰¹æƒå®¹å™¨
  runAsUser:
    rule: MustRunAsNonRoot  # å¿…é¡»ä»¥érootç”¨æˆ·è¿è¡Œ
  seLinux:
    rule: RunAsAny
  volumes:
    - configMap
    - emptyDir
    - projected
    - secret
    - downwardAPI
    - persistentVolumeClaim
  # ç¦æ­¢æŒ‚è½½ä¸»æœºè·¯å¾„
  hostNetwork: false
  hostIPC: false
  hostPID: false
```

**å®½æ¾çš„PSPï¼ˆç”¨äºç³»ç»Ÿç»„ä»¶ï¼‰**ï¼š
```yaml
apiVersion: policy/v1beta1
kind: PodSecurityPolicy
metadata:
  name: privileged
spec:
  privileged: true  # å…è®¸ç‰¹æƒå®¹å™¨
  allowPrivilegeEscalation: true
  allowedCapabilities:
  - '*'
  volumes:
  - '*'
  hostNetwork: true
  hostPorts:
  - min: 0
    max: 65535
  hostIPC: true
  hostPID: true
  runAsUser:
    rule: RunAsAny
```

### 5.3 Pod Security Standardsï¼ˆæ–°æ ‡å‡†ï¼‰


**ä¸‰ä¸ªå®‰å…¨çº§åˆ«**ï¼š
```
ğŸ”¸ Privilegedï¼šæ— é™åˆ¶ï¼Œå…è®¸å·²çŸ¥çš„æƒé™æå‡
ğŸ”¸ Baselineï¼šç¦æ­¢å·²çŸ¥çš„æƒé™æå‡ï¼Œå…è®¸é»˜è®¤ï¼ˆæœ€å°ï¼‰Podé…ç½®
ğŸ”¸ Restrictedï¼šä¸¥æ ¼é™åˆ¶ï¼Œéµå¾ªå½“å‰Podå®‰å…¨æœ€ä½³å®è·µ
```

**é…ç½®Pod Security Standards**ï¼š
```yaml
apiVersion: v1
kind: Namespace
metadata:
  name: secure-namespace
  labels:
    pod-security.kubernetes.io/enforce: restricted
    pod-security.kubernetes.io/audit: restricted
    pod-security.kubernetes.io/warn: restricted
```

---

## 6. ğŸŒ ç½‘ç»œå®‰å…¨ç­–ç•¥é…ç½®


### 6.1 ç½‘ç»œç­–ç•¥æ¦‚å¿µ


**NetworkPolicy**ï¼šå®šä¹‰Podä¹‹é—´çš„ç½‘ç»œé€šä¿¡è§„åˆ™ï¼Œå®ç°å¾®åˆ†æ®µ

```
ç½‘ç»œç­–ç•¥å·¥ä½œåŸç†ï¼š
é»˜è®¤æƒ…å†µï¼šPodä¹‹é—´å¯ä»¥è‡ªç”±é€šä¿¡
åº”ç”¨NetworkPolicyåï¼šåªæœ‰æ˜ç¡®å…è®¸çš„æµé‡æ‰èƒ½é€šè¿‡

æµé‡æ–¹å‘ï¼š
ğŸ”¸ Ingressï¼šè¿›å…¥Podçš„æµé‡
ğŸ”¸ Egressï¼šä»Podå‡ºå»çš„æµé‡
```

### 6.2 ç½‘ç»œç­–ç•¥é…ç½®


**æ‹’ç»æ‰€æœ‰æµé‡ï¼ˆé»˜è®¤æ‹’ç»ï¼‰**ï¼š
```yaml
apiVersion: networking.k8s.io/v1
kind: NetworkPolicy
metadata:
  name: deny-all
  namespace: production
spec:
  podSelector: {}  # é€‰æ‹©æ‰€æœ‰Pod
  policyTypes:
  - Ingress
  - Egress
  # ä¸å®šä¹‰å…·ä½“è§„åˆ™ï¼Œç›¸å½“äºæ‹’ç»æ‰€æœ‰
```

**å…è®¸ç‰¹å®šåº”ç”¨é—´é€šä¿¡**ï¼š
```yaml
apiVersion: networking.k8s.io/v1
kind: NetworkPolicy
metadata:
  name: web-db-policy
  namespace: production
spec:
  podSelector:
    matchLabels:
      app: database  # åº”ç”¨åˆ°æ•°æ®åº“Pod
  policyTypes:
  - Ingress
  ingress:
  - from:
    - podSelector:
        matchLabels:
          app: web-server  # åªå…è®¸webæœåŠ¡å™¨è®¿é—®
    ports:
    - protocol: TCP
      port: 3306  # MySQLç«¯å£
```

**å…è®¸å¤–éƒ¨è®¿é—®**ï¼š
```yaml
apiVersion: networking.k8s.io/v1
kind: NetworkPolicy
metadata:
  name: allow-external-web
spec:
  podSelector:
    matchLabels:
      app: web-server
  policyTypes:
  - Ingress
  ingress:
  - from: []  # å…è®¸æ‰€æœ‰å¤–éƒ¨è®¿é—®
    ports:
    - protocol: TCP
      port: 80
    - protocol: TCP
      port: 443
```

### 6.3 ç½‘ç»œç­–ç•¥æœ€ä½³å®è·µ


**åˆ†å±‚ç½‘ç»œå®‰å…¨**ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        å¤–éƒ¨ç”¨æˆ·è®¿é—®å±‚            â”‚ â† è´Ÿè½½å‡è¡¡å™¨ã€é˜²ç«å¢™
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚        åº”ç”¨æœåŠ¡å±‚                â”‚ â† WebæœåŠ¡ã€APIæœåŠ¡
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  
â”‚        ä¸šåŠ¡é€»è¾‘å±‚                â”‚ â† ä¸šåŠ¡å¤„ç†æœåŠ¡
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚        æ•°æ®å­˜å‚¨å±‚                â”‚ â† æ•°æ®åº“ã€ç¼“å­˜
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

æ¯å±‚ä¹‹é—´ä½¿ç”¨NetworkPolicyæ§åˆ¶è®¿é—®
```

---

## 7. ğŸ–¼ï¸ é•œåƒå®‰å…¨æ‰«æä¸ç­–ç•¥


### 7.1 é•œåƒå®‰å…¨å¨èƒ


**å¸¸è§é•œåƒå®‰å…¨é—®é¢˜**ï¼š
- **å·²çŸ¥æ¼æ´**ï¼šé•œåƒä¸­åŒ…å«æœ‰CVEç¼–å·çš„å®‰å…¨æ¼æ´
- **æ¶æ„è½¯ä»¶**ï¼šé•œåƒä¸­æ¤å…¥çš„æœ¨é©¬æˆ–åé—¨
- **æ•æ„Ÿä¿¡æ¯æ³„éœ²**ï¼šé•œåƒä¸­ç¡¬ç¼–ç çš„å¯†ç ã€å¯†é’¥
- **ä¸å®‰å…¨é…ç½®**ï¼šä»¥rootç”¨æˆ·è¿è¡Œã€å¼€æ”¾ä¸å¿…è¦ç«¯å£

### 7.2 é•œåƒå®‰å…¨ç­–ç•¥


**é•œåƒç­¾åéªŒè¯**ï¼š
```yaml
apiVersion: v1
kind: Pod
spec:
  containers:
  - name: app
    image: registry.company.com/app:v1.0
    # åªä½¿ç”¨ç»è¿‡ç­¾åéªŒè¯çš„é•œåƒ
  imagePullPolicy: Always  # æ€»æ˜¯æ‹‰å–æœ€æ–°é•œåƒ
```

**ç§æœ‰é•œåƒä»“åº“é…ç½®**ï¼š
```yaml
apiVersion: v1
kind: Secret
metadata:
  name: registry-secret
type: kubernetes.io/dockerconfigjson
data:
  .dockerconfigjson: <base64-encoded-docker-config>
---
apiVersion: v1
kind: ServiceAccount
metadata:
  name: app-account
imagePullSecrets:
- name: registry-secret
```

### 7.3 é•œåƒæ‰«æå·¥å…·é›†æˆ


**ä½¿ç”¨Trivyè¿›è¡Œæ¼æ´æ‰«æ**ï¼š
```bash
# æ‰«æé•œåƒæ¼æ´
trivy image nginx:1.20

# åªæ˜¾ç¤ºé«˜å±å’Œä¸¥é‡æ¼æ´
trivy image --severity HIGH,CRITICAL nginx:1.20

# æ‰«æç»“æœè¾“å‡ºä¸ºJSONæ ¼å¼
trivy image --format json nginx:1.20 > scan-results.json
```

**å‡†å…¥æ§åˆ¶å™¨é›†æˆé•œåƒæ‰«æ**ï¼š
```yaml
# é€šè¿‡Webhooké˜»æ­¢ä¸å®‰å…¨çš„é•œåƒ
apiVersion: admissionregistration.k8s.io/v1
kind: ValidatingAdmissionWebhook
metadata:
  name: image-security-webhook
webhooks:
- name: validate-image-security.example.com
  rules:
  - operations: ["CREATE", "UPDATE"]
    apiGroups: [""]
    resources: ["pods"]
  clientConfig:
    service:
      name: image-scanner-service
      path: "/validate-image"
```

---

## 8. ğŸ” è¯ä¹¦ç®¡ç†ä¸è½®æ¢æœºåˆ¶


### 8.1 Kubernetesè¯ä¹¦ä½“ç³»


**è¯ä¹¦ç±»å‹è¯´æ˜**ï¼š
```
é›†ç¾¤è¯ä¹¦å±‚æ¬¡ç»“æ„ï¼š
Root CA (é›†ç¾¤æ ¹è¯ä¹¦)
â”œâ”€â”€ APIServerè¯ä¹¦ (ç”¨äºHTTPS APIæœåŠ¡)
â”œâ”€â”€ Kubeletè¯ä¹¦ (èŠ‚ç‚¹èº«ä»½è®¤è¯)
â”œâ”€â”€ Controller Managerè¯ä¹¦
â”œâ”€â”€ Schedulerè¯ä¹¦  
â”œâ”€â”€ Adminè¯ä¹¦ (ç®¡ç†å‘˜å®¢æˆ·ç«¯)
â””â”€â”€ ServiceAccount Tokenç­¾åè¯ä¹¦
```

### 8.2 è¯ä¹¦æŸ¥çœ‹ä¸ç®¡ç†


**æŸ¥çœ‹è¯ä¹¦ä¿¡æ¯**ï¼š
```bash
# æŸ¥çœ‹APIæœåŠ¡å™¨è¯ä¹¦
openssl x509 -in /etc/kubernetes/pki/apiserver.crt -text -noout

# æŸ¥çœ‹è¯ä¹¦è¿‡æœŸæ—¶é—´
kubeadm certs check-expiration

# æŸ¥çœ‹æ‰€æœ‰è¯ä¹¦çŠ¶æ€
kubectl get csr
```

**æ‰‹åŠ¨æ›´æ–°è¯ä¹¦**ï¼š
```bash
# å¤‡ä»½ç°æœ‰è¯ä¹¦
cp -r /etc/kubernetes/pki /etc/kubernetes/pki.backup

# æ›´æ–°æ‰€æœ‰è¯ä¹¦
kubeadm certs renew all

# é‡å¯æ§åˆ¶é¢ç»„ä»¶
kubectl delete pod -n kube-system -l component=kube-apiserver
kubectl delete pod -n kube-system -l component=kube-controller-manager
kubectl delete pod -n kube-system -l component=kube-scheduler
```

### 8.3 è‡ªåŠ¨è¯ä¹¦è½®æ¢


**ä½¿ç”¨cert-managerè‡ªåŠ¨ç®¡ç†è¯ä¹¦**ï¼š
```yaml
apiVersion: cert-manager.io/v1
kind: ClusterIssuer
metadata:
  name: letsencrypt-prod
spec:
  acme:
    server: https://acme-v02.api.letsencrypt.org/directory
    email: admin@example.com
    privateKeySecretRef:
      name: letsencrypt-prod
    solvers:
    - http01:
        ingress:
          class: nginx
```

**è‡ªåŠ¨ç”Ÿæˆåº”ç”¨è¯ä¹¦**ï¼š
```yaml
apiVersion: cert-manager.io/v1
kind: Certificate
metadata:
  name: app-tls-cert
spec:
  secretName: app-tls-secret
  issuerRef:
    name: letsencrypt-prod
    kind: ClusterIssuer
  dnsNames:
  - app.example.com
  - www.app.example.com
```

---

## 9. ğŸ“Š å®¡è®¡æ—¥å¿—é…ç½®ä¸åˆ†æ


### 9.1 å®¡è®¡æ—¥å¿—æ¦‚å¿µ


**å®¡è®¡æ—¥å¿—**ï¼šè®°å½•å¯¹Kubernetes APIçš„æ‰€æœ‰è®¿é—®æ´»åŠ¨ï¼Œç”¨äºå®‰å…¨åˆ†æå’Œåˆè§„æ£€æŸ¥

**å®¡è®¡çº§åˆ«**ï¼š
- **None**ï¼šä¸è®°å½•æ—¥å¿—
- **Metadata**ï¼šè®°å½•è¯·æ±‚å…ƒæ•°æ®ï¼ˆç”¨æˆ·ã€æ—¶é—´ç­‰ï¼‰
- **Request**ï¼šè®°å½•è¯·æ±‚å…ƒæ•°æ®å’Œè¯·æ±‚ä½“
- **RequestResponse**ï¼šè®°å½•è¯·æ±‚å’Œå“åº”çš„æ‰€æœ‰ä¿¡æ¯

### 9.2 å®¡è®¡ç­–ç•¥é…ç½®


**å®¡è®¡ç­–ç•¥æ–‡ä»¶**ï¼š
```yaml
apiVersion: audit.k8s.io/v1
kind: Policy
rules:
# è®°å½•Podåˆ é™¤æ“ä½œçš„è¯¦ç»†ä¿¡æ¯
- level: RequestResponse
  verbs: ["delete"]
  resources:
  - group: ""
    resources: ["pods"]
    
# è®°å½•Secretè®¿é—®ï¼ˆåªè®°å½•å…ƒæ•°æ®ï¼Œä¿æŠ¤æ•æ„Ÿä¿¡æ¯ï¼‰
- level: Metadata
  resources:
  - group: ""
    resources: ["secrets"]
    
# è®°å½•ç®¡ç†å‘˜çš„æ‰€æœ‰æ“ä½œ
- level: Request
  users: ["admin"]
  
# å¿½ç•¥ç³»ç»Ÿç»„ä»¶çš„å¸¸è§„æ“ä½œ
- level: None
  users: ["system:node"]
  verbs: ["get"]
  resources:
  - group: ""
    resources: ["nodes", "nodes/status"]
```

**APIæœåŠ¡å™¨å¯ç”¨å®¡è®¡**ï¼š
```bash
# åœ¨APIæœåŠ¡å™¨é…ç½®ä¸­æ·»åŠ å‚æ•°
--audit-log-path=/var/log/audit.log
--audit-policy-file=/etc/kubernetes/audit-policy.yaml
--audit-log-maxage=30
--audit-log-maxbackup=3
--audit-log-maxsize=100
```

### 9.3 å®¡è®¡æ—¥å¿—åˆ†æ


**å¸¸è§åˆ†æåœºæ™¯**ï¼š
```bash
# æŸ¥æ‰¾å¤±è´¥çš„è®¤è¯å°è¯•
grep "Forbidden" /var/log/audit.log

# æŸ¥æ‰¾ç‰¹æƒå®¹å™¨åˆ›å»º
grep "privileged.*true" /var/log/audit.log  

# æŸ¥æ‰¾Secretè®¿é—®è®°å½•
grep "secrets" /var/log/audit.log | jq '.user.username'

# ç»Ÿè®¡APIè°ƒç”¨é¢‘æ¬¡
cat /var/log/audit.log | jq -r '.verb' | sort | uniq -c
```

**ä½¿ç”¨ELK Stackåˆ†æå®¡è®¡æ—¥å¿—**ï¼š
```yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: filebeat-config
data:
  filebeat.yml: |
    filebeat.inputs:
    - type: log
      paths:
        - /var/log/audit.log
      fields:
        log_type: k8s_audit
    output.elasticsearch:
      hosts: ["elasticsearch:9200"]
      index: "k8s-audit-%{+yyyy.MM.dd}"
```

---

## 10. âœ… å®‰å…¨åŸºçº¿æ£€æŸ¥ä¸åˆè§„


### 10.1 CIS KubernetesåŸºçº¿


**CIS (Center for Internet Security) åŸºçº¿**ï¼šä¸šç•Œè®¤å¯çš„Kuberneteså®‰å…¨é…ç½®æ ‡å‡†

**ä¸»è¦æ£€æŸ¥é¡¹ç›®**ï¼š
- **æ§åˆ¶é¢å®‰å…¨**ï¼šAPIæœåŠ¡å™¨ã€æ§åˆ¶å™¨ã€è°ƒåº¦å™¨é…ç½®
- **etcdå®‰å…¨**ï¼šæ•°æ®åº“åŠ å¯†ã€è®¿é—®æ§åˆ¶
- **èŠ‚ç‚¹å®‰å…¨**ï¼škubeleté…ç½®ã€æ–‡ä»¶æƒé™
- **ç½‘ç»œå®‰å…¨**ï¼šç½‘ç»œç­–ç•¥ã€TLSé…ç½®
- **Podå®‰å…¨**ï¼šå®¹å™¨å®‰å…¨ä¸Šä¸‹æ–‡é…ç½®

### 10.2 ä½¿ç”¨kube-benchè¿›è¡Œå®‰å…¨æ£€æŸ¥


**å®‰è£…å’Œè¿è¡Œkube-bench**ï¼š
```bash
# åœ¨æ§åˆ¶èŠ‚ç‚¹è¿è¡Œ
kubectl apply -f https://raw.githubusercontent.com/aquasecurity/kube-bench/main/job.yaml

# æŸ¥çœ‹æ£€æŸ¥ç»“æœ
kubectl logs job/kube-bench

# åœ¨å·¥ä½œèŠ‚ç‚¹è¿è¡Œ
kubectl apply -f https://raw.githubusercontent.com/aquasecurity/kube-bench/main/job-node.yaml
```

**å…¸å‹æ£€æŸ¥é¡¹ç¤ºä¾‹**ï¼š
```bash
[PASS] 1.1.1 Ensure that the API server pod specification file permissions are set to 644 or more restrictive
[FAIL] 1.1.12 Ensure that the etcd data directory permissions are set to 700 or more restrictive
[WARN] 1.2.6 Ensure that the --kubelet-certificate-authority argument is set as appropriate
```

### 10.3 å®‰å…¨é…ç½®åŠ å›º


**APIæœåŠ¡å™¨å®‰å…¨é…ç½®**ï¼š
```yaml
# kube-apiserveré…ç½®å¼ºåŒ–
apiVersion: v1
kind: Pod
spec:
  containers:
  - name: kube-apiserver
    command:
    - kube-apiserver
    - --anonymous-auth=false  # ç¦ç”¨åŒ¿åè®¿é—®
    - --enable-admission-plugins=NodeRestriction,PodSecurityPolicy
    - --audit-log-maxage=30
    - --tls-min-version=VersionTLS12  # æœ€å°TLSç‰ˆæœ¬
```

**kubeletå®‰å…¨é…ç½®**ï¼š
```yaml
# /var/lib/kubelet/config.yaml
apiVersion: kubelet.config.k8s.io/v1beta1
kind: KubeletConfiguration
authentication:
  anonymous:
    enabled: false  # ç¦ç”¨åŒ¿åè®¤è¯
  webhook:
    enabled: true   # å¯ç”¨Webhookè®¤è¯
authorization:
  mode: Webhook     # ä½¿ç”¨Webhookæˆæƒ
rotateCertificates: true  # è‡ªåŠ¨è½®æ¢è¯ä¹¦
```

### 10.4 æŒç»­åˆè§„ç›‘æ§


**å®‰å…¨ç›‘æ§æŒ‡æ ‡**ï¼š
```
ğŸ”¸ è®¤è¯å¤±è´¥æ¬¡æ•°ï¼šç›‘æ§æš´åŠ›ç ´è§£å°è¯•
ğŸ”¸ æƒé™è¢«æ‹’ç»æ¬¡æ•°ï¼šå‘ç°å¼‚å¸¸è®¿é—®æ¨¡å¼  
ğŸ”¸ ç‰¹æƒå®¹å™¨åˆ›å»ºï¼šç›‘æ§é«˜é£é™©æ“ä½œ
ğŸ”¸ ç½‘ç»œç­–ç•¥è¿è§„ï¼šå‘ç°éæ³•ç½‘ç»œè®¿é—®
ğŸ”¸ é•œåƒæ¼æ´æ•°é‡ï¼šè·Ÿè¸ªå®‰å…¨é£é™©è¶‹åŠ¿
```

**ä½¿ç”¨Falcoè¿›è¡Œè¿è¡Œæ—¶å®‰å…¨ç›‘æ§**ï¼š
```yaml
apiVersion: apps/v1
kind: DaemonSet
metadata:
  name: falco
spec:
  selector:
    matchLabels:
      app: falco
  template:
    spec:
      containers:
      - name: falco
        image: falcosecurity/falco:latest
        securityContext:
          privileged: true
        volumeMounts:
        - name: dev
          mountPath: /host/dev
        - name: proc
          mountPath: /host/proc
      volumes:
      - name: dev
        hostPath:
          path: /dev
      - name: proc  
        hostPath:
          path: /proc
```

---

## 11. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 11.1 å¿…é¡»æŒæ¡çš„å®‰å…¨æ¦‚å¿µ


```
ğŸ”¸ RBACï¼šåŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ï¼Œå®ç°æœ€å°æƒé™åŸåˆ™
ğŸ”¸ ServiceAccountï¼šä¸ºPodæä¾›èº«ä»½æ ‡è¯†å’ŒAPIè®¿é—®æƒé™
ğŸ”¸ å‡†å…¥æ§åˆ¶å™¨ï¼šè¯·æ±‚çš„æœ€åå®‰å…¨æ£€æŸ¥å’Œç­–ç•¥æ‰§è¡Œ
ğŸ”¸ ç½‘ç»œç­–ç•¥ï¼šå®ç°Podé—´çš„ç½‘ç»œè®¿é—®æ§åˆ¶å’Œå¾®åˆ†æ®µ
ğŸ”¸ é•œåƒå®‰å…¨ï¼šæ‰«ææ¼æ´ã€éªŒè¯ç­¾åã€ä½¿ç”¨ç§æœ‰ä»“åº“
ğŸ”¸ è¯ä¹¦ç®¡ç†ï¼šTLSé€šä¿¡åŠ å¯†ã€èº«ä»½è®¤è¯ã€å®šæœŸè½®æ¢
ğŸ”¸ å®¡è®¡æ—¥å¿—ï¼šè®°å½•æ‰€æœ‰APIè®¿é—®ï¼Œæ”¯æŒå®‰å…¨åˆ†æ
ğŸ”¸ åˆè§„æ£€æŸ¥ï¼šä½¿ç”¨CISåŸºçº¿ç¡®ä¿é…ç½®ç¬¦åˆå®‰å…¨æ ‡å‡†
```

### 11.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ æ·±åº¦é˜²å¾¡ç­–ç•¥**
```
å¤šå±‚å®‰å…¨é˜²æŠ¤ï¼š
- ç½‘ç»œå±‚ï¼šé˜²ç«å¢™ã€ç½‘ç»œç­–ç•¥
- åº”ç”¨å±‚ï¼šRBACã€å‡†å…¥æ§åˆ¶
- è¿è¡Œæ—¶ï¼šå®¹å™¨å®‰å…¨ã€ç›‘æ§å‘Šè­¦
- æ•°æ®å±‚ï¼šåŠ å¯†å­˜å‚¨ã€è®¿é—®æ§åˆ¶
```

**ğŸ”¹ æœ€å°æƒé™åŸåˆ™**
```
æƒé™è®¾è®¡åŸåˆ™ï¼š
- åªç»™å¿…éœ€çš„æœ€å°æƒé™
- å®šæœŸå®¡æŸ¥å’Œå›æ”¶æƒé™
- ä½¿ç”¨ä¸´æ—¶æƒé™ä»£æ›¿æ°¸ä¹…æƒé™
- å®ç°æƒé™çš„å¯è¿½æº¯æ€§
```

**ğŸ”¹ é›¶ä¿¡ä»»å®‰å…¨æ¨¡å‹**
```
æ ¸å¿ƒæ€æƒ³ï¼š
- ä¸ä¿¡ä»»ä»»ä½•ç”¨æˆ·å’Œè®¾å¤‡
- æ¯æ¬¡è®¿é—®éƒ½éœ€è¦éªŒè¯
- æŒç»­éªŒè¯å’Œç›‘æ§
- åŸºäºä¸Šä¸‹æ–‡çš„åŠ¨æ€æƒé™æ§åˆ¶
```

### 11.3 å®é™…åº”ç”¨ä»·å€¼


- **ä¼ä¸šçº§å®‰å…¨**ï¼šä¸ºç”Ÿäº§ç¯å¢ƒæä¾›å¤šå±‚å®‰å…¨é˜²æŠ¤
- **åˆè§„è¦æ±‚**ï¼šæ»¡è¶³è¡Œä¸šæ ‡å‡†å’Œç›‘ç®¡è¦æ±‚
- **äº‹æ•…é¢„é˜²**ï¼šé€šè¿‡é¢„é˜²æ€§æªæ–½é¿å…å®‰å…¨äº‹ä»¶
- **å¿«é€Ÿå“åº”**ï¼šé€šè¿‡ç›‘æ§å’Œå®¡è®¡å¿«é€Ÿå‘ç°å’Œå¤„ç†å®‰å…¨é—®é¢˜
- **é£é™©æ§åˆ¶**ï¼šé‡åŒ–å’Œæ§åˆ¶å®‰å…¨é£é™©

### 11.4 å®‰å…¨å®è·µå»ºè®®


**ğŸ¯ å®‰å…¨é…ç½®æ£€æŸ¥æ¸…å•**
```
â–¡ å¯ç”¨RBACå¹¶é…ç½®åˆç†çš„è§’è‰²æƒé™
â–¡ ä¸ºæ¯ä¸ªåº”ç”¨åˆ›å»ºä¸“ç”¨ServiceAccount
â–¡ é…ç½®ç½‘ç»œç­–ç•¥å®ç°ç½‘ç»œéš”ç¦»  
â–¡ å¯ç”¨Podå®‰å…¨ç­–ç•¥æˆ–Pod Security Standards
â–¡ é…ç½®é•œåƒæ‰«æå’Œç­¾åéªŒè¯
â–¡ å¯ç”¨å®¡è®¡æ—¥å¿—è®°å½•
â–¡ å®šæœŸè¿›è¡Œå®‰å…¨åŸºçº¿æ£€æŸ¥
â–¡ é…ç½®è¯ä¹¦è‡ªåŠ¨è½®æ¢
â–¡ éƒ¨ç½²è¿è¡Œæ—¶å®‰å…¨ç›‘æ§
â–¡ åˆ¶å®šå®‰å…¨äº‹ä»¶å“åº”æµç¨‹
```

**æ ¸å¿ƒè®°å¿†è¦ç‚¹**ï¼š
- **å®‰å…¨ä¸‰è¦ç´ **ï¼šè®¤è¯ï¼ˆAuthenticationï¼‰ã€æˆæƒï¼ˆAuthorizationï¼‰ã€å®¡è®¡ï¼ˆAuditingï¼‰
- **é˜²æŠ¤å››å±‚æ¬¡**ï¼šç½‘ç»œã€ä¸»æœºã€å®¹å™¨ã€åº”ç”¨
- **ç®¡ç†äº”åŸåˆ™**ï¼šæœ€å°æƒé™ã€æ·±åº¦é˜²å¾¡ã€é›¶ä¿¡ä»»ã€æŒç»­ç›‘æ§ã€å¿«é€Ÿå“åº”