---
title: 7ã€KubernetesåŸºç¡€æ¦‚å¿µ
---
## ğŸ“š ç›®å½•

1. [Kubernetesæ¦‚è¿°ä¸æ¶æ„](#1-Kubernetesæ¦‚è¿°ä¸æ¶æ„)
2. [é›†ç¾¤æ¶æ„è¯¦è§£](#2-é›†ç¾¤æ¶æ„è¯¦è§£)
3. [Podå®¹å™¨ç»„æ ¸å¿ƒæ¦‚å¿µ](#3-Podå®¹å™¨ç»„æ ¸å¿ƒæ¦‚å¿µ)
4. [ServiceæœåŠ¡æŠ½è±¡æœºåˆ¶](#4-ServiceæœåŠ¡æŠ½è±¡æœºåˆ¶)
5. [Deploymentéƒ¨ç½²æ§åˆ¶å™¨](#5-Deploymentéƒ¨ç½²æ§åˆ¶å™¨)
6. [Namespaceå‘½åç©ºé—´ç®¡ç†](#6-Namespaceå‘½åç©ºé—´ç®¡ç†)
7. [Labelæ ‡ç­¾ä¸Selectoré€‰æ‹©å™¨](#7-Labelæ ‡ç­¾ä¸Selectoré€‰æ‹©å™¨)
8. [YAMLé…ç½®æ–‡ä»¶å®æˆ˜](#8-YAMLé…ç½®æ–‡ä»¶å®æˆ˜)
9. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#9-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸš€ Kubernetesæ¦‚è¿°ä¸æ¶æ„


### 1.1 ä»€ä¹ˆæ˜¯Kubernetes


**é€šä¿—ç†è§£**ï¼šKuberneteså°±åƒä¸€ä¸ªæ™ºèƒ½çš„"å®¹å™¨ç®¡å®¶"ï¼Œä¸“é—¨è´Ÿè´£ç®¡ç†æˆåƒä¸Šä¸‡ä¸ªDockerå®¹å™¨ã€‚å°±åƒé…’åº—ç»ç†ç®¡ç†ä¼—å¤šæˆ¿é—´ä¸€æ ·ï¼ŒK8sè´Ÿè´£å†³å®šå“ªä¸ªå®¹å™¨æ”¾åœ¨å“ªå°æœåŠ¡å™¨ä¸Šï¼Œä»€ä¹ˆæ—¶å€™å¯åŠ¨ï¼Œä»€ä¹ˆæ—¶å€™å…³é—­ã€‚

**ğŸ”¸ ç”Ÿæ´»åŒ–æ¯”å–»**
```
ä¼ ç»Ÿéƒ¨ç½² â†’ è‡ªå·±æ­å¸ç¯·é‡è¥
Docker â†’ ä½æ ‡å‡†åŒ–çš„é…’åº—æˆ¿é—´  
Kubernetes â†’ æ‹¥æœ‰æ™ºèƒ½ç®¡ç†ç³»ç»Ÿçš„å¤§å‹é…’åº—é›†å›¢

é…’åº—é›†å›¢åŠŸèƒ½å¯¹æ¯”ï¼š
- æˆ¿é—´åˆ†é… â†â†’ å®¹å™¨è°ƒåº¦
- æœåŠ¡é¢„è®¢ â†â†’ æœåŠ¡å‘ç°
- æ•…éšœå¤„ç† â†â†’ è‡ªæ„ˆèƒ½åŠ›
- æ‰©å®¹ç¼©å®¹ â†â†’ å¼¹æ€§ä¼¸ç¼©
```

**ğŸ’¡ Kubernetesè§£å†³çš„æ ¸å¿ƒé—®é¢˜**
- **å®¹å™¨è°ƒåº¦**ï¼šå†³å®šå®¹å™¨è¿è¡Œåœ¨å“ªå°æœºå™¨ä¸Š
- **æœåŠ¡å‘ç°**ï¼šå®¹å™¨ä¹‹é—´å¦‚ä½•æ‰¾åˆ°å½¼æ­¤
- **è´Ÿè½½å‡è¡¡**ï¼šæµé‡å¦‚ä½•åˆ†å‘åˆ°å¤šä¸ªå®¹å™¨
- **æ•…éšœæ¢å¤**ï¼šå®¹å™¨æŒ‚äº†è‡ªåŠ¨é‡å¯
- **å¼¹æ€§æ‰©ç¼©**ï¼šæ ¹æ®è´Ÿè½½è‡ªåŠ¨å¢å‡å®¹å™¨æ•°é‡

### 1.2 Kubernetesæ ¸å¿ƒä¼˜åŠ¿


**âš¡ è‡ªåŠ¨åŒ–ç®¡ç†èƒ½åŠ›**
```
æ‰‹å·¥ç®¡ç†å®¹å™¨çš„ç—›ç‚¹ï¼š
âŒ å®¹å™¨æŒ‚äº†éœ€è¦æ‰‹åŠ¨é‡å¯
âŒ è´Ÿè½½é«˜æ—¶éœ€è¦æ‰‹åŠ¨åŠ æœºå™¨  
âŒ æœåŠ¡æ›´æ–°éœ€è¦é€å°æ“ä½œ
âŒ é…ç½®ç®¡ç†å®¹æ˜“å‡ºé”™

Kubernetesè‡ªåŠ¨åŒ–è§£å†³ï¼š
âœ… å®¹å™¨æ•…éšœè‡ªåŠ¨é‡å¯å’Œè¿ç§»
âœ… æ ¹æ®è´Ÿè½½è‡ªåŠ¨æ‰©ç¼©å®¹
âœ… æ»šåŠ¨æ›´æ–°é›¶åœæœºéƒ¨ç½²
âœ… ç»Ÿä¸€çš„é…ç½®å’Œå¯†é’¥ç®¡ç†
```

**ğŸ¯ ä¼ä¸šçº§ç‰¹æ€§**
- **é«˜å¯ç”¨æ€§**ï¼šå¤šèŠ‚ç‚¹æ•…éšœå®¹é”™
- **å¯æ‰©å±•æ€§**ï¼šæ”¯æŒæ•°ä¸‡ä¸ªèŠ‚ç‚¹å’Œæ•°åä¸‡ä¸ªPod
- **å¯ç§»æ¤æ€§**ï¼šåœ¨ä¸åŒäº‘å¹³å°å’Œç¯å¢ƒä¸­è¿è¡Œ
- **å£°æ˜å¼ç®¡ç†**ï¼šæè¿°æœŸæœ›çŠ¶æ€ï¼Œç³»ç»Ÿè‡ªåŠ¨è¾¾æˆ

### 1.3 Kubernetesç”Ÿæ€ä½ç½®


**ğŸ— å®¹å™¨æŠ€æœ¯æ ˆç»“æ„**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        åº”ç”¨ç¨‹åº (App)                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚     Kubernetes å®¹å™¨ç¼–æ’å¹³å°              â”‚ â† ä»Šå¤©å­¦ä¹ çš„é‡ç‚¹
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚     Docker/containerd å®¹å™¨è¿è¡Œæ—¶          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚     Linux æ“ä½œç³»ç»Ÿ                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚     ç‰©ç†æœº/è™šæ‹Ÿæœº åŸºç¡€è®¾æ–½               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. ğŸ— é›†ç¾¤æ¶æ„è¯¦è§£


### 2.1 Kubernetesé›†ç¾¤æ•´ä½“æ¶æ„


**ğŸ“Š é›†ç¾¤ç»„æˆç»“æ„**
```
Kubernetesé›†ç¾¤ = MasterèŠ‚ç‚¹ + WorkerèŠ‚ç‚¹

æ•´ä½“æ¶æ„å›¾ï¼š
                MasterèŠ‚ç‚¹(å¤§è„‘)
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚  API Server         â”‚ â† é›†ç¾¤å…¥å£
            â”‚  etcdå­˜å‚¨           â”‚ â† æ•°æ®åº“  
            â”‚  Schedulerè°ƒåº¦å™¨     â”‚ â† è°ƒåº¦å†³ç­–
            â”‚  Controllerç®¡ç†å™¨    â”‚ â† çŠ¶æ€æ§åˆ¶
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚           â”‚           â”‚
     WorkerèŠ‚ç‚¹1   WorkerèŠ‚ç‚¹2   WorkerèŠ‚ç‚¹3
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ kubelet â”‚   â”‚ kubelet â”‚   â”‚ kubelet â”‚ â† èŠ‚ç‚¹ä»£ç†
    â”‚ kube-   â”‚   â”‚ kube-   â”‚   â”‚ kube-   â”‚ â† ç½‘ç»œä»£ç†
    â”‚ proxy   â”‚   â”‚ proxy   â”‚   â”‚ proxy   â”‚
    â”‚ Podå®¹å™¨  â”‚   â”‚ Podå®¹å™¨  â”‚   â”‚ Podå®¹å™¨  â”‚ â† å®é™…å·¥ä½œè´Ÿè½½
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 MasterèŠ‚ç‚¹è¯¦è§£


**ğŸ§  MasterèŠ‚ç‚¹ - é›†ç¾¤å¤§è„‘**

MasterèŠ‚ç‚¹å°±åƒå…¬å¸çš„ç®¡ç†å±‚ï¼Œè´Ÿè´£åšå†³ç­–ä½†ä¸å¹²å…·ä½“æ´»ã€‚

**æ ¸å¿ƒç»„ä»¶åŠŸèƒ½**ï¼š

| ç»„ä»¶ | **ä½œç”¨** | **é€šä¿—æ¯”å–»** |
|------|---------|-------------|
| **API Server** | `é›†ç¾¤çš„ç»Ÿä¸€å…¥å£ï¼Œå¤„ç†æ‰€æœ‰è¯·æ±‚` | `å‰å°æ¥å¾…ï¼Œæ‰€æœ‰äº‹åŠ¡éƒ½è¦é€šè¿‡å®ƒ` |
| **etcd** | `åˆ†å¸ƒå¼é”®å€¼å­˜å‚¨ï¼Œä¿å­˜é›†ç¾¤çŠ¶æ€` | `å…¬å¸æ•°æ®åº“ï¼Œè®°å½•æ‰€æœ‰é‡è¦ä¿¡æ¯` |
| **Scheduler** | `å†³å®šPodè¿è¡Œåœ¨å“ªä¸ªèŠ‚ç‚¹` | `äººäº‹è°ƒé…ï¼Œå†³å®šå‘˜å·¥åˆ†é…åˆ°å“ªä¸ªéƒ¨é—¨` |
| **Controller Manager** | `ç»´æŠ¤é›†ç¾¤æœŸæœ›çŠ¶æ€` | `å„éƒ¨é—¨ç»ç†ï¼Œç¡®ä¿å·¥ä½œæŒ‰è®¡åˆ’è¿›è¡Œ` |

**ğŸ’¼ API Serverè¯¦ç»†åŠŸèƒ½**
```
API Serverçš„æ ¸å¿ƒä½œç”¨ï¼š
ğŸ”¸ è®¤è¯å’Œæˆæƒï¼šéªŒè¯ç”¨æˆ·èº«ä»½å’Œæƒé™
ğŸ”¸ è¯·æ±‚å¤„ç†ï¼šå¤„ç†æ‰€æœ‰APIè¯·æ±‚
ğŸ”¸ æ•°æ®éªŒè¯ï¼šç¡®ä¿é…ç½®æ•°æ®æ­£ç¡®
ğŸ”¸ çŠ¶æ€å­˜å‚¨ï¼šå°†æ•°æ®å­˜å‚¨åˆ°etcd
ğŸ”¸ äº‹ä»¶é€šçŸ¥ï¼šé€šçŸ¥å…¶ä»–ç»„ä»¶çŠ¶æ€å˜åŒ–
```

**ğŸ—„ etcdå­˜å‚¨ç³»ç»Ÿ**
```
etcdå­˜å‚¨çš„æ ¸å¿ƒæ•°æ®ï¼š
- é›†ç¾¤é…ç½®ä¿¡æ¯
- Podå’ŒServiceçš„å®šä¹‰
- èŠ‚ç‚¹çŠ¶æ€ä¿¡æ¯  
- ç½‘ç»œé…ç½®
- å¯†é’¥å’Œé…ç½®æ˜ å°„

ç±»æ¯”ï¼šetcdå°±åƒé“¶è¡Œçš„æ ¸å¿ƒæ•°æ®åº“ï¼Œè®°å½•æ‰€æœ‰è´¦æˆ·ä¿¡æ¯
```

### 2.3 WorkerèŠ‚ç‚¹è¯¦è§£


**ğŸ’ª WorkerèŠ‚ç‚¹ - å¹²æ´»çš„å‘˜å·¥**

WorkerèŠ‚ç‚¹æ˜¯å®é™…è¿è¡Œå®¹å™¨çš„åœ°æ–¹ï¼Œå°±åƒå·¥å‚é‡Œçš„ç”Ÿäº§è½¦é—´ã€‚

**æ ¸å¿ƒç»„ä»¶è¯´æ˜**ï¼š

**ğŸ¤– kubelet - èŠ‚ç‚¹ç®¡å®¶**
```
kubeletçš„ä¸»è¦èŒè´£ï¼š
âœ… æ¥æ”¶Masterçš„æŒ‡ä»¤
âœ… ç®¡ç†æœ¬èŠ‚ç‚¹ä¸Šçš„Podç”Ÿå‘½å‘¨æœŸ
âœ… ç›‘æ§å®¹å™¨å¥åº·çŠ¶æ€
âœ… å‘MasteræŠ¥å‘ŠèŠ‚ç‚¹çŠ¶æ€
âœ… ä¸å®¹å™¨è¿è¡Œæ—¶äº¤äº’

ç±»æ¯”ï¼škubeletåƒè½¦é—´ä¸»ç®¡ï¼Œè´Ÿè´£æ‰§è¡Œä¸Šçº§æŒ‡ä»¤å’Œç®¡ç†ç°åœº
```

**ğŸŒ kube-proxy - ç½‘ç»œä»£ç†**
```
kube-proxyçš„ç½‘ç»œåŠŸèƒ½ï¼š
ğŸ”¸ å®ç°Serviceçš„è´Ÿè½½å‡è¡¡
ğŸ”¸ ç»´æŠ¤ç½‘ç»œè§„åˆ™å’Œè·¯ç”±
ğŸ”¸ å¤„ç†é›†ç¾¤å†…éƒ¨é€šä¿¡
ğŸ”¸ å®ç°æœåŠ¡å‘ç°æœºåˆ¶

ç±»æ¯”ï¼škube-proxyåƒç”µè¯æ€»æœºï¼Œè´Ÿè´£è½¬æ¥å’Œè·¯ç”±é€šä¿¡
```

**ğŸ“¦ å®¹å™¨è¿è¡Œæ—¶**
- **Docker**ï¼šæœ€å¸¸ç”¨çš„å®¹å™¨è¿è¡Œæ—¶
- **containerd**ï¼šæ›´è½»é‡çš„è¿è¡Œæ—¶
- **CRI-O**ï¼šä¸“ä¸ºKubernetesè®¾è®¡çš„è¿è¡Œæ—¶

### 2.4 é›†ç¾¤é€šä¿¡æœºåˆ¶


**ğŸ“¡ ç»„ä»¶é—´é€šä¿¡æµç¨‹**
```
å…¸å‹çš„Podåˆ›å»ºæµç¨‹ï¼š

ç”¨æˆ·æäº¤è¯·æ±‚ â†’ API Server â†’ etcdå­˜å‚¨
                     â†“
Schedulerç›‘å¬å˜åŒ– â†’ é€‰æ‹©åˆé€‚èŠ‚ç‚¹ â†’ æ›´æ–°etcd
                     â†“  
ç›®æ ‡èŠ‚ç‚¹kubelet â†’ æ‹‰å–é•œåƒ â†’ åˆ›å»ºå®¹å™¨
                     â†“
å®¹å™¨çŠ¶æ€æ›´æ–° â†’ kubeletæŠ¥å‘Š â†’ API Server â†’ etcd
```

---

## 3. ğŸ“¦ Podå®¹å™¨ç»„æ ¸å¿ƒæ¦‚å¿µ


### 3.1 ä»€ä¹ˆæ˜¯Pod


**é€šä¿—ç†è§£**ï¼šPodå°±åƒä¸€ä¸ª"åˆç§Ÿæˆ¿"ï¼Œé‡Œé¢å¯ä»¥ä½ä¸€ä¸ªæˆ–å¤šä¸ªå®¹å™¨ï¼ˆå®¤å‹ï¼‰ã€‚è¿™äº›å®¹å™¨å…±äº«ç½‘ç»œå’Œå­˜å‚¨ï¼Œå°±åƒå®¤å‹å…±äº«Wi-Fiå’Œå†°ç®±ä¸€æ ·ã€‚

**ğŸ  Podçš„ç”Ÿæ´»åŒ–æ¯”å–»**
```
å•å®¹å™¨Podï¼š     å¤šå®¹å™¨Podï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   App   â”‚     â”‚  Web  â”‚  Cache  â”‚
â”‚  å®¹å™¨   â”‚     â”‚  å®¹å™¨ â”‚   å®¹å™¨   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   ç‹¬å±…æˆ¿           åˆç§Ÿæˆ¿
```

**ğŸ”¸ ä¸ºä»€ä¹ˆéœ€è¦Podæ¦‚å¿µ**
- **åŸå­æ€§**ï¼šPodæ˜¯è°ƒåº¦å’Œéƒ¨ç½²çš„æœ€å°å•ä½
- **å…±äº«èµ„æº**ï¼šå®¹å™¨é—´å…±äº«ç½‘ç»œIPå’Œå­˜å‚¨å·
- **ç”Ÿå‘½å‘¨æœŸ**ï¼šå®¹å™¨ç»„åˆåœ¨ä¸€èµ·ç®¡ç†
- **é€šä¿¡ä¾¿åˆ©**ï¼šPodå†…å®¹å™¨é€šè¿‡localhosté€šä¿¡

### 3.2 Podçš„æ ¸å¿ƒç‰¹æ€§


**ğŸŒ ç½‘ç»œå…±äº«æœºåˆ¶**
```
Podå†…ç½‘ç»œå…±äº«ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Podç½‘ç»œç©ºé—´            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚å®¹å™¨A    â”‚    â”‚  å®¹å™¨B      â”‚  â”‚
â”‚  â”‚ç«¯å£:80  â”‚    â”‚  ç«¯å£:3306  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚     å…±äº«IP: 192.168.1.10         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

å®¹å™¨Aè®¿é—®å®¹å™¨Bï¼šlocalhost:3306
å¤–éƒ¨è®¿é—®Podï¼š192.168.1.10:80
```

**ğŸ’¾ å­˜å‚¨å…±äº«æœºåˆ¶**
```
Podå†…å­˜å‚¨å·å…±äº«ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Pod                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚Webå®¹å™¨  â”‚    â”‚  Logå®¹å™¨    â”‚  â”‚
â”‚  â”‚/app/logsâ”‚    â”‚ /var/logs   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚           â”‚           â”‚          â”‚
â”‚           â””â”€â”€â”€ å…±äº«å· â”€â”€â”€â”˜         â”‚
â”‚         /shared/logs              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.3 Podç”Ÿå‘½å‘¨æœŸç®¡ç†


**â± PodçŠ¶æ€å˜åŒ–è¿‡ç¨‹**
```
Podç”Ÿå‘½å‘¨æœŸï¼š
Pending â†’ Running â†’ Succeeded/Failed

è¯¦ç»†çŠ¶æ€è¯´æ˜ï¼š
ğŸ”¸ Pendingï¼šç­‰å¾…è°ƒåº¦åˆ°èŠ‚ç‚¹
ğŸ”¸ Runningï¼šè‡³å°‘æœ‰ä¸€ä¸ªå®¹å™¨åœ¨è¿è¡Œ
ğŸ”¸ Succeededï¼šæ‰€æœ‰å®¹å™¨æˆåŠŸç»“æŸ
ğŸ”¸ Failedï¼šè‡³å°‘æœ‰ä¸€ä¸ªå®¹å™¨å¤±è´¥ç»“æŸ
ğŸ”¸ Unknownï¼šæ— æ³•è·å–PodçŠ¶æ€
```

**ğŸ”„ Podé‡å¯ç­–ç•¥**
- **Always**ï¼šæ€»æ˜¯é‡å¯ï¼ˆé»˜è®¤ï¼‰
- **OnFailure**ï¼šå¤±è´¥æ—¶æ‰é‡å¯  
- **Never**ï¼šä»ä¸é‡å¯

### 3.4 Podä½¿ç”¨æœ€ä½³å®è·µ


**âœ… ä»€ä¹ˆæ—¶å€™ç”¨å•å®¹å™¨Pod**
```
å…¸å‹åœºæ™¯ï¼š
- Webåº”ç”¨æœåŠ¡
- æ•°æ®åº“æœåŠ¡
- å¾®æœåŠ¡ç»„ä»¶
- æ‰¹å¤„ç†ä»»åŠ¡

ä¼˜ç‚¹ï¼šç®€å•ã€ç‹¬ç«‹ã€æ˜“ç®¡ç†
```

**ğŸ¤ ä»€ä¹ˆæ—¶å€™ç”¨å¤šå®¹å™¨Pod**
```
å…¸å‹åœºæ™¯ï¼š
- ä¸»åº”ç”¨ + æ—¥å¿—æ”¶é›†å™¨
- WebæœåŠ¡ + åå‘ä»£ç†
- åº”ç”¨ + ç›‘æ§ä»£ç†
- æ•°æ®å¤„ç† + æ•°æ®åŒæ­¥

æ³¨æ„ï¼šåªæœ‰ç´§å¯†è€¦åˆçš„å®¹å™¨æ‰æ”¾åœ¨åŒä¸€Pod
```

**âš ï¸ Podè®¾è®¡æ³¨æ„äº‹é¡¹**
- Podæ˜¯**ä¸´æ—¶æ€§**çš„ï¼Œéšæ—¶å¯èƒ½è¢«åˆ é™¤é‡å»º
- ä¸è¦åœ¨Podå†…å­˜å‚¨é‡è¦æ•°æ®ï¼Œä½¿ç”¨æŒä¹…åŒ–å­˜å‚¨
- Podå†…å®¹å™¨åº”è¯¥æ˜¯**ç´§å¯†ç›¸å…³**çš„
- é¿å…åœ¨å•ä¸ªPodä¸­è¿è¡Œå¤šä¸ªç‹¬ç«‹åº”ç”¨

---

## 4. ğŸŒ ServiceæœåŠ¡æŠ½è±¡æœºåˆ¶


### 4.1 ä¸ºä»€ä¹ˆéœ€è¦Service


**ğŸ’¡ ç†è§£Serviceçš„å¿…è¦æ€§**

æƒ³è±¡ä¸€ä¸‹è¿™ç§æƒ…å†µï¼šä½ å¼€äº†ä¸€å®¶è¿é”é¤å…ï¼Œæœ‰3å®¶åˆ†åº—ï¼Œä½†æ˜¯åˆ†åº—ä½ç½®ç»å¸¸å˜åŒ–ï¼Œé¡¾å®¢æ€ä¹ˆæ‰¾åˆ°ä½ å‘¢ï¼ŸServiceå°±åƒä¸€ä¸ªç»Ÿä¸€çš„å®¢æœç”µè¯ï¼Œæ— è®ºåˆ†åº—æ€ä¹ˆå˜ï¼Œé¡¾å®¢æ‰“è¿™ä¸ªç”µè¯æ€»èƒ½æ‰¾åˆ°å¯ç”¨çš„åˆ†åº—ã€‚

**ğŸª Serviceè§£å†³çš„æ ¸å¿ƒé—®é¢˜**
```
æ²¡æœ‰Serviceçš„é—®é¢˜ï¼š
âŒ Pod IPä¼šå˜åŒ–ï¼Œå®¢æˆ·ç«¯æ— æ³•è¿½è¸ª
âŒ Podå¯èƒ½éšæ—¶é”€æ¯é‡å»º  
âŒ å¤šä¸ªPodå®ä¾‹æ— æ³•è‡ªåŠ¨è´Ÿè½½å‡è¡¡
âŒ å¤–éƒ¨è®¿é—®Podå›°éš¾

Serviceæä¾›çš„è§£å†³æ–¹æ¡ˆï¼š
âœ… ç¨³å®šçš„è™šæ‹ŸIPåœ°å€
âœ… è‡ªåŠ¨å‘ç°åç«¯Podå˜åŒ–
âœ… å†…ç½®è´Ÿè½½å‡è¡¡åŠŸèƒ½
âœ… ç»Ÿä¸€çš„è®¿é—®å…¥å£
```

### 4.2 Serviceå·¥ä½œåŸç†


**ğŸ¯ ServiceæŠ½è±¡æœºåˆ¶**
```
Serviceå·¥ä½œæµç¨‹ï¼š

å®¢æˆ·ç«¯è¯·æ±‚ â†’ Service(å›ºå®šIP) â†’ åç«¯Podç¾¤ç»„
             â†“
        kube-proxyå®ç°
         è´Ÿè½½å‡è¡¡è·¯ç”±
             â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚Pod1   Pod2   Pod3   â”‚ â† åŠ¨æ€å˜åŒ–çš„Pod
    â”‚192.   192.   192.   â”‚
    â”‚168.1  168.1  168.1  â”‚
    â”‚.10    .11    .12    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ğŸ· æ ‡ç­¾é€‰æ‹©å™¨æœºåˆ¶**
```
Serviceå¦‚ä½•æ‰¾åˆ°Podï¼š

Serviceé…ç½®ï¼š
selector: 
  app: web-server
  
åŒ¹é…çš„Podæ ‡ç­¾ï¼š
Pod1: app=web-server, version=v1
Pod2: app=web-server, version=v2  
Pod3: app=web-server, version=v1

Serviceè‡ªåŠ¨åŒ…å«æ‰€æœ‰åŒ¹é…æ ‡ç­¾çš„Pod
```

### 4.3 Serviceç±»å‹è¯¦è§£


**ğŸ”¸ ClusterIP - é›†ç¾¤å†…è®¿é—®**
```
é»˜è®¤ç±»å‹ï¼Œåªèƒ½åœ¨é›†ç¾¤å†…è®¿é—®ï¼š

ç‰¹ç‚¹ï¼š
- è·å¾—ä¸€ä¸ªé›†ç¾¤å†…çš„è™šæ‹ŸIP
- åªæœ‰é›†ç¾¤å†…çš„Podå¯ä»¥è®¿é—®
- é€‚åˆå†…éƒ¨æœåŠ¡é—´é€šä¿¡

ä½¿ç”¨åœºæ™¯ï¼š
- æ•°æ®åº“æœåŠ¡
- å†…éƒ¨APIæœåŠ¡
- å¾®æœåŠ¡é—´è°ƒç”¨
```

**ğŸ”¸ NodePort - å¤–éƒ¨è®¿é—®**  
```
åœ¨æ¯ä¸ªèŠ‚ç‚¹ä¸Šå¼€æ”¾ç«¯å£ï¼š

è®¿é—®æ–¹å¼ï¼š
å¤–éƒ¨å®¢æˆ·ç«¯ â†’ ä»»æ„èŠ‚ç‚¹IP:ç«¯å£ â†’ Service â†’ Pod

ç«¯å£èŒƒå›´ï¼š30000-32767

ä½¿ç”¨åœºæ™¯ï¼š
- å¼€å‘æµ‹è¯•ç¯å¢ƒ
- ç®€å•çš„å¤–éƒ¨è®¿é—®éœ€æ±‚
```

**ğŸ”¸ LoadBalancer - äº‘è´Ÿè½½å‡è¡¡**
```
ä½¿ç”¨äº‘å¹³å°çš„è´Ÿè½½å‡è¡¡å™¨ï¼š

ç‰¹ç‚¹ï¼š
- è‡ªåŠ¨åˆ›å»ºäº‘è´Ÿè½½å‡è¡¡å™¨
- è·å¾—å¤–éƒ¨å¯è®¿é—®çš„IP
- é«˜å¯ç”¨å’Œé«˜æ€§èƒ½

é€‚åˆåœºæ™¯ï¼š
- ç”Ÿäº§ç¯å¢ƒå¤–éƒ¨æœåŠ¡
- éœ€è¦é«˜å¯ç”¨çš„Webåº”ç”¨
```

### 4.4 Serviceå®é™…åº”ç”¨


**ğŸ“Š æœåŠ¡å‘ç°æœºåˆ¶**
```
Podå†…å¦‚ä½•è®¿é—®Serviceï¼š

æ–¹å¼1ï¼šç¯å¢ƒå˜é‡
REDIS_SERVICE_HOST=10.96.0.100
REDIS_SERVICE_PORT=6379

æ–¹å¼2ï¼šDNSè§£æ  
redis-service.default.svc.cluster.local

æ–¹å¼3ï¼šç›´æ¥ä½¿ç”¨Serviceå
curl http://redis-service:6379
```

**âš–ï¸ è´Ÿè½½å‡è¡¡ç­–ç•¥**
- **è½®è¯¢**ï¼šè¯·æ±‚ä¾æ¬¡åˆ†å‘åˆ°å„Pod
- **éšæœº**ï¼šéšæœºé€‰æ‹©åç«¯Pod
- **ä¼šè¯äº²å’Œæ€§**ï¼šåŒä¸€å®¢æˆ·ç«¯è®¿é—®åŒä¸€Pod

---

## 5. ğŸš€ Deploymentéƒ¨ç½²æ§åˆ¶å™¨


### 5.1 Deploymentæ ¸å¿ƒæ¦‚å¿µ


**é€šä¿—ç†è§£**ï¼šDeploymentå°±åƒä¸€ä¸ª"æ™ºèƒ½å·¥å‚ç®¡ç†ç³»ç»Ÿ"ï¼Œä½ å‘Šè¯‰å®ƒè¦ç”Ÿäº§å¤šå°‘ä¸ªäº§å“ï¼ˆPodï¼‰ï¼Œå®ƒå°±è‡ªåŠ¨å®‰æ’ç”Ÿäº§ï¼Œè¿˜èƒ½å¤„ç†äº§å“å‡çº§ã€æ•…éšœæ›¿æ¢ç­‰é—®é¢˜ã€‚

**ğŸ­ Deploymentçš„ç®¡ç†èŒè´£**
```
ä¼ ç»Ÿéƒ¨ç½²é—®é¢˜ï¼š           Deploymentè§£å†³æ–¹æ¡ˆï¼š
âŒ æ‰‹åŠ¨å¯åœåº”ç”¨          âœ… è‡ªåŠ¨ç®¡ç†Podç”Ÿå‘½å‘¨æœŸ
âŒ æ›´æ–°æ—¶æœåŠ¡ä¸­æ–­        âœ… æ»šåŠ¨æ›´æ–°é›¶åœæœº
âŒ æ•…éšœéœ€äººå·¥å¤„ç†        âœ… è‡ªåŠ¨æ•…éšœæ£€æµ‹å’Œæ¢å¤
âŒ æ‰©å®¹æ“ä½œå¤æ‚          âœ… ä¸€é”®æ‰©ç¼©å®¹

ç±»æ¯”ï¼šDeployment = æ™ºèƒ½å·¥å‚ç®¡ç†ç³»ç»Ÿ
Pod = ç”Ÿäº§çº¿ä¸Šçš„äº§å“
```

### 5.2 Deploymentæ§åˆ¶æœºåˆ¶


**ğŸ”„ ä¸‰å±‚æ§åˆ¶æ¶æ„**
```
Deployment æ§åˆ¶æ¶æ„ï¼š

ç”¨æˆ·æœŸæœ›çŠ¶æ€ â†’ Deployment â†’ ReplicaSet â†’ Pod

è¯¦ç»†è¯´æ˜ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Deployment  â”‚ â†’ â”‚ ReplicaSet  â”‚ â†’ â”‚    Pod      â”‚
â”‚ ç®¡ç†ç‰ˆæœ¬å‡çº§ â”‚    â”‚ ç®¡ç†å‰¯æœ¬æ•°é‡ â”‚    â”‚  è¿è¡Œåº”ç”¨   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ç”¨æˆ·åªéœ€å…³å¿ƒDeploymentï¼Œå…¶ä»–è‡ªåŠ¨ç®¡ç†
```

**ğŸ“Š çŠ¶æ€ç›‘æ§å’Œè‡ªæ„ˆ**
```
Deploymentè‡ªæ„ˆèƒ½åŠ›ï¼š

ç›‘æ§çŠ¶æ€ï¼š
- æœŸæœ›å‰¯æœ¬æ•°ï¼š3ä¸ª
- å½“å‰å‰¯æœ¬æ•°ï¼š2ä¸ªï¼ˆ1ä¸ªPodæ•…éšœï¼‰
- å¯ç”¨å‰¯æœ¬æ•°ï¼š2ä¸ª

è‡ªåŠ¨æ“ä½œï¼š
1. æ£€æµ‹åˆ°Podæ•…éšœ
2. è‡ªåŠ¨åˆ›å»ºæ–°Podæ›¿ä»£
3. ç¡®ä¿å§‹ç»ˆæœ‰3ä¸ªå¥åº·Podè¿è¡Œ

ç±»æ¯”ï¼šåƒæœ‰24å°æ—¶å€¼ç­çš„ç»´ä¿®å·¥ç¨‹å¸ˆ
```

### 5.3 æ»šåŠ¨æ›´æ–°æœºåˆ¶


**ğŸ”„ é›¶åœæœºæ›´æ–°ç­–ç•¥**

æƒ³è±¡ä½ è¦è£…ä¿®æˆ¿å­ï¼Œä¼ ç»Ÿæ–¹å¼æ˜¯æŠŠæˆ¿å­æ¨å€’é‡å»ºï¼Œä½æˆ·è¦æ¬å‡ºå»ã€‚æ»šåŠ¨æ›´æ–°å°±åƒåˆ†æˆ¿é—´è£…ä¿®ï¼Œä½æˆ·å¯ä»¥æ¬åˆ°å…¶ä»–æˆ¿é—´ç»§ç»­å±…ä½ã€‚

**æ›´æ–°è¿‡ç¨‹è¯¦è§£**ï¼š
```
æ»šåŠ¨æ›´æ–°æµç¨‹ï¼š

åˆå§‹çŠ¶æ€ï¼š3ä¸ªv1.0ç‰ˆæœ¬Pod
â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”
â”‚ v1.0â”‚ â”‚ v1.0â”‚ â”‚ v1.0â”‚
â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜

æ­¥éª¤1ï¼šåˆ›å»º1ä¸ªv2.0 Pod
â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”
â”‚ v1.0â”‚ â”‚ v1.0â”‚ â”‚ v1.0â”‚ â”‚ v2.0â”‚
â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜

æ­¥éª¤2ï¼šåˆ é™¤1ä¸ªv1.0 Pod  
â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”
â”‚ v1.0â”‚ â”‚ v1.0â”‚ â”‚ v2.0â”‚
â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜

æ­¥éª¤3ï¼šç»§ç»­åˆ›å»ºv2.0ï¼Œåˆ é™¤v1.0
â”Œâ”€â”€â”€â”€â”€â”
â”‚ v2.0â”‚ ... ç›´åˆ°å…¨éƒ¨æ›´æ–°å®Œæˆ
â””â”€â”€â”€â”€â”€â”˜

æ•´ä¸ªè¿‡ç¨‹æœåŠ¡ä¸ä¸­æ–­ï¼
```

**âš™ï¸ æ›´æ–°ç­–ç•¥é…ç½®**
```
æ›´æ–°ç­–ç•¥å‚æ•°ï¼š
- maxUnavailableï¼šæœ€å¤šä¸å¯ç”¨Podæ•°é‡
- maxSurgeï¼šæœ€å¤šé¢å¤–Podæ•°é‡

ä¾‹å¦‚ï¼š3ä¸ªå‰¯æœ¬ï¼ŒmaxUnavailable=1ï¼ŒmaxSurge=1
- æœ€å°‘æœ‰2ä¸ªPodè¿è¡Œï¼ˆä¿è¯æœåŠ¡ï¼‰
- æœ€å¤šæœ‰4ä¸ªPodè¿è¡Œï¼ˆæ§åˆ¶èµ„æºï¼‰
```

### 5.4 Deploymentå®æˆ˜åº”ç”¨


**ğŸ“ˆ æ‰©ç¼©å®¹æ“ä½œ**
```
æ°´å¹³æ‰©ç¼©å®¹ï¼š
å½“å‰å‰¯æœ¬ï¼š3ä¸ª
æœŸæœ›å‰¯æœ¬ï¼š5ä¸ª

Deploymentè‡ªåŠ¨æ“ä½œï¼š
1. åˆ›å»º2ä¸ªæ–°Pod
2. ç­‰å¾…Podå°±ç»ª
3. æ›´æ–°çŠ¶æ€ä¸º5ä¸ªå‰¯æœ¬

ç±»æ¯”ï¼šé¤å…æ ¹æ®å®¢æµé‡å¢å‡æœåŠ¡å‘˜
```

**ğŸ”™ ç‰ˆæœ¬å›æ»šåŠŸèƒ½**
```
ç‰ˆæœ¬ç®¡ç†ï¼š
v1.0 â†’ v2.0 â†’ v3.0 (å½“å‰)
         â†‘        â†“
      å›æ»šåˆ°    å‘ç°é—®é¢˜

å›æ»šæ“ä½œï¼š
kubectl rollout undo deployment/myapp
è‡ªåŠ¨å›æ»šåˆ°v2.0ç‰ˆæœ¬

ä¿å­˜å†å²ï¼šé»˜è®¤ä¿å­˜10ä¸ªå†å²ç‰ˆæœ¬
```

**ğŸ’¡ Deploymentæœ€ä½³å®è·µ**
- åˆç†è®¾ç½®èµ„æºé™åˆ¶é¿å…èµ„æºäº‰ç”¨
- é…ç½®å¥åº·æ£€æŸ¥ç¡®ä¿Podæ­£å¸¸è¿è¡Œ  
- ä½¿ç”¨æ ‡ç­¾å’Œæ³¨è§£ä¾¿äºç®¡ç†
- è®¾ç½®åˆç†çš„æ›´æ–°ç­–ç•¥å‚æ•°

---

## 6. ğŸ— Namespaceå‘½åç©ºé—´ç®¡ç†


### 6.1 NamespaceåŸºæœ¬æ¦‚å¿µ


**é€šä¿—ç†è§£**ï¼šNamespaceå°±åƒå…¬å¸é‡Œçš„ä¸åŒéƒ¨é—¨ï¼Œæ¯ä¸ªéƒ¨é—¨æœ‰è‡ªå·±çš„åŠå…¬åŒºåŸŸã€èµ„æºé…é¢ï¼Œéƒ¨é—¨é—´ç›¸å¯¹ç‹¬ç«‹ä½†åœ¨åŒä¸€æ ‹æ¥¼é‡Œã€‚

**ğŸ¢ Namespaceçš„ç»„ç»‡ä½œç”¨**
```
æ²¡æœ‰Namespaceçš„é—®é¢˜ï¼š        æœ‰Namespaceçš„å¥½å¤„ï¼š
âŒ èµ„æºåç§°å®¹æ˜“å†²çª         âœ… ä¸åŒç¯å¢ƒèµ„æºéš”ç¦»
âŒ æƒé™ç®¡ç†å›°éš¾             âœ… ç²¾ç»†åŒ–æƒé™æ§åˆ¶  
âŒ èµ„æºä½¿ç”¨æ— æ³•é™åˆ¶         âœ… èµ„æºé…é¢ç®¡ç†
âŒ å¤šå›¢é˜Ÿåä½œæ··ä¹±           âœ… å¤šç§Ÿæˆ·ç¯å¢ƒæ”¯æŒ

ç±»æ¯”ï¼šNamespace = å…¬å¸éƒ¨é—¨
æ¯ä¸ªéƒ¨é—¨æœ‰ç‹¬ç«‹çš„åŠå…¬ç©ºé—´å’Œé¢„ç®—
```

### 6.2 é»˜è®¤Namespaceè¯´æ˜


**ğŸ¯ ç³»ç»Ÿå†…ç½®Namespace**
```
Kubernetesé»˜è®¤Namespaceï¼š

defaultï¼š
- ç”¨æˆ·åˆ›å»ºèµ„æºçš„é»˜è®¤ä½ç½®
- ç±»æ¯”ï¼šå…¬å¸çš„å…¬å…±åŠå…¬åŒº

kube-systemï¼š  
- å­˜æ”¾ç³»ç»Ÿç»„ä»¶
- ç±»æ¯”ï¼šå…¬å¸çš„æœºæˆ¿å’ŒåŸºç¡€è®¾æ–½åŒº

kube-publicï¼š
- å­˜æ”¾å…¬å¼€å¯è¯»çš„èµ„æº
- ç±»æ¯”ï¼šå…¬å¸çš„å…¬å‘Šæ åŒºåŸŸ

kube-node-leaseï¼š
- å­˜æ”¾èŠ‚ç‚¹å¿ƒè·³ä¿¡æ¯
- ç±»æ¯”ï¼šå‘˜å·¥è€ƒå‹¤ç³»ç»Ÿ
```

### 6.3 Namespaceèµ„æºéš”ç¦»


**ğŸ”’ éš”ç¦»æœºåˆ¶è¯¦è§£**
```
Namespaceæä¾›çš„éš”ç¦»ï¼š

åç§°éš”ç¦»ï¼š
- ä¸åŒNamespaceå¯ä»¥æœ‰åŒåèµ„æº
- dev/web-app å’Œ prod/web-app æ˜¯ä¸åŒèµ„æº

ç½‘ç»œéš”ç¦»ï¼š
- é€šè¿‡ç½‘ç»œç­–ç•¥å®ç°
- devç¯å¢ƒä¸èƒ½ç›´æ¥è®¿é—®prodç¯å¢ƒ

èµ„æºé…é¢ï¼š
- CPU/å†…å­˜ä½¿ç”¨é™åˆ¶
- Podæ•°é‡é™åˆ¶
- å­˜å‚¨ç©ºé—´é™åˆ¶
```

**ğŸ“Š è·¨Namespaceé€šä¿¡**
```
åŒä¸€Namespaceå†…ï¼š
service-name:port

è·¨Namespaceè®¿é—®ï¼š
service-name.namespace.svc.cluster.local:port

ä¾‹å¦‚ï¼š
redis.database.svc.cluster.local:6379
```

### 6.4 Namespaceå®é™…åº”ç”¨åœºæ™¯


**ğŸ¯ ç¯å¢ƒéš”ç¦»ç­–ç•¥**
```
å…¸å‹ä½¿ç”¨åœºæ™¯ï¼š

ç¯å¢ƒéš”ç¦»ï¼š
- developmentï¼šå¼€å‘ç¯å¢ƒ
- testingï¼šæµ‹è¯•ç¯å¢ƒ  
- stagingï¼šé¢„å‘å¸ƒç¯å¢ƒ
- productionï¼šç”Ÿäº§ç¯å¢ƒ

å›¢é˜Ÿéš”ç¦»ï¼š
- team-aï¼šAå›¢é˜Ÿèµ„æº
- team-bï¼šBå›¢é˜Ÿèµ„æº
- sharedï¼šå…±äº«èµ„æº

é¡¹ç›®éš”ç¦»ï¼š
- project-xï¼šXé¡¹ç›®
- project-yï¼šYé¡¹ç›®
```

**âš–ï¸ èµ„æºé…é¢ç®¡ç†**
```
èµ„æºé…é¢ç¤ºä¾‹ï¼š

å¼€å‘ç¯å¢ƒé…é¢ï¼š
- CPUï¼šæœ€å¤š10æ ¸
- å†…å­˜ï¼šæœ€å¤š20GB
- Podæ•°é‡ï¼šæœ€å¤š50ä¸ª
- å­˜å‚¨ï¼šæœ€å¤š100GB

ç”Ÿäº§ç¯å¢ƒé…é¢ï¼š
- CPUï¼šæœ€å¤š100æ ¸
- å†…å­˜ï¼šæœ€å¤š200GB  
- Podæ•°é‡ï¼šæœ€å¤š500ä¸ª
- å­˜å‚¨ï¼šæœ€å¤š1TB

é€šè¿‡é…é¢é¿å…èµ„æºæ»¥ç”¨
```

---

## 7. ğŸ· Labelæ ‡ç­¾ä¸Selectoré€‰æ‹©å™¨


### 7.1 Labelæ ‡ç­¾ç³»ç»Ÿ


**é€šä¿—ç†è§£**ï¼šLabelå°±åƒå•†å“ä¸Šçš„æ ‡ç­¾è´´çº¸ï¼Œä½ å¯ä»¥ç»™æ¯ä¸ªå•†å“è´´ä¸Šå¤šä¸ªæ ‡ç­¾ï¼Œæ¯”å¦‚"ç”µå­äº§å“"ã€"çƒ­é”€"ã€"æ‰“æŠ˜"ç­‰ã€‚é€šè¿‡æ ‡ç­¾å¯ä»¥å¿«é€Ÿæ‰¾åˆ°éœ€è¦çš„å•†å“ã€‚

**ğŸª æ ‡ç­¾ç³»ç»Ÿçš„å®é™…ä½œç”¨**
```
ç”Ÿæ´»ä¸­çš„æ ‡ç­¾åº”ç”¨ï¼š         Kubernetesä¸­çš„Labelï¼š
ğŸ“± æ‰‹æœºï¼šç”µå­äº§å“ã€çƒ­é”€     Podï¼šapp=web, env=prod
ğŸ‘• è¡£æœï¼šæœè£…ã€æ‰“æŠ˜ã€æ–°æ¬¾   Serviceï¼štier=frontend  
ğŸ è‹¹æœï¼šæ°´æœã€æœ‰æœºã€è¿›å£   Nodeï¼šzone=us-east-1

æ ‡ç­¾çš„ä»·å€¼ï¼š
âœ… å¿«é€Ÿåˆ†ç±»æŸ¥æ‰¾
âœ… æ‰¹é‡æ“ä½œç®¡ç†
âœ… çµæ´»ç»„åˆé€‰æ‹©
âœ… å…³ç³»æ˜ å°„å»ºç«‹
```

### 7.2 Labelçš„è®¾è®¡åŸåˆ™


**ğŸ¯ æ ‡ç­¾å‘½åæœ€ä½³å®è·µ**
```
æ¨èçš„æ ‡ç­¾æ ¼å¼ï¼š

åº”ç”¨ç›¸å…³ï¼š
- app: web-server
- version: v1.2.3  
- component: frontend

ç¯å¢ƒç›¸å…³ï¼š
- environment: production
- tier: database
- release: stable

å›¢é˜Ÿç›¸å…³ï¼š
- team: platform
- owner: john.doe
- project: ecommerce

é¿å…çš„æ ‡ç­¾ï¼š
âŒ å¤ªé•¿ï¼švery-long-label-name-that-is-hard-to-read
âŒ ç‰¹æ®Šå­—ç¬¦ï¼šapp@#$%
âŒ æ— æ„ä¹‰ï¼šlabel1, abc, test
```

**ğŸ“‹ æ ‡ç­¾å€¼ç±»å‹è¯´æ˜**
```
æ ‡ç­¾å€¼é™åˆ¶ï¼š
- æœ€å¤§é•¿åº¦ï¼š63å­—ç¬¦
- å…è®¸å­—ç¬¦ï¼šå­—æ¯ã€æ•°å­—ã€-ã€_ã€.
- å¼€å¤´ç»“å°¾ï¼šå¿…é¡»æ˜¯å­—æ¯æˆ–æ•°å­—

æœ‰æ•ˆæ ‡ç­¾ç¤ºä¾‹ï¼š
âœ… app: nginx
âœ… version: 1.0
âœ… env: prod
âœ… region: us-west-2

æ— æ•ˆæ ‡ç­¾ç¤ºä¾‹ï¼š
âŒ app: -nginx  (ä¸èƒ½ä»¥-å¼€å¤´)
âŒ name: ""     (ç©ºå€¼)
âŒ key: $pecial (åŒ…å«ç‰¹æ®Šå­—ç¬¦)
```

### 7.3 Selectoré€‰æ‹©å™¨æœºåˆ¶


**ğŸ” é€‰æ‹©å™¨å·¥ä½œåŸç†**

é€‰æ‹©å™¨å°±åƒè¶…å¸‚çš„è´­ç‰©æ¸…å•ï¼Œä½ åˆ—å‡ºè¦ä¹°å•†å“çš„ç‰¹å¾ï¼Œæ”¶é“¶å‘˜å¸®ä½ æ‰¾åˆ°æ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„å•†å“ã€‚

**åŸºæœ¬é€‰æ‹©å™¨ç±»å‹**ï¼š
```
ç­‰å€¼é€‰æ‹©å™¨ï¼š
environment = production     # ç­‰äº
environment != development   # ä¸ç­‰äº

é›†åˆé€‰æ‹©å™¨ï¼š  
environment in (prod, test)  # åœ¨é›†åˆä¸­
tier notin (cache, db)      # ä¸åœ¨é›†åˆä¸­
partition                    # å­˜åœ¨æ ‡ç­¾
!partition                   # ä¸å­˜åœ¨æ ‡ç­¾
```

**ğŸ¯ é€‰æ‹©å™¨å®é™…åº”ç”¨**
```
Serviceé€‰æ‹©Podï¼š
Serviceé…ç½®ï¼š
selector:
  app: web
  tier: frontend

åŒ¹é…çš„Podï¼š
Pod1: app=web, tier=frontend, version=v1   âœ…åŒ¹é…
Pod2: app=web, tier=backend, version=v1    âŒä¸åŒ¹é…
Pod3: app=db, tier=frontend, version=v1    âŒä¸åŒ¹é…

Serviceåªä¼šå°†æµé‡å‘é€ç»™Pod1
```

### 7.4 Labelåœ¨èµ„æºç®¡ç†ä¸­çš„åº”ç”¨


**ğŸ”§ æ‰¹é‡æ“ä½œç®¡ç†**
```
åŸºäºæ ‡ç­¾çš„æ‰¹é‡æ“ä½œï¼š

æŸ¥æ‰¾èµ„æºï¼š
è·å–æ‰€æœ‰ç”Ÿäº§ç¯å¢ƒçš„Pod
é€‰æ‹©å™¨ï¼šenvironment=production

åˆ é™¤èµ„æºï¼š
åˆ é™¤æ‰€æœ‰æµ‹è¯•ç‰ˆæœ¬çš„èµ„æº
é€‰æ‹©å™¨ï¼šversion=test

æ›´æ–°èµ„æºï¼š
ç»™æ‰€æœ‰webåº”ç”¨æ·»åŠ ç›‘æ§æ ‡ç­¾
é€‰æ‹©å™¨ï¼šapp=web
```

**ğŸ“Š ç›‘æ§å’Œè§‚æµ‹**
```
åŸºäºæ ‡ç­¾çš„ç›‘æ§ï¼š

CPUä½¿ç”¨ç‡ï¼š
æŒ‰åº”ç”¨åˆ†ç»„ï¼šgroup by app
æŒ‰ç¯å¢ƒåˆ†ç»„ï¼šgroup by environment

å‘Šè­¦è§„åˆ™ï¼š
ç”Ÿäº§ç¯å¢ƒé«˜CPUï¼šenvironment=production AND cpu>80%
æ•°æ®åº“è¿æ¥æ•°ï¼štier=database AND connections>100

æ—¥å¿—èšåˆï¼š
åº”ç”¨æ—¥å¿—ï¼šapp=web
é”™è¯¯æ—¥å¿—ï¼šseverity=error
```

**âš–ï¸ èµ„æºè°ƒåº¦ç­–ç•¥**
```
åŸºäºæ ‡ç­¾çš„è°ƒåº¦ï¼š

èŠ‚ç‚¹é€‰æ‹©ï¼š
Podéœ€è¦SSDå­˜å‚¨ï¼š
nodeSelector:
  disk-type: ssd

äº²å’Œæ€§è°ƒåº¦ï¼š
Webåº”ç”¨é è¿‘ç¼“å­˜ï¼š
podAffinity:
  labelSelector:
    matchLabels:
      app: cache

åäº²å’Œæ€§ï¼š
ä¸åŒå¯ç”¨åŒºéƒ¨ç½²ï¼š
podAntiAffinity:
  labelSelector:
    matchLabels:
      app: database
```

---

## 8. ğŸ“ YAMLé…ç½®æ–‡ä»¶å®æˆ˜


### 8.1 YAMLåŸºç¡€è¯­æ³•


**é€šä¿—ç†è§£**ï¼šYAMLå°±åƒä¸€ä»½ç»“æ„åŒ–çš„è¡¨æ ¼ï¼Œç”¨ç¼©è¿›æ¥è¡¨ç¤ºå±‚çº§å…³ç³»ï¼Œæ¯”JSONæ›´å®¹æ˜“é˜…è¯»ï¼Œæ˜¯Kubernetesçš„æ ‡å‡†é…ç½®æ ¼å¼ã€‚

**ğŸ“‹ YAMLè¯­æ³•è¦ç‚¹**
```
åŸºæœ¬è¯­æ³•è§„åˆ™ï¼š
âœ… ä½¿ç”¨ç©ºæ ¼ç¼©è¿›ï¼ˆä¸è¦ç”¨Tabï¼‰
âœ… åŒçº§å…ƒç´ ç›¸åŒç¼©è¿›
âœ… ä½¿ç”¨"-"è¡¨ç¤ºåˆ—è¡¨
âœ… ä½¿ç”¨":"è¡¨ç¤ºé”®å€¼å¯¹
âœ… å­—ç¬¦ä¸²é€šå¸¸ä¸éœ€è¦å¼•å·

ç¤ºä¾‹å¯¹æ¯”ï¼š
JSONæ ¼å¼ï¼š
{
  "name": "web-app",
  "replicas": 3,
  "ports": [80, 443]
}

YAMLæ ¼å¼ï¼š
name: web-app
replicas: 3
ports:
  - 80
  - 443
```

### 8.2 Kubernetesèµ„æºçš„YAMLç»“æ„


**ğŸ— æ ‡å‡†YAMLç»“æ„**
```
Kubernetes YAMLçš„å›ºå®šç»“æ„ï¼š

apiVersion: apps/v1    # APIç‰ˆæœ¬
kind: Deployment       # èµ„æºç±»å‹  
metadata:              # å…ƒæ•°æ®
  name: web-app
  namespace: production
  labels:
    app: web
spec:                  # èµ„æºè§„æ ¼
  replicas: 3
  selector:
    matchLabels:
      app: web
  template:
    # Podæ¨¡æ¿å®šä¹‰
status:                # çŠ¶æ€ä¿¡æ¯(ç³»ç»Ÿè‡ªåŠ¨ç”Ÿæˆ)
  readyReplicas: 3
```

**ğŸ“Š å„éƒ¨åˆ†è¯¦ç»†è¯´æ˜**
- **apiVersion**ï¼šå‘Šè¯‰Kubernetesä½¿ç”¨å“ªä¸ªAPIç‰ˆæœ¬
- **kind**ï¼šè¯´æ˜è¿™æ˜¯ä»€ä¹ˆç±»å‹çš„èµ„æº
- **metadata**ï¼šèµ„æºçš„èº«ä»½ä¿¡æ¯ï¼Œç±»ä¼¼èº«ä»½è¯
- **spec**ï¼šæœŸæœ›çš„çŠ¶æ€ï¼Œå‘Šè¯‰ç³»ç»Ÿè¦åšä»€ä¹ˆ
- **status**ï¼šå½“å‰å®é™…çŠ¶æ€ï¼Œç³»ç»Ÿè‡ªåŠ¨ç»´æŠ¤

### 8.3 å®Œæ•´YAMLé…ç½®ç¤ºä¾‹


**ğŸš€ Deploymenté…ç½®å®ä¾‹**
```yaml
# Webåº”ç”¨éƒ¨ç½²é…ç½®
apiVersion: apps/v1
kind: Deployment
metadata:
  name: web-server
  namespace: production
  labels:
    app: web
    version: v1.0
    env: prod
spec:
  # å‰¯æœ¬æ•°é‡
  replicas: 3
  
  # Podé€‰æ‹©å™¨
  selector:
    matchLabels:
      app: web
      
  # Podæ¨¡æ¿
  template:
    metadata:
      labels:
        app: web
        version: v1.0
    spec:
      containers:
      - name: web-container
        image: nginx:1.20
        ports:
        - containerPort: 80
        # èµ„æºé™åˆ¶
        resources:
          requests:
            memory: "64Mi"
            cpu: "250m"
          limits:
            memory: "128Mi"
            cpu: "500m"
        # å¥åº·æ£€æŸ¥
        livenessProbe:
          httpGet:
            path: /health
            port: 80
          initialDelaySeconds: 30
          periodSeconds: 10
```

**ğŸŒ Serviceé…ç½®å®ä¾‹**
```yaml
# WebæœåŠ¡é…ç½®
apiVersion: v1
kind: Service
metadata:
  name: web-service
  namespace: production
  labels:
    app: web
spec:
  type: ClusterIP
  ports:
  - name: http
    port: 80
    targetPort: 80
    protocol: TCP
  selector:
    app: web
```

### 8.4 YAMLé…ç½®æœ€ä½³å®è·µ


**âœ… é…ç½®æ–‡ä»¶ç»„ç»‡**
```
æ¨èçš„æ–‡ä»¶ç»„ç»‡æ–¹å¼ï¼š

å•æ–‡ä»¶å¤šèµ„æºï¼š
---
apiVersion: apps/v1
kind: Deployment
# Deploymenté…ç½®
---
apiVersion: v1  
kind: Service
# Serviceé…ç½®

åˆ†æ–‡ä»¶ç»„ç»‡ï¼š
web-deployment.yaml
web-service.yaml  
web-configmap.yaml

ç›®å½•ç»“æ„ï¼š
k8s/
â”œâ”€â”€ deployments/
â”œâ”€â”€ services/
â”œâ”€â”€ configmaps/
â””â”€â”€ secrets/
```

**ğŸ”§ é…ç½®ç®¡ç†æŠ€å·§**
```
ç¯å¢ƒé…ç½®åˆ†ç¦»ï¼š

base/
â”œâ”€â”€ deployment.yaml    # åŸºç¡€é…ç½®
â””â”€â”€ service.yaml

overlays/
â”œâ”€â”€ dev/               # å¼€å‘ç¯å¢ƒè¦†ç›–
â”‚   â””â”€â”€ deployment.yaml
â”œâ”€â”€ test/              # æµ‹è¯•ç¯å¢ƒè¦†ç›–  
â”‚   â””â”€â”€ deployment.yaml
â””â”€â”€ prod/              # ç”Ÿäº§ç¯å¢ƒè¦†ç›–
    â””â”€â”€ deployment.yaml

ä½¿ç”¨Kustomizeæˆ–Helmç®¡ç†ä¸åŒç¯å¢ƒé…ç½®
```

**âš ï¸ å¸¸è§YAMLé”™è¯¯**
```
å¸¸è§é”™è¯¯åŠè§£å†³ï¼š

ç¼©è¿›é”™è¯¯ï¼š
âŒ æ··ç”¨ç©ºæ ¼å’ŒTab
âŒ ç¼©è¿›ä¸å¯¹é½
âœ… ç»Ÿä¸€ä½¿ç”¨2ä¸ªç©ºæ ¼ç¼©è¿›

å¼•ç”¨é”™è¯¯ï¼š
âŒ ç‰¹æ®Šå­—ç¬¦æœªåŠ å¼•å·
âŒ æ•°å­—å½“ä½œå­—ç¬¦ä¸²
âœ… éœ€è¦æ—¶æ­£ç¡®ä½¿ç”¨å¼•å·

ç»“æ„é”™è¯¯ï¼š
âŒ å¿…éœ€å­—æ®µç¼ºå¤±
âŒ å­—æ®µåæ‹¼å†™é”™è¯¯  
âœ… ä½¿ç”¨kubectléªŒè¯é…ç½®
```

**ğŸ” é…ç½®éªŒè¯æ–¹æ³•**
```bash
# è¯­æ³•æ£€æŸ¥ï¼ˆä¸å®é™…åˆ›å»ºèµ„æºï¼‰
kubectl apply --dry-run=client -f web-app.yaml

# æœåŠ¡å™¨ç«¯éªŒè¯
kubectl apply --dry-run=server -f web-app.yaml

# é…ç½®å·®å¼‚å¯¹æ¯”
kubectl diff -f web-app.yaml
```

---

## 9. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 9.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ Kubernetesæœ¬è´¨ï¼šæ™ºèƒ½çš„å®¹å™¨ç¼–æ’å’Œç®¡ç†å¹³å°
ğŸ”¸ é›†ç¾¤æ¶æ„ï¼šMaster(å¤§è„‘) + Worker(æ‰§è¡Œ)çš„åˆ†å¸ƒå¼æ¶æ„  
ğŸ”¸ Podæ¦‚å¿µï¼šå®¹å™¨ç»„ï¼ŒKubernetesè°ƒåº¦çš„æœ€å°å•ä½
ğŸ”¸ ServiceæŠ½è±¡ï¼šä¸ºPodæä¾›ç¨³å®šçš„ç½‘ç»œè®¿é—®å…¥å£
ğŸ”¸ Deploymentæ§åˆ¶ï¼šè‡ªåŠ¨åŒ–çš„åº”ç”¨éƒ¨ç½²å’Œç®¡ç†
ğŸ”¸ Namespaceéš”ç¦»ï¼šå¤šç§Ÿæˆ·ç¯å¢ƒçš„èµ„æºéš”ç¦»æœºåˆ¶
ğŸ”¸ Labelç³»ç»Ÿï¼šçµæ´»çš„èµ„æºæ ‡è®°å’Œé€‰æ‹©æœºåˆ¶
ğŸ”¸ YAMLé…ç½®ï¼šå£°æ˜å¼çš„èµ„æºå®šä¹‰æ ¼å¼
```

### 9.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ Kubernetesçš„æ ¸å¿ƒä»·å€¼**
```
è‡ªåŠ¨åŒ–èƒ½åŠ›ï¼š
- å®¹å™¨è°ƒåº¦ï¼šæ™ºèƒ½åˆ†é…èµ„æºåˆ°åˆé€‚èŠ‚ç‚¹
- æ•…éšœæ¢å¤ï¼šè‡ªåŠ¨æ£€æµ‹å¹¶ä¿®å¤æ•…éšœ  
- å¼¹æ€§ä¼¸ç¼©ï¼šæ ¹æ®è´Ÿè½½è‡ªåŠ¨è°ƒæ•´è§„æ¨¡
- æ»šåŠ¨æ›´æ–°ï¼šé›¶åœæœºçš„åº”ç”¨ç‰ˆæœ¬å‡çº§

å£°æ˜å¼ç®¡ç†ï¼š
- æè¿°æœŸæœ›çŠ¶æ€è€Œéæ‰§è¡Œæ­¥éª¤
- ç³»ç»Ÿè‡ªåŠ¨ä¿æŒå®é™…çŠ¶æ€ä¸æœŸæœ›ä¸€è‡´
- ç®€åŒ–äº†å¤æ‚ç³»ç»Ÿçš„è¿ç»´ç®¡ç†
```

**ğŸ”¹ å„ç»„ä»¶é—´çš„å…³ç³»**
```
åä½œå…³ç³»å›¾ï¼š
ç”¨æˆ· â†’ YAMLé…ç½® â†’ API Server â†’ etcdå­˜å‚¨
              â†“
Scheduler â†’ é€‰æ‹©èŠ‚ç‚¹ â†’ kubelet â†’ åˆ›å»ºPod
              â†“
Service â†’ æ ‡ç­¾é€‰æ‹©å™¨ â†’ å‘ç°Pod â†’ è´Ÿè½½å‡è¡¡
              â†“  
Deployment â†’ ReplicaSet â†’ ç®¡ç†Pod â†’ ç¡®ä¿å‰¯æœ¬æ•°
```

**ğŸ”¹ å­¦ä¹ è¦ç‚¹æç‚¼**
```
ç†è§£å±‚æ¬¡ï¼š
ğŸ”° æ¦‚å¿µç†è§£ï¼šçŸ¥é“æ˜¯ä»€ä¹ˆï¼Œè§£å†³ä»€ä¹ˆé—®é¢˜
ğŸ”¸ åŸç†æŒæ¡ï¼šæ˜ç™½å†…éƒ¨å·¥ä½œæœºåˆ¶
ğŸ”¹ å®è·µåº”ç”¨ï¼šèƒ½å¤Ÿç¼–å†™å’Œéƒ¨ç½²é…ç½®
ğŸ¯ ä¼˜åŒ–è¿›é˜¶ï¼šæ€§èƒ½è°ƒä¼˜å’Œæœ€ä½³å®è·µ
```

### 9.3 å®é™…åº”ç”¨ä»·å€¼


**ğŸ’¼ ä¼ä¸šçº§åº”ç”¨åœºæ™¯**
- **å¾®æœåŠ¡æ¶æ„**ï¼šç®¡ç†å¤æ‚çš„å¾®æœåŠ¡ç³»ç»Ÿ
- **CI/CDæµæ°´çº¿**ï¼šè‡ªåŠ¨åŒ–éƒ¨ç½²å’Œæ›´æ–°
- **å¤šç¯å¢ƒç®¡ç†**ï¼šå¼€å‘ã€æµ‹è¯•ã€ç”Ÿäº§ç¯å¢ƒéš”ç¦»
- **èµ„æºä¼˜åŒ–**ï¼šæé«˜ç¡¬ä»¶èµ„æºåˆ©ç”¨ç‡
- **æ•…éšœæ¢å¤**ï¼šè‡ªåŠ¨åŒ–çš„æ•…éšœæ£€æµ‹å’Œæ¢å¤

**ğŸš€ æŠ€èƒ½å‘å±•ä»·å€¼**
- **äº‘åŸç”ŸæŠ€æœ¯**ï¼šç°ä»£åº”ç”¨å¼€å‘çš„æ ‡å‡†
- **DevOpså®è·µ**ï¼šå¼€å‘è¿ç»´ä¸€ä½“åŒ–çš„åŸºç¡€
- **å®¹å™¨ç”Ÿæ€**ï¼šDockerç”Ÿæ€çš„è‡ªç„¶å»¶ä¼¸  
- **èŒä¸šå‘å±•**ï¼šäº‘è®¡ç®—å’Œå®¹å™¨æŠ€æœ¯çš„æ ¸å¿ƒæŠ€èƒ½

### 9.4 å­¦ä¹ è¿›é˜¶å»ºè®®


**ğŸ“š åç»­å­¦ä¹ è·¯å¾„**
```
åŸºç¡€å·©å›ºï¼š
âœ… æ·±å…¥ç†è§£Podã€Serviceã€Deployment
âœ… ç†Ÿç»ƒç¼–å†™YAMLé…ç½®æ–‡ä»¶
âœ… æŒæ¡kubectlå‘½ä»¤è¡Œå·¥å…·

è¿›é˜¶æå‡ï¼š
ğŸ”¸ é…ç½®ç®¡ç†ï¼šConfigMapã€Secret
ğŸ”¸ å­˜å‚¨ç®¡ç†ï¼šPersistentVolumeã€StorageClass  
ğŸ”¸ ç½‘ç»œç®¡ç†ï¼šIngressã€NetworkPolicy
ğŸ”¸ å®‰å…¨ç®¡ç†ï¼šRBACã€SecurityContext

é«˜çº§åº”ç”¨ï¼š
ğŸ”¹ ç›‘æ§å‘Šè­¦ï¼šPrometheusã€Grafana
ğŸ”¹ æ—¥å¿—ç®¡ç†ï¼šELKã€Fluentd
ğŸ”¹ æœåŠ¡ç½‘æ ¼ï¼šIstioã€Linkerd  
ğŸ”¹ é›†ç¾¤ç®¡ç†ï¼šå¤šé›†ç¾¤ã€æ··åˆäº‘
```

**ğŸ’¡ å®è·µç»ƒä¹ å»ºè®®**
- åœ¨æœ¬åœ°æ­å»ºKubernetesæµ‹è¯•ç¯å¢ƒï¼ˆminikubeï¼‰
- éƒ¨ç½²ç®€å•çš„Webåº”ç”¨ç»ƒä¹ åŸºç¡€æ¦‚å¿µ
- å°è¯•ä¸åŒçš„Serviceç±»å‹å’Œè®¿é—®æ–¹å¼
- ç»ƒä¹ YAMLé…ç½®æ–‡ä»¶çš„ç¼–å†™å’Œè°ƒè¯•
- æ¨¡æ‹Ÿæ•…éšœåœºæ™¯æµ‹è¯•è‡ªæ„ˆèƒ½åŠ›

**ğŸ¯ æ ¸å¿ƒè®°å¿†è¦ç‚¹**
- Kubernetesæ˜¯å®¹å™¨ç¼–æ’çš„äº‹å®æ ‡å‡†
- Podæ˜¯è°ƒåº¦å•ä½ï¼ŒServiceæä¾›ç½‘ç»œæŠ½è±¡
- Deploymentç®¡ç†åº”ç”¨ç”Ÿå‘½å‘¨æœŸ
- æ ‡ç­¾ç³»ç»Ÿå®ç°çµæ´»çš„èµ„æºç®¡ç†
- YAMLæ˜¯å£°æ˜å¼é…ç½®çš„è½½ä½“
- æŒæ¡åŸºç¡€æ¦‚å¿µæ˜¯æ·±å…¥å­¦ä¹ çš„å…³é”®