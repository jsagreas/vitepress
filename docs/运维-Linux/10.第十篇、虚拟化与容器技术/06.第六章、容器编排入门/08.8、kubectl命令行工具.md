---
title: 8ã€kubectlå‘½ä»¤è¡Œå·¥å…·
---
## ğŸ“š ç›®å½•

1. [kubectlåŸºç¡€æ¦‚å¿µä¸ä½œç”¨](#1-kubectlåŸºç¡€æ¦‚å¿µä¸ä½œç”¨)
2. [kubectlå®‰è£…ä¸é…ç½®](#2-kubectlå®‰è£…ä¸é…ç½®)
3. [kubeconfigé…ç½®æ–‡ä»¶è¯¦è§£](#3-kubeconfigé…ç½®æ–‡ä»¶è¯¦è§£)
4. [é›†ç¾¤è¿æ¥ä¸è®¤è¯æœºåˆ¶](#4-é›†ç¾¤è¿æ¥ä¸è®¤è¯æœºåˆ¶)
5. [kubectlåŸºç¡€å‘½ä»¤è¯­æ³•](#5-kubectlåŸºç¡€å‘½ä»¤è¯­æ³•)
6. [èµ„æºæŸ¥çœ‹å‘½ä»¤è¯¦è§£](#6-èµ„æºæŸ¥çœ‹å‘½ä»¤è¯¦è§£)
7. [èµ„æºæ“ä½œå‘½ä»¤å®è·µ](#7-èµ„æºæ“ä½œå‘½ä»¤å®è·µ)
8. [æ—¥å¿—ä¸è°ƒè¯•å‘½ä»¤](#8-æ—¥å¿—ä¸è°ƒè¯•å‘½ä»¤)
9. [å‘½ä»¤è¡Œè¡¥å…¨é…ç½®](#9-å‘½ä»¤è¡Œè¡¥å…¨é…ç½®)
10. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#10-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ”§ kubectlåŸºç¡€æ¦‚å¿µä¸ä½œç”¨


### 1.1 ä»€ä¹ˆæ˜¯kubectl


**kubectl**å°±æ˜¯æ“ä½œKubernetesé›†ç¾¤çš„"é¥æ§å™¨"ï¼Œå°±åƒç”¨æ‰‹æœºé¥æ§ç©ºè°ƒä¸€æ ·æ–¹ä¾¿ã€‚

> **ğŸ’¡ æ ¸å¿ƒç†è§£**
> kubectl = Kubernetesçš„å‘½ä»¤è¡Œå®¢æˆ·ç«¯ï¼Œè®©ä½ èƒ½å¤Ÿè¿œç¨‹ç®¡ç†é›†ç¾¤ä¸­çš„å„ç§èµ„æº

**ğŸ”¸ kubectlçš„ä½œç”¨ï¼š**
```
ä¼ ç»ŸæœåŠ¡å™¨ç®¡ç†ï¼š
SSHç™»å½• â†’ æ‰‹åŠ¨æ“ä½œ â†’ é…ç½®æœåŠ¡

Kubernetesç®¡ç†ï¼š
kubectlå‘½ä»¤ â†’ è‡ªåŠ¨éƒ¨ç½² â†’ ç®¡ç†åº”ç”¨
```

### 1.2 kubectlä¸Kubernetesçš„å…³ç³»


```
Kubernetesæ¶æ„å›¾ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    APIè°ƒç”¨    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    kubectl      â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’   â”‚  API Server     â”‚
â”‚   (å®¢æˆ·ç«¯)      â”‚               â”‚  (é›†ç¾¤å¤§è„‘)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                         â”‚
                                         â–¼
                                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                  â”‚   etcdå­˜å‚¨      â”‚
                                  â”‚   NodeèŠ‚ç‚¹      â”‚
                                  â”‚   Podå®¹å™¨       â”‚
                                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ğŸ”¹ å·¥ä½œåŸç†ï¼š**
- kubectlå‘é€HTTPè¯·æ±‚åˆ°API Server
- API ServeréªŒè¯æƒé™å¹¶å¤„ç†è¯·æ±‚
- é›†ç¾¤æ ¹æ®å‘½ä»¤æ‰§è¡Œç›¸åº”æ“ä½œ
- è¿”å›ç»“æœç»™kubectlæ˜¾ç¤º

---

## 2. ğŸ“¦ kubectlå®‰è£…ä¸é…ç½®


### 2.1 ä¸åŒç³»ç»Ÿçš„å®‰è£…æ–¹æ³•


**ğŸ§ Linuxç³»ç»Ÿå®‰è£…ï¼š**
```bash
# æ–¹æ³•1ï¼šä½¿ç”¨åŒ…ç®¡ç†å™¨ï¼ˆæ¨èï¼‰
# Ubuntu/Debian
sudo apt-get update
sudo apt-get install kubectl

# CentOS/RHEL
sudo yum install kubectl
```

**ğŸ macOSç³»ç»Ÿå®‰è£…ï¼š**
```bash
# ä½¿ç”¨Homebrewï¼ˆæœ€ç®€å•ï¼‰
brew install kubectl

# æˆ–ä½¿ç”¨MacPorts
sudo port install kubectl
```

**ğŸªŸ Windowsç³»ç»Ÿå®‰è£…ï¼š**
```powershell
# ä½¿ç”¨Chocolatey
choco install kubernetes-cli

# æˆ–ä½¿ç”¨Scoop
scoop install kubectl
```

### 2.2 æ‰‹åŠ¨å®‰è£…æ–¹æ³•


**âš¡ é€šç”¨æ‰‹åŠ¨å®‰è£…ï¼š**
```bash
# ä¸‹è½½æœ€æ–°ç‰ˆæœ¬
curl -LO "https://dl.k8s.io/release/$(curl -L -s https://dl.k8s.io/release/stable.txt)/bin/linux/amd64/kubectl"

# æ·»åŠ æ‰§è¡Œæƒé™
chmod +x kubectl

# ç§»åŠ¨åˆ°ç³»ç»Ÿè·¯å¾„
sudo mv kubectl /usr/local/bin/
```

### 2.3 éªŒè¯å®‰è£…


**ğŸ“‹ æ£€æŸ¥å®‰è£…çŠ¶æ€ï¼š**
```bash
# æŸ¥çœ‹kubectlç‰ˆæœ¬
kubectl version --client

# è¾“å‡ºç¤ºä¾‹ï¼š
Client Version: version.Info{
  Major:"1", Minor:"28", GitVersion:"v1.28.2"
}
```

---

## 3. âš™ï¸ kubeconfigé…ç½®æ–‡ä»¶è¯¦è§£


### 3.1 kubeconfigæ–‡ä»¶çš„ä½œç”¨


**kubeconfig**å°±åƒæ˜¯kubectlçš„"é€šè®¯å½•"ï¼Œè®°å½•äº†å¦‚ä½•è¿æ¥åˆ°ä¸åŒçš„Kubernetesé›†ç¾¤ã€‚

> **ğŸ” å®è·µæ„ä¹‰**
> æœ‰äº†kubeconfigï¼Œkubectlå°±çŸ¥é“è¿æ¥å“ªä¸ªé›†ç¾¤ã€ç”¨ä»€ä¹ˆèº«ä»½ã€è®¿é—®å“ªäº›èµ„æº

### 3.2 kubeconfigæ–‡ä»¶ä½ç½®


**ğŸ“ é»˜è®¤é…ç½®æ–‡ä»¶ä½ç½®ï¼š**
- Linux/macOSï¼š`~/.kube/config`
- Windowsï¼š`%USERPROFILE%\.kube\config`

**ğŸ”§ è‡ªå®šä¹‰é…ç½®æ–‡ä»¶ï¼š**
```bash
# æŒ‡å®šé…ç½®æ–‡ä»¶
kubectl --kubeconfig=/path/to/config get pods

# è®¾ç½®ç¯å¢ƒå˜é‡
export KUBECONFIG=/path/to/config
```

### 3.3 kubeconfigæ–‡ä»¶ç»“æ„


**ğŸ“‹ åŸºæœ¬ç»“æ„è§£æï¼š**
```yaml
apiVersion: v1
kind: Config
# é›†ç¾¤ä¿¡æ¯
clusters:
- cluster:
    server: https://kubernetes-api.example.com:6443
    certificate-authority-data: LS0tLS1CRUdJTi...
  name: my-cluster

# ç”¨æˆ·å‡­æ®
users:
- name: my-user
  user:
    token: eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9...

# ä¸Šä¸‹æ–‡ï¼ˆé›†ç¾¤+ç”¨æˆ·çš„ç»„åˆï¼‰
contexts:
- context:
    cluster: my-cluster
    user: my-user
    namespace: default
  name: my-context

# å½“å‰ä½¿ç”¨çš„ä¸Šä¸‹æ–‡
current-context: my-context
```

### 3.4 å¤šé›†ç¾¤é…ç½®ç®¡ç†


**ğŸ¯ å®ç”¨åœºæ™¯é…ç½®ï¼š**

| ç¯å¢ƒ | **é›†ç¾¤å** | **ç”¨é€”** | **å‘½åç©ºé—´** |
|------|-----------|----------|-------------|
| `å¼€å‘ç¯å¢ƒ` | dev-cluster | æ—¥å¸¸å¼€å‘æµ‹è¯• | dev |
| `æµ‹è¯•ç¯å¢ƒ` | test-cluster | åŠŸèƒ½éªŒè¯ | test |
| `ç”Ÿäº§ç¯å¢ƒ` | prod-cluster | æ­£å¼æœåŠ¡ | production |

**âš¡ ä¸Šä¸‹æ–‡åˆ‡æ¢å‘½ä»¤ï¼š**
```bash
# æŸ¥çœ‹æ‰€æœ‰ä¸Šä¸‹æ–‡
kubectl config get-contexts

# åˆ‡æ¢åˆ°å¼€å‘ç¯å¢ƒ
kubectl config use-context dev-context

# æŸ¥çœ‹å½“å‰ä¸Šä¸‹æ–‡
kubectl config current-context
```

---

## 4. ğŸ” é›†ç¾¤è¿æ¥ä¸è®¤è¯æœºåˆ¶


### 4.1 è®¤è¯æ–¹å¼æ¦‚è§ˆ


**ğŸ”¸ å¸¸è§è®¤è¯æ–¹å¼ï¼š**
- **Tokenè®¤è¯**ï¼šä½¿ç”¨Service Account Token
- **è¯ä¹¦è®¤è¯**ï¼šä½¿ç”¨X.509å®¢æˆ·ç«¯è¯ä¹¦  
- **ç”¨æˆ·åå¯†ç **ï¼šåŸºç¡€HTTPè®¤è¯
- **OIDCè®¤è¯**ï¼šä¸å¤–éƒ¨èº«ä»½æä¾›å•†é›†æˆ

### 4.2 Service Account Tokenè®¤è¯


**ğŸ“ Tokenè·å–æ­¥éª¤ï¼š**
```bash
# 1. åˆ›å»ºService Account
kubectl create serviceaccount my-sa

# 2. åˆ›å»ºToken
kubectl create token my-sa

# 3. å°†Tokenæ·»åŠ åˆ°kubeconfig
kubectl config set-credentials my-user --token=<YOUR_TOKEN>
```

### 4.3 è¯ä¹¦è®¤è¯é…ç½®


**ğŸ”§ è¯ä¹¦è®¤è¯ç¤ºä¾‹ï¼š**
```bash
# è®¾ç½®é›†ç¾¤è¯ä¹¦
kubectl config set-cluster my-cluster \
  --server=https://k8s-api.example.com:6443 \
  --certificate-authority=ca.crt

# è®¾ç½®å®¢æˆ·ç«¯è¯ä¹¦
kubectl config set-credentials my-user \
  --client-certificate=client.crt \
  --client-key=client.key
```

### 4.4 è¿æ¥æµ‹è¯•


**âœ… éªŒè¯é›†ç¾¤è¿æ¥ï¼š**
```bash
# æµ‹è¯•é›†ç¾¤è¿é€šæ€§
kubectl cluster-info

# è¾“å‡ºç¤ºä¾‹ï¼š
Kubernetes control plane is running at https://k8s-api.example.com:6443
CoreDNS is running at https://k8s-api.example.com:6443/api/v1/namespaces/kube-system/services/kube-dns:dns/proxy

# æ£€æŸ¥æƒé™
kubectl auth can-i get pods
kubectl auth can-i create deployments
```

---

## 5. ğŸ“ kubectlåŸºç¡€å‘½ä»¤è¯­æ³•


### 5.1 å‘½ä»¤ç»“æ„è§„å¾‹


**ğŸ”¸ æ ‡å‡†å‘½ä»¤æ ¼å¼ï¼š**
```
kubectl [å‘½ä»¤] [ç±»å‹] [åç§°] [æ ‡å¿—]

å®ä¾‹åˆ†è§£ï¼š
kubectl get pods my-pod -o yaml
â”‚       â”‚   â”‚    â”‚      â”‚
â”‚       â”‚   â”‚    â”‚      â””â”€ è¾“å‡ºæ ¼å¼
â”‚       â”‚   â”‚    â””â”€ èµ„æºåç§°
â”‚       â”‚   â””â”€ èµ„æºç±»å‹  
â”‚       â””â”€ æ“ä½œå‘½ä»¤
â””â”€ å‘½ä»¤å·¥å…·
```

### 5.2 å¸¸ç”¨å‘½ä»¤åˆ†ç±»


**ğŸ“Š å‘½ä»¤åŠŸèƒ½åˆ†ç±»ï¼š**

| ç±»åˆ« | **å‘½ä»¤** | **ä½œç”¨** | **ä½¿ç”¨é¢‘ç‡** |
|------|----------|----------|-------------|
| **æŸ¥çœ‹** | `get`, `describe` | æŸ¥çœ‹èµ„æºä¿¡æ¯ | â­â­â­â­â­ |
| **åˆ›å»º** | `create`, `apply` | åˆ›å»º/æ›´æ–°èµ„æº | â­â­â­â­ |
| **åˆ é™¤** | `delete` | åˆ é™¤èµ„æº | â­â­â­ |
| **è°ƒè¯•** | `logs`, `exec` | é—®é¢˜è¯Šæ–­ | â­â­â­â­ |
| **ç¼–è¾‘** | `edit`, `patch` | ä¿®æ”¹èµ„æº | â­â­ |

### 5.3 å…¨å±€æ ‡å¿—å‚æ•°


**âš¡ å¸¸ç”¨å…¨å±€å‚æ•°ï¼š**
```bash
# æŒ‡å®šå‘½åç©ºé—´
kubectl get pods -n kube-system

# æ‰€æœ‰å‘½åç©ºé—´
kubectl get pods --all-namespaces

# è¾“å‡ºæ ¼å¼
kubectl get pods -o yaml        # YAMLæ ¼å¼
kubectl get pods -o json        # JSONæ ¼å¼
kubectl get pods -o wide        # æ‰©å±•ä¿¡æ¯

# æ ‡ç­¾é€‰æ‹©å™¨
kubectl get pods -l app=nginx

# å®æ—¶ç›‘æ§
kubectl get pods -w
```

---

## 6. ğŸ‘€ èµ„æºæŸ¥çœ‹å‘½ä»¤è¯¦è§£


### 6.1 getå‘½ä»¤ - å¿«é€ŸæŸ¥çœ‹


**getå‘½ä»¤**å°±åƒ"å¿«é€Ÿæµè§ˆ"ï¼Œç»™ä½ çœ‹èµ„æºçš„åŸºæœ¬ä¿¡æ¯ã€‚

**ğŸ”¸ åŸºç¡€ç”¨æ³•ï¼š**
```bash
# æŸ¥çœ‹æ‰€æœ‰Pod
kubectl get pods

# è¾“å‡ºç¤ºä¾‹ï¼š
NAME                     READY   STATUS    RESTARTS   AGE
nginx-deployment-abc123   1/1     Running   0          5m
mysql-pod-def456         1/1     Running   1          2h
```

**ğŸ”¹ è¿›é˜¶ç”¨æ³•ï¼š**
```bash
# æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯ï¼ˆIPåœ°å€ã€èŠ‚ç‚¹ç­‰ï¼‰
kubectl get pods -o wide

# æŒç»­ç›‘æ§å˜åŒ–
kubectl get pods -w

# æŒ‰æ ‡ç­¾ç­›é€‰
kubectl get pods -l app=nginx,version=1.0

# æŸ¥çœ‹ç‰¹å®šèµ„æº
kubectl get pod nginx-deployment-abc123
```

### 6.2 describeå‘½ä»¤ - è¯¦ç»†è¯Šæ–­


**describeå‘½ä»¤**å°±åƒ"ä½“æ£€æŠ¥å‘Š"ï¼Œæä¾›èµ„æºçš„å®Œæ•´è¯¦ç»†ä¿¡æ¯ã€‚

**ğŸ“‹ è¯¦ç»†ä¿¡æ¯åŒ…å«ï¼š**
- åŸºæœ¬é…ç½®ä¿¡æ¯
- å½“å‰çŠ¶æ€å’Œæ¡ä»¶
- äº‹ä»¶å†å²è®°å½•
- èµ„æºä½¿ç”¨æƒ…å†µ

**ğŸ”§ å®ç”¨ç¤ºä¾‹ï¼š**
```bash
# æŸ¥çœ‹Podè¯¦ç»†ä¿¡æ¯
kubectl describe pod nginx-deployment-abc123

# è¾“å‡ºåŒ…å«ï¼š
Name:         nginx-deployment-abc123
Namespace:    default
Node:         worker-node-1/192.168.1.100
Status:       Running
Containers:
  nginx:
    Image:        nginx:1.20
    Port:         80/TCP
    State:        Running
Events:
  Type    Reason     Age   From               Message
  ----    ------     ----  ----               -------
  Normal  Scheduled  5m    default-scheduler  Successfully assigned to worker-node-1
  Normal  Pulled     5m    kubelet            Container image pulled
```

### 6.3 èµ„æºç±»å‹ç®€å†™


**âš¡ æé«˜æ•ˆç‡çš„ç®€å†™ï¼š**

| èµ„æºç±»å‹ | **å®Œæ•´åç§°** | **ç®€å†™** | **ç¤ºä¾‹ç”¨æ³•** |
|----------|-------------|----------|-------------|
| `pods` | pods | po | `kubectl get po` |
| `services` | services | svc | `kubectl get svc` |
| `deployments` | deployments | deploy | `kubectl get deploy` |
| `namespaces` | namespaces | ns | `kubectl get ns` |
| `nodes` | nodes | no | `kubectl get no` |

---

## 7. ğŸ› ï¸ èµ„æºæ“ä½œå‘½ä»¤å®è·µ


### 7.1 create vs apply åŒºåˆ«


**ğŸ”¸ createå‘½ä»¤ç‰¹ç‚¹ï¼š**
- åˆ›å»ºå…¨æ–°èµ„æº
- èµ„æºå·²å­˜åœ¨ä¼šæŠ¥é”™
- é€‚åˆä¸€æ¬¡æ€§åˆ›å»º

**ğŸ”¹ applyå‘½ä»¤ç‰¹ç‚¹ï¼š**
- åˆ›å»ºæˆ–æ›´æ–°èµ„æº  
- å£°æ˜å¼ç®¡ç†
- é€‚åˆæŒç»­éƒ¨ç½²

> **ğŸ’¡ é€‰æ‹©å»ºè®®**
> æ—¥å¸¸ä½¿ç”¨æ¨èapplyï¼Œæ›´çµæ´»å®‰å…¨ï¼›createé€‚åˆå¿«é€Ÿæµ‹è¯•

### 7.2 åˆ›å»ºèµ„æºå®ä¾‹


**ğŸ“ å‘½ä»¤è¡Œç›´æ¥åˆ›å»ºï¼š**
```bash
# åˆ›å»ºDeployment
kubectl create deployment nginx --image=nginx:1.20

# åˆ›å»ºService
kubectl create service clusterip nginx --tcp=80:80

# åˆ›å»ºå‘½åç©ºé—´
kubectl create namespace my-app
```

**ğŸ“‹ ä½¿ç”¨YAMLæ–‡ä»¶ï¼š**
```bash
# ä»æ–‡ä»¶åˆ›å»º
kubectl apply -f deployment.yaml

# ä»URLåˆ›å»º
kubectl apply -f https://example.com/app.yaml

# æ‰¹é‡åˆ›å»ºï¼ˆç›®å½•ä¸‹æ‰€æœ‰YAMLï¼‰
kubectl apply -f ./configs/
```

### 7.3 æ›´æ–°èµ„æºæ“ä½œ


**ğŸ”„ å¸¸ç”¨æ›´æ–°æ–¹å¼ï¼š**
```bash
# ç›´æ¥ç¼–è¾‘èµ„æº
kubectl edit deployment nginx

# æ‰©å®¹/ç¼©å®¹
kubectl scale deployment nginx --replicas=5

# æ›´æ–°é•œåƒ
kubectl set image deployment/nginx nginx=nginx:1.21

# å›æ»šéƒ¨ç½²
kubectl rollout undo deployment/nginx
```

### 7.4 åˆ é™¤èµ„æºæ“ä½œ


**ğŸ—‘ï¸ åˆ é™¤å‘½ä»¤ç”¨æ³•ï¼š**
```bash
# åˆ é™¤å•ä¸ªèµ„æº
kubectl delete pod nginx-pod

# åˆ é™¤å¤šä¸ªèµ„æº
kubectl delete pod pod1 pod2 pod3

# æŒ‰æ ‡ç­¾åˆ é™¤
kubectl delete pods -l app=nginx

# åˆ é™¤æ‰€æœ‰Pod
kubectl delete pods --all

# å¼ºåˆ¶åˆ é™¤ï¼ˆæ…ç”¨ï¼‰
kubectl delete pod nginx-pod --force --grace-period=0
```

---

## 8. ğŸ” æ—¥å¿—ä¸è°ƒè¯•å‘½ä»¤


### 8.1 logså‘½ä»¤ - æŸ¥çœ‹æ—¥å¿—


**logså‘½ä»¤**å°±åƒæŸ¥çœ‹åº”ç”¨çš„"è¿è¡Œæ—¥è®°"ï¼Œå¸®ä½ äº†è§£ç¨‹åºåœ¨åšä»€ä¹ˆã€‚

**ğŸ“‹ åŸºç¡€æ—¥å¿—æŸ¥çœ‹ï¼š**
```bash
# æŸ¥çœ‹Podæ—¥å¿—
kubectl logs nginx-pod

# æŸ¥çœ‹æœ€è¿‘100è¡Œ
kubectl logs nginx-pod --tail=100

# å®æ—¶è·Ÿè¸ªæ—¥å¿—
kubectl logs -f nginx-pod

# æŸ¥çœ‹å‰ä¸€ä¸ªå®¹å™¨çš„æ—¥å¿—ï¼ˆå®¹å™¨é‡å¯åï¼‰
kubectl logs nginx-pod --previous
```

### 8.2 å¤šå®¹å™¨Podæ—¥å¿—


**ğŸ”§ æŒ‡å®šå®¹å™¨æŸ¥çœ‹ï¼š**
```bash
# å¤šå®¹å™¨Podéœ€è¦æŒ‡å®šå®¹å™¨å
kubectl logs my-pod -c nginx-container

# æŸ¥çœ‹æ‰€æœ‰å®¹å™¨æ—¥å¿—
kubectl logs my-pod --all-containers=true
```

### 8.3 execå‘½ä»¤ - è¿›å…¥å®¹å™¨


**execå‘½ä»¤**è®©ä½ èƒ½å¤Ÿ"è¿›å…¥"æ­£åœ¨è¿è¡Œçš„å®¹å™¨ï¼Œå°±åƒSSHç™»å½•æœåŠ¡å™¨ã€‚

**ğŸ’» å¸¸ç”¨execæ“ä½œï¼š**
```bash
# è¿›å…¥å®¹å™¨äº¤äº’å¼Shell
kubectl exec -it nginx-pod -- /bin/bash

# æ‰§è¡Œå•ä¸ªå‘½ä»¤
kubectl exec nginx-pod -- ls -la /usr/share/nginx/html

# å¤šå®¹å™¨PodæŒ‡å®šå®¹å™¨
kubectl exec -it my-pod -c nginx-container -- /bin/bash
```

### 8.4 è°ƒè¯•æŠ€å·§æ€»ç»“


**ğŸ¯ é—®é¢˜æ’æŸ¥æµç¨‹ï¼š**
```
é—®é¢˜å‘ç° â†’ kubectl get podsï¼ˆæŸ¥çœ‹çŠ¶æ€ï¼‰
         â†“
    kubectl describe podï¼ˆæŸ¥çœ‹äº‹ä»¶ï¼‰
         â†“  
    kubectl logs podï¼ˆæŸ¥çœ‹æ—¥å¿—ï¼‰
         â†“
    kubectl exec -it pod -- bashï¼ˆè¿›å…¥è°ƒè¯•ï¼‰
```

**âš ï¸ å¸¸è§çŠ¶æ€å«ä¹‰ï¼š**
- `Pending`ï¼šç­‰å¾…è°ƒåº¦åˆ°èŠ‚ç‚¹
- `Running`ï¼šæ­£å¸¸è¿è¡Œä¸­
- `CrashLoopBackOff`ï¼šå®¹å™¨ä¸æ–­å´©æºƒé‡å¯
- `ImagePullBackOff`ï¼šé•œåƒæ‹‰å–å¤±è´¥
- `Error`ï¼šå®¹å™¨å¯åŠ¨å¤±è´¥

---

## 9. âŒ¨ï¸ å‘½ä»¤è¡Œè¡¥å…¨é…ç½®


### 9.1 ä¸ºä»€ä¹ˆè¦é…ç½®è¡¥å…¨


**å‘½ä»¤è¡¥å…¨**å°±åƒæ‰‹æœºè¾“å…¥æ³•ï¼Œèƒ½å¤Ÿè‡ªåŠ¨æç¤ºå’Œè¡¥å…¨kubectlå‘½ä»¤ï¼Œå¤§å¤§æé«˜æ“ä½œæ•ˆç‡ã€‚

> **ğŸš€ æ•ˆç‡æå‡**
> æœ‰äº†è¡¥å…¨ï¼Œæ•²å‡ ä¸ªå­—æ¯æŒ‰Tabï¼Œå°±èƒ½è‡ªåŠ¨è¡¥å…¨é•¿å‘½ä»¤å’Œèµ„æºåç§°

### 9.2 ä¸åŒShellçš„é…ç½®


**ğŸš Bashè¡¥å…¨é…ç½®ï¼š**
```bash
# å®‰è£…bash-completionï¼ˆå¦‚æœæœªå®‰è£…ï¼‰
# Ubuntu/Debian
sudo apt-get install bash-completion

# æ·»åŠ åˆ°.bashrc
echo 'source <(kubectl completion bash)' >>~/.bashrc

# è®¾ç½®åˆ«åè¡¥å…¨
echo 'alias k=kubectl' >>~/.bashrc
echo 'complete -F __start_kubectl k' >>~/.bashrc

# é‡æ–°åŠ è½½é…ç½®
source ~/.bashrc
```

**ğŸŸ Zshè¡¥å…¨é…ç½®ï¼š**
```bash
# æ·»åŠ åˆ°.zshrc
echo 'source <(kubectl completion zsh)' >>~/.zshrc

# å¦‚æœä½¿ç”¨oh-my-zsh
echo 'plugins=(kubectl)' # æ·»åŠ åˆ°pluginsåˆ—è¡¨

# é‡æ–°åŠ è½½
source ~/.zshrc
```

### 9.3 è¡¥å…¨åŠŸèƒ½éªŒè¯


**âœ… æµ‹è¯•è¡¥å…¨æ•ˆæœï¼š**
```bash
# æµ‹è¯•å‘½ä»¤è¡¥å…¨
kubectl get <Tab><Tab>
# åº”è¯¥æ˜¾ç¤ºï¼špods services deployments ...

# æµ‹è¯•èµ„æºåè¡¥å…¨
kubectl describe pod <Tab><Tab>
# åº”è¯¥æ˜¾ç¤ºå½“å‰å‘½åç©ºé—´çš„æ‰€æœ‰Podåç§°

# æµ‹è¯•å‚æ•°è¡¥å…¨
kubectl get pods -<Tab><Tab>
# åº”è¯¥æ˜¾ç¤ºï¼š-o --output -n --namespace ...
```

### 9.4 è¡¥å…¨ä½¿ç”¨æŠ€å·§


**âš¡ é«˜æ•ˆä½¿ç”¨æ–¹æ³•ï¼š**
```bash
# è®¾ç½®kubectlåˆ«å
alias k=kubectl

# å¸¸ç”¨ç»„åˆç¤ºä¾‹
k get po <Tab>           # è¡¥å…¨Podåç§°
k describe svc <Tab>     # è¡¥å…¨Serviceåç§°
k logs -f <Tab>          # è¡¥å…¨Podåç§°
k exec -it <Tab> -- bash # è¡¥å…¨Podåç§°
```

---

## 10. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 10.1 å¿…é¡»æŒæ¡çš„åŸºæœ¬æ¦‚å¿µ


```
ğŸ”¸ kubectlï¼šKubernetesé›†ç¾¤çš„å‘½ä»¤è¡Œå®¢æˆ·ç«¯å·¥å…·
ğŸ”¸ kubeconfigï¼šå­˜å‚¨é›†ç¾¤è¿æ¥ä¿¡æ¯å’Œè®¤è¯å‡­æ®çš„é…ç½®æ–‡ä»¶
ğŸ”¸ åŸºç¡€å‘½ä»¤ï¼šgetæŸ¥çœ‹ã€describeè¯¦æƒ…ã€createåˆ›å»ºã€applyåº”ç”¨
ğŸ”¸ è°ƒè¯•å‘½ä»¤ï¼šlogsæŸ¥æ—¥å¿—ã€execè¿›å®¹å™¨
ğŸ”¸ è®¤è¯æ–¹å¼ï¼šTokenã€è¯ä¹¦ã€ç”¨æˆ·å¯†ç ç­‰å¤šç§è®¤è¯æ–¹æ³•
```

### 10.2 å®é™…æ“ä½œè¦ç‚¹


**ğŸ”¹ æ—¥å¸¸ä½¿ç”¨æµç¨‹ï¼š**
```
å®‰è£…kubectl â†’ é…ç½®kubeconfig â†’ æµ‹è¯•è¿æ¥ â†’ å¼€å§‹æ“ä½œèµ„æº

å¸¸ç”¨æ“ä½œé¡ºåºï¼š
1. kubectl get podsï¼ˆæŸ¥çœ‹çŠ¶æ€ï¼‰
2. kubectl describe podï¼ˆæŸ¥çœ‹è¯¦æƒ…ï¼‰  
3. kubectl logs podï¼ˆæŸ¥çœ‹æ—¥å¿—ï¼‰
4. kubectl apply -f file.yamlï¼ˆéƒ¨ç½²åº”ç”¨ï¼‰
```

**ğŸ”¹ å‘½ä»¤è®°å¿†æŠ€å·§ï¼š**
```
æŸ¥çœ‹ç±»ï¼šgetï¼ˆè·å–ï¼‰ã€describeï¼ˆæè¿°ï¼‰
æ“ä½œç±»ï¼šcreateï¼ˆåˆ›å»ºï¼‰ã€applyï¼ˆåº”ç”¨ï¼‰ã€deleteï¼ˆåˆ é™¤ï¼‰
è°ƒè¯•ç±»ï¼šlogsï¼ˆæ—¥å¿—ï¼‰ã€execï¼ˆæ‰§è¡Œï¼‰
ç®¡ç†ç±»ï¼šscaleï¼ˆæ‰©ç¼©å®¹ï¼‰ã€editï¼ˆç¼–è¾‘ï¼‰
```

### 10.3 æé«˜æ•ˆç‡çš„å»ºè®®


**âš¡ æ•ˆç‡ä¼˜åŒ–æŠ€å·§ï¼š**
- **ä½¿ç”¨åˆ«å**ï¼š`alias k=kubectl` å‡å°‘è¾“å…¥
- **é…ç½®è¡¥å…¨**ï¼šTabé”®è‡ªåŠ¨è¡¥å…¨å‘½ä»¤å’Œèµ„æºå
- **ä½¿ç”¨ç®€å†™**ï¼š`po`ä»£æ›¿`pods`ï¼Œ`svc`ä»£æ›¿`services`
- **å–„ç”¨æ ‡ç­¾**ï¼š`-l app=nginx` æ‰¹é‡æ“ä½œç›¸å…³èµ„æº
- **æŒæ¡è¾“å‡ºæ ¼å¼**ï¼š`-o yaml`ã€`-o json`ã€`-o wide`

**ğŸ¯ å­¦ä¹ å»ºè®®ï¼š**
- **å¤šç»ƒä¹ **ï¼šåœ¨æµ‹è¯•é›†ç¾¤ä¸Šåå¤ç»ƒä¹ åŸºç¡€å‘½ä»¤
- **ç†è§£åŸç†**ï¼škubectlæœ¬è´¨æ˜¯å‘é€APIè¯·æ±‚
- **è®°ä½æ ¼å¼**ï¼š`kubectl [å‘½ä»¤] [ç±»å‹] [åç§°] [é€‰é¡¹]`
- **å–„ç”¨å¸®åŠ©**ï¼š`kubectl help` å’Œ `kubectl [å‘½ä»¤] --help`

**ğŸ’¡ å…³é”®ç†è§£**ï¼š
kubectlå°±æ˜¯ä½ æ“æ§Kubernetesé›†ç¾¤çš„"ç‘å£«å†›åˆ€"ï¼ŒæŒæ¡äº†åŸºæœ¬çš„getã€describeã€applyã€logsè¿™å‡ ä¸ªå‘½ä»¤ï¼Œå°±èƒ½å®Œæˆå¤§éƒ¨åˆ†æ—¥å¸¸å·¥ä½œã€‚é‡ç‚¹æ˜¯ç†è§£å‘½ä»¤çš„é€»è¾‘ç»“æ„ï¼Œç„¶åé€šè¿‡å®è·µç†Ÿç»ƒæŒæ¡ã€‚

**ğŸ¯ è®°å¿†å£è¯€**ï¼š
- kubectlæ˜¯k8sé¥æ§å™¨ï¼Œè¿æ¥é›†ç¾¤å…¨é å®ƒ
- getçœ‹çŠ¶æ€describeè¯¦æƒ…ï¼Œlogsè°ƒè¯•execè¿›å…¥
- applyåˆ›å»ºdeleteåˆ é™¤ï¼Œè¡¥å…¨é…ç½®æ•ˆç‡ä½³