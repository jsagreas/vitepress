---
title: 8ã€è½¯ä»¶åŒ…æ‰¹é‡ç®¡ç†
---
## ğŸ“š ç›®å½•

1. [è½¯ä»¶åŒ…ç®¡ç†åŸºç¡€æ¦‚å¿µ](#1-è½¯ä»¶åŒ…ç®¡ç†åŸºç¡€æ¦‚å¿µ)
2. [YUM/DNFæ‰¹é‡ç®¡ç†](#2-yumdnfæ‰¹é‡ç®¡ç†)
3. [APTæ‰¹é‡åŒ…ç®¡ç†](#3-aptæ‰¹é‡åŒ…ç®¡ç†)
4. [è½¯ä»¶ä»“åº“ç»Ÿä¸€é…ç½®](#4-è½¯ä»¶ä»“åº“ç»Ÿä¸€é…ç½®)
5. [åŒ…ç‰ˆæœ¬é”å®šç®¡ç†](#5-åŒ…ç‰ˆæœ¬é”å®šç®¡ç†)
6. [ä¾èµ–å…³ç³»æ‰¹é‡å¤„ç†](#6-ä¾èµ–å…³ç³»æ‰¹é‡å¤„ç†)
7. [è½¯ä»¶æ›´æ–°ç­–ç•¥](#7-è½¯ä»¶æ›´æ–°ç­–ç•¥)
8. [è‡ªå®šä¹‰è½¯ä»¶åŒ…åˆ†å‘](#8-è‡ªå®šä¹‰è½¯ä»¶åŒ…åˆ†å‘)
9. [ç¦»çº¿åŒ…ç®¡ç†æ–¹æ¡ˆ](#9-ç¦»çº¿åŒ…ç®¡ç†æ–¹æ¡ˆ)
10. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#10-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ“¦ è½¯ä»¶åŒ…ç®¡ç†åŸºç¡€æ¦‚å¿µ


### 1.1 ä»€ä¹ˆæ˜¯è½¯ä»¶åŒ…ç®¡ç†


ğŸ’­ **é€šä¿—ç†è§£**ï¼šè½¯ä»¶åŒ…ç®¡ç†å°±åƒæ˜¯æ‰‹æœºçš„åº”ç”¨å•†åº—ï¼Œä½†æ˜¯åŠŸèƒ½æ›´å¼ºå¤§ã€‚

ğŸ·ï¸ **ä¸“ä¸šæœ¯è¯­**ï¼š
- **è½¯ä»¶åŒ…ï¼ˆPackageï¼‰** = å·²ç»ç¼–è¯‘å¥½çš„è½¯ä»¶ç¨‹åº + å®‰è£…ä¿¡æ¯ + ä¾èµ–å…³ç³»æè¿°
- **åŒ…ç®¡ç†å™¨ï¼ˆPackage Managerï¼‰** = è´Ÿè´£å®‰è£…ã€å¸è½½ã€æ›´æ–°è½¯ä»¶çš„å·¥å…·
- **è½¯ä»¶ä»“åº“ï¼ˆRepositoryï¼‰** = å­˜æ”¾è½¯ä»¶åŒ…çš„åœ¨çº¿æˆ–æœ¬åœ°ä»“åº“

ğŸŒ° **ä¸¾ä¸ªä¾‹å­**ï¼š
```
å°±åƒç½‘ä¸Šè´­ç‰©ï¼š
- è½¯ä»¶åŒ… = å•†å“ï¼ˆå·²æ‰“åŒ…å¥½çš„è½¯ä»¶ï¼‰
- åŒ…ç®¡ç†å™¨ = è´­ç‰©å¹³å°ï¼ˆæ·˜å®ã€äº¬ä¸œï¼‰
- è½¯ä»¶ä»“åº“ = ä»“åº“ï¼ˆå­˜æ”¾å•†å“çš„åœ°æ–¹ï¼‰
```

### 1.2 ä¸»æµåŒ…ç®¡ç†ç³»ç»Ÿå¯¹æ¯”


| å‘è¡Œç‰ˆç³»ç»Ÿ | **åŒ…ç®¡ç†å™¨** | **åŒ…æ ¼å¼** | **é…ç½®æ–‡ä»¶ä½ç½®** | **ç‰¹ç‚¹** |
|-----------|------------|-----------|----------------|----------|
| ğŸ”´ **RedHatç³»** | `yum/dnf` | `.rpm` | `/etc/yum.conf` | `ä¼ä¸šçº§ï¼Œç¨³å®šæ€§å¼º` |
| ğŸŸ  **Debianç³»** | `apt` | `.deb` | `/etc/apt/sources.list` | `ç¤¾åŒºæ´»è·ƒï¼Œæ›´æ–°å¿«` |
| ğŸŸ¡ **SUSEç³»** | `zypper` | `.rpm` | `/etc/zypp/repos.d/` | `å›¾å½¢åŒ–ç®¡ç†å‹å¥½` |
| ğŸŸ¢ **Archç³»** | `pacman` | `.pkg.tar.xz` | `/etc/pacman.conf` | `æ»šåŠ¨æ›´æ–°ï¼Œæœ€æ–°è½¯ä»¶` |

ğŸ¯ **å­¦ä¹ ç›®æ ‡**ï¼šæŒæ¡æ‰¹é‡ç®¡ç†æŠ€èƒ½ï¼Œæé«˜è¿ç»´æ•ˆç‡

---

## 2. ğŸ”´ YUM/DNFæ‰¹é‡ç®¡ç†


### 2.1 YUM vs DNF åŒºåˆ«ç†è§£


ğŸ’¡ **ç®€å•ç†è§£**ï¼šDNFæ˜¯YUMçš„å‡çº§ç‰ˆï¼Œå°±åƒPython3æ›¿ä»£Python2ä¸€æ ·ã€‚

```
å‘å±•å†ç¨‹ï¼š
YUM (2003å¹´) â†’ DNF (2015å¹´)
Yellow dog Updater Modified â†’ Dandified YUM

ä¸»è¦æ”¹è¿›ï¼š
âœ… æ›´å¿«çš„ä¾èµ–è§£æé€Ÿåº¦
âœ… æ›´å°‘çš„å†…å­˜å ç”¨
âœ… æ›´æ¸…æ™°çš„å‘½ä»¤è¾“å‡º
âœ… æ›´å¥½çš„Python 3æ”¯æŒ
```

**ğŸ”„ å…¼å®¹æ€§**ï¼šå¤§éƒ¨åˆ†YUMå‘½ä»¤åœ¨DNFä¸­éƒ½å¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚

### 2.2 æ‰¹é‡å®‰è£…è½¯ä»¶åŒ…


**ğŸ“‹ åŸºç¡€æ‰¹é‡å®‰è£…**ï¼š
```bash
# ä¸€æ¬¡å®‰è£…å¤šä¸ªè½¯ä»¶
dnf install -y vim git wget curl tree

# ä½¿ç”¨é€šé…ç¬¦æ‰¹é‡å®‰è£…
dnf install -y python3-*

# ä»æ–‡ä»¶åˆ—è¡¨å®‰è£…
dnf install -y $(cat package-list.txt)
```

**ğŸ—ï¸ æŒ‰ç»„æ‰¹é‡å®‰è£…**ï¼š
```bash
# æŸ¥çœ‹å¯ç”¨çš„è½¯ä»¶ç»„
dnf grouplist

# å®‰è£…å¼€å‘å·¥å…·ç»„
dnf groupinstall -y "Development Tools"

# å®‰è£…WebæœåŠ¡å™¨ç»„
dnf groupinstall -y "Web Server"
```

ğŸ’­ **ä¸ºä»€ä¹ˆç”¨ç»„å®‰è£…**ï¼šä¸€ä¸ªç»„åŒ…å«ç›¸å…³çš„å¤šä¸ªè½¯ä»¶åŒ…ï¼Œæ¯”å¦‚å¼€å‘å·¥å…·ç»„åŒ…å«gccã€makeã€gitç­‰ï¼Œä¸€æ¬¡æ€§å®‰è£…å¾ˆæ–¹ä¾¿ã€‚

### 2.3 æ‰¹é‡å¸è½½å’Œæ¸…ç†


```bash
# æ‰¹é‡å¸è½½è½¯ä»¶
dnf remove -y package1 package2 package3

# å¸è½½å­¤ç«‹åŒ…ï¼ˆæ²¡æœ‰è¢«å…¶ä»–åŒ…ä¾èµ–çš„åŒ…ï¼‰
dnf autoremove -y

# æ¸…ç†ç¼“å­˜
dnf clean all

# åˆ é™¤é‡å¤åŒ…
package-cleanup --cleandupes
```

**âš ï¸ é‡è¦æé†’**ï¼šæ‰¹é‡å¸è½½å‰ä¸€å®šè¦æ£€æŸ¥ä¾èµ–å…³ç³»ï¼Œé¿å…è¯¯åˆ ç³»ç»Ÿå…³é”®ç»„ä»¶ã€‚

### 2.4 æ‰¹é‡æŸ¥è¯¢å’Œæœç´¢


```bash
# æŸ¥è¯¢å·²å®‰è£…çš„åŒ…
dnf list installed | grep python

# æ‰¹é‡æŸ¥è¯¢åŒ…ä¿¡æ¯
for pkg in vim git wget; do
    echo "=== $pkg ==="
    dnf info $pkg
done

# æœç´¢åŒ…å«ç‰¹å®šæ–‡ä»¶çš„åŒ…
dnf provides */bin/python3
```

---

## 3. ğŸŸ  APTæ‰¹é‡åŒ…ç®¡ç†


### 3.1 APTç³»ç»Ÿæ¶æ„ç†è§£


ğŸ’­ **é€šä¿—è§£é‡Š**ï¼šAPTå°±åƒæ˜¯ä¸€ä¸ªæ™ºèƒ½è´­ç‰©åŠ©æ‰‹ï¼Œå®ƒçŸ¥é“å»å“ªé‡Œä¹°ä¸œè¥¿ï¼Œæ€ä¹ˆè§£å†³å•†å“ä¹‹é—´çš„å…³ç³»é—®é¢˜ã€‚

```
APTç³»ç»Ÿç»„æˆï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            APTå‰ç«¯å·¥å…·              â”‚
â”‚  apt, apt-get, aptitude, synaptic   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚            APTæ ¸å¿ƒåº“                â”‚
â”‚       libapt (ä¾èµ–è§£æå¼•æ“)          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚            DPKGåº•å±‚                 â”‚
â”‚      dpkg (å®é™…å®‰è£….debåŒ…)           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 æ‰¹é‡å®‰è£…æ“ä½œ


**ğŸ“¦ åŸºç¡€æ‰¹é‡å®‰è£…**ï¼š
```bash
# æ›´æ–°åŒ…åˆ—è¡¨ï¼ˆç›¸å½“äºæ›´æ–°å•†å“ç›®å½•ï¼‰
apt update

# æ‰¹é‡å®‰è£…è½¯ä»¶
apt install -y nginx mysql-server php-fpm

# ä»æ–‡ä»¶å®‰è£…
apt install -y $(cat packages.txt | tr '\n' ' ')

# ä½¿ç”¨é€šé…ç¬¦
apt install -y python3-*
```

**ğŸ¯ æœ€ä½³å®è·µ**ï¼šæ€»æ˜¯å…ˆè¿è¡Œ`apt update`å†å®‰è£…ï¼Œç¡®ä¿è·å–æœ€æ–°çš„åŒ…ä¿¡æ¯ã€‚

### 3.3 æ‰¹é‡å‡çº§ç­–ç•¥


```bash
# æŸ¥çœ‹å¯å‡çº§çš„åŒ…
apt list --upgradable

# å®‰å…¨å‡çº§ï¼ˆåªå‡çº§å®‰å…¨è¡¥ä¸ï¼‰
apt upgrade -y

# å®Œæ•´å‡çº§ï¼ˆå¯èƒ½åˆ é™¤æˆ–å®‰è£…æ–°åŒ…ï¼‰
apt full-upgrade -y

# æ‰¹é‡å‡çº§æŒ‡å®šåŒ…
apt install --only-upgrade package1 package2
```

ğŸ’¡ **upgrade vs full-upgrade**ï¼š
- `upgrade`ï¼šä¿å®ˆå‡çº§ï¼Œä¸ä¼šåˆ é™¤ç°æœ‰åŒ…
- `full-upgrade`ï¼šæ¿€è¿›å‡çº§ï¼Œä¸ºäº†è§£å†³ä¾èµ–å¯èƒ½åˆ é™¤åŒ…

### 3.4 æ‰¹é‡æŸ¥è¯¢å’Œç®¡ç†


```bash
# åˆ—å‡ºæ‰€æœ‰å·²å®‰è£…çš„åŒ…
dpkg -l | grep '^ii'

# æ‰¹é‡æŸ¥è¯¢åŒ…çŠ¶æ€
dpkg -s nginx apache2 mysql-server

# æŸ¥æ‰¾å“ªä¸ªåŒ…æä¾›äº†æŸä¸ªæ–‡ä»¶
apt-file search /usr/bin/python3

# æ‰¹é‡æ˜¾ç¤ºåŒ…ä¿¡æ¯
apt show nginx apache2 | grep -E '^Package:|^Version:|^Description:'
```

---

## 4. ğŸ—ï¸ è½¯ä»¶ä»“åº“ç»Ÿä¸€é…ç½®


### 4.1 ä»“åº“é…ç½®åŸç†


ğŸ¤” **ä¸ºä»€ä¹ˆéœ€è¦é…ç½®ä»“åº“**ï¼šå°±åƒç½‘è´­éœ€è¦çŸ¥é“å•†åº—åœ°å€ä¸€æ ·ï¼ŒåŒ…ç®¡ç†å™¨éœ€è¦çŸ¥é“å»å“ªé‡Œä¸‹è½½è½¯ä»¶ã€‚

**ğŸ” ä»“åº“é…ç½®æ–‡ä»¶ä½ç½®**ï¼š

**RedHatç³»**ï¼š
```bash
# ä¸»é…ç½®æ–‡ä»¶
/etc/yum.conf

# ä»“åº“é…ç½®ç›®å½•
/etc/yum.repos.d/

# ç¤ºä¾‹ä»“åº“é…ç½®
/etc/yum.repos.d/CentOS-Base.repo
```

**Debianç³»**ï¼š
```bash
# ä¸»è¦æºåˆ—è¡¨
/etc/apt/sources.list

# é¢å¤–æºé…ç½®ç›®å½•
/etc/apt/sources.list.d/

# GPGå¯†é’¥ç›®å½•
/etc/apt/trusted.gpg.d/
```

### 4.2 YUM/DNFä»“åº“é…ç½®


**ğŸ“ æ ‡å‡†ä»“åº“é…ç½®æ ¼å¼**ï¼š
```ini
[repository-id]
name=Repository Name
baseurl=http://mirror.example.com/centos/8/BaseOS/x86_64/os/
enabled=1
gpgcheck=1
gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-centosofficial
```

ğŸ·ï¸ **é…ç½®å‚æ•°è¯´æ˜**ï¼š
- `[repository-id]`ï¼šä»“åº“å”¯ä¸€æ ‡è¯†ç¬¦
- `name`ï¼šä»“åº“æè¿°åç§°
- `baseurl`ï¼šä»“åº“URLåœ°å€
- `enabled`ï¼šæ˜¯å¦å¯ç”¨ï¼ˆ1å¯ç”¨ï¼Œ0ç¦ç”¨ï¼‰
- `gpgcheck`ï¼šæ˜¯å¦æ£€æŸ¥GPGç­¾åï¼ˆ1æ£€æŸ¥ï¼Œ0ä¸æ£€æŸ¥ï¼‰

**ğŸŒ å¸¸ç”¨å›½å†…é•œåƒæº**ï¼š
```bash
# é˜¿é‡Œäº‘é•œåƒ
baseurl=https://mirrors.aliyun.com/centos/8/BaseOS/x86_64/os/

# æ¸…åå¤§å­¦é•œåƒ
baseurl=https://mirrors.tuna.tsinghua.edu.cn/centos/8/BaseOS/x86_64/os/

# ä¸­ç§‘å¤§é•œåƒ
baseurl=https://mirrors.ustc.edu.cn/centos/8/BaseOS/x86_64/os/
```

### 4.3 APTæºé…ç½®ç®¡ç†


**ğŸ“‹ sources.listé…ç½®æ ¼å¼**ï¼š
```bash
# æ ¼å¼ï¼šç±»å‹ URL å‘è¡Œç‰ˆ ç»„ä»¶
deb http://mirrors.aliyun.com/ubuntu/ focal main restricted
deb-src http://mirrors.aliyun.com/ubuntu/ focal main restricted

# ç±»å‹è¯´æ˜
deb      - äºŒè¿›åˆ¶åŒ…
deb-src  - æºä»£ç åŒ…
```

**ğŸ”§ æ‰¹é‡é…ç½®ç¤ºä¾‹**ï¼š
```bash
# å¤‡ä»½åŸé…ç½®
cp /etc/apt/sources.list /etc/apt/sources.list.backup

# é…ç½®é˜¿é‡Œäº‘æº
cat > /etc/apt/sources.list << EOF
deb http://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse
deb http://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiverse
deb http://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiverse
EOF

# æ›´æ–°æºåˆ—è¡¨
apt update
```

### 4.4 ç¬¬ä¸‰æ–¹ä»“åº“ç®¡ç†


**ğŸ”Œ æ·»åŠ ç¬¬ä¸‰æ–¹ä»“åº“**ï¼š

**EPELä»“åº“ï¼ˆRedHatç³»ï¼‰**ï¼š
```bash
# å®‰è£…EPELä»“åº“
dnf install -y epel-release

# æˆ–è€…æ‰‹åŠ¨æ·»åŠ 
dnf config-manager --add-repo=https://dl.fedoraproject.org/pub/epel/epel-release-latest-8.noarch.rpm
```

**PPAä»“åº“ï¼ˆUbuntuï¼‰**ï¼š
```bash
# æ·»åŠ PPA
add-apt-repository ppa:ondrej/php
apt update

# åˆ é™¤PPA
add-apt-repository --remove ppa:ondrej/php
```

âš ï¸ **å®‰å…¨æé†’**ï¼šæ·»åŠ ç¬¬ä¸‰æ–¹ä»“åº“æ—¶è¦éªŒè¯GPGç­¾åï¼Œé¿å…å®‰è£…æ¶æ„è½¯ä»¶ã€‚

---

## 5. ğŸ”’ åŒ…ç‰ˆæœ¬é”å®šç®¡ç†


### 5.1 ä¸ºä»€ä¹ˆéœ€è¦ç‰ˆæœ¬é”å®š


ğŸ’­ **å®é™…åœºæ™¯**ï¼šå‡è®¾ä½ çš„ç½‘ç«™åœ¨PHP 7.4ä¸Šè¿è¡Œå¾ˆå¥½ï¼Œä½†ç³»ç»Ÿæ›´æ–°æ—¶è‡ªåŠ¨å‡çº§åˆ°PHP 8.0ï¼Œç»“æœç½‘ç«™å‡ºé”™äº†ã€‚

ğŸ¯ **ç‰ˆæœ¬é”å®šçš„ä½œç”¨**ï¼š
- **ç¨³å®šæ€§ä¿éšœ**ï¼šé˜²æ­¢å…³é”®è½¯ä»¶æ„å¤–å‡çº§
- **å…¼å®¹æ€§ç»´æŠ¤**ï¼šç¡®ä¿è½¯ä»¶ç‰ˆæœ¬ä¸ä¸šåŠ¡ç³»ç»Ÿå…¼å®¹
- **æµ‹è¯•æ§åˆ¶**ï¼šåœ¨æµ‹è¯•ç¯å¢ƒéªŒè¯åå†å‡çº§ç”Ÿäº§ç¯å¢ƒ

### 5.2 YUM/DNFç‰ˆæœ¬é”å®š


**ğŸ”§ å®‰è£…ç‰ˆæœ¬é”å®šæ’ä»¶**ï¼š
```bash
# DNFç‰ˆæœ¬é”å®š
dnf install -y python3-dnf-plugin-versionlock

# YUMç‰ˆæœ¬é”å®š
yum install -y yum-plugin-versionlock
```

**ğŸ“Œ é”å®šç‰¹å®šç‰ˆæœ¬**ï¼š
```bash
# é”å®šå½“å‰å®‰è£…çš„ç‰ˆæœ¬
dnf versionlock add nginx

# é”å®šæŒ‡å®šç‰ˆæœ¬
dnf versionlock add nginx-1.18.0-1.el8

# æŸ¥çœ‹å·²é”å®šçš„åŒ…
dnf versionlock list

# è§£é™¤é”å®š
dnf versionlock delete nginx
```

**ğŸ“‹ æ‰¹é‡ç‰ˆæœ¬é”å®š**ï¼š
```bash
# é”å®šå¤šä¸ªåŒ…
dnf versionlock add nginx mysql-server php-fpm

# ä»æ–‡ä»¶æ‰¹é‡é”å®š
echo "nginx mysql-server php-fpm" | xargs -n1 dnf versionlock add
```

### 5.3 APTç‰ˆæœ¬é”å®š


**ğŸ“Œ APT Holdæœºåˆ¶**ï¼š
```bash
# é”å®šåŒ…ç‰ˆæœ¬ï¼ˆé˜²æ­¢å‡çº§ï¼‰
apt-mark hold nginx

# æŸ¥çœ‹è¢«holdçš„åŒ…
apt-mark showhold

# è§£é™¤hold
apt-mark unhold nginx

# æ‰¹é‡hold
apt-mark hold nginx apache2 mysql-server
```

**ğŸ” æ£€æŸ¥HoldçŠ¶æ€**ï¼š
```bash
# æŸ¥çœ‹åŒ…çš„holdçŠ¶æ€
dpkg -l | grep '^hi'  # hiè¡¨ç¤ºholdçŠ¶æ€

# æˆ–è€…ä½¿ç”¨
apt list --upgradable | grep held
```

### 5.4 ç²¾ç¡®ç‰ˆæœ¬ç®¡ç†


**ğŸ“¦ å®‰è£…æŒ‡å®šç‰ˆæœ¬**ï¼š
```bash
# APTæŒ‡å®šç‰ˆæœ¬å®‰è£…
apt install nginx=1.18.0-0ubuntu1

# æŸ¥çœ‹å¯ç”¨ç‰ˆæœ¬
apt-cache policy nginx

# DNFæŒ‡å®šç‰ˆæœ¬å®‰è£…
dnf downgrade nginx-1.17.0
dnf install nginx-1.18.0
```

ğŸ’¡ **ç‰ˆæœ¬ç®¡ç†ç­–ç•¥**ï¼š
- **ç”Ÿäº§ç¯å¢ƒ**ï¼šä¸¥æ ¼é”å®šå…³é”®ç»„ä»¶ç‰ˆæœ¬
- **æµ‹è¯•ç¯å¢ƒ**ï¼šå®šæœŸæµ‹è¯•æ–°ç‰ˆæœ¬å…¼å®¹æ€§
- **å¼€å‘ç¯å¢ƒ**ï¼šä½¿ç”¨è¾ƒæ–°ç‰ˆæœ¬è¿›è¡Œå¼€å‘æµ‹è¯•

---

## 6. ğŸ”— ä¾èµ–å…³ç³»æ‰¹é‡å¤„ç†


### 6.1 ç†è§£è½¯ä»¶ä¾èµ–å…³ç³»


ğŸŒ° **ç”Ÿæ´»ç±»æ¯”**ï¼šè½¯ä»¶ä¾èµ–å°±åƒåšèœéœ€è¦è°ƒæ–™ï¼Œåšçº¢çƒ§è‚‰éœ€è¦ç”ŸæŠ½ã€è€æŠ½ã€ç³–ç­‰ï¼Œç¼ºä¸€ä¸å¯ã€‚

```
è½¯ä»¶ä¾èµ–å±‚æ¬¡ï¼š
åº”ç”¨ç¨‹åº (nginx)
    â”œâ”€â”€ è¿è¡Œæ—¶åº“ (libc)
    â”œâ”€â”€ SSLåº“ (openssl)
    â””â”€â”€ å‹ç¼©åº“ (zlib)
        â””â”€â”€ åŸºç¡€ç³»ç»Ÿåº“
```

ğŸ” **ä¾èµ–å…³ç³»ç±»å‹**ï¼š
- **å¼ºä¾èµ–ï¼ˆRequiresï¼‰**ï¼šå¿…é¡»å®‰è£…çš„ä¾èµ–
- **å¼±ä¾èµ–ï¼ˆRecommends/Suggestsï¼‰**ï¼šå»ºè®®å®‰è£…çš„ä¾èµ–
- **å†²çªä¾èµ–ï¼ˆConflictsï¼‰**ï¼šä¸èƒ½åŒæ—¶å®‰è£…çš„åŒ…

### 6.2 ä¾èµ–å…³ç³»æŸ¥è¯¢


**ğŸ” YUM/DNFä¾èµ–æŸ¥è¯¢**ï¼š
```bash
# æŸ¥çœ‹åŒ…çš„ä¾èµ–å…³ç³»
dnf deplist nginx

# æŸ¥çœ‹å“ªäº›åŒ…ä¾èµ–æŸä¸ªåŒ…
dnf repoquery --whatrequires openssl

# æŸ¥çœ‹åŒ…çš„å®Œæ•´ä¾èµ–æ ‘
dnf repoquery --requires --resolve nginx
```

**ğŸ” APTä¾èµ–æŸ¥è¯¢**ï¼š
```bash
# æŸ¥çœ‹åŒ…ä¾èµ–
apt-cache depends nginx

# åå‘ä¾èµ–æŸ¥è¯¢
apt-cache rdepends openssl

# æŸ¥çœ‹å®‰è£…æ—¶ä¼šå®‰è£…å“ªäº›ä¾èµ–
apt-cache show nginx | grep Depends
```

### 6.3 ä¾èµ–é—®é¢˜è§£å†³


**ğŸ’¥ å¸¸è§ä¾èµ–é—®é¢˜**ï¼š

**å¾ªç¯ä¾èµ–**ï¼š
```bash
# é—®é¢˜ç°è±¡
Package A requires Package B
Package B requires Package A

# è§£å†³æ–¹æ³•
dnf install --skip-broken A B
```

**ä¾èµ–åœ°ç‹±**ï¼š
```bash
# å¼ºåˆ¶å¿½ç•¥ä¾èµ–
rpm -ivh --nodeps package.rpm

# ä½†ä¸æ¨èï¼Œå¯èƒ½å¯¼è‡´ç³»ç»Ÿä¸ç¨³å®š
```

**ğŸ”§ æ‰¹é‡ä¾èµ–å¤„ç†**ï¼š
```bash
# APTè‡ªåŠ¨ä¿®å¤ä¾èµ–
apt-get install -f

# DNFè‡ªåŠ¨è§£å†³ä¾èµ–å†²çª
dnf install --best --allowerasing

# ä¸‹è½½ä¾èµ–åŒ…ä¸å®‰è£…
dnf download --resolve nginx
```

### 6.4 ä¾èµ–å…³ç³»ç®¡ç†ç­–ç•¥


**ğŸ“‹ æœ€ä½³å®è·µæ¸…å•**ï¼š

âœ… **å®‰è£…å‰æ£€æŸ¥**ï¼š
```bash
# æ¨¡æ‹Ÿå®‰è£…ï¼ŒæŸ¥çœ‹ä¼šå®‰è£…å“ªäº›åŒ…
dnf install --downloadonly nginx
apt-get install -s nginx
```

âœ… **ä¾èµ–é”å®š**ï¼š
```bash
# é”å®šå…³é”®ä¾èµ–ç‰ˆæœ¬
dnf versionlock add glibc openssl
```

âœ… **å®šæœŸæ¸…ç†**ï¼š
```bash
# æ¸…ç†ä¸éœ€è¦çš„ä¾èµ–
dnf autoremove
apt autoremove
```

---

## 7. ğŸ”„ è½¯ä»¶æ›´æ–°ç­–ç•¥


### 7.1 æ›´æ–°ç­–ç•¥åˆ†ç±»


ğŸ’­ **æ›´æ–°ç­–ç•¥é€‰æ‹©**ï¼šå°±åƒæ‰‹æœºç³»ç»Ÿæ›´æ–°ï¼Œæœ‰äººå–œæ¬¢ç¬¬ä¸€æ—¶é—´æ›´æ–°ï¼Œæœ‰äººå–œæ¬¢ç­‰ç¨³å®šäº†å†æ›´æ–°ã€‚

**ğŸ“Š æ›´æ–°ç­–ç•¥å¯¹æ¯”**ï¼š

| ç­–ç•¥ç±»å‹ | **é€‚ç”¨åœºæ™¯** | **ä¼˜ç‚¹** | **ç¼ºç‚¹** | **é£é™©ç­‰çº§** |
|---------|------------|----------|----------|-------------|
| ğŸ”´ **ä¿å®ˆç­–ç•¥** | `ç”Ÿäº§ç¯å¢ƒ` | `ç¨³å®šå¯é ` | `å®‰å…¨æ¼æ´æ»å` | `â­â˜†â˜†` |
| ğŸŸ¡ **å¹³è¡¡ç­–ç•¥** | `ä¸€èˆ¬ä¸šåŠ¡` | `ç¨³å®šä¸å®‰å…¨å…¼é¡¾` | `éœ€è¦æµ‹è¯•æ—¶é—´` | `â­â­â˜†` |
| ğŸŸ¢ **ç§¯æç­–ç•¥** | `å¼€å‘ç¯å¢ƒ` | `åŠæ—¶è·å¾—æ–°åŠŸèƒ½` | `å¯èƒ½ä¸ç¨³å®š` | `â­â­â­` |

### 7.2 å®šæœŸæ›´æ–°ç®¡ç†


**ğŸ“… åˆ¶å®šæ›´æ–°è®¡åˆ’**ï¼š
```bash
# åˆ›å»ºæ›´æ–°è„šæœ¬
cat > /opt/scripts/system-update.sh << 'EOF'
#!/bin/bash
# ç³»ç»Ÿæ›´æ–°è„šæœ¬

# æ›´æ–°å‰å¤‡ä»½å…³é”®é…ç½®
tar -czf /backup/config-$(date +%Y%m%d).tar.gz /etc

# æ£€æŸ¥å¯æ›´æ–°çš„åŒ…
echo "=== å¯æ›´æ–°çš„åŒ… ==="
dnf check-update

# ä»…å®‰å…¨æ›´æ–°
dnf update --security -y

# è®°å½•æ›´æ–°æ—¥å¿—
echo "$(date): ç³»ç»Ÿæ›´æ–°å®Œæˆ" >> /var/log/system-update.log

# æ£€æŸ¥éœ€è¦é‡å¯çš„æœåŠ¡
needs-restarting -s
EOF

chmod +x /opt/scripts/system-update.sh
```

**â° å®šæ—¶æ›´æ–°è®¾ç½®**ï¼š
```bash
# æ·»åŠ åˆ°crontabï¼Œæ¯å‘¨æ—¥å‡Œæ™¨2ç‚¹æ›´æ–°
echo "0 2 * * 0 /opt/scripts/system-update.sh" | crontab -
```

### 7.3 æ‰¹é‡æ›´æ–°æ“ä½œ


**ğŸ”„ åˆ†ç±»æ›´æ–°**ï¼š
```bash
# åªæ›´æ–°å®‰å…¨è¡¥ä¸
dnf update --security -y

# åªæ›´æ–°ç‰¹å®šç±»å‹çš„åŒ…
dnf update "kernel*" -y

# æ’é™¤æŸäº›åŒ…çš„æ›´æ–°
dnf update -x nginx -x mysql-server
```

**ğŸ“¦ APTæ‰¹é‡æ›´æ–°**ï¼š
```bash
# åˆ—å‡ºå¯æ›´æ–°çš„åŒ…
apt list --upgradable

# æ¨¡æ‹Ÿæ›´æ–°ï¼ˆä¸å®é™…æ‰§è¡Œï¼‰
apt upgrade -s

# æ‰¹é‡æ›´æ–°é™¤äº†æŒ‡å®šåŒ…
apt-mark hold nginx
apt upgrade -y
```

### 7.4 æ›´æ–°é£é™©æ§åˆ¶


**ğŸ›¡ï¸ é£é™©æ§åˆ¶æªæ–½**ï¼š

**æ›´æ–°å‰å‡†å¤‡**ï¼š
```bash
# 1. ç³»ç»Ÿå¿«ç…§ï¼ˆè™šæ‹Ÿç¯å¢ƒï¼‰
lvm_snapshot_create

# 2. é…ç½®å¤‡ä»½
tar -czf /backup/etc-backup-$(date +%Y%m%d).tar.gz /etc

# 3. æœåŠ¡çŠ¶æ€è®°å½•
systemctl list-units --state=active > /backup/services-before-update.txt
```

**åˆ†æ‰¹æ›´æ–°ç­–ç•¥**ï¼š
```bash
# ä¼˜å…ˆçº§æ›´æ–°é¡ºåº
# 1. å®‰å…¨æ›´æ–°
dnf update --security -y

# 2. ç³»ç»Ÿæ ¸å¿ƒç»„ä»¶
dnf update glibc kernel -y

# 3. åº”ç”¨ç¨‹åº
dnf update nginx mysql-server -y
```

**ğŸ’¡ æ›´æ–°åéªŒè¯**ï¼š
```bash
# æ£€æŸ¥æœåŠ¡çŠ¶æ€
systemctl status nginx mysql-server

# æ£€æŸ¥ç³»ç»Ÿæ—¥å¿—
journalctl -xe --since "10 minutes ago"

# æ£€æŸ¥éœ€è¦é‡å¯çš„æœåŠ¡
needs-restarting -s
```

---

## 8. ğŸ“¦ è‡ªå®šä¹‰è½¯ä»¶åŒ…åˆ†å‘


### 8.1 è‡ªå®šä¹‰è½¯ä»¶åŒ…çš„éœ€æ±‚


ğŸ¤” **ä¸ºä»€ä¹ˆéœ€è¦è‡ªå®šä¹‰åŒ…**ï¼š
- å…¬å¸å†…éƒ¨å¼€å‘çš„è½¯ä»¶éœ€è¦ç»Ÿä¸€åˆ†å‘
- å¯¹å¼€æºè½¯ä»¶è¿›è¡Œå®šåˆ¶åŒ–ä¿®æ”¹
- åˆ›å»ºæ ‡å‡†åŒ–çš„è½¯ä»¶é…ç½®åŒ…
- ç®€åŒ–å¤æ‚è½¯ä»¶çš„å®‰è£…è¿‡ç¨‹

### 8.2 RPMåŒ…åˆ¶ä½œ


**ğŸ—ï¸ RPMæ„å»ºç¯å¢ƒå‡†å¤‡**ï¼š
```bash
# å®‰è£…æ„å»ºå·¥å…·
dnf install -y rpm-build rpmdevtools

# åˆ›å»ºæ„å»ºç›®å½•ç»“æ„
rpmdev-setuptree

# ç›®å½•ç»“æ„è¯´æ˜
~/rpmbuild/
â”œâ”€â”€ BUILD/      # æ„å»ºè¿‡ç¨‹ä¸´æ—¶ç›®å½•
â”œâ”€â”€ RPMS/       # ç”Ÿæˆçš„RPMåŒ…
â”œâ”€â”€ SOURCES/    # æºä»£ç å’Œè¡¥ä¸æ–‡ä»¶
â”œâ”€â”€ SPECS/      # SPECè§„æ ¼æ–‡ä»¶
â””â”€â”€ SRPMS/      # æºRPMåŒ…
```

**ğŸ“ SPECæ–‡ä»¶ç¼–å†™**ï¼š
```spec
Name:           myapp
Version:        1.0.0
Release:        1%{?dist}
Summary:        My Custom Application

License:        GPLv3
URL:            https://github.com/mycompany/myapp
Source0:        %{name}-%{version}.tar.gz

BuildRequires:  gcc make
Requires:       glibc

%description
This is my custom application for internal use.

%prep
%setup -q

%build
make %{?_smp_mflags}

%install
make install DESTDIR=%{buildroot}

%files
%doc README.md
%{_bindir}/myapp

%changelog
* Wed Sep 17 2025 Admin <admin@company.com> - 1.0.0-1
- Initial package
```

**ğŸ”¨ æ„å»ºRPMåŒ…**ï¼š
```bash
# æ„å»ºRPMåŒ…
rpmbuild -ba ~/rpmbuild/SPECS/myapp.spec

# æ£€æŸ¥æ„å»ºçš„åŒ…
rpm -qip ~/rpmbuild/RPMS/x86_64/myapp-1.0.0-1.el8.x86_64.rpm
```

### 8.3 DEBåŒ…åˆ¶ä½œ


**ğŸ“¦ DEBåŒ…æ„å»ºç¯å¢ƒ**ï¼š
```bash
# å®‰è£…æ„å»ºå·¥å…·
apt install -y build-essential devscripts debhelper

# åˆ›å»ºåŒ…ç›®å½•
mkdir -p myapp-1.0.0/DEBIAN
mkdir -p myapp-1.0.0/usr/bin
```

**ğŸ“‹ æ§åˆ¶æ–‡ä»¶ç¼–å†™**ï¼š
```bash
# åˆ›å»º DEBIAN/control æ–‡ä»¶
cat > myapp-1.0.0/DEBIAN/control << EOF
Package: myapp
Version: 1.0.0
Section: utils
Priority: optional
Architecture: amd64
Depends: libc6
Maintainer: Admin <admin@company.com>
Description: My Custom Application
 This is my custom application for internal use.
EOF
```

**ğŸ”¨ æ„å»ºDEBåŒ…**ï¼š
```bash
# å¤åˆ¶æ–‡ä»¶åˆ°åŒ…ç›®å½•
cp myapp myapp-1.0.0/usr/bin/

# æ„å»ºDEBåŒ…
dpkg-deb --build myapp-1.0.0

# æ£€æŸ¥åŒ…å†…å®¹
dpkg-deb -I myapp-1.0.0.deb
```

### 8.4 è½¯ä»¶åŒ…ä»“åº“æ­å»º


**ğŸª åˆ›å»ºæœ¬åœ°YUMä»“åº“**ï¼š
```bash
# åˆ›å»ºä»“åº“ç›®å½•
mkdir -p /var/www/html/repo/centos/8/x86_64

# å¤åˆ¶RPMåŒ…åˆ°ä»“åº“
cp *.rpm /var/www/html/repo/centos/8/x86_64/

# åˆ›å»ºä»“åº“å…ƒæ•°æ®
createrepo /var/www/html/repo/centos/8/x86_64/

# é…ç½®HTTPæœåŠ¡å™¨
dnf install -y httpd
systemctl enable --now httpd
```

**ğŸª åˆ›å»ºæœ¬åœ°APTä»“åº“**ï¼š
```bash
# å®‰è£…reprepro
apt install -y reprepro apache2

# åˆ›å»ºä»“åº“é…ç½®
mkdir -p /var/www/html/repo/conf
cat > /var/www/html/repo/conf/distributions << EOF
Codename: focal
Components: main
Architectures: amd64
EOF

# æ·»åŠ åŒ…åˆ°ä»“åº“
reprepro -b /var/www/html/repo includedeb focal myapp-1.0.0.deb
```

---

## 9. ğŸ’¿ ç¦»çº¿åŒ…ç®¡ç†æ–¹æ¡ˆ


### 9.1 ç¦»çº¿ç¯å¢ƒéœ€æ±‚åˆ†æ


ğŸ’­ **å…¸å‹ç¦»çº¿åœºæ™¯**ï¼š
- **ç½‘ç»œéš”ç¦»ç¯å¢ƒ**ï¼šé‡‘èã€æ”¿åºœç­‰é«˜å®‰å…¨è¦æ±‚çš„ç¯å¢ƒ
- **ç½‘ç»œå¸¦å®½é™åˆ¶**ï¼šåè¿œåœ°åŒºæˆ–å«æ˜Ÿç½‘ç»œç¯å¢ƒ
- **æ‰¹é‡éƒ¨ç½²éœ€æ±‚**ï¼šåŒæ—¶éƒ¨ç½²å¤§é‡ç›¸åŒé…ç½®çš„æœåŠ¡å™¨

ğŸ¯ **ç¦»çº¿ç®¡ç†ç›®æ ‡**ï¼š
- åœ¨æ— ç½‘ç»œç¯å¢ƒä¸‹å®‰è£…å’Œæ›´æ–°è½¯ä»¶
- å‡å°‘ç½‘ç»œæµé‡å’Œä¸‹è½½æ—¶é—´
- ç¡®ä¿è½¯ä»¶ç‰ˆæœ¬çš„ä¸€è‡´æ€§

### 9.2 ç¦»çº¿åŒ…ä¸‹è½½å’Œå‡†å¤‡


**ğŸ“¥ YUM/DNFç¦»çº¿ä¸‹è½½**ï¼š
```bash
# ä¸‹è½½å•ä¸ªåŒ…åŠå…¶ä¾èµ–
dnf download --resolve nginx

# ä¸‹è½½åˆ°æŒ‡å®šç›®å½•
dnf download --resolve --downloaddir=/tmp/packages nginx mysql-server

# åªä¸‹è½½ä¸å®‰è£…
dnf install --downloadonly --downloaddir=/tmp/packages nginx

# åˆ›å»ºç¦»çº¿å®‰è£…è„šæœ¬
cat > install-offline.sh << 'EOF'
#!/bin/bash
# ç¦»çº¿å®‰è£…è„šæœ¬
cd /tmp/packages
rpm -Uvh *.rpm --force --nodeps
EOF
```

**ğŸ“¥ APTç¦»çº¿ä¸‹è½½**ï¼š
```bash
# ä¸‹è½½åŒ…åŠä¾èµ–
apt-get download nginx
apt-cache depends nginx | grep Depends | awk '{print $2}' | xargs apt-get download

# ä½¿ç”¨apt-offlineå·¥å…·
apt install -y apt-offline

# ç”Ÿæˆä¸‹è½½è¯·æ±‚
apt-offline set nginx-offline.sig --install-packages nginx

# åœ¨æœ‰ç½‘ç»œçš„æœºå™¨ä¸Šä¸‹è½½
apt-offline get nginx-offline.sig --bundle nginx-bundle.zip

# åœ¨ç¦»çº¿æœºå™¨ä¸Šå®‰è£…
apt-offline install nginx-bundle.zip
```

### 9.3 ç¦»çº¿ä»“åº“é•œåƒ


**ğŸ’¾ å®Œæ•´ä»“åº“é•œåƒ**ï¼š
```bash
# YUMä»“åº“é•œåƒ
reposync -g -l -d -m --repoid=baseos --newest-only \
  --download-metadata --download_path=/mirror/centos/8/

# åˆ›å»ºç¦»çº¿ä»“åº“
createrepo /mirror/centos/8/baseos/
```

**ğŸ”§ ç¦»çº¿ä»“åº“é…ç½®**ï¼š
```bash
# é…ç½®æœ¬åœ°ä»“åº“
cat > /etc/yum.repos.d/local.repo << EOF
[local-base]
name=Local Repository - Base
baseurl=file:///mirror/centos/8/baseos/
enabled=1
gpgcheck=0
EOF
```

### 9.4 ç¦»çº¿å®‰è£…æœ€ä½³å®è·µ


**ğŸ“‹ ç¦»çº¿å®‰è£…æµç¨‹**ï¼š

**å‡†å¤‡é˜¶æ®µ**ï¼š
```bash
# 1. åœ¨è”ç½‘ç¯å¢ƒå‡†å¤‡ç¦»çº¿åŒ…
dnf install --downloadonly --downloaddir=/tmp/offline-packages \
  nginx mysql-server php-fpm

# 2. æ‰“åŒ…ç¦»çº¿åŒ…
tar -czf offline-packages.tar.gz /tmp/offline-packages

# 3. åˆ›å»ºå®‰è£…è„šæœ¬
cat > offline-install.sh << 'EOF'
#!/bin/bash
tar -xzf offline-packages.tar.gz
cd tmp/offline-packages
dnf localinstall -y *.rpm
EOF
```

**éƒ¨ç½²é˜¶æ®µ**ï¼š
```bash
# ä¼ è¾“åˆ°ç¦»çº¿ç¯å¢ƒ
scp offline-packages.tar.gz offline-install.sh target-server:

# æ‰§è¡Œç¦»çº¿å®‰è£…
bash offline-install.sh
```

**ğŸ› ï¸ ç¦»çº¿ç¯å¢ƒç»´æŠ¤**ï¼š
```bash
# å®šæœŸåŒæ­¥ç¦»çº¿ä»“åº“
rsync -av --delete /online/repo/ /offline/repo/

# æ›´æ–°ä»“åº“å…ƒæ•°æ®
createrepo --update /offline/repo/
```

ğŸ’¡ **ç¦»çº¿ç®¡ç†æŠ€å·§**ï¼š
- å»ºç«‹æ ‡å‡†åŒ–çš„è½¯ä»¶åŒ…æ¸…å•
- å®šæœŸæ›´æ–°ç¦»çº¿åŒ…ä»“åº“
- ä½¿ç”¨ç‰ˆæœ¬æ§åˆ¶ç®¡ç†è½¯ä»¶åŒ…é…ç½®
- å»ºç«‹æµ‹è¯•ç¯å¢ƒéªŒè¯ç¦»çº¿åŒ…

---

## 10. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 10.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæŠ€èƒ½


```
ğŸ”¸ åŒ…ç®¡ç†å™¨ä½¿ç”¨ï¼šç†Ÿç»ƒä½¿ç”¨yum/dnfå’Œaptè¿›è¡Œè½¯ä»¶ç®¡ç†
ğŸ”¸ ä»“åº“é…ç½®ï¼šèƒ½å¤Ÿé…ç½®å’Œç®¡ç†è½¯ä»¶æº
ğŸ”¸ ä¾èµ–å¤„ç†ï¼šç†è§£å’Œè§£å†³è½¯ä»¶ä¾èµ–å…³ç³»é—®é¢˜  
ğŸ”¸ ç‰ˆæœ¬ç®¡ç†ï¼šæŒæ¡è½¯ä»¶ç‰ˆæœ¬é”å®šå’Œå‡çº§ç­–ç•¥
ğŸ”¸ æ‰¹é‡æ“ä½œï¼šæé«˜å¤§è§„æ¨¡ç¯å¢ƒä¸‹çš„è¿ç»´æ•ˆç‡
ğŸ”¸ ç¦»çº¿ç®¡ç†ï¼šåœ¨ç½‘ç»œå—é™ç¯å¢ƒä¸‹çš„è½¯ä»¶ç®¡ç†èƒ½åŠ›
```

### 10.2 å®é™…åº”ç”¨åœºæ™¯


**ğŸ¢ ä¼ä¸šç¯å¢ƒåº”ç”¨**ï¼š
- **æœåŠ¡å™¨æ ‡å‡†åŒ–**ï¼šç»Ÿä¸€è½¯ä»¶ç‰ˆæœ¬å’Œé…ç½®
- **å®‰å…¨åˆè§„**ï¼šåŠæ—¶æ›´æ–°å®‰å…¨è¡¥ä¸ï¼Œæ§åˆ¶è½¯ä»¶ç‰ˆæœ¬
- **æ‰¹é‡éƒ¨ç½²**ï¼šå¿«é€Ÿéƒ¨ç½²å¤§é‡ç›¸åŒé…ç½®çš„æœåŠ¡å™¨
- **ç¾éš¾æ¢å¤**ï¼šå¿«é€Ÿæ¢å¤ç³»ç»Ÿåˆ°æŒ‡å®šçŠ¶æ€

**âš¡ æ•ˆç‡æå‡æŠ€å·§**ï¼š
```
æ‰¹é‡æ“ä½œå‘½ä»¤ï¼š
# ä¸€é”®å®‰è£…LAMPç¯å¢ƒ
dnf install -y httpd mariadb-server php php-mysql

# æ‰¹é‡æŸ¥è¯¢æœåŠ¡çŠ¶æ€  
systemctl status httpd mariadb php-fpm

# ä¸€æ¬¡æ€§å¯åŠ¨æ‰€æœ‰æœåŠ¡
systemctl enable --now httpd mariadb php-fpm
```

### 10.3 æ•…éšœæ’é™¤æŒ‡å—


**ğŸ’¥ å¸¸è§é—®é¢˜è§£å†³**ï¼š

**ä¾èµ–å†²çª**ï¼š
```bash
# æŸ¥çœ‹å…·ä½“å†²çªä¿¡æ¯
dnf install package-name -v

# å¼ºåˆ¶è§£å†³å†²çª
dnf install --best --allowerasing package-name
```

**GPGç­¾åé—®é¢˜**ï¼š
```bash
# å¯¼å…¥GPGå¯†é’¥
rpm --import https://example.com/GPG-KEY

# ä¸´æ—¶è·³è¿‡GPGæ£€æŸ¥
dnf install --nogpgcheck package-name
```

**ä»“åº“è¿æ¥é—®é¢˜**ï¼š
```bash
# æ¸…ç†ç¼“å­˜é‡è¯•
dnf clean all && dnf makecache

# æ£€æŸ¥ç½‘ç»œè¿æ¥
curl -I http://mirror.centos.org
```

### 10.4 æœ€ä½³å®è·µå»ºè®®


**ğŸ“– ç®¡ç†è§„èŒƒ**ï¼š
- å»ºç«‹è½¯ä»¶åŒ…ç®¡ç†è§„èŒƒæ–‡æ¡£
- åˆ¶å®šæ ‡å‡†çš„è½¯ä»¶ç‰ˆæœ¬æ¸…å•
- å®šæœŸå¤‡ä»½è½¯ä»¶åŒ…é…ç½®
- å»ºç«‹è½¯ä»¶æ›´æ–°æµ‹è¯•æµç¨‹

**ğŸ”’ å®‰å…¨å»ºè®®**ï¼š
- åªä½¿ç”¨å¯ä¿¡ä»»çš„è½¯ä»¶ä»“åº“
- å¯ç”¨GPGç­¾åéªŒè¯
- å®šæœŸæ£€æŸ¥å’Œæ›´æ–°å®‰å…¨è¡¥ä¸
- ç›‘æ§ç³»ç»Ÿè½¯ä»¶å˜æ›´æ—¥å¿—

**ğŸ“ˆ æ•ˆç‡ä¼˜åŒ–**ï¼š
- ä½¿ç”¨è„šæœ¬è‡ªåŠ¨åŒ–å¸¸ç”¨æ“ä½œ
- å»ºç«‹æœ¬åœ°è½¯ä»¶åŒ…ç¼“å­˜
- åˆç†é…ç½®è½¯ä»¶æºä¼˜å…ˆçº§
- å®šæœŸæ¸…ç†ä¸éœ€è¦çš„è½¯ä»¶åŒ…

**ğŸ¯ å­¦ä¹ å»ºè®®**ï¼š
- ä»åŸºç¡€å‘½ä»¤å¼€å§‹ï¼Œé€æ­¥æŒæ¡é«˜çº§ç‰¹æ€§
- å¤šç»ƒä¹ å®é™…åœºæ™¯ä¸‹çš„æ‰¹é‡æ“ä½œ
- äº†è§£ä¸åŒå‘è¡Œç‰ˆçš„åŒ…ç®¡ç†å·®å¼‚
- å…³æ³¨è½¯ä»¶åŒ…ç®¡ç†çš„æœ€æ–°å‘å±•åŠ¨æ€

**æ ¸å¿ƒè®°å¿†å£è¯€**ï¼š
- è½¯ä»¶ç®¡ç†è¦æ‰¹é‡ï¼Œæ•ˆç‡æå‡æ˜¯å…³é”®
- ä¾èµ–å…³ç³»è¦ç†æ¸…ï¼Œç‰ˆæœ¬é”å®šä¿ç¨³å®š
- ä»“åº“é…ç½®è¦è§„èŒƒï¼Œç¦»çº¿ç¯å¢ƒæœ‰é¢„æ¡ˆ
- å®šæœŸæ›´æ–°ä¿å®‰å…¨ï¼Œæ•…éšœæ’æŸ¥æœ‰ç« æ³•