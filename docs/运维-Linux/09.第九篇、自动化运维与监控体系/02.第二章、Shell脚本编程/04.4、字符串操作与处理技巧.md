---
title: 4ã€å­—ç¬¦ä¸²æ“ä½œä¸å¤„ç†æŠ€å·§
---
## ğŸ“š ç›®å½•


1. [å­—ç¬¦ä¸²åŸºç¡€æ¦‚å¿µ](#1-å­—ç¬¦ä¸²åŸºç¡€æ¦‚å¿µ)
2. [å­—ç¬¦ä¸²é•¿åº¦è·å–](#2-å­—ç¬¦ä¸²é•¿åº¦è·å–)
3. [å­—ç¬¦ä¸²æˆªå–æŠ€æœ¯](#3-å­—ç¬¦ä¸²æˆªå–æŠ€æœ¯)
4. [å­—ç¬¦ä¸²æ›¿æ¢æ“ä½œ](#4-å­—ç¬¦ä¸²æ›¿æ¢æ“ä½œ)
5. [å­—ç¬¦ä¸²åˆ é™¤æŠ€å·§](#5-å­—ç¬¦ä¸²åˆ é™¤æŠ€å·§)
6. [å­—ç¬¦ä¸²æ¯”è¾ƒæ“ä½œ](#6-å­—ç¬¦ä¸²æ¯”è¾ƒæ“ä½œ)
7. [å­—ç¬¦ä¸²è¿æ¥ä¸åˆ†å‰²](#7-å­—ç¬¦ä¸²è¿æ¥ä¸åˆ†å‰²)
8. [å¤šè¡Œå­—ç¬¦ä¸²å¤„ç†](#8-å¤šè¡Œå­—ç¬¦ä¸²å¤„ç†)
9. [å­—ç¬¦ä¸²æ ¼å¼åŒ–ä¸æ¨¡æ¿](#9-å­—ç¬¦ä¸²æ ¼å¼åŒ–ä¸æ¨¡æ¿)
10. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#10-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ¯ å­—ç¬¦ä¸²åŸºç¡€æ¦‚å¿µ



### 1.1 ä»€ä¹ˆæ˜¯Shellå­—ç¬¦ä¸²


åœ¨Shellè„šæœ¬ä¸­ï¼Œ**å­—ç¬¦ä¸²å°±æ˜¯ä¸€ä¸²å­—ç¬¦çš„ç»„åˆ**ï¼Œå¯ä»¥åŒ…å«å­—æ¯ã€æ•°å­—ã€ç¬¦å·ç­‰ä»»ä½•å¯è§å­—ç¬¦ã€‚

```
ç®€å•ç†è§£ï¼š
æ–‡ä»¶åï¼š     "document.txt"     â† è¿™æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²
ç”¨æˆ·è¾“å…¥ï¼š   "hello world"     â† è¿™ä¹Ÿæ˜¯å­—ç¬¦ä¸²
ç³»ç»Ÿè·¯å¾„ï¼š   "/home/user/data" â† è·¯å¾„ä¹Ÿæ˜¯å­—ç¬¦ä¸²
```

### 1.2 å­—ç¬¦ä¸²çš„å®šä¹‰æ–¹å¼


**ä¸‰ç§ä¸»è¦æ–¹å¼å®šä¹‰å­—ç¬¦ä¸²**ï¼š

```bash
# æ–¹å¼1ï¼šä¸åŠ å¼•å·ï¼ˆç®€å•å­—ç¬¦ä¸²ï¼‰

name=linux
echo $name    # è¾“å‡ºï¼šlinux

# æ–¹å¼2ï¼šå•å¼•å·ï¼ˆæ‰€è§å³æ‰€å¾—ï¼‰

message='Hello $name'
echo $message # è¾“å‡ºï¼šHello $nameï¼ˆä¸ä¼šæ›¿æ¢å˜é‡ï¼‰

# æ–¹å¼3ï¼šåŒå¼•å·ï¼ˆå¯ä»¥æ›¿æ¢å˜é‡ï¼‰

message="Hello $name"
echo $message # è¾“å‡ºï¼šHello linuxï¼ˆä¼šæ›¿æ¢å˜é‡ï¼‰
```

**ğŸ”¸ å…³é”®ç†è§£**ï¼š
- **å•å¼•å·**ï¼šé‡Œé¢çš„å†…å®¹åŸæ ·è¾“å‡ºï¼Œå˜é‡ä¸ä¼šè¢«æ›¿æ¢
- **åŒå¼•å·**ï¼šé‡Œé¢çš„å˜é‡ä¼šè¢«æ›¿æ¢æˆå®é™…å€¼
- **æ— å¼•å·**ï¼šé€‚ç”¨äºç®€å•çš„å•è¯å­—ç¬¦ä¸²

### 1.3 å­—ç¬¦ä¸²å˜é‡çš„ä½¿ç”¨


```bash
# å®šä¹‰å­—ç¬¦ä¸²å˜é‡

filename="data.txt"
path="/home/user"

# ä½¿ç”¨å­—ç¬¦ä¸²å˜é‡ï¼ˆæ¨èåŠ å¤§æ‹¬å·ï¼‰

fullpath="${path}/${filename}"
echo $fullpath  # è¾“å‡ºï¼š/home/user/data.txt
```

---

## 2. ğŸ“ å­—ç¬¦ä¸²é•¿åº¦è·å–



### 2.1 åŸºæœ¬è¯­æ³•ï¼š${#string}


**è·å–å­—ç¬¦ä¸²é•¿åº¦çš„è¯­æ³•**ï¼š`${#å˜é‡å}`

```bash
# ç¤ºä¾‹ï¼šè®¡ç®—å­—ç¬¦ä¸²é•¿åº¦

text="Hello World"
length=${#text}
echo "å­—ç¬¦ä¸²é•¿åº¦ï¼š$length"  # è¾“å‡ºï¼šå­—ç¬¦ä¸²é•¿åº¦ï¼š11
```

### 2.2 å®é™…åº”ç”¨åœºæ™¯



**ğŸ“‹ åœºæ™¯1ï¼šéªŒè¯ç”¨æˆ·è¾“å…¥é•¿åº¦**
```bash
#!/bin/bash

read -p "è¯·è¾“å…¥å¯†ç ï¼š" password

# æ£€æŸ¥å¯†ç é•¿åº¦

if [ ${#password} -lt 8 ]; then
    echo "âŒ å¯†ç å¤ªçŸ­ï¼Œè‡³å°‘éœ€è¦8ä½å­—ç¬¦"
else
    echo "âœ… å¯†ç é•¿åº¦åˆæ ¼"
fi
```

**ğŸ“‹ åœºæ™¯2ï¼šå¤„ç†æ–‡ä»¶åé•¿åº¦é™åˆ¶**
```bash
#!/bin/bash

filename="very_long_filename_example.txt"

# æ£€æŸ¥æ–‡ä»¶åæ˜¯å¦è¿‡é•¿

max_length=20
if [ ${#filename} -gt $max_length ]; then
    echo "âš ï¸ æ–‡ä»¶åè¿‡é•¿ï¼š${#filename}å­—ç¬¦ï¼Œå»ºè®®ä¸è¶…è¿‡${max_length}å­—ç¬¦"
fi
```

### 2.3 ç‰¹æ®Šå­—ç¬¦çš„é•¿åº¦è®¡ç®—


```bash
# åŒ…å«ç©ºæ ¼çš„å­—ç¬¦ä¸²

text="Hello World"
echo ${#text}  # è¾“å‡ºï¼š11ï¼ˆç©ºæ ¼ä¹Ÿç®—ä¸€ä¸ªå­—ç¬¦ï¼‰

# åŒ…å«ç‰¹æ®Šå­—ç¬¦

special="Hello@#$%^&*()"
echo ${#special}  # è¾“å‡ºï¼š13

# ç©ºå­—ç¬¦ä¸²

empty=""
echo ${#empty}  # è¾“å‡ºï¼š0
```

---

## 3. âœ‚ï¸ å­—ç¬¦ä¸²æˆªå–æŠ€æœ¯



### 3.1 åŸºæœ¬æˆªå–è¯­æ³•


**è¯­æ³•æ ¼å¼**ï¼š`${string:èµ·å§‹ä½ç½®:æˆªå–é•¿åº¦}`

```bash
text="Hello World"

# ä»ä½ç½®0å¼€å§‹æˆªå–5ä¸ªå­—ç¬¦

result=${text:0:5}
echo $result  # è¾“å‡ºï¼šHello

# ä»ä½ç½®6å¼€å§‹æˆªå–åˆ°æœ«å°¾

result=${text:6}
echo $result  # è¾“å‡ºï¼šWorld
```

### 3.2 ä½ç½®ç´¢å¼•è¯´æ˜


```
å­—ç¬¦ä¸²: H e l l o   W o r l d
ç´¢å¼•:   0 1 2 3 4 5 6 7 8 9 10

ç†è§£è¦ç‚¹ï¼š
- ç´¢å¼•ä»0å¼€å§‹è®¡æ•°
- ç©ºæ ¼ä¹Ÿå ç”¨ä¸€ä¸ªä½ç½®
- è´Ÿæ•°ç´¢å¼•ä»æœ«å°¾å¼€å§‹è®¡ç®—
```

### 3.3 æˆªå–æ“ä½œè¯¦è§£



**ğŸ”¸ ä»å¼€å¤´æˆªå–**
```bash
filename="document.txt"

# æˆªå–æ–‡ä»¶åï¼ˆä¸åŒ…å«æ‰©å±•åï¼‰

basename=${filename:0:8}  # document
echo "æ–‡ä»¶åï¼š$basename"
```

**ğŸ”¸ ä»æŒ‡å®šä½ç½®æˆªå–**
```bash
path="/home/user/documents/file.txt"

# ä»ä½ç½®6å¼€å§‹æˆªå–ç”¨æˆ·åéƒ¨åˆ†

username=${path:6:4}  # user
echo "ç”¨æˆ·åï¼š$username"
```

**ğŸ”¸ ä»æœ«å°¾æˆªå–ï¼ˆè´Ÿæ•°ç´¢å¼•ï¼‰**
```bash
text="Hello World"

# ä»å€’æ•°ç¬¬5ä¸ªå­—ç¬¦å¼€å§‹æˆªå–

result=${text: -5}  # Worldï¼ˆæ³¨æ„-å‰é¢æœ‰ç©ºæ ¼ï¼‰
echo $result
```

### 3.4 å®ç”¨æˆªå–ç¤ºä¾‹



**ğŸ“‹ æå–æ–‡ä»¶æ‰©å±•å**
```bash
#!/bin/bash

filename="document.pdf"

# æ–¹æ³•1ï¼šä½¿ç”¨æˆªå–

extension=${filename: -3}  # pdf
echo "æ‰©å±•åï¼š$extension"

# æ–¹æ³•2ï¼šç»“åˆå…¶ä»–æ“ä½œ

name_length=${#filename}
extension=${filename:$((name_length-3))}
echo "æ‰©å±•åï¼š$extension"
```

**ğŸ“‹ å¤„ç†æ—¥æœŸå­—ç¬¦ä¸²**
```bash
#!/bin/bash

date_string="2024-03-15"

# åˆ†åˆ«æå–å¹´ã€æœˆã€æ—¥

year=${date_string:0:4}   # 2024
month=${date_string:5:2}  # 03
day=${date_string:8:2}    # 15

echo "å¹´ï¼š$yearï¼Œæœˆï¼š$monthï¼Œæ—¥ï¼š$day"
```

---

## 4. ğŸ”„ å­—ç¬¦ä¸²æ›¿æ¢æ“ä½œ



### 4.1 æ›¿æ¢è¯­æ³•æ€»è§ˆ


Shellæä¾›äº†å¤šç§å­—ç¬¦ä¸²æ›¿æ¢æ–¹å¼ï¼š

```
${string/pattern/replacement}     â† æ›¿æ¢ç¬¬ä¸€ä¸ªåŒ¹é…
${string//pattern/replacement}    â† æ›¿æ¢æ‰€æœ‰åŒ¹é…
${string/#pattern/replacement}    â† ä»å¼€å¤´åŒ¹é…æ›¿æ¢
${string/%pattern/replacement}    â† ä»æœ«å°¾åŒ¹é…æ›¿æ¢
```

### 4.2 åŸºç¡€æ›¿æ¢æ“ä½œ



**ğŸ”¸ æ›¿æ¢ç¬¬ä¸€ä¸ªåŒ¹é…**
```bash
text="hello world hello"

# åªæ›¿æ¢ç¬¬ä¸€ä¸ªhello

result=${text/hello/hi}
echo $result  # è¾“å‡ºï¼šhi world hello
```

**ğŸ”¸ æ›¿æ¢æ‰€æœ‰åŒ¹é…**
```bash
text="hello world hello"

# æ›¿æ¢æ‰€æœ‰hello

result=${text//hello/hi}
echo $result  # è¾“å‡ºï¼šhi world hi
```

### 4.3 ä½ç½®ç›¸å…³æ›¿æ¢



**ğŸ”¸ ä»å¼€å¤´åŒ¹é…æ›¿æ¢**
```bash
filename="backup_data.txt"

# åªæ›¿æ¢å¼€å¤´çš„backup

result=${filename/#backup/archive}
echo $result  # è¾“å‡ºï¼šarchive_data.txt
```

**ğŸ”¸ ä»æœ«å°¾åŒ¹é…æ›¿æ¢**
```bash
filename="document.txt"

# åªæ›¿æ¢æœ«å°¾çš„.txt

result=${filename/%.txt/.pdf}
echo $result  # è¾“å‡ºï¼šdocument.pdf
```

### 4.4 å®é™…åº”ç”¨åœºæ™¯



**ğŸ“‹ æ‰¹é‡ä¿®æ”¹æ–‡ä»¶æ‰©å±•å**
```bash
#!/bin/bash

for file in *.txt; do
    if [ -f "$file" ]; then
#        # å°†.txtæ›¿æ¢ä¸º.bak
        newname=${file/%.txt/.bak}
        mv "$file" "$newname"
        echo "âœ… $file â†’ $newname"
    fi
done
```

**ğŸ“‹ å¤„ç†è·¯å¾„åˆ†éš”ç¬¦**
```bash
#!/bin/bash

windows_path="C:\Users\John\Documents"

# å°†åæ–œæ æ›¿æ¢ä¸ºæ­£æ–œæ 

linux_path=${windows_path//\\/\/}
echo "è½¬æ¢åè·¯å¾„ï¼š$linux_path"  # C:/Users/John/Documents
```

**ğŸ“‹ æ¸…ç†å­—ç¬¦ä¸²ä¸­çš„å¤šä½™ç©ºæ ¼**
```bash
#!/bin/bash

text="  hello    world  "

# æ›¿æ¢å¤šä¸ªè¿ç»­ç©ºæ ¼ä¸ºå•ä¸ªç©ºæ ¼

clean_text=${text//  / }
echo "æ¸…ç†åï¼š'$clean_text'"
```

### 4.5 åˆ é™¤å­—ç¬¦ï¼ˆç©ºæ›¿æ¢ï¼‰


```bash
text="Hello123World456"

# åˆ é™¤æ‰€æœ‰æ•°å­—ï¼ˆæ›¿æ¢ä¸ºç©ºï¼‰

result=${text//[0-9]/}
echo $result  # è¾“å‡ºï¼šHelloWorld

# åˆ é™¤ç‰¹å®šå­—ç¬¦

phone="(123) 456-7890"
clean_phone=${phone//[()- ]/}
echo $clean_phone  # è¾“å‡ºï¼š1234567890
```

---

## 5. ğŸ—‘ï¸ å­—ç¬¦ä¸²åˆ é™¤æŠ€å·§



### 5.1 åˆ é™¤è¯­æ³•è¯´æ˜


Shellæä¾›äº†ä¸“é—¨çš„åˆ é™¤è¯­æ³•ï¼Œæ¯”æ›¿æ¢æ“ä½œæ›´ç®€æ´ï¼š

```
${string#pattern}   â† ä»å¼€å¤´åˆ é™¤æœ€çŸ­åŒ¹é…
${string##pattern}  â† ä»å¼€å¤´åˆ é™¤æœ€é•¿åŒ¹é…
${string%pattern}   â† ä»æœ«å°¾åˆ é™¤æœ€çŸ­åŒ¹é…
${string%%pattern}  â† ä»æœ«å°¾åˆ é™¤æœ€é•¿åŒ¹é…
```

### 5.2 ä»å¼€å¤´åˆ é™¤



**ğŸ”¸ åˆ é™¤æœ€çŸ­åŒ¹é…ï¼ˆ#ï¼‰**
```bash
filename="path/to/document.txt"

# åˆ é™¤ç¬¬ä¸€ä¸ª/åŠä¹‹å‰çš„å†…å®¹

result=${filename#*/}
echo $result  # è¾“å‡ºï¼što/document.txt
```

**ğŸ”¸ åˆ é™¤æœ€é•¿åŒ¹é…ï¼ˆ##ï¼‰**
```bash
filename="path/to/document.txt"

# åˆ é™¤æœ€åä¸€ä¸ª/åŠä¹‹å‰çš„æ‰€æœ‰å†…å®¹

result=${filename##*/}
echo $result  # è¾“å‡ºï¼šdocument.txtï¼ˆåªä¿ç•™æ–‡ä»¶åï¼‰
```

### 5.3 ä»æœ«å°¾åˆ é™¤



**ğŸ”¸ åˆ é™¤æœ€çŸ­åŒ¹é…ï¼ˆ%ï¼‰**
```bash
filename="document.tar.gz"

# åˆ é™¤æœ€åä¸€ä¸ª.åŠä¹‹åçš„å†…å®¹

result=${filename%.*}
echo $result  # è¾“å‡ºï¼šdocument.tar
```

**ğŸ”¸ åˆ é™¤æœ€é•¿åŒ¹é…ï¼ˆ%%ï¼‰**
```bash
filename="document.tar.gz"

# åˆ é™¤ç¬¬ä¸€ä¸ª.åŠä¹‹åçš„æ‰€æœ‰å†…å®¹

result=${filename%%.*}
echo $result  # è¾“å‡ºï¼šdocument
```

### 5.4 å®é™…åº”ç”¨æ¡ˆä¾‹



**ğŸ“‹ æå–æ–‡ä»¶åå’Œæ‰©å±•å**
```bash
#!/bin/bash

fullpath="/home/user/documents/report.pdf"

# æå–ç›®å½•è·¯å¾„

directory=${fullpath%/*}
echo "ç›®å½•ï¼š$directory"  # /home/user/documents

# æå–æ–‡ä»¶å

filename=${fullpath##*/}
echo "æ–‡ä»¶åï¼š$filename"  # report.pdf

# æå–çº¯æ–‡ä»¶åï¼ˆæ— æ‰©å±•åï¼‰

basename=${filename%.*}
echo "çº¯æ–‡ä»¶åï¼š$basename"  # report

# æå–æ‰©å±•å

extension=${filename##*.}
echo "æ‰©å±•åï¼š$extension"  # pdf
```

**ğŸ“‹ å¤„ç†URLè·¯å¾„**
```bash
#!/bin/bash

url="https://www.example.com/api/v1/users?id=123"

# æå–åŸŸå

protocol=${url%://*}  # https
domain=${url#*://}
domain=${domain%%/*}  # www.example.com

# æå–è·¯å¾„

path=${url#*://*/}
path=${path%%\?*}     # api/v1/users

echo "åè®®ï¼š$protocol"
echo "åŸŸåï¼š$domain"
echo "è·¯å¾„ï¼š$path"
```

### 5.5 è®°å¿†æŠ€å·§


```
è®°å¿†æ–¹æ³•ï¼š
# å·åƒå‰ªåˆ€ âœ‚ï¸ ä»å‰é¢å‰ª

% å·åƒæ‰«å¸š ğŸ§¹ ä»åé¢æ‰«

ä¸€ä¸ªç¬¦å·ï¼šæœ€çŸ­åŒ¹é…ï¼ˆå°å¿ƒç¿¼ç¿¼ï¼‰
ä¸¤ä¸ªç¬¦å·ï¼šæœ€é•¿åŒ¹é…ï¼ˆå¤§åˆ€é˜”æ–§ï¼‰

#  â†’  æœ€çŸ­å‰åˆ 

# â†’  æœ€é•¿å‰åˆ 


%  â†’  æœ€çŸ­ååˆ 
%% â†’  æœ€é•¿ååˆ 
```

---

## 6. âš–ï¸ å­—ç¬¦ä¸²æ¯”è¾ƒæ“ä½œ



### 6.1 æ¯”è¾ƒæ“ä½œç¬¦è¯¦è§£


Shellæä¾›äº†å¤šç§å­—ç¬¦ä¸²æ¯”è¾ƒæ–¹å¼ï¼š

| æ“ä½œç¬¦ | å«ä¹‰ | ç¤ºä¾‹ |
|--------|------|------|
| `=` æˆ– `==` | ç›¸ç­‰æ¯”è¾ƒ | `[ "$str1" = "$str2" ]` |
| `!=` | ä¸ç­‰æ¯”è¾ƒ | `[ "$str1" != "$str2" ]` |
| `-z` | å­—ç¬¦ä¸²ä¸ºç©º | `[ -z "$str" ]` |
| `-n` | å­—ç¬¦ä¸²éç©º | `[ -n "$str" ]` |
| `<` | å­—å…¸åºå°äº | `[[ "$str1" < "$str2" ]]` |
| `>` | å­—å…¸åºå¤§äº | `[[ "$str1" > "$str2" ]]` |

### 6.2 ç›¸ç­‰æ€§æ¯”è¾ƒ



**ğŸ”¸ åŸºæœ¬ç›¸ç­‰æ¯”è¾ƒ**
```bash
#!/bin/bash

username="admin"
password="123456"

# éªŒè¯ç”¨æˆ·å

if [ "$username" = "admin" ]; then
    echo "âœ… ç”¨æˆ·åæ­£ç¡®"
else
    echo "âŒ ç”¨æˆ·åé”™è¯¯"
fi

# éªŒè¯å¯†ç ï¼ˆæ¨èä½¿ç”¨åŒç­‰å·ï¼‰

if [ "$password" == "123456" ]; then
    echo "âœ… å¯†ç æ­£ç¡®"
else
    echo "âŒ å¯†ç é”™è¯¯"
fi
```

**ğŸ”¸ å¤§å°å†™æ•æ„Ÿæ¯”è¾ƒ**
```bash
#!/bin/bash

input="Hello"
target="hello"

if [ "$input" = "$target" ]; then
    echo "å®Œå…¨åŒ¹é…"
else
    echo "ä¸åŒ¹é…ï¼ˆå¤§å°å†™æ•æ„Ÿï¼‰"  # è¿™ä¼šè¢«æ‰§è¡Œ
fi
```

### 6.3 ç©ºå€¼æ£€æµ‹



**ğŸ”¸ æ£€æµ‹å­—ç¬¦ä¸²æ˜¯å¦ä¸ºç©º**
```bash
#!/bin/bash

user_input=""

# æ–¹æ³•1ï¼šä½¿ç”¨-zé€‰é¡¹

if [ -z "$user_input" ]; then
    echo "âš ï¸ è¾“å…¥ä¸èƒ½ä¸ºç©º"
fi

# æ–¹æ³•2ï¼šä½¿ç”¨-né€‰é¡¹

if [ -n "$user_input" ]; then
    echo "âœ… è¾“å…¥æœ‰æ•ˆ"
else
    echo "âŒ è¾“å…¥ä¸ºç©º"
fi
```

**ğŸ”¸ å®é™…åº”ç”¨ï¼šè¡¨å•éªŒè¯**
```bash
#!/bin/bash

read -p "è¯·è¾“å…¥å§“åï¼š" name
read -p "è¯·è¾“å…¥é‚®ç®±ï¼š" email

# éªŒè¯å¿…å¡«å­—æ®µ

if [ -z "$name" ] || [ -z "$email" ]; then
    echo "âŒ å§“åå’Œé‚®ç®±éƒ½æ˜¯å¿…å¡«é¡¹"
    exit 1
fi

echo "âœ… ä¿¡æ¯å¡«å†™å®Œæ•´"
echo "å§“åï¼š$name"
echo "é‚®ç®±ï¼š$email"
```

### 6.4 å­—å…¸åºæ¯”è¾ƒ



**ğŸ”¸ åŸºæœ¬å­—å…¸åºæ¯”è¾ƒ**
```bash
#!/bin/bash

str1="apple"
str2="banana"

# ä½¿ç”¨åŒæ–¹æ‹¬å·è¿›è¡Œå­—å…¸åºæ¯”è¾ƒ

if [[ "$str1" < "$str2" ]]; then
    echo "$str1 æ’åœ¨ $str2 å‰é¢"  # è¿™ä¼šè¢«æ‰§è¡Œ
fi

# æŒ‰å­—æ¯é¡ºåºæ’åº

words=("zebra" "apple" "cat" "dog")
echo "æ’åºå‰ï¼š${words[*]}"

# ç®€å•çš„å­—å…¸åºæ’åºç¤ºä¾‹

for word in "${words[@]}"; do
    echo "$word"
done | sort

echo "æ’åºåç»“æœå¦‚ä¸Š"
```

### 6.5 æ¨¡å¼åŒ¹é…æ¯”è¾ƒ



**ğŸ”¸ ä½¿ç”¨é€šé…ç¬¦åŒ¹é…**
```bash
#!/bin/bash

filename="document.txt"

# æ£€æŸ¥æ–‡ä»¶æ‰©å±•å

if [[ "$filename" == *.txt ]]; then
    echo "âœ… è¿™æ˜¯ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶"
fi

# æ£€æŸ¥æ–‡ä»¶åå‰ç¼€

if [[ "$filename" == doc* ]]; then
    echo "âœ… æ–‡ä»¶åä»¥docå¼€å¤´"
fi
```

**ğŸ”¸ å¤šæ¡ä»¶ç»„åˆæ¯”è¾ƒ**
```bash
#!/bin/bash

file_type="image"
file_size="large"

# ä½¿ç”¨é€»è¾‘æ“ä½œç¬¦ç»„åˆæ¡ä»¶

if [ "$file_type" = "image" ] && [ "$file_size" = "large" ]; then
    echo "âš ï¸ å¤§å°ºå¯¸å›¾ç‰‡ï¼Œéœ€è¦å‹ç¼©"
fi

# æˆ–æ¡ä»¶åˆ¤æ–­

if [ "$file_type" = "video" ] || [ "$file_type" = "audio" ]; then
    echo "ğŸ“± å¤šåª’ä½“æ–‡ä»¶"
fi
```

---

## 7. ğŸ”— å­—ç¬¦ä¸²è¿æ¥ä¸åˆ†å‰²



### 7.1 å­—ç¬¦ä¸²è¿æ¥æŠ€æœ¯



**ğŸ”¸ ç›´æ¥è¿æ¥**
```bash
#!/bin/bash

first_name="John"
last_name="Doe"

# æ–¹æ³•1ï¼šç›´æ¥è¿æ¥

full_name="$first_name$last_name"
echo $full_name  # JohnDoe

# æ–¹æ³•2ï¼šæ·»åŠ åˆ†éš”ç¬¦

full_name="$first_name $last_name"
echo $full_name  # John Doe

# æ–¹æ³•3ï¼šä½¿ç”¨å¤§æ‹¬å·ï¼ˆæ¨èï¼‰

full_name="${first_name}_${last_name}"
echo $full_name  # John_Doe
```

**ğŸ”¸ æ„å»ºå¤æ‚å­—ç¬¦ä¸²**
```bash
#!/bin/bash

date=$(date +%Y%m%d)
time=$(date +%H%M%S)
username="admin"

# æ„å»ºæ—¥å¿—æ–‡ä»¶å

log_filename="system_${username}_${date}_${time}.log"
echo "æ—¥å¿—æ–‡ä»¶ï¼š$log_filename"
# è¾“å‡ºï¼šsystem_admin_20240315_143022.log


# æ„å»ºå®Œæ•´è·¯å¾„

log_path="/var/logs/${log_filename}"
echo "å®Œæ•´è·¯å¾„ï¼š$log_path"
```

### 7.2 å­—ç¬¦ä¸²åˆ†å‰²æŠ€æœ¯



**ğŸ”¸ ä½¿ç”¨IFSåˆ†å‰²**
```bash
#!/bin/bash

data="apple,banana,orange,grape"

# ä¸´æ—¶æ”¹å˜åˆ†éš”ç¬¦

IFS=','
read -ra fruits <<< "$data"

# éå†åˆ†å‰²ç»“æœ

echo "åˆ†å‰²åçš„æ°´æœï¼š"
for fruit in "${fruits[@]}"; do
    echo "- $fruit"
done

# æ¢å¤é»˜è®¤åˆ†éš”ç¬¦

IFS=' '
```

**ğŸ”¸ æŒ‰è¡Œåˆ†å‰²å­—ç¬¦ä¸²**
```bash
#!/bin/bash

text_block="ç¬¬ä¸€è¡Œ
ç¬¬äºŒè¡Œ
ç¬¬ä¸‰è¡Œ"

# ä½¿ç”¨æ•°ç»„å­˜å‚¨æ¯è¡Œ

IFS=$'\n'
read -ra lines <<< "$text_block"

echo "å…±æœ‰ ${#lines[@]} è¡Œï¼š"
for i in "${!lines[@]}"; do
    echo "ç¬¬$((i+1))è¡Œï¼š${lines[$i]}"
done
```

### 7.3 å®é™…åº”ç”¨åœºæ™¯



**ğŸ“‹ å¤„ç†CSVæ•°æ®**
```bash
#!/bin/bash

csv_line="å¼ ä¸‰,25,å·¥ç¨‹å¸ˆ,åŒ—äº¬"

# åˆ†å‰²CSVå­—æ®µ

IFS=','
read -ra fields <<< "$csv_line"

# æå–å„å­—æ®µ

name=${fields[0]}
age=${fields[1]}
job=${fields[2]}
city=${fields[3]}

echo "å‘˜å·¥ä¿¡æ¯ï¼š"
echo "  å§“åï¼š$name"
echo "  å¹´é¾„ï¼š$age"
echo "  èŒä¸šï¼š$job"
echo "  åŸå¸‚ï¼š$city"
```

**ğŸ“‹ æ„å»ºç³»ç»Ÿå‘½ä»¤**
```bash
#!/bin/bash

server="192.168.1.100"
port="22"
username="admin"
remote_path="/backup"

# æ„å»ºSSHå‘½ä»¤

ssh_command="ssh -p ${port} ${username}@${server}"
scp_command="scp -P ${port} file.txt ${username}@${server}:${remote_path}/"

echo "SSHè¿æ¥å‘½ä»¤ï¼š$ssh_command"
echo "æ–‡ä»¶ä¼ è¾“å‘½ä»¤ï¼š$scp_command"
```

---

## 8. ğŸ“ å¤šè¡Œå­—ç¬¦ä¸²å¤„ç†



### 8.1 Here DocumentåŸºç¡€


**Here Document**æ˜¯å¤„ç†å¤šè¡Œå­—ç¬¦ä¸²çš„å¼ºå¤§å·¥å…·ï¼Œè¯­æ³•ï¼š`<<æ ‡è®°`

```bash
#!/bin/bash


# åŸºæœ¬Here Documentè¯­æ³•

cat << EOF
è¿™æ˜¯ç¬¬ä¸€è¡Œ
è¿™æ˜¯ç¬¬äºŒè¡Œ
è¿™æ˜¯ç¬¬ä¸‰è¡Œ
EOF
```

### 8.2 Here Documentçš„ç”¨æ³•



**ğŸ”¸ ç”Ÿæˆé…ç½®æ–‡ä»¶**
```bash
#!/bin/bash

server_name="web01"
server_ip="192.168.1.100"
port="80"

# ç”ŸæˆNginxé…ç½®

cat << CONFIG > /tmp/nginx.conf
server {
    listen $port;
    server_name $server_name;
    
    location / {
        proxy_pass http://$server_ip;
        proxy_set_header Host \$host;
        proxy_set_header X-Real-IP \$remote_addr;
    }
}
CONFIG

echo "âœ… é…ç½®æ–‡ä»¶å·²ç”Ÿæˆï¼š/tmp/nginx.conf"
```

**ğŸ”¸ Here Documentå˜ä½“**
```bash
#!/bin/bash

username="admin"

# æ ‡å‡†Here Documentï¼ˆå˜é‡ä¼šè¢«æ›¿æ¢ï¼‰

cat << EOF
æ¬¢è¿ç”¨æˆ·ï¼š$username
å½“å‰æ—¶é—´ï¼š$(date)
EOF

# å¼•ç”¨æ ‡è®°ï¼ˆå˜é‡ä¸ä¼šè¢«æ›¿æ¢ï¼‰

cat << 'EOF'
æ¬¢è¿ç”¨æˆ·ï¼š$username
å½“å‰æ—¶é—´ï¼š$(date)
EOF

# Here Stringï¼ˆå•è¡Œç‰ˆæœ¬ï¼‰

cat <<< "è¿™æ˜¯ä¸€ä¸ªç®€å•çš„Here Stringç¤ºä¾‹"
```

### 8.3 å¤šè¡Œå­—ç¬¦ä¸²èµ‹å€¼



**ğŸ”¸ å°†å¤šè¡Œå†…å®¹èµ‹å€¼ç»™å˜é‡**
```bash
#!/bin/bash


# æ–¹æ³•1ï¼šä½¿ç”¨Here Document

email_template=$(cat << EMAIL
äº²çˆ±çš„ç”¨æˆ·ï¼š

æ‚¨çš„è´¦æˆ·å·²ç»æ¿€æ´»æˆåŠŸã€‚
ç™»å½•åœ°å€ï¼šhttps://example.com
ç”¨æˆ·åï¼šadmin

ç¥æ‚¨ä½¿ç”¨æ„‰å¿«ï¼

ç³»ç»Ÿç®¡ç†å‘˜
EMAIL
)

echo "$email_template"
```

**ğŸ”¸ å¤„ç†å¸¦ç¼©è¿›çš„å¤šè¡Œæ–‡æœ¬**
```bash
#!/bin/bash


# ä½¿ç”¨<<-å¯ä»¥å¿½ç•¥å¼€å¤´çš„åˆ¶è¡¨ç¬¦

function generate_report() {
    cat <<-REPORT
	æŠ¥å‘Šæ ‡é¢˜ï¼šç³»ç»ŸçŠ¶æ€æŠ¥å‘Š
	ç”Ÿæˆæ—¶é—´ï¼š$(date)
	
	æœåŠ¡å™¨çŠ¶æ€ï¼šæ­£å¸¸
	å†…å­˜ä½¿ç”¨ç‡ï¼š75%
	ç£ç›˜ä½¿ç”¨ç‡ï¼š60%
	
	æŠ¥å‘Šç»“æŸ
	REPORT
}

generate_report > system_report.txt
echo "âœ… æŠ¥å‘Šå·²ç”Ÿæˆï¼šsystem_report.txt"
```

### 8.4 å®é™…åº”ç”¨æ¡ˆä¾‹



**ğŸ“‹ ç”ŸæˆSQLè„šæœ¬**
```bash
#!/bin/bash

db_name="company"
table_name="employees"
backup_date=$(date +%Y%m%d)

# ç”Ÿæˆæ•°æ®åº“å¤‡ä»½SQL

cat << SQL > backup_${backup_date}.sql
-- æ•°æ®åº“å¤‡ä»½è„šæœ¬
-- ç”Ÿæˆæ—¶é—´ï¼š$(date)

USE $db_name;

CREATE TABLE ${table_name}_backup AS 
SELECT * FROM $table_name;

-- å¤‡ä»½å®Œæˆ
SELECT COUNT(*) AS total_records 
FROM ${table_name}_backup;
SQL

echo "âœ… SQLè„šæœ¬å·²ç”Ÿæˆï¼šbackup_${backup_date}.sql"
```

**ğŸ“‹ ç”ŸæˆHTMLé¡µé¢**
```bash
#!/bin/bash

title="ç³»ç»Ÿç›‘æ§é¡µé¢"
server_status="è¿è¡Œä¸­"
last_update=$(date)

# ç”Ÿæˆç®€å•çš„HTMLé¡µé¢

cat << HTML > status.html
<!DOCTYPE html>
<html>
<head>
    <title>$title</title>
    <meta charset="UTF-8">
</head>
<body>
    <h1>$title</h1>
    <p>æœåŠ¡å™¨çŠ¶æ€ï¼š<strong>$server_status</strong></p>
    <p>æœ€åæ›´æ–°ï¼š$last_update</p>
    
    <footer>
        <p>è‡ªåŠ¨ç”Ÿæˆäºï¼š$(hostname)</p>
    </footer>
</body>
</html>
HTML

echo "âœ… HTMLé¡µé¢å·²ç”Ÿæˆï¼šstatus.html"
```

---

## 9. ğŸ¨ å­—ç¬¦ä¸²æ ¼å¼åŒ–ä¸æ¨¡æ¿



### 9.1 printfæ ¼å¼åŒ–


`printf`å‘½ä»¤æä¾›äº†å¼ºå¤§çš„å­—ç¬¦ä¸²æ ¼å¼åŒ–åŠŸèƒ½ï¼š

```bash
#!/bin/bash


# åŸºæœ¬æ ¼å¼åŒ–

name="Alice"
age=25
score=95.8

# æ ¼å¼åŒ–è¾“å‡º

printf "å§“åï¼š%-10s å¹´é¾„ï¼š%03d åˆ†æ•°ï¼š%6.2f\n" "$name" "$age" "$score"
# è¾“å‡ºï¼šå§“åï¼šAlice      å¹´é¾„ï¼š025 åˆ†æ•°ï¼š 95.80

```

### 9.2 æ ¼å¼åŒ–è¯´æ˜ç¬¦



| è¯´æ˜ç¬¦ | å«ä¹‰ | ç¤ºä¾‹ |
|--------|------|------|
| `%s` | å­—ç¬¦ä¸² | `printf "%s" "hello"` |
| `%d` | æ•´æ•° | `printf "%d" 123` |
| `%f` | æµ®ç‚¹æ•° | `printf "%.2f" 3.14159` |
| `%x` | åå…­è¿›åˆ¶ | `printf "%x" 255` |
| `%o` | å…«è¿›åˆ¶ | `printf "%o" 64` |

**ğŸ”¸ å®ç”¨æ ¼å¼åŒ–ç¤ºä¾‹**
```bash
#!/bin/bash


# æ ¼å¼åŒ–è¡¨æ ¼è¾“å‡º

printf "%-15s %-10s %-8s\n" "æ–‡ä»¶å" "å¤§å°" "æƒé™"
printf "%-15s %-10s %-8s\n" "-------" "----" "------"
printf "%-15s %-10d %-8s\n" "document.txt" 1024 "rw-r--r--"
printf "%-15s %-10d %-8s\n" "script.sh" 2048 "rwxr-xr-x"

# æ ¼å¼åŒ–æ•°å­—æ˜¾ç¤º

price=1234.56
printf "å•†å“ä»·æ ¼ï¼šÂ¥%,.2f\n" "$price"

# è¿›åº¦æ¡æ˜¾ç¤º

progress=75
printf "è¿›åº¦ï¼š[%.*s%.*s] %d%%\n" \
    $((progress/5)) "â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ" \
    $((20-progress/5)) "                    " \
    "$progress"
```

### 9.3 æ¨¡æ¿å¤„ç†æŠ€æœ¯



**ğŸ”¸ ç®€å•æ¨¡æ¿æ›¿æ¢**
```bash
#!/bin/bash


# å®šä¹‰æ¨¡æ¿

template='æ¬¢è¿ {{name}}ï¼æ‚¨çš„ç­‰çº§æ˜¯ {{level}}ï¼Œç§¯åˆ†ï¼š{{points}}'

# å®šä¹‰æ›¿æ¢å€¼

name="å¼ ä¸‰"
level="VIP"
points="1500"

# æ‰§è¡Œæ›¿æ¢

result=${template//\{\{name\}\}/$name}
result=${result//\{\{level\}\}/$level}
result=${result//\{\{points\}\}/$points}

echo "$result"
# è¾“å‡ºï¼šæ¬¢è¿ å¼ ä¸‰ï¼æ‚¨çš„ç­‰çº§æ˜¯ VIPï¼Œç§¯åˆ†ï¼š1500

```

**ğŸ”¸ å‡½æ•°åŒ–æ¨¡æ¿å¤„ç†**
```bash
#!/bin/bash


# æ¨¡æ¿æ›¿æ¢å‡½æ•°

template_replace() {
    local template="$1"
    shift  # ç§»é™¤ç¬¬ä¸€ä¸ªå‚æ•°
    
#    # å¤„ç†æ‰€æœ‰key=valueå¯¹
    while [ $# -gt 0 ]; do
        local pair="$1"
        local key=${pair%=*}
        local value=${pair#*=}
        
#        # æ‰§è¡Œæ›¿æ¢
        template=${template//\{\{$key\}\}/$value}
        shift
    done
    
    echo "$template"
}

# ä½¿ç”¨æ¨¡æ¿å‡½æ•°

email_template="äº²çˆ±çš„{{customer}}ï¼Œæ‚¨çš„è®¢å•{{order_id}}å·²å‘è´§ï¼Œé¢„è®¡{{days}}å¤©å†…åˆ°è¾¾ã€‚"

result=$(template_replace "$email_template" \
    "customer=æå››" \
    "order_id=ORD001" \
    "days=3")

echo "$result"
```

### 9.4 é«˜çº§æ¨¡æ¿åº”ç”¨



**ğŸ“‹ é…ç½®æ–‡ä»¶æ¨¡æ¿**
```bash
#!/bin/bash


# æ•°æ®åº“é…ç½®æ¨¡æ¿

generate_db_config() {
    local host="$1"
    local port="$2"
    local database="$3"
    local username="$4"
    
    cat << CONFIG
# æ•°æ®åº“é…ç½®æ–‡ä»¶

# ç”Ÿæˆæ—¶é—´ï¼š$(date)


[database]
host = $host
port = $port
database = $database
username = $username

[connection]
pool_size = 10
timeout = 30
retry_count = 3

[logging]
level = INFO
file = /var/log/db.log
CONFIG
}

# ç”Ÿæˆé…ç½®

generate_db_config "localhost" "3306" "myapp" "appuser" > database.conf
echo "âœ… æ•°æ®åº“é…ç½®å·²ç”Ÿæˆï¼šdatabase.conf"
```

**ğŸ“‹ æ‰¹é‡æ–‡ä»¶é‡å‘½åæ¨¡æ¿**
```bash
#!/bin/bash


# æ–‡ä»¶é‡å‘½åæ¨¡æ¿å‡½æ•°

rename_files() {
    local template="$1"
    local counter=1
    
    for file in *.jpg; do
        if [ -f "$file" ]; then
#            # æ›¿æ¢æ¨¡æ¿å˜é‡
            new_name=${template//\{\{counter\}\}/$(printf "%03d" $counter)}
            new_name=${new_name//\{\{date\}\}/$(date +%Y%m%d)}
            new_name=${new_name//\{\{ext\}\}/jpg}
            
            mv "$file" "$new_name"
            echo "âœ… $file â†’ $new_name"
            
            ((counter++))
        fi
    done
}

# ä½¿ç”¨é‡å‘½åæ¨¡æ¿

rename_files "photo_{{date}}_{{counter}}.{{ext}}"
```

---

## 10. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“



### 10.1 å¿…çŸ¥å¿…ä¼šçš„æ“ä½œ



**ğŸ”¸ é•¿åº¦å’Œæˆªå–**
```bash
${#string}              # è·å–å­—ç¬¦ä¸²é•¿åº¦
${string:pos:len}       # æˆªå–æŒ‡å®šä½ç½®å’Œé•¿åº¦
${string:pos}           # ä»æŒ‡å®šä½ç½®æˆªå–åˆ°æœ«å°¾
${string: -n}           # ä»æœ«å°¾æˆªå–nä¸ªå­—ç¬¦ï¼ˆæ³¨æ„ç©ºæ ¼ï¼‰
```

**ğŸ”¸ æ›¿æ¢å’Œåˆ é™¤**
```bash
${string/old/new}       # æ›¿æ¢ç¬¬ä¸€ä¸ªåŒ¹é…
${string//old/new}      # æ›¿æ¢æ‰€æœ‰åŒ¹é…
${string#pattern}       # ä»å‰åˆ é™¤æœ€çŸ­åŒ¹é…
${string##pattern}      # ä»å‰åˆ é™¤æœ€é•¿åŒ¹é…
${string%pattern}       # ä»ååˆ é™¤æœ€çŸ­åŒ¹é…
${string%%pattern}      # ä»ååˆ é™¤æœ€é•¿åŒ¹é…
```

**ğŸ”¸ æ¯”è¾ƒæ“ä½œ**
```bash
[ "$str1" = "$str2" ]   # ç›¸ç­‰æ¯”è¾ƒ
[ "$str1" != "$str2" ]  # ä¸ç­‰æ¯”è¾ƒ
[ -z "$str" ]           # æ£€æµ‹ç©ºå­—ç¬¦ä¸²
[ -n "$str" ]           # æ£€æµ‹éç©ºå­—ç¬¦ä¸²
```

### 10.2 è®°å¿†æŠ€å·§å£è¯€



```
ğŸ§  å­—ç¬¦ä¸²æ“ä½œè®°å¿†æ³•ï¼š
äº•å·å‰ªåˆ€ä»å‰å‰ªï¼Œä¸€ä¸ªæœ€çŸ­ä¸¤ä¸ªé•¿
ç™¾åˆ†æ‰«å¸šä»åæ‰«ï¼Œæ¸…ç†æ¨¡å¼è¦è®°ç‰¢
å†’å·æˆªå–å®šä½å‡†ï¼Œä½ç½®é•¿åº¦åˆ«ææ··
æ–œæ æ›¿æ¢åŠŸèƒ½å¼ºï¼Œä¸€æ¡ç¬¬ä¸€ä¸¤æ¡å…¨
```

### 10.3 å®é™…åº”ç”¨æŒ‡å¯¼



**ğŸ¯ é€‰æ‹©åˆé€‚çš„æ“ä½œæ–¹å¼**
- **æ–‡ä»¶è·¯å¾„å¤„ç†**ï¼šä¼˜å…ˆä½¿ç”¨åˆ é™¤æ“ä½œï¼ˆ#ã€%ï¼‰
- **æ•°æ®æ ¼å¼è½¬æ¢**ï¼šä½¿ç”¨æ›¿æ¢æ“ä½œï¼ˆ/ã€//ï¼‰
- **ç”¨æˆ·è¾“å…¥éªŒè¯**ï¼šä½¿ç”¨æ¯”è¾ƒæ“ä½œï¼ˆ=ã€-zã€-nï¼‰
- **é…ç½®æ–‡ä»¶ç”Ÿæˆ**ï¼šä½¿ç”¨Here Document
- **æ¨¡æ¿å¤„ç†**ï¼šç»„åˆå¤šç§æ“ä½œæŠ€æœ¯

**âš ï¸ æ³¨æ„äº‹é¡¹**
- å­—ç¬¦ä¸²å˜é‡ä½¿ç”¨æ—¶åŠ åŒå¼•å·ï¼š`"$variable"`
- å¤æ‚æ“ä½œæ—¶ä½¿ç”¨å¤§æ‹¬å·ï¼š`${variable}`
- æ³¨æ„ç‰¹æ®Šå­—ç¬¦éœ€è¦è½¬ä¹‰
- æµ‹è¯•è¾¹ç•Œæƒ…å†µï¼ˆç©ºå­—ç¬¦ä¸²ã€ç‰¹æ®Šå­—ç¬¦ï¼‰

**ğŸš€ æ€§èƒ½ä¼˜åŒ–å»ºè®®**
- å¤§é‡æ–‡æœ¬å¤„ç†ä¼˜å…ˆè€ƒè™‘ä¸“é—¨å·¥å…·ï¼ˆsedã€awkï¼‰
- ç®€å•æ“ä½œä½¿ç”¨Shellå†…ç½®åŠŸèƒ½
- å¤æ‚æ¨¡æ¿å¤„ç†å¯è€ƒè™‘å¤–éƒ¨å·¥å…·
- é¿å…åœ¨å¾ªç¯ä¸­è¿›è¡Œå¤§é‡å­—ç¬¦ä¸²æ“ä½œ

**æ ¸å¿ƒç†è§£**ï¼šShellå­—ç¬¦ä¸²æ“ä½œæ˜¯ç³»ç»Ÿç®¡ç†å’Œè„šæœ¬ç¼–ç¨‹çš„åŸºç¡€æŠ€èƒ½ï¼ŒæŒæ¡è¿™äº›æŠ€æœ¯èƒ½å¤Ÿå¤§å¤§æé«˜è„šæœ¬çš„ç¼–å†™æ•ˆç‡å’ŒåŠŸèƒ½å¼ºåº¦ã€‚é‡ç‚¹æ˜¯ç†è§£æ¯ç§æ“ä½œçš„é€‚ç”¨åœºæ™¯ï¼Œé€‰æ‹©æœ€åˆé€‚çš„æ–¹æ³•æ¥è§£å†³å®é™…é—®é¢˜ã€‚