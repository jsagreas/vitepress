---
title: 5ã€ç½‘ç»œæ¥å£çŠ¶æ€ç›‘æ§
---
## ğŸ“š ç›®å½•

1. [ç½‘ç»œæ¥å£åŸºç¡€æ¦‚å¿µ](#1-ç½‘ç»œæ¥å£åŸºç¡€æ¦‚å¿µ)
2. [ipå‘½ä»¤ç½‘ç»œæ¥å£ç®¡ç†](#2-ipå‘½ä»¤ç½‘ç»œæ¥å£ç®¡ç†)
3. [ifconfigæ¥å£é…ç½®æŸ¥çœ‹](#3-ifconfigæ¥å£é…ç½®æŸ¥çœ‹)
4. [ethtoolç½‘å¡å‚æ•°æŸ¥è¯¢](#4-ethtoolç½‘å¡å‚æ•°æŸ¥è¯¢)
5. [ç½‘å¡é€Ÿç‡ä¸åŒå·¥æ¨¡å¼è¯¦è§£](#5-ç½‘å¡é€Ÿç‡ä¸åŒå·¥æ¨¡å¼è¯¦è§£)
6. [ç½‘ç»œæ¥å£ç»Ÿè®¡ä¿¡æ¯åˆ†æ](#6-ç½‘ç»œæ¥å£ç»Ÿè®¡ä¿¡æ¯åˆ†æ)
7. [é“¾è·¯çŠ¶æ€æ£€æµ‹æ–¹æ³•](#7-é“¾è·¯çŠ¶æ€æ£€æµ‹æ–¹æ³•)
8. [ç½‘å¡é©±åŠ¨ä¿¡æ¯æŸ¥çœ‹](#8-ç½‘å¡é©±åŠ¨ä¿¡æ¯æŸ¥çœ‹)
9. [æ¥å£é”™è¯¯ç»Ÿè®¡åˆ†æ](#9-æ¥å£é”™è¯¯ç»Ÿè®¡åˆ†æ)
10. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#10-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸŒ ç½‘ç»œæ¥å£åŸºç¡€æ¦‚å¿µ


### 1.1 ä»€ä¹ˆæ˜¯ç½‘ç»œæ¥å£


**ç½‘ç»œæ¥å£**å°±æ˜¯è®¡ç®—æœºä¸å¤–éƒ¨ç½‘ç»œè¿æ¥çš„"é—¨æˆ·"ï¼Œå°±åƒæˆ¿å­çš„é—¨çª—ä¸€æ ·ã€‚æ¯ä¸ªæ¥å£éƒ½æœ‰è‡ªå·±çš„"èº«ä»½è¯"ï¼ˆMACåœ°å€ï¼‰å’Œ"å®¶åº­ä½å€"ï¼ˆIPåœ°å€ï¼‰ã€‚

```
ç‰©ç†æ¥å£ç¤ºæ„ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   åº”ç”¨ç¨‹åº    â”‚â”€â”€â”€â†’â”‚  ç½‘ç»œæ¥å£   â”‚â”€â”€â”€â†’â”‚   ç‰©ç†ç½‘ç»œ    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†•
                    eth0, wlan0 ç­‰
```

> ğŸ’¡ **é€šä¿—ç†è§£**ï¼šç½‘ç»œæ¥å£å°±æ˜¯ç”µè„‘çš„"ç½‘ç»œå‡ºå…¥å£"ï¼Œæ•°æ®ä»è¿™é‡Œè¿›å‡ºã€‚

### 1.2 å¸¸è§æ¥å£ç±»å‹


| æ¥å£ç±»å‹ | **å‘½åè§„åˆ™** | **è¯´æ˜** | **å…¸å‹ç”¨é€”** |
|---------|------------|---------|-------------|
| ğŸŒ **ä»¥å¤ªç½‘** | `eth0`, `ens33` | æœ‰çº¿ç½‘ç»œè¿æ¥ | å±€åŸŸç½‘ã€æœåŠ¡å™¨ |
| ğŸ“¶ **æ— çº¿ç½‘** | `wlan0`, `wlp2s0` | WiFiæ— çº¿è¿æ¥ | ç¬”è®°æœ¬ã€ç§»åŠ¨è®¾å¤‡ |
| ğŸ”„ **å›ç¯** | `lo` | æœ¬åœ°å›ç¯æ¥å£ | æœ¬æœºé€šä¿¡æµ‹è¯• |
| ğŸ”— **è™šæ‹Ÿ** | `docker0`, `br0` | è½¯ä»¶åˆ›å»ºçš„æ¥å£ | è™šæ‹ŸåŒ–ã€å®¹å™¨ |

**æ¥å£å‘½åæ–°è§„åˆ™**ï¼š
- **ä¼ ç»Ÿå‘½å**ï¼šeth0, eth1, wlan0ï¼ˆç®€å•ä½†ä¸ç¨³å®šï¼‰
- **æ–°å¼å‘½å**ï¼šens33, enp0s3ï¼ˆåŸºäºç¡¬ä»¶ä½ç½®ï¼Œæ›´ç¨³å®šï¼‰

---

## 2. ğŸ› ï¸ ipå‘½ä»¤ç½‘ç»œæ¥å£ç®¡ç†


### 2.1 ipå‘½ä»¤åŸºç¡€æ¦‚å¿µ


**ipå‘½ä»¤**æ˜¯Linuxç°ä»£ç½‘ç»œç®¡ç†çš„"ç‘å£«å†›åˆ€"ï¼ŒåŠŸèƒ½å¼ºå¤§ä¸”æ˜¯å®˜æ–¹æ¨èå·¥å…·ã€‚å®ƒå¯ä»¥æŸ¥çœ‹ã€é…ç½®ç½‘ç»œæ¥å£çš„å„ç§ä¿¡æ¯ã€‚

> âš ï¸ **é‡è¦æé†’**ï¼šipå‘½ä»¤æ˜¯æ–°æ ‡å‡†ï¼Œé€æ¸æ›¿ä»£ifconfigå‘½ä»¤ã€‚

### 2.2 æŸ¥çœ‹ç½‘ç»œæ¥å£ä¿¡æ¯


**åŸºæœ¬æŸ¥çœ‹å‘½ä»¤**ï¼š
```bash
# æ˜¾ç¤ºæ‰€æœ‰ç½‘ç»œæ¥å£
ip link show

# æ˜¾ç¤ºæŒ‡å®šæ¥å£ä¿¡æ¯
ip link show eth0

# ç®€åŒ–æ˜¾ç¤ºï¼ˆåªçœ‹æ¥å£åï¼‰
ip link show | grep '^[0-9]'
```

**è¾“å‡ºä¿¡æ¯è§£è¯»**ï¼š
```bash
2: eth0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast state UP mode DEFAULT group default qlen 1000
    link/ether 00:0c:29:xx:xx:xx brd ff:ff:ff:ff:ff:ff
```

**å„éƒ¨åˆ†å«ä¹‰**ï¼š
- `2:` - æ¥å£ç´¢å¼•å·
- `eth0` - æ¥å£åç§°
- `<BROADCAST,MULTICAST,UP,LOWER_UP>` - æ¥å£æ ‡å¿—çŠ¶æ€
- `mtu 1500` - æœ€å¤§ä¼ è¾“å•å…ƒ
- `state UP` - æ¥å£å½“å‰çŠ¶æ€

### 2.3 æ¥å£çŠ¶æ€æ ‡å¿—è¯¦è§£


| æ ‡å¿— | **å«ä¹‰** | **è¯´æ˜** |
|------|---------|---------|
| âœ… **UP** | æ¥å£å·²å¯ç”¨ | ç®¡ç†å‘˜æ‰‹åŠ¨å¯ç”¨ |
| ğŸ”— **LOWER_UP** | ç‰©ç†é“¾è·¯æ­£å¸¸ | ç½‘çº¿è¿æ¥æ­£å¸¸ |
| ğŸ“¡ **BROADCAST** | æ”¯æŒå¹¿æ’­ | å¯å‘é€å¹¿æ’­æ•°æ®åŒ… |
| ğŸ”„ **MULTICAST** | æ”¯æŒç»„æ’­ | å¯å‘é€ç»„æ’­æ•°æ®åŒ… |
| ğŸƒ **RUNNING** | æ¥å£è¿è¡Œä¸­ | æ­£åœ¨ä¼ è¾“æ•°æ® |

**å¸¸è§çŠ¶æ€ç»„åˆ**ï¼š
- `UP,LOWER_UP` â†’ âœ… æ¥å£æ­£å¸¸å·¥ä½œ
- `UP,NO-CARRIER` â†’ âŒ æ¥å£å¯ç”¨ä½†ç½‘çº¿æœªè¿æ¥
- `DOWN` â†’ âŒ æ¥å£è¢«ç¦ç”¨

### 2.4 æ¥å£å¯åœæ§åˆ¶


```bash
# å¯ç”¨ç½‘ç»œæ¥å£
sudo ip link set eth0 up

# ç¦ç”¨ç½‘ç»œæ¥å£  
sudo ip link set eth0 down

# ä¿®æ”¹æ¥å£MTUå¤§å°
sudo ip link set eth0 mtu 9000
```

> ğŸ’¡ **å®ç”¨æŠ€å·§**ï¼šä¿®æ”¹MTUå¯ä»¥ä¼˜åŒ–ç‰¹å®šç½‘ç»œç¯å¢ƒçš„ä¼ è¾“æ•ˆç‡ã€‚

---

## 3. ğŸ” ifconfigæ¥å£é…ç½®æŸ¥çœ‹


### 3.1 ifconfigå‘½ä»¤æ¦‚è¿°


**ifconfig**æ˜¯ä¼ ç»Ÿä½†ä»ç„¶å®ç”¨çš„ç½‘ç»œæ¥å£æŸ¥çœ‹å·¥å…·ï¼Œå°±åƒè€å¼çš„"ä¸‡ç”¨è¡¨"ï¼Œè™½ç„¶è€ä½†å¾ˆç›´è§‚ã€‚

> ğŸ“ **å®‰è£…æé†’**ï¼šæ–°ç³»ç»Ÿå¯èƒ½éœ€è¦å®‰è£…ï¼š`sudo apt install net-tools`

### 3.2 åŸºæœ¬æŸ¥çœ‹æ“ä½œ


```bash
# æ˜¾ç¤ºæ‰€æœ‰æ´»è·ƒæ¥å£
ifconfig

# æ˜¾ç¤ºæ‰€æœ‰æ¥å£ï¼ˆåŒ…æ‹¬æœªå¯ç”¨ï¼‰
ifconfig -a

# æ˜¾ç¤ºæŒ‡å®šæ¥å£
ifconfig eth0
```

### 3.3 è¾“å‡ºä¿¡æ¯è¯¦è§£


```bash
eth0: flags=4163<UP,BROADCAST,RUNNING,MULTICAST>  mtu 1500
        inet 192.168.1.100  netmask 255.255.255.0  broadcast 192.168.1.255
        inet6 fe80::20c:29ff:fe74:8c18  prefixlen 64  scopeid 0x20<link>
        ether 00:0c:29:74:8c:18  txqueuelen 1000  (Ethernet)
        RX packets 12345  bytes 1234567 (1.2 MB)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 8901  bytes 890123 (890.1 KB)  
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
```

**å…³é”®ä¿¡æ¯è§£è¯»**ï¼š

ğŸ”¸ **åŸºæœ¬é…ç½®**ï¼š
- `inet 192.168.1.100` - IPv4åœ°å€
- `netmask 255.255.255.0` - å­ç½‘æ©ç 
- `ether 00:0c:29:74:8c:18` - MACåœ°å€

ğŸ”¸ **æµé‡ç»Ÿè®¡**ï¼š
- `RX packets/bytes` - æ¥æ”¶çš„æ•°æ®åŒ…å’Œå­—èŠ‚æ•°
- `TX packets/bytes` - å‘é€çš„æ•°æ®åŒ…å’Œå­—èŠ‚æ•°
- `errors/dropped` - é”™è¯¯å’Œä¸¢å¼ƒç»Ÿè®¡

### 3.4 æ¥å£é…ç½®æ“ä½œ


```bash
# é…ç½®IPåœ°å€
sudo ifconfig eth0 192.168.1.100 netmask 255.255.255.0

# å¯ç”¨æ¥å£
sudo ifconfig eth0 up

# ç¦ç”¨æ¥å£
sudo ifconfig eth0 down
```

---

## 4. âš™ï¸ ethtoolç½‘å¡å‚æ•°æŸ¥è¯¢


### 4.1 ethtoolå·¥å…·ä»‹ç»


**ethtool**æ˜¯ä¸“é—¨æŸ¥çœ‹å’Œé…ç½®ç½‘å¡ç¡¬ä»¶å‚æ•°çš„å·¥å…·ï¼Œå°±åƒæ±½è½¦çš„"ä»ªè¡¨ç›˜"ï¼Œå¯ä»¥çœ‹åˆ°ç½‘å¡çš„è¯¦ç»†è¿è¡ŒçŠ¶æ€ã€‚

> ğŸ’¡ **æ ¸å¿ƒä½œç”¨**ï¼šæŸ¥çœ‹ç½‘å¡ç¡¬ä»¶ç‰¹æ€§ã€é“¾è·¯çŠ¶æ€ã€é©±åŠ¨ä¿¡æ¯ç­‰åº•å±‚å‚æ•°ã€‚

### 4.2 åŸºæœ¬ä¿¡æ¯æŸ¥çœ‹


```bash
# æŸ¥çœ‹ç½‘å¡åŸºæœ¬ä¿¡æ¯
ethtool eth0

# æŸ¥çœ‹ç½‘å¡é©±åŠ¨ä¿¡æ¯
ethtool -i eth0

# æŸ¥çœ‹é“¾è·¯çŠ¶æ€
ethtool eth0 | grep "Link detected"
```

### 4.3 å…¸å‹è¾“å‡ºä¿¡æ¯


```bash
Settings for eth0:
        Supported ports: [ TP ]
        Supported link modes:   10baseT/Half 10baseT/Full
                                100baseT/Half 100baseT/Full
                                1000baseT/Full
        Supported pause frame use: No
        Supports auto-negotiation: Yes
        Supported FEC modes: Not reported
        Advertised link modes:  10baseT/Half 10baseT/Full
                                100baseT/Half 100baseT/Full
                                1000baseT/Full
        Advertised pause frame use: No
        Advertised auto-negotiation: Yes
        Speed: 1000Mb/s
        Duplex: Full
        Port: Twisted Pair
        Auto-negotiation: on
        Link detected: yes
```

**é‡è¦å‚æ•°è¯´æ˜**ï¼š

| å‚æ•° | **å«ä¹‰** | **è¯´æ˜** |
|------|---------|---------|
| ğŸš€ **Speed** | é“¾è·¯é€Ÿåº¦ | 10/100/1000Mbps |
| ğŸ”„ **Duplex** | åŒå·¥æ¨¡å¼ | Half(åŠåŒå·¥)/Full(å…¨åŒå·¥) |
| ğŸ”— **Link detected** | é“¾è·¯æ£€æµ‹ | yes(å·²è¿æ¥)/no(æœªè¿æ¥) |
| ğŸ¤ **Auto-negotiation** | è‡ªåŠ¨åå•† | è‡ªåŠ¨é€‰æ‹©æœ€ä½³å‚æ•° |

### 4.4 é«˜çº§åŠŸèƒ½ä½¿ç”¨


```bash
# æŸ¥çœ‹ç½‘å¡ç»Ÿè®¡ä¿¡æ¯
ethtool -S eth0

# æŸ¥çœ‹ç½‘å¡ç¯å½¢ç¼“å†²åŒºå¤§å°
ethtool -g eth0

# æŸ¥çœ‹ç½‘å¡æ¥æ”¶/å‘é€é˜Ÿåˆ—
ethtool -l eth0
```

---

## 5. ğŸš„ ç½‘å¡é€Ÿç‡ä¸åŒå·¥æ¨¡å¼è¯¦è§£


### 5.1 ç½‘å¡é€Ÿç‡åŸºç¡€æ¦‚å¿µ


**ç½‘å¡é€Ÿç‡**å°±æ˜¯ç½‘å¡çš„"è½¦é€Ÿä¸Šé™"ï¼Œå†³å®šäº†æ•°æ®ä¼ è¾“çš„æœ€å¤§é€Ÿåº¦ã€‚

```
å¸¸è§ç½‘å¡é€Ÿç‡å¯¹æ¯”ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   10Mbps    â”‚   100Mbps   â”‚  1000Mbps   â”‚
â”‚   (æ…¢é€Ÿ)    â”‚   (å¿«é€Ÿ)    â”‚  (åƒå…†)     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æ—©æœŸä»¥å¤ªç½‘  â”‚  å¿«é€Ÿä»¥å¤ªç½‘  â”‚  åƒå…†ä»¥å¤ªç½‘  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

> ğŸ“Š **å®é™…å¯¹æ¯”**ï¼š1000Mbps â‰ˆ 125MB/sï¼ˆç†è®ºä¼ è¾“é€Ÿåº¦ï¼‰

### 5.2 åŒå·¥æ¨¡å¼è¯¦è§£


**åŒå·¥æ¨¡å¼**å†³å®šäº†æ•°æ®ä¼ è¾“çš„"äº¤é€šè§„åˆ™"ï¼š

ğŸ”¸ **åŠåŒå·¥ï¼ˆHalf-Duplexï¼‰**ï¼š
- ç±»ä¼¼å•è½¦é“ï¼ŒåŒæ—¶åªèƒ½å•å‘ä¼ è¾“
- å‘é€å’Œæ¥æ”¶ä¸èƒ½åŒæ—¶è¿›è¡Œ
- æ—©æœŸç½‘ç»œæˆ–é›†çº¿å™¨ç¯å¢ƒ

ğŸ”¸ **å…¨åŒå·¥ï¼ˆFull-Duplexï¼‰**ï¼š
- ç±»ä¼¼åŒè½¦é“ï¼Œå¯åŒæ—¶åŒå‘ä¼ è¾“
- å‘é€å’Œæ¥æ”¶å¯ä»¥å¹¶è¡Œè¿›è¡Œ
- ç°ä»£ç½‘ç»œçš„æ ‡å‡†æ¨¡å¼

```
åŠåŒå·¥ vs å…¨åŒå·¥ï¼š
åŠåŒå·¥: A â†â†’ B (è½®æµé€šä¿¡)
å…¨åŒå·¥: A â‡„ B (åŒæ—¶é€šä¿¡)
```

### 5.3 è‡ªåŠ¨åå•†æœºåˆ¶


**è‡ªåŠ¨åå•†**å°±æ˜¯ç½‘å¡ä¹‹é—´çš„"æ¡æ‰‹è°ˆåˆ¤"ï¼Œè‡ªåŠ¨é€‰æ‹©åŒæ–¹éƒ½æ”¯æŒçš„æœ€ä½³å‚æ•°ã€‚

**åå•†ä¼˜å…ˆçº§**ï¼ˆä»é«˜åˆ°ä½ï¼‰ï¼š
1. â­â­â­ 1000Mbpså…¨åŒå·¥
2. â­â­ 1000MbpsåŠåŒå·¥
3. â­â­ 100Mbpså…¨åŒå·¥
4. â­ 100MbpsåŠåŒå·¥
5. â­ 10Mbpså…¨åŒå·¥
6. 10MbpsåŠåŒå·¥

### 5.4 æ‰‹åŠ¨é…ç½®ç½‘å¡å‚æ•°


```bash
# æŸ¥çœ‹å½“å‰è®¾ç½®
ethtool eth0

# æ‰‹åŠ¨è®¾ç½®ä¸º1000Mbpså…¨åŒå·¥
sudo ethtool -s eth0 speed 1000 duplex full autoneg off

# å¯ç”¨è‡ªåŠ¨åå•†
sudo ethtool -s eth0 autoneg on

# æ¢å¤é»˜è®¤è®¾ç½®
sudo ethtool -s eth0 autoneg on
```

> âš ï¸ **æ³¨æ„**ï¼šæ‰‹åŠ¨é…ç½®å¯èƒ½å¯¼è‡´è¿æ¥é—®é¢˜ï¼Œå»ºè®®ä¿æŒè‡ªåŠ¨åå•†å¼€å¯ã€‚

---

## 6. ğŸ“Š ç½‘ç»œæ¥å£ç»Ÿè®¡ä¿¡æ¯åˆ†æ


### 6.1 ç»Ÿè®¡ä¿¡æ¯çš„é‡è¦æ€§


**ç½‘ç»œç»Ÿè®¡ä¿¡æ¯**å°±åƒæ±½è½¦çš„"è¡Œè½¦è®°å½•ä»ª"ï¼Œè®°å½•äº†ç½‘å¡è¿è¡Œè¿‡ç¨‹ä¸­çš„æ‰€æœ‰"äº‹ä»¶"ï¼Œå¸®åŠ©æˆ‘ä»¬äº†è§£ç½‘ç»œå¥åº·çŠ¶å†µã€‚

### 6.2 åŸºç¡€ç»Ÿè®¡ä¿¡æ¯æŸ¥çœ‹


```bash
# ä½¿ç”¨ifconfigæŸ¥çœ‹ç»Ÿè®¡
ifconfig eth0

# ä½¿ç”¨ipå‘½ä»¤æŸ¥çœ‹ç»Ÿè®¡
ip -s link show eth0

# æŸ¥çœ‹è¯¦ç»†ç»Ÿè®¡ä¿¡æ¯
cat /proc/net/dev
```

### 6.3 ç»Ÿè®¡ä¿¡æ¯è¯¦è§£


**æ¥æ”¶ï¼ˆRXï¼‰ç»Ÿè®¡**ï¼š
- `packets` - æ¥æ”¶çš„æ•°æ®åŒ…æ€»æ•°
- `bytes` - æ¥æ”¶çš„å­—èŠ‚æ€»æ•°
- `errors` - æ¥æ”¶é”™è¯¯æ•°
- `dropped` - ä¸¢å¼ƒçš„æ•°æ®åŒ…æ•°
- `overruns` - ç¼“å†²åŒºæº¢å‡ºæ•°
- `frame` - å¸§é”™è¯¯æ•°

**å‘é€ï¼ˆTXï¼‰ç»Ÿè®¡**ï¼š
- `packets` - å‘é€çš„æ•°æ®åŒ…æ€»æ•°
- `bytes` - å‘é€çš„å­—èŠ‚æ€»æ•°
- `errors` - å‘é€é”™è¯¯æ•°
- `dropped` - ä¸¢å¼ƒçš„æ•°æ®åŒ…æ•°
- `carrier` - è½½æ³¢é”™è¯¯æ•°
- `collisions` - å†²çªæ•°ï¼ˆåŠåŒå·¥ç¯å¢ƒï¼‰

### 6.4 ç»Ÿè®¡ä¿¡æ¯å®æ—¶ç›‘æ§


```bash
# å®æ—¶ç›‘æ§ç½‘å¡æµé‡
watch -n 1 'cat /proc/net/dev'

# ä½¿ç”¨sarç›‘æ§ç½‘ç»œç»Ÿè®¡
sar -n DEV 1

# ç›‘æ§ç‰¹å®šæ¥å£
watch -n 1 'ip -s link show eth0'
```

### 6.5 ç»Ÿè®¡æ•°æ®åˆ†ææŠ€å·§


**å¥åº·æŒ‡æ ‡åˆ¤æ–­**ï¼š
- âœ… **æ­£å¸¸**ï¼šerrors = 0, droppedæ¥è¿‘0
- âš ï¸ **æ³¨æ„**ï¼šdropped > 0.1%æ€»åŒ…æ•°
- ğŸš¨ **è­¦å‘Š**ï¼šerrors > 0æˆ–dropped > 1%

**æ€§èƒ½åˆ†æè¦ç‚¹**ï¼š
- é«˜droppedå€¼ï¼šå¯èƒ½CPUå¤„ç†ä¸åŠæ—¶
- é«˜errorså€¼ï¼šå¯èƒ½ç½‘çº¿æˆ–ç½‘å¡æ•…éšœ
- é«˜collisionsï¼šåŠåŒå·¥æ¨¡å¼ä¸‹çš„æ­£å¸¸ç°è±¡

---

## 7. ğŸ”— é“¾è·¯çŠ¶æ€æ£€æµ‹æ–¹æ³•


### 7.1 é“¾è·¯çŠ¶æ€æ¦‚å¿µ


**é“¾è·¯çŠ¶æ€**å°±æ˜¯ç½‘ç»œ"ç”µç¼†è¿æ¥çŠ¶æ€"ï¼Œå‘Šè¯‰æˆ‘ä»¬ç‰©ç†è¿æ¥æ˜¯å¦æ­£å¸¸ï¼Œå°±åƒæ£€æŸ¥ç”µå™¨çš„ç”µæºçº¿æ˜¯å¦æ’å¥½ã€‚

### 7.2 åŸºæœ¬é“¾è·¯æ£€æµ‹


```bash
# ä½¿ç”¨ethtoolæ£€æµ‹é“¾è·¯
ethtool eth0 | grep "Link detected"

# ä½¿ç”¨ipå‘½ä»¤æŸ¥çœ‹é“¾è·¯çŠ¶æ€
ip link show eth0

# æ£€æŸ¥æ‰€æœ‰æ¥å£é“¾è·¯çŠ¶æ€
for i in $(ls /sys/class/net/); do
    echo -n "$i: "
    cat /sys/class/net/$i/operstate 2>/dev/null || echo "unknown"
done
```

### 7.3 é“¾è·¯çŠ¶æ€ç±»å‹


| çŠ¶æ€ | **å«ä¹‰** | **è¯´æ˜** |
|------|---------|---------|
| âœ… **up** | é“¾è·¯æ­£å¸¸ | ç‰©ç†è¿æ¥æ­£å¸¸ï¼Œå¯ä»¥é€šä¿¡ |
| âŒ **down** | é“¾è·¯æ–­å¼€ | æ¥å£è¢«æ‰‹åŠ¨ç¦ç”¨ |
| âš ï¸ **no-carrier** | æ— è½½æ³¢ | æ¥å£å¯ç”¨ä½†æ— ç‰©ç†è¿æ¥ |
| ğŸ”„ **dormant** | ä¼‘çœ çŠ¶æ€ | æ¥å£ç­‰å¾…å¤–éƒ¨äº‹ä»¶ |
| â“ **unknown** | çŠ¶æ€æœªçŸ¥ | é©±åŠ¨ä¸æ”¯æŒçŠ¶æ€æŠ¥å‘Š |

### 7.4 è‡ªåŠ¨åŒ–é“¾è·¯ç›‘æ§


```bash
# åˆ›å»ºé“¾è·¯ç›‘æ§è„šæœ¬
#!/bin/bash
INTERFACE="eth0"

while true; do
    STATUS=$(cat /sys/class/net/$INTERFACE/operstate)
    TIMESTAMP=$(date '+%Y-%m-%d %H:%M:%S')
    
    if [ "$STATUS" != "up" ]; then
        echo "[$TIMESTAMP] è­¦å‘Š: $INTERFACE é“¾è·¯çŠ¶æ€å¼‚å¸¸: $STATUS"
        # å¯ä»¥æ·»åŠ é‚®ä»¶æˆ–çŸ­ä¿¡é€šçŸ¥
    fi
    
    sleep 10
done
```

### 7.5 é“¾è·¯çŠ¶æ€æ•…éšœæ’æŸ¥


**æ•…éšœæ’æŸ¥æµç¨‹**ï¼š
1. â‘  æ£€æŸ¥ç‰©ç†è¿æ¥ï¼ˆç½‘çº¿ã€ç«¯å£ï¼‰
2. â‘¡ æ£€æŸ¥æ¥å£æ˜¯å¦å¯ç”¨
3. â‘¢ æ£€æŸ¥ç½‘å¡é©±åŠ¨æ˜¯å¦æ­£å¸¸
4. â‘£ æ£€æŸ¥äº¤æ¢æœºç«¯å£çŠ¶æ€

```bash
# ç»¼åˆé“¾è·¯è¯Šæ–­å‘½ä»¤
echo "=== é“¾è·¯è¯Šæ–­æŠ¥å‘Š ==="
echo "æ¥å£çŠ¶æ€: $(ip link show eth0 | grep -o 'state [A-Z]*')"
echo "è½½æ³¢æ£€æµ‹: $(ethtool eth0 | grep 'Link detected')"
echo "ç‰©ç†è¿æ¥: $(cat /sys/class/net/eth0/operstate)"
echo "é©±åŠ¨ä¿¡æ¯: $(ethtool -i eth0 | grep driver)"
```

---

## 8. ğŸ’¾ ç½‘å¡é©±åŠ¨ä¿¡æ¯æŸ¥çœ‹


### 8.1 ç½‘å¡é©±åŠ¨åŸºç¡€æ¦‚å¿µ


**ç½‘å¡é©±åŠ¨**å°±æ˜¯ç¡¬ä»¶å’Œç³»ç»Ÿä¹‹é—´çš„"ç¿»è¯‘å®˜"ï¼Œè®©æ“ä½œç³»ç»Ÿèƒ½å¤Ÿæ­£ç¡®æ§åˆ¶ç½‘å¡ç¡¬ä»¶ã€‚

> ğŸ’¡ **é€šä¿—ç†è§£**ï¼šå°±åƒæ‰‹æœºéœ€è¦å®‰è£…APPæ‰èƒ½ä½¿ç”¨æŸäº›åŠŸèƒ½ï¼Œç½‘å¡éœ€è¦é©±åŠ¨æ‰èƒ½æ­£å¸¸å·¥ä½œã€‚

### 8.2 æŸ¥çœ‹é©±åŠ¨åŸºæœ¬ä¿¡æ¯


```bash
# ä½¿ç”¨ethtoolæŸ¥çœ‹é©±åŠ¨ä¿¡æ¯
ethtool -i eth0

# æŸ¥çœ‹ç³»ç»Ÿä¸­æ‰€æœ‰ç½‘å¡é©±åŠ¨
lspci -k | grep -A 3 "Ethernet"

# æŸ¥çœ‹å·²åŠ è½½çš„ç½‘ç»œé©±åŠ¨æ¨¡å—
lsmod | grep -E "(eth|net|wifi)"
```

### 8.3 é©±åŠ¨ä¿¡æ¯è¯¦è§£


**ethtoolè¾“å‡ºç¤ºä¾‹**ï¼š
```bash
driver: e1000e
version: 3.2.6-k
firmware-version: 0.13-4
expansion-rom-version: 
bus-info: 0000:02:00.0
supports-statistics: yes
supports-test: yes
supports-eeprom-access: yes
supports-register-dump: yes
supports-priv-flags: no
```

**å„å­—æ®µå«ä¹‰**ï¼š
- `driver` - é©±åŠ¨ç¨‹åºåç§°
- `version` - é©±åŠ¨ç‰ˆæœ¬å·
- `firmware-version` - å›ºä»¶ç‰ˆæœ¬
- `bus-info` - PCIæ€»çº¿ä½ç½®ä¿¡æ¯
- `supports-*` - é©±åŠ¨æ”¯æŒçš„åŠŸèƒ½

### 8.4 å¸¸è§ç½‘å¡é©±åŠ¨ç±»å‹


| é©±åŠ¨åç§° | **é€‚ç”¨ç½‘å¡** | **ç‰¹ç‚¹** |
|---------|------------|---------|
| ğŸ”Œ **e1000e** | Intelåƒå…†ç½‘å¡ | ä¼ä¸šçº§ï¼Œç¨³å®šæ€§å¥½ |
| âš¡ **igb** | Intelå¤šé˜Ÿåˆ—ç½‘å¡ | é«˜æ€§èƒ½ï¼Œæ”¯æŒè™šæ‹ŸåŒ– |
| ğŸŒ **r8169** | Realtekç½‘å¡ | æ¶ˆè´¹çº§ï¼Œæˆæœ¬ä½ |
| ğŸ“¶ **iwlwifi** | Intelæ— çº¿ç½‘å¡ | æ— çº¿ç½‘å¡ä¸»æµé©±åŠ¨ |
| ğŸ”„ **bridge** | è™šæ‹Ÿç½‘æ¡¥ | è™šæ‹ŸåŒ–ç¯å¢ƒä½¿ç”¨ |

### 8.5 é©±åŠ¨ç®¡ç†æ“ä½œ


```bash
# é‡æ–°åŠ è½½ç½‘å¡é©±åŠ¨
sudo modprobe -r e1000e  # å¸è½½é©±åŠ¨
sudo modprobe e1000e     # é‡æ–°åŠ è½½

# æŸ¥çœ‹é©±åŠ¨æ¨¡å—ä¿¡æ¯
modinfo e1000e

# æ£€æŸ¥é©±åŠ¨æ¨¡å—å‚æ•°
cat /sys/module/e1000e/parameters/*
```

> âš ï¸ **æ³¨æ„**ï¼šé‡æ–°åŠ è½½é©±åŠ¨ä¼šä¸­æ–­ç½‘ç»œè¿æ¥ï¼Œå»ºè®®åœ¨ç»´æŠ¤çª—å£æ“ä½œã€‚

---

## 9. ğŸ” æ¥å£é”™è¯¯ç»Ÿè®¡åˆ†æ


### 9.1 é”™è¯¯ç»Ÿè®¡çš„é‡è¦æ€§


**é”™è¯¯ç»Ÿè®¡**å°±åƒåŒ»é™¢çš„"ä½“æ£€æŠ¥å‘Š"ï¼Œé€šè¿‡å„ç§æŒ‡æ ‡åæ˜ ç½‘ç»œæ¥å£çš„å¥åº·çŠ¶å†µï¼Œå¸®åŠ©æˆ‘ä»¬åŠæ—©å‘ç°å’Œè§£å†³é—®é¢˜ã€‚

### 9.2 ä¸»è¦é”™è¯¯ç±»å‹


**æ¥æ”¶é”™è¯¯ï¼ˆRX Errorsï¼‰**ï¼š
- ğŸ”¸ **Frame errors** - å¸§é”™è¯¯ï¼ˆæ•°æ®å¸§æ ¼å¼ä¸æ­£ç¡®ï¼‰
- ğŸ”¸ **CRC errors** - æ ¡éªŒé”™è¯¯ï¼ˆæ•°æ®ä¼ è¾“è¿‡ç¨‹ä¸­æŸåï¼‰
- ğŸ”¸ **Length errors** - é•¿åº¦é”™è¯¯ï¼ˆæ•°æ®åŒ…é•¿åº¦å¼‚å¸¸ï¼‰
- ğŸ”¸ **Overrun errors** - æº¢å‡ºé”™è¯¯ï¼ˆæ¥æ”¶ç¼“å†²åŒºæ»¡ï¼‰

**å‘é€é”™è¯¯ï¼ˆTX Errorsï¼‰**ï¼š
- ğŸ”¸ **Carrier errors** - è½½æ³¢é”™è¯¯ï¼ˆç‰©ç†é“¾è·¯é—®é¢˜ï¼‰
- ğŸ”¸ **Collision errors** - å†²çªé”™è¯¯ï¼ˆåŠåŒå·¥æ¨¡å¼ä¸‹çš„å†²çªï¼‰
- ğŸ”¸ **Aborted errors** - ä¸­æ­¢é”™è¯¯ï¼ˆä¼ è¾“è¢«å¼ºåˆ¶ä¸­æ­¢ï¼‰
- ğŸ”¸ **Underrun errors** - ä¸‹æº¢é”™è¯¯ï¼ˆå‘é€ç¼“å†²åŒºç©ºï¼‰

### 9.3 é”™è¯¯ç»Ÿè®¡æŸ¥çœ‹æ–¹æ³•


```bash
# ä½¿ç”¨ifconfigæŸ¥çœ‹é”™è¯¯ç»Ÿè®¡
ifconfig eth0 | grep -E "(RX|TX).*errors"

# ä½¿ç”¨ipå‘½ä»¤æŸ¥çœ‹è¯¦ç»†ç»Ÿè®¡
ip -s -s link show eth0

# æŸ¥çœ‹ç³»ç»Ÿç½‘ç»œé”™è¯¯æ—¥å¿—
dmesg | grep -i "eth0\|network\|link"
```

### 9.4 é”™è¯¯ç»Ÿè®¡åˆ†æå®ä¾‹


```bash
# ç¤ºä¾‹è¾“å‡ºåˆ†æ
RX packets 1000000  bytes 500000000
RX errors 10  dropped 5  overruns 2  frame 3
TX packets 800000   bytes 400000000
TX errors 1   dropped 0  carrier 1  collisions 0
```

**å¥åº·åº¦è¯„ä¼°**ï¼š
- **ä¼˜ç§€**ï¼šé”™è¯¯ç‡ < 0.01% âœ…
- **è‰¯å¥½**ï¼šé”™è¯¯ç‡ < 0.1% ğŸŸ¡  
- **éœ€å…³æ³¨**ï¼šé”™è¯¯ç‡ < 1% âš ï¸
- **å¼‚å¸¸**ï¼šé”™è¯¯ç‡ â‰¥ 1% ğŸš¨

### 9.5 å¸¸è§é”™è¯¯åŸå› åˆ†æ


| é”™è¯¯ç±»å‹ | **å¯èƒ½åŸå› ** | **è§£å†³æ–¹æ¡ˆ** |
|---------|------------|-------------|
| ğŸ”¸ **Frame errors** | ç½‘çº¿è´¨é‡å·®ã€æ¥å£æ•…éšœ | æ›´æ¢ç½‘çº¿ã€æ£€æŸ¥ç«¯å£ |
| ğŸ”¸ **CRC errors** | ç”µç£å¹²æ‰°ã€ç¡¬ä»¶æ•…éšœ | æ£€æŸ¥ç¯å¢ƒã€æ›´æ¢ç¡¬ä»¶ |
| ğŸ”¸ **Overrun** | CPUè´Ÿè½½é«˜ã€ç¼“å†²åŒºå° | ä¼˜åŒ–ç³»ç»Ÿã€è°ƒæ•´å‚æ•° |
| ğŸ”¸ **Carrier** | ç‰©ç†è¿æ¥é—®é¢˜ | æ£€æŸ¥çº¿ç¼†ã€ç«¯å£é…ç½® |
| ğŸ”¸ **Collisions** | åŠåŒå·¥å†²çª | å¯ç”¨å…¨åŒå·¥æ¨¡å¼ |

### 9.6 é”™è¯¯ç›‘æ§è„šæœ¬


```bash
#!/bin/bash
# ç½‘ç»œé”™è¯¯ç›‘æ§è„šæœ¬

INTERFACE="eth0"
THRESHOLD=10  # é”™è¯¯é˜ˆå€¼

# è·å–å½“å‰é”™è¯¯ç»Ÿè®¡
RX_ERRORS=$(cat /sys/class/net/$INTERFACE/statistics/rx_errors)
TX_ERRORS=$(cat /sys/class/net/$INTERFACE/statistics/tx_errors)
TOTAL_ERRORS=$((RX_ERRORS + TX_ERRORS))

if [ $TOTAL_ERRORS -gt $THRESHOLD ]; then
    echo "è­¦å‘Š: $INTERFACE é”™è¯¯æ•°è¿‡é«˜: $TOTAL_ERRORS"
    echo "RXé”™è¯¯: $RX_ERRORS, TXé”™è¯¯: $TX_ERRORS"
    # å‘é€å‘Šè­¦é€šçŸ¥
fi
```

---

## 10. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 10.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ ç½‘ç»œæ¥å£ï¼šè®¡ç®—æœºç½‘ç»œè¿æ¥çš„"é—¨æˆ·"ï¼Œæ¯ä¸ªéƒ½æœ‰ç‹¬ç‰¹æ ‡è¯†
ğŸ”¸ ipå‘½ä»¤ï¼šç°ä»£Linuxç½‘ç»œç®¡ç†çš„ä¸»è¦å·¥å…·ï¼ŒåŠŸèƒ½å…¨é¢
ğŸ”¸ ifconfigï¼šä¼ ç»Ÿä½†ç›´è§‚çš„æ¥å£æŸ¥çœ‹å·¥å…·ï¼Œä»ç„¶å®ç”¨
ğŸ”¸ ethtoolï¼šä¸“ä¸šçš„ç½‘å¡ç¡¬ä»¶å‚æ•°æŸ¥è¯¢å’Œé…ç½®å·¥å…·
ğŸ”¸ é€Ÿç‡åŒå·¥ï¼šå†³å®šç½‘ç»œä¼ è¾“æ•ˆç‡çš„å…³é”®å‚æ•°
ğŸ”¸ ç»Ÿè®¡ç›‘æ§ï¼šé€šè¿‡æ•°æ®åˆ†æç½‘ç»œå¥åº·çŠ¶å†µ
ğŸ”¸ é“¾è·¯æ£€æµ‹ï¼šç¡®ä¿ç‰©ç†è¿æ¥æ­£å¸¸çš„åŸºç¡€æ‰‹æ®µ
ğŸ”¸ é©±åŠ¨ç®¡ç†ï¼šç¡¬ä»¶æ­£å¸¸å·¥ä½œçš„è½¯ä»¶ä¿éšœ
ğŸ”¸ é”™è¯¯åˆ†æï¼šåŠæ—¶å‘ç°å’Œè§£å†³ç½‘ç»œé—®é¢˜çš„é‡è¦æ‰‹æ®µ
```

### 10.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ å·¥å…·é€‰æ‹©ç­–ç•¥**ï¼š
- **æ—¥å¸¸æŸ¥çœ‹** â†’ ifconfigï¼ˆç›´è§‚ç®€å•ï¼‰
- **ä¸“ä¸šé…ç½®** â†’ ipå‘½ä»¤ï¼ˆåŠŸèƒ½å¼ºå¤§ï¼‰
- **ç¡¬ä»¶è¯Šæ–­** â†’ ethtoolï¼ˆæ·±å…¥åº•å±‚ï¼‰
- **é—®é¢˜æ’æŸ¥** â†’ ç»„åˆä½¿ç”¨å¤šä¸ªå·¥å…·

**ğŸ”¹ ç›‘æ§é‡ç‚¹æŒ‡æ ‡**ï¼š
- **é“¾è·¯çŠ¶æ€** â†’ ç¡®ä¿ç‰©ç†è¿æ¥æ­£å¸¸
- **é”™è¯¯ç»Ÿè®¡** â†’ åŠæ—¶å‘ç°å¼‚å¸¸æƒ…å†µ
- **æµé‡ç»Ÿè®¡** â†’ äº†è§£ä½¿ç”¨æƒ…å†µ
- **é€Ÿç‡é…ç½®** â†’ ä¼˜åŒ–ä¼ è¾“æ•ˆç‡

**ğŸ”¹ æ•…éšœæ’æŸ¥æ€è·¯**ï¼š
```
ç‰©ç†å±‚æ£€æŸ¥ â†’ æ•°æ®é“¾è·¯å±‚éªŒè¯ â†’ ç½‘ç»œå±‚é…ç½® â†’ åº”ç”¨å±‚æµ‹è¯•
     â†“              â†“              â†“           â†“
   ç½‘çº¿è¿æ¥      æ¥å£çŠ¶æ€        IPé…ç½®      å®é™…é€šä¿¡
```

### 10.3 å®é™…åº”ç”¨åœºæ™¯


**ğŸ¯ ç³»ç»Ÿç®¡ç†å‘˜åœºæ™¯**ï¼š
- **æœåŠ¡å™¨ç›‘æ§**ï¼šå®šæ—¶æ£€æŸ¥ç½‘ç»œæ¥å£çŠ¶æ€å’Œç»Ÿè®¡
- **æ•…éšœæ’é™¤**ï¼šå¿«é€Ÿå®šä½ç½‘ç»œè¿æ¥é—®é¢˜
- **æ€§èƒ½ä¼˜åŒ–**ï¼šè°ƒæ•´ç½‘å¡å‚æ•°æå‡ä¼ è¾“æ•ˆç‡
- **å®‰å…¨å®¡è®¡**ï¼šç›‘æ§å¼‚å¸¸æµé‡å’Œé”™è¯¯ç»Ÿè®¡

**ğŸ¯ ç½‘ç»œå·¥ç¨‹å¸ˆåœºæ™¯**ï¼š
- **ç½‘ç»œè§„åˆ’**ï¼šäº†è§£æ¥å£èƒ½åŠ›å’Œé™åˆ¶
- **æ•…éšœè¯Šæ–­**ï¼šåˆ†æé”™è¯¯ç»Ÿè®¡æ‰¾å‡ºé—®é¢˜æ ¹æº
- **æ€§èƒ½è°ƒä¼˜**ï¼šä¼˜åŒ–ç½‘å¡é…ç½®åŒ¹é…ç½‘ç»œç¯å¢ƒ
- **ç›‘æ§æŠ¥è­¦**ï¼šå»ºç«‹è‡ªåŠ¨åŒ–ç›‘æ§ä½“ç³»

### 10.4 æœ€ä½³å®è·µå»ºè®®


**ğŸ”§ æ—¥å¸¸è¿ç»´**ï¼š
1. â‘  **å®šæœŸæ£€æŸ¥**ï¼šæ¯æ—¥æŸ¥çœ‹å…³é”®æ¥å£çŠ¶æ€
2. â‘¡ **å»ºç«‹åŸºçº¿**ï¼šè®°å½•æ­£å¸¸çŠ¶æ€ä¸‹çš„ç»Ÿè®¡æ•°æ®
3. â‘¢ **è®¾ç½®å‘Šè­¦**ï¼šé”™è¯¯ç‡è¶…è¿‡é˜ˆå€¼åŠæ—¶é€šçŸ¥
4. â‘£ **æ–‡æ¡£è®°å½•**ï¼šè¯¦ç»†è®°å½•é…ç½®å˜æ›´å’Œæ•…éšœå¤„ç†

**ğŸ”§ é—®é¢˜é¢„é˜²**ï¼š
1. â‘  **ç¡¬ä»¶è´¨é‡**ï¼šä½¿ç”¨ç¬¦åˆæ ‡å‡†çš„ç½‘çº¿å’Œè®¾å¤‡
2. â‘¡ **é©±åŠ¨æ›´æ–°**ï¼šä¿æŒç½‘å¡é©±åŠ¨ä¸ºç¨³å®šç‰ˆæœ¬
3. â‘¢ **ç¯å¢ƒç›‘æ§**ï¼šæ³¨æ„ç”µç£å¹²æ‰°å’Œæ¸©åº¦å½±å“
4. â‘£ **é…ç½®å¤‡ä»½**ï¼šé‡è¦é…ç½®åŠæ—¶å¤‡ä»½

**æ ¸å¿ƒè®°å¿†å£è¯€**ï¼š
- æ¥å£ç›‘æ§ä¸‰å¤§å®ï¼šipã€ifconfigã€ethtoolå¥½
- çŠ¶æ€ç»Ÿè®¡è¦å…³æ³¨ï¼Œé”™è¯¯åˆ†æä¸èƒ½å°‘
- é“¾è·¯æ£€æµ‹æ˜¯åŸºç¡€ï¼Œé©±åŠ¨æ­£å¸¸å¾ˆé‡è¦
- å®šæœŸç›‘æ§å»ºåŸºçº¿ï¼Œæ•…éšœæ’æŸ¥æœ‰æŠ€å·§