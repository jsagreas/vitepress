---
title: 5ã€ä¼ ç»Ÿç½‘ç»œé…ç½®æ–‡ä»¶ç®¡ç†
---
## ðŸ“š ç›®å½•

1. [ç½‘ç»œé…ç½®æ–‡ä»¶æ¦‚è¿°](#1-ç½‘ç»œé…ç½®æ–‡ä»¶æ¦‚è¿°)
2. [Debianç³»é…ç½®æ–‡ä»¶ç®¡ç†](#2-Debianç³»é…ç½®æ–‡ä»¶ç®¡ç†)
3. [RHELç³»é…ç½®æ–‡ä»¶ç®¡ç†](#3-RHELç³»é…ç½®æ–‡ä»¶ç®¡ç†)
4. [ç½‘ç»œæœåŠ¡ç®¡ç†](#4-ç½‘ç»œæœåŠ¡ç®¡ç†)
5. [é…ç½®æ–‡ä»¶å¤‡ä»½ä¸Žæ¢å¤](#5-é…ç½®æ–‡ä»¶å¤‡ä»½ä¸Žæ¢å¤)
6. [å…¼å®¹æ€§ä¸Žæœ€ä½³å®žè·µ](#6-å…¼å®¹æ€§ä¸Žæœ€ä½³å®žè·µ)
7. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#7-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ðŸŒ ç½‘ç»œé…ç½®æ–‡ä»¶æ¦‚è¿°


### 1.1 ä»€ä¹ˆæ˜¯ä¼ ç»Ÿç½‘ç»œé…ç½®æ–‡ä»¶


**ç®€å•ç†è§£**ï¼šä¼ ç»Ÿç½‘ç»œé…ç½®æ–‡ä»¶å°±æ˜¯Linuxç³»ç»Ÿä¸­ç”¨æ¥ä¿å­˜ç½‘ç»œè®¾ç½®çš„æ–‡æœ¬æ–‡ä»¶ï¼Œå°±åƒç»™ç½‘å¡å†™çš„"èº«ä»½è¯"ä¸€æ ·ï¼Œå‘Šè¯‰ç³»ç»Ÿè¿™ä¸ªç½‘å¡çš„IPåœ°å€æ˜¯å¤šå°‘ã€ç½‘å…³æ˜¯ä»€ä¹ˆç­‰ä¿¡æ¯ã€‚

```
å°±åƒç»™æˆ¿å­å†™åœ°å€ä¸€æ ·ï¼š
ðŸ  æˆ¿å­ = ç½‘å¡è®¾å¤‡
ðŸ“® åœ°å€ = IPåœ°å€  
ðŸ›£ï¸ è·¯çº¿ = ç½‘å…³
ðŸ“‹ æˆ·å£æœ¬ = é…ç½®æ–‡ä»¶
```

### 1.2 ä¸ºä»€ä¹ˆéœ€è¦é…ç½®æ–‡ä»¶


**æ ¸å¿ƒä½œç”¨**ï¼š
- **æŒä¹…åŒ–å­˜å‚¨**ï¼šé‡å¯åŽç½‘ç»œè®¾ç½®ä¸ä¼šä¸¢å¤±
- **æ‰¹é‡ç®¡ç†**ï¼šå¯ä»¥åŒæ—¶ç®¡ç†å¤šä¸ªç½‘å¡
- **è‡ªåŠ¨åº”ç”¨**ï¼šç³»ç»Ÿå¯åŠ¨æ—¶è‡ªåŠ¨è¯»å–å¹¶åº”ç”¨é…ç½®
- **æ ‡å‡†åŒ–ç®¡ç†**ï¼šè§„èŒƒçš„æ ¼å¼ä¾¿äºŽç»´æŠ¤

### 1.3 ä¸»è¦é…ç½®æ–‡ä»¶ä½“ç³»


```
Linuxç½‘ç»œé…ç½®æ–‡ä»¶åˆ†å¸ƒï¼š

Debian/Ubuntuç³»ç»Ÿï¼š
â”œâ”€â”€ /etc/network/interfaces    â† ä¸»é…ç½®æ–‡ä»¶
â”œâ”€â”€ /etc/network/interfaces.d/ â† æ¨¡å—åŒ–é…ç½®ç›®å½•
â””â”€â”€ /etc/resolv.conf           â† DNSé…ç½®

RHEL/CentOSç³»ç»Ÿï¼š
â”œâ”€â”€ /etc/sysconfig/network-scripts/  â† é…ç½®ç›®å½•
â”‚   â”œâ”€â”€ ifcfg-eth0                   â† ç½‘å¡é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ ifcfg-eth1                   â† å…¶ä»–ç½‘å¡é…ç½®
â”‚   â””â”€â”€ network                      â† å…¨å±€ç½‘ç»œé…ç½®
â””â”€â”€ /etc/resolv.conf                 â† DNSé…ç½®

é€šç”¨é…ç½®ï¼š
â”œâ”€â”€ /etc/hostname          â† ä¸»æœºå
â”œâ”€â”€ /etc/hosts            â† ä¸»æœºåè§£æž
â””â”€â”€ /etc/nsswitch.conf    â† åç§°è§£æžé¡ºåº
```

---

## 2. ðŸ“ Debianç³»é…ç½®æ–‡ä»¶ç®¡ç†


### 2.1 /etc/network/interfaces æ ¸å¿ƒæ–‡ä»¶


**æ–‡ä»¶ä½œç”¨**ï¼šDebian/Ubuntuç³»ç»Ÿçš„ç½‘ç»œé…ç½®ä¸­å¿ƒï¼Œæ‰€æœ‰ç½‘å¡çš„é…ç½®éƒ½å†™åœ¨è¿™é‡Œã€‚

**ðŸ”§ åŸºæœ¬è¯­æ³•ç»“æž„**

```bash
# å›žçŽ¯æŽ¥å£é…ç½®ï¼ˆå¿…é¡»æœ‰ï¼‰
auto lo
iface lo inet loopback

# ç½‘å¡æŽ¥å£é…ç½®
auto eth0
iface eth0 inet static
    address 192.168.1.100
    netmask 255.255.255.0
    gateway 192.168.1.1
    dns-nameservers 8.8.8.8 8.8.4.4
```

### 2.2 é…ç½®å‚æ•°è¯¦è§£


| å‚æ•° | **å«ä¹‰** | **ç¤ºä¾‹** | **è¯´æ˜Ž** |
|------|---------|---------|----------|
| `auto` | **å¼€æœºè‡ªå¯** | `auto eth0` | ç³»ç»Ÿå¯åŠ¨æ—¶è‡ªåŠ¨æ¿€æ´»è¯¥æŽ¥å£ |
| `iface` | **æŽ¥å£å®šä¹‰** | `iface eth0 inet static` | å®šä¹‰æŽ¥å£åç§°å’Œé…ç½®ç±»åž‹ |
| `address` | **IPåœ°å€** | `address 192.168.1.100` | è®¾ç½®é™æ€IPåœ°å€ |
| `netmask` | **å­ç½‘æŽ©ç ** | `netmask 255.255.255.0` | å®šä¹‰ç½‘ç»œèŒƒå›´ |
| `gateway` | **é»˜è®¤ç½‘å…³** | `gateway 192.168.1.1` | è®¾ç½®æ•°æ®åŒ…å‡ºå£ |
| `dns-nameservers` | **DNSæœåŠ¡å™¨** | `dns-nameservers 8.8.8.8` | åŸŸåè§£æžæœåŠ¡å™¨ |

### 2.3 å¸¸è§é…ç½®ç¤ºä¾‹


**ðŸ“ é™æ€IPé…ç½®**
```bash
auto eth0
iface eth0 inet static
    address 192.168.1.100/24     # CIDRæ ¼å¼
    gateway 192.168.1.1
    dns-nameservers 8.8.8.8 8.8.4.4
```

**ðŸ“ DHCPåŠ¨æ€èŽ·å–**
```bash
auto eth0
iface eth0 inet dhcp
```

**ðŸ“ å¤šIPåœ°å€é…ç½®**
```bash
auto eth0
iface eth0 inet static
    address 192.168.1.100/24
    gateway 192.168.1.1

auto eth0:1
iface eth0:1 inet static
    address 192.168.1.101/24
```

### 2.4 æ¨¡å—åŒ–é…ç½®ç®¡ç†


**ç›®å½•ï¼š`/etc/network/interfaces.d/`**

è¿™ä¸ªç›®å½•çš„ä½œç”¨å°±åƒæŠŠä¸€æœ¬åŽšä¹¦åˆ†æˆå‡ ä¸ªå°å†Œå­ï¼Œæ¯ä¸ªç½‘å¡å•ç‹¬ä¸€ä¸ªæ–‡ä»¶ï¼Œç®¡ç†èµ·æ¥æ›´æ¸…æ™°ã€‚

```bash
# åˆ›å»ºå•ç‹¬çš„é…ç½®æ–‡ä»¶
echo "auto eth1
iface eth1 inet static
    address 192.168.2.100/24
    gateway 192.168.2.1" > /etc/network/interfaces.d/eth1

# ä¸»é…ç½®æ–‡ä»¶ä¸­æ·»åŠ å¼•ç”¨
echo "source /etc/network/interfaces.d/*" >> /etc/network/interfaces
```

---

## 3. âš™ï¸ RHELç³»é…ç½®æ–‡ä»¶ç®¡ç†


### 3.1 é…ç½®ç›®å½•ç»“æž„


**ç›®å½•ï¼š`/etc/sysconfig/network-scripts/`**

RHELç³»ç»ŸæŠŠæ¯ä¸ªç½‘å¡çš„é…ç½®å•ç‹¬æ”¾åœ¨ä¸€ä¸ªæ–‡ä»¶é‡Œï¼Œæ–‡ä»¶åæ ¼å¼æ˜¯ `ifcfg-æŽ¥å£å`ï¼Œå°±åƒæ¯ä¸ªç½‘å¡éƒ½æœ‰è‡ªå·±çš„æ¡£æ¡ˆè¢‹ã€‚

```
é…ç½®æ–‡ä»¶å‘½åè§„åˆ™ï¼š
â”œâ”€â”€ ifcfg-eth0      â† ç¬¬ä¸€å—ç½‘å¡
â”œâ”€â”€ ifcfg-eth1      â† ç¬¬äºŒå—ç½‘å¡  
â”œâ”€â”€ ifcfg-ens33     â† æ–°å‘½åè§„åˆ™ç½‘å¡
â”œâ”€â”€ ifcfg-lo        â† å›žçŽ¯æŽ¥å£
â””â”€â”€ network         â† å…¨å±€ç½‘ç»œé…ç½®
```

### 3.2 ifcfgé…ç½®æ–‡ä»¶æ ¼å¼


**ðŸ”§ æ ‡å‡†é…ç½®æ–‡ä»¶ç¤ºä¾‹ï¼ˆifcfg-eth0ï¼‰**

```bash
# åŸºæœ¬æŽ¥å£ä¿¡æ¯
TYPE=Ethernet                    # æŽ¥å£ç±»åž‹
DEVICE=eth0                     # è®¾å¤‡åç§°
NAME=eth0                       # è¿žæŽ¥åç§°
ONBOOT=yes                      # å¼€æœºå¯åŠ¨

# IPé…ç½®
BOOTPROTO=static                # é…ç½®æ–¹å¼ï¼šstatic/dhcp/none
IPADDR=192.168.1.100           # IPåœ°å€
NETMASK=255.255.255.0          # å­ç½‘æŽ©ç 
GATEWAY=192.168.1.1            # ç½‘å…³

# DNSé…ç½®
DNS1=8.8.8.8                   # ä¸»DNS
DNS2=8.8.4.4                   # å¤‡DNS

# å…¶ä»–é€‰é¡¹
DEFROUTE=yes                   # æ˜¯å¦è®¾ä¸ºé»˜è®¤è·¯ç”±
IPV4_FAILURE_FATAL=no          # IPv4å¤±è´¥æ˜¯å¦è‡´å‘½
IPV6INIT=yes                   # æ˜¯å¦å¯ç”¨IPv6
```

### 3.3 å…³é”®å‚æ•°è¯´æ˜Ž


**ðŸ”¸ BOOTPROTO å‚æ•°è¯¦è§£**
- `static`ï¼šé™æ€IPï¼Œæ‰‹åŠ¨æŒ‡å®šæ‰€æœ‰ç½‘ç»œå‚æ•°
- `dhcp`ï¼šåŠ¨æ€èŽ·å–ï¼Œä»ŽDHCPæœåŠ¡å™¨è‡ªåŠ¨èŽ·å–
- `none`ï¼šä¸é…ç½®IPï¼Œé€šå¸¸ç”¨äºŽç½‘æ¡¥ç­‰ç‰¹æ®Šç”¨é€”

**ðŸ”¸ ç½‘ç»œæŽ¥å£å‘½å**

```
ä¼ ç»Ÿå‘½åï¼š          æ–°å¼å‘½åï¼š
eth0               ens33
eth1               ens34
wlan0              wlp3s0

æ–°å‘½åè§„åˆ™å«ä¹‰ï¼š
en = Ethernet ä»¥å¤ªç½‘
s33 = slot 33 æ’æ§½33
wl = Wireless LAN æ— çº¿ç½‘
p3s0 = PCIè®¾å¤‡3æ’æ§½0
```

### 3.4 é…ç½®ç¤ºä¾‹é›†åˆ


**ðŸ“ é™æ€IPå®Œæ•´é…ç½®**
```bash
# /etc/sysconfig/network-scripts/ifcfg-eth0
TYPE=Ethernet
DEVICE=eth0
ONBOOT=yes
BOOTPROTO=static
IPADDR=192.168.1.100
NETMASK=255.255.255.0
GATEWAY=192.168.1.1
DNS1=8.8.8.8
DNS2=8.8.4.4
```

**ðŸ“ DHCPåŠ¨æ€é…ç½®**
```bash
# /etc/sysconfig/network-scripts/ifcfg-eth0
TYPE=Ethernet
DEVICE=eth0
ONBOOT=yes
BOOTPROTO=dhcp
```

**ðŸ“ åŒç½‘å¡é…ç½®**
```bash
# å†…ç½‘å¡ ifcfg-eth0
TYPE=Ethernet
DEVICE=eth0
ONBOOT=yes
BOOTPROTO=static
IPADDR=192.168.1.100
NETMASK=255.255.255.0
GATEWAY=192.168.1.1

# å¤–ç½‘å¡ ifcfg-eth1
TYPE=Ethernet
DEVICE=eth1
ONBOOT=yes
BOOTPROTO=static
IPADDR=10.0.0.100
NETMASK=255.255.255.0
```

---

## 4. ðŸ”„ ç½‘ç»œæœåŠ¡ç®¡ç†


### 4.1 æœåŠ¡é‡å¯ä¸Žé‡è½½


**ðŸ”¸ Debian/Ubuntuç³»ç»Ÿ**

```bash
# é‡å¯ç½‘ç»œæœåŠ¡ï¼ˆæ—§ç‰ˆæœ¬ï¼‰
sudo service networking restart

# é‡å¯ç½‘ç»œæœåŠ¡ï¼ˆæ–°ç‰ˆæœ¬ï¼‰
sudo systemctl restart networking

# é‡å¯å•ä¸ªæŽ¥å£
sudo ifdown eth0 && sudo ifup eth0

# é‡æ–°è¯»å–é…ç½®
sudo ifup eth0 --force
```

**ðŸ”¸ RHEL/CentOSç³»ç»Ÿ**

```bash
# CentOS 6åŠä»¥ä¸‹
sudo service network restart

# CentOS 7åŠä»¥ä¸Š
sudo systemctl restart network

# é‡å¯å•ä¸ªæŽ¥å£
sudo ifdown eth0
sudo ifup eth0

# NetworkManagerç®¡ç†çš„æŽ¥å£
sudo nmcli connection reload
```

### 4.2 é…ç½®éªŒè¯æ–¹æ³•


**ðŸ“ æ£€æŸ¥é…ç½®æ˜¯å¦ç”Ÿæ•ˆ**

```bash
# æŸ¥çœ‹IPé…ç½®
ip addr show eth0

# æŸ¥çœ‹è·¯ç”±è¡¨
ip route show

# æµ‹è¯•ç½‘ç»œè¿žé€šæ€§
ping -c 3 192.168.1.1

# æŸ¥çœ‹DNSè§£æž
nslookup google.com
```

### 4.3 æ•…éšœæŽ’æŸ¥æµç¨‹


```
ç½‘ç»œé…ç½®æ•…éšœæŽ’æŸ¥æ­¥éª¤ï¼š

ç¬¬1æ­¥ï¼šæ£€æŸ¥é…ç½®æ–‡ä»¶è¯­æ³•
â”œâ”€â”€ æ£€æŸ¥æ‹¼å†™é”™è¯¯
â”œâ”€â”€ éªŒè¯IPåœ°å€æ ¼å¼
â””â”€â”€ ç¡®è®¤å‚æ•°å®Œæ•´æ€§

ç¬¬2æ­¥ï¼šæ£€æŸ¥ç½‘ç»œæŽ¥å£çŠ¶æ€  
â”œâ”€â”€ ip link show
â”œâ”€â”€ ifconfig -a
â””â”€â”€ cat /proc/net/dev

ç¬¬3æ­¥ï¼šæ£€æŸ¥è·¯ç”±é…ç½®
â”œâ”€â”€ ip route show
â”œâ”€â”€ route -n
â””â”€â”€ netstat -rn

ç¬¬4æ­¥ï¼šæµ‹è¯•ç½‘ç»œè¿žé€šæ€§
â”œâ”€â”€ ping ç½‘å…³
â”œâ”€â”€ ping å¤–ç½‘IP
â””â”€â”€ ping åŸŸå
```

---

## 5. ðŸ’¾ é…ç½®æ–‡ä»¶å¤‡ä»½ä¸Žæ¢å¤


### 5.1 å¤‡ä»½ç­–ç•¥


**ðŸ”¸ å®Œæ•´å¤‡ä»½æ–¹æ¡ˆ**

```bash
# åˆ›å»ºå¤‡ä»½ç›®å½•
sudo mkdir -p /backup/network/$(date +%Y%m%d)

# Debianç³»ç»Ÿå¤‡ä»½
sudo cp -r /etc/network/ /backup/network/$(date +%Y%m%d)/
sudo cp /etc/resolv.conf /backup/network/$(date +%Y%m%d)/

# RHELç³»ç»Ÿå¤‡ä»½  
sudo cp -r /etc/sysconfig/network-scripts/ /backup/network/$(date +%Y%m%d)/
sudo cp /etc/resolv.conf /backup/network/$(date +%Y%m%d)/

# åˆ›å»ºå¤‡ä»½è¯´æ˜Ž
echo "å¤‡ä»½æ—¶é—´: $(date)" > /backup/network/$(date +%Y%m%d)/README
echo "ç³»ç»Ÿç‰ˆæœ¬: $(cat /etc/os-release | head -1)" >> /backup/network/$(date +%Y%m%d)/README
```

### 5.2 è‡ªåŠ¨å¤‡ä»½è„šæœ¬


```bash
#!/bin/bash
# ç½‘ç»œé…ç½®è‡ªåŠ¨å¤‡ä»½è„šæœ¬

BACKUP_DIR="/backup/network"
DATE=$(date +%Y%m%d_%H%M%S)
BACKUP_PATH="$BACKUP_DIR/$DATE"

# åˆ›å»ºå¤‡ä»½ç›®å½•
mkdir -p "$BACKUP_PATH"

# æ£€æµ‹ç³»ç»Ÿç±»åž‹å¹¶å¤‡ä»½
if [ -f /etc/debian_version ]; then
    # Debian/Ubuntuç³»ç»Ÿ
    cp -r /etc/network/ "$BACKUP_PATH/"
    echo "Debianç³»ç»Ÿé…ç½®å·²å¤‡ä»½"
elif [ -f /etc/redhat-release ]; then
    # RHEL/CentOSç³»ç»Ÿ
    cp -r /etc/sysconfig/network-scripts/ "$BACKUP_PATH/"
    echo "RHELç³»ç»Ÿé…ç½®å·²å¤‡ä»½"
fi

# å¤‡ä»½é€šç”¨é…ç½®
cp /etc/resolv.conf "$BACKUP_PATH/"
cp /etc/hosts "$BACKUP_PATH/"

echo "å¤‡ä»½å®Œæˆ: $BACKUP_PATH"
```

### 5.3 é…ç½®æ¢å¤æ–¹æ³•


**ðŸ“ ä»Žå¤‡ä»½æ¢å¤é…ç½®**

```bash
# åœæ­¢ç½‘ç»œæœåŠ¡
sudo systemctl stop networking  # Debian
sudo systemctl stop network     # RHEL

# æ¢å¤é…ç½®æ–‡ä»¶
sudo cp /backup/network/20240915/interfaces /etc/network/
sudo cp /backup/network/20240915/ifcfg-* /etc/sysconfig/network-scripts/

# é‡å¯ç½‘ç»œæœåŠ¡
sudo systemctl start networking  # Debian
sudo systemctl start network     # RHEL

# éªŒè¯æ¢å¤ç»“æžœ
ip addr show
```

---

## 6. ðŸ”§ å…¼å®¹æ€§ä¸Žæœ€ä½³å®žè·µ


### 6.1 ä¸åŒå‘è¡Œç‰ˆå·®å¼‚å¯¹æ¯”


| ç‰¹æ€§ | **Debian/Ubuntu** | **RHEL/CentOS** | **è¯´æ˜Ž** |
|------|-----------------|-----------------|----------|
| **ä¸»é…ç½®æ–‡ä»¶** | `/etc/network/interfaces` | `/etc/sysconfig/network-scripts/ifcfg-*` | é…ç½®æ–‡ä»¶ä½ç½®ä¸åŒ |
| **æœåŠ¡ç®¡ç†** | `networking.service` | `network.service` | æœåŠ¡åç§°ä¸åŒ |
| **é…ç½®æ ¼å¼** | `key value` | `KEY=value` | è¯­æ³•æ ¼å¼å·®å¼‚ |
| **æ¨¡å—åŒ–æ”¯æŒ** | `interfaces.d/` | å•æ–‡ä»¶ç®¡ç† | ç»„ç»‡æ–¹å¼ä¸åŒ |

### 6.2 é…ç½®æ¨¡æ¿ä¸Žè‡ªåŠ¨ç”Ÿæˆ


**ðŸ”¸ é™æ€IPé…ç½®æ¨¡æ¿**

```bash
# Debianæ¨¡æ¿
cat > /tmp/debian-static.template << 'EOF'
auto ${INTERFACE}
iface ${INTERFACE} inet static
    address ${IPADDR}/${NETMASK}
    gateway ${GATEWAY}
    dns-nameservers ${DNS1} ${DNS2}
EOF

# RHELæ¨¡æ¿
cat > /tmp/rhel-static.template << 'EOF'
TYPE=Ethernet
DEVICE=${INTERFACE}
ONBOOT=yes
BOOTPROTO=static
IPADDR=${IPADDR}
NETMASK=${NETMASK}
GATEWAY=${GATEWAY}
DNS1=${DNS1}
DNS2=${DNS2}
EOF
```

### 6.3 é…ç½®è‡ªåŠ¨åŒ–è„šæœ¬


```bash
#!/bin/bash
# ç½‘ç»œé…ç½®è‡ªåŠ¨ç”Ÿæˆè„šæœ¬

generate_network_config() {
    local interface=$1
    local ip=$2
    local netmask=$3
    local gateway=$4
    local dns1=$5
    local dns2=$6
    
    if [ -f /etc/debian_version ]; then
        # ç”ŸæˆDebiané…ç½®
        cat >> /etc/network/interfaces << EOF

auto $interface
iface $interface inet static
    address $ip/$netmask
    gateway $gateway
    dns-nameservers $dns1 $dns2
EOF
    elif [ -f /etc/redhat-release ]; then
        # ç”ŸæˆRHELé…ç½®
        cat > /etc/sysconfig/network-scripts/ifcfg-$interface << EOF
TYPE=Ethernet
DEVICE=$interface
ONBOOT=yes
BOOTPROTO=static
IPADDR=$ip
NETMASK=$netmask
GATEWAY=$gateway
DNS1=$dns1
DNS2=$dns2
EOF
    fi
}

# ä½¿ç”¨ç¤ºä¾‹
generate_network_config eth0 192.168.1.100 255.255.255.0 192.168.1.1 8.8.8.8 8.8.4.4
```

### 6.4 å…¼å®¹æ€§å¤„ç†ç­–ç•¥


**ðŸ”¸ è·¨å‘è¡Œç‰ˆè„šæœ¬ç¼–å†™**

```bash
#!/bin/bash
# è·¨å‘è¡Œç‰ˆç½‘ç»œé…ç½®è„šæœ¬

detect_system() {
    if [ -f /etc/debian_version ]; then
        echo "debian"
    elif [ -f /etc/redhat-release ]; then
        echo "rhel"
    else
        echo "unknown"
    fi
}

restart_network() {
    local system=$(detect_system)
    case $system in
        "debian")
            systemctl restart networking
            ;;
        "rhel")
            systemctl restart network
            ;;
        *)
            echo "ä¸æ”¯æŒçš„ç³»ç»Ÿç±»åž‹"
            exit 1
            ;;
    esac
}
```

---

## 7. ðŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 7.1 å¿…é¡»æŽŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ðŸ”¸ é…ç½®æ–‡ä»¶ä½ç½®ï¼š
   â€¢ Debianç³»ï¼š/etc/network/interfaces
   â€¢ RHELç³»ï¼š/etc/sysconfig/network-scripts/ifcfg-*

ðŸ”¸ åŸºæœ¬é…ç½®å‚æ•°ï¼š
   â€¢ IPåœ°å€ã€å­ç½‘æŽ©ç ã€ç½‘å…³ã€DNS
   â€¢ æŽ¥å£å¯åŠ¨æ–¹å¼ã€é…ç½®æ–¹æ³•

ðŸ”¸ æœåŠ¡ç®¡ç†ï¼š
   â€¢ é…ç½®ä¿®æ”¹åŽéœ€è¦é‡å¯æœåŠ¡
   â€¢ ä¸åŒç³»ç»ŸæœåŠ¡åç§°ä¸åŒ

ðŸ”¸ å¤‡ä»½æ¢å¤ï¼š
   â€¢ ä¿®æ”¹å‰åŠ¡å¿…å¤‡ä»½
   â€¢ æŽŒæ¡å¿«é€Ÿæ¢å¤æ–¹æ³•
```

### 7.2 å…³é”®ç†è§£è¦ç‚¹


**ðŸ”¹ é…ç½®æ–‡ä»¶å°±æ˜¯ç½‘å¡çš„èº«ä»½è¯**
```
å°±åƒæ¯ä¸ªäººéƒ½æœ‰èº«ä»½è¯ä¸€æ ·ï¼š
- èº«ä»½è¯å· = IPåœ°å€
- å®¶åº­ä½å€ = ç½‘ç»œåœ°å€  
- æˆ·ç±æ‰€åœ¨åœ° = ç½‘å…³
- ç´§æ€¥è”ç³»äºº = DNSæœåŠ¡å™¨
```

**ðŸ”¹ ä¸åŒLinuxå‘è¡Œç‰ˆçš„é…ç½®æ–¹å¼ä¸åŒ**
```
ç±»æ¯”ä¸åŒåœ°åŒºçš„èº«ä»½è¯æ ¼å¼ï¼š
- Debianç³»ï¼šç»Ÿä¸€ç®¡ç†ï¼Œæ‰€æœ‰ä¿¡æ¯å†™åœ¨ä¸€ä¸ªå¤§æœ¬å­é‡Œ
- RHELç³»ï¼šåˆ†æ•£ç®¡ç†ï¼Œæ¯äººä¸€ä¸ªå°å¡ç‰‡
- æœ¬è´¨ç›¸åŒï¼šéƒ½æ˜¯è®°å½•ç½‘ç»œèº«ä»½ä¿¡æ¯
```

**ðŸ”¹ é…ç½®ä¿®æ”¹çš„å®‰å…¨åŽŸåˆ™**
```
ä¿®æ”¹ç½‘ç»œé…ç½®çš„é»„é‡‘æ³•åˆ™ï¼š
1. ðŸ“‹ å…ˆå¤‡ä»½ï¼ŒåŽä¿®æ”¹
2. ðŸ” å°æ­¥è¯•æŽ¢ï¼Œé€æ­¥éªŒè¯  
3. ðŸš¨ å‡†å¤‡å›žé€€æ–¹æ¡ˆ
4. âœ… éªŒè¯é…ç½®ç”Ÿæ•ˆ
```

### 7.3 å®žé™…åº”ç”¨åœºæ™¯


**ðŸ’¼ æœåŠ¡å™¨ç½‘ç»œé…ç½®**
- é™æ€IPé…ç½®ç¡®ä¿æœåŠ¡ç¨³å®šæ€§
- å¤šç½‘å¡é…ç½®å®žçŽ°ç½‘ç»œéš”ç¦»
- å¤‡ä»½é…ç½®é˜²æ­¢è¯¯æ“ä½œ

**ðŸ  å®¶åº­ç½‘ç»œç®¡ç†**
- DHCPé…ç½®ç®€åŒ–ç®¡ç†
- ä¸´æ—¶é™æ€IPè§£å†³å†²çª
- ç½‘ç»œæ•…éšœå¿«é€Ÿæ¢å¤

**ðŸ¢ ä¼ä¸šçŽ¯å¢ƒéƒ¨ç½²**
- æ ‡å‡†åŒ–é…ç½®æ¨¡æ¿
- è‡ªåŠ¨åŒ–é…ç½®è„šæœ¬
- æ‰¹é‡éƒ¨ç½²å’Œç®¡ç†

### 7.4 å­¦ä¹ æ£€æŸ¥æ¸…å•


â˜ **åŸºç¡€æ¦‚å¿µç†è§£**
- [ ] ç†è§£ç½‘ç»œé…ç½®æ–‡ä»¶çš„ä½œç”¨
- [ ] æŽŒæ¡ä¸åŒå‘è¡Œç‰ˆçš„é…ç½®ä½ç½®
- [ ] ç†Ÿæ‚‰åŸºæœ¬é…ç½®å‚æ•°å«ä¹‰

â˜ **å®žæ“æŠ€èƒ½æŽŒæ¡**  
- [ ] èƒ½å¤Ÿé…ç½®é™æ€IPåœ°å€
- [ ] èƒ½å¤Ÿè®¾ç½®DHCPåŠ¨æ€èŽ·å–
- [ ] ä¼šé‡å¯ç½‘ç»œæœåŠ¡

â˜ **æ•…éšœå¤„ç†èƒ½åŠ›**
- [ ] ä¼šå¤‡ä»½å’Œæ¢å¤é…ç½®
- [ ] èƒ½å¤ŸæŽ’æŸ¥ç½‘ç»œé…ç½®é—®é¢˜
- [ ] æŽŒæ¡é…ç½®éªŒè¯æ–¹æ³•

â˜ **è¿›é˜¶åº”ç”¨æŠ€èƒ½**
- [ ] ç¼–å†™é…ç½®è‡ªåŠ¨åŒ–è„šæœ¬
- [ ] å¤„ç†è·¨å‘è¡Œç‰ˆå…¼å®¹æ€§
- [ ] è®¾è®¡ç½‘ç»œé…ç½®è§„èŒƒ

**æ ¸å¿ƒè®°å¿†è¦ç‚¹**ï¼š
- é…ç½®æ–‡ä»¶æ˜¯ç½‘ç»œè®¾ç½®çš„æŒä¹…åŒ–å­˜å‚¨
- ä¸åŒå‘è¡Œç‰ˆé…ç½®æ–¹å¼ä¸åŒä½†åŽŸç†ç›¸åŒ
- ä¿®æ”¹é…ç½®å‰å¿…é¡»å¤‡ä»½ï¼Œä¿®æ”¹åŽè¦éªŒè¯
- æŽŒæ¡é‡å¯æœåŠ¡å’Œæ•…éšœæ¢å¤æ–¹æ³•