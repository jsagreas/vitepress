---
title: 11ã€YUMæ’ä»¶ç³»ç»Ÿè¯¦è§£
---
## ğŸ“š ç›®å½•

1. [YUMæ’ä»¶ç³»ç»Ÿæ¦‚è¿°](#1-YUMæ’ä»¶ç³»ç»Ÿæ¦‚è¿°)
2. [æ ¸å¿ƒæ’ä»¶è¯¦è§£](#2-æ ¸å¿ƒæ’ä»¶è¯¦è§£)
3. [æ’ä»¶é…ç½®ä¸ç®¡ç†](#3-æ’ä»¶é…ç½®ä¸ç®¡ç†)
4. [æ’ä»¶å¼€å‘åŸºç¡€](#4-æ’ä»¶å¼€å‘åŸºç¡€)
5. [æ’ä»¶è°ƒè¯•ä¸é—®é¢˜è§£å†³](#5-æ’ä»¶è°ƒè¯•ä¸é—®é¢˜è§£å†³)
6. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#6-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ”§ YUMæ’ä»¶ç³»ç»Ÿæ¦‚è¿°


### 1.1 ä»€ä¹ˆæ˜¯YUMæ’ä»¶


**ğŸ”¸ æ’ä»¶æœ¬è´¨ç†è§£**
YUMæ’ä»¶å°±åƒæ˜¯ç»™åŒ…ç®¡ç†å™¨æ·»åŠ çš„"å°åŠŸèƒ½æ¨¡å—"ï¼Œæ¯ä¸ªæ’ä»¶è´Ÿè´£ä¸€ä¸ªç‰¹å®šçš„ä»»åŠ¡ï¼Œè®©YUMå˜å¾—æ›´æ™ºèƒ½ã€æ›´å¥½ç”¨ã€‚

```
åŸºç¡€YUMï¼šåªèƒ½å®‰è£…ã€æ›´æ–°ã€åˆ é™¤è½¯ä»¶åŒ…
YUM + æ’ä»¶ï¼šå¯ä»¥è‡ªåŠ¨é€‰æ‹©æœ€å¿«é•œåƒã€é”å®šç‰ˆæœ¬ã€è®¾ç½®ä¼˜å…ˆçº§ç­‰
```

**ğŸ’¡ æ’ä»¶å·¥ä½œåŸç†**
```
YUMå‘½ä»¤æ‰§è¡Œæµç¨‹ä¸­çš„æ’ä»¶ä»‹å…¥ç‚¹ï¼š

ç”¨æˆ·è¾“å…¥å‘½ä»¤ â†’ YUMè§£æ â†’ [æ’ä»¶Hook1] â†’ æŸ¥è¯¢ä»“åº“ 
                â†“
            [æ’ä»¶Hook2] â†’ è§£å†³ä¾èµ– â†’ [æ’ä»¶Hook3] â†’ æ‰§è¡Œæ“ä½œ
```

æ’ä»¶é€šè¿‡"é’©å­å‡½æ•°"åœ¨YUMæ‰§è¡Œçš„ä¸åŒé˜¶æ®µæ’å…¥è‡ªå·±çš„é€»è¾‘ï¼Œå°±åƒåœ¨æµæ°´çº¿ä¸Šå¢åŠ äº†æ£€æŸ¥ç«™ã€‚

### 1.2 æ’ä»¶ç³»ç»Ÿæ¶æ„


**ğŸ—ï¸ ç³»ç»Ÿç»“æ„**
```
YUMæ ¸å¿ƒå¼•æ“
    â†“
æ’ä»¶ç®¡ç†å™¨ (PluginYumExit)
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç½‘ç»œæ’ä»¶     â”‚ å®‰å…¨æ’ä»¶     â”‚ ç®¡ç†æ’ä»¶     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚fastestmirrorâ”‚  security   â”‚ priorities  â”‚
â”‚             â”‚             â”‚ versionlock â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ğŸ” æ’ä»¶åˆ†ç±»**
- **ç½‘ç»œä¼˜åŒ–ç±»**ï¼šæå‡ä¸‹è½½é€Ÿåº¦å’Œè¿æ¥è´¨é‡
- **å®‰å…¨ç®¡ç†ç±»**ï¼šå¤„ç†å®‰å…¨æ›´æ–°å’Œæ¼æ´ä¿®å¤
- **ç‰ˆæœ¬æ§åˆ¶ç±»**ï¼šç®¡ç†è½¯ä»¶åŒ…ç‰ˆæœ¬å’Œä¼˜å…ˆçº§
- **åŠŸèƒ½æ‰©å±•ç±»**ï¼šå¢åŠ é¢å¤–çš„ç®¡ç†åŠŸèƒ½

---

## 2. âš¡ æ ¸å¿ƒæ’ä»¶è¯¦è§£


### 2.1 yum-plugin-fastestmirror


**ğŸ¯ æ’ä»¶ä½œç”¨**
è‡ªåŠ¨æµ‹è¯•æ‰€æœ‰å¯ç”¨é•œåƒæœåŠ¡å™¨çš„é€Ÿåº¦ï¼Œé€‰æ‹©æœ€å¿«çš„æœåŠ¡å™¨è¿›è¡Œä¸‹è½½ï¼Œå°±åƒå¯¼èˆªè½¯ä»¶é€‰æ‹©æœ€å¿«è·¯çº¿ä¸€æ ·ã€‚

**ğŸ”¸ å·¥ä½œæœºåˆ¶**
```
æ’ä»¶å¯åŠ¨ â†’ è·å–é•œåƒåˆ—è¡¨ â†’ å¹¶å‘æµ‹è¯•è¿æ¥é€Ÿåº¦
    â†“
è®°å½•æµ‹è¯•ç»“æœ â†’ æ’åºé€‰æ‹©æœ€å¿«é•œåƒ â†’ ç¼“å­˜ç»“æœ
    â†“
åç»­ä½¿ç”¨ç¼“å­˜çš„æœ€å¿«é•œåƒï¼Œå®šæœŸé‡æ–°æµ‹è¯•
```

**âš™ï¸ é…ç½®è¯¦è§£**

åŸºç¡€é…ç½®æ–‡ä»¶ï¼š`/etc/yum/pluginconf.d/fastestmirror.conf`

```ini
# å¯ç”¨æ’ä»¶
[main]
enabled = 1

# ç¼“å­˜æ–‡ä»¶ä½ç½®ï¼ˆå­˜å‚¨æµ‹è¯•ç»“æœï¼‰
hostfilepath = /var/cache/yum/timedhosts.txt

# æœ€å¤§è¿æ¥è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰
maxhostfileage = 10

# æœ€å¤§åŒæ—¶è¿æ¥æ•°
maxconnections = 5

# æ˜¯å¦åœ¨è¯¦ç»†æ¨¡å¼ä¸‹æ˜¾ç¤ºæµ‹è¯•è¿‡ç¨‹
verbose = 0
```

**ğŸ’¡ å®é™…æ•ˆæœå¯¹æ¯”**
```
æœªä½¿ç”¨fastestmirrorï¼š
ä¸‹è½½é€Ÿåº¦ï¼š50KB/sï¼ˆä½¿ç”¨é»˜è®¤è¿œç¨‹é•œåƒï¼‰

ä½¿ç”¨fastestmirroråï¼š
ä¸‹è½½é€Ÿåº¦ï¼š500KB/sï¼ˆè‡ªåŠ¨é€‰æ‹©æœ¬åœ°é•œåƒï¼‰
é€Ÿåº¦æå‡ï¼š10å€
```

### 2.2 yum-plugin-security


**ğŸ›¡ï¸ æ’ä»¶åŠŸèƒ½**
ä¸“é—¨å¤„ç†å®‰å…¨æ›´æ–°ï¼Œè®©ä½ èƒ½å¤Ÿå•ç‹¬ç®¡ç†æ¶‰åŠå®‰å…¨æ¼æ´çš„è½¯ä»¶åŒ…æ›´æ–°ï¼Œè€Œä¸æ˜¯ç›²ç›®æ›´æ–°æ‰€æœ‰è½¯ä»¶ã€‚

**ğŸ”¸ æ ¸å¿ƒæ¦‚å¿µç†è§£**

**å®‰å…¨æ›´æ–° vs æ™®é€šæ›´æ–°**ï¼š
- **æ™®é€šæ›´æ–°**ï¼šåŠŸèƒ½æ”¹è¿›ã€bugä¿®å¤ç­‰
- **å®‰å…¨æ›´æ–°**ï¼šä¿®å¤å®‰å…¨æ¼æ´ï¼Œä¼˜å…ˆçº§æœ€é«˜

**ğŸ”§ å¸¸ç”¨å‘½ä»¤**

```bash
# åªæ˜¾ç¤ºå®‰å…¨æ›´æ–°
yum --security check-update

# åªå®‰è£…å®‰å…¨æ›´æ–°
yum --security update

# æŸ¥çœ‹å…·ä½“çš„å®‰å…¨å…¬å‘Š
yum updateinfo list security

# è·å–ç‰¹å®šCVEçš„è¯¦ç»†ä¿¡æ¯
yum updateinfo info RHSA-2023-1234
```

**ğŸ“Š å®é™…åº”ç”¨åœºæ™¯**
```
ç”Ÿäº§ç¯å¢ƒæœåŠ¡å™¨åœºæ™¯ï¼š
- æ™®é€šæ›´æ–°ï¼šå¯ä»¥ç­‰ç»´æŠ¤çª—å£æœŸ
- å®‰å…¨æ›´æ–°ï¼šéœ€è¦ç«‹å³å®‰è£…
- ä½¿ç”¨securityæ’ä»¶ï¼šç²¾ç¡®æ§åˆ¶æ›´æ–°èŒƒå›´
```

### 2.3 yum-plugin-priorities


**ğŸ¯ æ’ä»¶ç”¨é€”**
ä¸ºä¸åŒçš„è½¯ä»¶ä»“åº“è®¾ç½®ä¼˜å…ˆçº§ï¼Œç¡®ä¿é‡è¦ä»“åº“çš„è½¯ä»¶åŒ…ä¼˜å…ˆè¢«é€‰æ‹©ï¼Œé¿å…è½¯ä»¶åŒ…å†²çªã€‚

**ğŸ”¸ ä¼˜å…ˆçº§å·¥ä½œåŸç†**

```
ä¼˜å…ˆçº§æ•°å€¼è¶Šå° = ä¼˜å…ˆçº§è¶Šé«˜

ä¼˜å…ˆçº§1 (å®˜æ–¹ä»“åº“)     ä¼˜å…ˆä½¿ç”¨
ä¼˜å…ˆçº§50 (EPELä»“åº“)    æ¬¡è¦é€‰æ‹©  
ä¼˜å…ˆçº§99 (ç¬¬ä¸‰æ–¹ä»“åº“)   æœ€åè€ƒè™‘
```

**âš™ï¸ é…ç½®æ–¹æ³•**

åœ¨ä»“åº“é…ç½®æ–‡ä»¶ä¸­æ·»åŠ priorityå‚æ•°ï¼š

```ini
# /etc/yum.repos.d/CentOS-Base.repo
[base]
name=CentOS-7 - Base
baseurl=http://mirror.centos.org/centos/7/os/x86_64/
priority=1

[epel]
name=Extra Packages for Enterprise Linux 7
baseurl=http://download.fedoraproject.org/pub/epel/7/x86_64/
priority=50
```

**ğŸ’¡ å…¸å‹åº”ç”¨åœºæ™¯**
```
é—®é¢˜åœºæ™¯ï¼š
EPELä»“åº“çš„nginxç‰ˆæœ¬æ¯”å®˜æ–¹ä»“åº“æ–°ï¼Œä½†å¯èƒ½ä¸ç¨³å®š

è§£å†³æ–¹æ¡ˆï¼š
è®¾ç½®å®˜æ–¹ä»“åº“priority=1ï¼ŒEPELä»“åº“priority=50
ç»“æœï¼šä¼˜å…ˆä½¿ç”¨å®˜æ–¹ä»“åº“çš„nginx
```

### 2.4 yum-plugin-versionlock


**ğŸ”’ æ’ä»¶åŠŸèƒ½**
é”å®šç‰¹å®šè½¯ä»¶åŒ…çš„ç‰ˆæœ¬ï¼Œé˜²æ­¢æ„å¤–æ›´æ–°å¯¼è‡´ç³»ç»Ÿä¸ç¨³å®šï¼Œå°±åƒç»™è½¯ä»¶åŒ…ä¸Šäº†ä¸€æŠŠé”ã€‚

**ğŸ”¸ ç‰ˆæœ¬é”å®šåœºæ™¯**

**ä¸ºä»€ä¹ˆéœ€è¦ç‰ˆæœ¬é”å®š**ï¼š
- æŸä¸ªè½¯ä»¶ç‰ˆæœ¬è¿è¡Œç¨³å®šï¼Œä¸æƒ³å‡çº§
- æ–°ç‰ˆæœ¬å­˜åœ¨å…¼å®¹æ€§é—®é¢˜
- ç”Ÿäº§ç¯å¢ƒéœ€è¦ç‰ˆæœ¬ä¸€è‡´æ€§

**ğŸ”§ åŸºæœ¬æ“ä½œ**

```bash
# é”å®šå½“å‰ç‰ˆæœ¬çš„httpd
yum versionlock httpd

# é”å®šç‰¹å®šç‰ˆæœ¬
yum versionlock httpd-2.4.6-90.el7

# æŸ¥çœ‹å·²é”å®šçš„åŒ…
yum versionlock list

# è§£é™¤é”å®š
yum versionlock delete httpd

# æ¸…é™¤æ‰€æœ‰é”å®š
yum versionlock clear
```

**ğŸ“ é”å®šä¿¡æ¯å­˜å‚¨**
é”å®šä¿¡æ¯ä¿å­˜åœ¨ï¼š`/etc/yum/pluginconf.d/versionlock.list`

```
# æ–‡ä»¶å†…å®¹ç¤ºä¾‹
0:httpd-2.4.6-90.el7.*
0:mysql-server-5.7.25-1.el7.*
```

**âš ï¸ æ³¨æ„äº‹é¡¹**
> ç‰ˆæœ¬é”å®šä¼šé˜»æ­¢å®‰å…¨æ›´æ–°ï¼Œéœ€è¦å®šæœŸè¯„ä¼°æ˜¯å¦è§£é”

---

## 3. ğŸ”§ æ’ä»¶é…ç½®ä¸ç®¡ç†


### 3.1 æ’ä»¶ç®¡ç†åŸºç¡€


**ğŸ“ æ’ä»¶æ–‡ä»¶ä½ç½®**
```
æ’ä»¶ç¨‹åºï¼š/usr/lib/yum-plugins/
é…ç½®æ–‡ä»¶ï¼š/etc/yum/pluginconf.d/
ç¼“å­˜æ•°æ®ï¼š/var/cache/yum/
```

**ğŸ” æ’ä»¶çŠ¶æ€æ£€æŸ¥**

```bash
# æŸ¥çœ‹æ‰€æœ‰æ’ä»¶çŠ¶æ€
yum --version

# æŸ¥çœ‹å·²å®‰è£…çš„æ’ä»¶
rpm -qa | grep yum-plugin

# åˆ—å‡ºå¯ç”¨æ’ä»¶
yum search yum-plugin
```

### 3.2 æ’ä»¶å¯ç”¨ä¸ç¦ç”¨


**âš™ï¸ å…¨å±€æ§åˆ¶**

åœ¨ `/etc/yum.conf` ä¸­ï¼š
```ini
[main]
# å…¨å±€å¯ç”¨æ’ä»¶ç³»ç»Ÿ
plugins = 1

# å…¨å±€ç¦ç”¨æ’ä»¶ç³»ç»Ÿ  
plugins = 0
```

**ğŸ›ï¸ å•ä¸ªæ’ä»¶æ§åˆ¶**

æ–¹æ³•ä¸€ï¼šä¿®æ”¹æ’ä»¶é…ç½®æ–‡ä»¶
```ini
# /etc/yum/pluginconf.d/fastestmirror.conf
[main]
enabled = 1    # å¯ç”¨
enabled = 0    # ç¦ç”¨
```

æ–¹æ³•äºŒï¼šå‘½ä»¤è¡Œä¸´æ—¶æ§åˆ¶
```bash
# ä¸´æ—¶ç¦ç”¨fastestmirroræ’ä»¶
yum --disableplugin=fastestmirror update

# ä¸´æ—¶å¯ç”¨ç‰¹å®šæ’ä»¶
yum --enableplugin=priorities install httpd
```

### 3.3 æ’ä»¶é…ç½®æœ€ä½³å®è·µ


**ğŸ¯ æ¨èé…ç½®ç»„åˆ**

**ç”Ÿäº§ç¯å¢ƒæ¨è**ï¼š
```bash
# å¿…è£…æ’ä»¶
yum install yum-plugin-fastestmirror    # ç½‘ç»œä¼˜åŒ–
yum install yum-plugin-security         # å®‰å…¨ç®¡ç†
yum install yum-plugin-versionlock      # ç‰ˆæœ¬æ§åˆ¶
```

**å¼€å‘ç¯å¢ƒæ¨è**ï¼š
```bash
# åŸºç¡€æ’ä»¶
yum install yum-plugin-fastestmirror
yum install yum-plugin-priorities       # å¤šä»“åº“ç®¡ç†
```

**ğŸ“Š æ’ä»¶æ€§èƒ½å½±å“**

| æ’ä»¶åç§° | æ€§èƒ½å½±å“ | æ¨èä½¿ç”¨ |
|---------|---------|----------|
| fastestmirror | é¦–æ¬¡è¾ƒæ…¢ï¼Œåç»­åŠ é€Ÿ | âœ… å¼ºçƒˆæ¨è |
| security | æå° | âœ… æ¨è |
| priorities | å° | âœ… æ¨è |
| versionlock | æå° | ğŸŸ¡ æŒ‰éœ€ä½¿ç”¨ |

---

## 4. ğŸ› ï¸ æ’ä»¶å¼€å‘åŸºç¡€


### 4.1 æ’ä»¶å¼€å‘æ¦‚å¿µ


**ğŸ”¸ ä»€ä¹ˆæ˜¯è‡ªå®šä¹‰æ’ä»¶**
è‡ªå®šä¹‰æ’ä»¶å°±æ˜¯è‡ªå·±å†™çš„å°ç¨‹åºï¼Œè®©YUMåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­è°ƒç”¨ä½ çš„ä»£ç ï¼Œå®ç°ç‰¹å®šåŠŸèƒ½ã€‚

**ğŸ“ æ’ä»¶åŸºæœ¬ç»“æ„**
```python
# æœ€ç®€å•çš„YUMæ’ä»¶ç»“æ„
from yum.plugins import PluginYumExit, TYPE_CORE

# æ’ä»¶ä¿¡æ¯
requires_api_version = '2.1'
plugin_type = (TYPE_CORE,)

def init_hook(conduit):
    """æ’ä»¶åˆå§‹åŒ–"""
    conduit.info(2, "è‡ªå®šä¹‰æ’ä»¶å·²åŠ è½½")

def predownload_hook(conduit):
    """ä¸‹è½½å‰é’©å­"""
    conduit.info(2, "å‡†å¤‡ä¸‹è½½è½¯ä»¶åŒ…")
```

### 4.2 æ’ä»¶å¼€å‘ç¯å¢ƒ


**ğŸ”§ å¼€å‘å‡†å¤‡**
```bash
# å®‰è£…å¼€å‘å·¥å…·
yum install yum-utils
yum install python-devel

# æŸ¥çœ‹æ’ä»¶APIæ–‡æ¡£
rpm -ql yum | grep -i plugin
```

**ğŸ“ æ’ä»¶ç›®å½•ç»“æ„**
```
/usr/lib/yum-plugins/
â”œâ”€â”€ myplugin.py           # æ’ä»¶ä¸»ç¨‹åº
â””â”€â”€ myplugin.conf         # æ’ä»¶é…ç½®æ¨¡æ¿

/etc/yum/pluginconf.d/
â””â”€â”€ myplugin.conf         # å®é™…é…ç½®æ–‡ä»¶
```

### 4.3 å¸¸ç”¨é’©å­å‡½æ•°


**ğŸ£ ä¸»è¦é’©å­ç‚¹**
```python
# å¸¸ç”¨çš„é’©å­å‡½æ•°
def init_hook(conduit):           # æ’ä»¶åˆå§‹åŒ–
def config_hook(conduit):         # é…ç½®è§£æå
def postconfig_hook(conduit):     # é…ç½®å®Œæˆå  
def prereposetup_hook(conduit):   # ä»“åº“è®¾ç½®å‰
def predownload_hook(conduit):    # ä¸‹è½½å‰
def postdownload_hook(conduit):   # ä¸‹è½½å
def pretrans_hook(conduit):       # äº‹åŠ¡æ‰§è¡Œå‰
def posttrans_hook(conduit):      # äº‹åŠ¡æ‰§è¡Œå
```

---

## 5. ğŸ” æ’ä»¶è°ƒè¯•ä¸é—®é¢˜è§£å†³


### 5.1 æ’ä»¶è°ƒè¯•æ–¹æ³•


**ğŸ•µï¸ è°ƒè¯•æŠ€å·§**

**å¯ç”¨è¯¦ç»†è¾“å‡º**ï¼š
```bash
# æ˜¾ç¤ºæ’ä»¶è¯¦ç»†ä¿¡æ¯
yum -v update

# æ˜¾ç¤ºè°ƒè¯•ä¿¡æ¯
yum --debuglevel=10 update
```

**ğŸ“‹ æ’ä»¶æ—¥å¿—åˆ†æ**
```bash
# YUMä¸»æ—¥å¿—
tail -f /var/log/yum.log

# ç³»ç»Ÿæ—¥å¿—ä¸­çš„YUMä¿¡æ¯
grep yum /var/log/messages
```

### 5.2 å¸¸è§æ’ä»¶é—®é¢˜


**âŒ é—®é¢˜1ï¼šfastestmirroræ’ä»¶å¯¼è‡´è¿æ¥æ…¢**

**ç—‡çŠ¶**ï¼šYUMå‘½ä»¤æ‰§è¡Œå‰é•¿æ—¶é—´ç­‰å¾…
**åŸå› **ï¼šæ’ä»¶æµ‹è¯•é•œåƒé€Ÿåº¦æ—¶ç½‘ç»œè¶…æ—¶
**è§£å†³**ï¼š
```bash
# ä¸´æ—¶ç¦ç”¨
yum --disableplugin=fastestmirror update

# æ°¸ä¹…è§£å†³ï¼šè°ƒæ•´è¶…æ—¶è®¾ç½®
# ç¼–è¾‘ /etc/yum/pluginconf.d/fastestmirror.conf
maxhostfileage = 1  # å‡å°‘ç¼“å­˜æ—¶é—´
```

**âŒ é—®é¢˜2ï¼šversionlockæ’ä»¶é˜»æ­¢å®‰å…¨æ›´æ–°**

**ç—‡çŠ¶**ï¼šå®‰å…¨æ›´æ–°æ— æ³•å®‰è£…
**åŸå› **ï¼šè½¯ä»¶åŒ…è¢«ç‰ˆæœ¬é”å®š
**è§£å†³**ï¼š
```bash
# æ£€æŸ¥é”å®šæƒ…å†µ
yum versionlock list

# ä¸´æ—¶è§£é™¤é”å®šè¿›è¡Œå®‰å…¨æ›´æ–°
yum versionlock delete è½¯ä»¶åŒ…å
yum --security update
yum versionlock è½¯ä»¶åŒ…å  # é‡æ–°é”å®š
```

### 5.3 æ’ä»¶å†²çªè§£å†³


**ğŸ”„ å†²çªè¯†åˆ«æ–¹æ³•**
```bash
# é€ä¸ªç¦ç”¨æ’ä»¶æµ‹è¯•
yum --disableplugin=* update          # ç¦ç”¨æ‰€æœ‰æ’ä»¶
yum --enableplugin=fastestmirror update  # åªå¯ç”¨ä¸€ä¸ªæ’ä»¶
```

**âš”ï¸ å¸¸è§å†²çªåœºæ™¯**

**priorities vs ç¬¬ä¸‰æ–¹ä»“åº“**ï¼š
- é—®é¢˜ï¼šç¬¬ä¸‰æ–¹ä»“åº“è½¯ä»¶åŒ…è¢«ä¼˜å…ˆçº§é˜»æŒ¡
- è§£å†³ï¼šè°ƒæ•´priorityæ•°å€¼æˆ–ä¸´æ—¶ç¦ç”¨prioritiesæ’ä»¶

**fastestmirror vs å†…ç½‘ç¯å¢ƒ**ï¼š
- é—®é¢˜ï¼šå†…ç½‘ç¯å¢ƒæ— æ³•è®¿é—®å¤–éƒ¨é•œåƒæµ‹è¯•
- è§£å†³ï¼šé…ç½®å†…ç½‘é•œåƒæˆ–ç¦ç”¨fastestmirror

---

## 6. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 6.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ YUMæ’ä»¶æœ¬è´¨ï¼šç»™åŒ…ç®¡ç†å™¨æ·»åŠ çš„åŠŸèƒ½æ¨¡å—
ğŸ”¸ å››å¤§æ ¸å¿ƒæ’ä»¶ï¼šfastestmirrorã€securityã€prioritiesã€versionlock
ğŸ”¸ æ’ä»¶ç®¡ç†ï¼šå¯ç”¨ã€ç¦ç”¨ã€é…ç½®ã€è°ƒè¯•
ğŸ”¸ å†²çªè§£å†³ï¼šè¯†åˆ«é—®é¢˜ã€é€æ­¥æ’æŸ¥ã€é’ˆå¯¹æ€§è§£å†³
```

### 6.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ æ’ä»¶é€‰æ‹©åŸåˆ™**
```
ç½‘ç»œç¯å¢ƒè‰¯å¥½ï¼šå¯ç”¨fastestmirroræå‡é€Ÿåº¦
å®‰å…¨è¦æ±‚é«˜ï¼šå¿…é¡»å¯ç”¨securityæ’ä»¶
å¤šä»“åº“ç¯å¢ƒï¼šå¯ç”¨prioritiesé¿å…å†²çª
ç”Ÿäº§ç¯å¢ƒï¼šè°¨æ…ä½¿ç”¨versionlocké”å®šå…³é”®è½¯ä»¶
```

**ğŸ”¹ é…ç½®ä¼˜åŒ–ç­–ç•¥**
```
æµ‹è¯•ç¯å¢ƒï¼šå¯ä»¥å¯ç”¨æ‰€æœ‰æ’ä»¶è¿›è¡Œæµ‹è¯•
ç”Ÿäº§ç¯å¢ƒï¼šåªå¯ç”¨å¿…éœ€æ’ä»¶ï¼Œå‡å°‘å¤æ‚æ€§
å†…ç½‘ç¯å¢ƒï¼šç¦ç”¨ä¾èµ–å¤–ç½‘çš„æ’ä»¶

æ’ä»¶é…ç½®åŸåˆ™ï¼š
- æ ¹æ®å®é™…éœ€æ±‚é€‰æ‹©
- å®šæœŸæ£€æŸ¥æ’ä»¶çŠ¶æ€
- å‡ºç°é—®é¢˜åŠæ—¶è°ƒè¯•
```

### 6.3 å®é™…åº”ç”¨æŒ‡å¯¼


**ğŸ¯ ä¸åŒç¯å¢ƒçš„æ’ä»¶é…ç½®å»ºè®®**

**æœåŠ¡å™¨ç”Ÿäº§ç¯å¢ƒ**ï¼š
- âœ… fastestmirrorï¼šæå‡ä¸‹è½½é€Ÿåº¦
- âœ… securityï¼šåŠæ—¶å®‰è£…å®‰å…¨æ›´æ–°
- âœ… versionlockï¼šé”å®šå…³é”®ç³»ç»Ÿç»„ä»¶
- âŒ å®éªŒæ€§æ’ä»¶ï¼šé¿å…å¼•å…¥ä¸ç¨³å®šå› ç´ 

**å¼€å‘æµ‹è¯•ç¯å¢ƒ**ï¼š
- âœ… fastestmirrorï¼šåŠ é€Ÿè½¯ä»¶åŒ…ä¸‹è½½
- âœ… prioritiesï¼šç®¡ç†å¤šä¸ªè½¯ä»¶ä»“åº“
- ğŸŸ¡ å…¶ä»–æ’ä»¶ï¼šæŒ‰éœ€è¯•ç”¨

**ğŸ”§ è¿ç»´æœ€ä½³å®è·µ**
```
å®šæœŸä»»åŠ¡ï¼š
1. æ£€æŸ¥æ’ä»¶è¿è¡ŒçŠ¶æ€
2. æ¸…ç†è¿‡æœŸçš„æ’ä»¶ç¼“å­˜
3. æ›´æ–°æ’ä»¶åˆ°æœ€æ–°ç‰ˆæœ¬
4. å¤‡ä»½æ’ä»¶é…ç½®æ–‡ä»¶

é—®é¢˜å¤„ç†æµç¨‹ï¼š
1. è¯†åˆ«é—®é¢˜ç—‡çŠ¶
2. æ£€æŸ¥ç›¸å…³æ’ä»¶çŠ¶æ€
3. æŸ¥çœ‹æ—¥å¿—ä¿¡æ¯
4. é€æ­¥æ’æŸ¥åŸå› 
5. åº”ç”¨è§£å†³æ–¹æ¡ˆ
6. éªŒè¯ä¿®å¤æ•ˆæœ
```

**ğŸ’¡ è®°å¿†è¦ç‚¹**
- YUMæ’ä»¶è®©åŒ…ç®¡ç†æ›´æ™ºèƒ½ï¼Œä½†è¦åˆç†é€‰æ‹©å’Œé…ç½®
- fastestmirroræé€Ÿåº¦ï¼Œsecurityä¿å®‰å…¨ï¼Œprioritiesé˜²å†²çªï¼Œversionlocké”ç‰ˆæœ¬
- é‡åˆ°é—®é¢˜å…ˆæ£€æŸ¥æ’ä»¶ï¼Œå¾ˆå¤šYUMå¼‚å¸¸éƒ½ä¸æ’ä»¶é…ç½®æœ‰å…³
- ç”Ÿäº§ç¯å¢ƒæ’ä»¶é…ç½®è¦ä¿å®ˆï¼Œæµ‹è¯•ç¯å¢ƒå¯ä»¥å¤§èƒ†å°è¯•