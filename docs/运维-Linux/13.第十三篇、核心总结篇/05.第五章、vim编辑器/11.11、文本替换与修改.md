---
title: 11、文本替换与修改
---
## 📚 目录

1. [字符替换命令](#1-字符替换命令)
2. [替换模式详解](#2-替换模式详解)
3. [单词修改操作](#3-单词修改操作)
4. [整行修改命令](#4-整行修改命令)
5. [多单词修改技巧](#5-多单词修改技巧)
6. [大小写转换操作](#6-大小写转换操作)
7. [修改命令组合使用](#7-修改命令组合使用)
8. [核心要点总结](#8-核心要点总结)

---

## 1. 🔤 字符替换命令


### 1.1 r命令：单字符替换


**🔸 基本概念**
- `r` 命令用于替换光标位置的单个字符
- 替换后自动回到普通模式
- 不进入插入模式，效率很高

```
原文本：Hello World
光标在 'e' 位置，按 ra
结果：  Hallo World
```

**💡 使用场景**
- 🎯 修正单个字符的拼写错误
- 🎯 快速替换符号或标点
- 🎯 修改单个数字或字母

### 1.2 r命令的灵活应用


**🔹 特殊字符替换**
```
r<Space>  → 替换为空格
r<Tab>    → 替换为制表符
r<Enter>  → 替换为换行符（拆分行）
```

> 💡 **技巧提示**：`r<Enter>` 可以快速将一行拆分为两行

**🔹 常见替换示例**
| 原字符 | 按键 | 结果 | 应用场景 |
|--------|------|------|----------|
| `,` | `r.` | `.` | 修改标点符号 |
| `1` | `r2` | `2` | 修改数字 |
| `=` | `r+` | `+` | 修改运算符 |
| `(` | `r[` | `[` | 修改括号类型 |

---

## 2. 🔄 替换模式详解


### 2.1 R命令：进入替换模式


**🔸 核心概念**
- `R` 进入替换模式（Replace Mode）
- 在此模式下，输入的字符会覆盖原有字符
- 不同于插入模式的插入行为

```
原文本：Hello World
光标在 'H' 位置，按 R，然后输入 "Good"
过程：   Good World    （覆盖了 "Hell"）
```

### 2.2 替换模式 vs 插入模式


**📊 模式对比**

| 特性 | **替换模式(R)** | **插入模式(i)** |
|------|----------------|----------------|
| **行为** | `覆盖现有字符` | `在字符间插入` |
| **文本长度** | `保持相对稳定` | `增加文本长度` |
| **适用场景** | `修改固定格式文本` | `添加新内容` |

**🔹 替换模式的优势**
- ✅ 保持文本对齐格式
- ✅ 修改表格数据很方便
- ✅ 不会破坏原有排版

```
修改表格示例：
原始：  Name     Age    City
修改：  Name     Age    Country  （用R模式替换"City"为"Country"）
```

### 2.3 退出替换模式


**🔹 退出方式**
- `Esc` - 回到普通模式
- `Ctrl+C` - 强制退出到普通模式

---

## 3. ✏️ 单词修改操作


### 3.1 cw命令：修改到词尾


**🔸 基本用法**
- `cw` = change word，删除从光标到单词结尾的内容
- 删除后进入插入模式
- 适合修改单词的后半部分

```
示例操作：
原文本：programming language
光标在 'g' 位置（program|ming）
按 cw，输入 "mer"
结果：  programmer language
```

**💭 理解要点**
- `cw` 实际上是 `c` + `w` 的组合
- `c` 是修改命令，`w` 是移动到下个单词开头
- 删除范围：光标位置到单词结尾

### 3.2 ce命令：修改到词尾（精确版）


**🔸 ce vs cw的区别**
- `ce` = change end，精确到单词结尾
- `cw` 会包含单词后的空格
- `ce` 只修改单词本身

```
对比示例：
文本：  hello world
光标在 'h' 位置

使用 cw：删除 "hello "（包含空格）
使用 ce：删除 "hello"（不包含空格）
```

**🎯 选择建议**
- 修改单词内容用 `ce`
- 替换整个单词用 `cw`

### 3.3 cb命令：向前修改


**🔸 反向修改**
- `cb` = change back，删除从单词开头到光标的内容
- 光标可以在单词中间任意位置

```
示例：
原文本：programming
光标在 'm' 位置（progra|mming）
按 cb，输入 "develop"
结果：  developmming
```

---

## 4. 📝 整行修改命令


### 4.1 cc命令：修改整行


**🔸 基本操作**
- `cc` 删除整行内容，保留缩进
- 删除后进入插入模式
- 保持原有的缩进格式

```
修改前：
    if (condition == true) {
        return false;     ← 光标在此行
    }

按 cc，输入新内容：
    if (condition == true) {
        return true;      ← 保持了缩进
    }
```

**💡 智能缩进**
- `cc` 会自动保留原行的缩进级别
- 特别适合修改代码中的语句

### 4.2 C命令：修改到行尾


**🔸 部分行修改**
- `C` 删除从光标到行尾的所有内容
- 相当于 `c$` 的快捷方式

```
示例：
原行：  let message = "Hello World";
光标在 '=' 位置
按 C，输入新内容：  = "Good Morning";
结果：  let message = "Good Morning";
```

**🔹 使用场景**
- ✅ 修改变量赋值
- ✅ 修改函数参数
- ✅ 修改行尾注释

---

## 5. 🔢 多单词修改技巧


### 5.1 c数字w：修改多个单词


**🔸 基本语法**
- `c3w` 修改接下来的3个单词
- `c5w` 修改接下来的5个单词
- 数字可以是任意正整数

```
操作示例：
原文本：  The quick brown fox jumps over
光标在 'T' 位置
按 c3w，输入 "A fast"
结果：    A fast fox jumps over
```

### 5.2 灵活的数字组合


**📊 常用组合**

| 命令 | **删除范围** | **适用场景** |
|------|-------------|-------------|
| `c2w` | `2个单词` | `修改短语` |
| `c3w` | `3个单词` | `修改句子片段` |
| `c5w` | `5个单词` | `修改长句子` |

**🔹 实用技巧**
- 可以先用 `3w` 移动查看范围
- 确认范围后再用 `c3w` 修改
- 支持 `.` 命令重复操作

```
技巧演示：
1. 按 3w 查看会移动到哪里
2. 按 u 撤销移动
3. 按 c3w 进行修改
```

### 5.3 与其他移动命令组合


**🔸 灵活组合**
- `c2e` - 修改到第2个单词结尾
- `c3b` - 向前修改3个单词
- `c2W` - 修改2个大单词（空格分隔）

---

## 6. 🔠 大小写转换操作


### 6.1 ~命令：大小写切换


**🔸 基本功能**
- `~` 切换光标位置字符的大小写
- 小写变大写，大写变小写
- 操作后光标自动后移一位

```
切换示例：
原文本：  Hello World
光标在 'H'：按 ~ → hello World
光标在 'e'：按 ~ → hEllo World  
光标在 'W'：按 ~ → Hello world
```

**🔹 批量切换**
- `5~` 切换接下来5个字符的大小写
- `~` 可以用于选中的文本（可视模式）

### 6.2 gu命令：转为小写


**🔸 小写转换**
- `gu` + 移动命令，将范围内文本转为小写
- `guw` 将当前单词转为小写
- `guG` 将从当前行到文件末尾转为小写

```
小写转换示例：
原文本：  HELLO WORLD
光标在 'H'：
- guw → hello WORLD  （单词转小写）
- gu$ → hello world   （到行尾转小写）
```

**🔹 常用组合**

| 命令 | **作用范围** | **示例** |
|------|-------------|----------|
| `guw` | `当前单词` | `HELLO → hello` |
| `gu$` | `到行尾` | `HELLO WORLD → hello world` |
| `guG` | `到文件末尾` | `全文转小写` |
| `guj` | `当前行和下一行` | `两行转小写` |

### 6.3 gU命令：转为大写


**🔸 大写转换**
- `gU` + 移动命令，将范围内文本转为大写
- 用法与 `gu` 相同，但效果相反

```
大写转换示例：
原文本：  hello world
光标在 'h'：
- gUw → HELLO world  （单词转大写）
- gU$ → HELLO WORLD  （到行尾转大写）
```

**💡 实用技巧**
- 在可视模式下选中文本，然后按 `U` 或 `u` 快速转换
- 常用于修改常量名、文件名等

---

## 7. 🔗 修改命令组合使用


### 7.1 修改命令的通用格式


**🔸 命令结构**
```
修改命令 = c + 移动命令
删除范围 = 从光标位置到移动命令指定的位置
```

**📋 移动命令回顾**
- `w/e/b` - 单词移动
- `$/^` - 行首行尾
- `f/t` - 字符查找
- `)/}` - 句子段落

### 7.2 实用组合示例


**🔹 基于字符查找的修改**
```
cf'  → 修改到下个单引号
ct"  → 修改到下个双引号（不包含）
c/end → 修改到 "end" 字符串
```

**🔹 基于文本对象的修改**
```
ciw  → 修改整个单词（光标在单词内任意位置）
ci"  → 修改双引号内的内容
ci(  → 修改圆括号内的内容
```

### 7.3 高效修改工作流


**🎯 修改策略选择**

```
修改流程图：
确定修改范围
    ↓
┌─────────────────────────┐
│   单个字符？            │ → 使用 r
├─────────────────────────┤
│   单词片段？            │ → 使用 cw/ce/cb
├─────────────────────────┤  
│   整行？                │ → 使用 cc/C
├─────────────────────────┤
│   多个单词？            │ → 使用 c数字w
├─────────────────────────┤
│   大小写转换？          │ → 使用 ~/gu/gU
└─────────────────────────┘
```

**🔹 组合使用技巧**
1. **查看再修改**：先用移动命令查看范围，再执行修改
2. **重复操作**：使用 `.` 重复上一次修改
3. **撤销保护**：大范围修改前先 `:w` 保存

---

## 8. 📋 核心要点总结


### 8.1 必须掌握的基本命令


```
🔸 字符替换：r（单字符）、R（替换模式）
🔸 单词修改：cw（到词尾）、ce（精确词尾）、cb（向前）
🔸 整行修改：cc（整行）、C（到行尾）
🔸 多词修改：c数字w（多个单词）
🔸 大小写：~（切换）、gu（小写）、gU（大写）
```

### 8.2 关键理解要点


**🔹 修改命令的本质**
- 修改 = 删除 + 进入插入模式
- 所有修改命令都遵循 `c + 移动` 的模式
- 理解移动命令是掌握修改命令的基础

**🔹 效率提升技巧**
- 单字符用 `r`，避免进入插入模式
- 整行修改用 `cc`，保持缩进
- 大小写转换用专用命令，不要手动修改

**🔹 选择最佳命令**
```
修改决策树：
需要进入插入模式？
  ├─ 是 → 使用 c 系列命令
  └─ 否 → 使用 r 或大小写命令

修改范围大小？
  ├─ 单字符 → r
  ├─ 单词 → cw/ce  
  ├─ 多词 → c数字w
  └─ 整行 → cc/C
```

### 8.3 实际应用建议


**💡 最佳实践**
- 🎯 **先思考后操作**：确定修改范围再选择命令
- 🎯 **组合使用**：结合移动命令扩展修改能力
- 🎯 **重复利用**：善用 `.` 命令重复修改操作
- 🎯 **保持习惯**：常用命令要形成肌肉记忆

**🔹 常见应用场景**
- **代码编辑**：修改变量名、函数名、参数
- **文档编写**：修正拼写错误、调整格式
- **配置文件**：修改路径、参数值
- **数据处理**：批量修改相似内容

**核心记忆口诀**：
- r改一个字符快，R模式覆盖不插入
- cw改词很方便，cc整行换新颜  
- 数字组合改多词，大小写转有专门
- 修改本质删加插，移动组合威力大