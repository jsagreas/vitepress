---
title: 9ã€ç³»ç»Ÿä»£ç†å…¨å±€é…ç½®
---
## ğŸ“š ç›®å½•

1. [ç³»ç»Ÿä»£ç†é…ç½®æ¦‚è¿°](#1-ç³»ç»Ÿä»£ç†é…ç½®æ¦‚è¿°)
2. [å…¨å±€ç¯å¢ƒå˜é‡é…ç½®](#2-å…¨å±€ç¯å¢ƒå˜é‡é…ç½®)
3. [profile.dä»£ç†è„šæœ¬é…ç½®](#3-profile.dä»£ç†è„šæœ¬é…ç½®)
4. [æ¡Œé¢ç¯å¢ƒä»£ç†è®¾ç½®](#4-æ¡Œé¢ç¯å¢ƒä»£ç†è®¾ç½®)
5. [NetworkManagerä»£ç†é…ç½®](#5-networkmanagerä»£ç†é…ç½®)
6. [ç³»ç»ŸæœåŠ¡ä»£ç†é…ç½®](#6-ç³»ç»ŸæœåŠ¡ä»£ç†é…ç½®)
7. [ä»£ç†é…ç½®ç®¡ç†ç­–ç•¥](#7-ä»£ç†é…ç½®ç®¡ç†ç­–ç•¥)
8. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#8-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸŒ ç³»ç»Ÿä»£ç†é…ç½®æ¦‚è¿°


### 1.1 ä»€ä¹ˆæ˜¯ç³»ç»Ÿä»£ç†å…¨å±€é…ç½®


> ğŸ’¡ **é€šä¿—ç†è§£**  
> æƒ³è±¡ä¸€ä¸‹ï¼Œä½ å®¶é‡Œæœ‰å¾ˆå¤šè®¾å¤‡ï¼ˆç”µè„‘ã€æ‰‹æœºã€å¹³æ¿ï¼‰ï¼Œä½ æƒ³è®©å®ƒä»¬éƒ½é€šè¿‡åŒä¸€ä¸ª"ç½‘ç»œç®¡å®¶"æ¥ä¸Šç½‘ã€‚Linuxç³»ç»Ÿä»£ç†å…¨å±€é…ç½®å°±æ˜¯è¿™ä¸ª"ç½‘ç»œç®¡å®¶"çš„è®¾ç½®è§„åˆ™ï¼Œè®©æ•´ä¸ªç³»ç»Ÿçš„æ‰€æœ‰åº”ç”¨ç¨‹åºéƒ½èƒ½è‡ªåŠ¨ä½¿ç”¨ä»£ç†ã€‚

**æ ¸å¿ƒæ¦‚å¿µ**ï¼š
```
ç³»ç»Ÿä»£ç† = ç»Ÿä¸€çš„ç½‘ç»œå‡ºå£ç®¡ç†
å…¨å±€é…ç½® = æ•´ä¸ªç³»ç»ŸèŒƒå›´å†…ç”Ÿæ•ˆçš„è®¾ç½®
ç¯å¢ƒå˜é‡ = ç³»ç»Ÿè¿è¡Œæ—¶çš„é…ç½®å‚æ•°
```

**ä¸ºä»€ä¹ˆéœ€è¦å…¨å±€ä»£ç†é…ç½®ï¼Ÿ**
- **ç»Ÿä¸€ç®¡ç†**ï¼šé¿å…æ¯ä¸ªè½¯ä»¶éƒ½è¦å•ç‹¬é…ç½®ä»£ç†
- **ç®€åŒ–ç»´æŠ¤**ï¼šä¿®æ”¹ä¸€å¤„é…ç½®ï¼Œå…¨ç³»ç»Ÿç”Ÿæ•ˆ
- **æé«˜æ•ˆç‡**ï¼šæ–°å®‰è£…çš„è½¯ä»¶è‡ªåŠ¨ç»§æ‰¿ä»£ç†è®¾ç½®
- **ä¿è¯ä¸€è‡´æ€§**ï¼šç¡®ä¿æ‰€æœ‰ç½‘ç»œè®¿é—®éƒ½èµ°åŒä¸€ä»£ç†

### 1.2 Linuxä»£ç†é…ç½®çš„å±‚æ¬¡ç»“æ„


```
ç³»ç»Ÿä»£ç†é…ç½®å±‚æ¬¡ï¼š

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           ç”¨æˆ·çº§é…ç½®                â”‚ â† ~/.bashrc, ~/.profile
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚           ç³»ç»Ÿçº§é…ç½®                â”‚ â† /etc/environment, /etc/profile
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚         æ¡Œé¢ç¯å¢ƒé…ç½®                â”‚ â† GNOME, KDEè®¾ç½®
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚       ç½‘ç»œç®¡ç†å™¨é…ç½®                â”‚ â† NetworkManager
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚         æœåŠ¡çº§é…ç½®                  â”‚ â† systemdæœåŠ¡é…ç½®
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ä¼˜å…ˆçº§ï¼šç”¨æˆ·çº§ > ç³»ç»Ÿçº§ > æ¡Œé¢ç¯å¢ƒ > ç½‘ç»œç®¡ç†å™¨
```

### 1.3 ä»£ç†é…ç½®ç”Ÿæ•ˆèŒƒå›´å¯¹æ¯”


| é…ç½®æ–¹å¼ | **ç”Ÿæ•ˆèŒƒå›´** | **é…ç½®å¤æ‚åº¦** | **ç»´æŠ¤éš¾åº¦** | **é€‚ç”¨åœºæ™¯** |
|---------|-------------|---------------|-------------|-------------|
| ğŸ”¸ **ç¯å¢ƒå˜é‡** | `å…¨ç³»ç»Ÿ/ç”¨æˆ·` | `ç®€å•` | `å®¹æ˜“` | `å‘½ä»¤è¡Œå·¥å…·` |
| ğŸ”¸ **æ¡Œé¢è®¾ç½®** | `å½“å‰ç”¨æˆ·` | `ç®€å•` | `å®¹æ˜“` | `å›¾å½¢ç•Œé¢åº”ç”¨` |
| ğŸ”¸ **NetworkManager** | `ç½‘ç»œè¿æ¥` | `ä¸­ç­‰` | `ä¸­ç­‰` | `ç½‘ç»œçº§ä»£ç†` |
| ğŸ”¸ **systemdæœåŠ¡** | `ç‰¹å®šæœåŠ¡` | `å¤æ‚` | `å›°éš¾` | `ç³»ç»ŸæœåŠ¡` |

---

## 2. ğŸ“ å…¨å±€ç¯å¢ƒå˜é‡é…ç½®


### 2.1 `/etc/environment`æ–‡ä»¶è¯¦è§£


> ğŸ¯ **æ ¸å¿ƒè¦ç‚¹**  
> `/etc/environment`æ˜¯Linuxç³»ç»Ÿæœ€åŸºç¡€çš„ç¯å¢ƒå˜é‡é…ç½®æ–‡ä»¶ï¼Œå®ƒåœ¨ç³»ç»Ÿå¯åŠ¨æ—¶å°±ä¼šè¢«åŠ è½½ï¼Œå½±å“æ‰€æœ‰ç”¨æˆ·å’ŒæœåŠ¡ã€‚

**æ–‡ä»¶ç‰¹ç‚¹**ï¼š
- **å…¨å±€ç”Ÿæ•ˆ**ï¼šæ‰€æœ‰ç”¨æˆ·éƒ½ä¼šç»§æ‰¿è¿™äº›è®¾ç½®
- **æ—©æœŸåŠ è½½**ï¼šç³»ç»Ÿå¯åŠ¨æ—¶ä¼˜å…ˆåŠ è½½
- **ç®€å•æ ¼å¼**ï¼šåªèƒ½è®¾ç½®ç®€å•çš„å˜é‡èµ‹å€¼
- **æ— è„šæœ¬åŠŸèƒ½**ï¼šä¸æ”¯æŒå¤æ‚çš„shellè„šæœ¬

**é…ç½®ç¤ºä¾‹**ï¼š
```bash
# /etc/environment é…ç½®ç¤ºä¾‹
# æ³¨æ„ï¼šè¿™ä¸ªæ–‡ä»¶ä¸æ”¯æŒshellè„šæœ¬è¯­æ³•ï¼Œåªèƒ½æ˜¯ç®€å•çš„å˜é‡èµ‹å€¼

# HTTPä»£ç†è®¾ç½®
http_proxy=http://proxy.company.com:8080
HTTP_PROXY=http://proxy.company.com:8080

# HTTPSä»£ç†è®¾ç½®
https_proxy=http://proxy.company.com:8080
HTTPS_PROXY=http://proxy.company.com:8080

# FTPä»£ç†è®¾ç½®
ftp_proxy=http://proxy.company.com:8080
FTP_PROXY=http://proxy.company.com:8080

# ä¸ä½¿ç”¨ä»£ç†çš„åœ°å€åˆ—è¡¨
no_proxy=localhost,127.0.0.1,*.local,company.com
NO_PROXY=localhost,127.0.0.1,*.local,company.com
```

**é…ç½®è¦ç‚¹è¯´æ˜**ï¼š
- **å¤§å°å†™éƒ½è¦è®¾ç½®**ï¼šä¸€äº›ç¨‹åºåªè®¤è¯†å¤§å†™ï¼Œä¸€äº›åªè®¤è¯†å°å†™
- **no_proxyå¾ˆé‡è¦**ï¼šé¿å…æœ¬åœ°å’Œå†…ç½‘åœ°å€ä¹Ÿèµ°ä»£ç†
- **æ ¼å¼ä¸¥æ ¼**ï¼šæ¯è¡Œåªèƒ½æ˜¯`å˜é‡å=å€¼`çš„æ ¼å¼

### 2.2 éªŒè¯ç¯å¢ƒå˜é‡é…ç½®


**ç«‹å³ç”Ÿæ•ˆæ–¹æ³•**ï¼š
```bash
# é‡æ–°åŠ è½½ç¯å¢ƒå˜é‡ï¼ˆå½“å‰ä¼šè¯ï¼‰
source /etc/environment

# æˆ–è€…é‡å¯ç³»ç»Ÿè®©æ‰€æœ‰æœåŠ¡éƒ½ç”Ÿæ•ˆ
sudo reboot
```

**éªŒè¯é…ç½®æ˜¯å¦ç”Ÿæ•ˆ**ï¼š
```bash
# æ£€æŸ¥ä»£ç†ç¯å¢ƒå˜é‡
echo $http_proxy
echo $https_proxy
echo $no_proxy

# æµ‹è¯•ç½‘ç»œè¿æ¥ï¼ˆé€šè¿‡ä»£ç†ï¼‰
curl -I http://www.google.com

# æ£€æŸ¥æ‰€æœ‰ç¯å¢ƒå˜é‡
env | grep -i proxy
```

### 2.3 ç¯å¢ƒå˜é‡é…ç½®æœ€ä½³å®è·µ


> âš ï¸ **é‡è¦æé†’**  
> é…ç½®ä»£ç†ç¯å¢ƒå˜é‡æ—¶ï¼Œä¸€å®šè¦åŒæ—¶è®¾ç½®`no_proxy`ï¼Œå¦åˆ™æœ¬åœ°æœåŠ¡ï¼ˆå¦‚æ•°æ®åº“ã€ç¼“å­˜ç­‰ï¼‰ä¹Ÿä¼šå°è¯•é€šè¿‡ä»£ç†è¿æ¥ï¼Œå¯¼è‡´æœåŠ¡æ— æ³•æ­£å¸¸å·¥ä½œã€‚

**æ¨èçš„`no_proxy`é…ç½®**ï¼š
```bash
# å®Œæ•´çš„no_proxyé…ç½®ç¤ºä¾‹
no_proxy=localhost,127.0.0.1,::1,0.0.0.0,10.0.0.0/8,172.16.0.0/12,192.168.0.0/16,*.local,.local,company.com,*.company.com
```

**é…ç½®å«ä¹‰è§£é‡Š**ï¼š
- `localhost,127.0.0.1,::1`ï¼šæœ¬åœ°å›ç¯åœ°å€
- `10.0.0.0/8,172.16.0.0/12,192.168.0.0/16`ï¼šç§æœ‰ç½‘ç»œåœ°å€æ®µ
- `*.local,.local`ï¼šæœ¬åœ°åŸŸå
- `company.com,*.company.com`ï¼šå…¬å¸å†…ç½‘åŸŸå

---

## 3. ğŸ”§ profile.dä»£ç†è„šæœ¬é…ç½®


### 3.1 ä»€ä¹ˆæ˜¯profile.dç›®å½•


> ğŸ“– **é€šä¿—è§£é‡Š**  
> `/etc/profile.d/`ç›®å½•å°±åƒç³»ç»Ÿçš„"è‡ªåŠ¨æ‰§è¡Œè„šæœ¬åº“"ã€‚å½“ç”¨æˆ·ç™»å½•æ—¶ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨è¿è¡Œè¿™ä¸ªç›®å½•ä¸‹çš„æ‰€æœ‰è„šæœ¬ï¼Œè®¾ç½®å„ç§ç¯å¢ƒå˜é‡å’Œé…ç½®ã€‚

**profile.dçš„ä¼˜åŠ¿**ï¼š
- **æ¨¡å—åŒ–ç®¡ç†**ï¼šæ¯ä¸ªé…ç½®ç‹¬ç«‹æˆæ–‡ä»¶
- **æ”¯æŒè„šæœ¬**ï¼šå¯ä»¥å†™å¤æ‚çš„é€»è¾‘åˆ¤æ–­
- **æ˜“äºç»´æŠ¤**ï¼šæ·»åŠ åˆ é™¤é…ç½®å¾ˆæ–¹ä¾¿
- **æ¡ä»¶æ‰§è¡Œ**ï¼šå¯ä»¥æ ¹æ®æ¡ä»¶å†³å®šæ˜¯å¦å¯ç”¨ä»£ç†

### 3.2 åˆ›å»ºä»£ç†é…ç½®è„šæœ¬


**åˆ›å»ºè„šæœ¬æ–‡ä»¶**ï¼š
```bash
# åˆ›å»ºä»£ç†é…ç½®è„šæœ¬
sudo nano /etc/profile.d/proxy.sh
```

**æ™ºèƒ½ä»£ç†è„šæœ¬ç¤ºä¾‹**ï¼š
```bash
#!/bin/bash
# /etc/profile.d/proxy.sh
# æ™ºèƒ½ä»£ç†é…ç½®è„šæœ¬

# æ£€æŸ¥æ˜¯å¦åœ¨å…¬å¸ç½‘ç»œç¯å¢ƒä¸­
check_company_network() {
    # é€šè¿‡pingå…¬å¸å†…ç½‘DNSæˆ–ç‰¹å®šæœåŠ¡å™¨æ¥åˆ¤æ–­
    ping -c1 -W1 company-dns.local >/dev/null 2>&1
    return $?
}

# æ£€æŸ¥ä»£ç†æœåŠ¡å™¨æ˜¯å¦å¯è¾¾
check_proxy_available() {
    local proxy_host="proxy.company.com"
    local proxy_port="8080"
    nc -z -w3 "$proxy_host" "$proxy_port" >/dev/null 2>&1
    return $?
}

# è®¾ç½®ä»£ç†å‡½æ•°
set_proxy() {
    local proxy_url="http://proxy.company.com:8080"
    
    export http_proxy="$proxy_url"
    export HTTP_PROXY="$proxy_url"
    export https_proxy="$proxy_url"
    export HTTPS_PROXY="$proxy_url"
    export ftp_proxy="$proxy_url"
    export FTP_PROXY="$proxy_url"
    
    export no_proxy="localhost,127.0.0.1,::1,10.0.0.0/8,172.16.0.0/12,192.168.0.0/16,*.local,company.com"
    export NO_PROXY="$no_proxy"
    
    echo "ä»£ç†å·²å¯ç”¨: $proxy_url"
}

# æ¸…é™¤ä»£ç†å‡½æ•°
unset_proxy() {
    unset http_proxy HTTP_PROXY
    unset https_proxy HTTPS_PROXY
    unset ftp_proxy FTP_PROXY
    unset no_proxy NO_PROXY
    
    echo "ä»£ç†å·²å…³é—­"
}

# ä¸»é€»è¾‘ï¼šæ ¹æ®ç½‘ç»œç¯å¢ƒè‡ªåŠ¨è®¾ç½®
if check_company_network && check_proxy_available; then
    set_proxy
else
    # å¯é€‰ï¼šåœ¨å®¶é‡Œæˆ–å…¶ä»–ç½‘ç»œç¯å¢ƒæ—¶å–æ¶ˆä»£ç†
    unset_proxy
fi

# æä¾›æ‰‹åŠ¨æ§åˆ¶å‡½æ•°
proxy_on() { set_proxy; }
proxy_off() { unset_proxy; }
proxy_status() {
    if [ -n "$http_proxy" ]; then
        echo "ä»£ç†çŠ¶æ€: å·²å¯ç”¨ ($http_proxy)"
    else
        echo "ä»£ç†çŠ¶æ€: å·²å…³é—­"
    fi
}
```

### 3.3 è„šæœ¬é…ç½®è¯¦è§£


**è®©è„šæœ¬å¯æ‰§è¡Œ**ï¼š
```bash
# è®¾ç½®æ‰§è¡Œæƒé™
sudo chmod +x /etc/profile.d/proxy.sh

# ç«‹å³ç”Ÿæ•ˆï¼ˆå½“å‰ä¼šè¯ï¼‰
source /etc/profile.d/proxy.sh

# æŸ¥çœ‹ä»£ç†çŠ¶æ€
proxy_status
```

**è„šæœ¬åŠŸèƒ½è¯´æ˜**ï¼š
- **æ™ºèƒ½åˆ¤æ–­**ï¼šè‡ªåŠ¨æ£€æµ‹æ˜¯å¦éœ€è¦ä»£ç†
- **å¯ç”¨æ€§æ£€æŸ¥**ï¼šéªŒè¯ä»£ç†æœåŠ¡å™¨æ˜¯å¦æ­£å¸¸
- **æ‰‹åŠ¨æ§åˆ¶**ï¼šæä¾›`proxy_on/proxy_off`å‘½ä»¤
- **çŠ¶æ€æŸ¥çœ‹**ï¼š`proxy_status`å‘½ä»¤æŸ¥çœ‹å½“å‰çŠ¶æ€

> ğŸ’¡ **å­¦ä¹ æç¤º**  
> è¿™ç§è„šæœ¬æ–¹å¼ç‰¹åˆ«é€‚åˆç¬”è®°æœ¬ç”µè„‘ç”¨æˆ·ï¼Œå› ä¸ºå®ƒå¯ä»¥æ ¹æ®ç½‘ç»œç¯å¢ƒè‡ªåŠ¨åˆ‡æ¢ä»£ç†è®¾ç½®ï¼Œåœ¨å…¬å¸ç”¨ä»£ç†ï¼Œåœ¨å®¶é‡Œä¸ç”¨ä»£ç†ã€‚

---

## 4. ğŸ–¥ï¸ æ¡Œé¢ç¯å¢ƒä»£ç†è®¾ç½®


### 4.1 GNOMEæ¡Œé¢ä»£ç†é…ç½®


> ğŸ¯ **ä½¿ç”¨åœºæ™¯**  
> å¦‚æœä½ ä¸»è¦ä½¿ç”¨Firefoxã€Chromeç­‰å›¾å½¢ç•Œé¢åº”ç”¨ç¨‹åºï¼Œæ¡Œé¢ç¯å¢ƒçš„ä»£ç†è®¾ç½®æ˜¯æœ€ç›´è§‚çš„é…ç½®æ–¹æ³•ã€‚

**é€šè¿‡è®¾ç½®é¢æ¿é…ç½®**ï¼š
```
GNOMEè®¾ç½®è·¯å¾„ï¼š
è®¾ç½® â†’ ç½‘ç»œ â†’ ä»£ç†

é…ç½®é€‰é¡¹ï¼š
â”œâ”€â”€ å…³é—­
â”œâ”€â”€ æ‰‹åŠ¨
â”œâ”€â”€ è‡ªåŠ¨
â””â”€â”€ ä½¿ç”¨ç¯å¢ƒå˜é‡
```

**å‘½ä»¤è¡Œé…ç½®GNOMEä»£ç†**ï¼š
```bash
# è®¾ç½®ä¸ºæ‰‹åŠ¨ä»£ç†æ¨¡å¼
gsettings set org.gnome.system.proxy mode 'manual'

# é…ç½®HTTPä»£ç†
gsettings set org.gnome.system.proxy.http host 'proxy.company.com'
gsettings set org.gnome.system.proxy.http port 8080

# é…ç½®HTTPSä»£ç†
gsettings set org.gnome.system.proxy.https host 'proxy.company.com'
gsettings set org.gnome.system.proxy.https port 8080

# é…ç½®ä¸ä½¿ç”¨ä»£ç†çš„åœ°å€
gsettings set org.gnome.system.proxy ignore-hosts "['localhost', '127.0.0.0/8', '::1', '10.0.0.0/8', '172.16.0.0/12', '192.168.0.0/16']"

# æŸ¥çœ‹å½“å‰é…ç½®
gsettings list-recursively org.gnome.system.proxy
```

### 4.2 KDEæ¡Œé¢ä»£ç†é…ç½®


**KDEç³»ç»Ÿè®¾ç½®è·¯å¾„**ï¼š
```
KDEè®¾ç½®è·¯å¾„ï¼š
ç³»ç»Ÿè®¾ç½® â†’ è¿æ¥ â†’ ä»£ç†

é…ç½®æ–¹å¼ï¼š
â”œâ”€â”€ ç›´æ¥è¿æ¥
â”œâ”€â”€ æ‰‹åŠ¨æŒ‡å®šä»£ç†
â”œâ”€â”€ è‡ªåŠ¨æ£€æµ‹ä»£ç†é…ç½®
â””â”€â”€ ä½¿ç”¨é¢„å®šä¹‰è„šæœ¬
```

**å‘½ä»¤è¡Œé…ç½®KDEä»£ç†**ï¼š
```bash
# KDEä»£ç†é…ç½®æ–‡ä»¶ä½ç½®
~/.config/kioslaverc

# ç¤ºä¾‹é…ç½®å†…å®¹ï¼š
[Proxy Settings]
ProxyType=1
httpProxy=proxy.company.com:8080
httpsProxy=proxy.company.com:8080
NoProxyFor=localhost,127.0.0.1,::1
```

### 4.3 æ¡Œé¢ç¯å¢ƒä»£ç†çš„ä¼˜ç¼ºç‚¹


| æ–¹é¢ | **ä¼˜ç‚¹** | **ç¼ºç‚¹** |
|-----|---------|---------|
| ğŸ¨ **æ˜“ç”¨æ€§** | `å›¾å½¢ç•Œé¢ç›´è§‚æ˜“æ‡‚` | `åªå½±å“æ¡Œé¢åº”ç”¨` |
| ğŸ”§ **åŠŸèƒ½æ€§** | `æ”¯æŒä¸åŒåè®®ä»£ç†` | `å‘½ä»¤è¡Œå·¥å…·å¯èƒ½ä¸ç”Ÿæ•ˆ` |
| âš™ï¸ **ç»´æŠ¤æ€§** | `ä¿®æ”¹æ–¹ä¾¿ï¼Œç«‹å³ç”Ÿæ•ˆ` | `ç”¨æˆ·åˆ‡æ¢æ—¶éœ€é‡æ–°é…ç½®` |
| ğŸ”„ **å…¼å®¹æ€§** | `ä¸æ¡Œé¢åº”ç”¨é›†æˆå¥½` | `æœåŠ¡å™¨ç¯å¢ƒä¸é€‚ç”¨` |

---

## 5. ğŸŒ NetworkManagerä»£ç†é…ç½®


### 5.1 NetworkManagerä»£ç†æ¦‚å¿µ


> ğŸ“š **æ¦‚å¿µè§£é‡Š**  
> NetworkManageræ˜¯Linuxç³»ç»Ÿçš„ç½‘ç»œç®¡ç†æœåŠ¡ï¼Œå®ƒä¸ä»…ç®¡ç†ç½‘ç»œè¿æ¥ï¼Œè¿˜å¯ä»¥ä¸ºç‰¹å®šçš„ç½‘ç»œè¿æ¥è®¾ç½®ä»£ç†ã€‚è¿™æ„å‘³ç€ä½ å¯ä»¥ä¸ºä¸åŒçš„WiFiç½‘ç»œè®¾ç½®ä¸åŒçš„ä»£ç†é…ç½®ã€‚

**NetworkManagerä»£ç†çš„ç‰¹ç‚¹**ï¼š
- **æŒ‰è¿æ¥è®¾ç½®**ï¼šä¸åŒç½‘ç»œè¿æ¥å¯ä»¥æœ‰ä¸åŒä»£ç†
- **è‡ªåŠ¨åˆ‡æ¢**ï¼šè¿æ¥ç½‘ç»œæ—¶è‡ªåŠ¨åº”ç”¨å¯¹åº”çš„ä»£ç†
- **ç³»ç»Ÿçº§ç”Ÿæ•ˆ**ï¼šå½±å“æ‰€æœ‰éµå¾ªç³»ç»Ÿä»£ç†è®¾ç½®çš„åº”ç”¨
- **æŒä¹…åŒ–å­˜å‚¨**ï¼šé…ç½®æ°¸ä¹…ä¿å­˜

### 5.2 nmcliå‘½ä»¤è¡Œé…ç½®


**æŸ¥çœ‹å½“å‰ç½‘ç»œè¿æ¥**ï¼š
```bash
# åˆ—å‡ºæ‰€æœ‰ç½‘ç»œè¿æ¥
nmcli connection show

# æŸ¥çœ‹æ´»åŠ¨è¿æ¥
nmcli connection show --active

# æŸ¥çœ‹ç‰¹å®šè¿æ¥çš„è¯¦ç»†ä¿¡æ¯
nmcli connection show "è¿æ¥åç§°"
```

**ä¸ºç½‘ç»œè¿æ¥è®¾ç½®ä»£ç†**ï¼š
```bash
# è®¾ç½®HTTPä»£ç†
nmcli connection modify "WiFiè¿æ¥å" proxy.method manual
nmcli connection modify "WiFiè¿æ¥å" proxy.http-server proxy.company.com
nmcli connection modify "WiFiè¿æ¥å" proxy.http-port 8080

# è®¾ç½®HTTPSä»£ç†
nmcli connection modify "WiFiè¿æ¥å" proxy.https-server proxy.company.com
nmcli connection modify "WiFiè¿æ¥å" proxy.https-port 8080

# è®¾ç½®ä¸ä½¿ç”¨ä»£ç†çš„åœ°å€
nmcli connection modify "WiFiè¿æ¥å" proxy.no-proxy "localhost,127.0.0.1,company.com"

# é‡æ–°æ¿€æ´»è¿æ¥ä½¿é…ç½®ç”Ÿæ•ˆ
nmcli connection down "WiFiè¿æ¥å"
nmcli connection up "WiFiè¿æ¥å"
```

### 5.3 NetworkManageré…ç½®æ–‡ä»¶


**é…ç½®æ–‡ä»¶ä½ç½®**ï¼š
```bash
# NetworkManagerè¿æ¥é…ç½®æ–‡ä»¶ä½ç½®
/etc/NetworkManager/system-connections/
```

**æ‰‹åŠ¨ç¼–è¾‘é…ç½®æ–‡ä»¶ç¤ºä¾‹**ï¼š
```ini
# /etc/NetworkManager/system-connections/å…¬å¸WiFi.nmconnection
[connection]
id=å…¬å¸WiFi
type=wifi
permissions=user:username:;

[wifi]
ssid=CompanyWiFi

[proxy]
method=2
http-server=proxy.company.com
http-port=8080
https-server=proxy.company.com
https-port=8080
no-proxy=localhost,127.0.0.1,*.local,company.com
```

> âš ï¸ **æ³¨æ„äº‹é¡¹**  
> ç›´æ¥ç¼–è¾‘NetworkManageré…ç½®æ–‡ä»¶åï¼Œéœ€è¦é‡å¯NetworkManageræœåŠ¡ï¼š`sudo systemctl restart NetworkManager`

### 5.4 å®é™…åº”ç”¨åœºæ™¯ç¤ºä¾‹


**åœºæ™¯ï¼šç¬”è®°æœ¬åœ¨ä¸åŒç½‘ç»œç¯å¢ƒè‡ªåŠ¨åˆ‡æ¢ä»£ç†**

```
ç½‘ç»œç¯å¢ƒé…ç½®ç­–ç•¥ï¼š

å…¬å¸WiFiï¼ˆCompanyWiFiï¼‰ï¼š
â”œâ”€â”€ HTTPä»£ç†ï¼šproxy.company.com:8080
â”œâ”€â”€ HTTPSä»£ç†ï¼šproxy.company.com:8080
â””â”€â”€ ä¸ä»£ç†ï¼šlocalhost,*.company.com

å®¶åº­WiFiï¼ˆHomeWiFiï¼‰ï¼š
â”œâ”€â”€ ä»£ç†æ–¹æ³•ï¼šnoneï¼ˆç›´è¿ï¼‰
â””â”€â”€ æ— éœ€ä»£ç†é…ç½®

ç§»åŠ¨çƒ­ç‚¹ï¼ˆMobileHotspotï¼‰ï¼š
â”œâ”€â”€ ä»£ç†æ–¹æ³•ï¼šnoneï¼ˆç›´è¿ï¼‰
â””â”€â”€ èŠ‚çœæµé‡ï¼Œç›´æ¥è¿æ¥
```

---

## 6. ğŸ› ï¸ ç³»ç»ŸæœåŠ¡ä»£ç†é…ç½®


### 6.1 systemdæœåŠ¡ä»£ç†è®¾ç½®


> ğŸ”§ **æ ¸å¿ƒæ¦‚å¿µ**  
> ç³»ç»ŸæœåŠ¡ï¼ˆå¦‚Dockerã€APTã€Gitç­‰ï¼‰é€šå¸¸ä»¥rootæƒé™è¿è¡Œï¼Œå®ƒä»¬å¯èƒ½ä¸ä¼šç»§æ‰¿ç”¨æˆ·çš„ç¯å¢ƒå˜é‡è®¾ç½®ã€‚å› æ­¤éœ€è¦ä¸“é—¨ä¸ºè¿™äº›æœåŠ¡é…ç½®ä»£ç†ã€‚

**systemdæœåŠ¡ä»£ç†é…ç½®æ–¹æ³•**ï¼š

**æ–¹æ³•ä¸€ï¼šé€šè¿‡serviceæ–‡ä»¶é…ç½®**
```bash
# ä¸ºç‰¹å®šæœåŠ¡è®¾ç½®ä»£ç†
sudo systemctl edit docker.service

# åœ¨æ‰“å¼€çš„ç¼–è¾‘å™¨ä¸­æ·»åŠ ï¼š
[Service]
Environment="HTTP_PROXY=http://proxy.company.com:8080"
Environment="HTTPS_PROXY=http://proxy.company.com:8080"
Environment="NO_PROXY=localhost,127.0.0.1,docker-registry.company.com"
```

**æ–¹æ³•äºŒï¼šå…¨å±€systemdç¯å¢ƒé…ç½®**
```bash
# åˆ›å»ºsystemdç¯å¢ƒé…ç½®ç›®å½•
sudo mkdir -p /etc/systemd/system.conf.d

# åˆ›å»ºä»£ç†é…ç½®æ–‡ä»¶
sudo nano /etc/systemd/system.conf.d/proxy.conf
```

**å…¨å±€systemdä»£ç†é…ç½®å†…å®¹**ï¼š
```ini
# /etc/systemd/system.conf.d/proxy.conf
[Manager]
DefaultEnvironment="HTTP_PROXY=http://proxy.company.com:8080"
DefaultEnvironment="HTTPS_PROXY=http://proxy.company.com:8080"
DefaultEnvironment="NO_PROXY=localhost,127.0.0.1,*.local,company.com"
```

### 6.2 cronä»»åŠ¡ä»£ç†ç¯å¢ƒ


**cronä»»åŠ¡çš„ä»£ç†è®¾ç½®ç‰¹ç‚¹**ï¼š
- **ç‹¬ç«‹ç¯å¢ƒ**ï¼šcronä»»åŠ¡è¿è¡Œåœ¨æœ€å°åŒ–çš„ç¯å¢ƒä¸­
- **ä¸ç»§æ‰¿ç”¨æˆ·ç¯å¢ƒ**ï¼šéœ€è¦æ˜ç¡®è®¾ç½®ç¯å¢ƒå˜é‡
- **å½±å“è‡ªåŠ¨åŒ–ä»»åŠ¡**ï¼šå¤‡ä»½ã€æ›´æ–°ç­‰ä»»åŠ¡å¯èƒ½éœ€è¦ç½‘ç»œè®¿é—®

**é…ç½®cronä»»åŠ¡ä»£ç†**ï¼š
```bash
# ç¼–è¾‘ç³»ç»Ÿcrontab
sudo nano /etc/crontab

# åœ¨æ–‡ä»¶å¼€å¤´æ·»åŠ ä»£ç†ç¯å¢ƒå˜é‡
HTTP_PROXY=http://proxy.company.com:8080
HTTPS_PROXY=http://proxy.company.com:8080
NO_PROXY=localhost,127.0.0.1,company.com

# æˆ–è€…åœ¨å…·ä½“ä»»åŠ¡ä¸­è®¾ç½®
0 2 * * * root HTTP_PROXY=http://proxy.company.com:8080 /usr/bin/apt update
```

**ç”¨æˆ·crontabä»£ç†é…ç½®**ï¼š
```bash
# ç¼–è¾‘ç”¨æˆ·crontab
crontab -e

# æ·»åŠ ç¯å¢ƒå˜é‡
HTTP_PROXY=http://proxy.company.com:8080
HTTPS_PROXY=http://proxy.company.com:8080

# å®šæ—¶ä»»åŠ¡
0 9 * * * /home/user/scripts/backup.sh
```

### 6.3 ç‰¹å®šæœåŠ¡ä»£ç†é…ç½®ç¤ºä¾‹


**DockeræœåŠ¡ä»£ç†é…ç½®**ï¼š
```bash
# åˆ›å»ºDockeræœåŠ¡é…ç½®ç›®å½•
sudo mkdir -p /etc/systemd/system/docker.service.d

# åˆ›å»ºä»£ç†é…ç½®æ–‡ä»¶
sudo nano /etc/systemd/system/docker.service.d/proxy.conf
```

```ini
# Dockerä»£ç†é…ç½®
[Service]
Environment="HTTP_PROXY=http://proxy.company.com:8080"
Environment="HTTPS_PROXY=http://proxy.company.com:8080"
Environment="NO_PROXY=localhost,127.0.0.1,docker.io,*.docker.io,*.docker.com"
```

**APTåŒ…ç®¡ç†å™¨ä»£ç†é…ç½®**ï¼š
```bash
# åˆ›å»ºAPTä»£ç†é…ç½®
sudo nano /etc/apt/apt.conf.d/95proxies
```

```
# APTä»£ç†è®¾ç½®
Acquire::http::Proxy "http://proxy.company.com:8080";
Acquire::https::Proxy "http://proxy.company.com:8080";
Acquire::ftp::Proxy "http://proxy.company.com:8080";
```

---

## 7. ğŸ“‹ ä»£ç†é…ç½®ç®¡ç†ç­–ç•¥


### 7.1 ä»£ç†é…ç½®ä¼˜å…ˆçº§ç®¡ç†


> ğŸ’¡ **ç®¡ç†å“²å­¦**  
> ä¸€ä¸ªå¥½çš„ä»£ç†é…ç½®ç­–ç•¥åº”è¯¥æ˜¯"åˆ†å±‚ç®¡ç†ï¼Œç»Ÿä¸€ç»´æŠ¤"ã€‚ä¸åŒå±‚æ¬¡çš„é…ç½®å„å¸å…¶èŒï¼Œé¿å…å†²çªå’Œæ··ä¹±ã€‚

**æ¨èçš„é…ç½®å±‚æ¬¡ç­–ç•¥**ï¼š

```
ä»£ç†é…ç½®ç®¡ç†å±‚æ¬¡ï¼š

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    åº”ç”¨çº§é…ç½®ï¼ˆç‰¹æ®Šéœ€æ±‚ï¼‰             â”‚ â† æœ€é«˜ä¼˜å…ˆçº§
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    ç”¨æˆ·çº§ç¯å¢ƒå˜é‡ï¼ˆä¸ªäººå®šåˆ¶ï¼‰          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    æ¡Œé¢ç¯å¢ƒè®¾ç½®ï¼ˆå›¾å½¢åº”ç”¨ï¼‰           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    NetworkManagerï¼ˆç½‘ç»œè‡ªåŠ¨åˆ‡æ¢ï¼‰     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    ç³»ç»Ÿçº§ç¯å¢ƒå˜é‡ï¼ˆå…¨å±€åŸºç¡€ï¼‰          â”‚ â† æœ€ä½ä¼˜å…ˆçº§
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 7.2 ç»Ÿä¸€é…ç½®ç®¡ç†è„šæœ¬


**åˆ›å»ºä»£ç†ç®¡ç†å·¥å…·**ï¼š
```bash
# åˆ›å»ºä»£ç†ç®¡ç†è„šæœ¬
sudo nano /usr/local/bin/proxy-manager
```

**ä»£ç†ç®¡ç†è„šæœ¬å†…å®¹**ï¼š
```bash
#!/bin/bash
# ç³»ç»Ÿä»£ç†ç»Ÿä¸€ç®¡ç†å·¥å…·

PROXY_CONFIG_DIR="/etc/proxy-config"
PROXY_HOST="proxy.company.com"
PROXY_PORT="8080"
PROXY_URL="http://$PROXY_HOST:$PROXY_PORT"

# åˆ›å»ºé…ç½®ç›®å½•
ensure_config_dir() {
    sudo mkdir -p "$PROXY_CONFIG_DIR"
}

# æ£€æŸ¥ä»£ç†å¯ç”¨æ€§
check_proxy() {
    echo "æ£€æŸ¥ä»£ç†æœåŠ¡å™¨å¯ç”¨æ€§..."
    if nc -z -w3 "$PROXY_HOST" "$PROXY_PORT" 2>/dev/null; then
        echo "âœ“ ä»£ç†æœåŠ¡å™¨å¯ç”¨"
        return 0
    else
        echo "âœ— ä»£ç†æœåŠ¡å™¨ä¸å¯ç”¨"
        return 1
    fi
}

# å¯ç”¨ç³»ç»Ÿä»£ç†
enable_proxy() {
    echo "å¯ç”¨ç³»ç»Ÿä»£ç†..."
    
    # æ›´æ–°/etc/environment
    sudo tee /etc/environment > /dev/null << EOF
http_proxy=$PROXY_URL
HTTP_PROXY=$PROXY_URL
https_proxy=$PROXY_URL
HTTPS_PROXY=$PROXY_URL
ftp_proxy=$PROXY_URL
FTP_PROXY=$PROXY_URL
no_proxy=localhost,127.0.0.1,::1,10.0.0.0/8,172.16.0.0/12,192.168.0.0/16,*.local,company.com
NO_PROXY=localhost,127.0.0.1,::1,10.0.0.0/8,172.16.0.0/12,192.168.0.0/16,*.local,company.com
EOF
    
    # æ›´æ–°APTé…ç½®
    sudo tee /etc/apt/apt.conf.d/95proxies > /dev/null << EOF
Acquire::http::Proxy "$PROXY_URL";
Acquire::https::Proxy "$PROXY_URL";
EOF
    
    # è®¾ç½®Gitä»£ç†
    git config --global http.proxy "$PROXY_URL"
    git config --global https.proxy "$PROXY_URL"
    
    echo "âœ“ ç³»ç»Ÿä»£ç†å·²å¯ç”¨"
}

# ç¦ç”¨ç³»ç»Ÿä»£ç†
disable_proxy() {
    echo "ç¦ç”¨ç³»ç»Ÿä»£ç†..."
    
    # æ¸…ç©º/etc/environment
    sudo tee /etc/environment > /dev/null << EOF
# ä»£ç†å·²ç¦ç”¨
EOF
    
    # åˆ é™¤APTä»£ç†é…ç½®
    sudo rm -f /etc/apt/apt.conf.d/95proxies
    
    # å–æ¶ˆGitä»£ç†
    git config --global --unset http.proxy
    git config --global --unset https.proxy
    
    echo "âœ“ ç³»ç»Ÿä»£ç†å·²ç¦ç”¨"
}

# æ˜¾ç¤ºä»£ç†çŠ¶æ€
show_status() {
    echo "=== ç³»ç»Ÿä»£ç†çŠ¶æ€ ==="
    echo "ç¯å¢ƒå˜é‡ï¼š"
    echo "  HTTP_PROXY: ${HTTP_PROXY:-æœªè®¾ç½®}"
    echo "  HTTPS_PROXY: ${HTTPS_PROXY:-æœªè®¾ç½®}"
    echo ""
    echo "Gité…ç½®ï¼š"
    echo "  HTTPä»£ç†: $(git config --global http.proxy 2>/dev/null || echo 'æœªè®¾ç½®')"
    echo "  HTTPSä»£ç†: $(git config --global https.proxy 2>/dev/null || echo 'æœªè®¾ç½®')"
    echo ""
    echo "APTé…ç½®ï¼š"
    if [ -f /etc/apt/apt.conf.d/95proxies ]; then
        echo "  å·²é…ç½®ä»£ç†"
    else
        echo "  æœªé…ç½®ä»£ç†"
    fi
}

# ä¸»èœå•
case "$1" in
    "on"|"enable")
        if check_proxy; then
            enable_proxy
        else
            echo "ä»£ç†æœåŠ¡å™¨ä¸å¯ç”¨ï¼Œå–æ¶ˆæ“ä½œ"
            exit 1
        fi
        ;;
    "off"|"disable")
        disable_proxy
        ;;
    "status"|"show")
        show_status
        ;;
    "check")
        check_proxy
        ;;
    *)
        echo "ç”¨æ³•: $0 {on|off|status|check}"
        echo "  on/enable  - å¯ç”¨ç³»ç»Ÿä»£ç†"
        echo "  off/disable - ç¦ç”¨ç³»ç»Ÿä»£ç†"
        echo "  status/show - æ˜¾ç¤ºä»£ç†çŠ¶æ€"
        echo "  check      - æ£€æŸ¥ä»£ç†å¯ç”¨æ€§"
        exit 1
        ;;
esac
```

**å®‰è£…å’Œä½¿ç”¨ç®¡ç†å·¥å…·**ï¼š
```bash
# è®¾ç½®æ‰§è¡Œæƒé™
sudo chmod +x /usr/local/bin/proxy-manager

# ä½¿ç”¨ç¤ºä¾‹
proxy-manager on      # å¯ç”¨ä»£ç†
proxy-manager off     # ç¦ç”¨ä»£ç†
proxy-manager status  # æŸ¥çœ‹çŠ¶æ€
proxy-manager check   # æ£€æŸ¥ä»£ç†å¯ç”¨æ€§
```

### 7.3 è‡ªåŠ¨åŒ–é…ç½®éƒ¨ç½²


**æ‰¹é‡éƒ¨ç½²è„šæœ¬**ï¼š
```bash
#!/bin/bash
# é€‚ç”¨äºå¤šå°æœåŠ¡å™¨çš„ä»£ç†é…ç½®éƒ¨ç½²

SERVERS=(
    "server1.company.com"
    "server2.company.com"
    "server3.company.com"
)

deploy_proxy_config() {
    local server=$1
    echo "æ­£åœ¨é…ç½®æœåŠ¡å™¨: $server"
    
    # ä½¿ç”¨SSHéƒ¨ç½²é…ç½®
    ssh root@$server << 'EOF'
        # å®‰è£…ä»£ç†ç®¡ç†å·¥å…·
        wget -O /usr/local/bin/proxy-manager https://company.com/scripts/proxy-manager
        chmod +x /usr/local/bin/proxy-manager
        
        # å¯ç”¨ä»£ç†
        /usr/local/bin/proxy-manager on
EOF
    
    echo "âœ“ $server é…ç½®å®Œæˆ"
}

# æ‰¹é‡éƒ¨ç½²
for server in "${SERVERS[@]}"; do
    deploy_proxy_config "$server"
done
```

---

## 8. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 8.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒé…ç½®


> ğŸ¯ **å­¦ä¹ é‡ç‚¹**  
> Linuxç³»ç»Ÿä»£ç†é…ç½®çš„æ ¸å¿ƒæ˜¯ç†è§£ä¸åŒé…ç½®æ–¹æ³•çš„é€‚ç”¨åœºæ™¯å’Œä¼˜å…ˆçº§å…³ç³»ã€‚

```
ğŸ”¸ /etc/environmentï¼šç³»ç»Ÿçº§å…¨å±€é…ç½®ï¼Œå½±å“æ‰€æœ‰ç”¨æˆ·å’ŒæœåŠ¡
ğŸ”¸ profile.dè„šæœ¬ï¼šçµæ´»çš„è„šæœ¬åŒ–é…ç½®ï¼Œæ”¯æŒæ¡ä»¶åˆ¤æ–­
ğŸ”¸ æ¡Œé¢ç¯å¢ƒè®¾ç½®ï¼šå½±å“å›¾å½¢ç•Œé¢åº”ç”¨ï¼Œç”¨æˆ·å‹å¥½
ğŸ”¸ NetworkManagerï¼šç½‘ç»œè¿æ¥çº§é…ç½®ï¼Œæ”¯æŒè‡ªåŠ¨åˆ‡æ¢
ğŸ”¸ systemdæœåŠ¡é…ç½®ï¼šå½±å“ç³»ç»ŸæœåŠ¡ï¼Œéœ€è¦ç‰¹æ®Šè®¾ç½®
ğŸ”¸ cronä»»åŠ¡é…ç½®ï¼šå®šæ—¶ä»»åŠ¡éœ€è¦ç‹¬ç«‹çš„ç¯å¢ƒå˜é‡è®¾ç½®
```

### 8.2 é…ç½®æ–¹æ³•é€‰æ‹©æŒ‡å—


| ä½¿ç”¨åœºæ™¯ | **æ¨èæ–¹æ³•** | **é…ç½®å¤æ‚åº¦** | **ç»´æŠ¤æˆæœ¬** |
|---------|-------------|---------------|-------------|
| ğŸ–¥ï¸ **æ¡Œé¢ç”¨æˆ·æ—¥å¸¸ä½¿ç”¨** | `æ¡Œé¢ç¯å¢ƒè®¾ç½®` | `â˜…â˜†â˜†` | `â˜…â˜†â˜†` |
| ğŸ’» **å¼€å‘è€…å·¥ä½œç¯å¢ƒ** | `profile.dè„šæœ¬` | `â˜…â˜…â˜†` | `â˜…â˜…â˜†` |
| ğŸŒ **å¤šç½‘ç»œç¯å¢ƒåˆ‡æ¢** | `NetworkManager` | `â˜…â˜…â˜…` | `â˜…â˜…â˜†` |
| ğŸ–¥ï¸ **æœåŠ¡å™¨ç¯å¢ƒ** | `/etc/environment` | `â˜…â˜†â˜†` | `â˜…â˜†â˜†` |
| âš™ï¸ **ç³»ç»ŸæœåŠ¡ä»£ç†** | `systemdé…ç½®` | `â˜…â˜…â˜…` | `â˜…â˜…â˜…` |

### 8.3 å¸¸è§é—®é¢˜è§£å†³æ–¹æ¡ˆ


**é—®é¢˜1ï¼šä»£ç†é…ç½®ä¸ç”Ÿæ•ˆ**
```bash
# æ£€æŸ¥æ­¥éª¤ï¼š
1. éªŒè¯ç¯å¢ƒå˜é‡ï¼šenv | grep -i proxy
2. æ£€æŸ¥ä»£ç†æœåŠ¡å™¨å¯ç”¨æ€§ï¼šnc -z proxy.company.com 8080
3. æµ‹è¯•ç½‘ç»œè¿æ¥ï¼šcurl -v --proxy http://proxy.company.com:8080 http://google.com
4. é‡æ–°åŠ è½½é…ç½®ï¼šsource /etc/environment
```

**é—®é¢˜2ï¼šéƒ¨åˆ†åº”ç”¨ä¸èµ°ä»£ç†**
```bash
# è§£å†³æ–¹æ¡ˆï¼š
1. æ£€æŸ¥åº”ç”¨æ˜¯å¦æ”¯æŒä»£ç†ç¯å¢ƒå˜é‡
2. æŸ¥çœ‹åº”ç”¨ç‰¹å®šçš„ä»£ç†é…ç½®é€‰é¡¹
3. è€ƒè™‘ä½¿ç”¨é€æ˜ä»£ç†æˆ–iptablesé‡å®šå‘
```

**é—®é¢˜3ï¼šå†…ç½‘æœåŠ¡æ— æ³•è®¿é—®**
```bash
# æ£€æŸ¥no_proxyè®¾ç½®ï¼š
echo $no_proxy
# ç¡®ä¿åŒ…å«å†…ç½‘åœ°å€æ®µï¼š
no_proxy=localhost,127.0.0.1,10.0.0.0/8,172.16.0.0/12,192.168.0.0/16,*.company.com
```

### 8.4 æœ€ä½³å®è·µæ€»ç»“


> ğŸ’¡ **å®è·µå»ºè®®**  
> é€‰æ‹©é€‚åˆè‡ªå·±ç¯å¢ƒçš„é…ç½®æ–¹æ³•ï¼Œé¿å…å¤šç§æ–¹æ³•æ··ç”¨å¯¼è‡´å†²çªã€‚å»ºè®®ä¼˜å…ˆä½¿ç”¨ç»Ÿä¸€çš„ç®¡ç†å·¥å…·æ¥ç»´æŠ¤ä»£ç†é…ç½®ã€‚

**æ¨èçš„é…ç½®ç­–ç•¥**ï¼š
1. **ç»Ÿä¸€å…¥å£**ï¼šä½¿ç”¨ä»£ç†ç®¡ç†è„šæœ¬ç»Ÿä¸€ç®¡ç†
2. **åˆ†å±‚é…ç½®**ï¼šæ ¹æ®éœ€è¦åœ¨ä¸åŒå±‚æ¬¡è®¾ç½®ä»£ç†
3. **è‡ªåŠ¨æ£€æµ‹**ï¼šä»£ç†å¯ç”¨æ€§æ£€æµ‹å’Œè‡ªåŠ¨åˆ‡æ¢
4. **æ–‡æ¡£è®°å½•**ï¼šè¯¦ç»†è®°å½•é…ç½®å˜æ›´å’ŒåŸå› 
5. **å®šæœŸæ£€æŸ¥**ï¼šå®šæœŸéªŒè¯ä»£ç†é…ç½®çš„æœ‰æ•ˆæ€§

**æ ¸å¿ƒè®°å¿†å£è¯€**ï¼š
- å…¨å±€é…ç½®ç”¨environmentï¼Œè„šæœ¬çµæ´»ç”¨profile.d
- æ¡Œé¢è®¾ç½®ç®¡å›¾å½¢ï¼Œç½‘ç»œåˆ‡æ¢ç”¨NetworkManager
- æœåŠ¡ä»£ç†éœ€systemdï¼Œå®šæ—¶ä»»åŠ¡é…cronå˜é‡
- åˆ†å±‚ç®¡ç†é¿å†²çªï¼Œç»Ÿä¸€å·¥å…·å¥½ç»´æŠ¤