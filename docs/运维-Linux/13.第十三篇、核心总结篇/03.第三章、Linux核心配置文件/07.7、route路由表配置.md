---
title: 7ã€routeè·¯ç”±è¡¨é…ç½®
---
## ğŸ“š ç›®å½•

1. [è·¯ç”±åŸºæœ¬æ¦‚å¿µä¸ä½œç”¨](#1-è·¯ç”±åŸºæœ¬æ¦‚å¿µä¸ä½œç”¨)
2. [é™æ€è·¯ç”±é…ç½®æ–‡ä»¶è¯¦è§£](#2-é™æ€è·¯ç”±é…ç½®æ–‡ä»¶è¯¦è§£)
3. [è·¯ç”±é…ç½®è¯­æ³•æ ¼å¼](#3-è·¯ç”±é…ç½®è¯­æ³•æ ¼å¼)
4. [é»˜è®¤è·¯ç”±ä¸ç‰¹å®šè·¯ç”±é…ç½®](#4-é»˜è®¤è·¯ç”±ä¸ç‰¹å®šè·¯ç”±é…ç½®)
5. [è·¯ç”±ä¼˜å…ˆçº§ä¸åº¦é‡å€¼](#5-è·¯ç”±ä¼˜å…ˆçº§ä¸åº¦é‡å€¼)
6. [å¤šç½‘å¡ç¯å¢ƒè·¯ç”±é…ç½®](#6-å¤šç½‘å¡ç¯å¢ƒè·¯ç”±é…ç½®)
7. [è·¯ç”±é…ç½®æ•…éšœæ’æŸ¥](#7-è·¯ç”±é…ç½®æ•…éšœæ’æŸ¥)
8. [è·¯ç”±è¡¨æŸ¥çœ‹ä¸éªŒè¯](#8-è·¯ç”±è¡¨æŸ¥çœ‹ä¸éªŒè¯)
9. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#9-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸŒ è·¯ç”±åŸºæœ¬æ¦‚å¿µä¸ä½œç”¨


### 1.1 ä»€ä¹ˆæ˜¯è·¯ç”±

è·¯ç”±å°±åƒæ˜¯**ç½‘ç»œä¸–ç•Œçš„äº¤é€šæŒ‡ç¤ºç‰Œ**ï¼Œå‘Šè¯‰æ•°æ®åŒ…è¯¥èµ°å“ªæ¡è·¯å¾„æ‰èƒ½åˆ°è¾¾ç›®çš„åœ°ã€‚

```
ç®€å•ç†è§£ï¼š
ä½ å®¶ â†’ å…¬å¸ï¼šå¯ä»¥èµ°å¤šæ¡è·¯çº¿
æ•°æ®åŒ…ä¼ è¾“ï¼šä¹Ÿéœ€è¦é€‰æ‹©åˆé€‚çš„ç½‘ç»œè·¯å¾„

è·¯ç”±çš„ä½œç”¨ï¼š
ğŸ“ æŒ‡å®šæ•°æ®åŒ…çš„ä¼ è¾“è·¯å¾„
ğŸ“ è¿æ¥ä¸åŒç½‘æ®µçš„è®¾å¤‡
ğŸ“ å®ç°ç½‘ç»œäº’é€š
```

### 1.2 é™æ€è·¯ç”± vs åŠ¨æ€è·¯ç”±

**é™æ€è·¯ç”±**ï¼šç®¡ç†å‘˜æ‰‹åŠ¨é…ç½®ï¼Œè·¯å¾„å›ºå®š
- **ä¼˜ç‚¹**ï¼šç¨³å®šå¯é ï¼Œä¸å ç”¨ç½‘ç»œèµ„æº
- **ç¼ºç‚¹**ï¼šç½‘ç»œå˜åŒ–æ—¶éœ€æ‰‹åŠ¨è°ƒæ•´

**åŠ¨æ€è·¯ç”±**ï¼šè®¾å¤‡è‡ªåŠ¨å­¦ä¹ è·¯å¾„
- **ä¼˜ç‚¹**ï¼šè‡ªåŠ¨é€‚åº”ç½‘ç»œå˜åŒ–
- **ç¼ºç‚¹**ï¼šå¤æ‚åº¦é«˜ï¼Œå ç”¨ç³»ç»Ÿèµ„æº

> **ğŸ’¡ æ–°æ‰‹ç†è§£ï¼š** é™æ€è·¯ç”±åƒGPSå¯¼èˆªçš„"å›ºå®šè·¯çº¿"ï¼ŒåŠ¨æ€è·¯ç”±åƒ"å®æ—¶è·¯å†µä¼˜åŒ–"

### 1.3 è·¯ç”±è¡¨çš„åŸºæœ¬ç»“æ„

```
ç›®æ ‡ç½‘ç»œ    ä¸‹ä¸€è·³åœ°å€    æ¥å£    åº¦é‡å€¼
192.168.1.0  10.0.0.1    eth0      1
0.0.0.0      192.168.1.1  eth1      0
```

**å„å­—æ®µå«ä¹‰ï¼š**
- **ç›®æ ‡ç½‘ç»œ**ï¼šè¦åˆ°è¾¾çš„ç½‘ç»œåœ°å€
- **ä¸‹ä¸€è·³åœ°å€**ï¼šæ•°æ®åŒ…çš„ä¸‹ä¸€ä¸ªè½¬å‘ç›®æ ‡
- **æ¥å£**ï¼šæ•°æ®åŒ…ä»å“ªä¸ªç½‘å¡å‘å‡º
- **åº¦é‡å€¼**ï¼šè·¯å¾„çš„"è·ç¦»"ï¼Œè¶Šå°è¶Šä¼˜å…ˆ

---

## 2. ğŸ“ é™æ€è·¯ç”±é…ç½®æ–‡ä»¶è¯¦è§£


### 2.1 ä¸»è¦é…ç½®æ–‡ä»¶ä½ç½®

Linuxç³»ç»Ÿä¸­çš„è·¯ç”±é…ç½®æ–‡ä»¶ä¸»è¦ä½äºï¼š
```bash
/etc/sysconfig/network-scripts/route-[æ¥å£å]
```

**å¸¸è§æ–‡ä»¶ç¤ºä¾‹ï¼š**
- `route-eth0`ï¼šeth0ç½‘å¡çš„è·¯ç”±é…ç½®
- `route-enp0s3`ï¼šenp0s3ç½‘å¡çš„è·¯ç”±é…ç½®
- `route-wlan0`ï¼šæ— çº¿ç½‘å¡çš„è·¯ç”±é…ç½®

### 2.2 é…ç½®æ–‡ä»¶æ ¼å¼ç±»å‹


**æ ¼å¼ä¸€ï¼šä¼ ç»Ÿæ ¼å¼ï¼ˆæ¨èæ–°æ‰‹ï¼‰**
```bash
# /etc/sysconfig/network-scripts/route-eth0
192.168.10.0/24 via 192.168.1.1 dev eth0
10.0.0.0/8 via 192.168.1.1 dev eth0
```

**æ ¼å¼äºŒï¼šæ•°å­—ç¼–å·æ ¼å¼**
```bash
# /etc/sysconfig/network-scripts/route-eth0
ADDRESS0=192.168.10.0
NETMASK0=255.255.255.0
GATEWAY0=192.168.1.1

ADDRESS1=10.0.0.0  
NETMASK1=255.0.0.0
GATEWAY1=192.168.1.1
```

> **âš ï¸ é‡è¦æé†’ï¼š** ä¸¤ç§æ ¼å¼ä¸è¦æ··ç”¨ï¼Œé€‰æ‹©ä¸€ç§åšæŒä½¿ç”¨

### 2.3 é…ç½®æ–‡ä»¶æƒé™è¦æ±‚

```bash
# è®¾ç½®æ­£ç¡®çš„æ–‡ä»¶æƒé™
chmod 644 /etc/sysconfig/network-scripts/route-*
chown root:root /etc/sysconfig/network-scripts/route-*
```

---

## 3. âœï¸ è·¯ç”±é…ç½®è¯­æ³•æ ¼å¼


### 3.1 ä¼ ç»Ÿæ ¼å¼è¯¦è§£

**åŸºæœ¬è¯­æ³•ï¼š**
```bash
ç›®æ ‡ç½‘ç»œ/å­ç½‘æ©ç  via ç½‘å…³åœ°å€ [dev æ¥å£å] [metric åº¦é‡å€¼]
```

**å‚æ•°è¯´æ˜ï¼š**
- **ç›®æ ‡ç½‘ç»œ**ï¼šCIDRæ ¼å¼ï¼Œå¦‚ `192.168.1.0/24`
- **via**ï¼šé€šè¿‡å“ªä¸ªç½‘å…³è½¬å‘
- **dev**ï¼šå¯é€‰ï¼ŒæŒ‡å®šå‡ºæ¥å£
- **metric**ï¼šå¯é€‰ï¼Œè®¾ç½®è·¯ç”±ä¼˜å…ˆçº§

### 3.2 å¸¸ç”¨é…ç½®ç¤ºä¾‹


**é…ç½®åˆ°ç‰¹å®šç½‘æ®µçš„è·¯ç”±ï¼š**
```bash
# è®¿é—®192.168.10.0/24ç½‘æ®µé€šè¿‡192.168.1.1è½¬å‘
192.168.10.0/24 via 192.168.1.1 dev eth0
```

**é…ç½®ä¸»æœºè·¯ç”±ï¼š**
```bash
# è®¿é—®ç‰¹å®šä¸»æœºçš„è·¯ç”±
192.168.10.100/32 via 192.168.1.1 dev eth0
```

**é…ç½®å¸¦åº¦é‡å€¼çš„è·¯ç”±ï¼š**
```bash
# è®¾ç½®è·¯ç”±ä¼˜å…ˆçº§
192.168.10.0/24 via 192.168.1.1 dev eth0 metric 100
```

### 3.3 æ•°å­—ç¼–å·æ ¼å¼è¯¦è§£

```bash
# ADDRESS0è¡¨ç¤ºç¬¬ä¸€æ¡è·¯ç”±çš„ç›®æ ‡ç½‘ç»œ
ADDRESS0=192.168.10.0
NETMASK0=255.255.255.0    # å­ç½‘æ©ç 
GATEWAY0=192.168.1.1      # ç½‘å…³åœ°å€

# ADDRESS1è¡¨ç¤ºç¬¬äºŒæ¡è·¯ç”±
ADDRESS1=10.0.0.0
NETMASK1=255.0.0.0
GATEWAY1=192.168.1.1
```

> **ğŸ” æ–°æ‰‹æç¤ºï¼š** ç¼–å·ä»0å¼€å§‹ï¼Œå¿…é¡»è¿ç»­ï¼Œä¸èƒ½è·³è·ƒ

---

## 4. ğŸ¯ é»˜è®¤è·¯ç”±ä¸ç‰¹å®šè·¯ç”±é…ç½®


### 4.1 é»˜è®¤è·¯ç”±é…ç½®

**ä»€ä¹ˆæ˜¯é»˜è®¤è·¯ç”±ï¼Ÿ**
é»˜è®¤è·¯ç”±å°±åƒ**"ä¸‡èƒ½é’¥åŒ™"**ï¼Œå½“ç³»ç»Ÿæ‰¾ä¸åˆ°å…·ä½“è·¯ç”±æ—¶ä½¿ç”¨çš„**å¤‡ç”¨å‡ºå£**ã€‚

**é…ç½®é»˜è®¤è·¯ç”±ï¼š**
```bash
# æ–¹æ³•1ï¼šåœ¨route-eth0æ–‡ä»¶ä¸­é…ç½®
0.0.0.0/0 via 192.168.1.1 dev eth0

# æ–¹æ³•2ï¼šä½¿ç”¨æ•°å­—æ ¼å¼
ADDRESS0=0.0.0.0
NETMASK0=0.0.0.0
GATEWAY0=192.168.1.1
```

### 4.2 ç‰¹å®šç½‘æ®µè·¯ç”±é…ç½®


**å†…ç½‘è·¯ç”±é…ç½®ï¼š**
```bash
# è®¿é—®å…¬å¸å†…ç½‘é€šè¿‡å†…ç½‘ç½‘å…³
10.0.0.0/8 via 10.1.1.1 dev eth1
172.16.0.0/12 via 10.1.1.1 dev eth1
192.168.0.0/16 via 10.1.1.1 dev eth1
```

**å¤šåˆ†æ”¯æœºæ„è·¯ç”±ï¼š**
```bash
# ä¸åŒåˆ†æ”¯ä½¿ç”¨ä¸åŒè·¯ç”±
192.168.10.0/24 via 192.168.1.10 dev eth0  # åˆ†å…¬å¸A
192.168.20.0/24 via 192.168.1.20 dev eth0  # åˆ†å…¬å¸B
192.168.30.0/24 via 192.168.1.30 dev eth0  # åˆ†å…¬å¸C
```

### 4.3 è·¯ç”±é…ç½®å®é™…åœºæ™¯


**åœºæ™¯ç¤ºä¾‹ï¼šåŠå…¬å®¤ç½‘ç»œ**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   å†…ç½‘æœåŠ¡å™¨   â”‚â”€â”€â”€â”€â”‚  Linuxç½‘å…³    â”‚â”€â”€â”€â”€â”‚   å¤–ç½‘ISP    â”‚
â”‚192.168.10.0/24â”‚    â”‚192.168.1.1   â”‚    â”‚  å…¬ç½‘è·¯ç”±    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚192.168.10.1  â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

é…ç½®è¦æ±‚ï¼š
â€¢ å†…ç½‘è®¿é—®ï¼š192.168.10.0/24 â†’ æœ¬åœ°è½¬å‘
â€¢ å¤–ç½‘è®¿é—®ï¼šå…¶ä»–æ‰€æœ‰ â†’ 192.168.1.1
```

**å¯¹åº”é…ç½®æ–‡ä»¶ï¼š**
```bash
# /etc/sysconfig/network-scripts/route-eth0
192.168.10.0/24 via 192.168.10.1 dev eth1
0.0.0.0/0 via 192.168.1.1 dev eth0
```

---

## 5. ğŸ“Š è·¯ç”±ä¼˜å…ˆçº§ä¸åº¦é‡å€¼


### 5.1 ä»€ä¹ˆæ˜¯è·¯ç”±åº¦é‡å€¼

åº¦é‡å€¼ï¼ˆmetricï¼‰å°±åƒè·¯å¾„çš„**"æˆæœ¬"**ï¼Œæ•°å€¼è¶Šå°è¡¨ç¤ºè·¯å¾„è¶Šä¼˜ï¼Œç³»ç»Ÿä¼š**ä¼˜å…ˆé€‰æ‹©**åº¦é‡å€¼å°çš„è·¯ç”±ã€‚

```
ç†è§£ç±»æ¯”ï¼š
å»åŒä¸€ä¸ªåœ°æ–¹æœ‰å¤šæ¡è·¯ï¼š
â€¢ é«˜é€Ÿå…¬è·¯ï¼šå¿«ä½†æ”¶è´¹ï¼ˆmetric=10ï¼‰
â€¢ å›½é“ï¼šè¾ƒå¿«å…è´¹ï¼ˆmetric=20ï¼‰  
â€¢ ä¹¡æ‘è·¯ï¼šæ…¢ä½†çœé’±ï¼ˆmetric=30ï¼‰

ç³»ç»Ÿä¼šä¼˜å…ˆé€‰æ‹©metric=10çš„è·¯å¾„
```

### 5.2 åº¦é‡å€¼è®¾ç½®è§„åˆ™


| è·¯ç”±ç±»å‹ | å»ºè®®åº¦é‡å€¼ | è¯´æ˜ |
|----------|------------|------|
| ç›´è¿ç½‘ç»œ | 0-10 | æœ¬åœ°ç½‘ç»œï¼Œæœ€ä¼˜å…ˆ |
| ä¸»è¦è·¯ç”± | 100-200 | å¸¸ç”¨ä¸šåŠ¡è·¯å¾„ |
| å¤‡ç”¨è·¯ç”± | 300-500 | æ•…éšœåˆ‡æ¢è·¯å¾„ |
| é»˜è®¤è·¯ç”± | 600+ | æœ€åé€‰æ‹©çš„è·¯å¾„ |

### 5.3 å¤šè·¯å¾„é…ç½®ç¤ºä¾‹


**ä¸»å¤‡è·¯å¾„é…ç½®ï¼š**
```bash
# /etc/sysconfig/network-scripts/route-eth0
# ä¸»è·¯å¾„ï¼šé€šè¿‡ä¸»ç½‘å…³ï¼Œä¼˜å…ˆçº§é«˜
192.168.10.0/24 via 192.168.1.1 dev eth0 metric 100

# å¤‡ç”¨è·¯å¾„ï¼šé€šè¿‡å¤‡ç”¨ç½‘å…³ï¼Œä¼˜å…ˆçº§ä½  
192.168.10.0/24 via 192.168.1.2 dev eth0 metric 200
```

**è´Ÿè½½å‡è¡¡é…ç½®ï¼š**
```bash
# ç›¸åŒåº¦é‡å€¼å®ç°è´Ÿè½½å‡è¡¡
0.0.0.0/0 via 192.168.1.1 dev eth0 metric 100
0.0.0.0/0 via 192.168.1.2 dev eth1 metric 100
```

### 5.4 è·¯ç”±é€‰æ‹©ä¼˜å…ˆçº§


**ç³»ç»Ÿè·¯ç”±é€‰æ‹©é¡ºåºï¼š**
```
1. æœ€ç²¾ç¡®åŒ¹é… > æ¨¡ç³ŠåŒ¹é…
   192.168.1.100/32 > 192.168.1.0/24 > 0.0.0.0/0

2. åº¦é‡å€¼å° > åº¦é‡å€¼å¤§  
   metric 10 > metric 100

3. ç®¡ç†è·ç¦»å° > ç®¡ç†è·ç¦»å¤§
   ç›´è¿ > é™æ€ > åŠ¨æ€
```

---

## 6. ğŸ”Œ å¤šç½‘å¡ç¯å¢ƒè·¯ç”±é…ç½®


### 6.1 å¤šç½‘å¡åº”ç”¨åœºæ™¯

ç°ä»£æœåŠ¡å™¨é€šå¸¸é…ç½®**å¤šä¸ªç½‘å¡**ï¼Œç”¨äºä¸åŒç”¨é€”ï¼š

```
æœåŠ¡å™¨ç½‘å¡é…ç½®ç¤ºä¾‹ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         LinuxæœåŠ¡å™¨          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ eth0: 192.168.1.100/24     â”‚ â† ç®¡ç†ç½‘ç»œ
â”‚ eth1: 10.0.1.100/24        â”‚ â† ä¸šåŠ¡ç½‘ç»œ  
â”‚ eth2: 172.16.1.100/24      â”‚ â† å­˜å‚¨ç½‘ç»œ
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6.2 åˆ†ç½‘å¡è·¯ç”±é…ç½®


**eth0ç®¡ç†ç½‘ç»œè·¯ç”±ï¼š**
```bash
# /etc/sysconfig/network-scripts/route-eth0
192.168.0.0/16 via 192.168.1.1 dev eth0     # ç®¡ç†ç½‘æ®µ
0.0.0.0/0 via 192.168.1.1 dev eth0 metric 100  # é»˜è®¤è·¯ç”±
```

**eth1ä¸šåŠ¡ç½‘ç»œè·¯ç”±ï¼š**
```bash
# /etc/sysconfig/network-scripts/route-eth1  
10.0.0.0/8 via 10.0.1.1 dev eth1           # ä¸šåŠ¡ç½‘æ®µ
```

**eth2å­˜å‚¨ç½‘ç»œè·¯ç”±ï¼š**
```bash
# /etc/sysconfig/network-scripts/route-eth2
172.16.0.0/12 via 172.16.1.1 dev eth2      # å­˜å‚¨ç½‘æ®µ
```

### 6.3 ç­–ç•¥è·¯ç”±é…ç½®

**ä»€ä¹ˆæ˜¯ç­–ç•¥è·¯ç”±ï¼Ÿ**
æ ¹æ®**ä¸åŒè§„åˆ™**ï¼ˆæºIPã€åè®®ã€ç«¯å£ç­‰ï¼‰é€‰æ‹©ä¸åŒçš„è·¯ç”±è·¯å¾„ã€‚

**åŸºäºæºIPçš„ç­–ç•¥è·¯ç”±ï¼š**
```bash
# åˆ›å»ºè·¯ç”±è¡¨
echo "100 admin" >> /etc/iproute2/rt_tables
echo "101 business" >> /etc/iproute2/rt_tables

# é…ç½®ç­–ç•¥
ip rule add from 192.168.1.0/24 table admin
ip rule add from 10.0.1.0/24 table business

# é…ç½®è·¯ç”±è¡¨
ip route add default via 192.168.1.1 table admin  
ip route add default via 10.0.1.1 table business
```

### 6.4 ç½‘å¡ç»‘å®šè·¯ç”±é…ç½®

**åŒç½‘å¡ç»‘å®šåœºæ™¯ï¼š**
```bash
# bond0ç»‘å®šé…ç½®å¯¹åº”çš„è·¯ç”±
# /etc/sysconfig/network-scripts/route-bond0
10.0.0.0/8 via 10.0.1.1 dev bond0
192.168.0.0/16 via 192.168.1.1 dev bond0  
0.0.0.0/0 via 192.168.1.1 dev bond0 metric 100
```

---

## 7. ğŸ”§ è·¯ç”±é…ç½®æ•…éšœæ’æŸ¥


### 7.1 å¸¸è§è·¯ç”±é—®é¢˜


| é—®é¢˜ç°è±¡ | å¯èƒ½åŸå›  | è§£å†³æ€è·¯ |
|----------|----------|----------|
| **ç½‘ç»œä¸é€š** | è·¯ç”±ç¼ºå¤± | æ£€æŸ¥è·¯ç”±è¡¨ï¼Œæ·»åŠ å¿…è¦è·¯ç”± |
| **è®¿é—®å¾ˆæ…¢** | è·¯ç”±ä¸ä¼˜ | ä¼˜åŒ–è·¯ç”±åº¦é‡å€¼ |
| **éƒ¨åˆ†ä¸é€š** | è·¯ç”±å†²çª | æ£€æŸ¥è·¯ç”±ä¼˜å…ˆçº§è®¾ç½® |
| **é…ç½®ä¸ç”Ÿæ•ˆ** | è¯­æ³•é”™è¯¯ | æ£€æŸ¥é…ç½®æ–‡ä»¶æ ¼å¼ |

### 7.2 è·¯ç”±æ•…éšœè¯Šæ–­æ­¥éª¤


**Step 1: æ£€æŸ¥ç½‘ç»œè¿é€šæ€§**
```bash
# æµ‹è¯•æœ¬æœºç½‘å¡çŠ¶æ€
ip addr show

# æµ‹è¯•ç½‘å…³è¿é€šæ€§  
ping 192.168.1.1

# æµ‹è¯•DNSè§£æ
nslookup www.baidu.com
```

**Step 2: æ£€æŸ¥è·¯ç”±è¡¨**
```bash
# æŸ¥çœ‹å½“å‰è·¯ç”±è¡¨
ip route show

# æ£€æŸ¥ç‰¹å®šè·¯ç”±
ip route get 192.168.10.100
```

**Step 3: æ£€æŸ¥é…ç½®æ–‡ä»¶**
```bash
# æ£€æŸ¥é…ç½®æ–‡ä»¶è¯­æ³•
cat /etc/sysconfig/network-scripts/route-eth0

# æ£€æŸ¥æ–‡ä»¶æƒé™
ls -la /etc/sysconfig/network-scripts/route-*
```

### 7.3 å¸¸è§é…ç½®é”™è¯¯


**é”™è¯¯1ï¼šè·¯ç”±å†²çª**
```bash
# é”™è¯¯ç¤ºä¾‹ï¼šä¸¤æ¡ç›¸åŒç›®æ ‡çš„è·¯ç”±
192.168.10.0/24 via 192.168.1.1 dev eth0
192.168.10.0/24 via 192.168.1.2 dev eth1  # å†²çª

# æ­£ç¡®åšæ³•ï¼šä½¿ç”¨ä¸åŒåº¦é‡å€¼
192.168.10.0/24 via 192.168.1.1 dev eth0 metric 100
192.168.10.0/24 via 192.168.1.2 dev eth1 metric 200
```

**é”™è¯¯2ï¼šç½‘å…³ä¸å¯è¾¾**
```bash
# é”™è¯¯ï¼šç½‘å…³åœ°å€ä¸åœ¨æœ¬ç½‘æ®µ
192.168.10.0/24 via 10.0.0.1 dev eth0  # é”™è¯¯

# æ­£ç¡®ï¼šç½‘å…³å¿…é¡»åœ¨åŒä¸€ç½‘æ®µ
192.168.10.0/24 via 192.168.1.1 dev eth0  # æ­£ç¡®
```

**é”™è¯¯3ï¼šè¯­æ³•æ ¼å¼é”™è¯¯**
```bash
# é”™è¯¯æ ¼å¼æ··ç”¨
ADDRESS0=192.168.10.0
192.168.20.0/24 via 192.168.1.1  # æ ¼å¼ä¸ç»Ÿä¸€

# æ­£ç¡®ï¼šç»Ÿä¸€ä½¿ç”¨ä¸€ç§æ ¼å¼
192.168.10.0/24 via 192.168.1.1 dev eth0
192.168.20.0/24 via 192.168.1.1 dev eth0
```

### 7.4 æ•…éšœæ’æŸ¥å·¥å…·


**ç½‘ç»œè¯Šæ–­å‘½ä»¤ï¼š**
```bash
# è·¯ç”±è¿½è¸ª
traceroute 192.168.10.100

# ç½‘ç»œç›‘æ§
netstat -rn          # æ˜¾ç¤ºè·¯ç”±è¡¨
ss -tuln             # æ˜¾ç¤ºç›‘å¬ç«¯å£
arp -a               # æŸ¥çœ‹ARPè¡¨
```

**æ—¥å¿—æŸ¥çœ‹ï¼š**
```bash
# ç³»ç»Ÿæ—¥å¿—
journalctl -u NetworkManager
tail -f /var/log/messages

# ç½‘ç»œæ—¥å¿—  
dmesg | grep -i network
```

---

## 8. ğŸ‘€ è·¯ç”±è¡¨æŸ¥çœ‹ä¸éªŒè¯


### 8.1 è·¯ç”±è¡¨æŸ¥çœ‹å‘½ä»¤


**åŸºæœ¬æŸ¥çœ‹å‘½ä»¤ï¼š**
```bash
# æ–¹æ³•1ï¼šä½¿ç”¨routeå‘½ä»¤ï¼ˆä¼ ç»Ÿï¼‰
route -n

# æ–¹æ³•2ï¼šä½¿ç”¨ipå‘½ä»¤ï¼ˆæ¨èï¼‰
ip route show

# æ–¹æ³•3ï¼šæŸ¥çœ‹å†…æ ¸è·¯ç”±è¡¨
cat /proc/net/route
```

### 8.2 è·¯ç”±è¡¨ä¿¡æ¯è§£è¯»


**ip route showè¾“å‡ºç¤ºä¾‹ï¼š**
```bash
default via 192.168.1.1 dev eth0 proto static metric 100
10.0.1.0/24 dev eth1 proto kernel scope link src 10.0.1.100
192.168.1.0/24 dev eth0 proto kernel scope link src 192.168.1.100
192.168.10.0/24 via 192.168.1.1 dev eth0 proto static metric 100
```

**å­—æ®µå«ä¹‰è¯´æ˜ï¼š**
- **default**ï¼šé»˜è®¤è·¯ç”±ï¼ˆ0.0.0.0/0ï¼‰
- **via**ï¼šä¸‹ä¸€è·³ç½‘å…³åœ°å€
- **dev**ï¼šå‡ºæ¥å£è®¾å¤‡
- **proto**ï¼šè·¯ç”±åè®®ï¼ˆkernel/static/dhcpç­‰ï¼‰
- **scope**ï¼šè·¯ç”±èŒƒå›´ï¼ˆlink/globalï¼‰
- **src**ï¼šæºIPåœ°å€
- **metric**ï¼šè·¯ç”±åº¦é‡å€¼

### 8.3 ç‰¹å®šè·¯ç”±æŸ¥è¯¢

```bash
# æŸ¥è¯¢åˆ°è¾¾ç‰¹å®šç›®æ ‡çš„è·¯ç”±
ip route get 192.168.10.100

# æŸ¥è¯¢ç‰¹å®šç½‘æ®µçš„è·¯ç”±
ip route show 192.168.10.0/24

# æŸ¥çœ‹ç‰¹å®šæ¥å£çš„è·¯ç”±
ip route show dev eth0
```

### 8.4 è·¯ç”±éªŒè¯æµ‹è¯•


**è¿é€šæ€§æµ‹è¯•ï¼š**
```bash
# åŸºæœ¬è¿é€šæ€§
ping -c 4 192.168.10.100

# æŒ‡å®šæºIPæµ‹è¯•
ping -I eth0 -c 4 192.168.10.100

# æŒ‡å®šæºåœ°å€æµ‹è¯•
ping -S 192.168.1.100 -c 4 192.168.10.100
```

**è·¯å¾„è¿½è¸ªæµ‹è¯•ï¼š**
```bash
# è¿½è¸ªè·¯ç”±è·¯å¾„
traceroute 192.168.10.100

# MTUè·¯å¾„å‘ç°
tracepath 192.168.10.100

# æŒ‡å®šæ¥å£è¿½è¸ª
traceroute -i eth0 192.168.10.100
```

### 8.5 è·¯ç”±é…ç½®ç”Ÿæ•ˆéªŒè¯


**é‡å¯ç½‘ç»œæœåŠ¡ï¼š**
```bash
# CentOS 7/8
systemctl restart network

# æˆ–è€…é‡å¯NetworkManager
systemctl restart NetworkManager

# Ubuntu/Debian
systemctl restart networking
```

**å•ç‹¬é‡å¯ç½‘å¡ï¼š**
```bash
# å…³é—­ç½‘å¡
ifdown eth0

# å¯åŠ¨ç½‘å¡  
ifup eth0

# æˆ–ä½¿ç”¨ipå‘½ä»¤
ip link set eth0 down
ip link set eth0 up
```

**é…ç½®ç«‹å³ç”Ÿæ•ˆï¼š**
```bash
# ä¸´æ—¶æ·»åŠ è·¯ç”±ï¼ˆé‡å¯å¤±æ•ˆï¼‰
ip route add 192.168.10.0/24 via 192.168.1.1 dev eth0

# åˆ é™¤è·¯ç”±
ip route del 192.168.10.0/24 via 192.168.1.1 dev eth0
```

---

## 9. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 9.1 å¿…é¡»æŒæ¡çš„åŸºç¡€æ¦‚å¿µ


```
ğŸ”¸ è·¯ç”±æ¦‚å¿µï¼šç½‘ç»œæ•°æ®åŒ…çš„è·¯å¾„æŒ‡ç¤ºå™¨
ğŸ”¸ é™æ€è·¯ç”±ï¼šæ‰‹å·¥é…ç½®çš„å›ºå®šè·¯å¾„è§„åˆ™  
ğŸ”¸ è·¯ç”±è¡¨ï¼šç³»ç»Ÿè·¯å¾„é€‰æ‹©çš„å†³ç­–ä¾æ®
ğŸ”¸ åº¦é‡å€¼ï¼šè·¯å¾„ä¼˜å…ˆçº§çš„æ•°å€¼åŒ–è¡¨ç¤º
ğŸ”¸ é»˜è®¤è·¯ç”±ï¼šæ‰¾ä¸åˆ°å…·ä½“è·¯ç”±æ—¶çš„å¤‡ç”¨å‡ºå£
```

### 9.2 å…³é”®é…ç½®è¦ç‚¹


**ğŸ”¹ æ–‡ä»¶ä½ç½®ä¸æ ¼å¼**
```
é…ç½®æ–‡ä»¶ï¼š/etc/sysconfig/network-scripts/route-[æ¥å£å]
æ¨èæ ¼å¼ï¼šç›®æ ‡ç½‘ç»œ/å­ç½‘æ©ç  via ç½‘å…³ dev æ¥å£ metric åº¦é‡å€¼
æ–‡ä»¶æƒé™ï¼š644ï¼Œå±ä¸»root:root
```

**ğŸ”¹ é…ç½®ç”Ÿæ•ˆæ–¹å¼**
```
æ°¸ä¹…ç”Ÿæ•ˆï¼šå†™å…¥é…ç½®æ–‡ä»¶ï¼Œé‡å¯ç½‘ç»œæœåŠ¡
ä¸´æ—¶ç”Ÿæ•ˆï¼šä½¿ç”¨ip routeå‘½ä»¤ï¼Œé‡å¯åå¤±æ•ˆ
éªŒè¯æ–¹æ³•ï¼šip route show å’Œ pingæµ‹è¯•
```

**ğŸ”¹ å¸¸ç”¨é…ç½®æ¨¡å¼**
```
é»˜è®¤è·¯ç”±ï¼š0.0.0.0/0 via ç½‘å…³åœ°å€
ç‰¹å®šç½‘æ®µï¼š192.168.10.0/24 via ç½‘å…³åœ°å€
ä¸»æœºè·¯ç”±ï¼š192.168.10.100/32 via ç½‘å…³åœ°å€  
```

### 9.3 å®é™…åº”ç”¨æŒ‡å¯¼


**ğŸ¯ å¤šç½‘å¡ç¯å¢ƒ**
- ä¸åŒç½‘å¡å¤„ç†ä¸åŒä¸šåŠ¡æµé‡
- é€šè¿‡åº¦é‡å€¼æ§åˆ¶è·¯ç”±ä¼˜å…ˆçº§
- ä½¿ç”¨ç­–ç•¥è·¯ç”±å®ç°å¤æ‚éœ€æ±‚

**ğŸ¯ æ•…éšœæ’æŸ¥æ€è·¯**
- å…ˆæ£€æŸ¥ç‰©ç†è¿é€šæ€§ï¼ˆpingç½‘å…³ï¼‰
- å†æ£€æŸ¥è·¯ç”±è¡¨é…ç½®ï¼ˆip route showï¼‰
- æœ€åæ£€æŸ¥é…ç½®æ–‡ä»¶è¯­æ³•

**ğŸ¯ æ€§èƒ½ä¼˜åŒ–å»ºè®®**
- åˆç†è®¾ç½®è·¯ç”±åº¦é‡å€¼
- é¿å…ä¸å¿…è¦çš„è·¯ç”±è·³è½¬
- å®šæœŸæ¸…ç†æ— æ•ˆè·¯ç”±æ¡ç›®

**æ ¸å¿ƒè®°å¿†å£è¯€ï¼š**
- è·¯ç”±é…ç½®ä¸‰è¦ç´ ï¼š**ç›®æ ‡ã€ç½‘å…³ã€æ¥å£**
- åº¦é‡å€¼å†³å®šä¼˜å…ˆçº§ï¼š**æ•°å€¼å°çš„ä¼˜å…ˆèµ°**
- é…ç½®æ–‡ä»¶è¦è§„èŒƒï¼š**è¯­æ³•å¯¹ã€æƒé™æ­£**
- æ•…éšœæ’æŸ¥æœ‰æ­¥éª¤ï¼š**è¿é€šã€è·¯ç”±ã€é…ç½®**