---
title: 3ã€umountå¸è½½æ“ä½œä¸æ•…éšœæ’é™¤
---
## ğŸ“š ç›®å½•

1. [umountå‘½ä»¤åŸºç¡€](#1-umountå‘½ä»¤åŸºç¡€)
2. [å¸¸ç”¨å¸è½½é€‰é¡¹è¯¦è§£](#2-å¸¸ç”¨å¸è½½é€‰é¡¹è¯¦è§£)
3. [è®¾å¤‡ç¹å¿™é—®é¢˜æ’æŸ¥](#3-è®¾å¤‡ç¹å¿™é—®é¢˜æ’æŸ¥)
4. [è¿›ç¨‹å ç”¨æ£€æµ‹å·¥å…·](#4-è¿›ç¨‹å ç”¨æ£€æµ‹å·¥å…·)
5. [æ•°æ®å®‰å…¨ä¸åŒæ­¥](#5-æ•°æ®å®‰å…¨ä¸åŒæ­¥)
6. [å¸è½½å¤±è´¥åŸå› åˆ†æ](#6-å¸è½½å¤±è´¥åŸå› åˆ†æ)
7. [å®‰å…¨å¸è½½æœ€ä½³å®è·µ](#7-å®‰å…¨å¸è½½æœ€ä½³å®è·µ)
8. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#8-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ’¿ umountå‘½ä»¤åŸºç¡€


### 1.1 ä»€ä¹ˆæ˜¯umount


**umount** æ˜¯ "unmount" çš„ç¼©å†™ï¼Œä¸­æ–‡å«åš**å¸è½½**æˆ–**å–æ¶ˆæŒ‚è½½**ã€‚å°±åƒä½ æ‹”æ‰Uç›˜å‰è¦"å®‰å…¨å¼¹å‡º"ä¸€æ ·ï¼Œumountå°±æ˜¯Linuxä¸­å®‰å…¨ç§»é™¤å·²æŒ‚è½½è®¾å¤‡çš„å‘½ä»¤ã€‚

> ğŸ’¡ **é€šä¿—ç†è§£**ï¼šå¦‚æœmountæ˜¯"æ’ä¸Š"è®¾å¤‡ï¼Œé‚£ä¹ˆumountå°±æ˜¯"æ‹”æ‰"è®¾å¤‡

### 1.2 åŸºæœ¬è¯­æ³•æ ¼å¼


**è¯­æ³•ç»“æ„**ï¼š
```bash
umount [é€‰é¡¹] <è®¾å¤‡å|æŒ‚è½½ç‚¹>
```

**ä¸¤ç§å¸è½½æ–¹å¼**ï¼š
- **æŒ‰è®¾å¤‡åå¸è½½**ï¼š`umount /dev/sdb1`
- **æŒ‰æŒ‚è½½ç‚¹å¸è½½**ï¼š`umount /mnt/usb`

### 1.3 ç®€å•å¸è½½ç¤ºä¾‹


**åœºæ™¯æ¼”ç¤º**ï¼šå‡è®¾ä½ æœ‰ä¸€ä¸ªUç›˜æŒ‚è½½åœ¨ `/mnt/usb`

```bash
# æŸ¥çœ‹å½“å‰æŒ‚è½½æƒ…å†µ
df -h | grep usb
# /dev/sdb1    7.5G  2.1G  5.4G  28% /mnt/usb

# å¸è½½Uç›˜ï¼ˆä¸¤ç§æ–¹æ³•éƒ½å¯ä»¥ï¼‰
umount /mnt/usb        # æ–¹æ³•1ï¼šæŒ‰æŒ‚è½½ç‚¹
umount /dev/sdb1       # æ–¹æ³•2ï¼šæŒ‰è®¾å¤‡å

# éªŒè¯å¸è½½æ˜¯å¦æˆåŠŸ
df -h | grep usb       # åº”è¯¥æ²¡æœ‰è¾“å‡º
ls /mnt/usb           # ç›®å½•åº”è¯¥ä¸ºç©º
```

---

## 2. âš™ï¸ å¸¸ç”¨å¸è½½é€‰é¡¹è¯¦è§£


### 2.1 å¼ºåˆ¶å¸è½½é€‰é¡¹


**-f å¼ºåˆ¶å¸è½½**ï¼š
```bash
umount -f /mnt/nfs
```

> âš ï¸ **ä½¿ç”¨åœºæ™¯**ï¼šä¸»è¦ç”¨äºç½‘ç»œæ–‡ä»¶ç³»ç»Ÿï¼ˆNFSï¼‰æ— å“åº”æ—¶
> 
> âš ï¸ **æ³¨æ„**ï¼šæœ¬åœ°æ–‡ä»¶ç³»ç»Ÿæ…ç”¨ï¼Œå¯èƒ½å¯¼è‡´æ•°æ®ä¸¢å¤±

**-l æ‡’å¸è½½ï¼ˆå»¶è¿Ÿå¸è½½ï¼‰**ï¼š
```bash
umount -l /mnt/busy
```

**æ‡’å¸è½½åŸç†å›¾ç¤º**ï¼š
```
æ­£å¸¸å¸è½½ï¼šç«‹å³æ–­å¼€ â†’ å¯èƒ½å¤±è´¥ï¼ˆè®¾å¤‡ç¹å¿™ï¼‰
   è¿›ç¨‹ â†’ æ–‡ä»¶ç³»ç»Ÿ âœ— ç«‹å³æ–­å¼€

æ‡’å¸è½½ï¼šæ ‡è®°åˆ é™¤ â†’ ç­‰å¾…è¿›ç¨‹ç»“æŸ â†’ è‡ªåŠ¨æ–­å¼€
   è¿›ç¨‹ â†’ æ–‡ä»¶ç³»ç»Ÿ âŒ› æ ‡è®°åˆ é™¤ â†’ âœ“ è‡ªåŠ¨æ–­å¼€
```

### 2.2 å…¶ä»–å®ç”¨é€‰é¡¹


| é€‰é¡¹ | **åŠŸèƒ½è¯´æ˜** | **ä½¿ç”¨åœºæ™¯** |
|------|------------|-------------|
| **-a** | `å¸è½½/etc/fstabä¸­æ‰€æœ‰æ–‡ä»¶ç³»ç»Ÿ` | `ç³»ç»Ÿå…³æœºæ—¶æ‰¹é‡å¸è½½` |
| **-t** | `æŒ‡å®šæ–‡ä»¶ç³»ç»Ÿç±»å‹å¸è½½` | `åªå¸è½½ç‰¹å®šç±»å‹çš„æ–‡ä»¶ç³»ç»Ÿ` |
| **-v** | `æ˜¾ç¤ºè¯¦ç»†å¸è½½è¿‡ç¨‹` | `è°ƒè¯•å’Œå­¦ä¹ æ—¶ä½¿ç”¨` |

**é€‰é¡¹ç»„åˆä½¿ç”¨**ï¼š
```bash
# å¼ºåˆ¶ä¸”æ˜¾ç¤ºè¯¦ç»†è¿‡ç¨‹
umount -fv /mnt/nfs

# å¸è½½æ‰€æœ‰ext4æ–‡ä»¶ç³»ç»Ÿ
umount -at ext4
```

---

## 3. ğŸš« è®¾å¤‡ç¹å¿™é—®é¢˜æ’æŸ¥


### 3.1 ä»€ä¹ˆæ˜¯"è®¾å¤‡ç¹å¿™"


å½“ä½ å°è¯•å¸è½½è®¾å¤‡æ—¶ï¼Œå¯èƒ½é‡åˆ°è¿™æ ·çš„é”™è¯¯ï¼š

```bash
$ umount /mnt/usb
umount: /mnt/usb: device is busy
```

**ç¹å¿™çš„å‡ ç§æƒ…å†µ**ï¼š

```
è®¾å¤‡ç¹å¿™çš„å¸¸è§åŸå› ï¼š

1. è¿›ç¨‹æ­£åœ¨ä½¿ç”¨
   ç”¨æˆ· â†’ ç¨‹åº â†’ è¯»å†™æ–‡ä»¶ â†’ è®¾å¤‡

2. å½“å‰å·¥ä½œç›®å½•åœ¨è®¾å¤‡ä¸Š
   ç”¨æˆ· â†’ ç»ˆç«¯ â†’ cdåˆ°è®¾å¤‡ç›®å½• â†’ è®¾å¤‡

3. æ–‡ä»¶è¢«ç¨‹åºæ‰“å¼€
   ç”¨æˆ· â†’ ç¼–è¾‘å™¨ â†’ æ‰“å¼€è®¾å¤‡ä¸Šçš„æ–‡ä»¶ â†’ è®¾å¤‡

4. ç³»ç»Ÿè¿›ç¨‹å ç”¨
   ç³»ç»Ÿ â†’ åå°è¿›ç¨‹ â†’ è®¿é—®è®¾å¤‡æ–‡ä»¶ â†’ è®¾å¤‡
```

### 3.2 å¿«é€Ÿè§£å†³æ–¹æ³•


**æ­¥éª¤1ï¼šç¦»å¼€è®¾å¤‡ç›®å½•**
```bash
# æ£€æŸ¥å½“å‰ä½ç½®
pwd
# /mnt/usb/documents  â† å¦‚æœåœ¨è®¾å¤‡ç›®å½•ä¸‹

# åˆ‡æ¢åˆ°å…¶ä»–ç›®å½•
cd ~
# æˆ–è€…
cd /
```

**æ­¥éª¤2ï¼šå…³é—­ç›¸å…³ç¨‹åº**
```bash
# å¦‚æœä½ æ­£åœ¨ç¼–è¾‘è®¾å¤‡ä¸Šçš„æ–‡ä»¶ï¼Œå…ˆä¿å­˜å¹¶å…³é—­
# å¦‚æœåœ¨æ–‡ä»¶ç®¡ç†å™¨ä¸­æ‰“å¼€äº†è®¾å¤‡ç›®å½•ï¼Œå…ˆå…³é—­
```

**æ­¥éª¤3ï¼šé‡æ–°å°è¯•å¸è½½**
```bash
umount /mnt/usb
```

---

## 4. ğŸ” è¿›ç¨‹å ç”¨æ£€æµ‹å·¥å…·


### 4.1 lsofå‘½ä»¤ - åˆ—å‡ºæ‰“å¼€çš„æ–‡ä»¶


**lsof** å…¨ç§°æ˜¯ "List Open Files"ï¼Œç”¨æ¥æ˜¾ç¤ºå“ªäº›è¿›ç¨‹æ‰“å¼€äº†å“ªäº›æ–‡ä»¶ã€‚

**åŸºæœ¬ä½¿ç”¨**ï¼š
```bash
# æŸ¥çœ‹è°åœ¨ä½¿ç”¨è¿™ä¸ªæŒ‚è½½ç‚¹
lsof /mnt/usb
```

**è¾“å‡ºç¤ºä¾‹è§£è¯»**ï¼š
```
COMMAND   PID USER   FD   TYPE DEVICE  SIZE/OFF NODE NAME
vim      1234 user    3r   REG   8,17      1024  678 /mnt/usb/file.txt
bash     5678 user  cwd    DIR   8,17      4096  123 /mnt/usb
```

**å­—æ®µå«ä¹‰è¡¨æ ¼**ï¼š

| å­—æ®µ | **å«ä¹‰** | **ç¤ºä¾‹è¯´æ˜** |
|------|---------|-------------|
| **COMMAND** | `è¿›ç¨‹åç§°` | `vim - æ–‡æœ¬ç¼–è¾‘å™¨` |
| **PID** | `è¿›ç¨‹ID` | `1234 - å¯ç”¨äºå¼ºåˆ¶ç»“æŸè¿›ç¨‹` |
| **USER** | `ç”¨æˆ·` | `user - å“ªä¸ªç”¨æˆ·çš„è¿›ç¨‹` |
| **FD** | `æ–‡ä»¶æè¿°ç¬¦` | `cwdè¡¨ç¤ºå½“å‰å·¥ä½œç›®å½•` |
| **NAME** | `æ–‡ä»¶è·¯å¾„` | `å…·ä½“å“ªä¸ªæ–‡ä»¶è¢«å ç”¨` |

### 4.2 fuserå‘½ä»¤ - æ˜¾ç¤ºä½¿ç”¨æ–‡ä»¶çš„è¿›ç¨‹


**fuser** æ˜¯ "file user" çš„ç¼©å†™ï¼Œä¸“é—¨æ˜¾ç¤ºæ­£åœ¨ä½¿ç”¨æŒ‡å®šæ–‡ä»¶æˆ–ç›®å½•çš„è¿›ç¨‹ã€‚

**åŸºæœ¬è¯­æ³•**ï¼š
```bash
# æŸ¥çœ‹è°åœ¨ä½¿ç”¨è¿™ä¸ªæŒ‚è½½ç‚¹
fuser -mv /mnt/usb
```

**é€‰é¡¹è¯´æ˜**ï¼š
- **-m**ï¼šæ˜¾ç¤ºæŒ‚è½½ç‚¹ä¸Šçš„æ‰€æœ‰è¿›ç¨‹
- **-v**ï¼šæ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯ï¼ˆç±»ä¼¼ls -lçš„è¯¦ç»†æ ¼å¼ï¼‰

**fuserè¾“å‡ºè§£è¯»**ï¼š
```bash
$ fuser -mv /mnt/usb
                     USER        PID ACCESS COMMAND
/mnt/usb:           root        123 ..c.. systemd
                    user       1234 .rc.. vim
```

**ACCESSå­—æ®µå«ä¹‰**ï¼š
- **c**ï¼šcurrent directoryï¼ˆå½“å‰ç›®å½•ï¼‰
- **r**ï¼šroot directoryï¼ˆæ ¹ç›®å½•ï¼‰  
- **e**ï¼šexecutableï¼ˆå¯æ‰§è¡Œæ–‡ä»¶ï¼‰
- **f**ï¼šopen fileï¼ˆæ‰“å¼€çš„æ–‡ä»¶ï¼‰

### 4.3 ä¸¤ä¸ªå·¥å…·çš„å¯¹æ¯”ä½¿ç”¨


| å·¥å…· | **ä¼˜åŠ¿** | **é€‚ç”¨åœºæ™¯** |
|------|---------|-------------|
| **lsof** | `ä¿¡æ¯è¯¦ç»†ï¼Œå¯çœ‹åˆ°å…·ä½“æ–‡ä»¶` | `è¯¦ç»†åˆ†æï¼Œæ‰¾å…·ä½“æ–‡ä»¶` |
| **fuser** | `è¾“å‡ºç®€æ´ï¼Œä¸“æ³¨æŒ‚è½½ç‚¹` | `å¿«é€Ÿå®šä½ï¼Œç®€å•å¤„ç†` |

**ç»„åˆä½¿ç”¨ç¤ºä¾‹**ï¼š
```bash
# ç¬¬ä¸€æ­¥ï¼šå¿«é€Ÿæ£€æŸ¥
fuser -mv /mnt/usb

# ç¬¬äºŒæ­¥ï¼šè¯¦ç»†åˆ†æ  
lsof /mnt/usb

# ç¬¬ä¸‰æ­¥ï¼šç»“æŸå ç”¨è¿›ç¨‹
kill -9 1234
```

---

## 5. ğŸ”„ æ•°æ®å®‰å…¨ä¸åŒæ­¥


### 5.1 ä¸ºä»€ä¹ˆè¦syncåŒæ­¥æ•°æ®


Linuxä¸ºäº†æé«˜æ€§èƒ½ï¼Œä¼šæŠŠæ•°æ®æš‚æ—¶å­˜åœ¨å†…å­˜ä¸­ï¼Œå†å®šæœŸå†™å…¥ç£ç›˜ã€‚è¿™å«åš**ç¼“å­˜æœºåˆ¶**ã€‚

**ç¼“å­˜æœºåˆ¶å›¾ç¤º**ï¼š
```
ç”¨æˆ·å†™å…¥æ•°æ®æµç¨‹ï¼š

1. åº”ç”¨ç¨‹åºå†™æ•°æ®
   ç¨‹åº â†’ å†…å­˜ç¼“å­˜ (æ•°æ®æš‚å­˜)

2. ç³»ç»Ÿå®šæœŸåŒæ­¥  
   å†…å­˜ç¼“å­˜ â†’ ç£ç›˜ (çœŸæ­£å†™å…¥)

3. å¸è½½å‰å¼ºåˆ¶åŒæ­¥
   syncå‘½ä»¤ â†’ ç«‹å³å†™å…¥ç£ç›˜
```

> âš ï¸ **é£é™©**ï¼šå¦‚æœç›´æ¥å¸è½½ï¼Œç¼“å­˜ä¸­çš„æ•°æ®å¯èƒ½ä¸¢å¤±

### 5.2 syncå‘½ä»¤ä½¿ç”¨


**åŸºæœ¬è¯­æ³•**ï¼š
```bash
sync                    # åŒæ­¥æ‰€æœ‰ç¼“å­˜æ•°æ®
sync /mnt/usb          # åŒæ­¥æŒ‡å®šæ–‡ä»¶ç³»ç»Ÿï¼ˆæ–°ç‰ˆæœ¬æ”¯æŒï¼‰
```

**å®‰å…¨å¸è½½æµç¨‹**ï¼š
```bash
# ç¬¬ä¸€æ­¥ï¼šåŒæ­¥æ•°æ®
sync

# ç¬¬äºŒæ­¥ï¼šç­‰å¾…2-3ç§’ï¼ˆç¡®ä¿åŒæ­¥å®Œæˆï¼‰
sleep 3

# ç¬¬ä¸‰æ­¥ï¼šå®‰å…¨å¸è½½
umount /mnt/usb
```

### 5.3 æ£€æŸ¥åŒæ­¥çŠ¶æ€


**æŸ¥çœ‹ç¼“å­˜ä½¿ç”¨æƒ…å†µ**ï¼š
```bash
# æŸ¥çœ‹ç³»ç»Ÿç¼“å­˜ç»Ÿè®¡
cat /proc/meminfo | grep -i dirty
```

**è¾“å‡ºè§£è¯»**ï¼š
```
Dirty:              1024 kB    â† ç­‰å¾…å†™å…¥ç£ç›˜çš„æ•°æ®
Writeback:             0 kB    â† æ­£åœ¨å†™å…¥ç£ç›˜çš„æ•°æ®
```

> ğŸ’¡ **ç»éªŒ**ï¼šDirtyå€¼ä¸º0æ—¶ï¼Œè¯´æ˜æ‰€æœ‰æ•°æ®å·²å†™å…¥ç£ç›˜

---

## 6. ğŸ› ï¸ å¸è½½å¤±è´¥åŸå› åˆ†æ


### 6.1 å¸¸è§é”™è¯¯ç±»å‹


**é”™è¯¯1ï¼šè®¾å¤‡ç¹å¿™**
```bash
$ umount /mnt/usb
umount: /mnt/usb: device is busy

è§£å†³æ€è·¯ï¼š
â””â”€â”€ æ£€æŸ¥è¿›ç¨‹å ç”¨ (lsof/fuser)
    â”œâ”€â”€ å…³é—­ç›¸å…³ç¨‹åº
    â”œâ”€â”€ é€€å‡ºè®¾å¤‡ç›®å½•
    â””â”€â”€ ç»“æŸå ç”¨è¿›ç¨‹
```

**é”™è¯¯2ï¼šæƒé™ä¸è¶³**
```bash
$ umount /mnt/system
umount: /mnt/system: Operation not permitted

è§£å†³æ–¹æ³•ï¼š
â””â”€â”€ ä½¿ç”¨ç®¡ç†å‘˜æƒé™
    â””â”€â”€ sudo umount /mnt/system
```

**é”™è¯¯3ï¼šç›®æ ‡ä¸æ˜¯æŒ‚è½½ç‚¹**
```bash
$ umount /home/user
umount: /home/user: not mounted

æ£€æŸ¥æ–¹æ³•ï¼š
â””â”€â”€ æŸ¥çœ‹å®é™…æŒ‚è½½æƒ…å†µ
    â””â”€â”€ df -h æˆ– mount | grep /home/user
```

### 6.2 ç½‘ç»œæ–‡ä»¶ç³»ç»Ÿç‰¹æ®Šé—®é¢˜


**NFSå¸è½½é—®é¢˜**ï¼š
```bash
# NFSæœåŠ¡å™¨æ— å“åº”æ—¶
$ umount /mnt/nfs
umount: /mnt/nfs: Input/output error

å¤„ç†æ–¹æ³•ï¼š
â”œâ”€â”€ è½¯æŒ‚è½½ï¼šumount -f /mnt/nfs
â””â”€â”€ ç¡¬æŒ‚è½½ï¼šumount -l /mnt/nfs (æ‡’å¸è½½)
```

**SMB/CIFSé—®é¢˜**ï¼š
```bash
# Windowså…±äº«æ— å“åº”
$ umount /mnt/windows  
umount: /mnt/windows: Transport endpoint is not connected

è§£å†³æ­¥éª¤ï¼š
1. umount -l /mnt/windows     # æ‡’å¸è½½
2. æ£€æŸ¥ç½‘ç»œè¿æ¥
3. é‡æ–°æŒ‚è½½æˆ–é‡å¯ç½‘ç»œæœåŠ¡
```

---

## 7. âœ… å®‰å…¨å¸è½½æœ€ä½³å®è·µ


### 7.1 æ ‡å‡†å¸è½½æµç¨‹


**å®Œæ•´çš„å®‰å…¨å¸è½½æ­¥éª¤**ï¼š

```bash
# ========== æ ‡å‡†å®‰å…¨å¸è½½æµç¨‹ ==========

# 1. æ£€æŸ¥æŒ‚è½½çŠ¶æ€
mount | grep /mnt/usb

# 2. åŒæ­¥æ•°æ®åˆ°ç£ç›˜
sync

# 3. æ£€æŸ¥è¿›ç¨‹å ç”¨
lsof /mnt/usb

# 4. é€€å‡ºè®¾å¤‡ç›®å½•
cd ~

# 5. æ‰§è¡Œå¸è½½
umount /mnt/usb

# 6. éªŒè¯å¸è½½æˆåŠŸ
mount | grep /mnt/usb    # åº”è¯¥æ— è¾“å‡º
```

### 7.2 æ‰¹é‡å¸è½½æŠ€å·§


**æŒ‰ç±»å‹æ‰¹é‡å¸è½½**ï¼š
```bash
# å¸è½½æ‰€æœ‰USBè®¾å¤‡
umount -at vfat,ntfs

# å¸è½½æ‰€æœ‰ç½‘ç»œæ–‡ä»¶ç³»ç»Ÿ
umount -at nfs,cifs
```

**è„šæœ¬åŒ–æ‰¹é‡å¸è½½**ï¼š
```bash
#!/bin/bash
# å®‰å…¨å¸è½½è„šæœ¬ç¤ºä¾‹

for mount_point in /mnt/usb1 /mnt/usb2 /mnt/backup
do
    echo "æ­£åœ¨å¸è½½: $mount_point"
    
    # åŒæ­¥æ•°æ®
    sync
    
    # å°è¯•å¸è½½
    if umount "$mount_point"; then
        echo "âœ… $mount_point å¸è½½æˆåŠŸ"
    else
        echo "âŒ $mount_point å¸è½½å¤±è´¥"
        # æ˜¾ç¤ºå ç”¨è¿›ç¨‹
        lsof "$mount_point"
    fi
done
```

### 7.3 åº”æ€¥å¤„ç†æ–¹æ¡ˆ


**å½“æ‰€æœ‰æ–¹æ³•éƒ½å¤±è´¥æ—¶**ï¼š

```bash
# æœ€åçš„æ‰‹æ®µ - ç³»ç»Ÿçº§å¤„ç†

# 1. æ‡’å¸è½½ï¼ˆæ¨èï¼‰
umount -l /mnt/problem

# 2. å¼ºåˆ¶å¸è½½ï¼ˆè°¨æ…ä½¿ç”¨ï¼‰
umount -f /mnt/problem

# 3. é‡å¯ç³»ç»Ÿï¼ˆæœ€ç»ˆè§£å†³æ–¹æ¡ˆï¼‰
# æ³¨æ„ï¼šé‡å¯å‰ç¡®ä¿é‡è¦æ•°æ®å·²ä¿å­˜
```

<details>
<summary>ğŸ†˜ ç´§æ€¥æƒ…å†µå¤„ç†æ¸…å•</summary>

**æ•°æ®ä¸¢å¤±é£é™©è¯„ä¼°**ï¼š
- [ ] æ£€æŸ¥æ˜¯å¦æœ‰æœªä¿å­˜çš„é‡è¦æ–‡ä»¶
- [ ] ç¡®è®¤ç¼“å­˜æ•°æ®å·²åŒæ­¥
- [ ] è¯„ä¼°å¼ºåˆ¶å¸è½½çš„é£é™©

**å¤„ç†ä¼˜å…ˆçº§**ï¼š
1. å°è¯•æ­£å¸¸æ–¹æ³•è§£å†³å ç”¨é—®é¢˜
2. ä½¿ç”¨æ‡’å¸è½½ (-l)
3. è€ƒè™‘å¼ºåˆ¶å¸è½½ (-f) 
4. æœ€åé€‰æ‹©ç³»ç»Ÿé‡å¯

</details>

---

## 8. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 8.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```bash
ğŸ”¸ umountæœ¬è´¨ï¼šå®‰å…¨æ–­å¼€å·²æŒ‚è½½çš„è®¾å¤‡æˆ–æ–‡ä»¶ç³»ç»Ÿ
ğŸ”¸ å¸è½½æ–¹å¼ï¼šå¯é€šè¿‡è®¾å¤‡åæˆ–æŒ‚è½½ç‚¹è¿›è¡Œå¸è½½
ğŸ”¸ ç¹å¿™é—®é¢˜ï¼šè¿›ç¨‹å ç”¨æ˜¯æœ€å¸¸è§çš„å¸è½½å¤±è´¥åŸå› 
ğŸ”¸ æ•°æ®å®‰å…¨ï¼šå¸è½½å‰å¿…é¡»åŒæ­¥ç¼“å­˜æ•°æ®åˆ°ç£ç›˜
ğŸ”¸ æ•…éšœæ’æŸ¥ï¼šlsofå’Œfuseræ˜¯å®šä½é—®é¢˜çš„æ ¸å¿ƒå·¥å…·
```

### 8.2 å…³é”®æ“ä½œè¦ç‚¹


**ğŸ”¹ å®‰å…¨å¸è½½ä¸‰è¦ç´ **
```
æ•°æ®åŒæ­¥ï¼šsyncç¡®ä¿æ•°æ®å†™å…¥ç£ç›˜
è¿›ç¨‹æ£€æŸ¥ï¼šlsof/fuseræ£€æŸ¥å ç”¨æƒ…å†µ  
æ­£ç¡®å¸è½½ï¼šé€‰æ‹©åˆé€‚çš„umounté€‰é¡¹
```

**ğŸ”¹ æ•…éšœæ’æŸ¥æ€è·¯**
```
è®¾å¤‡ç¹å¿™ â†’ æ£€æŸ¥è¿›ç¨‹å ç”¨ â†’ è§£å†³å ç”¨ â†’ é‡æ–°å¸è½½
æƒé™é—®é¢˜ â†’ ä½¿ç”¨sudoæå‡æƒé™
ç½‘ç»œé—®é¢˜ â†’ è€ƒè™‘å¼ºåˆ¶æˆ–æ‡’å¸è½½
```

**ğŸ”¹ é€‰é¡¹ä½¿ç”¨åŸåˆ™**
```
-l (æ‡’å¸è½½)ï¼šå®‰å…¨ï¼Œé€‚åˆå¤§å¤šæ•°ç¹å¿™æƒ…å†µ
-f (å¼ºåˆ¶å¸è½½)ï¼šè°¨æ…ï¼Œä¸»è¦ç”¨äºç½‘ç»œæ–‡ä»¶ç³»ç»Ÿ
-v (è¯¦ç»†è¾“å‡º)ï¼šè°ƒè¯•æ—¶ä½¿ç”¨ï¼Œäº†è§£å¸è½½è¿‡ç¨‹
```

### 8.3 å®é™…åº”ç”¨ä»·å€¼


**ğŸ’» æ—¥å¸¸è¿ç»´**ï¼š
- **ç§»åŠ¨å­˜å‚¨**ï¼šUç›˜ã€ç§»åŠ¨ç¡¬ç›˜çš„å®‰å…¨ç§»é™¤
- **ç½‘ç»œå­˜å‚¨**ï¼šNFSã€SMBå…±äº«çš„æ–­å¼€è¿æ¥
- **ä¸´æ—¶æŒ‚è½½**ï¼šISOé•œåƒã€å¾ªç¯è®¾å¤‡çš„å¸è½½

**ğŸ”§ ç³»ç»Ÿç®¡ç†**ï¼š
- **ç»´æŠ¤æ“ä½œ**ï¼šç³»ç»Ÿå‡çº§å‰çš„æ–‡ä»¶ç³»ç»Ÿå¸è½½
- **æ•…éšœå¤„ç†**ï¼šè§£å†³æŒ‚è½½ç‚¹å†²çªå’Œå ç”¨é—®é¢˜
- **è‡ªåŠ¨åŒ–è„šæœ¬**ï¼šæ‰¹é‡æŒ‚è½½ç®¡ç†çš„å®ç°

**ğŸ›¡ï¸ æ•°æ®ä¿æŠ¤**ï¼š
- **é˜²æ­¢æ•°æ®ä¸¢å¤±**ï¼šæ­£ç¡®çš„syncå’Œumountæ“ä½œ
- **é¿å…æ–‡ä»¶ç³»ç»ŸæŸå**ï¼šä¼˜é›…çš„è®¾å¤‡æ–­å¼€æµç¨‹
- **ç´§æ€¥å¤„ç†**ï¼šç³»ç»Ÿå¼‚å¸¸æ—¶çš„å®‰å…¨æ¢å¤

### 8.4 å­¦ä¹ å»ºè®®


> ğŸ§  **è®°å¿†å£è¯€**ï¼š
> **åŒæ­¥æ£€æŸ¥å†å¸è½½ï¼Œè¿›ç¨‹å ç”¨è¦æ¸…ç†**
> **lsof fuseræ˜¯å¸®æ‰‹ï¼Œæ‡’å¸è½½æ¯”å¼ºåˆ¶å¥½**

**å®è·µç»ƒä¹ **ï¼š
1. ç”¨Uç›˜ç»ƒä¹ åŸºæœ¬çš„mount/umountæ“ä½œ
2. æ•…æ„åˆ¶é€ "ç¹å¿™"æƒ…å†µï¼Œç»ƒä¹ æ•…éšœæ’æŸ¥
3. ç¼–å†™ç®€å•çš„å®‰å…¨å¸è½½è„šæœ¬
4. ä½“éªŒä¸åŒæ–‡ä»¶ç³»ç»Ÿç±»å‹çš„å¸è½½ç‰¹ç‚¹

**è¿›é˜¶å­¦ä¹ **ï¼š
- æ·±å…¥ç†è§£Linuxçš„VFSï¼ˆè™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿï¼‰
- å­¦ä¹ systemdçš„è‡ªåŠ¨æŒ‚è½½ç®¡ç†
- æŒæ¡LVMå’ŒRAIDçš„é«˜çº§å¸è½½æ“ä½œ

**æ ¸å¿ƒåŸåˆ™**ï¼š**æ•°æ®å®‰å…¨ç¬¬ä¸€ï¼Œæ“ä½œè§„èŒƒä¸ºæœ¬**