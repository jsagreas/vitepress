---
title: 13ã€æ•°æ®ç»Ÿè®¡åˆ†ææ¨¡å¼
---
## ğŸ“š ç›®å½•

1. [æ•°æ®ç»Ÿè®¡åˆ†ææ¦‚è¿°](#1-æ•°æ®ç»Ÿè®¡åˆ†ææ¦‚è¿°)
2. [åŸºç¡€ç»Ÿè®¡å·¥å…·ç»„åˆ](#2-åŸºç¡€ç»Ÿè®¡å·¥å…·ç»„åˆ)
3. [é¢‘æ¬¡ç»Ÿè®¡ä¸æ’ååˆ†æ](#3-é¢‘æ¬¡ç»Ÿè®¡ä¸æ’ååˆ†æ)
4. [æ•°æ®åˆ†å¸ƒç»Ÿè®¡è®¡ç®—](#4-æ•°æ®åˆ†å¸ƒç»Ÿè®¡è®¡ç®—)
5. [å¤šç»´åº¦ç»Ÿè®¡ç»„åˆ](#5-å¤šç»´åº¦ç»Ÿè®¡ç»„åˆ)
6. [ç»Ÿè®¡ç»“æœæ ¼å¼åŒ–è¾“å‡º](#6-ç»Ÿè®¡ç»“æœæ ¼å¼åŒ–è¾“å‡º)
7. [å¤§æ•°æ®é‡ç»Ÿè®¡ä¼˜åŒ–](#7-å¤§æ•°æ®é‡ç»Ÿè®¡ä¼˜åŒ–)
8. [ç»Ÿè®¡ç²¾åº¦ä¸æ€§èƒ½å¹³è¡¡](#8-ç»Ÿè®¡ç²¾åº¦ä¸æ€§èƒ½å¹³è¡¡)
9. [ç»Ÿè®¡ç»“æœå¯è§†åŒ–å‡†å¤‡](#9-ç»Ÿè®¡ç»“æœå¯è§†åŒ–å‡†å¤‡)
10. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#10-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ“Š æ•°æ®ç»Ÿè®¡åˆ†ææ¦‚è¿°


### 1.1 ä»€ä¹ˆæ˜¯æ•°æ®ç»Ÿè®¡åˆ†ææ¨¡å¼


**ğŸ’¡ æ ¸å¿ƒæ¦‚å¿µ**
æ•°æ®ç»Ÿè®¡åˆ†ææ¨¡å¼æ˜¯æŒ‡åœ¨Linuxç³»ç»Ÿä¸­ï¼Œé€šè¿‡ç»„åˆä½¿ç”¨ `sort`ã€`uniq`ã€`wc` ç­‰å·¥å…·æ¥å¯¹æ•°æ®è¿›è¡Œç»Ÿè®¡ã€åˆ†æå’Œæ±‡æ€»çš„æ–¹æ³•ã€‚å°±åƒæ­ç§¯æœ¨ä¸€æ ·ï¼Œæ¯ä¸ªå·¥å…·è´Ÿè´£ä¸€ä¸ªç‰¹å®šåŠŸèƒ½ï¼Œç»„åˆèµ·æ¥å®Œæˆå¤æ‚çš„æ•°æ®åˆ†æä»»åŠ¡ã€‚

**ğŸ¯ ä¸ºä»€ä¹ˆéœ€è¦æ•°æ®ç»Ÿè®¡**
```
æ—¥å¸¸åœºæ™¯ä¸¾ä¾‹ï¼š
â€¢ ç½‘ç«™æ—¥å¿—åˆ†æ - ç»Ÿè®¡è®¿é—®æœ€é¢‘ç¹çš„IPåœ°å€
â€¢ ç³»ç»Ÿç›‘æ§ - åˆ†æé”™è¯¯æ—¥å¿—ä¸­çš„é”™è¯¯ç±»å‹
â€¢ é”€å”®æ•°æ® - ç»Ÿè®¡å„åœ°åŒºçš„é”€å”®é¢æ’å
â€¢ ç”¨æˆ·è¡Œä¸º - åˆ†æç”¨æˆ·æœ€å¸¸ç”¨çš„åŠŸèƒ½
```

### 1.2 æ ¸å¿ƒå·¥å…·ä¸‰å‰‘å®¢


**ğŸ”§ åŸºç¡€å·¥å…·ç»„åˆ**
```
æ•°æ®æµå¤„ç†ç®¡é“ï¼š
åŸå§‹æ•°æ® â†’ sortæ’åº â†’ uniqå»é‡ç»Ÿè®¡ â†’ wcè®¡æ•° â†’ ç»Ÿè®¡ç»“æœ

æ¯ä¸ªå·¥å…·çš„ä½œç”¨ï¼š
sort  ï¼š å°†æ•°æ®æŒ‰è§„åˆ™æ’åˆ—ï¼Œä¸ºåç»­å¤„ç†åšå‡†å¤‡
uniq  ï¼š ç»Ÿè®¡é‡å¤é¡¹å‡ºç°æ¬¡æ•°ï¼Œå®ç°é¢‘æ¬¡åˆ†æ  
wc    ï¼š è®¡ç®—è¡Œæ•°ã€å­—æ•°ç­‰ï¼Œæä¾›åŸºç¡€è®¡æ•°åŠŸèƒ½
```

### 1.3 ç»Ÿè®¡åˆ†æçš„åŸºæœ¬æ€è·¯


**ğŸ“‹ åˆ†ææµç¨‹**
```
æ­¥éª¤1ï¼šæ•°æ®é¢„å¤„ç†
â””â”€â”€ æ¸…ç†ã€æ ¼å¼åŒ–ã€æå–å…³é”®å­—æ®µ

æ­¥éª¤2ï¼šæ•°æ®æ’åº
â””â”€â”€ ç›¸åŒæ•°æ®èšé›†åœ¨ä¸€èµ·ï¼Œä¾¿äºç»Ÿè®¡

æ­¥éª¤3ï¼šé¢‘æ¬¡ç»Ÿè®¡  
â””â”€â”€ è®¡ç®—æ¯ä¸ªæ•°æ®é¡¹å‡ºç°çš„æ¬¡æ•°

æ­¥éª¤4ï¼šç»“æœæ’åº
â””â”€â”€ æŒ‰ç…§ç»Ÿè®¡ç»“æœè¿›è¡Œæ’å

æ­¥éª¤5ï¼šæ ¼å¼åŒ–è¾“å‡º
â””â”€â”€ ç¾åŒ–æ˜¾ç¤ºï¼Œä¾¿äºé˜…è¯»å’Œåˆ†æ
```

---

## 2. âš™ï¸ åŸºç¡€ç»Ÿè®¡å·¥å…·ç»„åˆ


### 2.1 sort+uniq+wc é»„é‡‘ç»„åˆ


**ğŸ”¸ åŸºæœ¬è¯­æ³•æ¨¡å¼**
```bash
# åŸºç¡€ç»Ÿè®¡æ¨¡å¼
sort file | uniq -c | sort -nr

# è¯¦ç»†è§£é‡Šï¼š
# sort file     - å¯¹æ–‡ä»¶å†…å®¹æ’åºï¼Œç›¸åŒå†…å®¹èšé›†
# uniq -c       - ç»Ÿè®¡æ¯è¡Œå‡ºç°æ¬¡æ•°ï¼Œ-cæ˜¾ç¤ºè®¡æ•°
# sort -nr      - æŒ‰æ•°å­—å€’åºæ’åˆ—ï¼Œ-næ•°å­—æ’åºï¼Œ-rå€’åº
```

**ğŸ’» å®é™…åº”ç”¨ç¤ºä¾‹**
```bash
# ç¤ºä¾‹ï¼šç»Ÿè®¡è®¿é—®æ—¥å¿—ä¸­çš„IPåœ°å€é¢‘æ¬¡
# å‡è®¾access.logå†…å®¹å¦‚ä¸‹ï¼š
192.168.1.1
192.168.1.2  
192.168.1.1
192.168.1.3
192.168.1.1

# æ‰§è¡Œç»Ÿè®¡å‘½ä»¤
sort access.log | uniq -c | sort -nr

# ç»“æœè¾“å‡ºï¼š
#     3 192.168.1.1
#     1 192.168.1.3  
#     1 192.168.1.2
```

### 2.2 å„å·¥å…·è¯¦ç»†å‚æ•°è¯´æ˜


**ğŸ“Š sort æ’åºå‚æ•°**
| å‚æ•° | **å«ä¹‰** | **ç”¨é€”** | **ç¤ºä¾‹** |
|------|---------|---------|---------|
| `-n` | `æ•°å­—æ’åº` | `æŒ‰æ•°å€¼å¤§å°æ’åºè€Œéå­—å…¸åº` | `sort -n numbers.txt` |
| `-r` | `å€’åºæ’åˆ—` | `ä»å¤§åˆ°å°æ’åº` | `sort -r data.txt` |
| `-k` | `æŒ‡å®šå­—æ®µ` | `æŒ‰æŸä¸ªå­—æ®µæ’åº` | `sort -k2 user_data.txt` |
| `-t` | `å­—æ®µåˆ†éš”ç¬¦` | `æŒ‡å®šåˆ†éš”ç¬¦` | `sort -t: -k3 /etc/passwd` |

**ğŸ”¢ uniq å»é‡ç»Ÿè®¡å‚æ•°**
```bash
# å¸¸ç”¨å‚æ•°ç»„åˆ
uniq -c        # æ˜¾ç¤ºæ¯è¡Œå‡ºç°æ¬¡æ•°
uniq -d        # åªæ˜¾ç¤ºé‡å¤çš„è¡Œ
uniq -u        # åªæ˜¾ç¤ºä¸é‡å¤çš„è¡Œ
uniq -i        # å¿½ç•¥å¤§å°å†™å·®å¼‚

# å®é™…ä½¿ç”¨åœºæ™¯
echo -e "apple\nApple\nbanana\napple" | sort | uniq -c
# ç»“æœï¼š
#     1 Apple
#     2 apple  
#     1 banana
```

**ğŸ“ˆ wc è®¡æ•°å·¥å…·**
```bash
wc -l file    # ç»Ÿè®¡è¡Œæ•°
wc -w file    # ç»Ÿè®¡å•è¯æ•°
wc -c file    # ç»Ÿè®¡å­—ç¬¦æ•°
wc -m file    # ç»Ÿè®¡å­—ç¬¦æ•°ï¼ˆæ”¯æŒå¤šå­—èŠ‚å­—ç¬¦ï¼‰

# ç»„åˆä½¿ç”¨ç¤ºä¾‹
cat users.txt | wc -l              # ç»Ÿè®¡ç”¨æˆ·æ€»æ•°
grep "error" log.txt | wc -l       # ç»Ÿè®¡é”™è¯¯æ—¥å¿—æ¡æ•°
```

---

## 3. ğŸ† é¢‘æ¬¡ç»Ÿè®¡ä¸æ’ååˆ†æ


### 3.1 åŸºç¡€é¢‘æ¬¡ç»Ÿè®¡


**ğŸ’¡ ä»€ä¹ˆæ˜¯é¢‘æ¬¡ç»Ÿè®¡**
é¢‘æ¬¡ç»Ÿè®¡å°±æ˜¯è®¡ç®—æ¯ä¸ªæ•°æ®é¡¹å‡ºç°äº†å¤šå°‘æ¬¡ï¼Œå°±åƒç»Ÿè®¡è€ƒè¯•æˆç»©ä¸­æ¯ä¸ªåˆ†æ•°æ®µæœ‰å¤šå°‘äººä¸€æ ·ã€‚åœ¨Linuxä¸­ï¼Œæˆ‘ä»¬ç”¨è¿™ç§æ–¹æ³•åˆ†ææ—¥å¿—ã€ç»Ÿè®¡ç”¨æˆ·è¡Œä¸ºã€ç›‘æ§ç³»ç»ŸçŠ¶æ€ã€‚

**ğŸ¯ ç»å…¸åº”ç”¨åœºæ™¯**
```bash
# åœºæ™¯1ï¼šç»Ÿè®¡ç½‘ç«™è®¿é—®æœ€å¤šçš„é¡µé¢
awk '{print $7}' access.log | sort | uniq -c | sort -nr | head -10

# åœºæ™¯2ï¼šç»Ÿè®¡ç³»ç»Ÿä¸­è¿è¡Œæœ€å¤šçš„è¿›ç¨‹
ps aux | awk '{print $11}' | sort | uniq -c | sort -nr

# åœºæ™¯3ï¼šç»Ÿè®¡ç”¨æˆ·ç™»å½•æ¬¡æ•°
last | awk '{print $1}' | sort | uniq -c | sort -nr
```

### 3.2 é«˜çº§é¢‘æ¬¡åˆ†ææŠ€å·§


**ğŸ”§ å¤æ‚æ•°æ®æå–ç»Ÿè®¡**
```bash
# ä»å¤æ‚æ—¥å¿—ä¸­æå–IPå’ŒçŠ¶æ€ç è¿›è¡Œç»Ÿè®¡

# ç¤ºä¾‹æ—¥å¿—æ ¼å¼ï¼š
# 192.168.1.1 - - [15/Jan/2025:10:30:00] "GET /index.html HTTP/1.1" 200 1024

# ç»Ÿè®¡çŠ¶æ€ç å‡ºç°é¢‘æ¬¡
awk '{print $9}' access.log | sort | uniq -c | sort -nr
# ç»“æœç¤ºä¾‹ï¼š
#   1502 200
#    156 404  
#     23 500
#     12 301

# ç»Ÿè®¡æ¯å°æ—¶è®¿é—®é‡
awk '{print substr($4,2,13)}' access.log | sort | uniq -c | sort -nr
# ç»“æœç¤ºä¾‹ï¼š  
#    892 15/Jan/2025:10
#    756 15/Jan/2025:11
#    634 15/Jan/2025:09
```

### 3.3 æ’ååˆ†æä¸è¿‡æ»¤


**ğŸ“Š Top N æ’ååˆ†æ**
```bash
# è·å–è®¿é—®é‡å‰10çš„IPåœ°å€
awk '{print $1}' access.log | sort | uniq -c | sort -nr | head -10

# è·å–æœ€å°‘è®¿é—®çš„10ä¸ªé¡µé¢
awk '{print $7}' access.log | sort | uniq -c | sort -n | head -10

# è¿‡æ»¤æ‰è®¿é—®æ¬¡æ•°å°äº10çš„IP
awk '{print $1}' access.log | sort | uniq -c | awk '$1 >= 10' | sort -nr
```

**âš¡ é«˜æ•ˆè¿‡æ»¤æŠ€å·§**
```bash
# åªç»Ÿè®¡ç‰¹å®šæ—¶é—´æ®µçš„æ•°æ®
grep "15/Jan/2025:1[0-2]:" access.log | awk '{print $1}' | sort | uniq -c | sort -nr

# æ’é™¤ç‰¹å®šIPçš„ç»Ÿè®¡
awk '$1 != "127.0.0.1" {print $1}' access.log | sort | uniq -c | sort -nr

# åªç»Ÿè®¡æˆåŠŸè¯·æ±‚ï¼ˆçŠ¶æ€ç 200ï¼‰
awk '$9 == "200" {print $1}' access.log | sort | uniq -c | sort -nr
```

---

## 4. ğŸ“ˆ æ•°æ®åˆ†å¸ƒç»Ÿè®¡è®¡ç®—


### 4.1 æ•°å€¼åˆ†å¸ƒåˆ†æ


**ğŸ’¡ ä»€ä¹ˆæ˜¯æ•°æ®åˆ†å¸ƒ**
æ•°æ®åˆ†å¸ƒå°±æ˜¯çœ‹æ•°æ®åœ¨å„ä¸ªèŒƒå›´å†…çš„åˆ†å¸ƒæƒ…å†µï¼Œæ¯”å¦‚ç½‘ç«™å“åº”æ—¶é—´å¤§éƒ¨åˆ†é›†ä¸­åœ¨å“ªä¸ªèŒƒå›´ï¼Œè®¿é—®é‡åœ¨ä¸€å¤©ä¸­å¦‚ä½•åˆ†å¸ƒç­‰ã€‚

**ğŸ”¢ æ•°å€¼åŒºé—´ç»Ÿè®¡**
```bash
# ç»Ÿè®¡æ–‡ä»¶å¤§å°åˆ†å¸ƒï¼ˆå°†å¤§å°åˆ†ç»„ï¼‰
ls -l | awk '{
    if ($5 < 1024) print "0-1KB"
    else if ($5 < 10240) print "1KB-10KB"  
    else if ($5 < 102400) print "10KB-100KB"
    else print "100KB+"
}' | sort | uniq -c | sort -nr

# ç»“æœç¤ºä¾‹ï¼š
#     45 0-1KB
#     23 1KB-10KB
#     12 10KB-100KB  
#      5 100KB+
```

### 4.2 æ—¶é—´åˆ†å¸ƒåˆ†æ


**ğŸ• æŒ‰æ—¶é—´ç»´åº¦ç»Ÿè®¡**
```bash
# æŒ‰å°æ—¶ç»Ÿè®¡è®¿é—®åˆ†å¸ƒ
awk '{
    hour = substr($4, 14, 2)  # æå–å°æ—¶éƒ¨åˆ†
    print hour
}' access.log | sort -n | uniq -c

# æŒ‰æ˜ŸæœŸå‡ ç»Ÿè®¡
date -d "$(echo $0 | awk '{print $4}' | tr -d '[]')" +%u

# æ›´å®ç”¨çš„æ¯æ—¥è®¿é—®ç»Ÿè®¡
awk '{
    date = substr($4, 2, 11)  # æå–æ—¥æœŸéƒ¨åˆ†
    print date
}' access.log | sort | uniq -c | sort -nr
```

### 4.3 ç™¾åˆ†æ¯”åˆ†å¸ƒè®¡ç®—


**ğŸ“Š è®¡ç®—å æ¯”ä¿¡æ¯**
```bash
# è®¡ç®—å„çŠ¶æ€ç çš„ç™¾åˆ†æ¯”åˆ†å¸ƒ
awk '{print $9}' access.log | sort | uniq -c | sort -nr | awk '
BEGIN { total = 0 }
{ 
    count[NR] = $1; 
    status[NR] = $2; 
    total += $1 
}
END {
    for (i=1; i<=NR; i++) {
        percent = (count[i] / total) * 100
        printf "%s: %dæ¬¡ (%.2f%%)\n", status[i], count[i], percent
    }
}'

# è¾“å‡ºç¤ºä¾‹ï¼š
# 200: 1502æ¬¡ (85.67%)
# 404: 156æ¬¡ (8.89%)  
# 500: 23æ¬¡ (1.31%)
```

---

## 5. ğŸ”€ å¤šç»´åº¦ç»Ÿè®¡ç»„åˆ


### 5.1 äºŒç»´æ•°æ®ç»Ÿè®¡


**ğŸ’¡ ä»€ä¹ˆæ˜¯å¤šç»´åº¦ç»Ÿè®¡**
å¤šç»´åº¦ç»Ÿè®¡å°±æ˜¯åŒæ—¶æŒ‰å¤šä¸ªæ¡ä»¶è¿›è¡Œåˆ†ç±»ç»Ÿè®¡ï¼Œæ¯”å¦‚åŒæ—¶æŒ‰IPåœ°å€å’Œè®¿é—®æ—¶é—´ç»Ÿè®¡ï¼Œæˆ–è€…æŒ‰ç”¨æˆ·å’Œæ“ä½œç±»å‹ç»Ÿè®¡ã€‚è¿™æ ·èƒ½è·å¾—æ›´è¯¦ç»†çš„æ•°æ®æ´å¯Ÿã€‚

**ğŸ¯ åŒå­—æ®µç»„åˆç»Ÿè®¡**
```bash
# ç»Ÿè®¡æ¯ä¸ªIPåœ¨æ¯å°æ—¶çš„è®¿é—®æ¬¡æ•°
awk '{
    ip = $1
    hour = substr($4, 14, 2)
    print ip, hour
}' access.log | sort | uniq -c | sort -nr | head -20

# ç»“æœç¤ºä¾‹ï¼š
#     156 192.168.1.100 10
#     134 192.168.1.100 11  
#     128 192.168.1.200 10
#     112 192.168.1.200 09
```

### 5.2 å±‚çº§ç»Ÿè®¡åˆ†æ


**ğŸ“Š åˆ†å±‚ç»Ÿè®¡æ–¹æ³•**
```bash
# å…ˆæŒ‰IPç»Ÿè®¡ï¼Œå†æŒ‰çŠ¶æ€ç ç»†åˆ†
awk '{print $1, $9}' access.log | sort | uniq -c | sort -nr | \
awk '{
    ip_status = $2 "_" $3
    print ip_status, $1
}' | sort | uniq -c

# åˆ›å»ºæ›´å¤æ‚çš„åˆ†å±‚ç»Ÿè®¡
awk '{
    ip = $1
    method = $6  
    status = $9
    print ip "|" method "|" status
}' access.log | sort | uniq -c | sort -nr | head -10
```

### 5.3 æ¡ä»¶è¿‡æ»¤ç»Ÿè®¡


**âš¡ å¤šæ¡ä»¶ç»„åˆç­›é€‰**
```bash
# åªç»Ÿè®¡POSTè¯·æ±‚çš„é”™è¯¯çŠ¶æ€ç åˆ†å¸ƒ
awk '$6 == "\"POST" && $9 >= 400 {print $9}' access.log | \
sort | uniq -c | sort -nr

# ç»Ÿè®¡å·¥ä½œæ—¶é—´å†…ï¼ˆ9-17ç‚¹ï¼‰çš„è®¿é—®IPåˆ†å¸ƒ
awk '{
    hour = substr($4, 14, 2)  
    if (hour >= 9 && hour <= 17) print $1
}' access.log | sort | uniq -c | sort -nr | head -10

# æ’é™¤çˆ¬è™«å’Œå†…ç½‘IPçš„çœŸå®ç”¨æˆ·ç»Ÿè®¡
awk '$1 !~ /^(127\.|10\.|192\.168\.)/ && $12 !~ /bot|spider|crawler/ {
    print $1
}' access.log | sort | uniq -c | sort -nr
```

---

## 6. ğŸ¨ ç»Ÿè®¡ç»“æœæ ¼å¼åŒ–è¾“å‡º


### 6.1 åŸºç¡€æ ¼å¼åŒ–æŠ€å·§


**ğŸ’¡ ä¸ºä»€ä¹ˆéœ€è¦æ ¼å¼åŒ–**
åŸå§‹çš„ç»Ÿè®¡ç»“æœå¾€å¾€ä¸å¤Ÿç›´è§‚ï¼Œé€šè¿‡æ ¼å¼åŒ–å¯ä»¥è®©æ•°æ®æ›´å®¹æ˜“é˜…è¯»å’Œç†è§£ï¼Œå°±åƒç»™æ•°æ®ç©¿ä¸Šæ¼‚äº®çš„è¡£æœä¸€æ ·ã€‚

**ğŸ¯ ç¾åŒ–è¾“å‡ºæ ¼å¼**
```bash
# æ·»åŠ è¡¨å¤´å’Œæ ¼å¼åŒ–æ˜¾ç¤º
echo "è®¿é—®æ¬¡æ•°    IPåœ°å€"
echo "--------    --------"  
awk '{print $1}' access.log | sort | uniq -c | sort -nr | head -10 | \
awk '{printf "%8d    %s\n", $1, $2}'

# è¾“å‡ºç¤ºä¾‹ï¼š
# è®¿é—®æ¬¡æ•°    IPåœ°å€
# --------    --------
#      156    192.168.1.100
#      134    192.168.1.200
#      128    192.168.1.300
```

### 6.2 è¡¨æ ¼åŒ–è¾“å‡º


**ğŸ“Š åˆ›å»ºè¡¨æ ¼æ ·å¼**
```bash
# åˆ›å»ºå®Œæ•´çš„ç»Ÿè®¡æŠ¥è¡¨
printf "%-15s %-10s %-10s\n" "IPåœ°å€" "è®¿é—®æ¬¡æ•°" "å æ¯”%"
printf "%-15s %-10s %-10s\n" "---------------" "--------" "------"

awk '{print $1}' access.log | sort | uniq -c | sort -nr | head -10 | \
awk '
BEGIN { total = 0 }
{ 
    ip[NR] = $2; 
    count[NR] = $1; 
    total += $1 
}
END {
    for (i=1; i<=NR; i++) {
        percent = (count[i] / total) * 100
        printf "%-15s %-10d %-10.2f\n", ip[i], count[i], percent
    }
}'
```

### 6.3 å¸¦å•ä½å’Œæè¿°çš„è¾“å‡º


**ğŸ”¢ æ™ºèƒ½å•ä½è½¬æ¢**
```bash
# æ–‡ä»¶å¤§å°ç»Ÿè®¡çš„äººæ€§åŒ–æ˜¾ç¤º
ls -l | awk '{print $5}' | sort -n | uniq -c | sort -nr | awk '{
    size = $2
    count = $1
    
    if (size < 1024) 
        printf "%3dä¸ªæ–‡ä»¶ - å¤§å°: %då­—èŠ‚\n", count, size
    else if (size < 1048576)
        printf "%3dä¸ªæ–‡ä»¶ - å¤§å°: %.1fKB\n", count, size/1024  
    else
        printf "%3dä¸ªæ–‡ä»¶ - å¤§å°: %.1fMB\n", count, size/1048576
}'

# æ—¶é—´èŒƒå›´çš„å‹å¥½æ˜¾ç¤º
awk '{
    hour = substr($4, 14, 2)
    if (hour >= 6 && hour < 12) period = "ä¸Šåˆ"
    else if (hour >= 12 && hour < 18) period = "ä¸‹åˆ"  
    else if (hour >= 18 && hour < 24) period = "æ™šä¸Š"
    else period = "å‡Œæ™¨"
    
    print period
}' access.log | sort | uniq -c | sort -nr
```

---

## 7. âš¡ å¤§æ•°æ®é‡ç»Ÿè®¡ä¼˜åŒ–


### 7.1 æ€§èƒ½ä¼˜åŒ–ç­–ç•¥


**ğŸ’¡ ä¸ºä»€ä¹ˆéœ€è¦ä¼˜åŒ–**
å½“å¤„ç†å‡ GBç”šè‡³æ›´å¤§çš„æ—¥å¿—æ–‡ä»¶æ—¶ï¼Œæ™®é€šçš„ç»Ÿè®¡å‘½ä»¤å¯èƒ½ä¼šå¾ˆæ…¢ï¼Œç”šè‡³å†…å­˜ä¸è¶³ã€‚è¿™æ—¶éœ€è¦ä½¿ç”¨ä¸€äº›ä¼˜åŒ–æŠ€å·§æ¥æé«˜å¤„ç†æ•ˆç‡ã€‚

**ğŸš€ å†…å­˜ä¼˜åŒ–æŠ€å·§**
```bash
# é¿å…ä¸€æ¬¡æ€§åŠ è½½å¤§æ–‡ä»¶åˆ°å†…å­˜
# é”™è¯¯åšæ³•ï¼ˆæ¶ˆè€—å¤§é‡å†…å­˜ï¼‰ï¼š
# cat huge_file.log | sort | uniq -c | sort -nr

# æ­£ç¡®åšæ³•ï¼ˆæµå¼å¤„ç†ï¼‰ï¼š
sort huge_file.log | uniq -c | sort -nr

# ä½¿ç”¨ä¸´æ—¶æ–‡ä»¶åˆ†å—å¤„ç†
split -l 100000 huge_file.log temp_chunk_
for file in temp_chunk_*; do
    sort "$file" | uniq -c >> temp_counts.txt
done
sort temp_counts.txt | awk '{sum[$2] += $1} END {for (i in sum) print sum[i], i}' | sort -nr
```

### 7.2 åˆ†å¸ƒå¼å¤„ç†æ€è·¯


**ğŸ”§ å¹¶è¡Œå¤„ç†æ–¹æ³•**
```bash
# åˆ©ç”¨å¤šæ ¸CPUå¹¶è¡Œå¤„ç†
# å°†å¤§æ–‡ä»¶åˆ†å‰²æˆå¤šä¸ªéƒ¨åˆ†åŒæ—¶å¤„ç†
split -n 4 huge_file.log chunk_

# å¹¶è¡Œå¤„ç†æ¯ä¸ªåˆ†å—
for i in {1..4}; do
    (
        sort chunk_0$i | uniq -c | sort -nr > result_$i.txt
    ) &
done
wait

# åˆå¹¶ç»“æœ
cat result_*.txt | awk '{sum[$2] += $1} END {for (i in sum) print sum[i], i}' | sort -nr
```

### 7.3 é¢„å¤„ç†ä¼˜åŒ–


**ğŸ“Š æ™ºèƒ½é‡‡æ ·ç»Ÿè®¡**
```bash
# å¯¹äºè¶…å¤§æ–‡ä»¶ï¼Œå¯ä»¥é‡‡æ ·åˆ†æ
# æ¯100è¡Œå–1è¡Œè¿›è¡Œåˆ†æ
awk 'NR % 100 == 0 {print $1}' huge_file.log | sort | uniq -c | sort -nr

# åªåˆ†ææœ€è¿‘çš„Nè¡Œæ•°æ®
tail -n 100000 huge_file.log | awk '{print $1}' | sort | uniq -c | sort -nr

# æŒ‰æ—¶é—´èŒƒå›´é¢„è¿‡æ»¤
grep "$(date +%d/%b/%Y)" access.log | awk '{print $1}' | sort | uniq -c | sort -nr
```

---

## 8. âš–ï¸ ç»Ÿè®¡ç²¾åº¦ä¸æ€§èƒ½å¹³è¡¡


### 8.1 ç²¾åº¦ä¸é€Ÿåº¦çš„æƒè¡¡


**ğŸ’¡ ä»€ä¹ˆæ˜¯ç»Ÿè®¡ç²¾åº¦**
ç»Ÿè®¡ç²¾åº¦å°±æ˜¯ç»Ÿè®¡ç»“æœçš„å‡†ç¡®æ€§ã€‚æœ‰æ—¶å€™æˆ‘ä»¬å¯ä»¥é€‚å½“ç‰ºç‰²ä¸€ç‚¹ç²¾åº¦æ¥æ¢å–æ›´å¿«çš„å¤„ç†é€Ÿåº¦ï¼Œç‰¹åˆ«æ˜¯åœ¨å¤„ç†è¶…å¤§æ•°æ®é›†æ—¶ã€‚

**ğŸ¯ ä¸åŒç²¾åº¦éœ€æ±‚çš„å¤„ç†æ–¹æ³•**
```bash
# é«˜ç²¾åº¦ç»Ÿè®¡ï¼ˆæ…¢ä½†å‡†ç¡®ï¼‰
sort large_file.log | uniq -c | sort -nr

# ä¸­ç­‰ç²¾åº¦ç»Ÿè®¡ï¼ˆé‡‡æ ·åˆ†æï¼‰
awk 'NR % 10 == 0' large_file.log | sort | uniq -c | sort -nr

# å¿«é€Ÿä¼°ç®—ï¼ˆå–å‰Nè¡Œåˆ†æï¼‰
head -n 10000 large_file.log | sort | uniq -c | sort -nr

# å®æ—¶ç›‘æ§æ¨¡å¼ï¼ˆåªçœ‹æœ€æ–°æ•°æ®ï¼‰
tail -f access.log | awk '{print $1}' | sort | uniq -c | sort -nr
```

### 8.2 ç»“æœå¯ä¿¡åº¦è¯„ä¼°


**ğŸ“Š ç»Ÿè®¡ç½®ä¿¡åº¦è®¡ç®—**
```bash
# è®¡ç®—é‡‡æ ·çš„ä»£è¡¨æ€§
total_lines=$(wc -l < large_file.log)
sample_lines=1000

echo "æ€»è¡Œæ•°: $total_lines"
echo "é‡‡æ ·è¡Œæ•°: $sample_lines"
echo "é‡‡æ ·æ¯”ä¾‹: $(echo "scale=2; $sample_lines * 100 / $total_lines" | bc)%"

# åŸºäºé‡‡æ ·çš„ç»Ÿè®¡ç»“æœ
head -n $sample_lines large_file.log | awk '{print $1}' | sort | uniq -c | sort -nr | \
awk -v total="$total_lines" -v sample="$sample_lines" '{
    estimated = $1 * (total / sample)
    printf "%s: é‡‡æ ·%dæ¬¡, ä¼°ç®—æ€»æ•°%.0fæ¬¡\n", $2, $1, estimated
}'
```

### 8.3 åŠ¨æ€ç²¾åº¦è°ƒæ•´


**âš¡ è‡ªé€‚åº”å¤„ç†ç­–ç•¥**
```bash
# æ ¹æ®æ–‡ä»¶å¤§å°è‡ªåŠ¨é€‰æ‹©å¤„ç†æ–¹å¼
file_size=$(stat -f%z "$1" 2>/dev/null || stat -c%s "$1" 2>/dev/null)

if [ "$file_size" -lt 1048576 ]; then    # å°äº1MB
    echo "å°æ–‡ä»¶ï¼Œä½¿ç”¨é«˜ç²¾åº¦ç»Ÿè®¡"
    sort "$1" | uniq -c | sort -nr
elif [ "$file_size" -lt 104857600 ]; then  # å°äº100MB  
    echo "ä¸­ç­‰æ–‡ä»¶ï¼Œä½¿ç”¨æ ‡å‡†ç»Ÿè®¡"
    sort "$1" | uniq -c | sort -nr | head -50
else                                       # å¤§äº100MB
    echo "å¤§æ–‡ä»¶ï¼Œä½¿ç”¨é‡‡æ ·ç»Ÿè®¡"
    awk 'NR % 100 == 0' "$1" | sort | uniq -c | sort -nr | head -20
fi
```

---

## 9. ğŸ“Š ç»Ÿè®¡ç»“æœå¯è§†åŒ–å‡†å¤‡


### 9.1 ä¸ºå›¾è¡¨å·¥å…·å‡†å¤‡æ•°æ®


**ğŸ’¡ ä»€ä¹ˆæ˜¯å¯è§†åŒ–å‡†å¤‡**
è™½ç„¶Linuxå‘½ä»¤è¡Œå·¥å…·ä¸èƒ½ç›´æ¥ç”»å›¾ï¼Œä½†æˆ‘ä»¬å¯ä»¥å°†ç»Ÿè®¡ç»“æœæ•´ç†æˆé€‚åˆå…¶ä»–å¯è§†åŒ–å·¥å…·ï¼ˆå¦‚Excelã€Pythonã€Rï¼‰ä½¿ç”¨çš„æ ¼å¼ã€‚

**ğŸ¯ CSVæ ¼å¼è¾“å‡º**
```bash
# ç”Ÿæˆæ ‡å‡†CSVæ ¼å¼
echo "IPåœ°å€,è®¿é—®æ¬¡æ•°,å æ¯”%" > access_stats.csv
awk '{print $1}' access.log | sort | uniq -c | sort -nr | head -20 | \
awk '
BEGIN { total = 0 }
{ 
    ip[NR] = $2; 
    count[NR] = $1; 
    total += $1 
}
END {
    for (i=1; i<=NR; i++) {
        percent = (count[i] / total) * 100
        printf "%s,%d,%.2f\n", ip[i], count[i], percent
    }
}' >> access_stats.csv
```

### 9.2 æ—¶åºæ•°æ®å‡†å¤‡


**ğŸ“ˆ æ—¶é—´åºåˆ—æ ¼å¼**
```bash
# ç”ŸæˆæŒ‰å°æ—¶ç»Ÿè®¡çš„æ—¶åºæ•°æ®
echo "å°æ—¶,è®¿é—®æ¬¡æ•°" > hourly_stats.csv
awk '{
    hour = substr($4, 14, 2)
    print hour
}' access.log | sort -n | uniq -c | awk '{
    printf "%02d:00,%d\n", $2, $1
}' >> hourly_stats.csv

# ç”ŸæˆæŒ‰å¤©ç»Ÿè®¡çš„æ•°æ®
echo "æ—¥æœŸ,è®¿é—®æ¬¡æ•°" > daily_stats.csv  
awk '{
    date = substr($4, 2, 11)
    print date
}' access.log | sort | uniq -c | awk '{
    printf "%s,%d\n", $2, $1
}' >> daily_stats.csv
```

### 9.3 å¤šç»´æ•°æ®é€è§†


**ğŸ”¢ äº¤å‰ç»Ÿè®¡è¡¨æ ¼**
```bash
# åˆ›å»ºIPÃ—çŠ¶æ€ç çš„äº¤å‰ç»Ÿè®¡è¡¨
awk '{print $1, $9}' access.log | sort | uniq -c | awk '
BEGIN {
    print "IPåœ°å€,200,404,500,å…¶ä»–"
}
{
    ip = $2
    status = $3  
    count = $1
    
    if (status == "200") stats[ip]["200"] += count
    else if (status == "404") stats[ip]["404"] += count
    else if (status == "500") stats[ip]["500"] += count  
    else stats[ip]["other"] += count
}
END {
    for (ip in stats) {
        printf "%s,%d,%d,%d,%d\n", 
            ip, 
            stats[ip]["200"]+0, 
            stats[ip]["404"]+0,
            stats[ip]["500"]+0,
            stats[ip]["other"]+0
    }
}'
```

---

## 10. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 10.1 å¿…é¡»æŒæ¡çš„åŸºç¡€æŠ€èƒ½


```bash
ğŸ”¸ åŸºæœ¬ç»Ÿè®¡ç»„åˆï¼šsort | uniq -c | sort -nr
ğŸ”¸ é¢‘æ¬¡åˆ†æï¼šç»Ÿè®¡æ•°æ®å‡ºç°æ¬¡æ•°å¹¶æ’å
ğŸ”¸ å¤šå­—æ®µç»Ÿè®¡ï¼šåŒæ—¶æŒ‰å¤šä¸ªç»´åº¦åˆ†ç±»ç»Ÿè®¡  
ğŸ”¸ ç»“æœæ ¼å¼åŒ–ï¼šè®©ç»Ÿè®¡ç»“æœæ›´æ˜“è¯»æ˜“æ‡‚
ğŸ”¸ æ€§èƒ½ä¼˜åŒ–ï¼šå¤„ç†å¤§æ•°æ®é‡æ—¶çš„ä¼˜åŒ–ç­–ç•¥
ğŸ”¸ æ•°æ®å¯¼å‡ºï¼šä¸ºå…¶ä»–å·¥å…·å‡†å¤‡æ ‡å‡†æ ¼å¼æ•°æ®
```

### 10.2 æ ¸å¿ƒå‘½ä»¤é€ŸæŸ¥


**âš¡ å¸¸ç”¨ç»Ÿè®¡æ¨¡å¼**
```bash
# åŸºç¡€é¢‘æ¬¡ç»Ÿè®¡
sort file | uniq -c | sort -nr

# æŒ‡å®šå­—æ®µç»Ÿè®¡  
awk '{print $N}' file | sort | uniq -c | sort -nr

# æ¡ä»¶è¿‡æ»¤ç»Ÿè®¡
awk 'condition {print $N}' file | sort | uniq -c | sort -nr

# å¤šå­—æ®µç»„åˆç»Ÿè®¡
awk '{print $N, $M}' file | sort | uniq -c | sort -nr

# ç™¾åˆ†æ¯”ç»Ÿè®¡
command | awk 'BEGIN{total=0} {count[NR]=$1; item[NR]=$2; total+=$1} 
END {for(i=1;i<=NR;i++) printf "%s: %.2f%%\n", item[i], count[i]*100/total}'
```

### 10.3 å®é™…åº”ç”¨åœºæ™¯


**ğŸ¯ å…¸å‹åº”ç”¨é¢†åŸŸ**
- **ğŸ“Š æ—¥å¿—åˆ†æ**ï¼šç½‘ç«™è®¿é—®ç»Ÿè®¡ã€é”™è¯¯åˆ†æã€æ€§èƒ½ç›‘æ§
- **ğŸ‘¥ ç”¨æˆ·è¡Œä¸º**ï¼šç™»å½•ç»Ÿè®¡ã€åŠŸèƒ½ä½¿ç”¨é¢‘æ¬¡ã€ç”¨æˆ·ç”»åƒ
- **ğŸ”§ ç³»ç»Ÿç›‘æ§**ï¼šè¿›ç¨‹ç»Ÿè®¡ã€èµ„æºä½¿ç”¨ã€æ€§èƒ½æŒ‡æ ‡  
- **ğŸ“ˆ ä¸šåŠ¡åˆ†æ**ï¼šé”€å”®ç»Ÿè®¡ã€åœ°åŸŸåˆ†å¸ƒã€è¶‹åŠ¿åˆ†æ
- **ğŸ›¡ï¸ å®‰å…¨å®¡è®¡**ï¼šå¼‚å¸¸æ£€æµ‹ã€æ”»å‡»åˆ†æã€åˆè§„æ£€æŸ¥

### 10.4 æœ€ä½³å®è·µå»ºè®®


**ğŸ’¡ æå‡æ•ˆç‡çš„æŠ€å·§**
```
æ€§èƒ½ä¼˜åŒ–åŸåˆ™ï¼š
â€¢ å¤§æ–‡ä»¶ä¼˜å…ˆè€ƒè™‘é‡‡æ ·åˆ†æ
â€¢ å¤šæ ¸å¿ƒæœºå™¨ä½¿ç”¨å¹¶è¡Œå¤„ç†
â€¢ æå‰è¿‡æ»¤ä¸éœ€è¦çš„æ•°æ®
â€¢ åˆç†ä½¿ç”¨ä¸´æ—¶æ–‡ä»¶

å‡†ç¡®æ€§ä¿è¯ï¼š
â€¢ ç†è§£æ•°æ®ç‰¹ç‚¹é€‰æ‹©åˆé€‚æ–¹æ³•
â€¢ éªŒè¯ç»Ÿè®¡ç»“æœçš„åˆç†æ€§  
â€¢ è®°å½•å¤„ç†è¿‡ç¨‹å’Œå‡è®¾æ¡ä»¶
â€¢ æä¾›ç½®ä¿¡åº¦å’Œè¯¯å·®èŒƒå›´

å¯è¯»æ€§æå‡ï¼š
â€¢ æ·»åŠ æ¸…æ™°çš„è¡¨å¤´è¯´æ˜
â€¢ ä½¿ç”¨äººæ€§åŒ–çš„å•ä½æ˜¾ç¤º
â€¢ æä¾›ç™¾åˆ†æ¯”å’Œæ’åä¿¡æ¯
â€¢ å¯¼å‡ºæ ‡å‡†æ ¼å¼ä¾¿äºåç»­åˆ†æ
```

### 10.5 è¿›é˜¶å­¦ä¹ æ–¹å‘


**ğŸš€ æ‰©å±•æŠ€èƒ½**
- **é«˜çº§AWKç¼–ç¨‹**ï¼šå¤æ‚æ•°æ®å¤„ç†é€»è¾‘
- **æ­£åˆ™è¡¨è¾¾å¼ç²¾é€š**ï¼šå¤æ‚æ¨¡å¼åŒ¹é…
- **Shellè„šæœ¬è‡ªåŠ¨åŒ–**ï¼šæ‰¹é‡ç»Ÿè®¡å’ŒæŠ¥å‘Šç”Ÿæˆ  
- **æ•°æ®å¯è§†åŒ–**ï¼šç»“åˆPython/Rè¿›è¡Œå›¾è¡¨åˆ¶ä½œ
- **å¤§æ•°æ®å·¥å…·**ï¼šSparkã€Hadoopç­‰åˆ†å¸ƒå¼å¤„ç†

**æ ¸å¿ƒè®°å¿†å£è¯€**ï¼š
- æ’åºèšåˆå†ç»Ÿè®¡ï¼Œå»é‡è®¡æ•°æ˜¾é¢‘æ¬¡
- å¤šç»´ç»„åˆæ·±åˆ†æï¼Œæ ¼å¼ç¾åŒ–æ˜“ç†è§£  
- å¤§æ•°æ®é‡éœ€ä¼˜åŒ–ï¼Œç²¾åº¦æ€§èƒ½è¦å¹³è¡¡
- ç»“æœå¯¼å‡ºå¤‡å¯è§†ï¼ŒLinuxç»Ÿè®¡å¨åŠ›å¼º