---
title: 40ã€awkæ•°å€¼è®¡ç®—ä¸ç»Ÿè®¡
---
## ğŸ“š ç›®å½•

1. [awkæ•°å€¼è¿ç®—åŸºç¡€](#1-awkæ•°å€¼è¿ç®—åŸºç¡€)
2. [ç»Ÿè®¡è®¡ç®—æ ¸å¿ƒæ“ä½œ](#2-ç»Ÿè®¡è®¡ç®—æ ¸å¿ƒæ“ä½œ)
3. [è®¡æ•°å™¨ä¸ç´¯åŠ å™¨æŠ€æœ¯](#3-è®¡æ•°å™¨ä¸ç´¯åŠ å™¨æŠ€æœ¯)
4. [æ•°å­¦å‡½æ•°åº”ç”¨è¯¦è§£](#4-æ•°å­¦å‡½æ•°åº”ç”¨è¯¦è§£)
5. [ç²¾åº¦æ§åˆ¶ä¸æ ¼å¼åŒ–](#5-ç²¾åº¦æ§åˆ¶ä¸æ ¼å¼åŒ–)
6. [è´¢åŠ¡è®¡ç®—å®æˆ˜æ¡ˆä¾‹](#6-è´¢åŠ¡è®¡ç®—å®æˆ˜æ¡ˆä¾‹)
7. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#7-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ”¢ awkæ•°å€¼è¿ç®—åŸºç¡€


### 1.1 ä»€ä¹ˆæ˜¯awkæ•°å€¼è¿ç®—


**ğŸ”¸ ç®€å•ç†è§£**
awkä¸ä»…èƒ½å¤„ç†æ–‡æœ¬ï¼Œè¿˜æ˜¯ä¸ªå¼ºå¤§çš„è®¡ç®—å™¨ï¼æƒ³è±¡ä¸€ä¸‹ï¼Œä½ æœ‰ä¸€ä¸ªExcelè¡¨æ ¼ï¼Œawkå°±åƒæ˜¯èƒ½è‡ªåŠ¨è®¡ç®—å„ç§æ•°å­¦å…¬å¼çš„æ™ºèƒ½åŠ©æ‰‹ã€‚

**æ ¸å¿ƒç‰¹ç‚¹ï¼š**
- ğŸŸ¢ **è‡ªåŠ¨è¯†åˆ«**ï¼šawkä¼šè‡ªåŠ¨åˆ¤æ–­æ•°æ®æ˜¯æ•°å­—è¿˜æ˜¯æ–‡å­—
- ğŸŸ¡ **æ··åˆè¿ç®—**ï¼šå¯ä»¥åœ¨å¤„ç†æ–‡æœ¬çš„åŒæ—¶è¿›è¡Œè®¡ç®—  
- ğŸ”´ **å®æ—¶å¤„ç†**ï¼šè¾¹è¯»å–æ•°æ®è¾¹è®¡ç®—ï¼Œä¸éœ€è¦å…ˆå­˜å‚¨

### 1.2 åŸºç¡€è¿ç®—ç¬¦è¯¦è§£


**ğŸ”¸ ç®—æœ¯è¿ç®—ç¬¦**
```bash
# åŸºæœ¬å››åˆ™è¿ç®—
+ - * /    # åŠ å‡ä¹˜é™¤
%          # å–ä½™æ•°ï¼ˆæ±‚æ¨¡ï¼‰
^          # å¹‚è¿ç®—ï¼ˆä¹˜æ–¹ï¼‰
++  --     # è‡ªå¢è‡ªå‡
```

**ğŸ’¡ å®é™…ä¾‹å­**
```bash
# è®¡ç®—æ–‡ä»¶ä¸­ç¬¬3åˆ—å’Œç¬¬4åˆ—çš„å’Œ
awk '{print $3 + $4}' data.txt

# è®¡ç®—å¹³å‡å€¼
awk '{print ($2 + $3 + $4) / 3}' scores.txt
```

### 1.3 æ•°å€¼ç±»å‹è‡ªåŠ¨è½¬æ¢


**ğŸ§  awkçš„èªæ˜ä¹‹å¤„**
awkä¼šæ ¹æ®ä¸Šä¸‹æ–‡è‡ªåŠ¨åˆ¤æ–­æ•°æ®ç±»å‹ï¼Œè¿™å°±åƒäººè„‘ä¸€æ ·æ™ºèƒ½ï¼š

```
æ–‡æœ¬ç¯å¢ƒï¼š   "123" + "456" â†’ "123456" (å­—ç¬¦ä¸²æ‹¼æ¥)
æ•°å€¼ç¯å¢ƒï¼š   "123" + "456" â†’ 579      (æ•°å€¼ç›¸åŠ )
æ··åˆç¯å¢ƒï¼š   "abc" + 123   â†’ 123      (éæ•°å€¼å­—ç¬¦ä¸²è½¬ä¸º0)
```

**å®ç”¨ç¤ºä¾‹ï¼š**
```bash
# æµ‹è¯•æ•°æ®ï¼šsales.txt
# äº§å“A 100 200
# äº§å“B 150 abc  
# äº§å“C 200 300

# awkä¼šè‡ªåŠ¨å¤„ç†
awk '{total = $2 + $3; print $1, total}' sales.txt
# è¾“å‡ºï¼š
# äº§å“A 300    (100+200)
# äº§å“B 150    (150+0ï¼Œabcè½¬ä¸º0)  
# äº§å“C 500    (200+300)
```

---

## 2. ğŸ“Š ç»Ÿè®¡è®¡ç®—æ ¸å¿ƒæ“ä½œ


### 2.1 åŸºç¡€ç»Ÿè®¡å‡½æ•°å®ç°


**ğŸ”¸ å››å¤§æ ¸å¿ƒç»Ÿè®¡ï¼šæ±‚å’Œ(sum)ã€å¹³å‡å€¼(avg)ã€æœ€å¤§å€¼(max)ã€æœ€å°å€¼(min)**

è¿™å°±åƒå­¦æ ¡è€å¸ˆç»Ÿè®¡å…¨ç­æˆç»©ä¸€æ ·ï¼Œéœ€è¦çŸ¥é“æ€»åˆ†ã€å¹³å‡åˆ†ã€æœ€é«˜åˆ†ã€æœ€ä½åˆ†ã€‚

**æ±‚å’Œè®¡ç®— - SUM**
```bash
# è®¡ç®—ç¬¬2åˆ—çš„æ€»å’Œ
awk '{sum += $2} END {print "æ€»å’Œ:", sum}' numbers.txt

# å¤šåˆ—æ±‚å’Œ
awk '{sum1 += $2; sum2 += $3} END {print "ç¬¬2åˆ—:", sum1, "ç¬¬3åˆ—:", sum2}' data.txt
```

**å¹³å‡å€¼è®¡ç®— - AVERAGE**  
```bash
# è®¡ç®—å¹³å‡å€¼ï¼ˆéœ€è¦è®°å½•è¡Œæ•°ï¼‰
awk '{sum += $2; count++} END {print "å¹³å‡å€¼:", sum/count}' scores.txt

# æ›´å®‰å…¨çš„ç‰ˆæœ¬ï¼ˆé˜²æ­¢é™¤é›¶é”™è¯¯ï¼‰
awk '{sum += $2; count++} END {if(count > 0) print "å¹³å‡å€¼:", sum/count; else print "æ— æ•°æ®"}' scores.txt
```

### 2.2 æœ€å€¼è®¡ç®—è¯¦è§£


**æœ€å¤§å€¼å’Œæœ€å°å€¼ - MAX & MIN**

â­ **é‡è¦æ¦‚å¿µ**ï¼šåˆå§‹åŒ–æŠ€å·§
- æœ€å¤§å€¼åˆå§‹åŒ–ä¸ºè´Ÿæ— ç©·æˆ–ç¬¬ä¸€ä¸ªå€¼
- æœ€å°å€¼åˆå§‹åŒ–ä¸ºæ­£æ— ç©·æˆ–ç¬¬ä¸€ä¸ªå€¼

```bash
# æ‰¾æœ€å¤§å€¼
awk 'NR==1 {max=$2} {if($2 > max) max=$2} END {print "æœ€å¤§å€¼:", max}' data.txt

# æ‰¾æœ€å°å€¼  
awk 'NR==1 {min=$2} {if($2 < min) min=$2} END {print "æœ€å°å€¼:", min}' data.txt

# åŒæ—¶æ‰¾æœ€å¤§æœ€å°å€¼
awk '
NR==1 {max=$2; min=$2} 
{
    if($2 > max) max=$2
    if($2 < min) min=$2
} 
END {print "æœ€å¤§å€¼:", max, "æœ€å°å€¼:", min}
' data.txt
```

### 2.3 é«˜çº§ç»Ÿè®¡è®¡ç®—


**ğŸ”¸ æ ‡å‡†å·®å’Œæ–¹å·®è®¡ç®—**

ğŸ’¡ **ä»€ä¹ˆæ˜¯æ ‡å‡†å·®ï¼Ÿ**
æ ‡å‡†å·®è¡¡é‡æ•°æ®çš„ç¦»æ•£ç¨‹åº¦ï¼Œå°±åƒæµ‹é‡å­¦ç”Ÿæˆç»©çš„æ³¢åŠ¨å¤§å°ã€‚

```bash
# è®¡ç®—æ ‡å‡†å·®ï¼ˆä¸¤æ­¥æ³•ï¼šå…ˆç®—å¹³å‡å€¼ï¼Œå†ç®—æ ‡å‡†å·®ï¼‰
awk '
{
    data[NR] = $2    # å­˜å‚¨æ‰€æœ‰æ•°æ®
    sum += $2        # è®¡ç®—æ€»å’Œ
    count++
}
END {
    if(count > 0) {
        avg = sum / count
        for(i=1; i<=count; i++) {
            variance += (data[i] - avg)^2
        }
        stddev = sqrt(variance / count)
        print "å¹³å‡å€¼:", avg
        print "æ ‡å‡†å·®:", stddev  
    }
}
' numbers.txt
```

---

## 3. ğŸ”„ è®¡æ•°å™¨ä¸ç´¯åŠ å™¨æŠ€æœ¯


### 3.1 è®¡æ•°å™¨åŸºç¡€æ¦‚å¿µ


**ğŸ”¸ ä»€ä¹ˆæ˜¯è®¡æ•°å™¨ï¼Ÿ**
è®¡æ•°å™¨å°±åƒç‚¹åå†Œï¼Œè®°å½•ç‰¹å®šäº‹ä»¶å‘ç”Ÿçš„æ¬¡æ•°ã€‚æ¯”å¦‚ç»Ÿè®¡åŠæ ¼å­¦ç”Ÿäººæ•°ã€è¿Ÿåˆ°æ¬¡æ•°ç­‰ã€‚

**åŸºç¡€è®¡æ•°æ¨¡å¼ï¼š**
```bash
# ç»Ÿè®¡è¡Œæ•°ï¼ˆç­‰åŒäºwc -lï¼‰
awk 'END {print "æ€»è¡Œæ•°:", NR}' file.txt

# æ¡ä»¶è®¡æ•°
awk '$2 >= 60 {pass++} END {print "åŠæ ¼äººæ•°:", pass+0}' scores.txt

# å¤šæ¡ä»¶è®¡æ•°
awk '
$2 >= 90 {excellent++}
$2 >= 60 && $2 < 90 {good++}
$2 < 60 {fail++}
END {
    print "ä¼˜ç§€:", excellent+0
    print "è‰¯å¥½:", good+0  
    print "ä¸åŠæ ¼:", fail+0
}
' scores.txt
```

> ğŸ’¡ **å°æŠ€å·§**ï¼š`+0` ç¡®ä¿æœªåˆå§‹åŒ–çš„å˜é‡æ˜¾ç¤ºä¸º0è€Œä¸æ˜¯ç©ºç™½

### 3.2 ç´¯åŠ å™¨é«˜çº§åº”ç”¨


**ğŸ”¸ ä»€ä¹ˆæ˜¯ç´¯åŠ å™¨ï¼Ÿ**
ç´¯åŠ å™¨åƒå­˜é’±ç½ï¼Œä¸æ–­ç´¯ç§¯æ•°å€¼ã€‚å¯ä»¥ç´¯åŠ æ•°é‡ã€é‡‘é¢ã€æ—¶é—´ç­‰ä»»ä½•æ•°å€¼ã€‚

**åˆ†ç»„ç´¯åŠ ç¤ºä¾‹ï¼š**
```bash
# æŒ‰éƒ¨é—¨ç»Ÿè®¡å·¥èµ„æ€»é¢
# æ•°æ®æ ¼å¼ï¼šå§“å éƒ¨é—¨ å·¥èµ„
awk '
{
    dept_total[$2] += $3    # ä»¥éƒ¨é—¨ä¸ºé”®ç´¯åŠ å·¥èµ„
    dept_count[$2]++        # ç»Ÿè®¡å„éƒ¨é—¨äººæ•°
}
END {
    for(dept in dept_total) {
        avg = dept_total[dept] / dept_count[dept]
        print dept "éƒ¨é—¨: æ€»å·¥èµ„=" dept_total[dept] ", å¹³å‡å·¥èµ„=" avg
    }
}
' employee.txt
```

**ç´¯ç§¯ç™¾åˆ†æ¯”è®¡ç®—ï¼š**
```bash
# è®¡ç®—ç´¯ç§¯å æ¯”
awk '
{
    values[NR] = $2
    total += $2
}
END {
    cumulative = 0
    for(i=1; i<=NR; i++) {
        cumulative += values[i]
        percentage = (cumulative / total) * 100
        print "ç¬¬" i "é¡¹: " values[i] ", ç´¯ç§¯å æ¯”: " percentage "%"
    }
}
' data.txt
```

### 3.3 æ»‘åŠ¨çª—å£ç»Ÿè®¡


**ğŸ”¸ æ»‘åŠ¨çª—å£æ¦‚å¿µ**
å°±åƒç§»åŠ¨çš„æ”¾å¤§é•œï¼Œåªçœ‹å›ºå®šèŒƒå›´å†…çš„æ•°æ®è¿›è¡Œç»Ÿè®¡ã€‚æ¯”å¦‚è®¡ç®—æœ€è¿‘3å¤©çš„å¹³å‡é”€é‡ã€‚

```bash
# 3è¡Œæ»‘åŠ¨å¹³å‡
awk '
{
    window[NR % 3] = $2    # å¾ªç¯å­˜å‚¨æœ€è¿‘3ä¸ªå€¼
    if(NR >= 3) {
        sum = 0
        for(i=0; i<3; i++) sum += window[i]
        print "è¡Œ" NR ": 3æœŸç§»åŠ¨å¹³å‡ =", sum/3
    }
}
' timeseries.txt
```

---

## 4. ğŸ“ æ•°å­¦å‡½æ•°åº”ç”¨è¯¦è§£  


### 4.1 å¸¸ç”¨æ•°å­¦å‡½æ•°åº“


**ğŸ”¸ awkå†…ç½®æ•°å­¦å‡½æ•°**

| å‡½æ•° | **ä½œç”¨** | **ç¤ºä¾‹** | **åº”ç”¨åœºæ™¯** |
|------|----------|----------|-------------|
| `sqrt(x)` | **å¹³æ–¹æ ¹** | `sqrt(16) = 4` | `å‡ ä½•è®¡ç®—ã€ç»Ÿè®¡` |
| `int(x)` | **å–æ•´** | `int(3.14) = 3` | `ç²¾åº¦æ§åˆ¶` |
| `rand()` | **éšæœºæ•°[0,1)** | `rand() = 0.23...` | `æŠ½æ ·ã€æ¨¡æ‹Ÿ` |
| `sin(x)` | **æ­£å¼¦** | `sin(3.14159/2) = 1` | `ä¸‰è§’è¿ç®—` |
| `cos(x)` | **ä½™å¼¦** | `cos(0) = 1` | `å‘¨æœŸåˆ†æ` |
| `atan2(y,x)` | **åæ­£åˆ‡** | `atan2(1,1) = 0.785` | `è§’åº¦è®¡ç®—` |
| `exp(x)` | **eçš„xæ¬¡å¹‚** | `exp(1) = 2.718` | `æŒ‡æ•°å¢é•¿` |
| `log(x)` | **è‡ªç„¶å¯¹æ•°** | `log(2.718) = 1` | `å¯¹æ•°è®¡ç®—` |

### 4.2 å®ç”¨æ•°å­¦è®¡ç®—ç¤ºä¾‹


**ğŸ”¸ å‡ ä½•è®¡ç®—**
```bash
# è®¡ç®—åœ†çš„é¢ç§¯å’Œå‘¨é•¿ï¼ˆè¾“å…¥åŠå¾„ï¼‰
awk '
BEGIN {PI = 3.14159}
{
    radius = $1
    area = PI * radius^2
    circumference = 2 * PI * radius
    print "åŠå¾„:", radius, "é¢ç§¯:", area, "å‘¨é•¿:", circumference
}
' radii.txt
```

**ğŸ”¸ è·ç¦»è®¡ç®—ï¼ˆå‹¾è‚¡å®šç†ï¼‰**
```bash
# è®¡ç®—ä¸¤ç‚¹é—´è·ç¦»
awk '
{
    x1=$1; y1=$2; x2=$3; y2=$4
    distance = sqrt((x2-x1)^2 + (y2-y1)^2)
    print "è·ç¦»:", distance
}
' coordinates.txt
```

**ğŸ”¸ éšæœºæŠ½æ ·**
```bash
# éšæœºé€‰æ‹©30%çš„æ•°æ®è¡Œ
awk 'rand() < 0.3 {print}' largefile.txt

# ç”ŸæˆæŒ‡å®šèŒƒå›´çš„éšæœºæ•´æ•°
awk 'BEGIN {srand(); for(i=1;i<=10;i++) print int(rand()*100)+1}' 
```

### 4.3 ä¸‰è§’å‡½æ•°å®é™…åº”ç”¨


**ğŸ”¸ å‘¨æœŸæ•°æ®åˆ†æ**
```bash
# æ¨¡æ‹Ÿæ­£å¼¦æ³¢æ•°æ®å¹¶åˆ†æ
awk '
BEGIN {
    PI = 3.14159
    for(x=0; x<=360; x+=10) {
        radian = x * PI / 180        # åº¦è½¬å¼§åº¦
        y = sin(radian)
        print x, y
    }
}
' | awk '{sum += $2; max = ($2 > max) ? $2 : max} END {print "å¹³å‡å€¼:", sum/NR, "æœ€å¤§å€¼:", max}'
```

---

## 5. âš™ï¸ ç²¾åº¦æ§åˆ¶ä¸æ ¼å¼åŒ–


### 5.1 æ•°å€¼ç²¾åº¦é—®é¢˜


**ğŸ”¸ ä¸ºä»€ä¹ˆéœ€è¦ç²¾åº¦æ§åˆ¶ï¼Ÿ**
è®¡ç®—æœºå¤„ç†å°æ•°æ—¶ä¼šæœ‰å¾®å°è¯¯å·®ï¼Œå°±åƒç”¨æ™®é€šå°ºå­æµ‹é‡ï¼Œæ€»æœ‰è¯¯å·®èŒƒå›´ã€‚

**å¸¸è§ç²¾åº¦é—®é¢˜ï¼š**
```
0.1 + 0.2 = 0.30000000000000004  (ä¸æ˜¯æœŸæœ›çš„0.3)
1/3 * 3 = 0.9999999999999999      (ä¸æ˜¯æœŸæœ›çš„1)
```

### 5.2 printfæ ¼å¼åŒ–è¾“å‡º


**ğŸ”¸ printfåŸºç¡€è¯­æ³•**

â­ **æ ¸å¿ƒæ ¼å¼**ï¼š`printf "æ ¼å¼å­—ç¬¦ä¸²", å˜é‡1, å˜é‡2, ...`

| æ ¼å¼ç¬¦ | **å«ä¹‰** | **ç¤ºä¾‹** | **è¾“å‡º** |
|--------|----------|----------|----------|
| `%d` | **æ•´æ•°** | `printf "%d", 3.14` | `3` |
| `%f` | **å°æ•°** | `printf "%f", 3.14` | `3.140000` |
| `%.2f` | **ä¿ç•™2ä½å°æ•°** | `printf "%.2f", 3.14159` | `3.14` |
| `%8.2f` | **å®½åº¦8ï¼Œä¿ç•™2ä½** | `printf "%8.2f", 3.14` | `    3.14` |
| `%-8.2f` | **å·¦å¯¹é½ï¼Œå®½åº¦8** | `printf "%-8.2f", 3.14` | `3.14    ` |

**å®ç”¨æ ¼å¼åŒ–ç¤ºä¾‹ï¼š**
```bash
# è´¢åŠ¡æŠ¥è¡¨æ ¼å¼
awk '
BEGIN {
    printf "%-10s %10s %10s %10s\n", "å•†å“", "å•ä»·", "æ•°é‡", "æ€»é¢"
    printf "%-10s %10s %10s %10s\n", "----", "----", "----", "----"
}
{
    total = $2 * $3
    printf "%-10s %10.2f %10d %10.2f\n", $1, $2, $3, total
}
' products.txt
```

### 5.3 æ•°å€¼èˆå…¥æŠ€å·§


**ğŸ”¸ å››èˆäº”å…¥å®ç°**
```bash
# æ ‡å‡†å››èˆäº”å…¥
function round(x) {
    return int(x + 0.5)
}

# ä¿ç•™nä½å°æ•°çš„å››èˆäº”å…¥
function roundto(x, n) {
    return int(x * 10^n + 0.5) / 10^n
}

# å®é™…ä½¿ç”¨
awk '
function roundto(x, n) { return int(x * 10^n + 0.5) / 10^n }
{
    result = $1 / $2
    print "åŸå€¼:", result, "å››èˆäº”å…¥:", roundto(result, 2)
}
' data.txt
```

**ğŸ”¸ å‘ä¸Šå’Œå‘ä¸‹èˆå…¥**
```bash
# å‘ä¸Šèˆå…¥ï¼ˆå¤©èŠ±æ¿å‡½æ•°ï¼‰
function ceiling(x) {
    return (x == int(x)) ? x : int(x) + 1
}

# å‘ä¸‹èˆå…¥ï¼ˆåœ°æ¿å‡½æ•°ï¼‰  
function floor(x) {
    return int(x)
}
```

---

## 6. ğŸ’° è´¢åŠ¡è®¡ç®—å®æˆ˜æ¡ˆä¾‹


### 6.1 é”€å”®æ•°æ®ç»Ÿè®¡åˆ†æ


**ğŸ”¸ å®é™…ä¸šåŠ¡åœºæ™¯**
å‡è®¾ä½ æ˜¯è´¢åŠ¡åˆ†æå¸ˆï¼Œéœ€è¦å¤„ç†å…¬å¸çš„é”€å”®æ•°æ®ï¼Œè®¡ç®—å„ç§è´¢åŠ¡æŒ‡æ ‡ã€‚

**æ•°æ®æ ·ä¾‹ï¼šsales_data.txt**
```
2024-01-01 äº§å“A 100.50 5 åä¸œ
2024-01-01 äº§å“B 200.00 3 åå—  
2024-01-02 äº§å“A 100.50 8 ååŒ—
2024-01-02 äº§å“C 150.75 4 åä¸œ
```

**ç»¼åˆåˆ†æè„šæœ¬ï¼š**
```bash
awk '
BEGIN {
    print "=== é”€å”®æ•°æ®åˆ†ææŠ¥å‘Š ==="
    printf "%-12s %-8s %-8s %-8s %-8s\n", "æ—¥æœŸ", "äº§å“", "å•ä»·", "æ•°é‡", "åœ°åŒº"
    printf "%s\n", "=================================================="
}

{
    date = $1
    product = $2  
    price = $3
    quantity = $4
    region = $5
    
    revenue = price * quantity
    
    # æŒ‰äº§å“ç»Ÿè®¡
    product_revenue[product] += revenue
    product_quantity[product] += quantity
    
    # æŒ‰åœ°åŒºç»Ÿè®¡  
    region_revenue[region] += revenue
    
    # æŒ‰æ—¥æœŸç»Ÿè®¡
    daily_revenue[date] += revenue
    
    # æ€»è®¡
    total_revenue += revenue
    total_quantity += quantity
    
    printf "%-12s %-8s %8.2f %8d %8s %8.2f\n", date, product, price, quantity, region, revenue
}

END {
    print "\n=== æ±‡æ€»ç»Ÿè®¡ ==="
    printf "æ€»é”€å”®é¢: %.2f å…ƒ\n", total_revenue
    printf "æ€»é”€å”®é‡: %d ä»¶\n", total_quantity  
    printf "å¹³å‡å•ä»·: %.2f å…ƒ\n", total_revenue / total_quantity
    
    print "\n=== äº§å“é”€å”®æ’è¡Œ ==="
    for(p in product_revenue) {
        avg_price = product_revenue[p] / product_quantity[p]
        printf "%-8s: é”€å”®é¢ %8.2f, é”€é‡ %4d, å‡ä»· %6.2f\n", p, product_revenue[p], product_quantity[p], avg_price
    }
    
    print "\n=== åœ°åŒºé”€å”®åˆ†å¸ƒ ==="
    for(r in region_revenue) {
        percentage = region_revenue[r] / total_revenue * 100
        printf "%-8s: %8.2f å…ƒ (%.1f%%)\n", r, region_revenue[r], percentage
    }
}
' sales_data.txt
```

### 6.2 æˆæœ¬æ•ˆç›Šåˆ†æ


**ğŸ”¸ ç›ˆäºå¹³è¡¡ç‚¹è®¡ç®—**

ğŸ’¡ **ä»€ä¹ˆæ˜¯ç›ˆäºå¹³è¡¡ç‚¹ï¼Ÿ**
å°±æ˜¯æ”¶å…¥åˆšå¥½ç­‰äºæ”¯å‡ºçš„é”€å”®æ•°é‡ï¼Œè¶…è¿‡è¿™ä¸ªç‚¹å°±å¼€å§‹ç›ˆåˆ©ã€‚

```bash
# æ•°æ®æ ¼å¼: äº§å“å å”®ä»· å˜åŠ¨æˆæœ¬ å›ºå®šæˆæœ¬
awk '
{
    product = $1
    selling_price = $2    # å”®ä»·
    variable_cost = $3    # å•ä½å˜åŠ¨æˆæœ¬  
    fixed_cost = $4       # å›ºå®šæˆæœ¬
    
    # ç›ˆäºå¹³è¡¡ç‚¹ = å›ºå®šæˆæœ¬ / (å”®ä»· - å•ä½å˜åŠ¨æˆæœ¬)
    contribution = selling_price - variable_cost    # å•ä½è´¡çŒ®æ¯›åˆ©
    breakeven_point = fixed_cost / contribution
    
    printf "äº§å“: %s\n", product
    printf "  å”®ä»·: %.2f å…ƒ\n", selling_price
    printf "  å˜åŠ¨æˆæœ¬: %.2f å…ƒ\n", variable_cost  
    printf "  å•ä½æ¯›åˆ©: %.2f å…ƒ\n", contribution
    printf "  ç›ˆäºå¹³è¡¡ç‚¹: %.0f ä»¶\n", breakeven_point
    printf "  ç›ˆäºå¹³è¡¡é”€å”®é¢: %.2f å…ƒ\n\n", breakeven_point * selling_price
}
' cost_analysis.txt
```

### 6.3 å¤åˆ©è®¡ç®—æ¨¡å‹


**ğŸ”¸ æŠ•èµ„æ”¶ç›Šè®¡ç®—**

ğŸ“ˆ **å¤åˆ©å…¬å¼**ï¼š`æœ€ç»ˆé‡‘é¢ = æœ¬é‡‘ Ã— (1 + åˆ©ç‡)^æœŸæ•°`

```bash
# å¤åˆ©è®¡ç®—å™¨
awk '
BEGIN {
    principal = 10000    # æœ¬é‡‘
    rate = 0.05         # å¹´åˆ©ç‡5%
    years = 10          # æŠ•èµ„æœŸé™
    
    print "=== å¤åˆ©æŠ•èµ„è®¡ç®— ==="
    printf "æœ¬é‡‘: %.2f å…ƒ\n", principal
    printf "å¹´åˆ©ç‡: %.1f%%\n", rate * 100
    printf "æŠ•èµ„æœŸé™: %d å¹´\n\n", years
    
    printf "%-4s %-10s %-10s %-10s\n", "å¹´ä»½", "å¹´åˆé‡‘é¢", "åˆ©æ¯æ”¶å…¥", "å¹´æœ«é‡‘é¢"
    printf "%s\n", "===========================================" 
    
    current_amount = principal
    total_interest = 0
    
    for(year = 1; year <= years; year++) {
        beginning = current_amount
        interest = current_amount * rate
        current_amount = beginning + interest
        total_interest += interest
        
        printf "%-4d %-10.2f %-10.2f %-10.2f\n", year, beginning, interest, current_amount
    }
    
    printf "\næ€»æ”¶ç›Š: %.2f å…ƒ\n", total_interest
    printf "æ”¶ç›Šç‡: %.1f%%\n", (current_amount - principal) / principal * 100
}
'
```

---

## 7. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 7.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ æ•°å€¼è¿ç®—ï¼šawkè‡ªåŠ¨è¯†åˆ«æ•°å­—ï¼Œæ”¯æŒå„ç§ç®—æœ¯è¿ç®—
ğŸ”¸ ç»Ÿè®¡è®¡ç®—ï¼šæ±‚å’Œã€å¹³å‡ã€æœ€å€¼ç­‰åŸºç¡€ç»Ÿè®¡å‡½æ•°
ğŸ”¸ è®¡æ•°ç´¯åŠ ï¼šä½¿ç”¨å˜é‡ä½œä¸ºè®¡æ•°å™¨å’Œç´¯åŠ å™¨
ğŸ”¸ æ•°å­¦å‡½æ•°ï¼šsqrtã€sinã€cosç­‰å†…ç½®æ•°å­¦å‡½æ•°  
ğŸ”¸ ç²¾åº¦æ§åˆ¶ï¼šä½¿ç”¨printfæ§åˆ¶è¾“å‡ºæ ¼å¼å’Œç²¾åº¦
ğŸ”¸ å®é™…åº”ç”¨ï¼šè´¢åŠ¡åˆ†æã€æ•°æ®ç»Ÿè®¡ç­‰ä¸šåŠ¡åœºæ™¯
```

### 7.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ awkæ•°å€¼å¤„ç†çš„ä¼˜åŠ¿**
```
è‡ªåŠ¨åŒ–å¤„ç†ï¼š
â€¢ è¾¹è¯»å–è¾¹è®¡ç®—ï¼Œæ— éœ€é¢„å…ˆåŠ è½½æ‰€æœ‰æ•°æ®
â€¢ è‡ªåŠ¨ç±»å‹è½¬æ¢ï¼Œæ··åˆæ•°æ®ä¹Ÿèƒ½æ­£ç¡®å¤„ç†
â€¢ ä¸€æ¬¡éå†å®Œæˆå¤šç§ç»Ÿè®¡è®¡ç®—

çµæ´»æ€§å¼ºï¼š
â€¢ æ”¯æŒæ¡ä»¶ç»Ÿè®¡å’Œåˆ†ç»„ç»Ÿè®¡  
â€¢ å¯ä»¥è‡ªå®šä¹‰è®¡ç®—å‡½æ•°
â€¢ ç»“åˆæ¨¡å¼åŒ¹é…å®ç°å¤æ‚ä¸šåŠ¡é€»è¾‘
```

**ğŸ”¹ æ€§èƒ½ä¼˜åŒ–æŠ€å·§**
```
å†…å­˜ç®¡ç†ï¼š
â€¢ å¤§æ•°æ®é‡æ—¶é¿å…å­˜å‚¨æ‰€æœ‰æ•°æ®åˆ°æ•°ç»„
â€¢ ä½¿ç”¨æµå¼è®¡ç®—ï¼Œé™ä½å†…å­˜å ç”¨
â€¢ åˆç†ä½¿ç”¨ç´¯åŠ å™¨è€Œéæ•°ç»„å­˜å‚¨

è®¡ç®—æ•ˆç‡ï¼š
â€¢ é¢„è®¡ç®—å¸¸ç”¨å€¼ï¼ˆå¦‚PIã€å¸¸æ•°ç­‰ï¼‰
â€¢ é¿å…é‡å¤è®¡ç®—ç›¸åŒè¡¨è¾¾å¼
â€¢ åˆç†ä½¿ç”¨å†…ç½®å‡½æ•°è€Œéè‡ªå®ç°
```

### 7.3 å®é™…åº”ç”¨ä»·å€¼


**ğŸ“Š æ•°æ®åˆ†æåœºæ™¯**
- **æ—¥å¿—åˆ†æ**ï¼šè®¡ç®—å“åº”æ—¶é—´ç»Ÿè®¡ã€é”™è¯¯ç‡åˆ†æ
- **è´¢åŠ¡æŠ¥è¡¨**ï¼šé”€å”®ç»Ÿè®¡ã€æˆæœ¬åˆ†æã€åˆ©æ¶¦è®¡ç®—
- **æ€§èƒ½ç›‘æ§**ï¼šç³»ç»ŸæŒ‡æ ‡ç»Ÿè®¡ã€é˜ˆå€¼ç›‘æ§
- **ç§‘å­¦è®¡ç®—**ï¼šå®éªŒæ•°æ®å¤„ç†ã€ç»Ÿè®¡åˆ†æ

**ğŸ’¼ ä¸šåŠ¡ä»·å€¼**
- **æ•ˆç‡æå‡**ï¼šä¸€æ¡å‘½ä»¤å®Œæˆå¤æ‚ç»Ÿè®¡è®¡ç®—
- **å‡†ç¡®æ€§é«˜**ï¼šé¿å…æ‰‹å·¥è®¡ç®—çš„é”™è¯¯
- **å®æ—¶åˆ†æ**ï¼šå®æ—¶å¤„ç†æ•°æ®æµè¿›è¡Œè®¡ç®—
- **æˆæœ¬èŠ‚çº¦**ï¼šæ— éœ€å¤æ‚çš„ç»Ÿè®¡è½¯ä»¶

### 7.4 å­¦ä¹ è¿›é˜¶è·¯å¾„


**ğŸ¯ æŒæ¡å±‚æ¬¡**

ğŸŸ¢ **åŸºç¡€çº§**ï¼šå››åˆ™è¿ç®—ã€åŸºç¡€ç»Ÿè®¡
```
â€¢ ä¼šç”¨ +ã€-ã€*ã€/ è¿›è¡ŒåŸºæœ¬è®¡ç®—
â€¢ ç†è§£è®¡æ•°å™¨ count++ çš„ä½¿ç”¨
â€¢ æŒæ¡ sumã€maxã€min çš„è®¡ç®—æ–¹æ³•
```

ğŸŸ¡ **è¿›é˜¶çº§**ï¼šæ•°å­¦å‡½æ•°ã€æ ¼å¼æ§åˆ¶
```
â€¢ ç†Ÿç»ƒä½¿ç”¨ sqrtã€sinã€cos ç­‰æ•°å­¦å‡½æ•°
â€¢ æŒæ¡ printf æ ¼å¼åŒ–è¾“å‡º
â€¢ èƒ½å¤„ç†ç²¾åº¦å’Œèˆå…¥é—®é¢˜
```

ğŸ”´ **é«˜çº§çº§**ï¼šå¤æ‚ç»Ÿè®¡ã€ä¸šåŠ¡å»ºæ¨¡
```
â€¢ å®ç°æ ‡å‡†å·®ã€æ–¹å·®ç­‰é«˜çº§ç»Ÿè®¡
â€¢ æ„å»ºè´¢åŠ¡æ¨¡å‹å’Œä¸šåŠ¡åˆ†æè„šæœ¬
â€¢ ä¼˜åŒ–å¤§æ•°æ®é‡çš„è®¡ç®—æ€§èƒ½
```

**ğŸ“š æ¨èç»ƒä¹ **
1. **åŸºç¡€ç»ƒä¹ **ï¼šå¤„ç†æˆç»©å•ï¼Œè®¡ç®—å„ç§‘å¹³å‡åˆ†
2. **è¿›é˜¶ç»ƒä¹ **ï¼šåˆ†æç½‘ç«™è®¿é—®æ—¥å¿—ï¼Œç»Ÿè®¡æµé‡è¶‹åŠ¿  
3. **é«˜çº§ç»ƒä¹ **ï¼šæ„å»ºé”€å”®åˆ†æç³»ç»Ÿï¼Œç”Ÿæˆè´¢åŠ¡æŠ¥è¡¨

**ğŸ”‘ æ ¸å¿ƒè®°å¿†**
- awkæ•°å€¼è®¡ç®—è‡ªåŠ¨åˆæ™ºèƒ½ï¼Œç»Ÿè®¡åˆ†ææ•ˆç‡é«˜
- è®¡æ•°ç´¯åŠ æ˜¯åŸºç¡€ï¼Œæ•°å­¦å‡½æ•°æ¥åŠ å¼º
- printfæ§åˆ¶ç²¾åº¦ç¾è§‚ï¼Œå®é™…åº”ç”¨ä»·å€¼å¤§
- æŒæ¡æŠ€å·§å¤šç»ƒä¹ ï¼Œæ•°æ®åˆ†æä¸ç”¨æ€•