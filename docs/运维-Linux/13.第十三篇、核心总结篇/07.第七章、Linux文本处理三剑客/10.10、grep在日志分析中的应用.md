---
title: 10、grep在日志分析中的应用
---
## 📚 目录

1. [grep日志分析概述](#1-grep日志分析概述)
2. [系统日志过滤技巧](#2-系统日志过滤技巧)
3. [时间范围筛选](#3-时间范围筛选)
4. [错误级别过滤](#4-错误级别过滤)
5. [IP地址匹配模式](#5-IP地址匹配模式)
6. [访问日志分析](#6-访问日志分析)
7. [安全日志审计](#7-安全日志审计)
8. [实时日志监控](#8-实时日志监控)
9. [核心要点总结](#9-核心要点总结)

---

## 1. 🔍 grep日志分析概述


### 1.1 什么是日志分析


**简单理解**：日志分析就是从大量的日志文件中找出我们需要的信息，就像在图书馆里找书一样。

```
现实场景：
- 网站出问题了，需要找错误信息
- 服务器被攻击，需要查看访问记录
- 系统运行缓慢，需要分析性能日志
- 用户反馈问题，需要追踪操作记录
```

**为什么使用grep做日志分析**：
- **速度快** - 处理大文件效率高
- **功能强** - 支持复杂的搜索模式
- **灵活性** - 可以组合多种条件
- **普及性** - Linux系统标配工具

### 1.2 常见日志文件类型


**系统日志位置**：
```
/var/log/messages     # 系统主要日志
/var/log/syslog       # 系统日志(Ubuntu)
/var/log/auth.log     # 认证日志
/var/log/secure       # 安全日志(CentOS)
/var/log/cron         # 定时任务日志
/var/log/dmesg        # 内核启动日志
```

**应用日志位置**：
```
/var/log/httpd/       # Apache日志
/var/log/nginx/       # Nginx日志
/var/log/mysql/       # MySQL日志
/var/log/redis/       # Redis日志
```

### 1.3 日志格式基本结构


**典型日志格式**：
```
时间戳 主机名 进程名[PID]: 日志级别 消息内容

示例：
Oct 15 10:30:25 web-server nginx[1234]: ERROR connection timeout
└─────────┘ └────────┘ └──────┘└──┘ └───┘ └─────────────────┘
   时间      主机      进程  PID  级别    具体消息
```

---

## 2. ⚙️ 系统日志过滤技巧


### 2.1 基础系统日志搜索


**查看特定服务日志**：
```bash
# 查找nginx相关日志
grep "nginx" /var/log/messages

# 查找SSH登录记录
grep "ssh" /var/log/auth.log

# 查找系统启动信息
grep "kernel" /var/log/messages
```

**多关键词组合搜索**：
```bash
# 同时包含nginx和error的日志
grep "nginx.*error" /var/log/messages

# 包含nginx但不包含info的日志
grep "nginx" /var/log/messages | grep -v "info"

# 包含多个关键词之一
grep -E "nginx|apache|httpd" /var/log/messages
```

### 2.2 系统服务状态分析


**服务启动停止记录**：
```bash
# 查找服务启动记录
grep "started" /var/log/messages

# 查找服务停止记录  
grep "stopped" /var/log/messages

# 查找服务重启记录
grep -E "restart|reload" /var/log/messages
```

**系统资源相关日志**：
```bash
# 内存不足警告
grep "Out of memory" /var/log/messages

# 磁盘空间警告
grep "No space left" /var/log/messages

# CPU负载过高
grep "load average" /var/log/messages
```

### 2.3 用户操作审计


**用户登录记录分析**：
```bash
# 成功登录记录
grep "Accepted" /var/log/auth.log

# 失败登录尝试
grep "Failed" /var/log/auth.log

# 特定用户的操作记录
grep "user=john" /var/log/messages
```

**权限相关操作**：
```bash
# sudo操作记录
grep "sudo" /var/log/auth.log

# 文件权限变更
grep "chmod" /var/log/messages

# 用户添加删除
grep -E "useradd|userdel" /var/log/messages
```

---

## 3. ⏰ 时间范围筛选


### 3.1 日期时间格式理解


**常见时间格式**：
```
系统日志格式：Oct 15 10:30:25
Web访问日志：  15/Oct/2024:10:30:25
应用日志格式：  2024-10-15 10:30:25
```

**时间匹配技巧**：
```bash
# 匹配特定日期(月日)
grep "Oct 15" /var/log/messages

# 匹配特定小时
grep "Oct 15 10:" /var/log/messages  

# 匹配特定时间段(上午10-11点)
grep "Oct 15 1[0-1]:" /var/log/messages
```

### 3.2 时间范围过滤实战


**最近几小时的日志**：
```bash
# 当天的日志(假设今天是Oct 15)
grep "$(date '+%b %d')" /var/log/messages

# 最近1小时的日志
current_hour=$(date '+%b %d %H:')
grep "$current_hour" /var/log/messages

# 上一小时的日志  
last_hour=$(date -d '1 hour ago' '+%b %d %H:')
grep "$last_hour" /var/log/messages
```

**特定时间段分析**：
```bash
# 工作时间的日志(8-18点)
grep -E "Oct 15 (0[8-9]|1[0-8]):" /var/log/messages

# 夜间时段的日志(22-06点)
grep -E "(2[2-3]|0[0-6]):" /var/log/messages

# 周末的日志(需要结合日期计算)
grep -E "(Sat|Sun)" /var/log/messages
```

### 3.3 时间范围高级筛选


**多日期范围匹配**：
```bash
# 匹配多个日期
grep -E "Oct (15|16|17)" /var/log/messages

# 匹配一个月的某几天
grep -E "Oct (0[1-9]|[12][0-9]|3[01])" /var/log/messages

# 匹配特定月份
grep -E "(Oct|Nov|Dec)" /var/log/messages
```

**时间序列分析**：
```bash
# 按时间排序显示错误
grep "error" /var/log/messages | sort -k1,3

# 统计每小时的日志数量
grep "Oct 15" /var/log/messages | cut -d: -f1 | uniq -c
```

---

## 4. ⚠️ 错误级别过滤


### 4.1 日志级别基础知识


**标准日志级别**：
```
EMERGENCY  # 紧急情况，系统不可用
ALERT      # 需要立即行动
CRITICAL   # 严重错误
ERROR      # 一般错误  
WARNING    # 警告信息
NOTICE     # 正常但重要的信息
INFO       # 一般信息
DEBUG      # 调试信息
```

**级别重要性排序**：
```
高 → 低：EMERGENCY > ALERT > CRITICAL > ERROR > WARNING > NOTICE > INFO > DEBUG

实际理解：
🔴 EMERGENCY/ALERT/CRITICAL - 必须立即处理
🟡 ERROR/WARNING - 需要关注和处理  
🟢 NOTICE/INFO - 了解即可
🔵 DEBUG - 开发调试用
```

### 4.2 错误级别过滤实战


**按级别搜索错误**：
```bash
# 搜索所有错误级别
grep -iE "error|err" /var/log/messages

# 搜索严重错误
grep -iE "critical|crit|emergency|alert" /var/log/messages

# 搜索警告信息
grep -iE "warning|warn" /var/log/messages
```

**组合级别过滤**：
```bash
# 搜索错误和警告级别
grep -iE "(error|warning)" /var/log/messages

# 排除调试和信息级别
grep -v -iE "(debug|info)" /var/log/messages

# 只要严重级别以上的
grep -iE "(emergency|alert|critical|error)" /var/log/messages
```

### 4.3 错误分析技巧


**错误统计分析**：
```bash
# 统计各类错误数量
grep -i "error" /var/log/messages | wc -l

# 按错误类型分组统计
grep -i "error" /var/log/messages | cut -d':' -f4- | sort | uniq -c | sort -nr

# 找出最频繁的错误
grep -i "error" /var/log/messages | awk '{print $NF}' | sort | uniq -c | sort -nr
```

**错误趋势分析**：
```bash
# 按小时统计错误数量
grep -i "error" /var/log/messages | grep "Oct 15" | cut -d':' -f1-2 | sort | uniq -c

# 找出错误高峰时段
grep -i "error" /var/log/messages | grep "Oct 15" | cut -d':' -f1-2 | sort | uniq -c | sort -nr
```

---

## 5. 🌐 IP地址匹配模式


### 5.1 IP地址格式理解


**IPv4地址结构**：
```
格式：xxx.xxx.xxx.xxx (每部分0-255)
例子：192.168.1.100
     8.8.8.8
     127.0.0.1
```

**IP地址在日志中的表现**：
```
访问日志：192.168.1.100 - - [15/Oct/2024:10:30:25] "GET /"
系统日志：Connection from 192.168.1.100
安全日志：Failed login from 10.0.0.50
```

### 5.2 基础IP匹配模式


**简单IP搜索**：
```bash
# 搜索特定IP地址
grep "192.168.1.100" /var/log/access.log

# 搜索IP段(192.168.1.x)
grep "192.168.1." /var/log/access.log

# 搜索多个IP
grep -E "(192.168.1.100|10.0.0.50)" /var/log/access.log
```

**IP范围搜索**：
```bash
# 搜索192.168.1.1-192.168.1.99
grep "192.168.1.[1-9][0-9]\|192.168.1.[1-9]" /var/log/access.log

# 搜索内网IP(192.168.x.x)
grep "192.168." /var/log/access.log

# 搜索本地回环
grep "127.0.0.1" /var/log/access.log
```

### 5.3 高级IP匹配技巧


**精确IP正则匹配**：
```bash
# 完整IP地址格式匹配
grep -E "[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}" /var/log/access.log

# 匹配有效IP地址(考虑0-255范围)
grep -E "((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)" /var/log/access.log
```

**IP分类搜索**：
```bash
# 内网IP地址
grep -E "(192\.168\.|10\.|172\.(1[6-9]|2[0-9]|3[01])\.)" /var/log/access.log

# 外网IP地址(排除内网)
grep -E "[0-9]+\.[0-9]+\.[0-9]+\.[0-9]+" /var/log/access.log | grep -vE "(192\.168\.|10\.|172\.(1[6-9]|2[0-9]|3[01])\.)"

# 可疑IP(多次失败登录)
grep "Failed" /var/log/auth.log | grep -oE "[0-9]+\.[0-9]+\.[0-9]+\.[0-9]+" | sort | uniq -c | sort -nr
```

### 5.4 IP地址分析应用


**访问来源分析**：
```bash
# 统计访问最多的IP
grep -oE "[0-9]+\.[0-9]+\.[0-9]+\.[0-9]+" /var/log/access.log | sort | uniq -c | sort -nr | head -10

# 按国家/地区分析(需要GeoIP数据)
grep -oE "[0-9]+\.[0-9]+\.[0-9]+\.[0-9]+" /var/log/access.log | sort -u > unique_ips.txt
```

**安全威胁识别**：
```bash
# 找出暴力破解的IP
grep "Failed password" /var/log/auth.log | grep -oE "[0-9]+\.[0-9]+\.[0-9]+\.[0-9]+" | sort | uniq -c | awk '$1>10' | sort -nr

# 找出异常访问模式的IP
grep -oE "[0-9]+\.[0-9]+\.[0-9]+\.[0-9]+" /var/log/access.log | sort | uniq -c | awk '$1>1000' | sort -nr
```

---

## 6. 📊 访问日志分析


### 6.1 Web访问日志格式解析


**Apache日志格式(Common Log Format)**：
```
IP地址 - - [时间戳] "请求方法 URL HTTP版本" 状态码 响应大小

示例：
192.168.1.100 - - [15/Oct/2024:10:30:25 +0800] "GET /index.html HTTP/1.1" 200 1234
```

**Nginx日志格式**：
```
IP地址 - - [时间戳] "请求" 状态码 大小 "引用页" "用户代理"

示例：  
192.168.1.100 - - [15/Oct/2024:10:30:25 +0800] "GET /api/data HTTP/1.1" 200 5678 "https://example.com" "Mozilla/5.0..."
```

### 6.2 HTTP状态码分析


**状态码分类理解**：
```
2xx - 成功响应
├── 200 OK - 请求成功
├── 201 Created - 创建成功
└── 204 No Content - 成功但无内容

3xx - 重定向
├── 301 Moved Permanently - 永久重定向  
├── 302 Found - 临时重定向
└── 304 Not Modified - 未修改

4xx - 客户端错误
├── 400 Bad Request - 请求错误
├── 401 Unauthorized - 未授权
├── 403 Forbidden - 禁止访问
├── 404 Not Found - 页面不存在
└── 429 Too Many Requests - 请求过多

5xx - 服务器错误
├── 500 Internal Server Error - 内部错误
├── 502 Bad Gateway - 网关错误
├── 503 Service Unavailable - 服务不可用
└── 504 Gateway Timeout - 网关超时
```

**状态码过滤分析**：
```bash
# 查找所有错误请求(4xx和5xx)
grep -E '" [4-5][0-9][0-9] ' /var/log/access.log

# 查找404错误
grep '" 404 ' /var/log/access.log

# 查找500错误
grep '" 500 ' /var/log/access.log

# 统计各状态码数量
grep -oE '" [0-9]{3} ' /var/log/access.log | sort | uniq -c | sort -nr
```

### 6.3 访问模式分析


**热门页面分析**：
```bash
# 最受欢迎的页面
grep '" 200 ' /var/log/access.log | awk '{print $7}' | sort | uniq -c | sort -nr | head -10

# API访问统计
grep '"/api/' /var/log/access.log | awk '{print $7}' | sort | uniq -c | sort -nr

# 静态资源访问
grep -E '\.(jpg|png|css|js)' /var/log/access.log | wc -l
```

**用户行为分析**：
```bash
# 搜索引擎爬虫识别
grep -i -E "(googlebot|bingbot|spider)" /var/log/access.log

# 移动设备访问
grep -i "mobile" /var/log/access.log | wc -l

# 浏览器类型统计
grep -oE '"[^"]*"$' /var/log/access.log | sort | uniq -c | sort -nr | head -5
```

### 6.4 性能分析指标


**响应大小分析**：
```bash
# 大文件下载识别(响应大小>1MB)
awk '$10>1048576 {print $1, $7, $10}' /var/log/access.log

# 平均响应大小计算
awk '{sum+=$10; count++} END {print "Average:", sum/count, "bytes"}' /var/log/access.log

# 流量消耗最大的页面
awk '{traffic[$7]+=$10} END {for(page in traffic) print traffic[page], page}' /var/log/access.log | sort -nr | head -10
```

---

## 7. 🔒 安全日志审计


### 7.1 安全日志基础概念


**安全日志的作用**：
- **入侵检测** - 发现未授权访问尝试
- **合规审计** - 满足安全规范要求  
- **事件追踪** - 重现安全事件过程
- **威胁分析** - 识别攻击模式和趋势

**主要安全日志文件**：
```
/var/log/auth.log     # Ubuntu认证日志
/var/log/secure       # CentOS安全日志  
/var/log/faillog      # 登录失败记录
/var/log/lastlog      # 最后登录时间
/var/log/wtmp         # 用户登录历史
```

### 7.2 登录安全审计


**成功登录分析**：
```bash
# 所有成功登录记录
grep "Accepted" /var/log/auth.log

# SSH登录成功记录
grep "Accepted password" /var/log/auth.log

# 按用户统计登录次数
grep "Accepted" /var/log/auth.log | awk '{print $9}' | sort | uniq -c | sort -nr

# 按IP统计登录来源
grep "Accepted" /var/log/auth.log | awk '{print $11}' | sort | uniq -c | sort -nr
```

**失败登录分析**：
```bash
# 所有登录失败记录
grep "Failed" /var/log/auth.log

# 密码错误的登录尝试
grep "Failed password" /var/log/auth.log

# 用户名错误的尝试  
grep "Invalid user" /var/log/auth.log

# 统计失败登录最多的IP
grep "Failed password" /var/log/auth.log | awk '{print $11}' | sort | uniq -c | sort -nr | head -10
```

### 7.3 暴力破解检测


**识别暴力破解攻击**：
```bash
# 短时间内多次失败登录的IP
grep "Failed password" /var/log/auth.log | grep "$(date '+%b %d')" | awk '{print $11}' | sort | uniq -c | awk '$1>5' | sort -nr

# 针对多个用户名的攻击
grep "Invalid user" /var/log/auth.log | awk '{print $8, $10}' | sort | uniq -c | sort -nr

# 发现字典攻击模式
grep "Failed password" /var/log/auth.log | awk '{print $9}' | sort | uniq -c | sort -nr | head -20
```

**攻击时间模式分析**：
```bash
# 按小时统计攻击频率
grep "Failed password" /var/log/auth.log | grep "Oct 15" | cut -d':' -f1-2 | sort | uniq -c

# 夜间攻击检测
grep "Failed password" /var/log/auth.log | grep -E " (2[2-3]|0[0-6]):" | wc -l

# 工作日vs周末攻击对比
grep "Failed password" /var/log/auth.log | grep -E "(Mon|Tue|Wed|Thu|Fri)" | wc -l
```

### 7.4 权限变更审计


**sudo操作审计**：
```bash
# 所有sudo操作记录
grep "sudo" /var/log/auth.log

# 成功的sudo操作
grep "sudo.*COMMAND" /var/log/auth.log

# 失败的sudo尝试
grep "sudo.*incorrect password" /var/log/auth.log

# 按用户统计sudo使用
grep "sudo.*COMMAND" /var/log/auth.log | awk '{print $6}' | sort | uniq -c | sort -nr
```

**系统账户变更**：
```bash
# 用户添加记录
grep "useradd" /var/log/auth.log

# 用户删除记录  
grep "userdel" /var/log/auth.log

# 密码变更记录
grep "passwd" /var/log/auth.log

# 组权限变更
grep -E "(groupadd|groupdel|usermod)" /var/log/auth.log
```

---

## 8. 📡 实时日志监控


### 8.1 实时监控基础


**什么是实时日志监控**：
实时监控就是持续观察日志文件的变化，一旦有新的日志产生就立即显示出来，就像看直播一样。

**为什么需要实时监控**：
- **及时发现问题** - 问题出现时第一时间知道
- **快速响应** - 减少故障影响时间
- **实时调试** - 开发测试时观察程序运行
- **安全监控** - 发现攻击行为并及时处理

### 8.2 tail结合grep实时监控


**基础实时监控命令**：
```bash
# 实时查看日志文件末尾
tail -f /var/log/messages

# 实时监控并过滤关键字
tail -f /var/log/messages | grep "error"

# 监控多个关键字
tail -f /var/log/messages | grep -E "(error|warning|critical)"

# 监控时显示行号
tail -f /var/log/messages | grep -n "error"
```

**多文件实时监控**：
```bash
# 同时监控多个日志文件
tail -f /var/log/messages /var/log/auth.log

# 监控整个日志目录的新文件
tail -f /var/log/*.log | grep "error"

# 按服务分类监控
tail -f /var/log/nginx/*.log | grep -E "(error|404|500)"
```

### 8.3 高级实时监控技巧


**条件监控和告警**：
```bash
# 错误出现时发送邮件告警
tail -f /var/log/messages | grep --line-buffered "CRITICAL" | while read line; do
    echo "$line" | mail -s "Critical Alert" admin@company.com
done

# 连续错误达到阈值时告警
tail -f /var/log/messages | grep --line-buffered "error" | while read line; do
    ((count++))
    if [ $count -gt 5 ]; then
        echo "Too many errors detected!" | wall
        count=0
    fi
done
```

**性能监控实时统计**：
```bash
# 实时统计错误频率
tail -f /var/log/messages | grep --line-buffered "error" | while read line; do
    echo "$(date): Error detected"
done

# 实时监控HTTP状态码
tail -f /var/log/access.log | grep --line-buffered -oE '" [0-9]{3} ' | sort | uniq -c

# 实时流量监控
tail -f /var/log/access.log | awk '{sum+=$10; print "Total traffic:", sum/1024/1024 "MB"}'
```

### 8.4 监控脚本实战


**简单监控脚本示例**：
```bash
#!/bin/bash
# 实时日志监控脚本

LOG_FILE="/var/log/messages"
KEYWORDS="error|critical|failed"

echo "开始监控 $LOG_FILE ..."
echo "监控关键字: $KEYWORDS"
echo "时间: $(date)"
echo "------------------------"

tail -f $LOG_FILE | grep --line-buffered -iE "$KEYWORDS" | while read line; do
    timestamp=$(date '+%Y-%m-%d %H:%M:%S')
    echo "[$timestamp] 发现异常: $line"
    
    # 可以在这里添加告警逻辑
    # 比如发送邮件、短信、微信等
done
```

**多维度监控脚本**：
```bash
#!/bin/bash
# 综合日志监控脚本

monitor_security() {
    tail -f /var/log/auth.log | grep --line-buffered "Failed password" | while read line; do
        ip=$(echo $line | awk '{print $11}')
        echo "[安全警告] 来自 $ip 的登录失败: $(date)"
    done
}

monitor_system() {
    tail -f /var/log/messages | grep --line-buffered -iE "(error|critical)" | while read line; do
        echo "[系统异常] $line"
    done
}

monitor_web() {
    tail -f /var/log/access.log | grep --line-buffered '" [45][0-9][0-9] ' | while read line; do
        status=$(echo $line | awk '{print $9}')
        echo "[Web错误] HTTP状态码 $status: $(date)"
    done
}

# 并行执行多个监控任务
echo "启动综合日志监控..."
monitor_security &
monitor_system &  
monitor_web &

# 等待所有后台任务
wait
```

---

## 9. 📋 核心要点总结


### 9.1 必须掌握的核心概念


```
🔸 日志分析本质：从大量日志中快速找到关键信息
🔸 grep优势：速度快、功能强、灵活性高、普及性好
🔸 日志级别：EMERGENCY > ALERT > CRITICAL > ERROR > WARNING > NOTICE > INFO > DEBUG
🔸 时间筛选：掌握日期时间格式，灵活组合时间范围
🔸 IP匹配：理解IPv4格式，掌握网段和范围匹配
🔸 状态码分析：2xx成功、3xx重定向、4xx客户端错误、5xx服务器错误
🔸 实时监控：tail -f + grep组合，实现动态日志观察
```

### 9.2 关键理解要点


**🔹 日志分析思维**：
```
问题导向：
- 先明确要解决什么问题
- 再确定需要什么日志信息
- 最后选择合适的grep命令

分层过滤：
- 先按时间范围缩小搜索
- 再按关键字精确定位  
- 最后按条件组合分析

统计分析：
- 不仅要找到问题，还要分析趋势
- 使用uniq -c, sort, head等命令组合
- 将数据转换为有价值的信息
```

**🔹 安全审计要点**：
```
关注异常：
- 非正常时间的活动
- 频率异常的操作
- 来源可疑的访问
- 权限变更行为

建立基线：
- 了解系统正常运行模式
- 识别偏离正常模式的行为
- 区分误报和真实威胁
```

**🔹 性能优化技巧**：
```
提高效率：
- 使用时间范围限制搜索量
- 结合其他命令减少处理数据
- 利用管道组合实现复杂分析
- 编写脚本自动化重复任务
```

### 9.3 实际应用价值


**故障排查场景**：
- **网站无法访问** → 检查access.log中的5xx错误
- **登录异常** → 分析auth.log中的认证失败记录  
- **性能下降** → 统计响应时间和请求量变化
- **安全事件** → 追踪可疑IP的所有活动轨迹

**日常运维场景**：
- **定期巡检** → 检查各类错误日志的数量趋势
- **容量规划** → 分析访问量增长模式
- **安全合规** → 生成访问审计报告
- **性能调优** → 识别高频访问的资源瓶颈

**应急响应场景**：
- **实时监控** → 第一时间发现系统异常
- **快速定位** → 通过关键字迅速找到问题根源
- **影响评估** → 统计受影响的用户和请求数量
- **恢复验证** → 确认问题修复后系统恢复正常

### 9.4 进阶学习方向


**技能提升路径**：
```
基础掌握：
✓ 熟练使用基本grep参数和正则表达式
✓ 理解常见日志格式和字段含义
✓ 掌握时间、IP、错误级别的过滤方法

进阶应用：  
→ 学习awk、sed配合grep进行复杂数据处理
→ 编写shell脚本实现自动化日志分析
→ 结合其他工具(ELK、Splunk)进行可视化分析

专业发展：
→ 深入学习正则表达式高级特性
→ 掌握大数据日志处理技术
→ 了解机器学习在日志分析中的应用
```

**实用工具组合**：
```
文本处理三剑客：
grep + sed + awk = 强大的日志处理能力

系统监控组合：
tail + grep + watch = 实时日志监控

统计分析组合：  
grep + sort + uniq + awk = 日志数据统计

自动化组合：
grep + shell脚本 + cron = 定时日志分析
```

**核心记忆口诀**：
- grep日志分析强，时间IP错误要记牢
- 实时监控tail配合，安全审计不可少  
- 状态码里找问题，统计分析见真相
- 脚本自动省人力，监控告警保安全