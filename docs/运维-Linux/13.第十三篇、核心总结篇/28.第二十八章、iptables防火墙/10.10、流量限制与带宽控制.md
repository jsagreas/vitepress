---
title: 10ã€æµé‡é™åˆ¶ä¸å¸¦å®½æ§åˆ¶
---
## ğŸ“š ç›®å½•

1. [æµé‡é™åˆ¶åŸºç¡€æ¦‚å¿µ](#1-æµé‡é™åˆ¶åŸºç¡€æ¦‚å¿µ)
2. [limitæ¨¡å—åŸºç¡€é™é€Ÿ](#2-limitæ¨¡å—åŸºç¡€é™é€Ÿ)
3. [hashlimité«˜çº§é™é€Ÿæ§åˆ¶](#3-hashlimité«˜çº§é™é€Ÿæ§åˆ¶)
4. [è¿æ¥æ•°ä¸å¹¶å‘æ§åˆ¶](#4-è¿æ¥æ•°ä¸å¹¶å‘æ§åˆ¶)
5. [é˜²DDoSæ”»å‡»é…ç½®](#5-é˜²DDoSæ”»å‡»é…ç½®)
6. [QoSæµé‡æ•´å½¢åŸºç¡€](#6-QoSæµé‡æ•´å½¢åŸºç¡€)
7. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#7-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸš¦ æµé‡é™åˆ¶åŸºç¡€æ¦‚å¿µ


### 1.1 ä»€ä¹ˆæ˜¯æµé‡é™åˆ¶


**ğŸ’¡ é€šä¿—ç†è§£**
```
ç”Ÿæ´»ç±»æ¯”ï¼š
å°±åƒé«˜é€Ÿå…¬è·¯çš„æ”¶è´¹ç«™æ§åˆ¶è½¦æµä¸€æ ·
- é™åˆ¶æ¯ç§’é€šè¿‡å¤šå°‘è¾†è½¦ï¼ˆæ•°æ®åŒ…ï¼‰
- é˜²æ­¢äº¤é€šæ‹¥å µï¼ˆç½‘ç»œé˜»å¡ï¼‰
- ä¿è¯æ•´ä½“é€šè¡Œæ•ˆç‡ï¼ˆç½‘ç»œæ€§èƒ½ï¼‰
```

**ğŸ” æ ¸å¿ƒä½œç”¨**
- **é˜²æ­¢æ»¥ç”¨**ï¼šé˜»æ­¢æ¶æ„ç”¨æˆ·å¤§é‡å ç”¨å¸¦å®½
- **ä¿è¯æœåŠ¡**ï¼šç¡®ä¿å…³é”®ä¸šåŠ¡æœ‰è¶³å¤Ÿèµ„æº
- **æŠµå¾¡æ”»å‡»**ï¼šé˜²èŒƒDDoSç­‰ç½‘ç»œæ”»å‡»
- **æˆæœ¬æ§åˆ¶**ï¼šé¿å…è¶…å‡ºç½‘ç»œèµ„æºé¢„ç®—

### 1.2 æµé‡æ§åˆ¶çš„åˆ†ç±»


**ğŸ“Š æŒ‰æ§åˆ¶å¯¹è±¡åˆ†ç±»**
```
æ•°æ®åŒ…é¢‘ç‡é™åˆ¶ï¼š
â”œâ”€â”€ å•ä½æ—¶é—´å†…åŒ…æ•°é‡ï¼ˆpackets/secondï¼‰
â”œâ”€â”€ è¿æ¥å»ºç«‹é€Ÿåº¦ï¼ˆconnections/secondï¼‰  
â””â”€â”€ å¸¦å®½ä½¿ç”¨é‡ï¼ˆbytes/secondï¼‰

è¿æ¥çŠ¶æ€é™åˆ¶ï¼š
â”œâ”€â”€ å¹¶å‘è¿æ¥æ€»æ•°
â”œâ”€â”€ å•IPæœ€å¤§è¿æ¥æ•°
â””â”€â”€ æ–°å»ºè¿æ¥é€Ÿåº¦
```

â­â­â­ **é‡è¦ç¨‹åº¦æ ‡è¯†**
- limitæ¨¡å—ï¼šâ­â­â­ åŸºç¡€å¿…ä¼š
- hashlimitæ¨¡å—ï¼šâ­â­â­ é«˜çº§å¿…ä¼š
- connlimitæ¨¡å—ï¼šâ­â­ éœ€è¦æŒæ¡
- QoSé…ç½®ï¼šâ­ äº†è§£å³å¯

---

## 2. â±ï¸ limitæ¨¡å—åŸºç¡€é™é€Ÿ


### 2.1 limitæ¨¡å—å·¥ä½œåŸç†


**ğŸ”§ æ ¸å¿ƒæœºåˆ¶**
```
ä»¤ç‰Œæ¡¶ç®—æ³•åŸç†ï¼š
ç³»ç»Ÿç»´æŠ¤ä¸€ä¸ª"ä»¤ç‰Œæ¡¶"
- ä»¥å›ºå®šé€Ÿç‡å‘æ¡¶ä¸­æŠ•æ”¾ä»¤ç‰Œ
- æ¯ä¸ªæ•°æ®åŒ…éœ€è¦æ¶ˆè€—ä¸€ä¸ªä»¤ç‰Œ
- æ²¡æœ‰ä»¤ç‰Œæ—¶ï¼Œæ•°æ®åŒ…è¢«ä¸¢å¼ƒæˆ–æ‹’ç»
- æ¡¶æœ‰å®¹é‡é™åˆ¶ï¼Œé˜²æ­¢çªå‘æµé‡è¿‡å¤§
```

**ğŸ“ˆ å‚æ•°è¯´æ˜**
```
--limitï¼šå¹³å‡é€Ÿç‡ï¼ˆå¦‚10/secè¡¨ç¤ºæ¯ç§’10ä¸ªåŒ…ï¼‰
--limit-burstï¼šçªå‘å®¹é‡ï¼ˆä»¤ç‰Œæ¡¶å¤§å°ï¼‰
```

### 2.2 åŸºç¡€é™é€Ÿé…ç½®


**ğŸš€ æ“ä½œæµç¨‹**

**Step 1** ğŸ“ åŸºæœ¬è¯­æ³•æ ¼å¼
```bash
-m limit --limit é€Ÿç‡ --limit-burst çªå‘å€¼
```

**Step 2** âš™ï¸ å®é™…é…ç½®ç¤ºä¾‹
```bash
# é™åˆ¶SSHè¿æ¥ï¼šæ¯åˆ†é’Ÿæœ€å¤š5æ¬¡å°è¯•
iptables -A INPUT -p tcp --dport 22 -m state --state NEW \
    -m limit --limit 5/min --limit-burst 3 -j ACCEPT

# é™åˆ¶HTTPè¯·æ±‚ï¼šæ¯ç§’æœ€å¤š20ä¸ªè¿æ¥
iptables -A INPUT -p tcp --dport 80 -m state --state NEW \
    -m limit --limit 20/sec --limit-burst 10 -j ACCEPT
```

**Step 3** âœ… é…ç½®éªŒè¯

ğŸ’¡ **å®ç”¨æŠ€å·§**ï¼š
- `--limit-burst`é€šå¸¸è®¾ä¸º`--limit`å€¼çš„ä¸€åŠ
- çªå‘å€¼å¤ªå¤§å¯èƒ½å¯¼è‡´ç¬æ—¶è¿‡è½½
- çªå‘å€¼å¤ªå°å½±å“æ­£å¸¸ç”¨æˆ·ä½“éªŒ

### 2.3 å¸¸ç”¨é™é€Ÿåœºæ™¯


**ğŸ“± å®é™…åº”ç”¨åœºæ™¯**

| ğŸ†š **æœåŠ¡ç±»å‹** | **æ¨èlimitå€¼** | **burstå€¼** | **è¯´æ˜** |
|----------------|----------------|-------------|----------|
| ğŸ”’ SSHç™»å½• | 3/min | 2 | é˜²æš´åŠ›ç ´è§£ |
| ğŸŒ HTTPæœåŠ¡ | 25/sec | 10 | WebæœåŠ¡å™¨ä¿æŠ¤ |
| ğŸ“§ SMTPé‚®ä»¶ | 10/min | 5 | é˜²åƒåœ¾é‚®ä»¶ |
| ğŸ—„ï¸ FTPæœåŠ¡ | 5/min | 3 | æ–‡ä»¶æœåŠ¡å™¨ä¿æŠ¤ |

**â“ å¸¸è§é—®é¢˜ FAQ**ï¼š

**Q: limitå€¼è®¾ç½®å¤šå°‘åˆé€‚ï¼Ÿ**
**A:** æ ¹æ®æœåŠ¡å™¨æ€§èƒ½å’Œç”¨æˆ·æ•°é‡å†³å®šï¼Œå»ºè®®ä»ä¿å®ˆå€¼å¼€å§‹ï¼Œé€æ­¥è°ƒæ•´

**Q: ä¸ºä»€ä¹ˆéœ€è¦burstå‚æ•°ï¼Ÿ**
**A:** å…è®¸çŸ­æ—¶é—´å†…çš„åˆç†çªå‘è®¿é—®ï¼Œé¿å…æ­£å¸¸ç”¨æˆ·å—åˆ°å½±å“

---

## 3. ğŸ¯ hashlimité«˜çº§é™é€Ÿæ§åˆ¶


### 3.1 hashlimitä¸limitçš„åŒºåˆ«


**ğŸ”— æ¦‚å¿µå…³ç³»**ï¼š
```
limitæ¨¡å— â† å…¨å±€é™åˆ¶ â†’ æ‰€æœ‰è¿æ¥å…±äº«é™åˆ¶
    â†“                      â†“
hashlimit â† åˆ†ç»„é™åˆ¶ â†’ æŒ‰IP/ç«¯å£ç­‰åˆ†åˆ«é™åˆ¶
    â†“                      â†“
æ›´ç²¾ç¡®æ§åˆ¶              é˜²æ­¢å•ç‚¹æ”»å‡»
```

**ğŸ’¼ å®é™…åº”ç”¨åœºæ™¯**ï¼š
> ğŸ“± **ç§»åŠ¨ç«¯åœºæ™¯**ï¼šé˜²æ­¢å•ä¸ªIPç–¯ç‹‚è¯·æ±‚API
> ğŸ–¥ï¸ **PCç«¯åœºæ™¯**ï¼šé™åˆ¶æ¯ä¸ªç”¨æˆ·çš„ä¸‹è½½é€Ÿåº¦
> ğŸ¢ **ä¼ä¸šåœºæ™¯**ï¼šæŒ‰éƒ¨é—¨åˆ†é…ç½‘ç»œèµ„æº

### 3.2 hashlimité…ç½®è¯¦è§£


**ğŸ”„ æ“ä½œæµç¨‹**ï¼š

**Step 1** ğŸš€ åŸºç¡€è¯­æ³•
```bash
-m hashlimit --hashlimit-mode æ¨¡å¼ --hashlimit é€Ÿç‡ \
    --hashlimit-name è§„åˆ™å [å…¶ä»–é€‰é¡¹]
```

**Step 2** âš™ï¸ å…³é”®å‚æ•°è¯´æ˜

| å‚æ•° | ä½œç”¨ | ç¤ºä¾‹å€¼ |
|------|------|--------|
| `--hashlimit-mode` | åˆ†ç»„æ–¹å¼ | `srcip`ã€`dstport` |
| `--hashlimit` | é™åˆ¶é€Ÿç‡ | `10/sec` |
| `--hashlimit-burst` | çªå‘å®¹é‡ | `5` |
| `--hashlimit-name` | è§„åˆ™æ ‡è¯† | `http-limit` |

**Step 3** âœ… å®æˆ˜é…ç½®ç¤ºä¾‹

```bash
# æŒ‰æºIPé™åˆ¶ï¼šæ¯ä¸ªIPæ¯ç§’æœ€å¤š10ä¸ªHTTPè¿æ¥
iptables -A INPUT -p tcp --dport 80 -m state --state NEW \
    -m hashlimit --hashlimit-mode srcip \
    --hashlimit 10/sec --hashlimit-burst 5 \
    --hashlimit-name http-per-ip -j ACCEPT

# æŒ‰ç›®æ ‡ç«¯å£é™åˆ¶ï¼šæ¯ä¸ªç«¯å£æ¯åˆ†é’Ÿæœ€å¤š100ä¸ªè¿æ¥
iptables -A INPUT -p tcp -m state --state NEW \
    -m hashlimit --hashlimit-mode dstport \
    --hashlimit 100/min --hashlimit-burst 20 \
    --hashlimit-name port-limit -j ACCEPT
```

### 3.3 hashlimité«˜çº§ç‰¹æ€§


**ğŸ§  è®°å¿†å£è¯€**ï¼š
"hashåˆ†ç»„å¾ˆæ™ºèƒ½ï¼ŒæŒ‰IPæŒ‰ç«¯å£åˆ†åˆ«é™ï¼Œå•ç‚¹æ”»å‡»èƒ½é˜²ä½ï¼Œèµ„æºåˆ†é…æ›´å‡åŒ€"

**ğŸ”‘ å…³é”®è¯æå–**ï¼š
æ ¸å¿ƒï¼š`åˆ†ç»„é™åˆ¶` `å“ˆå¸Œè¡¨` `å•ç‚¹é˜²æŠ¤`

âš ï¸ **å¸¸è§è¯¯åŒº**ï¼š
âŒ **é”™è¯¯ç†è§£**ï¼šhashlimitåªèƒ½æŒ‰IPåˆ†ç»„
âœ… **æ­£ç¡®ç†è§£**ï¼šå¯æŒ‰srcipã€dstipã€srcportã€dstportç­‰å¤šç§æ–¹å¼

---

## 4. ğŸ”— è¿æ¥æ•°ä¸å¹¶å‘æ§åˆ¶


### 4.1 connlimitæ¨¡å—ä»‹ç»


**ğŸ’¡ é€šä¿—è§£é‡Š**
```
ç”Ÿæ´»ç±»æ¯”ï¼š
å°±åƒé¤å…é™åˆ¶æ¯æ¡Œæœ€å¤šåå‡ ä¸ªäºº
- é˜²æ­¢å•ä¸ªå®¢æˆ·å ç”¨è¿‡å¤šèµ„æº
- ä¿è¯å…¶ä»–å®¢æˆ·ä¹Ÿèƒ½æ­£å¸¸ç”¨é¤
- ç»´æŒé¤å…æ•´ä½“æœåŠ¡è´¨é‡
```

**ğŸ“ éš¾åº¦ç­‰çº§**ï¼šğŸŸ¡ ä¸­çº§ - è¿›é˜¶ç†è§£

### 4.2 è¿æ¥æ•°é™åˆ¶é…ç½®


**ğŸ”§ åŸºæœ¬è¯­æ³•**
```bash
-m connlimit --connlimit-above N [--connlimit-mask æ©ç ]
```

**ğŸ’¡ å®ç”¨æŠ€å·§**ï¼š
- `--connlimit-above`ï¼šè¶…è¿‡Nä¸ªè¿æ¥å°±æ‹’ç»
- `--connlimit-mask`ï¼šç½‘ç»œæ©ç ï¼Œæ§åˆ¶ç»Ÿè®¡èŒƒå›´

**å®æˆ˜é…ç½®ç¤ºä¾‹**ï¼š
```bash
# é™åˆ¶å•ä¸ªIPæœ€å¤š10ä¸ªå¹¶å‘HTTPè¿æ¥
iptables -A INPUT -p tcp --dport 80 -m connlimit \
    --connlimit-above 10 --connlimit-mask 32 -j REJECT

# é™åˆ¶Cç±»ç½‘æ®µæœ€å¤š50ä¸ªå¹¶å‘è¿æ¥
iptables -A INPUT -p tcp --dport 22 -m connlimit \
    --connlimit-above 50 --connlimit-mask 24 -j REJECT
```

### 4.3 å¹¶å‘è¿æ¥ç›‘æ§


**ğŸ“ˆ æ€§èƒ½æ•°æ®å±•ç¤º**ï¼š
```
æ­£å¸¸æƒ…å†µï¼šæ¯IPå¹³å‡5-10ä¸ªè¿æ¥
æ”»å‡»æƒ…å†µï¼šå•IPå¯èƒ½ä¸Šåƒä¸ªè¿æ¥  â¬†ï¸ å¼‚å¸¸100å€
é˜²æŠ¤æ•ˆæœï¼šé™åˆ¶åå•IPæœ€å¤š20ä¸ª   â¬‡ï¸ é£é™©å¯æ§
```

---

## 5. ğŸ›¡ï¸ é˜²DDoSæ”»å‡»é…ç½®


### 5.1 DDoSæ”»å‡»åŸç†


**ğŸš¨ æ³¨æ„é™·é˜±**ï¼š
æ–°æ‰‹å®¹æ˜“è®¤ä¸ºDDoSåªæ˜¯å¤§æµé‡æ”»å‡»ï¼Œå®é™…ä¸Šè¿˜åŒ…æ‹¬ï¼š
- **è¿æ¥è€—å°½æ”»å‡»**ï¼šå»ºç«‹å¤§é‡è¿æ¥ä¸é‡Šæ”¾
- **æ…¢é€Ÿæ”»å‡»**ï¼šå‘é€ä¸å®Œæ•´è¯·æ±‚å ç”¨èµ„æº
- **åå°„æ”»å‡»**ï¼šåˆ©ç”¨ç¬¬ä¸‰æ–¹æœåŠ¡å™¨æ”¾å¤§æ”»å‡»

### 5.2 ç»¼åˆé˜²æŠ¤ç­–ç•¥


**ğŸ”„ é˜²æŠ¤æµç¨‹**ï¼š

**Step 1** ğŸš€ åŸºç¡€åŒ…é€Ÿç‡é™åˆ¶
```bash
# é™åˆ¶æ¯ç§’æ–°å»ºè¿æ¥æ•°
iptables -A INPUT -p tcp -m state --state NEW \
    -m limit --limit 10/sec --limit-burst 20 -j ACCEPT
```

**Step 2** âš™ï¸ å•IPè¿æ¥é™åˆ¶
```bash
# é™åˆ¶å•IPæœ€å¤§è¿æ¥æ•°
iptables -A INPUT -p tcp -m connlimit \
    --connlimit-above 20 --connlimit-mask 32 -j DROP
```

**Step 3** âœ… SYN Floodé˜²æŠ¤
```bash
# é˜²SYNæ´ªæ°´æ”»å‡»
iptables -A INPUT -p tcp --syn -m limit \
    --limit 1/s --limit-burst 3 -j ACCEPT
```

**å®Œæ•´é˜²æŠ¤è„šæœ¬ç¤ºä¾‹**ï¼š
```bash
#!/bin/bash
# DDoSåŸºç¡€é˜²æŠ¤è„šæœ¬

# å…è®¸å·²å»ºç«‹å’Œç›¸å…³è¿æ¥
iptables -A INPUT -m state --state ESTABLISHED,RELATED -j ACCEPT

# SSHé˜²æš´åŠ›ç ´è§£
iptables -A INPUT -p tcp --dport 22 -m state --state NEW \
    -m recent --set --name SSH
iptables -A INPUT -p tcp --dport 22 -m state --state NEW \
    -m recent --update --seconds 60 --hitcount 4 --name SSH -j DROP

# HTTPæœåŠ¡ä¿æŠ¤
iptables -A INPUT -p tcp --dport 80 -m state --state NEW \
    -m hashlimit --hashlimit-mode srcip --hashlimit 20/sec \
    --hashlimit-burst 10 --hashlimit-name http-limit -j ACCEPT

# è¿æ¥æ•°é™åˆ¶
iptables -A INPUT -p tcp -m connlimit \
    --connlimit-above 50 --connlimit-mask 32 -j REJECT
```

---

## 6. ğŸ“Š QoSæµé‡æ•´å½¢åŸºç¡€


### 6.1 QoSæ¦‚å¿µä»‹ç»


**ğŸ’¡ é€šä¿—ç†è§£**
```
QoSå°±åƒäº¤é€šç®¡åˆ¶ï¼š
- æ€¥æ•‘è½¦èµ°åº”æ€¥è½¦é“ï¼ˆé«˜ä¼˜å…ˆçº§ï¼‰
- æ™®é€šè½¦è¾†èµ°æ™®é€šè½¦é“ï¼ˆæ­£å¸¸ä¼˜å…ˆçº§ï¼‰
- è´§è½¦é™åˆ¶åœ¨å³ä¾§è½¦é“ï¼ˆä½ä¼˜å…ˆçº§ï¼‰
```

**ğŸ“ é‡è¦ç¨‹åº¦**ï¼šâ­ äº†è§£å³å¯

### 6.2 iptablesç»“åˆtcå®ç°QoS


**ğŸ”— æ¦‚å¿µå…³ç³»**ï¼š
```
iptables â† æ ‡è®°æ•°æ®åŒ… â†’ tcæµé‡æ§åˆ¶
    â†“                      â†“
MARKç›®æ ‡                é˜Ÿåˆ—è§„åˆ™
    â†“                      â†“
åˆ†ç±»æ ‡è¯†              å¸¦å®½åˆ†é…
```

**åŸºç¡€é…ç½®ç¤ºä¾‹**ï¼š
```bash
# æ ‡è®°ä¸åŒç±»å‹æµé‡
iptables -t mangle -A POSTROUTING -p tcp --dport 80 -j MARK --set-mark 1
iptables -t mangle -A POSTROUTING -p tcp --dport 22 -j MARK --set-mark 2

# é…åˆtcå‘½ä»¤å®ç°å¸¦å®½é™åˆ¶ï¼ˆç®€åŒ–ç¤ºä¾‹ï¼‰
tc qdisc add dev eth0 root handle 1: htb default 30
tc class add dev eth0 parent 1: classid 1:1 htb rate 100mbit
tc class add dev eth0 parent 1:1 classid 1:10 htb rate 80mbit ceil 90mbit
tc class add dev eth0 parent 1:1 classid 1:20 htb rate 20mbit ceil 30mbit
```

---

## 7. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 7.1 å¿…é¡»æŒæ¡çš„åŸºæœ¬æ¦‚å¿µ


```
ğŸ”¸ æµé‡é™åˆ¶ï¼šé˜²æ­¢ç½‘ç»œèµ„æºè¢«æ»¥ç”¨çš„é‡è¦æ‰‹æ®µ
ğŸ”¸ limitæ¨¡å—ï¼šåŸºç¡€é™é€Ÿï¼Œå…¨å±€ç”Ÿæ•ˆï¼Œä»¤ç‰Œæ¡¶ç®—æ³•
ğŸ”¸ hashlimitæ¨¡å—ï¼šé«˜çº§é™é€Ÿï¼ŒæŒ‰æ¡ä»¶åˆ†ç»„ï¼Œæ›´ç²¾ç¡®æ§åˆ¶
ğŸ”¸ connlimitæ¨¡å—ï¼šè¿æ¥æ•°é™åˆ¶ï¼Œé˜²æ­¢è¿æ¥è€—å°½æ”»å‡»
ğŸ”¸ é˜²DDoSï¼šç»¼åˆè¿ç”¨å¤šç§é™åˆ¶æ‰‹æ®µçš„å®‰å…¨ç­–ç•¥
```

### 7.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ é™åˆ¶ç²’åº¦çš„é€‰æ‹©**
```
å…¨å±€é™åˆ¶ï¼ˆlimitï¼‰ï¼š
- ä¼˜ç‚¹ï¼šé…ç½®ç®€å•ï¼Œèµ„æºæ¶ˆè€—å°
- ç¼ºç‚¹ï¼šæ— æ³•åŒºåˆ†ä¸åŒæ¥æº
- é€‚ç”¨ï¼šå°å‹æœåŠ¡å™¨ï¼Œç®€å•åœºæ™¯

åˆ†ç»„é™åˆ¶ï¼ˆhashlimitï¼‰ï¼š
- ä¼˜ç‚¹ï¼šç²¾ç¡®æ§åˆ¶ï¼Œé˜²å•ç‚¹æ”»å‡»
- ç¼ºç‚¹ï¼šé…ç½®å¤æ‚ï¼Œèµ„æºæ¶ˆè€—å¤§
- é€‚ç”¨ï¼šå¤§å‹æœåŠ¡å™¨ï¼Œå¤æ‚åœºæ™¯
```

**ğŸ”¹ å‚æ•°è°ƒä¼˜çš„å¹³è¡¡**
```
limitå€¼è®¾ç½®ï¼š
â€¢ è¿‡å¤§ï¼šé˜²æŠ¤æ•ˆæœå·®
â€¢ è¿‡å°ï¼šå½±å“æ­£å¸¸ç”¨æˆ·
â€¢ å»ºè®®ï¼šä»ä¿å®ˆå€¼å¼€å§‹ï¼Œç›‘æ§è°ƒæ•´

burstå€¼è®¾ç½®ï¼š
â€¢ é€šå¸¸ä¸ºlimitå€¼çš„50%
â€¢ å…è®¸åˆç†çªå‘æµé‡
â€¢ é¿å…æ­£å¸¸ç”¨æˆ·è¯¯ä¼¤
```

### 7.3 å®é™…åº”ç”¨ä»·å€¼


**âœ… å­¦ä¹ æ£€æŸ¥ç‚¹**ï¼š
- [ ] èƒ½è§£é‡Šlimitå’Œhashlimitçš„åŒºåˆ«
- [ ] èƒ½é…ç½®åŸºæœ¬çš„SSHé˜²æš´åŠ›ç ´è§£
- [ ] èƒ½è®¾ç½®HTTPæœåŠ¡çš„è¿æ¥é™åˆ¶
- [ ] èƒ½ç¼–å†™ç®€å•çš„DDoSé˜²æŠ¤è§„åˆ™

**ğŸ’¡ å®ç”¨æŠ€å·§**ï¼š
- **ç›‘æ§æŠ€å·§**ï¼šä½¿ç”¨`iptables -L -n -v`æŸ¥çœ‹è§„åˆ™å‘½ä¸­æƒ…å†µ
- **è°ƒè¯•æŠ€å·§**ï¼šå…ˆç”¨LOGç›®æ ‡è®°å½•ï¼Œç¡®è®¤è§„åˆ™ç”Ÿæ•ˆåå†æ”¹ä¸ºDROP/REJECT
- **ä¼˜åŒ–æŠ€å·§**ï¼šå°†å¸¸ç”¨è§„åˆ™æ”¾åœ¨é“¾çš„å‰é¢ï¼Œæå‡åŒ¹é…æ•ˆç‡

### 7.4 æœ€ä½³å®è·µå»ºè®®


**ğŸ¯ é…ç½®åŸåˆ™**
```
æ¸è¿›å¼éƒ¨ç½²ï¼š
ç¬¬1å‘¨ï¼šéƒ¨ç½²åŸºç¡€limitè§„åˆ™
ç¬¬2å‘¨ï¼šæ·»åŠ connlimitè¿æ¥é™åˆ¶
ç¬¬3å‘¨ï¼šé…ç½®hashlimitç²¾ç»†æ§åˆ¶
ç¬¬4å‘¨ï¼šå®Œå–„DDoSé˜²æŠ¤ç­–ç•¥

ç›‘æ§ä¸è°ƒä¼˜ï¼š
â€¢ éƒ¨ç½²å‰ï¼šå‹åŠ›æµ‹è¯•ç¡®å®šé˜ˆå€¼
â€¢ éƒ¨ç½²ä¸­ï¼šå®æ—¶ç›‘æ§è§„åˆ™å‘½ä¸­ç‡
â€¢ éƒ¨ç½²åï¼šæ ¹æ®æ—¥å¿—è°ƒæ•´å‚æ•°
```

**âš ï¸ å¸¸è§è¯¯åŒº**ï¼š
âŒ **é”™è¯¯åšæ³•**ï¼šä¸€æ¬¡æ€§éƒ¨ç½²æ‰€æœ‰é™åˆ¶è§„åˆ™
âœ… **æ­£ç¡®åšæ³•**ï¼šé€æ­¥éƒ¨ç½²ï¼Œè§‚å¯Ÿæ•ˆæœåå†è°ƒæ•´

âŒ **é”™è¯¯ç†è§£**ï¼šé™åˆ¶å€¼è¶Šå°è¶Šå®‰å…¨
âœ… **æ­£ç¡®ç†è§£**ï¼šåˆé€‚çš„é™åˆ¶å€¼æ‰èƒ½å¹³è¡¡å®‰å…¨å’Œå¯ç”¨æ€§

**æ ¸å¿ƒè®°å¿†**ï¼š
- limitå…¨å±€é™ï¼Œhashlimitåˆ†ç»„é™
- ä»¤ç‰Œæ¡¶ç®—æ³•ï¼Œçªå‘ä¹Ÿèƒ½è¡Œ
- è¿æ¥æ•°è¦æ§ï¼ŒDDoSèƒ½é˜²ä½
- å‚æ•°è¦è°ƒä¼˜ï¼Œç›‘æ§ä¸èƒ½åœ