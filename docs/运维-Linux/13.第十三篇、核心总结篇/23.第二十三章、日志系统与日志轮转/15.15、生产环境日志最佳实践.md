---
title: 15ã€ç”Ÿäº§ç¯å¢ƒæ—¥å¿—æœ€ä½³å®è·µ
---
## ğŸ“š ç›®å½•

1. [æ—¥å¿—æ ‡å‡†åŒ–é…ç½®æ¨¡æ¿](#1-æ—¥å¿—æ ‡å‡†åŒ–é…ç½®æ¨¡æ¿)
2. [ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²æ£€æŸ¥æ¸…å•](#2-ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²æ£€æŸ¥æ¸…å•)
3. [æ—¥å¿—ç›‘æ§å‘Šè­¦è§„åˆ™è®¾è®¡](#3-æ—¥å¿—ç›‘æ§å‘Šè­¦è§„åˆ™è®¾è®¡)
4. [åº”æ€¥å“åº”ä¸­çš„æ—¥å¿—ä½¿ç”¨](#4-åº”æ€¥å“åº”ä¸­çš„æ—¥å¿—ä½¿ç”¨)
5. [æ—¥å¿—æ•°æ®ç”Ÿå‘½å‘¨æœŸç®¡ç†](#5-æ—¥å¿—æ•°æ®ç”Ÿå‘½å‘¨æœŸç®¡ç†)
6. [å›¢é˜Ÿæ—¥å¿—ç®¡ç†æµç¨‹è§„èŒƒ](#6-å›¢é˜Ÿæ—¥å¿—ç®¡ç†æµç¨‹è§„èŒƒ)
7. [å¸¸è§æ—¥å¿—ç®¡ç†é”™è¯¯é¿å…](#7-å¸¸è§æ—¥å¿—ç®¡ç†é”™è¯¯é¿å…)
8. [è¿ç»´è‡ªåŠ¨åŒ–ä¸­çš„æ—¥å¿—åº”ç”¨](#8-è¿ç»´è‡ªåŠ¨åŒ–ä¸­çš„æ—¥å¿—åº”ç”¨)
9. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#9-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ“‹ æ—¥å¿—æ ‡å‡†åŒ–é…ç½®æ¨¡æ¿


### 1.1 ä»€ä¹ˆæ˜¯æ—¥å¿—æ ‡å‡†åŒ–é…ç½®


**ğŸ¯ æ ¸å¿ƒæ¦‚å¿µ**
æ—¥å¿—æ ‡å‡†åŒ–é…ç½®å°±æ˜¯ä¸ºç”Ÿäº§ç¯å¢ƒåˆ¶å®šç»Ÿä¸€çš„æ—¥å¿—è®°å½•è§„èŒƒå’Œé…ç½®æ¨¡æ¿ã€‚å°±åƒå·¥å‚çš„æ ‡å‡†åŒ–ç”Ÿäº§æµç¨‹ä¸€æ ·ï¼Œè®©æ‰€æœ‰æœåŠ¡å™¨çš„æ—¥å¿—éƒ½æŒ‰ç…§ç›¸åŒçš„æ ¼å¼ã€çº§åˆ«ã€å­˜å‚¨æ–¹å¼æ¥è®°å½•ã€‚

**ğŸ’¡ ä¸ºä»€ä¹ˆéœ€è¦æ ‡å‡†åŒ–**
```
é—®é¢˜åœºæ™¯ï¼š
æœåŠ¡å™¨Aï¼šæ—¥å¿—æ”¾åœ¨/var/log/app1/ç›®å½•
æœåŠ¡å™¨Bï¼šæ—¥å¿—æ”¾åœ¨/home/logs/ç›®å½•  
æœåŠ¡å™¨Cï¼šæ—¥å¿—æ ¼å¼å®Œå…¨ä¸åŒ

ç»“æœï¼šè¿ç»´äººå‘˜éœ€è¦è®°ä½æ¯å°æœåŠ¡å™¨çš„æ—¥å¿—ä½ç½®å’Œæ ¼å¼
â†’ å¢åŠ ç»´æŠ¤æˆæœ¬ï¼Œå®¹æ˜“å‡ºé”™
```

### 1.2 ç³»ç»Ÿçº§æ—¥å¿—é…ç½®æ¨¡æ¿


**ğŸ”§ rsyslog æ ‡å‡†é…ç½®æ¨¡æ¿**

```bash
# /etc/rsyslog.conf æ ‡å‡†æ¨¡æ¿
# å…¨å±€é…ç½®
$ModLoad imuxsock    # æœ¬åœ°å¥—æ¥å­—æ”¯æŒ
$ModLoad imklog      # å†…æ ¸æ—¥å¿—æ”¯æŒ

# å®šä¹‰æ—¥å¿—æ ¼å¼æ¨¡æ¿
$template CustomFormat,"%timegenerated:1:19:date-rfc3339% %HOSTNAME% %syslogtag%%msg%\n"
$ActionFileDefaultTemplate CustomFormat

# æŒ‰çº§åˆ«å’Œè®¾æ–½åˆ†ç±»
*.info,mail.none,authpriv.none,cron.none    /var/log/messages
authpriv.*                                   /var/log/secure
mail.*                                       /var/log/maillog
cron.*                                       /var/log/cron
*.emerg                                      :omusrmsg:*

# è¿œç¨‹æ—¥å¿—æ”¶é›†
*.* $$log-server.company.com:514
```

**ğŸ—ï¸ logrotate æ ‡å‡†è½®è½¬é…ç½®**

```bash
# /etc/logrotate.d/system-logs
/var/log/messages /var/log/secure /var/log/maillog /var/log/cron {
    daily           # æ¯å¤©è½®è½¬
    rotate 30       # ä¿ç•™30ä¸ªæ–‡ä»¶
    missingok       # æ–‡ä»¶ä¸å­˜åœ¨ä¸æŠ¥é”™
    notifempty      # ç©ºæ–‡ä»¶ä¸è½®è½¬
    compress        # å‹ç¼©æ—§æ–‡ä»¶
    delaycompress   # å»¶è¿Ÿå‹ç¼©
    sharedscripts   # å¤šä¸ªæ–‡ä»¶å…±äº«è„šæœ¬
    postrotate
        /bin/kill -HUP `cat /var/run/rsyslogd.pid 2> /dev/null` 2> /dev/null || true
    endscript
}
```

### 1.3 åº”ç”¨çº§æ—¥å¿—é…ç½®æ¨¡æ¿


**ğŸ“¦ Javaåº”ç”¨ logback é…ç½®æ¨¡æ¿**

```xml
<!-- logback-spring.xml ç”Ÿäº§ç¯å¢ƒæ ‡å‡†é…ç½® -->
<configuration>
    <!-- ç»Ÿä¸€çš„æ—¥å¿—æ ¼å¼ -->
    <property name="LOG_PATTERN" 
              value="%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n"/>
    
    <!-- æ§åˆ¶å°è¾“å‡ºï¼ˆç”Ÿäº§ç¯å¢ƒå¯å…³é—­ï¼‰ -->
    <appender name="CONSOLE" class="ch.qos.logback.core.ConsoleAppender">
        <encoder>
            <pattern>${LOG_PATTERN}</pattern>
        </encoder>
    </appender>
    
    <!-- æ–‡ä»¶è¾“å‡º -->
    <appender name="FILE" class="ch.qos.logback.core.rolling.RollingFileAppender">
        <file>/var/log/app/application.log</file>
        <rollingPolicy class="ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy">
            <fileNamePattern>/var/log/app/application-%d{yyyy-MM-dd}.%i.log</fileNamePattern>
            <maxFileSize>100MB</maxFileSize>
            <maxHistory>30</maxHistory>
            <totalSizeCap>10GB</totalSizeCap>
        </rollingPolicy>
        <encoder>
            <pattern>${LOG_PATTERN}</pattern>
        </encoder>
    </appender>
    
    <!-- æ ¹æ—¥å¿—çº§åˆ« -->
    <root level="INFO">
        <appender-ref ref="CONSOLE"/>
        <appender-ref ref="FILE"/>
    </root>
</configuration>
```

### 1.4 é…ç½®æ¨¡æ¿åº”ç”¨æŒ‡å—


**ğŸ“‹ éƒ¨ç½²æ£€æŸ¥æ¸…å•**

- [x] **ç›®å½•æƒé™**ï¼š`/var/log/` ç›®å½•æƒé™æ­£ç¡®è®¾ç½®
- [x] **ç£ç›˜ç©ºé—´**ï¼šæ—¥å¿—åˆ†åŒºæœ‰è¶³å¤Ÿç©ºé—´
- [x] **è½®è½¬é…ç½®**ï¼šlogrotate é…ç½®æ–‡ä»¶å°±ä½
- [x] **æ ¼å¼ç»Ÿä¸€**ï¼šæ‰€æœ‰åº”ç”¨ä½¿ç”¨æ ‡å‡†æ—¥å¿—æ ¼å¼
- [x] **çº§åˆ«è®¾ç½®**ï¼šç”Ÿäº§ç¯å¢ƒä½¿ç”¨ INFO çº§åˆ«
- [x] **è¿œç¨‹æ”¶é›†**ï¼šé…ç½®åˆ°ä¸­å¤®æ—¥å¿—æœåŠ¡å™¨

---

## 2. ğŸ” ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²æ£€æŸ¥æ¸…å•


### 2.1 éƒ¨ç½²å‰ç³»ç»Ÿæ£€æŸ¥


**âš™ï¸ ç³»ç»ŸåŸºç¡€ç¯å¢ƒæ£€æŸ¥**

| æ£€æŸ¥é¡¹ç›® | æ£€æŸ¥å†…å®¹ | é¢„æœŸç»“æœ | å‘½ä»¤ç¤ºä¾‹ |
|---------|---------|---------|----------|
| **ç£ç›˜ç©ºé—´** | æ—¥å¿—åˆ†åŒºå¯ç”¨ç©ºé—´ | > 80% å¯ç”¨ | `df -h /var/log` |
| **ç£ç›˜IO** | ç£ç›˜è¯»å†™æ€§èƒ½ | æ»¡è¶³å†™å…¥éœ€æ±‚ | `iostat -x 1 5` |
| **æ–‡ä»¶æè¿°ç¬¦** | ç³»ç»Ÿæ–‡ä»¶æè¿°ç¬¦é™åˆ¶ | â‰¥ 65536 | `ulimit -n` |
| **ç³»ç»Ÿæ—¶é—´** | æ—¶é—´åŒæ­¥çŠ¶æ€ | NTP åŒæ­¥æ­£å¸¸ | `timedatectl status` |
| **SELinux** | å®‰å…¨å¢å¼ºçŠ¶æ€ | æ ¹æ®å®‰å…¨ç­–ç•¥ | `getenforce` |

**ğŸ”’ æƒé™å’Œå®‰å…¨æ£€æŸ¥**

```bash
# æ£€æŸ¥å…³é”®æ—¥å¿—ç›®å½•æƒé™
ls -la /var/log/ | head -10
# æœŸæœ›çœ‹åˆ°ç±»ä¼¼ï¼š
# drwxr-xr-x  2 root   root    4096 Jan 19 10:30 messages
# drwx------  2 root   root    4096 Jan 19 10:30 secure

# æ£€æŸ¥æ—¥å¿—æ–‡ä»¶æ‰€æœ‰è€…
find /var/log -name "*.log" -exec ls -l {} \; | head -5

# éªŒè¯ rsyslog æœåŠ¡çŠ¶æ€
systemctl status rsyslog
```

### 2.2 æ—¥å¿—é…ç½®å®Œæ•´æ€§æ£€æŸ¥


**ğŸ“ é…ç½®æ–‡ä»¶éªŒè¯æ¸…å•**

> ğŸ’¡ **æ£€æŸ¥æŠ€å·§**  
> ä½¿ç”¨ `rsyslog -N 1` å‘½ä»¤å¯ä»¥æ£€æŸ¥é…ç½®æ–‡ä»¶è¯­æ³•æ˜¯å¦æ­£ç¡®ï¼Œè€Œä¸éœ€è¦é‡å¯æœåŠ¡ã€‚

**æ ¸å¿ƒé…ç½®æ£€æŸ¥æ­¥éª¤**ï¼š

1. **rsyslog é…ç½®è¯­æ³•æ£€æŸ¥**
   ```bash
   # æ£€æŸ¥ä¸»é…ç½®æ–‡ä»¶
   rsyslog -N 1 -f /etc/rsyslog.conf
   
   # æ£€æŸ¥åŒ…å«çš„é…ç½®æ–‡ä»¶
   rsyslog -N 1 -f /etc/rsyslog.d/*.conf
   ```

2. **æ—¥å¿—è½®è½¬é…ç½®æ£€æŸ¥**
   ```bash
   # æµ‹è¯• logrotate é…ç½®
   logrotate -d /etc/logrotate.conf
   
   # å¼ºåˆ¶æ‰§è¡Œè½®è½¬ï¼ˆæµ‹è¯•ç”¨ï¼‰
   logrotate -f /etc/logrotate.conf
   ```

3. **åº”ç”¨æ—¥å¿—é…ç½®æ£€æŸ¥**
   ```bash
   # æ£€æŸ¥åº”ç”¨æ˜¯å¦èƒ½æ­£å¸¸å†™å…¥æ—¥å¿—
   logger -p local0.info "Test message from deployment check"
   tail -f /var/log/messages | grep "Test message"
   ```

### 2.3 ç›‘æ§æŒ‡æ ‡åŸºçº¿ç¡®å®š


**ğŸ“Š å…³é”®ç›‘æ§æŒ‡æ ‡åŠé˜ˆå€¼**

```
æ—¥å¿—æ–‡ä»¶å¤§å°å¢é•¿ç‡ï¼š
æ­£å¸¸ï¼š< 100MB/hour
è­¦å‘Šï¼š100-500MB/hour  
ä¸¥é‡ï¼š> 500MB/hour

æ—¥å¿—é”™è¯¯ç‡ï¼š
æ­£å¸¸ï¼š< 1%
è­¦å‘Šï¼š1-5%
ä¸¥é‡ï¼š> 5%

ç£ç›˜ä½¿ç”¨ç‡ï¼š
æ­£å¸¸ï¼š< 70%
è­¦å‘Šï¼š70-85%
ä¸¥é‡ï¼š> 85%
```

---

## 3. ğŸš¨ æ—¥å¿—ç›‘æ§å‘Šè­¦è§„åˆ™è®¾è®¡


### 3.1 å‘Šè­¦è§„åˆ™è®¾è®¡åŸåˆ™


**ğŸ¯ å‘Šè­¦è®¾è®¡æ ¸å¿ƒæ€è·¯**

å‘Šè­¦å°±åƒå®¶é‡Œçš„çƒŸé›¾æŠ¥è­¦å™¨ï¼Œéœ€è¦åšåˆ°ï¼š
- **åŠæ—¶å‘ç°**ï¼šé—®é¢˜å‘ç”Ÿæ—¶ç«‹å³é€šçŸ¥
- **å‡å°‘è¯¯æŠ¥**ï¼šé¿å…åŠå¤œè¢«æ— å…³ç´§è¦çš„å‘Šè­¦åµé†’  
- **åˆ†çº§å¤„ç†**ï¼šé‡è¦é—®é¢˜ç«‹å³å¤„ç†ï¼Œä¸€èˆ¬é—®é¢˜å¯å»¶å

**âš–ï¸ å‘Šè­¦çº§åˆ«å®šä¹‰**

| çº§åˆ« | å«ä¹‰ | å“åº”æ—¶é—´ | é€šçŸ¥æ–¹å¼ | ç¤ºä¾‹ |
|------|------|---------|----------|------|
| ğŸ”´ **Critical** | ä¸šåŠ¡ä¸­æ–­ | ç«‹å³ | çŸ­ä¿¡+ç”µè¯ | åº”ç”¨æ— æ³•å¯åŠ¨ |
| ğŸŸ¡ **Warning** | æ½œåœ¨é£é™© | 15åˆ†é’Ÿå†… | é‚®ä»¶+IM | é”™è¯¯ç‡ä¸Šå‡ |
| ğŸ”µ **Info** | çŠ¶æ€å˜åŒ– | éå·¥ä½œæ—¶é—´ | é‚®ä»¶ | æœåŠ¡é‡å¯ |

### 3.2 å¸¸è§å‘Šè­¦è§„åˆ™é…ç½®


**ğŸ”§ åŸºäºæ—¥å¿—å†…å®¹çš„å‘Šè­¦è§„åˆ™**

```bash
# ä½¿ç”¨ tail + grep å®ç°ç®€å•ç›‘æ§è„šæœ¬
#!/bin/bash
# error-monitor.sh - é”™è¯¯æ—¥å¿—ç›‘æ§è„šæœ¬

LOG_FILE="/var/log/application.log"
ERROR_THRESHOLD=10  # 5åˆ†é’Ÿå†…é”™è¯¯è¶…è¿‡10æ¬¡å‘Šè­¦

# ç»Ÿè®¡æœ€è¿‘5åˆ†é’Ÿçš„é”™è¯¯æ•°é‡
error_count=$(tail -n 1000 $LOG_FILE | \
  awk -v date="$(date -d '5 minutes ago' '+%Y-%m-%d %H:%M:%S')" \
  '$1" "$2 >= date && /ERROR|FATAL/ {count++} END {print count+0}')

if [ $error_count -gt $ERROR_THRESHOLD ]; then
    echo "ALERT: $error_count errors in last 5 minutes" | \
    mail -s "Application Error Alert" admin@company.com
fi
```

**ğŸ“ˆ åŸºäºç³»ç»Ÿèµ„æºçš„å‘Šè­¦è§„åˆ™**

```bash
# disk-monitor.sh - ç£ç›˜ç©ºé—´ç›‘æ§è„šæœ¬
#!/bin/bash

# æ£€æŸ¥æ—¥å¿—ç›®å½•ç£ç›˜ä½¿ç”¨ç‡
usage=$(df /var/log | tail -1 | awk '{print $5}' | sed 's/%//')

if [ $usage -gt 85 ]; then
    echo "CRITICAL: Log disk usage is ${usage}%" | \
    mail -s "Disk Space Critical" admin@company.com
elif [ $usage -gt 70 ]; then
    echo "WARNING: Log disk usage is ${usage}%" | \
    mail -s "Disk Space Warning" admin@company.com
fi
```

### 3.3 é›†ä¸­åŒ–ç›‘æ§æ–¹æ¡ˆ


**ğŸŒ ä½¿ç”¨ ELK æ ˆçš„å‘Šè­¦é…ç½®ç¤ºä¾‹**

```json
{
  "trigger": {
    "schedule": {
      "interval": "5m"
    }
  },
  "input": {
    "search": {
      "request": {
        "search_type": "query_then_fetch",
        "indices": ["application-logs-*"],
        "body": {
          "query": {
            "bool": {
              "must": [
                {"range": {"@timestamp": {"gte": "now-5m"}}},
                {"match": {"level": "ERROR"}}
              ]
            }
          }
        }
      }
    }
  },
  "condition": {
    "compare": {
      "ctx.payload.hits.total": {
        "gt": 10
      }
    }
  },
  "actions": {
    "send_email": {
      "email": {
        "to": ["admin@company.com"],
        "subject": "High Error Rate Alert",
        "body": "Detected {{ctx.payload.hits.total}} errors in last 5 minutes"
      }
    }
  }
}
```

---

## 4. ğŸš‘ åº”æ€¥å“åº”ä¸­çš„æ—¥å¿—ä½¿ç”¨


### 4.1 æ•…éšœå¿«é€Ÿå®šä½ç­–ç•¥


**âš¡ é»„é‡‘5åˆ†é’Ÿæ’æŸ¥æ³•**

å½“ç”Ÿäº§ç¯å¢ƒå‡ºç°é—®é¢˜æ—¶ï¼Œå‰5åˆ†é’Ÿçš„å¿«é€Ÿæ’æŸ¥è‡³å…³é‡è¦ï¼š

```
ç¬¬1åˆ†é’Ÿï¼šç¡®è®¤é—®é¢˜èŒƒå›´
â””â”€â”€ æŸ¥çœ‹ç›‘æ§é¢æ¿ï¼Œç¡®å®šå½±å“èŒƒå›´

ç¬¬2-3åˆ†é’Ÿï¼šæ£€æŸ¥å…³é”®æ—¥å¿—
â””â”€â”€ æŸ¥çœ‹æœ€è¿‘çš„é”™è¯¯æ—¥å¿—

ç¬¬4-5åˆ†é’Ÿï¼šåˆæ­¥å®šä½åŸå› 
â””â”€â”€ åˆ†ææ—¥å¿—æ¨¡å¼ï¼Œç¡®å®šå¯èƒ½åŸå› 
```

**ğŸ” å¿«é€Ÿæ—¥å¿—æ£€æŸ¥å‘½ä»¤æ¨¡æ¿**

```bash
# 1. æ£€æŸ¥æœ€è¿‘çš„ç³»ç»Ÿé”™è¯¯
journalctl -p err -n 50 --no-pager

# 2. æ£€æŸ¥åº”ç”¨æœ€è¿‘çš„é”™è¯¯æ—¥å¿—
tail -n 100 /var/log/application.log | grep -i error

# 3. æ£€æŸ¥ç³»ç»Ÿè´Ÿè½½å’Œèµ„æºä½¿ç”¨
tail -n 20 /var/log/messages | grep -E "(Out of memory|CPU|disk)"

# 4. æ£€æŸ¥ç½‘ç»œè¿æ¥é—®é¢˜
grep -i "connection" /var/log/messages | tail -n 10
```

### 4.2 å…³é”®ä¿¡æ¯å¿«é€Ÿæå–


**ğŸ“Š æ•…éšœä¿¡æ¯æ”¶é›†æ¨¡æ¿**

<details>
<summary>ğŸ”§ æ•…éšœä¿¡æ¯æ”¶é›†è„šæœ¬</summary>

```bash
#!/bin/bash
# emergency-log-collect.sh - åº”æ€¥æ—¥å¿—æ”¶é›†è„šæœ¬

TIMESTAMP=$(date +%Y%m%d_%H%M%S)
OUTPUT_DIR="/tmp/emergency_logs_$TIMESTAMP"
mkdir -p $OUTPUT_DIR

echo "=== åº”æ€¥æ—¥å¿—æ”¶é›†å¼€å§‹ ===" > $OUTPUT_DIR/summary.txt
echo "æ”¶é›†æ—¶é—´: $(date)" >> $OUTPUT_DIR/summary.txt
echo "æ”¶é›†æœåŠ¡å™¨: $(hostname)" >> $OUTPUT_DIR/summary.txt

# æ”¶é›†ç³»ç»Ÿå…³é”®æ—¥å¿—
journalctl --since "1 hour ago" -p err > $OUTPUT_DIR/system_errors.log
tail -n 500 /var/log/messages > $OUTPUT_DIR/recent_messages.log

# æ”¶é›†åº”ç”¨æ—¥å¿—
if [ -f /var/log/application.log ]; then
    tail -n 1000 /var/log/application.log > $OUTPUT_DIR/app_recent.log
    grep -i error /var/log/application.log | tail -n 100 > $OUTPUT_DIR/app_errors.log
fi

# ç³»ç»ŸçŠ¶æ€å¿«ç…§
ps aux --sort=-%cpu | head -20 > $OUTPUT_DIR/top_processes.txt
df -h > $OUTPUT_DIR/disk_usage.txt
free -h > $OUTPUT_DIR/memory_usage.txt

# æ‰“åŒ…å‹ç¼©
tar -czf "emergency_logs_$TIMESTAMP.tar.gz" -C /tmp emergency_logs_$TIMESTAMP/
echo "æ—¥å¿—æ”¶é›†å®Œæˆ: emergency_logs_$TIMESTAMP.tar.gz"
```
</details>

### 4.3 æ—¥å¿—åˆ†æå…³é”®æŠ€å·§


**ğŸ¯ é«˜æ•ˆæ—¥å¿—åˆ†ææ–¹æ³•**

> âš ï¸ **æ³¨æ„**  
> åº”æ€¥å“åº”æ—¶è¦é‡ç‚¹å…³æ³¨æ—¶é—´çº¿ï¼ŒæŒ‰æ—¶é—´é¡ºåºåˆ†æé—®é¢˜å‘ç”Ÿçš„è¿‡ç¨‹ã€‚

**æ—¶é—´çº¿åˆ†ææ³•**ï¼š
```bash
# æŸ¥çœ‹ç‰¹å®šæ—¶é—´æ®µçš„æ—¥å¿—
journalctl --since "2024-01-19 10:00" --until "2024-01-19 10:30"

# å¤šä¸ªæ—¥å¿—æ–‡ä»¶æŒ‰æ—¶é—´åˆå¹¶æŸ¥çœ‹
tail -n 200 /var/log/messages /var/log/application.log | sort
```

**å…³é”®å­—åŒ¹é…æŠ€å·§**ï¼š
```bash
# ç»„åˆå…³é”®å­—æœç´¢
grep -E "(error|fail|timeout|exception)" /var/log/application.log

# æ’é™¤å¹²æ‰°ä¿¡æ¯
grep -i error /var/log/application.log | grep -v "connection timeout"

# ç»Ÿè®¡é”™è¯¯ç±»å‹
grep -i error /var/log/application.log | awk '{print $NF}' | sort | uniq -c
```

---

## 5. ğŸ—‚ï¸ æ—¥å¿—æ•°æ®ç”Ÿå‘½å‘¨æœŸç®¡ç†


### 5.1 æ—¥å¿—ç”Ÿå‘½å‘¨æœŸé˜¶æ®µ


**ğŸ“‹ ç”Ÿå‘½å‘¨æœŸå„é˜¶æ®µç‰¹ç‚¹**

```
äº§ç”Ÿé˜¶æ®µ â†’ æ”¶é›†é˜¶æ®µ â†’ å­˜å‚¨é˜¶æ®µ â†’ åˆ†æé˜¶æ®µ â†’ å½’æ¡£é˜¶æ®µ â†’ é”€æ¯é˜¶æ®µ
    â†“           â†“         â†“         â†“         â†“         â†“
  å®æ—¶äº§ç”Ÿ    å®æ—¶æ”¶é›†    çƒ­å­˜å‚¨    å®æ—¶åˆ†æ    å†·å­˜å‚¨    å®‰å…¨åˆ é™¤
  (åº”ç”¨ç«¯)   (æ—¥å¿—ç³»ç»Ÿ)  (æœ¬åœ°ç£ç›˜) (ç›‘æ§ç³»ç»Ÿ)  (å½’æ¡£ç³»ç»Ÿ) (å®šæœŸæ¸…ç†)
```

**ğŸ•’ ä¸åŒé˜¶æ®µçš„å­˜å‚¨ç­–ç•¥**

| é˜¶æ®µ | å­˜å‚¨ä½ç½® | ä¿ç•™æ—¶é—´ | è®¿é—®é¢‘ç‡ | æˆæœ¬ |
|------|----------|----------|----------|------|
| **çƒ­æ•°æ®** | SSD/å†…å­˜ | 7-30å¤© | æ¯å¤©å¤šæ¬¡ | é«˜ |
| **æ¸©æ•°æ®** | æ™®é€šç£ç›˜ | 3-6ä¸ªæœˆ | æ¯å‘¨å‡ æ¬¡ | ä¸­ |
| **å†·æ•°æ®** | å½’æ¡£å­˜å‚¨ | 1-7å¹´ | å¾ˆå°‘è®¿é—® | ä½ |

### 5.2 è‡ªåŠ¨åŒ–å½’æ¡£ç­–ç•¥


**ğŸ¤– åŸºäºæ—¶é—´çš„å½’æ¡£è„šæœ¬**

```bash
#!/bin/bash
# log-lifecycle-manager.sh - æ—¥å¿—ç”Ÿå‘½å‘¨æœŸç®¡ç†è„šæœ¬

LOG_DIR="/var/log"
ARCHIVE_DIR="/data/log-archive"
HOT_DAYS=7      # çƒ­æ•°æ®ä¿ç•™å¤©æ•°
WARM_DAYS=90    # æ¸©æ•°æ®ä¿ç•™å¤©æ•°
COLD_DAYS=2555  # å†·æ•°æ®ä¿ç•™å¤©æ•°(7å¹´)

# åˆ›å»ºå½’æ¡£ç›®å½•
mkdir -p $ARCHIVE_DIR/{warm,cold}

# ç§»åŠ¨åˆ°æ¸©å­˜å‚¨(7å¤©å‰çš„æ—¥å¿—)
find $LOG_DIR -name "*.log.*" -mtime +$HOT_DAYS -exec mv {} $ARCHIVE_DIR/warm/ \;

# ç§»åŠ¨åˆ°å†·å­˜å‚¨(90å¤©å‰çš„æ—¥å¿—)
find $ARCHIVE_DIR/warm -name "*" -mtime +$WARM_DAYS -exec mv {} $ARCHIVE_DIR/cold/ \;

# åˆ é™¤è¿‡æœŸå†·æ•°æ®(7å¹´å‰çš„æ—¥å¿—)
find $ARCHIVE_DIR/cold -name "*" -mtime +$COLD_DAYS -delete

echo "æ—¥å¿—ç”Ÿå‘½å‘¨æœŸç®¡ç†å®Œæˆ - $(date)"
```

### 5.3 åˆè§„æ€§è¦æ±‚å¤„ç†


**ğŸ“ è¡Œä¸šåˆè§„æ ‡å‡†å¯¹ç…§**

> ğŸ“– **åˆè§„æç¤º**  
> ä¸åŒè¡Œä¸šå¯¹æ—¥å¿—ä¿å­˜æœ‰ä¸åŒè¦æ±‚ï¼Œé‡‘èè¡Œä¸šé€šå¸¸è¦æ±‚ä¿å­˜7å¹´ï¼ŒåŒ»ç–—è¡Œä¸šå¯èƒ½è¦æ±‚æ›´é•¿æ—¶é—´ã€‚

**å¸¸è§åˆè§„è¦æ±‚**ï¼š
- **é‡‘èè¡Œä¸š**ï¼šå…³é”®äº¤æ˜“æ—¥å¿—ä¿å­˜7å¹´
- **åŒ»ç–—è¡Œä¸š**ï¼šæ‚£è€…ç›¸å…³æ—¥å¿—ä¿å­˜10å¹´ä»¥ä¸Š  
- **ç”µå•†è¡Œä¸š**ï¼šè®¢å•ç›¸å…³æ—¥å¿—ä¿å­˜3-5å¹´
- **ä¸€èˆ¬ä¼ä¸š**ï¼šå®‰å…¨æ—¥å¿—ä¿å­˜1-3å¹´

**åˆè§„æ€§é…ç½®ç¤ºä¾‹**ï¼š
```bash
# /etc/logrotate.d/compliance-logs
/var/log/audit/audit.log {
    daily
    rotate 2555    # ä¿å­˜7å¹´ (365*7)
    missingok
    notifempty
    compress
    delaycompress
    copytruncate
}
```

---

## 6. ğŸ‘¥ å›¢é˜Ÿæ—¥å¿—ç®¡ç†æµç¨‹è§„èŒƒ


### 6.1 æ—¥å¿—ç®¡ç†èŒè´£åˆ†å·¥


**ğŸ¢ å›¢é˜Ÿè§’è‰²ä¸èŒè´£**

```
å¼€å‘å›¢é˜Ÿ (Dev Team)
â”œâ”€â”€ åº”ç”¨æ—¥å¿—æ ¼å¼è®¾è®¡
â”œâ”€â”€ æ—¥å¿—çº§åˆ«åˆç†è®¾ç½®  
â”œâ”€â”€ å…³é”®ä¸šåŠ¡æ“ä½œæ—¥å¿—è®°å½•
â””â”€â”€ æ—¥å¿—å†…å®¹æ•æ„Ÿä¿¡æ¯è„±æ•

è¿ç»´å›¢é˜Ÿ (Ops Team)  
â”œâ”€â”€ æ—¥å¿—æ”¶é›†ç³»ç»Ÿç»´æŠ¤
â”œâ”€â”€ æ—¥å¿—å­˜å‚¨å’Œè½®è½¬é…ç½®
â”œâ”€â”€ æ—¥å¿—ç›‘æ§å‘Šè­¦è®¾ç½®
â””â”€â”€ æ—¥å¿—å¤‡ä»½å’Œå½’æ¡£ç®¡ç†

å®‰å…¨å›¢é˜Ÿ (Security Team)
â”œâ”€â”€ å®¡è®¡æ—¥å¿—è§„èŒƒåˆ¶å®š
â”œâ”€â”€ æ—¥å¿—è®¿é—®æƒé™æ§åˆ¶
â”œâ”€â”€ å®‰å…¨äº‹ä»¶æ—¥å¿—åˆ†æ
â””â”€â”€ åˆè§„æ€§è¦æ±‚ç¡®ä¿
```

### 6.2 æ—¥å¿—è¯„å®¡æµç¨‹è§„èŒƒ


**ğŸ“ ä¸Šçº¿å‰æ—¥å¿—è¯„å®¡æ£€æŸ¥æ¸…å•**

- [x] **æ ¼å¼æ ‡å‡†**ï¼šæ˜¯å¦ç¬¦åˆå›¢é˜Ÿæ—¥å¿—æ ¼å¼è§„èŒƒ
- [x] **çº§åˆ«åˆç†**ï¼šDEBUG ä¸èƒ½å‡ºç°åœ¨ç”Ÿäº§ç¯å¢ƒ
- [x] **å†…å®¹å®Œæ•´**ï¼šå…³é”®ä¸šåŠ¡æ“ä½œå¿…é¡»æœ‰æ—¥å¿—è®°å½•
- [x] **æ•æ„Ÿä¿¡æ¯**ï¼šå¯†ç ã€èº«ä»½è¯ç­‰æ•æ„Ÿä¿¡æ¯å·²è„±æ•
- [x] **æ€§èƒ½å½±å“**ï¼šæ—¥å¿—é‡ä¸ä¼šå½±å“ç³»ç»Ÿæ€§èƒ½
- [x] **å­˜å‚¨è®¡åˆ’**ï¼šä¼°ç®—æ—¥å¿—é‡å¹¶åˆ¶å®šå­˜å‚¨æ–¹æ¡ˆ

### 6.3 åº”æ€¥å“åº”åä½œè§„èŒƒ


**ğŸš¨ æ•…éšœå“åº”ä¸­çš„æ—¥å¿—åä½œæµç¨‹**

```
æ•…éšœå‘ç°
    â†“
è¿ç»´å›¢é˜Ÿï¼šæ”¶é›†ç³»ç»Ÿæ—¥å¿—å¿«ç…§
    â†“
å¼€å‘å›¢é˜Ÿï¼šåˆ†æåº”ç”¨æ—¥å¿—ï¼Œå®šä½ä»£ç é—®é¢˜
    â†“  
å®‰å…¨å›¢é˜Ÿï¼šæ£€æŸ¥æ˜¯å¦å­˜åœ¨å®‰å…¨é—®é¢˜
    â†“
æ‰€æœ‰å›¢é˜Ÿï¼šå…±äº«åˆ†æç»“æœï¼Œç¡®å®šè§£å†³æ–¹æ¡ˆ
    â†“
è¿ç»´å›¢é˜Ÿï¼šæ‰§è¡Œè§£å†³æ–¹æ¡ˆï¼ŒæŒç»­ç›‘æ§æ—¥å¿—
    â†“
å¤ç›˜æ€»ç»“ï¼šåˆ†ææ—¥å¿—å‘ç°çš„é—®é¢˜ï¼Œå®Œå–„ç›‘æ§è§„åˆ™
```

---

## 7. âš ï¸ å¸¸è§æ—¥å¿—ç®¡ç†é”™è¯¯é¿å…


### 7.1 é…ç½®ç±»å¸¸è§é”™è¯¯


**âŒ å…¸å‹é”™è¯¯ä¸æ­£ç¡®åšæ³•å¯¹æ¯”**

| å¸¸è§é”™è¯¯ | é—®é¢˜åæœ | æ­£ç¡®åšæ³• |
|----------|----------|----------|
| **æ—¥å¿—çº§åˆ«è®¾ç½®ä¸ºDEBUG** | ç”Ÿäº§ç¯å¢ƒæ—¥å¿—é‡æš´å¢ | ç”Ÿäº§ç¯å¢ƒä½¿ç”¨INFOçº§åˆ« |
| **æœªé…ç½®æ—¥å¿—è½®è½¬** | ç£ç›˜ç©ºé—´è€—å°½ | å¿…é¡»é…ç½®logrotate |
| **æ•æ„Ÿä¿¡æ¯æœªè„±æ•** | æ•°æ®å®‰å…¨é£é™© | å¯†ç ç­‰æ•æ„Ÿä¿¡æ¯ç”¨***ä»£æ›¿ |
| **æ—¥å¿—æ ¼å¼ä¸ç»Ÿä¸€** | åˆ†æå›°éš¾ | åˆ¶å®šå¹¶æ‰§è¡Œç»Ÿä¸€æ ¼å¼è§„èŒƒ |
| **ç£ç›˜ç©ºé—´æœªç›‘æ§** | æœåŠ¡ä¸­æ–­ | è®¾ç½®ç£ç›˜ä½¿ç”¨ç‡å‘Šè­¦ |

### 7.2 æ€§èƒ½å½±å“é”™è¯¯


**âš¡ é¿å…æ—¥å¿—æ‹–ç´¯ç³»ç»Ÿæ€§èƒ½**

> âš ï¸ **æ€§èƒ½è­¦å‘Š**  
> è¿‡é‡çš„æ—¥å¿—è¾“å‡ºä¼šæ˜¾è‘—å½±å“ç³»ç»Ÿæ€§èƒ½ï¼Œç‰¹åˆ«æ˜¯åŒæ­¥å†™å…¥æ—¥å¿—çš„æƒ…å†µä¸‹ã€‚

**æ€§èƒ½ä¼˜åŒ–å»ºè®®**ï¼š

1. **å¼‚æ­¥æ—¥å¿—å†™å…¥**
   ```bash
   # rsyslog å¼‚æ­¥å†™å…¥é…ç½®
   $ActionQueueType LinkedList
   $ActionQueueFileName srvrfwd
   $ActionResumeRetryCount -1
   $ActionQueueSaveOnShutdown on
   ```

2. **åˆç†çš„æ—¥å¿—çº§åˆ«**
   ```
   å¼€å‘ç¯å¢ƒï¼šDEBUG (æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯)
   æµ‹è¯•ç¯å¢ƒï¼šINFO  (éªŒè¯å…³é”®æµç¨‹)
   ç”Ÿäº§ç¯å¢ƒï¼šWARN  (åªè®°å½•å¼‚å¸¸æƒ…å†µ)
   ```

3. **é¿å…åœ¨å¾ªç¯ä¸­å¤§é‡è®°å½•æ—¥å¿—**
   ```java
   // é”™è¯¯åšæ³•
   for(User user : users) {
       log.info("Processing user: " + user.getName());  // å¯èƒ½äº§ç”Ÿå¤§é‡æ—¥å¿—
   }
   
   // æ­£ç¡®åšæ³•  
   log.info("Start processing {} users", users.size());
   // å¤„ç†é€»è¾‘...
   log.info("Finished processing users");
   ```

### 7.3 å®‰å…¨ç›¸å…³é”™è¯¯


**ğŸ”’ æ—¥å¿—å®‰å…¨æœ€ä½³å®è·µ**

```bash
# ç¡®ä¿æ—¥å¿—æ–‡ä»¶æƒé™æ­£ç¡®
chmod 640 /var/log/application.log
chown app:adm /var/log/application.log

# å®šæœŸæ£€æŸ¥æ˜¯å¦æœ‰æ•æ„Ÿä¿¡æ¯æ³„éœ²
grep -r "password\|token\|secret" /var/log/ | head -5
```

---

## 8. ğŸ¤– è¿ç»´è‡ªåŠ¨åŒ–ä¸­çš„æ—¥å¿—åº”ç”¨


### 8.1 åŸºäºæ—¥å¿—çš„è‡ªåŠ¨åŒ–å†³ç­–


**ğŸ¯ è‡ªåŠ¨åŒ–åœºæ™¯ç¤ºä¾‹**

æ—¥å¿—é©±åŠ¨çš„è‡ªåŠ¨åŒ–å°±åƒæ±½è½¦çš„è‡ªåŠ¨é©¾é©¶ç³»ç»Ÿï¼Œæ ¹æ®è·¯å†µä¿¡æ¯ï¼ˆæ—¥å¿—ï¼‰è‡ªåŠ¨åšå‡ºå†³ç­–ï¼ˆè‡ªåŠ¨åŒ–æ“ä½œï¼‰ã€‚

**å¸¸è§è‡ªåŠ¨åŒ–åœºæ™¯**ï¼š
```
åœºæ™¯1ï¼šåº”ç”¨é‡å¯
è§¦å‘æ¡ä»¶ï¼šè¿ç»­å‡ºç°"OutOfMemoryError" 
è‡ªåŠ¨æ“ä½œï¼šé‡å¯åº”ç”¨æœåŠ¡ï¼Œå‘é€å‘Šè­¦

åœºæ™¯2ï¼šæ‰©å®¹å†³ç­–  
è§¦å‘æ¡ä»¶ï¼šå“åº”æ—¶é—´æŒç»­è¶…è¿‡é˜ˆå€¼
è‡ªåŠ¨æ“ä½œï¼šå¢åŠ æœåŠ¡å™¨å®ä¾‹

åœºæ™¯3ï¼šå®‰å…¨é˜²æŠ¤
è§¦å‘æ¡ä»¶ï¼šæ£€æµ‹åˆ°æ¶æ„IPæ”»å‡»
è‡ªåŠ¨æ“ä½œï¼šè‡ªåŠ¨å°ç¦IPåœ°å€
```

### 8.2 æ—¥å¿—åˆ†æè‡ªåŠ¨åŒ–è„šæœ¬


**ğŸ“Š æ™ºèƒ½æ—¥å¿—åˆ†æè„šæœ¬ç¤ºä¾‹**

```bash
#!/bin/bash
# intelligent-log-analyzer.sh - æ™ºèƒ½æ—¥å¿—åˆ†æè„šæœ¬

LOG_FILE="/var/log/application.log"
ANALYSIS_RESULT="/tmp/log_analysis_$(date +%Y%m%d_%H%M%S).txt"

echo "=== æ—¥å¿—æ™ºèƒ½åˆ†ææŠ¥å‘Š ===" > $ANALYSIS_RESULT
echo "åˆ†ææ—¶é—´: $(date)" >> $ANALYSIS_RESULT
echo "åˆ†ææ–‡ä»¶: $LOG_FILE" >> $ANALYSIS_RESULT
echo "" >> $ANALYSIS_RESULT

# ç»Ÿè®¡å„çº§åˆ«æ—¥å¿—æ•°é‡
echo "=== æ—¥å¿—çº§åˆ«ç»Ÿè®¡ ===" >> $ANALYSIS_RESULT
grep -o -E "(DEBUG|INFO|WARN|ERROR|FATAL)" $LOG_FILE | sort | uniq -c >> $ANALYSIS_RESULT
echo "" >> $ANALYSIS_RESULT

# åˆ†æé”™è¯¯æ¨¡å¼
echo "=== é”™è¯¯æ¨¡å¼åˆ†æ ===" >> $ANALYSIS_RESULT
grep -i error $LOG_FILE | awk '{print $NF}' | sort | uniq -c | sort -nr | head -10 >> $ANALYSIS_RESULT
echo "" >> $ANALYSIS_RESULT

# æ€§èƒ½æŒ‡æ ‡æå–
echo "=== æ€§èƒ½æŒ‡æ ‡è¶‹åŠ¿ ===" >> $ANALYSIS_RESULT
grep "response_time" $LOG_FILE | tail -20 | awk '{print $1, $2, $NF}' >> $ANALYSIS_RESULT

# ç”Ÿæˆå»ºè®®
echo "=== è‡ªåŠ¨åŒ–å»ºè®® ===" >> $ANALYSIS_RESULT
error_count=$(grep -c -i error $LOG_FILE)
if [ $error_count -gt 100 ]; then
    echo "- é”™è¯¯æ•°é‡è¾ƒå¤š($error_count)ï¼Œå»ºè®®æ£€æŸ¥åº”ç”¨ç¨‹åº" >> $ANALYSIS_RESULT
fi

warn_count=$(grep -c -i warn $LOG_FILE)  
if [ $warn_count -gt 500 ]; then
    echo "- è­¦å‘Šæ•°é‡è¾ƒå¤š($warn_count)ï¼Œå»ºè®®ä¼˜åŒ–ç›¸å…³é€»è¾‘" >> $ANALYSIS_RESULT
fi

echo "åˆ†æå®Œæˆï¼Œç»“æœä¿å­˜åœ¨: $ANALYSIS_RESULT"
```

### 8.3 æ—¥å¿—é©±åŠ¨çš„ç›‘æ§çœ‹æ¿


**ğŸ“ˆ å…³é”®æŒ‡æ ‡å¯è§†åŒ–**

ä½¿ç”¨ç®€å•çš„å‘½ä»¤ç»„åˆå¯ä»¥åˆ›å»ºå®æ—¶ç›‘æ§æ•ˆæœï¼š

```bash
# å®æ—¶é”™è¯¯ç‡ç›‘æ§
watch -n 30 "echo 'æœ€è¿‘1å°æ—¶é”™è¯¯ç»Ÿè®¡:'; \
  tail -n 1000 /var/log/application.log | \
  grep \$(date -d '1 hour ago' '+%Y-%m-%d %H') | \
  grep -c ERROR"

# å®æ—¶æ€§èƒ½ç›‘æ§  
watch -n 60 "echo 'æœ€è¿‘å“åº”æ—¶é—´ç»Ÿè®¡:'; \
  tail -n 500 /var/log/access.log | \
  awk '{print \$NF}' | \
  awk '{sum+=\$1; count++} END {print \"å¹³å‡å“åº”æ—¶é—´:\", sum/count \"ms\"}'"
```

---

## 9. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 9.1 å¿…é¡»æŒæ¡çš„å…³é”®æ¦‚å¿µ


```
ğŸ”¸ æ ‡å‡†åŒ–é…ç½®ï¼šç»Ÿä¸€çš„æ—¥å¿—æ ¼å¼ã€å­˜å‚¨ä½ç½®ã€è½®è½¬ç­–ç•¥
ğŸ”¸ ç›‘æ§å‘Šè­¦ï¼šåˆ†çº§å‘Šè­¦ã€é˜ˆå€¼è®¾ç½®ã€å“åº”æµç¨‹
ğŸ”¸ åº”æ€¥å“åº”ï¼šå¿«é€Ÿå®šä½ã€ä¿¡æ¯æ”¶é›†ã€åä½œæµç¨‹  
ğŸ”¸ ç”Ÿå‘½å‘¨æœŸï¼šçƒ­æ¸©å†·å­˜å‚¨ã€å½’æ¡£ç­–ç•¥ã€åˆè§„è¦æ±‚
ğŸ”¸ å›¢é˜Ÿåä½œï¼šèŒè´£åˆ†å·¥ã€è¯„å®¡æµç¨‹ã€è§„èŒƒæ‰§è¡Œ
ğŸ”¸ é”™è¯¯é¿å…ï¼šæ€§èƒ½å½±å“ã€å®‰å…¨é£é™©ã€é…ç½®é™·é˜±
ğŸ”¸ è‡ªåŠ¨åŒ–ï¼šæ—¥å¿—é©±åŠ¨å†³ç­–ã€æ™ºèƒ½åˆ†æã€ç›‘æ§çœ‹æ¿
```

### 9.2 ç”Ÿäº§ç¯å¢ƒå®æ–½è¦ç‚¹


**ğŸ¯ å®æ–½ä¼˜å…ˆçº§æ’åº**

```
ç¬¬ä¸€ä¼˜å…ˆçº§ (ç«‹å³å®æ–½)ï¼š
- æ—¥å¿—è½®è½¬é…ç½®é˜²æ­¢ç£ç›˜çˆ†æ»¡
- é”™è¯¯æ—¥å¿—ç›‘æ§å‘Šè­¦è®¾ç½®
- æ•æ„Ÿä¿¡æ¯è„±æ•å¤„ç†

ç¬¬äºŒä¼˜å…ˆçº§ (1ä¸ªæœˆå†…)ï¼š
- æ ‡å‡†åŒ–é…ç½®æ¨¡æ¿æ¨å¹¿  
- é›†ä¸­åŒ–æ—¥å¿—æ”¶é›†éƒ¨ç½²
- åº”æ€¥å“åº”æµç¨‹å»ºç«‹

ç¬¬ä¸‰ä¼˜å…ˆçº§ (3ä¸ªæœˆå†…)ï¼š
- æ—¥å¿—åˆ†æè‡ªåŠ¨åŒ–è„šæœ¬
- ç”Ÿå‘½å‘¨æœŸç®¡ç†å®æ–½
- é«˜çº§ç›‘æ§çœ‹æ¿æ­å»º
```

**ğŸ”§ å…³é”®é…ç½®å‚æ•°å»ºè®®**

| é…ç½®é¡¹ | æ¨èå€¼ | è¯´æ˜ |
|--------|--------|------|
| **æ—¥å¿—çº§åˆ«** | ç”Ÿäº§: WARN, æµ‹è¯•: INFO | å¹³è¡¡è¯¦ç»†ç¨‹åº¦å’Œæ€§èƒ½ |
| **è½®è½¬é¢‘ç‡** | æ¯æ—¥è½®è½¬ | ä¾¿äºå®šä½é—®é¢˜æ—¶é—´æ®µ |
| **ä¿ç•™æ—¶é—´** | æœ¬åœ°30å¤©ï¼Œå½’æ¡£1å¹´ | æ»¡è¶³å¤§éƒ¨åˆ†æ•…éšœæ’æŸ¥éœ€æ±‚ |
| **æ–‡ä»¶å¤§å°** | å•ä¸ªæ–‡ä»¶â‰¤100MB | é¿å…æ–‡ä»¶è¿‡å¤§å½±å“åˆ†æ |
| **ç£ç›˜å‘Šè­¦** | ä½¿ç”¨ç‡>70%è­¦å‘Š, >85%ä¸¥é‡ | é¢„ç•™è¶³å¤Ÿç¼“å†²ç©ºé—´ |

### 9.3 å¸¸è§é—®é¢˜å¿«é€Ÿè§£å†³


**â“ é—®é¢˜è‡ªæ£€æ¸…å•**

<kbd>Q</kbd>ï¼šæ—¥å¿—æ–‡ä»¶è¿‡å¤§æ€ä¹ˆåŠï¼Ÿ  
<kbd>A</kbd>ï¼šæ£€æŸ¥ logrotate é…ç½®ï¼Œè°ƒæ•´è½®è½¬é¢‘ç‡å’Œä¿ç•™æ•°é‡

<kbd>Q</kbd>ï¼šåº”æ€¥æ—¶æ‰¾ä¸åˆ°å…³é”®æ—¥å¿—ï¼Ÿ  
<kbd>A</kbd>ï¼šä½¿ç”¨åº”æ€¥æ—¥å¿—æ”¶é›†è„šæœ¬ï¼ŒæŒ‰æ—¶é—´çº¿åˆ†æ

<kbd>Q</kbd>ï¼šæ—¥å¿—é‡å¤ªå¤§å½±å“æ€§èƒ½ï¼Ÿ  
<kbd>A</kbd>ï¼šè°ƒæ•´æ—¥å¿—çº§åˆ«ï¼Œä½¿ç”¨å¼‚æ­¥å†™å…¥ï¼Œé¿å…å¾ªç¯ä¸­è®°å½•æ—¥å¿—

<kbd>Q</kbd>ï¼šå¤šå°æœåŠ¡å™¨æ—¥å¿—æ ¼å¼ä¸ç»Ÿä¸€ï¼Ÿ  
<kbd>A</kbd>ï¼šæ¨å¹¿æ ‡å‡†åŒ–é…ç½®æ¨¡æ¿ï¼Œå»ºç«‹ä»£ç è¯„å®¡æœºåˆ¶

**æ ¸å¿ƒè®°å¿†å£è¯€**ï¼š
- æ ‡å‡†é…ç½®åšæ¨¡æ¿ï¼Œç”Ÿäº§éƒ¨ç½²æœ‰æ¸…å•
- ç›‘æ§å‘Šè­¦åˆ†ç­‰çº§ï¼Œåº”æ€¥å“åº”æœ‰æµç¨‹  
- ç”Ÿå‘½å‘¨æœŸè¦ç®¡ç†ï¼Œå›¢é˜Ÿåä½œå®šè§„èŒƒ
- å¸¸è§é”™è¯¯è¦é¿å…ï¼Œè‡ªåŠ¨åŒ–æ¥ææ•ˆç‡