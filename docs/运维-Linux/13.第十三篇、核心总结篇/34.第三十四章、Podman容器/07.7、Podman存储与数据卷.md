---
title: 7ã€Podmanå­˜å‚¨ä¸æ•°æ®å·
---
## ğŸ“š ç›®å½•

1. [Podmanå­˜å‚¨æ¦‚è¿°](#1-podmanå­˜å‚¨æ¦‚è¿°)
2. [Volumeå·ç®¡ç†](#2-volumeå·ç®¡ç†)
3. [Bind Mountç»‘å®šæŒ‚è½½](#3-bind-mountç»‘å®šæŒ‚è½½)
4. [tmpfsä¸´æ—¶æ–‡ä»¶ç³»ç»Ÿ](#4-tmpfsä¸´æ—¶æ–‡ä»¶ç³»ç»Ÿ)
5. [å®¹å™¨å­˜å‚¨é©±åŠ¨](#5-å®¹å™¨å­˜å‚¨é©±åŠ¨)
6. [æ•°æ®æŒä¹…åŒ–ç­–ç•¥](#6-æ•°æ®æŒä¹…åŒ–ç­–ç•¥)
7. [å·å¤‡ä»½ä¸æ¢å¤](#7-å·å¤‡ä»½ä¸æ¢å¤)
8. [å­˜å‚¨æ€§èƒ½ä¼˜åŒ–](#8-å­˜å‚¨æ€§èƒ½ä¼˜åŒ–)
9. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#9-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ“¦ Podmanå­˜å‚¨æ¦‚è¿°


### 1.1 ä¸ºä»€ä¹ˆéœ€è¦å­˜å‚¨ç®¡ç†


> **ğŸ’¡ æ ¸å¿ƒç†è§£**  
> å®¹å™¨æœ¬èº«æ˜¯ä¸´æ—¶çš„ï¼Œé‡Œé¢çš„æ•°æ®ä¹Ÿæ˜¯ä¸´æ—¶çš„ã€‚å½“å®¹å™¨åˆ é™¤åï¼Œæ‰€æœ‰æ•°æ®éƒ½ä¼šä¸¢å¤±ã€‚å°±åƒä½ åœ¨é…’åº—æˆ¿é—´é‡Œå†™çš„ç¬”è®°ï¼Œé€€æˆ¿åå°±æ‰¾ä¸åˆ°äº†ã€‚å­˜å‚¨ç®¡ç†å°±æ˜¯ä¸ºäº†è®©é‡è¦æ•°æ®"æ¬å‡ºæˆ¿é—´"ï¼Œæ°¸ä¹…ä¿å­˜ã€‚

**å®¹å™¨å­˜å‚¨çš„æœ¬è´¨é—®é¢˜**ï¼š
```
å®¹å™¨ç”Ÿå‘½å‘¨æœŸï¼šåˆ›å»º â†’ è¿è¡Œ â†’ åœæ­¢ â†’ åˆ é™¤
æ•°æ®ç”Ÿå‘½å‘¨æœŸï¼šåˆ›å»º â†’ ä½¿ç”¨ â†’ ï¼Ÿï¼Ÿï¼Ÿ

é—®é¢˜ï¼šå®¹å™¨åˆ é™¤åï¼Œæ•°æ®ä¹Ÿæ¶ˆå¤±äº†ï¼
è§£å†³ï¼šå°†æ•°æ®å­˜å‚¨åœ¨å®¹å™¨å¤–éƒ¨ï¼Œå®ç°æ•°æ®æŒä¹…åŒ–
```

### 1.2 Podmançš„ä¸‰ç§å­˜å‚¨æ–¹å¼


**å­˜å‚¨æ–¹å¼å¯¹æ¯”**ï¼š

| å­˜å‚¨ç±»å‹ | **æœ¬è´¨** | **æ•°æ®ä½ç½®** | **ä½¿ç”¨åœºæ™¯** | **æ€§èƒ½** |
|---------|----------|-------------|-------------|---------|
| ğŸ—‚ï¸ **Volume** | `Podmanç®¡ç†çš„ä¸“ç”¨å­˜å‚¨` | `Podmanç›®å½•` | `æ•°æ®åº“ã€é…ç½®æ–‡ä»¶` | `é«˜` |
| ğŸ“ **Bind Mount** | `ç›´æ¥æŒ‚è½½å®¿ä¸»æœºç›®å½•` | `å®¿ä¸»æœºä»»æ„ä½ç½®` | `å¼€å‘è°ƒè¯•ã€æ—¥å¿—` | `æœ€é«˜` |
| ğŸ’¾ **tmpfs** | `å†…å­˜ä¸­çš„ä¸´æ—¶å­˜å‚¨` | `ç³»ç»Ÿå†…å­˜` | `ç¼“å­˜ã€ä¸´æ—¶æ–‡ä»¶` | `æé«˜` |

> **ğŸ” æ·±å…¥æ€è€ƒ**  
> è¿™ä¸‰ç§æ–¹å¼å°±åƒä¸‰ç§ä¸åŒçš„"ä¿é™©æŸœ"ï¼šVolumeæ˜¯é“¶è¡Œä¿é™©æŸœï¼ˆå®‰å…¨å¯é ï¼‰ï¼ŒBind Mountæ˜¯å®¶é‡Œçš„ä¿é™©æŸœï¼ˆæ–¹ä¾¿å–ç”¨ï¼‰ï¼Œtmpfsæ˜¯å£è¢‹ï¼ˆä¸´æ—¶æºå¸¦ï¼‰ã€‚

### 1.3 å­˜å‚¨æ¶æ„å›¾ç¤º


```
å®¿ä¸»æœºæ–‡ä»¶ç³»ç»Ÿæ¶æ„ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           å®¿ä¸»æœºç³»ç»Ÿ                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ /home   â”‚  â”‚ /var    â”‚  â”‚ RAM â”‚   â”‚
â”‚  â”‚  ç”¨æˆ·   â”‚  â”‚ Podman  â”‚  â”‚å†…å­˜ â”‚   â”‚
â”‚  â”‚ ç›®å½•    â”‚  â”‚ ç›®å½•    â”‚  â”‚å­˜å‚¨ â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”¬â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”˜
        â”‚            â”‚          â”‚
        â–¼            â–¼          â–¼
   Bind Mount     Volume      tmpfs
        â”‚            â”‚          â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
               â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”
               â”‚   å®¹å™¨    â”‚
               â”‚  åº”ç”¨ç¨‹åº  â”‚
               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. ğŸ—‚ï¸ Volumeå·ç®¡ç†


### 2.1 Volumeæ˜¯ä»€ä¹ˆ


> **ğŸ’¡ æ ¸å¿ƒç†è§£**  
> Volumeå°±åƒä¸“é—¨çš„"æ•°æ®ä»“åº“"ï¼Œç”±Podmanæ¥ç®¡ç†ã€‚ä½ ä¸éœ€è¦å…³å¿ƒå®ƒå…·ä½“å­˜åœ¨å“ªé‡Œï¼Œåªéœ€è¦å‘Šè¯‰Podman"æˆ‘è¦ä¸€ä¸ªä»“åº“æ¥å­˜æ•°æ®"ï¼ŒPodmanå°±ä¼šåˆ†é…ç»™ä½ ä¸€ä¸ªï¼Œå¹¶ä¸”ä¿è¯æ•°æ®å®‰å…¨ã€‚

**Volumeçš„ç‰¹ç‚¹**ï¼š
- ğŸ”’ **Podmanç®¡ç†**ï¼šä½ç½®ã€æƒé™ã€ç”Ÿå‘½å‘¨æœŸéƒ½ç”±Podmanæ§åˆ¶
- ğŸ“‹ **ç‹¬ç«‹å­˜åœ¨**ï¼šå³ä½¿å®¹å™¨åˆ é™¤ï¼ŒVolumeä¾ç„¶å­˜åœ¨
- ğŸ”„ **å¯å…±äº«**ï¼šå¤šä¸ªå®¹å™¨å¯ä»¥åŒæ—¶ä½¿ç”¨åŒä¸€ä¸ªVolume
- ğŸ›¡ï¸ **å®‰å…¨éš”ç¦»**ï¼šä¸åŒVolumeä¹‹é—´å®Œå…¨éš”ç¦»

### 2.2 VolumeåŸºæœ¬æ“ä½œ


#### ğŸ”§ åˆ›å»ºå’ŒæŸ¥çœ‹Volume


```bash
# åˆ›å»ºä¸€ä¸ªåä¸ºweb-dataçš„å·
podman volume create web-data

# æŸ¥çœ‹æ‰€æœ‰å·
podman volume ls

# æŸ¥çœ‹ç‰¹å®šå·çš„è¯¦ç»†ä¿¡æ¯
podman volume inspect web-data
```

**Volumeä¿¡æ¯è§£è¯»**ï¼š
```json
{
    "Name": "web-data",
    "Driver": "local", 
    "Mountpoint": "/var/lib/containers/storage/volumes/web-data/_data",
    "CreatedAt": "2025-09-18T15:30:00Z"
}
```

> **ğŸ“Œ é‡è¦ç†è§£**ï¼š`Mountpoint`å°±æ˜¯Volumeåœ¨å®¿ä¸»æœºä¸Šçš„å®é™…ä½ç½®ï¼Œä½†ä½ å¹³æ—¶ä¸éœ€è¦ç›´æ¥è®¿é—®è¿™ä¸ªè·¯å¾„ã€‚

#### ğŸ“‚ ä½¿ç”¨Volume


```bash
# è¿è¡Œå®¹å™¨æ—¶æŒ‚è½½Volume
podman run -d \
  --name web-server \
  -v web-data:/var/www/html \
  nginx:latest

# æˆ–è€…ä½¿ç”¨æ›´æ˜ç¡®çš„è¯­æ³•
podman run -d \
  --name web-server \
  --mount type=volume,source=web-data,target=/var/www/html \
  nginx:latest
```

**æŒ‚è½½è¯­æ³•è§£é‡Š**ï¼š
```
-v web-data:/var/www/html
   â–²           â–²
   â”‚           â””â”€â”€ å®¹å™¨å†…çš„è·¯å¾„
   â””â”€â”€ Volumeåç§°

å«ä¹‰ï¼šå°†åä¸ºweb-dataçš„VolumeæŒ‚è½½åˆ°å®¹å™¨çš„/var/www/htmlç›®å½•
```

### 2.3 Volumeå®é™…åº”ç”¨åœºæ™¯


#### ğŸ“Š æ•°æ®åº“æ•°æ®æŒä¹…åŒ–


```bash
# MySQLæ•°æ®æŒä¹…åŒ–
podman volume create mysql-data

podman run -d \
  --name mysql-db \
  -e MYSQL_ROOT_PASSWORD=password123 \
  -v mysql-data:/var/lib/mysql \
  mysql:8.0
```

> **ğŸ’ª å®è·µå»ºè®®**ï¼šæ•°æ®åº“å®¹å™¨å¿…é¡»ä½¿ç”¨Volumeï¼Œå¦åˆ™é‡å¯åæ•°æ®å…¨éƒ¨ä¸¢å¤±ï¼

#### ğŸ”„ å®¹å™¨é—´æ•°æ®å…±äº«


```bash
# åˆ›å»ºå…±äº«Volume
podman volume create shared-logs

# åº”ç”¨å®¹å™¨å†™å…¥æ—¥å¿—
podman run -d \
  --name app \
  -v shared-logs:/app/logs \
  my-app:latest

# æ—¥å¿—åˆ†æå®¹å™¨è¯»å–æ—¥å¿—
podman run -d \
  --name log-analyzer \
  -v shared-logs:/logs \
  log-analyzer:latest
```

### 2.4 Volumeç®¡ç†æœ€ä½³å®è·µ


**ğŸ“‹ ç®¡ç†æ¸…å•**ï¼š
- [x] ç»™Volumeèµ·æœ‰æ„ä¹‰çš„åå­—
- [x] å®šæœŸå¤‡ä»½é‡è¦Volume
- [x] æ¸…ç†ä¸ç”¨çš„Volumeé‡Šæ”¾ç©ºé—´
- [x] ç›‘æ§Volumeçš„ç£ç›˜ä½¿ç”¨æƒ…å†µ

```bash
# åˆ é™¤ä¸å†ä½¿ç”¨çš„Volume
podman volume rm web-data

# æ¸…ç†æ‰€æœ‰æœªä½¿ç”¨çš„Volume
podman volume prune

# å¼ºåˆ¶åˆ é™¤ï¼ˆæ…ç”¨ï¼‰
podman volume rm -f web-data
```

---

## 3. ğŸ“ Bind Mountç»‘å®šæŒ‚è½½


### 3.1 Bind Mountæ˜¯ä»€ä¹ˆ


> **ğŸ’¡ æ ¸å¿ƒç†è§£**  
> Bind Mountå°±åƒ"å¼€äº†ä¸€æ‰‡çª—"ï¼Œè®©å®¹å™¨ç›´æ¥çœ‹åˆ°å®¿ä¸»æœºçš„æŸä¸ªæ–‡ä»¶å¤¹ã€‚å®¹å™¨é‡Œçš„æ“ä½œä¼šç›´æ¥å½±å“å®¿ä¸»æœºçš„æ–‡ä»¶ï¼Œå®¿ä¸»æœºçš„ä¿®æ”¹ä¹Ÿä¼šç«‹å³åœ¨å®¹å™¨é‡Œçœ‹åˆ°ã€‚

**Bind Mountä¸Volumeçš„åŒºåˆ«**ï¼š

```
Volumeæ–¹å¼ï¼š
å®¿ä¸»æœº â†’ [Podmanç®¡ç†] â†’ Volume â†’ å®¹å™¨
ä½ ä¸çŸ¥é“å…·ä½“ä½ç½®ï¼Œä½†Podmanå¸®ä½ ç®¡ç†

Bind Mountæ–¹å¼ï¼š
å®¿ä¸»æœºç›®å½• â†â†’ å®¹å™¨ç›®å½•
ç›´æ¥è¿é€šï¼Œä½ç½®ç”±ä½ æŒ‡å®š
```

### 3.2 Bind MountåŸºæœ¬ç”¨æ³•


#### ğŸ“‚ åŸºç¡€æŒ‚è½½è¯­æ³•


```bash
# åŸºæœ¬è¯­æ³•
podman run -v å®¿ä¸»æœºè·¯å¾„:å®¹å™¨è·¯å¾„ é•œåƒå

# å®é™…ä¾‹å­ï¼šæŒ‚è½½å½“å‰ç›®å½•åˆ°å®¹å™¨çš„/workspace
podman run -it \
  -v $(pwd):/workspace \
  ubuntu:20.04 \
  /bin/bash
```

**è·¯å¾„ç±»å‹è¯´æ˜**ï¼š
```
ç»å¯¹è·¯å¾„ï¼š/home/user/project â†’ æ˜ç¡®æŒ‡å®šä½ç½®
ç›¸å¯¹è·¯å¾„ï¼š$(pwd) â†’ å½“å‰ç›®å½•
~è·¯å¾„ï¼š~/Documents â†’ ç”¨æˆ·ä¸»ç›®å½•ä¸‹çš„Documents
```

#### ğŸ”’ åªè¯»æŒ‚è½½


```bash
# åªè¯»æŒ‚è½½ï¼Œå®¹å™¨ä¸èƒ½ä¿®æ”¹å®¿ä¸»æœºæ–‡ä»¶
podman run -d \
  --name web \
  -v /host/config:/etc/nginx:ro \
  nginx:latest
```

> **âš ï¸ å®‰å…¨æé†’**ï¼šç”Ÿäº§ç¯å¢ƒä¸­ï¼Œé…ç½®æ–‡ä»¶å»ºè®®ä½¿ç”¨åªè¯»æŒ‚è½½ï¼Œé˜²æ­¢å®¹å™¨æ„å¤–ä¿®æ”¹ã€‚

### 3.3 å¼€å‘ç¯å¢ƒçš„å…¸å‹åº”ç”¨


#### ğŸ’» ä»£ç å®æ—¶ç¼–è¾‘


```bash
# å¼€å‘Webåº”ç”¨ï¼Œä»£ç å®æ—¶åŒæ­¥
podman run -d \
  --name dev-server \
  -p 8080:80 \
  -v $(pwd)/src:/var/www/html \
  httpd:2.4
```

**å¼€å‘æµç¨‹**ï¼š
```
1. åœ¨å®¿ä¸»æœºç¼–è¾‘ä»£ç 
2. ä¿å­˜æ–‡ä»¶
3. å®¹å™¨å†…ç«‹å³çœ‹åˆ°å˜åŒ–  
4. æµè§ˆå™¨åˆ·æ–°çœ‹åˆ°æ•ˆæœ
```

#### ğŸ“ æ—¥å¿—æ–‡ä»¶è®¿é—®


```bash
# åº”ç”¨æ—¥å¿—ç›´æ¥å†™åˆ°å®¿ä¸»æœº
podman run -d \
  --name app \
  -v /var/log/myapp:/app/logs \
  my-application:latest

# å¯ä»¥ç›´æ¥åœ¨å®¿ä¸»æœºæŸ¥çœ‹æ—¥å¿—
tail -f /var/log/myapp/app.log
```

### 3.4 Bind Mountæ³¨æ„äº‹é¡¹


> **âš ï¸ å¸¸è§è¯¯åŒº**  
> å¾ˆå¤šäººä»¥ä¸ºBind Mountåªæ˜¯"å¤åˆ¶æ–‡ä»¶"ï¼Œå®é™…ä¸Šæ˜¯"ç›´æ¥å…±äº«"ã€‚å®¹å™¨åˆ é™¤æ–‡ä»¶ï¼Œå®¿ä¸»æœºçš„æ–‡ä»¶ä¹Ÿä¼šè¢«åˆ é™¤ï¼

**æƒé™é—®é¢˜è§£å†³**ï¼š
```bash
# å¦‚æœé‡åˆ°æƒé™é—®é¢˜ï¼Œæ£€æŸ¥æ–‡ä»¶æ‰€æœ‰è€…
ls -la /host/path

# ä¿®æ”¹æ–‡ä»¶æ‰€æœ‰è€…ï¼ˆå¦‚æœéœ€è¦ï¼‰
sudo chown -R $USER:$USER /host/path

# æˆ–è€…ä»¥ç‰¹å®šç”¨æˆ·è¿è¡Œå®¹å™¨
podman run --user $(id -u):$(id -g) -v $(pwd):/workspace ubuntu
```

---

## 4. ğŸ’¾ tmpfsä¸´æ—¶æ–‡ä»¶ç³»ç»Ÿ


### 4.1 tmpfsæ˜¯ä»€ä¹ˆ


> **ğŸ’¡ æ ¸å¿ƒç†è§£**  
> tmpfså°±åƒç”µè„‘çš„å†…å­˜æ¡ï¼Œæ•°æ®å­˜å‚¨åœ¨RAMä¸­ã€‚ç‰¹ç‚¹æ˜¯é€Ÿåº¦æå¿«ï¼Œä½†æ–­ç”µå°±ä¸¢å¤±ã€‚é€‚åˆå­˜å‚¨ä¸´æ—¶æ•°æ®ã€ç¼“å­˜ç­‰ä¸éœ€è¦æŒä¹…åŒ–çš„å†…å®¹ã€‚

**tmpfsç‰¹æ€§å¯¹æ¯”**ï¼š

| ç‰¹æ€§ | **tmpfs** | **æ™®é€šç£ç›˜** |
|------|-----------|-------------|
| ğŸ’¨ **é€Ÿåº¦** | `æå¿«ï¼ˆå†…å­˜é€Ÿåº¦ï¼‰` | `è¾ƒæ…¢ï¼ˆç£ç›˜I/Oï¼‰` |
| ğŸ”„ **æŒä¹…åŒ–** | `é‡å¯ä¸¢å¤±` | `æ°¸ä¹…ä¿å­˜` |
| ğŸ“ **å®¹é‡** | `å—å†…å­˜é™åˆ¶` | `å—ç£ç›˜é™åˆ¶` |
| ğŸ¯ **ç”¨é€”** | `ä¸´æ—¶æ•°æ®ã€ç¼“å­˜` | `æŒä¹…åŒ–å­˜å‚¨` |

### 4.2 tmpfsåŸºæœ¬ä½¿ç”¨


#### âš¡ åˆ›å»ºtmpfsæŒ‚è½½


```bash
# ä¸ºå®¹å™¨åˆ›å»ºtmpfsæŒ‚è½½ç‚¹
podman run -d \
  --name cache-app \
  --tmpfs /tmp/cache:rw,size=1g \
  my-app:latest
```

**å‚æ•°è§£é‡Š**ï¼š
```
--tmpfs /tmp/cache:rw,size=1g
         â–²        â–²   â–²
         â”‚        â”‚   â””â”€â”€ é™åˆ¶å¤§å°ä¸º1GB
         â”‚        â””â”€â”€ è¯»å†™æƒé™
         â””â”€â”€ å®¹å™¨å†…æŒ‚è½½ç‚¹
```

#### ğŸ”§ å¤šä¸ªtmpfsæŒ‚è½½


```bash
podman run -d \
  --name high-performance-app \
  --tmpfs /tmp:rw,size=512m \
  --tmpfs /var/cache:rw,size=256m \
  --tmpfs /run:rw,size=128m \
  performance-app:latest
```

### 4.3 tmpfsåº”ç”¨åœºæ™¯


#### ğŸš€ é«˜æ€§èƒ½ç¼“å­˜


```bash
# Rediså®¹å™¨ä½¿ç”¨tmpfsä½œä¸ºæ•°æ®å­˜å‚¨ï¼ˆä»…ç”¨äºç¼“å­˜åœºæ™¯ï¼‰
podman run -d \
  --name redis-cache \
  --tmpfs /data:rw,size=2g \
  redis:alpine \
  redis-server --save ""
```

> **ğŸ’¡ ä½¿ç”¨æé†’**ï¼šè¿™ç§é…ç½®ä¸‹Redisåªèƒ½ä½œä¸ºç¼“å­˜ä½¿ç”¨ï¼Œé‡å¯åæ•°æ®ä¼šä¸¢å¤±ã€‚

#### ğŸ“Š ä¸´æ—¶æ–‡ä»¶å¤„ç†


```bash
# å›¾ç‰‡å¤„ç†åº”ç”¨ï¼Œä¸´æ—¶æ–‡ä»¶å­˜å‚¨åœ¨å†…å­˜
podman run -d \
  --name image-processor \
  --tmpfs /tmp/processing:rw,size=4g \
  -v $(pwd)/input:/input:ro \
  -v $(pwd)/output:/output \
  image-processor:latest
```

**å¤„ç†æµç¨‹**ï¼š
```
è¾“å…¥å›¾ç‰‡ â†’ tmpfsä¸´æ—¶å¤„ç† â†’ è¾“å‡ºç»“æœ
  â–²           â–²              â–²
ç£ç›˜å­˜å‚¨    å†…å­˜å¤„ç†         ç£ç›˜å­˜å‚¨
(æŒä¹…)      (æå¿«)          (æŒä¹…)
```

---

## 5. ğŸ”§ å®¹å™¨å­˜å‚¨é©±åŠ¨


### 5.1 å­˜å‚¨é©±åŠ¨æ¦‚è¿°


> **ğŸ’¡ æ ¸å¿ƒç†è§£**  
> å­˜å‚¨é©±åŠ¨å°±åƒå®¹å™¨çš„"æ–‡ä»¶ç³»ç»Ÿå¼•æ“"ï¼Œè´Ÿè´£ç®¡ç†å®¹å™¨é•œåƒçš„å±‚å’Œå®¹å™¨çš„å¯å†™å±‚ã€‚ä¸åŒçš„é©±åŠ¨æœ‰ä¸åŒçš„æ€§èƒ½ç‰¹ç‚¹å’Œé€‚ç”¨åœºæ™¯ã€‚

**Podmanæ”¯æŒçš„å­˜å‚¨é©±åŠ¨**ï¼š

| é©±åŠ¨åç§° | **ç‰¹ç‚¹** | **æ€§èƒ½** | **é€‚ç”¨åœºæ™¯** |
|---------|----------|----------|-------------|
| ğŸ„ **overlay** | `åˆ†å±‚æ–‡ä»¶ç³»ç»Ÿï¼Œç°ä»£Linuxé»˜è®¤` | `é«˜` | `é€šç”¨ï¼Œæ¨èä½¿ç”¨` |
| ğŸ“¦ **vfs** | `ç®€å•ä½†æ€§èƒ½è¾ƒä½` | `ä½` | `æµ‹è¯•ç¯å¢ƒ` |
| ğŸ”„ **devicemapper** | `å—è®¾å¤‡çº§åˆ«çš„å­˜å‚¨` | `ä¸­` | `ä¼ä¸šçº§å­˜å‚¨` |

### 5.2 æŸ¥çœ‹å’Œé…ç½®å­˜å‚¨é©±åŠ¨


#### ğŸ” æŸ¥çœ‹å½“å‰å­˜å‚¨é…ç½®


```bash
# æŸ¥çœ‹Podmanå­˜å‚¨ä¿¡æ¯
podman system info | grep -A 10 "storage"

# æŸ¥çœ‹å­˜å‚¨é©±åŠ¨
podman info --format "{{.Store.GraphDriverName}}"
```

**å…¸å‹è¾“å‡ºè§£é‡Š**ï¼š
```
Storage Driver: overlay
â”œâ”€â”€ æ”¯æŒçš„åŠŸèƒ½ï¼šåˆ†å±‚å­˜å‚¨ã€å†™æ—¶å¤åˆ¶
â”œâ”€â”€ æ ¹ç›®å½•ï¼š/var/lib/containers/storage  
â””â”€â”€ è¿è¡Œç›®å½•ï¼š/run/user/1000/containers
```

#### âš™ï¸ å­˜å‚¨é…ç½®æ–‡ä»¶


```bash
# æŸ¥çœ‹å­˜å‚¨é…ç½®ï¼ˆç³»ç»Ÿçº§åˆ«ï¼‰
cat /etc/containers/storage.conf

# ç”¨æˆ·çº§åˆ«é…ç½®
cat ~/.config/containers/storage.conf
```

### 5.3 å­˜å‚¨ç©ºé—´ç®¡ç†


#### ğŸ§¹ æ¸…ç†å­˜å‚¨ç©ºé—´


```bash
# æŸ¥çœ‹å­˜å‚¨ç©ºé—´ä½¿ç”¨æƒ…å†µ
podman system df

# æ¸…ç†æœªä½¿ç”¨çš„æ•°æ®
podman system prune

# æ¸…ç†æ‰€æœ‰æ•°æ®ï¼ˆåŒ…æ‹¬åœæ­¢çš„å®¹å™¨ï¼‰
podman system prune -a

# æ¸…ç†ç‰¹å®šç±»å‹
podman image prune    # æ¸…ç†æœªä½¿ç”¨é•œåƒ
podman volume prune   # æ¸…ç†æœªä½¿ç”¨å·
```

**å­˜å‚¨ç©ºé—´ç›‘æ§**ï¼š
```bash
# ç›‘æ§è„šæœ¬ç¤ºä¾‹
#!/bin/bash
echo "=== Podmanå­˜å‚¨ä½¿ç”¨æƒ…å†µ ==="
podman system df -v

echo -e "\n=== å®¿ä¸»æœºç£ç›˜ä½¿ç”¨æƒ…å†µ ==="
df -h /var/lib/containers
```

---

## 6. ğŸ’¾ æ•°æ®æŒä¹…åŒ–ç­–ç•¥


### 6.1 æŒä¹…åŒ–ç­–ç•¥é€‰æ‹©


> **ğŸ’¡ æ ¸å¿ƒç†è§£**  
> æ•°æ®æŒä¹…åŒ–å°±åƒç»™æ•°æ®ä¹°ä¿é™©ï¼Œä¸åŒçš„æ•°æ®éœ€è¦ä¸åŒçº§åˆ«çš„ä¿é™©ã€‚æ ¸å¿ƒæ•°æ®è¦ç”¨æœ€å®‰å…¨çš„æ–¹å¼ï¼Œä¸´æ—¶æ•°æ®å¯ä»¥ç”¨ç®€å•çš„æ–¹å¼ã€‚

**æ•°æ®åˆ†ç±»ä¸å­˜å‚¨ç­–ç•¥**ï¼š

```
æ•°æ®é‡è¦æ€§åˆ†æï¼š
â”œâ”€â”€ ğŸ”´ æ ¸å¿ƒæ•°æ®ï¼ˆæ•°æ®åº“ã€ç”¨æˆ·æ–‡ä»¶ï¼‰
â”‚   â””â”€â”€ ç­–ç•¥ï¼šVolume + å®šæœŸå¤‡ä»½
â”œâ”€â”€ ğŸŸ¡ é…ç½®æ•°æ®ï¼ˆåº”ç”¨é…ç½®ã€è¯ä¹¦ï¼‰
â”‚   â””â”€â”€ ç­–ç•¥ï¼šVolume æˆ– Bind Mount
â”œâ”€â”€ ğŸŸ¢ æ—¥å¿—æ•°æ®ï¼ˆè®¿é—®æ—¥å¿—ã€è°ƒè¯•æ—¥å¿—ï¼‰
â”‚   â””â”€â”€ ç­–ç•¥ï¼šBind Mount
â””â”€â”€ âš« ä¸´æ—¶æ•°æ®ï¼ˆç¼“å­˜ã€ä¸´æ—¶æ–‡ä»¶ï¼‰
    â””â”€â”€ ç­–ç•¥ï¼štmpfs æˆ– å®¹å™¨å­˜å‚¨
```

### 6.2 æ•°æ®åº“æŒä¹…åŒ–æœ€ä½³å®è·µ


#### ğŸ—„ï¸ MySQLæŒä¹…åŒ–æ–¹æ¡ˆ


```bash
# åˆ›å»ºä¸“ç”¨ç½‘ç»œ
podman network create mysql-net

# åˆ›å»ºæ•°æ®å·
podman volume create mysql-data
podman volume create mysql-config

# è¿è¡ŒMySQLå®¹å™¨
podman run -d \
  --name mysql-server \
  --network mysql-net \
  -e MYSQL_ROOT_PASSWORD=SecurePass123! \
  -e MYSQL_DATABASE=myapp \
  -e MYSQL_USER=appuser \
  -e MYSQL_PASSWORD=AppPass456! \
  -v mysql-data:/var/lib/mysql \
  -v mysql-config:/etc/mysql/conf.d \
  mysql:8.0
```

**æ•°æ®å®‰å…¨æ£€æŸ¥æ¸…å•**ï¼š
- [x] æ•°æ®å­˜å‚¨åœ¨Volumeä¸­
- [x] é…ç½®æ–‡ä»¶ä¹ŸæŒä¹…åŒ–
- [x] ä½¿ç”¨å¼ºå¯†ç 
- [x] ç½‘ç»œéš”ç¦»
- [x] å®šæœŸå¤‡ä»½è®¡åˆ’

#### ğŸ“Š åº”ç”¨æ•°æ®åˆ†ç¦»ç­–ç•¥


```bash
# Webåº”ç”¨çš„å®Œæ•´æŒä¹…åŒ–æ–¹æ¡ˆ
podman run -d \
  --name web-app \
  -p 8080:80 \
  -v web-data:/var/www/html \           # ç½‘ç«™æ–‡ä»¶
  -v web-logs:/var/log/apache2 \        # è®¿é—®æ—¥å¿—  
  -v web-config:/etc/apache2/sites-enabled:ro \ # é…ç½®æ–‡ä»¶
  --tmpfs /tmp:rw,size=1g \             # ä¸´æ—¶æ–‡ä»¶
  httpd:2.4
```

### 6.3 é…ç½®æ–‡ä»¶ç®¡ç†ç­–ç•¥


#### ğŸ“ é…ç½®æ–‡ä»¶çš„ä¸‰ç§ç®¡ç†æ–¹å¼


**æ–¹å¼1ï¼šVolumeç®¡ç†ï¼ˆæ¨èï¼‰**
```bash
# åˆ›å»ºé…ç½®Volume
podman volume create nginx-config

# åˆå§‹åŒ–é…ç½®æ–‡ä»¶
podman run --rm \
  -v nginx-config:/dest \
  nginx:alpine \
  sh -c "cp -r /etc/nginx/* /dest/"

# ä½¿ç”¨é…ç½®
podman run -d \
  --name web \
  -v nginx-config:/etc/nginx \
  nginx:alpine
```

**æ–¹å¼2ï¼šBind Mountç®¡ç†**
```bash
# ç›´æ¥æŒ‚è½½é…ç½®ç›®å½•
mkdir -p ~/docker-configs/nginx
podman run -d \
  --name web \
  -v ~/docker-configs/nginx:/etc/nginx:ro \
  nginx:alpine
```

**æ–¹å¼3ï¼šConfigMapé£æ ¼ï¼ˆæ–‡ä»¶æ³¨å…¥ï¼‰**
```bash
# åˆ›å»ºé…ç½®æ–‡ä»¶
cat > custom.conf << EOF
server {
    listen 80;
    server_name myapp.local;
    location / {
        proxy_pass http://app:3000;
    }
}
EOF

# å•æ–‡ä»¶æŒ‚è½½
podman run -d \
  --name web \
  -v $(pwd)/custom.conf:/etc/nginx/conf.d/default.conf:ro \
  nginx:alpine
```

---

## 7. ğŸ’¾ å·å¤‡ä»½ä¸æ¢å¤


### 7.1 ä¸ºä»€ä¹ˆéœ€è¦å¤‡ä»½


> **ğŸ’¡ æ ¸å¿ƒç†è§£**  
> Volumeå¤‡ä»½å°±åƒç»™é‡è¦æ–‡ä»¶åšå‰¯æœ¬ï¼Œé˜²æ­¢æ•°æ®ä¸¢å¤±ã€‚å³ä½¿æœåŠ¡å™¨åäº†ï¼Œä¹Ÿèƒ½åœ¨æ–°æœåŠ¡å™¨ä¸Šæ¢å¤æ‰€æœ‰æ•°æ®ï¼Œè®©åº”ç”¨å¿«é€Ÿå›åˆ°åŸæ¥çš„çŠ¶æ€ã€‚

**å¤‡ä»½çš„é‡è¦æ€§**ï¼š
```
é£é™©åœºæ™¯ï¼š
â”œâ”€â”€ ç¡¬ä»¶æ•…éšœï¼ˆç£ç›˜æŸåï¼‰
â”œâ”€â”€ äººä¸ºè¯¯æ“ä½œï¼ˆåˆ é™¤å®¹å™¨æ—¶è¯¯åˆ Volumeï¼‰
â”œâ”€â”€ ç³»ç»Ÿå´©æºƒï¼ˆæœåŠ¡å™¨å®•æœºï¼‰
â””â”€â”€ å®‰å…¨äº‹ä»¶ï¼ˆå‹’ç´¢ç—…æ¯’ã€æ•°æ®ç ´åï¼‰

å¤‡ä»½ä»·å€¼ï¼š
â”œâ”€â”€ æ•°æ®æ¢å¤ï¼ˆå¿«é€Ÿæ¢å¤ä¸šåŠ¡ï¼‰
â”œâ”€â”€ å†å²ç‰ˆæœ¬ï¼ˆå›æ»šåˆ°ä¹‹å‰çŠ¶æ€ï¼‰  
â”œâ”€â”€ è¿ç§»éƒ¨ç½²ï¼ˆæ¬åˆ°æ–°æœåŠ¡å™¨ï¼‰
â””â”€â”€ å¼€å‘æµ‹è¯•ï¼ˆå¤åˆ¶ç”Ÿäº§æ•°æ®åˆ°æµ‹è¯•ç¯å¢ƒï¼‰
```

### 7.2 Volumeå¤‡ä»½æ–¹æ³•


#### ğŸ“¦ æ–¹æ³•1ï¼štarå½’æ¡£å¤‡ä»½


```bash
# å¤‡ä»½Volumeæ•°æ®
podman run --rm \
  -v mysql-data:/data \
  -v $(pwd):/backup \
  alpine:latest \
  tar czf /backup/mysql-backup-$(date +%Y%m%d_%H%M%S).tar.gz -C /data .
```

**å¤‡ä»½è„šæœ¬è‡ªåŠ¨åŒ–**ï¼š
```bash
#!/bin/bash
# backup-volume.sh
VOLUME_NAME=$1
BACKUP_DIR="/backups"
DATE=$(date +%Y%m%d_%H%M%S)

if [ -z "$VOLUME_NAME" ]; then
    echo "ç”¨æ³•: $0 <volume-name>"
    exit 1
fi

echo "å¼€å§‹å¤‡ä»½Volume: $VOLUME_NAME"
podman run --rm \
  -v $VOLUME_NAME:/data \
  -v $BACKUP_DIR:/backup \
  alpine:latest \
  tar czf /backup/${VOLUME_NAME}-${DATE}.tar.gz -C /data .

echo "å¤‡ä»½å®Œæˆ: $BACKUP_DIR/${VOLUME_NAME}-${DATE}.tar.gz"
```

#### ğŸ”„ æ–¹æ³•2ï¼šæ•°æ®åº“ä¸“ç”¨å¤‡ä»½


```bash
# MySQLæ•°æ®åº“é€»è¾‘å¤‡ä»½
podman exec mysql-server \
  mysqldump -u root -p myapp > ~/backups/myapp-$(date +%Y%m%d).sql

# PostgreSQLæ•°æ®åº“å¤‡ä»½
podman exec postgres-server \
  pg_dump -U postgres myapp > ~/backups/myapp-$(date +%Y%m%d).sql
```

### 7.3 Volumeæ¢å¤æ–¹æ³•


#### ğŸ“¥ ä»å½’æ¡£æ–‡ä»¶æ¢å¤


```bash
# åˆ›å»ºæ–°Volume
podman volume create mysql-data-restored

# æ¢å¤æ•°æ®
podman run --rm \
  -v mysql-data-restored:/data \
  -v $(pwd):/backup \
  alpine:latest \
  tar xzf /backup/mysql-backup-20250918_153000.tar.gz -C /data
```

#### ğŸ”„ æ•°æ®åº“æ¢å¤


```bash
# MySQLæ¢å¤
podman exec -i mysql-server \
  mysql -u root -p myapp < ~/backups/myapp-20250918.sql

# PostgreSQLæ¢å¤  
podman exec -i postgres-server \
  psql -U postgres myapp < ~/backups/myapp-20250918.sql
```

### 7.4 å¤‡ä»½ç­–ç•¥ä¸è‡ªåŠ¨åŒ–


#### â° è‡ªåŠ¨å¤‡ä»½ç­–ç•¥


```bash
# æ¯æ—¥å¤‡ä»½è„šæœ¬
cat > daily-backup.sh << 'EOF'
#!/bin/bash
BACKUP_ROOT="/data/backups"
DATE=$(date +%Y%m%d)
RETENTION_DAYS=7

# åˆ›å»ºæ—¥æœŸç›®å½•
mkdir -p $BACKUP_ROOT/$DATE

# å¤‡ä»½å…³é”®Volume
for volume in mysql-data web-data config-data; do
    echo "å¤‡ä»½ $volume..."
    podman run --rm \
        -v $volume:/data \
        -v $BACKUP_ROOT/$DATE:/backup \
        alpine:latest \
        tar czf /backup/$volume.tar.gz -C /data .
done

# æ¸…ç†è¿‡æœŸå¤‡ä»½
find $BACKUP_ROOT -type d -mtime +$RETENTION_DAYS -exec rm -rf {} +
echo "å¤‡ä»½å®Œæˆ: $BACKUP_ROOT/$DATE"
EOF

chmod +x daily-backup.sh
```

**å®šæ—¶ä»»åŠ¡è®¾ç½®**ï¼š
```bash
# æ·»åŠ åˆ°crontabï¼ˆæ¯å¤©å‡Œæ™¨2ç‚¹å¤‡ä»½ï¼‰
echo "0 2 * * * /path/to/daily-backup.sh" | crontab -
```

---

## 8. âš¡ å­˜å‚¨æ€§èƒ½ä¼˜åŒ–


### 8.1 æ€§èƒ½ä¼˜åŒ–åŸç†


> **ğŸ’¡ æ ¸å¿ƒç†è§£**  
> å­˜å‚¨æ€§èƒ½ä¼˜åŒ–å°±åƒä¼˜åŒ–äº¤é€šæµé‡ï¼Œè¦æ‰¾å‡ºç“¶é¢ˆåœ¨å“ªé‡Œï¼Œç„¶åé’ˆå¯¹æ€§åœ°è§£å†³ã€‚å¯èƒ½æ˜¯ç£ç›˜å¤ªæ…¢ã€å†…å­˜ä¸å¤Ÿã€æˆ–è€…é…ç½®ä¸å½“ã€‚

**æ€§èƒ½ç“¶é¢ˆåˆ†æ**ï¼š
```
å¸¸è§æ€§èƒ½é—®é¢˜ï¼š
â”œâ”€â”€ ğŸŒ ç£ç›˜I/Oç“¶é¢ˆ
â”‚   â”œâ”€â”€ æœºæ¢°ç¡¬ç›˜vså›ºæ€ç¡¬ç›˜
â”‚   â”œâ”€â”€ ç£ç›˜ç¢ç‰‡åŒ–
â”‚   â””â”€â”€ è¿‡å¤šéšæœºè¯»å†™
â”œâ”€â”€ ğŸ§  å†…å­˜ä¸è¶³
â”‚   â”œâ”€â”€ ç¼“å­˜å‘½ä¸­ç‡ä½
â”‚   â”œâ”€â”€ é¢‘ç¹swapäº¤æ¢
â”‚   â””â”€â”€ å†…å­˜æ³„æ¼
â”œâ”€â”€ âš™ï¸ é…ç½®é—®é¢˜
â”‚   â”œâ”€â”€ å­˜å‚¨é©±åŠ¨é€‰æ‹©ä¸å½“
â”‚   â”œâ”€â”€ æ–‡ä»¶ç³»ç»Ÿå‚æ•°
â”‚   â””â”€â”€ å®¹å™¨èµ„æºé™åˆ¶
â””â”€â”€ ğŸ—ï¸ æ¶æ„é—®é¢˜
    â”œâ”€â”€ æ•°æ®è®¿é—®æ¨¡å¼
    â”œâ”€â”€ å¹¶å‘æ§åˆ¶
    â””â”€â”€ ç¼“å­˜ç­–ç•¥
```

### 8.2 å­˜å‚¨é©±åŠ¨ä¼˜åŒ–


#### ğŸ“Š é©±åŠ¨æ€§èƒ½å¯¹æ¯”æµ‹è¯•


```bash
# æµ‹è¯•å½“å‰å­˜å‚¨æ€§èƒ½
podman run --rm \
  -v test-volume:/data \
  alpine:latest \
  sh -c '
    echo "å¼€å§‹æ€§èƒ½æµ‹è¯•..."
    # å†™å…¥æµ‹è¯•
    time dd if=/dev/zero of=/data/testfile bs=1M count=100
    # è¯»å–æµ‹è¯•  
    time dd if=/data/testfile of=/dev/null bs=1M
    rm /data/testfile
  '
```

#### âš™ï¸ overlayå­˜å‚¨ä¼˜åŒ–


```bash
# æŸ¥çœ‹overlayé…ç½®
podman info | grep -A 5 "GraphOptions"

# ä¼˜åŒ–overlayæŒ‚è½½é€‰é¡¹ï¼ˆåœ¨storage.confä¸­ï¼‰
[storage.options]
mount_program = "/usr/bin/fuse-overlayfs"
mountopt = "nodev,metacopy=on"
```

### 8.3 Volumeæ€§èƒ½ä¼˜åŒ–


#### ğŸš€ é«˜æ€§èƒ½Volumeé…ç½®


```bash
# åˆ›å»ºVolumeæ—¶æŒ‡å®šæ€§èƒ½é€‰é¡¹
podman volume create \
  --opt type=tmpfs \
  --opt device=tmpfs \
  --opt o=size=2g,uid=1000,gid=1000 \
  high-performance-cache

# ä½¿ç”¨é«˜æ€§èƒ½Volume
podman run -d \
  --name fast-app \
  -v high-performance-cache:/app/cache \
  my-app:latest
```

#### ğŸ“ˆ æ•°æ®åº“æ€§èƒ½è°ƒä¼˜


```bash
# MySQLæ€§èƒ½ä¼˜åŒ–é…ç½®
cat > mysql-performance.cnf << 'EOF'
[mysqld]
# InnoDBç¼“å†²æ± å¤§å°ï¼ˆç³»ç»Ÿå†…å­˜çš„70-80%ï¼‰
innodb_buffer_pool_size = 2G
# æ—¥å¿—æ–‡ä»¶å¤§å°
innodb_log_file_size = 256M
# å¹¶å‘çº¿ç¨‹æ•°
innodb_thread_concurrency = 8
# åˆ·æ–°æ–¹æ³•
innodb_flush_method = O_DIRECT
EOF

# ä½¿ç”¨æ€§èƒ½é…ç½®è¿è¡ŒMySQL
podman run -d \
  --name mysql-optimized \
  -v mysql-data:/var/lib/mysql \
  -v $(pwd)/mysql-performance.cnf:/etc/mysql/conf.d/performance.cnf:ro \
  mysql:8.0
```

### 8.4 ç›‘æ§å’Œè°ƒä¼˜å·¥å…·


#### ğŸ“Š æ€§èƒ½ç›‘æ§


```bash
# Volumeä½¿ç”¨æƒ…å†µç›‘æ§
watch -n 5 'podman system df -v'

# å®¹å™¨å­˜å‚¨I/Oç›‘æ§
podman stats --format "table {{.Container}}\t{{.BlockIO}}\t{{.MemUsage}}"

# ç³»ç»Ÿçº§åˆ«å­˜å‚¨ç›‘æ§
iostat -x 1    # éœ€è¦å®‰è£…sysstatåŒ…
```

**æ€§èƒ½ç›‘æ§è„šæœ¬**ï¼š
```bash
#!/bin/bash
# storage-monitor.sh
echo "=== Podmanå­˜å‚¨æ€§èƒ½ç›‘æ§ ==="
echo "æ—¶é—´: $(date)"
echo

echo "=== å®¹å™¨å­˜å‚¨ä½¿ç”¨ ==="
podman system df

echo -e "\n=== Volumeè¯¦æƒ… ==="
podman volume ls --format "table {{.Name}}\t{{.Driver}}\t{{.Mountpoint}}"

echo -e "\n=== ç³»ç»Ÿç£ç›˜I/O ==="
iostat -x 1 1 | grep -A 10 "Device"
```

---

## 9. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 9.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ ä¸‰ç§å­˜å‚¨æ–¹å¼ï¼šVolumeï¼ˆPodmanç®¡ç†ï¼‰ã€Bind Mountï¼ˆç›´æ¥æŒ‚è½½ï¼‰ã€tmpfsï¼ˆå†…å­˜å­˜å‚¨ï¼‰
ğŸ”¸ æ•°æ®æŒä¹…åŒ–ï¼šå®¹å™¨åˆ é™¤åæ•°æ®ä¾ç„¶ä¿ç•™ï¼Œé¿å…æ•°æ®ä¸¢å¤±
ğŸ”¸ Volumeç®¡ç†ï¼šåˆ›å»ºã€ä½¿ç”¨ã€åˆ é™¤ã€å¤‡ä»½Volumeçš„å®Œæ•´æµç¨‹
ğŸ”¸ å­˜å‚¨ç­–ç•¥ï¼šæ ¹æ®æ•°æ®é‡è¦æ€§é€‰æ‹©åˆé€‚çš„å­˜å‚¨æ–¹å¼
ğŸ”¸ æ€§èƒ½ä¼˜åŒ–ï¼šç›‘æ§å­˜å‚¨æ€§èƒ½ï¼Œé’ˆå¯¹ç“¶é¢ˆè¿›è¡Œä¼˜åŒ–
```

### 9.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ å­˜å‚¨æ–¹å¼é€‰æ‹©åŸåˆ™**
```
Volumeé€‚ç”¨ï¼š
â€¢ æ•°æ®åº“å­˜å‚¨ï¼ˆMySQLã€PostgreSQLï¼‰
â€¢ åº”ç”¨é…ç½®æ–‡ä»¶
â€¢ éœ€è¦å®¹å™¨é—´å…±äº«çš„æ•°æ®
â€¢ ç”Ÿäº§ç¯å¢ƒçš„å…³é”®æ•°æ®

Bind Mounté€‚ç”¨ï¼š
â€¢ å¼€å‘ç¯å¢ƒä»£ç åŒæ­¥
â€¢ æ—¥å¿—æ–‡ä»¶è®¿é—®
â€¢ é…ç½®æ–‡ä»¶å¿«é€Ÿä¿®æ”¹
â€¢ éœ€è¦ç›´æ¥è®¿é—®å®¿ä¸»æœºæ–‡ä»¶

tmpfsé€‚ç”¨ï¼š
â€¢ ç¼“å­˜æ•°æ®
â€¢ ä¸´æ—¶æ–‡ä»¶å¤„ç†
â€¢ é«˜æ€§èƒ½è¯»å†™éœ€æ±‚
â€¢ å®‰å…¨æ•æ„Ÿçš„ä¸´æ—¶æ•°æ®
```

**ğŸ”¹ æ•°æ®å®‰å…¨ä¿éšœ**
```
å¤‡ä»½ç­–ç•¥ï¼š
â€¢ å®šæœŸè‡ªåŠ¨å¤‡ä»½å…³é”®Volume
â€¢ æµ‹è¯•å¤‡ä»½æ¢å¤æµç¨‹
â€¢ å¤šåœ°ç‚¹å­˜å‚¨å¤‡ä»½æ–‡ä»¶
â€¢ ç›‘æ§å¤‡ä»½æˆåŠŸç‡

æƒé™æ§åˆ¶ï¼š
â€¢ åªè¯»æŒ‚è½½é…ç½®æ–‡ä»¶
â€¢ åˆé€‚çš„æ–‡ä»¶æƒé™è®¾ç½®
â€¢ ç”¨æˆ·æ˜ å°„é…ç½®
â€¢ ç½‘ç»œè®¿é—®æ§åˆ¶
```

### 9.3 å®é™…åº”ç”¨æŒ‡å¯¼


**ğŸ“š å­¦ä¹ è·¯å¾„å»ºè®®**ï¼š
```
å…¥é—¨é˜¶æ®µï¼š
1. ç†è§£ä¸‰ç§å­˜å‚¨æ–¹å¼çš„åŒºåˆ«
2. æŒæ¡Volumeçš„åŸºæœ¬æ“ä½œ
3. å­¦ä¼šBind Mountçš„ä½¿ç”¨

è¿›é˜¶é˜¶æ®µï¼š
1. è®¾è®¡æ•°æ®æŒä¹…åŒ–æ–¹æ¡ˆ
2. å®æ–½å¤‡ä»½æ¢å¤ç­–ç•¥
3. è¿›è¡Œæ€§èƒ½ä¼˜åŒ–è°ƒä¼˜

é«˜çº§é˜¶æ®µï¼š
1. å®¹å™¨é›†ç¾¤å­˜å‚¨ç®¡ç†
2. åˆ†å¸ƒå¼å­˜å‚¨æ–¹æ¡ˆ
3. å­˜å‚¨å®‰å…¨ç­–ç•¥
```

**ğŸ¯ æœ€ä½³å®è·µæ¸…å•**ï¼š
- [x] **è§„åˆ’å…ˆè¡Œ**ï¼šè¿è¡Œå®¹å™¨å‰å…ˆè§„åˆ’å­˜å‚¨éœ€æ±‚
- [x] **å‘½åè§„èŒƒ**ï¼šVolumeä½¿ç”¨æœ‰æ„ä¹‰çš„åç§°
- [x] **å®‰å…¨æ„è¯†**ï¼šç”Ÿäº§ç¯å¢ƒä½¿ç”¨åªè¯»æŒ‚è½½é…ç½®æ–‡ä»¶
- [x] **ç›‘æ§å‘Šè­¦**ï¼šè®¾ç½®å­˜å‚¨ç©ºé—´å’Œæ€§èƒ½ç›‘æ§
- [x] **å¤‡ä»½éªŒè¯**ï¼šå®šæœŸéªŒè¯å¤‡ä»½æ–‡ä»¶çš„å®Œæ•´æ€§
- [x] **æ–‡æ¡£è®°å½•**ï¼šè®°å½•å­˜å‚¨æ¶æ„å’Œæ¢å¤æ­¥éª¤

**æ ¸å¿ƒè®°å¿†å£è¯€**ï¼š
- Volumeç®¡ç†æ•°æ®å­˜ï¼ŒBind Mountå¼€å‘ç”¨
- tmpfsé€Ÿåº¦å¿«å¦‚é£ï¼Œå¤‡ä»½æ¢å¤ä¿å®‰å…¨
- æ€§èƒ½ç›‘æ§å¸¸å…³æ³¨ï¼Œå­˜å‚¨è§„åˆ’è¦å…ˆè¡Œ

### 9.4 å¸¸è§é—®é¢˜ä¸è§£å†³


> **ğŸ¤” å¸¸è§é—®é¢˜è§£ç­”**

**Q1ï¼šå®¹å™¨åˆ é™¤åVolumeä¼šä¸¢å¤±å—ï¼Ÿ**
Aï¼šä¸ä¼šã€‚Volumeç‹¬ç«‹äºå®¹å™¨å­˜åœ¨ï¼Œéœ€è¦æ‰‹åŠ¨åˆ é™¤ã€‚

**Q2ï¼šBind Mountçš„æƒé™é—®é¢˜å¦‚ä½•è§£å†³ï¼Ÿ**
Aï¼šä½¿ç”¨`--user $(id -u):$(id -g)`æˆ–è°ƒæ•´å®¿ä¸»æœºæ–‡ä»¶æƒé™ã€‚

**Q3ï¼šå¦‚ä½•é€‰æ‹©å­˜å‚¨é©±åŠ¨ï¼Ÿ**
Aï¼šç°ä»£Linuxç³»ç»Ÿæ¨èä½¿ç”¨overlayé©±åŠ¨ï¼Œæ€§èƒ½æœ€ä½³ã€‚

**Q4ï¼štmpfsçš„å¤§å°é™åˆ¶æ˜¯ä»€ä¹ˆï¼Ÿ**
Aï¼šé»˜è®¤é™åˆ¶ä¸ºç³»ç»Ÿå†…å­˜çš„50%ï¼Œå¯é€šè¿‡sizeå‚æ•°è°ƒæ•´ã€‚

**Q5ï¼šå¦‚ä½•è¿ç§»Volumeåˆ°å¦ä¸€å°æœåŠ¡å™¨ï¼Ÿ**
Aï¼šä½¿ç”¨tarå¤‡ä»½ï¼Œç„¶ååœ¨æ–°æœåŠ¡å™¨ä¸Šæ¢å¤åˆ°æ–°Volumeä¸­ã€‚