---
title: 5ã€Podmanå®¹å™¨ç”Ÿå‘½å‘¨æœŸç®¡ç†
---
## ğŸ“š ç›®å½•

1. [å®¹å™¨ç”Ÿå‘½å‘¨æœŸæ¦‚è¿°](#1-å®¹å™¨ç”Ÿå‘½å‘¨æœŸæ¦‚è¿°)
2. [å®¹å™¨åˆ›å»ºä¸å¯åŠ¨æµç¨‹](#2-å®¹å™¨åˆ›å»ºä¸å¯åŠ¨æµç¨‹)
3. [podman create å®¹å™¨åˆ›å»º](#3-podman-create-å®¹å™¨åˆ›å»º)
4. [å®¹å™¨çŠ¶æ€è½¬æ¢è¯¦è§£](#4-å®¹å™¨çŠ¶æ€è½¬æ¢è¯¦è§£)
5. [podman rm å®¹å™¨åˆ é™¤](#5-podman-rm-å®¹å™¨åˆ é™¤)
6. [podman commit ä¿å­˜å®¹å™¨ä¸ºé•œåƒ](#6-podman-commit-ä¿å­˜å®¹å™¨ä¸ºé•œåƒ)
7. [å®¹å™¨é‡å¯ç­–ç•¥](#7-å®¹å™¨é‡å¯ç­–ç•¥)
8. [å®¹å™¨èµ„æºæ¸…ç†](#8-å®¹å™¨èµ„æºæ¸…ç†)
9. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#9-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ”„ å®¹å™¨ç”Ÿå‘½å‘¨æœŸæ¦‚è¿°


### 1.1 ä»€ä¹ˆæ˜¯å®¹å™¨ç”Ÿå‘½å‘¨æœŸ


ğŸ¤” **ç®€å•ç†è§£**ï¼šå®¹å™¨ç”Ÿå‘½å‘¨æœŸå°±åƒä¸€ä¸ªåº”ç”¨ç¨‹åºçš„"ä¸€ç”Ÿ" - ä»åˆ›å»ºã€è¿è¡Œåˆ°æœ€ç»ˆé”€æ¯çš„æ•´ä¸ªè¿‡ç¨‹ã€‚

**å®¹å™¨çš„ä¸€ç”Ÿå¯ä»¥åˆ†ä¸ºå‡ ä¸ªå…³é”®é˜¶æ®µ**ï¼š
- **åˆ›å»ºé˜¶æ®µ**ï¼šå‡†å¤‡å®¹å™¨ä½†è¿˜æ²¡å¯åŠ¨
- **è¿è¡Œé˜¶æ®µ**ï¼šå®¹å™¨æ­£åœ¨å·¥ä½œ
- **æš‚åœé˜¶æ®µ**ï¼šä¸´æ—¶åœæ­¢ä½†ä¿ç•™çŠ¶æ€
- **åœæ­¢é˜¶æ®µ**ï¼šæ­£å¸¸ç»“æŸè¿è¡Œ
- **åˆ é™¤é˜¶æ®µ**ï¼šå½»åº•æ¸…ç†å®¹å™¨

### 1.2 å®¹å™¨çŠ¶æ€å›¾è§£


```
å®¹å™¨ç”Ÿå‘½å‘¨æœŸæµç¨‹å›¾ï¼š

   [é•œåƒ]
      â†“ podman create
   [Created] â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â†“ podman start           â”‚
   [Running] â†â†’ [Paused]       â”‚ podman rm
      â†“ podman stop            â”‚ (å¼ºåˆ¶åˆ é™¤)
   [Stopped] â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â†“ podman rm
   [Deleted]

çŠ¶æ€è¯´æ˜ï¼š
Created  = å·²åˆ›å»ºï¼Œæœªå¯åŠ¨
Running  = æ­£åœ¨è¿è¡Œ
Paused   = å·²æš‚åœ
Stopped  = å·²åœæ­¢
Deleted  = å·²åˆ é™¤
```

ğŸ’­ **ä¸ºä»€ä¹ˆè¦åˆ†è¿™ä¹ˆå¤šçŠ¶æ€**ï¼Ÿ
- **çµæ´»æ§åˆ¶**ï¼šå¯ä»¥åœ¨ä¸åŒé˜¶æ®µè¿›è¡Œä¸åŒæ“ä½œ
- **èµ„æºç®¡ç†**ï¼šåˆç†åˆ†é…å’Œé‡Šæ”¾ç³»ç»Ÿèµ„æº
- **æ•…éšœå¤„ç†**ï¼šå‡ºé—®é¢˜æ—¶èƒ½å‡†ç¡®å®šä½å®¹å™¨çŠ¶æ€

---

## 2. ğŸš€ å®¹å™¨åˆ›å»ºä¸å¯åŠ¨æµç¨‹


### 2.1 åˆ›å»ºå’Œå¯åŠ¨çš„åŒºåˆ«


ğŸ·ï¸ **ä¸“ä¸šæœ¯è¯­æ¾„æ¸…**ï¼š
- **åˆ›å»º(create)**ï¼šå‡†å¤‡å®¹å™¨ç¯å¢ƒï¼Œä½†ä¸å¯åŠ¨è¿›ç¨‹
- **å¯åŠ¨(start)**ï¼šçœŸæ­£è¿è¡Œå®¹å™¨å†…çš„ä¸»è¿›ç¨‹

**ç”Ÿæ´»ç±»æ¯”**ï¼š
```
åˆ›å»ºå®¹å™¨ = å‡†å¤‡å¥½æˆ¿é—´ï¼Œå®¶å…·éƒ½æ‘†å¥½ï¼Œä½†äººè¿˜æ²¡å…¥ä½
å¯åŠ¨å®¹å™¨ = äººæ­£å¼å…¥ä½ï¼Œå¼€å§‹åœ¨æˆ¿é—´é‡Œç”Ÿæ´»å’Œå·¥ä½œ
```

### 2.2 å®Œæ•´çš„åˆ›å»ºå¯åŠ¨æµç¨‹


**ç¬¬ä¸€æ­¥ï¼šé•œåƒå‡†å¤‡**
```bash
# ç¡®ä¿æœ¬åœ°æœ‰éœ€è¦çš„é•œåƒ
podman images
```

**ç¬¬äºŒæ­¥ï¼šåˆ›å»ºå®¹å™¨**
```bash
# åˆ›å»ºä¸€ä¸ªnginxå®¹å™¨ï¼ˆä½†ä¸å¯åŠ¨ï¼‰
podman create --name web-server nginx
```

**ç¬¬ä¸‰æ­¥ï¼šå¯åŠ¨å®¹å™¨**
```bash
# å¯åŠ¨åˆšæ‰åˆ›å»ºçš„å®¹å™¨
podman start web-server
```

**ä¸€æ­¥åˆ°ä½çš„æ–¹å¼**ï¼š
```bash
# ç›´æ¥åˆ›å»ºå¹¶å¯åŠ¨ï¼ˆç›¸å½“äºcreate + startï¼‰
podman run -d --name web-server nginx
```

### 2.3 åˆ›å»ºå¯åŠ¨è¿‡ç¨‹ä¸­å‘ç”Ÿäº†ä»€ä¹ˆ


ğŸ” **æ·±å…¥ç†è§£ - ç³»ç»Ÿå±‚é¢å‘ç”Ÿçš„äº‹æƒ…**ï¼š

**åˆ›å»ºé˜¶æ®µ**ï¼š
1. Podmanæ£€æŸ¥é•œåƒæ˜¯å¦å­˜åœ¨
2. åˆ›å»ºå®¹å™¨çš„é…ç½®æ–‡ä»¶
3. å‡†å¤‡å®¹å™¨çš„æ–‡ä»¶ç³»ç»Ÿå±‚
4. è®¾ç½®ç½‘ç»œå‘½åç©ºé—´
5. åˆ†é…å®¹å™¨IDå’Œåç§°

**å¯åŠ¨é˜¶æ®µ**ï¼š
1. åˆ›å»ºè¿›ç¨‹å‘½åç©ºé—´
2. å¯åŠ¨å®¹å™¨å†…çš„ä¸»è¿›ç¨‹
3. è®¾ç½®èµ„æºé™åˆ¶ï¼ˆCPUã€å†…å­˜ç­‰ï¼‰
4. é…ç½®ç½‘ç»œè¿æ¥
5. å®¹å™¨è¿›å…¥RunningçŠ¶æ€

---

## 3. ğŸ“¦ podman create å®¹å™¨åˆ›å»º


### 3.1 åŸºæœ¬åˆ›å»ºè¯­æ³•


```bash
# åŸºæœ¬æ ¼å¼
podman create [é€‰é¡¹] é•œåƒå [å‘½ä»¤]

# æœ€ç®€å•çš„åˆ›å»º
podman create nginx
```

### 3.2 å¸¸ç”¨åˆ›å»ºé€‰é¡¹è¯¦è§£


**å‘½åå’Œæ ‡è¯†**ï¼š
```bash
# ç»™å®¹å™¨èµ·ä¸ªåå­—ï¼ˆæ–¹ä¾¿ç®¡ç†ï¼‰
podman create --name my-web nginx

# æ·»åŠ æ ‡ç­¾ï¼ˆç”¨äºåˆ†ç±»ç®¡ç†ï¼‰
podman create --label env=production nginx
```

**ç«¯å£æ˜ å°„**ï¼š
```bash
# å°†å®¹å™¨çš„80ç«¯å£æ˜ å°„åˆ°ä¸»æœºçš„8080ç«¯å£
podman create -p 8080:80 nginx

# å¤šä¸ªç«¯å£æ˜ å°„
podman create -p 8080:80 -p 443:443 nginx
```

**ç¯å¢ƒå˜é‡è®¾ç½®**ï¼š
```bash
# è®¾ç½®ç¯å¢ƒå˜é‡
podman create -e MYSQL_ROOT_PASSWORD=mypass mysql

# å¤šä¸ªç¯å¢ƒå˜é‡
podman create -e USER=admin -e PASS=secret nginx
```

**ç›®å½•æŒ‚è½½**ï¼š
```bash
# æŒ‚è½½ä¸»æœºç›®å½•åˆ°å®¹å™¨
podman create -v /host/data:/container/data nginx

# åªè¯»æŒ‚è½½
podman create -v /host/config:/etc/config:ro nginx
```

### 3.3 åˆ›å»ºåçš„ç®¡ç†æ“ä½œ


**æŸ¥çœ‹åˆ›å»ºçš„å®¹å™¨**ï¼š
```bash
# æŸ¥çœ‹æ‰€æœ‰å®¹å™¨ï¼ˆåŒ…æ‹¬æœªå¯åŠ¨çš„ï¼‰
podman ps -a

# åªæŸ¥çœ‹åˆ›å»ºçŠ¶æ€çš„å®¹å™¨
podman ps -a --filter status=created
```

**æ£€æŸ¥å®¹å™¨é…ç½®**ï¼š
```bash
# æŸ¥çœ‹å®¹å™¨è¯¦ç»†ä¿¡æ¯
podman inspect my-web

# æŸ¥çœ‹å®¹å™¨çš„ç«¯å£æ˜ å°„
podman port my-web
```

### 3.4 åˆ›å»ºæ—¶çš„æœ€ä½³å®è·µ


âœ… **æ¨èåšæ³•**ï¼š
- æ€»æ˜¯ç»™å®¹å™¨å‘½åï¼ˆ`--name`ï¼‰
- æ˜ç¡®æŒ‡å®šç«¯å£æ˜ å°„
- è®¾ç½®å¿…è¦çš„ç¯å¢ƒå˜é‡
- åˆç†æŒ‚è½½æ•°æ®ç›®å½•

âŒ **é¿å…çš„åšæ³•**ï¼š
- ä¸ç»™å®¹å™¨å‘½åï¼ˆéš¾ä»¥ç®¡ç†ï¼‰
- åœ¨åˆ›å»ºæ—¶è®¾ç½®è¿‡å¤šå¤æ‚é€‰é¡¹
- å¿˜è®°è®¾ç½®å¿…è¦çš„ç¯å¢ƒå˜é‡

---

## 4. ğŸ”„ å®¹å™¨çŠ¶æ€è½¬æ¢è¯¦è§£


### 4.1 å®¹å™¨çš„äº”ç§ä¸»è¦çŠ¶æ€


**çŠ¶æ€è¯¦ç»†è¯´æ˜è¡¨**ï¼š

| çŠ¶æ€ | è‹±æ–‡åç§° | å«ä¹‰ | è¿›ç¨‹æƒ…å†µ | èµ„æºå ç”¨ |
|------|----------|------|----------|----------|
| ğŸ“ **å·²åˆ›å»º** | `Created` | å®¹å™¨å·²åˆ›å»ºä½†æœªå¯åŠ¨ | æ— è¿›ç¨‹è¿è¡Œ | æå°‘ |
| ğŸŸ¢ **è¿è¡Œä¸­** | `Running` | å®¹å™¨æ­£å¸¸è¿è¡Œ | ä¸»è¿›ç¨‹æ´»è·ƒ | æ­£å¸¸å ç”¨ |
| â¸ï¸ **å·²æš‚åœ** | `Paused` | å®¹å™¨è¢«æš‚æ—¶æŒ‚èµ· | è¿›ç¨‹å†»ç»“ | å†…å­˜ä¿æŒ |
| ğŸ”´ **å·²åœæ­¢** | `Exited/Stopped` | å®¹å™¨å·²åœæ­¢è¿è¡Œ | è¿›ç¨‹å·²ç»“æŸ | æå°‘ |
| ğŸ’€ **å·²åˆ é™¤** | `Deleted` | å®¹å™¨è¢«å½»åº•åˆ é™¤ | æ—  | æ—  |

### 4.2 çŠ¶æ€è½¬æ¢å‘½ä»¤


**å¯åŠ¨ç›¸å…³**ï¼š
```bash
# Created â†’ Running
podman start container-name

# ç›´æ¥åˆ›å»ºå¹¶è¿è¡Œ
podman run nginx
```

**æš‚åœç›¸å…³**ï¼š
```bash
# Running â†’ Paused
podman pause container-name

# Paused â†’ Running
podman unpause container-name
```

**åœæ­¢ç›¸å…³**ï¼š
```bash
# Running â†’ Stoppedï¼ˆä¼˜é›…åœæ­¢ï¼‰
podman stop container-name

# å¼ºåˆ¶åœæ­¢
podman kill container-name
```

**åˆ é™¤ç›¸å…³**ï¼š
```bash
# Stopped â†’ Deleted
podman rm container-name

# å¼ºåˆ¶åˆ é™¤è¿è¡Œä¸­çš„å®¹å™¨
podman rm -f container-name
```

### 4.3 çŠ¶æ€æŸ¥çœ‹å’Œç›‘æ§


**æŸ¥çœ‹å®¹å™¨çŠ¶æ€**ï¼š
```bash
# æŸ¥çœ‹æ‰€æœ‰å®¹å™¨çŠ¶æ€
podman ps -a

# æŸ¥çœ‹ç‰¹å®šçŠ¶æ€çš„å®¹å™¨
podman ps --filter status=running
podman ps --filter status=exited
```

**å®æ—¶ç›‘æ§çŠ¶æ€å˜åŒ–**ï¼š
```bash
# ç›‘æ§å®¹å™¨çŠ¶æ€å˜åŒ–
podman events

# ç›‘æ§ç‰¹å®šå®¹å™¨
podman events --filter container=my-container
```

ğŸ’¡ **çŠ¶æ€è½¬æ¢å°æŠ€å·§**ï¼š
- æš‚åœçŠ¶æ€ä¸»è¦ç”¨äºè°ƒè¯•å’Œä¸´æ—¶èµ„æºé‡Šæ”¾
- åœæ­¢çŠ¶æ€çš„å®¹å™¨ä»ä¿ç•™æ•°æ®ï¼Œå¯ä»¥é‡æ–°å¯åŠ¨
- åˆ é™¤æ“ä½œæ˜¯ä¸å¯é€†çš„ï¼Œåˆ é™¤å‰è¦ç¡®è®¤

---

## 5. ğŸ—‘ï¸ podman rm å®¹å™¨åˆ é™¤


### 5.1 åŸºæœ¬åˆ é™¤æ“ä½œ


ğŸ” **æ·±å…¥ç†è§£åˆ é™¤çš„å«ä¹‰**ï¼š
åˆ é™¤å®¹å™¨ä¸æ˜¯åˆ é™¤é•œåƒï¼Œè€Œæ˜¯åˆ é™¤åŸºäºé•œåƒåˆ›å»ºçš„å…·ä½“å®ä¾‹ï¼ŒåŒ…æ‹¬å®¹å™¨å†…äº§ç”Ÿçš„æ•°æ®å’Œé…ç½®æ›´æ”¹ã€‚

**åŸºæœ¬åˆ é™¤è¯­æ³•**ï¼š
```bash
# åˆ é™¤å•ä¸ªå®¹å™¨
podman rm container-name

# åˆ é™¤å¤šä¸ªå®¹å™¨
podman rm web1 web2 database
```

### 5.2 åˆ é™¤é€‰é¡¹è¯¦è§£


**å¼ºåˆ¶åˆ é™¤è¿è¡Œä¸­çš„å®¹å™¨**ï¼š
```bash
# å¼ºåˆ¶åˆ é™¤ï¼ˆç›¸å½“äºå…ˆkillå†rmï¼‰
podman rm -f running-container

# è¿™ç­‰åŒäºï¼š
podman kill running-container
podman rm running-container
```

**åˆ é™¤æ—¶åŒæ—¶åˆ é™¤ç›¸å…³å·**ï¼š
```bash
# åˆ é™¤å®¹å™¨å’ŒåŒ¿åå·
podman rm -v container-name
```

### 5.3 æ‰¹é‡åˆ é™¤æ“ä½œ


**åˆ é™¤æ‰€æœ‰åœæ­¢çš„å®¹å™¨**ï¼š
```bash
# åˆ é™¤æ‰€æœ‰exitedçŠ¶æ€çš„å®¹å™¨
podman container prune

# æˆ–è€…ä½¿ç”¨è¿‡æ»¤å™¨
podman rm $(podman ps -aq --filter status=exited)
```

**åˆ é™¤æ‰€æœ‰å®¹å™¨ï¼ˆå±é™©æ“ä½œï¼‰**ï¼š
```bash
# åˆ é™¤æ‰€æœ‰å®¹å™¨ï¼ˆåŒ…æ‹¬è¿è¡Œä¸­çš„ï¼‰
podman rm -f $(podman ps -aq)
```

âš ï¸ **é‡è¦æé†’**ï¼š
- åˆ é™¤æ“ä½œæ˜¯**ä¸å¯é€†**çš„
- åˆ é™¤å‰ç¡®ä¿é‡è¦æ•°æ®å·²å¤‡ä»½
- ç”Ÿäº§ç¯å¢ƒè¦ç‰¹åˆ«å°å¿ƒæ‰¹é‡åˆ é™¤

### 5.4 åˆ é™¤å‰çš„æ£€æŸ¥å·¥ä½œ


**æ£€æŸ¥å®¹å™¨ä¿¡æ¯**ï¼š
```bash
# æŸ¥çœ‹å®¹å™¨è¯¦æƒ…
podman inspect container-name

# æ£€æŸ¥å®¹å™¨æŒ‚è½½çš„å·
podman inspect container-name | grep -A 10 "Mounts"

# æŸ¥çœ‹å®¹å™¨ç½‘ç»œé…ç½®
podman inspect container-name | grep -A 5 "NetworkSettings"
```

**å¤‡ä»½é‡è¦æ•°æ®**ï¼š
```bash
# å¯¼å‡ºå®¹å™¨æ•°æ®
podman export container-name > backup.tar

# æˆ–è€…å¤‡ä»½ç‰¹å®šç›®å½•
podman cp container-name:/data /backup/location
```

---

## 6. ğŸ’¾ podman commit ä¿å­˜å®¹å™¨ä¸ºé•œåƒ


### 6.1 commitå‘½ä»¤çš„ä½œç”¨


ğŸ¤” **ä¸ºä»€ä¹ˆéœ€è¦commit**ï¼Ÿ
å½“ä½ åœ¨å®¹å™¨å†…åšäº†ä¿®æ”¹ï¼ˆå®‰è£…è½¯ä»¶ã€ä¿®æ”¹é…ç½®ã€æ·»åŠ æ–‡ä»¶ï¼‰ï¼Œæƒ³è¦ä¿å­˜è¿™äº›æ”¹åŠ¨ä½œä¸ºæ–°é•œåƒæ—¶ï¼Œå°±éœ€è¦ä½¿ç”¨commitã€‚

**ç”Ÿæ´»ç±»æ¯”**ï¼š
```
åŸé•œåƒ = æ¯›å¯æˆ¿
è¿è¡Œå®¹å™¨ = è£…ä¿®æˆ¿å­ï¼ˆæ·»åŠ å®¶å…·ã€åˆ·å¢™ç­‰ï¼‰
commit = æŠŠè£…ä¿®å¥½çš„æˆ¿å­ä½œä¸ºæ–°çš„"æ ‡å‡†æ¨¡æ¿"
```

### 6.2 åŸºæœ¬commitæ“ä½œ


**åŸºç¡€è¯­æ³•**ï¼š
```bash
podman commit [é€‰é¡¹] å®¹å™¨å æ–°é•œåƒå[:æ ‡ç­¾]
```

**ç®€å•ç¤ºä¾‹**ï¼š
```bash
# å°†ä¿®æ”¹åçš„å®¹å™¨ä¿å­˜ä¸ºæ–°é•œåƒ
podman commit my-container my-custom-image:v1.0
```

### 6.3 commitçš„è¯¦ç»†é€‰é¡¹


**æ·»åŠ ä½œè€…å’Œæäº¤ä¿¡æ¯**ï¼š
```bash
# æ·»åŠ ä½œè€…ä¿¡æ¯
podman commit --author "Your Name <your.email@example.com>" \
  my-container my-custom-image:v1.0

# æ·»åŠ æäº¤è¯´æ˜
podman commit -m "æ·»åŠ äº†nginxé…ç½®å’ŒSSLè¯ä¹¦" \
  my-container my-custom-image:v1.0
```

**ä¿®æ”¹é•œåƒé…ç½®**ï¼š
```bash
# ä¿®æ”¹é»˜è®¤å‘½ä»¤
podman commit --change 'CMD ["nginx", "-g", "daemon off;"]' \
  my-container my-custom-image:v1.0

# ä¿®æ”¹å·¥ä½œç›®å½•
podman commit --change 'WORKDIR /app' \
  my-container my-custom-image:v1.0
```

### 6.4 commitçš„æœ€ä½³å®è·µ


âœ… **æ¨èçš„commitæµç¨‹**ï¼š

1. **å‡†å¤‡å®¹å™¨**ï¼š
```bash
# å¯åŠ¨åŸºç¡€å®¹å™¨
podman run -it --name temp-container ubuntu bash
```

2. **è¿›è¡Œä¿®æ”¹**ï¼š
```bash
# åœ¨å®¹å™¨å†…å®‰è£…è½¯ä»¶ã€ä¿®æ”¹é…ç½®
apt update && apt install -y nginx
# ä¿®æ”¹é…ç½®æ–‡ä»¶...
# æ·»åŠ è‡ªå®šä¹‰å†…å®¹...
```

3. **æäº¤é•œåƒ**ï¼š
```bash
# é€€å‡ºå®¹å™¨åæäº¤
podman commit -m "å®‰è£…nginxå¹¶é…ç½®" temp-container my-nginx:v1.0
```

4. **æ¸…ç†ä¸´æ—¶å®¹å™¨**ï¼š
```bash
# åˆ é™¤ç”¨äºæ„å»ºçš„ä¸´æ—¶å®¹å™¨
podman rm temp-container
```

âš ï¸ **commitçš„æ³¨æ„äº‹é¡¹**ï¼š
- commitä¼šä¿å­˜å®¹å™¨çš„æ‰€æœ‰æ›´æ”¹ï¼ŒåŒ…æ‹¬ä¸´æ—¶æ–‡ä»¶
- é•œåƒä¼šæ¯”è¾ƒå¤§ï¼Œå› ä¸ºåŒ…å«äº†æ‰€æœ‰å†å²å±‚
- ç”Ÿäº§ç¯å¢ƒå»ºè®®ä½¿ç”¨Dockerfileè€Œécommit
- commité€‚åˆå¿«é€ŸåŸå‹å’Œæµ‹è¯•åœºæ™¯

### 5.5 éªŒè¯commitçš„ç»“æœ


**æŸ¥çœ‹æ–°é•œåƒ**ï¼š
```bash
# æ£€æŸ¥æ–°åˆ›å»ºçš„é•œåƒ
podman images | grep my-custom-image

# æŸ¥çœ‹é•œåƒè¯¦ç»†ä¿¡æ¯
podman inspect my-custom-image:v1.0
```

**æµ‹è¯•æ–°é•œåƒ**ï¼š
```bash
# ä½¿ç”¨æ–°é•œåƒåˆ›å»ºå®¹å™¨æµ‹è¯•
podman run -d --name test-custom my-custom-image:v1.0

# éªŒè¯ä¿®æ”¹æ˜¯å¦ä¿å­˜æˆåŠŸ
podman exec -it test-custom bash
```

---

## 7. ğŸ”„ å®¹å™¨é‡å¯ç­–ç•¥


### 7.1 ä»€ä¹ˆæ˜¯é‡å¯ç­–ç•¥


ğŸ’­ **é‡å¯ç­–ç•¥çš„ä½œç”¨**ï¼š
é‡å¯ç­–ç•¥å†³å®šäº†å½“å®¹å™¨æ„å¤–åœæ­¢æ—¶ï¼Œç³»ç»Ÿåº”è¯¥å¦‚ä½•è‡ªåŠ¨å¤„ç† - æ˜¯é‡æ–°å¯åŠ¨å®¹å™¨ï¼Œè¿˜æ˜¯ä¿æŒåœæ­¢çŠ¶æ€ã€‚

**å››ç§é‡å¯ç­–ç•¥**ï¼š

| ç­–ç•¥ | è¯´æ˜ | é€‚ç”¨åœºæ™¯ |
|------|------|----------|
| `no` | æ°¸ä¸è‡ªåŠ¨é‡å¯ï¼ˆé»˜è®¤ï¼‰ | ä¸€æ¬¡æ€§ä»»åŠ¡ |
| `on-failure` | ä»…åœ¨å®¹å™¨å¼‚å¸¸é€€å‡ºæ—¶é‡å¯ | æœåŠ¡åº”ç”¨ |
| `always` | æ€»æ˜¯é‡å¯ï¼ˆé™¤éæ‰‹åŠ¨åœæ­¢ï¼‰ | å…³é”®æœåŠ¡ |
| `unless-stopped` | é‡å¯ï¼Œé™¤éç”¨æˆ·æ‰‹åŠ¨åœæ­¢ | ç³»ç»ŸæœåŠ¡ |

### 7.2 è®¾ç½®é‡å¯ç­–ç•¥


**åˆ›å»ºå®¹å™¨æ—¶è®¾ç½®**ï¼š
```bash
# å¼‚å¸¸æ—¶é‡å¯ï¼ˆæ¨èç”¨äºæœåŠ¡ï¼‰
podman run -d --restart=on-failure nginx

# æ€»æ˜¯é‡å¯
podman run -d --restart=always nginx

# é™åˆ¶é‡å¯æ¬¡æ•°ï¼ˆæœ€å¤šé‡å¯3æ¬¡ï¼‰
podman run -d --restart=on-failure:3 nginx
```

**ä¿®æ”¹ç°æœ‰å®¹å™¨çš„é‡å¯ç­–ç•¥**ï¼š
```bash
# æ›´æ–°å®¹å™¨é‡å¯ç­–ç•¥
podman update --restart=always container-name
```

### 7.3 é‡å¯ç­–ç•¥çš„å®é™…åº”ç”¨


ğŸŒ° **å®é™…åœºæ™¯ä¸¾ä¾‹**ï¼š

**WebæœåŠ¡å®¹å™¨**ï¼š
```bash
# WebæœåŠ¡å™¨åº”è¯¥åœ¨å¼‚å¸¸æ—¶é‡å¯
podman run -d --name web-server \
  --restart=on-failure:5 \
  -p 80:80 nginx
```

**æ•°æ®åº“å®¹å™¨**ï¼š
```bash
# æ•°æ®åº“æœåŠ¡æ€»æ˜¯éœ€è¦è¿è¡Œ
podman run -d --name database \
  --restart=unless-stopped \
  -e MYSQL_ROOT_PASSWORD=secret \
  mysql
```

**ä¸€æ¬¡æ€§ä»»åŠ¡**ï¼š
```bash
# æ•°æ®å¤‡ä»½ä»»åŠ¡ï¼Œå®Œæˆåä¸éœ€è¦é‡å¯
podman run --name backup-job \
  --restart=no \
  backup-image
```

### 7.4 ç›‘æ§å’Œç®¡ç†é‡å¯


**æŸ¥çœ‹é‡å¯çŠ¶æ€**ï¼š
```bash
# æŸ¥çœ‹å®¹å™¨é‡å¯æ¬¡æ•°
podman ps -a

# æŸ¥çœ‹å®¹å™¨è¯¦ç»†é‡å¯ä¿¡æ¯
podman inspect container-name | grep -i restart
```

**æ‰‹åŠ¨é‡å¯å®¹å™¨**ï¼š
```bash
# é‡å¯å®¹å™¨
podman restart container-name

# å¼ºåˆ¶é‡å¯
podman restart -t 0 container-name
```

âš¡ **é‡å¯ç­–ç•¥å°æŠ€å·§**ï¼š
- å¼€å‘ç¯å¢ƒé€šå¸¸ä½¿ç”¨`no`æˆ–`on-failure`
- ç”Ÿäº§ç¯å¢ƒçš„å…³é”®æœåŠ¡ä½¿ç”¨`unless-stopped`
- é¿å…ä½¿ç”¨`always`é™¤éç¡®å®éœ€è¦
- è®¾ç½®åˆç†çš„é‡å¯æ¬¡æ•°é™åˆ¶é˜²æ­¢æ— é™é‡å¯

---

## 8. ğŸ§¹ å®¹å™¨èµ„æºæ¸…ç†


### 8.1 ä¸ºä»€ä¹ˆéœ€è¦èµ„æºæ¸…ç†


ğŸ¤” **èµ„æºç§¯ç´¯é—®é¢˜**ï¼š
é•¿æ—¶é—´ä½¿ç”¨Podmanåï¼Œä¼šç´¯ç§¯å¾ˆå¤šä¸å†éœ€è¦çš„èµ„æºï¼š
- åœæ­¢çš„å®¹å™¨å ç”¨ç£ç›˜ç©ºé—´
- æœªä½¿ç”¨çš„é•œåƒæ¶ˆè€—å­˜å‚¨
- å­¤ç«‹çš„æ•°æ®å·æµªè´¹ç©ºé—´
- æ— ç”¨çš„ç½‘ç»œé…ç½®å½±å“æ€§èƒ½

### 8.2 å®¹å™¨æ¸…ç†æ“ä½œ


**æ¸…ç†åœæ­¢çš„å®¹å™¨**ï¼š
```bash
# åˆ é™¤æ‰€æœ‰åœæ­¢çš„å®¹å™¨
podman container prune

# ç¡®è®¤åˆ é™¤å‰æŸ¥çœ‹å°†è¢«åˆ é™¤çš„å®¹å™¨
podman ps -a --filter status=exited
```

**æ¸…ç†ç‰¹å®šæ—¶é—´å‰çš„å®¹å™¨**ï¼š
```bash
# åˆ é™¤24å°æ—¶å‰åˆ›å»ºçš„å®¹å™¨
podman container prune --filter "until=24h"

# åˆ é™¤ä¸€å‘¨å‰çš„å®¹å™¨
podman container prune --filter "until=168h"
```

### 8.3 ç³»ç»Ÿçº§æ¸…ç†


**å…¨é¢ç³»ç»Ÿæ¸…ç†**ï¼š
```bash
# æ¸…ç†æ‰€æœ‰ä¸ä½¿ç”¨çš„èµ„æºï¼ˆå®¹å™¨ã€é•œåƒã€ç½‘ç»œã€å·ï¼‰
podman system prune

# åŒ…æ‹¬æœªä½¿ç”¨çš„é•œåƒçš„å…¨é¢æ¸…ç†
podman system prune -a

# å¼ºåˆ¶æ¸…ç†ï¼ˆä¸è¯¢é—®ç¡®è®¤ï¼‰
podman system prune -f
```

**æŸ¥çœ‹å¯æ¸…ç†çš„ç©ºé—´**ï¼š
```bash
# æŸ¥çœ‹ç³»ç»Ÿèµ„æºä½¿ç”¨æƒ…å†µ
podman system df

# è¯¦ç»†æ˜¾ç¤ºå„ç»„ä»¶å ç”¨æƒ…å†µ
podman system df -v
```

### 8.4 é•œåƒæ¸…ç†


**æ¸…ç†æ— ç”¨é•œåƒ**ï¼š
```bash
# åˆ é™¤æ‰€æœ‰æ‚¬ç©ºé•œåƒï¼ˆdangling imagesï¼‰
podman image prune

# åˆ é™¤æ‰€æœ‰æœªä½¿ç”¨çš„é•œåƒ
podman image prune -a
```

**æ‰¹é‡åˆ é™¤é•œåƒ**ï¼š
```bash
# åˆ é™¤ç‰¹å®šæ ‡ç­¾çš„é•œåƒ
podman rmi $(podman images -q --filter "dangling=true")

# åˆ é™¤ç‰¹å®šä»“åº“çš„æ‰€æœ‰é•œåƒ
podman rmi $(podman images -q nginx)
```

### 8.5 æ•°æ®å·æ¸…ç†


**æ¸…ç†å­¤ç«‹å·**ï¼š
```bash
# åˆ é™¤æœªè¢«ä»»ä½•å®¹å™¨ä½¿ç”¨çš„å·
podman volume prune

# æŸ¥çœ‹æ‰€æœ‰å·çš„ä½¿ç”¨æƒ…å†µ
podman volume ls
podman volume inspect volume-name
```

### 8.6 å®šæœŸæ¸…ç†ç­–ç•¥


**è®¾ç½®æ¸…ç†è„šæœ¬**ï¼š
```bash
#!/bin/bash
# cleanup-podman.sh

echo "å¼€å§‹æ¸…ç†Podmanèµ„æº..."

# åˆ é™¤åœæ­¢çš„å®¹å™¨
echo "æ¸…ç†åœæ­¢çš„å®¹å™¨..."
podman container prune -f

# æ¸…ç†æ‚¬ç©ºé•œåƒ
echo "æ¸…ç†æ— ç”¨é•œåƒ..."
podman image prune -f

# æ¸…ç†å­¤ç«‹å·
echo "æ¸…ç†å­¤ç«‹æ•°æ®å·..."
podman volume prune -f

echo "æ¸…ç†å®Œæˆï¼"
podman system df
```

**å®šæœŸè‡ªåŠ¨æ¸…ç†**ï¼š
```bash
# æ·»åŠ åˆ°crontabï¼Œæ¯å‘¨æ¸…ç†ä¸€æ¬¡
# 0 2 * * 0 /path/to/cleanup-podman.sh
```

ğŸ¯ **æ¸…ç†çš„æœ€ä½³å®è·µ**ï¼š
- å®šæœŸæ‰§è¡Œ`podman system df`æ£€æŸ¥èµ„æºä½¿ç”¨
- æ¸…ç†å‰å…ˆå¤‡ä»½é‡è¦æ•°æ®
- ç”Ÿäº§ç¯å¢ƒæ¸…ç†è¦è°¨æ…ï¼Œæœ€å¥½åœ¨ç»´æŠ¤çª—å£è¿›è¡Œ
- å¯ä»¥è®¾ç½®è‡ªåŠ¨åŒ–è„šæœ¬å®šæœŸæ¸…ç†

---

## 9. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 9.1 å¿…é¡»æŒæ¡çš„å…³é”®æ¦‚å¿µ


ğŸ”¸ **å®¹å™¨ç”Ÿå‘½å‘¨æœŸ**ï¼šCreated â†’ Running â†’ Stopped â†’ Deleted
ğŸ”¸ **åˆ›å»º vs å¯åŠ¨**ï¼šcreateåªå‡†å¤‡ç¯å¢ƒï¼Œstartæ‰çœŸæ­£è¿è¡Œ
ğŸ”¸ **çŠ¶æ€ç®¡ç†**ï¼šç†è§£å„çŠ¶æ€é—´çš„è½¬æ¢å…³ç³»
ğŸ”¸ **æŒä¹…åŒ–**ï¼šcommitå¯ä»¥ä¿å­˜å®¹å™¨ä¿®æ”¹ä¸ºæ–°é•œåƒ
ğŸ”¸ **é‡å¯ç­–ç•¥**ï¼šè‡ªåŠ¨åŒ–å®¹å™¨æ•…éšœæ¢å¤
ğŸ”¸ **èµ„æºæ¸…ç†**ï¼šå®šæœŸæ¸…ç†é¿å…èµ„æºæµªè´¹

### 9.2 æ ¸å¿ƒå‘½ä»¤é€ŸæŸ¥è¡¨


| æ“ä½œç±»å‹ | **å‘½ä»¤** | **ä½œç”¨** |
|---------|----------|----------|
| **åˆ›å»º** | `podman create` | åˆ›å»ºå®¹å™¨ä½†ä¸å¯åŠ¨ |
| **å¯åŠ¨** | `podman start` | å¯åŠ¨å·²åˆ›å»ºçš„å®¹å™¨ |
| **è¿è¡Œ** | `podman run` | åˆ›å»ºå¹¶å¯åŠ¨å®¹å™¨ |
| **åœæ­¢** | `podman stop` | ä¼˜é›…åœæ­¢å®¹å™¨ |
| **åˆ é™¤** | `podman rm` | åˆ é™¤å®¹å™¨ |
| **ä¿å­˜** | `podman commit` | ä¿å­˜å®¹å™¨ä¸ºé•œåƒ |
| **é‡å¯** | `podman restart` | é‡å¯å®¹å™¨ |
| **æ¸…ç†** | `podman system prune` | æ¸…ç†ç³»ç»Ÿèµ„æº |

### 9.3 å®é™…åº”ç”¨å»ºè®®


**å¼€å‘ç¯å¢ƒ**ï¼š
- ä½¿ç”¨`podman run`å¿«é€Ÿå¯åŠ¨æµ‹è¯•å®¹å™¨
- é¢‘ç¹ä½¿ç”¨`podman rm -f`æ¸…ç†æµ‹è¯•å®¹å™¨
- åˆ©ç”¨`commit`ä¿å­˜å¼€å‘ç¯å¢ƒé…ç½®

**ç”Ÿäº§ç¯å¢ƒ**ï¼š
- åˆç†è®¾ç½®é‡å¯ç­–ç•¥ï¼ˆ`unless-stopped`ï¼‰
- å®šæœŸæ‰§è¡Œèµ„æºæ¸…ç†
- é‡è¦æ“ä½œå‰å…ˆå¤‡ä»½æ•°æ®

**æ—¥å¸¸ç®¡ç†**ï¼š
- ç»™å®¹å™¨èµ·æœ‰æ„ä¹‰çš„åå­—
- å®šæœŸæŸ¥çœ‹å®¹å™¨çŠ¶æ€(`podman ps -a`)
- ç›‘æ§èµ„æºä½¿ç”¨æƒ…å†µ(`podman system df`)

### 9.4 å¸¸è§é—®é¢˜è§£ç­”


â“ **å®¹å™¨åˆ é™¤åæ•°æ®æ€ä¹ˆåŠ**ï¼Ÿ
âœ… ä½¿ç”¨æ•°æ®å·(`-v`)æŒ‚è½½é‡è¦æ•°æ®åˆ°ä¸»æœº

â“ **å®¹å™¨æ€»æ˜¯å¼‚å¸¸é€€å‡ºæ€ä¹ˆåŠ**ï¼Ÿ
âœ… æ£€æŸ¥æ—¥å¿—(`podman logs`)ï¼Œè®¾ç½®åˆé€‚çš„é‡å¯ç­–ç•¥

â“ **ç³»ç»Ÿç©ºé—´ä¸å¤Ÿæ€ä¹ˆåŠ**ï¼Ÿ
âœ… å®šæœŸæ‰§è¡Œ`podman system prune -a`æ¸…ç†èµ„æº

â“ **æƒ³è¦ä¿å­˜å®¹å™¨çš„ä¿®æ”¹**ï¼Ÿ
âœ… ä½¿ç”¨`podman commit`æˆ–è€…é‡æ–°æ„å»ºé•œåƒ

**ğŸ¯ è®°å¿†è¦ç‚¹**ï¼š
- å®¹å™¨æœ‰ç”Ÿæœ‰æ­»ï¼ŒçŠ¶æ€è¦æ¸…æ™°
- åˆ›å»ºå¯åŠ¨åˆ†ä¸¤æ­¥ï¼Œåˆ é™¤æ¸…ç†è¦å½»åº•
- commitä¿å­˜ä¿®æ”¹ï¼Œé‡å¯ç­–ç•¥æŠ¤èˆª
- å®šæœŸæ¸…ç†åƒåœ¾ï¼Œç³»ç»Ÿè¿è¡Œæ›´ç•…