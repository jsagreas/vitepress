---
title: 7、根分区与挂载点
---
## 📚 目录

1. [根分区基础概念](#1-根分区基础概念)
2. [Linux目录树结构](#2-Linux目录树结构)
3. [挂载点概念与原理](#3-挂载点概念与原理)
4. [分区规划策略](#4-分区规划策略)
5. [文件系统选择](#5-文件系统选择)
6. [分区表类型对比](#6-分区表类型对比)
7. [实际规划案例](#7-实际规划案例)
8. [核心要点总结](#8-核心要点总结)

---

## 1. 🌳 根分区基础概念


### 1.1 什么是根分区


**根分区**就是Linux系统的"地基"，用符号`/`表示。

💡 **生活类比**：
```
根分区 = 一栋大楼的地基和主体结构
其他分区 = 大楼里的不同功能区域（厨房、卧室、储藏室）
```

**🔸 核心特点**：
- **必需性**：Linux系统**必须**要有根分区，没有它系统无法启动
- **包含性**：如果没有其他分区，所有数据都存储在根分区
- **标识符**：永远用`/`这个符号表示

### 1.2 最小化原则的含义


> 📖 **核心概念**  
> 根分区最小化原则：只在根分区存放**系统运行必需**的文件，其他数据尽量放到独立分区

**为什么要最小化？**

```
好处对比：
❌ 把所有东西都放根分区：
   - 系统文件和用户数据混在一起
   - 用户数据填满后系统无法运行
   - 重装系统时所有数据都可能丢失

✅ 根分区最小化：
   - 系统文件和用户数据分离
   - 系统运行更稳定
   - 重装系统时用户数据安全
```

---

## 2. 📁 Linux目录树结构


### 2.1 核心系统目录


Linux的目录就像一棵**倒挂的树**，根目录`/`是树根：

```
Linux目录树结构：
                 / (根目录)
                /|\
               / | \
              /  |  \
           boot usr home
           /    |    \
          /     |     \
        bin    lib   var
       /       |      \
      /        |       \
   sbin      lib64    log
```

**🔸 根目录下的核心目录**：

| 目录 | **作用** | **重要程度** | **大小特点** |
|------|---------|-------------|-------------|
| `/bin` | `基本命令程序` | `🔥 核心` | `较小，几十MB` |
| `/boot` | `启动文件` | `🔥 核心` | `小，100-500MB` |
| `/etc` | `配置文件` | `🔥 核心` | `小，几MB到几十MB` |
| `/lib` | `系统库文件` | `🔥 核心` | `中等，几百MB` |
| `/usr` | `用户程序和数据` | `⭐ 重要` | `大，几GB到几十GB` |
| `/var` | `变化数据（日志等）` | `⭐ 重要` | `不断增长` |
| `/home` | `用户家目录` | `💫 用户数据` | `不断增长` |
| `/tmp` | `临时文件` | `💫 临时` | `不断变化` |

### 2.2 目录详细解释


**🔸 系统核心目录（必须在根分区）**：
```
/bin：基础命令
- 包含：ls、cp、mv等日常命令
- 特点：系统启动时就需要用到

/boot：启动相关
- 包含：内核文件、启动配置
- 特点：系统启动的第一步就要读取

/etc：配置文件
- 包含：系统和软件的所有配置
- 特点：修改这些文件可以改变系统行为

/lib：系统库
- 包含：程序运行需要的库文件
- 特点：类似Windows的DLL文件
```

**🔸 可独立分区的目录**：
```
/usr：用户程序
- 包含：大部分应用程序和文档
- 特点：占用空间大，相对稳定

/home：用户家目录
- 包含：所有用户的个人文件
- 特点：用户数据，经常变化

/var：变化数据
- 包含：日志文件、缓存、邮件等
- 特点：大小不断变化

/tmp：临时文件
- 包含：程序运行时的临时文件
- 特点：可以定期清理
```

---

## 3. 🔗 挂载点概念与原理


### 3.1 什么是挂载


**挂载**就是把一个分区"接入"到目录树的某个位置。

💡 **生活类比**：
```
目录树 = 一棵大树的树枝结构
分区 = 不同的储物箱
挂载 = 把储物箱挂到树枝的某个位置

挂载前：/home 这个树枝是空的
挂载后：/home 这个位置连接到一个专门的储物箱（分区）
```

### 3.2 挂载点的工作原理


```
挂载点工作示意图：

物理层面：
┌─────────┐  ┌─────────┐  ┌─────────┐
│  分区1   │  │  分区2   │  │  分区3   │
│   /     │  │  /home  │  │  /var   │
│ (根分区) │  │ (home分区)│  │ (var分区)│
└─────────┘  └─────────┘  └─────────┘

逻辑层面（用户看到的）：
         / (根目录)
        /|\
       / | \
      /  |  \
   boot home var
         ↓    ↓
    (挂载到   (挂载到
     分区2)   分区3)
```

**🔸 挂载前后的区别**：

```
挂载前访问 /home/user1/file.txt：
系统在根分区中寻找这个文件

挂载后访问 /home/user1/file.txt：
系统自动转到home分区中寻找这个文件
```

### 3.3 挂载的优势


> 💡 **关键理解**  
> 挂载让不同类型的数据可以存储在不同的物理分区上，但用户使用时感觉是一个统一的目录树

**🔸 实际好处**：
- **数据分离**：系统文件和用户文件不混合
- **性能优化**：不同分区可以用不同的文件系统
- **安全保护**：某个分区满了不会影响其他分区
- **维护方便**：可以单独备份、修复某个分区

---

## 4. 📊 分区规划策略


### 4.1 单分区 vs 多分区方案


**🔸 单分区方案**：
```
磁盘布局：
┌─────────────────────────────────┐
│        / (根分区) - 全部空间         │
└─────────────────────────────────┘

特点：
✅ 配置简单，新手友好
✅ 空间利用灵活
❌ 数据不分离，风险较高
❌ 性能优化受限
```

**🔸 多分区方案**：
```
磁盘布局：
┌──────┐┌──────────┐┌────────┐┌────────┐
│ /boot││    /     ││ /home  ││  /var  │
│ 200MB││   15GB   ││  50GB  ││  10GB  │
└──────┘└──────────┘└────────┘└────────┘

特点：
✅ 数据分离，安全性高
✅ 可针对性优化
✅ 维护方便
❌ 需要合理规划空间
❌ 配置相对复杂
```

### 4.2 分区大小分配原则


**🎯 推荐分配策略（以100GB磁盘为例）**：

| 分区 | **建议大小** | **最小大小** | **理由** |
|------|-------------|-------------|----------|
| `/boot` | `200-500MB` | `100MB` | `启动文件很小，预留足够升级空间` |
| `/` | `15-20GB` | `10GB` | `系统文件，遵循最小化原则` |
| `/home` | `剩余空间40%` | `10GB` | `用户数据，通常需要最多空间` |
| `/var` | `10-15GB` | `5GB` | `日志文件，根据用途调整` |
| `swap` | `内存的0.5-2倍` | `内存大小` | `虚拟内存，内存小时多分点` |

**📋 分配考虑因素**：
```
服务器用途影响分区大小：
🖥️  桌面系统：
   - /home 占大头（存储个人文件）
   - /var 适中（日志不多）

🌐 Web服务器：
   - /var 要大（网站文件、日志）
   - /home 可以小（用户少）

💾 数据库服务器：
   - 可能需要单独的 /data 分区
   - /var 要大（数据库日志）
```

### 4.3 /tmp和/var/tmp的分区考虑


**🔸 临时文件存储问题**：

```
临时文件的两个主要位置：
/tmp：系统临时文件
/var/tmp：应用程序临时文件

是否需要独立分区？
✅ 需要独立分区的情况：
- 服务器环境，临时文件很多
- 多用户系统
- 安全要求高的系统

❌ 不需要独立分区的情况：
- 个人桌面系统
- 临时文件不多的环境
- 磁盘空间有限
```

**📊 /tmp分区的大小建议**：
- **个人系统**：1-2GB 足够
- **服务器系统**：5-10GB
- **特殊应用**：根据具体需求调整

---

## 5. 💾 文件系统类型选择


### 5.1 常见文件系统对比


| 文件系统 | **特点** | **适用场景** | **性能** | **推荐度** |
|---------|---------|-------------|---------|-----------|
| **ext4** | `成熟稳定，兼容性好` | `大多数Linux系统` | `🟡 中等` | `🔥 强烈推荐` |
| **xfs** | `大文件性能好` | `大文件存储` | `🟢 高` | `⭐ 推荐` |
| **btrfs** | `快照、压缩功能` | `高级用户` | `🟡 中等` | `💫 可选` |

### 5.2 文件系统选择建议


**🔸 ext4 - 最佳通用选择**：
```
优势：
✅ 稳定性极高，很少出问题
✅ 所有Linux发行版都支持
✅ 修复工具完善
✅ 性能均衡

适合：
- 新手用户
- 桌面系统
- 大部分服务器应用
```

**🔸 xfs - 大文件专家**：
```
优势：
✅ 大文件读写性能优秀
✅ 支持很大的文件系统
✅ 在线扩容方便

适合：
- 视频文件存储
- 数据库应用
- 需要大文件处理的场景
```

> 🧠 **记忆技巧**  
> 新手选择：ext4（外四）= 稳定可靠  
> 大文件：xfs（X-file-system）= 大文件专家

### 5.3 针对不同分区的文件系统建议


```
分区文件系统推荐：
/boot：ext4（兼容性最重要）
/：ext4（稳定性最重要）
/home：ext4 或 xfs（看文件类型）
/var：ext4（日志文件多，稳定优先）
```

---

## 6. 🗂️ 分区表类型对比


### 6.1 MBR vs GPT 基本概念


**分区表**就像是磁盘的"目录"，记录磁盘被分成了哪几块。

💡 **生活类比**：
```
磁盘 = 一本厚书
分区表 = 书的目录页
MBR = 老式简单目录（一页纸）
GPT = 现代详细目录（多页纸，信息丰富）
```

### 6.2 MBR与GPT详细对比


| 特性 | **MBR** | **GPT** | **建议** |
|------|---------|---------|----------|
| **最大磁盘容量** | `2TB` | `几乎无限` | `大磁盘必须用GPT` |
| **最大分区数** | `4个主分区` | `128个分区` | `多分区用GPT更方便` |
| **系统兼容性** | `所有系统支持` | `较新系统支持` | `老系统可能要MBR` |
| **启动方式** | `BIOS启动` | `UEFI启动` | `现代电脑建议UEFI+GPT` |
| **数据安全** | `分区表只有一份` | `分区表有备份` | `GPT更安全` |

### 6.3 如何选择分区表类型


**🎯 选择决策流程**：

```
选择分区表类型的判断：

磁盘大小 > 2TB？
  ├─ 是 → 必须选择 GPT
  └─ 否 → 继续判断

电脑支持UEFI启动？
  ├─ 是 → 建议选择 GPT
  └─ 否 → 选择 MBR

需要超过4个分区？
  ├─ 是 → 必须选择 GPT
  └─ 否 → MBR或GPT都可以
```

**📋 实际建议**：
- **新电脑新系统**：直接选择 **GPT + UEFI**
- **老电脑老系统**：选择 **MBR + BIOS**
- **小磁盘简单分区**：**MBR** 足够使用
- **大磁盘复杂分区**：**GPT** 是唯一选择

---

## 7. 🛠️ 实际规划案例


### 7.1 家用桌面系统分区方案


**💻 场景**：500GB SSD，个人桌面使用，主要存储文档、图片、视频

```
推荐分区方案：
┌─────────┐┌─────────┐┌─────────────────┐┌──────────┐
│  /boot  ││    /    ││      /home      ││   swap   │
│  500MB  ││  30GB   ││      450GB      ││   4GB    │
└─────────┘└─────────┘└─────────────────┘└──────────┘

选择理由：
✅ /boot 独立：系统升级更安全
✅ / 适中：足够系统文件使用
✅ /home 最大：个人文件是重点
✅ swap 适量：4GB内存对应4GB交换
```

### 7.2 Web服务器分区方案


**🌐 场景**：1TB HDD，运行网站服务，需要存储网站文件和日志

```
推荐分区方案：
┌─────┐┌─────────┐┌─────────┐┌─────────────┐┌──────────┐
│/boot││    /    ││  /home  ││     /var    ││   swap   │
│200MB││  20GB   ││  100GB  ││    800GB    ││   8GB    │
└─────┘└─────────┘└─────────┘└─────────────┘└──────────┘

选择理由：
✅ /var 最大：网站文件和日志存储
✅ /home 适中：少量用户管理账号
✅ 系统分区保持最小化原则
✅ 大容量交换分区应对高负载
```

### 7.3 数据库服务器分区方案


**💾 场景**：2TB SSD，专门运行数据库，数据量大

```
推荐分区方案：
┌─────┐┌────────┐┌─────────┐┌─────────────────┐┌──────┐
│/boot││   /    ││  /var   ││      /data      ││ swap │
│500MB││ 50GB   ││  200GB  ││      1700GB     ││ 32GB │
└─────┘└────────┘└─────────┘└─────────────────┘└──────┘

选择理由：
✅ /data 专用：数据库文件独立分区
✅ /var 较大：数据库日志文件
✅ 大交换分区：数据库需要大量内存缓冲
✅ 可使用xfs文件系统优化大文件性能
```

---

## 8. 📋 核心要点总结


### 8.1 必须掌握的关键概念


```
🔸 根分区(/)：Linux系统的基础，必需且唯一
🔸 最小化原则：根分区只放系统必需文件
🔸 挂载点：连接分区到目录树的"接口"
🔸 分区规划：根据用途合理分配空间
🔸 文件系统：ext4是最佳通用选择
🔸 分区表：新系统选GPT，老系统用MBR
```

### 8.2 实际应用指导原则


**🎯 新手建议方案**：
- **简单分区**：`/boot` + `/` + `swap` 三分区足够
- **文件系统**：全部使用 **ext4**
- **分区表**：新电脑选 **GPT**，老电脑选 **MBR**
- **大小分配**：根据实际用途调整，预留20%空间

**🔧 进阶优化方案**：
- **数据分离**：`/home`、`/var` 独立分区
- **性能优化**：大文件存储考虑 **xfs**
- **安全考虑**：重要数据单独分区并备份

### 8.3 常见误区避免


```
❌ 常见错误：
- 根分区分配过小，系统升级失败
- 所有空间给根分区，数据不安全
- 不考虑用途盲目分区
- 分区过多导致空间浪费

✅ 正确做法：
- 根据实际需求规划分区
- 预留适当空间应对扩展
- 重要数据独立分区
- 定期检查磁盘使用情况
```

> 🧠 **核心记忆口诀**  
> 根分区最小化，挂载点来扩展  
> ext4最稳定，GPT是趋势  
> 分区看用途，备份保安全

**🔗 延伸学习**：
- 学习磁盘管理命令：`fdisk`、`lsblk`、`df`
- 了解LVM逻辑卷管理
- 掌握文件系统的修复和维护