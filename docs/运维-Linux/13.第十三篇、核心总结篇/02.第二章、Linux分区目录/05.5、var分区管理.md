---
title: 5ã€varåˆ†åŒºç®¡ç†
---
## ğŸ“š ç›®å½•

1. [/varç›®å½•æ¦‚è¿°](#1-varç›®å½•æ¦‚è¿°)
2. [/varç›®å½•æ ¸å¿ƒå­ç›®å½•è¯¦è§£](#2-varç›®å½•æ ¸å¿ƒå­ç›®å½•è¯¦è§£)
3. [æ—¥å¿—æ–‡ä»¶ç®¡ç†ç­–ç•¥](#3-æ—¥å¿—æ–‡ä»¶ç®¡ç†ç­–ç•¥)
4. [/varåˆ†åŒºç©ºé—´ç›‘æ§](#4-varåˆ†åŒºç©ºé—´ç›‘æ§)
5. [/varæ»¡ç›˜æ•…éšœå¤„ç†](#5-varæ»¡ç›˜æ•…éšœå¤„ç†)
6. [å®é™…ç”Ÿäº§ç¯å¢ƒæœ€ä½³å®è·µ](#6-å®é™…ç”Ÿäº§ç¯å¢ƒæœ€ä½³å®è·µ)
7. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#7-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ“ /varç›®å½•æ¦‚è¿°


### 1.1 ä»€ä¹ˆæ˜¯/varç›®å½•


> ğŸ“Œ **æ ¸å¿ƒæ¦‚å¿µ**  
> /varæ˜¯"variable"(å¯å˜)çš„ç¼©å†™ï¼Œå­˜å‚¨ç³»ç»Ÿè¿è¡ŒæœŸé—´ä¼šå‘ç”Ÿå˜åŒ–çš„æ•°æ®æ–‡ä»¶

**é€šä¿—ç†è§£**ï¼š
- æŠŠ/varæƒ³è±¡æˆä¸€ä¸ª"å·¥ä½œå°"ï¼Œç³»ç»Ÿåœ¨è¿™é‡Œå¤„ç†å„ç§ä¸´æ—¶å·¥ä½œ
- ä¸åŒäº/etcå­˜å‚¨é…ç½®ï¼Œ/varå­˜å‚¨çš„æ˜¯"è¿‡ç¨‹æ•°æ®"
- ç³»ç»Ÿæ—¥å¿—ã€ç¼“å­˜æ–‡ä»¶ã€é‚®ä»¶é˜Ÿåˆ—éƒ½æ”¾åœ¨è¿™é‡Œ

```
/varç›®å½•å°±åƒä¸€ä¸ªå¿™ç¢Œçš„åŠå…¬å®¤ï¼š
/var/log    â†’ æ¡£æ¡ˆå®¤ï¼Œå­˜æ”¾å„ç§è®°å½•æ–‡ä»¶
/var/cache  â†’ ä»“åº“ï¼Œä¸´æ—¶å­˜æ”¾å¸¸ç”¨ç‰©å“
/var/tmp    â†’ ä¸´æ—¶å·¥ä½œåŒºï¼Œå¤„ç†ä¸´æ—¶ä»»åŠ¡
/var/lib    â†’ èµ„æ–™åº“ï¼Œç¨‹åºçš„é‡è¦æ•°æ®æ–‡ä»¶
/var/mail   â†’ é‚®ä»¶å®¤ï¼Œå¤„ç†é‚®ä»¶æ”¶å‘
```

### 1.2 /varç›®å½•çš„é‡è¦ç‰¹æ€§


**ğŸ”¸ åŠ¨æ€å¢é•¿æ€§**
- æ–‡ä»¶å¤§å°ä¼šéšæ—¶é—´å¢é•¿ï¼ˆç‰¹åˆ«æ˜¯æ—¥å¿—æ–‡ä»¶ï¼‰
- éœ€è¦å®šæœŸæ¸…ç†å’Œç›‘æ§
- å¢é•¿é€Ÿåº¦å–å†³äºç³»ç»Ÿæ´»è·ƒç¨‹åº¦

**ğŸ”¸ ç³»ç»Ÿå…³é”®æ€§**
- è®¸å¤šæ ¸å¿ƒæœåŠ¡ä¾èµ–/varç›®å½•
- /varç©ºé—´ä¸è¶³ä¼šå¯¼è‡´æœåŠ¡å¼‚å¸¸
- éœ€è¦ç‹¬ç«‹åˆ†åŒºä»¥ä¿æŠ¤ç³»ç»Ÿç¨³å®š

**ğŸ”¸ æ•°æ®ç±»å‹å¤šæ ·**
- æ—¥å¿—æ–‡ä»¶ã€ç¼“å­˜æ•°æ®ã€ä¸´æ—¶æ–‡ä»¶
- æ•°æ®åº“æ–‡ä»¶ã€é‚®ä»¶é˜Ÿåˆ—ã€é”æ–‡ä»¶
- ä¸åŒç±»å‹æ–‡ä»¶æœ‰ä¸åŒçš„ç®¡ç†éœ€æ±‚

---

## 2. ğŸ—‚ï¸ /varç›®å½•æ ¸å¿ƒå­ç›®å½•è¯¦è§£


### 2.1 /var/log - æ—¥å¿—æ–‡ä»¶å­˜å‚¨


**ä½œç”¨è¯´æ˜**ï¼šç³»ç»Ÿå’Œåº”ç”¨ç¨‹åºçš„æ—¥å¿—æ–‡ä»¶é›†ä¸­å­˜æ”¾ä½ç½®

```
å¸¸è§æ—¥å¿—æ–‡ä»¶å¸ƒå±€ï¼š
/var/log/
â”œâ”€â”€ messages        # ç³»ç»Ÿç»¼åˆæ—¥å¿—
â”œâ”€â”€ secure         # è®¤è¯ç›¸å…³æ—¥å¿—
â”œâ”€â”€ cron          # è®¡åˆ’ä»»åŠ¡æ—¥å¿—
â”œâ”€â”€ maillog       # é‚®ä»¶æœåŠ¡æ—¥å¿—
â”œâ”€â”€ httpd/        # Apacheç½‘é¡µæœåŠ¡å™¨æ—¥å¿—
â”œâ”€â”€ mysql/        # MySQLæ•°æ®åº“æ—¥å¿—
â””â”€â”€ nginx/        # Nginxç½‘é¡µæœåŠ¡å™¨æ—¥å¿—
```

> âš ï¸ **é‡è¦æé†’**  
> æ—¥å¿—æ–‡ä»¶æ˜¯/varç›®å½•ç©ºé—´å¢é•¿çš„ä¸»è¦åŸå› ï¼Œéœ€è¦é‡ç‚¹å…³æ³¨

**å®é™…åº”ç”¨åœºæ™¯**ï¼š
- **ç³»ç»Ÿæ•…éšœæ’æŸ¥**ï¼šæŸ¥çœ‹/var/log/messageså®šä½é—®é¢˜
- **å®‰å…¨å®¡è®¡**ï¼šæ£€æŸ¥/var/log/secureå‘ç°å¼‚å¸¸ç™»å½•
- **æ€§èƒ½ç›‘æ§**ï¼šåˆ†æç½‘é¡µæœåŠ¡å™¨è®¿é—®æ—¥å¿—

### 2.2 /var/cache - ç¼“å­˜æ•°æ®å­˜å‚¨


**ä½œç”¨è¯´æ˜**ï¼šç¨‹åºè¿è¡Œæ—¶çš„ä¸´æ—¶ç¼“å­˜æ–‡ä»¶ï¼Œæé«˜ç³»ç»Ÿæ€§èƒ½

```
å…¸å‹ç¼“å­˜ç›®å½•ç»“æ„ï¼š
/var/cache/
â”œâ”€â”€ yum/          # YUMåŒ…ç®¡ç†å™¨ç¼“å­˜
â”œâ”€â”€ apt/          # APTåŒ…ç®¡ç†å™¨ç¼“å­˜ï¼ˆUbuntu/Debianï¼‰
â”œâ”€â”€ fontconfig/   # å­—ä½“ç¼“å­˜
â””â”€â”€ man/          # æ‰‹å†Œé¡µç¼“å­˜
```

**ğŸŒ± å…¥é—¨ç†è§£**ï¼š
- ç¼“å­˜å°±åƒ"å¤‡å¿˜å½•"ï¼Œå­˜å‚¨ç»å¸¸ç”¨åˆ°çš„ä¿¡æ¯
- åˆ é™¤ç¼“å­˜æ–‡ä»¶é€šå¸¸æ˜¯å®‰å…¨çš„ï¼Œç³»ç»Ÿä¼šé‡æ–°ç”Ÿæˆ
- ç¼“å­˜èƒ½åŠ å¿«ç¨‹åºå¯åŠ¨å’Œè¿è¡Œé€Ÿåº¦

**å®ç”¨æŠ€å·§**ï¼š
```bash
# æ¸…ç†YUMç¼“å­˜é‡Šæ”¾ç©ºé—´
yum clean all

# æ¸…ç†APTç¼“å­˜ï¼ˆUbuntu/Debianï¼‰
apt-get clean
```

### 2.3 /var/tmp - ä¸´æ—¶æ–‡ä»¶å¤„ç†


**ä½œç”¨è¯´æ˜**ï¼šå­˜å‚¨éœ€è¦åœ¨ç³»ç»Ÿé‡å¯åä¿ç•™çš„ä¸´æ—¶æ–‡ä»¶

| ğŸ†š å¯¹æ¯”é¡¹ | **/tmp** | **/var/tmp** |
|---------|----------|-------------|
| **ä¿ç•™æ—¶é—´** | é‡å¯åæ¸…ç©º | é‡å¯åä¿ç•™ |
| **ç”¨é€”** | çŸ­æœŸä¸´æ—¶æ–‡ä»¶ | é•¿æœŸä¸´æ—¶æ–‡ä»¶ |
| **å…¸å‹åœºæ™¯** | ç¼–è¯‘è¿‡ç¨‹æ–‡ä»¶ | å¤§æ–‡ä»¶ä¼ è¾“ç¼“å­˜ |

> ğŸ’¡ **è®°å¿†æŠ€å·§**  
> /tmpæ˜¯"ä¸´æ—¶æ—…é¦†"ï¼Œå®¢äººèµ°äº†å°±æ¸…ç©ºï¼›/var/tmpæ˜¯"é•¿ç§Ÿå…¬å¯“"ï¼Œå¯ä»¥ä½æ›´ä¹…

### 2.4 /var/lib - ç¨‹åºæ•°æ®åº“


**ä½œç”¨è¯´æ˜**ï¼šå­˜å‚¨ç¨‹åºè¿è¡Œæ—¶éœ€è¦çš„æŒä¹…åŒ–æ•°æ®æ–‡ä»¶

```
é‡è¦æ•°æ®ç›®å½•ç¤ºä¾‹ï¼š
/var/lib/
â”œâ”€â”€ mysql/        # MySQLæ•°æ®åº“æ–‡ä»¶
â”œâ”€â”€ postgresql/   # PostgreSQLæ•°æ®åº“æ–‡ä»¶
â”œâ”€â”€ rpm/          # RPMåŒ…ç®¡ç†æ•°æ®åº“
â”œâ”€â”€ yum/          # YUMçŠ¶æ€ä¿¡æ¯
â””â”€â”€ docker/       # Dockeré•œåƒå’Œå®¹å™¨æ•°æ®
```

**ğŸ”¥ ç”Ÿäº§ç¯å¢ƒé‡ç‚¹**ï¼š
- æ•°æ®åº“æ–‡ä»¶é€šå¸¸æ˜¯æœ€å¤§çš„ç©ºé—´å ç”¨è€…
- è¿™äº›æ–‡ä»¶æŸåä¼šå¯¼è‡´æœåŠ¡æ— æ³•å¯åŠ¨
- éœ€è¦å®šæœŸå¤‡ä»½é‡è¦æ•°æ®

### 2.5 /var/mail - é‚®ä»¶é˜Ÿåˆ—å­˜å‚¨


**ä½œç”¨è¯´æ˜**ï¼šæœ¬åœ°é‚®ä»¶ç³»ç»Ÿçš„é‚®ä»¶å­˜å‚¨ä½ç½®

```
é‚®ä»¶å­˜å‚¨ç»“æ„ï¼š
/var/mail/
â”œâ”€â”€ root          # rootç”¨æˆ·çš„é‚®ç®±æ–‡ä»¶
â”œâ”€â”€ admin         # adminç”¨æˆ·çš„é‚®ç®±æ–‡ä»¶
â””â”€â”€ user1         # æ™®é€šç”¨æˆ·çš„é‚®ç®±æ–‡ä»¶
```

**å®é™…åº”ç”¨**ï¼š
- ç³»ç»Ÿå®šæ—¶ä»»åŠ¡(cron)çš„è¾“å‡ºä¼šå‘é€åˆ°è¿™é‡Œ
- ç³»ç»Ÿå‘Šè­¦ä¿¡æ¯ä¹Ÿä¼šå­˜å‚¨åœ¨æ­¤
- é‚®ä»¶æ–‡ä»¶å¯èƒ½ä¼šç§¯ç´¯å¾ˆå¤§

---

## 3. ğŸ“Š æ—¥å¿—æ–‡ä»¶ç®¡ç†ç­–ç•¥


### 3.1 æ—¥å¿—è½®è½¬æœºåˆ¶


**ä»€ä¹ˆæ˜¯æ—¥å¿—è½®è½¬**ï¼š
å°±åƒåŠå…¬å®¤çš„æ–‡ä»¶å½’æ¡£ï¼Œå®šæœŸæŠŠæ—§æ—¥å¿—"æ‰“åŒ…å­˜æ¡£"ï¼Œåˆ›å»ºæ–°çš„æ—¥å¿—æ–‡ä»¶

```
æ—¥å¿—è½®è½¬è¿‡ç¨‹æ¼”ç¤ºï¼š
ç¬¬1å¤©: messages           (å½“å‰æ—¥å¿—)
ç¬¬2å¤©: messages.1         (æ˜¨å¤©çš„æ—¥å¿—)
       messages           (ä»Šå¤©çš„æ–°æ—¥å¿—)
ç¬¬3å¤©: messages.2         (å‰å¤©çš„æ—¥å¿—)
       messages.1         (æ˜¨å¤©çš„æ—¥å¿—)  
       messages           (ä»Šå¤©çš„æ—¥å¿—)
```

**logrotateé…ç½®ç¤ºä¾‹**ï¼š
```bash
# æŸ¥çœ‹æ—¥å¿—è½®è½¬é…ç½®
cat /etc/logrotate.conf

# å…¸å‹çš„æ—¥å¿—è½®è½¬è§„åˆ™
/var/log/messages {
    weekly          # æ¯å‘¨è½®è½¬ä¸€æ¬¡
    rotate 4        # ä¿ç•™4ä¸ªå†å²æ–‡ä»¶
    compress        # å‹ç¼©æ—§æ—¥å¿—æ–‡ä»¶
    missingok       # æ–‡ä»¶ä¸å­˜åœ¨ä¸æŠ¥é”™
}
```

### 3.2 æ‰‹åŠ¨æ¸…ç†æ—¥å¿—æ–‡ä»¶


**å®‰å…¨æ¸…ç†æ–¹æ³•**ï¼š

> âš ï¸ **æ³¨æ„äº‹é¡¹**  
> ä¸è¦ç›´æ¥åˆ é™¤æ­£åœ¨ä½¿ç”¨çš„æ—¥å¿—æ–‡ä»¶ï¼Œå¯èƒ½å¯¼è‡´æœåŠ¡å¼‚å¸¸

```bash
# âœ… æ­£ç¡®æ–¹æ³•ï¼šæ¸…ç©ºæ–‡ä»¶å†…å®¹è€Œä¸åˆ é™¤æ–‡ä»¶
> /var/log/messages
echo > /var/log/messages

# âœ… æˆ–è€…ä½¿ç”¨truncateå‘½ä»¤
truncate -s 0 /var/log/messages

# âŒ é”™è¯¯æ–¹æ³•ï¼šç›´æ¥åˆ é™¤
rm /var/log/messages  # å¯èƒ½å¯¼è‡´æœåŠ¡æ— æ³•å†™å…¥æ—¥å¿—
```

**æ‰¹é‡æ¸…ç†è„šæœ¬**ï¼š
```bash
#!/bin/bash
# æ¸…ç†7å¤©å‰çš„æ—¥å¿—æ–‡ä»¶
find /var/log -name "*.log" -mtime +7 -delete
find /var/log -name "*.log.*" -mtime +7 -delete
```

---

## 4. ğŸ“ˆ /varåˆ†åŒºç©ºé—´ç›‘æ§


### 4.1 ç©ºé—´ä½¿ç”¨æƒ…å†µæ£€æŸ¥


**ğŸ” å¸¸ç”¨ç›‘æ§å‘½ä»¤**ï¼š

```bash
# æŸ¥çœ‹/varåˆ†åŒºä½¿ç”¨æƒ…å†µ
df -h /var

# æŸ¥çœ‹/varç›®å½•ä¸‹å„å­ç›®å½•å¤§å°
du -sh /var/*

# æ‰¾å‡ºæœ€å¤§çš„æ–‡ä»¶ï¼ˆå‰10ä¸ªï¼‰
find /var -type f -exec ls -la {} \; | sort -k5 -rn | head -10
```

**ç›‘æ§è„šæœ¬ç¤ºä¾‹**ï¼š
```bash
#!/bin/bash
# /varåˆ†åŒºä½¿ç”¨ç‡ç›‘æ§è„šæœ¬
USAGE=$(df -h /var | tail -1 | awk '{print $5}' | sed 's/%//')

if [ $USAGE -gt 80 ]; then
    echo "è­¦å‘Šï¼š/varåˆ†åŒºä½¿ç”¨ç‡å·²è¾¾åˆ°${USAGE}%"
    echo "æœ€å¤§çš„5ä¸ªç›®å½•ï¼š"
    du -sh /var/* | sort -hr | head -5
fi
```

### 4.2 å®æ—¶ç›‘æ§è®¾ç½®


**ä½¿ç”¨cronå®šæœŸæ£€æŸ¥**ï¼š
```bash
# ç¼–è¾‘å®šæ—¶ä»»åŠ¡
crontab -e

# æ¯å°æ—¶æ£€æŸ¥ä¸€æ¬¡/varç©ºé—´ä½¿ç”¨æƒ…å†µ
0 * * * * /path/to/var_monitor.sh
```

**è®¾ç½®ç£ç›˜ä½¿ç”¨ç‡å‘Šè­¦**ï¼š
```bash
# åœ¨/etc/fstabä¸­è®¾ç½®æŒ‚è½½é€‰é¡¹
/dev/sdb1 /var ext4 defaults,usrquota 0 2
```

---

## 5. ğŸš¨ /varæ»¡ç›˜æ•…éšœå¤„ç†


### 5.1 ç´§æ€¥å¤„ç†æ­¥éª¤


**å½“/varåˆ†åŒºç©ºé—´ä¸è¶³æ—¶çš„å¤„ç†æµç¨‹**ï¼š

```
ç´§æ€¥å¤„ç†æµç¨‹ï¼š
1. ç¡®è®¤é—®é¢˜ â†’ df -h /var
2. æ‰¾å‡ºå¤§æ–‡ä»¶ â†’ du -sh /var/*
3. æ¸…ç†æ—¥å¿— â†’ æ¸…ç©ºæˆ–å‹ç¼©å¤§æ—¥å¿—æ–‡ä»¶
4. æ¸…ç†ç¼“å­˜ â†’ yum clean all
5. é‡å¯æœåŠ¡ â†’ ç¡®ä¿æœåŠ¡æ­£å¸¸
```

**ğŸ”¥ åº”æ€¥å¤„ç†å‘½ä»¤**ï¼š
```bash
# 1. ç«‹å³æ£€æŸ¥ç©ºé—´ä½¿ç”¨æƒ…å†µ
df -h /var

# 2. æ‰¾å‡ºå ç”¨ç©ºé—´æœ€å¤§çš„ç›®å½•
du -sh /var/* | sort -hr

# 3. æ¸…ç†ç³»ç»Ÿæ—¥å¿—ï¼ˆç´§æ€¥æƒ…å†µä¸‹ï¼‰
> /var/log/messages
> /var/log/secure

# 4. æ¸…ç†åŒ…ç®¡ç†å™¨ç¼“å­˜
yum clean all  # CentOS/RHEL
apt-get clean  # Ubuntu/Debian

# 5. æ¸…ç†ä¸´æ—¶æ–‡ä»¶
find /var/tmp -type f -mtime +7 -delete
```

### 5.2 é¢„é˜²æªæ–½


**ğŸ›¡ï¸ é¢„é˜²/varæ»¡ç›˜çš„ç­–ç•¥**ï¼š

1. **ç‹¬ç«‹åˆ†åŒº**ï¼šä¸º/varåˆ›å»ºç‹¬ç«‹åˆ†åŒº
2. **å®šæœŸæ¸…ç†**ï¼šè®¾ç½®è‡ªåŠ¨æ¸…ç†ä»»åŠ¡
3. **ç›‘æ§å‘Šè­¦**ï¼šè®¾ç½®ç©ºé—´ä½¿ç”¨ç‡å‘Šè­¦
4. **æ—¥å¿—è½®è½¬**ï¼šé…ç½®åˆç†çš„æ—¥å¿—è½®è½¬ç­–ç•¥

**å­˜å‚¨è§„åˆ’å»ºè®®**ï¼š

| **ç³»ç»Ÿç±»å‹** | **æ¨è/varåˆ†åŒºå¤§å°** | **ä¸»è¦è€ƒè™‘å› ç´ ** |
|-------------|-------------------|-----------------|
| ğŸ–¥ï¸ **æ¡Œé¢ç³»ç»Ÿ** | 5-10GB | ä¸»è¦æ˜¯ç³»ç»Ÿæ—¥å¿— |
| ğŸŒ **WebæœåŠ¡å™¨** | 20-50GB | è®¿é—®æ—¥å¿—è¾ƒå¤š |
| ğŸ—„ï¸ **æ•°æ®åº“æœåŠ¡å™¨** | 50-100GB+ | æ•°æ®åº“æ–‡ä»¶å¤§ |
| ğŸ“§ **é‚®ä»¶æœåŠ¡å™¨** | 30-100GB+ | é‚®ä»¶å­˜å‚¨éœ€æ±‚ |

---

## 6. ğŸ¢ å®é™…ç”Ÿäº§ç¯å¢ƒæœ€ä½³å®è·µ


### 6.1 /varç›®å½•ä¼˜åŒ–é…ç½®


**ç”Ÿäº§ç¯å¢ƒæ¨èé…ç½®**ï¼š

```bash
# 1. ä¸ºé‡è¦æœåŠ¡åˆ›å»ºç‹¬ç«‹çš„æ—¥å¿—åˆ†åŒº
/dev/sdc1 /var/log/mysql   ext4 defaults 0 2
/dev/sdd1 /var/log/httpd   ext4 defaults 0 2

# 2. è®¾ç½®æ—¥å¿—æ–‡ä»¶æƒé™
chmod 640 /var/log/secure
chown root:adm /var/log/*

# 3. é…ç½®æ—¥å¿—è½®è½¬
cat > /etc/logrotate.d/custom << EOF
/var/log/application/*.log {
    daily
    rotate 30
    compress
    delaycompress
    missingok
    create 0644 app app
}
EOF
```

### 6.2 ç›‘æ§å’Œç»´æŠ¤è‡ªåŠ¨åŒ–


**è‡ªåŠ¨åŒ–ç»´æŠ¤è„šæœ¬**ï¼š
```bash
#!/bin/bash
# /varç›®å½•ç»´æŠ¤è„šæœ¬
LOG_FILE="/var/log/var_maintenance.log"
DATE=$(date '+%Y-%m-%d %H:%M:%S')

echo "[$DATE] å¼€å§‹/varç›®å½•ç»´æŠ¤" >> $LOG_FILE

# æ¸…ç†30å¤©å‰çš„æ—¥å¿—æ–‡ä»¶
find /var/log -name "*.log.*" -mtime +30 -delete

# æ¸…ç†åŒ…ç®¡ç†ç¼“å­˜
yum clean all >/dev/null 2>&1

# æ¸…ç†ä¸´æ—¶æ–‡ä»¶
find /var/tmp -type f -mtime +7 -delete

# è®°å½•å½“å‰ç©ºé—´ä½¿ç”¨æƒ…å†µ
df -h /var >> $LOG_FILE
echo "[$DATE] /varç›®å½•ç»´æŠ¤å®Œæˆ" >> $LOG_FILE
```

### 6.3 å¤‡ä»½ç­–ç•¥


**é‡è¦æ•°æ®å¤‡ä»½æ–¹æ¡ˆ**ï¼š

> ğŸ“Œ **å…³é”®æé†’**  
> /var/libç›®å½•åŒ…å«é‡è¦çš„ç¨‹åºæ•°æ®ï¼Œå¿…é¡»å®šæœŸå¤‡ä»½

```bash
# æ•°æ®åº“æ–‡ä»¶å¤‡ä»½
mysqldump -u root -p --all-databases > /backup/mysql_backup.sql

# é‡è¦é…ç½®å’Œæ•°æ®ç›®å½•å¤‡ä»½
tar -czf /backup/var_lib_backup.tar.gz /var/lib/important_service/

# ç³»ç»ŸçŠ¶æ€å¤‡ä»½
cp -r /var/lib/rpm /backup/rpm_database_backup/
```

---

## 7. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 7.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ /varç›®å½•æœ¬è´¨ï¼šå­˜å‚¨ç³»ç»Ÿè¿è¡ŒæœŸé—´çš„å¯å˜æ•°æ®
ğŸ”¸ å…³é”®å­ç›®å½•ï¼š/log(æ—¥å¿—)ã€/cache(ç¼“å­˜)ã€/lib(æ•°æ®)ã€/tmp(ä¸´æ—¶æ–‡ä»¶)
ğŸ”¸ ç©ºé—´ç®¡ç†ï¼šå®šæœŸæ¸…ç†ã€ç›‘æ§ä½¿ç”¨ç‡ã€è®¾ç½®è½®è½¬ç­–ç•¥
ğŸ”¸ æ•…éšœå¤„ç†ï¼šå¿«é€Ÿå®šä½å¤§æ–‡ä»¶ã€å®‰å…¨æ¸…ç†ã€æœåŠ¡æ¢å¤
ğŸ”¸ é¢„é˜²æªæ–½ï¼šç‹¬ç«‹åˆ†åŒºã€è‡ªåŠ¨åŒ–ç»´æŠ¤ã€åˆç†è§„åˆ’å­˜å‚¨
```

### 7.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ ä¸ºä»€ä¹ˆ/varç›®å½•å¦‚æ­¤é‡è¦**ï¼š
```
ç³»ç»Ÿè¿è¡Œä¾èµ–ï¼š
- æ—¥å¿—è®°å½•ï¼šç³»ç»Ÿé—®é¢˜è¯Šæ–­çš„å”¯ä¸€é€”å¾„
- ç¨‹åºæ•°æ®ï¼šæ•°æ®åº“ç­‰å…³é”®æœåŠ¡çš„æ•°æ®å­˜å‚¨
- ç¼“å­˜æœºåˆ¶ï¼šæé«˜ç³»ç»Ÿæ€§èƒ½çš„é‡è¦æ‰‹æ®µ
- ä¸´æ—¶å¤„ç†ï¼šç³»ç»Ÿå„ç§ä¸´æ—¶ä»»åŠ¡çš„å·¥ä½œç©ºé—´
```

**ğŸ”¹ /varæ»¡ç›˜ä¸ºä»€ä¹ˆå±é™©**ï¼š
```
è¿é”ååº”ï¼š
- æ— æ³•å†™å…¥æ—¥å¿— â†’ æ— æ³•è¯Šæ–­é—®é¢˜
- ç¨‹åºæ— æ³•åˆ›å»ºä¸´æ—¶æ–‡ä»¶ â†’ æœåŠ¡å¼‚å¸¸
- æ•°æ®åº“æ— æ³•æ‰©å±• â†’ åº”ç”¨ç¨‹åºå´©æºƒ
- ç³»ç»ŸæœåŠ¡å¼‚å¸¸ â†’ æ•´ä¸ªæœåŠ¡å™¨ä¸å¯ç”¨
```

**ğŸ”¹ æ—¥å¿—ç®¡ç†çš„å¹³è¡¡è‰ºæœ¯**ï¼š
```
éœ€è¦å¹³è¡¡çš„å› ç´ ï¼š
- è¯¦ç»†åº¦ vs ç£ç›˜ç©ºé—´ï¼šæ—¥å¿—å¤ªè¯¦ç»†å ç©ºé—´ï¼Œå¤ªç®€å•æŸ¥ä¸å‡ºé—®é¢˜
- ä¿ç•™æœŸ vs å­˜å‚¨æˆæœ¬ï¼šä¿ç•™å¤ªä¹…æµªè´¹ç©ºé—´ï¼Œä¿ç•™å¤ªçŸ­ä¸¢å¤±å†å²
- å®æ—¶æ€§ vs æ€§èƒ½å½±å“ï¼šé¢‘ç¹å†™æ—¥å¿—å½±å“æ€§èƒ½ï¼Œä¸å†™æ— æ³•ç›‘æ§
```

### 7.3 å®é™…åº”ç”¨æŒ‡å¯¼


**ğŸ“± æ—¥å¸¸è¿ç»´æ£€æŸ¥æ¸…å•**ï¼š
- [ ] æ¯æ—¥æ£€æŸ¥/varåˆ†åŒºä½¿ç”¨ç‡
- [ ] æ¯å‘¨æ¸…ç†è¿‡æœŸçš„æ—¥å¿—æ–‡ä»¶
- [ ] æ¯æœˆæ£€æŸ¥æ—¥å¿—è½®è½¬é…ç½®
- [ ] æ¯å­£åº¦è¯„ä¼°å­˜å‚¨å®¹é‡éœ€æ±‚

**ğŸš¨ æ•…éšœå¤„ç†ä¼˜å…ˆçº§**ï¼š
1. **ç«‹å³å¤„ç†**ï¼š/varä½¿ç”¨ç‡>95%
2. **å½“å¤©å¤„ç†**ï¼š/varä½¿ç”¨ç‡>85%
3. **æœ¬å‘¨å¤„ç†**ï¼š/varä½¿ç”¨ç‡>75%
4. **å®šæœŸæ£€æŸ¥**ï¼š/varä½¿ç”¨ç‡<75%

**ğŸ”§ è¿ç»´æœ€ä½³å®è·µ**ï¼š
```
é¢„é˜²èƒœäºæ²»ç–—ï¼š
- ç‹¬ç«‹åˆ†åŒºï¼šé¿å…/varæ»¡ç›˜å½±å“æ ¹åˆ†åŒº
- è‡ªåŠ¨åŒ–ç›‘æ§ï¼šåŠæ—¶å‘ç°é—®é¢˜
- å®šæœŸæ¸…ç†ï¼šä¿æŒç³»ç»Ÿå¥åº·
- å®¹é‡è§„åˆ’ï¼šæ ¹æ®ä¸šåŠ¡å¢é•¿é¢„ç•™ç©ºé—´
```

### 7.4 å­¦ä¹ è¿›é˜¶è·¯å¾„


**ğŸŒ± åˆçº§ç›®æ ‡**ï¼š
- ç†è§£/varç›®å½•çš„åŸºæœ¬ä½œç”¨
- æŒæ¡åŸºæœ¬çš„ç©ºé—´æ£€æŸ¥å‘½ä»¤
- èƒ½å¤Ÿè¿›è¡Œç®€å•çš„æ—¥å¿—æ¸…ç†

**ğŸŒ¿ ä¸­çº§ç›®æ ‡**ï¼š
- é…ç½®æ—¥å¿—è½®è½¬ç­–ç•¥
- ç¼–å†™ç®€å•çš„ç›‘æ§è„šæœ¬
- å¤„ç†å¸¸è§çš„æ»¡ç›˜æ•…éšœ

**ğŸŒ³ é«˜çº§ç›®æ ‡**ï¼š
- è®¾è®¡å®Œæ•´çš„/varç®¡ç†æ–¹æ¡ˆ
- ä¼˜åŒ–ç³»ç»Ÿæ€§èƒ½å’Œç¨³å®šæ€§
- å®ç°è‡ªåŠ¨åŒ–è¿ç»´ç®¡ç†

**æ ¸å¿ƒè®°å¿†å£è¯€**ï¼š
```
/varç›®å½•å˜åŒ–å¤§ï¼Œæ—¥å¿—ç¼“å­˜è¦ç®¡å®¶
ç©ºé—´ä¸è¶³æœåŠ¡å®ï¼Œç›‘æ§æ¸…ç†æ˜¯ç‹ç‰Œ
åˆ†åŒºç‹¬ç«‹ä¿å®‰å…¨ï¼Œè½®è½¬å¤‡ä»½ä¸å¯å°‘
é¢„é˜²ä¸ºä¸»æ²»æœªç—…ï¼Œç³»ç»Ÿç¨³å®šä¹å“ˆå“ˆ
```