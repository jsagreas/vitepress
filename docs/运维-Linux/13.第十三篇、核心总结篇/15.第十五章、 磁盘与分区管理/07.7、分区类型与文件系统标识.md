---
title: 7、分区类型与文件系统标识
---
## 📚 目录

1. [分区类型基础概念](#1-分区类型基础概念)
2. [Linux常见分区类型详解](#2-Linux常见分区类型详解)
3. [分区类型查看与修改](#3-分区类型查看与修改)
4. [文件系统检测工具](#4-文件系统检测工具)
5. [实践应用场景](#5-实践应用场景)
6. [核心要点总结](#6-核心要点总结)

---

## 1. 🔍 分区类型基础概念


### 1.1 什么是分区类型


💭 **通俗理解**：分区类型就像给硬盘的每个区域贴上"标签"，告诉系统这块区域是用来干什么的。

🏷️ **分区类型标识** = 一个数字代号，表示分区的用途和文件系统类型

```
生活类比：
公寓楼的房间标识：
- 101：住宅用房
- B01：储藏室  
- G01：停车位

硬盘分区标识：
- 83：Linux数据分区
- 82：Linux交换分区
- 8e：LVM分区
```

### 1.2 为什么需要分区类型


🎯 **核心作用**：
- **系统识别**：帮助操作系统识别分区用途
- **工具支持**：各种磁盘管理工具根据类型进行操作
- **启动识别**：引导程序识别系统分区
- **自动挂载**：系统可以自动处理不同类型的分区

⚡ **实际意义**：
- 告诉Linux哪个是根分区、哪个是交换分区
- 防止误操作（比如格式化系统分区）
- 支持特殊功能（如LVM、RAID等）

---

## 2. 🏗️ Linux常见分区类型详解


### 2.1 Linux文件系统分区（83）


🔸 **类型代码**：`83`（十六进制）
🔸 **用途**：存储Linux文件系统的普通数据分区

💡 **具体用途**：
- 根分区（`/`）
- 用户目录分区（`/home`）
- 程序分区（`/usr`）
- 变量数据分区（`/var`）

```
典型Linux分区布局：
/dev/sda1  →  类型83  →  根分区(/)
/dev/sda2  →  类型82  →  交换分区
/dev/sda3  →  类型83  →  /home分区
```

🌰 **举个例子**：你的电脑硬盘分成几个区，一个装系统文件，一个放个人文档，这些都是83类型的分区。

### 2.2 Swap交换分区（82）


🔸 **类型代码**：`82`（十六进制）
🔸 **用途**：Linux系统的虚拟内存区域

🤔 **为什么需要交换分区**：
- 当物理内存不够用时，把暂时不用的数据存到硬盘上
- 类似Windows的虚拟内存文件
- 支持休眠功能（把内存数据保存到swap）

📊 **大小建议**：
| 物理内存 | 推荐Swap大小 | 说明 |
|---------|-------------|------|
| ≤ 2GB | 内存的2倍 | 保证基本运行 |
| 2-8GB | 等于内存大小 | 平衡性能和空间 |
| > 8GB | 2-4GB | 现代系统通常够用 |

### 2.3 LVM分区（8e）


🔸 **类型代码**：`8e`（十六进制）
🔸 **用途**：逻辑卷管理（Logical Volume Manager）

🏷️ **LVM** = 把多个硬盘或分区组合成一个大的存储池，可以灵活调整大小

💪 **LVM的优势**：
```
传统分区：固定大小，难以调整
┌─────┬─────┬─────┐
│ 20G │ 30G │ 50G │
└─────┴─────┴─────┘

LVM：可以动态调整大小
┌─────────────────────┐
│    100G存储池       │
├─────┬─────┬─────────┤
│ 25G │ 35G │  40G    │ ← 可以随时调整
└─────┴─────┴─────────┘
```

### 2.4 EFI系统分区


🔸 **类型代码**：`ef00`或`ef`
🔸 **用途**：UEFI固件的系统分区

🏷️ **EFI系统分区** = 现代计算机启动时UEFI固件读取的特殊分区

⭐ **特点**：
- 必须是FAT32文件系统
- 通常挂载到`/boot/efi`
- 存放引导加载程序
- 大小通常100-512MB

### 2.5 Microsoft基本数据分区


🔸 **类型代码**：`07`（NTFS）、`0c`（FAT32）
🔸 **用途**：Windows系统使用的分区

🔄 **双系统场景**：
- 在Linux系统中可以识别和挂载
- 用于访问Windows分区中的数据
- 需要安装`ntfs-3g`支持写入操作

---

## 3. 🔧 分区类型查看与修改


### 3.1 使用fdisk查看分区类型


```bash
# 列出所有磁盘和分区
fdisk -l

# 查看特定磁盘
fdisk -l /dev/sda

# 进入交互式模式
fdisk /dev/sda
```

📋 **fdisk输出解读**：
```
设备        启动  起始点   末尾   扇区   大小  Id  类型
/dev/sda1   *      2048 1050623 1048576  512M  83  Linux
/dev/sda2       1052670 41943039 40890370 19.5G  82  Linux swap / Solaris
/dev/sda3       1050624 1052669    2046 1000K  83  Linux
```

🔍 **关键信息**：
- **Id列**：显示分区类型的十六进制代码
- **类型列**：显示分区类型的文字说明
- **启动列**：`*`表示可启动分区

### 3.2 使用parted查看分区信息


```bash
# 列出所有磁盘
parted -l

# 查看特定磁盘
parted /dev/sda print
```

📊 **parted输出示例**：
```
型号: ATA ST1000LM024 HN-M (scsi)
磁盘 /dev/sda: 1000GB
扇区大小 (逻辑/物理)：512B/4096B
分区表：gpt

数字  起始点  结束点  大小     文件系统     名称  标志
 1    1049kB  538MB   537MB   fat32        EFI   boot, esp
 2    538MB   1612MB  1074MB  ext4
 3    1612MB  17.2GB  15.6GB  linux-swap(v1)
```

### 3.3 修改分区类型


⚠️ **重要提醒**：修改分区类型不会改变其中的数据，只是改变标识

**使用fdisk修改**：
```bash
fdisk /dev/sda
# 进入交互模式后：
# t - 改变分区类型
# 选择分区号
# 输入新的类型代码（如82表示swap）
# w - 写入更改并退出
```

**使用parted修改**：
```bash
parted /dev/sda
(parted) set 2 swap on    # 将分区2设置为swap
(parted) quit
```

---

## 4. 🔍 文件系统检测工具


### 4.1 blkid命令详解


🏷️ **blkid** = 显示块设备的文件系统信息和UUID

```bash
# 显示所有块设备信息
blkid

# 查看特定设备
blkid /dev/sda1

# 只显示特定信息
blkid -o value -s TYPE /dev/sda1  # 只显示文件系统类型
blkid -o value -s UUID /dev/sda1  # 只显示UUID
```

📋 **blkid输出解读**：
```
/dev/sda1: UUID="C2F8-1A2B" TYPE="vfat" PARTUUID="12345678-1"
/dev/sda2: UUID="a1b2c3d4-e5f6-7890-abcd-ef1234567890" TYPE="ext4" PARTUUID="12345678-2"
/dev/sda3: UUID="87654321-abcd-ef12-3456-789012345678" TYPE="swap" PARTUUID="12345678-3"
```

🔑 **关键信息含义**：
- **UUID**：分区的唯一标识符
- **TYPE**：文件系统类型（vfat、ext4、swap等）
- **PARTUUID**：GPT分区的唯一标识符

### 4.2 lsblk命令


🏷️ **lsblk** = 以树形结构显示所有块设备

```bash
# 显示所有块设备
lsblk

# 显示文件系统信息
lsblk -f

# 显示更多详细信息
lsblk -o NAME,SIZE,TYPE,MOUNTPOINT,FSTYPE,UUID
```

🌳 **输出示例**：
```
NAME   MAJ:MIN RM   SIZE RO TYPE MOUNTPOINT
sda      8:0    0 931.5G  0 disk 
├─sda1   8:1    0   512M  0 part /boot/efi
├─sda2   8:2    0    20G  0 part /
└─sda3   8:3    0     2G  0 part [SWAP]
```

### 4.3 file命令检测文件系统


```bash
# 检测分区的文件系统类型
file -sL /dev/sda1

# 检测未挂载分区
file -s /dev/sda2
```

📊 **检测结果示例**：
```
/dev/sda1: DOS/MBR boot sector, code offset 0x3c+2, OEM-ID "mkfs.fat", sectors/cluster 1, reserved sectors 32, root entries 0, Media descriptor 0xf8, sectors/track 63, heads 255, hidden sectors 2048, sectors 1048576 (volumes > 32 MB), FAT (32 bit), sectors/FAT 1024, serial number 0xc2f81a2b, unlabeled
```

---

## 5. 🛠️ 实践应用场景


### 5.1 新硬盘分区规划


📋 **典型Linux服务器分区方案**：
```
/dev/sda1  →  512MB   →  EFI系统分区（ef00）
/dev/sda2  →  20GB    →  根分区（8300/83）
/dev/sda3  →  4GB     →  交换分区（8200/82）
/dev/sda4  →  剩余    →  /home分区（8300/83）
```

### 5.2 双系统环境


🔄 **Windows + Linux双系统**：
```
/dev/sda1  →  100MB   →  Windows系统保留分区
/dev/sda2  →  512MB   →  EFI系统分区
/dev/sda3  →  100GB   →  Windows C:盘（NTFS）
/dev/sda4  →  30GB    →  Linux根分区
/dev/sda5  →  2GB     →  Linux交换分区
```

### 5.3 服务器存储规划


🏢 **企业级LVM方案**：
```
物理分区：
/dev/sda1  →  类型8e  →  加入VG
/dev/sdb1  →  类型8e  →  加入VG  
/dev/sdc1  →  类型8e  →  加入VG

逻辑卷：
lv_root    →  20GB   →  /
lv_home    →  50GB   →  /home
lv_var     →  30GB   →  /var
lv_backup  →  100GB  →  /backup
```

### 5.4 故障排除场景


🚨 **常见问题处理**：

**问题1**：系统无法识别swap分区
```bash
# 检查分区类型
fdisk -l /dev/sda
# 如果不是82，需要修改
fdisk /dev/sda  # 使用t命令改为82
```

**问题2**：无法挂载Windows分区
```bash
# 检查分区类型和文件系统
blkid /dev/sda3
# 安装NTFS支持
apt install ntfs-3g  # Ubuntu/Debian
yum install ntfs-3g  # CentOS/RHEL
```

---

## 6. 📋 核心要点总结


### 6.1 必须掌握的基本概念


```
🔸 分区类型：用数字标识分区用途的标签系统
🔸 Linux分区（83）：存储Linux文件系统的普通分区
🔸 交换分区（82）：Linux虚拟内存分区，支持休眠功能
🔸 LVM分区（8e）：可动态调整大小的逻辑卷管理分区
🔸 EFI分区（ef）：UEFI固件启动所需的特殊分区
```

### 6.2 关键理解要点


**🔹 分区类型的作用**
```
不是技术限制：类型标识主要用于工具识别和管理
系统识别：帮助操作系统和工具程序理解分区用途
管理便利：支持自动化操作和防止误操作
启动支持：某些类型对系统启动有特殊意义
```

**🔹 查看工具的区别**
```
fdisk：传统工具，显示分区类型代码
parted：现代工具，支持GPT，显示更友好
blkid：专注文件系统信息，显示UUID和类型
lsblk：树形结构显示，直观展示层次关系
```

**🔹 修改分区类型的注意事项**
```
只改标识：不会影响分区中的实际数据
需重启：某些更改需要重启系统才能生效
谨慎操作：特别是系统分区和引导分区
备份重要：修改前务必备份重要数据
```

### 6.3 实际应用价值


**🎯 日常运维**：
- **系统安装**：合理规划分区类型，确保系统正常运行
- **磁盘管理**：通过分区类型快速识别分区用途
- **故障排除**：根据分区类型判断和解决问题
- **性能优化**：合理使用swap和LVM提升系统性能

**🔧 实用技能**：
- 能够查看和识别各种分区类型
- 掌握修改分区类型的方法和注意事项
- 了解不同文件系统检测工具的特点和用法
- 具备规划新系统分区方案的能力

**💡 关键记忆**：
- 83是Linux数据分区，82是交换分区，8e是LVM分区
- blkid看文件系统信息，fdisk看分区类型代码
- 修改分区类型只改标识不改数据
- EFI分区对UEFI启动系统必不可少

**🎓 学习建议**：
- 在虚拟机中实际操作各种分区类型
- 熟练掌握fdisk、parted、blkid等工具的使用
- 了解不同Linux发行版的默认分区方案
- 学习LVM的基本概念和操作方法