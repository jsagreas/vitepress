---
title: 3ã€æ¨¡æ€æ¡†JavaScriptæ§åˆ¶
---
## ğŸ“š ç›®å½•

1. [æ¨¡æ€æ¡†JavaScript APIåŸºç¡€](#1-æ¨¡æ€æ¡†JavaScript-APIåŸºç¡€)
2. [æ¨¡æ€æ¡†æ§åˆ¶æ–¹æ³•è¯¦è§£](#2-æ¨¡æ€æ¡†æ§åˆ¶æ–¹æ³•è¯¦è§£)
3. [æ¨¡æ€æ¡†äº‹ä»¶ç›‘å¬æœºåˆ¶](#3-æ¨¡æ€æ¡†äº‹ä»¶ç›‘å¬æœºåˆ¶)
4. [åŠ¨æ€åˆ›å»ºå’Œé…ç½®é€‰é¡¹](#4-åŠ¨æ€åˆ›å»ºå’Œé…ç½®é€‰é¡¹)
5. [æ•°æ®ä¼ é€’ä¸è¿œç¨‹å†…å®¹](#5-æ•°æ®ä¼ é€’ä¸è¿œç¨‹å†…å®¹)
6. [å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ](#6-å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ)
7. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#7-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ¯ æ¨¡æ€æ¡†JavaScript APIåŸºç¡€


### 1.1 ä»€ä¹ˆæ˜¯æ¨¡æ€æ¡†JavaScript API


**ç®€å•ç†è§£**ï¼šå°±åƒç”¨é¥æ§å™¨æ§åˆ¶ç”µè§†ä¸€æ ·ï¼ŒJavaScript APIè®©æˆ‘ä»¬å¯ä»¥ç”¨ä»£ç æ¥æ§åˆ¶æ¨¡æ€æ¡†çš„æ˜¾ç¤ºã€éšè—ç­‰æ“ä½œã€‚

```
ä¼ ç»Ÿæ–¹å¼ï¼šç‚¹å‡»æŒ‰é’® â†’ æ¨¡æ€æ¡†å¼¹å‡º
JavaScriptæ§åˆ¶ï¼šå†™ä»£ç  â†’ ç²¾ç¡®æ§åˆ¶æ¨¡æ€æ¡†è¡Œä¸º
```

### 1.2 è·å–æ¨¡æ€æ¡†å®ä¾‹


**æ ¸å¿ƒæ¦‚å¿µ**ï¼šè¦æ§åˆ¶æ¨¡æ€æ¡†ï¼Œé¦–å…ˆå¾—"æ‰¾åˆ°"å®ƒ

```javascript
// æ–¹æ³•1ï¼šé€šè¿‡é€‰æ‹©å™¨è·å–
const myModal = new bootstrap.Modal('#myModal');

// æ–¹æ³•2ï¼šä»ç°æœ‰å…ƒç´ è·å–å®ä¾‹
const modalElement = document.getElementById('myModal');
const modal = bootstrap.Modal.getOrCreateInstance(modalElement);
```

**å®é™…åœºæ™¯ä¸¾ä¾‹**ï¼š
```html
<!-- HTMLä¸­çš„æ¨¡æ€æ¡† -->
<div class="modal" id="userModal">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5>ç”¨æˆ·ä¿¡æ¯</h5>
      </div>
      <div class="modal-body">
        <!-- å†…å®¹åŒºåŸŸ -->
      </div>
    </div>
  </div>
</div>
```

```javascript
// JavaScriptä¸­è·å–å¹¶æ§åˆ¶
const userModal = new bootstrap.Modal('#userModal');
```

---

## 2. âš™ï¸ æ¨¡æ€æ¡†æ§åˆ¶æ–¹æ³•è¯¦è§£


### 2.1 show() - æ˜¾ç¤ºæ¨¡æ€æ¡†


**ä½œç”¨**ï¼šè®©æ¨¡æ€æ¡†å¼¹å‡ºæ˜¾ç¤º

```javascript
// åŸºæœ¬ç”¨æ³•
const modal = new bootstrap.Modal('#myModal');
modal.show();  // æ˜¾ç¤ºæ¨¡æ€æ¡†
```

**å®é™…åº”ç”¨åœºæ™¯**ï¼š
```javascript
// ç™»å½•æˆåŠŸåæ˜¾ç¤ºæ¬¢è¿æ¨¡æ€æ¡†
function loginSuccess() {
    const welcomeModal = new bootstrap.Modal('#welcomeModal');
    welcomeModal.show();
}

// è¡¨å•éªŒè¯å¤±è´¥æ—¶æ˜¾ç¤ºé”™è¯¯æ¨¡æ€æ¡†
function showErrorModal(message) {
    document.querySelector('#errorModal .modal-body').textContent = message;
    const errorModal = new bootstrap.Modal('#errorModal');
    errorModal.show();
}
```

### 2.2 hide() - éšè—æ¨¡æ€æ¡†


**ä½œç”¨**ï¼šè®©æ¨¡æ€æ¡†å…³é—­æ¶ˆå¤±

```javascript
// åŸºæœ¬ç”¨æ³•
modal.hide();  // éšè—æ¨¡æ€æ¡†
```

**å®é™…åº”ç”¨**ï¼š
```javascript
// 3ç§’åè‡ªåŠ¨å…³é—­æç¤ºæ¨¡æ€æ¡†
function showTip(message) {
    document.querySelector('#tipModal .modal-body').textContent = message;
    const tipModal = new bootstrap.Modal('#tipModal');
    tipModal.show();
    
    // 3ç§’åè‡ªåŠ¨å…³é—­
    setTimeout(() => {
        tipModal.hide();
    }, 3000);
}
```

### 2.3 toggle() - åˆ‡æ¢æ¨¡æ€æ¡†çŠ¶æ€


**ä½œç”¨**ï¼šå¦‚æœæ¨¡æ€æ¡†æ˜¯æ˜¾ç¤ºçš„å°±éšè—ï¼Œå¦‚æœæ˜¯éšè—çš„å°±æ˜¾ç¤º

```javascript
// ä¸€ä¸ªæŒ‰é’®æ§åˆ¶æ¨¡æ€æ¡†çš„æ˜¾ç¤º/éšè—
document.getElementById('toggleBtn').addEventListener('click', () => {
    const modal = new bootstrap.Modal('#myModal');
    modal.toggle();  // åˆ‡æ¢çŠ¶æ€
});
```

### 2.4 å¤„ç†é™æ€æ¨¡æ€æ¡†


**æ¦‚å¿µè§£é‡Š**ï¼šæœ‰æ—¶æˆ‘ä»¬å¸Œæœ›ç”¨æˆ·å¿…é¡»å®ŒæˆæŸä¸ªæ“ä½œæ‰èƒ½å…³é—­æ¨¡æ€æ¡†

```javascript
// åˆ›å»ºä¸èƒ½é€šè¿‡ç‚¹å‡»èƒŒæ™¯å…³é—­çš„æ¨¡æ€æ¡†
const importantModal = new bootstrap.Modal('#importantModal', {
    backdrop: 'static',  // ç‚¹å‡»èƒŒæ™¯ä¸å…³é—­
    keyboard: false      // æŒ‰ESCé”®ä¸å…³é—­
});
```

---

## 3. ğŸª æ¨¡æ€æ¡†äº‹ä»¶ç›‘å¬æœºåˆ¶


### 3.1 æ ¸å¿ƒäº‹ä»¶ç±»å‹


**äº‹ä»¶ç”Ÿå‘½å‘¨æœŸå›¾ç¤º**ï¼š
```
ç‚¹å‡»æ‰“å¼€æŒ‰é’®
     â†“
show.bs.modaläº‹ä»¶  (å‡†å¤‡æ˜¾ç¤º)
     â†“
shown.bs.modaläº‹ä»¶ (å®Œå…¨æ˜¾ç¤º)
     â†“
[ç”¨æˆ·æ“ä½œæ¨¡æ€æ¡†]
     â†“
hide.bs.modaläº‹ä»¶  (å‡†å¤‡å…³é—­)
     â†“
hidden.bs.modaläº‹ä»¶ (å®Œå…¨å…³é—­)
```

### 3.2 show.bs.modal - å‡†å¤‡æ˜¾ç¤ºäº‹ä»¶


**è§¦å‘æ—¶æœº**ï¼šæ¨¡æ€æ¡†å¼€å§‹æ˜¾ç¤ºåŠ¨ç”»ä¹‹å‰

```javascript
document.getElementById('myModal').addEventListener('show.bs.modal', (event) => {
    console.log('æ¨¡æ€æ¡†å‡†å¤‡æ˜¾ç¤º');
    // å¯ä»¥åœ¨è¿™é‡Œå‡†å¤‡æ•°æ®ã€éªŒè¯æƒé™ç­‰
});
```

**å®é™…åº”ç”¨**ï¼š
```javascript
// åœ¨æ¨¡æ€æ¡†æ˜¾ç¤ºå‰åŠ è½½ç”¨æˆ·æ•°æ®
document.getElementById('userModal').addEventListener('show.bs.modal', (event) => {
    const userId = event.relatedTarget.dataset.userId;  // è·å–è§¦å‘æŒ‰é’®çš„ç”¨æˆ·ID
    loadUserData(userId);  // åŠ è½½ç”¨æˆ·æ•°æ®
});
```

### 3.3 shown.bs.modal - å®Œå…¨æ˜¾ç¤ºäº‹ä»¶


**è§¦å‘æ—¶æœº**ï¼šæ¨¡æ€æ¡†æ˜¾ç¤ºåŠ¨ç”»å®Œæˆå

```javascript
document.getElementById('myModal').addEventListener('shown.bs.modal', (event) => {
    // æ¨¡æ€æ¡†å®Œå…¨æ˜¾ç¤ºåï¼Œè‡ªåŠ¨èšç„¦åˆ°è¾“å…¥æ¡†
    document.querySelector('#myModal input').focus();
});
```

### 3.4 hide.bs.modal - å‡†å¤‡å…³é—­äº‹ä»¶


**è§¦å‘æ—¶æœº**ï¼šæ¨¡æ€æ¡†å¼€å§‹å…³é—­åŠ¨ç”»ä¹‹å‰

```javascript
document.getElementById('myModal').addEventListener('hide.bs.modal', (event) => {
    // å¯ä»¥åœ¨è¿™é‡ŒéªŒè¯è¡¨å•ã€ç¡®è®¤å…³é—­ç­‰
    if (!confirm('ç¡®å®šè¦å…³é—­å—ï¼Ÿ')) {
        event.preventDefault();  // é˜»æ­¢å…³é—­
    }
});
```

### 3.5 hidden.bs.modal - å®Œå…¨å…³é—­äº‹ä»¶


**è§¦å‘æ—¶æœº**ï¼šæ¨¡æ€æ¡†å…³é—­åŠ¨ç”»å®Œæˆå

```javascript
document.getElementById('myModal').addEventListener('hidden.bs.modal', (event) => {
    // æ¸…ç†æ•°æ®ã€é‡ç½®è¡¨å•ç­‰
    document.querySelector('#myModal form').reset();
});
```

### 3.6 å®é™…åº”ç”¨ç¤ºä¾‹


```javascript
// å®Œæ•´çš„æ¨¡æ€æ¡†äº‹ä»¶ç›‘å¬ç¤ºä¾‹
const modal = document.getElementById('productModal');

// æ˜¾ç¤ºå‰å‡†å¤‡æ•°æ®
modal.addEventListener('show.bs.modal', (event) => {
    const button = event.relatedTarget;  // è§¦å‘æ¨¡æ€æ¡†çš„æŒ‰é’®
    const productId = button.dataset.productId;
    
    // æ˜¾ç¤ºåŠ è½½çŠ¶æ€
    modal.querySelector('.modal-body').innerHTML = '<div class="text-center">åŠ è½½ä¸­...</div>';
});

// æ˜¾ç¤ºå®Œæˆåçš„æ“ä½œ
modal.addEventListener('shown.bs.modal', (event) => {
    // èšç„¦åˆ°ç¬¬ä¸€ä¸ªè¾“å…¥æ¡†
    modal.querySelector('input').focus();
});

// å…³é—­å®Œæˆåæ¸…ç†
modal.addEventListener('hidden.bs.modal', (event) => {
    // æ¸…ç©ºå†…å®¹ï¼Œé¿å…ä¸‹æ¬¡æ˜¾ç¤ºæ—§æ•°æ®
    modal.querySelector('.modal-body').innerHTML = '';
});
```

---

## 4. ğŸ› ï¸ åŠ¨æ€åˆ›å»ºå’Œé…ç½®é€‰é¡¹


### 4.1 é…ç½®é€‰é¡¹è¯¦è§£


**backdropé€‰é¡¹**ï¼šæ§åˆ¶èƒŒæ™¯è¡Œä¸º
```javascript
const modal = new bootstrap.Modal('#myModal', {
    backdrop: true,     // é»˜è®¤å€¼ï¼Œç‚¹å‡»èƒŒæ™¯å…³é—­
    backdrop: false,    // ä¸æ˜¾ç¤ºèƒŒæ™¯é®ç½©
    backdrop: 'static'  // æ˜¾ç¤ºèƒŒæ™¯ä½†ç‚¹å‡»ä¸å…³é—­
});
```

**keyboardé€‰é¡¹**ï¼šæ§åˆ¶é”®ç›˜è¡Œä¸º
```javascript
const modal = new bootstrap.Modal('#myModal', {
    keyboard: true,   // é»˜è®¤å€¼ï¼ŒæŒ‰ESCé”®å…³é—­
    keyboard: false   // æŒ‰ESCé”®ä¸å…³é—­
});
```

**focusé€‰é¡¹**ï¼šæ§åˆ¶ç„¦ç‚¹è¡Œä¸º
```javascript
const modal = new bootstrap.Modal('#myModal', {
    focus: true,   // é»˜è®¤å€¼ï¼Œæ˜¾ç¤ºæ—¶è‡ªåŠ¨èšç„¦
    focus: false   // ä¸è‡ªåŠ¨èšç„¦
});
```

### 4.2 åŠ¨æ€åˆ›å»ºæ¨¡æ€æ¡†


**åœºæ™¯**ï¼šæœ‰æ—¶éœ€è¦ç”¨JavaScriptåŠ¨æ€ç”Ÿæˆæ¨¡æ€æ¡†å†…å®¹

```javascript
// åŠ¨æ€åˆ›å»ºæ¨¡æ€æ¡†çš„å‡½æ•°
function createDynamicModal(title, content) {
    // åˆ›å»ºæ¨¡æ€æ¡†HTMLç»“æ„
    const modalHtml = `
        <div class="modal fade" id="dynamicModal" tabindex="-1">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">${title}</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                    </div>
                    <div class="modal-body">
                        ${content}
                    </div>
                </div>
            </div>
        </div>
    `;
    
    // æ·»åŠ åˆ°é¡µé¢
    document.body.insertAdjacentHTML('beforeend', modalHtml);
    
    // åˆ›å»ºå¹¶æ˜¾ç¤ºæ¨¡æ€æ¡†
    const modal = new bootstrap.Modal('#dynamicModal');
    modal.show();
    
    // å…³é—­åç§»é™¤DOMå…ƒç´ 
    document.getElementById('dynamicModal').addEventListener('hidden.bs.modal', () => {
        document.getElementById('dynamicModal').remove();
    });
}

// ä½¿ç”¨ç¤ºä¾‹
createDynamicModal('æç¤º', 'æ“ä½œæˆåŠŸå®Œæˆï¼');
```

### 4.3 é…ç½®é€‰é¡¹çš„å®é™…åº”ç”¨


```javascript
// é‡è¦æ“ä½œç¡®è®¤æ¨¡æ€æ¡† - ç”¨æˆ·å¿…é¡»æ˜ç¡®é€‰æ‹©
function showConfirmModal(message, callback) {
    const modal = new bootstrap.Modal('#confirmModal', {
        backdrop: 'static',  // ä¸èƒ½ç‚¹å‡»èƒŒæ™¯å…³é—­
        keyboard: false,     // ä¸èƒ½æŒ‰ESCå…³é—­
        focus: true         // è‡ªåŠ¨èšç„¦
    });
    
    document.querySelector('#confirmModal .modal-body').textContent = message;
    modal.show();
    
    // ç¡®è®¤æŒ‰é’®äº‹ä»¶
    document.getElementById('confirmBtn').onclick = () => {
        callback();
        modal.hide();
    };
}

// ä½¿ç”¨
showConfirmModal('ç¡®å®šè¦åˆ é™¤è¿™ä¸ªæ–‡ä»¶å—ï¼Ÿ', () => {
    deleteFile();
});
```

---

## 5. ğŸ“¡ æ•°æ®ä¼ é€’ä¸è¿œç¨‹å†…å®¹


### 5.1 æ¨¡æ€æ¡†æ•°æ®ä¼ é€’


**æ ¸å¿ƒæ¦‚å¿µ**ï¼šæŠŠæ•°æ®ä»è§¦å‘æŒ‰é’®ä¼ é€’åˆ°æ¨¡æ€æ¡†ä¸­

### 5.2 é€šè¿‡dataå±æ€§ä¼ é€’æ•°æ®


**HTMLç»“æ„**ï¼š
```html
<!-- äº§å“åˆ—è¡¨ -->
<div class="row">
    <div class="col-md-4">
        <div class="card">
            <div class="card-body">
                <h5>iPhone 14</h5>
                <p>æœ€æ–°æ¬¾è‹¹æœæ‰‹æœº</p>
                <button class="btn btn-primary" 
                        data-bs-toggle="modal" 
                        data-bs-target="#productModal"
                        data-product-id="123"
                        data-product-name="iPhone 14"
                        data-product-price="5999">
                    æŸ¥çœ‹è¯¦æƒ…
                </button>
            </div>
        </div>
    </div>
</div>

<!-- æ¨¡æ€æ¡† -->
<div class="modal fade" id="productModal">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="productTitle">äº§å“è¯¦æƒ…</h5>
            </div>
            <div class="modal-body">
                <p><strong>äº§å“IDï¼š</strong><span id="productId"></span></p>
                <p><strong>äº§å“åç§°ï¼š</strong><span id="productName"></span></p>
                <p><strong>ä»·æ ¼ï¼š</strong><span id="productPrice"></span></p>
            </div>
        </div>
    </div>
</div>
```

**JavaScriptå¤„ç†**ï¼š
```javascript
document.getElementById('productModal').addEventListener('show.bs.modal', (event) => {
    // è·å–è§¦å‘æŒ‰é’®
    const button = event.relatedTarget;
    
    // ä»æŒ‰é’®çš„dataå±æ€§è·å–æ•°æ®
    const productId = button.dataset.productId;
    const productName = button.dataset.productName;
    const productPrice = button.dataset.productPrice;
    
    // æ›´æ–°æ¨¡æ€æ¡†å†…å®¹
    document.getElementById('productId').textContent = productId;
    document.getElementById('productName').textContent = productName;
    document.getElementById('productPrice').textContent = productPrice + 'å…ƒ';
    document.getElementById('productTitle').textContent = productName + ' - è¯¦æƒ…';
});
```

### 5.3 è¿œç¨‹å†…å®¹åŠ è½½


**åº”ç”¨åœºæ™¯**ï¼šä»æœåŠ¡å™¨åŠ¨æ€åŠ è½½æ¨¡æ€æ¡†å†…å®¹

```javascript
// è¿œç¨‹åŠ è½½ç”¨æˆ·è¯¦æƒ…
function loadUserDetails(userId) {
    const modal = new bootstrap.Modal('#userDetailModal');
    const modalBody = document.querySelector('#userDetailModal .modal-body');
    
    // æ˜¾ç¤ºåŠ è½½çŠ¶æ€
    modalBody.innerHTML = `
        <div class="text-center">
            <div class="spinner-border" role="status">
                <span class="visually-hidden">åŠ è½½ä¸­...</span>
            </div>
            <p class="mt-2">æ­£åœ¨åŠ è½½ç”¨æˆ·ä¿¡æ¯...</p>
        </div>
    `;
    
    modal.show();
    
    // å‘é€Ajaxè¯·æ±‚
    fetch(`/api/users/${userId}`)
        .then(response => response.json())
        .then(userData => {
            // æ›´æ–°æ¨¡æ€æ¡†å†…å®¹
            modalBody.innerHTML = `
                <div class="row">
                    <div class="col-md-4">
                        <img src="${userData.avatar}" class="img-fluid rounded">
                    </div>
                    <div class="col-md-8">
                        <h5>${userData.name}</h5>
                        <p><strong>é‚®ç®±ï¼š</strong>${userData.email}</p>
                        <p><strong>éƒ¨é—¨ï¼š</strong>${userData.department}</p>
                        <p><strong>èŒä½ï¼š</strong>${userData.position}</p>
                    </div>
                </div>
            `;
        })
        .catch(error => {
            modalBody.innerHTML = `
                <div class="alert alert-danger">
                    <strong>åŠ è½½å¤±è´¥ï¼</strong> ${error.message}
                </div>
            `;
        });
}
```

### 5.4 è¡¨å•æ•°æ®å¤„ç†


**åœºæ™¯**ï¼šåœ¨æ¨¡æ€æ¡†ä¸­ç¼–è¾‘æ•°æ®

```javascript
// ç¼–è¾‘ç”¨æˆ·ä¿¡æ¯æ¨¡æ€æ¡†
document.getElementById('editUserModal').addEventListener('show.bs.modal', (event) => {
    const button = event.relatedTarget;
    const userId = button.dataset.userId;
    
    // åŠ è½½ç°æœ‰ç”¨æˆ·æ•°æ®åˆ°è¡¨å•
    fetch(`/api/users/${userId}`)
        .then(response => response.json())
        .then(user => {
            document.getElementById('editUserId').value = user.id;
            document.getElementById('editUserName').value = user.name;
            document.getElementById('editUserEmail').value = user.email;
        });
});

// æäº¤è¡¨å•
document.getElementById('saveUserBtn').addEventListener('click', () => {
    const formData = {
        id: document.getElementById('editUserId').value,
        name: document.getElementById('editUserName').value,
        email: document.getElementById('editUserEmail').value
    };
    
    // æäº¤åˆ°æœåŠ¡å™¨
    fetch('/api/users', {
        method: 'PUT',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(formData)
    })
    .then(response => response.json())
    .then(result => {
        // å…³é—­æ¨¡æ€æ¡†
        bootstrap.Modal.getInstance('#editUserModal').hide();
        // åˆ·æ–°é¡µé¢æ•°æ®
        location.reload();
    });
});
```

---

## 6. ğŸ”§ å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ


### 6.1 æ¨¡æ€æ¡†åµŒå¥—é—®é¢˜


**é—®é¢˜æè¿°**ï¼šä¸€ä¸ªæ¨¡æ€æ¡†å†…åˆå¼¹å‡ºå¦ä¸€ä¸ªæ¨¡æ€æ¡†

**è§£å†³æ–¹æ¡ˆ**ï¼š
```javascript
// é”™è¯¯çš„åšæ³•ï¼šç›´æ¥åµŒå¥—
// è¿™æ ·ä¼šå¯¼è‡´èƒŒæ™¯é®ç½©å±‚å ï¼Œå…³é—­å¼‚å¸¸

// æ­£ç¡®çš„åšæ³•ï¼šå…ˆå…³é—­å½“å‰æ¨¡æ€æ¡†ï¼Œå†æ‰“å¼€æ–°çš„
function switchModal(currentModalId, newModalId) {
    const currentModal = bootstrap.Modal.getInstance(currentModalId);
    const newModal = new bootstrap.Modal(newModalId);
    
    // ç›‘å¬å½“å‰æ¨¡æ€æ¡†å…³é—­å®Œæˆ
    document.getElementById(currentModalId).addEventListener('hidden.bs.modal', () => {
        newModal.show();  // å½“å‰æ¨¡æ€æ¡†å®Œå…¨å…³é—­åå†æ˜¾ç¤ºæ–°çš„
    }, { once: true });  // åªæ‰§è¡Œä¸€æ¬¡
    
    currentModal.hide();  // å…³é—­å½“å‰æ¨¡æ€æ¡†
}
```

### 6.2 æ¨¡æ€æ¡†å†…å®¹ä¸æ›´æ–°


**é—®é¢˜æè¿°**ï¼šå¤šæ¬¡æ‰“å¼€æ¨¡æ€æ¡†æ˜¾ç¤ºçš„æ˜¯æ—§å†…å®¹

**è§£å†³æ–¹æ¡ˆ**ï¼š
```javascript
// ç¡®ä¿æ¯æ¬¡æ‰“å¼€éƒ½æ¸…ç†å’Œé‡æ–°åŠ è½½å†…å®¹
document.getElementById('myModal').addEventListener('show.bs.modal', (event) => {
    // æ¸…ç©ºä¹‹å‰çš„å†…å®¹
    const modalBody = document.querySelector('#myModal .modal-body');
    modalBody.innerHTML = '';
    
    // é‡æ–°åŠ è½½å†…å®¹
    loadModalContent();
});

// æˆ–è€…åœ¨å…³é—­æ—¶æ¸…ç†
document.getElementById('myModal').addEventListener('hidden.bs.modal', (event) => {
    // é‡ç½®è¡¨å•
    document.querySelector('#myModal form').reset();
    // æ¸…ç©ºåŠ¨æ€å†…å®¹
    document.querySelector('#myModal .dynamic-content').innerHTML = '';
});
```

### 6.3 äº‹ä»¶é‡å¤ç»‘å®š


**é—®é¢˜æè¿°**ï¼šå¤šæ¬¡ç»‘å®šç›¸åŒäº‹ä»¶å¯¼è‡´é‡å¤æ‰§è¡Œ

**è§£å†³æ–¹æ¡ˆ**ï¼š
```javascript
// é”™è¯¯çš„åšæ³•ï¼šé‡å¤ç»‘å®šäº‹ä»¶
function initModal() {
    document.getElementById('saveBtn').addEventListener('click', saveData);  // æ¯æ¬¡è°ƒç”¨éƒ½ä¼šé‡å¤ç»‘å®š
}

// æ­£ç¡®çš„åšæ³•ï¼šä½¿ç”¨äº‹ä»¶å§”æ‰˜æˆ–ç¡®ä¿åªç»‘å®šä¸€æ¬¡
// æ–¹æ³•1ï¼šäº‹ä»¶å§”æ‰˜
document.addEventListener('click', (event) => {
    if (event.target.id === 'saveBtn') {
        saveData();
    }
});

// æ–¹æ³•2ï¼šç§»é™¤æ—§äº‹ä»¶å†ç»‘å®šæ–°äº‹ä»¶
function initModal() {
    const saveBtn = document.getElementById('saveBtn');
    saveBtn.removeEventListener('click', saveData);  // å…ˆç§»é™¤
    saveBtn.addEventListener('click', saveData);     // å†ç»‘å®š
}

// æ–¹æ³•3ï¼šä½¿ç”¨onceé€‰é¡¹
document.getElementById('saveBtn').addEventListener('click', saveData, { once: true });
```

### 6.4 ç§»åŠ¨ç«¯é€‚é…é—®é¢˜


**é—®é¢˜æè¿°**ï¼šåœ¨æ‰‹æœºä¸Šæ¨¡æ€æ¡†æ˜¾ç¤ºå¼‚å¸¸

**è§£å†³æ–¹æ¡ˆ**ï¼š
```css
/* ç¡®ä¿ç§»åŠ¨ç«¯æ­£ç¡®æ˜¾ç¤º */
@media (max-width: 576px) {
    .modal-dialog {
        margin: 10px;
        max-width: calc(100% - 20px);
    }
    
    .modal-content {
        max-height: calc(100vh - 20px);
        overflow-y: auto;
    }
}
```

```javascript
// JavaScriptä¸­å¤„ç†ç§»åŠ¨ç«¯ç‰¹æ®Šæƒ…å†µ
function showMobileModal(modalId) {
    const modal = new bootstrap.Modal(modalId, {
        backdrop: 'static',  // ç§»åŠ¨ç«¯å»ºè®®ä¸å…è®¸ç‚¹å‡»èƒŒæ™¯å…³é—­
        keyboard: false      // ç§»åŠ¨ç«¯é”®ç›˜äº‹ä»¶å¯èƒ½å¼‚å¸¸
    });
    modal.show();
}
```

---

## 7. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 7.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒçŸ¥è¯†


**ğŸ”¸ åŸºç¡€APIæ–¹æ³•**
```javascript
const modal = new bootstrap.Modal('#myModal');
modal.show();    // æ˜¾ç¤º
modal.hide();    // éšè—  
modal.toggle();  // åˆ‡æ¢
```

**ğŸ”¸ æ ¸å¿ƒäº‹ä»¶**
- `show.bs.modal` - å‡†å¤‡æ˜¾ç¤ºï¼ˆå¯é˜»æ­¢ï¼‰
- `shown.bs.modal` - æ˜¾ç¤ºå®Œæˆ
- `hide.bs.modal` - å‡†å¤‡å…³é—­ï¼ˆå¯é˜»æ­¢ï¼‰
- `hidden.bs.modal` - å…³é—­å®Œæˆ

**ğŸ”¸ é‡è¦é…ç½®**
- `backdrop: 'static'` - é‡è¦æ“ä½œä¸å…è®¸ç‚¹å‡»èƒŒæ™¯å…³é—­
- `keyboard: false` - é‡è¦æ“ä½œä¸å…è®¸ESCå…³é—­
- `focus: true` - è‡ªåŠ¨èšç„¦åˆ°æ¨¡æ€æ¡†

### 7.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ æ•°æ®ä¼ é€’çš„æœ€ä½³å®è·µ**
```javascript
// é€šè¿‡dataå±æ€§ä¼ é€’ç®€å•æ•°æ®
<button data-bs-toggle="modal" data-user-id="123">ç¼–è¾‘ç”¨æˆ·</button>

// é€šè¿‡äº‹ä»¶å¯¹è±¡è·å–æ•°æ®
modal.addEventListener('show.bs.modal', (event) => {
    const userId = event.relatedTarget.dataset.userId;
});
```

**ğŸ”¹ è¿œç¨‹å†…å®¹åŠ è½½æ¨¡å¼**
```javascript
// 1. å…ˆæ˜¾ç¤ºåŠ è½½çŠ¶æ€
// 2. å‘é€Ajaxè¯·æ±‚
// 3. æ›´æ–°æ¨¡æ€æ¡†å†…å®¹
// 4. å¤„ç†é”™è¯¯æƒ…å†µ
```

### 7.3 å®é™…åº”ç”¨æŒ‡å¯¼


**âœ… é€‚ç”¨åœºæ™¯**
- ç¡®è®¤é‡è¦æ“ä½œï¼ˆåˆ é™¤ã€æ”¯ä»˜ç­‰ï¼‰
- æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯ï¼ˆç”¨æˆ·èµ„æ–™ã€äº§å“è¯¦æƒ…ï¼‰
- è¡¨å•ç¼–è¾‘ï¼ˆä¸ç¦»å¼€å½“å‰é¡µé¢ï¼‰
- å›¾ç‰‡é¢„è§ˆå’Œè½®æ’­
- æç¤ºå’Œé€šçŸ¥ä¿¡æ¯

**âš ï¸ æ³¨æ„äº‹é¡¹**
- é¿å…æ¨¡æ€æ¡†åµŒå¥—ï¼Œå½±å“ç”¨æˆ·ä½“éªŒ
- é‡è¦æ“ä½œä½¿ç”¨`backdrop: 'static'`
- åŠæ—¶æ¸…ç†äº‹ä»¶ç›‘å¬ï¼Œé¿å…å†…å­˜æ³„æ¼
- ç§»åŠ¨ç«¯é€‚é…è¦ç‰¹åˆ«è€ƒè™‘
- å¤§é‡æ•°æ®å»ºè®®åˆ†é¡µæˆ–è™šæ‹Ÿæ»šåŠ¨

### 7.4 å¸¸ç”¨ä»£ç æ¨¡æ¿


**æ ‡å‡†æ¨¡æ€æ¡†æ§åˆ¶æ¨¡æ¿**ï¼š
```javascript
// 1. è·å–æ¨¡æ€æ¡†å®ä¾‹
const modal = new bootstrap.Modal('#myModal', {
    backdrop: 'static',
    keyboard: false
});

// 2. æ˜¾ç¤ºå‰å‡†å¤‡æ•°æ®
document.getElementById('myModal').addEventListener('show.bs.modal', (event) => {
    const data = event.relatedTarget.dataset;
    // å‡†å¤‡å’ŒåŠ è½½æ•°æ®
});

// 3. æ˜¾ç¤ºå®Œæˆåæ“ä½œ
document.getElementById('myModal').addEventListener('shown.bs.modal', () => {
    // èšç„¦ã€åˆå§‹åŒ–ç»„ä»¶ç­‰
});

// 4. å…³é—­åæ¸…ç†
document.getElementById('myModal').addEventListener('hidden.bs.modal', () => {
    // æ¸…ç†æ•°æ®ã€é‡ç½®è¡¨å•ç­‰
});
```

**æ ¸å¿ƒè®°å¿†**ï¼š
- æ¨¡æ€æ¡†APIç®€å•æ˜“ç”¨ï¼Œshow/hide/toggleä¸‰å¤§åŸºç¡€æ–¹æ³•
- å››å¤§å…³é”®äº‹ä»¶æŒæ¡ç”Ÿå‘½å‘¨æœŸï¼Œæ•°æ®ä¼ é€’ä¾é dataå±æ€§
- é‡è¦æ“ä½œé…ç½®staticï¼Œè¿œç¨‹åŠ è½½å…ˆæ˜¾ç¤ºloading
- é¿å…åµŒå¥—é‡å¤ç»‘å®šï¼Œç§»åŠ¨ç«¯é€‚é…è¦è€ƒè™‘