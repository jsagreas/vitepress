---
title: 21ã€åè®®æ’ä»¶å‘½ä»¤
---
## ğŸ“š ç›®å½•

1. [åè®®æ’ä»¶åŸºç¡€æ¦‚å¿µ](#1-åè®®æ’ä»¶åŸºç¡€æ¦‚å¿µ)
2. [STOMPåè®®æ’ä»¶è¯¦è§£](#2-STOMPåè®®æ’ä»¶è¯¦è§£)
3. [MQTTåè®®æ’ä»¶ç®¡ç†](#3-MQTTåè®®æ’ä»¶ç®¡ç†)
4. [Webåè®®æ’ä»¶é…ç½®](#4-Webåè®®æ’ä»¶é…ç½®)
5. [AMQP 1.0æ’ä»¶åº”ç”¨](#5-AMQP-1.0æ’ä»¶åº”ç”¨)
6. [è®¤è¯æ’ä»¶ç®¡ç†](#6-è®¤è¯æ’ä»¶ç®¡ç†)
7. [é«˜çº§åŠŸèƒ½æ’ä»¶](#7-é«˜çº§åŠŸèƒ½æ’ä»¶)
8. [æ’ä»¶æ•…éšœæ’æŸ¥](#8-æ’ä»¶æ•…éšœæ’æŸ¥)
9. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#9-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ”Œ åè®®æ’ä»¶åŸºç¡€æ¦‚å¿µ


### 1.1 ä»€ä¹ˆæ˜¯RabbitMQåè®®æ’ä»¶

ğŸ¯ **ç®€å•ç†è§£**ï¼šåè®®æ’ä»¶å°±åƒè¯­è¨€ç¿»è¯‘å™¨ï¼Œè®©ä¸åŒçš„"è¯­è¨€"éƒ½èƒ½å’ŒRabbitMQå¯¹è¯

```
ç°å®ç”Ÿæ´»ç±»æ¯”ï¼š
è”åˆå›½ä¼šè®® â†’ éœ€è¦ä¸åŒè¯­è¨€çš„ç¿»è¯‘
RabbitMQ â†’ éœ€è¦ä¸åŒåè®®çš„æ’ä»¶

è‹±è¯­ç¿»è¯‘ â‰ˆ AMQPåè®®ï¼ˆRabbitMQåŸç”Ÿï¼‰
æ³•è¯­ç¿»è¯‘ â‰ˆ STOMPåè®®æ’ä»¶
æ—¥è¯­ç¿»è¯‘ â‰ˆ MQTTåè®®æ’ä»¶
æ‰‹è¯­ç¿»è¯‘ â‰ˆ Webåè®®æ’ä»¶
```

**ğŸ”¸ åè®®æ’ä»¶çš„ä»·å€¼**
```
å¤šåè®®æ”¯æŒï¼š
- AMQP 0.9.1ï¼šRabbitMQçš„åŸç”Ÿåè®®
- STOMPï¼šç®€å•æ–‡æœ¬åè®®ï¼Œæ˜“äºç†è§£
- MQTTï¼šç‰©è”ç½‘è®¾å¤‡å¸¸ç”¨åè®®
- HTTP/WebSocketï¼šWebåº”ç”¨å‹å¥½åè®®

å…¼å®¹æ€§æ‰©å±•ï¼š
- æ”¯æŒä¸åŒæŠ€æœ¯æ ˆçš„åº”ç”¨
- é™ä½ç³»ç»Ÿè¿ç§»æˆæœ¬
- æé«˜å¼€å‘æ•ˆç‡
```

### 1.2 æ’ä»¶ç®¡ç†åŸºç¡€å‘½ä»¤

**ğŸ“‹ æ ¸å¿ƒæ’ä»¶æ“ä½œå‘½ä»¤**

```bash
# æŸ¥çœ‹æ‰€æœ‰å¯ç”¨æ’ä»¶
rabbitmq-plugins list
# æ˜¾ç¤ºæ’ä»¶çŠ¶æ€ï¼š[E*] å¯ç”¨å¹¶è¿è¡Œï¼Œ[e*] å¯ç”¨æœªè¿è¡Œï¼Œ[ ] æœªå¯ç”¨

# æŸ¥çœ‹å·²å¯ç”¨çš„æ’ä»¶
rabbitmq-plugins list --enabled

# å¯ç”¨æ’ä»¶
rabbitmq-plugins enable æ’ä»¶åç§°

# ç¦ç”¨æ’ä»¶
rabbitmq-plugins disable æ’ä»¶åç§°

# æ‰¹é‡å¯ç”¨å¤šä¸ªæ’ä»¶
rabbitmq-plugins enable æ’ä»¶1 æ’ä»¶2 æ’ä»¶3
```

**ğŸ’¡ æ’ä»¶çŠ¶æ€æ ‡è¯†è§£è¯»**
```
æ’ä»¶çŠ¶æ€ç¬¦å·è¯´æ˜ï¼š
[E*] - æ’ä»¶å·²å¯ç”¨ä¸”æ­£åœ¨è¿è¡Œ
[e*] - æ’ä»¶å·²å¯ç”¨ä½†æœªè¿è¡Œï¼ˆå¯èƒ½éœ€è¦é‡å¯ï¼‰
[E ] - æ’ä»¶å¯ç”¨ä½†æœ‰ä¾èµ–é—®é¢˜
[ ] - æ’ä»¶æœªå¯ç”¨

å®é™…ç¤ºä¾‹ï¼š
[E*] rabbitmq_management         3.8.9  â† ç®¡ç†ç•Œé¢æ’ä»¶æ­£å¸¸è¿è¡Œ
[e*] rabbitmq_stomp             3.8.9  â† STOMPæ’ä»¶éœ€è¦é‡å¯
[ ] rabbitmq_mqtt               3.8.9  â† MQTTæ’ä»¶æœªå¯ç”¨
```

### 1.3 æ’ä»¶é…ç½®æ–‡ä»¶ä½ç½®

**ğŸ“‚ é‡è¦é…ç½®æ–‡ä»¶è·¯å¾„**

| é…ç½®ç±»å‹ | **æ–‡ä»¶è·¯å¾„** | **ä½œç”¨è¯´æ˜** |
|---------|-------------|-------------|
| ğŸ”¸ **ä¸»é…ç½®** | `/etc/rabbitmq/rabbitmq.conf` | `RabbitMQä¸»è¦é…ç½®` |
| ğŸ”¸ **æ’ä»¶é…ç½®** | `/etc/rabbitmq/enabled_plugins` | `å·²å¯ç”¨æ’ä»¶åˆ—è¡¨` |
| ğŸ”¸ **ç¯å¢ƒå˜é‡** | `/etc/rabbitmq/rabbitmq-env.conf` | `ç¯å¢ƒé…ç½®` |
| ğŸ”¸ **é«˜çº§é…ç½®** | `/etc/rabbitmq/advanced.config` | `Erlangæ ¼å¼é…ç½®` |

---

## 2. ğŸ“¡ STOMPåè®®æ’ä»¶è¯¦è§£


### 2.1 STOMPåè®®ç®€ä»‹

ğŸ¯ **STOMPæ˜¯ä»€ä¹ˆ**ï¼šSimple Text Oriented Messaging Protocolï¼Œç®€å•æ–‡æœ¬æ¶ˆæ¯åè®®

```
STOMPåè®®ç‰¹ç‚¹ï¼š
å°±åƒå‘çŸ­ä¿¡ä¸€æ ·ç®€å•ï¼š
- åŸºäºæ–‡æœ¬æ ¼å¼ï¼Œäººç±»å¯è¯»
- å‘½ä»¤ç®€å•ç›´è§‚ï¼ˆSENDã€SUBSCRIBEç­‰ï¼‰
- è°ƒè¯•å®¹æ˜“ï¼Œå‡ºé”™å¥½æ’æŸ¥
- é€‚åˆWebåº”ç”¨å’Œè„šæœ¬è¯­è¨€

ä¸AMQPå¯¹æ¯”ï¼š
AMQPï¼šåŠŸèƒ½å¼ºå¤§ä½†å¤æ‚ï¼Œåƒ"ä¸“ä¸šå¯¹è®²æœº"
STOMPï¼šç®€å•æ˜“ç”¨ä½†åŸºç¡€ï¼Œåƒ"æ™®é€šæ‰‹æœº"
```

### 2.2 å¯ç”¨STOMPæ’ä»¶

**ğŸ”§ STOMPæ’ä»¶é…ç½®æ­¥éª¤**

```bash
# 1. å¯ç”¨STOMPæ’ä»¶
sudo rabbitmq-plugins enable rabbitmq_stomp

# 2. éªŒè¯æ’ä»¶çŠ¶æ€
rabbitmq-plugins list | grep stomp
# åº”è¯¥æ˜¾ç¤ºï¼š[E*] rabbitmq_stomp

# 3. æŸ¥çœ‹STOMPç›‘å¬ç«¯å£
sudo netstat -tlnp | grep 61613
# STOMPé»˜è®¤ç«¯å£ï¼š61613

# 4. æ£€æŸ¥æ—¥å¿—ç¡®è®¤å¯åŠ¨
sudo tail -f /var/log/rabbitmq/rabbit@hostname.log
# æŸ¥æ‰¾ï¼šstarted STOMP adapter on 0.0.0.0:61613
```

**âš ï¸ å¸¸è§å¯åŠ¨é—®é¢˜**
```
é—®é¢˜1ï¼šç«¯å£è¢«å ç”¨
ç—‡çŠ¶ï¼šæ’ä»¶å¯ç”¨å¤±è´¥ï¼Œæ—¥å¿—æ˜¾ç¤ºç«¯å£å†²çª
è§£å†³ï¼šsudo lsof -i:61613 æŸ¥çœ‹å ç”¨è¿›ç¨‹

é—®é¢˜2ï¼šæƒé™ä¸è¶³
ç—‡çŠ¶ï¼šPermission deniedé”™è¯¯
è§£å†³ï¼šç¡®ä¿rabbitmqç”¨æˆ·æœ‰ç›¸åº”æƒé™

é—®é¢˜3ï¼šä¾èµ–ç¼ºå¤±
ç—‡çŠ¶ï¼šæ’ä»¶æ— æ³•å¯åŠ¨
è§£å†³ï¼šæ£€æŸ¥Erlangç‰ˆæœ¬å…¼å®¹æ€§
```

### 2.3 STOMPåè®®æµ‹è¯•

**ğŸ§ª ä½¿ç”¨Pythonæµ‹è¯•STOMPè¿æ¥**

```python
# å®‰è£…ä¾èµ–ï¼špip install stomp.py
import stomp
import time

# STOMPè¿æ¥é…ç½®
class MyListener(stomp.ConnectionListener):
    def on_message(self, frame):
        print(f"æ”¶åˆ°æ¶ˆæ¯ï¼š{frame.body}")
    
    def on_error(self, frame):
        print(f"é”™è¯¯ï¼š{frame.body}")

# å»ºç«‹è¿æ¥
conn = stomp.Connection([('localhost', 61613)])
conn.set_listener('', MyListener())
conn.connect('guest', 'guest', wait=True)

# è®¢é˜…é˜Ÿåˆ—
conn.subscribe(destination='/queue/test', id=1, ack='auto')

# å‘é€æ¶ˆæ¯
conn.send(body='Hello STOMP!', destination='/queue/test')

time.sleep(2)
conn.disconnect()
```

**ğŸ“Š STOMPé…ç½®é€‰é¡¹**
```bash
# åœ¨rabbitmq.confä¸­é…ç½®STOMP
# STOMPç›‘å¬åœ°å€å’Œç«¯å£
stomp.listeners.tcp.1 = 0.0.0.0:61613

# å¯ç”¨SSLæ”¯æŒ
stomp.listeners.ssl.1 = 0.0.0.0:61614
stomp.ssl_options.cacertfile = /path/to/ca_certificate.pem
stomp.ssl_options.certfile = /path/to/server_certificate.pem
stomp.ssl_options.keyfile = /path/to/server_key.pem

# é»˜è®¤è™šæ‹Ÿä¸»æœº
stomp.default_vhost = /

# å¿ƒè·³è®¾ç½®ï¼ˆç§’ï¼‰
stomp.default_heartbeat_timeout = 30
```

---

## 3. ğŸŒ MQTTåè®®æ’ä»¶ç®¡ç†


### 3.1 MQTTåè®®å…¥é—¨

ğŸ¯ **MQTTæ˜¯ä»€ä¹ˆ**ï¼šMessage Queuing Telemetry Transportï¼Œä¸“ä¸ºç‰©è”ç½‘è®¾è®¡çš„è½»é‡çº§åè®®

```
MQTTåè®®ç‰¹ç‚¹ï¼š
åƒ"ç‰©è”ç½‘ä¸“ç”¨è¯­è¨€"ï¼š
- è½»é‡çº§ï¼šé€‚åˆå¸¦å®½å—é™çš„ç½‘ç»œ
- ä½åŠŸè€—ï¼šå»¶é•¿è®¾å¤‡ç”µæ± å¯¿å‘½
- å‘å¸ƒ/è®¢é˜…æ¨¡å¼ï¼šä¸€å¯¹å¤šé€šä¿¡
- è´¨é‡ç­‰çº§ï¼šç¡®ä¿æ¶ˆæ¯å¯é æ€§

åº”ç”¨åœºæ™¯ï¼š
ğŸ  æ™ºèƒ½å®¶å±…ï¼šæ¸©åº¦ä¼ æ„Ÿå™¨ã€æ™ºèƒ½ç¯æ³¡
ğŸš— è½¦è”ç½‘ï¼šGPSå®šä½ã€è½¦å†µç›‘æ§
ğŸ­ å·¥ä¸š4.0ï¼šè®¾å¤‡çŠ¶æ€ã€ç”Ÿäº§æ•°æ®
ğŸ“± ç§»åŠ¨åº”ç”¨ï¼šå³æ—¶é€šè®¯ã€æ¨é€æœåŠ¡
```

### 3.2 MQTTæ’ä»¶é…ç½®

**ğŸ”§ å¯ç”¨å’Œé…ç½®MQTTæ’ä»¶**

```bash
# 1. å¯ç”¨MQTTæ’ä»¶
sudo rabbitmq-plugins enable rabbitmq_mqtt

# 2. éªŒè¯MQTTæ’ä»¶çŠ¶æ€
rabbitmq-plugins list | grep mqtt
# æœŸæœ›è¾“å‡ºï¼š[E*] rabbitmq_mqtt

# 3. æ£€æŸ¥MQTTç›‘å¬ç«¯å£
sudo ss -tlnp | grep 1883
# MQTTé»˜è®¤ç«¯å£ï¼š1883ï¼ˆéåŠ å¯†ï¼‰
# MQTT SSLç«¯å£ï¼š8883ï¼ˆåŠ å¯†ï¼‰

# 4. æŸ¥çœ‹MQTTé€‚é…å™¨å¯åŠ¨æ—¥å¿—
sudo journalctl -u rabbitmq-server | grep -i mqtt
```

**ğŸ“‹ MQTTè¯¦ç»†é…ç½®**
```bash
# åœ¨rabbitmq.confä¸­é…ç½®MQTT
# MQTTç›‘å¬è®¾ç½®
mqtt.listeners.tcp.1 = 0.0.0.0:1883
mqtt.listeners.ssl.1 = 0.0.0.0:8883

# è™šæ‹Ÿä¸»æœºæ˜ å°„
mqtt.vhost = /
mqtt.exchange = amq.topic

# ç”¨æˆ·è®¤è¯
mqtt.allow_anonymous = false
mqtt.default_user = mqtt_user
mqtt.default_pass = mqtt_password

# è®¢é˜…å‰ç¼€
mqtt.subscription_ttl = 86400000  # 24å°æ—¶ï¼ˆæ¯«ç§’ï¼‰
mqtt.prefetch = 10

# ä¿ç•™æ¶ˆæ¯
mqtt.retained_message_store = rabbit_mqtt_retained_msg_store
mqtt.retained_message_store_type = disc
```

### 3.3 MQTTè´¨é‡ç­‰çº§è¯´æ˜

**ğŸ“Š QoSçº§åˆ«è¯¦è§£**

| QoSçº§åˆ« | **åç§°** | **ä¿è¯ç¨‹åº¦** | **ä½¿ç”¨åœºæ™¯** |
|---------|---------|-------------|-------------|
| ğŸ”¸ **QoS 0** | `è‡³å¤šä¸€æ¬¡` | `å¯èƒ½ä¸¢å¤±` | `ä¼ æ„Ÿå™¨æ•°æ®ï¼ˆå¯å®¹å¿ä¸¢å¤±ï¼‰` |
| ğŸ”¸ **QoS 1** | `è‡³å°‘ä¸€æ¬¡` | `å¯èƒ½é‡å¤` | `é‡è¦é€šçŸ¥ï¼ˆä¸èƒ½ä¸¢å¤±ï¼‰` |
| ğŸ”¸ **QoS 2** | `ä»…ä¸”ä¸€æ¬¡` | `ç²¾ç¡®ä¸€æ¬¡` | `è®¡è´¹æ•°æ®ï¼ˆä¸¥æ ¼è¦æ±‚ï¼‰` |

**ğŸ’¡ QoSé€‰æ‹©å»ºè®®**
```
é€‰æ‹©åŸåˆ™ï¼š
QoS 0ï¼šæ•°æ®é¢‘ç¹æ›´æ–°ï¼Œå¶å°”ä¸¢å¤±æ— å…³ç´§è¦
- ä¾‹å­ï¼šæ¯ç§’æ›´æ–°çš„æ¸©åº¦æ•°æ®

QoS 1ï¼šæ•°æ®é‡è¦ï¼Œä½†å¯ä»¥å¤„ç†é‡å¤
- ä¾‹å­ï¼šæŠ¥è­¦é€šçŸ¥ã€çŠ¶æ€å˜æ›´

QoS 2ï¼šæ•°æ®å…³é”®ï¼Œå¿…é¡»ç²¾ç¡®ä¼ é€’
- ä¾‹å­ï¼šæ”¯ä»˜æŒ‡ä»¤ã€å®‰å…¨æ§åˆ¶
```

### 3.4 MQTTæµ‹è¯•å®ä¾‹

**ğŸ§ª Python MQTTå®¢æˆ·ç«¯æµ‹è¯•**

```python
# å®‰è£…ï¼špip install paho-mqtt
import paho.mqtt.client as mqtt
import time
import json

def on_connect(client, userdata, flags, rc):
    if rc == 0:
        print("âœ… MQTTè¿æ¥æˆåŠŸ")
        client.subscribe("sensor/temperature")
    else:
        print(f"âŒ è¿æ¥å¤±è´¥ï¼Œé”™è¯¯ç ï¼š{rc}")

def on_message(client, userdata, msg):
    print(f"ğŸ“© æ”¶åˆ°æ¶ˆæ¯ï¼š{msg.topic} = {msg.payload.decode()}")

# åˆ›å»ºMQTTå®¢æˆ·ç«¯
client = mqtt.Client("test_client")
client.username_pw_set("guest", "guest")
client.on_connect = on_connect
client.on_message = on_message

# è¿æ¥RabbitMQ MQTT
client.connect("localhost", 1883, 60)

# å¯åŠ¨å¾ªç¯å¤„ç†
client.loop_start()

# å‘å¸ƒæµ‹è¯•æ¶ˆæ¯
for i in range(5):
    temp_data = {"temperature": 20 + i, "humidity": 60 + i}
    client.publish("sensor/temperature", json.dumps(temp_data), qos=1)
    time.sleep(1)

time.sleep(5)
client.disconnect()
```

---

## 4. ğŸŒ Webåè®®æ’ä»¶é…ç½®


### 4.1 Web STOMPæ’ä»¶

ğŸ¯ **Web STOMPçš„ä½œç”¨**ï¼šè®©ç½‘é¡µç›´æ¥é€šè¿‡WebSocketè¿æ¥RabbitMQ

```
Web STOMPçš„ä»·å€¼ï¼š
ä¼ ç»Ÿæ–¹å¼çš„é—®é¢˜ï¼š
- ç½‘é¡µæ— æ³•ç›´æ¥è¿æ¥STOMPï¼ˆç«¯å£é™åˆ¶ï¼‰
- éœ€è¦åç«¯ä»£ç†è½¬å‘æ¶ˆæ¯
- å¢åŠ ç³»ç»Ÿå¤æ‚åº¦

Web STOMPçš„è§£å†³æ–¹æ¡ˆï¼š
- é€šè¿‡WebSocketä¼ è¾“STOMPåè®®
- ç½‘é¡µç›´æ¥è¿æ¥RabbitMQ
- å®æ—¶åŒå‘é€šä¿¡
```

**ğŸ”§ Web STOMPé…ç½®**
```bash
# 1. å¯ç”¨Web STOMPæ’ä»¶
sudo rabbitmq-plugins enable rabbitmq_web_stomp

# 2. éªŒè¯æ’ä»¶çŠ¶æ€
rabbitmq-plugins list | grep web_stomp
# æœŸæœ›ï¼š[E*] rabbitmq_web_stomp

# 3. æ£€æŸ¥Web STOMPç«¯å£
sudo netstat -tlnp | grep 15674
# Web STOMPé»˜è®¤ç«¯å£ï¼š15674

# Web STOMPé…ç½®ï¼ˆrabbitmq.confï¼‰
web_stomp.tcp.port = 15674
web_stomp.ssl.port = 15675
web_stomp.ws_frame = text
web_stomp.cowboy_opts.max_keepalive = 10
```

### 4.2 Web MQTTæ’ä»¶

**ğŸŒ ä¸ºç‰©è”ç½‘Webåº”ç”¨æä¾›MQTTæ”¯æŒ**

```bash
# 1. å¯ç”¨Web MQTTæ’ä»¶
sudo rabbitmq-plugins enable rabbitmq_web_mqtt

# 2. æ£€æŸ¥æ’ä»¶çŠ¶æ€
rabbitmq-plugins list | grep web_mqtt

# 3. éªŒè¯ç›‘å¬ç«¯å£
sudo ss -tlnp | grep 15675
# Web MQTTé»˜è®¤ç«¯å£ï¼š15675

# Web MQTTé…ç½®
web_mqtt.tcp.port = 15675
web_mqtt.ssl.port = 15676
web_mqtt.cowboy_opts.max_connections = 1024
web_mqtt.cowboy_opts.max_keepalive = 60
```

### 4.3 JavaScript Webå®¢æˆ·ç«¯ç¤ºä¾‹

**ğŸ’» ç½‘é¡µç«¯STOMPè¿æ¥**

```javascript
// ä½¿ç”¨SockJSå’ŒSTOMP.jsåº“
// å¼•å…¥ï¼š<script src="https://cdn.jsdelivr.net/npm/@stomp/stompjs@6.1.2/bundles/stomp.umd.min.js"></script>

const client = new StompJs.Client({
    brokerURL: 'ws://localhost:15674/ws',
    connectHeaders: {
        login: 'guest',
        passcode: 'guest',
    },
    debug: function (str) {
        console.log('ğŸ“ STOMP Debug:', str);
    },
    reconnectDelay: 5000,
    heartbeatIncoming: 4000,
    heartbeatOutgoing: 4000,
});

// è¿æ¥æˆåŠŸå›è°ƒ
client.onConnect = function (frame) {
    console.log('âœ… Web STOMPè¿æ¥æˆåŠŸ');
    
    // è®¢é˜…æ¶ˆæ¯
    client.subscribe('/queue/web-notifications', function (message) {
        console.log('ğŸ“© æ”¶åˆ°é€šçŸ¥:', message.body);
        displayNotification(message.body);
    });
    
    // å‘é€æµ‹è¯•æ¶ˆæ¯
    client.publish({
        destination: '/queue/web-notifications',
        body: 'Hello from web client!'
    });
};

// è¿æ¥é”™è¯¯å¤„ç†
client.onStompError = function (frame) {
    console.error('âŒ STOMPé”™è¯¯:', frame.headers['message']);
};

// æ¿€æ´»è¿æ¥
client.activate();

// é¡µé¢å¸è½½æ—¶æ–­å¼€è¿æ¥
window.addEventListener('beforeunload', () => {
    client.deactivate();
});
```

---

## 5. ğŸ”„ AMQP 1.0æ’ä»¶åº”ç”¨


### 5.1 AMQP 1.0åè®®ç‰¹ç‚¹

ğŸ¯ **AMQP 1.0çš„ç‹¬ç‰¹ä¹‹å¤„**ï¼šå›½é™…æ ‡å‡†åŒ–çš„æ¶ˆæ¯åè®®ï¼Œä¸AMQP 0.9.1å®Œå…¨ä¸åŒ

```
AMQPç‰ˆæœ¬å¯¹æ¯”ï¼š
AMQP 0.9.1ï¼ˆRabbitMQåŸç”Ÿï¼‰ï¼š
- RabbitMQå›¢é˜Ÿå¼€å‘
- äº¤æ¢æœº+é˜Ÿåˆ—æ¨¡å‹
- åŠŸèƒ½ä¸°å¯Œï¼Œç”Ÿæ€å®Œå–„

AMQP 1.0ï¼ˆå›½é™…æ ‡å‡†ï¼‰ï¼š
- OASISå›½é™…æ ‡å‡†
- é“¾è·¯+èŠ‚ç‚¹æ¨¡å‹
- è·¨å¹³å°äº’æ“ä½œæ€§å¼º

é€‚ç”¨åœºæ™¯ï¼š
AMQP 1.0é€‚åˆï¼šä¼ä¸šé›†æˆã€å¤šå‚å•†äº’æ“ä½œ
AMQP 0.9.1é€‚åˆï¼šRabbitMQç”Ÿæ€å†…åº”ç”¨
```

### 5.2 AMQP 1.0æ’ä»¶é…ç½®

**ğŸ”§ å¯ç”¨AMQP 1.0æ”¯æŒ**

```bash
# 1. å¯ç”¨AMQP 1.0æ’ä»¶
sudo rabbitmq-plugins enable rabbitmq_amqp1_0

# 2. éªŒè¯æ’ä»¶çŠ¶æ€
rabbitmq-plugins list | grep amqp1_0

# 3. æ£€æŸ¥AMQP 1.0ç«¯å£
sudo netstat -tlnp | grep 5672
# AMQP 1.0ä¸0.9.1å…±äº«5672ç«¯å£

# AMQP 1.0ç‰¹å®šé…ç½®
amqp1_0.default_vhost = /
amqp1_0.protocol_strict_mode = false
amqp1_0.max_sessions_per_connection = 1024
```

**ğŸ“‹ AMQP 1.0å®¢æˆ·ç«¯è¿æ¥ç¤ºä¾‹**
```python
# ä½¿ç”¨Apache Qpid Protonåº“
# å®‰è£…ï¼špip install python-qpid-proton
from proton import Message, Messenger
import time

# åˆ›å»ºæ¶ˆæ¯å‘é€å™¨
messenger = Messenger()
messenger.start()

# å‘é€æ¶ˆæ¯åˆ°RabbitMQ
msg = Message()
msg.address = "amqp://guest:guest@localhost:5672/test-queue"
msg.body = "Hello AMQP 1.0!"
msg.content_type = "text/plain"

messenger.put(msg)
messenger.send()

print("âœ… AMQP 1.0æ¶ˆæ¯å‘é€æˆåŠŸ")
messenger.stop()
```

---

## 6. ğŸ” è®¤è¯æ’ä»¶ç®¡ç†


### 6.1 LDAPè®¤è¯æ’ä»¶

ğŸ¯ **LDAPè®¤è¯çš„ä»·å€¼**ï¼šä¸ä¼ä¸šç°æœ‰è´¦æˆ·ç³»ç»Ÿé›†æˆï¼Œç»Ÿä¸€èº«ä»½ç®¡ç†

```
LDAPè®¤è¯ä¼˜åŠ¿ï¼š
ä¼ä¸šç—›ç‚¹ï¼š
- æ¯ä¸ªç³»ç»Ÿéƒ½è¦å•ç‹¬ç®¡ç†è´¦æˆ·
- å¯†ç ç­–ç•¥éš¾ä»¥ç»Ÿä¸€
- å‘˜å·¥ç¦»èŒæ—¶è´¦æˆ·æ¸…ç†éº»çƒ¦

LDAPè§£å†³æ–¹æ¡ˆï¼š
- ç»Ÿä¸€èº«ä»½è®¤è¯
- é›†ä¸­æƒé™ç®¡ç†
- è‡ªåŠ¨è´¦æˆ·åŒæ­¥
```

**ğŸ”§ LDAPæ’ä»¶é…ç½®**
```bash
# 1. å¯ç”¨LDAPè®¤è¯æ’ä»¶
sudo rabbitmq-plugins enable rabbitmq_auth_backend_ldap

# 2. é…ç½®LDAPè¿æ¥ï¼ˆrabbitmq.confï¼‰
auth_backends.1 = rabbit_auth_backend_ldap
auth_backends.2 = rabbit_auth_backend_internal

# LDAPæœåŠ¡å™¨é…ç½®
auth_ldap.servers.1 = ldap.company.com
auth_ldap.port = 389
auth_ldap.timeout = 5000

# ç”¨æˆ·æŸ¥æ‰¾é…ç½®
auth_ldap.user_dn_pattern = uid=${username},ou=users,dc=company,dc=com
auth_ldap.dn_lookup_attribute = uid
auth_ldap.dn_lookup_base = ou=users,dc=company,dc=com

# æƒé™æ˜ å°„
auth_ldap.tag_queries.administrator = memberOf=cn=rabbitmq-admin,ou=groups,dc=company,dc=com
auth_ldap.tag_queries.management = memberOf=cn=rabbitmq-mgmt,ou=groups,dc=company,dc=com
```

### 6.2 HTTPè®¤è¯æ’ä»¶

**ğŸŒ é€šè¿‡HTTP APIè¿›è¡Œèº«ä»½éªŒè¯**

```bash
# 1. å¯ç”¨HTTPè®¤è¯æ’ä»¶
sudo rabbitmq-plugins enable rabbitmq_auth_backend_http

# 2. HTTPè®¤è¯é…ç½®
auth_backends.1 = rabbit_auth_backend_http
auth_backends.2 = rabbit_auth_backend_internal

# HTTPè®¤è¯æœåŠ¡é…ç½®
auth_http.http_method = post
auth_http.user_path = http://auth-service:8080/auth/user
auth_http.vhost_path = http://auth-service:8080/auth/vhost
auth_http.resource_path = http://auth-service:8080/auth/resource
auth_http.topic_path = http://auth-service:8080/auth/topic

# è¯·æ±‚è¶…æ—¶è®¾ç½®
auth_http.timeout = 5000
```

**ğŸ“ HTTPè®¤è¯æœåŠ¡ç¤ºä¾‹**
```python
# Flaskè®¤è¯æœåŠ¡ç¤ºä¾‹
from flask import Flask, request, jsonify

app = Flask(__name__)

@app.route('/auth/user', methods=['POST'])
def authenticate_user():
    username = request.form.get('username')
    password = request.form.get('password')
    
    # è¿™é‡Œå®ç°ä½ çš„è®¤è¯é€»è¾‘
    if validate_user(username, password):
        return "allow administrator management"  # è¿”å›ç”¨æˆ·æ ‡ç­¾
    else:
        return "deny", 401

@app.route('/auth/vhost', methods=['POST'])  
def authorize_vhost():
    username = request.form.get('username')
    vhost = request.form.get('vhost')
    
    # æ£€æŸ¥ç”¨æˆ·æ˜¯å¦æœ‰è®¿é—®è™šæ‹Ÿä¸»æœºçš„æƒé™
    if user_can_access_vhost(username, vhost):
        return "allow"
    else:
        return "deny", 401

if __name__ == '__main__':
    app.run(host='0.0.0.0', port=8080)
```

### 6.3 SSLè®¤è¯æœºåˆ¶

**ğŸ”’ åŸºäºSSLè¯ä¹¦çš„å®¢æˆ·ç«¯è®¤è¯**

```bash
# 1. å¯ç”¨SSLè®¤è¯æœºåˆ¶
sudo rabbitmq-plugins enable rabbitmq_auth_mechanism_ssl

# 2. SSLè®¤è¯é…ç½®
auth_mechanisms.1 = EXTERNAL
auth_mechanisms.2 = PLAIN

# SSLè¯ä¹¦é…ç½®
ssl_options.cacertfile = /etc/rabbitmq/ssl/ca_certificate.pem
ssl_options.certfile = /etc/rabbitmq/ssl/server_certificate.pem  
ssl_options.keyfile = /etc/rabbitmq/ssl/server_key.pem
ssl_options.verify = verify_peer
ssl_options.fail_if_no_peer_cert = true

# ä»è¯ä¹¦æå–ç”¨æˆ·å
ssl_cert_login_from = common_name
```

---

## 7. ğŸš€ é«˜çº§åŠŸèƒ½æ’ä»¶


### 7.1 è”é‚¦æ’ä»¶ï¼ˆFederationï¼‰

ğŸ¯ **è”é‚¦æ’ä»¶çš„ä½œç”¨**ï¼šè¿æ¥ä¸åŒRabbitMQé›†ç¾¤ï¼Œå®ç°è·¨åœ°åŸŸæ¶ˆæ¯ä¼ é€’

```
è”é‚¦æ’ä»¶åº”ç”¨åœºæ™¯ï¼š
å¤šæ•°æ®ä¸­å¿ƒéƒ¨ç½²ï¼š
- åŒ—äº¬æœºæˆ¿çš„RabbitMQ
- ä¸Šæµ·æœºæˆ¿çš„RabbitMQ  
- å¹¿å·æœºæˆ¿çš„RabbitMQ

ä¸šåŠ¡éœ€æ±‚ï¼š
- åŒ—äº¬çš„è®¢å•éœ€è¦åŒæ­¥åˆ°ä¸Šæµ·
- ä¸Šæµ·çš„åº“å­˜æ›´æ–°è¦é€šçŸ¥å¹¿å·
- å„æœºæˆ¿ç‹¬ç«‹è¿è¡Œï¼Œç½‘ç»œå¶å°”ä¸­æ–­

è”é‚¦æ’ä»¶è§£å†³æ–¹æ¡ˆï¼š
- å»ºç«‹æœºæˆ¿é—´çš„æ¶ˆæ¯è”é‚¦
- è‡ªåŠ¨é‡è¿å’Œæ¶ˆæ¯ç¼“å­˜
- åŒå‘æˆ–å•å‘æ¶ˆæ¯åŒæ­¥
```

**ğŸ”§ è”é‚¦æ’ä»¶é…ç½®**
```bash
# 1. å¯ç”¨è”é‚¦æ’ä»¶
sudo rabbitmq-plugins enable rabbitmq_federation
sudo rabbitmq-plugins enable rabbitmq_federation_management

# 2. åˆ›å»ºä¸Šæ¸¸è¿æ¥
rabbitmqctl set_parameter federation-upstream beijing-cluster \
'{"uri":"amqp://admin:password@beijing.rabbitmq.com:5672","expires":3600000}'

# 3. åˆ›å»ºè”é‚¦ç­–ç•¥
rabbitmqctl set_policy --apply-to exchanges federation-policy \
"^federated\." '{"federation-upstream-set":"all"}'

# 4. éªŒè¯è”é‚¦çŠ¶æ€
rabbitmqctl eval 'rabbit_federation_status:status().'
```

### 7.2 é“²å­æ’ä»¶ï¼ˆShovelï¼‰

**ğŸ”„ é“²å­æ’ä»¶ï¼šæ¶ˆæ¯æ¬è¿å·¥**

```
é“²å­æ’ä»¶çš„å½¢è±¡ç†è§£ï¼š
å°±åƒä¸€ä¸ª"æ¶ˆæ¯æ¬è¿å·¥"ï¼š
- ä»Aé˜Ÿåˆ—"é“²"æ¶ˆæ¯
- "æ¬è¿"åˆ°Bé˜Ÿåˆ—
- å¯ä»¥è·¨é›†ç¾¤æ¬è¿
- æ”¯æŒæ ¼å¼è½¬æ¢

ä½¿ç”¨åœºæ™¯ï¼š
æ•°æ®è¿ç§»ï¼šè€ç³»ç»Ÿåˆ°æ–°ç³»ç»Ÿ
åè®®è½¬æ¢ï¼šAMQPåˆ°MQTT
è´Ÿè½½å‡è¡¡ï¼šåˆ†æ•£æ¶ˆæ¯åˆ°å¤šä¸ªé˜Ÿåˆ—
```

```bash
# 1. å¯ç”¨é“²å­æ’ä»¶
sudo rabbitmq-plugins enable rabbitmq_shovel
sudo rabbitmq-plugins enable rabbitmq_shovel_management

# 2. åˆ›å»ºåŠ¨æ€é“²å­
rabbitmqctl set_parameter shovel data-migration \
'{
  "src-uri": "amqp://source-server:5672",
  "src-queue": "source-queue",
  "dest-uri": "amqp://dest-server:5672", 
  "dest-queue": "dest-queue",
  "ack-mode": "on-confirm",
  "publish-properties": {"delivery_mode": 2}
}'

# 3. æŸ¥çœ‹é“²å­çŠ¶æ€
rabbitmqctl shovel_status
```

**ğŸ“Š é“²å­vsè”é‚¦å¯¹æ¯”**

| ç‰¹æ€§ | **é“²å­æ’ä»¶** | **è”é‚¦æ’ä»¶** |
|------|-------------|-------------|
| ğŸ”¸ **ä½œç”¨èŒƒå›´** | `é˜Ÿåˆ—åˆ°é˜Ÿåˆ—` | `äº¤æ¢æœºåˆ°äº¤æ¢æœº` |
| ğŸ”¸ **æ¶ˆæ¯æµå‘** | `å•å‘ä¼ è¾“` | `å¯åŒå‘åŒæ­¥` |
| ğŸ”¸ **é…ç½®å¤æ‚åº¦** | `ç®€å•ç›´æ¥` | `ç›¸å¯¹å¤æ‚` |
| ğŸ”¸ **é€‚ç”¨åœºæ™¯** | `æ•°æ®è¿ç§»` | `é›†ç¾¤è”é‚¦` |

---

## 8. ğŸ”§ æ’ä»¶æ•…éšœæ’æŸ¥


### 8.1 å¸¸è§æ’ä»¶é—®é¢˜è¯Šæ–­

**ğŸš¨ æ’ä»¶å¯åŠ¨å¤±è´¥æ’æŸ¥**

```
é—®é¢˜æ’æŸ¥æ€è·¯ï¼š

1. æ£€æŸ¥æ’ä»¶çŠ¶æ€
   å‘½ä»¤ï¼šrabbitmq-plugins list | grep æ’ä»¶å
   
2. æŸ¥çœ‹é”™è¯¯æ—¥å¿—
   ä½ç½®ï¼š/var/log/rabbitmq/rabbit@hostname.log
   
3. æ£€æŸ¥ç«¯å£å†²çª
   å‘½ä»¤ï¼šsudo netstat -tlnp | grep ç«¯å£å·
   
4. éªŒè¯æƒé™è®¾ç½®
   ç¡®ä¿rabbitmqç”¨æˆ·æœ‰ç›¸åº”æƒé™
   
5. æ£€æŸ¥ä¾èµ–å…³ç³»
   æŸäº›æ’ä»¶ä¾èµ–å…¶ä»–æ’ä»¶
```

**ğŸ” å…·ä½“æ•…éšœæ¡ˆä¾‹**
```bash
# æ¡ˆä¾‹1ï¼šSTOMPæ’ä»¶ç«¯å£å†²çª
é—®é¢˜ç°è±¡ï¼šæ’ä»¶å¯ç”¨æˆåŠŸä½†æ— æ³•è¿æ¥
æ’æŸ¥æ­¥éª¤ï¼š
sudo lsof -i:61613  # æ£€æŸ¥ç«¯å£å ç”¨
sudo systemctl status rabbitmq-server  # æŸ¥çœ‹æœåŠ¡çŠ¶æ€
tail -f /var/log/rabbitmq/rabbit@*.log  # æŸ¥çœ‹å®æ—¶æ—¥å¿—

è§£å†³æ–¹æ³•ï¼š
# ä¿®æ”¹STOMPç«¯å£
echo "stomp.listeners.tcp.1 = 0.0.0.0:61614" >> /etc/rabbitmq/rabbitmq.conf
sudo systemctl restart rabbitmq-server

# æ¡ˆä¾‹2ï¼šMQTTæ’ä»¶è®¤è¯å¤±è´¥
é—®é¢˜ç°è±¡ï¼šå®¢æˆ·ç«¯è¿æ¥è¢«æ‹’ç»
æ’æŸ¥å‘½ä»¤ï¼š
rabbitmqctl list_users  # æ£€æŸ¥ç”¨æˆ·åˆ—è¡¨
rabbitmqctl list_permissions  # æ£€æŸ¥æƒé™è®¾ç½®

è§£å†³æ–¹æ³•ï¼š
rabbitmqctl add_user mqtt_user mqtt_pass
rabbitmqctl set_permissions mqtt_user ".*" ".*" ".*"
```

### 8.2 æ’ä»¶æ€§èƒ½ç›‘æ§

**ğŸ“Š ç›‘æ§æ’ä»¶è¿è¡ŒçŠ¶æ€**

```bash
# 1. æŸ¥çœ‹æ’ä»¶èµ„æºä½¿ç”¨
rabbitmqctl status | grep -A 10 "Memory"

# 2. ç›‘æ§è¿æ¥æ•°
rabbitmqctl list_connections | grep -c "stomp\|mqtt"

# 3. æŸ¥çœ‹é˜Ÿåˆ—çŠ¶æ€
rabbitmqctl list_queues name messages consumers

# 4. å®æ—¶ç›‘æ§è„šæœ¬
#!/bin/bash
# monitor_plugins.sh

while true; do
    echo "=== $(date) ==="
    echo "STOMPè¿æ¥æ•°ï¼š$(rabbitmqctl list_connections | grep -c stomp)"
    echo "MQTTè¿æ¥æ•°ï¼š$(rabbitmqctl list_connections | grep -c mqtt)"
    echo "Webè¿æ¥æ•°ï¼š$(rabbitmqctl list_connections | grep -c websocket)"
    echo "æ€»å†…å­˜ä½¿ç”¨ï¼š$(rabbitmqctl status | grep -A 5 Memory)"
    echo "------------------------"
    sleep 30
done
```

### 8.3 æ’ä»¶é…ç½®å¤‡ä»½ä¸æ¢å¤

**ğŸ’¾ é…ç½®ç®¡ç†æœ€ä½³å®è·µ**

```bash
# é…ç½®å¤‡ä»½è„šæœ¬
#!/bin/bash
# backup_rabbitmq_config.sh

BACKUP_DIR="/backup/rabbitmq/$(date +%Y%m%d_%H%M)"
mkdir -p $BACKUP_DIR

# å¤‡ä»½é…ç½®æ–‡ä»¶
cp /etc/rabbitmq/rabbitmq.conf $BACKUP_DIR/
cp /etc/rabbitmq/enabled_plugins $BACKUP_DIR/
cp /etc/rabbitmq/advanced.config $BACKUP_DIR/ 2>/dev/null

# å¯¼å‡ºç­–ç•¥å’Œå‚æ•°
rabbitmqctl export_definitions $BACKUP_DIR/definitions.json

# è®°å½•å½“å‰æ’ä»¶çŠ¶æ€
rabbitmq-plugins list > $BACKUP_DIR/plugins_status.txt

echo "âœ… é…ç½®å¤‡ä»½å®Œæˆï¼š$BACKUP_DIR"

# é…ç½®æ¢å¤è„šæœ¬
#!/bin/bash  
# restore_rabbitmq_config.sh

BACKUP_DIR=$1
if [ -z "$BACKUP_DIR" ]; then
    echo "ç”¨æ³•ï¼š$0 <å¤‡ä»½ç›®å½•>"
    exit 1
fi

# åœæ­¢RabbitMQæœåŠ¡
sudo systemctl stop rabbitmq-server

# æ¢å¤é…ç½®æ–‡ä»¶
cp $BACKUP_DIR/rabbitmq.conf /etc/rabbitmq/
cp $BACKUP_DIR/enabled_plugins /etc/rabbitmq/
cp $BACKUP_DIR/advanced.config /etc/rabbitmq/ 2>/dev/null

# å¯åŠ¨æœåŠ¡
sudo systemctl start rabbitmq-server

# ç­‰å¾…æœåŠ¡å¯åŠ¨
sleep 10

# å¯¼å…¥ç­–ç•¥å’Œå‚æ•°
rabbitmqctl import_definitions $BACKUP_DIR/definitions.json

echo "âœ… é…ç½®æ¢å¤å®Œæˆ"
```

---

## 9. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 9.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ åè®®æ’ä»¶ä½œç”¨ï¼šè®©RabbitMQæ”¯æŒå¤šç§é€šä¿¡åè®®ï¼Œæ»¡è¶³ä¸åŒåº”ç”¨éœ€æ±‚
ğŸ”¸ STOMPæ’ä»¶ï¼šç®€å•æ–‡æœ¬åè®®ï¼Œé€‚åˆWebåº”ç”¨å’Œè„šæœ¬è¯­è¨€
ğŸ”¸ MQTTæ’ä»¶ï¼šç‰©è”ç½‘ä¸“ç”¨åè®®ï¼Œè½»é‡çº§ä½åŠŸè€—
ğŸ”¸ Webæ’ä»¶ï¼šé€šè¿‡WebSocketåœ¨æµè§ˆå™¨ä¸­ç›´æ¥è¿æ¥RabbitMQ
ğŸ”¸ è®¤è¯æ’ä»¶ï¼šä¸ä¼ä¸šç°æœ‰èº«ä»½ç³»ç»Ÿé›†æˆ
ğŸ”¸ é«˜çº§æ’ä»¶ï¼šè”é‚¦å’Œé“²å­æ’ä»¶å®ç°è·¨é›†ç¾¤æ¶ˆæ¯ä¼ é€’
ğŸ”¸ æ•…éšœæ’æŸ¥ï¼šç³»ç»Ÿæ€§çš„é—®é¢˜è¯Šæ–­å’Œè§£å†³æ–¹æ³•
```

### 9.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ æ’ä»¶é€‰æ‹©ç­–ç•¥**
```
æ ¹æ®åº”ç”¨åœºæ™¯é€‰æ‹©ï¼š
Webåº”ç”¨ â†’ Web STOMP/Web MQTT
ç‰©è”ç½‘è®¾å¤‡ â†’ MQTTæ’ä»¶
ä¼ä¸šé›†æˆ â†’ AMQP 1.0æ’ä»¶
è·¨é›†ç¾¤é€šä¿¡ â†’ è”é‚¦/é“²å­æ’ä»¶

è€ƒè™‘å› ç´ ï¼š
- å®¢æˆ·ç«¯æŠ€æœ¯æ ˆ
- ç½‘ç»œç¯å¢ƒé™åˆ¶
- å®‰å…¨è¦æ±‚
- æ€§èƒ½éœ€æ±‚
```

**ğŸ”¹ æ’ä»¶é…ç½®åŸåˆ™**
```
å®‰å…¨ä¼˜å…ˆï¼š
- ç¦ç”¨ä¸éœ€è¦çš„æ’ä»¶
- é…ç½®é€‚å½“çš„è®¤è¯æœºåˆ¶
- ä½¿ç”¨SSLåŠ å¯†ä¼ è¾“

æ€§èƒ½è€ƒè™‘ï¼š
- ç›‘æ§æ’ä»¶èµ„æºä½¿ç”¨
- åˆç†è®¾ç½®è¿æ¥é™åˆ¶
- å®šæœŸæ¸…ç†æ— ç”¨è¿æ¥

è¿ç»´å‹å¥½ï¼š
- è¯¦ç»†çš„æ—¥å¿—é…ç½®
- å®Œå–„çš„ç›‘æ§æœºåˆ¶
- å®šæœŸå¤‡ä»½é…ç½®
```

**ğŸ”¹ å¸¸ç”¨æ’ä»¶ç»„åˆ**
```
Webåº”ç”¨åœºæ™¯ï¼š
rabbitmq_management + rabbitmq_web_stomp

ç‰©è”ç½‘åœºæ™¯ï¼š  
rabbitmq_mqtt + rabbitmq_web_mqtt

ä¼ä¸šçº§éƒ¨ç½²ï¼š
rabbitmq_auth_backend_ldap + rabbitmq_federation

å¼€å‘æµ‹è¯•ï¼š
rabbitmq_management + rabbitmq_stomp + rabbitmq_mqtt
```

### 9.3 å®é™…åº”ç”¨ä»·å€¼


**ğŸ¯ ç”Ÿäº§ç¯å¢ƒåº”ç”¨åœºæ™¯**
- **æ™ºèƒ½åˆ¶é€ **ï¼šMQTTåè®®è¿æ¥å·¥å‚è®¾å¤‡ï¼Œå®æ—¶é‡‡é›†ç”Ÿäº§æ•°æ®
- **åœ¨çº¿æ•™è‚²**ï¼šWeb STOMPå®ç°å¸ˆç”Ÿå®æ—¶äº’åŠ¨å’Œæ¶ˆæ¯æ¨é€
- **é‡‘èäº¤æ˜“**ï¼šAMQP 1.0ç¡®ä¿è·¨ç³»ç»Ÿäº¤æ˜“æ¶ˆæ¯çš„å¯é ä¼ é€’
- **ç”µå•†å¹³å°**ï¼šè”é‚¦æ’ä»¶å®ç°å¤šåœ°åŸŸè®¢å•ç³»ç»Ÿçš„æ•°æ®åŒæ­¥

**ğŸ”§ è¿ç»´å®è·µå»ºè®®**
- **æ¸è¿›éƒ¨ç½²**ï¼šå…ˆåœ¨æµ‹è¯•ç¯å¢ƒéªŒè¯æ’ä»¶åŠŸèƒ½å’Œæ€§èƒ½
- **ç›‘æ§å®Œå–„**ï¼šå»ºç«‹æ’ä»¶çŠ¶æ€å’Œæ€§èƒ½çš„ç›‘æ§å‘Šè­¦æœºåˆ¶
- **æ–‡æ¡£ç®¡ç†**ï¼šè®°å½•æ’ä»¶é…ç½®å˜æ›´å’Œæ•…éšœå¤„ç†è¿‡ç¨‹
- **å®šæœŸç»´æŠ¤**ï¼šæ¸…ç†æ— ç”¨æ’ä»¶ï¼Œæ›´æ–°å®‰å…¨é…ç½®

**ğŸ“ˆ æŠ€æœ¯å‘å±•è¶‹åŠ¿**
- **äº‘åŸç”Ÿæ”¯æŒ**ï¼šå®¹å™¨åŒ–éƒ¨ç½²çš„æ’ä»¶ç®¡ç†ä¼˜åŒ–
- **å®‰å…¨å¢å¼º**ï¼šæ›´å¼ºçš„è®¤è¯å’ŒåŠ å¯†æœºåˆ¶
- **æ€§èƒ½ä¼˜åŒ–**ï¼šå‡å°‘æ’ä»¶å¯¹ç³»ç»Ÿæ€§èƒ½çš„å½±å“
- **è¿ç»´è‡ªåŠ¨åŒ–**ï¼šæ™ºèƒ½åŒ–çš„æ’ä»¶æ•…éšœè¯Šæ–­å’Œè‡ªæ„ˆ

**æ ¸å¿ƒè®°å¿†å£è¯€**ï¼š
- åè®®æ’ä»¶å¦‚ç¿»è¯‘ï¼Œè®©å„ç§è¯­è¨€éƒ½èƒ½é€š
- STOMPç®€å•æ˜“è°ƒè¯•ï¼ŒMQTTç‰©è”ç½‘é¦–é€‰
- Webæ’ä»¶è¿æµè§ˆå™¨ï¼Œè®¤è¯æ’ä»¶ä¿å®‰å…¨
- è”é‚¦é“²å­è·¨é›†ç¾¤ï¼Œç›‘æ§å¤‡ä»½ä¸èƒ½å°‘