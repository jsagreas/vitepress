---
title: 7ã€ç”¨æˆ·ç®¡ç†å‘½ä»¤
---
## ğŸ“š ç›®å½•

1. [ç”¨æˆ·ç®¡ç†åŸºç¡€æ¦‚å¿µ](#1-ç”¨æˆ·ç®¡ç†åŸºç¡€æ¦‚å¿µ)
2. [ç”¨æˆ·åŸºæœ¬æ“ä½œå‘½ä»¤](#2-ç”¨æˆ·åŸºæœ¬æ“ä½œå‘½ä»¤)
3. [ç”¨æˆ·æ ‡ç­¾ç®¡ç†](#3-ç”¨æˆ·æ ‡ç­¾ç®¡ç†)
4. [æƒé™æ§åˆ¶ç³»ç»Ÿ](#4-æƒé™æ§åˆ¶ç³»ç»Ÿ)
5. [å¯†ç å®‰å…¨ç®¡ç†](#5-å¯†ç å®‰å…¨ç®¡ç†)
6. [å®é™…åº”ç”¨åœºæ™¯](#6-å®é™…åº”ç”¨åœºæ™¯)
7. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#7-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ” ç”¨æˆ·ç®¡ç†åŸºç¡€æ¦‚å¿µ


### 1.1 ä»€ä¹ˆæ˜¯RabbitMQç”¨æˆ·ç³»ç»Ÿ


**é€šä¿—ç†è§£**ï¼šå°±åƒä½ å®¶çš„é—¨é”ç³»ç»Ÿä¸€æ ·ï¼ŒRabbitMQéœ€è¦çŸ¥é“è°èƒ½è¿›æ¥ï¼Œè°ä¸èƒ½è¿›æ¥ã€‚

```
ç°å®ç”Ÿæ´»ä¸­çš„ä¾‹å­ï¼š
å…¬å¸å¤§æ¥¼ â†’ RabbitMQæœåŠ¡å™¨
å‘˜å·¥å¡ç‰‡ â†’ ç”¨æˆ·è´¦å·
ä¸åŒæ¥¼å±‚æƒé™ â†’ ä¸åŒèµ„æºè®¿é—®æƒé™
ç®¡ç†å‘˜å¡ç‰‡ â†’ ç®¡ç†å‘˜ç”¨æˆ·
è®¿å®¢å¡ç‰‡ â†’ æ™®é€šç”¨æˆ·
```

**æ ¸å¿ƒä½œç”¨**ï¼š
- ğŸ”’ **èº«ä»½éªŒè¯**ï¼šè¯æ˜ä½ æ˜¯è°ï¼ˆç”¨æˆ·å+å¯†ç ï¼‰
- ğŸ¯ **æƒé™æ§åˆ¶**ï¼šå†³å®šä½ èƒ½åšä»€ä¹ˆï¼ˆè¯»/å†™/é…ç½®æƒé™ï¼‰
- ğŸ·ï¸ **è§’è‰²åŒºåˆ†**ï¼šä¸åŒç±»å‹ç”¨æˆ·æœ‰ä¸åŒèƒ½åŠ›ï¼ˆç®¡ç†å‘˜/æ™®é€šç”¨æˆ·ï¼‰

### 1.2 ç”¨æˆ·ç³»ç»Ÿçš„é‡è¦æ€§


**ä¸ºä»€ä¹ˆéœ€è¦ç”¨æˆ·ç®¡ç†ï¼Ÿ**
```
å®‰å…¨æ€§è€ƒè™‘ï¼š
â€¢ é˜²æ­¢æœªæˆæƒè®¿é—®
â€¢ ä¿æŠ¤æ•æ„Ÿæ•°æ®
â€¢ é¿å…è¯¯æ“ä½œç ´å

ç®¡ç†ä¾¿åˆ©æ€§ï¼š
â€¢ ä¸åŒé¡¹ç›®ç”¨ä¸åŒç”¨æˆ·
â€¢ åˆ†ç¦»å¼€å‘å’Œç”Ÿäº§ç¯å¢ƒ
â€¢ å›¢é˜Ÿåä½œæƒé™åˆ†é…
```

### 1.3 ç”¨æˆ·ã€æƒé™ã€èµ„æºå…³ç³»å›¾


```
ç”¨æˆ·ç³»ç»Ÿæ¶æ„å›¾ï¼š

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚    ç”¨æˆ·     â”‚â”€â”€â”€â†’â”‚    æƒé™     â”‚â”€â”€â”€â†’â”‚    èµ„æº     â”‚
    â”‚ (Username)  â”‚    â”‚(Permission) â”‚    â”‚(Exchange/   â”‚
    â”‚   +å¯†ç      â”‚    â”‚  +æ ‡ç­¾     â”‚    â”‚ Queue/etc)  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚                   â”‚                   â”‚
           â–¼                   â–¼                   â–¼
      èº«ä»½éªŒè¯             è®¿é—®æ§åˆ¶            å…·ä½“æ“ä½œ
    (æ˜¯å¦æ˜¯æœ¬äºº)         (èƒ½åšä»€ä¹ˆ)          (è¯»å†™æ•°æ®)
```

---

## 2. ğŸ‘¤ ç”¨æˆ·åŸºæœ¬æ“ä½œå‘½ä»¤


### 2.1 æ·»åŠ ç”¨æˆ· - add_user


**å‘½ä»¤æ ¼å¼**ï¼š`rabbitmqctl add_user {username} {password}`

**é€šä¿—è§£é‡Š**ï¼šå°±åƒç»™æ–°å‘˜å·¥åŠå·¥å¡ï¼Œéœ€è¦æä¾›å§“åå’Œè®¾ç½®å¯†ç ã€‚

```bash
# åˆ›å»ºä¸€ä¸ªåä¸º"developer"çš„ç”¨æˆ·ï¼Œå¯†ç æ˜¯"dev123"
rabbitmqctl add_user developer dev123

# åˆ›å»ºç®¡ç†å‘˜ç”¨æˆ·
rabbitmqctl add_user admin admin123

# åˆ›å»ºç”Ÿäº§ç¯å¢ƒç”¨æˆ·
rabbitmqctl add_user prod_user prod_secret
```

**ğŸ’¡ å®ç”¨å»ºè®®**ï¼š
- ç”¨æˆ·åè¦æœ‰æ„ä¹‰ï¼Œæ¯”å¦‚æŒ‰é¡¹ç›®æˆ–è§’è‰²å‘½å
- å¯†ç è¦è¶³å¤Ÿå¤æ‚ï¼Œå»ºè®®8ä½ä»¥ä¸Š
- é¿å…ä½¿ç”¨é»˜è®¤ç”¨æˆ·åå¦‚"admin"ã€"user"

### 2.2 åˆ é™¤ç”¨æˆ· - delete_user


**å‘½ä»¤æ ¼å¼**ï¼š`rabbitmqctl delete_user {username}`

**é€šä¿—è§£é‡Š**ï¼šå°±åƒå‘˜å·¥ç¦»èŒæ—¶æ”¶å›å·¥å¡ï¼Œå½»åº•åˆ é™¤ç”¨æˆ·è´¦å·ã€‚

```bash
# åˆ é™¤å¼€å‘ç”¨æˆ·
rabbitmqctl delete_user developer

# åˆ é™¤ä¸´æ—¶æµ‹è¯•ç”¨æˆ·
rabbitmqctl delete_user test_user
```

> âš ï¸ **é‡è¦æé†’**ï¼šåˆ é™¤ç”¨æˆ·æ˜¯ä¸å¯é€†æ“ä½œï¼Œåˆ é™¤å‰è¯·ç¡®è®¤è¯¥ç”¨æˆ·ä¸å†éœ€è¦ï¼

### 2.3 ä¿®æ”¹å¯†ç  - change_password


**å‘½ä»¤æ ¼å¼**ï¼š`rabbitmqctl change_password {username} {new_password}`

**é€šä¿—è§£é‡Š**ï¼šå°±åƒå‘˜å·¥å¿˜è®°å¯†ç éœ€è¦é‡ç½®ï¼Œæˆ–è€…å®šæœŸæ›´æ¢å¯†ç æé«˜å®‰å…¨æ€§ã€‚

```bash
# ä¿®æ”¹developerç”¨æˆ·çš„å¯†ç 
rabbitmqctl change_password developer new_dev_password

# é‡ç½®ç®¡ç†å‘˜å¯†ç 
rabbitmqctl change_password admin new_admin_pass
```

**ğŸ”§ ä½¿ç”¨åœºæ™¯**ï¼š
- å®šæœŸå¯†ç æ›´æ¢ï¼ˆå®‰å…¨ç­–ç•¥ï¼‰
- å¯†ç æ³„éœ²åç´§æ€¥æ›´æ¢
- æ–°äººæ¥æ‰‹é¡¹ç›®æ—¶æ›´æ¢å¯†ç 

### 2.4 æŸ¥çœ‹æ‰€æœ‰ç”¨æˆ· - list_users


**å‘½ä»¤æ ¼å¼**ï¼š`rabbitmqctl list_users`

**é€šä¿—è§£é‡Š**ï¼šå°±åƒæŸ¥çœ‹å…¬å¸å‘˜å·¥èŠ±åå†Œï¼Œçœ‹çœ‹ç°åœ¨æœ‰å“ªäº›ç”¨æˆ·ã€‚

```bash
# æŸ¥çœ‹æ‰€æœ‰ç”¨æˆ·åŠå…¶æ ‡ç­¾
rabbitmqctl list_users
```

**è¾“å‡ºç¤ºä¾‹**ï¼š
```
Listing users ...
user        tags
guest       [administrator]
developer   [monitoring]
admin       [administrator]
prod_user   []
```

**è¾“å‡ºè§£é‡Š**ï¼š
- **useråˆ—**ï¼šç”¨æˆ·å
- **tagsåˆ—**ï¼šç”¨æˆ·æ ‡ç­¾ï¼ˆè§’è‰²/æƒé™çº§åˆ«ï¼‰

### 2.5 éªŒè¯ç”¨æˆ·èº«ä»½ - authenticate_user


**å‘½ä»¤æ ¼å¼**ï¼š`rabbitmqctl authenticate_user {username} {password}`

**é€šä¿—è§£é‡Š**ï¼šå°±åƒéªŒè¯å‘˜å·¥å¡æ˜¯å¦æœ‰æ•ˆï¼Œæ£€æŸ¥ç”¨æˆ·åå¯†ç æ˜¯å¦æ­£ç¡®ã€‚

```bash
# éªŒè¯developerç”¨æˆ·å¯†ç æ˜¯å¦æ­£ç¡®
rabbitmqctl authenticate_user developer dev123
```

**è¿”å›ç»“æœ**ï¼š
- `Success` - éªŒè¯æˆåŠŸ
- `Error` - éªŒè¯å¤±è´¥

---

## 3. ğŸ·ï¸ ç”¨æˆ·æ ‡ç­¾ç®¡ç†


### 3.1 ä»€ä¹ˆæ˜¯ç”¨æˆ·æ ‡ç­¾


**é€šä¿—ç†è§£**ï¼šæ ‡ç­¾å°±åƒå‘˜å·¥çš„èŒä½æ ‡è¯†ï¼Œå†³å®šäº†ç”¨æˆ·çš„"æƒåŠ›çº§åˆ«"ã€‚

```
æ ‡ç­¾ç³»ç»Ÿç±»æ¯”ï¼š
å…¬å¸èŒä½        â†’    RabbitMQæ ‡ç­¾        â†’    å®é™…æƒé™
CEO            â†’    administrator      â†’    æ‰€æœ‰æƒé™
éƒ¨é—¨ç»ç†        â†’    monitoring         â†’    ç›‘æ§æƒé™  
æ™®é€šå‘˜å·¥        â†’    management         â†’    ç®¡ç†éƒ¨åˆ†èµ„æº
å®ä¹ ç”Ÿ          â†’    (æ— æ ‡ç­¾)            â†’    åŸºç¡€æƒé™
```

### 3.2 å¸¸ç”¨æ ‡ç­¾ç±»å‹è¯¦è§£


| æ ‡ç­¾åç§° | **æƒé™çº§åˆ«** | **èƒ½åšä»€ä¹ˆ** | **é€‚ç”¨åœºæ™¯** |
|---------|-------------|-------------|-------------|
| ğŸ”´ **administrator** | `æœ€é«˜æƒé™` | `ç®¡ç†ç”¨æˆ·ã€VHostã€æƒé™ç­‰ä¸€åˆ‡æ“ä½œ` | `ç³»ç»Ÿç®¡ç†å‘˜` |
| ğŸŸ¡ **monitoring** | `ç›‘æ§æƒé™` | `æŸ¥çœ‹ç»Ÿè®¡ä¿¡æ¯ã€é˜Ÿåˆ—çŠ¶æ€ç­‰` | `è¿ç»´äººå‘˜` |
| ğŸŸ¢ **management** | `ç®¡ç†æƒé™` | `ç®¡ç†è‡ªå·±æœ‰æƒé™çš„èµ„æº` | `é¡¹ç›®è´Ÿè´£äºº` |
| ğŸ”µ **policymaker** | `ç­–ç•¥æƒé™` | `è®¾ç½®ç­–ç•¥å’Œå‚æ•°` | `æ¶æ„å¸ˆ` |
| âšª **æ— æ ‡ç­¾** | `åŸºç¡€æƒé™` | `åªèƒ½ä½¿ç”¨è¢«æ˜ç¡®æˆæƒçš„èµ„æº` | `æ™®é€šå¼€å‘è€…` |

### 3.3 è®¾ç½®ç”¨æˆ·æ ‡ç­¾ - set_user_tags


**å‘½ä»¤æ ¼å¼**ï¼š`rabbitmqctl set_user_tags {username} {tags}`

**é€šä¿—è§£é‡Š**ï¼šå°±åƒç»™å‘˜å·¥åˆ†é…èŒä½ï¼Œå†³å®šä»–ä»¬çš„æƒé™çº§åˆ«ã€‚

```bash
# è®¾ç½®ç”¨æˆ·ä¸ºç®¡ç†å‘˜
rabbitmqctl set_user_tags admin administrator

# è®¾ç½®ç”¨æˆ·ä¸ºç›‘æ§å‘˜
rabbitmqctl set_user_tags developer monitoring

# è®¾ç½®å¤šä¸ªæ ‡ç­¾ï¼ˆç”¨ç©ºæ ¼åˆ†éš”ï¼‰
rabbitmqctl set_user_tags team_lead management monitoring

# ç§»é™¤æ‰€æœ‰æ ‡ç­¾ï¼ˆè®¾ç½®ä¸ºç©ºï¼‰
rabbitmqctl set_user_tags normal_user
```

### 3.4 æ ‡ç­¾ç®¡ç†æœ€ä½³å®è·µ


**ğŸ¯ æ ‡ç­¾åˆ†é…åŸåˆ™**ï¼š
```
æœ€å°æƒé™åŸåˆ™ï¼š
âœ… åªç»™å¿…è¦çš„æƒé™ï¼Œä¸è¦è¿‡åº¦æˆæƒ
âœ… æ™®é€šå¼€å‘è€…é€šå¸¸ä¸éœ€è¦æ ‡ç­¾
âœ… ç”Ÿäº§ç¯å¢ƒä¸¥æ ¼æ§åˆ¶administratoræ ‡ç­¾

è§’è‰²æ¸…æ™°åŸåˆ™ï¼š
âœ… ä¸€ä¸ªç”¨æˆ·ä¸€èˆ¬åªéœ€è¦ä¸€ä¸ªä¸»è¦æ ‡ç­¾
âœ… ç‰¹æ®Šæƒ…å†µæ‰éœ€è¦å¤šä¸ªæ ‡ç­¾ç»„åˆ
âœ… é¿å…æƒé™æ··ä¹±
```

---

## 4. ğŸ”’ æƒé™æ§åˆ¶ç³»ç»Ÿ


### 4.1 æƒé™ç³»ç»ŸåŸºç¡€æ¦‚å¿µ


**æƒé™çš„ä¸‰ä¸ªç»´åº¦**ï¼š
```
æƒé™æ§åˆ¶æ¨¡å‹ï¼š

ç”¨æˆ· + VHost + èµ„æº = å…·ä½“æƒé™

ç¤ºä¾‹è¯´æ˜ï¼š
ç”¨æˆ·"developer" åœ¨ VHost"/dev" å¯¹ é˜Ÿåˆ—"task_queue" æœ‰ "è¯»å†™" æƒé™
```

### 4.2 æƒé™ç±»å‹è¯¦è§£


**ğŸ”¸ Configureæƒé™ï¼ˆé…ç½®æƒé™ï¼‰**
- **å«ä¹‰**ï¼šèƒ½å¦åˆ›å»ºå’Œåˆ é™¤èµ„æº
- **åŒ…æ‹¬**ï¼šåˆ›å»ºé˜Ÿåˆ—ã€äº¤æ¢æœºã€ç»‘å®šå…³ç³»
- **æ¯”å–»**ï¼šå°±åƒèƒ½å¦åœ¨åŠå…¬å®¤é‡Œæ‘†æ”¾æ–°æ¡Œæ¤…

**ğŸ”¸ Writeæƒé™ï¼ˆå†™æƒé™ï¼‰**  
- **å«ä¹‰**ï¼šèƒ½å¦å‘é€æ¶ˆæ¯åˆ°èµ„æº
- **åŒ…æ‹¬**ï¼šå‘å¸ƒæ¶ˆæ¯åˆ°äº¤æ¢æœºã€é˜Ÿåˆ—
- **æ¯”å–»**ï¼šå°±åƒèƒ½å¦å¾€æ–‡ä»¶æŸœé‡Œæ”¾æ–‡æ¡£

**ğŸ”¸ Readæƒé™ï¼ˆè¯»æƒé™ï¼‰**
- **å«ä¹‰**ï¼šèƒ½å¦ä»èµ„æºè·å–æ¶ˆæ¯
- **åŒ…æ‹¬**ï¼šæ¶ˆè´¹é˜Ÿåˆ—æ¶ˆæ¯ã€è·å–é˜Ÿåˆ—ä¿¡æ¯
- **æ¯”å–»**ï¼šå°±åƒèƒ½å¦ä»æ–‡ä»¶æŸœé‡Œå–æ–‡æ¡£

### 4.3 æƒé™è®¾ç½®å‘½ä»¤


```bash
# è®¾ç½®ç”¨æˆ·æƒé™çš„å®Œæ•´å‘½ä»¤æ ¼å¼
rabbitmqctl set_permissions [-p <vhost>] <user> <conf> <write> <read>

# å®é™…ç¤ºä¾‹ï¼šç»™developerç”¨æˆ·åœ¨é»˜è®¤VHostè®¾ç½®æƒé™
rabbitmqctl set_permissions developer ".*" ".*" ".*"

# ç»™ç”¨æˆ·åœ¨ç‰¹å®šVHostè®¾ç½®æœ‰é™æƒé™
rabbitmqctl set_permissions -p /production prod_user "task_.*" "task_.*" "task_.*"
```

**æƒé™æ¨¡å¼è§£é‡Š**ï¼š
- `".*"` - æ‰€æœ‰èµ„æºï¼ˆæ­£åˆ™è¡¨è¾¾å¼ï¼Œç‚¹æ˜Ÿè¡¨ç¤ºåŒ¹é…ä»»æ„å­—ç¬¦ï¼‰
- `"task_.*"` - åªèƒ½æ“ä½œä»¥"task_"å¼€å¤´çš„èµ„æº
- `""` - æ²¡æœ‰æƒé™

---

## 5. ğŸ” å¯†ç å®‰å…¨ç®¡ç†


### 5.1 å¯†ç å“ˆå¸Œå‘½ä»¤ - hash_password


**å‘½ä»¤æ ¼å¼**ï¼š`rabbitmqctl hash_password {password}`

**é€šä¿—è§£é‡Š**ï¼šå°±åƒæŠŠå¯†ç "åŠ å¯†"å­˜å‚¨ï¼Œå³ä½¿åˆ«äººçœ‹åˆ°å­˜å‚¨çš„å†…å®¹ä¹Ÿä¸çŸ¥é“åŸå§‹å¯†ç ã€‚

```bash
# ç”Ÿæˆå¯†ç çš„å“ˆå¸Œå€¼
rabbitmqctl hash_password mypassword123

# è¾“å‡ºç¤ºä¾‹ï¼ˆå“ˆå¸Œåçš„å¯†ç ï¼‰
{rabbit_password_hashing_sha256,<<"åŠ å¯†åçš„ä¸€ä¸²å­—ç¬¦">>}
```

**ğŸ”§ ä½¿ç”¨åœºæ™¯**ï¼š
- æ‰¹é‡åˆ›å»ºç”¨æˆ·æ—¶é¢„å…ˆç”Ÿæˆå¯†ç å“ˆå¸Œ
- å¯†ç å®‰å…¨å®¡è®¡
- é…ç½®æ–‡ä»¶ä¸­å­˜å‚¨åŠ å¯†å¯†ç 

### 5.2 æ¸…é™¤å¯†ç  - clear_password


**å‘½ä»¤æ ¼å¼**ï¼š`rabbitmqctl clear_password {username}`

**é€šä¿—è§£é‡Š**ï¼šç§»é™¤ç”¨æˆ·å¯†ç ï¼Œè¯¥ç”¨æˆ·å°†æ— æ³•ç™»å½•ï¼ˆç´§æ€¥ç¦ç”¨è´¦æˆ·ï¼‰ã€‚

```bash
# æ¸…é™¤ç”¨æˆ·å¯†ç ï¼ˆç¦ç”¨è´¦æˆ·ï¼‰
rabbitmqctl clear_password temp_user
```

> âš ï¸ **æ³¨æ„**ï¼šæ¸…é™¤å¯†ç åç”¨æˆ·æ— æ³•ç™»å½•ï¼Œéœ€è¦é‡æ–°è®¾ç½®å¯†ç æ‰èƒ½ä½¿ç”¨

### 5.3 å¯†ç å®‰å…¨å»ºè®®


**ğŸ’¡ å¯†ç æœ€ä½³å®è·µ**ï¼š
```
å¼ºå¯†ç è¦æ±‚ï¼š
âœ… è‡³å°‘8ä½å­—ç¬¦
âœ… åŒ…å«å¤§å°å†™å­—æ¯ã€æ•°å­—ã€ç‰¹æ®Šå­—ç¬¦
âœ… é¿å…ä½¿ç”¨å¸¸è§è¯æ±‡
âœ… å®šæœŸæ›´æ¢ï¼ˆå»ºè®®3-6ä¸ªæœˆï¼‰

ç¯å¢ƒéš”ç¦»ï¼š
âœ… å¼€å‘ç¯å¢ƒå’Œç”Ÿäº§ç¯å¢ƒä½¿ç”¨ä¸åŒå¯†ç 
âœ… ä¸åŒé¡¹ç›®ä½¿ç”¨ä¸åŒç”¨æˆ·
âœ… ä¸´æ—¶ç”¨æˆ·åŠæ—¶æ¸…ç†
```

---

## 6. ğŸš€ å®é™…åº”ç”¨åœºæ™¯


### 6.1 å›¢é˜Ÿå¼€å‘ç¯å¢ƒæ­å»º


**åœºæ™¯æè¿°**ï¼šä¸ºä¸€ä¸ª5äººå¼€å‘å›¢é˜Ÿæ­å»ºRabbitMQç¯å¢ƒ

```bash
# 1. åˆ›å»ºé¡¹ç›®ç®¡ç†å‘˜
rabbitmqctl add_user project_admin admin_2024

# 2. è®¾ç½®ç®¡ç†å‘˜æ ‡ç­¾
rabbitmqctl set_user_tags project_admin administrator

# 3. åˆ›å»ºå¼€å‘äººå‘˜è´¦æˆ·
rabbitmqctl add_user dev_alice alice_dev123
rabbitmqctl add_user dev_bob bob_dev123
rabbitmqctl add_user dev_charlie charlie_dev123

# 4. è®¾ç½®å¼€å‘äººå‘˜æƒé™ï¼ˆåªèƒ½ç®¡ç†å¼€å‘ç›¸å…³èµ„æºï¼‰
rabbitmqctl set_permissions dev_alice "dev_.*" "dev_.*" "dev_.*"
rabbitmqctl set_permissions dev_bob "dev_.*" "dev_.*" "dev_.*"
rabbitmqctl set_permissions dev_charlie "dev_.*" "dev_.*" "dev_.*"
```

### 6.2 ç”Ÿäº§ç¯å¢ƒå®‰å…¨é…ç½®


**åœºæ™¯æè¿°**ï¼šé…ç½®ç”Ÿäº§ç¯å¢ƒçš„å®‰å…¨ç”¨æˆ·ç­–ç•¥

```bash
# 1. åˆ é™¤é»˜è®¤guestç”¨æˆ·ï¼ˆå®‰å…¨è€ƒè™‘ï¼‰
rabbitmqctl delete_user guest

# 2. åˆ›å»ºç”Ÿäº§ç®¡ç†å‘˜
rabbitmqctl add_user prod_admin $(openssl rand -base64 32)
rabbitmqctl set_user_tags prod_admin administrator

# 3. åˆ›å»ºåº”ç”¨ä¸“ç”¨ç”¨æˆ·
rabbitmqctl add_user app_user secure_app_password
rabbitmqctl set_permissions -p /production app_user "app_.*" "app_.*" "app_.*"

# 4. åˆ›å»ºç›‘æ§ç”¨æˆ·
rabbitmqctl add_user monitor_user monitor_pass
rabbitmqctl set_user_tags monitor_user monitoring
```

### 6.3 æƒé™æ•…éšœæ’æŸ¥


**å¸¸è§é—®é¢˜åœºæ™¯**ï¼š

```
é—®é¢˜1ï¼šç”¨æˆ·æ— æ³•å‘é€æ¶ˆæ¯
æ’æŸ¥æ­¥éª¤ï¼š
1ï¸âƒ£ æ£€æŸ¥ç”¨æˆ·æ˜¯å¦å­˜åœ¨ï¼šrabbitmqctl list_users
2ï¸âƒ£ æ£€æŸ¥ç”¨æˆ·æƒé™ï¼šrabbitmqctl list_user_permissions developer
3ï¸âƒ£ æ£€æŸ¥VHostæƒé™ï¼šrabbitmqctl list_permissions -p /dev

é—®é¢˜2ï¼šç®¡ç†ç•Œé¢æ— æ³•è®¿é—®
æ’æŸ¥æ­¥éª¤ï¼š
1ï¸âƒ£ æ£€æŸ¥ç”¨æˆ·æ ‡ç­¾ï¼šrabbitmqctl list_users
2ï¸âƒ£ ç¡®è®¤æ˜¯å¦æœ‰managementæ ‡ç­¾æˆ–administratoræ ‡ç­¾
3ï¸âƒ£ é‡æ–°è®¾ç½®æ ‡ç­¾ï¼šrabbitmqctl set_user_tags user management
```

---

## 7. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 7.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒå‘½ä»¤


```
ğŸ”¸ ç”¨æˆ·åŸºç¡€æ“ä½œï¼š
add_user - æ·»åŠ æ–°ç”¨æˆ·ï¼ˆåƒåŠå·¥å¡ï¼‰
delete_user - åˆ é™¤ç”¨æˆ·ï¼ˆåƒæ”¶å›å·¥å¡ï¼‰
change_password - ä¿®æ”¹å¯†ç ï¼ˆåƒé‡ç½®å¯†ç ï¼‰
list_users - æŸ¥çœ‹æ‰€æœ‰ç”¨æˆ·ï¼ˆåƒæŸ¥å‘˜å·¥èŠ±åå†Œï¼‰

ğŸ”¸ æƒé™ç®¡ç†ï¼š
set_user_tags - è®¾ç½®ç”¨æˆ·æ ‡ç­¾ï¼ˆåƒåˆ†é…èŒä½ï¼‰
set_permissions - è®¾ç½®èµ„æºæƒé™ï¼ˆåƒåˆ†é…åŠå…¬åŒºåŸŸï¼‰

ğŸ”¸ å®‰å…¨ç®¡ç†ï¼š
authenticate_user - éªŒè¯ç”¨æˆ·ï¼ˆåƒåˆ·å¡éªŒè¯ï¼‰
hash_password - å¯†ç åŠ å¯†ï¼ˆåƒåŠ å¯†å­˜å‚¨ï¼‰
```

### 7.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ ç”¨æˆ·æƒé™çš„å±‚æ¬¡å…³ç³»**
```
ç†è§£è¦ç‚¹ï¼š
- æ ‡ç­¾å†³å®šå…¨å±€èƒ½åŠ›ï¼ˆå¦‚ï¼šèƒ½å¦è®¿é—®ç®¡ç†ç•Œé¢ï¼‰
- æƒé™å†³å®šå…·ä½“èµ„æºæ“ä½œï¼ˆå¦‚ï¼šèƒ½å¦æ“ä½œç‰¹å®šé˜Ÿåˆ—ï¼‰
- VHostæä¾›èµ„æºéš”ç¦»ï¼ˆå¦‚ï¼šå¼€å‘å’Œç”Ÿäº§ç¯å¢ƒåˆ†ç¦»ï¼‰
```

**ğŸ”¹ å®‰å…¨æœ€ä½³å®è·µ**
```
æ ¸å¿ƒåŸåˆ™ï¼š
- æœ€å°æƒé™åŸåˆ™ï¼šåªç»™å¿…è¦çš„æƒé™
- ç¯å¢ƒéš”ç¦»ï¼šä¸åŒç¯å¢ƒç”¨ä¸åŒç”¨æˆ·
- å®šæœŸå®¡æŸ¥ï¼šå®šæœŸæ£€æŸ¥å’Œæ¸…ç†æ— ç”¨ç”¨æˆ·
- å¼ºå¯†ç ç­–ç•¥ï¼šä½¿ç”¨å¤æ‚å¯†ç å¹¶å®šæœŸæ›´æ¢
```

### 7.3 å®é™…åº”ç”¨æŒ‡å¯¼


**ğŸ¯ ç”¨æˆ·è§„åˆ’å»ºè®®**ï¼š
- **ç®¡ç†å‘˜ç”¨æˆ·**ï¼šæ¯ä¸ªç¯å¢ƒ1-2ä¸ªï¼Œç”¨äºç³»ç»Ÿç®¡ç†
- **åº”ç”¨ç”¨æˆ·**ï¼šæ¯ä¸ªåº”ç”¨ä¸€ä¸ªä¸“ç”¨ç”¨æˆ·
- **å¼€å‘ç”¨æˆ·**ï¼šæ¯ä¸ªå¼€å‘è€…ä¸€ä¸ªä¸ªäººç”¨æˆ·  
- **ç›‘æ§ç”¨æˆ·**ï¼šä¸“é—¨ç”¨äºç›‘æ§ç³»ç»Ÿçš„åªè¯»ç”¨æˆ·

**ğŸ”§ æ—¥å¸¸ç»´æŠ¤è¦ç‚¹**ï¼š
- æ–°é¡¹ç›®å¯åŠ¨æ—¶åˆ›å»ºä¸“ç”¨ç”¨æˆ·
- é¡¹ç›®ç»“æŸæ—¶åŠæ—¶æ¸…ç†ç”¨æˆ·
- å®šæœŸæ£€æŸ¥ç”¨æˆ·æƒé™æ˜¯å¦åˆç†
- å¯†ç æ³„éœ²æ—¶ç«‹å³æ›´æ¢

**æ ¸å¿ƒè®°å¿†å£è¯€**ï¼š
- ç”¨æˆ·ç®¡ç†å¦‚é—¨ç¦ï¼Œèº«ä»½æƒé™è¦åˆ†æ˜
- æ ‡ç­¾å†³å®šèƒ½åŠ›çº§ï¼Œæƒé™æ§åˆ¶å…·ä½“è¡Œ
- å¯†ç å®‰å…¨æ˜¯åŸºç¡€ï¼Œå®šæœŸç»´æŠ¤ä¿å¹³è¡¡