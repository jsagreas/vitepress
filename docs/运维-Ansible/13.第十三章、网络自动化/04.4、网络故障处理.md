---
title: 4ã€ç½‘ç»œæ•…éšœå¤„ç†
---
## ğŸ“š ç›®å½•

1. [æ•…éšœæ£€æµ‹ä¸ç›‘æ§](#1-æ•…éšœæ£€æµ‹ä¸ç›‘æ§)
2. [ç½‘ç»œè¿é€šæ€§è‡ªåŠ¨åŒ–æµ‹è¯•](#2-ç½‘ç»œè¿é€šæ€§è‡ªåŠ¨åŒ–æµ‹è¯•)
3. [æ•…éšœè‡ªæ„ˆæœºåˆ¶å®ç°](#3-æ•…éšœè‡ªæ„ˆæœºåˆ¶å®ç°)
4. [æ—¥å¿—æ”¶é›†ä¸åˆ†æ](#4-æ—¥å¿—æ”¶é›†ä¸åˆ†æ)
5. [å‘Šè­¦å¤„ç†ä¸åº”æ€¥å“åº”](#5-å‘Šè­¦å¤„ç†ä¸åº”æ€¥å“åº”)
6. [å˜æ›´ç®¡ç†ä¸å›æ»šæœºåˆ¶](#6-å˜æ›´ç®¡ç†ä¸å›æ»šæœºåˆ¶)
7. [å¤‡ä»½æ¢å¤è‡ªåŠ¨åŒ–](#7-å¤‡ä»½æ¢å¤è‡ªåŠ¨åŒ–)
8. [æœ€ä½³å®è·µä¸æ€»ç»“](#8-æœ€ä½³å®è·µä¸æ€»ç»“)

---

## 1. ğŸ” æ•…éšœæ£€æµ‹ä¸ç›‘æ§


### 1.1 ä»€ä¹ˆæ˜¯ç½‘ç»œæ•…éšœè‡ªåŠ¨æ£€æµ‹


**ç®€å•ç†è§£**ï¼šå°±åƒç»™ç½‘ç»œè®¾å¤‡å®‰è£…ä¸€ä¸ª"æ™ºèƒ½ç®¡å®¶"ï¼Œ24å°æ—¶ä¸é—´æ–­åœ°æ£€æŸ¥è®¾å¤‡è¿è¡ŒçŠ¶æ€ï¼Œä¸€æ—¦å‘ç°é—®é¢˜ç«‹å³æŠ¥å‘Šã€‚

**æ ¸å¿ƒä½œç”¨**ï¼š
- **å®æ—¶ç›‘æ§**ï¼šæŒç»­æ£€æŸ¥è®¾å¤‡çŠ¶æ€ã€ç«¯å£çŠ¶æ€ã€æ€§èƒ½æŒ‡æ ‡
- **é¢„è­¦æœºåˆ¶**ï¼šåœ¨æ•…éšœå‘ç”Ÿå‰æå‰å‘ç°å¼‚å¸¸
- **å¿«é€Ÿå®šä½**ï¼šå‡†ç¡®æ‰¾å‡ºé—®é¢˜æ‰€åœ¨çš„è®¾å¤‡å’Œä½ç½®

### 1.2 Ansibleå®ç°æ•…éšœæ£€æµ‹æ¶æ„


```
ç›‘æ§æ¶æ„å›¾ç¤ºï¼š

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Ansible    â”‚    â”‚   ç›‘æ§æ•°æ®   â”‚    â”‚   å‘Šè­¦ç³»ç»Ÿ   â”‚
â”‚  æ§åˆ¶èŠ‚ç‚¹    â”‚â”€â”€â”€â–¶â”‚   æ”¶é›†å¤„ç†   â”‚â”€â”€â”€â–¶â”‚   é‚®ä»¶/é’‰é’‰  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                   â”‚                   â”‚
       â–¼                   â–¼                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç½‘ç»œè®¾å¤‡1   â”‚    â”‚  ç½‘ç»œè®¾å¤‡2   â”‚    â”‚  ç½‘ç»œè®¾å¤‡3   â”‚
â”‚  äº¤æ¢æœº     â”‚    â”‚  è·¯ç”±å™¨     â”‚    â”‚  é˜²ç«å¢™     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

å·¥ä½œæµç¨‹ï¼š
1. Ansibleå®šæ—¶é‡‡é›†è®¾å¤‡ä¿¡æ¯
2. åˆ†ææ•°æ®å‘ç°å¼‚å¸¸
3. è§¦å‘å‘Šè­¦æœºåˆ¶
4. æ‰§è¡Œè‡ªæ„ˆè„šæœ¬
```

### 1.3 åŸºç¡€å¥åº·æ£€æŸ¥Playbook


```yaml
# network_health_check.yml
---
- name: ç½‘ç»œè®¾å¤‡å¥åº·æ£€æŸ¥
  hosts: network_devices
  gather_facts: no
  vars:
    health_report: []
    
  tasks:
    - name: æ£€æŸ¥è®¾å¤‡åœ¨çº¿çŠ¶æ€
      ansible.builtin.ping:
      register: ping_result
      ignore_errors: yes
      
    - name: æ”¶é›†è®¾å¤‡åŸºæœ¬ä¿¡æ¯
      cisco.ios.ios_facts:
        gather_subset: 
          - all
      register: device_facts
      when: ping_result is succeeded
      
    - name: æ£€æŸ¥CPUä½¿ç”¨ç‡
      cisco.ios.ios_command:
        commands:
          - show processes cpu | include "CPU utilization"
      register: cpu_usage
      when: ping_result is succeeded
      
    - name: æ£€æŸ¥å†…å­˜ä½¿ç”¨ç‡  
      cisco.ios.ios_command:
        commands:
          - show memory statistics | include "Processor"
      register: memory_usage
      when: ping_result is succeeded
      
    - name: åˆ†æå¥åº·çŠ¶æ€
      ansible.builtin.set_fact:
        device_health:
          hostname: "{{ inventory_hostname }}"
          online: "{{ ping_result is succeeded }}"
          cpu_usage: "{{ cpu_usage.stdout[0] if cpu_usage is defined else 'N/A' }}"
          memory_usage: "{{ memory_usage.stdout[0] if memory_usage is defined else 'N/A' }}"
          uptime: "{{ device_facts.ansible_facts.ansible_net_uptime if device_facts is defined else 'N/A' }}"
```

### 1.4 é«˜çº§ç›‘æ§æŒ‡æ ‡é‡‡é›†


**å…³é”®ç›‘æ§æŒ‡æ ‡è§£é‡Š**ï¼š

| ç›‘æ§é¡¹ | **å«ä¹‰è¯´æ˜** | **æ­£å¸¸èŒƒå›´** | **å¼‚å¸¸é˜ˆå€¼** |
|-------|------------|-------------|-------------|
| **CPUä½¿ç”¨ç‡** | `è®¾å¤‡å¤„ç†å™¨ç¹å¿™ç¨‹åº¦` | `< 70%` | `> 85%æŒç»­5åˆ†é’Ÿ` |
| **å†…å­˜ä½¿ç”¨ç‡** | `è®¾å¤‡å†…å­˜å ç”¨æƒ…å†µ` | `< 80%` | `> 90%æŒç»­3åˆ†é’Ÿ` |
| **ç«¯å£çŠ¶æ€** | `ç½‘ç»œæ¥å£è¿æ¥çŠ¶æ€` | `Up/Up` | `Downæˆ–é”™è¯¯çŠ¶æ€` |
| **æµé‡è´Ÿè½½** | `æ¥å£æ•°æ®ä¼ è¾“é‡` | `< 80%å¸¦å®½` | `> 90%å¸¦å®½æŒç»­10åˆ†é’Ÿ` |
| **é”™è¯¯åŒ…æ•°** | `ä¼ è¾“è¿‡ç¨‹ä¸­çš„é”™è¯¯` | `< 0.01%` | `> 0.1%é”™è¯¯ç‡` |

```yaml
# advanced_monitoring.yml
---
- name: é«˜çº§ç½‘ç»œç›‘æ§
  hosts: cisco_devices
  tasks:
    - name: æ£€æŸ¥æ¥å£çŠ¶æ€å’Œç»Ÿè®¡
      cisco.ios.ios_command:
        commands:
          - show interface summary
          - show interface | include "line protocol|errors"
      register: interface_status
      
    - name: æ£€æŸ¥è·¯ç”±è¡¨çŠ¶æ€
      cisco.ios.ios_command:
        commands:
          - show ip route summary
          - show ip route | count
      register: routing_info
      
    - name: æ£€æŸ¥OSPFé‚»å±…çŠ¶æ€
      cisco.ios.ios_command:
        commands:
          - show ip ospf neighbor
      register: ospf_neighbors
      ignore_errors: yes
      
    - name: ç”Ÿæˆç›‘æ§æŠ¥å‘Š
      ansible.builtin.template:
        src: monitoring_report.j2
        dest: "/tmp/{{ inventory_hostname }}_health_{{ ansible_date_time.epoch }}.txt"
```

---

## 2. ğŸŒ ç½‘ç»œè¿é€šæ€§è‡ªåŠ¨åŒ–æµ‹è¯•


### 2.1 è¿é€šæ€§æµ‹è¯•çš„é‡è¦æ€§


**é€šä¿—è§£é‡Š**ï¼šå°±åƒåŒ»ç”Ÿç»™ç—…äººåšä½“æ£€ï¼Œè¦æ£€æŸ¥èº«ä½“å„ä¸ªéƒ¨ä½æ˜¯å¦æ­£å¸¸å·¥ä½œã€‚ç½‘ç»œè¿é€šæ€§æµ‹è¯•å°±æ˜¯ç»™ç½‘ç»œåš"ä½“æ£€"ï¼Œç¡®ä¿æ•°æ®èƒ½å¤Ÿæ­£å¸¸ä¼ è¾“ã€‚

**æµ‹è¯•å±‚æ¬¡**ï¼š
- **ç‰©ç†å±‚**ï¼šç½‘çº¿æ˜¯å¦æ’å¥½ï¼Œç«¯å£æ˜¯å¦äº®ç¯
- **ç½‘ç»œå±‚**ï¼šIPåœ°å€æ˜¯å¦èƒ½pingé€š
- **åº”ç”¨å±‚**ï¼šæœåŠ¡æ˜¯å¦èƒ½æ­£å¸¸è®¿é—®

### 2.2 å¤šå±‚æ¬¡è¿é€šæ€§æµ‹è¯•


```yaml
# connectivity_test.yml
---
- name: å…¨é¢ç½‘ç»œè¿é€šæ€§æµ‹è¯•
  hosts: localhost
  vars:
    test_targets:
      - { host: "8.8.8.8", name: "Google DNS", type: "internet" }
      - { host: "192.168.1.1", name: "ç½‘å…³", type: "gateway" }
      - { host: "192.168.1.100", name: "å†…ç½‘æœåŠ¡å™¨", type: "internal" }
    
  tasks:
    - name: ICMPè¿é€šæ€§æµ‹è¯•
      ansible.builtin.ping:
        data: "{{ item.host }}"
      register: ping_results
      loop: "{{ test_targets }}"
      ignore_errors: yes
      
    - name: TCPç«¯å£è¿é€šæ€§æµ‹è¯•
      ansible.builtin.wait_for:
        host: "{{ item.host }}"
        port: "{{ item.port }}"
        timeout: 5
      register: port_results  
      loop:
        - { host: "192.168.1.100", port: 80 }
        - { host: "192.168.1.100", port: 443 }
        - { host: "192.168.1.200", port: 22 }
      ignore_errors: yes
      
    - name: è·¯ç”±è¿½è¸ªæµ‹è¯•
      ansible.builtin.shell: |
        traceroute -n {{ item.host }} | head -10
      register: trace_results
      loop: "{{ test_targets }}"
      ignore_errors: yes
```

### 2.3 å¸¦å®½å’Œå»¶è¿Ÿæµ‹è¯•


**æ€§èƒ½æµ‹è¯•è¯´æ˜**ï¼š
- **å»¶è¿Ÿ(Latency)**ï¼šæ•°æ®ä»å‘é€åˆ°æ¥æ”¶çš„æ—¶é—´ï¼Œå°±åƒå¿«é€’ä»å‘è´§åˆ°æ”¶è´§çš„æ—¶é—´
- **å¸¦å®½(Bandwidth)**ï¼šç½‘ç»œèƒ½ä¼ è¾“æ•°æ®çš„æœ€å¤§é€Ÿåº¦ï¼Œå°±åƒé“è·¯çš„è½¦é“æ•°
- **ä¸¢åŒ…ç‡**ï¼šæ•°æ®ä¼ è¾“è¿‡ç¨‹ä¸­ä¸¢å¤±çš„æ¯”ä¾‹ï¼Œå°±åƒå¿«é€’çš„ä¸¢å¤±ç‡

```yaml
# performance_test.yml  
---
- name: ç½‘ç»œæ€§èƒ½æµ‹è¯•
  hosts: test_servers
  tasks:
    - name: å®‰è£…ç½‘ç»œæµ‹è¯•å·¥å…·
      ansible.builtin.package:
        name: 
          - iperf3
          - mtr
          - nethogs
        state: present
      become: yes
      
    - name: å»¶è¿Ÿæµ‹è¯•
      ansible.builtin.shell: |
        ping -c 10 {{ target_host }} | tail -1 | awk -F'/' '{print $5}'
      register: latency_test
      vars:
        target_host: "8.8.8.8"
        
    - name: ä¸¢åŒ…ç‡æµ‹è¯•
      ansible.builtin.shell: |
        ping -c 100 {{ target_host }} | grep "packet loss" | awk '{print $6}'
      register: packet_loss_test
      
    - name: MTRç½‘ç»œè·¯å¾„åˆ†æ
      ansible.builtin.shell: |
        mtr -r -c 10 {{ target_host }}
      register: mtr_result
```

### 2.4 å®šåˆ¶åŒ–è¿é€šæ€§æ£€æŸ¥


```
è¿é€šæ€§æµ‹è¯•æµç¨‹å›¾ï¼š

æµ‹è¯•å¼€å§‹
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    å¤±è´¥    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  åŸºç¡€Ping   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚  è®°å½•æ•…éšœ    â”‚
â”‚  è¿é€šæ€§æµ‹è¯•  â”‚            â”‚  å‘é€å‘Šè­¦    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚æˆåŠŸ                          â”‚
    â–¼                             â”‚  
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    å¤±è´¥            â”‚
â”‚  ç«¯å£è¿é€šæ€§  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æµ‹è¯•       â”‚                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
    â”‚æˆåŠŸ                          â”‚
    â–¼                             â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚  æ€§èƒ½æµ‹è¯•    â”‚                   â”‚
â”‚  (å»¶è¿Ÿ/å¸¦å®½) â”‚                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
    â”‚                             â”‚
    â–¼                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç”Ÿæˆæµ‹è¯•    â”‚            â”‚  æ•…éšœå¤„ç†    â”‚
â”‚  æŠ¥å‘Š       â”‚            â”‚  æµç¨‹       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3. ğŸ”§ æ•…éšœè‡ªæ„ˆæœºåˆ¶å®ç°


### 3.1 ä»€ä¹ˆæ˜¯æ•…éšœè‡ªæ„ˆ


**ç®€å•ç†è§£**ï¼šå°±åƒäººä½“çš„å…ç–«ç³»ç»Ÿï¼Œå½“å‘ç°ç—…æ¯’å…¥ä¾µæ—¶è‡ªåŠ¨å¯åŠ¨é˜²å¾¡æœºåˆ¶ã€‚ç½‘ç»œæ•…éšœè‡ªæ„ˆå°±æ˜¯å½“æ£€æµ‹åˆ°ç½‘ç»œé—®é¢˜æ—¶ï¼Œç³»ç»Ÿè‡ªåŠ¨æ‰§è¡Œä¿®å¤æ“ä½œï¼Œæ— éœ€äººå·¥å¹²é¢„ã€‚

**è‡ªæ„ˆæœºåˆ¶åŸç†**ï¼š
```
æ•…éšœè‡ªæ„ˆå·¥ä½œæµç¨‹ï¼š

æ•…éšœæ£€æµ‹ â†’ æ•…éšœåˆ†æ â†’ è‡ªåŠ¨ä¿®å¤ â†’ éªŒè¯ç»“æœ â†’ æŠ¥å‘ŠçŠ¶æ€

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1.ç›‘æ§å‘ç°   â”‚â”€â”€â”€â–¶â”‚ 2.åˆ¤æ–­æ•…éšœ   â”‚â”€â”€â”€â–¶â”‚ 3.æ‰§è¡Œä¿®å¤   â”‚
â”‚   å¼‚å¸¸çŠ¶æ€    â”‚    â”‚   ç±»å‹çº§åˆ«    â”‚    â”‚   æ“ä½œè„šæœ¬    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â–²                                      â”‚
        â”‚                                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 6.æŒç»­ç›‘æ§   â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚ 4.éªŒè¯ä¿®å¤   â”‚
â”‚   é¢„é˜²å¤å‘    â”‚                        â”‚   ç»“æœçŠ¶æ€    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â–²                                      â”‚
        â”‚                                      â–¼
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                      â”‚ 5.è®°å½•æ—¥å¿—   â”‚
                                      â”‚   å‘é€é€šçŸ¥    â”‚
                                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 å¸¸è§æ•…éšœç±»å‹ä¸è‡ªæ„ˆç­–ç•¥


**æ•…éšœç±»å‹åˆ†æè¡¨**ï¼š

| æ•…éšœç±»å‹ | **æ•…éšœç°è±¡** | **è‡ªæ„ˆç­–ç•¥** | **æ‰§è¡Œä¼˜å…ˆçº§** |
|---------|-------------|-------------|---------------|
| **æ¥å£Down** | `ç«¯å£çŠ¶æ€æ˜¾ç¤ºDown` | `é‡å¯æ¥å£ã€æ£€æŸ¥é…ç½®` | `ğŸ”¥ é«˜ä¼˜å…ˆçº§` |
| **è·¯ç”±ä¸¢å¤±** | `è·¯ç”±è¡¨æ¡ç›®æ¶ˆå¤±` | `é‡æ–°æ³¨å…¥è·¯ç”±ã€é‡å¯è·¯ç”±åè®®` | `ğŸ”¥ é«˜ä¼˜å…ˆçº§` |
| **CPUè¿‡é«˜** | `CPUä½¿ç”¨ç‡>90%` | `é‡å¯é«˜å ç”¨è¿›ç¨‹ã€æ¸…ç†ç¼“å­˜` | `âš ï¸ ä¸­ä¼˜å…ˆçº§` |
| **å†…å­˜ä¸è¶³** | `å†…å­˜ä½¿ç”¨ç‡>95%` | `æ¸…ç†å†…å­˜ã€é‡å¯æœåŠ¡` | `âš ï¸ ä¸­ä¼˜å…ˆçº§` |
| **é…ç½®é”™è¯¯** | `é…ç½®ä¸ä¸€è‡´æˆ–ä¸¢å¤±` | `æ¢å¤å¤‡ä»½é…ç½®` | `â„¹ï¸ ä½ä¼˜å…ˆçº§` |

### 3.3 æ¥å£æ•…éšœè‡ªæ„ˆå®ç°


```yaml
# interface_self_healing.yml
---
- name: æ¥å£æ•…éšœè‡ªæ„ˆå¤„ç†
  hosts: network_devices
  vars:
    critical_interfaces:
      - GigabitEthernet0/1
      - GigabitEthernet0/2
      - Serial0/0/0
      
  tasks:
    - name: æ£€æŸ¥å…³é”®æ¥å£çŠ¶æ€
      cisco.ios.ios_command:
        commands:
          - "show interface {{ item }} | include 'line protocol'"
      register: interface_status
      loop: "{{ critical_interfaces }}"
      
    - name: å‘ç°DownçŠ¶æ€çš„æ¥å£
      ansible.builtin.set_fact:
        down_interfaces: >-
          {{ interface_status.results | 
             selectattr('stdout.0', 'search', 'down') | 
             map(attribute='item') | list }}
             
    - name: å°è¯•ä¿®å¤DownçŠ¶æ€æ¥å£
      cisco.ios.ios_config:
        lines:
          - no shutdown
        parents: "interface {{ item }}"
      loop: "{{ down_interfaces }}"
      when: down_interfaces | length > 0
      register: interface_repair
      
    - name: ç­‰å¾…æ¥å£çŠ¶æ€æ¢å¤
      ansible.builtin.pause:
        seconds: 30
      when: interface_repair is changed
      
    - name: éªŒè¯æ¥å£ä¿®å¤ç»“æœ
      cisco.ios.ios_command:
        commands:
          - "show interface {{ item }} | include 'line protocol'"
      register: repair_result
      loop: "{{ down_interfaces }}"
      when: down_interfaces | length > 0
      
    - name: è®°å½•ä¿®å¤ç»“æœ
      ansible.builtin.debug:
        msg: |
          æ¥å£ä¿®å¤æŠ¥å‘Šï¼š
          - å‘ç°æ•…éšœæ¥å£ï¼š{{ down_interfaces | join(', ') }}
          - ä¿®å¤æ“ä½œï¼šå·²æ‰§è¡Œno shutdownå‘½ä»¤
          - å½“å‰çŠ¶æ€ï¼š{{ repair_result.results | map(attribute='stdout.0') | join('; ') }}
```

### 3.4 è·¯ç”±æ•…éšœè‡ªæ„ˆæœºåˆ¶


```yaml
# routing_self_healing.yml
---
- name: è·¯ç”±æ•…éšœè‡ªæ„ˆå¤„ç†  
  hosts: routers
  tasks:
    - name: æ£€æŸ¥å…³é”®è·¯ç”±æ¡ç›®
      cisco.ios.ios_command:
        commands:
          - show ip route | include "{{ item }}"
      register: route_check
      loop:
        - "192.168.1.0/24"
        - "10.0.0.0/8" 
        - "0.0.0.0/0"  # é»˜è®¤è·¯ç”±
      ignore_errors: yes
      
    - name: æ£€æŸ¥è·¯ç”±åè®®çŠ¶æ€
      cisco.ios.ios_command:
        commands:
          - show ip ospf neighbor
          - show ip route summary
      register: routing_protocol_status
      
    - name: é‡å¯OSPFè¿›ç¨‹ï¼ˆå¦‚æœé‚»å±…ä¸¢å¤±ï¼‰
      cisco.ios.ios_config:
        lines:
          - clear ip ospf process
        prompt: "Reset ALL OSPF processes? [no]:"
        answer: "yes"
      when: "'Full' not in routing_protocol_status.stdout[0]"
      
    - name: æ·»åŠ ç¼ºå¤±çš„é™æ€è·¯ç”±
      cisco.ios.ios_config:
        lines:
          - "ip route {{ item.network }} {{ item.mask }} {{ item.gateway }}"
      loop:
        - { network: "192.168.1.0", mask: "255.255.255.0", gateway: "10.0.0.1" }
      when: route_check is failed
```

---

## 4. ğŸ“Š æ—¥å¿—æ”¶é›†ä¸åˆ†æ


### 4.1 æ—¥å¿—æ”¶é›†çš„é‡è¦æ€§


**é€šä¿—è§£é‡Š**ï¼šç½‘ç»œè®¾å¤‡æ—¥å¿—å°±åƒæ±½è½¦çš„"è¡Œè½¦è®°å½•ä»ª"ï¼Œè®°å½•äº†è®¾å¤‡è¿è¡Œè¿‡ç¨‹ä¸­å‘ç”Ÿçš„æ‰€æœ‰é‡è¦äº‹ä»¶ã€‚é€šè¿‡åˆ†æè¿™äº›æ—¥å¿—ï¼Œæˆ‘ä»¬å¯ä»¥ï¼š

- **æ•…éšœå®šä½**ï¼šæ‰¾å‡ºé—®é¢˜å‘ç”Ÿçš„å…·ä½“æ—¶é—´å’ŒåŸå› 
- **æ€§èƒ½åˆ†æ**ï¼šäº†è§£è®¾å¤‡è¿è¡ŒçŠ¶å†µå’Œç“¶é¢ˆ
- **å®‰å…¨å®¡è®¡**ï¼šå‘ç°å¼‚å¸¸è®¿é—®å’Œæ”»å‡»è¡Œä¸º
- **è¶‹åŠ¿é¢„æµ‹**ï¼šæå‰å‘ç°æ½œåœ¨é—®é¢˜

### 4.2 æ—¥å¿—æ”¶é›†æ¶æ„è®¾è®¡


```
æ—¥å¿—æ”¶é›†æ¶æ„å›¾ï¼š

ç½‘ç»œè®¾å¤‡å±‚                 æ”¶é›†å¤„ç†å±‚              å­˜å‚¨åˆ†æå±‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è·¯ç”±å™¨A     â”‚â”€â”€syslogâ”€â”€â–¶â”‚  Ansible    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚  ElasticSearchâ”‚
â”‚  (æ—¥å¿—æº1)   â”‚            â”‚  æ—¥å¿—æ”¶é›†    â”‚         â”‚  æ—¥å¿—å­˜å‚¨     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚             â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚             â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  äº¤æ¢æœºB     â”‚â”€â”€syslogâ”€â”€â–¶â”‚             â”‚â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚  Grafana    â”‚
â”‚  (æ—¥å¿—æº2)   â”‚            â”‚             â”‚         â”‚  å¯è§†åŒ–å±•ç¤º  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚             â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚             â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  é˜²ç«å¢™C     â”‚â”€â”€syslogâ”€â”€â–¶â”‚             â”‚â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚  å‘Šè­¦ç³»ç»Ÿ    â”‚
â”‚  (æ—¥å¿—æº3)   â”‚            â”‚             â”‚         â”‚  å¼‚å¸¸é€šçŸ¥    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

æ•°æ®æµå‘ï¼šè®¾å¤‡ â†’ Syslog â†’ Ansibleæ”¶é›† â†’ å­˜å‚¨åˆ†æ â†’ å‘Šè­¦å±•ç¤º
```

### 4.3 æ—¥å¿—æ”¶é›†Playbookå®ç°


```yaml
# log_collection.yml
---
- name: ç½‘ç»œè®¾å¤‡æ—¥å¿—æ”¶é›†
  hosts: network_devices
  vars:
    log_server: "192.168.1.100"
    log_retention_days: 30
    
  tasks:
    - name: é…ç½®syslogæœåŠ¡å™¨
      cisco.ios.ios_config:
        lines:
          - "logging {{ log_server }}"
          - "logging facility local0"
          - "logging trap informational"
          - "logging source-interface GigabitEthernet0/1"
      notify: save_config
      
    - name: æ”¶é›†å½“å‰è®¾å¤‡æ—¥å¿—
      cisco.ios.ios_command:
        commands:
          - "show logging | include {{ ansible_date_time.date }}"
      register: current_logs
      
    - name: ä¿å­˜æ—¥å¿—åˆ°æœ¬åœ°æ–‡ä»¶
      ansible.builtin.copy:
        content: |
          # {{ inventory_hostname }} è®¾å¤‡æ—¥å¿— - {{ ansible_date_time.iso8601 }}
          {{ current_logs.stdout[0] }}
        dest: "/var/log/network/{{ inventory_hostname }}_{{ ansible_date_time.date }}.log"
      delegate_to: localhost
      
    - name: åˆ†ææ—¥å¿—ä¸­çš„é”™è¯¯ä¿¡æ¯
      ansible.builtin.lineinfile:
        path: "/tmp/{{ inventory_hostname }}_errors.log"
        line: "{{ item }}"
        create: yes
      loop: "{{ current_logs.stdout[0].split('\n') }}"
      when: 
        - "'ERROR' in item or 'CRITICAL' in item or 'DOWN' in item"
      delegate_to: localhost
      
  handlers:
    - name: save_config
      cisco.ios.ios_config:
        save_when: always
```

### 4.4 æ—¥å¿—åˆ†æä¸å‘Šè­¦


**æ—¥å¿—çº§åˆ«è¯´æ˜**ï¼š

| çº§åˆ« | **åç§°** | **å«ä¹‰è¯´æ˜** | **å¤„ç†å»ºè®®** |
|-----|---------|-------------|-------------|
| `0` | **Emergency** | `ç³»ç»Ÿä¸å¯ç”¨ï¼Œæä¸¥é‡` | `ğŸš¨ ç«‹å³å¤„ç†` |
| `1` | **Alert** | `éœ€è¦ç«‹å³è¡ŒåŠ¨` | `ğŸš¨ ç´§æ€¥å“åº”` |
| `2` | **Critical** | `ä¸´ç•ŒçŠ¶å†µ` | `âš ï¸ ä¼˜å…ˆå¤„ç†` |
| `3` | **Error** | `é”™è¯¯çŠ¶å†µ` | `âš ï¸ åŠæ—¶å¤„ç†` |
| `4` | **Warning** | `è­¦å‘Šä¿¡æ¯` | `â„¹ï¸ å…³æ³¨ç›‘æ§` |
| `5` | **Notice** | `æ­£å¸¸ä½†é‡è¦` | `â„¹ï¸ å®šæœŸæ£€æŸ¥` |

```yaml
# log_analysis.yml
---
- name: æ—¥å¿—åˆ†æä¸å‘Šè­¦
  hosts: localhost
  vars:
    log_patterns:
      critical:
        - "Interface .* is down"
        - "OSPF neighbor .* is down"
        - "Memory allocation failed"
      warning:
        - "High CPU utilization"
        - "Interface errors"
        - "Authentication failed"
        
  tasks:
    - name: æ‰«ææ—¥å¿—æ–‡ä»¶æŸ¥æ‰¾å…³é”®æ¨¡å¼
      ansible.builtin.shell: |
        grep -E "{{ item }}" /var/log/network/*.log || true
      register: pattern_matches
      loop: "{{ log_patterns.critical + log_patterns.warning }}"
      
    - name: ç”Ÿæˆå‘Šè­¦æŠ¥å‘Š
      ansible.builtin.template:
        src: alert_report.j2  
        dest: "/tmp/network_alert_{{ ansible_date_time.epoch }}.txt"
      when: pattern_matches.results | selectattr('stdout', '!=', '') | list | length > 0
      
    - name: å‘é€å‘Šè­¦é€šçŸ¥
      ansible.builtin.mail:
        to: "admin@company.com"
        subject: "ç½‘ç»œè®¾å¤‡å‘Šè­¦ - {{ ansible_date_time.iso8601 }}"
        body: "å‘ç°ç½‘ç»œå¼‚å¸¸ï¼Œè¯¦ç»†ä¿¡æ¯è¯·æŸ¥çœ‹é™„ä»¶æŠ¥å‘Š"
        attach: "/tmp/network_alert_{{ ansible_date_time.epoch }}.txt"
      when: pattern_matches.results | selectattr('stdout', '!=', '') | list | length > 0
```

---

## 5. ğŸš¨ å‘Šè­¦å¤„ç†ä¸åº”æ€¥å“åº”


### 5.1 å‘Šè­¦ç³»ç»Ÿè®¾è®¡ç†å¿µ


**å‘Šè­¦ç³»ç»Ÿçš„ä½œç”¨**ï¼šå°±åƒåŒ»é™¢çš„æ€¥æ•‘ç³»ç»Ÿï¼Œæ ¹æ®ç—…æƒ…è½»é‡ç¼“æ€¥åˆ†çº§å¤„ç†ï¼Œç¡®ä¿æœ€ç´§æ€¥çš„é—®é¢˜å¾—åˆ°æœ€å¿«å“åº”ã€‚

**å‘Šè­¦çº§åˆ«åˆ†ç±»**ï¼š
- **P0 - ç´§æ€¥**ï¼šæœåŠ¡å®Œå…¨ä¸­æ–­ï¼Œå½±å“ä¸šåŠ¡è¿è¡Œ
- **P1 - é«˜ä¼˜å…ˆçº§**ï¼šéƒ¨åˆ†åŠŸèƒ½å¼‚å¸¸ï¼Œå¯èƒ½å½±å“ç”¨æˆ·ä½“éªŒ  
- **P2 - ä¸­ä¼˜å…ˆçº§**ï¼šæ€§èƒ½ä¸‹é™ï¼Œéœ€è¦å…³æ³¨ä½†ä¸å½±å“æ ¸å¿ƒä¸šåŠ¡
- **P3 - ä½ä¼˜å…ˆçº§**ï¼šè½»å¾®å¼‚å¸¸ï¼Œå®šæœŸå¤„ç†å³å¯

### 5.2 å‘Šè­¦å¤„ç†æµç¨‹


```
å‘Šè­¦å¤„ç†æµç¨‹å›¾ï¼š

æ•…éšœå‘ç”Ÿ
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1.å‘Šè­¦è§¦å‘   â”‚
â”‚ (ç›‘æ§å‘ç°)   â”‚  
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    Yes    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2.P0çº§åˆ«ï¼Ÿ   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ 3.ç«‹å³å“åº”   â”‚
â”‚ (ç´§æ€¥æ•…éšœ)   â”‚          â”‚ (2åˆ†é’Ÿå†…)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚ No                        â”‚
    â–¼                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4.è‡ªåŠ¨ä¿®å¤   â”‚          â”‚ 5.æ‰‹åŠ¨å¤„ç†   â”‚
â”‚ (æ‰§è¡Œè„šæœ¬)   â”‚          â”‚ (ä¸“å®¶ä»‹å…¥)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚                          â”‚
    â–¼                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 6.ä¿®å¤éªŒè¯   â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚ 7.å¤„ç†éªŒè¯   â”‚
â”‚ (è‡ªåŠ¨æ£€æµ‹)   â”‚          â”‚ (äººå·¥ç¡®è®¤)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚                          â”‚
    â–¼                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 8.å…³é—­å‘Šè­¦   â”‚          â”‚ 9.è®°å½•æ€»ç»“   â”‚
â”‚ (çŠ¶æ€æ›´æ–°)   â”‚          â”‚ (ç»éªŒç§¯ç´¯)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.3 å‘Šè­¦è§„åˆ™é…ç½®


```yaml
# alert_rules.yml
---
- name: é…ç½®å‘Šè­¦è§„åˆ™
  hosts: localhost
  vars:
    alert_rules:
      # P0çº§åˆ« - ç´§æ€¥å‘Šè­¦
      p0_alerts:
        - name: "æ ¸å¿ƒè®¾å¤‡ç¦»çº¿"
          condition: "device_status == 'unreachable'"
          threshold: "1åˆ†é’Ÿ"
          actions:
            - "send_sms_to_oncall"
            - "send_email_to_team" 
            - "create_incident"
            
        - name: "å…³é”®é“¾è·¯ä¸­æ–­"  
          condition: "interface_status == 'down'"
          threshold: "30ç§’"
          actions:
            - "auto_failover"
            - "send_sms_to_oncall"
            
      # P1çº§åˆ« - é«˜ä¼˜å…ˆçº§å‘Šè­¦      
      p1_alerts:
        - name: "CPUä½¿ç”¨ç‡è¿‡é«˜"
          condition: "cpu_usage > 90%"
          threshold: "5åˆ†é’Ÿ"
          actions:
            - "restart_high_cpu_process"
            - "send_email_to_team"
            
        - name: "å†…å­˜ä½¿ç”¨ç‡å‘Šè­¦"
          condition: "memory_usage > 85%"  
          threshold: "10åˆ†é’Ÿ"
          actions:
            - "clear_memory_cache"
            - "send_email_to_team"
            
  tasks:
    - name: åˆ›å»ºå‘Šè­¦è§„åˆ™æ–‡ä»¶
      ansible.builtin.template:
        src: prometheus_rules.j2
        dest: /etc/prometheus/rules/network_alerts.yml
      notify: reload_prometheus
```

### 5.4 åº”æ€¥å“åº”è‡ªåŠ¨åŒ–


```yaml
# emergency_response.yml
---
- name: ç½‘ç»œåº”æ€¥å“åº”å¤„ç†
  hosts: localhost
  vars:
    emergency_contacts:
      - name: "å¼ å·¥ç¨‹å¸ˆ"
        phone: "138****1234" 
        email: "zhang@company.com"
        role: "ç½‘ç»œä¸“å®¶"
      - name: "æç»ç†"
        phone: "139****5678"
        email: "li@company.com" 
        role: "å€¼ç­ç»ç†"
        
  tasks:
    - name: æ£€æµ‹ç´§æ€¥å‘Šè­¦
      ansible.builtin.uri:
        url: "http://monitoring.company.com/api/alerts"
        method: GET
      register: current_alerts
      
    - name: ç­›é€‰P0çº§åˆ«å‘Šè­¦
      ansible.builtin.set_fact:
        p0_alerts: >-
          {{ current_alerts.json | 
             selectattr('labels.severity', 'equalto', 'critical') | 
             list }}
             
    - name: æ‰§è¡Œåº”æ€¥å“åº”æµç¨‹
      include_tasks: emergency_actions.yml
      when: p0_alerts | length > 0
      
    - name: å‘é€ç´§æ€¥é€šçŸ¥
      ansible.builtin.mail:
        to: "{{ item.email }}"
        subject: "ã€ç´§æ€¥ã€‘ç½‘ç»œæ•…éšœå‘Šè­¦ - {{ ansible_date_time.iso8601 }}"
        body: |
          ç´§æ€¥å‘Šè­¦ä¿¡æ¯ï¼š
          {% for alert in p0_alerts %}
          - {{ alert.annotations.summary }}
          - å½±å“èŒƒå›´ï¼š{{ alert.labels.instance }}
          - å‘ç”Ÿæ—¶é—´ï¼š{{ alert.startsAt }}
          {% endfor %}
          
          è¯·ç«‹å³æ£€æŸ¥å¹¶å¤„ç†ï¼
      loop: "{{ emergency_contacts }}"
      when: p0_alerts | length > 0
```

### 5.5 å‘Šè­¦æŠ‘åˆ¶ä¸é™å™ª


**å‘Šè­¦é™å™ªçš„å¿…è¦æ€§**ï¼šé¿å…"ç‹¼æ¥äº†"æ•ˆåº”ï¼Œå½“å‘Šè­¦å¤ªå¤šå¤ªé¢‘ç¹æ—¶ï¼Œäººä»¬ä¼šéº»æœ¨ï¼ŒçœŸæ­£çš„é—®é¢˜åè€Œè¢«å¿½ç•¥ã€‚

```yaml
# alert_suppression.yml  
---
- name: å‘Šè­¦æŠ‘åˆ¶å’Œé™å™ªå¤„ç†
  hosts: localhost
  vars:
    suppression_rules:
      # ç»´æŠ¤æ—¶é—´çª—å£æŠ‘åˆ¶
      maintenance_windows:
        - start_time: "02:00"
          end_time: "06:00" 
          days: ["sunday"]
          reason: "å®šæœŸç»´æŠ¤"
          
      # ç›¸å…³æ€§æŠ‘åˆ¶ï¼ˆä¸Šæ¸¸æ•…éšœä¼šå¯¼è‡´ä¸‹æ¸¸å‘Šè­¦ï¼‰
      dependency_suppression:
        - upstream: "core_router_down"
          downstream: ["access_switch_unreachable", "server_network_timeout"]
          
  tasks:
    - name: æ£€æŸ¥å½“å‰æ—¶é—´æ˜¯å¦åœ¨ç»´æŠ¤çª—å£
      ansible.builtin.set_fact:
        in_maintenance: >-
          {{ ansible_date_time.hour|int >= 2 and 
             ansible_date_time.hour|int <= 6 and
             ansible_date_time.weekday|int == 6 }}
             
    - name: æŠ‘åˆ¶ç»´æŠ¤æœŸé—´çš„å‘Šè­¦
      ansible.builtin.uri:
        url: "http://alertmanager:9093/api/v1/silences"
        method: POST
        body_format: json
        body:
          matchers:
            - name: "maintenance"
              value: "true"
          startsAt: "{{ ansible_date_time.iso8601 }}"
          endsAt: "{{ (ansible_date_time.epoch|int + 14400) | strftime('%Y-%m-%dT%H:%M:%S.000Z') }}"
          comment: "å®šæœŸç»´æŠ¤æ—¶é—´æŠ‘åˆ¶å‘Šè­¦"
      when: in_maintenance
```

---

## 6. ğŸ”„ å˜æ›´ç®¡ç†ä¸å›æ»šæœºåˆ¶


### 6.1 å˜æ›´ç®¡ç†çš„é‡è¦æ€§


**ä¸ºä»€ä¹ˆéœ€è¦å˜æ›´ç®¡ç†**ï¼šç½‘ç»œé…ç½®å°±åƒç²¾å¯†ä»ªå™¨çš„è®¾ç½®ï¼Œä»»ä½•å¾®å°æ”¹åŠ¨éƒ½å¯èƒ½äº§ç”Ÿæ„æƒ³ä¸åˆ°çš„åæœã€‚å˜æ›´ç®¡ç†ç¡®ä¿ï¼š

- **å¯è¿½æº¯æ€§**ï¼šçŸ¥é“ä»€ä¹ˆæ—¶å€™è°æ”¹äº†ä»€ä¹ˆ
- **å®‰å…¨æ€§**ï¼šå˜æ›´å‰å¤‡ä»½ï¼Œå‡ºé—®é¢˜èƒ½å¿«é€Ÿå›æ»š
- **è§„èŒƒæ€§**ï¼šæŒ‰æµç¨‹æ“ä½œï¼Œå‡å°‘äººä¸ºé”™è¯¯
- **å®¡æ‰¹åˆ¶**ï¼šé‡è¦å˜æ›´éœ€è¦å®¡æ ¸æ‰¹å‡†

### 6.2 å˜æ›´ç®¡ç†æµç¨‹


```
å˜æ›´ç®¡ç†ç”Ÿå‘½å‘¨æœŸï¼š

å˜æ›´ç”³è¯·
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    æ‹’ç»    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1.å˜æ›´å®¡æ‰¹   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚  å˜æ›´ç»ˆæ­¢    â”‚
â”‚ (é£é™©è¯„ä¼°)   â”‚          â”‚  (è®°å½•åŸå› )  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚ æ‰¹å‡†
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2.é…ç½®å¤‡ä»½   â”‚
â”‚ (ç°çŠ¶ä¿å­˜)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    å¤±è´¥    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3.æ‰§è¡Œå˜æ›´   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ 4.è‡ªåŠ¨å›æ»š   â”‚
â”‚ (é…ç½®ä¿®æ”¹)   â”‚          â”‚ (æ¢å¤å¤‡ä»½)   â”‚  
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚ æˆåŠŸ                       â”‚
    â–¼                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 5.åŠŸèƒ½éªŒè¯   â”‚          â”‚ 6.æ•…éšœå¤„ç†   â”‚
â”‚ (æµ‹è¯•ç¡®è®¤)   â”‚          â”‚ (é—®é¢˜ä¿®å¤)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚                          â”‚
    â–¼                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 7.å˜æ›´å®Œæˆ   â”‚          â”‚ 8.ç»éªŒæ€»ç»“   â”‚
â”‚ (çŠ¶æ€æ›´æ–°)   â”‚          â”‚ (ä¼˜åŒ–æµç¨‹)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6.3 é…ç½®å¤‡ä»½ä¸ç‰ˆæœ¬æ§åˆ¶


```yaml
# config_backup.yml
---
- name: ç½‘ç»œè®¾å¤‡é…ç½®å¤‡ä»½ç®¡ç†
  hosts: network_devices
  vars:
    backup_dir: "/backup/network-configs"
    retention_days: 90
    git_repo: "git@github.com:company/network-configs.git"
    
  tasks:
    - name: åˆ›å»ºå¤‡ä»½ç›®å½•
      ansible.builtin.file:
        path: "{{ backup_dir }}/{{ inventory_hostname }}"
        state: directory
        mode: '0755'
      delegate_to: localhost
      
    - name: å¤‡ä»½å½“å‰è¿è¡Œé…ç½®
      cisco.ios.ios_command:
        commands:
          - show running-config
      register: running_config
      
    - name: ä¿å­˜é…ç½®æ–‡ä»¶
      ansible.builtin.copy:
        content: |
          ! {{ inventory_hostname }} é…ç½®å¤‡ä»½
          ! å¤‡ä»½æ—¶é—´: {{ ansible_date_time.iso8601 }}
          ! å¤‡ä»½ç‰ˆæœ¬: {{ ansible_date_time.epoch }}
          !
          {{ running_config.stdout[0] }}
        dest: "{{ backup_dir }}/{{ inventory_hostname }}/{{ ansible_date_time.date }}_{{ ansible_date_time.epoch }}.cfg"
      delegate_to: localhost
      
    - name: æ£€æŸ¥é…ç½®å·®å¼‚
      ansible.builtin.shell: |
        cd {{ backup_dir }}/{{ inventory_hostname }}
        if [ -f "latest.cfg" ]; then
          diff latest.cfg {{ ansible_date_time.date }}_{{ ansible_date_time.epoch }}.cfg || true
        fi
      register: config_diff
      delegate_to: localhost
      
    - name: æ›´æ–°æœ€æ–°é…ç½®é“¾æ¥
      ansible.builtin.file:
        src: "{{ ansible_date_time.date }}_{{ ansible_date_time.epoch }}.cfg"
        dest: "{{ backup_dir }}/{{ inventory_hostname }}/latest.cfg"
        state: link
        force: yes
      delegate_to: localhost
      
    - name: æäº¤é…ç½®åˆ°Gitä»“åº“
      ansible.builtin.shell: |
        cd {{ backup_dir }}
        git add .
        git commit -m "{{ inventory_hostname }}: é…ç½®å¤‡ä»½ {{ ansible_date_time.iso8601 }}"
        git push origin main
      delegate_to: localhost
      ignore_errors: yes
```

### 6.4 å®‰å…¨å˜æ›´æ‰§è¡Œ


```yaml
# safe_change_execution.yml
---
- name: å®‰å…¨å˜æ›´æ‰§è¡Œæµç¨‹
  hosts: "{{ target_device }}"
  gather_facts: no
  vars:
    change_id: "{{ change_id | mandatory }}"
    rollback_timeout: 600  # 10åˆ†é’Ÿè‡ªåŠ¨å›æ»š
    
  tasks:
    - name: æ‰§è¡Œå˜æ›´å‰éªŒè¯
      block:
        - name: éªŒè¯è®¾å¤‡è¿é€šæ€§
          ansible.builtin.ping:
          
        - name: æ£€æŸ¥è®¾å¤‡çŠ¶æ€
          cisco.ios.ios_command:
            commands:
              - show version
              - show ip route summary  
          register: pre_change_status
          
        - name: å¤‡ä»½å½“å‰é…ç½®
          include_tasks: config_backup.yml
          
        - name: é…ç½®å›æ»šå®šæ—¶å™¨
          cisco.ios.ios_config:
            lines:
              - "configure revert timer {{ rollback_timeout }}"
            
    - name: æ‰§è¡Œé…ç½®å˜æ›´
      block:
        - name: åº”ç”¨æ–°é…ç½®
          cisco.ios.ios_config:
            lines: "{{ change_commands }}"
          register: config_change_result
          
        - name: éªŒè¯å˜æ›´ç»“æœ
          cisco.ios.ios_command:
            commands:
              - show ip route summary
              - show interface summary
          register: post_change_status
          
        - name: è¿é€šæ€§æµ‹è¯•
          ansible.builtin.ping:
          delegate_to: "{{ connectivity_test_host | default('localhost') }}"
          
        - name: ç¡®è®¤å˜æ›´æˆåŠŸ
          cisco.ios.ios_config:
            lines:
              - "configure confirm"
          when: config_change_result is succeeded
          
      rescue:
        - name: å˜æ›´å¤±è´¥ï¼Œè§¦å‘å›æ»š
          cisco.ios.ios_config:
            lines:
              - "configure revert now"
              
        - name: è®°å½•å¤±è´¥åŸå› 
          ansible.builtin.debug:
            msg: |
              å˜æ›´å¤±è´¥ä¿¡æ¯ï¼š
              - å˜æ›´ID: {{ change_id }}
              - å¤±è´¥æ—¶é—´: {{ ansible_date_time.iso8601 }}
              - é”™è¯¯ä¿¡æ¯: {{ ansible_failed_result.msg }}
              
        - name: å‘é€å¤±è´¥é€šçŸ¥
          ansible.builtin.mail:
            to: "network-ops@company.com"
            subject: "å˜æ›´å¤±è´¥å‘Šè­¦ - {{ change_id }}"
            body: "è®¾å¤‡ {{ inventory_hostname }} å˜æ›´å¤±è´¥ï¼Œå·²è‡ªåŠ¨å›æ»š"
```

### 6.5 å˜æ›´éªŒè¯ä¸ç¡®è®¤


```yaml
# change_verification.yml  
---
- name: å˜æ›´éªŒè¯ä¸ç¡®è®¤æµç¨‹
  hosts: "{{ target_device }}"
  vars:
    verification_tests:
      - name: "åŸºç¡€è¿é€šæ€§"
        command: "ping {{ gateway_ip }}"
        expected: "Success rate is 100 percent"
        
      - name: "è·¯ç”±è¡¨å®Œæ•´æ€§"
        command: "show ip route summary"  
        expected: "Total: {{ expected_routes }}"
        
      - name: "æ¥å£çŠ¶æ€"
        command: "show interface summary"
        expected: "{{ critical_interfaces | length }} interfaces up"
        
  tasks:
    - name: æ‰§è¡ŒéªŒè¯æµ‹è¯•
      cisco.ios.ios_command:
        commands:
          - "{{ item.command }}"
      register: test_results
      loop: "{{ verification_tests }}"
      
    - name: åˆ†ææµ‹è¯•ç»“æœ
      ansible.builtin.set_fact:
        verification_passed: >-
          {{ test_results.results | 
             zip(verification_tests) |
             map('extract_verification_result') |
             select('equalto', true) |
             list | length == verification_tests | length }}
             
    - name: ç”ŸæˆéªŒè¯æŠ¥å‘Š
      ansible.builtin.template:
        src: verification_report.j2
        dest: "/tmp/{{ change_id }}_verification_{{ ansible_date_time.epoch }}.txt"
      delegate_to: localhost
      
    - name: å¤„ç†éªŒè¯ç»“æœ
      block:
        - name: å˜æ›´éªŒè¯æˆåŠŸ
          ansible.builtin.debug:
            msg: "æ‰€æœ‰éªŒè¯æµ‹è¯•é€šè¿‡ï¼Œå˜æ›´ç¡®è®¤å®Œæˆ"
          when: verification_passed
          
        - name: å˜æ›´éªŒè¯å¤±è´¥
          block:
            - name: è‡ªåŠ¨å›æ»šé…ç½®
              include_tasks: emergency_rollback.yml
              
            - name: å‘é€å¤±è´¥å‘Šè­¦
              ansible.builtin.mail:
                to: "network-ops@company.com"
                subject: "å˜æ›´éªŒè¯å¤±è´¥ - {{ change_id }}"
                body: "éªŒè¯æµ‹è¯•å¤±è´¥ï¼Œå·²è§¦å‘è‡ªåŠ¨å›æ»š"
                
          when: not verification_passed
```

---

## 7. ğŸ’¾ å¤‡ä»½æ¢å¤è‡ªåŠ¨åŒ–


### 7.1 å¤‡ä»½ç­–ç•¥è®¾è®¡


**å¤‡ä»½çš„é‡è¦æ€§**ï¼šå°±åƒç»™é‡è¦æ–‡ä»¶åšå¤šä»½æ‹·è´ï¼Œç½‘ç»œé…ç½®å¤‡ä»½ç¡®ä¿åœ¨è®¾å¤‡æ•…éšœæˆ–é…ç½®é”™è¯¯æ—¶èƒ½å¿«é€Ÿæ¢å¤ï¼Œé¿å…ä¸šåŠ¡é•¿æ—¶é—´ä¸­æ–­ã€‚

**å¤‡ä»½ç­–ç•¥åˆ†ç±»**ï¼š
- **å…¨é‡å¤‡ä»½**ï¼šå®Œæ•´çš„è®¾å¤‡é…ç½®ï¼Œæ¢å¤æ—¶é—´çŸ­ä½†å ç”¨ç©ºé—´å¤§
- **å¢é‡å¤‡ä»½**ï¼šåªå¤‡ä»½å˜æ›´éƒ¨åˆ†ï¼ŒèŠ‚çœç©ºé—´ä½†æ¢å¤å¤æ‚
- **å·®å¼‚å¤‡ä»½**ï¼šå¤‡ä»½ä¸ä¸Šæ¬¡å…¨é‡å¤‡ä»½çš„å·®å¼‚ï¼Œå¹³è¡¡ç©ºé—´å’Œæ¢å¤æ—¶é—´

```
å¤‡ä»½ç­–ç•¥æ—¶é—´è½´ï¼š

æ¯æ—¥å¤‡ä»½è®¡åˆ’ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”
â”‚ å‘¨ä¸€  â”‚ å‘¨äºŒ  â”‚ å‘¨ä¸‰  â”‚ å‘¨å››  â”‚ å‘¨äº”  â”‚ å‘¨å…­  â”‚ å‘¨æ—¥  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤  
â”‚å…¨é‡å¤‡ä»½â”‚å¢é‡å¤‡ä»½â”‚å¢é‡å¤‡ä»½â”‚å¢é‡å¤‡ä»½â”‚å¢é‡å¤‡ä»½â”‚å·®å¼‚å¤‡ä»½â”‚å…¨é‡å¤‡ä»½â”‚
â”‚ Full â”‚ Inc  â”‚ Inc  â”‚ Inc  â”‚ Inc  â”‚ Diff â”‚ Full â”‚
â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜

ä¿ç•™ç­–ç•¥ï¼š
- æ—¥å¤‡ä»½ï¼šä¿ç•™30å¤©
- å‘¨å¤‡ä»½ï¼šä¿ç•™12å‘¨  
- æœˆå¤‡ä»½ï¼šä¿ç•™12ä¸ªæœˆ
- å¹´å¤‡ä»½ï¼šä¿ç•™5å¹´
```

### 7.2 è‡ªåŠ¨åŒ–å¤‡ä»½ç³»ç»Ÿ


```yaml
# automated_backup.yml
---
- name: ç½‘ç»œè®¾å¤‡è‡ªåŠ¨åŒ–å¤‡ä»½ç³»ç»Ÿ
  hosts: network_devices
  vars:
    backup_config:
      local_path: "/backup/network"
      remote_path: "sftp://backup-server.company.com/network-backups"
      retention:
        daily: 30
        weekly: 12
        monthly: 12
        yearly: 5
      backup_types:
        - running_config
        - startup_config
        - device_info
        - interface_status
        
  tasks:
    - name: åˆ›å»ºå¤‡ä»½ç›®å½•ç»“æ„
      ansible.builtin.file:
        path: "{{ backup_config.local_path }}/{{ inventory_hostname }}/{{ item }}"
        state: directory
        mode: '0750'
      loop:
        - daily
        - weekly  
        - monthly
        - yearly
      delegate_to: localhost
      
    - name: æ”¶é›†è®¾å¤‡é…ç½®ä¿¡æ¯
      cisco.ios.ios_command:
        commands:
          - show running-config
          - show startup-config  
          - show version
          - show interface status
      register: device_backup_data
      
    - name: ç”Ÿæˆå¤‡ä»½æ–‡ä»¶
      ansible.builtin.copy:
        content: |
          ! ============================================
          ! {{ inventory_hostname }} è‡ªåŠ¨å¤‡ä»½æ–‡ä»¶
          ! å¤‡ä»½æ—¶é—´: {{ ansible_date_time.iso8601 }}
          ! å¤‡ä»½ç±»å‹: {{ backup_type | default('daily') }}
          ! ============================================
          
          ! è¿è¡Œé…ç½®
          {{ device_backup_data.stdout[0] }}
          
          ! å¯åŠ¨é…ç½®  
          {{ device_backup_data.stdout[1] }}
          
          ! è®¾å¤‡ä¿¡æ¯
          {{ device_backup_data.stdout[2] }}
          
          ! æ¥å£çŠ¶æ€
          {{ device_backup_data.stdout[3] }}
        dest: "{{ backup_config.local_path }}/{{ inventory_hostname }}/daily/{{ ansible_date_time.date }}_{{ ansible_date_time.hour }}{{ ansible_date_time.minute }}.cfg"
      delegate_to: localhost
      
    - name: è®¡ç®—é…ç½®MD5æ ¡éªŒ
      ansible.builtin.stat:
        path: "{{ backup_config.local_path }}/{{ inventory_hostname }}/daily/{{ ansible_date_time.date }}_{{ ansible_date_time.hour }}{{ ansible_date_time.minute }}.cfg"
        checksum_algorithm: md5
      register: backup_checksum
      delegate_to: localhost
      
    - name: è®°å½•å¤‡ä»½å…ƒæ•°æ®
      ansible.builtin.lineinfile:
        path: "{{ backup_config.local_path }}/{{ inventory_hostname }}/backup_index.csv"
        line: "{{ ansible_date_time.iso8601 }},{{ inventory_hostname }},daily,{{ ansible_date_time.date }}_{{ ansible_date_time.hour }}{{ ansible_date_time.minute }}.cfg,{{ backup_checksum.stat.checksum }}"
        create: yes
      delegate_to: localhost
```

### 7.3 æ™ºèƒ½æ¢å¤ç³»ç»Ÿ


```yaml
# intelligent_recovery.yml
---
- name: ç½‘ç»œè®¾å¤‡æ™ºèƒ½æ¢å¤ç³»ç»Ÿ
  hosts: "{{ target_device }}"
  vars:
    recovery_options:
      - name: "æœ€è¿‘æ­£å¸¸é…ç½®"
        type: "auto_select"
        criteria: "last_known_good"
        
      - name: "æŒ‡å®šæ—¶é—´é…ç½®"  
        type: "time_based"
        timestamp: "{{ recovery_timestamp | default('') }}"
        
      - name: "æŒ‡å®šç‰ˆæœ¬é…ç½®"
        type: "version_based" 
        version: "{{ recovery_version | default('') }}"
        
  tasks:
    - name: åˆ†æå½“å‰è®¾å¤‡çŠ¶æ€
      block:
        - name: æ£€æŸ¥è®¾å¤‡è¿é€šæ€§
          ansible.builtin.ping:
          register: device_reachable
          
        - name: æ”¶é›†æ•…éšœä¿¡æ¯
          cisco.ios.ios_command:
            commands:
              - show logging | include "ERROR\|CRITICAL"  
              - show interface | include "down\|error"
              - show memory statistics
          register: fault_analysis
          when: device_reachable is succeeded
          
    - name: é€‰æ‹©æœ€ä½³æ¢å¤é…ç½®
      block:
        - name: è·å–å¤‡ä»½å†å²
          ansible.builtin.shell: |
            tail -20 {{ backup_config.local_path }}/{{ inventory_hostname }}/backup_index.csv
          register: backup_history
          delegate_to: localhost
          
        - name: æ™ºèƒ½é€‰æ‹©æ¢å¤ç‚¹
          ansible.builtin.set_fact:
            selected_backup: >-
              {% if recovery_type == 'auto_select' %}
                {{ backup_history.stdout_lines[-2] }}
              {% elif recovery_type == 'time_based' %}
                {{ backup_history.stdout_lines | select('search', recovery_timestamp) | first }}
              {% else %}
                {{ backup_history.stdout_lines[-1] }}
              {% endif %}
              
    - name: æ‰§è¡Œé…ç½®æ¢å¤
      block:
        - name: ä¸‹è½½æ¢å¤é…ç½®
          ansible.builtin.fetch:
            src: "{{ backup_config.local_path }}/{{ inventory_hostname }}/{{ selected_backup.split(',')[3] }}"
            dest: "/tmp/recovery_config.cfg"
          delegate_to: localhost
          
        - name: åº”ç”¨æ¢å¤é…ç½®
          cisco.ios.ios_config:
            src: "/tmp/recovery_config.cfg"
            replace: complete
            backup: yes
            
        - name: éªŒè¯æ¢å¤ç»“æœ
          cisco.ios.ios_command:
            commands:
              - show ip route summary
              - show interface summary
          register: recovery_verification
          
        - name: è®°å½•æ¢å¤æ“ä½œ
          ansible.builtin.lineinfile:
            path: "{{ backup_config.local_path }}/{{ inventory_hostname }}/recovery_log.txt"
            line: "{{ ansible_date_time.iso8601 }}: ä»å¤‡ä»½ {{ selected_backup.split(',')[3] }} æ¢å¤é…ç½®æˆåŠŸ"
            create: yes
          delegate_to: localhost
```

### 7.4 ç¾éš¾æ¢å¤æ¼”ç»ƒ


```yaml
# disaster_recovery_drill.yml
---
- name: ç¾éš¾æ¢å¤æ¼”ç»ƒ
  hosts: test_devices
  vars:
    drill_scenarios:
      - name: "æ ¸å¿ƒè·¯ç”±å™¨æ•…éšœ"
        impact: "å…¨ç½‘ä¸­æ–­"
        rto: 300  # 5åˆ†é’Ÿæ¢å¤ç›®æ ‡
        
      - name: "é…ç½®æ–‡ä»¶æŸå"  
        impact: "è®¾å¤‡æ— æ³•å¯åŠ¨"
        rto: 600  # 10åˆ†é’Ÿæ¢å¤ç›®æ ‡
        
      - name: "äººä¸ºé…ç½®é”™è¯¯"
        impact: "éƒ¨åˆ†åŠŸèƒ½å¼‚å¸¸"
        rto: 180  # 3åˆ†é’Ÿæ¢å¤ç›®æ ‡
        
  tasks:
    - name: æ¨¡æ‹Ÿæ•…éšœåœºæ™¯
      block:
        - name: å¤‡ä»½å½“å‰é…ç½®ï¼ˆæ¼”ç»ƒä¿æŠ¤ï¼‰
          include_tasks: config_backup.yml
          
        - name: å¼•å…¥æ•…éšœé…ç½®
          cisco.ios.ios_config:
            lines:
              - "no ip route 0.0.0.0 0.0.0.0 {{ gateway_ip }}"  # åˆ é™¤é»˜è®¤è·¯ç”±
            backup: yes
          register: fault_injection
          
        - name: è®°å½•æ•…éšœå¼€å§‹æ—¶é—´
          ansible.builtin.set_fact:
            fault_start_time: "{{ ansible_date_time.epoch }}"
            
    - name: æ‰§è¡Œæ¢å¤æµç¨‹
      block:
        - name: æ£€æµ‹æ•…éšœ
          ansible.builtin.ping:
            data: "8.8.8.8"
          register: connectivity_test
          failed_when: false
          
        - name: è§¦å‘è‡ªåŠ¨æ¢å¤
          include_tasks: intelligent_recovery.yml
          when: connectivity_test is failed
          
        - name: è®°å½•æ¢å¤å®Œæˆæ—¶é—´
          ansible.builtin.set_fact:
            recovery_end_time: "{{ ansible_date_time.epoch }}"
            
    - name: ç”Ÿæˆæ¼”ç»ƒæŠ¥å‘Š
      ansible.builtin.template:
        src: drill_report.j2
        dest: "/tmp/disaster_drill_{{ ansible_date_time.epoch }}.txt"
      vars:
        recovery_time: "{{ recovery_end_time|int - fault_start_time|int }}"
        rto_achieved: "{{ recovery_time|int <= drill_scenarios[0].rto }}"
      delegate_to: localhost
```

---

## 8. ğŸ“‹ æœ€ä½³å®è·µä¸æ€»ç»“


### 8.1 ç½‘ç»œæ•…éšœå¤„ç†æœ€ä½³å®è·µ


**æ ¸å¿ƒåŸåˆ™**ï¼šé¢„é˜²èƒœäºæ²»ç–—ï¼Œè‡ªåŠ¨åŒ–ä¼˜äºæ‰‹å·¥ï¼Œç›‘æ§å…ˆäºæ•…éšœï¼Œå¤‡ä»½é‡äºä¸€åˆ‡ã€‚

**å®è·µåˆ†çº§ä½“ç³»**ï¼š

| å®è·µçº§åˆ« | **å®æ–½å†…å®¹** | **é¢„æœŸæ•ˆæœ** | **å®æ–½éš¾åº¦** |
|---------|-------------|-------------|-------------|
| **åŸºç¡€çº§** | `åŸºæœ¬ç›‘æ§ã€æ‰‹åŠ¨å¤‡ä»½` | `æ•…éšœå‘ç°èƒ½åŠ›` | `ğŸŸ¢ å®¹æ˜“` |
| **è¿›é˜¶çº§** | `è‡ªåŠ¨å‘Šè­¦ã€å®šæ—¶å¤‡ä»½` | `å¿«é€Ÿå“åº”èƒ½åŠ›` | `ğŸŸ¡ ä¸­ç­‰` |
| **ä¸“å®¶çº§** | `æ™ºèƒ½åˆ†æã€è‡ªåŠ¨æ¢å¤` | `è‡ªæ„ˆå¤„ç†èƒ½åŠ›` | `ğŸ”´ å›°éš¾` |
| **å¤§å¸ˆçº§** | `é¢„æµ‹æ€§ç»´æŠ¤ã€é›¶ä¸­æ–­` | `é¢„é˜²æ•…éšœèƒ½åŠ›` | `ğŸ”´ æéš¾` |

### 8.2 æ•…éšœå¤„ç†æˆç†Ÿåº¦æ¨¡å‹


```
æˆç†Ÿåº¦æ¼”è¿›è·¯å¾„ï¼š

Level 1: è¢«åŠ¨å“åº”
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â€¢ æ•…éšœå‘ç”Ÿåå¤„ç† â”‚
â”‚ â€¢ äººå·¥æ£€æŸ¥ä¿®å¤   â”‚  
â”‚ â€¢ ç»éªŒä¾èµ–ä¸¥é‡   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
Level 2: ä¸»åŠ¨ç›‘æ§  
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â€¢ å®æ—¶çŠ¶æ€ç›‘æ§   â”‚
â”‚ â€¢ è‡ªåŠ¨å‘Šè­¦é€šçŸ¥   â”‚
â”‚ â€¢ æ ‡å‡†åŒ–æµç¨‹     â”‚  
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
Level 3: æ™ºèƒ½åˆ†æ
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â€¢ æ ¹å› è‡ªåŠ¨åˆ†æ   â”‚
â”‚ â€¢ è¶‹åŠ¿é¢„æµ‹å‘Šè­¦   â”‚
â”‚ â€¢ çŸ¥è¯†åº“è¾…åŠ©     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
Level 4: è‡ªæ„ˆèƒ½åŠ›
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â€¢ æ•…éšœè‡ªåŠ¨ä¿®å¤   â”‚
â”‚ â€¢ é…ç½®è‡ªåŠ¨å›æ»š   â”‚ 
â”‚ â€¢ æ— äººå€¼å®ˆè¿ç»´   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
Level 5: é¢„æµ‹ç»´æŠ¤
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â€¢ AIæ•…éšœé¢„æµ‹     â”‚
â”‚ â€¢ é›¶ä¸­æ–­å‡çº§     â”‚
â”‚ â€¢ æŒç»­ä¼˜åŒ–æ”¹è¿›   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 8.3 å…³é”®æˆåŠŸå› ç´ 


**æŠ€æœ¯å› ç´ **ï¼š
- **ç›‘æ§è¦†ç›–åº¦**ï¼šç¡®ä¿æ‰€æœ‰å…³é”®è®¾å¤‡å’Œé“¾è·¯éƒ½åœ¨ç›‘æ§èŒƒå›´å†…
- **å‘Šè­¦å‡†ç¡®æ€§**ï¼šå‡å°‘è¯¯æŠ¥ï¼Œæé«˜å‘Šè­¦çš„å¯ä¿¡åº¦
- **è‡ªåŠ¨åŒ–ç¨‹åº¦**ï¼šå°½å¯èƒ½å®ç°æ— äººå·¥å¹²é¢„çš„æ•…éšœå¤„ç†
- **å¤‡ä»½å®Œæ•´æ€§**ï¼šå®šæœŸéªŒè¯å¤‡ä»½æ–‡ä»¶çš„æœ‰æ•ˆæ€§

**æµç¨‹å› ç´ **ï¼š
- **å“åº”æ—¶æ•ˆæ€§**ï¼šå»ºç«‹æ˜ç¡®çš„SLAæŒ‡æ ‡å’Œå“åº”æ—¶é—´è¦æ±‚
- **å˜æ›´ç®¡æ§**ï¼šä¸¥æ ¼çš„å˜æ›´å®¡æ‰¹å’Œå›æ»šæœºåˆ¶
- **çŸ¥è¯†ä¼ æ‰¿**ï¼šæ•…éšœå¤„ç†ç»éªŒçš„æ–‡æ¡£åŒ–å’Œå…±äº«
- **æŒç»­æ”¹è¿›**ï¼šå®šæœŸå›é¡¾å’Œä¼˜åŒ–æ•…éšœå¤„ç†æµç¨‹

### 8.4 å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ


**é—®é¢˜1ï¼šå‘Šè­¦é£æš´**
```yaml
# è§£å†³æ–¹æ¡ˆï¼šå‘Šè­¦èšåˆå’ŒæŠ‘åˆ¶
alert_grouping:
  rules:
    - group_by: ['device', 'severity']
      group_wait: 30s
      group_interval: 5m
      repeat_interval: 12h
```

**é—®é¢˜2ï¼šè¯¯æ“ä½œé£é™©**  
```yaml
# è§£å†³æ–¹æ¡ˆï¼šæ“ä½œç¡®è®¤å’Œå®¡æ‰¹
safety_checks:
  - name: "å±é™©æ“ä½œç¡®è®¤"
    pattern: "reload|shutdown|no ip route"
    require_approval: true
    approval_timeout: 300
```

**é—®é¢˜3ï¼šæ¢å¤æ—¶é—´è¿‡é•¿**
```yaml
# è§£å†³æ–¹æ¡ˆï¼šé¢„ç½®æ¢å¤è„šæœ¬
quick_recovery:
  templates:
    - scenario: "interface_down"
      commands: ["no shutdown", "clear interface counters"]
      estimated_time: 30
```

### 8.5 æ€§èƒ½æŒ‡æ ‡ä¸KPI


**å…³é”®æŒ‡æ ‡å®šä¹‰**ï¼š

| æŒ‡æ ‡åç§° | **è®¡ç®—æ–¹æ³•** | **ç›®æ ‡å€¼** | **ç›‘æ§é¢‘ç‡** |
|---------|-------------|-----------|-------------|
| **MTTR** | `æ•…éšœæ¢å¤æ€»æ—¶é—´/æ•…éšœæ¬¡æ•°` | `< 15åˆ†é’Ÿ` | `æœˆåº¦ç»Ÿè®¡` |
| **MTBF** | `æ­£å¸¸è¿è¡Œæ—¶é—´/æ•…éšœæ¬¡æ•°` | `> 720å°æ—¶` | `å­£åº¦ç»Ÿè®¡` |  
| **å‘Šè­¦å‡†ç¡®ç‡** | `æœ‰æ•ˆå‘Šè­¦æ•°/æ€»å‘Šè­¦æ•°Ã—100%` | `> 85%` | `å‘¨åº¦ç»Ÿè®¡` |
| **è‡ªåŠ¨åŒ–ç‡** | `è‡ªåŠ¨å¤„ç†æ•…éšœæ•°/æ€»æ•…éšœæ•°Ã—100%` | `> 60%` | `æœˆåº¦ç»Ÿè®¡` |
| **å¯ç”¨æ€§** | `(æ€»æ—¶é—´-æ•…éšœæ—¶é—´)/æ€»æ—¶é—´Ã—100%` | `> 99.9%` | `æœˆåº¦ç»Ÿè®¡` |

### 8.6 å®æ–½è·¯çº¿å›¾


**é˜¶æ®µ1ï¼šåŸºç¡€å»ºè®¾ï¼ˆ1-2ä¸ªæœˆï¼‰**
```markdown
> ğŸ“ **ä»»åŠ¡æ¸…å•**
> - âœ… å»ºç«‹åŸºç¡€ç›‘æ§ç³»ç»Ÿ
> - âœ… é…ç½®åŸºæœ¬å‘Šè­¦è§„åˆ™  
> - âœ… å®æ–½é…ç½®å¤‡ä»½æœºåˆ¶
> - âœ… åˆ¶å®šæ•…éšœå“åº”æµç¨‹
```

**é˜¶æ®µ2ï¼šè‡ªåŠ¨åŒ–æå‡ï¼ˆ3-4ä¸ªæœˆï¼‰**
```markdown
> âš¡ **é‡ç‚¹å·¥ä½œ**
> - ğŸ”§ å¼€å‘è‡ªåŠ¨åŒ–æ•…éšœæ£€æµ‹è„šæœ¬
> - ğŸ”§ å®ç°é…ç½®è‡ªåŠ¨å›æ»šåŠŸèƒ½
> - ğŸ”§ å»ºç«‹æ™ºèƒ½å‘Šè­¦è¿‡æ»¤æœºåˆ¶  
> - ğŸ”§ å®Œå–„æ•…éšœå¤„ç†æ–‡æ¡£
```

**é˜¶æ®µ3ï¼šæ™ºèƒ½åŒ–å‡çº§ï¼ˆ5-6ä¸ªæœˆï¼‰**
```markdown
> ğŸš€ **é«˜çº§åŠŸèƒ½**  
> - ğŸ¯ éƒ¨ç½²æ•…éšœé¢„æµ‹åˆ†æç³»ç»Ÿ
> - ğŸ¯ å®ç°é›¶æ¥è§¦æ•…éšœæ¢å¤
> - ğŸ¯ å»ºç«‹æŒç»­æ”¹è¿›æœºåˆ¶
> - ğŸ¯ å®Œæˆå›¢é˜ŸæŠ€èƒ½åŸ¹è®­
```

### 8.7 å­¦ä¹ èµ„æºä¸è¿›é˜¶æŒ‡å—


**æ¨èå­¦ä¹ è·¯å¾„**ï¼š

1. **åŸºç¡€çŸ¥è¯†**ï¼ˆå»ºè®®å­¦ä¹ æ—¶é—´ï¼š2-4å‘¨ï¼‰
   - ç½‘ç»œåè®®åŸºç¡€ï¼ˆTCP/IPã€OSPFã€BGPï¼‰
   - Linuxç³»ç»Ÿç®¡ç†åŸºç¡€
   - AnsibleåŸºç¡€æ“ä½œå’Œè¯­æ³•

2. **è¿›é˜¶æŠ€èƒ½**ï¼ˆå»ºè®®å­¦ä¹ æ—¶é—´ï¼š1-2ä¸ªæœˆï¼‰
   - ç½‘ç»œè®¾å¤‡ç®¡ç†ï¼ˆCiscoã€Huaweiã€Juniperï¼‰
   - ç›‘æ§ç³»ç»Ÿéƒ¨ç½²ï¼ˆZabbixã€Prometheusï¼‰  
   - è‡ªåŠ¨åŒ–è„šæœ¬å¼€å‘ï¼ˆPythonã€Bashï¼‰

3. **ä¸“å®¶çº§æŠ€èƒ½**ï¼ˆå»ºè®®å­¦ä¹ æ—¶é—´ï¼š3-6ä¸ªæœˆï¼‰
   - æ•…éšœé¢„æµ‹å’Œåˆ†æï¼ˆæœºå™¨å­¦ä¹ åŸºç¡€ï¼‰
   - å¤§è§„æ¨¡ç½‘ç»œæ¶æ„è®¾è®¡
   - DevOpså’ŒæŒç»­é›†æˆå®è·µ

**å®ç”¨å·¥å…·æ¨è**ï¼š
- **ç›‘æ§å·¥å…·**ï¼š`Zabbix`ã€`Prometheus`ã€`Grafana`
- **ç½‘ç»œåˆ†æ**ï¼š`Wireshark`ã€`tcpdump`ã€`nmap`
- **è‡ªåŠ¨åŒ–å¹³å°**ï¼š`Ansible Tower`ã€`Jenkins`ã€`GitLab CI`
- **æ–‡æ¡£åä½œ**ï¼š`GitBook`ã€`Confluence`ã€`Notion`

---

## ğŸ¯ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### å¿…é¡»æŒæ¡çš„å…³é”®æ¦‚å¿µ


```markdown
> ğŸ’¡ **æ ¸å¿ƒç†å¿µ**
> - æ•…éšœå¤„ç†ï¼šé¢„é˜² > æ£€æµ‹ > ä¿®å¤ > ä¼˜åŒ–çš„é—­ç¯ç®¡ç†
> - è‡ªåŠ¨åŒ–ä¼˜å…ˆï¼šå‡å°‘äººå·¥å¹²é¢„ï¼Œæé«˜å¤„ç†æ•ˆç‡å’Œå‡†ç¡®æ€§  
> - ç›‘æ§é©±åŠ¨ï¼šåŸºäºæ•°æ®çš„å†³ç­–ï¼Œè€Œéç»éªŒå’Œç›´è§‰
> - æŒç»­æ”¹è¿›ï¼šæ¯æ¬¡æ•…éšœéƒ½æ˜¯å­¦ä¹ å’Œä¼˜åŒ–çš„æœºä¼š
```

### æŠ€æœ¯å®ç°è¦ç‚¹


**ç›‘æ§ä½“ç³»**ï¼š
- ğŸ” **å¤šå±‚æ¬¡ç›‘æ§**ï¼šè®¾å¤‡ã€é“¾è·¯ã€åº”ç”¨ã€ä¸šåŠ¡å…¨è¦†ç›–
- âš¡ **å®æ—¶å‘Šè­¦**ï¼šåŸºäºé˜ˆå€¼å’Œè¶‹åŠ¿çš„æ™ºèƒ½å‘Šè­¦æœºåˆ¶
- ğŸ“Š **å¯è§†åŒ–å±•ç¤º**ï¼šç›´è§‚çš„ç›‘æ§å¤§å±å’ŒæŠ¥å‘Šç³»ç»Ÿ

**æ•…éšœå¤„ç†**ï¼š  
- ğŸš¨ **åˆ†çº§å“åº”**ï¼šP0/P1/P2/P3å››çº§æ•…éšœåˆ†ç±»å¤„ç†
- ğŸ”§ **è‡ªåŠ¨ä¿®å¤**ï¼šå¸¸è§æ•…éšœçš„æ— äººå·¥å¹²é¢„å¤„ç†
- ğŸ”„ **å¿«é€Ÿå›æ»š**ï¼šé…ç½®é”™è¯¯çš„ç§’çº§æ¢å¤èƒ½åŠ›

**å˜æ›´ç®¡ç†**ï¼š
- ğŸ“‹ **æµç¨‹è§„èŒƒ**ï¼šç”³è¯·â†’å®¡æ‰¹â†’å¤‡ä»½â†’æ‰§è¡Œâ†’éªŒè¯â†’ç¡®è®¤
- ğŸ’¾ **ç‰ˆæœ¬æ§åˆ¶**ï¼šGitç®¡ç†é…ç½®æ–‡ä»¶ï¼Œæ”¯æŒå·®å¼‚å¯¹æ¯”
- ğŸ›¡ï¸ **å®‰å…¨æœºåˆ¶**ï¼šè‡ªåŠ¨å›æ»šå®šæ—¶å™¨ï¼Œé˜²æ­¢é…ç½®é”å®š

### å®é™…åº”ç”¨ä»·å€¼


**ä¸šåŠ¡ä»·å€¼**ï¼š
- **å¯ç”¨æ€§æå‡**ï¼šä»99%æå‡åˆ°99.9%ä»¥ä¸Šçš„ç½‘ç»œå¯ç”¨æ€§
- **å“åº”æ—¶é—´ç¼©çŸ­**ï¼šæ•…éšœå¤„ç†æ—¶é—´ä»å°æ—¶çº§ç¼©çŸ­åˆ°åˆ†é’Ÿçº§
- **è¿ç»´æˆæœ¬é™ä½**ï¼šå‡å°‘50-80%çš„äººå·¥è¿ç»´å·¥ä½œé‡
- **é£é™©æ§åˆ¶å¢å¼º**ï¼šé€šè¿‡è‡ªåŠ¨åŒ–å‡å°‘äººä¸ºæ“ä½œé”™è¯¯

**æŠ€æœ¯æ”¶ç›Š**ï¼š
- **æ ‡å‡†åŒ–è¿ç»´**ï¼šç»Ÿä¸€çš„æ•…éšœå¤„ç†æµç¨‹å’Œå·¥å…·
- **çŸ¥è¯†æ²‰æ·€**ï¼šæ•…éšœå¤„ç†ç»éªŒçš„ä»£ç åŒ–å’Œæ–‡æ¡£åŒ–  
- **å›¢é˜Ÿæ•ˆç‡**ï¼šä»æ•‘ç«é˜Ÿæ¨¡å¼è½¬å‘é¢„é˜²æ€§ç»´æŠ¤
- **æŠ€èƒ½æå‡**ï¼šå›¢é˜Ÿä»æ‰‹å·¥æ“ä½œå‘è‡ªåŠ¨åŒ–å¼€å‘è½¬å‹

### å­¦ä¹ å»ºè®®ä¸å‘å±•è·¯å¾„


**æ–°æ‰‹èµ·æ­¥**ï¼ˆ0-3ä¸ªæœˆï¼‰ï¼š
```markdown
> ğŸ“š **åŸºç¡€å­¦ä¹ æ¸…å•**
> - AnsibleåŸºç¡€è¯­æ³•å’Œå¸¸ç”¨æ¨¡å—
> - ç½‘ç»œè®¾å¤‡åŸºç¡€é…ç½®å’Œå‘½ä»¤
> - Linuxç³»ç»Ÿç®¡ç†åŸºç¡€æ“ä½œ
> - ç›‘æ§ç³»ç»Ÿçš„å®‰è£…å’Œä½¿ç”¨
```

**æŠ€èƒ½è¿›é˜¶**ï¼ˆ3-6ä¸ªæœˆï¼‰ï¼š
```markdown
> âš¡ **è¿›é˜¶æŠ€èƒ½ç›®æ ‡**
> - ç¼–å†™å¤æ‚çš„Ansible Playbook
> - è®¾è®¡ç½‘ç»œç›‘æ§å’Œå‘Šè­¦ä½“ç³»
> - å®ç°æ•…éšœè‡ªåŠ¨åŒ–å¤„ç†è„šæœ¬
> - æŒæ¡ç½‘ç»œæ•…éšœè¯Šæ–­æ–¹æ³•
```

**ä¸“å®¶æ°´å¹³**ï¼ˆ6-12ä¸ªæœˆï¼‰ï¼š
```markdown
> ğŸ¯ **ä¸“å®¶çº§ç›®æ ‡**
> - æ¶æ„è®¾è®¡å¤§è§„æ¨¡ç½‘ç»œç›‘æ§ç³»ç»Ÿ
> - å¼€å‘æ™ºèƒ½æ•…éšœé¢„æµ‹å’Œåˆ†æå·¥å…·
> - å»ºç«‹ä¼ä¸šçº§ç½‘ç»œè‡ªåŠ¨åŒ–å¹³å°
> - æŒ‡å¯¼å›¢é˜Ÿè¿›è¡ŒDevOpsè½¬å‹
```

### é¿å…çš„å¸¸è§é™·é˜±


**æŠ€æœ¯é™·é˜±**ï¼š
- âŒ **è¿‡åº¦è‡ªåŠ¨åŒ–**ï¼šä¸æ˜¯æ‰€æœ‰æ•…éšœéƒ½é€‚åˆè‡ªåŠ¨å¤„ç†
- âŒ **ç›‘æ§è¿‡è½½**ï¼šå‘Šè­¦å¤ªå¤šåè€Œå½±å“çœŸæ­£é—®é¢˜çš„å‘ç°
- âŒ **å•ç‚¹ä¾èµ–**ï¼šé¿å…æŠŠæ‰€æœ‰é¸¡è›‹æ”¾åœ¨ä¸€ä¸ªç¯®å­é‡Œ
- âŒ **å¿½è§†å®‰å…¨**ï¼šè‡ªåŠ¨åŒ–ç³»ç»Ÿæœ¬èº«ä¹Ÿéœ€è¦å®‰å…¨é˜²æŠ¤

**ç®¡ç†é™·é˜±**ï¼š
- âŒ **æŠ€æœ¯è‡³ä¸Š**ï¼šå¿½è§†æµç¨‹å’Œäººå‘˜å› ç´ 
- âŒ **ä¸€æ­¥åˆ°ä½**ï¼šæƒ³ä¸€æ¬¡æ€§è§£å†³æ‰€æœ‰é—®é¢˜
- âŒ **ç¼ºä¹è§„åˆ’**ï¼šæ²¡æœ‰æ˜ç¡®çš„å®æ–½è·¯çº¿å›¾
- âŒ **åŸ¹è®­ä¸è¶³**ï¼šå›¢é˜ŸæŠ€èƒ½è·Ÿä¸ä¸Šå·¥å…·å‘å±•

**æ ¸å¿ƒè®°å¿†è¦ç‚¹**ï¼š
- ç½‘ç»œæ•…éšœå¤„ç†æ˜¯ä¸€ä¸ªç³»ç»Ÿå·¥ç¨‹ï¼Œéœ€è¦æŠ€æœ¯ã€æµç¨‹ã€äººå‘˜çš„æœ‰æœºç»“åˆ
- Ansibleåœ¨ç½‘ç»œè‡ªåŠ¨åŒ–ä¸­çš„ä»·å€¼åœ¨äºæ ‡å‡†åŒ–å’Œè§„æ¨¡åŒ–è¿ç»´æ“ä½œ
- ç›‘æ§å’Œå‘Šè­¦æ˜¯æ•…éšœå¤„ç†çš„çœ¼ç›ï¼Œè‡ªåŠ¨åŒ–æ˜¯æ•…éšœå¤„ç†çš„æ‰‹è„š
- æœ€å¥½çš„æ•…éšœå¤„ç†æ˜¯é¢„é˜²æ•…éšœå‘ç”Ÿï¼Œè€Œä¸æ˜¯ç­‰æ•…éšœå‘ç”Ÿåå†å¤„ç†
- æŒç»­æ”¹è¿›å’Œå­¦ä¹ æ˜¯ç½‘ç»œè¿ç»´å›¢é˜Ÿä¿æŒç«äº‰åŠ›çš„å…³é”®