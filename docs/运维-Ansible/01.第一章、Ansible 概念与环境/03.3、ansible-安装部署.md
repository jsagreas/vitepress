---
title: 3ã€ansible-å®‰è£…éƒ¨ç½²
---
## ğŸ“š ç›®å½•

1. [Ansibleå®‰è£…æ¦‚è¿°](#1-Ansibleå®‰è£…æ¦‚è¿°)
2. [ç³»ç»Ÿç¯å¢ƒå‡†å¤‡](#2-ç³»ç»Ÿç¯å¢ƒå‡†å¤‡)
3. [åŒ…ç®¡ç†å™¨å®‰è£…æ–¹å¼](#3-åŒ…ç®¡ç†å™¨å®‰è£…æ–¹å¼)
4. [PythonåŒ…ç®¡ç†å®‰è£…](#4-PythonåŒ…ç®¡ç†å®‰è£…)
5. [æºç ç¼–è¯‘å®‰è£…](#5-æºç ç¼–è¯‘å®‰è£…)
6. [å®¹å™¨åŒ–å®‰è£…æ–¹å¼](#6-å®¹å™¨åŒ–å®‰è£…æ–¹å¼)
7. [ç‰ˆæœ¬ç®¡ç†ç­–ç•¥](#7-ç‰ˆæœ¬ç®¡ç†ç­–ç•¥)
8. [å®‰è£…éªŒè¯ä¸æ’é”™](#8-å®‰è£…éªŒè¯ä¸æ’é”™)
9. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#9-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ”§ Ansibleå®‰è£…æ¦‚è¿°


### 1.1 å®‰è£…æ–¹å¼é€‰æ‹©ç­–ç•¥


**å®‰è£…æ–¹å¼å¯¹æ¯”**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Ansible å®‰è£…æ–¹å¼                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   åŒ…ç®¡ç†å™¨      â”‚    pipå®‰è£…      â”‚      æºç ç¼–è¯‘       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ âœ… ç³»ç»Ÿé›†æˆå¥½    â”‚ âœ… ç‰ˆæœ¬æ§åˆ¶çµæ´»  â”‚ âœ… å®Œå…¨å¯å®šåˆ¶       â”‚
â”‚ âœ… ä¾èµ–è‡ªåŠ¨å¤„ç†  â”‚ âœ… è™šæ‹Ÿç¯å¢ƒéš”ç¦»  â”‚ âœ… æœ€æ–°åŠŸèƒ½æ”¯æŒ     â”‚
â”‚ âŒ ç‰ˆæœ¬å¯èƒ½è¾ƒæ—§  â”‚ âŒ éœ€è¦PythonåŸºç¡€ â”‚ âŒ ç¼–è¯‘æ—¶é—´é•¿       â”‚
â”‚ âŒ å‡çº§å—é™     â”‚ âŒ æƒé™ç®¡ç†å¤æ‚  â”‚ âŒ ä¾èµ–ç®¡ç†å¤æ‚     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.2 ç‰ˆæœ¬é€‰æ‹©å»ºè®®


| ç¯å¢ƒç±»å‹ | æ¨èç‰ˆæœ¬ | å®‰è£…æ–¹å¼ | åŸå›  |
|---------|----------|----------|------|
| **ç”Ÿäº§ç¯å¢ƒ** | `LTSç‰ˆæœ¬` | åŒ…ç®¡ç†å™¨ | ç¨³å®šæ€§ä¼˜å…ˆ |
| **å¼€å‘ç¯å¢ƒ** | `æœ€æ–°ç¨³å®šç‰ˆ` | pipå®‰è£… | åŠŸèƒ½å®Œæ•´æ€§ |
| **å­¦ä¹ ç¯å¢ƒ** | `ä»»æ„ç¨³å®šç‰ˆ` | pipå®‰è£… | ç®€å•å¿«æ· |
| **å®¹å™¨ç¯å¢ƒ** | `å®˜æ–¹é•œåƒ` | Docker | ç¯å¢ƒéš”ç¦» |

### 1.3 ç³»ç»Ÿå…¼å®¹æ€§


**æ”¯æŒçš„æ“ä½œç³»ç»Ÿ**
```
Linuxå‘è¡Œç‰ˆ:
â”œâ”€ Red Hatç³»åˆ—: RHEL 7+, CentOS 7+, Fedora 30+
â”œâ”€ Debianç³»åˆ—: Ubuntu 18.04+, Debian 9+
â”œâ”€ SUSEç³»åˆ—: openSUSE Leap 15+, SLES 12+
â””â”€ å…¶ä»–: Arch Linux, Alpine Linux

Unixç³»ç»Ÿ:
â”œâ”€ macOS 10.14+
â””â”€ FreeBSD 11+

ä¸æ”¯æŒ:
âŒ Windows (éœ€è¦WSLæˆ–è™šæ‹Ÿæœº)
âŒ è¿‡æ—§çš„Linuxå‘è¡Œç‰ˆ
```

---

## 2. âš™ï¸ ç³»ç»Ÿç¯å¢ƒå‡†å¤‡


### 2.1 åŸºç¡€ä¾èµ–æ£€æŸ¥


> ğŸ’¡ **ç¯å¢ƒè¦æ±‚**
> 
> **Pythonç‰ˆæœ¬ï¼š** 3.8+ (æ¨è3.9+)
> **å†…å­˜éœ€æ±‚ï¼š** æœ€å°512MBï¼Œæ¨è2GB+
> **ç£ç›˜ç©ºé—´ï¼š** è‡³å°‘1GBå¯ç”¨ç©ºé—´

**ä¾èµ–æ£€æŸ¥å‘½ä»¤**
```bash
# æ£€æŸ¥Pythonç‰ˆæœ¬
python3 --version
python3 -m pip --version

# æ£€æŸ¥ç³»ç»Ÿä¿¡æ¯
uname -a
cat /etc/os-release

# æ£€æŸ¥ç½‘ç»œè¿æ¥
ping -c 3 pypi.org
curl -I https://releases.ansible.com
```

### 2.2 æƒé™ä¸ç”¨æˆ·é…ç½®


**ç”¨æˆ·æƒé™è®¾ç½®**
```bash
# åˆ›å»ºansibleä¸“ç”¨ç”¨æˆ· (æ¨è)
sudo useradd -m -s /bin/bash ansible
sudo usermod -aG sudo ansible

# é…ç½®å…å¯†sudo (å¯é€‰)
echo "ansible ALL=(ALL) NOPASSWD:ALL" | sudo tee /etc/sudoers.d/ansible

# åˆ‡æ¢åˆ°ansibleç”¨æˆ·
su - ansible
```

### 2.3 é˜²ç«å¢™ä¸SELinuxé…ç½®


<details>
<summary>ğŸ” ç‚¹å‡»æŸ¥çœ‹é˜²ç«å¢™é…ç½®è¯¦æƒ…</summary>

```bash
# CentOS/RHELç³»ç»Ÿ
systemctl status firewalld
firewall-cmd --permanent --add-port=22/tcp
firewall-cmd --reload

# Ubuntu/Debianç³»ç»Ÿ  
ufw status
ufw allow ssh
ufw enable

# SELinuxé…ç½® (å¦‚æœå¯ç”¨)
getenforce
setenforce Permissive  # ä¸´æ—¶è®¾ç½®
```

</details>

---

## 3. ğŸ“¦ åŒ…ç®¡ç†å™¨å®‰è£…æ–¹å¼


### 3.1 Red Hatç³»åˆ—å®‰è£…


**CentOS/RHEL ä½¿ç”¨yum/dnf**
```bash
# å¯ç”¨EPELä»“åº“ (CentOS 7/8)
sudo yum install epel-release -y

# CentOS 7
sudo yum install ansible -y

# CentOS 8/RHEL 8/Fedora
sudo dnf install ansible -y

# éªŒè¯å®‰è£…
ansible --version
```

### 3.2 Debianç³»åˆ—å®‰è£…


**Ubuntu/Debian ä½¿ç”¨apt**
```bash
# æ›´æ–°åŒ…åˆ—è¡¨
sudo apt update

# æ–¹å¼1: ä½¿ç”¨é»˜è®¤ä»“åº“
sudo apt install ansible -y

# æ–¹å¼2: ä½¿ç”¨å®˜æ–¹PPA (Ubuntu)
sudo apt-add-repository ppa:ansible/ansible
sudo apt update  
sudo apt install ansible -y

# éªŒè¯å®‰è£…
ansible --version
```

### 3.3 åŒ…ç®¡ç†å™¨å®‰è£…ä¼˜ç¼ºç‚¹


**ä¼˜åŠ¿åˆ†æ**
- âœ… **ç³»ç»Ÿé›†æˆåº¦é«˜** - è‡ªåŠ¨å¤„ç†ä¾èµ–å…³ç³»
- âœ… **å®‰å…¨æ›´æ–°** - é€šè¿‡ç³»ç»Ÿæ›´æ–°æœºåˆ¶è·å¾—å®‰å…¨è¡¥ä¸
- âœ… **å¸è½½æ¸…ç†** - ç³»ç»Ÿçº§å¸è½½ï¼Œæ¸…ç†å½»åº•

**é™åˆ¶å› ç´ **
- âŒ **ç‰ˆæœ¬æ»å** - é€šå¸¸ä¸æ˜¯æœ€æ–°ç‰ˆæœ¬
- âŒ **å®šåˆ¶å›°éš¾** - é…ç½®é€‰é¡¹æœ‰é™

---

## 4. ğŸ PythonåŒ…ç®¡ç†å®‰è£…


### 4.1 pipå®‰è£…æ–¹å¼ (æ¨è)


**åŸºç¡€pipå®‰è£…**
```bash
# å‡çº§pipåˆ°æœ€æ–°ç‰ˆæœ¬
python3 -m pip install --upgrade pip

# å®‰è£…ansible
pip3 install ansible

# æŒ‡å®šç‰ˆæœ¬å®‰è£…
pip3 install ansible==6.0.0

# å®‰è£…æœ€æ–°å¼€å‘ç‰ˆ (ä¸æ¨èç”Ÿäº§ç¯å¢ƒ)
pip3 install git+https://github.com/ansible/ansible.git
```

### 4.2 è™šæ‹Ÿç¯å¢ƒå®‰è£… (æœ€ä½³å®è·µ)


**åˆ›å»ºç‹¬ç«‹ç¯å¢ƒ**
```bash
# å®‰è£…è™šæ‹Ÿç¯å¢ƒå·¥å…·
pip3 install virtualenv

# åˆ›å»ºansibleä¸“ç”¨ç¯å¢ƒ
python3 -m venv ~/ansible-env

# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
source ~/ansible-env/bin/activate

# åœ¨è™šæ‹Ÿç¯å¢ƒä¸­å®‰è£…
pip install ansible

# éªŒè¯å®‰è£…
which ansible
ansible --version
```

> âš ï¸ **æ³¨æ„äº‹é¡¹**
> 
> æ¯æ¬¡ä½¿ç”¨å‰éœ€è¦æ¿€æ´»è™šæ‹Ÿç¯å¢ƒï¼š
> `source ~/ansible-env/bin/activate`

### 4.3 ç”¨æˆ·çº§å®‰è£…vsç³»ç»Ÿçº§å®‰è£…


**å®‰è£…ä½ç½®å¯¹æ¯”**
```
ç³»ç»Ÿçº§å®‰è£… (sudo pip install):
â”œâ”€ ä½ç½®: /usr/local/lib/python3.x/site-packages/
â”œâ”€ å‘½ä»¤: /usr/local/bin/ansible
â”œâ”€ æƒé™: éœ€è¦rootæƒé™
â””â”€ å½±å“: æ‰€æœ‰ç”¨æˆ·å¯ç”¨

ç”¨æˆ·çº§å®‰è£… (pip install --user):
â”œâ”€ ä½ç½®: ~/.local/lib/python3.x/site-packages/
â”œâ”€ å‘½ä»¤: ~/.local/bin/ansible  
â”œâ”€ æƒé™: å½“å‰ç”¨æˆ·æƒé™
â””â”€ å½±å“: ä»…å½“å‰ç”¨æˆ·å¯ç”¨
```

**PATHç¯å¢ƒå˜é‡é…ç½®**
```bash
# æ·»åŠ ç”¨æˆ·çº§å®‰è£…è·¯å¾„åˆ°PATH
echo 'export PATH=$HOME/.local/bin:$PATH' >> ~/.bashrc
source ~/.bashrc

# éªŒè¯PATHé…ç½®
echo $PATH | grep -o ~/.local/bin
```

---

## 5. ğŸ”¨ æºç ç¼–è¯‘å®‰è£…


### 5.1 ç¼–è¯‘ç¯å¢ƒå‡†å¤‡


**å®‰è£…ç¼–è¯‘ä¾èµ–**
```bash
# Ubuntu/Debianç³»ç»Ÿ
sudo apt install build-essential python3-dev libffi-dev \
                 libssl-dev libyaml-dev git

# CentOS/RHELç³»ç»Ÿ  
sudo yum groupinstall "Development Tools" -y
sudo yum install python3-devel libffi-devel openssl-devel \
                 libyaml-devel git -y
```

### 5.2 æºç ä¸‹è½½ä¸ç¼–è¯‘


**è·å–æºç **
```bash
# å…‹éš†å®˜æ–¹ä»“åº“
git clone https://github.com/ansible/ansible.git
cd ansible

# æ£€å‡ºæŒ‡å®šç‰ˆæœ¬ (å¯é€‰)
git checkout stable-2.15

# æŸ¥çœ‹å¯ç”¨ç‰ˆæœ¬
git tag | grep -E '^v[0-9]+\.[0-9]+\.[0-9]+$' | sort -V | tail -10
```

**ç¼–è¯‘å®‰è£…**
```bash
# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ (æ¨è)
python3 -m venv ~/ansible-source-env
source ~/ansible-source-env/bin/activate

# å®‰è£…æ„å»ºä¾èµ–
pip install -r requirements.txt

# å®‰è£…ansible
pip install .

# æˆ–è€…å¼€å‘æ¨¡å¼å®‰è£…
pip install -e .
```

### 5.3 æºç å®‰è£…çš„ä¼˜åŠ¿


**åŠŸèƒ½ç‰¹ç‚¹**
- ğŸ”¥ **æœ€æ–°ç‰¹æ€§** - è®¿é—®æœ€æ–°å¼€å‘åŠŸèƒ½
- ğŸ¯ **å®šåˆ¶ç¼–è¯‘** - å¯ä»¥ä¿®æ”¹æºç å®šåˆ¶åŠŸèƒ½
- âš¡ **å¿«é€Ÿä¿®å¤** - å¯ä»¥å¿«é€Ÿåº”ç”¨è¡¥ä¸

**é€‚ç”¨åœºæ™¯**
- éœ€è¦æœ€æ–°åŠŸèƒ½çš„å¼€å‘ç¯å¢ƒ
- éœ€è¦å®šåˆ¶ä¿®æ”¹çš„ç‰¹æ®Šéœ€æ±‚
- å‚ä¸ansibleç¤¾åŒºå¼€å‘

---

## 6. ğŸ³ å®¹å™¨åŒ–å®‰è£…æ–¹å¼


### 6.1 Dockerå®‰è£…


**å®˜æ–¹Dockeré•œåƒ**
```bash
# æ‹‰å–å®˜æ–¹é•œåƒ
docker pull quay.io/ansible/ansible-runner:latest

# è¿è¡Œansibleå®¹å™¨
docker run --rm -it \
  -v $(pwd):/workspace \
  -v ~/.ssh:/root/.ssh:ro \
  quay.io/ansible/ansible-runner:latest \
  ansible --version

# åˆ›å»ºansibleå®¹å™¨åˆ«å
alias ansible-docker='docker run --rm -it \
  -v $(pwd):/workspace \
  -v ~/.ssh:/root/.ssh:ro \
  quay.io/ansible/ansible-runner:latest'
```

### 6.2 è‡ªå®šä¹‰Dockeré•œåƒ


**Dockerfileç¤ºä¾‹**
```dockerfile
FROM python:3.11-slim

# å®‰è£…ç³»ç»Ÿä¾èµ–
RUN apt-get update && apt-get install -y \
    openssh-client \
    git \
    curl \
    && rm -rf /var/lib/apt/lists/*

# å®‰è£…ansible
RUN pip install --no-cache-dir ansible

# è®¾ç½®å·¥ä½œç›®å½•
WORKDIR /ansible

# å…¥å£ç‚¹
CMD ["ansible", "--version"]
```

**æ„å»ºå’Œä½¿ç”¨**
```bash
# æ„å»ºé•œåƒ
docker build -t my-ansible:latest .

# ä½¿ç”¨è‡ªå®šä¹‰é•œåƒ
docker run --rm -it my-ansible:latest ansible-playbook --version
```

### 6.3 Podmanå®‰è£… (rootless)


**Podmanä½¿ç”¨**
```bash
# å®‰è£…podman (CentOS/RHEL 8+)
sudo dnf install podman -y

# ä½¿ç”¨rootlessæ¨¡å¼
podman pull quay.io/ansible/ansible-runner:latest

# è¿è¡Œansible (æ— éœ€rootæƒé™)
podman run --rm -it \
  -v $(pwd):/workspace:Z \
  -v ~/.ssh:/root/.ssh:ro,Z \
  quay.io/ansible/ansible-runner:latest \
  ansible --version
```

---

## 7. ğŸ“Š ç‰ˆæœ¬ç®¡ç†ç­–ç•¥


### 7.1 å¤šç‰ˆæœ¬å¹¶å­˜ç®¡ç†


**pyenvç®¡ç†å¤šä¸ªPythonç‰ˆæœ¬**
```bash
# å®‰è£…pyenv
curl https://pyenv.run | bash

# æ·»åŠ åˆ°shellé…ç½®
echo 'export PATH="$HOME/.pyenv/bin:$PATH"' >> ~/.bashrc
echo 'eval "$(pyenv init -)"' >> ~/.bashrc
source ~/.bashrc

# å®‰è£…å¤šä¸ªPythonç‰ˆæœ¬
pyenv install 3.9.16
pyenv install 3.11.3

# ä¸ºä¸åŒé¡¹ç›®è®¾ç½®ä¸åŒç‰ˆæœ¬
mkdir project-ansible-old && cd project-ansible-old
pyenv local 3.9.16
pip install ansible==4.10.0

mkdir ../project-ansible-new && cd ../project-ansible-new  
pyenv local 3.11.3
pip install ansible==8.0.0
```

### 7.2 ç‰ˆæœ¬é€‰æ‹©å†³ç­–æ ‘


```
å¼€å§‹é€‰æ‹©Ansibleç‰ˆæœ¬
         â†“
    æ˜¯ç”Ÿäº§ç¯å¢ƒ?
         â†“ Yes              â†“ No
    é€‰æ‹©LTSç‰ˆæœ¬          éœ€è¦æœ€æ–°ç‰¹æ€§?
    (å¦‚: 6.x.x)              â†“ Yes        â†“ No
         â†“                é€‰æ‹©æœ€æ–°ç‰ˆ     é€‰æ‹©ç¨³å®šç‰ˆ
    ä½¿ç”¨åŒ…ç®¡ç†å™¨           (8.x.x)      (7.x.x)
    æˆ–pipå®‰è£…               â†“             â†“
         â†“              ä½¿ç”¨pipæˆ–       ä½¿ç”¨pip
    å®šæœŸå®‰å…¨æ›´æ–°          æºç å®‰è£…       å®‰è£…
```

### 7.3 ç‰ˆæœ¬å…¼å®¹æ€§æ£€æŸ¥


**å…¼å®¹æ€§éªŒè¯è„šæœ¬**
```bash
#!/bin/bash
# ansible-version-check.sh

echo "=== Ansibleç‰ˆæœ¬å…¼å®¹æ€§æ£€æŸ¥ ==="

# æ£€æŸ¥Pythonç‰ˆæœ¬
python_version=$(python3 --version | awk '{print $2}')
echo "Pythonç‰ˆæœ¬: $python_version"

# æ£€æŸ¥ansibleç‰ˆæœ¬
ansible_version=$(ansible --version | head -n1 | awk '{print $3}')
echo "Ansibleç‰ˆæœ¬: $ansible_version"

# æ£€æŸ¥ansible-coreç‰ˆæœ¬
core_version=$(ansible --version | grep "ansible-core" | awk '{print $2}')
echo "Ansible-coreç‰ˆæœ¬: $core_version"

# ç‰ˆæœ¬å…¼å®¹æ€§æç¤º
if [[ "$ansible_version" > "6.0" ]]; then
    echo "âœ… ç‰ˆæœ¬è¾ƒæ–°ï¼Œæ”¯æŒæœ€æ–°åŠŸèƒ½"
elif [[ "$ansible_version" > "4.0" ]]; then  
    echo "âš ï¸ ç‰ˆæœ¬é€‚ä¸­ï¼Œå»ºè®®è€ƒè™‘å‡çº§"
else
    echo "âŒ ç‰ˆæœ¬è¿‡æ—§ï¼Œå¼ºçƒˆå»ºè®®å‡çº§"
fi
```

---

## 8. âœ… å®‰è£…éªŒè¯ä¸æ’é”™


### 8.1 åŸºç¡€éªŒè¯å‘½ä»¤


**æ ¸å¿ƒéªŒè¯æ­¥éª¤**
```bash
# æ­¥éª¤ 1ï¸âƒ£: æ£€æŸ¥ansibleå‘½ä»¤
which ansible
ansible --version

# æ­¥éª¤ 2ï¸âƒ£: æ£€æŸ¥ansible-playbook
ansible-playbook --version

# æ­¥éª¤ 3ï¸âƒ£: æ£€æŸ¥ansible-galaxy
ansible-galaxy --version

# æ­¥éª¤ 4ï¸âƒ£: æ£€æŸ¥é…ç½®æ–‡ä»¶
ansible-config dump --only-changed

# æ­¥éª¤ 5ï¸âƒ£: æµ‹è¯•æœ¬åœ°è¿æ¥
ansible localhost -m ping
```

**è¾“å‡ºç¤ºä¾‹è§£è¯»**
```
ansible [core 2.15.0]
  config file = /etc/ansible/ansible.cfg
  configured module search path = ['/home/user/.ansible/plugins/modules', ...]
  ansible python module location = /usr/lib/python3/site-packages/ansible
  ansible collection location = /home/user/.ansible/collections:...  
  executable location = /usr/bin/ansible
  python version = 3.9.16 (main, Mar  8 2023, 10:39:24) [GCC 11.3.0]
  jinja version = 3.1.2
  libyaml = True
```

### 8.2 å¸¸è§å®‰è£…é—®é¢˜æ’é”™


**é—®é¢˜æ’é”™æŒ‡å—**

| é—®é¢˜ç—‡çŠ¶ | å¯èƒ½åŸå›  | è§£å†³æ–¹æ¡ˆ |
|---------|---------|----------|
| `ansible: command not found` | PATHé…ç½®é—®é¢˜ | æ£€æŸ¥`~/.local/bin`æ˜¯å¦åœ¨PATHä¸­ |
| `permission denied` | æƒé™ä¸è¶³ | ä½¿ç”¨`--user`å‚æ•°æˆ–sudoå®‰è£… |
| `python version error` | Pythonç‰ˆæœ¬è¿‡ä½ | å‡çº§åˆ°Python 3.8+ |
| `SSL certificate error` | ç½‘ç»œ/è¯ä¹¦é—®é¢˜ | ä½¿ç”¨`--trusted-host`å‚æ•° |

**è¯¦ç»†æ’é”™æ­¥éª¤**
```bash
# 1. æ£€æŸ¥Pythonå’Œpip
python3 --version
python3 -m pip --version

# 2. æ£€æŸ¥å®‰è£…ä½ç½®
python3 -m pip show ansible

# 3. æ£€æŸ¥å¯¼å…¥æ˜¯å¦æ­£å¸¸
python3 -c "import ansible; print(ansible.__version__)"

# 4. æ£€æŸ¥æ¨¡å—è·¯å¾„
python3 -c "import sys; print('\n'.join(sys.path))"

# 5. é‡æ–°å®‰è£… (å¦‚æœå¿…è¦)
pip3 uninstall ansible ansible-base ansible-core -y
pip3 install ansible
```

### 8.3 æ€§èƒ½åŸºå‡†æµ‹è¯•


**ç®€å•æ€§èƒ½æµ‹è¯•**
```bash
# åˆ›å»ºæµ‹è¯•inventory
echo "localhost ansible_connection=local" > /tmp/test-inventory

# æµ‹è¯•å“åº”æ—¶é—´
time ansible localhost -i /tmp/test-inventory -m ping

# æ‰¹é‡æµ‹è¯• (å¦‚æœæœ‰å¤šå°ä¸»æœº)
time ansible all -i /tmp/test-inventory -m setup | head -20
```

**è¾“å‡ºè§£è¯»**
```
localhost | SUCCESS => {
    "changed": false,
    "ping": "pong"
}

real    0m1.234s    # æ€»æ‰§è¡Œæ—¶é—´
user    0m0.856s    # ç”¨æˆ·æ€CPUæ—¶é—´  
sys     0m0.123s    # ç³»ç»Ÿæ€CPUæ—¶é—´
```

---

## 9. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 9.1 å®‰è£…æ–¹å¼é€‰æ‹©å»ºè®®


**å†³ç­–çŸ©é˜µ**
```
                 ç®€å•åº¦  çµæ´»æ€§  ç‰ˆæœ¬æ–°åº¦  ç”Ÿäº§é€‚ç”¨
åŒ…ç®¡ç†å™¨å®‰è£…      â­â­â­    â­      â­â­      â­â­â­
pipå®‰è£…         â­â­     â­â­â­    â­â­â­     â­â­
æºç ç¼–è¯‘         â­       â­â­â­    â­â­â­     â­
å®¹å™¨åŒ–å®‰è£…       â­â­     â­â­     â­â­â­     â­â­
```

### 9.2 ç¯å¢ƒé…ç½®æœ€ä½³å®è·µ


**ğŸ¯ ç”Ÿäº§ç¯å¢ƒå»ºè®®**
- ä½¿ç”¨åŒ…ç®¡ç†å™¨å®‰è£…ç¨³å®šç‰ˆæœ¬
- åˆ›å»ºä¸“ç”¨ansibleç”¨æˆ·
- é…ç½®é€‚å½“çš„sudoæƒé™
- å®šæœŸè¿›è¡Œå®‰å…¨æ›´æ–°
- å»ºç«‹ç‰ˆæœ¬å›æ»šæœºåˆ¶

**ğŸ”§ å¼€å‘ç¯å¢ƒå»ºè®®**  
- ä½¿ç”¨è™šæ‹Ÿç¯å¢ƒéš”ç¦»
- pipå®‰è£…æœ€æ–°ç¨³å®šç‰ˆ
- é…ç½®å¼€å‘å·¥å…·é›†æˆ
- ä½¿ç”¨ç‰ˆæœ¬æ§åˆ¶ç®¡ç†é…ç½®

### 9.3 æ•…éšœé¢„é˜²æ£€æŸ¥æ¸…å•


**ğŸ“‹ å®‰è£…å‰æ£€æŸ¥**
- [ ] Python 3.8+ ç‰ˆæœ¬ç¡®è®¤
- [ ] ç½‘ç»œè¿æ¥æ­£å¸¸
- [ ] ç£ç›˜ç©ºé—´å……è¶³ (>1GB)
- [ ] ç”¨æˆ·æƒé™é…ç½®æ­£ç¡®

**ğŸ“‹ å®‰è£…åéªŒè¯**
- [ ] `ansible --version` è¾“å‡ºæ­£å¸¸
- [ ] æœ¬åœ°pingæµ‹è¯•æˆåŠŸ
- [ ] é…ç½®æ–‡ä»¶è·¯å¾„æ­£ç¡®
- [ ] Pythonæ¨¡å—å¯¼å…¥æ— é”™è¯¯

### 9.4 å‡çº§ä¸ç»´æŠ¤


**ç‰ˆæœ¬å‡çº§ç­–ç•¥**
```bash
# æŸ¥çœ‹å½“å‰ç‰ˆæœ¬
ansible --version

# å¤‡ä»½é…ç½® (é‡è¦!)
cp -r ~/.ansible ~/.ansible.backup
cp /etc/ansible/ansible.cfg /etc/ansible/ansible.cfg.backup

# å‡çº§ansible
pip install --upgrade ansible

# éªŒè¯å‡çº§ç»“æœ
ansible --version
ansible localhost -m ping
```

> ğŸ”¥ **é‡è¦æé†’**
> 
> - ç”Ÿäº§ç¯å¢ƒå‡çº§å‰å¿…é¡»åœ¨æµ‹è¯•ç¯å¢ƒéªŒè¯
> - ä¿ç•™æ—§ç‰ˆæœ¬å¤‡ä»½ä»¥ä¾¿å¿«é€Ÿå›æ»š
> - å…³æ³¨é‡å¤§ç‰ˆæœ¬å˜æ›´çš„å…¼å®¹æ€§é—®é¢˜

**æ ¸å¿ƒè®°å¿†å£è¯€**
```
ç¯å¢ƒå‡†å¤‡è¦å……åˆ†ï¼ŒPythonç‰ˆæœ¬è¦å¤Ÿæ–°
åŒ…ç®¡pipæºç é€‰ï¼ŒæŒ‰éœ€é€‰æ‹©æœ€åˆå¿ƒ  
è™šæ‹Ÿç¯å¢ƒæœ€ä½³é€‰ï¼Œéš”ç¦»å¹²å‡€ä¸æ··ä¹±
éªŒè¯æµ‹è¯•ä¸èƒ½å°‘ï¼Œé—®é¢˜æ’æŸ¥æœ‰æŠ€å·§
```

---

**ğŸ“š å»¶ä¼¸é˜…è¯»**
- [Ansibleå®˜æ–¹å®‰è£…æ–‡æ¡£](https://docs.ansible.com/ansible/latest/installation_guide/)
- [Pythonè™šæ‹Ÿç¯å¢ƒæœ€ä½³å®è·µ](https://docs.python.org/3/tutorial/venv.html)
- [å®¹å™¨åŒ–è¿ç»´å·¥å…·ä½¿ç”¨æŒ‡å—](https://docs.docker.com/get-started/)