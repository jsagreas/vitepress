---
title: 3、开发命令与项目运行
---
## 📚 目录

1. [基础开发命令详解](#1-基础开发命令详解)
2. [开发服务器体验](#2-开发服务器体验)
3. [项目运行验证](#3-项目运行验证)
4. [常见问题排查](#4-常见问题排查)
5. [核心要点总结](#5-核心要点总结)

---

## 1. 🚀 基础开发命令详解


### 1.1 三大核心命令

Vite项目有三个基础命令，就像我们日常使用的**看电视**一样：

```
npm run dev    → 开电视（开发时看）
npm run build  → 录制节目（制作给别人看）  
npm run preview → 试播检查（播出前检验效果）
```

### 1.2 启动开发服务器 - npm run dev


**🔸 这个命令是做什么的？**
```
简单理解：启动一个"临时网站"让你在电脑上开发测试
就像在自己家里搭个小舞台练习表演
```

**🔸 实际操作**
```bash
# 在项目文件夹里打开终端，输入：
npm run dev

# 或者用这些命令也行：
npm start
yarn dev
pnpm dev
```

**🔸 启动后会看到什么？**
```
✨ 显示信息类似这样：
  VITE v4.4.5  ready in 328 ms

  ➜  Local:   http://localhost:5173/
  ➜  Network: http://192.168.1.100:5173/
  ➜  press h to show help
```

> 💡 **通俗解释**：就像开了个本地小服务器，你的代码变成了一个可以在浏览器访问的网站

### 1.3 打包项目 - npm run build


**🔸 这个命令是做什么的？**
```
简单理解：把你的项目"打包"成可以放到真正网站上的文件
就像把家里练习的表演录制成正式版本
```

**🔸 什么时候用？**
- 开发完成，要发布到线上时
- 想看看最终效果时
- 准备给别人部署时

**🔸 实际操作**
```bash
npm run build
```

**🔸 打包后会产生什么？**
```
项目目录结构：
my-project/
├── src/           ← 你写的代码（源码）
├── dist/          ← 打包后的文件（给服务器用的）
│   ├── index.html
│   ├── assets/
│   └── ...
└── package.json
```

> 💡 **通俗解释**：`dist`文件夹就是"成品"，里面的文件可以直接放到服务器上让全世界访问

### 1.4 本地预览 - npm run preview


**🔸 这个命令是做什么的？**
```
简单理解：模拟真实网站环境，预览打包后的效果
就像正式演出前的彩排
```

**🔸 什么时候用？**
- 打包完成后，想检查效果
- 确保部署到服务器后没问题
- 测试生产环境的表现

**🔸 实际操作**
```bash
# 先打包
npm run build

# 再预览
npm run preview
```

### 1.5 三个命令的使用场景对比


| 命令 | **使用时机** | **看到的内容** | **文件来源** | **速度** |
|------|-------------|---------------|-------------|----------|
| `dev` | 🔧 **日常开发** | `开发版本，调试方便` | `直接读取src/代码` | `极快启动` |
| `build` | 📦 **准备发布** | `无界面，生成文件` | `处理后放入dist/` | `较慢处理` |
| `preview` | 👀 **发布前检查** | `生产版本，最终效果` | `读取dist/文件` | `快速启动` |

---

## 2. 🖥️ 开发服务器体验


### 2.1 启动开发服务器的完整步骤


**🔸 第一步：打开项目**
```bash
# 1. 进入项目文件夹
cd my-vite-project

# 2. 确保依赖已安装
npm install
```

**🔸 第二步：启动服务器**
```bash
npm run dev
```

**🔸 第三步：观察终端输出**
```
🎯 正常启动会显示：
  ✨ VITE v4.4.5  ready in 300ms

  ➜  Local:   http://localhost:5173/    ← 本机访问地址
  ➜  Network: http://192.168.1.100:5173/  ← 局域网访问地址
  
  💡 小提示：
  - Local 地址：只有你的电脑能访问
  - Network 地址：同一WiFi下的设备都能访问（比如手机）
```

### 2.2 在浏览器中访问项目


**🔸 访问步骤**
```
1. 复制 http://localhost:5173/ 这个地址
2. 打开浏览器（Chrome、Edge、Firefox等）
3. 粘贴到地址栏，按回车
4. 🎉 看到项目页面就成功了！
```

**🔸 典型的首次访问效果**
```
浏览器显示：
┌─────────────────────────┐
│ 🎯 Vite + Vue           │
│                         │
│ Hello Vite!             │
│ [Click me] 按钮         │
│                         │
│ Edit src/App.vue to     │
│ test HMR                │
└─────────────────────────┘
```

### 2.3 体验热更新（HMR）的神奇


**🔸 什么是HMR？**
```
HMR = Hot Module Replacement = 热模块替换
通俗理解：改代码时，浏览器页面自动更新，不用手动刷新
就像魔法一样！
```

**🔸 HMR体验步骤**
```
1. 保持开发服务器运行状态
2. 用编辑器打开 src/App.vue 
3. 找到页面上显示的文字，比如 "Hello Vite!"
4. 改成 "你好，Vite真棒！"
5. 保存文件（Ctrl+S）
6. 🎯 神奇时刻：浏览器页面瞬间更新，无需刷新！
```

**🔸 HMR的优势**
```
传统开发：改代码 → 手动刷新浏览器 → 重新操作到之前状态
Vite HMR：改代码 → 页面自动更新 → 保持原有状态

⚡ 效率提升：节省大量开发时间
🎯 状态保持：表单数据、页面位置都不会丢失
🚀 即时反馈：所见即所得的开发体验
```

---

## 3. ✅ 项目运行验证


### 3.1 项目启动成功的标志


**🔸 终端显示正常信息**
```bash
✅ 成功的标志：
  VITE v4.4.5  ready in XXX ms
  ➜  Local:   http://localhost:5173/
  
❌ 失败的标志：
  Error: 某某错误信息
  或者命令行卡住不动
```

**🔸 浏览器能正常访问**
```
✅ 成功标志：
- 页面能正常加载
- 看到项目内容（不是404页面）
- 开发者工具控制台没有严重错误

❌ 失败标志：  
- 页面显示"无法访问此网站"
- 显示404错误页面
- 控制台大量红色错误信息
```

### 3.2 开发环境验证方法


**🔸 基本功能验证**
```
验证清单：
□ 页面能正常加载
□ 样式显示正确  
□ 图片资源能正常显示
□ 点击交互功能正常
□ HMR热更新工作正常
```

**🔸 HMR功能验证**
```
快速验证步骤：
1. 修改任意文件内容
2. 保存文件
3. 观察浏览器是否自动更新
4. 🎯 如果自动更新 = HMR正常工作
```

---

## 4. 🔧 常见问题排查


### 4.1 端口占用问题


**🔸 问题现象**
```bash
❌ 错误信息类似：
Error: listen EADDRINUSE: address already in use :::5173
Port 5173 is in use, trying another one...
```

**🔸 解决方案**
```bash
方案1：使用Vite自动分配的新端口
# Vite会自动尝试 5174, 5175 等端口

方案2：手动指定端口
npm run dev -- --port 3000

方案3：关闭占用端口的程序
# Windows:
netstat -ano | findstr :5173
taskkill /PID <进程ID> /F

# Mac/Linux:
lsof -ti:5173 | xargs kill
```

### 4.2 项目无法启动


**🔸 常见原因及解决**
```
问题1：依赖未安装
解决：npm install

问题2：Node.js版本过低  
解决：升级到Node.js 14+

问题3：项目文件损坏
解决：重新创建项目或恢复文件

问题4：权限问题
解决：用管理员权限运行命令行
```

### 4.3 页面空白或404


**🔸 排查步骤**
```
1. 检查终端是否有错误信息
2. 检查浏览器地址是否正确
3. 检查开发者工具控制台错误
4. 确认项目文件结构完整
5. 重启开发服务器试试
```

**🔸 快速修复方法**
```bash
# 万能重启大法
Ctrl + C  # 停止服务器
npm run dev  # 重新启动
```

### 4.4 HMR不工作


**🔸 可能原因**
```
- 文件路径有中文或特殊字符
- 文件编码问题
- 浏览器缓存问题
- 防火墙阻止WebSocket连接
```

**🔸 解决方法**
```bash
1. 清除浏览器缓存
2. 检查文件路径是否包含中文
3. 重启开发服务器
4. 检查防火墙设置
```

---

## 5. 📋 核心要点总结


### 5.1 必须掌握的核心命令


```
🔸 开发阶段：npm run dev
   用途：日常开发，实时预览，热更新
   
🔸 构建阶段：npm run build  
   用途：项目完成后打包，准备部署
   
🔸 预览阶段：npm run preview
   用途：验证构建结果，模拟生产环境
```

### 5.2 开发服务器核心特性


```
🔸 快速启动：秒级启动，无需等待
🔸 热更新：改代码自动刷新页面  
🔸 实时反馈：所见即所得的开发体验
🔸 局域网访问：手机也能访问调试
```

### 5.3 项目运行关键理解


**🔹 开发环境 vs 生产环境**
```
开发环境(dev)：
- 代码未压缩，便于调试
- 包含调试信息和错误提示
- 启动快，适合频繁修改

生产环境(build)：
- 代码压缩优化，体积更小
- 移除调试信息，性能更好  
- 适合正式发布给用户使用
```

**🔹 HMR的价值**
```
传统开发流程：
编写代码 → 保存 → 手动刷新浏览器 → 重新操作到测试点

Vite HMR流程：
编写代码 → 保存 → 页面自动更新 → 保持当前状态

💡 效率提升：每次修改节省 5-10 秒，一天累计节省大量时间
```

### 5.4 实际开发建议


```
🎯 最佳实践：
- 开发时始终使用 npm run dev
- 完成功能后用 npm run build 检查
- 发布前用 npm run preview 最终确认
- 遇到问题先重启开发服务器
- 善用HMR提高开发效率

⚠️ 注意事项：
- 不要在 dist/ 文件夹中直接修改文件
- 开发服务器仅用于本地开发，不要用于生产
- 定期清理浏览器缓存避免奇怪问题
```

**核心记忆**：
- **npm run dev** = 开发时的好伙伴，快速启动热更新
- **npm run build** = 项目完成后的打包器，生成部署文件  
- **npm run preview** = 发布前的检查员，确保效果正确
- **HMR热更新** = 开发效率神器，改代码即时生效