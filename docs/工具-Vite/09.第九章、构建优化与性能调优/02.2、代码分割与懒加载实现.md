---
title: 2ã€ä»£ç åˆ†å‰²ä¸æ‡’åŠ è½½å®ç°
---
## ğŸ“š ç›®å½•

1. [ä»£ç åˆ†å‰²åŸºç¡€æ¦‚å¿µ](#1-ä»£ç åˆ†å‰²åŸºç¡€æ¦‚å¿µ)
2. [æ‡’åŠ è½½å®ç°æŠ€æœ¯](#2-æ‡’åŠ è½½å®ç°æŠ€æœ¯)
3. [ç¬¬ä¸‰æ–¹åº“ä¼˜åŒ–ç­–ç•¥](#3-ç¬¬ä¸‰æ–¹åº“ä¼˜åŒ–ç­–ç•¥)
4. [é¢„åŠ è½½ç­–ç•¥é…ç½®](#4-é¢„åŠ è½½ç­–ç•¥é…ç½®)
5. [å®æˆ˜åº”ç”¨ä¸æœ€ä½³å®è·µ](#5-å®æˆ˜åº”ç”¨ä¸æœ€ä½³å®è·µ)
6. [æ ¸å¿ƒè¦ç‚¹æ€»ç»“](#6-æ ¸å¿ƒè¦ç‚¹æ€»ç»“)

---

## 1. ğŸ§© ä»£ç åˆ†å‰²åŸºç¡€æ¦‚å¿µ


### 1.1 ä»€ä¹ˆæ˜¯ä»£ç åˆ†å‰²


**é€šä¿—ç†è§£**ï¼šä»£ç åˆ†å‰²å°±åƒæŠŠä¸€ä¸ªå¤§åŒ…è£¹æ‹†åˆ†æˆå¤šä¸ªå°åŒ…è£¹ï¼Œéœ€è¦ä»€ä¹ˆå†æ‹¿ä»€ä¹ˆã€‚

```
ä¼ ç»Ÿæ–¹å¼ï¼šä¸€ä¸ªå¤§æ–‡ä»¶åŒ…å«æ‰€æœ‰ä»£ç 
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  é¦–é¡µ + ç”¨æˆ·é¡µ + å•†å“é¡µ + è®¾ç½®é¡µ  â”‚  â† 500KB ä¸€æ¬¡æ€§å…¨éƒ¨ä¸‹è½½
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ä»£ç åˆ†å‰²åï¼šæŒ‰éœ€åˆ†æˆå¤šä¸ªå°æ–‡ä»¶  
â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”
â”‚ é¦–é¡µ â”‚ â”‚ç”¨æˆ·é¡µâ”‚ â”‚å•†å“é¡µâ”‚ â”‚è®¾ç½®é¡µâ”‚  â† å„100KB ç”¨åˆ°å†ä¸‹è½½
â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜
```

**æ ¸å¿ƒä¼˜åŠ¿**ï¼š
- ğŸš€ **é¦–å±åŠ è½½æ›´å¿«**ï¼šåªä¸‹è½½å½“å‰éœ€è¦çš„ä»£ç 
- ğŸ’¾ **å‡å°‘å†…å­˜å ç”¨**ï¼šä¸ç”¨çš„ä»£ç ä¸ä¼šåŠ è½½åˆ°å†…å­˜
- ğŸ”„ **æå‡ç”¨æˆ·ä½“éªŒ**ï¼šé¡µé¢å“åº”æ›´å¿«ï¼Œåˆ‡æ¢æ›´æµç•…

### 1.2 ä»£ç åˆ†å‰²çš„åŸºæœ¬ç­–ç•¥


**ğŸ¯ å¸¸è§åˆ†å‰²ç»´åº¦**ï¼š

```
æŒ‰é¡µé¢åˆ†å‰²ï¼š
â”œâ”€â”€ home.js        â† é¦–é¡µç›¸å…³ä»£ç 
â”œâ”€â”€ profile.js     â† ç”¨æˆ·é¡µç›¸å…³ä»£ç 
â”œâ”€â”€ products.js    â† å•†å“é¡µç›¸å…³ä»£ç 
â””â”€â”€ settings.js    â† è®¾ç½®é¡µç›¸å…³ä»£ç 

æŒ‰åŠŸèƒ½åˆ†å‰²ï¼š
â”œâ”€â”€ auth.js        â† ç™»å½•æ³¨å†ŒåŠŸèƒ½
â”œâ”€â”€ payment.js     â† æ”¯ä»˜ç›¸å…³åŠŸèƒ½  
â”œâ”€â”€ charts.js      â† å›¾è¡¨ç»„ä»¶
â””â”€â”€ editor.js      â† å¯Œæ–‡æœ¬ç¼–è¾‘å™¨

æŒ‰ç¬¬ä¸‰æ–¹åº“åˆ†å‰²ï¼š
â”œâ”€â”€ vendor.js      â† React/Vueç­‰æ¡†æ¶
â”œâ”€â”€ ui.js          â† Ant Designç­‰UIåº“
â”œâ”€â”€ utils.js       â† Lodashç­‰å·¥å…·åº“
â””â”€â”€ charts.js      â† EChartsç­‰å›¾è¡¨åº“
```

### 1.3 Viteä¸­çš„ä»£ç åˆ†å‰²æœºåˆ¶


**è‡ªåŠ¨åˆ†å‰²åŸç†**ï¼š
```javascript
// Viteä¼šè‡ªåŠ¨è¯†åˆ«åŠ¨æ€å¯¼å…¥ï¼Œè¿›è¡Œä»£ç åˆ†å‰²
import('./UserProfile.vue')  // è‡ªåŠ¨ç”Ÿæˆ UserProfile-[hash].js

// æ™®é€šå¯¼å…¥ä¸ä¼šåˆ†å‰²
import UserProfile from './UserProfile.vue'  // æ‰“åŒ…åˆ°ä¸»æ–‡ä»¶ä¸­
```

**ğŸ“Š åˆ†å‰²æ•ˆæœå¯¹æ¯”**ï¼š

| æ–¹å¼ | **æ–‡ä»¶å¤§å°** | **åŠ è½½æ—¶æœº** | **é€‚ç”¨åœºæ™¯** |
|------|------------|--------------|-------------|
| `import`å¯¼å…¥ | `åˆå¹¶åˆ°ä¸»æ–‡ä»¶` | `ç«‹å³åŠ è½½` | `æ ¸å¿ƒåŠŸèƒ½` |
| `import()`åŠ¨æ€å¯¼å…¥ | `ç‹¬ç«‹æ–‡ä»¶` | `æŒ‰éœ€åŠ è½½` | `æ¬¡è¦åŠŸèƒ½` |

---

## 2. ğŸ­ æ‡’åŠ è½½å®ç°æŠ€æœ¯


### 2.1 è·¯ç”±çº§åˆ«æ‡’åŠ è½½


**ä»€ä¹ˆæ˜¯è·¯ç”±æ‡’åŠ è½½**ï¼šç”¨æˆ·è®¿é—®æŸä¸ªé¡µé¢æ—¶ï¼Œæ‰ä¸‹è½½è¿™ä¸ªé¡µé¢çš„ä»£ç ã€‚

```javascript
// âŒ ä¼ ç»Ÿæ–¹å¼ï¼šæ‰€æœ‰é¡µé¢ä¸€æ¬¡æ€§åŠ è½½
import Home from './views/Home.vue'
import About from './views/About.vue'
import Contact from './views/Contact.vue'

const routes = [
  { path: '/', component: Home },
  { path: '/about', component: About },
  { path: '/contact', component: Contact }
]

// âœ… æ‡’åŠ è½½æ–¹å¼ï¼šæŒ‰éœ€åŠ è½½
const routes = [
  { 
    path: '/', 
    component: () => import('./views/Home.vue')           // è®¿é—®é¦–é¡µæ—¶æ‰åŠ è½½
  },
  { 
    path: '/about', 
    component: () => import('./views/About.vue')          // è®¿é—®å…³äºé¡µæ—¶æ‰åŠ è½½
  },
  { 
    path: '/contact', 
    component: () => import('./views/Contact.vue')        // è®¿é—®è”ç³»é¡µæ—¶æ‰åŠ è½½
  }
]
```

**ğŸ”„ åŠ è½½æµç¨‹å›¾**ï¼š
```
ç”¨æˆ·è®¿é—® /about é¡µé¢
        â†“
æ£€æŸ¥ About.vue æ˜¯å¦å·²åŠ è½½
        â†“
    [æœªåŠ è½½]
        â†“
åŠ¨æ€ä¸‹è½½ About-[hash].js æ–‡ä»¶
        â†“
è§£æå¹¶æ¸²æŸ“ About ç»„ä»¶
        â†“
æ˜¾ç¤ºé¡µé¢å†…å®¹
```

### 2.2 ç»„ä»¶çº§åˆ«åŠ¨æ€å¯¼å…¥


**ä½¿ç”¨åœºæ™¯**ï¼šæŸäº›ç»„ä»¶åªåœ¨ç‰¹å®šæ¡ä»¶ä¸‹æ‰éœ€è¦ï¼Œæ¯”å¦‚å¼¹çª—ã€ç¼–è¾‘å™¨ç­‰ã€‚

```vue
<template>
  <div>
    <button @click="showEditor">æ‰“å¼€ç¼–è¾‘å™¨</button>
    
    <!-- ç¼–è¾‘å™¨ç»„ä»¶åªåœ¨éœ€è¦æ—¶æ‰åŠ è½½ -->
    <component 
      v-if="editorVisible" 
      :is="EditorComponent" 
    />
  </div>
</template>

<script>
export default {
  data() {
    return {
      editorVisible: false,
      EditorComponent: null
    }
  },
  
  methods: {
    async showEditor() {
      if (!this.EditorComponent) {
        // åŠ¨æ€åŠ è½½ç¼–è¾‘å™¨ç»„ä»¶ï¼ˆé¦–æ¬¡ç‚¹å‡»æ—¶æ‰ä¸‹è½½ï¼‰
        const module = await import('./RichTextEditor.vue')
        this.EditorComponent = module.default
      }
      this.editorVisible = true
    }
  }
}
</script>
```

### 2.3 åŠ è½½çŠ¶æ€å’Œé”™è¯¯å¤„ç†


**ä¸ºä»€ä¹ˆéœ€è¦åŠ è½½çŠ¶æ€**ï¼šåŠ¨æ€å¯¼å…¥éœ€è¦æ—¶é—´ï¼Œç”¨æˆ·åº”è¯¥çœ‹åˆ°åŠ è½½æç¤ºã€‚

```vue
<template>
  <div>
    <button @click="loadComponent" :disabled="loading">
      {{ loading ? 'åŠ è½½ä¸­...' : 'æ‰“å¼€é«˜çº§åŠŸèƒ½' }}
    </button>
    
    <!-- åŠ è½½çŠ¶æ€æç¤º -->
    <div v-if="loading" class="loading">
      â³ æ­£åœ¨åŠ è½½ç»„ä»¶...
    </div>
    
    <!-- é”™è¯¯æç¤º -->
    <div v-if="error" class="error">
      âŒ åŠ è½½å¤±è´¥ï¼š{{ error.message }}
      <button @click="retry">é‡è¯•</button>
    </div>
    
    <!-- å®é™…ç»„ä»¶ -->
    <component v-if="component && !loading" :is="component" />
  </div>
</template>

<script>
export default {
  data() {
    return {
      component: null,
      loading: false,
      error: null
    }
  },
  
  methods: {
    async loadComponent() {
      this.loading = true
      this.error = null
      
      try {
        const module = await import('./AdvancedFeature.vue')
        this.component = module.default
      } catch (err) {
        this.error = err
        console.error('ç»„ä»¶åŠ è½½å¤±è´¥:', err)
      } finally {
        this.loading = false
      }
    },
    
    retry() {
      this.loadComponent()
    }
  }
}
</script>
```

---

## 3. ğŸ“¦ ç¬¬ä¸‰æ–¹åº“ä¼˜åŒ–ç­–ç•¥


### 3.1 Tree ShakingåŸºç¡€æ¦‚å¿µ


**ä»€ä¹ˆæ˜¯Tree Shaking**ï¼šå°±åƒæ‘‡æ ‘æ‰å¶å­ä¸€æ ·ï¼ŒæŠŠä»£ç ä¸­ç”¨ä¸åˆ°çš„éƒ¨åˆ†"æ‘‡æ‰"ã€‚

```javascript
// å‡è®¾å·¥å…·åº“æœ‰å¾ˆå¤šå‡½æ•°
// utils.js
export function add(a, b) { return a + b }
export function subtract(a, b) { return a - b }
export function multiply(a, b) { return a * b }
export function divide(a, b) { return a / b }
export function power(a, b) { return Math.pow(a, b) }

// âŒ å…¨é‡å¯¼å…¥ï¼šä¼šæŠŠæ‰€æœ‰å‡½æ•°éƒ½æ‰“åŒ…è¿›æ¥
import * as utils from './utils.js'
const result = utils.add(1, 2)  // åªç”¨äº†addï¼Œä½†å…¨éƒ¨å‡½æ•°éƒ½è¢«æ‰“åŒ…

// âœ… æŒ‰éœ€å¯¼å…¥ï¼šåªæ‰“åŒ…ç”¨åˆ°çš„å‡½æ•°
import { add } from './utils.js'
const result = add(1, 2)        // åªæœ‰addå‡½æ•°è¢«æ‰“åŒ…
```

### 3.2 ç¬¬ä¸‰æ–¹åº“ä»£ç åˆ†å‰²


**å¸¸è§é—®é¢˜**ï¼šç¬¬ä¸‰æ–¹åº“å¾€å¾€å¾ˆå¤§ï¼Œå¦‚æœä¸åˆ†å‰²ä¼šå½±å“é¦–å±åŠ è½½ã€‚

```javascript
// vite.config.js - é…ç½®ç¬¬ä¸‰æ–¹åº“åˆ†å‰²
export default {
  build: {
    rollupOptions: {
      output: {
        manualChunks: {
          // æŠŠReactç›¸å…³çš„åº“å•ç‹¬æ‰“åŒ…
          'react-vendor': ['react', 'react-dom'],
          
          // æŠŠUIåº“å•ç‹¬æ‰“åŒ…  
          'ui-vendor': ['antd', '@ant-design/icons'],
          
          // æŠŠå·¥å…·åº“å•ç‹¬æ‰“åŒ…
          'utils-vendor': ['lodash', 'moment', 'axios'],
          
          // æŠŠå›¾è¡¨åº“å•ç‹¬æ‰“åŒ…ï¼ˆé€šå¸¸å¾ˆå¤§ï¼‰
          'charts-vendor': ['echarts', 'chart.js']
        }
      }
    }
  }
}
```

**ğŸ“Š åˆ†å‰²æ•ˆæœ**ï¼š
```
åˆ†å‰²å‰ï¼š
â”œâ”€â”€ main.js (2.5MB)    â† åŒ…å«æ‰€æœ‰ä»£ç ï¼Œé¦–æ¬¡åŠ è½½æ…¢

åˆ†å‰²åï¼š
â”œâ”€â”€ main.js (200KB)           â† æ ¸å¿ƒä»£ç ï¼Œå¿«é€ŸåŠ è½½
â”œâ”€â”€ react-vendor.js (150KB)   â† Reactæ¡†æ¶ï¼Œç¼“å­˜å‹å¥½
â”œâ”€â”€ ui-vendor.js (300KB)      â† UIç»„ä»¶ï¼ŒæŒ‰éœ€åŠ è½½
â”œâ”€â”€ utils-vendor.js (100KB)   â† å·¥å…·å‡½æ•°ï¼Œå¤ç”¨æ€§é«˜
â””â”€â”€ charts-vendor.js (800KB)  â† å›¾è¡¨åº“ï¼Œç”¨åˆ°æ‰åŠ è½½
```

### 3.3 Tree-shakingæœ€ä½³å®è·µ


```javascript
// âœ… æ­£ç¡®çš„æŒ‰éœ€å¯¼å…¥æ–¹å¼

// LodashæŒ‰éœ€å¯¼å…¥
import { debounce, throttle } from 'lodash-es'  // ä½¿ç”¨ESæ¨¡å—ç‰ˆæœ¬

// Ant DesignæŒ‰éœ€å¯¼å…¥  
import { Button, Input } from 'antd'

// æ—¥æœŸåº“æŒ‰éœ€å¯¼å…¥
import dayjs from 'dayjs'
import customParseFormat from 'dayjs/plugin/customParseFormat'

// âŒ é”™è¯¯çš„å¯¼å…¥æ–¹å¼ï¼ˆæ— æ³•Tree Shakingï¼‰
import _ from 'lodash'          // å¯¼å…¥æ•´ä¸ªåº“
import * as antd from 'antd'    // å¯¼å…¥æ‰€æœ‰ç»„ä»¶
import moment from 'moment'     // momentä¸æ”¯æŒTree Shaking
```

---

## 4. ğŸš€ é¢„åŠ è½½ç­–ç•¥é…ç½®


### 4.1 ä»€ä¹ˆæ˜¯é¢„åŠ è½½


**é¢„åŠ è½½ç­–ç•¥å¯¹æ¯”**ï¼š

```
æ­£å¸¸åŠ è½½ï¼šç”¨æˆ·ç‚¹å‡» â†’ ä¸‹è½½ä»£ç  â†’ æ‰§è¡Œ â†’ æ˜¾ç¤º
             â†‘
          ç­‰å¾…æ—¶é—´

é¢„åŠ è½½ï¼šæå‰ä¸‹è½½ â†’ ç”¨æˆ·ç‚¹å‡» â†’ æ‰§è¡Œ â†’ æ˜¾ç¤º  
           â†‘                    â†‘
        ç©ºé—²æ—¶é—´            å‡ ä¹æ— ç­‰å¾…
```

### 4.2 å…³é”®èµ„æºé¢„åŠ è½½


```javascript
// åœ¨è·¯ç”±é…ç½®ä¸­æ·»åŠ é¢„åŠ è½½
const routes = [
  {
    path: '/',
    component: () => import('./views/Home.vue')
  },
  {
    path: '/profile',
    component: () => import(
      /* webpackChunkName: "profile" */
      /* webpackPreload: true */        // é¢„åŠ è½½æ ‡è®°
      './views/Profile.vue'
    )
  }
]
```

**ğŸ”„ é¢„åŠ è½½æ—¶æœºé€‰æ‹©**ï¼š

```javascript
// 1. é¼ æ ‡æ‚¬åœæ—¶é¢„åŠ è½½
<template>
  <router-link 
    to="/profile" 
    @mouseenter="preloadProfile"
  >
    ä¸ªäººä¸­å¿ƒ
  </router-link>
</template>

<script>
export default {
  methods: {
    preloadProfile() {
      // é¼ æ ‡æ‚¬åœæ—¶å¼€å§‹é¢„åŠ è½½
      import('./views/Profile.vue')
    }
  }
}
</script>

// 2. é¡µé¢ç©ºé—²æ—¶é¢„åŠ è½½
mounted() {
  // é¡µé¢åŠ è½½å®Œæˆåï¼Œåˆ©ç”¨ç©ºé—²æ—¶é—´é¢„åŠ è½½å…¶ä»–é¡µé¢
  requestIdleCallback(() => {
    import('./views/About.vue')
    import('./views/Contact.vue')
  })
}
```

### 4.3 æ™ºèƒ½é¢„åŠ è½½ç­–ç•¥


```javascript
// composables/useSmartPreload.js
export function useSmartPreload() {
  const preloadedComponents = new Set()
  
  // æ ¹æ®ç”¨æˆ·è¡Œä¸ºæ™ºèƒ½é¢„åŠ è½½
  function smartPreload(componentPath, priority = 'low') {
    if (preloadedComponents.has(componentPath)) {
      return // å·²ç»é¢„åŠ è½½è¿‡äº†
    }
    
    // æ£€æŸ¥ç½‘ç»œçŠ¶å†µ
    if (navigator.connection && navigator.connection.effectiveType === '2g') {
      return // ç½‘ç»œè¾ƒæ…¢ï¼Œä¸é¢„åŠ è½½
    }
    
    // æ£€æŸ¥è®¾å¤‡æ€§èƒ½
    if (navigator.hardwareConcurrency < 4) {
      return // è®¾å¤‡æ€§èƒ½è¾ƒå·®ï¼Œä¸é¢„åŠ è½½
    }
    
    // æ‰§è¡Œé¢„åŠ è½½
    import(componentPath).then(() => {
      preloadedComponents.add(componentPath)
      console.log(`âœ… é¢„åŠ è½½å®Œæˆ: ${componentPath}`)
    })
  }
  
  return { smartPreload }
}
```

---

## 5. ğŸ› ï¸ å®æˆ˜åº”ç”¨ä¸æœ€ä½³å®è·µ


### 5.1 æ¸è¿›å¼åŠ è½½ç­–ç•¥


**å®ç°æ€è·¯**ï¼šä¼˜å…ˆåŠ è½½æ ¸å¿ƒåŠŸèƒ½ï¼Œå…¶ä»–åŠŸèƒ½æŒ‰é‡è¦æ€§é€æ­¥åŠ è½½ã€‚

```javascript
// main.js - æ¸è¿›å¼åŠ è½½ç¤ºä¾‹
async function initApp() {
  // ç¬¬1æ­¥ï¼šç«‹å³åŠ è½½æ ¸å¿ƒåŠŸèƒ½
  const { createApp } = await import('vue')
  const { createRouter, createWebHistory } = await import('vue-router')
  
  // ç¬¬2æ­¥ï¼šåŠ è½½åŸºç¡€è·¯ç”±ï¼ˆé¦–å±ç›¸å…³ï¼‰
  const routes = [
    {
      path: '/',
      component: () => import('./views/Home.vue')
    }
  ]
  
  const app = createApp()
  const router = createRouter({
    history: createWebHistory(),
    routes
  })
  
  app.use(router)
  app.mount('#app')
  
  // ç¬¬3æ­¥ï¼šé¡µé¢åŠ è½½å®Œæˆåï¼Œé¢„åŠ è½½å…¶ä»–åŠŸèƒ½
  router.isReady().then(() => {
    // é¢„åŠ è½½æ¬¡è¦é¡µé¢
    setTimeout(() => {
      import('./views/About.vue')
      import('./views/Contact.vue')
    }, 2000)
    
    // é¢„åŠ è½½é«˜çº§åŠŸèƒ½ï¼ˆæ›´ä½ä¼˜å…ˆçº§ï¼‰
    setTimeout(() => {
      import('./components/AdvancedChart.vue')
      import('./utils/reportingTools.js')
    }, 5000)
  })
}

initApp()
```

### 5.2 æ€§èƒ½ç›‘æ§ä¸ä¼˜åŒ–


```javascript
// utils/performanceMonitor.js
export class PerformanceMonitor {
  constructor() {
    this.loadTimes = new Map()
  }
  
  // è®°å½•ç»„ä»¶åŠ è½½æ—¶é—´
  recordLoadTime(componentName, startTime) {
    const loadTime = performance.now() - startTime
    this.loadTimes.set(componentName, loadTime)
    
    // å¦‚æœåŠ è½½æ—¶é—´è¿‡é•¿ï¼Œç»™å‡ºæç¤º
    if (loadTime > 1000) {
      console.warn(`âš ï¸ ${componentName} åŠ è½½æ—¶é—´è¿‡é•¿: ${loadTime.toFixed(2)}ms`)
    }
  }
  
  // è·å–åŠ è½½æŠ¥å‘Š
  getReport() {
    const report = Array.from(this.loadTimes.entries())
      .map(([name, time]) => ({ name, time: time.toFixed(2) }))
      .sort((a, b) => b.time - a.time)
    
    console.table(report)
    return report
  }
}

// ä½¿ç”¨ç¤ºä¾‹
const monitor = new PerformanceMonitor()

async function loadComponent(path, name) {
  const startTime = performance.now()
  
  try {
    const component = await import(path)
    monitor.recordLoadTime(name, startTime)
    return component
  } catch (error) {
    console.error(`âŒ ${name} åŠ è½½å¤±è´¥:`, error)
    throw error
  }
}
```

### 5.3 ç”¨æˆ·ä½“éªŒä¼˜åŒ–


```vue
<!-- components/LazyWrapper.vue -->
<template>
  <div class="lazy-wrapper">
    <!-- åŠ è½½çŠ¶æ€ -->
    <div v-if="loading" class="loading-placeholder">
      <div class="skeleton">
        <div class="skeleton-line"></div>
        <div class="skeleton-line"></div>
        <div class="skeleton-line short"></div>
      </div>
    </div>
    
    <!-- é”™è¯¯çŠ¶æ€ -->
    <div v-else-if="error" class="error-placeholder">
      <p>ğŸ˜” ç»„ä»¶åŠ è½½å¤±è´¥</p>
      <button @click="retry" class="retry-btn">é‡è¯•</button>
    </div>
    
    <!-- å®é™…ç»„ä»¶ -->
    <component v-else :is="component" v-bind="$attrs" />
  </div>
</template>

<script>
export default {
  props: {
    componentPath: {
      type: String,
      required: true
    }
  },
  
  data() {
    return {
      component: null,
      loading: false,
      error: null
    }
  },
  
  async mounted() {
    await this.loadComponent()
  },
  
  methods: {
    async loadComponent() {
      this.loading = true
      this.error = null
      
      try {
        const module = await import(this.componentPath)
        this.component = module.default
      } catch (err) {
        this.error = err
      } finally {
        this.loading = false
      }
    },
    
    retry() {
      this.loadComponent()
    }
  }
}
</script>

<style scoped>
.loading-placeholder {
  padding: 20px;
}

.skeleton {
  animation: pulse 1.5s ease-in-out infinite;
}

.skeleton-line {
  height: 20px;
  background: #f0f0f0;
  border-radius: 4px;
  margin-bottom: 10px;
}

.skeleton-line.short {
  width: 60%;
}

@keyframes pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.5; }
}

.error-placeholder {
  text-align: center;
  padding: 40px;
  color: #666;
}

.retry-btn {
  background: #007bff;
  color: white;
  border: none;
  padding: 8px 16px;
  border-radius: 4px;
  cursor: pointer;
}
</style>
```

---

## 6. ğŸ“‹ æ ¸å¿ƒè¦ç‚¹æ€»ç»“


### 6.1 å¿…é¡»æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ


```
ğŸ”¸ ä»£ç åˆ†å‰²ï¼šæŠŠå¤§æ–‡ä»¶æ‹†åˆ†æˆå°æ–‡ä»¶ï¼ŒæŒ‰éœ€åŠ è½½ï¼Œæå‡é¦–å±æ€§èƒ½
ğŸ”¸ æ‡’åŠ è½½ï¼šç”¨åˆ°æ—¶æ‰åŠ è½½ï¼Œå‡å°‘åˆå§‹åŠ è½½æ—¶é—´å’Œå†…å­˜å ç”¨  
ğŸ”¸ Tree Shakingï¼šç§»é™¤æœªä½¿ç”¨çš„ä»£ç ï¼Œå‡å°æœ€ç»ˆåŒ…ä½“ç§¯
ğŸ”¸ é¢„åŠ è½½ï¼šæå‰ä¸‹è½½å¯èƒ½éœ€è¦çš„èµ„æºï¼Œä¼˜åŒ–ç”¨æˆ·ä½“éªŒ
ğŸ”¸ æ¸è¿›å¼åŠ è½½ï¼šæŒ‰ä¼˜å…ˆçº§åˆ†æ‰¹åŠ è½½ï¼Œæ ¸å¿ƒåŠŸèƒ½ä¼˜å…ˆ
```

### 6.2 å…³é”®ç†è§£è¦ç‚¹


**ğŸ”¹ ä½•æ—¶ä½¿ç”¨ä»£ç åˆ†å‰²**ï¼š
```
âœ… é€‚åˆåˆ†å‰²çš„åœºæ™¯ï¼š
- è·¯ç”±é¡µé¢ï¼ˆç”¨æˆ·ä¸ä¸€å®šè®¿é—®æ‰€æœ‰é¡µé¢ï¼‰
- åŠŸèƒ½ç»„ä»¶ï¼ˆå¼¹çª—ã€ç¼–è¾‘å™¨ç­‰é‡é‡çº§ç»„ä»¶ï¼‰
- ç¬¬ä¸‰æ–¹åº“ï¼ˆå›¾è¡¨ã€å¯Œæ–‡æœ¬ç­‰å¤§å‹åº“ï¼‰
- å·¥å…·å‡½æ•°ï¼ˆä¸æ˜¯æ¯ä¸ªé¡µé¢éƒ½éœ€è¦ï¼‰

âŒ ä¸é€‚åˆåˆ†å‰²çš„åœºæ™¯ï¼š
- æ ¸å¿ƒç»„ä»¶ï¼ˆHeaderã€Footerç­‰å¿…éœ€ç»„ä»¶ï¼‰
- å°ä½“ç§¯æ¨¡å—ï¼ˆåˆ†å‰²å¼€é”€å¤§äºæ”¶ç›Šï¼‰
- é¢‘ç¹ä½¿ç”¨çš„å·¥å…·å‡½æ•°ï¼ˆæ¯æ¬¡åŠ¨æ€åŠ è½½åè€Œæ…¢ï¼‰
```

**ğŸ”¹ åŠ è½½ç­–ç•¥é€‰æ‹©**ï¼š
```
ç«‹å³åŠ è½½ï¼šæ ¸å¿ƒåŠŸèƒ½ï¼Œç”¨æˆ·å¿…ç„¶ä¼šç”¨åˆ°
æ‡’åŠ è½½ï¼šæ¬¡è¦åŠŸèƒ½ï¼ŒæŒ‰éœ€ä½¿ç”¨
é¢„åŠ è½½ï¼šé‡è¦åŠŸèƒ½ï¼Œç”¨æˆ·å¾ˆå¯èƒ½ä¼šç”¨åˆ°
æ™ºèƒ½åŠ è½½ï¼šæ ¹æ®ç”¨æˆ·è¡Œä¸ºå’Œè®¾å¤‡æ€§èƒ½åŠ¨æ€å†³ç­–
```

### 6.3 å®é™…åº”ç”¨ä»·å€¼


**ğŸ“Š æ€§èƒ½æå‡æ•ˆæœ**ï¼š
- ğŸš€ **é¦–å±åŠ è½½**ï¼šæå‡50-80%çš„åŠ è½½é€Ÿåº¦
- ğŸ’¾ **å†…å­˜å ç”¨**ï¼šå‡å°‘30-60%çš„å†…å­˜ä½¿ç”¨
- ğŸ“± **ç§»åŠ¨ç«¯ä½“éªŒ**ï¼šæ˜¾è‘—æå‡å¼±ç½‘ç¯å¢ƒä¸‹çš„ä½¿ç”¨ä½“éªŒ
- ğŸ”„ **ç¼“å­˜æ•ˆç‡**ï¼šåˆç†åˆ†å‰²æé«˜ç¼“å­˜å‘½ä¸­ç‡

**ğŸ¯ æœ€ä½³å®è·µåŸåˆ™**ï¼š
- **ç”¨æˆ·ä½“éªŒä¼˜å…ˆ**ï¼šæ ¸å¿ƒåŠŸèƒ½ç«‹å³å¯ç”¨ï¼Œæ¬¡è¦åŠŸèƒ½æŒ‰éœ€åŠ è½½
- **æ€§èƒ½ä¸ä½“éªŒå¹³è¡¡**ï¼šé¿å…è¿‡åº¦åˆ†å‰²é€ æˆç½‘ç»œè¯·æ±‚è¿‡å¤š
- **ç›‘æ§ä¸ä¼˜åŒ–**ï¼šæŒç»­ç›‘æ§åŠ è½½æ€§èƒ½ï¼ŒåŠæ—¶è°ƒæ•´ç­–ç•¥
- **æ¸è¿›å¢å¼º**ï¼šä»åŸºç¡€åŠŸèƒ½å¼€å§‹ï¼Œé€æ­¥åŠ è½½é«˜çº§åŠŸèƒ½

**æ ¸å¿ƒè®°å¿†**ï¼š
- ä»£ç åˆ†å‰²ä¼¼æ‹†åŒ…ï¼Œç”¨æ—¶å†æ‹¿ä¸å¿…æ…Œ
- æ‡’åŠ è½½æŠ€å·§è¦æŒæ¡ï¼Œé¦–å±æ€§èƒ½å¤§æå‡  
- Tree Shakingæ‘‡æ— ç”¨ï¼ŒåŒ…ä½“ç˜¦èº«è§å¥‡æ•ˆ
- é¢„åŠ è½½ç­–ç•¥éœ€æ™ºèƒ½ï¼Œç”¨æˆ·ä½“éªŒæœ€å…³é”®